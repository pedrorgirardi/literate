var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(sa,F,ob,G){var y=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;ob.exports=function(){try{if(!Object.assign)return!1;var v=new String("abc");v[5]="de";if("5"===Object.getOwnPropertyNames(v)[0])return!1;var r={};for(v=0;10>v;v++)r["_"+String.fromCharCode(v)]=v;if("0123456789"!==Object.getOwnPropertyNames(r).map(function(k){return r[k]}).join(""))return!1;var h={};"abcdefghijklmnopqrst".split("").forEach(function(k){h[k]=
k});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},h)).join("")?!1:!0}catch(k){return!1}}()?Object.assign:function(v,r){if(null===v||void 0===v)throw new TypeError("Object.assign cannot be called with null or undefined");var h=Object(v);for(var k,f=1;f<arguments.length;f++){var e=Object(arguments[f]);for(var d in e)p.call(e,d)&&(h[d]=e[d]);if(y){k=y(e);for(var a=0;a<k.length;a++)n.call(e,k[a])&&(h[k[a]]=e[k[a]])}}return h}};
shadow$provide[1]=function(sa,F,ob,G){function y(P){if(null===P||"object"!==typeof P)return null;P=M&&P[M]||P["@@iterator"];return"function"===typeof P?P:null}function p(P){for(var w="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+P,B=1;B<arguments.length;B++)w+="\x26args[]\x3d"+encodeURIComponent(arguments[B]);return"Minified React error #"+P+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(P,w,B){this.props=
P;this.context=w;this.refs=Z;this.updater=B||R}function v(){}function r(P,w,B){this.props=P;this.context=w;this.refs=Z;this.updater=B||R}function h(P,w,B){var K,U={},ka=null,da=null;if(null!=w)for(K in void 0!==w.ref&&(da=w.ref),void 0!==w.key&&(ka=""+w.key),w)ba.call(w,K)&&!aa.hasOwnProperty(K)&&(U[K]=w[K]);var la=arguments.length-2;if(1===la)U.children=B;else if(1<la){for(var wa=Array(la),Ua=0;Ua<la;Ua++)wa[Ua]=arguments[Ua+2];U.children=wa}if(P&&P.defaultProps)for(K in la=P.defaultProps,la)void 0===
U[K]&&(U[K]=la[K]);return{$$typeof:u,type:P,key:ka,ref:da,props:U,_owner:T.current}}function k(P,w){return{$$typeof:u,type:P.type,key:w,ref:P.ref,props:P.props,_owner:P._owner}}function f(P){return"object"===typeof P&&null!==P&&P.$$typeof===u}function e(P){var w={"\x3d":"\x3d0",":":"\x3d2"};return"$"+P.replace(/[=:]/g,function(B){return w[B]})}function d(P,w){return"object"===typeof P&&null!==P&&null!=P.key?e(""+P.key):w.toString(36)}function a(P,w,B,K,U){var ka=typeof P;if("undefined"===ka||"boolean"===
ka)P=null;var da=!1;if(null===P)da=!0;else switch(ka){case "string":case "number":da=!0;break;case "object":switch(P.$$typeof){case u:case C:da=!0}}if(da)return da=P,U=U(da),P=""===K?"."+d(da,0):K,Array.isArray(U)?(B="",null!=P&&(B=P.replace(W,"$\x26/")+"/"),a(U,w,B,"",function(Ua){return Ua})):null!=U&&(f(U)&&(U=k(U,B+(!U.key||da&&da.key===U.key?"":(""+U.key).replace(W,"$\x26/")+"/")+P)),w.push(U)),1;da=0;K=""===K?".":K+":";if(Array.isArray(P))for(var la=0;la<P.length;la++){ka=P[la];var wa=K+d(ka,
la);da+=a(ka,w,B,wa,U)}else if(wa=y(P),"function"===typeof wa)for(P=wa.call(P),la=0;!(ka=P.next()).done;)ka=ka.value,wa=K+d(ka,la++),da+=a(ka,w,B,wa,U);else if("object"===ka)throw w=""+P,Error(p(31,"[object Object]"===w?"object with keys {"+Object.keys(P).join(", ")+"}":w));return da}function c(P,w,B){if(null==P)return P;var K=[],U=0;a(P,K,"","",function(ka){return w.call(B,ka,U++)});return K}function b(P){if(-1===P._status){var w=P._result;w=w();P._status=0;P._result=w;w.then(function(B){0===P._status&&
(B=B.default,P._status=1,P._result=B)},function(B){0===P._status&&(P._status=2,P._result=B)})}if(1===P._status)return P._result;throw P._result;}function m(){var P=X.current;if(null===P)throw Error(p(321));return P}var z=F(0),u=60103,C=60106;G.Fragment=60107;G.StrictMode=60108;G.Profiler=60114;var J=60109,A=60110,x=60112;G.Suspense=60113;var q=60115,H=60116;"function"===typeof Symbol&&Symbol.for&&(sa=Symbol.for,u=sa("react.element"),C=sa("react.portal"),G.Fragment=sa("react.fragment"),G.StrictMode=
sa("react.strict_mode"),G.Profiler=sa("react.profiler"),J=sa("react.provider"),A=sa("react.context"),x=sa("react.forward_ref"),G.Suspense=sa("react.suspense"),q=sa("react.memo"),H=sa("react.lazy"));var M="function"===typeof Symbol&&Symbol.iterator,R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z={};n.prototype.isReactComponent={};n.prototype.setState=function(P,w){if("object"!==typeof P&&"function"!==typeof P&&null!=
P)throw Error(p(85));this.updater.enqueueSetState(this,P,w,"setState")};n.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};v.prototype=n.prototype;sa=r.prototype=new v;sa.constructor=r;z(sa,n.prototype);sa.isPureReactComponent=!0;var T={current:null},ba=Object.prototype.hasOwnProperty,aa={key:!0,ref:!0,__self:!0,__source:!0},W=/\/+/g,X={current:null};sa={ReactCurrentDispatcher:X,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},
assign:z};G.Children={map:c,forEach:function(P,w,B){c(P,function(){w.apply(this,arguments)},B)},count:function(P){var w=0;c(P,function(){w++});return w},toArray:function(P){return c(P,function(w){return w})||[]},only:function(P){if(!f(P))throw Error(p(143));return P}};G.Component=n;G.PureComponent=r;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sa;G.cloneElement=function(P,w,B){if(null===P||void 0===P)throw Error(p(267,P));var K=z({},P.props),U=P.key,ka=P.ref,da=P._owner;if(null!=w){void 0!==
w.ref&&(ka=w.ref,da=T.current);void 0!==w.key&&(U=""+w.key);if(P.type&&P.type.defaultProps)var la=P.type.defaultProps;for(wa in w)ba.call(w,wa)&&!aa.hasOwnProperty(wa)&&(K[wa]=void 0===w[wa]&&void 0!==la?la[wa]:w[wa])}var wa=arguments.length-2;if(1===wa)K.children=B;else if(1<wa){la=Array(wa);for(var Ua=0;Ua<wa;Ua++)la[Ua]=arguments[Ua+2];K.children=la}return{$$typeof:u,type:P.type,key:U,ref:ka,props:K,_owner:da}};G.createContext=function(P,w){void 0===w&&(w=null);P={$$typeof:A,_calculateChangedBits:w,
_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null};P.Provider={$$typeof:J,_context:P};return P.Consumer=P};G.createElement=h;G.createFactory=function(P){var w=h.bind(null,P);w.type=P;return w};G.createRef=function(){return{current:null}};G.forwardRef=function(P){return{$$typeof:x,render:P}};G.isValidElement=f;G.lazy=function(P){return{$$typeof:H,_payload:{_status:-1,_result:P},_init:b}};G.memo=function(P,w){return{$$typeof:q,type:P,compare:void 0===w?null:w}};G.useCallback=
function(P,w){return m().useCallback(P,w)};G.useContext=function(P,w){return m().useContext(P,w)};G.useDebugValue=function(){};G.useEffect=function(P,w){return m().useEffect(P,w)};G.useImperativeHandle=function(P,w,B){return m().useImperativeHandle(P,w,B)};G.useLayoutEffect=function(P,w){return m().useLayoutEffect(P,w)};G.useMemo=function(P,w){return m().useMemo(P,w)};G.useReducer=function(P,w,B){return m().useReducer(P,w,B)};G.useRef=function(P){return m().useRef(P)};G.useState=function(P){return m().useState(P)};
G.version="17.0.2"};
shadow$provide[3]=function(sa,F,ob,G){ob.exports=F(1)};
shadow$provide[4]=function(sa,F,ob,G){function y(B,K){var U=B.length;B.push(K);a:for(;;){var ka=U-1>>>1,da=B[ka];if(void 0!==da&&0<v(da,K))B[ka]=K,B[U]=da,U=ka;else break a}}function p(B){B=B[0];return void 0===B?null:B}function n(B){var K=B[0];if(void 0!==K){var U=B.pop();if(U!==K){B[0]=U;var ka=0,da=B.length;a:for(;ka<da;){var la=2*(ka+1)-1,wa=B[la],Ua=la+1,hb=B[Ua];if(void 0!==wa&&0>v(wa,U))void 0!==hb&&0>v(hb,wa)?(B[ka]=hb,B[Ua]=U,ka=Ua):(B[ka]=wa,B[la]=U,ka=la);else if(void 0!==hb&&0>v(hb,U))B[ka]=
hb,B[Ua]=U,ka=Ua;else break a}}return K}return null}function v(B,K){var U=B.sortIndex-K.sortIndex;return 0!==U?U:B.id-K.id}function r(B){for(var K=p(T);null!==K;){if(null===K.callback)n(T);else if(K.startTime<=B)n(T),K.sortIndex=K.expirationTime,y(Z,K);else break;K=p(T)}}function h(B){w=!1;r(B);if(!P)if(null!==p(Z))P=!0,m(k);else{var K=p(T);null!==K&&z(h,K.startTime-B)}}function k(B,K){P=!1;w&&(w=!1,u());X=!0;var U=W;try{r(K);for(aa=p(Z);null!==aa&&(!(aa.expirationTime>K)||B&&!G.unstable_shouldYield());){var ka=
aa.callback;if("function"===typeof ka){aa.callback=null;W=aa.priorityLevel;var da=ka(aa.expirationTime<=K);K=G.unstable_now();"function"===typeof da?aa.callback=da:aa===p(Z)&&n(Z);r(K)}else n(Z);aa=p(Z)}if(null!==aa)var la=!0;else{var wa=p(T);null!==wa&&z(h,wa.startTime-K);la=!1}return la}finally{aa=null,W=U,X=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var f=performance;G.unstable_now=function(){return f.now()}}else{var e=Date,d=e.now();G.unstable_now=function(){return e.now()-
d}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,c=null,b=function(){if(null!==a)try{var B=G.unstable_now();a(!0,B);a=null}catch(K){throw setTimeout(b,0),K;}};var m=function(B){null!==a?setTimeout(m,0,B):(a=B,setTimeout(b,0))};var z=function(B,K){c=setTimeout(B,K)};var u=function(){clearTimeout(c)};G.unstable_shouldYield=function(){return!1};sa=G.unstable_forceFrameRate=function(){}}else{var C=window.setTimeout,J=window.clearTimeout;"undefined"!==typeof console&&(sa=
window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof sa&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var A=!1,x=null,q=-1,H=5,M=0;G.unstable_shouldYield=function(){return G.unstable_now()>=
M};sa=function(){};G.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<B?Math.floor(1E3/B):5};F=new MessageChannel;var R=F.port2;F.port1.onmessage=function(){if(null!==x){var B=G.unstable_now();M=B+H;try{x(!0,B)?R.postMessage(null):(A=!1,x=null)}catch(K){throw R.postMessage(null),K;}}else A=!1};m=function(B){x=B;A||(A=!0,R.postMessage(null))};z=function(B,K){q=C(function(){B(G.unstable_now())},
K)};u=function(){J(q);q=-1}}var Z=[],T=[],ba=1,aa=null,W=3,X=!1,P=!1,w=!1;G.unstable_IdlePriority=5;G.unstable_ImmediatePriority=1;G.unstable_LowPriority=4;G.unstable_NormalPriority=3;G.unstable_Profiling=null;G.unstable_UserBlockingPriority=2;G.unstable_cancelCallback=function(B){B.callback=null};G.unstable_continueExecution=function(){P||X||(P=!0,m(k))};G.unstable_getCurrentPriorityLevel=function(){return W};G.unstable_getFirstCallbackNode=function(){return p(Z)};G.unstable_next=function(B){switch(W){case 1:case 2:case 3:var K=
3;break;default:K=W}var U=W;W=K;try{return B()}finally{W=U}};G.unstable_pauseExecution=function(){};G.unstable_requestPaint=sa;G.unstable_runWithPriority=function(B,K){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var U=W;W=B;try{return K()}finally{W=U}};G.unstable_scheduleCallback=function(B,K,U){var ka=G.unstable_now();"object"===typeof U&&null!==U?(U=U.delay,U="number"===typeof U&&0<U?ka+U:ka):U=ka;switch(B){case 1:var da=-1;break;case 2:da=250;break;case 5:da=1073741823;break;
case 4:da=1E4;break;default:da=5E3}da=U+da;B={id:ba++,callback:K,priorityLevel:B,startTime:U,expirationTime:da,sortIndex:-1};U>ka?(B.sortIndex=U,y(T,B),null===p(Z)&&B===p(T)&&(w?u():w=!0,z(h,U-ka))):(B.sortIndex=da,y(Z,B),P||X||(P=!0,m(k)));return B};G.unstable_wrapCallback=function(B){var K=W;return function(){var U=W;W=K;try{return B.apply(this,arguments)}finally{W=U}}}};
shadow$provide[6]=function(sa,F,ob,G){ob.exports=F(4)};
shadow$provide[7]=function(sa,F,ob,G){function y(D){for(var L="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+D,ca=1;ca<arguments.length;ca++)L+="\x26args[]\x3d"+encodeURIComponent(arguments[ca]);return"Minified React error #"+D+"; visit "+L+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(D,L){n(D,L);n(D+"Capture",L)}function n(D,L){hg[D]=L;for(D=0;D<L.length;D++)Bh.add(L[D])}function v(D){if(Tg.call(Yh,D))return!0;
if(Tg.call(eh,D))return!1;if(ih.test(D))return Yh[D]=!0;eh[D]=!0;return!1}function r(D,L,ca,Sa){if(null!==ca&&0===ca.type)return!1;switch(typeof L){case "function":case "symbol":return!0;case "boolean":if(Sa)return!1;if(null!==ca)return!ca.acceptsBooleans;D=D.toLowerCase().slice(0,5);return"data-"!==D&&"aria-"!==D;default:return!1}}function h(D,L,ca,Sa){if(null===L||"undefined"===typeof L||r(D,L,ca,Sa))return!0;if(Sa)return!1;if(null!==ca)switch(ca.type){case 3:return!L;case 4:return!1===L;case 5:return isNaN(L);
case 6:return isNaN(L)||1>L}return!1}function k(D,L,ca,Sa,kb,Hb,cc){this.acceptsBooleans=2===L||3===L||4===L;this.attributeName=Sa;this.attributeNamespace=kb;this.mustUseProperty=ca;this.propertyName=D;this.type=L;this.sanitizeURL=Hb;this.removeEmptyString=cc}function f(D){return D[1].toUpperCase()}function e(D,L,ca,Sa){var kb=Kg.hasOwnProperty(L)?Kg[L]:null;(null!==kb?0===kb.type:Sa?0:2<L.length&&("o"===L[0]||"O"===L[0])&&("n"===L[1]||"N"===L[1]))||(h(L,ca,kb,Sa)&&(ca=null),Sa||null===kb?v(L)&&(null===
ca?D.removeAttribute(L):D.setAttribute(L,""+ca)):kb.mustUseProperty?D[kb.propertyName]=null===ca?3===kb.type?!1:"":ca:(L=kb.attributeName,Sa=kb.attributeNamespace,null===ca?D.removeAttribute(L):(kb=kb.type,ca=3===kb||4===kb&&!0===ca?"":""+ca,Sa?D.setAttributeNS(Sa,L,ca):D.setAttribute(L,ca))))}function d(D){if(null===D||"object"!==typeof D)return null;D=Jj&&D[Jj]||D["@@iterator"];return"function"===typeof D?D:null}function a(D){if(void 0===na)try{throw Error();}catch(ca){var L=ca.stack.trim().match(/\n( *(at )?)/);
na=L&&L[1]||""}return"\n"+na+D}function c(D,L){if(!D||Na)return"";Na=!0;var ca=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(L)if(L=function(){throw Error();},Object.defineProperty(L.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(L,[])}catch(cd){var Sa=cd}Reflect.construct(D,[],L)}else{try{L.call()}catch(cd){Sa=cd}D.call(L.prototype)}else{try{throw Error();}catch(cd){Sa=cd}D()}}catch(cd){if(cd&&Sa&&"string"===
typeof cd.stack){for(var kb=cd.stack.split("\n"),Hb=Sa.stack.split("\n"),cc=kb.length-1,uc=Hb.length-1;1<=cc&&0<=uc&&kb[cc]!==Hb[uc];)uc--;for(;1<=cc&&0<=uc;cc--,uc--)if(kb[cc]!==Hb[uc]){if(1!==cc||1!==uc){do if(cc--,uc--,0>uc||kb[cc]!==Hb[uc])return"\n"+kb[cc].replace(" at new "," at ");while(1<=cc&&0<=uc)}break}}}finally{Na=!1,Error.prepareStackTrace=ca}return(D=D?D.displayName||D.name:"")?a(D):""}function b(D){switch(D.tag){case 5:return a(D.type);case 16:return a("Lazy");case 13:return a("Suspense");
case 19:return a("SuspenseList");case 0:case 2:case 15:return D=c(D.type,!1),D;case 11:return D=c(D.type.render,!1),D;case 22:return D=c(D.type._render,!1),D;case 1:return D=c(D.type,!0),D;default:return""}}function m(D){if(null==D)return null;if("function"===typeof D)return D.displayName||D.name||null;if("string"===typeof D)return D;switch(D){case Ch:return"Fragment";case lg:return"Portal";case li:return"Profiler";case Hh:return"StrictMode";case oi:return"Suspense";case xi:return"SuspenseList"}if("object"===
typeof D)switch(D.$$typeof){case Cg:return(D.displayName||"Context")+".Consumer";case Yf:return(D._context.displayName||"Context")+".Provider";case rh:var L=D.render;L=L.displayName||L.name||"";return D.displayName||(""!==L?"ForwardRef("+L+")":"ForwardRef");case wh:return m(D.type);case Xi:return m(D._render);case Mi:L=D._payload;D=D._init;try{return m(D(L))}catch(ca){}}return null}function z(D){switch(typeof D){case "boolean":case "number":case "object":case "string":case "undefined":return D;default:return""}}
function u(D){var L=D.type;return(D=D.nodeName)&&"input"===D.toLowerCase()&&("checkbox"===L||"radio"===L)}function C(D){var L=u(D)?"checked":"value",ca=Object.getOwnPropertyDescriptor(D.constructor.prototype,L),Sa=""+D[L];if(!D.hasOwnProperty(L)&&"undefined"!==typeof ca&&"function"===typeof ca.get&&"function"===typeof ca.set){var kb=ca.get,Hb=ca.set;Object.defineProperty(D,L,{configurable:!0,get:function(){return kb.call(this)},set:function(cc){Sa=""+cc;Hb.call(this,cc)}});Object.defineProperty(D,
L,{enumerable:ca.enumerable});return{getValue:function(){return Sa},setValue:function(cc){Sa=""+cc},stopTracking:function(){D._valueTracker=null;delete D[L]}}}}function J(D){D._valueTracker||(D._valueTracker=C(D))}function A(D){if(!D)return!1;var L=D._valueTracker;if(!L)return!0;var ca=L.getValue(),Sa="";D&&(Sa=u(D)?D.checked?"true":"false":D.value);D=Sa;return D!==ca?(L.setValue(D),!0):!1}function x(D){D=D||("undefined"!==typeof document?document:void 0);if("undefined"===typeof D)return null;try{return D.activeElement||
D.body}catch(L){return D.body}}function q(D,L){var ca=L.checked;return nf({},L,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=ca?ca:D._wrapperState.initialChecked})}function H(D,L){var ca=null==L.defaultValue?"":L.defaultValue,Sa=null!=L.checked?L.checked:L.defaultChecked;ca=z(null!=L.value?L.value:ca);D._wrapperState={initialChecked:Sa,initialValue:ca,controlled:"checkbox"===L.type||"radio"===L.type?null!=L.checked:null!=L.value}}function M(D,L){L=L.checked;null!=L&&e(D,"checked",
L,!1)}function R(D,L){M(D,L);var ca=z(L.value),Sa=L.type;if(null!=ca)if("number"===Sa){if(0===ca&&""===D.value||D.value!=ca)D.value=""+ca}else D.value!==""+ca&&(D.value=""+ca);else if("submit"===Sa||"reset"===Sa){D.removeAttribute("value");return}L.hasOwnProperty("value")?T(D,L.type,ca):L.hasOwnProperty("defaultValue")&&T(D,L.type,z(L.defaultValue));null==L.checked&&null!=L.defaultChecked&&(D.defaultChecked=!!L.defaultChecked)}function Z(D,L,ca){if(L.hasOwnProperty("value")||L.hasOwnProperty("defaultValue")){var Sa=
L.type;if(!("submit"!==Sa&&"reset"!==Sa||void 0!==L.value&&null!==L.value))return;L=""+D._wrapperState.initialValue;ca||L===D.value||(D.value=L);D.defaultValue=L}ca=D.name;""!==ca&&(D.name="");D.defaultChecked=!!D._wrapperState.initialChecked;""!==ca&&(D.name=ca)}function T(D,L,ca){if("number"!==L||x(D.ownerDocument)!==D)null==ca?D.defaultValue=""+D._wrapperState.initialValue:D.defaultValue!==""+ca&&(D.defaultValue=""+ca)}function ba(D){var L="";Lf.Children.forEach(D,function(ca){null!=ca&&(L+=ca)});
return L}function aa(D,L){D=nf({children:void 0},L);if(L=ba(L.children))D.children=L;return D}function W(D,L,ca,Sa){D=D.options;if(L){L={};for(var kb=0;kb<ca.length;kb++)L["$"+ca[kb]]=!0;for(ca=0;ca<D.length;ca++)kb=L.hasOwnProperty("$"+D[ca].value),D[ca].selected!==kb&&(D[ca].selected=kb),kb&&Sa&&(D[ca].defaultSelected=!0)}else{ca=""+z(ca);L=null;for(kb=0;kb<D.length;kb++){if(D[kb].value===ca){D[kb].selected=!0;Sa&&(D[kb].defaultSelected=!0);return}null!==L||D[kb].disabled||(L=D[kb])}null!==L&&(L.selected=
!0)}}function X(D,L){if(null!=L.dangerouslySetInnerHTML)throw Error(y(91));return nf({},L,{value:void 0,defaultValue:void 0,children:""+D._wrapperState.initialValue})}function P(D,L){var ca=L.value;if(null==ca){ca=L.children;L=L.defaultValue;if(null!=ca){if(null!=L)throw Error(y(92));if(Array.isArray(ca)){if(!(1>=ca.length))throw Error(y(93));ca=ca[0]}L=ca}null==L&&(L="");ca=L}D._wrapperState={initialValue:z(ca)}}function w(D,L){var ca=z(L.value),Sa=z(L.defaultValue);null!=ca&&(ca=""+ca,ca!==D.value&&
(D.value=ca),null==L.defaultValue&&D.defaultValue!==ca&&(D.defaultValue=ca));null!=Sa&&(D.defaultValue=""+Sa)}function B(D){var L=D.textContent;L===D._wrapperState.initialValue&&""!==L&&null!==L&&(D.value=L)}function K(D){switch(D){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function U(D,L){return null==D||"http://www.w3.org/1999/xhtml"===D?K(L):"http://www.w3.org/2000/svg"===D&&"foreignObject"===
L?"http://www.w3.org/1999/xhtml":D}function ka(D,L){if(L){var ca=D.firstChild;if(ca&&ca===D.lastChild&&3===ca.nodeType){ca.nodeValue=L;return}}D.textContent=L}function da(D,L,ca){return null==L||"boolean"===typeof L||""===L?"":ca||"number"!==typeof L||0===L||bc.hasOwnProperty(D)&&bc[D]?(""+L).trim():L+"px"}function la(D,L){D=D.style;for(var ca in L)if(L.hasOwnProperty(ca)){var Sa=0===ca.indexOf("--"),kb=da(ca,L[ca],Sa);"float"===ca&&(ca="cssFloat");Sa?D.setProperty(ca,kb):D[ca]=kb}}function wa(D,
L){if(L){if(xc[D]&&(null!=L.children||null!=L.dangerouslySetInnerHTML))throw Error(y(137,D));if(null!=L.dangerouslySetInnerHTML){if(null!=L.children)throw Error(y(60));if(!("object"===typeof L.dangerouslySetInnerHTML&&"__html"in L.dangerouslySetInnerHTML))throw Error(y(61));}if(null!=L.style&&"object"!==typeof L.style)throw Error(y(62));}}function Ua(D,L){if(-1===D.indexOf("-"))return"string"===typeof L.is;switch(D){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function hb(D){D=D.target||D.srcElement||window;D.correspondingUseElement&&(D=D.correspondingUseElement);return 3===D.nodeType?D.parentNode:D}function La(D){if(D=Zb(D)){if("function"!==typeof gd)throw Error(y(280));var L=D.stateNode;L&&(L=ce(L),gd(D.stateNode,D.type,L))}}function pa(D){Gd?Ud?Ud.push(D):Ud=[D]:Gd=D}function Da(){if(Gd){var D=Gd,L=Ud;Ud=Gd=null;La(D);if(L)for(D=0;D<L.length;D++)La(L[D])}}function Ma(D,L){return D(L)}function ua(D,L,ca,Sa,kb){return D(L,ca,Sa,kb)}function Aa(){}
function qa(){if(null!==Gd||null!==Ud)Aa(),Da()}function Ha(D,L,ca){if(Ue)return D(L,ca);Ue=!0;try{return nd(D,L,ca)}finally{Ue=!1,qa()}}function Va(D,L){var ca=D.stateNode;if(null===ca)return null;var Sa=ce(ca);if(null===Sa)return null;ca=Sa[L];a:switch(L){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Sa=!Sa.disabled)||
(D=D.type,Sa=!("button"===D||"input"===D||"select"===D||"textarea"===D));D=!Sa;break a;default:D=!1}if(D)return null;if(ca&&"function"!==typeof ca)throw Error(y(231,L,typeof ca));return ca}function eb(D,L,ca,Sa,kb,Hb,cc,uc,cd){var Jd=Array.prototype.slice.call(arguments,3);try{L.apply(ca,Jd)}catch(Ve){this.onError(Ve)}}function ta(D,L,ca,Sa,kb,Hb,cc,uc,cd){ag=!1;Pg=null;eb.apply(Nh,arguments)}function Qa(D,L,ca,Sa,kb,Hb,cc,uc,cd){ta.apply(this,arguments);if(ag){if(ag){var Jd=Pg;ag=!1;Pg=null}else throw Error(y(198));
Ke||(Ke=!0,sh=Jd)}}function oa(D){var L=D,ca=D;if(D.alternate)for(;L.return;)L=L.return;else{D=L;do L=D,0!==(L.flags&1026)&&(ca=L.return),D=L.return;while(D)}return 3===L.tag?ca:null}function Y(D){if(13===D.tag){var L=D.memoizedState;null===L&&(D=D.alternate,null!==D&&(L=D.memoizedState));if(null!==L)return L.dehydrated}return null}function ja(D){if(oa(D)!==D)throw Error(y(188));}function Ga(D){var L=D.alternate;if(!L){L=oa(D);if(null===L)throw Error(y(188));return L!==D?null:D}for(var ca=D,Sa=L;;){var kb=
ca.return;if(null===kb)break;var Hb=kb.alternate;if(null===Hb){Sa=kb.return;if(null!==Sa){ca=Sa;continue}break}if(kb.child===Hb.child){for(Hb=kb.child;Hb;){if(Hb===ca)return ja(kb),D;if(Hb===Sa)return ja(kb),L;Hb=Hb.sibling}throw Error(y(188));}if(ca.return!==Sa.return)ca=kb,Sa=Hb;else{for(var cc=!1,uc=kb.child;uc;){if(uc===ca){cc=!0;ca=kb;Sa=Hb;break}if(uc===Sa){cc=!0;Sa=kb;ca=Hb;break}uc=uc.sibling}if(!cc){for(uc=Hb.child;uc;){if(uc===ca){cc=!0;ca=Hb;Sa=kb;break}if(uc===Sa){cc=!0;Sa=Hb;ca=kb;break}uc=
uc.sibling}if(!cc)throw Error(y(189));}}if(ca.alternate!==Sa)throw Error(y(190));}if(3!==ca.tag)throw Error(y(188));return ca.stateNode.current===ca?D:L}function Wa(D){D=Ga(D);if(!D)return null;for(var L=D;;){if(5===L.tag||6===L.tag)return L;if(L.child)L.child.return=L,L=L.child;else{if(L===D)break;for(;!L.sibling;){if(!L.return||L.return===D)return null;L=L.return}L.sibling.return=L.return;L=L.sibling}}return null}function cb(D,L){for(var ca=D.alternate;null!==L;){if(L===D||L===ca)return!0;L=L.return}return!1}
function nb(D,L,ca,Sa,kb){return{blockedOn:D,domEventName:L,eventSystemFlags:ca|16,nativeEvent:kb,targetContainers:[Sa]}}function pb(D,L){switch(D){case "focusin":case "focusout":yg=null;break;case "dragenter":case "dragleave":Zh=null;break;case "mouseover":case "mouseout":Le=null;break;case "pointerover":case "pointerout":ne.delete(L.pointerId);break;case "gotpointercapture":case "lostpointercapture":Pe.delete(L.pointerId)}}function Fb(D,L,ca,Sa,kb,Hb){if(null===D||D.nativeEvent!==Hb)return D=nb(L,
ca,Sa,kb,Hb),null!==L&&(L=Zb(L),null!==L&&Mk(L)),D;D.eventSystemFlags|=Sa;L=D.targetContainers;null!==kb&&-1===L.indexOf(kb)&&L.push(kb);return D}function nc(D,L,ca,Sa,kb){switch(L){case "focusin":return yg=Fb(yg,D,L,ca,Sa,kb),!0;case "dragenter":return Zh=Fb(Zh,D,L,ca,Sa,kb),!0;case "mouseover":return Le=Fb(Le,D,L,ca,Sa,kb),!0;case "pointerover":var Hb=kb.pointerId;ne.set(Hb,Fb(ne.get(Hb)||null,D,L,ca,Sa,kb));return!0;case "gotpointercapture":return Hb=kb.pointerId,Pe.set(Hb,Fb(Pe.get(Hb)||null,
D,L,ca,Sa,kb)),!0}return!1}function Lc(D){var L=Bb(D.target);if(null!==L){var ca=oa(L);if(null!==ca)if(L=ca.tag,13===L){if(L=Y(ca),null!==L){D.blockedOn=L;vl(D.lanePriority,function(){xf.unstable_runWithPriority(D.priority,function(){wl(ca)})});return}}else if(3===L&&ca.stateNode.hydrate){D.blockedOn=3===ca.tag?ca.stateNode.containerInfo:null;return}}D.blockedOn=null}function Ac(D){if(null!==D.blockedOn)return!1;for(var L=D.targetContainers;0<L.length;){var ca=Ub(D.domEventName,D.eventSystemFlags,
L[0],D.nativeEvent);if(null!==ca)return L=Zb(ca),null!==L&&Mk(L),D.blockedOn=ca,!1;L.shift()}return!0}function yc(D,L,ca){Ac(D)&&ca.delete(L)}function tc(){for(Qg=!1;0<gf.length;){var D=gf[0];if(null!==D.blockedOn){D=Zb(D.blockedOn);null!==D&&dl(D);break}for(var L=D.targetContainers;0<L.length;){var ca=Ub(D.domEventName,D.eventSystemFlags,L[0],D.nativeEvent);if(null!==ca){D.blockedOn=ca;break}L.shift()}null===D.blockedOn&&gf.shift()}null!==yg&&Ac(yg)&&(yg=null);null!==Zh&&Ac(Zh)&&(Zh=null);null!==
Le&&Ac(Le)&&(Le=null);ne.forEach(yc);Pe.forEach(yc)}function hd(D,L){D.blockedOn===L&&(D.blockedOn=null,Qg||(Qg=!0,xf.unstable_scheduleCallback(xf.unstable_NormalPriority,tc)))}function Mb(D){function L(kb){return hd(kb,D)}if(0<gf.length){hd(gf[0],D);for(var ca=1;ca<gf.length;ca++){var Sa=gf[ca];Sa.blockedOn===D&&(Sa.blockedOn=null)}}null!==yg&&hd(yg,D);null!==Zh&&hd(Zh,D);null!==Le&&hd(Le,D);ne.forEach(L);Pe.forEach(L);for(ca=0;ca<oe.length;ca++)Sa=oe[ca],Sa.blockedOn===D&&(Sa.blockedOn=null);for(;0<
oe.length&&(ca=oe[0],null===ca.blockedOn);)Lc(ca),null===ca.blockedOn&&oe.shift()}function Ab(D,L){var ca={};ca[D.toLowerCase()]=L.toLowerCase();ca["Webkit"+D]="webkit"+L;ca["Moz"+D]="moz"+L;return ca}function ec(D){if(bg[D])return bg[D];if(!Ug[D])return D;var L=Ug[D],ca;for(ca in L)if(L.hasOwnProperty(ca)&&ca in lh)return bg[D]=L[ca];return D}function ac(D,L){for(var ca=0;ca<D.length;ca+=2){var Sa=D[ca],kb=D[ca+1];kb="on"+(kb[0].toUpperCase()+kb.slice(1));Ei.set(Sa,L);Yj.set(Sa,kb);p(kb,[Sa])}}function lc(D){if(0!==
(1&D))return zg=15,1;if(0!==(2&D))return zg=14,2;if(0!==(4&D))return zg=13,4;var L=24&D;if(0!==L)return zg=12,L;if(0!==(D&32))return zg=11,32;L=192&D;if(0!==L)return zg=10,L;if(0!==(D&256))return zg=9,256;L=3584&D;if(0!==L)return zg=8,L;if(0!==(D&4096))return zg=7,4096;L=4186112&D;if(0!==L)return zg=6,L;L=62914560&D;if(0!==L)return zg=5,L;if(D&67108864)return zg=4,67108864;if(0!==(D&134217728))return zg=3,134217728;L=805306368&D;if(0!==L)return zg=2,L;if(0!==(1073741824&D))return zg=1,1073741824;
zg=8;return D}function Ic(D){switch(D){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function Ec(D){switch(D){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,D));}}function Rc(D,L){var ca=D.pendingLanes;if(0===ca)return zg=0;var Sa=0,kb=0,Hb=D.expiredLanes,cc=D.suspendedLanes,uc=D.pingedLanes;if(0!==Hb)Sa=
Hb,kb=zg=15;else if(Hb=ca&134217727,0!==Hb){var cd=Hb&~cc;0!==cd?(Sa=lc(cd),kb=zg):(uc&=Hb,0!==uc&&(Sa=lc(uc),kb=zg))}else Hb=ca&~cc,0!==Hb?(Sa=lc(Hb),kb=zg):0!==uc&&(Sa=lc(uc),kb=zg);if(0===Sa)return 0;Sa=31-Qh(Sa);Sa=ca&((0>Sa?0:1<<Sa)<<1)-1;if(0!==L&&L!==Sa&&0===(L&cc)){lc(L);if(kb<=zg)return L;zg=kb}L=D.entangledLanes;if(0!==L)for(D=D.entanglements,L&=Sa;0<L;)ca=31-Qh(L),kb=1<<ca,Sa|=D[ca],L&=~kb;return Sa}function id(D){D=D.pendingLanes&-1073741825;return 0!==D?D:D&1073741824?1073741824:0}function Td(D,
L){switch(D){case 15:return 1;case 14:return 2;case 12:return D=Ea(24&~L),0===D?Td(10,L):D;case 10:return D=Ea(192&~L),0===D?Td(8,L):D;case 8:return D=Ea(3584&~L),0===D&&(D=Ea(4186112&~L),0===D&&(D=512)),D;case 2:return L=Ea(805306368&~L),0===L&&(L=268435456),L}throw Error(y(358,D));}function Ea(D){return D&-D}function za(D){for(var L=[],ca=0;31>ca;ca++)L.push(D);return L}function Fa(D,L,ca){D.pendingLanes|=L;var Sa=L-1;D.suspendedLanes&=Sa;D.pingedLanes&=Sa;D=D.eventTimes;L=31-Qh(L);D[L]=ca}function bb(D){return 0===
D?32:31-(sj(D)/ok|0)|0}function lb(D,L,ca,Sa){ie||Aa();var kb=Tb,Hb=ie;ie=!0;try{ua(kb,D,L,ca,Sa)}finally{(ie=Hb)||qa()}}function zb(D,L,ca,Sa){cj(Nk,Tb.bind(null,D,L,ca,Sa))}function Tb(D,L,ca,Sa){if(Ni){var kb;if((kb=0===(L&4))&&0<gf.length&&-1<wf.indexOf(D))D=nb(null,D,L,ca,Sa),gf.push(D);else{var Hb=Ub(D,L,ca,Sa);if(null===Hb)kb&&pb(D,Sa);else{if(kb){if(-1<wf.indexOf(D)){D=nb(Hb,D,L,ca,Sa);gf.push(D);return}if(nc(Hb,D,L,ca,Sa))return;pb(D,Sa)}kf(D,L,Sa,null,ca)}}}}function Ub(D,L,ca,Sa){var kb=
hb(Sa);kb=Bb(kb);if(null!==kb){var Hb=oa(kb);if(null===Hb)kb=null;else{var cc=Hb.tag;if(13===cc){kb=Y(Hb);if(null!==kb)return kb;kb=null}else if(3===cc){if(Hb.stateNode.hydrate)return 3===Hb.tag?Hb.stateNode.containerInfo:null;kb=null}else Hb!==kb&&(kb=null)}}kf(D,L,Sa,kb,ca);return null}function $b(){if(ig)return ig;var D,L=fh,ca=L.length,Sa,kb="value"in Ih?Ih.value:Ih.textContent,Hb=kb.length;for(D=0;D<ca&&L[D]===kb[D];D++);var cc=ca-D;for(Sa=1;Sa<=cc&&L[ca-Sa]===kb[Hb-Sa];Sa++);return ig=kb.slice(D,
1<Sa?1-Sa:void 0)}function Dc(D){var L=D.keyCode;"charCode"in D?(D=D.charCode,0===D&&13===L&&(D=13)):D=L;10===D&&(D=13);return 32<=D||13===D?D:0}function dd(){return!0}function fd(){return!1}function od(D){function L(ca,Sa,kb,Hb,cc){this._reactName=ca;this._targetInst=kb;this.type=Sa;this.nativeEvent=Hb;this.target=cc;this.currentTarget=null;for(var uc in D)D.hasOwnProperty(uc)&&(ca=D[uc],this[uc]=ca?ca(Hb):Hb[uc]);this.isDefaultPrevented=(null!=Hb.defaultPrevented?Hb.defaultPrevented:!1===Hb.returnValue)?
dd:fd;this.isPropagationStopped=fd;return this}nf(L.prototype,{preventDefault:function(){this.defaultPrevented=!0;var ca=this.nativeEvent;ca&&(ca.preventDefault?ca.preventDefault():"unknown"!==typeof ca.returnValue&&(ca.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var ca=this.nativeEvent;ca&&(ca.stopPropagation?ca.stopPropagation():"unknown"!==typeof ca.cancelBubble&&(ca.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd});return L}function sd(D){var L=
this.nativeEvent;return L.getModifierState?L.getModifierState(D):(D=tj[D])?!!L[D]:!1}function Kd(){return sd}function Od(D,L){switch(D){case "keyup":return-1!==ea.indexOf(L.keyCode);case "keydown":return 229!==L.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ae(D){D=D.detail;return"object"===typeof D&&"data"in D?D.data:null}function de(D,L){switch(D){case "compositionend":return ae(L);case "keypress":if(32!==L.which)return null;gc=!0;return Qb;case "textInput":return D=
L.data,D===Qb&&gc?null:D;default:return null}}function je(D,L){if(Pc)return"compositionend"===D||!Ja&&Od(D,L)?(D=$b(),ig=fh=Ih=null,Pc=!1,D):null;switch(D){case "paste":return null;case "keypress":if(!(L.ctrlKey||L.altKey||L.metaKey)||L.ctrlKey&&L.altKey){if(L.char&&1<L.char.length)return L.char;if(L.which)return String.fromCharCode(L.which)}return null;case "compositionend":return xb&&"ko"!==L.locale?null:L.data;default:return null}}function qd(D){var L=D&&D.nodeName&&D.nodeName.toLowerCase();return"input"===
L?!!Wc[D.type]:"textarea"===L?!0:!1}function bf(D,L,ca,Sa){pa(Sa);L=qc(L,"onChange");0<L.length&&(ca=new uj("onChange","change",null,ca,Sa),D.push({event:ca,listeners:L}))}function Ye(D){Ce(D,0)}function pe(D){var L=Sc(D);if(A(L))return D}function ve(D,L){if("change"===D)return L}function Ca(){ad&&(ad.detachEvent("onpropertychange",Ya),Ld=ad=null)}function Ya(D){if("value"===D.propertyName&&pe(Ld)){var L=[];bf(L,Ld,D,hb(D));D=Ye;if(ie)D(L);else{ie=!0;try{Ma(D,L)}finally{ie=!1,qa()}}}}function tb(D,
L,ca){"focusin"===D?(Ca(),ad=L,Ld=ca,ad.attachEvent("onpropertychange",Ya)):"focusout"===D&&Ca()}function Kb(D){if("selectionchange"===D||"keyup"===D||"keydown"===D)return pe(Ld)}function dc(D,L){if("click"===D)return pe(L)}function mc(D,L){if("input"===D||"change"===D)return pe(L)}function Jc(D,L){return D===L&&(0!==D||1/D===1/L)||D!==D&&L!==L}function Gc(D,L){if(Sf(D,L))return!0;if("object"!==typeof D||null===D||"object"!==typeof L||null===L)return!1;var ca=Object.keys(D),Sa=Object.keys(L);if(ca.length!==
Sa.length)return!1;for(Sa=0;Sa<ca.length;Sa++)if(!Dg.call(L,ca[Sa])||!Sf(D[ca[Sa]],L[ca[Sa]]))return!1;return!0}function jc(D){for(;D&&D.firstChild;)D=D.firstChild;return D}function bd(D,L){var ca=jc(D);D=0;for(var Sa;ca;){if(3===ca.nodeType){Sa=D+ca.textContent.length;if(D<=L&&Sa>=L)return{node:ca,offset:L-D};D=Sa}a:{for(;ca;){if(ca.nextSibling){ca=ca.nextSibling;break a}ca=ca.parentNode}ca=void 0}ca=jc(ca)}}function md(D,L){return D&&L?D===L?!0:D&&3===D.nodeType?!1:L&&3===L.nodeType?md(D,L.parentNode):
"contains"in D?D.contains(L):D.compareDocumentPosition?!!(D.compareDocumentPosition(L)&16):!1:!1}function Ed(){for(var D=window,L=x();L instanceof D.HTMLIFrameElement;){try{var ca="string"===typeof L.contentWindow.location.href}catch(Sa){ca=!1}if(ca)D=L.contentWindow;else break;L=x(D.document)}return L}function Nd(D){var L=D&&D.nodeName&&D.nodeName.toLowerCase();return L&&("input"===L&&("text"===D.type||"search"===D.type||"tel"===D.type||"url"===D.type||"password"===D.type)||"textarea"===L||"true"===
D.contentEditable)}function Pd(D,L,ca){var Sa=ca.window===ca?ca.document:9===ca.nodeType?ca:ca.ownerDocument;mg||null==tg||tg!==x(Sa)||(Sa=tg,"selectionStart"in Sa&&Nd(Sa)?Sa={start:Sa.selectionStart,end:Sa.selectionEnd}:(Sa=(Sa.ownerDocument&&Sa.ownerDocument.defaultView||window).getSelection(),Sa={anchorNode:Sa.anchorNode,anchorOffset:Sa.anchorOffset,focusNode:Sa.focusNode,focusOffset:Sa.focusOffset}),ng&&Gc(ng,Sa)||(ng=Sa,Sa=qc(Wf,"onSelect"),0<Sa.length&&(L=new uj("onSelect","select",null,L,ca),
D.push({event:L,listeners:Sa}),L.target=tg)))}function ee(D,L,ca){var Sa=D.type||"unknown-event";D.currentTarget=ca;Qa(Sa,L,void 0,D);D.currentTarget=null}function Ce(D,L){L=0!==(L&4);for(var ca=0;ca<D.length;ca++){var Sa=D[ca],kb=Sa.event;Sa=Sa.listeners;a:{var Hb=void 0;if(L)for(var cc=Sa.length-1;0<=cc;cc--){var uc=Sa[cc],cd=uc.instance,Jd=uc.currentTarget;uc=uc.listener;if(cd!==Hb&&kb.isPropagationStopped())break a;ee(kb,uc,Jd);Hb=cd}else for(cc=0;cc<Sa.length;cc++){uc=Sa[cc];cd=uc.instance;Jd=
uc.currentTarget;uc=uc.listener;if(cd!==Hb&&kb.isPropagationStopped())break a;ee(kb,uc,Jd);Hb=cd}}}if(Ke)throw D=sh,Ke=!1,sh=null,D;}function ue(D,L){var ca=ke(L),Sa=D+"__bubble";ca.has(Sa)||(Me(L,D,2,!1),ca.add(Sa))}function Df(D){D[Oi]||(D[Oi]=!0,Bh.forEach(function(L){$h.has(L)||Be(L,!1,D,null);Be(L,!0,D,null)}))}function Be(D,L,ca,Sa){var kb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Hb=ca;"selectionchange"===D&&9!==ca.nodeType&&(Hb=ca.ownerDocument);if(null!==Sa&&!L&&$h.has(D)){if("scroll"!==
D)return;kb|=2;Hb=Sa}var cc=ke(Hb),uc=D+"__"+(L?"capture":"bubble");cc.has(uc)||(L&&(kb|=4),Me(Hb,D,kb,L),cc.add(uc))}function Me(D,L,ca,Sa){var kb=Ei.get(L);switch(void 0===kb?2:kb){case 0:kb=lb;break;case 1:kb=zb;break;default:kb=Tb}ca=kb.bind(null,L,ca,D);kb=void 0;!yf||"touchstart"!==L&&"touchmove"!==L&&"wheel"!==L||(kb=!0);Sa?void 0!==kb?D.addEventListener(L,ca,{capture:!0,passive:kb}):D.addEventListener(L,ca,!0):void 0!==kb?D.addEventListener(L,ca,{passive:kb}):D.addEventListener(L,ca,!1)}function kf(D,
L,ca,Sa,kb){var Hb=Sa;if(0===(L&1)&&0===(L&2)&&null!==Sa)a:for(;;){if(null===Sa)return;var cc=Sa.tag;if(3===cc||4===cc){var uc=Sa.stateNode.containerInfo;if(uc===kb||8===uc.nodeType&&uc.parentNode===kb)break;if(4===cc)for(cc=Sa.return;null!==cc;){var cd=cc.tag;if(3===cd||4===cd)if(cd=cc.stateNode.containerInfo,cd===kb||8===cd.nodeType&&cd.parentNode===kb)return;cc=cc.return}for(;null!==uc;){cc=Bb(uc);if(null===cc)return;cd=cc.tag;if(5===cd||6===cd){Sa=Hb=cc;continue a}uc=uc.parentNode}}Sa=Sa.return}Ha(function(){var Jd=
Hb,Ve=hb(ca),Tf=[];a:{var ge=Yj.get(D);if(void 0!==ge){var lf=uj,Pf=D;switch(D){case "keypress":if(0===Dc(ca))break a;case "keydown":case "keyup":lf=ai;break;case "focusin":Pf="focus";lf=Pi;break;case "focusout":Pf="blur";lf=Pi;break;case "beforeblur":case "afterblur":lf=Pi;break;case "click":if(2===ca.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":lf=pi;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":lf=
dj;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":lf=ej;break;case bi:case Jh:case Qi:lf=pk;break;case Kj:lf=E;break;case "scroll":lf=Yi;break;case "wheel":lf=S;break;case "copy":case "cut":case "paste":lf=Zj;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":lf=mh}var Ff=0!==(L&4),vd=!Ff&&"scroll"===D,jd=Ff?null!==ge?ge+"Capture":null:ge;Ff=[];for(var rd=
Jd,Wd;null!==rd;){Wd=rd;var Xd=Wd.stateNode;5===Wd.tag&&null!==Xd&&(Wd=Xd,null!==jd&&(Xd=Va(rd,jd),null!=Xd&&Ff.push(Sb(rd,Xd,Wd))));if(vd)break;rd=rd.return}0<Ff.length&&(ge=new lf(ge,Pf,null,ca,Ve),Tf.push({event:ge,listeners:Ff}))}}if(0===(L&7)){ge="mouseover"===D||"pointerover"===D;lf="mouseout"===D||"pointerout"===D;if(!ge||0!==(L&16)||!(Pf=ca.relatedTarget||ca.fromElement)||!Bb(Pf)&&!Pf[fj])if(lf||ge){ge=Ve.window===Ve?Ve:(ge=Ve.ownerDocument)?ge.defaultView||ge.parentWindow:window;if(lf){if(Pf=
ca.relatedTarget||ca.toElement,lf=Jd,Pf=Pf?Bb(Pf):null,null!==Pf&&(vd=oa(Pf),Pf!==vd||5!==Pf.tag&&6!==Pf.tag))Pf=null}else lf=null,Pf=Jd;if(lf!==Pf){Ff=pi;Xd="onMouseLeave";jd="onMouseEnter";rd="mouse";if("pointerout"===D||"pointerover"===D)Ff=mh,Xd="onPointerLeave",jd="onPointerEnter",rd="pointer";vd=null==lf?ge:Sc(lf);Wd=null==Pf?ge:Sc(Pf);ge=new Ff(Xd,rd+"leave",lf,ca,Ve);ge.target=vd;ge.relatedTarget=Wd;Xd=null;Bb(Ve)===Jd&&(Ff=new Ff(jd,rd+"enter",Pf,ca,Ve),Ff.target=Wd,Ff.relatedTarget=vd,Xd=
Ff);vd=Xd;if(lf&&Pf)b:{Ff=lf;jd=Pf;rd=0;for(Wd=Ff;Wd;Wd=Vc(Wd))rd++;Wd=0;for(Xd=jd;Xd;Xd=Vc(Xd))Wd++;for(;0<rd-Wd;)Ff=Vc(Ff),rd--;for(;0<Wd-rd;)jd=Vc(jd),Wd--;for(;rd--;){if(Ff===jd||null!==jd&&Ff===jd.alternate)break b;Ff=Vc(Ff);jd=Vc(jd)}Ff=null}else Ff=null;null!==lf&&Bd(Tf,ge,lf,Ff,!1);null!==Pf&&null!==vd&&Bd(Tf,vd,Pf,Ff,!0)}}ge=Jd?Sc(Jd):window;lf=ge.nodeName&&ge.nodeName.toLowerCase();if("select"===lf||"input"===lf&&"file"===ge.type)var Xf=ve;else if(qd(ge))if(ze)Xf=mc;else{Xf=Kb;var ye=tb}else(lf=
ge.nodeName)&&"input"===lf.toLowerCase()&&("checkbox"===ge.type||"radio"===ge.type)&&(Xf=dc);Xf&&(Xf=Xf(D,Jd))?bf(Tf,Xf,ca,Ve):(ye&&ye(D,ge,Jd),"focusout"===D&&(ye=ge._wrapperState)&&ye.controlled&&"number"===ge.type&&T(ge,"number",ge.value));ye=Jd?Sc(Jd):window;switch(D){case "focusin":if(qd(ye)||"true"===ye.contentEditable)tg=ye,Wf=Jd,ng=null;break;case "focusout":ng=Wf=tg=null;break;case "mousedown":mg=!0;break;case "contextmenu":case "mouseup":case "dragend":mg=!1;Pd(Tf,ca,Ve);break;case "selectionchange":if(Lg)break;
case "keydown":case "keyup":Pd(Tf,ca,Ve)}var Re;if(Ja)a:{switch(D){case "compositionstart":var zf="onCompositionStart";break a;case "compositionend":zf="onCompositionEnd";break a;case "compositionupdate":zf="onCompositionUpdate";break a}zf=void 0}else Pc?Od(D,ca)&&(zf="onCompositionEnd"):"keydown"===D&&229===ca.keyCode&&(zf="onCompositionStart");zf&&(xb&&"ko"!==ca.locale&&(Pc||"onCompositionStart"!==zf?"onCompositionEnd"===zf&&Pc&&(Re=$b()):(Ih=Ve,fh="value"in Ih?Ih.value:Ih.textContent,Pc=!0)),ye=
qc(Jd,zf),0<ye.length&&(zf=new Zi(zf,D,null,ca,Ve),Tf.push({event:zf,listeners:ye}),Re?zf.data=Re:(Re=ae(ca),null!==Re&&(zf.data=Re))));if(Re=ab?de(D,ca):je(D,ca))Jd=qc(Jd,"onBeforeInput"),0<Jd.length&&(Ve=new Zi("onBeforeInput","beforeinput",null,ca,Ve),Tf.push({event:Ve,listeners:Jd}),Ve.data=Re)}Ce(Tf,L)})}function Sb(D,L,ca){return{instance:D,listener:L,currentTarget:ca}}function qc(D,L){for(var ca=L+"Capture",Sa=[];null!==D;){var kb=D,Hb=kb.stateNode;5===kb.tag&&null!==Hb&&(kb=Hb,Hb=Va(D,ca),
null!=Hb&&Sa.unshift(Sb(D,Hb,kb)),Hb=Va(D,L),null!=Hb&&Sa.push(Sb(D,Hb,kb)));D=D.return}return Sa}function Vc(D){if(null===D)return null;do D=D.return;while(D&&5!==D.tag);return D?D:null}function Bd(D,L,ca,Sa,kb){for(var Hb=L._reactName,cc=[];null!==ca&&ca!==Sa;){var uc=ca,cd=uc.alternate,Jd=uc.stateNode;if(null!==cd&&cd===Sa)break;5===uc.tag&&null!==Jd&&(uc=Jd,kb?(cd=Va(ca,Hb),null!=cd&&cc.unshift(Sb(ca,cd,uc))):kb||(cd=Va(ca,Hb),null!=cd&&cc.push(Sb(ca,cd,uc))));ca=ca.return}0!==cc.length&&D.push({event:L,
listeners:cc})}function Hd(){}function me(D,L){switch(D){case "button":case "input":case "select":case "textarea":return!!L.autoFocus}return!1}function $e(D,L){return"textarea"===D||"option"===D||"noscript"===D||"string"===typeof L.children||"number"===typeof L.children||"object"===typeof L.dangerouslySetInnerHTML&&null!==L.dangerouslySetInnerHTML&&null!=L.dangerouslySetInnerHTML.__html}function Qf(D){1===D.nodeType?D.textContent="":9===D.nodeType&&(D=D.body,null!=D&&(D.textContent=""))}function Af(D){for(;null!=
D;D=D.nextSibling){var L=D.nodeType;if(1===L||3===L)break}return D}function If(D){D=D.previousSibling;for(var L=0;D;){if(8===D.nodeType){var ca=D.data;if("$"===ca||"$!"===ca||"$?"===ca){if(0===L)return D;L--}else"/$"===ca&&L++}D=D.previousSibling}return null}function Ne(D){return{$$typeof:Fi,toString:D,valueOf:D}}function Bb(D){var L=D[gj];if(L)return L;for(var ca=D.parentNode;ca;){if(L=ca[fj]||ca[gj]){ca=L.alternate;if(null!==L.child||null!==ca&&null!==ca.child)for(D=If(D);null!==D;){if(ca=D[gj])return ca;
D=If(D)}return L}D=ca;ca=D.parentNode}return null}function Zb(D){D=D[gj]||D[fj];return!D||5!==D.tag&&6!==D.tag&&13!==D.tag&&3!==D.tag?null:D}function Sc(D){if(5===D.tag||6===D.tag)return D.stateNode;throw Error(y(33));}function ce(D){return D[qk]||null}function ke(D){var L=D[rk];void 0===L&&(L=D[rk]=new Set);return L}function Rd(D){return{current:D}}function Sd(D){0>vj||(D.current=Ok[vj],Ok[vj]=null,vj--)}function Qd(D,L){vj++;Ok[vj]=D.current;D.current=L}function Qe(D,L){var ca=D.type.contextTypes;
if(!ca)return Ri;var Sa=D.stateNode;if(Sa&&Sa.__reactInternalMemoizedUnmaskedChildContext===L)return Sa.__reactInternalMemoizedMaskedChildContext;var kb={},Hb;for(Hb in ca)kb[Hb]=L[Hb];Sa&&(D=D.stateNode,D.__reactInternalMemoizedUnmaskedChildContext=L,D.__reactInternalMemoizedMaskedChildContext=kb);return kb}function cf(D){D=D.childContextTypes;return null!==D&&void 0!==D}function ra(){Sd(qf);Sd(nh)}function jb(D,L,ca){if(nh.current!==Ri)throw Error(y(168));Qd(nh,L);Qd(qf,ca)}function Ia(D,L,ca){var Sa=
D.stateNode;D=L.childContextTypes;if("function"!==typeof Sa.getChildContext)return ca;Sa=Sa.getChildContext();for(var kb in Sa)if(!(kb in D))throw Error(y(108,m(L)||"Unknown",kb));return nf({},ca,Sa)}function Xb(D){D=(D=D.stateNode)&&D.__reactInternalMemoizedMergedChildContext||Ri;Mg=nh.current;Qd(nh,D);Qd(qf,qf.current);return!0}function ha(D,L,ca){var Sa=D.stateNode;if(!Sa)throw Error(y(169));ca?(D=Ia(D,L,Mg),Sa.__reactInternalMemoizedMergedChildContext=D,Sd(qf),Sd(nh),Qd(nh,D)):Sd(qf);Qd(qf,ca)}
function Oa(){switch(el()){case gi:return 99;case ak:return 98;case fl:return 97;case bk:return 96;case gl:return 95;default:throw Error(y(332));}}function $a(D){switch(D){case 99:return gi;case 98:return ak;case 97:return fl;case 96:return bk;case 95:return gl;default:throw Error(y(332));}}function ub(D,L){D=$a(D);return hj(D,L)}function Cb(D,L,ca){D=$a(D);return sk(D,L,ca)}function Wb(){if(null!==tk){var D=tk;tk=null;ck(D)}sc()}function sc(){if(!Wh&&null!==$i){Wh=!0;var D=0;try{var L=$i;ub(99,function(){for(;D<
L.length;D++){var ca=L[D];do ca=ca(!0);while(null!==ca)}});$i=null}catch(ca){throw null!==$i&&($i=$i.slice(D+1)),sk(gi,Wb),ca;}finally{Wh=!1}}}function Uc(D,L){if(D&&D.defaultProps){L=nf({},L);D=D.defaultProps;for(var ca in D)void 0===L[ca]&&(L[ca]=D[ca])}return L}function Xc(D){var L=qi.current;Sd(qi);D.type._context._currentValue=L}function Cc(D,L){for(;null!==D;){var ca=D.alternate;if((D.childLanes&L)===L)if(null===ca||(ca.childLanes&L)===L)break;else ca.childLanes|=L;else D.childLanes|=L,null!==
ca&&(ca.childLanes|=L);D=D.return}}function zc(D,L){ij=D;yi=jj=null;D=D.dependencies;null!==D&&null!==D.firstContext&&(0!==(D.lanes&L)&&(ri=!0),D.firstContext=null)}function oc(D,L){if(yi!==D&&!1!==L&&0!==L){if("number"!==typeof L||1073741823===L)yi=D,L=1073741823;L={context:D,observedBits:L,next:null};if(null===jj){if(null===ij)throw Error(y(308));jj=L;ij.dependencies={lanes:0,firstContext:L,responders:null}}else jj=jj.next=L}return D._currentValue}function Fc(D){D.updateQueue={baseState:D.memoizedState,
firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mc(D,L){D=D.updateQueue;L.updateQueue===D&&(L.updateQueue={baseState:D.baseState,firstBaseUpdate:D.firstBaseUpdate,lastBaseUpdate:D.lastBaseUpdate,shared:D.shared,effects:D.effects})}function Yc(D,L){return{eventTime:D,lane:L,tag:0,payload:null,callback:null,next:null}}function mb(D,L){D=D.updateQueue;if(null!==D){D=D.shared;var ca=D.pending;null===ca?L.next=L:(L.next=ca.next,ca.next=L);D.pending=L}}function Gb(D,
L){var ca=D.updateQueue,Sa=D.alternate;if(null!==Sa&&(Sa=Sa.updateQueue,ca===Sa)){var kb=null,Hb=null;ca=ca.firstBaseUpdate;if(null!==ca){do{var cc={eventTime:ca.eventTime,lane:ca.lane,tag:ca.tag,payload:ca.payload,callback:ca.callback,next:null};null===Hb?kb=Hb=cc:Hb=Hb.next=cc;ca=ca.next}while(null!==ca);null===Hb?kb=Hb=L:Hb=Hb.next=L}else kb=Hb=L;ca={baseState:Sa.baseState,firstBaseUpdate:kb,lastBaseUpdate:Hb,shared:Sa.shared,effects:Sa.effects};D.updateQueue=ca}else D=ca.lastBaseUpdate,null===
D?ca.firstBaseUpdate=L:D.next=L,ca.lastBaseUpdate=L}function Pb(D,L,ca,Sa){var kb=D.updateQueue;ci=!1;var Hb=kb.firstBaseUpdate,cc=kb.lastBaseUpdate,uc=kb.shared.pending;if(null!==uc){kb.shared.pending=null;var cd=uc,Jd=cd.next;cd.next=null;null===cc?Hb=Jd:cc.next=Jd;cc=cd;var Ve=D.alternate;if(null!==Ve){Ve=Ve.updateQueue;var Tf=Ve.lastBaseUpdate;Tf!==cc&&(null===Tf?Ve.firstBaseUpdate=Jd:Tf.next=Jd,Ve.lastBaseUpdate=cd)}}if(null!==Hb){Tf=kb.baseState;cc=0;Ve=Jd=cd=null;do{uc=Hb.lane;var ge=Hb.eventTime;
if((Sa&uc)===uc){null!==Ve&&(Ve=Ve.next={eventTime:ge,lane:0,tag:Hb.tag,payload:Hb.payload,callback:Hb.callback,next:null});a:{var lf=D,Pf=Hb;uc=L;ge=ca;switch(Pf.tag){case 1:lf=Pf.payload;if("function"===typeof lf){Tf=lf.call(ge,Tf,uc);break a}Tf=lf;break a;case 3:lf.flags=lf.flags&-4097|64;case 0:lf=Pf.payload;uc="function"===typeof lf?lf.call(ge,Tf,uc):lf;if(null===uc||void 0===uc)break a;Tf=nf({},Tf,uc);break a;case 2:ci=!0}}null!==Hb.callback&&(D.flags|=32,uc=kb.effects,null===uc?kb.effects=
[Hb]:uc.push(Hb))}else ge={eventTime:ge,lane:uc,tag:Hb.tag,payload:Hb.payload,callback:Hb.callback,next:null},null===Ve?(Jd=Ve=ge,cd=Tf):Ve=Ve.next=ge,cc|=uc;Hb=Hb.next;if(null===Hb)if(uc=kb.shared.pending,null===uc)break;else Hb=uc.next,uc.next=null,kb.lastBaseUpdate=uc,kb.shared.pending=null}while(1);null===Ve&&(cd=Tf);kb.baseState=cd;kb.firstBaseUpdate=Jd;kb.lastBaseUpdate=Ve;wj|=cc;D.lanes=cc;D.memoizedState=Tf}}function Vb(D,L,ca){D=L.effects;L.effects=null;if(null!==D)for(L=0;L<D.length;L++){var Sa=
D[L],kb=Sa.callback;if(null!==kb){Sa.callback=null;Sa=ca;if("function"!==typeof kb)throw Error(y(191,kb));kb.call(Sa)}}}function ma(D,L,ca,Sa){L=D.memoizedState;ca=ca(Sa,L);ca=null===ca||void 0===ca?L:nf({},L,ca);D.memoizedState=ca;0===D.lanes&&(D.updateQueue.baseState=ca)}function Ka(D,L,ca,Sa,kb,Hb,cc){D=D.stateNode;return"function"===typeof D.shouldComponentUpdate?D.shouldComponentUpdate(Sa,Hb,cc):L.prototype&&L.prototype.isPureReactComponent?!Gc(ca,Sa)||!Gc(kb,Hb):!0}function ib(D,L,ca){var Sa=
!1,kb=Ri,Hb=L.contextType;"object"===typeof Hb&&null!==Hb?Hb=oc(Hb):(kb=cf(L)?Mg:nh.current,Sa=L.contextTypes,Hb=(Sa=null!==Sa&&void 0!==Sa)?Qe(D,kb):Ri);L=new L(ca,Hb);D.memoizedState=null!==L.state&&void 0!==L.state?L.state:null;L.updater=uk;D.stateNode=L;L._reactInternals=D;Sa&&(D=D.stateNode,D.__reactInternalMemoizedUnmaskedChildContext=kb,D.__reactInternalMemoizedMaskedChildContext=Hb);return L}function Eb(D,L,ca,Sa){D=L.state;"function"===typeof L.componentWillReceiveProps&&L.componentWillReceiveProps(ca,
Sa);"function"===typeof L.UNSAFE_componentWillReceiveProps&&L.UNSAFE_componentWillReceiveProps(ca,Sa);L.state!==D&&uk.enqueueReplaceState(L,L.state,null)}function Ib(D,L,ca,Sa){var kb=D.stateNode;kb.props=ca;kb.state=D.memoizedState;kb.refs=Pk;Fc(D);var Hb=L.contextType;"object"===typeof Hb&&null!==Hb?kb.context=oc(Hb):(Hb=cf(L)?Mg:nh.current,kb.context=Qe(D,Hb));Pb(D,ca,kb,Sa);kb.state=D.memoizedState;Hb=L.getDerivedStateFromProps;"function"===typeof Hb&&(ma(D,L,Hb,ca),kb.state=D.memoizedState);
"function"===typeof L.getDerivedStateFromProps||"function"===typeof kb.getSnapshotBeforeUpdate||"function"!==typeof kb.UNSAFE_componentWillMount&&"function"!==typeof kb.componentWillMount||(L=kb.state,"function"===typeof kb.componentWillMount&&kb.componentWillMount(),"function"===typeof kb.UNSAFE_componentWillMount&&kb.UNSAFE_componentWillMount(),L!==kb.state&&uk.enqueueReplaceState(kb,kb.state,null),Pb(D,ca,kb,Sa),kb.state=D.memoizedState);"function"===typeof kb.componentDidMount&&(D.flags|=4)}function Nb(D,
L,ca){D=ca.ref;if(null!==D&&"function"!==typeof D&&"object"!==typeof D){if(ca._owner){if(ca=ca._owner){if(1!==ca.tag)throw Error(y(309));var Sa=ca.stateNode}if(!Sa)throw Error(y(147,D));var kb=""+D;if(null!==L&&null!==L.ref&&"function"===typeof L.ref&&L.ref._stringRef===kb)return L.ref;L=function(Hb){var cc=Sa.refs;cc===Pk&&(cc=Sa.refs={});null===Hb?delete cc[kb]:cc[kb]=Hb};L._stringRef=kb;return L}if("string"!==typeof D)throw Error(y(284));if(!ca._owner)throw Error(y(290,D));}return D}function kc(D,
L){if("textarea"!==D.type)throw Error(y(31,"[object Object]"===Object.prototype.toString.call(L)?"object with keys {"+Object.keys(L).join(", ")+"}":L));}function Kc(D){function L(vd,jd){if(D){var rd=vd.lastEffect;null!==rd?(rd.nextEffect=jd,vd.lastEffect=jd):vd.firstEffect=vd.lastEffect=jd;jd.nextEffect=null;jd.flags=8}}function ca(vd,jd){if(!D)return null;for(;null!==jd;)L(vd,jd),jd=jd.sibling;return null}function Sa(vd,jd){for(vd=new Map;null!==jd;)null!==jd.key?vd.set(jd.key,jd):vd.set(jd.index,
jd),jd=jd.sibling;return vd}function kb(vd,jd){vd=xa(vd,jd);vd.index=0;vd.sibling=null;return vd}function Hb(vd,jd,rd){vd.index=rd;if(!D)return jd;rd=vd.alternate;if(null!==rd)return rd=rd.index,rd<jd?(vd.flags=2,jd):rd;vd.flags=2;return jd}function cc(vd){D&&null===vd.alternate&&(vd.flags=2);return vd}function uc(vd,jd,rd,Wd){if(null===jd||6!==jd.tag)return jd=fc(rd,vd.mode,Wd),jd.return=vd,jd;jd=kb(jd,rd);jd.return=vd;return jd}function cd(vd,jd,rd,Wd){if(null!==jd&&jd.elementType===rd.type)return Wd=
kb(jd,rd.props),Wd.ref=Nb(vd,jd,rd),Wd.return=vd,Wd;Wd=Ra(rd.type,rd.key,rd.props,null,vd.mode,Wd);Wd.ref=Nb(vd,jd,rd);Wd.return=vd;return Wd}function Jd(vd,jd,rd,Wd){if(null===jd||4!==jd.tag||jd.stateNode.containerInfo!==rd.containerInfo||jd.stateNode.implementation!==rd.implementation)return jd=Oc(rd,vd.mode,Wd),jd.return=vd,jd;jd=kb(jd,rd.children||[]);jd.return=vd;return jd}function Ve(vd,jd,rd,Wd,Xd){if(null===jd||7!==jd.tag)return jd=qb(rd,vd.mode,Wd,Xd),jd.return=vd,jd;jd=kb(jd,rd);jd.return=
vd;return jd}function Tf(vd,jd,rd){if("string"===typeof jd||"number"===typeof jd)return jd=fc(""+jd,vd.mode,rd),jd.return=vd,jd;if("object"===typeof jd&&null!==jd){switch(jd.$$typeof){case Ng:return rd=Ra(jd.type,jd.key,jd.props,null,vd.mode,rd),rd.ref=Nb(vd,null,jd),rd.return=vd,rd;case lg:return jd=Oc(jd,vd.mode,rd),jd.return=vd,jd}if(zi(jd)||d(jd))return jd=qb(jd,vd.mode,rd,null),jd.return=vd,jd;kc(vd,jd)}return null}function ge(vd,jd,rd,Wd){var Xd=null!==jd?jd.key:null;if("string"===typeof rd||
"number"===typeof rd)return null!==Xd?null:uc(vd,jd,""+rd,Wd);if("object"===typeof rd&&null!==rd){switch(rd.$$typeof){case Ng:return rd.key===Xd?rd.type===Ch?Ve(vd,jd,rd.props.children,Wd,Xd):cd(vd,jd,rd,Wd):null;case lg:return rd.key===Xd?Jd(vd,jd,rd,Wd):null}if(zi(rd)||d(rd))return null!==Xd?null:Ve(vd,jd,rd,Wd,null);kc(vd,rd)}return null}function lf(vd,jd,rd,Wd,Xd){if("string"===typeof Wd||"number"===typeof Wd)return vd=vd.get(rd)||null,uc(jd,vd,""+Wd,Xd);if("object"===typeof Wd&&null!==Wd){switch(Wd.$$typeof){case Ng:return vd=
vd.get(null===Wd.key?rd:Wd.key)||null,Wd.type===Ch?Ve(jd,vd,Wd.props.children,Xd,Wd.key):cd(jd,vd,Wd,Xd);case lg:return vd=vd.get(null===Wd.key?rd:Wd.key)||null,Jd(jd,vd,Wd,Xd)}if(zi(Wd)||d(Wd))return vd=vd.get(rd)||null,Ve(jd,vd,Wd,Xd,null);kc(jd,Wd)}return null}function Pf(vd,jd,rd,Wd){for(var Xd=null,Xf=null,ye=jd,Re=jd=0,zf=null;null!==ye&&Re<rd.length;Re++){ye.index>Re?(zf=ye,ye=null):zf=ye.sibling;var Ef=ge(vd,ye,rd[Re],Wd);if(null===Ef){null===ye&&(ye=zf);break}D&&ye&&null===Ef.alternate&&
L(vd,ye);jd=Hb(Ef,jd,Re);null===Xf?Xd=Ef:Xf.sibling=Ef;Xf=Ef;ye=zf}if(Re===rd.length)return ca(vd,ye),Xd;if(null===ye){for(;Re<rd.length;Re++)ye=Tf(vd,rd[Re],Wd),null!==ye&&(jd=Hb(ye,jd,Re),null===Xf?Xd=ye:Xf.sibling=ye,Xf=ye);return Xd}for(ye=Sa(vd,ye);Re<rd.length;Re++)zf=lf(ye,vd,Re,rd[Re],Wd),null!==zf&&(D&&null!==zf.alternate&&ye.delete(null===zf.key?Re:zf.key),jd=Hb(zf,jd,Re),null===Xf?Xd=zf:Xf.sibling=zf,Xf=zf);D&&ye.forEach(function(kj){return L(vd,kj)});return Xd}function Ff(vd,jd,rd,Wd){var Xd=
d(rd);if("function"!==typeof Xd)throw Error(y(150));rd=Xd.call(rd);if(null==rd)throw Error(y(151));for(var Xf=Xd=null,ye=jd,Re=jd=0,zf=null,Ef=rd.next();null!==ye&&!Ef.done;Re++,Ef=rd.next()){ye.index>Re?(zf=ye,ye=null):zf=ye.sibling;var kj=ge(vd,ye,Ef.value,Wd);if(null===kj){null===ye&&(ye=zf);break}D&&ye&&null===kj.alternate&&L(vd,ye);jd=Hb(kj,jd,Re);null===Xf?Xd=kj:Xf.sibling=kj;Xf=kj;ye=zf}if(Ef.done)return ca(vd,ye),Xd;if(null===ye){for(;!Ef.done;Re++,Ef=rd.next())Ef=Tf(vd,Ef.value,Wd),null!==
Ef&&(jd=Hb(Ef,jd,Re),null===Xf?Xd=Ef:Xf.sibling=Ef,Xf=Ef);return Xd}for(ye=Sa(vd,ye);!Ef.done;Re++,Ef=rd.next())Ef=lf(ye,vd,Re,Ef.value,Wd),null!==Ef&&(D&&null!==Ef.alternate&&ye.delete(null===Ef.key?Re:Ef.key),jd=Hb(Ef,jd,Re),null===Xf?Xd=Ef:Xf.sibling=Ef,Xf=Ef);D&&ye.forEach(function(lj){return L(vd,lj)});return Xd}return function(vd,jd,rd,Wd){var Xd="object"===typeof rd&&null!==rd&&rd.type===Ch&&null===rd.key;Xd&&(rd=rd.props.children);var Xf="object"===typeof rd&&null!==rd;if(Xf)switch(rd.$$typeof){case Ng:a:{Xf=
rd.key;for(Xd=jd;null!==Xd;){if(Xd.key===Xf){switch(Xd.tag){case 7:if(rd.type===Ch){ca(vd,Xd.sibling);jd=kb(Xd,rd.props.children);jd.return=vd;vd=jd;break a}break;default:if(Xd.elementType===rd.type){ca(vd,Xd.sibling);jd=kb(Xd,rd.props);jd.ref=Nb(vd,Xd,rd);jd.return=vd;vd=jd;break a}}ca(vd,Xd);break}else L(vd,Xd);Xd=Xd.sibling}rd.type===Ch?(jd=qb(rd.props.children,vd.mode,Wd,rd.key),jd.return=vd,vd=jd):(Wd=Ra(rd.type,rd.key,rd.props,null,vd.mode,Wd),Wd.ref=Nb(vd,jd,rd),Wd.return=vd,vd=Wd)}return cc(vd);
case lg:a:{for(Xd=rd.key;null!==jd;){if(jd.key===Xd)if(4===jd.tag&&jd.stateNode.containerInfo===rd.containerInfo&&jd.stateNode.implementation===rd.implementation){ca(vd,jd.sibling);jd=kb(jd,rd.children||[]);jd.return=vd;vd=jd;break a}else{ca(vd,jd);break}else L(vd,jd);jd=jd.sibling}jd=Oc(rd,vd.mode,Wd);jd.return=vd;vd=jd}return cc(vd)}if("string"===typeof rd||"number"===typeof rd)return rd=""+rd,null!==jd&&6===jd.tag?(ca(vd,jd.sibling),jd=kb(jd,rd),jd.return=vd,vd=jd):(ca(vd,jd),jd=fc(rd,vd.mode,
Wd),jd.return=vd,vd=jd),cc(vd);if(zi(rd))return Pf(vd,jd,rd,Wd);if(d(rd))return Ff(vd,jd,rd,Wd);Xf&&kc(vd,rd);if("undefined"===typeof rd&&!Xd)switch(vd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,m(vd.type)||"Component"));}return ca(vd,jd)}}function Bc(D){if(D===Lj)throw Error(y(174));return D}function wc(D,L){Qd(dk,L);Qd(ek,D);Qd(Si,Lj);D=L.nodeType;switch(D){case 9:case 11:L=(L=L.documentElement)?L.namespaceURI:U(null,"");break;default:D=8===D?L.parentNode:L,L=D.namespaceURI||null,
D=D.tagName,L=U(L,D)}Sd(Si);Qd(Si,L)}function ld(){Sd(Si);Sd(ek);Sd(dk)}function wd(D){Bc(dk.current);var L=Bc(Si.current),ca=U(L,D.type);L!==ca&&(Qd(ek,D),Qd(Si,ca))}function Fe(D){ek.current===D&&(Sd(Si),Sd(ek))}function Fd(D){for(var L=D;null!==L;){if(13===L.tag){var ca=L.memoizedState;if(null!==ca&&(ca=ca.dehydrated,null===ca||"$?"===ca.data||"$!"===ca.data))return L}else if(19===L.tag&&void 0!==L.memoizedProps.revealOrder){if(0!==(L.flags&64))return L}else if(null!==L.child){L.child.return=L;
L=L.child;continue}if(L===D)break;for(;null===L.sibling;){if(null===L.return||L.return===D)return null;L=L.return}L.sibling.return=L.return;L=L.sibling}return null}function he(D,L){var ca=pc(5,null,null,0);ca.elementType="DELETED";ca.type="DELETED";ca.stateNode=L;ca.return=D;ca.flags=8;null!==D.lastEffect?(D.lastEffect.nextEffect=ca,D.lastEffect=ca):D.firstEffect=D.lastEffect=ca}function se(D,L){switch(D.tag){case 5:var ca=D.type;L=1!==L.nodeType||ca.toLowerCase()!==L.nodeName.toLowerCase()?null:
L;return null!==L?(D.stateNode=L,!0):!1;case 6:return L=""===D.pendingProps||3!==L.nodeType?null:L,null!==L?(D.stateNode=L,!0):!1;case 13:return!1;default:return!1}}function td(D){if(Ai){var L=Ti;if(L){var ca=L;if(!se(D,L)){L=Af(ca.nextSibling);if(!L||!se(D,L)){D.flags=D.flags&-1025|2;Ai=!1;Gi=D;return}he(Gi,ca)}Gi=D;Ti=Af(L.firstChild)}else D.flags=D.flags&-1025|2,Ai=!1,Gi=D}}function Dd(D){for(D=D.return;null!==D&&5!==D.tag&&3!==D.tag&&13!==D.tag;)D=D.return;Gi=D}function fe(D){if(D!==Gi)return!1;
if(!Ai)return Dd(D),Ai=!0,!1;var L=D.type;if(5!==D.tag||"head"!==L&&"body"!==L&&!$e(L,D.memoizedProps))for(L=Ti;L;)he(D,L),L=Af(L.nextSibling);Dd(D);if(13===D.tag){D=D.memoizedState;D=null!==D?D.dehydrated:null;if(!D)throw Error(y(317));a:{D=D.nextSibling;for(L=0;D;){if(8===D.nodeType){var ca=D.data;if("/$"===ca){if(0===L){Ti=Af(D.nextSibling);break a}L--}else"$"!==ca&&"$!"!==ca&&"$?"!==ca||L++}D=D.nextSibling}Ti=null}}else Ti=Gi?Af(D.stateNode.nextSibling):null;return!0}function qe(){for(var D=0;D<
Mj.length;D++)Mj[D]._workInProgressVersionPrimary=null;Mj.length=0}function Ad(){throw Error(y(321));}function We(D,L){if(null===L)return!1;for(var ca=0;ca<L.length&&ca<D.length;ca++)if(!Sf(D[ca],L[ca]))return!1;return!0}function Se(D,L,ca,Sa,kb,Hb){mj=Hb;jh=L;L.memoizedState=null;L.updateQueue=null;L.lanes=0;xj.current=null===D||null===D.memoizedState?xl:mi;D=ca(Sa,kb);if(Nj){Hb=0;do{Nj=!1;if(!(25>Hb))throw Error(y(301));Hb+=1;Rh=di=null;L.updateQueue=null;xj.current=Qk;D=ca(Sa,kb)}while(Nj)}xj.current=
Oj;L=null!==di&&null!==di.next;mj=0;Rh=di=jh=null;vk=!1;if(L)throw Error(y(300));return D}function hf(){var D={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rh?jh.memoizedState=Rh=D:Rh=Rh.next=D;return Rh}function Bf(){if(null===di){var D=jh.alternate;D=null!==D?D.memoizedState:null}else D=di.next;var L=null===Rh?jh.memoizedState:Rh.next;if(null!==L)Rh=L,di=D;else{if(null===D)throw Error(y(310));di=D;D={memoizedState:di.memoizedState,baseState:di.baseState,baseQueue:di.baseQueue,
queue:di.queue,next:null};null===Rh?jh.memoizedState=Rh=D:Rh=Rh.next=D}return Rh}function Cf(D,L){return"function"===typeof L?L(D):L}function Vg(D){var L=Bf(),ca=L.queue;if(null===ca)throw Error(y(311));ca.lastRenderedReducer=D;var Sa=di,kb=Sa.baseQueue,Hb=ca.pending;if(null!==Hb){if(null!==kb){var cc=kb.next;kb.next=Hb.next;Hb.next=cc}Sa.baseQueue=kb=Hb;ca.pending=null}if(null!==kb){kb=kb.next;Sa=Sa.baseState;var uc=cc=Hb=null,cd=kb;do{var Jd=cd.lane;if((mj&Jd)===Jd)null!==uc&&(uc=uc.next={lane:0,
action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null}),Sa=cd.eagerReducer===D?cd.eagerState:D(Sa,cd.action);else{var Ve={lane:Jd,action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null};null===uc?(cc=uc=Ve,Hb=Sa):uc=uc.next=Ve;jh.lanes|=Jd;wj|=Jd}cd=cd.next}while(null!==cd&&cd!==kb);null===uc?Hb=Sa:uc.next=cc;Sf(Sa,L.memoizedState)||(ri=!0);L.memoizedState=Sa;L.baseState=Hb;L.baseQueue=uc;ca.lastRenderedState=Sa}return[L.memoizedState,ca.dispatch]}
function Yd(D){var L=Bf(),ca=L.queue;if(null===ca)throw Error(y(311));ca.lastRenderedReducer=D;var Sa=ca.dispatch,kb=ca.pending,Hb=L.memoizedState;if(null!==kb){ca.pending=null;var cc=kb=kb.next;do Hb=D(Hb,cc.action),cc=cc.next;while(cc!==kb);Sf(Hb,L.memoizedState)||(ri=!0);L.memoizedState=Hb;null===L.baseQueue&&(L.baseState=Hb);ca.lastRenderedState=Hb}return[Hb,Sa]}function Ie(D,L,ca){var Sa=L._getVersion;Sa=Sa(L._source);var kb=L._workInProgressVersionPrimary;if(null!==kb)D=kb===Sa;else if(D=D.mutableReadLanes,
D=(mj&D)===D)L._workInProgressVersionPrimary=Sa,Mj.push(L);if(D)return ca(L._source);Mj.push(L);throw Error(y(350));}function qg(D,L,ca,Sa){var kb=hi;if(null===kb)throw Error(y(349));var Hb=L._getVersion,cc=Hb(L._source),uc=xj.current,cd=uc.useState(function(){return Ie(kb,L,ca)}),Jd=cd[1],Ve=cd[0];cd=Rh;var Tf=D.memoizedState,ge=Tf.refs,lf=ge.getSnapshot,Pf=Tf.source;Tf=Tf.subscribe;var Ff=jh;D.memoizedState={refs:ge,source:L,subscribe:Sa};uc.useEffect(function(){ge.getSnapshot=ca;ge.setSnapshot=
Jd;var vd=Hb(L._source);if(!Sf(cc,vd)){vd=ca(L._source);Sf(Ve,vd)||(Jd(vd),vd=Yg(Ff),kb.mutableReadLanes|=vd&kb.pendingLanes);vd=kb.mutableReadLanes;kb.entangledLanes|=vd;for(var jd=kb.entanglements,rd=vd;0<rd;){var Wd=31-Qh(rd),Xd=1<<Wd;jd[Wd]|=vd;rd&=~Xd}}},[ca,L,Sa]);uc.useEffect(function(){return Sa(L._source,function(){var vd=ge.getSnapshot,jd=ge.setSnapshot;try{jd(vd(L._source));var rd=Yg(Ff);kb.mutableReadLanes|=rd&kb.pendingLanes}catch(Wd){jd(function(){throw Wd;})}})},[L,Sa]);Sf(lf,ca)&&
Sf(Pf,L)&&Sf(Tf,Sa)||(D={pending:null,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:Ve},D.dispatch=Jd=Za.bind(null,jh,D),cd.queue=D,cd.baseQueue=null,Ve=Ie(kb,L,ca),cd.memoizedState=cd.baseState=Ve);return Ve}function ug(D,L,ca){var Sa=Bf();return qg(Sa,D,L,ca)}function Zg(D){var L=hf();"function"===typeof D&&(D=D());L.memoizedState=L.baseState=D;D=L.queue={pending:null,dispatch:null,lastRenderedReducer:Cf,lastRenderedState:D};D=D.dispatch=Za.bind(null,jh,D);return[L.memoizedState,D]}function cg(D,
L,ca,Sa){D={tag:D,create:L,destroy:ca,deps:Sa,next:null};L=jh.updateQueue;null===L?(L={lastEffect:null},jh.updateQueue=L,L.lastEffect=D.next=D):(ca=L.lastEffect,null===ca?L.lastEffect=D.next=D:(Sa=ca.next,ca.next=D,D.next=Sa,L.lastEffect=D));return D}function Eg(D){var L=hf();D={current:D};return L.memoizedState=D}function Ag(){return Bf().memoizedState}function dg(D,L,ca,Sa){var kb=hf();jh.flags|=D;kb.memoizedState=cg(1|L,ca,void 0,void 0===Sa?null:Sa)}function Rf(D,L,ca,Sa){var kb=Bf();Sa=void 0===
Sa?null:Sa;var Hb=void 0;if(null!==di){var cc=di.memoizedState;Hb=cc.destroy;if(null!==Sa&&We(Sa,cc.deps)){cg(L,ca,Hb,Sa);return}}jh.flags|=D;kb.memoizedState=cg(1|L,ca,Hb,Sa)}function Jf(D,L){return dg(516,4,D,L)}function eg(D,L){return Rf(516,4,D,L)}function Mf(D,L){return Rf(4,2,D,L)}function jg(D,L){if("function"===typeof L)return D=D(),L(D),function(){L(null)};if(null!==L&&void 0!==L)return D=D(),L.current=D,function(){L.current=null}}function oh(D,L,ca){ca=null!==ca&&void 0!==ca?ca.concat([D]):
null;return Rf(4,2,jg.bind(null,L,D),ca)}function th(){}function Fg(D,L){var ca=Bf();L=void 0===L?null:L;var Sa=ca.memoizedState;if(null!==Sa&&null!==L&&We(L,Sa[1]))return Sa[0];ca.memoizedState=[D,L];return D}function vg(D,L){var ca=Bf();L=void 0===L?null:L;var Sa=ca.memoizedState;if(null!==Sa&&null!==L&&We(L,Sa[1]))return Sa[0];D=D();ca.memoizedState=[D,L];return D}function vh(D,L){var ca=Oa();ub(98>ca?98:ca,function(){D(!0)});ub(97<ca?97:ca,function(){var Sa=si.transition;si.transition=1;try{D(!1),
L()}finally{si.transition=Sa}})}function Za(D,L,ca){var Sa=rg(),kb=Yg(D),Hb={lane:kb,action:ca,eagerReducer:null,eagerState:null,next:null},cc=L.pending;null===cc?Hb.next=Hb:(Hb.next=cc.next,cc.next=Hb);L.pending=Hb;cc=D.alternate;if(D===jh||null!==cc&&cc===jh)Nj=vk=!0;else{if(0===D.lanes&&(null===cc||0===cc.lanes)&&(cc=L.lastRenderedReducer,null!==cc))try{var uc=L.lastRenderedState,cd=cc(uc,ca);Hb.eagerReducer=cc;Hb.eagerState=cd;if(Sf(cd,uc))return}catch(Jd){}finally{}jf(D,kb,Sa)}}function Db(D,
L,ca,Sa){L.child=null===D?Rk(L,null,ca,Sa):yj(L,D.child,ca,Sa)}function ic(D,L,ca,Sa,kb){ca=ca.render;var Hb=L.ref;zc(L,kb);Sa=Se(D,L,ca,Sa,Hb,kb);if(null!==D&&!ri)return L.updateQueue=D.updateQueue,L.flags&=-517,D.lanes&=~kb,ph(D,L,kb);L.flags|=1;Db(D,L,Sa,kb);return L.child}function ud(D,L,ca,Sa,kb,Hb){if(null===D){var cc=ca.type;if("function"===typeof cc&&!rc(cc)&&void 0===cc.defaultProps&&null===ca.compare&&void 0===ca.defaultProps)return L.tag=15,L.type=cc,yd(D,L,cc,Sa,kb,Hb);D=Ra(ca.type,null,
Sa,L,L.mode,Hb);D.ref=L.ref;D.return=L;return L.child=D}cc=D.child;if(0===(kb&Hb)&&(kb=cc.memoizedProps,ca=ca.compare,ca=null!==ca?ca:Gc,ca(kb,Sa)&&D.ref===L.ref))return ph(D,L,Hb);L.flags|=1;D=xa(cc,Sa);D.ref=L.ref;D.return=L;return L.child=D}function yd(D,L,ca,Sa,kb,Hb){if(null!==D&&Gc(D.memoizedProps,Sa)&&D.ref===L.ref)if(ri=!1,0!==(Hb&kb))0!==(D.flags&16384)&&(ri=!0);else return L.lanes=D.lanes,ph(D,L,Hb);return tf(D,L,ca,Sa,Hb)}function be(D,L,ca){var Sa=L.pendingProps,kb=Sa.children,Hb=null!==
D?D.memoizedState:null;if("hidden"===Sa.mode||"unstable-defer-without-hiding"===Sa.mode)if(0===(L.mode&4))L.memoizedState={baseLanes:0},Sh(L,ca);else if(0!==(ca&1073741824))L.memoizedState={baseLanes:0},Sh(L,null!==Hb?Hb.baseLanes:ca);else return D=null!==Hb?Hb.baseLanes|ca:ca,L.lanes=L.childLanes=1073741824,L.memoizedState={baseLanes:D},Sh(L,D),null;else null!==Hb?(Sa=Hb.baseLanes|ca,L.memoizedState=null):Sa=ca,Sh(L,Sa);Db(D,L,kb,ca);return L.child}function df(D,L){var ca=L.ref;if(null===D&&null!==
ca||null!==D&&D.ref!==ca)L.flags|=128}function tf(D,L,ca,Sa,kb){var Hb=cf(ca)?Mg:nh.current;Hb=Qe(L,Hb);zc(L,kb);ca=Se(D,L,ca,Sa,Hb,kb);if(null!==D&&!ri)return L.updateQueue=D.updateQueue,L.flags&=-517,D.lanes&=~kb,ph(D,L,kb);L.flags|=1;Db(D,L,ca,kb);return L.child}function Gg(D,L,ca,Sa,kb){if(cf(ca)){var Hb=!0;Xb(L)}else Hb=!1;zc(L,kb);if(null===L.stateNode)null!==D&&(D.alternate=null,L.alternate=null,L.flags|=2),ib(L,ca,Sa),Ib(L,ca,Sa,kb),Sa=!0;else if(null===D){var cc=L.stateNode,uc=L.memoizedProps;
cc.props=uc;var cd=cc.context,Jd=ca.contextType;"object"===typeof Jd&&null!==Jd?Jd=oc(Jd):(Jd=cf(ca)?Mg:nh.current,Jd=Qe(L,Jd));var Ve=ca.getDerivedStateFromProps,Tf="function"===typeof Ve||"function"===typeof cc.getSnapshotBeforeUpdate;Tf||"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||(uc!==Sa||cd!==Jd)&&Eb(L,cc,Sa,Jd);ci=!1;var ge=L.memoizedState;cc.state=ge;Pb(L,Sa,cc,kb);cd=L.memoizedState;uc!==Sa||ge!==cd||qf.current||ci?("function"===
typeof Ve&&(ma(L,ca,Ve,Sa),cd=L.memoizedState),(uc=ci||Ka(L,ca,uc,Sa,ge,cd,Jd))?(Tf||"function"!==typeof cc.UNSAFE_componentWillMount&&"function"!==typeof cc.componentWillMount||("function"===typeof cc.componentWillMount&&cc.componentWillMount(),"function"===typeof cc.UNSAFE_componentWillMount&&cc.UNSAFE_componentWillMount()),"function"===typeof cc.componentDidMount&&(L.flags|=4)):("function"===typeof cc.componentDidMount&&(L.flags|=4),L.memoizedProps=Sa,L.memoizedState=cd),cc.props=Sa,cc.state=cd,
cc.context=Jd,Sa=uc):("function"===typeof cc.componentDidMount&&(L.flags|=4),Sa=!1)}else{cc=L.stateNode;Mc(D,L);uc=L.memoizedProps;Jd=L.type===L.elementType?uc:Uc(L.type,uc);cc.props=Jd;Tf=L.pendingProps;ge=cc.context;cd=ca.contextType;"object"===typeof cd&&null!==cd?cd=oc(cd):(cd=cf(ca)?Mg:nh.current,cd=Qe(L,cd));var lf=ca.getDerivedStateFromProps;(Ve="function"===typeof lf||"function"===typeof cc.getSnapshotBeforeUpdate)||"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||
(uc!==Tf||ge!==cd)&&Eb(L,cc,Sa,cd);ci=!1;ge=L.memoizedState;cc.state=ge;Pb(L,Sa,cc,kb);var Pf=L.memoizedState;uc!==Tf||ge!==Pf||qf.current||ci?("function"===typeof lf&&(ma(L,ca,lf,Sa),Pf=L.memoizedState),(Jd=ci||Ka(L,ca,Jd,Sa,ge,Pf,cd))?(Ve||"function"!==typeof cc.UNSAFE_componentWillUpdate&&"function"!==typeof cc.componentWillUpdate||("function"===typeof cc.componentWillUpdate&&cc.componentWillUpdate(Sa,Pf,cd),"function"===typeof cc.UNSAFE_componentWillUpdate&&cc.UNSAFE_componentWillUpdate(Sa,Pf,
cd)),"function"===typeof cc.componentDidUpdate&&(L.flags|=4),"function"===typeof cc.getSnapshotBeforeUpdate&&(L.flags|=256)):("function"!==typeof cc.componentDidUpdate||uc===D.memoizedProps&&ge===D.memoizedState||(L.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||uc===D.memoizedProps&&ge===D.memoizedState||(L.flags|=256),L.memoizedProps=Sa,L.memoizedState=Pf),cc.props=Sa,cc.state=Pf,cc.context=cd,Sa=Jd):("function"!==typeof cc.componentDidUpdate||uc===D.memoizedProps&&ge===D.memoizedState||
(L.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||uc===D.memoizedProps&&ge===D.memoizedState||(L.flags|=256),Sa=!1)}return Nf(D,L,ca,Sa,Hb,kb)}function Nf(D,L,ca,Sa,kb,Hb){df(D,L);var cc=0!==(L.flags&64);if(!Sa&&!cc)return kb&&ha(L,ca,!1),ph(D,L,Hb);Sa=L.stateNode;hl.current=L;var uc=cc&&"function"!==typeof ca.getDerivedStateFromError?null:Sa.render();L.flags|=1;null!==D&&cc?(L.child=yj(L,D.child,null,Hb),L.child=yj(L,null,uc,Hb)):Db(D,L,uc,Hb);L.memoizedState=Sa.state;kb&&ha(L,ca,!0);
return L.child}function qh(D){var L=D.stateNode;L.pendingContext?jb(D,L.pendingContext,L.pendingContext!==L.context):L.context&&jb(D,L.context,!1);wc(D,L.containerInfo)}function xh(D,L,ca){var Sa=L.pendingProps,kb=yh.current,Hb=!1,cc;(cc=0!==(L.flags&64))||(cc=null!==D&&null===D.memoizedState?!1:0!==(kb&2));cc?(Hb=!0,L.flags&=-65):null!==D&&null===D.memoizedState||void 0===Sa.fallback||!0===Sa.unstable_avoidThisFallback||(kb|=1);Qd(yh,kb&1);if(null===D){void 0!==Sa.fallback&&td(L);D=Sa.children;kb=
Sa.fallback;if(Hb)return D=$g(L,D,kb,ca),L.child.memoizedState={baseLanes:ca},L.memoizedState=ii,D;if("number"===typeof Sa.unstable_expectedLoadTime)return D=$g(L,D,kb,ca),L.child.memoizedState={baseLanes:ca},L.memoizedState=ii,L.lanes=33554432,D;ca=rb({mode:"visible",children:D},L.mode,ca,null);ca.return=L;return L.child=ca}if(null!==D.memoizedState){if(Hb)return Sa=Og(D,L,Sa.children,Sa.fallback,ca),Hb=L.child,kb=D.child.memoizedState,Hb.memoizedState=null===kb?{baseLanes:ca}:{baseLanes:kb.baseLanes|
ca},Hb.childLanes=D.childLanes&~ca,L.memoizedState=ii,Sa;ca=Wg(D,L,Sa.children,ca);L.memoizedState=null;return ca}if(Hb)return Sa=Og(D,L,Sa.children,Sa.fallback,ca),Hb=L.child,kb=D.child.memoizedState,Hb.memoizedState=null===kb?{baseLanes:ca}:{baseLanes:kb.baseLanes|ca},Hb.childLanes=D.childLanes&~ca,L.memoizedState=ii,Sa;ca=Wg(D,L,Sa.children,ca);L.memoizedState=null;return ca}function $g(D,L,ca,Sa){var kb=D.mode,Hb=D.child;L={mode:"hidden",children:L};0===(kb&2)&&null!==Hb?(Hb.childLanes=0,Hb.pendingProps=
L):Hb=rb(L,kb,0,null);ca=qb(ca,kb,Sa,null);Hb.return=D;ca.return=D;Hb.sibling=ca;D.child=Hb;return ca}function Wg(D,L,ca,Sa){var kb=D.child;D=kb.sibling;ca=xa(kb,{mode:"visible",children:ca});0===(L.mode&2)&&(ca.lanes=Sa);ca.return=L;ca.sibling=null;null!==D&&(D.nextEffect=null,D.flags=8,L.firstEffect=L.lastEffect=D);return L.child=ca}function Og(D,L,ca,Sa,kb){var Hb=L.mode,cc=D.child;D=cc.sibling;var uc={mode:"hidden",children:ca};0===(Hb&2)&&L.child!==cc?(ca=L.child,ca.childLanes=0,ca.pendingProps=
uc,cc=ca.lastEffect,null!==cc?(L.firstEffect=ca.firstEffect,L.lastEffect=cc,cc.nextEffect=null):L.firstEffect=L.lastEffect=null):ca=xa(cc,uc);null!==D?Sa=xa(D,Sa):(Sa=qb(Sa,Hb,kb,null),Sa.flags|=2);Sa.return=L;ca.return=L;ca.sibling=Sa;L.child=ca;return Sa}function kh(D,L){D.lanes|=L;var ca=D.alternate;null!==ca&&(ca.lanes|=L);Cc(D.return,L)}function ah(D,L,ca,Sa,kb,Hb){var cc=D.memoizedState;null===cc?D.memoizedState={isBackwards:L,rendering:null,renderingStartTime:0,last:Sa,tail:ca,tailMode:kb,
lastEffect:Hb}:(cc.isBackwards=L,cc.rendering=null,cc.renderingStartTime=0,cc.last=Sa,cc.tail=ca,cc.tailMode=kb,cc.lastEffect=Hb)}function Xh(D,L,ca){var Sa=L.pendingProps,kb=Sa.revealOrder,Hb=Sa.tail;Db(D,L,Sa.children,ca);Sa=yh.current;if(0!==(Sa&2))Sa=Sa&1|2,L.flags|=64;else{if(null!==D&&0!==(D.flags&64))a:for(D=L.child;null!==D;){if(13===D.tag)null!==D.memoizedState&&kh(D,ca);else if(19===D.tag)kh(D,ca);else if(null!==D.child){D.child.return=D;D=D.child;continue}if(D===L)break a;for(;null===D.sibling;){if(null===
D.return||D.return===L)break a;D=D.return}D.sibling.return=D.return;D=D.sibling}Sa&=1}Qd(yh,Sa);if(0===(L.mode&2))L.memoizedState=null;else switch(kb){case "forwards":ca=L.child;for(kb=null;null!==ca;)D=ca.alternate,null!==D&&null===Fd(D)&&(kb=ca),ca=ca.sibling;ca=kb;null===ca?(kb=L.child,L.child=null):(kb=ca.sibling,ca.sibling=null);ah(L,!1,kb,ca,Hb,L.lastEffect);break;case "backwards":ca=null;kb=L.child;for(L.child=null;null!==kb;){D=kb.alternate;if(null!==D&&null===Fd(D)){L.child=kb;break}D=kb.sibling;
kb.sibling=ca;ca=kb;kb=D}ah(L,!0,ca,null,Hb,L.lastEffect);break;case "together":ah(L,!1,null,null,void 0,L.lastEffect);break;default:L.memoizedState=null}return L.child}function ph(D,L,ca){null!==D&&(L.dependencies=D.dependencies);wj|=L.lanes;if(0!==(ca&L.childLanes)){if(null!==D&&L.child!==D.child)throw Error(y(153));if(null!==L.child){D=L.child;ca=xa(D,D.pendingProps);L.child=ca;for(ca.return=L;null!==D.sibling;)D=D.sibling,ca=ca.sibling=xa(D,D.pendingProps),ca.return=L;ca.sibling=null}return L.child}return null}
function og(D,L){if(!Ai)switch(D.tailMode){case "hidden":L=D.tail;for(var ca=null;null!==L;)null!==L.alternate&&(ca=L),L=L.sibling;null===ca?D.tail=null:ca.sibling=null;break;case "collapsed":ca=D.tail;for(var Sa=null;null!==ca;)null!==ca.alternate&&(Sa=ca),ca=ca.sibling;null===Sa?L||null===D.tail?D.tail=null:D.tail.sibling=null:Sa.sibling=null}}function Kh(D,L,ca){var Sa=L.pendingProps;switch(L.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return cf(L.type)&&
ra(),null;case 3:ld();Sd(qf);Sd(nh);qe();Sa=L.stateNode;Sa.pendingContext&&(Sa.context=Sa.pendingContext,Sa.pendingContext=null);if(null===D||null===D.child)fe(L)?L.flags|=4:Sa.hydrate||(L.flags|=256);il(L);return null;case 5:Fe(L);var kb=Bc(dk.current);ca=L.type;if(null!==D&&null!=L.stateNode)yl(D,L,ca,Sa,kb),D.ref!==L.ref&&(L.flags|=128);else{if(!Sa){if(null===L.stateNode)throw Error(y(166));return null}D=Bc(Si.current);if(fe(L)){Sa=L.stateNode;ca=L.type;var Hb=L.memoizedProps;Sa[gj]=L;Sa[qk]=Hb;
switch(ca){case "dialog":ue("cancel",Sa);ue("close",Sa);break;case "iframe":case "object":case "embed":ue("load",Sa);break;case "video":case "audio":for(D=0;D<Dh.length;D++)ue(Dh[D],Sa);break;case "source":ue("error",Sa);break;case "img":case "image":case "link":ue("error",Sa);ue("load",Sa);break;case "details":ue("toggle",Sa);break;case "input":H(Sa,Hb);ue("invalid",Sa);break;case "select":Sa._wrapperState={wasMultiple:!!Hb.multiple};ue("invalid",Sa);break;case "textarea":P(Sa,Hb),ue("invalid",Sa)}wa(ca,
Hb);D=null;for(var cc in Hb)Hb.hasOwnProperty(cc)&&(kb=Hb[cc],"children"===cc?"string"===typeof kb?Sa.textContent!==kb&&(D=["children",kb]):"number"===typeof kb&&Sa.textContent!==""+kb&&(D=["children",""+kb]):hg.hasOwnProperty(cc)&&null!=kb&&"onScroll"===cc&&ue("scroll",Sa));switch(ca){case "input":J(Sa);Z(Sa,Hb,!0);break;case "textarea":J(Sa);B(Sa);break;case "select":case "option":break;default:"function"===typeof Hb.onClick&&(Sa.onclick=Hd)}Sa=D;L.updateQueue=Sa;null!==Sa&&(L.flags|=4)}else{cc=
9===kb.nodeType?kb:kb.ownerDocument;D===Ta.html&&(D=K(ca));D===Ta.html?"script"===ca?(D=cc.createElement("div"),D.innerHTML="\x3cscript\x3e\x3c/script\x3e",D=D.removeChild(D.firstChild)):"string"===typeof Sa.is?D=cc.createElement(ca,{is:Sa.is}):(D=cc.createElement(ca),"select"===ca&&(cc=D,Sa.multiple?cc.multiple=!0:Sa.size&&(cc.size=Sa.size))):D=cc.createElementNS(D,ca);D[gj]=L;D[qk]=Sa;zj(D,L,!1,!1);L.stateNode=D;cc=Ua(ca,Sa);switch(ca){case "dialog":ue("cancel",D);ue("close",D);kb=Sa;break;case "iframe":case "object":case "embed":ue("load",
D);kb=Sa;break;case "video":case "audio":for(kb=0;kb<Dh.length;kb++)ue(Dh[kb],D);kb=Sa;break;case "source":ue("error",D);kb=Sa;break;case "img":case "image":case "link":ue("error",D);ue("load",D);kb=Sa;break;case "details":ue("toggle",D);kb=Sa;break;case "input":H(D,Sa);kb=q(D,Sa);ue("invalid",D);break;case "option":kb=aa(D,Sa);break;case "select":D._wrapperState={wasMultiple:!!Sa.multiple};kb=nf({},Sa,{value:void 0});ue("invalid",D);break;case "textarea":P(D,Sa);kb=X(D,Sa);ue("invalid",D);break;
default:kb=Sa}wa(ca,kb);var uc=kb;for(Hb in uc)if(uc.hasOwnProperty(Hb)){var cd=uc[Hb];"style"===Hb?la(D,cd):"dangerouslySetInnerHTML"===Hb?(cd=cd?cd.__html:void 0,null!=cd&&Yb(D,cd)):"children"===Hb?"string"===typeof cd?("textarea"!==ca||""!==cd)&&ka(D,cd):"number"===typeof cd&&ka(D,""+cd):"suppressContentEditableWarning"!==Hb&&"suppressHydrationWarning"!==Hb&&"autoFocus"!==Hb&&(hg.hasOwnProperty(Hb)?null!=cd&&"onScroll"===Hb&&ue("scroll",D):null!=cd&&e(D,Hb,cd,cc))}switch(ca){case "input":J(D);
Z(D,Sa,!1);break;case "textarea":J(D);B(D);break;case "option":null!=Sa.value&&D.setAttribute("value",""+z(Sa.value));break;case "select":D.multiple=!!Sa.multiple;Hb=Sa.value;null!=Hb?W(D,!!Sa.multiple,Hb,!1):null!=Sa.defaultValue&&W(D,!!Sa.multiple,Sa.defaultValue,!0);break;default:"function"===typeof kb.onClick&&(D.onclick=Hd)}me(ca,Sa)&&(L.flags|=4)}null!==L.ref&&(L.flags|=128)}return null;case 6:if(D&&null!=L.stateNode)Aj(D,L,D.memoizedProps,Sa);else{if("string"!==typeof Sa&&null===L.stateNode)throw Error(y(166));
ca=Bc(dk.current);Bc(Si.current);fe(L)?(Sa=L.stateNode,ca=L.memoizedProps,Sa[gj]=L,Sa.nodeValue!==ca&&(L.flags|=4)):(Sa=(9===ca.nodeType?ca:ca.ownerDocument).createTextNode(Sa),Sa[gj]=L,L.stateNode=Sa)}return null;case 13:Sd(yh);Sa=L.memoizedState;if(0!==(L.flags&64))return L.lanes=ca,L;Sa=null!==Sa;ca=!1;null===D?void 0!==L.memoizedProps.fallback&&fe(L):ca=null!==D.memoizedState;if(Sa&&!ca&&0!==(L.mode&2))if(null===D&&!0!==L.memoizedProps.unstable_avoidThisFallback||0!==(yh.current&1))0===Th&&(Th=
3);else{if(0===Th||3===Th)Th=4;null===hi||0===(wj&134217727)&&0===(nj&134217727)||Lh(hi,Oh)}if(Sa||ca)L.flags|=4;return null;case 4:return ld(),il(L),null===D&&Df(L.stateNode.containerInfo),null;case 10:return Xc(L),null;case 17:return cf(L.type)&&ra(),null;case 19:Sd(yh);Sa=L.memoizedState;if(null===Sa)return null;Hb=0!==(L.flags&64);cc=Sa.rendering;if(null===cc)if(Hb)og(Sa,!1);else{if(0!==Th||null!==D&&0!==(D.flags&64))for(D=L.child;null!==D;){cc=Fd(D);if(null!==cc){L.flags|=64;og(Sa,!1);Hb=cc.updateQueue;
null!==Hb&&(L.updateQueue=Hb,L.flags|=4);null===Sa.lastEffect&&(L.firstEffect=null);L.lastEffect=Sa.lastEffect;Sa=ca;for(ca=L.child;null!==ca;)Hb=ca,D=Sa,Hb.flags&=2,Hb.nextEffect=null,Hb.firstEffect=null,Hb.lastEffect=null,cc=Hb.alternate,null===cc?(Hb.childLanes=0,Hb.lanes=D,Hb.child=null,Hb.memoizedProps=null,Hb.memoizedState=null,Hb.updateQueue=null,Hb.dependencies=null,Hb.stateNode=null):(Hb.childLanes=cc.childLanes,Hb.lanes=cc.lanes,Hb.child=cc.child,Hb.memoizedProps=cc.memoizedProps,Hb.memoizedState=
cc.memoizedState,Hb.updateQueue=cc.updateQueue,Hb.type=cc.type,D=cc.dependencies,Hb.dependencies=null===D?null:{lanes:D.lanes,firstContext:D.firstContext}),ca=ca.sibling;Qd(yh,yh.current&1|2);return L.child}D=D.sibling}null!==Sa.tail&&ei()>wk&&(L.flags|=64,Hb=!0,og(Sa,!1),L.lanes=33554432)}else{if(!Hb)if(D=Fd(cc),null!==D){if(L.flags|=64,Hb=!0,ca=D.updateQueue,null!==ca&&(L.updateQueue=ca,L.flags|=4),og(Sa,!0),null===Sa.tail&&"hidden"===Sa.tailMode&&!cc.alternate&&!Ai)return L=L.lastEffect=Sa.lastEffect,
null!==L&&(L.nextEffect=null),null}else 2*ei()-Sa.renderingStartTime>wk&&1073741824!==ca&&(L.flags|=64,Hb=!0,og(Sa,!1),L.lanes=33554432);Sa.isBackwards?(cc.sibling=L.child,L.child=cc):(ca=Sa.last,null!==ca?ca.sibling=cc:L.child=cc,Sa.last=cc)}return null!==Sa.tail?(ca=Sa.tail,Sa.rendering=ca,Sa.tail=ca.sibling,Sa.lastEffect=L.lastEffect,Sa.renderingStartTime=ei(),ca.sibling=null,L=yh.current,Qd(yh,Hb?L&1|2:L&1),ca):null;case 23:case 24:return ef(),null!==D&&null!==D.memoizedState!==(null!==L.memoizedState)&&
"unstable-defer-without-hiding"!==Sa.mode&&(L.flags|=4),null}throw Error(y(156,L.tag));}function Ph(D){switch(D.tag){case 1:cf(D.type)&&ra();var L=D.flags;return L&4096?(D.flags=L&-4097|64,D):null;case 3:ld();Sd(qf);Sd(nh);qe();L=D.flags;if(0!==(L&64))throw Error(y(285));D.flags=L&-4097|64;return D;case 5:return Fe(D),null;case 13:return Sd(yh),L=D.flags,L&4096?(D.flags=L&-4097|64,D):null;case 19:return Sd(yh),null;case 4:return ld(),null;case 10:return Xc(D),null;case 23:case 24:return ef(),null;
default:return null}}function N(D,L){try{var ca="",Sa=L;do ca+=b(Sa),Sa=Sa.return;while(Sa)}catch(kb){ca="\nError generating stack: "+kb.message+"\n"+kb.stack}return{value:D,source:L,stack:ca}}function ia(D,L){try{console.error(L.value)}catch(ca){setTimeout(function(){throw ca;})}}function Pa(D,L,ca){ca=Yc(-1,ca);ca.tag=3;ca.payload={element:null};var Sa=L.value;ca.callback=function(){xk||(xk=!0,yk=Sa);ia(D,L)};return ca}function fb(D,L,ca){ca=Yc(-1,ca);ca.tag=3;var Sa=D.type.getDerivedStateFromError;
if("function"===typeof Sa){var kb=L.value;ca.payload=function(){ia(D,L);return Sa(kb)}}var Hb=D.stateNode;null!==Hb&&"function"===typeof Hb.componentDidCatch&&(ca.callback=function(){"function"!==typeof Sa&&(null===Hi?Hi=new Set([this]):Hi.add(this),ia(D,L));var cc=L.stack;this.componentDidCatch(L.value,{componentStack:null!==cc?cc:""})});return ca}function Jb(D){var L=D.ref;if(null!==L)if("function"===typeof L)try{L(null)}catch(ca){Ba(D,ca)}else L.current=null}function Rb(D,L){switch(L.tag){case 0:case 11:case 15:case 22:return;
case 1:if(L.flags&256&&null!==D){var ca=D.memoizedProps,Sa=D.memoizedState;D=L.stateNode;L=D.getSnapshotBeforeUpdate(L.elementType===L.type?ca:Uc(L.type,ca),Sa);D.__reactInternalSnapshotBeforeUpdate=L}return;case 3:L.flags&256&&Qf(L.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(y(163));}function Hc(D,L,ca){switch(ca.tag){case 0:case 11:case 15:case 22:L=ca.updateQueue;L=null!==L?L.lastEffect:null;if(null!==L){D=L=L.next;do{if(3===(D.tag&3)){var Sa=D.create;D.destroy=
Sa()}D=D.next}while(D!==L)}L=ca.updateQueue;L=null!==L?L.lastEffect:null;if(null!==L){D=L=L.next;do{var kb=D;Sa=kb.next;kb=kb.tag;0!==(kb&4)&&0!==(kb&1)&&(Kf(ca,D),Of(ca,D));D=Sa}while(D!==L)}return;case 1:D=ca.stateNode;ca.flags&4&&(null===L?D.componentDidMount():(Sa=ca.elementType===ca.type?L.memoizedProps:Uc(ca.type,L.memoizedProps),D.componentDidUpdate(Sa,L.memoizedState,D.__reactInternalSnapshotBeforeUpdate)));L=ca.updateQueue;null!==L&&Vb(ca,L,D);return;case 3:L=ca.updateQueue;if(null!==L){D=
null;if(null!==ca.child)switch(ca.child.tag){case 5:D=ca.child.stateNode;break;case 1:D=ca.child.stateNode}Vb(ca,L,D)}return;case 5:D=ca.stateNode;null===L&&ca.flags&4&&me(ca.type,ca.memoizedProps)&&D.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===ca.memoizedState&&(ca=ca.alternate,null!==ca&&(ca=ca.memoizedState,null!==ca&&(ca=ca.dehydrated,null!==ca&&Mb(ca))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(y(163));}function Zc(D,L){for(var ca=
D;;){if(5===ca.tag){var Sa=ca.stateNode;if(L)Sa=Sa.style,"function"===typeof Sa.setProperty?Sa.setProperty("display","none","important"):Sa.display="none";else{Sa=ca.stateNode;var kb=ca.memoizedProps.style;kb=void 0!==kb&&null!==kb&&kb.hasOwnProperty("display")?kb.display:null;Sa.style.display=da("display",kb)}}else if(6===ca.tag)ca.stateNode.nodeValue=L?"":ca.memoizedProps;else if((23!==ca.tag&&24!==ca.tag||null===ca.memoizedState||ca===D)&&null!==ca.child){ca.child.return=ca;ca=ca.child;continue}if(ca===
D)break;for(;null===ca.sibling;){if(null===ca.return||ca.return===D)return;ca=ca.return}ca.sibling.return=ca.return;ca=ca.sibling}}function ed(D,L){if(zh&&"function"===typeof zh.onCommitFiberUnmount)try{zh.onCommitFiberUnmount(le,L)}catch(Hb){}switch(L.tag){case 0:case 11:case 14:case 15:case 22:D=L.updateQueue;if(null!==D&&(D=D.lastEffect,null!==D)){var ca=D=D.next;do{var Sa=ca,kb=Sa.destroy;Sa=Sa.tag;if(void 0!==kb)if(0!==(Sa&4))Kf(L,ca);else{Sa=L;try{kb()}catch(Hb){Ba(Sa,Hb)}}ca=ca.next}while(ca!==
D)}break;case 1:Jb(L);D=L.stateNode;if("function"===typeof D.componentWillUnmount)try{D.props=L.memoizedProps,D.state=L.memoizedState,D.componentWillUnmount()}catch(Hb){Ba(L,Hb)}break;case 5:Jb(L);break;case 4:wg(D,L)}}function pd(D){D.alternate=null;D.child=null;D.dependencies=null;D.firstEffect=null;D.lastEffect=null;D.memoizedProps=null;D.memoizedState=null;D.pendingProps=null;D.return=null;D.updateQueue=null}function Vd(D){return 5===D.tag||3===D.tag||4===D.tag}function we(D){a:{for(var L=D.return;null!==
L;){if(Vd(L))break a;L=L.return}throw Error(y(160));}var ca=L;L=ca.stateNode;switch(ca.tag){case 5:var Sa=!1;break;case 3:L=L.containerInfo;Sa=!0;break;case 4:L=L.containerInfo;Sa=!0;break;default:throw Error(y(161));}ca.flags&16&&(ka(L,""),ca.flags&=-17);ca=D;a:b:for(;;){for(;null===ca.sibling;){if(null===ca.return||Vd(ca.return)){ca=null;break a}ca=ca.return}ca.sibling.return=ca.return;for(ca=ca.sibling;5!==ca.tag&&6!==ca.tag&&18!==ca.tag;){if(ca.flags&2)continue b;if(null===ca.child||4===ca.tag)continue b;
else ca.child.return=ca,ca=ca.child}if(!(ca.flags&2)){ca=ca.stateNode;break a}}Sa?Ze(D,ca,L):rf(D,ca,L)}function Ze(D,L,ca){var Sa=D.tag,kb=5===Sa||6===Sa;if(kb)D=kb?D.stateNode:D.stateNode.instance,L?8===ca.nodeType?ca.parentNode.insertBefore(D,L):ca.insertBefore(D,L):(8===ca.nodeType?(L=ca.parentNode,L.insertBefore(D,ca)):(L=ca,L.appendChild(D)),ca=ca._reactRootContainer,null!==ca&&void 0!==ca||null!==L.onclick||(L.onclick=Hd));else if(4!==Sa&&(D=D.child,null!==D))for(Ze(D,L,ca),D=D.sibling;null!==
D;)Ze(D,L,ca),D=D.sibling}function rf(D,L,ca){var Sa=D.tag,kb=5===Sa||6===Sa;if(kb)D=kb?D.stateNode:D.stateNode.instance,L?ca.insertBefore(D,L):ca.appendChild(D);else if(4!==Sa&&(D=D.child,null!==D))for(rf(D,L,ca),D=D.sibling;null!==D;)rf(D,L,ca),D=D.sibling}function wg(D,L){for(var ca=L,Sa=!1,kb,Hb;;){if(!Sa){Sa=ca.return;a:for(;;){if(null===Sa)throw Error(y(160));kb=Sa.stateNode;switch(Sa.tag){case 5:Hb=!1;break a;case 3:kb=kb.containerInfo;Hb=!0;break a;case 4:kb=kb.containerInfo;Hb=!0;break a}Sa=
Sa.return}Sa=!0}if(5===ca.tag||6===ca.tag){var cc=D,uc=ca,cd=uc;a:for(;;)if(ed(cc,cd),null!==cd.child&&4!==cd.tag)cd.child.return=cd,cd=cd.child;else{if(cd===uc)break a;for(;null===cd.sibling;){if(null===cd.return||cd.return===uc)break a;cd=cd.return}cd.sibling.return=cd.return;cd=cd.sibling}Hb?(cc=kb,uc=ca.stateNode,8===cc.nodeType?cc.parentNode.removeChild(uc):cc.removeChild(uc)):kb.removeChild(ca.stateNode)}else if(4===ca.tag){if(null!==ca.child){kb=ca.stateNode.containerInfo;Hb=!0;ca.child.return=
ca;ca=ca.child;continue}}else if(ed(D,ca),null!==ca.child){ca.child.return=ca;ca=ca.child;continue}if(ca===L)break;for(;null===ca.sibling;){if(null===ca.return||ca.return===L)return;ca=ca.return;4===ca.tag&&(Sa=!1)}ca.sibling.return=ca.return;ca=ca.sibling}}function De(D,L){switch(L.tag){case 0:case 11:case 14:case 15:case 22:var ca=L.updateQueue;ca=null!==ca?ca.lastEffect:null;if(null!==ca){var Sa=ca=ca.next;do 3===(Sa.tag&3)&&(D=Sa.destroy,Sa.destroy=void 0,void 0!==D&&D()),Sa=Sa.next;while(Sa!==
ca)}return;case 1:return;case 5:ca=L.stateNode;if(null!=ca){Sa=L.memoizedProps;var kb=null!==D?D.memoizedProps:Sa;D=L.type;var Hb=L.updateQueue;L.updateQueue=null;if(null!==Hb){ca[qk]=Sa;"input"===D&&"radio"===Sa.type&&null!=Sa.name&&M(ca,Sa);Ua(D,kb);L=Ua(D,Sa);for(kb=0;kb<Hb.length;kb+=2){var cc=Hb[kb],uc=Hb[kb+1];"style"===cc?la(ca,uc):"dangerouslySetInnerHTML"===cc?Yb(ca,uc):"children"===cc?ka(ca,uc):e(ca,cc,uc,L)}switch(D){case "input":R(ca,Sa);break;case "textarea":w(ca,Sa);break;case "select":D=
ca._wrapperState.wasMultiple,ca._wrapperState.wasMultiple=!!Sa.multiple,Hb=Sa.value,null!=Hb?W(ca,!!Sa.multiple,Hb,!1):D!==!!Sa.multiple&&(null!=Sa.defaultValue?W(ca,!!Sa.multiple,Sa.defaultValue,!0):W(ca,!!Sa.multiple,Sa.multiple?[]:"",!1))}}}return;case 6:if(null===L.stateNode)throw Error(y(162));L.stateNode.nodeValue=L.memoizedProps;return;case 3:ca=L.stateNode;ca.hydrate&&(ca.hydrate=!1,Mb(ca.containerInfo));return;case 12:return;case 13:null!==L.memoizedState&&(Sk=ei(),Zc(L.child,!0));fg(L);
return;case 19:fg(L);return;case 17:return;case 23:case 24:Zc(L,null!==L.memoizedState);return}throw Error(y(163));}function fg(D){var L=D.updateQueue;if(null!==L){D.updateQueue=null;var ca=D.stateNode;null===ca&&(ca=D.stateNode=new zl);L.forEach(function(Sa){var kb=wb.bind(null,D,Sa);ca.has(Sa)||(ca.add(Sa),Sa.then(kb,kb))})}}function kg(D,L){return null!==D&&(D=D.memoizedState,null===D||null!==D.dehydrated)?(L=L.memoizedState,null!==L&&null===L.dehydrated):!1}function Rg(){wk=ei()+500}function rg(){return 0!==
(Gf&48)?ei():-1!==Bj?Bj:Bj=ei()}function Yg(D){D=D.mode;if(0===(D&2))return 1;if(0===(D&4))return 99===Oa()?1:2;0===aj&&(aj=Pj);if(0!==Tk.transition){0!==zk&&(zk=null!==Uk?Uk.pendingLanes:0);D=aj;var L=4186112&~zk;L&=-L;0===L&&(D=4186112&~D,L=D&-D,0===L&&(L=8192));return L}D=Oa();0!==(Gf&4)&&98===D?D=Td(12,aj):(D=Ic(D),D=Td(D,aj));return D}function jf(D,L,ca){if(50<Qj)throw Qj=0,Ak=null,Error(y(185));D=gh(D,L);if(null===D)return null;Fa(D,L,ca);D===hi&&(nj|=L,4===Th&&Lh(D,Oh));var Sa=Oa();1===L?0!==
(Gf&8)&&0===(Gf&48)?bh(D):(Uf(D,ca),0===Gf&&(Rg(),Wb())):(0===(Gf&4)||98!==Sa&&99!==Sa||(null===Ui?Ui=new Set([D]):Ui.add(D)),Uf(D,ca));Uk=D}function gh(D,L){D.lanes|=L;var ca=D.alternate;null!==ca&&(ca.lanes|=L);ca=D;for(D=D.return;null!==D;)D.childLanes|=L,ca=D.alternate,null!==ca&&(ca.childLanes|=L),ca=D,D=D.return;return 3===ca.tag?ca.stateNode:null}function Uf(D,L){for(var ca=D.callbackNode,Sa=D.suspendedLanes,kb=D.pingedLanes,Hb=D.expirationTimes,cc=D.pendingLanes;0<cc;){var uc=31-Qh(cc),cd=
1<<uc,Jd=Hb[uc];if(-1===Jd){if(0===(cd&Sa)||0!==(cd&kb)){Jd=L;lc(cd);var Ve=zg;Hb[uc]=10<=Ve?Jd+250:6<=Ve?Jd+5E3:-1}}else Jd<=L&&(D.expiredLanes|=cd);cc&=~cd}Sa=Rc(D,D===hi?Oh:0);L=zg;if(0===Sa)null!==ca&&(ca!==Rj&&ck(ca),D.callbackNode=null,D.callbackPriority=0);else{if(null!==ca){if(D.callbackPriority===L)return;ca!==Rj&&ck(ca)}15===L?(ca=bh.bind(null,D),null===$i?($i=[ca],tk=sk(gi,sc)):$i.push(ca),ca=Rj):14===L?ca=Cb(99,bh.bind(null,D)):(ca=Ec(L),ca=Cb(ca,sg.bind(null,D)));D.callbackPriority=L;
D.callbackNode=ca}}function sg(D){Bj=-1;zk=aj=0;if(0!==(Gf&48))throw Error(y(327));var L=D.callbackNode;if(re()&&D.callbackNode!==L)return null;var ca=Rc(D,D===hi?Oh:0);if(0===ca)return null;var Sa=ca,kb=Gf;Gf|=16;var Hb=sf();if(hi!==D||Oh!==Sa)Rg(),Hg(D,Sa);do try{for(;null!==Ah&&!Vk();)Uh(Ah);break}catch(uc){ff(D,uc)}while(1);yi=jj=ij=null;fk.current=Hb;Gf=kb;null!==Ah?Sa=0:(hi=null,Oh=0,Sa=Th);if(0!==(Pj&nj))Hg(D,0);else if(0!==Sa){2===Sa&&(Gf|=64,D.hydrate&&(D.hydrate=!1,Qf(D.containerInfo)),
ca=id(D),0!==ca&&(Sa=xg(D,ca)));if(1===Sa)throw L=Sj,Hg(D,0),Lh(D,ca),Uf(D,ei()),L;D.finishedWork=D.current.alternate;D.finishedLanes=ca;switch(Sa){case 0:case 1:throw Error(y(345));case 2:hh(D);break;case 3:Lh(D,ca);if((ca&62914560)===ca&&(Sa=Sk+500-ei(),10<Sa)){if(0!==Rc(D,0))break;kb=D.suspendedLanes;if((kb&ca)!==ca){rg();D.pingedLanes|=D.suspendedLanes&kb;break}D.timeoutHandle=jl(hh.bind(null,D),Sa);break}hh(D);break;case 4:Lh(D,ca);if((ca&4186112)===ca)break;Sa=D.eventTimes;for(kb=-1;0<ca;){var cc=
31-Qh(ca);Hb=1<<cc;cc=Sa[cc];cc>kb&&(kb=cc);ca&=~Hb}ca=kb;ca=ei()-ca;ca=(120>ca?120:480>ca?480:1080>ca?1080:1920>ca?1920:3E3>ca?3E3:4320>ca?4320:1960*ji(ca/1960))-ca;if(10<ca){D.timeoutHandle=jl(hh.bind(null,D),ca);break}hh(D);break;case 5:hh(D);break;default:throw Error(y(329));}}Uf(D,ei());return D.callbackNode===L?sg.bind(null,D):null}function Lh(D,L){L&=~Bk;L&=~nj;D.suspendedLanes|=L;D.pingedLanes&=~L;for(D=D.expirationTimes;0<L;){var ca=31-Qh(L),Sa=1<<ca;D[ca]=-1;L&=~Sa}}function bh(D){if(0!==
(Gf&48))throw Error(y(327));re();if(D===hi&&0!==(D.expiredLanes&Oh)){var L=Oh,ca=xg(D,L);0!==(Pj&nj)&&(L=Rc(D,L),ca=xg(D,L))}else L=Rc(D,0),ca=xg(D,L);0!==D.tag&&2===ca&&(Gf|=64,D.hydrate&&(D.hydrate=!1,Qf(D.containerInfo)),L=id(D),0!==L&&(ca=xg(D,L)));if(1===ca)throw ca=Sj,Hg(D,0),Lh(D,L),Uf(D,ei()),ca;D.finishedWork=D.current.alternate;D.finishedLanes=L;hh(D);Uf(D,ei());return null}function Eh(){if(null!==Ui){var D=Ui;Ui=null;D.forEach(function(L){L.expiredLanes|=24&L.pendingLanes;Uf(L,ei())})}Wb()}
function ki(D,L){var ca=Gf;Gf|=1;try{return D(L)}finally{Gf=ca,0===Gf&&(Rg(),Wb())}}function Vh(D,L){var ca=Gf;Gf&=-2;Gf|=8;try{return D(L)}finally{Gf=ca,0===Gf&&(Rg(),Wb())}}function Sh(D,L){Qd(Tj,Cj);Cj|=L;Pj|=L}function ef(){Cj=Tj.current;Sd(Tj)}function Hg(D,L){D.finishedWork=null;D.finishedLanes=0;var ca=D.timeoutHandle;-1!==ca&&(D.timeoutHandle=-1,Wk(ca));if(null!==Ah)for(ca=Ah.return;null!==ca;){var Sa=ca;switch(Sa.tag){case 1:Sa=Sa.type.childContextTypes;null!==Sa&&void 0!==Sa&&ra();break;
case 3:ld();Sd(qf);Sd(nh);qe();break;case 5:Fe(Sa);break;case 4:ld();break;case 13:Sd(yh);break;case 19:Sd(yh);break;case 10:Xc(Sa);break;case 23:case 24:ef()}ca=ca.return}hi=D;Ah=xa(D.current,null);Oh=Cj=Pj=L;Th=0;Sj=null;Bk=nj=wj=0}function ff(D,L){do{var ca=Ah;try{yi=jj=ij=null;xj.current=Oj;if(vk){for(var Sa=jh.memoizedState;null!==Sa;){var kb=Sa.queue;null!==kb&&(kb.pending=null);Sa=Sa.next}vk=!1}mj=0;Rh=di=jh=null;Nj=!1;Uj.current=null;if(null===ca||null===ca.return){Th=1;Sj=L;Ah=null;break}a:{var Hb=
D,cc=ca.return,uc=ca,cd=L;L=Oh;uc.flags|=2048;uc.firstEffect=uc.lastEffect=null;if(null!==cd&&"object"===typeof cd&&"function"===typeof cd.then){var Jd=cd;if(0===(uc.mode&2)){var Ve=uc.alternate;Ve?(uc.updateQueue=Ve.updateQueue,uc.memoizedState=Ve.memoizedState,uc.lanes=Ve.lanes):(uc.updateQueue=null,uc.memoizedState=null)}var Tf=0!==(yh.current&1),ge=cc;do{var lf;if(lf=13===ge.tag){var Pf=ge.memoizedState;if(null!==Pf)lf=null!==Pf.dehydrated?!0:!1;else{var Ff=ge.memoizedProps;lf=void 0===Ff.fallback?
!1:!0!==Ff.unstable_avoidThisFallback?!0:Tf?!1:!0}}if(lf){var vd=ge.updateQueue;if(null===vd){var jd=new Set;jd.add(Jd);ge.updateQueue=jd}else vd.add(Jd);if(0===(ge.mode&2)){ge.flags|=64;uc.flags|=16384;uc.flags&=-2981;if(1===uc.tag)if(null===uc.alternate)uc.tag=17;else{var rd=Yc(-1,1);rd.tag=2;mb(uc,rd)}uc.lanes|=1;break a}cd=void 0;uc=L;var Wd=Hb.pingCache;null===Wd?(Wd=Hb.pingCache=new Al,cd=new Set,Wd.set(Jd,cd)):(cd=Wd.get(Jd),void 0===cd&&(cd=new Set,Wd.set(Jd,cd)));if(!cd.has(uc)){cd.add(uc);
var Xd=db.bind(null,Hb,Jd,uc);Jd.then(Xd,Xd)}ge.flags|=4096;ge.lanes=L;break a}ge=ge.return}while(null!==ge);cd=Error((m(uc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Th&&(Th=2);cd=N(cd,uc);ge=cc;do{switch(ge.tag){case 3:Hb=cd;ge.flags|=4096;L&=-L;ge.lanes|=L;var Xf=Pa(ge,Hb,L);Gb(ge,Xf);break a;case 1:Hb=cd;var ye=ge.type,
Re=ge.stateNode;if(0===(ge.flags&64)&&("function"===typeof ye.getDerivedStateFromError||null!==Re&&"function"===typeof Re.componentDidCatch&&(null===Hi||!Hi.has(Re)))){ge.flags|=4096;L&=-L;ge.lanes|=L;var zf=fb(ge,Hb,L);Gb(ge,zf);break a}}ge=ge.return}while(null!==ge)}Fh(ca)}catch(Ef){L=Ef;Ah===ca&&null!==ca&&(Ah=ca.return);continue}break}while(1)}function sf(){var D=fk.current;fk.current=Oj;return null===D?Oj:D}function xg(D,L){var ca=Gf;Gf|=16;var Sa=sf();hi===D&&Oh===L||Hg(D,L);do try{for(;null!==
Ah;)Uh(Ah);break}catch(kb){ff(D,kb)}while(1);yi=jj=ij=null;Gf=ca;fk.current=Sa;if(null!==Ah)throw Error(y(261));hi=null;Oh=0;return Th}function Uh(D){var L=Bl(D.alternate,D,Cj);D.memoizedProps=D.pendingProps;null===L?Fh(D):Ah=L;Uj.current=null}function Fh(D){var L=D;do{var ca=L.alternate;D=L.return;if(0===(L.flags&2048)){ca=Kh(ca,L,Cj);if(null!==ca){Ah=ca;return}ca=L;if(24!==ca.tag&&23!==ca.tag||null===ca.memoizedState||0!==(Cj&1073741824)||0===(ca.mode&4)){for(var Sa=0,kb=ca.child;null!==kb;)Sa|=
kb.lanes|kb.childLanes,kb=kb.sibling;ca.childLanes=Sa}null!==D&&0===(D.flags&2048)&&(null===D.firstEffect&&(D.firstEffect=L.firstEffect),null!==L.lastEffect&&(null!==D.lastEffect&&(D.lastEffect.nextEffect=L.firstEffect),D.lastEffect=L.lastEffect),1<L.flags&&(null!==D.lastEffect?D.lastEffect.nextEffect=L:D.firstEffect=L,D.lastEffect=L))}else{ca=Ph(L);if(null!==ca){ca.flags&=2047;Ah=ca;return}null!==D&&(D.firstEffect=D.lastEffect=null,D.flags|=2048)}L=L.sibling;if(null!==L){Ah=L;return}Ah=L=D}while(null!==
L);0===Th&&(Th=5)}function hh(D){var L=Oa();ub(99,Hf.bind(null,D,L));return null}function Hf(D,L){do re();while(null!==Vi);if(0!==(Gf&48))throw Error(y(327));var ca=D.finishedWork;if(null===ca)return null;D.finishedWork=null;D.finishedLanes=0;if(ca===D.current)throw Error(y(177));D.callbackNode=null;var Sa=ca.lanes|ca.childLanes,kb=Sa,Hb=D.pendingLanes&~kb;D.pendingLanes=kb;D.suspendedLanes=0;D.pingedLanes=0;D.expiredLanes&=kb;D.mutableReadLanes&=kb;D.entangledLanes&=kb;kb=D.entanglements;for(var cc=
D.eventTimes,uc=D.expirationTimes;0<Hb;){var cd=31-Qh(Hb),Jd=1<<cd;kb[cd]=0;cc[cd]=-1;uc[cd]=-1;Hb&=~Jd}null!==Ui&&0===(Sa&24)&&Ui.has(D)&&Ui.delete(D);D===hi&&(Ah=hi=null,Oh=0);1<ca.flags?null!==ca.lastEffect?(ca.lastEffect.nextEffect=ca,Sa=ca.firstEffect):Sa=ca:Sa=ca.firstEffect;if(null!==Sa){kb=Gf;Gf|=32;Uj.current=null;Ii=Ni;cc=Ed();if(Nd(cc)){if("selectionStart"in cc)uc={start:cc.selectionStart,end:cc.selectionEnd};else a:if(uc=(uc=cc.ownerDocument)&&uc.defaultView||window,(Jd=uc.getSelection&&
uc.getSelection())&&0!==Jd.rangeCount){uc=Jd.anchorNode;Hb=Jd.anchorOffset;cd=Jd.focusNode;Jd=Jd.focusOffset;try{uc.nodeType,cd.nodeType}catch(Ef){uc=null;break a}var Ve=0,Tf=-1,ge=-1,lf=0,Pf=0,Ff=cc,vd=null;b:for(;;){for(var jd;;){Ff!==uc||0!==Hb&&3!==Ff.nodeType||(Tf=Ve+Hb);Ff!==cd||0!==Jd&&3!==Ff.nodeType||(ge=Ve+Jd);3===Ff.nodeType&&(Ve+=Ff.nodeValue.length);if(null===(jd=Ff.firstChild))break;vd=Ff;Ff=jd}for(;;){if(Ff===cc)break b;vd===uc&&++lf===Hb&&(Tf=Ve);vd===cd&&++Pf===Jd&&(ge=Ve);if(null!==
(jd=Ff.nextSibling))break;Ff=vd;vd=Ff.parentNode}Ff=jd}uc=-1===Tf||-1===ge?null:{start:Tf,end:ge}}else uc=null;uc=uc||{start:0,end:0}}else uc=null;Dj={focusedElem:cc,selectionRange:uc};Ni=!1;gk=null;hk=!1;Xe=Sa;do try{Ee()}catch(Ef){if(null===Xe)throw Error(y(330));Ba(Xe,Ef);Xe=Xe.nextEffect}while(null!==Xe);gk=null;Xe=Sa;do try{for(cc=D;null!==Xe;){var rd=Xe.flags;rd&16&&ka(Xe.stateNode,"");if(rd&128){var Wd=Xe.alternate;if(null!==Wd){var Xd=Wd.ref;null!==Xd&&("function"===typeof Xd?Xd(null):Xd.current=
null)}}switch(rd&1038){case 2:we(Xe);Xe.flags&=-3;break;case 6:we(Xe);Xe.flags&=-3;De(Xe.alternate,Xe);break;case 1024:Xe.flags&=-1025;break;case 1028:Xe.flags&=-1025;De(Xe.alternate,Xe);break;case 4:De(Xe.alternate,Xe);break;case 8:uc=Xe;wg(cc,uc);var Xf=uc.alternate;pd(uc);null!==Xf&&pd(Xf)}Xe=Xe.nextEffect}}catch(Ef){if(null===Xe)throw Error(y(330));Ba(Xe,Ef);Xe=Xe.nextEffect}while(null!==Xe);Xd=Dj;Wd=Ed();rd=Xd.focusedElem;cc=Xd.selectionRange;if(Wd!==rd&&rd&&rd.ownerDocument&&md(rd.ownerDocument.documentElement,
rd)){null!==cc&&Nd(rd)&&(Wd=cc.start,Xd=cc.end,void 0===Xd&&(Xd=Wd),"selectionStart"in rd?(rd.selectionStart=Wd,rd.selectionEnd=Math.min(Xd,rd.value.length)):(Xd=(Wd=rd.ownerDocument||document)&&Wd.defaultView||window,Xd.getSelection&&(Xd=Xd.getSelection(),uc=rd.textContent.length,Xf=Math.min(cc.start,uc),cc=void 0===cc.end?Xf:Math.min(cc.end,uc),!Xd.extend&&Xf>cc&&(uc=cc,cc=Xf,Xf=uc),uc=bd(rd,Xf),Hb=bd(rd,cc),uc&&Hb&&(1!==Xd.rangeCount||Xd.anchorNode!==uc.node||Xd.anchorOffset!==uc.offset||Xd.focusNode!==
Hb.node||Xd.focusOffset!==Hb.offset)&&(Wd=Wd.createRange(),Wd.setStart(uc.node,uc.offset),Xd.removeAllRanges(),Xf>cc?(Xd.addRange(Wd),Xd.extend(Hb.node,Hb.offset)):(Wd.setEnd(Hb.node,Hb.offset),Xd.addRange(Wd))))));Wd=[];for(Xd=rd;Xd=Xd.parentNode;)1===Xd.nodeType&&Wd.push({element:Xd,left:Xd.scrollLeft,top:Xd.scrollTop});"function"===typeof rd.focus&&rd.focus();for(rd=0;rd<Wd.length;rd++)Xd=Wd[rd],Xd.element.scrollLeft=Xd.left,Xd.element.scrollTop=Xd.top}Ni=!!Ii;Dj=Ii=null;D.current=ca;Xe=Sa;do try{for(rd=
D;null!==Xe;){var ye=Xe.flags;ye&36&&Hc(rd,Xe.alternate,Xe);if(ye&128){Wd=void 0;var Re=Xe.ref;if(null!==Re){var zf=Xe.stateNode;switch(Xe.tag){case 5:Wd=zf;break;default:Wd=zf}"function"===typeof Re?Re(Wd):Re.current=Wd}}Xe=Xe.nextEffect}}catch(Ef){if(null===Xe)throw Error(y(330));Ba(Xe,Ef);Xe=Xe.nextEffect}while(null!==Xe);Xe=null;Cl();Gf=kb}else D.current=ca;if(Bi)Bi=!1,Vi=D,Vj=L;else for(Xe=Sa;null!==Xe;)L=Xe.nextEffect,Xe.nextEffect=null,Xe.flags&8&&(ye=Xe,ye.sibling=null,ye.stateNode=null),
Xe=L;Sa=D.pendingLanes;0===Sa&&(Hi=null);1===Sa?D===Ak?Qj++:(Qj=0,Ak=D):Qj=0;ca=ca.stateNode;if(zh&&"function"===typeof zh.onCommitFiberRoot)try{zh.onCommitFiberRoot(le,ca,void 0,64===(ca.current.flags&64))}catch(Ef){}Uf(D,ei());if(xk)throw xk=!1,D=yk,yk=null,D;if(0!==(Gf&8))return null;Wb();return null}function Ee(){for(;null!==Xe;){var D=Xe.alternate;hk||null===gk||(0!==(Xe.flags&8)?cb(Xe,gk)&&(hk=!0):13===Xe.tag&&kg(D,Xe)&&cb(Xe,gk)&&(hk=!0));var L=Xe.flags;0!==(L&256)&&Rb(D,Xe);0===(L&512)||Bi||
(Bi=!0,Cb(97,function(){re();return null}));Xe=Xe.nextEffect}}function re(){if(90!==Vj){var D=97<Vj?97:Vj;Vj=90;return ub(D,vf)}return!1}function Of(D,L){Ck.push(L,D);Bi||(Bi=!0,Cb(97,function(){re();return null}))}function Kf(D,L){Xk.push(L,D);Bi||(Bi=!0,Cb(97,function(){re();return null}))}function vf(){if(null===Vi)return!1;var D=Vi;Vi=null;if(0!==(Gf&48))throw Error(y(331));var L=Gf;Gf|=32;var ca=Xk;Xk=[];for(var Sa=0;Sa<ca.length;Sa+=2){var kb=ca[Sa],Hb=ca[Sa+1],cc=kb.destroy;kb.destroy=void 0;
if("function"===typeof cc)try{cc()}catch(cd){if(null===Hb)throw Error(y(330));Ba(Hb,cd)}}ca=Ck;Ck=[];for(Sa=0;Sa<ca.length;Sa+=2){kb=ca[Sa];Hb=ca[Sa+1];try{var uc=kb.create;kb.destroy=uc()}catch(cd){if(null===Hb)throw Error(y(330));Ba(Hb,cd)}}for(uc=D.current.firstEffect;null!==uc;)D=uc.nextEffect,uc.nextEffect=null,uc.flags&8&&(uc.sibling=null,uc.stateNode=null),uc=D;Gf=L;Wb();return!0}function Zf(D,L,ca){L=N(ca,L);L=Pa(D,L,1);mb(D,L);L=rg();D=gh(D,1);null!==D&&(Fa(D,1,L),Uf(D,L))}function Ba(D,
L){if(3===D.tag)Zf(D,D,L);else for(var ca=D.return;null!==ca;){if(3===ca.tag){Zf(ca,D,L);break}else if(1===ca.tag){var Sa=ca.stateNode;if("function"===typeof ca.type.getDerivedStateFromError||"function"===typeof Sa.componentDidCatch&&(null===Hi||!Hi.has(Sa))){D=N(L,D);var kb=fb(ca,D,1);mb(ca,kb);kb=rg();ca=gh(ca,1);if(null!==ca)Fa(ca,1,kb),Uf(ca,kb);else if("function"===typeof Sa.componentDidCatch&&(null===Hi||!Hi.has(Sa)))try{Sa.componentDidCatch(L,D)}catch(Hb){}break}}ca=ca.return}}function db(D,
L,ca){var Sa=D.pingCache;null!==Sa&&Sa.delete(L);L=rg();D.pingedLanes|=D.suspendedLanes&ca;hi===D&&(Oh&ca)===ca&&(4===Th||3===Th&&(Oh&62914560)===Oh&&500>ei()-Sk?Hg(D,0):Bk|=ca);Uf(D,L)}function wb(D,L){var ca=D.stateNode;null!==ca&&ca.delete(L);L=0;0===L&&(L=D.mode,0===(L&2)?L=1:0===(L&4)?L=99===Oa()?1:2:(0===aj&&(aj=Pj),L=Ea(62914560&~aj),0===L&&(L=4194304)));ca=rg();D=gh(D,L);null!==D&&(Fa(D,L,ca),Uf(D,ca))}function Lb(D,L,ca,Sa){this.tag=D;this.key=ca;this.sibling=this.child=this.return=this.stateNode=
this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=L;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Sa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function pc(D,L,ca,Sa){return new Lb(D,L,ca,Sa)}function rc(D){D=D.prototype;return!(!D||!D.isReactComponent)}function Nc(D){if("function"===typeof D)return rc(D)?1:0;if(void 0!==D&&null!==D){D=D.$$typeof;if(D===rh)return 11;
if(D===wh)return 14}return 2}function xa(D,L){var ca=D.alternate;null===ca?(ca=pc(D.tag,L,D.key,D.mode),ca.elementType=D.elementType,ca.type=D.type,ca.stateNode=D.stateNode,ca.alternate=D,D.alternate=ca):(ca.pendingProps=L,ca.type=D.type,ca.flags=0,ca.nextEffect=null,ca.firstEffect=null,ca.lastEffect=null);ca.childLanes=D.childLanes;ca.lanes=D.lanes;ca.child=D.child;ca.memoizedProps=D.memoizedProps;ca.memoizedState=D.memoizedState;ca.updateQueue=D.updateQueue;L=D.dependencies;ca.dependencies=null===
L?null:{lanes:L.lanes,firstContext:L.firstContext};ca.sibling=D.sibling;ca.index=D.index;ca.ref=D.ref;return ca}function Ra(D,L,ca,Sa,kb,Hb){var cc=2;Sa=D;if("function"===typeof D)rc(D)&&(cc=1);else if("string"===typeof D)cc=5;else a:switch(D){case Ch:return qb(ca.children,kb,Hb,L);case ti:cc=8;kb|=16;break;case Hh:cc=8;kb|=1;break;case li:return D=pc(12,ca,L,kb|8),D.elementType=li,D.type=li,D.lanes=Hb,D;case oi:return D=pc(13,ca,L,kb),D.type=oi,D.elementType=oi,D.lanes=Hb,D;case xi:return D=pc(19,
ca,L,kb),D.elementType=xi,D.lanes=Hb,D;case Ji:return rb(ca,kb,Hb,L);case Ci:return D=pc(24,ca,L,kb),D.elementType=Ci,D.lanes=Hb,D;default:if("object"===typeof D&&null!==D)switch(D.$$typeof){case Yf:cc=10;break a;case Cg:cc=9;break a;case rh:cc=11;break a;case wh:cc=14;break a;case Mi:cc=16;Sa=null;break a;case Xi:cc=22;break a}throw Error(y(130,null==D?D:typeof D,""));}L=pc(cc,ca,L,kb);L.elementType=D;L.type=Sa;L.lanes=Hb;return L}function qb(D,L,ca,Sa){D=pc(7,D,Sa,L);D.lanes=ca;return D}function rb(D,
L,ca,Sa){D=pc(23,D,Sa,L);D.elementType=Ji;D.lanes=ca;return D}function fc(D,L,ca){D=pc(6,D,null,L);D.lanes=ca;return D}function Oc(D,L,ca){L=pc(4,null!==D.children?D.children:[],D.key,L);L.lanes=ca;L.stateNode={containerInfo:D.containerInfo,pendingChildren:null,implementation:D.implementation};return L}function $c(D,L,ca){this.tag=L;this.containerInfo=D;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=
ca;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=za(0);this.expirationTimes=za(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=za(0);this.mutableSourceEagerHydrationData=null}function xd(D,L,ca){var Sa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:lg,key:null==Sa?null:""+Sa,children:D,containerInfo:L,implementation:ca}}function Tc(D,L,ca,Sa){var kb=
L.current,Hb=rg(),cc=Yg(kb);a:if(ca){ca=ca._reactInternals;b:{if(oa(ca)!==ca||1!==ca.tag)throw Error(y(170));var uc=ca;do{switch(uc.tag){case 3:uc=uc.stateNode.context;break b;case 1:if(cf(uc.type)){uc=uc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}uc=uc.return}while(null!==uc);throw Error(y(171));}if(1===ca.tag){var cd=ca.type;if(cf(cd)){ca=Ia(ca,cd,uc);break a}}ca=uc}else ca=Ri;null===L.context?L.context=ca:L.pendingContext=ca;L=Yc(Hb,cc);L.payload={element:D};Sa=void 0===Sa?null:
Sa;null!==Sa&&(L.callback=Sa);mb(kb,L);jf(kb,cc,Hb);return cc}function Md(D){D=D.current;if(!D.child)return null;switch(D.child.tag){case 5:return D.child.stateNode;default:return D.child.stateNode}}function Cd(D,L){D=D.memoizedState;if(null!==D&&null!==D.dehydrated){var ca=D.retryLane;D.retryLane=0!==ca&&ca<L?ca:L}}function Ae(D,L){Cd(D,L);(D=D.alternate)&&Cd(D,L)}function uf(){return null}function Je(D,L,ca){var Sa=null!=ca&&null!=ca.hydrationOptions&&ca.hydrationOptions.mutableSources||null;ca=
new $c(D,L,null!=ca&&!0===ca.hydrate);L=pc(3,null,null,2===L?7:1===L?3:0);ca.current=L;L.stateNode=ca;Fc(L);D[fj]=ca.current;Df(8===D.nodeType?D.parentNode:D);if(Sa)for(D=0;D<Sa.length;D++){L=Sa[D];var kb=L._getVersion;kb=kb(L._source);null==ca.mutableSourceEagerHydrationData?ca.mutableSourceEagerHydrationData=[L,kb]:ca.mutableSourceEagerHydrationData.push(L,kb)}this._internalRoot=ca}function of(D){return!(!D||1!==D.nodeType&&9!==D.nodeType&&11!==D.nodeType&&(8!==D.nodeType||" react-mount-point-unstable "!==
D.nodeValue))}function Vf(D,L){L||(L=D?9===D.nodeType?D.documentElement:D.firstChild:null,L=!(!L||1!==L.nodeType||!L.hasAttribute("data-reactroot")));if(!L)for(var ca;ca=D.lastChild;)D.removeChild(ca);return new Je(D,0,L?{hydrate:!0}:void 0)}function pg(D,L,ca,Sa,kb){var Hb=ca._reactRootContainer;if(Hb){var cc=Hb._internalRoot;if("function"===typeof kb){var uc=kb;kb=function(){var Jd=Md(cc);uc.call(Jd)}}Tc(L,cc,D,kb)}else{Hb=ca._reactRootContainer=Vf(ca,Sa);cc=Hb._internalRoot;if("function"===typeof kb){var cd=
kb;kb=function(){var Jd=Md(cc);cd.call(Jd)}}Vh(function(){Tc(L,cc,D,kb)})}return Md(cc)}function mf(D,L){var ca=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!of(L))throw Error(y(200));return xd(D,L,null,ca)}var Lf=F(3),nf=F(0),xf=F(6);if(!Lf)throw Error(y(227));var Bh=new Set,hg={},Xg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
Tg=Object.prototype.hasOwnProperty,eh={},Yh={},Kg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(D){Kg[D]=new k(D,0,!1,D,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(D){var L=D[0];Kg[L]=new k(L,1,!1,D[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(D){Kg[D]=
new k(D,2,!1,D.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(D){Kg[D]=new k(D,2,!1,D,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(D){Kg[D]=new k(D,3,!1,D.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(D){Kg[D]=new k(D,3,!0,D,null,!1,!1)});["capture","download"].forEach(function(D){Kg[D]=new k(D,4,!1,D,null,!1,!1)});["cols","rows","size","span"].forEach(function(D){Kg[D]=new k(D,6,!1,D,null,!1,!1)});["rowSpan","start"].forEach(function(D){Kg[D]=new k(D,5,!1,D.toLowerCase(),null,!1,!1)});var ui=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(D){var L=
D.replace(ui,f);Kg[L]=new k(L,1,!1,D,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(D){var L=D.replace(ui,f);Kg[L]=new k(L,1,!1,D,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(D){var L=D.replace(ui,f);Kg[L]=new k(L,1,!1,D,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(D){Kg[D]=new k(D,1,!1,D.toLowerCase(),null,!1,!1)});Kg.xlinkHref=new k("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(D){Kg[D]=new k(D,1,!1,D.toLowerCase(),null,!0,!0)});var Sg=Lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ng=60103,lg=60106,Ch=60107,Hh=60108,li=60114,Yf=60109,Cg=60110,rh=60112,oi=60113,xi=60120,wh=60115,Mi=60116,Xi=60121,Fi=60128,ti=60129,Ji=60130,Ci=60131;if("function"===typeof Symbol&&Symbol.for){var Ig=Symbol.for;Ng=Ig("react.element");lg=Ig("react.portal");Ch=Ig("react.fragment");
Hh=Ig("react.strict_mode");li=Ig("react.profiler");Yf=Ig("react.provider");Cg=Ig("react.context");rh=Ig("react.forward_ref");oi=Ig("react.suspense");xi=Ig("react.suspense_list");wh=Ig("react.memo");Mi=Ig("react.lazy");Xi=Ig("react.block");Ig("react.scope");Fi=Ig("react.opaque.id");ti=Ig("react.debug_trace_mode");Ji=Ig("react.offscreen");Ci=Ig("react.legacy_hidden")}var Jj="function"===typeof Symbol&&Symbol.iterator,na,Na=!1,Ta={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},vb,Yb=function(D){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(L,ca,Sa,kb){MSApp.execUnsafeLocalFunction(function(){return D(L,ca,Sa,kb)})}:D}(function(D,L){if(D.namespaceURI!==Ta.svg||"innerHTML"in D)D.innerHTML=L;else{vb=vb||document.createElement("div");vb.innerHTML="\x3csvg\x3e"+L.valueOf().toString()+"\x3c/svg\x3e";for(L=vb.firstChild;D.firstChild;)D.removeChild(D.firstChild);for(;L.firstChild;)D.appendChild(L.firstChild)}}),bc={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hc=["Webkit","ms","Moz","O"];Object.keys(bc).forEach(function(D){hc.forEach(function(L){L=L+D.charAt(0).toUpperCase()+D.substring(1);bc[L]=bc[D]})});var xc=nf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),gd=null,Gd=null,Ud=null,nd=Ma,ie=!1,Ue=!1,yf=!1;if(Xg)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){yf=
!0}});window.addEventListener("test",Ge,Ge);window.removeEventListener("test",Ge,Ge)}catch(D){yf=!1}var ag=!1,Pg=null,Ke=!1,sh=null,Nh={onError:function(D){ag=!0;Pg=D}},Qg=!1,gf=[],yg=null,Zh=null,Le=null,ne=new Map,Pe=new Map,oe=[],wf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Ug=
{animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},bg={},lh={};Xg&&(lh=document.createElement("div").style,"AnimationEvent"in window||(delete Ug.animationend.animation,delete Ug.animationiteration.animation,delete Ug.animationstart.animation),"TransitionEvent"in window||delete Ug.transitionend.transition);var bi=ec("animationend"),Jh=ec("animationiteration"),
Qi=ec("animationstart"),Kj=ec("transitionend"),Yj=new Map,Ei=new Map,Ej=["abort","abort",bi,"animationEnd",Jh,"animationIteration",Qi,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Kj,"transitionEnd","waiting","waiting"],Dk=xf.unstable_now;Dk();var zg=8,Qh=Math.clz32?Math.clz32:bb,sj=Math.log,ok=Math.LN2,Nk=xf.unstable_UserBlockingPriority,cj=xf.unstable_runWithPriority,Ni=!0,Ih=null,fh=null,ig=null,vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(D){return D.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uj=od(vi),ni=nf({},vi,{view:0,detail:0}),
Yi=od(ni),Di,Gh,oj,pj=nf({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(D){return void 0===D.relatedTarget?D.fromElement===D.srcElement?D.toElement:D.fromElement:D.relatedTarget},movementX:function(D){if("movementX"in D)return D.movementX;D!==oj&&(oj&&"mousemove"===D.type?(Di=D.screenX-oj.screenX,Gh=D.screenY-oj.screenY):Gh=Di=0,oj=D);return Di},movementY:function(D){return"movementY"in
D?D.movementY:Gh}}),pi=od(pj),Fj=nf({},pj,{dataTransfer:0}),dj=od(Fj),Wi=nf({},ni,{relatedTarget:0}),Pi=od(Wi),qj=nf({},vi,{animationName:0,elapsedTime:0,pseudoElement:0}),pk=od(qj),ik=nf({},vi,{clipboardData:function(D){return"clipboardData"in D?D.clipboardData:window.clipboardData}}),Zj=od(ik),Gj=nf({},vi,{data:0}),Zi=od(Gj),bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},Ek={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
jk=nf({},ni,{key:function(D){if(D.key){var L=bj[D.key]||D.key;if("Unidentified"!==L)return L}return"keypress"===D.type?(D=Dc(D),13===D?"Enter":String.fromCharCode(D)):"keydown"===D.type||"keyup"===D.type?Ek[D.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(D){return"keypress"===D.type?Dc(D):0},keyCode:function(D){return"keydown"===D.type||"keyup"===D.type?D.keyCode:0},which:function(D){return"keypress"===
D.type?Dc(D):"keydown"===D.type||"keyup"===D.type?D.keyCode:0}}),ai=od(jk),Jg=nf({},pj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mh=od(Jg),Fk=nf({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),ej=od(Fk),g=nf({},vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=od(g),V=nf({},pj,{deltaX:function(D){return"deltaX"in D?D.deltaX:"wheelDeltaX"in D?-D.wheelDeltaX:0},
deltaY:function(D){return"deltaY"in D?D.deltaY:"wheelDeltaY"in D?-D.wheelDeltaY:"wheelDelta"in D?-D.wheelDelta:0},deltaZ:0,deltaMode:0}),S=od(V),ea=[9,13,27,32],Ja=Xg&&"CompositionEvent"in window,Xa=null;Xg&&"documentMode"in document&&(Xa=document.documentMode);var ab=Xg&&"TextEvent"in window&&!Xa,xb=Xg&&(!Ja||Xa&&8<Xa&&11>=Xa),Qb=String.fromCharCode(32),gc=!1,Pc=!1,Wc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},ad=null,Ld=null,ze=!1;if(Xg){if(Xg){var pf="oninput"in document;if(!pf){var uh=document.createElement("div");uh.setAttribute("oninput","return;");pf="function"===typeof uh.oninput}var af=pf}else af=!1;ze=af&&(!document.documentMode||9<document.documentMode)}var Sf="function"===typeof Object.is?Object.is:Jc,Dg=Object.prototype.hasOwnProperty,Lg=Xg&&"documentMode"in document&&11>=document.documentMode,tg=null,Wf=null,ng=null,mg=!1;ac("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);ac("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);ac(Ej,2);for(var Bg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mh=0;Mh<Bg.length;Mh++)Ei.set(Bg[Mh],0);n("onMouseEnter",["mouseout","mouseover"]);n("onMouseLeave",
["mouseout","mouseover"]);n("onPointerEnter",["pointerout","pointerover"]);n("onPointerLeave",["pointerout","pointerover"]);p("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));p("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));p("onBeforeInput",["compositionend","keypress","textInput","paste"]);p("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));p("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));p("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$h=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dh)),Oi="_reactListening"+Math.random().toString(36).slice(2),
Ii=null,Dj=null,jl="function"===typeof setTimeout?setTimeout:void 0,Wk="function"===typeof clearTimeout?clearTimeout:void 0,Yk=0,Gk=Math.random().toString(36).slice(2),gj="__reactFiber$"+Gk,qk="__reactProps$"+Gk,fj="__reactContainer$"+Gk,rk="__reactEvents$"+Gk,Ok=[],vj=-1,Ri={},nh=Rd(Ri),qf=Rd(!1),Mg=Ri,le=null,zh=null,hj=xf.unstable_runWithPriority,sk=xf.unstable_scheduleCallback,ck=xf.unstable_cancelCallback,Vk=xf.unstable_shouldYield,kl=xf.unstable_requestPaint,kk=xf.unstable_now,el=xf.unstable_getCurrentPriorityLevel,
gi=xf.unstable_ImmediatePriority,ak=xf.unstable_UserBlockingPriority,fl=xf.unstable_NormalPriority,bk=xf.unstable_LowPriority,gl=xf.unstable_IdlePriority,Rj={},Cl=void 0!==kl?kl:function(){},$i=null,tk=null,Wh=!1,Hk=kk(),ei=1E4>Hk?kk:function(){return kk()-Hk},Tk=Sg.ReactCurrentBatchConfig,qi=Rd(null),ij=null,jj=null,yi=null,ci=!1,Pk=(new Lf.Component).refs,uk={isMounted:function(D){return(D=D._reactInternals)?oa(D)===D:!1},enqueueSetState:function(D,L,ca){D=D._reactInternals;var Sa=rg(),kb=Yg(D),
Hb=Yc(Sa,kb);Hb.payload=L;void 0!==ca&&null!==ca&&(Hb.callback=ca);mb(D,Hb);jf(D,kb,Sa)},enqueueReplaceState:function(D,L,ca){D=D._reactInternals;var Sa=rg(),kb=Yg(D),Hb=Yc(Sa,kb);Hb.tag=1;Hb.payload=L;void 0!==ca&&null!==ca&&(Hb.callback=ca);mb(D,Hb);jf(D,kb,Sa)},enqueueForceUpdate:function(D,L){D=D._reactInternals;var ca=rg(),Sa=Yg(D),kb=Yc(ca,Sa);kb.tag=2;void 0!==L&&null!==L&&(kb.callback=L);mb(D,kb);jf(D,Sa,ca)}},zi=Array.isArray,yj=Kc(!0),Rk=Kc(!1),Lj={},Si=Rd(Lj),ek=Rd(Lj),dk=Rd(Lj),yh=Rd(0),
Gi=null,Ti=null,Ai=!1,Mj=[],xj=Sg.ReactCurrentDispatcher,si=Sg.ReactCurrentBatchConfig,mj=0,jh=null,di=null,Rh=null,vk=!1,Nj=!1,Oj={readContext:oc,useCallback:Ad,useContext:Ad,useEffect:Ad,useImperativeHandle:Ad,useLayoutEffect:Ad,useMemo:Ad,useReducer:Ad,useRef:Ad,useState:Ad,useDebugValue:Ad,useDeferredValue:Ad,useTransition:Ad,useMutableSource:Ad,useOpaqueIdentifier:Ad,unstable_isNewReconciler:!1},xl={readContext:oc,useCallback:function(D,L){hf().memoizedState=[D,void 0===L?null:L];return D},useContext:oc,
useEffect:Jf,useImperativeHandle:function(D,L,ca){ca=null!==ca&&void 0!==ca?ca.concat([D]):null;return dg(4,2,jg.bind(null,L,D),ca)},useLayoutEffect:function(D,L){return dg(4,2,D,L)},useMemo:function(D,L){var ca=hf();L=void 0===L?null:L;D=D();ca.memoizedState=[D,L];return D},useReducer:function(D,L,ca){var Sa=hf();L=void 0!==ca?ca(L):L;Sa.memoizedState=Sa.baseState=L;D=Sa.queue={pending:null,dispatch:null,lastRenderedReducer:D,lastRenderedState:L};D=D.dispatch=Za.bind(null,jh,D);return[Sa.memoizedState,
D]},useRef:Eg,useState:Zg,useDebugValue:th,useDeferredValue:function(D){var L=Zg(D),ca=L[0],Sa=L[1];Jf(function(){var kb=si.transition;si.transition=1;try{Sa(D)}finally{si.transition=kb}},[D]);return ca},useTransition:function(){var D=Zg(!1),L=D[0];D=vh.bind(null,D[1]);Eg(D);return[D,L]},useMutableSource:function(D,L,ca){var Sa=hf();Sa.memoizedState={refs:{getSnapshot:L,setSnapshot:null},source:D,subscribe:ca};return qg(Sa,D,L,ca)},useOpaqueIdentifier:function(){if(Ai){var D=!1,L=Ne(function(){D||
(D=!0,ca("r:"+(Yk++).toString(36)));throw Error(y(355));}),ca=Zg(L)[1];0===(jh.mode&2)&&(jh.flags|=516,cg(5,function(){ca("r:"+(Yk++).toString(36))},void 0,null));return L}L="r:"+(Yk++).toString(36);Zg(L);return L},unstable_isNewReconciler:!1},mi={readContext:oc,useCallback:Fg,useContext:oc,useEffect:eg,useImperativeHandle:oh,useLayoutEffect:Mf,useMemo:vg,useReducer:Vg,useRef:Ag,useState:function(){return Vg(Cf)},useDebugValue:th,useDeferredValue:function(D){var L=Vg(Cf),ca=L[0],Sa=L[1];eg(function(){var kb=
si.transition;si.transition=1;try{Sa(D)}finally{si.transition=kb}},[D]);return ca},useTransition:function(){var D=Vg(Cf)[0];return[Ag().current,D]},useMutableSource:ug,useOpaqueIdentifier:function(){return Vg(Cf)[0]},unstable_isNewReconciler:!1},Qk={readContext:oc,useCallback:Fg,useContext:oc,useEffect:eg,useImperativeHandle:oh,useLayoutEffect:Mf,useMemo:vg,useReducer:Yd,useRef:Ag,useState:function(){return Yd(Cf)},useDebugValue:th,useDeferredValue:function(D){var L=Yd(Cf),ca=L[0],Sa=L[1];eg(function(){var kb=
si.transition;si.transition=1;try{Sa(D)}finally{si.transition=kb}},[D]);return ca},useTransition:function(){var D=Yd(Cf)[0];return[Ag().current,D]},useMutableSource:ug,useOpaqueIdentifier:function(){return Yd(Cf)[0]},unstable_isNewReconciler:!1},hl=Sg.ReactCurrentOwner,ri=!1,ii={dehydrated:null,retryLane:0};var zj=function(D,L){for(var ca=L.child;null!==ca;){if(5===ca.tag||6===ca.tag)D.appendChild(ca.stateNode);else if(4!==ca.tag&&null!==ca.child){ca.child.return=ca;ca=ca.child;continue}if(ca===L)break;
for(;null===ca.sibling;){if(null===ca.return||ca.return===L)return;ca=ca.return}ca.sibling.return=ca.return;ca=ca.sibling}};var il=function(){};var yl=function(D,L,ca,Sa){var kb=D.memoizedProps;if(kb!==Sa){D=L.stateNode;Bc(Si.current);var Hb=null;switch(ca){case "input":kb=q(D,kb);Sa=q(D,Sa);Hb=[];break;case "option":kb=aa(D,kb);Sa=aa(D,Sa);Hb=[];break;case "select":kb=nf({},kb,{value:void 0});Sa=nf({},Sa,{value:void 0});Hb=[];break;case "textarea":kb=X(D,kb);Sa=X(D,Sa);Hb=[];break;default:"function"!==
typeof kb.onClick&&"function"===typeof Sa.onClick&&(D.onclick=Hd)}wa(ca,Sa);var cc;ca=null;for(Jd in kb)if(!Sa.hasOwnProperty(Jd)&&kb.hasOwnProperty(Jd)&&null!=kb[Jd])if("style"===Jd){var uc=kb[Jd];for(cc in uc)uc.hasOwnProperty(cc)&&(ca||(ca={}),ca[cc]="")}else"dangerouslySetInnerHTML"!==Jd&&"children"!==Jd&&"suppressContentEditableWarning"!==Jd&&"suppressHydrationWarning"!==Jd&&"autoFocus"!==Jd&&(hg.hasOwnProperty(Jd)?Hb||(Hb=[]):(Hb=Hb||[]).push(Jd,null));for(Jd in Sa){var cd=Sa[Jd];uc=null!=kb?
kb[Jd]:void 0;if(Sa.hasOwnProperty(Jd)&&cd!==uc&&(null!=cd||null!=uc))if("style"===Jd)if(uc){for(cc in uc)!uc.hasOwnProperty(cc)||cd&&cd.hasOwnProperty(cc)||(ca||(ca={}),ca[cc]="");for(cc in cd)cd.hasOwnProperty(cc)&&uc[cc]!==cd[cc]&&(ca||(ca={}),ca[cc]=cd[cc])}else ca||(Hb||(Hb=[]),Hb.push(Jd,ca)),ca=cd;else"dangerouslySetInnerHTML"===Jd?(cd=cd?cd.__html:void 0,uc=uc?uc.__html:void 0,null!=cd&&uc!==cd&&(Hb=Hb||[]).push(Jd,cd)):"children"===Jd?"string"!==typeof cd&&"number"!==typeof cd||(Hb=Hb||[]).push(Jd,
""+cd):"suppressContentEditableWarning"!==Jd&&"suppressHydrationWarning"!==Jd&&(hg.hasOwnProperty(Jd)?(null!=cd&&"onScroll"===Jd&&ue("scroll",D),Hb||uc===cd||(Hb=[])):"object"===typeof cd&&null!==cd&&cd.$$typeof===Fi?cd.toString():(Hb=Hb||[]).push(Jd,cd))}ca&&(Hb=Hb||[]).push("style",ca);var Jd;if(L.updateQueue=Hb)L.flags|=4}};var Aj=function(D,L,ca,Sa){ca!==Sa&&(L.flags|=4)};var Al="function"===typeof WeakMap?WeakMap:Map,zl="function"===typeof WeakSet?WeakSet:Set,ji=Math.ceil,fk=Sg.ReactCurrentDispatcher,
Uj=Sg.ReactCurrentOwner,Gf=0,hi=null,Ah=null,Oh=0,Cj=0,Tj=Rd(0),Th=0,Sj=null,Pj=0,wj=0,nj=0,Bk=0,Uk=null,Sk=0,wk=Infinity,Xe=null,xk=!1,yk=null,Hi=null,Bi=!1,Vi=null,Vj=90,Ck=[],Xk=[],Ui=null,Qj=0,Ak=null,Bj=-1,aj=0,zk=0,gk=null,hk=!1;var Bl=function(D,L,ca){var Sa=L.lanes;if(null!==D)if(D.memoizedProps!==L.pendingProps||qf.current)ri=!0;else if(0!==(ca&Sa))ri=0!==(D.flags&16384)?!0:!1;else{ri=!1;switch(L.tag){case 3:qh(L);Ti=Gi=null;Ai=!1;break;case 5:wd(L);break;case 1:cf(L.type)&&Xb(L);break;case 4:wc(L,
L.stateNode.containerInfo);break;case 10:Sa=L.memoizedProps.value;var kb=L.type._context;Qd(qi,kb._currentValue);kb._currentValue=Sa;break;case 13:if(null!==L.memoizedState){if(0!==(ca&L.child.childLanes))return xh(D,L,ca);Qd(yh,yh.current&1);L=ph(D,L,ca);return null!==L?L.sibling:null}Qd(yh,yh.current&1);break;case 19:Sa=0!==(ca&L.childLanes);if(0!==(D.flags&64)){if(Sa)return Xh(D,L,ca);L.flags|=64}kb=L.memoizedState;null!==kb&&(kb.rendering=null,kb.tail=null,kb.lastEffect=null);Qd(yh,yh.current);
if(Sa)break;else return null;case 23:case 24:return L.lanes=0,be(D,L,ca)}return ph(D,L,ca)}else ri=!1;L.lanes=0;switch(L.tag){case 2:Sa=L.type;null!==D&&(D.alternate=null,L.alternate=null,L.flags|=2);D=L.pendingProps;kb=Qe(L,nh.current);zc(L,ca);kb=Se(null,L,Sa,D,kb,ca);L.flags|=1;if("object"===typeof kb&&null!==kb&&"function"===typeof kb.render&&void 0===kb.$$typeof){L.tag=1;L.memoizedState=null;L.updateQueue=null;if(cf(Sa)){var Hb=!0;Xb(L)}else Hb=!1;L.memoizedState=null!==kb.state&&void 0!==kb.state?
kb.state:null;Fc(L);var cc=Sa.getDerivedStateFromProps;"function"===typeof cc&&ma(L,Sa,cc,D);kb.updater=uk;L.stateNode=kb;kb._reactInternals=L;Ib(L,Sa,D,ca);L=Nf(null,L,Sa,!0,Hb,ca)}else L.tag=0,Db(null,L,kb,ca),L=L.child;return L;case 16:kb=L.elementType;a:{null!==D&&(D.alternate=null,L.alternate=null,L.flags|=2);D=L.pendingProps;Hb=kb._init;kb=Hb(kb._payload);L.type=kb;Hb=L.tag=Nc(kb);D=Uc(kb,D);switch(Hb){case 0:L=tf(null,L,kb,D,ca);break a;case 1:L=Gg(null,L,kb,D,ca);break a;case 11:L=ic(null,
L,kb,D,ca);break a;case 14:L=ud(null,L,kb,Uc(kb.type,D),Sa,ca);break a}throw Error(y(306,kb,""));}return L;case 0:return Sa=L.type,kb=L.pendingProps,kb=L.elementType===Sa?kb:Uc(Sa,kb),tf(D,L,Sa,kb,ca);case 1:return Sa=L.type,kb=L.pendingProps,kb=L.elementType===Sa?kb:Uc(Sa,kb),Gg(D,L,Sa,kb,ca);case 3:qh(L);Sa=L.updateQueue;if(null===D||null===Sa)throw Error(y(282));Sa=L.pendingProps;kb=L.memoizedState;kb=null!==kb?kb.element:null;Mc(D,L);Pb(L,Sa,null,ca);Sa=L.memoizedState.element;if(Sa===kb)Ti=Gi=
null,Ai=!1,L=ph(D,L,ca);else{kb=L.stateNode;if(Hb=kb.hydrate)Ti=Af(L.stateNode.containerInfo.firstChild),Gi=L,Hb=Ai=!0;if(Hb){D=kb.mutableSourceEagerHydrationData;if(null!=D)for(kb=0;kb<D.length;kb+=2)Hb=D[kb],Hb._workInProgressVersionPrimary=D[kb+1],Mj.push(Hb);ca=Rk(L,null,Sa,ca);for(L.child=ca;ca;)ca.flags=ca.flags&-3|1024,ca=ca.sibling}else Db(D,L,Sa,ca),Ti=Gi=null,Ai=!1;L=L.child}return L;case 5:return wd(L),null===D&&td(L),Sa=L.type,kb=L.pendingProps,Hb=null!==D?D.memoizedProps:null,cc=kb.children,
$e(Sa,kb)?cc=null:null!==Hb&&$e(Sa,Hb)&&(L.flags|=16),df(D,L),Db(D,L,cc,ca),L.child;case 6:return null===D&&td(L),null;case 13:return xh(D,L,ca);case 4:return wc(L,L.stateNode.containerInfo),Sa=L.pendingProps,null===D?L.child=yj(L,null,Sa,ca):Db(D,L,Sa,ca),L.child;case 11:return Sa=L.type,kb=L.pendingProps,kb=L.elementType===Sa?kb:Uc(Sa,kb),ic(D,L,Sa,kb,ca);case 7:return Db(D,L,L.pendingProps,ca),L.child;case 8:return Db(D,L,L.pendingProps.children,ca),L.child;case 12:return Db(D,L,L.pendingProps.children,
ca),L.child;case 10:a:{Sa=L.type._context;kb=L.pendingProps;cc=L.memoizedProps;Hb=kb.value;var uc=L.type._context;Qd(qi,uc._currentValue);uc._currentValue=Hb;if(null!==cc)if(uc=cc.value,Hb=Sf(uc,Hb)?0:("function"===typeof Sa._calculateChangedBits?Sa._calculateChangedBits(uc,Hb):1073741823)|0,0===Hb){if(cc.children===kb.children&&!qf.current){L=ph(D,L,ca);break a}}else for(uc=L.child,null!==uc&&(uc.return=L);null!==uc;){var cd=uc.dependencies;if(null!==cd){cc=uc.child;for(var Jd=cd.firstContext;null!==
Jd;){if(Jd.context===Sa&&0!==(Jd.observedBits&Hb)){1===uc.tag&&(Jd=Yc(-1,ca&-ca),Jd.tag=2,mb(uc,Jd));uc.lanes|=ca;Jd=uc.alternate;null!==Jd&&(Jd.lanes|=ca);Cc(uc.return,ca);cd.lanes|=ca;break}Jd=Jd.next}}else cc=10===uc.tag?uc.type===L.type?null:uc.child:uc.child;if(null!==cc)cc.return=uc;else for(cc=uc;null!==cc;){if(cc===L){cc=null;break}uc=cc.sibling;if(null!==uc){uc.return=cc.return;cc=uc;break}cc=cc.return}uc=cc}Db(D,L,kb.children,ca);L=L.child}return L;case 9:return kb=L.type,Hb=L.pendingProps,
Sa=Hb.children,zc(L,ca),kb=oc(kb,Hb.unstable_observedBits),Sa=Sa(kb),L.flags|=1,Db(D,L,Sa,ca),L.child;case 14:return kb=L.type,Hb=Uc(kb,L.pendingProps),Hb=Uc(kb.type,Hb),ud(D,L,kb,Hb,Sa,ca);case 15:return yd(D,L,L.type,L.pendingProps,Sa,ca);case 17:return Sa=L.type,kb=L.pendingProps,kb=L.elementType===Sa?kb:Uc(Sa,kb),null!==D&&(D.alternate=null,L.alternate=null,L.flags|=2),L.tag=1,cf(Sa)?(D=!0,Xb(L)):D=!1,zc(L,ca),ib(L,Sa,kb),Ib(L,Sa,kb,ca),Nf(null,L,Sa,!0,D,ca);case 19:return Xh(D,L,ca);case 23:return be(D,
L,ca);case 24:return be(D,L,ca)}throw Error(y(156,L.tag));};Je.prototype.render=function(D){Tc(D,this._internalRoot,null,null)};Je.prototype.unmount=function(){var D=this._internalRoot,L=D.containerInfo;Tc(null,D,null,function(){L[fj]=null})};var dl=function(D){if(13===D.tag){var L=rg();jf(D,4,L);Ae(D,4)}};var Mk=function(D){if(13===D.tag){var L=rg();jf(D,67108864,L);Ae(D,67108864)}};var wl=function(D){if(13===D.tag){var L=rg(),ca=Yg(D);jf(D,ca,L);Ae(D,ca)}};var vl=function(D,L){return L()};gd=function(D,
L,ca){switch(L){case "input":R(D,ca);L=ca.name;if("radio"===ca.type&&null!=L){for(ca=D;ca.parentNode;)ca=ca.parentNode;ca=ca.querySelectorAll("input[name\x3d"+JSON.stringify(""+L)+'][type\x3d"radio"]');for(L=0;L<ca.length;L++){var Sa=ca[L];if(Sa!==D&&Sa.form===D.form){var kb=ce(Sa);if(!kb)throw Error(y(90));A(Sa);R(Sa,kb)}}}break;case "textarea":w(D,ca);break;case "select":L=ca.value,null!=L&&W(D,!!ca.multiple,L,!1)}};Ma=ki;ua=function(D,L,ca,Sa,kb){var Hb=Gf;Gf|=4;try{return ub(98,D.bind(null,L,
ca,Sa,kb))}finally{Gf=Hb,0===Gf&&(Rg(),Wb())}};Aa=function(){0===(Gf&49)&&(Eh(),re())};nd=function(D,L){var ca=Gf;Gf|=2;try{return D(L)}finally{Gf=ca,0===Gf&&(Rg(),Wb())}};var ll={Events:[Zb,Sc,ce,pa,Da,re,{current:!1}]},Wj={findFiberByHostInstance:Bb,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Dl={bundleType:Wj.bundleType,version:Wj.version,rendererPackageName:Wj.rendererPackageName,rendererConfig:Wj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,
overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sg.ReactCurrentDispatcher,findHostInstanceByFiber:function(D){D=Wa(D);return null===D?null:D.stateNode},findFiberByHostInstance:Wj.findFiberByHostInstance||uf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ik=__REACT_DEVTOOLS_GLOBAL_HOOK__;
if(!Ik.isDisabled&&Ik.supportsFiber)try{le=Ik.inject(Dl),zh=Ik}catch(D){}}G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ll;G.createPortal=mf;G.findDOMNode=function(D){if(null==D)return null;if(1===D.nodeType)return D;var L=D._reactInternals;if(void 0===L){if("function"===typeof D.render)throw Error(y(188));throw Error(y(268,Object.keys(D)));}D=Wa(L);return D=null===D?null:D.stateNode};G.flushSync=function(D,L){var ca=Gf;if(0!==(ca&48))return D(L);Gf|=1;try{if(D)return ub(99,D.bind(null,L))}finally{Gf=
ca,Wb()}};G.hydrate=function(D,L,ca){if(!of(L))throw Error(y(200));return pg(null,D,L,!0,ca)};G.render=function(D,L,ca){if(!of(L))throw Error(y(200));return pg(null,D,L,!1,ca)};G.unmountComponentAtNode=function(D){if(!of(D))throw Error(y(40));return D._reactRootContainer?(Vh(function(){pg(null,null,D,!1,function(){D._reactRootContainer=null;D[fj]=null})}),!0):!1};G.unstable_batchedUpdates=ki;G.unstable_createPortal=function(D,L){return mf(D,L,2<arguments.length&&void 0!==arguments[2]?arguments[2]:
null)};G.unstable_renderSubtreeIntoContainer=function(D,L,ca,Sa){if(!of(ca))throw Error(y(200));if(null==D||void 0===D._reactInternals)throw Error(y(38));return pg(D,L,ca,!1,Sa)};G.version="17.0.2"};
shadow$provide[12]=function(sa,F,ob,G){function y(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(y)}catch(p){console.error(p)}}y();ob.exports=F(7)};
shadow$provide[13]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?ob.exports=p():"function"===typeof define&&define.amd?define(p):(y="undefined"!==typeof globalThis?globalThis:y||self,y.marked=p())})(this,function(){function y(ta,Qa){for(var oa=0;oa<Qa.length;oa++){var Y=Qa[oa];Y.enumerable=Y.enumerable||!1;Y.configurable=!0;"value"in Y&&(Y.writable=!0);Object.defineProperty(ta,Y.key,Y)}}function p(ta,Qa,oa){Qa&&y(ta.prototype,Qa);oa&&y(ta,oa);return ta}function n(ta,
Qa){if(ta){if("string"===typeof ta)return v(ta,Qa);var oa=Object.prototype.toString.call(ta).slice(8,-1);"Object"===oa&&ta.constructor&&(oa=ta.constructor.name);if("Map"===oa||"Set"===oa)return Array.from(ta);if("Arguments"===oa||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oa))return v(ta,Qa)}}function v(ta,Qa){if(null==Qa||Qa>ta.length)Qa=ta.length;for(var oa=0,Y=Array(Qa);oa<Qa;oa++)Y[oa]=ta[oa];return Y}function r(ta,Qa){var oa="undefined"!==typeof Symbol&&ta[Symbol.iterator]||ta["@@iterator"];
if(oa)return(oa=oa.call(ta)).next.bind(oa);if(Array.isArray(ta)||(oa=n(ta))||Qa&&ta&&"number"===typeof ta.length){oa&&(ta=oa);var Y=0;return function(){return Y>=ta.length?{done:!0}:{done:!1,value:ta[Y++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function h(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,
pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function k(ta){return ta.replace(q,function(Qa,oa){oa=oa.toLowerCase();return"colon"===oa?":":"#"===oa.charAt(0)?"x"===oa.charAt(1)?String.fromCharCode(parseInt(oa.substring(2),16)):String.fromCharCode(+oa.substring(1)):""})}function f(ta,Qa,oa){var Y=ta.length;if(0===Y)return"";for(var ja=0;ja<Y;){var Ga=ta.charAt(Y-ja-1);if(Ga!==Qa||oa)if(Ga!==Qa&&oa)ja++;else break;
else ja++}return ta.substr(0,Y-ja)}function e(ta,Qa,oa,Y){var ja=Qa.href;Qa=Qa.title?B(Qa.title):null;var Ga=ta[1].replace(/\\([\[\]])/g,"$1");return"!"!==ta[0].charAt(0)?(Y.state.inLink=!0,ta={type:"link",raw:oa,href:ja,title:Qa,text:Ga,tokens:Y.inlineTokens(Ga,[])},Y.state.inLink=!1,ta):{type:"image",raw:oa,href:ja,title:Qa,text:B(Ga)}}function d(ta,Qa){ta=ta.match(/^(\s+)(?:```)/);if(null===ta)return Qa;var oa=ta[1];return Qa.split("\n").map(function(Y){var ja=Y.match(/^\s+/);return null===ja?
Y:ja[0].length>=oa.length?Y.slice(oa.length):Y}).join("\n")}function a(ta){return ta.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function c(ta){var Qa="",oa,Y=ta.length;for(oa=0;oa<Y;oa++){var ja=ta.charCodeAt(oa);.5<Math.random()&&(ja="x"+ja.toString(16));Qa+="\x26#"+ja+";"}return Qa}function b(ta,Qa,oa){if("undefined"===typeof ta||null===ta)throw Error("marked(): input parameter is undefined or null");
if("string"!==typeof ta)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(ta)+", string expected");"function"===typeof Qa&&(oa=Qa,Qa=null);Qa=Ha({},b.defaults,Qa||{});Va(Qa);if(oa){var Y=Qa.highlight;try{var ja=Aa.lex(ta,Qa)}catch(nb){return oa(nb)}var Ga=function(nb){if(!nb)try{Qa.walkTokens&&b.walkTokens(ja,Qa.walkTokens);var pb=qa.parse(ja,Qa)}catch(Fb){nb=Fb}Qa.highlight=Y;return nb?oa(nb):oa(null,pb)};if(!Y||3>Y.length)return Ga();delete Qa.highlight;if(!ja.length)return Ga();
var Wa=0;b.walkTokens(ja,function(nb){"code"===nb.type&&(Wa++,setTimeout(function(){Y(nb.text,nb.lang,function(pb,Fb){if(pb)return Ga(pb);null!=Fb&&Fb!==nb.text&&(nb.text=Fb,nb.escaped=!0);Wa--;0===Wa&&Ga()})},0))});0===Wa&&Ga()}else try{var cb=Aa.lex(ta,Qa);Qa.walkTokens&&b.walkTokens(cb,Qa.walkTokens);return qa.parse(cb,Qa)}catch(nb){nb.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Qa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+eb(nb.message+"",!0)+
"\x3c/pre\x3e";throw nb;}}var m=h();var z=/[&<>"']/,u=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,J=/[<>"']|&(?!#?\w+;)/g,A={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},x=function(ta){return A[ta]},q=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,H=/(^|[^\[])\^/g,M=/[^\w:]/g,R=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,Z={},T=/^[^:]+:\/*[^/]*$/,ba=/^([^:]+:)[\s\S]*$/,aa=/^([^:]+:\/*[^/]*)[\s\S]*$/,W=function(ta,Qa){if(Qa){if(z.test(ta))return ta.replace(u,x)}else if(C.test(ta))return ta.replace(J,
x);return ta},X=function(ta){for(var Qa=1,oa,Y;Qa<arguments.length;Qa++)for(Y in oa=arguments[Qa],oa)Object.prototype.hasOwnProperty.call(oa,Y)&&(ta[Y]=oa[Y]);return ta},P=m,w=function(ta,Qa){ta=ta.replace(/\|/g,function(Y,ja,Ga){for(Y=!1;0<=--ja&&"\\"===Ga[ja];)Y=!Y;return Y?"|":" |"}).split(/ \|/);var oa=0;ta[0].trim()||ta.shift();ta[ta.length-1].trim()||ta.pop();if(ta.length>Qa)ta.splice(Qa);else for(;ta.length<Qa;)ta.push("");for(;oa<ta.length;oa++)ta[oa]=ta[oa].trim().replace(/\\\|/g,"|");return ta},
B=W,K=function(){function ta(oa){this.options=oa||P}var Qa=ta.prototype;Qa.space=function(oa){if(oa=this.rules.block.newline.exec(oa))return 1<oa[0].length?{type:"space",raw:oa[0]}:{raw:"\n"}};Qa.code=function(oa){if(oa=this.rules.block.code.exec(oa)){var Y=oa[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:oa[0],codeBlockStyle:"indented",text:this.options.pedantic?Y:f(Y,"\n")}}};Qa.fences=function(oa){if(oa=this.rules.block.fences.exec(oa)){var Y=oa[0],ja=d(Y,oa[3]||"");return{type:"code",raw:Y,
lang:oa[2]?oa[2].trim():oa[2],text:ja}}};Qa.heading=function(oa){if(oa=this.rules.block.heading.exec(oa)){var Y=oa[2].trim();if(/#$/.test(Y)){var ja=f(Y,"#");if(this.options.pedantic)Y=ja.trim();else if(!ja||/ $/.test(ja))Y=ja.trim()}oa={type:"heading",raw:oa[0],depth:oa[1].length,text:Y,tokens:[]};this.lexer.inline(oa.text,oa.tokens);return oa}};Qa.hr=function(oa){if(oa=this.rules.block.hr.exec(oa))return{type:"hr",raw:oa[0]}};Qa.blockquote=function(oa){if(oa=this.rules.block.blockquote.exec(oa)){var Y=
oa[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:oa[0],tokens:this.lexer.blockTokens(Y,[]),text:Y}}};Qa.list=function(oa){var Y=this.rules.block.list.exec(oa);if(Y){var ja,Ga;var Wa=Y[1].trim();Y=1<Wa.length;var cb={type:"list",raw:"",ordered:Y,start:Y?+Wa.slice(0,-1):"",loose:!1,items:[]};Wa=Y?"\\d{1,9}\\"+Wa.slice(-1):"\\"+Wa;this.options.pedantic&&(Wa=Y?Wa:"[*+-]");for(var nb=new RegExp("^( {0,3}"+Wa+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");oa&&!this.rules.block.hr.test(oa)&&(Y=nb.exec(oa));){var pb=
Y[2].split("\n");if(this.options.pedantic){var Fb=2;var nc=pb[0].trimLeft()}else Fb=Y[2].search(/[^ ]/),Fb=Y[1].length+(4<Fb?1:Fb),nc=pb[0].slice(Fb-Y[1].length);var Lc=!1;var Ac=Y[0];!pb[0]&&/^ *$/.test(pb[1])&&(Ac=Y[1]+pb.slice(0,2).join("\n")+"\n",cb.loose=!0,pb=[]);var yc=new RegExp("^ {0,"+Math.min(3,Fb-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Wa=1;Wa<pb.length;Wa++){var tc=pb[Wa];this.options.pedantic&&(tc=tc.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "));if(yc.test(tc)){Ac=Y[1]+pb.slice(0,Wa).join("\n")+
"\n";break}if(Lc)if(tc.search(/[^ ]/)>=Fb||!tc.trim())nc+="\n"+tc.slice(Fb);else{Ac=Y[1]+pb.slice(0,Wa).join("\n")+"\n";break}else tc.trim()||(Lc=!0),nc=tc.search(/[^ ]/)>=Fb?nc+("\n"+tc.slice(Fb)):nc+("\n"+tc)}cb.loose||(Ga?cb.loose=!0:/\n *\n *$/.test(Ac)&&(Ga=!0));if(this.options.gfm&&(ja=/^\[[ xX]\] /.exec(nc))){var hd="[ ] "!==ja[0];nc=nc.replace(/^\[[ xX]\] +/,"")}cb.items.push({type:"list_item",raw:Ac,task:!!ja,checked:hd,loose:!1,text:nc});cb.raw+=Ac;oa=oa.slice(Ac.length)}cb.items[cb.items.length-
1].raw=Ac.trimRight();cb.items[cb.items.length-1].text=nc.trimRight();cb.raw=cb.raw.trimRight();oa=cb.items.length;for(Wa=0;Wa<oa;Wa++)this.lexer.state.top=!1,cb.items[Wa].tokens=this.lexer.blockTokens(cb.items[Wa].text,[]),cb.items[Wa].tokens.some(function(Mb){return"space"===Mb.type})&&(cb.loose=!0,cb.items[Wa].loose=!0);return cb}};Qa.html=function(oa){if(oa=this.rules.block.html.exec(oa)){var Y={type:"html",raw:oa[0],pre:!this.options.sanitizer&&("pre"===oa[1]||"script"===oa[1]||"style"===oa[1]),
text:oa[0]};this.options.sanitize&&(Y.type="paragraph",Y.text=this.options.sanitizer?this.options.sanitizer(oa[0]):B(oa[0]),Y.tokens=[],this.lexer.inline(Y.text,Y.tokens));return Y}};Qa.def=function(oa){if(oa=this.rules.block.def.exec(oa))return oa[3]&&(oa[3]=oa[3].substring(1,oa[3].length-1)),{type:"def",tag:oa[1].toLowerCase().replace(/\s+/g," "),raw:oa[0],href:oa[2],title:oa[3]}};Qa.table=function(oa){var Y=this.rules.block.table.exec(oa);if(Y&&(oa={type:"table",header:w(Y[1]).map(function(cb){return{text:cb}}),
align:Y[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Y[3]?Y[3].replace(/\n$/,"").split("\n"):[]},oa.header.length===oa.align.length)){oa.raw=Y[0];Y=oa.align.length;var ja,Ga;for(ja=0;ja<Y;ja++)/^ *-+: *$/.test(oa.align[ja])?oa.align[ja]="right":/^ *:-+: *$/.test(oa.align[ja])?oa.align[ja]="center":/^ *:-+ *$/.test(oa.align[ja])?oa.align[ja]="left":oa.align[ja]=null;Y=oa.rows.length;for(ja=0;ja<Y;ja++)oa.rows[ja]=w(oa.rows[ja],oa.header.length).map(function(cb){return{text:cb}});Y=oa.header.length;
for(ja=0;ja<Y;ja++)oa.header[ja].tokens=[],this.lexer.inlineTokens(oa.header[ja].text,oa.header[ja].tokens);Y=oa.rows.length;for(ja=0;ja<Y;ja++){var Wa=oa.rows[ja];for(Ga=0;Ga<Wa.length;Ga++)Wa[Ga].tokens=[],this.lexer.inlineTokens(Wa[Ga].text,Wa[Ga].tokens)}return oa}};Qa.lheading=function(oa){if(oa=this.rules.block.lheading.exec(oa))return oa={type:"heading",raw:oa[0],depth:"\x3d"===oa[2].charAt(0)?1:2,text:oa[1],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Qa.paragraph=function(oa){if(oa=
this.rules.block.paragraph.exec(oa))return oa={type:"paragraph",raw:oa[0],text:"\n"===oa[1].charAt(oa[1].length-1)?oa[1].slice(0,-1):oa[1],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Qa.text=function(oa){if(oa=this.rules.block.text.exec(oa))return oa={type:"text",raw:oa[0],text:oa[0],tokens:[]},this.lexer.inline(oa.text,oa.tokens),oa};Qa.escape=function(oa){if(oa=this.rules.inline.escape.exec(oa))return{type:"escape",raw:oa[0],text:B(oa[1])}};Qa.tag=function(oa){if(oa=this.rules.inline.tag.exec(oa))return!this.lexer.state.inLink&&
/^<a /i.test(oa[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(oa[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(oa[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(oa[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:oa[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?
this.options.sanitizer(oa[0]):B(oa[0]):oa[0]}};Qa.link=function(oa){if(oa=this.rules.inline.link.exec(oa)){var Y=oa[2].trim();if(!this.options.pedantic&&/^</.test(Y)){if(!/>$/.test(Y))return;var ja=f(Y.slice(0,-1),"\\");if(0===(Y.length-ja.length)%2)return}else{a:{ja=oa[2];if(-1!==ja.indexOf(")"))for(var Ga=ja.length,Wa=0,cb=0;cb<Ga;cb++)if("\\"===ja[cb])cb++;else if("("===ja[cb])Wa++;else if(")"===ja[cb]&&(Wa--,0>Wa)){ja=cb;break a}ja=-1}-1<ja&&(Ga=(0===oa[0].indexOf("!")?5:4)+oa[1].length+ja,oa[2]=
oa[2].substring(0,ja),oa[0]=oa[0].substring(0,Ga).trim(),oa[3]="")}ja=oa[2];Ga="";if(this.options.pedantic){if(Wa=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ja))ja=Wa[1],Ga=Wa[3]}else Ga=oa[3]?oa[3].slice(1,-1):"";ja=ja.trim();/^</.test(ja)&&(ja=this.options.pedantic&&!/>$/.test(Y)?ja.slice(1):ja.slice(1,-1));return e(oa,{href:ja?ja.replace(this.rules.inline._escapes,"$1"):ja,title:Ga?Ga.replace(this.rules.inline._escapes,"$1"):Ga},oa[0],this.lexer)}};Qa.reflink=function(oa,Y){var ja;if((ja=this.rules.inline.reflink.exec(oa))||
(ja=this.rules.inline.nolink.exec(oa)))return oa=(ja[2]||ja[1]).replace(/\s+/g," "),oa=Y[oa.toLowerCase()],oa&&oa.href?e(ja,oa,ja[0],this.lexer):(Y=ja[0].charAt(0),{type:"text",raw:Y,text:Y})};Qa.emStrong=function(oa,Y,ja){void 0===ja&&(ja="");var Ga=this.rules.inline.emStrong.lDelim.exec(oa);if(Ga&&(!Ga[3]||!ja.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Wa=
Ga[1]||Ga[2]||"";if(!Wa||Wa&&(""===ja||this.rules.inline.punctuation.exec(ja))){var cb=ja=Ga[0].length-1,nb=0,pb="*"===Ga[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;pb.lastIndex=0;for(Y=Y.slice(-1*oa.length+ja);null!=(Ga=pb.exec(Y));)if(Wa=Ga[1]||Ga[2]||Ga[3]||Ga[4]||Ga[5]||Ga[6])if(Wa=Wa.length,Ga[3]||Ga[4])cb+=Wa;else if((Ga[5]||Ga[6])&&ja%3&&!((ja+Wa)%3))nb+=Wa;else if(cb-=Wa,!(0<cb)){Wa=Math.min(Wa,Wa+cb+nb);if(Math.min(ja,Wa)%2)return Y=oa.slice(1,ja+Ga.index+
Wa),{type:"em",raw:oa.slice(0,ja+Ga.index+Wa+1),text:Y,tokens:this.lexer.inlineTokens(Y,[])};Y=oa.slice(2,ja+Ga.index+Wa-1);return{type:"strong",raw:oa.slice(0,ja+Ga.index+Wa+1),text:Y,tokens:this.lexer.inlineTokens(Y,[])}}}}};Qa.codespan=function(oa){if(oa=this.rules.inline.code.exec(oa)){var Y=oa[2].replace(/\n/g," "),ja=/[^ ]/.test(Y),Ga=/^ /.test(Y)&&/ $/.test(Y);ja&&Ga&&(Y=Y.substring(1,Y.length-1));Y=B(Y,!0);return{type:"codespan",raw:oa[0],text:Y}}};Qa.br=function(oa){if(oa=this.rules.inline.br.exec(oa))return{type:"br",
raw:oa[0]}};Qa.del=function(oa){if(oa=this.rules.inline.del.exec(oa))return{type:"del",raw:oa[0],text:oa[2],tokens:this.lexer.inlineTokens(oa[2],[])}};Qa.autolink=function(oa,Y){if(oa=this.rules.inline.autolink.exec(oa)){if("@"===oa[2]){Y=B(this.options.mangle?Y(oa[1]):oa[1]);var ja="mailto:"+Y}else ja=Y=B(oa[1]);return{type:"link",raw:oa[0],text:Y,href:ja,tokens:[{type:"text",raw:Y,text:Y}]}}};Qa.url=function(oa,Y){if(oa=this.rules.inline.url.exec(oa)){if("@"===oa[2]){Y=B(this.options.mangle?Y(oa[0]):
oa[0]);var ja="mailto:"+Y}else{do Y=oa[0],oa[0]=this.rules.inline._backpedal.exec(oa[0])[0];while(Y!==oa[0]);Y=B(oa[0]);ja="www."===oa[1]?"http://"+Y:Y}return{type:"link",raw:oa[0],text:Y,href:ja,tokens:[{type:"text",raw:Y,text:Y}]}}};Qa.inlineText=function(oa,Y){if(oa=this.rules.inline.text.exec(oa))return Y=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(oa[0]):B(oa[0]):oa[0]:B(this.options.smartypants?Y(oa[0]):oa[0]),{type:"text",raw:oa[0],text:Y}};
return ta}(),U={exec:function(){}},ka=function(ta,Qa){ta=ta.source||ta;Qa=Qa||"";var oa={replace:function(Y,ja){ja=ja.source||ja;ja=ja.replace(H,"$1");ta=ta.replace(Y,ja);return oa},getRegex:function(){return new RegExp(ta,Qa)}};return oa},da={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:\x3c(script|pre|style|textarea)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c/(?!script|pre|style|textarea)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:U,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};da.def=ka(da.def).replace("label",da._label).replace("title",da._title).getRegex();da.bullet=/(?:[*+-]|\d{1,9}[.)])/;da.listItemStart=ka(/^( *)(bull) */).replace("bull",
da.bullet).getRegex();da.list=ka(da.list).replace(/bull/g,da.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+da.def.source+")").getRegex();da._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
da._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;da.html=ka(da.html,"i").replace("comment",da._comment).replace("tag",da._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();da.paragraph=ka(da._paragraph).replace("hr",da.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",da._tag).getRegex();da.blockquote=ka(da.blockquote).replace("paragraph",da.paragraph).getRegex();da.normal=X({},da);da.gfm=X({},da.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});da.gfm.table=ka(da.gfm.table).replace("hr",da.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",da._tag).getRegex();da.pedantic=X({},da.normal,{html:ka("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",da._comment).replace(/tag/g,
"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,paragraph:ka(da.normal._paragraph).replace("hr",da.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",da.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html",
"").getRegex()});var la={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:U,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:U,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};la.punctuation=ka(la.punctuation).replace(/punctuation/g,la._punctuation).getRegex();la.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;la.escapedEmSt=/\\\*|\\_/g;la._comment=ka(da._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();la.emStrong.lDelim=
ka(la.emStrong.lDelim).replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimAst=ka(la.emStrong.rDelimAst,"g").replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimUnd=ka(la.emStrong.rDelimUnd,"g").replace(/punct/g,la._punctuation).getRegex();la._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;la._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;la._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
la.autolink=ka(la.autolink).replace("scheme",la._scheme).replace("email",la._email).getRegex();la._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;la.tag=ka(la.tag).replace("comment",la._comment).replace("attribute",la._attribute).getRegex();la._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;la._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;la._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;la.link=ka(la.link).replace("label",
la._label).replace("href",la._href).replace("title",la._title).getRegex();la.reflink=ka(la.reflink).replace("label",la._label).getRegex();la.reflinkSearch=ka(la.reflinkSearch,"g").replace("reflink",la.reflink).replace("nolink",la.nolink).getRegex();la.normal=X({},la);la.pedantic=X({},la.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ka(/^!?\[(label)\]\((.*?)\)/).replace("label",la._label).getRegex(),reflink:ka(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",la._label).getRegex()});la.gfm=X({},la.normal,{escape:ka(la.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});la.gfm.url=ka(la.gfm.url,"i").replace("email",la.gfm._extended_email).getRegex();la.breaks=X({},la.gfm,{br:ka(la.br).replace("{2,}","*").getRegex(),text:ka(la.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var wa=m,Ua=function(ta,Qa){if(1>Qa)return"";for(var oa="";1<Qa;)Qa&1&&(oa+=ta),Qa>>=1,ta+=ta;return oa+ta};U=function(){function ta(oa){this.tokens=[];this.tokens.links=Object.create(null);this.options=oa||wa;this.options.tokenizer=this.options.tokenizer||new K;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:!1,inRawBlock:!1,top:!0};oa={block:da.normal,inline:la.normal};this.options.pedantic?(oa.block=da.pedantic,
oa.inline=la.pedantic):this.options.gfm&&(oa.block=da.gfm,oa.inline=this.options.breaks?la.breaks:la.gfm);this.tokenizer.rules=oa}ta.lex=function(oa,Y){return(new ta(Y)).lex(oa)};ta.lexInline=function(oa,Y){return(new ta(Y)).inlineTokens(oa)};var Qa=ta.prototype;Qa.lex=function(oa){oa=oa.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");for(this.blockTokens(oa,this.tokens);oa=this.inlineQueue.shift();)this.inlineTokens(oa.src,oa.tokens);return this.tokens};Qa.blockTokens=function(oa,Y){var ja=this;void 0===
Y&&(Y=[]);this.options.pedantic&&(oa=oa.replace(/^ +$/gm,""));for(var Ga,Wa,cb,nb;oa;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(pb){return(Ga=pb.call({lexer:ja},oa,Y))?(oa=oa.substring(Ga.raw.length),Y.push(Ga),!0):!1})))if(Ga=this.tokenizer.space(oa))oa=oa.substring(Ga.raw.length),Ga.type&&Y.push(Ga);else if(Ga=this.tokenizer.code(oa))oa=oa.substring(Ga.raw.length),Wa=Y[Y.length-1],!Wa||"paragraph"!==Wa.type&&"text"!==Wa.type?Y.push(Ga):
(Wa.raw+="\n"+Ga.raw,Wa.text+="\n"+Ga.text,this.inlineQueue[this.inlineQueue.length-1].src=Wa.text);else if(Ga=this.tokenizer.fences(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.heading(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.hr(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.blockquote(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.list(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=
this.tokenizer.html(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.def(oa))oa=oa.substring(Ga.raw.length),Wa=Y[Y.length-1],!Wa||"paragraph"!==Wa.type&&"text"!==Wa.type?this.tokens.links[Ga.tag]||(this.tokens.links[Ga.tag]={href:Ga.href,title:Ga.title}):(Wa.raw+="\n"+Ga.raw,Wa.text+="\n"+Ga.raw,this.inlineQueue[this.inlineQueue.length-1].src=Wa.text);else if(Ga=this.tokenizer.table(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.lheading(oa))oa=oa.substring(Ga.raw.length),
Y.push(Ga);else if(cb=oa,this.options.extensions&&this.options.extensions.startBlock&&function(){var pb=Infinity,Fb=oa.slice(1),nc=void 0;ja.options.extensions.startBlock.forEach(function(Lc){nc=Lc.call({lexer:this},Fb);"number"===typeof nc&&0<=nc&&(pb=Math.min(pb,nc))});Infinity>pb&&0<=pb&&(cb=oa.substring(0,pb+1))}(),this.state.top&&(Ga=this.tokenizer.paragraph(cb)))Wa=Y[Y.length-1],nb&&"paragraph"===Wa.type?(Wa.raw+="\n"+Ga.raw,Wa.text+="\n"+Ga.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-
1].src=Wa.text):Y.push(Ga),nb=cb.length!==oa.length,oa=oa.substring(Ga.raw.length);else if(Ga=this.tokenizer.text(oa))oa=oa.substring(Ga.raw.length),(Wa=Y[Y.length-1])&&"text"===Wa.type?(Wa.raw+="\n"+Ga.raw,Wa.text+="\n"+Ga.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Wa.text):Y.push(Ga);else if(oa)if(Wa="Infinite loop on byte: "+oa.charCodeAt(0),this.options.silent){console.error(Wa);break}else throw Error(Wa);this.state.top=!0;return Y};Qa.inline=function(oa,Y){this.inlineQueue.push({src:oa,
tokens:Y})};Qa.inlineTokens=function(oa,Y){var ja=this;void 0===Y&&(Y=[]);var Ga,Wa,cb=oa,nb;if(this.tokens.links){var pb=Object.keys(this.tokens.links);if(0<pb.length)for(;null!=(Wa=this.tokenizer.rules.inline.reflinkSearch.exec(cb));)pb.includes(Wa[0].slice(Wa[0].lastIndexOf("[")+1,-1))&&(cb=cb.slice(0,Wa.index)+"["+Ua("a",Wa[0].length-2)+"]"+cb.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Wa=this.tokenizer.rules.inline.blockSkip.exec(cb));)cb=cb.slice(0,Wa.index)+"["+
Ua("a",Wa[0].length-2)+"]"+cb.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Wa=this.tokenizer.rules.inline.escapedEmSt.exec(cb));)cb=cb.slice(0,Wa.index)+"++"+cb.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;oa;){Fb||(nb="");var Fb=!1;if(!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Lc){return(Ga=Lc.call({lexer:ja},oa,Y))?(oa=oa.substring(Ga.raw.length),Y.push(Ga),!0):!1})))if(Ga=this.tokenizer.escape(oa))oa=
oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.tag(oa))oa=oa.substring(Ga.raw.length),(Wa=Y[Y.length-1])&&"text"===Ga.type&&"text"===Wa.type?(Wa.raw+=Ga.raw,Wa.text+=Ga.text):Y.push(Ga);else if(Ga=this.tokenizer.link(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.reflink(oa,this.tokens.links))oa=oa.substring(Ga.raw.length),(Wa=Y[Y.length-1])&&"text"===Ga.type&&"text"===Wa.type?(Wa.raw+=Ga.raw,Wa.text+=Ga.text):Y.push(Ga);else if(Ga=this.tokenizer.emStrong(oa,
cb,nb))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.codespan(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.br(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.del(oa))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(Ga=this.tokenizer.autolink(oa,c))oa=oa.substring(Ga.raw.length),Y.push(Ga);else if(!this.state.inLink&&(Ga=this.tokenizer.url(oa,c)))oa=oa.substring(Ga.raw.length),Y.push(Ga);else{var nc=oa;this.options.extensions&&
this.options.extensions.startInline&&function(){var Lc=Infinity,Ac=oa.slice(1),yc=void 0;ja.options.extensions.startInline.forEach(function(tc){yc=tc.call({lexer:this},Ac);"number"===typeof yc&&0<=yc&&(Lc=Math.min(Lc,yc))});Infinity>Lc&&0<=Lc&&(nc=oa.substring(0,Lc+1))}();if(Ga=this.tokenizer.inlineText(nc,a))oa=oa.substring(Ga.raw.length),"_"!==Ga.raw.slice(-1)&&(nb=Ga.raw.slice(-1)),Fb=!0,(Wa=Y[Y.length-1])&&"text"===Wa.type?(Wa.raw+=Ga.raw,Wa.text+=Ga.text):Y.push(Ga);else if(oa)if(cb="Infinite loop on byte: "+
oa.charCodeAt(0),this.options.silent){console.error(cb);break}else throw Error(cb);}}return Y};p(ta,null,[{key:"rules",get:function(){return{block:da,inline:la}}}]);return ta}();var hb=m,La=function(ta,Qa,oa){if(ta){try{var Y=decodeURIComponent(k(oa)).replace(M,"").toLowerCase()}catch(ja){return null}if(0===Y.indexOf("javascript:")||0===Y.indexOf("vbscript:")||0===Y.indexOf("data:"))return null}Qa&&!R.test(oa)&&(ta=Qa,Z[" "+ta]||(T.test(ta)?Z[" "+ta]=ta+"/":Z[" "+ta]=f(ta,"/",!0)),ta=Z[" "+ta],Qa=
-1===ta.indexOf(":"),oa="//"===oa.substring(0,2)?Qa?oa:ta.replace(ba,"$1")+oa:"/"===oa.charAt(0)?Qa?oa:ta.replace(aa,"$1")+oa:ta+oa);try{oa=encodeURI(oa).replace(/%25/g,"%")}catch(ja){return null}return oa},pa=function(){function ta(oa){this.options=oa||hb}var Qa=ta.prototype;Qa.code=function(oa,Y,ja){Y=(Y||"").match(/\S*/)[0];if(this.options.highlight){var Ga=this.options.highlight(oa,Y);null!=Ga&&Ga!==oa&&(ja=!0,oa=Ga)}oa=oa.replace(/\n$/,"")+"\n";return Y?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+
W(Y,!0)+'"\x3e'+(ja?oa:W(oa,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(ja?oa:W(oa,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Qa.blockquote=function(oa){return"\x3cblockquote\x3e\n"+oa+"\x3c/blockquote\x3e\n"};Qa.html=function(oa){return oa};Qa.heading=function(oa,Y,ja,Ga){return this.options.headerIds?"\x3ch"+Y+' id\x3d"'+this.options.headerPrefix+Ga.slug(ja)+'"\x3e'+oa+"\x3c/h"+Y+"\x3e\n":"\x3ch"+Y+"\x3e"+oa+"\x3c/h"+Y+"\x3e\n"};Qa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":
"\x3chr\x3e\n"};Qa.list=function(oa,Y,ja){var Ga=Y?"ol":"ul";return"\x3c"+Ga+(Y&&1!==ja?' start\x3d"'+ja+'"':"")+"\x3e\n"+oa+"\x3c/"+Ga+"\x3e\n"};Qa.listitem=function(oa){return"\x3cli\x3e"+oa+"\x3c/li\x3e\n"};Qa.checkbox=function(oa){return"\x3cinput "+(oa?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};Qa.paragraph=function(oa){return"\x3cp\x3e"+oa+"\x3c/p\x3e\n"};Qa.table=function(oa,Y){Y&&(Y="\x3ctbody\x3e"+Y+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+
oa+"\x3c/thead\x3e\n"+Y+"\x3c/table\x3e\n"};Qa.tablerow=function(oa){return"\x3ctr\x3e\n"+oa+"\x3c/tr\x3e\n"};Qa.tablecell=function(oa,Y){var ja=Y.header?"th":"td";return(Y.align?"\x3c"+ja+' align\x3d"'+Y.align+'"\x3e':"\x3c"+ja+"\x3e")+oa+"\x3c/"+ja+"\x3e\n"};Qa.strong=function(oa){return"\x3cstrong\x3e"+oa+"\x3c/strong\x3e"};Qa.em=function(oa){return"\x3cem\x3e"+oa+"\x3c/em\x3e"};Qa.codespan=function(oa){return"\x3ccode\x3e"+oa+"\x3c/code\x3e"};Qa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":
"\x3cbr\x3e"};Qa.del=function(oa){return"\x3cdel\x3e"+oa+"\x3c/del\x3e"};Qa.link=function(oa,Y,ja){oa=La(this.options.sanitize,this.options.baseUrl,oa);if(null===oa)return ja;oa='\x3ca href\x3d"'+W(oa)+'"';Y&&(oa+=' title\x3d"'+Y+'"');return oa+("\x3e"+ja+"\x3c/a\x3e")};Qa.image=function(oa,Y,ja){oa=La(this.options.sanitize,this.options.baseUrl,oa);if(null===oa)return ja;oa='\x3cimg src\x3d"'+oa+'" alt\x3d"'+ja+'"';Y&&(oa+=' title\x3d"'+Y+'"');return oa+=this.options.xhtml?"/\x3e":"\x3e"};Qa.text=
function(oa){return oa};return ta}(),Da=function(){function ta(){}var Qa=ta.prototype;Qa.strong=function(oa){return oa};Qa.em=function(oa){return oa};Qa.codespan=function(oa){return oa};Qa.del=function(oa){return oa};Qa.html=function(oa){return oa};Qa.text=function(oa){return oa};Qa.link=function(oa,Y,ja){return""+ja};Qa.image=function(oa,Y,ja){return""+ja};Qa.br=function(){return""};return ta}(),Ma=function(){function ta(){this.seen={}}var Qa=ta.prototype;Qa.serialize=function(oa){return oa.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,
"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Qa.getNextSafeSlug=function(oa,Y){var ja=oa,Ga=0;if(this.seen.hasOwnProperty(ja)){Ga=this.seen[oa];do Ga++,ja=oa+"-"+Ga;while(this.seen.hasOwnProperty(ja))}Y||(this.seen[oa]=Ga,this.seen[ja]=0);return ja};Qa.slug=function(oa,Y){void 0===Y&&(Y={});oa=this.serialize(oa);return this.getNextSafeSlug(oa,Y.dryrun)};return ta}(),ua=m;ka=function(){function ta(oa){this.options=oa||ua;this.options.renderer=
this.options.renderer||new pa;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Da;this.slugger=new Ma}ta.parse=function(oa,Y){return(new ta(Y)).parse(oa)};ta.parseInline=function(oa,Y){return(new ta(Y)).parseInline(oa)};var Qa=ta.prototype;Qa.parse=function(oa,Y){void 0===Y&&(Y=!0);var ja="",Ga,Wa,cb,nb=oa.length;for(Ga=0;Ga<nb;Ga++){var pb=oa[Ga];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[pb.type]){var Fb=
this.options.extensions.renderers[pb.type].call({parser:this},pb);if(!1!==Fb||!"space hr heading code table blockquote list html paragraph text".split(" ").includes(pb.type)){ja+=Fb||"";continue}}switch(pb.type){case "space":continue;case "hr":ja+=this.renderer.hr();continue;case "heading":ja+=this.renderer.heading(this.parseInline(pb.tokens),pb.depth,k(this.parseInline(pb.tokens,this.textRenderer)),this.slugger);continue;case "code":ja+=this.renderer.code(pb.text,pb.lang,pb.escaped);continue;case "table":var nc=
cb="";var Lc=pb.header.length;for(Fb=0;Fb<Lc;Fb++)nc+=this.renderer.tablecell(this.parseInline(pb.header[Fb].tokens),{header:!0,align:pb.align[Fb]});cb+=this.renderer.tablerow(nc);var Ac="";Lc=pb.rows.length;for(Fb=0;Fb<Lc;Fb++){var yc=pb.rows[Fb];nc="";var tc=yc.length;for(Wa=0;Wa<tc;Wa++)nc+=this.renderer.tablecell(this.parseInline(yc[Wa].tokens),{header:!1,align:pb.align[Wa]});Ac+=this.renderer.tablerow(nc)}ja+=this.renderer.table(cb,Ac);continue;case "blockquote":Ac=this.parse(pb.tokens);ja+=
this.renderer.blockquote(Ac);continue;case "list":Wa=pb.ordered;tc=pb.start;yc=pb.loose;Lc=pb.items.length;Ac="";for(Fb=0;Fb<Lc;Fb++){cb=pb.items[Fb];var hd=cb.checked;var Mb=cb.task;nc="";if(cb.task){var Ab=this.renderer.checkbox(hd);yc?0<cb.tokens.length&&"paragraph"===cb.tokens[0].type?(cb.tokens[0].text=Ab+" "+cb.tokens[0].text,cb.tokens[0].tokens&&0<cb.tokens[0].tokens.length&&"text"===cb.tokens[0].tokens[0].type&&(cb.tokens[0].tokens[0].text=Ab+" "+cb.tokens[0].tokens[0].text)):cb.tokens.unshift({type:"text",
text:Ab}):nc+=Ab}nc+=this.parse(cb.tokens,yc);Ac+=this.renderer.listitem(nc,Mb,hd)}ja+=this.renderer.list(Ac,Wa,tc);continue;case "html":ja+=this.renderer.html(pb.text);continue;case "paragraph":ja+=this.renderer.paragraph(this.parseInline(pb.tokens));continue;case "text":for(Ac=pb.tokens?this.parseInline(pb.tokens):pb.text;Ga+1<nb&&"text"===oa[Ga+1].type;)pb=oa[++Ga],Ac+="\n"+(pb.tokens?this.parseInline(pb.tokens):pb.text);ja+=Y?this.renderer.paragraph(Ac):Ac;continue;default:oa='Token with "'+pb.type+
'" type was not found.';if(this.options.silent){console.error(oa);return}throw Error(oa);}}return ja};Qa.parseInline=function(oa,Y){Y=Y||this.renderer;var ja="",Ga,Wa=oa.length;for(Ga=0;Ga<Wa;Ga++){var cb=oa[Ga];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[cb.type]){var nb=this.options.extensions.renderers[cb.type].call({parser:this},cb);if(!1!==nb||!"escape html link image strong em codespan br del text".split(" ").includes(cb.type)){ja+=nb||"";
continue}}switch(cb.type){case "escape":ja+=Y.text(cb.text);break;case "html":ja+=Y.html(cb.text);break;case "link":ja+=Y.link(cb.href,cb.title,this.parseInline(cb.tokens,Y));break;case "image":ja+=Y.image(cb.href,cb.title,cb.text);break;case "strong":ja+=Y.strong(this.parseInline(cb.tokens,Y));break;case "em":ja+=Y.em(this.parseInline(cb.tokens,Y));break;case "codespan":ja+=Y.codespan(cb.text);break;case "br":ja+=Y.br();break;case "del":ja+=Y.del(this.parseInline(cb.tokens,Y));break;case "text":ja+=
Y.text(cb.text);break;default:oa='Token with "'+cb.type+'" type was not found.';if(this.options.silent){console.error(oa);return}throw Error(oa);}}return ja};return ta}();var Aa=U,qa=ka,Ha=X,Va=function(ta){ta&&ta.sanitize&&!ta.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},eb=W;b.options=b.setOptions=function(ta){Ha(b.defaults,
ta);m=b.defaults;return b};b.getDefaults=h;b.defaults=m;b.use=function(){for(var ta=arguments.length,Qa=Array(ta),oa=0;oa<ta;oa++)Qa[oa]=arguments[oa];var Y=Ha.apply(void 0,[{}].concat(Qa)),ja=b.defaults.extensions||{renderers:{},childTokens:{}},Ga;Qa.forEach(function(Wa){Wa.extensions&&(Ga=!0,Wa.extensions.forEach(function(nb){if(!nb.name)throw Error("extension name required");if(nb.renderer){var pb=ja.renderers?ja.renderers[nb.name]:null;ja.renderers[nb.name]=pb?function(){for(var Fb=arguments.length,
nc=Array(Fb),Lc=0;Lc<Fb;Lc++)nc[Lc]=arguments[Lc];Fb=nb.renderer.apply(this,nc);!1===Fb&&(Fb=pb.apply(this,nc));return Fb}:nb.renderer}if(nb.tokenizer){if(!nb.level||"block"!==nb.level&&"inline"!==nb.level)throw Error("extension level must be 'block' or 'inline'");ja[nb.level]?ja[nb.level].unshift(nb.tokenizer):ja[nb.level]=[nb.tokenizer];nb.start&&("block"===nb.level?ja.startBlock?ja.startBlock.push(nb.start):ja.startBlock=[nb.start]:"inline"===nb.level&&(ja.startInline?ja.startInline.push(nb.start):
ja.startInline=[nb.start]))}nb.childTokens&&(ja.childTokens[nb.name]=nb.childTokens)}));Wa.renderer&&function(){var nb=b.defaults.renderer||new pa,pb=function(nc){var Lc=nb[nc];nb[nc]=function(){for(var Ac=arguments.length,yc=Array(Ac),tc=0;tc<Ac;tc++)yc[tc]=arguments[tc];Ac=Wa.renderer[nc].apply(nb,yc);!1===Ac&&(Ac=Lc.apply(nb,yc));return Ac}},Fb;for(Fb in Wa.renderer)pb(Fb);Y.renderer=nb}();Wa.tokenizer&&function(){var nb=b.defaults.tokenizer||new K,pb=function(nc){var Lc=nb[nc];nb[nc]=function(){for(var Ac=
arguments.length,yc=Array(Ac),tc=0;tc<Ac;tc++)yc[tc]=arguments[tc];Ac=Wa.tokenizer[nc].apply(nb,yc);!1===Ac&&(Ac=Lc.apply(nb,yc));return Ac}},Fb;for(Fb in Wa.tokenizer)pb(Fb);Y.tokenizer=nb}();if(Wa.walkTokens){var cb=b.defaults.walkTokens;Y.walkTokens=function(nb){Wa.walkTokens.call(this,nb);cb&&cb.call(this,nb)}}Ga&&(Y.extensions=ja);b.setOptions(Y)})};b.walkTokens=function(ta,Qa){var oa=function(){var ja=Y.value;Qa.call(b,ja);switch(ja.type){case "table":for(var Ga=r(ja.header),Wa;!(Wa=Ga()).done;)b.walkTokens(Wa.value.tokens,
Qa);for(Ga=r(ja.rows);!(Wa=Ga()).done;){Wa=r(Wa.value);for(var cb;!(cb=Wa()).done;)b.walkTokens(cb.value.tokens,Qa)}break;case "list":b.walkTokens(ja.items,Qa);break;default:b.defaults.extensions&&b.defaults.extensions.childTokens&&b.defaults.extensions.childTokens[ja.type]?b.defaults.extensions.childTokens[ja.type].forEach(function(nb){b.walkTokens(ja[nb],Qa)}):ja.tokens&&b.walkTokens(ja.tokens,Qa)}};ta=r(ta);for(var Y;!(Y=ta()).done;)oa()};b.parseInline=function(ta,Qa){if("undefined"===typeof ta||
null===ta)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof ta)throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(ta)+", string expected");Qa=Ha({},b.defaults,Qa||{});Va(Qa);try{var oa=Aa.lexInline(ta,Qa);Qa.walkTokens&&b.walkTokens(oa,Qa.walkTokens);return qa.parseInline(oa,Qa)}catch(Y){Y.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Qa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+
eb(Y.message+"",!0)+"\x3c/pre\x3e";throw Y;}};b.Parser=qa;b.parser=qa.parse;b.Renderer=pa;b.TextRenderer=Da;b.Lexer=Aa;b.lexer=Aa.lex;b.Tokenizer=K;b.Slugger=Ma;return b.parse=b})};
shadow$provide[14]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G):"function"===typeof define&&define.amd?define(["exports"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={}))})(this,function(y){function p(ua,Aa,qa){ua.fields=Aa||[];ua.fname=qa;return ua}function n(ua){return null==ua?null:ua.fields}function v(ua){return 1===ua.length?Z(ua[0]):T(ua)}function r(ua){throw Error(ua);}function h(ua){function Aa(){qa.push(ta+ua.substring(Qa,oa));
ta="";Qa=oa+1}const qa=[],Ha=ua.length;let Va=null,eb=0,ta="",Qa,oa,Y;ua+="";for(Qa=oa=0;oa<Ha;++oa)(Y=ua[oa],"\\"===Y)?(ta+=ua.substring(Qa,oa),ta+=ua.substring(++oa,++oa),Qa=oa):Y===Va?(Aa(),Va=null,eb=-1):Va||(Qa===eb&&'"'===Y?(Qa=oa+1,Va=Y):Qa===eb&&"'"===Y?(Qa=oa+1,Va=Y):"."!==Y||eb?"["===Y?(oa>Qa&&Aa(),eb=Qa=oa+1):"]"===Y&&(eb||r("Access path missing open bracket: "+ua),0<eb&&Aa(),eb=0,Qa=oa+1):oa>Qa?Aa():Qa=oa+1);eb&&r("Access path missing closing bracket: "+ua);Va&&r("Access path missing closing quote: "+
ua);oa>Qa&&(oa++,Aa());return qa}function k(ua,Aa,qa){const Ha=h(ua);ua=1===Ha.length?Ha[0]:ua;return p((qa&&qa.get||v)(Ha),[ua],Aa||ua)}function f(ua,Aa,qa){Aa=[Aa].concat([].slice.call(qa));console[ua].apply(console,Aa)}function e(ua){return ua===Object(ua)}function d(ua,Aa,qa,Ha){if("__proto__"!==Aa){var Va;if(e(qa)&&!B(qa))for(Va in ua=e(ua[Aa])?ua[Aa]:ua[Aa]={},qa)Ha&&(!0===Ha||Ha[Va])?d(ua,Va,qa[Va]):"__proto__"!==Va&&(ua[Va]=qa[Va]);else ua[Aa]=qa}}function a(ua,Aa){function qa(eb){Ha[eb.name]||
(Ha[eb.name]=1,Va.push(eb))}if(null==ua)return Aa;const Ha={},Va=[];Aa.forEach(qa);ua.forEach(qa);return Va}function c(ua){return ua[ua.length-1]}function b(ua){return null==ua||""===ua?null:+ua}function m(ua,Aa,qa,Ha){const Va=qa(ua[0]);ua=qa(c(ua));Aa*=ua-Va;return[Ha(Va-Aa),Ha(ua-Aa)]}function z(ua,Aa,qa,Ha,Va){const eb=Ha(ua[0]);ua=Ha(c(ua));Aa=null!=Aa?Ha(Aa):(eb+ua)/2;return[Va(Aa+(eb-Aa)*qa),Va(Aa+(ua-Aa)*qa)]}function u(ua){return null!=ua?B(ua)?ua:[ua]:[]}function C(ua){return"function"===
typeof ua}function J(ua){for(let Aa,qa,Ha=1,Va=arguments.length;Ha<Va;++Ha)for(qa in Aa=arguments[Ha],Aa)ua[qa]=Aa[qa];return ua}function A(ua,Aa){return pa.call(ua,Aa)}function x(ua){return"[object Date]"===Object.prototype.toString.call(ua)}function q(ua){return"number"===typeof ua}function H(ua){return"string"===typeof ua}function M(ua,Aa){let qa="";for(;0<=--Aa;)qa+=ua;return qa}function R(ua){return B(ua)?"["+ua.map(R)+"]":e(ua)||H(ua)?JSON.stringify(ua).replace("\u2028","\\u2028").replace("\u2029",
"\\u2029"):ua}const Z=ua=>function(Aa){return Aa[ua]},T=ua=>{const Aa=ua.length;return function(qa){for(let Ha=0;Ha<Aa;++Ha)qa=qa[ua[Ha]];return qa}},ba=k("id"),aa=p(ua=>ua,[],"identity"),W=p(()=>0,[],"zero"),X=p(()=>1,[],"one"),P=p(()=>!0,[],"true"),w=p(()=>!1,[],"false");var B=Array.isArray;const K=ua=>Aa=>ua*Math.exp(Aa),U=ua=>Aa=>Math.log(ua*Aa),ka=ua=>Aa=>Math.sign(Aa)*Math.log1p(Math.abs(Aa/ua)),da=ua=>Aa=>Math.sign(Aa)*Math.expm1(Math.abs(Aa))*ua,la=ua=>Aa=>0>Aa?-Math.pow(-Aa,ua):Math.pow(Aa,
ua),wa=(ua,Aa)=>(ua<Aa||null==ua)&&null!=Aa?-1:(ua>Aa||null==Aa)&&null!=ua?1:(Aa=Aa instanceof Date?+Aa:Aa,ua=ua instanceof Date?+ua:ua)!==ua&&Aa===Aa?-1:Aa!==Aa&&ua===ua?1:0,Ua=(ua,Aa)=>1===ua.length?hb(ua[0],Aa[0]):La(ua,Aa,ua.length),hb=(ua,Aa)=>function(qa,Ha){return wa(ua(qa),ua(Ha))*Aa},La=(ua,Aa,qa)=>{Aa.push(0);return function(Ha,Va){var eb=0;let ta=-1;for(;0===eb&&++ta<qa;)eb=ua[ta],eb=wa(eb(Ha),eb(Va));return eb*Aa[ta]}},pa=Object.prototype.hasOwnProperty,Da={},Ma=ua=>q(ua)?ua:x(ua)?ua:
Date.parse(ua);y.Debug=4;y.Error=1;y.Info=3;y.None=0;y.Warn=2;y.accessor=p;y.accessorFields=n;y.accessorName=function(ua){return null==ua?null:ua.fname};y.array=u;y.ascending=wa;y.clampRange=function(ua,Aa,qa){let Ha=ua[0];ua=ua[1];let Va;ua<Ha&&(Va=ua,ua=Ha,Ha=Va);Va=ua-Ha;return Va>=qa-Aa?[Aa,qa]:[Ha=Math.min(Math.max(Ha,Aa),qa-Va),Ha+Va]};y.compare=function(ua,Aa,qa){qa=qa||{};Aa=u(Aa)||[];const Ha=[],Va=[],eb={},ta=qa.comparator||Ua;u(ua).forEach((Qa,oa)=>{null!=Qa&&(Ha.push("descending"===Aa[oa]?
-1:1),Va.push(Qa=C(Qa)?Qa:k(Qa,null,qa)),(n(Qa)||[]).forEach(Y=>eb[Y]=1))});return 0===Va.length?null:p(ta(Va,Ha),Object.keys(eb))};y.constant=function(ua){return C(ua)?ua:()=>ua};y.debounce=function(ua,Aa){let qa;return Ha=>{qa&&clearTimeout(qa);qa=setTimeout(()=>(Aa(Ha),qa=null),ua)}};y.error=r;y.extend=J;y.extent=function(ua,Aa){let qa=0,Ha,Va,eb,ta;if(ua&&(Ha=ua.length))if(null==Aa){for(Va=ua[qa];qa<Ha&&(null==Va||Va!==Va);Va=ua[++qa]);for(eb=ta=Va;qa<Ha;++qa)Va=ua[qa],null!=Va&&(Va<eb&&(eb=Va),
Va>ta&&(ta=Va))}else{for(Va=Aa(ua[qa]);qa<Ha&&(null==Va||Va!==Va);Va=Aa(ua[++qa]));for(eb=ta=Va;qa<Ha;++qa)Va=Aa(ua[qa]),null!=Va&&(Va<eb&&(eb=Va),Va>ta&&(ta=Va))}return[eb,ta]};y.extentIndex=function(ua,Aa){const qa=ua.length;let Ha=-1,Va,eb,ta,Qa,oa;if(null==Aa){for(;++Ha<qa;)if(eb=ua[Ha],null!=eb&&eb>=eb){Va=ta=eb;break}if(Ha===qa)return[-1,-1];for(Qa=oa=Ha;++Ha<qa;)eb=ua[Ha],null!=eb&&(Va>eb&&(Va=eb,Qa=Ha),ta<eb&&(ta=eb,oa=Ha))}else{for(;++Ha<qa;)if(eb=Aa(ua[Ha],Ha,ua),null!=eb&&eb>=eb){Va=ta=
eb;break}if(Ha===qa)return[-1,-1];for(Qa=oa=Ha;++Ha<qa;)eb=Aa(ua[Ha],Ha,ua),null!=eb&&(Va>eb&&(Va=eb,Qa=Ha),ta<eb&&(ta=eb,oa=Ha))}return[Qa,oa]};y.falsy=w;y.fastmap=function(ua){function Aa(eb){return A(qa,eb)&&qa[eb]!==Da}let qa={},Ha;const Va={size:0,empty:0,object:qa,has:Aa,get(eb){return Aa(eb)?qa[eb]:void 0},set(eb,ta){Aa(eb)||(++Va.size,qa[eb]===Da&&--Va.empty);qa[eb]=ta;return this},delete(eb){Aa(eb)&&(--Va.size,++Va.empty,qa[eb]=Da);return this},clear(){Va.size=Va.empty=0;Va.object=qa={}},
test(eb){return arguments.length?(Ha=eb,Va):Ha},clean(){const eb={};let ta=0;for(const Qa in qa){const oa=qa[Qa];oa===Da||Ha&&Ha(oa)||(eb[Qa]=oa,++ta)}Va.size=ta;Va.empty=0;Va.object=qa=eb}};ua&&Object.keys(ua).forEach(eb=>{Va.set(eb,ua[eb])});return Va};y.field=k;y.flush=function(ua,Aa,qa,Ha,Va,eb){if(!qa&&0!==qa)return eb;qa=+qa;let ta=ua[0],Qa=c(ua);Qa<ta&&(ua=ta,ta=Qa,Qa=ua);ua=Math.abs(Aa-ta);Aa=Math.abs(Qa-Aa);return ua<Aa&&ua<=qa?Ha:Aa<=qa?Va:eb};y.hasOwnProperty=A;y.id=ba;y.identity=aa;y.inherits=
function(ua,Aa,qa){Aa=ua.prototype=Object.create(Aa.prototype);Object.defineProperty(Aa,"constructor",{value:ua,writable:!0,enumerable:!0,configurable:!0});return J(Aa,qa)};y.inrange=function(ua,Aa,qa,Ha){let Va=Aa[0];Aa=Aa[Aa.length-1];let eb;Va>Aa&&(eb=Va,Va=Aa,Aa=eb);return(void 0===qa||qa?Va<=ua:Va<ua)&&(void 0===Ha||Ha?ua<=Aa:ua<Aa)};y.isArray=B;y.isBoolean=function(ua){return"boolean"===typeof ua};y.isDate=x;y.isFunction=C;y.isIterable=function(ua){return ua&&C(ua[Symbol.iterator])};y.isNumber=
q;y.isObject=e;y.isRegExp=function(ua){return"[object RegExp]"===Object.prototype.toString.call(ua)};y.isString=H;y.key=function(ua,Aa,qa){ua&&(ua=Aa?u(ua).map(eb=>eb.replace(/\\(.)/g,"$1")):u(ua));const Ha=ua&&ua.length,Va=qa&&qa.get||v;qa=eb=>Va(Aa?[eb]:h(eb));if(Ha)if(1===Ha){const eb=qa(ua[0]);qa=function(ta){return""+eb(ta)}}else{const eb=ua.map(qa);qa=function(ta){let Qa=""+eb[0](ta),oa=0;for(;++oa<Ha;)Qa+="|"+eb[oa](ta);return Qa}}else qa=function(){return""};return p(qa,ua,"key")};y.lerp=
function(ua,Aa){const qa=ua[0];ua=c(ua);return(Aa=+Aa)?1===Aa?ua:qa+Aa*(ua-qa):qa};y.logger=function(ua,Aa,qa=f){let Ha=ua||0;return{level(Va){return arguments.length?(Ha=+Va,this):Ha},error(){1<=Ha&&qa(Aa||"error","ERROR",arguments);return this},warn(){2<=Ha&&qa(Aa||"warn","WARN",arguments);return this},info(){3<=Ha&&qa(Aa||"log","INFO",arguments);return this},debug(){4<=Ha&&qa(Aa||"log","DEBUG",arguments);return this}}};y.lruCache=function(ua){ua=+ua||1E4;let Aa,qa,Ha;const Va=()=>{Aa={};qa={};
Ha=0},eb=(ta,Qa)=>{++Ha>ua&&(qa=Aa,Aa={},Ha=1);return Aa[ta]=Qa};Va();return{clear:Va,has:ta=>A(Aa,ta)||A(qa,ta),get:ta=>A(Aa,ta)?Aa[ta]:A(qa,ta)?eb(ta,qa[ta]):void 0,set:(ta,Qa)=>A(Aa,ta)?Aa[ta]=Qa:eb(ta,Qa)}};y.merge=function(ua,Aa,qa,Ha){const Va=Aa.length,eb=qa.length;if(!eb)return Aa;if(!Va)return qa;Ha=Ha||new Aa.constructor(Va+eb);let ta=0,Qa=0,oa=0;for(;ta<Va&&Qa<eb;++oa)Ha[oa]=0<ua(Aa[ta],qa[Qa])?qa[Qa++]:Aa[ta++];for(;ta<Va;++ta,++oa)Ha[oa]=Aa[ta];for(;Qa<eb;++Qa,++oa)Ha[oa]=qa[Qa];return Ha};
y.mergeConfig=function(...ua){return ua.reduce((Aa,qa)=>{for(const Ha in qa)"signals"===Ha?Aa.signals=a(Aa.signals,qa.signals):d(Aa,Ha,qa[Ha],"legend"===Ha?{layout:1}:"style"===Ha?!0:null);return Aa},{})};y.one=X;y.pad=function(ua,Aa,qa,Ha){qa=qa||" ";ua+="";Aa-=ua.length;return 0>=Aa?ua:"left"===Ha?M(qa,Aa)+ua:"center"===Ha?M(qa,~~(Aa/2))+ua+M(qa,Math.ceil(Aa/2)):ua+M(qa,Aa)};y.panLinear=function(ua,Aa){return m(ua,Aa,b,aa)};y.panLog=function(ua,Aa){var qa=Math.sign(ua[0]);return m(ua,Aa,U(qa),K(qa))};
y.panPow=function(ua,Aa,qa){return m(ua,Aa,la(qa),la(1/qa))};y.panSymlog=function(ua,Aa,qa){return m(ua,Aa,ka(qa),da(qa))};y.peek=c;y.quarter=function(ua){return 1+~~((new Date(ua)).getMonth()/3)};y.repeat=M;y.span=function(ua){return ua&&c(ua)-ua[0]||0};y.splitAccessPath=h;y.stringValue=R;y.toBoolean=function(ua){return null==ua||""===ua?null:ua&&"false"!==ua&&"0"!==ua?!!ua:!1};y.toDate=function(ua,Aa){Aa=Aa||Ma;return null==ua||""===ua?null:Aa(ua)};y.toNumber=b;y.toSet=function(ua){const Aa={},
qa=ua.length;for(let Ha=0;Ha<qa;++Ha)Aa[ua[Ha]]=!0;return Aa};y.toString=function(ua){return null==ua||""===ua?null:ua+""};y.truncate=function(ua,Aa,qa,Ha){Ha=null!=Ha?Ha:"";ua+="";const Va=ua.length,eb=Math.max(0,Aa-Ha.length);return Va<=Aa?ua:"left"===qa?Ha+ua.slice(Va-eb):"center"===qa?ua.slice(0,Math.ceil(eb/2))+Ha+ua.slice(Va-~~(eb/2)):ua.slice(0,eb)+Ha};y.truthy=P;y.utcquarter=function(ua){return 1+~~((new Date(ua)).getUTCMonth()/3)};y.visitArray=function(ua,Aa,qa){if(ua)if(Aa){const Ha=ua.length;
for(let Va=0;Va<Ha;++Va){const eb=Aa(ua[Va]);eb&&qa(eb,Va,ua)}}else ua.forEach(qa)};y.writeConfig=d;y.zero=W;y.zoomLinear=function(ua,Aa,qa){return z(ua,Aa,qa,b,aa)};y.zoomLog=function(ua,Aa,qa){const Ha=Math.sign(ua[0]);return z(ua,Aa,qa,U(Ha),K(Ha))};y.zoomPow=function(ua,Aa,qa,Ha){return z(ua,Aa,qa,la(Ha),la(1/Ha))};y.zoomSymlog=function(ua,Aa,qa,Ha){return z(ua,Aa,qa,ka(Ha),da(Ha))};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[15]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G):"function"===typeof define&&define.amd?define(["exports"],p):(y=y||self,p(y.topojson=y.topojson||{}))})(this,function(y){function p(b){return b}function n(b){if(null==b)return p;var m,z,u=b.scale[0],C=b.scale[1],J=b.translate[0],A=b.translate[1];return function(x,q){q||(m=z=0);q=2;var H=x.length,M=Array(H);M[0]=(m+=x[0])*u+J;for(M[1]=(z+=x[1])*C+A;q<H;)M[q]=x[q],++q;return M}}function v(b){function m(H){H=
u(H);H[0]<J&&(J=H[0]);H[0]>x&&(x=H[0]);H[1]<A&&(A=H[1]);H[1]>q&&(q=H[1])}function z(H){switch(H.type){case "GeometryCollection":H.geometries.forEach(z);break;case "Point":m(H.coordinates);break;case "MultiPoint":H.coordinates.forEach(m)}}var u=n(b.transform),C,J=Infinity,A=J,x=-J,q=-J;b.arcs.forEach(function(H){for(var M=-1,R=H.length,Z;++M<R;)Z=u(H[M],M),Z[0]<J&&(J=Z[0]),Z[0]>x&&(x=Z[0]),Z[1]<A&&(A=Z[1]),Z[1]>q&&(q=Z[1])});for(C in b.objects)z(b.objects[C]);return[J,A,x,q]}function r(b,m){var z=
m.id,u=m.bbox,C=null==m.properties?{}:m.properties;b=h(b,m);return null==z&&null==u?{type:"Feature",properties:C,geometry:b}:null==u?{type:"Feature",id:z,properties:C,geometry:b}:{type:"Feature",id:z,bbox:u,properties:C,geometry:b}}function h(b,m){function z(H){return x(H)}function u(H){for(var M=[],R=0,Z=H.length;R<Z;++R){var T=H[R],ba=M;ba.length&&ba.pop();for(var aa=q[0>T?~T:T],W=0,X=aa.length;W<X;++W)ba.push(x(aa[W],W));if(0>T)for(T=ba,ba=T.length,aa=ba-X;aa<--ba;)X=T[aa],T[aa++]=T[ba],T[ba]=
X}2>M.length&&M.push(M[0]);return M}function C(H){for(H=u(H);4>H.length;)H.push(H[0]);return H}function J(H){return H.map(C)}function A(H){var M=H.type;switch(M){case "GeometryCollection":return{type:M,geometries:H.geometries.map(A)};case "Point":H=x(H.coordinates);break;case "MultiPoint":H=H.coordinates.map(z);break;case "LineString":H=u(H.arcs);break;case "MultiLineString":H=H.arcs.map(u);break;case "Polygon":H=J(H.arcs);break;case "MultiPolygon":H=H.arcs.map(J);break;default:return null}return{type:M,
coordinates:H}}var x=n(b.transform),q=b.arcs;return A(m)}function k(b,m){function z(H){var M=b.arcs[0>H?~H:H],R=M[0];if(b.transform){var Z=[0,0];M.forEach(function(T){Z[0]+=T[0];Z[1]+=T[1]})}else Z=M[M.length-1];return 0>H?[Z,R]:[R,Z]}function u(H,M){for(var R in H){var Z=H[R];delete M[Z.start];delete Z.start;delete Z.end;Z.forEach(function(T){C[0>T?~T:T]=1});x.push(Z)}}var C={},J={},A={},x=[],q=-1;m.forEach(function(H,M){var R=b.arcs[0>H?~H:H];3>R.length&&!R[1][0]&&!R[1][1]&&(R=m[++q],m[q]=H,m[M]=
R)});m.forEach(function(H){var M=z(H),R=M[0],Z=M[1];(M=A[R])?(delete A[M.end],M.push(H),M.end=Z,(H=J[Z])?(delete J[H.start],R=H===M?M:M.concat(H),J[R.start=M.start]=A[R.end=H.end]=R):J[M.start]=A[M.end]=M):(M=J[Z])?(delete J[M.start],M.unshift(H),M.start=R,(H=A[R])?(delete A[H.end],R=H===M?M:H.concat(M),J[R.start=H.start]=A[R.end=M.end]=R):J[M.start]=A[M.end]=M):(M=[H],J[M.start=R]=A[M.end=Z]=M)});u(A,J);u(J,A);m.forEach(function(H){C[0>H?~H:H]||x.push([H])});return x}function f(b,m,z){var u;if(1<
arguments.length)var C=e(b,m,z);else{var J=0;for(C=Array(u=b.arcs.length);J<u;++J)C[J]=J}return{type:"MultiLineString",arcs:k(b,C)}}function e(b,m,z){function u(M){var R=0>M?~M:M;(q[R]||(q[R]=[])).push({i:M,g:H})}function C(M){M.forEach(u)}function J(M){M.forEach(C)}function A(M){switch(H=M,M.type){case "GeometryCollection":M.geometries.forEach(A);break;case "LineString":C(M.arcs);break;case "MultiLineString":case "Polygon":J(M.arcs);break;case "MultiPolygon":M.arcs.forEach(J)}}var x=[],q=[],H;A(m);
q.forEach(null==z?function(M){x.push(M[0].i)}:function(M){z(M[0].g,M[M.length-1].g)&&x.push(M[0].i)});return x}function d(b,m){function z(q){switch(q.type){case "GeometryCollection":q.geometries.forEach(z);break;case "Polygon":u(q.arcs);break;case "MultiPolygon":q.arcs.forEach(u)}}function u(q){q.forEach(function(H){H.forEach(function(M){(J[M=0>M?~M:M]||(J[M]=[])).push(q)})});A.push(q)}function C(q){q=h(b,{type:"Polygon",arcs:[q]}).coordinates[0];for(var H=-1,M=q.length,R,Z=q[M-1],T=0;++H<M;)R=Z,
Z=q[H],T+=R[0]*Z[1]-R[1]*Z[0];return Math.abs(T)}var J={},A=[],x=[];m.forEach(z);A.forEach(function(q){if(!q._){var H=[],M=[q];q._=1;for(x.push(H);q=M.pop();)H.push(q),q.forEach(function(R){R.forEach(function(Z){J[0>Z?~Z:Z].forEach(function(T){T._||(T._=1,M.push(T))})})})}});A.forEach(function(q){delete q._});return{type:"MultiPolygon",arcs:x.map(function(q){var H=[];q.forEach(function(T){T.forEach(function(ba){ba.forEach(function(aa){2>J[0>aa?~aa:aa].length&&H.push(aa)})})});H=k(b,H);if(1<(q=H.length))for(var M=
1,R=C(H[0]),Z;M<q;++M)(Z=C(H[M]))>R&&(R=H[0],H[0]=H[M],H[M]=R,R=Z);return H}).filter(function(q){return 0<q.length})}}function a(b,m){for(var z=0,u=b.length;z<u;){var C=z+u>>>1;b[C]<m?z=C+1:u=C}return z}function c(b){if(null==b)return p;var m,z,u=b.scale[0],C=b.scale[1],J=b.translate[0],A=b.translate[1];return function(x,q){q||(m=z=0);q=2;var H=x.length,M=Array(H),R=Math.round((x[0]-J)/u),Z=Math.round((x[1]-A)/C);M[0]=R-m;m=R;M[1]=Z-z;for(z=Z;q<H;)M[q]=x[q],++q;return M}}y.bbox=v;y.feature=function(b,
m){"string"===typeof m&&(m=b.objects[m]);return"GeometryCollection"===m.type?{type:"FeatureCollection",features:m.geometries.map(function(z){return r(b,z)})}:r(b,m)};y.merge=function(b){return h(b,d.apply(this,arguments))};y.mergeArcs=d;y.mesh=function(b){return h(b,f.apply(this,arguments))};y.meshArcs=f;y.neighbors=function(b){function m(ba,aa){ba.forEach(function(W){0>W&&(W=~W);var X=C[W];X?X.push(aa):C[W]=[aa]})}function z(ba,aa){ba.forEach(function(W){m(W,aa)})}function u(ba,aa){if("GeometryCollection"===
ba.type)ba.geometries.forEach(function(W){u(W,aa)});else if(ba.type in A)A[ba.type](ba.arcs,aa)}var C={},J=b.map(function(){return[]}),A={LineString:m,MultiLineString:z,Polygon:z,MultiPolygon:function(ba,aa){ba.forEach(function(W){z(W,aa)})}};b.forEach(u);for(var x in C){b=C[x];for(var q=b.length,H=0;H<q;++H)for(var M=H+1;M<q;++M){var R=b[H],Z=b[M],T;(T=J[R])[x=a(T,Z)]!==Z&&T.splice(x,0,Z);(T=J[Z])[x=a(T,R)]!==R&&T.splice(x,0,R)}}return J};y.quantize=function(b,m){function z(R){return H(R)}function u(R){switch(R.type){case "GeometryCollection":var Z=
{type:"GeometryCollection",geometries:R.geometries.map(u)};break;case "Point":Z={type:"Point",coordinates:H(R.coordinates)};break;case "MultiPoint":Z={type:"MultiPoint",coordinates:R.coordinates.map(z)};break;default:return R}null!=R.id&&(Z.id=R.id);null!=R.bbox&&(Z.bbox=R.bbox);null!=R.properties&&(Z.properties=R.properties);return Z}if(b.transform)throw Error("already quantized");if(m&&m.scale)var C=b.bbox;else{if(!(2<=(q=Math.floor(m))))throw Error("n must be 2");C=b.bbox||v(b);m=C[0];var J=C[1],
A=C[2],x=C[3],q;m={scale:[A-m?(A-m)/(q-1):1,x-J?(x-J)/(q-1):1],translate:[m,J]}}var H=c(m),M;J=b.objects;A={};for(M in J)A[M]=u(J[M]);return{type:"Topology",bbox:C,transform:m,objects:A,arcs:b.arcs.map(function(R){var Z=0,T=1,ba=R.length,aa,W=Array(ba);for(W[0]=H(R[0],0);++Z<ba;)if((aa=H(R[Z],Z))[0]||aa[1])W[T++]=aa;1===T&&(W[T++]=[0,0]);W.length=T;return W})}};y.transform=n;y.untransform=c;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[16]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega))})(this,function(y,p){function n(Y){const ja=p.array(Y).slice(),Ga={};ja.length||p.error("Missing time unit.");ja.forEach(Wa=>{p.hasOwnProperty(H,Wa)?Ga[Wa]=1:p.error(`Invalid time unit: ${Wa}.`)});1<(Ga.week||Ga.day?1:0)+(Ga.quarter||Ga.month||
Ga.date?1:0)+(Ga.dayofyear?1:0)&&p.error(`Incompatible time units: ${Y}`);ja.sort((Wa,cb)=>H[Wa]-H[cb]);return ja}function v(Y,ja,Ga,Wa){function cb(nb){return Y(nb=0===arguments.length?new Date:new Date(+nb)),nb}cb.floor=function(nb){return Y(nb=new Date(+nb)),nb};cb.ceil=function(nb){return Y(nb=new Date(nb-1)),ja(nb,1),Y(nb),nb};cb.round=function(nb){var pb=cb(nb),Fb=cb.ceil(nb);return nb-pb<Fb-nb?pb:Fb};cb.offset=function(nb,pb){return ja(nb=new Date(+nb),null==pb?1:Math.floor(pb)),nb};cb.range=
function(nb,pb,Fb){var nc=[],Lc;nb=cb.ceil(nb);Fb=null==Fb?1:Math.floor(Fb);if(!(nb<pb&&0<Fb))return nc;do nc.push(Lc=new Date(+nb)),ja(nb,Fb),Y(nb);while(Lc<nb&&nb<pb);return nc};cb.filter=function(nb){return v(function(pb){if(pb>=pb)for(;Y(pb),!nb(pb);)pb.setTime(pb-1)},function(pb,Fb){if(pb>=pb)if(0>Fb)for(;0>=++Fb;)for(;ja(pb,-1),!nb(pb););else for(;0<=--Fb;)for(;ja(pb,1),!nb(pb););})};Ga&&(cb.count=function(nb,pb){R.setTime(+nb);Z.setTime(+pb);Y(R);Y(Z);return Math.floor(Ga(R,Z))},cb.every=function(nb){nb=
Math.floor(nb);return isFinite(nb)&&0<nb?1<nb?cb.filter(Wa?function(pb){return 0===Wa(pb)%nb}:function(pb){return 0===cb.count(0,pb)%nb}):cb:null});return cb}function r(Y){return v(function(ja){ja.setDate(ja.getDate()-(ja.getDay()+7-Y)%7);ja.setHours(0,0,0,0)},function(ja,Ga){ja.setDate(ja.getDate()+7*Ga)},function(ja,Ga){return(Ga-ja-6E4*(Ga.getTimezoneOffset()-ja.getTimezoneOffset()))/ba})}function h(Y){return v(function(ja){ja.setUTCDate(ja.getUTCDate()-(ja.getUTCDay()+7-Y)%7);ja.setUTCHours(0,
0,0,0)},function(ja,Ga){ja.setUTCDate(ja.getUTCDate()+7*Ga)},function(ja,Ga){return(Ga-ja)/ba})}function k(Y,ja){return null==Y||null==ja?NaN:Y<ja?-1:Y>ja?1:Y>=ja?0:NaN}function f(Y){function ja(nb,pb,Fb=0,nc=nb.length){if(Fb<nc){if(0!==Wa(pb,pb))return nc;do{const Lc=Fb+nc>>>1;0>cb(nb[Lc],pb)?Fb=Lc+1:nc=Lc}while(Fb<nc)}return Fb}let Ga=Y,Wa=Y,cb=Y;2!==Y.length&&(Ga=(nb,pb)=>Y(nb)-pb,Wa=k,cb=(nb,pb)=>k(Y(nb),pb));return{left:ja,center:function(nb,pb,Fb=0,nc=nb.length){nc=ja(nb,pb,Fb,nc-1);return nc>
Fb&&Ga(nb[nc-1],pb)>-Ga(nb[nc],pb)?nc-1:nc},right:function(nb,pb,Fb=0,nc=nb.length){if(Fb<nc){if(0!==Wa(pb,pb))return nc;do{const Lc=Fb+nc>>>1;0>=cb(nb[Lc],pb)?Fb=Lc+1:nc=Lc}while(Fb<nc)}return Fb}}}function e(Y,ja,Ga){var Wa=Math.abs(ja-Y)/Math.max(0,Ga);Ga=Math.pow(10,Math.floor(Math.log(Wa)/Math.LN10));Wa/=Ga;Wa>=hb?Ga*=10:Wa>=La?Ga*=5:Wa>=pa&&(Ga*=2);return ja<Y?-Ga:Ga}function d(Y){Da.setFullYear(Y);Da.setMonth(0);Da.setDate(1);Da.setHours(0,0,0,0);return Da}function a(Y){return P.count(d(Y.getFullYear())-
1,Y)}function c(Y){return w.count(d(Y.getFullYear())-1,Y)}function b(Y,ja,Ga,Wa,cb,nb,pb){return 0<=Y&&100>Y?(ja=new Date(-1,ja,Ga,Wa,cb,nb,pb),ja.setFullYear(Y),ja):new Date(Y,ja,Ga,Wa,cb,nb,pb)}function m(Y){const ja=Date.UTC(Y.getUTCFullYear(),0,1);return da.count(ja-1,Y)}function z(Y){const ja=Date.UTC(Y.getUTCFullYear(),0,1);return la.count(ja-1,Y)}function u(Y){Da.setTime(Date.UTC(Y,0,1));return Da.getUTCDay()}function C(Y,ja,Ga,Wa,cb,nb,pb){return 0<=Y&&100>Y?(Y=new Date(Date.UTC(-1,ja,Ga,
Wa,cb,nb,pb)),Y.setUTCFullYear(Ga.y),Y):new Date(Date.UTC(Y,ja,Ga,Wa,cb,nb,pb))}function J(Y,ja,Ga,Wa,cb){const nb=ja||1,pb=p.peek(Y);ja=(Ab,ec,ac)=>{ac=ac||Ab;return A(Ga[ac],Wa[ac],Ab===pb&&nb,ec)};const Fb=new Date;Y=p.toSet(Y);const nc=Y.year?ja("year"):p.constant(2012),Lc=Y.month?ja("month"):Y.quarter?ja("quarter"):p.zero,Ac=Y.week&&Y.day?ja("day",1,"weekday"):Y.week?ja("week",1):Y.day?ja("day",1):Y.date?ja("date",1):Y.dayofyear?ja("dayofyear",1):p.one,yc=Y.hours?ja("hours"):p.zero,tc=Y.minutes?
ja("minutes"):p.zero,hd=Y.seconds?ja("seconds"):p.zero,Mb=Y.milliseconds?ja("milliseconds"):p.zero;return function(Ab){Fb.setTime(+Ab);Ab=nc(Fb);return cb(Ab,Lc(Fb),Ac(Fb,Ab),yc(Fb),tc(Fb),hd(Fb),Mb(Fb))}}function A(Y,ja,Ga,Wa){const cb=1>=Ga?Y:Wa?(nb,pb)=>Wa+Ga*Math.floor((Y(nb,pb)-Wa)/Ga):(nb,pb)=>Ga*Math.floor(Y(nb,pb)/Ga);return ja?(nb,pb)=>ja(cb(nb,pb),pb):cb}function x(Y,ja,Ga){return ja+7*Y-(Ga+6)%7}const q="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),
H=q.reduce((Y,ja,Ga)=>(Y[ja]=1+Ga,Y),{}),M={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var R=new Date,Z=new Date,T=v(function(){},function(Y,ja){Y.setTime(+Y+ja)},function(Y,ja){return ja-Y});T.every=function(Y){Y=Math.floor(Y);return isFinite(Y)&&0<Y?1<Y?v(function(ja){ja.setTime(Math.floor(ja/Y)*Y)},function(ja,
Ga){ja.setTime(+ja+Ga*Y)},function(ja,Ga){return(Ga-ja)/Y}):T:null};const ba=6048E5;var aa=v(function(Y){Y.setTime(Y-Y.getMilliseconds())},function(Y,ja){Y.setTime(+Y+1E3*ja)},function(Y,ja){return(ja-Y)/1E3},function(Y){return Y.getUTCSeconds()}),W=v(function(Y){Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds())},function(Y,ja){Y.setTime(+Y+6E4*ja)},function(Y,ja){return(ja-Y)/6E4},function(Y){return Y.getMinutes()}),X=v(function(Y){Y.setTime(Y-Y.getMilliseconds()-1E3*Y.getSeconds()-6E4*Y.getMinutes())},
function(Y,ja){Y.setTime(+Y+36E5*ja)},function(Y,ja){return(ja-Y)/36E5},function(Y){return Y.getHours()}),P=v(Y=>Y.setHours(0,0,0,0),(Y,ja)=>Y.setDate(Y.getDate()+ja),(Y,ja)=>(ja-Y-6E4*(ja.getTimezoneOffset()-Y.getTimezoneOffset()))/864E5,Y=>Y.getDate()-1),w=r(0);r(1);r(2);r(3);r(4);r(5);r(6);var B=v(function(Y){Y.setDate(1);Y.setHours(0,0,0,0)},function(Y,ja){Y.setMonth(Y.getMonth()+ja)},function(Y,ja){return ja.getMonth()-Y.getMonth()+12*(ja.getFullYear()-Y.getFullYear())},function(Y){return Y.getMonth()}),
K=v(function(Y){Y.setMonth(0,1);Y.setHours(0,0,0,0)},function(Y,ja){Y.setFullYear(Y.getFullYear()+ja)},function(Y,ja){return ja.getFullYear()-Y.getFullYear()},function(Y){return Y.getFullYear()});K.every=function(Y){return isFinite(Y=Math.floor(Y))&&0<Y?v(function(ja){ja.setFullYear(Math.floor(ja.getFullYear()/Y)*Y);ja.setMonth(0,1);ja.setHours(0,0,0,0)},function(ja,Ga){ja.setFullYear(ja.getFullYear()+Ga*Y)}):null};var U=v(function(Y){Y.setUTCSeconds(0,0)},function(Y,ja){Y.setTime(+Y+6E4*ja)},function(Y,
ja){return(ja-Y)/6E4},function(Y){return Y.getUTCMinutes()}),ka=v(function(Y){Y.setUTCMinutes(0,0,0)},function(Y,ja){Y.setTime(+Y+36E5*ja)},function(Y,ja){return(ja-Y)/36E5},function(Y){return Y.getUTCHours()}),da=v(function(Y){Y.setUTCHours(0,0,0,0)},function(Y,ja){Y.setUTCDate(Y.getUTCDate()+ja)},function(Y,ja){return(ja-Y)/864E5},function(Y){return Y.getUTCDate()-1}),la=h(0);h(1);h(2);h(3);h(4);h(5);h(6);var wa=v(function(Y){Y.setUTCDate(1);Y.setUTCHours(0,0,0,0)},function(Y,ja){Y.setUTCMonth(Y.getUTCMonth()+
ja)},function(Y,ja){return ja.getUTCMonth()-Y.getUTCMonth()+12*(ja.getUTCFullYear()-Y.getUTCFullYear())},function(Y){return Y.getUTCMonth()}),Ua=v(function(Y){Y.setUTCMonth(0,1);Y.setUTCHours(0,0,0,0)},function(Y,ja){Y.setUTCFullYear(Y.getUTCFullYear()+ja)},function(Y,ja){return ja.getUTCFullYear()-Y.getUTCFullYear()},function(Y){return Y.getUTCFullYear()});Ua.every=function(Y){return isFinite(Y=Math.floor(Y))&&0<Y?v(function(ja){ja.setUTCFullYear(Math.floor(ja.getUTCFullYear()/Y)*Y);ja.setUTCMonth(0,
1);ja.setUTCHours(0,0,0,0)},function(ja,Ga){ja.setUTCFullYear(ja.getUTCFullYear()+Ga*Y)}):null};var hb=Math.sqrt(50),La=Math.sqrt(10),pa=Math.sqrt(2);const Da=new Date,Ma={year:Y=>Y.getFullYear(),quarter:Y=>Math.floor(Y.getMonth()/3),month:Y=>Y.getMonth(),date:Y=>Y.getDate(),hours:Y=>Y.getHours(),minutes:Y=>Y.getMinutes(),seconds:Y=>Y.getSeconds(),milliseconds:Y=>Y.getMilliseconds(),dayofyear:Y=>a(Y),week:Y=>c(Y),weekday:(Y,ja)=>x(c(Y),Y.getDay(),d(ja).getDay()),day:(Y,ja)=>x(1,Y.getDay(),d(ja).getDay())},
ua={quarter:Y=>3*Y,week:(Y,ja)=>x(Y,0,d(ja).getDay())},Aa={year:Y=>Y.getUTCFullYear(),quarter:Y=>Math.floor(Y.getUTCMonth()/3),month:Y=>Y.getUTCMonth(),date:Y=>Y.getUTCDate(),hours:Y=>Y.getUTCHours(),minutes:Y=>Y.getUTCMinutes(),seconds:Y=>Y.getUTCSeconds(),milliseconds:Y=>Y.getUTCMilliseconds(),dayofyear:Y=>m(Y),week:Y=>z(Y),day:(Y,ja)=>x(1,Y.getUTCDay(),u(ja)),weekday:(Y,ja)=>x(z(Y),Y.getUTCDay(),u(ja))},qa={quarter:Y=>3*Y,week:(Y,ja)=>x(Y,0,u(ja))},Ha={year:K,quarter:B.every(3),month:B,week:w,
date:P,day:P,dayofyear:P,hours:X,minutes:W,seconds:aa,milliseconds:T},Va={year:Ua,quarter:wa.every(3),month:wa,week:la,date:da,day:da,dayofyear:da,hours:ka,minutes:U,seconds:aa,milliseconds:T};aa=6048E5;W=2592E6;const eb=31536E6,ta="year month date hours minutes seconds milliseconds".split(" ");X=ta.slice(0,-1);B=X.slice(0,-1);K=B.slice(0,-1);U=K.slice(0,-1);ka=["year","month"];const Qa=["year"],oa=[[X,1,1E3],[X,5,5E3],[X,15,15E3],[X,30,3E4],[B,1,6E4],[B,5,3E5],[B,15,9E5],[B,30,18E5],[K,1,36E5],[K,
3,108E5],[K,6,216E5],[K,12,432E5],[U,1,864E5],[["year","week"],1,aa],[ka,1,W],[ka,3,3*W],[Qa,1,eb]];y.DATE="date";y.DAY="day";y.DAYOFYEAR="dayofyear";y.HOURS="hours";y.MILLISECONDS="milliseconds";y.MINUTES="minutes";y.MONTH="month";y.QUARTER="quarter";y.SECONDS="seconds";y.TIME_UNITS=q;y.WEEK="week";y.YEAR="year";y.dayofyear=function(Y){return a(new Date(Y))};y.timeBin=function(Y){var ja=Y.extent;Y=Y.maxbins||40;var Ga=Math.abs(p.span(ja))/Y;let Wa=f(cb=>cb[2]).right(oa,Ga);Wa===oa.length?(Ga=Qa,
ja=e(ja[0]/eb,ja[1]/eb,Y)):Wa?(Wa=oa[Ga/oa[Wa-1][2]<oa[Wa][2]/Ga?Wa-1:Wa],Ga=Wa[0],ja=Wa[1]):(Ga=ta,ja=Math.max(e(ja[0],ja[1],Y),1));return{units:Ga,step:ja}};y.timeFloor=function(Y,ja){return J(Y,ja||1,Ma,ua,b)};y.timeInterval=function(Y){return Ha[Y]};y.timeOffset=function(Y,ja,Ga){return(Y=Ha[Y])?Y.offset(ja,Ga):void 0};y.timeSequence=function(Y,ja,Ga,Wa){return(Y=Ha[Y])?Y.range(ja,Ga,Wa):void 0};y.timeUnitSpecifier=function(Y,ja){ja=p.extend({},M,ja);Y=n(Y);const Ga=Y.length;let Wa="",cb,nb,pb;
for(cb=0;cb<Ga;)for(nb=Y.length;nb>cb;--nb)if(pb=Y.slice(cb,nb).join("-"),null!=ja[pb]){Wa+=ja[pb];cb=nb;break}return Wa.trim()};y.timeUnits=n;y.utcFloor=function(Y,ja){return J(Y,ja||1,Aa,qa,C)};y.utcInterval=function(Y){return Va[Y]};y.utcOffset=function(Y,ja,Ga){return(Y=Va[Y])?Y.offset(ja,Ga):void 0};y.utcSequence=function(Y,ja,Ga,Wa){return(Y=Va[Y])?Y.range(ja,Ga,Wa):void 0};y.utcdayofyear=function(Y){return m(new Date(Y))};y.utcweek=function(Y){return z(new Date(Y))};y.week=function(Y){return c(new Date(Y))};
Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[17]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(16),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega))})(this,function(y,p,n){function v(Bb){const Zb={};return Sc=>Zb[Sc]||(Zb[Sc]=Bb(Sc))}function r(Bb,Zb){if(0>(Zb=(Bb=Zb?Bb.toExponential(Zb-1):Bb.toExponential()).indexOf("e")))return null;var Sc=Bb.slice(0,Zb);return[1<
Sc.length?Sc[0]+Sc.slice(2):Sc,+Bb.slice(Zb+1)]}function h(Bb){return Bb=r(Math.abs(Bb)),Bb?Bb[1]:NaN}function k(Bb,Zb){return function(Sc,ce){for(var ke=Sc.length,Rd=[],Sd=0,Qd=Bb[0],Qe=0;0<ke&&0<Qd;){Qe+Qd+1>ce&&(Qd=Math.max(1,ce-Qe));Rd.push(Sc.substring(ke-=Qd,ke+Qd));if((Qe+=Qd+1)>ce)break;Qd=Bb[Sd=(Sd+1)%Bb.length]}return Rd.reverse().join(Zb)}}function f(Bb){return function(Zb){return Zb.replace(/[0-9]/g,function(Sc){return Bb[+Sc]})}}function e(Bb){if(!(Zb=ve.exec(Bb)))throw Error("invalid format: "+
Bb);var Zb;return new d({fill:Zb[1],align:Zb[2],sign:Zb[3],symbol:Zb[4],zero:Zb[5],width:Zb[6],comma:Zb[7],precision:Zb[8]&&Zb[8].slice(1),trim:Zb[9],type:Zb[10]})}function d(Bb){this.fill=void 0===Bb.fill?" ":Bb.fill+"";this.align=void 0===Bb.align?"\x3e":Bb.align+"";this.sign=void 0===Bb.sign?"-":Bb.sign+"";this.symbol=void 0===Bb.symbol?"":Bb.symbol+"";this.zero=!!Bb.zero;this.width=void 0===Bb.width?void 0:+Bb.width;this.comma=!!Bb.comma;this.precision=void 0===Bb.precision?void 0:+Bb.precision;
this.trim=!!Bb.trim;this.type=void 0===Bb.type?"":Bb.type+""}function a(Bb,Zb){Zb=r(Bb,Zb);if(!Zb)return Bb+"";Bb=Zb[0];Zb=Zb[1];return 0>Zb?"0."+Array(-Zb).join("0")+Bb:Bb.length>Zb+1?Bb.slice(0,Zb+1)+"."+Bb.slice(Zb+1):Bb+Array(Zb-Bb.length+2).join("0")}function c(Bb){return Bb}function b(Bb){function Zb(ra){function jb(Fc){var Mc=Xc,Yc=Cc,mb,Gb;if("c"===Uc)Yc=zc(Fc)+Yc,Fc="";else{Fc=+Fc;var Pb=0>Fc||0>1/Fc;Fc=isNaN(Fc)?cf:zc(Math.abs(Fc),Wb);if(sc){var Vb=Fc.length,ma=1,Ka=-1;a:for(;ma<Vb;++ma)switch(Fc[ma]){case ".":Ka=
mb=ma;break;case "0":0===Ka&&(Ka=ma);mb=ma;break;default:if(!+Fc[ma])break a;0<Ka&&(Ka=0)}Fc=0<Ka?Fc.slice(0,Ka)+Fc.slice(mb+1):Fc}Pb&&0===+Fc&&"+"!==ha&&(Pb=!1);Mc=(Pb?"("===ha?ha:Qe:"-"===ha||"("===ha?"":ha)+Mc;Yc=("s"===Uc?Kb[8+Ca/3]:"")+Yc+(Pb&&"("===ha?")":"");if(oc)for(Pb=-1,mb=Fc.length;++Pb<mb;)if(Gb=Fc.charCodeAt(Pb),48>Gb||57<Gb){Yc=(46===Gb?Rd+Fc.slice(Pb+1):Fc.slice(Pb))+Yc;Fc=Fc.slice(0,Pb);break}}Cb&&!$a&&(Fc=Sc(Fc,Infinity));Gb=Mc.length+Fc.length+Yc.length;Pb=Gb<ub?Array(ub-Gb+1).join(Ia):
"";Cb&&$a&&(Fc=Sc(Pb+Fc,Pb.length?ub-Yc.length:Infinity),Pb="");switch(Xb){case "\x3c":Fc=Mc+Fc+Yc+Pb;break;case "\x3d":Fc=Mc+Pb+Fc+Yc;break;case "^":Fc=Pb.slice(0,Gb=Pb.length>>1)+Mc+Fc+Yc+Pb.slice(Gb);break;default:Fc=Pb+Mc+Fc+Yc}return Sd(Fc)}ra=e(ra);var Ia=ra.fill,Xb=ra.align,ha=ra.sign,Oa=ra.symbol,$a=ra.zero,ub=ra.width,Cb=ra.comma,Wb=ra.precision,sc=ra.trim,Uc=ra.type;"n"===Uc?(Cb=!0,Uc="g"):Ya[Uc]||(void 0===Wb&&(Wb=12),sc=!0,Uc="g");if($a||"0"===Ia&&"\x3d"===Xb)$a=!0,Ia="0",Xb="\x3d";var Xc=
"$"===Oa?ce:"#"===Oa&&/[boxX]/.test(Uc)?"0"+Uc.toLowerCase():"",Cc="$"===Oa?ke:/[%p]/.test(Uc)?Qd:"",zc=Ya[Uc],oc=/[defgprs%]/.test(Uc);Wb=void 0===Wb?6:/[gprs]/.test(Uc)?Math.max(1,Math.min(21,Wb)):Math.max(0,Math.min(20,Wb));jb.toString=function(){return ra+""};return jb}var Sc=void 0===Bb.grouping||void 0===Bb.thousands?c:k(tb.call(Bb.grouping,Number),Bb.thousands+""),ce=void 0===Bb.currency?"":Bb.currency[0]+"",ke=void 0===Bb.currency?"":Bb.currency[1]+"",Rd=void 0===Bb.decimal?".":Bb.decimal+
"",Sd=void 0===Bb.numerals?c:f(tb.call(Bb.numerals,String)),Qd=void 0===Bb.percent?"%":Bb.percent+"",Qe=void 0===Bb.minus?"":Bb.minus+"",cf=void 0===Bb.nan?"NaN":Bb.nan+"";return{format:Zb,formatPrefix:function(ra,jb){var Ia=Zb((ra=e(ra),ra.type="f",ra));ra=3*Math.max(-8,Math.min(8,Math.floor(h(jb)/3)));var Xb=Math.pow(10,-ra),ha=Kb[8+ra/3];return function(Oa){return Ia(Xb*Oa)+ha}}}}function m(Bb,Zb){return Sc=>{Sc=Bb(Sc);const ce=Sc.indexOf(Zb);if(0>ce)return Sc;a:{var ke=Sc.lastIndexOf("e");if(!(0<
ke)){for(ke=Sc.length;--ke>ce;){var Rd=Sc.charCodeAt(ke);if(48<=Rd&&57>=Rd){ke+=1;break a}}ke=void 0}}for(Rd=ke<Sc.length?Sc.slice(ke):"";--ke>ce;)if("0"!==Sc[ke]){++ke;break}return Sc.slice(0,ke)+Rd}}function z(Bb){const Zb=v(Bb.format),Sc=Bb.formatPrefix;return{format:Zb,formatPrefix:Sc,formatFloat(ce){ce=e(ce||",");if(null==ce.precision){ce.precision=12;switch(ce.type){case "%":ce.precision-=2;break;case "e":--ce.precision}return m(Zb(ce),Zb(".1f")(1)[1])}return Zb(ce)},formatSpan(ce,ke,Rd,Sd){Sd=
e(null==Sd?",f":Sd);var Qd=Math.abs(ke-ce)/Math.max(0,Rd);Rd=Math.pow(10,Math.floor(Math.log(Qd)/Math.LN10));Qd/=Rd;Qd>=bf?Rd*=10:Qd>=Ye?Rd*=5:Qd>=pe&&(Rd*=2);Rd=ke<ce?-Rd:Rd;ce=Math.max(Math.abs(ce),Math.abs(ke));if(null==Sd.precision)switch(Sd.type){case "s":return ke=isNaN,Rd=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(h(ce)/3)))-h(Math.abs(Rd))),ke(ke=Rd)||(Sd.precision=ke),Sc(Sd,ce);case "":case "e":case "g":case "p":case "r":ke=isNaN;Rd=Math.abs(Rd);ce=Math.abs(ce)-Rd;ce=Math.max(0,h(ce)-
h(Rd))+1;ke(ke=ce)||(Sd.precision=ke-("e"===Sd.type));break;case "f":case "%":isNaN(ke=Math.max(0,-h(Math.abs(Rd))))||(Sd.precision=ke-2*("%"===Sd.type))}return Zb(Sd)}}}function u(){return Gc=z({format:mc,formatPrefix:Jc})}function C(Bb){return z(b(Bb))}function J(Bb){return arguments.length?Gc=C(Bb):Gc}function A(Bb,Zb,Sc,ce){function ke(Rd){return Bb(Rd=0===arguments.length?new Date:new Date(+Rd)),Rd}ke.floor=function(Rd){return Bb(Rd=new Date(+Rd)),Rd};ke.ceil=function(Rd){return Bb(Rd=new Date(Rd-
1)),Zb(Rd,1),Bb(Rd),Rd};ke.round=function(Rd){var Sd=ke(Rd),Qd=ke.ceil(Rd);return Rd-Sd<Qd-Rd?Sd:Qd};ke.offset=function(Rd,Sd){return Zb(Rd=new Date(+Rd),null==Sd?1:Math.floor(Sd)),Rd};ke.range=function(Rd,Sd,Qd){var Qe=[],cf;Rd=ke.ceil(Rd);Qd=null==Qd?1:Math.floor(Qd);if(!(Rd<Sd&&0<Qd))return Qe;do Qe.push(cf=new Date(+Rd)),Zb(Rd,Qd),Bb(Rd);while(cf<Rd&&Rd<Sd);return Qe};ke.filter=function(Rd){return A(function(Sd){if(Sd>=Sd)for(;Bb(Sd),!Rd(Sd);)Sd.setTime(Sd-1)},function(Sd,Qd){if(Sd>=Sd)if(0>Qd)for(;0>=
++Qd;)for(;Zb(Sd,-1),!Rd(Sd););else for(;0<=--Qd;)for(;Zb(Sd,1),!Rd(Sd););})};Sc&&(ke.count=function(Rd,Sd){jc.setTime(+Rd);bd.setTime(+Sd);Bb(jc);Bb(bd);return Math.floor(Sc(jc,bd))},ke.every=function(Rd){Rd=Math.floor(Rd);return isFinite(Rd)&&0<Rd?1<Rd?ke.filter(ce?function(Sd){return 0===ce(Sd)%Rd}:function(Sd){return 0===ke.count(0,Sd)%Rd}):ke:null});return ke}function x(Bb){return A(function(Zb){Zb.setDate(Zb.getDate()-(Zb.getDay()+7-Bb)%7);Zb.setHours(0,0,0,0)},function(Zb,Sc){Zb.setDate(Zb.getDate()+
7*Sc)},function(Zb,Sc){return(Sc-Zb-6E4*(Sc.getTimezoneOffset()-Zb.getTimezoneOffset()))/6048E5})}function q(Bb){return A(function(Zb){Zb.setUTCDate(Zb.getUTCDate()-(Zb.getUTCDay()+7-Bb)%7);Zb.setUTCHours(0,0,0,0)},function(Zb,Sc){Zb.setUTCDate(Zb.getUTCDate()+7*Sc)},function(Zb,Sc){return(Sc-Zb)/6048E5})}function H(Bb){if(0<=Bb.y&&100>Bb.y){var Zb=new Date(-1,Bb.m,Bb.d,Bb.H,Bb.M,Bb.S,Bb.L);Zb.setFullYear(Bb.y);return Zb}return new Date(Bb.y,Bb.m,Bb.d,Bb.H,Bb.M,Bb.S,Bb.L)}function M(Bb){if(0<=Bb.y&&
100>Bb.y){var Zb=new Date(Date.UTC(-1,Bb.m,Bb.d,Bb.H,Bb.M,Bb.S,Bb.L));Zb.setUTCFullYear(Bb.y);return Zb}return new Date(Date.UTC(Bb.y,Bb.m,Bb.d,Bb.H,Bb.M,Bb.S,Bb.L))}function R(Bb,Zb,Sc){return{y:Bb,m:Zb,d:Sc,H:0,M:0,S:0,L:0}}function Z(Bb){function Zb(oc,Fc){return function(Mc){var Yc=[],mb=-1,Gb=0,Pb=oc.length,Vb,ma;for(Mc instanceof Date||(Mc=new Date(+Mc));++mb<Pb;)if(37===oc.charCodeAt(mb)){Yc.push(oc.slice(Gb,mb));null!=(Gb=qc[Vb=oc.charAt(++mb)])?Vb=oc.charAt(++mb):Gb="e"===Vb?" ":"0";if(ma=
Fc[Vb])Vb=ma(Mc,Gb);Yc.push(Vb);Gb=mb+1}Yc.push(oc.slice(Gb,mb));return Yc.join("")}}function Sc(oc,Fc){return function(Mc){var Yc=R(1900,void 0,1);if(ce(Yc,oc,Mc+="",0)!=Mc.length)return null;if("Q"in Yc)return new Date(Yc.Q);if("s"in Yc)return new Date(1E3*Yc.s+("L"in Yc?Yc.L:0));!Fc||"Z"in Yc||(Yc.Z=0);"p"in Yc&&(Yc.H=Yc.H%12+12*Yc.p);void 0===Yc.m&&(Yc.m="q"in Yc?Yc.q:0);if("V"in Yc){if(1>Yc.V||53<Yc.V)return null;"w"in Yc||(Yc.w=1);if("Z"in Yc){Mc=M(R(Yc.y,0,1));var mb=Mc.getUTCDay();Mc=4<mb||
0===mb?Be.ceil(Mc):Be(Mc);Mc=ue.offset(Mc,7*(Yc.V-1));Yc.y=Mc.getUTCFullYear();Yc.m=Mc.getUTCMonth();Yc.d=Mc.getUTCDate()+(Yc.w+6)%7}else Mc=H(R(Yc.y,0,1)),mb=Mc.getDay(),Mc=4<mb||0===mb?Nd.ceil(Mc):Nd(Mc),Mc=md.offset(Mc,7*(Yc.V-1)),Yc.y=Mc.getFullYear(),Yc.m=Mc.getMonth(),Yc.d=Mc.getDate()+(Yc.w+6)%7}else if("W"in Yc||"U"in Yc)"w"in Yc||(Yc.w="u"in Yc?Yc.u%7:"W"in Yc?1:0),mb="Z"in Yc?M(R(Yc.y,0,1)).getUTCDay():H(R(Yc.y,0,1)).getDay(),Yc.m=0,Yc.d="W"in Yc?(Yc.w+6)%7+7*Yc.W-(mb+5)%7:Yc.w+7*Yc.U-(mb+
6)%7;return"Z"in Yc?(Yc.H+=Yc.Z/100|0,Yc.M+=Yc.Z%100,M(Yc)):H(Yc)}}function ce(oc,Fc,Mc,Yc){for(var mb=0,Gb=Fc.length,Pb=Mc.length,Vb;mb<Gb;){if(Yc>=Pb)return-1;Vb=Fc.charCodeAt(mb++);if(37===Vb){if(Vb=Fc.charAt(mb++),Vb=zc[Vb in qc?Fc.charAt(mb++):Vb],!Vb||0>(Yc=Vb(oc,Mc,Yc)))return-1}else if(Vb!=Mc.charCodeAt(Yc++))return-1}return Yc}var ke=Bb.dateTime,Rd=Bb.date,Sd=Bb.time,Qd=Bb.periods,Qe=Bb.days,cf=Bb.shortDays,ra=Bb.months,jb=Bb.shortMonths,Ia=aa(Qd),Xb=W(Qd),ha=aa(Qe),Oa=W(Qe),$a=aa(cf),ub=
W(cf),Cb=aa(ra),Wb=W(ra),sc=aa(jb),Uc=W(jb),Xc={a:function(oc){return cf[oc.getDay()]},A:function(oc){return Qe[oc.getDay()]},b:function(oc){return jb[oc.getMonth()]},B:function(oc){return ra[oc.getMonth()]},c:null,d:Va,e:Va,f:Y,g:yc,G:hd,H:eb,I:ta,j:Qa,L:oa,m:ja,M:Ga,p:function(oc){return Qd[+(12<=oc.getHours())]},q:function(oc){return 1+~~(oc.getMonth()/3)},Q:od,s:sd,S:Wa,u:cb,U:nb,V:Fb,w:nc,W:Lc,x:null,X:null,y:Ac,Y:tc,Z:Mb,"%":fd},Cc={a:function(oc){return cf[oc.getUTCDay()]},A:function(oc){return Qe[oc.getUTCDay()]},
b:function(oc){return jb[oc.getUTCMonth()]},B:function(oc){return ra[oc.getUTCMonth()]},c:null,d:Ab,e:Ab,f:Ec,g:Ub,G:Dc,H:ec,I:ac,j:lc,L:Ic,m:Rc,M:id,p:function(oc){return Qd[+(12<=oc.getUTCHours())]},q:function(oc){return 1+~~(oc.getUTCMonth()/3)},Q:od,s:sd,S:Td,u:Ea,U:za,V:bb,w:lb,W:zb,x:null,X:null,y:Tb,Y:$b,Z:dd,"%":fd},zc={a:function(oc,Fc,Mc){return(Fc=$a.exec(Fc.slice(Mc)))?(oc.w=ub.get(Fc[0].toLowerCase()),Mc+Fc[0].length):-1},A:function(oc,Fc,Mc){return(Fc=ha.exec(Fc.slice(Mc)))?(oc.w=Oa.get(Fc[0].toLowerCase()),
Mc+Fc[0].length):-1},b:function(oc,Fc,Mc){return(Fc=sc.exec(Fc.slice(Mc)))?(oc.m=Uc.get(Fc[0].toLowerCase()),Mc+Fc[0].length):-1},B:function(oc,Fc,Mc){return(Fc=Cb.exec(Fc.slice(Mc)))?(oc.m=Wb.get(Fc[0].toLowerCase()),Mc+Fc[0].length):-1},c:function(oc,Fc,Mc){return ce(oc,ke,Fc,Mc)},d:Ua,e:Ua,f:ua,g:ka,G:U,H:La,I:La,j:hb,L:Ma,m:wa,M:pa,p:function(oc,Fc,Mc){return(Fc=Ia.exec(Fc.slice(Mc)))?(oc.p=Xb.get(Fc[0].toLowerCase()),Mc+Fc[0].length):-1},q:la,Q:qa,s:Ha,S:Da,u:P,U:w,V:B,w:X,W:K,x:function(oc,
Fc,Mc){return ce(oc,Rd,Fc,Mc)},X:function(oc,Fc,Mc){return ce(oc,Sd,Fc,Mc)},y:ka,Y:U,Z:da,"%":Aa};Xc.x=Zb(Rd,Xc);Xc.X=Zb(Sd,Xc);Xc.c=Zb(ke,Xc);Cc.x=Zb(Rd,Cc);Cc.X=Zb(Sd,Cc);Cc.c=Zb(ke,Cc);return{format:function(oc){var Fc=Zb(oc+="",Xc);Fc.toString=function(){return oc};return Fc},parse:function(oc){var Fc=Sc(oc+="",!1);Fc.toString=function(){return oc};return Fc},utcFormat:function(oc){var Fc=Zb(oc+="",Cc);Fc.toString=function(){return oc};return Fc},utcParse:function(oc){var Fc=Sc(oc+="",!0);Fc.toString=
function(){return oc};return Fc}}}function T(Bb,Zb,Sc){var ce=0>Bb?"-":"";Bb=(ce?-Bb:Bb)+"";var ke=Bb.length;return ce+(ke<Sc?Array(Sc-ke+1).join(Zb)+Bb:Bb)}function ba(Bb){return Bb.replace(Hd,"\\$\x26")}function aa(Bb){return new RegExp("^(?:"+Bb.map(ba).join("|")+")","i")}function W(Bb){return new Map(Bb.map((Zb,Sc)=>[Zb.toLowerCase(),Sc]))}function X(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+1)))?(Bb.w=+Zb[0],Sc+Zb[0].length):-1}function P(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+1)))?(Bb.u=
+Zb[0],Sc+Zb[0].length):-1}function w(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.U=+Zb[0],Sc+Zb[0].length):-1}function B(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.V=+Zb[0],Sc+Zb[0].length):-1}function K(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.W=+Zb[0],Sc+Zb[0].length):-1}function U(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+4)))?(Bb.y=+Zb[0],Sc+Zb[0].length):-1}function ka(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.y=+Zb[0]+(68<+Zb[0]?1900:2E3),Sc+Zb[0].length):
-1}function da(Bb,Zb,Sc){return(Zb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Zb.slice(Sc,Sc+6)))?(Bb.Z=Zb[1]?0:-(Zb[2]+(Zb[3]||"00")),Sc+Zb[0].length):-1}function la(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+1)))?(Bb.q=3*Zb[0]-3,Sc+Zb[0].length):-1}function wa(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.m=Zb[0]-1,Sc+Zb[0].length):-1}function Ua(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.d=+Zb[0],Sc+Zb[0].length):-1}function hb(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+3)))?(Bb.m=0,Bb.d=
+Zb[0],Sc+Zb[0].length):-1}function La(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.H=+Zb[0],Sc+Zb[0].length):-1}function pa(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.M=+Zb[0],Sc+Zb[0].length):-1}function Da(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+2)))?(Bb.S=+Zb[0],Sc+Zb[0].length):-1}function Ma(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+3)))?(Bb.L=+Zb[0],Sc+Zb[0].length):-1}function ua(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc,Sc+6)))?(Bb.L=Math.floor(Zb[0]/1E3),Sc+Zb[0].length):
-1}function Aa(Bb,Zb,Sc){return(Bb=Bd.exec(Zb.slice(Sc,Sc+1)))?Sc+Bb[0].length:-1}function qa(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc)))?(Bb.Q=+Zb[0],Sc+Zb[0].length):-1}function Ha(Bb,Zb,Sc){return(Zb=Vc.exec(Zb.slice(Sc)))?(Bb.s=+Zb[0],Sc+Zb[0].length):-1}function Va(Bb,Zb){return T(Bb.getDate(),Zb,2)}function eb(Bb,Zb){return T(Bb.getHours(),Zb,2)}function ta(Bb,Zb){return T(Bb.getHours()%12||12,Zb,2)}function Qa(Bb,Zb){return T(1+md.count(Ce(Bb),Bb),Zb,3)}function oa(Bb,Zb){return T(Bb.getMilliseconds(),
Zb,3)}function Y(Bb,Zb){return oa(Bb,Zb)+"000"}function ja(Bb,Zb){return T(Bb.getMonth()+1,Zb,2)}function Ga(Bb,Zb){return T(Bb.getMinutes(),Zb,2)}function Wa(Bb,Zb){return T(Bb.getSeconds(),Zb,2)}function cb(Bb){Bb=Bb.getDay();return 0===Bb?7:Bb}function nb(Bb,Zb){return T(Ed.count(Ce(Bb)-1,Bb),Zb,2)}function pb(Bb){var Zb=Bb.getDay();return 4<=Zb||0===Zb?Pd(Bb):Pd.ceil(Bb)}function Fb(Bb,Zb){Bb=pb(Bb);return T(Pd.count(Ce(Bb),Bb)+(4===Ce(Bb).getDay()),Zb,2)}function nc(Bb){return Bb.getDay()}function Lc(Bb,
Zb){return T(Nd.count(Ce(Bb)-1,Bb),Zb,2)}function Ac(Bb,Zb){return T(Bb.getFullYear()%100,Zb,2)}function yc(Bb,Zb){Bb=pb(Bb);return T(Bb.getFullYear()%100,Zb,2)}function tc(Bb,Zb){return T(Bb.getFullYear()%1E4,Zb,4)}function hd(Bb,Zb){var Sc=Bb.getDay();Bb=4<=Sc||0===Sc?Pd(Bb):Pd.ceil(Bb);return T(Bb.getFullYear()%1E4,Zb,4)}function Mb(Bb){Bb=Bb.getTimezoneOffset();return(0<Bb?"-":(Bb*=-1,"+"))+T(Bb/60|0,"0",2)+T(Bb%60,"0",2)}function Ab(Bb,Zb){return T(Bb.getUTCDate(),Zb,2)}function ec(Bb,Zb){return T(Bb.getUTCHours(),
Zb,2)}function ac(Bb,Zb){return T(Bb.getUTCHours()%12||12,Zb,2)}function lc(Bb,Zb){return T(1+ue.count(Sb(Bb),Bb),Zb,3)}function Ic(Bb,Zb){return T(Bb.getUTCMilliseconds(),Zb,3)}function Ec(Bb,Zb){return Ic(Bb,Zb)+"000"}function Rc(Bb,Zb){return T(Bb.getUTCMonth()+1,Zb,2)}function id(Bb,Zb){return T(Bb.getUTCMinutes(),Zb,2)}function Td(Bb,Zb){return T(Bb.getUTCSeconds(),Zb,2)}function Ea(Bb){Bb=Bb.getUTCDay();return 0===Bb?7:Bb}function za(Bb,Zb){return T(Df.count(Sb(Bb)-1,Bb),Zb,2)}function Fa(Bb){var Zb=
Bb.getUTCDay();return 4<=Zb||0===Zb?Me(Bb):Me.ceil(Bb)}function bb(Bb,Zb){Bb=Fa(Bb);return T(Me.count(Sb(Bb),Bb)+(4===Sb(Bb).getUTCDay()),Zb,2)}function lb(Bb){return Bb.getUTCDay()}function zb(Bb,Zb){return T(Be.count(Sb(Bb)-1,Bb),Zb,2)}function Tb(Bb,Zb){return T(Bb.getUTCFullYear()%100,Zb,2)}function Ub(Bb,Zb){Bb=Fa(Bb);return T(Bb.getUTCFullYear()%100,Zb,2)}function $b(Bb,Zb){return T(Bb.getUTCFullYear()%1E4,Zb,4)}function Dc(Bb,Zb){var Sc=Bb.getUTCDay();Bb=4<=Sc||0===Sc?Me(Bb):Me.ceil(Bb);return T(Bb.getUTCFullYear()%
1E4,Zb,4)}function dd(){return"+0000"}function fd(){return"%"}function od(Bb){return+Bb}function sd(Bb){return Math.floor(+Bb/1E3)}function Kd(Bb,Zb,Sc){Sc=Sc||{};n.isObject(Sc)||n.error(`Invalid time multi-format specifier: ${Sc}`);const ce=Zb(p.SECONDS),ke=Zb(p.MINUTES),Rd=Zb(p.HOURS),Sd=Zb(p.DATE),Qd=Zb(p.WEEK),Qe=Zb(p.MONTH),cf=Zb(p.QUARTER),ra=Zb(p.YEAR),jb=Bb(Sc[p.MILLISECONDS]||".%L"),Ia=Bb(Sc[p.SECONDS]||":%S"),Xb=Bb(Sc[p.MINUTES]||"%I:%M"),ha=Bb(Sc[p.HOURS]||"%I %p"),Oa=Bb(Sc[p.DATE]||Sc[p.DAY]||
"%a %d"),$a=Bb(Sc[p.WEEK]||"%b %d"),ub=Bb(Sc[p.MONTH]||"%B"),Cb=Bb(Sc[p.QUARTER]||"%B"),Wb=Bb(Sc[p.YEAR]||"%Y");return sc=>(ce(sc)<sc?jb:ke(sc)<sc?Ia:Rd(sc)<sc?Xb:Sd(sc)<sc?ha:Qe(sc)<sc?Qd(sc)<sc?Oa:$a:ra(sc)<sc?cf(sc)<sc?ub:Cb:Wb)(sc)}function Od(Bb){const Zb=v(Bb.format),Sc=v(Bb.utcFormat);return{timeFormat:ce=>n.isString(ce)?Zb(ce):Kd(Zb,p.timeInterval,ce),utcFormat:ce=>n.isString(ce)?Sc(ce):Kd(Sc,p.utcInterval,ce),timeParse:v(Bb.parse),utcParse:v(Bb.utcParse)}}function ae(){return Ne=Od({format:$e,
parse:Qf,utcFormat:Af,utcParse:If})}function de(Bb){return Od(Z(Bb))}function je(Bb){return arguments.length?Ne=de(Bb):Ne}function qd(Bb,Zb){var Sc=arguments.length;Sc&&2!==Sc&&n.error("defaultLocale expects either zero or two arguments.");if(Sc){Sc=J(Bb);var ce=je(Zb);Sc=n.extend({},Sc,ce)}else Sc=J(),ce=je(),Sc=n.extend({},Sc,ce);return Sc}var bf=Math.sqrt(50),Ye=Math.sqrt(10),pe=Math.sqrt(2),ve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;e.prototype=d.prototype;d.prototype.toString=
function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ca,Ya={"%":(Bb,Zb)=>(100*Bb).toFixed(Zb),b:Bb=>Math.round(Bb).toString(2),c:Bb=>Bb+"",d:function(Bb){return 1E21<=Math.abs(Bb=Math.round(Bb))?Bb.toLocaleString("en").replace(/,/g,""):Bb.toString(10)},e:(Bb,Zb)=>Bb.toExponential(Zb),f:(Bb,Zb)=>Bb.toFixed(Zb),
g:(Bb,Zb)=>Bb.toPrecision(Zb),o:Bb=>Math.round(Bb).toString(8),p:(Bb,Zb)=>a(100*Bb,Zb),r:a,s:function(Bb,Zb){var Sc=r(Bb,Zb);if(!Sc)return Bb+"";var ce=Sc[0];Sc=Sc[1];Sc=Sc-(Ca=3*Math.max(-8,Math.min(8,Math.floor(Sc/3))))+1;var ke=ce.length;return Sc===ke?ce:Sc>ke?ce+Array(Sc-ke+1).join("0"):0<Sc?ce.slice(0,Sc)+"."+ce.slice(Sc):"0."+Array(1-Sc).join("0")+r(Bb,Math.max(0,Zb+Sc-1))[0]},X:Bb=>Math.round(Bb).toString(16).toUpperCase(),x:Bb=>Math.round(Bb).toString(16)},tb=Array.prototype.map,Kb="y z a f p n  m  k M G T P E Z Y".split(" "),
dc,mc,Jc;(function(Bb){dc=b(Bb);mc=dc.format;Jc=dc.formatPrefix;return dc})({thousands:",",grouping:[3],currency:["$",""]});let Gc;u();var jc=new Date,bd=new Date,md=A(Bb=>Bb.setHours(0,0,0,0),(Bb,Zb)=>Bb.setDate(Bb.getDate()+Zb),(Bb,Zb)=>(Zb-Bb-6E4*(Zb.getTimezoneOffset()-Bb.getTimezoneOffset()))/864E5,Bb=>Bb.getDate()-1),Ed=x(0),Nd=x(1);x(2);x(3);var Pd=x(4);x(5);x(6);var ee=A(function(Bb){Bb.setMonth(0,1);Bb.setHours(0,0,0,0)},function(Bb,Zb){Bb.setFullYear(Bb.getFullYear()+Zb)},function(Bb,Zb){return Zb.getFullYear()-
Bb.getFullYear()},function(Bb){return Bb.getFullYear()});ee.every=function(Bb){return isFinite(Bb=Math.floor(Bb))&&0<Bb?A(function(Zb){Zb.setFullYear(Math.floor(Zb.getFullYear()/Bb)*Bb);Zb.setMonth(0,1);Zb.setHours(0,0,0,0)},function(Zb,Sc){Zb.setFullYear(Zb.getFullYear()+Sc*Bb)}):null};var Ce=ee,ue=A(function(Bb){Bb.setUTCHours(0,0,0,0)},function(Bb,Zb){Bb.setUTCDate(Bb.getUTCDate()+Zb)},function(Bb,Zb){return(Zb-Bb)/864E5},function(Bb){return Bb.getUTCDate()-1}),Df=q(0),Be=q(1);q(2);q(3);var Me=
q(4);q(5);q(6);var kf=A(function(Bb){Bb.setUTCMonth(0,1);Bb.setUTCHours(0,0,0,0)},function(Bb,Zb){Bb.setUTCFullYear(Bb.getUTCFullYear()+Zb)},function(Bb,Zb){return Zb.getUTCFullYear()-Bb.getUTCFullYear()},function(Bb){return Bb.getUTCFullYear()});kf.every=function(Bb){return isFinite(Bb=Math.floor(Bb))&&0<Bb?A(function(Zb){Zb.setUTCFullYear(Math.floor(Zb.getUTCFullYear()/Bb)*Bb);Zb.setUTCMonth(0,1);Zb.setUTCHours(0,0,0,0)},function(Zb,Sc){Zb.setUTCFullYear(Zb.getUTCFullYear()+Sc*Bb)}):null};var Sb=
kf,qc={"-":"",_:" ",0:"0"},Vc=/^\s*\d+/,Bd=/^%/,Hd=/[\\^$*+?|[\]().{}]/g,me,$e,Qf,Af,If;(function(Bb){me=Z(Bb);$e=me.format;Qf=me.parse;Af=me.utcFormat;If=me.utcParse;return me})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
let Ne;ae();y.defaultLocale=qd;y.locale=function(Bb,Zb){Bb=Bb?C(Bb):J();Zb=Zb?de(Zb):je();return n.extend({},Bb,Zb)};y.numberFormatDefaultLocale=J;y.numberFormatLocale=C;y.resetDefaultLocale=function(){u();ae();return qd()};y.resetNumberFormatDefaultLocale=u;y.resetTimeFormatDefaultLocale=ae;y.timeFormatDefaultLocale=je;y.timeFormatLocale=de;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[18]=function(sa,F,ob,G){function y(r){var h=r.length;if(0<h%4)throw Error("Invalid string. Length must be a multiple of 4");r=r.indexOf("\x3d");-1===r&&(r=h);return[r,r===h?0:4-r%4]}G.byteLength=function(r){r=y(r);var h=r[1];return 3*(r[0]+h)/4-h};G.toByteArray=function(r){var h=y(r);var k=h[0];h=h[1];var f=new v(3*(k+h)/4-h),e=0,d=0<h?k-4:k,a;for(a=0;a<d;a+=4)k=n[r.charCodeAt(a)]<<18|n[r.charCodeAt(a+1)]<<12|n[r.charCodeAt(a+2)]<<6|n[r.charCodeAt(a+3)],f[e++]=k>>16&255,f[e++]=k>>8&
255,f[e++]=k&255;2===h&&(k=n[r.charCodeAt(a)]<<2|n[r.charCodeAt(a+1)]>>4,f[e++]=k&255);1===h&&(k=n[r.charCodeAt(a)]<<10|n[r.charCodeAt(a+1)]<<4|n[r.charCodeAt(a+2)]>>2,f[e++]=k>>8&255,f[e++]=k&255);return f};G.fromByteArray=function(r){for(var h=r.length,k=h%3,f=[],e=0,d=h-k;e<d;e+=16383){for(var a=f,c=a.push,b,m=r,z=e+16383>d?d:e+16383,u=[],C=e;C<z;C+=3)b=(m[C]<<16&16711680)+(m[C+1]<<8&65280)+(m[C+2]&255),u.push(p[b>>18&63]+p[b>>12&63]+p[b>>6&63]+p[b&63]);b=u.join("");c.call(a,b)}1===k?(r=r[h-1],
f.push(p[r>>2]+p[r<<4&63]+"\x3d\x3d")):2===k&&(r=(r[h-2]<<8)+r[h-1],f.push(p[r>>10]+p[r>>4&63]+p[r<<2&63]+"\x3d"));return f.join("")};var p=[],n=[],v="undefined"!==typeof Uint8Array?Uint8Array:Array;for(sa=0;64>sa;++sa)p[sa]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[sa],n["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(sa)]=sa;n[45]=62;n[95]=63};
shadow$provide[19]=function(sa,F,ob,G){G.read=function(y,p,n,v,r){var h=8*r-v-1;var k=(1<<h)-1,f=k>>1,e=-7;r=n?r-1:0;var d=n?-1:1,a=y[p+r];r+=d;n=a&(1<<-e)-1;a>>=-e;for(e+=h;0<e;n=256*n+y[p+r],r+=d,e-=8);h=n&(1<<-e)-1;n>>=-e;for(e+=v;0<e;h=256*h+y[p+r],r+=d,e-=8);if(0===n)n=1-f;else{if(n===k)return h?NaN:Infinity*(a?-1:1);h+=Math.pow(2,v);n-=f}return(a?-1:1)*h*Math.pow(2,n-v)};G.write=function(y,p,n,v,r,h){var k,f=8*h-r-1,e=(1<<f)-1,d=e>>1,a=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;h=v?0:h-1;var c=
v?1:-1,b=0>p||0===p&&0>1/p?1:0;p=Math.abs(p);isNaN(p)||Infinity===p?(p=isNaN(p)?1:0,v=e):(v=Math.floor(Math.log(p)/Math.LN2),1>p*(k=Math.pow(2,-v))&&(v--,k*=2),p=1<=v+d?p+a/k:p+a*Math.pow(2,1-d),2<=p*k&&(v++,k/=2),v+d>=e?(p=0,v=e):1<=v+d?(p=(p*k-1)*Math.pow(2,r),v+=d):(p=p*Math.pow(2,d-1)*Math.pow(2,r),v=0));for(;8<=r;y[n+h]=p&255,h+=c,p/=256,r-=8);v=v<<r|p;for(f+=r;0<f;y[n+h]=v&255,h+=c,v/=256,f-=8);y[n+h-c]|=128*b}};
shadow$provide[20]=function(sa,F,ob,G){var y={}.toString;ob.exports=Array.isArray||function(p){return"[object Array]"==y.call(p)}};
shadow$provide[21]=function(sa,F,ob,G){function y(){try{var w=new Uint8Array(1);w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===w.foo()&&"function"===typeof w.subarray&&0===w.subarray(1,1).byteLength}catch(B){return!1}}function p(w,B){if((n.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<B)throw new RangeError("Invalid typed array length");n.TYPED_ARRAY_SUPPORT?(w=new Uint8Array(B),w.__proto__=n.prototype):(null===w&&(w=new n(B)),w.length=B);return w}function n(w,B,K){if(!(n.TYPED_ARRAY_SUPPORT||
this instanceof n))return new n(w,B,K);if("number"===typeof w){if("string"===typeof B)throw Error("If encoding is specified then the first argument must be a string");return h(this,w)}return v(this,w,B,K)}function v(w,B,K,U){if("number"===typeof B)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&B instanceof ArrayBuffer){B.byteLength;if(0>K||B.byteLength<K)throw new RangeError("'offset' is out of bounds");if(B.byteLength<K+(U||0))throw new RangeError("'length' is out of bounds");
B=void 0===K&&void 0===U?new Uint8Array(B):void 0===U?new Uint8Array(B,K):new Uint8Array(B,K,U);n.TYPED_ARRAY_SUPPORT?(w=B,w.__proto__=n.prototype):w=k(w,B);return w}if("string"===typeof B){U=w;w=K;if("string"!==typeof w||""===w)w="utf8";if(!n.isEncoding(w))throw new TypeError('"encoding" must be a valid string encoding');K=d(B,w)|0;U=p(U,K);B=U.write(B,w);B!==K&&(U=U.slice(0,B));return U}return f(w,B)}function r(w){if("number"!==typeof w)throw new TypeError('"size" argument must be a number');if(0>
w)throw new RangeError('"size" argument must not be negative');}function h(w,B){r(B);w=p(w,0>B?0:e(B)|0);if(!n.TYPED_ARRAY_SUPPORT)for(var K=0;K<B;++K)w[K]=0;return w}function k(w,B){var K=0>B.length?0:e(B.length)|0;w=p(w,K);for(var U=0;U<K;U+=1)w[U]=B[U]&255;return w}function f(w,B){if(n.isBuffer(B)){var K=e(B.length)|0;w=p(w,K);if(0===w.length)return w;B.copy(w,0,0,K);return w}if(B){if("undefined"!==typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return(K="number"!==typeof B.length)||
(K=B.length,K=K!==K),K?p(w,0):k(w,B);if("Buffer"===B.type&&W(B.data))return k(w,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function e(w){if(w>=(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(n.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return w|0}function d(w,B){if(n.isBuffer(w))return w.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(w)||w instanceof ArrayBuffer))return w.byteLength;"string"!==typeof w&&(w=""+w);var K=w.length;if(0===K)return 0;for(var U=!1;;)switch(B){case "ascii":case "latin1":case "binary":return K;case "utf8":case "utf-8":case void 0:return M(w).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*K;case "hex":return K>>>1;case "base64":return Z(w).length;default:if(U)return M(w).length;B=(""+B).toLowerCase();U=!0}}function a(w,
B,K){var U=!1;if(void 0===B||0>B)B=0;if(B>this.length)return"";if(void 0===K||K>this.length)K=this.length;if(0>=K)return"";K>>>=0;B>>>=0;if(K<=B)return"";for(w||(w="utf8");;)switch(w){case "hex":w=B;B=K;K=this.length;if(!w||0>w)w=0;if(!B||0>B||B>K)B=K;U="";for(K=w;K<B;++K)w=U,U=this[K],U=16>U?"0"+U.toString(16):U.toString(16),U=w+U;return U;case "utf8":case "utf-8":return z(this,B,K);case "ascii":w="";for(K=Math.min(this.length,K);B<K;++B)w+=String.fromCharCode(this[B]&127);return w;case "latin1":case "binary":w=
"";for(K=Math.min(this.length,K);B<K;++B)w+=String.fromCharCode(this[B]);return w;case "base64":return B=0===B&&K===this.length?ba.fromByteArray(this):ba.fromByteArray(this.slice(B,K)),B;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":B=this.slice(B,K);K="";for(w=0;w<B.length;w+=2)K+=String.fromCharCode(B[w]+256*B[w+1]);return K;default:if(U)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase();U=!0}}function c(w,B,K){var U=w[B];w[B]=w[K];w[K]=U}function b(w,B,K,U,ka){if(0===
w.length)return-1;"string"===typeof K?(U=K,K=0):2147483647<K?K=2147483647:-2147483648>K&&(K=-2147483648);K=+K;isNaN(K)&&(K=ka?0:w.length-1);0>K&&(K=w.length+K);if(K>=w.length){if(ka)return-1;K=w.length-1}else if(0>K)if(ka)K=0;else return-1;"string"===typeof B&&(B=n.from(B,U));if(n.isBuffer(B))return 0===B.length?-1:m(w,B,K,U,ka);if("number"===typeof B)return B&=255,n.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?ka?Uint8Array.prototype.indexOf.call(w,B,K):Uint8Array.prototype.lastIndexOf.call(w,
B,K):m(w,[B],K,U,ka);throw new TypeError("val must be string, number or Buffer");}function m(w,B,K,U,ka){function da(hb,La){return 1===la?hb[La]:hb.readUInt16BE(La*la)}var la=1,wa=w.length,Ua=B.length;if(void 0!==U&&(U=String(U).toLowerCase(),"ucs2"===U||"ucs-2"===U||"utf16le"===U||"utf-16le"===U)){if(2>w.length||2>B.length)return-1;la=2;wa/=2;Ua/=2;K/=2}if(ka)for(U=-1;K<wa;K++)if(da(w,K)===da(B,-1===U?0:K-U)){if(-1===U&&(U=K),K-U+1===Ua)return U*la}else-1!==U&&(K-=K-U),U=-1;else for(K+Ua>wa&&(K=
wa-Ua);0<=K;K--){wa=!0;for(U=0;U<Ua;U++)if(da(w,K+U)!==da(B,U)){wa=!1;break}if(wa)return K}return-1}function z(w,B,K){K=Math.min(w.length,K);for(var U=[];B<K;){var ka=w[B],da=null,la=239<ka?4:223<ka?3:191<ka?2:1;if(B+la<=K)switch(la){case 1:128>ka&&(da=ka);break;case 2:var wa=w[B+1];128===(wa&192)&&(ka=(ka&31)<<6|wa&63,127<ka&&(da=ka));break;case 3:wa=w[B+1];var Ua=w[B+2];128===(wa&192)&&128===(Ua&192)&&(ka=(ka&15)<<12|(wa&63)<<6|Ua&63,2047<ka&&(55296>ka||57343<ka)&&(da=ka));break;case 4:wa=w[B+1];
Ua=w[B+2];var hb=w[B+3];128===(wa&192)&&128===(Ua&192)&&128===(hb&192)&&(ka=(ka&15)<<18|(wa&63)<<12|(Ua&63)<<6|hb&63,65535<ka&&1114112>ka&&(da=ka))}null===da?(da=65533,la=1):65535<da&&(da-=65536,U.push(da>>>10&1023|55296),da=56320|da&1023);U.push(da);B+=la}w=U.length;if(w<=X)U=String.fromCharCode.apply(String,U);else{K="";for(B=0;B<w;)K+=String.fromCharCode.apply(String,U.slice(B,B+=X));U=K}return U}function u(w,B,K){if(0!==w%1||0>w)throw new RangeError("offset is not uint");if(w+B>K)throw new RangeError("Trying to access beyond buffer length");
}function C(w,B,K,U,ka,da){if(!n.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>ka||B<da)throw new RangeError('"value" argument is out of bounds');if(K+U>w.length)throw new RangeError("Index out of range");}function J(w,B,K,U){0>B&&(B=65535+B+1);for(var ka=0,da=Math.min(w.length-K,2);ka<da;++ka)w[K+ka]=(B&255<<8*(U?ka:1-ka))>>>8*(U?ka:1-ka)}function A(w,B,K,U){0>B&&(B=4294967295+B+1);for(var ka=0,da=Math.min(w.length-K,4);ka<da;++ka)w[K+ka]=B>>>8*(U?ka:3-ka)&255}
function x(w,B,K,U,ka,da){if(K+U>w.length)throw new RangeError("Index out of range");if(0>K)throw new RangeError("Index out of range");}function q(w,B,K,U,ka){ka||x(w,B,K,4,3.4028234663852886E38,-3.4028234663852886E38);aa.write(w,B,K,U,23,4);return K+4}function H(w,B,K,U,ka){ka||x(w,B,K,8,1.7976931348623157E308,-1.7976931348623157E308);aa.write(w,B,K,U,52,8);return K+8}function M(w,B){B=B||Infinity;for(var K,U=w.length,ka=null,da=[],la=0;la<U;++la){K=w.charCodeAt(la);if(55295<K&&57344>K){if(!ka){if(56319<
K){-1<(B-=3)&&da.push(239,191,189);continue}else if(la+1===U){-1<(B-=3)&&da.push(239,191,189);continue}ka=K;continue}if(56320>K){-1<(B-=3)&&da.push(239,191,189);ka=K;continue}K=(ka-55296<<10|K-56320)+65536}else ka&&-1<(B-=3)&&da.push(239,191,189);ka=null;if(128>K){if(0>--B)break;da.push(K)}else if(2048>K){if(0>(B-=2))break;da.push(K>>6|192,K&63|128)}else if(65536>K){if(0>(B-=3))break;da.push(K>>12|224,K>>6&63|128,K&63|128)}else if(1114112>K){if(0>(B-=4))break;da.push(K>>18|240,K>>12&63|128,K>>6&63|
128,K&63|128)}else throw Error("Invalid code point");}return da}function R(w){for(var B=[],K=0;K<w.length;++K)B.push(w.charCodeAt(K)&255);return B}function Z(w){var B=ba,K=B.toByteArray;w=(w.trim?w.trim():w.replace(/^\s+|\s+$/g,"")).replace(P,"");if(2>w.length)w="";else for(;0!==w.length%4;)w+="\x3d";return K.call(B,w)}function T(w,B,K,U){for(var ka=0;ka<U&&!(ka+K>=B.length||ka>=w.length);++ka)B[ka+K]=w[ka];return ka}var ba=F(18),aa=F(19),W=F(20);G.Buffer=n;G.SlowBuffer=function(w){+w!=w&&(w=0);return n.alloc(+w)};
G.INSPECT_MAX_BYTES=50;n.TYPED_ARRAY_SUPPORT=void 0!==sa.TYPED_ARRAY_SUPPORT?sa.TYPED_ARRAY_SUPPORT:y();G.kMaxLength=n.TYPED_ARRAY_SUPPORT?2147483647:1073741823;n.poolSize=8192;n._augment=function(w){w.__proto__=n.prototype;return w};n.from=function(w,B,K){return v(null,w,B,K)};n.TYPED_ARRAY_SUPPORT&&(n.prototype.__proto__=Uint8Array.prototype,n.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&n[Symbol.species]===n&&Object.defineProperty(n,Symbol.species,{value:null,configurable:!0}));
n.alloc=function(w,B,K){r(w);w=0>=w?p(null,w):void 0!==B?"string"===typeof K?p(null,w).fill(B,K):p(null,w).fill(B):p(null,w);return w};n.allocUnsafe=function(w){return h(null,w)};n.allocUnsafeSlow=function(w){return h(null,w)};n.isBuffer=function(w){return!(null==w||!w._isBuffer)};n.compare=function(w,B){if(!n.isBuffer(w)||!n.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(w===B)return 0;for(var K=w.length,U=B.length,ka=0,da=Math.min(K,U);ka<da;++ka)if(w[ka]!==B[ka]){K=w[ka];U=B[ka];
break}return K<U?-1:U<K?1:0};n.isEncoding=function(w){switch(String(w).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};n.concat=function(w,B){if(!W(w))throw new TypeError('"list" argument must be an Array of Buffers');if(0===w.length)return n.alloc(0);var K;if(void 0===B)for(K=B=0;K<w.length;++K)B+=w[K].length;B=n.allocUnsafe(B);var U=0;for(K=0;K<w.length;++K){var ka=
w[K];if(!n.isBuffer(ka))throw new TypeError('"list" argument must be an Array of Buffers');ka.copy(B,U);U+=ka.length}return B};n.byteLength=d;n.prototype._isBuffer=!0;n.prototype.swap16=function(){var w=this.length;if(0!==w%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<w;B+=2)c(this,B,B+1);return this};n.prototype.swap32=function(){var w=this.length;if(0!==w%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<w;B+=4)c(this,B,B+3),c(this,
B+1,B+2);return this};n.prototype.swap64=function(){var w=this.length;if(0!==w%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<w;B+=8)c(this,B,B+7),c(this,B+1,B+6),c(this,B+2,B+5),c(this,B+3,B+4);return this};n.prototype.toString=function(){var w=this.length|0;return 0===w?"":0===arguments.length?z(this,0,w):a.apply(this,arguments)};n.prototype.equals=function(w){if(!n.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:0===n.compare(this,
w)};n.prototype.inspect=function(){var w="",B=G.INSPECT_MAX_BYTES;0<this.length&&(w=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(w+=" ... "));return"\x3cBuffer "+w+"\x3e"};n.prototype.compare=function(w,B,K,U,ka){if(!n.isBuffer(w))throw new TypeError("Argument must be a Buffer");void 0===B&&(B=0);void 0===K&&(K=w?w.length:0);void 0===U&&(U=0);void 0===ka&&(ka=this.length);if(0>B||K>w.length||0>U||ka>this.length)throw new RangeError("out of range index");if(U>=ka&&B>=K)return 0;
if(U>=ka)return-1;if(B>=K)return 1;B>>>=0;K>>>=0;U>>>=0;ka>>>=0;if(this===w)return 0;var da=ka-U,la=K-B,wa=Math.min(da,la);U=this.slice(U,ka);w=w.slice(B,K);for(B=0;B<wa;++B)if(U[B]!==w[B]){da=U[B];la=w[B];break}return da<la?-1:la<da?1:0};n.prototype.includes=function(w,B,K){return-1!==this.indexOf(w,B,K)};n.prototype.indexOf=function(w,B,K){return b(this,w,B,K,!0)};n.prototype.lastIndexOf=function(w,B,K){return b(this,w,B,K,!1)};n.prototype.write=function(w,B,K,U){if(void 0===B)U="utf8",K=this.length,
B=0;else if(void 0===K&&"string"===typeof B)U=B,K=this.length,B=0;else if(isFinite(B))B|=0,isFinite(K)?(K|=0,void 0===U&&(U="utf8")):(U=K,K=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ka=this.length-B;if(void 0===K||K>ka)K=ka;if(0<w.length&&(0>K||0>B)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(ka=!1;;)switch(U){case "hex":a:{B=Number(B)||0;U=this.length-B;K?(K=Number(K),K>U&&(K=U)):K=U;
U=w.length;if(0!==U%2)throw new TypeError("Invalid hex string");K>U/2&&(K=U/2);for(U=0;U<K;++U){ka=parseInt(w.substr(2*U,2),16);if(isNaN(ka)){w=U;break a}this[B+U]=ka}w=U}return w;case "utf8":case "utf-8":return T(M(w,this.length-B),this,B,K);case "ascii":return T(R(w),this,B,K);case "latin1":case "binary":return T(R(w),this,B,K);case "base64":return T(Z(w),this,B,K);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":U=w;ka=this.length-B;for(var da=[],la=0;la<U.length&&!(0>(ka-=2));++la){var wa=
U.charCodeAt(la);w=wa>>8;wa%=256;da.push(wa);da.push(w)}return T(da,this,B,K);default:if(ka)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase();ka=!0}};n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;n.prototype.slice=function(w,B){var K=this.length;w=~~w;B=void 0===B?K:~~B;0>w?(w+=K,0>w&&(w=0)):w>K&&(w=K);0>B?(B+=K,0>B&&(B=0)):B>K&&(B=K);B<w&&(B=w);if(n.TYPED_ARRAY_SUPPORT)B=this.subarray(w,B),B.__proto__=n.prototype;
else{K=B-w;B=new n(K,void 0);for(var U=0;U<K;++U)B[U]=this[U+w]}return B};n.prototype.readUIntLE=function(w,B,K){w|=0;B|=0;K||u(w,B,this.length);K=this[w];for(var U=1,ka=0;++ka<B&&(U*=256);)K+=this[w+ka]*U;return K};n.prototype.readUIntBE=function(w,B,K){w|=0;B|=0;K||u(w,B,this.length);K=this[w+--B];for(var U=1;0<B&&(U*=256);)K+=this[w+--B]*U;return K};n.prototype.readUInt8=function(w,B){B||u(w,1,this.length);return this[w]};n.prototype.readUInt16LE=function(w,B){B||u(w,2,this.length);return this[w]|
this[w+1]<<8};n.prototype.readUInt16BE=function(w,B){B||u(w,2,this.length);return this[w]<<8|this[w+1]};n.prototype.readUInt32LE=function(w,B){B||u(w,4,this.length);return(this[w]|this[w+1]<<8|this[w+2]<<16)+16777216*this[w+3]};n.prototype.readUInt32BE=function(w,B){B||u(w,4,this.length);return 16777216*this[w]+(this[w+1]<<16|this[w+2]<<8|this[w+3])};n.prototype.readIntLE=function(w,B,K){w|=0;B|=0;K||u(w,B,this.length);K=this[w];for(var U=1,ka=0;++ka<B&&(U*=256);)K+=this[w+ka]*U;K>=128*U&&(K-=Math.pow(2,
8*B));return K};n.prototype.readIntBE=function(w,B,K){w|=0;B|=0;K||u(w,B,this.length);K=B;for(var U=1,ka=this[w+--K];0<K&&(U*=256);)ka+=this[w+--K]*U;ka>=128*U&&(ka-=Math.pow(2,8*B));return ka};n.prototype.readInt8=function(w,B){B||u(w,1,this.length);return this[w]&128?-1*(255-this[w]+1):this[w]};n.prototype.readInt16LE=function(w,B){B||u(w,2,this.length);w=this[w]|this[w+1]<<8;return w&32768?w|4294901760:w};n.prototype.readInt16BE=function(w,B){B||u(w,2,this.length);w=this[w+1]|this[w]<<8;return w&
32768?w|4294901760:w};n.prototype.readInt32LE=function(w,B){B||u(w,4,this.length);return this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24};n.prototype.readInt32BE=function(w,B){B||u(w,4,this.length);return this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]};n.prototype.readFloatLE=function(w,B){B||u(w,4,this.length);return aa.read(this,w,!0,23,4)};n.prototype.readFloatBE=function(w,B){B||u(w,4,this.length);return aa.read(this,w,!1,23,4)};n.prototype.readDoubleLE=function(w,B){B||u(w,8,this.length);
return aa.read(this,w,!0,52,8)};n.prototype.readDoubleBE=function(w,B){B||u(w,8,this.length);return aa.read(this,w,!1,52,8)};n.prototype.writeUIntLE=function(w,B,K,U){w=+w;B|=0;K|=0;U||C(this,w,B,K,Math.pow(2,8*K)-1,0);U=1;var ka=0;for(this[B]=w&255;++ka<K&&(U*=256);)this[B+ka]=w/U&255;return B+K};n.prototype.writeUIntBE=function(w,B,K,U){w=+w;B|=0;K|=0;U||C(this,w,B,K,Math.pow(2,8*K)-1,0);U=K-1;var ka=1;for(this[B+U]=w&255;0<=--U&&(ka*=256);)this[B+U]=w/ka&255;return B+K};n.prototype.writeUInt8=
function(w,B,K){w=+w;B|=0;K||C(this,w,B,1,255,0);n.TYPED_ARRAY_SUPPORT||(w=Math.floor(w));this[B]=w&255;return B+1};n.prototype.writeUInt16LE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[B]=w&255,this[B+1]=w>>>8):J(this,w,B,!0);return B+2};n.prototype.writeUInt16BE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,2,65535,0);n.TYPED_ARRAY_SUPPORT?(this[B]=w>>>8,this[B+1]=w&255):J(this,w,B,!1);return B+2};n.prototype.writeUInt32LE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,4,4294967295,
0);n.TYPED_ARRAY_SUPPORT?(this[B+3]=w>>>24,this[B+2]=w>>>16,this[B+1]=w>>>8,this[B]=w&255):A(this,w,B,!0);return B+4};n.prototype.writeUInt32BE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,4,4294967295,0);n.TYPED_ARRAY_SUPPORT?(this[B]=w>>>24,this[B+1]=w>>>16,this[B+2]=w>>>8,this[B+3]=w&255):A(this,w,B,!1);return B+4};n.prototype.writeIntLE=function(w,B,K,U){w=+w;B|=0;U||(U=Math.pow(2,8*K-1),C(this,w,B,K,U-1,-U));U=0;var ka=1,da=0;for(this[B]=w&255;++U<K&&(ka*=256);)0>w&&0===da&&0!==this[B+U-1]&&(da=1),
this[B+U]=(w/ka>>0)-da&255;return B+K};n.prototype.writeIntBE=function(w,B,K,U){w=+w;B|=0;U||(U=Math.pow(2,8*K-1),C(this,w,B,K,U-1,-U));U=K-1;var ka=1,da=0;for(this[B+U]=w&255;0<=--U&&(ka*=256);)0>w&&0===da&&0!==this[B+U+1]&&(da=1),this[B+U]=(w/ka>>0)-da&255;return B+K};n.prototype.writeInt8=function(w,B,K){w=+w;B|=0;K||C(this,w,B,1,127,-128);n.TYPED_ARRAY_SUPPORT||(w=Math.floor(w));0>w&&(w=255+w+1);this[B]=w&255;return B+1};n.prototype.writeInt16LE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,2,32767,
-32768);n.TYPED_ARRAY_SUPPORT?(this[B]=w&255,this[B+1]=w>>>8):J(this,w,B,!0);return B+2};n.prototype.writeInt16BE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,2,32767,-32768);n.TYPED_ARRAY_SUPPORT?(this[B]=w>>>8,this[B+1]=w&255):J(this,w,B,!1);return B+2};n.prototype.writeInt32LE=function(w,B,K){w=+w;B|=0;K||C(this,w,B,4,2147483647,-2147483648);n.TYPED_ARRAY_SUPPORT?(this[B]=w&255,this[B+1]=w>>>8,this[B+2]=w>>>16,this[B+3]=w>>>24):A(this,w,B,!0);return B+4};n.prototype.writeInt32BE=function(w,B,K){w=+w;
B|=0;K||C(this,w,B,4,2147483647,-2147483648);0>w&&(w=4294967295+w+1);n.TYPED_ARRAY_SUPPORT?(this[B]=w>>>24,this[B+1]=w>>>16,this[B+2]=w>>>8,this[B+3]=w&255):A(this,w,B,!1);return B+4};n.prototype.writeFloatLE=function(w,B,K){return q(this,w,B,!0,K)};n.prototype.writeFloatBE=function(w,B,K){return q(this,w,B,!1,K)};n.prototype.writeDoubleLE=function(w,B,K){return H(this,w,B,!0,K)};n.prototype.writeDoubleBE=function(w,B,K){return H(this,w,B,!1,K)};n.prototype.copy=function(w,B,K,U){K||(K=0);U||0===
U||(U=this.length);B>=w.length&&(B=w.length);B||(B=0);0<U&&U<K&&(U=K);if(U===K||0===w.length||0===this.length)return 0;if(0>B)throw new RangeError("targetStart out of bounds");if(0>K||K>=this.length)throw new RangeError("sourceStart out of bounds");if(0>U)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length);w.length-B<U-K&&(U=w.length-B+K);var ka=U-K;if(this===w&&K<B&&B<U)for(U=ka-1;0<=U;--U)w[U+B]=this[U+K];else if(1E3>ka||!n.TYPED_ARRAY_SUPPORT)for(U=0;U<ka;++U)w[U+B]=
this[U+K];else Uint8Array.prototype.set.call(w,this.subarray(K,K+ka),B);return ka};n.prototype.fill=function(w,B,K,U){if("string"===typeof w){"string"===typeof B?(U=B,B=0,K=this.length):"string"===typeof K&&(U=K,K=this.length);if(1===w.length){var ka=w.charCodeAt(0);256>ka&&(w=ka)}if(void 0!==U&&"string"!==typeof U)throw new TypeError("encoding must be a string");if("string"===typeof U&&!n.isEncoding(U))throw new TypeError("Unknown encoding: "+U);}else"number"===typeof w&&(w&=255);if(0>B||this.length<
B||this.length<K)throw new RangeError("Out of range index");if(K<=B)return this;B>>>=0;K=void 0===K?this.length:K>>>0;w||(w=0);if("number"===typeof w)for(U=B;U<K;++U)this[U]=w;else for(w=n.isBuffer(w)?w:M((new n(w,U)).toString()),ka=w.length,U=0;U<K-B;++U)this[U+B]=w[U%ka];return this};var P=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[22]=function(sa,F,ob,G){var y=F(21).Buffer;(function(p,n){"object"===typeof G&&"undefined"!==typeof ob?n(G,F(14),F(15),F(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],n):(p="undefined"!==typeof globalThis?globalThis:p||self,n(p.vega={},p.vega,p.topojson,p.vega))})(this,function(p,n,v,r){function h(da,la){const wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Ua=yield wa.sanitize(da,la),hb=Ua.href;
return Ua.localFile?wa.file(hb):wa.http(hb,la)})}function k(da,la){const wa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){la=n.extend({},wa.options,la);const Ua=wa.fileAccess,hb={href:null};var La;let pa;var Da=T.test(da.replace(ba,""));null!=da&&"string"===typeof da&&Da||n.error("Sanitize failure, invalid URI: "+n.stringValue(da));Da=Z.test(da);(La=la.baseURL)&&!Da&&(da.startsWith("/")||La.endsWith("/")||(da="/"+da),da=La+da);pa=(La=da.startsWith("file://"))||"file"===la.mode||
"http"!==la.mode&&!Da&&Ua;La?da=da.slice(7):da.startsWith("//")&&("file"===la.defaultProtocol?(da=da.slice(2),pa=!0):da=(la.defaultProtocol||"http")+":"+da);Object.defineProperty(hb,"localFile",{value:!!pa});hb.href=da;la.target&&(hb.target=la.target+"");la.rel&&(hb.rel=la.rel+"");"image"===la.context&&la.crossOrigin&&(hb.crossOrigin=la.crossOrigin+"");return hb})}function f(da){return da?la=>new Promise((wa,Ua)=>{da.readFile(la,(hb,La)=>{hb?Ua(hb):wa(La)})}):e}function e(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No file system access.")})}
function d(da){return da?function(la,wa){const Ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var hb=n.extend({},Ua.options.http,wa);const La=wa&&wa.response;hb=yield da(la,hb);return hb.ok?n.isFunction(hb[La])?hb[La]():hb.text():n.error(hb.status+""+hb.statusText)})}:a}function a(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){n.error("No HTTP fetch method available.")})}function c(da,la){if(!da||!da.length)return"unknown";const wa=da.length,Ua=X.length,
hb=X.map((La,pa)=>pa+1);for(let La=0,pa=0,Da,Ma;La<wa;++La)for(Ma=la?da[La][la]:da[La],Da=0;Da<Ua;++Da)if(hb[Da]&&null!=Ma&&Ma===Ma&&!X[Da](Ma)&&(hb[Da]=0,++pa,pa===X.length))return"string";return P[hb.reduce((La,pa)=>0===La?pa:La,0)-1]}function b(da,la){return la.reduce((wa,Ua)=>{wa[Ua]=c(da,Ua);return wa},{})}function m(da){return new Function("d","return {"+da.map(function(la,wa){return JSON.stringify(la)+": d["+wa+'] || ""'}).join(",")+"}")}function z(da,la){var wa=m(da);return function(Ua,hb){return la(wa(Ua),
hb,da)}}function u(da){var la=Object.create(null),wa=[];da.forEach(function(Ua){for(var hb in Ua)hb in la||wa.push(la[hb]=hb)});return wa}function C(da,la){da+="";var wa=da.length;return wa<la?Array(la-wa+1).join(0)+da:da}function J(da){function la(Da,Ma){function ua(){if(ta)return B;if(Qa)return Qa=!1,w;var Y,ja=Ha,Ga;if(34===Da.charCodeAt(ja)){for(;Ha++<qa&&34!==Da.charCodeAt(Ha)||34===Da.charCodeAt(++Ha););(Y=Ha)>=qa?ta=!0:10===(Ga=Da.charCodeAt(Ha++))?Qa=!0:13===Ga&&(Qa=!0,10===Da.charCodeAt(Ha)&&
++Ha);return Da.slice(ja+1,Y-1).replace(/""/g,'"')}for(;Ha<qa;){if(10===(Ga=Da.charCodeAt(Y=Ha++)))Qa=!0;else if(13===Ga)Qa=!0,10===Da.charCodeAt(Ha)&&++Ha;else if(Ga!==pa)continue;return Da.slice(ja,Y)}return ta=!0,Da.slice(ja,qa)}var Aa=[],qa=Da.length,Ha=0,Va=0,eb,ta=0>=qa,Qa=!1;10===Da.charCodeAt(qa-1)&&--qa;for(13===Da.charCodeAt(qa-1)&&--qa;(eb=ua())!==B;){for(var oa=[];eb!==w&&eb!==B;)oa.push(eb),eb=ua();Ma&&null==(oa=Ma(oa,Va++))||Aa.push(oa)}return Aa}function wa(Da,Ma){return Da.map(function(ua){return Ma.map(function(Aa){return hb(ua[Aa])}).join(da)})}
function Ua(Da){return Da.map(hb).join(da)}function hb(Da){if(null==Da)Da="";else{if(Da instanceof Date){var Ma=Da.getUTCHours();var ua=Da.getUTCMinutes(),Aa=Da.getUTCSeconds(),qa=Da.getUTCMilliseconds();if(isNaN(Da))Da="Invalid Date";else{var Ha=Da.getUTCFullYear();Da=(0>Ha?"-"+C(-Ha,6):9999<Ha?"+"+C(Ha,6):C(Ha,4))+"-"+C(Da.getUTCMonth()+1,2)+"-"+C(Da.getUTCDate(),2)+(qa?"T"+C(Ma,2)+":"+C(ua,2)+":"+C(Aa,2)+"."+C(qa,3)+"Z":Aa?"T"+C(Ma,2)+":"+C(ua,2)+":"+C(Aa,2)+"Z":ua||Ma?"T"+C(Ma,2)+":"+C(ua,2)+
"Z":"")}Ma=Da}else Ma=La.test(Da+="")?'"'+Da.replace(/"/g,'""')+'"':Da;Da=Ma}return Da}var La=new RegExp('["'+da+"\n\r]"),pa=da.charCodeAt(0);return{parse:function(Da,Ma){var ua,Aa;Da=la(Da,function(qa,Ha){if(ua)return ua(qa,Ha-1);Aa=qa;ua=Ma?z(qa,Ma):m(qa)});Da.columns=Aa||[];return Da},parseRows:la,format:function(Da,Ma){null==Ma&&(Ma=u(Da));return[Ma.map(hb).join(da)].concat(wa(Da,Ma)).join("\n")},formatBody:function(Da,Ma){null==Ma&&(Ma=u(Da));return wa(Da,Ma).join("\n")},formatRows:function(Da){return Da.map(Ua).join("\n")},
formatRow:Ua,formatValue:hb}}function A(da){const la=function(wa,Ua){const hb={delimiter:da};return x(wa,Ua?n.extend(Ua,hb):hb)};la.responseType="text";return la}function x(da,la){la.header&&(da=la.header.map(n.stringValue).join(la.delimiter)+"\n"+da);return J(la.delimiter).parse(da+"")}function q(da,la){const wa=la&&la.property?n.field(la.property):n.identity;var Ua;if(Ua=n.isObject(da))Ua=!("function"===typeof y&&n.isFunction(y.isBuffer)&&y.isBuffer(da));Ua?(da=wa(da),!n.isArray(da)&&n.isIterable(da)&&
(da=[...da]),la=la&&la.copy?JSON.parse(JSON.stringify(da)):da):la=wa(JSON.parse(da));return la}function H(da,la){let wa,Ua,hb,La;da=q(da,la);la&&la.feature?(wa=v.feature,hb=la.feature):la&&la.mesh?(wa=v.mesh,hb=la.mesh,La=K[la.filter]):n.error("Missing TopoJSON feature or mesh parameter.");return(Ua=(Ua=da.objects[hb])?wa(da,Ua,La):n.error("Invalid TopoJSON object: "+hb))&&Ua.features||[Ua]}function M(da,la){return 1<arguments.length?(U[da]=la,this):n.hasOwnProperty(U,da)?U[da]:null}function R(da,
la,wa,Ua){if(da.length){var hb=r.timeFormatDefaultLocale();wa=wa||hb.timeParse;Ua=Ua||hb.utcParse;hb=da.columns||Object.keys(da[0]);var La,pa;"auto"===la&&(la=b(da,hb));hb=Object.keys(la);var Da=hb.map(Ha=>{var Va=la[Ha];if(Va&&(Va.startsWith("date:")||Va.startsWith("utc:"))){Ha=Va.split(/:(.+)?/,2);Va=Ha[1];if("'"===Va[0]&&"'"===Va[Va.length-1]||'"'===Va[0]&&'"'===Va[Va.length-1])Va=Va.slice(1,-1);return("utc"===Ha[0]?Ua:wa)(Va)}if(!W[Va])throw Error("Illegal format pattern: "+Ha+":"+Va);return W[Va]});
var Ma=0;var ua=da.length;for(pa=hb.length;Ma<ua;++Ma){var Aa=da[Ma];for(La=0;La<pa;++La){var qa=hb[La];Aa[qa]=Da[La](Aa[qa])}}}}const Z=/^(data:|([A-Za-z]+:)?\/\/)/,T=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,ba=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,aa=da=>!Number.isNaN(+da)&&!(da instanceof Date),W={boolean:n.toBoolean,integer:n.toNumber,number:n.toNumber,date:n.toDate,string:n.toString,unknown:n.identity},X=[da=>"true"===
da||"false"===da||!0===da||!1===da,da=>aa(da)&&Number.isInteger(+da),aa,da=>!Number.isNaN(Date.parse(da))],P=["boolean","integer","number","date"];var w={},B={};x.responseType="text";q.responseType="json";const K={interior:(da,la)=>da!==la,exterior:(da,la)=>da===la};H.responseType="json";const U={dsv:x,csv:A(","),tsv:A("\t"),json:q,topojson:H},ka=function(da,la){return wa=>({options:wa||{},sanitize:k,load:h,fileAccess:!!la,file:f(la),http:d(da)})}("undefined"!==typeof fetch&&fetch,null);p.format=
U;p.formats=M;p.inferType=c;p.inferTypes=b;p.loader=ka;p.read=function(da,la,wa,Ua){la=la||{};const hb=M(la.type||"json");hb||n.error("Unknown data format type: "+la.type);da=hb(da,la);la.parse&&R(da,la.parse,wa,Ua);n.hasOwnProperty(da,"columns")&&delete da.columns;return da};p.responseType=function(da){return(da=M(da))&&da.responseType||"text"};p.typeParsers=W;Object.defineProperty(p,"__esModule",{value:!0})})};
shadow$provide[23]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(22),F(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega))})(this,function(y,p,n,v){function r(La){const pa=La||p.identity,Da=[],Ma={};Da.add=ua=>{const Aa=pa(ua);Ma[Aa]||(Ma[Aa]=1,Da.push(ua));return Da};Da.remove=ua=>{const Aa=pa(ua);Ma[Aa]&&(Ma[Aa]=
0,ua=Da.indexOf(ua),0<=ua&&Da.splice(ua,1));return Da};return Da}function h(La,pa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield pa(La)}catch(Da){La.error(Da)}})}function k(La){La=La===Object(La)?La:{data:La};if(!La[B]){var pa=K++;La[B]=pa}return La}function f(La,pa){for(const Da in La)pa[Da]=La[Da];return pa}function e(La){return La&&La.constructor===d}function d(){const La=[],pa=[],Da=[],Ma=[],ua=[];let Aa=null,qa=!1;return{constructor:d,insert(Ha){Ha=p.array(Ha);const Va=
Ha.length;for(let eb=0;eb<Va;++eb)La.push(Ha[eb]);return this},remove(Ha){const Va=p.isFunction(Ha)?Ma:pa;Ha=p.array(Ha);const eb=Ha.length;for(let ta=0;ta<eb;++ta)Va.push(Ha[ta]);return this},modify(Ha,Va,eb){Va={field:Va,value:p.constant(eb)};p.isFunction(Ha)?(Va.filter=Ha,ua.push(Va)):(Va.tuple=Ha,Da.push(Va));return this},encode(Ha,Va){p.isFunction(Ha)?ua.push({filter:Ha,field:Va}):Da.push({tuple:Ha,field:Va});return this},clean(Ha){Aa=Ha;return this},reflow(){qa=!0;return this},pulse(Ha,Va){function eb(nb,
pb,Fb){Fb?nb[pb]=Fb(nb):Ha.encode=pb;qa||(Qa[nb[B]]=nb)}const ta={},Qa={};let oa,Y,ja,Ga,Wa,cb;oa=0;for(Y=Va.length;oa<Y;++oa)ta[Va[oa][B]]=1;oa=0;for(Y=pa.length;oa<Y;++oa)Wa=pa[oa],ta[Wa[B]]=-1;oa=0;for(Y=Ma.length;oa<Y;++oa)Ga=Ma[oa],Va.forEach(nb=>{Ga(nb)&&(ta[nb[B]]=-1)});oa=0;for(Y=La.length;oa<Y;++oa)Wa=La[oa],cb=Wa[B],ta[cb]?ta[cb]=1:Ha.add.push(k(La[oa]));oa=0;for(Y=Va.length;oa<Y;++oa)Wa=Va[oa],0>ta[Wa[B]]&&Ha.rem.push(Wa);oa=0;for(Y=Da.length;oa<Y;++oa)ja=Da[oa],Wa=ja.tuple,Ga=ja.field,
cb=ta[Wa[B]],0<cb&&(eb(Wa,Ga,ja.value),Ha.modifies(Ga));oa=0;for(Y=ua.length;oa<Y;++oa)ja=ua[oa],Ga=ja.filter,Va.forEach(nb=>{Ga(nb)&&0<ta[nb[B]]&&eb(nb,ja.field,ja.value)}),Ha.modifies(ja.field);if(qa)Ha.mod=pa.length||Ma.length?Va.filter(nb=>0<ta[nb[B]]):Va.slice();else for(cb in Qa)Ha.mod.push(Qa[cb]);(Aa||null==Aa&&(pa.length||Ma.length))&&Ha.clean(!0);return Ha}}}function a(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function c(La,pa,Da,Ma){this.id=++U;this.value=La;this.qrank=
this.rank=this.stamp=-1;this.flags=0;pa&&(this._update=pa);Da&&this.parameters(Da,Ma)}function b(La){return function(pa){const Da=this.flags;if(0===arguments.length)return!!(Da&La);this.flags=pa?Da|La:Da&~La;return this}}function m(La,pa,Da){this.id=++da;this.value=null;Da&&(this.receive=Da);La&&(this._filter=La);pa&&(this._apply=pa)}function z(La,pa,Da){return new m(La,pa,Da)}function u(La){let pa;const Da=new Promise(Ma=>pa=Ma);Da.requests=0;Da.done=()=>{0===--Da.requests&&(La._pending=null,pa(La))};
return La._pending=Da}function C(La,pa,Da,Ma,ua,Aa){const qa=p.extend({},Aa,la);let Ha;p.isFunction(Da)||(Da=p.constant(Da));void 0===Ma?ua=Va=>La.touch(Da(Va)):p.isFunction(Ma)?(Ha=new c(null,Ma,ua,!1),ua=Va=>{Ha.evaluate(Va);Va=Da(Va);const eb=Ha.value;e(eb)?La.pulse(Va,eb,Aa):La.update(Va,eb,qa)}):ua=Va=>La.update(Da(Va),Ma,qa);pa.apply(ua)}function J(La,pa,Da,Ma,ua,Aa){void 0===Ma?pa.targets().add(Da):(Aa=Aa||{},Ma=new c(null,A(Da,Ma),ua,!1),Ma.modified(Aa.force),Ma.rank=pa.rank,pa.targets().add(Ma),
Da&&(Ma.skip(!0),Ma.value=Da.value,Ma.targets().add(Da),La.connect(Da,[Ma])))}function A(La,pa){pa=p.isFunction(pa)?pa:p.constant(pa);return La?function(Da,Ma){Da=pa(Da,Ma);La.skip()||(La.skip(Da!==this.value).value=Da);return Da}:pa}function x(La,pa,Da){this.dataflow=La;this.stamp=null==pa?-1:pa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Da||null}function q(La,pa){const Da=[];p.visitArray(La,pa,Ma=>Da.push(Ma));return Da}function H(La,pa){const Da={};La.visit(pa,Ma=>{Da[Ma[B]]=
1});return Ma=>Da[Ma[B]]?null:Ma}function M(La,pa){return La?(Da,Ma)=>La(Da,Ma)&&pa(Da,Ma):pa}function R(La,pa,Da,Ma){const ua=Da.length;let Aa=0;this.dataflow=La;this.stamp=pa;this.fields=null;this.encode=Ma||null;this.pulses=Da;for(La=0;La<ua;++La)if(Ma=Da[La],Ma.stamp===pa){if(Ma.fields){const qa=this.fields||(this.fields={});for(const Ha in Ma.fields)qa[Ha]=1}Ma.changed(this.ADD)&&(Aa|=this.ADD);Ma.changed(this.REM)&&(Aa|=this.REM);Ma.changed(this.MOD)&&(Aa|=this.MOD)}this.changes=Aa}function Z(La){La.error("Dataflow already running. Use runAsync() to chain invocations.");
return La}function T(La,pa){if(pa&&pa.stamp===La.stamp)return pa;La=La.fork();pa&&pa!==wa&&(La.source=pa.source);return La}function ba(La){let pa=[];return{clear:()=>pa=[],size:()=>pa.length,peek:()=>pa[0],push:Da=>{pa.push(Da);return aa(pa,0,pa.length-1,La)},pop:()=>{var Da=pa.pop();let Ma;if(pa.length){Ma=pa[0];pa[0]=Da;Da=pa;var ua=0;const Aa=ua,qa=Da.length,Ha=Da[ua];let Va=(ua<<1)+1,eb;for(;Va<qa;)eb=Va+1,eb<qa&&0<=La(Da[Va],Da[eb])&&(Va=eb),Da[ua]=Da[Va],ua=Va,Va=(ua<<1)+1;Da[ua]=Ha;aa(Da,Aa,
ua,La)}else Ma=Da;return Ma}}}function aa(La,pa,Da,Ma){let ua,Aa;const qa=La[Da];for(;Da>pa;)if(Aa=Da-1>>1,ua=La[Aa],0>Ma(qa,ua))La[Da]=ua,Da=Aa;else break;return La[Da]=qa}function W(){this.logger(p.logger());this.logLevel(p.Error);this._rank=this._clock=0;this._locale=v.defaultLocale();try{this._loader=n.loader()}catch(La){}this._touched=r(p.id);this._input={};this._pulse=null;this._heap=ba((La,pa)=>La.qrank-pa.qrank);this._postrun=[]}function X(La){return function(){return this._log[La].apply(this,
arguments)}}function P(La,pa){c.call(this,La,null,pa)}function w(La){La=La&&La.toLowerCase();return p.hasOwnProperty(hb,La)?hb[La]:null}const B=Symbol("vega_id");let K=1;a.prototype={set(La,pa,Da,Ma){const ua=this[La],Aa=this["_:mod:_"];if(null!=pa&&0<=pa){if(ua[pa]!==Da||Ma)ua[pa]=Da,Aa[pa+":"+La]=-1,Aa[La]=-1}else if(ua!==Da||Ma)this[La]=Da,Aa[La]=p.isArray(Da)?1+Da.length:-1;return this},modified(La,pa){const Da=this["_:mod:_"];if(!arguments.length){for(var Ma in Da)if(Da[Ma])return!0;return!1}if(p.isArray(La)){for(Ma=
0;Ma<La.length;++Ma)if(Da[La[Ma]])return!0;return!1}return null!=pa&&0<=pa?pa+1<Da[La]||!!Da[pa+":"+La]:!!Da[La]},clear(){this["_:mod:_"]={};return this}};let U=0;const ka=new a;c.prototype={targets(){return this._targets||(this._targets=r(p.id))},set(La){return this.value!==La?(this.value=La,1):0},skip:b(1),modified:b(2),parameters(La,pa,Da){pa=!1!==pa;const Ma=this._argval=this._argval||new a,ua=this._argops=this._argops||[],Aa=[];let qa,Ha,Va,eb;const ta=(Qa,oa,Y)=>{Y instanceof c?(Y!==this&&(pa&&
Y.targets().add(this),Aa.push(Y)),ua.push({op:Y,name:Qa,index:oa})):Ma.set(Qa,oa,Y)};for(qa in La)if(Ha=La[qa],"pulse"===qa)p.array(Ha).forEach(Qa=>{Qa instanceof c?Qa!==this&&(Qa.targets().add(this),Aa.push(Qa)):p.error("Pulse parameters must be operator instances.")}),this.source=Ha;else if(p.isArray(Ha))for(Ma.set(qa,-1,Array(Va=Ha.length)),eb=0;eb<Va;++eb)ta(qa,eb,Ha[eb]);else ta(qa,-1,Ha);this.marshall().clear();Da&&(ua.initonly=!0);return Aa},marshall(La){const pa=this._argval||ka,Da=this._argops;
let Ma,ua,Aa,qa;if(Da){const Ha=Da.length;for(ua=0;ua<Ha;++ua)Ma=Da[ua],Aa=Ma.op,qa=Aa.modified()&&Aa.stamp===La,pa.set(Ma.name,Ma.index,Aa.value,qa);if(Da.initonly){for(ua=0;ua<Ha;++ua)Ma=Da[ua],Ma.op.targets().remove(this);this._update=this._argops=null}}return pa},detach(){const La=this._argops;let pa,Da;if(La)for(pa=0,Da=La.length;pa<Da;++pa){var Ma=La[pa];Ma=Ma.op;Ma._targets&&Ma._targets.remove(this)}this.source=this.pulse=null},evaluate(La){var pa=this._update;if(pa){const Da=this.marshall(La.stamp);
pa=pa.call(this,Da,La);Da.clear();if(pa!==this.value)this.value=pa;else if(!this.modified())return La.StopPropagation}},run(La){if(La.stamp<this.stamp)return La.StopPropagation;let pa;this.skip()?(this.skip(!1),pa=0):pa=this.evaluate(La);return this.pulse=pa||La}};let da=0;m.prototype={_filter:p.truthy,_apply:p.identity,targets(){return this._targets||(this._targets=r(p.id))},consume(La){if(!arguments.length)return!!this._consume;this._consume=!!La;return this},receive(La){if(this._filter(La)){const pa=
this.value=this._apply(La),Da=this._targets,Ma=Da?Da.length:0;for(let ua=0;ua<Ma;++ua)Da[ua].receive(pa);this._consume&&(La.preventDefault(),La.stopPropagation())}},filter(La){La=z(La);this.targets().add(La);return La},apply(La){La=z(null,La);this.targets().add(La);return La},merge(){const La=z();this.targets().add(La);for(let pa=0,Da=arguments.length;pa<Da;++pa)arguments[pa].targets().add(La);return La},throttle(La){let pa=-1;return this.filter(()=>{const Da=Date.now();return Da-pa>La?(pa=Da,1):
0})},debounce(La){const pa=z();this.targets().add(z(null,null,p.debounce(La,Da=>{const Ma=Da.dataflow;pa.receive(Da);Ma&&Ma.run&&Ma.run()})));return pa},between(La,pa){let Da=!1;La.targets().add(z(null,null,()=>Da=!0));pa.targets().add(z(null,null,()=>Da=!1));return this.filter(()=>Da)},detach(){this._filter=p.truthy;this._targets=null}};const la={skip:!0},wa={};x.prototype={StopPropagation:wa,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(La){return(new x(this.dataflow)).init(this,
La)},clone(){const La=this.fork(7);La.add=La.add.slice();La.rem=La.rem.slice();La.mod=La.mod.slice();La.source&&(La.source=La.source.slice());return La.materialize(23)},addAll(){let La=this;La.source&&La.add!==La.rem&&(La.rem.length||La.source.length!==La.add.length)&&(La=(new x(this.dataflow)).init(this),La.add=La.source,La.rem=[]);return La},init(La,pa){this.stamp=La.stamp;this.encode=La.encode;!La.fields||pa&64||(this.fields=La.fields);pa&1?(this.addF=La.addF,this.add=La.add):(this.addF=null,this.add=
[]);pa&2?(this.remF=La.remF,this.rem=La.rem):(this.remF=null,this.rem=[]);pa&4?(this.modF=La.modF,this.mod=La.mod):(this.modF=null,this.mod=[]);pa&32?this.source=this.srcF=null:(this.srcF=La.srcF,this.source=La.source,La.cleans&&(this.cleans=La.cleans));return this},runAfter(La){this.dataflow.runAfter(La)},changed(La){La=La||7;return La&1&&this.add.length||La&2&&this.rem.length||La&4&&this.mod.length},reflow(La){if(La)return this.fork(7).reflow();La=this.add.length;const pa=this.source&&this.source.length;
pa&&pa!==La&&(this.mod=this.source,La&&this.filter(4,H(this,1)));return this},clean(La){return arguments.length?(this.cleans=!!La,this):this.cleans},modifies(La){const pa=this.fields||(this.fields={});p.isArray(La)?La.forEach(Da=>pa[Da]=!0):pa[La]=!0;return this},modified(La,pa){const Da=this.fields;return(pa||this.mod.length)&&Da?arguments.length?p.isArray(La)?La.some(Ma=>Da[Ma]):Da[La]:!!Da:!1},filter(La,pa){La&1&&(this.addF=M(this.addF,pa));La&2&&(this.remF=M(this.remF,pa));La&4&&(this.modF=M(this.modF,
pa));La&16&&(this.srcF=M(this.srcF,pa));return this},materialize(La){La=La||7;La&1&&this.addF&&(this.add=q(this.add,this.addF),this.addF=null);La&2&&this.remF&&(this.rem=q(this.rem,this.remF),this.remF=null);La&4&&this.modF&&(this.mod=q(this.mod,this.modF),this.modF=null);La&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(La,pa){if(La&16)return p.visitArray(this.source,this.srcF,pa),this;La&1&&p.visitArray(this.add,this.addF,pa);La&2&&p.visitArray(this.rem,
this.remF,pa);La&4&&p.visitArray(this.mod,this.modF,pa);const Da=this.source;La&8&&Da&&(La=this.add.length+this.mod.length,La!==Da.length&&(La?p.visitArray(Da,H(this,5),pa):p.visitArray(Da,this.srcF,pa)));return this}};p.inherits(R,x,{fork(La){const pa=(new x(this.dataflow)).init(this,La&this.NO_FIELDS);void 0!==La&&(La&pa.ADD&&this.visit(pa.ADD,Da=>pa.add.push(Da)),La&pa.REM&&this.visit(pa.REM,Da=>pa.rem.push(Da)),La&pa.MOD&&this.visit(pa.MOD,Da=>pa.mod.push(Da)));return pa},changed(La){return this.changes&
La},modified(La){const pa=this.fields;return pa&&this.changes&this.MOD?p.isArray(La)?La.some(Da=>pa[Da]):pa[La]:0},filter(){p.error("MultiPulse does not support filtering.")},materialize(){p.error("MultiPulse does not support materialization.")},visit(La,pa){const Da=this.pulses,Ma=Da.length;let ua=0;if(La&this.SOURCE)for(;ua<Ma;++ua)Da[ua].visit(La,pa);else for(;ua<Ma;++ua)Da[ua].stamp===this.stamp&&Da[ua].visit(La,pa);return this}});const Ua={skip:!1,force:!1};W.prototype={stamp(){return this._clock},
loader(La){return arguments.length?(this._loader=La,this):this._loader},locale(La){return arguments.length?(this._locale=La,this):this._locale},logger(La){return arguments.length?(this._log=La,this):this._log},error:X("error"),warn:X("warn"),info:X("info"),debug:X("debug"),logLevel:X("level"),cleanThreshold:1E4,add:function(La,pa,Da,Ma){let ua=1;La instanceof c||(La&&La.prototype instanceof c?La=new La:p.isFunction(La)?La=new c(null,La):(ua=0,La=new c(La,pa)));this.rank(La);ua&&(Ma=Da,Da=pa);Da&&
this.connect(La,La.parameters(Da,Ma));this.touch(La);return La},connect:function(La,pa){const Da=La.rank,Ma=pa.length;for(let ua=0;ua<Ma;++ua)if(Da<pa[ua].rank){this.rerank(La);break}},rank:function(La){La.rank=++this._rank},rerank:function(La){const pa=[La];let Da,Ma,ua;for(;pa.length;)if(this.rank(Da=pa.pop()),Ma=Da._targets)for(ua=Ma.length;0<=--ua;)pa.push(Da=Ma[ua]),Da===La&&p.error("Cycle detected in dataflow graph.")},pulse:function(La,pa,Da){this.touch(La,Da||Ua);Da=new x(this,this._clock+
(this._pulse?0:1));const Ma=La.pulse&&La.pulse.source||[];Da.target=La;this._input[La.id]=pa.pulse(Da,Ma);return this},touch:function(La,pa){pa=pa||Ua;this._pulse?this._enqueue(La):this._touched.add(La);pa.skip&&La.skip(!0);return this},update:function(La,pa,Da){Da=Da||Ua;(La.set(pa)||Da.force)&&this.touch(La,Da);return this},changeset:d,ingest:function(La,pa,Da){pa=this.parse(pa,Da);return this.pulse(La,this.changeset().insert(pa))},parse:function(La,pa){const Da=this.locale();return n.read(La,pa,
Da.timeParse,Da.utcParse)},preload:function(La,pa,Da){const Ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=Ma._pending||u(Ma);ua.requests+=1;const Aa=yield Ma.request(pa,Da);Ma.pulse(La,Ma.changeset().remove(p.truthy).insert(Aa.data||[]));ua.done();return Aa})},request:function(La,pa){const Da=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Ma=0,ua;try{ua=yield Da.loader().load(La,{context:"dataflow",response:n.responseType(pa&&pa.type)});
try{ua=Da.parse(ua,pa)}catch(Aa){Ma=-2,Da.warn("Data ingestion failed",La,Aa)}}catch(Aa){Ma=-1,Da.warn("Loading failed",La,Aa)}return{data:ua,status:Ma}})},events:function(La,pa,Da,Ma){const ua=this,Aa=z(Da,Ma);Da=function(qa){qa.dataflow=ua;try{Aa.receive(qa)}catch(Ha){ua.error(Ha)}finally{ua.run()}};La="string"===typeof La&&"undefined"!==typeof document?document.querySelectorAll(La):p.array(La);Ma=La.length;for(let qa=0;qa<Ma;++qa)La[qa].addEventListener(pa,Da);return Aa},on:function(La,pa,Da,Ma,
ua){(La instanceof c?J:C)(this,La,pa,Da,Ma,ua);return this},evaluate:function(La,pa,Da){const Ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ua=[];if(Ma._pulse)return Z(Ma);Ma._pending&&(yield Ma._pending);pa&&(yield h(Ma,pa));if(!Ma._touched.length)return Ma.debug("Dataflow invoked, but nothing to do."),Ma;var Aa=++Ma._clock;Ma._pulse=new x(Ma,Aa,La);Ma._touched.forEach(ta=>Ma._enqueue(ta,!0));Ma._touched=r(p.id);var qa=0;let Ha,Va,eb;try{for(;0<Ma._heap.size();)Ha=
Ma._heap.pop(),Ha.rank!==Ha.qrank?Ma._enqueue(Ha,!0):(Va=Ha.run(Ma._getPulse(Ha,La)),Va.then?Va=yield Va:Va.async&&(ua.push(Va.async),Va=wa),Va!==wa&&Ha._targets&&Ha._targets.forEach(ta=>Ma._enqueue(ta)),++qa)}catch(ta){Ma._heap.clear(),eb=ta}Ma._input={};Ma._pulse=null;Ma.debug(`Pulse ${Aa}: ${qa} operators`);eb&&(Ma._postrun=[],Ma.error(eb));if(Ma._postrun.length)for(Aa=Ma._postrun.sort((ta,Qa)=>Qa.priority-ta.priority),Ma._postrun=[],qa=0;qa<Aa.length;++qa)yield h(Ma,Aa[qa].callback);Da&&(yield h(Ma,
Da));ua.length&&Promise.all(ua).then(ta=>Ma.runAsync(null,()=>{ta.forEach(Qa=>{try{Qa(Ma)}catch(oa){Ma.error(oa)}})}));return Ma})},run:function(La,pa,Da){return this._pulse?Z(this):(this.evaluate(La,pa,Da),this)},runAsync:function(La,pa,Da){const Ma=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Ma._running;)yield Ma._running;const ua=()=>Ma._running=null;(Ma._running=Ma.evaluate(La,pa,Da)).then(ua,ua);return Ma._running})},runAfter:function(La,pa,Da){if(this._pulse||pa)this._postrun.push({priority:Da||
0,callback:La});else try{La(this)}catch(Ma){this.error(Ma)}},_enqueue:function(La,pa){const Da=La.stamp<this._clock;Da&&(La.stamp=this._clock);if(Da||pa)La.qrank=La.rank,this._heap.push(La)},_getPulse:function(La,pa){const Da=La.source,Ma=this._clock;return Da&&p.isArray(Da)?new R(this,Ma,Da.map(ua=>ua.pulse),pa):this._input[La.id]||T(this._pulse,Da&&Da.pulse)}};p.inherits(P,c,{run(La){if(La.stamp<this.stamp)return La.StopPropagation;let pa;this.skip()?this.skip(!1):pa=this.evaluate(La);pa=pa||La;
pa.then?pa=pa.then(Da=>this.pulse=Da):pa!==La.StopPropagation&&(this.pulse=pa);return pa},evaluate(La){const pa=this.marshall(La.stamp);La=this.transform(pa,La);pa.clear();return La},transform(){}});const hb={};y.Dataflow=W;y.EventStream=m;y.MultiPulse=R;y.Operator=c;y.Parameters=a;y.Pulse=x;y.Transform=P;y.UniqueList=r;y.asyncCallback=h;y.changeset=d;y.definition=function(La){return(La=w(La))&&La.Definition||null};y.derive=function(La){return f(La,k({}))};y.ingest=k;y.isChangeSet=e;y.isTuple=function(La){return!(!La||
!La[B])};y.rederive=f;y.replace=function(La,pa){pa[B]=La[B];return pa};y.stableCompare=function(La,pa){return La?pa?(Da,Ma)=>La(Da,Ma)||pa(Da)[B]-pa(Ma)[B]:(Da,Ma)=>La(Da,Ma)||Da[B]-Ma[B]:null};y.transform=w;y.transforms=hb;y.tupleid=function(La){return La[B]};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[24]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G):"function"===typeof define&&define.amd?define(["exports"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={}))})(this,function(y){function*p(pa,Da){if(null==Da)for(var Ma of pa)null!=Ma&&""!==Ma&&(Ma=+Ma)>=Ma&&(yield Ma);else{Ma=-1;for(let ua of pa)ua=Da(ua,++Ma,pa),null!=ua&&""!==ua&&(ua=+ua)>=ua&&(yield ua)}}function n(pa,Da){return null==pa||null==Da?NaN:pa<Da?-1:pa>Da?1:pa>=
Da?0:NaN}function v(pa){return null===pa?NaN:+pa}function*r(pa,Da){if(void 0===Da)for(var Ma of pa)null!=Ma&&(Ma=+Ma)>=Ma&&(yield Ma);else{Ma=-1;for(let ua of pa)null!=(ua=Da(ua,++Ma,pa))&&(ua=+ua)>=ua&&(yield ua)}}function h(pa=n){if(pa===n)return k;if("function"!==typeof pa)throw new TypeError("compare is not a function");return(Da,Ma)=>{const ua=pa(Da,Ma);return ua||0===ua?ua:(0===pa(Ma,Ma))-(0===pa(Da,Da))}}function k(pa,Da){return(null==pa||!(pa>=pa))-(null==Da||!(Da>=Da))||(pa<Da?-1:pa>Da?1:
0)}function f(pa,Da){let Ma;if(void 0===Da)for(var ua of pa)null!=ua&&(Ma<ua||void 0===Ma&&ua>=ua)&&(Ma=ua);else{ua=-1;for(let Aa of pa)null!=(Aa=Da(Aa,++ua,pa))&&(Ma<Aa||void 0===Ma&&Aa>=Aa)&&(Ma=Aa)}return Ma}function e(pa,Da){let Ma;if(void 0===Da)for(var ua of pa)null!=ua&&(Ma>ua||void 0===Ma&&ua>=ua)&&(Ma=ua);else{ua=-1;for(let Aa of pa)null!=(Aa=Da(Aa,++ua,pa))&&(Ma>Aa||void 0===Ma&&Aa>=Aa)&&(Ma=Aa)}return Ma}function d(pa,Da,Ma=0,ua=pa.length-1,Aa){for(Aa=void 0===Aa?k:h(Aa);ua>Ma;){if(600<
ua-Ma){var qa=ua-Ma+1,Ha=Da-Ma+1,Va=Math.log(qa),eb=.5*Math.exp(2*Va/3);Va=.5*Math.sqrt(Va*eb*(qa-eb)/qa)*(0>Ha-qa/2?-1:1);d(pa,Da,Math.max(Ma,Math.floor(Da-Ha*eb/qa+Va)),Math.min(ua,Math.floor(Da+(qa-Ha)*eb/qa+Va)),Aa)}qa=pa[Da];Ha=Ma;eb=ua;a(pa,Ma,Da);for(0<Aa(pa[ua],qa)&&a(pa,Ma,ua);Ha<eb;){a(pa,Ha,eb);++Ha;for(--eb;0>Aa(pa[Ha],qa);)++Ha;for(;0<Aa(pa[eb],qa);)--eb}0===Aa(pa[Ma],qa)?a(pa,Ma,eb):(++eb,a(pa,eb,ua));eb<=Da&&(Ma=eb+1);Da<=eb&&(ua=eb-1)}return pa}function a(pa,Da,Ma){const ua=pa[Da];
pa[Da]=pa[Ma];pa[Ma]=ua}function c(pa,Da,Ma){pa=Float64Array.from(r(pa,Ma));if(Ma=pa.length){if(0>=(Da=+Da)||2>Ma)return e(pa);if(1<=Da)return f(pa);Da*=Ma-1;Ma=Math.floor(Da);var ua=f(d(pa,Ma).subarray(0,Ma+1));pa=e(pa.subarray(Ma+1));return ua+(pa-ua)*(Da-Ma)}}function b(pa,Da,Ma=v){if(ua=pa.length){if(0>=(Da=+Da)||2>ua)return+Ma(pa[0],0,pa);if(1<=Da)return+Ma(pa[ua-1],ua-1,pa);var ua;Da*=ua-1;ua=Math.floor(Da);var Aa=+Ma(pa[ua],ua,pa);pa=+Ma(pa[ua+1],ua+1,pa);return Aa+(pa-Aa)*(Da-ua)}}function m(pa,
Da,Ma){const ua=Float64Array.from(p(pa,Ma));ua.sort(n);return Da.map(Aa=>b(ua,Aa))}function z(pa,Da){return m(pa,[.25,.5,.75],Da)}function u(pa,Da){const Ma=pa.length;{var ua=0;let qa,Ha=0,Va=0;if(void 0===Da)for(var Aa of pa)null!=Aa&&(Aa=+Aa)>=Aa&&(qa=Aa-Ha,Ha+=qa/++ua,Va+=qa*(Aa-Ha));else{Aa=-1;for(let eb of pa)null!=(eb=Da(eb,++Aa,pa))&&(eb=+eb)>=eb&&(qa=eb-Ha,Ha+=qa/++ua,Va+=qa*(eb-Ha))}ua=1<ua?Va/(ua-1):void 0}ua=ua?Math.sqrt(ua):ua;pa=z(pa,Da);return 1.06*(Math.min(ua,(pa[2]-pa[0])/1.34)||
ua||Math.abs(pa[0])||1)*Math.pow(Ma,-.2)}function C(pa,Da){const Ma=pa.length;let ua=0,Aa=1,qa,Ha;for(;pa[ua]===pa[Aa];)++Aa;for(;Aa<Ma;){for(qa=Aa+1;pa[Aa]===pa[qa];)++qa;if(pa[Aa]-pa[Aa-1]<Da){for(Ha=Aa+(ua+qa-Aa-Aa>>1);Ha<Aa;)pa[Ha++]=pa[Aa];for(;Ha>Aa;)pa[Ha--]=pa[ua]}ua=Aa;Aa=qa}return pa}function J(pa,Da){pa=pa||0;Da=null==Da?1:Da;let Ma,ua;if(hb===hb)Ma=hb,hb=NaN;else{do{Ma=2*y.random()-1;ua=2*y.random()-1;var Aa=Ma*Ma+ua*ua}while(0===Aa||1<Aa);Aa=Math.sqrt(-2*Math.log(Aa)/Aa);Ma*=Aa;hb=ua*
Aa}return pa+Ma*Da}function A(pa,Da,Ma){Ma=null==Ma?1:Ma;pa=(pa-(Da||0))/Ma;return Math.exp(-.5*pa*pa)/(Ma*wa)}function x(pa,Da,Ma){pa=(pa-(Da||0))/(null==Ma?1:Ma);Da=Math.abs(pa);37<Da?Ma=0:(Ma=Math.exp(-Da*Da/2),7.07106781186547>Da?(Ma*=(((((.0352624965998911*Da+.700383064443688)*Da+6.37396220353165)*Da+33.912866078383)*Da+112.079291497871)*Da+221.213596169931)*Da+220.206867912376,Ma/=((((((.0883883476483184*Da+1.75566716318264)*Da+16.064177579207)*Da+86.7807322029461)*Da+296.564248779674)*Da+637.333633378831)*
Da+793.826512519948)*Da+440.413735824752):Ma=Ma/(Da+1/(Da+2/(Da+3/(Da+4/(Da+.65)))))/2.506628274631);return 0<pa?1-Ma:Ma}function q(pa,Da,Ma){if(0>pa||1<pa)return NaN;pa=2*pa-1;var ua=-Math.log((1-pa)*(1+pa));6.25>ua?(ua-=3.125,ua=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+
(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua):16>ua?(ua=Math.sqrt(ua)-3.25,ua=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+
(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua):Number.isFinite(ua)?(ua=Math.sqrt(ua)-5,ua=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua)*ua):ua=Infinity;return(Da||0)+(null==Ma?1:Ma)*Ua*ua*pa}function H(pa,Da){let Ma,ua;const Aa={mean(qa){return arguments.length?(Ma=qa||0,Aa):Ma},stdev(qa){return arguments.length?
(ua=null==qa?1:qa,Aa):ua},sample:()=>J(Ma,ua),pdf:qa=>A(qa,Ma,ua),cdf:qa=>x(qa,Ma,ua),icdf:qa=>q(qa,Ma,ua)};return Aa.mean(pa).stdev(Da)}function M(pa,Da){Da=null==Da?1:Da;return Math.exp((pa||0)+J()*Da)}function R(pa,Da,Ma){if(0>=pa)return 0;Ma=null==Ma?1:Ma;Da=(Math.log(pa)-(Da||0))/Ma;return Math.exp(-.5*Da*Da)/(Ma*wa*pa)}function Z(pa,Da,Ma){return x(Math.log(pa),Da,Ma)}function T(pa,Da,Ma){return Math.exp(q(pa,Da,Ma))}function ba(pa,Da){null==Da&&(Da=null==pa?1:pa,pa=0);return pa+(Da-pa)*y.random()}
function aa(pa,Da,Ma){null==Ma&&(Ma=null==Da?1:Da,Da=0);return pa>=Da&&pa<=Ma?1/(Ma-Da):0}function W(pa,Da,Ma){null==Ma&&(Ma=null==Da?1:Da,Da=0);return pa<Da?0:pa>Ma?1:(pa-Da)/(Ma-Da)}function X(pa,Da,Ma){null==Ma&&(Ma=null==Da?1:Da,Da=0);return 0<=pa&&1>=pa?Da+pa*(Ma-Da):NaN}function P(pa,Da,Ma,ua){ua-=pa*pa;Ma=1E-24>Math.abs(ua)?0:(Ma-pa*Da)/ua;return[Da-Ma*pa,Ma]}function w(pa,Da,Ma,ua){pa=pa.filter(oa=>{let Y=Da(oa);oa=Ma(oa);return null!=Y&&(Y=+Y)>=Y&&null!=oa&&(oa=+oa)>=oa});ua&&pa.sort((oa,
Y)=>Da(oa)-Da(Y));ua=pa.length;const Aa=new Float64Array(ua),qa=new Float64Array(ua);let Ha=0,Va=0,eb=0,ta,Qa;for(Qa of pa)Aa[Ha]=pa=+Da(Qa),qa[Ha]=ta=+Ma(Qa),++Ha,Va+=(pa-Va)/Ha,eb+=(ta-eb)/Ha;for(Ha=0;Ha<ua;++Ha)Aa[Ha]-=Va,qa[Ha]-=eb;return[Aa,qa,Va,eb]}function B(pa,Da,Ma,ua){let Aa=-1,qa;for(const Ha of pa)pa=Da(Ha),qa=Ma(Ha),null!=pa&&(pa=+pa)>=pa&&null!=qa&&(qa=+qa)>=qa&&ua(pa,qa,++Aa)}function K(pa,Da,Ma,ua,Aa){let qa=0,Ha=0;B(pa,Da,Ma,(Va,eb)=>{Va=eb-Aa(Va);eb-=ua;qa+=Va*Va;Ha+=eb*eb});return 1-
qa/Ha}function U(pa,Da,Ma){let ua=0,Aa=0,qa=0,Ha=0,Va=0;B(pa,Da,Ma,(Qa,oa)=>{++Va;ua+=(Qa-ua)/Va;Aa+=(oa-Aa)/Va;qa+=(Qa*oa-qa)/Va;Ha+=(Qa*Qa-Ha)/Va});const eb=P(ua,Aa,qa,Ha),ta=Qa=>eb[0]+eb[1]*Qa;return{coef:eb,predict:ta,rSquared:K(pa,Da,Ma,Aa,ta)}}function ka(pa,Da,Ma){const [ua,Aa,qa,Ha]=w(pa,Da,Ma);var Va=ua.length,eb=0;let ta=0;var Qa=0;let oa=0,Y=0,ja,Ga,Wa,cb;for(ja=0;ja<Va;)Ga=ua[ja],Wa=Aa[ja++],cb=Ga*Ga,eb+=(cb-eb)/ja,ta+=(cb*Ga-ta)/ja,Qa+=(cb*cb-Qa)/ja,oa+=(Ga*Wa-oa)/ja,Y+=(cb*Wa-Y)/ja;
Va=Qa-eb*eb;Qa=eb*Va-ta*ta;const nb=(Y*eb-oa*ta)/Qa,pb=(oa*Va-Y*ta)/Qa,Fb=-nb*eb;eb=nc=>{nc-=qa;return nb*nc*nc+pb*nc+Fb+Ha};return{coef:[Fb-pb*qa+nb*qa*qa+Ha,pb-2*nb*qa,nb],predict:eb,rSquared:K(pa,Da,Ma,Ha,eb)}}function da(pa,Da,Ma,ua){const Aa=Array(pa);let qa,Ha,Va;for(qa=0;qa<pa;++qa)Aa[qa]=0;for(qa=pa-1;0<=qa;--qa)for(Ha=Da[qa],Va=1,Aa[qa]+=Ha,pa=1;pa<=qa;++pa)Va*=(qa+1-pa)/pa,Aa[qa-pa]+=Ha*Math.pow(Ma,pa)*Va;Aa[0]+=ua;return Aa}function la(pa){const Da=pa.length-1,Ma=[];let ua,Aa,qa,Ha,Va;
for(ua=0;ua<Da;++ua){Ha=ua;for(Aa=ua+1;Aa<Da;++Aa)Math.abs(pa[ua][Aa])>Math.abs(pa[ua][Ha])&&(Ha=Aa);for(qa=ua;qa<Da+1;++qa)Va=pa[qa][ua],pa[qa][ua]=pa[qa][Ha],pa[qa][Ha]=Va;for(Aa=ua+1;Aa<Da;++Aa)for(qa=Da;qa>=ua;qa--)pa[qa][Aa]-=pa[qa][ua]*pa[ua][Aa]/pa[ua][ua]}for(Aa=Da-1;0<=Aa;--Aa){Va=0;for(qa=Aa+1;qa<Da;++qa)Va+=pa[qa][Aa]*Ma[qa];Ma[Aa]=(pa[Da][Aa]-Va)/pa[Aa][Aa]}return Ma}y.random=Math.random;const wa=Math.sqrt(2*Math.PI),Ua=Math.SQRT2;let hb=NaN;const La=.5*Math.PI/180;y.bandwidthNRD=u;y.bin=
function(pa){var Da=pa.maxbins||20;const Ma=pa.base||10,ua=Math.log(Ma),Aa=pa.divide||[5,2];let qa=pa.extent[0],Ha=pa.extent[1];let Va,eb,ta,Qa;const oa=pa.span||Ha-qa||Math.abs(qa)||1;if(pa.step)var Y=pa.step;else if(pa.steps){eb=oa/Da;ta=0;for(Qa=pa.steps.length;ta<Qa&&pa.steps[ta]<eb;++ta);Y=pa.steps[Math.max(0,ta-1)]}else{Y=Math.ceil(Math.log(Da)/ua);Va=pa.minstep||0;for(Y=Math.max(Va,Math.pow(Ma,Math.round(Math.log(oa)/ua)-Y));Math.ceil(oa/Y)>Da;)Y*=Ma;ta=0;for(Qa=Aa.length;ta<Qa;++ta)eb=Y/Aa[ta],
eb>=Va&&oa/eb<=Da&&(Y=eb)}eb=Math.log(Y);Da=Math.pow(Ma,-(0<=eb?0:~~(-eb/ua)+1)-1);if(pa.nice||void 0===pa.nice)eb=Math.floor(qa/Y+Da)*Y,qa=qa<eb?eb-Y:eb,Ha=Math.ceil(Ha/Y)*Y;return{start:qa,stop:Ha===qa?qa+Y:Ha,step:Y}};y.bootstrapCI=function(pa,Da,Ma,ua){if(!pa.length)return[void 0,void 0];pa=Float64Array.from(p(pa,ua));ua=pa.length;let Aa,qa,Ha,Va;Ha=0;for(Va=Array(Da);Ha<Da;++Ha){for(qa=Aa=0;qa<ua;++qa)Aa+=pa[~~(y.random()*ua)];Va[Ha]=Aa/ua}Va.sort(n);return[c(Va,Ma/2),c(Va,1-Ma/2)]};y.cumulativeLogNormal=
Z;y.cumulativeNormal=x;y.cumulativeUniform=W;y.densityLogNormal=R;y.densityNormal=A;y.densityUniform=aa;y.dotbin=function(pa,Da,Ma,ua){ua=ua||(Y=>Y);const Aa=pa.length,qa=new Float64Array(Aa);let Ha=0,Va=1,eb=ua(pa[0]),ta=eb,Qa=eb+Da,oa;for(;Va<Aa;++Va){oa=ua(pa[Va]);if(oa>=Qa){for(ta=(eb+ta)/2;Ha<Va;++Ha)qa[Ha]=ta;Qa=oa+Da;eb=oa}ta=oa}for(ta=(eb+ta)/2;Ha<Va;++Ha)qa[Ha]=ta;return Ma?C(qa,Da+Da/4):qa};y.quantileLogNormal=T;y.quantileNormal=q;y.quantileUniform=X;y.quantiles=m;y.quartiles=z;y.randomInteger=
function(pa,Da){null==Da&&(Da=pa,pa=0);let Ma,ua,Aa;const qa={min(Ha){return arguments.length?(Ma=Ha||0,Aa=ua-Ma,qa):Ma},max(Ha){return arguments.length?(ua=Ha||0,Aa=ua-Ma,qa):ua},sample(){return Ma+Math.floor(Aa*y.random())},pdf(Ha){return Ha===Math.floor(Ha)&&Ha>=Ma&&Ha<ua?1/Aa:0},cdf(Ha){Ha=Math.floor(Ha);return Ha<Ma?0:Ha>=ua?1:(Ha-Ma+1)/Aa},icdf(Ha){return 0<=Ha&&1>=Ha?Ma-1+Math.floor(Ha*Aa):NaN}};return qa.min(pa).max(Da)};y.randomKDE=function(pa,Da){const Ma=H();let ua=0;const Aa={data(qa){return arguments.length?
(ua=(pa=qa)?qa.length:0,Aa.bandwidth(Da)):pa},bandwidth(qa){if(!arguments.length)return Da;Da=qa;!Da&&pa&&(Da=u(pa));return Aa},sample(){return pa[~~(y.random()*ua)]+Da*Ma.sample()},pdf(qa){let Ha=0,Va=0;for(;Va<ua;++Va)Ha+=Ma.pdf((qa-pa[Va])/Da);return Ha/Da/ua},cdf(qa){let Ha=0,Va=0;for(;Va<ua;++Va)Ha+=Ma.cdf((qa-pa[Va])/Da);return Ha/ua},icdf(){throw Error("KDE icdf not supported.");}};return Aa.data(pa)};y.randomLCG=function(pa){return function(){pa=(1103515245*pa+12345)%2147483647;return pa/
2147483647}};y.randomLogNormal=function(pa,Da){let Ma,ua;const Aa={mean(qa){return arguments.length?(Ma=qa||0,Aa):Ma},stdev(qa){return arguments.length?(ua=null==qa?1:qa,Aa):ua},sample:()=>M(Ma,ua),pdf:qa=>R(qa,Ma,ua),cdf:qa=>Z(qa,Ma,ua),icdf:qa=>T(qa,Ma,ua)};return Aa.mean(pa).stdev(Da)};y.randomMixture=function(pa,Da){let Ma=0,ua;const Aa={weights(qa){if(arguments.length){var Ha=Da=qa||[];const Va=[];let eb=0,ta;for(ta=0;ta<Ma;++ta)eb+=Va[ta]=null==Ha[ta]?1:+Ha[ta];for(ta=0;ta<Ma;++ta)Va[ta]/=eb;
ua=Va;return Aa}return Da},distributions(qa){return arguments.length?(qa?(Ma=qa.length,pa=qa):(Ma=0,pa=[]),Aa.weights(Da)):pa},sample(){const qa=y.random();let Ha=pa[Ma-1],Va=ua[0],eb=0;for(;eb<Ma-1;Va+=ua[++eb])if(qa<Va){Ha=pa[eb];break}return Ha.sample()},pdf(qa){let Ha=0,Va=0;for(;Va<Ma;++Va)Ha+=ua[Va]*pa[Va].pdf(qa);return Ha},cdf(qa){let Ha=0,Va=0;for(;Va<Ma;++Va)Ha+=ua[Va]*pa[Va].cdf(qa);return Ha},icdf(){throw Error("Mixture icdf not supported.");}};return Aa.distributions(pa).weights(Da)};
y.randomNormal=H;y.randomUniform=function(pa,Da){let Ma,ua;const Aa={min(qa){return arguments.length?(Ma=qa||0,Aa):Ma},max(qa){return arguments.length?(ua=null==qa?1:qa,Aa):ua},sample:()=>ba(Ma,ua),pdf:qa=>aa(qa,Ma,ua),cdf:qa=>W(qa,Ma,ua),icdf:qa=>X(qa,Ma,ua)};null==Da&&(Da=null==pa?1:pa,pa=0);return Aa.min(pa).max(Da)};y.regressionExp=function(pa,Da,Ma){const [ua,,Aa,qa]=w(pa,Da,Ma);let Ha=0,Va=0,eb=0,ta=0,Qa=0,oa,Y,ja;B(pa,Da,Ma,(nb,pb)=>{oa=ua[Qa++];Y=Math.log(pb);ja=oa*pb;Ha+=(pb*Y-Ha)/Qa;Va+=
(ja-Va)/Qa;eb+=(ja*Y-eb)/Qa;ta+=(oa*ja-ta)/Qa});const [Ga,Wa]=P(Va/qa,Ha/qa,eb/qa,ta/qa),cb=nb=>Math.exp(Ga+Wa*(nb-Aa));return{coef:[Math.exp(Ga-Wa*Aa),Wa],predict:cb,rSquared:K(pa,Da,Ma,qa,cb)}};y.regressionLinear=U;y.regressionLoess=function(pa,Da,Ma,ua){const [Aa,qa,Ha,Va]=w(pa,Da,Ma,!0);pa=Aa.length;Da=Math.max(2,~~(ua*pa));ua=new Float64Array(pa);Ma=new Float64Array(pa);var eb=(new Float64Array(pa)).fill(1);for(var ta=-1;2>=++ta;){var Qa=[0,Da-1];for(let Fb=0;Fb<pa;++Fb){var oa=Aa[Fb],Y=Qa[0],
ja=Qa[1],Ga=0,Wa=0,cb=0,nb=0;let nc=0;const Lc=1/Math.abs(Aa[oa-Aa[Y]>Aa[ja]-oa?Y:ja]-oa||1);for(;Y<=ja;++Y){const tc=Aa[Y],hd=qa[Y];var pb=Math.abs(oa-tc)*Lc;const Mb=(pb=1-pb*pb*pb)*pb*pb*eb[Y];pb=tc*Mb;Ga+=Mb;Wa+=pb;cb+=hd*Mb;nb+=hd*pb;nc+=tc*pb}const [Ac,yc]=P(Wa/Ga,cb/Ga,nb/Ga,nc/Ga);ua[Fb]=Ac+yc*oa;Ma[Fb]=Math.abs(qa[Fb]-ua[Fb]);oa=Aa;ja=Fb+1;Ga=Qa;Wa=oa[ja];cb=Ga[0];nb=Ga[1]+1;if(!(nb>=oa.length))for(;ja>cb&&oa[nb]-Wa<=Wa-oa[cb];)Ga[0]=++cb,Ga[1]=nb,++nb}if(2===ta)break;Qa=c(Ma,.5,void 0);
if(1E-12>Math.abs(Qa))break;for(let Fb=0,nc,Lc;Fb<pa;++Fb)nc=Ma[Fb]/(6*Qa),eb[Fb]=1<=nc?1E-12:(Lc=1-nc*nc)*Lc}pa=Aa.length;Da=[];eb=Ma=0;for(ta=[];Ma<pa;++Ma)Qa=Aa[Ma]+Ha,ta[0]===Qa?ta[1]+=(ua[Ma]-ta[1])/++eb:(eb=0,ta[1]+=Va,ta=[Qa,ua[Ma]],Da.push(ta));ta[1]+=Va;return Da};y.regressionLog=function(pa,Da,Ma){let ua=0,Aa=0,qa=0,Ha=0,Va=0;B(pa,Da,Ma,(Qa,oa)=>{++Va;Qa=Math.log(Qa);ua+=(Qa-ua)/Va;Aa+=(oa-Aa)/Va;qa+=(Qa*oa-qa)/Va;Ha+=(Qa*Qa-Ha)/Va});const eb=P(ua,Aa,qa,Ha),ta=Qa=>eb[0]+eb[1]*Math.log(Qa);
return{coef:eb,predict:ta,rSquared:K(pa,Da,Ma,Aa,ta)}};y.regressionPoly=function(pa,Da,Ma,ua){if(1===ua)return U(pa,Da,Ma);if(2===ua)return ka(pa,Da,Ma);const [Aa,qa,Ha,Va]=w(pa,Da,Ma);var eb=Aa.length;const ta=[],Qa=[],oa=ua+1;let Y,ja,Ga,Wa;for(Y=0;Y<oa;++Y){for(Ga=ja=0;ja<eb;++ja)Ga+=Math.pow(Aa[ja],Y)*qa[ja];ta.push(Ga);Wa=new Float64Array(oa);for(ua=0;ua<oa;++ua){for(Ga=ja=0;ja<eb;++ja)Ga+=Math.pow(Aa[ja],Y+ua);Wa[ua]=Ga}Qa.push(Wa)}Qa.push(ta);const cb=la(Qa);eb=nb=>{nb-=Ha;let pb=Va+cb[0]+
cb[1]*nb+cb[2]*nb*nb;for(Y=3;Y<oa;++Y)pb+=cb[Y]*Math.pow(nb,Y);return pb};return{coef:da(oa,cb,-Ha,Va),predict:eb,rSquared:K(pa,Da,Ma,Va,eb)}};y.regressionPow=function(pa,Da,Ma){let ua=0,Aa=0,qa=0,Ha=0,Va=0,eb=0;B(pa,Da,Ma,(oa,Y)=>{oa=Math.log(oa);const ja=Math.log(Y);++eb;ua+=(oa-ua)/eb;Aa+=(ja-Aa)/eb;qa+=(oa*ja-qa)/eb;Ha+=(oa*oa-Ha)/eb;Va+=(Y-Va)/eb});const ta=P(ua,Aa,qa,Ha),Qa=oa=>ta[0]*Math.pow(oa,ta[1]);ta[0]=Math.exp(ta[0]);return{coef:ta,predict:Qa,rSquared:K(pa,Da,Ma,Va,Qa)}};y.regressionQuad=
ka;y.sampleCurve=function(pa,Da,Ma,ua){Ma=Ma||25;ua=Math.max(Ma,ua||200);var Aa=Da[0],qa=Da[1],Ha=qa-Aa,Va=Ha/ua;Da=[[Aa,pa(Aa)]];var eb=[];if(Ma===ua){for(var ta=1;ta<ua;++ta){Va=Da;eb=Va.push;var Qa=Aa+ta/Ma*Ha;Qa=[Qa,pa(Qa)];eb.call(Va,Qa)}Da.push([qa,pa(qa)]);return Da}eb.push([qa,pa(qa)]);for(ta=Ma;0<--ta;)ua=eb,qa=ua.push,Qa=Aa+ta/Ma*Ha,Qa=[Qa,pa(Qa)],qa.call(ua,Qa);Ma=Da[0];Aa=eb[eb.length-1];Ha=1/Ha;ua=qa=Ma[1];ta=eb.length;for(Qa=0;Qa<ta;++Qa){const oa=eb[Qa][1];oa<ua&&(ua=oa);oa>qa&&(qa=
oa)}for(ua=1/(qa-ua);Aa;)qa=(Ma[0]+Aa[0])/2,qa=[qa,pa(qa)],qa[0]-Ma[0]>=Va&&Math.abs(Math.atan2(ua*(Aa[1]-Ma[1]),Ha*(Aa[0]-Ma[0]))-Math.atan2(ua*(qa[1]-Ma[1]),Ha*(qa[0]-Ma[0])))>La?eb.push(qa):(Ma=Aa,Da.push(Aa),eb.pop()),Aa=eb[eb.length-1];return Da};y.sampleLogNormal=M;y.sampleNormal=J;y.sampleUniform=ba;y.setRandom=function(pa){y.random=pa};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[25]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(23),F(24),F(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r){function h(Ca){return Ya=>{const tb=Ca.length;let Kb=1,dc=String(Ca[0](Ya));for(;Kb<tb;++Kb)dc+="|"+Ca[Kb](Ya);return dc}}function k(Ca){return Ca&&
Ca.length?1===Ca.length?Ca[0]:h(Ca):function(){return""}}function f(Ca,Ya){return tb=>p.extend({name:Ca,out:tb||Ca},od,Ya)}function e(Ca,Ya){return Ca.idx-Ya.idx}function d(Ca){const Ya={};Ca.forEach(Kb=>Ya[Kb.name]=Kb);const tb=Kb=>{Kb.req&&Kb.req.forEach(dc=>{Ya[dc]||tb(Ya[dc]=sd[dc]())})};Ca.forEach(tb);return Object.values(Ya).sort(e)}function a(){this.missing=this.valid=0;this._ops.forEach(Ca=>Ca.init(this))}function c(Ca,Ya){null==Ca||""===Ca?++this.missing:Ca===Ca&&(++this.valid,this._ops.forEach(tb=>
tb.add(this,Ca,Ya)))}function b(Ca,Ya){null==Ca||""===Ca?--this.missing:Ca===Ca&&(--this.valid,this._ops.forEach(tb=>tb.rem(this,Ca,Ya)))}function m(Ca){this._out.forEach(Ya=>Ca[Ya.out]=Ya.value(this));return Ca}function z(Ca,Ya){function tb(mc){this._ops=Kb;this._out=dc;this.cell=mc;this.init()}Ya=Ya||p.identity;const Kb=d(Ca),dc=Ca.slice().sort(e);tb.prototype.init=a;tb.prototype.add=c;tb.prototype.rem=b;tb.prototype.set=m;tb.prototype.get=Ya;tb.fields=Ca.map(mc=>mc.out);return tb}function u(Ca){this._key=
Ca?p.field(Ca):n.tupleid;this.reset()}function C(Ca){n.Transform.call(this,null,Ca);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function J(Ca){n.Transform.call(this,null,Ca)}function A(Ca,Ya,tb){let Kb=Ya||[],dc=tb||[],mc={},Jc=0;return{add:Gc=>dc.push(Gc),remove:Gc=>mc[Ca(Gc)]=++Jc,size:()=>Kb.length,data:(Gc,jc)=>{Jc&&(Kb=Kb.filter(bd=>!mc[Ca(bd)]),
mc={},Jc=0);jc&&Gc&&Kb.sort(Gc);dc.length&&(Kb=Gc?p.merge(Gc,Kb,dc.sort(Gc)):Kb.concat(dc),dc=[]);return Kb}}}function x(Ca){n.Transform.call(this,[],Ca)}function q(Ca){n.Operator.call(this,null,H,Ca)}function H(Ca){return this.value&&!Ca.modified()?this.value:p.compare(Ca.fields,Ca.orders)}function M(Ca){n.Transform.call(this,null,Ca)}function R(Ca){n.Transform.call(this,null,Ca)}function Z(Ca,Ya){var tb=Ca["function"];p.hasOwnProperty(ae,tb)||p.error("Unknown distribution function: "+tb);tb=ae[tb]();
for(const Kb in Ca)if("field"===Kb)tb.data((Ca.from||Ya()).map(Ca[Kb]));else if("distributions"===Kb)tb[Kb](Ca[Kb].map(dc=>Z(dc,Ya)));else if("function"===typeof tb[Kb])tb[Kb](Ca[Kb]);return tb}function T(Ca){n.Transform.call(this,null,Ca)}function ba(Ca){return()=>Ca.materialize(Ca.SOURCE).source}function aa(Ca,Ya){return Ca?Ca.map((tb,Kb)=>Ya[Kb]||p.accessorName(tb)):null}function W(Ca,Ya,tb){const Kb=[],dc=Ed=>Ed(jc);let mc,Jc,Gc,jc,bd,md;if(null==Ya)Kb.push(Ca.map(tb));else for(mc={},Jc=0,Gc=
Ca.length;Jc<Gc;++Jc)jc=Ca[Jc],bd=Ya.map(dc),md=mc[bd],md||(mc[bd]=md=[],md.dims=bd,Kb.push(md)),md.push(tb(jc));return Kb}function X(Ca){n.Transform.call(this,null,Ca)}function P(Ca){n.Operator.call(this,null,w,Ca);this.modified(!0)}function w(Ca){const Ya=Ca.expr;return this.value&&!Ca.modified("expr")?this.value:p.accessor(tb=>Ya(tb,Ca),p.accessorFields(Ya),p.accessorName(Ya))}function B(Ca){n.Transform.call(this,[void 0,void 0],Ca)}function K(Ca,Ya){n.Operator.call(this,Ca);this.parent=Ya;this.count=
0}function U(Ca){n.Transform.call(this,{},Ca);this._keys=p.fastmap();const Ya=this._targets=[];Ya.active=0;Ya.forEach=tb=>{for(let Kb=0,dc=Ya.active;Kb<dc;++Kb)tb(Ya[Kb],Kb,Ya)}}function ka(Ca){n.Operator.call(this,null,da,Ca)}function da(Ca){return this.value&&!Ca.modified()?this.value:p.isArray(Ca.name)?p.array(Ca.name).map(Ya=>p.field(Ya)):p.field(Ca.name,Ca.as)}function la(Ca){n.Transform.call(this,p.fastmap(),Ca)}function wa(Ca){n.Transform.call(this,[],Ca)}function Ua(Ca){n.Transform.call(this,
[],Ca)}function hb(Ca){n.Transform.call(this,null,Ca)}function La(Ca){n.Transform.call(this,[],Ca)}function pa(Ca,Ya){return null==Ca||null==Ya?NaN:Ca<Ya?-1:Ca>Ya?1:Ca>=Ya?0:NaN}function Da(Ca){function Ya(mc,Jc,Gc=0,jc=mc.length){if(Gc<jc){if(0!==Kb(Jc,Jc))return jc;do{const bd=Gc+jc>>>1;0>dc(mc[bd],Jc)?Gc=bd+1:jc=bd}while(Gc<jc)}return Gc}let tb=Ca,Kb=Ca,dc=Ca;2!==Ca.length&&(tb=(mc,Jc)=>Ca(mc)-Jc,Kb=pa,dc=(mc,Jc)=>pa(Ca(mc),Jc));return{left:Ya,center:function(mc,Jc,Gc=0,jc=mc.length){jc=Ya(mc,
Jc,Gc,jc-1);return jc>Gc&&tb(mc[jc-1],Jc)>-tb(mc[jc],Jc)?jc-1:jc},right:function(mc,Jc,Gc=0,jc=mc.length){if(Gc<jc){if(0!==Kb(Jc,Jc))return jc;do{const bd=Gc+jc>>>1;0>=dc(mc[bd],Jc)?Gc=bd+1:jc=bd}while(Gc<jc)}return Gc}}}function*Ma(Ca,Ya){if(void 0===Ya)for(var tb of Ca)null!=tb&&(tb=+tb)>=tb&&(yield tb);else{tb=-1;for(let Kb of Ca)null!=(Kb=Ya(Kb,++tb,Ca))&&(Kb=+Kb)>=Kb&&(yield Kb)}}function ua(Ca=pa){if(Ca===pa)return Aa;if("function"!==typeof Ca)throw new TypeError("compare is not a function");
return(Ya,tb)=>{const Kb=Ca(Ya,tb);return Kb||0===Kb?Kb:(0===Ca(tb,tb))-(0===Ca(Ya,Ya))}}function Aa(Ca,Ya){return(null==Ca||!(Ca>=Ca))-(null==Ya||!(Ya>=Ya))||(Ca<Ya?-1:Ca>Ya?1:0)}function qa(Ca,Ya){let tb;if(void 0===Ya)for(var Kb of Ca)null!=Kb&&(tb<Kb||void 0===tb&&Kb>=Kb)&&(tb=Kb);else{Kb=-1;for(let dc of Ca)null!=(dc=Ya(dc,++Kb,Ca))&&(tb<dc||void 0===tb&&dc>=dc)&&(tb=dc)}return tb}function Ha(Ca,Ya){let tb;if(void 0===Ya)for(var Kb of Ca)null!=Kb&&(tb>Kb||void 0===tb&&Kb>=Kb)&&(tb=Kb);else{Kb=
-1;for(let dc of Ca)null!=(dc=Ya(dc,++Kb,Ca))&&(tb>dc||void 0===tb&&dc>=dc)&&(tb=dc)}return tb}function Va(Ca,Ya,tb=0,Kb=Ca.length-1,dc){for(dc=void 0===dc?Aa:ua(dc);Kb>tb;){if(600<Kb-tb){var mc=Kb-tb+1,Jc=Ya-tb+1,Gc=Math.log(mc),jc=.5*Math.exp(2*Gc/3);Gc=.5*Math.sqrt(Gc*jc*(mc-jc)/mc)*(0>Jc-mc/2?-1:1);Va(Ca,Ya,Math.max(tb,Math.floor(Ya-Jc*jc/mc+Gc)),Math.min(Kb,Math.floor(Ya+(mc-Jc)*jc/mc+Gc)),dc)}mc=Ca[Ya];Jc=tb;jc=Kb;eb(Ca,tb,Ya);for(0<dc(Ca[Kb],mc)&&eb(Ca,tb,Kb);Jc<jc;){eb(Ca,Jc,jc);++Jc;for(--jc;0>
dc(Ca[Jc],mc);)++Jc;for(;0<dc(Ca[jc],mc);)--jc}0===dc(Ca[tb],mc)?eb(Ca,tb,jc):(++jc,eb(Ca,jc,Kb));jc<=Ya&&(tb=jc+1);Ya<=jc&&(Kb=jc-1)}return Ca}function eb(Ca,Ya,tb){const Kb=Ca[Ya];Ca[Ya]=Ca[tb];Ca[tb]=Kb}function ta(Ca,Ya,tb){Ca=+Ca;Ya=+Ya;tb=2>(dc=arguments.length)?(Ya=Ca,Ca=0,1):3>dc?1:+tb;for(var Kb=-1,dc=Math.max(0,Math.ceil((Ya-Ca)/tb))|0,mc=Array(dc);++Kb<dc;)mc[Kb]=Ca+Kb*tb;return mc}function Qa(Ca){n.Transform.call(this,[],Ca)}function oa(Ca){var Ya=Ca.method||je.value;if(null==je[Ya])p.error("Unrecognized imputation method: "+
Ya);else{if(Ya===je.value){var tb=void 0!==Ca.value?Ca.value:0;return()=>tb}return je[Ya]}}function Y(Ca){const Ya=Ca.field;return tb=>tb?Ya(tb):NaN}function ja(Ca,Ya,tb,Kb){var dc=Ce=>Ce(Ed),mc=[];Kb=Kb?Kb.slice():[];var Jc={},Gc={},jc,bd;Kb.forEach((Ce,ue)=>Jc[Ce]=ue+1);var md=0;for(bd=Ca.length;md<bd;++md){var Ed=Ca[md];var Nd=tb(Ed);var Pd=Jc[Nd]||(Jc[Nd]=Kb.push(Nd));var ee=(Nd=Ya?Ya.map(dc):qd)+"";(jc=Gc[ee])||(jc=Gc[ee]=[],mc.push(jc),jc.values=Nd);jc[Pd-1]=Ed}mc.domain=Kb;return mc}function Ga(Ca){C.call(this,
Ca)}function Wa(Ca){n.Transform.call(this,null,Ca)}function cb(Ca){n.Operator.call(this,null,nb,Ca)}function nb(Ca){return this.value&&!Ca.modified()?this.value:p.key(Ca.fields,Ca.flat)}function pb(Ca){n.Transform.call(this,[],Ca);this._pending=null}function Fb(Ca){return Ca.modified("async")&&!(Ca.modified("values")||Ca.modified("url")||Ca.modified("format"))}function nc(Ca,Ya,tb){tb.forEach(n.ingest);Ya=Ya.fork(Ya.NO_FIELDS&Ya.NO_SOURCE);Ya.rem=Ca.value;Ca.value=Ya.source=Ya.add=tb;Ca._pending=
null;Ya.rem.length&&Ya.clean(!0);return Ya}function Lc(Ca){n.Transform.call(this,{},Ca)}function Ac(Ca){n.Operator.call(this,null,yc,Ca)}function yc(Ca){if(this.value&&!Ca.modified())return this.value;Ca=Ca.extents;const Ya=Ca.length;let tb=Infinity,Kb=-Infinity,dc,mc;for(dc=0;dc<Ya;++dc)mc=Ca[dc],mc[0]<tb&&(tb=mc[0]),mc[1]>Kb&&(Kb=mc[1]);return[tb,Kb]}function tc(Ca){n.Operator.call(this,null,hd,Ca)}function hd(Ca){return this.value&&!Ca.modified()?this.value:Ca.values.reduce((Ya,tb)=>Ya.concat(tb),
[])}function Mb(Ca){n.Transform.call(this,null,Ca)}function Ab(Ca){C.call(this,Ca)}function ec(Ca,Ya){const tb=Ca.field,Kb=Ca.value,dc=("count"===Ca.op?"__count__":Ca.op)||"sum",mc=p.accessorFields(tb).concat(p.accessorFields(Kb)),Jc=lc(tb,Ca.limit||0,Ya);Ya.changed()&&Ca.set("__pivot__",null,null,!0);return{key:Ca.key,groupby:Ca.groupby,ops:Jc.map(()=>dc),fields:Jc.map(Gc=>ac(Gc,tb,Kb,mc)),as:Jc.map(Gc=>Gc+""),modified:Ca.modified.bind(Ca)}}function ac(Ca,Ya,tb,Kb){return p.accessor(dc=>Ya(dc)===
Ca?tb(dc):NaN,Kb,Ca+"")}function lc(Ca,Ya,tb){const Kb={},dc=[];tb.visit(tb.SOURCE,mc=>{mc=Ca(mc);Kb[mc]||(Kb[mc]=1,dc.push(mc))});dc.sort(p.ascending);return Ya?dc.slice(0,Ya):dc}function Ic(Ca){U.call(this,Ca)}function Ec(Ca){n.Transform.call(this,null,Ca)}function Rc(Ca){n.Transform.call(this,null,Ca)}function id(Ca){n.Transform.call(this,null,Ca)}function Td(Ca){n.Transform.call(this,null,Ca)}function Ea(Ca){n.Transform.call(this,[],Ca);this.count=0}function za(Ca){n.Transform.call(this,null,
Ca)}function Fa(Ca){n.Transform.call(this,null,Ca);this.modified(!0)}function bb(Ca){n.Transform.call(this,null,Ca)}function lb(Ca){n.Transform.call(this,p.fastmap(),Ca)}function zb(Ca){n.Transform.call(this,null,Ca)}function Tb(Ca,Ya,tb,Kb){const dc=Ye[Ca](Ya,tb);return{init:dc.init||p.zero,update:function(mc,Jc){Jc[Kb]=dc.next(mc)}}}function Ub(Ca){function Ya(Pd){p.array(p.accessorFields(Pd)).forEach(ee=>jc[ee]=1)}const tb=p.array(Ca.ops),Kb=p.array(Ca.fields),dc=p.array(Ca.params),mc=p.array(Ca.as),
Jc=this.outputs=[],Gc=this.windows=[],jc={},bd={},md=[],Ed=[];let Nd=!0;Ya(Ca.sort);tb.forEach((Pd,ee)=>{const Ce=Kb[ee],ue=p.accessorName(Ce),Df=mc[ee]||Pd+(ue?"_"+ue:"");Ya(Ce);Jc.push(Df);p.hasOwnProperty(Ye,Pd)?Gc.push(Tb(Pd,Kb[ee],dc[ee],Df)):(null==Ce&&"count"!==Pd&&p.error("Null aggregate field specified."),"count"===Pd?md.push(Df):(Nd=!1,ee=bd[ue],ee||(ee=bd[ue]=[],ee.field=Ce,Ed.push(ee)),ee.push(sd[Pd](Df))))});if(md.length||Ed.length)this.cell=$b(Ed,md,Nd);this.inputs=Object.keys(jc)}function $b(Ca,
Ya,tb){Ca=Ca.map(jc=>z(jc,jc.field));const Kb={num:0,agg:null,store:!1,count:Ya};if(!tb)for(var dc=Ca.length,mc=Kb.agg=Array(dc),Jc=0;Jc<dc;++Jc)mc[Jc]=new Ca[Jc](Kb);if(Kb.store)var Gc=Kb.data=new u;Kb.add=function(jc){Kb.num+=1;if(!tb){Gc&&Gc.add(jc);for(let bd=0;bd<dc;++bd)mc[bd].add(mc[bd].get(jc),jc)}};Kb.rem=function(jc){--Kb.num;if(!tb){Gc&&Gc.rem(jc);for(let bd=0;bd<dc;++bd)mc[bd].rem(mc[bd].get(jc),jc)}};Kb.set=function(jc){let bd,md;Gc&&Gc.values();bd=0;for(md=Ya.length;bd<md;++bd)jc[Ya[bd]]=
Kb.num;if(!tb)for(bd=0,md=mc.length;bd<md;++bd)mc[bd].set(jc)};Kb.init=function(){Kb.num=0;Gc&&Gc.reset();for(let jc=0;jc<dc;++jc)mc[jc].init()};return Kb}function Dc(Ca){n.Transform.call(this,{},Ca);this._mlen=0;this._mods=[]}function dd(Ca,Ya,tb,Kb){var dc=Kb.sort;const mc=dc&&!Kb.ignorePeers;Kb=Kb.frame||[null,0];Ca=Ca.data(tb);tb=Ca.length;const Jc=mc?Da(dc):null;dc={i0:0,i1:0,p0:0,p1:0,index:0,data:Ca,compare:dc||p.constant(-1)};Ya.init();for(let Ed=0;Ed<tb;++Ed){var Gc=dc,jc=Kb,bd=Ed,md=tb;
Gc.p0=Gc.i0;Gc.p1=Gc.i1;Gc.i0=null==jc[0]?0:Math.max(0,bd-Math.abs(jc[0]));Gc.i1=null==jc[1]?md:Math.min(md,bd+Math.abs(jc[1])+1);Gc.index=bd;if(mc){Gc=dc;jc=Jc;bd=Gc.i0;md=Gc.i1-1;const Nd=Gc.compare,Pd=Gc.data,ee=Pd.length-1;0<bd&&!Nd(Pd[bd],Pd[bd-1])&&(Gc.i0=jc.left(Pd,Pd[bd]));md<ee&&!Nd(Pd[md],Pd[md+1])&&(Gc.i1=jc.right(Pd,Pd[md]))}Ya.update(dc,Ca[Ed])}}const fd=()=>{},od={init:fd,add:fd,rem:fd,idx:0},sd={values:{init:Ca=>Ca.cell.store=!0,value:Ca=>Ca.cell.data.values(),idx:-1},count:{value:Ca=>
Ca.cell.num},__count__:{value:Ca=>Ca.missing+Ca.valid},missing:{value:Ca=>Ca.missing},valid:{value:Ca=>Ca.valid},sum:{init:Ca=>Ca.sum=0,value:Ca=>Ca.sum,add:(Ca,Ya)=>Ca.sum+=+Ya,rem:(Ca,Ya)=>Ca.sum-=Ya},product:{init:Ca=>Ca.product=1,value:Ca=>Ca.valid?Ca.product:void 0,add:(Ca,Ya)=>Ca.product*=Ya,rem:(Ca,Ya)=>Ca.product/=Ya},mean:{init:Ca=>Ca.mean=0,value:Ca=>Ca.valid?Ca.mean:void 0,add:(Ca,Ya)=>(Ca.mean_d=Ya-Ca.mean,Ca.mean+=Ca.mean_d/Ca.valid),rem:(Ca,Ya)=>(Ca.mean_d=Ya-Ca.mean,Ca.mean-=Ca.valid?
Ca.mean_d/Ca.valid:Ca.mean)},average:{value:Ca=>Ca.valid?Ca.mean:void 0,req:["mean"],idx:1},variance:{init:Ca=>Ca.dev=0,value:Ca=>1<Ca.valid?Ca.dev/(Ca.valid-1):void 0,add:(Ca,Ya)=>Ca.dev+=Ca.mean_d*(Ya-Ca.mean),rem:(Ca,Ya)=>Ca.dev-=Ca.mean_d*(Ya-Ca.mean),req:["mean"],idx:1},variancep:{value:Ca=>1<Ca.valid?Ca.dev/Ca.valid:void 0,req:["variance"],idx:2},stdev:{value:Ca=>1<Ca.valid?Math.sqrt(Ca.dev/(Ca.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Ca=>1<Ca.valid?Math.sqrt(Ca.dev/Ca.valid):
void 0,req:["variance"],idx:2},stderr:{value:Ca=>1<Ca.valid?Math.sqrt(Ca.dev/(Ca.valid*(Ca.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Ca=>Ca.cell.data.distinct(Ca.get),req:["values"],idx:3},ci0:{value:Ca=>Ca.cell.data.ci0(Ca.get),req:["values"],idx:3},ci1:{value:Ca=>Ca.cell.data.ci1(Ca.get),req:["values"],idx:3},median:{value:Ca=>Ca.cell.data.q2(Ca.get),req:["values"],idx:3},q1:{value:Ca=>Ca.cell.data.q1(Ca.get),req:["values"],idx:3},q3:{value:Ca=>Ca.cell.data.q3(Ca.get),req:["values"],
idx:3},min:{init:Ca=>Ca.min=void 0,value:Ca=>Ca.min=Number.isNaN(Ca.min)?Ca.cell.data.min(Ca.get):Ca.min,add:(Ca,Ya)=>{if(Ya<Ca.min||void 0===Ca.min)Ca.min=Ya},rem:(Ca,Ya)=>{Ya<=Ca.min&&(Ca.min=NaN)},req:["values"],idx:4},max:{init:Ca=>Ca.max=void 0,value:Ca=>Ca.max=Number.isNaN(Ca.max)?Ca.cell.data.max(Ca.get):Ca.max,add:(Ca,Ya)=>{if(Ya>Ca.max||void 0===Ca.max)Ca.max=Ya},rem:(Ca,Ya)=>{Ya>=Ca.max&&(Ca.max=NaN)},req:["values"],idx:4},argmin:{init:Ca=>Ca.argmin=void 0,value:Ca=>Ca.argmin||Ca.cell.data.argmin(Ca.get),
add:(Ca,Ya,tb)=>{Ya<Ca.min&&(Ca.argmin=tb)},rem:(Ca,Ya)=>{Ya<=Ca.min&&(Ca.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Ca=>Ca.argmax=void 0,value:Ca=>Ca.argmax||Ca.cell.data.argmax(Ca.get),add:(Ca,Ya,tb)=>{Ya>Ca.max&&(Ca.argmax=tb)},rem:(Ca,Ya)=>{Ya>=Ca.max&&(Ca.argmax=void 0)},req:["max","values"],idx:3}},Kd=Object.keys(sd);Kd.forEach(Ca=>{sd[Ca]=f(Ca,sd[Ca])});const Od=u.prototype;Od.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Od.add=function(Ca){this._add.push(Ca)};
Od.rem=function(Ca){this._rem.push(Ca)};Od.values=function(){this._get=null;if(0===this._rem.length)return this._add;const Ca=this._add;var Ya=this._rem;const tb=this._key,Kb=Ca.length,dc=Ya.length,mc=Array(Kb-dc),Jc={};let Gc,jc;for(Gc=0;Gc<dc;++Gc)Jc[tb(Ya[Gc])]=1;for(Ya=Gc=0;Gc<Kb;++Gc)Jc[tb(jc=Ca[Gc])]?Jc[tb(jc)]=0:mc[Ya++]=jc;this._rem=[];return this._add=mc};Od.distinct=function(Ca){const Ya=this.values(),tb={};let Kb=Ya.length,dc=0,mc;for(;0<=--Kb;)mc=Ca(Ya[Kb])+"",p.hasOwnProperty(tb,mc)||
(tb[mc]=1,++dc);return dc};Od.extent=function(Ca){if(this._get!==Ca||!this._ext){const Ya=this.values(),tb=p.extentIndex(Ya,Ca);this._ext=[Ya[tb[0]],Ya[tb[1]]];this._get=Ca}return this._ext};Od.argmin=function(Ca){return this.extent(Ca)[0]||{}};Od.argmax=function(Ca){return this.extent(Ca)[1]||{}};Od.min=function(Ca){const Ya=this.extent(Ca)[0];return null!=Ya?Ca(Ya):void 0};Od.max=function(Ca){const Ya=this.extent(Ca)[1];return null!=Ya?Ca(Ya):void 0};Od.quartile=function(Ca){this._get===Ca&&this._q||
(this._q=v.quartiles(this.values(),Ca),this._get=Ca);return this._q};Od.q1=function(Ca){return this.quartile(Ca)[0]};Od.q2=function(Ca){return this.quartile(Ca)[1]};Od.q3=function(Ca){return this.quartile(Ca)[2]};Od.ci=function(Ca){this._get===Ca&&this._ci||(this._ci=v.bootstrapCI(this.values(),1E3,.05,Ca),this._get=Ca);return this._ci};Od.ci0=function(Ca){return this.ci(Ca)[0]};Od.ci1=function(Ca){return this.ci(Ca)[1]};C.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Kd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};p.inherits(C,n.Transform,{transform(Ca,Ya){const tb=this,Kb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS),dc=Ca.modified();tb.stamp=Kb.stamp;tb.value&&(dc||Ya.modified(tb._inputs,!0))?(tb._prev=tb.value,tb.value=dc?tb.init(Ca):{},Ya.visit(Ya.SOURCE,
mc=>tb.add(mc))):(tb.value=tb.value||tb.init(Ca),Ya.visit(Ya.REM,mc=>tb.rem(mc)),Ya.visit(Ya.ADD,mc=>tb.add(mc)));Kb.modifies(tb._outputs);tb._drop=!1!==Ca.drop;Ca.cross&&1<tb._dims.length&&(tb._drop=!1,tb.cross());Ya.clean()&&tb._drop&&Kb.clean(!0).runAfter(()=>this.clean());return tb.changes(Kb)},cross(){function Ca(Gc){let jc,bd,md,Ed;for(jc in Gc)for(md=Gc[jc].tuple,bd=0;bd<Jc;++bd)mc[bd][Ed=md[dc[bd]]]=Ed}function Ya(Gc,jc,bd){const md=dc[bd],Ed=mc[bd++];for(const Nd in Ed){const Pd=Gc?Gc+"|"+
Nd:Nd;jc[md]=Ed[Nd];bd<Jc?Ya(Pd,jc,bd):Kb[Pd]||tb.cell(Pd,jc)}}const tb=this,Kb=tb.value,dc=tb._dnames,mc=dc.map(()=>({})),Jc=dc.length;Ca(tb._prev);Ca(Kb);Ya("",{},0)},init(Ca){function Ya(Ce){Ce=p.array(p.accessorFields(Ce));const ue=Ce.length;let Df=0,Be;for(;Df<ue;++Df)dc[Be=Ce[Df]]||(dc[Be]=1,tb.push(Be))}const tb=this._inputs=[],Kb=this._outputs=[],dc={};this._dims=p.array(Ca.groupby);this._dnames=this._dims.map(Ce=>{const ue=p.accessorName(Ce);Ya(Ce);Kb.push(ue);return ue});this.cellkey=Ca.key?
Ca.key:k(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const mc=Ca.fields||[null],Jc=Ca.ops||["count"];Ca=Ca.as||[];const Gc=mc.length,jc={};let bd,md,Ed,Nd,Pd,ee;Gc!==Jc.length&&p.error("Unmatched number of fields and aggregate ops.");for(ee=0;ee<Gc;++ee)bd=mc[ee],md=Jc[ee],null==bd&&"count"!==md&&p.error("Null aggregate field specified."),Nd=p.accessorName(bd),Pd=Ca[ee]||md+(Nd?"_"+Nd:""),Kb.push(Pd),"count"===md?this._counts.push(Pd):(Ed=jc[Nd],Ed||(Ya(bd),Ed=jc[Nd]=[],Ed.field=
bd,this._measures.push(Ed)),"count"!==md&&(this._countOnly=!1),Ed.push(sd[md](Pd)));this._measures=this._measures.map(Ce=>z(Ce,Ce.field));return{}},cellkey:k(),cell(Ca,Ya){let tb=this.value[Ca];tb?0===tb.num&&this._drop&&tb.stamp<this.stamp?(tb.stamp=this.stamp,this._adds[this._alen++]=tb):tb.stamp<this.stamp&&(tb.stamp=this.stamp,this._mods[this._mlen++]=tb):(tb=this.value[Ca]=this.newcell(Ca,Ya),this._adds[this._alen++]=tb);return tb},newcell(Ca,Ya){Ca={key:Ca,num:0,agg:null,tuple:this.newtuple(Ya,
this._prev&&this._prev[Ca]),stamp:this.stamp,store:!1};if(!this._countOnly){Ya=this._measures;const tb=Ya.length;Ca.agg=Array(tb);for(let Kb=0;Kb<tb;++Kb)Ca.agg[Kb]=new Ya[Kb](Ca)}Ca.store&&(Ca.data=new u);return Ca},newtuple(Ca,Ya){const tb=this._dnames,Kb=this._dims,dc=Kb.length,mc={};for(let Jc=0;Jc<dc;++Jc)mc[tb[Jc]]=Kb[Jc](Ca);return Ya?n.replace(Ya.tuple,mc):n.ingest(mc)},clean(){const Ca=this.value;for(const Ya in Ca)0===Ca[Ya].num&&delete Ca[Ya]},add(Ca){var Ya=this.cellkey(Ca);Ya=this.cell(Ya,
Ca);Ya.num+=1;if(!this._countOnly){Ya.store&&Ya.data.add(Ca);Ya=Ya.agg;for(let tb=0,Kb=Ya.length;tb<Kb;++tb)Ya[tb].add(Ya[tb].get(Ca),Ca)}},rem(Ca){var Ya=this.cellkey(Ca);Ya=this.cell(Ya,Ca);--Ya.num;if(!this._countOnly){Ya.store&&Ya.data.rem(Ca);Ya=Ya.agg;for(let tb=0,Kb=Ya.length;tb<Kb;++tb)Ya[tb].rem(Ya[tb].get(Ca),Ca)}},celltuple(Ca){const Ya=Ca.tuple,tb=this._counts;Ca.store&&Ca.data.values();for(let Kb=0,dc=tb.length;Kb<dc;++Kb)Ya[tb[Kb]]=Ca.num;if(!this._countOnly){Ca=Ca.agg;for(let Kb=0,
dc=Ca.length;Kb<dc;++Kb)Ca[Kb].set(Ya)}return Ya},changes(Ca){const Ya=this._adds,tb=this._mods;var Kb=this._prev;const dc=this._drop,mc=Ca.add,Jc=Ca.rem,Gc=Ca.mod;let jc;var bd;if(Kb)for(bd in Kb)jc=Kb[bd],dc&&!jc.num||Jc.push(jc.tuple);Kb=0;for(bd=this._alen;Kb<bd;++Kb)mc.push(this.celltuple(Ya[Kb])),Ya[Kb]=null;Kb=0;for(bd=this._mlen;Kb<bd;++Kb)jc=tb[Kb],(0===jc.num&&dc?Jc:Gc).push(this.celltuple(jc)),tb[Kb]=null;this._alen=this._mlen=0;this._prev=null;return Ca}});J.Definition={type:"Bin",metadata:{modifies:!0},
params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},
{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};p.inherits(J,n.Transform,{transform(Ca,Ya){const tb=!1!==Ca.interval,Kb=this._bins(Ca),dc=Kb.start,mc=Kb.step,Jc=Ca.as||["bin0","bin1"],Gc=Jc[0],jc=Jc[1];Ca.modified()?(Ya=Ya.reflow(!0),Ca=Ya.SOURCE):Ca=Ya.modified(p.accessorFields(Ca.field))?Ya.ADD_MOD:Ya.ADD;Ya.visit(Ca,tb?bd=>{const md=Kb(bd);bd[Gc]=md;bd[jc]=null==md?null:dc+mc*(1+(md-dc)/mc)}:bd=>bd[Gc]=Kb(bd));return Ya.modifies(tb?Jc:Gc)},_bins(Ca){if(this.value&&
!Ca.modified())return this.value;const Ya=Ca.field,tb=v.bin(Ca),Kb=tb.step;let dc=tb.start,mc=dc+Math.ceil((tb.stop-dc)/Kb)*Kb;var Jc;null!=(Jc=Ca.anchor)&&(Jc-=dc+Kb*Math.floor((Jc-dc)/Kb),dc+=Jc,mc+=Jc);Jc=function(Gc){Gc=p.toNumber(Ya(Gc));return null==Gc?null:Gc<dc?-Infinity:Gc>mc?Infinity:(Gc=Math.max(dc,Math.min(Gc,mc-Kb)),dc+Kb*Math.floor(1E-14+(Gc-dc)/Kb))};Jc.start=dc;Jc.stop=tb.stop;Jc.step=Kb;return this.value=p.accessor(Jc,p.accessorFields(Ya),Ca.name||"bin_"+p.accessorName(Ya))}});x.Definition=
{type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};p.inherits(x,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.ALL),Kb=A(n.tupleid,this.value,tb.materialize(tb.ADD).add),dc=Ca.sort;Ca=Ya.changed()||dc&&(Ca.modified("sort")||Ya.modified(dc.fields));tb.visit(tb.REM,Kb.remove);this.modified(Ca);this.value=tb.source=Kb.data(n.stableCompare(dc),Ca);Ya.source&&Ya.source.root&&(this.value.root=Ya.source.root);return tb}});p.inherits(q,n.Operator);M.Definition={type:"CountPattern",
metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};p.inherits(M,n.Transform,{transform(Ca,Ya){var tb=md=>Ed=>{Ed=Gc(Ed);var Nd=mc;switch(Ca.case){case "upper":Ed=Ed.toUpperCase();break;case "lower":Ed=Ed.toLowerCase()}Ed=Ed.match(Nd)||
[];var Pd;Nd=0;for(var ee=Ed.length;Nd<ee;++Nd)Jc.test(Pd=Ed[Nd])||md(Pd)};const Kb=this._parameterCheck(Ca,Ya),dc=this._counts,mc=this._match,Jc=this._stop,Gc=Ca.field,jc=Ca.as||["text","count"],bd=tb(md=>dc[md]=1+(dc[md]||0));tb=tb(md=>--dc[md]);Kb?Ya.visit(Ya.SOURCE,bd):(Ya.visit(Ya.ADD,bd),Ya.visit(Ya.REM,tb));return this._finish(Ya,jc)},_parameterCheck(Ca,Ya){let tb=!1;if(Ca.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Ca.stopwords||"")+"$","i"),tb=!0;if(Ca.modified("pattern")||
!this._match)this._match=new RegExp(Ca.pattern||"[\\w']+","g"),tb=!0;if(Ca.modified("field")||Ya.modified(Ca.field.fields))tb=!0;tb&&(this._counts={});return tb},_finish(Ca,Ya){const tb=this._counts,Kb=this._tuples||(this._tuples={}),dc=Ya[0],mc=Ya[1];Ca=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS);let Jc,Gc,jc;for(Jc in tb)Gc=Kb[Jc],jc=tb[Jc]||0,!Gc&&jc?(Kb[Jc]=Gc=n.ingest({}),Gc[dc]=Jc,Gc[mc]=jc,Ca.add.push(Gc)):0===jc?(Gc&&Ca.rem.push(Gc),tb[Jc]=null,Kb[Jc]=null):Gc[mc]!==jc&&(Gc[mc]=jc,Ca.mod.push(Gc));
return Ca.modifies(Ya)}});R.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};p.inherits(R,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE),Kb=Ca.as||["a","b"],dc=Kb[0],mc=Kb[1];var Jc=!this.value||Ya.changed(Ya.ADD_REM)||Ca.modified("as")||Ca.modified("filter"),Gc=this.value;if(Jc){Gc&&(tb.rem=Gc);Ya=Gc=Ya.materialize(Ya.SOURCE).source;Ca=Ca.filter||p.truthy;Jc=[];Gc={};for(var jc=Ya.length,
bd=0,md,Ed;bd<jc;++bd)for(Gc[dc]=Ed=Ya[bd],md=0;md<jc;++md)Gc[mc]=Ya[md],Ca(Gc)&&(Jc.push(n.ingest(Gc)),Gc={},Gc[dc]=Ed);tb.add=this.value=Jc}else tb.mod=Gc;tb.source=this.value;return tb.modifies(Kb)}});const ae={kde:v.randomKDE,mixture:v.randomMixture,normal:v.randomNormal,lognormal:v.randomLogNormal,uniform:v.randomUniform},de=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];T.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",
"default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:de.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:de},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};p.inherits(T,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS);if(!this.value||Ya.changed()||Ca.modified()){const Kb=
Z(Ca.distribution,ba(Ya));Ya=Ca.steps||Ca.minsteps||25;const dc=Ca.steps||Ca.maxsteps||200;let mc=Ca.method||"pdf";"pdf"!==mc&&"cdf"!==mc&&p.error("Invalid density method: "+mc);Ca.extent||Kb.data||p.error("Missing density extent parameter.");mc=Kb[mc];const Jc=Ca.as||["value","density"];Ca=Ca.extent||p.extent(Kb.data());Ca=v.sampleCurve(mc,Ca,Ya,dc).map(Gc=>{const jc={};jc[Jc[0]]=Gc[0];jc[Jc[1]]=Gc[1];return n.ingest(jc)});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=Ca}return tb}});
X.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};p.inherits(X,n.Transform,{transform(Ca,Ya){if(this.value&&!Ca.modified()&&!Ya.changed())return Ya;var tb=Ya.materialize(Ya.SOURCE).source;const Kb=W(Ya.source,Ca.groupby,p.identity),dc=Ca.smooth||!1,mc=Ca.field;tb=Ca.step||p.span(p.extent(tb,mc))/
30;const Jc=n.stableCompare((Nd,Pd)=>mc(Nd)-mc(Pd));Ca=Ca.as||"bin";const Gc=Kb.length;let jc=Infinity,bd=-Infinity,md=0,Ed;for(;md<Gc;++md){const Nd=Kb[md].sort(Jc);Ed=-1;for(const Pd of v.dotbin(Nd,tb,dc,mc))Pd<jc&&(jc=Pd),Pd>bd&&(bd=Pd),Nd[++Ed][Ca]=Pd}this.value={start:jc,stop:bd,step:tb};return Ya.reflow(!0).modifies(Ca)}});p.inherits(P,n.Operator);B.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};p.inherits(B,n.Transform,{transform(Ca,Ya){var tb=this.value;
const Kb=Ca.field;Ca=Ya.changed()||Ya.modified(Kb.fields)||Ca.modified("field");let dc=tb[0],mc=tb[1];if(Ca||null==dc)dc=Infinity,mc=-Infinity;Ya.visit(Ca?Ya.SOURCE:Ya.ADD,Jc=>{Jc=p.toNumber(Kb(Jc));null!=Jc&&(Jc<dc&&(dc=Jc),Jc>mc&&(mc=Jc))});Number.isFinite(dc)&&Number.isFinite(mc)||((tb=p.accessorName(Kb))&&(tb=` for field "${tb}"`),Ya.dataflow.warn(`Infinite extent${tb}: [${dc}, ${mc}]`),dc=mc=void 0);this.value=[dc,mc]}});p.inherits(K,n.Operator,{connect(Ca){this.detachSubflow=Ca.detachSubflow;
this.targets().add(Ca);return Ca.source=this},add(Ca){this.count+=1;this.value.add.push(Ca)},rem(Ca){--this.count;this.value.rem.push(Ca)},mod(Ca){this.value.mod.push(Ca)},init(Ca){this.value.init(Ca,Ca.NO_SOURCE)},evaluate(){return this.value}});p.inherits(U,n.Transform,{activate(Ca){this._targets[this._targets.active++]=Ca},subflow(Ca,Ya,tb,Kb){const dc=this.value;let mc=p.hasOwnProperty(dc,Ca)&&dc[Ca],Jc;mc?mc.value.stamp<tb.stamp&&(mc.init(tb),this.activate(mc)):(Jc=Kb||(Jc=this._group[Ca])&&
Jc.tuple,Kb=tb.dataflow,mc=new K(tb.fork(tb.NO_SOURCE),this),Kb.add(mc).connect(Ya(Kb,Ca,Jc)),dc[Ca]=mc,this.activate(mc));return mc},clean(){var Ca=this.value;let Ya=0;for(const tb in Ca)if(0===Ca[tb].count){const Kb=Ca[tb].detachSubflow;Kb&&Kb();delete Ca[tb];++Ya}Ya&&(Ca=this._targets.filter(tb=>tb&&0<tb.count),this.initTargets(Ca))},initTargets(Ca){const Ya=this._targets,tb=Ya.length,Kb=Ca?Ca.length:0;let dc=0;for(;dc<Kb;++dc)Ya[dc]=Ca[dc];for(;dc<tb&&null!=Ya[dc];++dc)Ya[dc]=null;Ya.active=Kb},
transform(Ca,Ya){const tb=Ya.dataflow,Kb=Ca.key,dc=Ca.subflow,mc=this._keys,Jc=Ca.modified("key"),Gc=jc=>this.subflow(jc,dc,Ya);this._group=Ca.group||{};this.initTargets();Ya.visit(Ya.REM,jc=>{const bd=n.tupleid(jc),md=mc.get(bd);void 0!==md&&(mc.delete(bd),Gc(md).rem(jc))});Ya.visit(Ya.ADD,jc=>{const bd=Kb(jc);mc.set(n.tupleid(jc),bd);Gc(bd).add(jc)});Jc||Ya.modified(Kb.fields)?Ya.visit(Ya.MOD,jc=>{const bd=n.tupleid(jc),md=mc.get(bd),Ed=Kb(jc);md===Ed?Gc(Ed).mod(jc):(mc.set(bd,Ed),Gc(md).rem(jc),
Gc(Ed).add(jc))}):Ya.changed(Ya.MOD)&&Ya.visit(Ya.MOD,jc=>{Gc(mc.get(n.tupleid(jc))).mod(jc)});Jc&&Ya.visit(Ya.REFLOW,jc=>{const bd=n.tupleid(jc),md=mc.get(bd),Ed=Kb(jc);md!==Ed&&(mc.set(bd,Ed),Gc(md).rem(jc),Gc(Ed).add(jc))});Ya.clean()?tb.runAfter(()=>{this.clean();mc.clean()}):mc.empty>tb.cleanThreshold&&tb.runAfter(mc.clean);return Ya}});p.inherits(ka,n.Operator);la.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};p.inherits(la,n.Transform,{transform(Ca,
Ya){function tb(Ed){const Nd=n.tupleid(Ed),Pd=bd(Ed,Ca),ee=dc.get(Nd);Pd&&ee?(dc.delete(Nd),Jc.push(Ed)):Pd||ee?md&&Pd&&!ee&&jc.push(Ed):(dc.set(Nd,1),Gc.push(Ed))}const Kb=Ya.dataflow,dc=this.value,mc=Ya.fork(),Jc=mc.add,Gc=mc.rem,jc=mc.mod,bd=Ca.expr;let md=!0;Ya.visit(Ya.REM,Ed=>{const Nd=n.tupleid(Ed);dc.has(Nd)?dc.delete(Nd):Gc.push(Ed)});Ya.visit(Ya.ADD,Ed=>{bd(Ed,Ca)?Jc.push(Ed):dc.set(n.tupleid(Ed),1)});Ya.visit(Ya.MOD,tb);Ca.modified()&&(md=!1,Ya.visit(Ya.REFLOW,tb));dc.empty>Kb.cleanThreshold&&
Kb.runAfter(dc.clean);return mc}});wa.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};p.inherits(wa,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE),Kb=Ca.fields,dc=aa(Kb,Ca.as||[]),mc=Ca.index||null,Jc=dc.length;tb.rem=this.value;Ya.visit(Ya.SOURCE,Gc=>{const jc=Kb.map(ee=>ee(Gc)),bd=jc.reduce((ee,Ce)=>Math.max(ee,Ce.length),0);let md=0,Ed,Nd,Pd;for(;md<bd;++md){Nd=
n.derive(Gc);for(Ed=0;Ed<Jc;++Ed)Nd[dc[Ed]]=null==(Pd=jc[Ed][md])?null:Pd;mc&&(Nd[mc]=md);tb.add.push(Nd)}});this.value=tb.source=tb.add;mc&&tb.modifies(mc);return tb.modifies(dc)}});Ua.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};p.inherits(Ua,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE),Kb=Ca.fields,dc=Kb.map(p.accessorName);Ca=Ca.as||["key","value"];
const mc=Ca[0],Jc=Ca[1],Gc=Kb.length;tb.rem=this.value;Ya.visit(Ya.SOURCE,jc=>{for(let bd=0,md;bd<Gc;++bd)md=n.derive(jc),md[mc]=dc[bd],md[Jc]=Kb[bd](jc),tb.add.push(md)});this.value=tb.source=tb.add;return tb.modifies(Ca)}});hb.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};p.inherits(hb,n.Transform,{transform(Ca,Ya){const tb=Ca.expr,Kb=Ca.as,dc=Ca.modified(),mc=Ca.initonly?Ya.ADD:
dc?Ya.SOURCE:Ya.modified(tb.fields)||Ya.modified(Kb)?Ya.ADD_MOD:Ya.ADD;dc&&(Ya=Ya.materialize().reflow(!0));Ca.initonly||Ya.modifies(Kb);return Ya.visit(mc,Jc=>Jc[Kb]=tb(Jc,Ca))}});p.inherits(La,n.Transform,{transform(Ca,Ya){Ya=Ya.fork(Ya.ALL);const tb=Ca.generator;let Kb=this.value,dc=Ca.size-Kb.length,mc,Jc;if(0<dc){for(mc=[];0<=--dc;)mc.push(Jc=n.ingest(tb(Ca))),Kb.push(Jc);Ya.add=Ya.add.length?Ya.materialize(Ya.ADD).add.concat(mc):mc}else Ca=Kb.slice(0,-dc),Ya.rem=Ya.rem.length?Ya.materialize(Ya.REM).rem.concat(Ca):
Ca,Kb=Kb.slice(-dc);Ya.source=this.value=Kb;return Ya}});const je={value:"value",median:function(Ca,Ya){var tb=.5;Ca=Float64Array.from(Ma(Ca,Ya));if(Ya=Ca.length)if(0>=(tb=+tb)||2>Ya)Ca=Ha(Ca);else if(1<=tb)Ca=qa(Ca);else{tb*=Ya-1;Ya=Math.floor(tb);var Kb=qa(Va(Ca,Ya).subarray(0,Ya+1));Ca=Ha(Ca.subarray(Ya+1));Ca=Kb+(Ca-Kb)*(tb-Ya)}else Ca=void 0;return Ca},mean:function(Ca,Ya){let tb=0,Kb=0;if(void 0===Ya)for(var dc of Ca)null!=dc&&(dc=+dc)>=dc&&(++tb,Kb+=dc);else{dc=-1;for(let mc of Ca)null!=(mc=
Ya(mc,++dc,Ca))&&(mc=+mc)>=mc&&(++tb,Kb+=mc)}if(tb)return Kb/tb},min:Ha,max:qa},qd=[];Qa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};p.inherits(Qa,n.Transform,{transform(Ca,Ya){var tb=Ya.fork(Ya.ALL),Kb=oa(Ca),dc=Y(Ca),mc=p.accessorName(Ca.field),
Jc=p.accessorName(Ca.key),Gc=(Ca.groupby||[]).map(p.accessorName);Ca=ja(Ya.source,Ca.groupby,Ca.key,Ca.keyvals);Ya=[];var jc=this.value,bd=Ca.domain.length,md,Ed,Nd;var Pd=0;for(Ed=Ca.length;Pd<Ed;++Pd){var ee=Ca[Pd];var Ce=ee.values;var ue=NaN;for(md=0;md<bd;++md)if(null==ee[md]){var Df=Ca.domain[md];var Be={_impute:!0};var Me=0;for(Nd=Ce.length;Me<Nd;++Me)Be[Gc[Me]]=Ce[Me];Be[Jc]=Df;Be[mc]=Number.isNaN(ue)?ue=Kb(ee,dc):ue;Ya.push(n.ingest(Be))}}Ya.length&&(tb.add=tb.materialize(tb.ADD).add.concat(Ya));
jc.length&&(tb.rem=tb.materialize(tb.REM).rem.concat(jc));this.value=Ya;return tb}});Ga.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Kd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};p.inherits(Ga,C,{transform(Ca,Ya){const tb=this,Kb=Ca.modified();let dc;tb.value&&(Kb||Ya.modified(tb._inputs,!0))?(dc=tb.value=Kb?tb.init(Ca):{},
Ya.visit(Ya.SOURCE,mc=>tb.add(mc))):(dc=tb.value=tb.value||this.init(Ca),Ya.visit(Ya.REM,mc=>tb.rem(mc)),Ya.visit(Ya.ADD,mc=>tb.add(mc)));tb.changes();Ya.visit(Ya.SOURCE,mc=>{p.extend(mc,dc[tb.cellkey(mc)].tuple)});return Ya.reflow(Kb).modifies(this._outputs)},changes(){const Ca=this._adds,Ya=this._mods;let tb,Kb;tb=0;for(Kb=this._alen;tb<Kb;++tb)this.celltuple(Ca[tb]),Ca[tb]=null;tb=0;for(Kb=this._mlen;tb<Kb;++tb)this.celltuple(Ya[tb]),Ya[tb]=null;this._alen=this._mlen=0}});Wa.Definition={type:"KDE",
metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},
{name:"as",type:"string",array:!0,"default":["value","density"]}]};p.inherits(Wa,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS);if(!this.value||Ya.changed()||Ca.modified()){Ya=Ya.materialize(Ya.SOURCE).source;const Kb=W(Ya,Ca.groupby,Ca.field),dc=(Ca.groupby||[]).map(p.accessorName),mc=Ca.bandwidth,Jc=Ca.cumulative?"cdf":"pdf",Gc=Ca.as||["value","density"],jc=[];let bd=Ca.extent,md=Ca.steps||Ca.minsteps||25,Ed=Ca.steps||Ca.maxsteps||200;"pdf"!==Jc&&"cdf"!==Jc&&p.error("Invalid density method: "+
Jc);"shared"===Ca.resolve&&(bd||(bd=p.extent(Ya,Ca.field)),md=Ed=Ca.steps||Ed);Kb.forEach(Nd=>{const Pd=v.randomKDE(Nd,mc)[Jc],ee=Ca.counts?Nd.length:1,Ce=bd||p.extent(Nd);v.sampleCurve(Pd,Ce,md,Ed).forEach(ue=>{const Df={};for(let Be=0;Be<dc.length;++Be)Df[dc[Be]]=Nd.dims[Be];Df[Gc[0]]=ue[0];Df[Gc[1]]=ue[1]*ee;jc.push(n.ingest(Df))})});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=jc}return tb}});p.inherits(cb,n.Operator);p.inherits(pb,n.Transform,{transform(Ca,Ya){const tb=Ya.dataflow;
return this._pending?nc(this,Ya,this._pending):Fb(Ca)?Ya.StopPropagation:Ca.values?nc(this,Ya,tb.parse(Ca.values,Ca.format)):Ca.async?{async:tb.request(Ca.url,Ca.format).then(Kb=>{this._pending=p.array(Kb.data);return dc=>dc.touch(this)})}:tb.request(Ca.url,Ca.format).then(Kb=>nc(this,Ya,p.array(Kb.data)))}});Lc.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",
array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};p.inherits(Lc,n.Transform,{transform(Ca,Ya){const tb=Ca.fields,Kb=Ca.index,dc=Ca.values,mc=null==Ca.default?null:Ca.default;var Jc=Ca.modified();const Gc=tb.length;let jc=Jc?Ya.SOURCE:Ya.ADD,bd=Ya,md=Ca.as,Ed;dc?(Ed=dc.length,1<Gc&&!md&&p.error('Multi-field lookup requires explicit "as" parameter.'),md&&md.length!==Gc*Ed&&p.error('The "as" parameter has too few output field names.'),
md=md||dc.map(p.accessorName),Ca=function(Nd){for(var Pd=0,ee=0,Ce,ue;Pd<Gc;++Pd)if(ue=Kb.get(tb[Pd](Nd)),null==ue)for(Ce=0;Ce<Ed;++Ce,++ee)Nd[md[ee]]=mc;else for(Ce=0;Ce<Ed;++Ce,++ee)Nd[md[ee]]=dc[Ce](ue)}):(md||p.error("Missing output field names."),Ca=function(Nd){for(var Pd=0,ee;Pd<Gc;++Pd)ee=Kb.get(tb[Pd](Nd)),Nd[md[Pd]]=null==ee?mc:ee});Jc?bd=Ya.reflow(!0):(Jc=tb.some(Nd=>Ya.modified(Nd.fields)),jc|=Jc?Ya.MOD:0);Ya.visit(jc,Ca);return bd.modifies(md)}});p.inherits(Ac,n.Operator);p.inherits(tc,
n.Operator);p.inherits(Mb,n.Transform,{transform(Ca,Ya){this.modified(Ca.modified());this.value=Ca;return Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS)}});Ab.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Kd,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};p.inherits(Ab,C,{_transform:C.prototype.transform,
transform(Ca,Ya){return this._transform(ec(Ca,Ya),Ya)}});p.inherits(Ic,U,{transform(Ca,Ya){const tb=Ca.subflow,Kb=Ca.field,dc=mc=>this.subflow(n.tupleid(mc),tb,Ya,mc);(Ca.modified("field")||Kb&&Ya.modified(p.accessorFields(Kb)))&&p.error("PreFacet does not support field modification.");this.initTargets();Kb?(Ya.visit(Ya.MOD,mc=>{const Jc=dc(mc);Kb(mc).forEach(Gc=>Jc.mod(Gc))}),Ya.visit(Ya.ADD,mc=>{const Jc=dc(mc);Kb(mc).forEach(Gc=>Jc.add(n.ingest(Gc)))}),Ya.visit(Ya.REM,mc=>{const Jc=dc(mc);Kb(mc).forEach(Gc=>
Jc.rem(Gc))})):(Ya.visit(Ya.MOD,mc=>dc(mc).mod(mc)),Ya.visit(Ya.ADD,mc=>dc(mc).add(mc)),Ya.visit(Ya.REM,mc=>dc(mc).rem(mc)));Ya.clean()&&Ya.runAfter(()=>this.clean());return Ya}});Ec.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};p.inherits(Ec,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE),Kb=Ca.fields,dc=aa(Ca.fields,Ca.as||[]),mc=Kb?(Gc,jc)=>{for(let bd=0,md=Kb.length;bd<md;++bd)jc[dc[bd]]=
Kb[bd](Gc);return jc}:n.rederive;let Jc;this.value?Jc=this.value:(Ya=Ya.addAll(),Jc=this.value={});Ya.visit(Ya.REM,Gc=>{Gc=n.tupleid(Gc);tb.rem.push(Jc[Gc]);Jc[Gc]=null});Ya.visit(Ya.ADD,Gc=>{const jc=mc(Gc,n.ingest({}));Jc[n.tupleid(Gc)]=jc;tb.add.push(jc)});Ya.visit(Ya.MOD,Gc=>{tb.mod.push(mc(Gc,Jc[n.tupleid(Gc)]))});return tb}});p.inherits(Rc,n.Transform,{transform(Ca,Ya){this.value=Ca.value;return Ca.modified("value")?Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS):Ya.StopPropagation}});id.Definition={type:"Quantile",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};p.inherits(id,n.Transform,{transform(Ca,Ya){const tb=Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS),Kb=Ca.as||["prob","value"];if(this.value&&!Ca.modified()&&!Ya.changed())return tb.source=this.value,tb;Ya=Ya.materialize(Ya.SOURCE).source;Ya=W(Ya,
Ca.groupby,Ca.field);const dc=(Ca.groupby||[]).map(p.accessorName),mc=[],Jc=Ca.step||.01,Gc=Ca.probs||ta(Jc/2,1-1E-14,Jc),jc=Gc.length;Ya.forEach(bd=>{const md=v.quantiles(bd,Gc);for(let Ed=0;Ed<jc;++Ed){const Nd={};for(let Pd=0;Pd<dc.length;++Pd)Nd[dc[Pd]]=bd.dims[Pd];Nd[Kb[0]]=Gc[Ed];Nd[Kb[1]]=md[Ed];mc.push(n.ingest(Nd))}});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=mc;return tb}});p.inherits(Td,n.Transform,{transform(Ca,Ya){let tb,Kb;this.value?Kb=this.value:(tb=Ya=Ya.addAll(),
Kb=this.value={});Ca.derive&&(tb=Ya.fork(Ya.NO_SOURCE),Ya.visit(Ya.REM,dc=>{dc=n.tupleid(dc);tb.rem.push(Kb[dc]);Kb[dc]=null}),Ya.visit(Ya.ADD,dc=>{const mc=n.derive(dc);Kb[n.tupleid(dc)]=mc;tb.add.push(mc)}),Ya.visit(Ya.MOD,dc=>{const mc=Kb[n.tupleid(dc)];for(const Jc in dc)mc[Jc]=dc[Jc],tb.modifies(Jc);tb.mod.push(mc)}));return tb}});Ea.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};p.inherits(Ea,n.Transform,{transform(Ca,Ya){function tb(md){let Ed,Nd;
Gc.length<mc?Gc.push(md):(Nd=~~((jc+1)*v.random()),Nd<Gc.length&&Nd>=bd&&(Ed=Gc[Nd],Jc[n.tupleid(Ed)]&&Kb.rem.push(Ed),Gc[Nd]=md));++jc}const Kb=Ya.fork(Ya.NO_SOURCE);var dc=Ca.modified("size");const mc=Ca.size,Jc=this.value.reduce((md,Ed)=>(md[n.tupleid(Ed)]=1,md),{});let Gc=this.value,jc=this.count,bd=0;Ya.rem.length&&(Ya.visit(Ya.REM,md=>{const Ed=n.tupleid(md);Jc[Ed]&&(Jc[Ed]=-1,Kb.rem.push(md));--jc}),Gc=Gc.filter(md=>-1!==Jc[n.tupleid(md)]));(Ya.rem.length||dc)&&Gc.length<mc&&Ya.source&&(bd=
jc=Gc.length,Ya.visit(Ya.SOURCE,md=>{Jc[n.tupleid(md)]||tb(md)}),bd=-1);if(dc&&Gc.length>mc){Ca=Gc.length-mc;for(dc=0;dc<Ca;++dc)Jc[n.tupleid(Gc[dc])]=-1,Kb.rem.push(Gc[dc]);Gc=Gc.slice(Ca)}Ya.mod.length&&Ya.visit(Ya.MOD,md=>{Jc[n.tupleid(md)]&&Kb.mod.push(md)});Ya.add.length&&Ya.visit(Ya.ADD,tb);if(Ya.add.length||0>bd)Kb.add=Gc.filter(md=>!Jc[n.tupleid(md)]);this.count=jc;this.value=Kb.source=Gc;return Kb}});za.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};p.inherits(za,n.Transform,{transform(Ca,Ya){if(!this.value||Ca.modified()){var tb=Ya.materialize().fork(Ya.MOD),Kb=Ca.as||"data";tb.rem=this.value?Ya.rem.concat(this.value):Ya.rem;this.value=ta(Ca.start,Ca.stop,Ca.step||1).map(dc=>{const mc={};mc[Kb]=dc;return n.ingest(mc)});tb.add=Ya.add.concat(this.value);return tb}}});p.inherits(Fa,n.Transform,
{transform(Ca,Ya){this.value=Ya.source;return Ya.changed()?Ya.fork(Ya.NO_SOURCE|Ya.NO_FIELDS):Ya.StopPropagation}});const bf=["unit0","unit1"];bb.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:r.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",
values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":bf}]};p.inherits(bb,n.Transform,{transform(Ca,Ya){const tb=Ca.field,Kb=!1!==Ca.interval;var dc="utc"===Ca.timezone;const mc=this._floor(Ca,Ya),Jc=(dc?r.utcInterval:r.timeInterval)(mc.unit).offset;dc=Ca.as||bf;const Gc=dc[0],jc=dc[1],bd=mc.step;let md=mc.start||Infinity,Ed=mc.stop||-Infinity,Nd=Ya.ADD;if(Ca.modified()||Ya.changed(Ya.REM)||Ya.modified(p.accessorFields(tb)))Ya=Ya.reflow(!0),Nd=Ya.SOURCE,md=Infinity,Ed=-Infinity;
Ya.visit(Nd,Pd=>{var ee=tb(Pd);let Ce;null==ee?(Pd[Gc]=null,Kb&&(Pd[jc]=null)):(Pd[Gc]=ee=Ce=mc(ee),Kb&&(Pd[jc]=Ce=Jc(ee,bd)),ee<md&&(md=ee),Ce>Ed&&(Ed=Ce))});mc.start=md;mc.stop=Ed;return Ya.modifies(Kb?dc:Gc)},_floor(Ca,Ya){var tb="utc"===Ca.timezone;const {units:Kb,step:dc}=Ca.units?{units:Ca.units,step:Ca.step||1}:r.timeBin({extent:Ca.extent||p.extent(Ya.materialize(Ya.SOURCE).source,Ca.field),maxbins:Ca.maxbins});Ca=r.timeUnits(Kb);Ya=this.value||{};tb=(tb?r.utcFloor:r.timeFloor)(Ca,dc);tb.unit=
p.peek(Ca);tb.units=Ca;tb.step=dc;tb.start=Ya.start;tb.stop=Ya.stop;return this.value=tb}});p.inherits(lb,n.Transform,{transform(Ca,Ya){const tb=Ya.dataflow,Kb=Ca.field,dc=this.value,mc=Gc=>dc.set(Kb(Gc),Gc);let Jc=!0;Ca.modified("field")||Ya.modified(Kb.fields)?(dc.clear(),Ya.visit(Ya.SOURCE,mc)):Ya.changed()?(Ya.visit(Ya.REM,Gc=>dc.delete(Kb(Gc))),Ya.visit(Ya.ADD,mc)):Jc=!1;this.modified(Jc);dc.empty>tb.cleanThreshold&&tb.runAfter(dc.clean);return Ya.fork()}});p.inherits(zb,n.Transform,{transform(Ca,
Ya){if(!this.value||Ca.modified("field")||Ca.modified("sort")||Ya.changed()||Ca.sort&&Ya.modified(Ca.sort.fields))this.value=(Ca.sort?Ya.source.slice().sort(n.stableCompare(Ca.sort)):Ya.source).map(Ca.field)}});const Ye={row_number:function(){return{next:Ca=>Ca.index+1}},rank:function(){let Ca;return{init:()=>Ca=1,next:Ya=>{const tb=Ya.index,Kb=Ya.data;return tb&&Ya.compare(Kb[tb-1],Kb[tb])?Ca=tb+1:Ca}}},dense_rank:function(){let Ca;return{init:()=>Ca=1,next:Ya=>{const tb=Ya.index,Kb=Ya.data;return tb&&
Ya.compare(Kb[tb-1],Kb[tb])?++Ca:Ca}}},percent_rank:function(){const Ca=Ye.rank(),Ya=Ca.next;return{init:Ca.init,next:tb=>(Ya(tb)-1)/(tb.data.length-1)}},cume_dist:function(){let Ca;return{init:()=>Ca=0,next:Ya=>{const tb=Ya.data,Kb=Ya.compare;Ya=Ya.index;if(Ca<Ya){for(;Ya+1<tb.length&&!Kb(tb[Ya],tb[Ya+1]);)++Ya;Ca=Ya}return(1+Ca)/tb.length}}},ntile:function(Ca,Ya){Ya=+Ya;0<Ya||p.error("ntile num must be greater than zero.");Ca=Ye.cume_dist();const tb=Ca.next;return{init:Ca.init,next:Kb=>Math.ceil(Ya*
tb(Kb))}},lag:function(Ca,Ya){Ya=+Ya||1;return{next:tb=>{const Kb=tb.index-Ya;return 0<=Kb?Ca(tb.data[Kb]):null}}},lead:function(Ca,Ya){Ya=+Ya||1;return{next:tb=>{const Kb=tb.index+Ya;tb=tb.data;return Kb<tb.length?Ca(tb[Kb]):null}}},first_value:function(Ca){return{next:Ya=>Ca(Ya.data[Ya.i0])}},last_value:function(Ca){return{next:Ya=>Ca(Ya.data[Ya.i1-1])}},nth_value:function(Ca,Ya){Ya=+Ya;0<Ya||p.error("nth_value nth must be greater than zero.");return{next:tb=>{const Kb=tb.i0+(Ya-1);return Kb<tb.i1?
Ca(tb.data[Kb]):null}}},prev_value:function(Ca){let Ya;return{init:()=>Ya=null,next:tb=>{tb=Ca(tb.data[tb.index]);return null!=tb?Ya=tb:Ya}}},next_value:function(Ca){let Ya,tb;return{init:()=>(Ya=null,tb=-1),next:Kb=>{var dc=Kb.data;if(Kb.index<=tb)dc=Ya;else{a:{Kb=Kb.index;for(let mc=dc.length;Kb<mc;++Kb)if(null!=Ca(dc[Kb]))break a;Kb=-1}dc=0>(tb=Kb)?(tb=dc.length,Ya=null):Ya=Ca(dc[tb])}return dc}}}},pe=Object.keys(Ye),ve=Ub.prototype;ve.init=function(){this.windows.forEach(Ca=>Ca.init());this.cell&&
this.cell.init()};ve.update=function(Ca,Ya){const tb=this.cell,Kb=this.windows,dc=Ca.data,mc=Kb&&Kb.length;let Jc;if(tb){for(Jc=Ca.p0;Jc<Ca.i0;++Jc)tb.rem(dc[Jc]);for(Jc=Ca.p1;Jc<Ca.i1;++Jc)tb.add(dc[Jc]);tb.set(Ya)}for(Jc=0;Jc<mc;++Jc)Kb[Jc].update(Ca,Ya)};Dc.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:pe.concat(Kd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};p.inherits(Dc,n.Transform,{transform(Ca,Ya){this.stamp=Ya.stamp;const tb=Ca.modified(),Kb=n.stableCompare(Ca.sort),dc=k(Ca.groupby),mc=Gc=>this.group(dc(Gc));let Jc=this.state;if(!Jc||tb)Jc=this.state=new Ub(Ca);tb||Ya.modified(Jc.inputs)?(this.value={},Ya.visit(Ya.SOURCE,Gc=>mc(Gc).add(Gc))):(Ya.visit(Ya.REM,
Gc=>mc(Gc).remove(Gc)),Ya.visit(Ya.ADD,Gc=>mc(Gc).add(Gc)));for(let Gc=0,jc=this._mlen;Gc<jc;++Gc)dd(this._mods[Gc],Jc,Kb,Ca);this._mlen=0;this._mods=[];return Ya.reflow(tb).modifies(Jc.outputs)},group(Ca){let Ya=this.value[Ca];Ya||(Ya=this.value[Ca]=A(n.tupleid),Ya.stamp=-1);Ya.stamp<this.stamp&&(Ya.stamp=this.stamp,this._mods[this._mlen++]=Ya);return Ya}});y.aggregate=C;y.bin=J;y.collect=x;y.compare=q;y.countpattern=M;y.cross=R;y.density=T;y.dotbin=X;y.expression=P;y.extent=B;y.facet=U;y.field=
ka;y.filter=la;y.flatten=wa;y.fold=Ua;y.formula=hb;y.generate=La;y.impute=Qa;y.joinaggregate=Ga;y.kde=Wa;y.key=cb;y.load=pb;y.lookup=Lc;y.multiextent=Ac;y.multivalues=tc;y.params=Mb;y.pivot=Ab;y.prefacet=Ic;y.project=Ec;y.proxy=Rc;y.quantile=id;y.relay=Td;y.sample=Ea;y.sequence=za;y.sieve=Fa;y.subflow=K;y.timeunit=bb;y.tupleindex=lb;y.values=zb;y.window=Dc;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[26]=function(sa,F,ob,G){!function(y,p){"object"==typeof G&&"undefined"!=typeof ob?p(G):"function"==typeof define&&define.amd?define(["exports"],p):p((y="undefined"!=typeof globalThis?globalThis:y||self).vega={})}(this,function(y){function p(n,v){if("undefined"!=typeof document&&document.createElement){const r=document.createElement("canvas");if(r&&r.getContext)return r.width=n,r.height=v,r}return null}y.canvas=p;y.domCanvas=p;y.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(y,
"__esModule",{value:!0})})};
shadow$provide[27]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega))})(this,function(y,p,n){function v(na,Na,Ta){Na=na-Na+2*Ta;return na?0<Na?Na:1:0}function r(na){return function(Na){let Ta=Na[0];Na=Na[1];let vb;Na<Ta&&(vb=Ta,Ta=Na,Na=vb);return[na.invert(Ta),na.invert(Na)]}}function h(na){return function(Na){const Ta=
na.range();let vb=Na[0];Na=Na[1];let Yb=-1,bc;let hc;if(Na<vb){var xc=vb;vb=Na;Na=xc}xc=0;for(hc=Ta.length;xc<hc;++xc)Ta[xc]>=vb&&Ta[xc]<=Na&&(0>Yb&&(Yb=xc),bc=xc);if(!(0>Yb))return vb=na.invertExtent(Ta[Yb]),Na=na.invertExtent(Ta[bc]),[void 0===vb[0]?vb[1]:vb[0],void 0===Na[1]?Na[0]:Na[1]]}}function k(na,Na){return null==na||null==Na?NaN:na<Na?-1:na>Na?1:na>=Na?0:NaN}function f(na){function Na(bc,hc,xc=0,gd=bc.length){if(xc<gd){if(0!==vb(hc,hc))return gd;do{const Gd=xc+gd>>>1;0>Yb(bc[Gd],hc)?xc=
Gd+1:gd=Gd}while(xc<gd)}return xc}let Ta=na,vb=na,Yb=na;2!==na.length&&(Ta=(bc,hc)=>na(bc)-hc,vb=k,Yb=(bc,hc)=>k(na(bc),hc));return{left:Na,center:function(bc,hc,xc=0,gd=bc.length){gd=Na(bc,hc,xc,gd-1);return gd>xc&&Ta(bc[gd-1],hc)>-Ta(bc[gd],hc)?gd-1:gd},right:function(bc,hc,xc=0,gd=bc.length){if(xc<gd){if(0!==vb(hc,hc))return gd;do{const Gd=xc+gd>>>1;0>=Yb(bc[Gd],hc)?xc=Gd+1:gd=Gd}while(xc<gd)}return xc}}}function e(na){return null===na?NaN:+na}function d({_intern:na,_key:Na},Ta){Na=Na(Ta);return na.has(Na)?
na.get(Na):Ta}function a({_intern:na,_key:Na},Ta){Na=Na(Ta);if(na.has(Na))return na.get(Na);na.set(Na,Ta);return Ta}function c({_intern:na,_key:Na},Ta){Na=Na(Ta);na.has(Na)&&(Ta=na.get(Na),na.delete(Na));return Ta}function b(na){return null!==na&&"object"===typeof na?na.valueOf():na}function m(na,Na,Ta){var vb,Yb=-1,bc;Na=+Na;na=+na;Ta=+Ta;if(na===Na&&0<Ta)return[na];if(vb=Na<na){var hc=na;na=Na;Na=hc}if(0===(bc=z(na,Na,Ta))||!isFinite(bc))return[];if(0<bc)for(Ta=Math.round(na/bc),hc=Math.round(Na/
bc),Ta*bc<na&&++Ta,hc*bc>Na&&--hc,na=Array(hc=hc-Ta+1);++Yb<hc;)na[Yb]=(Ta+Yb)*bc;else for(bc=-bc,Ta=Math.round(na*bc),hc=Math.round(Na*bc),Ta/bc<na&&++Ta,hc/bc>Na&&--hc,na=Array(hc=hc-Ta+1);++Yb<hc;)na[Yb]=(Ta+Yb)/bc;vb&&na.reverse();return na}function z(na,Na,Ta){Na=(Na-na)/Math.max(0,Ta);na=Math.floor(Math.log(Na)/Math.LN10);Na/=Math.pow(10,na);return 0<=na?(Na>=Rb?10:Na>=Hc?5:Na>=Zc?2:1)*Math.pow(10,na):-Math.pow(10,-na)/(Na>=Rb?10:Na>=Hc?5:Na>=Zc?2:1)}function u(na,Na,Ta){var vb=Math.abs(Na-
na)/Math.max(0,Ta);Ta=Math.pow(10,Math.floor(Math.log(vb)/Math.LN10));vb/=Ta;vb>=Rb?Ta*=10:vb>=Hc?Ta*=5:vb>=Zc&&(Ta*=2);return Na<na?-Ta:Ta}function C(na,Na,Ta=e){if(vb=na.length){if(0>=(Na=+Na)||2>vb)return+Ta(na[0],0,na);if(1<=Na)return+Ta(na[vb-1],vb-1,na);var vb;Na*=vb-1;vb=Math.floor(Na);var Yb=+Ta(na[vb],vb,na);na=+Ta(na[vb+1],vb+1,na);return Yb+(na-Yb)*(Na-vb)}}function J(na,Na,Ta){na=+na;Na=+Na;Ta=2>(Yb=arguments.length)?(Na=na,na=0,1):3>Yb?1:+Ta;for(var vb=-1,Yb=Math.max(0,Math.ceil((Na-
na)/Ta))|0,bc=Array(Yb);++vb<Yb;)bc[vb]=na+vb*Ta;return bc}function A(na,Na){switch(arguments.length){case 0:break;case 1:this.range(na);break;default:this.range(Na).domain(na)}return this}function x(na,Na){switch(arguments.length){case 0:break;case 1:"function"===typeof na?this.interpolator(na):this.range(na);break;default:this.domain(na),"function"===typeof Na?this.interpolator(Na):this.range(Na)}return this}function q(){function na(bc){let hc=Na.get(bc);if(void 0===hc){if(Yb!==ed)return Yb;Na.set(bc,
hc=Ta.push(bc)-1)}return vb[hc%vb.length]}var Na=new Jb,Ta=[],vb=[],Yb=ed;na.domain=function(bc){if(!arguments.length)return Ta.slice();Ta=[];Na=new Jb;for(const hc of bc)Na.has(hc)||Na.set(hc,Ta.push(hc)-1);return na};na.range=function(bc){return arguments.length?(vb=Array.from(bc),na):vb.slice()};na.unknown=function(bc){return arguments.length?(Yb=bc,na):Yb};na.copy=function(){return q(Ta,vb).unknown(Yb)};A.apply(na,arguments);return na}function H(na,Na,Ta){na.prototype=Na.prototype=Ta;Ta.constructor=
na}function M(na,Na){na=Object.create(na.prototype);for(var Ta in Na)na[Ta]=Na[Ta];return na}function R(){}function Z(){return this.rgb().formatHex()}function T(){return this.rgb().formatRgb()}function ba(na){var Na,Ta;na=(na+"").trim().toLowerCase();return(Na=Vd.exec(na))?(Ta=Na[1].length,Na=parseInt(Na[1],16),6===Ta?aa(Na):3===Ta?new w(Na>>8&15|Na>>4&240,Na>>4&15|Na&240,(Na&15)<<4|Na&15,1):8===Ta?W(Na>>24&255,Na>>16&255,Na>>8&255,(Na&255)/255):4===Ta?W(Na>>12&15|Na>>8&240,Na>>8&15|Na>>4&240,Na>>
4&15|Na&240,((Na&15)<<4|Na&15)/255):null):(Na=we.exec(na))?new w(Na[1],Na[2],Na[3],1):(Na=Ze.exec(na))?new w(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,1):(Na=rf.exec(na))?W(Na[1],Na[2],Na[3],Na[4]):(Na=wg.exec(na))?W(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,Na[4]):(Na=De.exec(na))?ka(Na[1],Na[2]/100,Na[3]/100,1):(Na=fg.exec(na))?ka(Na[1],Na[2]/100,Na[3]/100,Na[4]):kg.hasOwnProperty(na)?aa(kg[na]):"transparent"===na?new w(NaN,NaN,NaN,0):null}function aa(na){return new w(na>>16&255,na>>8&255,na&255,
1)}function W(na,Na,Ta,vb){0>=vb&&(na=Na=Ta=NaN);return new w(na,Na,Ta,vb)}function X(na){na instanceof R||(na=ba(na));if(!na)return new w;na=na.rgb();return new w(na.r,na.g,na.b,na.opacity)}function P(na,Na,Ta,vb){return 1===arguments.length?X(na):new w(na,Na,Ta,null==vb?1:vb)}function w(na,Na,Ta,vb){this.r=+na;this.g=+Na;this.b=+Ta;this.opacity=+vb}function B(){return"#"+U(this.r)+U(this.g)+U(this.b)}function K(){var na=this.opacity;na=isNaN(na)?1:Math.max(0,Math.min(1,na));return(1===na?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===na?")":", "+na+")")}function U(na){na=Math.max(0,Math.min(255,Math.round(na)||0));return(16>na?"0":"")+na.toString(16)}function ka(na,Na,Ta,vb){0>=vb?na=Na=Ta=NaN:0>=Ta||1<=Ta?na=Na=NaN:0>=Na&&(na=NaN);return new wa(na,Na,Ta,vb)}function da(na){if(na instanceof wa)return new wa(na.h,na.s,na.l,na.opacity);na instanceof R||(na=ba(na));
if(!na)return new wa;if(na instanceof wa)return na;na=na.rgb();var Na=na.r/255,Ta=na.g/255,vb=na.b/255,Yb=Math.min(Na,Ta,vb),bc=Math.max(Na,Ta,vb),hc=NaN,xc=bc-Yb,gd=(bc+Yb)/2;xc?(hc=Na===bc?(Ta-vb)/xc+6*(Ta<vb):Ta===bc?(vb-Na)/xc+2:(Na-Ta)/xc+4,xc/=.5>gd?bc+Yb:2-bc-Yb,hc*=60):xc=0<gd&&1>gd?0:hc;return new wa(hc,xc,gd,na.opacity)}function la(na,Na,Ta,vb){return 1===arguments.length?da(na):new wa(na,Na,Ta,null==vb?1:vb)}function wa(na,Na,Ta,vb){this.h=+na;this.s=+Na;this.l=+Ta;this.opacity=+vb}function Ua(na,
Na,Ta){return 255*(60>na?Na+(Ta-Na)*na/60:180>na?Ta:240>na?Na+(Ta-Na)*(240-na)/60:Na)}function hb(na){if(na instanceof pa)return new pa(na.l,na.a,na.b,na.opacity);if(na instanceof Va)return eb(na);na instanceof w||(na=X(na));var Na=Aa(na.r),Ta=Aa(na.g),vb=Aa(na.b),Yb=Da(.2225045*Na+.7168786*Ta+.0606169*vb);if(Na===Ta&&Ta===vb)var bc=Na=Yb;else bc=Da((.4360747*Na+.3850649*Ta+.1430804*vb)/.96422),Na=Da((.0139322*Na+.0971045*Ta+.7141733*vb)/.82521);return new pa(116*Yb-16,500*(bc-Yb),200*(Yb-Na),na.opacity)}
function La(na,Na,Ta,vb){return 1===arguments.length?hb(na):new pa(na,Na,Ta,null==vb?1:vb)}function pa(na,Na,Ta,vb){this.l=+na;this.a=+Na;this.b=+Ta;this.opacity=+vb}function Da(na){return na>Uf?Math.pow(na,1/3):na/gh+Yg}function Ma(na){return na>jf?na*na*na:gh*(na-Yg)}function ua(na){return 255*(.0031308>=na?12.92*na:1.055*Math.pow(na,1/2.4)-.055)}function Aa(na){return.04045>=(na/=255)?na/12.92:Math.pow((na+.055)/1.055,2.4)}function qa(na){if(na instanceof Va)return new Va(na.h,na.c,na.l,na.opacity);
na instanceof pa||(na=hb(na));if(0===na.a&&0===na.b)return new Va(NaN,0<na.l&&100>na.l?0:NaN,na.l,na.opacity);var Na=Math.atan2(na.b,na.a)*rg;return new Va(0>Na?Na+360:Na,Math.sqrt(na.a*na.a+na.b*na.b),na.l,na.opacity)}function Ha(na,Na,Ta,vb){return 1===arguments.length?qa(na):new Va(na,Na,Ta,null==vb?1:vb)}function Va(na,Na,Ta,vb){this.h=+na;this.c=+Na;this.l=+Ta;this.opacity=+vb}function eb(na){if(isNaN(na.h))return new pa(na.l,0,0,na.opacity);var Na=na.h*Rg;return new pa(na.l,Math.cos(Na)*na.c,
Math.sin(Na)*na.c,na.opacity)}function ta(na,Na,Ta,vb){if(1===arguments.length){var Yb=na;if(Yb instanceof Qa)Yb=new Qa(Yb.h,Yb.s,Yb.l,Yb.opacity);else{Yb instanceof w||(Yb=X(Yb));var bc=Yb.g/255,hc=Yb.b/255,xc=(sg*hc+Yb.r/255*-1.7884503806-3.5172982438*bc)/(sg+-1.7884503806-3.5172982438);hc-=xc;var gd=(1.97294*(bc-xc)- -.29227*hc)/-.90649;hc=(bc=Math.sqrt(gd*gd+hc*hc)/(1.97294*xc*(1-xc)))?Math.atan2(gd,hc)*rg-120:NaN;Yb=new Qa(0>hc?hc+360:hc,bc,xc,Yb.opacity)}}else Yb=new Qa(na,Na,Ta,null==vb?1:
vb);return Yb}function Qa(na,Na,Ta,vb){this.h=+na;this.s=+Na;this.l=+Ta;this.opacity=+vb}function oa(na,Na,Ta,vb,Yb){var bc=na*na,hc=bc*na;return((1-3*na+3*bc-hc)*Na+(4-6*bc+3*hc)*Ta+(1+3*na+3*bc-3*hc)*vb+hc*Yb)/6}function Y(na){var Na=na.length-1;return function(Ta){var vb=0>=Ta?Ta=0:1<=Ta?(Ta=1,Na-1):Math.floor(Ta*Na),Yb=na[vb],bc=na[vb+1];return oa((Ta-vb/Na)*Na,0<vb?na[vb-1]:2*Yb-bc,Yb,bc,vb<Na-1?na[vb+2]:2*bc-Yb)}}function ja(na){var Na=na.length;return function(Ta){var vb=Math.floor((0>(Ta%=
1)?++Ta:Ta)*Na);return oa((Ta-vb/Na)*Na,na[(vb+Na-1)%Na],na[vb%Na],na[(vb+1)%Na],na[(vb+2)%Na])}}function Ga(na,Na){return function(Ta){return na+Ta*Na}}function Wa(na,Na,Ta){return na=Math.pow(na,Ta),Na=Math.pow(Na,Ta)-na,Ta=1/Ta,function(vb){return Math.pow(na+vb*Na,Ta)}}function cb(na,Na){var Ta=Na-na;return Ta?Ga(na,180<Ta||-180>Ta?Ta-360*Math.round(Ta/360):Ta):Lh(isNaN(na)?Na:na)}function nb(na){return 1===(na=+na)?pb:function(Na,Ta){return Ta-Na?Wa(Na,Ta,na):Lh(isNaN(Na)?Ta:Na)}}function pb(na,
Na){var Ta=Na-na;return Ta?Ga(na,Ta):Lh(isNaN(na)?Na:na)}function Fb(na){return function(Na){var Ta=Na.length,vb=Array(Ta),Yb=Array(Ta),bc=Array(Ta),hc;for(hc=0;hc<Ta;++hc){var xc=P(Na[hc]);vb[hc]=xc.r||0;Yb[hc]=xc.g||0;bc[hc]=xc.b||0}vb=na(vb);Yb=na(Yb);bc=na(bc);xc.opacity=1;return function(gd){xc.r=vb(gd);xc.g=Yb(gd);xc.b=bc(gd);return xc+""}}}function nc(na,Na){Na||(Na=[]);var Ta=na?Math.min(Na.length,na.length):0,vb=Na.slice(),Yb;return function(bc){for(Yb=0;Yb<Ta;++Yb)vb[Yb]=na[Yb]*(1-bc)+Na[Yb]*
bc;return vb}}function Lc(na){return ArrayBuffer.isView(na)&&!(na instanceof DataView)}function Ac(na,Na){var Ta=Na?Na.length:0,vb=na?Math.min(Ta,na.length):0,Yb=Array(vb),bc=Array(Ta),hc;for(hc=0;hc<vb;++hc)Yb[hc]=ac(na[hc],Na[hc]);for(;hc<Ta;++hc)bc[hc]=Na[hc];return function(xc){for(hc=0;hc<vb;++hc)bc[hc]=Yb[hc](xc);return bc}}function yc(na,Na){var Ta=new Date;return na=+na,Na=+Na,function(vb){return Ta.setTime(na*(1-vb)+Na*vb),Ta}}function tc(na,Na){return na=+na,Na=+Na,function(Ta){return na*
(1-Ta)+Na*Ta}}function hd(na,Na){var Ta={},vb={},Yb;if(null===na||"object"!==typeof na)na={};if(null===Na||"object"!==typeof Na)Na={};for(Yb in Na)Yb in na?Ta[Yb]=ac(na[Yb],Na[Yb]):vb[Yb]=Na[Yb];return function(bc){for(Yb in Ta)vb[Yb]=Ta[Yb](bc);return vb}}function Mb(na){return function(){return na}}function Ab(na){return function(Na){return na(Na)+""}}function ec(na,Na){var Ta=Vh.lastIndex=Sh.lastIndex=0,vb,Yb,bc,hc=-1,xc=[],gd=[];na+="";for(Na+="";(vb=Vh.exec(na))&&(Yb=Sh.exec(Na));)(bc=Yb.index)>
Ta&&(bc=Na.slice(Ta,bc),xc[hc]?xc[hc]+=bc:xc[++hc]=bc),(vb=vb[0])===(Yb=Yb[0])?xc[hc]?xc[hc]+=Yb:xc[++hc]=Yb:(xc[++hc]=null,gd.push({i:hc,x:tc(vb,Yb)})),Ta=Sh.lastIndex;Ta<Na.length&&(bc=Na.slice(Ta),xc[hc]?xc[hc]+=bc:xc[++hc]=bc);return 2>xc.length?gd[0]?Ab(gd[0].x):Mb(Na):(Na=gd.length,function(Gd){for(var Ud=0,nd;Ud<Na;++Ud)xc[(nd=gd[Ud]).i]=nd.x(Gd);return xc.join("")})}function ac(na,Na){var Ta=typeof Na,vb;return null==Na||"boolean"===Ta?Lh(Na):("number"===Ta?tc:"string"===Ta?(vb=ba(Na))?(Na=
vb,bh):ec:Na instanceof ba?bh:Na instanceof Date?yc:Lc(Na)?nc:Array.isArray(Na)?Ac:"function"!==typeof Na.valueOf&&"function"!==typeof Na.toString||isNaN(Na)?hd:tc)(na,Na)}function lc(na,Na){return na=+na,Na=+Na,function(Ta){return Math.round(na*(1-Ta)+Na*Ta)}}function Ic(na,Na,Ta,vb,Yb,bc){var hc,xc,gd;if(hc=Math.sqrt(na*na+Na*Na))na/=hc,Na/=hc;if(gd=na*Ta+Na*vb)Ta-=na*gd,vb-=Na*gd;if(xc=Math.sqrt(Ta*Ta+vb*vb))Ta/=xc,vb/=xc,gd/=xc;na*vb<Na*Ta&&(na=-na,Na=-Na,gd=-gd,hc=-hc);return{translateX:Yb,translateY:bc,
rotate:Math.atan2(Na,na)*ef,skewX:Math.atan(gd)*ef,scaleX:hc,scaleY:xc}}function Ec(na,Na,Ta,vb){function Yb(Gd){return Gd.length?Gd.pop()+" ":""}function bc(Gd,Ud,nd,ie,Ue,yf){Gd!==nd||Ud!==ie?(Ue=Ue.push("translate(",null,Na,null,Ta),yf.push({i:Ue-4,x:tc(Gd,nd)},{i:Ue-2,x:tc(Ud,ie)})):(nd||ie)&&Ue.push("translate("+nd+Na+ie+Ta)}function hc(Gd,Ud,nd,ie){Gd!==Ud?(180<Gd-Ud?Ud+=360:180<Ud-Gd&&(Gd+=360),ie.push({i:nd.push(Yb(nd)+"rotate(",null,vb)-2,x:tc(Gd,Ud)})):Ud&&nd.push(Yb(nd)+"rotate("+Ud+vb)}
function xc(Gd,Ud,nd,ie){Gd!==Ud?ie.push({i:nd.push(Yb(nd)+"skewX(",null,vb)-2,x:tc(Gd,Ud)}):Ud&&nd.push(Yb(nd)+"skewX("+Ud+vb)}function gd(Gd,Ud,nd,ie,Ue,yf){Gd!==nd||Ud!==ie?(Ue=Ue.push(Yb(Ue)+"scale(",null,",",null,")"),yf.push({i:Ue-4,x:tc(Gd,nd)},{i:Ue-2,x:tc(Ud,ie)})):1===nd&&1===ie||Ue.push(Yb(Ue)+"scale("+nd+","+ie+")")}return function(Gd,Ud){var nd=[],ie=[];Gd=na(Gd);Ud=na(Ud);bc(Gd.translateX,Gd.translateY,Ud.translateX,Ud.translateY,nd,ie);hc(Gd.rotate,Ud.rotate,nd,ie);xc(Gd.skewX,Ud.skewX,
nd,ie);gd(Gd.scaleX,Gd.scaleY,Ud.scaleX,Ud.scaleY,nd,ie);Gd=Ud=null;return function(Ue){for(var yf=-1,Ge=ie.length,ag;++yf<Ge;)nd[(ag=ie[yf]).i]=ag.x(Ue);return nd.join("")}}}function Rc(na){return((na=Math.exp(na))+1/na)/2}function id(na){return function(Na,Ta){var vb=na((Na=la(Na)).h,(Ta=la(Ta)).h),Yb=pb(Na.s,Ta.s),bc=pb(Na.l,Ta.l),hc=pb(Na.opacity,Ta.opacity);return function(xc){Na.h=vb(xc);Na.s=Yb(xc);Na.l=bc(xc);Na.opacity=hc(xc);return Na+""}}}function Td(na){return function(Na,Ta){var vb=na((Na=
Ha(Na)).h,(Ta=Ha(Ta)).h),Yb=pb(Na.c,Ta.c),bc=pb(Na.l,Ta.l),hc=pb(Na.opacity,Ta.opacity);return function(xc){Na.h=vb(xc);Na.c=Yb(xc);Na.l=bc(xc);Na.opacity=hc(xc);return Na+""}}}function Ea(na){return function vb(Ta){function Yb(bc,hc){var xc=na((bc=ta(bc)).h,(hc=ta(hc)).h),gd=pb(bc.s,hc.s),Gd=pb(bc.l,hc.l),Ud=pb(bc.opacity,hc.opacity);return function(nd){bc.h=xc(nd);bc.s=gd(nd);bc.l=Gd(Math.pow(nd,Ta));bc.opacity=Ud(nd);return bc+""}}Ta=+Ta;Yb.gamma=vb;return Yb}(1)}function za(na,Na){void 0===Na&&
(Na=na,na=ac);for(var Ta=0,vb=Na.length-1,Yb=Na[0],bc=Array(0>vb?0:vb);Ta<vb;)bc[Ta]=na(Yb,Yb=Na[++Ta]);return function(hc){var xc=Math.max(0,Math.min(vb-1,Math.floor(hc*=vb)));return bc[xc](hc-xc)}}function Fa(na){return function(){return na}}function bb(na){return+na}function lb(na){return na}function zb(na,Na){return(Na-=na=+na)?function(Ta){return(Ta-na)/Na}:Fa(isNaN(Na)?NaN:.5)}function Tb(na,Na){if(na>Na){var Ta=na;na=Na;Na=Ta}return function(vb){return Math.max(na,Math.min(Na,vb))}}function Ub(na,
Na,Ta){var vb=na[0];na=na[1];var Yb=Na[0];Na=Na[1];na<vb?(vb=zb(na,vb),Yb=Ta(Na,Yb)):(vb=zb(vb,na),Yb=Ta(Yb,Na));return function(bc){return Yb(vb(bc))}}function $b(na,Na,Ta){var vb=Math.min(na.length,Na.length)-1,Yb=Array(vb),bc=Array(vb),hc=-1;na[vb]<na[0]&&(na=na.slice().reverse(),Na=Na.slice().reverse());for(;++hc<vb;)Yb[hc]=zb(na[hc],na[hc+1]),bc[hc]=Ta(Na[hc],Na[hc+1]);return function(xc){var gd=fb(na,xc,1,vb)-1;return bc[gd](Yb[gd](xc))}}function Dc(na,Na){return Na.domain(na.domain()).range(na.range()).interpolate(na.interpolate()).clamp(na.clamp()).unknown(na.unknown())}
function dd(){function na(){var ie=Math.min(Ta.length,vb.length);gd!==lb&&(gd=Tb(Ta[0],Ta[ie-1]));Gd=2<ie?$b:Ub;Ud=nd=null;return Na}function Na(ie){return null==ie||isNaN(ie=+ie)?xc:(Ud||(Ud=Gd(Ta.map(bc),vb,Yb)))(bc(gd(ie)))}var Ta=vf,vb=vf,Yb=ac,bc,hc,xc,gd=lb,Gd,Ud,nd;Na.invert=function(ie){return gd(hc((nd||(nd=Gd(vb,Ta.map(bc),tc)))(ie)))};Na.domain=function(ie){return arguments.length?(Ta=Array.from(ie,bb),na()):Ta.slice()};Na.range=function(ie){return arguments.length?(vb=Array.from(ie),na()):
vb.slice()};Na.rangeRound=function(ie){return vb=Array.from(ie),Yb=lc,na()};Na.clamp=function(ie){return arguments.length?(gd=ie?!0:lb,na()):gd!==lb};Na.interpolate=function(ie){return arguments.length?(Yb=ie,na()):Yb};Na.unknown=function(ie){return arguments.length?(xc=ie,Na):xc};return function(ie,Ue){bc=ie;hc=Ue;return na()}}function fd(na,Na){if(0>(Na=(na=Na?na.toExponential(Na-1):na.toExponential()).indexOf("e")))return null;var Ta=na.slice(0,Na);return[1<Ta.length?Ta[0]+Ta.slice(2):Ta,+na.slice(Na+
1)]}function od(na){return na=fd(Math.abs(na)),na?na[1]:NaN}function sd(na,Na){return function(Ta,vb){for(var Yb=Ta.length,bc=[],hc=0,xc=na[0],gd=0;0<Yb&&0<xc;){gd+xc+1>vb&&(xc=Math.max(1,vb-gd));bc.push(Ta.substring(Yb-=xc,Yb+xc));if((gd+=xc+1)>vb)break;xc=na[hc=(hc+1)%na.length]}return bc.reverse().join(Na)}}function Kd(na){return function(Na){return Na.replace(/[0-9]/g,function(Ta){return na[+Ta]})}}function Od(na){if(!(Na=Zf.exec(na)))throw Error("invalid format: "+na);var Na;return new ae({fill:Na[1],
align:Na[2],sign:Na[3],symbol:Na[4],zero:Na[5],width:Na[6],comma:Na[7],precision:Na[8]&&Na[8].slice(1),trim:Na[9],type:Na[10]})}function ae(na){this.fill=void 0===na.fill?" ":na.fill+"";this.align=void 0===na.align?"\x3e":na.align+"";this.sign=void 0===na.sign?"-":na.sign+"";this.symbol=void 0===na.symbol?"":na.symbol+"";this.zero=!!na.zero;this.width=void 0===na.width?void 0:+na.width;this.comma=!!na.comma;this.precision=void 0===na.precision?void 0:+na.precision;this.trim=!!na.trim;this.type=void 0===
na.type?"":na.type+""}function de(na,Na){Na=fd(na,Na);if(!Na)return na+"";na=Na[0];Na=Na[1];return 0>Na?"0."+Array(-Na).join("0")+na:na.length>Na+1?na.slice(0,Na+1)+"."+na.slice(Na+1):na+Array(Na-na.length+2).join("0")}function je(na){return na}function qd(na){function Na(Ud){function nd(ne){var Pe=gf,oe=yg,wf,Ug;if("c"===Qg)oe=Zh(ne)+oe,ne="";else{ne=+ne;var bg=0>ne||0>1/ne;ne=isNaN(ne)?Gd:Zh(Math.abs(ne),sh);if(Nh){var lh=ne.length,bi=1,Jh=-1;a:for(;bi<lh;++bi)switch(ne[bi]){case ".":Jh=wf=bi;break;
case "0":0===Jh&&(Jh=bi);wf=bi;break;default:if(!+ne[bi])break a;0<Jh&&(Jh=0)}ne=0<Jh?ne.slice(0,Jh)+ne.slice(wf+1):ne}bg&&0===+ne&&"+"!==yf&&(bg=!1);Pe=(bg?"("===yf?yf:gd:"-"===yf||"("===yf?"":yf)+Pe;oe=("s"===Qg?Lb[8+Ba/3]:"")+oe+(bg&&"("===yf?")":"");if(Le)for(bg=-1,wf=ne.length;++bg<wf;)if(Ug=ne.charCodeAt(bg),48>Ug||57<Ug){oe=(46===Ug?bc+ne.slice(bg+1):ne.slice(bg))+oe;ne=ne.slice(0,bg);break}}Ke&&!ag&&(ne=Ta(ne,Infinity));Ug=Pe.length+ne.length+oe.length;bg=Ug<Pg?Array(Pg-Ug+1).join(ie):"";
Ke&&ag&&(ne=Ta(bg+ne,bg.length?Pg-oe.length:Infinity),bg="");switch(Ue){case "\x3c":ne=Pe+ne+oe+bg;break;case "\x3d":ne=Pe+bg+ne+oe;break;case "^":ne=bg.slice(0,Ug=bg.length>>1)+Pe+ne+oe+bg.slice(Ug);break;default:ne=bg+Pe+ne+oe}return hc(ne)}Ud=Od(Ud);var ie=Ud.fill,Ue=Ud.align,yf=Ud.sign,Ge=Ud.symbol,ag=Ud.zero,Pg=Ud.width,Ke=Ud.comma,sh=Ud.precision,Nh=Ud.trim,Qg=Ud.type;"n"===Qg?(Ke=!0,Qg="g"):db[Qg]||(void 0===sh&&(sh=12),Nh=!0,Qg="g");if(ag||"0"===ie&&"\x3d"===Ue)ag=!0,ie="0",Ue="\x3d";var gf=
"$"===Ge?vb:"#"===Ge&&/[boxX]/.test(Qg)?"0"+Qg.toLowerCase():"",yg="$"===Ge?Yb:/[%p]/.test(Qg)?xc:"",Zh=db[Qg],Le=/[defgprs%]/.test(Qg);sh=void 0===sh?6:/[gprs]/.test(Qg)?Math.max(1,Math.min(21,sh)):Math.max(0,Math.min(20,sh));nd.toString=function(){return Ud+""};return nd}var Ta=void 0===na.grouping||void 0===na.thousands?je:sd(wb.call(na.grouping,Number),na.thousands+""),vb=void 0===na.currency?"":na.currency[0]+"",Yb=void 0===na.currency?"":na.currency[1]+"",bc=void 0===na.decimal?".":na.decimal+
"",hc=void 0===na.numerals?je:Kd(wb.call(na.numerals,String)),xc=void 0===na.percent?"%":na.percent+"",gd=void 0===na.minus?"":na.minus+"",Gd=void 0===na.nan?"NaN":na.nan+"";return{format:Na,formatPrefix:function(Ud,nd){var ie=Na((Ud=Od(Ud),Ud.type="f",Ud));Ud=3*Math.max(-8,Math.min(8,Math.floor(od(nd)/3)));var Ue=Math.pow(10,-Ud),yf=Lb[8+Ud/3];return function(Ge){return ie(Ue*Ge)+yf}}}}function bf(na,Na,Ta,vb){Ta=u(na,Na,Ta);vb=Od(null==vb?",f":vb);switch(vb.type){case "s":na=Math.max(Math.abs(na),
Math.abs(Na));if(Na=null==vb.precision){var Yb=isNaN;Ta=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(od(na)/3)))-od(Math.abs(Ta)));Na=!Yb(Yb=Ta)}Na&&(vb.precision=Yb);return Nc(vb,na);case "":case "e":case "g":case "p":case "r":var bc;if(bc=null==vb.precision)Yb=isNaN,na=Math.max(Math.abs(na),Math.abs(Na)),Ta=Math.abs(Ta),na=Math.abs(na)-Ta,Ta=Math.max(0,od(na)-od(Ta))+1,bc=!Yb(Yb=Ta);bc&&(vb.precision=Yb-("e"===vb.type));break;case "f":case "%":null!=vb.precision||isNaN(Yb=Math.max(0,-od(Math.abs(Ta))))||
(vb.precision=Yb-2*("%"===vb.type))}return rc(vb)}function Ye(na){var Na=na.domain;na.ticks=function(Ta){var vb=Na();return m(vb[0],vb[vb.length-1],null==Ta?10:Ta)};na.tickFormat=function(Ta,vb){var Yb=Na();return bf(Yb[0],Yb[Yb.length-1],null==Ta?10:Ta,vb)};na.nice=function(Ta){null==Ta&&(Ta=10);var vb=Na(),Yb=0,bc=vb.length-1,hc=vb[Yb],xc=vb[bc],gd=10;if(xc<hc){var Gd=hc;hc=xc;xc=Gd;Gd=Yb;Yb=bc;bc=Gd}for(;0<gd--;){Gd=z(hc,xc,Ta);if(Gd===Ud)return vb[Yb]=hc,vb[bc]=xc,Na(vb);if(0<Gd)hc=Math.floor(hc/
Gd)*Gd,xc=Math.ceil(xc/Gd)*Gd;else if(0>Gd)hc=Math.ceil(hc*Gd)/Gd,xc=Math.floor(xc*Gd)/Gd;else break;var Ud=Gd}return na};return na}function pe(){var na=dd()(lb,lb);na.copy=function(){return Dc(na,pe())};A.apply(na,arguments);return Ye(na)}function ve(na){function Na(vb){return null==vb||isNaN(vb=+vb)?Ta:vb}var Ta;Na.invert=Na;Na.domain=Na.range=function(vb){return arguments.length?(na=Array.from(vb,bb),Na):na.slice()};Na.unknown=function(vb){return arguments.length?(Ta=vb,Na):Ta};Na.copy=function(){return ve(na).unknown(Ta)};
na=arguments.length?Array.from(na,bb):[0,1];return Ye(Na)}function Ca(na,Na){na=na.slice();var Ta=0,vb=na.length-1,Yb=na[Ta],bc=na[vb];if(bc<Yb){var hc=Ta;Ta=vb;vb=hc;hc=Yb;Yb=bc;bc=hc}na[Ta]=Na.floor(Yb);na[vb]=Na.ceil(bc);return na}function Ya(na){return Math.log(na)}function tb(na){return Math.exp(na)}function Kb(na){return-Math.log(-na)}function dc(na){return-Math.exp(-na)}function mc(na){return isFinite(na)?+("1e"+na):0>na?0:na}function Jc(na){return 10===na?mc:na===Math.E?Math.exp:Na=>Math.pow(na,
Na)}function Gc(na){return na===Math.E?Math.log:10===na&&Math.log10||2===na&&Math.log2||(na=Math.log(na),Na=>Math.log(Na)/na)}function jc(na){return(Na,Ta)=>-na(-Na,Ta)}function bd(na){function Na(){bc=Gc(Yb);hc=Jc(Yb);0>vb()[0]?(bc=jc(bc),hc=jc(hc),na(Kb,dc)):na(Ya,tb);return Ta}const Ta=na(Ya,tb),vb=Ta.domain;let Yb=10,bc,hc;Ta.base=function(xc){return arguments.length?(Yb=+xc,Na()):Yb};Ta.domain=function(xc){return arguments.length?(vb(xc),Na()):vb()};Ta.ticks=xc=>{var gd=vb();let Gd=gd[0];gd=
gd[gd.length-1];const Ud=gd<Gd;Ud&&([Gd,gd]=[gd,Gd]);let nd=bc(Gd),ie=bc(gd),Ue;const yf=null==xc?10:+xc;let Ge=[];if(!(Yb%1)&&ie-nd<yf){nd=Math.floor(nd);ie=Math.ceil(ie);if(0<Gd)for(;nd<=ie;++nd)for(xc=1;xc<Yb;++xc){if(Ue=0>nd?xc/hc(-nd):xc*hc(nd),!(Ue<Gd)){if(Ue>gd)break;Ge.push(Ue)}}else for(;nd<=ie;++nd)for(xc=Yb-1;1<=xc;--xc)if(Ue=0<nd?xc/hc(-nd):xc*hc(nd),!(Ue<Gd)){if(Ue>gd)break;Ge.push(Ue)}2*Ge.length<yf&&(Ge=m(Gd,gd,yf))}else Ge=m(nd,ie,Math.min(ie-nd,yf)).map(hc);return Ud?Ge.reverse():
Ge};Ta.tickFormat=(xc,gd)=>{null==xc&&(xc=10);null==gd&&(gd=10===Yb?"s":",");"function"!==typeof gd&&(Yb%1||null!=(gd=Od(gd)).precision||(gd.trim=!0),gd=rc(gd));if(Infinity===xc)return gd;const Gd=Math.max(1,Yb*xc/Ta.ticks().length);return Ud=>{let nd=Ud/hc(Math.round(bc(Ud)));nd*Yb<Yb-.5&&(nd*=Yb);return nd<=Gd?gd(Ud):""}};Ta.nice=()=>vb(Ca(vb(),{floor:xc=>hc(Math.floor(bc(xc))),ceil:xc=>hc(Math.ceil(bc(xc)))}));return Ta}function md(){const na=bd(dd()).domain([1,10]);na.copy=()=>Dc(na,md()).base(na.base());
A.apply(na,arguments);return na}function Ed(na){return function(Na){return Math.sign(Na)*Math.log1p(Math.abs(Na/na))}}function Nd(na){return function(Na){return Math.sign(Na)*Math.expm1(Math.abs(Na))*na}}function Pd(na){var Na=1,Ta=na(Ed(Na),Nd(Na));Ta.constant=function(vb){return arguments.length?na(Ed(Na=+vb),Nd(Na)):Na};return Ye(Ta)}function ee(){var na=Pd(dd());na.copy=function(){return Dc(na,ee()).constant(na.constant())};return A.apply(na,arguments)}function Ce(na){return function(Na){return 0>
Na?-Math.pow(-Na,na):Math.pow(Na,na)}}function ue(na){return 0>na?-Math.sqrt(-na):Math.sqrt(na)}function Df(na){return 0>na?-na*na:na*na}function Be(na){var Na=na(lb,lb),Ta=1;Na.exponent=function(vb){return arguments.length?(Ta=+vb,1===Ta?na(lb,lb):.5===Ta?na(ue,Df):na(Ce(Ta),Ce(1/Ta))):Ta};return Ye(Na)}function Me(){var na=Be(dd());na.copy=function(){return Dc(na,Me()).exponent(na.exponent())};A.apply(na,arguments);return na}function kf(){function na(){var hc=0,xc=Math.max(1,vb.length);for(Yb=Array(xc-
1);++hc<xc;)Yb[hc-1]=C(Ta,hc/xc);return Na}function Na(hc){return null==hc||isNaN(hc=+hc)?bc:vb[fb(Yb,hc)]}var Ta=[],vb=[],Yb=[],bc;Na.invertExtent=function(hc){hc=vb.indexOf(hc);return 0>hc?[NaN,NaN]:[0<hc?Yb[hc-1]:Ta[0],hc<Yb.length?Yb[hc]:Ta[Ta.length-1]]};Na.domain=function(hc){if(!arguments.length)return Ta.slice();Ta=[];for(let xc of hc)null==xc||isNaN(xc=+xc)||Ta.push(xc);Ta.sort(k);return na()};Na.range=function(hc){return arguments.length?(vb=Array.from(hc),na()):vb.slice()};Na.unknown=function(hc){return arguments.length?
(bc=hc,Na):bc};Na.quantiles=function(){return Yb.slice()};Na.copy=function(){return kf().domain(Ta).range(vb).unknown(bc)};return A.apply(Na,arguments)}function Sb(){function na(gd){return null!=gd&&gd<=gd?hc[fb(bc,gd,0,Yb)]:xc}function Na(){var gd=-1;for(bc=Array(Yb);++gd<Yb;)bc[gd]=((gd+1)*vb-(gd-Yb)*Ta)/(Yb+1);return na}var Ta=0,vb=1,Yb=1,bc=[.5],hc=[0,1],xc;na.domain=function(gd){return arguments.length?([Ta,vb]=gd,Ta=+Ta,vb=+vb,Na()):[Ta,vb]};na.range=function(gd){return arguments.length?(Yb=
(hc=Array.from(gd)).length-1,Na()):hc.slice()};na.invertExtent=function(gd){gd=hc.indexOf(gd);return 0>gd?[NaN,NaN]:1>gd?[Ta,bc[0]]:gd>=Yb?[bc[Yb-1],vb]:[bc[gd-1],bc[gd]]};na.unknown=function(gd){return arguments.length?(xc=gd,na):na};na.thresholds=function(){return bc.slice()};na.copy=function(){return Sb().domain([Ta,vb]).range(hc).unknown(xc)};return A.apply(Ye(na),arguments)}function qc(){function na(bc){return null!=bc&&bc<=bc?Ta[fb(Na,bc,0,Yb)]:vb}var Na=[.5],Ta=[0,1],vb,Yb=1;na.domain=function(bc){return arguments.length?
(Na=Array.from(bc),Yb=Math.min(Na.length,Ta.length-1),na):Na.slice()};na.range=function(bc){return arguments.length?(Ta=Array.from(bc),Yb=Math.min(Na.length,Ta.length-1),na):Ta.slice()};na.invertExtent=function(bc){bc=Ta.indexOf(bc);return[Na[bc-1],Na[bc]]};na.unknown=function(bc){return arguments.length?(vb=bc,na):vb};na.copy=function(){return qc().domain(Na).range(Ta).unknown(vb)};return A.apply(na,arguments)}function Vc(na,Na,Ta,vb){function Yb(bc){return na(bc=0===arguments.length?new Date:new Date(+bc)),
bc}Yb.floor=function(bc){return na(bc=new Date(+bc)),bc};Yb.ceil=function(bc){return na(bc=new Date(bc-1)),Na(bc,1),na(bc),bc};Yb.round=function(bc){var hc=Yb(bc),xc=Yb.ceil(bc);return bc-hc<xc-bc?hc:xc};Yb.offset=function(bc,hc){return Na(bc=new Date(+bc),null==hc?1:Math.floor(hc)),bc};Yb.range=function(bc,hc,xc){var gd=[],Gd;bc=Yb.ceil(bc);xc=null==xc?1:Math.floor(xc);if(!(bc<hc&&0<xc))return gd;do gd.push(Gd=new Date(+bc)),Na(bc,xc),na(bc);while(Gd<bc&&bc<hc);return gd};Yb.filter=function(bc){return Vc(function(hc){if(hc>=
hc)for(;na(hc),!bc(hc);)hc.setTime(hc-1)},function(hc,xc){if(hc>=hc)if(0>xc)for(;0>=++xc;)for(;Na(hc,-1),!bc(hc););else for(;0<=--xc;)for(;Na(hc,1),!bc(hc););})};Ta&&(Yb.count=function(bc,hc){xa.setTime(+bc);Ra.setTime(+hc);na(xa);na(Ra);return Math.floor(Ta(xa,Ra))},Yb.every=function(bc){bc=Math.floor(bc);return isFinite(bc)&&0<bc?1<bc?Yb.filter(vb?function(hc){return 0===vb(hc)%bc}:function(hc){return 0===Yb.count(0,hc)%bc}):Yb:null});return Yb}function Bd(na){return Vc(function(Na){Na.setDate(Na.getDate()-
(Na.getDay()+7-na)%7);Na.setHours(0,0,0,0)},function(Na,Ta){Na.setDate(Na.getDate()+7*Ta)},function(Na,Ta){return(Ta-Na-6E4*(Ta.getTimezoneOffset()-Na.getTimezoneOffset()))/fc})}function Hd(na){return Vc(function(Na){Na.setUTCDate(Na.getUTCDate()-(Na.getUTCDay()+7-na)%7);Na.setUTCHours(0,0,0,0)},function(Na,Ta){Na.setUTCDate(Na.getUTCDate()+7*Ta)},function(Na,Ta){return(Ta-Na)/fc})}function me(na,Na,Ta,vb,Yb,bc){function hc(gd,Gd,Ud){const nd=Math.abs(Gd-gd)/Ud,ie=f(([,,Ge])=>Ge).right(xc,nd);if(ie===
xc.length)return na.every(u(gd/$c,Gd/$c,Ud));if(0===ie)return rb.every(Math.max(u(gd,Gd,Ud),1));const [Ue,yf]=xc[nd/xc[ie-1][2]<xc[ie][2]/nd?ie-1:ie];return Ue.every(yf)}const xc=[[xd,1,1E3],[xd,5,5E3],[xd,15,15E3],[xd,30,3E4],[bc,1,6E4],[bc,5,3E5],[bc,15,9E5],[bc,30,18E5],[Yb,1,36E5],[Yb,3,108E5],[Yb,6,216E5],[Yb,12,432E5],[vb,1,864E5],[vb,2,1728E5],[Ta,1,fc],[Na,1,Oc],[Na,3,3*Oc],[na,1,$c]];return[function(gd,Gd,Ud){const nd=Gd<gd;nd&&([gd,Gd]=[Gd,gd]);gd=(Ud=Ud&&"function"===typeof Ud.range?Ud:
hc(gd,Gd,Ud))?Ud.range(gd,+Gd+1):[];return nd?gd.reverse():gd},hc]}function $e(na){if(0<=na.y&&100>na.y){var Na=new Date(-1,na.m,na.d,na.H,na.M,na.S,na.L);Na.setFullYear(na.y);return Na}return new Date(na.y,na.m,na.d,na.H,na.M,na.S,na.L)}function Qf(na){if(0<=na.y&&100>na.y){var Na=new Date(Date.UTC(-1,na.m,na.d,na.H,na.M,na.S,na.L));Na.setUTCFullYear(na.y);return Na}return new Date(Date.UTC(na.y,na.m,na.d,na.H,na.M,na.S,na.L))}function Af(na,Na,Ta){return{y:na,m:Na,d:Ta,H:0,M:0,S:0,L:0}}function If(na){function Na(Le,
ne){return function(Pe){var oe=[],wf=-1,Ug=0,bg=Le.length,lh,bi;for(Pe instanceof Date||(Pe=new Date(+Pe));++wf<bg;)if(37===Le.charCodeAt(wf)){oe.push(Le.slice(Ug,wf));null!=(Ug=Sg[lh=Le.charAt(++wf)])?lh=Le.charAt(++wf):Ug="e"===lh?" ":"0";if(bi=ne[lh])lh=bi(Pe,Ug);oe.push(lh);Ug=wf+1}oe.push(Le.slice(Ug,wf));return oe.join("")}}function Ta(Le,ne){return function(Pe){var oe=Af(1900,void 0,1);if(vb(oe,Le,Pe+="",0)!=Pe.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(1E3*
oe.s+("L"in oe?oe.L:0));!ne||"Z"in oe||(oe.Z=0);"p"in oe&&(oe.H=oe.H%12+12*oe.p);void 0===oe.m&&(oe.m="q"in oe?oe.q:0);if("V"in oe){if(1>oe.V||53<oe.V)return null;"w"in oe||(oe.w=1);if("Z"in oe){Pe=Qf(Af(oe.y,0,1));var wf=Pe.getUTCDay();Pe=4<wf||0===wf?Bh.ceil(Pe):Bh(Pe);Pe=nf.offset(Pe,7*(oe.V-1));oe.y=Pe.getUTCFullYear();oe.m=Pe.getUTCMonth();oe.d=Pe.getUTCDate()+(oe.w+6)%7}else Pe=$e(Af(oe.y,0,1)),wf=Pe.getDay(),Pe=4<wf||0===wf?uf.ceil(Pe):uf(Pe),Pe=Cd.offset(Pe,7*(oe.V-1)),oe.y=Pe.getFullYear(),
oe.m=Pe.getMonth(),oe.d=Pe.getDate()+(oe.w+6)%7}else if("W"in oe||"U"in oe)"w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),wf="Z"in oe?Qf(Af(oe.y,0,1)).getUTCDay():$e(Af(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+7*oe.W-(wf+5)%7:oe.w+7*oe.U-(wf+6)%7;return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Qf(oe)):$e(oe)}}function vb(Le,ne,Pe,oe){for(var wf=0,Ug=ne.length,bg=Pe.length,lh;wf<Ug;){if(oe>=bg)return-1;lh=ne.charCodeAt(wf++);if(37===lh){if(lh=ne.charAt(wf++),lh=Zh[lh in Sg?ne.charAt(wf++):
lh],!lh||0>(oe=lh(Le,Pe,oe)))return-1}else if(lh!=Pe.charCodeAt(oe++))return-1}return oe}var Yb=na.dateTime,bc=na.date,hc=na.time,xc=na.periods,gd=na.days,Gd=na.shortDays,Ud=na.months,nd=na.shortMonths,ie=Zb(xc),Ue=Sc(xc),yf=Zb(gd),Ge=Sc(gd),ag=Zb(Gd),Pg=Sc(Gd),Ke=Zb(Ud),sh=Sc(Ud),Nh=Zb(nd),Qg=Sc(nd),gf={a:function(Le){return Gd[Le.getDay()]},A:function(Le){return gd[Le.getDay()]},b:function(Le){return nd[Le.getMonth()]},B:function(Le){return Ud[Le.getMonth()]},c:null,d:Cc,e:Cc,f:Yc,g:kc,G:Bc,H:zc,
I:oc,j:Fc,L:Mc,m:mb,M:Gb,p:function(Le){return xc[+(12<=Le.getHours())]},q:function(Le){return 1+~~(Le.getMonth()/3)},Q:Zg,s:cg,S:Pb,u:Vb,U:ma,V:ib,w:Eb,W:Ib,x:null,X:null,y:Nb,Y:Kc,Z:wc,"%":ug},yg={a:function(Le){return Gd[Le.getUTCDay()]},A:function(Le){return gd[Le.getUTCDay()]},b:function(Le){return nd[Le.getUTCMonth()]},B:function(Le){return Ud[Le.getUTCMonth()]},c:null,d:ld,e:ld,f:se,g:Vg,G:Ie,H:wd,I:Fe,j:Fd,L:he,m:td,M:Dd,p:function(Le){return xc[+(12<=Le.getUTCHours())]},q:function(Le){return 1+
~~(Le.getUTCMonth()/3)},Q:Zg,s:cg,S:fe,u:qe,U:Ad,V:Se,w:hf,W:Bf,x:null,X:null,y:Cf,Y:Yd,Z:qg,"%":ug},Zh={a:function(Le,ne,Pe){return(ne=ag.exec(ne.slice(Pe)))?(Le.w=Pg.get(ne[0].toLowerCase()),Pe+ne[0].length):-1},A:function(Le,ne,Pe){return(ne=yf.exec(ne.slice(Pe)))?(Le.w=Ge.get(ne[0].toLowerCase()),Pe+ne[0].length):-1},b:function(Le,ne,Pe){return(ne=Nh.exec(ne.slice(Pe)))?(Le.m=Qg.get(ne[0].toLowerCase()),Pe+ne[0].length):-1},B:function(Le,ne,Pe){return(ne=Ke.exec(ne.slice(Pe)))?(Le.m=sh.get(ne[0].toLowerCase()),
Pe+ne[0].length):-1},c:function(Le,ne,Pe){return vb(Le,Yb,ne,Pe)},d:Xb,e:Xb,f:Wb,g:cf,G:Qe,H:Oa,I:Oa,j:ha,L:Cb,m:Ia,M:$a,p:function(Le,ne,Pe){return(ne=ie.exec(ne.slice(Pe)))?(Le.p=Ue.get(ne[0].toLowerCase()),Pe+ne[0].length):-1},q:jb,Q:Uc,s:Xc,S:ub,u:ke,U:Rd,V:Sd,w:ce,W:Qd,x:function(Le,ne,Pe){return vb(Le,bc,ne,Pe)},X:function(Le,ne,Pe){return vb(Le,hc,ne,Pe)},y:cf,Y:Qe,Z:ra,"%":sc};gf.x=Na(bc,gf);gf.X=Na(hc,gf);gf.c=Na(Yb,gf);yg.x=Na(bc,yg);yg.X=Na(hc,yg);yg.c=Na(Yb,yg);return{format:function(Le){var ne=
Na(Le+="",gf);ne.toString=function(){return Le};return ne},parse:function(Le){var ne=Ta(Le+="",!1);ne.toString=function(){return Le};return ne},utcFormat:function(Le){var ne=Na(Le+="",yg);ne.toString=function(){return Le};return ne},utcParse:function(Le){var ne=Ta(Le+="",!0);ne.toString=function(){return Le};return ne}}}function Ne(na,Na,Ta){var vb=0>na?"-":"";na=(vb?-na:na)+"";var Yb=na.length;return vb+(Yb<Ta?Array(Ta-Yb+1).join(Na)+na:na)}function Bb(na){return na.replace(Ch,"\\$\x26")}function Zb(na){return new RegExp("^(?:"+
na.map(Bb).join("|")+")","i")}function Sc(na){return new Map(na.map((Na,Ta)=>[Na.toLowerCase(),Ta]))}function ce(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+1)))?(na.w=+Na[0],Ta+Na[0].length):-1}function ke(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+1)))?(na.u=+Na[0],Ta+Na[0].length):-1}function Rd(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.U=+Na[0],Ta+Na[0].length):-1}function Sd(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.V=+Na[0],Ta+Na[0].length):-1}function Qd(na,Na,Ta){return(Na=
Ng.exec(Na.slice(Ta,Ta+2)))?(na.W=+Na[0],Ta+Na[0].length):-1}function Qe(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+4)))?(na.y=+Na[0],Ta+Na[0].length):-1}function cf(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.y=+Na[0]+(68<+Na[0]?1900:2E3),Ta+Na[0].length):-1}function ra(na,Na,Ta){return(Na=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Na.slice(Ta,Ta+6)))?(na.Z=Na[1]?0:-(Na[2]+(Na[3]||"00")),Ta+Na[0].length):-1}function jb(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+1)))?(na.q=3*Na[0]-3,Ta+Na[0].length):
-1}function Ia(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.m=Na[0]-1,Ta+Na[0].length):-1}function Xb(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.d=+Na[0],Ta+Na[0].length):-1}function ha(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+3)))?(na.m=0,na.d=+Na[0],Ta+Na[0].length):-1}function Oa(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.H=+Na[0],Ta+Na[0].length):-1}function $a(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+2)))?(na.M=+Na[0],Ta+Na[0].length):-1}function ub(na,Na,Ta){return(Na=
Ng.exec(Na.slice(Ta,Ta+2)))?(na.S=+Na[0],Ta+Na[0].length):-1}function Cb(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+3)))?(na.L=+Na[0],Ta+Na[0].length):-1}function Wb(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta,Ta+6)))?(na.L=Math.floor(Na[0]/1E3),Ta+Na[0].length):-1}function sc(na,Na,Ta){return(na=lg.exec(Na.slice(Ta,Ta+1)))?Ta+na[0].length:-1}function Uc(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta)))?(na.Q=+Na[0],Ta+Na[0].length):-1}function Xc(na,Na,Ta){return(Na=Ng.exec(Na.slice(Ta)))?(na.s=+Na[0],Ta+Na[0].length):
-1}function Cc(na,Na){return Ne(na.getDate(),Na,2)}function zc(na,Na){return Ne(na.getHours(),Na,2)}function oc(na,Na){return Ne(na.getHours()%12||12,Na,2)}function Fc(na,Na){return Ne(1+Cd.count(pg(na),na),Na,3)}function Mc(na,Na){return Ne(na.getMilliseconds(),Na,3)}function Yc(na,Na){return Mc(na,Na)+"000"}function mb(na,Na){return Ne(na.getMonth()+1,Na,2)}function Gb(na,Na){return Ne(na.getMinutes(),Na,2)}function Pb(na,Na){return Ne(na.getSeconds(),Na,2)}function Vb(na){na=na.getDay();return 0===
na?7:na}function ma(na,Na){return Ne(Ae.count(pg(na)-1,na),Na,2)}function Ka(na){var Na=na.getDay();return 4<=Na||0===Na?Je(na):Je.ceil(na)}function ib(na,Na){na=Ka(na);return Ne(Je.count(pg(na),na)+(4===pg(na).getDay()),Na,2)}function Eb(na){return na.getDay()}function Ib(na,Na){return Ne(uf.count(pg(na)-1,na),Na,2)}function Nb(na,Na){return Ne(na.getFullYear()%100,Na,2)}function kc(na,Na){na=Ka(na);return Ne(na.getFullYear()%100,Na,2)}function Kc(na,Na){return Ne(na.getFullYear()%1E4,Na,4)}function Bc(na,
Na){var Ta=na.getDay();na=4<=Ta||0===Ta?Je(na):Je.ceil(na);return Ne(na.getFullYear()%1E4,Na,4)}function wc(na){na=na.getTimezoneOffset();return(0<na?"-":(na*=-1,"+"))+Ne(na/60|0,"0",2)+Ne(na%60,"0",2)}function ld(na,Na){return Ne(na.getUTCDate(),Na,2)}function wd(na,Na){return Ne(na.getUTCHours(),Na,2)}function Fe(na,Na){return Ne(na.getUTCHours()%12||12,Na,2)}function Fd(na,Na){return Ne(1+nf.count(Tg(na),na),Na,3)}function he(na,Na){return Ne(na.getUTCMilliseconds(),Na,3)}function se(na,Na){return he(na,
Na)+"000"}function td(na,Na){return Ne(na.getUTCMonth()+1,Na,2)}function Dd(na,Na){return Ne(na.getUTCMinutes(),Na,2)}function fe(na,Na){return Ne(na.getUTCSeconds(),Na,2)}function qe(na){na=na.getUTCDay();return 0===na?7:na}function Ad(na,Na){return Ne(xf.count(Tg(na)-1,na),Na,2)}function We(na){var Na=na.getUTCDay();return 4<=Na||0===Na?hg(na):hg.ceil(na)}function Se(na,Na){na=We(na);return Ne(hg.count(Tg(na),na)+(4===Tg(na).getUTCDay()),Na,2)}function hf(na){return na.getUTCDay()}function Bf(na,
Na){return Ne(Bh.count(Tg(na)-1,na),Na,2)}function Cf(na,Na){return Ne(na.getUTCFullYear()%100,Na,2)}function Vg(na,Na){na=We(na);return Ne(na.getUTCFullYear()%100,Na,2)}function Yd(na,Na){return Ne(na.getUTCFullYear()%1E4,Na,4)}function Ie(na,Na){var Ta=na.getUTCDay();na=4<=Ta||0===Ta?hg(na):hg.ceil(na);return Ne(na.getUTCFullYear()%1E4,Na,4)}function qg(){return"+0000"}function ug(){return"%"}function Zg(na){return+na}function cg(na){return Math.floor(+na/1E3)}function Eg(na){return new Date(na)}
function Ag(na){return na instanceof Date?+na:+new Date(+na)}function dg(na,Na,Ta,vb,Yb,bc,hc,xc,gd,Gd){function Ud(gf){return(gd(gf)<gf?yf:xc(gf)<gf?Ge:hc(gf)<gf?ag:bc(gf)<gf?Pg:vb(gf)<gf?Yb(gf)<gf?Ke:sh:Ta(gf)<gf?Nh:Qg)(gf)}var nd=dd()(lb,lb),ie=nd.invert,Ue=nd.domain,yf=Gd(".%L"),Ge=Gd(":%S"),ag=Gd("%I:%M"),Pg=Gd("%I %p"),Ke=Gd("%a %d"),sh=Gd("%b %d"),Nh=Gd("%B"),Qg=Gd("%Y");nd.invert=function(gf){return new Date(ie(gf))};nd.domain=function(gf){return arguments.length?Ue(Array.from(gf,Ag)):Ue().map(Eg)};
nd.ticks=function(gf){var yg=Ue();return na(yg[0],yg[yg.length-1],null==gf?10:gf)};nd.tickFormat=function(gf,yg){return null==yg?Ud:Gd(yg)};nd.nice=function(gf){var yg=Ue();gf&&"function"===typeof gf.range||(gf=Na(yg[0],yg[yg.length-1],null==gf?10:gf));return gf?Ue(Ca(yg,gf)):nd};nd.copy=function(){return Dc(nd,dg(na,Na,Ta,vb,Yb,bc,hc,xc,gd,Gd))};return nd}function Rf(){function na(nd){return null==nd||isNaN(nd=+nd)?Ud:gd(0===hc?.5:(nd=(xc(nd)-Yb)*hc,Gd?Math.max(0,Math.min(1,nd)):nd))}function Na(nd){return function(ie){var Ue,
yf;return arguments.length?([Ue,yf]=ie,gd=nd(Ue,yf),na):[gd(0),gd(1)]}}var Ta=0,vb=1,Yb,bc,hc,xc,gd=lb,Gd=!1,Ud;na.domain=function(nd){return arguments.length?([Ta,vb]=nd,Yb=xc(Ta=+Ta),bc=xc(vb=+vb),hc=Yb===bc?0:1/(bc-Yb),na):[Ta,vb]};na.clamp=function(nd){return arguments.length?(Gd=!!nd,na):Gd};na.interpolator=function(nd){return arguments.length?(gd=nd,na):gd};na.range=Na(ac);na.rangeRound=Na(lc);na.unknown=function(nd){return arguments.length?(Ud=nd,na):Ud};return function(nd){xc=nd;Yb=nd(Ta);
bc=nd(vb);hc=Yb===bc?0:1/(bc-Yb);return na}}function Jf(na,Na){return Na.domain(na.domain()).interpolator(na.interpolator()).clamp(na.clamp()).unknown(na.unknown())}function eg(){var na=Ye(Rf()(lb));na.copy=function(){return Jf(na,eg())};return x.apply(na,arguments)}function Mf(){var na=bd(Rf()).domain([1,10]);na.copy=function(){return Jf(na,Mf()).base(na.base())};return x.apply(na,arguments)}function jg(){var na=Pd(Rf());na.copy=function(){return Jf(na,jg()).constant(na.constant())};return x.apply(na,
arguments)}function oh(){var na=Be(Rf());na.copy=function(){return Jf(na,oh()).exponent(na.exponent())};return x.apply(na,arguments)}function th(){function na(Ge){return isNaN(Ge=+Ge)?yf:(Ge=.5+((Ge=+ie(Ge))-xc)*(bc*Ge<bc*xc?Gd:Ud),nd(Ue?Math.max(0,Math.min(1,Ge)):Ge))}function Na(Ge){return function(ag){var Pg,Ke,sh;return arguments.length?([Pg,Ke,sh]=ag,nd=za(Ge,[Pg,Ke,sh]),na):[nd(0),nd(.5),nd(1)]}}var Ta=0,vb=.5,Yb=1,bc=1,hc,xc,gd,Gd,Ud,nd=lb,ie,Ue=!1,yf;na.domain=function(Ge){return arguments.length?
([Ta,vb,Yb]=Ge,hc=ie(Ta=+Ta),xc=ie(vb=+vb),gd=ie(Yb=+Yb),Gd=hc===xc?0:.5/(xc-hc),Ud=xc===gd?0:.5/(gd-xc),bc=xc<hc?-1:1,na):[Ta,vb,Yb]};na.clamp=function(Ge){return arguments.length?(Ue=!!Ge,na):Ue};na.interpolator=function(Ge){return arguments.length?(nd=Ge,na):nd};na.range=Na(ac);na.rangeRound=Na(lc);na.unknown=function(Ge){return arguments.length?(yf=Ge,na):yf};return function(Ge){ie=Ge;hc=Ge(Ta);xc=Ge(vb);gd=Ge(Yb);Gd=hc===xc?0:.5/(xc-hc);Ud=xc===gd?0:.5/(gd-xc);bc=xc<hc?-1:1;return na}}function Fg(){var na=
Ye(th()(lb));na.copy=function(){return Jf(na,Fg())};return x.apply(na,arguments)}function vg(){var na=bd(th()).domain([.1,1,10]);na.copy=function(){return Jf(na,vg()).base(na.base())};return x.apply(na,arguments)}function vh(){var na=Pd(th());na.copy=function(){return Jf(na,vh()).constant(na.constant())};return x.apply(na,arguments)}function Za(){var na=Be(th());na.copy=function(){return Jf(na,Za()).exponent(na.exponent())};return x.apply(na,arguments)}function Db(){function na(){var nd=Ta().length;
const ie=Yb[1]<Yb[0],Ue=Yb[1-ie],yf=v(nd,gd,Gd);let Ge=Yb[ie-0];bc=(Ue-Ge)/(yf||1);xc&&(bc=Math.floor(bc));Ge+=(Ue-Ge-bc*(nd-gd))*Ud;hc=bc*(1-gd);xc&&(Ge=Math.round(Ge),hc=Math.round(hc));nd=J(nd).map(ag=>Ge+bc*ag);return vb(ie?nd.reverse():nd)}const Na=q().unknown(void 0),Ta=Na.domain,vb=Na.range;let Yb=[0,1],bc,hc,xc=!1,gd=0,Gd=0,Ud=.5;delete Na.unknown;Na.domain=function(nd){return arguments.length?(Ta(nd),na()):Ta()};Na.range=function(nd){return arguments.length?(Yb=[+nd[0],+nd[1]],na()):Yb.slice()};
Na.rangeRound=function(nd){Yb=[+nd[0],+nd[1]];xc=!0;return na()};Na.bandwidth=function(){return hc};Na.step=function(){return bc};Na.round=function(nd){return arguments.length?(xc=!!nd,na()):xc};Na.padding=function(nd){return arguments.length?(gd=Gd=Math.max(0,Math.min(1,nd)),na()):gd};Na.paddingInner=function(nd){return arguments.length?(gd=Math.max(0,Math.min(1,nd)),na()):gd};Na.paddingOuter=function(nd){return arguments.length?(Gd=Math.max(0,Math.min(1,nd)),na()):Gd};Na.align=function(nd){return arguments.length?
(Ud=Math.max(0,Math.min(1,nd)),na()):Ud};Na.invertRange=function(nd){if(null!=nd[0]&&null!=nd[1]){var ie=Yb[1]<Yb[0],Ue=ie?vb().reverse():vb(),yf=Ue.length-1,Ge=+nd[0],ag=+nd[1];if(Ge===Ge&&ag===ag){if(ag<Ge){var Pg=Ge;Ge=ag;ag=Pg}if(!(ag<Ue[0]||Ge>Yb[1-ie]))return nd=Math.max(0,Pa(Ue,Ge)-1),ag=Ge===ag?nd:Pa(Ue,ag)-1,Ge-Ue[nd]>hc+1E-10&&++nd,ie&&(Pg=nd,nd=yf-ag,ag=yf-Pg),nd>ag?void 0:Ta().slice(nd,ag+1)}}};Na.invert=function(nd){return(nd=Na.invertRange([nd,nd]))?nd[0]:nd};Na.copy=function(){return Db().domain(Ta()).range(Yb).round(xc).paddingInner(gd).paddingOuter(Gd).align(Ud)};
return na()}function ic(na){const Na=na.copy;na.padding=na.paddingOuter;delete na.paddingInner;na.copy=function(){return ic(Na())};return na}function ud(){function na(vb){return null==vb||vb!==vb?void 0:Ta[(fb(Na,vb)-1)%Ta.length]}let Na=[],Ta=[];na.domain=function(vb){return arguments.length?(Na=Cg.call(vb,p.toNumber),na):Na.slice()};na.range=function(vb){return arguments.length?(Ta=rh.call(vb),na):Ta.slice()};na.tickFormat=function(vb,Yb){return bf(Na[0],p.peek(Na),null==vb?10:vb,Yb)};na.copy=function(){return ud().domain(na.domain()).range(na.range())};
return na}function yd(na,Na,Ta){const vb=function(){const Yb=Na();Yb.invertRange||(Yb.invertRange=Yb.invert?r(Yb):Yb.invertExtent?h(Yb):void 0);Yb.type=na;return Yb};vb.metadata=p.toSet(p.array(Ta));return vb}function be(na,Na,Ta){return 1<arguments.length?(oi[na]=yd(na,Na,Ta),this):df(na)?oi[na]:void 0}function df(na){return p.hasOwnProperty(oi,na)}function tf(na,Na){return(na=oi[na])&&na.metadata[Na]}function Gg(na){return tf(na,"discrete")}function Nf(na){return tf(na,"discretizing")}function qh(na){return tf(na,
"log")}function xh(na){return tf(na,"temporal")}function $g(na,Na,Ta){return za(Wg(Na||"rgb",Ta),na)}function Wg(na,Na){na=Kf[Og(na)];return null!=Na&&na&&na.gamma?na.gamma(Na):na}function Og(na){return"interpolate"+na.toLowerCase().split("-").map(Na=>Na[0].toUpperCase()+Na.slice(1)).join("")}function kh(na){const Na=na.length/6|0,Ta=Array(Na);for(let vb=0;vb<Na;)Ta[vb]="#"+na.slice(6*vb,6*++vb);return Ta}function ah(na,Na){for(const Ta in na)Xh(Ta,Na(na[Ta]))}function Xh(na,Na){na=na&&na.toLowerCase();
return 1<arguments.length?(wh[na]=Na,this):wh[na]}function ph(na,Na,Ta){var vb=na.range();let Yb=vb[0],bc=p.peek(vb);vb=Xi;Yb>bc&&(vb=bc,bc=Yb,Yb=vb,vb=Fi);Yb=Math.floor(Yb);bc=Math.ceil(bc);Na=Na.map(hc=>[hc,na(hc)]).filter(hc=>Yb<=hc[1]&&hc[1]<=bc).sort(vb).map(hc=>hc[0]);if(0<Ta&&1<Na.length){for(vb=[Na[0],p.peek(Na)];Na.length>Ta&&3<=Na.length;)Na=Na.filter((hc,xc)=>!(xc%2));3>Na.length&&(Na=vb)}return Na}function og(na,Na){return na.bins?ph(na,na.bins):na.ticks?na.ticks(Na):na.domain()}function Kh(na,
Na,Ta,vb,Yb,bc){const hc=Na.type;let xc=Mi;if("time"===hc||"time"===Yb)xc=na.timeFormat(vb);else if("utc"===hc||"utc"===Yb)xc=na.utcFormat(vb);else if(qh(hc)){const gd=na.formatFloat(vb);if(bc||Na.bins)xc=gd;else{const Gd=Ph(Na,Ta,!1);xc=Ud=>Gd(Ud)?gd(Ud):""}}else Na.tickFormat?(Na=Na.domain(),xc=na.formatSpan(Na[0],Na[Na.length-1],Ta,vb)):vb&&(xc=na.format(vb));return xc}function Ph(na,Na,Ta){const vb=og(na,Na),Yb=na.base(),bc=Math.log(Yb),hc=Math.max(1,Yb*Na/vb.length);na=xc=>{xc/=Math.pow(Yb,Math.round(Math.log(xc)/
bc));xc*Yb<Yb-.5&&(xc*=Yb);return xc<=hc};return Ta?vb.filter(na):na}function N(na,Na){na.bins?(na=na.bins,Na=na.slice(0,-1),Na.max=p.peek(na),na=Na):"log"===na.type?na=Ph(na,Na,!0):ti[na.type]?(na=na[ti[na.type]](),na=[-Infinity].concat(na),na.max=Infinity):na=og(na,Na);return na}function ia(na,Na,Ta,vb,Yb,bc,hc){if(Ji[Na.type]&&"time"!==bc&&"utc"!==bc){Ta=Na[Ji[Na.type]]();bc=Ta.length;hc=1<bc?Ta[1]-Ta[0]:Ta[0];let xc;for(xc=1;xc<bc;++xc)hc=Math.min(hc,Ta[xc]-Ta[xc-1]);na=na.formatSpan(0,hc,30,
Yb)}else na=Kh(na,Na,Ta,Yb,bc,hc);return"symbol"===vb&&(ti[Na.type]||Na.bins)?Ci(na):"discrete"===vb?Ig(na):Jj(na)}const Pa=f(k).right;f(e).center;var fb=Pa;class Jb extends Map{constructor(na,Na=b){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Na}});if(null!=na)for(const [Ta,vb]of na)this.set(Ta,vb)}get(na){return super.get(d(this,na))}has(na){return super.has(d(this,na))}set(na,Na){return super.set(a(this,na),Na)}delete(na){return super.delete(c(this,na))}}var Rb=Math.sqrt(50),
Hc=Math.sqrt(10),Zc=Math.sqrt(2);const ed=Symbol("implicit");var pd=1/.7,Vd=/^#([0-9a-f]{3,8})$/,we=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),Ze=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),rf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),wg=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
De=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),fg=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),kg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
H(R,ba,{copy:function(na){return Object.assign(new this.constructor,this,na)},displayable:function(){return this.rgb().displayable()},hex:Z,formatHex:Z,formatHsl:function(){return da(this).formatHsl()},formatRgb:T,toString:T});H(w,P,M(R,{brighter:function(na){na=null==na?pd:Math.pow(pd,na);return new w(this.r*na,this.g*na,this.b*na,this.opacity)},darker:function(na){na=null==na?.7:Math.pow(.7,na);return new w(this.r*na,this.g*na,this.b*na,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:B,formatHex:B,formatRgb:K,toString:K}));H(wa,la,M(R,{brighter:function(na){na=null==na?pd:Math.pow(pd,na);return new wa(this.h,this.s,this.l*na,this.opacity)},darker:function(na){na=null==na?.7:Math.pow(.7,na);return new wa(this.h,this.s,this.l*na,this.opacity)},rgb:function(){var na=this.h%360+360*(0>this.h),Na=isNaN(na)||isNaN(this.s)?0:this.s,Ta=this.l;Na=Ta+(.5>Ta?Ta:1-Ta)*Na;Ta=2*
Ta-Na;return new w(Ua(240<=na?na-240:na+120,Ta,Na),Ua(na,Ta,Na),Ua(120>na?na+240:na-120,Ta,Na),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var na=this.opacity;na=isNaN(na)?1:Math.max(0,Math.min(1,na));return(1===na?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===na?")":", "+na+")")}}));const Rg=Math.PI/180,rg=180/Math.PI,Yg=4/29,jf=6/29,gh=3*jf*jf,Uf=
jf*jf*jf;H(pa,La,M(R,{brighter:function(na){return new pa(this.l+18*(null==na?1:na),this.a,this.b,this.opacity)},darker:function(na){return new pa(this.l-18*(null==na?1:na),this.a,this.b,this.opacity)},rgb:function(){var na=(this.l+16)/116,Na=isNaN(this.a)?na:na+this.a/500,Ta=isNaN(this.b)?na:na-this.b/200;Na=.96422*Ma(Na);na=1*Ma(na);Ta=.82521*Ma(Ta);return new w(ua(3.1338561*Na-1.6168667*na-.4906146*Ta),ua(-.9787684*Na+1.9161415*na+.033454*Ta),ua(.0719453*Na-.2289914*na+1.4052427*Ta),this.opacity)}}));
H(Va,Ha,M(R,{brighter:function(na){return new Va(this.h,this.c,this.l+18*(null==na?1:na),this.opacity)},darker:function(na){return new Va(this.h,this.c,this.l-18*(null==na?1:na),this.opacity)},rgb:function(){return eb(this).rgb()}}));var sg=1.78277*-.29227-.1347134789;H(Qa,ta,M(R,{brighter:function(na){na=null==na?pd:Math.pow(pd,na);return new Qa(this.h,this.s,this.l*na,this.opacity)},darker:function(na){na=null==na?.7:Math.pow(.7,na);return new Qa(this.h,this.s,this.l*na,this.opacity)},rgb:function(){var na=
isNaN(this.h)?0:(this.h+120)*Rg,Na=+this.l,Ta=isNaN(this.s)?0:this.s*Na*(1-Na),vb=Math.cos(na);na=Math.sin(na);return new w(255*(Na+Ta*(-.14861*vb+1.78277*na)),255*(Na+Ta*(-.29227*vb+-.90649*na)),255*(Na+1.97294*Ta*vb),this.opacity)}}));var Lh=na=>()=>na,bh=function Ta(Na){function vb(bc,hc){var xc=Yb((bc=P(bc)).r,(hc=P(hc)).r),gd=Yb(bc.g,hc.g),Gd=Yb(bc.b,hc.b),Ud=pb(bc.opacity,hc.opacity);return function(nd){bc.r=xc(nd);bc.g=gd(nd);bc.b=Gd(nd);bc.opacity=Ud(nd);return bc+""}}var Yb=nb(Na);vb.gamma=
Ta;return vb}(1),Eh=Fb(Y),ki=Fb(ja),Vh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sh=new RegExp(Vh.source,"g"),ef=180/Math.PI,Hg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ff,sf=Ec(function(Na){Na=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(Na+"");return Na.isIdentity?Hg:Ic(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},"px, ","px)","deg)"),xg=Ec(function(Na){if(null==Na)return Hg;ff||(ff=document.createElementNS("http://www.w3.org/2000/svg","g"));ff.setAttribute("transform",
Na);if(!(Na=ff.transform.baseVal.consolidate()))return Hg;Na=Na.matrix;return Ic(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},", ",")",")"),Uh=function bc(Ta,vb,Yb){function hc(xc,gd){var Gd=xc[0],Ud=xc[1],nd=xc[2];xc=gd[2];var ie=gd[0]-Gd,Ue=gd[1]-Ud,yf=ie*ie+Ue*Ue;if(1E-12>yf){var Ge=Math.log(xc/nd)/Ta;xc=function(Ke){return[Gd+Ke*ie,Ud+Ke*Ue,nd*Math.exp(Ta*Ke*Ge)]}}else{var ag=Math.sqrt(yf);gd=(xc*xc-nd*nd+Yb*yf)/(2*nd*vb*ag);xc=(xc*xc-nd*nd-Yb*yf)/(2*xc*vb*ag);var Pg=Math.log(Math.sqrt(gd*gd+1)-gd);Ge=(Math.log(Math.sqrt(xc*
xc+1)-xc)-Pg)/Ta;xc=function(Ke){Ke*=Ge;var sh=Rc(Pg),Nh=Ta*Ke+Pg;var Qg=((Nh=Math.exp(2*Nh))-1)/(Nh+1);var gf=Pg;Nh=((gf=Math.exp(gf))-1/gf)/2;Qg=nd/(vb*ag)*(sh*Qg-Nh);return[Gd+Qg*ie,Ud+Qg*Ue,nd*sh/Rc(Ta*Ke+Pg)]}}xc.duration=1E3*Ge*Ta/Math.SQRT2;return xc}hc.rho=function(xc){xc=Math.max(.001,+xc);var gd=xc*xc;return bc(xc,gd,gd*gd)};return hc}(Math.SQRT2,2,4),Fh=id(cb),hh=id(pb),Hf=Td(cb),Ee=Td(pb),re=Ea(cb),Of=Ea(pb),Kf=Object.freeze({__proto__:null,interpolate:ac,interpolateArray:function(Ta,
vb){return(Lc(vb)?nc:Ac)(Ta,vb)},interpolateBasis:Y,interpolateBasisClosed:ja,interpolateDate:yc,interpolateDiscrete:function(Ta){var vb=Ta.length;return function(Yb){return Ta[Math.max(0,Math.min(vb-1,Math.floor(Yb*vb)))]}},interpolateHue:function(Ta,vb){var Yb=cb(+Ta,+vb);return function(bc){bc=Yb(bc);return bc-360*Math.floor(bc/360)}},interpolateNumber:tc,interpolateNumberArray:nc,interpolateObject:hd,interpolateRound:lc,interpolateString:ec,interpolateTransformCss:sf,interpolateTransformSvg:xg,
interpolateZoom:Uh,interpolateRgb:bh,interpolateRgbBasis:Eh,interpolateRgbBasisClosed:ki,interpolateHsl:Fh,interpolateHslLong:hh,interpolateLab:function(Ta,vb){var Yb=pb((Ta=La(Ta)).l,(vb=La(vb)).l),bc=pb(Ta.a,vb.a),hc=pb(Ta.b,vb.b),xc=pb(Ta.opacity,vb.opacity);return function(gd){Ta.l=Yb(gd);Ta.a=bc(gd);Ta.b=hc(gd);Ta.opacity=xc(gd);return Ta+""}},interpolateHcl:Hf,interpolateHclLong:Ee,interpolateCubehelix:re,interpolateCubehelixLong:Of,piecewise:za,quantize:function(Ta,vb){for(var Yb=Array(vb),
bc=0;bc<vb;++bc)Yb[bc]=Ta(bc/(vb-1));return Yb}}),vf=[0,1],Zf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Od.prototype=ae.prototype;ae.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Ba,db={"%":(Ta,vb)=>(100*Ta).toFixed(vb),b:Ta=>Math.round(Ta).toString(2),
c:Ta=>Ta+"",d:function(Ta){return 1E21<=Math.abs(Ta=Math.round(Ta))?Ta.toLocaleString("en").replace(/,/g,""):Ta.toString(10)},e:(Ta,vb)=>Ta.toExponential(vb),f:(Ta,vb)=>Ta.toFixed(vb),g:(Ta,vb)=>Ta.toPrecision(vb),o:Ta=>Math.round(Ta).toString(8),p:(Ta,vb)=>de(100*Ta,vb),r:de,s:function(Ta,vb){var Yb=fd(Ta,vb);if(!Yb)return Ta+"";var bc=Yb[0];Yb=Yb[1];Yb=Yb-(Ba=3*Math.max(-8,Math.min(8,Math.floor(Yb/3))))+1;var hc=bc.length;return Yb===hc?bc:Yb>hc?bc+Array(Yb-hc+1).join("0"):0<Yb?bc.slice(0,Yb)+"."+
bc.slice(Yb):"0."+Array(1-Yb).join("0")+fd(Ta,Math.max(0,vb+Yb-1))[0]},X:Ta=>Math.round(Ta).toString(16).toUpperCase(),x:Ta=>Math.round(Ta).toString(16)},wb=Array.prototype.map,Lb="y z a f p n  m  k M G T P E Z Y".split(" "),pc,rc,Nc;(function(Ta){pc=qd(Ta);rc=pc.format;Nc=pc.formatPrefix;return pc})({thousands:",",grouping:[3],currency:["$",""]});var xa=new Date,Ra=new Date,qb=Vc(function(){},function(Ta,vb){Ta.setTime(+Ta+vb)},function(Ta,vb){return vb-Ta});qb.every=function(Ta){Ta=Math.floor(Ta);
return isFinite(Ta)&&0<Ta?1<Ta?Vc(function(vb){vb.setTime(Math.floor(vb/Ta)*Ta)},function(vb,Yb){vb.setTime(+vb+Yb*Ta)},function(vb,Yb){return(Yb-vb)/Ta}):qb:null};var rb=qb;const fc=6048E5,Oc=2592E6,$c=31536E6;var xd=Vc(function(Ta){Ta.setTime(Ta-Ta.getMilliseconds())},function(Ta,vb){Ta.setTime(+Ta+1E3*vb)},function(Ta,vb){return(vb-Ta)/1E3},function(Ta){return Ta.getUTCSeconds()}),Tc=Vc(function(Ta){Ta.setTime(Ta-Ta.getMilliseconds()-1E3*Ta.getSeconds())},function(Ta,vb){Ta.setTime(+Ta+6E4*vb)},
function(Ta,vb){return(vb-Ta)/6E4},function(Ta){return Ta.getMinutes()}),Md=Vc(function(Ta){Ta.setTime(Ta-Ta.getMilliseconds()-1E3*Ta.getSeconds()-6E4*Ta.getMinutes())},function(Ta,vb){Ta.setTime(+Ta+36E5*vb)},function(Ta,vb){return(vb-Ta)/36E5},function(Ta){return Ta.getHours()}),Cd=Vc(Ta=>Ta.setHours(0,0,0,0),(Ta,vb)=>Ta.setDate(Ta.getDate()+vb),(Ta,vb)=>(vb-Ta-6E4*(vb.getTimezoneOffset()-Ta.getTimezoneOffset()))/864E5,Ta=>Ta.getDate()-1),Ae=Bd(0),uf=Bd(1);Bd(2);Bd(3);var Je=Bd(4);Bd(5);Bd(6);var of=
Vc(function(Ta){Ta.setDate(1);Ta.setHours(0,0,0,0)},function(Ta,vb){Ta.setMonth(Ta.getMonth()+vb)},function(Ta,vb){return vb.getMonth()-Ta.getMonth()+12*(vb.getFullYear()-Ta.getFullYear())},function(Ta){return Ta.getMonth()}),Vf=Vc(function(Ta){Ta.setMonth(0,1);Ta.setHours(0,0,0,0)},function(Ta,vb){Ta.setFullYear(Ta.getFullYear()+vb)},function(Ta,vb){return vb.getFullYear()-Ta.getFullYear()},function(Ta){return Ta.getFullYear()});Vf.every=function(Ta){return isFinite(Ta=Math.floor(Ta))&&0<Ta?Vc(function(vb){vb.setFullYear(Math.floor(vb.getFullYear()/
Ta)*Ta);vb.setMonth(0,1);vb.setHours(0,0,0,0)},function(vb,Yb){vb.setFullYear(vb.getFullYear()+Yb*Ta)}):null};var pg=Vf,mf=Vc(function(Ta){Ta.setUTCSeconds(0,0)},function(Ta,vb){Ta.setTime(+Ta+6E4*vb)},function(Ta,vb){return(vb-Ta)/6E4},function(Ta){return Ta.getUTCMinutes()}),Lf=Vc(function(Ta){Ta.setUTCMinutes(0,0,0)},function(Ta,vb){Ta.setTime(+Ta+36E5*vb)},function(Ta,vb){return(vb-Ta)/36E5},function(Ta){return Ta.getUTCHours()}),nf=Vc(function(Ta){Ta.setUTCHours(0,0,0,0)},function(Ta,vb){Ta.setUTCDate(Ta.getUTCDate()+
vb)},function(Ta,vb){return(vb-Ta)/864E5},function(Ta){return Ta.getUTCDate()-1}),xf=Hd(0),Bh=Hd(1);Hd(2);Hd(3);var hg=Hd(4);Hd(5);Hd(6);var Xg=Vc(function(Ta){Ta.setUTCDate(1);Ta.setUTCHours(0,0,0,0)},function(Ta,vb){Ta.setUTCMonth(Ta.getUTCMonth()+vb)},function(Ta,vb){return vb.getUTCMonth()-Ta.getUTCMonth()+12*(vb.getUTCFullYear()-Ta.getUTCFullYear())},function(Ta){return Ta.getUTCMonth()}),ih=Vc(function(Ta){Ta.setUTCMonth(0,1);Ta.setUTCHours(0,0,0,0)},function(Ta,vb){Ta.setUTCFullYear(Ta.getUTCFullYear()+
vb)},function(Ta,vb){return vb.getUTCFullYear()-Ta.getUTCFullYear()},function(Ta){return Ta.getUTCFullYear()});ih.every=function(Ta){return isFinite(Ta=Math.floor(Ta))&&0<Ta?Vc(function(vb){vb.setUTCFullYear(Math.floor(vb.getUTCFullYear()/Ta)*Ta);vb.setUTCMonth(0,1);vb.setUTCHours(0,0,0,0)},function(vb,Yb){vb.setUTCFullYear(vb.getUTCFullYear()+Yb*Ta)}):null};var Tg=ih;const [eh,Yh]=me(Tg,Xg,xf,nf,Lf,mf),[Kg,ui]=me(pg,of,Ae,Cd,Md,Tc);var Sg={"-":"",_:" ",0:"0"},Ng=/^\s*\d+/,lg=/^%/,Ch=/[\\^$*+?|[\]().{}]/g,
Hh,li,Yf;(function(Ta){Hh=If(Ta);li=Hh.format;Yf=Hh.utcFormat;return Hh})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Cg=Array.prototype.map;const rh=Array.prototype.slice,
oi={};be("identity",ve);be("linear",pe,"continuous");be("log",md,["continuous","log"]);be("pow",Me,"continuous");be("sqrt",function(){return Me.apply(null,arguments).exponent(.5)},"continuous");be("symlog",ee,"continuous");be("time",function(){return A.apply(dg(Kg,ui,pg,of,Ae,Cd,Md,Tc,xd,li).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);be("utc",function(){return A.apply(dg(eh,Yh,Tg,Xg,xf,nf,Lf,mf,xd,Yf).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},
["continuous","temporal"]);be("sequential",eg,["continuous","interpolating"]);be("sequential-linear",eg,["continuous","interpolating"]);be("sequential-log",Mf,["continuous","interpolating","log"]);be("sequential-pow",oh,["continuous","interpolating"]);be("sequential-sqrt",function(){return oh.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);be("sequential-symlog",jg,["continuous","interpolating"]);be("diverging-linear",Fg,["continuous","interpolating"]);be("diverging-log",vg,["continuous",
"interpolating","log"]);be("diverging-pow",Za,["continuous","interpolating"]);be("diverging-sqrt",function(){return Za.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);be("diverging-symlog",vh,["continuous","interpolating"]);be("quantile",kf,["discretizing","quantile"]);be("quantize",Sb,"discretizing");be("threshold",qc,"discretizing");be("bin-ordinal",ud,["discrete","discretizing"]);be("ordinal",q,"discrete");be("band",Db,"discrete");be("point",function(){return ic(Db().paddingInner(1))},
"discrete");const xi=["clamp","base","constant","exponent"],wh={};ah({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},kh);ah({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Ta=>$g(kh(Ta)));const Mi=Ta=>p.isArray(Ta)?Ta.map(vb=>String(vb)):String(Ta),Xi=(Ta,vb)=>Ta[1]-vb[1],Fi=(Ta,vb)=>vb[1]-Ta[1],ti={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Ji={quantile:"quantiles",quantize:"domain"},Ci=Ta=>(vb,Yb,bc)=>{Yb=bc[Yb+1];bc=bc.max;bc=null!=bc?bc:Infinity;Yb=null!=
Yb?Yb:bc;vb=Number.isFinite(vb)?Ta(vb):null;Yb=Number.isFinite(Yb)?Ta(Yb):null;return vb&&Yb?vb+"  "+Yb:Yb?"\x3c "+Yb:" "+vb},Ig=Ta=>(vb,Yb)=>Yb?Ta(vb):null,Jj=Ta=>vb=>Ta(vb);y.Band="band";y.BinOrdinal="bin-ordinal";y.DiscreteLegend="discrete";y.Diverging="diverging";y.GradientLegend="gradient";y.Identity="identity";y.Linear="linear";y.Log="log";y.Ordinal="ordinal";y.Point="point";y.Pow="pow";y.Quantile="quantile";y.Quantize="quantize";y.Sequential="sequential";y.Sqrt="sqrt";y.SymbolLegend="symbol";
y.Symlog="symlog";y.Threshold="threshold";y.Time="time";y.UTC="utc";y.bandSpace=v;y.domainCaption=function(Ta,vb,Yb){Yb=Yb||{};var bc=Math.max(3,Yb.maxlen||7),hc=Yb.format;const xc=(Yb=Yb.formatType)||vb.type;p.isString(hc)&&xh(xc)&&(hc=hc.replace(/%a/g,"%A").replace(/%b/g,"%B"));Ta=hc||"time"!==xc?hc||"utc"!==xc?ia(Ta,vb,5,null,hc,Yb,!0):Ta.utcFormat("%A, %d %B %Y, %X UTC"):Ta.timeFormat("%A, %d %B %Y, %X");if(Nf(vb.type))return bc=N(vb).slice(1).map(Ta),vb=bc.length,`${vb} boundar${1===vb?"y":"ies"}: ${bc.join(", ")}`;
if(Gg(vb.type))return hc=vb.domain(),vb=hc.length,bc=vb>bc?hc.slice(0,bc-2).map(Ta).join(", ")+", ending with "+hc.slice(-1).map(Ta):hc.map(Ta).join(", "),`${vb} value${1===vb?"":"s"}: ${bc}`;bc=vb.domain();return`values from ${Ta(bc[0])} to ${Ta(p.peek(bc))}`};y.interpolate=Wg;y.interpolateColors=$g;y.interpolateRange=function(Ta,vb){const Yb=vb[0],bc=p.peek(vb)-Yb;return function(hc){return Ta(Yb+hc*bc)}};y.isContinuous=function(Ta){return tf(Ta,"continuous")};y.isDiscrete=Gg;y.isDiscretizing=Nf;
y.isInterpolating=function(Ta){return tf(Ta,"interpolating")};y.isLogarithmic=qh;y.isQuantile=function(Ta){return tf(Ta,"quantile")};y.isTemporal=xh;y.isValidScaleType=df;y.labelFormat=ia;y.labelFraction=function(Ta){var vb=Ta.domain();const Yb=vb.length-1;let bc=+vb[0];vb=+p.peek(vb);let hc=vb-bc;"threshold"===Ta.type&&(Ta=Yb?hc/Yb:.1,bc-=Ta,vb+=Ta,hc=vb-bc);return xc=>(xc-bc)/hc};y.labelValues=N;y.quantizeInterpolator=function(Ta,vb){const Yb=Array(vb),bc=vb+1;for(let hc=0;hc<vb;)Yb[hc]=Ta(++hc/
bc);return Yb};y.scale=be;y.scaleCopy=function(Ta){const vb=Ta.type;Ta=Ta.copy();Ta.type=vb;return Ta};y.scaleFraction=function(Ta,vb,Yb){var bc=Yb-vb;let hc,xc;return bc&&Number.isFinite(bc)?(bc=(hc=Ta.type).indexOf("-"),hc=0>bc?hc:hc.slice(bc+1),xc=be(hc)().domain([vb,Yb]).range([0,1]),xi.forEach(gd=>Ta[gd]?xc[gd](Ta[gd]()):0),xc):p.constant(.5)};y.scaleImplicit=ed;y.scheme=Xh;y.tickCount=function(Ta,vb,Yb){let bc;p.isNumber(vb)&&(Ta.bins&&(vb=Math.max(vb,Ta.bins.length)),null!=Yb&&(vb=Math.min(vb,
Math.floor(p.span(Ta.domain())/Yb||1))));p.isObject(vb)&&(bc=vb.step,vb=vb.interval);p.isString(vb)&&(vb="time"===Ta.type?n.timeInterval(vb):"utc"==Ta.type?n.utcInterval(vb):p.error("Only time and utc scales accept interval strings."),bc&&(vb=vb.every(bc)));return vb};y.tickFormat=Kh;y.tickValues=og;y.validTicks=ph;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[28]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(26),F(22),F(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r){function h(Ba,db,wb){const Lb=Ba.gradient;let pc=Ba.id,rc="radial"===Lb?"p_":"";pc||(pc=Ba.id="gradient_"+Nb++,"radial"===Lb?(Ba.x1=k(Ba.x1,
.5),Ba.y1=k(Ba.y1,.5),Ba.r1=k(Ba.r1,0),Ba.x2=k(Ba.x2,.5),Ba.y2=k(Ba.y2,.5),Ba.r2=k(Ba.r2,.5),rc="p_"):(Ba.x1=k(Ba.x1,0),Ba.y1=k(Ba.y1,0),Ba.x2=k(Ba.x2,1),Ba.y2=k(Ba.y2,0)));db[pc]=Ba;return"url("+(wb||"")+"#"+rc+pc+")"}function k(Ba,db){return null!=Ba?Ba:db}function f(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function e(){return new f}function d(Ba){return function(){return Ba}}function a(Ba){return 1<=Ba?Dd:-1>=Ba?-Dd:Math.asin(Ba)}function c(Ba){return Ba.innerRadius}function b(Ba){return Ba.outerRadius}
function m(Ba){return Ba.startAngle}function z(Ba){return Ba.endAngle}function u(Ba){return Ba&&Ba.padAngle}function C(Ba,db,wb,Lb,pc,rc,Nc){var xa=Ba-wb,Ra=db-Lb;Nc=(Nc?rc:-rc)/se(xa*xa+Ra*Ra);Ra*=Nc;xa*=-Nc;var qb=Ba+Ra,rb=db+xa,fc=wb+Ra,Oc=Lb+xa;wb=(qb+fc)/2;Lb=(rb+Oc)/2;db=fc-qb;Ba=Oc-rb;Nc=db*db+Ba*Ba;rc=pc-rc;Oc=qb*Oc-fc*rb;var $c=(0>Ba?-1:1)*se(Fe(0,rc*rc*Nc-Oc*Oc));qb=(Oc*Ba-db*$c)/Nc;rb=(-Oc*db-Ba*$c)/Nc;fc=(Oc*Ba+db*$c)/Nc;db=(-Oc*db+Ba*$c)/Nc;Ba=qb-wb;Nc=rb-Lb;wb=fc-wb;Lb=db-Lb;Ba*Ba+Nc*
Nc>wb*wb+Lb*Lb&&(qb=fc,rb=db);return{cx:qb,cy:rb,x01:-Ra,y01:-xa,x11:qb*(pc/rc-1),y11:rb*(pc/rc-1)}}function J(Ba){return"object"===typeof Ba&&"length"in Ba?Ba:Array.from(Ba)}function A(Ba){this._context=Ba}function x(Ba){return new A(Ba)}function q(Ba){return Ba[0]}function H(Ba){return Ba[1]}function M(Ba,db){function wb(xa){var Ra,qb=(xa=J(xa)).length,rb,fc=!1,Oc;null==pc&&(Nc=rc(Oc=e()));for(Ra=0;Ra<=qb;++Ra)!(Ra<qb&&Lb(rb=xa[Ra],Ra,xa))===fc&&((fc=!fc)?Nc.lineStart():Nc.lineEnd()),fc&&Nc.point(+Ba(rb,
Ra,xa),+db(rb,Ra,xa));if(Oc)return Nc=null,Oc+""||null}var Lb=d(!0),pc=null,rc=x,Nc=null;Ba="function"===typeof Ba?Ba:void 0===Ba?q:d(Ba);db="function"===typeof db?db:void 0===db?H:d(db);wb.x=function(xa){return arguments.length?(Ba="function"===typeof xa?xa:d(+xa),wb):Ba};wb.y=function(xa){return arguments.length?(db="function"===typeof xa?xa:d(+xa),wb):db};wb.defined=function(xa){return arguments.length?(Lb="function"===typeof xa?xa:d(!!xa),wb):Lb};wb.curve=function(xa){return arguments.length?
(rc=xa,null!=pc&&(Nc=rc(pc)),wb):rc};wb.context=function(xa){return arguments.length?(null==xa?pc=Nc=null:Nc=rc(pc=xa),wb):pc};return wb}function R(Ba,db,wb){function Lb(rb){var fc,Oc,$c=(rb=J(rb)).length,xd,Tc=!1,Md,Cd=Array($c),Ae=Array($c);null==xa&&(qb=Ra(Md=e()));for(fc=0;fc<=$c;++fc){if(!(fc<$c&&Nc(xd=rb[fc],fc,rb))===Tc)if(Tc=!Tc){var uf=fc;qb.areaStart();qb.lineStart()}else{qb.lineEnd();qb.lineStart();for(Oc=fc-1;Oc>=uf;--Oc)qb.point(Cd[Oc],Ae[Oc]);qb.lineEnd();qb.areaEnd()}Tc&&(Cd[fc]=+Ba(xd,
fc,rb),Ae[fc]=+db(xd,fc,rb),qb.point(rc?+rc(xd,fc,rb):Cd[fc],wb?+wb(xd,fc,rb):Ae[fc]))}if(Md)return qb=null,Md+""||null}function pc(){return M().defined(Nc).curve(Ra).context(xa)}var rc=null,Nc=d(!0),xa=null,Ra=x,qb=null;Ba="function"===typeof Ba?Ba:void 0===Ba?q:d(+Ba);db="function"===typeof db?db:void 0===db?d(0):d(+db);wb="function"===typeof wb?wb:void 0===wb?H:d(+wb);Lb.x=function(rb){return arguments.length?(Ba="function"===typeof rb?rb:d(+rb),rc=null,Lb):Ba};Lb.x0=function(rb){return arguments.length?
(Ba="function"===typeof rb?rb:d(+rb),Lb):Ba};Lb.x1=function(rb){return arguments.length?(rc=null==rb?null:"function"===typeof rb?rb:d(+rb),Lb):rc};Lb.y=function(rb){return arguments.length?(db="function"===typeof rb?rb:d(+rb),wb=null,Lb):db};Lb.y0=function(rb){return arguments.length?(db="function"===typeof rb?rb:d(+rb),Lb):db};Lb.y1=function(rb){return arguments.length?(wb=null==rb?null:"function"===typeof rb?rb:d(+rb),Lb):wb};Lb.lineX0=Lb.lineY0=function(){return pc().x(Ba).y(db)};Lb.lineY1=function(){return pc().x(Ba).y(wb)};
Lb.lineX1=function(){return pc().x(rc).y(db)};Lb.defined=function(rb){return arguments.length?(Nc="function"===typeof rb?rb:d(!!rb),Lb):Nc};Lb.curve=function(rb){return arguments.length?(Ra=rb,null!=xa&&(qb=Ra(xa)),Lb):Ra};Lb.context=function(rb){return arguments.length?(null==rb?xa=qb=null:qb=Ra(xa=rb),Lb):xa};return Lb}function Z(){}function T(Ba,db,wb){Ba._context.bezierCurveTo((2*Ba._x0+Ba._x1)/3,(2*Ba._y0+Ba._y1)/3,(Ba._x0+2*Ba._x1)/3,(Ba._y0+2*Ba._y1)/3,(Ba._x0+4*Ba._x1+db)/6,(Ba._y0+4*Ba._y1+
wb)/6)}function ba(Ba){this._context=Ba}function aa(Ba){this._context=Ba}function W(Ba){this._context=Ba}function X(Ba,db){this._basis=new ba(Ba);this._beta=db}function P(Ba,db,wb){Ba._context.bezierCurveTo(Ba._x1+Ba._k*(Ba._x2-Ba._x0),Ba._y1+Ba._k*(Ba._y2-Ba._y0),Ba._x2+Ba._k*(Ba._x1-db),Ba._y2+Ba._k*(Ba._y1-wb),Ba._x2,Ba._y2)}function w(Ba,db){this._context=Ba;this._k=(1-db)/6}function B(Ba,db){this._context=Ba;this._k=(1-db)/6}function K(Ba,db){this._context=Ba;this._k=(1-db)/6}function U(Ba,db,
wb){var Lb=Ba._x1,pc=Ba._y1,rc=Ba._x2,Nc=Ba._y2;if(1E-12<Ba._l01_a){var xa=2*Ba._l01_2a+3*Ba._l01_a*Ba._l12_a+Ba._l12_2a,Ra=3*Ba._l01_a*(Ba._l01_a+Ba._l12_a);Lb=(Lb*xa-Ba._x0*Ba._l12_2a+Ba._x2*Ba._l01_2a)/Ra;pc=(pc*xa-Ba._y0*Ba._l12_2a+Ba._y2*Ba._l01_2a)/Ra}1E-12<Ba._l23_a&&(xa=2*Ba._l23_2a+3*Ba._l23_a*Ba._l12_a+Ba._l12_2a,Ra=3*Ba._l23_a*(Ba._l23_a+Ba._l12_a),rc=(rc*xa+Ba._x1*Ba._l23_2a-db*Ba._l12_2a)/Ra,Nc=(Nc*xa+Ba._y1*Ba._l23_2a-wb*Ba._l12_2a)/Ra);Ba._context.bezierCurveTo(Lb,pc,rc,Nc,Ba._x2,Ba._y2)}
function ka(Ba,db){this._context=Ba;this._alpha=db}function da(Ba,db){this._context=Ba;this._alpha=db}function la(Ba,db){this._context=Ba;this._alpha=db}function wa(Ba){this._context=Ba}function Ua(Ba,db,wb){var Lb=Ba._x1-Ba._x0;db-=Ba._x1;var pc=(Ba._y1-Ba._y0)/(Lb||0>db&&-0);Ba=(wb-Ba._y1)/(db||0>Lb&&-0);return((0>pc?-1:1)+(0>Ba?-1:1))*Math.min(Math.abs(pc),Math.abs(Ba),.5*Math.abs((pc*db+Ba*Lb)/(Lb+db)))||0}function hb(Ba,db){var wb=Ba._x1-Ba._x0;return wb?(3*(Ba._y1-Ba._y0)/wb-db)/2:db}function La(Ba,
db,wb){var Lb=Ba._x0,pc=Ba._x1,rc=Ba._y1,Nc=(pc-Lb)/3;Ba._context.bezierCurveTo(Lb+Nc,Ba._y0+Nc*db,pc-Nc,rc-Nc*wb,pc,rc)}function pa(Ba){this._context=Ba}function Da(Ba){this._context=new Ma(Ba)}function Ma(Ba){this._context=Ba}function ua(Ba){this._context=Ba}function Aa(Ba){var db,wb=Ba.length-1,Lb=Array(wb),pc=Array(wb),rc=Array(wb);Lb[0]=0;pc[0]=2;rc[0]=Ba[0]+2*Ba[1];for(db=1;db<wb-1;++db)Lb[db]=1,pc[db]=4,rc[db]=4*Ba[db]+2*Ba[db+1];Lb[wb-1]=2;pc[wb-1]=7;rc[wb-1]=8*Ba[wb-1]+Ba[wb];for(db=1;db<
wb;++db){var Nc=Lb[db]/pc[db-1];pc[db]-=Nc;rc[db]-=Nc*rc[db-1]}Lb[wb-1]=rc[wb-1]/pc[wb-1];for(db=wb-2;0<=db;--db)Lb[db]=(rc[db]-Lb[db+1])/pc[db];pc[wb-1]=(Ba[wb]+Lb[wb-1])/2;for(db=0;db<wb-1;++db)pc[db]=2*Ba[db+1]-Lb[db+1];return[Lb,pc]}function qa(Ba,db){this._context=Ba;this._t=db}function Ha(Ba,db,wb){Ba=p.hasOwnProperty(Yd,Ba)&&Yd[Ba];var Lb=null;Ba&&(Lb=Ba.curve||Ba[db||"vertical"],Ba.tension&&null!=wb&&(Lb=Lb[Ba.tension](wb)));return Lb}function Va(Ba){const db=[];(Ba.match(qg)||[]).forEach(wb=>
{let Lb=wb[0];var pc=Lb.toLowerCase();const rc=Ie[pc];var Nc=wb.slice(1).trim();wb=[];for(let Ra=0;rc&&Ra<Nc.length;)for(let qb=0;qb<rc;++qb){var xa="a"!==pc||3!==qb&&4!==qb?ug:cg;xa=Nc.slice(Ra).match(xa);if(null===xa)throw Error("Invalid SVG path, incorrect parameter type");Ra+=xa[0].length;wb.push(+xa[0]);xa=Nc.slice(Ra).match(Zg);null!==xa&&(Ra+=xa[0].length)}Nc=wb.length;if(Nc<rc||Nc&&0!==Nc%rc)throw Error("Invalid SVG path, incorrect parameter count");db.push([Lb,...wb.slice(0,rc)]);if(Nc!==
rc)for("m"===pc&&(Lb="M"===Lb?"L":"l"),pc=rc;pc<Nc;pc+=rc)db.push([Lb,...wb.slice(pc,pc+rc)])});return db}function eb(Ba,db,wb,Lb,pc,rc,Nc,xa,Ra){const qb=Mf.call(arguments);if(Jf[qb])return Jf[qb];var rb=Nc*Eg;const fc=Math.sin(rb);rb=Math.cos(rb);wb=Math.abs(wb);Lb=Math.abs(Lb);var Oc=rb*(xa-Ba)*.5+fc*(Ra-db)*.5,$c=rb*(Ra-db)*.5-fc*(xa-Ba)*.5;Oc=Oc*Oc/(wb*wb)+$c*$c/(Lb*Lb);1<Oc&&(Oc=Math.sqrt(Oc),wb*=Oc,Lb*=Oc);var xd=rb/wb,Tc=fc/wb,Md=-fc/Lb,Cd=rb/Lb;Oc=xd*xa+Tc*Ra;$c=Md*xa+Cd*Ra;xd=xd*Ba+Tc*db;
Tc=Md*Ba+Cd*db;Md=1/((xd-Oc)*(xd-Oc)+(Tc-$c)*(Tc-$c))-.25;0>Md&&(Md=0);Cd=Math.sqrt(Md);rc==pc&&(Cd=-Cd);Md=.5*(Oc+xd)-Cd*(Tc-$c);Cd=.5*($c+Tc)+Cd*(xd-Oc);Oc=Math.atan2($c-Cd,Oc-Md);$c=Math.atan2(Tc-Cd,xd-Md)-Oc;0>$c&&1===rc?$c+=dg:0<$c&&0===rc&&($c-=dg);xd=Math.ceil(Math.abs($c/(Ag+.001)));Tc=[];for(let Ae=0;Ae<xd;++Ae)Tc[Ae]=[Md,Cd,Oc+Ae*$c/xd,Oc+(Ae+1)*$c/xd,wb,Lb,fc,rb];return Jf[qb]=Tc}function ta(Ba,db,wb,Lb,pc,rc){var Nc=null,xa=0,Ra=0,qb=0,rb=0,fc=0,Oc=0;null==wb&&(wb=0);null==Lb&&(Lb=0);
null==pc&&(pc=1);null==rc&&(rc=pc);Ba.beginPath&&Ba.beginPath();for(var $c=0,xd=db.length;$c<xd;++$c){var Tc=db[$c];if(1!==pc||1!==rc){var Md=pc;var Cd=rc;var Ae=jg[0]=Tc[0];if("a"===Ae||"A"===Ae)jg[1]=Md*Tc[1],jg[2]=Cd*Tc[2],jg[3]=Tc[3],jg[4]=Tc[4],jg[5]=Tc[5],jg[6]=Md*Tc[6],jg[7]=Cd*Tc[7];else if("h"===Ae||"H"===Ae)jg[1]=Md*Tc[1];else if("v"===Ae||"V"===Ae)jg[1]=Cd*Tc[1];else{Ae=1;for(var uf=Tc.length;Ae<uf;++Ae)jg[Ae]=(1==Ae%2?Md:Cd)*Tc[Ae]}Tc=jg}switch(Tc[0]){case "l":xa+=Tc[1];Ra+=Tc[2];Ba.lineTo(xa+
wb,Ra+Lb);break;case "L":xa=Tc[1];Ra=Tc[2];Ba.lineTo(xa+wb,Ra+Lb);break;case "h":xa+=Tc[1];Ba.lineTo(xa+wb,Ra+Lb);break;case "H":xa=Tc[1];Ba.lineTo(xa+wb,Ra+Lb);break;case "v":Ra+=Tc[1];Ba.lineTo(xa+wb,Ra+Lb);break;case "V":Ra=Tc[1];Ba.lineTo(xa+wb,Ra+Lb);break;case "m":xa+=Tc[1];Ra+=Tc[2];fc=xa;Oc=Ra;Ba.moveTo(xa+wb,Ra+Lb);break;case "M":xa=Tc[1];Ra=Tc[2];fc=xa;Oc=Ra;Ba.moveTo(xa+wb,Ra+Lb);break;case "c":Md=xa+Tc[5];Cd=Ra+Tc[6];qb=xa+Tc[3];rb=Ra+Tc[4];Ba.bezierCurveTo(xa+Tc[1]+wb,Ra+Tc[2]+Lb,qb+
wb,rb+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;break;case "C":xa=Tc[5];Ra=Tc[6];qb=Tc[3];rb=Tc[4];Ba.bezierCurveTo(Tc[1]+wb,Tc[2]+Lb,qb+wb,rb+Lb,xa+wb,Ra+Lb);break;case "s":Md=xa+Tc[3];Cd=Ra+Tc[4];qb=2*xa-qb;rb=2*Ra-rb;Ba.bezierCurveTo(qb+wb,rb+Lb,xa+Tc[1]+wb,Ra+Tc[2]+Lb,Md+wb,Cd+Lb);qb=xa+Tc[1];rb=Ra+Tc[2];xa=Md;Ra=Cd;break;case "S":Md=Tc[3];Cd=Tc[4];qb=2*xa-qb;rb=2*Ra-rb;Ba.bezierCurveTo(qb+wb,rb+Lb,Tc[1]+wb,Tc[2]+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;qb=Tc[1];rb=Tc[2];break;case "q":Md=xa+Tc[3];Cd=Ra+Tc[4];qb=xa+Tc[1];
rb=Ra+Tc[2];Ba.quadraticCurveTo(qb+wb,rb+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;break;case "Q":Md=Tc[3];Cd=Tc[4];Ba.quadraticCurveTo(Tc[1]+wb,Tc[2]+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;qb=Tc[1];rb=Tc[2];break;case "t":Md=xa+Tc[1];Cd=Ra+Tc[2];null===Nc[0].match(/[QqTt]/)?(qb=xa,rb=Ra):"t"===Nc[0]?(qb=2*xa-Je,rb=2*Ra-of):"q"===Nc[0]&&(qb=2*xa-qb,rb=2*Ra-rb);var Je=qb;var of=rb;Ba.quadraticCurveTo(qb+wb,rb+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;qb=xa+Tc[1];rb=Ra+Tc[2];break;case "T":Md=Tc[1];Cd=Tc[2];qb=2*xa-qb;rb=2*Ra-rb;Ba.quadraticCurveTo(qb+
wb,rb+Lb,Md+wb,Cd+Lb);xa=Md;Ra=Cd;break;case "a":Qa(Ba,xa+wb,Ra+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+xa+wb,Tc[7]+Ra+Lb]);xa+=Tc[6];Ra+=Tc[7];break;case "A":Qa(Ba,xa+wb,Ra+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+wb,Tc[7]+Lb]);xa=Tc[6];Ra=Tc[7];break;case "z":case "Z":xa=fc,Ra=Oc,Ba.closePath()}Nc=Tc}}function Qa(Ba,db,wb,Lb){db=eb(Lb[5],Lb[6],Lb[0],Lb[1],Lb[3],Lb[4],Lb[2],db,wb);for(wb=0;wb<db.length;++wb){a:{var pc=db[wb];Lb=Mf.call(pc);if(eg[Lb]){Lb=eg[Lb];break a}var rc=pc[0],Nc=pc[1],xa=pc[2],
Ra=pc[3],qb=pc[4],rb=pc[5],fc=pc[6],Oc=pc[7];pc=Oc*qb;const xd=-fc*rb;qb*=fc;rb*=Oc;var $c=Math.cos(xa);const Tc=Math.sin(xa);fc=Math.cos(Ra);Oc=Math.sin(Ra);xa=.5*(Ra-xa);Ra=Math.sin(.5*xa);Ra=8/3*Ra*Ra/Math.sin(xa);xa=rc+$c-Ra*Tc;$c=Nc+Tc+Ra*$c;rc+=fc;Nc+=Oc;Oc=rc+Ra*Oc;fc=Nc-Ra*fc;Lb=eg[Lb]=[pc*xa+xd*$c,qb*xa+rb*$c,pc*Oc+xd*fc,qb*Oc+rb*fc,pc*rc+xd*Nc,qb*rc+rb*Nc]}Ba.bezierCurveTo(Lb[0],Lb[1],Lb[2],Lb[3],Lb[4],Lb[5])}}function oa(Ba){return p.hasOwnProperty(oh,Ba)?oh[Ba]:Y(Ba)}function Y(Ba){if(!p.hasOwnProperty(th,
Ba)){const db=Va(Ba);th[Ba]={draw:function(wb,Lb){ta(wb,db,0,0,Math.sqrt(Lb)/2)}}}return th[Ba]}function ja(Ba){return Ba.x}function Ga(Ba){return Ba.y}function Wa(Ba){return Ba.width}function cb(Ba){return Ba.height}function nb(Ba){return"function"===typeof Ba?Ba:()=>+Ba}function pb(Ba,db,wb){return Math.max(db,Math.min(Ba,wb))}function Fb(){function Ba(rb,fc,Oc){var $c;fc=null!=fc?fc:+db.call(this,rb);Oc=null!=Oc?Oc:+wb.call(this,rb);var xd=+Lb.call(this,rb),Tc=+pc.call(this,rb),Md=Math.min(xd,
Tc)/2,Cd=pb(+rc.call(this,rb),0,Md),Ae=pb(+Nc.call(this,rb),0,Md),uf=pb(+xa.call(this,rb),0,Md);rb=pb(+Ra.call(this,rb),0,Md);qb||(qb=$c=e());0>=Cd&&0>=Ae&&0>=uf&&0>=rb?qb.rect(fc,Oc,xd,Tc):(xd=fc+xd,Tc=Oc+Tc,qb.moveTo(fc+Cd,Oc),qb.lineTo(xd-Ae,Oc),qb.bezierCurveTo(xd-.448084975506*Ae,Oc,xd,Oc+.448084975506*Ae,xd,Oc+Ae),qb.lineTo(xd,Tc-rb),qb.bezierCurveTo(xd,Tc-.448084975506*rb,xd-.448084975506*rb,Tc,xd-rb,Tc),qb.lineTo(fc+uf,Tc),qb.bezierCurveTo(fc+.448084975506*uf,Tc,fc,Tc-.448084975506*uf,fc,
Tc-uf),qb.lineTo(fc,Oc+Cd),qb.bezierCurveTo(fc,Oc+.448084975506*Cd,fc+.448084975506*Cd,Oc,fc+Cd,Oc),qb.closePath());if($c)return qb=null,$c+""||null}var db=ja,wb=Ga,Lb=Wa,pc=cb,rc=nb(0),Nc=rc,xa=rc,Ra=rc,qb=null;Ba.x=function(rb){return arguments.length?(db=nb(rb),Ba):db};Ba.y=function(rb){return arguments.length?(wb=nb(rb),Ba):wb};Ba.width=function(rb){return arguments.length?(Lb=nb(rb),Ba):Lb};Ba.height=function(rb){return arguments.length?(pc=nb(rb),Ba):pc};Ba.cornerRadius=function(rb,fc,Oc,$c){return arguments.length?
(rc=nb(rb),Nc=null!=fc?nb(fc):rc,Ra=null!=Oc?nb(Oc):rc,xa=null!=$c?nb($c):Nc,Ba):rc};Ba.context=function(rb){return arguments.length?(qb=null==rb?null:rb,Ba):qb};return Ba}function nc(){function Ba(rb){var fc,Oc=rb.length,$c,xd=!1,Tc;null==rc&&(rc=Tc=e());for(fc=0;fc<=Oc;++fc)if(!(fc<Oc&&pc($c=rb[fc],fc,rb))===xd&&(xd=!xd)&&(Nc=0),xd){var Md=+db($c,fc,rb),Cd=+wb($c,fc,rb);const pg=+Lb($c,fc,rb)/2;if(Nc){var Ae=Ra-Cd,uf=Md-xa;if(Ae||uf){var Je=Math.sqrt(Ae*Ae+uf*uf),of=(Ae/=Je)*qb;Je=(uf/=Je)*qb;var Vf=
Math.atan2(uf,Ae);rc.moveTo(xa-of,Ra-Je);rc.lineTo(Md-Ae*pg,Cd-uf*pg);rc.arc(Md,Cd,pg,Vf-Math.PI,Vf);rc.lineTo(xa+of,Ra+Je);rc.arc(xa,Ra,qb,Vf,Vf+Math.PI)}else rc.arc(Md,Cd,pg,0,dg);rc.closePath()}else Nc=1;xa=Md;Ra=Cd;qb=pg}if(Tc)return rc=null,Tc+""||null}var db,wb,Lb,pc,rc=null,Nc,xa,Ra,qb;Ba.x=function(rb){return arguments.length?(db=rb,Ba):db};Ba.y=function(rb){return arguments.length?(wb=rb,Ba):wb};Ba.size=function(rb){return arguments.length?(Lb=rb,Ba):Lb};Ba.defined=function(rb){return arguments.length?
(pc=rb,Ba):pc};Ba.context=function(rb){return arguments.length?(rc=null==rb?null:rb,Ba):rc};return Ba}function Lc(Ba,db){return null!=Ba?Ba:db}function Ac(Ba){return Ba.cornerRadius||Ba.cornerRadiusTopLeft||Ba.cornerRadiusTopRight||Ba.cornerRadiusBottomRight||Ba.cornerRadiusBottomLeft}function yc(Ba,db,wb,Lb){return yd.context(Ba)(db,wb,Lb)}function tc(Ba,db,wb){var Lb=db.clip;Ba=Ba._defs;db=db.clip_id||(db.clip_id="clip"+tf++);Ba=Ba.clipping[db]||(Ba.clipping[db]={id:db});p.isFunction(Lb)?Ba.path=
Lb(null):Ac(wb)?Ba.path=yc(null,wb,0,0):(Ba.width=wb.width||0,Ba.height=wb.height||0);return"url(#"+db+")"}function hd(Ba){this.clear();Ba&&this.union(Ba)}function Mb(Ba){this.mark=Ba;this.bounds=this.bounds||new hd}function Ab(Ba){Mb.call(this,Ba);this.items=this.items||[]}function ec(Ba){this._pending=0;this._loader=Ba||v.loader()}function ac(Ba,db,wb){if(db.stroke&&0!==db.opacity&&0!==db.strokeOpacity){const Lb=null!=db.strokeWidth?+db.strokeWidth:1;Ba.expand(Lb+(wb?db.strokeJoin&&"miter"!==db.strokeJoin?
0:Lb:0))}return Ba}function lc(Ba,db){Nf=Ba;db?($g=db*Eg,Wg=ah=Math.cos($g),Og=Math.sin($g),kh=-Og):(Wg=ah=1,$g=Og=kh=0);return N}function Ic(Ba,db,wb,Lb){wb=(Ba-db)/(Ba+wb-2*db);0<wb&&1>wb&&Lb(Ba+(db-Ba)*wb)}function Ec(Ba,db,wb,Lb,pc){const rc=Lb-Ba+3*db-3*wb,Nc=Ba+wb-2*db;var xa=Ba-db;let Ra=0,qb=0;1E-14<Math.abs(rc)?(xa=Nc*Nc+xa*rc,0<=xa&&(xa=Math.sqrt(xa),Ra=(-Nc+xa)/rc,qb=(-Nc-xa)/rc)):Ra=.5*xa/Nc;0<Ra&&1>Ra&&pc(Rc(Ra,Ba,db,wb,Lb));0<qb&&1>qb&&pc(Rc(qb,Ba,db,wb,Lb))}function Rc(Ba,db,wb,Lb,
pc){const rc=1-Ba,Nc=rc*rc,xa=Ba*Ba;return Nc*rc*db+3*Nc*Ba*wb+3*rc*xa*Lb+xa*Ba*pc}function id(Ba){return function(db,wb){if(!ia)return!0;Ba(ia,db);Pa.clear().union(db.bounds).intersect(wb).round();const {x1:Lb,y1:pc,x2:rc,y2:Nc}=Pa;for(db=pc;db<=Nc;++db)for(wb=Lb;wb<=rc;++wb)if(ia.isPointInPath(wb,db))return!0;return!1}}function Td(Ba,db){return db.contains(Ba.x||0,Ba.y||0)}function Ea(Ba,db){const wb=Ba.x||0,Lb=Ba.y||0;return db.intersects(Pa.set(wb,Lb,wb+(Ba.width||0),Lb+(Ba.height||0)))}function za(Ba,
db){const wb=Ba.x||0,Lb=Ba.y||0;return Fa(db,wb,Lb,null!=Ba.x2?Ba.x2:wb,null!=Ba.y2?Ba.y2:Lb)}function Fa(Ba,db,wb,Lb,pc){const {x1:rc,y1:Nc,x2:xa,y2:Ra}=Ba;Ba=Lb-db;pc-=wb;Lb=0;let qb=1,rb,fc,Oc,$c;for($c=0;4>$c;++$c){0===$c&&(rb=-Ba,fc=-(rc-db));1===$c&&(rb=Ba,fc=xa-db);2===$c&&(rb=-pc,fc=-(Nc-wb));3===$c&&(rb=pc,fc=Ra-wb);if(1E-10>Math.abs(rb)&&0>fc)return!1;Oc=fc/rb;if(0>rb){if(Oc>qb)return!1;Oc>Lb&&(Lb=Oc)}else if(0<rb){if(Oc<Lb)return!1;Oc<qb&&(qb=Oc)}}return!0}function bb(Ba,db){Ba.globalCompositeOperation=
db.blend||"source-over"}function lb(Ba,db){return null==Ba?db:Ba}function zb(Ba,db){const wb=db.length;for(let Lb=0;Lb<wb;++Lb)Ba.addColorStop(db[Lb].offset,db[Lb].color);return Ba}function Tb(Ba,db,wb){const Lb=wb.width(),pc=wb.height();if("radial"===db.gradient)Ba=Ba.createRadialGradient(wb.x1+lb(db.x1,.5)*Lb,wb.y1+lb(db.y1,.5)*pc,Math.max(Lb,pc)*lb(db.r1,0),wb.x1+lb(db.x2,.5)*Lb,wb.y1+lb(db.y2,.5)*pc,Math.max(Lb,pc)*lb(db.r2,.5));else{const rc=lb(db.x1,0),Nc=lb(db.y1,0),xa=lb(db.x2,1),Ra=lb(db.y2,
0);if(rc===xa||Nc===Ra||Lb===pc)Ba=Ba.createLinearGradient(wb.x1+rc*Lb,wb.y1+Nc*pc,wb.x1+xa*Lb,wb.y1+Ra*pc);else{wb=n.canvas(Math.ceil(Lb),Math.ceil(pc));const qb=wb.getContext("2d");qb.scale(Lb,pc);qb.fillStyle=zb(qb.createLinearGradient(rc,Nc,xa,Ra),db.stops);qb.fillRect(0,0,Lb,pc);return Ba.createPattern(wb,"no-repeat")}}return zb(Ba,db.stops)}function Ub(Ba,db,wb){wb*=null==db.fillOpacity?1:db.fillOpacity;return 0<wb?(Ba.globalAlpha=wb,db=(wb=db.fill)&&wb.gradient?Tb(Ba,wb,db.bounds):wb,Ba.fillStyle=
db,!0):!1}function $b(Ba,db,wb){var Lb=null!=(Lb=db.strokeWidth)?Lb:1;if(0>=Lb)return!1;wb*=null==db.strokeOpacity?1:db.strokeOpacity;return 0<wb?(Ba.globalAlpha=wb,wb=(wb=db.stroke)&&wb.gradient?Tb(Ba,wb,db.bounds):wb,Ba.strokeStyle=wb,Ba.lineWidth=Lb,Ba.lineCap=db.strokeCap||"butt",Ba.lineJoin=db.strokeJoin||"miter",Ba.miterLimit=db.strokeMiterLimit||10,Ba.setLineDash&&(Ba.setLineDash(db.strokeDash||fb),Ba.lineDashOffset=db.strokeDashOffset||0),!0):!1}function Dc(Ba,db){return Ba.zindex-db.zindex||
Ba.index-db.index}function dd(Ba){if(!Ba.zdirty)return Ba.zitems;var db=Ba.items,wb=[],Lb;var pc=0;for(Lb=db.length;pc<Lb;++pc){var rc=db[pc];rc.index=pc;rc.zindex&&wb.push(rc)}Ba.zdirty=!1;return Ba.zitems=wb.sort(Dc)}function fd(Ba,db){var wb=Ba.items,Lb;if(wb&&wb.length){var pc=dd(Ba);if(pc&&pc.length){Ba=0;for(Lb=wb.length;Ba<Lb;++Ba)wb[Ba].zindex||db(wb[Ba]);wb=pc}Ba=0;for(Lb=wb.length;Ba<Lb;++Ba)db(wb[Ba])}}function od(Ba,db){var wb=Ba.items,Lb,pc;if(!wb||!wb.length)return null;const rc=dd(Ba);
rc&&rc.length&&(wb=rc);for(pc=wb.length;0<=--pc;)if(Lb=db(wb[pc]))return Lb;if(wb===rc)for(wb=Ba.items,pc=wb.length;0<=--pc;)if(!wb[pc].zindex&&(Lb=db(wb[pc])))return Lb;return null}function sd(Ba){return function(db,wb,Lb){fd(wb,pc=>{Lb&&!Lb.intersects(pc.bounds)||Od(Ba,db,pc,pc)})}}function Kd(Ba){return function(db,wb,Lb){!wb.items.length||Lb&&!Lb.intersects(wb.bounds)||Od(Ba,db,wb.items[0],wb.items)}}function Od(Ba,db,wb,Lb){var pc=null==wb.opacity?1:wb.opacity;0===pc||Ba(db,Lb)||(bb(db,wb),wb.fill&&
Ub(db,wb,pc)&&db.fill(),wb.stroke&&$b(db,wb,pc)&&db.stroke())}function ae(Ba){Ba=Ba||p.truthy;return function(db,wb,Lb,pc,rc,Nc){Lb*=db.pixelRatio;pc*=db.pixelRatio;return od(wb,xa=>{const Ra=xa.bounds;if((!Ra||Ra.contains(rc,Nc))&&Ra&&Ba(db,xa,Lb,pc,rc,Nc))return xa})}}function de(Ba,db){return function(wb,Lb,pc,rc){var Nc=Array.isArray(Lb)?Lb[0]:Lb,xa=null==db?Nc.fill:db,Ra=Nc.stroke&&wb.isPointInStroke;if(Ra){var qb=Nc.strokeWidth;Nc=Nc.strokeCap;wb.lineWidth=null!=qb?qb:1;wb.lineCap=null!=Nc?
Nc:"butt"}return Ba(wb,Lb)?!1:xa&&wb.isPointInPath(pc,rc)||Ra&&wb.isPointInStroke(pc,rc)}}function je(Ba,db){return"translate("+Ba+","+db+")"}function qd(Ba,db,wb){function Lb(pc,rc){var Nc=rc.x||0,xa=rc.y||0,Ra=rc.angle||0;pc.translate(Nc,xa);Ra&&pc.rotate(Ra*=Eg);pc.beginPath();db(pc,rc);Ra&&pc.rotate(-Ra);pc.translate(-Nc,-xa)}return{type:Ba,tag:"path",nested:!1,attr:function(pc,rc){var Nc=je(rc.x||0,rc.y||0)+(rc.angle?" rotate("+(rc.angle+")"):"");pc("transform",Nc);pc("d",db(null,rc))},bound:function(pc,
rc){db(lc(pc,rc.angle),rc);return ac(pc,rc).translate(rc.x||0,rc.y||0)},draw:sd(Lb),pick:ae(de(Lb)),isect:wb||id(Lb)}}function bf(Ba,db,wb){function Lb(rc,Nc){rc.beginPath();db(rc,Nc)}const pc=de(Lb);return{type:Ba,tag:"path",nested:!0,attr:function(rc,Nc){Nc=Nc.mark.items;Nc.length&&rc("d",db(null,Nc))},bound:function(rc,Nc){Nc=Nc.items;if(0===Nc.length)return rc;db(lc(rc),Nc);return ac(rc,Nc[0])},draw:Kd(Lb),pick:function(rc,Nc,xa,Ra,qb,rb){var fc=Nc.items;Nc=Nc.bounds;if(!fc||!fc.length||Nc&&!Nc.contains(qb,
rb))return null;xa*=rc.pixelRatio;Ra*=rc.pixelRatio;return pc(rc,fc,xa,Ra)?fc[0]:null},isect:Td,tip:wb}}function Ye(Ba,db){Ba.beginPath();Ac(db)?yc(Ba,db,0,0):Ba.rect(0,0,db.width||0,db.height||0);Ba.clip()}function pe(Ba){const db=lb(Ba.strokeWidth,1);return null!=Ba.strokeOffset?Ba.strokeOffset:Ba.stroke&&.5<db&&1.5>db?.5-Math.abs(db-1):0}function ve(Ba,db,wb,Lb){const pc=pe(db);Ba.beginPath();yc(Ba,db,(wb||0)+pc,(Lb||0)+pc)}function Ca(Ba,db){var wb=Ba.image;if(!wb||Ba.url&&Ba.url!==wb.url)wb=
{complete:!1,width:0,height:0},db.loadImage(Ba.url).then(Lb=>{Ba.image=Lb;Ba.image.url=Ba.url});return wb}function Ya(Ba,db){return null!=Ba.width?Ba.width:db&&db.width?!1!==Ba.aspect&&Ba.height?Ba.height*db.width/db.height:db.width:0}function tb(Ba,db){return null!=Ba.height?Ba.height:db&&db.height?!1!==Ba.aspect&&Ba.width?Ba.width*db.height/db.width:db.height:0}function Kb(Ba,db){return"center"===Ba?db/2:"right"===Ba?db:0}function dc(Ba,db){return"middle"===Ba?db/2:"bottom"===Ba?db:0}function mc(Ba,
db){var wb=db.path;if(null==wb)return!0;var Lb=db.x||0,pc=db.y||0,rc=db.scaleX||1,Nc=db.scaleY||1,xa=(db.angle||0)*Eg,Ra=db.pathCache;Ra&&Ra.path===wb||((db.pathCache=Ra=Va(wb)).path=wb);xa&&Ba.rotate&&Ba.translate?(Ba.translate(Lb,pc),Ba.rotate(xa),ta(Ba,Ra,0,0,rc,Nc),Ba.rotate(-xa),Ba.translate(-Lb,-pc)):ta(Ba,Ra,Lb,pc,rc,Nc)}function Jc(Ba,db){Ba.beginPath();yc(Ba,db)}function Gc(Ba,db,wb){if(db.stroke&&$b(Ba,db,wb)){wb=db.x||0;var Lb=db.y||0;var pc=null!=db.x2?db.x2:wb;db=null!=db.y2?db.y2:Lb;
Ba.beginPath();Ba.moveTo(wb,Lb);Ba.lineTo(pc,db);return!0}return!1}function jc(Ba){rg.width=Ba&&ia?md:bd}function bd(Ba,db){db=Ce(Ba,db);Ba=Nd(Ba);return~~(.8*db.length*Ba)}function md(Ba,db){return 0>=Nd(Ba)||!(db=Ce(Ba,db))?0:Ed(db,Be(Ba))}function Ed(Ba,db){const wb=`(${db}) ${Ba}`;let Lb=Rg.get(wb);void 0===Lb&&(ia.font=db,Lb=ia.measureText(Ba).width,Rg.set(wb,Lb));return Lb}function Nd(Ba){return null!=Ba.fontSize?+Ba.fontSize||0:11}function Pd(Ba){return null!=Ba.lineHeight?Ba.lineHeight:Nd(Ba)+
2}function ee(Ba){Ba=Ba.lineBreak&&Ba.text&&!p.isArray(Ba.text)?Ba.text.split(Ba.lineBreak):Ba.text;return p.isArray(Ba)?1<Ba.length?Ba:Ba[0]:Ba}function Ce(Ba,db){db=null==db?"":(db+"").trim();if(0<Ba.limit&&db.length){var wb=+Ba.limit,Lb=ue(Ba);if(!(Lb(db)<wb)){var pc=Ba.ellipsis||"",rc="rtl"===Ba.dir;Ba=0;var Nc=db.length;wb-=Lb(pc);if(rc){for(;Ba<Nc;)rc=Ba+Nc>>>1,Lb(db.slice(rc))>wb?Ba=rc+1:Nc=rc;db=pc+db.slice(Ba)}else{for(;Ba<Nc;)rc=1+(Ba+Nc>>>1),Lb(db.slice(0,rc))<wb?Ba=rc:Nc=rc-1;db=db.slice(0,
Ba)+pc}}}return db}function ue(Ba){if(rg.width===md){const wb=Be(Ba);return Lb=>Ed(Lb,wb)}const db=Nd(Ba);return wb=>~~(.8*wb.length*db)}function Df(Ba,db){Ba=Ba.font;return(db&&Ba?String(Ba).replace(/"/g,"'"):Ba)||"sans-serif"}function Be(Ba,db){return(Ba.fontStyle?Ba.fontStyle+" ":"")+(Ba.fontVariant?Ba.fontVariant+" ":"")+(Ba.fontWeight?Ba.fontWeight+" ":"")+Nd(Ba)+"px "+Df(Ba,db)}function Me(Ba){var db=Ba.baseline,wb=Nd(Ba);return Math.round("top"===db?.79*wb:"middle"===db?.3*wb:"bottom"===db?
-.21*wb:"line-top"===db?.29*wb+.5*Pd(Ba):"line-bottom"===db?.29*wb-.5*Pd(Ba):0)}function kf(Ba){var db=Ba.x||0,wb=Ba.y||0,Lb=Ba.radius||0;Lb&&(Ba=(Ba.theta||0)-Ag,db+=Lb*Math.cos(Ba),wb+=Lb*Math.sin(Ba));jf.x1=db;jf.y1=wb;return jf}function Sb(Ba,db,wb){var Lb=rg.height(db),pc=db.align,rc=kf(db),Nc=rc.x1;rc=rc.y1;var xa=db.dx||0,Ra=(db.dy||0)+Me(db)-Math.round(.8*Lb),qb=ee(db);p.isArray(qb)?(Lb+=Pd(db)*(qb.length-1),qb=qb.reduce((rb,fc)=>Math.max(rb,rg.width(db,fc)),0)):qb=rg.width(db,qb);"center"===
pc?xa-=qb/2:"right"===pc&&(xa-=qb);Ba.set(xa+=Nc,Ra+=rc,xa+qb,Ra+Lb);if(db.angle&&!wb)Ba.rotate(db.angle*Eg,Nc,rc);else if(2===wb)return Ba.rotatedPoints(db.angle*Eg,Nc,rc);return Ba}function qc(Ba,db,wb){var Lb=sg[Ba.mark.marktype];db=db||Lb.bound;Lb.nested&&(Ba=Ba.mark);return db(Ba.bounds||(Ba.bounds=new hd),Ba,wb)}function Vc(Ba,db,wb){var Lb=sg[Ba.marktype],pc=Lb.bound,rc=Ba.items,Nc=rc&&rc.length;if(Lb.nested)return Nc?Ba=rc[0]:(Lh.mark=Ba,Ba=Lh),wb=qc(Ba,pc,wb),db=db&&db.union(wb)||wb;db=db||
Ba.bounds&&Ba.bounds.clear()||new hd;if(Nc)for(Lb=0,Nc=rc.length;Lb<Nc;++Lb)db.union(qc(rc[Lb],pc,wb));return Ba.bounds=db}function Bd(Ba,db){return JSON.stringify(Ba,bh,db)}function Hd(Ba){Ba="string"===typeof Ba?JSON.parse(Ba):Ba;return me(Ba)}function me(Ba){var db=Ba.marktype,wb=Ba.items,Lb;if(wb){var pc=0;for(Lb=wb.length;pc<Lb;++pc){var rc=db?"mark":"group";wb[pc][rc]=Ba;wb[pc].zindex&&(wb[pc][rc].zdirty=!0);"group"===(db||rc)&&me(wb[pc])}}db&&Vc(Ba);return Ba}function $e(Ba){arguments.length?
this.root=Hd(Ba):(this.root=Qf({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ab(this.root)])}function Qf(Ba,db){db={bounds:new hd,clip:!!Ba.clip,group:db,interactive:!1===Ba.interactive?!1:!0,items:[],marktype:Ba.marktype,name:Ba.name||void 0,role:Ba.role||void 0,zindex:Ba.zindex||0};null!=Ba.aria&&(db.aria=Ba.aria);Ba.description&&(db.description=Ba.description);return db}function Af(Ba,db,wb){!Ba&&"undefined"!==typeof document&&document.createElement&&(Ba=document);return Ba?
wb?Ba.createElementNS(wb,db):Ba.createElement(db):null}function If(Ba,db){db=db.toLowerCase();Ba=Ba.childNodes;for(var wb=0,Lb=Ba.length;wb<Lb;++wb)if(Ba[wb].tagName.toLowerCase()===db)return Ba[wb]}function Ne(Ba,db,wb,Lb){db=Ba.childNodes[db];if(!db||db.tagName.toLowerCase()!==wb.toLowerCase()){var pc=db||null;db=Af(Ba.ownerDocument,wb,Lb);Ba.insertBefore(db,pc)}return db}function Bb(Ba,db){for(var wb=Ba.childNodes,Lb=wb.length;Lb>db;)Ba.removeChild(wb[--Lb]);return Ba}function Zb(Ba){return"mark-"+
Ba.marktype+(Ba.role?" role-"+Ba.role:"")+(Ba.name?" "+Ba.name:"")}function Sc(Ba,db){const wb=db.getBoundingClientRect();return[Ba.clientX-wb.left-(db.clientLeft||0),Ba.clientY-wb.top-(db.clientTop||0)]}function ce(Ba,db){this._active=null;this._handlers={};this._loader=Ba||v.loader();this._tooltip=db||ke}function ke(Ba,db,wb,Lb){Ba.element().setAttribute("title",Lb||"")}function Rd(Ba){this._bgcolor=this._el=null;this._loader=new ec(Ba)}function Sd(Ba,db){ce.call(this,Ba,db);this._touch=this._down=
null;this._first=!0;this._events={}}function Qd(Ba,db){("touchstart"===db||"touchmove"===db||"touchend"===db?["touchstart","touchmove","touchend"]:[db]).forEach(wb=>Qe(Ba,wb))}function Qe(Ba,db){const wb=Ba.canvas();wb&&!Ba._events[db]&&(Ba._events[db]=1,wb.addEventListener(db,Ba[db]?Lb=>Ba[db](Lb):Lb=>Ba.fire(db,Lb)))}function cf(Ba,db,wb){return function(Lb){const pc=this._active,rc=this.pickEvent(Lb);rc!==pc&&(pc&&pc.exit||this.fire(wb,Lb),this._active=rc,this.fire(db,Lb));this.fire(Ba,Lb)}}function ra(Ba){return function(db){this.fire(Ba,
db);this._active=null}}function jb(Ba){Rd.call(this,Ba);this._options={};this._redraw=!1;this._dirty=new hd;this._tempb=new hd}function Ia(Ba,db){ce.call(this,Ba,db);const wb=this;wb._hrefHandler=Vh(wb,(Lb,pc)=>{pc&&pc.href&&wb.handleHref(Lb,pc,pc.href)});wb._tooltipHandler=Vh(wb,(Lb,pc)=>{wb.handleTooltip(Lb,pc,"mouseout"!==Lb.type)})}function Xb(Ba,db){var wb=!1===db.aria;Ba("aria-hidden",wb||void 0);if(wb||null==db.description)for(const Lb in ff)Ba(ff[Lb],void 0);else wb=db.mark.marktype,Ba("aria-label",
db.description),Ba("role",db.ariaRole||("group"===wb?"graphics-object":"graphics-symbol")),Ba("aria-roledescription",db.ariaRoleDescription||`${wb} mark`)}function ha(Ba){return!1===Ba.aria?{["aria-hidden"]:!0}:ef[Ba.role]?null:Hg[Ba.role]?$a(Ba,Hg[Ba.role]):Oa(Ba)}function Oa(Ba){const db=Ba.marktype,wb="group"===db||"text"===db||Ba.items.some(Lb=>null!=Lb.description&&!1!==Lb.aria);return Sh(wb?"graphics-object":"graphics-symbol",`${db} mark container`,Ba.description)}function $a(Ba,db){try{const wb=
Ba.items[0],Lb=db.caption||(()=>"");return Sh(db.role||"graphics-symbol",db.desc,wb.description||Lb(wb))}catch(wb){return null}}function ub(Ba){try{return p.array(p.peek(Ba.items).items[0].text).join(" ")}catch(db){return null}}function Cb(Ba){Ba=Ba.map(db=>db+("fill"===db||"stroke"===db?" color":""));return 2>Ba.length?Ba[0]:Ba.slice(0,-1).join(", ")+" and "+p.peek(Ba)}function Wb(){let Ba="",db="",wb="";const Lb=[],pc=(Nc,xa)=>{null!=xa&&(db+=` ${Nc}="${sf(xa).replace(/"/g,"\x26quot;").replace(/\t/g,
"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return rc},rc={open(Nc,...xa){db&&(Ba+=`${db}>${wb}`,db=wb="");Lb.push(Nc);db="\x3c"+Nc;for(const Ra of xa)for(const qb in Ra)pc(qb,Ra[qb]);return rc},close(){const Nc=Lb.pop();Ba=db?Ba+(db+(wb?`>${wb}</${Nc}>`:"/\x3e")):Ba+`</${Nc}>`;db=wb="";return rc},attr:pc,text:Nc=>(wb+=sf(Nc),rc),toString:()=>Ba};return rc}function sc(Ba,db){Ba.open(db.tagName);if(db.hasAttributes()){const wb=db.attributes,Lb=wb.length;for(let pc=0;pc<Lb;++pc)Ba.attr(wb[pc].name,
wb[pc].value)}if(db.hasChildNodes()){db=db.childNodes;for(const wb of db)3===wb.nodeType?Ba.text(wb.nodeValue):sc(Ba,wb)}return Ba.close()}function Uc(Ba){Rd.call(this,Ba);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Xc(Ba,db){for(;Ba&&Ba.dirty!==db;Ba=Ba.mark.group)if(Ba.dirty=db,Ba.mark&&Ba.mark.dirty!==db)Ba.mark.dirty=db;else break}function Cc(Ba,db,wb){db=db.lastChild.previousSibling;let Lb,pc=0;fd(wb,rc=>{Lb=Ba.mark(db,rc,Lb);++pc});Bb(db,1+pc)}function zc(Ba,
db,wb,Lb,pc){let rc=Ba._svg;if(!rc){var Nc=db.ownerDocument;rc=Af(Nc,Lb,Hf);Ba._svg=rc;Ba.mark&&(rc.__data__=Ba,rc.__values__={fill:"default"},"g"===Lb&&(Lb=Af(Nc,"path",Hf),rc.appendChild(Lb),Lb.__data__=Ba,Lb=Af(Nc,"g",Hf),rc.appendChild(Lb),Lb.__data__=Ba,Nc=Af(Nc,"path",Hf),rc.appendChild(Nc),Nc.__data__=Ba,Nc.__values__={fill:"default"}))}(rc.ownerSVGElement!==pc||rc.parentNode&&1<rc.parentNode.childNodes.length&&rc.previousSibling!=wb)&&db.insertBefore(rc,wb?wb.nextSibling:db.firstChild);return rc}
function oc(Ba,db,wb){if(db!==Of[Ba]){if(wb){var Lb=re;null!=db?Lb.setAttributeNS(wb,Ba,db):Lb.removeAttributeNS(wb,Ba)}else Yc(re,Ba,db);Of[Ba]=db}}function Fc(Ba,db,wb){wb!==Of[db]&&(null==wb?Ba.style.removeProperty(db):Ba.style.setProperty(db,wb+""),Of[db]=wb)}function Mc(Ba,db){for(const wb in db)Yc(Ba,wb,db[wb])}function Yc(Ba,db,wb){null!=wb?Ba.setAttribute(db,wb):Ba.removeAttribute(db)}function mb(){let Ba;return"undefined"===typeof window?"":(Ba=window.location).hash?Ba.href.slice(0,-Ba.hash.length):
Ba.href}function Gb(Ba){Rd.call(this,Ba);this._text=null;this._defs={gradient:{},clipping:{}}}function Pb(Ba,db,wb,Lb,pc){let rc;if(null==db)return Ba;"bgrect"===Lb&&!1===wb.interactive&&(Ba["pointer-events"]="none");if("bgfore"===Lb&&(!1===wb.interactive&&(Ba["pointer-events"]="none"),Ba.display="none",null!==db.fill))return Ba;"image"===Lb&&!1===db.smooth&&(rc=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]);"text"===Lb&&(Ba["font-family"]=Df(db),Ba["font-size"]=Nd(db)+"px",Ba["font-style"]=
db.fontStyle,Ba["font-variant"]=db.fontVariant,Ba["font-weight"]=db.fontWeight);for(const Nc in Uh)wb=db[Nc],Lb=Uh[Nc],("transparent"!==wb||"fill"!==Lb&&"stroke"!==Lb)&&null!=wb&&(wb&&wb.gradient&&(wb=h(wb,pc.gradient,"")),Ba[Lb]=wb);for(const Nc in Fh)pc=db[Nc],null!=pc&&(rc=rc||[],rc.push(`${Fh[Nc]}: ${pc};`));rc&&(Ba.style=rc.join(" "));return Ba}function Vb(Ba,db,wb,Lb){if(Ba.bounds&&db.intersects(Ba.bounds)&&("group"===Ba.marktype||!1!==Ba.interactive&&(!wb||wb(Ba)))){const rc=Ba.items;var pc=
Ba.marktype;Ba=rc.length;let Nc=0;if("group"===pc)for(;Nc<Ba;++Nc)ma(rc[Nc],db,wb,Lb);else for(wb=sg[pc].isect;Nc<Ba;++Nc)pc=rc[Nc],Ka(pc,db,wb)&&Lb.push(pc)}return Lb}function ma(Ba,db,wb,Lb){wb&&wb(Ba.mark)&&Ka(Ba,db,sg.group.isect)&&Lb.push(Ba);const pc=Ba.items,rc=pc&&pc.length;if(rc){const Nc=Ba.x||0;Ba=Ba.y||0;db.translate(-Nc,-Ba);for(let xa=0;xa<rc;++xa)Vb(pc[xa],db,wb,Lb);db.translate(Nc,Ba)}return Lb}function Ka(Ba,db,wb){const Lb=Ba.bounds;return db.encloses(Lb)||db.intersects(Lb)&&wb(Ba,
db)}function ib(Ba,db,wb){return Ba===db?!0:"path"===wb?Eb(Ba,db):Ba instanceof Date&&db instanceof Date?+Ba===+db:p.isNumber(Ba)&&p.isNumber(db)?1E-9>=Math.abs(Ba-db):Ba&&db&&(p.isObject(Ba)||p.isObject(db))?Ib(Ba,db):Ba==db}function Eb(Ba,db){return ib(Va(Ba),Va(db))}function Ib(Ba,db){var wb=Object.keys(Ba),Lb=Object.keys(db),pc;if(wb.length!==Lb.length)return!1;wb.sort();Lb.sort();for(pc=wb.length-1;0<=pc;pc--)if(wb[pc]!=Lb[pc])return!1;for(pc=wb.length-1;0<=pc;pc--)if(Lb=wb[pc],!ib(Ba[Lb],db[Lb],
Lb))return!1;return typeof Ba===typeof db}let Nb=0;const kc=Math.PI,Kc=2*kc,Bc=Kc-1E-6;f.prototype=e.prototype={constructor:f,moveTo:function(Ba,db){this._+="M"+(this._x0=this._x1=+Ba)+","+(this._y0=this._y1=+db)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Ba,db){this._+="L"+(this._x1=+Ba)+","+(this._y1=+db)},quadraticCurveTo:function(Ba,db,wb,Lb){this._+="Q"+ +Ba+","+ +db+","+(this._x1=+wb)+","+(this._y1=+Lb)},bezierCurveTo:function(Ba,
db,wb,Lb,pc,rc){this._+="C"+ +Ba+","+ +db+","+ +wb+","+ +Lb+","+(this._x1=+pc)+","+(this._y1=+rc)},arcTo:function(Ba,db,wb,Lb,pc){Ba=+Ba;db=+db;wb=+wb;Lb=+Lb;pc=+pc;var rc=this._x1,Nc=this._y1,xa=wb-Ba,Ra=Lb-db,qb=rc-Ba,rb=Nc-db,fc=qb*qb+rb*rb;if(0>pc)throw Error("negative radius: "+pc);if(null===this._x1)this._+="M"+(this._x1=Ba)+","+(this._y1=db);else if(1E-6<fc)if(1E-6<Math.abs(rb*xa-Ra*qb)&&pc){wb-=rc;Lb-=Nc;var Oc=xa*xa+Ra*Ra;Nc=Math.sqrt(Oc);rc=Math.sqrt(fc);fc=pc*Math.tan((kc-Math.acos((Oc+
fc-(wb*wb+Lb*Lb))/(2*Nc*rc)))/2);rc=fc/rc;fc/=Nc;1E-6<Math.abs(rc-1)&&(this._+="L"+(Ba+rc*qb)+","+(db+rc*rb));this._+="A"+pc+","+pc+",0,0,"+ +(rb*wb>qb*Lb)+","+(this._x1=Ba+fc*xa)+","+(this._y1=db+fc*Ra)}else this._+="L"+(this._x1=Ba)+","+(this._y1=db)},arc:function(Ba,db,wb,Lb,pc,rc){Ba=+Ba;db=+db;wb=+wb;rc=!!rc;var Nc=wb*Math.cos(Lb),xa=wb*Math.sin(Lb),Ra=Ba+Nc,qb=db+xa,rb=1^rc;Lb=rc?Lb-pc:pc-Lb;if(0>wb)throw Error("negative radius: "+wb);if(null===this._x1)this._+="M"+Ra+","+qb;else if(1E-6<Math.abs(this._x1-
Ra)||1E-6<Math.abs(this._y1-qb))this._+="L"+Ra+","+qb;wb&&(0>Lb&&(Lb=Lb%Kc+Kc),Lb>Bc?this._+="A"+wb+","+wb+",0,1,"+rb+","+(Ba-Nc)+","+(db-xa)+"A"+wb+","+wb+",0,1,"+rb+","+(this._x1=Ra)+","+(this._y1=qb):1E-6<Lb&&(this._+="A"+wb+","+wb+",0,"+ +(Lb>=kc)+","+rb+","+(this._x1=Ba+wb*Math.cos(pc))+","+(this._y1=db+wb*Math.sin(pc))))},rect:function(Ba,db,wb,Lb){this._+="M"+(this._x0=this._x1=+Ba)+","+(this._y0=this._y1=+db)+"h"+ +wb+"v"+ +Lb+"h"+-wb+"Z"},toString:function(){return this._}};const wc=Math.abs,
ld=Math.atan2,wd=Math.cos,Fe=Math.max,Fd=Math.min,he=Math.sin,se=Math.sqrt,td=Math.PI,Dd=td/2,fe=2*td;A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ba,db){Ba=+Ba;db=+db;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ba,db):this._context.moveTo(Ba,db);break;case 1:this._point=
2;default:this._context.lineTo(Ba,db)}}};var qe={draw(Ba,db){db=se(db/td);Ba.moveTo(db,0);Ba.arc(0,0,db,0,fe)}};ba.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:T(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ba,
db){Ba=+Ba;db=+db;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Ba,db):this._context.moveTo(Ba,db);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:T(this,Ba,db)}this._x0=this._x1;this._x1=Ba;this._y0=this._y1;this._y1=db}};aa.prototype={areaStart:Z,areaEnd:Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,
this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Ba,db){Ba=+Ba;db=+db;switch(this._point){case 0:this._point=1;this._x2=Ba;this._y2=db;break;case 1:this._point=2;this._x3=Ba;this._y3=db;break;case 2:this._point=3;this._x4=
Ba;this._y4=db;this._context.moveTo((this._x0+4*this._x1+Ba)/6,(this._y0+4*this._y1+db)/6);break;default:T(this,Ba,db)}this._x0=this._x1;this._x1=Ba;this._y0=this._y1;this._y1=db}};W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Ba,db){Ba=+Ba;db=+db;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;var wb=(this._x0+4*this._x1+Ba)/6,Lb=(this._y0+4*this._y1+db)/6;this._line?this._context.lineTo(wb,Lb):this._context.moveTo(wb,Lb);break;case 3:this._point=4;default:T(this,Ba,db)}this._x0=this._x1;this._x1=Ba;this._y0=this._y1;this._y1=db}};X.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Ba=this._x,db=this._y,wb=Ba.length-1;if(0<wb)for(var Lb=Ba[0],pc=db[0],rc=Ba[wb]-Lb,Nc=db[wb]-pc,xa=
-1,Ra;++xa<=wb;)Ra=xa/wb,this._basis.point(this._beta*Ba[xa]+(1-this._beta)*(Lb+Ra*rc),this._beta*db[xa]+(1-this._beta)*(pc+Ra*Nc));this._x=this._y=null;this._basis.lineEnd()},point:function(Ba,db){this._x.push(+Ba);this._y.push(+db)}};var Ad=function wb(db){function Lb(pc){return 1===db?new ba(pc):new X(pc,db)}Lb.beta=function(pc){return wb(+pc)};return Lb}(.85);w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=
this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:P(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(db,wb){db=+db;wb=+wb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(db,wb):this._context.moveTo(db,wb);break;case 1:this._point=2;this._x1=db;this._y1=wb;break;case 2:this._point=3;default:P(this,db,wb)}this._x0=
this._x1;this._x1=this._x2;this._x2=db;this._y0=this._y1;this._y1=this._y2;this._y2=wb}};var We=function Lb(wb){function pc(rc){return new w(rc,wb)}pc.tension=function(rc){return Lb(+rc)};return pc}(0);B.prototype={areaStart:Z,areaEnd:Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;
case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(wb,Lb){wb=+wb;Lb=+Lb;switch(this._point){case 0:this._point=1;this._x3=wb;this._y3=Lb;break;case 1:this._point=2;this._context.moveTo(this._x4=wb,this._y4=Lb);break;case 2:this._point=3;this._x5=wb;this._y5=Lb;break;default:P(this,wb,Lb)}this._x0=this._x1;this._x1=this._x2;this._x2=wb;this._y0=this._y1;this._y1=
this._y2;this._y2=Lb}};var Se=function pc(Lb){function rc(Nc){return new B(Nc,Lb)}rc.tension=function(Nc){return pc(+Nc)};return rc}(0);K.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Lb,pc){Lb=+Lb;pc=+pc;switch(this._point){case 0:this._point=
1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:P(this,Lb,pc)}this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=pc}};var hf=function rc(pc){function Nc(xa){return new K(xa,pc)}Nc.tension=function(xa){return rc(+xa)};return Nc}(0);ka.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pc,rc){pc=+pc;rc=+rc;if(this._point){var Nc=this._x2-pc,xa=this._y2-rc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Nc*Nc+
xa*xa,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pc,rc):this._context.moveTo(pc,rc);break;case 1:this._point=2;break;case 2:this._point=3;default:U(this,pc,rc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=pc;this._y0=this._y1;this._y1=this._y2;this._y2=rc}};var Bf=function Nc(rc){function xa(Ra){return rc?new ka(Ra,rc):new w(Ra,0)}xa.alpha=function(Ra){return Nc(+Ra)};
return xa}(.5);da.prototype={areaStart:Z,areaEnd:Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),
this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(rc,Nc){rc=+rc;Nc=+Nc;if(this._point){var xa=this._x2-rc,Ra=this._y2-Nc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(xa*xa+Ra*Ra,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=rc;this._y3=Nc;break;case 1:this._point=2;this._context.moveTo(this._x4=rc,this._y4=Nc);break;case 2:this._point=3;this._x5=rc;this._y5=Nc;break;default:U(this,rc,Nc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;
this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=rc;this._y0=this._y1;this._y1=this._y2;this._y2=Nc}};var Cf=function xa(Nc){function Ra(qb){return Nc?new da(qb,Nc):new B(qb,0)}Ra.alpha=function(qb){return xa(+qb)};return Ra}(.5);la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Nc,xa){Nc=+Nc;xa=+xa;if(this._point){var Ra=this._x2-Nc,qb=this._y2-xa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Ra*Ra+qb*qb,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:U(this,
Nc,xa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Nc;this._y0=this._y1;this._y1=this._y2;this._y2=xa}};var Vg=function Ra(xa){function qb(rb){return xa?new la(rb,xa):new K(rb,0)}qb.alpha=function(rb){return Ra(+rb)};return qb}(.5);wa.prototype={areaStart:Z,areaEnd:Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(xa,Ra){xa=+xa;Ra=+Ra;this._point?
this._context.lineTo(xa,Ra):(this._point=1,this._context.moveTo(xa,Ra))}};pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:La(this,this._t0,hb(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(xa,Ra){var qb=
NaN;xa=+xa;Ra=+Ra;if(xa!==this._x1||Ra!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xa,Ra):this._context.moveTo(xa,Ra);break;case 1:this._point=2;break;case 2:this._point=3;La(this,hb(this,qb=Ua(this,xa,Ra)),qb);break;default:La(this,this._t0,qb=Ua(this,xa,Ra))}this._x0=this._x1;this._x1=xa;this._y0=this._y1;this._y1=Ra;this._t0=qb}}};(Da.prototype=Object.create(pa.prototype)).point=function(xa,Ra){pa.prototype.point.call(this,Ra,xa)};Ma.prototype={moveTo:function(xa,
Ra){this._context.moveTo(Ra,xa)},closePath:function(){this._context.closePath()},lineTo:function(xa,Ra){this._context.lineTo(Ra,xa)},bezierCurveTo:function(xa,Ra,qb,rb,fc,Oc){this._context.bezierCurveTo(Ra,xa,rb,qb,Oc,fc)}};ua.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var xa=this._x,Ra=this._y,qb=xa.length;if(qb)if(this._line?this._context.lineTo(xa[0],Ra[0]):this._context.moveTo(xa[0],Ra[0]),2===
qb)this._context.lineTo(xa[1],Ra[1]);else for(var rb=Aa(xa),fc=Aa(Ra),Oc=0,$c=1;$c<qb;++Oc,++$c)this._context.bezierCurveTo(rb[0][Oc],fc[0][Oc],rb[1][Oc],fc[1][Oc],xa[$c],Ra[$c]);(this._line||0!==this._line&&1===qb)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(xa,Ra){this._x.push(+xa);this._y.push(+Ra)}};qa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<
this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(xa,Ra){xa=+xa;Ra=+Ra;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(xa,Ra):this._context.moveTo(xa,Ra);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Ra),this._context.lineTo(xa,Ra);else{var qb=this._x*(1-this._t)+xa*this._t;
this._context.lineTo(qb,this._y);this._context.lineTo(qb,Ra)}}this._x=xa;this._y=Ra}};const Yd={basis:{curve:function(xa){return new ba(xa)}},"basis-closed":{curve:function(xa){return new aa(xa)}},"basis-open":{curve:function(xa){return new W(xa)}},bundle:{curve:Ad,tension:"beta",value:.85},cardinal:{curve:We,tension:"tension",value:0},"cardinal-open":{curve:hf,tension:"tension",value:0},"cardinal-closed":{curve:Se,tension:"tension",value:0},"catmull-rom":{curve:Bf,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Cf,
tension:"alpha",value:.5},"catmull-rom-open":{curve:Vg,tension:"alpha",value:.5},linear:{curve:x},"linear-closed":{curve:function(xa){return new wa(xa)}},monotone:{horizontal:function(xa){return new Da(xa)},vertical:function(xa){return new pa(xa)}},natural:{curve:function(xa){return new ua(xa)}},step:{curve:function(xa){return new qa(xa,.5)}},"step-after":{curve:function(xa){return new qa(xa,1)}},"step-before":{curve:function(xa){return new qa(xa,0)}}},Ie={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},
qg=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,ug=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Zg=/^((\s+,?\s*)|(,\s*))/,cg=/^[01]/,Eg=Math.PI/180,Ag=Math.PI/2,dg=2*Math.PI,Rf=Math.sqrt(3)/2;var Jf={},eg={},Mf=[].join;const jg=["l",0,0,0,0,0,0,0],oh={circle:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;xa.moveTo(Ra,0);xa.arc(0,0,Ra,0,dg)}},cross:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Ra/2.5;xa.moveTo(-Ra,-qb);xa.lineTo(-Ra,qb);xa.lineTo(-qb,qb);xa.lineTo(-qb,Ra);xa.lineTo(qb,Ra);xa.lineTo(qb,
qb);xa.lineTo(Ra,qb);xa.lineTo(Ra,-qb);xa.lineTo(qb,-qb);xa.lineTo(qb,-Ra);xa.lineTo(-qb,-Ra);xa.lineTo(-qb,-qb);xa.closePath()}},diamond:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;xa.moveTo(-Ra,0);xa.lineTo(0,-Ra);xa.lineTo(Ra,0);xa.lineTo(0,Ra);xa.closePath()}},square:{draw:function(xa,Ra){Ra=Math.sqrt(Ra);var qb=-Ra/2;xa.rect(qb,qb,Ra,Ra)}},arrow:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Ra/7,rb=Ra/2.5,fc=Ra/8;xa.moveTo(-qb,Ra);xa.lineTo(qb,Ra);xa.lineTo(qb,-fc);xa.lineTo(rb,-fc);xa.lineTo(0,
-Ra);xa.lineTo(-rb,-fc);xa.lineTo(-qb,-fc);xa.closePath()}},wedge:{draw:function(xa,Ra){var qb=Math.sqrt(Ra)/2;Ra=Rf*qb;var rb=Ra-.5773502691896257*qb;qb/=4;xa.moveTo(0,-Ra-rb);xa.lineTo(-qb,Ra-rb);xa.lineTo(qb,Ra-rb);xa.closePath()}},triangle:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Rf*Ra,rb=qb-.5773502691896257*Ra;xa.moveTo(0,-qb-rb);xa.lineTo(-Ra,qb-rb);xa.lineTo(Ra,qb-rb);xa.closePath()}},"triangle-up":{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Rf*Ra;xa.moveTo(0,-qb);xa.lineTo(-Ra,
qb);xa.lineTo(Ra,qb);xa.closePath()}},"triangle-down":{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Rf*Ra;xa.moveTo(0,qb);xa.lineTo(-Ra,-qb);xa.lineTo(Ra,-qb);xa.closePath()}},"triangle-right":{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Rf*Ra;xa.moveTo(qb,0);xa.lineTo(-qb,-Ra);xa.lineTo(-qb,Ra);xa.closePath()}},"triangle-left":{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/2;var qb=Rf*Ra;xa.moveTo(-qb,0);xa.lineTo(qb,-Ra);xa.lineTo(qb,Ra);xa.closePath()}},stroke:{draw:function(xa,Ra){Ra=Math.sqrt(Ra)/
2;xa.moveTo(-Ra,0);xa.lineTo(Ra,0)}}};var th={};const Fg=xa=>xa.x||0,vg=xa=>xa.y||0,vh=xa=>!1!==xa.defined,Za=function(){function xa(){var Md,Cd=+Ra.apply(this,arguments),Ae=+qb.apply(this,arguments),uf=Oc.apply(this,arguments)-Dd,Je=$c.apply(this,arguments)-Dd,of=wc(Je-uf),Vf=Je>uf;Tc||(Tc=Md=e());if(Ae<Cd){var pg=Ae;Ae=Cd;Cd=pg}if(1E-12<Ae)if(of>fe-1E-12)Tc.moveTo(Ae*wd(uf),Ae*he(uf)),Tc.arc(0,0,Ae,uf,Je,!Vf),1E-12<Cd&&(Tc.moveTo(Cd*wd(Je),Cd*he(Je)),Tc.arc(0,0,Cd,Je,uf,Vf));else{var mf=uf,Lf=Je;
pg=uf;var nf=Je,xf=of,Bh=of,hg=xd.apply(this,arguments)/2,Xg=1E-12<hg&&(fc?+fc.apply(this,arguments):se(Cd*Cd+Ae*Ae)),ih=Fd(wc(Ae-Cd)/2,+rb.apply(this,arguments)),Tg=ih,eh=ih;if(1E-12<Xg){var Yh=a(Xg/Cd*he(hg));hg=a(Xg/Ae*he(hg));1E-12<(xf-=2*Yh)?(Yh*=Vf?1:-1,pg+=Yh,nf-=Yh):(xf=0,pg=nf=(uf+Je)/2);1E-12<(Bh-=2*hg)?(hg*=Vf?1:-1,mf+=hg,Lf-=hg):(Bh=0,mf=Lf=(uf+Je)/2)}uf=Ae*wd(mf);Je=Ae*he(mf);Yh=Cd*wd(nf);hg=Cd*he(nf);if(1E-12<ih){var Kg=Ae*wd(Lf),ui=Ae*he(Lf),Sg=Cd*wd(pg),Ng=Cd*he(pg);if(of=of<td){var lg=
Sg-uf;of=Ng-Je;Xg=Yh-Kg;var Ch=hg-ui,Hh=Ch*lg-Xg*of;1E-12>Hh*Hh?lg=void 0:(Hh=(Xg*(Je-ui)-Ch*(uf-Kg))/Hh,lg=[uf+Hh*lg,Je+Hh*of]);of=lg}of&&(Tg=uf-lg[0],eh=Je-lg[1],of=Kg-lg[0],Xg=ui-lg[1],Tg=(Tg*of+eh*Xg)/(se(Tg*Tg+eh*eh)*se(of*of+Xg*Xg)),eh=1/he((1<Tg?0:-1>Tg?td:Math.acos(Tg))/2),lg=se(lg[0]*lg[0]+lg[1]*lg[1]),Tg=Fd(ih,(Cd-lg)/(eh-1)),eh=Fd(ih,(Ae-lg)/(eh+1)))}1E-12<Bh?1E-12<eh?(mf=C(Sg,Ng,uf,Je,Ae,eh,Vf),Lf=C(Kg,ui,Yh,hg,Ae,eh,Vf),Tc.moveTo(mf.cx+mf.x01,mf.cy+mf.y01),eh<ih?Tc.arc(mf.cx,mf.cy,eh,
ld(mf.y01,mf.x01),ld(Lf.y01,Lf.x01),!Vf):(Tc.arc(mf.cx,mf.cy,eh,ld(mf.y01,mf.x01),ld(mf.y11,mf.x11),!Vf),Tc.arc(0,0,Ae,ld(mf.cy+mf.y11,mf.cx+mf.x11),ld(Lf.cy+Lf.y11,Lf.cx+Lf.x11),!Vf),Tc.arc(Lf.cx,Lf.cy,eh,ld(Lf.y11,Lf.x11),ld(Lf.y01,Lf.x01),!Vf))):(Tc.moveTo(uf,Je),Tc.arc(0,0,Ae,mf,Lf,!Vf)):Tc.moveTo(uf,Je);1E-12<Cd&&1E-12<xf?1E-12<Tg?(mf=C(Yh,hg,Kg,ui,Cd,-Tg,Vf),Lf=C(uf,Je,Sg,Ng,Cd,-Tg,Vf),Tc.lineTo(mf.cx+mf.x01,mf.cy+mf.y01),Tg<ih?Tc.arc(mf.cx,mf.cy,Tg,ld(mf.y01,mf.x01),ld(Lf.y01,Lf.x01),!Vf):
(Tc.arc(mf.cx,mf.cy,Tg,ld(mf.y01,mf.x01),ld(mf.y11,mf.x11),!Vf),Tc.arc(0,0,Cd,ld(mf.cy+mf.y11,mf.cx+mf.x11),ld(Lf.cy+Lf.y11,Lf.cx+Lf.x11),Vf),Tc.arc(Lf.cx,Lf.cy,Tg,ld(Lf.y11,Lf.x11),ld(Lf.y01,Lf.x01),!Vf))):Tc.arc(0,0,Cd,nf,pg,Vf):Tc.lineTo(Yh,hg)}else Tc.moveTo(0,0);Tc.closePath();if(Md)return Tc=null,Md+""||null}var Ra=c,qb=b,rb=d(0),fc=null,Oc=m,$c=z,xd=u,Tc=null;xa.centroid=function(){var Md=(+Ra.apply(this,arguments)+ +qb.apply(this,arguments))/2,Cd=(+Oc.apply(this,arguments)+ +$c.apply(this,
arguments))/2-td/2;return[wd(Cd)*Md,he(Cd)*Md]};xa.innerRadius=function(Md){return arguments.length?(Ra="function"===typeof Md?Md:d(+Md),xa):Ra};xa.outerRadius=function(Md){return arguments.length?(qb="function"===typeof Md?Md:d(+Md),xa):qb};xa.cornerRadius=function(Md){return arguments.length?(rb="function"===typeof Md?Md:d(+Md),xa):rb};xa.padRadius=function(Md){return arguments.length?(fc=null==Md?null:"function"===typeof Md?Md:d(+Md),xa):fc};xa.startAngle=function(Md){return arguments.length?(Oc=
"function"===typeof Md?Md:d(+Md),xa):Oc};xa.endAngle=function(Md){return arguments.length?($c="function"===typeof Md?Md:d(+Md),xa):$c};xa.padAngle=function(Md){return arguments.length?(xd="function"===typeof Md?Md:d(+Md),xa):xd};xa.context=function(Md){return arguments.length?(Tc=null==Md?null:Md,xa):Tc};return xa}().startAngle(xa=>xa.startAngle||0).endAngle(xa=>xa.endAngle||0).padAngle(xa=>xa.padAngle||0).innerRadius(xa=>xa.innerRadius||0).outerRadius(xa=>xa.outerRadius||0).cornerRadius(xa=>xa.cornerRadius||
0),Db=R().x(Fg).y1(vg).y0(xa=>(xa.y||0)+(xa.height||0)).defined(vh),ic=R().y(vg).x1(Fg).x0(xa=>(xa.x||0)+(xa.width||0)).defined(vh),ud=M().x(Fg).y(vg).defined(vh),yd=Fb().x(Fg).y(vg).width(xa=>xa.width||0).height(xa=>xa.height||0).cornerRadius(xa=>Lc(xa.cornerRadiusTopLeft,xa.cornerRadius)||0,xa=>Lc(xa.cornerRadiusTopRight,xa.cornerRadius)||0,xa=>Lc(xa.cornerRadiusBottomRight,xa.cornerRadius)||0,xa=>Lc(xa.cornerRadiusBottomLeft,xa.cornerRadius)||0),be=function(xa,Ra){function qb(){let fc;rb||(rb=
fc=e());xa.apply(this,arguments).draw(rb,+Ra.apply(this,arguments));if(fc)return rb=null,fc+""||null}let rb=null;xa="function"===typeof xa?xa:d(xa||qe);Ra="function"===typeof Ra?Ra:d(void 0===Ra?64:+Ra);qb.type=function(fc){return arguments.length?(xa="function"===typeof fc?fc:d(fc),qb):xa};qb.size=function(fc){return arguments.length?(Ra="function"===typeof fc?fc:d(+fc),qb):Ra};qb.context=function(fc){return arguments.length?(rb=null==fc?null:fc,qb):rb};return qb}().type(xa=>oa(xa.shape||"circle")).size(xa=>
Lc(xa.size,64)),df=nc().x(Fg).y(vg).defined(vh).size(xa=>xa.size||1);var tf=1;hd.prototype={clone(){return new hd(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(xa){return this.x1===xa.x1&&this.y1===xa.y1&&this.x2===xa.x2&&this.y2===xa.y2},set(xa,Ra,qb,rb){qb<xa?(this.x2=xa,this.x1=
qb):(this.x1=xa,this.x2=qb);rb<Ra?(this.y2=Ra,this.y1=rb):(this.y1=Ra,this.y2=rb);return this},add(xa,Ra){xa<this.x1&&(this.x1=xa);Ra<this.y1&&(this.y1=Ra);xa>this.x2&&(this.x2=xa);Ra>this.y2&&(this.y2=Ra);return this},expand(xa){this.x1-=xa;this.y1-=xa;this.x2+=xa;this.y2+=xa;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(xa){this.x1*=xa;this.y1*=xa;this.x2*=xa;this.y2*=xa;return this},translate(xa,
Ra){this.x1+=xa;this.x2+=xa;this.y1+=Ra;this.y2+=Ra;return this},rotate(xa,Ra,qb){xa=this.rotatedPoints(xa,Ra,qb);return this.clear().add(xa[0],xa[1]).add(xa[2],xa[3]).add(xa[4],xa[5]).add(xa[6],xa[7])},rotatedPoints(xa,Ra,qb){var {x1:rb,y1:fc,x2:Oc,y2:$c}=this,xd=Math.cos(xa);xa=Math.sin(xa);var Tc=Ra-Ra*xd+qb*xa;Ra=qb-Ra*xa-qb*xd;return[xd*rb-xa*fc+Tc,xa*rb+xd*fc+Ra,xd*rb-xa*$c+Tc,xa*rb+xd*$c+Ra,xd*Oc-xa*fc+Tc,xa*Oc+xd*fc+Ra,xd*Oc-xa*$c+Tc,xa*Oc+xd*$c+Ra]},union(xa){xa.x1<this.x1&&(this.x1=xa.x1);
xa.y1<this.y1&&(this.y1=xa.y1);xa.x2>this.x2&&(this.x2=xa.x2);xa.y2>this.y2&&(this.y2=xa.y2);return this},intersect(xa){xa.x1>this.x1&&(this.x1=xa.x1);xa.y1>this.y1&&(this.y1=xa.y1);xa.x2<this.x2&&(this.x2=xa.x2);xa.y2<this.y2&&(this.y2=xa.y2);return this},encloses(xa){return xa&&this.x1<=xa.x1&&this.x2>=xa.x2&&this.y1<=xa.y1&&this.y2>=xa.y2},alignsWith(xa){return xa&&(this.x1==xa.x1||this.x2==xa.x2||this.y1==xa.y1||this.y2==xa.y2)},intersects(xa){return xa&&!(this.x2<xa.x1||this.x1>xa.x2||this.y2<
xa.y1||this.y1>xa.y2)},contains(xa,Ra){return!(xa<this.x1||xa>this.x2||Ra<this.y1||Ra>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};p.inherits(Ab,Mb);ec.prototype={pending(){return this._pending},sanitizeURL(xa){const Ra=this;Ra._pending+=1;return Ra._loader.sanitize(xa,{context:"href"}).then(qb=>{--Ra._pending;return qb}).catch(()=>{--Ra._pending;return null})},loadImage(xa){const Ra=this,qb=n.image();Ra._pending+=1;return Ra._loader.sanitize(xa,{context:"image"}).then(rb=>
{const fc=rb.href;if(!fc||!qb)throw{url:fc};const Oc=new qb;rb=p.hasOwnProperty(rb,"crossOrigin")?rb.crossOrigin:"anonymous";null!=rb&&(Oc.crossOrigin=rb);Oc.onload=()=>{--Ra._pending};Oc.onerror=()=>{--Ra._pending};Oc.src=fc;return Oc}).catch(rb=>{--Ra._pending;return{complete:!1,width:0,height:0,src:rb&&rb.url||""}})},ready(){const xa=this;return new Promise(Ra=>{function qb(rb){xa.pending()?setTimeout(()=>{qb(!0)},10):Ra(rb)}qb(!1)})}};const Gg=dg-1E-8;let Nf,qh,xh,$g,Wg,Og,kh,ah;const Xh=(xa,
Ra)=>{xa=qh=xa;Ra=xh=Ra;return Nf.add(xa,Ra)},ph=xa=>Nf.add(xa,Nf.y1),og=xa=>Nf.add(Nf.x1,xa),Kh=(xa,Ra)=>Nf.add(Wg*xa+kh*Ra,Og*xa+ah*Ra),Ph=(xa,Ra)=>Xh(Wg*xa+kh*Ra,Og*xa+ah*Ra),N={beginPath(){},closePath(){},moveTo:Ph,lineTo:Ph,rect(xa,Ra,qb,rb){$g?(Kh(xa+qb,Ra),Kh(xa+qb,Ra+rb),Kh(xa,Ra+rb),Ph(xa,Ra)):(Nf.add(xa+qb,Ra+rb),Xh(xa,Ra))},quadraticCurveTo(xa,Ra,qb,rb){const fc=Og*xa+ah*Ra,Oc=Wg*qb+kh*rb;qb=Og*qb+ah*rb;Ic(qh,Wg*xa+kh*Ra,Oc,ph);Ic(xh,fc,qb,og);Xh(Oc,qb)},bezierCurveTo(xa,Ra,qb,rb,fc,Oc){const $c=
Og*xa+ah*Ra,xd=Og*qb+ah*rb,Tc=Wg*fc+kh*Oc;fc=Og*fc+ah*Oc;Ec(qh,Wg*xa+kh*Ra,Wg*qb+kh*rb,Tc,ph);Ec(xh,$c,xd,fc,og);Xh(Tc,fc)},arc(xa,Ra,qb,rb,fc,Oc){rb+=$g;fc+=$g;qh=qb*Math.cos(fc)+xa;xh=qb*Math.sin(fc)+Ra;if(Math.abs(fc-rb)>Gg)Nf.add(xa-qb,Ra-qb),Nf.add(xa+qb,Ra+qb);else{const $c=Tc=>Nf.add(qb*Math.cos(Tc)+xa,qb*Math.sin(Tc)+Ra);let xd;$c(rb);$c(fc);if(fc!==rb)if(rb%=dg,0>rb&&(rb+=dg),fc%=dg,0>fc&&(fc+=dg),fc<rb&&(Oc=!Oc,xd=rb,rb=fc,fc=xd),Oc)for(fc-=dg,xd=rb-rb%Ag,rb=0;4>rb&&xd>fc;++rb,xd-=Ag)$c(xd);
else for(xd=rb-rb%Ag+Ag,rb=0;4>rb&&xd<fc;++rb,xd+=Ag)$c(xd)}}};var ia=(ia=n.canvas(1,1))?ia.getContext("2d"):null;const Pa=new hd;var fb=[],Jb=qd("arc",function(xa,Ra){return Za.context(xa)(Ra)}),Rb=bf("area",function(xa,Ra){const qb=Ra[0];return("horizontal"===qb.orient?ic:Db).curve(Ha(qb.interpolate||"linear",qb.orient,qb.tension)).context(xa)(Ra)},function(xa,Ra){Ra="horizontal"===xa[0].orient?Ra[1]:Ra[0];for(var qb="horizontal"===xa[0].orient?"y":"x",rb=xa.length,fc=Infinity,Oc,$c;0<=--rb;)!1!==
xa[rb].defined&&($c=Math.abs(xa[rb][qb]-Ra),$c<fc&&(fc=$c,Oc=xa[rb]));return Oc});const Hc=de(ve),Zc=de(ve,!1),ed=de(ve,!0);var pd={type:"group",tag:"g",nested:!1,attr:function(xa,Ra){xa("transform",je(Ra.x||0,Ra.y||0))},bound:function(xa,Ra){if(!Ra.clip&&Ra.items){const qb=Ra.items,rb=qb.length;for(let fc=0;fc<rb;++fc)xa.union(qb[fc].bounds)}(Ra.clip||Ra.width||Ra.height)&&!Ra.noBound&&xa.add(0,0).add(Ra.width||0,Ra.height||0);ac(xa,Ra);return xa.translate(Ra.x||0,Ra.y||0)},draw:function(xa,Ra,qb){fd(Ra,
rb=>{const fc=rb.x||0,Oc=rb.y||0,$c=rb.strokeForeground,xd=null==rb.opacity?1:rb.opacity;(rb.stroke||rb.fill)&&xd&&(ve(xa,rb,fc,Oc),bb(xa,rb),rb.fill&&Ub(xa,rb,xd)&&xa.fill(),rb.stroke&&!$c&&$b(xa,rb,xd)&&xa.stroke());xa.save();xa.translate(fc,Oc);rb.clip&&Ye(xa,rb);qb&&qb.translate(-fc,-Oc);fd(rb,Tc=>{this.draw(xa,Tc,qb)});qb&&qb.translate(fc,Oc);xa.restore();$c&&rb.stroke&&xd&&(ve(xa,rb,fc,Oc),bb(xa,rb),$b(xa,rb,xd)&&xa.stroke())})},pick:function(xa,Ra,qb,rb,fc,Oc){if(Ra.bounds&&!Ra.bounds.contains(fc,
Oc)||!Ra.items)return null;const $c=qb*xa.pixelRatio,xd=rb*xa.pixelRatio;return od(Ra,Tc=>{let Md,Cd;var Ae=Tc.bounds;if(!Ae||Ae.contains(fc,Oc)){Md=Tc.x||0;Cd=Tc.y||0;Ae=Md+(Tc.width||0);var uf=Cd+(Tc.height||0),Je=Tc.clip;if(!Je||!(fc<Md||fc>Ae||Oc<Cd||Oc>uf)){xa.save();xa.translate(Md,Cd);Md=fc-Md;Cd=Oc-Cd;if(Je&&Ac(Tc)&&!ed(xa,Tc,$c,xd))return xa.restore(),null;uf=Tc.strokeForeground;if((Je=!1!==Ra.interactive)&&uf&&Tc.stroke&&Zc(xa,Tc,$c,xd))return xa.restore(),Tc;Ae=od(Tc,of=>(!1!==of.interactive||
"group"===of.marktype)&&of.bounds&&of.bounds.contains(Md,Cd)?this.pick(of,qb,rb,Md,Cd):null);!Ae&&Je&&(Tc.fill||!uf&&Tc.stroke)&&Hc(xa,Tc,$c,xd)&&(Ae=Tc);xa.restore();return Ae||null}}})},isect:Ea,content:function(xa,Ra,qb){Ra=Ra.clip?tc(qb,Ra,Ra):null;xa("clip-path",Ra)},background:function(xa,Ra){xa("class","background");xa("aria-hidden",!0);const qb=pe(Ra);xa("d",yc(null,Ra,qb,qb))},foreground:function(xa,Ra){xa("class","foreground");xa("aria-hidden",!0);if(Ra.strokeForeground){const qb=pe(Ra);
xa("d",yc(null,Ra,qb,qb))}else xa("d","")}},Vd={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},we={type:"image",tag:"image",nested:!1,attr:function(xa,Ra,qb){var rb=Ca(Ra,qb);qb=Ya(Ra,rb);const fc=tb(Ra,rb),Oc=(Ra.x||0)-Kb(Ra.align,qb),$c=(Ra.y||0)-dc(Ra.baseline,fc);rb=!rb.src&&rb.toDataURL?rb.toDataURL():rb.src||"";xa("href",rb,Vd["xmlns:xlink"],"xlink:href");xa("transform",je(Oc,$c));xa("width",qb);xa("height",fc);xa("preserveAspectRatio",!1===Ra.aspect?
"none":"xMidYMid")},bound:function(xa,Ra){var qb=Ra.image;const rb=Ya(Ra,qb);qb=tb(Ra,qb);const fc=(Ra.x||0)-Kb(Ra.align,rb);Ra=(Ra.y||0)-dc(Ra.baseline,qb);return xa.set(fc,Ra,fc+rb,Ra+qb)},draw:function(xa,Ra,qb){fd(Ra,rb=>{if(!qb||qb.intersects(rb.bounds)){var fc=Ca(rb,this),Oc=Ya(rb,fc),$c=tb(rb,fc);if(0!==Oc&&0!==$c){var xd=(rb.x||0)-Kb(rb.align,Oc),Tc=(rb.y||0)-dc(rb.baseline,$c),Md;if(!1!==rb.aspect){var Cd=fc.width/fc.height;var Ae=rb.width/rb.height;Cd===Cd&&Ae===Ae&&Cd!==Ae&&(Ae<Cd?(Cd=
Oc/Cd,Tc+=($c-Cd)/2,$c=Cd):(Cd*=$c,xd+=(Oc-Cd)/2,Oc=Cd))}if(fc.complete||fc.toDataURL)bb(xa,rb),xa.globalAlpha=null!=(Md=rb.opacity)?Md:1,xa.imageSmoothingEnabled=!1!==rb.smooth,xa.drawImage(fc,xd,Tc,Oc,$c)}}})},pick:ae(),isect:p.truthy,get:Ca,xOffset:Kb,yOffset:dc},Ze=bf("line",function(xa,Ra){const qb=Ra[0];return ud.curve(Ha(qb.interpolate||"linear",qb.orient,qb.tension)).context(xa)(Ra)},function(xa,Ra){for(var qb=Math.pow(xa[0].strokeWidth||1,2),rb=xa.length,fc,Oc;0<=--rb;)if(!1!==xa[rb].defined&&
(fc=xa[rb].x-Ra[0],Oc=xa[rb].y-Ra[1],fc=fc*fc+Oc*Oc,fc<qb))return xa[rb];return null}),rf={type:"path",tag:"path",nested:!1,attr:function(xa,Ra){var qb=Ra.scaleY||1;1===(Ra.scaleX||1)&&1===qb||xa("vector-effect","non-scaling-stroke");qb=je(Ra.x||0,Ra.y||0)+(Ra.angle?" rotate("+(Ra.angle+")"):"")+(Ra.scaleX||Ra.scaleY?" scale("+((Ra.scaleX||1)+","+(Ra.scaleY||1)+")"):"");xa("transform",qb);xa("d",Ra.path)},bound:function(xa,Ra){return mc(lc(xa,Ra.angle),Ra)?xa.set(0,0,0,0):ac(xa,Ra,!0)},draw:sd(mc),
pick:ae(de(mc)),isect:id(mc)},wg={type:"rect",tag:"path",nested:!1,attr:function(xa,Ra){xa("d",yc(null,Ra))},bound:function(xa,Ra){var qb,rb;return ac(xa.set(qb=Ra.x||0,rb=Ra.y||0,qb+Ra.width||0,rb+Ra.height||0),Ra)},draw:sd(Jc),pick:ae(de(Jc)),isect:Ea},De={type:"rule",tag:"line",nested:!1,attr:function(xa,Ra){xa("transform",je(Ra.x||0,Ra.y||0));xa("x2",null!=Ra.x2?Ra.x2-(Ra.x||0):0);xa("y2",null!=Ra.y2?Ra.y2-(Ra.y||0):0)},bound:function(xa,Ra){var qb,rb;return ac(xa.set(qb=Ra.x||0,rb=Ra.y||0,null!=
Ra.x2?Ra.x2:qb,null!=Ra.y2?Ra.y2:rb),Ra)},draw:function(xa,Ra,qb){fd(Ra,rb=>{if(!qb||qb.intersects(rb.bounds)){var fc=null==rb.opacity?1:rb.opacity;fc&&Gc(xa,rb,fc)&&(bb(xa,rb),xa.stroke())}})},pick:ae(function(xa,Ra,qb,rb){return xa.isPointInStroke?Gc(xa,Ra,1)&&xa.isPointInStroke(qb,rb):!1}),isect:za},fg=qd("shape",function(xa,Ra){return(Ra.mark.shape||Ra.shape).context(xa)(Ra)}),kg=qd("symbol",function(xa,Ra){return be.context(xa)(Ra)},Td);const Rg=p.lruCache();var rg={height:Nd,measureWidth:md,
estimateWidth:bd,width:bd,canvas:jc};jc(!0);const Yg={left:"start",center:"middle",right:"end"},jf=new hd;var gh={type:"text",tag:"text",nested:!1,attr:function(xa,Ra){var qb=Ra.dx||0,rb=(Ra.dy||0)+Me(Ra),fc=kf(Ra),Oc=fc.x1;fc=fc.y1;var $c=Ra.angle||0;xa("text-anchor",Yg[Ra.align]||"start");if($c){if(Ra=je(Oc,fc)+" rotate("+($c+")"),qb||rb)Ra+=" "+je(qb,rb)}else Ra=je(Oc+qb,fc+rb);xa("transform",Ra)},bound:Sb,draw:function(xa,Ra,qb){fd(Ra,rb=>{var fc=null==rb.opacity?1:rb.opacity,Oc;if(!(qb&&!qb.intersects(rb.bounds)||
0===fc||0>=rb.fontSize||null==rb.text||0===rb.text.length)){xa.font=Be(rb);xa.textAlign=rb.align||"left";var $c=kf(rb);var xd=$c.x1;$c=$c.y1;rb.angle&&(xa.save(),xa.translate(xd,$c),xa.rotate(rb.angle*Eg),xd=$c=0);xd+=rb.dx||0;$c+=(rb.dy||0)+Me(rb);var Tc=ee(rb);bb(xa,rb);if(p.isArray(Tc)){var Md=Pd(rb);for(Oc=0;Oc<Tc.length;++Oc){var Cd=Ce(rb,Tc[Oc]);rb.fill&&Ub(xa,rb,fc)&&xa.fillText(Cd,xd,$c);rb.stroke&&$b(xa,rb,fc)&&xa.strokeText(Cd,xd,$c);$c+=Md}}else Cd=Ce(rb,Tc),rb.fill&&Ub(xa,rb,fc)&&xa.fillText(Cd,
xd,$c),rb.stroke&&$b(xa,rb,fc)&&xa.strokeText(Cd,xd,$c);rb.angle&&xa.restore()}})},pick:ae(function(xa,Ra,qb,rb,fc,Oc){if(0>=Ra.fontSize)return!1;if(!Ra.angle)return!0;qb=kf(Ra);xa=qb.x1;qb=qb.y1;rb=Sb(jf,Ra,1);var $c=-Ra.angle*Eg;Ra=Math.cos($c);$c=Math.sin($c);return rb.contains(Ra*fc-$c*Oc+(xa-Ra*xa+$c*qb),$c*fc+Ra*Oc+(qb-$c*xa-Ra*qb))}),isect:function(xa,Ra){xa=Sb(jf,xa,2);return Fa(Ra,xa[0],xa[1],xa[2],xa[3])||Fa(Ra,xa[0],xa[1],xa[4],xa[5])||Fa(Ra,xa[4],xa[5],xa[6],xa[7])||Fa(Ra,xa[2],xa[3],
xa[6],xa[7])}},Uf=bf("trail",function(xa,Ra){return df.context(xa)(Ra)},function(xa,Ra){for(var qb=xa.length,rb,fc;0<=--qb;)if(!1!==xa[qb].defined&&(rb=xa[qb].x-Ra[0],fc=xa[qb].y-Ra[1],fc=rb*rb+fc*fc,rb=xa[qb].size||1,fc<rb*rb))return xa[qb];return null}),sg={arc:Jb,area:Rb,group:pd,image:we,line:Ze,path:rf,rect:wg,rule:De,shape:fg,symbol:kg,text:gh,trail:Uf},Lh={mark:null};const bh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
$e.prototype={toJSON(xa){return Bd(this.root,xa||0)},mark(xa,Ra,qb){Ra=Ra||this.root.items[0];xa=Qf(xa,Ra);Ra.items[qb]=xa;xa.zindex&&(xa.group.zdirty=!0);return xa}};ce.prototype={initialize(xa,Ra,qb){this._el=xa;this._obj=qb||null;return this.origin(Ra)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(xa){return arguments.length?(this._origin=xa||[0,0],this):this._origin.slice()},scene(xa){if(!arguments.length)return this._scene;this._scene=xa;return this},on(){},
off(){},_handlerIndex(xa,Ra,qb){for(let rb=xa?xa.length:0;0<=--rb;)if(xa[rb].type===Ra&&(!qb||xa[rb].handler===qb))return rb;return-1},handlers(xa){const Ra=this._handlers,qb=[];if(xa)qb.push(...Ra[this.eventName(xa)]);else for(const rb in Ra)qb.push(...Ra[rb]);return qb},eventName(xa){const Ra=xa.indexOf(".");return 0>Ra?xa:xa.slice(0,Ra)},handleHref(xa,Ra,qb){this._loader.sanitize(qb,{context:"href"}).then(rb=>{const fc=new MouseEvent(xa.type,xa),Oc=Af(null,"a");for(const $c in rb)Oc.setAttribute($c,
rb[$c]);Oc.dispatchEvent(fc)}).catch(()=>{})},handleTooltip(xa,Ra,qb){if(Ra&&null!=Ra.tooltip){var rb=this.canvas(),fc=this._origin,Oc=Ra&&Ra.mark,$c;if(Oc&&($c=sg[Oc.marktype]).tip){rb=Sc(xa,rb);rb[0]-=fc[0];for(rb[1]-=fc[1];Ra=Ra.mark.group;)rb[0]-=Ra.x||0,rb[1]-=Ra.y||0;Ra=$c.tip(Oc.items,rb)}this._tooltip.call(this._obj,this,xa,Ra,qb&&Ra&&Ra.tooltip||null)}},getItemBoundingClientRect(xa){var Ra=this.canvas();if(Ra){var qb=Ra.getBoundingClientRect(),rb=this._origin,fc=xa.bounds;Ra=fc.width();var Oc=
fc.height(),$c=fc.x1+rb[0]+qb.left;for(qb=fc.y1+rb[1]+qb.top;xa.mark&&(xa=xa.mark.group);)$c+=xa.x||0,qb+=xa.y||0;return{x:$c,y:qb,width:Ra,height:Oc,left:$c,top:qb,right:$c+Ra,bottom:qb+Oc}}}};Rd.prototype={initialize(xa,Ra,qb,rb,fc){this._el=xa;return this.resize(Ra,qb,rb,fc)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(xa){if(0===arguments.length)return this._bgcolor;this._bgcolor=xa;return this},resize(xa,Ra,qb,rb){this._width=xa;this._height=Ra;this._origin=
qb||[0,0];this._scale=rb||1;return this},dirty(){},render(xa){const Ra=this;Ra._call=function(){Ra._render(xa)};Ra._call();Ra._call=null;return Ra},_render(){},renderAsync(xa){const Ra=this.render(xa);return this._ready?this._ready.then(()=>Ra):Promise.resolve(Ra)},_load(xa,Ra){var qb=this;xa=qb._loader[xa](Ra);if(!qb._ready){const rb=qb._call;qb._ready=qb._loader.ready().then(fc=>{fc&&rb();qb._ready=null})}return xa},sanitizeURL(xa){return this._load("sanitizeURL",xa)},loadImage(xa){return this._load("loadImage",
xa)}};p.inherits(Sd,ce,{initialize(xa,Ra,qb){this._canvas=xa&&If(xa,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(rb=>Qd(this,rb));return ce.prototype.initialize.call(this,xa,Ra,qb)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(xa){this.fire("mousewheel",
xa)},mousemove:cf("mousemove","mouseover","mouseout"),dragover:cf("dragover","dragenter","dragleave"),mouseout:ra("mouseout"),dragleave:ra("dragleave"),mousedown(xa){this._down=this._active;this.fire("mousedown",xa)},click(xa){this._down===this._active&&(this.fire("click",xa),this._down=null)},touchstart(xa){this._touch=this.pickEvent(xa.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",xa,!0)},touchmove(xa){this.fire("touchmove",xa,!0)},touchend(xa){this.fire("touchend",
xa,!0);this._touch=null},fire(xa,Ra,qb){qb=qb?this._touch:this._active;const rb=this._handlers[xa];Ra.vegaType=xa;"click"===xa&&qb&&qb.href?this.handleHref(Ra,qb,qb.href):("mousemove"===xa||"mouseout"===xa)&&this.handleTooltip(Ra,qb,"mouseout"!==xa);if(rb)for(let fc=0,Oc=rb.length;fc<Oc;++fc)rb[fc].handler.call(this._obj,Ra,qb)},on(xa,Ra){const qb=this.eventName(xa),rb=this._handlers;0>this._handlerIndex(rb[qb],xa,Ra)&&(Qd(this,xa),(rb[qb]||(rb[qb]=[])).push({type:xa,handler:Ra}));return this},off(xa,
Ra){var qb=this.eventName(xa);qb=this._handlers[qb];xa=this._handlerIndex(qb,xa,Ra);0<=xa&&qb.splice(xa,1);return this},pickEvent(xa){xa=Sc(xa,this._canvas);const Ra=this._origin;return this.pick(this._scene,xa[0],xa[1],xa[0]-Ra[0],xa[1]-Ra[1])},pick(xa,Ra,qb,rb,fc){const Oc=this.context();return sg[xa.marktype].pick.call(this,Oc,xa,Ra,qb,rb,fc)}});var Eh="undefined"!==typeof window?window.devicePixelRatio||1:1;const ki=Rd.prototype;p.inherits(jb,Rd,{initialize(xa,Ra,qb,rb,fc,Oc){this._options=Oc||
{};this._canvas=this._options.externalContext?null:n.canvas(1,1,this._options.type);xa&&this._canvas&&(Bb(xa,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return ki.initialize.call(this,xa,Ra,qb,rb,fc)},resize(xa,Ra,qb,rb){ki.resize.call(this,xa,Ra,qb,rb);if(this._canvas){xa=this._canvas;Ra=this._width;qb=this._height;rb=this._origin;var fc=this._scale,Oc=this._options.context;const xd="undefined"!==typeof HTMLElement&&xa instanceof HTMLElement&&null!=xa.parentNode,Tc=xa.getContext("2d");
fc=xd?Eh:fc;xa.width=Ra*fc;xa.height=qb*fc;for(var $c in Oc)Tc[$c]=Oc[$c];xd&&1!==fc&&(xa.style.width=Ra+"px",xa.style.height=qb+"px");Tc.pixelRatio=fc;Tc.setTransform(fc,0,0,fc,fc*rb[0],fc*rb[1])}else($c=this._options.externalContext)||p.error("CanvasRenderer is missing a valid canvas or context"),$c.scale(this._scale,this._scale),$c.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?
this._canvas.getContext("2d"):null)},dirty(xa){const Ra=this._tempb.clear().union(xa.bounds);for(xa=xa.mark.group;xa;)Ra.translate(xa.x||0,xa.y||0),xa=xa.mark.group;this._dirty.union(Ra)},_render(xa){const Ra=this.context(),qb=this._origin,rb=this._width,fc=this._height,Oc=this._dirty;var $c=(new hd).set(0,0,rb,fc).translate(-qb[0],-qb[1]);Ra.save();this._redraw||Oc.empty()?$c=(this._redraw=!1,$c.expand(1)):($c=$c.intersect(Oc),$c.expand(1).round(),Ra.pixelRatio%1&&$c.scale(Ra.pixelRatio).round().scale(1/
Ra.pixelRatio),$c.translate(-(qb[0]%1),-(qb[1]%1)),Ra.beginPath(),Ra.rect($c.x1,$c.y1,$c.width(),$c.height()),Ra.clip());this.clear(-qb[0],-qb[1],rb,fc);this.draw(Ra,xa,$c);Ra.restore();Oc.clear();return this},draw(xa,Ra,qb){const rb=sg[Ra.marktype];if(Ra.clip){var fc=Ra.clip;xa.save();p.isFunction(fc)?(xa.beginPath(),fc(xa),xa.clip()):Ye(xa,Ra.group)}rb.draw.call(this,xa,Ra,qb);Ra.clip&&xa.restore()},clear(xa,Ra,qb,rb){const fc=this._options,Oc=this.context();"pdf"===fc.type||fc.externalContext||
Oc.clearRect(xa,Ra,qb,rb);null!=this._bgcolor&&(Oc.fillStyle=this._bgcolor,Oc.fillRect(xa,Ra,qb,rb))}});const Vh=(xa,Ra)=>qb=>{let rb=qb.target.__data__;rb=Array.isArray(rb)?rb[0]:rb;qb.vegaType=qb.type;Ra.call(xa._obj,qb,rb)};p.inherits(Ia,ce,{initialize(xa,Ra,qb){let rb=this._svg;rb&&(rb.removeEventListener("click",this._hrefHandler),rb.removeEventListener("mousemove",this._tooltipHandler),rb.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=rb=xa&&If(xa,"svg"))rb.addEventListener("click",
this._hrefHandler),rb.addEventListener("mousemove",this._tooltipHandler),rb.addEventListener("mouseout",this._tooltipHandler);return ce.prototype.initialize.call(this,xa,Ra,qb)},canvas(){return this._svg},on(xa,Ra){const qb=this.eventName(xa),rb=this._handlers;0>this._handlerIndex(rb[qb],xa,Ra)&&(xa={type:xa,handler:Ra,listener:Vh(this,Ra)},(rb[qb]||(rb[qb]=[])).push(xa),this._svg&&this._svg.addEventListener(qb,xa.listener));return this},off(xa,Ra){const qb=this.eventName(xa),rb=this._handlers[qb];
xa=this._handlerIndex(rb,xa,Ra);0<=xa&&(this._svg&&this._svg.removeEventListener(qb,rb[xa].listener),rb.splice(xa,1));return this}});const Sh=(xa,Ra,qb)=>({role:xa,["aria-roledescription"]:Ra,["aria-label"]:qb||void 0}),ef=p.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),Hg={axis:{desc:"axis",caption:function(xa){var Ra=xa.datum;const qb=xa.orient,rb=Ra.title?ub(xa):null;var fc=xa.context;
Ra=fc.scales[Ra.scale].value;fc=fc.dataflow.locale();const Oc=Ra.type;return`${"left"===qb||"right"===qb?"Y":"X"}-axis`+(rb?` titled '${rb}'`:"")+` for a ${r.isDiscrete(Oc)?"discrete":Oc} scale`+` with ${r.domainCaption(fc,Ra,xa)}`}},legend:{desc:"legend",caption:function(xa){var Ra=xa.datum;const qb=Ra.title?ub(xa):null,rb=`${Ra.type||""} legend`.trim();var fc=Ra.scales;Ra=Object.keys(fc);var Oc=xa.context;fc=Oc.scales[fc[Ra[0]]].value;Oc=Oc.dataflow.locale();return(rb.length?rb[0].toUpperCase()+
rb.slice(1):rb)+(qb?` titled '${qb}'`:"")+` for ${Cb(Ra)}`+` with ${r.domainCaption(Oc,fc,xa)}`}},"title-text":{desc:"title",caption:xa=>`Title text '${p.array(xa.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:xa=>`Subtitle text '${p.array(xa.text).join(" ")}'`}},ff={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},sf=xa=>(xa+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),xg=xa=>sc(Wb(),xa)+"",Uh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},Fh={blend:"mix-blend-mode"},hh={fill:"none","stroke-miterlimit":10},Hf=Vd.xmlns,Ee=Rd.prototype;p.inherits(Uc,Rd,{initialize(xa,Ra,qb,rb,fc){this._defs={};this._clearDefs();xa&&(this._svg=Ne(xa,0,"svg",Hf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",Hf),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",Vd["xmlns:xlink"]),this._svg.setAttribute("version",Vd.version),this._svg.setAttribute("class","marks"),Bb(xa,1),this._root=Ne(this._svg,0,"g",Hf),Mc(this._root,hh),Bb(this._svg,1));this.background(this._bgcolor);return Ee.initialize.call(this,xa,Ra,qb,rb,fc)},background(xa){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",xa);return Ee.background.apply(this,arguments)},resize(xa,Ra,qb,rb){Ee.resize.call(this,
xa,Ra,qb,rb);this._svg&&(Mc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const xa=this._svg,Ra=this._bgcolor;if(!xa)return null;let qb;Ra&&(xa.removeAttribute("style"),qb=Ne(xa,0,"rect",Hf),Mc(qb,{width:this._width,height:this._height,fill:Ra}));const rb=xg(xa);Ra&&(xa.removeChild(qb),this._svg.style.setProperty("background-color",
Ra));return rb},_render(xa){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,xa),Bb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(xa){xa.dirty!==this._dirtyID&&(xa.dirty=this._dirtyID,this._dirty.push(xa))},isDirty(xa){return this._dirtyAll||!xa._svg||!xa._svg.ownerSVGElement||xa.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const xa=this._dirty;if(!xa.length||!this._dirtyID)return!0;const Ra=++this._dirtyID;let qb;let rb,fc,Oc,$c;
Oc=0;for($c=xa.length;Oc<$c;++Oc){qb=xa[Oc];var xd=qb.mark;xd.marktype!==rb&&(rb=xd.marktype,fc=sg[rb]);xd.zdirty&&xd.dirty!==Ra&&(this._dirtyAll=!1,Xc(qb,Ra),xd.items.forEach(Tc=>{Tc.dirty=Ra}));xd.zdirty||(qb.exit?(fc.nested&&xd.items.length?(xd=xd.items[0],xd._svg&&this._update(fc,xd._svg,xd)):qb._svg&&(xd=qb._svg.parentNode)&&xd.removeChild(qb._svg),qb._svg=null):(qb=fc.nested?xd.items[0]:qb,qb._update!==Ra&&(qb._svg&&qb._svg.ownerSVGElement?this._update(fc,qb._svg,qb):(this._dirtyAll=!1,Xc(qb,
Ra)),qb._update=Ra)))}return!this._dirtyAll},mark(xa,Ra,qb){if(!this.isDirty(Ra))return Ra._svg;const rb=this._svg,fc=sg[Ra.marktype];var Oc=!1===Ra.interactive?"none":null;const $c="g"===fc.tag,xd=zc(Ra,xa,qb,"g",rb);xd.setAttribute("class",Zb(Ra));xa=ha(Ra);for(const Cd in xa)Yc(xd,Cd,xa[Cd]);$c||Yc(xd,"pointer-events",Oc);Yc(xd,"clip-path",Ra.clip?tc(this,Ra,Ra.group):null);let Tc=null,Md=0;Oc=Cd=>{const Ae=this.isDirty(Cd),uf=zc(Cd,xd,Tc,fc.tag,rb);Ae&&(this._update(fc,uf,Cd),$c&&Cc(this,uf,Cd));
Tc=uf;++Md};fc.nested?Ra.items.length&&Oc(Ra.items[0]):fd(Ra,Oc);Bb(xd,Md);return xd},_update(xa,Ra,qb){re=Ra;Of=Ra.__values__;Xb(oc,qb);xa.attr(oc,qb,this);const rb=Kf[xa.type];rb&&rb.call(this,xa,Ra,qb);re&&this.style(re,qb)},style(xa,Ra){if(null!=Ra){for(const qb in Uh){let rb="font"===qb?Df(Ra):Ra[qb];if(rb===Of[qb])continue;const fc=Uh[qb];null==rb?xa.removeAttribute(fc):(rb&&rb.gradient&&(rb=h(rb,this._defs.gradient,mb())),xa.setAttribute(fc,rb+""));Of[qb]=rb}for(const qb in Fh)Fc(xa,Fh[qb],
Ra[qb])}},defs(){const xa=this._svg,Ra=this._defs;let qb=Ra.el;var rb=0;for(var fc in Ra.gradient){qb||(Ra.el=qb=Ne(xa,1,"defs",Hf));var Oc=void 0;let Tc,Md;var $c=qb,xd=Ra.gradient[fc];"radial"===xd.gradient?(Oc=Ne($c,rb++,"pattern",Hf),Mc(Oc,{id:"p_"+xd.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Oc=Ne(Oc,0,"rect",Hf),Mc(Oc,{width:1,height:1,fill:`url(${mb()}#${xd.id})`}),$c=Ne($c,rb++,"radialGradient",Hf),Mc($c,{id:xd.id,fx:xd.x1,fy:xd.y1,fr:xd.r1,cx:xd.x2,
cy:xd.y2,r:xd.r2})):($c=Ne($c,rb++,"linearGradient",Hf),Mc($c,{id:xd.id,x1:xd.x1,x2:xd.x2,y1:xd.y1,y2:xd.y2}));Md=0;for(Tc=xd.stops.length;Md<Tc;++Md)Oc=Ne($c,Md,"stop",Hf),Oc.setAttribute("offset",xd.stops[Md].offset),Oc.setAttribute("stop-color",xd.stops[Md].color);Bb($c,Md)}for(const Tc in Ra.clipping)qb||(Ra.el=qb=Ne(xa,1,"defs",Hf)),$c=qb,xd=Ra.clipping[Tc],fc=rb,$c=Ne($c,fc,"clipPath",Hf),$c.setAttribute("id",xd.id),xd.path?(rb=Ne($c,0,"path",Hf),rb.setAttribute("d",xd.path)):(rb=Ne($c,0,"rect",
Hf),Mc(rb,{x:0,y:0,width:xd.width,height:xd.height})),Bb($c,1),rb=fc+1;qb&&(0===rb?(xa.removeChild(qb),Ra.el=null):Bb(qb,rb))},_clearDefs(){const xa=this._defs;xa.gradient={};xa.clipping={}}});let re=null,Of=null;const Kf={group(xa,Ra,qb){const rb=re=Ra.childNodes[2];Of=rb.__values__;xa.foreground(oc,qb,this);Of=Ra.__values__;re=Ra.childNodes[1];xa.content(oc,qb,this);Ra=re=Ra.childNodes[0];xa.background(oc,qb,this);xa=!1===qb.mark.interactive?"none":null;xa!==Of.events&&(Yc(rb,"pointer-events",xa),
Yc(Ra,"pointer-events",xa),Of.events=xa);qb.strokeForeground&&qb.stroke?(xa=qb.fill,Yc(rb,"display",null),this.style(Ra,qb),Yc(Ra,"stroke",null),xa&&(qb.fill=null),Of=rb.__values__,this.style(rb,qb),xa&&(qb.fill=xa),re=null):Yc(rb,"display","none")},image(xa,Ra,qb){!1===qb.smooth?(Fc(Ra,"image-rendering","optimizeSpeed"),Fc(Ra,"image-rendering","pixelated")):Fc(Ra,"image-rendering",null)},text(xa,Ra,qb){xa=ee(qb);let rb,fc,Oc;p.isArray(xa)?(rb=xa.map($c=>Ce(qb,$c)),xa=rb.join("\n"),xa!==Of.text&&
(Bb(Ra,0),fc=Ra.ownerDocument,Oc=Pd(qb),rb.forEach(($c,xd)=>{const Tc=Af(fc,"tspan",Hf);Tc.__data__=qb;Tc.textContent=$c;xd&&(Tc.setAttribute("x",0),Tc.setAttribute("dy",Oc));Ra.appendChild(Tc)}),Of.text=xa)):(rb=Ce(qb,xa),rb!==Of.text&&(Ra.textContent=rb,Of.text=rb));Yc(Ra,"font-family",Df(qb));Yc(Ra,"font-size",Nd(qb)+"px");Yc(Ra,"font-style",qb.fontStyle);Yc(Ra,"font-variant",qb.fontVariant);Yc(Ra,"font-weight",qb.fontWeight)}};p.inherits(Gb,Rd,{svg(){return this._text},_render(xa){const Ra=Wb();
Ra.open("svg",p.extend({},Vd,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const qb=this._bgcolor;qb&&"transparent"!==qb&&"none"!==qb&&Ra.open("rect",{width:this._width,height:this._height,fill:qb}).close();Ra.open("g",hh,{transform:"translate("+this._origin+")"});this.mark(Ra,xa);Ra.close();this.defs(Ra);this._text=Ra.close()+"";return this},mark(xa,Ra){const qb=sg[Ra.marktype],rb=qb.tag,fc=[Xb,qb.attr];xa.open("g",{"class":Zb(Ra),
"clip-path":Ra.clip?tc(this,Ra,Ra.group):null},ha(Ra),{"pointer-events":"g"!==rb&&!1===Ra.interactive?"none":null});const Oc=$c=>{const xd=this.href($c);xd&&xa.open("a",xd);xa.open(rb,this.attr(Ra,$c,fc,"g"!==rb?rb:null));if("text"===rb){var Tc=ee($c);if(p.isArray(Tc)){var Md={x:0,dy:Pd($c)};for(var Cd=0;Cd<Tc.length;++Cd)xa.open("tspan",Cd?Md:null).text(Ce($c,Tc[Cd])).close()}else xa.text(Ce($c,Tc))}else"g"===rb&&(Tc=$c.strokeForeground,Md=$c.fill,Cd=$c.stroke,Tc&&Cd&&($c.stroke=null),xa.open("path",
this.attr(Ra,$c,qb.background,"bgrect")).close(),xa.open("g",this.attr(Ra,$c,qb.content)),fd($c,Ae=>this.mark(xa,Ae)),xa.close(),Tc&&Cd?(Md&&($c.fill=null),$c.stroke=Cd,xa.open("path",this.attr(Ra,$c,qb.foreground,"bgrect")).close(),Md&&($c.fill=Md)):xa.open("path",this.attr(Ra,$c,qb.foreground,"bgfore")).close());xa.close();xd&&xa.close()};qb.nested?Ra.items&&Ra.items.length&&Oc(Ra.items[0]):fd(Ra,Oc);return xa.close()},href(xa){const Ra=xa.href;if(Ra){if(xa=this._hrefs&&this._hrefs[Ra])return xa;
this.sanitizeURL(Ra).then(qb=>{qb["xlink:href"]=qb.href;qb.href=null;(this._hrefs||(this._hrefs={}))[Ra]=qb})}return null},attr(xa,Ra,qb,rb){const fc={},Oc=($c,xd,Tc,Md)=>{fc[Md||$c]=xd};Array.isArray(qb)?qb.forEach($c=>$c(Oc,Ra,this)):qb(Oc,Ra,this);rb&&Pb(fc,Ra,xa,rb,this._defs);return fc},defs(xa){var Ra=this._defs.gradient;const qb=this._defs.clipping;if(0!==Object.keys(Ra).length+Object.keys(qb).length){xa.open("defs");for(const fc in Ra){var rb=Ra[fc];const Oc=rb.stops;"radial"===rb.gradient?
(xa.open("pattern",{id:"p_"+fc,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),xa.open("rect",{width:"1",height:"1",fill:"url(#"+fc+")"}).close(),xa.close(),xa.open("radialGradient",{id:fc,fx:rb.x1,fy:rb.y1,fr:rb.r1,cx:rb.x2,cy:rb.y2,r:rb.r2})):xa.open("linearGradient",{id:fc,x1:rb.x1,x2:rb.x2,y1:rb.y1,y2:rb.y2});for(rb=0;rb<Oc.length;++rb)xa.open("stop",{offset:Oc[rb].offset,"stop-color":Oc[rb].color}).close();xa.close()}for(const fc in qb)Ra=qb[fc],xa.open("clipPath",
{id:fc}),Ra.path?xa.open("path",{d:Ra.path}).close():xa.open("rect",{x:0,y:0,width:Ra.width,height:Ra.height}).close(),xa.close();xa.close()}}});const vf={};vf.canvas=vf.png={renderer:jb,headless:jb,handler:Sd};vf.svg={renderer:Uc,headless:Gb,handler:Ia};vf.none={};const Zf=new hd;y.Bounds=hd;y.CanvasHandler=Sd;y.CanvasRenderer=jb;y.Gradient=function(xa,Ra){var qb=[],rb;return rb={gradient:"linear",x1:xa?xa[0]:0,y1:xa?xa[1]:0,x2:Ra?Ra[0]:1,y2:Ra?Ra[1]:0,stops:qb,stop:function(fc,Oc){qb.push({offset:fc,
color:Oc});return rb}}};y.GroupItem=Ab;y.Handler=ce;y.Item=Mb;y.Marks=sg;y.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};y.Renderer=Rd;y.ResourceLoader=ec;y.SVGHandler=Ia;y.SVGRenderer=Uc;y.SVGStringRenderer=Gb;y.Scenegraph=$e;y.boundClip=function(xa){const Ra=xa.clip;if(p.isFunction(Ra))Ra(lc(Zf.clear()));else if(Ra)Zf.set(0,0,xa.group.width,xa.group.height);else return;xa.bounds.intersect(Zf)};y.boundContext=lc;y.boundItem=qc;y.boundMark=Vc;y.boundStroke=ac;y.domChild=Ne;y.domClear=
Bb;y.domCreate=Af;y.domFind=If;y.font=Be;y.fontFamily=Df;y.fontSize=Nd;y.intersect=function(xa,Ra,qb){const rb=[];Ra=(new hd).union(Ra);const fc=xa.marktype;return fc?Vb(xa,Ra,qb,rb):"group"===fc?ma(xa,Ra,qb,rb):p.error("Intersect scene must be mark node or group item.")};y.intersectBoxLine=Fa;y.intersectPath=id;y.intersectPoint=Td;y.intersectRule=za;y.lineHeight=Pd;y.markup=Wb;y.multiLineOffset=function(xa){const Ra=ee(xa);return(p.isArray(Ra)?Ra.length-1:0)*Pd(xa)};y.path=e;y.pathCurves=Ha;y.pathEqual=
Eb;y.pathParse=Va;y.pathRectangle=Fb;y.pathRender=ta;y.pathSymbols=oa;y.pathTrail=nc;y.point=Sc;y.renderModule=function(xa,Ra){xa=String(xa||"").toLowerCase();return 1<arguments.length?(vf[xa]=Ra,this):vf[xa]};y.resetSVGClipId=function(){tf=1};y.resetSVGDefIds=function(){tf=1;Nb=0};y.sceneEqual=ib;y.sceneFromJSON=Hd;y.scenePickVisit=od;y.sceneToJSON=Bd;y.sceneVisit=fd;y.sceneZOrder=dd;y.serializeXML=xg;y.textMetrics=rg;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[29]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(28),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega,y.vega))})(this,function(y,p,n,v){function r(qa){p.Transform.call(this,null,qa)}function h(qa,Ha,Va){return Ha(qa.bounds.clear(),qa,Va)}function k(qa){p.Transform.call(this,
0,qa)}function f(qa){return qa._signals[":vega_identifier:"]||(qa._signals[":vega_identifier:"]=qa.add(0))}function e(qa){p.Transform.call(this,null,qa)}function d(qa){const Ha=qa.groups;qa=qa.parent;return Ha&&1===Ha.size?Ha.get(Object.keys(Ha.object)[0]):Ha&&qa?Ha.lookup(qa):null}function a(qa){p.Transform.call(this,null,qa)}function c(qa){p.Transform.call(this,null,qa)}function b(qa,Ha,Va){return qa[Ha]===Va?0:(qa[Ha]=Va,1)}function m(qa){qa=qa.items[0].orient;return"left"===qa||"right"===qa}function z(qa,
Ha,Va,eb){Ha=Ha.items[0];var ta=Ha.datum,Qa=null!=Ha.translate?Ha.translate:.5,oa=Ha.orient,Y=+ta.grid;var ja=[ta.ticks?Y++:-1,ta.labels?Y++:-1,Y+ +ta.domain];Y=Ha.range;var Ga=Ha.offset,Wa=Ha.position,cb=Ha.minExtent,nb=Ha.maxExtent;ta=ta.title&&Ha.items[ja[2]].items[0];var pb=Ha.titlePadding,Fb=Ha.bounds,nc=ta&&n.multiLineOffset(ta),Lc;Ma.clear().union(Fb);Fb.clear();-1<(Lc=ja[0])&&Fb.union(Ha.items[Lc].bounds);-1<(Lc=ja[1])&&Fb.union(Ha.items[Lc].bounds);switch(oa){case "top":Va=Wa||0;eb=-Ga;cb=
Math.max(cb,Math.min(nb,-Fb.y1));Fb.add(0,-cb).add(Y,0);ta&&u(qa,ta,cb,pb,nc,0,-1,Fb);break;case "left":Va=-Ga;eb=Wa||0;cb=Math.max(cb,Math.min(nb,-Fb.x1));Fb.add(-cb,0).add(0,Y);ta&&u(qa,ta,cb,pb,nc,1,-1,Fb);break;case "right":Va+=Ga;eb=Wa||0;cb=Math.max(cb,Math.min(nb,Fb.x2));Fb.add(0,0).add(cb,Y);ta&&u(qa,ta,cb,pb,nc,1,1,Fb);break;case "bottom":Va=Wa||0;eb+=Ga;cb=Math.max(cb,Math.min(nb,Fb.y2));Fb.add(0,0).add(Y,cb);ta&&u(qa,ta,cb,pb,0,0,1,Fb);break;default:Va=Ha.x,eb=Ha.y}n.boundStroke(Fb.translate(Va,
eb),Ha);b(Ha,"x",Va+Qa)|b(Ha,"y",eb+Qa)&&(Ha.bounds=Ma,qa.dirty(Ha),Ha.bounds=Fb,qa.dirty(Ha));return Ha.mark.bounds.clear().union(Fb)}function u(qa,Ha,Va,eb,ta,Qa,oa,Y){const ja=Ha.bounds;Ha.auto&&(Va=oa*(Va+ta+eb),ta=eb=0,qa.dirty(Ha),Qa?eb=(Ha.x||0)-(Ha.x=Va):ta=(Ha.y||0)-(Ha.y=Va),Ha.mark.bounds.clear().union(ja.translate(-eb,-ta)),qa.dirty(Ha));Y.union(ja)}function C(qa){return(new n.Bounds).set(0,0,qa.width||0,qa.height||0)}function J(qa){const Ha=qa.bounds.clone();return Ha.empty()?Ha.set(0,
0,0,0):Ha.translate(-(qa.x||0),-(qa.y||0))}function A(qa,Ha,Va){qa=v.isObject(qa)?qa[Ha]:qa;return null!=qa?qa:void 0!==Va?Va:0}function x(qa){return 0>qa?Math.ceil(-qa):0}function q(qa,Ha,Va){var eb=!Va.nodirty,ta="flush"===Va.bounds?C:J,Qa=Ma.set(0,0,0,0),oa=A(Va.align,"column"),Y=A(Va.align,"row"),ja=A(Va.padding,"column"),Ga=A(Va.padding,"row"),Wa=Va.columns||Ha.length,cb=0>=Wa?1:Math.ceil(Ha.length/Wa),nb=Ha.length,pb=Array(nb),Fb=Array(Wa),nc=0,Lc=Array(nb),Ac=Array(cb),yc=0,tc=Array(nb),hd=
Array(nb),Mb=Array(nb),Ab,ec,ac;for(Ab=0;Ab<Wa;++Ab)Fb[Ab]=0;for(Ab=0;Ab<cb;++Ab)Ac[Ab]=0;for(Ab=0;Ab<nb;++Ab){var lc=Ha[Ab];var Ic=Mb[Ab]=ta(lc);lc.x=lc.x||0;tc[Ab]=0;lc.y=lc.y||0;hd[Ab]=0;lc=Ab%Wa;var Ec=~~(Ab/Wa);nc=Math.max(nc,ec=Math.ceil(Ic.x2));yc=Math.max(yc,ac=Math.ceil(Ic.y2));Fb[lc]=Math.max(Fb[lc],ec);Ac[Ec]=Math.max(Ac[Ec],ac);pb[Ab]=ja+x(Ic.x1);Lc[Ab]=Ga+x(Ic.y1);eb&&qa.dirty(Ha[Ab])}for(Ab=0;Ab<nb;++Ab)0===Ab%Wa&&(pb[Ab]=0),Ab<Wa&&(Lc[Ab]=0);if("each"===oa)for(lc=1;lc<Wa;++lc){ta=0;
for(Ab=lc;Ab<nb;Ab+=Wa)ta<pb[Ab]&&(ta=pb[Ab]);for(Ab=lc;Ab<nb;Ab+=Wa)pb[Ab]=ta+Fb[lc-1]}else if("all"===oa){for(Ab=ta=0;Ab<nb;++Ab)Ab%Wa&&ta<pb[Ab]&&(ta=pb[Ab]);for(Ab=0;Ab<nb;++Ab)Ab%Wa&&(pb[Ab]=ta+nc)}else for(oa=!1,lc=1;lc<Wa;++lc)for(Ab=lc;Ab<nb;Ab+=Wa)pb[Ab]+=Fb[lc-1];if("each"===Y)for(Ec=1;Ec<cb;++Ec){ta=0;Ab=Ec*Wa;for(lc=Ab+Wa;Ab<lc;++Ab)ta<Lc[Ab]&&(ta=Lc[Ab]);for(Ab=Ec*Wa;Ab<lc;++Ab)Lc[Ab]=ta+Ac[Ec-1]}else if("all"===Y){ta=0;for(Ab=Wa;Ab<nb;++Ab)ta<Lc[Ab]&&(ta=Lc[Ab]);for(Ab=Wa;Ab<nb;++Ab)Lc[Ab]=
ta+yc}else for(Y=!1,Ec=1;Ec<cb;++Ec)for(Ab=Ec*Wa,lc=Ab+Wa;Ab<lc;++Ab)Lc[Ab]+=Ac[Ec-1];for(Ab=Ec=0;Ab<nb;++Ab)Ec=pb[Ab]+(Ab%Wa?Ec:0),tc[Ab]+=Ec-Ha[Ab].x;for(lc=0;lc<Wa;++lc)for(pb=0,Ab=lc;Ab<nb;Ab+=Wa)pb+=Lc[Ab],hd[Ab]+=pb-Ha[Ab].y;if(oa&&A(Va.center,"column")&&1<cb)for(Ab=0;Ab<nb;++Ab)Ic="all"===oa?nc:Fb[Ab%Wa],Ec=Ic-Mb[Ab].x2-Ha[Ab].x-tc[Ab],0<Ec&&(tc[Ab]+=Ec/2);if(Y&&A(Va.center,"row")&&1!==Wa)for(Ab=0;Ab<nb;++Ab)Ic="all"===Y?yc:Ac[~~(Ab/Wa)],pb=Ic-Mb[Ab].y2-Ha[Ab].y-hd[Ab],0<pb&&(hd[Ab]+=pb/2);
for(Ab=0;Ab<nb;++Ab)Qa.union(Mb[Ab].translate(tc[Ab],hd[Ab]));Ec=A(Va.anchor,"x");pb=A(Va.anchor,"y");switch(A(Va.anchor,"column")){case "end":Ec-=Qa.width();break;case "middle":Ec-=Qa.width()/2}switch(A(Va.anchor,"row")){case "end":pb-=Qa.height();break;case "middle":pb-=Qa.height()/2}Ec=Math.round(Ec);pb=Math.round(pb);Qa.clear();for(Ab=0;Ab<nb;++Ab)Ha[Ab].mark.bounds.clear();for(Ab=0;Ab<nb;++Ab)lc=Ha[Ab],lc.x+=tc[Ab]+=Ec,lc.y+=hd[Ab]+=pb,Qa.union(lc.mark.bounds.union(lc.bounds.translate(tc[Ab],
hd[Ab]))),eb&&qa.dirty(lc);return Qa}function H(qa,Ha){return"x1"===Ha?qa.x||0:"y1"===Ha?qa.y||0:"x2"===Ha?(qa.x||0)+(qa.width||0):"y2"===Ha?(qa.y||0)+(qa.height||0):void 0}function M(qa,Ha){return qa.bounds[Ha]}function R(qa,Ha,Va,eb,ta,Qa,oa,Y,ja,Ga,Wa,cb,nb,pb){var Fb=Va.length,nc=eb=0,Lc,Ac;if(!Fb)return eb;for(Lc=Wa;Lc<Fb;Lc+=cb)Va[Lc]&&(eb=oa(eb,ja(Va[Lc],Ga)));if(!Ha.length)return eb;Ha.length>ta&&(qa.warn("Grid headers exceed limit: "+ta),Ha=Ha.slice(0,ta));eb+=Qa;ta=0;for(Qa=Ha.length;ta<
Qa;++ta)qa.dirty(Ha[ta]),Ha[ta].mark.bounds.clear();Lc=Wa;ta=0;for(Qa=Ha.length;ta<Qa;++ta,Lc+=cb){ja=Ha[ta];Wa=ja.mark.bounds;for(Fb=Lc;0<=Fb&&null==(Ac=Va[Fb]);Fb-=nb);if(Y){Fb=null==pb?Ac.x:Math.round(Ac.bounds.x1+pb*Ac.bounds.width());var yc=eb}else Fb=eb,yc=null==pb?Ac.y:Math.round(Ac.bounds.y1+pb*Ac.bounds.height());Wa.union(ja.bounds.translate(Fb-(ja.x||0),yc-(ja.y||0)));ja.x=Fb;ja.y=yc;qa.dirty(ja);nc=oa(nc,Wa[Ga])}return nc}function Z(qa,Ha,Va,eb,ta,Qa){if(Ha){qa.dirty(Ha);var oa=Va;eb?oa=
Math.round(ta.x1+Qa*ta.width()):Va=Math.round(ta.y1+Qa*ta.height());Ha.bounds.translate(oa-(Ha.x||0),Va-(Ha.y||0));Ha.mark.bounds.clear().union(Ha.bounds);Ha.x=oa;Ha.y=Va;qa.dirty(Ha)}}function T(qa,Ha){const Va=qa[Ha]||{};return(eb,ta)=>null!=Va[eb]?Va[eb]:null!=qa[eb]?qa[eb]:ta}function ba(qa,Ha){let Va=-Infinity;qa.forEach(eb=>{null!=eb.offset&&(Va=Math.max(Va,eb.offset))});return-Infinity<Va?Va:Ha}function aa(qa,Ha,Va,eb,ta,Qa,oa){const Y=T(Va,Ha);Va=ba(qa,Y("offset",0));const ja=Y("anchor","start"),
Ga="end"===ja?1:"middle"===ja?.5:0;qa={align:"each",bounds:Y("bounds","flush"),columns:"vertical"===Y("direction")?1:qa.length,padding:Y("margin",8),center:Y("center"),nodirty:!0};switch(Ha){case "left":qa.anchor={x:Math.floor(eb.x1)-Va,column:"end",y:Ga*(oa||eb.height()+2*eb.y1),row:ja};break;case "right":qa.anchor={x:Math.ceil(eb.x2)+Va,y:Ga*(oa||eb.height()+2*eb.y1),row:ja};break;case "top":qa.anchor={y:Math.floor(ta.y1)-Va,row:"end",x:Ga*(Qa||ta.width()+2*ta.x1),column:ja};break;case "bottom":qa.anchor=
{y:Math.ceil(ta.y2)+Va,x:Ga*(Qa||ta.width()+2*ta.x1),column:ja};break;case "top-left":qa.anchor={x:Va,y:Va};break;case "top-right":qa.anchor={x:Qa-Va,y:Va,column:"end"};break;case "bottom-left":qa.anchor={x:Va,y:oa-Va,row:"end"};break;case "bottom-right":qa.anchor={x:Qa-Va,y:oa-Va,column:"end",row:"end"}}return qa}function W(qa,Ha){Ha=Ha.items[0];var Va=Ha.datum,eb=Ha.orient,ta=Ha.bounds,Qa=Ha.x,oa=Ha.y;Ha._bounds?Ha._bounds.clear().union(ta):Ha._bounds=ta.clone();ta.clear();var Y=Ha.items[0].items[0];
var ja=Ha.padding,Ga=ja-Y.x,Wa=ja-Y.y;if(Ha.datum.title){var cb=Ha.items[1].items[0],nb=cb.anchor,pb=Ha.titlePadding||0,Fb=ja-cb.x,nc=ja-cb.y;switch(cb.orient){case "left":Ga+=Math.ceil(cb.bounds.width())+pb;break;case "right":case "bottom":break;default:Wa+=cb.bounds.height()+pb}(Ga||Wa)&&w(qa,Y,Ga,Wa);switch(cb.orient){case "left":nc+=P(Ha,Y,cb,nb,1,1);break;case "right":Fb+=P(Ha,Y,cb,"end",0,0)+pb;nc+=P(Ha,Y,cb,nb,1,1);break;case "bottom":Fb+=P(Ha,Y,cb,nb,0,0);nc+=P(Ha,Y,cb,"end",-1,0,1)+pb;break;
default:Fb+=P(Ha,Y,cb,nb,0,0)}(Fb||nc)&&w(qa,cb,Fb,nc);0>(Fb=Math.round(cb.bounds.x1-ja))&&(w(qa,Y,-Fb,0),w(qa,cb,-Fb,0))}else(Ga||Wa)&&w(qa,Y,Ga,Wa);ta=X(Ha,ta);qa=2*Ha.padding;Y=2*Ha.padding;ta.empty()||(qa=Math.ceil(ta.width()+qa),Y=Math.ceil(ta.height()+Y));"symbol"===Va.type&&B(Ha.items[0].items[0].items[0].items);"none"!==eb&&(Ha.x=Qa=0,Ha.y=oa=0);Ha.width=qa;Ha.height=Y;n.boundStroke(ta.set(Qa,oa,Qa+qa,oa+Y),Ha);Ha.mark.bounds.clear().union(ta);return Ha}function X(qa,Ha){qa.items.forEach(Va=>
Ha.union(Va.bounds));Ha.x1=qa.padding;Ha.y1=qa.padding;return Ha}function P(qa,Ha,Va,eb,ta,Qa,oa){const Y=Va.datum.vgrad;qa=("symbol"===qa.datum.type||!Qa&&Y||oa?Ha:Ha.items[0]).bounds[ta?"y2":"x2"]-qa.padding;Ha=Y&&Qa?qa:0;Qa=Y&&Qa?0:qa;Va=0>=ta?0:n.multiLineOffset(Va);return Math.round("start"===eb?Ha:"end"===eb?Qa-Va:.5*(qa-Va))}function w(qa,Ha,Va,eb){Ha.x+=Va;Ha.y+=eb;Ha.bounds.translate(Va,eb);Ha.mark.bounds.translate(Va,eb);qa.dirty(Ha)}function B(qa){const Ha=qa.reduce((Va,eb)=>{Va[eb.column]=
Math.max(eb.bounds.x2-eb.x,Va[eb.column]||0);return Va},{});qa.forEach(Va=>{Va.width=Ha[Va.column];Va.height=Va.bounds.y2-Va.y})}function K(qa,Ha,Va,eb,ta){var Qa=Ha.items[0],oa=Qa.orient,Y=Qa.anchor,ja=Qa.offset,Ga=Qa.padding,Wa=Qa.items[0].items[0],cb=Qa.items[1]&&Qa.items[1].items[0],nb="left"===oa||"right"===oa?eb:Va,pb=0,Fb=Va=0;"group"!==Qa.frame?"left"===oa?(pb=ta.y2,nb=ta.y1):"right"===oa?(pb=ta.y1,nb=ta.y2):(pb=ta.x1,nb=ta.x2):"left"===oa&&(pb=eb,nb=0);eb="start"===Y?pb:"end"===Y?nb:(pb+
nb)/2;if(cb&&cb.text){switch(oa){case "top":case "bottom":Fb=Wa.bounds.height()+Ga;break;case "left":Va=Wa.bounds.width()+Ga;break;case "right":Va=-Wa.bounds.width()-Ga}Ma.clear().union(cb.bounds);Ma.translate(Va-(cb.x||0),Fb-(cb.y||0));b(cb,"x",Va)|b(cb,"y",Fb)&&(qa.dirty(cb),cb.bounds.clear().union(Ma),cb.mark.bounds.clear().union(Ma),qa.dirty(cb));Ma.clear().union(cb.bounds)}else Ma.clear();Ma.union(Wa.bounds);switch(oa){case "top":oa=eb;ta=ta.y1-Ma.height()-ja;break;case "left":oa=ta.x1-Ma.width()-
ja;ta=eb;break;case "right":oa=ta.x2+Ma.width()+ja;ta=eb;break;case "bottom":oa=eb;ta=ta.y2+ja;break;default:oa=Qa.x,ta=Qa.y}b(Qa,"x",oa)|b(Qa,"y",ta)&&(Ma.translate(oa,ta),qa.dirty(Qa),Qa.bounds.clear().union(Ma),Ha.bounds.clear().union(Ma),qa.dirty(Qa));return Qa.bounds}function U(qa){p.Transform.call(this,null,qa)}function ka(qa){return qa&&"legend-entry"!==qa.mark.role}function da(qa,Ha,Va){var eb=Ha.items,ta=Math.max(0,Ha.width||0),Qa=Math.max(0,Ha.height||0),oa=(new n.Bounds).set(0,0,ta,Qa),
Y=oa.clone(),ja=oa.clone(),Ga=[],Wa,cb;var nb=0;for(cb=eb.length;nb<cb;++nb){var pb=eb[nb];switch(pb.role){case "axis":var Fb=m(pb)?Y:ja;Fb.union(z(qa,pb,ta,Qa));break;case "title":var nc=pb;break;case "legend":Ga.push(W(qa,pb));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":Y.union(pb.bounds);ja.union(pb.bounds);break;default:oa.union(pb.bounds)}}if(Ga.length){const Lc={};Ga.forEach(Ac=>{Wa=Ac.orient||
"right";"none"!==Wa&&(Lc[Wa]||(Lc[Wa]=[])).push(Ac)});for(const Ac in Lc)eb=Lc[Ac],q(qa,eb,aa(eb,Ac,Va.legends,Y,ja,ta,Qa));Ga.forEach(Ac=>{const yc=Ac.bounds;yc.equals(Ac._bounds)||(Ac.bounds=Ac._bounds,qa.dirty(Ac),Ac.bounds=yc,qa.dirty(Ac));if(Va.autosize&&"fit"===Va.autosize.type)switch(Ac.orient){case "left":case "right":oa.add(yc.x1,0).add(yc.x2,0);break;case "top":case "bottom":oa.add(0,yc.y1).add(0,yc.y2)}else oa.union(yc)})}oa.union(Y).union(ja);nc&&oa.union(K(qa,nc,ta,Qa,oa));Ha.clip&&oa.set(0,
0,Ha.width||0,Ha.height||0);la(qa,Ha,oa,Va)}function la(qa,Ha,Va,eb){eb=eb.autosize||{};const ta=eb.type;if(!(1>qa._autosize)&&ta){var Qa=qa._width,oa=qa._height,Y=Math.max(0,Ha.width||0),ja=Math.max(0,Math.ceil(-Va.x1));Ha=Math.max(0,Ha.height||0);var Ga=Math.max(0,Math.ceil(-Va.y1)),Wa=Math.max(0,Math.ceil(Va.x2-Y));Va=Math.max(0,Math.ceil(Va.y2-Ha));if("padding"===eb.contains){const cb=qa.padding();Qa-=cb.left+cb.right;oa-=cb.top+cb.bottom}"none"===ta?(Ga=ja=0,Y=Qa,Ha=oa):"fit"===ta?(Y=Math.max(0,
Qa-ja-Wa),Ha=Math.max(0,oa-Ga-Va)):"fit-x"===ta?(Y=Math.max(0,Qa-ja-Wa),oa=Ha+Ga+Va):"fit-y"===ta?(Qa=Y+ja+Wa,Ha=Math.max(0,oa-Ga-Va)):"pad"===ta&&(Qa=Y+ja+Wa,oa=Ha+Ga+Va);qa._resizeView(Qa,oa,Y,Ha,[ja,Ga],eb.resize)}}v.inherits(r,p.Transform,{transform(qa,Ha){const Va=Ha.dataflow,eb=qa.mark,ta=eb.marktype,Qa=n.Marks[ta],oa=Qa.bound;let Y=eb.bounds,ja;if(Qa.nested)eb.items.length&&Va.dirty(eb.items[0]),Y=h(eb,oa),eb.items.forEach(Ga=>{Ga.bounds.clear().union(Y)});else if("group"===ta||qa.modified())switch(Ha.visit(Ha.MOD,
Ga=>Va.dirty(Ga)),Y.clear(),eb.items.forEach(Ga=>Y.union(h(Ga,oa))),eb.role){case "axis":case "legend":case "title":Ha.reflow()}else ja=Ha.changed(Ha.REM),Ha.visit(Ha.ADD,Ga=>{Y.union(h(Ga,oa))}),Ha.visit(Ha.MOD,Ga=>{ja=ja||Y.alignsWith(Ga.bounds);Va.dirty(Ga);Y.union(h(Ga,oa))}),ja&&(Y.clear(),eb.items.forEach(Ga=>Y.union(Ga.bounds)));n.boundClip(eb);return Ha.modifies("bounds")}});k.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};v.inherits(k,
p.Transform,{transform(qa,Ha){const Va=f(Ha.dataflow),eb=qa.as;let ta=Va.value;Ha.visit(Ha.ADD,Qa=>Qa[eb]=Qa[eb]||++ta);Va.set(this.value=ta);return Ha}});v.inherits(e,p.Transform,{transform(qa,Ha){let Va=this.value;Va||(Va=Ha.dataflow.scenegraph().mark(qa.markdef,d(qa),qa.index),Va.group.context=qa.context,qa.context.group||(qa.context.group=Va.group),Va.source=this.source,Va.clip=qa.clip,Va.interactive=qa.interactive,this.value=Va);const eb="group"===Va.marktype?n.GroupItem:n.Item;Ha.visit(Ha.ADD,
ta=>eb.call(ta,Va));if(qa.modified("clip")||qa.modified("interactive"))Va.clip=qa.clip,Va.interactive=!!qa.interactive,Va.zdirty=!0,Ha.reflow();Va.items=Ha.source;return Ha}});const wa={parity:qa=>qa.filter((Ha,Va)=>Va%2?Ha.opacity=0:1),greedy:(qa,Ha)=>{let Va;return qa.filter((eb,ta)=>ta&&Ua(Va.bounds,eb.bounds,Ha)?eb.opacity=0:(Va=eb,1))}},Ua=(qa,Ha,Va)=>Va>Math.max(Ha.x1-qa.x2,qa.x1-Ha.x2,Ha.y1-qa.y2,qa.y1-Ha.y2),hb=(qa,Ha)=>{for(var Va=1,eb=qa.length,ta=qa[0].bounds;Va<eb;++Va)if(Ua(ta,ta=qa[Va].bounds,
Ha))return!0},La=qa=>{qa=qa.bounds;return 1<qa.width()&&1<qa.height()},pa=(qa,Ha,Va)=>{qa=qa.range();var eb=new n.Bounds;"top"===Ha||"bottom"===Ha?eb.set(qa[0],-Infinity,qa[1],Infinity):eb.set(-Infinity,qa[0],Infinity,qa[1]);eb.expand(Va||1);return ta=>eb.encloses(ta.bounds)},Da=qa=>{qa.forEach(Ha=>Ha.opacity=1);return qa};v.inherits(a,p.Transform,{transform(qa,Ha){const Va=wa[qa.method]||wa.parity,eb=qa.separation||0;let ta=Ha.materialize(Ha.SOURCE).source,Qa,oa;if(ta&&ta.length){if(!qa.method)return qa.modified("method")&&
(Da(ta),Ha=Ha.reflow(qa.modified()).modifies("opacity")),Ha;ta=ta.filter(La);if(ta.length){qa.sort&&(ta=ta.slice().sort(qa.sort));Qa=Da(ta);Ha=Ha.reflow(qa.modified()).modifies("opacity");if(3<=Qa.length&&hb(Qa,eb)){do Qa=Va(Qa,eb);while(3<=Qa.length&&hb(Qa,eb));3>Qa.length&&!v.peek(ta).opacity&&(1<Qa.length&&(v.peek(Qa).opacity=0),v.peek(ta).opacity=1)}qa.boundScale&&0<=qa.boundTolerance&&(oa=pa(qa.boundScale,qa.boundOrient,+qa.boundTolerance),ta.forEach(ja=>{oa(ja)||(ja.opacity=0)}));var Y=Qa[0].mark.bounds.clear();
ta.forEach(ja=>{ja.opacity&&Y.union(ja.bounds)});return Ha}}}});v.inherits(c,p.Transform,{transform(qa,Ha){const Va=Ha.dataflow;Ha.visit(Ha.ALL,eb=>Va.dirty(eb));Ha.fields&&Ha.fields.zindex&&(qa=Ha.source&&Ha.source[0])&&(qa.mark.zdirty=!0)}});const Ma=new n.Bounds,ua=(qa,Ha)=>Math.floor(Math.min(qa,Ha)),Aa=(qa,Ha)=>Math.ceil(Math.max(qa,Ha));v.inherits(U,p.Transform,{transform(qa,Ha){const Va=Ha.dataflow;qa.mark.items.forEach(eb=>{if(qa.layout){var ta=qa.layout;var Qa=eb.items;for(var oa=Qa.length,
Y=0,ja,Ga,Wa={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};Y<oa;++Y)if(ja=Qa[Y],Ga=ja.items,"group"===ja.marktype)switch(ja.role){case "axis":case "legend":case "title":break;case "row-header":Wa.rowheaders.push(...Ga);break;case "row-footer":Wa.rowfooters.push(...Ga);break;case "column-header":Wa.colheaders.push(...Ga);break;case "column-footer":Wa.colfooters.push(...Ga);break;case "row-title":Wa.rowtitle=Ga[0];break;case "column-title":Wa.coltitle=
Ga[0];break;default:Wa.marks.push(...Ga)}Qa=Wa;Ga=Qa.marks;Wa="flush"===ta.bounds?H:M;oa=ta.offset;var cb=ta.columns||Ga.length,nb=0>=cb?1:Math.ceil(Ga.length/cb),pb=nb*cb;Y=q(Va,Ga,ta);Y.empty()&&Y.set(0,0,0,0);if(Qa.rowheaders){ja=A(ta.headerBand,"row",null);var Fb=R(Va,Qa.rowheaders,Ga,cb,nb,-A(oa,"rowHeader"),ua,0,Wa,"x1",0,cb,1,ja)}if(Qa.colheaders){ja=A(ta.headerBand,"column",null);var nc=R(Va,Qa.colheaders,Ga,cb,cb,-A(oa,"columnHeader"),ua,1,Wa,"y1",0,1,cb,ja)}if(Qa.rowfooters){ja=A(ta.footerBand,
"row",null);var Lc=R(Va,Qa.rowfooters,Ga,cb,nb,A(oa,"rowFooter"),Aa,0,Wa,"x2",cb-1,cb,1,ja)}if(Qa.colfooters){ja=A(ta.footerBand,"column",null);var Ac=R(Va,Qa.colfooters,Ga,cb,cb,A(oa,"columnFooter"),Aa,1,Wa,"y2",pb-cb,1,cb,ja)}Qa.rowtitle&&(ja=A(ta.titleAnchor,"row"),Ga=A(oa,"rowTitle"),Ga="end"===ja?Lc+Ga:Fb-Ga,ja=A(ta.titleBand,"row",.5),Z(Va,Qa.rowtitle,Ga,0,Y,ja));Qa.coltitle&&(ja=A(ta.titleAnchor,"column"),Ga=A(oa,"columnTitle"),Ga="end"===ja?Ac+Ga:nc-Ga,ja=A(ta.titleBand,"column",.5),Z(Va,
Qa.coltitle,Ga,1,Y,ja))}da(Va,eb,qa)});return ka(qa.mark.group)?Ha.reflow():Ha}});y.bound=r;y.identifier=k;y.mark=e;y.overlap=a;y.render=c;y.viewlayout=U;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[30]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(27),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega))})(this,function(y,p,n,v){function r(za){p.Transform.call(this,null,za)}function h(za){p.Transform.call(this,null,za)}function k(){return p.ingest({})}function f(za){const Fa=v.fastmap().test(bb=>
bb.exit);Fa.lookup=bb=>Fa.get(za(bb));return Fa}function e(za){p.Transform.call(this,null,za)}function d(za){p.Transform.call(this,[],za)}function a(za){p.Transform.call(this,{},za)}function c(za,Fa,bb){za=+za;Fa=+Fa;bb=2>(zb=arguments.length)?(Fa=za,za=0,1):3>zb?1:+bb;for(var lb=-1,zb=Math.max(0,Math.ceil((Fa-za)/bb))|0,Tb=Array(zb);++lb<zb;)Tb[lb]=za+lb*bb;return Tb}function b(za,Fa){let bb=0;if(void 0===Fa)for(var lb of za){if(lb=+lb)bb+=lb}else{lb=-1;for(let zb of za)if(zb=+Fa(zb,++lb,za))bb+=
zb}return bb}function m(za){p.Transform.call(this,null,za)}function z(za,Fa,bb){za.prototype=Fa.prototype=bb;bb.constructor=za}function u(za,Fa){za=Object.create(za.prototype);for(var bb in Fa)za[bb]=Fa[bb];return za}function C(){}function J(){return this.rgb().formatHex()}function A(){return this.rgb().formatRgb()}function x(za){var Fa,bb;za=(za+"").trim().toLowerCase();return(Fa=yc.exec(za))?(bb=Fa[1].length,Fa=parseInt(Fa[1],16),6===bb?q(Fa):3===bb?new R(Fa>>8&15|Fa>>4&240,Fa>>4&15|Fa&240,(Fa&
15)<<4|Fa&15,1):8===bb?H(Fa>>24&255,Fa>>16&255,Fa>>8&255,(Fa&255)/255):4===bb?H(Fa>>12&15|Fa>>8&240,Fa>>8&15|Fa>>4&240,Fa>>4&15|Fa&240,((Fa&15)<<4|Fa&15)/255):null):(Fa=tc.exec(za))?new R(Fa[1],Fa[2],Fa[3],1):(Fa=hd.exec(za))?new R(255*Fa[1]/100,255*Fa[2]/100,255*Fa[3]/100,1):(Fa=Mb.exec(za))?H(Fa[1],Fa[2],Fa[3],Fa[4]):(Fa=Ab.exec(za))?H(255*Fa[1]/100,255*Fa[2]/100,255*Fa[3]/100,Fa[4]):(Fa=ec.exec(za))?aa(Fa[1],Fa[2]/100,Fa[3]/100,1):(Fa=ac.exec(za))?aa(Fa[1],Fa[2]/100,Fa[3]/100,Fa[4]):lc.hasOwnProperty(za)?
q(lc[za]):"transparent"===za?new R(NaN,NaN,NaN,0):null}function q(za){return new R(za>>16&255,za>>8&255,za&255,1)}function H(za,Fa,bb,lb){0>=lb&&(za=Fa=bb=NaN);return new R(za,Fa,bb,lb)}function M(za,Fa,bb,lb){if(1===arguments.length){var zb=za;zb instanceof C||(zb=x(zb));zb?(zb=zb.rgb(),zb=new R(zb.r,zb.g,zb.b,zb.opacity)):zb=new R}else zb=new R(za,Fa,bb,null==lb?1:lb);return zb}function R(za,Fa,bb,lb){this.r=+za;this.g=+Fa;this.b=+bb;this.opacity=+lb}function Z(){return"#"+ba(this.r)+ba(this.g)+
ba(this.b)}function T(){var za=this.opacity;za=isNaN(za)?1:Math.max(0,Math.min(1,za));return(1===za?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===za?")":", "+za+")")}function ba(za){za=Math.max(0,Math.min(255,Math.round(za)||0));return(16>za?"0":"")+za.toString(16)}function aa(za,Fa,bb,lb){0>=lb?za=Fa=bb=NaN:0>=bb||1<=bb?za=Fa=NaN:0>=Fa&&(za=NaN);return new X(za,Fa,bb,lb)}
function W(za){if(za instanceof X)return new X(za.h,za.s,za.l,za.opacity);za instanceof C||(za=x(za));if(!za)return new X;if(za instanceof X)return za;za=za.rgb();var Fa=za.r/255,bb=za.g/255,lb=za.b/255,zb=Math.min(Fa,bb,lb),Tb=Math.max(Fa,bb,lb),Ub=NaN,$b=Tb-zb,Dc=(Tb+zb)/2;$b?(Ub=Fa===Tb?(bb-lb)/$b+6*(bb<lb):bb===Tb?(lb-Fa)/$b+2:(Fa-bb)/$b+4,$b/=.5>Dc?Tb+zb:2-Tb-zb,Ub*=60):$b=0<Dc&&1>Dc?0:Ub;return new X(Ub,$b,Dc,za.opacity)}function X(za,Fa,bb,lb){this.h=+za;this.s=+Fa;this.l=+bb;this.opacity=
+lb}function P(za,Fa,bb){return 255*(60>za?Fa+(bb-Fa)*za/60:180>za?bb:240>za?Fa+(bb-Fa)*(240-za)/60:Fa)}function w(za,Fa){return function(bb){return za+bb*Fa}}function B(za,Fa,bb){return za=Math.pow(za,bb),Fa=Math.pow(Fa,bb)-za,bb=1/bb,function(lb){return Math.pow(za+lb*Fa,bb)}}function K(za){return 1===(za=+za)?U:function(Fa,bb){return bb-Fa?B(Fa,bb,za):Ic(isNaN(Fa)?bb:Fa)}}function U(za,Fa){var bb=Fa-za;return bb?w(za,bb):Ic(isNaN(za)?Fa:za)}function ka(za,Fa){Fa||(Fa=[]);var bb=za?Math.min(Fa.length,
za.length):0,lb=Fa.slice(),zb;return function(Tb){for(zb=0;zb<bb;++zb)lb[zb]=za[zb]*(1-Tb)+Fa[zb]*Tb;return lb}}function da(za,Fa){var bb=Fa?Fa.length:0,lb=za?Math.min(bb,za.length):0,zb=Array(lb),Tb=Array(bb),Ub;for(Ub=0;Ub<lb;++Ub)zb[Ub]=Da(za[Ub],Fa[Ub]);for(;Ub<bb;++Ub)Tb[Ub]=Fa[Ub];return function($b){for(Ub=0;Ub<lb;++Ub)Tb[Ub]=zb[Ub]($b);return Tb}}function la(za,Fa){var bb=new Date;return za=+za,Fa=+Fa,function(lb){return bb.setTime(za*(1-lb)+Fa*lb),bb}}function wa(za,Fa){return za=+za,Fa=
+Fa,function(bb){return za*(1-bb)+Fa*bb}}function Ua(za,Fa){var bb={},lb={},zb;if(null===za||"object"!==typeof za)za={};if(null===Fa||"object"!==typeof Fa)Fa={};for(zb in Fa)zb in za?bb[zb]=Da(za[zb],Fa[zb]):lb[zb]=Fa[zb];return function(Tb){for(zb in bb)lb[zb]=bb[zb](Tb);return lb}}function hb(za){return function(){return za}}function La(za){return function(Fa){return za(Fa)+""}}function pa(za,Fa){var bb=Rc.lastIndex=id.lastIndex=0,lb,zb,Tb,Ub=-1,$b=[],Dc=[];za+="";for(Fa+="";(lb=Rc.exec(za))&&(zb=
id.exec(Fa));)(Tb=zb.index)>bb&&(Tb=Fa.slice(bb,Tb),$b[Ub]?$b[Ub]+=Tb:$b[++Ub]=Tb),(lb=lb[0])===(zb=zb[0])?$b[Ub]?$b[Ub]+=zb:$b[++Ub]=zb:($b[++Ub]=null,Dc.push({i:Ub,x:wa(lb,zb)})),bb=id.lastIndex;bb<Fa.length&&(Tb=Fa.slice(bb),$b[Ub]?$b[Ub]+=Tb:$b[++Ub]=Tb);return 2>$b.length?Dc[0]?La(Dc[0].x):hb(Fa):(Fa=Dc.length,function(dd){for(var fd=0,od;fd<Fa;++fd)$b[(od=Dc[fd]).i]=od.x(dd);return $b.join("")})}function Da(za,Fa){var bb=typeof Fa;if(null==Fa||"boolean"===bb)za=Ic(Fa);else{if("number"===bb)var lb=
wa;else"string"===bb?bb=(lb=x(Fa))?(Fa=lb,Ec):pa:(Fa instanceof x?lb=Ec:Fa instanceof Date?lb=la:(lb=Fa,lb=!ArrayBuffer.isView(lb)||lb instanceof DataView?Array.isArray(Fa)?da:"function"!==typeof Fa.valueOf&&"function"!==typeof Fa.toString||isNaN(Fa)?Ua:wa:ka),bb=lb),lb=bb;za=lb(za,Fa)}return za}function Ma(za,Fa){return za=+za,Fa=+Fa,function(bb){return Math.round(za*(1-bb)+Fa*bb)}}function ua(za){return n.isContinuous(za)&&za!==n.Sequential}function Aa(za){p.Transform.call(this,null,za);this.modified(!0)}
function qa(za,Fa,bb){n.isLogarithmic(za)&&Math.abs(Fa.reduce((lb,zb)=>lb+(0>zb?-1:0<zb?1:0),0))!==Fa.length&&bb.warn("Log scale domain includes zero: "+v.stringValue(Fa));return Fa}function Ha(za,Fa,bb){return v.isFunction(za)&&(Fa||bb)?n.interpolateRange(za,Va(Fa||[0,1],bb)):za}function Va(za,Fa){return Fa?za.slice().reverse():za}function eb(za){p.Transform.call(this,null,za)}function ta(za){p.Transform.call(this,null,za)}function Qa(za,Fa,bb,lb,zb){Fa=(Fa-za.sum)/2;for(var Tb=za.length,Ub=0,$b;Ub<
Tb;++Ub)$b=za[Ub],$b[lb]=Fa,$b[zb]=Fa+=Math.abs(bb($b))}function oa(za,Fa,bb,lb,zb){Fa=1/za.sum;for(var Tb=0,Ub=za.length,$b=0,Dc=0,dd;$b<Ub;++$b)dd=za[$b],dd[lb]=Tb,dd[zb]=Tb=Fa*(Dc+=Math.abs(bb(dd)))}function Y(za,Fa,bb,lb,zb){for(var Tb=Fa=0,Ub=za.length,$b=0,Dc,dd;$b<Ub;++$b)dd=za[$b],Dc=+bb(dd),0>Dc?(dd[lb]=Tb,dd[zb]=Tb+=Dc):(dd[lb]=Fa,dd[zb]=Fa+=Dc)}function ja(za,Fa,bb,lb){var zb=[],Tb=sd=>sd(dd),Ub;if(null==Fa)zb.push(za.slice());else{var $b={};var Dc=0;for(Ub=za.length;Dc<Ub;++Dc){var dd=
za[Dc];var fd=Fa.map(Tb);var od=$b[fd];od||($b[fd]=od=[],zb.push(od));od.push(dd)}}Tb=fd=0;for(za=zb.length;fd<za;++fd){od=zb[fd];Fa=Dc=0;for(Ub=od.length;Dc<Ub;++Dc)Fa+=Math.abs(lb(od[Dc]));od.sum=Fa;Fa>Tb&&(Tb=Fa);bb&&od.sort(bb)}zb.max=Tb;return zb}v.inherits(r,p.Transform,{transform(za,Fa){if(this.value&&!za.modified())return Fa.StopPropagation;var bb=Fa.dataflow.locale();Fa=Fa.fork(Fa.NO_SOURCE|Fa.NO_FIELDS);var lb=this.value,zb=za.scale,Tb=n.tickCount(zb,null==za.count?za.values?za.values.length:
10:za.count,za.minstep),Ub=za.format||n.tickFormat(bb,zb,Tb,za.formatSpecifier,za.formatType,!!za.values),$b=za.values?n.validTicks(zb,za.values,Tb):n.tickValues(zb,Tb);lb&&(Fa.rem=lb);lb=$b.map((Dc,dd)=>p.ingest({index:dd/($b.length-1||1),value:Dc,label:Ub(Dc)}));za.extra&&lb.length&&lb.push(p.ingest({index:-1,extra:{value:lb[0].value},label:""}));Fa.source=lb;this.value=Fa.add=lb;return Fa}});v.inherits(h,p.Transform,{transform(za,Fa){var bb=Fa.dataflow,lb=Fa.fork(Fa.NO_SOURCE|Fa.NO_FIELDS),zb=
za.item||k,Tb=za.key||p.tupleid,Ub=this.value;v.isArray(lb.encode)&&(lb.encode=null);Ub&&(za.modified("key")||Fa.modified(Tb))&&v.error("DataJoin does not support modified key function or fields.");Ub||(Fa=Fa.addAll(),this.value=Ub=f(Tb));Fa.visit(Fa.ADD,$b=>{const Dc=Tb($b);let dd=Ub.get(Dc);dd?dd.exit?(Ub.empty--,lb.add.push(dd)):lb.mod.push(dd):(dd=zb($b),Ub.set(Dc,dd),lb.add.push(dd));dd.datum=$b;dd.exit=!1});Fa.visit(Fa.MOD,$b=>{var Dc=Tb($b);if(Dc=Ub.get(Dc))Dc.datum=$b,lb.mod.push(Dc)});Fa.visit(Fa.REM,
$b=>{var Dc=Tb($b);Dc=Ub.get(Dc);$b!==Dc.datum||Dc.exit||(lb.rem.push(Dc),Dc.exit=!0,++Ub.empty)});Fa.changed(Fa.ADD_MOD)&&lb.modifies("datum");(Fa.clean()||za.clean&&Ub.empty>bb.cleanThreshold)&&bb.runAfter(Ub.clean);return lb}});v.inherits(e,p.Transform,{transform(za,Fa){var bb=Fa.fork(Fa.ADD_REM),lb=za.mod||!1,zb=za.encoders,Tb=Fa.encode;if(v.isArray(Tb))if(bb.changed()||Tb.every(od=>zb[od]))Tb=Tb[0],bb.encode=null;else return Fa.StopPropagation;var Ub="enter"===Tb,$b=zb.update||v.falsy,Dc=zb.enter||
v.falsy,dd=zb.exit||v.falsy,fd=(Tb&&!Ub?zb[Tb]:$b)||v.falsy;Fa.changed(Fa.ADD)&&(Fa.visit(Fa.ADD,od=>{Dc(od,za);$b(od,za)}),bb.modifies(Dc.output),bb.modifies($b.output),fd!==v.falsy&&fd!==$b&&(Fa.visit(Fa.ADD,od=>{fd(od,za)}),bb.modifies(fd.output)));Fa.changed(Fa.REM)&&dd!==v.falsy&&(Fa.visit(Fa.REM,od=>{dd(od,za)}),bb.modifies(dd.output));if(Ub||fd!==v.falsy)Tb=Fa.MOD|(za.modified()?Fa.REFLOW:0),Ub?(Fa.visit(Tb,od=>{const sd=Dc(od,za)||lb;(fd(od,za)||sd)&&bb.mod.push(od)}),bb.mod.length&&bb.modifies(Dc.output)):
Fa.visit(Tb,od=>{(fd(od,za)||lb)&&bb.mod.push(od)}),bb.mod.length&&bb.modifies(fd.output);return bb.changed()?bb:Fa.StopPropagation}});v.inherits(d,p.Transform,{transform(za,Fa){if(null!=this.value&&!za.modified())return Fa.StopPropagation;var bb=Fa.dataflow.locale(),lb=Fa.fork(Fa.NO_SOURCE|Fa.NO_FIELDS),zb=this.value,Tb=za.type||n.SymbolLegend,Ub=za.scale,$b=+za.limit,Dc=n.tickCount(Ub,null==za.count?5:za.count,za.minstep),dd=!!za.values||Tb===n.SymbolLegend,fd=za.format||n.labelFormat(bb,Ub,Dc,
Tb,za.formatSpecifier,za.formatType,dd),od=za.values||n.labelValues(Ub,Dc),sd;zb&&(lb.rem=zb);if(Tb===n.SymbolLegend){if($b&&od.length>$b){Fa.dataflow.warn("Symbol legend count exceeds limit, filtering items.");zb=od.slice(0,$b-1);var Kd=!0}else zb=od;if(v.isFunction(sd=za.size)){za.values||0!==Ub(zb[0])||(zb=zb.slice(1));var Od=zb.reduce((de,je)=>Math.max(de,sd(je,za)),0)}else sd=v.constant(Od=sd||8);zb=zb.map((de,je)=>p.ingest({index:je,label:fd(de,je,zb),value:de,offset:Od,size:sd(de,za)}));Kd&&
(Kd=od[zb.length],zb.push(p.ingest({index:zb.length,label:`\u2026${od.length-zb.length} entries`,value:Kd,offset:Od,size:sd(Kd,za)})))}else if(Tb===n.GradientLegend){Fa=Ub.domain();var ae=n.scaleFraction(Ub,Fa[0],v.peek(Fa));3>od.length&&!za.values&&Fa[0]!==v.peek(Fa)&&(od=[Fa[0],v.peek(Fa)]);zb=od.map((de,je)=>p.ingest({index:je,label:fd(de,je,od),value:de,perc:ae(de)}))}else sd=od.length-1,ae=n.labelFraction(Ub),zb=od.map((de,je)=>p.ingest({index:je,label:fd(de,je,od),value:de,perc:je?ae(de):0,
perc2:je===sd?1:ae(od[je+1])}));lb.source=zb;this.value=lb.add=zb;return lb}});const Ga=za=>za.source.x,Wa=za=>za.source.y,cb=za=>za.target.x,nb=za=>za.target.y;a.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical",
"radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};v.inherits(a,p.Transform,{transform(za,Fa){var bb=za.sourceX||Ga,lb=za.sourceY||Wa,zb=za.targetX||cb,Tb=za.targetY||nb,Ub=za.as||"path",$b=za.shape||"line",Dc=Lc.get($b+"-"+(za.orient||"vertical"))||Lc.get($b);Dc||v.error("LinkPath unsupported type: "+za.shape+(za.orient?"-"+za.orient:""));Fa.visit(Fa.SOURCE,dd=>{dd[Ub]=
Dc(bb(dd),lb(dd),zb(dd),Tb(dd))});return Fa.reflow(za.modified()).modifies(Ub)}});const pb=(za,Fa,bb,lb)=>"M"+za+","+Fa+"L"+bb+","+lb,Fb=(za,Fa,bb,lb)=>{var zb=bb-za,Tb=lb-Fa,Ub=Math.sqrt(zb*zb+Tb*Tb)/2;return"M"+za+","+Fa+"A"+Ub+","+Ub+" "+180*Math.atan2(Tb,zb)/Math.PI+" 0 1 "+bb+","+lb},nc=(za,Fa,bb,lb)=>{var zb=bb-za;const Tb=lb-Fa,Ub=.2*(zb+Tb);zb=.2*(Tb-zb);return"M"+za+","+Fa+"C"+(za+Ub)+","+(Fa+zb)+" "+(bb+zb)+","+(lb-Ub)+" "+bb+","+lb},Lc=v.fastmap({line:pb,"line-radial":(za,Fa,bb,lb)=>pb(Fa*
Math.cos(za),Fa*Math.sin(za),lb*Math.cos(bb),lb*Math.sin(bb)),arc:Fb,"arc-radial":(za,Fa,bb,lb)=>Fb(Fa*Math.cos(za),Fa*Math.sin(za),lb*Math.cos(bb),lb*Math.sin(bb)),curve:nc,"curve-radial":(za,Fa,bb,lb)=>nc(Fa*Math.cos(za),Fa*Math.sin(za),lb*Math.cos(bb),lb*Math.sin(bb)),"orthogonal-horizontal":(za,Fa,bb,lb)=>"M"+za+","+Fa+"V"+lb+"H"+bb,"orthogonal-vertical":(za,Fa,bb,lb)=>"M"+za+","+Fa+"H"+bb+"V"+lb,"orthogonal-radial":(za,Fa,bb,lb)=>{const zb=Math.cos(bb),Tb=Math.sin(bb);return"M"+Fa*Math.cos(za)+
","+Fa*Math.sin(za)+"A"+Fa+","+Fa+" 0 0,"+((Math.abs(bb-za)>Math.PI?bb<=za:bb>za)?1:0)+" "+Fa*zb+","+Fa*Tb+"L"+lb*zb+","+lb*Tb},"diagonal-horizontal":(za,Fa,bb,lb)=>{const zb=(za+bb)/2;return"M"+za+","+Fa+"C"+zb+","+Fa+" "+zb+","+lb+" "+bb+","+lb},"diagonal-vertical":(za,Fa,bb,lb)=>{const zb=(Fa+lb)/2;return"M"+za+","+Fa+"C"+za+","+zb+" "+bb+","+zb+" "+bb+","+lb},"diagonal-radial":(za,Fa,bb,lb)=>{const zb=Math.cos(za);za=Math.sin(za);const Tb=Math.cos(bb);bb=Math.sin(bb);const Ub=(Fa+lb)/2;return"M"+
Fa*zb+","+Fa*za+"C"+Ub*zb+","+Ub*za+" "+Ub*Tb+","+Ub*bb+" "+lb*Tb+","+lb*bb}});m.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};v.inherits(m,p.Transform,{transform(za,Fa){var bb=za.as||["startAngle","endAngle"],lb=bb[0],zb=bb[1],Tb=za.startAngle||
0,Ub=null!=za.endAngle?za.endAngle:2*Math.PI,$b=Fa.source,Dc=$b.map(za.field||v.one),dd=Dc.length,fd=Tb;Tb=(Ub-Tb)/b(Dc);Ub=c(dd);var od;za.sort&&Ub.sort((Od,ae)=>Dc[Od]-Dc[ae]);for(od=0;od<dd;++od){var sd=Dc[Ub[od]];var Kd=$b[Ub[od]];Kd[lb]=fd;Kd[zb]=fd+=sd*Tb}this.value=Dc;return Fa.reflow(za.modified()).modifies(bb)}});var Ac=1/.7,yc=/^#([0-9a-f]{3,8})$/,tc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),hd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Mb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ab=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ec=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
ac=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),lc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z(C,x,{copy:function(za){return Object.assign(new this.constructor,this,za)},displayable:function(){return this.rgb().displayable()},hex:J,formatHex:J,formatHsl:function(){return W(this).formatHsl()},
formatRgb:A,toString:A});z(R,M,u(C,{brighter:function(za){za=null==za?Ac:Math.pow(Ac,za);return new R(this.r*za,this.g*za,this.b*za,this.opacity)},darker:function(za){za=null==za?.7:Math.pow(.7,za);return new R(this.r*za,this.g*za,this.b*za,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Z,formatHex:Z,formatRgb:T,toString:T}));z(X,function(za,Fa,bb,lb){return 1===
arguments.length?W(za):new X(za,Fa,bb,null==lb?1:lb)},u(C,{brighter:function(za){za=null==za?Ac:Math.pow(Ac,za);return new X(this.h,this.s,this.l*za,this.opacity)},darker:function(za){za=null==za?.7:Math.pow(.7,za);return new X(this.h,this.s,this.l*za,this.opacity)},rgb:function(){var za=this.h%360+360*(0>this.h),Fa=isNaN(za)||isNaN(this.s)?0:this.s,bb=this.l;Fa=bb+(.5>bb?bb:1-bb)*Fa;bb=2*bb-Fa;return new R(P(240<=za?za-240:za+120,bb,Fa),P(za,bb,Fa),P(120>za?za+240:za-120,bb,Fa),this.opacity)},displayable:function(){return(0<=
this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var za=this.opacity;za=isNaN(za)?1:Math.max(0,Math.min(1,za));return(1===za?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===za?")":", "+za+")")}}));var Ic=za=>()=>za,Ec=function bb(Fa){function lb(Tb,Ub){var $b=zb((Tb=M(Tb)).r,(Ub=M(Ub)).r),Dc=zb(Tb.g,Ub.g),dd=zb(Tb.b,Ub.b),fd=U(Tb.opacity,Ub.opacity);return function(od){Tb.r=$b(od);Tb.g=Dc(od);Tb.b=dd(od);
Tb.opacity=fd(od);return Tb+""}}var zb=K(Fa);lb.gamma=bb;return lb}(1),Rc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,id=new RegExp(Rc.source,"g");const Td=v.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));v.inherits(Aa,p.Transform,{transform(Fa,bb){var lb=bb.dataflow,zb=this.value;var Tb=Fa.type;var Ub="";if(Tb===n.Sequential)Tb=n.Sequential+
"-"+n.Linear;else{var $b=Fa.type;n.isContinuous($b)&&$b!==n.Time&&$b!==n.UTC&&(Fa.scheme||Fa.range&&Fa.range.length&&Fa.range.every(v.isString))&&(Ub=Fa.rawDomain?Fa.rawDomain.length:Fa.domain?Fa.domain.length+ +(null!=Fa.domainMid):0,Ub=2===Ub?n.Sequential+"-":3===Ub?n.Diverging+"-":"");Tb=(Ub+Tb||n.Linear).toLowerCase()}zb&&Tb===zb.type||(this.value=zb=n.scale(Tb)());for(Tb in Fa)Td[Tb]||"padding"===Tb&&ua(zb.type)||(v.isFunction(zb[Tb])?zb[Tb](Fa[Tb]):lb.warn("Unsupported scale property: "+Tb));
Ub=Tb=zb;($b=Fa.domainRaw)?(zb.domain(qa(zb.type,$b,lb)),$b=$b.length):$b=-1;if(-1<$b)lb=$b;else{var Dc=Fa.domain;$b=zb.type;var dd;!(dd=Fa.zero)&&(dd=void 0===Fa.zero)&&(dd=zb.type,dd=!zb.bins&&(dd===n.Linear||dd===n.Pow||dd===n.Sqrt));if(Dc){if(ua($b)&&Fa.padding&&Dc[0]!==v.peek(Dc)){var fd=Fa.range,od=Fa.padding;var sd=Fa.exponent;var Kd=Fa.constant;fd=Math.abs(v.peek(fd)-fd[0]);od=fd/(fd-2*od);sd=$b===n.Log?v.zoomLog(Dc,null,od):$b===n.Sqrt?v.zoomPow(Dc,null,od,.5):$b===n.Pow?v.zoomPow(Dc,null,
od,sd||1):$b===n.Symlog?v.zoomSymlog(Dc,null,od,Kd||1):v.zoomLinear(Dc,null,od);Dc=Dc.slice();Dc[0]=sd[0];Dc[Dc.length-1]=sd[1]}if(dd||null!=Fa.domainMin||null!=Fa.domainMax||null!=Fa.domainMid)sd=(Dc=Dc.slice()).length-1||1,dd&&(0<Dc[0]&&(Dc[0]=0),0>Dc[sd]&&(Dc[sd]=0)),null!=Fa.domainMin&&(Dc[0]=Fa.domainMin),null!=Fa.domainMax&&(Dc[sd]=Fa.domainMax),null!=Fa.domainMid&&(dd=Fa.domainMid,Kd=dd>Dc[sd]?sd+1:dd<Dc[0]?0:sd,Kd!==sd&&lb.warn("Scale domainMid exceeds domain min or max.",dd),Dc.splice(Kd,
0,dd));zb.domain(qa($b,Dc,lb));$b===n.Ordinal&&zb.unknown(Fa.domainImplicit?n.scaleImplicit:void 0);Fa.nice&&zb.nice&&zb.nice(!0!==Fa.nice&&n.tickCount(zb,Fa.nice)||null);lb=Dc.length}else lb=0}($b=Fa.bins)&&!v.isArray($b)&&(dd=Ub.domain(),zb=dd[0],dd=v.peek(dd),Dc=$b.step,sd=null==$b.start?zb:$b.start,$b=null==$b.stop?dd:$b.stop,Dc||v.error("Scale bins parameter missing step property."),sd<zb&&(sd=Dc*Math.ceil(zb/Dc)),$b>dd&&($b=Dc*Math.floor(dd/Dc)),$b=c(sd,$b+Dc/2,Dc));$b?Ub.bins=$b:Ub.bins&&delete Ub.bins;
Ub.type===n.BinOrdinal&&($b?Fa.domain||Fa.domainRaw||(Ub.domain($b),lb=$b.length):Ub.bins=Ub.domain());zb=lb;a:{Ub=Tb.type;lb=Fa.round||!1;$b=Fa.range;if(null!=Fa.rangeStep)Ub!==n.Band&&Ub!==n.Point&&v.error("Only band and point scales support rangeStep."),$b=[0,Fa.rangeStep*n.bandSpace(zb,Ub===n.Point?1:(null!=Fa.paddingInner?Fa.paddingInner:Fa.padding)||0,(null!=Fa.paddingOuter?Fa.paddingOuter:Fa.padding)||0)];else if(Fa.scheme&&($b=Fa.schemeExtent,v.isArray(Fa.scheme)?dd=n.interpolateColors(Fa.scheme,
Fa.interpolate,Fa.interpolateGamma):(dd=Fa.scheme.toLowerCase(),(dd=n.scheme(dd))||v.error(`Unrecognized scheme name: ${Fa.scheme}`)),zb=Ub===n.Threshold?zb+1:Ub===n.BinOrdinal?zb-1:Ub===n.Quantile||Ub===n.Quantize?+Fa.schemeCount||5:zb,$b=n.isInterpolating(Ub)?Ha(dd,$b,Fa.reverse):v.isFunction(dd)?n.quantizeInterpolator(Ha(dd,$b),zb):Ub===n.Ordinal?dd:dd.slice(0,zb),v.isFunction($b)))if(Tb.interpolator){Tb.interpolator($b);break a}else v.error(`Scale type ${Ub} does not support interpolating color schemes.`);
$b&&n.isInterpolating(Ub)?Tb.interpolator(n.interpolateColors(Va($b,Fa.reverse),Fa.interpolate,Fa.interpolateGamma)):($b&&Fa.interpolate&&Tb.interpolate?Tb.interpolate(n.interpolate(Fa.interpolate,Fa.interpolateGamma)):v.isFunction(Tb.round)?Tb.round(lb):v.isFunction(Tb.rangeRound)&&Tb.interpolate(lb?Ma:Da),$b&&Tb.range(Va($b,Fa.reverse)))}return bb.fork(bb.NO_SOURCE|bb.NO_FIELDS)}});v.inherits(eb,p.Transform,{transform(Fa,bb){const lb=Fa.modified("sort")||bb.changed(bb.ADD)||bb.modified(Fa.sort.fields)||
bb.modified("datum");lb&&bb.source.sort(p.stableCompare(Fa.sort));this.modified(lb);return bb}});const Ea=["y0","y1"];ta.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Ea}]};v.inherits(ta,p.Transform,{transform(Fa,bb){var lb=Fa.as||Ea,zb=lb[0],Tb=lb[1],Ub=p.stableCompare(Fa.sort),
$b=Fa.field||v.one,Dc="center"===Fa.offset?Qa:"normalize"===Fa.offset?oa:Y,dd;Ub=ja(bb.source,Fa.groupby,Ub,$b);var fd=0;var od=Ub.length;for(dd=Ub.max;fd<od;++fd)Dc(Ub[fd],dd,$b,zb,Tb);return bb.reflow(Fa.modified()).modifies(lb)}});y.axisticks=r;y.datajoin=h;y.encode=e;y.legendentries=d;y.linkpath=a;y.pie=m;y.scale=Aa;y.sortitems=eb;y.stack=ta;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[31]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G):"function"===typeof define&&define.amd?define(["exports"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={}))})(this,function(y){function*p(mb){for(const Gb of mb)yield*Gb}function n(mb){return 1<mb?0:-1>mb?sd:Math.acos(mb)}function v(mb){return 1<mb?Kd:-1>mb?-Kd:Math.asin(mb)}function r(){}function h(mb,Gb){if(mb&&Gc.hasOwnProperty(mb.type))Gc[mb.type](mb,Gb)}function k(mb,Gb,
Pb){var Vb=-1;Pb=mb.length-Pb;for(Gb.lineStart();++Vb<Pb;){var ma=mb[Vb];Gb.point(ma[0],ma[1],ma[2])}Gb.lineEnd()}function f(mb,Gb){var Pb=-1,Vb=mb.length;for(Gb.polygonStart();++Pb<Vb;)k(mb[Pb],Gb,1);Gb.polygonEnd()}function e(mb,Gb){if(mb&&Jc.hasOwnProperty(mb.type))Jc[mb.type](mb,Gb);else h(mb,Gb)}function d(mb){return[Ye(mb[1],mb[0]),v(mb[2])]}function a(mb){var Gb=mb[0];mb=mb[1];var Pb=pe(mb);return[Pb*pe(Gb),Pb*tb(Gb),tb(mb)]}function c(mb,Gb){return mb[0]*Gb[0]+mb[1]*Gb[1]+mb[2]*Gb[2]}function b(mb,
Gb){return[mb[1]*Gb[2]-mb[2]*Gb[1],mb[2]*Gb[0]-mb[0]*Gb[2],mb[0]*Gb[1]-mb[1]*Gb[0]]}function m(mb,Gb){mb[0]+=Gb[0];mb[1]+=Gb[1];mb[2]+=Gb[2]}function z(mb,Gb){return[mb[0]*Gb,mb[1]*Gb,mb[2]*Gb]}function u(mb){var Gb=dc(mb[0]*mb[0]+mb[1]*mb[1]+mb[2]*mb[2]);mb[0]/=Gb;mb[1]/=Gb;mb[2]/=Gb}function C(mb,Gb){function Pb(Vb,ma){return Vb=mb(Vb,ma),Gb(Vb[0],Vb[1])}mb.invert&&Gb.invert&&(Pb.invert=function(Vb,ma){return Vb=Gb.invert(Vb,ma),Vb&&mb.invert(Vb[0],Vb[1])});return Pb}function J(mb,Gb){return[qd(mb)>
sd?mb+Math.round(-mb/ae)*ae:mb,Gb]}function A(mb,Gb,Pb){return(mb%=ae)?Gb||Pb?C(q(mb),H(Gb,Pb)):q(mb):Gb||Pb?H(Gb,Pb):J}function x(mb){return function(Gb,Pb){return Gb+=mb,[Gb>sd?Gb-ae:Gb<-sd?Gb+ae:Gb,Pb]}}function q(mb){var Gb=x(mb);Gb.invert=x(-mb);return Gb}function H(mb,Gb){function Pb(Eb,Ib){var Nb=pe(Ib),kc=pe(Eb)*Nb;Eb=tb(Eb)*Nb;Ib=tb(Ib);Nb=Ib*Vb+kc*ma;return[Ye(Eb*Ka-Nb*ib,kc*Vb-Ib*ma),v(Nb*Ka+Eb*ib)]}var Vb=pe(mb),ma=tb(mb),Ka=pe(Gb),ib=tb(Gb);Pb.invert=function(Eb,Ib){var Nb=pe(Ib),kc=
pe(Eb)*Nb;Eb=tb(Eb)*Nb;Ib=tb(Ib);Nb=Ib*Ka-Eb*ib;return[Ye(Eb*Ka+Ib*ib,kc*Vb+Nb*ma),v(Nb*Vb-kc*ma)]};return Pb}function M(mb){function Gb(Pb){Pb=mb(Pb[0]*je,Pb[1]*je);return Pb[0]*=de,Pb[1]*=de,Pb}mb=A(mb[0]*je,mb[1]*je,2<mb.length?mb[2]*je:0);Gb.invert=function(Pb){Pb=mb.invert(Pb[0]*je,Pb[1]*je);return Pb[0]*=de,Pb[1]*=de,Pb};return Gb}function R(mb,Gb){Gb=a(Gb);Gb[0]-=mb;u(Gb);mb=n(-Gb[1]);return((0>-Gb[2]?-mb:mb)+ae-1E-6)%ae}function Z(){var mb=[],Gb;return{point:function(Pb,Vb,ma){Gb.push([Pb,
Vb,ma])},lineStart:function(){mb.push(Gb=[])},lineEnd:r,rejoin:function(){1<mb.length&&mb.push(mb.pop().concat(mb.shift()))},result:function(){var Pb=mb;mb=[];Gb=null;return Pb}}}function T(mb,Gb){return 1E-6>qd(mb[0]-Gb[0])&&1E-6>qd(mb[1]-Gb[1])}function ba(mb,Gb,Pb,Vb){this.x=mb;this.z=Gb;this.o=Pb;this.e=Vb;this.v=!1;this.n=this.p=null}function aa(mb,Gb,Pb,Vb,ma){var Ka=[],ib=[];mb.forEach(function(Kc){if(!(0>=(Bc=Kc.length-1))){var Bc,wc=Kc[0],ld=Kc[Bc];if(T(wc,ld)){if(!wc[2]&&!ld[2]){ma.lineStart();
for(Eb=0;Eb<Bc;++Eb)ma.point((wc=Kc[Eb])[0],wc[1]);ma.lineEnd();return}ld[0]+=2E-6}Ka.push(Bc=new ba(wc,Kc,null,!0));ib.push(Bc.o=new ba(wc,null,Bc,!1));Ka.push(Bc=new ba(ld,Kc,null,!1));ib.push(Bc.o=new ba(ld,null,Bc,!0))}});if(Ka.length){ib.sort(Gb);W(Ka);W(ib);var Eb=0;for(mb=ib.length;Eb<mb;++Eb)ib[Eb].e=Pb=!Pb;Pb=Ka[0];for(var Ib;;){for(var Nb=Pb,kc=!0;Nb.v;)if((Nb=Nb.n)===Pb)return;Gb=Nb.z;ma.lineStart();do{Nb.v=Nb.o.v=!0;if(Nb.e){if(kc)for(Eb=0,mb=Gb.length;Eb<mb;++Eb)ma.point((Ib=Gb[Eb])[0],
Ib[1]);else Vb(Nb.x,Nb.n.x,1,ma);Nb=Nb.n}else{if(kc)for(Gb=Nb.p.z,Eb=Gb.length-1;0<=Eb;--Eb)ma.point((Ib=Gb[Eb])[0],Ib[1]);else Vb(Nb.x,Nb.p.x,-1,ma);Nb=Nb.p}Nb=Nb.o;Gb=Nb.z;kc=!kc}while(!Nb.v);ma.lineEnd()}}}function W(mb){if(Gb=mb.length){for(var Gb,Pb=0,Vb=mb[0],ma;++Pb<Gb;)Vb.n=ma=mb[Pb],ma.p=Vb,Vb=ma;Vb.n=ma=mb[0];ma.p=Vb}}function X(mb){return qd(mb[0])<=sd?mb[0]:Kb(mb[0])*((qd(mb[0])+sd)%ae-sd)}function P(mb,Gb,Pb,Vb){return function(ma){function Ka(td,Dd){mb(td,Dd)&&ma.point(td,Dd)}function ib(td,
Dd){Bc.point(td,Dd)}function Eb(){se.point=ib;Bc.lineStart()}function Ib(){se.point=Ka;Bc.lineEnd()}function Nb(td,Dd){he.push([td,Dd]);ld.point(td,Dd)}function kc(){ld.lineStart();he=[]}function Kc(){Nb(he[0][0],he[0][1]);ld.lineEnd();var td=ld.clean(),Dd=wc.result(),fe=Dd.length,qe;he.pop();Fe.push(he);he=null;if(fe)if(td&1){if(fe=Dd[0],0<(Dd=fe.length-1)){wd||(ma.polygonStart(),wd=!0);ma.lineStart();for(td=0;td<Dd;++td)ma.point((qe=fe[td])[0],qe[1]);ma.lineEnd()}}else 1<fe&&td&2&&Dd.push(Dd.pop().concat(Dd.shift())),
Fd.push(Dd.filter(w))}var Bc=Gb(ma),wc=Z(),ld=Gb(wc),wd=!1,Fe,Fd,he,se={point:Ka,lineStart:Eb,lineEnd:Ib,polygonStart:function(){se.point=Nb;se.lineStart=kc;se.lineEnd=Kc;Fd=[];Fe=[]},polygonEnd:function(){se.point=Ka;se.lineStart=Eb;se.lineEnd=Ib;Fd=Array.from(p(Fd));var td=Fe;var Dd=X(Vb),fe=Vb[1],qe=tb(fe),Ad=[tb(Dd),-pe(Dd),0],We=0,Se=0,hf=new od;1===qe?fe=Kd+1E-6:-1===qe&&(fe=-Kd-1E-6);qe=0;for(var Bf=td.length;qe<Bf;++qe)if(Vg=(Cf=td[qe]).length){var Cf,Vg,Yd=Cf[Vg-1],Ie=X(Yd),qg=Yd[1]/2+Od,
ug=tb(qg),Zg=pe(qg);for(qg=0;qg<Vg;++qg,Ie=Eg,ug=Ag,Zg=dg,Yd=cg){var cg=Cf[qg],Eg=X(cg);dg=cg[1]/2+Od;var Ag=tb(dg),dg=pe(dg),Rf=Eg-Ie,Jf=0<=Rf?1:-1,eg=Jf*Rf,Mf=eg>sd;ug*=Ag;hf.add(Ye(ug*Jf*tb(eg),Zg*dg+ug*pe(eg)));We+=Mf?Rf+Jf*ae:Rf;Mf^Ie>=Dd^Eg>=Dd&&(Yd=b(a(Yd),a(cg)),u(Yd),Ie=b(Ad,Yd),u(Ie),Ie=(Mf^0<=Rf?-1:1)*v(Ie[2]),fe>Ie||fe===Ie&&(Yd[0]||Yd[1]))&&(Se+=Mf^0<=Rf?1:-1)}}td=(-1E-6>We||1E-6>We&&-1E-12>hf)^Se&1;Fd.length?(wd||(ma.polygonStart(),wd=!0),aa(Fd,B,td,Pb,ma)):td&&(wd||(ma.polygonStart(),
wd=!0),ma.lineStart(),Pb(null,null,1,ma),ma.lineEnd());wd&&(ma.polygonEnd(),wd=!1);Fd=Fe=null},sphere:function(){ma.polygonStart();ma.lineStart();Pb(null,null,1,ma);ma.lineEnd();ma.polygonEnd()}};return se}}function w(mb){return 1<mb.length}function B(mb,Gb){return(0>(mb=mb.x)[0]?mb[1]-Kd-1E-6:Kd-mb[1])-(0>(Gb=Gb.x)[0]?Gb[1]-Kd-1E-6:Kd-Gb[1])}function K(mb){function Gb(Ib,Nb){return pe(Ib)*pe(Nb)>ma}function Pb(Ib,Nb,kc){var Kc=a(Ib),Bc=a(Nb),wc=[1,0,0];Bc=b(Kc,Bc);var ld=c(Bc,Bc);Kc=Bc[0];var wd=
ld-Kc*Kc;if(!wd)return!kc&&Ib;ld=ma*ld/wd;wd=-ma*Kc/wd;Kc=b(wc,Bc);wc=z(wc,ld);Bc=z(Bc,wd);m(wc,Bc);Bc=c(wc,Kc);ld=c(Kc,Kc);wd=Bc*Bc-ld*(c(wc,wc)-1);if(!(0>wd)){var Fe=dc(wd);wd=z(Kc,(-Bc-Fe)/ld);m(wd,wc);wd=d(wd);if(!kc)return wd;kc=Ib[0];var Fd=Nb[0];Ib=Ib[1];Nb=Nb[1];if(Fd<kc){var he=kc;kc=Fd;Fd=he}var se=Fd-kc,td=1E-6>qd(se-sd);!td&&Nb<Ib&&(he=Ib,Ib=Nb,Nb=he);if(td||1E-6>se?td?0<Ib+Nb^wd[1]<(1E-6>qd(wd[0]-kc)?Ib:Nb):Ib<=wd[1]&&wd[1]<=Nb:se>sd^(kc<=wd[0]&&wd[0]<=Fd))return Nb=z(Kc,(-Bc+Fe)/ld),
m(Nb,wc),[wd,d(Nb)]}}function Vb(Ib,Nb){var kc=ib?mb:sd-mb,Kc=0;Ib<-kc?Kc|=1:Ib>kc&&(Kc|=2);Nb<-kc?Kc|=4:Nb>kc&&(Kc|=8);return Kc}var ma=pe(mb),Ka=6*je,ib=0<ma,Eb=1E-6<qd(ma);return P(Gb,function(Ib){var Nb,kc,Kc,Bc,wc;return{lineStart:function(){Bc=Kc=!1;wc=1},point:function(ld,wd){var Fe=[ld,wd],Fd=Gb(ld,wd);wd=ib?Fd?0:Vb(ld,wd):Fd?Vb(ld+(0>ld?sd:-sd),wd):0;!Nb&&(Bc=Kc=Fd)&&Ib.lineStart();Fd!==Kc&&(ld=Pb(Nb,Fe),!ld||T(Nb,ld)||T(Fe,ld))&&(Fe[2]=1);if(Fd!==Kc)wc=0,Fd?(Ib.lineStart(),ld=Pb(Fe,Nb),
Ib.point(ld[0],ld[1])):(ld=Pb(Nb,Fe),Ib.point(ld[0],ld[1],2),Ib.lineEnd()),Nb=ld;else if(Eb&&Nb&&ib^Fd){var he;wd&kc||!(he=Pb(Fe,Nb,!0))||(wc=0,ib?(Ib.lineStart(),Ib.point(he[0][0],he[0][1]),Ib.point(he[1][0],he[1][1]),Ib.lineEnd()):(Ib.point(he[1][0],he[1][1]),Ib.lineEnd(),Ib.lineStart(),Ib.point(he[0][0],he[0][1],3)))}!Fd||Nb&&T(Nb,Fe)||Ib.point(Fe[0],Fe[1]);Nb=Fe;Kc=Fd;kc=wd},lineEnd:function(){Kc&&Ib.lineEnd();Nb=null},clean:function(){return wc|(Bc&&Kc)<<1}}},function(Ib,Nb,kc,Kc){var Bc=Ib;
if(Ka){Ib=pe(mb);var wc=tb(mb),ld=kc*Ka;if(null==Bc)Bc=mb+kc*ae,Nb=mb-ld/2;else if(Bc=R(Ib,Bc),Nb=R(Ib,Nb),0<kc?Bc<Nb:Bc>Nb)Bc+=kc*ae;for(var wd=Bc;0<kc?wd>Nb:wd<Nb;wd-=ld)Bc=d([Ib,-wc*pe(wd),-wc*tb(wd)]),Kc.point(Bc[0],Bc[1])}},ib?[0,-mb]:[-sd,mb-sd])}function U(mb,Gb,Pb,Vb,ma,Ka){var ib=mb[0],Eb=mb[1],Ib=0,Nb=1,kc=Gb[0]-ib,Kc=Gb[1]-Eb;Pb-=ib;if(kc||!(0<Pb)){Pb/=kc;if(0>kc){if(Pb<Ib)return;Pb<Nb&&(Nb=Pb)}else if(0<kc){if(Pb>Nb)return;Pb>Ib&&(Ib=Pb)}Pb=ma-ib;if(kc||!(0>Pb)){Pb/=kc;if(0>kc){if(Pb>
Nb)return;Pb>Ib&&(Ib=Pb)}else if(0<kc){if(Pb<Ib)return;Pb<Nb&&(Nb=Pb)}Pb=Vb-Eb;if(Kc||!(0<Pb)){Pb/=Kc;if(0>Kc){if(Pb<Ib)return;Pb<Nb&&(Nb=Pb)}else if(0<Kc){if(Pb>Nb)return;Pb>Ib&&(Ib=Pb)}Pb=Ka-Eb;if(Kc||!(0>Pb)){Pb/=Kc;if(0>Kc){if(Pb>Nb)return;Pb>Ib&&(Ib=Pb)}else if(0<Kc){if(Pb<Ib)return;Pb<Nb&&(Nb=Pb)}0<Ib&&(mb[0]=ib+Ib*kc,mb[1]=Eb+Ib*Kc);1>Nb&&(Gb[0]=ib+Nb*kc,Gb[1]=Eb+Nb*Kc);return!0}}}}}function ka(mb,Gb,Pb,Vb){function ma(Ib,Nb,kc,Kc){var Bc=0,wc=0;if(null==Ib||(Bc=Ka(Ib,kc))!==(wc=Ka(Nb,kc))||
0>Eb(Ib,Nb)^0<kc){do Kc.point(0===Bc||3===Bc?mb:Pb,1<Bc?Vb:Gb);while((Bc=(Bc+kc+4)%4)!==wc)}else Kc.point(Nb[0],Nb[1])}function Ka(Ib,Nb){return 1E-6>qd(Ib[0]-mb)?0<Nb?0:3:1E-6>qd(Ib[0]-Pb)?0<Nb?2:1:1E-6>qd(Ib[1]-Gb)?0<Nb?1:0:0<Nb?3:2}function ib(Ib,Nb){return Eb(Ib.x,Nb.x)}function Eb(Ib,Nb){var kc=Ka(Ib,1),Kc=Ka(Nb,1);return kc!==Kc?kc-Kc:0===kc?Nb[1]-Ib[1]:1===kc?Ib[0]-Nb[0]:2===kc?Ib[1]-Nb[1]:Nb[0]-Ib[0]}return function(Ib){function Nb(We,Se){mb<=We&&We<=Pb&&Gb<=Se&&Se<=Vb&&Kc.point(We,Se)}function kc(We,
Se){var hf=mb<=We&&We<=Pb&&Gb<=Se&&Se<=Vb;ld&&wd.push([We,Se]);if(fe)Fe=We,Fd=Se,he=hf,fe=!1,hf&&(Kc.lineStart(),Kc.point(We,Se));else if(hf&&Dd)Kc.point(We,Se);else{var Bf=[se=Math.max(-1E9,Math.min(1E9,se)),td=Math.max(-1E9,Math.min(1E9,td))],Cf=[We=Math.max(-1E9,Math.min(1E9,We)),Se=Math.max(-1E9,Math.min(1E9,Se))];U(Bf,Cf,mb,Gb,Pb,Vb)?(Dd||(Kc.lineStart(),Kc.point(Bf[0],Bf[1])),Kc.point(Cf[0],Cf[1]),hf||Kc.lineEnd(),qe=!1):hf&&(Kc.lineStart(),Kc.point(We,Se),qe=!1)}se=We;td=Se;Dd=hf}var Kc=Ib,
Bc=Z(),wc,ld,wd,Fe,Fd,he,se,td,Dd,fe,qe,Ad={point:Nb,lineStart:function(){Ad.point=kc;ld&&ld.push(wd=[]);fe=!0;Dd=!1;se=td=NaN},lineEnd:function(){wc&&(kc(Fe,Fd),he&&Dd&&Bc.rejoin(),wc.push(Bc.result()));Ad.point=Nb;Dd&&Kc.lineEnd()},polygonStart:function(){Kc=Bc;wc=[];ld=[];qe=!0},polygonEnd:function(){for(var We,Se=We=0,hf=ld.length;Se<hf;++Se){var Bf=ld[Se],Cf=1,Vg=Bf.length,Yd=Bf[0],Ie=Yd[0];for(Yd=Yd[1];Cf<Vg;++Cf){var qg=Ie;var ug=Yd;Yd=Bf[Cf];Ie=Yd[0];Yd=Yd[1];ug<=Vb?Yd>Vb&&(Ie-qg)*(Vb-ug)>
(Yd-ug)*(mb-qg)&&++We:Yd<=Vb&&(Ie-qg)*(Vb-ug)<(Yd-ug)*(mb-qg)&&--We}}Se=qe&&We;hf=(wc=Array.from(p(wc))).length;if(Se||hf)Ib.polygonStart(),Se&&(Ib.lineStart(),ma(null,null,1,Ib),Ib.lineEnd()),hf&&aa(wc,ib,We,ma,Ib),Ib.polygonEnd();Kc=Ib;wc=ld=wd=null}};return Ad}}function da(){ue.point=la}function la(mb,Gb){ue.point=wa;Nd=ee=mb;Pd=Ce=Gb}function wa(mb,Gb){Ed.add(Ce*mb-ee*Gb);ee=mb;Ce=Gb}function Ua(){wa(Nd,Pd)}function hb(mb,Gb){Vc+=mb;Bd+=Gb;++Hd}function La(){ke.point=pa}function pa(mb,Gb){ke.point=
Da;hb(Sc=mb,ce=Gb)}function Da(mb,Gb){var Pb=mb-Sc,Vb=Gb-ce;Pb=dc(Pb*Pb+Vb*Vb);me+=Pb*(Sc+mb)/2;$e+=Pb*(ce+Gb)/2;Qf+=Pb;hb(Sc=mb,ce=Gb)}function Ma(){ke.point=hb}function ua(){ke.point=qa}function Aa(){Ha(Bb,Zb)}function qa(mb,Gb){ke.point=Ha;hb(Bb=Sc=mb,Zb=ce=Gb)}function Ha(mb,Gb){var Pb=mb-Sc,Vb=Gb-ce;Pb=dc(Pb*Pb+Vb*Vb);me+=Pb*(Sc+mb)/2;$e+=Pb*(ce+Gb)/2;Qf+=Pb;Pb=ce*mb-Sc*Gb;Af+=Pb*(Sc+mb);If+=Pb*(ce+Gb);Ne+=3*Pb;hb(Sc=mb,ce=Gb)}function Va(mb){this._context=mb}function eb(mb,Gb){Ia.point=ta;Qe=
ra=mb;cf=jb=Gb}function ta(mb,Gb){ra-=mb;jb-=Gb;Sd.add(dc(ra*ra+jb*jb));ra=mb;jb=Gb}function Qa(){this._string=[]}function oa(mb){return"m0,"+mb+"a"+mb+","+mb+" 0 1,1 0,"+-2*mb+"a"+mb+","+mb+" 0 1,1 0,"+2*mb+"z"}function Y(mb,Gb){function Pb(ib){ib&&("function"===typeof Vb&&Ka.pointRadius(+Vb.apply(this,arguments)),e(ib,ma(Ka)));return Ka.result()}var Vb=4.5,ma,Ka;Pb.area=function(ib){e(ib,ma(Df));return Df.result()};Pb.measure=function(ib){e(ib,ma(Xb));return Xb.result()};Pb.bounds=function(ib){e(ib,
ma(qc));return qc.result()};Pb.centroid=function(ib){e(ib,ma(Rd));return Rd.result()};Pb.projection=function(ib){return arguments.length?(ma=null==ib?(mb=null,bd):(mb=ib).stream,Pb):mb};Pb.context=function(ib){if(!arguments.length)return Gb;Ka=null==ib?(Gb=null,new Qa):new Va(Gb=ib);"function"!==typeof Vb&&Ka.pointRadius(Vb);return Pb};Pb.pointRadius=function(ib){if(!arguments.length)return Vb;Vb="function"===typeof ib?ib:(Ka.pointRadius(+ib),+ib);return Pb};return Pb.projection(mb).context(Gb)}function ja(mb){return function(Gb){var Pb=
new Ga,Vb;for(Vb in mb)Pb[Vb]=mb[Vb];Pb.stream=Gb;return Pb}}function Ga(){}function Wa(mb,Gb,Pb){var Vb=mb.clipExtent&&mb.clipExtent();mb.scale(150).translate([0,0]);null!=Vb&&mb.clipExtent(null);e(Pb,mb.stream(qc));Gb(qc.result());null!=Vb&&mb.clipExtent(Vb);return mb}function cb(mb,Gb,Pb){return Wa(mb,function(Vb){var ma=Gb[1][0]-Gb[0][0],Ka=Gb[1][1]-Gb[0][1],ib=Math.min(ma/(Vb[1][0]-Vb[0][0]),Ka/(Vb[1][1]-Vb[0][1]));ma=+Gb[0][0]+(ma-ib*(Vb[1][0]+Vb[0][0]))/2;Vb=+Gb[0][1]+(Ka-ib*(Vb[1][1]+Vb[0][1]))/
2;mb.scale(150*ib).translate([ma,Vb])},Pb)}function nb(mb,Gb,Pb){return Wa(mb,function(Vb){var ma=+Gb,Ka=ma/(Vb[1][0]-Vb[0][0]);ma=(ma-Ka*(Vb[1][0]+Vb[0][0]))/2;Vb=-Ka*Vb[0][1];mb.scale(150*Ka).translate([ma,Vb])},Pb)}function pb(mb,Gb,Pb){return Wa(mb,function(Vb){var ma=+Gb,Ka=ma/(Vb[1][1]-Vb[0][1]),ib=-Ka*Vb[0][0];Vb=(ma-Ka*(Vb[1][1]+Vb[0][1]))/2;mb.scale(150*Ka).translate([ib,Vb])},Pb)}function Fb(mb){return ja({point:function(Gb,Pb){Gb=mb(Gb,Pb);this.stream.point(Gb[0],Gb[1])}})}function nc(mb,
Gb){function Pb(Vb,ma,Ka,ib,Eb,Ib,Nb,kc,Kc,Bc,wc,ld,wd,Fe){var Fd=Nb-Vb,he=kc-ma,se=Fd*Fd+he*he;if(se>4*Gb&&wd--){var td=ib+Bc,Dd=Eb+wc,fe=Ib+ld,qe=dc(td*td+Dd*Dd+fe*fe),Ad=v(fe/=qe),We=1E-6>qd(qd(fe)-1)||1E-6>qd(Ka-Kc)?(Ka+Kc)/2:Ye(Dd,td),Se=mb(We,Ad);Ad=Se[0];Se=Se[1];var hf=Ad-Vb,Bf=Se-ma,Cf=he*hf-Fd*Bf;if(Cf*Cf/se>Gb||.3<qd((Fd*hf+he*Bf)/se-.5)||ib*Bc+Eb*wc+Ib*ld<ha)Pb(Vb,ma,Ka,ib,Eb,Ib,Ad,Se,We,td/=qe,Dd/=qe,fe,wd,Fe),Fe.point(Ad,Se),Pb(Ad,Se,We,td,Dd,fe,Nb,kc,Kc,Bc,wc,ld,wd,Fe)}}return function(Vb){function ma(Ad,
We){Ad=mb(Ad,We);Vb.point(Ad[0],Ad[1])}function Ka(){he=NaN;qe.point=ib;Vb.lineStart()}function ib(Ad,We){var Se=a([Ad,We]);We=mb(Ad,We);Pb(he,se,Fd,td,Dd,fe,he=We[0],se=We[1],Fd=Ad,td=Se[0],Dd=Se[1],fe=Se[2],16,Vb);Vb.point(he,se)}function Eb(){qe.point=ma;Vb.lineEnd()}function Ib(){Ka();qe.point=Nb;qe.lineEnd=kc}function Nb(Ad,We){ib(Kc=Ad,We);Bc=he;wc=se;ld=td;wd=Dd;Fe=fe;qe.point=ib}function kc(){Pb(he,se,Fd,td,Dd,fe,Bc,wc,Kc,ld,wd,Fe,16,Vb);qe.lineEnd=Eb;Eb()}var Kc,Bc,wc,ld,wd,Fe,Fd,he,se,td,
Dd,fe,qe={point:ma,lineStart:Ka,lineEnd:Eb,polygonStart:function(){Vb.polygonStart();qe.lineStart=Ib},polygonEnd:function(){Vb.polygonEnd();qe.lineStart=Ka}};return qe}}function Lc(mb){return ja({point:function(Gb,Pb){Gb=mb(Gb,Pb);return this.stream.point(Gb[0],Gb[1])}})}function Ac(mb,Gb,Pb,Vb,ma){function Ka(ib,Eb){ib*=Vb;Eb*=ma;return[Gb+mb*ib,Pb-mb*Eb]}Ka.invert=function(ib,Eb){return[(ib-Gb)/mb*Vb,(Pb-Eb)/mb*ma]};return Ka}function yc(mb,Gb,Pb,Vb,ma,Ka){function ib(ld,wd){ld*=Vb;wd*=ma;return[Ib*
ld-Nb*wd+Gb,Pb-Nb*ld-Ib*wd]}if(!Ka)return Ac(mb,Gb,Pb,Vb,ma);var Eb=pe(Ka);Ka=tb(Ka);var Ib=Eb*mb,Nb=Ka*mb,kc=Eb/mb,Kc=Ka/mb,Bc=(Ka*Pb-Eb*Gb)/mb,wc=(Ka*Gb+Eb*Pb)/mb;ib.invert=function(ld,wd){return[Vb*(kc*ld-Kc*wd+Bc),ma*(wc-Kc*ld-kc*wd)]};return ib}function tc(mb){return hd(function(){return mb})()}function hd(mb){function Gb(Yd){return Bf(Yd[0]*je,Yd[1]*je)}function Pb(Yd){return(Yd=Bf.invert(Yd[0],Yd[1]))&&[Yd[0]*de,Yd[1]*de]}function Vb(){var Yd=yc(ib,0,0,Fe,Fd,wd).apply(null,Ka(Nb,kc));Yd=yc(ib,
Eb-Yd[0],Ib-Yd[1],Fe,Fd,wd);ld=A(Kc,Bc,wc);hf=C(Ka,Yd);Bf=C(ld,hf);Yd=hf;Se=+We?nc(Yd,We):Fb(Yd);return ma()}function ma(){Cf=Vg=null;return Gb}var Ka,ib=150,Eb=480,Ib=250,Nb=0,kc=0,Kc=0,Bc=0,wc=0,ld,wd=0,Fe=1,Fd=1,he=null,se=jc,td=null,Dd,fe,qe,Ad=bd,We=.5,Se,hf,Bf,Cf,Vg;Gb.stream=function(Yd){return Cf&&Vg===Yd?Cf:Cf=Oa(Lc(ld)(se(Se(Ad(Vg=Yd)))))};Gb.preclip=function(Yd){return arguments.length?(se=Yd,he=void 0,ma()):se};Gb.postclip=function(Yd){return arguments.length?(Ad=Yd,td=Dd=fe=qe=null,ma()):
Ad};Gb.clipAngle=function(Yd){return arguments.length?(se=+Yd?K(he=Yd*je):(he=null,jc),ma()):he*de};Gb.clipExtent=function(Yd){return arguments.length?(Ad=null==Yd?(td=Dd=fe=qe=null,bd):ka(td=+Yd[0][0],Dd=+Yd[0][1],fe=+Yd[1][0],qe=+Yd[1][1]),ma()):null==td?null:[[td,Dd],[fe,qe]]};Gb.scale=function(Yd){return arguments.length?(ib=+Yd,Vb()):ib};Gb.translate=function(Yd){return arguments.length?(Eb=+Yd[0],Ib=+Yd[1],Vb()):[Eb,Ib]};Gb.center=function(Yd){return arguments.length?(Nb=Yd[0]%360*je,kc=Yd[1]%
360*je,Vb()):[Nb*de,kc*de]};Gb.rotate=function(Yd){return arguments.length?(Kc=Yd[0]%360*je,Bc=Yd[1]%360*je,wc=2<Yd.length?Yd[2]%360*je:0,Vb()):[Kc*de,Bc*de,wc*de]};Gb.angle=function(Yd){return arguments.length?(wd=Yd%360*je,Vb()):wd*de};Gb.reflectX=function(Yd){return arguments.length?(Fe=Yd?-1:1,Vb()):0>Fe};Gb.reflectY=function(Yd){return arguments.length?(Fd=Yd?-1:1,Vb()):0>Fd};Gb.precision=function(Yd){if(arguments.length){var Ie=hf;var qg=We=Yd*Yd;Ie=(Se=+qg?nc(Ie,qg):Fb(Ie),ma())}else Ie=dc(We);
return Ie};Gb.fitExtent=function(Yd,Ie){return cb(Gb,Yd,Ie)};Gb.fitSize=function(Yd,Ie){return cb(Gb,[[0,0],Yd],Ie)};Gb.fitWidth=function(Yd,Ie){return nb(Gb,Yd,Ie)};Gb.fitHeight=function(Yd,Ie){return pb(Gb,Yd,Ie)};return function(){Ka=mb.apply(this,arguments);Gb.invert=Ka.invert&&Pb;return Vb()}}function Mb(mb){var Gb=0,Pb=sd/3,Vb=hd(mb);mb=Vb(Gb,Pb);mb.parallels=function(ma){return arguments.length?Vb(Gb=ma[0]*je,Pb=ma[1]*je):[Gb*de,Pb*de]};return mb}function Ab(mb){function Gb(Vb,ma){return[Vb*
Pb,tb(ma)/Pb]}var Pb=pe(mb);Gb.invert=function(Vb,ma){return[Vb/Pb,v(ma*Pb)]};return Gb}function ec(mb,Gb){function Pb(Eb,Ib){Ib=dc(Ka-2*ma*tb(Ib))/ma;return[Ib*tb(Eb*=ma),ib-Ib*pe(Eb)]}var Vb=tb(mb),ma=(Vb+tb(Gb))/2;if(1E-6>qd(ma))return Ab(mb);var Ka=1+Vb*(2*ma-Vb),ib=dc(Ka)/ma;Pb.invert=function(Eb,Ib){Ib=ib-Ib;var Nb=Ye(Eb,qd(Ib))*Kb(Ib);0>Ib*ma&&(Nb-=sd*Kb(Eb)*Kb(Ib));return[Nb/ma,v((Ka-(Eb*Eb+Ib*Ib)*ma*ma)/(2*ma))]};return Pb}function ac(){return Mb(ec).scale(155.424).center([0,33.6442])}function lc(){return ac().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ic(mb){var Gb=mb.length;return{point:function(Pb,Vb){for(var ma=-1;++ma<Gb;)mb[ma].point(Pb,Vb)},sphere:function(){for(var Pb=-1;++Pb<Gb;)mb[Pb].sphere()},lineStart:function(){for(var Pb=-1;++Pb<Gb;)mb[Pb].lineStart()},lineEnd:function(){for(var Pb=-1;++Pb<Gb;)mb[Pb].lineEnd()},polygonStart:function(){for(var Pb=-1;++Pb<Gb;)mb[Pb].polygonStart()},polygonEnd:function(){for(var Pb=-1;++Pb<Gb;)mb[Pb].polygonEnd()}}}function Ec(mb){return function(Gb,
Pb){var Vb=pe(Gb),ma=pe(Pb);Vb=mb(Vb*ma);return Infinity===Vb?[2,0]:[Vb*ma*tb(Gb),Vb*tb(Pb)]}}function Rc(mb){return function(Gb,Pb){var Vb=dc(Gb*Gb+Pb*Pb),ma=mb(Vb),Ka=tb(ma);ma=pe(ma);return[Ye(Gb*Ka,Vb*ma),v(Vb&&Pb*Ka/Vb)]}}function id(mb,Gb){return[mb,Ca(mc((Kd+Gb)/2))]}function Td(mb){function Gb(){var Kc=sd*ma(),Bc=Pb(M(Pb.rotate()).invert([0,0]));return ib(null==Eb?[[Bc[0]-Kc,Bc[1]-Kc],[Bc[0]+Kc,Bc[1]+Kc]]:mb===id?[[Math.max(Bc[0]-Kc,Eb),Ib],[Math.min(Bc[0]+Kc,Nb),kc]]:[[Eb,Math.max(Bc[1]-
Kc,Ib)],[Nb,Math.min(Bc[1]+Kc,kc)]])}var Pb=tc(mb),Vb=Pb.center,ma=Pb.scale,Ka=Pb.translate,ib=Pb.clipExtent,Eb=null,Ib,Nb,kc;Pb.scale=function(Kc){return arguments.length?(ma(Kc),Gb()):ma()};Pb.translate=function(Kc){return arguments.length?(Ka(Kc),Gb()):Ka()};Pb.center=function(Kc){return arguments.length?(Vb(Kc),Gb()):Vb()};Pb.clipExtent=function(Kc){return arguments.length?(null==Kc?Eb=Ib=Nb=kc=null:(Eb=+Kc[0][0],Ib=+Kc[0][1],Nb=+Kc[1][0],kc=+Kc[1][1]),Gb()):null==Eb?null:[[Eb,Ib],[Nb,kc]]};return Gb()}
function Ea(mb,Gb){function Pb(ib,Eb){0<Ka?Eb<-Kd+1E-6&&(Eb=-Kd+1E-6):Eb>Kd-1E-6&&(Eb=Kd-1E-6);Eb=Ka/Ya(mc((Kd+Eb)/2),ma);return[Eb*tb(ma*ib),Ka-Eb*pe(ma*ib)]}var Vb=pe(mb),ma=mb===Gb?tb(mb):Ca(Vb/pe(Gb))/Ca(mc((Kd+Gb)/2)/mc((Kd+mb)/2)),Ka=Vb*Ya(mc((Kd+mb)/2),ma)/ma;if(!ma)return id;Pb.invert=function(ib,Eb){Eb=Ka-Eb;var Ib=Kb(ma)*dc(ib*ib+Eb*Eb),Nb=Ye(ib,qd(Eb))*Kb(Eb);0>Eb*ma&&(Nb-=sd*Kb(ib)*Kb(Eb));return[Nb/ma,2*bf(Ya(Ka/Ib,1/ma))-Kd]};return Pb}function za(mb,Gb){return[mb,Gb]}function Fa(mb,
Gb){function Pb(ib,Eb){Eb=Ka-Eb;ib*=ma;return[Eb*tb(ib),Ka-Eb*pe(ib)]}var Vb=pe(mb),ma=mb===Gb?tb(mb):(Vb-pe(Gb))/(Gb-mb),Ka=Vb/ma+mb;if(1E-6>qd(ma))return za;Pb.invert=function(ib,Eb){Eb=Ka-Eb;var Ib=Ye(ib,qd(Eb))*Kb(Eb);0>Eb*ma&&(Ib-=sd*Kb(ib)*Kb(Eb));return[Ib/ma,Ka-Kb(ma)*dc(ib*ib+Eb*Eb)]};return Pb}function bb(mb,Gb){Gb=v(Cb*tb(Gb));var Pb=Gb*Gb,Vb=Pb*Pb*Pb;return[mb*pe(Gb)/(Cb*(1.340264+3*-.081106*Pb+Vb*(7*8.93E-4+.034164*Pb))),Gb*(1.340264+-.081106*Pb+Vb*(8.93E-4+.003796*Pb))]}function lb(mb,
Gb){var Pb=pe(Gb),Vb=pe(mb)*Pb;return[Pb*tb(mb)/Vb,tb(Gb)/Vb]}function zb(mb,Gb){var Pb=Gb*Gb,Vb=Pb*Pb;return[mb*(.8707-.131979*Pb+Vb*(-.013791+Vb*(.003971*Pb-.001529*Vb))),Gb*(1.007226+Pb*(.015085+Vb*(-.044475+.028874*Pb-.005916*Vb)))]}function Tb(mb,Gb){return[pe(Gb)*tb(mb),tb(Gb)]}function Ub(mb,Gb){var Pb=pe(Gb),Vb=1+pe(mb)*Pb;return[Pb*tb(mb)/Vb,tb(Gb)/Vb]}function $b(mb,Gb){return[Ca(mc((Kd+Gb)/2)),-mb]}function Dc(mb){return 1<mb?Cc:-1>mb?-Cc:Math.asin(mb)}function dd(mb,Gb){return function Vb(){const ma=
Gb();ma.type=mb;ma.path=Y().projection(ma);ma.copy=ma.copy||function(){const Ka=Vb();Mc.forEach(ib=>{if(ma[ib])Ka[ib](ma[ib]())});Ka.path.pointRadius(ma.path.pointRadius());return Ka};return ma}}function fd(mb,Gb){if(!mb||"string"!==typeof mb)throw Error("Projection type must be a name string.");mb=mb.toLowerCase();return 1<arguments.length?(Yc[mb]=dd(mb,Gb),this):Yc[mb]||null}class od{constructor(){this._partials=new Float64Array(32);this._n=0}add(mb){const Gb=this._partials;let Pb=0;for(let Vb=
0;Vb<this._n&&32>Vb;Vb++){const ma=Gb[Vb],Ka=mb+ma;(mb=Math.abs(mb)<Math.abs(ma)?mb-(Ka-ma):ma-(Ka-mb))&&(Gb[Pb++]=mb);mb=Ka}Gb[Pb]=mb;this._n=Pb+1;return this}valueOf(){const mb=this._partials;let Gb=this._n;let Pb,Vb=0;if(0<Gb){for(Vb=mb[--Gb];0<Gb;){var ma=Vb;Pb=mb[--Gb];Vb=ma+Pb;if(ma=Pb-(Vb-ma))break}0<Gb&&(0>ma&&0>mb[Gb-1]||0<ma&&0<mb[Gb-1])&&(Pb=2*ma,ma=Vb+Pb,Pb==ma-Vb&&(Vb=ma))}return Vb}}var sd=Math.PI,Kd=sd/2,Od=sd/4,ae=2*sd,de=180/sd,je=sd/180,qd=Math.abs,bf=Math.atan,Ye=Math.atan2,pe=
Math.cos,ve=Math.exp,Ca=Math.log,Ya=Math.pow,tb=Math.sin,Kb=Math.sign||function(mb){return 0<mb?1:0>mb?-1:0},dc=Math.sqrt,mc=Math.tan,Jc={Feature:function(mb,Gb){h(mb.geometry,Gb)},FeatureCollection:function(mb,Gb){mb=mb.features;for(var Pb=-1,Vb=mb.length;++Pb<Vb;)h(mb[Pb].geometry,Gb)}},Gc={Sphere:function(mb,Gb){Gb.sphere()},Point:function(mb,Gb){mb=mb.coordinates;Gb.point(mb[0],mb[1],mb[2])},MultiPoint:function(mb,Gb){for(var Pb=mb.coordinates,Vb=-1,ma=Pb.length;++Vb<ma;)mb=Pb[Vb],Gb.point(mb[0],
mb[1],mb[2])},LineString:function(mb,Gb){k(mb.coordinates,Gb,0)},MultiLineString:function(mb,Gb){mb=mb.coordinates;for(var Pb=-1,Vb=mb.length;++Pb<Vb;)k(mb[Pb],Gb,0)},Polygon:function(mb,Gb){f(mb.coordinates,Gb)},MultiPolygon:function(mb,Gb){mb=mb.coordinates;for(var Pb=-1,Vb=mb.length;++Pb<Vb;)f(mb[Pb],Gb)},GeometryCollection:function(mb,Gb){mb=mb.geometries;for(var Pb=-1,Vb=mb.length;++Pb<Vb;)h(mb[Pb],Gb)}};J.invert=J;var jc=P(function(){return!0},function(mb){var Gb=NaN,Pb=NaN,Vb=NaN,ma;return{lineStart:function(){mb.lineStart();
ma=1},point:function(Ka,ib){var Eb=0<Ka?sd:-sd,Ib=qd(Ka-Gb);if(1E-6>qd(Ib-sd))mb.point(Gb,Pb=0<(Pb+ib)/2?Kd:-Kd),mb.point(Vb,Pb),mb.lineEnd(),mb.lineStart(),mb.point(Eb,Pb),mb.point(Ka,Pb),ma=0;else if(Vb!==Eb&&Ib>=sd){1E-6>qd(Gb-Vb)&&(Gb-=1E-6*Vb);1E-6>qd(Ka-Eb)&&(Ka-=1E-6*Eb);Ib=Gb;var Nb=Pb,kc=Ka,Kc,Bc,wc=tb(Ib-kc);Pb=1E-6<qd(wc)?bf((tb(Nb)*(Bc=pe(ib))*tb(kc)-tb(ib)*(Kc=pe(Nb))*tb(Ib))/(Kc*Bc*wc)):(Nb+ib)/2;mb.point(Vb,Pb);mb.lineEnd();mb.lineStart();mb.point(Eb,Pb);ma=0}mb.point(Gb=Ka,Pb=ib);
Vb=Eb},lineEnd:function(){mb.lineEnd();Gb=Pb=NaN},clean:function(){return 2-ma}}},function(mb,Gb,Pb,Vb){null==mb?(Pb*=Kd,Vb.point(-sd,Pb),Vb.point(0,Pb),Vb.point(sd,Pb),Vb.point(sd,0),Vb.point(sd,-Pb),Vb.point(0,-Pb),Vb.point(-sd,-Pb),Vb.point(-sd,0),Vb.point(-sd,Pb)):1E-6<qd(mb[0]-Gb[0])?(mb=mb[0]<Gb[0]?sd:-sd,Pb=Pb*mb/2,Vb.point(-mb,Pb),Vb.point(0,Pb),Vb.point(mb,Pb)):Vb.point(Gb[0],Gb[1])},[-sd,-Kd]),bd=mb=>mb,md=new od,Ed=new od,Nd,Pd,ee,Ce,ue={point:r,lineStart:r,lineEnd:r,polygonStart:function(){ue.lineStart=
da;ue.lineEnd=Ua},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=r;md.add(qd(Ed));Ed=new od},result:function(){var mb=md/2;md=new od;return mb}},Df=ue,Be=Infinity,Me=Be,kf=-Be,Sb=kf,qc={point:function(mb,Gb){mb<Be&&(Be=mb);mb>kf&&(kf=mb);Gb<Me&&(Me=Gb);Gb>Sb&&(Sb=Gb)},lineStart:r,lineEnd:r,polygonStart:r,polygonEnd:r,result:function(){var mb=[[Be,Me],[kf,Sb]];kf=Sb=-(Me=Be=Infinity);return mb}},Vc=0,Bd=0,Hd=0,me=0,$e=0,Qf=0,Af=0,If=0,Ne=0,Bb,Zb,Sc,ce,ke={point:hb,lineStart:La,lineEnd:Ma,polygonStart:function(){ke.lineStart=
ua;ke.lineEnd=Aa},polygonEnd:function(){ke.point=hb;ke.lineStart=La;ke.lineEnd=Ma},result:function(){var mb=Ne?[Af/Ne,If/Ne]:Qf?[me/Qf,$e/Qf]:Hd?[Vc/Hd,Bd/Hd]:[NaN,NaN];Vc=Bd=Hd=me=$e=Qf=Af=If=Ne=0;return mb}},Rd=ke;Va.prototype={_radius:4.5,pointRadius:function(mb){return this._radius=mb,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(mb,
Gb){switch(this._point){case 0:this._context.moveTo(mb,Gb);this._point=1;break;case 1:this._context.lineTo(mb,Gb);break;default:this._context.moveTo(mb+this._radius,Gb),this._context.arc(mb,Gb,this._radius,0,ae)}},result:r};var Sd=new od,Qd,Qe,cf,ra,jb,Ia={point:r,lineStart:function(){Ia.point=eb},lineEnd:function(){Qd&&ta(Qe,cf);Ia.point=r},polygonStart:function(){Qd=!0},polygonEnd:function(){Qd=null},result:function(){var mb=+Sd;Sd=new od;return mb}},Xb=Ia;Qa.prototype={_radius:4.5,_circle:oa(4.5),
pointRadius:function(mb){(mb=+mb)!==this._radius&&(this._radius=mb,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(mb,Gb){switch(this._point){case 0:this._string.push("M",mb,",",Gb);this._point=1;break;case 1:this._string.push("L",mb,",",Gb);break;default:null==this._circle&&(this._circle=oa(this._radius)),this._string.push("M",
mb,",",Gb,this._circle)}},result:function(){if(this._string.length){var mb=this._string.join("");this._string=[];return mb}return null}};Ga.prototype={constructor:Ga,point:function(mb,Gb){this.stream.point(mb,Gb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ha=pe(30*je),Oa=ja({point:function(mb,Gb){this.stream.point(mb*
je,Gb*je)}}),$a=Ec(function(mb){return dc(2/(1+mb))});$a.invert=Rc(function(mb){return 2*v(mb/2)});var ub=Ec(function(mb){return(mb=n(mb))&&mb/tb(mb)});ub.invert=Rc(function(mb){return mb});id.invert=function(mb,Gb){return[mb,2*bf(ve(Gb))-Kd]};za.invert=za;var Cb=dc(3)/2;bb.invert=function(mb,Gb){for(var Pb=Gb,Vb=Pb*Pb,ma=Vb*Vb*Vb,Ka=0,ib;12>Ka&&!(ib=Pb*(1.340264+-.081106*Vb+ma*(8.93E-4+.003796*Vb))-Gb,Vb=1.340264+3*-.081106*Vb+ma*(7*8.93E-4+.034164*Vb),Pb-=ib/=Vb,Vb=Pb*Pb,ma=Vb*Vb*Vb,1E-12>qd(ib));++Ka);
return[Cb*mb*(1.340264+3*-.081106*Vb+ma*(7*8.93E-4+.034164*Vb))/pe(Pb),v(tb(Pb)/Cb)]};lb.invert=Rc(bf);zb.invert=function(mb,Gb){var Pb=Gb,Vb=25;do{var ma=Pb*Pb;var Ka=ma*ma;Pb-=Ka=(Pb*(1.007226+ma*(.015085+Ka*(-.044475+.028874*ma-.005916*Ka)))-Gb)/(1.007226+ma*(.045255+Ka*(-.311325+.259866*ma-.005916*11*Ka)))}while(1E-6<qd(Ka)&&0<--Vb);return[mb/(.8707+(ma=Pb*Pb)*(-.131979+ma*(-.013791+ma*ma*ma*(.003971-.001529*ma)))),Pb]};Tb.invert=Rc(v);Ub.invert=Rc(function(mb){return 2*bf(mb)});$b.invert=function(mb,
Gb){return[-Gb,2*bf(ve(mb))-Kd]};var Wb=Math.abs,sc=Math.cos,Uc=Math.sin,Xc=Math.PI,Cc=Xc/2,zc=Math.sqrt(2),oc=function(mb,Gb,Pb){function Vb(ma,Ka){var ib=Ka,Eb=Pb*Uc(ib),Ib=30,Nb;do ib-=Nb=(ib+Uc(ib)-Eb)/(1+sc(ib));while(1E-6<Wb(Nb)&&0<--Ib);return[mb*ma*sc(Ka=ib/2),Gb*Uc(Ka)]}Vb.invert=function(ma,Ka){return Ka=Dc(Ka/Gb),[ma/(mb*sc(Ka)),Dc((2*Ka+Uc(2*Ka))/Pb)]};return Vb}(zc/Cc,zc,Xc);const Fc=Y(),Mc="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),
Yc={albers:lc,albersusa:function(){function mb(Bc){var wc=Bc[0];Bc=Bc[1];return kc=null,(Ka.point(wc,Bc),kc)||(Eb.point(wc,Bc),kc)||(Nb.point(wc,Bc),kc)}function Gb(){Pb=Vb=null;return mb}var Pb,Vb,ma=lc(),Ka,ib=ac().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Eb,Ib=ac().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Nb,kc,Kc={point:function(Bc,wc){kc=[Bc,wc]}};mb.invert=function(Bc){var wc=ma.scale(),ld=ma.translate(),wd=(Bc[0]-ld[0])/wc;wc=(Bc[1]-ld[1])/wc;return(.12<=wc&&.234>wc&&
-.425<=wd&&-.214>wd?ib:.166<=wc&&.234>wc&&-.214<=wd&&-.115>wd?Ib:ma).invert(Bc)};mb.stream=function(Bc){return Pb&&Vb===Bc?Pb:Pb=Ic([ma.stream(Vb=Bc),ib.stream(Bc),Ib.stream(Bc)])};mb.precision=function(Bc){if(!arguments.length)return ma.precision();ma.precision(Bc);ib.precision(Bc);Ib.precision(Bc);return Gb()};mb.scale=function(Bc){if(!arguments.length)return ma.scale();ma.scale(Bc);ib.scale(.35*Bc);Ib.scale(Bc);return mb.translate(ma.translate())};mb.translate=function(Bc){if(!arguments.length)return ma.translate();
var wc=ma.scale(),ld=+Bc[0],wd=+Bc[1];Ka=ma.translate(Bc).clipExtent([[ld-.455*wc,wd-.238*wc],[ld+.455*wc,wd+.238*wc]]).stream(Kc);Eb=ib.translate([ld-.307*wc,wd+.201*wc]).clipExtent([[ld-.425*wc+1E-6,wd+.12*wc+1E-6],[ld-.214*wc-1E-6,wd+.234*wc-1E-6]]).stream(Kc);Nb=Ib.translate([ld-.205*wc,wd+.212*wc]).clipExtent([[ld-.214*wc+1E-6,wd+.166*wc+1E-6],[ld-.115*wc-1E-6,wd+.234*wc-1E-6]]).stream(Kc);return Gb()};mb.fitExtent=function(Bc,wc){return cb(mb,Bc,wc)};mb.fitSize=function(Bc,wc){return cb(mb,
[[0,0],Bc],wc)};mb.fitWidth=function(Bc,wc){return nb(mb,Bc,wc)};mb.fitHeight=function(Bc,wc){return pb(mb,Bc,wc)};return mb.scale(1070)},azimuthalequalarea:function(){return tc($a).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return tc(ub).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Mb(Ea).scale(109.5).parallels([30,30])},conicequalarea:ac,conicequidistant:function(){return Mb(Fa).scale(131.154).center([0,13.9389])},equalEarth:function(){return tc(bb).scale(177.158)},
equirectangular:function(){return tc(za).scale(152.63)},gnomonic:function(){return tc(lb).scale(144.049).clipAngle(60)},identity:function(){function mb(){ld=Pb*Ka;wd=Pb*ib;he=se=null;return Gb}function Gb(td){var Dd=td[0]*ld;td=td[1]*wd;if(Eb){var fe=td*Ib-Dd*Nb;Dd=Dd*Ib+td*Nb;td=fe}return[Dd+Vb,td+ma]}var Pb=1,Vb=0,ma=0,Ka=1,ib=1,Eb=0,Ib,Nb,kc=null,Kc,Bc,wc,ld=1,wd=1,Fe=ja({point:function(td,Dd){td=Gb([td,Dd]);this.stream.point(td[0],td[1])}}),Fd=bd,he,se;Gb.invert=function(td){var Dd=td[0]-Vb;td=
td[1]-ma;if(Eb){var fe=td*Ib+Dd*Nb;Dd=Dd*Ib-td*Nb;td=fe}return[Dd/ld,td/wd]};Gb.stream=function(td){return he&&se===td?he:he=Fe(Fd(se=td))};Gb.postclip=function(td){return arguments.length?(Fd=td,kc=Kc=Bc=wc=null,mb()):Fd};Gb.clipExtent=function(td){return arguments.length?(Fd=null==td?(kc=Kc=Bc=wc=null,bd):ka(kc=+td[0][0],Kc=+td[0][1],Bc=+td[1][0],wc=+td[1][1]),mb()):null==kc?null:[[kc,Kc],[Bc,wc]]};Gb.scale=function(td){return arguments.length?(Pb=+td,mb()):Pb};Gb.translate=function(td){return arguments.length?
(Vb=+td[0],ma=+td[1],mb()):[Vb,ma]};Gb.angle=function(td){return arguments.length?(Eb=td%360*je,Nb=tb(Eb),Ib=pe(Eb),mb()):Eb*de};Gb.reflectX=function(td){return arguments.length?(Ka=td?-1:1,mb()):0>Ka};Gb.reflectY=function(td){return arguments.length?(ib=td?-1:1,mb()):0>ib};Gb.fitExtent=function(td,Dd){return cb(Gb,td,Dd)};Gb.fitSize=function(td,Dd){return cb(Gb,[[0,0],td],Dd)};Gb.fitWidth=function(td,Dd){return nb(Gb,td,Dd)};Gb.fitHeight=function(td,Dd){return pb(Gb,td,Dd)};return Gb},mercator:function(){return Td(id).scale(961/
ae)},mollweide:function(){return tc(oc).scale(169.529)},naturalEarth1:function(){return tc(zb).scale(175.295)},orthographic:function(){return tc(Tb).scale(249.5).clipAngle(90.000001)},stereographic:function(){return tc(Ub).scale(250).clipAngle(142)},transversemercator:function(){var mb=Td($b),Gb=mb.center,Pb=mb.rotate;mb.center=function(Vb){return arguments.length?Gb([-Vb[1],Vb[0]]):(Vb=Gb(),[Vb[1],-Vb[0]])};mb.rotate=function(Vb){return arguments.length?Pb([Vb[0],Vb[1],2<Vb.length?Vb[2]+90:90]):
(Vb=Pb(),[Vb[0],Vb[1],Vb[2]-90])};return Pb([0,0,90]).scale(159.155)}};for(const mb in Yc)fd(mb,Yc[mb]);y.getProjectionPath=function(mb){return mb&&mb.path||Fc};y.projection=fd;y.projectionProperties=Mc;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[32]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(14),F(24),F(31),F(26)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r,h){function k(Ea,za){let Fa;if(void 0===za)for(var bb of Ea)null!=bb&&
(Fa<bb||void 0===Fa&&bb>=bb)&&(Fa=bb);else{bb=-1;for(let lb of Ea)null!=(lb=za(lb,++bb,Ea))&&(Fa<lb||void 0===Fa&&lb>=lb)&&(Fa=lb)}return Fa}function f(Ea,za,Fa){Ea=+Ea;za=+za;Fa=2>(lb=arguments.length)?(za=Ea,Ea=0,1):3>lb?1:+Fa;for(var bb=-1,lb=Math.max(0,Math.ceil((za-Ea)/Fa))|0,zb=Array(lb);++bb<lb;)zb[bb]=Ea+bb*Fa;return zb}function e(Ea,za){let Fa=0;if(void 0===za)for(var bb of Ea){if(bb=+bb)Fa+=bb}else{bb=-1;for(let lb of Ea)if(lb=+za(lb,++bb,Ea))Fa+=lb}return Fa}function d(){}function a(){function Ea(Ub,
$b){return $b.map(Dc=>za(Ub,Dc))}function za(Ub,$b){var Dc=[],dd=[];Fa(Ub,$b,fd=>{Tb(fd,Ub,$b);for(var od=0,sd=fd.length,Kd=fd[sd-1][1]*fd[0][0]-fd[sd-1][0]*fd[0][1];++od<sd;)Kd+=fd[od-1][1]*fd[od][0]-fd[od-1][0]*fd[od][1];0<Kd?Dc.push([fd]):dd.push(fd)});dd.forEach(fd=>{for(var od=0,sd=Dc.length,Kd;od<sd;++od){a:{var Od=(Kd=Dc[od])[0];for(var ae=fd,de=-1,je=ae.length;++de<je;){b:{var qd=Od;for(var bf=ae[de],Ye=bf[0],pe=bf[1],ve=-1,Ca=0,Ya=qd.length,tb=Ya-1;Ca<Ya;tb=Ca++){var Kb=qd[Ca],dc=Kb[0],mc=
Kb[1],Jc=qd[tb];tb=Jc[0];var Gc=Jc[1],jc,bd=Kb;Kb=Jc;Jc=bf;if(jc=(Kb[0]-bd[0])*(Jc[1]-bd[1])===(Jc[0]-bd[0])*(Kb[1]-bd[1]))bd=bd[jc=+(bd[0]===Kb[0])],Jc=Jc[jc],Kb=Kb[jc],jc=bd<=Jc&&Jc<=Kb||Kb<=Jc&&Jc<=bd;if(jc){qd=0;break b}mc>pe!==Gc>pe&&Ye<(tb-dc)*(pe-mc)/(Gc-mc)+dc&&(ve=-ve)}qd=ve}if(qd){Od=qd;break a}}Od=0}if(-1!==Od){Kd.push(fd);break}}});return{type:"MultiPolygon",value:$b,coordinates:Dc}}function Fa(Ub,$b,Dc){function dd(qd){var bf=[qd[0][0]+Kd,qd[0][1]+sd];qd=[qd[1][0]+Kd,qd[1][1]+sd];var Ye=
2*bf[0]+bf[1]*(lb+1)*4,pe=2*qd[0]+qd[1]*(lb+1)*4,ve,Ca;(ve=od[Ye])?(Ca=fd[pe])?(delete od[ve.end],delete fd[Ca.start],ve===Ca?(ve.ring.push(qd),Dc(ve.ring)):fd[ve.start]=od[Ca.end]={start:ve.start,end:Ca.end,ring:ve.ring.concat(Ca.ring)}):(delete od[ve.end],ve.ring.push(qd),od[ve.end=pe]=ve):(ve=fd[pe])?(Ca=od[Ye])?(delete fd[ve.start],delete od[Ca.end],ve===Ca?(ve.ring.push(qd),Dc(ve.ring)):fd[Ca.start]=od[ve.end]={start:Ca.start,end:ve.end,ring:Ca.ring.concat(ve.ring)}):(delete fd[ve.start],ve.ring.unshift(bf),
fd[ve.start=Ye]=ve):fd[Ye]=od[pe]={start:Ye,end:pe,ring:[bf,qd]}}var fd=[],od=[],sd;var Kd=sd=-1;var Od=Ub[0]>=$b;for(yc[Od<<1].forEach(dd);++Kd<lb-1;){var ae=Od;Od=Ub[Kd+1]>=$b;yc[ae|Od<<1].forEach(dd)}for(yc[Od<<0].forEach(dd);++sd<zb-1;){Kd=-1;Od=Ub[sd*lb+lb]>=$b;var de=Ub[sd*lb]>=$b;for(yc[Od<<1|de<<2].forEach(dd);++Kd<lb-1;){ae=Od;Od=Ub[sd*lb+lb+Kd+1]>=$b;var je=de;de=Ub[sd*lb+Kd+1]>=$b;yc[ae|Od<<1|de<<2|je<<3].forEach(dd)}yc[Od|de<<3].forEach(dd)}Kd=-1;de=Ub[sd*lb]>=$b;for(yc[de<<2].forEach(dd);++Kd<
lb-1;)je=de,de=Ub[sd*lb+Kd+1]>=$b,yc[de<<2|je<<3].forEach(dd);yc[de<<3].forEach(dd)}function bb(Ub,$b,Dc){Ub.forEach(dd=>{var fd=dd[0],od=dd[1],sd=fd|0,Kd=od|0,Od=$b[Kd*lb+sd];if(0<fd&&fd<lb&&sd===fd){var ae=$b[Kd*lb+sd-1];dd[0]=fd+(Dc-ae)/(Od-ae)-.5}0<od&&od<zb&&Kd===od&&(ae=$b[(Kd-1)*lb+sd],dd[1]=od+(Dc-ae)/(Od-ae)-.5)})}var lb=1,zb=1,Tb=bb;Ea.contour=za;Ea.size=function(Ub){if(!arguments.length)return[lb,zb];var $b=Math.floor(Ub[0]),Dc=Math.floor(Ub[1]);0<=$b&&0<=Dc||n.error("invalid size");return lb=
$b,zb=Dc,Ea};Ea.smooth=function(Ub){return arguments.length?(Tb=Ub?bb:d,Ea):Tb===bb};return Ea}function c(Ea,za,Fa){return function(bb){var lb=n.extent(bb);bb=Fa?Math.min(lb[0],0):lb[0];lb=lb[1];var zb=lb-bb;if(za){var Tb=Math.abs(lb-bb)/Math.max(0,Ea);zb=Math.pow(10,Math.floor(Math.log(Tb)/Math.LN10));Tb/=zb;Tb>=nc?zb*=10:Tb>=Lc?zb*=5:Tb>=Ac&&(zb*=2);zb=lb<bb?-zb:zb}else zb/=Ea+1;return f(bb+zb,lb,zb)}}function b(Ea){p.Transform.call(this,null,Ea)}function m(Ea,za,Fa){const bb=c(Fa.levels||10,Fa.nice,
!1!==Fa.zero);return"shared"!==Fa.resolve?bb:bb(Ea.map(lb=>k(za(lb).values)))}function z(Ea,za,Fa,bb){var lb=bb.scale||za.scale;let zb=bb.translate||za.translate;n.isFunction(lb)&&(lb=lb(Fa,bb));n.isFunction(zb)&&(zb=zb(Fa,bb));if(1!==lb&&null!=lb||zb)Fa=(n.isNumber(lb)?lb:lb[0])||1,lb=(n.isNumber(lb)?lb:lb[1])||1,Ea.forEach(u(za,Fa,lb,zb&&zb[0]||0,zb&&zb[1]||0))}function u(Ea,za,Fa,bb,lb){function zb(fd){fd.forEach(Tb)}function Tb(fd){dd&&fd.reverse();fd.forEach(Ub)}function Ub(fd){fd[0]=(fd[0]-
$b)*za+bb;fd[1]=(fd[1]-Dc)*Fa+lb}const $b=Ea.x1||0,Dc=Ea.y1||0,dd=0>za*Fa;return function(fd){fd.coordinates.forEach(zb);return fd}}function C(Ea,za,Fa){Ea=0<=Ea?Ea:v.bandwidthNRD(za,Fa);return Math.round((Math.sqrt(4*Ea*Ea+1)-1)/2)}function J(Ea){return n.isFunction(Ea)?Ea:n.constant(+Ea)}function A(){function Ea($b,Dc){const dd=C(lb[0],$b,za)>>Ub,fd=C(lb[1],$b,Fa)>>Ub,od=dd?dd+2:0,sd=fd?fd+2:0,Kd=2*od+(zb>>Ub),Od=2*sd+(Tb>>Ub),ae=new Float32Array(Kd*Od),de=new Float32Array(Kd*Od);let je=ae;$b.forEach(qd=>
{const bf=od+(+za(qd)>>Ub),Ye=sd+(+Fa(qd)>>Ub);0<=bf&&bf<Kd&&0<=Ye&&Ye<Od&&(ae[bf+Ye*Kd]+=+bb(qd))});0<dd&&0<fd?(x(Kd,Od,ae,de,dd),q(Kd,Od,de,ae,fd),x(Kd,Od,ae,de,dd),q(Kd,Od,de,ae,fd),x(Kd,Od,ae,de,dd),q(Kd,Od,de,ae,fd)):0<dd?(x(Kd,Od,ae,de,dd),x(Kd,Od,de,ae,dd),x(Kd,Od,ae,de,dd),je=de):0<fd&&(q(Kd,Od,ae,de,fd),q(Kd,Od,de,ae,fd),q(Kd,Od,ae,de,fd),je=de);$b=Dc?Math.pow(2,-2*Ub):1/e(je);for(let qd=0,bf=Kd*Od;qd<bf;++qd)je[qd]*=$b;return{values:je,scale:1<<Ub,width:Kd,height:Od,x1:od,y1:sd,x2:od+(zb>>
Ub),y2:sd+(Tb>>Ub)}}var za=$b=>$b[0],Fa=$b=>$b[1],bb=n.one,lb=[-1,-1],zb=960,Tb=500,Ub=2;Ea.x=function($b){return arguments.length?(za=J($b),Ea):za};Ea.y=function($b){return arguments.length?(Fa=J($b),Ea):Fa};Ea.weight=function($b){return arguments.length?(bb=J($b),Ea):bb};Ea.size=function($b){if(!arguments.length)return[zb,Tb];var Dc=+$b[0],dd=+$b[1];0<=Dc&&0<=dd||n.error("invalid size");return zb=Dc,Tb=dd,Ea};Ea.cellSize=function($b){if(!arguments.length)return 1<<Ub;1<=($b=+$b)||n.error("invalid cell size");
Ub=Math.floor(Math.log($b)/Math.LN2);return Ea};Ea.bandwidth=function($b){if(!arguments.length)return lb;$b=n.array($b);1===$b.length&&($b=[+$b[0],+$b[0]]);2!==$b.length&&n.error("invalid bandwidth");return lb=$b,Ea};return Ea}function x(Ea,za,Fa,bb,lb){const zb=(lb<<1)+1;for(let Tb=0;Tb<za;++Tb)for(let Ub=0,$b=0;Ub<Ea+lb;++Ub)Ub<Ea&&($b+=Fa[Ub+Tb*Ea]),Ub>=lb&&(Ub>=zb&&($b-=Fa[Ub-zb+Tb*Ea]),bb[Ub-lb+Tb*Ea]=$b/Math.min(Ub+1,Ea-1+zb-Ub,zb))}function q(Ea,za,Fa,bb,lb){const zb=(lb<<1)+1;for(let Tb=0;Tb<
Ea;++Tb)for(let Ub=0,$b=0;Ub<za+lb;++Ub)Ub<za&&($b+=Fa[Tb+Ub*Ea]),Ub>=lb&&(Ub>=zb&&($b-=Fa[Tb+(Ub-zb)*Ea]),bb[Tb+(Ub-lb)*Ea]=$b/Math.min(Ub+1,za-1+zb-Ub,zb))}function H(Ea){p.Transform.call(this,null,Ea)}function M(Ea,za){tc.forEach(Fa=>null!=za[Fa]?Ea[Fa](za[Fa]):0);return Ea}function R(Ea,za){var Fa=[],bb=dd=>dd(Ub),lb;if(null==za)Fa.push(Ea);else{var zb={};var Tb=0;for(lb=Ea.length;Tb<lb;++Tb){var Ub=Ea[Tb];var $b=za.map(bb);var Dc=zb[$b];Dc||(zb[$b]=Dc=[],Dc.dims=$b,Fa.push(Dc));Dc.push(Ub)}}return Fa}
function Z(Ea){p.Transform.call(this,null,Ea)}function T(Ea){p.Transform.call(this,null,Ea)}function ba(Ea){p.Transform.call(this,null,Ea)}function aa(Ea,za){const Fa=Ea.pointRadius();Ea.context(null);null!=za&&Ea.pointRadius(za);return Fa}function W(Ea){p.Transform.call(this,null,Ea)}function X(Ea){p.Transform.call(this,null,Ea)}function P(Ea,za,Fa){const bb=null==Fa?lb=>Ea(za(lb)):lb=>{var zb=Ea.pointRadius();lb=Ea.pointRadius(Fa)(za(lb));Ea.pointRadius(zb);return lb};bb.context=lb=>{Ea.context(lb);
return bb};return bb}function w(Ea,za,Fa){var bb=f(Ea,za-1E-6,Fa).concat(za);return function(lb){return bb.map(function(zb){return[lb,zb]})}}function B(Ea,za,Fa){var bb=f(Ea,za-1E-6,Fa).concat(za);return function(lb){return bb.map(function(zb){return[zb,lb]})}}function K(){function Ea(){return{type:"MultiLineString",coordinates:za()}}function za(){return f(Mb(zb/od)*od,lb,od).map(ae).concat(f(Mb(Dc/sd)*sd,$b,sd).map(de)).concat(f(Mb(bb/dd)*dd,Fa,dd).filter(function(qd){return 1E-6<hd(qd%od)}).map(Kd)).concat(f(Mb(Ub/
fd)*fd,Tb,fd).filter(function(qd){return 1E-6<hd(qd%sd)}).map(Od))}var Fa,bb,lb,zb,Tb,Ub,$b,Dc,dd=10,fd=dd,od=90,sd=360,Kd,Od,ae,de,je=2.5;Ea.lines=function(){return za().map(function(qd){return{type:"LineString",coordinates:qd}})};Ea.outline=function(){return{type:"Polygon",coordinates:[ae(zb).concat(de($b).slice(1),ae(lb).reverse().slice(1),de(Dc).reverse().slice(1))]}};Ea.extent=function(qd){return arguments.length?Ea.extentMajor(qd).extentMinor(qd):Ea.extentMinor()};Ea.extentMajor=function(qd){if(!arguments.length)return[[zb,
Dc],[lb,$b]];zb=+qd[0][0];lb=+qd[1][0];Dc=+qd[0][1];$b=+qd[1][1];zb>lb&&(qd=zb,zb=lb,lb=qd);Dc>$b&&(qd=Dc,Dc=$b,$b=qd);return Ea.precision(je)};Ea.extentMinor=function(qd){if(!arguments.length)return[[bb,Ub],[Fa,Tb]];bb=+qd[0][0];Fa=+qd[1][0];Ub=+qd[0][1];Tb=+qd[1][1];bb>Fa&&(qd=bb,bb=Fa,Fa=qd);Ub>Tb&&(qd=Ub,Ub=Tb,Tb=qd);return Ea.precision(je)};Ea.step=function(qd){return arguments.length?Ea.stepMajor(qd).stepMinor(qd):Ea.stepMinor()};Ea.stepMajor=function(qd){if(!arguments.length)return[od,sd];
od=+qd[0];sd=+qd[1];return Ea};Ea.stepMinor=function(qd){if(!arguments.length)return[dd,fd];dd=+qd[0];fd=+qd[1];return Ea};Ea.precision=function(qd){if(!arguments.length)return je;je=+qd;Kd=w(Ub,Tb,90);Od=B(bb,Fa,je);ae=w(Dc,$b,90);de=B(zb,lb,je);return Ea};return Ea.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function U(Ea){p.Transform.call(this,[],Ea);this.generator=K()}function ka(Ea,za,Fa){Ea.prototype=za.prototype=Fa;Fa.constructor=Ea}function da(Ea,
za){Ea=Object.create(Ea.prototype);for(var Fa in za)Ea[Fa]=za[Fa];return Ea}function la(){}function wa(){return this.rgb().formatHex()}function Ua(){return this.rgb().formatRgb()}function hb(Ea){var za,Fa;Ea=(Ea+"").trim().toLowerCase();return(za=ec.exec(Ea))?(Fa=za[1].length,za=parseInt(za[1],16),6===Fa?La(za):3===Fa?new Ma(za>>8&15|za>>4&240,za>>4&15|za&240,(za&15)<<4|za&15,1):8===Fa?pa(za>>24&255,za>>16&255,za>>8&255,(za&255)/255):4===Fa?pa(za>>12&15|za>>8&240,za>>8&15|za>>4&240,za>>4&15|za&240,
((za&15)<<4|za&15)/255):null):(za=ac.exec(Ea))?new Ma(za[1],za[2],za[3],1):(za=lc.exec(Ea))?new Ma(255*za[1]/100,255*za[2]/100,255*za[3]/100,1):(za=Ic.exec(Ea))?pa(za[1],za[2],za[3],za[4]):(za=Ec.exec(Ea))?pa(255*za[1]/100,255*za[2]/100,255*za[3]/100,za[4]):(za=Rc.exec(Ea))?Ha(za[1],za[2]/100,za[3]/100,1):(za=id.exec(Ea))?Ha(za[1],za[2]/100,za[3]/100,za[4]):Td.hasOwnProperty(Ea)?La(Td[Ea]):"transparent"===Ea?new Ma(NaN,NaN,NaN,0):null}function La(Ea){return new Ma(Ea>>16&255,Ea>>8&255,Ea&255,1)}function pa(Ea,
za,Fa,bb){0>=bb&&(Ea=za=Fa=NaN);return new Ma(Ea,za,Fa,bb)}function Da(Ea,za,Fa,bb){if(1===arguments.length){var lb=Ea;lb instanceof la||(lb=hb(lb));lb?(lb=lb.rgb(),lb=new Ma(lb.r,lb.g,lb.b,lb.opacity)):lb=new Ma}else lb=new Ma(Ea,za,Fa,null==bb?1:bb);return lb}function Ma(Ea,za,Fa,bb){this.r=+Ea;this.g=+za;this.b=+Fa;this.opacity=+bb}function ua(){return"#"+qa(this.r)+qa(this.g)+qa(this.b)}function Aa(){var Ea=this.opacity;Ea=isNaN(Ea)?1:Math.max(0,Math.min(1,Ea));return(1===Ea?"rgb(":"rgba(")+Math.max(0,
Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Ea?")":", "+Ea+")")}function qa(Ea){Ea=Math.max(0,Math.min(255,Math.round(Ea)||0));return(16>Ea?"0":"")+Ea.toString(16)}function Ha(Ea,za,Fa,bb){0>=bb?Ea=za=Fa=NaN:0>=Fa||1<=Fa?Ea=za=NaN:0>=za&&(Ea=NaN);return new eb(Ea,za,Fa,bb)}function Va(Ea){if(Ea instanceof eb)return new eb(Ea.h,Ea.s,Ea.l,Ea.opacity);Ea instanceof la||(Ea=hb(Ea));if(!Ea)return new eb;
if(Ea instanceof eb)return Ea;Ea=Ea.rgb();var za=Ea.r/255,Fa=Ea.g/255,bb=Ea.b/255,lb=Math.min(za,Fa,bb),zb=Math.max(za,Fa,bb),Tb=NaN,Ub=zb-lb,$b=(zb+lb)/2;Ub?(Tb=za===zb?(Fa-bb)/Ub+6*(Fa<bb):Fa===zb?(bb-za)/Ub+2:(za-Fa)/Ub+4,Ub/=.5>$b?zb+lb:2-zb-lb,Tb*=60):Ub=0<$b&&1>$b?0:Tb;return new eb(Tb,Ub,$b,Ea.opacity)}function eb(Ea,za,Fa,bb){this.h=+Ea;this.s=+za;this.l=+Fa;this.opacity=+bb}function ta(Ea,za,Fa){return 255*(60>Ea?za+(Fa-za)*Ea/60:180>Ea?Fa:240>Ea?za+(Fa-za)*(240-Ea)/60:za)}function Qa(Ea){p.Transform.call(this,
null,Ea)}function oa(Ea,za){let Fa;n.isFunction(Ea)?(Fa=bb=>Da(Ea(bb,za)),Fa.dep=ja(Ea)):Fa=n.constant(Da(Ea||"#888"));return Fa}function Y(Ea,za){let Fa;n.isFunction(Ea)?(Fa=bb=>Ea(bb,za),Fa.dep=ja(Ea)):Ea?Fa=n.constant(Ea):(Fa=bb=>bb.$value/bb.$max||0,Fa.dep=!0);return Fa}function ja(Ea){if(!n.isFunction(Ea))return!1;Ea=n.toSet(n.accessorFields(Ea));return Ea.$x||Ea.$y||Ea.$value||Ea.$max}function Ga(Ea,za,Fa,bb){const lb=Ea.width;var zb=Ea.height;const Tb=Ea.x1||0,Ub=Ea.y1||0,$b=Ea.x2||lb;zb=Ea.y2||
zb;const Dc=Ea.values;Ea=Dc?Kd=>Dc[Kd]:n.zero;const dd=h.canvas($b-Tb,zb-Ub),fd=dd.getContext("2d"),od=fd.getImageData(0,0,$b-Tb,zb-Ub),sd=od.data;for(let Kd=Ub,Od=0;Kd<zb;++Kd){za.$y=Kd-Ub;for(let ae=Tb,de=Kd*lb;ae<$b;++ae,Od+=4){za.$x=ae-Tb;za.$value=Ea(ae+de);const je=Fa(za);sd[Od+0]=je.r;sd[Od+1]=je.g;sd[Od+2]=je.b;sd[Od+3]=~~(255*bb(za))}}fd.putImageData(od,0,0);return dd}function Wa(Ea){p.Transform.call(this,null,Ea);this.modified(!0)}function cb(Ea,za){const Fa=pb(za.fit);za.extent?Ea.fitExtent(za.extent,
Fa):za.size?Ea.fitSize(za.size,Fa):0}function nb(Ea){const za=r.projection((Ea||"mercator").toLowerCase());za||n.error("Unrecognized projection type: "+Ea);return za()}function pb(Ea){Ea=n.array(Ea);return 1===Ea.length?Ea[0]:{type:"FeatureCollection",features:Ea.reduce((za,Fa)=>za.concat(Fb(Fa)),[])}}function Fb(Ea){return"FeatureCollection"===Ea.type?Ea.features:n.array(Ea).filter(za=>null!=za).map(za=>"Feature"===za.type?za:{type:"Feature",geometry:za})}var nc=Math.sqrt(50),Lc=Math.sqrt(10),Ac=
Math.sqrt(2);const yc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];b.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",
type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};n.inherits(b,p.Transform,{transform(Ea,za){if(this.value&&!za.changed()&&!Ea.modified())return za.StopPropagation;var Fa=za.fork(za.NO_SOURCE|za.NO_FIELDS);
za=za.materialize(za.SOURCE).source;var bb=Ea.field||n.identity,lb=a().smooth(!1!==Ea.smooth),zb=Ea.thresholds||m(za,bb,Ea),Tb=null===Ea.as?null:Ea.as||"contour",Ub=[];za.forEach($b=>{const Dc=bb($b),dd=lb.size([Dc.width,Dc.height])(Dc.values,n.isArray(zb)?zb:zb(Dc.values));z(dd,Dc,$b,Ea);dd.forEach(fd=>{Ub.push(p.rederive($b,p.ingest(null!=Tb?{[Tb]:fd}:fd)))})});this.value&&(Fa.rem=this.value);this.value=Fa.source=Fa.add=Ub;return Fa}});H.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const tc="x y weight size cellSize bandwidth".split(" ");n.inherits(H,p.Transform,{transform(Ea,za){if(this.value&&!za.changed()&&!Ea.modified())return za.StopPropagation;
var Fa=za.fork(za.NO_SOURCE|za.NO_FIELDS);za=za.materialize(za.SOURCE).source;za=R(za,Ea.groupby);var bb=(Ea.groupby||[]).map(n.accessorName),lb=M(A(),Ea),zb=Ea.as||"grid",Tb=[];Tb=za.map(Ub=>{var $b=p.ingest,Dc={[zb]:lb(Ub,Ea.counts)};Ub=Ub.dims;for(let dd=0;dd<bb.length;++dd)Dc[bb[dd]]=Ub[dd];return $b.call(p,Dc)});this.value&&(Fa.rem=this.value);this.value=Fa.source=Fa.add=Tb;return Fa}});Z.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};n.inherits(Z,p.Transform,{transform(Ea,za){if(this.value&&!za.changed()&&!Ea.modified())return za.StopPropagation;var Fa=za.fork(za.NO_SOURCE|za.NO_FIELDS),
bb=a().smooth(!1!==Ea.smooth),lb=Ea.values,zb=Ea.thresholds||c(Ea.count||10,Ea.nice,!!lb),Tb=Ea.size;if(!lb){lb=za.materialize(za.SOURCE).source;Ea=M(A(),Ea)(lb,!0);var Ub=u(Ea,Ea.scale||1,Ea.scale||1,0,0);Tb=[Ea.width,Ea.height];lb=Ea.values}zb=n.isArray(zb)?zb:zb(lb);lb=bb.size(Tb)(lb,zb);Ub&&lb.forEach(Ub);this.value&&(Fa.rem=this.value);this.value=Fa.source=Fa.add=(lb||[]).map(p.ingest);return Fa}});T.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},
{name:"geojson",type:"field"}]};n.inherits(T,p.Transform,{transform(Ea,za){var Fa=this._features,bb=this._points,lb=Ea.fields,zb=lb&&lb[0],Tb=lb&&lb[1],Ub=Ea.geojson||!lb&&n.identity;lb=za.ADD;Ea=Ea.modified()||za.changed(za.REM)||za.modified(n.accessorFields(Ub))||zb&&za.modified(n.accessorFields(zb))||Tb&&za.modified(n.accessorFields(Tb));if(!this.value||Ea)lb=za.SOURCE,this._features=Fa=[],this._points=bb=[];Ub&&za.visit(lb,$b=>Fa.push(Ub($b)));zb&&Tb&&(za.visit(lb,$b=>{var Dc=zb($b);$b=Tb($b);
null!=Dc&&null!=$b&&(Dc=+Dc)===Dc&&($b=+$b)===$b&&bb.push([Dc,$b])}),Fa=Fa.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:bb}}));this.value={type:"FeatureCollection",features:Fa}}});ba.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};n.inherits(ba,p.Transform,{transform(Ea,za){var Fa=za.fork(za.ALL),bb=this.value,lb=Ea.field||
n.identity,zb=Ea.as||"path",Tb=Fa.SOURCE;!bb||Ea.modified()?(this.value=bb=r.getProjectionPath(Ea.projection),Fa.materialize().reflow()):Tb=lb===n.identity||za.modified(lb.fields)?Fa.ADD_MOD:Fa.ADD;Ea=aa(bb,Ea.pointRadius);Fa.visit(Tb,Ub=>Ub[zb]=bb(lb(Ub)));bb.pointRadius(Ea);return Fa.modifies(zb)}});W.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,
length:2,"default":["x","y"]}]};n.inherits(W,p.Transform,{transform(Ea,za){function Fa(Dc){const dd=bb([lb(Dc),zb(Dc)]);dd?(Dc[Ub]=dd[0],Dc[$b]=dd[1]):(Dc[Ub]=void 0,Dc[$b]=void 0)}var bb=Ea.projection,lb=Ea.fields[0],zb=Ea.fields[1],Tb=Ea.as||["x","y"],Ub=Tb[0],$b=Tb[1];Ea.modified()?za=za.materialize().reflow(!0).visit(za.SOURCE,Fa):(Ea=za.modified(lb.fields)||za.modified(zb.fields),za.visit(Ea?za.ADD_MOD:za.ADD,Fa));return za.modifies(Tb)}});X.Definition={type:"GeoShape",metadata:{modifies:!0,
nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};n.inherits(X,p.Transform,{transform(Ea,za){za=za.fork(za.ALL);var Fa=this.value,bb=Ea.as||"shape",lb=za.ADD;if(!Fa||Ea.modified())this.value=Fa=P(r.getProjectionPath(Ea.projection),Ea.field||n.field("datum"),Ea.pointRadius),za.materialize().reflow(),lb=za.SOURCE;za.visit(lb,zb=>zb[bb]=Fa);return za.modifies(bb)}});
var hd=Math.abs,Mb=Math.ceil;U.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",
type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};n.inherits(U,p.Transform,{transform(Ea,za){var Fa=this.value,bb=this.generator;if(!Fa.length||Ea.modified())for(const lb in Ea)if(n.isFunction(bb[lb]))bb[lb](Ea[lb]);Ea=bb();Fa.length?za.mod.push(p.replace(Fa[0],Ea)):za.add.push(p.ingest(Ea));Fa[0]=Ea;return za}});var Ab=1/.7,ec=/^#([0-9a-f]{3,8})$/,ac=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),lc=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Ic=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ec=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Rc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
id=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Td={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ka(la,hb,{copy:function(Ea){return Object.assign(new this.constructor,this,Ea)},displayable:function(){return this.rgb().displayable()},hex:wa,formatHex:wa,formatHsl:function(){return Va(this).formatHsl()},
formatRgb:Ua,toString:Ua});ka(Ma,Da,da(la,{brighter:function(Ea){Ea=null==Ea?Ab:Math.pow(Ab,Ea);return new Ma(this.r*Ea,this.g*Ea,this.b*Ea,this.opacity)},darker:function(Ea){Ea=null==Ea?.7:Math.pow(.7,Ea);return new Ma(this.r*Ea,this.g*Ea,this.b*Ea,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:ua,formatHex:ua,formatRgb:Aa,toString:Aa}));ka(eb,function(Ea,
za,Fa,bb){return 1===arguments.length?Va(Ea):new eb(Ea,za,Fa,null==bb?1:bb)},da(la,{brighter:function(Ea){Ea=null==Ea?Ab:Math.pow(Ab,Ea);return new eb(this.h,this.s,this.l*Ea,this.opacity)},darker:function(Ea){Ea=null==Ea?.7:Math.pow(.7,Ea);return new eb(this.h,this.s,this.l*Ea,this.opacity)},rgb:function(){var Ea=this.h%360+360*(0>this.h),za=isNaN(Ea)||isNaN(this.s)?0:this.s,Fa=this.l;za=Fa+(.5>Fa?Fa:1-Fa)*za;Fa=2*Fa-za;return new Ma(ta(240<=Ea?Ea-240:Ea+120,Fa,za),ta(Ea,Fa,za),ta(120>Ea?Ea+240:
Ea-120,Fa,za),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Ea=this.opacity;Ea=isNaN(Ea)?1:Math.max(0,Math.min(1,Ea));return(1===Ea?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Ea?")":", "+Ea+")")}}));Qa.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",
expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};n.inherits(Qa,p.Transform,{transform(Ea,za){if(!za.changed()&&!Ea.modified())return za.StopPropagation;var Fa=za.materialize(za.SOURCE).source,bb="shared"===Ea.resolve,lb=Ea.field||n.identity,zb=Y(Ea.opacity,Ea),Tb=oa(Ea.color,Ea),Ub=Ea.as||"image",$b={$x:0,$y:0,$value:0,$max:bb?k(Fa.map(Dc=>k(lb(Dc).values))):0};Fa.forEach(Dc=>{const dd=lb(Dc),fd=n.extend({},
Dc,$b);bb||(fd.$max=k(dd.values||[]));Dc[Ub]=Ga(dd,fd,Tb.dep?Tb:n.constant(Tb(fd)),zb.dep?zb:n.constant(zb(fd)))});return za.reflow(!0).modifies(Ub)}});n.inherits(Wa,p.Transform,{transform(Ea,za){let Fa=this.value;!Fa||Ea.modified("type")?(this.value=Fa=nb(Ea.type),r.projectionProperties.forEach(bb=>{if(null!=Ea[bb]){var lb=Fa,zb=Ea[bb];if(n.isFunction(lb[bb]))lb[bb](zb)}})):r.projectionProperties.forEach(bb=>{if(Ea.modified(bb)){var lb=Fa,zb=Ea[bb];if(n.isFunction(lb[bb]))lb[bb](zb)}});null!=Ea.pointRadius&&
Fa.path.pointRadius(Ea.pointRadius);Ea.fit&&cb(Fa,Ea);return za.fork(za.NO_SOURCE|za.NO_FIELDS)}});y.contour=Z;y.geojson=T;y.geopath=ba;y.geopoint=W;y.geoshape=X;y.graticule=U;y.heatmap=Qa;y.isocontour=b;y.kde2d=H;y.projection=Wa;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[33]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega))})(this,function(y,p,n){function v(ta,Qa,oa,Y){if(isNaN(Qa)||isNaN(oa))return ta;var ja,Ga=ta._root;Y={data:Y};var Wa=ta._x0,cb=ta._y0,nb=ta._x1,pb=ta._y1,Fb,nc,Lc,Ac,yc;if(!Ga)return ta._root=
Y,ta;for(;Ga.length;)if((Lc=Qa>=(Fb=(Wa+nb)/2))?Wa=Fb:nb=Fb,(Ac=oa>=(nc=(cb+pb)/2))?cb=nc:pb=nc,ja=Ga,!(Ga=Ga[yc=Ac<<1|Lc]))return ja[yc]=Y,ta;var tc=+ta._x.call(null,Ga.data);var hd=+ta._y.call(null,Ga.data);if(Qa===tc&&oa===hd)return Y.next=Ga,ja?ja[yc]=Y:ta._root=Y,ta;do ja=ja?ja[yc]=Array(4):ta._root=Array(4),(Lc=Qa>=(Fb=(Wa+nb)/2))?Wa=Fb:nb=Fb,(Ac=oa>=(nc=(cb+pb)/2))?cb=nc:pb=nc;while((yc=Ac<<1|Lc)===(Lc=(hd>=nc)<<1|tc>=Fb));return ja[Lc]=Ga,ja[yc]=Y,ta}function r(ta,Qa,oa,Y,ja){this.node=ta;
this.x0=Qa;this.y0=oa;this.x1=Y;this.y1=ja}function h(ta){return ta[0]}function k(ta){return ta[1]}function f(ta,Qa,oa){Qa=new e(null==Qa?h:Qa,null==oa?k:oa,NaN,NaN,NaN,NaN);return null==ta?Qa:Qa.addAll(ta)}function e(ta,Qa,oa,Y,ja,Ga){this._x=ta;this._y=Qa;this._x0=oa;this._y0=Y;this._x1=ja;this._y1=Ga;this._root=void 0}function d(ta){for(var Qa={data:ta.data},oa=Qa;ta=ta.next;)oa=oa.next={data:ta.data};return Qa}function a(ta){return function(){return ta}}function c(ta){return ta.x+ta.vx}function b(ta){return ta.y+
ta.vy}function m(ta){return ta.index}function z(ta,Qa){ta=ta.get(Qa);if(!ta)throw Error("node not found: "+Qa);return ta}function u(){for(var ta=0,Qa=arguments.length,oa={},Y;ta<Qa;++ta){if(!(Y=arguments[ta]+"")||Y in oa||/[\s.]/.test(Y))throw Error("illegal type: "+Y);oa[Y]=[]}return new C(oa)}function C(ta){this._=ta}function J(ta,Qa){return ta.trim().split(/^|\s+/).map(function(oa){var Y="",ja=oa.indexOf(".");0<=ja&&(Y=oa.slice(ja+1),oa=oa.slice(0,ja));if(oa&&!Qa.hasOwnProperty(oa))throw Error("unknown type: "+
oa);return{type:oa,name:Y}})}function A(ta,Qa,oa){for(var Y=0,ja=ta.length;Y<ja;++Y)if(ta[Y].name===Qa){ta[Y]=ka;ta=ta.slice(0,Y).concat(ta.slice(Y+1));break}null!=oa&&ta.push({name:Qa,value:oa});return ta}function x(){pa=0}function q(){this._call=this._time=this._next=null}function H(ta,Qa,oa){var Y=new q;Y.restart(ta,Qa,oa);return Y}function M(){pa=(La=Ma.now())+Da;da=la=0;try{pa||(ua(x),pa=Ma.now()+Da);++da;for(var ta=Ua,Qa;ta;)0<=(Qa=pa-ta._time)&&ta._call.call(void 0,Qa),ta=ta._next;--da}finally{da=
0;ta=Ua;for(var oa=Infinity;ta;)if(ta._call){oa>ta._time&&(oa=ta._time);var Y=ta;ta=ta._next}else Qa=ta._next,ta._next=null,ta=Y?Y._next=Qa:Ua=Qa;hb=Y;Z(oa);pa=0}}function R(){var ta=Ma.now(),Qa=ta-La;1E3<Qa&&(Da-=Qa,La=ta)}function Z(ta){da||(la&&(la=clearTimeout(la)),24<ta-pa?(Infinity>ta&&(la=setTimeout(M,ta-Ma.now()-Da)),wa&&(wa=clearInterval(wa))):(wa||(La=Ma.now(),wa=setInterval(R,1E3)),da=1,ua(M)))}function T(){let ta=1;return()=>(ta=(1664525*ta+1013904223)%4294967296)/4294967296}function ba(ta){return ta.x}
function aa(ta){return ta.y}function W(ta){function Qa(){oa();Ac.call("tick",Ga);Wa<cb&&(Lc.stop(),Ac.call("end",Ga))}function oa(tc){var hd,Mb=ta.length;void 0===tc&&(tc=1);for(var Ab=0;Ab<tc;++Ab)for(Wa+=(pb-Wa)*nb,nc.forEach(function(ac){ac(Wa)}),hd=0;hd<Mb;++hd){var ec=ta[hd];null==ec.fx?ec.x+=ec.vx*=Fb:(ec.x=ec.fx,ec.vx=0);null==ec.fy?ec.y+=ec.vy*=Fb:(ec.y=ec.fy,ec.vy=0)}return Ga}function Y(){for(var tc=0,hd=ta.length,Mb;tc<hd;++tc){Mb=ta[tc];Mb.index=tc;null!=Mb.fx&&(Mb.x=Mb.fx);null!=Mb.fy&&
(Mb.y=Mb.fy);if(isNaN(Mb.x)||isNaN(Mb.y)){var Ab=10*Math.sqrt(.5+tc),ec=tc*Aa;Mb.x=Ab*Math.cos(ec);Mb.y=Ab*Math.sin(ec)}if(isNaN(Mb.vx)||isNaN(Mb.vy))Mb.vx=Mb.vy=0}}function ja(tc){tc.initialize&&tc.initialize(ta,yc);return tc}var Ga,Wa=1,cb=.001,nb=1-Math.pow(cb,1/300),pb=0,Fb=.6,nc=new Map,Lc=H(Qa),Ac=u("tick","end"),yc=T();null==ta&&(ta=[]);Y();return Ga={tick:oa,restart:function(){return Lc.restart(Qa),Ga},stop:function(){return Lc.stop(),Ga},nodes:function(tc){return arguments.length?(ta=tc,
Y(),nc.forEach(ja),Ga):ta},alpha:function(tc){return arguments.length?(Wa=+tc,Ga):Wa},alphaMin:function(tc){return arguments.length?(cb=+tc,Ga):cb},alphaDecay:function(tc){return arguments.length?(nb=+tc,Ga):+nb},alphaTarget:function(tc){return arguments.length?(pb=+tc,Ga):pb},velocityDecay:function(tc){return arguments.length?(Fb=1-tc,Ga):1-Fb},randomSource:function(tc){return arguments.length?(yc=tc,nc.forEach(ja),Ga):yc},force:function(tc,hd){return 1<arguments.length?(null==hd?nc.delete(tc):nc.set(tc,
ja(hd)),Ga):nc.get(tc)},find:function(tc,hd,Mb){var Ab,ec=ta.length;Mb=null==Mb?Infinity:Mb*Mb;for(Ab=0;Ab<ec;++Ab){var ac=ta[Ab];var lc=tc-ac.x;var Ic=hd-ac.y;lc=lc*lc+Ic*Ic;if(lc<Mb){var Ec=ac;Mb=lc}}return Ec},on:function(tc,hd){return 1<arguments.length?(Ac.on(tc,hd),Ga):Ac.on(tc)}}}function X(ta){p.Transform.call(this,null,ta)}function P(ta,Qa){return()=>ta.touch(Qa).run()}function w(ta,Qa){ta=W(ta);const oa=ta.stop,Y=ta.restart;let ja=!1;ta.stopped=()=>ja;ta.restart=()=>(ja=!1,Y());ta.stop=
()=>(ja=!0,oa());return B(ta,Qa,!0).on("end",()=>ja=!0)}function B(ta,Qa,oa,Y){var ja=n.array(Qa.forces),Ga;var Wa=0;for(Ga=Ha.length;Wa<Ga;++Wa){var cb=Ha[Wa];if("forces"!==cb&&Qa.modified(cb))ta[cb](Qa[cb])}Wa=0;for(Ga=ja.length;Wa<Ga;++Wa){var nb="forces"+Wa;if(oa||Qa.modified("forces",Wa)){cb=void 0;var pb=ja[Wa];n.hasOwnProperty(qa,pb.force)||n.error("Unrecognized force: "+pb.force);var Fb=qa[pb.force]();for(cb in pb)n.isFunction(Fb[cb])&&K(Fb[cb],pb[cb],pb);cb=Fb}else{if(cb=Y)a:{Fb=cb=void 0;
pb=ja[Wa];var nc=Y;for(Fb in pb)if(n.isFunction(cb=pb[Fb])&&nc.modified(n.accessorFields(cb))){cb=1;break a}cb=0}cb=cb?ta.force(nb):null}cb&&ta.force(nb,cb)}for(Ga=ta.numForces||0;Wa<Ga;++Wa)ta.force("forces"+Wa,null);ta.numForces=ja.length;return ta}function K(ta,Qa,oa){ta(n.isFunction(Qa)?Y=>Qa(Y,oa):Qa)}var U=f.prototype=e.prototype;U.copy=function(){var ta=new e(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Qa=this._root,oa,Y;if(!Qa)return ta;if(!Qa.length)return ta._root=d(Qa),ta;for(oa=
[{source:Qa,target:ta._root=Array(4)}];Qa=oa.pop();)for(var ja=0;4>ja;++ja)if(Y=Qa.source[ja])Y.length?oa.push({source:Y,target:Qa.target[ja]=Array(4)}):Qa.target[ja]=d(Y);return ta};U.add=function(ta){const Qa=+this._x.call(null,ta),oa=+this._y.call(null,ta);return v(this.cover(Qa,oa),Qa,oa,ta)};U.addAll=function(ta){var Qa,oa,Y=ta.length,ja,Ga,Wa=Array(Y),cb=Array(Y),nb=Infinity,pb=Infinity,Fb=-Infinity,nc=-Infinity;for(oa=0;oa<Y;++oa)isNaN(ja=+this._x.call(null,Qa=ta[oa]))||isNaN(Ga=+this._y.call(null,
Qa))||(Wa[oa]=ja,cb[oa]=Ga,ja<nb&&(nb=ja),ja>Fb&&(Fb=ja),Ga<pb&&(pb=Ga),Ga>nc&&(nc=Ga));if(nb>Fb||pb>nc)return this;this.cover(nb,pb).cover(Fb,nc);for(oa=0;oa<Y;++oa)v(this,Wa[oa],cb[oa],ta[oa]);return this};U.cover=function(ta,Qa){if(isNaN(ta=+ta)||isNaN(Qa=+Qa))return this;var oa=this._x0,Y=this._y0,ja=this._x1,Ga=this._y1;if(isNaN(oa))ja=(oa=Math.floor(ta))+1,Ga=(Y=Math.floor(Qa))+1;else{for(var Wa=ja-oa||1,cb=this._root,nb,pb;oa>ta||ta>=ja||Y>Qa||Qa>=Ga;)switch(pb=(Qa<Y)<<1|ta<oa,nb=Array(4),
nb[pb]=cb,cb=nb,Wa*=2,pb){case 0:ja=oa+Wa;Ga=Y+Wa;break;case 1:oa=ja-Wa;Ga=Y+Wa;break;case 2:ja=oa+Wa;Y=Ga-Wa;break;case 3:oa=ja-Wa,Y=Ga-Wa}this._root&&this._root.length&&(this._root=cb)}this._x0=oa;this._y0=Y;this._x1=ja;this._y1=Ga;return this};U.data=function(){var ta=[];this.visit(function(Qa){if(!Qa.length){do ta.push(Qa.data);while(Qa=Qa.next)}});return ta};U.extent=function(ta){return arguments.length?this.cover(+ta[0][0],+ta[0][1]).cover(+ta[1][0],+ta[1][1]):isNaN(this._x0)?void 0:[[this._x0,
this._y0],[this._x1,this._y1]]};U.find=function(ta,Qa,oa){var Y=this._x0,ja=this._y0,Ga,Wa,cb,nb,pb=this._x1,Fb=this._y1,nc=[],Lc=this._root,Ac;Lc&&nc.push(new r(Lc,Y,ja,pb,Fb));null==oa?oa=Infinity:(Y=ta-oa,ja=Qa-oa,pb=ta+oa,Fb=Qa+oa,oa*=oa);for(;Ac=nc.pop();)if(!(!(Lc=Ac.node)||(Ga=Ac.x0)>pb||(Wa=Ac.y0)>Fb||(cb=Ac.x1)<Y||(nb=Ac.y1)<ja))if(Lc.length){Ac=(Ga+cb)/2;var yc=(Wa+nb)/2;nc.push(new r(Lc[3],Ac,yc,cb,nb),new r(Lc[2],Ga,yc,Ac,nb),new r(Lc[1],Ac,Wa,cb,yc),new r(Lc[0],Ga,Wa,Ac,yc));if(Lc=(Qa>=
yc)<<1|ta>=Ac)Ac=nc[nc.length-1],nc[nc.length-1]=nc[nc.length-1-Lc],nc[nc.length-1-Lc]=Ac}else if(Ac=ta-+this._x.call(null,Lc.data),yc=Qa-+this._y.call(null,Lc.data),Ac=Ac*Ac+yc*yc,Ac<oa){var tc=Math.sqrt(oa=Ac);Y=ta-tc;ja=Qa-tc;pb=ta+tc;Fb=Qa+tc;tc=Lc.data}return tc};U.remove=function(ta){if(isNaN(nb=+this._x.call(null,ta))||isNaN(pb=+this._y.call(null,ta)))return this;var Qa,oa=this._root,Y,ja=this._x0,Ga=this._y0,Wa=this._x1,cb=this._y1,nb,pb,Fb,nc,Lc,Ac,yc;if(!oa)return this;if(oa.length)for(;;){(Lc=
nb>=(Fb=(ja+Wa)/2))?ja=Fb:Wa=Fb;(Ac=pb>=(nc=(Ga+cb)/2))?Ga=nc:cb=nc;if(!(Qa=oa,oa=oa[yc=Ac<<1|Lc]))return this;if(!oa.length)break;if(Qa[yc+1&3]||Qa[yc+2&3]||Qa[yc+3&3]){var tc=Qa;var hd=yc}}for(;oa.data!==ta;)if(!(Y=oa,oa=oa.next))return this;(ta=oa.next)&&delete oa.next;if(Y)return ta?Y.next=ta:delete Y.next,this;if(!Qa)return this._root=ta,this;ta?Qa[yc]=ta:delete Qa[yc];(oa=Qa[0]||Qa[1]||Qa[2]||Qa[3])&&oa===(Qa[3]||Qa[2]||Qa[1]||Qa[0])&&!oa.length&&(tc?tc[hd]=oa:this._root=oa);return this};U.removeAll=
function(ta){for(var Qa=0,oa=ta.length;Qa<oa;++Qa)this.remove(ta[Qa]);return this};U.root=function(){return this._root};U.size=function(){var ta=0;this.visit(function(Qa){if(!Qa.length){do++ta;while(Qa=Qa.next)}});return ta};U.visit=function(ta){var Qa=[],oa,Y=this._root,ja,Ga,Wa,cb,nb;for(Y&&Qa.push(new r(Y,this._x0,this._y0,this._x1,this._y1));oa=Qa.pop();)if(!ta(Y=oa.node,Ga=oa.x0,Wa=oa.y0,cb=oa.x1,nb=oa.y1)&&Y.length){oa=(Ga+cb)/2;var pb=(Wa+nb)/2;(ja=Y[3])&&Qa.push(new r(ja,oa,pb,cb,nb));(ja=
Y[2])&&Qa.push(new r(ja,Ga,pb,oa,nb));(ja=Y[1])&&Qa.push(new r(ja,oa,Wa,cb,pb));(ja=Y[0])&&Qa.push(new r(ja,Ga,Wa,oa,pb))}return this};U.visitAfter=function(ta){var Qa=[],oa=[],Y;for(this._root&&Qa.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));Y=Qa.pop();){var ja=Y.node;if(ja.length){var Ga,Wa=Y.x0,cb=Y.y0,nb=Y.x1,pb=Y.y1,Fb=(Wa+nb)/2,nc=(cb+pb)/2;(Ga=ja[0])&&Qa.push(new r(Ga,Wa,cb,Fb,nc));(Ga=ja[1])&&Qa.push(new r(Ga,Fb,cb,nb,nc));(Ga=ja[2])&&Qa.push(new r(Ga,Wa,nc,Fb,pb));(Ga=ja[3])&&
Qa.push(new r(Ga,Fb,nc,nb,pb))}oa.push(Y)}for(;Y=oa.pop();)ta(Y.node,Y.x0,Y.y0,Y.x1,Y.y1);return this};U.x=function(ta){return arguments.length?(this._x=ta,this):this._x};U.y=function(ta){return arguments.length?(this._y=ta,this):this._y};var ka={value:()=>{}};C.prototype=u.prototype={constructor:C,on:function(ta,Qa){var oa=this._,Y=J(ta+"",oa),ja,Ga=-1,Wa=Y.length;if(2>arguments.length)for(;++Ga<Wa;){var cb;if(cb=ja=(ta=Y[Ga]).type){a:{cb=oa[ja];for(var nb=0,pb=cb.length;nb<pb;++nb)if((ja=cb[nb]).name===
ta.name){ja=ja.value;break a}ja=void 0}cb=ja}if(cb)return ja}else{if(null!=Qa&&"function"!==typeof Qa)throw Error("invalid callback: "+Qa);for(;++Ga<Wa;)if(ja=(ta=Y[Ga]).type)oa[ja]=A(oa[ja],ta.name,Qa);else if(null==Qa)for(ja in oa)oa[ja]=A(oa[ja],ta.name,null);return this}},copy:function(){var ta={},Qa=this._,oa;for(oa in Qa)ta[oa]=Qa[oa].slice();return new C(ta)},call:function(ta,Qa){if(0<(ja=arguments.length-2))for(var oa=Array(ja),Y=0,ja,Ga;Y<ja;++Y)oa[Y]=arguments[Y+2];if(!this._.hasOwnProperty(ta))throw Error("unknown type: "+
ta);Ga=this._[ta];Y=0;for(ja=Ga.length;Y<ja;++Y)Ga[Y].value.apply(Qa,oa)},apply:function(ta,Qa,oa){if(!this._.hasOwnProperty(ta))throw Error("unknown type: "+ta);ta=this._[ta];for(var Y=0,ja=ta.length;Y<ja;++Y)ta[Y].value.apply(Qa,oa)}};var da=0,la=0,wa=0,Ua,hb,La=0,pa=0,Da=0,Ma="object"===typeof performance&&performance.now?performance:Date,ua="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(ta){setTimeout(ta,17)};q.prototype=H.prototype={constructor:q,
restart:function(ta,Qa,oa){if("function"!==typeof ta)throw new TypeError("callback is not a function");oa=(null==oa?pa||(ua(x),pa=Ma.now()+Da):+oa)+(null==Qa?0:+Qa);this._next||hb===this||(hb?hb._next=this:Ua=this,hb=this);this._call=ta;this._time=oa;Z()},stop:function(){this._call&&(this._call=null,this._time=Infinity,Z())}};var Aa=Math.PI*(3-Math.sqrt(5));const qa={center:function(ta,Qa){function oa(){var Ga,Wa=Y.length,cb=0,nb=0;for(Ga=0;Ga<Wa;++Ga){var pb=Y[Ga];cb+=pb.x;nb+=pb.y}cb=(cb/Wa-ta)*
ja;nb=(nb/Wa-Qa)*ja;for(Ga=0;Ga<Wa;++Ga)pb=Y[Ga],pb.x-=cb,pb.y-=nb}var Y,ja=1;null==ta&&(ta=0);null==Qa&&(Qa=0);oa.initialize=function(Ga){Y=Ga};oa.x=function(Ga){return arguments.length?(ta=+Ga,oa):ta};oa.y=function(Ga){return arguments.length?(Qa=+Ga,oa):Qa};oa.strength=function(Ga){return arguments.length?(ja=+Ga,oa):ja};return oa},collide:function(ta){function Qa(){function pb(ec,ac,lc,Ic,Ec){var Rc=ec.data;ec=ec.r;var id=hd+ec;if(Rc)Rc.index>Ac.index&&(ac=yc-Rc.x-Rc.vx,lc=tc-Rc.y-Rc.vy,Ic=ac*
ac+lc*lc,Ic<id*id&&(0===ac&&(ac=1E-6*(Wa()-.5),Ic+=ac*ac),0===lc&&(lc=1E-6*(Wa()-.5),Ic+=lc*lc),Ic=(id-(Ic=Math.sqrt(Ic)))/Ic*cb,Ac.vx+=(ac*=Ic)*(id=(ec*=ec)/(Mb+ec)),Ac.vy+=(lc*=Ic)*id,Rc.vx-=ac*(id=1-id),Rc.vy-=lc*id));else return ac>yc+id||Ic<yc-id||lc>tc+id||Ec<tc-id}for(var Fb,nc=ja.length,Lc,Ac,yc,tc,hd,Mb,Ab=0;Ab<nb;++Ab)for(Lc=f(ja,c,b).visitAfter(oa),Fb=0;Fb<nc;++Fb)Ac=ja[Fb],hd=Ga[Ac.index],Mb=hd*hd,yc=Ac.x+Ac.vx,tc=Ac.y+Ac.vy,Lc.visit(pb)}function oa(pb){if(pb.data)return pb.r=Ga[pb.data.index];
for(var Fb=pb.r=0;4>Fb;++Fb)pb[Fb]&&pb[Fb].r>pb.r&&(pb.r=pb[Fb].r)}function Y(){if(ja){var pb,Fb=ja.length;Ga=Array(Fb);for(pb=0;pb<Fb;++pb){var nc=ja[pb];Ga[nc.index]=+ta(nc,pb,ja)}}}var ja,Ga,Wa,cb=1,nb=1;"function"!==typeof ta&&(ta=a(null==ta?1:+ta));Qa.initialize=function(pb,Fb){ja=pb;Wa=Fb;Y()};Qa.iterations=function(pb){return arguments.length?(nb=+pb,Qa):nb};Qa.strength=function(pb){return arguments.length?(cb=+pb,Qa):cb};Qa.radius=function(pb){return arguments.length?(ta="function"===typeof pb?
pb:a(+pb),Y(),Qa):ta};return Qa},nbody:function(){function ta(Ac){var yc=ja.length,tc=f(ja,ba,aa).visitAfter(oa);cb=Ac;for(Ac=0;Ac<yc;++Ac)Ga=ja[Ac],tc.visit(Y)}function Qa(){if(ja){var Ac,yc=ja.length;pb=Array(yc);for(Ac=0;Ac<yc;++Ac){var tc=ja[Ac];pb[tc.index]=+nb(tc,Ac,ja)}}}function oa(Ac){var yc=0,tc,hd,Mb=0,Ab,ec,ac;if(Ac.length){for(Ab=ec=ac=0;4>ac;++ac)(tc=Ac[ac])&&(hd=Math.abs(tc.value))&&(yc+=tc.value,Mb+=hd,Ab+=hd*tc.x,ec+=hd*tc.y);Ac.x=Ab/Mb;Ac.y=ec/Mb}else{tc=Ac;tc.x=tc.data.x;tc.y=tc.data.y;
do yc+=pb[tc.data.index];while(tc=tc.next)}Ac.value=yc}function Y(Ac,yc,tc,hd){if(!Ac.value)return!0;tc=Ac.x-Ga.x;var Mb=Ac.y-Ga.y;yc=hd-yc;hd=tc*tc+Mb*Mb;if(yc*yc/Lc<hd)return hd<nc&&(0===tc&&(tc=1E-6*(Wa()-.5),hd+=tc*tc),0===Mb&&(Mb=1E-6*(Wa()-.5),hd+=Mb*Mb),hd<Fb&&(hd=Math.sqrt(Fb*hd)),Ga.vx+=tc*Ac.value*cb/hd,Ga.vy+=Mb*Ac.value*cb/hd),!0;if(!(Ac.length||hd>=nc)){if(Ac.data!==Ga||Ac.next)0===tc&&(tc=1E-6*(Wa()-.5),hd+=tc*tc),0===Mb&&(Mb=1E-6*(Wa()-.5),hd+=Mb*Mb),hd<Fb&&(hd=Math.sqrt(Fb*hd));do Ac.data!==
Ga&&(yc=pb[Ac.data.index]*cb/hd,Ga.vx+=tc*yc,Ga.vy+=Mb*yc);while(Ac=Ac.next)}}var ja,Ga,Wa,cb,nb=a(-30),pb,Fb=1,nc=Infinity,Lc=.81;ta.initialize=function(Ac,yc){ja=Ac;Wa=yc;Qa()};ta.strength=function(Ac){return arguments.length?(nb="function"===typeof Ac?Ac:a(+Ac),Qa(),ta):nb};ta.distanceMin=function(Ac){return arguments.length?(Fb=Ac*Ac,ta):Math.sqrt(Fb)};ta.distanceMax=function(Ac){return arguments.length?(nc=Ac*Ac,ta):Math.sqrt(nc)};ta.theta=function(Ac){return arguments.length?(Lc=Ac*Ac,ta):Math.sqrt(Lc)};
return ta},link:function(ta){function Qa(tc){for(var hd=0,Mb=ta.length;hd<yc;++hd)for(var Ab=0,ec,ac,lc,Ic,Ec;Ab<Mb;++Ab)ec=ta[Ab],ac=ec.source,ec=ec.target,lc=ec.x+ec.vx-ac.x-ac.vx||1E-6*(Ac()-.5),Ic=ec.y+ec.vy-ac.y-ac.vy||1E-6*(Ac()-.5),Ec=Math.sqrt(lc*lc+Ic*Ic),Ec=(Ec-pb[Ab])/Ec*tc*cb[Ab],lc*=Ec,Ic*=Ec,ec.vx-=lc*(Ec=Lc[Ab]),ec.vy-=Ic*Ec,ac.vx+=lc*(Ec=1-Ec),ac.vy+=Ic*Ec}function oa(){if(Fb){var tc=Fb.length,hd=ta.length,Mb=new Map(Fb.map((ec,ac)=>[Ga(ec,ac,Fb),ec]));var Ab=0;for(nc=Array(tc);Ab<
hd;++Ab)tc=ta[Ab],tc.index=Ab,"object"!==typeof tc.source&&(tc.source=z(Mb,tc.source)),"object"!==typeof tc.target&&(tc.target=z(Mb,tc.target)),nc[tc.source.index]=(nc[tc.source.index]||0)+1,nc[tc.target.index]=(nc[tc.target.index]||0)+1;Ab=0;for(Lc=Array(hd);Ab<hd;++Ab)tc=ta[Ab],Lc[Ab]=nc[tc.source.index]/(nc[tc.source.index]+nc[tc.target.index]);cb=Array(hd);Y();pb=Array(hd);ja()}}function Y(){if(Fb)for(var tc=0,hd=ta.length;tc<hd;++tc)cb[tc]=+Wa(ta[tc],tc,ta)}function ja(){if(Fb)for(var tc=0,hd=
ta.length;tc<hd;++tc)pb[tc]=+nb(ta[tc],tc,ta)}var Ga=m,Wa=function(tc){return 1/Math.min(nc[tc.source.index],nc[tc.target.index])},cb,nb=a(30),pb,Fb,nc,Lc,Ac,yc=1;null==ta&&(ta=[]);Qa.initialize=function(tc,hd){Fb=tc;Ac=hd;oa()};Qa.links=function(tc){return arguments.length?(ta=tc,oa(),Qa):ta};Qa.id=function(tc){return arguments.length?(Ga=tc,Qa):Ga};Qa.iterations=function(tc){return arguments.length?(yc=+tc,Qa):yc};Qa.strength=function(tc){return arguments.length?(Wa="function"===typeof tc?tc:a(+tc),
Y(),Qa):Wa};Qa.distance=function(tc){return arguments.length?(nb="function"===typeof tc?tc:a(+tc),ja(),Qa):nb};return Qa},x:function(ta){function Qa(cb){for(var nb=0,pb=ja.length,Fb;nb<pb;++nb)Fb=ja[nb],Fb.vx+=(Wa[nb]-Fb.x)*Ga[nb]*cb}function oa(){if(ja){var cb,nb=ja.length;Ga=Array(nb);Wa=Array(nb);for(cb=0;cb<nb;++cb)Ga[cb]=isNaN(Wa[cb]=+ta(ja[cb],cb,ja))?0:+Y(ja[cb],cb,ja)}}var Y=a(.1),ja,Ga,Wa;"function"!==typeof ta&&(ta=a(null==ta?0:+ta));Qa.initialize=function(cb){ja=cb;oa()};Qa.strength=function(cb){return arguments.length?
(Y="function"===typeof cb?cb:a(+cb),oa(),Qa):Y};Qa.x=function(cb){return arguments.length?(ta="function"===typeof cb?cb:a(+cb),oa(),Qa):ta};return Qa},y:function(ta){function Qa(cb){for(var nb=0,pb=ja.length,Fb;nb<pb;++nb)Fb=ja[nb],Fb.vy+=(Wa[nb]-Fb.y)*Ga[nb]*cb}function oa(){if(ja){var cb,nb=ja.length;Ga=Array(nb);Wa=Array(nb);for(cb=0;cb<nb;++cb)Ga[cb]=isNaN(Wa[cb]=+ta(ja[cb],cb,ja))?0:+Y(ja[cb],cb,ja)}}var Y=a(.1),ja,Ga,Wa;"function"!==typeof ta&&(ta=a(null==ta?0:+ta));Qa.initialize=function(cb){ja=
cb;oa()};Qa.strength=function(cb){return arguments.length?(Y="function"===typeof cb?cb:a(+cb),oa(),Qa):Y};Qa.y=function(cb){return arguments.length?(ta="function"===typeof cb?cb:a(+cb),oa(),Qa):ta};return Qa}},Ha=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Va=["static","iterations"],eb=["x","y","vx","vy"];X.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":eb}]};n.inherits(X,p.Transform,{transform(ta,Qa){var oa=this.value,Y=Qa.changed(Qa.ADD_REM),ja=ta.modified(Ha),Ga=ta.iterations||300;oa?(Y&&(Qa.modifies("index"),oa.nodes(Qa.source)),(ja||Qa.changed(Qa.MOD))&&B(oa,ta,0,Qa)):(this.value=oa=w(Qa.source,ta),oa.on("tick",P(Qa.dataflow,this)),ta.static||(Y=!0,oa.tick()),Qa.modifies("index"));
if(ja||Y||ta.modified(Va)||Qa.changed()&&ta.restart)if(oa.alpha(Math.max(oa.alpha(),ta.alpha||1)).alphaDecay(1-Math.pow(oa.alphaMin(),1/Ga)),ta.static)for(oa.stop();0<=--Ga;)oa.tick();else if(oa.stopped()&&oa.restart(),!Y)return Qa.StopPropagation;return this.finish(ta,Qa)},finish(ta,Qa){const oa=Qa.dataflow;for(let cb=this._argops,nb=0,pb=cb.length,Fb;nb<pb;++nb)if(Fb=cb[nb],"forces"===Fb.name&&"link"===Fb.op._argval.force)for(var Y=Fb.op._argops,ja=0,Ga=Y.length,Wa;ja<Ga;++ja)if("links"===Y[ja].name&&
(Wa=Y[ja].op.source)){oa.pulse(Wa,oa.changeset().reflow());break}return Qa.reflow(ta.modified()).modifies(eb)}});y.force=X;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[34]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega))})(this,function(y,p,n){function v(Mb,Ab,ec){const ac={};Mb.each(lc=>{const Ic=lc.data;ec(Ic)&&(ac[Ab(Ic)]=lc)});Mb.lookup=ac;return Mb}function r(Mb,Ab){return Mb.parent===Ab.parent?1:2}function h(Mb,Ab){return Mb+
Ab.x}function k(Mb,Ab){return Math.max(Mb,Ab.y)}function f(Mb){for(var Ab;Ab=Mb.children;)Mb=Ab[0];return Mb}function e(Mb){for(var Ab;Ab=Mb.children;)Mb=Ab[Ab.length-1];return Mb}function d(Mb){var Ab=0,ec=Mb.children,ac=ec&&ec.length;if(ac)for(;0<=--ac;)Ab+=ec[ac].value;else Ab=1;Mb.value=Ab}function a(Mb,Ab){Mb instanceof Map?(Mb=[void 0,Mb],void 0===Ab&&(Ab=b)):void 0===Ab&&(Ab=c);Mb=new u(Mb);for(var ec,ac=[Mb],lc,Ic,Ec,Rc;ec=ac.pop();)if((Ic=Ab(ec.data))&&(Rc=(Ic=Array.from(Ic)).length))for(ec.children=
Ic,Ec=Rc-1;0<=Ec;--Ec)ac.push(lc=Ic[Ec]=new u(Ic[Ec])),lc.parent=ec,lc.depth=ec.depth+1;return Mb.eachBefore(z)}function c(Mb){return Mb.children}function b(Mb){return Array.isArray(Mb)?Mb[1]:null}function m(Mb){void 0!==Mb.data.value&&(Mb.value=Mb.data.value);Mb.data=Mb.data.data}function z(Mb){var Ab=0;do Mb.height=Ab;while((Mb=Mb.parent)&&Mb.height<++Ab)}function u(Mb){this.data=Mb;this.depth=this.height=0;this.parent=null}function C(Mb,Ab){var ec=Mb.r-Ab.r,ac=Ab.x-Mb.x;Mb=Ab.y-Mb.y;return 0>ec||
ec*ec<ac*ac+Mb*Mb}function J(Mb,Ab){var ec=Mb.r-Ab.r+1E-9*Math.max(Mb.r,Ab.r,1),ac=Ab.x-Mb.x;Mb=Ab.y-Mb.y;return 0<ec&&ec*ec>ac*ac+Mb*Mb}function A(Mb,Ab){for(var ec=0;ec<Ab.length;++ec)if(!J(Mb,Ab[ec]))return!1;return!0}function x(Mb,Ab){var ec=Mb.x,ac=Mb.y;Mb=Mb.r;var lc=Ab.x,Ic=Ab.y;Ab=Ab.r;var Ec=lc-ec,Rc=Ic-ac,id=Ab-Mb,Td=Math.sqrt(Ec*Ec+Rc*Rc);return{x:(ec+lc+Ec/Td*id)/2,y:(ac+Ic+Rc/Td*id)/2,r:(Td+Mb+Ab)/2}}function q(Mb,Ab,ec){var ac=Mb.x,lc=Mb.y;Mb=Mb.r;var Ic=Ab.x,Ec=Ab.y,Rc=Ab.r,id=ec.x,
Td=ec.y,Ea=ec.r;ec=ac-Ic;Ab=ac-id;var za=lc-Ec,Fa=lc-Td,bb=Rc-Mb,lb=Ea-Mb,zb=ac*ac+lc*lc-Mb*Mb;Ec=zb-Ic*Ic-Ec*Ec+Rc*Rc;Td=zb-id*id-Td*Td+Ea*Ea;id=Ab*za-ec*Fa;Ic=(za*Td-Fa*Ec)/(2*id)-ac;za=(Fa*bb-za*lb)/id;Fa=(Ab*Ec-ec*Td)/(2*id)-lc;ec=(ec*lb-Ab*bb)/id;Ab=za*za+ec*ec-1;bb=2*(Mb+Ic*za+Fa*ec);Mb=Ic*Ic+Fa*Fa-Mb*Mb;Mb=-(Ab?(bb+Math.sqrt(bb*bb-4*Ab*Mb))/(2*Ab):Mb/bb);return{x:ac+Ic+za*Mb,y:lc+Fa+ec*Mb,r:Mb}}function H(Mb,Ab,ec){var ac=Mb.x-Ab.x,lc=Mb.y-Ab.y,Ic=ac*ac+lc*lc;if(Ic){var Ec=Ab.r+ec.r;Ec*=Ec;
var Rc=Mb.r+ec.r;Rc*=Rc;if(Ec>Rc){var id=(Ic+Rc-Ec)/(2*Ic);Ec=Math.sqrt(Math.max(0,Rc/Ic-id*id));ec.x=Mb.x-id*ac-Ec*lc;ec.y=Mb.y-id*lc+Ec*ac}else id=(Ic+Ec-Rc)/(2*Ic),Ec=Math.sqrt(Math.max(0,Ec/Ic-id*id)),ec.x=Ab.x+id*ac-Ec*lc,ec.y=Ab.y+id*lc+Ec*ac}else ec.x=Ab.x+ec.r,ec.y=Ab.y}function M(Mb,Ab){var ec=Mb.r+Ab.r-1E-6,ac=Ab.x-Mb.x;Mb=Ab.y-Mb.y;return 0<ec&&ec*ec>ac*ac+Mb*Mb}function R(Mb){var Ab=Mb._,ec=Mb.next._,ac=Ab.r+ec.r;Mb=(Ab.x*ec.r+ec.x*Ab.r)/ac;Ab=(Ab.y*ec.r+ec.y*Ab.r)/ac;return Mb*Mb+Ab*
Ab}function Z(Mb){this._=Mb;this.previous=this.next=null}function T(Mb){if(!(ec=(Mb="object"===typeof Mb&&"length"in Mb?Mb:Array.from(Mb)).length))return 0;var Ab,ec;var ac=Mb[0];ac.x=0;ac.y=0;if(!(1<ec))return ac.r;var lc=Mb[1];ac.x=-lc.r;lc.x=ac.r;lc.y=0;if(!(2<ec))return ac.r+lc.r;H(lc,ac,Ab=Mb[2]);ac=new Z(ac);lc=new Z(lc);Ab=new Z(Ab);ac.next=Ab.previous=lc;lc.next=ac.previous=Ab;Ab.next=lc.previous=ac;var Ic=3;a:for(;Ic<ec;++Ic){H(ac._,lc._,Ab=Mb[Ic]);Ab=new Z(Ab);var Ec=lc.next;var Rc=ac.previous;
var id=lc._.r;var Td=ac._.r;do if(id<=Td){if(M(Ec._,Ab._)){lc=Ec;ac.next=lc;lc.previous=ac;--Ic;continue a}id+=Ec._.r;Ec=Ec.next}else{if(M(Rc._,Ab._)){ac=Rc;ac.next=lc;lc.previous=ac;--Ic;continue a}Td+=Rc._.r;Rc=Rc.previous}while(Ec!==Rc.next);Ab.previous=ac;Ab.next=lc;ac.next=lc.previous=lc=Ab;for(Ec=R(ac);(Ab=Ab.next)!==lc;)(Rc=R(Ab))<Ec&&(ac=Ab,Ec=Rc);lc=ac.next}ac=[lc._];for(Ab=lc;(Ab=Ab.next)!==lc;)ac.push(Ab._);Ab=0;ac=Array.from(ac);for(lc=ac.length;lc;)Ec=Math.random()*lc--|0,Ic=ac[lc],ac[lc]=
ac[Ec],ac[Ec]=Ic;lc=ac.length;Ic=[];for(var Ea;Ab<lc;)if(Ec=ac[Ab],Ea&&J(Ea,Ec))++Ab;else{a:if(Ea=Ic,A(Ec,Ea))Ea=[Ec];else{for(Ic=0;Ic<Ea.length;++Ic)if(C(Ec,Ea[Ic])&&A(x(Ea[Ic],Ec),Ea)){Ea=[Ea[Ic],Ec];break a}for(Ic=0;Ic<Ea.length-1;++Ic)for(Ab=Ic+1;Ab<Ea.length;++Ab)if(C(x(Ea[Ic],Ea[Ab]),Ec)&&C(x(Ea[Ic],Ec),Ea[Ab])&&C(x(Ea[Ab],Ec),Ea[Ic])&&A(q(Ea[Ic],Ea[Ab],Ec),Ea)){Ea=[Ea[Ic],Ea[Ab],Ec];break a}throw Error();}a:{Ea=Ic=Ea;switch(Ea.length){case 1:Ea=Ea[0];Ea={x:Ea.x,y:Ea.y,r:Ea.r};break a;case 2:Ea=
x(Ea[0],Ea[1]);break a;case 3:Ea=q(Ea[0],Ea[1],Ea[2]);break a}Ea=void 0}Ab=0}Ab=Ea;for(Ic=0;Ic<ec;++Ic)ac=Mb[Ic],ac.x-=Ab.x,ac.y-=Ab.y;return Ab.r}function ba(Mb){if("function"!==typeof Mb)throw Error();return Mb}function aa(){return 0}function W(Mb){return function(){return Mb}}function X(Mb){return Math.sqrt(Mb.value)}function P(Mb){return function(Ab){Ab.children||(Ab.r=Math.max(0,+Mb(Ab)||0))}}function w(Mb,Ab){return function(ec){if(ac=ec.children){var ac,lc,Ic=ac.length,Ec=Mb(ec)*Ab||0;if(Ec)for(lc=
0;lc<Ic;++lc)ac[lc].r+=Ec;var Rc=T(ac);if(Ec)for(lc=0;lc<Ic;++lc)ac[lc].r-=Ec;ec.r=Rc+Ec}}}function B(Mb){return function(Ab){var ec=Ab.parent;Ab.r*=Mb;ec&&(Ab.x=ec.x+Mb*Ab.x,Ab.y=ec.y+Mb*Ab.y)}}function K(Mb){Mb.x0=Math.round(Mb.x0);Mb.y0=Math.round(Mb.y0);Mb.x1=Math.round(Mb.x1);Mb.y1=Math.round(Mb.y1)}function U(Mb,Ab,ec,ac,lc){var Ic=Mb.children,Ec=-1,Rc=Ic.length;for(ac=Mb.value&&(ac-Ab)/Mb.value;++Ec<Rc;)Mb=Ic[Ec],Mb.y0=ec,Mb.y1=lc,Mb.x0=Ab,Mb.x1=Ab+=Mb.value*ac}function ka(Mb){return Mb.id}
function da(Mb){return Mb.parentId}function la(){function Mb(lc){var Ic=Array.from(lc),Ec=Ab,Rc=ec,id,Td,Ea=new Map;if(null!=ac){const Tb=Ic.map(($b,Dc)=>{$b=ac($b,Dc,lc);$b=`${$b}`;Dc=$b.length;Ua($b,Dc-1)&&!Ua($b,Dc-2)&&($b=$b.slice(0,-1));return"/"===$b[0]?$b:`/${$b}`}),Ub=Tb.map(wa);Ec=(new Set(Tb)).add("");for(bb of Ub)Ec.has(bb)||(Ec.add(bb),Tb.push(bb),Ub.push(wa(bb)),Ic.push(pb));Ec=($b,Dc)=>Tb[Dc];Rc=($b,Dc)=>Ub[Dc]}var za=0;for(id=Ic.length;za<id;++za){var Fa=Ic[za];var bb=Ic[za]=new u(Fa);
if(null!=(Td=Ec(Fa,za,lc))&&(Td+="")){var lb=bb.id=Td;Ea.set(lb,Ea.has(lb)?nb:bb)}null!=(Td=Rc(Fa,za,lc))&&(Td+="")&&(bb.parent=Td)}for(za=0;za<id;++za)if(bb=Ic[za],Td=bb.parent){Ec=Ea.get(Td);if(!Ec)throw Error("missing: "+Td);if(Ec===nb)throw Error("ambiguous: "+Td);Ec.children?Ec.children.push(bb):Ec.children=[bb];bb.parent=Ec}else{if(zb)throw Error("multiple roots");var zb=bb}if(!zb)throw Error("no root");if(null!=ac){for(;zb.data===pb&&1===zb.children.length;)zb=zb.children[0],--id;for(Td=Ic.length-
1;0<=Td;--Td){bb=Ic[Td];if(bb.data!==pb)break;bb.data=null}}zb.parent=cb;zb.eachBefore(function(Tb){Tb.depth=Tb.parent.depth+1;--id}).eachBefore(z);zb.parent=null;if(0<id)throw Error("cycle");return zb}var Ab=ka,ec=da,ac;Mb.id=function(lc){return arguments.length?(Ab=null==lc?null:ba(lc),Mb):Ab};Mb.parentId=function(lc){return arguments.length?(ec=null==lc?null:ba(lc),Mb):ec};Mb.path=function(lc){return arguments.length?(ac=null==lc?null:ba(lc),Mb):ac};return Mb}function wa(Mb){let Ab=Mb.length;if(2>
Ab)return"";for(;1<--Ab&&!Ua(Mb,Ab););return Mb.slice(0,Ab)}function Ua(Mb,Ab){if("/"===Mb[Ab]){let ec=0;for(;0<Ab&&"\\"===Mb[--Ab];)++ec;if(0===(ec&1))return!0}return!1}function hb(Mb,Ab){return Mb.parent===Ab.parent?1:2}function La(Mb){var Ab=Mb.children;return Ab?Ab[0]:Mb.t}function pa(Mb){var Ab=Mb.children;return Ab?Ab[Ab.length-1]:Mb.t}function Da(Mb,Ab){this._=Mb;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ab}function Ma(Mb){Mb=new Da(Mb,
0);for(var Ab,ec=[Mb],ac,lc,Ic;Ab=ec.pop();)if(lc=Ab._.children)for(Ab.children=Array(ac=lc.length),Ic=ac-1;0<=Ic;--Ic)ec.push(ac=Ab.children[Ic]=new Da(lc[Ic],Ic)),ac.parent=Ab;(Mb.parent=new Da(null,0)).children=[Mb];return Mb}function ua(Mb,Ab,ec,ac,lc){var Ic=Mb.children,Ec=-1,Rc=Ic.length;for(lc=Mb.value&&(lc-ec)/Mb.value;++Ec<Rc;)Mb=Ic[Ec],Mb.x0=Ab,Mb.x1=ac,Mb.y0=ec,Mb.y1=ec+=Mb.value*lc}function Aa(Mb,Ab,ec,ac,lc,Ic){for(var Ec=[],Rc=Ab.children,id,Td,Ea=id=0,za=Rc.length,Fa,bb=Ab.value,lb,
zb,Tb,Ub,$b,Dc;id<za;){Ab=lc-ec;Fa=Ic-ac;do lb=Rc[Ea++].value;while(!lb&&Ea<za);zb=Tb=lb;Dc=Math.max(Fa/Ab,Ab/Fa)/(bb*Mb);Ub=lb*lb*Dc;for($b=Math.max(Tb/Ub,Ub/zb);Ea<za;++Ea){lb+=Td=Rc[Ea].value;Td<zb&&(zb=Td);Td>Tb&&(Tb=Td);Ub=lb*lb*Dc;Ub=Math.max(Tb/Ub,Ub/zb);if(Ub>$b){lb-=Td;break}$b=Ub}Ec.push(id={value:lb,dice:Ab<Fa,children:Rc.slice(id,Ea)});id.dice?U(id,ec,ac,lc,bb?ac+=Fa*lb/bb:Ic):ua(id,ec,ac,bb?ec+=Ab*lb/bb:lc,Ic);bb-=lb;id=Ea}return Ec}function qa(){function Mb(Fa){Fa.x0=Fa.y0=0;Fa.x1=lc;
Fa.y1=Ic;Fa.eachBefore(Ab);Ec=[0];ac&&Fa.eachBefore(K);return Fa}function Ab(Fa){var bb=Ec[Fa.depth],lb=Fa.x0+bb,zb=Fa.y0+bb,Tb=Fa.x1-bb,Ub=Fa.y1-bb;Tb<lb&&(lb=Tb=(lb+Tb)/2);Ub<zb&&(zb=Ub=(zb+Ub)/2);Fa.x0=lb;Fa.y0=zb;Fa.x1=Tb;Fa.y1=Ub;Fa.children&&(bb=Ec[Fa.depth+1]=Rc(Fa)/2,lb+=za(Fa)-bb,zb+=id(Fa)-bb,Tb-=Td(Fa)-bb,Ub-=Ea(Fa)-bb,Tb<lb&&(lb=Tb=(lb+Tb)/2),Ub<zb&&(zb=Ub=(zb+Ub)/2),ec(Fa,lb,zb,Tb,Ub))}var ec=nc,ac=!1,lc=1,Ic=1,Ec=[0],Rc=aa,id=aa,Td=aa,Ea=aa,za=aa;Mb.round=function(Fa){return arguments.length?
(ac=!!Fa,Mb):ac};Mb.size=function(Fa){return arguments.length?(lc=+Fa[0],Ic=+Fa[1],Mb):[lc,Ic]};Mb.tile=function(Fa){return arguments.length?(ec=ba(Fa),Mb):ec};Mb.padding=function(Fa){return arguments.length?Mb.paddingInner(Fa).paddingOuter(Fa):Mb.paddingInner()};Mb.paddingInner=function(Fa){return arguments.length?(Rc="function"===typeof Fa?Fa:W(+Fa),Mb):Rc};Mb.paddingOuter=function(Fa){return arguments.length?Mb.paddingTop(Fa).paddingRight(Fa).paddingBottom(Fa).paddingLeft(Fa):Mb.paddingTop()};
Mb.paddingTop=function(Fa){return arguments.length?(id="function"===typeof Fa?Fa:W(+Fa),Mb):id};Mb.paddingRight=function(Fa){return arguments.length?(Td="function"===typeof Fa?Fa:W(+Fa),Mb):Td};Mb.paddingBottom=function(Fa){return arguments.length?(Ea="function"===typeof Fa?Fa:W(+Fa),Mb):Ea};Mb.paddingLeft=function(Fa){return arguments.length?(za="function"===typeof Fa?Fa:W(+Fa),Mb):za};return Mb}function Ha(Mb){p.Transform.call(this,null,Mb)}function Va(){function Mb(lc,Ic){if(Ic>=ec.length)return lc;
const Ec=lc.length,Rc=ec[Ic++],id={},Td={};let Ea=-1,za,Fa,bb;for(;++Ea<Ec;)za=Rc(Fa=lc[Ea])+"",(bb=id[za])?bb.push(Fa):id[za]=[Fa];for(za in id)Td[za]=Mb(id[za],Ic);return Td}function Ab(lc,Ic){if(++Ic>ec.length)return lc;const Ec=[];for(const Rc in lc)Ec.push({key:Rc,values:Ab(lc[Rc],Ic)});return Ec}const ec=[],ac={entries:lc=>Ab(Mb(lc,0),0),key:lc=>(ec.push(lc),ac)};return ac}function eb(Mb){p.Transform.call(this,null,Mb)}function ta(Mb,Ab,ec){for(let ac,lc=0,Ic=Ab.length;lc<Ic;++lc)if(ac=Ab[lc],
ac in ec)Mb[ac](ec[ac])}function Qa(Mb){eb.call(this,Mb)}function oa(Mb){eb.call(this,Mb)}function Y(Mb){p.Transform.call(this,null,Mb)}function ja(Mb){eb.call(this,Mb)}function Ga(Mb){p.Transform.call(this,[],Mb)}function Wa(Mb){eb.call(this,Mb)}u.prototype=a.prototype={constructor:u,count:function(){return this.eachAfter(d)},each:function(Mb,Ab){let ec=-1;for(const ac of this)Mb.call(Ab,ac,++ec,this);return this},eachAfter:function(Mb,Ab){for(var ec,ac=[this],lc=[],Ic,Ec,Rc=-1;ec=ac.pop();)if(lc.push(ec),
ec=ec.children)for(Ic=0,Ec=ec.length;Ic<Ec;++Ic)ac.push(ec[Ic]);for(;ec=lc.pop();)Mb.call(Ab,ec,++Rc,this);return this},eachBefore:function(Mb,Ab){for(var ec,ac=[this],lc,Ic=-1;ec=ac.pop();)if(Mb.call(Ab,ec,++Ic,this),ec=ec.children)for(lc=ec.length-1;0<=lc;--lc)ac.push(ec[lc]);return this},find:function(Mb,Ab){let ec=-1;for(const ac of this)if(Mb.call(Ab,ac,++ec,this))return ac},sum:function(Mb){return this.eachAfter(function(Ab){for(var ec=+Mb(Ab.data)||0,ac=Ab.children,lc=ac&&ac.length;0<=--lc;)ec+=
ac[lc].value;Ab.value=ec})},sort:function(Mb){return this.eachBefore(function(Ab){Ab.children&&Ab.children.sort(Mb)})},path:function(Mb){var Ab=this;var ec=Ab;var ac=Mb;if(ec!==ac){var lc=ec.ancestors(),Ic=ac.ancestors(),Ec=null;ec=lc.pop();for(ac=Ic.pop();ec===ac;)Ec=ec,ec=lc.pop(),ac=Ic.pop();ec=Ec}for(ac=[Ab];Ab!==ec;)Ab=Ab.parent,ac.push(Ab);for(Ab=ac.length;Mb!==ec;)ac.splice(Ab,0,Mb),Mb=Mb.parent;return ac},ancestors:function(){for(var Mb=this,Ab=[Mb];Mb=Mb.parent;)Ab.push(Mb);return Ab},descendants:function(){return Array.from(this)},
leaves:function(){var Mb=[];this.eachBefore(function(Ab){Ab.children||Mb.push(Ab)});return Mb},links:function(){var Mb=this,Ab=[];Mb.each(function(ec){ec!==Mb&&Ab.push({source:ec.parent,target:ec})});return Ab},copy:function(){return a(this).eachBefore(m)},[Symbol.iterator]:function*(){var Mb,Ab=[this],ec;do{var ac=Ab.reverse();for(Ab=[];Mb=ac.pop();)if(yield Mb,Mb=Mb.children){var lc=0;for(ec=Mb.length;lc<ec;++lc)Ab.push(Mb[lc])}}while(Ab.length)}};var cb={depth:-1},nb={},pb={};Da.prototype=Object.create(u.prototype);
var Fb=(1+Math.sqrt(5))/2,nc=function ec(Ab){function ac(lc,Ic,Ec,Rc,id){Aa(Ab,lc,Ic,Ec,Rc,id)}ac.ratio=function(lc){return ec(1<(lc=+lc)?lc:1)};return ac}(Fb);Fb=function ac(ec){function lc(Ic,Ec,Rc,id,Td){if((Ea=Ic._squarify)&&Ea.ratio===ec)for(var Ea,za,Fa,bb=-1,lb,zb=Ea.length,Tb=Ic.value;++bb<zb;){Ic=Ea[bb];za=Ic.children;Fa=Ic.value=0;for(lb=za.length;Fa<lb;++Fa)Ic.value+=za[Fa].value;Ic.dice?U(Ic,Ec,Rc,id,Tb?Rc+=(Td-Rc)*Ic.value/Tb:Td):ua(Ic,Ec,Rc,Tb?Ec+=(id-Ec)*Ic.value/Tb:id,Td);Tb-=Ic.value}else Ic._squarify=
Ea=Aa(ec,Ic,Ec,Rc,id,Td),Ea.ratio=ec}lc.ratio=function(Ic){return ac(1<(Ic=+Ic)?Ic:1)};return lc}(Fb);Ha.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Lc=ec=>ec.values;n.inherits(Ha,p.Transform,{transform(ec,ac){ac.source||n.error("Nest transform requires an upstream data source.");var lc=ec.generate,Ic=ec.modified(),Ec=ac.clone(),Rc=this.value;if(!Rc||Ic||ac.changed())Rc&&Rc.each(id=>{id.children&&
p.isTuple(id.data)&&Ec.rem.push(id.data)}),this.value=Rc=a({values:n.array(ec.keys).reduce((id,Td)=>{id.key(Td);return id},Va()).entries(Ec.source)},Lc),lc&&Rc.each(id=>{id.children&&(id=p.ingest(id.data),Ec.add.push(id),Ec.source.push(id))}),v(Rc,p.tupleid,p.tupleid);Ec.source.root=Rc;return Ec}});const Ac=(ec,ac)=>ec.parent===ac.parent?1:2;n.inherits(eb,p.Transform,{transform(ec,ac){ac.source&&ac.source.root||n.error(this.constructor.name+" transform requires a backing tree data source.");const lc=
this.layout(ec.method),Ic=this.fields,Ec=ac.source.root,Rc=ec.as||Ic;ec.field?Ec.sum(ec.field):Ec.count();ec.sort&&Ec.sort(p.stableCompare(ec.sort,id=>id.data));ta(lc,this.params,ec);lc.separation&&lc.separation(!1!==ec.separation?Ac:n.one);try{this.value=lc(Ec)}catch(id){n.error(id)}Ec.each(id=>{const Td=id.data,Ea=Ic.length-1;for(let za=0;za<Ea;++za)Td[Rc[za]]=id[Ic[za]];Td[Rc[Ea]]=id.children?id.children.length:0});return ac.reflow(ec.modified()).modifies(Rc).modifies("leaf")}});var yc=["x","y",
"r","depth","children"];Qa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};n.inherits(Qa,eb,{layout:function(){function ec(Rc){Rc.x=lc/2;Rc.y=Ic/2;ac?Rc.eachBefore(P(ac)).eachAfter(w(Ec,.5)).eachBefore(B(1)):Rc.eachBefore(P(X)).eachAfter(w(aa,
1)).eachAfter(w(Ec,Rc.r/Math.min(lc,Ic))).eachBefore(B(Math.min(lc,Ic)/(2*Rc.r)));return Rc}var ac=null,lc=1,Ic=1,Ec=aa;ec.radius=function(Rc){return arguments.length?(ac=null==Rc?null:ba(Rc),ec):ac};ec.size=function(Rc){return arguments.length?(lc=+Rc[0],Ic=+Rc[1],ec):[lc,Ic]};ec.padding=function(Rc){return arguments.length?(Ec="function"===typeof Rc?Rc:W(+Rc),ec):Ec};return ec},params:["radius","size","padding"],fields:yc});yc="x0 y0 x1 y1 depth children".split(" ");oa.Definition={type:"Partition",
metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};n.inherits(oa,eb,{layout:function(){function ec(id){var Td=id.height+1;id.x0=id.y0=Ec;id.x1=lc;id.y1=Ic/Td;id.eachBefore(ac(Ic,Td));Rc&&id.eachBefore(K);return id}function ac(id,Td){return function(Ea){Ea.children&&
U(Ea,Ea.x0,id*(Ea.depth+1)/Td,Ea.x1,id*(Ea.depth+2)/Td);var za=Ea.x0,Fa=Ea.y0,bb=Ea.x1-Ec,lb=Ea.y1-Ec;bb<za&&(za=bb=(za+bb)/2);lb<Fa&&(Fa=lb=(Fa+lb)/2);Ea.x0=za;Ea.y0=Fa;Ea.x1=bb;Ea.y1=lb}}var lc=1,Ic=1,Ec=0,Rc=!1;ec.round=function(id){return arguments.length?(Rc=!!id,ec):Rc};ec.size=function(id){return arguments.length?(lc=+id[0],Ic=+id[1],ec):[lc,Ic]};ec.padding=function(id){return arguments.length?(Ec=+id,ec):Ec};return ec},params:["size","round","padding"],fields:yc});Y.Definition={type:"Stratify",
metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};n.inherits(Y,p.Transform,{transform(ec,ac){ac.source||n.error("Stratify transform requires an upstream data source.");let lc=this.value;const Ic=ec.modified(),Ec=ac.fork(ac.ALL).materialize(ac.SOURCE);ac=!lc||Ic||ac.changed(ac.ADD_REM)||ac.modified(ec.key.fields)||ac.modified(ec.parentKey.fields);Ec.source=Ec.source.slice();ac&&(lc=Ec.source.length?v(la().id(ec.key).parentId(ec.parentKey)(Ec.source),
ec.key,n.truthy):v(la()([{}]),ec.key,ec.key));Ec.source.root=this.value=lc;return Ec}});const tc={tidy:function(){function ec(Ea){var za=Ma(Ea);za.eachAfter(ac);za.parent.m=-za.z;za.eachBefore(lc);if(Td)Ea.eachBefore(Ic);else{var Fa=Ea,bb=Ea,lb=Ea;Ea.eachBefore(function($b){$b.x<Fa.x&&(Fa=$b);$b.x>bb.x&&(bb=$b);$b.depth>lb.depth&&(lb=$b)});za=Fa===bb?1:Ec(Fa,bb)/2;var zb=za-Fa.x,Tb=Rc/(bb.x+za+zb),Ub=id/(lb.depth||1);Ea.eachBefore(function($b){$b.x=($b.x+zb)*Tb;$b.y=$b.depth*Ub})}return Ea}function ac(Ea){var za=
Ea.children,Fa=Ea.parent.children,bb=Ea.i?Fa[Ea.i-1]:null;if(za){for(var lb=0,zb=0,Tb=Ea.children,Ub=Tb.length,$b;0<=--Ub;)$b=Tb[Ub],$b.z+=lb,$b.m+=lb,lb+=$b.s+(zb+=$b.c);za=(za[0].z+za[za.length-1].z)/2;bb?(Ea.z=bb.z+Ec(Ea._,bb._),Ea.m=Ea.z-za):Ea.z=za}else bb&&(Ea.z=bb.z+Ec(Ea._,bb._));za=Ea.parent;Fa=Ea.parent.A||Fa[0];if(bb){zb=lb=Ea;Tb=lb.parent.children[0];Ub=lb.m;$b=zb.m;for(var Dc=bb.m,dd=Tb.m,fd;bb=pa(bb),lb=La(lb),bb&&lb;){Tb=La(Tb);zb=pa(zb);zb.a=Ea;fd=bb.z+Dc-lb.z-Ub+Ec(bb._,lb._);if(0<
fd){var od=bb.a.parent===Ea.parent?bb.a:Fa,sd=Ea,Kd=fd,Od=Kd/(sd.i-od.i);sd.c-=Od;sd.s+=Kd;od.c+=Od;sd.z+=Kd;sd.m+=Kd;Ub+=fd;$b+=fd}Dc+=bb.m;Ub+=lb.m;dd+=Tb.m;$b+=zb.m}bb&&!pa(zb)&&(zb.t=bb,zb.m+=Dc-$b);lb&&!La(Tb)&&(Tb.t=lb,Tb.m+=Ub-dd,Fa=Ea)}za.A=Fa}function lc(Ea){Ea._.x=Ea.z+Ea.parent.m;Ea.m+=Ea.parent.m}function Ic(Ea){Ea.x*=Rc;Ea.y=Ea.depth*id}var Ec=hb,Rc=1,id=1,Td=null;ec.separation=function(Ea){return arguments.length?(Ec=Ea,ec):Ec};ec.size=function(Ea){return arguments.length?(Td=!1,Rc=
+Ea[0],id=+Ea[1],ec):Td?null:[Rc,id]};ec.nodeSize=function(Ea){return arguments.length?(Td=!0,Rc=+Ea[0],id=+Ea[1],ec):Td?[Rc,id]:null};return ec},cluster:function(){function ec(Rc){var id,Td=0;Rc.eachAfter(function(lb){var zb=lb.children;if(zb){var Tb=zb.reduce(h,0)/zb.length;lb.x=Tb;lb.y=1+zb.reduce(k,0)}else lb.x=id?Td+=ac(lb,id):0,lb.y=0,id=lb});var Ea=f(Rc),za=e(Rc),Fa=Ea.x-ac(Ea,za)/2,bb=za.x+ac(za,Ea)/2;return Rc.eachAfter(Ec?function(lb){lb.x=(lb.x-Rc.x)*lc;lb.y=(Rc.y-lb.y)*Ic}:function(lb){lb.x=
(lb.x-Fa)/(bb-Fa)*lc;lb.y=(1-(Rc.y?lb.y/Rc.y:1))*Ic})}var ac=r,lc=1,Ic=1,Ec=!1;ec.separation=function(Rc){return arguments.length?(ac=Rc,ec):ac};ec.size=function(Rc){return arguments.length?(Ec=!1,lc=+Rc[0],Ic=+Rc[1],ec):Ec?null:[lc,Ic]};ec.nodeSize=function(Rc){return arguments.length?(Ec=!0,lc=+Rc[0],Ic=+Rc[1],ec):Ec?[lc,Ic]:null};return ec}};yc=["x","y","depth","children"];ja.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:yc.length,"default":yc}]};n.inherits(ja,eb,{layout(ec){ec=ec||"tidy";if(n.hasOwnProperty(tc,ec))return tc[ec]();n.error("Unrecognized Tree layout method: "+ec)},params:["size","nodeSize"],fields:yc});Ga.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};n.inherits(Ga,p.Transform,{transform(ec,ac){ec=this.value;const lc=ac.source&&ac.source.root,Ic=ac.fork(ac.NO_SOURCE),Ec={};lc||n.error("TreeLinks transform requires a tree data source.");ac.changed(ac.ADD_REM)?(Ic.rem=ec,ac.visit(ac.SOURCE,Rc=>Ec[p.tupleid(Rc)]=1),lc.each(Rc=>{const id=Rc.data;(Rc=Rc.parent&&Rc.parent.data)&&Ec[p.tupleid(id)]&&Ec[p.tupleid(Rc)]&&Ic.add.push(p.ingest({source:Rc,target:id}))}),this.value=Ic.add):ac.changed(ac.MOD)&&(ac.visit(ac.MOD,
Rc=>Ec[p.tupleid(Rc)]=1),ec.forEach(Rc=>{(Ec[p.tupleid(Rc.source)]||Ec[p.tupleid(Rc.target)])&&Ic.mod.push(Rc)}));return Ic}});const hd={binary:function(ec,ac,lc,Ic,Ec){function Rc(bb,lb,zb,Tb,Ub,$b,Dc){if(bb>=lb-1)bb=id[bb],bb.x0=Tb,bb.y0=Ub,bb.x1=$b,bb.y1=Dc;else{for(var dd=Fa[bb],fd=zb/2+dd,od=bb+1,sd=lb-1;od<sd;){var Kd=od+sd>>>1;Fa[Kd]<fd?od=Kd+1:sd=Kd}fd-Fa[od-1]<Fa[od]-fd&&bb+1<od&&--od;dd=Fa[od]-dd;fd=zb-dd;$b-Tb>Dc-Ub?(zb=zb?(Tb*fd+$b*dd)/zb:$b,Rc(bb,od,dd,Tb,Ub,zb,Dc),Rc(od,lb,fd,zb,Ub,
$b,Dc)):(zb=zb?(Ub*fd+Dc*dd)/zb:Dc,Rc(bb,od,dd,Tb,Ub,$b,zb),Rc(od,lb,fd,Tb,zb,$b,Dc))}}var id=ec.children,Td,Ea=id.length,za,Fa=Array(Ea+1);for(Fa[0]=za=Td=0;Td<Ea;++Td)Fa[Td+1]=za+=id[Td].value;Rc(0,Ea,ec.value,ac,lc,Ic,Ec)},dice:U,slice:ua,slicedice:function(ec,ac,lc,Ic,Ec){(ec.depth&1?ua:U)(ec,ac,lc,Ic,Ec)},squarify:nc,resquarify:Fb};Fb="x0 y0 x1 y1 depth children".split(" ");Wa.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Fb.length,"default":Fb}]};n.inherits(Wa,eb,{layout(){const ec=qa();ec.ratio=ac=>{const lc=ec.tile();lc.ratio&&ec.tile(lc.ratio(ac))};ec.method=ac=>{n.hasOwnProperty(hd,ac)?ec.tile(hd[ac]):n.error("Unrecognized Treemap layout method: "+ac)};return ec},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Fb});y.nest=Ha;y.pack=Qa;y.partition=oa;y.stratify=Y;y.tree=ja;y.treelinks=Ga;y.treemap=Wa;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[35]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(28),F(26),F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r){function h(P,w){const B=P.bitmap();(w||[]).forEach(K=>B.set(P(K.boundary[0]),P(K.boundary[3])));return[B,
void 0]}function k(P,w,B,K,U){const ka=P.width,da=P.height;K=K||U;const la=n.canvas(ka,da).getContext("2d");var wa=n.canvas(ka,da).getContext("2d"),Ua=K&&n.canvas(ka,da).getContext("2d");B.forEach(Ha=>f(la,Ha,!1));f(wa,w,!1);K&&f(Ua,w,!0);w=new Uint32Array(la.getImageData(0,0,ka,da).data.buffer);B=new Uint32Array(wa.getImageData(0,0,ka,da).data.buffer);Ua=K&&new Uint32Array(Ua.getImageData(0,0,ka,da).data.buffer);wa=P.bitmap();const hb=K&&P.bitmap();let La,pa;let Da,Ma,ua,Aa;for(pa=0;pa<da;++pa)for(La=
0;La<ka;++La){var qa=pa*ka+La;Ma=w[qa]&4278190080;Aa=B[qa]&4278190080;ua=K&&Ua[qa]&4278190080;if(Ma||ua||Aa)qa=P(La),Da=P(pa),U||!Ma&&!Aa||wa.set(qa,Da),K&&(Ma||ua)&&hb.set(qa,Da)}return[wa,hb]}function f(P,w,B){if(w.length){var K=w[0].mark.marktype;"group"===K?w.forEach(U=>{U.items.forEach(ka=>f(P,ka.items,B))}):p.Marks[K].draw(P,{items:B?w.map(e):w})}}function e(P){P=v.rederive(P,{});return P.stroke&&0!==P.strokeOpacity||P.fill&&0!==P.fillOpacity?Object.assign({},P,{strokeOpacity:1,stroke:"#000",
fillOpacity:0}):P}function d(P,w){const B=new Uint32Array(~~((P*w+32)/32));return{array:B,get:(K,U)=>{K=U*P+K;return B[K>>>5]&1<<(K&31)},set:(K,U)=>{K=U*P+K;B[K>>>5]|=1<<(K&31)},clear:(K,U)=>{K=U*P+K;B[K>>>5]&=~(1<<(K&31))},getRange:(K,U,ka,da)=>{let la,wa,Ua;for(;da>=U;--da){var hb=da*P+K;la=da*P+ka;wa=hb>>>5;Ua=la>>>5;if(wa===Ua){if(B[wa]&q[hb&31]&H[(la&31)+1])return!0}else{if(B[wa]&q[hb&31]||B[Ua]&H[(la&31)+1])return!0;for(hb=wa+1;hb<Ua;++hb)if(B[hb])return!0}}return!1},setRange:(K,U,ka,da)=>{let la,
wa,Ua;for(;U<=da;++U){var hb=U*P+K;la=U*P+ka;wa=hb>>>5;Ua=la>>>5;if(wa===Ua)B[wa]|=q[hb&31]&H[(la&31)+1];else for(B[wa]|=q[hb&31],B[Ua]|=H[(la&31)+1],hb=wa+1;hb<Ua;++hb)B[hb]|=4294967295}},clearRange:(K,U,ka,da)=>{let la,wa,Ua;for(;U<=da;++U){var hb=U*P+K;la=U*P+ka;wa=hb>>>5;Ua=la>>>5;if(wa===Ua)B[wa]&=H[hb&31]|q[(la&31)+1];else for(B[wa]&=H[hb&31],B[Ua]&=q[(la&31)+1],hb=wa+1;hb<Ua;++hb)B[hb]&=0}},outOfBounds:(K,U,ka,da)=>0>K||0>U||da>=w||ka>=P}}function a(P,w,B){const K=Math.max(1,Math.sqrt(P*w/
1E6)),U=~~((P+2*B+K)/K),ka=~~((w+2*B+K)/K),da=la=>~~((la+B)/K);da.invert=la=>la*K-B;da.bitmap=()=>d(U,ka);da.ratio=K;da.padding=B;da.width=P;da.height=w;return da}function c(P,w,B,K,U,ka){B/=2;return 0>P-B||P+B>U||0>w-(B=K/2)||w+B>ka}function b(P,w,B,K,U,ka,da,la){U=U*ka/(2*K);K=P(w-U);w=P(w+U);U=P(B-(ka/=2));P=P(B+ka);return da.outOfBounds(K,U,w,P)||da.getRange(K,U,w,P)||la&&la.getRange(K,U,w,P)}function m(P,w,B,K){const U=P.width,ka=P.height,da=w[0],la=w[1],wa=K.length;return function(Ua){const hb=
Ua.boundary,La=Ua.datum.fontSize;if(0>hb[2]||0>hb[5]||hb[0]>U||hb[3]>ka)return!1;var pa;let Da=null!=(pa=Ua.textWidth)?pa:0,Ma;let ua,Aa;let qa;let Ha;let Va,eb;for(let Lc=0;Lc<wa;++Lc){pa=(B[Lc]&3)-1;Ma=(B[Lc]>>>2&3)-1;var ta=0===pa&&0===Ma||0>K[Lc];var Qa=pa&&Ma?Math.SQRT1_2:1;ua=0>K[Lc]?-1:1;Aa=hb[1+pa]+K[Lc]*pa*Qa;Ha=hb[4+Ma]+ua*La*Ma/2+K[Lc]*Ma*Qa;Qa=Ha-La/2;qa=Ha+La/2;var oa=P(Aa);Va=P(Qa);eb=P(qa);if(!Da){var Y=oa;var ja=Va;var Ga=eb;var Wa=da,cb=la,nb=ta;if(Wa.outOfBounds(Y,ja,oa,Ga)||(nb&&
cb||Wa).getRange(Y,ja,oa,Ga))continue;else Da=p.textMetrics.width(Ua.datum,Ua.datum.text)}ja=Aa+ua*Da*pa/2;Aa=ja-Da/2;Y=ja+Da/2;oa=P(Aa);Ga=P(Y);Wa=oa;cb=Ga;nb=Va;var pb=eb,Fb=da,nc=la;if(!Fb.outOfBounds(Wa,nb,cb,pb)&&!(ta&&nc||Fb).getRange(Wa,nb,cb,pb))return Ua.x=pa?0>pa*ua?Y:Aa:ja,Ua.y=Ma?0>Ma*ua?qa:Qa:Ha,Ua.align=Z[pa*ua+1],Ua.baseline=T[Ma*ua+1],da.setRange(oa,Va,Ga,eb),!0}return!1}}function z(P,w,B,K,U,ka,da,la,wa,Ua,hb){if(!P.length)return P;var La=Math.max(K.length,U.length);const pa=u(K,
La);U=C(U,La);const Da=J(P[0].datum);var Ma="group"===Da&&P[0].datum.items[wa].marktype;La="area"===Ma;const ua=A(Da,Ma,la,wa),Aa=null===Ua||Infinity===Ua;Ma=La&&"naive"===hb;let qa=-1,Ha=-1;la=P.map(ta=>{const Qa=Aa?p.textMetrics.width(ta,ta.text):void 0;qa=Math.max(qa,Qa);Ha=Math.max(Ha,ta.fontSize);return{datum:ta,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ua(ta),textWidth:Qa}});Ua=null===Ua||Infinity===Ua?Math.max(qa,Ha)+Math.max(...K):Ua;w=a(w[0],w[1],Ua);if(!Ma){B&&la.sort((ta,
Qa)=>B(ta.datum,Qa.datum));var Va=!1;for(K=0;K<U.length&&!Va;++K)Va=5===U[K]||0>pa[K];P=(Da&&da||La)&&P.map(ta=>ta.datum);Va=ka.length||P?k(w,P||[],ka,Va,La):h(w,da&&la)}const eb=La?aa[hb](w,Va,da,wa):m(w,Va,U,pa);la.forEach(ta=>ta.opacity=+eb(ta));return la}function u(P,w){const B=new Float64Array(w),K=P.length;for(let U=0;U<K;++U)B[U]=P[U]||0;for(P=K;P<w;++P)B[P]=B[K-1];return B}function C(P,w){const B=new Int8Array(w),K=P.length;for(let U=0;U<K;++U)B[U]|=ba[P[U]];for(P=K;P<w;++P)B[P]=B[K-1];return B}
function J(P){return P&&P.mark&&P.mark.marktype}function A(P,w,B,K){const U=ka=>[ka.x,ka.x,ka.x,ka.y,ka.y,ka.y];return P?"line"===P||"area"===P?ka=>U(ka.datum):"line"===w?ka=>{ka=ka.datum.items[K].items;return U(ka.length?ka["start"===B?0:ka.length-1]:{x:NaN,y:NaN})}:ka=>{ka=ka.datum.bounds;return[ka.x1,(ka.x1+ka.x2)/2,ka.x2,ka.y1,(ka.y1+ka.y2)/2,ka.y2]}:U}function x(P){v.Transform.call(this,null,P)}const q=new Uint32Array(33),H=new Uint32Array(33);H[0]=0;q[0]=~H[0];for(let P=1;32>=P;++P)H[P]=H[P-
1]<<1|1,q[P]=~H[P];const M=[-1,-1,1,1],R=[-1,1,-1,1],Z=["right","center","left"],T=["bottom","middle","top"],ba={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},aa={naive:function(P,w,B,K){const U=P.width,ka=P.height;return function(da){const la=da.datum.datum.items[K].items,wa=la.length,Ua=da.datum.fontSize,hb=p.textMetrics.width(da.datum,da.datum.text);let La=0;let pa,Da,Ma,ua,Aa;for(let Ha=0;Ha<wa;++Ha){var qa=la[Ha].x;Da=la[Ha].y;pa=void 0===
la[Ha].x2?qa:la[Ha].x2;Ma=void 0===la[Ha].y2?Da:la[Ha].y2;ua=(qa+pa)/2;Aa=(Da+Ma)/2;qa=Math.abs(pa-qa+Ma-Da);qa>=La&&(La=qa,da.x=ua,da.y=Aa)}ua=hb/2;Aa=Ua/2;qa=da.x-ua;pa=da.x+ua;Da=da.y-Aa;Ma=da.y+Aa;da.align="center";0>qa&&pa<=U?da.align="left":0<=qa&&U<pa&&(da.align="right");da.baseline="middle";0>Da&&Ma<=ka?da.baseline="top":0<=Da&&ka<Ma&&(da.baseline="bottom");return!0}},"reduced-search":function(P,w,B,K){function U(Ua,hb,La,pa,Da){Ua=P.invert(Ua);hb=P.invert(hb);let Ma=La,ua=da,Aa;if(!c(Ua,
hb,pa,Da,ka,da)&&!b(P,Ua,hb,Da,pa,Ma,la,wa)&&!b(P,Ua,hb,Da,pa,Da,la,null)){for(;1<=ua-Ma;)Aa=(Ma+ua)/2,b(P,Ua,hb,Da,pa,Aa,la,wa)?ua=Aa:Ma=Aa;if(Ma>La)return[Ua,hb,Ma,!0]}}const ka=P.width,da=P.height,la=w[0],wa=w[1];return function(Ua){const hb=Ua.datum.datum.items[K].items,La=hb.length,pa=Ua.datum.fontSize,Da=p.textMetrics.width(Ua.datum,Ua.datum.text);let Ma=B?pa:0,ua=!1,Aa=!1,qa=0;let Ha;let Va;let eb,ta,Qa,oa,Y,ja,Ga,Wa;for(let Fb=0;Fb<La;++Fb){var cb=hb[Fb].x;var nb=hb[Fb].y;Ha=void 0===hb[Fb].x2?
cb:hb[Fb].x2;Va=void 0===hb[Fb].y2?nb:hb[Fb].y2;if(cb>Ha){var pb=cb;cb=Ha;Ha=pb}nb>Va&&(pb=nb,nb=Va,Va=pb);ta=P(cb);oa=P(Ha);Qa=~~((ta+oa)/2);Y=P(nb);Ga=P(Va);ja=~~((Y+Ga)/2);for(pb=Qa;pb>=ta;--pb)for(eb=ja;eb>=Y;--eb)(Wa=U(pb,eb,Ma,Da,pa))&&([Ua.x,Ua.y,Ma,ua]=Wa);for(pb=Qa;pb<=oa;++pb)for(eb=ja;eb<=Ga;++eb)(Wa=U(pb,eb,Ma,Da,pa))&&([Ua.x,Ua.y,Ma,ua]=Wa);ua||B||(pb=Math.abs(Ha-cb+Va-nb),cb=(cb+Ha)/2,nb=(nb+Va)/2,pb>=qa&&!c(cb,nb,Da,pa,ka,da)&&!b(P,cb,nb,pa,Da,pa,la,null)&&(qa=pb,Ua.x=cb,Ua.y=nb,Aa=
!0))}return ua||Aa?(cb=Da/2,nb=pa/2,la.setRange(P(Ua.x-cb),P(Ua.y-nb),P(Ua.x+cb),P(Ua.y+nb)),Ua.align="center",Ua.baseline="middle",!0):!1}},floodfill:function(P,w,B,K){const U=P.width,ka=P.height,da=w[0],la=w[1],wa=P.bitmap();return function(Ua){const hb=Ua.datum.datum.items[K].items,La=hb.length,pa=Ua.datum.fontSize,Da=p.textMetrics.width(Ua.datum,Ua.datum.text),Ma=[];let ua=B?pa:0,Aa=!1,qa=!1,Ha=0,Va,eb,ta,Qa,oa,Y;var ja;for(let cb=0;cb<La;++cb){Va=hb[cb].x;ta=hb[cb].y;eb=void 0===hb[cb].x2?Va:
hb[cb].x2;Qa=void 0===hb[cb].y2?ta:hb[cb].y2;for(Ma.push([P((Va+eb)/2),P((ta+Qa)/2)]);Ma.length;)if([Ga,Wa]=Ma.pop(),!(da.get(Ga,Wa)||la.get(Ga,Wa)||wa.get(Ga,Wa))){wa.set(Ga,Wa);for(ja=0;4>ja;++ja)oa=Ga+M[ja],Y=Wa+R[ja],wa.outOfBounds(oa,Y,oa,Y)||Ma.push([oa,Y]);oa=P.invert(Ga);Y=P.invert(Wa);var Ga=ua;var Wa=ka;if(!c(oa,Y,Da,pa,U,ka)&&!b(P,oa,Y,pa,Da,Ga,da,la)&&!b(P,oa,Y,pa,Da,pa,da,null)){for(;1<=Wa-Ga;)ja=(Ga+Wa)/2,b(P,oa,Y,pa,Da,ja,da,la)?Wa=ja:Ga=ja;Ga>ua&&(Ua.x=oa,Ua.y=Y,ua=Ga,Aa=!0)}}Aa||
B||(Ga=Math.abs(eb-Va+Qa-ta),oa=(Va+eb)/2,Y=(ta+Qa)/2,Ga>=Ha&&!c(oa,Y,Da,pa,U,ka)&&!b(P,oa,Y,pa,Da,pa,da,null)&&(Ha=Ga,Ua.x=oa,Ua.y=Y,qa=!0))}return Aa||qa?(oa=Da/2,Y=pa/2,da.setRange(P(Ua.x-oa),P(Ua.y-Y),P(Ua.x+oa),P(Ua.y+Y)),Ua.align="center",Ua.baseline="middle",!0):!1}}},W=["x","y","opacity","align","baseline"],X="top-left left bottom-left top bottom top-right right bottom-right".split(" ");x.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:X},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:W.length,default:W}]};
r.inherits(x,v.Transform,{transform(P,w){function B(ka){ka=P[ka];return r.isFunction(ka)&&w.modified(ka.fields)}const K=P.modified();if(K||w.changed(w.ADD_REM)||B("sort")){P.size&&2===P.size.length||r.error("Size parameter should be specified as a [width, height] array.");var U=P.as||W;z(w.materialize(w.SOURCE).source||[],P.size,P.sort,r.array(null==P.offset?1:P.offset),r.array(P.anchor||X),P.avoidMarks||[],!1!==P.avoidBaseMark,P.lineAnchor||"end",P.markIndex||0,void 0===P.padding?0:P.padding,P.method||
"naive").forEach(ka=>{const da=ka.datum;da[U[0]]=ka.x;da[U[1]]=ka.y;da[U[2]]=ka.opacity;da[U[3]]=ka.align;da[U[4]]=ka.baseline});return w.reflow(K).modifies(U)}}});y.label=x;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[36]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(24),F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega))})(this,function(y,p,n,v){function r(e,d){var a=[],c=function(A){return A(u)},b;if(null==d)a.push(e);else{var m={};var z=0;for(b=e.length;z<b;++z){var u=e[z];var C=d.map(c);var J=m[C];
J||(m[C]=J=[],J.dims=C,a.push(J));J.push(u)}}return a}function h(e){n.Transform.call(this,null,e)}function k(e){n.Transform.call(this,null,e)}h.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};v.inherits(h,n.Transform,{transform(e,d){const a=d.fork(d.NO_SOURCE|d.NO_FIELDS);if(!this.value||d.changed()||
e.modified()){d=d.materialize(d.SOURCE).source;d=r(d,e.groupby);const c=(e.groupby||[]).map(v.accessorName),b=c.length,m=e.as||[v.accessorName(e.x),v.accessorName(e.y)],z=[];d.forEach(u=>{p.regressionLoess(u,e.x,e.y,e.bandwidth||.3).forEach(C=>{const J={};for(let A=0;A<b;++A)J[c[A]]=u.dims[A];J[m[0]]=C[0];J[m[1]]=C[1];z.push(n.ingest(J))})});this.value&&(a.rem=this.value);this.value=a.add=a.source=z}return a}});const f={linear:p.regressionLinear,log:p.regressionLog,exp:p.regressionExp,pow:p.regressionPow,
quad:p.regressionQuad,poly:p.regressionPoly};k.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(f)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};v.inherits(k,n.Transform,{transform(e,d){const a=
d.fork(d.NO_SOURCE|d.NO_FIELDS);if(!this.value||d.changed()||e.modified()){var c=d.materialize(d.SOURCE).source;c=r(c,e.groupby);const b=(e.groupby||[]).map(v.accessorName),m=e.method||"linear",z=e.order||3,u="poly"===m?z:"quad"===m?2:1,C=e.as||[v.accessorName(e.x),v.accessorName(e.y)],J=f[m],A=[];let x=e.extent;v.hasOwnProperty(f,m)||v.error("Invalid regression method: "+m);null!=x&&"log"===m&&0>=x[0]&&(d.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),x=null);c.forEach(q=>
{if(q.length<=u)d.dataflow.warn("Skipping regression with more parameters than data points.");else{var H=J(q,e.x,e.y,z);if(e.params)A.push(n.ingest({keys:q.dims,coef:H.coef,rSquared:H.rSquared}));else{var M=x||v.extent(q,e.x),R=Z=>{const T={};for(let ba=0;ba<b.length;++ba)T[b[ba]]=q.dims[ba];T[C[0]]=Z[0];T[C[1]]=Z[1];A.push(n.ingest(T))};"linear"===m?M.forEach(Z=>R([Z,H.predict(Z)])):p.sampleCurve(H.predict,M,25,200).forEach(R)}}});this.value&&(a.rem=this.value);this.value=a.add=a.source=A}return a}});
y.loess=h;y.regression=k;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[37]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega))})(this,function(y,p,n){function v(w,B,K,U,ka){let da,la;let wa=B[0],Ua=U[0],hb=0,La=0;Ua>wa===Ua>-wa?(da=wa,wa=B[++hb]):(da=Ua,Ua=U[++La]);let pa=0;if(hb<w&&La<K){if(Ua>wa===Ua>-wa){la=
wa+da;var Da=da-(la-wa);wa=B[++hb]}else la=Ua+da,Da=da-(la-Ua),Ua=U[++La];da=la;for(0!==Da&&(ka[pa++]=Da);hb<w&&La<K;)Ua>wa===Ua>-wa?(la=da+wa,Da=la-da,Da=da-(la-Da)+(wa-Da),wa=B[++hb]):(la=da+Ua,Da=la-da,Da=da-(la-Da)+(Ua-Da),Ua=U[++La]),da=la,0!==Da&&(ka[pa++]=Da)}for(;hb<w;)la=da+wa,Da=la-da,Da=da-(la-Da)+(wa-Da),wa=B[++hb],da=la,0!==Da&&(ka[pa++]=Da);for(;La<K;)la=da+Ua,Da=la-da,Da=da-(la-Da)+(Ua-Da),Ua=U[++La],da=la,0!==Da&&(ka[pa++]=Da);if(0!==da||0===pa)ka[pa++]=da;return pa}function r(w,B,
K,U,ka,da){var la=(B-da)*(K-ka),wa=(w-ka)*(U-da),Ua=la-wa;if(0===la||0===wa||0<la!==0<wa)return Ua;la=Math.abs(la+wa);if(Math.abs(Ua)>=3.3306690738754716E-16*la)return Ua;{let Aa;Ua=w-ka;const qa=K-ka;wa=B-da;const Ha=U-da;var hb=Ua*Ha;var La=134217729*Ua;var pa=La-(La-Ua);var Da=Ua-pa;La=134217729*Ha;La-=La-Ha;Aa=Ha-La;var Ma=Da*Aa-(hb-pa*La-Da*La-pa*Aa);var ua=wa*qa;La=134217729*wa;pa=La-(La-wa);Da=wa-pa;La=134217729*qa;La-=La-qa;Aa=qa-La;La=Da*Aa-(ua-pa*La-Da*La-pa*Aa);Da=Ma-La;pa=Ma-Da;C[0]=Ma-
(Da+pa)+(pa-La);Ma=hb+Da;pa=Ma-hb;hb=hb-(Ma-pa)+(Da-pa);Da=hb-ua;pa=hb-Da;C[1]=hb-(Da+pa)+(pa-ua);ua=Ma+Da;pa=ua-Ma;C[2]=Ma-(ua-pa)+(Da-pa);C[3]=ua;ua=C[0];for(hb=1;4>hb;hb++)ua+=C[hb];hb=2.2204460492503146E-16*la;ua>=hb||-ua>=hb?U=ua:(pa=w-Ua,w=w-(Ua+pa)+(pa-ka),pa=K-qa,K=K-(qa+pa)+(pa-ka),pa=B-wa,B=B-(wa+pa)+(pa-da),pa=U-Ha,U=U-(Ha+pa)+(pa-da),0===w&&0===B&&0===K&&0===U?U=ua:(hb=1.1093356479670487E-31*la+3.3306690738754706E-16*Math.abs(ua),ua+=Ua*U+Ha*w-(wa*K+qa*B),ua>=hb||-ua>=hb?U=ua:(hb=w*Ha,
La=134217729*w,pa=La-(La-w),Da=w-pa,La=134217729*Ha,La-=La-Ha,Aa=Ha-La,Ma=Da*Aa-(hb-pa*La-Da*La-pa*Aa),ua=B*qa,La=134217729*B,pa=La-(La-B),Da=B-pa,La=134217729*qa,La-=La-qa,Aa=qa-La,La=Da*Aa-(ua-pa*La-Da*La-pa*Aa),Da=Ma-La,pa=Ma-Da,q[0]=Ma-(Da+pa)+(pa-La),Ma=hb+Da,pa=Ma-hb,hb=hb-(Ma-pa)+(Da-pa),Da=hb-ua,pa=hb-Da,q[1]=hb-(Da+pa)+(pa-ua),ua=Ma+Da,pa=ua-Ma,q[2]=Ma-(ua-pa)+(Da-pa),q[3]=ua,da=v(4,C,4,q,J),hb=Ua*U,La=134217729*Ua,pa=La-(La-Ua),Da=Ua-pa,La=134217729*U,La-=La-U,Aa=U-La,Ma=Da*Aa-(hb-pa*La-
Da*La-pa*Aa),ua=wa*K,La=134217729*wa,pa=La-(La-wa),Da=wa-pa,La=134217729*K,La-=La-K,Aa=K-La,La=Da*Aa-(ua-pa*La-Da*La-pa*Aa),Da=Ma-La,pa=Ma-Da,q[0]=Ma-(Da+pa)+(pa-La),Ma=hb+Da,pa=Ma-hb,hb=hb-(Ma-pa)+(Da-pa),Da=hb-ua,pa=hb-Da,q[1]=hb-(Da+pa)+(pa-ua),ua=Ma+Da,pa=ua-Ma,q[2]=Ma-(ua-pa)+(Da-pa),q[3]=ua,da=v(da,J,4,q,A),hb=w*U,La=134217729*w,pa=La-(La-w),Da=w-pa,La=134217729*U,La-=La-U,Aa=U-La,Ma=Da*Aa-(hb-pa*La-Da*La-pa*Aa),ua=B*K,La=134217729*B,pa=La-(La-B),Da=B-pa,La=134217729*K,La-=La-K,Aa=K-La,La=Da*
Aa-(ua-pa*La-Da*La-pa*Aa),Da=Ma-La,pa=Ma-Da,q[0]=Ma-(Da+pa)+(pa-La),Ma=hb+Da,pa=Ma-hb,hb=hb-(Ma-pa)+(Da-pa),Da=hb-ua,pa=hb-Da,q[1]=hb-(Da+pa)+(pa-ua),ua=Ma+Da,pa=ua-Ma,q[2]=Ma-(ua-pa)+(Da-pa),q[3]=ua,U=v(da,A,4,q,x),U=x[U-1])))}return-U}function h(w,B,K,U){w-=K;B-=U;return w*w+B*B}function k(w,B,K,U){if(20>=U-K)for(var ka=K+1;ka<=U;ka++){for(var da=w[ka],la=B[da],wa=ka-1;wa>=K&&B[w[wa]]>la;)w[wa+1]=w[wa--];w[wa+1]=da}else{ka=K+1;da=U;f(w,K+U>>1,ka);B[w[K]]>B[w[U]]&&f(w,K,U);B[w[ka]]>B[w[U]]&&f(w,
ka,U);B[w[K]]>B[w[ka]]&&f(w,K,ka);la=w[ka];for(wa=B[la];;){do ka++;while(B[w[ka]]<wa);do da--;while(B[w[da]]>wa);if(da<ka)break;f(w,ka,da)}w[K+1]=w[da];w[da]=la;U-ka+1>=da-K?(k(w,B,ka,U),k(w,B,K,da-1)):(k(w,B,K,da-1),k(w,B,ka,U))}}function f(w,B,K){const U=w[B];w[B]=w[K];w[K]=U}function e(w){return w[0]}function d(w){return w[1]}function a(w){return w[0]}function c(w){return w[1]}function b(w){const {triangles:B,coords:K}=w;for(w=0;w<B.length;w+=3){const U=2*B[w],ka=2*B[w+1],da=2*B[w+2];if(1E-10<
(K[da]-K[U])*(K[ka+1]-K[U+1])-(K[ka]-K[U])*(K[da+1]-K[U+1]))return!1}return!0}function m(w,B,K){return[w+Math.sin(w+B)*K,B+Math.cos(w-B)*K]}function*z(w,B,K,U){let ka=0;for(const da of w)yield B.call(U,da,ka,w),yield K.call(U,da,ka,w),++ka}function u(w){p.Transform.call(this,null,w)}const C=new Float64Array(4),J=new Float64Array(8),A=new Float64Array(12),x=new Float64Array(16),q=new Float64Array(4),H=Math.pow(2,-52),M=new Uint32Array(512);class R{static from(w,B=e,K=d){const U=w.length,ka=new Float64Array(2*
U);for(let da=0;da<U;da++){const la=w[da];ka[2*da]=B(la);ka[2*da+1]=K(la)}return new R(ka)}constructor(w){const B=w.length>>1;if(0<B&&"number"!==typeof w[0])throw Error("Expected coords to contain numbers.");this.coords=w;w=Math.max(2*B-5,0);this._triangles=new Uint32Array(3*w);this._halfedges=new Int32Array(3*w);this._hashSize=Math.ceil(Math.sqrt(B));this._hullPrev=new Uint32Array(B);this._hullNext=new Uint32Array(B);this._hullTri=new Uint32Array(B);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);
this._ids=new Uint32Array(B);this._dists=new Float64Array(B);this.update()}update(){const {coords:w,_hullPrev:B,_hullNext:K,_hullTri:U,_hullHash:ka}=this;var da=w.length>>1,la=Infinity,wa=Infinity,Ua=-Infinity,hb=-Infinity;for(var La=0;La<da;La++){var pa=w[2*La];var Da=w[2*La+1];pa<la&&(la=pa);Da<wa&&(wa=Da);pa>Ua&&(Ua=pa);Da>hb&&(hb=Da);this._ids[La]=La}Ua=(la+Ua)/2;wa=(wa+hb)/2;la=Infinity;for(hb=0;hb<da;hb++)if(La=h(Ua,wa,w[2*hb],w[2*hb+1]),La<la){var Ma=hb;la=La}wa=w[2*Ma];hb=w[2*Ma+1];la=Infinity;
for(Ua=0;Ua<da;Ua++)if(Ua!==Ma&&(La=h(wa,hb,w[2*Ua],w[2*Ua+1]),La<la&&0<La)){var ua=Ua;la=La}la=w[2*ua];Ua=w[2*ua+1];Da=Infinity;for(La=0;La<da;La++)if(La!==Ma&&La!==ua){pa=la-wa;var Aa=Ua-hb;var qa=w[2*La]-wa;var Ha=w[2*La+1]-hb,Va=pa*pa+Aa*Aa,eb=qa*qa+Ha*Ha,ta=.5/(pa*Ha-Aa*qa);Aa=(Ha*Va-Aa*eb)*ta;pa=(pa*eb-qa*Va)*ta;pa=Aa*Aa+pa*pa;if(pa<Da){var Qa=La;Da=pa}}La=w[2*Qa];pa=w[2*Qa+1];if(Infinity===Da){for(Ma=0;Ma<da;Ma++)this._dists[Ma]=w[2*Ma]-w[0]||w[2*Ma+1]-w[1];k(this._ids,this._dists,0,da-1);
Ma=new Uint32Array(da);ua=0;for(let oa=0,Y=-Infinity;oa<da;oa++)Qa=this._ids[oa],this._dists[Qa]>Y&&(Ma[ua++]=Qa,Y=this._dists[Qa]);this.hull=Ma.subarray(0,ua);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>r(wa,hb,la,Ua,La,pa)&&(Da=ua,qa=la,Va=Ua,ua=Qa,la=La,Ua=pa,Qa=Da,La=qa,pa=Va);qa=la-wa;Da=Ua-hb;Va=La-wa;Ha=pa-hb;eb=qa*qa+Da*Da;ta=Va*Va+Ha*Ha;Aa=.5/(qa*Ha-Da*Va);Da=wa+(Ha*eb-Da*ta)*Aa;qa=hb+(qa*ta-Va*eb)*Aa;this._cx=Da;this._cy=qa;for(Va=0;Va<da;Va++)this._dists[Va]=
h(w[2*Va],w[2*Va+1],Da,qa);k(this._ids,this._dists,0,da-1);this._hullStart=Ma;da=3;K[Ma]=B[Qa]=ua;K[ua]=B[Ma]=Qa;K[Qa]=B[ua]=Ma;U[Ma]=0;U[ua]=1;U[Qa]=2;ka.fill(-1);ka[this._hashKey(wa,hb)]=Ma;ka[this._hashKey(la,Ua)]=ua;ka[this._hashKey(La,pa)]=Qa;this.trianglesLen=0;this._addTriangle(Ma,ua,Qa,-1,-1,-1);for(let oa=0,Y,ja;oa<this._ids.length;oa++){wa=this._ids[oa];hb=w[2*wa];la=w[2*wa+1];if(0<oa&&Math.abs(hb-Y)<=H&&Math.abs(la-ja)<=H)continue;Y=hb;ja=la;if(wa===Ma||wa===ua||wa===Qa)continue;Ua=0;for(let Wa=
0,cb=this._hashKey(hb,la);Wa<this._hashSize&&(Ua=ka[(cb+Wa)%this._hashSize],-1===Ua||Ua===K[Ua]);Wa++);La=Ua=B[Ua];let Ga;for(;Ga=K[La],0<=r(hb,la,w[2*La],w[2*La+1],w[2*Ga],w[2*Ga+1]);)if(La=Ga,La===Ua){La=-1;break}if(-1!==La){pa=this._addTriangle(La,wa,K[La],-1,-1,U[La]);U[wa]=this._legalize(pa+2);U[La]=pa;da++;for(Da=K[La];Ga=K[Da],0>r(hb,la,w[2*Da],w[2*Da+1],w[2*Ga],w[2*Ga+1]);)pa=this._addTriangle(Da,wa,Ga,U[wa],-1,U[Da]),U[wa]=this._legalize(pa+2),K[Da]=Da,da--,Da=Ga;if(La===Ua)for(;Ga=B[La],
0>r(hb,la,w[2*Ga],w[2*Ga+1],w[2*La],w[2*La+1]);)pa=this._addTriangle(Ga,wa,La,-1,U[La],U[Ga]),this._legalize(pa+2),U[Ga]=pa,K[La]=La,da--,La=Ga;this._hullStart=B[wa]=La;K[La]=B[Da]=wa;K[wa]=Da;ka[this._hashKey(hb,la)]=wa;ka[this._hashKey(w[2*La],w[2*La+1])]=La}}this.hull=new Uint32Array(da);for(let oa=0,Y=this._hullStart;oa<da;oa++)this.hull[oa]=Y,Y=K[Y];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(w,B){var K=Math;
w-=this._cx;B-=this._cy;w/=Math.abs(w)+Math.abs(B);return K.floor.call(K,(0<B?3-w:1+w)/4*this._hashSize)%this._hashSize}_legalize(w){const {_triangles:B,_halfedges:K,coords:U}=this;let ka=0;for(var da;;){const Da=K[w];var la=w-w%3;da=la+(w+2)%3;if(-1===Da){if(0===ka)break;w=M[--ka];continue}const Ma=Da-Da%3,ua=Ma+(Da+2)%3;var wa=B[da],Ua=B[w],hb=B[la+(w+1)%3];la=B[ua];var La=U[2*la],pa=U[2*la+1];const Aa=U[2*wa]-La,qa=U[2*wa+1]-pa,Ha=U[2*Ua]-La;Ua=U[2*Ua+1]-pa;La=U[2*hb]-La;pa=U[2*hb+1]-pa;hb=Ha*
Ha+Ua*Ua;const Va=La*La+pa*pa;if(0>Aa*(Ua*Va-hb*pa)-qa*(Ha*Va-hb*La)+(Aa*Aa+qa*qa)*(Ha*pa-Ua*La)){B[w]=la;B[Da]=wa;wa=K[ua];if(-1===wa){la=this._hullStart;do{if(this._hullTri[la]===ua){this._hullTri[la]=w;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(w,wa);this._link(Da,K[da]);this._link(da,ua);da=Ma+(Da+1)%3;ka<M.length&&(M[ka++]=da)}else{if(0===ka)break;w=M[--ka]}}return da}_link(w,B){this._halfedges[w]=B;-1!==B&&(this._halfedges[B]=w)}_addTriangle(w,B,K,U,ka,da){const la=this.trianglesLen;
this._triangles[la]=w;this._triangles[la+1]=B;this._triangles[la+2]=K;this._link(la,U);this._link(la+1,ka);this._link(la+2,da);this.trianglesLen+=3;return la}}class Z{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(w,B){this._+=`M${this._x0=this._x1=+w},${this._y0=this._y1=+B}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(w,B){this._+=`L${this._x1=+w},${this._y1=+B}`}arc(w,B,K){w=+w;B=+B;K=+K;const U=w+K,ka=B;if(0>K)throw Error("negative radius");
if(null===this._x1)this._+=`M${U},${ka}`;else if(1E-6<Math.abs(this._x1-U)||1E-6<Math.abs(this._y1-ka))this._+="L"+U+","+ka;K&&(this._+=`A${K},${K},0,1,1,${w-K},${B}A${K},${K},0,1,1,${this._x1=U},${this._y1=ka}`)}rect(w,B,K,U){this._+=`M${this._x0=this._x1=+w},${this._y0=this._y1=+B}h${+K}v${+U}h${-K}Z`}value(){return this._||null}}class T{constructor(){this._=[]}moveTo(w,B){this._.push([w,B])}closePath(){this._.push(this._[0].slice())}lineTo(w,B){this._.push([w,B])}value(){return this._.length?this._:
null}}class ba{constructor(w,[B,K,U,ka]=[0,0,960,500]){if(!((U=+U)>=(B=+B)&&(ka=+ka)>=(K=+K)))throw Error("invalid bounds");this.delaunay=w;this._circumcenters=new Float64Array(2*w.points.length);this.vectors=new Float64Array(2*w.points.length);this.xmax=U;this.xmin=B;this.ymax=ka;this.ymin=K;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:w,hull:B,triangles:K},vectors:U}=this;var ka=this.circumcenters=this._circumcenters.subarray(0,K.length/3*
2);for(let ua=0,Aa=0,qa=K.length,Ha,Va;ua<qa;ua+=3,Aa+=2){var da=2*K[ua],la=2*K[ua+1],wa=2*K[ua+2],Ua=w[da];da=w[da+1];var hb=w[wa],La=w[wa+1],pa=w[la]-Ua,Da=w[la+1]-da;la=hb-Ua;wa=La-da;var Ma=2*(pa*wa-Da*la);1E-9>Math.abs(Ma)?(pa=1E9,Da=2*K[0],pa*=Math.sign((w[Da]-Ua)*wa-(w[Da+1]-da)*la),Ha=(Ua+hb)/2-pa*wa,Va=(da+La)/2+pa*la):(hb=1/Ma,La=pa*pa+Da*Da,Ma=la*la+wa*wa,Ha=Ua+(wa*La-Da*Ma)*hb,Va=da+(pa*Ma-la*La)*hb);ka[Aa]=Ha;ka[Aa+1]=Va}ka=B[B.length-1];da=4*ka;wa=w[2*ka];pa=w[2*ka+1];U.fill(0);for(La=
0;La<B.length;++La)ka=B[La],Ua=da,la=wa,hb=pa,da=4*ka,wa=w[2*ka],pa=w[2*ka+1],U[Ua+2]=U[da]=hb-pa,U[Ua+3]=U[da+1]=wa-la}render(w){const B=null==w?w=new Z:void 0,{delaunay:{halfedges:K,inedges:U,hull:ka},circumcenters:da,vectors:la}=this;if(1>=ka.length)return null;for(let pa=0,Da=K.length;pa<Da;++pa){var wa=K[pa];if(!(wa<pa)){var Ua=2*Math.floor(pa/3);wa=2*Math.floor(wa/3);this._renderSegment(da[Ua],da[Ua+1],da[wa],da[wa+1],w)}}Ua=ka[ka.length-1];for(wa=0;wa<ka.length;++wa){var hb=Ua;Ua=ka[wa];var La=
2*Math.floor(U[Ua]/3);const pa=da[La];La=da[La+1];hb*=4;(hb=this._project(pa,La,la[hb+2],la[hb+3]))&&this._renderSegment(pa,La,hb[0],hb[1],w)}return B&&B.value()}renderBounds(w){const B=null==w?w=new Z:void 0;w.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return B&&B.value()}renderCell(w,B){const K=null==B?B=new Z:void 0;w=this._clip(w);if(null!==w&&w.length){B.moveTo(w[0],w[1]);for(var U=w.length;w[0]===w[U-2]&&w[1]===w[U-1]&&1<U;)U-=2;for(let ka=2;ka<U;ka+=2)w[ka]===w[ka-2]&&
w[ka+1]===w[ka-1]||B.lineTo(w[ka],w[ka+1]);B.closePath();return K&&K.value()}}*cellPolygons(){var {delaunay:{points:w}}=this;for(let B=0,K=w.length/2;B<K;++B)if(w=this.cellPolygon(B))w.index=B,yield w}cellPolygon(w){const B=new T;this.renderCell(w,B);return B.value()}_renderSegment(w,B,K,U,ka){const da=this._regioncode(w,B),la=this._regioncode(K,U);if(0===da&&0===la)ka.moveTo(w,B),ka.lineTo(K,U);else if(w=this._clipSegment(w,B,K,U,da,la))ka.moveTo(w[0],w[1]),ka.lineTo(w[2],w[3])}contains(w,B,K){return(B=
+B,B!==B)||(K=+K,K!==K)?!1:this.delaunay._step(w,B,K)===w}*neighbors(w){const B=this._clip(w);if(B)for(const K of this.delaunay.neighbors(w))if(w=this._clip(K))a:for(let U=0,ka=B.length;U<ka;U+=2)for(let da=0,la=w.length;da<la;da+=2)if(B[U]==w[da]&&B[U+1]==w[da+1]&&B[(U+2)%ka]==w[(da+la-2)%la]&&B[(U+3)%ka]==w[(da+la-1)%la]){yield K;break a}}_cell(w){const {circumcenters:B,delaunay:{inedges:K,halfedges:U,triangles:ka}}=this,da=K[w];if(-1===da)return null;const la=[];let wa=da;do{const Ua=Math.floor(wa/
3);la.push(B[2*Ua],B[2*Ua+1]);wa=2===wa%3?wa-2:wa+1;if(ka[wa]!==w)break;wa=U[wa]}while(wa!==da&&-1!==wa);return la}_clip(w){if(0===w&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const B=this._cell(w);if(null===B)return null;const {vectors:K}=this,U=4*w;return K[U]||K[U+1]?this._clipInfinite(w,B,K[U],K[U+1],K[U+2],K[U+3]):this._clipFinite(w,B)}_clipFinite(w,B){const K=B.length;let U=null;let ka=B[K-2],da=B[K-1];let la=this._regioncode(ka,
da),wa=0;for(let pa=0;pa<K;pa+=2){var Ua=ka;var hb=da;ka=B[pa];da=B[pa+1];var La=la;la=this._regioncode(ka,da);if(0===La&&0===la)wa=0,U?U.push(ka,da):U=[ka,da];else{let Da,Ma;if(0===La){if(null===(Ua=this._clipSegment(Ua,hb,ka,da,La,la)))continue;[hb,La,Da,Ma]=Ua}else{if(null===(Ua=this._clipSegment(ka,da,Ua,hb,la,La)))continue;[Da,Ma,hb,La]=Ua;Ua=wa;wa=this._edgecode(hb,La);Ua&&wa&&this._edge(w,Ua,wa,U,U.length);U?U.push(hb,La):U=[hb,La]}Ua=wa;wa=this._edgecode(Da,Ma);Ua&&wa&&this._edge(w,Ua,wa,
U,U.length);U?U.push(Da,Ma):U=[Da,Ma]}}if(U)Ua=wa,wa=this._edgecode(U[0],U[1]),Ua&&wa&&this._edge(w,Ua,wa,U,U.length);else if(this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return U}_clipSegment(w,B,K,U,ka,da){for(;;){if(0===ka&&0===da)return[w,B,K,U];if(ka&da)return null;var la=void 0;let wa;la=ka||da;la&8?(la=w+(K-w)*(this.ymax-B)/(U-B),wa=this.ymax):la&4?(la=w+(K-w)*(this.ymin-B)/(U-B),wa=
this.ymin):la&2?(wa=B+(U-B)*(this.xmax-w)/(K-w),la=this.xmax):(wa=B+(U-B)*(this.xmin-w)/(K-w),la=this.xmin);ka?(w=la,B=wa,ka=this._regioncode(w,B)):(K=la,U=wa,da=this._regioncode(K,U))}}_clipInfinite(w,B,K,U,ka,da){B=Array.from(B);let la;(la=this._project(B[0],B[1],K,U))&&B.unshift(la[0],la[1]);(la=this._project(B[B.length-2],B[B.length-1],ka,da))&&B.push(la[0],la[1]);if(B=this._clipFinite(w,B))for(let wa=0,Ua=B.length,hb,La=this._edgecode(B[Ua-2],B[Ua-1]);wa<Ua;wa+=2)hb=La,La=this._edgecode(B[wa],
B[wa+1]),hb&&La&&(wa=this._edge(w,hb,La,B,wa),Ua=B.length);else this.contains(w,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(B=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return B}_edge(w,B,K,U,ka){for(;B!==K;){let da,la;switch(B){case 5:B=4;continue;case 4:B=6;da=this.xmax;la=this.ymin;break;case 6:B=2;continue;case 2:B=10;da=this.xmax;la=this.ymax;break;case 10:B=8;continue;case 8:B=9;da=this.xmin;la=this.ymax;break;case 9:B=1;continue;case 1:B=5,da=
this.xmin,la=this.ymin}U[ka]===da&&U[ka+1]===la||!this.contains(w,da,la)||(U.splice(ka,0,da,la),ka+=2)}if(4<U.length)for(w=0;w<U.length;w+=2)if(B=(w+2)%U.length,K=(w+4)%U.length,U[w]===U[B]&&U[B]===U[K]||U[w+1]===U[B+1]&&U[B+1]===U[K+1])U.splice(B,2),w-=2;return ka}_project(w,B,K,U){let ka=Infinity,da,la,wa;if(0>U){if(B<=this.ymin)return null;(da=(this.ymin-B)/U)<ka&&(wa=this.ymin,la=w+(ka=da)*K)}else if(0<U){if(B>=this.ymax)return null;(da=(this.ymax-B)/U)<ka&&(wa=this.ymax,la=w+(ka=da)*K)}if(0<
K){if(w>=this.xmax)return null;(da=(this.xmax-w)/K)<ka&&(la=this.xmax,wa=B+da*U)}else if(0>K){if(w<=this.xmin)return null;(da=(this.xmin-w)/K)<ka&&(la=this.xmin,wa=B+da*U)}return[la,wa]}_edgecode(w,B){return(w===this.xmin?1:w===this.xmax?2:0)|(B===this.ymin?4:B===this.ymax?8:0)}_regioncode(w,B){return(w<this.xmin?1:w>this.xmax?2:0)|(B<this.ymin?4:B>this.ymax?8:0)}}const aa=2*Math.PI,W=Math.pow;class X{static from(w,B=a,K=c,U){if("length"in w){const ka=w.length,da=new Float64Array(2*ka);for(let la=
0;la<ka;++la){const wa=w[la];da[2*la]=B.call(U,wa,la,w);da[2*la+1]=K.call(U,wa,la,w)}w=da}else w=Float64Array.from(z(w,B,K,U));return new X(w)}constructor(w){this._delaunator=new R(w);this.inedges=new Int32Array(w.length/2);this._hullIndex=new Int32Array(w.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var w=this._delaunator;const B=this.points;if(w.hull&&2<w.hull.length&&b(w)){this.collinear=Int32Array.from({length:B.length/
2},(la,wa)=>wa).sort((la,wa)=>B[2*la]-B[2*wa]||B[2*la+1]-B[2*wa+1]);w=this.collinear[0];var K=this.collinear[this.collinear.length-1];w=[B[2*w],B[2*w+1],B[2*K],B[2*K+1]];w=1E-8*Math.hypot(w[3]-w[1],w[2]-w[0]);for(let la=0,wa=B.length/2;la<wa;++la)K=m(B[2*la],B[2*la+1],w),B[2*la]=K[0],B[2*la+1]=K[1];this._delaunator=new R(B)}else delete this.collinear;w=this.halfedges=this._delaunator.halfedges;K=this.hull=this._delaunator.hull;const U=this.triangles=this._delaunator.triangles,ka=this.inedges.fill(-1),
da=this._hullIndex.fill(-1);for(let la=0,wa=w.length;la<wa;++la){const Ua=U[2===la%3?la-2:la+1];if(-1===w[la]||-1===ka[Ua])ka[Ua]=la}for(let la=0,wa=K.length;la<wa;++la)da[K[la]]=la;2>=K.length&&0<K.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=K[0],ka[K[0]]=1,2===K.length&&(ka[K[1]]=0,this.triangles[1]=K[1],this.triangles[2]=K[1]))}voronoi(w){return new ba(this,w)}*neighbors(w){const {inedges:B,hull:K,_hullIndex:U,halfedges:ka,
triangles:da,collinear:la}=this;if(la){var wa=la.indexOf(w);0<wa&&(yield la[wa-1]);wa<la.length-1&&(yield la[wa+1])}else{var Ua=B[w];if(-1!==Ua){var hb=Ua;do{yield(wa=da[hb]);hb=2===hb%3?hb-2:hb+1;if(da[hb]!==w)break;hb=ka[hb];if(-1===hb){w=K[(U[w]+1)%K.length];w!==wa&&(yield w);break}}while(hb!==Ua)}}}find(w,B,K=0){if((w=+w,w!==w)||(B=+B,B!==B))return-1;const U=K;let ka;for(;0<=(ka=this._step(K,w,B))&&ka!==K&&ka!==U;)K=ka;return ka}_step(w,B,K){const {inedges:U,hull:ka,_hullIndex:da,halfedges:la,
triangles:wa,points:Ua}=this;if(-1===U[w]||!Ua.length)return(w+1)%(Ua.length>>1);let hb=w,La=W(B-Ua[2*w],2)+W(K-Ua[2*w+1],2);const pa=U[w];let Da=pa;do{let Ma=wa[Da];const ua=W(B-Ua[2*Ma],2)+W(K-Ua[2*Ma+1],2);ua<La&&(La=ua,hb=Ma);Da=2===Da%3?Da-2:Da+1;if(wa[Da]!==w)break;Da=la[Da];if(-1===Da){Da=ka[(da[w]+1)%ka.length];if(Da!==Ma&&W(B-Ua[2*Da],2)+W(K-Ua[2*Da+1],2)<La)return Da;break}}while(Da!==pa);return hb}render(w){const B=null==w?w=new Z:void 0,{points:K,halfedges:U,triangles:ka}=this;for(let la=
0,wa=U.length;la<wa;++la){var da=U[la];if(da<la)continue;const Ua=2*ka[la];da=2*ka[da];w.moveTo(K[Ua],K[Ua+1]);w.lineTo(K[da],K[da+1])}this.renderHull(w);return B&&B.value()}renderPoints(w,B){void 0!==B||w&&"function"===typeof w.moveTo||(B=w,w=null);B=void 0==B?2:+B;const K=null==w?w=new Z:void 0,{points:U}=this;for(let ka=0,da=U.length;ka<da;ka+=2){const la=U[ka],wa=U[ka+1];w.moveTo(la+B,wa);w.arc(la,wa,B,0,aa)}return K&&K.value()}renderHull(w){const B=null==w?w=new Z:void 0,{hull:K,points:U}=this;
var ka=2*K[0];const da=K.length;w.moveTo(U[ka],U[ka+1]);for(ka=1;ka<da;++ka){const la=2*K[ka];w.lineTo(U[la],U[la+1])}w.closePath();return B&&B.value()}hullPolygon(){const w=new T;this.renderHull(w);return w.value()}renderTriangle(w,B){const K=null==B?B=new Z:void 0,{points:U,triangles:ka}=this,da=2*ka[w*=3],la=2*ka[w+1];w=2*ka[w+2];B.moveTo(U[da],U[da+1]);B.lineTo(U[la],U[la+1]);B.lineTo(U[w],U[w+1]);B.closePath();return K&&K.value()}*trianglePolygons(){const {triangles:w}=this;for(let B=0,K=w.length/
3;B<K;++B)yield this.trianglePolygon(B)}trianglePolygon(w){const B=new T;this.renderTriangle(w,B);return B.value()}}u.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const P=[-1E5,-1E5,1E5,1E5];n.inherits(u,
p.Transform,{transform(w,B){const K=w.as||"path",U=B.source;if(!U||!U.length)return B;var ka=w.size;ka=ka?[0,0,ka[0],ka[1]]:(ka=w.extent)?[ka[0][0],ka[0][1],ka[1][0],ka[1][1]]:P;ka=this.value=X.from(U,w.x,w.y).voronoi(ka);for(let wa=0,Ua=U.length;wa<Ua;++wa){var da=ka.cellPolygon(wa),la=U[wa];if(da){const hb=da[0][0],La=da[0][1];let pa=da.length-1;for(;da[pa][0]===hb&&da[pa][1]===La;--pa);da="M"+da.slice(0,pa+1).join("L")+"Z"}else da=null;la[K]=da}return B.reflow(w.modified()).modifies(K)}});y.voronoi=
u;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[38]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(26),F(23),F(14),F(27),F(24)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r,h){function k(){function J(w){w.width=w.height=1;var B=Math.sqrt(w.getContext("2d").getImageData(0,
0,1,1).data.length>>2);w.width=2048/B;w.height=2048/B;w=w.getContext("2d");w.fillStyle=w.strokeStyle="red";w.textAlign="center";return{context:w,ratio:B}}function A(w,B,K){for(var U=B.x,ka=B.y,da=Math.sqrt(x[0]*x[0]+x[1]*x[1]),la=aa(x),wa=.5>X()?1:-1,Ua=-wa,hb,La;hb=la(Ua+=wa);){La=~~hb[0];hb=~~hb[1];if(Math.min(Math.abs(La),Math.abs(hb))>=da)break;B.x=U+La;B.y=ka+hb;if(!(0>B.x+B.x0||0>B.y+B.y0||B.x+B.x1>x[0]||B.y+B.y1>x[1])){if(!(La=!K)){a:{La=x[0];La>>=5;hb=B.sprite;var pa=B.width>>5;var Da=B.x-
(pa<<4);for(var Ma=Da&127,ua=32-Ma,Aa=B.y1-B.y0,qa=(B.y+B.y0)*La+(Da>>5),Ha=0;Ha<Aa;Ha++){for(var Va=Da=0;Va<=pa;Va++)if((Da<<ua|(Va<pa?(Da=hb[Ha*pa+Va])>>>Ma:0))&w[qa+Va]){La=!0;break a}qa+=La}La=!1}La=!La}if(La&&(!K||B.x+B.x1>K[0].x&&B.x+B.x0<K[1].x&&B.y+B.y1>K[0].y&&B.y+B.y0<K[1].y)){K=B.sprite;U=B.width>>5;ka=x[0]>>5;Ua=B.x-(U<<4);da=Ua&127;la=32-da;wa=B.y1-B.y0;Ua=(B.y+B.y0)*ka+(Ua>>5);for(hb=0;hb<wa;hb++){for(pa=La=0;pa<=U;pa++)w[Ua+pa]=w[Ua+pa]|La<<la|(pa<U?(La=K[hb*U+pa])>>>da:0);Ua+=ka}B.sprite=
null;return!0}}}return!1}var x=[256,256],q,H,M,R,Z,T,ba,aa=d,W=[],X=Math.random,P={layout:function(){for(var w=J(p.canvas()),B=a((x[0]>>5)*x[1]),K=null,U=W.length,ka=-1,da=[],la=W.map(Ua=>({text:q(Ua),font:H(Ua),style:R(Ua),weight:Z(Ua),rotate:T(Ua),size:~~(M(Ua)+1E-14),padding:ba(Ua),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Ua})).sort((Ua,hb)=>hb.size-Ua.size);++ka<U;){var wa=la[ka];wa.x=x[0]*(X()+.5)>>1;wa.y=x[1]*(X()+.5)>>1;f(w,wa,la,ka);wa.hasText&&A(B,wa,K)&&(da.push(wa),
K?e(K,wa):K=[{x:wa.x+wa.x0,y:wa.y+wa.y0},{x:wa.x+wa.x1,y:wa.y+wa.y1}],wa.x-=x[0]>>1,wa.y-=x[1]>>1)}return da},words:function(w){return arguments.length?(W=w,P):W},size:function(w){return arguments.length?(x=[+w[0],+w[1]],P):x},font:function(w){return arguments.length?(H=c(w),P):H},fontStyle:function(w){return arguments.length?(R=c(w),P):R},fontWeight:function(w){return arguments.length?(Z=c(w),P):Z},rotate:function(w){return arguments.length?(T=c(w),P):T},text:function(w){return arguments.length?
(q=c(w),P):q},spiral:function(w){return arguments.length?(aa=z[w]||w,P):aa},fontSize:function(w){return arguments.length?(M=c(w),P):M},padding:function(w){return arguments.length?(ba=c(w),P):ba},random:function(w){return arguments.length?(X=w,P):X}};return P}function f(J,A,x,q){if(!A.sprite){var H=J.context,M=J.ratio;H.clearRect(0,0,2048/M,2048/M);var R=J=0,Z=0,T=x.length;for(--q;++q<T;){A=x[q];H.save();H.font=A.style+" "+A.weight+" "+~~((A.size+1)/M)+"px "+A.font;var ba=H.measureText(A.text+"m").width*
M;var aa=A.size<<1;if(A.rotate){var W=Math.sin(A.rotate*m),X=Math.cos(A.rotate*m),P=ba*X,w=ba*W;X*=aa;ba=aa*W;ba=Math.max(Math.abs(P+ba),Math.abs(P-ba))+31>>5<<5;aa=~~Math.max(Math.abs(w+X),Math.abs(w-X))}else ba=ba+31>>5<<5;aa>Z&&(Z=aa);2048<=J+ba&&(J=0,R+=Z,Z=0);if(2048<=R+aa)break;H.translate((J+(ba>>1))/M,(R+(aa>>1))/M);A.rotate&&H.rotate(A.rotate*m);H.fillText(A.text,0,0);A.padding&&(H.lineWidth=2*A.padding,H.strokeText(A.text,0,0));H.restore();A.width=ba;A.height=aa;A.xoff=J;A.yoff=R;A.x1=ba>>
1;A.y1=aa>>1;A.x0=-A.x1;A.y0=-A.y1;A.hasText=!0;J+=ba}T=H.getImageData(0,0,2048/M,2048/M).data;for(P=[];0<=--q;)if(A=x[q],A.hasText){ba=A.width;H=ba>>5;aa=A.y1-A.y0;for(M=0;M<aa*H;M++)P[M]=0;J=A.xoff;if(null==J)break;R=A.yoff;w=0;W=-1;for(Z=0;Z<aa;Z++){for(M=0;M<ba;M++)X=T[2048*(R+Z)+(J+M)<<2]?1<<31-M%32:0,P[H*Z+(M>>5)]|=X,w|=X;w?W=Z:(A.y0++,aa--,Z--,R++)}A.y1=A.y0+W;A.sprite=P.slice(0,(A.y1-A.y0)*H)}}}function e(J,A){var x=J[0];J=J[1];A.x+A.x0<x.x&&(x.x=A.x+A.x0);A.y+A.y0<x.y&&(x.y=A.y+A.y0);A.x+
A.x1>J.x&&(J.x=A.x+A.x1);A.y+A.y1>J.y&&(J.y=A.y+A.y1)}function d(J){var A=J[0]/J[1];return function(x){return[A*(x*=.1)*Math.cos(x),x*Math.sin(x)]}}function a(J){for(var A=[],x=-1;++x<J;)A[x]=0;return A}function c(J){return"function"===typeof J?J:function(){return J}}function b(J){n.Transform.call(this,k(),J)}var m=Math.PI/180,z={archimedean:d,rectangular:function(J){var A=4*J[0]/J[1],x=0,q=0;return function(H){var M=0>H?-1:1;switch(Math.sqrt(1+4*M*H)-M&3){case 0:x+=A;break;case 1:q+=4;break;case 2:x-=
A;break;default:q-=4}return[x,q]}}};const u="x y font fontSize fontStyle fontWeight angle".split(" "),C="text font rotate fontSize fontStyle fontWeight".split(" ");b.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},
{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":u}]};v.inherits(b,n.Transform,{transform(J,A){function x(ba){ba=J[ba];return v.isFunction(ba)&&A.modified(ba.fields)}!J.size||J.size[0]&&J.size[1]||v.error("Wordcloud size dimensions must be non-zero.");
const q=J.modified();if(q||A.changed(A.ADD_REM)||C.some(x)){var H=A.materialize(A.SOURCE).source,M=this.value,R=J.as||u,Z=J.fontSize||14,T;v.isFunction(Z)?T=J.fontSizeRange:Z=v.constant(Z);if(T){const ba=Z,aa=r.scale("sqrt")().domain(v.extent(H,ba)).range(T);Z=W=>aa(ba(W))}H.forEach(ba=>{ba[R[0]]=NaN;ba[R[1]]=NaN;ba[R[3]]=0});H=M.words(H).text(J.text).size(J.size||[500,500]).padding(J.padding||1).spiral(J.spiral||"archimedean").rotate(J.rotate||0).font(J.font||"sans-serif").fontStyle(J.fontStyle||
"normal").fontWeight(J.fontWeight||"normal").fontSize(Z).random(h.random).layout();Z=M.size();M=Z[0]>>1;Z=Z[1]>>1;T=H.length;for(let ba=0,aa,W;ba<T;++ba)aa=H[ba],W=aa.datum,W[R[0]]=aa.x+M,W[R[1]]=aa.y+Z,W[R[2]]=aa.font,W[R[3]]=aa.size,W[R[4]]=aa.style,W[R[5]]=aa.weight,W[R[6]]=aa.rotate;return A.reflow(q).modifies(R)}}});y.wordcloud=b;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[39]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(23),F(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p((y.vega=y.vega||{},y.vega.transforms={}),y.vega,y.vega))})(this,function(y,p,n){function v(){let x=8,q=[],H=new Uint32Array(0),M=r(0,x),R=r(0,x);return{data:()=>q,seen:()=>{var Z=H;var T=q.length;Z.length>=T||(T=new Z.constructor(T),T.set(Z),
Z=T);return H=Z},add(Z){for(let T=0,ba=q.length,aa=Z.length,W;T<aa;++T)W=Z[T],W._index=ba++,q.push(W)},remove(Z,T){const ba=q.length;Z=Array(ba-Z);const aa=q;let W,X,P;for(X=0;!T[X]&&X<ba;++X)Z[X]=q[X],aa[X]=X;for(P=X;X<ba;++X)W=q[X],T[X]?aa[X]=-1:(aa[X]=P,M[P]=M[X],R[P]=R[X],Z[P]=W,W._index=P++),M[X]=0;q=Z;return aa},size:()=>q.length,curr:()=>M,prev:()=>R,reset:Z=>R[Z]=M[Z],all:()=>257>x?255:65537>x?65535:4294967295,set(Z,T){M[Z]|=T},clear(Z,T){M[Z]&=~T},resize(Z,T){if(Z>M.length||T>x)x=Math.max(T,
x),M=r(Z,x,M),R=r(Z,x)}}}function r(x,q,H){x=(257>q?m:65537>q?z:u)(x);H&&x.set(H);return x}function h(x,q,H){const M=1<<q;return{one:M,zero:~M,range:H.slice(),bisect:x.bisect,index:x.index,size:x.size,onAdd(R,Z){var T=this.bisect(this.range,R.value);R=R.index;const ba=T[0];T=T[1];const aa=R.length;let W;for(W=0;W<ba;++W)Z[R[W]]|=M;for(W=T;W<aa;++W)Z[R[W]]|=M;return this}}}function k(x,q){return null==x||null==q?NaN:x<q?-1:x>q?1:x>=q?0:NaN}function f(x){function q(Z,T,ba=0,aa=Z.length){if(ba<aa){if(0!==
M(T,T))return aa;do{const W=ba+aa>>>1;0>R(Z[W],T)?ba=W+1:aa=W}while(ba<aa)}return ba}let H=x,M=x,R=x;2!==x.length&&(H=(Z,T)=>x(Z)-T,M=k,R=(Z,T)=>k(x(Z),T));return{left:q,center:function(Z,T,ba=0,aa=Z.length){aa=q(Z,T,ba,aa-1);return aa>ba&&H(Z[aa-1],T)>-H(Z[aa],T)?aa-1:aa},right:function(Z,T,ba=0,aa=Z.length){if(ba<aa){if(0!==M(T,T))return aa;do{const W=ba+aa>>>1;0>=R(Z[W],T)?ba=W+1:aa=W}while(ba<aa)}return ba}}}function e(x,q){return Array.from(q,H=>x[H])}function d(){let x=new Uint32Array(0),q=
[],H=0;return{insert:function(M,R,Z){if(!R.length)return[];const T=H,ba=R.length,aa=new Uint32Array(ba);let W=Array(ba);var X;for(X=0;X<ba;++X)W[X]=M(R[X]),aa[X]=X;W=a(W,aa);if(T){M=q;R=x;q=Array(T+ba);x=new Uint32Array(T+ba);X=W;var P=q,w=x;let B=0,K=0,U;for(U=0;B<T&&K<ba;++U)M[B]<X[K]?(P[U]=M[B],w[U]=R[B++]):(P[U]=X[K],w[U]=aa[K++]+Z);for(;B<T;++B,++U)P[U]=M[B],w[U]=R[B];for(;K<ba;++K,++U)P[U]=X[K],w[U]=aa[K]+Z}else{if(0<Z)for(X=0;X<ba;++X)aa[X]+=Z;q=W;x=aa}H=T+ba;return{index:aa,value:W}},remove:function(M,
R){const Z=H;let T,ba,aa;for(ba=0;!R[x[ba]]&&ba<Z;++ba);for(aa=ba;ba<Z;++ba)R[T=x[ba]]||(x[aa]=T,q[aa]=q[ba],++aa);H=Z-M},bisect:function(M,R){let Z;R?Z=R.length:(R=q,Z=H);return[A(R,M[0],0,Z),J(R,M[1],0,Z)]},reindex:function(M){for(let R=0,Z=H;R<Z;++R)x[R]=M[x[R]]},index:()=>x,size:()=>H}}function a(x,q){x.sort.call(q,(H,M)=>{H=x[H];M=x[M];return H<M?-1:H>M?1:0});return e(x,q)}function c(x){p.Transform.call(this,v(),x);this._dims=this._indices=null}function b(x){p.Transform.call(this,null,x)}const m=
x=>new Uint8Array(x),z=x=>new Uint16Array(x),u=x=>new Uint32Array(x),C=f(k),J=C.right,A=C.left;f(function(x){return null===x?NaN:+x}).center;c.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};n.inherits(c,p.Transform,{transform(x,q){return this._dims?x.modified("fields")||x.fields.some(H=>q.modified(H.fields))?this.reinit(x,q):this.eval(x,q):this.init(x,
q)},init(x,q){const H=x.fields,M=x.query,R=this._indices={},Z=this._dims=[],T=M.length;let ba=0;for(var aa;ba<T;++ba)aa=H[ba].fname,aa=R[aa]||(R[aa]=d()),Z.push(h(aa,ba,M[ba]));return this.eval(x,q)},reinit(x,q){const H=q.materialize().fork(),M=x.fields,R=x.query,Z=this._indices,T=this._dims,ba=this.value,aa=ba.curr(),W=ba.prev(),X=ba.all(),P=H.rem=H.add,w=H.mod,B=R.length,K={};let U;var ka;let da,la,wa,Ua;W.set(aa);q.rem.length&&(da=this.remove(x,q,H));q.add.length&&ba.add(q.add);if(q.mod.length){la=
{};var hb=q.mod;wa=0;for(ka=hb.length;wa<ka;++wa)la[hb[wa]._index]=1}for(wa=0;wa<B;++wa)if(Ua=M[wa],!T[wa]||x.modified("fields",wa)||q.modified(Ua.fields))ka=Ua.fname,(hb=K[ka])||(Z[ka]=U=d(),K[ka]=hb=U.insert(Ua,q.source,0)),T[wa]=h(U,wa,R[wa]).onAdd(hb,aa);wa=0;for(ka=ba.data().length;wa<ka;++wa)da[wa]||(W[wa]!==aa[wa]?P.push(wa):la[wa]&&aa[wa]!==X&&w.push(wa));ba.mask=(1<<B)-1;return H},eval(x,q){const H=q.materialize().fork(),M=this._dims.length;let R=0;q.rem.length&&(this.remove(x,q,H),R|=(1<<
M)-1);x.modified("query")&&!x.modified("fields")&&(R|=this.update(x,q,H));q.add.length&&(this.insert(x,q,H),R|=(1<<M)-1);q.mod.length&&(this.modify(q,H),R|=(1<<M)-1);this.value.mask=R;return H},insert(x,q,H){q=q.add;var M=this.value;const R=this._dims,Z=this._indices;x=x.fields;const T={};H=H.add;const ba=M.size()+q.length,aa=R.length;let W=M.size();M.resize(ba,aa);M.add(q);const X=M.curr(),P=M.prev(),w=M.all();for(M=0;M<aa;++M){var B=x[M].fname;B=T[B]||(T[B]=Z[B].insert(x[M],q,W));R[M].onAdd(B,X)}for(;W<
ba;++W)P[W]=w,X[W]!==w&&H.push(W)},modify(x,q){q=q.mod;var H=this.value;const M=H.curr();H=H.all();x=x.mod;let R,Z,T;R=0;for(Z=x.length;R<Z;++R)T=x[R]._index,M[T]!==H&&q.push(T)},remove(x,q,H){x=this._indices;var M=this.value;const R=M.curr(),Z=M.prev();M=M.all();const T={};H=H.rem;const ba=q.rem;let aa,W,X,P;aa=0;for(W=ba.length;aa<W;++aa)X=ba[aa]._index,T[X]=1,Z[X]=P=R[X],R[X]=M,P!==M&&H.push(X);for(X in x)x[X].remove(W,T);this.reindex(q,W,T);return T},reindex(x,q,H){const M=this._indices,R=this.value;
x.runAfter(()=>{const Z=R.remove(q,H);for(const T in M)M[T].reindex(Z)})},update(x,q,H){const M=this._dims,R=x.query;q=q.stamp;const Z=M.length;let T=0,ba,aa;for(aa=H.filters=0;aa<Z;++aa)x.modified("query",aa)&&(ba=aa,++T);if(1===T)T=M[ba].one,this.incrementOne(M[ba],R[ba],H.add,H.rem);else for(T=aa=0;aa<Z;++aa)x.modified("query",aa)&&(T|=M[aa].one,this.incrementAll(M[aa],R[aa],q,H.add),H.rem=H.add);return T},incrementAll(x,q,H,M){var R=this.value;const Z=R.seen(),T=R.curr();R=R.prev();const ba=x.index();
var aa=x.bisect(x.range),W=x.bisect(q);const X=W[0];W=W[1];const P=aa[0];aa=aa[1];const w=x.one;let B,K,U;if(X<P)for(B=X,K=Math.min(P,W);B<K;++B)U=ba[B],Z[U]!==H&&(R[U]=T[U],Z[U]=H,M.push(U)),T[U]^=w;else if(X>P)for(B=P,K=Math.min(X,aa);B<K;++B)U=ba[B],Z[U]!==H&&(R[U]=T[U],Z[U]=H,M.push(U)),T[U]^=w;if(W>aa)for(B=Math.max(X,aa),K=W;B<K;++B)U=ba[B],Z[U]!==H&&(R[U]=T[U],Z[U]=H,M.push(U)),T[U]^=w;else if(W<aa)for(B=Math.max(P,W),K=aa;B<K;++B)U=ba[B],Z[U]!==H&&(R[U]=T[U],Z[U]=H,M.push(U)),T[U]^=w;x.range=
q.slice()},incrementOne(x,q,H,M){const R=this.value.curr(),Z=x.index();var T=x.bisect(x.range),ba=x.bisect(q);const aa=ba[0];ba=ba[1];const W=T[0];T=T[1];const X=x.one;let P,w,B;if(aa<W)for(P=aa,w=Math.min(W,ba);P<w;++P)B=Z[P],R[B]^=X,H.push(B);else if(aa>W)for(P=W,w=Math.min(aa,T);P<w;++P)B=Z[P],R[B]^=X,M.push(B);if(ba>T)for(P=Math.max(aa,T),w=ba;P<w;++P)B=Z[P],R[B]^=X,H.push(B);else if(ba<T)for(P=Math.max(W,ba),w=T;P<w;++P)B=Z[P],R[B]^=X,M.push(B);x.range=q.slice()}});b.Definition={type:"ResolveFilter",
metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};n.inherits(b,p.Transform,{transform(x,q){const H=~(x.ignore||0);x=x.filter;const M=x.mask;if(0===(M&H))return q.StopPropagation;q=q.fork(q.ALL);const R=x.data(),Z=x.curr(),T=x.prev(),ba=aa=>Z[aa]&H?null:R[aa];q.filter(q.MOD,ba);M&M-1?(q.filter(q.ADD,aa=>{const W=Z[aa]&
H;return!W&&W^T[aa]&H?R[aa]:null}),q.filter(q.REM,aa=>{const W=Z[aa]&H;return!W||W^W^T[aa]&H?null:R[aa]})):(q.filter(q.ADD,ba),q.filter(q.REM,aa=>(Z[aa]&H)===M?R[aa]:null));return q.filter(q.SOURCE,aa=>ba(aa._index))}});y.crossfilter=c;y.resolvefilter=b;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[40]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega))})(this,function(y,p){function n(Aa){this.type=Aa}function v(Aa){switch(Aa.type){case "ArrayExpression":return Aa.elements;case "BinaryExpression":case "LogicalExpression":return[Aa.left,Aa.right];case "CallExpression":return[Aa.callee].concat(Aa.arguments);
case "ConditionalExpression":return[Aa.test,Aa.consequent,Aa.alternate];case "MemberExpression":return[Aa.object,Aa.property];case "ObjectExpression":return Aa.properties;case "Property":return[Aa.key,Aa.value];case "UnaryExpression":return[Aa.argument];default:return[]}}function r(Aa,qa){if(!Aa)throw Error("ASSERT: "+qa);}function h(Aa){return 48<=Aa&&57>=Aa}function k(Aa){return 0<="0123456789abcdefABCDEF".indexOf(Aa)}function f(Aa){return 0<="01234567".indexOf(Aa)}function e(Aa){return 10===Aa||
13===Aa||8232===Aa||8233===Aa}function d(Aa){return 36===Aa||95===Aa||65<=Aa&&90>=Aa||97<=Aa&&122>=Aa||92===Aa||128<=Aa&&La.test(String.fromCharCode(Aa))}function a(Aa){return 36===Aa||95===Aa||65<=Aa&&90>=Aa||97<=Aa&&122>=Aa||48<=Aa&&57>=Aa||92===Aa||128<=Aa&&pa.test(String.fromCharCode(Aa))}function c(){for(;wa<Ua;){const Aa=la.charCodeAt(wa);if(32===Aa||9===Aa||11===Aa||12===Aa||160===Aa||5760<=Aa&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(Aa)||
e(Aa))++wa;else break}}function b(Aa){var qa=0;var Ha="u"===Aa?4:2;for(Aa=0;Aa<Ha;++Aa)if(wa<Ua&&k(la[wa])){var Va=la[wa++];qa=16*qa+"0123456789abcdef".indexOf(Va.toLowerCase())}else T({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(qa)}function m(){var Aa=la.charCodeAt(wa++);var qa=String.fromCharCode(Aa);92===Aa&&(117!==la.charCodeAt(wa)&&T({},"Unexpected token %0","ILLEGAL"),++wa,(Aa=b("u"))&&"\\"!==Aa&&d(Aa.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),qa=Aa);for(;wa<Ua;){Aa=
la.charCodeAt(wa);if(!a(Aa))break;++wa;qa+=String.fromCharCode(Aa);92===Aa&&(qa=qa.substr(0,qa.length-1),117!==la.charCodeAt(wa)&&T({},"Unexpected token %0","ILLEGAL"),++wa,(Aa=b("u"))&&"\\"!==Aa&&a(Aa.charCodeAt(0))||T({},"Unexpected token %0","ILLEGAL"),qa+=Aa)}return qa}function z(){var Aa=wa,qa=la.charCodeAt(wa),Ha=la[wa];switch(qa){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++wa,{type:7,value:String.fromCharCode(qa),start:Aa,end:wa};
default:var Va=la.charCodeAt(wa+1);if(61===Va)switch(qa){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return wa+=2,{type:7,value:String.fromCharCode(qa)+String.fromCharCode(Va),start:Aa,end:wa};case 33:case 61:return wa+=2,61===la.charCodeAt(wa)&&++wa,{type:7,value:la.slice(Aa,wa),start:Aa,end:wa}}}qa=la.substr(wa,4);if("\x3e\x3e\x3e\x3d"===qa)return wa+=4,{type:7,value:qa,start:Aa,end:wa};qa=qa.substr(0,3);if("\x3e\x3e\x3e"===qa||"\x3c\x3c\x3d"===qa||"\x3e\x3e\x3d"===
qa)return wa+=3,{type:7,value:qa,start:Aa,end:wa};qa=qa.substr(0,2);if(Ha===qa[1]&&0<="+-\x3c\x3e\x26|".indexOf(Ha)||"\x3d\x3e"===qa)return wa+=2,{type:7,value:qa,start:Aa,end:wa};"//"===qa&&T({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(Ha))return++wa,{type:7,value:Ha,start:Aa,end:wa};T({},"Unexpected token %0","ILLEGAL")}function u(){var Aa=la[wa];r(h(Aa.charCodeAt(0))||"."===Aa,"Numeric literal must start with a decimal digit or a decimal point");var qa=wa;var Ha=
"";if("."!==Aa){Ha=la[wa++];Aa=la[wa];if("0"===Ha){if("x"===Aa||"X"===Aa){++wa;for(Ha="";wa<Ua&&k(la[wa]);)Ha+=la[wa++];0===Ha.length&&T({},"Unexpected token %0","ILLEGAL");d(la.charCodeAt(wa))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+Ha,16),start:qa,end:wa}}if(f(Aa)){for(Ha="0"+la[wa++];wa<Ua&&f(la[wa]);)Ha+=la[wa++];(d(la.charCodeAt(wa))||h(la.charCodeAt(wa)))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(Ha,8),octal:!0,start:qa,end:wa}}Aa&&
h(Aa.charCodeAt(0))&&T({},"Unexpected token %0","ILLEGAL")}for(;h(la.charCodeAt(wa));)Ha+=la[wa++];Aa=la[wa]}if("."===Aa){for(Ha+=la[wa++];h(la.charCodeAt(wa));)Ha+=la[wa++];Aa=la[wa]}if("e"===Aa||"E"===Aa){Ha+=la[wa++];Aa=la[wa];if("+"===Aa||"-"===Aa)Ha+=la[wa++];if(h(la.charCodeAt(wa)))for(;h(la.charCodeAt(wa));)Ha+=la[wa++];else T({},"Unexpected token %0","ILLEGAL")}d(la.charCodeAt(wa))&&T({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(Ha),start:qa,end:wa}}function C(Aa,qa){let Ha=
Aa;0<=qa.indexOf("u")&&(Ha=Ha.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Va,eb)=>{if(1114111>=parseInt(eb,16))return"x";T({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(Ha)}catch(Va){T({},"Invalid regular expression")}try{return new RegExp(Aa,qa)}catch(Va){return null}}function J(){c();if(wa>=Ua)return{type:2,start:wa,end:wa};var Aa=la.charCodeAt(wa);if(d(Aa)){Aa=wa;if(92===la.charCodeAt(wa))var qa=m();else a:{for(qa=wa++;wa<Ua;){var Ha=la.charCodeAt(wa);
if(92===Ha){wa=qa;qa=m();break a}if(a(Ha))++wa;else break}qa=la.slice(qa,wa)}return{type:1===qa.length?3:Da.hasOwnProperty(qa)?4:"null"===qa?5:"true"===qa||"false"===qa?1:3,value:qa,start:Aa,end:wa}}if(40===Aa||41===Aa||59===Aa)return z();if(39===Aa||34===Aa){var Va="";Ha=!1;Aa=la[wa];r("'"===Aa||'"'===Aa,"String literal must starts with a quote");qa=wa;for(++wa;wa<Ua;){var eb=la[wa++];if(eb===Aa){Aa="";break}else if("\\"===eb)if((eb=la[wa++])&&e(eb.charCodeAt(0)))"\r"===eb&&"\n"===la[wa]&&++wa;else switch(eb){case "u":case "x":if("{"===
la[wa]){++wa;var ta=la[wa];eb=0;for("}"===ta&&T({},"Unexpected token %0","ILLEGAL");wa<Ua;){ta=la[wa++];if(!k(ta))break;eb=16*eb+"0123456789abcdef".indexOf(ta.toLowerCase())}(1114111<eb||"}"!==ta)&&T({},"Unexpected token %0","ILLEGAL");eb=65535>=eb?String.fromCharCode(eb):String.fromCharCode((eb-65536>>10)+55296,(eb-65536&1023)+56320);Va+=eb}else Va+=b(eb);break;case "n":Va+="\n";break;case "r":Va+="\r";break;case "t":Va+="\t";break;case "b":Va+="\b";break;case "f":Va+="\f";break;case "v":Va+="\v";
break;default:f(eb)?(ta="01234567".indexOf(eb),0!==ta&&(Ha=!0),wa<Ua&&f(la[wa])&&(Ha=!0,ta=8*ta+"01234567".indexOf(la[wa++]),0<="0123".indexOf(eb)&&wa<Ua&&f(la[wa])&&(ta=8*ta+"01234567".indexOf(la[wa++]))),Va+=String.fromCharCode(ta)):Va+=eb}else if(e(eb.charCodeAt(0)))break;else Va+=eb}""!==Aa&&T({},"Unexpected token %0","ILLEGAL");return{type:8,value:Va,octal:Ha,start:qa,end:wa}}return 46===Aa?h(la.charCodeAt(wa+1))?u():z():h(Aa)?u():z()}function A(){const Aa=hb;wa=Aa.end;hb=J();wa=Aa.end;return Aa}
function x(){const Aa=wa;hb=J();wa=Aa}function q(Aa,qa,Ha){const Va=new n("||"===Aa||"\x26\x26"===Aa?"LogicalExpression":"BinaryExpression");Va.operator=Aa;Va.left=qa;Va.right=Ha;return Va}function H(Aa){const qa=new n("Identifier");qa.name=Aa;return qa}function M(Aa){const qa=new n("Literal");qa.value=Aa.value;qa.raw=la.slice(Aa.start,Aa.end);Aa.regex&&("//"===qa.raw&&(qa.raw="/(?:)/"),qa.regex=Aa.regex);return qa}function R(Aa,qa,Ha){const Va=new n("MemberExpression");Va.computed="["===Aa;Va.object=
qa;Va.property=Ha;Va.computed||(Ha.member=!0);return Va}function Z(Aa,qa,Ha){const Va=new n("Property");Va.key=qa;Va.value=Ha;Va.kind=Aa;return Va}function T(Aa,qa){var Ha=Array.prototype.slice.call(arguments,2),Va=qa.replace(/%(\d)/g,(ta,Qa)=>{r(Qa<Ha.length,"Message reference must be in range");return Ha[Qa]});var eb=Error(Va);eb.index=wa;eb.description=Va;throw eb;}function ba(Aa){2===Aa.type&&T(Aa,"Unexpected end of input");6===Aa.type&&T(Aa,"Unexpected number");8===Aa.type&&T(Aa,"Unexpected string");
3===Aa.type&&T(Aa,"Unexpected identifier");4===Aa.type&&T(Aa,"Unexpected reserved word");T(Aa,"Unexpected token %0",Aa.value)}function aa(Aa){const qa=A();7===qa.type&&qa.value===Aa||ba(qa)}function W(Aa){return 7===hb.type&&hb.value===Aa}function X(){wa=hb.start;const Aa=A();return 8===Aa.type||6===Aa.type?(Aa.octal&&T(Aa,"Octal literals are not allowed in strict mode."),M(Aa)):H(Aa.value)}function P(){if(W("(")){aa("(");var Aa=ka();aa(")");return Aa}if(W("[")){Aa=[];wa=hb.start;for(aa("[");!W("]");)W(",")?
(A(),Aa.push(null)):(Aa.push(U()),W("]")||aa(","));A();var qa=new n("ArrayExpression");qa.elements=Aa;return qa}if(W("{")){Aa=[];qa={};var Ha=String;wa=hb.start;for(aa("{");!W("}");){wa=hb.start;var Va=hb;if(3===Va.type){var eb=X();aa(":");Va=U();Va=Z("init",eb,Va)}else 2===Va.type||7===Va.type?(ba(Va),Va=void 0):(eb=X(),aa(":"),Va=U(),Va=Z("init",eb,Va));eb="Identifier"===Va.key.type?Va.key.name:Ha(Va.key.value);eb="$"+eb;Object.prototype.hasOwnProperty.call(qa,eb)?T({},"Duplicate data property in object literal not allowed in strict mode"):
qa[eb]=!0;Aa.push(Va);W("}")||aa(",")}aa("}");qa=new n("ObjectExpression");qa.properties=Aa;return qa}Aa=hb.type;wa=hb.start;if(3===Aa||Ma[hb.value])qa=H(A().value);else if(8===Aa||6===Aa)hb.octal&&T(hb,"Octal literals are not allowed in strict mode."),qa=M(A());else{if(4===Aa)throw Error("Disabled.");if(1===Aa)Aa=A(),Aa.value="true"===Aa.value,qa=M(Aa);else if(5===Aa)Aa=A(),Aa.value=null,qa=M(Aa);else if(W("/")||W("/\x3d")){var ta;hb=null;c();Aa=wa;qa=la[wa];r("/"===qa,"Regular expression literal must start with a slash");
Ha=la[wa++];for(eb=Va=!1;wa<Ua;)if(qa=la[wa++],Ha+=qa,"\\"===qa)qa=la[wa++],e(qa.charCodeAt(0))&&T({},"Invalid regular expression: missing /"),Ha+=qa;else if(e(qa.charCodeAt(0)))T({},"Invalid regular expression: missing /");else if(Va)"]"===qa&&(Va=!1);else if("/"===qa){eb=!0;break}else"["===qa&&(Va=!0);eb||T({},"Invalid regular expression: missing /");qa=Ha.substr(1,Ha.length-2);for(ta=eb="";wa<Ua;){Va=la[wa];if(!a(Va.charCodeAt(0)))break;++wa;"\\"===Va&&wa<Ua?T({},"Unexpected token %0","ILLEGAL"):
(ta+=Va,eb+=Va)}0<=ta.search(/[^gimuy]/g)&&T({},"Invalid regular expression",ta);Va=ta;ta=C(qa,Va);qa=M({literal:Ha+eb,value:ta,regex:{pattern:qa,flags:Va},start:Aa,end:wa});x()}else ba(A())}return qa}function w(){var Aa;for(Aa=P();;)if(W(".")){aa(".");wa=hb.start;var qa=A();3===qa.type||4===qa.type||1===qa.type||5===qa.type||ba(qa);qa=H(qa.value);Aa=R(".",Aa,qa)}else if(W("(")){qa=[];aa("(");if(!W(")"))for(;wa<Ua;){qa.push(U());if(W(")"))break;aa(",")}aa(")");const Ha=new n("CallExpression");Ha.callee=
Aa;Ha.arguments=qa;Aa=Ha}else if(W("["))aa("["),qa=ka(),aa("]"),Aa=R("[",Aa,qa);else break;if(7===hb.type&&(W("++")||W("--")))throw Error("Disabled.");return Aa}function B(){if(7!==hb.type&&4!==hb.type)var Aa=w();else{if(W("++")||W("--"))throw Error("Disabled.");if(W("+")||W("-")||W("~")||W("!")){var qa=A();Aa=B();qa=qa.value;const Ha=new n("UnaryExpression");Ha.operator=qa;Ha.argument=Aa;Ha.prefix=!0;Aa=Ha}else{if(4===hb.type&&"delete"===hb.value||4===hb.type&&"void"===hb.value||4===hb.type&&"typeof"===
hb.value)throw Error("Disabled.");Aa=w()}}return Aa}function K(Aa){let qa=0;if(7!==Aa.type&&4!==Aa.type)return 0;switch(Aa.value){case "||":qa=1;break;case "\x26\x26":qa=2;break;case "|":qa=3;break;case "^":qa=4;break;case "\x26":qa=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":qa=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":qa=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":qa=8;break;case "+":case "-":qa=9;break;
case "*":case "/":case "%":qa=11}return qa}function U(){var Aa=hb;var qa=B();var Ha=hb;var Va=K(Ha);if(0===Va)var eb=qa;else{Ha.prec=Va;A();Aa=[Aa,hb];var ta=B();for(eb=[qa,Ha,ta];0<(Va=K(hb));){for(;2<eb.length&&Va<=eb[eb.length-2].prec;)ta=eb.pop(),Ha=eb.pop().value,qa=eb.pop(),Aa.pop(),qa=q(Ha,qa,ta),eb.push(qa);Ha=A();Ha.prec=Va;eb.push(Ha);Aa.push(hb);qa=B();eb.push(qa)}Va=eb.length-1;qa=eb[Va];for(Aa.pop();1<Va;)Aa.pop(),qa=q(eb[Va-1].value,eb[Va-2],qa),Va-=2;eb=qa}W("?")&&(A(),Aa=U(),aa(":"),
Va=U(),qa=new n("ConditionalExpression"),qa.test=eb,qa.consequent=Aa,qa.alternate=Va,eb=qa);return eb}function ka(){const Aa=U();if(W(","))throw Error("Disabled.");return Aa}function da(Aa){function qa(Ha,Va,eb){return ta=>{let Qa=Aa(ta[0]);Va&&(Qa=Va+"("+Qa+")",0===Va.lastIndexOf("new ",0)&&(Qa="("+Qa+")"));return Qa+"."+Ha+(0>eb?"":0===eb?"()":"("+ta.slice(1).map(Aa).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",
atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(Ha){3>Ha.length&&p.error("Missing arguments to clamp function.");3<Ha.length&&p.error("Too many arguments to clamp function.");Ha=Ha.map(Aa);return"Math.max("+Ha[1]+", Math.min("+Ha[2]+","+Ha[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:qa("getDate",
"new Date",0),day:qa("getDay","new Date",0),year:qa("getFullYear","new Date",0),month:qa("getMonth","new Date",0),hours:qa("getHours","new Date",0),minutes:qa("getMinutes","new Date",0),seconds:qa("getSeconds","new Date",0),milliseconds:qa("getMilliseconds","new Date",0),time:qa("getTime","new Date",0),timezoneoffset:qa("getTimezoneOffset","new Date",0),utcdate:qa("getUTCDate","new Date",0),utcday:qa("getUTCDay","new Date",0),utcyear:qa("getUTCFullYear","new Date",0),utcmonth:qa("getUTCMonth","new Date",
0),utchours:qa("getUTCHours","new Date",0),utcminutes:qa("getUTCMinutes","new Date",0),utcseconds:qa("getUTCSeconds","new Date",0),utcmilliseconds:qa("getUTCMilliseconds","new Date",0),length:qa("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:qa("toUpperCase","String",0),lower:qa("toLowerCase","String",0),substring:qa("substring","String"),split:qa("split","String"),trim:qa("trim","String",0),regexp:"RegExp",test:qa("test","RegExp"),if:function(Ha){3>Ha.length&&p.error("Missing arguments to if function.");
3<Ha.length&&p.error("Too many arguments to if function.");Ha=Ha.map(Aa);return"("+Ha[0]+"?"+Ha[1]+":"+Ha[2]+")"}}}n.prototype.visit=function(Aa){let qa,Ha,Va;if(Aa(this))return 1;qa=v(this);Ha=0;for(Va=qa.length;Ha<Va;++Ha)if(qa[Ha].visit(Aa))return 1};var la,wa,Ua,hb,La=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
pa=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const Da={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Ma={"if":1};var ua={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};y.ASTNode=n;y.ArrayExpression="ArrayExpression";y.BinaryExpression="BinaryExpression";y.CallExpression="CallExpression";y.ConditionalExpression="ConditionalExpression";y.Identifier="Identifier";y.Literal="Literal";y.LogicalExpression="LogicalExpression";y.MemberExpression="MemberExpression";y.ObjectExpression="ObjectExpression";
y.Property="Property";y.RawCode="RawCode";y.UnaryExpression="UnaryExpression";y.codegenExpression=function(Aa){function qa(pb){if(p.isString(pb))return pb;const Fb=nb[pb.type];null==Fb&&p.error("Unsupported type: "+pb.type);return Fb(pb)}function Ha(pb){pb={code:qa(pb),globals:Object.keys(Ga),fields:Object.keys(Wa)};Ga={};Wa={};return pb}Aa=Aa||{};const Va=Aa.allowed?p.toSet(Aa.allowed):{},eb=Aa.forbidden?p.toSet(Aa.forbidden):{},ta=Aa.constants||ua,Qa=(Aa.functions||da)(qa),oa=Aa.globalvar,Y=Aa.fieldvar,
ja=p.isFunction(oa)?oa:pb=>`${oa}["${pb}"]`;let Ga={},Wa={},cb=0;const nb={Literal:pb=>pb.raw,Identifier:pb=>{pb=pb.name;if(0<cb)return pb;if(p.hasOwnProperty(eb,pb))return p.error("Illegal identifier: "+pb);if(p.hasOwnProperty(ta,pb))return ta[pb];if(p.hasOwnProperty(Va,pb))return pb;Ga[pb]=1;return ja(pb)},MemberExpression:pb=>{const Fb=!pb.computed,nc=qa(pb.object);Fb&&(cb+=1);pb=qa(pb.property);if(nc===Y){var Lc=Wa;var Ac=(Ac=pb&&pb.length-1)&&('"'===pb[0]&&'"'===pb[Ac]||"'"===pb[0]&&"'"===pb[Ac])?
pb.slice(1,-1):pb;Lc[Ac]=1}Fb&&--cb;return nc+(Fb?"."+pb:"["+pb+"]")},CallExpression:pb=>{"Identifier"!==pb.callee.type&&p.error("Illegal callee type: "+pb.callee.type);const Fb=pb.callee.name;pb=pb.arguments;const nc=p.hasOwnProperty(Qa,Fb)&&Qa[Fb];nc||p.error("Unrecognized function: "+Fb);return p.isFunction(nc)?nc(pb):nc+"("+pb.map(qa).join(",")+")"},ArrayExpression:pb=>"["+pb.elements.map(qa).join(",")+"]",BinaryExpression:pb=>"("+qa(pb.left)+" "+pb.operator+" "+qa(pb.right)+")",UnaryExpression:pb=>
"("+pb.operator+qa(pb.argument)+")",ConditionalExpression:pb=>"("+qa(pb.test)+"?"+qa(pb.consequent)+":"+qa(pb.alternate)+")",LogicalExpression:pb=>"("+qa(pb.left)+pb.operator+qa(pb.right)+")",ObjectExpression:pb=>"{"+pb.properties.map(qa).join(",")+"}",Property:pb=>{cb+=1;const Fb=qa(pb.key);--cb;return Fb+":"+qa(pb.value)}};Ha.functions=Qa;Ha.constants=ta;return Ha};y.constants=ua;y.functions=da;y.parseExpression=function(Aa){la=Aa;wa=0;Ua=la.length;hb=null;x();Aa=ka();if(2!==hb.type)throw Error("Unexpect token after expression.");
return Aa};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[41]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(40)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega))})(this,function(y,p,n){function v(a){return(c,b)=>{c=a(c);return c<b?-1:c>b?1:c>=b?0:NaN}}function r(a,c){var b=c.fields;c=c.values;for(var m=b.length,z=0,u,C;z<m;++z)if(C=b[z],C.getter=p.field.getter||p.field(C.field),
u=C.getter(a),p.isDate(u)&&(u=p.toNumber(u)),p.isDate(c[z])&&(c[z]=p.toNumber(c[z])),p.isDate(c[z][0])&&(c[z]=c[z].map(p.toNumber)),"E"===C.type){if(p.isArray(c[z])?0>c[z].indexOf(u):u!==c[z])return!1}else if("R"===C.type){if(!p.inrange(u,c[z]))return!1}else if("R-RE"===C.type){if(!p.inrange(u,c[z],!0,!1))return!1}else if("R-E"===C.type){if(!p.inrange(u,c[z],!1,!1))return!1}else if("R-LE"===C.type&&!p.inrange(u,c[z],!1,!0))return!1;return!0}const h=p.field("_vgsid_"),k=function(a){function c(z,u,
C,J){null==C&&(C=0);null==J&&(J=z.length);for(;C<J;){const A=C+J>>>1;0>m(z[A],u)?C=A+1:J=A}return C}let b=a,m=a;1===a.length&&(b=(z,u)=>a(z)-u,m=v(a));return{left:c,center:function(z,u,C,J){null==C&&(C=0);null==J&&(J=z.length);J=c(z,u,C,J-1);return J>C&&b(z[J-1],u)>-b(z[J],u)?J-1:J},right:function(z,u,C,J){null==C&&(C=0);null==J&&(J=z.length);for(;C<J;){const A=C+J>>>1;0<m(z[A],u)?J=A:C=A+1}return C}}}(h),f=k.left,e=k.right;var d={E_union:function(a,c){if(!a.length)return c;for(var b=0,m=c.length;b<
m;++b)0>a.indexOf(c[b])&&a.push(c[b]);return a},E_intersect:function(a,c){return a.length?a.filter(b=>0<=c.indexOf(b)):c},R_union:function(a,c){var b=p.toNumber(c[0]),m=p.toNumber(c[1]);b>m&&(b=c[1],m=c[0]);if(!a.length)return[b,m];a[0]>b&&(a[0]=b);a[1]<m&&(a[1]=m);return a},R_intersect:function(a,c){var b=p.toNumber(c[0]),m=p.toNumber(c[1]);b>m&&(b=c[1],m=c[0]);if(!a.length)return[b,m];if(m<a[0]||a[1]<b)return[];a[0]<b&&(a[0]=b);a[1]>m&&(a[1]=m);return a}};y.selectionIdTest=function(a,c,b){var m=
this.context.data[a];a=m?m.values.value:[];m=m?m["index:unit"]&&m["index:unit"].value:void 0;b="intersect"===b;c=h(c);const z=f(a,c);if(z===a.length||h(a[z])!==c)return!1;if(m&&b){if(1===m.size)return!0;if(e(a,c)-z<m.size)return!1}return!0};y.selectionResolve=function(a,c,b,m){a=(a=this.context.data[a])?a.values.value:[];for(var z={},u={},C={},J,A,x,q,H,M,R=a.length,Z=0,T,ba;Z<R;++Z){J=a[Z];x=J.unit;A=J.fields;J=J.values;T=0;for(ba=A.length;T<ba;++T)q=A[T],H=z[q.field]||(z[q.field]={}),M=H[x]||(H[x]=
[]),C[q.field]=q=q.type.charAt(0),q=d[q+"_union"],H[x]=q(M,p.array(J[T]));b&&(M=u[x]||(u[x]=[]),M.push(p.array(J).reduce((aa,W,X)=>(aa[A[X].field]=W,aa),{})))}c=c||"union";Object.keys(z).forEach(aa=>{z[aa]=Object.keys(z[aa]).map(W=>z[aa][W]).reduce((W,X)=>void 0===W?X:d[C[aa]+"_"+c](W,X))});a=Object.keys(u);b&&a.length&&(z[m?"vlPoint":"vlMulti"]="union"===c?{or:a.reduce((aa,W)=>(aa.push(...u[W]),aa),[])}:{and:a.map(aa=>({or:u[aa]}))});return z};y.selectionTest=function(a,c,b){var m=this.context.data[a];
a=m?m.values.value:[];m=m?m["index:unit"]&&m["index:unit"].value:void 0;b="intersect"===b;for(var z=a.length,u=0,C,J,A,x;u<z;++u)if(C=a[u],m&&b){if(J=J||{},A=J[x=C.unit]||0,-1!==A){C=r(c,C);J[x]=C?-1:++A;if(C&&1===m.size)return!0;if(!C&&A===m.get(x).count)return!1}}else if(C=r(c,C),b^C)return C;return z&&b};y.selectionTuples=function(a,c){return a.map(b=>p.extend({values:c.fields.map(m=>(m.getter||(m.getter=p.field(m.field)))(b.datum))},c))};y.selectionVisitor=function(a,c,b,m){c[0].type!==n.Literal&&
p.error("First argument to selection functions must be a string literal.");a=c[0].value;c=2<=c.length&&p.peek(c).value;const z=":"+a;"intersect"!==c||p.hasOwnProperty(m,"@unit")||(m["@unit"]=b.getData(a).indataRef(b,"unit"));p.hasOwnProperty(m,z)||(m[z]=b.getData(a).tuplesRef())};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[42]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(40),F(23),F(27),F(28),F(41),F(24),F(16)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega,y.vega,y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r,h,k,f,e){function d(Za){return(Za=
this.context.data[Za])?Za.values.value:[]}function a(Za,Db,ic){return(ic=(Za=this.context.data[Za]["index:"+Db])?Za.value.get(ic):void 0)?ic.count:ic}function c(Za,Db){const ic=this.context.dataflow;ic.pulse(this.context.data[Za].input,ic.changeset().remove(p.truthy).insert(Db));return 1}function b(Za,Db,ic){if(Za){const ud=this.context.dataflow;ud.pulse(Za.mark.source,ud.changeset().encode(Za,Db))}return void 0!==ic?ic:Za}function m(Za,Db,ic){if(!Number.isInteger(Za)||!Number.isInteger(Db))return"";
Zb.setYear(2E3);Zb.setMonth(Za);Zb.setDate(Db);return Af.call(this,Zb,ic)}function z(Za){return m.call(this,Za,1,"%B")}function u(Za){return m.call(this,Za,1,"%b")}function C(Za){return m.call(this,0,2+Za,"%A")}function J(Za){return m.call(this,0,2+Za,"%a")}function A(Za,Db,ic,ud){Db[0].type!==n.Literal&&p.error("First argument to data functions must be a string literal.");Za=Db[0].value;Db=":"+Za;if(!p.hasOwnProperty(Db,ud))try{ud[Db]=ic.getData(Za).tuplesRef()}catch(yd){}}function x(Za,Db,ic,ud){Db[0].type!==
n.Literal&&p.error("First argument to indata must be a string literal.");Db[1].type!==n.Literal&&p.error("Second argument to indata must be a string literal.");Za=Db[0].value;Db=Db[1].value;const yd="@"+Db;p.hasOwnProperty(yd,ud)||(ud[yd]=ic.getData(Za).indataRef(ic,Db))}function q(Za,Db,ic,ud){if(Db[0].type===n.Literal)H(ic,ud,Db[0].value);else for(Za in ic.scales)H(ic,ud,Za)}function H(Za,Db,ic){const ud="%"+ic;if(!p.hasOwnProperty(Db,ud))try{Db[ud]=Za.scaleRef(ic)}catch(yd){}}function M(Za,Db){let ic;
return p.isFunction(Za)?Za:p.isString(Za)?(ic=Db.scales[Za])&&ic.value:void 0}function R(Za,Db,ic){Db.__bandwidth=yd=>yd&&yd.bandwidth?yd.bandwidth():0;ic._bandwidth=q;ic._range=q;ic._scale=q;const ud=yd=>"_["+(yd.type===n.Literal?p.stringValue("%"+yd.value):p.stringValue("%")+"+"+Za(yd))+"]";return{_bandwidth:yd=>`this.__bandwidth(${ud(yd[0])})`,_range:yd=>`${ud(yd[0])}.range()`,_scale:yd=>`${ud(yd[0])}(${Za(yd[1])})`}}function Z(Za){return 1<Za?ke:-1>Za?-ke:Math.asin(Za)}function T(){}function ba(Za,
Db){if(Za&&$a.hasOwnProperty(Za.type))$a[Za.type](Za,Db)}function aa(Za,Db,ic){var ud=-1;ic=Za.length-ic;for(Db.lineStart();++ud<ic;){var yd=Za[ud];Db.point(yd[0],yd[1],yd[2])}Db.lineEnd()}function W(Za,Db){var ic=-1,ud=Za.length;for(Db.polygonStart();++ic<ud;)aa(Za[ic],Db,1);Db.polygonEnd()}function X(Za,Db){if(Za&&Oa.hasOwnProperty(Za.type))Oa[Za.type](Za,Db);else ba(Za,Db)}function P(){zc.point=B}function w(){K(Wb,sc)}function B(Za,Db){zc.point=K;Wb=Za;sc=Db;Za*=Qe;Db*=Qe;Uc=Za;Xc=jb(Db=Db/2+Rd);
Cc=Xb(Db)}function K(Za,Db){Za*=Qe;Db*=Qe;Db=Db/2+Rd;var ic=Za-Uc,ud=0<=ic?1:-1,yd=ud*ic;ic=jb(Db);Db=Xb(Db);var be=Cc*Db,df=Xc*ic+be*jb(yd);ud=be*ud*Xb(yd);ub.add(ra(ud,df));Uc=Za;Xc=ic;Cc=Db}function U(Za,Db){return[Za[1]*Db[2]-Za[2]*Db[1],Za[2]*Db[0]-Za[0]*Db[2],Za[0]*Db[1]-Za[1]*Db[0]]}function ka(Za,Db){Ka.push(ib=[oc=Za,Mc=Za]);Db<Fc&&(Fc=Db);Db>Yc&&(Yc=Db)}function da(Za,Db){var ic=[Za*Qe,Db*Qe];var ud=ic[0];ic=ic[1];var yd=jb(ic);ud=[yd*jb(ud),yd*Xb(ud),Xb(ic)];if(Vb){ic=U(Vb,ud);yd=ic=U([ic[1],
-ic[0],0],ic);var be=ha(yd[0]*yd[0]+yd[1]*yd[1]+yd[2]*yd[2]);yd[0]/=be;yd[1]/=be;yd[2]/=be;ic=[ra(ic[1],ic[0]),Z(ic[2])];var df=Za-mb;yd=0<df?1:-1;be=ic[0]*Qd*yd;df=180<cf(df);df^(yd*mb<be&&be<yd*Za)?(ic=ic[1]*Qd,ic>Yc&&(Yc=ic)):(be=(be+360)%360-180,df^(yd*mb<be&&be<yd*Za))?(ic=-ic[1]*Qd,ic<Fc&&(Fc=ic)):(Db<Fc&&(Fc=Db),Db>Yc&&(Yc=Db));df?Za<mb?pa(oc,Za)>pa(oc,Mc)&&(Mc=Za):pa(Za,Mc)>pa(oc,Mc)&&(oc=Za):Mc>=oc?(Za<oc&&(oc=Za),Za>Mc&&(Mc=Za)):Za>mb?pa(oc,Za)>pa(oc,Mc)&&(Mc=Za):pa(Za,Mc)>pa(oc,Mc)&&(oc=
Za)}else Ka.push(ib=[oc=Za,Mc=Za]);Db<Fc&&(Fc=Db);Db>Yc&&(Yc=Db);Vb=ud;mb=Za}function la(){Eb.point=da}function wa(){ib[0]=oc;ib[1]=Mc;Eb.point=ka;Vb=null}function Ua(Za,Db){if(Vb){var ic=Za-mb;ma.add(180<cf(ic)?ic+(0<ic?360:-360):ic)}else Gb=Za,Pb=Db;zc.point(Za,Db);da(Za,Db)}function hb(){zc.lineStart()}function La(){Ua(Gb,Pb);zc.lineEnd();1E-6<cf(ma)&&(oc=-(Mc=180));ib[0]=oc;ib[1]=Mc;Vb=null}function pa(Za,Db){return 0>(Db-=Za)?Db+360:Db}function Da(Za,Db){return Za[0]-Db[0]}function Ma(Za,Db){return Za[0]<=
Za[1]?Za[0]<=Db&&Db<=Za[1]:Db<Za[0]||Za[1]<Db}function ua(Za,Db){Za*=Qe;Db*=Qe;var ic=jb(Db);Aa(ic*jb(Za),ic*Xb(Za),Xb(Db))}function Aa(Za,Db,ic){++Ib;kc+=(Za-kc)/Ib;Kc+=(Db-Kc)/Ib;Bc+=(ic-Bc)/Ib}function qa(){Ad.point=Ha}function Ha(Za,Db){Za*=Qe;Db*=Qe;var ic=jb(Db);Dd=ic*jb(Za);fe=ic*Xb(Za);qe=Xb(Db);Ad.point=Va;Aa(Dd,fe,qe)}function Va(Za,Db){Za*=Qe;Db*=Qe;var ic=jb(Db),ud=ic*jb(Za);Za=ic*Xb(Za);Db=Xb(Db);var yd=ra(ha((yd=fe*Db-qe*Za)*yd+(yd=qe*ud-Dd*Db)*yd+(yd=Dd*Za-fe*ud)*yd),Dd*ud+fe*Za+qe*
Db);Nb+=yd;wc+=yd*(Dd+(Dd=ud));ld+=yd*(fe+(fe=Za));wd+=yd*(qe+(qe=Db));Aa(Dd,fe,qe)}function eb(){Ad.point=ua}function ta(){Ad.point=oa}function Qa(){Y(se,td);Ad.point=ua}function oa(Za,Db){se=Za;td=Db;Za*=Qe;Db*=Qe;Ad.point=Y;var ic=jb(Db);Dd=ic*jb(Za);fe=ic*Xb(Za);qe=Xb(Db);Aa(Dd,fe,qe)}function Y(Za,Db){Za*=Qe;Db*=Qe;var ic=jb(Db),ud=ic*jb(Za);Za=ic*Xb(Za);Db=Xb(Db);ic=fe*Db-qe*Za;var yd=qe*ud-Dd*Db,be=Dd*Za-fe*ud,df=Ia(ic,yd,be),tf=Z(df);df=df&&-tf/df;Fe.add(df*ic);Fd.add(df*yd);he.add(df*be);
Nb+=tf;wc+=tf*(Dd+(Dd=ud));ld+=tf*(fe+(fe=Za));wd+=tf*(qe+(qe=Db));Aa(Dd,fe,qe)}function ja(Za,Db){return function(ic,ud,yd){return ic?(ic=M(ic,(yd||this).context))&&ic.path[Za](ud):Db(ud)}}function Ga(Za){const Db=this.context.group;let ic=!1;if(Db)for(;Za;){if(Za===Db){ic=!0;break}Za=Za.mark.group}return ic}function Wa(Za,Db,ic){try{Za[Db].apply(Za,["EXPRESSION"].concat([].slice.call(ic)))}catch(ud){Za.warn(ud)}return ic[ic.length-1]}function cb(){return Wa(this.context.dataflow,"warn",arguments)}
function nb(){return Wa(this.context.dataflow,"info",arguments)}function pb(){return Wa(this.context.dataflow,"debug",arguments)}function Fb(Za,Db,ic){Za.prototype=Db.prototype=ic;ic.constructor=Za}function nc(Za,Db){Za=Object.create(Za.prototype);for(var ic in Db)Za[ic]=Db[ic];return Za}function Lc(){}function Ac(){return this.rgb().formatHex()}function yc(){return this.rgb().formatRgb()}function tc(Za){var Db,ic;Za=(Za+"").trim().toLowerCase();return(Db=Cf.exec(Za))?(ic=Db[1].length,Db=parseInt(Db[1],
16),6===ic?hd(Db):3===ic?new ac(Db>>8&15|Db>>4&240,Db>>4&15|Db&240,(Db&15)<<4|Db&15,1):8===ic?Mb(Db>>24&255,Db>>16&255,Db>>8&255,(Db&255)/255):4===ic?Mb(Db>>12&15|Db>>8&240,Db>>8&15|Db>>4&240,Db>>4&15|Db&240,((Db&15)<<4|Db&15)/255):null):(Db=Vg.exec(Za))?new ac(Db[1],Db[2],Db[3],1):(Db=Yd.exec(Za))?new ac(255*Db[1]/100,255*Db[2]/100,255*Db[3]/100,1):(Db=Ie.exec(Za))?Mb(Db[1],Db[2],Db[3],Db[4]):(Db=qg.exec(Za))?Mb(255*Db[1]/100,255*Db[2]/100,255*Db[3]/100,Db[4]):(Db=ug.exec(Za))?Rc(Db[1],Db[2]/100,
Db[3]/100,1):(Db=Zg.exec(Za))?Rc(Db[1],Db[2]/100,Db[3]/100,Db[4]):cg.hasOwnProperty(Za)?hd(cg[Za]):"transparent"===Za?new ac(NaN,NaN,NaN,0):null}function hd(Za){return new ac(Za>>16&255,Za>>8&255,Za&255,1)}function Mb(Za,Db,ic,ud){0>=ud&&(Za=Db=ic=NaN);return new ac(Za,Db,ic,ud)}function Ab(Za){Za instanceof Lc||(Za=tc(Za));if(!Za)return new ac;Za=Za.rgb();return new ac(Za.r,Za.g,Za.b,Za.opacity)}function ec(Za,Db,ic,ud){return 1===arguments.length?Ab(Za):new ac(Za,Db,ic,null==ud?1:ud)}function ac(Za,
Db,ic,ud){this.r=+Za;this.g=+Db;this.b=+ic;this.opacity=+ud}function lc(){return"#"+Ec(this.r)+Ec(this.g)+Ec(this.b)}function Ic(){var Za=this.opacity;Za=isNaN(Za)?1:Math.max(0,Math.min(1,Za));return(1===Za?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Za?")":", "+Za+")")}function Ec(Za){Za=Math.max(0,Math.min(255,Math.round(Za)||0));return(16>Za?"0":"")+Za.toString(16)}
function Rc(Za,Db,ic,ud){0>=ud?Za=Db=ic=NaN:0>=ic||1<=ic?Za=Db=NaN:0>=Db&&(Za=NaN);return new Ea(Za,Db,ic,ud)}function id(Za){if(Za instanceof Ea)return new Ea(Za.h,Za.s,Za.l,Za.opacity);Za instanceof Lc||(Za=tc(Za));if(!Za)return new Ea;if(Za instanceof Ea)return Za;Za=Za.rgb();var Db=Za.r/255,ic=Za.g/255,ud=Za.b/255,yd=Math.min(Db,ic,ud),be=Math.max(Db,ic,ud),df=NaN,tf=be-yd,Gg=(be+yd)/2;tf?(df=Db===be?(ic-ud)/tf+6*(ic<ud):ic===be?(ud-Db)/tf+2:(Db-ic)/tf+4,tf/=.5>Gg?be+yd:2-be-yd,df*=60):tf=0<Gg&&
1>Gg?0:df;return new Ea(df,tf,Gg,Za.opacity)}function Td(Za,Db,ic,ud){return 1===arguments.length?id(Za):new Ea(Za,Db,ic,null==ud?1:ud)}function Ea(Za,Db,ic,ud){this.h=+Za;this.s=+Db;this.l=+ic;this.opacity=+ud}function za(Za,Db,ic){return 255*(60>Za?Db+(ic-Db)*Za/60:180>Za?ic:240>Za?Db+(ic-Db)*(240-Za)/60:Db)}function Fa(Za){if(Za instanceof lb)return new lb(Za.l,Za.a,Za.b,Za.opacity);if(Za instanceof fd)return od(Za);Za instanceof ac||(Za=Ab(Za));var Db=$b(Za.r),ic=$b(Za.g),ud=$b(Za.b),yd=zb(.2225045*
Db+.7168786*ic+.0606169*ud);if(Db===ic&&ic===ud)var be=Db=yd;else be=zb((.4360747*Db+.3850649*ic+.1430804*ud)/.96422),Db=zb((.0139322*Db+.0971045*ic+.7141733*ud)/.82521);return new lb(116*yd-16,500*(be-yd),200*(yd-Db),Za.opacity)}function bb(Za,Db,ic,ud){return 1===arguments.length?Fa(Za):new lb(Za,Db,ic,null==ud?1:ud)}function lb(Za,Db,ic,ud){this.l=+Za;this.a=+Db;this.b=+ic;this.opacity=+ud}function zb(Za){return Za>eg?Math.pow(Za,1/3):Za/Jf+dg}function Tb(Za){return Za>Rf?Za*Za*Za:Jf*(Za-dg)}function Ub(Za){return 255*
(.0031308>=Za?12.92*Za:1.055*Math.pow(Za,1/2.4)-.055)}function $b(Za){return.04045>=(Za/=255)?Za/12.92:Math.pow((Za+.055)/1.055,2.4)}function Dc(Za){if(Za instanceof fd)return new fd(Za.h,Za.c,Za.l,Za.opacity);Za instanceof lb||(Za=Fa(Za));if(0===Za.a&&0===Za.b)return new fd(NaN,0<Za.l&&100>Za.l?0:NaN,Za.l,Za.opacity);var Db=Math.atan2(Za.b,Za.a)*Ag;return new fd(0>Db?Db+360:Db,Math.sqrt(Za.a*Za.a+Za.b*Za.b),Za.l,Za.opacity)}function dd(Za,Db,ic,ud){return 1===arguments.length?Dc(Za):new fd(Za,Db,
ic,null==ud?1:ud)}function fd(Za,Db,ic,ud){this.h=+Za;this.c=+Db;this.l=+ic;this.opacity=+ud}function od(Za){if(isNaN(Za.h))return new lb(Za.l,0,0,Za.opacity);var Db=Za.h*Eg;return new lb(Za.l,Math.cos(Db)*Za.c,Math.sin(Db)*Za.c,Za.opacity)}function sd(Za){Za/=255;return.03928>=Za?Za/12.92:Math.pow((Za+.055)/1.055,2.4)}function Kd(Za){var Db=ec(Za);Za=sd(Db.r);const ic=sd(Db.g);Db=sd(Db.b);return.2126*Za+.7152*ic+.0722*Db}function Od(Za,Db){Za=Kd(Za);Db=Kd(Db);return(Math.max(Za,Db)+.05)/(Math.min(Za,
Db)+.05)}function ae(){const Za=[].slice.call(arguments);Za.unshift({});return p.extend(...Za)}function de(Za,Db){if(Za===Db||Za!==Za&&Db!==Db)Za=!0;else if(p.isArray(Za))if(p.isArray(Db)&&Za.length===Db.length)a:{for(let ic=0,ud=Za.length;ic<ud;++ic)if(!de(Za[ic],Db[ic])){Za=!1;break a}Za=!0}else Za=!1;else Za=p.isObject(Za)&&p.isObject(Db)?je(Za,Db):!1;return Za}function je(Za,Db){for(const ic in Za)if(!de(Za[ic],Db[ic]))return!1;return!0}function qd(Za){return Db=>je(Za,Db)}function bf(Za,Db,ic,
ud,yd,be){const df=this.context.dataflow,tf=this.context.data[Za],Gg=tf.input;Za=df.stamp();let Nf=tf.changes,qh;if(!1===df._trigger||!(Gg.value.length||Db||ud))return 0;if(!Nf||Nf.stamp<Za)tf.changes=Nf=df.changeset(),Nf.stamp=Za,df.runAfter(()=>{tf.modified=!0;df.pulse(Gg,Nf).run()},!0,1);ic&&(ic=!0===ic?p.truthy:p.isArray(ic)||v.isTuple(ic)?ic:qd(ic),Nf.remove(ic));Db&&Nf.insert(Db);ud&&(ic=qd(ud),Gg.value.some(ic)?Nf.remove(ic):Nf.insert(ud));if(yd)for(qh in be)Nf.modify(yd,qh,be[qh]);return 1}
function Ye(Za){var Db=Za.touches;Za=Db[0].clientX-Db[1].clientX;Db=Db[0].clientY-Db[1].clientY;return Math.sqrt(Za*Za+Db*Db)}function pe(Za){Za=Za.touches;return Math.atan2(Za[0].clientY-Za[1].clientY,Za[0].clientX-Za[1].clientX)}function ve(Za,Db){Db=Mf[Db]||(Mf[Db]=p.field(Db));return p.isArray(Za)?Za.map(Db):Db(Za)}function Ca(Za){return p.isArray(Za)||ArrayBuffer.isView(Za)?Za:null}function Ya(Za){return Ca(Za)||(p.isString(Za)?Za:null)}function tb(Za,...Db){return Ca(Za).join(...Db)}function Kb(Za,
...Db){return Ya(Za).indexOf(...Db)}function dc(Za,...Db){return Ya(Za).lastIndexOf(...Db)}function mc(Za,...Db){return Ya(Za).slice(...Db)}function Jc(Za,Db,ic){p.isFunction(ic)&&p.error("Function argument passed to replace.");return String(Za).replace(Db,ic)}function Gc(Za){return Ca(Za).slice().reverse()}function jc(Za,Db,ic){return r.bandSpace(Za||0,Db||0,ic||0)}function bd(Za,Db){return(Za=M(Za,(Db||this).context))&&Za.bandwidth?Za.bandwidth():0}function md(Za,Db){return(Za=M(Za,(Db||this).context))?
Za.copy():void 0}function Ed(Za,Db){return(Za=M(Za,(Db||this).context))?Za.domain():[]}function Nd(Za,Db,ic){return(Za=M(Za,(ic||this).context))?p.isArray(Db)?(Za.invertRange||Za.invert)(Db):(Za.invert||Za.invertExtent)(Db):void 0}function Pd(Za,Db){return(Za=M(Za,(Db||this).context))&&Za.range?Za.range():[]}function ee(Za,Db,ic){return(Za=M(Za,(ic||this).context))?Za(Db):void 0}function Ce(Za,Db,ic,ud,yd){Za=M(Za,(yd||this).context);const be=h.Gradient(Db,ic);Db=Za.domain();ic=Db[0];yd=p.peek(Db);
let df=p.identity;yd-ic?df=r.scaleFraction(Za,ic,yd):Za=(Za.interpolator?r.scale("sequential")().interpolator(Za.interpolator()):r.scale("linear")().interpolate(Za.interpolate()).range(Za.range())).domain([ic=0,yd=1]);Za.ticks&&(Db=Za.ticks(+ud||15),ic!==Db[0]&&Db.unshift(ic),yd!==p.peek(Db)&&Db.push(yd));Db.forEach(tf=>be.stop(df(tf),Za(tf)));return be}function ue(Za,Db,ic){const ud=M(Za,(ic||this).context);return function(yd){return ud?ud.path.context(yd)(Db):""}}function Df(Za){let Db=null;return function(ic){return ic?
h.pathRender(ic,Db=Db||h.pathParse(Za)):Za}}function Be(Za,Db){Za=d.call(Db,Za);return Za.root&&Za.root.lookup||{}}function Me(Za,Db,ic){Za=Be(Za,this);Db=Za[Db];ic=Za[ic];return Db&&ic?Db.path(ic).map(jg):void 0}function kf(Za,Db){return(Za=Be(Za,this)[Db])?Za.ancestors().map(jg):void 0}function Sb(){const Za="undefined"!==typeof window&&window||null;return Za?Za.screen:{}}function qc(){const Za="undefined"!==typeof window&&window||null;return Za?[Za.innerWidth,Za.innerHeight]:[void 0,void 0]}function Vc(){var Za=
this.context.dataflow;return(Za=Za.container&&Za.container())?[Za.clientWidth,Za.clientHeight]:[void 0,void 0]}function Bd(Za,Db,ic){if(!Za)return[];const [ud,yd]=Za;Za=(new h.Bounds).set(ud[0],ud[1],yd[0],yd[1]);ic=ic||this.context.dataflow.scenegraph().root;return h.intersect(ic,Za,Hd(Db))}function Hd(Za){let Db=null;if(Za){const ic=p.array(Za.marktype),ud=p.array(Za.markname);Db=yd=>(!ic.length||ic.some(be=>yd.marktype===be))&&(!ud.length||ud.some(be=>yd.name===be))}return Db}function me(Za,Db,
ic){if(1===arguments.length)return oh[Za];oh[Za]=Db;ic&&(Fg[Za]=ic);vh&&(vh.functions[Za]="this."+Za);return this}const $e=Za=>function(Db,ic){return this.context.dataflow.locale()[Za](ic)(Db)},Qf=$e("format"),Af=$e("timeFormat"),If=$e("utcFormat"),Ne=$e("timeParse"),Bb=$e("utcParse"),Zb=new Date(2E3,0,1);class Sc{constructor(){this._partials=new Float64Array(32);this._n=0}add(Za){const Db=this._partials;let ic=0;for(let ud=0;ud<this._n&&32>ud;ud++){const yd=Db[ud],be=Za+yd;(Za=Math.abs(Za)<Math.abs(yd)?
Za-(be-yd):yd-(be-Za))&&(Db[ic++]=Za);Za=be}Db[ic]=Za;this._n=ic+1;return this}valueOf(){const Za=this._partials;let Db=this._n;let ic,ud=0;if(0<Db){for(ud=Za[--Db];0<Db;){var yd=ud;ic=Za[--Db];ud=yd+ic;if(yd=ic-(ud-yd))break}0<Db&&(0>yd&&0>Za[Db-1]||0<yd&&0<Za[Db-1])&&(ic=2*yd,yd=ud+ic,ic==yd-ud&&(ud=yd))}return ud}}var ce=Math.PI,ke=ce/2,Rd=ce/4,Sd=2*ce,Qd=180/ce,Qe=ce/180,cf=Math.abs,ra=Math.atan2,jb=Math.cos,Ia=Math.hypot,Xb=Math.sin,ha=Math.sqrt,Oa={Feature:function(Za,Db){ba(Za.geometry,Db)},
FeatureCollection:function(Za,Db){Za=Za.features;for(var ic=-1,ud=Za.length;++ic<ud;)ba(Za[ic].geometry,Db)}},$a={Sphere:function(Za,Db){Db.sphere()},Point:function(Za,Db){Za=Za.coordinates;Db.point(Za[0],Za[1],Za[2])},MultiPoint:function(Za,Db){for(var ic=Za.coordinates,ud=-1,yd=ic.length;++ud<yd;)Za=ic[ud],Db.point(Za[0],Za[1],Za[2])},LineString:function(Za,Db){aa(Za.coordinates,Db,0)},MultiLineString:function(Za,Db){Za=Za.coordinates;for(var ic=-1,ud=Za.length;++ic<ud;)aa(Za[ic],Db,0)},Polygon:function(Za,
Db){W(Za.coordinates,Db)},MultiPolygon:function(Za,Db){Za=Za.coordinates;for(var ic=-1,ud=Za.length;++ic<ud;)W(Za[ic],Db)},GeometryCollection:function(Za,Db){Za=Za.geometries;for(var ic=-1,ud=Za.length;++ic<ud;)ba(Za[ic],Db)}},ub=new Sc,Cb=new Sc,Wb,sc,Uc,Xc,Cc,zc={point:T,lineStart:T,lineEnd:T,polygonStart:function(){ub=new Sc;zc.lineStart=P;zc.lineEnd=w},polygonEnd:function(){var Za=+ub;Cb.add(0>Za?Sd+Za:Za);this.lineStart=this.lineEnd=this.point=T},sphere:function(){Cb.add(Sd)}},oc,Fc,Mc,Yc,mb,
Gb,Pb,Vb,ma,Ka,ib,Eb={point:ka,lineStart:la,lineEnd:wa,polygonStart:function(){Eb.point=Ua;Eb.lineStart=hb;Eb.lineEnd=La;ma=new Sc;zc.polygonStart()},polygonEnd:function(){zc.polygonEnd();Eb.point=ka;Eb.lineStart=la;Eb.lineEnd=wa;0>ub?(oc=-(Mc=180),Fc=-(Yc=90)):1E-6<ma?Yc=90:-1E-6>ma&&(Fc=-90);ib[0]=oc;ib[1]=Mc},sphere:function(){oc=-(Mc=180);Fc=-(Yc=90)}},Ib,Nb,kc,Kc,Bc,wc,ld,wd,Fe,Fd,he,se,td,Dd,fe,qe,Ad={sphere:T,point:ua,lineStart:qa,lineEnd:eb,polygonStart:function(){Ad.lineStart=ta;Ad.lineEnd=
Qa},polygonEnd:function(){Ad.lineStart=qa;Ad.lineEnd=eb}};const We=ja("area",function(Za){Cb=new Sc;X(Za,zc);return 2*Cb}),Se=ja("bounds",function(Za){var Db,ic,ud;Yc=Mc=-(oc=Fc=Infinity);Ka=[];X(Za,Eb);if(Db=Ka.length){Ka.sort(Da);Za=1;var yd=Ka[0];for(ic=[yd];Za<Db;++Za){var be=Ka[Za];Ma(yd,be[0])||Ma(yd,be[1])?(pa(yd[0],be[1])>pa(yd[0],yd[1])&&(yd[1]=be[1]),pa(be[0],yd[1])>pa(yd[0],yd[1])&&(yd[0]=be[0])):ic.push(yd=be)}var df=-Infinity;Db=ic.length-1;Za=0;for(yd=ic[Db];Za<=Db;yd=be,++Za)be=ic[Za],
(ud=pa(yd[1],be[0]))>df&&(df=ud,oc=be[0],Mc=yd[1])}Ka=ib=null;return Infinity===oc||Infinity===Fc?[[NaN,NaN],[NaN,NaN]]:[[oc,Fc],[Mc,Yc]]}),hf=ja("centroid",function(Za){Ib=Nb=kc=Kc=Bc=wc=ld=wd=0;Fe=new Sc;Fd=new Sc;he=new Sc;X(Za,Ad);Za=+Fe;var Db=+Fd,ic=+he,ud=Ia(Za,Db,ic);return 1E-12>ud&&(Za=wc,Db=ld,ic=wd,1E-6>Nb&&(Za=kc,Db=Kc,ic=Bc),ud=Ia(Za,Db,ic),1E-12>ud)?[NaN,NaN]:[ra(Db,Za)*Qd,Z(ic/ud)*Qd]});var Bf=1/.7,Cf=/^#([0-9a-f]{3,8})$/,Vg=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
Yd=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ie=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),qg=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
ug=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Zg=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),cg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Fb(Lc,tc,{copy:function(Za){return Object.assign(new this.constructor,this,Za)},displayable:function(){return this.rgb().displayable()},hex:Ac,formatHex:Ac,formatHsl:function(){return id(this).formatHsl()},formatRgb:yc,toString:yc});Fb(ac,ec,nc(Lc,{brighter:function(Za){Za=null==Za?Bf:Math.pow(Bf,Za);return new ac(this.r*Za,this.g*Za,this.b*Za,this.opacity)},darker:function(Za){Za=null==Za?.7:Math.pow(.7,Za);return new ac(this.r*Za,this.g*Za,this.b*Za,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:lc,formatHex:lc,formatRgb:Ic,toString:Ic}));Fb(Ea,Td,nc(Lc,{brighter:function(Za){Za=null==Za?Bf:Math.pow(Bf,Za);return new Ea(this.h,this.s,this.l*Za,this.opacity)},darker:function(Za){Za=null==Za?.7:Math.pow(.7,Za);return new Ea(this.h,this.s,this.l*Za,this.opacity)},rgb:function(){var Za=this.h%360+360*(0>this.h),Db=isNaN(Za)||isNaN(this.s)?0:this.s,ic=this.l;Db=ic+(.5>ic?ic:1-ic)*
Db;ic=2*ic-Db;return new ac(za(240<=Za?Za-240:Za+120,ic,Db),za(Za,ic,Db),za(120>Za?Za+240:Za-120,ic,Db),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Za=this.opacity;Za=isNaN(Za)?1:Math.max(0,Math.min(1,Za));return(1===Za?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Za?")":", "+Za+")")}}));const Eg=Math.PI/180,Ag=180/Math.PI,dg=4/29,Rf=6/29,Jf=3*
Rf*Rf,eg=Rf*Rf*Rf;Fb(lb,bb,nc(Lc,{brighter:function(Za){return new lb(this.l+18*(null==Za?1:Za),this.a,this.b,this.opacity)},darker:function(Za){return new lb(this.l-18*(null==Za?1:Za),this.a,this.b,this.opacity)},rgb:function(){var Za=(this.l+16)/116,Db=isNaN(this.a)?Za:Za+this.a/500,ic=isNaN(this.b)?Za:Za-this.b/200;Db=.96422*Tb(Db);Za=1*Tb(Za);ic=.82521*Tb(ic);return new ac(Ub(3.1338561*Db-1.6168667*Za-.4906146*ic),Ub(-.9787684*Db+1.9161415*Za+.033454*ic),Ub(.0719453*Db-.2289914*Za+1.4052427*ic),
this.opacity)}}));Fb(fd,dd,nc(Lc,{brighter:function(Za){return new fd(this.h,this.c,this.l+18*(null==Za?1:Za),this.opacity)},darker:function(Za){return new fd(this.h,this.c,this.l-18*(null==Za?1:Za),this.opacity)},rgb:function(){return od(this).rgb()}}));const Mf={},jg=Za=>Za.data,oh={random(){return f.random()},cumulativeNormal:f.cumulativeNormal,cumulativeLogNormal:f.cumulativeLogNormal,cumulativeUniform:f.cumulativeUniform,densityNormal:f.densityNormal,densityLogNormal:f.densityLogNormal,densityUniform:f.densityUniform,
quantileNormal:f.quantileNormal,quantileLogNormal:f.quantileLogNormal,quantileUniform:f.quantileUniform,sampleNormal:f.sampleNormal,sampleLogNormal:f.sampleLogNormal,sampleUniform:f.sampleUniform,isArray:p.isArray,isBoolean:p.isBoolean,isDate:p.isDate,isDefined(Za){return void 0!==Za},isNumber:p.isNumber,isObject:p.isObject,isRegExp:p.isRegExp,isString:p.isString,isTuple:v.isTuple,isValid(Za){return null!=Za&&Za===Za},toBoolean:p.toBoolean,toDate(Za){return p.toDate(Za)},toNumber:p.toNumber,toString:p.toString,
indexof:Kb,join:tb,lastindexof:dc,replace:Jc,reverse:Gc,slice:mc,flush:p.flush,lerp:p.lerp,merge:ae,pad:p.pad,peek:p.peek,pluck:ve,span:p.span,inrange:p.inrange,truncate:p.truncate,rgb:ec,lab:bb,hcl:dd,hsl:Td,luminance:Kd,contrast:Od,sequence:function(Za,Db,ic){Za=+Za;Db=+Db;ic=2>(yd=arguments.length)?(Db=Za,Za=0,1):3>yd?1:+ic;for(var ud=-1,yd=Math.max(0,Math.ceil((Db-Za)/ic))|0,be=Array(yd);++ud<yd;)be[ud]=Za+ud*ic;return be},format:Qf,utcFormat:If,utcParse:Bb,utcOffset:e.utcOffset,utcSequence:e.utcSequence,
timeFormat:Af,timeParse:Ne,timeOffset:e.timeOffset,timeSequence:e.timeSequence,timeUnitSpecifier:e.timeUnitSpecifier,monthFormat:z,monthAbbrevFormat:u,dayFormat:C,dayAbbrevFormat:J,quarter:p.quarter,utcquarter:p.utcquarter,week:e.week,utcweek:e.utcweek,dayofyear:e.dayofyear,utcdayofyear:e.utcdayofyear,warn:cb,info:nb,debug:pb,extent(Za){return p.extent(Za)},inScope:Ga,intersect:Bd,clampRange:p.clampRange,pinchDistance:Ye,pinchAngle:pe,screen:Sb,containerSize:Vc,windowSize:qc,bandspace:jc,setdata:c,
pathShape:Df,panLinear:p.panLinear,panLog:p.panLog,panPow:p.panPow,panSymlog:p.panSymlog,zoomLinear:p.zoomLinear,zoomLog:p.zoomLog,zoomPow:p.zoomPow,zoomSymlog:p.zoomSymlog,encode:b,modify:bf,lassoAppend:function(Za,Db,ic,ud=5){const yd=Za[Za.length-1];return void 0===yd||Math.sqrt(Math.pow(yd[0]-Db,2)+Math.pow(yd[1]-ic,2))>ud?(Za.push([Db,ic]),[...Za]):Za},lassoPath:function(Za){return(null!=Za?Za:[]).reduce((Db,[ic,ud],yd)=>Db+(0==yd?`M ${ic},${ud} `:yd===Za.length-1?" Z":`L ${ic},${ud} `),"")},
intersectLasso:function(Za,Db,ic){const {x:ud,y:yd,mark:be}=ic;ic=(new h.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [df,tf]of Db)df<ic.x1&&(ic.x1=df),df>ic.x2&&(ic.x2=df),tf<ic.y1&&(ic.y1=tf),tf>ic.y2&&(ic.y2=tf);ic.translate(ud,yd);return Bd([[ic.x1,ic.y1],[ic.x2,ic.y2]],Za,be).filter(df=>{var tf=df.y;let Gg=0;for(let Nf=0,qh=Db.length-1;Nf<Db.length;qh=Nf++){const [xh,$g]=Db[qh],[Wg,Og]=Db[Nf];Og>tf!=$g>tf&&df.x<(xh-Wg)*
(tf-Og)/($g-Og)+Wg&&Gg++}return Gg&1})}},th="view item group xy x y".split(" "),Fg={},vg={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Za=>`_[${p.stringValue("$"+Za)}]`,functions:function(Za){const Db=n.functions(Za);th.forEach(ic=>Db[ic]="event.vega."+ic);for(const ic in oh)Db[ic]="this."+ic;p.extend(Db,R(Za,oh,Fg));return Db},constants:n.constants,visitors:Fg},vh=n.codegenExpression(vg);me("bandwidth",bd,q);me("copy",md,q);me("domain",Ed,q);me("range",Pd,q);me("invert",
Nd,q);me("scale",ee,q);me("gradient",Ce,q);me("geoArea",We,q);me("geoBounds",Se,q);me("geoCentroid",hf,q);me("geoShape",ue,q);me("indata",a,x);me("data",d,A);me("treePath",Me,A);me("treeAncestors",kf,A);me("vlSelectionTest",k.selectionTest,k.selectionVisitor);me("vlSelectionIdTest",k.selectionIdTest,k.selectionVisitor);me("vlSelectionResolve",k.selectionResolve,k.selectionVisitor);me("vlSelectionTuples",k.selectionTuples);y.DataPrefix=":";y.IndexPrefix="@";y.ScalePrefix="%";y.SignalPrefix="$";y.bandspace=
jc;y.bandwidth=bd;y.codeGenerator=vh;y.codegenParams=vg;y.containerSize=Vc;y.contrast=Od;y.copy=md;y.data=d;y.dataVisitor=A;y.dayAbbrevFormat=J;y.dayFormat=C;y.debug=pb;y.domain=Ed;y.encode=b;y.expressionFunction=me;y.format=Qf;y.functionContext=oh;y.geoArea=We;y.geoBounds=Se;y.geoCentroid=hf;y.geoShape=ue;y.inScope=Ga;y.indata=a;y.indataVisitor=x;y.indexof=Kb;y.info=nb;y.invert=Nd;y.join=tb;y.lastindexof=dc;y.luminance=Kd;y.merge=ae;y.modify=bf;y.monthAbbrevFormat=u;y.monthFormat=z;y.parseExpression=
function(Za,Db){const ic={};let ud;try{Za=p.isString(Za)?Za:p.stringValue(Za)+"",ud=n.parseExpression(Za)}catch(yd){p.error("Expression parse error: "+Za)}ud.visit(yd=>{if(yd.type===n.CallExpression){var be=yd.callee.name,df=vg.visitors[be];df&&df(be,yd.arguments,Db,ic)}});Za=vh(ud);Za.globals.forEach(yd=>{const be="$"+yd;!p.hasOwnProperty(ic,be)&&Db.getSignal(yd)&&(ic[be]=Db.signalRef(yd))});return{$expr:p.extend({code:Za.code},Db.options.ast?{ast:ud}:null),$fields:Za.fields,$params:ic}};y.pathShape=
Df;y.pinchAngle=pe;y.pinchDistance=Ye;y.pluck=ve;y.range=Pd;y.replace=Jc;y.reverse=Gc;y.scale=ee;y.scaleGradient=Ce;y.scaleVisitor=q;y.screen=Sb;y.setdata=c;y.slice=mc;y.timeFormat=Af;y.timeParse=Ne;y.treeAncestors=kf;y.treePath=Me;y.utcFormat=If;y.utcParse=Bb;y.warn=cb;y.windowSize=qc;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[43]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega))})(this,function(y,p,n){function v(b,m,z){";"!==z[z.length-1]&&(z="return("+z+");");m=Function(...m.concat(z));return b&&b.functions?m.bind(b.functions):m}function r(b,m,z){if(!b||!p.isObject(b))return b;for(let u=0,
C=a.length,J;u<C;++u)if(J=a[u],p.hasOwnProperty(b,J.key))return J.parse(b,m,z);return b}function h(b,m,z,u){this.dataflow=b;this.transforms=m;this.events=b.events.bind(b);this.expr=u||d;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};z&&(this.functions=Object.create(z),this.functions.context=this)}function k(b){this.dataflow=b.dataflow;this.transforms=b.transforms;this.events=b.events;this.expr=b.expr;this.signals=Object.create(b.signals);this.scales=Object.create(b.scales);this.nodes=
Object.create(b.nodes);this.data=Object.create(b.data);this.fn=Object.create(b.fn);b.functions&&(this.functions=Object.create(b.functions),this.functions.context=this)}const f=p.toSet(["rule"]),e=p.toSet(["group","image","rect"]);var d={operator:(b,m)=>v(b,["_"],m.code),parameter:(b,m)=>v(b,["datum","_"],m.code),event:(b,m)=>v(b,["event"],m.code),handler:(b,m)=>v(b,["_","event"],`var datum=event.item&&event.item.datum;return ${m.code};`),encode:(b,m)=>{const {marktype:z,channels:u}=m;m="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var C in u){const J="o["+p.stringValue(C)+"]";m+=`$=${u[C].code};if(${J}!==$)${J}=$,m=1;`}C="";f[z]||(u.x2&&(u.x?(e[z]&&(C+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),C+="o.width\x3do.x2-o.x;"):C+="o.x\x3do.x2-(o.width||0);"),u.xc&&(C+="o.x\x3do.xc-(o.width||0)/2;"),u.y2&&(u.y?(e[z]&&(C+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),C+="o.height\x3do.y2-o.y;"):C+="o.y\x3do.y2-(o.height||0);"),u.yc&&(C+="o.y\x3do.yc-(o.height||0)/2;"));m+=C;return v(b,["item","_"],m+"return m;")},codegen:{get(b){b=
`[${b.map(p.stringValue).join("][")}]`;const m=Function("_",`return _${b};`);m.path=b;return m},comparator(b,m){let z;b=Function("a","b","var u, v; return "+b.map((u,C)=>{const J=m[C];let A;u.path?(A=`a${u.path}`,u=`b${u.path}`):((z=z||{})["f"+C]=u,A=`this.f${C}(a)`,u=`this.f${C}(b)`);C=-J;return`((u = ${A}) < (v = ${u}) || u == null) && v != null ? ${C}
  : (u > v || v == null) && u != null ? ${J}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${C}
  : v !== v && u === u ? ${J} : `}).join("")+"0;");return z?b.bind(z):b}}},a=[{key:"$ref",parse:function(b,m){return m.get(b.$ref)||p.error("Operator not defined: "+b.$ref)}},{key:"$key",parse:function(b,m){const z="k:"+b.$key+"_"+!!b.$flat;return m.fn[z]||(m.fn[z]=p.key(b.$key,b.$flat,m.expr.codegen))}},{key:"$expr",parse:function(b,m,z){b.$params&&m.parseParameters(b.$params,z);z="e:"+b.$expr.code+"_"+b.$name;return m.fn[z]||(m.fn[z]=p.accessor(m.parameterExpression(b.$expr),b.$fields,b.$name))}},
{key:"$field",parse:function(b,m){if(!b.$field)return null;const z="f:"+b.$field+"_"+b.$name;return m.fn[z]||(m.fn[z]=p.field(b.$field,b.$name,m.expr.codegen))}},{key:"$encode",parse:function(b,m){b=b.$encode;const z={};for(const u in b){const C=b[u];z[u]=p.accessor(m.encodeExpression(C.$expr),C.$fields);z[u].output=C.$output}return z}},{key:"$compare",parse:function(b,m){const z="c:"+b.$compare+"_"+b.$order,u=p.array(b.$compare).map(C=>C&&C.$tupleid?n.tupleid:C);return m.fn[z]||(m.fn[z]=p.compare(u,
b.$order,m.expr.codegen))}},{key:"$context",parse:function(b,m){return m}},{key:"$subflow",parse:function(b,m){const z=b.$subflow;return function(u,C,J){const A=m.fork().parse(z);u=A.get(z.operators[0].id);(C=A.signals.parent)&&C.set(J);u.detachSubflow=()=>m.detach(A);return u}}},{key:"$tupleid",parse:function(){return n.tupleid}}];const c={skip:!0};h.prototype=k.prototype={fork(){const b=new k(this);(this.subcontext||(this.subcontext=[])).push(b);return b},detach(b){this.subcontext=this.subcontext.filter(z=>
z!==b);const m=Object.keys(b.nodes);for(const z of m)b.nodes[z]._targets=null;for(const z of m)b.nodes[z].detach();b.nodes=null},get(b){return this.nodes[b]},set(b,m){return this.nodes[b]=m},add(b,m){const z=this,u=z.dataflow,C=b.value;z.set(b.id,m);"collect"===(b.type+"").toLowerCase()&&C&&(C.$ingest?u.ingest(m,C.$ingest,C.$format):C.$request?u.preload(m,C.$request,C.$format):u.pulse(m,u.changeset().insert(C)));b.root&&(z.root=m);if(b.parent){let J=z.get(b.parent.$ref);J?(u.connect(J,[m]),m.targets().add(J)):
(z.unresolved=z.unresolved||[]).push(()=>{J=z.get(b.parent.$ref);u.connect(J,[m]);m.targets().add(J)})}b.signal&&(z.signals[b.signal]=m);b.scale&&(z.scales[b.scale]=m);if(b.data)for(const J in b.data){const A=z.data[J]||(z.data[J]={});b.data[J].forEach(x=>A[x]=m)}},resolve(){(this.unresolved||[]).forEach(b=>b());delete this.unresolved;return this},operator(b,m){this.add(b,this.dataflow.add(b.value,m))},transform(b,m){this.add(b,this.dataflow.add(this.transforms[(m+"").toLowerCase()]))},stream(b,m){this.set(b.id,
m)},update(b,m,z,u,C){this.dataflow.on(m,z,u,C,b.options)},operatorExpression(b){return this.expr.operator(this,b)},parameterExpression(b){return this.expr.parameter(this,b)},eventExpression(b){return this.expr.event(this,b)},handlerExpression(b){return this.expr.handler(this,b)},encodeExpression(b){return this.expr.encode(this,b)},parse:function(b){const m=this,z=b.operators||[];b.background&&(m.background=b.background);b.eventConfig&&(m.eventConfig=b.eventConfig);b.locale&&(m.locale=b.locale);z.forEach(u=>
m.parseOperator(u));z.forEach(u=>m.parseOperatorParameters(u));(b.streams||[]).forEach(u=>m.parseStream(u));(b.updates||[]).forEach(u=>m.parseUpdate(u));return m.resolve()},parseOperator:function(b){"operator"!==(b.type+"").toLowerCase()&&b.type?this.transform(b,b.type):this.operator(b,b.update?this.operatorExpression(b.update):null)},parseOperatorParameters:function(b){if(b.params){const m=this.get(b.id);m||p.error("Invalid operator id: "+b.id);this.dataflow.connect(m,m.parameters(this.parseParameters(b.params),
b.react,b.initonly))}},parseParameters:function(b,m){m=m||{};const z=this;for(const u in b){const C=b[u];m[u]=p.isArray(C)?C.map(J=>r(J,z,m)):r(C,z,m)}return m},parseStream:function(b){var m=this,z=null!=b.filter?m.eventExpression(b.filter):void 0,u=null!=b.stream?m.get(b.stream):void 0;if(b.source)u=m.events(b.source,b.type,z);else if(b.merge){var C=b.merge.map(J=>m.get(J));u=C[0].merge.apply(C[0],C.slice(1))}b.between&&(C=b.between.map(J=>m.get(J)),u=u.between(C[0],C[1]));b.filter&&(u=u.filter(z));
null!=b.throttle&&(u=u.throttle(+b.throttle));null!=b.debounce&&(u=u.debounce(+b.debounce));null==u&&p.error("Invalid stream definition: "+JSON.stringify(b));b.consume&&u.consume(!0);m.stream(b,u)},parseUpdate:function(b){var m=p.isObject(m=b.source)?m.$ref:m;m=this.get(m);var z=b.update,u=void 0;m||p.error("Source not defined: "+b.source);var C=b.target&&b.target.$expr?this.eventExpression(b.target.$expr):this.get(b.target);z&&z.$expr&&(z.$params&&(u=this.parseParameters(z.$params)),z=this.handlerExpression(z.$expr));
this.update(b,m,C,z,u)},getState:function(b){var m=this,z={};if(b.signals){var u=z.signals={};Object.keys(m.signals).forEach(J=>{const A=m.signals[J];b.signals(J,A)&&(u[J]=A.value)})}if(b.data){var C=z.data={};Object.keys(m.data).forEach(J=>{const A=m.data[J];b.data(J,A)&&(C[J]=A.input.value)})}m.subcontext&&!1!==b.recurse&&(z.subcontext=m.subcontext.map(J=>J.getState(b)));return z},setState:function(b){var m=this,z=m.dataflow,u=b.data,C=b.signals;Object.keys(C||{}).forEach(J=>{z.update(m.signals[J],
C[J],c)});Object.keys(u||{}).forEach(J=>{z.pulse(m.data[J].input,z.changeset().remove(p.truthy).insert(u[J]))});(b.subcontext||[]).forEach((J,A)=>{(A=m.subcontext[A])&&A.setState(J)})}};y.context=function(b,m,z,u){return new h(b,m,z,u)};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[44]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(23),F(28),F(42),F(43),F(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r,h,k){function f(Ea){const za=Ea.container();za&&(za.setAttribute("role","graphics-document"),
za.setAttribute("aria-roleDescription","visualization"),e(za,Ea.description()))}function e(Ea,za){Ea&&(null==za?Ea.removeAttribute("aria-label"):Ea.setAttribute("aria-label",za))}function d(Ea){Ea.add(null,za=>{Ea._background=za.bg;Ea._resize=1;return za.bg},{bg:Ea._signals.background})}function a(Ea){const za=Ea._signals.cursor||(Ea._signals.cursor=Ea.add({user:"default",item:null}));Ea.on(Ea.events("view","mousemove"),za,(Fa,bb)=>{const lb=(Fa=za.value)?p.isString(Fa)?Fa:Fa.user:"default";bb=bb.item&&
bb.item.cursor||null;return Fa&&lb===Fa.user&&bb==Fa.item?Fa:{user:lb,item:bb}});Ea.add(null,function(Fa){Fa=Fa.cursor;let bb=this.value;p.isString(Fa)||(bb=Fa.item,Fa=Fa.user);c(Ea,Fa&&"default"!==Fa?Fa:bb||Fa);return bb},{cursor:za})}function c(Ea,za){if(Ea=Ea.globalCursor()?"undefined"!==typeof document&&document.body:Ea.container())return null==za?Ea.style.removeProperty("cursor"):Ea.style.cursor=za}function b(Ea,za){Ea=Ea._runtime.data;p.hasOwnProperty(Ea,za)||p.error("Unrecognized data set: "+
za);return Ea[za]}function m(Ea,za){n.isChangeSet(za)||p.error("Second argument to changes must be a changeset.");Ea=b(this,Ea);Ea.modified=!0;return this.pulse(Ea.input,za)}function z(Ea){var za=Ea.padding();return Math.max(0,Ea._viewWidth+za.left+za.right)}function u(Ea){var za=Ea.padding();return Math.max(0,Ea._viewHeight+za.top+za.bottom)}function C(Ea){var za=Ea.padding();Ea=Ea._origin;return[za.left+Ea[0],za.top+Ea[1]]}function J(Ea){var za=C(Ea),Fa=z(Ea),bb=u(Ea);Ea._renderer.background(Ea.background());
Ea._renderer.resize(Fa,bb,za);Ea._handler.origin(za);Ea._resizeListeners.forEach(lb=>{try{lb(Fa,bb)}catch(zb){Ea.error(zb)}})}function A(Ea,za,Fa){function bb(Tb){var Ub=zb,$b;if(Tb)for($b=za;$b;$b=$b.mark.group)if($b.mark.name===Tb){Ub=$b;break}return Ub&&Ub.mark&&Ub.mark.interactive?Ub:{}}function lb(Tb){if(!Tb)return Fa;p.isString(Tb)&&(Tb=bb(Tb));const Ub=Fa.slice();for(;Tb;)Ub[0]-=Tb.x||0,Ub[1]-=Tb.y||0,Tb=Tb.mark&&Tb.mark.group;return Ub}const zb=za?"group"===za.mark.marktype?za:za.mark.group:
null;return{view:p.constant(Ea),item:p.constant(za||{}),group:bb,xy:lb,x:Tb=>lb(Tb)[0],y:Tb=>lb(Tb)[1]}}function x(Ea){Ea=p.extend({defaults:{}},Ea);const za=(Fa,bb)=>{bb.forEach(lb=>{p.isArray(Fa[lb])&&(Fa[lb]=p.toSet(Fa[lb]))})};za(Ea.defaults,["prevent","allow"]);za(Ea,["view","window","selector"]);return Ea}function q(Ea,za,Fa,bb){Ea._eventListeners.push({type:Fa,sources:p.array(za),handler:bb})}function H(Ea,za,Fa){const bb=Ea._eventConfig&&Ea._eventConfig[za];return!1===bb||p.isObject(bb)&&
!bb[Fa]?(Ea.warn(`Blocked ${za} ${Fa} event listener.`),!1):!0}function M(Ea){return Ea.item}function R(Ea){return Ea.item.mark.source}function Z(Ea){return function(za,Fa){return Fa.vega.view().changeset().encode(Fa.item,Ea)}}function T(Ea,za,Fa){Ea=document.createElement(Ea);for(const bb in za)Ea.setAttribute(bb,za[bb]);null!=Fa&&(Ea.textContent=Fa);return Ea}function ba(Ea,za,Fa){var bb=Math.abs(za-Ea)/Math.max(0,Fa);Fa=Math.pow(10,Math.floor(Math.log(bb)/Math.LN10));bb/=Fa;bb>=Ac?Fa*=10:bb>=yc?
Fa*=5:bb>=tc&&(Fa*=2);return za<Ea?-Fa:Fa}function aa(Ea,za,Fa){if(za){var bb=Fa.param,lb=Fa.state;lb||(lb=Fa.state={elements:null,active:!1,set:null,update:zb=>{zb!=Ea.signal(bb.signal)&&Ea.runAsync(null,()=>{lb.source=!0;Ea.signal(bb.signal,zb)})}},bb.debounce&&(lb.update=p.debounce(bb.debounce,lb.update)));(null==bb.input&&bb.element?W:X)(lb,za,bb,Ea);lb.active||(Ea.on(Ea._signals[bb.signal],null,()=>{lb.source?lb.source=!1:lb.set(Ea.signal(bb.signal))}),lb.active=!0);return lb}}function W(Ea,
za,Fa,bb){const lb=Fa.event||"input",zb=()=>Ea.update(za.value);bb.signal(Fa.signal,za.value);za.addEventListener(lb,zb);q(bb,za,lb,zb);Ea.set=Tb=>{za.value=Tb;Tb=za.dispatchEvent;var Ub="undefined"!==typeof Event?new Event(lb):{type:lb};Tb.call(za,Ub)}}function X(Ea,za,Fa,bb){bb=bb.signal(Fa.signal);const lb=T("div",{"class":"vega-bind"}),zb="radio"===Fa.input?lb:lb.appendChild(T("label"));zb.appendChild(T("span",{"class":"vega-bind-name"},Fa.name||Fa.signal));za.appendChild(lb);za=P;switch(Fa.input){case "checkbox":za=
w;break;case "select":za=B;break;case "radio":za=K;break;case "range":za=U}za(Ea,zb,Fa,bb)}function P(Ea,za,Fa,bb){const lb=T("input");for(const zb in Fa)"signal"!==zb&&"element"!==zb&&lb.setAttribute("input"===zb?"type":zb,Fa[zb]);lb.setAttribute("name",Fa.signal);lb.value=bb;za.appendChild(lb);lb.addEventListener("input",()=>Ea.update(lb.value));Ea.elements=[lb];Ea.set=zb=>lb.value=zb}function w(Ea,za,Fa,bb){Fa={type:"checkbox",name:Fa.signal};bb&&(Fa.checked=!0);const lb=T("input",Fa);za.appendChild(lb);
lb.addEventListener("change",()=>Ea.update(lb.checked));Ea.elements=[lb];Ea.set=zb=>lb.checked=!!zb||null}function B(Ea,za,Fa,bb){const lb=T("select",{name:Fa.signal}),zb=Fa.labels||[];Fa.options.forEach((Tb,Ub)=>{const $b={value:Tb};ka(Tb,bb)&&($b.selected=!0);lb.appendChild(T("option",$b,(zb[Ub]||Tb)+""))});za.appendChild(lb);lb.addEventListener("change",()=>{Ea.update(Fa.options[lb.selectedIndex])});Ea.elements=[lb];Ea.set=Tb=>{for(let Ub=0,$b=Fa.options.length;Ub<$b;++Ub)if(ka(Fa.options[Ub],
Tb)){lb.selectedIndex=Ub;break}}}function K(Ea,za,Fa,bb){const lb=T("span",{"class":"vega-bind-radio"}),zb=Fa.labels||[];za.appendChild(lb);Ea.elements=Fa.options.map((Tb,Ub)=>{var $b={type:"radio",name:Fa.signal,value:Tb};ka(Tb,bb)&&($b.checked=!0);$b=T("input",$b);$b.addEventListener("change",()=>Ea.update(Tb));Ub=T("label",{},(zb[Ub]||Tb)+"");Ub.prepend($b);lb.appendChild(Ub);return $b});Ea.set=Tb=>{const Ub=Ea.elements,$b=Ub.length;for(let Dc=0;Dc<$b;++Dc)ka(Ub[Dc].value,Tb)&&(Ub[Dc].checked=
!0)}}function U(Ea,za,Fa,bb){bb=void 0!==bb?bb:(+Fa.max+ +Fa.min)/2;const lb=null!=Fa.max?Fa.max:Math.max(100,+bb)||100,zb=Fa.min||Math.min(0,lb,+bb)||0,Tb=Fa.step||ba(zb,lb,100),Ub=T("input",{type:"range",name:Fa.signal,min:zb,max:lb,step:Tb});Ub.value=bb;const $b=T("span",{},+bb);za.appendChild(Ub);za.appendChild($b);za=()=>{$b.textContent=Ub.value;Ea.update(+Ub.value)};Ub.addEventListener("input",za);Ub.addEventListener("change",za);Ea.elements=[Ub];Ea.set=Dc=>{Ub.value=Dc;$b.textContent=Dc}}function ka(Ea,
za){return Ea===za||Ea+""===za+""}function da(Ea,za,Fa,bb,lb,zb){za=za||new bb(Ea.loader());return za.initialize(Fa,z(Ea),u(Ea),C(Ea),lb,zb).background(Ea.background())}function la(Ea,za){return za?function(){try{za.apply(this,arguments)}catch(Fa){Ea.error(Fa)}}:null}function wa(Ea,za,Fa,bb){const lb=(new bb(Ea.loader(),la(Ea,Ea.tooltip()))).scene(Ea.scenegraph().root).initialize(Fa,C(Ea),Ea);za&&za.handlers().forEach(zb=>{lb.on(zb.type,zb.handler)});return lb}function Ua(Ea,za,Fa){if("string"===
typeof za)if("undefined"!==typeof document){if(za=document.querySelector(za),!za)return Ea.error("Signal bind element not found: "+za),null}else return Ea.error("DOM document instance not found."),null;if(za&&Fa)try{za.textContent=""}catch(bb){za=null,Ea.error(bb)}return za}function hb(Ea){p.isObject(Ea)?Ea={top:+Ea.top||0,bottom:+Ea.bottom||0,left:+Ea.left||0,right:+Ea.right||0}:(Ea=+Ea||0,Ea={top:Ea,bottom:Ea,left:Ea,right:Ea});return Ea}function La(Ea,za,Fa,bb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var lb=
v.renderModule(za);(lb=lb&&lb.headless)||p.error("Unrecognized renderer type: "+za);yield Ea.runAsync();return da(Ea,null,null,lb,Fa,bb).renderAsync(Ea._scenegraph.root)})}function pa(Ea,za,Fa){return h.context(Ea,n.transforms,r.functionContext,Fa).parse(za)}function Da(Ea,za){var Fa=Ea.autosize();Ea=Ea.padding();return za-(Fa&&"padding"===Fa.contains?Ea.left+Ea.right:0)}function Ma(Ea,za){var Fa=Ea.autosize();Ea=Ea.padding();return za-(Fa&&"padding"===Fa.contains?Ea.top+Ea.bottom:0)}function ua(Ea){function za(){Ea._autosize=
Ea._resize=1}var Fa=Ea._signals,bb=Fa.width,lb=Fa.height;Fa=Fa.padding;Ea._resizeWidth=Ea.add(null,Tb=>{Ea._width=Tb.size;Ea._viewWidth=Da(Ea,Tb.size);za()},{size:bb});Ea._resizeHeight=Ea.add(null,Tb=>{Ea._height=Tb.size;Ea._viewHeight=Ma(Ea,Tb.size);za()},{size:lb});const zb=Ea.add(null,za,{pad:Fa});Ea._resizeWidth.rank=bb.rank+1;Ea._resizeHeight.rank=lb.rank+1;zb.rank=Fa.rank+1}function Aa(Ea,za){return za.modified&&p.isArray(za.input.value)&&Ea.indexOf("_:vega:_")}function qa(Ea,za){return!("parent"===
Ea||za instanceof n.transforms.proxy)}function Ha(){return Ec||(Td(Va),Ec=id.now()+Rc)}function Va(){Ec=0}function eb(){this._call=this._time=this._next=null}function ta(){Ec=(Ic=id.now())+Rc;Mb=Ab=0;try{Ha();++Mb;for(var Ea=ac,za;Ea;)0<=(za=Ec-Ea._time)&&Ea._call.call(void 0,za),Ea=Ea._next;--Mb}finally{Mb=0;Ea=ac;for(var Fa=Infinity;Ea;)if(Ea._call){Fa>Ea._time&&(Fa=Ea._time);var bb=Ea;Ea=Ea._next}else za=Ea._next,Ea._next=null,Ea=bb?bb._next=za:ac=za;lc=bb;oa(Fa);Ec=0}}function Qa(){var Ea=id.now(),
za=Ea-Ic;1E3<za&&(Rc-=za,Ic=Ea)}function oa(Ea){Mb||(Ab&&(Ab=clearTimeout(Ab)),24<Ea-Ec?(Infinity>Ea&&(Ab=setTimeout(ta,Ea-id.now()-Rc)),ec&&(ec=clearInterval(ec))):(ec||(Ic=id.now(),ec=setInterval(Qa,1E3)),Mb=1,Td(ta)))}function Y(Ea,za,Fa){var bb=new eb,lb=za;if(null==za)return bb.restart(Ea,za,Fa),bb;bb._restart=bb.restart;bb.restart=function(zb,Tb,Ub){Tb=+Tb;Ub=null==Ub?Ha():+Ub;bb._restart(function dd(Dc){Dc+=lb;bb._restart(dd,lb+=Tb,Ub);zb(Dc)},Tb,Ub)};bb.restart(Ea,za,Fa);return bb}function ja(Ea,
za,Fa,bb){if(Ea=Ea.element())za=Ea.setAttribute,bb=null==bb?"":p.isArray(bb)?"["+bb.map(Wa).join(", ")+"]":p.isObject(bb)&&!p.isDate(bb)?Ga(bb):bb+"",za.call(Ea,"title",bb)}function Ga(Ea){return Object.keys(Ea).map(za=>{const Fa=Ea[za];return za+": "+(p.isArray(Fa)?"["+Fa.map(Wa).join(", ")+"]":Wa(Fa))}).join("\n")}function Wa(Ea){return p.isArray(Ea)?"[]":p.isObject(Ea)&&!p.isDate(Ea)?"{}":Ea}function cb(Ea,za){za=za||{};n.Dataflow.call(this);za.loader&&this.loader(za.loader);za.logger&&this.logger(za.logger);
null!=za.logLevel&&this.logLevel(za.logLevel);if(za.locale||Ea.locale){var Fa=p.extend({},Ea.locale,za.locale);this.locale(k.locale(Fa.number,Fa.time))}this._elBind=this._el=null;this._renderType=za.renderer||v.RenderType.Canvas;this._scenegraph=new v.Scenegraph;Fa=this._scenegraph.root;this._renderer=null;this._tooltip=za.tooltip||ja;this._redraw=!0;this._handler=(new v.CanvasHandler).scene(Fa);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=
[];this._eventConfig=x(Ea.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const bb=pa(this,Ea,za.expr);this._runtime=bb;this._signals=bb.signals;this._bind=(Ea.bindings||[]).map(lb=>({state:null,param:p.extend({},lb)}));bb.root&&bb.root.set(Fa);Fa.source=bb.data.root.input;this.pulse(bb.data.root.input,this.changeset().insert(Fa.items));this._width=this.width();this._height=this.height();this._viewWidth=Da(this,this._width);this._viewHeight=Ma(this,this._height);this._origin=[0,0];
this._resize=0;this._autosize=1;ua(this);d(this);a(this);this.description(Ea.description);za.hover&&this.hover();za.container&&this.initialize(za.container,za.bind)}function nb(Ea,za){return p.hasOwnProperty(Ea._signals,za)?Ea._signals[za]:p.error("Unrecognized signal name: "+p.stringValue(za))}function pb(Ea,za){Ea=(Ea._targets||[]).filter(Fa=>Fa._update&&Fa._update.handler===za);return Ea.length?Ea[0]:null}function Fb(Ea,za,Fa,bb){let lb=pb(Fa,bb);lb||(lb=la(Ea,()=>bb(za,Fa.value)),lb.handler=bb,
Ea.on(Fa,null,lb));return Ea}function nc(Ea,za,Fa){(Fa=pb(za,Fa))&&za._targets.remove(Fa);return Ea}const Lc={trap:!1};var Ac=Math.sqrt(50),yc=Math.sqrt(10),tc=Math.sqrt(2),hd={skip:!0},Mb=0,Ab=0,ec=0,ac,lc,Ic=0,Ec=0,Rc=0,id="object"===typeof performance&&performance.now?performance:Date,Td="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ea){setTimeout(Ea,17)};eb.prototype={constructor:eb,restart:function(Ea,za,Fa){if("function"!==typeof Ea)throw new TypeError("callback is not a function");
Fa=(null==Fa?Ha():+Fa)+(null==za?0:+za);this._next||lc===this||(lc?lc._next=this:ac=this,lc=this);this._call=Ea;this._time=Fa;oa()},stop:function(){this._call&&(this._call=null,this._time=Infinity,oa())}};p.inherits(cb,n.Dataflow,{evaluate(Ea,za,Fa){const bb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield n.Dataflow.prototype.evaluate.call(bb,Ea,za);if(bb._redraw||bb._resize)try{bb._renderer&&(bb._resize&&(bb._resize=0,J(bb)),yield bb._renderer.renderAsync(bb._scenegraph.root)),
bb._redraw=!1}catch(lb){bb.error(lb)}Fa&&n.asyncCallback(bb,Fa);return bb})},dirty(Ea){this._redraw=!0;this._renderer&&this._renderer.dirty(Ea)},description(Ea){if(arguments.length){const za=null!=Ea?Ea+"":null;za!==this._desc&&e(this._el,this._desc=za);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ea,za,Fa){const bb=nb(this,Ea);return 1===arguments.length?bb.value:this.update(bb,za,Fa)},width(Ea){return arguments.length?
this.signal("width",Ea):this.signal("width")},height(Ea){return arguments.length?this.signal("height",Ea):this.signal("height")},padding(Ea){return arguments.length?this.signal("padding",hb(Ea)):hb(this.signal("padding"))},autosize(Ea){return arguments.length?this.signal("autosize",Ea):this.signal("autosize")},background(Ea){return arguments.length?this.signal("background",Ea):this.signal("background")},renderer(Ea){if(!arguments.length)return this._renderType;v.renderModule(Ea)||p.error("Unrecognized renderer type: "+
Ea);Ea!==this._renderType&&(this._renderType=Ea,this._resetRenderer());return this},tooltip(Ea){if(!arguments.length)return this._tooltip;Ea!==this._tooltip&&(this._tooltip=Ea,this._resetRenderer());return this},loader(Ea){if(!arguments.length)return this._loader;Ea!==this._loader&&(n.Dataflow.prototype.loader.call(this,Ea),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(nb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,
this._elBind))},_resizeView:function(Ea,za,Fa,bb,lb,zb){this.runAfter(Tb=>{let Ub=0;Tb._autosize=0;Tb.width()!==Fa&&(Ub=1,Tb.signal("width",Fa,hd),Tb._resizeWidth.skip(!0));Tb.height()!==bb&&(Ub=1,Tb.signal("height",bb,hd),Tb._resizeHeight.skip(!0));Tb._viewWidth!==Ea&&(Tb._resize=1,Tb._viewWidth=Ea);Tb._viewHeight!==za&&(Tb._resize=1,Tb._viewHeight=za);if(Tb._origin[0]!==lb[0]||Tb._origin[1]!==lb[1])Tb._resize=1,Tb._origin=lb;Ub&&Tb.run("enter");zb&&Tb.runAfter($b=>$b.resize())},!1,1)},addEventListener(Ea,
za,Fa){let bb=za;Fa&&!1===Fa.trap||(bb=la(this,za),bb.raw=za);this._handler.on(Ea,bb);return this},removeEventListener(Ea,za){for(var Fa=this._handler.handlers(Ea),bb=Fa.length,lb,zb;0<=--bb;)if(zb=Fa[bb].type,lb=Fa[bb].handler,Ea===zb&&(za===lb||za===lb.raw)){this._handler.off(zb,lb);break}return this},addResizeListener(Ea){const za=this._resizeListeners;0>za.indexOf(Ea)&&za.push(Ea);return this},removeResizeListener(Ea){var za=this._resizeListeners;Ea=za.indexOf(Ea);0<=Ea&&za.splice(Ea,1);return this},
addSignalListener(Ea,za){return Fb(this,Ea,nb(this,Ea),za)},removeSignalListener(Ea,za){return nc(this,nb(this,Ea),za)},addDataListener(Ea,za){return Fb(this,Ea,b(this,Ea).values,za)},removeDataListener(Ea,za){return nc(this,b(this,Ea).values,za)},globalCursor(Ea){if(arguments.length){if(this._globalCursor!==!!Ea){const za=c(this,null);this._globalCursor=!!Ea;za&&c(this,za)}return this}return this._globalCursor},preventDefault(Ea){return arguments.length?(this._preventDefault=Ea,this):this._preventDefault},
timer:function(Ea,za){this._timers.push(Y(function(Fa){Ea({timestamp:Date.now(),elapsed:Fa})},za))},events:function(Ea,za,Fa){var bb=this,lb=new n.EventStream(Fa);Fa=function($b,Dc){bb.runAsync(null,()=>{var dd;if(dd="view"===Ea){var fd=bb._eventConfig.defaults;dd=fd.prevent;fd=fd.allow;dd=!1===dd||!0===fd?!1:!0===dd||!1===fd?!0:dd?dd[za]:fd?!fd[za]:bb.preventDefault()}dd&&$b.preventDefault();dd=lb.receive;fd=(fd=bb._renderer)&&fd.canvas();if(fd){var od=C(bb);var sd=$b.changedTouches?$b.changedTouches[0]:
$b;sd=v.point(sd,fd);sd[0]-=od[0];sd[1]-=od[1]}$b.dataflow=bb;$b.item=Dc;$b.vega=A(bb,Dc,sd);dd.call(lb,$b)})};var zb;if("timer"===Ea)H(bb,"timer",za)&&bb.timer(Fa,za);else if("view"===Ea)H(bb,"view",za)&&bb.addEventListener(za,Fa,Lc);else if("window"===Ea?H(bb,"window",za)&&"undefined"!==typeof window&&(zb=[window]):"undefined"!==typeof document&&H(bb,"selector",za)&&(zb=document.querySelectorAll(Ea)),zb){for(var Tb=0,Ub=zb.length;Tb<Ub;++Tb)zb[Tb].addEventListener(za,Fa);q(bb,zb,za,Fa)}else bb.warn("Can not resolve event source: "+
Ea);return lb},finalize:function(){var Ea=this._tooltip,za=this._timers,Fa=this._eventListeners,bb;for(bb=za.length;0<=--bb;)za[bb].stop();for(bb=Fa.length;0<=--bb;){var lb=Fa[bb];for(za=lb.sources.length;0<=--za;)lb.sources[za].removeEventListener(lb.type,lb.handler)}Ea&&Ea.call(this,this._handler,null,null,null);return this},hover:function(Ea,za){Ea=[Ea||"hover"];za=[za||"update",Ea[0]];this.on(this.events("view","mouseover",M),R,Z(Ea));this.on(this.events("view","mouseout",M),R,Z(za));return this},
data:function(Ea,za){return 2>arguments.length?b(this,Ea).values.value:m.call(this,Ea,n.changeset().remove(p.truthy).insert(za))},change:m,insert:function(Ea,za){return m.call(this,Ea,n.changeset().insert(za))},remove:function(Ea,za){return m.call(this,Ea,n.changeset().remove(za))},scale:function(Ea){var za=this._runtime.scales;p.hasOwnProperty(za,Ea)||p.error("Unrecognized scale or projection: "+Ea);return za[Ea].value},initialize:function(Ea,za){const Fa=this;var bb=Fa._renderType;const lb=Fa._eventConfig.bind;
var zb=v.renderModule(bb);Ea=Fa._el=Ea?Ua(Fa,Ea,!0):null;f(Fa);zb||Fa.error("Unrecognized renderer type: "+bb);bb=zb.handler||v.CanvasHandler;zb=Ea?zb.renderer:zb.headless;Fa._renderer=zb?da(Fa,Fa._renderer,Ea,zb):null;Fa._handler=wa(Fa,Fa._handler,Ea,bb);Fa._redraw=!0;Ea&&"none"!==lb&&(za=za?Fa._elBind=Ua(Fa,za,!0):Ea.appendChild(T("form",{"class":"vega-bindings"})),Fa._bind.forEach(Tb=>{Tb.param.element&&"container"!==lb&&(Tb.element=Ua(Fa,Tb.param.element,!!Tb.param.input))}),Fa._bind.forEach(Tb=>
{aa(Fa,Tb.element||za,Tb)}));return Fa},toImageURL:function(Ea,za){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ea!==v.RenderType.Canvas&&Ea!==v.RenderType.SVG&&Ea!==v.RenderType.PNG&&p.error("Unrecognized image type: "+Ea);var bb=yield La(Fa,Ea,za);Ea===v.RenderType.SVG?(bb=bb.svg(),bb=new Blob([bb],{type:"image/svg+xml"}),bb=window.URL.createObjectURL(bb)):bb=bb.canvas().toDataURL("image/png");return bb})},toCanvas:function(Ea,za){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield La(Fa,
v.RenderType.Canvas,Ea,za)).canvas()})},toSVG:function(Ea){const za=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield La(za,v.RenderType.SVG,Ea)).svg()})},getState:function(Ea){return this._runtime.getState(Ea||{data:Aa,signals:qa,recurse:!0})},setState:function(Ea){this.runAsync(null,za=>{za._trigger=!1;za._runtime.setState(Ea)},za=>{za._trigger=!0});return this}});y.View=cb;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[45]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G):"function"===typeof define&&define.amd?define(["exports"],p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={}))})(this,function(y){function p(d,a,c,b,m){const z=d.length;let u=0,C;for(;a<z;++a)if(C=d[a],u||C!==c)m&&0<=m.indexOf(C)?--u:b&&0<=b.indexOf(C)&&++u;else break;return a}function n(d){const a=[],c=d.length;let b=0,m=0;for(;m<c;)m=p(d,m,",","[{","]}"),a.push(d.substring(b,
m).trim()),b=++m;if(0===a.length)throw"Empty event selector: "+d;return a}function v(d){if("["===d[0]){var a=d;var c=a.length;d=p(a,1,"]","[","]");if(d===c)throw"Empty between selector: "+a;c=n(a.substring(1,d));if(2!==c.length)throw"Between selector must have two elements: "+a;a=a.slice(d+1).trim();if("\x3e"!==a[0])throw"Expected '\x3e' after between selector: "+a;c=c.map(v);a=v(a.slice(1).trim());a.between?a={between:c,stream:a}:a.between=c}else{c={source:f};const b=[];let m=[0,0],z=0,u=0,C=d.length,
J=0,A;if("}"===d[C-1]){J=d.lastIndexOf("{");if(0<=J){try{m=r(d.substring(J+1,C-1))}catch(x){throw"Invalid throttle specification: "+d;}d=d.slice(0,J).trim();C=d.length}else throw"Unmatched right brace: "+d;J=0}if(!C)throw d;"@"===d[0]&&(z=++J);A=p(d,J,":");A<C&&(b.push(d.substring(u,A).trim()),u=J=++A);J=p(d,J,"[");if(J===C)b.push(d.substring(u,C).trim());else if(b.push(d.substring(u,J).trim()),a=[],u=++J,u===C)throw"Unmatched left bracket: "+d;for(;J<C;){J=p(d,J,"]");if(J===C)throw"Unmatched left bracket: "+
d;a.push(d.substring(u,J).trim());if(J<C-1&&"["!==d[++J])throw"Expected left bracket: "+d;u=++J}if(!(C=b.length)||h.test(b[C-1]))throw"Invalid event selector: "+d;1<C?(c.type=b[1],z?c.markname=b[0].slice(1):e[b[0]]?c.marktype=b[0]:c.source=b[0]):c.type=b[0];"!"===c.type.slice(-1)&&(c.consume=!0,c.type=c.type.slice(0,-1));null!=a&&(c.filter=a);m[0]&&(c.throttle=m[0]);m[1]&&(c.debounce=m[1]);a=c}return a}function r(d){const a=d.split(",");if(!d.length||2<a.length)throw d;return a.map(c=>{c=+c;if(c!==
c)throw d;return c})}const h=/[[\]{}]/,k={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let f,e;y.parseSelector=function(d,a,c){f=a||"view";e=c||k;return n(d.trim()).map(v)};Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[46]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?p(G,F(14),F(42),F(45),F(27),F(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),p):(y="undefined"!==typeof globalThis?globalThis:y||self,p(y.vega={},y.vega,y.vega,y.vega,y.vega,y.vega))})(this,function(y,p,n,v,r,h){function k(ma){return p.isObject(ma)?ma:{type:ma||"pad"}}function f(ma){p.isObject(ma)?ma=ma.signal?
ma:{top:+ma.top||0,bottom:+ma.bottom||0,left:+ma.left||0,right:+ma.right||0}:(ma=+ma||0,ma={top:ma,bottom:ma,left:ma,right:ma});return ma}function e(ma,Ka,ib,Eb){return null!=ib?(p.isObject(ib)&&!p.isArray(ib)||p.isArray(ib)&&ib.length&&p.isObject(ib[0])?ma.update[Ka]=ib:ma[Eb||"enter"][Ka]={value:ib},1):0}function d(ma,Ka,ib){for(const Eb in Ka)e(ma,Eb,Ka[Eb]);for(const Eb in ib)e(ma,Eb,ib[Eb],"update")}function a(ma,Ka,ib){for(const Eb in Ka)ib&&p.hasOwnProperty(ib,Eb)||(ma[Eb]=p.extend(ma[Eb]||
{},Ka[Eb]));return ma}function c(ma,Ka){return Ka&&(Ka.enter&&Ka.enter[ma]||Ka.update&&Ka.update[ma])}function b(ma,Ka,ib,Eb,Ib){const Nb={},kc={};let Kc,Bc;Bc="lineBreak";"text"!==Ka||null==Ib[Bc]||c(Bc,ma)||m(Nb,Bc,Ib[Bc]);if("legend"==ib||String(ib).startsWith("axis"))ib=null;ib="frame"===ib?Ib.group:"mark"===ib?p.extend({},Ib.mark,Ib[Ka]):null;for(Bc in ib)(Ka=c(Bc,ma)||("fill"===Bc||"stroke"===Bc)&&(c("fill",ma)||c("stroke",ma)))||m(Nb,Bc,ib[Bc]);p.array(Eb).forEach(wc=>{wc=Ib.style&&Ib.style[wc];
for(const ld in wc)c(ld,ma)||m(Nb,ld,wc[ld])});ma=p.extend({},ma);for(Bc in Nb)ib=Nb[Bc],ib.signal?(Kc=Kc||{})[Bc]=ib:kc[Bc]=ib;ma.enter=p.extend(kc,ma.enter);Kc&&(ma.update=p.extend(Kc,ma.update));return ma}function m(ma,Ka,ib){ma[Ka]=ib&&ib.signal?{signal:ib.signal}:{value:ib}}function z(ma){if(null!=ma.gradient)return u(ma);if(ma.signal)var Ka=`(${ma.signal})`;else ma.color?(Ka=ma.color,Ka=Ka.c?ee("hcl",Ka.h,Ka.c,Ka.l):Ka.h||Ka.s?ee("hsl",Ka.h,Ka.s,Ka.l):Ka.l||Ka.a?ee("lab",Ka.l,Ka.a,Ka.b):Ka.r||
Ka.g||Ka.b?ee("rgb",Ka.r,Ka.g,Ka.b):null):Ka=null!=ma.field?J(ma.field):void 0!==ma.value?p.stringValue(ma.value):void 0;if(null!=ma.scale){const ib=Pd(ma.scale);null!=ma.range?Ka=`lerp(_range(${ib}), ${+ma.range})`:(void 0!==Ka&&(Ka=`_scale(${ib}, ${Ka})`),ma.band&&(Ka=(Ka?Ka+"+":"")+`_bandwidth(${ib})`+(1===+ma.band?"":"*"+C(ma.band)),ma.extra&&(Ka=`(datum.extra ? _scale(${ib}, datum.extra.value) : ${Ka})`)),null==Ka&&(Ka="0"))}void 0===Ka&&(Ka=null);null!=ma.exponent&&(Ka=`pow(${Ka},${C(ma.exponent)})`);
null!=ma.mult&&(Ka+=`*${C(ma.mult)}`);null!=ma.offset&&(Ka+=`+${C(ma.offset)}`);ma.round&&(Ka=`round(${Ka})`);return Ka}function u(ma){const Ka=[ma.start,ma.stop,ma.count].map(ib=>null==ib?null:p.stringValue(ib));for(;Ka.length&&null==p.peek(Ka);)Ka.pop();Ka.unshift(Pd(ma.gradient));return`gradient(${Ka.join(",")})`}function C(ma){return p.isObject(ma)?"("+z(ma)+")":ma}function J(ma){return A(p.isObject(ma)?ma:{datum:ma})}function A(ma){let Ka;if(ma.signal){Ka="datum";var ib=ma.signal}else if(ma.group||
ma.parent){ib=Math.max(1,ma.level||1);for(Ka="item";0<ib--;)Ka+=".mark.group";ma.parent?(ib=ma.parent,Ka+=".datum"):ib=ma.group}else ma.datum?(Ka="datum",ib=ma.datum):p.error("Invalid field reference: "+p.stringValue(ma));ma.signal||(ib=p.isString(ib)?p.splitAccessPath(ib).map(p.stringValue).join("]["):A(ib));return Ka+"["+ib+"]"}function x(ma){let Ka="";ma.forEach(ib=>{const Eb=z(ib);Ka+=ib.test?`(${ib.test})?${Eb}:`:Eb});":"===p.peek(Ka)&&(Ka+="null");return Ka}function q(ma,Ka,ib,Eb,Ib,Nb){const kc=
{};Nb=Nb||{};Nb.encoders={$encode:kc};ma=b(ma,Ka,ib,Eb,Ib.config);for(const wd in ma){ib=ma[wd];Eb=Ka;var Kc=Nb,Bc=Ib;const Fe={},Fd={};for(const he in ib)if(null!=ib[he]){var wc=H;var ld=ib[he];ld=p.isArray(ld)?x(ld):z(ld);Fe[he]=wc(ld,Bc,Kc,Fd)}ib={$expr:{marktype:Eb,channels:Fe},$fields:Object.keys(Fd),$output:Object.keys(ib)};kc[wd]=ib}return Nb}function H(ma,Ka,ib,Eb){ma=n.parseExpression(ma,Ka);ma.$fields.forEach(Ib=>Eb[Ib]=1);p.extend(ib,ma.$params);return ma.$expr}function M(ma,Ka){p.error(ma+
' for "outer" push: '+p.stringValue(Ka))}function R(ma,Ka){const ib=ma.name;if("outer"===ma.push)Ka.signals[ib]||M("No prior signal definition",ib),Ce.forEach(Eb=>{void 0!==ma[Eb]&&M("Invalid property ",Eb)});else{const Eb=Ka.addSignal(ib,ma.value);!1===ma.react&&(Eb.react=!1);ma.bind&&Ka.addBinding(ib,ma.bind)}}function Z(ma,Ka,ib,Eb){this.id=-1;this.type=ma;this.value=Ka;this.params=ib;Eb&&(this.parent=Eb)}function T(ma){const Ka={$ref:ma.id};0>ma.id&&(ma.refs=ma.refs||[]).push(Ka);return Ka}function ba(ma,
Ka){return Ka?{$field:ma,$name:Ka}:{$field:ma}}function aa(ma,Ka){ma={$key:ma};Ka&&(ma.$flat=!0);return ma}function W(ma,Ka){return(ma&&ma.signal?"$"+ma.signal:ma||"")+(ma&&Ka?"_":"")+(Ka&&Ka.signal?"$"+Ka.signal:Ka||"")}function X(ma){return ma&&ma.signal}function P(ma){if(X(ma))return!0;if(p.isObject(ma))for(const Ka in ma)if(P(ma[Ka]))return!0;return!1}function w(ma,Ka){return null!=ma?ma:Ka}function B(ma){return ma&&ma.signal||ma}function K(ma,Ka){return(ma.merge?U:ma.stream?ka:ma.type?da:p.error("Invalid stream specification: "+
p.stringValue(ma)))(ma,Ka)}function U(ma,Ka){const ib=ma.merge.map(Eb=>K(Eb,Ka));ma=la({merge:ib},ma,Ka);return Ka.addStream(ma).id}function ka(ma,Ka){const ib=K(ma.stream,Ka);ma=la({stream:ib},ma,Ka);return Ka.addStream(ma).id}function da(ma,Ka){if("timer"===ma.type){var ib=Ka.event("timer",ma.throttle);ma={between:ma.between,filter:ma.filter}}else ib=ma.source,ib=Ka.event.call(Ka,"scope"===ib?"view":ib||"view",ma.type);ma=la({stream:ib},ma,Ka);return 1===Object.keys(ma).length?ib:Ka.addStream(ma).id}
function la(ma,Ka,ib){let Eb=Ka.between;Eb&&(2!==Eb.length&&p.error('Stream "between" parameter must have 2 entries: '+p.stringValue(Ka)),ma.between=[K(Eb[0],ib),K(Eb[1],ib)]);Eb=Ka.filter?[].concat(Ka.filter):[];if(Ka.marktype||Ka.markname||Ka.markrole){var Ib=Eb,Nb=Ka.marktype,kc=Ka.markname,Kc=Ka.markrole;Ib.push.call(Ib,"event.item"+(Nb&&"*"!==Nb?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Nb+"'":"")+(Kc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Kc+"'":"")+(kc?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+
kc+"'":""))}"scope"===Ka.source&&Eb.push("inScope(event.item)");Eb.length&&(ma.filter=n.parseExpression("("+Eb.join(")\x26\x26(")+")",ib).$expr);null!=(Eb=Ka.throttle)&&(ma.throttle=+Eb);null!=(Eb=Ka.debounce)&&(ma.debounce=+Eb);Ka.consume&&(ma.consume=!0);return ma}function wa(ma,Ka,ib){const Eb=ma.encode,Ib={target:ib};ib=ma.events;let Nb=ma.update,kc=[];ib||p.error("Signal update missing events specification.");p.isString(ib)&&(ib=v.parseSelector(ib,Ka.isSubscope()?"scope":"view"));ib=p.array(ib).filter(Kc=>
Kc.signal||Kc.scale?(kc.push(Kc),0):1);1<kc.length&&(kc=[Ua(kc)]);ib.length&&kc.push(1<ib.length?{merge:ib}:ib[0]);null!=Eb&&(Nb&&p.error("Signal encode and update are mutually exclusive."),Nb="encode(item(),"+p.stringValue(Eb)+")");Ib.update=p.isString(Nb)?n.parseExpression(Nb,Ka):null!=Nb.expr?n.parseExpression(Nb.expr,Ka):null!=Nb.value?Nb.value:null!=Nb.signal?{$expr:Df,$params:{$value:Ka.signalRef(Nb.signal)}}:p.error("Invalid signal update specification.");ma.force&&(Ib.options={force:!0});
kc.forEach(Kc=>{var Bc=Ka.addUpdate,wc=p.extend;Kc={source:Kc.signal?Ka.signalRef(Kc.signal):Kc.scale?Ka.scaleRef(Kc.scale):K(Kc,Ka)};return Bc.call(Ka,wc.call(p,Kc,Ib))})}function Ua(ma){return{signal:"["+ma.map(Ka=>Ka.scale?'scale("'+Ka.scale+'")':Ka.signal)+"]"}}function hb(ma,Ka){const ib=Ka.getSignal(ma.name);let Eb=ma.update;ma.init&&(Eb?p.error("Signals can not include both init and update expressions."):(Eb=ma.init,ib.initonly=!0));Eb&&(Eb=n.parseExpression(Eb,Ka),ib.update=Eb.$expr,ib.params=
Eb.$params);ma.on&&ma.on.forEach(Ib=>wa(Ib,Ka,ib.id))}function La(ma,Ka){return p.isObject(ma)?ma.signal?Ka.signalRef(ma.signal):p.error("Unsupported object: "+p.stringValue(ma)):ma}function pa(ma,Ka){return ma.signal?Ka.signalRef(ma.signal):ma.map(ib=>La(ib,Ka))}function Da(ma){p.error("Can not find data set: "+p.stringValue(ma))}function Ma(ma,Ka,ib){if(ma)return ma.signal?ib.signalRef(ma.signal):(p.isArray(ma)?ua:ma.fields?qa:Aa)(ma,Ka,ib);null==Ka.domainMin&&null==Ka.domainMax||p.error("No scale domain defined for domainMin/domainMax to override.")}
function ua(ma,Ka,ib){return ma.map(Eb=>La(Eb,ib))}function Aa(ma,Ka,ib){const Eb=ib.getData(ma.data);Eb||Da(ma.data);return r.isDiscrete(Ka.type)?Eb.valuesRef(ib,ma.field,Va(ma.sort,!1)):r.isQuantile(Ka.type)?Eb.domainRef(ib,ma.field):Eb.extentRef(ib,ma.field)}function qa(ma,Ka,ib){const Eb=ma.data,Ib=ma.fields.reduce((Nb,kc)=>{if(p.isString(kc))kc={data:Eb,field:kc};else if(p.isArray(kc)||kc.signal){var Kc=kc;kc="_:vega:_"+Oa++;const Bc=qc({});p.isArray(Kc)?Bc.value={$ingest:Kc}:Kc.signal&&(Kc=
"setdata("+p.stringValue(kc)+","+Kc.signal+")",Bc.params.input=ib.signalRef(Kc));ib.addDataPipeline(kc,[Bc,jb({})]);kc={data:kc,field:"data"}}Nb.push(kc);return Nb},[]);return(r.isDiscrete(Ka.type)?Ha:r.isQuantile(Ka.type)?eb:ta)(ma,ib,Ib)}function Ha(ma,Ka,ib){const Eb=Va(ma.sort,!0);ma=ib.map(Nb=>{const kc=Ka.getData(Nb.data);kc||Da(Nb.data);return kc.countsRef(Ka,Nb.field,Eb)});const Ib={groupby:ue,pulse:ma};Eb&&(ma=Eb.op||"count",ib=Eb.field?W(ma,Eb.field):"count",Ib.ops=[$a[ma]],Ib.fields=[Ka.fieldRef(ib)],
Ib.as=[ib]);ma=Ka.add(Me(Ib));ma=Ka.add(qc({pulse:T(ma)}));ib=Ka.add(ha({field:ue,sort:Ka.sortRef(Eb),pulse:T(ma)}));return T(ib)}function Va(ma,Ka){ma&&(ma.field||ma.op?ma.field||"count"===ma.op?Ka&&ma.field&&ma.op&&!$a[ma.op]&&p.error("Multiple domain scales can not be sorted using "+ma.op):p.error("No field provided for sort aggregate op: "+ma.op):p.isObject(ma)?ma.field="key":ma={field:"key"});return ma}function eb(ma,Ka,ib){ma=ib.map(Eb=>{const Ib=Ka.getData(Eb.data);Ib||Da(Eb.data);return Ib.domainRef(Ka,
Eb.field)});return T(Ka.add(Sc({values:ma})))}function ta(ma,Ka,ib){ma=ib.map(Eb=>{const Ib=Ka.getData(Eb.data);Ib||Da(Eb.data);return Ib.extentRef(Ka,Eb.field)});return T(Ka.add(Zb({extents:ma})))}function Qa(ma,Ka,ib){const Eb=Ka.config.range;let Ib=ma.range;if(Ib.signal)return Ka.signalRef(Ib.signal);if(p.isString(Ib)){if(Eb&&p.hasOwnProperty(Eb,Ib))return ma=p.extend({},ma,{range:Eb[Ib]}),Qa(ma,Ka,ib);"width"===Ib?Ib=[0,{signal:"width"}]:"height"===Ib?Ib=r.isDiscrete(ma.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:p.error("Unrecognized scale range value: "+p.stringValue(Ib))}else{if(Ib.scheme){ib.scheme=p.isArray(Ib.scheme)?pa(Ib.scheme,Ka):La(Ib.scheme,Ka);Ib.extent&&(ib.schemeExtent=pa(Ib.extent,Ka));Ib.count&&(ib.schemeCount=La(Ib.count,Ka));return}if(Ib.step){ib.rangeStep=La(Ib.step,Ka);return}if(r.isDiscrete(ma.type)&&!p.isArray(Ib))return Ma(Ib,ma,Ka);p.isArray(Ib)||p.error("Unsupported range type: "+p.stringValue(Ib))}return Ib.map(Nb=>(p.isArray(Nb)?pa:La)(Nb,Ka))}function oa(ma,
Ka,ib){return p.isArray(ma)?ma.map(Eb=>oa(Eb,Ka,ib)):p.isObject(ma)?ma.signal?ib.signalRef(ma.signal):"fit"===Ka?ma:p.error("Unsupported parameter object: "+p.stringValue(ma)):ma}function Y(ma){ma.type="group";ma.interactive=ma.interactive||!1;return ma}function ja(ma,Ka){const ib=(Eb,Ib)=>w(ma[Eb],w(Ka[Eb],Ib));ib.isVertical=Eb=>"vertical"===w(ma.direction,Ka.direction||(Eb?Ka.symbolDirection:Ka.gradientDirection));ib.gradientLength=()=>w(ma.gradientLength,Ka.gradientLength||Ka.gradientWidth);ib.gradientThickness=
()=>w(ma.gradientThickness,Ka.gradientThickness||Ka.gradientHeight);ib.entryColumns=()=>w(ma.columns,w(Ka.columns,+ib.isVertical(!0)));return ib}function Ga(ma,Ka){return(ma=Ka&&(Ka.update&&Ka.update[ma]||Ka.enter&&Ka.enter[ma]))&&ma.signal?ma:ma?ma.value:null}function Wa(ma,Ka,ib){return`item.anchor === '${"start"}' ? ${ma} : item.anchor === '${"end"}' ? ${Ka} : ${ib}`}function cb(ma,Ka){return Ka?ma?p.isObject(ma)?Object.assign({},ma,{offset:cb(ma.offset,Ka)}):{value:ma,offset:Ka}:Ka:ma}function nb(ma,
Ka){Ka?(ma.name=Ka.name,ma.style=Ka.style||ma.style,ma.interactive=!!Ka.interactive,ma.encode=a(ma.encode,Ka,Cb)):ma.interactive=!1;return ma}function pb(ma,Ka,ib,Eb){ma=ja(ma,ib);ib=ma.isVertical();var Ib=ma.gradientThickness();const Nb=ma.gradientLength();let kc,Kc,Bc;ib?(ib=[0,1],Kc=[0,0],Bc=Ib,Ib=Nb):(ib=[0,0],Kc=[1,0],Bc=Nb);Ib={enter:kc={opacity:Wb,x:Wb,y:Wb,width:Nd(Bc),height:Nd(Ib)},update:p.extend({},kc,{opacity:sc,fill:{gradient:Ka,start:ib,stop:Kc}}),exit:{opacity:Wb}};d(Ib,{stroke:ma("gradientStrokeColor"),
strokeWidth:ma("gradientStrokeWidth")},{opacity:ma("gradientOpacity")});return nb({type:"rect",role:"legend-gradient",encode:Ib},Eb)}function Fb(ma,Ka,ib,Eb,Ib){ma=ja(ma,ib);const Nb=ma.isVertical();ib=ma.gradientThickness();const kc=ma.gradientLength();var Kc;let Bc,wc,ld,wd="";Nb?(Kc="y",wc="y2",Bc="x",ld="width",wd="1-"):(Kc="x",wc="x2",Bc="y",ld="height");Ka={opacity:Wb,fill:{scale:Ka,field:"value"}};Ka[Kc]={signal:wd+"datum.perc",mult:kc};Ka[Bc]=Wb;Ka[wc]={signal:wd+"datum.perc2",mult:kc};Ka[ld]=
Nd(ib);Kc={enter:Ka,update:p.extend({},Ka,{opacity:sc}),exit:{opacity:Wb}};d(Kc,{stroke:ma("gradientStrokeColor"),strokeWidth:ma("gradientStrokeWidth")},{opacity:ma("gradientOpacity")});return nb({type:"rect",role:"legend-band",key:"value",from:Ib,encode:Kc},Eb)}function nc(ma,Ka,ib,Eb){const Ib=ja(ma,Ka);var Nb=Ib.isVertical();const kc=Nd(Ib.gradientThickness()),Kc=Ib.gradientLength();let Bc=Ib("labelOverlap"),wc,ld,wd,Fe="";const Fd={enter:wc={opacity:Wb},update:ld={opacity:sc,text:{field:"label"}},
exit:{opacity:Wb}};d(Fd,{fill:Ib("labelColor"),fillOpacity:Ib("labelOpacity"),font:Ib("labelFont"),fontSize:Ib("labelFontSize"),fontStyle:Ib("labelFontStyle"),fontWeight:Ib("labelFontWeight"),limit:w(ma.labelLimit,Ka.gradientLabelLimit)});Nb?(wc.align={value:"left"},wc.baseline=ld.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Nb="y",wd="x",Fe="1-"):(wc.align=ld.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},wc.baseline={value:"top"},
Nb="x",wd="y");wc[Nb]=ld[Nb]={signal:Fe+"datum.perc",mult:Kc};wc[wd]=ld[wd]=kc;kc.offset=w(ma.labelOffset,Ka.gradientLabelOffset)||0;Bc=Bc?{separation:Ib("labelSeparation"),method:Bc,order:"datum.index"}:void 0;return nb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Eb,encode:Fd,overlap:Bc},ib)}function Lc(ma,Ka,ib,Eb,Ib){var Nb=ja(ma,Ka);const kc=ib.entries,Kc=!(!kc||!kc.interactive),Bc=kc?kc.name:void 0,wc=Nb("clipHeight"),ld=Nb("symbolOffset"),wd={data:"value"},Fe=`(${Ib}) ? datum.${"offset"} : datum.${"size"}`,
Fd=wc?Nd(wc):{field:"size"},he=`max(1, ${Ib})`;let se,td;Fd.mult=.5;var Dd={enter:se={opacity:Wb,x:{signal:Fe,mult:.5,offset:ld},y:Fd},update:td={opacity:sc,x:se.x,y:se.y},exit:{opacity:Wb}};let fe=null,qe=null;ma.fill||(fe=Ka.symbolBaseFillColor,qe=Ka.symbolBaseStrokeColor);d(Dd,{fill:Nb("symbolFillColor",fe),shape:Nb("symbolType"),size:Nb("symbolSize"),stroke:Nb("symbolStrokeColor",qe),strokeDash:Nb("symbolDash"),strokeDashOffset:Nb("symbolDashOffset"),strokeWidth:Nb("symbolStrokeWidth")},{opacity:Nb("symbolOpacity")});
ub.forEach(Ad=>{ma[Ad]&&(td[Ad]=se[Ad]={scale:ma[Ad],field:"value"})});Ka=nb({type:"symbol",role:"legend-symbol",key:"value",from:wd,clip:wc?!0:void 0,encode:Dd},ib.symbols);Dd=Nd(ld);Dd.offset=Nb("labelOffset");Dd={enter:se={opacity:Wb,x:{signal:Fe,offset:Dd},y:Fd},update:td={opacity:sc,text:{field:"label"},x:se.x,y:se.y},exit:{opacity:Wb}};d(Dd,{align:Nb("labelAlign"),baseline:Nb("labelBaseline"),fill:Nb("labelColor"),fillOpacity:Nb("labelOpacity"),font:Nb("labelFont"),fontSize:Nb("labelFontSize"),
fontStyle:Nb("labelFontStyle"),fontWeight:Nb("labelFontWeight"),limit:Nb("labelLimit")});ib=nb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:wd,encode:Dd},ib.labels);Dd={enter:{noBound:{value:!wc},width:Wb,height:wc?Nd(wc):Wb,opacity:Wb},exit:{opacity:Wb},update:td={opacity:sc,row:{signal:null},column:{signal:null}}};Nb.isVertical(!0)?(Nb=`ceil(item.mark.items.length / ${he})`,td.row.signal=`${"datum.index"}%${Nb}`,td.column.signal=`floor(${"datum.index"} / ${Nb})`,Nb={field:["row",
"datum.index"]}):(td.row.signal=`floor(${"datum.index"} / ${he})`,td.column.signal=`${"datum.index"} % ${he}`,Nb={field:"datum.index"});td.column.signal=`(${Ib})?${td.column.signal}:${"datum.index"}`;Eb={facet:{data:Eb,name:"value",groupby:"index"}};return Y({role:"scope",from:Eb,encode:a(Dd,kc,Cb),marks:[Ka,ib],name:Bc,interactive:Kc,sort:Nb})}function Ac(ma,Ka){ma=ja(ma,Ka);return{align:ma("gridAlign"),columns:ma.entryColumns(),center:{row:!0,column:!1},padding:{row:ma("rowPadding"),column:ma("columnPadding")}}}
function yc(ma,Ka,ib,Eb){Ka=ja(ma,Ka);const Ib={enter:{opacity:Wb},update:{opacity:sc,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Wb}};d(Ib,{orient:Ka("titleOrient"),_anchor:Ka("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:Cc},baseline:{signal:zc},text:ma.title,fill:Ka("titleColor"),fillOpacity:Ka("titleOpacity"),font:Ka("titleFont"),fontSize:Ka("titleFontSize"),fontStyle:Ka("titleFontStyle"),fontWeight:Ka("titleFontWeight"),limit:Ka("titleLimit"),lineHeight:Ka("titleLineHeight")},{align:Ka("titleAlign"),baseline:Ka("titleBaseline")});return nb({type:"text",role:"legend-title",style:"guide-title",from:Eb,encode:Ib},ib)}function tc(ma,Ka){let ib;p.isObject(ma)&&(ma.signal?ib=ma.signal:ma.path?ib="pathShape("+
hd(ma.path)+")":ma.sphere&&(ib="geoShape("+hd(ma.sphere)+', {type: "Sphere"})'));return ib?Ka.signalRef(ib):!!ma}function hd(ma){return p.isObject(ma)&&ma.signal?ma.signal:p.stringValue(ma)}function Mb(ma){const Ka=ma.role||"";return Ka.indexOf("axis")&&Ka.indexOf("legend")&&Ka.indexOf("title")?"group"===ma.type?"scope":Ka||"mark":Ka}function Ab(ma){return{marktype:ma.type,name:ma.name||void 0,role:ma.role||Mb(ma),zindex:+ma.zindex||void 0,aria:ma.aria,description:ma.description}}function ec(ma,Ka){return ma&&
ma.signal?Ka.signalRef(ma.signal):!1===ma?!1:!0}function ac(ma,Ka){const ib=h.definition(ma.type);ib||p.error("Unrecognized transform type: "+p.stringValue(ma.type));var Eb=ib.type.toLowerCase();var Ib=lc(ib,ma,Ka);Eb=new Z(Eb,null,Ib,void 0);ma.signal&&Ka.addSignal(ma.signal,Ka.proxy(Eb));Eb.metadata=ib.metadata||{};return Eb}function lc(ma,Ka,ib){const Eb={},Ib=ma.params.length;for(let Nb=0;Nb<Ib;++Nb){const kc=ma.params[Nb];Eb[kc.name]=Ic(kc,Ka,ib)}return Eb}function Ic(ma,Ka,ib){const Eb=ma.type,
Ib=Ka[ma.name];if("index"===Eb)return Rc(ma,Ka,ib);if(void 0===Ib)ma.required&&p.error("Missing required "+p.stringValue(Ka.type)+" parameter: "+p.stringValue(ma.name));else return"param"===Eb?id(ma,Ka,ib):"projection"===Eb?ib.projectionRef(Ka[ma.name]):ma.array&&!X(Ib)?Ib.map(Nb=>Ec(ma,Nb,ib)):Ec(ma,Ib,ib)}function Ec(ma,Ka,ib){const Eb=ma.type;return X(Ka)?"expr"===Eb?p.error("Expression references can not be signals."):"field"===Eb?ib.fieldRef(Ka):"compare"===Eb?ib.compareRef(Ka):ib.signalRef(Ka.signal):
(ma=ma.expr||"field"===Eb)&&Ka&&Ka.expr?ib.exprRef(Ka.expr,Ka.as):ma&&Ka&&Ka.field?ba(Ka.field,Ka.as):"expr"===Eb?n.parseExpression(Ka,ib):"data"===Eb?T(ib.getData(Ka).values):"field"===Eb?ba(Ka):"compare"===Eb?ib.compareRef(Ka):Ka}function Rc(ma,Ka,ib){p.isString(Ka.from)||p.error('Lookup "from" parameter must be a string literal.');return ib.getData(Ka.from).lookupRef(ib,Ka.key)}function id(ma,Ka,ib){Ka=Ka[ma.name];return ma.array?(p.isArray(Ka)||p.error("Expected an array of sub-parameters. Instead: "+
p.stringValue(Ka)),Ka.map(Eb=>Td(ma,Eb,ib))):Td(ma,Ka,ib)}function Td(ma,Ka,ib){const Eb=ma.params.length;let Ib;for(let Nb=0;Nb<Eb;++Nb){Ib=ma.params[Nb];for(const kc in Ib.key)if(Ib.key[kc]!==Ka[kc]){Ib=null;break}if(Ib)break}Ib||p.error("Unsupported parameter: "+p.stringValue(Ka));ma=p.extend(lc(Ib,Ka,ib),Ib.key);return T(ib.add(ke(ma)))}function Ea(ma,Ka,ib){let Eb,Ib,Nb,kc;if(!ma)Nb=T(ib.add(qc(null,[{}])));else if(Eb=ma.facet)Ka||p.error("Only group marks can be faceted."),null!=Eb.field?Nb=
kc=za(Eb,ib):(ma.data?kc=T(ib.getData(ma.data).aggregate):(Ka=ac(p.extend({type:"aggregate",groupby:p.array(Eb.groupby)},Eb.aggregate),ib),Ka.params.key=ib.keyRef(Eb.groupby),Ka.params.pulse=za(Eb,ib),Nb=kc=T(ib.add(Ka))),Ib=ib.keyRef(Eb.groupby,!0));Nb||(Nb=za(ma,ib));return{key:Ib,pulse:Nb,parent:kc}}function za(ma,Ka){return ma.$ref?ma:ma.data&&ma.data.$ref?ma.data:T(Ka.getData(ma.data).output)}function Fa(ma,Ka,ib,Eb,Ib){this.scope=ma;this.input=Ka;this.output=ib;this.values=Eb;this.aggregate=
Ib;this.index={}}function bb(ma){return p.isString(ma)?ma:null}function lb(ma,Ka,ib){const Eb=W(ib.op,ib.field);let Ib;if(Ka.ops)for(let Nb=0,kc=Ka.as.length;Nb<kc;++Nb){if(Ka.as[Nb]===Eb)return}else Ka.ops=["count"],Ka.fields=[null],Ka.as=["count"];ib.op&&(Ka.ops.push((Ib=ib.op.signal)?ma.signalRef(Ib):ib.op),Ka.fields.push(ma.fieldRef(ib.field)),Ka.as.push(Eb))}function zb(ma,Ka,ib,Eb,Ib,Nb,kc){ib=Ka[ib]||(Ka[ib]={});var Kc=p.isObject(Nb)?("descending"===Nb.order?"-":"+")+W(Nb.op,Nb.field):"";let Bc=
bb(Ib);if(null!=Bc){ma=Ka.scope;Bc+=Kc?"|"+Kc:"";var wc=ib[Bc]}wc||(wc=Nb?{field:ue,pulse:Ka.countsRef(ma,Ib,Nb)}:{field:ma.fieldRef(Ib),pulse:T(Ka.output)},Kc&&(wc.sort=ma.sortRef(Nb)),ma=ma.add(new Z(Eb,void 0,wc,void 0)),kc&&(Ka.index[Ib]=ma),wc=T(ma),null!=Bc&&(ib[Bc]=wc));return wc}function Tb(ma,Ka,ib){var Eb=ma.from.facet;const Ib=Eb.name,Nb=za(Eb,Ka);let kc;Eb.name||p.error("Facet must have a name: "+p.stringValue(Eb));Eb.data||p.error("Facet must reference a data set: "+p.stringValue(Eb));
Eb.field?kc=Ka.add(Rd({field:Ka.fieldRef(Eb.field),pulse:Nb})):Eb.groupby?kc=Ka.add($e({key:Ka.keyRef(Eb.groupby),group:T(Ka.proxy(ib.parent)),pulse:Nb})):p.error("Facet must specify groupby or field: "+p.stringValue(Eb));Ka=Ka.fork();ib=Ka.add(qc());Eb=Ka.add(jb({pulse:T(ib)}));Ka.addData(Ib,new Fa(Ka,ib,ib,Eb));Ka.addSignal("parent",null);kc.params.subflow={$subflow:Ka.parse(ma).toRuntime()}}function Ub(ma,Ka,ib){ib=Ka.add(Rd({pulse:ib.pulse}));Ka=Ka.fork();Ka.add(jb());Ka.addSignal("parent",null);
ib.params.subflow={$subflow:Ka.parse(ma).toRuntime()}}function $b(ma,Ka,ib){const Eb=ma.remove,Ib=ma.insert,Nb=ma.toggle,kc=ma.modify,Kc=ma.values,Bc=Ka.add(new Z("operator",void 0,void 0,void 0));ma="if("+ma.trigger+',modify("'+ib+'",'+[Ib,Eb,Nb,kc,Kc].map(wc=>null==wc?"null":wc).join(",")+"),0)";Ka=n.parseExpression(ma,Ka);Bc.update=Ka.$expr;Bc.params=Ka.$params}function Dc(ma,Ka){var ib=Mb(ma),Eb="group"===ma.type,Ib=ma.from&&ma.from.facet;const Nb=ma.overlap;let kc=ma.layout||"scope"===ib||"frame"===
ib,Kc,Bc,wc,ld,wd,Fe;const Fd="mark"===ib||kc||Ib,he=Ea(ma.from,Eb,Ka);Bc=Ka.add(Bd({key:he.key||(ma.key?ba(ma.key):void 0),pulse:he.pulse,clean:!Eb}));const se=T(Bc);Bc=wc=Ka.add(qc({pulse:se}));Bc=Ka.add(Bb({markdef:Ab(ma),interactive:ec(ma.interactive,Ka),clip:tc(ma.clip,Ka),context:{$context:!0},groups:Ka.lookup(),parent:Ka.signals.parent?Ka.signalRef("parent"):null,index:Ka.markpath(),pulse:T(Bc)}));var td=T(Bc);Bc=ld=Ka.add(Hd(q(ma.encode,ma.type,ib,ma.style,Ka,{mod:!1,pulse:td})));Bc.params.parent=
Ka.encode();ma.transform&&ma.transform.forEach(fe=>{fe=ac(fe,Ka);const qe=fe.metadata;(qe.generates||qe.changes)&&p.error("Mark transforms should not generate new data.");qe.nomod||(ld.params.mod=!0);fe.params.pulse=T(Bc);Ka.add(Bc=fe)});ma.sort&&(Bc=Ka.add(Ia({sort:Ka.compareRef(ma.sort),pulse:T(Bc)})));ib=T(Bc);if(Ib||kc)kc=Ka.add(Xb({layout:Ka.objectProperty(ma.layout),legends:Ka.legends,mark:td,pulse:ib})),Fe=T(kc);const Dd=Ka.add(Sb({mark:td,pulse:Fe||ib}));td=T(Dd);Eb&&(Fd&&(Kc=Ka.operators,
Kc.pop(),kc&&Kc.pop()),Ka.pushState(ib,Fe||td,se),Ib?Tb(ma,Ka,he):Fd?Ub(ma,Ka,he):Ka.parse(ma),Ka.popState(),Fd&&(kc&&Kc.push(kc),Kc.push(Dd)));Nb&&(td=dd(Nb,td,Ka));Eb=Ka.add(cf({pulse:td}));Ib=Ka.add(jb({pulse:T(Eb)},void 0,Ka.parent()));null!=ma.name&&(wd=ma.name,Ka.addData(wd,new Fa(Ka,wc,Eb,Ib)),ma.on&&ma.on.forEach(fe=>{(fe.insert||fe.remove||fe.toggle)&&p.error("Marks only support modify triggers.");$b(fe,Ka,wd)}))}function dd(ma,Ka,ib){const Eb=ma.method,Ib=ma.bound,Nb=ma.separation;Ka={separation:X(Nb)?
ib.signalRef(Nb.signal):Nb,method:X(Eb)?ib.signalRef(Eb.signal):Eb,pulse:Ka};ma.order&&(Ka.sort=ib.compareRef({field:ma.order}));Ib&&(ma=Ib.tolerance,Ka.boundTolerance=X(ma)?ib.signalRef(ma.signal):+ma,Ka.boundScale=ib.scaleRef(Ib.scale),Ka.boundOrient=Ib.orient);return T(ib.add(ce(Ka)))}function fd(ma,Ka){const ib=Ka.config.legend,Eb=ma.encode||{},Ib=ja(ma,ib),Nb=Eb.legend||{},kc=Nb.name||void 0,Kc=Nb.interactive,Bc=Nb.style,wc={};let ld=0,wd,Fe;ub.forEach(Dd=>ma[Dd]?(wc[Dd]=ma[Dd],ld=ld||ma[Dd]):
0);ld||p.error("Missing valid scale for legend.");var Fd=od(ma,Ka.scaleType(ld));const he={title:null!=ma.title,scales:wc,type:Fd,vgrad:"symbol"!==Fd&&Ib.isVertical()},se=T(Ka.add(qc(null,[he]))),td=T(Ka.add(If(Fe={type:Fd,scale:Ka.scaleRef(ld),count:Ka.objectProperty(Ib("tickCount")),limit:Ka.property(Ib("symbolLimit")),values:Ka.objectProperty(ma.values),minstep:Ka.property(ma.tickMinStep),formatType:Ka.property(ma.formatType),formatSpecifier:Ka.property(ma.format)})));"gradient"===Fd?(Fd=[pb(ma,
ld,ib,Eb.gradient),nc(ma,ib,Eb.labels,td)],Fe.count=Fe.count||Ka.signalRef(`max(2,2*floor((${B(Ib.gradientLength())})/100))`)):"discrete"===Fd?Fd=[Fb(ma,ld,ib,Eb.gradient,td),nc(ma,ib,Eb.labels,td)]:(wd=Ac(ma,ib),Fd=[Lc(ma,ib,Eb,td,B(wd.columns))],Fe.size=Od(ma,Ka,Fd[0].marks));Fd=[Y({role:"legend-entry",from:se,encode:{enter:{x:{value:0},y:{value:0}}},marks:Fd,layout:wd,interactive:Kc})];he.title&&Fd.push(yc(ma,ib,Eb.title,se));return Dc(Y({role:"legend",from:se,encode:a(Kd(Ib,ma,ib),Nb,Cb),marks:Fd,
aria:Ib("aria"),description:Ib("description"),zindex:Ib("zindex"),name:kc,interactive:Kc,style:Bc}),Ka)}function od(ma,Ka){let ib=ma.type||"symbol";ma.type||1!==sd(ma)||!ma.fill&&!ma.stroke||(ib=r.isContinuous(Ka)?"gradient":r.isDiscretizing(Ka)?"discrete":"symbol");return"gradient"!==ib?ib:r.isDiscretizing(Ka)?"discrete":"gradient"}function sd(ma){return ub.reduce((Ka,ib)=>Ka+(ma[ib]?1:0),0)}function Kd(ma,Ka,ib){const Eb={enter:{},update:{}};d(Eb,{orient:ma("orient"),offset:ma("offset"),padding:ma("padding"),
titlePadding:ma("titlePadding"),cornerRadius:ma("cornerRadius"),fill:ma("fillColor"),stroke:ma("strokeColor"),strokeWidth:ib.strokeWidth,strokeDash:ib.strokeDash,x:ma("legendX"),y:ma("legendY"),format:Ka.format,formatType:Ka.formatType});return Eb}function Od(ma,Ka,ib){const Eb=B(ae("size",ma,ib));ma=B(ae("strokeWidth",ma,ib));(ib=Ga("fontSize",ib[1].encode))||(ib=(ib=Ka.config.style["guide-label"])&&ib.fontSize);ib=B(ib);return n.parseExpression(`max(ceil(sqrt(${Eb})+${ma}),${ib})`,Ka)}function ae(ma,
Ka,ib){return Ka[ma]?`scale("${Ka[ma]}",datum)`:Ga(ma,ib[0].encode)}function de(ma,Ka){ma=p.isString(ma)?{text:ma}:ma;const ib=ja(ma,Ka.config.title);var Eb=ma.encode||{},Ib=Eb.group||{};const Nb=Ib.name||void 0,kc=Ib.interactive,Kc=Ib.style,Bc=[],wc=T(Ka.add(qc(null,[{}])));var ld=Bc.push,wd=ma;var Fe=(Fe=ma.encode)&&Fe.title||p.extend({name:ma.name,interactive:ma.interactive,style:ma.style},Fe);var Fd={value:0};Fd={enter:{opacity:Fd},update:{opacity:{value:1}},exit:{opacity:Fd}};d(Fd,{text:wd.text,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:ib("dx"),dy:ib("dy"),fill:ib("color"),font:ib("font"),fontSize:ib("fontSize"),fontStyle:ib("fontStyle"),fontWeight:ib("fontWeight"),lineHeight:ib("lineHeight")},{align:ib("align"),angle:ib("angle"),baseline:ib("baseline")});wd=nb({type:"text",role:"title-text",style:"group-title",from:wc,encode:Fd},Fe);ld.call(Bc,wd);ma.subtitle&&(ld=Bc.push,Eb=Eb.subtitle,wd={value:0},
wd={enter:{opacity:wd},update:{opacity:{value:1}},exit:{opacity:wd}},d(wd,{text:ma.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:ib("dx"),dy:ib("dy"),fill:ib("subtitleColor"),font:ib("subtitleFont"),fontSize:ib("subtitleFontSize"),fontStyle:ib("subtitleFontStyle"),fontWeight:ib("subtitleFontWeight"),lineHeight:ib("subtitleLineHeight")},{align:ib("align"),angle:ib("angle"),baseline:ib("baseline")}),ma=
nb({type:"text",role:"title-subtitle",style:"group-subtitle",from:wc,encode:wd},Eb),ld.call(Bc,ma));ma={enter:{},update:{}};d(ma,{orient:ib("orient"),anchor:ib("anchor"),align:{signal:Uc},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:ib("limit"),frame:ib("frame"),offset:ib("offset")||0,padding:ib("subtitlePadding")});Ib=a(ma,Ib,Cb);return Dc(Y({role:"title",from:wc,encode:Ib,marks:Bc,aria:ib("aria"),description:ib("description"),zindex:ib("zindex"),name:Nb,
interactive:kc,style:Kc}),Ka)}function je(ma,Ka){const ib=[];ma.transform&&ma.transform.forEach(Eb=>{ib.push(ac(Eb,Ka))});ma.on&&ma.on.forEach(Eb=>{$b(Eb,Ka,ma.name)});Ka.addDataPipeline(ma.name,qd(ma,Ka,ib))}function qd(ma,Ka,ib){const Eb=[];let Ib=null,Nb=!1,kc=!1,Kc,Bc,wc,ld;ma.values?X(ma.values)||P(ma.format)?(Eb.push(Ye(Ka,ma)),Eb.push(Ib=bf())):Eb.push(Ib=bf({$ingest:ma.values,$format:ma.format})):ma.url?P(ma.url)||P(ma.format)?(Eb.push(Ye(Ka,ma)),Eb.push(Ib=bf())):Eb.push(Ib=bf({$request:ma.url,
$format:ma.format})):ma.source&&(Ib=Kc=p.array(ma.source).map(wd=>T(Ka.getData(wd).output)),Eb.push(null));ma=0;for(Bc=ib.length;ma<Bc;++ma)wc=ib[ma],ld=wc.metadata,Ib||ld.source||Eb.push(Ib=bf()),Eb.push(wc),ld.generates&&(kc=!0),ld.modifies&&!kc&&(Nb=!0),ld.source?Ib=wc:ld.changes&&(Ib=null);Kc&&(Bc=Kc.length-1,Eb[0]=Qe({derive:Nb,pulse:Bc?Kc:Kc[0]}),(Nb||Bc)&&Eb.splice(1,0,bf()));Ib||Eb.push(bf());Eb.push(jb({}));return Eb}function bf(ma){ma=qc({},ma);ma.metadata={source:!0};return ma}function Ye(ma,
Ka){return Ne({url:Ka.url?ma.property(Ka.url):void 0,async:Ka.async?ma.property(Ka.async):void 0,values:Ka.values?ma.property(Ka.values):void 0,format:ma.objectProperty(Ka.format)})}function pe(ma,Ka,ib,Eb){let Ib;if(Ka&&p.hasOwnProperty(Ka,ma))return Ka[ma];if(p.hasOwnProperty(ib,ma))return ib[ma];if(ma.startsWith("title")){switch(ma){case "titleColor":Ib="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Ib=ma[5].toLowerCase()+ma.slice(6)}return Eb["guide-title"][Ib]}if(ma.startsWith("label")){switch(ma){case "labelColor":Ib=
"fill";break;case "labelFont":case "labelFontSize":Ib=ma[5].toLowerCase()+ma.slice(6)}return Eb["guide-label"][Ib]}return null}function ve(ma){const Ka={};for(const ib of ma)if(ib)for(const Eb in ib)Ka[Eb]=1;return Object.keys(Ka)}function Ca(ma,Ka,ib,Eb,Ib){return{signal:'flush(range("'+ma+'"), scale("'+ma+'", datum.value), '+Ka+","+ib+","+Eb+","+Ib+")"}}function Ya(ma,Ka,ib,Eb){const Ib=(kc,Kc)=>null!=kc?(ib.update[Kc]=Vb(Nd(kc),ib.update[Kc]),!1):c(Kc,Eb)?!1:!0,Nb=Ib(ma("titleX"),"x");ma=Ib(ma("titleY"),
"y");ib.enter.auto=ma===Nb?Nd(ma):Fc(Ka,Nd(ma),Nd(Nb))}function tb(ma,Ka,ib){const Eb=p.array(ma.signals),Ib=p.array(ma.scales);ib||Eb.forEach(Nb=>R(Nb,Ka));p.array(ma.projections).forEach(Nb=>{const kc=Ka.config.projection||{},Kc={};for(const Bc in Nb)"name"!==Bc&&(Kc[Bc]=oa(Nb[Bc],Bc,Ka));for(const Bc in kc)null==Kc[Bc]&&(Kc[Bc]=oa(kc[Bc],Bc,Ka));Ka.addProjection(Nb.name,Kc)});Ib.forEach(Nb=>{const kc=Nb.type||"linear";r.isValidScaleType(kc)||p.error("Unrecognized scale type: "+p.stringValue(kc));
Ka.addScale(Nb.name,{type:kc,domain:void 0})});p.array(ma.data).forEach(Nb=>je(Nb,Ka));Ib.forEach(Nb=>{const kc=Ka.getScale(Nb.name).params;let Kc;kc.domain=Ma(Nb.domain,Nb,Ka);null!=Nb.range&&(kc.range=Qa(Nb,Ka,kc));if(null!=Nb.interpolate){var Bc=Nb.interpolate;kc.interpolate=La(Bc.type||Bc);null!=Bc.gamma&&(kc.interpolateGamma=La(Bc.gamma))}null!=Nb.nice&&(Bc=Nb.nice,Bc=p.isObject(Bc)?{interval:La(Bc.interval),step:La(Bc.step)}:La(Bc),kc.nice=Bc);null!=Nb.bins&&(Bc=Nb.bins,Bc=Bc.signal||p.isArray(Bc)?
pa(Bc,Ka):Ka.objectProperty(Bc),kc.bins=Bc);for(Kc in Nb)p.hasOwnProperty(kc,Kc)||"name"===Kc||(kc[Kc]=La(Nb[Kc],Ka))});(ib||Eb).forEach(Nb=>hb(Nb,Ka));p.array(ma.axes).forEach(Nb=>{var kc=Ka.config,Kc=kc.style,Bc=kc.axis,wc="band"===Ka.scaleType(Nb.scale)&&kc.axisBand,ld=Nb.orient,wd;if(X(ld)){const N=ve([kc.axisX,kc.axisY]),ia=ve([kc.axisTop,kc.axisBottom,kc.axisLeft,kc.axisRight]);var Fe={};for(wd of N)Fe[wd]=Fc(ld,pe(wd,kc.axisX,Bc,Kc),pe(wd,kc.axisY,Bc,Kc));var Fd={};for(wd of ia){var he=Fd,
se=wd,td=ld.signal,Dd=pe(wd,kc.axisTop,Bc,Kc),fe=pe(wd,kc.axisBottom,Bc,Kc),qe=pe(wd,kc.axisLeft,Bc,Kc),Ad=pe(wd,kc.axisRight,Bc,Kc);var We={signal:(null!=qe?`${td} === '${"left"}' ? (${Pb(qe)}) : `:"")+(null!=fe?`${td} === '${"bottom"}' ? (${Pb(fe)}) : `:"")+(null!=Ad?`${td} === '${"right"}' ? (${Pb(Ad)}) : `:"")+(null!=Dd?`${td} === '${"top"}' ? (${Pb(Dd)}) : `:"")+"(null)"};he[se]=We}}else Fe="top"===ld||"bottom"===ld?kc.axisX:kc.axisY,Fd=kc["axis"+ld[0].toUpperCase()+ld.slice(1)];var Se=Fe||Fd||
wc?p.extend({},Bc,Fe,Fd,wc):Bc;const hf=Nb.encode||{},Bf=hf.axis||{},Cf=Bf.name||void 0,Vg=Bf.interactive,Yd=Bf.style,Ie=ja(Nb,Se),qg=Ie("tickBand");let ug=Ie("tickOffset"),Zg,cg;qg?qg.signal?(Zg={signal:`(${qg.signal}) === 'extent' ? 1 : 0.5`},cg={signal:`(${qg.signal}) === 'extent'`},p.isObject(ug)||(ug={signal:`(${qg.signal}) === 'extent' ? 0 : ${ug}`})):"extent"===qg?(Zg=1,cg=!0,ug=0):(Zg=.5,cg=!1):(Zg=Ie("bandPosition"),cg=Ie("tickExtra"));var Eg=cg;var Ag=Zg;var dg=ug;const Rf={scale:Nb.scale,
ticks:!!Ie("ticks"),labels:!!Ie("labels"),grid:!!Ie("grid"),domain:!!Ie("domain"),title:null!=Nb.title},Jf=T(Ka.add(qc({},[Rf]))),eg=T(Ka.add(kf({scale:Ka.scaleRef(Nb.scale),extra:Ka.property(Eg),count:Ka.objectProperty(Nb.tickCount),values:Ka.objectProperty(Nb.values),minstep:Ka.property(Nb.tickMinStep),formatType:Ka.property(Nb.formatType),formatSpecifier:Ka.property(Nb.format)}))),Mf=[];let jg;if(Rf.grid){var oh=Mf.push,th=hf.grid;const N=ja(Nb,Se),ia=Nb.orient,Pa=Nb.gridScale,fb=oc(ia,1,-1);a:{var Fg=
Nb.offset,vg=fb;if(1!==vg)if(p.isObject(Fg)){let rf=Fg=p.extend({},Fg);for(;null!=rf.mult;)if(p.isObject(rf.mult))rf=rf.mult=p.extend({},rf.mult);else{rf.mult=X(vg)?{signal:`(${rf.mult}) * (${vg.signal})`}:rf.mult*vg;var vh=Fg;break a}rf.mult=vg}else Fg=X(vg)?{signal:`(${vg.signal}) * (${Fg||0})`}:vg*(Fg||0);vh=Fg}const Jb=vh;let Rb,Hc,Zc;const ed={enter:Rb={opacity:Wb},update:Zc={opacity:sc},exit:Hc={opacity:Wb}};d(ed,{stroke:N("gridColor"),strokeCap:N("gridCap"),strokeDash:N("gridDash"),strokeDashOffset:N("gridDashOffset"),
strokeOpacity:N("gridOpacity"),strokeWidth:N("gridWidth")});const pd={scale:Nb.scale,field:"value",band:Ag,extra:Eg,offset:dg,round:N("tickRound")},Vd=Fc(ia,{signal:"height"},{signal:"width"}),we=Pa?{scale:Pa,range:0,mult:fb,offset:Jb}:{value:0,offset:Jb},Ze=Pa?{scale:Pa,range:1,mult:fb,offset:Jb}:p.extend(Vd,{mult:fb,offset:Jb});Rb.x=Zc.x=Fc(ia,pd,we);Rb.y=Zc.y=Mc(ia,pd,we);Rb.x2=Zc.x2=Mc(ia,Ze);Rb.y2=Zc.y2=Fc(ia,Ze);Hc.x=Fc(ia,pd);Hc.y=Mc(ia,pd);var Za=nb({type:"rule",role:"axis-grid",key:"value",
from:eg,encode:ed},th);oh.call(Mf,Za)}if(Rf.ticks){jg=Ie("tickSize");var Db=Mf.push,ic=hf.ticks,ud=jg;const N=ja(Nb,Se),ia=Nb.orient,Pa=oc(ia,-1,1);let fb,Jb,Rb;const Hc={enter:fb={opacity:Wb},update:Rb={opacity:sc},exit:Jb={opacity:Wb}};d(Hc,{stroke:N("tickColor"),strokeCap:N("tickCap"),strokeDash:N("tickDash"),strokeDashOffset:N("tickDashOffset"),strokeOpacity:N("tickOpacity"),strokeWidth:N("tickWidth")});const Zc=Nd(ud);Zc.mult=Pa;const ed={scale:Nb.scale,field:"value",band:Ag,extra:Eg,offset:dg,
round:N("tickRound")};Rb.y=fb.y=Fc(ia,Wb,ed);Rb.y2=fb.y2=Fc(ia,Zc);Jb.x=Fc(ia,ed);Rb.x=fb.x=Mc(ia,Wb,ed);Rb.x2=fb.x2=Mc(ia,Zc);Jb.y=Mc(ia,ed);var yd=nb({type:"rule",role:"axis-tick",key:"value",from:eg,encode:Hc},ic);Db.call(Mf,yd)}if(Rf.labels){jg=Rf.ticks?jg:0;var be=Mf.push,df=hf.labels,tf=jg;const N=ja(Nb,Se),ia=Nb.orient,Pa=Nb.scale,fb=oc(ia,-1,1),Jb=B(N("labelFlush")),Rb=B(N("labelFlushOffset")),Hc=N("labelAlign"),Zc=N("labelBaseline");let ed=0===Jb||!!Jb,pd;const Vd=Nd(tf);Vd.mult=fb;Vd.offset=
Nd(N("labelPadding")||0);Vd.offset.mult=fb;const we={scale:Pa,field:"value",band:.5,offset:cb(dg,N("labelOffset"))};var Gg=ed?Ca(Pa,Jb,'"left"','"right"','"center"'):{value:"center"},Nf=ia;var qh=X(Nf)?Gb(`${Nf.signal} === '${"right"}'`,"left","right"):"right"===Nf?{value:"left"}:{value:"right"};const Ze=Fc(ia,Gg,qh),rf=Fc(ia,Yc(ia,"bottom","top"),ed?Ca(Pa,Jb,'"top"','"bottom"','"middle"'):{value:"middle"}),wg=Ca(Pa,Jb,`-(${Rb})`,Rb,0);ed=ed&&Rb;const De={opacity:Wb,x:Fc(ia,we,Vd),y:Mc(ia,we,Vd)},
fg={enter:De,update:pd={opacity:sc,text:{field:"label"},x:De.x,y:De.y,align:Ze,baseline:rf},exit:{opacity:Wb,x:De.x,y:De.y}};d(fg,{dx:!Hc&&ed?Fc(ia,wg):null,dy:!Zc&&ed?Mc(ia,wg):null});d(fg,{angle:N("labelAngle"),fill:N("labelColor"),fillOpacity:N("labelOpacity"),font:N("labelFont"),fontSize:N("labelFontSize"),fontWeight:N("labelFontWeight"),fontStyle:N("labelFontStyle"),limit:N("labelLimit"),lineHeight:N("labelLineHeight")},{align:Hc,baseline:Zc});const kg=N("labelBound");let Rg=N("labelOverlap");
Rg=Rg||kg?{separation:N("labelSeparation"),method:Rg,order:"datum.index",bound:kg?{scale:Pa,orient:ia,tolerance:kg}:null}:void 0;pd.align!==Ze&&(pd.align=Vb(pd.align,Ze));pd.baseline!==rf&&(pd.baseline=Vb(pd.baseline,rf));var xh=nb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:eg,encode:fg,overlap:Rg},df);be.call(Mf,xh)}if(Rf.domain){var $g=Mf.push,Wg=hf.domain;const N=ja(Nb,Se),ia=Nb.orient;let Pa,fb;const Jb={enter:Pa={opacity:Wb},update:fb={opacity:sc},exit:{opacity:Wb}};
d(Jb,{stroke:N("domainColor"),strokeCap:N("domainCap"),strokeDash:N("domainDash"),strokeDashOffset:N("domainDashOffset"),strokeWidth:N("domainWidth"),strokeOpacity:N("domainOpacity")});const Rb={scale:Nb.scale,range:0},Hc={scale:Nb.scale,range:1};Pa.x=fb.x=Fc(ia,Rb,Wb);Pa.x2=fb.x2=Fc(ia,Hc);Pa.y=fb.y=Mc(ia,Rb,Wb);Pa.y2=fb.y2=Mc(ia,Hc);var Og=nb({type:"rule",role:"axis-domain",from:Jf,encode:Jb},Wg);$g.call(Mf,Og)}if(Rf.title){var kh=Mf.push,ah=hf.title;const N=ja(Nb,Se),ia=Nb.orient,Pa=oc(ia,-1,1);
let fb,Jb;const Rb={enter:fb={opacity:Wb,anchor:Nd(N("titleAnchor",null)),align:{signal:Uc}},update:Jb=p.extend({},fb,{opacity:sc,text:Nd(Nb.title)}),exit:{opacity:Wb}},Hc={signal:`lerp(range("${Nb.scale}"), ${Wa(0,1,.5)})`};Jb.x=Fc(ia,Hc);Jb.y=Mc(ia,Hc);var Xh=fb,ph=Pa;var og=X(ph)?{signal:`(${ph.signal}) * ${90}`}:{value:90*ph};Xh.angle=Fc(ia,Wb,og);fb.baseline=Fc(ia,Yc(ia,"bottom","top"),{value:"bottom"});Jb.angle=fb.angle;Jb.baseline=fb.baseline;d(Rb,{fill:N("titleColor"),fillOpacity:N("titleOpacity"),
font:N("titleFont"),fontSize:N("titleFontSize"),fontStyle:N("titleFontStyle"),fontWeight:N("titleFontWeight"),limit:N("titleLimit"),lineHeight:N("titleLineHeight")},{align:N("titleAlign"),angle:N("titleAngle"),baseline:N("titleBaseline")});Ya(N,ia,Rb,ah);Rb.update.align=Vb(Rb.update.align,fb.align);Rb.update.angle=Vb(Rb.update.angle,fb.angle);Rb.update.baseline=Vb(Rb.update.baseline,fb.baseline);var Kh=nb({type:"text",role:"axis-title",style:"guide-title",from:Jf,encode:Rb},ah);kh.call(Mf,Kh)}const Ph=
{enter:{},update:{}};d(Ph,{orient:Ie("orient"),offset:Ie("offset")||0,position:w(Nb.position,0),titlePadding:Ie("titlePadding"),minExtent:Ie("minExtent"),maxExtent:Ie("maxExtent"),range:{signal:`abs(span(range("${Nb.scale}")))`},translate:Ie("translate"),format:Nb.format,formatType:Nb.formatType});return Dc(Y({role:"axis",from:Jf,encode:a(Ph,Bf,Cb),marks:Mf,aria:Ie("aria"),description:Ie("description"),zindex:Ie("zindex"),name:Cf,interactive:Vg,style:Yd}),Ka)});p.array(ma.marks).forEach(Nb=>Dc(Nb,
Ka));p.array(ma.legends).forEach(Nb=>fd(Nb,Ka));ma.title&&de(ma.title,Ka);Ka.parseLambdas();return Ka}function Kb(ma,Ka){var ib=Ka.config;const Eb=T(Ka.root=Ka.add(new Z("operator",void 0,void 0,void 0))),Ib=mc(ma,ib);Ib.forEach(Kc=>R(Kc,Ka));Ka.description=ma.description||ib.description;Ka.eventConfig=ib.events;Ka.legends=Ka.objectProperty(ib.legend&&ib.legend.layout);Ka.locale=ib.locale;ib=Ka.add(qc());const Nb=Ka.add(Hd(q(a({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},
ma.encode),"group","frame",ma.style,Ka,{pulse:T(ib)}))),kc=Ka.add(Xb({layout:Ka.objectProperty(ma.layout),legends:Ka.legends,autosize:Ka.signalRef("autosize"),mark:Eb,pulse:T(Nb)}));Ka.operators.pop();Ka.pushState(T(Nb),T(kc),null);tb(ma,Ka,Ib);Ka.operators.push(kc);ma=Ka.add(Sb({mark:Eb,pulse:T(kc)}));ma=Ka.add(cf({pulse:T(ma)}));ma=Ka.add(jb({pulse:T(ma)}));Ka.addData("root",new Fa(Ka,ib,ib,ma));return Ka}function dc(ma,Ka){return Ka&&Ka.signal?{name:ma,update:Ka.signal}:{name:ma,value:Ka}}function mc(ma,
Ka){const ib=kc=>w(ma[kc],Ka[kc]),Eb=[dc("background",ib("background")),dc("autosize",k(ib("autosize"))),dc("padding",f(ib("padding"))),dc("width",ib("width")||0),dc("height",ib("height")||0)],Ib=Eb.reduce((kc,Kc)=>(kc[Kc.name]=Kc,kc),{}),Nb={};p.array(ma.signals).forEach(kc=>{p.hasOwnProperty(Ib,kc.name)?kc=p.extend(Ib[kc.name],kc):Eb.push(kc);Nb[kc.name]=kc});p.array(Ka.signals).forEach(kc=>{p.hasOwnProperty(Nb,kc.name)||p.hasOwnProperty(Ib,kc.name)||Eb.push(kc)});return Eb}function Jc(ma,Ka){this.config=
ma||{};this.options=Ka||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Gc(ma){this.config=ma.config;this.options=ma.options;this.legends=ma.legends;this.field=Object.create(ma.field);this.signals=Object.create(ma.signals);this.lambdas=Object.create(ma.lambdas);
this.scales=Object.create(ma.scales);this.events=Object.create(ma.events);this.data=Object.create(ma.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++ma._nextsub[0];this._nextsub=ma._nextsub;this._parent=ma._parent.slice();this._encode=ma._encode.slice();this._lookup=ma._lookup.slice();this._markpath=ma._markpath}function jc(ma){return(p.isArray(ma)?bd:md)(ma)}function bd(ma){const Ka=ma.length;let ib="[";for(let Eb=0;Eb<Ka;++Eb){const Ib=ma[Eb];ib+=(0<Eb?",":"")+(p.isObject(Ib)?
Ib.signal||jc(Ib):p.stringValue(Ib))}return ib+"]"}function md(ma){let Ka="{",ib=0,Eb,Ib;for(Eb in ma)Ib=ma[Eb],Ka+=(1<++ib?",":"")+p.stringValue(Eb)+":"+(p.isObject(Ib)?Ib.signal||jc(Ib):p.stringValue(Ib));return Ka+"}"}function Ed(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},
rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},
square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",
padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,
layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Nd=ma=>p.isObject(ma)&&!p.isArray(ma)?p.extend({},ma):{value:ma},Pd=ma=>p.isString(ma)?p.stringValue(ma):ma.signal?`(${ma.signal})`:
J(ma),ee=(ma,Ka,ib,Eb)=>`(${ma}(${[Ka,ib,Eb].map(z).join(",")})+'')`,Ce=["value","update","init","react","bind"],ue=ba("key"),Df={code:"_.$value",ast:{type:"Identifier",value:"value"}},Be=ma=>(Ka,ib,Eb)=>new Z(ma,ib,Ka||void 0,Eb),Me=Be("aggregate"),kf=Be("axisticks"),Sb=Be("bound"),qc=Be("collect"),Vc=Be("compare"),Bd=Be("datajoin"),Hd=Be("encode"),me=Be("expression"),$e=Be("facet"),Qf=Be("field"),Af=Be("key"),If=Be("legendentries"),Ne=Be("load"),Bb=Be("mark"),Zb=Be("multiextent"),Sc=Be("multivalues"),
ce=Be("overlap"),ke=Be("params"),Rd=Be("prefacet"),Sd=Be("projection"),Qd=Be("proxy"),Qe=Be("relay"),cf=Be("render"),ra=Be("scale"),jb=Be("sieve"),Ia=Be("sortitems"),Xb=Be("viewlayout"),ha=Be("values");let Oa=0;const $a={min:"min",max:"max",count:"sum"},ub="size shape fill stroke strokeWidth strokeDash opacity".split(" "),Cb={name:1,style:1,interactive:1},Wb={value:0},sc={value:1},Uc=Wa(p.stringValue("left"),p.stringValue("right"),p.stringValue("center")),Xc=Wa('"top"','"bottom"','"middle"'),Cc=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Wa('"right"',
'"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Uc}`,zc=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Xc}) : "top"`;Fa.fromEntries=function(ma,Ka){const ib=Ka.length,Eb=Ka[ib-1],Ib=Ka[ib-2];let Nb=Ka[0],kc=null,Kc=1;Nb&&"load"===Nb.type&&(Nb=Ka[1]);for(ma.add(Ka[0]);Kc<
ib;++Kc)Ka[Kc].params.pulse=T(Ka[Kc-1]),ma.add(Ka[Kc]),"aggregate"===Ka[Kc].type&&(kc=Ka[Kc]);return new Fa(ma,Nb,Ib,Eb,kc)};Fa.prototype={countsRef(ma,Ka,ib){const Eb=this.counts||(this.counts={}),Ib=bb(Ka);if(null!=Ib){ma=this.scope;var Nb=Eb[Ib]}Nb?ib&&ib.field&&lb(ma,Nb.agg.params,ib):(Nb={groupby:ma.fieldRef(Ka,"key"),pulse:T(this.output)},ib&&ib.field&&lb(ma,Nb,ib),ib=ma.add(Me(Nb)),Nb=ma.add(qc({pulse:T(ib)})),Nb={agg:ib,ref:T(Nb)},null!=Ib&&(Eb[Ib]=Nb));return Nb.ref},tuplesRef(){return T(this.values)},
extentRef(ma,Ka){return zb(ma,this,"extent","extent",Ka,!1)},domainRef(ma,Ka){return zb(ma,this,"domain","values",Ka,!1)},valuesRef(ma,Ka,ib){return zb(ma,this,"vals","values",Ka,ib||!0)},lookupRef(ma,Ka){return zb(ma,this,"lookup","tupleindex",Ka,!1)},indataRef(ma,Ka){return zb(ma,this,"indata","tupleindex",Ka,!0,!0)}};const oc=(ma,Ka,ib)=>{X(ma)?(ma=ma.signal,Ka=Gb(`${ma} === '${"left"}' || ${ma} === '${"top"}'`,Ka,ib)):Ka="left"===ma||"top"===ma?Ka:ib;return Ka},Fc=(ma,Ka,ib)=>{X(ma)?(ma=ma.signal,
Ka=mb(`${ma} === '${"top"}' || ${ma} === '${"bottom"}'`,Ka,ib)):Ka="bottom"===ma||"top"===ma?Ka:ib;return Ka},Mc=(ma,Ka,ib)=>{X(ma)?(ma=ma.signal,Ka=mb(`${ma} !== '${"top"}' && ${ma} !== '${"bottom"}'`,Ka,ib)):Ka="bottom"===ma||"top"===ma?ib:Ka;return Ka},Yc=(ma,Ka,ib)=>X(ma)?Gb(`${ma.signal} === '${"top"}'`,Ka,ib):"top"===ma?{value:Ka}:{value:ib},mb=(ma,Ka,ib)=>{Ka=null!=Ka?Nd(Ka):Ka;ib=null!=ib?Nd(ib):ib;if(null!=Ka&&1!==Object.keys(Ka).length||null!=ib&&1!==Object.keys(ib).length)return[p.extend({test:ma},
Ka)].concat(ib||[]);Ka=Ka?Ka.signal||p.stringValue(Ka.value):null;ib=ib?ib.signal||p.stringValue(ib.value):null;return{signal:`${ma} ? (${Ka}) : (${ib})`}},Gb=(ma,Ka,ib)=>({signal:`${ma} ? (${Pb(Ka)}) : (${Pb(ib)})`}),Pb=ma=>X(ma)?ma.signal:null==ma?null:p.stringValue(ma),Vb=(ma,Ka)=>{const ib=ma.signal;return ib&&ib.endsWith("(null)")?{signal:ib.slice(0,-6)+Ka.signal}:ma};Jc.prototype=Gc.prototype={parse(ma){return tb(ma,this)},fork(){return new Gc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();
return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(ma){this.operators.push(ma);ma.id=this.id();ma.refs&&(ma.refs.forEach(Ka=>{Ka.$ref=ma.id}),ma.refs=null);return ma},proxy(ma){ma=ma instanceof Z?T(ma):ma;return this.add(Qd({value:ma}))},addStream(ma){this.streams.push(ma);ma.id=this.id();return ma},addUpdate(ma){this.updates.push(ma);
return ma},finish(){function ma(Eb,Ib,Nb){Eb&&(Eb=Eb.data||(Eb.data={}),Ib=Eb[Ib]||(Eb[Ib]=[]),Ib.push(Nb))}let Ka,ib;this.root&&(this.root.root=!0);for(Ka in this.signals)this.signals[Ka].signal=Ka;for(Ka in this.scales)this.scales[Ka].scale=Ka;for(Ka in this.data){ib=this.data[Ka];ma(ib.input,Ka,"input");ma(ib.output,Ka,"output");ma(ib.values,Ka,"values");for(const Eb in ib.index)ma(ib.index[Eb],Ka,"index:"+Eb)}return this},pushState(ma,Ka,ib){this._encode.push(T(this.add(jb({pulse:ma}))));this._parent.push(Ka);
this._lookup.push(ib?T(this.proxy(ib)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return p.peek(this._parent)},encode(){return p.peek(this._encode)},lookup(){return p.peek(this._lookup)},markpath(){const ma=this._markpath;return++ma[ma.length-1]},fieldRef(ma,Ka){if(p.isString(ma))return ba(ma,Ka);ma.signal||p.error("Unsupported field reference: "+p.stringValue(ma));ma=ma.signal;var ib=this.field[ma];ib||(ib={name:this.signalRef(ma)},
Ka&&(ib.as=Ka),this.field[ma]=ib=T(this.add(Qf(ib))));return ib},compareRef(ma){let Ka=!1;const ib=Ib=>X(Ib)?(Ka=!0,this.signalRef(Ib.signal)):Ib&&Ib.expr?(Ka=!0,this.exprRef(Ib.expr)):Ib,Eb=p.array(ma.field).map(ib);ma=p.array(ma.order).map(ib);return Ka?T(this.add(Vc({fields:Eb,orders:ma}))):{$compare:Eb,$order:ma}},keyRef(ma,Ka){let ib=!1;const Eb=this.signals;ma=p.array(ma).map(Ib=>X(Ib)?(ib=!0,T(Eb[Ib.signal])):Ib);return ib?T(this.add(Af({fields:ma,flat:Ka}))):aa(ma,Ka)},sortRef(ma){if(!ma)return ma;
const Ka=W(ma.op,ma.field);ma=ma.order||"ascending";return ma.signal?T(this.add(Vc({fields:Ka,orders:this.signalRef(ma.signal)}))):{$compare:Ka,$order:ma}},event(ma,Ka){const ib=ma+":"+Ka;if(!this.events[ib]){const Eb=this.id();this.streams.push({id:Eb,source:ma,type:Ka});this.events[ib]=Eb}return this.events[ib]},hasOwnSignal(ma){return p.hasOwnProperty(this.signals,ma)},addSignal(ma,Ka){this.hasOwnSignal(ma)&&p.error("Duplicate signal name: "+p.stringValue(ma));Ka=Ka instanceof Z?Ka:this.add(new Z("operator",
Ka,void 0,void 0));return this.signals[ma]=Ka},getSignal(ma){this.signals[ma]||p.error("Unrecognized signal name: "+p.stringValue(ma));return this.signals[ma]},signalRef(ma){if(this.signals[ma])return T(this.signals[ma]);p.hasOwnProperty(this.lambdas,ma)||(this.lambdas[ma]=this.add(new Z("operator",null,void 0,void 0)));return T(this.lambdas[ma])},parseLambdas(){const ma=Object.keys(this.lambdas);for(let ib=0,Eb=ma.length;ib<Eb;++ib){var Ka=ma[ib];const Ib=n.parseExpression(Ka,this);Ka=this.lambdas[Ka];
Ka.params=Ib.$params;Ka.update=Ib.$expr}},property(ma){return ma&&ma.signal?this.signalRef(ma.signal):ma},objectProperty(ma){return ma&&p.isObject(ma)?this.signalRef(ma.signal||jc(ma)):ma},exprRef(ma,Ka){ma={expr:n.parseExpression(ma,this)};Ka&&(ma.expr.$name=Ka);return T(this.add(me(ma)))},addBinding(ma,Ka){this.bindings||p.error("Nested signals do not support binding: "+p.stringValue(ma));this.bindings.push(p.extend({signal:ma},Ka))},addScaleProj(ma,Ka){p.hasOwnProperty(this.scales,ma)&&p.error("Duplicate scale or projection name: "+
p.stringValue(ma));this.scales[ma]=this.add(Ka)},addScale(ma,Ka){this.addScaleProj(ma,ra(Ka))},addProjection(ma,Ka){this.addScaleProj(ma,Sd(Ka))},getScale(ma){this.scales[ma]||p.error("Unrecognized scale name: "+p.stringValue(ma));return this.scales[ma]},scaleRef(ma){return T(this.getScale(ma))},scaleType(ma){return this.getScale(ma).params.type},projectionRef(ma){return this.scaleRef(ma)},projectionType(ma){return this.scaleType(ma)},addData(ma,Ka){p.hasOwnProperty(this.data,ma)&&p.error("Duplicate data set name: "+
p.stringValue(ma));return this.data[ma]=Ka},getData(ma){this.data[ma]||p.error("Undefined data set name: "+p.stringValue(ma));return this.data[ma]},addDataPipeline(ma,Ka){p.hasOwnProperty(this.data,ma)&&p.error("Duplicate data set name: "+p.stringValue(ma));return this.addData(ma,Fa.fromEntries(this,Ka))}};y.AxisDomainRole="axis-domain";y.AxisGridRole="axis-grid";y.AxisLabelRole="axis-label";y.AxisRole="axis";y.AxisTickRole="axis-tick";y.AxisTitleRole="axis-title";y.DataScope=Fa;y.FrameRole="frame";
y.LegendEntryRole="legend-entry";y.LegendLabelRole="legend-label";y.LegendRole="legend";y.LegendSymbolRole="legend-symbol";y.LegendTitleRole="legend-title";y.MarkRole="mark";y.Scope=Jc;y.ScopeRole="scope";y.config=Ed;y.parse=function(ma,Ka,ib){p.isObject(ma)||p.error("Input Vega specification must be an object.");Ka=p.mergeConfig(Ed(),Ka,ma.config);return Kb(ma,new Jc(Ka,ib)).toRuntime()};y.signal=R;y.signalUpdates=hb;y.stream=K;Object.defineProperty(y,"__esModule",{value:!0})})};
shadow$provide[47]=function(sa,F,ob,G){function y(T){if(T&&T.__esModule)return T;var ba=Object.create(null);T&&Object.keys(T).forEach(function(aa){if("default"!==aa){var W=Object.getOwnPropertyDescriptor(T,aa);Object.defineProperty(ba,aa,W.get?W:{enumerable:!0,get:function(){return T[aa]}})}});ba["default"]=T;return Object.freeze(ba)}Object.defineProperty(G,"__esModule",{value:!0});var p=F(14),n=F(23),v=F(25),r=F(29),h=F(30),k=F(32),f=F(33),e=F(34),d=F(35),a=F(36),c=F(37);ob=F(38);sa=F(39);var b=
F(24),m=F(16),z=F(22),u=F(28),C=F(27),J=F(31),A=F(44),x=F(17),q=F(42),H=F(46),M=F(43),R=F(40),Z=F(45);F=y(v);r=y(r);h=y(h);k=y(k);f=y(f);e=y(e);d=y(d);a=y(a);c=y(c);ob=y(ob);sa=y(sa);p.extend(n.transforms,F,r,h,k,f,d,e,a,c,ob,sa);Object.defineProperty(G,"Dataflow",{enumerable:!0,get:function(){return n.Dataflow}});Object.defineProperty(G,"EventStream",{enumerable:!0,get:function(){return n.EventStream}});Object.defineProperty(G,"MultiPulse",{enumerable:!0,get:function(){return n.MultiPulse}});Object.defineProperty(G,
"Operator",{enumerable:!0,get:function(){return n.Operator}});Object.defineProperty(G,"Parameters",{enumerable:!0,get:function(){return n.Parameters}});Object.defineProperty(G,"Pulse",{enumerable:!0,get:function(){return n.Pulse}});Object.defineProperty(G,"Transform",{enumerable:!0,get:function(){return n.Transform}});Object.defineProperty(G,"changeset",{enumerable:!0,get:function(){return n.changeset}});Object.defineProperty(G,"definition",{enumerable:!0,get:function(){return n.definition}});Object.defineProperty(G,
"ingest",{enumerable:!0,get:function(){return n.ingest}});Object.defineProperty(G,"isTuple",{enumerable:!0,get:function(){return n.isTuple}});Object.defineProperty(G,"transform",{enumerable:!0,get:function(){return n.transform}});Object.defineProperty(G,"transforms",{enumerable:!0,get:function(){return n.transforms}});Object.defineProperty(G,"tupleid",{enumerable:!0,get:function(){return n.tupleid}});Object.defineProperty(G,"interpolate",{enumerable:!0,get:function(){return C.interpolate}});Object.defineProperty(G,
"interpolateColors",{enumerable:!0,get:function(){return C.interpolateColors}});Object.defineProperty(G,"interpolateRange",{enumerable:!0,get:function(){return C.interpolateRange}});Object.defineProperty(G,"quantizeInterpolator",{enumerable:!0,get:function(){return C.quantizeInterpolator}});Object.defineProperty(G,"scale",{enumerable:!0,get:function(){return C.scale}});Object.defineProperty(G,"scheme",{enumerable:!0,get:function(){return C.scheme}});Object.defineProperty(G,"projection",{enumerable:!0,
get:function(){return J.projection}});Object.defineProperty(G,"View",{enumerable:!0,get:function(){return A.View}});Object.defineProperty(G,"defaultLocale",{enumerable:!0,get:function(){return x.defaultLocale}});Object.defineProperty(G,"formatLocale",{enumerable:!0,get:function(){return x.numberFormatDefaultLocale}});Object.defineProperty(G,"locale",{enumerable:!0,get:function(){return x.locale}});Object.defineProperty(G,"resetDefaultLocale",{enumerable:!0,get:function(){return x.resetDefaultLocale}});
Object.defineProperty(G,"timeFormatLocale",{enumerable:!0,get:function(){return x.timeFormatDefaultLocale}});Object.defineProperty(G,"expressionFunction",{enumerable:!0,get:function(){return q.expressionFunction}});Object.defineProperty(G,"parse",{enumerable:!0,get:function(){return H.parse}});Object.defineProperty(G,"runtimeContext",{enumerable:!0,get:function(){return M.context}});Object.defineProperty(G,"codegenExpression",{enumerable:!0,get:function(){return R.codegenExpression}});Object.defineProperty(G,
"parseExpression",{enumerable:!0,get:function(){return R.parseExpression}});Object.defineProperty(G,"parseSelector",{enumerable:!0,get:function(){return Z.parseSelector}});G.version="5.22.1";Object.keys(p).forEach(function(T){"default"===T||G.hasOwnProperty(T)||Object.defineProperty(G,T,{enumerable:!0,get:function(){return p[T]}})});Object.keys(b).forEach(function(T){"default"===T||G.hasOwnProperty(T)||Object.defineProperty(G,T,{enumerable:!0,get:function(){return b[T]}})});Object.keys(m).forEach(function(T){"default"===
T||G.hasOwnProperty(T)||Object.defineProperty(G,T,{enumerable:!0,get:function(){return m[T]}})});Object.keys(z).forEach(function(T){"default"===T||G.hasOwnProperty(T)||Object.defineProperty(G,T,{enumerable:!0,get:function(){return z[T]}})});Object.keys(u).forEach(function(T){"default"===T||G.hasOwnProperty(T)||Object.defineProperty(G,T,{enumerable:!0,get:function(){return u[T]}})})};
shadow$provide[48]=function(sa,F,ob,G){var y=F(21).Buffer;(function(p,n){"object"===typeof G&&"undefined"!==typeof ob?n(G,F(47)):"function"===typeof define&&define.amd?define(["exports","vega"],n):(p="undefined"!==typeof globalThis?globalThis:p||self,n(p.vegaLite={},p.vega))})(this,function(p,n){function v(t,Q){if(t.not)v(t.not,Q);else if(t.and)for(const l of t.and)v(l,Q);else if(t.or)for(const l of t.or)v(l,Q);else Q(t)}function r(t,Q){return t.not?{not:r(t.not,Q)}:t.and?{and:t.and.map(l=>r(l,Q))}:
t.or?{or:t.or.map(l=>r(l,Q))}:Q(t)}function h(t){throw Error(t);}function k(t,Q){const l={};for(const I of Q)n.hasOwnProperty(t,I)&&(l[I]=t[I]);return l}function f(t,Q){t=Object.assign({},t);for(const l of Q)delete t[l];return t}function e(t){if(n.isNumber(t))return t;t=n.isString(t)?t:Ri(t);if(250>t.length)return t;let Q=0;for(let l=0;l<t.length;l++){const I=t.charCodeAt(l);Q=(Q<<5)-Q+I;Q&=Q}return Q}function d(t){return!1===t||null===t}function a(t,Q){return t.includes(Q)}function c(t,Q){let l=
0;for(const I of t.entries()){const [O,fa]=I;if(Q(fa,O,l++))return!0}return!1}function b(t,Q){let l=0;for(const I of t.entries()){const [O,fa]=I;if(!Q(fa,O,l++))return!1}return!0}function m(t){for(var Q=arguments.length,l=Array(1<Q?Q-1:0),I=1;I<Q;I++)l[I-1]=arguments[I];for(const O of l){Q=t;l=null!==O&&void 0!==O?O:{};for(const fa of le(l))n.writeConfig(Q,fa,l[fa],!0)}return t}function z(t,Q){const l=[],I={};for(const O of t)t=Q(O),t in I||(I[t]=1,l.push(O));return l}function u(t,Q){if(t.size!==
Q.size)return!1;for(const l of t)if(!Q.has(l))return!1;return!0}function C(t,Q){for(const l of t)if(Q.has(l))return!0;return!1}function J(t){const Q=new Set;for(const l of t){const I=n.splitAccessPath(l).map((O,fa)=>0===fa?O:"[".concat(O,"]"));t=I.map((O,fa)=>I.slice(0,fa+1).join(""));for(const O of t)Q.add(O)}return Q}function A(t,Q){return void 0===t||void 0===Q?!0:C(J(t),J(Q))}function x(t){return 0===le(t).length}function q(t){return!0===t||!1===t}function H(t){const Q=t.replace(/\W/g,"_");return(t.match(/^\d+/)?
"_":"")+Q}function M(t,Q){return t.not?"!(".concat(M(t.not,Q),")"):t.and?"(".concat(t.and.map(l=>M(l,Q)).join(") \x26\x26 ("),")"):t.or?"(".concat(t.or.map(l=>M(l,Q)).join(") || ("),")"):Q(t)}function R(t,Q){if(0===Q.length)return!0;const l=Q.shift();l in t&&R(t[l],Q)&&delete t[l];return x(t)}function Z(t){return t.charAt(0).toUpperCase()+t.substr(1)}function T(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const l=n.splitAccessPath(t),I=[];for(let O=1;O<=l.length;O++){const fa=
"[".concat(l.slice(0,O).map(n.stringValue).join("]["),"]");I.push("".concat(Q).concat(fa))}return I.join(" \x26\x26 ")}function ba(t){return"".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(n.stringValue(n.splitAccessPath(t).join(".")),"]")}function aa(t){return t.replace(/(\[|\]|\.|'|")/g,"\\$1")}function W(t){return"".concat(n.splitAccessPath(t).map(aa).join("\\."))}function X(t,Q,l){return t.replace(new RegExp(Q.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),
l)}function P(t){return"".concat(n.splitAccessPath(t).join("."))}function w(t){return t?n.splitAccessPath(t).length:0}function B(){for(var t=arguments.length,Q=Array(t),l=0;l<t;l++)Q[l]=arguments[l];for(const I of Q)if(void 0!==I)return I}function K(t){const Q=++sk;return t?String(t)+Q:Q}function U(t){return ka(t)?t:"__".concat(t)}function ka(t){return t.startsWith("__")}function da(t){if(void 0!==t)return(t%360+360)%360}function la(t){return n.isNumber(t)?!0:!isNaN(t)&&!isNaN(parseFloat(t))}function wa(t){switch(t){case "latitude":return"y";
case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function Ua(t){return"color"===t||"fill"===t||"stroke"===t}function hb(t){return La(t)!==t}function La(t){switch(t){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return t}function pa(t){if(t in ck)switch(t){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";
case "radius2":return"innerRadius"}return t}function Da(t){switch(t){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Ma(t){switch(t){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function ua(t){switch(t){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";
case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function Aa(t){switch(t){case "x":return"xOffset";case "y":return"yOffset"}}function qa(t){switch(t){case "xOffset":return"x";case "yOffset":return"y"}}function Ha(t){return t in Tk}function Va(t){return"width"===t?"x":"y"}function eb(t){switch(t){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Rk;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Si;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function ta(t){switch(t){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Qa(t){return!!t&&!!t.argmin}function oa(t){return!!t&&!!t.argmax}function Y(t){return n.isString(t)&&!!ek[t]}function ja(t){return n.isString(t)&&yh.has(t)}function Ga(t){n.isBoolean(t)&&(t=cg(t,void 0));return"bin"+le(t).map(Q=>nb(t[Q])?H("_".concat(Q,"_").concat(hj(t[Q]))):H("_".concat(Q,"_").concat(t[Q]))).join("")}function Wa(t){return!0===t||n.isObject(t)&&!t.binned}function cb(t){return"binned"===t||n.isObject(t)&&!0===t.binned}
function nb(t){return null===t||void 0===t?void 0:t.param}function pb(t){switch(t){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Fb(t){return t&&!!t.expr}function nc(t){const Q=le(t||{}),l={};for(const I of Q)l[I]=Ab(t[I]);return l}function Lc(t){var Q=Object.assign({},t),l=t.anchor;const I=t.frame,O=t.offset,fa=t.orient,
va=t.angle,ya=t.limit;var gb=t.color,sb=t.subtitleColor;const yb=t.subtitleFont,Ob=t.subtitleFontSize,vc=t.subtitleFontStyle,kd=t.subtitleFontWeight,Qc=t.subtitleLineHeight,zd=t.subtitlePadding;Q=(delete Q.anchor,delete Q.frame,delete Q.offset,delete Q.orient,delete Q.angle,delete Q.limit,delete Q.color,delete Q.subtitleColor,delete Q.subtitleFont,delete Q.subtitleFontSize,delete Q.subtitleFontStyle,delete Q.subtitleFontWeight,delete Q.subtitleLineHeight,delete Q.subtitlePadding,Q);gb=Object.assign({},
Q,gb?{fill:gb}:{});l=Object.assign({},l?{anchor:l}:{},I?{frame:I}:{},O?{offset:O}:{},fa?{orient:fa}:{},void 0!==va?{angle:va}:{},void 0!==ya?{limit:ya}:{});sb=Object.assign({},sb?{subtitleColor:sb}:{},yb?{subtitleFont:yb}:{},Ob?{subtitleFontSize:Ob}:{},vc?{subtitleFontStyle:vc}:{},kd?{subtitleFontWeight:kd}:{},Qc?{subtitleLineHeight:Qc}:{},zd?{subtitlePadding:zd}:{});t=k(t,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:gb,subtitleMarkConfig:t,nonMarkTitleProperties:l,subtitle:sb}}
function Ac(t){return n.isString(t)||n.isArray(t)&&n.isString(t[0])}function yc(t){return t&&!!t.signal}function tc(t){return!!t.step}function hd(t){return n.isArray(t)?!1:"field"in t&&"data"in t}function Mb(t){const Q=n.isArray(t.condition)?t.condition.map(ec):ec(t.condition);return Object.assign({},Ab(t),{condition:Q})}function Ab(t){if(Fb(t)){var Q=Object.assign({},t);t=t.expr;Q=(delete Q.expr,Q);return Object.assign({},{signal:t},Q)}return t}function ec(t){if(Fb(t)){var Q=Object.assign({},t);
t=t.expr;Q=(delete Q.expr,Q);return Object.assign({},{signal:t},Q)}return t}function ac(t){if(Fb(t)){var Q=Object.assign({},t);t=t.expr;Q=(delete Q.expr,Q);return Object.assign({},{signal:t},Q)}return yc(t)?t:void 0!==t?{value:t}:void 0}function lc(t){return yc(t)?t.signal:n.stringValue(t.value)}function Ic(t){return yc(t)?t.signal:null==t?null:n.stringValue(t)}function Ec(t){var Q;return[].concat(t.type,null!==(Q=t.style)&&void 0!==Q?Q:[])}function Rc(t,Q,l){let I=3<arguments.length&&void 0!==arguments[3]?
arguments[3]:{};const {vgChannel:O,ignoreVgConfig:fa}=I;if(O&&void 0!==Q[O])return Q[O];if(void 0!==Q[t])return Q[t];if(!fa||O&&O!==t)return id(t,Q,l,I)}function id(t,Q,l){let {vgChannel:I}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return B(I?Td(t,Q,l.style):void 0,Td(t,Q,l.style),I?l[Q.type][I]:void 0,l[Q.type][t],I?l.mark[I]:l.mark[t])}function Td(t,Q,l){return Ea(t,Ec(Q),l)}function Ea(t,Q,l){Q=n.array(Q);let I;for(const O of Q)(Q=l[O])&&void 0!==Q[t]&&(I=Q[t]);return I}function za(t,
Q){return n.array(t).reduce((l,I)=>{var O;l.field.push(Ad(I,Q));l.order.push(null!==(O=I.sort)&&void 0!==O?O:"ascending");return l},{field:[],order:[]})}function Fa(t,Q){const l=[...t];Q.forEach(I=>{for(const O of l)if(nh(O,I))return;l.push(I)});return l}function bb(t,Q){return nh(t,Q)||!Q?t:t?[...n.array(t),...n.array(Q)].join(", "):Q}function lb(t,Q){const l=t.value;Q=Q.value;if(null==l||null===Q)return{explicit:t.explicit,value:null};if((Ac(l)||yc(l))&&(Ac(Q)||yc(Q)))return{explicit:t.explicit,
value:bb(l,Q)};if(Ac(l)||yc(l))return{explicit:t.explicit,value:l};if(Ac(Q)||yc(Q))return{explicit:t.explicit,value:Q};if(!(Ac(l)||yc(l)||Ac(Q)||yc(Q)))return{explicit:t.explicit,value:Fa(l,Q)};throw Error("It should never reach here");}function zb(t,Q,l){Q in t?Object.defineProperty(t,Q,{value:l,enumerable:!0,configurable:!0,writable:!0}):t[Q]=l;return t}function Tb(t,Q,l){Q=Ub(t,Q,"set");if(Q.set)Q.set.call(t,l);else{if(!Q.writable)throw new TypeError("attempted to set read only private field");
Q.value=l}return l}function Ub(t,Q,l){if(!Q.has(t))throw new TypeError("attempted to "+l+" private field on non-instance");return Q.get(t)}function $b(t){return"Invalid specification ".concat(Mg(t),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function Dc(t){return"".concat("width"==t?"Width":"Height",' "container" only works for single views and layered views.')}function dd(t){const Q="width"==
t?"x":"y";return"".concat("width"==t?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(Q,'".')}function fd(t){return t?'Dropping "fit-'.concat(t,'" because spec has discrete ').concat(Ma(t),"."):'Dropping "fit" because spec has discrete size.'}function od(t){return"Unknown field for ".concat(t,". Cannot calculate view size.")}function sd(t){return'Cannot project a selection on encoding channel "'.concat(t,'", which has no field.')}function Kd(t,Q){return'Cannot project a selection on encoding channel "'.concat(t,
'" as it uses an aggregate function ("').concat(Q,'").')}function Od(t){return"Selection not supported for ".concat(t," yet.")}function ae(t){return'The "columns" property cannot be used when "'.concat(t,'" has nested row/column.')}function de(t,Q,l){return'An ancestor parsed field "'.concat(t,'" as ').concat(l," but a child wants to parse the field as ").concat(Q,".")}function je(t){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(t," are dropped.")}
function qd(t){return"".concat(t,"Offset dropped because ").concat(t," is continuous")}function bf(t){return"There is no ".concat(t," encoding. Replacing ").concat(t,"Offset encoding as ").concat(t,".")}function Ye(t,Q){const {fill:l,stroke:I}=Q;return"Dropping color ".concat(t," as the plot also has ").concat(l&&I?"fill and stroke":l?"fill":"stroke",".")}function pe(t,Q){return"Dropping ".concat(Mg(t),' from channel "').concat(Q,'" since it does not contain any data field, datum, value, or signal.')}
function ve(t,Q,l){return"".concat(t,' dropped as it is incompatible with "').concat(Q,'"').concat(l?" when ".concat(l):"",".")}function Ca(t){return"".concat(t,"-encoding is dropped as ").concat(t," is not a valid encoding channel.")}function Ya(t,Q){return'Using discrete channel "'.concat(t,'" to encode "').concat(Q,'" field can be misleading as it does not encode ').concat("ordinal"===Q?"order":"magnitude",".")}function tb(t,Q,l){return"".concat(l,"-scale's \"").concat(Q,'" is dropped as it does not work with ').concat(t,
" scale.")}function Kb(t){return'The step for "'.concat(t,'" is dropped because the ').concat("width"===t?"x":"y"," is continuous.")}function dc(t){return'Cannot stack "'.concat(t,'" if there is already "').concat(t,'2".')}function mc(t,Q){return"Invalid ".concat(t,": ").concat(Mg(Q),".")}function Jc(t){return"1D error band does not support ".concat(t,".")}function Gc(t){return"Channel ".concat(t,' is required for "binned" bin.')}function jc(){mj.warn(...arguments)}function bd(){mj.debug(...arguments)}
function md(t){if(t&&n.isObject(t))for(const Q of Oj)if(Q in t)return!0;return!1}function Ed(t){la(t)&&(t=+t);if(n.isNumber(t))return t-1;var Q=t.toLowerCase();const l=jh.indexOf(Q);if(-1!==l)return l;Q=Q.substr(0,3);Q=di.indexOf(Q);if(-1!==Q)return Q;throw Error(mc("month",t));}function Nd(t){la(t)&&(t=+t);if(n.isNumber(t))return t%7;var Q=t.toLowerCase();const l=Rh.indexOf(Q);if(-1!==l)return l;Q=Q.substr(0,3);Q=vk.indexOf(Q);if(-1!==Q)return Q;throw Error(mc("day",t));}function Pd(t,Q){const l=
[];Q&&void 0!==t.day&&1<le(t).length&&(jc("Dropping day from datetime ".concat(Mg(t)," as day cannot be combined with other units.")),t=qf(t),delete t.day);void 0!==t.year?l.push(t.year):l.push(2012);if(void 0!==t.month){var I=Q?Ed(t.month):t.month;l.push(I)}else if(void 0!==t.quarter){if(Q)if(I=t.quarter,la(I)&&(I=+I),n.isNumber(I))4<I&&jc(mc("quarter",I)),--I;else throw Error(mc("quarter",I));else I=t.quarter;l.push(n.isNumber(I)?3*I:"".concat(I,"*3"))}else l.push(0);void 0!==t.date?l.push(t.date):
void 0!==t.day?(Q=Q?Nd(t.day):t.day,l.push(n.isNumber(Q)?Q+1:"".concat(Q,"+1"))):l.push(1);for(const O of["hours","minutes","seconds","milliseconds"])Q=t[O],l.push("undefined"===typeof Q?0:Q);return l}function ee(t){const Q=Pd(t,!0).join(", ");return t.utc?"utc(".concat(Q,")"):"datetime(".concat(Q,")")}function Ce(t){const Q=Pd(t,!0);return t.utc?+new Date(Date.UTC(...Q)):+new Date(...Q)}function ue(t){return Oj.filter(Q=>Df(t,Q))}function Df(t,Q){const l=t.indexOf(Q);return 0>l||0<l&&"seconds"===
Q&&"i"===t.charAt(l-1)||t.length>l+3&&"day"===Q&&"o"===t.charAt(l+3)||0<l&&"year"===Q&&"f"===t.charAt(l-1)?!1:!0}function Be(t,Q){var {end:l}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const I=T(Q),O=t.startsWith("utc")?"utc":"";const fa={};for(const ya of Oj)if(Df(t,ya)){var va=ya;va="quarter"===va?"(".concat(O,"quarter(").concat(I,")-1)"):"".concat(O).concat(va,"(").concat(I,")");fa[ya]=va;va=ya}l&&(fa[va]+="+1");l=Pd(fa,!1).join(", ");return fa.utc?"utc(".concat(l,")"):"datetime(".concat(l,
")")}function Me(t){if(t)return t=ue(t),"timeUnitSpecifier(".concat(Mg(t),", ").concat(Mg(xl),")")}function kf(t){if(t){var Q;n.isString(t)?Q={unit:t}:n.isObject(t)&&(Q=Object.assign({},t,t.unit?{unit:t.unit}:{}));Q.unit.startsWith("utc")&&(Q.utc=!0,Q.unit=Q.unit.substr(3));return Q}}function Sb(t){var Q=kf(t);t=Object.assign({},Q);Q=Q.utc;const l=(delete t.utc,t);return l.unit?(Q?"utc":"")+le(l).map(I=>H("".concat("unit"===I?"":"_".concat(I,"_")).concat(l[I]))).join(""):(Q?"utc":"")+"timeunit"+le(l).map(I=>
H("_".concat(I,"_").concat(l[I]))).join("")}function qc(t){return t&&!!t.field&&void 0!==t.equal}function Vc(t){return t&&!!t.field&&void 0!==t.lt}function Bd(t){return t&&!!t.field&&void 0!==t.lte}function Hd(t){return t&&!!t.field&&void 0!==t.gt}function me(t){return t&&!!t.field&&void 0!==t.gte}function $e(t){return null!==t&&void 0!==t&&t.field&&(n.isArray(t.range)&&2===t.range.length||yc(t.range))?!0:!1}function Qf(t){return t&&!!t.field&&(n.isArray(t.oneOf)||n.isArray(t.in))}function Af(t){return Qf(t)||
qc(t)||$e(t)||Vc(t)||Hd(t)||Bd(t)||me(t)}function If(t,Q){return dg(t,{timeUnit:Q,wrapTime:!0})}function Ne(t,Q){return t.map(l=>If(l,Q))}function Bb(t){var Q,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:I}=t;const O=null===(Q=kf(t.timeUnit))||void 0===Q?void 0:Q.unit;Q=O?"time(".concat(Be(O,I),")"):Ad(t,{expr:"datum"});if(qc(t))return"".concat(Q,"\x3d\x3d\x3d").concat(If(t.equal,O));if(Vc(t))return l=t.lt,"".concat(Q,"\x3c").concat(If(l,O));if(Hd(t))return l=t.gt,"".concat(Q,
"\x3e").concat(If(l,O));if(Bd(t))return l=t.lte,"".concat(Q,"\x3c\x3d").concat(If(l,O));if(me(t))return l=t.gte,"".concat(Q,"\x3e\x3d").concat(If(l,O));if(Qf(t))return"indexof([".concat(Ne(t.oneOf,O).join(","),"], ").concat(Q,") !\x3d\x3d -1");if(t&&t.field&&void 0!==t.valid)return Zb(Q,t.valid);if($e(t)){var {range:fa}=t;I=yc(fa)?{signal:"".concat(fa.signal,"[0]")}:fa[0];fa=yc(fa)?{signal:"".concat(fa.signal,"[1]")}:fa[1];if(null!==I&&null!==fa&&l)return"inrange("+Q+", ["+If(I,O)+", "+If(fa,O)+"])";
l=[];null!==I&&l.push("".concat(Q," \x3e\x3d ").concat(If(I,O)));null!==fa&&l.push("".concat(Q," \x3c\x3d ").concat(If(fa,O)));return 0<l.length?l.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(Mg(t)));}function Zb(t){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?"isValid(".concat(t,") \x26\x26 isFinite(+").concat(t,")"):"!isValid(".concat(t,") || !isFinite(+").concat(t,")")}function Sc(t){if(Af(t)&&t.timeUnit){var Q;return Object.assign({},t,{timeUnit:null===
(Q=kf(t.timeUnit))||void 0===Q?void 0:Q.unit})}return t}function ce(t){return"quantitative"===t||"temporal"===t}function ke(t){return"ordinal"===t||"nominal"===t}function Rd(t){if(t)switch(t=t.toLowerCase(),t){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}function Sd(t){return yl.has(t)}function Qd(t){return il.has(t)}function Qe(t){return null===
t||void 0===t?void 0:t.param}function cf(t,Q){switch(Q){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(t);case "bins":return!["point","band","identity","ordinal"].includes(t);case "round":return ii.has(t)||"band"===t||"point"===t;case "padding":case "rangeMin":case "rangeMax":return ii.has(t)||["point","band"].includes(t);case "paddingOuter":case "align":return["point","band"].includes(t);case "paddingInner":return"band"===
t;case "domainMax":case "domainMid":case "domainMin":case "clamp":return ii.has(t);case "nice":return ii.has(t)||"quantize"===t||"threshold"===t;case "exponent":return"pow"===t;case "base":return"log"===t;case "constant":return"symlog"===t;case "zero":return Qd(t)&&!a(["log","time","utc","threshold","quantile"],t)}}function ra(t,Q){switch(Q){case "interpolate":case "scheme":case "domainMid":if(!Ua(t))return'Cannot use the scale property "'.concat(t,'" with non-color channel.')}}function jb(t,Q){let l=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!zi[t])return!1;switch(t){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return ii.has(Q)||"band"===Q?!0:"point"===Q?!l:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return ii.has(Q)||zj.has(Q)||a(["band","point","ordinal"],Q);case "color":case "fill":case "stroke":return"band"!==Q;case "strokeDash":case "shape":return"ordinal"===Q||zj.has(Q)}}function Ia(t){return["line",
"area","trail"].includes(t)}function Xb(t){return t.type}function ha(t){return t&&void 0!=t.band}function Oa(t){const {channel:Q,channelDef:l,markDef:I,scale:O,config:fa}=t;t=Wb(t);if(wc(l)&&!ja(l.aggregate)&&O&&ii.has(O.get("type"))){{let {fieldDef:ya,channel:gb,markDef:sb,ref:yb,config:Ob}={fieldDef:l,channel:Q,markDef:I,ref:t,config:fa};if(Ia(sb.type))t=yb;else if(null===Rc("invalid",sb,Ob)){var va=gb;t=$a(ya,!0);va="y"===La(va)?{field:{group:"height"}}:{value:0};t=[Object.assign({},{test:t},va),
yb]}else t=yb}return t}return t}function $a(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Zb(n.isString(t)?t:Ad(t,{expr:"datum"}),!Q)}function ub(t,Q,l,I){const O={};Q&&(O.scale=Q);ld(t)?({datum:t}=t,md(t)?O.signal=ee(t):yc(t)?O.signal=t.signal:Fb(t)?O.signal=t.expr:O.value=t):O.field=Ad(t,l);if(I){const {offset:fa,band:va}=I;fa&&(O.offset=fa);va&&(O.band=va)}return O}function Cb(t){let {scaleName:Q,fieldOrDatumDef:l,fieldOrDatumDef2:I,offset:O,startSuffix:fa,bandPosition:va=
.5}=t;var ya=0<va&&1>va?"datum":void 0;t=Ad(l,{expr:ya,suffix:fa});const gb=void 0!==I?Ad(I,{expr:ya}):Ad(l,{suffix:"end",expr:ya});ya={};0===va||1===va?(ya.scale=Q,ya.field=0===va?t:gb):(t=yc(va)?"".concat(va.signal," * ").concat(t," + (1-").concat(va.signal,") * ").concat(gb):"".concat(va," * ").concat(t," + ").concat(1-va," * ").concat(gb),ya.signal='scale("'.concat(Q,'", ').concat(t,")"));O&&(ya.offset=O);return ya}function Wb(t){let {channel:Q,channelDef:l,channel2Def:I,markDef:O,config:fa,scaleName:va,
scale:ya,stack:gb,offset:sb,defaultRef:yb,bandPosition:Ob}=t;if(l){if(Fd(l)){var vc,kd;t=null===ya||void 0===ya?void 0:ya.get("type");if(he(l)){var Qc;null!==(Qc=Ob)&&void 0!==Qc?Qc:Ob=Eb({fieldDef:l,fieldDef2:I,markDef:O,config:fa});const {bin:zd,timeUnit:Id,type:Zd}=l;if(Wa(zd)||Ob&&Id&&"temporal"===Zd)return null!==gb&&void 0!==gb&&gb.impute?ub(l,va,{binSuffix:"mid"},{offset:sb}):Ob&&!Sd(t)?Cb({scaleName:va,fieldOrDatumDef:l,bandPosition:Ob,offset:sb}):ub(l,va,Jf(l,Q)?{binSuffix:"range"}:{},{offset:sb});
if(cb(zd)){if(wc(I))return Cb({scaleName:va,fieldOrDatumDef:l,fieldOrDatumDef2:I,bandPosition:Ob,offset:sb});jc(Gc("x"===Q?"x2":"y2"))}}return ub(l,va,Sd(t)?{binSuffix:"range"}:{},{offset:sb,band:"band"===t?null!==(vc=null!==(kd=Ob)&&void 0!==kd?kd:l.bandPosition)&&void 0!==vc?vc:.5:void 0})}if(se(l))return vc=sb?{offset:sb}:{},Object.assign({},sc(Q,l.value),vc)}n.isFunction(yb)&&(yb=yb());return yb?Object.assign({},yb,sb?{offset:sb}:{}):yb}function sc(t,Q){return a(["x","x2"],t)&&"width"===Q?{field:{group:"width"}}:
a(["y","y2"],t)&&"height"===Q?{field:{group:"height"}}:ac(Q)}function Uc(t){return t&&"number"!==t&&"time"!==t}function Xc(t,Q,l){return"".concat(t,"(").concat(Q).concat(l?", ".concat(Mg(l)):"",")")}function Cc(t){let {fieldOrDatumDef:Q,format:l,formatType:I,expr:O,normalizeStack:fa,config:va}=t;if(Uc(I))return oc({fieldOrDatumDef:Q,format:l,formatType:I,expr:O,config:va});t=zc(Q,O,fa);if(Ag(Q)){var ya,gb;var sb=wc(Q)?null===(ya=kf(Q.timeUnit))||void 0===ya?void 0:ya.unit:void 0,yb=l,Ob=va.timeFormat;
ya=td(Q)&&(null===(gb=Q.scale)||void 0===gb?void 0:gb.type)===mi.UTC;!sb||yb?(yb=n.isString(yb)?yb:Ob,t="".concat(ya?"utc":"time","Format(").concat(t,", '").concat(yb,"')")):sb?(gb=Me(sb),sb=ya||sb.startsWith("utc"),t="".concat(sb?"utc":"time","Format(").concat(t,", ").concat(gb,")")):t=void 0;return t?{signal:t}:void 0}l=Yc(Q&&Q.type,l,va);return wc(Q)&&Wa(Q.bin)?(gb=Ad(Q,{expr:O,binSuffix:"end"}),{signal:Pb(t,gb,l,I,va)}):l||"quantitative"===(Q&&Q.type)?{signal:"".concat(mb(t,l))}:{signal:"isValid(".concat(t,
") ? ").concat(t,' : ""+').concat(t)}}function zc(t,Q,l){if(wc(t))return l?"".concat(Ad(t,{expr:Q,suffix:"end"}),"-").concat(Ad(t,{expr:Q,suffix:"start"})):Ad(t,{expr:Q});({datum:t}=t);t=md(t)?ee(t):"".concat(Mg(t));return t}function oc(t){var Q;let {fieldOrDatumDef:l,format:I,formatType:O,expr:fa,normalizeStack:va,config:ya,field:gb}=t;null!==(Q=gb)&&void 0!==Q?Q:gb=zc(l,fa,va);return wc(l)&&Wa(l.bin)?(t=Ad(l,{expr:fa,binSuffix:"end"}),{signal:Pb(gb,t,I,O,ya)}):{signal:Xc(O,gb,I)}}function Fc(t,
Q,l,I,O,fa){if(!Uc(I)){if(Ag(t)){var va;t=wc(t)?null===(va=kf(t.timeUnit))||void 0===va?void 0:va.unit:void 0;l=l?l:t?{signal:Me(t)}:fa?void 0:O.timeFormat;return l}return Yc(Q,l,O)}}function Mc(t,Q,l){if(t&&(yc(t)||"number"===t||"time"===t))return t;if(Ag(Q)&&"time"!==l&&"utc"!==l)return"time"}function Yc(t,Q,l){if(n.isString(Q))return Q;if("quantitative"===t)return l.numberFormat}function mb(t,Q){return"format(".concat(t,', "').concat(Q||"",'")')}function Gb(t,Q,l,I){var O;return Uc(l)?Xc(l,t,Q):
mb(t,null!==(O=n.isString(Q)?Q:void 0)&&void 0!==O?O:I.numberFormat)}function Pb(t,Q,l,I,O){const fa=Gb(t,l,I,O);Q=Gb(Q,l,I,O);return"".concat(Zb(t,!1),' ? "null" : ').concat(fa,' + "').concat("  ",'" + ').concat(Q)}function Vb(t){return!!t&&("count"===t.op||!!t.field)}function ma(t){return!!t&&n.isArray(t)}function Ka(t){return"row"in t||"column"in t}function ib(t){const {field:Q,timeUnit:l,bin:I,aggregate:O}=t;return Object.assign({},l?{timeUnit:l}:{},I?{bin:I}:{},O?{aggregate:O}:{},{field:Q})}
function Eb(t){let {fieldDef:Q,fieldDef2:l,markDef:I,config:O}=t;if(Fd(Q)&&void 0!==Q.bandPosition)return Q.bandPosition;if(wc(Q)){const {timeUnit:fa,bin:va}=Q;if(fa&&!l)return["rect","bar","image","arc"].includes(I.type)?0:id("timeUnitBandPosition",I,O);if(Wa(va))return.5}}function Ib(t){let {channel:Q,fieldDef:l,fieldDef2:I,markDef:O,config:fa,scaleType:va,useVlSizeChannel:ya}=t;t=Ma(Q);t=Rc(ya?"size":t,O,fa,{vgChannel:t});if(void 0!==t)return t;if(wc(l)){const {timeUnit:Ob,bin:vc}=l;if(Ob&&!I)return{band:id("timeUnitBandSize",
O,fa)};if(Wa(vc)&&!Sd(va))return{band:1}}if(["rect","bar","image","arc"].includes(O.type)){var gb;if(va){if(Sd(va)){var sb;return(null===(sb=fa[O.type])||void 0===sb?void 0:sb.discreteBandSize)||{band:1}}var yb;return null===(yb=fa[O.type])||void 0===yb?void 0:yb.continuousBandSize}return null===(gb=fa[O.type])||void 0===gb?void 0:gb.discreteBandSize}}function Nb(t,Q,l,I){return Wa(t.bin)||t.timeUnit&&he(t)&&"temporal"===t.type?void 0!==Eb({fieldDef:t,fieldDef2:Q,markDef:l,config:I}):!1}function kc(t){return t&&
"condition"in t}function Kc(t){t=t&&t.condition;return!!t&&!n.isArray(t)&&wc(t)}function Bc(t){t=t&&t.condition;return!!t&&!n.isArray(t)&&Fd(t)}function wc(t){return t&&(!!t.field||"count"===t.aggregate)}function ld(t){return t&&"datum"in t}function wd(t){return he(t)&&!We(t)||Fe(t)}function Fe(t){return ld(t)&&n.isNumber(t.datum)}function Fd(t){return wc(t)||ld(t)}function he(t){return t&&("field"in t||"count"===t.aggregate)&&"type"in t}function se(t){return t&&"value"in t&&"value"in t}function td(t){return t&&
("scale"in t||"sort"in t)}function Dd(t){return t&&("axis"in t||"stack"in t||"impute"in t)}function fe(t){return t&&("format"in t||"formatType"in t)}function qe(t){return f(t,["legend","axis","header","scale"])}function Ad(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=t.field;const I=Q.prefix;let O=Q.suffix,fa="";if("count"===t.aggregate)l=U("count");else{let sb;if(!Q.nofn)if("op"in t)sb=t.op;else{const {bin:yb,aggregate:Ob,timeUnit:vc}=t;if(Wa(yb)){var va,ya;sb=Ga(yb);O=(null!==
(va=Q.binSuffix)&&void 0!==va?va:"")+(null!==(ya=Q.suffix)&&void 0!==ya?ya:"")}else if(Ob)oa(Ob)?(fa='["'.concat(l,'"]'),l="argmax_".concat(Ob.argmax)):Qa(Ob)?(fa='["'.concat(l,'"]'),l="argmin_".concat(Ob.argmin)):sb=String(Ob);else if(vc){var gb;sb=Sb(vc);O=(!["range","mid"].includes(Q.binSuffix)&&Q.binSuffix||"")+(null!==(gb=Q.suffix)&&void 0!==gb?gb:"")}}sb&&(l=l?"".concat(sb,"_").concat(l):sb)}O&&(l="".concat(l,"_").concat(O));I&&(l="".concat(I,"_").concat(l));return Q.forAs?P(l):Q.expr?ba(l,
Q.expr)+fa:W(l)+fa}function We(t){switch(t.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return wc(t)&&!!t.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(t.type,'".'));}function Se(t,Q){const {field:l,bin:I,timeUnit:O,aggregate:fa}=t;if("count"===fa)return Q.countTitle;if(Wa(I))return"".concat(l," (binned)");if(O){var va;if(t=null===(va=kf(O))||void 0===va?void 0:va.unit)return"".concat(l," (").concat(ue(t).join("-"),")")}else if(fa)return oa(fa)?
"".concat(l," for max ").concat(fa.argmax):Qa(fa)?"".concat(l," for min ").concat(fa.argmin):"".concat(Z(fa)," of ").concat(l);return l}function hf(t,Q,l){var I;let {allowDisabling:O,includeDefault:fa=!0}=l;l=null===(I=Bf(t))||void 0===I?void 0:I.title;if(!wc(t))return null!==l&&void 0!==l?l:t.title;Q=fa?Bi(t,Q):void 0;if(O)return B(l,t.title,Q);var va;return null!==(va=null!==l&&void 0!==l?l:t.title)&&void 0!==va?va:Q}function Bf(t){if(Dd(t)&&t.axis)return t.axis;if(t&&"legend"in t&&t.legend)return t.legend;
if(t&&"header"in t&&t.header)return t.header}function Cf(t){if(fe(t)){const {format:O,formatType:fa}=t;return{format:O,formatType:fa}}var Q;t=null!==(Q=Bf(t))&&void 0!==Q?Q:{};const {format:l,formatType:I}=t;return{format:l,formatType:I}}function Vg(t,Q){var l;switch(Q){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in t&&n.isArray(t.sort))return"ordinal";const {aggregate:I,
bin:O,timeUnit:fa}=t;if(fa)return"temporal";if(O||I&&!oa(I)&&!Qa(I))return"quantitative";if(td(t)&&null!==(l=t.scale)&&void 0!==l&&l.type)switch(Qk[t.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Yd(t){if(wc(t))return t;if(Kc(t))return t.condition}function Ie(t){if(Fd(t))return t;if(Bc(t))return t.condition}function qg(t,Q,l){var I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return n.isString(t)||n.isNumber(t)||
n.isBoolean(t)?(I=n.isString(t)?"string":n.isNumber(t)?"number":"boolean",I="Channel ".concat(Q," is a ").concat(I,". Converted to {value: ").concat(Mg(t),"}."),jc(I),{value:t}):Fd(t)?ug(t,Q,l,I):Bc(t)?Object.assign({},t,{condition:ug(t.condition,Q,l,I)}):t}function ug(t,Q,l,I){if(fe(t)){var O=Object.assign({},t),fa=t.formatType;O=(delete O.format,delete O.formatType,O);if(Uc(fa)&&!l.customFormatTypes)return jc(je(Q)),ug(O,Q,l,I)}else if((fa=Dd(t)?"axis":t&&"legend"in t?"legend":t&&"header"in t?"header":
null)&&t[fa]){var va=t[fa];O=Object.assign({},va);va=va.formatType;O=(delete O.format,delete O.formatType,O);if(Uc(va)&&!l.customFormatTypes)return jc(je(Q)),ug(Object.assign({},t,{[fa]:O}),Q,l,I)}if(wc(t))return Zg(t,Q,I);Q=t.type;Q||({datum:Q}=t,Q=n.isNumber(Q)?"quantitative":n.isString(Q)?"nominal":md(Q)?"temporal":void 0,t=Object.assign({},t,{type:Q}));return t}function Zg(t,Q){var {compositeMark:l=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:I,timeUnit:O,bin:fa,
field:va}=t,ya=Object.assign({},t);l||!I||Y(I)||oa(I)||Qa(I)||(jc('Invalid aggregation operator "'.concat(I,'".')),delete ya.aggregate);O&&(ya.timeUnit=kf(O));va&&(ya.field="".concat(va));Wa(fa)&&(ya.bin=cg(fa,Q));cb(fa)&&!Ha(Q)&&jc("Channel ".concat(Q,' should not be used with "binned" bin.'));if(he(ya)){({type:l}=ya);var gb=Rd(l);l!==gb&&(ya.type=gb);"quantitative"!==l&&ja(I)&&(l='Invalid field type "'.concat(l,'" for aggregate: "').concat(I,'", using "quantitative" instead.'),jc(l),ya.type="quantitative")}else hb(Q)||
(l=Vg(ya,Q),ya.type=l);if(he(ya)){const {compatible:yb,warning:Ob}=Eg(ya,Q)||{};!1===yb&&jc(Ob)}if("sort"in ya&&n.isString(ya.sort)){({sort:l}=ya);if(l in yk)return Object.assign({},ya,{sort:{encoding:l}});gb=l.substr(1);if("-"===l.charAt(0)&&gb in yk)return Object.assign({},ya,{sort:{encoding:gb,order:"descending"}})}if(ya&&"header"in ya&&({header:l}=ya,l)){var sb=l;gb=Object.assign({},sb);sb=sb.orient;gb=(delete gb.orient,gb);if(sb)return Object.assign({},ya,{header:Object.assign({},gb,{labelOrient:l.labelOrient||
sb,titleOrient:l.titleOrient||sb})})}return ya}function cg(t,Q){return n.isBoolean(t)?{maxbins:pb(Q)}:"binned"===t?{binned:!0}:t.maxbins||t.step?t:Object.assign({},t,{maxbins:pb(Q)})}function Eg(t,Q){var l=t.type;if("geojson"===l&&"shape"!==Q)return{compatible:!1,warning:"Channel ".concat(Q," should not be used with a geojson data.")};switch(Q){case "row":case "column":case "facet":return We(t)?Vi:{compatible:!1,warning:"".concat(Q," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return Vi;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==l?{compatible:!1,warning:"Channel ".concat(Q," should be used with a quantitative field only, not ").concat(t.type," field.")}:Vi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==l||t.sort?Vi:{compatible:!1,warning:"Channel ".concat(Q," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(l=
!We(t)){var I;l=!(td(t)&&zj.has(null===(I=t.scale)||void 0===I?void 0:I.type))}return l?{compatible:!1,warning:"".concat(Q," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:Vi;case "order":return"nominal"!==t.type||"sort"in t?Vi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Ag(t){var {formatType:Q}=Cf(t),l;if(!(l="time"===Q)){if(Q=!Q)Q=t&&("temporal"===t.type||wc(t)&&!!t.timeUnit);
l=Q}return l}function dg(t,Q){let {timeUnit:l,type:I,wrapTime:O,undefinedIfExprNotRequired:fa}=Q;var va=(Q=l&&(null===(va=kf(l))||void 0===va?void 0:va.unit))||"temporal"===I;let ya;Fb(t)?ya=t.expr:yc(t)?ya=t.signal:md(t)?(va=!0,ya=ee(t)):(n.isString(t)||n.isNumber(t))&&va&&(ya="datetime(".concat(Mg(t),")"),Nj[Q]&&(n.isNumber(t)&&1E4>t||n.isString(t)&&isNaN(Date.parse(t)))&&(ya=ee({[Q]:t})));return ya?O&&va?"time(".concat(ya,")"):ya:fa?void 0:Mg(t)}function Rf(t,Q){const {type:l}=t;return Q.map(I=>
{const O=dg(I,{timeUnit:wc(t)?t.timeUnit:void 0,type:l,undefinedIfExprNotRequired:!0});return void 0!==O?{signal:O}:I})}function Jf(t,Q){return Wa(t.bin)?!!zi[Q]&&["ordinal","nominal"].includes(t.type):(console.warn("Only call this method for binned field defs."),!1)}function eg(t){return t&&t.condition}function Mf(t){return"mark"in t}function jg(t,Q){return(t=t&&t[Q])?n.isArray(t)?c(t,l=>!!l.field):wc(t)||Kc(t):!1}function oh(t,Q){return(t=t&&t[Q])?n.isArray(t)?c(t,l=>!!l.field):wc(t)||ld(t)||Bc(t):
!1}function th(t,Q){if(Ha(Q)){const l=t[Q];if((wc(l)||ld(l))&&ke(l.type))return Q=Aa(Q),oh(t,Q)}return!1}function Fg(t){return c(fl,Q=>jg(t,Q)?(Q=t[Q],n.isArray(Q)?c(Q,l=>!!l.aggregate):(Q=Yd(Q))&&!!Q.aggregate):!1)}function vg(t,Q){const l=[],I=[],O=[],fa=[],va={};ud(t,(ya,gb)=>{if(wc(ya)){var sb=Object.assign({},ya),yb=ya.field;const vc=ya.aggregate,kd=ya.bin,Qc=ya.timeUnit;sb=(delete sb.field,delete sb.aggregate,delete sb.bin,delete sb.timeUnit,sb);if(vc||Qc||kd){var Ob=Bf(ya);const zd=null===
Ob||void 0===Ob?void 0:Ob.title;Ob=Ad(ya,{forAs:!0});sb=Object.assign({},zd?[]:{title:hf(ya,Q,{allowDisabling:!0})},sb,{field:Ob});if(vc){let Id;oa(vc)?(Id="argmax",Ob=Ad({op:"argmax",field:vc.argmax},{forAs:!0}),sb.field="".concat(Ob,".").concat(yb)):Qa(vc)?(Id="argmin",Ob=Ad({op:"argmin",field:vc.argmin},{forAs:!0}),sb.field="".concat(Ob,".").concat(yb)):"boxplot"!==vc&&"errorbar"!==vc&&"errorband"!==vc&&(Id=vc);Id&&(ya={op:Id,as:Ob},yb&&(ya.field=yb),fa.push(ya))}else l.push(Ob),he(ya)&&Wa(kd)?
(I.push({bin:kd,field:yb,as:Ob}),l.push(Ad(ya,{binSuffix:"end"})),Jf(ya,gb)&&l.push(Ad(ya,{binSuffix:"range"})),Ha(gb)&&(yb={field:"".concat(Ob,"_end")},va["".concat(gb,"2")]=yb),sb.bin="binned",hb(gb)||(sb.type="quantitative")):Qc&&(O.push({timeUnit:Qc,field:yb,as:Ob}),(yb=he(ya)&&"temporal"!==ya.type&&"time")&&("text"===gb||"tooltip"===gb?sb.formatType=yb:Hk[gb]?sb.legend=Object.assign({},{formatType:yb},sb.legend):Ha(gb)&&(sb.axis=Object.assign({},{formatType:yb},sb.axis))));va[gb]=sb}else l.push(yb),
va[gb]=t[gb]}else va[gb]=t[gb]});return{bins:I,timeUnits:O,aggregate:fa,groupby:l,encoding:va}}function vh(t,Q,l){l=eb(Q)[l];return l&&("binned"!==l||(l=t["x2"===Q?"x":"y"],wc(l)&&wc(t[Q])&&cb(l.bin)))?!0:!1}function Za(t,Q,l,I){const O={};for(var fa of le(t))ak[fa]||jc(Ca(fa));for(let ya of tk)if(t[ya]){fa=t[ya];if(ya in yi){var va=qa(ya);const gb=O[va];if(wc(gb)){if(ce(gb.type)&&wc(fa)){jc(qd(va));continue}}else ya=va,jc(bf(va))}"angle"!==ya||"arc"!==Q||t.theta||(jc("Arc marks uses theta channel rather than angle, replacing angle with theta."),
ya="theta");if(vh(t,ya,Q)){if("size"===ya&&"line"===Q&&(va=Yd(t[ya]),null!==va&&void 0!==va&&va.aggregate)){jc("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if("color"===ya&&(l?"fill"in t:"stroke"in t))jc(Ye("encoding",{fill:"fill"in t,stroke:"stroke"in t}));else if("detail"===ya||"order"===ya&&!n.isArray(fa)&&!se(fa)||"tooltip"===ya&&n.isArray(fa))fa&&(O[ya]=n.array(fa).reduce((gb,sb)=>{wc(sb)?gb.push(Zg(sb,ya)):jc(pe(sb,ya));return gb},
[]));else{if("tooltip"===ya&&null===fa)O[ya]=null;else if(!(wc(fa)||ld(fa)||se(fa)||kc(fa)||yc(fa))){jc(pe(fa,ya));continue}O[ya]=qg(fa,ya,I)}}else jc(ve(ya,Q))}return O}function Db(t,Q){const l={};for(const I of le(t)){const O=qg(t[I],I,Q,{compositeMark:!0});l[I]=O}return l}function ic(t){const Q=[];for(const l of le(t))if(jg(t,l)){const I=n.array(t[l]);for(const O of I)wc(O)?Q.push(O):Kc(O)&&Q.push(O.condition)}return Q}function ud(t,Q,l){if(t)for(const I of le(t)){const O=t[I];if(n.isArray(O))for(const fa of O)Q.call(l,
fa,I);else Q.call(l,O,I)}}function yd(t,Q,l,I){return t?le(t).reduce((O,fa)=>{const va=t[fa];return n.isArray(va)?va.reduce((ya,gb)=>Q.call(I,ya,gb,fa),O):Q.call(I,O,va,fa)},l):l}function be(t,Q){return le(Q).reduce((l,I)=>{switch(I){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return l;
case "order":if("line"===t||"trail"===t)return l;case "detail":case "key":I=Q[I];if(n.isArray(I)||wc(I))for(var O of n.array(I))O.aggregate||l.push(Ad(O,{}));return l;case "size":if("trail"===t)return l;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(O=Yd(Q[I]))&&!O.aggregate&&l.push(Ad(O,{})),l}},[])}function df(t,Q,l){let I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in l)return{tooltip:l.tooltip};
const O=t.map(va=>{let {fieldPrefix:ya,titlePrefix:gb}=va;va=I?" of ".concat(tf(Q)):"";return{field:ya+Q.field,type:Q.type,title:yc(gb)?{signal:"".concat(gb,'"').concat(escape(va),'"')}:gb+va}}),fa=ic(l).map(qe);return{tooltip:[...O,...z(fa,e)]}}function tf(t){const {title:Q,field:l}=t;return B(Q,l)}function Gg(t,Q,l,I,O){const {scale:fa,axis:va}=l;return ya=>{let {partName:gb,mark:sb,positionPrefix:yb,endPositionPrefix:Ob,extraEncoding:vc={}}=ya;ya=tf(l);return Nf(t,gb,O,{mark:sb,encoding:Object.assign({},
{[Q]:Object.assign({},{field:"".concat(yb,"_").concat(l.field),type:l.type},void 0!==ya?{title:ya}:{},void 0!==fa?{scale:fa}:{},void 0!==va?{axis:va}:{})},n.isString(Ob)?{["".concat(Q,"2")]:{field:"".concat(Ob,"_").concat(l.field)}}:{},I,vc)})}}function Nf(t,Q,l,I){const {clip:O,color:fa,opacity:va}=t,ya=t.type;return t[Q]||void 0===t[Q]&&l[Q]?[Object.assign({},I,{mark:Object.assign({},l[Q],O?{clip:O}:{},fa?{color:fa}:{},va?{opacity:va}:{},Xb(I.mark)?I.mark:{type:I.mark},{style:"".concat(ya,"-").concat(Q)},
n.isBoolean(t[Q])?{}:t[Q])})]:[]}function qh(t,Q,l){({encoding:t}=t);Q="vertical"===Q?"y":"x";const I=t[Q],O=t["".concat(Q,"2")],fa=t["".concat(Q,"Error")];t=t["".concat(Q,"Error2")];return{continuousAxisChannelDef:xh(I,l),continuousAxisChannelDef2:xh(O,l),continuousAxisChannelDefError:xh(fa,l),continuousAxisChannelDefError2:xh(t,l),continuousAxis:Q}}function xh(t,Q){if(null!==t&&void 0!==t&&t.aggregate){var l=Object.assign({},t);t=t.aggregate;l=(delete l.aggregate,l);t!==Q&&(Q="Continuous axis should not have customized aggregation function ".concat(t,
"; ").concat(Q," already agregates the axis."),jc(Q));return l}return t}function $g(t,Q){const {mark:l,encoding:I}=t,{x:O,y:fa}=I;if(Xb(l)&&l.orient)return l.orient;if(wd(O)){if(wd(fa)){t=wc(O)&&O.aggregate;const va=wc(fa)&&fa.aggregate;if(!t&&va===Q)return"vertical";if(va||t!==Q){if(t===Q&&va===Q)throw Error("Both x and y cannot have aggregate");return Ag(fa)&&!Ag(O)?"horizontal":"vertical"}}return"horizontal"}if(wd(fa))return"vertical";throw Error("Need a valid continuous axis for ".concat(Q,"s"));
}function Wg(t){return n.isNumber(t)?"tukey":t}function Og(t,Q){var l,{config:I}=Q,O=t=Object.assign({},t,{encoding:Db(t.encoding,I)});Q=Object.assign({},O);var fa=O.mark;O=O.params;Q=(delete Q.mark,delete Q.encoding,delete Q.params,delete Q.projection,Q);fa=Xb(fa)?fa:{type:fa};O&&jc(Od("boxplot"));O=null!==(l=fa.extent)&&void 0!==l?l:I.boxplot.extent;var va=Rc("size",fa,I);l=Wg(O);var ya=t;t=$g(ya,"boxplot");const {continuousAxisChannelDef:gb,continuousAxis:sb}=qh(ya,t,"boxplot");var yb=gb.field,
Ob=Wg(O),vc=[...kh(yb),{op:"median",field:yb,as:"mid_box_".concat(yb)},{op:"min",field:yb,as:("min-max"===Ob?"lower_whisker_":"min_")+yb},{op:"max",field:yb,as:("min-max"===Ob?"upper_whisker_":"max_")+yb}];yb="min-max"===Ob||"tukey"===Ob?[]:[{calculate:'datum["upper_box_'.concat(yb,'"] - datum["lower_box_').concat(yb,'"]'),as:"iqr_".concat(yb)},{calculate:'min(datum["upper_box_'.concat(yb,'"] + datum["iqr_').concat(yb,'"] * ').concat(O,', datum["max_').concat(yb,'"])'),as:"upper_whisker_".concat(yb)},
{calculate:'max(datum["lower_box_'.concat(yb,'"] - datum["iqr_').concat(yb,'"] * ').concat(O,', datum["min_').concat(yb,'"])'),as:"lower_whisker_".concat(yb)}];ya=Object.assign({},ya.encoding);var kd;Ob=(delete ya[sb],ya);ya=Object.assign({},Ob);Ob=Ob.tooltip;ya=(delete ya.tooltip,ya);if(Ob){var Qc;if(n.isArray(Ob)){for(var zd of Ob)zd.aggregate?(kd||(kd=[]),kd.push(zd)):(Qc||(Qc=[]),Qc.push(zd));kd&&(ya.tooltip=kd)}else Ob.aggregate?ya.tooltip=Ob:Qc=Ob;n.isArray(Qc)&&1===Qc.length&&(Qc=Qc[0]);kd=
{customTooltipWithoutAggregatedField:Qc,filteredEncoding:ya}}else kd={filteredEncoding:ya};const {customTooltipWithoutAggregatedField:Id,filteredEncoding:Zd}=kd,{bins:te,timeUnits:$d,aggregate:xe,groupby:Te,encoding:Oe}=vg(Zd,I);kd=[...te,...$d,{aggregate:[...xe,...vc],groupby:Te},...yb];const {bins:He,timeUnits:$f,transform:ch,continuousAxisChannelDef:gg,continuousAxis:fi,groupby:Ki,aggregate:El,encodingWithoutContinuousAxis:dh,ticksOrient:ml,boxOrient:Fl,customTooltipWithoutAggregatedField:Ul}=
{bins:te,timeUnits:$d,transform:kd,groupby:Te,aggregate:xe,continuousAxisChannelDef:gb,continuousAxis:sb,encodingWithoutContinuousAxis:Oe,ticksOrient:"vertical"===t?"horizontal":"vertical",boxOrient:t,customTooltipWithoutAggregatedField:Id};Qc=Object.assign({},dh);kd=dh.color;vc=dh.size;Qc=(delete Qc.color,delete Qc.size,Qc);zd=Gg(fa,fi,gg,Qc,I.boxplot);t=Gg(fa,fi,gg,dh,I.boxplot);vc=Gg(fa,fi,gg,Object.assign({},Qc,vc?{size:vc}:{}),I.boxplot);yb=df([{fieldPrefix:"min-max"===l?"upper_whisker_":"max_",
titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===l?"lower_whisker_":"min_",titlePrefix:"Min"}],gg,dh);ya={type:"tick",color:"black",opacity:1,orient:ml,invalid:null,aria:!1};Ob="min-max"===l?yb:df([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],gg,dh);zd=[...zd({partName:"rule",mark:{type:"rule",invalid:null,
aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Ob}),...zd({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Ob}),...zd({partName:"ticks",mark:ya,positionPrefix:"lower_whisker",extraEncoding:Ob}),...zd({partName:"ticks",mark:ya,positionPrefix:"upper_whisker",extraEncoding:Ob})];va=[...("tukey"!==l?zd:[]),...t({partName:"box",mark:Object.assign({},{type:"bar"},va?{size:va}:{},{orient:Fl,
invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:yb}),...vc({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},n.isObject(I.boxplot.median)&&I.boxplot.median.color?{color:I.boxplot.median.color}:{},va?{size:va}:{},{orient:ml,aria:!1}),positionPrefix:"mid_box",extraEncoding:yb})];if("min-max"===l){var Hj;return Object.assign({},Q,{transform:(null!==(Hj=Q.transform)&&void 0!==Hj?Hj:[]).concat(ch),layer:va})}Hj='datum["lower_box_'.concat(gg.field,
'"]');l='datum["upper_box_'.concat(gg.field,'"]');t="(".concat(l," - ").concat(Hj,")");Hj="".concat(Hj," - ").concat(O," * ").concat(t);t="".concat(l," + ").concat(O," * ").concat(t);vc='datum["'.concat(gg.field,'"]');O={joinaggregate:kh(gg.field),groupby:Ki};l={transform:[{filter:"(".concat(Hj," \x3c\x3d ").concat(vc,") \x26\x26 (").concat(vc," \x3c\x3d ").concat(t,")")},{aggregate:[{op:"min",field:gg.field,as:"lower_whisker_".concat(gg.field)},{op:"max",field:gg.field,as:"upper_whisker_".concat(gg.field)},
{op:"min",field:"lower_box_".concat(gg.field),as:"lower_box_".concat(gg.field)},{op:"max",field:"upper_box_".concat(gg.field),as:"upper_box_".concat(gg.field)},...El],groupby:Ki}],layer:zd};Qc=Object.assign({},Qc);Qc=(delete Qc.tooltip,Qc);const {scale:Vl,axis:lm}=gg;zd=tf(gg);yb=f(lm,["title"]);I=Nf(fa,"outliers",I.boxplot,{transform:[{filter:"(".concat(vc," \x3c ").concat(Hj,") || (").concat(vc," \x3e ").concat(t,")")}],mark:"point",encoding:Object.assign({},{[fi]:Object.assign({},{field:gg.field,
type:gg.type},void 0!==zd?{title:zd}:{},void 0!==Vl?{scale:Vl}:{},x(yb)?{}:{axis:yb})},Qc,kd?{color:kd}:{},Ul?{tooltip:Ul}:{})})[0];fa=[...He,...$f,O];I?I={transform:fa,layer:[I,l]}:(I=l,I.transform.unshift(...fa));return Object.assign({},Q,{layer:[I,{transform:ch,layer:va}]})}function kh(t){return[{op:"q1",field:t,as:"lower_box_".concat(t)},{op:"q3",field:t,as:"upper_box_".concat(t)}]}function ah(t,Q){({config:Q}=Q);t=Object.assign({},t,{encoding:Db(t.encoding,Q)});const {transform:l,continuousAxisChannelDef:I,
continuousAxis:O,encodingWithoutContinuousAxis:fa,ticksOrient:va,markDef:ya,outerSpec:gb,tooltipEncoding:sb}=ph(t,"errorbar",Q);delete fa.size;t=Gg(ya,O,I,fa,Q.errorbar);Q=ya.thickness;var yb=ya.size;yb=Object.assign({},{type:"tick",orient:va,aria:!1},void 0!==Q?{thickness:Q}:{},void 0!==yb?{size:yb}:{});t=[...t({partName:"ticks",mark:yb,positionPrefix:"lower",extraEncoding:sb}),...t({partName:"ticks",mark:yb,positionPrefix:"upper",extraEncoding:sb}),...t({partName:"rule",mark:Object.assign({},{type:"rule",
ariaRoleDescription:"errorbar"},void 0!==Q?{size:Q}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:sb})];return Object.assign({},gb,{transform:l},1<t.length?{layer:t}:Object.assign({},t[0]))}function Xh(t,Q){var {encoding:l}=t;if(!(!Fd(l.x)&&!Fd(l.y)||Fd(l.x2)||Fd(l.y2)||Fd(l.xError)||Fd(l.xError2)||Fd(l.yError)||Fd(l.yError2)))return{orient:$g(t,Q),inputType:"raw"};var I=Fd(l.x2)||Fd(l.y2);var O=Fd(l.xError)||Fd(l.xError2)||Fd(l.yError)||Fd(l.yError2);t=l.x;const fa=l.y;if(I){if(O)throw Error("".concat(Q,
" cannot be both type aggregated-upper-lower and aggregated-error"));I=l.x2;l=l.y2;if(Fd(I)&&Fd(l))throw Error("".concat(Q," cannot have both x2 and y2"));if(Fd(I)){if(wd(t))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(Q));}if(Fd(l)){if(wd(fa))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(Q));}}else{I=l.xError;O=l.yError;const va=l.yError2;
if(Fd(l.xError2)&&!Fd(I))throw Error("".concat(Q," cannot have xError2 without xError"));if(Fd(va)&&!Fd(O))throw Error("".concat(Q," cannot have yError2 without yError"));if(Fd(I)&&Fd(O))throw Error("".concat(Q," cannot have both xError and yError with both are quantiative"));if(Fd(I)){if(wd(t))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Fd(O)){if(wd(fa))return{orient:"vertical",inputType:"aggregated-error"};
throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function ph(t,Q,l){var I,O=Object.assign({},t),fa=t.mark,va=t.encoding,ya=t.params;O=(delete O.mark,delete O.encoding,delete O.params,delete O.projection,O);fa=Xb(fa)?fa:{type:fa};ya&&jc(Od(Q));const {orient:gb,inputType:sb}=Xh(t,Q),{continuousAxisChannelDef:yb,continuousAxisChannelDef2:Ob,continuousAxisChannelDefError:vc,continuousAxisChannelDefError2:kd,continuousAxis:Qc}=qh(t,gb,Q);var zd=
[];t=[];ya=yb.field;var Id=!1;if("raw"===sb){var Zd=fa.center?fa.center:fa.extent?"iqr"===fa.extent?"median":"mean":l.errorbar.center;var te=fa.extent?fa.extent:"mean"===Zd?"stderr":"iqr";"median"===Zd!==("iqr"===te)&&(zd=te,zd="".concat(Zd," is not usually used with ").concat(zd," for ").concat(Q,"."),jc(zd));"stderr"===te||"stdev"===te?(zd=[{op:te,field:ya,as:"extent_".concat(ya)},{op:Zd,field:ya,as:"center_".concat(ya)}],t=[{calculate:'datum["center_'.concat(ya,'"] + datum["extent_').concat(ya,
'"]'),as:"upper_".concat(ya)},{calculate:'datum["center_'.concat(ya,'"] - datum["extent_').concat(ya,'"]'),as:"lower_".concat(ya)}],Zd=[{fieldPrefix:"center_",titlePrefix:Z(Zd)},{fieldPrefix:"upper_",titlePrefix:og(Zd,te,"+")},{fieldPrefix:"lower_",titlePrefix:og(Zd,te,"-")}],Id=!0):("ci"===te?(Q="mean",Zd="ci0",te="ci1"):(Q="median",Zd="q1",te="q3"),zd=[{op:Zd,field:ya,as:"lower_".concat(ya)},{op:te,field:ya,as:"upper_".concat(ya)},{op:Q,field:ya,as:"center_".concat(ya)}],Zd=[{fieldPrefix:"upper_",
titlePrefix:hf({field:ya,aggregate:te,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:hf({field:ya,aggregate:Zd,type:"quantitative"},l,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:hf({field:ya,aggregate:Q,type:"quantitative"},l,{allowDisabling:!1})}])}else{if(fa.center||fa.extent){Q=fa.center;var $d=fa.extent;Q="".concat($d?"extent ":"").concat($d&&Q?"and ":"").concat(Q?"center ":"").concat($d&&Q?"are ":"is ","not needed when data are aggregated.");jc(Q)}"aggregated-upper-lower"===
sb?(Zd=[],t=[{calculate:'datum["'.concat(Ob.field,'"]'),as:"upper_".concat(ya)},{calculate:'datum["'.concat(ya,'"]'),as:"lower_".concat(ya)}]):"aggregated-error"===sb&&(Zd=[{fieldPrefix:"",titlePrefix:ya}],t=[{calculate:'datum["'.concat(ya,'"] + datum["').concat(vc.field,'"]'),as:"upper_".concat(ya)}],kd?t.push({calculate:'datum["'.concat(ya,'"] + datum["').concat(kd.field,'"]'),as:"lower_".concat(ya)}):t.push({calculate:'datum["'.concat(ya,'"] - datum["').concat(vc.field,'"]'),as:"lower_".concat(ya)}));
for(te of t)Zd.push({fieldPrefix:te.as.substring(0,6),titlePrefix:X(X(te.calculate,'datum["',""),'"]',"")})}const {errorBarSpecificAggregate:xe,postAggregateCalculates:Te,tooltipSummary:Oe,tooltipTitleWithFieldName:He}={postAggregateCalculates:t,errorBarSpecificAggregate:zd,tooltipSummary:Zd,tooltipTitleWithFieldName:Id};va=Object.assign({},va);t="x"===Qc?"x2":"y2";ya="x"===Qc?"xError":"yError";Id="x"===Qc?"xError2":"yError2";va=(delete va[Qc],delete va[t],delete va[ya],delete va[Id],va);const {bins:$f,
timeUnits:ch,aggregate:gg,groupby:fi,encoding:Ki}=vg(va,l);l=[...gg,...xe];va="raw"!==sb?[]:fi;t=df(Oe,yb,Ki,He);return{transform:[...(null!==(I=O.transform)&&void 0!==I?I:[]),...$f,...ch,...(0===l.length?[]:[{aggregate:l,groupby:va}]),...Te],groupby:va,continuousAxisChannelDef:yb,continuousAxis:Qc,encodingWithoutContinuousAxis:Ki,ticksOrient:"vertical"===gb?"horizontal":"vertical",markDef:fa,outerSpec:O,tooltipEncoding:t}}function og(t,Q,l){return"".concat(Z(t)," ").concat(l," ").concat(Q)}function Kh(t,
Q){({config:Q}=Q);t=Object.assign({},t,{encoding:Db(t.encoding,Q)});const {transform:l,continuousAxisChannelDef:I,continuousAxis:O,encodingWithoutContinuousAxis:fa,markDef:va,outerSpec:ya,tooltipEncoding:gb}=ph(t,"errorband",Q);Q=Gg(va,O,I,fa,Q.errorband);t=void 0!==t.encoding.x&&void 0!==t.encoding.y;let sb={type:t?"area":"rect"},yb={type:t?"line":"rule"};const Ob=Object.assign({},va.interpolate?{interpolate:va.interpolate}:{},va.tension&&va.interpolate?{tension:va.tension}:{});t?(sb=Object.assign({},
sb,Ob,{ariaRoleDescription:"errorband"}),yb=Object.assign({},yb,Ob,{aria:!1})):va.interpolate?jc(Jc("interpolate")):va.tension&&jc(Jc("tension"));return Object.assign({},ya,{transform:l,layer:[...Q({partName:"band",mark:sb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:gb}),...Q({partName:"borders",mark:yb,positionPrefix:"lower",extraEncoding:gb}),...Q({partName:"borders",mark:yb,positionPrefix:"upper",extraEncoding:gb})]})}function Ph(t,Q,l){Q=new Bj(t,Q);hk[t]={normalizer:Q,parts:l}}
function N(t){return!!t&&("legend"===t||!!t.legend)}function ia(t){return N(t)&&n.isObject(t)}function Pa(t){const Q=[];for(const O of t||[])if(!O.select){var l=O,I=Object.assign({},l);t=l.expr;l=l.bind;I=(delete I.expr,delete I.bind,I);l&&t?(t=Object.assign({},I,{bind:l,init:t}),Q.push(t)):(t=Object.assign({},I,t?{update:t}:{},l?{bind:l}:{}),Q.push(t))}return Q}function fb(t,Q){const l={};for(const I of Dl)t&&void 0!==t[I]&&(l[I]=Ab(t[I]));Q&&(l.params=t.params);return l}function Jb(t){let {step:Q,
offsetIsDiscrete:l}=t;if(l){var I;return null!==(I=Q.for)&&void 0!==I?I:"offset"}return"position"}function Rb(t){return n.isObject(t)&&void 0!==t.step}function Hc(t){return t.view||t.width||t.height}function Zc(t,Q,l){const I={},{spacing:O,columns:fa}=l[Q];void 0!==O&&(I.spacing=O);void 0!==fa&&("facet"in t&&!Ka(t.facet)||"concat"in t)&&(I.columns=fa);"vconcat"in t&&(I.columns=1);for(const gb of Ik)if(void 0!==t[gb])if("spacing"===gb){var va,ya;Q=t[gb];I[gb]=n.isNumber(Q)?Q:{row:null!==(va=Q.row)&&
void 0!==va?va:O,column:null!==(ya=Q.column)&&void 0!==ya?ya:O}}else I[gb]=t[gb];return I}function ed(t,Q){var l;return null!==(l=t[Q])&&void 0!==l?l:t["width"===Q?"continuousWidth":"continuousHeight"]}function pd(t,Q){t=Vd(t,Q);return Rb(t)?t.step:20}function Vd(t,Q){var l;const I=null!==(l=t[Q])&&void 0!==l?l:t["width"===Q?"discreteWidth":"discreteHeight"];return B(I,{step:t.step})}function we(){let t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:n.isObject(t)?
Object.assign({},Sa,t):Sa}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},
{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Ze(t){var Q=le(t||{});const l={};for(const I of Q)Q=t[I],l[I]=eg(Q)?Mb(Q):Ab(Q);return l}function rf(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},Q=Object.assign({},t),l=t.color,I=t.font,O=t.fontSize;t=t.selection;Q=(delete Q.color,delete Q.font,delete Q.fontSize,
delete Q.selection,Q);var fa=n.mergeConfig,va=qf(D);I=I?{text:{font:I},style:{"guide-label":{font:I},"guide-title":{font:I},"group-title":{font:I},"group-subtitle":{font:I}}}:{};l=l?we(l):{};O=O?{signals:[{name:"fontSize",value:n.isObject(O)?Object.assign({},ca,O):ca}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:
{};O=fa.call(n,{},va,I,l,O,Q||{});t&&n.writeConfig(O,"selection",t,!0);t=f(O,kb);for(var ya of["background","lineBreak","padding"])O[ya]&&(t[ya]=Ab(O[ya]));for(var gb of Xe)O[gb]&&(t[gb]=nc(O[gb]));for(var sb of Ak)O[sb]&&(t[sb]=Ze(O[sb]));for(const yb of ll)O[yb]&&(t[yb]=nc(O[yb]));O.legend&&(t.legend=nc(O.legend));O.scale&&(t.scale=nc(O.scale));if(O.style){ya=O.style;gb=le(ya);sb={};for(const yb of gb)sb[yb]=Ze(ya[yb]);t.style=sb}O.title&&(t.title=nc(O.title));O.view&&(t.view=nc(O.view));return t}
function wg(t){t=qf(t);for(var Q of cc)delete t[Q];if(t.axis)for(var l in t.axis)eg(t.axis[l])&&delete t.axis[l];if(t.legend)for(var I of Bl)delete t.legend[I];if(t.mark){for(var O of wk)delete t.mark[O];t.mark.tooltip&&n.isObject(t.mark.tooltip)&&delete t.mark.tooltip}t.params&&(t.signals=(t.signals||[]).concat(Pa(t.params)),delete t.params);for(var fa of Hb){for(const Ob of wk)delete t[fa][Ob];if(Q=uc[fa])for(const Ob of Q)delete t[fa][Ob];l=Q=void 0;I=t;O=fa;var va=void 0,ya=I[O];"view"===O&&(va=
"cell");ya=Object.assign({},ya,I.style[null!==(l=va)&&void 0!==l?l:O]);x(ya)||(I.style[null!==(Q=va)&&void 0!==Q?Q:O]=ya);delete I[O]}for(const Ob of le(hk))delete t[Ob];fa=t;const {titleMarkConfig:gb,subtitleMarkConfig:sb,subtitle:yb}=Lc(fa.title);x(gb)||(fa.style["group-title"]=Object.assign({},fa.style["group-title"],gb));x(sb)||(fa.style["group-subtitle"]=Object.assign({},fa.style["group-subtitle"],sb));x(yb)?delete fa.title:fa.title=yb;for(const Ob in t)n.isObject(t[Ob])&&x(t[Ob])&&delete t[Ob];
return x(t)?void 0:t}function De(t){return wc(t)&&"quantitative"===(t&&t.type)&&!t.bin}function fg(t,Q){const l="x"===Q?"y":"radius";var I=t[Q];t=t[l];if(wc(I)&&wc(t))if(De(I)&&De(t)){if(I.stack)return Q;if(t.stack)return l;const va=wc(I)&&!!I.aggregate,ya=wc(t)&&!!t.aggregate;if(va!==ya)return va?Q:l;var O,fa;I=null===(O=I.scale)||void 0===O?void 0:O.type;O=null===(fa=t.scale)||void 0===fa?void 0:fa.type;if(I&&"linear"!==I)return l;if(O&&"linear"!==O)return Q}else{if(De(I))return Q;if(De(t))return l}else{if(De(I))return Q;
if(De(t))return l}}function kg(t){switch(t){case "x":return"y";case "y":return"x";case "theta":return"radius";case "radius":return"theta"}}function Rg(t,Q){var l,I;let O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const fa=Xb(t)?t.type:t;if(!Ve.has(fa))return null;const va=fg(Q,"x")||fg(Q,"theta");if(!va)return null;const ya=Q[va];var gb=wc(ya)?Ad(ya,{}):void 0,sb=kg(va);const yb=[],Ob=new Set;if(Q[sb]){var vc=Q[sb];(vc=wc(vc)?Ad(vc,{}):void 0)&&vc!==gb&&(yb.push(sb),Ob.add(vc));sb=
"x"===sb?"xOffset":"yOffset";vc=Q[sb];(vc=wc(vc)?Ad(vc,{}):void 0)&&vc!==gb&&(yb.push(sb),Ob.add(vc))}gb=ei.reduce((Qc,zd)=>{if("tooltip"!==zd&&jg(Q,zd)){var Id=Q[zd];for(const Zd of n.array(Id)){Id=Yd(Zd);if(Id.aggregate)continue;const te=Ad(Id,{});te&&Ob.has(te)||Qc.push({channel:zd,fieldDef:Id})}}return Qc},[]);let kd;void 0!==ya.stack?kd=n.isBoolean(ya.stack)?ya.stack?"zero":null:ya.stack:Tf.has(fa)&&(kd="zero");if(!(kd&&kd in Jd)||Fg(Q)&&0===gb.length)return null;if(null!==ya&&void 0!==ya&&null!==
(l=ya.scale)&&void 0!==l&&l.type&&(null===ya||void 0===ya?void 0:null===(I=ya.scale)||void 0===I?void 0:I.type)!==mi.LINEAR){if(O.disallowNonLinearStack)return null;jc("Cannot stack non-linear scale (".concat(ya.scale.type,")."))}if(Fd(Q[Da(va)]))return void 0!==ya.stack&&jc(dc(va)),null;wc(ya)&&ya.aggregate&&!Gi.has(ya.aggregate)&&jc('Stacking is applied even though the aggregate function is non-summative ("'.concat(ya.aggregate,'").'));return{groupbyChannels:yb,groupbyFields:Ob,fieldChannel:va,
impute:null===ya.impute?!1:Ia(fa),stackBy:gb,offset:kd}}function rg(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},l=2<arguments.length?arguments[2]:void 0;if("transparent"===t.point)return{opacity:0};if(t.point)return n.isObject(t.point)?t.point:{};if(void 0!==t.point)return null;if(Q.point||l.shape)return n.isObject(Q.point)?Q.point:{}}function Yg(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(t.line)return!0===t.line?{}:t.line;if(void 0!==t.line)return null;
if(Q.line)return!0===Q.line?{}:Q.line}function jf(t,Q){return Q?bh(t,Q):t}function gh(t,Q,l){const I=Q[t];if(I&&!n.isString(I)&&"repeat"in I){if(I.repeat in l)return Object.assign({},Q,{[t]:l[I.repeat]});jc('Unknown repeated value "'.concat(I.repeat,'".'))}else return Q}function Uf(t,Q){t=gh("field",t,Q);if(void 0!==t){if(null===t)return null;"sort"in t&&Vb(t.sort)&&(Q=gh("field",t.sort,Q),t=Object.assign({},t,Q?{sort:Q}:{}));return t}}function sg(t,Q){if(wc(t))return Uf(t,Q);Q=gh("datum",t,Q);Q===
t||Q.type||(Q.type="nominal");return Q}function Lh(t,Q){if(Fd(t)){if(Q=sg(t,Q))return Q;if(kc(t))return{condition:t.condition}}else{if(Bc(t)){if(Q=sg(t.condition,Q))return Object.assign({},t,{condition:Q});t=Object.assign({},t);return delete t.condition,t}return t}}function bh(t,Q){const l={};for(const O in t)if(n.hasOwnProperty(t,O)){var I=t[O];n.isArray(I)?l[O]=I.map(fa=>Lh(fa,Q)).filter(fa=>fa):(I=Lh(I,Q),void 0!==I&&(l[O]=I))}return l}function Eh(t){let {parentEncoding:Q,encoding:l={},layer:I}=
t;t={};if(Q){var O=new Set([...le(Q),...le(l)]);for(const fa of O){O=l[fa];const va=Q[fa];if(Fd(O))O=Object.assign({},va,O),t[fa]=O;else if(Bc(O))t[fa]=Object.assign({},O,{condition:Object.assign({},va,O.condition)});else if(O||null===O)t[fa]=O;else if(I||se(va)||yc(va)||Fd(va)||n.isArray(va))t[fa]=va}}else t=l;return!t||x(t)?void 0:t}function ki(t){const {parentProjection:Q,projection:l}=t;if(Q&&l){const {parentProjection:I,projection:O}={parentProjection:Q,projection:l};t="Layer's shared projection ".concat(Mg(I),
" is overridden by a child projection ").concat(Mg(O),".");jc(t)}return null!==l&&void 0!==l?l:Q}function Vh(t){return t.map(Q=>"filter"in Q?{filter:r(Q.filter,Sc)}:Q)}function Sh(t,Q){var l=Object.assign({},t);const I=t.transform;l=(delete l.transform,l);return I?(t=I.map(O=>{if("filter"in O)return{filter:ff(O,Q)};if("bin"in O&&n.isObject(O.bin))return Object.assign({},O,{bin:Hg(O.bin)});if("lookup"in O){var fa=O.from,va=Object.assign({},fa);fa=fa.selection;va=(delete va.selection,va);return fa?
Object.assign({},O,{from:Object.assign({},{param:fa},va)}):O}return O}),Object.assign({},l,{transform:t})):t}function ef(t,Q){var l,I;t=qf(t);wc(t)&&n.isObject(t.bin)&&(t.bin=Hg(t.bin));td(t)&&null!==(l=t.scale)&&void 0!==l&&null!==(I=l.domain)&&void 0!==I&&I.selection&&(I=t.scale.domain,l=Object.assign({},I),I=I.selection,l=(delete l.selection,l),t.scale.domain=Object.assign({},l,I?{param:I}:{}));kc(t)&&(n.isArray(t.condition)?t.condition=t.condition.map(O=>{var fa=Object.assign({},O);const va=O.param;
fa=(delete fa.selection,delete fa.param,delete fa.test,fa);return va?O:Object.assign({},fa,{test:ff(O,Q)})}):(I=ef(t.condition,Q),l=Object.assign({},I),I=I.param,l=(delete l.selection,delete l.param,delete l.test,l),t.condition=I?t.condition:Object.assign({},l,{test:ff(t.condition,Q)})));return t}function Hg(t){var Q=t.extent;if(null!==Q&&void 0!==Q&&Q.selection){var l=Object.assign({},Q);Q=Q.selection;l=(delete l.selection,l);return Object.assign({},t,{extent:Object.assign({},l,{param:Q})})}return t}
function ff(t,Q){const l=I=>r(I,O=>{var fa,va,ya;const gb=null!==(fa=Q.emptySelections[O])&&void 0!==fa?fa:!0;fa={param:O,empty:gb};null!==(ya=(va=Q.selectionPredicates)[O])&&void 0!==ya?ya:va[O]=[];Q.selectionPredicates[O].push(fa);return fa});return t.selection?l(t.selection):r(t.test||t.filter,I=>I.selection?l(I.selection):I)}function sf(t,Q){var l;return t.name?Object.assign({},Q,{path:(null!==(l=Q.path)&&void 0!==l?l:[]).concat(t.name)}):Q}function xg(t,Q){void 0===Q&&(Q=rf(t.config));const l=
Uh(t,Q),{width:I,height:O}=t;{let {width:fa,height:va}={width:I,height:O,autosize:t.autosize};t=Mf(l)||"layer"in l;const ya={};t?"container"==fa&&"container"==va?(ya.type="fit",ya.contains="padding"):"container"==fa?(ya.type="fit-x",ya.contains="padding"):"container"==va&&(ya.type="fit-y",ya.contains="padding"):("container"==fa&&(jc(Dc("width")),fa=void 0),"container"==va&&(jc(Dc("height")),va=void 0));Q=Object.assign({},{type:"pad"},ya,Q?Fh(Q.autosize):{},Fh(l.autosize));"fit"!==Q.type||t||(jc('Autosize "fit" only works for single views and layered views.'),
Q.type="pad");"container"==fa&&"fit"!=Q.type&&"fit-x"!=Q.type&&jc(dd("width"));"container"==va&&"fit"!=Q.type&&"fit-y"!=Q.type&&jc(dd("height"));Q=nh(Q,{type:"pad"})?void 0:Q}return Object.assign({},l,Q?{autosize:Q}:{})}function Uh(t){const Q={config:1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}};return Wd.map(jd.map(rd.map(t,Q),Q),Q)}function Fh(t){return n.isString(t)?{type:t}:null!==t&&void 0!==t?t:{}}function hh(t){return{explicit:!0,value:t}}function Hf(t){return{explicit:!1,value:t}}
function Ee(t){return(Q,l,I,O)=>{const fa=t(Q.value,l.value);return 0<fa?Q:0>fa?l:re(Q,l,I,O)}}function re(t,Q,l,I){if(t.explicit&&Q.explicit){var O=t.value;Q=Q.value;l="Conflicting ".concat(I.toString(),' property "').concat(l.toString(),'" (').concat(Mg(O)," and ").concat(Mg(Q),"). Using ").concat(Mg(O),".");jc(l)}return t}function Of(t,Q,l,I){let O=4<arguments.length&&void 0!==arguments[4]?arguments[4]:re;return void 0===t||void 0===t.value?Q:t.explicit&&!Q.explicit?t:Q.explicit&&!t.explicit?Q:
nh(t.value,Q.value)?t:O(t,Q,l,I)}function Kf(t){return"name"in t&&!("url"in t)&&!("values"in t)&&!vf(t)}function vf(t){return t&&("sequence"in t||"sphere"in t||"graticule"in t)}function Zf(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:n.identity;if(n.isArray(t)){const I=t.map(O=>Zf(O,Q,l));return Q?"[".concat(I.join(", "),"]"):I}return md(t)?Q?l(ee(t)):l(Ce(t)):Q?l(Mg(t)):t}function Ba(t,Q){t.component.selection&&le(t.component.selection).length&&
(t=n.stringValue(t.getName("cell")),Q.unshift({name:"facet",value:{},on:[{events:n.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(t,").datum")}]}));return rc(Q)}function db(t,Q){var l=!1;for(const O of zh(null!==(I=t.component.selection)&&void 0!==I?I:{})){var I;const fa=O.name;l=n.stringValue(fa+"_store");if(0===Q.filter(va=>va.name===fa).length){I="global"===O.resolve?"union":O.resolve;const va="point"===O.type?", true, true)":")";Q.push({name:O.name,update:"".concat("vlSelectionResolve",
"(").concat(l,", ").concat(n.stringValue(I)).concat(va)})}l=!0;for(const va of nl)va.defined(O)&&va.topLevelSignals&&(Q=va.topLevelSignals(t,O,Q))}l&&0===Q.filter(O=>"unit"===O.name).length&&Q.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return rc(Q)}function wb(t,Q){Q=[...Q];for(const I of zh(null!==(l=t.component.selection)&&void 0!==l?l:{})){var l;l={name:I.name+"_store"};if(I.init){const O=I.project.items.map(fa=>{fa=Object.assign({},fa);
return delete fa.signals,fa});l.values=I.init.map(fa=>({unit:Ch(t,{escape:!1}),fields:O,values:Zf(fa,!1)}))}Q.filter(O=>O.name===I.name+"_store").length||Q.push(l)}return Q}function Lb(t,Q){for(const I of zh(null!==(l=t.component.selection)&&void 0!==l?l:{})){var l;for(const O of nl)O.defined(I)&&O.marks&&(Q=O.marks(t,I,Q))}return Q}function pc(t,Q){for(const l of t.children)Qb(l)&&(Q=Lb(l,Q));return Q}function rc(t){return t.map(Q=>{Q.on&&!Q.on.length&&delete Q.on;return Q})}function Nc(t,Q){t=n.stringValue(t.scaleName(Q));
return"domain(".concat(t,")")}function xa(t){var Q;return t.parent&&Wc(t.parent)&&(null!==(Q=!t.parent.parent)&&void 0!==Q?Q:xa(t.parent.parent))}function Ra(t,Q,l,I){const O=l.channel,fa=l.signals.visual;l=l.signals.data;const va=lj.defined(Q),ya=n.stringValue(t.scaleName(O));var gb=t.getScaleComponent(O);gb=gb?gb.get("type"):void 0;const sb=vc=>"scale(".concat(ya,", ").concat(vc,")"),yb=t.getSizeSignalRef("x"===O?"width":"height").signal,Ob="".concat(O,"(unit)");t=qb(Q,(vc,kd)=>[...vc,{events:kd.between[0],
update:"[".concat(Ob,", ").concat(Ob,"]")},{events:kd,update:"[".concat(fa,"[0], clamp(").concat(Ob,", 0, ").concat(yb,")]")}]);t.push({events:{signal:Q.name+"_scale_trigger"},update:Qd(gb)?"[".concat(sb("".concat(l,"[0]")),", ").concat(sb("".concat(l,"[1]")),"]"):"[0, 0]"});return va?[{name:l,on:[]}]:[Object.assign({},{name:fa},I?{init:Zf(I,!0,sb)}:{value:[]},{on:t}),Object.assign({},{name:l},I?{init:Zf(I)}:{},{on:[{events:{signal:fa},update:"".concat(fa,"[0] \x3d\x3d\x3d ").concat(fa,"[1] ? null : invert(").concat(ya,
", ").concat(fa,")")}]})]}function qb(t,Q){return t.events.reduce((l,I)=>I.between?Q(l,I):(jc("".concat(I," is not an ordered event stream for interval selections.")),l),[])}function rb(t,Q,l,I){var O=kc(Q)&&Q.condition;Q=I(Q);return O?(O=n.array(O).map(fa=>{const va=I(fa);if(fa.param){const {param:ya,empty:gb}=fa;fa=oi(t,{param:ya,empty:gb});return Object.assign({},{test:fa},va)}fa=wh(t,fa.test);return Object.assign({},{test:fa},va)}),{[l]:[...O,...(void 0!==Q?[Q]:[])]}):void 0!==Q?{[l]:Q}:{}}function fc(t){let Q=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return rb(t,t.encoding[Q],Q,l=>Oc(l,t.config))}function Oc(t,Q){let l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(t){if(se(t))return ac(t.value);if(Fd(t)){const {format:I,formatType:O}=Cf(t);return Cc({fieldOrDatumDef:t,format:I,formatType:O,expr:l,config:Q})}}}function $c(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:l,markDef:I,config:O,stack:fa}=t,va=l.tooltip;if(n.isArray(va))return{tooltip:Tc({tooltip:va},
fa,O,Q)};const ya=Q.reactiveGeom?"datum.datum":"datum";return rb(t,va,"tooltip",gb=>{const sb=Oc(gb,O,ya);if(sb)return sb;if(null!==gb){gb=Rc("tooltip",I,O);!0===gb&&(gb={content:"encoding"});if(n.isString(gb))return{value:gb};if(n.isObject(gb))return yc(gb)?gb:"encoding"===gb.content?Tc(l,fa,O,Q):{signal:ya}}})}function xd(t,Q,l){function I(gb,sb){var yb,Ob=La(sb);gb=he(gb)?gb:Object.assign({},gb,{type:t[Ob].type});Ob=gb.title||Bi(gb,l);Ob=n.array(Ob).join(", ");if(Ha(sb)){const Qc="x"===sb?"x2":
"y2";var vc=Yd(t[Qc]);if(cb(gb.bin)&&vc){var kd=Ad(gb,{expr:va});vc=Ad(vc,{expr:va});const {format:zd,formatType:Id}=Cf(gb);kd=Pb(kd,vc,zd,Id,l);fa[Qc]=!0}else if(Q&&Q.fieldChannel===sb&&"normalize"===Q.offset){const {format:zd,formatType:Id}=Cf(gb);kd=Cc({fieldOrDatumDef:gb,format:zd,formatType:Id,expr:va,config:l,normalizeStack:!0}).signal}}null!==(yb=kd)&&void 0!==yb?yb:kd=Oc(gb,l,va).signal;ya.push({channel:sb,key:Ob,value:kd})}var {reactiveGeom:O}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
{};const fa={},va=O?"datum.datum":"datum",ya=[];ud(t,(gb,sb)=>{wc(gb)?I(gb,sb):Kc(gb)&&I(gb.condition,sb)});O={};for(const gb of ya){const {channel:sb,key:yb,value:Ob}=gb;fa[sb]||O[yb]||(O[yb]=Ob)}return O}function Tc(t,Q,l){var {reactiveGeom:I}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};I=xd(t,Q,l,{reactiveGeom:I});I=hj(I).map(O=>{let [fa,va]=O;return'"'.concat(fa,'": ').concat(va)});return 0<I.length?{signal:"{".concat(I.join(", "),"}")}:void 0}function Md(t){const {encoding:Q,markDef:l,
config:I,stack:O}=t;var fa=Q.description;if(fa)return rb(t,fa,"description",va=>Oc(va,t.config));fa=Rc("description",l,I);if(null!=fa)return{description:ac(fa)};if(!1===I.aria)return{};fa=xd(Q,O,I);if(!x(fa))return{description:{signal:hj(fa).map((va,ya)=>{let [gb,sb]=va;return'"'.concat(0<ya?"; ":"").concat(gb,': " + (').concat(sb,")")}).join(" + ")}}}function Cd(t,Q){let l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {markDef:I,encoding:O,config:fa}=Q,{vgChannel:va}=l;let {defaultRef:ya,
defaultValue:gb}=l;if(void 0===ya){var sb;null!==(sb=gb)&&void 0!==sb?sb:gb=Rc(t,I,fa,{vgChannel:va,ignoreVgConfig:!0});void 0!==gb&&(ya=ac(gb))}return rb(Q,O[t],null!==va&&void 0!==va?va:t,yb=>Wb({channel:t,channelDef:yb,markDef:I,config:fa,scaleName:Q.scaleName(t),scale:Q.getScaleComponent(t),stack:null,defaultRef:ya}))}function Ae(t){var Q,l,I,O,fa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{filled:void 0};const {markDef:va,encoding:ya,config:gb}=t;var {type:sb}=va;fa=null!==(Q=fa.filled)&&
void 0!==Q?Q:Rc("filled",va,gb);sb=a(["bar","point","circle","square","geoshape"],sb)?"transparent":void 0;Q=null!==(l=null!==(I=Rc(!0===fa?"color":void 0,va,gb,{vgChannel:"fill"}))&&void 0!==I?I:gb.mark[!0===fa&&"color"])&&void 0!==l?l:sb;l=null!==(O=Rc(!1===fa?"color":void 0,va,gb,{vgChannel:"stroke"}))&&void 0!==O?O:gb.mark[!1===fa&&"color"];O=fa?"fill":"stroke";I=Object.assign({},Q?{fill:ac(Q)}:{},l?{stroke:ac(l)}:{});va.color&&(fa?va.fill:va.stroke)&&jc(Ye("property",{fill:"fill"in va,stroke:"stroke"in
va}));return Object.assign({},I,Cd("color",t,{vgChannel:O,defaultValue:fa?Q:l}),Cd("fill",t,{defaultValue:ya.fill?Q:void 0}),Cd("stroke",t,{defaultValue:ya.stroke?l:void 0}))}function uf(t){const {encoding:Q,mark:l}=t,I=Q.order;return!Ia(l)&&se(I)?rb(t,I,"zindex",O=>ac(O.value)):{}}function Je(t){let {channel:Q,markDef:l,encoding:I={},model:O,bandPosition:fa}=t;t="".concat(Q,"Offset");const va=l[t],ya=I[t];return"xOffset"!==t&&"yOffset"!==t||!ya?(t=l[t])?{offsetType:"visual",offset:t}:{}:{offsetType:"encoding",
offset:Wb({channel:t,channelDef:ya,markDef:l,config:null===O||void 0===O?void 0:O.config,scaleName:O.scaleName(t),scale:O.getScaleComponent(t),stack:null,defaultRef:ac(va),bandPosition:fa})}}function of(t,Q,l){let {defaultPos:I,vgChannel:O}=l;const {encoding:fa,markDef:va,config:ya,stack:gb}=Q;l=fa[t];const sb=fa[Da(t)],yb=Q.scaleName(t),Ob=Q.getScaleComponent(t),{offset:vc,offsetType:kd}=Je({channel:t,markDef:va,encoding:fa,model:Q,bandPosition:.5}),Qc=Vf({model:Q,defaultPos:I,channel:t,scaleName:yb,
scale:Ob});if(!l&&Ha(t)&&(fa.latitude||fa.longitude))Q={field:Q.getName(t)};else a:{Q={channel:t,channelDef:l,channel2Def:sb,markDef:va,config:ya,scaleName:yb,scale:Ob,stack:gb,offset:vc,defaultRef:Qc,bandPosition:"encoding"===kd?0:void 0};const {channel:zd,channelDef:Id,scaleName:Zd,stack:te,offset:$d,markDef:xe}=Q;if(Fd(Id)&&te&&zd===te.fieldChannel){if(wc(Id)&&(Q=Id.bandPosition,void 0!==Q||"text"!==xe.type||"radius"!==zd&&"theta"!==zd||(Q=.5),void 0!==Q)){Q=Cb({scaleName:Zd,fieldOrDatumDef:Id,
startSuffix:"start",bandPosition:Q,offset:$d});break a}Q=ub(Id,Zd,{suffix:"end"},{offset:$d})}else Q=Oa(Q)}return Q?{[O||t]:Q}:void 0}function Vf(t){let {model:Q,defaultPos:l,channel:I,scaleName:O,scale:fa}=t;const {markDef:va,config:ya}=Q;return()=>{var gb=La(I),sb=pa(I);sb=Rc(I,va,ya,{vgChannel:sb});if(void 0!==sb)return sc(I,sb);switch(l){case "zeroOrMin":case "zeroOrMax":if(O&&(sb=fa.get("type"),!a([mi.LOG,mi.TIME,mi.UTC],sb)&&fa.domainDefinitelyIncludesZero()))return{scale:O,value:0};if("zeroOrMin"===
l)return"y"===gb?{field:{group:"height"}}:{value:0};switch(gb){case "radius":return{signal:"min(".concat(Q.width.signal,",").concat(Q.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return gb=Q[Ma(I)],Object.assign({},gb,{mult:.5})}}}function pg(t,Q,l){let I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"middle";if("radius"===t||"theta"===t)return pa(t);var O="x"===t?"align":"baseline";const fa=Rc(O,
Q,l);yc(fa)?(jc("The ".concat(O," for range marks cannot be an expression")),O=void 0):O=fa;return"x"===t?mm[O||("top"===I?"left":"center")]:nm[O||I]}function mf(t,Q,l){let {defaultPos:I,defaultPos2:O,range:fa}=l;return fa?Lf(t,Q,{defaultPos:I,defaultPos2:O}):of(t,Q,{defaultPos:I})}function Lf(t,Q,l){let {defaultPos:I,defaultPos2:O}=l;const {markDef:fa,config:va}=Q;var ya=Da(t);l=Ma(t);{const {encoding:vc,mark:kd,markDef:Qc,stack:zd,config:Id}=Q;var gb=La(ya),sb=Ma(ya);const Zd=pa(ya);var yb=vc[gb],
Ob=Q.scaleName(gb);const te=Q.getScaleComponent(gb);({offset:gb}=ya in vc||ya in Qc?Je({channel:ya,markDef:Qc,encoding:vc,model:Q}):Je({channel:gb,markDef:Qc,encoding:vc,model:Q}));if(yb||"x2"!==ya&&"y2"!==ya||!vc.latitude&&!vc.longitude){let {channel:$d,channelDef:xe,channel2Def:Te,markDef:Oe,config:He,scaleName:$f,scale:ch,stack:gg,offset:fi,defaultRef:Ki}={channel:ya,channelDef:yb,channel2Def:vc[ya],markDef:Qc,config:Id,scaleName:Ob,scale:te,stack:zd,offset:gb,defaultRef:void 0};yb=Fd(xe)&&gg&&
$d.charAt(0)===gg.fieldChannel.charAt(0)?ub(xe,$f,{suffix:"start"},{offset:fi}):Oa({channel:$d,channelDef:Te,scaleName:$f,scale:ch,stack:gg,markDef:Oe,config:He,offset:fi,defaultRef:Ki});ya=void 0!==yb?{[Zd]:yb}:nf(ya,Qc)||nf(ya,{[ya]:Td(ya,Qc,Id.style),[sb]:Td(sb,Qc,Id.style)})||nf(ya,Id[kd])||nf(ya,Id.mark)||{[Zd]:Vf({model:Q,defaultPos:O,channel:ya,scaleName:Ob,scale:te})()}}else sb=Ma(ya),Ob=Q.markDef[sb],ya=null!=Ob?{[sb]:{value:Ob}}:{[Zd]:{field:Q.getName(ya)}}}l=ya[l]?pg(t,fa,va):pa(t);return Object.assign({},
of(t,Q,{defaultPos:I,vgChannel:l}),ya)}function nf(t,Q){const l=Ma(t),I=pa(t);if(void 0!==Q[I])return{[I]:sc(t,Q[I])};if(void 0!==Q[t])return{[I]:sc(t,Q[t])};if(Q[l])if(Q=Q[l],ha(Q))jc("Position range does not support relative band size for ".concat(l,"."));else return{[l]:sc(t,Q)}}function xf(t,Q){var l,I;const {config:O,encoding:fa,markDef:va}=t;var ya=va.type,gb=Da(Q),sb=Ma(Q),yb=fa[Q];gb=fa[gb];var Ob=t.getScaleComponent(Q);Ob=Ob?Ob.get("type"):void 0;const vc=va.orient,kd=null!==(l=null!==(I=
fa[sb])&&void 0!==I?I:fa.size)&&void 0!==l?l:Rc("size",va,O,{vgChannel:sb});l="bar"===ya&&("x"===Q?"vertical"===vc:"horizontal"===vc);if(!wc(yb)||!(Wa(yb.bin)||cb(yb.bin)||yb.timeUnit&&!gb)||kd&&!ha(kd)||Sd(Ob)){if((Fd(yb)&&Sd(Ob)||l)&&!gb){var Qc;{const {markDef:te,encoding:$d,config:xe,stack:Te}=t;ya=te.orient;var zd=t.scaleName(Q);l=t.getScaleComponent(Q);var Id=Ma(Q),Zd=Da(Q);I=ua(Q);I=t.scaleName(I);ya="horizontal"===ya&&"y"===Q||"vertical"===ya&&"x"===Q;if($d.size||te.size)ya?Qc=Cd("size",t,
{vgChannel:Id,defaultRef:ac(te.size)}):jc('Cannot apply size to non-oriented mark "'.concat(te.type,'".'));ya=Ib({channel:Q,fieldDef:yb,markDef:te,config:xe,scaleType:null===l||void 0===l?void 0:l.get("type"),useVlSizeChannel:ya});Qc=Qc||{[Id]:Bh(Id,I||zd,l,xe,ya)};I="band"===(null===l||void 0===l?void 0:l.get("type"))&&"band"in Qc[Id]?"top":"middle";I=pg(Q,te,xe,I);sb="xc"===I||"yc"===I;const {offset:Oe,offsetType:He}=Je({channel:Q,markDef:te,encoding:$d,model:t,bandPosition:sb?.5:0});t=Oa({channel:Q,
channelDef:yb,markDef:te,config:xe,scaleName:zd,scale:l,stack:Te,offset:Oe,defaultRef:Vf({model:t,defaultPos:"mid",channel:Q,scaleName:zd,scale:l}),bandPosition:sb?"encoding"===He?0:.5:yc(ya)?{signal:"(1-".concat(ya,")/2")}:ha(ya)?(1-ya.band)/2:0});Id?Qc=Object.assign({},{[I]:t},Qc):(Q=pa(Zd),Qc=Qc[Id],Qc=Oe?Object.assign({},Qc,{offset:Oe}):Qc,Qc={[I]:t,[Q]:n.isArray(t)?[t[0],Object.assign({},t[1],{offset:Qc})]:Object.assign({},t,{offset:Qc})})}return Qc}return Lf(Q,t,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:te,
fieldDef2:$d,channel:xe,model:Te}={fieldDef:yb,fieldDef2:gb,channel:Q,model:t};const {config:Oe,markDef:He,encoding:$f}=Te;t=Te.getScaleComponent(xe);Qc=Te.scaleName(xe);Q=t?t.get("type"):void 0;t=t.get("reverse");Q=Ib({channel:xe,fieldDef:te,markDef:He,config:Oe,scaleType:Q});yb=null===(zd=Te.component.axes[xe])||void 0===zd?void 0:zd[0];yb=null!==(Zd=null===yb||void 0===yb?void 0:yb.get("translate"))&&void 0!==Zd?Zd:.5;Zd=Ha(xe)?null!==(Id=Rc("binSpacing",He,Oe))&&void 0!==Id?Id:0:0;Id=Da(xe);zd=
pa(xe);l=pa(Id);({offset:I}=Je({channel:xe,markDef:He,encoding:$f,model:Te,bandPosition:0}));Q=yc(Q)?{signal:"(1-".concat(Q.signal,")/2")}:ha(Q)?(1-Q.band)/2:.5;if(Wa(te.bin)||te.timeUnit)Qc={[l]:Xg({fieldDef:te,scaleName:Qc,bandPosition:Q,offset:hg(Id,Zd,t,yb,I)}),[zd]:Xg({fieldDef:te,scaleName:Qc,bandPosition:yc(Q)?{signal:"1-".concat(Q.signal)}:1-Q,offset:hg(xe,Zd,t,yb,I)})};else{if(cb(te.bin)){Q=ub(te,Qc,{},{offset:hg(Id,Zd,t,yb,I)});if(wc($d)){Qc={[l]:Q,[zd]:ub($d,Qc,{},{offset:hg(xe,Zd,t,yb,
I)})};break a}if(n.isObject(te.bin)&&te.bin.step){Qc={[l]:Q,[zd]:{signal:'scale("'.concat(Qc,'", ').concat(Ad(te,{expr:"datum"})," + ").concat(te.bin.step,")"),offset:hg(xe,Zd,t,yb,I)}};break a}}jc(Gc(Id));Qc=void 0}}return Qc}function Bh(t,Q,l,I,O){if(ha(O))if(l){const fa=l.get("type");if("band"===fa)return{scale:Q,band:O.band};1!==O.band&&jc("Cannot use the relative band size with ".concat(fa," scale."))}else return{mult:O.band,field:{group:t}};else{if(yc(O))return O;if(O)return{value:O}}return l&&
(Q=l.get("range"),tc(Q)&&n.isNumber(Q.step))?{value:Q.step-2}:{value:pd(I.view,t)-2}}function hg(t,Q,l,I,O){if(t in ck)return 0;t="x"===t||"y2"===t?-Q/2:Q/2;if(yc(l)||yc(O)||yc(I))return l=Ic(l),O=Ic(O),I=(I=Ic(I))?"".concat(I," + "):"",l=l?"(".concat(l," ? -1 : 1) * "):"",t=O?"(".concat(O," + ").concat(t,")"):t,{signal:I+l+t};O=O||0;return I+(l?-O-t:+O+t)}function Xg(t){let {fieldDef:Q,scaleName:l,bandPosition:I,offset:O}=t;return Cb({scaleName:l,fieldOrDatumDef:Q,bandPosition:I,offset:O})}function ih(t,
Q){const {fill:l,stroke:I}="include"===Q.color?Ae(t):{};var O=Object,fa=O.assign;Q=eh(t.markDef,Q);var va=Tg(t,"fill",l),ya=Tg(t,"stroke",I),gb=Cd("opacity",t),sb=Cd("fillOpacity",t),yb=Cd("strokeOpacity",t),Ob=Cd("strokeWidth",t),vc=Cd("strokeDash",t),kd=uf(t),Qc=$c(t),zd=fc(t,"href");{const {markDef:$d,config:xe}=t,Te=Rc("aria",$d,xe);if(!1===Te)t={};else{var Id=Object,Zd=Id.assign;{const {mark:Oe,markDef:He,config:$f}=t;if(!1===$f.aria)var te={};else te=Rc("ariaRoleDescription",He,$f),te=null!=
te?{ariaRoleDescription:{value:te}}:Oe in Mj?{}:{ariaRoleDescription:{value:Oe}}}t=Zd.call(Id,{},Te?{aria:Te}:{},te,Md(t))}}return fa.call(O,{},Q,va,ya,gb,sb,yb,Ob,vc,kd,Qc,zd,t)}function Tg(t,Q,l){const {config:I,mark:O,markDef:fa}=t;return"hide"===Rc("invalid",fa,I)&&l&&!Ia(O)&&(t=Yh(t,{invalid:!0,channels:yj}))?{[Q]:[{test:t,value:null},...n.array(l)]}:l?{[Q]:l}:{}}function eh(t,Q){return Ai.reduce((l,I)=>{om.has(I)||void 0===t[I]||"ignore"===Q[I]||(l[I]=ac(t[I]));return l},{})}function Yh(t,Q){let {invalid:l=
!1,channels:I}=Q;Q=I.reduce((O,fa)=>{var va=t.getScaleComponent(fa);va&&(va=va.get("type"),(fa=t.vgField(fa,{expr:"datum"}))&&Qd(va)&&(O[fa]=!0));return O},{});Q=le(Q);if(0<Q.length){const O=l?"||":"\x26\x26";return Q.map(fa=>$a(fa,l)).join(" ".concat(O," "))}}function Kg(t){const {config:Q,markDef:l}=t;return Rc("invalid",l,Q)&&(t=ui(t,{channels:qi}))?{defined:{signal:t}}:{}}function ui(t,Q){let {invalid:l=!1,channels:I}=Q;Q=I.reduce((O,fa)=>{var va=t.getScaleComponent(fa);va&&(va=va.get("type"),
(fa=t.vgField(fa,{expr:"datum"}))&&Qd(va)&&(O[fa]=!0));return O},{});Q=le(Q);if(0<Q.length){const O=l?"||":"\x26\x26";return Q.map(fa=>$a(fa,l)).join(" ".concat(O," "))}}function Sg(t,Q){if(void 0!==Q)return{[t]:ac(Q)}}function Ng(t,Q,l,I,O){var fa,va,ya=Q.name,gb=ya+"_translate_anchor";ya+="_translate_delta";var sb=l.channel;const yb=lj.defined(Q);Q=O.filter(kd=>kd.name===l.signals[yb?"data":"visual"])[0];I=t.getSizeSignalRef(I).signal;t=t.getScaleComponent(sb);O=t.get("type");var Ob=t.get("reverse");
Ob=yb?"x"===sb?Ob?"":"-":Ob?"-":"":"";gb="".concat(gb,".extent_").concat(sb);sb="".concat(Ob).concat(ya,".").concat(sb," / ").concat(yb?"".concat(I):"span(".concat(gb,")"));Ob=yb?"log"===O?"panLog":"symlog"===O?"panSymlog":"pow"===O?"panPow":"panLinear":"panLinear";const vc=yb?"pow"===O?", ".concat(null!==(fa=t.get("exponent"))&&void 0!==fa?fa:1):"symlog"===O?", ".concat(null!==(va=t.get("constant"))&&void 0!==va?va:1):"":"";fa="".concat(Ob,"(").concat(gb,", ").concat(sb).concat(vc,")");Q.on.push({events:{signal:ya},
update:yb?fa:"clampRange(".concat(fa,", 0, ").concat(I,")")})}function lg(t,Q,l,I,O){var fa,va,ya=Q.name,gb=l.channel;const sb=lj.defined(Q);Q=O.filter(kd=>kd.name===l.signals[sb?"data":"visual"])[0];I=t.getSizeSignalRef(I).signal;O=t.getScaleComponent(gb);const yb=O.get("type"),Ob=sb?Nc(t,gb):Q.name;t=ya+"_zoom_delta";ya="".concat(ya).concat("_zoom_anchor",".").concat(gb);gb=sb?"log"===yb?"zoomLog":"symlog"===yb?"zoomSymlog":"pow"===yb?"zoomPow":"zoomLinear":"zoomLinear";const vc=sb?"pow"===yb?", ".concat(null!==
(fa=O.get("exponent"))&&void 0!==fa?fa:1):"symlog"===yb?", ".concat(null!==(va=O.get("constant"))&&void 0!==va?va:1):"":"";fa="".concat(gb,"(").concat(Ob,", ").concat(ya,", ").concat(t).concat(vc,")");Q.on.push({events:{signal:t},update:sb?fa:"clampRange(".concat(fa,", 0, ").concat(I,")")})}function Ch(t){var {escape:Q}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};Q=Q?n.stringValue(t.name):t.name;var l;for(l=t.parent;l&&!gc(l);)l=l.parent;if(l){const {facet:I}=l;for(const O of gi)I[O]&&
(Q+=" + '__facet_".concat(O,"_' + (facet[").concat(n.stringValue(l.vgField(O)),"])"))}return Q}function Hh(t){var Q;return zh(null!==(Q=t.component.selection)&&void 0!==Q?Q:{}).reduce((l,I)=>l||I.project.items.some(O=>"_vgsid_"===O.field),!1)}function li(t,Q){!n.isString(Q.select)&&Q.select.on||delete t.events;!n.isString(Q.select)&&Q.select.clear||delete t.clear;!n.isString(Q.select)&&Q.select.toggle||delete t.toggle}function Yf(t){const Q=[];if("Identifier"===t.type)return[t.name];if("Literal"===
t.type)return[t.value];"MemberExpression"===t.type&&(Q.push(...Yf(t.object)),Q.push(...Yf(t.property)));return Q}function Cg(t){return"MemberExpression"===t.object.type?Cg(t.object):"datum"===t.object.name}function rh(t){t=n.parseExpression(t);const Q=new Set;t.visit(l=>{"MemberExpression"===l.type&&Cg(l)&&Q.add(Yf(l).slice(1).join("."))});return Q}function oi(t,Q,l){var I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",O=n.isString(Q)?Q:Q.param,fa=H(O),va=n.stringValue(fa+"_store");
let ya;try{ya=t.getSelectionComponent(fa,O)}catch(gb){return"!!".concat(fa)}ya.project.timeUnit&&(O=null!==l&&void 0!==l?l:t.component.data.raw,fa=ya.project.timeUnit.clone(),O.parent?fa.insertAsParentOf(O):O.parent=fa);I="vlSelectionTest(".concat(va,", ").concat(I).concat("global"===ya.resolve?")":", ".concat(n.stringValue(ya.resolve),")"));va="length(data(".concat(va,"))");return!1===Q.empty?"".concat(va," \x26\x26 ").concat(I):"!".concat(va," || ").concat(I)}function xi(t,Q,l){const I=H(Q),O=l.encoding;
let fa=l.field,va;try{va=t.getSelectionComponent(I,Q)}catch(ya){return I}O||fa?O&&!fa&&(t=va.project.items.filter(ya=>ya.channel===O),!t.length||1<t.length?(fa=va.project.items[0].field,jc((t.length?"Multiple ":"No ")+"matching ".concat(n.stringValue(O)," encoding found for selection ").concat(n.stringValue(l.param),". ")+'Using "field": '.concat(n.stringValue(fa),"."))):fa=t[0].field):(fa=va.project.items[0].field,1<va.project.items.length&&jc('A "field" or "encoding" must be specified when using a selection as a scale domain. '+
'Using "field": '.concat(n.stringValue(fa),".")));return"".concat(va.name,"[").concat(n.stringValue(W(fa)),"]")}function wh(t,Q,l){return M(Q,I=>n.isString(I)?I:(null===I||void 0===I?0:I.param)?oi(t,I,l):Bb(I))}function Mi(t,Q){if(t)return n.isArray(t)&&!Ac(t)?t.map(l=>Bi(l,Q)).join(", "):t}function Xi(t,Q,l,I){var O,fa,va,ya,gb;null!==(O=t.encode)&&void 0!==O?O:t.encode={};null!==(va=(fa=t.encode)[Q])&&void 0!==va?va:fa[Q]={};null!==(gb=(ya=t.encode[Q]).update)&&void 0!==gb?gb:ya.update={};t.encode[Q].update[l]=
I}function Fi(t,Q,l){var I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},O=t.combine(),fa=Object.assign({},O),va=O.disable;const ya=O.orient,gb=O.scale;var sb=O.labelExpr;const yb=O.title;O=O.zindex;fa=(delete fa.disable,delete fa.orient,delete fa.scale,delete fa.labelExpr,delete fa.title,delete fa.zindex,fa);if(!va){for(const Qc in fa){var Ob=Xk[Qc];va=fa[Qc];if(Ob&&Ob!==Q&&"both"!==Ob)delete fa[Qc];else if(eg(va)){Ob=va;va=Object.assign({},Ob);Ob=Ob.condition;va=(delete va.condition,
va);Ob=n.array(Ob);const zd=Vj[Qc];if(zd){const {vgProp:Id,part:Zd}=zd;va=[...Ob.map(te=>{var $d=Object.assign({},te);te=te.test;$d=(delete $d.test,$d);return Object.assign({},{test:wh(null,te)},$d)}),va];Xi(fa,Zd,Id,va);delete fa[Qc]}else null===zd&&(va={signal:Ob.map(Id=>{var Zd=Object.assign({},Id);Id=Id.test;Zd=(delete Zd.test,Zd);return"".concat(wh(null,Id)," ? ").concat(lc(Zd)," : ")}).join("")+lc(va)},fa[Qc]=va)}else if(yc(va)&&(Ob=Vj[Qc])){const {vgProp:zd,part:Id}=Ob;Xi(fa,Id,zd,va);delete fa[Qc]}a(["labelAlign",
"labelBaseline"],Qc)&&null===fa[Qc]&&delete fa[Qc]}if("grid"===Q){if(fa.grid)return fa.encode&&({grid:sb}=fa.encode,fa.encode=Object.assign({},sb?{grid:sb}:{}),x(fa.encode)&&delete fa.encode),Object.assign({},{scale:gb,orient:ya},fa,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:B(O,0)})}else if(I.header||!t.mainExtracted){if(void 0!==sb){var vc,kd;I=sb;null!==(vc=fa.encode)&&void 0!==vc&&null!==(kd=vc.labels)&&void 0!==kd&&kd.update&&yc(fa.encode.labels.update.text)&&(I=X(sb,
"datum.label",fa.encode.labels.update.text.signal));Xi(fa,"labels","text",{signal:I})}null===fa.labelAlign&&delete fa.labelAlign;if(fa.encode){for(const Qc of Ck)t.hasAxisPart(Qc)||delete fa.encode[Qc];x(fa.encode)&&delete fa.encode}sb=Mi(yb,l);return Object.assign({},{scale:gb,orient:ya,grid:!1},sb?{title:sb}:{},fa,!1===l.aria?{aria:!1}:{},{zindex:B(O,0)})}}}function ti(t){const {axes:Q}=t.component,l=[];for(const I of qi)if(Q[I])for(const O of Q[I])if(!O.get("disable")&&!O.get("gridScale")){const fa=
"x"===I?"height":"width",va=t.getSizeSignalRef(fa).signal;fa!==va&&l.push({name:fa,update:va})}return l}function Ji(t,Q){const {x:l=[],y:I=[]}=t;return[...l.map(O=>Fi(O,"grid",Q)),...I.map(O=>Fi(O,"grid",Q)),...l.map(O=>Fi(O,"main",Q)),...I.map(O=>Fi(O,"main",Q))].filter(O=>O)}function Ci(t,Q,l,I){return Object.assign.apply(null,[{},...t.map(O=>{if("axisOrient"===O){O="x"===l?"bottom":"left";const fa=Q["x"===l?"axisBottom":"axisLeft"]||{},va=Q["x"===l?"axisTop":"axisRight"]||{},ya=new Set([...le(fa),
...le(va)]),gb={};for(const sb of ya.values())gb[sb]={signal:"".concat(I.signal,' \x3d\x3d\x3d "').concat(O,'" ? ').concat(Ic(fa[sb])," : ").concat(Ic(va[sb]))};return gb}return Q[O]})])}function Ig(t,Q,l,I){var O="band"===Q?["axisDiscrete","axisBand"]:"point"===Q?["axisDiscrete","axisPoint"]:ri.has(Q)?["axisQuantitative"]:"time"===Q||"utc"===Q?["axisTemporal"]:[];const fa="x"===t?"axisX":"axisY";Q=yc(l)?"axisOrient":"axis".concat(Z(l));O=[...O,...O.map(va=>fa+va.substr(4))];Q=["axis",Q,fa];return{vlOnlyAxisConfig:Ci(O,
I,t,l),vgAxisConfig:Ci(Q,I,t,l),axisConfigStyle:Jj([...Q,...O],I)}}function Jj(t,Q){const l=[{}];for(const O of t){var I;if(t=null===(I=Q[O])||void 0===I?void 0:I.style){t=n.array(t);for(const fa of t)l.push(Q.style[fa])}}return Object.assign.apply(null,l)}function na(t,Q,l){let I=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const O=Ea(t,l,Q);if(void 0!==O)return{configFrom:"style",configValue:O};for(const va of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var fa;if(void 0!==
(null===(fa=I[va])||void 0===fa?void 0:fa[t]))return{configFrom:va,configValue:I[va][t]}}return{}}function Na(t,Q,l,I,O){const fa=null===Q||void 0===Q?void 0:Q.labelAngle;if(void 0!==fa)return yc(fa)?fa:da(fa);({configValue:Q}=na("labelAngle",I,null===Q||void 0===Q?void 0:Q.style,O));if(void 0!==Q)return da(Q);if("x"===l&&a(["nominal","ordinal"],t.type)&&(!wc(t)||!t.timeUnit))return 270}function Ta(t){return"(((".concat(t.signal," % 360) + 360) % 360)")}function vb(t,Q,l,I){if(void 0!==t)return"x"===
l?yc(t)?(I=Ta(t),Q=yc(Q)?"(".concat(Q.signal,' \x3d\x3d\x3d "top")'):"top"===Q,{signal:"(45 \x3c ".concat(I," \x26\x26 ").concat(I," \x3c 135) || (225 \x3c ").concat(I," \x26\x26 ").concat(I,' \x3c 315) ? "middle" :')+"(".concat(I," \x3c\x3d 45 || 315 \x3c\x3d ").concat(I,") \x3d\x3d\x3d ").concat(Q,' ? "bottom" : "top"')}):45<t&&135>t||225<t&&315>t?"middle":yc(Q)?(I=45>=t||315<=t?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(Q.signal," ").concat(I,' "top" ? "bottom" : "top"')}):(45>=t||315<=t)===
("top"===Q)?"bottom":"top":yc(t)?(t=Ta(t),Q=yc(Q)?"(".concat(Q.signal,' \x3d\x3d\x3d "left")'):"left"===Q,I=I?'"middle"':"null",{signal:"".concat(t," \x3c\x3d 45 || 315 \x3c\x3d ").concat(t," || (135 \x3c\x3d ").concat(t," \x26\x26 ").concat(t," \x3c\x3d 225) ? ").concat(I," : (45 \x3c\x3d ").concat(t," \x26\x26 ").concat(t," \x3c\x3d 135) \x3d\x3d\x3d ").concat(Q,' ? "top" : "bottom"')}):45>=t||315<=t||135<=t&&225>=t?I?"middle":null:yc(Q)?(I=45<=t&&135>=t?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(Q.signal,
" ").concat(I,' "left" ? "top" : "bottom"')}):(45<=t&&135>=t)===("left"===Q)?"top":"bottom"}function Yb(t,Q,l){if(void 0!==t){var I=(l="x"===l)?0:90,O=l?"bottom":"left";return yc(t)?(t=Ta(t),Q=yc(Q)?"(".concat(Q.signal,' \x3d\x3d\x3d "').concat(O,'")'):Q===O,{signal:"(".concat(I?"(".concat(t," + 90)"):t," % 180 \x3d\x3d\x3d 0) ? ").concat(l?null:'"center"'," :")+"(".concat(I," \x3c ").concat(t," \x26\x26 ").concat(t," \x3c ").concat(180+I,") \x3d\x3d\x3d ").concat(Q,' ? "left" : "right"')}):0===(t+
I)%180?l?null:"center":yc(Q)?(l=I<t&&t<180+I?"\x3d\x3d\x3d":"!\x3d\x3d",Q="".concat(Q.signal," ").concat(l,' "').concat(O,'"'),{signal:"".concat(Q,' ? "left" : "right"')}):(I<t&&t<180+I)===(Q===O)?"left":"right"}}function bc(t,Q){var l="x"===Q?"x2":"y2";Q=t.fieldDef(Q);t=t.fieldDef(l);l=Q?Q.title:void 0;t=t?t.title:void 0;if(l&&t)return bb(l,t);if(l)return l;if(t)return t;if(void 0!==l)return l;if(void 0!==t)return t}function hc(t,Q,l){return Ad(t,Object.assign({},{prefix:Q,suffix:"sort_index"},null!==
l&&void 0!==l?l:{}))}function xc(t,Q){return a(["top","bottom"],Q)?"column":a(["left","right"],Q)?"row":"row"===t?"row":"column"}function gd(t,Q,l,I){return B((Q||{})[t],("row"===I?l.headerRow:"column"===I?l.headerColumn:l.headerFacet)[t],l.header[t])}function Gd(t,Q,l,I){const O={};for(const fa of t)t=gd(fa,Q||{},l,I),void 0!==t&&(O[fa]=t);return O}function Ud(t,Q){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const l=
Yb(Q,"row"===t?"left":"top","row"===t?"y":"x");return l?{align:l}:{}}function nd(t,Q){return(t=vb(t,"row"===Q?"left":"top","row"===Q?"y":"x",!0))?{baseline:t}:{}}function ie(t,Q,l){const {format:I,formatType:O,labelAngle:fa,labelAnchor:va,labelOrient:ya,labelExpr:gb}=Gd("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),t.header,l,Q),sb=Cc({fieldOrDatumDef:t,format:I,formatType:O,expr:"parent",config:l}).signal,yb=xc(Q,ya);return Object.assign({},{text:{signal:gb?X(X(gb,"datum.label",
sb),"datum.value",Ad(t,{expr:"parent"})):sb}},"row"===Q?{orient:"left"}:{},{style:"guide-label",frame:"group"},nd(fa,yb),Ud(yb,fa,va),Ue(l,t,Q,vl,Mk))}function Ue(t,Q,l,I,O){const fa={};for(const va of I)O[va]&&(I=gd(va,null===Q||void 0===Q?void 0:Q.header,t,l),void 0!==I&&(fa[O[va]]=I));return fa}function yf(t){return[...Ge(t,"width"),...Ge(t,"height"),...Ge(t,"childWidth"),...Ge(t,"childHeight")]}function Ge(t,Q){var l="width"===Q?"x":"y",I=t.component.layoutSize.get(Q);if(!I||"merged"===I)return[];
Q=t.getSizeSignalRef(Q).signal;if("step"===I){if(I=t.getScaleComponent(l)){var O=I.get("type");const fa=I.get("range");if(Sd(O)&&tc(fa))return O=t.scaleName(l),gc(t.parent)&&"independent"===t.parent.component.resolve.scale[l]?[ag(O,fa)]:[ag(O,fa),{name:Q,update:Pg(O,I,"domain('".concat(O,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==I?(l=(I=Q.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",t=ed(t.config.view,I?"width":"height"),
t="isFinite(".concat(l,") ? ").concat(l," : ").concat(t),[{name:Q,init:t,on:[{update:t,events:"window:resize"}]}]):[{name:Q,value:I}]}function ag(t,Q){t="".concat(t,"_step");return yc(Q.step)?{name:t,update:Q.step.signal}:{name:t,value:Q.step}}function Pg(t,Q,l){const I=Q.get("type"),O=Q.get("padding"),fa=B(Q.get("paddingOuter"),O);Q=Q.get("paddingInner");Q="band"===I?void 0!==Q?Q:O:1;return"bandspace(".concat(l,", ").concat(Ic(Q),", ").concat(Ic(fa),") * ").concat(t,"_step")}function Ke(t){return"childWidth"===
t?"width":"childHeight"===t?"height":t}function sh(t,Q){return le(t).reduce((l,I)=>Object.assign({},l,rb(Q,t[I],I,O=>ac(O.value))),{})}function Nh(t,Q){if(gc(Q))return"theta"===t?"independent":"shared";if(Wc(Q))return"shared";if(Pc(Q))return Ha(t)||"theta"===t||"radius"===t?"independent":"shared";throw Error("invalid model type for resolve");}function Qg(t,Q){const l=t.scale[Q],I=Ha(Q)?"axis":"legend";return"independent"===l?("shared"===t[I][Q]&&jc('Setting the scale to be independent for "'.concat(Q,
'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):t[I][Q]||"shared"}function gf(t){return Zh(t,(Q,l)=>Math.max(Q,l.value))}function yg(t){return Zh(t,(Q,l)=>B(Q,l.value))}function Zh(t,Q){const l=t&&t.condition;if(l&&(n.isArray(l)||se(l)))return n.array(t.condition).reduce(Q,t.value);if(se(t))return t.value}function Le(t,Q,l){t=Q.get("selections");if(null!==t&&void 0!==t&&t.length){var I=n.stringValue(l.field);return t.map(O=>{const fa=n.stringValue(H(O)+
"_store");return"(!length(data(".concat(fa,")) || (").concat(O,"[").concat(I,"] \x26\x26 indexof(").concat(O,"[").concat(I,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function ne(t,Q,l,I){t=t.getSizeSignalRef(Q).signal;return{signal:"clamp(".concat(t,", ").concat(l,", ").concat(I,")")}}function Pe(t){var Q;if(Qb(t)){var {encoding:l}=t,I={};for(const Te of["color",...Wj]){var O=Ie(l[Te]);if(O&&t.getScaleComponent(Te)&&("shape"!==Te||!wc(O)||"geojson"!==O.type)){a:{var fa=O=void 0,va=void 0,ya=
void 0,gb=void 0,sb=void 0;var yb=void 0;var Ob=t,vc=Te;let Oe=Ob.legend(vc);const {markDef:He,encoding:$f,config:ch}=Ob;var kd=ch.legend;b:{var Qc=Ob;var zd=vc,Id=Qc.scaleName(zd);if("trail"===Qc.mark){if("color"===zd){Qc={stroke:Id};break b}if("size"===zd){Qc={strokeWidth:Id};break b}}Qc="color"===zd?Qc.markDef.filled?{fill:Id}:{stroke:Id}:{[zd]:Id}}Qc=new pm({},Qc);zd=null===(ya=Ob.fieldDef(vc))||void 0===ya?void 0:ya.field;for(const dh of zh(null!==(Q=Ob.component.selection)&&void 0!==Q?Q:{})){var Zd;
if((ya=null!==(Zd=dh.project.hasField[zd])&&void 0!==Zd?Zd:dh.project.hasChannel[vc])&&Wl.defined(dh)){var te;Id=null!==(te=Qc.get("selections"))&&void 0!==te?te:[];Id.push(dh.name);Qc.set("selections",Id,!1);ya.hasLegend=!0}}ya=void 0!==Oe?!Oe:kd.disable;Qc.set("disable",ya,void 0!==Oe);if(ya){O=Qc;break a}Oe=Oe||{};zd=Ob.getScaleComponent(vc).get("type");ya=Ie($f[vc]);var $d=wc(ya)?null===(yb=kf(ya.timeUnit))||void 0===yb?void 0:yb.unit:void 0;Id=Oe.orient||ch.legend.orient||"right";yb={legend:Oe,
channel:vc,timeUnit:$d,scaleType:zd};({legend:$d}=yb);$d=$d.type;b:{let {channel:dh,timeUnit:ml,scaleType:Fl}=yb;if(Ua(dh)){if(a(["quarter","month","day"],ml)){yb="symbol";break b}if(ii.has(Fl)){yb="gradient";break b}}yb="symbol"}yb=B($d,yb);let {legendConfig:gg,legendType:fi,orient:Ki,legend:El}={legend:Oe,legendType:yb,orient:Id,legendConfig:kd};if(null!==(va=null!==(fa=El.direction)&&void 0!==fa?fa:gg[fi?"gradientDirection":"symbolDirection"])&&void 0!==va)fa=va;else b:{switch(Ki){case "top":case "bottom":fa=
"horizontal";break b;case "left":case "right":case "none":case void 0:break;default:fa="gradient"===fi?"horizontal":void 0;break b}fa=void 0}kd={legend:Oe,channel:vc,model:Ob,markDef:He,encoding:$f,fieldOrDatumDef:ya,legendConfig:kd,config:ch,scaleType:zd,orient:Id,legendType:yb,direction:fa};for(const dh of Xl)if(!("gradient"===yb&&dh.startsWith("symbol")||"symbol"===yb&&dh.startsWith("gradient"))&&(fa=dh in Yl?Yl[dh](kd):Oe[dh],void 0!==fa)){b:{va=Ob.fieldDef(vc);switch(dh){case "disable":va=void 0!==
Oe;break b;case "values":va=!(null===Oe||void 0===Oe||!Oe.values);break b;case "title":if("title"===dh&&fa===(null===va||void 0===va?void 0:va.title)){va=!0;break b}}va=fa===(Oe||{})[dh]}(va||void 0===ch.legend[dh])&&Qc.set(dh,fa,va)}kd=null!==(sb=null===(gb=Oe)||void 0===gb?void 0:gb.encoding)&&void 0!==sb?sb:{};gb=Qc.get("selections");sb={};vc={fieldOrDatumDef:ya,model:Ob,channel:vc,legendCmpt:Qc,legendType:yb};for(const dh of"labels legend title symbols gradient entries".split(" ")){var xe;fa=
sh(null!==(xe=kd[dh])&&void 0!==xe?xe:{},Ob);fa=dh in Zl?Zl[dh](fa,vc):fa;void 0===fa||x(fa)||(sb[dh]=Object.assign({},null!==gb&&void 0!==gb&&gb.length&&wc(ya)?{name:"".concat(H(ya.field),"_legend_").concat(dh)}:{},null!==gb&&void 0!==gb&&gb.length?{interactive:!!gb}:{},{update:fa}))}x(sb)||Qc.set("encode",sb,!(null===(O=Oe)||void 0===O||!O.encoding));O=Qc}I[Te]=O}}Q=I}else{const {legends:Te,resolve:Oe}=t.component;for(l of t.children){Pe(l);for(I of le(l.component.legends))Oe.legend[I]=Qg(t.component.resolve,
I),"shared"===Oe.legend[I]&&(Te[I]=oe(Te[I],l.component.legends[I]),Te[I]||(Oe.legend[I]="independent",delete Te[I]))}for(O of le(Te))for(Ob of t.children)Ob.component.legends[O]&&"shared"===Oe.legend[O]&&delete Ob.component.legends[O];Q=Te}return t.component.legends=Q}function oe(t,Q){if(!t)return Q.clone();var l=t.getWithExplicit("orient");const I=Q.getWithExplicit("orient");if(!l.explicit||!I.explicit||l.value===I.value){var O=!1;for(const sb of Xl)l=Of(t.getWithExplicit(sb),Q.getWithExplicit(sb),
sb,"legend",(yb,Ob)=>{switch(sb){case "symbolType":return yb="circle"===Ob.value?Ob:yb,yb;case "title":return lb(yb,Ob);case "type":return O=!0,Hf("symbol")}return re(yb,Ob,sb,"legend")}),t.setWithExplicit(sb,l);if(O){var fa,va,ya,gb;null!==(fa=t.implicit)&&void 0!==fa&&null!==(va=fa.encode)&&void 0!==va&&va.gradient&&R(t.implicit,["encode","gradient"]);null!==(ya=t.explicit)&&void 0!==ya&&null!==(gb=ya.encode)&&void 0!==gb&&gb.gradient&&R(t.explicit,["encode","gradient"])}return t}}function wf(t){const Q=
t.component.legends,l={};for(const O of le(Q)){var I=t.getScaleComponent(O);I=Mg(I.get("domains"));if(l[I])for(const fa of l[I])oe(fa,Q[O])||l[I].push(Q[O]);else l[I]=[Q[O].clone()]}return zh(l).flat().map(O=>{{var fa=t.config,va,ya=O.combine();O=Object.assign({},ya);const Id=ya.disable;ya=ya.labelExpr;O=(delete O.disable,delete O.labelExpr,delete O.selections,O);if(Id)var gb=void 0;else{!1===fa.aria&&void 0==O.aria&&(O.aria=!1);if(null!==(va=O.encode)&&void 0!==va&&va.symbols){fa=O.encode.symbols.update;
!fa.fill||"transparent"===fa.fill.value||fa.stroke||O.stroke||(fa.stroke={value:"transparent"});for(var sb of Wj)O[sb]&&delete fa[sb]}O.title||delete O.title;if(void 0!==ya){var yb,Ob;sb=ya;null!==(yb=O.encode)&&void 0!==yb&&null!==(Ob=yb.labels)&&void 0!==Ob&&Ob.update&&yc(O.encode.labels.update.text)&&(sb=X(ya,"datum.label",O.encode.labels.update.text.signal));yb=O;Ob={signal:sb};var vc,kd,Qc,zd;null!==(gb=yb.encode)&&void 0!==gb?gb:yb.encode={};null!==(kd=(vc=yb.encode).labels)&&void 0!==kd?kd:
vc.labels={};null!==(zd=(Qc=yb.encode.labels).update)&&void 0!==zd?zd:Qc.update={};yb.encode.labels.update.text=Ob}gb=O}}return gb}).filter(O=>void 0!==O)}function Ug(t){return t.children.reduce((Q,l)=>Q.concat(l.assembleProjections()),bg(t))}function bg(t){var Q=t.component.projection;if(!Q||Q.merged)return[];const l=Q.combine(),{name:I}=l;if(Q.data){const O={signal:"[".concat(Q.size.map(fa=>fa.signal).join(", "),"]")};Q=Q.data.reduce((fa,va)=>{va=yc(va)?va.signal:"data('".concat(t.lookupDataSource(va),
"')");fa.includes(va)||fa.push(va);return fa},[]);if(0>=Q.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:I,size:O,fit:{signal:1<Q.length?"[".concat(Q.join(", "),"]"):Q[0]}},l)]}return[Object.assign({},{name:I},{translate:{signal:"[width / 2, height / 2]"}},l)]}function lh(t){var Q=t.component,l;if(Qb(t))if(t.hasProjection){const fa=nc(t.specifiedProjection);var I=!(fa&&(null!=fa.scale||null!=fa.translate));const va=I?[t.getSizeSignalRef("width"),
t.getSizeSignalRef("height")]:void 0;if(I){I=[];const {encoding:ya}=t;for(O of[["longitude","latitude"],["longitude2","latitude2"]])(Ie(ya[O[0]])||Ie(ya[O[1]]))&&I.push({signal:t.getName("geojson_".concat(I.length))});t.channelHasField("shape")&&"geojson"===t.typedFieldDef("shape").type&&I.push({signal:t.getName("geojson_".concat(I.length))});0===I.length&&I.push(t.requestDataName(ye.Main));var O=I}else O=void 0;t=new $l(t.projectionName(!0),Object.assign({},null!==(l=nc(t.config.projection))&&void 0!==
l?l:{},null!==fa&&void 0!==fa?fa:{}),va,O);t.get("type")||t.set("type","equalEarth",!1);l=t}else l=void 0;else l=Jh(t);Q.projection=l}function bi(t,Q){const l=b(qm,I=>!n.hasOwnProperty(t.explicit,I)&&!n.hasOwnProperty(Q.explicit,I)||n.hasOwnProperty(t.explicit,I)&&n.hasOwnProperty(Q.explicit,I)&&nh(t.get(I),Q.get(I))?!0:!1);if(nh(t.size,Q.size)){if(l)return t;if(nh(t.explicit,{}))return Q;if(nh(Q.explicit,{}))return t}return null}function Jh(t){if(0!==t.children.length){var Q;for(var l of t.children)lh(l);
l=b(t.children,I=>{if(I=I.component.projection){if(Q)return(I=bi(Q,I))&&(Q=I),!!I;Q=I}return!0});if(Q&&l){l=t.projectionName(!0);const I=new $l(l,Q.specifiedProjection,Q.size,qf(Q.data));for(const O of t.children)if(t=O.component.projection)t.isFit&&I.data.push(...O.component.projection.data),O.renameProjection(t.get("name"),l),t.merged=!0;return I}}}function Qi(t,Q){return"".concat(Ga(t),"_").concat(Q)}function Kj(t,Q,l){var I;l=null!==(I=cg(l,void 0))&&void 0!==I?I:{};Q=Qi(l,Q);return t.getName("".concat(Q,
"_bins"))}function Yj(t,Q,l){let I;I="as"in t?n.isString(t.as)?[t.as,"".concat(t.as,"_end")]:[t.as[0],t.as[1]]:[Ad(t,{forAs:!0}),Ad(t,{binSuffix:"end",forAs:!0})];const O=Object.assign({},cg(Q,void 0));Q=Qi(O,t.field);var fa={signal:l.getName("".concat(Q,"_bins")),extentSignal:l.getName("".concat(Q,"_extent"))};const {signal:va,extentSignal:ya}=fa;if(nb(O.extent)){var gb=O.extent;gb=xi(l,gb.param,gb);delete O.extent}t=Object.assign({},{bin:O,field:t.field,as:[I]},va?{signal:va}:{},ya?{extentSignal:ya}:
{},gb?{span:gb}:{});return{key:Q,binComponent:t}}function Ei(t){return t.startsWith("'")&&t.endsWith("'")||t.startsWith('"')&&t.endsWith('"')?t.slice(1,-1):t}function Ej(t,Q){t=T(t);if("number"===Q)return"toNumber(".concat(t,")");if("boolean"===Q)return"toBoolean(".concat(t,")");if("string"===Q)return"toString(".concat(t,")");if("date"===Q)return"toDate(".concat(t,")");if("flatten"===Q)return t;if(Q.startsWith("date:"))return Q=Ei(Q.slice(5,Q.length)),"timeParse(".concat(t,",'").concat(Q,"')");if(Q.startsWith("utc:"))return Q=
Ei(Q.slice(4,Q.length)),"utcParse(".concat(t,",'").concat(Q,"')");jc('Unrecognized parse "'.concat(Q,'".'));return null}function Dk(t){const Q={};v(t.filter,l=>{if(Af(l)){let O=null;if(qc(l))O=Ab(l.equal);else if(Bd(l))O=Ab(l.lte);else if(Vc(l))O=Ab(l.lt);else if(Hd(l))O=Ab(l.gt);else if(me(l))O=Ab(l.gte);else if($e(l))O=l.range[0];else if(Qf(l)){var I;O=(null!==(I=l.oneOf)&&void 0!==I?I:l["in"])[0]}O&&(md(O)?Q[l.field]="date":n.isNumber(O)?Q[l.field]="number":n.isString(O)&&(Q[l.field]="string"));
l.timeUnit&&(Q[l.field]="date")}});return Q}function zg(t){function Q(I){if(Ag(I))l[I.field]="date";else{var O;if(O="quantitative"===I.type)O=I.aggregate,O=n.isString(O)&&a(["min","max"],O);O?l[I.field]="number":1<w(I.field)?I.field in l||(l[I.field]="flatten"):td(I)&&Vb(I.sort)&&1<w(I.sort.field)&&(I.sort.field in l||(l[I.sort.field]="flatten"))}}const l={};(Qb(t)||gc(t))&&t.forEachFieldDef((I,O)=>{he(I)?Q(I):(O=La(O),O=t.fieldDef(O),Q(Object.assign({},I,{type:O.type})))});if(Qb(t)){const {mark:I,
markDef:O,encoding:fa}=t;if(Ia(I)&&!t.encoding.order){const va=fa["horizontal"===O.orient?"y":"x"];!wc(va)||"quantitative"!==va.type||va.field in l||(l[va.field]="number")}}return l}function Qh(t){return t instanceof lk||t instanceof ol||t instanceof pl}function sj(t){return t.stack.stackBy.reduce((Q,l)=>{(l=Ad(l.fieldDef))&&Q.push(l);return Q},[])}function ok(t){return n.isArray(t)&&t.every(Q=>n.isString(Q))&&1<t.length}function Nk(t){function Q(l){if(!(l instanceof Jk)){const I=l.clone();if(I instanceof
zf){const O="scale_"+I.getSource();I.setSource(O);t.model.component.data.outputNodes[O]=I}else(I instanceof rj||I instanceof Xj||I instanceof Zk||I instanceof Kk)&&I.addDimensions(t.fields);for(const O of l.children.flatMap(Q))O.parent=I;return[I]}return l.children.flatMap(Q)}return Q}function cj(t){if(t instanceof Jk)if(1!==t.numChildren()||t.children[0]instanceof zf){var Q=t.model.component.data.main;Ni(Q);const l=Nk(t);t=t.children.map(l).flat();for(const I of t)I.parent=Q}else Q=t.children[0],
(Q instanceof rj||Q instanceof Xj||Q instanceof Zk||Q instanceof Kk)&&Q.addDimensions(t.fields),Q.swapWithParent(),cj(t);else t.children.map(cj)}function Ni(t){if(t instanceof zf&&t.type===ye.Main&&1===t.numChildren()){const Q=t.children[0];Q instanceof Jk||(Q.swapWithParent(),Ni(t))}}function Ih(t){for(const Q of t){for(const l of Q.children)if(l.parent!==Q)return!1;if(!Ih(Q.children))return!1}return!0}function fh(t,Q){let l=!1;for(const I of Q)l=t.optimize(I)||l;return l}function ig(t,Q,l){let I=
t.sources,O=!1;O=fh(new rm,I)||O;O=fh(new sm(Q),I)||O;I=I.filter(fa=>0<fa.numChildren());O=fh(new tm,I)||O;I=I.filter(fa=>0<fa.numChildren());l||(O=fh(new um,I)||O,O=fh(new vm(Q),I)||O,O=fh(new wm,I)||O,O=fh(new xm,I)||O,O=fh(new ym,I)||O,O=fh(new zm,I)||O,O=fh(new Am,I)||O,O=fh(new Bm,I)||O);t.sources=I;return O}function vi(t){const Q=t.component.scales;for(const sb of le(Q)){var l=t,I=sb,O=l.getScaleComponent(I).get("type"),{encoding:fa}=l;var va=l.scaleDomain(I);var ya=l.typedFieldDef(I),gb=l.config.scale;
if("unaggregated"===va){const {valid:yb,reason:Ob}=pj(ya,O);yb||(jc(Ob),va=void 0)}else void 0===va&&gb.useUnaggregatedDomain&&({valid:ya}=pj(ya,O),ya&&(va="unaggregated"));va!==l.scaleDomain(I)&&(l.specifiedScales[I]=Object.assign({},l.specifiedScales[I],{domain:va}));l="x"===I&&Ie(fa.x2)?Ie(fa.x)?Of(Di(O,va,l,"x"),Di(O,va,l,"x2"),"domain","scale",pi):Di(O,va,l,"x2"):"y"===I&&Ie(fa.y2)?Ie(fa.y)?Of(Di(O,va,l,"y"),Di(O,va,l,"y2"),"domain","scale",pi):Di(O,va,l,"y2"):Di(O,va,l,I);Q[sb].setWithExplicit("domains",
l);fa=void 0;I=t.component.scales[sb];va=t.specifiedScales[sb].domain;O=null===(fa=t.fieldDef(sb))||void 0===fa?void 0:fa.bin;fa=Qe(va)&&va;O=n.isObject(O)&&nb(O.extent)&&O.extent;(fa||O)&&I.set("selectionExtent",null!==fa&&void 0!==fa?fa:O,!0);if(t.component.data.isFaceted){for(I=t;!gc(I)&&I.parent;)I=I.parent;if("shared"===I.component.resolve.scale[sb])for(const yb of l.value)hd(yb)&&(yb.data="scale_"+yb.data.replace("scale_",""))}}}function uj(t){for(var Q of t.children){var l=Q;Qb(l)?vi(l):uj(l)}l=
t.component.scales;for(const O of le(l)){let fa;Q=null;for(const va of t.children){var I=va.component.scales[O];I&&(fa=void 0===fa?I.getWithExplicit("domains"):Of(fa,I.getWithExplicit("domains"),"domains","scale",pi),I=I.get("selectionExtent"),Q&&I&&Q.param!==I.param&&jc("The same selection must be used to override scale domains in a layered view."),Q=I)}l[O].setWithExplicit("domains",fa);Q&&l[O].set("selectionExtent",Q,!0)}}function ni(t,Q,l){return t.map(I=>{I=dg(I,{timeUnit:l,type:Q});return{signal:"{data: ".concat(I,
"}")}})}function Yi(t,Q,l){var I;l=null===(I=kf(l))||void 0===I?void 0:I.unit;return"temporal"===Q||l?ni(t,Q,l):[t]}function Di(t,Q,l,I){var {encoding:O}=l;O=Ie(O[I]);const {type:fa}=O,va=O.timeUnit;if(Q&&Q.unionWith)return I=Di(t,void 0,l,I),Q=Yi(Q.unionWith,fa,va),hh([...I.value,...Q]);if(yc(Q))return hh([Q]);if(Q&&"unaggregated"!==Q&&!Qe(Q))return hh(Yi(Q,fa,va));var ya=l.stack;if(ya&&I===ya.fieldChannel){if("normalize"===ya.offset)return Hf([[0,1]]);Q=l.requestDataName(ye.Main);return Hf([{data:Q,
field:l.vgField(I,{suffix:"start"})},{data:Q,field:l.vgField(I,{suffix:"end"})}])}ya=zi[I]&&wc(O)?oj(l,I,t):void 0;if(ld(O))return I=Yi([O.datum],fa,va),Hf(I);if("unaggregated"===Q)return I=l.requestDataName(ye.Main),{field:Q}=O,Hf([{data:I,field:Ad({field:Q,aggregate:"min"})},{data:I,field:Ad({field:Q,aggregate:"max"})}]);if(Wa(O.bin)){if(Sd(t))return"bin-ordinal"===t?Hf([]):Hf([{data:q(ya)?l.requestDataName(ye.Main):l.requestDataName(ye.Raw),field:l.vgField(I,Jf(O,I)?{binSuffix:"range"}:{}),sort:!0!==
ya&&n.isObject(ya)?ya:{field:l.vgField(I,{}),op:"min"}}]);({bin:Q}=O);if(Wa(Q)){const gb=Kj(l,O.field,Q);return Hf([new Li(()=>{const sb=l.getSignalName(gb);return"[".concat(sb,".start, ").concat(sb,".stop]")})])}return Hf([{data:l.requestDataName(ye.Main),field:l.vgField(I,{})}])}return O.timeUnit&&a(["time","utc"],t)&&Nb(O,Qb(l)?l.encoding[Da(I)]:void 0,l.markDef,l.config)?(Q=l.requestDataName(ye.Main),Hf([{data:Q,field:l.vgField(I)},{data:Q,field:l.vgField(I,{suffix:"end"})}])):ya?Hf([{data:q(ya)?
l.requestDataName(ye.Main):l.requestDataName(ye.Raw),field:l.vgField(I),sort:ya}]):Hf([{data:l.requestDataName(ye.Main),field:l.vgField(I)}])}function Gh(t,Q){const {op:l,field:I,order:O}=t;return Object.assign({},{op:null!==l&&void 0!==l?l:Q?"sum":"min"},I?{field:W(I)}:{},O?{order:O}:{})}function oj(t,Q,l){if(Sd(l)){var I=t.fieldDef(Q);l=I.sort;if(ma(l))return{op:"min",field:hc(I,Q),order:"ascending"};({stack:I}=t);var O=I?new Set([...I.groupbyFields,...I.stackBy.map(fa=>fa.fieldDef.field)]):void 0;
if(Vb(l))return t=I&&!O.has(l.field),Gh(l,t);if(l&&l.encoding){const {encoding:fa,order:va}=l;t=t.fieldDef(fa);const {aggregate:ya,field:gb}=t;Q=I&&!O.has(gb);if(Qa(ya)||oa(ya))return Gh({field:Ad(t),order:va},Q);if(Y(ya)||!ya)return Gh({op:ya,field:gb,order:va},Q)}else{if("descending"===l)return{op:"min",field:t.vgField(Q),order:"descending"};if(a(["ascending",void 0],l))return!0}}}function pj(t,Q){const {aggregate:l,type:I}=t;return l?n.isString(l)&&!Ti.has(l)?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(l,
'" since it produces values outside the origin domain of the source data.')}:"quantitative"===I&&"log"===Q?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(Mg(t),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(Mg(t),").")}}function pi(t,Q,l,I){if(t.explicit&&Q.explicit){var O=t.value,fa=Q.value;l="Conflicting ".concat(I.toString(),' property "').concat(l.toString(),'" (').concat(Mg(O)," and ").concat(Mg(fa),
"). Using the union of the two domains.");jc(l)}return{explicit:t.explicit,value:[...t.value,...Q.value]}}function Fj(t){var Q=z(t.map(O=>hd(O)?(O=Object.assign({},O),delete O.sort,O):O),e),l=z(t.map(O=>{if(hd(O))return O=O.sort,void 0===O||q(O)||("op"in O&&"count"===O.op&&delete O.field,"ascending"===O.order&&delete O.order),O}).filter(O=>void 0!==O),e);if(0!==Q.length){if(1===Q.length){Q=t[0];if(hd(Q)&&0<l.length){var I=l[0];1<l.length?(jc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
I=!0):n.isObject(I)&&"field"in I&&Q.field===I.field&&(I=I.order?{order:I.order}:!0);return Object.assign({},Q,{sort:I})}return Q}l=z(l.map(O=>{if(q(O)||!("op"in O)||n.isString(O.op)&&O.op in dk)return O;jc("Dropping sort property ".concat(Mg(O),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),e);1===l.length?I=l[0]:1<l.length&&(jc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),I=!0);l=z(t.map(O=>hd(O)?O.data:null),
O=>O);return 1===l.length&&null!==l[0]?Object.assign({},{data:l[0],fields:Q.map(O=>O.field)},I?{sort:I}:{}):Object.assign({},{fields:Q},I?{sort:I}:{})}}function dj(t){if(hd(t)&&n.isString(t.field))return t.field;var Q=n.isArray(t)?!1:"fields"in t&&!("data"in t);if(Q){let l;for(const I of t.fields)if(hd(I)&&n.isString(I.field))if(!l)l=I.field;else if(l!==I.field)return jc("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
l;jc("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return l}Q=n.isArray(t)?!1:"fields"in t&&"data"in t;if(Q)return jc("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
t=t.fields[0],n.isString(t)?t:void 0}function Wi(t,Q){Q=t.component.scales[Q].get("domains").map(l=>{hd(l)&&(l.data=t.lookupDataSource(l.data));return l});return Fj(Q)}function Pi(t){return Wc(t)||Pc(t)?t.children.reduce((Q,l)=>Q.concat(Pi(l)),qj(t)):qj(t)}function qj(t){return le(t.component.scales).reduce((Q,l)=>{var I=t.component.scales[l];if(I.merged)return Q;var O=I.combine(),fa=Object.assign({},O);const va=O.name,ya=O.type;var gb=O.selectionExtent;const sb=O.reverse;fa=(delete fa.name,delete fa.type,
delete fa.selectionExtent,delete fa.domains,delete fa.range,delete fa.reverse,fa);O=O.range;Ha(l)?tc(O)&&(O={step:{signal:"".concat(va,"_step")}}):n.isObject(O)&&hd(O)&&(O=Object.assign({},O,{data:t.lookupDataSource(O.data)}));l=Wi(t,l);gb?(gb=xi(t,gb.param,gb),I={signal:Qd(I.get("type"))&&n.isArray(l)&&l[0]>l[1]?"isValid(".concat(gb,") \x26\x26 reverse(").concat(gb,")"):gb}):I=null;Q.push(Object.assign({},{name:va,type:ya},l?{domain:l}:{},I?{domainRaw:I}:{},{range:O},void 0!==sb?{reverse:sb}:{},
fa));return Q},[])}function pk(t,Q){var l=t.fieldDef(Q);if(null!==l&&void 0!==l&&l.bin){const {bin:I,field:O}=l;l=Ma(Q);const fa=t.getName(l);if(n.isObject(I)&&I.binned&&void 0!==I.step)return new Li(()=>{var va=t.scaleName(Q);va='(domain("'.concat(va,'")[1] - domain("').concat(va,'")[0]) / ').concat(I.step);return"".concat(t.getSignalName(fa)," / (").concat(va,")")});if(Wa(I)){const va=Kj(t,O,I);return new Li(()=>{var ya=t.getSignalName(va);ya="(".concat(ya,".stop - ").concat(ya,".start) / ").concat(ya,
".step");return"".concat(t.getSignalName(fa)," / (").concat(ya,")")})}}}function ik(t,Q){const l=Q.specifiedScales[t];var {size:I}=Q,O=Q.getScaleComponent(t).get("type");for(var fa of Cm)if(void 0!==l[fa]){const gb=cf(O,fa),sb=ra(t,fa);if(gb)if(sb)jc(sb);else switch(fa){case "range":O=l.range;if(n.isArray(O)){if(Ha(t))return hh(O.map(yb=>{if("width"===yb||"height"===yb){yb=Q.getName(yb);const Ob=Q.getSignalName.bind(Q);return Li.fromName(Ob,yb)}return yb}))}else if(n.isObject(O))return hh({data:Q.requestDataName(ye.Main),
field:O.field,sort:{op:"min",field:Q.vgField(t)}});return hh(O);case "scheme":return hh(Zj(l[fa]))}else jc(tb(O,fa,t))}fa="x"===t||"xOffset"===t?"width":"height";I=I[fa];if(Rb(I))if(Ha(t))if(Sd(O)){if(I=Zi(I,Q,t))return hh({step:I})}else jc(Kb(fa));else if(t in yi&&"band"===Q.getScaleComponent("xOffset"===t?"x":"y").get("type")&&(I=bj(I,O)))return hh(I);const {rangeMin:va,rangeMax:ya}=l;t=Gj(t,Q);return(void 0!==va||void 0!==ya)&&cf(O,"rangeMin")&&n.isArray(t)&&2===t.length?hh([null!==va&&void 0!==
va?va:t[0],null!==ya&&void 0!==ya?ya:t[1]]):Hf(t)}function Zj(t){return!n.isString(t)&&t.name?Object.assign({},{scheme:t.name},f(t,["name"])):{scheme:t}}function Gj(t,Q){const {size:l,config:I,mark:O,encoding:fa}=Q;var va=Q.getSignalName.bind(Q),{type:ya}=Ie(fa[t]);const gb=Q.getScaleComponent(t).get("type"),{domain:sb,domainMid:yb}=Q.specifiedScales[t];switch(t){case "x":case "y":if(a(["point","band"],gb)&&(ya=tj(t,l,I.view),Rb(ya)))return{step:Zi(ya,Q,t)};ya=Ma(t);ya=Q.getName(ya);return"y"===t&&
Qd(gb)?[Li.fromName(va,ya),0]:[0,Li.fromName(va,ya)];case "xOffset":case "yOffset":return Ek(t,Q,gb);case "size":return va=Q.component.scales[t].get("zero"),va=Jg(O,va,I),ya=mh(O,l,Q,I),zj.has(gb)?ai(va,ya,jk(gb,I,sb,t)):[va,ya];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Li(()=>{const Ob=Q.getSignalName("width"),vc=Q.getSignalName("height");return"min(".concat(Ob,",").concat(vc,")/2")})];case "strokeWidth":return[I.scale.minStrokeWidth,I.scale.maxStrokeWidth];
case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===gb?"nominal"===ya?"category":"ordinal":void 0!==yb?"diverging":"rect"===O||"geoshape"===O?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[I.scale.minOpacity,I.scale.maxOpacity]}}function Zi(t,Q,l){var {encoding:I}=Q,O=Q.getScaleComponent(l);l=Aa(l);const fa=I[l];if("offset"===Jb({step:t,offsetIsDiscrete:Fd(fa)&&ke(fa.type)})&&
oh(I,l)){var va;I=Q.getScaleComponent(l);Q=Q.scaleName(l);Q="domain('".concat(Q,"').length");if("band"===I.get("type")){var ya,gb,sb,yb;l=null!==(ya=null!==(gb=I.get("paddingInner"))&&void 0!==gb?gb:I.get("padding"))&&void 0!==ya?ya:0;ya=null!==(sb=null!==(yb=I.get("paddingOuter"))&&void 0!==yb?yb:I.get("padding"))&&void 0!==sb?sb:0;Q="bandspace(".concat(Q,", ").concat(l,", ").concat(ya,")")}sb=null!==(va=O.get("paddingInner"))&&void 0!==va?va:O.get("padding");t="".concat(t.step," * ").concat(Q," / (1-");
O=t.concat;va=sb;va=yc(va)?va.signal:n.stringValue(va);return{signal:O.call(t,va,")")}}return t.step}function bj(t,Q){if("offset"===Jb({step:t,offsetIsDiscrete:Sd(Q)}))return{step:t.step}}function Ek(t,Q,l){const I="xOffset"===t?"x":"y",O=Q.getScaleComponent(I).get("type"),fa=Q.scaleName(I);return"band"===O?(t=tj(I,Q.size,Q.config.view),Rb(t)&&(l=bj(t,l))?l:[0,{signal:"bandwidth('".concat(fa,"')")}]):h("Cannot use ".concat(t," scale if ").concat(I," scale is not discrete."))}function tj(t,Q,l){t=
"x"===t?"width":"height";return(Q=Q[t])?Q:Vd(l,t)}function jk(t,Q,l,I){switch(t){case "quantile":return Q.scale.quantileCount;case "quantize":return Q.scale.quantizeCount;case "threshold":if(void 0!==l&&n.isArray(l))return l.length+1;jc("Domain for ".concat(I," is required for threshold scale."));return 3}}function ai(t,Q,l){const I=()=>{const O=Ic(Q),fa=Ic(t),va="(".concat(O," - ").concat(fa,") / (").concat(l," - 1)");return"sequence(".concat(fa,", ").concat(O," + ").concat(va,", ").concat(va,")")};
return yc(Q)?new Li(I):{signal:I()}}function Jg(t,Q,l){if(Q)return yc(Q)?{signal:"".concat(Q.signal," ? 0 : ").concat(Jg(t,!1,l))}:0;switch(t){case "bar":case "tick":return l.scale.minBandSize;case "line":case "trail":case "rule":return l.scale.minStrokeWidth;case "text":return l.scale.minFontSize;case "point":case "square":case "circle":return l.scale.minSize}throw Error(ve("size",t));}function mh(t,Q,l,I){l={x:pk(l,"x"),y:pk(l,"y")};switch(t){case "bar":case "tick":if(void 0!==I.scale.maxBandSize)return I.scale.maxBandSize;
const O=Fk(Q,l,I.view);return n.isNumber(O)?O-1:new Li(()=>"".concat(O.signal," - 1"));case "line":case "trail":case "rule":return I.scale.maxStrokeWidth;case "text":return I.scale.maxFontSize;case "point":case "square":case "circle":if(I.scale.maxSize)return I.scale.maxSize;const fa=Fk(Q,l,I.view);return n.isNumber(fa)?Math.pow(.95*fa,2):new Li(()=>"pow(".concat(.95," * ").concat(fa.signal,", 2)"))}throw Error(ve("size",t));}function Fk(t,Q,l){const I=Rb(t.width)?t.width.step:pd(l,"width"),O=Rb(t.height)?
t.height.step:pd(l,"height");return Q.x||Q.y?new Li(()=>"min(".concat([Q.x?Q.x.signal:I,Q.y?Q.y.signal:O].join(", "),")")):Math.min(I,O)}function ej(t,Q){if(Qb(t)){const va=t.component.scales,{config:ya,encoding:gb,markDef:sb,specifiedScales:yb}=t;for(const Ob of le(va)){var l=yb[Ob];const vc=va[Ob];var I=t.getScaleComponent(Ob),O=Ie(gb[Ob]),fa=l[Q];const kd=I.get("type"),Qc=I.get("padding");I=I.get("paddingInner");const zd=cf(kd,Q),Id=ra(Ob,Q);void 0!==fa&&(zd?Id&&jc(Id):jc(tb(kd,Q,Ob)));if(zd&&
void 0===Id)if(void 0!==fa)switch(fa=O.timeUnit,O=O.type,Q){case "domainMax":case "domainMin":md(l[Q])||"temporal"===O||fa?vc.set(Q,{signal:dg(l[Q],{type:O,timeUnit:fa})},!0):vc.set(Q,l[Q],!0);break;default:vc.copyKeyFromObject(Q,l)}else l=Q in am?am[Q]({model:t,channel:Ob,fieldOrDatumDef:O,scaleType:kd,scalePadding:Qc,scalePaddingInner:I,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:sb,config:ya,hasNestedOffsetScale:th(gb,Ob)}):ya.scale[Q],void 0!==l&&vc.set(Q,l,!1)}}else E(t,
Q)}function g(t){if(Qb(t)){const Q=t.component.scales;for(const l of yj){const I=Q[l];if(!I)continue;const O=ik(l,t);I.setWithExplicit("range",O)}}else E(t,"range")}function E(t,Q){const l=t.component.scales;for(var I of t.children)"range"===Q?g(I):ej(I,Q);for(const O of le(l)){let fa;for(const va of t.children)if(I=va.component.scales[O])I=I.getWithExplicit(Q),fa=Of(fa,I,Q,"scale",Ee((ya,gb)=>{switch(Q){case "range":if(ya.step&&gb.step)return ya.step-gb.step}return 0}));l[O].setWithExplicit(Q,fa)}}
function V(t,Q){const l=Q.bin;if(Wa(l)){const I=Kj(t,Q.field,l);return new Li(()=>t.getSignalName(I))}if(cb(l)&&n.isObject(l)&&void 0!==l.step)return{step:l.step}}function S(t,Q,l,I,O){let fa=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===t){if(Ha(Q)){const {bandPaddingInner:va,barBandPaddingInner:ya,rectBandPaddingInner:gb,bandWithNestedOffsetPaddingInner:sb}=O;return fa?sb:B(va,"bar"===l?ya:gb)}if(Q in yi&&I===mi.BAND)return O.offsetBandPaddingInner}}function ea(t,Q,l,I,O){let fa=
5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===t)if(Ha(Q)){const {bandPaddingOuter:va,bandWithNestedOffsetPaddingOuter:ya}=O;if(fa)return ya;if(l===mi.BAND)return B(va,yc(I)?{signal:"".concat(I.signal,"/2")}:I/2)}else if(Q in yi){if(l===mi.POINT)return.5;if(l===mi.BAND)return O.offsetBandPaddingOuter}}function Ja(t,Q,l,I){const O=Xa(Q,l,I,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1);var {type:fa}=t;if(!zi[Q])return null;if(void 0!==fa){if(!jb(Q,fa))return fa='Channel "'.concat(Q,
'" does not work with "').concat(fa,'" scale. We are using "').concat(O,'" scale instead.'),jc(fa),O;var va;if(va=wc(l))va=l.type,va=!(a(["ordinal","nominal"],va)?void 0===fa||Sd(fa):"temporal"===va?a([mi.TIME,mi.UTC,void 0],fa):"quantitative"===va?ri.has(fa)||zj.has(fa)||void 0===fa:1);return va?(fa='FieldDef does not work with "'.concat(fa,'" scale. We are using "').concat(O,'" scale instead.'),jc(fa),O):fa}return O}function Xa(t,Q,l,I){switch(Q.type){case "nominal":case "ordinal":var O;if(Ua(t)||
"discrete"===ta(t))return"shape"===t&&"ordinal"===Q.type&&jc(Ya(t,"ordinal")),"ordinal";if(Ha(t)||t in yi){if(a(["rect","bar","image","rule"],l.type)||I)return"band"}else if("arc"===l.type&&t in ij)return"band";t=l[Ma(t)];return ha(t)||Dd(Q)&&null!==(O=Q.axis)&&void 0!==O&&O.tickBand?"band":"point";case "temporal":if(!Ua(t)){if("discrete"===ta(t))return jc(Ya(t,"temporal")),"ordinal";if(wc(Q)&&Q.timeUnit&&kf(Q.timeUnit).utc)return"utc"}return"time";case "quantitative":if(Ua(t)){if(wc(Q)&&Wa(Q.bin))return"bin-ordinal"}else if("discrete"===
ta(t))return jc(Ya(t,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(Q.type,'".'));}function ab(t){let {ignoreRange:Q}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};xb(t);Qb(t)?vi(t):uj(t);for(const l of zl)ej(t,l);Q||g(t)}function xb(t){if(Qb(t)){var Q=t.component;const {encoding:gb,mark:sb,markDef:yb}=t;var l={};for(var I of yj){var O=Ie(gb[I]);if(!O||sb!==Bk||"shape"!==I||"geojson"!==O.type){var fa=O&&O.scale;if(I in yi){var va=
qa(I);if(!th(gb,va)){fa&&jc("".concat(I," encoding has no scale, so specified scale is ignored."));continue}}if(O&&null!==fa&&!1!==fa){var ya;null!==(ya=fa)&&void 0!==ya?ya:fa={};va=th(gb,I);O=Ja(fa,I,O,yb,va);l[I]=new bm(t.scaleName("".concat(I),!0),{value:O,explicit:fa.type===O})}}}Q.scales=l}else{ya=t.component;I=t.component.scales={};va={};const gb=t.component.resolve;for(const sb of t.children){xb(sb);for(const yb of le(sb.component.scales))if(null!==(O=(fa=gb.scale)[yb])&&void 0!==O?O:fa[yb]=
Nh(yb,t),"shared"===gb.scale[yb]){const Ob=va[yb],vc=sb.component.scales[yb].getWithExplicit("type");if(Ob){const kd=Qk[Ob.value],Qc=Qk[vc.value];kd===Qc||"ordinal-position"===kd&&"time"===Qc||"ordinal-position"===Qc&&"time"===kd?va[yb]=Of(Ob,vc,"type","scale",Dm):(gb.scale[yb]="independent",delete va[yb])}else va[yb]=vc}}for(Q of le(va)){fa=t.scaleName(Q,!0);I[Q]=new bm(fa,va[Q]);for(l of t.children)if(O=l.component.scales[Q])l.renameScale(O.get("name"),fa),O.merged=!0}ya.scales=I}}function Qb(t){return"unit"===
(null===t||void 0===t?void 0:t.type)}function gc(t){return"facet"===(null===t||void 0===t?void 0:t.type)}function Pc(t){return"concat"===(null===t||void 0===t?void 0:t.type)}function Wc(t){return"layer"===(null===t||void 0===t?void 0:t.type)}function ad(t){function Q(I,O){I instanceof lk&&!(I.isGenerator||"url"in I.data)&&(t.push(O),O={name:null,source:O.name,transform:[]});if(I instanceof wi)if(I.parent instanceof lk&&!O.source){var fa;O.format=Object.assign({},null!==(fa=O.format)&&void 0!==fa?
fa:{},{parse:I.assembleFormatParse()});O.transform.push(...I.assembleTransforms(!0))}else O.transform.push(...I.assembleTransforms());if(I instanceof Jk)O.name||(O.name="data_".concat(l++)),!O.source||0<O.transform.length?(t.push(O),I.data=O.name):I.data=O.source,t.push(...I.assemble());else switch((I instanceof ol||I instanceof pl||I instanceof ql||I instanceof $k||I instanceof al||I instanceof rl||I instanceof rj||I instanceof sl||I instanceof Zk||I instanceof Kk||I instanceof Gl||I instanceof Hl||
I instanceof Il||I instanceof Jl||I instanceof Kl||I instanceof Ll||I instanceof mk||I instanceof Ml||I instanceof Nl)&&O.transform.push(I.assemble()),(I instanceof Ij||I instanceof Ef||I instanceof Lk||I instanceof Xj||I instanceof bl)&&O.transform.push(...I.assemble()),I instanceof zf&&(O.source&&0===O.transform.length?I.setSource(O.source):I.parent instanceof zf?I.setSource(O.name):(O.name||(O.name="data_".concat(l++)),I.setSource(O.name),1===I.numChildren()&&(t.push(O),O={name:null,source:O.name,
transform:[]}))),I.numChildren()){case 0:I instanceof zf&&(!O.source||0<O.transform.length)&&t.push(O);break;case 1:Q(I.children[0],O);break;default:O.name||(O.name="data_".concat(l++));fa=O.name;!O.source||0<O.transform.length?t.push(O):fa=O.source;for(const va of I.children)Q(va,{name:null,source:fa,transform:[]})}}let l=0;return Q}function Ld(t){const Q=[],l=ad(Q);for(const I of t.children)l(I,{source:t.name,name:null,transform:[]});return Q}function ze(t,Q){const l=[];var I=ad(l);let O=0;for(const ya of t.sources){ya.hasName()||
(ya.dataName="source_".concat(O++));const gb=ya.assemble();I(ya,gb)}for(const ya of l)0===ya.transform.length&&delete ya.transform;I=0;for(const ya of l.entries()){const [gb,sb]=ya;var fa;0!==(null!==(fa=sb.transform)&&void 0!==fa?fa:[]).length||sb.source||l.splice(I++,0,l.splice(gb,1)[0])}for(const ya of l)for(const gb of null!==(va=ya.transform)&&void 0!==va?va:[]){var va;"lookup"===gb.type&&(gb.from=t.outputNodes[gb.from].getSource())}for(const ya of l)ya.name in Q&&(ya.values=Q[ya.name]);return l}
function pf(t,Q,l){Q="row"===Q?"height":"width";return{labels:l,sizeSignal:t.child.component.layoutSize.get(Q)?t.child.getSizeSignalRef(Q):void 0,axes:[]}}function uh(t,Q){var {child:l}=t;if(l.component.axes[Q]){const {layoutHeaders:O,resolve:fa}=t.component;fa.axis[Q]=Qg(fa,Q);if("shared"===fa.axis[Q]){const va="x"===Q?"column":"row",ya=O[va];for(const gb of l.component.axes[Q]){var I;Q=gb.get("orient");Q="top"===Q||"left"===Q||yc(Q)?"header":"footer";null!==(I=ya[Q])&&void 0!==I?I:ya[Q]=[pf(t,va,
!1)];(l=Fi(gb,"main",t.config,{header:!0}))&&ya[Q][0].axes.push(l);gb.mainExtracted=!0}}}}function af(t){for(const Q of t.children)Q.parseLayoutSize()}function Sf(t,Q){const l=Ke(Q),I=Va(l),O=t.component.resolve,fa=t.component.layoutSize;let va;for(const gb of t.children){var ya;const sb=gb.component.layoutSize.getWithExplicit(l),yb=null!==(ya=O.scale[I])&&void 0!==ya?ya:Nh(I,t);if("independent"===yb&&"step"===sb.value){va=void 0;break}if(va){if("independent"===yb&&va.value!==sb.value){va=void 0;
break}va=Of(va,sb,l,"")}else va=sb}if(va){for(const gb of t.children)t.renameSignal(gb.getName(l),t.getName(Q)),gb.component.layoutSize.set(l,"merged",!1);fa.setWithExplicit(Q,va)}else fa.setWithExplicit(Q,{explicit:!1,value:void 0})}function Dg(t,Q){const l=t.config;var I=t.getScaleComponent("width"===Q?"x":"y");if(I)return t=I.get("type"),I=I.get("range"),Sd(t)?(Q=Vd(l.view,Q),tc(I)||Rb(Q)?"step":Q):ed(l.view,Q);if(t.hasProjection||"arc"===t.mark)return ed(l.view,Q);Q=Vd(l.view,Q);return Rb(Q)?
Q.step:Q}function Lg(t,Q,l){return Ad(Q,Object.assign({},{suffix:"by_".concat(Ad(t))},null!==l&&void 0!==l?l:{}))}function tg(t,Q){for(const ya of Q){var l,I,O,fa;Q=ya.data;if(t.name&&ya.hasName()&&t.name!==ya.dataName)continue;const gb=null===(l=t.format)||void 0===l?void 0:l.mesh;var va=null===(I=Q.format)||void 0===I?void 0:I.feature;if(gb&&va)continue;const sb=null===(O=t.format)||void 0===O?void 0:O.feature;if(!sb&&!va||sb===va)if(va=null===(fa=Q.format)||void 0===fa?void 0:fa.mesh,!gb&&!va||
gb===va)if("values"in t&&"values"in Q){if(nh(t.values,Q.values))return ya}else if("url"in t&&"url"in Q){if(t.url===Q.url)return ya}else if(Kf(t)&&t.name===ya.dataName)return ya}return null}function Wf(t,Q){if(t.data||!t.parent){if(null===t.data)return t=new lk({values:[]}),Q.push(t),t;const l=tg(t.data,Q);if(l)return vf(t.data)||(l.data.format=m({},t.data.format,l.data.format)),!l.hasName()&&t.data.name&&(l.dataName=t.data.name),l;t=new lk(t.data);Q.push(t);return t}return t.parent.component.data.facetRoot?
t.parent.component.data.facetRoot:t.parent.component.data.main}function ng(t){var Q,l,I,O=Wf(t,t.component.data.sources);const {outputNodes:fa,outputNodeRefCounts:va}=t.component.data,ya=t.data,gb=ya&&(vf(ya)||"url"in ya||"values"in ya)||!t.parent?new Xf:t.parent.component.data.ancestorParse.clone();vf(ya)?("sequence"in ya?O=new pl(O,ya.sequence):"graticule"in ya&&(O=new ol(O,ya.graticule)),gb.parseNothing=!0):null===(null===ya||void 0===ya?void 0:null===(Q=ya.format)||void 0===Q?void 0:Q.parse)&&
(gb.parseNothing=!0);O=null!==(l=wi.makeExplicit(O,t,gb))&&void 0!==l?l:O;O=new mk(O);Q=t.parent&&Wc(t.parent);if((Qb(t)||gc(t))&&Q){var sb;O=null!==(sb=Ij.makeFromEncoding(O,t))&&void 0!==sb?sb:O}if(0<t.transforms.length){sb=0;for(const He of t.transforms){var yb=l=void 0;if("calculate"in He)yb=O=new al(O,He),l="derived";else if("filter"in He){var Ob;yb=Dk(He);yb=O=null!==(Ob=wi.makeWithAncestors(O,{},yb,gb))&&void 0!==Ob?Ob:O;O=new $k(O,t,He.filter)}else if("bin"in He)yb=O=Ij.makeFromTransform(O,
He,t),l="number";else if("timeUnit"in He)l="date",void 0===gb.getWithExplicit(He.field).value&&(O=new wi(O,{[He.field]:l}),gb.set(He.field,l,!1)),yb=O=Ef.makeFromTransform(O,He);else if("aggregate"in He)yb=O=rj.makeFromTransform(O,He),l="number",Hh(t)&&(O=new mk(O));else if("lookup"in He)yb=O=sl.make(O,t,He,sb++),l="derived";else if("window"in He)yb=O=new Zk(O,He),l="number";else if("joinaggregate"in He)yb=O=new Kk(O,He),l="number";else if("stack"in He)yb=O=Xj.makeFromTransform(O,He),l="derived";
else if("fold"in He)yb=O=new Gl(O,He),l="derived";else if("flatten"in He)yb=O=new Hl(O,He),l="derived";else if("pivot"in He)yb=O=new Nl(O,He),l="derived";else if("sample"in He)O=new Ml(O,He);else if("impute"in He)yb=O=Lk.makeFromTransform(O,He),l="derived";else if("density"in He)yb=O=new Il(O,He),l="derived";else if("quantile"in He)yb=O=new Kl(O,He),l="derived";else if("regression"in He)yb=O=new Ll(O,He),l="derived";else if("loess"in He)yb=O=new Jl(O,He),l="derived";else{jc("Ignoring an invalid transform: ".concat(Mg(He),
"."));continue}if(yb&&void 0!==l)for(const $f of null!==(vc=yb.producedFields())&&void 0!==vc?vc:[]){var vc;gb.set($f,l,!1)}}}Ob={};if(Qb(t)&&t.component.selection)for(var kd of le(t.component.selection)){vc=t.component.selection[kd];for(const He of vc.project.items)!He.channel&&1<w(He.field)&&(Ob[He.field]="flatten")}kd=zg(t);O=null!==(I=wi.makeWithAncestors(O,{},Object.assign({},Ob,kd),gb))&&void 0!==I?I:O;Qb(t)&&(O=bl.parseAll(O,t),O=rl.parseAll(O,t));if(Qb(t)||gc(t)){var Qc;if(!Q){var zd;O=null!==
(zd=Ij.makeFromEncoding(O,t))&&void 0!==zd?zd:O}O=null!==(Qc=Ef.makeFromEncoding(O,t))&&void 0!==Qc?Qc:O;O=al.parseAllForSortIndex(O,t)}Qc=t.getDataName(ye.Raw);I=new zf(O,Qc,ye.Raw,va);O=fa[Qc]=I;if(Qb(t)){var Id,Zd;if(Qc=rj.makeFromEncoding(O,t))O=Qc,Hh(t)&&(O=new mk(O));O=null!==(Id=Lk.makeFromEncoding(O,t))&&void 0!==Id?Id:O;O=null!==(Zd=Xj.makeFromEncoding(O,t))&&void 0!==Zd?Zd:O}if(Qb(t)){var te;O=null!==(te=ql.make(O,t))&&void 0!==te?te:O}Zd=t.getDataName(ye.Main);Id=new zf(O,Zd,ye.Main,va);
O=fa[Zd]=Id;if(Qb(t))for(var $d of hj(null!==(xe=t.component.selection)&&void 0!==xe?xe:{})){const [He,$f]=$d;var xe;xe=t.getName("lookup_".concat(He));t.component.data.outputNodes[xe]=$f.materialized=new zf(new $k(Id,t,{param:He}),xe,ye.Lookup,t.component.data.outputNodeRefCounts)}xe=null;if(gc(t)){var Te;$d=t.getName("facet");{xe=O;const {row:He,column:$f}=t.facet;if(He&&$f){Zd=null;for(Oe of[He,$f])if(Vb(Oe.sort)){const {field:ch,op:gg="min"}=Oe.sort;xe=Zd=new Kk(xe,{joinaggregate:[{op:gg,field:ch,
as:Lg(Oe,Oe.sort,{forAs:!0})}],groupby:[Ad(Oe)]})}var Oe=Zd}else Oe=null}O=null!==(Te=Oe)&&void 0!==Te?Te:O;xe=new Jk(O,t,$d,Id.getSource());fa[$d]=xe}return Object.assign({},t.component.data,{outputNodes:fa,outputNodeRefCounts:va,raw:I,main:Id,facetRoot:xe,ancestorParse:gb})}function mg(t){return qi.reduce((Q,l)=>{t.component.scales[l]&&(Q[l]=[$h(l,t)]);return Q},{})}function Bg(t,Q){if(t){if(t.length!==Q.length)return;const l=t.length;for(let I=0;I<l;I++){const O=t[I],fa=Q[I];if(!!O!==!!fa)return;
if(O&&fa){const va=O.getWithExplicit("orient"),ya=fa.getWithExplicit("orient");if(va.explicit&&ya.explicit&&va.value!==ya.value)return;t[I]=Mh(O,fa)}}}else return Q.map(l=>l.clone());return t}function Mh(t,Q){for(const l of cm){const I=Of(t.getWithExplicit(l),Q.getWithExplicit(l),l,"axis",(O,fa)=>{switch(l){case "title":return lb(O,fa);case "gridScale":return{explicit:O.explicit,value:B(O.value,fa.value)}}return re(O,fa,l,"axis")});t.setWithExplicit(l,I)}return t}function Dh(t,Q,l,I,O){if("disable"===
Q)return void 0!==l;l=l||{};switch(Q){case "titleAngle":case "labelAngle":return t===(yc(l.labelAngle)?l.labelAngle:da(l.labelAngle));case "values":return!!l.values;case "encode":return!!l.encoding||!!l.labelAngle;case "title":if(t===bc(I,O))return!0}return t===l[Q]}function $h(t,Q){var l,I,O,fa,va;let ya=Q.axis(t);const gb=new dm;var sb=Ie(Q.encoding[t]);const {mark:yb,config:Ob}=Q;var vc=(null===(l=ya)||void 0===l?void 0:l.orient)||(null===(I=Ob["x"===t?"axisX":"axisY"])||void 0===I?void 0:I.orient)||
(null===(O=Ob.axis)||void 0===O?void 0:O.orient)||("x"===t?"bottom":"left");I=Q.getScaleComponent(t).get("type");l=Ig(t,I,vc,Q.config);O=void 0!==ya?!ya:na("disable",Ob.style,null===(fa=ya)||void 0===fa?void 0:fa.style,l).configValue;gb.set("disable",O,void 0!==ya);if(O)return gb;ya=ya||{};fa=Na(sb,ya,t,Ob.style,l);sb={fieldOrDatumDef:sb,axis:ya,channel:t,model:Q,scaleType:I,orient:vc,labelAngle:fa,mark:yb,config:Ob};for(const Qc of cm)if(vc=Qc in em?em[Qc](sb):Qj[Qc]?ya[Qc]:void 0,fa=void 0!==vc,
I=Dh(vc,Qc,ya,Q,t),fa&&I)gb.set(Qc,vc,I);else{const {configValue:zd,configFrom:Id}=Qj[Qc]&&"values"!==Qc?na(Qc,Ob.style,ya.style,l):{};O=void 0!==zd;fa&&!O?gb.set(Qc,vc,I):("vgAxisConfig"!==Id||Em.has(Qc)&&O||eg(zd)||yc(zd))&&gb.set(Qc,zd,!1)}const kd=null!==(va=ya.encoding)&&void 0!==va?va:{};va=Ck.reduce((Qc,zd)=>{var Id;if(!gb.hasAxisPart(zd))return Qc;var Zd=sh(null!==(Id=kd[zd])&&void 0!==Id?Id:{},Q);if("labels"===zd){{var te;const {encoding:$d,config:xe}=Q;Id=null!==(te=Ie($d[t]))&&void 0!==
te?te:Ie($d[Da(t)]);te=Q.axis(t)||{};const {format:Te,formatType:Oe}=te;Zd=Uc(Oe)?Object.assign({},{text:oc({fieldOrDatumDef:Id,field:"datum.value",format:Te,formatType:Oe,config:xe})},Zd):Zd}}void 0===Zd||x(Zd)||(Qc[zd]={update:Zd});return Qc},{});x(va)||gb.set("encode",va,!!ya.encoding||void 0!==ya.labelAngle);return gb}function Oi(t){let {encoding:Q,size:l}=t;for(const I of qi)t=Ma(I),Rb(l[t])&&wd(Q[I])&&(delete l[t],jc(Kb(t)));return l}function Ii(t,Q,l){t=nc(t);var I=Rc("orient",t,l);t.orient=
jl(t.type,Q,I);void 0!==I&&I!==t.orient&&(I='Specified orient "'.concat(t.orient,'" overridden with "').concat(I,'".'),jc(I));if("bar"===t.type&&t.orient&&(I=Rc("cornerRadiusEnd",t,l),void 0!==I)){const fa="horizontal"===t.orient&&Q.x2||"vertical"===t.orient&&Q.y2?["cornerRadius"]:xk[t.orient];for(var O of fa)t[O]=I;void 0!==t.cornerRadiusEnd&&delete t.cornerRadiusEnd}void 0===Rc("opacity",t,l)&&(O=a([Oh,Sj,wj,nj],t.type)&&!Fg(Q)?.7:void 0,t.opacity=O);void 0===Rc("cursor",t,l)&&(Q=Q.href||t.href||
Rc("href",t,l)?"pointer":t.cursor,t.cursor=Q);return t}function Dj(t,Q,l){({graticule:l}=l);if(l)return!1;Q=id("filled",t,Q);t=t.type;return B(Q,t!==Oh&&t!==Ah&&t!==Tj)}function jl(t,Q,l){switch(t){case Oh:case wj:case nj:case Th:case Cj:case hi:return}const {x:I,y:O,x2:fa,y2:va}=Q;switch(t){case Gf:if(wc(I)&&(cb(I.bin)||wc(O)&&O.aggregate&&!I.aggregate))break;if(wc(O)&&(cb(O.bin)||wc(I)&&I.aggregate&&!O.aggregate))return"horizontal";if(va||fa){if(l)return l;if(!fa&&(wc(I)&&"quantitative"===I.type&&
!Wa(I.bin)||Fe(I)))return"horizontal";if(!va&&(wc(O)&&"quantitative"===O.type&&!Wa(O.bin)||Fe(O)))break}case Tj:if(!(!fa||wc(I)&&cb(I.bin)||!va||wc(O)&&cb(O.bin)))return;case Uj:if(va){if(wc(O)&&cb(O.bin))return"horizontal";break}else if(fa)if(wc(I)&&cb(I.bin))break;else return"horizontal";else if(t===Tj)if(I&&!O)break;else if(O&&!I)return"horizontal";case Ah:case Sj:Q=wd(I);const ya=wd(O);if(l)return l;if(Q&&!ya)return"tick"!==t?"horizontal":"vertical";if(!Q&&ya)return"tick"!==t?"vertical":"horizontal";
if(Q&&ya){l="temporal"===I.type;Q="temporal"===O.type;if(l&&!Q)return"tick"!==t?"vertical":"horizontal";if(!l&&Q)return"tick"!==t?"horizontal":"vertical";if(!I.aggregate&&O.aggregate)return"tick"!==t?"vertical":"horizontal";if(I.aggregate&&!O.aggregate)return"tick"!==t?"horizontal":"vertical"}else return}return"vertical"}function Wk(t,Q){var l=Object,I=l.assign,O=ih(t,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),fa=of("x",t,{defaultPos:"mid"}),
va=of("y",t,{defaultPos:"mid"}),ya=Cd("size",t),gb=Cd("angle",t);t=Q?{shape:{value:Q}}:Cd("shape",t);return I.call(l,{},O,fa,va,ya,gb,t)}function Yk(t){if(a([Ah,Uj,Pj],t.mark)){var Q=be(t.mark,t.encoding);if(0<Q.length)return Gk(t,Q)}else if(t.mark===Gf&&(Q=xj.some(l=>Rc(l,t.markDef,t.config)),t.stack&&!t.fieldDef("size")&&Q))return gj(t);return fj(t)}function Gk(t,Q){return[{name:t.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+t.requestDataName(ye.Main),data:t.requestDataName(ye.Main),
groupby:Q}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:fj(t,{fromPrefix:"faceted_path_"})}]}function gj(t){var Q;const [l]=fj(t,{fromPrefix:"stack_group_"}),I=t.scaleName(t.stack.fieldChannel),O=function(){return t.vgField(t.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var fa=(sb,yb)=>{yb=[O({prefix:"min",suffix:"start",expr:yb}),O({prefix:"max",suffix:"start",expr:yb}),O({prefix:"min",suffix:"end",expr:yb}),O({prefix:"max",
suffix:"end",expr:yb})];return"".concat(sb,"(").concat(yb.map(Ob=>"scale('".concat(I,"',").concat(Ob,")")).join(","),")")};let va;"x"===t.stack.fieldChannel?(fa=Object.assign({},k(l.encode.update,["y","yc","y2","height",...xj]),{x:{signal:fa("min","datum")},x2:{signal:fa("max","datum")},clip:{value:!0}}),va={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},l.encode.update=Object.assign({},f(l.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(fa=Object.assign({},k(l.encode.update,
["x","xc","x2","width"]),{y:{signal:fa("min","datum")},y2:{signal:fa("max","datum")},clip:{value:!0}}),va={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},l.encode.update=Object.assign({},f(l.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var ya of xj){var gb=id(ya,t.markDef,t.config);l.encode.update[ya]?(fa[ya]=l.encode.update[ya],delete l.encode.update[ya]):gb&&(fa[ya]=ac(gb));gb&&(l.encode.update[ya]={value:0})}ya=[];if(0<(null===(Q=t.stack.groupbyChannels)||
void 0===Q?void 0:Q.length))for(const sb of t.stack.groupbyChannels)Q=t.fieldDef(sb),(gb=Ad(Q))&&ya.push(gb),(null!==Q&&void 0!==Q&&Q.bin||null!==Q&&void 0!==Q&&Q.timeUnit)&&ya.push(Ad(Q,{binSuffix:"end"}));fa="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((sb,yb)=>{if(l.encode.update[yb])return Object.assign({},sb,{[yb]:l.encode.update[yb]});const Ob=id(yb,t.markDef,t.config);return void 0!==Ob?Object.assign({},sb,{[yb]:ac(Ob)}):
sb},fa);fa.stroke&&(fa.strokeForeground={value:!0},fa.strokeOffset={value:0});return[{type:"group",from:{facet:{data:t.requestDataName(ye.Main),name:"stack_group_"+t.requestDataName(ye.Main),groupby:ya,aggregate:{fields:[O({suffix:"start"}),O({suffix:"start"}),O({suffix:"end"}),O({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:fa},marks:[{type:"group",encode:{update:va},marks:[l]}]}]}function qk(t){const {encoding:Q,stack:l,mark:I,markDef:O,config:fa}=t;var va=Q.order;if(!(!n.isArray(va)&&
se(va)&&d(va.value)||!va&&d(Rc("order",O,fa)))){if((n.isArray(va)||wc(va))&&!l)return za(va,{expr:"datum"});if(Ia(I)){const gb="horizontal"===O.orient?"y":"x",sb=Q[gb];if(wc(sb)){va=sb.sort;if(n.isArray(va))return{field:Ad(sb,{prefix:gb,suffix:"sort_index",expr:"datum"})};if(Vb(va))return{field:Ad({aggregate:Fg(t.encoding)?va.op:void 0,field:va.field},{expr:"datum"})};if(va&&va.encoding)return t=t.fieldDef(va.encoding),{field:Ad(t,{expr:"datum"}),order:va.order};if(null!==va){var ya;return{field:Ad(sb,
{binSuffix:null!==(ya=t.stack)&&void 0!==ya&&ya.impute?"mid":void 0,expr:"datum"})}}}}}}function fj(t){let Q=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:l,markDef:I,encoding:O,config:fa}=t;var va=I.clip;var ya=t.getScaleComponent("x");var gb=t.getScaleComponent("y");ya=null!==ya&&void 0!==ya&&ya.get("selectionExtent")||null!==gb&&void 0!==gb&&gb.get("selectionExtent")?!0:void 0;gb=t.component.projection;va=B(va,ya,gb&&!gb.isFit?!0:void 0);ya=Ec(I);gb=O.key;const sb=
qk(t);var yb;if(t.component.selection){for(var Ob=yb=le(t.component.selection).length,vc=t.parent;vc&&0===Ob;)Ob=le(vc.component.selection).length,vc=vc.parent;yb=Ob?{interactive:0<yb||!!t.encoding.tooltip}:null}else yb=null;Ob=Rc("aria",I,fa);vc=tl[l].postEncodingTransform?tl[l].postEncodingTransform(t):null;return[Object.assign({},{name:t.getName("marks"),type:tl[l].vgMark},va?{clip:!0}:{},ya?{style:ya}:{},gb?{key:gb.field}:{},sb?{sort:sb}:{},yb?yb:{},!1===Ob?{aria:Ob}:{},{from:{data:Q.fromPrefix+
t.requestDataName(ye.Main)},encode:{update:tl[l].encodeEntry(t)}},vc?{transform:vc}:{})]}function rk(t,Q,l,I,O){if("facet"in t)return new ul(t,Q,l,O);if("layer"in t)return new fm(t,Q,l,I,O);if(Mf(t))return new gm(t,Q,l,I,O);if("vconcat"in t||"hconcat"in t||"concat"in t)return new Fm(t,Q,l,O);throw Error($b(t));}function Ok(t,Q){var l=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let I=3<arguments.length?arguments[3]:void 0;const O=t.config?wg(t.config):void 0;l=[].concat(t.assembleSelectionData([]),
ze(t.component.data,l));const fa=t.assembleProjections(),va=t.assembleTitle(),ya=t.assembleGroupStyle(),gb=t.assembleGroupEncodeEntry(!0);let sb=t.assembleLayoutSignals();sb=sb.filter(vc=>"width"!==vc.name&&"height"!==vc.name||void 0===vc.value?!0:(Q[vc.name]=+vc.value,!1));var yb=Object.assign({},Q);const Ob=Q.params;yb=(delete yb.params,yb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},t.description?{description:t.description}:{},yb,va?{title:va}:{},ya?{style:ya}:
{},gb?{encode:{update:gb}}:{},{data:l},0<fa.length?{projections:fa}:{},t.assembleGroup([...sb,...t.assembleSelectionTopLevelSignals([]),...Pa(Ob)]),O?{config:O}:{},I?{usermeta:I}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function l(Q){var I=isNaN(Q)?1:Number(Q);return I?Array.prototype.reduce.call(this,function(O,fa){return Array.isArray(fa)?O.push.apply(O,l.call(fa,I-1)):O.push(fa),O},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||
Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(Q){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var vj={exports:{}};(function(Q){var l=function(){function I(yb,Ob){return null!=Ob&&yb instanceof Ob}function O(yb,Ob,vc,kd,Qc){function zd($d,xe){if(null===$d)return null;if(0===xe||"object"!=typeof $d)return $d;if(I($d,ya))var Te=new ya;else if(I($d,gb))Te=new gb;else if(I($d,sb))Te=new sb(function(gg,fi){$d.then(function(Ki){gg(zd(Ki,xe-1))},
function(Ki){fi(zd(Ki,xe-1))})});else if(O.__isArray($d))Te=[];else if(O.__isRegExp($d))Te=new RegExp($d.source,va($d)),$d.lastIndex&&(Te.lastIndex=$d.lastIndex);else if(O.__isDate($d))Te=new Date($d.getTime());else{if(te&&y.isBuffer($d))return Te=y.allocUnsafe?y.allocUnsafe($d.length):new y($d.length),$d.copy(Te),Te;if(I($d,Error))Te=Object.create($d);else if("undefined"==typeof kd){var Oe=Object.getPrototypeOf($d);Te=Object.create(Oe)}else Te=Object.create(kd),Oe=kd}if(Ob){var He=Id.indexOf($d);
if(-1!=He)return Zd[He];Id.push($d);Zd.push(Te)}I($d,ya)&&$d.forEach(function(gg,fi){fi=zd(fi,xe-1);gg=zd(gg,xe-1);Te.set(fi,gg)});I($d,gb)&&$d.forEach(function(gg){gg=zd(gg,xe-1);Te.add(gg)});for(var $f in $d){var ch;Oe&&(ch=Object.getOwnPropertyDescriptor(Oe,$f));ch&&null==ch.set||(Te[$f]=zd($d[$f],xe-1))}if(Object.getOwnPropertySymbols)for(He=Object.getOwnPropertySymbols($d),$f=0;$f<He.length;$f++)if(ch=He[$f],Oe=Object.getOwnPropertyDescriptor($d,ch),!Oe||Oe.enumerable||Qc)Te[ch]=zd($d[ch],xe-
1),Oe.enumerable||Object.defineProperty(Te,ch,{enumerable:!1});if(Qc)for(He=Object.getOwnPropertyNames($d),$f=0;$f<He.length;$f++)ch=He[$f],Oe=Object.getOwnPropertyDescriptor($d,ch),Oe&&Oe.enumerable||(Te[ch]=zd($d[ch],xe-1),Object.defineProperty(Te,ch,{enumerable:!1}));return Te}"object"===typeof Ob&&(vc=Ob.depth,kd=Ob.prototype,Qc=Ob.includeNonEnumerable,Ob=Ob.circular);var Id=[],Zd=[],te="undefined"!=typeof y;"undefined"==typeof Ob&&(Ob=!0);"undefined"==typeof vc&&(vc=Infinity);return zd(yb,vc)}
function fa(yb){return Object.prototype.toString.call(yb)}function va(yb){var Ob="";yb.global&&(Ob+="g");yb.ignoreCase&&(Ob+="i");yb.multiline&&(Ob+="m");return Ob}try{var ya=Map}catch(yb){ya=function(){}}try{var gb=Set}catch(yb){gb=function(){}}try{var sb=Promise}catch(yb){sb=function(){}}O.clonePrototype=function(yb){if(null===yb)return null;var Ob=function(){};Ob.prototype=yb;return new Ob};O.__objToStr=fa;O.__isDate=function(yb){return"object"===typeof yb&&"[object Date]"===fa(yb)};O.__isArray=
function(yb){return"object"===typeof yb&&"[object Array]"===fa(yb)};O.__isRegExp=function(yb){return"object"===typeof yb&&"[object RegExp]"===fa(yb)};O.__getRegExpFlags=va;return O}();Q.exports&&(Q.exports=l)})(vj);var Ri=function(Q,l){l||(l={});"function"===typeof l&&(l={cmp:l});var I="boolean"===typeof l.cycles?l.cycles:!1,O=l.cmp&&function(va){return function(ya){return function(gb,sb){return va({key:gb,value:ya[gb]},{key:sb,value:ya[sb]})}}}(l.cmp),fa=[];return function gb(ya){ya&&ya.toJSON&&
"function"===typeof ya.toJSON&&(ya=ya.toJSON());if(void 0!==ya){if("number"==typeof ya)return isFinite(ya)?""+ya:"null";if("object"!==typeof ya)return JSON.stringify(ya);var sb;if(Array.isArray(ya)){var yb="[";for(sb=0;sb<ya.length;sb++)sb&&(yb+=","),yb+=gb(ya[sb])||"null";return yb+"]"}if(null===ya)return"null";if(-1!==fa.indexOf(ya)){if(I)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Ob=fa.push(ya)-1,vc=Object.keys(ya).sort(O&&O(ya));yb="";
for(sb=0;sb<vc.length;sb++){var kd=vc[sb],Qc=gb(ya[kd]);Qc&&(yb&&(yb+=","),yb+=JSON.stringify(kd)+":"+Qc)}fa.splice(Ob,1);return"{"+yb+"}"}}(Q)};const nh=function O(l,I){if(l===I)return!0;if(l&&I&&"object"==typeof l&&"object"==typeof I){if(l.constructor!==I.constructor)return!1;var fa;if(Array.isArray(l)){var va=l.length;if(va!=I.length)return!1;for(fa=va;0!==fa--;)if(!O(l[fa],I[fa]))return!1;return!0}if(l.constructor===RegExp)return l.source===I.source&&l.flags===I.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===
I.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===I.toString();var ya=Object.keys(l);va=ya.length;if(va!==Object.keys(I).length)return!1;for(fa=va;0!==fa--;)if(!Object.prototype.hasOwnProperty.call(I,ya[fa]))return!1;for(fa=va;0!==fa--;)if(va=ya[fa],!O(l[va],I[va]))return!1;return!0}return l!==l&&I!==I},qf=vj.exports;Set.prototype.toJSON=function(){return"Set(".concat([...this].map(l=>Ri(l)).join(","),")")};const Mg=Ri,le=Object.keys,zh=Object.values,hj=Object.entries;let sk=
42;const ck={theta:1,theta2:1,radius:1,radius2:1},Vk={longitude:1,longitude2:1,latitude:1,latitude2:1},kl=le(Vk),kk=Object.assign({},{x:1,y:1,x2:1,y2:1},ck,Vk,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),el={row:1,column:1,facet:1},gi=le(el),ak=Object.assign({},kk,el),fl=le(ak);var bk=Object.assign({},ak),gl=(delete bk.order,delete bk.detail,
delete bk.tooltip,bk),Rj=Object.assign({},gl);const Cl=(delete Rj.row,delete Rj.column,delete Rj.facet,Rj),$i="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),tk=le(kk);var Wh=Object.assign({},kk);const Hk=(delete Wh.x,delete Wh.y,delete Wh.x2,delete Wh.y2,delete Wh.xOffset,delete Wh.yOffset,delete Wh.latitude,delete Wh.longitude,delete Wh.latitude2,delete Wh.longitude2,delete Wh.theta,delete Wh.theta2,delete Wh.radius,delete Wh.radius2,Wh),ei=le(Hk),Tk={x:1,y:1},qi=le(Tk),ij={theta:1,radius:1},
jj=le(ij),yi={xOffset:1,yOffset:1};var ci=Object.assign({},Hk);const Pk=(delete ci.text,delete ci.tooltip,delete ci.href,delete ci.url,delete ci.description,delete ci.detail,delete ci.key,delete ci.order,ci),uk=le(Pk),zi=Object.assign({},Tk,ij,yi,Pk),yj=le(zi),Rk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Lj=Object.assign({},Rk);const Si=
(delete Lj.geoshape,Lj),ek={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},dk={count:1,min:1,max:1},yh=new Set(["count","valid","missing","distinct"]),Gi=new Set(["count","sum","distinct","valid","missing"]),Ti=new Set("mean average median q1 q3 min max".split(" ")),Ai=le({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,
stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,
cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Mj={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},xj=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],si=n.logger(n.Warn);let mj=si;const jh="january february march april may june july august september october november december".split(" "),di=jh.map(l=>l.substr(0,3)),Rh="sunday monday tuesday wednesday thursday friday saturday".split(" "),
vk=Rh.map(l=>l.substr(0,3)),Nj={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Oj=le(Nj),xl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},mi={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Qk={linear:"numeric",log:"numeric",
pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},hl={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},ri=new Set(["linear","log","pow","sqrt","symlog"]),ii=new Set([...ri,
"time","utc"]),zj=new Set(["quantile","quantize","threshold"]),il=new Set([...ii,...zj,"sequential","identity"]),yl=new Set(["ordinal","bin-ordinal","point","band"]);var Aj=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Al=(delete Aj.type,delete Aj.domain,delete Aj.range,delete Aj.rangeMax,delete Aj.rangeMin,
delete Aj.scheme,Aj),zl=le(Al),ji={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},fk=ji.arc,Uj=ji.area,Gf=ji.bar,hi=ji.image,Ah=ji.line,Oh=ji.point,Cj=ji.rect,Tj=ji.rule,Th=ji.text,Sj=ji.tick,Pj=ji.trail,wj=ji.circle,nj=ji.square,Bk=ji.geoshape,Uk=new Set(le(ji)),Sk="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
wk=le({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),Xe=le({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),xk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},yk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Hi=(l,I)=>{switch(I.fieldTitle){case "plain":return l.field;
case "functional":{const {aggregate:O,bin:fa,timeUnit:va,field:ya}=l;oa(O)?l="".concat(ya," for argmax(").concat(O.argmax,")"):Qa(O)?l="".concat(ya," for argmin(").concat(O.argmin,")"):(l=kf(va),l=(l=O||(null===l||void 0===l?void 0:l.unit)||(null===l||void 0===l?void 0:l.maxbins)&&"timeunit"||Wa(fa)&&"bin")?"".concat(l.toUpperCase(),"(").concat(ya,")"):ya)}return l;default:return Se(l,I)}};let Bi=Hi;const Vi={compatible:!0},Vj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",
vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},
gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Ck=["domain","grid","labels","ticks","title"],Xk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",
aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",
labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",
titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ui={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,
labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,
titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Qj=Object.assign({},Ui,{style:1,labelExpr:1,encoding:1}),Ak=le({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,
axisYQuantitative:1,axisYTemporal:1});class Bj{constructor(l,I){this.name=l;this.run=I}hasMatchingType(l){return Mf(l)?(l=l.mark,(Xb(l)?l.type:l)===this.name):!1}}const aj=new Bj("boxplot",Og),zk=new Bj("errorbar",ah),gk=new Bj("errorband",Kh),hk={};Ph("boxplot",Og,["box","median","outliers","rule","ticks"]);Ph("errorbar",ah,["ticks","rule"]);Ph("errorband",Kh,["band","borders"]);const Bl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength",
"unselectedOpacity"],dl={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},Mk={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",
labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},wl=le(dl),vl=le(Mk),ll=le({header:1,headerRow:1,headerColumn:1,headerFacet:1}),Wj="size shape fill stroke strokeDash strokeWidth opacity".split(" "),Dl=["background","padding"],Ik=le({align:1,bounds:1,center:1,columns:1,spacing:1}),D={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",
timeUnitBandSize:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,
rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",
fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},L="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),ca={text:11,guideLabel:10,
guideTitle:11,groupTitle:13,groupSubtitle:12},Sa={blue:L[0],orange:L[1],red:L[2],teal:L[3],green:L[4],yellow:L[5],purple:L[6],pink:L[7],brown:L[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},kb=[...Xe,...Ak,...ll,"background","padding","legend","lineBreak","scale","style","title","view"],Hb=new Set(["view",...Uk]),cc="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
uc=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class cd{map(l,I){return"facet"in l?this.mapFacet(l,I):"repeat"in l?this.mapRepeat(l,I):"hconcat"in l?this.mapHConcat(l,I):"vconcat"in l?this.mapVConcat(l,I):"concat"in l?this.mapConcat(l,I):this.mapLayerOrUnit(l,
I)}mapLayerOrUnit(l,I){if("layer"in l)return this.mapLayer(l,I);if(Mf(l))return this.mapUnit(l,I);throw Error($b(l));}mapLayer(l,I){return Object.assign({},l,{layer:l.layer.map(O=>this.mapLayerOrUnit(O,I))})}mapHConcat(l,I){return Object.assign({},l,{hconcat:l.hconcat.map(O=>this.map(O,I))})}mapVConcat(l,I){return Object.assign({},l,{vconcat:l.vconcat.map(O=>this.map(O,I))})}mapConcat(l,I){var O=Object.assign({},l);l=l.concat;O=(delete O.concat,O);return Object.assign({},O,{concat:l.map(fa=>this.map(fa,
I))})}mapFacet(l,I){return Object.assign({},l,{spec:this.map(l.spec,I)})}mapRepeat(l,I){return Object.assign({},l,{spec:this.map(l.spec,I)})}}const Jd={zero:1,center:1,normalize:1},Ve=new Set([fk,Gf,Uj,Tj,Oh,wj,nj,Ah,Th,Sj]),Tf=new Set([Gf,Uj,fk]);class ge{constructor(){zb(this,"name","path-overlay")}hasMatchingType(l,I){if(Mf(l)){const {mark:O,encoding:fa}=l;l=Xb(O)?O:{type:O};switch(l.type){case "line":case "rule":case "trail":return!!rg(l,I[l.type],fa);case "area":return!!rg(l,I[l.type],fa)||!!Yg(l,
I[l.type])}}return!1}run(l,I,O){var {config:fa}=I,va=Object.assign({},l),ya=l.params,gb=l.projection,sb=l.mark;l=l.encoding;va=(delete va.params,delete va.projection,delete va.mark,delete va.encoding,va);l=Db(l,fa);sb=Xb(sb)?sb:{type:sb};const yb=rg(sb,fa[sb.type],l),Ob="area"===sb.type&&Yg(sb,fa[sb.type]);var vc=Object,kd=vc.assign;var Qc=Object.assign({},"area"===sb.type&&void 0===sb.opacity&&void 0===sb.fillOpacity?{opacity:.7}:{},sb);Qc=Object.assign({},Qc);Qc=(delete Qc.point,delete Qc.line,
Qc);Qc=1<le(Qc).length?Qc:Qc.type;ya=[kd.call(vc,{},ya?{params:ya}:{},{mark:Qc,encoding:f(l,["shape"])})];vc=Rg(sb,l);kd=l;if(vc){const {fieldChannel:zd,offset:Id}=vc;kd=Object.assign({},l,{[zd]:Object.assign({},l[zd],Id?{stack:Id}:{})})}Ob&&ya.push(Object.assign({},gb?{projection:gb}:{},{mark:Object.assign({},{type:"line"},k(sb,["clip","interpolate","tension","tooltip"]),Ob),encoding:kd}));yb&&ya.push(Object.assign({},gb?{projection:gb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},
k(sb,["clip","tooltip"]),yb),encoding:kd}));gb=Object.assign({},va,{layer:ya});va=Object;ya=va.assign;for(const zd of["line","area","rule","trail"])fa[zd]&&(fa=Object.assign({},fa,{[zd]:f(fa[zd],["point","line"])}));return O(gb,ya.call(va,{},I,{config:fa}))}}class lf{constructor(){zb(this,"name","RuleForRangedLine")}hasMatchingType(l){if(Mf(l)){const {encoding:I,mark:O}=l;if("line"===O||Xb(O)&&"line"===O.type)for(const fa of $i)if(l=La(fa),l=I[l],I[fa]&&(wc(l)&&!cb(l.bin)||ld(l)))return!0}return!1}run(l,
I,O){const {encoding:fa,mark:va}=l;var ya=!!fa.x2;ya="Line mark is for continuous lines and thus cannot be used with ".concat(ya&&fa.y2?"x2 and y2":ya?"x2":"y2",". We will use the rule mark (line segments) instead.");jc(ya);return O(Object.assign({},l,{mark:n.isObject(va)?Object.assign({},va,{type:"rule"}):"rule"}),I)}}class Pf extends cd{constructor(){super(...arguments);zb(this,"nonFacetUnitNormalizers",[aj,zk,gk,new ge,new lf])}map(l,I){if(Mf(l)){const O=jg(l.encoding,"row"),fa=jg(l.encoding,"column"),
va=jg(l.encoding,"facet");if(O||fa||va)return this.mapFacetedUnit(l,I)}return super.map(l,I)}mapUnit(l,I){const {parentEncoding:O,parentProjection:fa}=I;var va=jf(l.encoding,I.repeater);l=Object.assign({},l,va?{encoding:va}:{});if(O||fa)return this.mapUnitWithParentEncodingOrProjection(l,I);va=this.mapLayerOrUnit.bind(this);for(const ya of this.nonFacetUnitNormalizers)if(ya.hasMatchingType(l,I.config))return ya.run(l,I,va);return l}mapRepeat(l,I){return!n.isArray(l.repeat)&&l.repeat.layer?this.mapLayerRepeat(l,
I):this.mapNonLayerRepeat(l,I)}mapLayerRepeat(l,I){var O=Object.assign({},l);const fa=l.repeat,va=l.spec;O=(delete O.repeat,delete O.spec,O);const {row:ya,column:gb,layer:sb}=fa,{repeater:yb={},repeaterPrefix:Ob=""}=I;return ya||gb?this.mapRepeat(Object.assign({},l,{repeat:Object.assign({},ya?{row:ya}:{},gb?{column:gb}:{}),spec:{repeat:{layer:sb},spec:va}}),I):Object.assign({},O,{layer:sb.map(vc=>{var kd=Object.assign({},yb,{layer:vc});vc="".concat((va.name||"")+Ob,"child__layer_").concat(H(vc));
kd=this.mapLayerOrUnit(va,Object.assign({},I,{repeater:kd,repeaterPrefix:vc}));kd.name=vc;return kd})})}mapNonLayerRepeat(l,I){var O,fa=l,va=Object.assign({},fa);const ya=fa.repeat,gb=fa.spec;fa=fa.data;va=(delete va.repeat,delete va.spec,delete va.data,va);!n.isArray(ya)&&l.columns&&(l=f(l,["columns"]),jc(ae("repeat")));const sb=[],{repeater:yb={},repeaterPrefix:Ob=""}=I,vc=!n.isArray(ya)&&ya.row||[yb?yb.row:null],kd=!n.isArray(ya)&&ya.column||[yb?yb.column:null];var Qc=n.isArray(ya)&&ya||[yb?yb.repeat:
null];for(const Id of Qc)for(const Zd of vc)for(const te of kd){var zd={repeat:Id,row:Zd,column:te,layer:yb.layer};Qc=(gb.name||"")+Ob+"child__"+(n.isArray(ya)?"".concat(H(Id)):(ya.row?"row_".concat(H(Zd)):"")+(ya.column?"column_".concat(H(te)):""));zd=this.map(gb,Object.assign({},I,{repeater:zd,repeaterPrefix:Qc}));zd.name=Qc;sb.push(f(zd,["data"]))}l=n.isArray(ya)?l.columns:ya.column?ya.column.length:1;return Object.assign({},{data:null!==(O=gb.data)&&void 0!==O?O:fa,align:"all"},va,{columns:l,
concat:sb})}mapFacet(l,I){const {facet:O}=l;Ka(O)&&l.columns&&(l=f(l,["columns"]),jc(ae("facet")));return super.mapFacet(l,I)}mapUnitWithParentEncodingOrProjection(l,I){const {encoding:O,projection:fa}=l,{parentEncoding:va,parentProjection:ya,config:gb}=I,sb=ki({parentProjection:ya,projection:fa});I=Eh({parentEncoding:va,encoding:jf(O,I.repeater)});return this.mapUnit(Object.assign({},l,sb?{projection:sb}:{},I?{encoding:I}:{}),{config:gb})}mapFacetedUnit(l,I){var O=l.encoding,fa=Object.assign({},
O),va=O.row;const ya=O.column;O=O.facet;const gb=(delete fa.row,delete fa.column,delete fa.facet,fa);var sb=Object.assign({},l);fa=l.mark;const yb=l.width,Ob=l.projection,vc=l.height,kd=l.view;l=l.params;sb=(delete sb.mark,delete sb.width,delete sb.projection,delete sb.height,delete sb.view,delete sb.params,delete sb.encoding,sb);const {facetMapping:Qc,layout:zd}=this.getFacetMappingAndLayout({row:va,column:ya,facet:O},I);va=jf(gb,I.repeater);return this.mapFacet(Object.assign({},sb,zd,{facet:Qc,
spec:Object.assign({},yb?{width:yb}:{},vc?{height:vc}:{},kd?{view:kd}:{},Ob?{projection:Ob}:{},{mark:fa,encoding:va},l?{params:l}:{})}),I)}getFacetMappingAndLayout(l,I){const {row:O,column:fa,facet:va}=l;if(O||fa){va&&(I=[...(O?["row"]:[]),...(fa?["column"]:[])],I="Facet encoding dropped as ".concat(I.join(" and ")," ").concat(1<I.length?"are":"is"," also specified."),jc(I));I={};var ya={};for(var gb of["row","column"]){const vc=l[gb];if(vc){var sb=Object.assign({},vc);sb=(delete sb.align,delete sb.center,
delete sb.spacing,delete sb.columns,sb);I[gb]=sb;for(var yb of["align","center","spacing"])if(void 0!==vc[yb]){var Ob;null!==(Ob=ya[yb])&&void 0!==Ob?Ob:ya[yb]={};ya[yb][gb]=vc[yb]}}}return{facetMapping:I,layout:ya}}ya=Object.assign({},va);l=va.align;Ob=va.center;gb=va.spacing;yb=va.columns;ya=(delete ya.align,delete ya.center,delete ya.spacing,delete ya.columns,ya);I=(I=I.repeater)?Ka(ya)?bh(ya,I):Uf(ya,I):ya;return{facetMapping:I,layout:Object.assign({},l?{align:l}:{},Ob?{center:Ob}:{},gb?{spacing:gb}:
{},yb?{columns:yb}:{})}}mapLayer(l,I){var O=Object.assign({},I),fa=I.parentEncoding;I=I.parentProjection;O=(delete O.parentEncoding,delete O.parentProjection,O);var va=Object.assign({},l);const ya=l.encoding;l=l.projection;va=(delete va.encoding,delete va.projection,va);fa=Object.assign({},O,{parentEncoding:Eh({parentEncoding:fa,encoding:ya,layer:!0}),parentProjection:ki({parentProjection:I,projection:l})});return super.mapLayer(va,fa)}}class Ff extends cd{map(l,I){var O,fa;null!==(O=I.emptySelections)&&
void 0!==O?O:I.emptySelections={};null!==(fa=I.selectionPredicates)&&void 0!==fa?fa:I.selectionPredicates={};l=Sh(l,I);return super.map(l,I)}mapLayerOrUnit(l,I){l=Sh(l,I);if(l.encoding){const O={};for(const fa of hj(l.encoding)){const [va,ya]=fa;O[va]=ef(ya,I)}l=Object.assign({},l,{encoding:O})}return super.mapLayerOrUnit(l,I)}mapUnit(l,I){var O=Object.assign({},l);const fa=l.selection;O=(delete O.selection,O);return fa?Object.assign({},O,{params:hj(fa).map(va=>{let [ya,gb]=va;var sb=Object.assign({},
gb);va=gb.init;const yb=gb.bind,Ob=gb.empty;sb=(delete sb.init,delete sb.bind,delete sb.empty,sb);"single"===sb.type?(sb.type="point",sb.toggle=!1):"multi"===sb.type&&(sb.type="point");I.emptySelections[ya]="none"!==Ob;for(const kd of zh(null!==(vc=I.selectionPredicates[ya])&&void 0!==vc?vc:{})){var vc;kd.empty="none"!==Ob}return{name:ya,value:va,select:sb,bind:yb}})}):l}}class vd extends cd{map(l,I){var O;const fa=null!==(O=I.selections)&&void 0!==O?O:[];if(l.params&&!Mf(l)){O=[];for(const va of l.params)va.select?
fa.push(va):O.push(va);l.params=O}I.selections=fa;return super.map(l,sf(l,I))}mapUnit(l,I){var O;const fa=I.selections;if(!fa||!fa.length)return l;const va=(null!==(O=I.path)&&void 0!==O?O:[]).concat(l.name);I=[];for(const ya of fa)if(ya.views&&ya.views.length)for(const gb of ya.views)(n.isString(gb)&&(gb===l.name||0<=va.indexOf(gb))||n.isArray(gb)&&gb.map(sb=>va.indexOf(sb)).every((sb,yb,Ob)=>-1!==sb&&(0===yb||sb>Ob[yb-1])))&&I.push(ya);else I.push(ya);I.length&&(l.params=I);return l}}for(const l of["mapFacet",
"mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const I=vd.prototype[l];vd.prototype[l]=function(O,fa){return I.call(this,O,sf(O,fa))}}const jd=new Pf,rd=new Ff,Wd=new vd;class Xd{constructor(){let l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=l}clone(){return new Xd(qf(this.explicit),qf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(l){return B(this.explicit[l],
this.implicit[l])}getWithExplicit(l){return void 0!==this.explicit[l]?{explicit:!0,value:this.explicit[l]}:void 0!==this.implicit[l]?{explicit:!1,value:this.implicit[l]}:{explicit:!1,value:void 0}}setWithExplicit(l,I){let {value:O,explicit:fa}=I;void 0!==O&&this.set(l,O,fa)}set(l,I,O){delete this[O?"implicit":"explicit"][l];this[O?"explicit":"implicit"][l]=I;return this}copyKeyFromSplit(l,I){let {explicit:O,implicit:fa}=I;void 0!==O[l]?this.set(l,O[l],!0):void 0!==fa[l]&&this.set(l,fa[l],!1)}copyKeyFromObject(l,
I){void 0!==I[l]&&this.set(l,I[l],!0)}copyAll(l){for(const I of le(l.combine())){const O=l.getWithExplicit(I);this.setWithExplicit(I,O)}}}class Xf extends Xd{constructor(){let l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(l,I);this.explicit=l;this.implicit=I;this.parseNothing=O}clone(){const l=super.clone();l.parseNothing=this.parseNothing;return l}}let ye;(function(l){l[l.Raw=
0]="Raw";l[l.Main=1]="Main";l[l.Row=2]="Row";l[l.Column=3]="Column";l[l.Lookup=4]="Lookup"})(ye||(ye={}));class Re{constructor(l,I){this.debugName=I;zb(this,"_children",[]);zb(this,"_parent",null);zb(this,"_hash",void 0);l&&(this.parent=l)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(l){(this._parent=l)&&l.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(l,I){this._children.includes(l)?jc("Attempt to add the same child twice."):
void 0!==I?this._children.splice(I,0,l):this._children.push(l)}removeChild(l){l=this._children.indexOf(l);this._children.splice(l,1);return l}remove(){let l=this._parent.removeChild(this);for(const I of this._children)I._parent=this._parent,this._parent.addChild(I,l++)}insertAsParentOf(l){const I=l.parent;I.removeChild(this);this.parent=I;l.parent=this}swapWithParent(){const l=this._parent,I=l.parent;for(const O of this._children)O.parent=l;this._children=[];l.removeChild(this);l.parent.removeChild(l);
this.parent=I;l.parent=this}}class zf extends Re{clone(){const l=new this.constructor;l.debugName="clone_".concat(this.debugName);l._source=this._source;l._name="clone_".concat(this._name);l.type=this.type;l.refCounts=this.refCounts;l.refCounts[l._name]=0;return l}constructor(l,I,O,fa){super(l,I);this.type=O;this.refCounts=fa;zb(this,"_source",void 0);zb(this,"_name",void 0);this._source=this._name=I;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(K()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(l){this._source=l}}class Ef extends Re{clone(){return new Ef(null,qf(this.formula))}constructor(l,I){super(l);this.formula=I}static makeFromEncoding(l,I){I=I.reduceFieldDef((O,fa)=>{const {field:va,timeUnit:ya}=fa;ya&&(fa=Ad(fa,{forAs:!0}),O[e({as:fa,field:va,timeUnit:ya})]={as:fa,field:va,timeUnit:ya});return O},{});
return x(I)?null:new Ef(l,I)}static makeFromTransform(l,I){var O=Object.assign({},I);I=Object.assign({},O);O=O.timeUnit;I=(delete I.timeUnit,I);O=kf(O);I=Object.assign({},I,{timeUnit:O});return new Ef(l,{[e(I)]:I})}merge(l){this.formula=Object.assign({},this.formula);for(const I in l.formula)this.formula[I]||(this.formula[I]=l.formula[I]);for(const I of l.children)l.removeChild(I),I.parent=this;l.remove()}removeFormulas(l){const I={};for(const O of hj(this.formula)){const [fa,va]=O;l.has(va.as)||
(I[fa]=va)}this.formula=I}producedFields(){return new Set(zh(this.formula).map(l=>l.as))}dependentFields(){return new Set(zh(this.formula).map(l=>l.field))}hash(){return"TimeUnit ".concat(e(this.formula))}assemble(){const l=[];for(const fa of zh(this.formula)){const {field:va,as:ya,timeUnit:gb}=fa;var I=kf(gb),O=Object.assign({},I);const sb=I.unit;I=I.utc;O=(delete O.unit,delete O.utc,O);l.push(Object.assign({},{field:W(va),type:"timeunit"},sb?{units:ue(sb)}:{},I?{timezone:"utc"}:{},O,{as:[ya,"".concat(ya,
"_end")]}))}return l}}class kj{constructor(){zb(this,"hasChannel",void 0);zb(this,"hasField",void 0);zb(this,"timeUnit",void 0);zb(this,"items",void 0);for(var l=arguments.length,I=Array(l),O=0;O<l;O++)I[O]=arguments[O];this.items=I;this.hasChannel={};this.hasField={}}}const lj={defined:l=>"interval"===l.type&&"global"===l.resolve&&l.bind&&"scales"===l.bind,parse:(l,I)=>{const O=I.scales=[];for(const va of I.project.items){var fa=va.channel;if(!zi[fa])continue;const ya=(fa=l.getScaleComponent(fa))?
fa.get("type"):void 0;fa&&Qd(ya)?(fa.set("selectionExtent",{param:I.name,field:va.field},!0),O.push(va)):jc("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(l,I,O)=>{const fa=I.scales.filter(ya=>0===O.filter(gb=>gb.name===ya.signals.data).length);if(!l.parent||xa(l)||0===fa.length)return O;l=O.filter(ya=>ya.name===I.name)[0];let va=l.update;if(0<=va.indexOf("vlSelectionResolve"))l.update="{".concat(fa.map(ya=>"".concat(n.stringValue(W(ya.field)),
": ").concat(ya.signals.data)).join(", "),"}");else{for(const ya of fa){const gb="".concat(n.stringValue(W(ya.field)),": ").concat(ya.signals.data);va.includes(gb)||(va="".concat(va.substring(0,va.length-1),", ").concat(gb,"}"))}l.update=va}return O.concat(fa.map(ya=>({name:ya.signals.data})))},signals:(l,I,O)=>{if(l.parent&&!xa(l))for(const fa of I.scales)l=O.filter(va=>va.name===fa.signals.data)[0],l.push="outer",delete l.value,delete l.update;return O}},mm={left:"x",center:"xc",right:"x2"},nm=
{top:"y",middle:"yc",bottom:"y2"},om=new Set(["aria","width","height"]),hm={defined:l=>"point"===l.type&&l.nearest,parse:(l,I)=>{if(I.events)for(const O of I.events)O.markname=l.getName("voronoi")},marks:(l,I,O)=>{const {x:fa,y:va}=I.project.hasChannel;I=l.mark;if(Ia(I))return jc('The "nearest" transform is not supported for '.concat(I," marks.")),O;I={name:l.getName("voronoi"),type:"path",interactive:!0,from:{data:l.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},
stroke:{value:"transparent"},isVoronoi:{value:!0}},$c(l,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:fa||!va?"datum.datum.x || 0":"0"},y:{expr:va||!fa?"datum.datum.y || 0":"0"},size:[l.getSizeSignalRef("width"),l.getSizeSignalRef("height")]}]};let ya=0,gb=!1;O.forEach((sb,yb)=>{var Ob;sb=null!==(Ob=sb.name)&&void 0!==Ob?Ob:"";sb===l.component.mark[0].name?ya=yb:0<=sb.indexOf("voronoi")&&(gb=!0)});gb||O.splice(ya+1,0,I);return O}},im={defined:l=>"point"===l.type&&"global"===l.resolve&&l.bind&&
"scales"!==l.bind&&!N(l.bind),parse:(l,I,O)=>li(I,O),topLevelSignals:(l,I,O)=>{const fa=I.name;l=I.project;const va=I.bind,ya=I.init&&I.init[0],gb=hm.defined(I)?"(item().isVoronoi ? datum.datum : datum)":"datum";l.items.forEach((sb,yb)=>{const Ob=H("".concat(fa,"_").concat(sb.field));if(!O.filter(Qc=>Qc.name===Ob).length){var vc,kd;O.unshift(Object.assign({},{name:Ob},ya?{init:Zf(ya[yb])}:{value:null},{on:I.events?[{events:I.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(gb,
"[").concat(n.stringValue(sb.field),"] : null")}]:[],bind:null!==(vc=null!==(kd=va[sb.field])&&void 0!==kd?kd:va[sb.channel])&&void 0!==vc?vc:va}))}});return O},signals:(l,I,O)=>{const fa=I.name;var va=I.project;l=O.filter(gb=>gb.name===fa+"_tuple")[0];I=fa+"_tuple_fields";va=va.items.map(gb=>H("".concat(fa,"_").concat(gb.field)));const ya=va.map(gb=>"".concat(gb," !\x3d\x3d null")).join(" \x26\x26 ");va.length&&(l.update="".concat(ya," ? {fields: ").concat(I,", values: [").concat(va.join(", "),"]} : null"));
delete l.value;delete l.on;return O}},jm={defined:l=>"point"===l.type&&!!l.toggle,signals:(l,I,O)=>O.concat({name:I.name+"_toggle",value:!1,on:[{events:I.events,update:I.toggle}]}),modifyExpr:(l,I)=>{const O=I.name+"_tuple",fa=I.name+"_toggle";return"".concat(fa," ? null : ").concat(O,", ")+("global"===I.resolve?"".concat(fa," ? null : true, "):"".concat(fa," ? null : {unit: ").concat(Ch(l),"}, "))+"".concat(fa," ? ").concat(O," : null")}},Wl={defined:l=>{const I="global"===l.resolve&&l.bind&&N(l.bind);
l=1===l.project.items.length&&"_vgsid_"!==l.project.items[0].field;I&&!l&&jc("Legend bindings are only supported for selections over an individual field or encoding channel.");return I&&l},parse:(l,I,O)=>{l=qf(O);l.select=n.isString(l.select)?{type:l.select,toggle:I.toggle}:Object.assign({},l.select,{toggle:I.toggle});li(I,l);if(n.isObject(O.select)&&(O.select.on||O.select.clear))for(const va of I.events){var fa;va.filter=n.array(null!==(fa=va.filter)&&void 0!==fa?fa:[]);va.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||
va.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}O=ia(I.bind)?I.bind.legend:"click";O=n.isString(O)?n.parseSelector(O,"view"):n.array(O);I.bind={legend:{merge:O}}},topLevelSignals:(l,I,O)=>{l=I.name;const fa=ia(I.bind)&&I.bind.legend,va=gb=>sb=>{sb=qf(sb);sb.markname=gb;return sb};for(const gb of I.project.items){if(!gb.hasLegend)continue;var ya="".concat(H(gb.field),"_legend");const sb="".concat(l,"_").concat(ya);0===O.filter(yb=>yb.name===sb).length&&(ya=fa.merge.map(va("".concat(ya,
"_symbols"))).concat(fa.merge.map(va("".concat(ya,"_labels")))).concat(fa.merge.map(va("".concat(ya,"_entries")))),O.unshift(Object.assign({},{name:sb},I.init?{}:{value:null},{on:[{events:ya,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:fa.merge,update:"!event.item || !datum ? null : ".concat(sb),force:!0}]})))}return O},signals:(l,I,O)=>{const fa=I.name;var va=I.project;l=O.find(sb=>sb.name===fa+"_tuple");var ya=fa+"_tuple_fields";va=va.items.filter(sb=>sb.hasLegend).map(sb=>
H("".concat(fa,"_").concat(H(sb.field),"_legend")));const gb=va.map(sb=>"".concat(sb," !\x3d\x3d null")).join(" \x26\x26 ");ya="".concat(gb," ? {fields: ").concat(ya,", values: [").concat(va.join(", "),"]} : null");I.events&&0<va.length?l.on.push({events:va.map(sb=>({signal:sb})),update:ya}):0<va.length&&(l.update=ya,delete l.value,delete l.on);l=O.find(sb=>sb.name===fa+"_toggle");ya=ia(I.bind)&&I.bind.legend;l&&(I.events?l.on.push(Object.assign({},l.on[0],{events:ya})):l.on[0].events=ya);return O}},
nl=[{defined:l=>"point"===l.type,signals:(l,I,O)=>{var fa;const va=I.name;var ya=va+"_tuple_fields";const gb=I.project.items.map(yb=>{const Ob=l.fieldDef(yb.channel);return null!==Ob&&void 0!==Ob&&Ob.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(l.vgField(yb.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(l.vgField(yb.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(n.stringValue(yb.field),
"]")}).join(", ");ya="unit: ".concat(Ch(l),", fields: ").concat(ya,", values");I=I.events;const sb=zh(null!==(fa=l.component.selection)&&void 0!==fa?fa:{}).reduce((yb,Ob)=>"interval"===Ob.type?yb.concat(Ob.name+"_brush"):yb,[]).map(yb=>"indexof(item().mark.name, '".concat(yb,"') \x3c 0")).join(" \x26\x26 ");fa="datum \x26\x26 item().mark.marktype !\x3d\x3d 'group'".concat(sb?" \x26\x26 ".concat(sb):"");return O.concat([{name:va+"_tuple",on:I?[{events:I,update:"".concat(fa," ? {").concat(ya,": [").concat(gb,
"]} : null"),force:!0}]:[]}])}},{defined:l=>"interval"===l.type,signals:(l,I,O)=>{const fa=I.name;var va=fa+"_tuple_fields";const ya=lj.defined(I),gb=I.init?I.init[0]:null,sb=[],yb=[];if(I.translate&&!ya){const Ob="!event.item || event.item.mark.name !\x3d\x3d ".concat(n.stringValue(fa+"_brush"));qb(I,(vc,kd)=>{var Qc,zd;kd=n.array(null!==(zd=(Qc=kd.between[0]).filter)&&void 0!==zd?zd:Qc.filter=[]);kd.includes(Ob)||kd.push(Ob);return vc})}I.project.items.forEach((Ob,vc)=>{const kd=Ob.channel;if("x"!==
kd&&"y"!==kd)jc("Interval selections only support x and y encoding channels.");else{vc=Ra(l,I,Ob,gb?gb[vc]:null);var Qc=Ob.signals.data;Ob=Ob.signals.visual;var zd=n.stringValue(l.scaleName(kd)),Id=l.getScaleComponent(kd).get("type");Id=Qd(Id)?"+":"";O.push(...vc);sb.push(Qc);yb.push({scaleName:l.scaleName(kd),expr:"(!isArray(".concat(Qc,") || ")+"(".concat(Id,"invert(").concat(zd,", ").concat(Ob,")[0] \x3d\x3d\x3d ").concat(Id).concat(Qc,"[0] \x26\x26 ")+"".concat(Id,"invert(").concat(zd,", ").concat(Ob,
")[1] \x3d\x3d\x3d ").concat(Id).concat(Qc,"[1]))")})}});!ya&&yb.length&&O.push({name:fa+"_scale_trigger",value:{},on:[{events:yb.map(Ob=>({scale:Ob.scaleName})),update:"".concat(yb.map(Ob=>Ob.expr).join(" \x26\x26 ")," ? ").concat(fa+"_scale_trigger"," : {}")}]});va="unit: ".concat(Ch(l),", fields: ").concat(va,", values");return O.concat(Object.assign({},{name:fa+"_tuple"},gb?{init:"{".concat(va,": ").concat(Zf(gb),"}")}:{},sb.length?{on:[{events:[{signal:sb.join(" || ")}],update:"".concat(sb.join(" \x26\x26 "),
" ? {").concat(va,": [").concat(sb,"]} : null")}]}:{}))},marks:(l,I,O)=>{const fa=I.name,{x:va,y:ya}=I.project.hasChannel,gb=null===va||void 0===va?void 0:va.signals.visual,sb=null===ya||void 0===ya?void 0:ya.signals.visual;var yb="data(".concat(n.stringValue(I.name+"_store"),")");if(lj.defined(I)||!va&&!ya)return O;const Ob={x:void 0!==va?{signal:"".concat(gb,"[0]")}:{value:0},y:void 0!==ya?{signal:"".concat(sb,"[0]")}:{value:0},x2:void 0!==va?{signal:"".concat(gb,"[1]")}:{field:{group:"width"}},
y2:void 0!==ya?{signal:"".concat(sb,"[1]")}:{field:{group:"height"}}};if("global"===I.resolve)for(var vc of le(Ob))Ob[vc]=[Object.assign({},{test:"".concat(yb,".length \x26\x26 ").concat(yb,"[0].unit \x3d\x3d\x3d ").concat(Ch(l))},Ob[vc]),{value:0}];vc=I.mark;yb=Object.assign({},vc);l=vc.fill;I=vc.fillOpacity;vc=vc.cursor;const kd=(delete yb.fill,delete yb.fillOpacity,delete yb.cursor,yb);yb=le(kd).reduce((Qc,zd)=>{Qc[zd]=[{test:[void 0!==va&&"".concat(gb,"[0] !\x3d\x3d ").concat(gb,"[1]"),void 0!==
ya&&"".concat(sb,"[0] !\x3d\x3d ").concat(sb,"[1]")].filter(Id=>Id).join(" \x26\x26 "),value:kd[zd]},{value:null}];return Qc},{});return[{name:"".concat(fa+"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:l},fillOpacity:{value:I}},update:Ob}},...O,{name:fa+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},vc?{cursor:{value:vc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Ob,yb)}}]}},{defined:()=>!0,parse:(l,I,O)=>{var fa;const va=I.name,ya=null!==(fa=I.project)&&
void 0!==fa?fa:I.project=new kj,gb={};fa={};const sb=new Set,yb=($d,xe)=>{$d="visual"===xe?$d.channel:$d.field;let Te=H("".concat(va,"_").concat($d));for(let Oe=1;sb.has(Te);Oe++)Te=H("".concat(va,"_").concat($d,"_").concat(Oe));sb.add(Te);return{[xe]:Te}},Ob=I.type,vc=l.config.selection[Ob],kd=void 0!==O.value?n.array(O.value):null;let {fields:Qc,encodings:zd}=n.isObject(O.select)?O.select:{};if(!Qc&&!zd&&kd)for(var Id of kd)if(n.isObject(Id))for(const $d of le(Id))Cl[$d]?(zd||(zd=[])).push($d):
"interval"===Ob?(jc('Interval selections should be initialized using "x" and/or "y" keys.'),zd=vc.encodings):(Qc||(Qc=[])).push($d);Qc||zd||(zd=vc.encodings,"fields"in vc&&(Qc=vc.fields));for(const $d of null!==(Zd=zd)&&void 0!==Zd?Zd:[]){var Zd;(Zd=l.fieldDef($d))?(O=Zd.field,Zd.aggregate?jc(Kd($d,Zd.aggregate)):O?(Zd.timeUnit&&(O=l.vgField($d),Id={timeUnit:Zd.timeUnit,as:O,field:Zd.field},fa[e(Id)]=Id),gb[O]||(Id="E","interval"===Ob?(Zd=l.getScaleComponent($d).get("type"),Qd(Zd)&&(Id="R")):Zd.bin&&
(Id="R-RE"),Zd={field:O,channel:$d,type:Id},Zd.signals=Object.assign({},yb(Zd,"data"),yb(Zd,"visual")),ya.items.push(gb[O]=Zd),ya.hasField[O]=ya.hasChannel[$d]=gb[O])):jc(sd($d))):jc(sd($d))}for(const $d of null!==(te=Qc)&&void 0!==te?te:[]){var te;ya.hasField[$d]||(l={type:"E",field:$d},l.signals=Object.assign({},yb(l,"data")),ya.items.push(l),ya.hasField[$d]=l)}kd&&(I.init=kd.map($d=>ya.items.map(xe=>n.isObject($d)?void 0!==$d[xe.channel]?$d[xe.channel]:$d[xe.field]:$d)));x(fa)||(ya.timeUnit=new Ef(null,
fa))},signals:(l,I,O)=>{const fa=I.name+"_tuple_fields";return 0<O.filter(va=>va.name===fa).length?O:O.concat({name:fa,value:I.project.items.map(va=>{va=Object.assign({},va);va=(delete va.signals,delete va.hasLegend,va);va.field=W(va.field);return va})})}},jm,im,lj,Wl,{defined:l=>void 0!==l.clear&&!1!==l.clear,parse:(l,I)=>{I.clear&&(I.clear=n.isString(I.clear)?n.parseSelector(I.clear,"view"):I.clear)},topLevelSignals:(l,I,O)=>{if(im.defined(I))for(const fa of I.project.items)l=O.findIndex(va=>va.name===
H("".concat(I.name,"_").concat(fa.field))),-1!==l&&O[l].on.push({events:I.clear,update:"null"});return O},signals:(l,I,O)=>{function fa(va,ya){-1!==va&&O[va].on&&O[va].on.push({events:I.clear,update:ya})}if("interval"===I.type)for(const va of I.project.items)l=O.findIndex(ya=>ya.name===va.signals.visual),fa(l,"[0, 0]"),-1===l&&(l=O.findIndex(ya=>ya.name===va.signals.data),fa(l,"null"));else l=O.findIndex(va=>va.name===I.name+"_tuple"),fa(l,"null"),jm.defined(I)&&(l=O.findIndex(va=>va.name===I.name+
"_toggle"),fa(l,"false"));return O}},{defined:l=>"interval"===l.type&&l.translate,signals:(l,I,O)=>{const fa=I.name,va=lj.defined(I),ya=fa+"_translate_anchor",{x:gb,y:sb}=I.project.hasChannel;let yb=n.parseSelector(I.translate,"scope");va||(yb=yb.map(Ob=>(Ob.between[0].markname=fa+"_brush",Ob)));O.push({name:ya,value:{},on:[{events:yb.map(Ob=>Ob.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==gb?", extent_x: ".concat(va?Nc(l,"x"):"slice(".concat(gb.signals.visual,")")):"")+(void 0!==sb?", extent_y: ".concat(va?
Nc(l,"y"):"slice(".concat(sb.signals.visual,")")):"")+"}"}]},{name:fa+"_translate_delta",value:{},on:[{events:yb,update:"{x: ".concat(ya,".x - x(unit), y: ").concat(ya,".y - y(unit)}")}]});void 0!==gb&&Ng(l,I,gb,"width",O);void 0!==sb&&Ng(l,I,sb,"height",O);return O}},{defined:l=>"interval"===l.type&&l.zoom,signals:(l,I,O)=>{const fa=I.name,va=lj.defined(I),ya=fa+"_zoom_delta",{x:gb,y:sb}=I.project.hasChannel,yb=n.stringValue(l.scaleName("x")),Ob=n.stringValue(l.scaleName("y"));let vc=n.parseSelector(I.zoom,
"scope");va||(vc=vc.map(kd=>(kd.markname=fa+"_brush",kd)));O.push({name:fa+"_zoom_anchor",on:[{events:vc,update:va?"{"+[yb?"x: invert(".concat(yb,", x(unit))"):"",Ob?"y: invert(".concat(Ob,", y(unit))"):""].filter(kd=>!!kd).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:ya,on:[{events:vc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==gb&&lg(l,I,gb,"width",O);void 0!==sb&&lg(l,I,sb,"height",O);return O}},hm];class $k extends Re{clone(){return new $k(null,this.model,
qf(this.filter))}constructor(l,I,O){super(l);this.model=I;this.filter=O;zb(this,"expr",void 0);zb(this,"_dependentFields",void 0);this.expr=wh(this.model,this.filter,this);this._dependentFields=rh(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const em={scale:l=>{let {model:I,channel:O}=l;return I.scaleName(O)},format:l=>{let {fieldOrDatumDef:I,config:O,axis:fa}=l;const {format:va,
formatType:ya}=fa;return Fc(I,I.type,va,ya,O,!0)},formatType:l=>{let {axis:I,fieldOrDatumDef:O,scaleType:fa}=l;({formatType:l}=I);return Mc(l,O,fa)},grid:l=>{var I;let {fieldOrDatumDef:O,axis:fa,scaleType:va}=l;return null!==(I=fa.grid)&&void 0!==I?I:!Sd(va)&&wc(O)&&!Wa(null===O||void 0===O?void 0:O.bin)&&!cb(null===O||void 0===O?void 0:O.bin)},gridScale:l=>{let {model:I,channel:O}=l;l="x"===O?"y":"x";l=I.getScaleComponent(l)?I.scaleName(l):void 0;return l},labelAlign:l=>{let {axis:I,labelAngle:O,
orient:fa,channel:va}=l;return I.labelAlign||Yb(O,fa,va)},labelAngle:l=>{({labelAngle:l}=l);return l},labelBaseline:l=>{let {axis:I,labelAngle:O,orient:fa,channel:va}=l;return I.labelBaseline||vb(O,fa,va)},labelFlush:l=>{var I;let {axis:O,fieldOrDatumDef:fa,channel:va}=l;l=null!==(I=O.labelFlush)&&void 0!==I?I:"x"===va&&a(["quantitative","temporal"],fa.type)?!0:void 0;return l},labelOverlap:l=>{var I;let {axis:O,fieldOrDatumDef:fa,scaleType:va}=l;if(null!==(I=O.labelOverlap)&&void 0!==I)l=I;else{l=
fa.type;I=wc(fa)&&!!fa.timeUnit;var ya=wc(fa)?fa.sort:void 0;l=I&&!n.isObject(ya)||"nominal"!==l&&"ordinal"!==l?"log"===va||"symlog"===va?"greedy":!0:void 0}return l},orient:l=>{({orient:l}=l);return l},tickCount:l=>{var I;let {channel:O,model:fa,axis:va,fieldOrDatumDef:ya,scaleType:gb}=l;l=(l="x"===O?"width":"y"===O?"height":void 0)?fa.getSizeSignalRef(l):void 0;if(null===(I=va.tickCount)||void 0===I)a:{let {fieldOrDatumDef:yb,scaleType:Ob,size:vc,values:kd}={fieldOrDatumDef:ya,scaleType:gb,size:l,
values:va.values};if(kd||Sd(Ob)||"log"===Ob)I=void 0;else{if(wc(yb)){var sb;if(Wa(yb.bin)){I={signal:"ceil(".concat(vc.signal,"/10)")};break a}if(yb.timeUnit&&a(["month","hours","day","quarter"],null===(sb=kf(yb.timeUnit))||void 0===sb?void 0:sb.unit)){I=void 0;break a}}I={signal:"ceil(".concat(vc.signal,"/40)")}}}return I},title:l=>{let {axis:I,model:O,channel:fa}=l;if(void 0!==I.title)return I.title;l=bc(O,fa);if(void 0!==l)return l;l=O.typedFieldDef(fa);const va=O.fieldDef("x"===fa?"x2":"y2");
return Fa(l?[ib(l)]:[],wc(va)?[ib(va)]:[])},values:l=>{let {axis:I,fieldOrDatumDef:O}=l;l=I.values;l=n.isArray(l)?Rf(O,l):yc(l)?l:void 0;return l},zindex:l=>{var I;let {axis:O,fieldOrDatumDef:fa,mark:va}=l;l=null!==(I=O.zindex)&&void 0!==I?I:"rect"===va&&We(fa)?1:0;return l}};class al extends Re{clone(){return new al(null,qf(this.transform))}constructor(l,I){super(l);this.transform=I;zb(this,"_dependentFields",void 0);this._dependentFields=rh(this.transform.calculate)}static parseAllForSortIndex(l,
I){I.forEachFieldDef((O,fa)=>{if(td(O)&&ma(O.sort)){const {field:ya,timeUnit:gb}=O;var va=O.sort;va=va.map((sb,yb)=>"".concat(Bb({field:ya,timeUnit:gb,equal:sb})," ? ").concat(yb," : ")).join("")+va.length;l=new al(l,{calculate:va,as:hc(O,fa,{forAs:!0})})}});return l}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(e(this.transform))}}
const Ol=["row","column"],Pl=["header","footer"],Gm={column:{start:0,end:1},row:{start:1,end:0}},Hm=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,
labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,
values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),Xl=le(Hm);class pm extends Xd{}const Zl={symbols:function(l,I){var O,fa,va,ya;let {fieldOrDatumDef:gb,model:sb,channel:yb,legendCmpt:Ob,legendType:vc}=I;if("symbol"===vc){var {markDef:kd,encoding:Qc,config:zd,mark:Id}=sb;I=kd.filled&&"trail"!==Id;var Zd=Object,te=Zd.assign,$d={};for(var xe of Sk){const ch=id(xe,sb.markDef,sb.config);void 0!==ch&&($d[xe]=ac(ch))}xe=
te.call(Zd,{},$d,Ae(sb,{filled:I}));Zd=null!==(O=Ob.get("symbolOpacity"))&&void 0!==O?O:zd.legend.symbolOpacity;O=null!==(fa=Ob.get("symbolFillColor"))&&void 0!==fa?fa:zd.legend.symbolFillColor;fa=null!==(va=Ob.get("symbolStrokeColor"))&&void 0!==va?va:zd.legend.symbolStrokeColor;va=void 0===Zd?null!==(ya=gf(Qc.opacity))&&void 0!==ya?ya:kd.opacity:void 0;if(xe.fill)if("fill"===yb||I&&"color"===yb)delete xe.fill;else if(xe.fill.field)if(O)delete xe.fill;else{var Te;xe.fill=ac(null!==(Te=zd.legend.symbolBaseFillColor)&&
void 0!==Te?Te:"black");xe.fillOpacity=ac(null!==va&&void 0!==va?va:1)}else if(n.isArray(xe.fill)){var Oe,He,$f;if(ya=null!==(Oe=null!==(He=yg(null!==($f=Qc.fill)&&void 0!==$f?$f:Qc.color))&&void 0!==He?He:kd.fill)&&void 0!==Oe?Oe:I&&kd.color)xe.fill=ac(ya)}xe.stroke&&("stroke"===yb||!I&&"color"===yb?delete xe.stroke:xe.stroke.field||fa?delete xe.stroke:n.isArray(xe.stroke)&&(Oe=B(yg(Qc.stroke||Qc.color),kd.stroke,I?kd.color:void 0))&&(xe.stroke={value:Oe}));"opacity"!==yb&&((Oe=wc(gb)&&Le(sb,Ob,
gb))?xe.opacity=[Object.assign({},{test:Oe},ac(null!==va&&void 0!==va?va:1)),ac(zd.legend.unselectedOpacity)]:va&&(xe.opacity=ac(va)));xe=Object.assign({},xe,l);return x(xe)?void 0:xe}},gradient:function(l,I){var O;let {model:fa,legendType:va,legendCmpt:ya}=I;if("gradient"===va){var {config:gb,markDef:sb,encoding:yb}=fa;I={};var Ob=void 0===(null!==(O=ya.get("gradientOpacity"))&&void 0!==O?O:gb.legend.gradientOpacity)?gf(yb.opacity)||sb.opacity:void 0;Ob&&(I.opacity=ac(Ob));I=Object.assign({},I,l);
return x(I)?void 0:I}},labels:function(l,I){let {fieldOrDatumDef:O,model:fa,channel:va,legendCmpt:ya}=I;I=fa.legend(va)||{};const gb=fa.config;var sb=wc(O)?Le(fa,ya,O):void 0;sb=sb?[{test:sb,value:1},{value:gb.legend.unselectedOpacity}]:void 0;const {format:yb,formatType:Ob}=I;I=Uc(Ob)?oc({fieldOrDatumDef:O,field:"datum.value",format:yb,formatType:Ob,config:gb}):void 0;l=Object.assign({},sb?{opacity:sb}:{},I?{text:I}:{},l);return x(l)?void 0:l},entries:function(l,I){({legendCmpt:I}=I);I=I.get("selections");
return null!==I&&void 0!==I&&I.length?Object.assign({},l,{fill:{value:"transparent"}}):l}},Yl={direction:l=>{({direction:l}=l);return l},format:l=>{let {fieldOrDatumDef:I,legend:O,config:fa}=l;const {format:va,formatType:ya}=O;return Fc(I,I.type,va,ya,fa,!1)},formatType:l=>{let {legend:I,fieldOrDatumDef:O,scaleType:fa}=l;({formatType:l}=I);return Mc(l,O,fa)},gradientLength:l=>{var I,O;const {legend:fa,legendConfig:va}=l;if(null!==(I=null!==(O=fa.gradientLength)&&void 0!==O?O:va.gradientLength)&&void 0!==
I)l=I;else{{let {legendConfig:ya,model:gb,direction:sb,orient:yb,scaleType:Ob}=l;const {gradientHorizontalMaxLength:vc,gradientHorizontalMinLength:kd,gradientVerticalMaxLength:Qc,gradientVerticalMinLength:zd}=ya;l=ii.has(Ob)?"horizontal"===sb?"top"===yb||"bottom"===yb?ne(gb,"width",kd,vc):kd:ne(gb,"height",zd,Qc):void 0}}return l},labelOverlap:l=>{var I,O;let {legend:fa,legendConfig:va,scaleType:ya}=l;l=null!==(I=null!==(O=fa.labelOverlap)&&void 0!==O?O:va.labelOverlap)&&void 0!==I?I:a(["quantile",
"threshold","log","symlog"],ya)?"greedy":void 0;return l},symbolType:l=>{var I;let {legend:O,markDef:fa,channel:va,encoding:ya}=l;if(null!==(I=O.symbolType)&&void 0!==I)var gb=I;else a:{l=fa.type;I=fa.shape;if("shape"!==va){const sb=null!==(gb=yg(ya.shape))&&void 0!==gb?gb:I;if(sb){gb=sb;break a}}switch(l){case "bar":case "rect":case "image":case "square":gb="square";break a;case "line":case "trail":case "rule":gb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":gb=
"circle";break a}gb=void 0}return gb},title:l=>{let {fieldOrDatumDef:I,config:O}=l;return hf(I,O,{allowDisabling:!0})},type:l=>{let {legendType:I,scaleType:O,channel:fa}=l;if(Ua(fa)&&ii.has(O)){if("gradient"===I)return}else if("symbol"===I)return;return I},values:l=>{let {fieldOrDatumDef:I,legend:O}=l;l=O.values;l=n.isArray(l)?Rf(I,l):yc(l)?l:void 0;return l}},qm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");
class $l extends Xd{constructor(l,I,O,fa){super(Object.assign({},I),{name:l});this.specifiedProjection=I;this.size=O;this.data=fa;zb(this,"merged",!1)}get isFit(){return!!this.data}}class Ij extends Re{clone(){return new Ij(null,qf(this.bins))}constructor(l,I){super(l);this.bins=I}static makeFromEncoding(l,I){const O=I.reduceFieldDef((fa,va,ya)=>{if(he(va)&&Wa(va.bin)){const {key:Qc,binComponent:zd}=Yj(va,va.bin,I);var gb=Object,sb=gb.assign,yb=fa[Qc];var Ob=I.config;if(Jf(va,ya)){var vc,kd;const Id=
Qb(I)?null!==(vc=null!==(kd=I.axis(ya))&&void 0!==kd?kd:I.legend(ya))&&void 0!==vc?vc:{}:{};ya=Ad(va,{expr:"datum"});vc=Ad(va,{expr:"datum",binSuffix:"end"});va={formulaAs:Ad(va,{binSuffix:"range",forAs:!0}),formula:Pb(ya,vc,Id.format,Id.formatType,Ob)}}else va={};fa[Qc]=sb.call(gb,{},zd,yb,va)}return fa},{});return x(O)?null:new Ij(l,O)}static makeFromTransform(l,I,O){const {key:fa,binComponent:va}=Yj(I,I.bin,O);return new Ij(l,{[fa]:va})}merge(l,I){for(const O of le(l.bins))O in this.bins?(I(l.bins[O].signal,
this.bins[O].signal),this.bins[O].as=z([...this.bins[O].as,...l.bins[O].as],e)):this.bins[O]=l.bins[O];for(const O of l.children)l.removeChild(O),O.parent=this;l.remove()}producedFields(){return new Set(zh(this.bins).map(l=>l.as).flat(2))}dependentFields(){return new Set(zh(this.bins).map(l=>l.field))}hash(){return"Bin ".concat(e(this.bins))}assemble(){return zh(this.bins).flatMap(l=>{const I=[],[O,...fa]=l.as;var va=l.bin,ya=Object.assign({},va);va=va.extent;ya=(delete ya.extent,ya);ya=Object.assign({},
{type:"bin",field:W(l.field),as:O,signal:l.signal},nb(va)?{extent:null}:{extent:va},l.span?{span:{signal:"span(".concat(l.span,")")}}:{},ya);!va&&l.extentSignal&&(I.push({type:"extent",field:W(l.field),signal:l.extentSignal}),ya.extent={signal:l.extentSignal});I.push(ya);for(const gb of fa)for(va=0;2>va;va++)I.push({type:"formula",expr:Ad({field:O[va]},{expr:"datum"}),as:gb[va]});l.formula&&I.push({type:"formula",expr:l.formula,as:l.formulaAs});return I})}}class rj extends Re{clone(){return new rj(null,
new Set(this.dimensions),qf(this.measures))}constructor(l,I,O){super(l);this.dimensions=I;this.measures=O}get groupBy(){return this.dimensions}static makeFromEncoding(l,I){let O=!1;I.forEachFieldDef(ya=>{ya.aggregate&&(O=!0)});const fa={},va=new Set;if(!O)return null;I.forEachFieldDef((ya,gb)=>{const {aggregate:sb,field:yb}=ya;if(sb)if("count"===sb){var Ob;null!==(Ob=fa["*"])&&void 0!==Ob?Ob:fa["*"]={};fa["*"].count=new Set([Ad(ya,{forAs:!0})])}else{if(Qa(sb)||oa(sb)){var vc;ya=Qa(sb)?"argmin":"argmax";
var kd=sb[ya];null!==(vc=fa[kd])&&void 0!==vc?vc:fa[kd]={};fa[kd][ya]=new Set([Ad({op:ya,field:kd},{forAs:!0})])}else{var Qc;null!==(Qc=fa[yb])&&void 0!==Qc?Qc:fa[yb]={};fa[yb][sb]=new Set([Ad(ya,{forAs:!0})])}if(zi[gb]&&"unaggregated"===I.scaleDomain(gb)){var zd;null!==(zd=fa[yb])&&void 0!==zd?zd:fa[yb]={};fa[yb].min=new Set([Ad({field:yb,aggregate:"min"},{forAs:!0})]);fa[yb].max=new Set([Ad({field:yb,aggregate:"max"},{forAs:!0})])}}else{vc=Qb(I)?I.encoding[Da(gb)]:void 0;he(ya)&&Qb(I)&&Nb(ya,vc,
I.markDef,I.config)?(va.add(Ad(ya,{})),va.add(Ad(ya,{suffix:"end"})),ya.bin&&Jf(ya,gb)&&va.add(Ad(ya,{binSuffix:"range"}))):gb in Vk?(gb=wa(gb),va.add(I.getName(gb))):va.add(Ad(ya));if(gb=td(ya))gb=null===(kd=ya.scale)||void 0===kd?void 0:kd.range,gb=n.isObject(gb)&&"field"in gb;gb&&va.add(ya.scale.range.field)}});return 0===va.size+le(fa).length?null:new rj(l,va,fa)}static makeFromTransform(l,I){const O=new Set,fa={};for(const sb of I.aggregate){const {op:yb,field:Ob,as:vc}=sb;if(yb)if("count"===
yb){var va;null!==(va=fa["*"])&&void 0!==va?va:fa["*"]={};fa["*"].count=new Set([vc?vc:Ad(sb,{forAs:!0})])}else{var ya;null!==(ya=fa[Ob])&&void 0!==ya?ya:fa[Ob]={};fa[Ob][yb]=new Set([vc?vc:Ad(sb,{forAs:!0})])}}for(const sb of null!==(gb=I.groupby)&&void 0!==gb?gb:[]){var gb;O.add(sb)}return 0===O.size+le(fa).length?null:new rj(l,O,fa)}merge(l){if(u(this.dimensions,l.dimensions)){var I=this.measures;l=l.measures;for(const fa of le(l)){const va=l[fa];for(const ya of le(va))if(fa in I){var O;I[fa][ya]=
new Set([...(null!==(O=I[fa][ya])&&void 0!==O?O:[]),...va[ya]])}else I[fa]={[ya]:va[ya]}}return!0}bd("different dimensions, cannot merge");return!1}addDimensions(l){l.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...le(this.measures)])}producedFields(){const l=new Set;for(const I of le(this.measures))for(const O of le(this.measures[I])){const fa=this.measures[I][O];0===fa.size?l.add("".concat(O,"_").concat(I)):fa.forEach(l.add,l)}return l}hash(){return"Aggregate ".concat(e({dimensions:this.dimensions,
measures:this.measures}))}assemble(){const l=[],I=[],O=[];for(const fa of le(this.measures))for(const va of le(this.measures[fa]))for(const ya of this.measures[fa][va])O.push(ya),l.push(va),I.push("*"===fa?null:W(fa));return{type:"aggregate",groupby:[...this.dimensions].map(W),ops:l,fields:I,as:O}}}class Jk extends Re{constructor(l,I,O,fa){super(l);this.model=I;this.name=O;this.data=fa;zb(this,"column",void 0);zb(this,"row",void 0);zb(this,"facet",void 0);zb(this,"childModel",void 0);for(const va of gi)if(l=
I.facet[va]){const {bin:ya,sort:gb}=l;this[va]=Object.assign({},{name:I.getName("".concat(va,"_domain")),fields:[Ad(l),...(Wa(ya)?[Ad(l,{binSuffix:"end"})]:[])]},Vb(gb)?{sortField:gb}:n.isArray(gb)?{sortIndexField:hc(l,va)}:{})}this.childModel=I.child}hash(){let l="Facet";for(const I of gi)this[I]&&(l+=" ".concat(I.charAt(0),":").concat(e(this[I])));return l}get fields(){const l=[];for(const O of gi){var I;null!==(I=this[O])&&void 0!==I&&I.fields&&l.push(...this[O].fields)}return l}dependentFields(){const l=
new Set(this.fields);for(const I of gi)this[I]&&(this[I].sortField&&l.add(this[I].sortField.field),this[I].sortIndexField&&l.add(this[I].sortIndexField));return l}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const l={};for(const fa of qi){var I=this.childModel.component.scales[fa];if(I&&!I.merged){var O=I.get("type");I=I.get("range");Sd(O)&&tc(I)&&(O=Wi(this.childModel,fa),(O=dj(O))?l[fa]=O:jc(od(fa)))}}return l}assembleRowColumnHeaderData(l,I,O){const fa=
{row:"y",column:"x",facet:void 0}[l],va=[],ya=[],gb=[];fa&&O&&O[fa]&&(I?(va.push("distinct_".concat(O[fa])),ya.push("max")):(va.push(O[fa]),ya.push("distinct")),gb.push("distinct_".concat(O[fa])));const {sortField:sb,sortIndexField:yb}=this[l];if(sb){const {op:Ob="min",field:vc}=sb;va.push(vc);ya.push(Ob);gb.push(Ad(sb,{forAs:!0}))}else yb&&(va.push(yb),ya.push("max"),gb.push(yb));return{name:this[l].name,source:null!==I&&void 0!==I?I:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[l].fields},
va.length?{fields:va,ops:ya,as:gb}:{})]}}assembleFacetHeaderData(l){const {columns:I}=this.model.layout,{layoutHeaders:O}=this.model.component,fa=[],va={};for(const vc of Ol){for(const kd of Pl){var ya,gb=null!==(ya=O[vc]&&O[vc][kd])&&void 0!==ya?ya:[];for(const Qc of gb){var sb;if(0<(null===(sb=Qc.axes)||void 0===sb?void 0:sb.length)){va[vc]=!0;break}}}va[vc]&&(gb='length(data("'.concat(this.facet.name,'"))'),gb="row"===vc?I?{signal:"ceil(".concat(gb," / ").concat(I,")")}:1:I?{signal:"min(".concat(gb,
", ").concat(I,")")}:{signal:gb},fa.push({name:"".concat(this.facet.name,"_").concat(vc),transform:[{type:"sequence",start:0,stop:gb}]}))}const {row:yb,column:Ob}=va;(yb||Ob)&&fa.unshift(this.assembleRowColumnHeaderData("facet",null,l));return fa}assemble(){const l=[];var I=null;const O=this.getChildIndependentFieldsWithStep(),{column:fa,row:va,facet:ya}=this;if(fa&&va&&(O.x||O.y)){var gb,sb;I="cross_".concat(this.column.name,"_").concat(this.row.name);const yb=[].concat(null!==(gb=O.x)&&void 0!==
gb?gb:[],null!==(sb=O.y)&&void 0!==sb?sb:[]);gb=yb.map(()=>"distinct");l.push({name:I,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:yb,ops:gb}]})}for(const yb of["column","row"])this[yb]&&l.push(this.assembleRowColumnHeaderData(yb,I,O));ya&&(I=this.assembleFacetHeaderData(O))&&l.push(...I);return l}}class wi extends Re{clone(){return new wi(null,qf(this._parse))}constructor(l,I){super(l);zb(this,"_parse",void 0);this._parse=I}hash(){return"Parse ".concat(e(this._parse))}static makeExplicit(l,
I,O){var fa;let va={};I=I.data;!vf(I)&&null!==I&&void 0!==I&&null!==(fa=I.format)&&void 0!==fa&&fa.parse&&(va=I.format.parse);return this.makeWithAncestors(l,va,{},O)}static makeWithAncestors(l,I,O,fa){for(var va of le(O)){const gb=fa.getWithExplicit(va);void 0!==gb.value&&(gb.explicit||gb.value===O[va]||"derived"===gb.value||"flatten"===O[va]?delete O[va]:jc(de(va,O[va],gb.value)))}for(var ya of le(I))va=fa.get(ya),void 0!==va&&(va===I[ya]?delete I[ya]:jc(de(ya,I[ya],va)));I=new Xd(I,O);fa.copyAll(I);
O={};for(const gb of le(I.combine()))ya=I.get(gb),null!==ya&&(O[gb]=ya);return 0===le(O).length||fa.parseNothing?null:new wi(l,O)}get parse(){return this._parse}merge(l){this._parse=Object.assign({},this._parse,l.parse);l.remove()}assembleFormatParse(){const l={};for(const I of le(this._parse)){const O=this._parse[I];1===w(I)&&(l[I]=O)}return l}producedFields(){return new Set(le(this._parse))}dependentFields(){return new Set(le(this._parse))}assembleTransforms(){let l=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:!1;return le(this._parse).filter(I=>l?1<w(I):!0).map(I=>{const O=Ej(I,this._parse[I]);return O?{type:"formula",expr:O,as:P(I)}:null}).filter(I=>null!==I)}}class mk extends Re{clone(){return new mk(null)}constructor(l){super(l)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class ol extends Re{clone(){return new ol(null,this.params)}constructor(l,I){super(l);this.params=
I}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(e(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class pl extends Re{clone(){return new pl(null,this.params)}constructor(l,I){super(l);this.params=I}dependentFields(){return new Set}producedFields(){var l;return new Set([null!==(l=this.params.as)&&void 0!==l?l:"data"])}hash(){return"Hash ".concat(e(this.params))}assemble(){return Object.assign({},{type:"sequence"},
this.params)}}class lk extends Re{constructor(l){var I;super(null);zb(this,"_data",void 0);zb(this,"_name",void 0);zb(this,"_generator",void 0);null!==(I=l)&&void 0!==I?I:l={name:"source"};let O;vf(l)||(O=l.format?Object.assign({},f(l.format,["parse"])):{});if("values"in l)this._data={values:l.values};else if("url"in l)this._data={url:l.url},O.type||(I=/(?:\.([^.]+))?$/.exec(l.url)[1],a(["json","csv","tsv","dsv","topojson"],I)||(I="json"),O.type=I);else if("sphere"in l)this._data={values:[{type:"Sphere"}]};
else if(Kf(l)||vf(l))this._data={};this._generator=vf(l);l.name&&(this._name=l.name);O&&!x(O)&&(this._data.format=O)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(l){this._name=l}set parent(l){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");
}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var cl=new WeakMap;class Ql{constructor(){if(cl.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");cl.set(this,{writable:!0,value:void 0});Tb(this,cl,!1)}setModified(){Tb(this,cl,!0)}get modifiedFlag(){var l=Ub(this,cl,"get");return l.get?l.get.call(this):l.value}}class nk extends Ql{getNodeDepths(l,I,O){O.set(l,I);for(const fa of l.children)this.getNodeDepths(fa,I+1,O);return O}optimize(l){l=
[...this.getNodeDepths(l,0,new Map).entries()].sort((I,O)=>O[1]-I[1]);for(const I of l)this.run(I[0]);return this.modifiedFlag}}class Rl extends Ql{optimize(l){this.run(l);for(const I of l.children)this.optimize(I);return this.modifiedFlag}}class Am extends Rl{mergeNodes(l,I){const O=I.shift();for(const fa of I)l.removeChild(fa),fa.parent=O,fa.remove()}run(l){const I=l.children.map(fa=>fa.hash()),O={};for(let fa=0;fa<I.length;fa++)void 0===O[I[fa]]?O[I[fa]]=[l.children[fa]]:O[I[fa]].push(l.children[fa]);
for(const fa of le(O))1<O[fa].length&&(this.setModified(),this.mergeNodes(l,O[fa]))}}class sm extends Rl{constructor(l){super();zb(this,"requiresSelectionId",void 0);this.requiresSelectionId=l&&Hh(l)}run(l){!(l instanceof mk)||this.requiresSelectionId&&(Qh(l.parent)||l.parent instanceof rj||l.parent instanceof wi)||(this.setModified(),l.remove())}}class wm extends Ql{optimize(l){this.run(l,new Set);return this.modifiedFlag}run(l,I){let O=new Set;l instanceof Ef&&(O=l.producedFields(),C(O,I)&&(this.setModified(),
l.removeFormulas(I),0===l.producedFields.length&&l.remove()));for(const fa of l.children)this.run(fa,new Set([...I,...O]))}}class rm extends Rl{constructor(){super()}run(l){l instanceof zf&&!l.isRequired()&&(this.setModified(),l.remove())}}class um extends nk{run(l){if(!(Qh(l)||1<l.numChildren()))for(const I of l.children)I instanceof wi&&(l instanceof wi?(this.setModified(),l.merge(I)):A(l.producedFields(),I.dependentFields())||(this.setModified(),I.swapWithParent()))}}class xm extends nk{run(l){const I=
[...l.children];var O=l.children.filter(va=>va instanceof wi);if(1<l.numChildren()&&1<=O.length){const va={};var fa=new Set;for(const ya of O){O=ya.parse;for(const gb of le(O))gb in va?va[gb]!==O[gb]&&fa.add(gb):va[gb]=O[gb]}for(const ya of fa)delete va[ya];if(!x(va)){this.setModified();fa=new wi(l,va);for(const ya of I){if(ya instanceof wi)for(const gb of le(va))delete ya.parse[gb];l.removeChild(ya);ya.parent=fa;ya instanceof wi&&0===le(ya.parse).length&&ya.remove()}}}}}class tm extends nk{run(l){l instanceof
zf||0<l.numChildren()||l instanceof Jk||l instanceof lk||(this.setModified(),l.remove())}}class zm extends nk{run(l){l=l.children.filter(O=>O instanceof Ef);const I=l.pop();for(const O of l)this.setModified(),I.merge(O)}}class ym extends nk{run(l){var I=l.children.filter(va=>va instanceof rj);const O={};for(var fa of I)I=e(fa.groupBy),I in O||(O[I]=[]),O[I].push(fa);for(const va of le(O))if(fa=O[va],1<fa.length){I=fa.pop();for(const ya of fa)I.merge(ya)&&(l.removeChild(ya),ya.parent=I,ya.remove(),
this.setModified())}}}class vm extends nk{constructor(l){super();this.model=l}run(l){var I=!(Qh(l)||l instanceof $k||l instanceof wi||l instanceof mk);const O=[],fa=[];for(const va of l.children)va instanceof Ij&&(I&&!A(l.producedFields(),va.dependentFields())?O.push(va):fa.push(va));if(0<O.length){I=O.pop();for(const va of O)I.merge(va,this.model.renameSignal.bind(this.model));this.setModified();l instanceof Ij?l.merge(I,this.model.renameSignal.bind(this.model)):I.swapWithParent()}if(1<fa.length){l=
fa.pop();for(const va of fa)l.merge(va,this.model.renameSignal.bind(this.model));this.setModified()}}}class Bm extends nk{run(l){var I=[...l.children];if(c(I,va=>va instanceof zf)&&!(1>=l.numChildren())){var O=[];for(const va of I)if(va instanceof zf){for(I=va;1===I.numChildren();){const [ya]=I.children;if(ya instanceof zf)I=ya;else break}O.push(...I.children);if(fa)l.removeChild(va),va.parent=fa.parent,fa.parent.removeChild(fa),fa.parent=I,this.setModified();else var fa=I}else O.push(va);if(O.length){this.setModified();
for(const va of O)va.parent.removeChild(va),va.parent=fa}}}}class Kk extends Re{clone(){return new Kk(null,qf(this.transform))}constructor(l,I){super(l);this.transform=I}addDimensions(l){this.transform.groupby=z(this.transform.groupby.concat(l),I=>I)}dependentFields(){const l=new Set;this.transform.groupby&&this.transform.groupby.forEach(l.add,l);this.transform.joinaggregate.map(I=>I.field).filter(I=>void 0!==I).forEach(l.add,l);return l}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(l){var I;
return null!==(I=l.as)&&void 0!==I?I:Ad(l)}hash(){return"JoinAggregateTransform ".concat(e(this.transform))}assemble(){const l=[],I=[],O=[];for(var fa of this.transform.joinaggregate)I.push(fa.op),O.push(this.getDefaultName(fa)),l.push(void 0===fa.field?null:fa.field);fa=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:O,ops:I,fields:l},void 0!==fa?{groupby:fa}:{})}}class Xj extends Re{clone(){return new Xj(null,qf(this._stack))}constructor(l,I){super(l);zb(this,"_stack",void 0);
this._stack=I}static makeFromTransform(l,I){const {stack:O,groupby:fa,as:va,offset:ya="zero"}=I;var gb=[];const sb=[];if(void 0!==I.sort)for(const yb of I.sort)gb.push(yb.field),sb.push(B(yb.order,"ascending"));gb={field:gb,order:sb};I=ok(va)?va:n.isString(va)?[va,"".concat(va,"_end")]:["".concat(I.stack,"_start"),"".concat(I.stack,"_end")];return new Xj(l,{dimensionFieldDefs:[],stackField:O,groupby:fa,offset:ya,sort:gb,facetby:[],as:I})}static makeFromEncoding(l,I){var O=I.stack;const {encoding:fa}=
I;if(!O)return null;const {groupbyChannels:va,fieldChannel:ya,offset:gb,impute:sb}=O;O=va.map(vc=>Yd(fa[vc])).filter(vc=>!!vc);const yb=sj(I);var Ob=I.encoding.order;Ob=n.isArray(Ob)||wc(Ob)?za(Ob):yb.reduce((vc,kd)=>{vc.field.push(kd);vc.order.push("y"===ya?"descending":"ascending");return vc},{field:[],order:[]});return new Xj(l,{dimensionFieldDefs:O,stackField:I.vgField(ya),facetby:[],stackby:yb,sort:Ob,offset:gb,impute:sb,as:[I.vgField(ya,{suffix:"start",forAs:!0}),I.vgField(ya,{suffix:"end",
forAs:!0})]})}get stack(){return this._stack}addDimensions(l){this._stack.facetby.push(...l)}dependentFields(){const l=new Set;l.add(this._stack.stackField);this.getGroupbyFields().forEach(l.add,l);this._stack.facetby.forEach(l.add,l);this._stack.sort.field.forEach(l.add,l);return l}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(e(this._stack))}getGroupbyFields(){const {dimensionFieldDefs:l,impute:I,groupby:O}=this._stack;return 0<l.length?l.map(fa=>fa.bin?I?[Ad(fa,{binSuffix:"mid"})]:
[Ad(fa,{}),Ad(fa,{binSuffix:"end"})]:[Ad(fa)]).flat():null!==O&&void 0!==O?O:[]}assemble(){const l=[],{facetby:I,dimensionFieldDefs:O,stackField:fa,stackby:va,sort:ya,offset:gb,impute:sb,as:yb}=this._stack;if(sb)for(const Ob of O){const {bandPosition:vc=.5,bin:kd}=Ob;if(kd){const Qc=Ad(Ob,{expr:"datum"}),zd=Ad(Ob,{expr:"datum",binSuffix:"end"});l.push({type:"formula",expr:"".concat(vc,"*").concat(Qc,"+").concat(1-vc,"*").concat(zd),as:Ad(Ob,{binSuffix:"mid",forAs:!0})})}l.push({type:"impute",field:fa,
groupby:[...va,...I],key:Ad(Ob,{binSuffix:"mid"}),method:"value",value:0})}l.push({type:"stack",groupby:[...this.getGroupbyFields(),...I],field:fa,sort:ya,as:yb,offset:gb});return l}}class Zk extends Re{clone(){return new Zk(null,qf(this.transform))}constructor(l,I){super(l);this.transform=I}addDimensions(l){this.transform.groupby=z(this.transform.groupby.concat(l),I=>I)}dependentFields(){var l,I;const O=new Set;(null!==(l=this.transform.groupby)&&void 0!==l?l:[]).forEach(O.add,O);(null!==(I=this.transform.sort)&&
void 0!==I?I:[]).forEach(fa=>O.add(fa.field));this.transform.window.map(fa=>fa.field).filter(fa=>void 0!==fa).forEach(O.add,O);return O}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(l){var I;return null!==(I=l.as)&&void 0!==I?I:Ad(l)}hash(){return"WindowTransform ".concat(e(this.transform))}assemble(){const l=[],I=[],O=[],fa=[];for(var va of this.transform.window)I.push(va.op),O.push(this.getDefaultName(va)),fa.push(void 0===va.param?null:va.param),
l.push(void 0===va.field?null:va.field);va=this.transform.frame;const ya=this.transform.groupby;if(va&&null===va[0]&&null===va[1]&&I.every(Ob=>Y(Ob)))return Object.assign({},{type:"joinaggregate",as:O,ops:I,fields:l},void 0!==ya?{groupby:ya}:{});const gb=[],sb=[];if(void 0!==this.transform.sort)for(const Ob of this.transform.sort){var yb;gb.push(Ob.field);sb.push(null!==(yb=Ob.order)&&void 0!==yb?yb:"ascending")}yb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:fa,as:O,ops:I,
fields:l,sort:{field:gb,order:sb}},void 0!==yb?{ignorePeers:yb}:{},void 0!==ya?{groupby:ya}:{},void 0!==va?{frame:va}:{})}}class Li{constructor(l){zb(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:l})}static fromName(l,I){return new Li(()=>l(I))}}class bm extends Xd{constructor(l,I){super({},{name:l});zb(this,"merged",!1);this.setWithExplicit("type",I)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:c(this.get("domains"),l=>n.isArray(l)&&2===l.length&&0>=
l[0]&&0<=l[1])}}const Cm=["range","scheme"],am={bins:l=>{let {model:I,fieldOrDatumDef:O}=l;return wc(O)?V(I,O):void 0},interpolate:l=>{let {channel:I,fieldOrDatumDef:O}=l;l=O.type;l=a(["color","fill","stroke"],I)&&"nominal"!==l?"hcl":void 0;return l},nice:l=>{let {scaleType:I,channel:O,domain:fa,domainMin:va,domainMax:ya,fieldOrDatumDef:gb}=l;var sb;l=null!==(sb=Yd(gb))&&void 0!==sb&&sb.bin||n.isArray(fa)||null!=ya||null!=va||a([mi.TIME,mi.UTC],I)?void 0:Ha(O)?!0:void 0;return l},padding:l=>{let {channel:I,
scaleType:O,fieldOrDatumDef:fa,markDef:va,config:ya}=l;a:{l=ya.scale;var gb=ya.bar;if(Ha(I)){if(ii.has(O)){if(void 0!==l.continuousPadding){l=l.continuousPadding;break a}const {type:sb,orient:yb}=va;if("bar"===sb&&(!wc(fa)||!fa.bin&&!fa.timeUnit)&&("vertical"===yb&&"x"===I||"horizontal"===yb&&"y"===I)){l=gb.continuousBandSize;break a}}if(O===mi.POINT){l=l.pointPadding;break a}}l=void 0}return l},paddingInner:l=>{let {scalePadding:I,channel:O,markDef:fa,scaleType:va,config:ya,hasNestedOffsetScale:gb}=
l;return S(I,O,fa.type,va,ya.scale,gb)},paddingOuter:l=>{let {scalePadding:I,channel:O,scaleType:fa,scalePaddingInner:va,config:ya,hasNestedOffsetScale:gb}=l;return ea(I,O,fa,va,ya.scale,gb)},reverse:l=>{let {fieldOrDatumDef:I,scaleType:O,channel:fa,config:va}=l;l=wc(I)?I.sort:void 0;var ya=va.scale;l="x"===fa&&void 0!==ya.xReverse?Qd(O)&&"descending"===l?yc(ya.xReverse)?{signal:"!".concat(ya.xReverse.signal)}:!ya.xReverse:ya.xReverse:Qd(O)&&"descending"===l?!0:void 0;return l},zero:l=>{let {channel:I,
fieldOrDatumDef:O,domain:fa,markDef:va,scaleType:ya}=l;a:if(fa&&"unaggregated"!==fa&&Qd(ya)){if(n.isArray(fa)&&(l=fa[fa.length-1],0>=fa[0]&&0<=l)){l=!0;break a}l=!1}else if("size"!==I||"quantitative"!==O.type||zj.has(ya))if(wc(O)&&O.bin||!a([...qi,...jj],I))l=!1;else{const {orient:gb,type:sb}=va;l=a(["bar","area","line","trail"],sb)&&("horizontal"===gb&&"y"===I||"vertical"===gb&&"x"===I)?!1:!0}else l=!0;return l}},Dm=Ee((l,I)=>hl[l]-hl[I]);class Sl{constructor(){zb(this,"nameMap",void 0);this.nameMap=
{}}rename(l,I){this.nameMap[l]=I}has(l){return void 0!==this.nameMap[l]}get(l){for(;this.nameMap[l]&&l!==this.nameMap[l];)l=this.nameMap[l];return l}}class Tl{constructor(l,I,O,fa,va,ya,gb){var sb,yb;this.type=I;this.parent=O;this.config=va;zb(this,"name",void 0);zb(this,"size",void 0);zb(this,"title",void 0);zb(this,"description",void 0);zb(this,"data",void 0);zb(this,"transforms",void 0);zb(this,"layout",void 0);zb(this,"scaleNameMap",void 0);zb(this,"projectionNameMap",void 0);zb(this,"signalNameMap",
void 0);zb(this,"component",void 0);zb(this,"view",void 0);zb(this,"children",void 0);zb(this,"correctDataNames",Ob=>{var vc,kd,Qc;null!==(vc=Ob.from)&&void 0!==vc&&vc.data&&(Ob.from.data=this.lookupDataSource(Ob.from.data));null!==(kd=Ob.from)&&void 0!==kd&&null!==(Qc=kd.facet)&&void 0!==Qc&&Qc.data&&(Ob.from.facet.data=this.lookupDataSource(Ob.from.facet.data));return Ob});this.parent=O;this.config=va;this.view=nc(gb);this.name=null!==(sb=l.name)&&void 0!==sb?sb:fa;this.title=Ac(l.title)?{text:l.title}:
l.title?nc(l.title):void 0;this.scaleNameMap=O?O.scaleNameMap:new Sl;this.projectionNameMap=O?O.projectionNameMap:new Sl;this.signalNameMap=O?O.signalNameMap:new Sl;this.data=l.data;this.description=l.description;this.transforms=Vh(null!==(yb=l.transform)&&void 0!==yb?yb:[]);this.layout="layer"===I||"unit"===I?{}:Zc(l,I,va);this.component={data:{sources:O?O.component.data.sources:[],outputNodes:O?O.component.data.outputNodes:{},outputNodeRefCounts:O?O.component.data.outputNodeRefCounts:{},isFaceted:"facet"in
l||(null===O||void 0===O?void 0:O.component.data.isFaceted)&&void 0===l.data},layoutSize:new Xd,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},ya?qf(ya):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();
this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){ab(this)}parseProjection(){lh(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Pe(this)}assembleEncodeFromView(l){l=Object.assign({},l);l=(delete l.style,l);const I={};for(const O of le(l)){const fa=l[O];void 0!==fa&&(I[O]=ac(fa))}return I}assembleGroupEncodeEntry(l){let I=
{};this.view&&(I=this.assembleEncodeFromView(this.view));if(!l&&(this.description&&(I.description=ac(this.description)),"unit"===this.type||"layer"===this.type)){var O;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(O=I)&&void 0!==O?O:{})}return x(I)?void 0:I}assembleLayout(){if(this.layout){var l=this.layout,I=Object.assign({},l);l=l.spacing;I=(delete I.spacing,I);var {component:O,config:fa}=this,va=O.layoutHeaders,ya={};for(sb of gi){var gb=
va[sb];if(null!==gb&&void 0!==gb&&gb.facetFieldDef){const {titleAnchor:yb,titleOrient:Ob}=Gd(["titleAnchor","titleOrient"],gb.facetFieldDef.header,fa,sb);gb=xc(sb,Ob);const vc=Gm[gb][yb];void 0!==vc&&(ya[gb]=vc)}}var sb=x(ya)?void 0:ya;return Object.assign({},{padding:l},this.assembleDefaultLayout(),I,sb?{titleBand:sb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:l}=this.component,I=[];for(var O of gi)if(l[O].title){var fa=I,va=fa.push;var ya=O;var gb=this.component.layoutHeaders[ya].title,
sb=this.config?this.config:void 0,yb=this.component.layoutHeaders[ya].facetFieldDef?this.component.layoutHeaders[ya].facetFieldDef:void 0;const {titleAnchor:Zd,titleAngle:te,titleOrient:$d}=Gd(["titleAnchor","titleAngle","titleOrient"],yb.header,sb,ya);var Ob=xc(ya,$d),vc=da(te);ya={name:"".concat(ya,"-title"),type:"group",role:"".concat(Ob,"-title"),title:Object.assign({},{text:gb},"row"===ya?{orient:"left"}:{},{style:"guide-title"},nd(vc,Ob),Ud(Ob,vc,Zd),Ue(sb,yb,ya,wl,dl))};va.call(fa,ya)}for(const Zd of Ol){l=
I;I=l.concat;fa=Zd;va=this.component.layoutHeaders[fa];O=[];for(const te of Pl)if(va[te])for(const $d of va[te]){a:{yb=void 0;ya=fa;var kd=te,Qc=va;if(gb=$d){sb=null;({facetFieldDef:Id}=Qc);Ob=this.config?this.config:void 0;Id&&gb.labels&&({labelOrient:vc}=Gd(["labelOrient"],Id.header,Ob,ya),"row"===ya&&!a(["top","bottom"],vc)||"column"===ya&&!a(["left","right"],vc))&&(sb=ie(Id,ya,Ob));const xe=gc(this)&&!Ka(this.facet),Te=gb.axes,Oe=0<(null===Te||void 0===Te?void 0:Te.length);if(sb||Oe){const He=
"row"===ya?"height":"width";Ob=Object;vc=Ob.assign;kd={name:this.getName("".concat(ya,"_").concat(kd)),type:"group",role:"".concat(ya,"-").concat(kd)};if(Qc.facetFieldDef){Qc={data:this.getName("".concat(ya,"_domain"))};{var zd=Id;const {sort:$f}=zd;var Id=Vb($f)?{field:Ad($f,{expr:"datum"}),order:null!==(yb=$f.order)&&void 0!==yb?yb:"ascending"}:n.isArray($f)?{field:hc(zd,ya,{expr:"datum"}),order:"ascending"}:{field:Ad(zd,{expr:"datum"}),order:null!==$f&&void 0!==$f?$f:"ascending"}}yb={from:Qc,sort:Id}}else yb=
{};ya=vc.call(Ob,{},kd,yb,Oe&&xe?{from:{data:this.getName("facet_domain_".concat(ya))}}:{},sb?{title:sb}:{},gb.sizeSignal?{encode:{update:{[He]:gb.sizeSignal}}}:{},Oe?{axes:Te}:{});break a}}ya=null}null!=ya&&O.push(ya)}I=I.call(l,O)}return I}assembleAxes(){return Ji(this.component.axes,this.config)}assembleLegends(){return wf(this)}assembleProjections(){var l=Wc(this)||Pc(this)?Ug(this):bg(this);return l}assembleTitle(){var l,I=null!==(l=this.title)&&void 0!==l?l:{};l=Object.assign({},I);I=I.encoding;
l=(delete l.encoding,l);I=Object.assign({},Lc(this.config.title).nonMarkTitleProperties,l,I?{encode:{update:I}}:{});if(I.text){if(a(["unit","layer"],this.type)){if(a(["middle",void 0],I.anchor)){var O;null!==(O=I.frame)&&void 0!==O?O:I.frame="group"}}else{var fa;null!==(fa=I.anchor)&&void 0!==fa?fa:I.anchor="start"}return x(I)?void 0:I}}assembleGroup(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const I={};l=l.concat(this.assembleSignals());0<l.length&&(I.signals=l);if(l=this.assembleLayout())I.layout=
l;I.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());l=!this.parent||gc(this.parent)?Pi(this):[];0<l.length&&(I.scales=l);l=this.assembleAxes();0<l.length&&(I.axes=l);l=this.assembleLegends();0<l.length&&(I.legends=l);return I}getName(l){return H((this.name?"".concat(this.name,"_"):"")+l)}getDataName(l){return this.getName(ye[l].toLowerCase())}requestDataName(l){l=this.getDataName(l);const I=this.component.data.outputNodeRefCounts;I[l]=(I[l]||0)+1;return l}getSizeSignalRef(l){if(gc(this.parent)){var I=
Ke(l),O=Va(I);if((I=this.component.scales[O])&&!I.merged){var fa=I.get("type");const va=I.get("range");if(Sd(fa)&&tc(va)){l=I.get("name");fa=Wi(this,O);if(fa=dj(fa))return O=Ad({aggregate:"distinct",field:fa},{expr:"datum"}),{signal:Pg(l,I,O)};jc(od(O));return null}}}return{signal:this.signalNameMap.get(this.getName(l))}}lookupDataSource(l){const I=this.component.data.outputNodes[l];return I?I.getSource():l}getSignalName(l){return this.signalNameMap.get(l)}renameSignal(l,I){this.signalNameMap.rename(l,
I)}renameScale(l,I){this.scaleNameMap.rename(l,I)}renameProjection(l,I){this.projectionNameMap.rename(l,I)}scaleName(l,I){if(I)return this.getName(l);if(ak[l]&&zi[l]&&this.component.scales[l]||this.scaleNameMap.has(this.getName(l)))return this.scaleNameMap.get(this.getName(l))}projectionName(l){if(l)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(l){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");
const I=this.component.scales[l];return I&&!I.merged?I:this.parent?this.parent.getScaleComponent(l):void 0}getSelectionComponent(l,I){let O=this.component.selection[l];!O&&this.parent&&(O=this.parent.getSelectionComponent(l,I));if(!O)throw Error('Cannot find a selection named "'.concat(I,'".'));return O}hasAxisOrientSignalRef(){var l,I;return(null===(l=this.component.axes.x)||void 0===l?void 0:l.some(O=>O.hasOrientSignalRef()))||(null===(I=this.component.axes.y)||void 0===I?void 0:I.some(O=>O.hasOrientSignalRef()))}}
class km extends Tl{vgField(l){let I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const O=this.fieldDef(l);if(O)return Ad(O,I)}reduceFieldDef(l,I){return yd(this.getMapping(),(O,fa,va)=>(fa=Yd(fa))?l(O,fa,va):O,I)}forEachFieldDef(l,I){ud(this.getMapping(),(O,fa)=>{(O=Yd(O))&&l(O,fa)},I)}}class Il extends Re{clone(){return new Il(null,qf(this.transform))}constructor(l,I){var O,fa,va;super(l);this.transform=I;this.transform=qf(I);l=null!==(O=this.transform.as)&&void 0!==O?O:[void 0,void 0];
this.transform.as=[null!==(fa=l[0])&&void 0!==fa?fa:"value",null!==(va=l[1])&&void 0!==va?va:"density"]}dependentFields(){var l;return new Set([this.transform.density,...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(e(this.transform))}assemble(){var l=this.transform,I=Object.assign({},l);l=l.density;I=(delete I.density,I);return Object.assign({},{type:"kde",field:l},I)}}class ql extends Re{clone(){return new ql(null,
Object.assign({},this.filter))}constructor(l,I){super(l);this.filter=I}static make(l,I){const {config:O,mark:fa,markDef:va}=I;if("filter"!==Rc("invalid",va,O))return null;const ya=I.reduceFieldDef((gb,sb,yb)=>{if(yb=!!zi[yb]&&I.getScaleComponent(yb))yb=yb.get("type"),Qd(yb)&&"count"!==sb.aggregate&&!Ia(fa)&&(gb[sb.field]=sb);return gb},{});return le(ya).length?new ql(l,ya):null}dependentFields(){return new Set(le(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(e(this.filter))}assemble(){const l=
le(this.filter).reduce((I,O)=>{O=this.filter[O];const fa=Ad(O,{expr:"datum"});null!==O&&("temporal"===O.type?I.push("(isDate(".concat(fa,") || (isValid(").concat(fa,") \x26\x26 isFinite(+").concat(fa,")))")):"quantitative"===O.type&&(I.push("isValid(".concat(fa,")")),I.push("isFinite(+".concat(fa,")"))));return I},[]);return 0<l.length?{type:"filter",expr:l.join(" \x26\x26 ")}:null}}class Hl extends Re{clone(){return new Hl(this.parent,qf(this.transform))}constructor(l,I){super(l);this.transform=
I;this.transform=qf(I);const {flatten:O,as:fa=[]}=this.transform;this.transform.as=O.map((va,ya)=>{var gb;return null!==(gb=fa[ya])&&void 0!==gb?gb:va})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(e(this.transform))}assemble(){const {flatten:l,as:I}=this.transform;return{type:"flatten",fields:l,as:I}}}class Gl extends Re{clone(){return new Gl(null,qf(this.transform))}constructor(l,I){var O,fa,va;
super(l);this.transform=I;this.transform=qf(I);l=null!==(O=this.transform.as)&&void 0!==O?O:[void 0,void 0];this.transform.as=[null!==(fa=l[0])&&void 0!==fa?fa:"key",null!==(va=l[1])&&void 0!==va?va:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(e(this.transform))}assemble(){const {fold:l,as:I}=this.transform;return{type:"fold",fields:l,as:I}}}class bl extends Re{clone(){return new bl(null,qf(this.fields),
this.geojson,this.signal)}static parseAll(l,I){if(I.component.projection&&!I.component.projection.isFit)return l;let O=0;for(var fa of[["longitude","latitude"],["longitude2","latitude2"]]){const va=fa.map(ya=>{ya=Ie(I.encoding[ya]);return wc(ya)?ya.field:ld(ya)?{expr:"".concat(ya.datum)}:se(ya)?{expr:"".concat(ya.value)}:void 0});if(va[0]||va[1])l=new bl(l,va,null,I.getName("geojson_".concat(O++)))}I.channelHasField("shape")&&(fa=I.typedFieldDef("shape"),"geojson"===fa.type&&(l=new bl(l,null,fa.field,
I.getName("geojson_".concat(O++)))));return l}constructor(l,I,O,fa){super(l);this.fields=I;this.geojson=O;this.signal=fa}dependentFields(){var l;const I=(null!==(l=this.fields)&&void 0!==l?l:[]).filter(n.isString);return new Set([...(this.geojson?[this.geojson]:[]),...I])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(e(this.fields))}assemble(){return[...(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:
[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}class rl extends Re{clone(){return new rl(null,this.projection,qf(this.fields),qf(this.as))}constructor(l,I,O,fa){super(l);this.projection=I;this.fields=O;this.as=fa}static parseAll(l,I){if(!I.projectionName())return l;for(const O of[["longitude","latitude"],["longitude2","latitude2"]]){const fa=O.map(ya=>{ya=Ie(I.encoding[ya]);return wc(ya)?ya.field:ld(ya)?{expr:"".concat(ya.datum)}:
se(ya)?{expr:"".concat(ya.value)}:void 0}),va="longitude2"===O[0]?"2":"";if(fa[0]||fa[1])l=new rl(l,I.projectionName(),fa,[I.getName("x".concat(va)),I.getName("y".concat(va))])}return l}dependentFields(){return new Set(this.fields.filter(n.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(e(this.fields)," ").concat(e(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Lk extends Re{clone(){return new Lk(null,
qf(this.transform))}constructor(l,I){super(l);this.transform=I}dependentFields(){var l;return new Set([this.transform.impute,this.transform.key,...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(l){const {start:I=0,stop:O,step:fa}=l;l=[I,O,...(fa?[fa]:[])].join();return{signal:"sequence(".concat(l,")")}}static makeFromTransform(l,I){return new Lk(l,I)}static makeFromEncoding(l,I){const O=I.encoding;var fa=O.x;const va=
O.y;if(wc(fa)&&wc(va)){const ya=fa.impute?fa:va.impute?va:void 0;if(void 0===ya)return;fa=fa.impute?va:va.impute?fa:void 0;const {method:gb,value:sb,frame:yb,keyvals:Ob}=ya.impute;I=be(I.mark,O);return new Lk(l,Object.assign({},{impute:ya.field,key:fa.field},gb?{method:gb}:{},void 0!==sb?{value:sb}:{},yb?{frame:yb}:{},void 0!==Ob?{keyvals:Ob}:{},I.length?{groupby:I}:{}))}return null}hash(){return"Impute ".concat(e(this.transform))}assemble(){const {impute:l,key:I,keyvals:O,method:fa,groupby:va,value:ya,
frame:gb=[null,null]}=this.transform,sb=Object.assign({},{type:"impute",field:l,key:I},O?{keyvals:void 0!==(null===O||void 0===O?void 0:O.stop)?this.processSequence(O):O}:{},{method:"value"},va?{groupby:va}:{},{value:fa&&"value"!==fa?null:ya});if(fa&&"value"!==fa){const yb=Object.assign({},{type:"window",as:["imputed_".concat(l,"_value")],ops:[fa],fields:[l],frame:gb,ignorePeers:!1},va?{groupby:va}:{}),Ob={type:"formula",expr:"datum.".concat(l," \x3d\x3d\x3d null ? datum.imputed_").concat(l,"_value : datum.").concat(l),
as:l};return[sb,yb,Ob]}return[sb]}}class Jl extends Re{clone(){return new Jl(null,qf(this.transform))}constructor(l,I){var O,fa,va;super(l);this.transform=I;this.transform=qf(I);l=null!==(O=this.transform.as)&&void 0!==O?O:[void 0,void 0];this.transform.as=[null!==(fa=l[0])&&void 0!==fa?fa:I.on,null!==(va=l[1])&&void 0!==va?va:I.loess]}dependentFields(){var l;return new Set([this.transform.loess,this.transform.on,...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(e(this.transform))}assemble(){var l=
this.transform,I=Object.assign({},l);const O=l.loess;l=l.on;I=(delete I.loess,delete I.on,I);return Object.assign({},{type:"loess",x:l,y:O},I)}}class sl extends Re{clone(){return new sl(null,qf(this.transform),this.secondary)}constructor(l,I,O){super(l);this.transform=I;this.secondary=O}static make(l,I,O,fa){const va=I.component.data.sources,{from:ya}=O;var gb=null;if("data"in ya)gb=tg(ya.data,va),gb||(gb=new lk(ya.data),va.push(gb)),fa=I.getName("lookup_".concat(fa)),gb=new zf(gb,fa,ye.Lookup,I.component.data.outputNodeRefCounts),
I.component.data.outputNodes[fa]=gb;else if("param"in ya){fa=ya.param;O=Object.assign({},{as:fa},O);let sb;try{sb=I.getSelectionComponent(H(fa),fa)}catch(yb){throw Error('Lookups can only be performed on selection parameters. "'.concat(fa,'" is a variable parameter.'));}gb=sb.materialized;if(!gb)throw Error('Cannot define and lookup the "'.concat(fa,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new sl(l,O,gb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
n.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(e({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var l=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:n.array(this.transform.as)}:{});else l=this.transform.as,n.isString(l)||(jc('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),l="_lookup"),l={as:[l]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},l,this.transform.default?{default:this.transform.default}:{})}}class Kl extends Re{clone(){return new Kl(null,qf(this.transform))}constructor(l,I){var O,fa,va;super(l);this.transform=I;this.transform=qf(I);l=null!==(O=this.transform.as)&&void 0!==O?O:[void 0,void 0];this.transform.as=[null!==(fa=l[0])&&void 0!==fa?fa:"prob",null!==(va=l[1])&&void 0!==va?va:"value"]}dependentFields(){var l;return new Set([this.transform.quantile,
...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(e(this.transform))}assemble(){var l=this.transform,I=Object.assign({},l);l=l.quantile;I=(delete I.quantile,I);return Object.assign({},{type:"quantile",field:l},I)}}class Ll extends Re{clone(){return new Ll(null,qf(this.transform))}constructor(l,I){var O,fa,va;super(l);this.transform=I;this.transform=qf(I);l=null!==(O=this.transform.as)&&void 0!==O?O:
[void 0,void 0];this.transform.as=[null!==(fa=l[0])&&void 0!==fa?fa:I.on,null!==(va=l[1])&&void 0!==va?va:I.regression]}dependentFields(){var l;return new Set([this.transform.regression,this.transform.on,...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(e(this.transform))}assemble(){var l=this.transform,I=Object.assign({},l);const O=l.regression;l=l.on;I=(delete I.regression,delete I.on,I);return Object.assign({},
{type:"regression",x:l,y:O},I)}}class Nl extends Re{clone(){return new Nl(null,qf(this.transform))}constructor(l,I){super(l);this.transform=I}addDimensions(l){var I;this.transform.groupby=z((null!==(I=this.transform.groupby)&&void 0!==I?I:[]).concat(l),O=>O)}producedFields(){}dependentFields(){var l;return new Set([this.transform.pivot,this.transform.value,...(null!==(l=this.transform.groupby)&&void 0!==l?l:[])])}hash(){return"PivotTransform ".concat(e(this.transform))}assemble(){const {pivot:l,value:I,
groupby:O,limit:fa,op:va}=this.transform;return Object.assign({},{type:"pivot",field:l,value:I},void 0!==fa?{limit:fa}:{},void 0!==va?{op:va}:{},void 0!==O?{groupby:O}:{})}}class Ml extends Re{clone(){return new Ml(null,qf(this.transform))}constructor(l,I){super(l);this.transform=I}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(e(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class ul extends km{constructor(l,
I,O,fa){super(l,"facet",I,O,fa,l.resolve);zb(this,"facet",void 0);zb(this,"child",void 0);zb(this,"children",void 0);this.child=rk(l.spec,this,this.getName("child"),void 0,fa);this.children=[this.child];this.facet=this.initFacet(l.facet)}initFacet(l){if(!Ka(l))return{facet:this.initFacetFieldDef(l,"facet")};var I=le(l);const O={};for(const fa of I){if(!["row","column"].includes(fa)){jc(ve(fa,"facet"));break}I=l[fa];if(void 0===I.field){jc(pe(I,fa));break}O[fa]=this.initFacetFieldDef(I,fa)}return O}initFacetFieldDef(l,
I){l=Zg(l,I);l.header?l.header=nc(l.header):null===l.header&&(l.header=null);return l}channelHasField(l){return!!this.facet[l]}fieldDef(l){return this.facet[l]}parseData(){this.component.data=ng(this);this.child.parseData()}parseLayoutSize(){af(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const fa of gi){var l=void 0,I=fa;const {facet:va,
config:ya,child:gb,component:sb}=this;if(this.channelHasField(I)){const yb=va[I];var O=gd("title",null,ya,I);O=hf(yb,ya,{allowDisabling:!0,includeDefault:void 0===O||!!O});gb.component.layoutHeaders[I].title&&(O=n.isArray(O)?O.join(", "):O,O+=" / ".concat(gb.component.layoutHeaders[I].title),gb.component.layoutHeaders[I].title=null);const Ob=gd("labelOrient",yb.header,ya,I),vc=null!==yb.header?B(null===(l=yb.header)||void 0===l?void 0:l.labels,ya.header.labels,!0):!1;l=a(["bottom","right"],Ob)?"footer":
"header";sb.layoutHeaders[I]={title:null!==yb.header?O:null,facetFieldDef:yb,[l]:"facet"===I?[]:[pf(this,I,vc)]}}}uh(this,"x");uh(this,"y")}assembleSelectionTopLevelSignals(l){return this.child.assembleSelectionTopLevelSignals(l)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(l){return this.child.assembleSelectionData(l)}getHeaderLayoutMixins(){const l={};for(const gb of gi)for(const sb of Pl){const yb=this.component.layoutHeaders[gb];var I=yb[sb],{facetFieldDef:O}=
yb;if(O&&(O=gd("titleOrient",O.header,this.config,gb),["right","bottom"].includes(O))){var fa;O=xc(gb,O);null!==(fa=l.titleAnchor)&&void 0!==fa?fa:l.titleAnchor={};l.titleAnchor[O]="end"}if(null!==I&&void 0!==I&&I[0]){I="row"===gb?"height":"width";O="header"===sb?"headerBand":"footerBand";if("facet"!==gb&&!this.child.component.layoutSize.get(I)){var va;null!==(va=l[O])&&void 0!==va?va:l[O]={};l[O][gb]=.5}if(yb.title){var ya;null!==(ya=l.offset)&&void 0!==ya?ya:l.offset={};l.offset["row"===gb?"rowTitle":
"columnTitle"]=10}}}return l}assembleDefaultLayout(){const {column:l,row:I}=this.facet,O=l?this.columnDistinctSignal():I?1:void 0;let fa="all";I||"independent"!==this.component.resolve.scale.x?l||"independent"!==this.component.resolve.scale.y||(fa="none"):fa="none";return Object.assign({},this.getHeaderLayoutMixins(),O?{columns:O}:{},{bounds:"full",align:fa})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof ul)){const l=
this.getName("column_domain");return{signal:"length(data('".concat(l,"'))")}}}assembleGroupStyle(){}assembleGroup(l){return this.parent&&this.parent instanceof ul?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Ad(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(l)):super.assembleGroup(l)}getCardinalityAggregateForChild(){const l=[],I=[],O=[];if(this.child instanceof ul){if(this.child.channelHasField("column")){var fa=Ad(this.child.facet.column);l.push(fa);
I.push("distinct");O.push("distinct_".concat(fa))}}else for(fa of qi){var va=this.child.component.scales[fa];if(va&&!va.merged){var ya=va.get("type");va=va.get("range");Sd(ya)&&tc(va)&&(ya=Wi(this.child,fa),(ya=dj(ya))?(l.push(ya),I.push("distinct"),O.push("distinct_".concat(ya))):jc(od(fa)))}}return{fields:l,ops:I,as:O}}assembleFacet(){const {name:l,data:I}=this.component.data.facetRoot,{row:O,column:fa}=this.facet,{fields:va,ops:ya,as:gb}=this.getCardinalityAggregateForChild(),sb=[];for(var yb of gi){var Ob=
this.facet[yb];if(Ob){sb.push(Ad(Ob));const {bin:vc,sort:kd}=Ob;Wa(vc)&&sb.push(Ad(Ob,{binSuffix:"end"}));if(Vb(kd)){const {field:Qc,op:zd="min"}=kd;Ob=Lg(Ob,kd);O&&fa?(va.push(Ob),ya.push("max")):(va.push(Qc),ya.push(zd));gb.push(Ob)}else n.isArray(kd)&&(Ob=hc(Ob,yb),va.push(Ob),ya.push("max"),gb.push(Ob))}}yb=!!O&&!!fa;return Object.assign({},{name:l,data:I,groupby:sb},yb||0<va.length?{aggregate:Object.assign({},yb?{cross:yb}:{},va.length?{fields:va,ops:ya,as:gb}:{})}:{})}facetSortFields(l){var {facet:I}=
this;return(I=I[l])?Vb(I.sort)?[Lg(I,I.sort,{expr:"datum"})]:n.isArray(I.sort)?[hc(I,l,{expr:"datum"})]:[Ad(I,{expr:"datum"})]:[]}facetSortOrder(l){const {facet:I}=this;return(l=I[l])?({sort:l}=l,[(Vb(l)?l.order:!n.isArray(l)&&l)||"ascending"]):[]}assembleLabelTitle(){const {facet:l,config:I}=this;if(l.facet)return ie(l.facet,"facet",I);const O={row:["top","bottom"],column:["left","right"]};for(const va of Ol)if(l[va]){var fa;const ya=gd("labelOrient",null===(fa=l[va])||void 0===fa?void 0:fa.header,
I,va);if(O[va].includes(ya))return ie(l[va],va,I)}}assembleMarks(){const {child:l}=this,I=Ld(this.component.data.facetRoot),O=l.assembleGroupEncodeEntry(!1),fa=this.assembleLabelTitle()||l.assembleTitle(),va=l.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},fa?{title:fa}:{},va?{style:va}:{},{from:{facet:this.assembleFacet()},sort:{field:gi.map(ya=>this.facetSortFields(ya)).flat(),order:gi.map(ya=>this.facetSortOrder(ya)).flat()}},0<I.length?{data:I}:{},O?{encode:{update:O}}:
{},l.assembleGroup(Ba(this,[])))]}getMapping(){return this.facet}}class Fm extends Tl{constructor(l,I,O,fa){var va,ya,gb,sb;super(l,"concat",I,O,fa,l.resolve);zb(this,"children",void 0);"shared"!==(null===(va=l.resolve)||void 0===va?void 0:null===(ya=va.axis)||void 0===ya?void 0:ya.x)&&"shared"!==(null===(gb=l.resolve)||void 0===gb?void 0:null===(sb=gb.axis)||void 0===sb?void 0:sb.y)||jc("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(l).map((yb,Ob)=>rk(yb,this,this.getName("concat_".concat(Ob)),void 0,fa))}parseData(){this.component.data=ng(this);for(const l of this.children)l.parseData()}parseSelections(){this.component.selection={};for(const l of this.children){l.parseSelections();for(const I of le(l.component.selection))this.component.selection[I]=l.component.selection[I]}}parseMarkGroup(){for(const l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){for(const l of this.children)l.parseAxesAndHeaders()}getChildren(l){return"vconcat"in
l?l.vconcat:"hconcat"in l?l.hconcat:l.concat}parseLayoutSize(){af(this);const l=void 0===this.layout.columns?"height":"childHeight";Sf(this,1===this.layout.columns?"width":"childWidth");Sf(this,l)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(l){return this.children.reduce((I,O)=>O.assembleSelectionTopLevelSignals(I),l)}assembleSignals(){this.children.forEach(l=>l.assembleSignals());return[]}assembleLayoutSignals(){const l=yf(this);for(const I of this.children)l.push(...I.assembleLayoutSignals());
return l}assembleSelectionData(l){return this.children.reduce((I,O)=>O.assembleSelectionData(I),l)}assembleMarks(){return this.children.map(l=>{const I=l.assembleTitle(),O=l.assembleGroupStyle(),fa=l.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:l.getName("group")},I?{title:I}:{},O?{style:O}:{},fa?{encode:{update:fa}}:{},l.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const l=this.layout.columns;return Object.assign({},null!=l?{columns:l}:{},{bounds:"full",
align:"each"})}}const Im=Object.assign({},{disable:1,gridScale:1,scale:1},Ui,{labelExpr:1,encode:1}),cm=le(Im);class dm extends Xd{constructor(){let l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=l;this.implicit=I;this.mainExtracted=O}clone(){return new dm(qf(this.explicit),qf(this.implicit),this.mainExtracted)}hasAxisPart(l){if("axis"===l)return!0;
if("grid"===l||"title"===l)return!!this.get(l);l=this.get(l);return!(!1===l||null===l)}hasOrientSignalRef(){return yc(this.explicit.orient)}}const Jm={bottom:"top",top:"bottom",left:"right",right:"left"},Em=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),tl={arc:{vgMark:"arc",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),of("x",l,{defaultPos:"mid"}),of("y",
l,{defaultPos:"mid"}),xf(l,"radius"),xf(l,"theta"))},area:{vgMark:"area",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),mf("x",l,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===l.markDef.orient}),mf("y",l,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===l.markDef.orient}),Kg(l))},bar:{vgMark:"rect",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),xf(l,"x"),xf(l,"y"))},circle:{vgMark:"symbol",encodeEntry:l=>Wk(l,"circle")},geoshape:{vgMark:"shape",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:l=>{var {encoding:I}=l;I=I.shape;return[Object.assign({},{type:"geoshape",projection:l.projectionName()},I&&wc(I)&&"geojson"===I.type?{field:Ad(I,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:l=>
Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),xf(l,"x"),xf(l,"y"),fc(l,"url"))},line:{vgMark:"line",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),of("x",l,{defaultPos:"mid"}),of("y",l,{defaultPos:"mid"}),Cd("size",l,{vgChannel:"strokeWidth"}),Kg(l))},point:{vgMark:"symbol",encodeEntry:l=>Wk(l)},rect:{vgMark:"rect",encodeEntry:l=>Object.assign({},
ih(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),xf(l,"x"),xf(l,"y"))},rule:{vgMark:"rule",encodeEntry:l=>{var {markDef:I}=l;I=I.orient;return l.encoding.x||l.encoding.y||l.encoding.latitude||l.encoding.longitude?Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),mf("x",l,{defaultPos:"horizontal"===I?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==I}),mf("y",l,{defaultPos:"vertical"===
I?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==I}),Cd("size",l,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:l=>Wk(l,"square")},text:{vgMark:"text",encodeEntry:l=>{var {config:I}=l,O=Object,fa=O.assign,va=ih(l,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),ya=of("x",l,{defaultPos:"mid"}),gb=of("y",l,{defaultPos:"mid"}),sb=fc(l),yb=Cd("size",l,{vgChannel:"fontSize"}),Ob=Cd("angle",l);var vc=void 0===Rc("align",
l.markDef,I)?"center":void 0;vc=Sg("align",vc);I=void 0===Rc("baseline",l.markDef,I)?"middle":void 0;return fa.call(O,{},va,ya,gb,sb,yb,Ob,vc,Sg("baseline",I),of("radius",l,{defaultPos:null}),of("theta",l,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:l=>{const {config:I,markDef:O}=l;var fa=O.orient;const va="horizontal"===fa?"width":"height";fa="horizontal"===fa?"height":"width";var ya=Object,gb=ya.assign,sb=ih(l,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",
theta:"ignore"}),yb=of("x",l,{defaultPos:"mid",vgChannel:"xc"}),Ob=of("y",l,{defaultPos:"mid",vgChannel:"yc"}),vc;{const {config:Qc,markDef:zd}=l;var {orient:kd}=zd;const Id="horizontal"===kd?"width":"height";kd=l.getScaleComponent("horizontal"===kd?"x":"y");const Zd=null!==(vc=Rc("size",zd,Qc,{vgChannel:Id}))&&void 0!==vc?vc:Qc.tick.bandSize;vc=void 0!==Zd?Zd:(vc=kd?kd.get("range"):void 0)&&tc(vc)&&n.isNumber(vc.step)?3*vc.step/4:3*pd(Qc.view,Id)/4}return gb.call(ya,{},sb,yb,Ob,Cd("size",l,{defaultValue:vc,
vgChannel:va}),{[fa]:ac(Rc("thickness",O,I))})}},trail:{vgMark:"trail",encodeEntry:l=>Object.assign({},ih(l,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),of("x",l,{defaultPos:"mid"}),of("y",l,{defaultPos:"mid"}),Cd("size",l),Kg(l))}};class gm extends km{constructor(l,I,O){var fa;let va=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},ya=4<arguments.length?arguments[4]:void 0;super(l,"unit",I,O,ya,void 0,Hc(l)?l.view:void 0);zb(this,"markDef",
void 0);zb(this,"encoding",void 0);zb(this,"specifiedScales",{});zb(this,"stack",void 0);zb(this,"specifiedAxes",{});zb(this,"specifiedLegends",{});zb(this,"specifiedProjection",{});zb(this,"selection",[]);zb(this,"children",[]);const gb=Xb(l.mark)?Object.assign({},l.mark):{type:l.mark},sb=gb.type;void 0===gb.filled&&(gb.filled=Dj(gb,ya,{graticule:l.data&&"graticule"in l.data}));const yb=this.encoding=Za(l.encoding||{},sb,gb.filled,ya);this.markDef=Ii(gb,yb,ya);this.size=Oi({encoding:yb,size:Hc(l)?
Object.assign({},va,l.width?{width:l.width}:{},l.height?{height:l.height}:{}):va});this.stack=Rg(sb,yb);this.specifiedScales=this.initScales(sb,yb);this.specifiedAxes=this.initAxes(yb);this.specifiedLegends=this.initLegends(yb);this.specifiedProjection=l.projection;this.selection=(null!==(fa=l.params)&&void 0!==fa?fa:[]).filter(Ob=>!!Ob.select)}get hasProjection(){const {encoding:l}=this,I=this.mark===Bk,O=l&&kl.some(fa=>Fd(l[fa]));return I||O}scaleDomain(l){return(l=this.specifiedScales[l])?l.domain:
void 0}axis(l){return this.specifiedAxes[l]}legend(l){return this.specifiedLegends[l]}initScales(l,I){return yj.reduce((O,fa)=>{const va=Ie(I[fa]);if(va){var ya;O[fa]=this.initScale(null!==(ya=va.scale)&&void 0!==ya?ya:{})}return O},{})}initScale(l){const {domain:I,range:O}=l;l=nc(l);n.isArray(I)&&(l.domain=I.map(Ab));n.isArray(O)&&(l.range=O.map(Ab));return l}initAxes(l){return qi.reduce((I,O)=>{var fa=l[O];if(Fd(fa)||"x"===O&&Fd(l.x2)||"y"===O&&Fd(l.y2))fa=Fd(fa)?fa.axis:void 0,I[O]=fa?this.initAxis(Object.assign({},
fa)):fa;return I},{})}initAxis(l){var I=le(l);const O={};for(const fa of I)I=l[fa],O[fa]=eg(I)?Mb(I):Ab(I);return O}initLegends(l){return uk.reduce((I,O)=>{var fa=Ie(l[O]),va;if(va=fa)a:{switch(O){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":va=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":va=!1;break a}va=void 0}va&&(fa=fa.legend,I[O]=fa?nc(fa):fa);return I},{})}parseData(){this.component.data=ng(this)}parseLayoutSize(){const {size:l,
component:I}=this;for(const fa of qi){const va=Ma(fa);if(l[va]){var O=l[va];I.layoutSize.set(va,Rb(O)?"step":O,!0)}else O=Dg(this,va),I.layoutSize.set(va,O,!1)}}parseSelections(){var l=this.component,I;{var O=this.selection;const va={},ya=this.config.selection;if(O&&O.length)for(const gb of O){O=H(gb.name);var fa=gb.select;const sb=n.isString(fa)?fa:fa.type;fa=n.isObject(fa)?qf(fa):{type:sb};const yb=ya[sb];for(const Ob in yb)"fields"!==Ob&&"encodings"!==Ob&&("mark"===Ob&&(fa[Ob]=Object.assign({},
yb[Ob],fa[Ob])),void 0===fa[Ob]||!0===fa[Ob])&&(fa[Ob]=null!==(I=yb[Ob])&&void 0!==I?I:fa[Ob]);O=va[O]=Object.assign({},fa,{name:O,type:sb,init:gb.value,bind:gb.bind,events:n.isString(fa.on)?n.parseSelector(fa.on,"scope"):n.array(qf(fa.on))});for(const Ob of nl)Ob.defined(O)&&Ob.parse&&Ob.parse(this,O,gb)}I=va}l.selection=I}parseMarkGroup(){this.component.mark=Yk(this)}parseAxesAndHeaders(){this.component.axes=mg(this)}assembleSelectionTopLevelSignals(l){return db(this,l)}assembleSignals(){var l=
[...ti(this)];var I=[];for(const fa of zh(null!==(O=this.component.selection)&&void 0!==O?O:{})){var O;O=fa.name;let va="".concat(O).concat("_tuple",", ").concat("global"===fa.resolve?"true":"{unit: ".concat(Ch(this),"}"));for(const ya of nl)ya.defined(fa)&&(ya.signals&&(I=ya.signals(this,fa,I)),ya.modifyExpr&&(va=ya.modifyExpr(this,fa,va)));I.push({name:O+"_modify",on:[{events:{signal:fa.name+"_tuple"},update:"modify(".concat(n.stringValue(fa.name+"_store"),", ").concat(va,")")}]})}I=rc(I);return[...l,
...I]}assembleSelectionData(l){return wb(this,l)}assembleLayout(){return null}assembleLayoutSignals(){return yf(this)}assembleMarks(){var l;let I=null!==(l=this.component.mark)&&void 0!==l?l:[];this.parent&&Wc(this.parent)||(I=Lb(this,I));return I.map(this.correctDataNames)}assembleGroupStyle(){const {style:l}=this.view||{};if(void 0!==l)return l;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(l){return jg(this.encoding,
l)}fieldDef(l){return Yd(this.encoding[l])}typedFieldDef(l){l=this.fieldDef(l);return he(l)?l:null}}class fm extends Tl{constructor(l,I,O,fa,va){super(l,"layer",I,O,va,l.resolve,l.view);zb(this,"children",void 0);const ya=Object.assign({},fa,l.width?{width:l.width}:{},l.height?{height:l.height}:{});this.children=l.layer.map((gb,sb)=>{if("layer"in gb)return new fm(gb,this,this.getName("layer_".concat(sb)),ya,va);if(Mf(gb))return new gm(gb,this,this.getName("layer_".concat(sb)),ya,va);throw Error($b(gb));
})}parseData(){this.component.data=ng(this);for(const l of this.children)l.parseData()}parseLayoutSize(){af(this);Sf(this,"width");Sf(this,"height")}parseSelections(){this.component.selection={};for(const l of this.children){l.parseSelections();for(const I of le(l.component.selection))this.component.selection[I]=l.component.selection[I]}}parseMarkGroup(){for(const l of this.children)l.parseMarkGroup()}parseAxesAndHeaders(){const {axes:l,resolve:I}=this.component,O={top:0,bottom:0,right:0,left:0};
for(var fa of this.children){fa.parseAxesAndHeaders();for(const ya of le(fa.component.axes))I.axis[ya]=Qg(this.component.resolve,ya),"shared"===I.axis[ya]&&(l[ya]=Bg(l[ya],fa.component.axes[ya]),l[ya]||(I.axis[ya]="independent",delete l[ya]))}for(const ya of qi){for(const gb of this.children)if(gb.component.axes[ya]){if("independent"===I.axis[ya]){var va;l[ya]=(null!==(va=l[ya])&&void 0!==va?va:[]).concat(gb.component.axes[ya]);for(const sb of gb.component.axes[ya]){const {value:yb,explicit:Ob}=sb.getWithExplicit("orient");
yc(yb)||(0<O[yb]&&!Ob&&(fa=Jm[yb],O[yb]>O[fa]&&sb.set("orient",fa,!1)),O[yb]++)}}delete gb.component.axes[ya]}if("independent"===I.axis[ya]&&l[ya]&&1<l[ya].length)for(const gb of l[ya])gb.get("grid")&&!gb.explicit.grid&&(gb.implicit.grid=!1)}}assembleSelectionTopLevelSignals(l){return this.children.reduce((I,O)=>O.assembleSelectionTopLevelSignals(I),l)}assembleSignals(){return this.children.reduce((l,I)=>l.concat(I.assembleSignals()),ti(this))}assembleLayoutSignals(){return this.children.reduce((l,
I)=>l.concat(I.assembleLayoutSignals()),yf(this))}assembleSelectionData(l){return this.children.reduce((I,O)=>O.assembleSelectionData(I),l)}assembleGroupStyle(){var l=new Set;for(const I of this.children)for(const O of n.array(I.assembleGroupStyle()))l.add(O);l=Array.from(l);return 1<l.length?l:1===l.length?l[0]:void 0}assembleTitle(){let l=super.assembleTitle();if(l)return l;for(const I of this.children)if(l=I.assembleTitle())return l}assembleLayout(){return null}assembleMarks(){return pc(this,this.children.flatMap(l=>
l.assembleMarks()))}assembleLegends(){return this.children.reduce((l,I)=>l.concat(I.assembleLegends()),wf(this))}}p.accessPathDepth=w;p.accessPathWithDatum=T;p.compile=function(l){let I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};I.logger&&(mj=I.logger);I.fieldTitle&&(Bi=I.fieldTitle);try{const vc=rf(n.mergeConfig(I.config,l.config)),kd=xg(l,vc),Qc=rk(kd,null,"",void 0,vc);Qc.parse();var O=Qc.component.data,fa=Qc;Ih(O.sources);let zd=0,Id=0;for(var va=0;5>va&&ig(O,fa,!0);va++)zd++;O.sources.map(cj);
for(va=0;5>va&&ig(O,fa,!1);va++)Id++;Ih(O.sources);5===Math.max(zd,Id)&&jc("Maximum optimization runs(".concat(5,") reached."));var ya=kd.autosize;O=vc;fa=Qc;const Zd=fa.component.layoutSize.get("width"),te=fa.component.layoutSize.get("height");void 0===ya?(ya={type:"pad"},fa.hasAxisOrientSignalRef()&&(ya.resize=!0)):n.isString(ya)&&(ya={type:ya});var gb;if(gb=Zd&&te){var sb=ya.type;gb="fit"===sb||"fit-x"===sb||"fit-y"===sb}if(gb)if("step"===Zd&&"step"===te)jc(fd()),ya.type="pad";else if("step"===
Zd||"step"===te){sb="step"===Zd?"width":"height";jc(fd(Va(sb)));gb=ya;var yb=(sb="width"===sb?"height":"width","fit-".concat(Va(sb)));gb.type=yb}var Ob=Object.assign({},1===le(ya).length&&ya.type?"pad"===ya.type?{}:{autosize:ya.type}:{autosize:ya},fb(O,!1),fb(l,!0));return{spec:Ok(Qc,Ob,l.datasets,l.usermeta),normalized:kd}}finally{I.logger&&(mj=si),I.fieldTitle&&(Bi=Hi)}};p.contains=a;p.deepEqual=nh;p.deleteNestedProperty=R;p.duplicate=qf;p.entries=hj;p.every=b;p.fieldIntersection=A;p.flatAccessWithDatum=
ba;p.getFirstDefined=B;p.hasIntersection=C;p.hash=e;p.internalField=U;p.isBoolean=q;p.isEmpty=x;p.isEqual=function(l,I){const O=le(l),fa=le(I);if(O.length!==fa.length)return!1;for(const va of O)if(l[va]!==I[va])return!1;return!0};p.isInternalField=ka;p.isNullOrFalse=d;p.isNumeric=la;p.keys=le;p.logicalExpr=M;p.mergeDeep=m;p.never=h;p.normalize=xg;p.normalizeAngle=da;p.omit=f;p.pick=k;p.prefixGenerator=J;p.removePathFromField=P;p.replaceAll=X;p.replacePathInField=W;p.resetIdCounter=function(){sk=42};
p.setEqual=u;p.some=c;p.stringify=Mg;p.titleCase=Z;p.unique=z;p.uniqueId=K;p.vals=zh;p.varName=H;p.version="5.2.0";Object.defineProperty(p,"__esModule",{value:!0})})};
shadow$provide[49]=function(sa,F,ob,G){function y(){throw Error("setTimeout has not been defined");}function p(){throw Error("clearTimeout has not been defined");}function n(z){if(e===setTimeout)return setTimeout(z,0);if((e===y||!e)&&setTimeout)return e=setTimeout,setTimeout(z,0);try{return e(z,0)}catch(u){try{return e.call(null,z,0)}catch(C){return e.call(this,z,0)}}}function v(z){if(d===clearTimeout)return clearTimeout(z);if((d===p||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(z);try{return d(z)}catch(u){try{return d.call(null,
z)}catch(C){return d.call(this,z)}}}function r(){c&&b&&(c=!1,b.length?a=b.concat(a):m=-1,a.length&&h())}function h(){if(!c){var z=n(r);c=!0;for(var u=a.length;u;){b=a;for(a=[];++m<u;)b&&b[m].run();m=-1;u=a.length}b=null;c=!1;v(z)}}function k(z,u){this.fun=z;this.array=u}function f(){}sa=ob.exports={};try{var e="function"===typeof setTimeout?setTimeout:y}catch(z){e=y}try{var d="function"===typeof clearTimeout?clearTimeout:p}catch(z){d=p}var a=[],c=!1,b,m=-1;sa.nextTick=function(z){var u=Array(arguments.length-
1);if(1<arguments.length)for(var C=1;C<arguments.length;C++)u[C-1]=arguments[C];a.push(new k(z,u));1!==a.length||c||n(h)};k.prototype.run=function(){this.fun.apply(null,this.array)};sa.title="browser";sa.browser=!0;sa.env={};sa.argv=[];sa.version="";sa.versions={};sa.on=f;sa.addListener=f;sa.once=f;sa.off=f;sa.removeListener=f;sa.removeAllListeners=f;sa.emit=f;sa.prependListener=f;sa.prependOnceListener=f;sa.listeners=function(z){return[]};sa.binding=function(z){throw Error("process.binding is not supported");
};sa.cwd=function(){return"/"};sa.chdir=function(z){throw Error("process.chdir is not supported");};sa.umask=function(){return 0}};
shadow$provide[50]=function(sa,F,ob,G){var y=F(49);(function(p,n){"object"===typeof G&&"undefined"!==typeof ob?ob.exports=n(F(47),F(48)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],n):(p="undefined"!==typeof globalThis?globalThis:p||self,p.vegaEmbed=n(p.vega,p.vegaLite))})(this,function(p,n){function v(ha){if(ha&&ha.__esModule)return ha;var Oa=Object.create(null);ha&&Object.keys(ha).forEach(function($a){if("default"!==$a){var ub=Object.getOwnPropertyDescriptor(ha,$a);Object.defineProperty(Oa,
$a,ub.get?ub:{enumerable:!0,get:function(){return ha[$a]}})}});Oa["default"]=ha;return Object.freeze(Oa)}function r(ha){if(Array.isArray(ha)){var Oa=Array(ha.length);for(ha=0;ha<Oa.length;ha++)Oa[ha]=""+ha;return Oa}if(Object.keys)return Object.keys(ha);Oa=[];for(var $a in ha)La.call(ha,$a)&&Oa.push($a);return Oa}function h(ha){switch(typeof ha){case "object":return JSON.parse(JSON.stringify(ha));case "undefined":return null;default:return ha}}function k(ha){for(var Oa=0,$a=ha.length,ub;Oa<$a;)if(ub=
ha.charCodeAt(Oa),48<=ub&&57>=ub)Oa++;else return!1;return!0}function f(ha){return-1===ha.indexOf("/")&&-1===ha.indexOf("~")?ha:ha.replace(/~/g,"~0").replace(/\//g,"~1")}function e(ha){return ha.replace(/~1/g,"/").replace(/~0/g,"~")}function d(ha){if(void 0===ha)return!0;if(ha)if(Array.isArray(ha))for(var Oa=0,$a=ha.length;Oa<$a;Oa++){if(d(ha[Oa]))return!0}else if("object"===typeof ha){$a=r(ha);var ub=$a.length;for(Oa=0;Oa<ub;Oa++)if(d(ha[$a[Oa]]))return!0}return!1}function a(ha,Oa){ha=[ha];for(var $a in Oa){var ub=
"object"===typeof Oa[$a]?JSON.stringify(Oa[$a],null,2):Oa[$a];"undefined"!==typeof ub&&ha.push($a+": "+ub)}return ha.join("\n")}function c(ha,Oa){if(""==Oa)return ha;Oa={op:"_get",path:Oa};b(ha,Oa);return Oa.value}function b(ha,Oa,$a,ub,Cb,Wb){void 0===$a&&($a=!1);void 0===ub&&(ub=!0);void 0===Cb&&(Cb=!0);void 0===Wb&&(Wb=0);$a&&("function"==typeof $a?$a(Oa,0,ha,Oa.path):z(Oa,0));if(""===Oa.path){Cb={newDocument:ha};if("add"===Oa.op)return Cb.newDocument=Oa.value,Cb;if("replace"===Oa.op)return Cb.newDocument=
Oa.value,Cb.removed=ha,Cb;if("move"===Oa.op||"copy"===Oa.op)return Cb.newDocument=c(ha,Oa.from),"move"===Oa.op&&(Cb.removed=ha),Cb;if("test"===Oa.op){Cb.test=C(ha,Oa.value);if(!1===Cb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",Wb,Oa,ha);Cb.newDocument=ha;return Cb}if("remove"===Oa.op)return Cb.removed=ha,Cb.newDocument=null,Cb;if("_get"===Oa.op)return Oa.value=ha,Cb;if($a)throw new Da("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
Wb,Oa,ha);return Cb}ub||(ha=h(ha));ub=(Oa.path||"").split("/");var sc=ha,Uc=1,Xc=ub.length,Cc=void 0,zc,oc;for(oc="function"==typeof $a?$a:z;;){(zc=ub[Uc])&&-1!=zc.indexOf("~")&&(zc=e(zc));if(Cb&&"__proto__"==zc)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");$a&&void 0===Cc&&(void 0===sc[zc]?Cc=ub.slice(0,Uc).join("/"):
Uc==Xc-1&&(Cc=Oa.path),void 0!==Cc&&oc(Oa,0,ha,Cc));Uc++;if(Array.isArray(sc)){if("-"===zc)zc=sc.length;else{if($a&&!k(zc))throw new Da("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Wb,Oa,ha);k(zc)&&(zc=~~zc)}if(Uc>=Xc){if($a&&"add"===Oa.op&&zc>sc.length)throw new Da("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Wb,Oa,
ha);Cb=ua[Oa.op].call(Oa,sc,zc,ha);if(!1===Cb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",Wb,Oa,ha);return Cb}}else if(Uc>=Xc){Cb=Ma[Oa.op].call(Oa,sc,zc,ha);if(!1===Cb.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",Wb,Oa,ha);return Cb}sc=sc[zc];if($a&&Uc<Xc&&(!sc||"object"!==typeof sc))throw new Da("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",Wb,Oa,ha);}}function m(ha,Oa,$a,ub,Cb){void 0===ub&&(ub=!0);void 0===Cb&&(Cb=!0);if($a&&
!Array.isArray(Oa))throw new Da("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");ub||(ha=h(ha));ub=Array(Oa.length);for(var Wb=0,sc=Oa.length;Wb<sc;Wb++)ub[Wb]=b(ha,Oa[Wb],$a,!0,Cb,Wb),ha=ub[Wb].newDocument;ub.newDocument=ha;return ub}function z(ha,Oa,$a,ub){if("object"!==typeof ha||null===ha||Array.isArray(ha))throw new Da("Operation is not an object","OPERATION_NOT_AN_OBJECT",Oa,ha,$a);if(Ma[ha.op]){if("string"!==typeof ha.path)throw new Da("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",Oa,ha,$a);if(0!==ha.path.indexOf("/")&&0<ha.path.length)throw new Da('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Oa,ha,$a);if("move"!==ha.op&&"copy"!==ha.op||"string"===typeof ha.from)if("add"!==ha.op&&"replace"!==ha.op&&"test"!==ha.op||void 0!==ha.value){if(("add"===ha.op||"replace"===ha.op||"test"===ha.op)&&d(ha.value))throw new Da("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
Oa,ha,$a);if($a)if("add"==ha.op){var Cb=ha.path.split("/").length;ub=ub.split("/").length;if(Cb!==ub+1&&Cb!==ub)throw new Da("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Oa,ha,$a);}else if("replace"===ha.op||"remove"===ha.op||"_get"===ha.op){if(ha.path!==ub)throw new Da("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Oa,ha,$a);}else if(("move"===ha.op||"copy"===ha.op)&&(Cb=u([{op:"_get",path:ha.from,value:void 0}],$a))&&
"OPERATION_PATH_UNRESOLVABLE"===Cb.name)throw new Da("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Oa,ha,$a);}else throw new Da("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Oa,ha,$a);else throw new Da("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Oa,ha,$a);}else throw new Da("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",Oa,ha,$a);}function u(ha,Oa,$a){try{if(!Array.isArray(ha))throw new Da("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Oa)m(h(Oa),h(ha),$a||!0);else{$a=$a||z;for(var ub=0;ub<ha.length;ub++)$a(ha[ub],ub,Oa,void 0)}}catch(Cb){if(Cb instanceof Da)return Cb;throw Cb;}}function C(ha,Oa){if(ha===Oa)return!0;if(ha&&Oa&&"object"==typeof ha&&"object"==typeof Oa){var $a=Array.isArray(ha),ub=Array.isArray(Oa);if($a&&ub){var Cb=ha.length;if(Cb!=Oa.length)return!1;for($a=Cb;0!==
$a--;)if(!C(ha[$a],Oa[$a]))return!1;return!0}if($a!=ub)return!1;ub=Object.keys(ha);Cb=ub.length;if(Cb!==Object.keys(Oa).length)return!1;for($a=Cb;0!==$a--;)if(!Oa.hasOwnProperty(ub[$a]))return!1;for($a=Cb;0!==$a--;)if(Cb=ub[$a],!C(ha[Cb],Oa[Cb]))return!1;return!0}return ha!==ha&&Oa!==Oa}function J(ha,Oa){void 0===Oa&&(Oa=!1);var $a=qa.get(ha.object);A($a.value,ha.object,ha.patches,"",Oa);ha.patches.length&&m($a.value,ha.patches);Oa=ha.patches;0<Oa.length&&(ha.patches=[],ha.callback&&ha.callback(Oa));
return Oa}function A(ha,Oa,$a,ub,Cb){if(Oa!==ha){"function"===typeof Oa.toJSON&&(Oa=Oa.toJSON());for(var Wb=r(Oa),sc=r(ha),Uc=!1,Xc=sc.length-1;0<=Xc;Xc--){var Cc=sc[Xc],zc=ha[Cc];if(!La.call(Oa,Cc)||void 0===Oa[Cc]&&void 0!==zc&&!1===Array.isArray(Oa))Array.isArray(ha)===Array.isArray(Oa)?(Cb&&$a.push({op:"test",path:ub+"/"+f(Cc),value:h(zc)}),$a.push({op:"remove",path:ub+"/"+f(Cc)}),Uc=!0):(Cb&&$a.push({op:"test",path:ub,value:ha}),$a.push({op:"replace",path:ub,value:Oa}));else{var oc=Oa[Cc];"object"==
typeof zc&&null!=zc&&"object"==typeof oc&&null!=oc&&Array.isArray(zc)===Array.isArray(oc)?A(zc,oc,$a,ub+"/"+f(Cc),Cb):zc!==oc&&(Cb&&$a.push({op:"test",path:ub+"/"+f(Cc),value:h(zc)}),$a.push({op:"replace",path:ub+"/"+f(Cc),value:h(oc)}))}}if(Uc||Wb.length!=sc.length)for(Xc=0;Xc<Wb.length;Xc++)Cc=Wb[Xc],La.call(ha,Cc)||void 0===Oa[Cc]||$a.push({op:"add",path:ub+"/"+f(Cc),value:h(Oa[Cc])})}}function x(ha){var Oa=this;Oa instanceof x||(Oa=new x);Oa.tail=null;Oa.head=null;Oa.length=0;if(ha&&"function"===
typeof ha.forEach)ha.forEach(function(Cb){Oa.push(Cb)});else if(0<arguments.length)for(var $a=0,ub=arguments.length;$a<ub;$a++)Oa.push(arguments[$a]);return Oa}function q(ha,Oa,$a,ub){if(!(this instanceof q))return new q(ha,Oa,$a,ub);this.list=ub;this.value=ha;Oa?(Oa.next=this,this.prev=Oa):this.prev=null;$a?($a.prev=this,this.next=$a):this.next=null}function H(ha,Oa,$a,ub,Cb,Wb){const sc=Uc=>me[Uc.type](sc,Uc);sc.memberDepth=0;sc.fn=Object.create(Oa);sc.params=$a;sc.datum=ub;sc.event=Cb;sc.item=
Wb;Hd.forEach(Uc=>sc.fn[Uc]=function(){return Cb.vega[Uc](...arguments)});return sc(ha)}function M(ha){const [Oa,$a]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(ha).slice(1,3);return{library:Oa,version:$a}}function R(ha,Oa,$a){ha.fields=Oa||[];ha.fname=$a;return ha}function Z(ha){return 1===ha.length?Ne(ha[0]):Bb(ha)}function T(ha){function Oa(){$a.push(sc+ha.substring(Uc,Xc));sc="";Uc=Xc+1}const $a=[],ub=ha.length;let Cb=null,Wb=0,sc="",Uc,Xc,Cc;ha+="";for(Uc=Xc=0;Xc<ub;++Xc)if(Cc=ha[Xc],"\\"===
Cc)sc+=ha.substring(Uc,Xc),sc+=ha.substring(++Xc,++Xc),Uc=Xc;else if(Cc===Cb)Oa(),Cb=null,Wb=-1;else if(!Cb)if(Uc===Wb&&'"'===Cc)Uc=Xc+1,Cb=Cc;else if(Uc===Wb&&"'"===Cc)Uc=Xc+1,Cb=Cc;else if("."===Cc&&!Wb)Xc>Uc?Oa():Uc=Xc+1;else if("["===Cc)Xc>Uc&&Oa(),Wb=Uc=Xc+1;else if("]"===Cc){if(!Wb)throw Error("Access path missing open bracket: "+ha);0<Wb&&Oa();Wb=0;Uc=Xc+1}if(Wb)throw Error("Access path missing closing bracket: "+ha);if(Cb)throw Error("Access path missing closing quote: "+ha);Xc>Uc&&(Xc++,
Oa());return $a}function ba(ha,Oa){var $a={},ub;for(ub in ha)Object.prototype.hasOwnProperty.call(ha,ub)&&0>Oa.indexOf(ub)&&($a[ub]=ha[ub]);if(null!=ha&&"function"===typeof Object.getOwnPropertySymbols){var Cb=0;for(ub=Object.getOwnPropertySymbols(ha);Cb<ub.length;Cb++)0>Oa.indexOf(ub[Cb])&&Object.prototype.propertyIsEnumerable.call(ha,ub[Cb])&&($a[ub[Cb]]=ha[ub[Cb]])}return $a}function aa(ha){const Oa=[];return function($a,ub){if("object"!==typeof ub||null===ub)return ub;$a=Oa.indexOf(this)+1;Oa.length=
$a;if(Oa.length>ha)return"[Object]";if(0<=Oa.indexOf(ub))return"[Circular]";Oa.push(ub);return ub}}function W(ha,Oa,$a){function ub(Xc){Xc.source===Wb&&(Uc=0,ha.removeEventListener("message",ub,!1))}function Cb(){0>=Uc||(Wb.postMessage($a,sc),setTimeout(Cb,250),--Uc)}const Wb=ha.open(Oa),{origin:sc}=new URL(Oa);let Uc=40;ha.addEventListener("message",ub,!1);setTimeout(Cb,250)}function X(ha){for(var Oa=arguments.length,$a=Array(1<Oa?Oa-1:0),ub=1;ub<Oa;ub++)$a[ub-1]=arguments[ub];for(const Cb of $a){Oa=
ha;$a=Cb;for(const Wb of Object.keys($a))p.writeConfig(Oa,Wb,$a[Wb],!0)}return ha}function P(ha,Oa,$a,ub){Oa="\x3chtml\x3e\x3chead\x3e".concat(Oa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');$a="\x3c/code\x3e\x3c/pre\x3e".concat($a,"\x3c/body\x3e\x3c/html\x3e");const Cb=window.open("");Cb.document.write(Oa+ha+$a);Cb.document.title="".concat(ra[ub]," JSON Source")}function w(ha,Oa){if(ha.$schema){ha=M(ha.$schema);if(Oa&&Oa!==ha.library){var $a;console.warn("The given visualization spec is written in ".concat(ra[ha.library],
", but mode argument sets ").concat(null!==($a=ra[Oa])&&void 0!==$a?$a:Oa,"."))}Oa=ha.library;Be(jb[Oa],"^".concat(ha.version.slice(1)))||console.warn("The input spec uses ".concat(ra[Oa]," ").concat(ha.version,", but the current version of ").concat(ra[Oa]," is v").concat(jb[Oa],"."));return Oa}return"mark"in ha||"encoding"in ha||"layer"in ha||"hconcat"in ha||"vconcat"in ha||"facet"in ha||"repeat"in ha?"vega-lite":"marks"in ha||"signals"in ha||"scales"in ha||"axes"in ha?"vega":null!==Oa&&void 0!==
Oa?Oa:"vega"}function B(ha){return ha&&"load"in ha?ha:Rd.loader(ha)}function K(ha,Oa){const $a=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ub,Cb,Wb=2<$a.length&&void 0!==$a[2]?$a[2]:{};let sc,Uc;p.isString(Oa)?(Uc=B(Wb.loader),sc=JSON.parse(yield Uc.load(Oa))):sc=Oa;var Xc,Cc,zc=null!==(Xc=null===(Cc=sc.usermeta)||void 0===Cc?void 0:Cc.embedOptions)&&void 0!==Xc?Xc:{};p.isString(zc.defaultStyle)&&(zc.defaultStyle=!1);Xc=zc.loader;if(!Uc||Xc){var oc;Uc=B(null!==(oc=
Wb.loader)&&void 0!==oc?oc:Xc)}zc=yield U(zc,Uc);Wb=yield U(Wb,Uc);Wb=Object.assign({},X(Wb,zc),{config:p.mergeConfig(null!==(ub=Wb.config)&&void 0!==ub?ub:{},null!==(Cb=zc.config)&&void 0!==Cb?Cb:{})});return yield da(ha,sc,Wb,Uc)})}function U(ha,Oa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var $a;const ub=p.isString(ha.config)?JSON.parse(yield Oa.load(ha.config)):null!==($a=ha.config)&&void 0!==$a?$a:{};$a=p.isString(ha.patch)?JSON.parse(yield Oa.load(ha.patch)):ha.patch;
return Object.assign({},ha,$a?{patch:$a}:{},ub?{config:ub}:{})})}function ka(ha){var Oa;ha=ha.getRootNode?ha.getRootNode():document;return ha instanceof ShadowRoot?{root:ha,rootContainer:ha}:{root:document,rootContainer:null!==(Oa=document.head)&&void 0!==Oa?Oa:document.body}}function da(ha,Oa){const $a=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ub,Cb,Wb,sc,Uc,Xc,Cc;let zc=2<$a.length&&void 0!==$a[2]?$a[2]:{};var oc=3<$a.length?$a[3]:void 0;const Fc=zc.theme?p.mergeConfig(If[zc.theme],
null!==(ub=zc.config)&&void 0!==ub?ub:{}):zc.config;ub=p.isBoolean(zc.actions)?zc.actions:X({},Qe,null!==(Cb=zc.actions)&&void 0!==Cb?Cb:{});Cb=Object.assign({},cf,zc.i18n);const Mc=null!==(Wb=zc.renderer)&&void 0!==Wb?Wb:"canvas";Wb=null!==(sc=zc.logLevel)&&void 0!==sc?sc:Rd.Warn;sc=null!==(Uc=zc.downloadFileName)&&void 0!==Uc?Uc:"visualization";Uc="string"===typeof ha?document.querySelector(ha):ha;if(!Uc)throw Error("".concat(ha," does not exist"));if(!1!==zc.defaultStyle){const {root:Eb,rootContainer:Ib}=
ka(Uc);if(!Eb.getElementById("vega-embed-style")){var Yc=document.createElement("style");Yc.id="vega-embed-style";Yc.innerHTML=void 0===zc.defaultStyle||!0===zc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid #0000;\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid #0000;\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
zc.defaultStyle;Ib.appendChild(Yc)}}const mb=w(Oa,zc.mode);let Gb=Ia[mb](Oa,Fc);"vega-lite"===mb&&Gb.$schema&&(Yc=M(Gb.$schema),Be(jb.vega,"^".concat(Yc.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Yc.version,", but current version is v").concat(jb.vega,".")));Uc.classList.add("vega-embed");ub&&Uc.classList.add("has-actions");Uc.innerHTML="";let Pb=Uc;ub&&(Yc=document.createElement("div"),Yc.classList.add("chart-wrapper"),Uc.appendChild(Yc),Pb=Yc);(Yc=zc.patch)&&(Gb=Yc instanceof
Function?Yc(Gb):m(Gb,Yc,!0,!1).newDocument);zc.formatLocale&&Rd.formatLocale(zc.formatLocale);zc.timeFormatLocale&&Rd.timeFormatLocale(zc.timeFormatLocale);({ast:Yc}=zc);const Vb=Rd.parse(Gb,"vega-lite"===mb?{}:Fc,{ast:Yc}),ma=new (zc.viewClass||Rd.View)(Vb,Object.assign({},{loader:oc,logLevel:Wb,renderer:Mc},Yc?{expr:null!==(Xc=null!==(Cc=Rd.expressionInterpreter)&&void 0!==Cc?Cc:zc.expr)&&void 0!==Xc?Xc:$e}:{}));ma.addSignalListener("autosize",(Eb,Ib)=>{({type:Eb}=Ib);"fit-x"==Eb?(Pb.classList.add("fit-x"),
Pb.classList.remove("fit-y")):"fit-y"==Eb?(Pb.classList.remove("fit-x"),Pb.classList.add("fit-y")):"fit"==Eb?Pb.classList.add("fit-x","fit-y"):Pb.classList.remove("fit-x","fit-y")});!1!==zc.tooltip&&(Xc="function"===typeof zc.tooltip?zc.tooltip:(new ce(!0===zc.tooltip?{}:zc.tooltip)).call,ma.tooltip(Xc));({hover:Xc}=zc);void 0===Xc&&(Xc="vega"===mb);if(Xc){const {hoverSet:Eb,updateSet:Ib}="boolean"===typeof Xc?{}:Xc;ma.hover(Eb,Ib)}zc&&(null!=zc.width&&ma.width(zc.width),null!=zc.height&&ma.height(zc.height),
null!=zc.padding&&ma.padding(zc.padding));yield ma.initialize(Pb,zc.bind).runAsync();let Ka;if(!1!==ub){Cc=Uc;if(!1!==zc.defaultStyle){const Eb=document.createElement("details");Eb.title=Cb.CLICK_TO_VIEW_ACTIONS;Uc.append(Eb);Cc=Eb;Xc=document.createElement("summary");Xc.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
Eb.append(Xc);Ka=Ib=>{Eb.contains(Ib.target)||Eb.removeAttribute("open")};document.addEventListener("click",Ka)}Xc=document.createElement("div");Cc.append(Xc);Xc.classList.add("vega-actions");if(!0===ub||!1!==ub.export)for(const Eb of["svg","png"])if(!0===ub||!0===ub.export||ub.export[Eb])Cc=Cb["".concat(Eb.toUpperCase(),"_ACTION")],oc=document.createElement("a"),oc.text=Cc,oc.href="#",oc.target="_blank",oc.download="".concat(sc,".").concat(Eb),oc.addEventListener("mousedown",function(Ib){const Nb=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ib.preventDefault();const kc=yield ma.toImageURL(Eb,zc.scaleFactor);Nb.href=kc})}),Xc.append(oc);if(!0===ub||!1!==ub.source)sc=document.createElement("a"),sc.text=Cb.SOURCE_ACTION,sc.href="#",sc.addEventListener("click",function(Eb){var Ib,Nb;P(Qa(Oa),null!==(Ib=zc.sourceHeader)&&void 0!==Ib?Ib:"",null!==(Nb=zc.sourceFooter)&&void 0!==Nb?Nb:"",mb);Eb.preventDefault()}),Xc.append(sc);"vega-lite"!==mb||!0!==ub&&!1===ub.compiled||(sc=
document.createElement("a"),sc.text=Cb.COMPILED_ACTION,sc.href="#",sc.addEventListener("click",function(Eb){var Ib,Nb;P(Qa(Gb),null!==(Ib=zc.sourceHeader)&&void 0!==Ib?Ib:"",null!==(Nb=zc.sourceFooter)&&void 0!==Nb?Nb:"","vega");Eb.preventDefault()}),Xc.append(sc));if(!0===ub||!1!==ub.editor){var ib;const Eb=null!==(ib=zc.editorUrl)&&void 0!==ib?ib:"https://vega.github.io/editor/";ib=document.createElement("a");ib.text=Cb.EDITOR_ACTION;ib.href="#";ib.addEventListener("click",function(Ib){W(window,
Eb,{config:Fc,mode:mb,renderer:Mc,spec:Qa(Oa)});Ib.preventDefault()});Xc.append(ib)}}return{view:ma,spec:Oa,vgSpec:Gb,finalize:function(){Ka&&document.removeEventListener("click",Ka);ma.finalize()},embedOptions:zc}})}function la(ha){const Oa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var $a;let ub=1<Oa.length&&void 0!==Oa[1]?Oa[1]:{};const Cb=document.createElement("div");Cb.classList.add("vega-embed-wrapper");const Wb=document.createElement("div");Cb.appendChild(Wb);
const sc=!0===ub.actions||!1===ub.actions?ub.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==($a=ub.actions)&&void 0!==$a?$a:{});$a=yield K(Wb,ha,Object.assign({},{actions:sc},null!==ub&&void 0!==ub?ub:{}));Cb.value=$a.view;return Cb})}var wa=v(p),Ua=v(n),hb=function(){var ha=function(Oa,$a){ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ub,Cb){ub.__proto__=Cb}||function(ub,Cb){for(var Wb in Cb)Cb.hasOwnProperty(Wb)&&(ub[Wb]=Cb[Wb])};return ha(Oa,$a)};
return function(Oa,$a){function ub(){this.constructor=Oa}ha(Oa,$a);Oa.prototype=null===$a?Object.create($a):(ub.prototype=$a.prototype,new ub)}}(),La=Object.prototype.hasOwnProperty,pa=function(ha){function Oa($a,ub,Cb,Wb,sc){var Uc=this.constructor,Xc=ha.call(this,a($a,{name:ub,index:Cb,operation:Wb,tree:sc}))||this;Xc.name=ub;Xc.index=Cb;Xc.operation=Wb;Xc.tree=sc;Object.setPrototypeOf(Xc,Uc.prototype);Xc.message=a($a,{name:ub,index:Cb,operation:Wb,tree:sc});return Xc}hb(Oa,ha);return Oa}(Error),
Da=pa,Ma={add:function(ha,Oa,$a){ha[Oa]=this.value;return{newDocument:$a}},remove:function(ha,Oa,$a){var ub=ha[Oa];delete ha[Oa];return{newDocument:$a,removed:ub}},replace:function(ha,Oa,$a){var ub=ha[Oa];ha[Oa]=this.value;return{newDocument:$a,removed:ub}},move:function(ha,Oa,$a){(ha=c($a,this.path))&&(ha=h(ha));Oa=b($a,{op:"remove",path:this.from}).removed;b($a,{op:"add",path:this.path,value:Oa});return{newDocument:$a,removed:ha}},copy:function(ha,Oa,$a){ha=c($a,this.from);b($a,{op:"add",path:this.path,
value:h(ha)});return{newDocument:$a}},test:function(ha,Oa,$a){return{newDocument:$a,test:C(ha[Oa],this.value)}},_get:function(ha,Oa,$a){this.value=ha[Oa];return{newDocument:$a}}},ua={add:function(ha,Oa,$a){k(Oa)?ha.splice(Oa,0,this.value):ha[Oa]=this.value;return{newDocument:$a,index:Oa}},remove:function(ha,Oa,$a){ha=ha.splice(Oa,1);return{newDocument:$a,removed:ha[0]}},replace:function(ha,Oa,$a){var ub=ha[Oa];ha[Oa]=this.value;return{newDocument:$a,removed:ub}},move:Ma.move,copy:Ma.copy,test:Ma.test,
_get:Ma._get},Aa=Object.freeze({__proto__:null,JsonPatchError:Da,deepClone:h,getValueByPointer:c,applyOperation:b,applyPatch:m,applyReducer:function(ha,Oa,$a){var ub=b(ha,Oa);if(!1===ub.test)throw new Da("Test operation failed","TEST_OPERATION_FAILED",$a,Oa,ha);return ub.newDocument},validator:z,validate:u,_areEquals:C}),qa=new WeakMap,Ha=function(){return function(ha){this.observers=new Map;this.obj=ha}}(),Va=function(){return function(ha,Oa){this.callback=ha;this.observer=Oa}}(),eb=Object.freeze({__proto__:null,
unobserve:function(ha,Oa){Oa.unobserve()},observe:function(ha,Oa){var $a=qa.get(ha);if($a){var ub=$a.observers.get(Oa);var Cb=ub&&ub.observer}else $a=new Ha(ha),qa.set(ha,$a);if(Cb)return Cb;Cb={};$a.value=h(ha);if(Oa){Cb.callback=Oa;Cb.next=null;var Wb=function(){J(Cb)},sc=function(){clearTimeout(Cb.next);Cb.next=setTimeout(Wb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",sc),window.addEventListener("keyup",sc),window.addEventListener("mousedown",sc),window.addEventListener("keydown",
sc),window.addEventListener("change",sc))}Cb.patches=[];Cb.object=ha;Cb.unobserve=function(){J(Cb);clearTimeout(Cb.next);$a.observers.delete(Cb.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",sc),window.removeEventListener("keyup",sc),window.removeEventListener("mousedown",sc),window.removeEventListener("keydown",sc),window.removeEventListener("change",sc))};$a.observers.set(Oa,new Va(Oa,Cb));return Cb},generate:J,compare:function(ha,Oa,$a){void 0===$a&&($a=!1);var ub=
[];A(ha,Oa,ub,"",$a);return ub}});Object.assign({},Aa,eb,{JsonPatchError:pa,deepClone:h,escapePathComponent:f,unescapePathComponent:e});var ta=/("(?:[^\\"]|\\.)*")|[:,]/g,Qa=function(ha,Oa){Oa=Oa||{};var $a=JSON.stringify([1],void 0,void 0===Oa.indent?2:Oa.indent).slice(2,-3);var ub=""===$a?Infinity:void 0===Oa.maxLength?80:Oa.maxLength;var Cb=Oa.replacer;return function Cc(sc,Uc,Xc){sc&&"function"===typeof sc.toJSON&&(sc=sc.toJSON());var zc=JSON.stringify(sc,Cb);if(void 0===zc)return zc;Xc=ub-Uc.length-
Xc;if(zc.length<=Xc){var oc=zc.replace(ta,function(ma,Ka){return Ka||ma+" "});if(oc.length<=Xc)return oc}null!=Cb&&(sc=JSON.parse(zc),Cb=void 0);if("object"===typeof sc&&null!==sc){var Fc=Uc+$a;var Mc=[];var Yc=0;if(Array.isArray(sc)){var mb="[";oc="]";for(Xc=sc.length;Yc<Xc;Yc++)Mc.push(Cc(sc[Yc],Fc,Yc===Xc-1?0:1)||"null")}else{mb="{";oc="}";var Gb=Object.keys(sc);for(Xc=Gb.length;Yc<Xc;Yc++){var Pb=Gb[Yc];var Vb=JSON.stringify(Pb)+": ";Pb=Cc(sc[Pb],Fc,Vb.length+(Yc===Xc-1?0:1));void 0!==Pb&&Mc.push(Vb+
Pb)}}if(0<Mc.length)return[mb,$a+Mc.join(",\n"+Fc),oc].join("\n"+Uc)}return zc}(ha,"",0)};x.Node=q;x.create=x;x.prototype.removeNode=function(ha){if(ha.list!==this)throw Error("removing node which does not belong to this list");var Oa=ha.next,$a=ha.prev;Oa&&(Oa.prev=$a);$a&&($a.next=Oa);ha===this.head&&(this.head=Oa);ha===this.tail&&(this.tail=$a);ha.list.length--;ha.next=null;ha.prev=null;ha.list=null;return Oa};x.prototype.unshiftNode=function(ha){if(ha!==this.head){ha.list&&ha.list.removeNode(ha);
var Oa=this.head;ha.list=this;if(ha.next=Oa)Oa.prev=ha;this.head=ha;this.tail||(this.tail=ha);this.length++}};x.prototype.pushNode=function(ha){if(ha!==this.tail){ha.list&&ha.list.removeNode(ha);var Oa=this.tail;ha.list=this;if(ha.prev=Oa)Oa.next=ha;this.tail=ha;this.head||(this.head=ha);this.length++}};x.prototype.push=function(){for(var ha=0,Oa=arguments.length;ha<Oa;ha++)this.tail=new q(arguments[ha],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};x.prototype.unshift=
function(){for(var ha=0,Oa=arguments.length;ha<Oa;ha++)this.head=new q(arguments[ha],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};x.prototype.pop=function(){if(this.tail){var ha=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return ha}};x.prototype.shift=function(){if(this.head){var ha=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return ha}};x.prototype.forEach=function(ha,
Oa){Oa=Oa||this;for(var $a=this.head,ub=0;null!==$a;ub++)ha.call(Oa,$a.value,ub,this),$a=$a.next};x.prototype.forEachReverse=function(ha,Oa){Oa=Oa||this;for(var $a=this.tail,ub=this.length-1;null!==$a;ub--)ha.call(Oa,$a.value,ub,this),$a=$a.prev};x.prototype.get=function(ha){for(var Oa=0,$a=this.head;null!==$a&&Oa<ha;Oa++)$a=$a.next;if(Oa===ha&&null!==$a)return $a.value};x.prototype.getReverse=function(ha){for(var Oa=0,$a=this.tail;null!==$a&&Oa<ha;Oa++)$a=$a.prev;if(Oa===ha&&null!==$a)return $a.value};
x.prototype.map=function(ha,Oa){Oa=Oa||this;for(var $a=new x,ub=this.head;null!==ub;)$a.push(ha.call(Oa,ub.value,this)),ub=ub.next;return $a};x.prototype.mapReverse=function(ha,Oa){Oa=Oa||this;for(var $a=new x,ub=this.tail;null!==ub;)$a.push(ha.call(Oa,ub.value,this)),ub=ub.prev;return $a};x.prototype.reduce=function(ha,Oa){var $a=this.head;if(1<arguments.length)var ub=Oa;else if(this.head)$a=this.head.next,ub=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var Cb=0;null!==$a;Cb++)ub=ha(ub,$a.value,Cb),$a=$a.next;return ub};x.prototype.reduceReverse=function(ha,Oa){var $a=this.tail;if(1<arguments.length)var ub=Oa;else if(this.tail)$a=this.tail.prev,ub=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Cb=this.length-1;null!==$a;Cb--)ub=ha(ub,$a.value,Cb),$a=$a.prev;return ub};x.prototype.toArray=function(){for(var ha=Array(this.length),Oa=0,$a=this.head;null!==$a;Oa++)ha[Oa]=$a.value,$a=$a.next;return ha};
x.prototype.toArrayReverse=function(){for(var ha=Array(this.length),Oa=0,$a=this.tail;null!==$a;Oa++)ha[Oa]=$a.value,$a=$a.prev;return ha};x.prototype.slice=function(ha,Oa){Oa=Oa||this.length;0>Oa&&(Oa+=this.length);ha=ha||0;0>ha&&(ha+=this.length);var $a=new x;if(Oa<ha||0>Oa)return $a;0>ha&&(ha=0);Oa>this.length&&(Oa=this.length);for(var ub=0,Cb=this.head;null!==Cb&&ub<ha;ub++)Cb=Cb.next;for(;null!==Cb&&ub<Oa;ub++,Cb=Cb.next)$a.push(Cb.value);return $a};x.prototype.sliceReverse=function(ha,Oa){Oa=
Oa||this.length;0>Oa&&(Oa+=this.length);ha=ha||0;0>ha&&(ha+=this.length);var $a=new x;if(Oa<ha||0>Oa)return $a;0>ha&&(ha=0);Oa>this.length&&(Oa=this.length);for(var ub=this.length,Cb=this.tail;null!==Cb&&ub>Oa;ub--)Cb=Cb.prev;for(;null!==Cb&&ub>ha;ub--,Cb=Cb.prev)$a.push(Cb.value);return $a};x.prototype.splice=function(ha,Oa){ha>this.length&&(ha=this.length-1);0>ha&&(ha=this.length+ha);for(var $a=0,ub=this.head;null!==ub&&$a<ha;$a++)ub=ub.next;var Cb=[];for($a=0;ub&&$a<Oa;$a++)Cb.push(ub.value),ub=
this.removeNode(ub);null===ub&&(ub=this.tail);ub!==this.head&&ub!==this.tail&&(ub=ub.prev);for($a=0;$a<(2>=arguments.length?0:arguments.length-2);$a++){var Wb=2>$a+2||arguments.length<=$a+2?void 0:arguments[$a+2];ub=ub===this.head?new q(Wb,null,ub,this):new q(Wb,ub,ub.next,this);null===ub.next&&(this.tail=ub);null===ub.prev&&(this.head=ub);this.length++}return Cb};x.prototype.reverse=function(){for(var ha=this.head,Oa=this.tail,$a=ha;null!==$a;$a=$a.prev){var ub=$a.prev;$a.prev=$a.next;$a.next=ub}this.head=
Oa;this.tail=ha;return this};try{x.prototype[Symbol.iterator]=function*(){for(let ha=this.head;ha;ha=ha.next)yield ha.value}}catch(ha){}const oa=Symbol("max"),Y=Symbol("length"),ja=Symbol("lengthCalculator"),Ga=Symbol("allowStale"),Wa=Symbol("maxAge"),cb=Symbol("dispose"),nb=Symbol("noDisposeOnSet"),pb=Symbol("lruList"),Fb=Symbol("cache"),nc=Symbol("updateAgeOnGet"),Lc=()=>1;class Ac{constructor(ha){"number"===typeof ha&&(ha={max:ha});ha||(ha={});if(ha.max&&("number"!==typeof ha.max||0>ha.max))throw new TypeError("max must be a non-negative number");
this[oa]=ha.max||Infinity;const Oa=ha.length||Lc;this[ja]="function"!==typeof Oa?Lc:Oa;this[Ga]=ha.stale||!1;if(ha.maxAge&&"number"!==typeof ha.maxAge)throw new TypeError("maxAge must be a number");this[Wa]=ha.maxAge||0;this[cb]=ha.dispose;this[nb]=ha.noDisposeOnSet||!1;this[nc]=ha.updateAgeOnGet||!1;this.reset()}set max(ha){if("number"!==typeof ha||0>ha)throw new TypeError("max must be a non-negative number");this[oa]=ha||Infinity;hd(this)}get max(){return this[oa]}set allowStale(ha){this[Ga]=!!ha}get allowStale(){return this[Ga]}set maxAge(ha){if("number"!==
typeof ha)throw new TypeError("maxAge must be a non-negative number");this[Wa]=ha;hd(this)}get maxAge(){return this[Wa]}set lengthCalculator(ha){"function"!==typeof ha&&(ha=Lc);ha!==this[ja]&&(this[ja]=ha,this[Y]=0,this[pb].forEach(Oa=>{Oa.length=this[ja](Oa.value,Oa.key);this[Y]+=Oa.length}));hd(this)}get lengthCalculator(){return this[ja]}get length(){return this[Y]}get itemCount(){return this[pb].length}rforEach(ha,Oa){Oa=Oa||this;for(let $a=this[pb].tail;null!==$a;){const ub=$a.prev;ec(this,ha,
$a,Oa);$a=ub}}forEach(ha,Oa){Oa=Oa||this;for(let $a=this[pb].head;null!==$a;){const ub=$a.next;ec(this,ha,$a,Oa);$a=ub}}keys(){return this[pb].toArray().map(ha=>ha.key)}values(){return this[pb].toArray().map(ha=>ha.value)}reset(){this[cb]&&this[pb]&&this[pb].length&&this[pb].forEach(ha=>this[cb](ha.key,ha.value));this[Fb]=new Map;this[pb]=new x;this[Y]=0}dump(){return this[pb].map(ha=>tc(this,ha)?!1:{k:ha.key,v:ha.value,e:ha.now+(ha.maxAge||0)}).toArray().filter(ha=>ha)}dumpLru(){return this[pb]}set(ha,
Oa,$a){if(($a=$a||this[Wa])&&"number"!==typeof $a)throw new TypeError("maxAge must be a number");const ub=$a?Date.now():0,Cb=this[ja](Oa,ha);if(this[Fb].has(ha)){if(Cb>this[oa])return Mb(this,this[Fb].get(ha)),!1;const Wb=this[Fb].get(ha).value;if(this[cb]&&!this[nb])this[cb](ha,Wb.value);Wb.now=ub;Wb.maxAge=$a;Wb.value=Oa;this[Y]+=Cb-Wb.length;Wb.length=Cb;this.get(ha);hd(this);return!0}$a=new Ab(ha,Oa,Cb,ub,$a);if($a.length>this[oa]){if(this[cb])this[cb](ha,Oa);return!1}this[Y]+=$a.length;this[pb].unshift($a);
this[Fb].set(ha,this[pb].head);hd(this);return!0}has(ha){if(!this[Fb].has(ha))return!1;ha=this[Fb].get(ha).value;return!tc(this,ha)}get(ha){return yc(this,ha,!0)}peek(ha){return yc(this,ha,!1)}pop(){const ha=this[pb].tail;if(!ha)return null;Mb(this,ha);return ha.value}del(ha){Mb(this,this[Fb].get(ha))}load(ha){this.reset();const Oa=Date.now();for(let ub=ha.length-1;0<=ub;ub--){const Cb=ha[ub];var $a=Cb.e||0;0===$a?this.set(Cb.k,Cb.v):($a-=Oa,0<$a&&this.set(Cb.k,Cb.v,$a))}}prune(){this[Fb].forEach((ha,
Oa)=>yc(this,Oa,!1))}}const yc=(ha,Oa,$a)=>{if(Oa=ha[Fb].get(Oa)){const ub=Oa.value;if(tc(ha,ub)){if(Mb(ha,Oa),!ha[Ga])return}else $a&&(ha[nc]&&(Oa.value.now=Date.now()),ha[pb].unshiftNode(Oa));return ub.value}},tc=(ha,Oa)=>{if(!Oa||!Oa.maxAge&&!ha[Wa])return!1;const $a=Date.now()-Oa.now;return Oa.maxAge?$a>Oa.maxAge:ha[Wa]&&$a>ha[Wa]},hd=ha=>{if(ha[Y]>ha[oa])for(let Oa=ha[pb].tail;ha[Y]>ha[oa]&&null!==Oa;){const $a=Oa.prev;Mb(ha,Oa);Oa=$a}},Mb=(ha,Oa)=>{if(Oa){const $a=Oa.value;if(ha[cb])ha[cb]($a.key,
$a.value);ha[Y]-=$a.length;ha[Fb].delete($a.key);ha[pb].removeNode(Oa)}};class Ab{constructor(ha,Oa,$a,ub,Cb){this.key=ha;this.value=Oa;this.length=$a;this.now=ub;this.maxAge=Cb||0}}const ec=(ha,Oa,$a,ub)=>{let Cb=$a.value;tc(ha,Cb)&&(Mb(ha,$a),ha[Ga]||(Cb=void 0));Cb&&Oa.call(ub,Cb.value,Cb.key,ha)};var ac=Ac;const lc=["includePrerelease","loose","rtl"];var Ic=ha=>ha?"object"!==typeof ha?{loose:!0}:lc.filter(Oa=>ha[Oa]).reduce((Oa,$a)=>{Oa[$a]=!0;return Oa},{}):{},Ec={exports:{}},Rc={SEMVER_SPEC_VERSION:"2.0.0",
MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},id="object"===typeof y&&y.env&&y.env.NODE_DEBUG&&/\bsemver\b/i.test(y.env.NODE_DEBUG)?function(){for(var ha=arguments.length,Oa=Array(ha),$a=0;$a<ha;$a++)Oa[$a]=arguments[$a];return console.error("SEMVER",...Oa)}:()=>{};(function(ha,Oa){const {MAX_SAFE_COMPONENT_LENGTH:$a}=Rc;Oa=ha.exports={};const ub=Oa.re=[],Cb=Oa.src=[],Wb=Oa.t={};let sc=0;ha=(Uc,Xc,Cc)=>{const zc=sc++;id(zc,Xc);Wb[Uc]=zc;Cb[zc]=
Xc;ub[zc]=new RegExp(Xc,Cc?"g":void 0)};ha("NUMERICIDENTIFIER","0|[1-9]\\d*");ha("NUMERICIDENTIFIERLOOSE","[0-9]+");ha("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");ha("MAINVERSION","(".concat(Cb[Wb.NUMERICIDENTIFIER],")\\.")+"(".concat(Cb[Wb.NUMERICIDENTIFIER],")\\.")+"(".concat(Cb[Wb.NUMERICIDENTIFIER],")"));ha("MAINVERSIONLOOSE","(".concat(Cb[Wb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cb[Wb.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(Cb[Wb.NUMERICIDENTIFIERLOOSE],")"));ha("PRERELEASEIDENTIFIER",
"(?:".concat(Cb[Wb.NUMERICIDENTIFIER],"|").concat(Cb[Wb.NONNUMERICIDENTIFIER],")"));ha("PRERELEASEIDENTIFIERLOOSE","(?:".concat(Cb[Wb.NUMERICIDENTIFIERLOOSE],"|").concat(Cb[Wb.NONNUMERICIDENTIFIER],")"));ha("PRERELEASE","(?:-(".concat(Cb[Wb.PRERELEASEIDENTIFIER],"(?:\\.").concat(Cb[Wb.PRERELEASEIDENTIFIER],")*))"));ha("PRERELEASELOOSE","(?:-?(".concat(Cb[Wb.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(Cb[Wb.PRERELEASEIDENTIFIERLOOSE],")*))"));ha("BUILDIDENTIFIER","[0-9A-Za-z-]+");ha("BUILD","(?:\\+(".concat(Cb[Wb.BUILDIDENTIFIER],
"(?:\\.").concat(Cb[Wb.BUILDIDENTIFIER],")*))"));ha("FULLPLAIN","v?".concat(Cb[Wb.MAINVERSION]).concat(Cb[Wb.PRERELEASE],"?").concat(Cb[Wb.BUILD],"?"));ha("FULL","^".concat(Cb[Wb.FULLPLAIN],"$"));ha("LOOSEPLAIN","[v\x3d\\s]*".concat(Cb[Wb.MAINVERSIONLOOSE]).concat(Cb[Wb.PRERELEASELOOSE],"?").concat(Cb[Wb.BUILD],"?"));ha("LOOSE","^".concat(Cb[Wb.LOOSEPLAIN],"$"));ha("GTLT","((?:\x3c|\x3e)?\x3d?)");ha("XRANGEIDENTIFIERLOOSE","".concat(Cb[Wb.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));ha("XRANGEIDENTIFIER",
"".concat(Cb[Wb.NUMERICIDENTIFIER],"|x|X|\\*"));ha("XRANGEPLAIN","[v\x3d\\s]*(".concat(Cb[Wb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cb[Wb.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(Cb[Wb.XRANGEIDENTIFIER],")")+"(?:".concat(Cb[Wb.PRERELEASE],")?").concat(Cb[Wb.BUILD],"?")+")?)?");ha("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(Cb[Wb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cb[Wb.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(Cb[Wb.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(Cb[Wb.PRERELEASELOOSE],")?").concat(Cb[Wb.BUILD],
"?")+")?)?");ha("XRANGE","^".concat(Cb[Wb.GTLT],"\\s*").concat(Cb[Wb.XRANGEPLAIN],"$"));ha("XRANGELOOSE","^".concat(Cb[Wb.GTLT],"\\s*").concat(Cb[Wb.XRANGEPLAINLOOSE],"$"));ha("COERCE","".concat("(^|[^\\d])(\\d{1,").concat($a,"})")+"(?:\\.(\\d{1,".concat($a,"}))?")+"(?:\\.(\\d{1,".concat($a,"}))?")+"(?:$|[^\\d])");ha("COERCERTL",Cb[Wb.COERCE],!0);ha("LONETILDE","(?:~\x3e?)");ha("TILDETRIM","(\\s*)".concat(Cb[Wb.LONETILDE],"\\s+"),!0);Oa.tildeTrimReplace="$1~";ha("TILDE","^".concat(Cb[Wb.LONETILDE]).concat(Cb[Wb.XRANGEPLAIN],
"$"));ha("TILDELOOSE","^".concat(Cb[Wb.LONETILDE]).concat(Cb[Wb.XRANGEPLAINLOOSE],"$"));ha("LONECARET","(?:\\^)");ha("CARETTRIM","(\\s*)".concat(Cb[Wb.LONECARET],"\\s+"),!0);Oa.caretTrimReplace="$1^";ha("CARET","^".concat(Cb[Wb.LONECARET]).concat(Cb[Wb.XRANGEPLAIN],"$"));ha("CARETLOOSE","^".concat(Cb[Wb.LONECARET]).concat(Cb[Wb.XRANGEPLAINLOOSE],"$"));ha("COMPARATORLOOSE","^".concat(Cb[Wb.GTLT],"\\s*(").concat(Cb[Wb.LOOSEPLAIN],")$|^$"));ha("COMPARATOR","^".concat(Cb[Wb.GTLT],"\\s*(").concat(Cb[Wb.FULLPLAIN],
")$|^$"));ha("COMPARATORTRIM","(\\s*)".concat(Cb[Wb.GTLT],"\\s*(").concat(Cb[Wb.LOOSEPLAIN],"|").concat(Cb[Wb.XRANGEPLAIN],")"),!0);Oa.comparatorTrimReplace="$1$2$3";ha("HYPHENRANGE","^\\s*(".concat(Cb[Wb.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(Cb[Wb.XRANGEPLAIN],")")+"\\s*$");ha("HYPHENRANGELOOSE","^\\s*(".concat(Cb[Wb.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(Cb[Wb.XRANGEPLAINLOOSE],")")+"\\s*$");ha("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");ha("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");ha("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")})(Ec,
Ec.exports);const Td=/^[0-9]+$/,Ea=(ha,Oa)=>{const $a=Td.test(ha),ub=Td.test(Oa);$a&&ub&&(ha=+ha,Oa=+Oa);return ha===Oa?0:$a&&!ub?-1:ub&&!$a?1:ha<Oa?-1:1};var za={compareIdentifiers:Ea,rcompareIdentifiers:(ha,Oa)=>Ea(Oa,ha)};const {MAX_LENGTH:Fa,MAX_SAFE_INTEGER:bb}=Rc,{re:lb,t:zb}=Ec.exports,{compareIdentifiers:Tb}=za;class Ub{constructor(ha,Oa){Oa=Ic(Oa);if(ha instanceof Ub){if(ha.loose===!!Oa.loose&&ha.includePrerelease===!!Oa.includePrerelease)return ha;ha=ha.version}else if("string"!==typeof ha)throw new TypeError("Invalid Version: ".concat(ha));
if(ha.length>Fa)throw new TypeError("version is longer than ".concat(Fa," characters"));id("SemVer",ha,Oa);this.options=Oa;this.loose=!!Oa.loose;this.includePrerelease=!!Oa.includePrerelease;Oa=ha.trim().match(Oa.loose?lb[zb.LOOSE]:lb[zb.FULL]);if(!Oa)throw new TypeError("Invalid Version: ".concat(ha));this.raw=ha;this.major=+Oa[1];this.minor=+Oa[2];this.patch=+Oa[3];if(this.major>bb||0>this.major)throw new TypeError("Invalid major version");if(this.minor>bb||0>this.minor)throw new TypeError("Invalid minor version");
if(this.patch>bb||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Oa[4]?Oa[4].split(".").map($a=>{if(/^[0-9]+$/.test($a)){const ub=+$a;if(0<=ub&&ub<bb)return ub}return $a}):[];this.build=Oa[5]?Oa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(ha){id("SemVer.compare",
this.version,this.options,ha);if(!(ha instanceof Ub)){if("string"===typeof ha&&ha===this.version)return 0;ha=new Ub(ha,this.options)}return ha.version===this.version?0:this.compareMain(ha)||this.comparePre(ha)}compareMain(ha){ha instanceof Ub||(ha=new Ub(ha,this.options));return Tb(this.major,ha.major)||Tb(this.minor,ha.minor)||Tb(this.patch,ha.patch)}comparePre(ha){ha instanceof Ub||(ha=new Ub(ha,this.options));if(this.prerelease.length&&!ha.prerelease.length)return-1;if(!this.prerelease.length&&
ha.prerelease.length)return 1;if(!this.prerelease.length&&!ha.prerelease.length)return 0;let Oa=0;do{const $a=this.prerelease[Oa],ub=ha.prerelease[Oa];id("prerelease compare",Oa,$a,ub);if(void 0===$a&&void 0===ub)return 0;if(void 0===ub)return 1;if(void 0===$a)return-1;if($a!==ub)return Tb($a,ub)}while(++Oa)}compareBuild(ha){ha instanceof Ub||(ha=new Ub(ha,this.options));let Oa=0;do{const $a=this.build[Oa],ub=ha.build[Oa];id("prerelease compare",Oa,$a,ub);if(void 0===$a&&void 0===ub)return 0;if(void 0===
ub)return 1;if(void 0===$a)return-1;if($a!==ub)return Tb($a,ub)}while(++Oa)}inc(ha,Oa){switch(ha){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Oa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Oa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Oa);this.inc("pre",Oa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Oa);this.inc("pre",Oa);break;case "major":0===this.minor&&0===
this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(ha=this.prerelease.length;0<=--ha;)"number"===typeof this.prerelease[ha]&&(this.prerelease[ha]++,ha=-2);-1===ha&&this.prerelease.push(0)}Oa&&(this.prerelease[0]===
Oa?isNaN(this.prerelease[1])&&(this.prerelease=[Oa,0]):this.prerelease=[Oa,0]);break;default:throw Error("invalid increment argument: ".concat(ha));}this.format();this.raw=this.version;return this}}var $b=Ub,Dc=(ha,Oa,$a)=>(new $b(ha,$a)).compare(new $b(Oa,$a));const dd=Symbol("SemVer ANY");class fd{static get ANY(){return dd}constructor(ha,Oa){Oa=sd(Oa);if(ha instanceof fd){if(ha.loose===!!Oa.loose)return ha;ha=ha.value}de("comparator",ha,Oa);this.options=Oa;this.loose=!!Oa.loose;this.parse(ha);
this.value=this.semver===dd?"":this.operator+this.semver.version;de("comp",this)}parse(ha){const Oa=ha.match(this.options.loose?Kd[Od.COMPARATORLOOSE]:Kd[Od.COMPARATOR]);if(!Oa)throw new TypeError("Invalid comparator: ".concat(ha));this.operator=void 0!==Oa[1]?Oa[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Oa[2]?new je(Oa[2],this.options.loose):dd}toString(){return this.value}test(ha){de("Comparator.test",ha,this.options.loose);if(this.semver===dd||ha===dd)return!0;if("string"===
typeof ha)try{ha=new je(ha,this.options)}catch(Oa){return!1}return ae(ha,this.operator,this.semver,this.options)}intersects(ha,Oa){if(!(ha instanceof fd))throw new TypeError("a Comparator is required");Oa&&"object"===typeof Oa||(Oa={loose:!!Oa,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new qd(ha.value,Oa)).test(this.value);if(""===ha.operator)return""===ha.value?!0:(new qd(this.value,Oa)).test(ha.semver);const $a=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===
ha.operator||"\x3e"===ha.operator),ub=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===ha.operator||"\x3c"===ha.operator),Cb=this.semver.version===ha.semver.version,Wb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===ha.operator||"\x3c\x3d"===ha.operator),sc=ae(this.semver,"\x3c",ha.semver,Oa)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===ha.operator||"\x3c"===ha.operator);ha=ae(this.semver,"\x3e",ha.semver,Oa)&&("\x3c\x3d"===this.operator||
"\x3c"===this.operator)&&("\x3e\x3d"===ha.operator||"\x3e"===ha.operator);return $a||ub||Cb&&Wb||sc||ha}}var od=fd;const sd=Ic,{re:Kd,t:Od}=Ec.exports,ae=(ha,Oa,$a,ub)=>{switch(Oa){case "\x3d\x3d\x3d":return"object"===typeof ha&&(ha=ha.version),"object"===typeof $a&&($a=$a.version),ha===$a;case "!\x3d\x3d":return"object"===typeof ha&&(ha=ha.version),"object"===typeof $a&&($a=$a.version),ha!==$a;case "":case "\x3d":case "\x3d\x3d":return 0===Dc(ha,$a,ub);case "!\x3d":return 0!==Dc(ha,$a,ub);case "\x3e":return 0<
Dc(ha,$a,ub);case "\x3e\x3d":return 0<=Dc(ha,$a,ub);case "\x3c":return 0>Dc(ha,$a,ub);case "\x3c\x3d":return 0>=Dc(ha,$a,ub);default:throw new TypeError("Invalid operator: ".concat(Oa));}},de=id,je=$b,qd=Ye;class bf{constructor(ha,Oa){Oa=ve(Oa);if(ha instanceof bf)return ha.loose===!!Oa.loose&&ha.includePrerelease===!!Oa.includePrerelease?ha:new bf(ha.raw,Oa);if(ha instanceof Ca)return this.raw=ha.value,this.set=[[ha]],this.format(),this;this.options=Oa;this.loose=!!Oa.loose;this.includePrerelease=
!!Oa.includePrerelease;this.raw=ha;this.set=ha.split(/\s*\|\|\s*/).map($a=>this.parseRange($a.trim())).filter($a=>$a.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(ha));if(1<this.set.length)if(ha=this.set[0],this.set=this.set.filter($a=>"\x3c0.0.0-0"!==$a[0].value),0===this.set.length)this.set=[ha];else if(1<this.set.length)for(const $a of this.set)if(1===$a.length&&""===$a[0].value){this.set=[$a];break}this.format()}format(){return this.range=this.set.map(ha=>ha.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(ha){ha=
ha.trim();var Oa=Object.keys(this.options).join(",");Oa="parseRange:".concat(Oa,":").concat(ha);var $a=pe.get(Oa);if($a)return $a;$a=this.options.loose;ha=ha.replace($a?Kb[dc.HYPHENRANGELOOSE]:Kb[dc.HYPHENRANGE],ue(this.options.includePrerelease));Ya("hyphen replace",ha);ha=ha.replace(Kb[dc.COMPARATORTRIM],mc);Ya("comparator trim",ha,Kb[dc.COMPARATORTRIM]);ha=ha.replace(Kb[dc.TILDETRIM],Jc);ha=ha.replace(Kb[dc.CARETTRIM],Gc);ha=ha.split(/\s+/).join(" ");const ub=$a?Kb[dc.COMPARATORLOOSE]:Kb[dc.COMPARATOR];
ha=ha.split(" ").map(Wb=>{var sc=Wb;Wb=this.options;Ya("comp",sc,Wb);sc=Nd(sc,Wb);Ya("caret",sc);sc=md(sc,Wb);Ya("tildes",sc);sc=ee(sc,Wb);Ya("xrange",sc);Ya("replaceStars",sc,Wb);sc=sc.trim().replace(Kb[dc.STAR],"");Ya("stars",sc);return sc}).join(" ").split(/\s+/).map(Wb=>{var sc=this.options;Ya("replaceGTE0",Wb,sc);return Wb.trim().replace(Kb[sc.includePrerelease?dc.GTE0PRE:dc.GTE0],"")}).filter(this.options.loose?Wb=>!!Wb.match(ub):()=>!0).map(Wb=>new Ca(Wb,this.options));ha.length;$a=new Map;
for(var Cb of ha){if("\x3c0.0.0-0"===Cb.value)return[Cb];$a.set(Cb.value,Cb)}1<$a.size&&$a.has("")&&$a.delete("");Cb=[...$a.values()];pe.set(Oa,Cb);return Cb}intersects(ha,Oa){if(!(ha instanceof bf))throw new TypeError("a Range is required");return this.set.some($a=>jc($a,Oa)&&ha.set.some(ub=>jc(ub,Oa)&&$a.every(Cb=>ub.every(Wb=>Cb.intersects(Wb,Oa)))))}test(ha){if(!ha)return!1;if("string"===typeof ha)try{ha=new tb(ha,this.options)}catch(Wb){return!1}for(let Wb=0;Wb<this.set.length;Wb++){a:{var Oa=
this.set[Wb];var $a=ha,ub=this.options;for(var Cb=0;Cb<Oa.length;Cb++)if(!Oa[Cb].test($a)){Oa=!1;break a}if($a.prerelease.length&&!ub.includePrerelease){for(ub=0;ub<Oa.length;ub++)if(Ya(Oa[ub].semver),Oa[ub].semver!==Ca.ANY&&0<Oa[ub].semver.prerelease.length&&(Cb=Oa[ub].semver,Cb.major===$a.major&&Cb.minor===$a.minor&&Cb.patch===$a.patch)){Oa=!0;break a}Oa=!1}else Oa=!0}if(Oa)return!0}return!1}}var Ye=bf;const pe=new ac({max:1E3}),ve=Ic,Ca=od,Ya=id,tb=$b,{re:Kb,t:dc,comparatorTrimReplace:mc,tildeTrimReplace:Jc,
caretTrimReplace:Gc}=Ec.exports,jc=(ha,Oa)=>{let $a=!0;ha=ha.slice();let ub=ha.pop();for(;$a&&ha.length;)$a=ha.every(Cb=>ub.intersects(Cb,Oa)),ub=ha.pop();return $a},bd=ha=>!ha||"x"===ha.toLowerCase()||"*"===ha,md=(ha,Oa)=>ha.trim().split(/\s+/).map($a=>Ed($a,Oa)).join(" "),Ed=(ha,Oa)=>ha.replace(Oa.loose?Kb[dc.TILDELOOSE]:Kb[dc.TILDE],($a,ub,Cb,Wb,sc)=>{Ya("tilde",ha,$a,ub,Cb,Wb,sc);bd(ub)?$a="":bd(Cb)?$a="\x3e\x3d".concat(ub,".0.0 \x3c").concat(+ub+1,".0.0-0"):bd(Wb)?$a="\x3e\x3d".concat(ub,".").concat(Cb,
".0 \x3c").concat(ub,".").concat(+Cb+1,".0-0"):sc?(Ya("replaceTilde pr",sc),$a="\x3e\x3d".concat(ub,".").concat(Cb,".").concat(Wb,"-").concat(sc," \x3c").concat(ub,".").concat(+Cb+1,".0-0")):$a="\x3e\x3d".concat(ub,".").concat(Cb,".").concat(Wb," \x3c").concat(ub,".").concat(+Cb+1,".0-0");Ya("tilde return",$a);return $a}),Nd=(ha,Oa)=>ha.trim().split(/\s+/).map($a=>Pd($a,Oa)).join(" "),Pd=(ha,Oa)=>{Ya("caret",ha,Oa);const $a=Oa.includePrerelease?"-0":"";return ha.replace(Oa.loose?Kb[dc.CARETLOOSE]:
Kb[dc.CARET],(ub,Cb,Wb,sc,Uc)=>{Ya("caret",ha,ub,Cb,Wb,sc,Uc);bd(Cb)?ub="":bd(Wb)?ub="\x3e\x3d".concat(Cb,".0.0").concat($a," \x3c").concat(+Cb+1,".0.0-0"):bd(sc)?ub="0"===Cb?"\x3e\x3d".concat(Cb,".").concat(Wb,".0").concat($a," \x3c").concat(Cb,".").concat(+Wb+1,".0-0"):"\x3e\x3d".concat(Cb,".").concat(Wb,".0").concat($a," \x3c").concat(+Cb+1,".0.0-0"):Uc?(Ya("replaceCaret pr",Uc),ub="0"===Cb?"0"===Wb?"\x3e\x3d".concat(Cb,".").concat(Wb,".").concat(sc,"-").concat(Uc," \x3c").concat(Cb,".").concat(Wb,
".").concat(+sc+1,"-0"):"\x3e\x3d".concat(Cb,".").concat(Wb,".").concat(sc,"-").concat(Uc," \x3c").concat(Cb,".").concat(+Wb+1,".0-0"):"\x3e\x3d".concat(Cb,".").concat(Wb,".").concat(sc,"-").concat(Uc," \x3c").concat(+Cb+1,".0.0-0")):(Ya("no pr"),ub="0"===Cb?"0"===Wb?"\x3e\x3d".concat(Cb,".").concat(Wb,".").concat(sc).concat($a," \x3c").concat(Cb,".").concat(Wb,".").concat(+sc+1,"-0"):"\x3e\x3d".concat(Cb,".").concat(Wb,".").concat(sc).concat($a," \x3c").concat(Cb,".").concat(+Wb+1,".0-0"):"\x3e\x3d".concat(Cb,
".").concat(Wb,".").concat(sc," \x3c").concat(+Cb+1,".0.0-0"));Ya("caret return",ub);return ub})},ee=(ha,Oa)=>{Ya("replaceXRanges",ha,Oa);return ha.split(/\s+/).map($a=>Ce($a,Oa)).join(" ")},Ce=(ha,Oa)=>{ha=ha.trim();return ha.replace(Oa.loose?Kb[dc.XRANGELOOSE]:Kb[dc.XRANGE],($a,ub,Cb,Wb,sc,Uc)=>{Ya("xRange",ha,$a,ub,Cb,Wb,sc,Uc);const Xc=bd(Cb),Cc=Xc||bd(Wb);sc=Cc||bd(sc);"\x3d"===ub&&sc&&(ub="");Uc=Oa.includePrerelease?"-0":"";Xc?$a="\x3e"===ub||"\x3c"===ub?"\x3c0.0.0-0":"*":ub&&sc?(Cc&&(Wb=0),
sc=0,"\x3e"===ub?(ub="\x3e\x3d",Cc?(Cb=+Cb+1,Wb=0):Wb=+Wb+1,sc=0):"\x3c\x3d"===ub&&(ub="\x3c",Cc?Cb=+Cb+1:Wb=+Wb+1),"\x3c"===ub&&(Uc="-0"),$a="".concat(ub+Cb,".").concat(Wb,".").concat(sc).concat(Uc)):Cc?$a="\x3e\x3d".concat(Cb,".0.0").concat(Uc," \x3c").concat(+Cb+1,".0.0-0"):sc&&($a="\x3e\x3d".concat(Cb,".").concat(Wb,".0").concat(Uc," \x3c").concat(Cb,".").concat(+Wb+1,".0-0"));Ya("xRange return",$a);return $a})},ue=ha=>(Oa,$a,ub,Cb,Wb,sc,Uc,Xc,Cc,zc,oc,Fc,Mc)=>{$a=bd(ub)?"":bd(Cb)?"\x3e\x3d".concat(ub,
".0.0").concat(ha?"-0":""):bd(Wb)?"\x3e\x3d".concat(ub,".").concat(Cb,".0").concat(ha?"-0":""):sc?"\x3e\x3d".concat($a):"\x3e\x3d".concat($a).concat(ha?"-0":"");Xc=bd(Cc)?"":bd(zc)?"\x3c".concat(+Cc+1,".0.0-0"):bd(oc)?"\x3c".concat(Cc,".").concat(+zc+1,".0-0"):Fc?"\x3c\x3d".concat(Cc,".").concat(zc,".").concat(oc,"-").concat(Fc):ha?"\x3c".concat(Cc,".").concat(zc,".").concat(+oc+1,"-0"):"\x3c\x3d".concat(Xc);return"".concat($a," ").concat(Xc).trim()},Df=Ye;var Be=(ha,Oa,$a)=>{try{Oa=new Df(Oa,$a)}catch(ub){return!1}return Oa.test(ha)},
Me={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},kf={"*":(ha,Oa)=>ha*Oa,"+":(ha,Oa)=>ha+Oa,"-":(ha,Oa)=>ha-Oa,"/":(ha,Oa)=>ha/Oa,"%":(ha,Oa)=>ha%Oa,"\x3e":(ha,Oa)=>ha>Oa,"\x3c":(ha,Oa)=>ha<Oa,"\x3c\x3d":(ha,Oa)=>ha<=Oa,"\x3e\x3d":(ha,Oa)=>ha>=Oa,"\x3d\x3d":(ha,Oa)=>ha==Oa,"!\x3d":(ha,Oa)=>ha!=Oa,"\x3d\x3d\x3d":(ha,Oa)=>ha===Oa,"!\x3d\x3d":(ha,Oa)=>ha!==Oa,"\x26":(ha,
Oa)=>ha&Oa,"|":(ha,Oa)=>ha|Oa,"^":(ha,Oa)=>ha^Oa,"\x3c\x3c":(ha,Oa)=>ha<<Oa,"\x3e\x3e":(ha,Oa)=>ha>>Oa,"\x3e\x3e\x3e":(ha,Oa)=>ha>>>Oa},Sb={"+":ha=>+ha,"-":ha=>-ha,"~":ha=>~ha,"!":ha=>!ha};const qc=Array.prototype.slice,Vc=(ha,Oa,$a)=>{$a=$a?$a(Oa[0]):Oa[0];return $a[ha].apply($a,qc.call(Oa,1))};var Bd={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,
min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(ha,Oa,$a)=>Math.max(Oa,Math.min($a,ha)),now:Date.now,utc:Date.UTC,datetime:(ha,Oa,$a,ub,Cb,Wb,sc)=>new Date(ha,Oa||0,null!=$a?$a:1,ub||0,Cb||0,Wb||0,sc||0),date:ha=>(new Date(ha)).getDate(),day:ha=>(new Date(ha)).getDay(),year:ha=>(new Date(ha)).getFullYear(),month:ha=>(new Date(ha)).getMonth(),hours:ha=>(new Date(ha)).getHours(),minutes:ha=>(new Date(ha)).getMinutes(),seconds:ha=>(new Date(ha)).getSeconds(),
milliseconds:ha=>(new Date(ha)).getMilliseconds(),time:ha=>(new Date(ha)).getTime(),timezoneoffset:ha=>(new Date(ha)).getTimezoneOffset(),utcdate:ha=>(new Date(ha)).getUTCDate(),utcday:ha=>(new Date(ha)).getUTCDay(),utcyear:ha=>(new Date(ha)).getUTCFullYear(),utcmonth:ha=>(new Date(ha)).getUTCMonth(),utchours:ha=>(new Date(ha)).getUTCHours(),utcminutes:ha=>(new Date(ha)).getUTCMinutes(),utcseconds:ha=>(new Date(ha)).getUTCSeconds(),utcmilliseconds:ha=>(new Date(ha)).getUTCMilliseconds(),length:ha=>
ha.length,join:function(){return Vc("join",arguments)},indexof:function(){return Vc("indexOf",arguments)},lastindexof:function(){return Vc("lastIndexOf",arguments)},slice:function(){return Vc("slice",arguments)},reverse:ha=>ha.slice().reverse(),parseFloat,parseInt,upper:ha=>String(ha).toUpperCase(),lower:ha=>String(ha).toLowerCase(),substring:function(){return Vc("substring",arguments,String)},split:function(){return Vc("split",arguments,String)},replace:function(){return Vc("replace",arguments,String)},
trim:ha=>String(ha).trim(),regexp:RegExp,test:(ha,Oa)=>RegExp(ha).test(Oa)};const Hd="view item group xy x y".split(" "),me={Literal:(ha,Oa)=>Oa.value,Identifier:(ha,Oa)=>{Oa=Oa.name;return 0<ha.memberDepth?Oa:"datum"===Oa?ha.datum:"event"===Oa?ha.event:"item"===Oa?ha.item:Me[Oa]||ha.params["$"+Oa]},MemberExpression:(ha,Oa)=>{const $a=!Oa.computed,ub=ha(Oa.object);$a&&(ha.memberDepth+=1);Oa=ha(Oa.property);$a&&--ha.memberDepth;return ub[Oa]},CallExpression:(ha,Oa)=>{const $a=Oa.arguments;Oa=Oa.callee.name;
Oa.startsWith("_")&&(Oa=Oa.slice(1));return"if"===Oa?ha($a[0])?ha($a[1]):ha($a[2]):(ha.fn[Oa]||Bd[Oa]).apply(ha.fn,$a.map(ha))},ArrayExpression:(ha,Oa)=>Oa.elements.map(ha),BinaryExpression:(ha,Oa)=>kf[Oa.operator](ha(Oa.left),ha(Oa.right)),UnaryExpression:(ha,Oa)=>Sb[Oa.operator](ha(Oa.argument)),ConditionalExpression:(ha,Oa)=>ha(Oa.test)?ha(Oa.consequent):ha(Oa.alternate),LogicalExpression:(ha,Oa)=>"\x26\x26"===Oa.operator?ha(Oa.left)&&ha(Oa.right):ha(Oa.left)||ha(Oa.right),ObjectExpression:(ha,
Oa)=>Oa.properties.reduce(($a,ub)=>{ha.memberDepth+=1;const Cb=ha(ub.key);--ha.memberDepth;$a[Cb]=ha(ub.value);return $a},{})};var $e={operator(ha,Oa){const $a=Oa.ast,ub=ha.functions;return Cb=>H($a,ub,Cb)},parameter(ha,Oa){const $a=Oa.ast,ub=ha.functions;return(Cb,Wb)=>H($a,ub,Wb,Cb)},event(ha,Oa){const $a=Oa.ast,ub=ha.functions;return Cb=>H($a,ub,void 0,void 0,Cb)},handler(ha,Oa){const $a=Oa.ast,ub=ha.functions;return(Cb,Wb)=>H($a,ub,Cb,Wb.item&&Wb.item.datum,Wb)},encode(ha,Oa){const {marktype:$a,
channels:ub}=Oa,Cb=ha.functions,Wb="group"===$a||"image"===$a||"rect"===$a;return(sc,Uc)=>{const Xc=sc.datum;let Cc=0,zc;for(const oc in ub)zc=H(ub[oc].ast,Cb,Uc,Xc,void 0,sc),sc[oc]!==zc&&(sc[oc]=zc,Cc=1);"rule"!==$a&&(ub.x2&&(ub.x?(Wb&&sc.x>sc.x2&&(Uc=sc.x,sc.x=sc.x2,sc.x2=Uc),sc.width=sc.x2-sc.x):sc.x=sc.x2-(sc.width||0)),ub.xc&&(sc.x=sc.xc-(sc.width||0)/2),ub.y2&&(ub.y?(Wb&&sc.y>sc.y2&&(Uc=sc.y,sc.y=sc.y2,sc.y2=Uc),sc.height=sc.y2-sc.y):sc.y=sc.y2-(sc.height||0)),ub.yc&&(sc.y=sc.yc-(sc.height||
0)/2));return Cc}}};const Qf={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},Af={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),
"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),
"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2",
"#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};
var If=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",
gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,
titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),
heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,
tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",
fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",
fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,
titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Qf["category-6"],diverging:Qf["fireandice-6"],heatmap:Qf["fire-7"],ordinal:Qf["fire-7"],ramp:Qf["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},
symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},
axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",
orient:"right",offset:10},view:{stroke:"transparent"},range:{category:Af["six-groups-cat-1"],diverging:Af["diverging-colors"],heatmap:Af["diverging-colors"],ordinal:Af["six-groups-seq"],ramp:Af["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,
size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,
padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const Ne=ha=>function(Oa){return Oa[ha]},Bb=ha=>{const Oa=ha.length;return function($a){for(let ub=0;ub<Oa;++ub)$a=$a[ha[ub]];return $a}};(function(ha,Oa,$a){const ub=T(ha);ha=1===ub.length?ub[0]:ha;return R(($a&&$a.get||Z)(ub),[ha],Oa||ha)})("id");R(ha=>ha,[],"identity");R(()=>0,[],"zero");R(()=>1,[],"one");R(()=>!0,[],"true");R(()=>!1,[],"false");var Zb=Array.isArray;const Sc=
{offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(ha){return String(ha).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(ha,Oa,$a){if(Zb(ha))return"[".concat(ha.map(Cb=>Oa("string"===typeof Cb?Cb:JSON.stringify(Cb,aa($a)))).join(", "),"]");if(ha===Object(ha)){let Cb="";const {title:Wb,image:sc}=ha;ha=ba(ha,["title","image"]);Wb&&(Cb+="\x3ch2\x3e".concat(Oa(Wb),"\x3c/h2\x3e"));sc&&(Cb+=
'\x3cimg src\x3d"'.concat(Oa(sc),'"\x3e'));var ub=Object.keys(ha);if(0<ub.length){Cb+="\x3ctable\x3e";for(const Uc of ub)ub=ha[Uc],void 0!==ub&&(ub===Object(ub)&&(ub=JSON.stringify(ub,aa($a))),Cb+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(Oa(Uc),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(Oa(ub),"\x3c/td\x3e\x3c/tr\x3e"));Cb+="\x3c/table\x3e"}return Cb||"{}"}return Oa(ha)}};class ce{constructor(ha){this.options=Object.assign(Object.assign({},Sc),ha);var Oa=this.options.id;this.el=null;this.call=
this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){ha=document.createElement("style");ha.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Oa))throw Error("Invalid HTML ID");Oa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
Oa);ha.innerHTML=Oa;Oa=document.head;0<Oa.childNodes.length?Oa.insertBefore(ha,Oa.childNodes[0]):Oa.appendChild(ha)}}tooltipHandler(ha,Oa,$a,ub){var Cb;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(Cb=document.fullscreenElement)&&void 0!==Cb?Cb:document.body).appendChild(this.el));if(null==ub||""===ub)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(ub,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));ha=this.el.getBoundingClientRect();Cb=this.options.offsetX;$a=this.options.offsetY;ub=Oa.clientX+Cb;ub+ha.width>window.innerWidth&&(ub=+Oa.clientX-Cb-ha.width);Cb=Oa.clientY+$a;Cb+ha.height>window.innerHeight&&(Cb=+Oa.clientY-$a-ha.height);var {x:Wb,y:sc}={x:ub,y:Cb};this.el.setAttribute("style","top: ".concat(sc,"px; left: ").concat(Wb,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(ha,Oa){return this.substr(!Oa||0>Oa?0:+Oa,ha.length)===ha});var ke;const Rd=wa;let Sd=Ua;const Qd="undefined"!==typeof window?window:void 0;void 0===Sd&&null!==Qd&&void 0!==Qd&&null!==(ke=Qd.vl)&&void 0!==ke&&ke.compile&&(Sd=Qd.vl);const Qe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},cf={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},ra={vega:"Vega","vega-lite":"Vega-Lite"},jb={vega:Rd.version,"vega-lite":Sd?Sd.version:"not available"},Ia={vega:ha=>ha,"vega-lite":(ha,Oa)=>Sd.compile(ha,{config:Oa}).spec},Xb=function(){var ha;if(ha=1<arguments.length){if(ha=p.isString(0>=arguments.length?void 0:arguments[0]))ha=0>=arguments.length?void 0:arguments[0],ha=!(ha.startsWith("http://")||ha.startsWith("https://")||ha.startsWith("//"));ha=ha||(0>=arguments.length?void 0:arguments[0])instanceof
HTMLElement||3===arguments.length}return ha?K(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):la(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};Xb.vegaLite=Sd;Xb.vl=Sd;Xb.container=la;Xb.embed=K;Xb.vega=Rd;Xb.default=K;Xb.version="6.20.8";return Xb})};
shadow$provide[51]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?ob.exports=p():"function"===typeof define&&define.amd?define(p):(y=y||self,y.CodeMirror=p())})(this,function(){function y(g){return new RegExp("(^|\\s)"+g+"(?:$|\\s)\\s*")}function p(g){for(var E=g.childNodes.length;0<E;--E)g.removeChild(g.firstChild);return g}function n(g,E){return p(g).appendChild(E)}function v(g,E,V,S){g=document.createElement(g);V&&(g.className=V);S&&(g.style.cssText=S);if("string"==
typeof E)g.appendChild(document.createTextNode(E));else if(E)for(V=0;V<E.length;++V)g.appendChild(E[V]);return g}function r(g,E,V,S){g=v(g,E,V,S);g.setAttribute("role","presentation");return g}function h(g,E){3==E.nodeType&&(E=E.parentNode);if(g.contains)return g.contains(E);do if(11==E.nodeType&&(E=E.host),E==g)return!0;while(E=E.parentNode)}function k(){try{var g=document.activeElement}catch(E){g=document.body||null}for(;g&&g.shadowRoot&&g.shadowRoot.activeElement;)g=g.shadowRoot.activeElement;
return g}function f(g,E){var V=g.className;y(E).test(V)||(g.className+=(V?" ":"")+E)}function e(g,E){g=g.split(" ");for(var V=0;V<g.length;V++)g[V]&&!y(g[V]).test(E)&&(E+=" "+g[V]);return E}function d(g){var E=Array.prototype.slice.call(arguments,1);return function(){return g.apply(null,E)}}function a(g,E,V){E||(E={});for(var S in g)!g.hasOwnProperty(S)||!1===V&&E.hasOwnProperty(S)||(E[S]=g[S]);return E}function c(g,E,V,S,ea){null==E&&(E=g.search(/[^\s\u00a0]/),-1==E&&(E=g.length));S=S||0;for(ea=
ea||0;;){var Ja=g.indexOf("\t",S);if(0>Ja||Ja>=E)return ea+(E-S);ea+=Ja-S;ea+=V-ea%V;S=Ja+1}}function b(g,E){for(var V=0;V<g.length;++V)if(g[V]==E)return V;return-1}function m(g,E,V){for(var S=0,ea=0;;){var Ja=g.indexOf("\t",S);-1==Ja&&(Ja=g.length);var Xa=Ja-S;if(Ja==g.length||ea+Xa>=E)return S+Math.min(Xa,E-ea);ea+=Ja-S;ea+=V-ea%V;S=Ja+1;if(ea>=E)return S}}function z(g){for(;ie.length<=g;)ie.push(u(ie)+" ");return ie[g]}function u(g){return g[g.length-1]}function C(g,E){for(var V=[],S=0;S<g.length;S++)V[S]=
E(g[S],S);return V}function J(g,E,V){for(var S=0,ea=V(E);S<g.length&&V(g[S])<=ea;)S++;g.splice(S,0,E)}function A(){}function x(g,E){Object.create?g=Object.create(g):(A.prototype=g,g=new A);E&&a(E,g);return g}function q(g){return/\w/.test(g)||""<g&&(g.toUpperCase()!=g.toLowerCase()||Ue.test(g))}function H(g,E){return E?-1<E.source.indexOf("\\w")&&q(g)?!0:E.test(g):q(g)}function M(g){for(var E in g)if(g.hasOwnProperty(E)&&g[E])return!1;return!0}function R(g){return 768<=g.charCodeAt(0)&&yf.test(g)}
function Z(g,E,V){for(;(0>V?0<E:E<g.length)&&R(g.charAt(E));)E+=V;return E}function T(g,E,V){for(var S=E>V?-1:1;;){if(E==V)return E;var ea=(E+V)/2;ea=0>S?Math.ceil(ea):Math.floor(ea);if(ea==E)return g(ea)?E:V;g(ea)?V=ea:E=ea+S}}function ba(g,E,V,S){if(!g)return S(E,V,"ltr",0);for(var ea=!1,Ja=0;Ja<g.length;++Ja){var Xa=g[Ja];if(Xa.from<V&&Xa.to>E||E==V&&Xa.to==E)S(Math.max(Xa.from,E),Math.min(Xa.to,V),1==Xa.level?"rtl":"ltr",Ja),ea=!0}ea||S(E,V,"ltr")}function aa(g,E,V){var S;Ge=null;for(var ea=0;ea<
g.length;++ea){var Ja=g[ea];if(Ja.from<E&&Ja.to>E)return ea;Ja.to==E&&(Ja.from!=Ja.to&&"before"==V?S=ea:Ge=ea);Ja.from==E&&(Ja.from!=Ja.to&&"before"!=V?S=ea:Ge=ea)}return null!=S?S:Ge}function W(g,E){var V=g.order;null==V&&(V=g.order=ag(g.text,E));return V}function X(g,E,V){if(g.removeEventListener)g.removeEventListener(E,V,!1);else if(g.detachEvent)g.detachEvent("on"+E,V);else{var S=(g=g._handlers)&&g[E];S&&(V=b(S,V),-1<V&&(g[E]=S.slice(0,V).concat(S.slice(V+1))))}}function P(g,E){var V=g._handlers&&
g._handlers[E]||Pg;if(V.length)for(var S=Array.prototype.slice.call(arguments,2),ea=0;ea<V.length;++ea)V[ea].apply(null,S)}function w(g,E,V){"string"==typeof E&&(E={type:E,preventDefault:function(){this.defaultPrevented=!0}});P(g,V||E.type,g,E);return la(E)||E.codemirrorIgnore}function B(g){var E=g._handlers&&g._handlers.cursorActivity;if(E){g=g.curOp.cursorActivityHandlers||(g.curOp.cursorActivityHandlers=[]);for(var V=0;V<E.length;++V)-1==b(g,E[V])&&g.push(E[V])}}function K(g,E){return 0<(g._handlers&&
g._handlers[E]||Pg).length}function U(g){g.prototype.on=function(E,V){Ke(this,E,V)};g.prototype.off=function(E,V){X(this,E,V)}}function ka(g){g.preventDefault?g.preventDefault():g.returnValue=!1}function da(g){g.stopPropagation?g.stopPropagation():g.cancelBubble=!0}function la(g){return null!=g.defaultPrevented?g.defaultPrevented:0==g.returnValue}function wa(g){ka(g);da(g)}function Ua(g){var E=g.which;null==E&&(g.button&1?E=1:g.button&2?E=3:g.button&4&&(E=2));Ig&&g.ctrlKey&&1==E&&(E=3);return E}function hb(g,
E){2<arguments.length&&(E.dependencies=Array.prototype.slice.call(arguments,2));ne[g]=E}function La(g){if("string"==typeof g&&Pe.hasOwnProperty(g))g=Pe[g];else if(g&&"string"==typeof g.name&&Pe.hasOwnProperty(g.name)){var E=Pe[g.name];"string"==typeof E&&(E={name:E});g=x(E,g);g.name=E.name}else{if("string"==typeof g&&/^[\w\-]+\/[\w\-]+\+xml$/.test(g))return La("application/xml");if("string"==typeof g&&/^[\w\-]+\/[\w\-]+\+json$/.test(g))return La("application/json")}return"string"==typeof g?{name:g}:
g||{name:"null"}}function pa(g,E){E=La(E);var V=ne[E.name];if(!V)return pa(g,"text/plain");g=V(g,E);if(oe.hasOwnProperty(E.name)){V=oe[E.name];for(var S in V)V.hasOwnProperty(S)&&(g.hasOwnProperty(S)&&(g["_"+S]=g[S]),g[S]=V[S])}g.name=E.name;E.helperType&&(g.helperType=E.helperType);if(E.modeProps)for(var ea in E.modeProps)g[ea]=E.modeProps[ea];return g}function Da(g,E){g=oe.hasOwnProperty(g)?oe[g]:oe[g]={};a(E,g)}function Ma(g,E){if(!0===E)return E;if(g.copyState)return g.copyState(E);g={};for(var V in E){var S=
E[V];S instanceof Array&&(S=S.concat([]));g[V]=S}return g}function ua(g,E){for(var V;g.innerMode;){V=g.innerMode(E);if(!V||V.mode==g)break;E=V.state;g=V.mode}return V||{mode:g,state:E}}function Aa(g,E,V){return g.startState?g.startState(E,V):!0}function qa(g,E){E-=g.first;if(0>E||E>=g.size)throw Error("There is no line "+(E+g.first)+" in the document.");for(;!g.lines;)for(var V=0;;++V){var S=g.children[V],ea=S.chunkSize();if(E<ea){g=S;break}E-=ea}return g.lines[E]}function Ha(g,E,V){var S=[],ea=E.line;
g.iter(E.line,V.line+1,function(Ja){Ja=Ja.text;ea==V.line&&(Ja=Ja.slice(0,V.ch));ea==E.line&&(Ja=Ja.slice(E.ch));S.push(Ja);++ea});return S}function Va(g,E,V){var S=[];g.iter(E,V,function(ea){S.push(ea.text)});return S}function eb(g,E){if(E-=g.height)for(;g;g=g.parent)g.height+=E}function ta(g){if(null==g.parent)return null;var E=g.parent;g=b(E.lines,g);for(var V=E.parent;V;E=V,V=V.parent)for(var S=0;V.children[S]!=E;++S)g+=V.children[S].chunkSize();return g+E.first}function Qa(g,E){var V=g.first;
a:do{for(var S=0;S<g.children.length;++S){var ea=g.children[S],Ja=ea.height;if(E<Ja){g=ea;continue a}E-=Ja;V+=ea.chunkSize()}return V}while(!g.lines);for(S=0;S<g.lines.length;++S){ea=g.lines[S].height;if(E<ea)break;E-=ea}return V+S}function oa(g,E){return E>=g.first&&E<g.first+g.size}function Y(g,E){return String(g.lineNumberFormatter(E+g.firstLineNumber))}function ja(g,E,V){void 0===V&&(V=null);if(!(this instanceof ja))return new ja(g,E,V);this.line=g;this.ch=E;this.sticky=V}function Ga(g,E){return g.line-
E.line||g.ch-E.ch}function Wa(g,E){return g.sticky==E.sticky&&0==Ga(g,E)}function cb(g){return ja(g.line,g.ch)}function nb(g,E){return 0>Ga(g,E)?E:g}function pb(g,E){return 0>Ga(g,E)?g:E}function Fb(g,E){if(E.line<g.first)return ja(g.first,0);var V=g.first+g.size-1;if(E.line>V)return ja(V,qa(g,V).text.length);g=qa(g,E.line).text.length;V=E.ch;E=null==V||V>g?ja(E.line,g):0>V?ja(E.line,0):E;return E}function nc(g,E){for(var V=[],S=0;S<E.length;S++)V[S]=Fb(g,E[S]);return V}function Lc(g,E,V,S){var ea=
[g.state.modeGen],Ja={};ac(g,E.text,g.doc.mode,V,function(xb,Qb){return ea.push(xb,Qb)},Ja,S);var Xa=V.state;S=function(xb){V.baseTokens=ea;var Qb=g.state.overlays[xb],gc=1,Pc=0;V.state=!0;ac(g,E.text,Qb.mode,V,function(Wc,ad){for(var Ld=gc;Pc<Wc;){var ze=ea[gc];ze>Wc&&ea.splice(gc,1,Wc,ea[gc+1],ze);gc+=2;Pc=Math.min(Wc,ze)}if(ad)if(Qb.opaque)ea.splice(Ld,gc-Ld,Wc,"overlay "+ad),gc=Ld+2;else for(;Ld<gc;Ld+=2)Wc=ea[Ld+1],ea[Ld+1]=(Wc?Wc+" ":"")+"overlay "+ad},Ja);V.state=Xa;V.baseTokens=null;V.baseTokenPos=
1};for(var ab=0;ab<g.state.overlays.length;++ab)S(ab);return{styles:ea,classes:Ja.bgClass||Ja.textClass?Ja:null}}function Ac(g,E,V){if(!E.styles||E.styles[0]!=g.state.modeGen){var S=yc(g,ta(E)),ea=E.text.length>g.options.maxHighlightLength&&Ma(g.doc.mode,S.state),Ja=Lc(g,E,S);ea&&(S.state=ea);E.stateAfter=S.save(!ea);E.styles=Ja.styles;Ja.classes?E.styleClasses=Ja.classes:E.styleClasses&&(E.styleClasses=null);V===g.doc.highlightFrontier&&(g.doc.modeFrontier=Math.max(g.doc.modeFrontier,++g.doc.highlightFrontier))}return E.styles}
function yc(g,E,V){var S=g.doc,ea=g.display;if(!S.mode.startState)return new bg(S,!0,E);var Ja=lc(g,E,V),Xa=Ja>S.first&&qa(S,Ja-1).stateAfter,ab=Xa?bg.fromSaved(S,Xa,Ja):new bg(S,Aa(S.mode),Ja);S.iter(Ja,E,function(xb){tc(g,xb.text,ab);var Qb=ab.line;xb.stateAfter=Qb==E-1||0==Qb%5||Qb>=ea.viewFrom&&Qb<ea.viewTo?ab.save():null;ab.nextLine()});V&&(S.modeFrontier=ab.line);return ab}function tc(g,E,V,S){var ea=g.doc.mode;g=new wf(E,g.options.tabSize,V);g.start=g.pos=S||0;for(""==E&&hd(ea,V.state);!g.eol();)Mb(ea,
g,V.state),g.start=g.pos}function hd(g,E){if(g.blankLine)return g.blankLine(E);if(g.innerMode&&(g=ua(g,E),g.mode.blankLine))return g.mode.blankLine(g.state)}function Mb(g,E,V,S){for(var ea=0;10>ea;ea++){S&&(S[0]=ua(g,V).mode);var Ja=g.token(E,V);if(E.pos>E.start)return Ja}throw Error("Mode "+g.name+" failed to advance stream.");}function Ab(g,E,V,S){var ea=g.doc,Ja=ea.mode;E=Fb(ea,E);var Xa=qa(ea,E.line);V=yc(g,E.line,V);g=new wf(Xa.text,g.options.tabSize,V);var ab;for(S&&(ab=[]);(S||g.pos<E.ch)&&
!g.eol();){g.start=g.pos;var xb=Mb(Ja,g,V.state);S&&ab.push(new lh(g,xb,Ma(ea.mode,V.state)))}return S?ab:new lh(g,xb,V.state)}function ec(g,E){if(g)for(;;){var V=g.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!V)break;g=g.slice(0,V.index)+g.slice(V.index+V[0].length);var S=V[1]?"bgClass":"textClass";null==E[S]?E[S]=V[2]:(new RegExp("(?:^|\\s)"+V[2]+"(?:$|\\s)")).test(E[S])||(E[S]+=" "+V[2])}return g}function ac(g,E,V,S,ea,Ja,Xa){var ab=V.flattenSpans;null==ab&&(ab=g.options.flattenSpans);var xb=
0,Qb=null,gc=new wf(E,g.options.tabSize,S),Pc=g.options.addModeClass&&[null];for(""==E&&ec(hd(V,S.state),Ja);!gc.eol();){if(gc.pos>g.options.maxHighlightLength){ab=!1;Xa&&tc(g,E,S,gc.pos);gc.pos=E.length;var Wc=null}else Wc=ec(Mb(V,gc,S.state,Pc),Ja);if(Pc){var ad=Pc[0].name;ad&&(Wc="m-"+(Wc?ad+" "+Wc:ad))}if(!ab||Qb!=Wc){for(;xb<gc.start;)xb=Math.min(gc.start,xb+5E3),ea(xb,Qb);Qb=Wc}gc.start=gc.pos}for(;xb<gc.pos;)g=Math.min(gc.pos,xb+5E3),ea(g,Qb),xb=g}function lc(g,E,V){for(var S,ea,Ja=g.doc,Xa=
V?-1:E-(g.doc.mode.innerMode?1E3:100);E>Xa;--E){if(E<=Ja.first)return Ja.first;var ab=qa(Ja,E-1),xb=ab.stateAfter;if(xb&&(!V||E+(xb instanceof Ug?xb.lookAhead:0)<=Ja.modeFrontier))return E;ab=c(ab.text,null,g.options.tabSize);if(null==ea||S>ab)ea=E-1,S=ab}return ea}function Ic(g,E){g.modeFrontier=Math.min(g.modeFrontier,E);if(!(g.highlightFrontier<E-10)){for(var V=g.first,S=E-1;S>V;S--){var ea=qa(g,S).stateAfter;if(ea&&(!(ea instanceof Ug)||S+ea.lookAhead<E)){V=S+1;break}}g.highlightFrontier=Math.min(g.highlightFrontier,
V)}}function Ec(g,E,V){this.marker=g;this.from=E;this.to=V}function Rc(g,E){if(g)for(var V=0;V<g.length;++V){var S=g[V];if(S.marker==E)return S}}function id(g,E){if(E.full)return null;var V=oa(g,E.from.line)&&qa(g,E.from.line).markedSpans,S=oa(g,E.to.line)&&qa(g,E.to.line).markedSpans;if(!V&&!S)return null;g=E.from.ch;var ea=E.to.ch,Ja=0==Ga(E.from,E.to),Xa;if(V)for(var ab=0;ab<V.length;++ab){var xb=V[ab],Qb=xb.marker;if(null==xb.from||(Qb.inclusiveLeft?xb.from<=g:xb.from<g)||!(xb.from!=g||"bookmark"!=
Qb.type||Ja&&xb.marker.insertLeft)){var gc=null==xb.to||(Qb.inclusiveRight?xb.to>=g:xb.to>g);(Xa||(Xa=[])).push(new Ec(Qb,xb.from,gc?null:xb.to))}}V=Xa;var Pc;if(S)for(Xa=0;Xa<S.length;++Xa)if(ab=S[Xa],xb=ab.marker,null==ab.to||(xb.inclusiveRight?ab.to>=ea:ab.to>ea)||ab.from==ea&&"bookmark"==xb.type&&(!Ja||ab.marker.insertLeft))Qb=null==ab.from||(xb.inclusiveLeft?ab.from<=ea:ab.from<ea),(Pc||(Pc=[])).push(new Ec(xb,Qb?null:ab.from-ea,null==ab.to?null:ab.to-ea));S=1==E.text.length;ea=u(E.text).length+
(S?g:0);if(V)for(Ja=0;Ja<V.length;++Ja)if(Xa=V[Ja],null==Xa.to)(ab=Rc(Pc,Xa.marker),ab)?S&&(Xa.to=null==ab.to?null:ab.to+ea):Xa.to=g;if(Pc)for(g=0;g<Pc.length;++g)Ja=Pc[g],null!=Ja.to&&(Ja.to+=ea),null==Ja.from?Rc(V,Ja.marker)||(Ja.from=ea,S&&(V||(V=[])).push(Ja)):(Ja.from+=ea,S&&(V||(V=[])).push(Ja));V&&(V=Td(V));Pc&&Pc!=V&&(Pc=Td(Pc));g=[V];if(!S){E=E.text.length-2;var Wc;if(0<E&&V)for(S=0;S<V.length;++S)null==V[S].to&&(Wc||(Wc=[])).push(new Ec(V[S].marker,null,null));for(V=0;V<E;++V)g.push(Wc);
g.push(Pc)}return g}function Td(g){for(var E=0;E<g.length;++E){var V=g[E];null!=V.from&&V.from==V.to&&!1!==V.marker.clearWhenEmpty&&g.splice(E--,1)}return g.length?g:null}function Ea(g,E,V){var S=null;g.iter(E.line,V.line+1,function(gc){if(gc.markedSpans)for(var Pc=0;Pc<gc.markedSpans.length;++Pc){var Wc=gc.markedSpans[Pc].marker;!Wc.readOnly||S&&-1!=b(S,Wc)||(S||(S=[])).push(Wc)}});if(!S)return null;g=[{from:E,to:V}];for(E=0;E<S.length;++E){V=S[E];for(var ea=V.find(0),Ja=0;Ja<g.length;++Ja){var Xa=
g[Ja];if(!(0>Ga(Xa.to,ea.from)||0<Ga(Xa.from,ea.to))){var ab=[Ja,1],xb=Ga(Xa.from,ea.from),Qb=Ga(Xa.to,ea.to);(0>xb||!V.inclusiveLeft&&!xb)&&ab.push({from:Xa.from,to:ea.from});(0<Qb||!V.inclusiveRight&&!Qb)&&ab.push({from:ea.to,to:Xa.to});g.splice.apply(g,ab);Ja+=ab.length-3}}}return g}function za(g){var E=g.markedSpans;if(E){for(var V=0;V<E.length;++V)E[V].marker.detachLine(g);g.markedSpans=null}}function Fa(g,E){if(E){for(var V=0;V<E.length;++V)E[V].marker.attachLine(g);g.markedSpans=E}}function bb(g,
E){var V=g.lines.length-E.lines.length;if(0!=V)return V;V=g.find();var S=E.find(),ea=Ga(V.from,S.from)||(g.inclusiveLeft?-1:0)-(E.inclusiveLeft?-1:0);return ea?-ea:(V=Ga(V.to,S.to)||(g.inclusiveRight?1:0)-(E.inclusiveRight?1:0))?V:E.id-g.id}function lb(g,E){g=Jh&&g.markedSpans;if(g)for(var V,S=0;S<g.length;++S)if(V=g[S],V.marker.collapsed&&null==(E?V.from:V.to)&&(!ea||0>bb(ea,V.marker)))var ea=V.marker;return ea}function zb(g,E,V,S,ea){g=qa(g,E);if(g=Jh&&g.markedSpans)for(E=0;E<g.length;++E){var Ja=
g[E];if(Ja.marker.collapsed){var Xa=Ja.marker.find(0),ab=Ga(Xa.from,V)||(Ja.marker.inclusiveLeft?-1:0)-(ea.inclusiveLeft?-1:0),xb=Ga(Xa.to,S)||(Ja.marker.inclusiveRight?1:0)-(ea.inclusiveRight?1:0);if(!(0<=ab&&0>=xb||0>=ab&&0<=xb)&&(0>=ab&&(Ja.marker.inclusiveRight&&ea.inclusiveLeft?0<=Ga(Xa.to,V):0<Ga(Xa.to,V))||0<=ab&&(Ja.marker.inclusiveRight&&ea.inclusiveLeft?0>=Ga(Xa.from,S):0>Ga(Xa.from,S))))return!0}}}function Tb(g){for(var E;E=lb(g,!0);)g=E.find(-1,!0).line;return g}function Ub(g,E){g=qa(g,
E);var V=Tb(g);return g==V?E:ta(V)}function $b(g,E){if(E>g.lastLine())return E;var V=qa(g,E);if(!Dc(g,V))return E;for(;g=lb(V,!1);)V=g.find(1,!0).line;return ta(V)+1}function Dc(g,E){var V=Jh&&E.markedSpans;if(V)for(var S,ea=0;ea<V.length;++ea)if(S=V[ea],S.marker.collapsed&&(null==S.from||!S.marker.widgetNode&&0==S.from&&S.marker.inclusiveLeft&&dd(g,E,S)))return!0}function dd(g,E,V){if(null==V.to)return E=V.marker.find(1,!0),dd(g,E.line,Rc(E.line.markedSpans,V.marker));if(V.marker.inclusiveRight&&
V.to==E.text.length)return!0;for(var S,ea=0;ea<E.markedSpans.length;++ea)if(S=E.markedSpans[ea],S.marker.collapsed&&!S.marker.widgetNode&&S.from==V.to&&(null==S.to||S.to!=V.from)&&(S.marker.inclusiveLeft||V.marker.inclusiveRight)&&dd(g,E,S))return!0}function fd(g){g=Tb(g);for(var E=0,V=g.parent,S=0;S<V.lines.length;++S){var ea=V.lines[S];if(ea==g)break;else E+=ea.height}for(g=V.parent;g;V=g,g=V.parent)for(S=0;S<g.children.length&&(ea=g.children[S],ea!=V);++S)E+=ea.height;return E}function od(g){if(0==
g.height)return 0;for(var E=g.text.length,V,S=g;V=lb(S,!0);)V=V.find(0,!0),S=V.from.line,E+=V.from.ch-V.to.ch;for(S=g;V=lb(S,!1);)g=V.find(0,!0),E-=S.text.length-g.from.ch,S=g.to.line,E+=S.text.length-g.to.ch;return E}function sd(g){var E=g.display;g=g.doc;E.maxLine=qa(g,g.first);E.maxLineLength=od(E.maxLine);E.maxLineChanged=!0;g.iter(function(V){var S=od(V);S>E.maxLineLength&&(E.maxLineLength=S,E.maxLine=V)})}function Kd(g,E){if(!g||/^\s*$/.test(g))return null;E=E.addModeClass?Yj:Kj;return E[g]||
(E[g]=g.replace(/\S+/g,"cm-$\x26"))}function Od(g,E){var V=r("span",null,null,rh?"padding-right: .1px":null);V={pre:r("pre",[V],"CodeMirror-line"),content:V,col:0,pos:0,cm:g,trailingSpace:!1,splitSpaces:g.getOption("lineWrapping")};E.measure={};for(var S=0;S<=(E.rest?E.rest.length:0);S++){var ea=S?E.rest[S-1]:E.line,Ja=void 0;V.pos=0;V.addToken=de;var Xa=g.display.measure;if(null!=Qg)Xa=Qg;else{var ab=n(Xa,document.createTextNode("AA")),xb=bc(ab,0,1).getBoundingClientRect();ab=bc(ab,1,2).getBoundingClientRect();
p(Xa);Xa=xb&&xb.left!=xb.right?Qg=3>ab.right-xb.right:!1}Xa&&(Ja=W(ea,g.doc.direction))&&(V.addToken=je(V.addToken,Ja));V.map=[];var Qb=E!=g.display.externalMeasured&&ta(ea);a:{var gc=ab=xb=Xa=void 0,Pc=void 0,Wc=void 0,ad=void 0;Ja=V;Qb=Ac(g,ea,Qb);var Ld=ea.markedSpans,ze=ea.text,pf=0;if(Ld)for(var uh=ze.length,af=0,Sf=1,Dg="",Lg=0;;){if(Lg==af){Pc=gc=ab=Wc="";xb=Xa=null;Lg=Infinity;for(var tg=[],Wf=void 0,ng=0;ng<Ld.length;++ng){var mg=Ld[ng],Bg=mg.marker;if("bookmark"==Bg.type&&mg.from==af&&Bg.widgetNode)tg.push(Bg);
else if(mg.from<=af&&(null==mg.to||mg.to>af||Bg.collapsed&&mg.to==af&&mg.from==af)){null!=mg.to&&mg.to!=af&&Lg>mg.to&&(Lg=mg.to,gc="");Bg.className&&(Pc+=" "+Bg.className);Bg.css&&(Wc=(Wc?Wc+";":"")+Bg.css);Bg.startStyle&&mg.from==af&&(ab+=" "+Bg.startStyle);Bg.endStyle&&mg.to==Lg&&(Wf||(Wf=[])).push(Bg.endStyle,mg.to);Bg.title&&((Xa||(Xa={})).title=Bg.title);if(Bg.attributes)for(var Mh in Bg.attributes)(Xa||(Xa={}))[Mh]=Bg.attributes[Mh];Bg.collapsed&&(!xb||0>bb(xb.marker,Bg))&&(xb=mg)}else mg.from>
af&&Lg>mg.from&&(Lg=mg.from)}if(Wf)for(ng=0;ng<Wf.length;ng+=2)Wf[ng+1]==Lg&&(gc+=" "+Wf[ng]);if(!xb||xb.from==af)for(Wf=0;Wf<tg.length;++Wf)qd(Ja,0,tg[Wf]);if(xb&&(xb.from||0)==af){qd(Ja,(null==xb.to?uh+1:xb.to)-af,xb.marker,null==xb.from);if(null==xb.to)break a;xb.to==af&&(xb=!1)}}if(af>=uh)break;for(tg=Math.min(uh,Lg);;){if(Dg){Wf=af+Dg.length;xb||(ng=Wf>tg?Dg.slice(0,tg-af):Dg,Ja.addToken(Ja,ng,ad?ad+Pc:Pc,ab,af+ng.length==Lg?gc:"",Wc,Xa));if(Wf>=tg){Dg=Dg.slice(tg-af);af=tg;break}af=Wf;ab=""}Dg=
ze.slice(pf,pf=Qb[Sf++]);ad=Kd(Qb[Sf++],Ja.cm.options)}}else for(Xa=1;Xa<Qb.length;Xa+=2)Ja.addToken(Ja,ze.slice(pf,pf=Qb[Xa]),Kd(Qb[Xa+1],Ja.cm.options))}ea.styleClasses&&(ea.styleClasses.bgClass&&(V.bgClass=e(ea.styleClasses.bgClass,V.bgClass||"")),ea.styleClasses.textClass&&(V.textClass=e(ea.styleClasses.textClass,V.textClass||"")));0==V.map.length&&(ea=V.map,Ja=ea.push,Xa=V.content,xb=Xa.appendChild,ab=g.display.measure,null==Nh&&(gc=v("span",""),n(ab,v("span",[gc,document.createTextNode("x")])),
0!=ab.firstChild.offsetHeight&&(Nh=1>=gc.offsetWidth&&2<gc.offsetHeight&&!(Yf&&8>Cg))),ab=Nh?v("span",""):v("span","",null,"display: inline-block; width: 1px; margin-right: -1px"),ab.setAttribute("cm-text",""),Ja.call(ea,0,0,xb.call(Xa,ab)));0==S?(E.measure.map=V.map,E.measure.cache={}):((E.measure.maps||(E.measure.maps=[])).push(V.map),(E.measure.caches||(E.measure.caches=[])).push({}))}rh&&(Mh=V.content.lastChild,/\bcm-tab\b/.test(Mh.className)||Mh.querySelector&&Mh.querySelector(".cm-tab"))&&
(V.content.className="cm-tab-wrap-hack");P(g,"renderLine",g,E.line,V.pre);V.pre.className&&(V.textClass=e(V.pre.className,V.textClass||""));return V}function ae(g){var E=v("span","","cm-invalidchar");E.title="\\u"+g.charCodeAt(0).toString(16);E.setAttribute("aria-label",E.title);return E}function de(g,E,V,S,ea,Ja,Xa){if(E){if(g.splitSpaces){var ab=g.trailingSpace;if(1<E.length&&!/  /.test(E))ab=E;else{for(var xb="",Qb=0;Qb<E.length;Qb++){var gc=E.charAt(Qb);" "!=gc||!ab||Qb!=E.length-1&&32!=E.charCodeAt(Qb+
1)||(gc="");xb+=gc;ab=" "==gc}ab=xb}}else ab=E;xb=ab;Qb=g.cm.state.specialChars;gc=!1;if(Qb.test(E)){ab=document.createDocumentFragment();for(var Pc=0;;){Qb.lastIndex=Pc;var Wc=Qb.exec(E),ad=Wc?Wc.index-Pc:E.length-Pc;if(ad){var Ld=document.createTextNode(xb.slice(Pc,Pc+ad));Yf&&9>Cg?ab.appendChild(v("span",[Ld])):ab.appendChild(Ld);g.map.push(g.pos,g.pos+ad,Ld);g.col+=ad;g.pos+=ad}if(!Wc)break;Pc+=ad+1;"\t"==Wc[0]?(Wc=g.cm.options.tabSize,Wc-=g.col%Wc,ad=ab.appendChild(v("span",z(Wc),"cm-tab")),
ad.setAttribute("role","presentation"),ad.setAttribute("cm-text","\t"),g.col+=Wc):("\r"==Wc[0]||"\n"==Wc[0]?(ad=ab.appendChild(v("span","\r"==Wc[0]?"":"","cm-invalidchar")),ad.setAttribute("cm-text",Wc[0])):(ad=g.cm.options.specialCharPlaceholder(Wc[0]),ad.setAttribute("cm-text",Wc[0]),Yf&&9>Cg?ab.appendChild(v("span",[ad])):ab.appendChild(ad)),g.col+=1);g.map.push(g.pos,g.pos+1,ad);g.pos++}}else g.col+=E.length,ab=document.createTextNode(xb),g.map.push(g.pos,g.pos+E.length,ab),Yf&&9>Cg&&(gc=!0),
g.pos+=E.length;g.trailingSpace=32==xb.charCodeAt(E.length-1);if(V||S||ea||gc||Ja||Xa){E=V||"";S&&(E+=S);ea&&(E+=ea);S=v("span",[ab],E,Ja);if(Xa)for(var ze in Xa)Xa.hasOwnProperty(ze)&&"style"!=ze&&"class"!=ze&&S.setAttribute(ze,Xa[ze]);return g.content.appendChild(S)}g.content.appendChild(ab)}}function je(g,E){return function(V,S,ea,Ja,Xa,ab,xb){ea=ea?ea+" cm-force-border":"cm-force-border";for(var Qb=V.pos,gc=Qb+S.length;;){for(var Pc=void 0,Wc=0;Wc<E.length&&!(Pc=E[Wc],Pc.to>Qb&&Pc.from<=Qb);Wc++);
if(Pc.to>=gc)return g(V,S,ea,Ja,Xa,ab,xb);g(V,S.slice(0,Pc.to-Qb),ea,Ja,null,ab,xb);Ja=null;S=S.slice(Pc.to-Qb);Qb=Pc.to}}}function qd(g,E,V,S){var ea=!S&&V.widgetNode;ea&&g.map.push(g.pos,g.pos+E,ea);!S&&g.cm.display.input.needsContentAttribute&&(ea||(ea=g.content.appendChild(document.createElement("span"))),ea.setAttribute("cm-marker",V.id));ea&&(g.cm.display.input.setUneditable(ea),g.content.appendChild(ea));g.pos+=E;g.trailingSpace=!1}function bf(g,E,V){for(var S=this.line=E,ea;S=lb(S,!1);)S=
S.find(1,!0).line,(ea||(ea=[])).push(S);this.size=(this.rest=ea)?ta(u(this.rest))-V+1:1;this.node=this.text=null;this.hidden=Dc(g,E)}function Ye(g,E,V){var S=[],ea;for(ea=E;ea<V;)E=new bf(g.doc,qa(g.doc,ea),ea),ea+=E.size,S.push(E);return S}function pe(g,E){if(g=g.ownsGroup)try{var V=g.delayedCallbacks,S=0;do{for(;S<V.length;S++)V[S].call(null);for(var ea=0;ea<g.ops.length;ea++){var Ja=g.ops[ea];if(Ja.cursorActivityHandlers)for(;Ja.cursorActivityCalled<Ja.cursorActivityHandlers.length;)Ja.cursorActivityHandlers[Ja.cursorActivityCalled++].call(null,
Ja.cm)}}while(S<V.length)}finally{Ei=null,E(g)}}function ve(g,E){var V=g._handlers&&g._handlers[E]||Pg;if(V.length){var S=Array.prototype.slice.call(arguments,2);if(Ei)var ea=Ei.delayedCallbacks;else Ej?ea=Ej:(ea=Ej=[],setTimeout(Ca,0));for(var Ja=function(ab){ea.push(function(){return V[ab].apply(null,S)})},Xa=0;Xa<V.length;++Xa)Ja(Xa)}}function Ca(){var g=Ej;Ej=null;for(var E=0;E<g.length;++E)g[E]()}function Ya(g,E,V,S){for(var ea=0;ea<E.changes.length;ea++){var Ja=E.changes[ea];if("text"==Ja){Ja=
g;var Xa=E,ab=Xa.text.className,xb=Kb(Ja,Xa);Xa.text==Xa.node&&(Xa.node=xb.pre);Xa.text.parentNode.replaceChild(xb.pre,Xa.text);Xa.text=xb.pre;xb.bgClass!=Xa.bgClass||xb.textClass!=Xa.textClass?(Xa.bgClass=xb.bgClass,Xa.textClass=xb.textClass,dc(Ja,Xa)):ab&&(Xa.text.className=ab)}else if("gutter"==Ja)mc(g,E,V,S);else if("class"==Ja)dc(g,E);else if("widget"==Ja){Ja=g;Xa=E;ab=S;Xa.alignable&&(Xa.alignable=null);xb=y("CodeMirror-linewidget");for(var Qb=Xa.node.firstChild,gc;Qb;Qb=gc)gc=Qb.nextSibling,
xb.test(Qb.className)&&Xa.node.removeChild(Qb);Gc(Ja,Xa,ab)}}E.changes=null}function tb(g){g.node==g.text&&(g.node=v("div",null,null,"position: relative"),g.text.parentNode&&g.text.parentNode.replaceChild(g.node,g.text),g.node.appendChild(g.text),Yf&&8>Cg&&(g.node.style.zIndex=2));return g.node}function Kb(g,E){var V=g.display.externalMeasured;return V&&V.line==E.line?(g.display.externalMeasured=null,E.measure=V.measure,V.built):Od(g,E)}function dc(g,E){var V=E.bgClass?E.bgClass+" "+(E.line.bgClass||
""):E.line.bgClass;V&&(V+=" CodeMirror-linebackground");if(E.background)V?E.background.className=V:(E.background.parentNode.removeChild(E.background),E.background=null);else if(V){var S=tb(E);E.background=S.insertBefore(v("div",null,V),S.firstChild);g.display.input.setUneditable(E.background)}E.line.wrapClass?tb(E).className=E.line.wrapClass:E.node!=E.text&&(E.node.className="");E.text.className=(E.textClass?E.textClass+" "+(E.line.textClass||""):E.line.textClass)||""}function mc(g,E,V,S){E.gutter&&
(E.node.removeChild(E.gutter),E.gutter=null);E.gutterBackground&&(E.node.removeChild(E.gutterBackground),E.gutterBackground=null);if(E.line.gutterClass){var ea=tb(E);E.gutterBackground=v("div",null,"CodeMirror-gutter-background "+E.line.gutterClass,"left: "+(g.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px; width: "+S.gutterTotalWidth+"px");g.display.input.setUneditable(E.gutterBackground);ea.insertBefore(E.gutterBackground,E.text)}ea=E.line.gutterMarkers;if(g.options.lineNumbers||ea){var Ja=
tb(E),Xa=E.gutter=v("div",null,"CodeMirror-gutter-wrapper","left: "+(g.options.fixedGutter?S.fixedPos:-S.gutterTotalWidth)+"px");Xa.setAttribute("aria-hidden","true");g.display.input.setUneditable(Xa);Ja.insertBefore(Xa,E.text);E.line.gutterClass&&(Xa.className+=" "+E.line.gutterClass);!g.options.lineNumbers||ea&&ea["CodeMirror-linenumbers"]||(E.lineNumber=Xa.appendChild(v("div",Y(g.options,V),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+S.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+
g.display.lineNumInnerWidth+"px")));if(ea)for(E=0;E<g.display.gutterSpecs.length;++E)V=g.display.gutterSpecs[E].className,(Ja=ea.hasOwnProperty(V)&&ea[V])&&Xa.appendChild(v("div",[Ja],"CodeMirror-gutter-elt","left: "+S.gutterLeft[V]+"px; width: "+S.gutterWidth[V]+"px"))}}function Jc(g,E,V,S){var ea=Kb(g,E);E.text=E.node=ea.pre;ea.bgClass&&(E.bgClass=ea.bgClass);ea.textClass&&(E.textClass=ea.textClass);dc(g,E);mc(g,E,V,S);Gc(g,E,S);return E.node}function Gc(g,E,V){jc(g,E.line,E,V,!0);if(E.rest)for(var S=
0;S<E.rest.length;S++)jc(g,E.rest[S],E,V,!1)}function jc(g,E,V,S,ea){if(E.widgets){var Ja=tb(V),Xa=0;for(E=E.widgets;Xa<E.length;++Xa){var ab=E[Xa],xb=v("div",[ab.node],"CodeMirror-linewidget"+(ab.className?" "+ab.className:""));ab.handleMouseEvents||xb.setAttribute("cm-ignore-events","true");var Qb=ab,gc=xb,Pc=S;if(Qb.noHScroll){(V.alignable||(V.alignable=[])).push(gc);var Wc=Pc.wrapperWidth;gc.style.left=Pc.fixedPos+"px";Qb.coverGutter||(Wc-=Pc.gutterTotalWidth,gc.style.paddingLeft=Pc.gutterTotalWidth+
"px");gc.style.width=Wc+"px"}Qb.coverGutter&&(gc.style.zIndex=5,gc.style.position="relative",Qb.noHScroll||(gc.style.marginLeft=-Pc.gutterTotalWidth+"px"));g.display.input.setUneditable(xb);ea&&ab.above?Ja.insertBefore(xb,V.gutter||V.text):Ja.appendChild(xb);ve(ab,"redraw")}}}function bd(g){if(null!=g.height)return g.height;var E=g.doc.cm;if(!E)return 0;if(!h(document.body,g.node)){var V="position: relative;";g.coverGutter&&(V+="margin-left: -"+E.display.gutters.offsetWidth+"px;");g.noHScroll&&(V+=
"width: "+E.display.wrapper.clientWidth+"px;");n(E.display.measure,v("div",[g.node],null,V))}return g.height=g.node.parentNode.offsetHeight}function md(g,E){for(E=E.target||E.srcElement;E!=g.wrapper;E=E.parentNode)if(!E||1==E.nodeType&&"true"==E.getAttribute("cm-ignore-events")||E.parentNode==g.sizer&&E!=g.mover)return!0}function Ed(g){return g.mover.offsetHeight-g.lineSpace.offsetHeight}function Nd(g){if(g.cachedPaddingH)return g.cachedPaddingH;var E=n(g.measure,v("pre","x","CodeMirror-line-like"));
E=window.getComputedStyle?window.getComputedStyle(E):E.currentStyle;E={left:parseInt(E.paddingLeft),right:parseInt(E.paddingRight)};isNaN(E.left)||isNaN(E.right)||(g.cachedPaddingH=E);return E}function Pd(g){return 50-g.display.nativeBarWidth}function ee(g){return g.display.scroller.clientWidth-Pd(g)-g.display.barWidth}function Ce(g){return g.display.scroller.clientHeight-Pd(g)-g.display.barHeight}function ue(g,E,V){if(g.line==E)return{map:g.measure.map,cache:g.measure.cache};if(g.rest){for(var S=
0;S<g.rest.length;S++)if(g.rest[S]==E)return{map:g.measure.maps[S],cache:g.measure.caches[S]};for(E=0;E<g.rest.length;E++)if(ta(g.rest[E])>V)return{map:g.measure.maps[E],cache:g.measure.caches[E],before:!0}}}function Df(g,E){if(E>=g.display.viewFrom&&E<g.display.viewTo)return g.display.view[Oa(g,E)];if((g=g.display.externalMeasured)&&E>=g.lineN&&E<g.lineN+g.size)return g}function Be(g,E){var V=ta(E),S=Df(g,V);S&&!S.text?S=null:S&&S.changes&&(Ya(g,S,V,ra(g)),g.curOp.forceUpdate=!0);if(!S){var ea=Tb(E);
S=ta(ea);ea=g.display.externalMeasured=new bf(g.doc,ea,S);ea.lineN=S;S=ea.built=Od(g,ea);ea.text=S.pre;n(g.display.lineMeasure,S.pre);S=ea}g=ue(S,E,V);return{line:E,view:S,rect:null,map:g.map,cache:g.cache,before:g.before,hasHeights:!1}}function Me(g,E,V,S,ea){E.before&&(V=-1);var Ja=V+(S||"");if(E.cache.hasOwnProperty(Ja))g=E.cache[Ja];else{E.rect||(E.rect=E.view.text.getBoundingClientRect());if(!E.hasHeights){var Xa=E.view,ab=E.rect,xb=g.options.lineWrapping,Qb=xb&&ee(g);if(!Xa.measure.heights||
xb&&Xa.measure.width!=Qb){var gc=Xa.measure.heights=[];if(xb)for(Xa.measure.width=Qb,Xa=Xa.text.firstChild.getClientRects(),xb=0;xb<Xa.length-1;xb++){Qb=Xa[xb];var Pc=Xa[xb+1];2<Math.abs(Qb.bottom-Pc.bottom)&&gc.push((Qb.bottom+Pc.top)/2-ab.top)}gc.push(ab.bottom-ab.top)}E.hasHeights=!0}gc=S;Xa=kf(E.map,V,gc);S=Xa.node;ab=Xa.start;xb=Xa.end;V=Xa.collapse;if(3==S.nodeType){for(var Wc=0;4>Wc;Wc++){for(;ab&&R(E.line.text.charAt(Xa.coverStart+ab));)--ab;for(;Xa.coverStart+xb<Xa.coverEnd&&R(E.line.text.charAt(Xa.coverStart+
xb));)++xb;if(Yf&&9>Cg&&0==ab&&xb==Xa.coverEnd-Xa.coverStart)var ad=S.parentNode.getBoundingClientRect();else{ad=bc(S,ab,xb).getClientRects();xb=Dk;if("left"==gc)for(Qb=0;Qb<ad.length&&(xb=ad[Qb]).left==xb.right;Qb++);else for(Qb=ad.length-1;0<=Qb&&(xb=ad[Qb]).left==xb.right;Qb--);ad=xb}if(ad.left||ad.right||0==ab)break;xb=ab;--ab;V="right"}Yf&&11>Cg&&((Wc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Le?Wc=Le:(gc=n(g.display.measure,v("span","x")),Wc=gc.getBoundingClientRect(),
gc=bc(gc,0,1).getBoundingClientRect(),Wc=Le=1<Math.abs(Wc.left-gc.left)),Wc=!Wc),Wc||(Wc=screen.logicalXDPI/screen.deviceXDPI,gc=screen.logicalYDPI/screen.deviceYDPI,ad={left:ad.left*Wc,right:ad.right*Wc,top:ad.top*gc,bottom:ad.bottom*gc}))}else 0<ab&&(V=gc="right"),ad=g.options.lineWrapping&&1<(Wc=S.getClientRects()).length?Wc["right"==gc?Wc.length-1:0]:S.getBoundingClientRect();!(Yf&&9>Cg)||ab||ad&&(ad.left||ad.right)||(ad=(ad=S.parentNode.getClientRects()[0])?{left:ad.left,right:ad.left+cf(g.display),
top:ad.top,bottom:ad.bottom}:Dk);S=ad.top-E.rect.top;ab=ad.bottom-E.rect.top;Wc=(S+ab)/2;gc=E.view.measure.heights;for(Xa=0;Xa<gc.length-1&&!(Wc<gc[Xa]);Xa++);V={left:("right"==V?ad.right:ad.left)-E.rect.left,right:("left"==V?ad.left:ad.right)-E.rect.left,top:Xa?gc[Xa-1]:0,bottom:gc[Xa]};ad.left||ad.right||(V.bogus=!0);g.options.singleCursorHeightPerLine||(V.rtop=S,V.rbottom=ab);g=V;g.bogus||(E.cache[Ja]=g)}return{left:g.left,right:g.right,top:ea?g.rtop:g.top,bottom:ea?g.rbottom:g.bottom}}function kf(g,
E,V){for(var S,ea,Ja,Xa,ab,xb,Qb=0;Qb<g.length;Qb+=3){ab=g[Qb];xb=g[Qb+1];if(E<ab)ea=0,Ja=1,Xa="left";else if(E<xb)ea=E-ab,Ja=ea+1;else if(Qb==g.length-3||E==xb&&g[Qb+3]>E)Ja=xb-ab,ea=Ja-1,E>=xb&&(Xa="right");if(null!=ea){S=g[Qb+2];ab==xb&&V==(S.insertLeft?"left":"right")&&(Xa=V);if("left"==V&&0==ea)for(;Qb&&g[Qb-2]==g[Qb-3]&&g[Qb-1].insertLeft;)S=g[(Qb-=3)+2],Xa="left";if("right"==V&&ea==xb-ab)for(;Qb<g.length-3&&g[Qb+3]==g[Qb+4]&&!g[Qb+5].insertLeft;)S=g[(Qb+=3)+2],Xa="right";break}}return{node:S,
start:ea,end:Ja,collapse:Xa,coverStart:ab,coverEnd:xb}}function Sb(g){if(g.measure&&(g.measure.cache={},g.measure.heights=null,g.rest))for(var E=0;E<g.rest.length;E++)g.measure.caches[E]={}}function qc(g){g.display.externalMeasure=null;p(g.display.lineMeasure);for(var E=0;E<g.display.view.length;E++)Sb(g.display.view[E])}function Vc(g){qc(g);g.display.cachedCharWidth=g.display.cachedTextHeight=g.display.cachedPaddingH=null;g.options.lineWrapping||(g.display.maxLineChanged=!0);g.display.lineNumChars=
null}function Bd(){return xi&&Ji?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Hd(){return xi&&Ji?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function me(g){g=Tb(g).widgets;var E=0;if(g)for(var V=0;V<g.length;++V)g[V].above&&(E+=bd(g[V]));return E}
function $e(g,E,V,S,ea){ea||(ea=me(E),V.top+=ea,V.bottom+=ea);if("line"==S)return V;S||(S="local");E=fd(E);E="local"==S?E+g.display.lineSpace.offsetTop:E-g.display.viewOffset;if("page"==S||"window"==S)g=g.display.lineSpace.getBoundingClientRect(),E+=g.top+("window"==S?0:Hd()),S=g.left+("window"==S?0:Bd()),V.left+=S,V.right+=S;V.top+=E;V.bottom+=E;return V}function Qf(g,E,V){if("div"==V)return E;var S=E.left;E=E.top;"page"==V?(S-=Bd(),E-=Hd()):"local"!=V&&V||(V=g.display.sizer.getBoundingClientRect(),
S+=V.left,E+=V.top);g=g.display.lineSpace.getBoundingClientRect();return{left:S-g.left,top:E-g.top}}function Af(g,E,V,S,ea){S||(S=qa(g.doc,E.line));var Ja=S;E=E.ch;S=Me(g,Be(g,S),E,ea);return $e(g,Ja,S,V)}function If(g,E,V,S,ea,Ja){function Xa(Wc,ad){Wc=Me(g,ea,Wc,ad?"right":"left",Ja);ad?Wc.left=Wc.right:Wc.right=Wc.left;return $e(g,S,Wc,V)}function ab(Wc,ad,Ld){return Xa(Ld?Wc-1:Wc,1==xb[ad].level!=Ld)}S=S||qa(g.doc,E.line);ea||(ea=Be(g,S));var xb=W(S,g.doc.direction),Qb=E.ch;E=E.sticky;Qb>=S.text.length?
(Qb=S.text.length,E="before"):0>=Qb&&(Qb=0,E="after");if(!xb)return Xa("before"==E?Qb-1:Qb,"before"==E);var gc=aa(xb,Qb,E),Pc=Ge;gc=ab(Qb,gc,"before"==E);null!=Pc&&(gc.other=ab(Qb,Pc,"before"!=E));return gc}function Ne(g,E){var V=0;E=Fb(g.doc,E);g.options.lineWrapping||(V=cf(g.display)*E.ch);E=qa(g.doc,E.line);g=fd(E)+g.display.lineSpace.offsetTop;return{left:V,right:V,top:g,bottom:g+E.height}}function Bb(g,E,V,S,ea){g=ja(g,E,V);g.xRel=ea;S&&(g.outside=S);return g}function Zb(g,E,V){var S=g.doc;V+=
g.display.viewOffset;if(0>V)return Bb(S.first,0,null,-1,-1);var ea=Qa(S,V),Ja=S.first+S.size-1;if(ea>Ja)return Bb(S.first+S.size-1,qa(S,Ja).text.length,null,1,1);0>E&&(E=0);for(var Xa=qa(S,ea);;){Ja=Rd(g,Xa,ea,E,V);var ab=void 0;var xb=Ja.ch+(0<Ja.xRel||0<Ja.outside?1:0);if(Xa=Jh&&Xa.markedSpans)for(var Qb=0;Qb<Xa.length;++Qb){var gc=Xa[Qb];gc.marker.collapsed&&(null==gc.from||gc.from<xb)&&(null==gc.to||gc.to>xb)&&(!ab||0>bb(ab,gc.marker))&&(ab=gc.marker)}if(!ab)return Ja;Ja=ab.find(1);if(Ja.line==
ea)return Ja;Xa=qa(S,ea=Ja.line)}}function Sc(g,E,V,S){S-=me(E);E=E.text.length;var ea=T(function(Ja){return Me(g,V,Ja-1).bottom<=S},E,0);E=T(function(Ja){return Me(g,V,Ja).top>S},ea,E);return{begin:ea,end:E}}function ce(g,E,V,S){V||(V=Be(g,E));S=$e(g,E,Me(g,V,S),"line").top;return Sc(g,E,V,S)}function ke(g,E,V,S){return g.bottom<=V?!1:g.top>V?!0:(S?g.left:g.right)>E}function Rd(g,E,V,S,ea){ea-=fd(E);var Ja=Be(g,E),Xa=me(E),ab=0,xb=E.text.length,Qb=!0,gc=W(E,g.doc.direction);gc&&(gc=(g.options.lineWrapping?
Qd:Sd)(g,E,V,Ja,gc,S,ea),ab=(Qb=1!=gc.level)?gc.from:gc.to-1,xb=Qb?gc.to:gc.from-1);var Pc=null,Wc=null;gc=T(function(Ld){var ze=Me(g,Ja,Ld);ze.top+=Xa;ze.bottom+=Xa;if(!ke(ze,S,ea,!1))return!1;ze.top<=ea&&ze.left<=S&&(Pc=Ld,Wc=ze);return!0},ab,xb);var ad=!1;Wc?(ab=S-Wc.left<Wc.right-S,Qb=ab==Qb,gc=Pc+(Qb?0:1),Qb=Qb?"after":"before",ab=ab?Wc.left:Wc.right):(Qb||gc!=xb&&gc!=ab||gc++,Qb=0==gc?"after":gc==E.text.length?"before":Me(g,Ja,gc-(Qb?1:0)).bottom+Xa<=ea==Qb?"after":"before",ad=If(g,ja(V,gc,
Qb),"line",E,Ja),ab=ad.left,ad=ea<ad.top?-1:ea>=ad.bottom?1:0);gc=Z(E.text,gc,1);return Bb(V,gc,Qb,ad,S-ab)}function Sd(g,E,V,S,ea,Ja,Xa){var ab=T(function(gc){gc=ea[gc];var Pc=1!=gc.level;return ke(If(g,ja(V,Pc?gc.to:gc.from,Pc?"before":"after"),"line",E,S),Ja,Xa,!0)},0,ea.length-1),xb=ea[ab];if(0<ab){var Qb=1!=xb.level;Qb=If(g,ja(V,Qb?xb.from:xb.to,Qb?"after":"before"),"line",E,S);ke(Qb,Ja,Xa,!0)&&Qb.top>Xa&&(xb=ea[ab-1])}return xb}function Qd(g,E,V,S,ea,Ja,Xa){Xa=Sc(g,E,S,Xa);V=Xa.begin;Xa=Xa.end;
/\s/.test(E.text.charAt(Xa-1))&&Xa--;for(var ab=E=null,xb=0;xb<ea.length;xb++){var Qb=ea[xb];if(!(Qb.from>=Xa||Qb.to<=V)){var gc=Me(g,S,1!=Qb.level?Math.min(Xa,Qb.to)-1:Math.max(V,Qb.from)).right;gc=gc<Ja?Ja-gc+1E9:gc-Ja;if(!E||ab>gc)E=Qb,ab=gc}}E||(E=ea[ea.length-1]);E.from<V&&(E={from:V,to:E.to,level:E.level});E.to>Xa&&(E={from:E.from,to:Xa,level:E.level});return E}function Qe(g){if(null!=g.cachedTextHeight)return g.cachedTextHeight;if(null==zg){zg=v("pre",null,"CodeMirror-line-like");for(var E=
0;49>E;++E)zg.appendChild(document.createTextNode("x")),zg.appendChild(v("br"));zg.appendChild(document.createTextNode("x"))}n(g.measure,zg);E=zg.offsetHeight/50;3<E&&(g.cachedTextHeight=E);p(g.measure);return E||1}function cf(g){if(null!=g.cachedCharWidth)return g.cachedCharWidth;var E=v("span","xxxxxxxxxx"),V=v("pre",[E],"CodeMirror-line-like");n(g.measure,V);E=E.getBoundingClientRect();E=(E.right-E.left)/10;2<E&&(g.cachedCharWidth=E);return E||10}function ra(g){for(var E=g.display,V={},S={},ea=
E.gutters.clientLeft,Ja=E.gutters.firstChild,Xa=0;Ja;Ja=Ja.nextSibling,++Xa){var ab=g.display.gutterSpecs[Xa].className;V[ab]=Ja.offsetLeft+Ja.clientLeft+ea;S[ab]=Ja.clientWidth}return{fixedPos:jb(E),gutterTotalWidth:E.gutters.offsetWidth,gutterLeft:V,gutterWidth:S,wrapperWidth:E.wrapper.clientWidth}}function jb(g){return g.scroller.getBoundingClientRect().left-g.sizer.getBoundingClientRect().left}function Ia(g){var E=Qe(g.display),V=g.options.lineWrapping,S=V&&Math.max(5,g.display.scroller.clientWidth/
cf(g.display)-3);return function(ea){if(Dc(g.doc,ea))return 0;var Ja=0;if(ea.widgets)for(var Xa=0;Xa<ea.widgets.length;Xa++)ea.widgets[Xa].height&&(Ja+=ea.widgets[Xa].height);return V?Ja+(Math.ceil(ea.text.length/S)||1)*E:Ja+E}}function Xb(g){var E=g.doc,V=Ia(g);E.iter(function(S){var ea=V(S);ea!=S.height&&eb(S,ea)})}function ha(g,E,V,S){var ea=g.display;if(!V&&"true"==(E.target||E.srcElement).getAttribute("cm-not-content"))return null;V=ea.lineSpace.getBoundingClientRect();try{var Ja=E.clientX-V.left;
var Xa=E.clientY-V.top}catch(xb){return null}E=Zb(g,Ja,Xa);var ab;S&&0<E.xRel&&(ab=qa(g.doc,E.line).text).length==E.ch&&(S=c(ab,ab.length,g.options.tabSize)-ab.length,E=ja(E.line,Math.max(0,Math.round((Ja-Nd(g.display).left)/cf(g.display))-S)));return E}function Oa(g,E){if(E>=g.display.viewTo)return null;E-=g.display.viewFrom;if(0>E)return null;g=g.display.view;for(var V=0;V<g.length;V++)if(E-=g[V].size,0>E)return V}function $a(g,E,V,S){null==E&&(E=g.doc.first);null==V&&(V=g.doc.first+g.doc.size);
S||(S=0);var ea=g.display;S&&V<ea.viewTo&&(null==ea.updateLineNumbers||ea.updateLineNumbers>E)&&(ea.updateLineNumbers=E);g.curOp.viewChanged=!0;if(E>=ea.viewTo)Jh&&Ub(g.doc,E)<ea.viewTo&&Cb(g);else if(V<=ea.viewFrom)Jh&&$b(g.doc,V+S)>ea.viewFrom?Cb(g):(ea.viewFrom+=S,ea.viewTo+=S);else if(E<=ea.viewFrom&&V>=ea.viewTo)Cb(g);else if(E<=ea.viewFrom){var Ja=Wb(g,V,V+S,1);Ja?(ea.view=ea.view.slice(Ja.index),ea.viewFrom=Ja.lineN,ea.viewTo+=S):Cb(g)}else if(V>=ea.viewTo)(Ja=Wb(g,E,E,-1))?(ea.view=ea.view.slice(0,
Ja.index),ea.viewTo=Ja.lineN):Cb(g);else{Ja=Wb(g,E,E,-1);var Xa=Wb(g,V,V+S,1);Ja&&Xa?(ea.view=ea.view.slice(0,Ja.index).concat(Ye(g,Ja.lineN,Xa.lineN)).concat(ea.view.slice(Xa.index)),ea.viewTo+=S):Cb(g)}if(g=ea.externalMeasured)V<g.lineN?g.lineN+=S:E<g.lineN+g.size&&(ea.externalMeasured=null)}function ub(g,E,V){g.curOp.viewChanged=!0;var S=g.display,ea=g.display.externalMeasured;ea&&E>=ea.lineN&&E<ea.lineN+ea.size&&(S.externalMeasured=null);E<S.viewFrom||E>=S.viewTo||(g=S.view[Oa(g,E)],null!=g.node&&
(g=g.changes||(g.changes=[]),-1==b(g,V)&&g.push(V)))}function Cb(g){g.display.viewFrom=g.display.viewTo=g.doc.first;g.display.view=[];g.display.viewOffset=0}function Wb(g,E,V,S){var ea=Oa(g,E),Ja=g.display.view;if(!Jh||V==g.doc.first+g.doc.size)return{index:ea,lineN:V};for(var Xa=g.display.viewFrom,ab=0;ab<ea;ab++)Xa+=Ja[ab].size;if(Xa!=E){if(0<S){if(ea==Ja.length-1)return null;E=Xa+Ja[ea].size-E;ea++}else E=Xa-E;V+=E}for(;Ub(g.doc,V)!=V;){if(ea==(0>S?0:Ja.length-1))return null;V+=S*Ja[ea-(0>S?1:
0)].size;ea+=S}return{index:ea,lineN:V}}function sc(g){g=g.display.view;for(var E=0,V=0;V<g.length;V++){var S=g[V];S.hidden||S.node&&!S.changes||++E}return E}function Uc(g){g.display.input.showSelection(g.display.input.prepareSelection())}function Xc(g,E){void 0===E&&(E=!0);var V=g.doc,S={},ea=S.cursors=document.createDocumentFragment(),Ja=S.selection=document.createDocumentFragment(),Xa=g.options.$customCursor;Xa&&(E=!0);for(var ab=0;ab<V.sel.ranges.length;ab++)if(E||ab!=V.sel.primIndex){var xb=
V.sel.ranges[ab];if(!(xb.from().line>=g.display.viewTo||xb.to().line<g.display.viewFrom)){var Qb=xb.empty();if(Xa){var gc=Xa(g,xb);gc&&Cc(g,gc,ea)}else(Qb||g.options.showCursorWhenSelecting)&&Cc(g,xb.head,ea);Qb||oc(g,xb,Ja)}}return S}function Cc(g,E,V){var S=If(g,E,"div",null,null,!g.options.singleCursorHeightPerLine),ea=V.appendChild(v("div","","CodeMirror-cursor"));ea.style.left=S.left+"px";ea.style.top=S.top+"px";ea.style.height=Math.max(0,S.bottom-S.top)*g.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(g.getWrapperElement().className)&&
(E=Af(g,E,"div",null,null),E=E.right-E.left,ea.style.width=(0<E?E:g.defaultCharWidth())+"px");S.other&&(g=V.appendChild(v("div","","CodeMirror-cursor CodeMirror-secondarycursor")),g.style.display="",g.style.left=S.other.left+"px",g.style.top=S.other.top+"px",g.style.height=.85*(S.other.bottom-S.other.top)+"px")}function zc(g,E){return g.top-E.top||g.left-E.left}function oc(g,E,V){function S(ad,Ld,ze,pf){0>Ld&&(Ld=0);Ld=Math.round(Ld);pf=Math.round(pf);ab.appendChild(v("div",null,"CodeMirror-selected",
"position: absolute; left: "+ad+"px;\n                             top: "+Ld+"px; width: "+(null==ze?gc-ad:ze)+"px;\n                             height: "+(pf-Ld)+"px"))}function ea(ad,Ld,ze){function pf(Wf,ng){return Af(g,ja(ad,Wf),"div",af,ng)}function uh(Wf,ng,mg){Wf=ce(g,af,null,Wf);ng="ltr"==ng==("after"==mg)?"left":"right";mg="after"==mg?Wf.begin:Wf.end-(/\s/.test(af.text.charAt(Wf.end-1))?2:1);return pf(mg,ng)[ng]}var af=qa(Xa,ad),Sf=af.text.length,Dg,Lg,tg=W(af,Xa.direction);ba(tg,Ld||0,
null==ze?Sf:ze,function(Wf,ng,mg,Bg){var Mh="ltr"==mg,Dh=pf(Wf,Mh?"left":"right"),$h=pf(ng-1,Mh?"right":"left"),Oi=null==Ld&&0==Wf,Ii=null==ze&&ng==Sf,Dj=0==Bg;Bg=!tg||Bg==tg.length-1;3>=$h.top-Dh.top?(ng=(Pc?Oi:Ii)&&Dj?Qb:(Mh?Dh:$h).left,S(ng,Dh.top,((Pc?Ii:Oi)&&Bg?gc:(Mh?$h:Dh).right)-ng,Dh.bottom)):(Mh?(Mh=Pc&&Oi&&Dj?Qb:Dh.left,Oi=Pc?gc:uh(Wf,mg,"before"),Wf=Pc?Qb:uh(ng,mg,"after"),Ii=Pc&&Ii&&Bg?gc:$h.right):(Mh=Pc?uh(Wf,mg,"before"):Qb,Oi=!Pc&&Oi&&Dj?gc:Dh.right,Wf=!Pc&&Ii&&Bg?Qb:$h.left,Ii=Pc?
uh(ng,mg,"after"):gc),S(Mh,Dh.top,Oi-Mh,Dh.bottom),Dh.bottom<$h.top&&S(Qb,Dh.bottom,null,$h.top),S(Wf,$h.top,Ii-Wf,$h.bottom));if(!Dg||0>zc(Dh,Dg))Dg=Dh;0>zc($h,Dg)&&(Dg=$h);if(!Lg||0>zc(Dh,Lg))Lg=Dh;0>zc($h,Lg)&&(Lg=$h)});return{start:Dg,end:Lg}}var Ja=g.display,Xa=g.doc,ab=document.createDocumentFragment(),xb=Nd(g.display),Qb=xb.left,gc=Math.max(Ja.sizerWidth,ee(g)-Ja.sizer.offsetLeft)-xb.right,Pc="ltr"==Xa.direction;Ja=E.from();E=E.to();if(Ja.line==E.line)ea(Ja.line,Ja.ch,E.ch);else{var Wc=qa(Xa,
Ja.line);xb=qa(Xa,E.line);xb=Tb(Wc)==Tb(xb);Ja=ea(Ja.line,Ja.ch,xb?Wc.text.length+1:null).end;E=ea(E.line,xb?0:null,E.ch).start;xb&&(Ja.top<E.top-2?(S(Ja.right,Ja.top,null,Ja.bottom),S(Qb,E.top,E.left,E.bottom)):S(Ja.right,Ja.top,E.left-Ja.right,Ja.bottom));Ja.bottom<E.top&&S(Qb,Ja.bottom,null,E.top)}V.appendChild(ab)}function Fc(g){if(g.state.focused){var E=g.display;clearInterval(E.blinker);var V=!0;E.cursorDiv.style.visibility="";0<g.options.cursorBlinkRate?E.blinker=setInterval(function(){g.hasFocus()||
Gb(g);E.cursorDiv.style.visibility=(V=!V)?"":"hidden"},g.options.cursorBlinkRate):0>g.options.cursorBlinkRate&&(E.cursorDiv.style.visibility="hidden")}}function Mc(g){g.hasFocus()||(g.display.input.focus(),g.state.focused||mb(g))}function Yc(g){g.state.delayingBlurEvent=!0;setTimeout(function(){g.state.delayingBlurEvent&&(g.state.delayingBlurEvent=!1,g.state.focused&&Gb(g))},100)}function mb(g,E){g.state.delayingBlurEvent&&!g.state.draggingText&&(g.state.delayingBlurEvent=!1);"nocursor"!=g.options.readOnly&&
(g.state.focused||(P(g,"focus",g,E),g.state.focused=!0,f(g.display.wrapper,"CodeMirror-focused"),g.curOp||g.display.selForContextMenu==g.doc.sel||(g.display.input.reset(),rh&&setTimeout(function(){return g.display.input.reset(!0)},20)),g.display.input.receivedFocus()),Fc(g))}function Gb(g,E){g.state.delayingBlurEvent||(g.state.focused&&(P(g,"blur",g,E),g.state.focused=!1,Yb(g.display.wrapper,"CodeMirror-focused")),clearInterval(g.display.blinker),setTimeout(function(){g.state.focused||(g.display.shift=
!1)},150))}function Pb(g){for(var E=g.display,V=E.lineDiv.offsetTop,S=Math.max(0,E.scroller.getBoundingClientRect().top),ea=E.lineDiv.getBoundingClientRect().top,Ja=0,Xa=0;Xa<E.view.length;Xa++){var ab=E.view[Xa],xb=g.options.lineWrapping,Qb=0;if(!ab.hidden){ea+=ab.line.height;if(Yf&&8>Cg){xb=ab.node.offsetTop+ab.node.offsetHeight;var gc=xb-V;V=xb}else{var Pc=ab.node.getBoundingClientRect();gc=Pc.bottom-Pc.top;!xb&&ab.text.firstChild&&(Qb=ab.text.firstChild.getBoundingClientRect().right-Pc.left-1)}xb=
ab.line.height-gc;if(.005<xb||-.005>xb)if(ea<S&&(Ja-=xb),eb(ab.line,gc),Vb(ab.line),ab.rest)for(gc=0;gc<ab.rest.length;gc++)Vb(ab.rest[gc]);Qb>g.display.sizerWidth&&(Qb=Math.ceil(Qb/cf(g.display)),Qb>g.display.maxLineLength&&(g.display.maxLineLength=Qb,g.display.maxLine=ab.line,g.display.maxLineChanged=!0))}}2<Math.abs(Ja)&&(E.scroller.scrollTop+=Ja)}function Vb(g){if(g.widgets)for(var E=0;E<g.widgets.length;++E){var V=g.widgets[E],S=V.node.parentNode;S&&(V.height=S.offsetHeight)}}function ma(g,E,
V){var S=V&&null!=V.top?Math.max(0,V.top):g.scroller.scrollTop;S=Math.floor(S-g.lineSpace.offsetTop);var ea=V&&null!=V.bottom?V.bottom:S+g.wrapper.clientHeight;S=Qa(E,S);ea=Qa(E,ea);if(V&&V.ensure){var Ja=V.ensure.from.line;V=V.ensure.to.line;Ja<S?(S=Ja,ea=Qa(E,fd(qa(E,Ja))+g.wrapper.clientHeight)):Math.min(V,E.lastLine())>=ea&&(S=Qa(E,fd(qa(E,V))-g.wrapper.clientHeight),ea=V)}return{from:S,to:Math.max(ea,S+1)}}function Ka(g,E){var V=g.display,S=Qe(g.display);0>E.top&&(E.top=0);var ea=g.curOp&&null!=
g.curOp.scrollTop?g.curOp.scrollTop:V.scroller.scrollTop,Ja=Ce(g),Xa={};E.bottom-E.top>Ja&&(E.bottom=E.top+Ja);var ab=g.doc.height+Ed(V),xb=E.top<S;S=E.bottom>ab-S;E.top<ea?Xa.scrollTop=xb?0:E.top:E.bottom>ea+Ja&&(Ja=Math.min(E.top,(S?ab:E.bottom)-Ja),Ja!=ea&&(Xa.scrollTop=Ja));ea=g.options.fixedGutter?0:V.gutters.offsetWidth;Ja=g.curOp&&null!=g.curOp.scrollLeft?g.curOp.scrollLeft:V.scroller.scrollLeft-ea;g=ee(g)-V.gutters.offsetWidth;if(V=E.right-E.left>g)E.right=E.left+g;10>E.left?Xa.scrollLeft=
0:E.left<Ja?Xa.scrollLeft=Math.max(0,E.left+ea-(V?0:10)):E.right>g+Ja-3&&(Xa.scrollLeft=E.right+(V?0:10)-g);return Xa}function ib(g,E){null!=E&&(Nb(g),g.curOp.scrollTop=(null==g.curOp.scrollTop?g.doc.scrollTop:g.curOp.scrollTop)+E)}function Eb(g){Nb(g);var E=g.getCursor();g.curOp.scrollToPos={from:E,to:E,margin:g.options.cursorScrollMargin}}function Ib(g,E,V){null==E&&null==V||Nb(g);null!=E&&(g.curOp.scrollLeft=E);null!=V&&(g.curOp.scrollTop=V)}function Nb(g){var E=g.curOp.scrollToPos;if(E){g.curOp.scrollToPos=
null;var V=Ne(g,E.from),S=Ne(g,E.to);kc(g,V,S,E.margin)}}function kc(g,E,V,S){E=Ka(g,{left:Math.min(E.left,V.left),top:Math.min(E.top,V.top)-S,right:Math.max(E.right,V.right),bottom:Math.max(E.bottom,V.bottom)+S});Ib(g,E.scrollLeft,E.scrollTop)}function Kc(g,E){2>Math.abs(g.doc.scrollTop-E)||(lg||Bf(g,{top:E}),Bc(g,E,!0),lg&&Bf(g),Ad(g,100))}function Bc(g,E,V){E=Math.max(0,Math.min(g.display.scroller.scrollHeight-g.display.scroller.clientHeight,E));if(g.display.scroller.scrollTop!=E||V)g.doc.scrollTop=
E,g.display.scrollbars.setScrollTop(E),g.display.scroller.scrollTop!=E&&(g.display.scroller.scrollTop=E)}function wc(g,E,V,S){E=Math.max(0,Math.min(E,g.display.scroller.scrollWidth-g.display.scroller.clientWidth));(V?E==g.doc.scrollLeft:2>Math.abs(g.doc.scrollLeft-E))&&!S||(g.doc.scrollLeft=E,Ie(g),g.display.scroller.scrollLeft!=E&&(g.display.scroller.scrollLeft=E),g.display.scrollbars.setScrollLeft(E))}function ld(g){var E=g.display,V=E.gutters.offsetWidth,S=Math.round(g.doc.height+Ed(g.display));
return{clientHeight:E.scroller.clientHeight,viewHeight:E.wrapper.clientHeight,scrollWidth:E.scroller.scrollWidth,clientWidth:E.scroller.clientWidth,viewWidth:E.wrapper.clientWidth,barLeft:g.options.fixedGutter?V:0,docHeight:S,scrollHeight:S+Pd(g)+E.barHeight,nativeBarWidth:E.nativeBarWidth,gutterWidth:V}}function wd(g,E){E||(E=ld(g));var V=g.display.barWidth,S=g.display.barHeight;Fe(g,E);for(E=0;4>E&&V!=g.display.barWidth||S!=g.display.barHeight;E++)V!=g.display.barWidth&&g.options.lineWrapping&&
Pb(g),Fe(g,ld(g)),V=g.display.barWidth,S=g.display.barHeight}function Fe(g,E){var V=g.display,S=V.scrollbars.update(E);V.sizer.style.paddingRight=(V.barWidth=S.right)+"px";V.sizer.style.paddingBottom=(V.barHeight=S.bottom)+"px";V.heightForcer.style.borderBottom=S.bottom+"px solid transparent";S.right&&S.bottom?(V.scrollbarFiller.style.display="block",V.scrollbarFiller.style.height=S.bottom+"px",V.scrollbarFiller.style.width=S.right+"px"):V.scrollbarFiller.style.display="";S.bottom&&g.options.coverGutterNextToScrollbar&&
g.options.fixedGutter?(V.gutterFiller.style.display="block",V.gutterFiller.style.height=S.bottom+"px",V.gutterFiller.style.width=E.gutterWidth+"px"):V.gutterFiller.style.display=""}function Fd(g){g.display.scrollbars&&(g.display.scrollbars.clear(),g.display.scrollbars.addClass&&Yb(g.display.wrapper,g.display.scrollbars.addClass));g.display.scrollbars=new ok[g.options.scrollbarStyle](function(E){g.display.wrapper.insertBefore(E,g.display.scrollbarFiller);Ke(E,"mousedown",function(){g.state.focused&&
setTimeout(function(){return g.display.input.focus()},0)});E.setAttribute("cm-not-content","true")},function(E,V){"horizontal"==V?wc(g,E):Kc(g,E)},g);g.display.scrollbars.addClass&&f(g.display.wrapper,g.display.scrollbars.addClass)}function he(g){g.curOp={cm:g,viewChanged:!1,startHeight:g.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,
id:++Nk,markArrays:null};g=g.curOp;Ei?Ei.ops.push(g):g.ownsGroup=Ei={ops:[g],delayedCallbacks:[]}}function se(g){(g=g.curOp)&&pe(g,function(E){for(var V=0;V<E.ops.length;V++)E.ops[V].cm.curOp=null;E=E.ops;for(V=0;V<E.length;V++){var S=E[V],ea=S.cm,Ja=ea.display,Xa=ea.display;!Xa.scrollbarsClipped&&Xa.scroller.offsetWidth&&(Xa.nativeBarWidth=Xa.scroller.offsetWidth-Xa.scroller.clientWidth,Xa.heightForcer.style.height=Pd(ea)+"px",Xa.sizer.style.marginBottom=-Xa.nativeBarWidth+"px",Xa.sizer.style.borderRightWidth=
Pd(ea)+"px",Xa.scrollbarsClipped=!0);S.updateMaxLine&&sd(ea);S.mustUpdate=S.viewChanged||S.forceUpdate||null!=S.scrollTop||S.scrollToPos&&(S.scrollToPos.from.line<Ja.viewFrom||S.scrollToPos.to.line>=Ja.viewTo)||Ja.maxLineChanged&&ea.options.lineWrapping;S.update=S.mustUpdate&&new cj(ea,S.mustUpdate&&{top:S.scrollTop,ensure:S.scrollToPos},S.forceUpdate)}for(V=0;V<E.length;V++)S=E[V],S.updatedDisplay=S.mustUpdate&&Se(S.cm,S.update);for(V=0;V<E.length;V++)if(S=E[V],ea=S.cm,Ja=ea.display,S.updatedDisplay&&
Pb(ea),S.barMeasure=ld(ea),Ja.maxLineChanged&&!ea.options.lineWrapping&&(Xa=Ja.maxLine.text.length,Xa=Me(ea,Be(ea,Ja.maxLine),Xa,void 0),S.adjustWidthTo=Xa.left+3,ea.display.sizerWidth=S.adjustWidthTo,S.barMeasure.scrollWidth=Math.max(Ja.scroller.clientWidth,Ja.sizer.offsetLeft+S.adjustWidthTo+Pd(ea)+ea.display.barWidth),S.maxScrollLeft=Math.max(0,Ja.sizer.offsetLeft+S.adjustWidthTo-ee(ea))),S.updatedDisplay||S.selectionChanged)S.preparedSelection=Ja.input.prepareSelection();for(V=0;V<E.length;V++)S=
E[V],ea=S.cm,null!=S.adjustWidthTo&&(ea.display.sizer.style.minWidth=S.adjustWidthTo+"px",S.maxScrollLeft<ea.doc.scrollLeft&&wc(ea,Math.min(ea.display.scroller.scrollLeft,S.maxScrollLeft),!0),ea.display.maxLineChanged=!1),Ja=S.focus&&S.focus==k(),S.preparedSelection&&ea.display.input.showSelection(S.preparedSelection,Ja),(S.updatedDisplay||S.startHeight!=ea.doc.height)&&wd(ea,S.barMeasure),S.updatedDisplay&&Yd(ea,S.barMeasure),S.selectionChanged&&Fc(ea),ea.state.focused&&S.updateInput&&ea.display.input.reset(S.typing),
Ja&&Mc(S.cm);for(V=0;V<E.length;V++){var ab=void 0;S=E[V];ea=S.cm;Ja=ea.display;Xa=ea.doc;S.updatedDisplay&&hf(ea,S.update);null==Ja.wheelStartX||null==S.scrollTop&&null==S.scrollLeft&&!S.scrollToPos||(Ja.wheelStartX=Ja.wheelStartY=null);null!=S.scrollTop&&Bc(ea,S.scrollTop,S.forceScroll);null!=S.scrollLeft&&wc(ea,S.scrollLeft,!0,!0);if(S.scrollToPos){var xb=Fb(Xa,S.scrollToPos.from);var Qb=Fb(Xa,S.scrollToPos.to);var gc=S.scrollToPos.margin;null==gc&&(gc=0);ea.options.lineWrapping||xb!=Qb||(Qb="before"==
xb.sticky?ja(xb.line,xb.ch+1,"before"):xb,xb=xb.ch?ja(xb.line,"before"==xb.sticky?xb.ch-1:xb.ch,"after"):xb);for(var Pc=0;5>Pc;Pc++){var Wc=!1;ab=If(ea,xb);var ad=Qb&&Qb!=xb?If(ea,Qb):ab;ab={left:Math.min(ab.left,ad.left),top:Math.min(ab.top,ad.top)-gc,right:Math.max(ab.left,ad.left),bottom:Math.max(ab.bottom,ad.bottom)+gc};ad=Ka(ea,ab);var Ld=ea.doc.scrollTop,ze=ea.doc.scrollLeft;null!=ad.scrollTop&&(Kc(ea,ad.scrollTop),1<Math.abs(ea.doc.scrollTop-Ld)&&(Wc=!0));null!=ad.scrollLeft&&(wc(ea,ad.scrollLeft),
1<Math.abs(ea.doc.scrollLeft-ze)&&(Wc=!0));if(!Wc)break}Qb=ab;w(ea,"scrollCursorIntoView")||(gc=ea.display,Pc=gc.sizer.getBoundingClientRect(),xb=null,0>Qb.top+Pc.top?xb=!0:Qb.bottom+Pc.top>(window.innerHeight||document.documentElement.clientHeight)&&(xb=!1),null==xb||Fi||(Qb=v("div","",null,"position: absolute;\n                         top: "+(Qb.top-gc.viewOffset-ea.display.lineSpace.offsetTop)+"px;\n                         height: "+(Qb.bottom-Qb.top+Pd(ea)+gc.barHeight)+"px;\n                         left: "+
Qb.left+"px; width: "+Math.max(2,Qb.right-Qb.left)+"px;"),ea.display.lineSpace.appendChild(Qb),Qb.scrollIntoView(xb),ea.display.lineSpace.removeChild(Qb)))}Qb=S.maybeHiddenMarkers;xb=S.maybeUnhiddenMarkers;if(Qb)for(gc=0;gc<Qb.length;++gc)Qb[gc].lines.length||P(Qb[gc],"hide");if(xb)for(Qb=0;Qb<xb.length;++Qb)xb[Qb].lines.length&&P(xb[Qb],"unhide");Ja.wrapper.offsetHeight&&(Xa.scrollTop=ea.display.scroller.scrollTop);S.changeObjs&&P(ea,"changes",ea,S.changeObjs);S.update&&S.update.finish()}})}function td(g,
E){if(g.curOp)return E();he(g);try{return E()}finally{se(g)}}function Dd(g,E){return function(){if(g.curOp)return E.apply(g,arguments);he(g);try{return E.apply(g,arguments)}finally{se(g)}}}function fe(g){return function(){if(this.curOp)return g.apply(this,arguments);he(this);try{return g.apply(this,arguments)}finally{se(this)}}}function qe(g){return function(){var E=this.cm;if(!E||E.curOp)return g.apply(this,arguments);he(E);try{return g.apply(this,arguments)}finally{se(E)}}}function Ad(g,E){g.doc.highlightFrontier<
g.display.viewTo&&g.state.highlight.set(E,d(We,g))}function We(g){var E=g.doc;if(!(E.highlightFrontier>=g.display.viewTo)){var V=+new Date+g.options.workTime,S=yc(g,E.highlightFrontier),ea=[];E.iter(S.line,Math.min(E.first+E.size,g.display.viewTo+500),function(Ja){if(S.line>=g.display.viewFrom){var Xa=Ja.styles,ab=Ja.text.length>g.options.maxHighlightLength?Ma(E.mode,S.state):null,xb=Lc(g,Ja,S,!0);ab&&(S.state=ab);Ja.styles=xb.styles;ab=Ja.styleClasses;(xb=xb.classes)?Ja.styleClasses=xb:ab&&(Ja.styleClasses=
null);xb=!Xa||Xa.length!=Ja.styles.length||ab!=xb&&(!ab||!xb||ab.bgClass!=xb.bgClass||ab.textClass!=xb.textClass);for(ab=0;!xb&&ab<Xa.length;++ab)xb=Xa[ab]!=Ja.styles[ab];xb&&ea.push(S.line);Ja.stateAfter=S.save()}else Ja.text.length<=g.options.maxHighlightLength&&tc(g,Ja.text,S),Ja.stateAfter=0==S.line%5?S.save():null;S.nextLine();if(+new Date>V)return Ad(g,g.options.workDelay),!0});E.highlightFrontier=S.line;E.modeFrontier=Math.max(E.modeFrontier,S.line);ea.length&&td(g,function(){for(var Ja=0;Ja<
ea.length;Ja++)ub(g,ea[Ja],"text")})}}function Se(g,E){var V=g.display,S=g.doc;if(E.editorIsHidden)return Cb(g),!1;if(!E.force&&E.visible.from>=V.viewFrom&&E.visible.to<=V.viewTo&&(null==V.updateLineNumbers||V.updateLineNumbers>=V.viewTo)&&V.renderedView==V.view&&0==sc(g))return!1;qg(g)&&(Cb(g),E.dims=ra(g));var ea=S.first+S.size,Ja=Math.max(E.visible.from-g.options.viewportMargin,S.first),Xa=Math.min(ea,E.visible.to+g.options.viewportMargin);V.viewFrom<Ja&&20>Ja-V.viewFrom&&(Ja=Math.max(S.first,
V.viewFrom));V.viewTo>Xa&&20>V.viewTo-Xa&&(Xa=Math.min(ea,V.viewTo));Jh&&(Ja=Ub(g.doc,Ja),Xa=$b(g.doc,Xa));S=Ja!=V.viewFrom||Xa!=V.viewTo||V.lastWrapHeight!=E.wrapperHeight||V.lastWrapWidth!=E.wrapperWidth;ea=g.display;0==ea.view.length||Ja>=ea.viewTo||Xa<=ea.viewFrom?(ea.view=Ye(g,Ja,Xa),ea.viewFrom=Ja):(ea.viewFrom>Ja?ea.view=Ye(g,Ja,ea.viewFrom).concat(ea.view):ea.viewFrom<Ja&&(ea.view=ea.view.slice(Oa(g,Ja))),ea.viewFrom=Ja,ea.viewTo<Xa?ea.view=ea.view.concat(Ye(g,ea.viewTo,Xa)):ea.viewTo>Xa&&
(ea.view=ea.view.slice(0,Oa(g,Xa))));ea.viewTo=Xa;V.viewOffset=fd(qa(g.doc,V.viewFrom));g.display.mover.style.top=V.viewOffset+"px";Xa=sc(g);if(!S&&0==Xa&&!E.force&&V.renderedView==V.view&&(null==V.updateLineNumbers||V.updateLineNumbers>=V.viewTo))return!1;g.hasFocus()?Ja=null:(Ja=k())&&h(g.display.lineDiv,Ja)?(Ja={activeElt:Ja},window.getSelection&&(ea=window.getSelection(),ea.anchorNode&&ea.extend&&h(g.display.lineDiv,ea.anchorNode)&&(Ja.anchorNode=ea.anchorNode,Ja.anchorOffset=ea.anchorOffset,
Ja.focusNode=ea.focusNode,Ja.focusOffset=ea.focusOffset))):Ja=null;4<Xa&&(V.lineDiv.style.display="none");Cf(g,V.updateLineNumbers,E.dims);4<Xa&&(V.lineDiv.style.display="");V.renderedView=V.view;(Xa=Ja)&&Xa.activeElt&&Xa.activeElt!=k()&&(Xa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Xa.activeElt.nodeName)&&Xa.anchorNode&&h(document.body,Xa.anchorNode)&&h(document.body,Xa.focusNode)&&(Ja=window.getSelection(),ea=document.createRange(),ea.setEnd(Xa.anchorNode,Xa.anchorOffset),ea.collapse(!1),Ja.removeAllRanges(),
Ja.addRange(ea),Ja.extend(Xa.focusNode,Xa.focusOffset)));p(V.cursorDiv);p(V.selectionDiv);V.gutters.style.height=V.sizer.style.minHeight=0;S&&(V.lastWrapHeight=E.wrapperHeight,V.lastWrapWidth=E.wrapperWidth,Ad(g,400));V.updateLineNumbers=null;return!0}function hf(g,E){for(var V=E.viewport,S=!0;;S=!1){if(S&&g.options.lineWrapping&&E.oldDisplayWidth!=ee(g))S&&(E.visible=ma(g.display,g.doc,V));else if(V&&null!=V.top&&(V={top:Math.min(g.doc.height+Ed(g.display)-Ce(g),V.top)}),E.visible=ma(g.display,g.doc,
V),E.visible.from>=g.display.viewFrom&&E.visible.to<=g.display.viewTo)break;if(!Se(g,E))break;Pb(g);S=ld(g);Uc(g);wd(g,S);Yd(g,S);E.force=!1}E.signal(g,"update",g);if(g.display.viewFrom!=g.display.reportedViewFrom||g.display.viewTo!=g.display.reportedViewTo)E.signal(g,"viewportChange",g,g.display.viewFrom,g.display.viewTo),g.display.reportedViewFrom=g.display.viewFrom,g.display.reportedViewTo=g.display.viewTo}function Bf(g,E){E=new cj(g,E);if(Se(g,E)){Pb(g);hf(g,E);var V=ld(g);Uc(g);wd(g,V);Yd(g,
V);E.finish()}}function Cf(g,E,V){function S(Wc){var ad=Wc.nextSibling;rh&&Ig&&g.display.currentWheelTarget==Wc?Wc.style.display="none":Wc.parentNode.removeChild(Wc);return ad}var ea=g.display,Ja=g.options.lineNumbers,Xa=ea.lineDiv,ab=Xa.firstChild,xb=ea.view;ea=ea.viewFrom;for(var Qb=0;Qb<xb.length;Qb++){var gc=xb[Qb];if(!gc.hidden)if(gc.node&&gc.node.parentNode==Xa){for(;ab!=gc.node;)ab=S(ab);ab=Ja&&null!=E&&E<=ea&&gc.lineNumber;gc.changes&&(-1<b(gc.changes,"gutter")&&(ab=!1),Ya(g,gc,ea,V));ab&&
(p(gc.lineNumber),gc.lineNumber.appendChild(document.createTextNode(Y(g.options,ea))));ab=gc.node.nextSibling}else{var Pc=Jc(g,gc,ea,V);Xa.insertBefore(Pc,ab)}ea+=gc.size}for(;ab;)ab=S(ab)}function Vg(g){g.sizer.style.marginLeft=g.gutters.offsetWidth+"px";ve(g,"gutterChanged",g)}function Yd(g,E){g.display.sizer.style.minHeight=E.docHeight+"px";g.display.heightForcer.style.top=E.docHeight+"px";g.display.gutters.style.height=E.docHeight+g.display.barHeight+Pd(g)+"px"}function Ie(g){var E=g.display,
V=E.view;if(E.alignWidgets||E.gutters.firstChild&&g.options.fixedGutter){for(var S=jb(E)-E.scroller.scrollLeft+g.doc.scrollLeft,ea=E.gutters.offsetWidth,Ja=S+"px",Xa=0;Xa<V.length;Xa++)if(!V[Xa].hidden){g.options.fixedGutter&&(V[Xa].gutter&&(V[Xa].gutter.style.left=Ja),V[Xa].gutterBackground&&(V[Xa].gutterBackground.style.left=Ja));var ab=V[Xa].alignable;if(ab)for(var xb=0;xb<ab.length;xb++)ab[xb].style.left=Ja}g.options.fixedGutter&&(E.gutters.style.left=S+ea+"px")}}function qg(g){if(!g.options.lineNumbers)return!1;
var E=g.doc;E=Y(g.options,E.first+E.size-1);var V=g.display;if(E.length!=V.lineNumChars){var S=V.measure.appendChild(v("div",[v("div",E)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ea=S.firstChild.offsetWidth;S=S.offsetWidth-ea;V.lineGutter.style.width="";V.lineNumInnerWidth=Math.max(ea,V.lineGutter.offsetWidth-S)+1;V.lineNumWidth=V.lineNumInnerWidth+S;V.lineNumChars=V.lineNumInnerWidth?E.length:-1;V.lineGutter.style.width=V.lineNumWidth+"px";Vg(g.display);return!0}return!1}function ug(g,E){for(var V=
[],S=!1,ea=0;ea<g.length;ea++){var Ja=g[ea],Xa=null;"string"!=typeof Ja&&(Xa=Ja.style,Ja=Ja.className);if("CodeMirror-linenumbers"==Ja)if(E)S=!0;else continue;V.push({className:Ja,style:Xa})}E&&!S&&V.push({className:"CodeMirror-linenumbers",style:null});return V}function Zg(g){var E=g.gutters,V=g.gutterSpecs;p(E);g.lineGutter=null;for(var S=0;S<V.length;++S){var ea=V[S],Ja=ea.className;ea=ea.style;var Xa=E.appendChild(v("div",null,"CodeMirror-gutter "+Ja));ea&&(Xa.style.cssText=ea);"CodeMirror-linenumbers"==
Ja&&(g.lineGutter=Xa,Xa.style.width=(g.lineNumWidth||1)+"px")}E.style.display=V.length?"":"none";Vg(g)}function cg(g){Zg(g.display);$a(g);Ie(g)}function Eg(g,E,V,S){this.input=V;this.scrollbarFiller=v("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=v("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=r("div",null,"CodeMirror-code");this.selectionDiv=v("div",null,null,"position: relative; z-index: 1");
this.cursorDiv=v("div",null,"CodeMirror-cursors");this.measure=v("div",null,"CodeMirror-measure");this.lineMeasure=v("div",null,"CodeMirror-measure");this.lineSpace=r("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ea=r("div",[this.lineSpace],"CodeMirror-lines");this.mover=v("div",[ea],null,"position: relative");this.sizer=v("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=v("div",null,null,
"position: absolute; height: 50px; width: 1px;");this.gutters=v("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=v("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=v("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");Yf&&8>Cg&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);rh||lg&&Ci||(this.scroller.draggable=!0);g&&
(g.appendChild?g.appendChild(this.wrapper):g(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=E.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=
null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=ug(S.gutters,S.lineNumbers);Zg(this);V.init(this)}function Ag(g){var E=g.wheelDeltaX,V=g.wheelDeltaY;null==E&&g.detail&&g.axis==g.HORIZONTAL_AXIS&&(E=g.detail);null==V&&g.detail&&g.axis==g.VERTICAL_AXIS?V=g.detail:null==V&&(V=g.wheelDelta);return{x:E,y:V}}function dg(g){g=Ag(g);g.x*=Ih;g.y*=Ih;return g}function Rf(g,
E){var V=Ag(E),S=V.x;V=V.y;var ea=Ih;0===E.deltaMode&&(S=E.deltaX,V=E.deltaY,ea=1);var Ja=g.display,Xa=Ja.scroller,ab=Xa.scrollWidth>Xa.clientWidth,xb=Xa.scrollHeight>Xa.clientHeight;if(S&&ab||V&&xb){if(V&&Ig&&rh){ab=E.target;var Qb=Ja.view;a:for(;ab!=Xa;ab=ab.parentNode)for(var gc=0;gc<Qb.length;gc++)if(Qb[gc].node==ab){g.display.currentWheelTarget=ab;break a}}!S||lg||wh||null==ea?(V&&null!=ea&&(ea*=V,xb=g.doc.scrollTop,ab=xb+Ja.wrapper.clientHeight,0>ea?xb=Math.max(0,xb+ea-50):ab=Math.min(g.doc.height,
ab+ea+50),Bf(g,{top:xb,bottom:ab})),20>Ni&&0!==E.deltaMode&&(null==Ja.wheelStartX?(Ja.wheelStartX=Xa.scrollLeft,Ja.wheelStartY=Xa.scrollTop,Ja.wheelDX=S,Ja.wheelDY=V,setTimeout(function(){if(null!=Ja.wheelStartX){var Pc=Xa.scrollLeft-Ja.wheelStartX,Wc=Xa.scrollTop-Ja.wheelStartY;Pc=Wc&&Ja.wheelDY&&Wc/Ja.wheelDY||Pc&&Ja.wheelDX&&Pc/Ja.wheelDX;Ja.wheelStartX=Ja.wheelStartY=null;Pc&&(Ih=(Ih*Ni+Pc)/(Ni+1),++Ni)}},200)):(Ja.wheelDX+=S,Ja.wheelDY+=V))):(V&&xb&&Kc(g,Math.max(0,Xa.scrollTop+V*ea)),wc(g,Math.max(0,
Xa.scrollLeft+S*ea)),(!V||V&&xb)&&ka(E),Ja.wheelStartX=null)}}function Jf(g,E,V){g=g&&g.options.selectionsMayTouch;V=E[V];E.sort(function(xb,Qb){return Ga(xb.from(),Qb.from())});V=b(E,V);for(var S=1;S<E.length;S++){var ea=E[S],Ja=E[S-1],Xa=Ga(Ja.to(),ea.from());if(g&&!ea.empty()?0<Xa:0<=Xa){Xa=pb(Ja.from(),ea.from());var ab=nb(Ja.to(),ea.to());ea=Ja.empty()?ea.from()==ea.head:Ja.from()==Ja.head;S<=V&&--V;E.splice(--S,2,new ig(ea?ab:Xa,ea?Xa:ab))}}return new fh(E,V)}function eg(g,E){return new fh([new ig(g,
E||g)],0)}function Mf(g){return g.text?ja(g.from.line+g.text.length-1,u(g.text).length+(1==g.text.length?g.from.ch:0)):g.to}function jg(g,E){if(0>Ga(g,E.from))return g;if(0>=Ga(g,E.to))return Mf(E);var V=g.line+E.text.length-(E.to.line-E.from.line)-1,S=g.ch;g.line==E.to.line&&(S+=Mf(E).ch-E.to.ch);return ja(V,S)}function oh(g,E){for(var V=[],S=0;S<g.sel.ranges.length;S++){var ea=g.sel.ranges[S];V.push(new ig(jg(ea.anchor,E),jg(ea.head,E)))}return Jf(g.cm,V,g.sel.primIndex)}function th(g,E,V){return g.line==
E.line?ja(V.line,g.ch-E.ch+V.ch):ja(V.line+(g.line-E.line),g.ch)}function Fg(g){g.doc.mode=pa(g.options,g.doc.modeOption);vg(g)}function vg(g){g.doc.iter(function(E){E.stateAfter&&(E.stateAfter=null);E.styles&&(E.styles=null)});g.doc.modeFrontier=g.doc.highlightFrontier=g.doc.first;Ad(g,100);g.state.modeGen++;g.curOp&&$a(g)}function vh(g,E){return 0==E.from.ch&&0==E.to.ch&&""==u(E.text)&&(!g.cm||g.cm.options.wholeLineUpdateBefore)}function Za(g,E,V,S){function ea(Ld,ze,pf){Ld.text=ze;Ld.stateAfter&&
(Ld.stateAfter=null);Ld.styles&&(Ld.styles=null);null!=Ld.order&&(Ld.order=null);za(Ld);Fa(Ld,pf);ze=S?S(Ld):1;ze!=Ld.height&&eb(Ld,ze);ve(Ld,"change",Ld,E)}function Ja(Ld,ze){for(var pf=[];Ld<ze;++Ld)pf.push(new Qi(xb[Ld],V?V[Ld]:null,S));return pf}var Xa=E.from,ab=E.to,xb=E.text,Qb=qa(g,Xa.line),gc=qa(g,ab.line),Pc=u(xb),Wc=V?V[xb.length-1]:null,ad=ab.line-Xa.line;E.full?(g.insert(0,Ja(0,xb.length)),g.remove(xb.length,g.size-xb.length)):vh(g,E)?(ab=Ja(0,xb.length-1),ea(gc,gc.text,Wc),ad&&g.remove(Xa.line,
ad),ab.length&&g.insert(Xa.line,ab)):Qb==gc?1==xb.length?ea(Qb,Qb.text.slice(0,Xa.ch)+Pc+Qb.text.slice(ab.ch),Wc):(ad=Ja(1,xb.length-1),ad.push(new Qi(Pc+Qb.text.slice(ab.ch),Wc,S)),ea(Qb,Qb.text.slice(0,Xa.ch)+xb[0],V?V[0]:null),g.insert(Xa.line+1,ad)):1==xb.length?(ea(Qb,Qb.text.slice(0,Xa.ch)+xb[0]+gc.text.slice(ab.ch),V?V[0]:null),g.remove(Xa.line+1,ad)):(ea(Qb,Qb.text.slice(0,Xa.ch)+xb[0],V?V[0]:null),ea(gc,Pc+gc.text.slice(ab.ch),Wc),Wc=Ja(1,xb.length-1),1<ad&&g.remove(Xa.line+1,ad-1),g.insert(Xa.line+
1,Wc));ve(g,"change",g,E)}function Db(g,E,V){function S(ea,Ja,Xa){if(ea.linked)for(var ab=0;ab<ea.linked.length;++ab){var xb=ea.linked[ab];if(xb.doc!=Ja){var Qb=Xa&&xb.sharedHist;if(!V||Qb)E(xb.doc,Qb),S(xb.doc,ea,Qb)}}}S(g,null,!0)}function ic(g,E){if(E.cm)throw Error("This document is already in use.");g.doc=E;E.cm=g;Xb(g);Fg(g);ud(g);g.options.direction=E.direction;g.options.lineWrapping||sd(g);g.options.mode=E.modeOption;$a(g)}function ud(g){("rtl"==g.doc.direction?f:Yb)(g.display.lineDiv,"CodeMirror-rtl")}
function yd(g){td(g,function(){ud(g);$a(g)})}function be(g){this.done=[];this.undone=[];this.undoDepth=g?g.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=g?g.maxGeneration:1}function df(g,E){var V={from:cb(E.from),to:Mf(E),text:Ha(g,E.from,E.to)};qh(g,V,E.from.line,E.to.line+1);Db(g,function(S){return qh(S,V,E.from.line,E.to.line+1)},!0);return V}function tf(g){for(;g.length;)if(u(g).ranges)g.pop();
else break}function Gg(g,E,V,S){var ea=g.history;ea.undone.length=0;var Ja=+new Date,Xa;if(Xa=ea.lastOp==S||ea.lastOrigin==E.origin&&E.origin&&("+"==E.origin.charAt(0)&&ea.lastModTime>Ja-(g.cm?g.cm.options.historyEventDelay:500)||"*"==E.origin.charAt(0))){if(ea.lastOp==S){tf(ea.done);var ab=u(ea.done)}else ea.done.length&&!u(ea.done).ranges?ab=u(ea.done):1<ea.done.length&&!ea.done[ea.done.length-2].ranges?(ea.done.pop(),ab=u(ea.done)):ab=void 0;Xa=ab}if(Xa){var xb=u(ab.changes);0==Ga(E.from,E.to)&&
0==Ga(E.from,xb.to)?xb.to=Mf(E):ab.changes.push(df(g,E))}else for((ab=u(ea.done))&&ab.ranges||Nf(g.sel,ea.done),ab={changes:[df(g,E)],generation:ea.generation},ea.done.push(ab);ea.done.length>ea.undoDepth;)ea.done.shift(),ea.done[0].ranges||ea.done.shift();ea.done.push(V);ea.generation=++ea.maxGeneration;ea.lastModTime=ea.lastSelTime=Ja;ea.lastOp=ea.lastSelOp=S;ea.lastOrigin=ea.lastSelOrigin=E.origin;xb||P(g,"historyAdded")}function Nf(g,E){var V=u(E);V&&V.ranges&&V.equals(g)||E.push(g)}function qh(g,
E,V,S){var ea=E["spans_"+g.id],Ja=0;g.iter(Math.max(g.first,V),Math.min(g.first+g.size,S),function(Xa){Xa.markedSpans&&((ea||(ea=E["spans_"+g.id]={}))[Ja]=Xa.markedSpans);++Ja})}function xh(g,E){var V;if(V=E["spans_"+g.id]){for(var S=[],ea=0;ea<E.text.length;++ea){var Ja=S,Xa=Ja.push;var ab=void 0;var xb=V[ea];if(xb){for(var Qb=0;Qb<xb.length;++Qb)xb[Qb].marker.explicitlyCleared?ab||(ab=xb.slice(0,Qb)):ab&&ab.push(xb[Qb]);ab=ab?ab.length?ab:null:xb}else ab=null;Xa.call(Ja,ab)}V=S}else V=null;g=id(g,
E);if(!V)return g;if(!g)return V;for(E=0;E<V.length;++E)if(S=V[E],ea=g[E],S&&ea)a:for(Ja=0;Ja<ea.length;++Ja){Xa=ea[Ja];for(ab=0;ab<S.length;++ab)if(S[ab].marker==Xa.marker)continue a;S.push(Xa)}else ea&&(V[E]=ea);return V}function $g(g,E,V){for(var S=[],ea=0;ea<g.length;++ea){var Ja=g[ea];if(Ja.ranges)S.push(V?fh.prototype.deepCopy.call(Ja):Ja);else{Ja=Ja.changes;var Xa=[];S.push({changes:Xa});for(var ab=0;ab<Ja.length;++ab){var xb=Ja[ab],Qb;Xa.push({from:xb.from,to:xb.to,text:xb.text});if(E)for(var gc in xb)(Qb=
gc.match(/^spans_(\d+)$/))&&-1<b(E,Number(Qb[1]))&&(u(Xa)[gc]=xb[gc],delete xb[gc])}}}return S}function Wg(g,E,V,S){return S?(g=g.anchor,V&&(S=0>Ga(E,g),S!=0>Ga(V,g)?(g=E,E=V):S!=0>Ga(E,V)&&(E=V)),new ig(g,E)):new ig(V||E,E)}function Og(g,E,V,S,ea){null==ea&&(ea=g.cm&&(g.cm.display.shift||g.extend));og(g,new fh([Wg(g.sel.primary(),E,V,ea)],0),S)}function kh(g,E,V){for(var S=[],ea=g.cm&&(g.cm.display.shift||g.extend),Ja=0;Ja<g.sel.ranges.length;Ja++)S[Ja]=Wg(g.sel.ranges[Ja],E[Ja],null,ea);E=Jf(g.cm,
S,g.sel.primIndex);og(g,E,V)}function ah(g,E,V,S){var ea=g.sel.ranges.slice(0);ea[E]=V;og(g,Jf(g.cm,ea,g.sel.primIndex),S)}function Xh(g,E,V){V={ranges:E.ranges,update:function(S){this.ranges=[];for(var ea=0;ea<S.length;ea++)this.ranges[ea]=new ig(Fb(g,S[ea].anchor),Fb(g,S[ea].head))},origin:V&&V.origin};P(g,"beforeSelectionChange",g,V);g.cm&&P(g.cm,"beforeSelectionChange",g.cm,V);return V.ranges!=E.ranges?Jf(g.cm,V.ranges,V.ranges.length-1):E}function ph(g,E,V){var S=g.history.done,ea=u(S);ea&&ea.ranges?
(S[S.length-1]=E,Kh(g,E,V)):og(g,E,V)}function og(g,E,V){Kh(g,E,V);E=g.sel;var S=g.cm?g.cm.curOp.id:NaN,ea=g.history,Ja=V&&V.origin,Xa;if(!(Xa=S==ea.lastSelOp)&&(Xa=Ja&&ea.lastSelOrigin==Ja)&&!(Xa=ea.lastModTime==ea.lastSelTime&&ea.lastOrigin==Ja)){Xa=u(ea.done);var ab=Ja.charAt(0);Xa="*"==ab||"+"==ab&&Xa.ranges.length==E.ranges.length&&Xa.somethingSelected()==E.somethingSelected()&&new Date-g.history.lastSelTime<=(g.cm?g.cm.options.historyEventDelay:500)}Xa?ea.done[ea.done.length-1]=E:Nf(E,ea.done);
ea.lastSelTime=+new Date;ea.lastSelOrigin=Ja;ea.lastSelOp=S;V&&!1!==V.clearRedo&&tf(ea.undone)}function Kh(g,E,V){if(K(g,"beforeSelectionChange")||g.cm&&K(g.cm,"beforeSelectionChange"))E=Xh(g,E,V);var S=V&&V.bias||(0>Ga(E.primary().head,g.sel.primary().head)?-1:1);Ph(g,ia(g,E,S,!0));V&&!1===V.scroll||!g.cm||"nocursor"==g.cm.getOption("readOnly")||Eb(g.cm)}function Ph(g,E){E.equals(g.sel)||(g.sel=E,g.cm&&(g.cm.curOp.updateInput=1,g.cm.curOp.selectionChanged=!0,B(g.cm)),ve(g,"cursorActivity",g))}function N(g){Ph(g,
ia(g,g.sel,null,!1))}function ia(g,E,V,S){for(var ea,Ja=0;Ja<E.ranges.length;Ja++){var Xa=E.ranges[Ja],ab=E.ranges.length==g.sel.ranges.length&&g.sel.ranges[Ja],xb=fb(g,Xa.anchor,ab&&ab.anchor,V,S);ab=fb(g,Xa.head,ab&&ab.head,V,S);if(ea||xb!=Xa.anchor||ab!=Xa.head)ea||(ea=E.ranges.slice(0,Ja)),ea[Ja]=new ig(xb,ab)}return ea?Jf(g.cm,ea,E.primIndex):E}function Pa(g,E,V,S,ea){var Ja=qa(g,E.line);if(Ja.markedSpans)for(var Xa=0;Xa<Ja.markedSpans.length;++Xa){var ab=Ja.markedSpans[Xa],xb=ab.marker,Qb="selectLeft"in
xb?!xb.selectLeft:xb.inclusiveLeft,gc="selectRight"in xb?!xb.selectRight:xb.inclusiveRight;if((null==ab.from||(Qb?ab.from<=E.ch:ab.from<E.ch))&&(null==ab.to||(gc?ab.to>=E.ch:ab.to>E.ch))){if(ea&&(P(xb,"beforeCursorEnter"),xb.explicitlyCleared))if(Ja.markedSpans){--Xa;continue}else break;if(xb.atomic){if(V){Xa=xb.find(0>S?1:-1);ab=void 0;if(0>S?gc:Qb)Xa=Jb(g,Xa,-S,Xa&&Xa.line==E.line?Ja:null);if(Xa&&Xa.line==E.line&&(ab=Ga(Xa,V))&&(0>S?0>ab:0<ab))return Pa(g,Xa,E,S,ea)}V=xb.find(0>S?-1:1);if(0>S?Qb:
gc)V=Jb(g,V,S,V.line==E.line?Ja:null);return V?Pa(g,V,E,S,ea):null}}}return E}function fb(g,E,V,S,ea){S=S||1;E=Pa(g,E,V,S,ea)||!ea&&Pa(g,E,V,S,!0)||Pa(g,E,V,-S,ea)||!ea&&Pa(g,E,V,-S,!0);return E?E:(g.cantEdit=!0,ja(g.first,0))}function Jb(g,E,V,S){return 0>V&&0==E.ch?E.line>g.first?Fb(g,ja(E.line-1)):null:0<V&&E.ch==(S||qa(g,E.line)).text.length?E.line<g.first+g.size-1?ja(E.line+1,0):null:new ja(E.line,E.ch+V)}function Rb(g){g.setSelection(ja(g.firstLine(),0),ja(g.lastLine()),Gd)}function Hc(g,E,
V){var S={canceled:!1,from:E.from,to:E.to,text:E.text,origin:E.origin,cancel:function(){return S.canceled=!0}};V&&(S.update=function(ea,Ja,Xa,ab){ea&&(S.from=Fb(g,ea));Ja&&(S.to=Fb(g,Ja));Xa&&(S.text=Xa);void 0!==ab&&(S.origin=ab)});P(g,"beforeChange",g,S);g.cm&&P(g.cm,"beforeChange",g.cm,S);return S.canceled?(g.cm&&(g.cm.curOp.updateInput=2),null):{from:S.from,to:S.to,text:S.text,origin:S.origin}}function Zc(g,E,V){if(g.cm){if(!g.cm.curOp)return Dd(g.cm,Zc)(g,E,V);if(g.cm.state.suppressEdits)return}if(K(g,
"beforeChange")||g.cm&&K(g.cm,"beforeChange"))if(E=Hc(g,E,!0),!E)return;if(V=bi&&!V&&Ea(g,E.from,E.to))for(var S=V.length-1;0<=S;--S)ed(g,{from:V[S].from,to:V[S].to,text:S?[""]:E.text,origin:E.origin});else ed(g,E)}function ed(g,E){if(1!=E.text.length||""!=E.text[0]||0!=Ga(E.from,E.to)){var V=oh(g,E);Gg(g,E,V,g.cm?g.cm.curOp.id:NaN);we(g,E,V,id(g,E));var S=[];Db(g,function(ea,Ja){Ja||-1!=b(S,ea.history)||(fg(ea.history,E),S.push(ea.history));we(ea,E,null,id(ea,E))})}}function pd(g,E,V){var S=g.cm&&
g.cm.state.suppressEdits;if(!S||V){for(var ea=g.history,Ja,Xa=g.sel,ab="undo"==E?ea.done:ea.undone,xb="undo"==E?ea.undone:ea.done,Qb=0;Qb<ab.length&&(Ja=ab[Qb],V?!Ja.ranges||Ja.equals(g.sel):Ja.ranges);Qb++);if(Qb!=ab.length){for(ea.lastOrigin=ea.lastSelOrigin=null;;)if(Ja=ab.pop(),Ja.ranges){Nf(Ja,xb);if(V&&!Ja.equals(g.sel)){og(g,Ja,{clearRedo:!1});return}Xa=Ja}else{if(S){ab.push(Ja);return}break}var gc=[];Nf(Xa,xb);xb.push({changes:gc,generation:ea.generation});ea.generation=Ja.generation||++ea.maxGeneration;
var Pc=K(g,"beforeChange")||g.cm&&K(g.cm,"beforeChange");V=function(Wc){var ad=Ja.changes[Wc];ad.origin=E;if(Pc&&!Hc(g,ad,!1))return ab.length=0,{};gc.push(df(g,ad));var Ld=Wc?oh(g,ad):u(ab);we(g,ad,Ld,xh(g,ad));!Wc&&g.cm&&g.cm.scrollIntoView({from:ad.from,to:Mf(ad)});var ze=[];Db(g,function(pf,uh){uh||-1!=b(ze,pf.history)||(fg(pf.history,ad),ze.push(pf.history));we(pf,ad,null,xh(pf,ad))})};for(S=Ja.changes.length-1;0<=S;--S)if(ea=V(S))return ea.v}}}function Vd(g,E){if(0!=E&&(g.first+=E,g.sel=new fh(C(g.sel.ranges,
function(ea){return new ig(ja(ea.anchor.line+E,ea.anchor.ch),ja(ea.head.line+E,ea.head.ch))}),g.sel.primIndex),g.cm)){$a(g.cm,g.first,g.first-E,E);for(var V=g.cm.display,S=V.viewFrom;S<V.viewTo;S++)ub(g.cm,S,"gutter")}}function we(g,E,V,S){if(g.cm&&!g.cm.curOp)return Dd(g.cm,we)(g,E,V,S);if(E.to.line<g.first)Vd(g,E.text.length-1-(E.to.line-E.from.line));else if(!(E.from.line>g.lastLine())){if(E.from.line<g.first){var ea=E.text.length-1-(g.first-E.from.line);Vd(g,ea);E={from:ja(g.first,0),to:ja(E.to.line+
ea,E.to.ch),text:[u(E.text)],origin:E.origin}}ea=g.lastLine();E.to.line>ea&&(E={from:E.from,to:ja(ea,qa(g,ea).text.length),text:[E.text[0]],origin:E.origin});E.removed=Ha(g,E.from,E.to);V||(V=oh(g,E));g.cm?Ze(g.cm,E,S):Za(g,E,S);Kh(g,V,Gd);g.cantEdit&&fb(g,ja(g.firstLine(),0))&&(g.cantEdit=!1)}}function Ze(g,E,V){var S=g.doc,ea=g.display,Ja=E.from,Xa=E.to,ab=!1,xb=Ja.line;g.options.lineWrapping||(xb=ta(Tb(qa(S,Ja.line))),S.iter(xb,Xa.line+1,function(Qb){if(Qb==ea.maxLine)return ab=!0}));-1<S.sel.contains(E.from,
E.to)&&B(g);Za(S,E,V,Ia(g));g.options.lineWrapping||(S.iter(xb,Ja.line+E.text.length,function(Qb){var gc=od(Qb);gc>ea.maxLineLength&&(ea.maxLine=Qb,ea.maxLineLength=gc,ea.maxLineChanged=!0,ab=!1)}),ab&&(g.curOp.updateMaxLine=!0));Ic(S,Ja.line);Ad(g,400);V=E.text.length-(Xa.line-Ja.line)-1;E.full?$a(g):Ja.line!=Xa.line||1!=E.text.length||vh(g.doc,E)?$a(g,Ja.line,Xa.line+1,V):ub(g,Ja.line,"text");V=K(g,"changes");if((S=K(g,"change"))||V)E={from:Ja,to:Xa,text:E.text,removed:E.removed,origin:E.origin},
S&&ve(g,"change",g,E),V&&(g.curOp.changeObjs||(g.curOp.changeObjs=[])).push(E);g.display.selForContextMenu=null}function rf(g,E,V,S,ea){S||(S=V);0>Ga(S,V)&&(S=[S,V],V=S[0],S=S[1]);"string"==typeof E&&(E=g.splitLines(E));Zc(g,{from:V,to:S,text:E,origin:ea})}function wg(g,E,V,S){V<g.line?g.line+=S:E<g.line&&(g.line=E,g.ch=0)}function De(g,E,V,S){for(var ea=0;ea<g.length;++ea){var Ja=g[ea],Xa=!0;if(Ja.ranges)for(Ja.copied||(Ja=g[ea]=Ja.deepCopy(),Ja.copied=!0),Xa=0;Xa<Ja.ranges.length;Xa++)wg(Ja.ranges[Xa].anchor,
E,V,S),wg(Ja.ranges[Xa].head,E,V,S);else{for(var ab=0;ab<Ja.changes.length;++ab){var xb=Ja.changes[ab];if(V<xb.from.line)xb.from=ja(xb.from.line+S,xb.from.ch),xb.to=ja(xb.to.line+S,xb.to.ch);else if(E<=xb.to.line){Xa=!1;break}}Xa||(g.splice(0,ea+1),ea=0)}}}function fg(g,E){var V=E.from.line,S=E.to.line;E=E.text.length-(S-V)-1;De(g.done,V,S,E);De(g.undone,V,S,E)}function kg(g,E,V,S){var ea=E,Ja=E;"number"==typeof E?Ja=qa(g,Math.max(g.first,Math.min(E,g.first+g.size-1))):ea=ta(E);if(null==ea)return null;
S(Ja,ea)&&g.cm&&ub(g.cm,ea,V);return Ja}function Rg(g){this.lines=g;this.parent=null;for(var E=0,V=0;V<g.length;++V)g[V].parent=this,E+=g[V].height;this.height=E}function rg(g){this.children=g;for(var E=0,V=0,S=0;S<g.length;++S){var ea=g[S];E+=ea.chunkSize();V+=ea.height;ea.parent=this}this.size=E;this.height=V;this.parent=null}function Yg(g,E,V,S){var ea=new vi(g,V,S),Ja=g.cm;Ja&&ea.noHScroll&&(Ja.display.alignWidgets=!0);kg(g,E,"widget",function(Xa){var ab=Xa.widgets||(Xa.widgets=[]);null==ea.insertAt?
ab.push(ea):ab.splice(Math.min(ab.length,Math.max(0,ea.insertAt)),0,ea);ea.line=Xa;Ja&&!Dc(g,Xa)&&(ab=fd(Xa)<g.scrollTop,eb(Xa,Xa.height+bd(ea)),ab&&ib(Ja,ea.height),Ja.curOp.forceUpdate=!0);return!0});Ja&&ve(Ja,"lineWidgetAdded",Ja,ea,"number"==typeof E?E:ta(E));return ea}function jf(g,E,V,S,ea){if(S&&S.shared)return gh(g,E,V,S,ea);if(g.cm&&!g.cm.curOp)return Dd(g.cm,jf)(g,E,V,S,ea);var Ja=new ni(g,ea);ea=Ga(E,V);S&&a(S,Ja,!1);if(0<ea||0==ea&&!1!==Ja.clearWhenEmpty)return Ja;Ja.replacedWith&&(Ja.collapsed=
!0,Ja.widgetNode=r("span",[Ja.replacedWith],"CodeMirror-widget"),S.handleMouseEvents||Ja.widgetNode.setAttribute("cm-ignore-events","true"),S.insertLeft&&(Ja.widgetNode.insertLeft=!0));if(Ja.collapsed){if(zb(g,E.line,E,V,Ja)||E.line!=V.line&&zb(g,V.line,E,V,Ja))throw Error("Inserting collapsed marker partially overlapping an existing one");Jh=!0}Ja.addToHistory&&Gg(g,{from:E,to:V,origin:"markText"},g.sel,NaN);var Xa=E.line,ab=g.cm,xb;g.iter(Xa,V.line+1,function(Qb){ab&&Ja.collapsed&&!ab.options.lineWrapping&&
Tb(Qb)==ab.display.maxLine&&(xb=!0);Ja.collapsed&&Xa!=E.line&&eb(Qb,0);var gc=new Ec(Ja,Xa==E.line?E.ch:null,Xa==V.line?V.ch:null),Pc=g.cm&&g.cm.curOp;(Pc=Pc&&window.WeakSet&&(Pc.markedSpans||(Pc.markedSpans=new WeakSet)))&&Qb.markedSpans&&Pc.has(Qb.markedSpans)?Qb.markedSpans.push(gc):(Qb.markedSpans=Qb.markedSpans?Qb.markedSpans.concat([gc]):[gc],Pc&&Pc.add(Qb.markedSpans));gc.marker.attachLine(Qb);++Xa});Ja.collapsed&&g.iter(E.line,V.line+1,function(Qb){Dc(g,Qb)&&eb(Qb,0)});Ja.clearOnEnter&&Ke(Ja,
"beforeCursorEnter",function(){return Ja.clear()});Ja.readOnly&&(bi=!0,(g.history.done.length||g.history.undone.length)&&g.clearHistory());Ja.collapsed&&(Ja.id=++uj,Ja.atomic=!0);if(ab){xb&&(ab.curOp.updateMaxLine=!0);if(Ja.collapsed)$a(ab,E.line,V.line+1);else if(Ja.className||Ja.startStyle||Ja.endStyle||Ja.css||Ja.attributes||Ja.title)for(S=E.line;S<=V.line;S++)ub(ab,S,"text");Ja.atomic&&N(ab.doc);ve(ab,"markerAdded",ab,Ja)}return Ja}function gh(g,E,V,S,ea){S=a(S);S.shared=!1;var Ja=[jf(g,E,V,S,
ea)],Xa=Ja[0],ab=S.widgetNode;Db(g,function(xb){ab&&(S.widgetNode=ab.cloneNode(!0));Ja.push(jf(xb,Fb(xb,E),Fb(xb,V),S,ea));for(var Qb=0;Qb<xb.linked.length;++Qb)if(xb.linked[Qb].isParent)return;Xa=u(Ja)});return new Yi(Ja,Xa)}function Uf(g){return g.findMarks(ja(g.first,0),g.clipPos(ja(g.lastLine())),function(E){return E.parent})}function sg(g){for(var E=function(S){S=g[S];var ea=[S.primary.doc];Db(S.primary.doc,function(ab){return ea.push(ab)});for(var Ja=0;Ja<S.markers.length;Ja++){var Xa=S.markers[Ja];
-1==b(ea,Xa.doc)&&(Xa.parent=null,S.markers.splice(Ja--,1))}},V=0;V<g.length;V++)E(V)}function Lh(g){var E=this;bh(E);if(!w(E,g)&&!md(E.display,g)){ka(g);Yf&&(oj=+new Date);var V=ha(E,g,!0),S=g.dataTransfer.files;if(V&&!E.isReadOnly())if(S&&S.length&&window.FileReader&&window.File)for(var ea=S.length,Ja=Array(ea),Xa=0,ab=function(){++Xa==ea&&Dd(E,function(){V=Fb(E.doc,V);var gc={from:V,to:V,text:E.doc.splitLines(Ja.filter(function(Pc){return null!=Pc}).join(E.doc.lineSeparator())),origin:"paste"};
Zc(E.doc,gc);ph(E.doc,eg(Fb(E.doc,V),Fb(E.doc,Mf(gc))))})()},xb=function(gc,Pc){if(E.options.allowDropFileTypes&&-1==b(E.options.allowDropFileTypes,gc.type))ab();else{var Wc=new FileReader;Wc.onerror=function(){return ab()};Wc.onload=function(){var ad=Wc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ad)||(Ja[Pc]=ad);ab()};Wc.readAsText(gc)}},Qb=0;Qb<S.length;Qb++)xb(S[Qb],Qb);else if(E.state.draggingText&&-1<E.doc.sel.contains(V))E.state.draggingText(g),setTimeout(function(){return E.display.input.focus()},
20);else try{if(xb=g.dataTransfer.getData("Text")){E.state.draggingText&&!E.state.draggingText.copy&&(Qb=E.listSelections());Kh(E.doc,eg(V,V));if(Qb)for(S=0;S<Qb.length;++S)rf(E.doc,"",Qb[S].anchor,Qb[S].head,"drag");E.replaceSelection(xb,"around","paste");E.display.input.focus()}}catch(gc){}}}function bh(g){g.display.dragCursor&&(g.display.lineSpace.removeChild(g.display.dragCursor),g.display.dragCursor=null)}function Eh(g){if(document.getElementsByClassName){for(var E=document.getElementsByClassName("CodeMirror"),
V=[],S=0;S<E.length;S++){var ea=E[S].CodeMirror;ea&&V.push(ea)}V.length&&V[0].operation(function(){for(var Ja=0;Ja<V.length;Ja++)g(V[Ja])})}}function ki(){var g;Ke(window,"resize",function(){null==g&&(g=setTimeout(function(){g=null;Eh(Vh)},100))});Ke(window,"blur",function(){return Eh(Gb)})}function Vh(g){var E=g.display;E.cachedCharWidth=E.cachedTextHeight=E.cachedPaddingH=null;E.scrollbarsClipped=!1;g.setSize()}function Sh(g){var E=g.split(/-(?!$)/);g=E[E.length-1];for(var V,S,ea,Ja,Xa=0;Xa<E.length-
1;Xa++){var ab=E[Xa];if(/^(cmd|meta|m)$/i.test(ab))Ja=!0;else if(/^a(lt)?$/i.test(ab))V=!0;else if(/^(c|ctrl|control)$/i.test(ab))S=!0;else if(/^s(hift)?$/i.test(ab))ea=!0;else throw Error("Unrecognized modifier name: "+ab);}V&&(g="Alt-"+g);S&&(g="Ctrl-"+g);Ja&&(g="Cmd-"+g);ea&&(g="Shift-"+g);return g}function ef(g){var E={},V;for(V in g)if(g.hasOwnProperty(V)){var S=g[V];if(!/^(name|fallthrough|(de|at)tach)$/.test(V)){if("..."!=S)for(var ea=C(V.split(" "),Sh),Ja=0;Ja<ea.length;Ja++){if(Ja==ea.length-
1){var Xa=ea.join(" ");var ab=S}else Xa=ea.slice(0,Ja+1).join(" "),ab="...";var xb=E[Xa];if(!xb)E[Xa]=ab;else if(xb!=ab)throw Error("Inconsistent bindings for "+Xa);}delete g[V]}}for(var Qb in E)g[Qb]=E[Qb];return g}function Hg(g,E,V,S){E=Uh(E);var ea=E.call?E.call(g,S):E[g];if(!1===ea)return"nothing";if("..."===ea)return"multi";if(null!=ea&&V(ea))return"handled";if(E.fallthrough){if("[object Array]"!=Object.prototype.toString.call(E.fallthrough))return Hg(g,E.fallthrough,V,S);for(ea=0;ea<E.fallthrough.length;ea++){var Ja=
Hg(g,E.fallthrough[ea],V,S);if(Ja)return Ja}}}function ff(g){g="string"==typeof g?g:pi[g.keyCode];return"Ctrl"==g||"Alt"==g||"Shift"==g||"Mod"==g}function sf(g,E,V){var S=g;E.altKey&&"Alt"!=S&&(g="Alt-"+g);(Ta?E.metaKey:E.ctrlKey)&&"Ctrl"!=S&&(g="Ctrl-"+g);(Ta?E.ctrlKey:E.metaKey)&&"Mod"!=S&&(g="Cmd-"+g);!V&&E.shiftKey&&"Shift"!=S&&(g="Shift-"+g);return g}function xg(g,E){if(wh&&34==g.keyCode&&g["char"])return!1;var V=pi[g.keyCode];if(null==V||g.altGraphKey)return!1;3==g.keyCode&&g.code&&(V=g.code);
return sf(V,g,E)}function Uh(g){return"string"==typeof g?Pi[g]:g}function Fh(g,E){for(var V=g.doc.sel.ranges,S=[],ea=0;ea<V.length;ea++){for(var Ja=E(V[ea]);S.length&&0>=Ga(Ja.from,u(S).to);){var Xa=S.pop();if(0>Ga(Xa.from,Ja.from)){Ja.from=Xa.from;break}}S.push(Ja)}td(g,function(){for(var ab=S.length-1;0<=ab;ab--)rf(g.doc,"",S[ab].from,S[ab].to,"+delete");Eb(g)})}function hh(g,E,V){E=Z(g.text,E+V,V);return 0>E||E>g.text.length?null:E}function Hf(g,E,V){g=hh(g,E.ch,V);return null==g?null:new ja(E.line,
g,0>V?"after":"before")}function Ee(g,E,V,S,ea){if(g&&("rtl"==E.doc.direction&&(ea=-ea),g=W(V,E.doc.direction))){g=0>ea?u(g):g[0];var Ja=0>ea==(1==g.level)?"after":"before";if(0<g.level||"rtl"==E.doc.direction){var Xa=Be(E,V);var ab=0>ea?V.text.length-1:0;var xb=Me(E,Xa,ab).top;ab=T(function(Qb){return Me(E,Xa,Qb).top==xb},0>ea==(1==g.level)?g.from:g.to-1,ab);"before"==Ja&&(ab=hh(V,ab,1))}else ab=0>ea?g.to:g.from;return new ja(S,ab,Ja)}return new ja(S,0>ea?V.text.length:0,0>ea?"before":"after")}function re(g,
E,V,S){var ea=W(E,g.doc.direction);if(!ea)return Hf(E,V,S);V.ch>=E.text.length?(V.ch=E.text.length,V.sticky="before"):0>=V.ch&&(V.ch=0,V.sticky="after");var Ja=aa(ea,V.ch,V.sticky),Xa=ea[Ja];if("ltr"==g.doc.direction&&0==Xa.level%2&&(0<S?Xa.to>V.ch:Xa.from<V.ch))return Hf(E,V,S);var ab=function(ad,Ld){return hh(E,ad instanceof ja?ad.ch:ad,Ld)},xb,Qb=function(ad){if(!g.options.lineWrapping)return{begin:0,end:E.text.length};xb=xb||Be(g,E);return ce(g,E,xb,ad)},gc=Qb("before"==V.sticky?ab(V,-1):V.ch);
if("rtl"==g.doc.direction||1==Xa.level){var Pc=1==Xa.level==0>S,Wc=ab(V,Pc?1:-1);if(null!=Wc&&(Pc?Wc<=Xa.to&&Wc<=gc.end:Wc>=Xa.from&&Wc>=gc.begin))return new ja(V.line,Wc,Pc?"before":"after")}Xa=function(ad,Ld,ze){for(var pf=function(Dg,Lg){return Lg?new ja(V.line,ab(Dg,1),"before"):new ja(V.line,Dg,"after")};0<=ad&&ad<ea.length;ad+=Ld){var uh=ea[ad],af=0<Ld==(1!=uh.level),Sf=af?ze.begin:ab(ze.end,-1);if(uh.from<=Sf&&Sf<uh.to)return pf(Sf,af);Sf=af?uh.from:ab(uh.to,-1);if(ze.begin<=Sf&&Sf<ze.end)return pf(Sf,
af)}};if(Ja=Xa(Ja+S,S,gc))return Ja;gc=0<S?gc.end:ab(gc.begin,-1);return null==gc||0<S&&gc==E.text.length||!(Ja=Xa(0<S?0:ea.length-1,S,Qb(gc)))?null:Ja}function Of(g,E){var V=qa(g.doc,E),S=Tb(V);S!=V&&(E=ta(S));return Ee(!0,g,S,E,1)}function Kf(g,E){var V=Of(g,E.line),S=qa(g.doc,V.line);g=W(S,g.doc.direction);return g&&0!=g[0].level?V:(S=Math.max(V.ch,S.text.search(/\S/)),ja(V.line,E.line==V.line&&E.ch<=S&&E.ch?0:S,V.sticky))}function vf(g,E,V){if("string"==typeof E&&(E=qj[E],!E))return!1;g.display.input.ensurePolled();
var S=g.display.shift,ea=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),V&&(g.display.shift=!1),ea=E(g)!=gd}finally{g.display.shift=S,g.state.suppressEdits=!1}return ea}function Zf(g,E,V,S){var ea=g.state.keySeq;if(ea){if(ff(E))return"handled";/'$/.test(E)?g.state.keySeq=null:pk.set(50,function(){g.state.keySeq==ea&&(g.state.keySeq=null,g.display.input.reset())});if(Ba(g,ea+" "+E,V,S))return!0}return Ba(g,E,V,S)}function Ba(g,E,V,S){a:{for(var ea=0;ea<g.state.keyMaps.length;ea++){var Ja=Hg(E,g.state.keyMaps[ea],
S,g);if(Ja){S=Ja;break a}}S=g.options.extraKeys&&Hg(E,g.options.extraKeys,S,g)||Hg(E,g.options.keyMap,S,g)}"multi"==S&&(g.state.keySeq=E);"handled"==S&&ve(g,"keyHandled",g,E,V);if("handled"==S||"multi"==S)ka(V),Fc(g);return!!S}function db(g,E){var V=xg(E,!0);return V?E.shiftKey&&!g.state.keySeq?Zf(g,"Shift-"+V,E,function(S){return vf(g,S,!0)})||Zf(g,V,E,function(S){if("string"==typeof S?/^go[A-Z]/.test(S):S.motion)return vf(g,S)}):Zf(g,V,E,function(S){return vf(g,S)}):!1}function wb(g,E,V){return Zf(g,
"'"+V+"'",E,function(S){return vf(g,S,!0)})}function Lb(g){if(!g.target||g.target==this.display.input.getField())if(this.curOp.focus=k(),!w(this,g)){Yf&&11>Cg&&27==g.keyCode&&(g.returnValue=!1);var E=g.keyCode;this.display.shift=16==E||g.shiftKey;var V=db(this,g);wh&&(ik=V?E:null,!V&&88==E&&!Zh&&(Ig?g.metaKey:g.ctrlKey)&&this.replaceSelection("",null,"cut"));lg&&!Ig&&!V&&46==E&&g.shiftKey&&!g.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=E||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||
pc(this)}}function pc(g){function E(S){18!=S.keyCode&&S.altKey||(Yb(V,"CodeMirror-crosshair"),X(document,"keyup",E),X(document,"mouseover",E))}var V=g.display.lineDiv;f(V,"CodeMirror-crosshair");Ke(document,"keyup",E);Ke(document,"mouseover",E)}function rc(g){16==g.keyCode&&(this.doc.sel.shift=!1);w(this,g)}function Nc(g){if(!(g.target&&g.target!=this.display.input.getField()||md(this.display,g)||w(this,g)||g.ctrlKey&&!g.altKey||Ig&&g.metaKey)){var E=g.keyCode,V=g.charCode;if(wh&&E==ik)ik=null,ka(g);
else if(!wh||g.which&&!(10>g.which)||!db(this,g))if(E=String.fromCharCode(null==V?E:V),"\b"!=E&&!wb(this,g,E))this.display.input.onKeyPress(g)}}function xa(g,E){var V=+new Date;if(Zi&&Zi.compare(V,g,E))return Gj=Zi=null,"triple";if(Gj&&Gj.compare(V,g,E))return Zi=new Zj(V,g,E),Gj=null,"double";Gj=new Zj(V,g,E);Zi=null;return"single"}function Ra(g){var E=this.display;if(!(w(this,g)||E.activeTouch&&E.input.supportsTouch()))if(E.input.ensurePolled(),E.shift=g.shiftKey,md(E,g))rh||(E.scroller.draggable=
!1,setTimeout(function(){return E.scroller.draggable=!0},100));else if(!Tc(this,g,"gutterClick",!0)){var V=ha(this,g),S=Ua(g),ea=V?xa(V,S):"single";window.focus();1==S&&this.state.selectingText&&this.state.selectingText(g);if(!V||!qb(this,S,V,ea,g))if(1==S)V?rb(this,V,ea,g):(g.target||g.srcElement)==E.scroller&&ka(g);else if(2==S)V&&Og(this.doc,V),setTimeout(function(){return E.input.focus()},20);else if(3==S)if(vb)this.display.input.onContextMenu(g);else Yc(this)}}function qb(g,E,V,S,ea){var Ja=
"Click";"double"==S?Ja="Double"+Ja:"triple"==S&&(Ja="Triple"+Ja);return Zf(g,sf((1==E?"Left":2==E?"Middle":"Right")+Ja,ea),ea,function(Xa){"string"==typeof Xa&&(Xa=qj[Xa]);if(!Xa)return!1;var ab=!1;try{g.isReadOnly()&&(g.state.suppressEdits=!0),ab=Xa(g,V)!=gd}finally{g.state.suppressEdits=!1}return ab})}function rb(g,E,V,S){Yf?setTimeout(d(Mc,g),0):g.curOp.focus=k();var ea=g.getOption("configureMouse");ea=ea?ea(g,V,S):{};null==ea.unit&&(ea.unit=(Jj?S.shiftKey&&S.metaKey:S.altKey)?"rectangle":"single"==
V?"char":"double"==V?"word":"line");if(null==ea.extend||g.doc.extend)ea.extend=g.doc.extend||S.shiftKey;null==ea.addNew&&(ea.addNew=Ig?S.metaKey:S.ctrlKey);null==ea.moveOnDrag&&(ea.moveOnDrag=!(Ig?S.altKey:S.ctrlKey));var Ja=g.doc.sel,Xa;g.options.dragDrop&&sh&&!g.isReadOnly()&&"single"==V&&-1<(Xa=Ja.contains(E))&&(0>Ga((Xa=Ja.ranges[Xa]).from(),E)||0<E.xRel)&&(0<Ga(Xa.to(),E)||0>E.xRel)?fc(g,S,E,ea):$c(g,S,E,ea)}function fc(g,E,V,S){var ea=g.display,Ja=!1,Xa=Dd(g,function(Qb){rh&&(ea.scroller.draggable=
!1);g.state.draggingText=!1;g.state.delayingBlurEvent&&(g.hasFocus()?g.state.delayingBlurEvent=!1:Yc(g));X(ea.wrapper.ownerDocument,"mouseup",Xa);X(ea.wrapper.ownerDocument,"mousemove",ab);X(ea.scroller,"dragstart",xb);X(ea.scroller,"drop",Xa);Ja||(ka(Qb),S.addNew||Og(g.doc,V,null,null,S.extend),rh&&!Mi||Yf&&9==Cg?setTimeout(function(){ea.wrapper.ownerDocument.body.focus({preventScroll:!0});ea.input.focus()},20):ea.input.focus())}),ab=function(Qb){Ja=Ja||10<=Math.abs(E.clientX-Qb.clientX)+Math.abs(E.clientY-
Qb.clientY)},xb=function(){return Ja=!0};rh&&(ea.scroller.draggable=!0);g.state.draggingText=Xa;Xa.copy=!S.moveOnDrag;Ke(ea.wrapper.ownerDocument,"mouseup",Xa);Ke(ea.wrapper.ownerDocument,"mousemove",ab);Ke(ea.scroller,"dragstart",xb);Ke(ea.scroller,"drop",Xa);g.state.delayingBlurEvent=!0;setTimeout(function(){return ea.input.focus()},20);ea.scroller.dragDrop&&ea.scroller.dragDrop()}function Oc(g,E,V){if("char"==V)return new ig(E,E);if("word"==V)return g.findWordAt(E);if("line"==V)return new ig(ja(E.line,
0),Fb(g.doc,ja(E.line+1,0)));g=V(g,E);return new ig(g.from,g.to)}function $c(g,E,V,S){function ea(af){if(0!=Ga(ad,af))if(ad=af,"rectangle"==S.unit){var Sf=[],Dg=g.options.tabSize,Lg=c(qa(xb,V.line).text,V.ch,Dg),tg=c(qa(xb,af.line).text,af.ch,Dg),Wf=Math.min(Lg,tg);Lg=Math.max(Lg,tg);tg=Math.min(V.line,af.line);for(var ng=Math.min(g.lastLine(),Math.max(V.line,af.line));tg<=ng;tg++){var mg=qa(xb,tg).text,Bg=m(mg,Wf,Dg);Wf==Lg?Sf.push(new ig(ja(tg,Bg),ja(tg,Bg))):mg.length>Bg&&Sf.push(new ig(ja(tg,
Bg),ja(tg,m(mg,Lg,Dg))))}Sf.length||Sf.push(new ig(V,V));og(xb,Jf(g,Qb.ranges.slice(0,Pc).concat(Sf),Pc),{origin:"*mouse",scroll:!1});g.scrollIntoView(af)}else Sf=Wc,Wf=Oc(g,af,S.unit),af=Sf.anchor,0<Ga(Wf.anchor,af)?(Dg=Wf.head,af=pb(Sf.from(),Wf.anchor)):(Dg=Wf.anchor,af=nb(Sf.to(),Wf.head)),Sf=Qb.ranges.slice(0),Sf[Pc]=xd(g,new ig(Fb(xb,af),Dg)),og(xb,Jf(g,Sf,Pc),Ud)}function Ja(af){var Sf=++ze,Dg=ha(g,af,!0,"rectangle"==S.unit);if(Dg)if(0!=Ga(Dg,ad)){g.curOp.focus=k();ea(Dg);var Lg=ma(ab,xb);
(Dg.line>=Lg.to||Dg.line<Lg.from)&&setTimeout(Dd(g,function(){ze==Sf&&Ja(af)}),150)}else{var tg=af.clientY<Ld.top?-20:af.clientY>Ld.bottom?20:0;tg&&setTimeout(Dd(g,function(){ze==Sf&&(ab.scroller.scrollTop+=tg,Ja(af))}),50)}}function Xa(af){g.state.selectingText=!1;ze=Infinity;af&&(ka(af),ab.input.focus());X(ab.wrapper.ownerDocument,"mousemove",pf);X(ab.wrapper.ownerDocument,"mouseup",uh);xb.history.lastSelOrigin=null}Yf&&Yc(g);var ab=g.display,xb=g.doc;ka(E);var Qb=xb.sel,gc=Qb.ranges;if(S.addNew&&
!S.extend){var Pc=xb.sel.contains(V);var Wc=-1<Pc?gc[Pc]:new ig(V,V)}else Wc=xb.sel.primary(),Pc=xb.sel.primIndex;"rectangle"==S.unit?(S.addNew||(Wc=new ig(V,V)),V=ha(g,E,!0,!0),Pc=-1):(E=Oc(g,V,S.unit),Wc=S.extend?Wg(Wc,E.anchor,E.head,S.extend):E);S.addNew?-1==Pc?(Pc=gc.length,og(xb,Jf(g,gc.concat([Wc]),Pc),{scroll:!1,origin:"*mouse"})):1<gc.length&&gc[Pc].empty()&&"char"==S.unit&&!S.extend?(og(xb,Jf(g,gc.slice(0,Pc).concat(gc.slice(Pc+1)),0),{scroll:!1,origin:"*mouse"}),Qb=xb.sel):ah(xb,Pc,Wc,
Ud):(Pc=0,og(xb,new fh([Wc],0),Ud),Qb=xb.sel);var ad=V,Ld=ab.wrapper.getBoundingClientRect(),ze=0,pf=Dd(g,function(af){0!==af.buttons&&Ua(af)?Ja(af):Xa(af)}),uh=Dd(g,Xa);g.state.selectingText=uh;Ke(ab.wrapper.ownerDocument,"mousemove",pf);Ke(ab.wrapper.ownerDocument,"mouseup",uh)}function xd(g,E){var V=E.anchor,S=E.head,ea=qa(g.doc,V.line);if(0==Ga(V,S)&&V.sticky==S.sticky)return E;ea=W(ea);if(!ea)return E;var Ja=aa(ea,V.ch,V.sticky),Xa=ea[Ja];if(Xa.from!=V.ch&&Xa.to!=V.ch)return E;var ab=Ja+(Xa.from==
V.ch==(1!=Xa.level)?0:1);if(0==ab||ab==ea.length)return E;S.line!=V.line?g=0<(S.line-V.line)*("ltr"==g.doc.direction?1:-1):(g=aa(ea,S.ch,S.sticky),Ja=g-Ja||(S.ch-V.ch)*(1==Xa.level?-1:1),g=g==ab-1||g==ab?0>Ja:0<Ja);ea=ea[ab+(g?-1:0)];ea=(ab=g==(1==ea.level))?ea.from:ea.to;ab=ab?"after":"before";return V.ch==ea&&V.sticky==ab?E:new ig(new ja(V.line,ea,ab),S)}function Tc(g,E,V,S){if(E.touches){var ea=E.touches[0].clientX;var Ja=E.touches[0].clientY}else try{ea=E.clientX,Ja=E.clientY}catch(xb){return!1}if(ea>=
Math.floor(g.display.gutters.getBoundingClientRect().right))return!1;S&&ka(E);S=g.display;var Xa=S.lineDiv.getBoundingClientRect();if(Ja>Xa.bottom||!K(g,V))return la(E);Ja-=Xa.top-S.viewOffset;for(Xa=0;Xa<g.display.gutterSpecs.length;++Xa){var ab=S.gutters.childNodes[Xa];if(ab&&ab.getBoundingClientRect().right>=ea)return ea=Qa(g.doc,Ja),P(g,V,g,ea,g.display.gutterSpecs[Xa].className,E),la(E)}}function Md(g,E){var V;(V=md(g.display,E))||(V=K(g,"gutterContextMenu")?Tc(g,E,"gutterContextMenu",!1):!1);
if(!V&&!w(g,E,"contextmenu")&&!vb)g.display.input.onContextMenu(E)}function Cd(g){g.display.wrapper.className=g.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+g.options.theme.replace(/(^|\s)\s*/g," cm-s-");Vc(g)}function Ae(g,E,V){!E!=!(V&&V!=bj)&&(V=g.display.dragFunctions,E=E?Ke:X,E(g.display.scroller,"dragstart",V.start),E(g.display.scroller,"dragenter",V.enter),E(g.display.scroller,"dragover",V.over),E(g.display.scroller,"dragleave",V.leave),E(g.display.scroller,"drop",V.drop))}function uf(g){g.options.lineWrapping?
(f(g.display.wrapper,"CodeMirror-wrap"),g.display.sizer.style.minWidth="",g.display.sizerWidth=null):(Yb(g.display.wrapper,"CodeMirror-wrap"),sd(g));Xb(g);$a(g);Vc(g);setTimeout(function(){return wd(g)},100)}function Je(g,E){var V=this;if(!(this instanceof Je))return new Je(g,E);this.options=E=E?a(E):{};a(Ek,E,!1);var S=E.value;"string"==typeof S?S=new Gh(S,E.mode,null,E.lineSeparator,E.direction):E.mode&&(S.modeOption=E.mode);this.doc=S;var ea=new Je.inputStyles[E.inputStyle](this);g=this.display=
new Eg(g,S,ea,E);g.wrapper.CodeMirror=this;Cd(this);E.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Fd(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new xc,keySeq:null,specialChars:null};E.autofocus&&!Ci&&g.input.focus();Yf&&11>Cg&&setTimeout(function(){return V.display.input.reset(!0)},20);of(this);pj||(ki(),pj=!0);he(this);this.curOp.forceUpdate=
!0;ic(this,S);E.autofocus&&!Ci||this.hasFocus()?setTimeout(function(){V.hasFocus()&&!V.state.focused&&mb(V)},20):Gb(this);for(var Ja in tj)if(tj.hasOwnProperty(Ja))tj[Ja](this,E[Ja],bj);qg(this);E.finishInit&&E.finishInit(this);for(S=0;S<jk.length;++S)jk[S](this);se(this);rh&&E.lineWrapping&&"optimizelegibility"==getComputedStyle(g.lineDiv).textRendering&&(g.lineDiv.style.textRendering="auto")}function of(g){function E(){S.activeTouch&&(ea=setTimeout(function(){return S.activeTouch=null},1E3),Ja=
S.activeTouch,Ja.end=+new Date)}function V(ab,xb){if(null==xb.left)return!0;var Qb=xb.left-ab.left;ab=xb.top-ab.top;return 400<Qb*Qb+ab*ab}var S=g.display;Ke(S.scroller,"mousedown",Dd(g,Ra));Yf&&11>Cg?Ke(S.scroller,"dblclick",Dd(g,function(ab){if(!w(g,ab)){var xb=ha(g,ab);!xb||Tc(g,ab,"gutterClick",!0)||md(g.display,ab)||(ka(ab),ab=g.findWordAt(xb),Og(g.doc,ab.anchor,ab.head))}})):Ke(S.scroller,"dblclick",function(ab){return w(g,ab)||ka(ab)});Ke(S.scroller,"contextmenu",function(ab){return Md(g,ab)});
Ke(S.input.getField(),"contextmenu",function(ab){S.scroller.contains(ab.target)||Md(g,ab)});var ea,Ja={end:0};Ke(S.scroller,"touchstart",function(ab){var xb;if(xb=!w(g,ab))1!=ab.touches.length?xb=!1:(xb=ab.touches[0],xb=1>=xb.radiusX&&1>=xb.radiusY),xb=!xb;xb&&!Tc(g,ab,"gutterClick",!0)&&(S.input.ensurePolled(),clearTimeout(ea),xb=+new Date,S.activeTouch={start:xb,moved:!1,prev:300>=xb-Ja.end?Ja:null},1==ab.touches.length&&(S.activeTouch.left=ab.touches[0].pageX,S.activeTouch.top=ab.touches[0].pageY))});
Ke(S.scroller,"touchmove",function(){S.activeTouch&&(S.activeTouch.moved=!0)});Ke(S.scroller,"touchend",function(ab){var xb=S.activeTouch;if(xb&&!md(S,ab)&&null!=xb.left&&!xb.moved&&300>new Date-xb.start){var Qb=g.coordsChar(S.activeTouch,"page");xb=!xb.prev||V(xb,xb.prev)?new ig(Qb,Qb):!xb.prev.prev||V(xb,xb.prev.prev)?g.findWordAt(Qb):new ig(ja(Qb.line,0),Fb(g.doc,ja(Qb.line+1,0)));g.setSelection(xb.anchor,xb.head);g.focus();ka(ab)}E()});Ke(S.scroller,"touchcancel",E);Ke(S.scroller,"scroll",function(){S.scroller.clientHeight&&
(Kc(g,S.scroller.scrollTop),wc(g,S.scroller.scrollLeft,!0),P(g,"scroll",g))});Ke(S.scroller,"mousewheel",function(ab){return Rf(g,ab)});Ke(S.scroller,"DOMMouseScroll",function(ab){return Rf(g,ab)});Ke(S.wrapper,"scroll",function(){return S.wrapper.scrollTop=S.wrapper.scrollLeft=0});S.dragFunctions={enter:function(ab){w(g,ab)||wa(ab)},over:function(ab){if(!w(g,ab)){var xb=ha(g,ab);if(xb){var Qb=document.createDocumentFragment();Cc(g,xb,Qb);g.display.dragCursor||(g.display.dragCursor=v("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),
g.display.lineSpace.insertBefore(g.display.dragCursor,g.display.cursorDiv));n(g.display.dragCursor,Qb)}wa(ab)}},start:function(ab){if(Yf&&(!g.state.draggingText||100>+new Date-oj))wa(ab);else if(!w(g,ab)&&!md(g.display,ab)&&(ab.dataTransfer.setData("Text",g.getSelection()),ab.dataTransfer.effectAllowed="copyMove",ab.dataTransfer.setDragImage&&!Mi)){var xb=v("img",null,null,"position: fixed; left: 0; top: 0;");xb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";
wh&&(xb.width=xb.height=1,g.display.wrapper.appendChild(xb),xb._top=xb.offsetTop);ab.dataTransfer.setDragImage(xb,0,0);wh&&xb.parentNode.removeChild(xb)}},drop:Dd(g,Lh),leave:function(ab){w(g,ab)||bh(g)}};var Xa=S.input.getField();Ke(Xa,"keyup",function(ab){return rc.call(g,ab)});Ke(Xa,"keydown",Dd(g,Lb));Ke(Xa,"keypress",Dd(g,Nc));Ke(Xa,"focus",function(ab){return mb(g,ab)});Ke(Xa,"blur",function(ab){return Gb(g,ab)})}function Vf(g,E,V,S){var ea=g.doc,Ja;null==V&&(V="add");"smart"==V&&(ea.mode.indent?
Ja=yc(g,E).state:V="prev");var Xa=g.options.tabSize,ab=qa(ea,E),xb=c(ab.text,null,Xa);ab.stateAfter&&(ab.stateAfter=null);var Qb=ab.text.match(/^\s*/)[0];if(!S&&!/\S/.test(ab.text)){var gc=0;V="not"}else if("smart"==V&&(gc=ea.mode.indent(Ja,ab.text.slice(Qb.length),ab.text),gc==gd||150<gc)){if(!S)return;V="prev"}"prev"==V?gc=E>ea.first?c(qa(ea,E-1).text,null,Xa):0:"add"==V?gc=xb+g.options.indentUnit:"subtract"==V?gc=xb-g.options.indentUnit:"number"==typeof V&&(gc=xb+V);gc=Math.max(0,gc);V="";S=0;
if(g.options.indentWithTabs)for(g=Math.floor(gc/Xa);g;--g)S+=Xa,V+="\t";S<gc&&(V+=z(gc-S));if(V!=Qb)return rf(ea,V,ja(E,0),ja(E,Qb.length),"+input"),ab.stateAfter=null,!0;for(Xa=0;Xa<ea.sel.ranges.length;Xa++)if(ab=ea.sel.ranges[Xa],ab.head.line==E&&ab.head.ch<Qb.length){E=ja(E,Qb.length);ah(ea,Xa,new ig(E,E));break}}function pg(g,E,V,S,ea){var Ja=g.doc;g.display.shift=!1;S||(S=Ja.sel);var Xa=+new Date-200,ab="paste"==ea||g.state.pasteIncoming>Xa,xb=gf(E),Qb=null;if(ab&&1<S.ranges.length)if(ai&&ai.text.join("\n")==
E){if(0==S.ranges.length%ai.text.length){Qb=[];for(var gc=0;gc<ai.text.length;gc++)Qb.push(Ja.splitLines(ai.text[gc]))}}else xb.length==S.ranges.length&&g.options.pasteLinesPerSelection&&(Qb=C(xb,function(ze){return[ze]}));gc=g.curOp.updateInput;for(var Pc=S.ranges.length-1;0<=Pc;Pc--){var Wc=S.ranges[Pc],ad=Wc.from(),Ld=Wc.to();Wc.empty()&&(V&&0<V?ad=ja(ad.line,ad.ch-V):g.state.overwrite&&!ab?Ld=ja(Ld.line,Math.min(qa(Ja,Ld.line).text.length,Ld.ch+u(xb).length)):ab&&ai&&ai.lineWise&&ai.text.join("\n")==
xb.join("\n")&&(ad=Ld=ja(ad.line,0)));Wc={from:ad,to:Ld,text:Qb?Qb[Pc%Qb.length]:xb,origin:ea||(ab?"paste":g.state.cutIncoming>Xa?"cut":"+input")};Zc(g.doc,Wc);ve(g,"inputRead",g,Wc)}E&&!ab&&Lf(g,E);Eb(g);2>g.curOp.updateInput&&(g.curOp.updateInput=gc);g.curOp.typing=!0;g.state.pasteIncoming=g.state.cutIncoming=-1}function mf(g,E){var V=g.clipboardData&&g.clipboardData.getData("Text");if(V)return g.preventDefault(),E.isReadOnly()||E.options.disableInput||td(E,function(){return pg(E,V,0,null,"paste")}),
!0}function Lf(g,E){if(g.options.electricChars&&g.options.smartIndent)for(var V=g.doc.sel,S=V.ranges.length-1;0<=S;S--){var ea=V.ranges[S];if(!(100<ea.head.ch||S&&V.ranges[S-1].head.line==ea.head.line)){var Ja=g.getModeAt(ea.head),Xa=!1;if(Ja.electricChars)for(var ab=0;ab<Ja.electricChars.length;ab++){if(-1<E.indexOf(Ja.electricChars.charAt(ab))){Xa=Vf(g,ea.head.line,"smart");break}}else Ja.electricInput&&Ja.electricInput.test(qa(g.doc,ea.head.line).text.slice(0,ea.head.ch))&&(Xa=Vf(g,ea.head.line,
"smart"));Xa&&ve(g,"electricInput",g,ea.head.line)}}}function nf(g){for(var E=[],V=[],S=0;S<g.doc.sel.ranges.length;S++){var ea=g.doc.sel.ranges[S].head.line;ea={anchor:ja(ea,0),head:ja(ea+1,0)};V.push(ea);E.push(g.getRange(ea.anchor,ea.head))}return{text:E,ranges:V}}function xf(g,E,V,S){g.setAttribute("autocorrect",V?"":"off");g.setAttribute("autocapitalize",S?"":"off");g.setAttribute("spellcheck",!!E)}function Bh(){var g=v("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),
E=v("div",[g],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");rh?g.style.width="1000px":g.setAttribute("wrap","off");ti&&(g.style.border="1px solid black");xf(g);return E}function hg(g,E,V,S,ea){function Ja(ze){if("codepoint"==S){var pf=xb.text.charCodeAt(E.ch+(0<V?0:-1));pf=isNaN(pf)?null:new ja(E.line,Math.max(0,Math.min(xb.text.length,E.ch+V*((0<V?55296<=pf&&56320>pf:56320<=pf&&57343>pf)?2:1))),-V)}else pf=ea?re(g.cm,xb,E,V):Hf(xb,E,V);if(null==pf){if(ze=!ze)ze=E.line+Qb,
ze<g.first||ze>=g.first+g.size?ze=!1:(E=new ja(ze,E.ch,E.sticky),ze=xb=qa(g,ze));if(ze)E=Ee(ea,g.cm,xb,E.line,Qb);else return!1}else E=pf;return!0}var Xa=E,ab=V,xb=qa(g,E.line),Qb=ea&&"rtl"==g.direction?-V:V;if("char"==S||"codepoint"==S)Ja();else if("column"==S)Ja(!0);else if("word"==S||"group"==S)for(var gc=null,Pc="group"==S,Wc=g.cm&&g.cm.getHelper(E,"wordChars"),ad=!0;!(0>V)||Ja(!ad);ad=!1){var Ld=xb.text.charAt(E.ch)||"\n";Ld=H(Ld,Wc)?"w":Pc&&"\n"==Ld?"n":!Pc||/\s/.test(Ld)?null:"p";!Pc||ad||
Ld||(Ld="s");if(gc&&gc!=Ld){0>V&&(V=1,Ja(),E.sticky="after");break}Ld&&(gc=Ld);if(0<V&&!Ja(!ad))break}ab=fb(g,E,Xa,ab,!0);Wa(Xa,ab)&&(ab.hitSide=!0);return ab}function Xg(g,E,V,S){var ea=g.doc,Ja=E.left;if("page"==S){var Xa=Math.max(Math.min(g.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Qe(g.display),3);Xa=(0<V?E.bottom:E.top)+V*Xa}else"line"==S&&(Xa=0<V?E.bottom+3:E.top-3);for(;;){E=Zb(g,Ja,Xa);if(!E.outside)break;if(0>V?0>=Xa:Xa>=ea.height){E.hitSide=
!0;break}Xa+=5*V}return E}function ih(g,E){var V=Df(g,E.line);if(!V||V.hidden)return null;var S=qa(g.doc,E.line);V=ue(V,S,E.line);g=W(S,g.doc.direction);S="left";g&&(S=aa(g,E.ch)%2?"right":"left");E=kf(V.map,E.ch,S);E.offset="right"==E.collapse?E.end:E.start;return E}function Tg(g){for(;g;g=g.parentNode)if(/CodeMirror-gutter-wrapper/.test(g.className))return!0;return!1}function eh(g,E){E&&(g.bad=!0);return g}function Yh(g,E,V,S,ea){function Ja(ad){return function(Ld){return Ld.id==ad}}function Xa(){gc&&
(Qb+=Pc,Wc&&(Qb+=Pc),gc=Wc=!1)}function ab(ad){ad&&(Xa(),Qb+=ad)}function xb(ad){if(1==ad.nodeType){var Ld=ad.getAttribute("cm-text");if(Ld)ab(Ld);else{Ld=ad.getAttribute("cm-marker");var ze;if(Ld)ad=g.findMarks(ja(S,0),ja(ea+1,0),Ja(+Ld)),ad.length&&(ze=ad[0].find(0))&&ab(Ha(g.doc,ze.from,ze.to).join(Pc));else if("false"!=ad.getAttribute("contenteditable")&&(ze=/^(pre|div|p|li|table|br)$/i.test(ad.nodeName),/^br$/i.test(ad.nodeName)||0!=ad.textContent.length)){ze&&Xa();for(Ld=0;Ld<ad.childNodes.length;Ld++)xb(ad.childNodes[Ld]);
/^(pre|p)$/i.test(ad.nodeName)&&(Wc=!0);ze&&(gc=!0)}}}else 3==ad.nodeType&&ab(ad.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Qb="",gc=!1,Pc=g.doc.lineSeparator(),Wc=!1;;){xb(E);if(E==V)break;E=E.nextSibling;Wc=!1}return Qb}function Kg(g,E,V){if(E==g.display.lineDiv){var S=g.display.lineDiv.childNodes[V];if(!S)return eh(g.clipPos(ja(g.display.viewTo-1)),!0);E=null;V=0}else for(S=E;;S=S.parentNode){if(!S||S==g.display.lineDiv)return null;if(S.parentNode&&S.parentNode==g.display.lineDiv)break}for(var ea=
0;ea<g.display.view.length;ea++){var Ja=g.display.view[ea];if(Ja.node==S)return ui(Ja,E,V)}}function ui(g,E,V){function S(gc,Pc,Wc){for(var ad=-1;ad<(Qb?Qb.length:0);ad++)for(var Ld=0>ad?xb.map:Qb[ad],ze=0;ze<Ld.length;ze+=3){var pf=Ld[ze+2];if(pf==gc||pf==Pc){Pc=ta(0>ad?g.line:g.rest[ad]);ad=Ld[ze]+Wc;if(0>Wc||pf!=gc)ad=Ld[ze+(Wc?1:0)];return ja(Pc,ad)}}}var ea=g.text.firstChild,Ja=!1;if(!E||!h(ea,E))return eh(ja(ta(g.line),0),!0);if(E==ea&&(Ja=!0,E=ea.childNodes[V],V=0,!E))return V=g.rest?u(g.rest):
g.line,eh(ja(ta(V),V.text.length),Ja);var Xa=3==E.nodeType?E:null,ab=E;Xa||1!=E.childNodes.length||3!=E.firstChild.nodeType||(Xa=E.firstChild,V&&(V=Xa.nodeValue.length));for(;ab.parentNode!=ea;)ab=ab.parentNode;var xb=g.measure,Qb=xb.maps;if(E=S(Xa,ab,V))return eh(E,Ja);ea=ab.nextSibling;for(Xa=Xa?Xa.nodeValue.length-V:0;ea;ea=ea.nextSibling){if(E=S(ea,ea.firstChild,0))return eh(ja(E.line,E.ch-Xa),Ja);Xa+=ea.textContent.length}for(ab=ab.previousSibling;ab;ab=ab.previousSibling){if(E=S(ab,ab.firstChild,
-1))return eh(ja(E.line,E.ch+V),Ja);V+=ab.textContent.length}}var Sg=navigator.userAgent,Ng=navigator.platform,lg=/gecko\/\d/i.test(Sg),Ch=/MSIE \d/.test(Sg),Hh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Sg),li=/Edge\/(\d+)/.exec(Sg),Yf=Ch||Hh||li,Cg=Yf&&(Ch?document.documentMode||6:+(li||Hh)[1]),rh=!li&&/WebKit\//.test(Sg),oi=rh&&/Qt\/\d+\.\d+/.test(Sg),xi=!li&&/Chrome\//.test(Sg),wh=/Opera\//.test(Sg),Mi=/Apple Computer/.test(navigator.vendor),Xi=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Sg),Fi=/PhantomJS/.test(Sg),
ti=Mi&&(/Mobile\/\w+/.test(Sg)||2<navigator.maxTouchPoints),Ji=/Android/.test(Sg),Ci=ti||Ji||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Sg),Ig=ti||/Mac/.test(Ng),Jj=/\bCrOS\b/.test(Sg),na=/win/i.test(Ng),Na=wh&&Sg.match(/Version\/(\d*\.\d*)/);Na&&(Na=Number(Na[1]));Na&&15<=Na&&(wh=!1,rh=!0);var Ta=Ig&&(oi||wh&&(null==Na||12.11>Na)),vb=lg||Yf&&9<=Cg,Yb=function(g,E){var V=g.className;if(E=y(E).exec(V)){var S=V.slice(E.index+E[0].length);g.className=V.slice(0,E.index)+(S?E[1]+S:"")}};var bc=
document.createRange?function(g,E,V,S){var ea=document.createRange();ea.setEnd(S||g,V);ea.setStart(g,E);return ea}:function(g,E,V){var S=document.body.createTextRange();try{S.moveToElementText(g.parentNode)}catch(ea){return S}S.collapse(!0);S.moveEnd("character",V);S.moveStart("character",E);return S};var hc=function(g){g.select()};ti?hc=function(g){g.selectionStart=0;g.selectionEnd=g.value.length}:Yf&&(hc=function(g){try{g.select()}catch(E){}});var xc=function(){this.f=this.id=null;this.time=0;this.handler=
d(this.onTimeout,this)};xc.prototype.onTimeout=function(g){g.id=0;g.time<=+new Date?g.f():setTimeout(g.handler,g.time-+new Date)};xc.prototype.set=function(g,E){this.f=E;E=+new Date+g;if(!this.id||E<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,g),this.time=E};var gd={toString:function(){return"CodeMirror.Pass"}},Gd={scroll:!1},Ud={origin:"*mouse"},nd={origin:"+move"},ie=[""],Ue=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
yf=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Ge=null,ag=function(){function g(Xa,ab,xb){this.level=Xa;this.from=ab;this.to=xb}var E=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,V=/[stwN]/,S=/[LRr]/,ea=/[Lb1n]/,Ja=/[1n]/;return function(Xa,ab){var xb="ltr"==ab?"L":"R";if(0==Xa.length||"ltr"==ab&&!E.test(Xa))return!1;for(var Qb=Xa.length,gc=[],Pc=0;Pc<Qb;++Pc){var Wc=gc,ad=Wc.push;var Ld=Xa.charCodeAt(Pc);Ld=247>=Ld?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Ld):
1424<=Ld&&1524>=Ld?"R":1536<=Ld&&1785>=Ld?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Ld-1536):1774<=Ld&&2220>=Ld?"r":8192<=Ld&&8203>=Ld?"w":8204==Ld?"b":"L";ad.call(Wc,Ld)}Pc=0;for(Wc=xb;Pc<Qb;++Pc)ad=gc[Pc],"m"==ad?gc[Pc]=Wc:Wc=ad;Pc=0;for(Wc=xb;Pc<Qb;++Pc)ad=gc[Pc],"1"==ad&&"r"==Wc?
gc[Pc]="n":S.test(ad)&&(Wc=ad,"r"==ad&&(gc[Pc]="R"));Pc=1;for(Wc=gc[0];Pc<Qb-1;++Pc)ad=gc[Pc],"+"==ad&&"1"==Wc&&"1"==gc[Pc+1]?gc[Pc]="1":","!=ad||Wc!=gc[Pc+1]||"1"!=Wc&&"n"!=Wc||(gc[Pc]=Wc),Wc=ad;for(Pc=0;Pc<Qb;++Pc)if(Wc=gc[Pc],","==Wc)gc[Pc]="N";else if("%"==Wc){for(Wc=Pc+1;Wc<Qb&&"%"==gc[Wc];++Wc);for(ad=Pc&&"!"==gc[Pc-1]||Wc<Qb&&"1"==gc[Wc]?"1":"N";Pc<Wc;++Pc)gc[Pc]=ad;Pc=Wc-1}Pc=0;for(Wc=xb;Pc<Qb;++Pc)ad=gc[Pc],"L"==Wc&&"1"==ad?gc[Pc]="L":S.test(ad)&&(Wc=ad);for(Wc=0;Wc<Qb;++Wc)if(V.test(gc[Wc])){for(Pc=
Wc+1;Pc<Qb&&V.test(gc[Pc]);++Pc);ad="L"==(Wc?gc[Wc-1]:xb);for(ad=ad==("L"==(Pc<Qb?gc[Pc]:xb))?ad?"L":"R":xb;Wc<Pc;++Wc)gc[Wc]=ad;Wc=Pc-1}xb=[];var ze;for(Pc=0;Pc<Qb;)if(ea.test(gc[Pc])){Wc=Pc;for(++Pc;Pc<Qb&&ea.test(gc[Pc]);++Pc);xb.push(new g(0,Wc,Pc))}else{var pf=Pc;Wc=xb.length;ad="rtl"==ab?1:0;for(++Pc;Pc<Qb&&"L"!=gc[Pc];++Pc);for(Ld=pf;Ld<Pc;)if(Ja.test(gc[Ld])){pf<Ld&&(xb.splice(Wc,0,new g(1,pf,Ld)),Wc+=ad);pf=Ld;for(++Ld;Ld<Pc&&Ja.test(gc[Ld]);++Ld);xb.splice(Wc,0,new g(2,pf,Ld));Wc+=ad;pf=
Ld}else++Ld;pf<Pc&&xb.splice(Wc,0,new g(1,pf,Pc))}"ltr"==ab&&(1==xb[0].level&&(ze=Xa.match(/^\s+/))&&(xb[0].from=ze[0].length,xb.unshift(new g(0,0,ze[0].length))),1==u(xb).level&&(ze=Xa.match(/\s+$/))&&(u(xb).to-=ze[0].length,xb.push(new g(0,Qb-ze[0].length,Qb))));return"rtl"==ab?xb.reverse():xb}}(),Pg=[],Ke=function(g,E,V){g.addEventListener?g.addEventListener(E,V,!1):g.attachEvent?g.attachEvent("on"+E,V):(g=g._handlers||(g._handlers={}),g[E]=(g[E]||Pg).concat(V))},sh=function(){if(Yf&&9>Cg)return!1;
var g=v("div");return"draggable"in g||"dragDrop"in g}(),Nh,Qg,gf=3!="\n\nb".split(/\n/).length?function(g){for(var E=0,V=[],S=g.length;E<=S;){var ea=g.indexOf("\n",E);-1==ea&&(ea=g.length);var Ja=g.slice(E,"\r"==g.charAt(ea-1)?ea-1:ea),Xa=Ja.indexOf("\r");-1!=Xa?(V.push(Ja.slice(0,Xa)),E+=Xa+1):(V.push(Ja),E=ea+1)}return V}:function(g){return g.split(/\r\n?|\n/)},yg=window.getSelection?function(g){try{return g.selectionStart!=g.selectionEnd}catch(E){return!1}}:function(g){try{var E=g.ownerDocument.selection.createRange()}catch(V){}return E&&
E.parentElement()==g?0!=E.compareEndPoints("StartToEnd",E):!1},Zh=function(){var g=v("div");if("oncopy"in g)return!0;g.setAttribute("oncopy","return;");return"function"==typeof g.oncopy}(),Le=null,ne={},Pe={},oe={},wf=function(g,E,V){this.pos=this.start=0;this.string=g;this.tabSize=E||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=V};wf.prototype.eol=function(){return this.pos>=this.string.length};wf.prototype.sol=function(){return this.pos==this.lineStart};wf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};wf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};wf.prototype.eat=function(g){var E=this.string.charAt(this.pos);if("string"==typeof g?E==g:E&&(g.test?g.test(E):g(E)))return++this.pos,E};wf.prototype.eatWhile=function(g){for(var E=this.pos;this.eat(g););return this.pos>E};wf.prototype.eatSpace=function(){for(var g=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
g};wf.prototype.skipToEnd=function(){this.pos=this.string.length};wf.prototype.skipTo=function(g){g=this.string.indexOf(g,this.pos);if(-1<g)return this.pos=g,!0};wf.prototype.backUp=function(g){this.pos-=g};wf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=c(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)};wf.prototype.indentation=
function(){return c(this.string,null,this.tabSize)-(this.lineStart?c(this.string,this.lineStart,this.tabSize):0)};wf.prototype.match=function(g,E,V){if("string"==typeof g){var S=function(Ja){return V?Ja.toLowerCase():Ja},ea=this.string.substr(this.pos,g.length);if(S(ea)==S(g))return!1!==E&&(this.pos+=g.length),!0}else{if((g=this.string.slice(this.pos).match(g))&&0<g.index)return null;g&&!1!==E&&(this.pos+=g[0].length);return g}};wf.prototype.current=function(){return this.string.slice(this.start,
this.pos)};wf.prototype.hideFirstChars=function(g,E){this.lineStart+=g;try{return E()}finally{this.lineStart-=g}};wf.prototype.lookAhead=function(g){var E=this.lineOracle;return E&&E.lookAhead(g)};wf.prototype.baseToken=function(){var g=this.lineOracle;return g&&g.baseToken(this.pos)};var Ug=function(g,E){this.state=g;this.lookAhead=E},bg=function(g,E,V,S){this.state=E;this.doc=g;this.line=V;this.maxLookAhead=S||0;this.baseTokens=null;this.baseTokenPos=1};bg.prototype.lookAhead=function(g){var E=
this.doc.getLine(this.line+g);null!=E&&g>this.maxLookAhead&&(this.maxLookAhead=g);return E};bg.prototype.baseToken=function(g){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=g;)this.baseTokenPos+=2;var E=this.baseTokens[this.baseTokenPos+1];return{type:E&&E.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-g}};bg.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};bg.fromSaved=function(g,E,V){return E instanceof Ug?new bg(g,
Ma(g.mode,E.state),V,E.lookAhead):new bg(g,Ma(g.mode,E),V)};bg.prototype.save=function(g){g=!1!==g?Ma(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new Ug(g,this.maxLookAhead):g};var lh=function(g,E,V){this.start=g.start;this.end=g.pos;this.string=g.current();this.type=E||null;this.state=V},bi=!1,Jh=!1,Qi=function(g,E,V){this.text=g;Fa(this,E);this.height=V?V(this):1};Qi.prototype.lineNo=function(){return ta(this)};U(Qi);var Kj={},Yj={},Ei=null,Ej=null,Dk={left:0,right:0,top:0,bottom:0},
zg,Qh=function(g,E,V){this.cm=V;var S=this.vert=v("div",[v("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ea=this.horiz=v("div",[v("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");S.tabIndex=ea.tabIndex=-1;g(S);g(ea);Ke(S,"scroll",function(){S.clientHeight&&E(S.scrollTop,"vertical")});Ke(ea,"scroll",function(){ea.clientWidth&&E(ea.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Yf&&8>Cg&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Qh.prototype.update=
function(g){var E=g.scrollWidth>g.clientWidth+1,V=g.scrollHeight>g.clientHeight+1,S=g.nativeBarWidth;V?(this.vert.style.display="block",this.vert.style.bottom=E?S+"px":"0",this.vert.firstChild.style.height=Math.max(0,g.scrollHeight-g.clientHeight+(g.viewHeight-(E?S:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");E?(this.horiz.style.display="block",this.horiz.style.right=V?S+"px":"0",this.horiz.style.left=g.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,g.scrollWidth-g.clientWidth+(g.viewWidth-g.barLeft-(V?S:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<g.clientHeight&&(0==S&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:V?S:0,bottom:E?S:0}};Qh.prototype.setScrollLeft=function(g){this.horiz.scrollLeft!=g&&(this.horiz.scrollLeft=g);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Qh.prototype.setScrollTop=function(g){this.vert.scrollTop!=
g&&(this.vert.scrollTop=g);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Qh.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Ig&&!Xi?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new xc;this.disableVert=new xc};Qh.prototype.enableZeroWidthBar=function(g,E,V){function S(){var ea=g.getBoundingClientRect();("vert"==V?document.elementFromPoint(ea.right-1,(ea.top+ea.bottom)/2):document.elementFromPoint((ea.right+
ea.left)/2,ea.bottom-1))!=g?g.style.pointerEvents="none":E.set(1E3,S)}g.style.pointerEvents="auto";E.set(1E3,S)};Qh.prototype.clear=function(){var g=this.horiz.parentNode;g.removeChild(this.horiz);g.removeChild(this.vert)};var sj=function(){};sj.prototype.update=function(){return{bottom:0,right:0}};sj.prototype.setScrollLeft=function(){};sj.prototype.setScrollTop=function(){};sj.prototype.clear=function(){};var ok={"native":Qh,"null":sj},Nk=0,cj=function(g,E,V){var S=g.display;this.viewport=E;this.visible=
ma(S,g.doc,E);this.editorIsHidden=!S.wrapper.offsetWidth;this.wrapperHeight=S.wrapper.clientHeight;this.wrapperWidth=S.wrapper.clientWidth;this.oldDisplayWidth=ee(g);this.force=V;this.dims=ra(g);this.events=[]};cj.prototype.signal=function(g,E){K(g,E)&&this.events.push(arguments)};cj.prototype.finish=function(){for(var g=0;g<this.events.length;g++)P.apply(null,this.events[g])};var Ni=0,Ih=null;Yf?Ih=-.53:lg?Ih=15:xi?Ih=-.7:Mi&&(Ih=-1/3);var fh=function(g,E){this.ranges=g;this.primIndex=E};fh.prototype.primary=
function(){return this.ranges[this.primIndex]};fh.prototype.equals=function(g){if(g==this)return!0;if(g.primIndex!=this.primIndex||g.ranges.length!=this.ranges.length)return!1;for(var E=0;E<this.ranges.length;E++){var V=this.ranges[E],S=g.ranges[E];if(!Wa(V.anchor,S.anchor)||!Wa(V.head,S.head))return!1}return!0};fh.prototype.deepCopy=function(){for(var g=[],E=0;E<this.ranges.length;E++)g[E]=new ig(cb(this.ranges[E].anchor),cb(this.ranges[E].head));return new fh(g,this.primIndex)};fh.prototype.somethingSelected=
function(){for(var g=0;g<this.ranges.length;g++)if(!this.ranges[g].empty())return!0;return!1};fh.prototype.contains=function(g,E){E||(E=g);for(var V=0;V<this.ranges.length;V++){var S=this.ranges[V];if(0<=Ga(E,S.from())&&0>=Ga(g,S.to()))return V}return-1};var ig=function(g,E){this.anchor=g;this.head=E};ig.prototype.from=function(){return pb(this.anchor,this.head)};ig.prototype.to=function(){return nb(this.anchor,this.head)};ig.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};Rg.prototype={chunkSize:function(){return this.lines.length},removeInner:function(g,E){for(var V=g,S=g+E;V<S;++V){var ea=this.lines[V];this.height-=ea.height;var Ja=ea;Ja.parent=null;za(Ja);ve(ea,"delete")}this.lines.splice(g,E)},collapse:function(g){g.push.apply(g,this.lines)},insertInner:function(g,E,V){this.height+=V;this.lines=this.lines.slice(0,g).concat(E).concat(this.lines.slice(g));for(g=0;g<E.length;++g)E[g].parent=this},iterN:function(g,E,V){for(E=g+E;g<E;++g)if(V(this.lines[g]))return!0}};
rg.prototype={chunkSize:function(){return this.size},removeInner:function(g,E){this.size-=E;for(var V=0;V<this.children.length;++V){var S=this.children[V],ea=S.chunkSize();if(g<ea){var Ja=Math.min(E,ea-g),Xa=S.height;S.removeInner(g,Ja);this.height-=Xa-S.height;ea==Ja&&(this.children.splice(V--,1),S.parent=null);if(0==(E-=Ja))break;g=0}else g-=ea}25>this.size-E&&(1<this.children.length||!(this.children[0]instanceof Rg))&&(g=[],this.collapse(g),this.children=[new Rg(g)],this.children[0].parent=this)},
collapse:function(g){for(var E=0;E<this.children.length;++E)this.children[E].collapse(g)},insertInner:function(g,E,V){this.size+=E.length;this.height+=V;for(var S=0;S<this.children.length;++S){var ea=this.children[S],Ja=ea.chunkSize();if(g<=Ja){ea.insertInner(g,E,V);if(ea.lines&&50<ea.lines.length){for(E=g=ea.lines.length%25+25;E<ea.lines.length;)V=new Rg(ea.lines.slice(E,E+=25)),ea.height-=V.height,this.children.splice(++S,0,V),V.parent=this;ea.lines=ea.lines.slice(0,g);this.maybeSpill()}break}g-=
Ja}},maybeSpill:function(){if(!(10>=this.children.length)){var g=this;do{var E=g.children.splice(g.children.length-5,5);E=new rg(E);if(g.parent){g.size-=E.size;g.height-=E.height;var V=b(g.parent.children,g);g.parent.children.splice(V+1,0,E)}else V=new rg(g.children),V.parent=g,g.children=[V,E],g=V;E.parent=g.parent}while(10<g.children.length);g.parent.maybeSpill()}},iterN:function(g,E,V){for(var S=0;S<this.children.length;++S){var ea=this.children[S],Ja=ea.chunkSize();if(g<Ja){Ja=Math.min(E,Ja-g);
if(ea.iterN(g,Ja,V))return!0;if(0==(E-=Ja))break;g=0}else g-=Ja}}};var vi=function(g,E,V){if(V)for(var S in V)V.hasOwnProperty(S)&&(this[S]=V[S]);this.doc=g;this.node=E};vi.prototype.clear=function(){var g=this.doc.cm,E=this.line.widgets,V=this.line,S=ta(V);if(null!=S&&E){for(var ea=0;ea<E.length;++ea)E[ea]==this&&E.splice(ea--,1);E.length||(V.widgets=null);var Ja=bd(this);eb(V,Math.max(0,V.height-Ja));g&&(td(g,function(){var Xa=-Ja;fd(V)<(g.curOp&&g.curOp.scrollTop||g.doc.scrollTop)&&ib(g,Xa);ub(g,
S,"widget")}),ve(g,"lineWidgetCleared",g,this,S))}};vi.prototype.changed=function(){var g=this,E=this.height,V=this.doc.cm,S=this.line;this.height=null;var ea=bd(this)-E;ea&&(Dc(this.doc,S)||eb(S,S.height+ea),V&&td(V,function(){V.curOp.forceUpdate=!0;fd(S)<(V.curOp&&V.curOp.scrollTop||V.doc.scrollTop)&&ib(V,ea);ve(V,"lineWidgetChanged",V,g,ta(S))}))};U(vi);var uj=0,ni=function(g,E){this.lines=[];this.type=E;this.doc=g;this.id=++uj};ni.prototype.clear=function(){if(!this.explicitlyCleared){var g=this.doc.cm,
E=g&&!g.curOp;E&&he(g);if(K(this,"clear")){var V=this.find();V&&ve(this,"clear",V.from,V.to)}for(var S=V=null,ea=0;ea<this.lines.length;++ea){var Ja=this.lines[ea],Xa=Rc(Ja.markedSpans,this);g&&!this.collapsed?ub(g,ta(Ja),"text"):g&&(null!=Xa.to&&(S=ta(Ja)),null!=Xa.from&&(V=ta(Ja)));for(var ab=Ja,xb=void 0,Qb=Ja.markedSpans,gc=Xa,Pc=0;Pc<Qb.length;++Pc)Qb[Pc]!=gc&&(xb||(xb=[])).push(Qb[Pc]);ab.markedSpans=xb;null==Xa.from&&this.collapsed&&!Dc(this.doc,Ja)&&g&&eb(Ja,Qe(g.display))}if(g&&this.collapsed&&
!g.options.lineWrapping)for(ea=0;ea<this.lines.length;++ea)Ja=Tb(this.lines[ea]),Xa=od(Ja),Xa>g.display.maxLineLength&&(g.display.maxLine=Ja,g.display.maxLineLength=Xa,g.display.maxLineChanged=!0);null!=V&&g&&this.collapsed&&$a(g,V,S+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,g&&N(g.doc));g&&ve(g,"markerCleared",g,this,V,S);E&&se(g);this.parent&&this.parent.clear()}};ni.prototype.find=function(g,E){null==g&&"bookmark"==this.type&&(g=1);for(var V,
S,ea=0;ea<this.lines.length;++ea){var Ja=this.lines[ea],Xa=Rc(Ja.markedSpans,this);if(null!=Xa.from&&(V=ja(E?Ja:ta(Ja),Xa.from),-1==g))return V;if(null!=Xa.to&&(S=ja(E?Ja:ta(Ja),Xa.to),1==g))return S}return V&&{from:V,to:S}};ni.prototype.changed=function(){var g=this,E=this.find(-1,!0),V=this,S=this.doc.cm;E&&S&&td(S,function(){var ea=E.line,Ja=ta(E.line);if(Ja=Df(S,Ja))Sb(Ja),S.curOp.selectionChanged=S.curOp.forceUpdate=!0;S.curOp.updateMaxLine=!0;Dc(V.doc,ea)||null==V.height||(Ja=V.height,V.height=
null,(Ja=bd(V)-Ja)&&eb(ea,ea.height+Ja));ve(S,"markerChanged",S,g)})};ni.prototype.attachLine=function(g){if(!this.lines.length&&this.doc.cm){var E=this.doc.cm.curOp;E.maybeHiddenMarkers&&-1!=b(E.maybeHiddenMarkers,this)||(E.maybeUnhiddenMarkers||(E.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(g)};ni.prototype.detachLine=function(g){this.lines.splice(b(this.lines,g),1);!this.lines.length&&this.doc.cm&&(g=this.doc.cm.curOp,(g.maybeHiddenMarkers||(g.maybeHiddenMarkers=[])).push(this))};U(ni);
var Yi=function(g,E){this.markers=g;this.primary=E;for(E=0;E<g.length;++E)g[E].parent=this};Yi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var g=0;g<this.markers.length;++g)this.markers[g].clear();ve(this,"clear")}};Yi.prototype.find=function(g,E){return this.primary.find(g,E)};U(Yi);var Di=0,Gh=function(g,E,V,S,ea){if(!(this instanceof Gh))return new Gh(g,E,V,S,ea);null==V&&(V=0);rg.call(this,[new Rg([new Qi("",null)])]);this.first=V;this.scrollTop=this.scrollLeft=
0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=V;V=ja(V,0);this.sel=eg(V);this.history=new be(null);this.id=++Di;this.modeOption=E;this.lineSep=S;this.direction="rtl"==ea?"rtl":"ltr";this.extend=!1;"string"==typeof g&&(g=this.splitLines(g));Za(this,{from:V,to:V,text:g});og(this,eg(V),Gd)};Gh.prototype=x(rg.prototype,{constructor:Gh,iter:function(g,E,V){V?this.iterN(g-this.first,E-g,V):this.iterN(this.first,this.first+this.size,g)},insert:function(g,E){for(var V=
0,S=0;S<E.length;++S)V+=E[S].height;this.insertInner(g-this.first,E,V)},remove:function(g,E){this.removeInner(g-this.first,E)},getValue:function(g){var E=Va(this,this.first,this.first+this.size);return!1===g?E:E.join(g||this.lineSeparator())},setValue:qe(function(g){var E=ja(this.first,0),V=this.first+this.size-1;Zc(this,{from:E,to:ja(V,qa(this,V).text.length),text:this.splitLines(g),origin:"setValue",full:!0},!0);this.cm&&Ib(this.cm,0,0);og(this,eg(E),Gd)}),replaceRange:function(g,E,V,S){E=Fb(this,
E);V=V?Fb(this,V):E;rf(this,g,E,V,S)},getRange:function(g,E,V){g=Ha(this,Fb(this,g),Fb(this,E));return!1===V?g:""===V?g.join(""):g.join(V||this.lineSeparator())},getLine:function(g){return(g=this.getLineHandle(g))&&g.text},getLineHandle:function(g){if(oa(this,g))return qa(this,g)},getLineNumber:function(g){return ta(g)},getLineHandleVisualStart:function(g){"number"==typeof g&&(g=qa(this,g));return Tb(g)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+
this.size-1},clipPos:function(g){return Fb(this,g)},getCursor:function(g){var E=this.sel.primary();return null==g||"head"==g?E.head:"anchor"==g?E.anchor:"end"==g||"to"==g||!1===g?E.to():E.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:qe(function(g,E,V){g=Fb(this,"number"==typeof g?ja(g,E||0):g);og(this,eg(g,null),V)}),setSelection:qe(function(g,E,V){var S=Fb(this,g);g=Fb(this,E||g);og(this,eg(S,g),V)}),extendSelection:qe(function(g,
E,V){Og(this,Fb(this,g),E&&Fb(this,E),V)}),extendSelections:qe(function(g,E){kh(this,nc(this,g),E)}),extendSelectionsBy:qe(function(g,E){g=C(this.sel.ranges,g);kh(this,nc(this,g),E)}),setSelections:qe(function(g,E,V){if(g.length){for(var S=[],ea=0;ea<g.length;ea++)S[ea]=new ig(Fb(this,g[ea].anchor),Fb(this,g[ea].head||g[ea].anchor));null==E&&(E=Math.min(g.length-1,this.sel.primIndex));og(this,Jf(this.cm,S,E),V)}}),addSelection:qe(function(g,E,V){var S=this.sel.ranges.slice(0);S.push(new ig(Fb(this,
g),Fb(this,E||g)));og(this,Jf(this.cm,S,S.length-1),V)}),getSelection:function(g){for(var E=this.sel.ranges,V,S=0;S<E.length;S++){var ea=Ha(this,E[S].from(),E[S].to());V=V?V.concat(ea):ea}return!1===g?V:V.join(g||this.lineSeparator())},getSelections:function(g){for(var E=[],V=this.sel.ranges,S=0;S<V.length;S++){var ea=Ha(this,V[S].from(),V[S].to());!1!==g&&(ea=ea.join(g||this.lineSeparator()));E[S]=ea}return E},replaceSelection:function(g,E,V){for(var S=[],ea=0;ea<this.sel.ranges.length;ea++)S[ea]=
g;this.replaceSelections(S,E,V||"+input")},replaceSelections:qe(function(g,E,V){for(var S=[],ea=this.sel,Ja=0;Ja<ea.ranges.length;Ja++){var Xa=ea.ranges[Ja];S[Ja]={from:Xa.from(),to:Xa.to(),text:this.splitLines(g[Ja]),origin:V}}if(g=E&&"end"!=E){g=[];ea=V=ja(this.first,0);for(Ja=0;Ja<S.length;Ja++){var ab=S[Ja];Xa=th(ab.from,V,ea);var xb=th(Mf(ab),V,ea);V=ab.to;ea=xb;"around"==E?(ab=this.sel.ranges[Ja],ab=0>Ga(ab.head,ab.anchor),g[Ja]=new ig(ab?xb:Xa,ab?Xa:xb)):g[Ja]=new ig(Xa,Xa)}g=new fh(g,this.sel.primIndex)}E=
g;for(g=S.length-1;0<=g;g--)Zc(this,S[g]);E?ph(this,E):this.cm&&Eb(this.cm)}),undo:qe(function(){pd(this,"undo")}),redo:qe(function(){pd(this,"redo")}),undoSelection:qe(function(){pd(this,"undo",!0)}),redoSelection:qe(function(){pd(this,"redo",!0)}),setExtending:function(g){this.extend=g},getExtending:function(){return this.extend},historySize:function(){for(var g=this.history,E=0,V=0,S=0;S<g.done.length;S++)g.done[S].ranges||++E;for(S=0;S<g.undone.length;S++)g.undone[S].ranges||++V;return{undo:E,
redo:V}},clearHistory:function(){var g=this;this.history=new be(this.history);Db(this,function(E){return E.history=g.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(g){g&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(g){return this.history.generation==(g||this.cleanGeneration)},getHistory:function(){return{done:$g(this.history.done),undone:$g(this.history.undone)}},
setHistory:function(g){var E=this.history=new be(this.history);E.done=$g(g.done.slice(0),null,!0);E.undone=$g(g.undone.slice(0),null,!0)},setGutterMarker:qe(function(g,E,V){return kg(this,g,"gutter",function(S){var ea=S.gutterMarkers||(S.gutterMarkers={});ea[E]=V;!V&&M(ea)&&(S.gutterMarkers=null);return!0})}),clearGutter:qe(function(g){var E=this;this.iter(function(V){V.gutterMarkers&&V.gutterMarkers[g]&&kg(E,V,"gutter",function(){V.gutterMarkers[g]=null;M(V.gutterMarkers)&&(V.gutterMarkers=null);
return!0})})}),lineInfo:function(g){if("number"==typeof g){if(!oa(this,g))return null;var E=g;g=qa(this,g);if(!g)return null}else if(E=ta(g),null==E)return null;return{line:E,handle:g,text:g.text,gutterMarkers:g.gutterMarkers,textClass:g.textClass,bgClass:g.bgClass,wrapClass:g.wrapClass,widgets:g.widgets}},addLineClass:qe(function(g,E,V){return kg(this,g,"gutter"==E?"gutter":"class",function(S){var ea="text"==E?"textClass":"background"==E?"bgClass":"gutter"==E?"gutterClass":"wrapClass";if(S[ea]){if(y(V).test(S[ea]))return!1;
S[ea]+=" "+V}else S[ea]=V;return!0})}),removeLineClass:qe(function(g,E,V){return kg(this,g,"gutter"==E?"gutter":"class",function(S){var ea="text"==E?"textClass":"background"==E?"bgClass":"gutter"==E?"gutterClass":"wrapClass",Ja=S[ea];if(Ja)if(null==V)S[ea]=null;else{var Xa=Ja.match(y(V));if(!Xa)return!1;var ab=Xa.index+Xa[0].length;S[ea]=Ja.slice(0,Xa.index)+(Xa.index&&ab!=Ja.length?" ":"")+Ja.slice(ab)||null}else return!1;return!0})}),addLineWidget:qe(function(g,E,V){return Yg(this,g,E,V)}),removeLineWidget:function(g){g.clear()},
markText:function(g,E,V){return jf(this,Fb(this,g),Fb(this,E),V,V&&V.type||"range")},setBookmark:function(g,E){E={replacedWith:E&&(null==E.nodeType?E.widget:E),insertLeft:E&&E.insertLeft,clearWhenEmpty:!1,shared:E&&E.shared,handleMouseEvents:E&&E.handleMouseEvents};g=Fb(this,g);return jf(this,g,g,E,"bookmark")},findMarksAt:function(g){g=Fb(this,g);var E=[],V=qa(this,g.line).markedSpans;if(V)for(var S=0;S<V.length;++S){var ea=V[S];(null==ea.from||ea.from<=g.ch)&&(null==ea.to||ea.to>=g.ch)&&E.push(ea.marker.parent||
ea.marker)}return E},findMarks:function(g,E,V){g=Fb(this,g);E=Fb(this,E);var S=[],ea=g.line;this.iter(g.line,E.line+1,function(Ja){if(Ja=Ja.markedSpans)for(var Xa=0;Xa<Ja.length;Xa++){var ab=Ja[Xa];null!=ab.to&&ea==g.line&&g.ch>=ab.to||null==ab.from&&ea!=g.line||null!=ab.from&&ea==E.line&&ab.from>=E.ch||V&&!V(ab.marker)||S.push(ab.marker.parent||ab.marker)}++ea});return S},getAllMarks:function(){var g=[];this.iter(function(E){if(E=E.markedSpans)for(var V=0;V<E.length;++V)null!=E[V].from&&g.push(E[V].marker)});
return g},posFromIndex:function(g){var E,V=this.first,S=this.lineSeparator().length;this.iter(function(ea){ea=ea.text.length+S;if(ea>g)return E=g,!0;g-=ea;++V});return Fb(this,ja(V,E))},indexFromPos:function(g){g=Fb(this,g);var E=g.ch;if(g.line<this.first||0>g.ch)return 0;var V=this.lineSeparator().length;this.iter(this.first,g.line,function(S){E+=S.text.length+V});return E},copy:function(g){var E=new Gh(Va(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);
E.scrollTop=this.scrollTop;E.scrollLeft=this.scrollLeft;E.sel=this.sel;E.extend=!1;g&&(E.history.undoDepth=this.history.undoDepth,E.setHistory(this.getHistory()));return E},linkedDoc:function(g){g||(g={});var E=this.first,V=this.first+this.size;null!=g.from&&g.from>E&&(E=g.from);null!=g.to&&g.to<V&&(V=g.to);E=new Gh(Va(this,E,V),g.mode||this.modeOption,E,this.lineSep,this.direction);g.sharedHist&&(E.history=this.history);(this.linked||(this.linked=[])).push({doc:E,sharedHist:g.sharedHist});E.linked=
[{doc:this,isParent:!0,sharedHist:g.sharedHist}];g=Uf(this);for(V=0;V<g.length;V++){var S=g[V],ea=S.find(),Ja=E.clipPos(ea.from);ea=E.clipPos(ea.to);Ga(Ja,ea)&&(Ja=jf(E,Ja,ea,S.primary,S.primary.type),S.markers.push(Ja),Ja.parent=S)}return E},unlinkDoc:function(g){g instanceof Je&&(g=g.doc);if(this.linked)for(var E=0;E<this.linked.length;++E)if(this.linked[E].doc==g){this.linked.splice(E,1);g.unlinkDoc(this);sg(Uf(this));break}if(g.history==this.history){var V=[g.id];Db(g,function(S){return V.push(S.id)},
!0);g.history=new be(null);g.history.done=$g(this.history.done,V);g.history.undone=$g(this.history.undone,V)}},iterLinkedDocs:function(g){Db(this,g)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(g){return this.lineSep?g.split(this.lineSep):gf(g)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:qe(function(g){"rtl"!=g&&(g="ltr");g!=this.direction&&(this.direction=g,this.iter(function(E){return E.order=null}),this.cm&&yd(this.cm))})});
Gh.prototype.eachLine=Gh.prototype.iter;for(var oj=0,pj=!1,pi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",
224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Fj=0;10>Fj;Fj++)pi[Fj+48]=pi[Fj+96]=String(Fj);for(var dj=65;90>=dj;dj++)pi[dj]=String.fromCharCode(dj);for(var Wi=1;12>=Wi;Wi++)pi[Wi+111]=pi[Wi+63235]="F"+Wi;var Pi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore",
"Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter",
"Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore",
"Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save",
"Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Pi["default"]=Ig?Pi.macDefault:Pi.pcDefault;var qj={selectAll:Rb,singleSelection:function(g){return g.setSelection(g.getCursor("anchor"),g.getCursor("head"),
Gd)},killLine:function(g){return Fh(g,function(E){if(E.empty()){var V=qa(g.doc,E.head.line).text.length;return E.head.ch==V&&E.head.line<g.lastLine()?{from:E.head,to:ja(E.head.line+1,0)}:{from:E.head,to:ja(E.head.line,V)}}return{from:E.from(),to:E.to()}})},deleteLine:function(g){return Fh(g,function(E){return{from:ja(E.from().line,0),to:Fb(g.doc,ja(E.to().line+1,0))}})},delLineLeft:function(g){return Fh(g,function(E){return{from:ja(E.from().line,0),to:E.from()}})},delWrappedLineLeft:function(g){return Fh(g,
function(E){var V=g.charCoords(E.head,"div").top+5;return{from:g.coordsChar({left:0,top:V},"div"),to:E.from()}})},delWrappedLineRight:function(g){return Fh(g,function(E){var V=g.charCoords(E.head,"div").top+5;V=g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:V},"div");return{from:E.from(),to:V}})},undo:function(g){return g.undo()},redo:function(g){return g.redo()},undoSelection:function(g){return g.undoSelection()},redoSelection:function(g){return g.redoSelection()},goDocStart:function(g){return g.extendSelection(ja(g.firstLine(),
0))},goDocEnd:function(g){return g.extendSelection(ja(g.lastLine()))},goLineStart:function(g){return g.extendSelectionsBy(function(E){return Of(g,E.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(g){return g.extendSelectionsBy(function(E){return Kf(g,E.head)},{origin:"+move",bias:1})},goLineEnd:function(g){return g.extendSelectionsBy(function(E){E=E.head.line;var V=qa(g.doc,E);var S=V;for(var ea;ea=lb(S,!1);)S=ea.find(1,!0).line;S!=V&&(E=ta(S));return Ee(!0,g,V,E,-1)},{origin:"+move",
bias:-1})},goLineRight:function(g){return g.extendSelectionsBy(function(E){E=g.cursorCoords(E.head,"div").top+5;return g.coordsChar({left:g.display.lineDiv.offsetWidth+100,top:E},"div")},nd)},goLineLeft:function(g){return g.extendSelectionsBy(function(E){E=g.cursorCoords(E.head,"div").top+5;return g.coordsChar({left:0,top:E},"div")},nd)},goLineLeftSmart:function(g){return g.extendSelectionsBy(function(E){var V=g.cursorCoords(E.head,"div").top+5;V=g.coordsChar({left:0,top:V},"div");return V.ch<g.getLine(V.line).search(/\S/)?
Kf(g,E.head):V},nd)},goLineUp:function(g){return g.moveV(-1,"line")},goLineDown:function(g){return g.moveV(1,"line")},goPageUp:function(g){return g.moveV(-1,"page")},goPageDown:function(g){return g.moveV(1,"page")},goCharLeft:function(g){return g.moveH(-1,"char")},goCharRight:function(g){return g.moveH(1,"char")},goColumnLeft:function(g){return g.moveH(-1,"column")},goColumnRight:function(g){return g.moveH(1,"column")},goWordLeft:function(g){return g.moveH(-1,"word")},goGroupRight:function(g){return g.moveH(1,
"group")},goGroupLeft:function(g){return g.moveH(-1,"group")},goWordRight:function(g){return g.moveH(1,"word")},delCharBefore:function(g){return g.deleteH(-1,"codepoint")},delCharAfter:function(g){return g.deleteH(1,"char")},delWordBefore:function(g){return g.deleteH(-1,"word")},delWordAfter:function(g){return g.deleteH(1,"word")},delGroupBefore:function(g){return g.deleteH(-1,"group")},delGroupAfter:function(g){return g.deleteH(1,"group")},indentAuto:function(g){return g.indentSelection("smart")},
indentMore:function(g){return g.indentSelection("add")},indentLess:function(g){return g.indentSelection("subtract")},insertTab:function(g){return g.replaceSelection("\t")},insertSoftTab:function(g){for(var E=[],V=g.listSelections(),S=g.options.tabSize,ea=0;ea<V.length;ea++){var Ja=V[ea].from();Ja=c(g.getLine(Ja.line),Ja.ch,S);E.push(z(S-Ja%S))}g.replaceSelections(E)},defaultTab:function(g){g.somethingSelected()?g.indentSelection("add"):g.execCommand("insertTab")},transposeChars:function(g){return td(g,
function(){for(var E=g.listSelections(),V=[],S=0;S<E.length;S++)if(E[S].empty()){var ea=E[S].head,Ja=qa(g.doc,ea.line).text;if(Ja)if(ea.ch==Ja.length&&(ea=new ja(ea.line,ea.ch-1)),0<ea.ch)ea=new ja(ea.line,ea.ch+1),g.replaceRange(Ja.charAt(ea.ch-1)+Ja.charAt(ea.ch-2),ja(ea.line,ea.ch-2),ea,"+transpose");else if(ea.line>g.doc.first){var Xa=qa(g.doc,ea.line-1).text;Xa&&(ea=new ja(ea.line,1),g.replaceRange(Ja.charAt(0)+g.doc.lineSeparator()+Xa.charAt(Xa.length-1),ja(ea.line-1,Xa.length-1),ea,"+transpose"))}V.push(new ig(ea,
ea))}g.setSelections(V)})},newlineAndIndent:function(g){return td(g,function(){for(var E=g.listSelections(),V=E.length-1;0<=V;V--)g.replaceRange(g.doc.lineSeparator(),E[V].anchor,E[V].head,"+input");E=g.listSelections();for(V=0;V<E.length;V++)g.indentLine(E[V].from().line,null,!0);Eb(g)})},openLine:function(g){return g.replaceSelection("\n","start")},toggleOverwrite:function(g){return g.toggleOverwrite()}},pk=new xc,ik=null,Zj=function(g,E,V){this.time=g;this.pos=E;this.button=V};Zj.prototype.compare=
function(g,E,V){return this.time+400>g&&0==Ga(E,this.pos)&&V==this.button};var Gj,Zi,bj={toString:function(){return"CodeMirror.Init"}},Ek={},tj={};Je.defaults=Ek;Je.optionHandlers=tj;var jk=[];Je.defineInitHook=function(g){return jk.push(g)};var ai=null,Jg=function(g){this.cm=g;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new xc;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};Jg.prototype.init=function(g){function E(ab){for(ab=
ab.target;ab;ab=ab.parentNode){if(ab==Xa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ab.className))break}return!1}function V(ab){if(E(ab)&&!w(Ja,ab)){if(Ja.somethingSelected())ai={lineWise:!1,text:Ja.getSelections()},"cut"==ab.type&&Ja.replaceSelection("",null,"cut");else if(Ja.options.lineWiseCopyCut){var xb=nf(Ja);ai={lineWise:!0,text:xb.text};"cut"==ab.type&&Ja.operation(function(){Ja.setSelections(xb.ranges,0,Gd);Ja.replaceSelection("",null,"cut")})}else return;if(ab.clipboardData){ab.clipboardData.clearData();
var Qb=ai.text.join("\n");ab.clipboardData.setData("Text",Qb);if(ab.clipboardData.getData("Text")==Qb){ab.preventDefault();return}}var gc=Bh();ab=gc.firstChild;Ja.display.lineSpace.insertBefore(gc,Ja.display.lineSpace.firstChild);ab.value=ai.text.join("\n");var Pc=k();hc(ab);setTimeout(function(){Ja.display.lineSpace.removeChild(gc);Pc.focus();Pc==Xa&&ea.showPrimarySelection()},50)}}var S=this,ea=this,Ja=ea.cm,Xa=ea.div=g.lineDiv;Xa.contentEditable=!0;xf(Xa,Ja.options.spellcheck,Ja.options.autocorrect,
Ja.options.autocapitalize);Ke(Xa,"paste",function(ab){!E(ab)||w(Ja,ab)||mf(ab,Ja)||11>=Cg&&setTimeout(Dd(Ja,function(){return S.updateFromDOM()}),20)});Ke(Xa,"compositionstart",function(ab){S.composing={data:ab.data,done:!1}});Ke(Xa,"compositionupdate",function(ab){S.composing||(S.composing={data:ab.data,done:!1})});Ke(Xa,"compositionend",function(ab){S.composing&&(ab.data!=S.composing.data&&S.readFromDOMSoon(),S.composing.done=!0)});Ke(Xa,"touchstart",function(){return ea.forceCompositionEnd()});
Ke(Xa,"input",function(){S.composing||S.readFromDOMSoon()});Ke(Xa,"copy",V);Ke(Xa,"cut",V)};Jg.prototype.screenReaderLabelChanged=function(g){g?this.div.setAttribute("aria-label",g):this.div.removeAttribute("aria-label")};Jg.prototype.prepareSelection=function(){var g=Xc(this.cm,!1);g.focus=k()==this.div;return g};Jg.prototype.showSelection=function(g,E){g&&this.cm.display.view.length&&((g.focus||E)&&this.showPrimarySelection(),this.showMultipleSelections(g))};Jg.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};
Jg.prototype.showPrimarySelection=function(){var g=this.getSelection(),E=this.cm,V=E.doc.sel.primary(),S=V.from();V=V.to();if(E.display.viewTo==E.display.viewFrom||S.line>=E.display.viewTo||V.line<E.display.viewFrom)g.removeAllRanges();else{var ea=Kg(E,g.anchorNode,g.anchorOffset),Ja=Kg(E,g.focusNode,g.focusOffset);if(!ea||ea.bad||!Ja||Ja.bad||0!=Ga(pb(ea,Ja),S)||0!=Ga(nb(ea,Ja),V))if(ea=E.display.view,S=S.line>=E.display.viewFrom&&ih(E,S)||{node:ea[0].measure.map[2],offset:0},V=V.line<E.display.viewTo&&
ih(E,V),V||(V=ea[ea.length-1].measure,V=V.maps?V.maps[V.maps.length-1]:V.map,V={node:V[V.length-1],offset:V[V.length-2]-V[V.length-3]}),S&&V){ea=g.rangeCount&&g.getRangeAt(0);try{var Xa=bc(S.node,S.offset,V.offset,V.node)}catch(ab){}Xa&&(!lg&&E.state.focused?(g.collapse(S.node,S.offset),Xa.collapsed||(g.removeAllRanges(),g.addRange(Xa))):(g.removeAllRanges(),g.addRange(Xa)),ea&&null==g.anchorNode?g.addRange(ea):lg&&this.startGracePeriod());this.rememberSelection()}else g.removeAllRanges()}};Jg.prototype.startGracePeriod=
function(){var g=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){g.gracePeriod=!1;g.selectionChanged()&&g.cm.operation(function(){return g.cm.curOp.selectionChanged=!0})},20)};Jg.prototype.showMultipleSelections=function(g){n(this.cm.display.cursorDiv,g.cursors);n(this.cm.display.selectionDiv,g.selection)};Jg.prototype.rememberSelection=function(){var g=this.getSelection();this.lastAnchorNode=g.anchorNode;this.lastAnchorOffset=g.anchorOffset;this.lastFocusNode=g.focusNode;
this.lastFocusOffset=g.focusOffset};Jg.prototype.selectionInEditor=function(){var g=this.getSelection();if(!g.rangeCount)return!1;g=g.getRangeAt(0).commonAncestorContainer;return h(this.div,g)};Jg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&k()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};Jg.prototype.blur=function(){this.div.blur()};Jg.prototype.getField=function(){return this.div};Jg.prototype.supportsTouch=function(){return!0};
Jg.prototype.receivedFocus=function(){function g(){V.cm.state.focused&&(V.pollSelection(),V.polling.set(V.cm.options.pollInterval,g))}var E=this,V=this;this.selectionInEditor()?setTimeout(function(){return E.pollSelection()},20):td(this.cm,function(){return V.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,g)};Jg.prototype.selectionChanged=function(){var g=this.getSelection();return g.anchorNode!=this.lastAnchorNode||g.anchorOffset!=this.lastAnchorOffset||g.focusNode!=
this.lastFocusNode||g.focusOffset!=this.lastFocusOffset};Jg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var g=this.getSelection(),E=this.cm;if(Ji&&xi&&this.cm.display.gutterSpecs.length&&Tg(g.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var V=Kg(E,g.anchorNode,g.anchorOffset),S=Kg(E,g.focusNode,g.focusOffset);V&&S&&
td(E,function(){og(E.doc,eg(V,S),Gd);if(V.bad||S.bad)E.curOp.selectionChanged=!0})}}};Jg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var g=this.cm,E=g.display,V=g.doc.sel.primary(),S=V.from(),ea=V.to();0==S.ch&&S.line>g.firstLine()&&(S=ja(S.line-1,qa(g.doc,S.line-1).length));ea.ch==qa(g.doc,ea.line).text.length&&ea.line<g.lastLine()&&(ea=ja(ea.line+1,0));if(S.line<E.viewFrom||ea.line>E.viewTo-1)return!1;var Ja;S.line==E.viewFrom||
0==(Ja=Oa(g,S.line))?(V=ta(E.view[0].line),Ja=E.view[0].node):(V=ta(E.view[Ja].line),Ja=E.view[Ja-1].node.nextSibling);var Xa=Oa(g,ea.line);Xa==E.view.length-1?(ea=E.viewTo-1,E=E.lineDiv.lastChild):(ea=ta(E.view[Xa+1].line)-1,E=E.view[Xa+1].node.previousSibling);if(!Ja)return!1;E=g.doc.splitLines(Yh(g,Ja,E,V,ea));for(Ja=Ha(g.doc,ja(V,0),ja(ea,qa(g.doc,ea).text.length));1<E.length&&1<Ja.length;)if(u(E)==u(Ja))E.pop(),Ja.pop(),ea--;else if(E[0]==Ja[0])E.shift(),Ja.shift(),V++;else break;var ab=0;Xa=
0;for(var xb=E[0],Qb=Ja[0],gc=Math.min(xb.length,Qb.length);ab<gc&&xb.charCodeAt(ab)==Qb.charCodeAt(ab);)++ab;xb=u(E);Qb=u(Ja);for(gc=Math.min(xb.length-(1==E.length?ab:0),Qb.length-(1==Ja.length?ab:0));Xa<gc&&xb.charCodeAt(xb.length-Xa-1)==Qb.charCodeAt(Qb.length-Xa-1);)++Xa;if(1==E.length&&1==Ja.length&&V==S.line)for(;ab&&ab>S.ch&&xb.charCodeAt(xb.length-Xa-1)==Qb.charCodeAt(Qb.length-Xa-1);)ab--,Xa++;E[E.length-1]=xb.slice(0,xb.length-Xa).replace(/^\u200b+/,"");E[0]=E[0].slice(ab).replace(/\u200b+$/,
"");S=ja(V,ab);V=ja(ea,Ja.length?u(Ja).length-Xa:0);if(1<E.length||E[0]||Ga(S,V))return rf(g.doc,E,S,V,"+input"),!0};Jg.prototype.ensurePolled=function(){this.forceCompositionEnd()};Jg.prototype.reset=function(){this.forceCompositionEnd()};Jg.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Jg.prototype.readFromDOMSoon=function(){var g=this;null==this.readDOMTimeout&&(this.readDOMTimeout=
setTimeout(function(){g.readDOMTimeout=null;if(g.composing)if(g.composing.done)g.composing=null;else return;g.updateFromDOM()},80))};Jg.prototype.updateFromDOM=function(){var g=this;!this.cm.isReadOnly()&&this.pollContent()||td(this.cm,function(){return $a(g.cm)})};Jg.prototype.setUneditable=function(g){g.contentEditable="false"};Jg.prototype.onKeyPress=function(g){0==g.charCode||this.composing||(g.preventDefault(),this.cm.isReadOnly()||Dd(this.cm,pg)(this.cm,String.fromCharCode(null==g.charCode?
g.keyCode:g.charCode),0))};Jg.prototype.readOnlyChanged=function(g){this.div.contentEditable=String("nocursor"!=g)};Jg.prototype.onContextMenu=function(){};Jg.prototype.resetPosition=function(){};Jg.prototype.needsContentAttribute=!0;var mh=function(g){this.cm=g;this.prevInput="";this.pollingFast=!1;this.polling=new xc;this.hasSelection=!1;this.composing=null};mh.prototype.init=function(g){function E(Xa){if(!w(ea,Xa)){if(ea.somethingSelected())ai={lineWise:!1,text:ea.getSelections()};else if(ea.options.lineWiseCopyCut){var ab=
nf(ea);ai={lineWise:!0,text:ab.text};"cut"==Xa.type?ea.setSelections(ab.ranges,null,Gd):(S.prevInput="",Ja.value=ab.text.join("\n"),hc(Ja))}else return;"cut"==Xa.type&&(ea.state.cutIncoming=+new Date)}}var V=this,S=this,ea=this.cm;this.createField(g);var Ja=this.textarea;g.wrapper.insertBefore(this.wrapper,g.wrapper.firstChild);ti&&(Ja.style.width="0px");Ke(Ja,"input",function(){Yf&&9<=Cg&&V.hasSelection&&(V.hasSelection=null);S.poll()});Ke(Ja,"paste",function(Xa){w(ea,Xa)||mf(Xa,ea)||(ea.state.pasteIncoming=
+new Date,S.fastPoll())});Ke(Ja,"cut",E);Ke(Ja,"copy",E);Ke(g.scroller,"paste",function(Xa){if(!md(g,Xa)&&!w(ea,Xa))if(Ja.dispatchEvent){var ab=new Event("paste");ab.clipboardData=Xa.clipboardData;Ja.dispatchEvent(ab)}else ea.state.pasteIncoming=+new Date,S.focus()});Ke(g.lineSpace,"selectstart",function(Xa){md(g,Xa)||ka(Xa)});Ke(Ja,"compositionstart",function(){var Xa=ea.getCursor("from");S.composing&&S.composing.range.clear();S.composing={start:Xa,range:ea.markText(Xa,ea.getCursor("to"),{className:"CodeMirror-composing"})}});
Ke(Ja,"compositionend",function(){S.composing&&(S.poll(),S.composing.range.clear(),S.composing=null)})};mh.prototype.createField=function(g){this.wrapper=Bh();this.textarea=this.wrapper.firstChild};mh.prototype.screenReaderLabelChanged=function(g){g?this.textarea.setAttribute("aria-label",g):this.textarea.removeAttribute("aria-label")};mh.prototype.prepareSelection=function(){var g=this.cm,E=g.display,V=g.doc,S=Xc(g);if(g.options.moveInputWithCursor){g=If(g,V.sel.primary().head,"div");V=E.wrapper.getBoundingClientRect();
var ea=E.lineDiv.getBoundingClientRect();S.teTop=Math.max(0,Math.min(E.wrapper.clientHeight-10,g.top+ea.top-V.top));S.teLeft=Math.max(0,Math.min(E.wrapper.clientWidth-10,g.left+ea.left-V.left))}return S};mh.prototype.showSelection=function(g){var E=this.cm.display;n(E.cursorDiv,g.cursors);n(E.selectionDiv,g.selection);null!=g.teTop&&(this.wrapper.style.top=g.teTop+"px",this.wrapper.style.left=g.teLeft+"px")};mh.prototype.reset=function(g){if(!this.contextMenuPending&&!this.composing){var E=this.cm;
E.somethingSelected()?(this.prevInput="",g=E.getSelection(),this.textarea.value=g,E.state.focused&&hc(this.textarea),Yf&&9<=Cg&&(this.hasSelection=g)):g||(this.prevInput=this.textarea.value="",Yf&&9<=Cg&&(this.hasSelection=null))}};mh.prototype.getField=function(){return this.textarea};mh.prototype.supportsTouch=function(){return!1};mh.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Ci||k()!=this.textarea))try{this.textarea.focus()}catch(g){}};mh.prototype.blur=function(){this.textarea.blur()};
mh.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};mh.prototype.receivedFocus=function(){this.slowPoll()};mh.prototype.slowPoll=function(){var g=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){g.poll();g.cm.state.focused&&g.slowPoll()})};mh.prototype.fastPoll=function(){function g(){V.poll()||E?(V.pollingFast=!1,V.slowPoll()):(E=!0,V.polling.set(60,g))}var E=!1,V=this;V.pollingFast=!0;V.polling.set(20,g)};mh.prototype.poll=function(){var g=
this,E=this.cm,V=this.textarea,S=this.prevInput;if(this.contextMenuPending||!E.state.focused||yg(V)&&!S&&!this.composing||E.isReadOnly()||E.options.disableInput||E.state.keySeq)return!1;var ea=V.value;if(ea==S&&!E.somethingSelected())return!1;if(Yf&&9<=Cg&&this.hasSelection===ea||Ig&&/[\uf700-\uf7ff]/.test(ea))return E.display.input.reset(),!1;if(E.doc.sel==E.display.selForContextMenu){var Ja=ea.charCodeAt(0);8203!=Ja||S||(S="");if(8666==Ja)return this.reset(),this.cm.execCommand("undo")}var Xa=
0;for(Ja=Math.min(S.length,ea.length);Xa<Ja&&S.charCodeAt(Xa)==ea.charCodeAt(Xa);)++Xa;td(E,function(){pg(E,ea.slice(Xa),S.length-Xa,null,g.composing?"*compose":null);1E3<ea.length||-1<ea.indexOf("\n")?V.value=g.prevInput="":g.prevInput=ea;g.composing&&(g.composing.range.clear(),g.composing.range=E.markText(g.composing.start,E.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};mh.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};mh.prototype.onKeyPress=
function(){Yf&&9<=Cg&&(this.hasSelection=null);this.fastPoll()};mh.prototype.onContextMenu=function(g){function E(){if(null!=Xa.selectionStart){var ad=ea.somethingSelected(),Ld=""+(ad?Xa.value:"");Xa.value="";Xa.value=Ld;S.prevInput=ad?"":"";Xa.selectionStart=1;Xa.selectionEnd=Ld.length;Ja.selForContextMenu=ea.doc.sel}}function V(){if(S.contextMenuPending==V&&(S.contextMenuPending=!1,S.wrapper.style.cssText=gc,Xa.style.cssText=Qb,Yf&&9>Cg&&Ja.scrollbars.setScrollTop(Ja.scroller.scrollTop=xb),null!=
Xa.selectionStart)){(!Yf||Yf&&9>Cg)&&E();var ad=0,Ld=function(){Ja.selForContextMenu==ea.doc.sel&&0==Xa.selectionStart&&0<Xa.selectionEnd&&""==S.prevInput?Dd(ea,Rb)(ea):10>ad++?Ja.detectingSelectAll=setTimeout(Ld,500):(Ja.selForContextMenu=null,Ja.input.reset())};Ja.detectingSelectAll=setTimeout(Ld,200)}}var S=this,ea=S.cm,Ja=ea.display,Xa=S.textarea;S.contextMenuPending&&S.contextMenuPending();var ab=ha(ea,g),xb=Ja.scroller.scrollTop;if(ab&&!wh){ea.options.resetSelectionOnContextMenu&&-1==ea.doc.sel.contains(ab)&&
Dd(ea,og)(ea.doc,eg(ab),Gd);var Qb=Xa.style.cssText,gc=S.wrapper.style.cssText;ab=S.wrapper.offsetParent.getBoundingClientRect();S.wrapper.style.cssText="position: static";Xa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(g.clientY-ab.top-5)+"px; left: "+(g.clientX-ab.left-5)+"px;\n      z-index: 1000; background: "+(Yf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";
if(rh)var Pc=window.scrollY;Ja.input.focus();rh&&window.scrollTo(null,Pc);Ja.input.reset();ea.somethingSelected()||(Xa.value=S.prevInput=" ");S.contextMenuPending=V;Ja.selForContextMenu=ea.doc.sel;clearTimeout(Ja.detectingSelectAll);Yf&&9<=Cg&&E();if(vb){wa(g);var Wc=function(){X(window,"mouseup",Wc);setTimeout(V,20)};Ke(window,"mouseup",Wc)}else setTimeout(V,50)}};mh.prototype.readOnlyChanged=function(g){g||this.reset();this.textarea.disabled="nocursor"==g;this.textarea.readOnly=!!g};mh.prototype.setUneditable=
function(){};mh.prototype.needsContentAttribute=!1;(function(g){function E(S,ea,Ja,Xa){g.defaults[S]=ea;Ja&&(V[S]=Xa?function(ab,xb,Qb){Qb!=bj&&Ja(ab,xb,Qb)}:Ja)}var V=g.optionHandlers;g.defineOption=E;g.Init=bj;E("value","",function(S,ea){return S.setValue(ea)},!0);E("mode",null,function(S,ea){S.doc.modeOption=ea;Fg(S)},!0);E("indentUnit",2,Fg,!0);E("indentWithTabs",!1);E("smartIndent",!0);E("tabSize",4,function(S){vg(S);Vc(S);$a(S)},!0);E("lineSeparator",null,function(S,ea){if(S.doc.lineSep=ea){var Ja=
[],Xa=S.doc.first;S.doc.iter(function(xb){for(var Qb=0;;){var gc=xb.text.indexOf(ea,Qb);if(-1==gc)break;Qb=gc+ea.length;Ja.push(ja(Xa,gc))}Xa++});for(var ab=Ja.length-1;0<=ab;ab--)rf(S.doc,ea,Ja[ab],ja(Ja[ab].line,Ja[ab].ch+ea.length))}});E("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(S,ea,Ja){S.state.specialChars=new RegExp(ea.source+(ea.test("\t")?"":"|\t"),"g");Ja!=bj&&S.refresh()});E("specialCharPlaceholder",ae,function(S){return S.refresh()},
!0);E("electricChars",!0);E("inputStyle",Ci?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);E("spellcheck",!1,function(S,ea){return S.getInputField().spellcheck=ea},!0);E("autocorrect",!1,function(S,ea){return S.getInputField().autocorrect=ea},!0);E("autocapitalize",!1,function(S,ea){return S.getInputField().autocapitalize=ea},!0);E("rtlMoveVisually",!na);E("wholeLineUpdateBefore",!0);E("theme","default",function(S){Cd(S);cg(S)},
!0);E("keyMap","default",function(S,ea,Ja){ea=Uh(ea);(Ja=Ja!=bj&&Uh(Ja))&&Ja.detach&&Ja.detach(S,ea);ea.attach&&ea.attach(S,Ja||null)});E("extraKeys",null);E("configureMouse",null);E("lineWrapping",!1,uf,!0);E("gutters",[],function(S,ea){S.display.gutterSpecs=ug(ea,S.options.lineNumbers);cg(S)},!0);E("fixedGutter",!0,function(S,ea){S.display.gutters.style.left=ea?jb(S.display)+"px":"0";S.refresh()},!0);E("coverGutterNextToScrollbar",!1,function(S){return wd(S)},!0);E("scrollbarStyle","native",function(S){Fd(S);
wd(S);S.display.scrollbars.setScrollTop(S.doc.scrollTop);S.display.scrollbars.setScrollLeft(S.doc.scrollLeft)},!0);E("lineNumbers",!1,function(S,ea){S.display.gutterSpecs=ug(S.options.gutters,ea);cg(S)},!0);E("firstLineNumber",1,cg,!0);E("lineNumberFormatter",function(S){return S},cg,!0);E("showCursorWhenSelecting",!1,Uc,!0);E("resetSelectionOnContextMenu",!0);E("lineWiseCopyCut",!0);E("pasteLinesPerSelection",!0);E("selectionsMayTouch",!1);E("readOnly",!1,function(S,ea){"nocursor"==ea&&(Gb(S),S.display.input.blur());
S.display.input.readOnlyChanged(ea)});E("screenReaderLabel",null,function(S,ea){S.display.input.screenReaderLabelChanged(""===ea?null:ea)});E("disableInput",!1,function(S,ea){ea||S.display.input.reset()},!0);E("dragDrop",!0,Ae);E("allowDropFileTypes",null);E("cursorBlinkRate",530);E("cursorScrollMargin",0);E("cursorHeight",1,Uc,!0);E("singleCursorHeightPerLine",!0,Uc,!0);E("workTime",100);E("workDelay",100);E("flattenSpans",!0,vg,!0);E("addModeClass",!1,vg,!0);E("pollInterval",100);E("undoDepth",
200,function(S,ea){return S.doc.history.undoDepth=ea});E("historyEventDelay",1250);E("viewportMargin",10,function(S){return S.refresh()},!0);E("maxHighlightLength",1E4,vg,!0);E("moveInputWithCursor",!0,function(S,ea){ea||S.display.input.resetPosition()});E("tabindex",null,function(S,ea){return S.display.input.getField().tabIndex=ea||""});E("autofocus",null);E("direction","ltr",function(S,ea){return S.doc.setDirection(ea)},!0);E("phrases",null)})(Je);(function(g){var E=g.optionHandlers,V=g.helpers=
{};g.prototype={constructor:g,focus:function(){window.focus();this.display.input.focus()},setOption:function(S,ea){var Ja=this.options,Xa=Ja[S];if(Ja[S]!=ea||"mode"==S)Ja[S]=ea,E.hasOwnProperty(S)&&Dd(this,E[S])(this,ea,Xa),P(this,"optionChange",this,S)},getOption:function(S){return this.options[S]},getDoc:function(){return this.doc},addKeyMap:function(S,ea){this.state.keyMaps[ea?"push":"unshift"](Uh(S))},removeKeyMap:function(S){for(var ea=this.state.keyMaps,Ja=0;Ja<ea.length;++Ja)if(ea[Ja]==S||
ea[Ja].name==S)return ea.splice(Ja,1),!0},addOverlay:fe(function(S,ea){var Ja=S.token?S:g.getMode(this.options,S);if(Ja.startState)throw Error("Overlays may not be stateful.");J(this.state.overlays,{mode:Ja,modeSpec:S,opaque:ea&&ea.opaque,priority:ea&&ea.priority||0},function(Xa){return Xa.priority});this.state.modeGen++;$a(this)}),removeOverlay:fe(function(S){for(var ea=this.state.overlays,Ja=0;Ja<ea.length;++Ja){var Xa=ea[Ja].modeSpec;if(Xa==S||"string"==typeof S&&Xa.name==S){ea.splice(Ja,1);this.state.modeGen++;
$a(this);break}}}),indentLine:fe(function(S,ea,Ja){"string"!=typeof ea&&"number"!=typeof ea&&(ea=null==ea?this.options.smartIndent?"smart":"prev":ea?"add":"subtract");oa(this.doc,S)&&Vf(this,S,ea,Ja)}),indentSelection:fe(function(S){for(var ea=this.doc.sel.ranges,Ja=-1,Xa=0;Xa<ea.length;Xa++){var ab=ea[Xa];if(ab.empty())ab.head.line>Ja&&(Vf(this,ab.head.line,S,!0),Ja=ab.head.line,Xa==this.doc.sel.primIndex&&Eb(this));else{var xb=ab.from();ab=ab.to();var Qb=Math.max(Ja,xb.line);Ja=Math.min(this.lastLine(),
ab.line-(ab.ch?0:1))+1;for(ab=Qb;ab<Ja;++ab)Vf(this,ab,S);ab=this.doc.sel.ranges;0==xb.ch&&ea.length==ab.length&&0<ab[Xa].from().ch&&ah(this.doc,Xa,new ig(xb,ab[Xa].to()),Gd)}}}),getTokenAt:function(S,ea){return Ab(this,S,ea)},getLineTokens:function(S,ea){return Ab(this,ja(S),ea,!0)},getTokenTypeAt:function(S){S=Fb(this.doc,S);var ea=Ac(this,qa(this.doc,S.line)),Ja=0,Xa=(ea.length-1)/2;S=S.ch;if(0==S)ea=ea[2];else for(;;){var ab=Ja+Xa>>1;if((ab?ea[2*ab-1]:0)>=S)Xa=ab;else if(ea[2*ab+1]<S)Ja=ab+1;
else{ea=ea[2*ab+2];break}}Ja=ea?ea.indexOf("overlay "):-1;return 0>Ja?ea:0==Ja?null:ea.slice(0,Ja-1)},getModeAt:function(S){var ea=this.doc.mode;return ea.innerMode?g.innerMode(ea,this.getTokenAt(S).state).mode:ea},getHelper:function(S,ea){return this.getHelpers(S,ea)[0]},getHelpers:function(S,ea){var Ja=[];if(!V.hasOwnProperty(ea))return Ja;var Xa=V[ea];S=this.getModeAt(S);if("string"==typeof S[ea])Xa[S[ea]]&&Ja.push(Xa[S[ea]]);else if(S[ea])for(var ab=0;ab<S[ea].length;ab++){var xb=Xa[S[ea][ab]];
xb&&Ja.push(xb)}else S.helperType&&Xa[S.helperType]?Ja.push(Xa[S.helperType]):Xa[S.name]&&Ja.push(Xa[S.name]);for(ea=0;ea<Xa._global.length;ea++)ab=Xa._global[ea],ab.pred(S,this)&&-1==b(Ja,ab.val)&&Ja.push(ab.val);return Ja},getStateAfter:function(S,ea){var Ja=this.doc;S=Math.max(Ja.first,Math.min(null==S?Ja.first+Ja.size-1:S,Ja.first+Ja.size-1));return yc(this,S+1,ea).state},cursorCoords:function(S,ea){var Ja=this.doc.sel.primary();S=null==S?Ja.head:"object"==typeof S?Fb(this.doc,S):S?Ja.from():
Ja.to();return If(this,S,ea||"page")},charCoords:function(S,ea){return Af(this,Fb(this.doc,S),ea||"page")},coordsChar:function(S,ea){S=Qf(this,S,ea||"page");return Zb(this,S.left,S.top)},lineAtHeight:function(S,ea){S=Qf(this,{top:S,left:0},ea||"page").top;return Qa(this.doc,S+this.display.viewOffset)},heightAtLine:function(S,ea,Ja){var Xa=!1;if("number"==typeof S){var ab=this.doc.first+this.doc.size-1;S<this.doc.first?S=this.doc.first:S>ab&&(S=ab,Xa=!0);S=qa(this.doc,S)}return $e(this,S,{top:0,left:0},
ea||"page",Ja||Xa).top+(Xa?this.doc.height-fd(S):0)},defaultTextHeight:function(){return Qe(this.display)},defaultCharWidth:function(){return cf(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(S,ea,Ja,Xa,ab){var xb=this.display;S=If(this,Fb(this.doc,S));var Qb=S.bottom,gc=S.left;ea.style.position="absolute";ea.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(ea);xb.sizer.appendChild(ea);if("over"==Xa)Qb=S.top;
else if("above"==Xa||"near"==Xa){var Pc=Math.max(xb.wrapper.clientHeight,this.doc.height),Wc=Math.max(xb.sizer.clientWidth,xb.lineSpace.clientWidth);("above"==Xa||S.bottom+ea.offsetHeight>Pc)&&S.top>ea.offsetHeight?Qb=S.top-ea.offsetHeight:S.bottom+ea.offsetHeight<=Pc&&(Qb=S.bottom);gc+ea.offsetWidth>Wc&&(gc=Wc-ea.offsetWidth)}ea.style.top=Qb+"px";ea.style.left=ea.style.right="";"right"==ab?(gc=xb.sizer.clientWidth-ea.offsetWidth,ea.style.right="0px"):("left"==ab?gc=0:"middle"==ab&&(gc=(xb.sizer.clientWidth-
ea.offsetWidth)/2),ea.style.left=gc+"px");Ja&&(S=Ka(this,{left:gc,top:Qb,right:gc+ea.offsetWidth,bottom:Qb+ea.offsetHeight}),null!=S.scrollTop&&Kc(this,S.scrollTop),null!=S.scrollLeft&&wc(this,S.scrollLeft))},triggerOnKeyDown:fe(Lb),triggerOnKeyPress:fe(Nc),triggerOnKeyUp:rc,triggerOnMouseDown:fe(Ra),execCommand:function(S){if(qj.hasOwnProperty(S))return qj[S].call(null,this)},triggerElectric:fe(function(S){Lf(this,S)}),findPosH:function(S,ea,Ja,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);S=Fb(this.doc,S);
for(var xb=0;xb<ea&&(S=hg(this.doc,S,ab,Ja,Xa),!S.hitSide);++xb);return S},moveH:fe(function(S,ea){var Ja=this;this.extendSelectionsBy(function(Xa){return Ja.display.shift||Ja.doc.extend||Xa.empty()?hg(Ja.doc,Xa.head,S,ea,Ja.options.rtlMoveVisually):0>S?Xa.from():Xa.to()},nd)}),deleteH:fe(function(S,ea){var Ja=this.doc;this.doc.sel.somethingSelected()?Ja.replaceSelection("",null,"+delete"):Fh(this,function(Xa){var ab=hg(Ja,Xa.head,S,ea,!1);return 0>S?{from:ab,to:Xa.head}:{from:Xa.head,to:ab}})}),
findPosV:function(S,ea,Ja,Xa){var ab=1;0>ea&&(ab=-1,ea=-ea);var xb=Fb(this.doc,S);for(S=0;S<ea&&(xb=If(this,xb,"div"),null==Xa?Xa=xb.left:xb.left=Xa,xb=Xg(this,xb,ab,Ja),!xb.hitSide);++S);return xb},moveV:fe(function(S,ea){var Ja=this,Xa=this.doc,ab=[],xb=!this.display.shift&&!Xa.extend&&Xa.sel.somethingSelected();Xa.extendSelectionsBy(function(gc){if(xb)return 0>S?gc.from():gc.to();var Pc=If(Ja,gc.head,"div");null!=gc.goalColumn&&(Pc.left=gc.goalColumn);ab.push(Pc.left);var Wc=Xg(Ja,Pc,S,ea);"page"==
ea&&gc==Xa.sel.primary()&&ib(Ja,Af(Ja,Wc,"div").top-Pc.top);return Wc},nd);if(ab.length)for(var Qb=0;Qb<Xa.sel.ranges.length;Qb++)Xa.sel.ranges[Qb].goalColumn=ab[Qb]}),findWordAt:function(S){var ea=qa(this.doc,S.line).text,Ja=S.ch,Xa=S.ch;if(ea){var ab=this.getHelper(S,"wordChars");"before"!=S.sticky&&Xa!=ea.length||!Ja?++Xa:--Ja;var xb=ea.charAt(Ja);for(xb=H(xb,ab)?function(Qb){return H(Qb,ab)}:/\s/.test(xb)?function(Qb){return/\s/.test(Qb)}:function(Qb){return!/\s/.test(Qb)&&!H(Qb)};0<Ja&&xb(ea.charAt(Ja-
1));)--Ja;for(;Xa<ea.length&&xb(ea.charAt(Xa));)++Xa}return new ig(ja(S.line,Ja),ja(S.line,Xa))},toggleOverwrite:function(S){if(null==S||S!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?f(this.display.cursorDiv,"CodeMirror-overwrite"):Yb(this.display.cursorDiv,"CodeMirror-overwrite"),P(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==k()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:fe(function(S,
ea){Ib(this,S,ea)}),getScrollInfo:function(){var S=this.display.scroller;return{left:S.scrollLeft,top:S.scrollTop,height:S.scrollHeight-Pd(this)-this.display.barHeight,width:S.scrollWidth-Pd(this)-this.display.barWidth,clientHeight:Ce(this),clientWidth:ee(this)}},scrollIntoView:fe(function(S,ea){null==S?(S={from:this.doc.sel.primary().head,to:null},null==ea&&(ea=this.options.cursorScrollMargin)):"number"==typeof S?S={from:ja(S,0),to:null}:null==S.from&&(S={from:S,to:null});S.to||(S.to=S.from);S.margin=
ea||0;null!=S.from.line?(Nb(this),this.curOp.scrollToPos=S):kc(this,S.from,S.to,S.margin)}),setSize:fe(function(S,ea){var Ja=this,Xa=function(xb){return"number"==typeof xb||/^\d+$/.test(String(xb))?xb+"px":xb};null!=S&&(this.display.wrapper.style.width=Xa(S));null!=ea&&(this.display.wrapper.style.height=Xa(ea));this.options.lineWrapping&&qc(this);var ab=this.display.viewFrom;this.doc.iter(ab,this.display.viewTo,function(xb){if(xb.widgets)for(var Qb=0;Qb<xb.widgets.length;Qb++)if(xb.widgets[Qb].noHScroll){ub(Ja,
ab,"widget");break}++ab});this.curOp.forceUpdate=!0;P(this,"refresh",this)}),operation:function(S){return td(this,S)},startOperation:function(){return he(this)},endOperation:function(){return se(this)},refresh:fe(function(){var S=this.display.cachedTextHeight;$a(this);this.curOp.forceUpdate=!0;Vc(this);Ib(this,this.doc.scrollLeft,this.doc.scrollTop);Vg(this.display);(null==S||.5<Math.abs(S-Qe(this.display))||this.options.lineWrapping)&&Xb(this);P(this,"refresh",this)}),swapDoc:fe(function(S){var ea=
this.doc;ea.cm=null;this.state.selectingText&&this.state.selectingText();ic(this,S);Vc(this);this.display.input.reset();Ib(this,S.scrollLeft,S.scrollTop);this.curOp.forceScroll=!0;ve(this,"swapDoc",this,ea);return ea}),phrase:function(S){var ea=this.options.phrases;return ea&&Object.prototype.hasOwnProperty.call(ea,S)?ea[S]:S},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},
getGutterElement:function(){return this.display.gutters}};U(g);g.registerHelper=function(S,ea,Ja){V.hasOwnProperty(S)||(V[S]=g[S]={_global:[]});V[S][ea]=Ja};g.registerGlobalHelper=function(S,ea,Ja,Xa){g.registerHelper(S,ea,Xa);V[S]._global.push({pred:Ja,val:Xa})}})(Je);var Fk="iter insert remove copy getEditor constructor".split(" "),ej;for(ej in Gh.prototype)Gh.prototype.hasOwnProperty(ej)&&0>b(Fk,ej)&&(Je.prototype[ej]=function(g){return function(){return g.apply(this.doc,arguments)}}(Gh.prototype[ej]));
U(Gh);Je.inputStyles={textarea:mh,contenteditable:Jg};Je.defineMode=function(g){Je.defaults.mode||"null"==g||(Je.defaults.mode=g);hb.apply(this,arguments)};Je.defineMIME=function(g,E){Pe[g]=E};Je.defineMode("null",function(){return{token:function(g){return g.skipToEnd()}}});Je.defineMIME("text/plain","null");Je.defineExtension=function(g,E){Je.prototype[g]=E};Je.defineDocExtension=function(g,E){Gh.prototype[g]=E};Je.fromTextArea=function(g,E){function V(){g.value=ab.getValue()}E=E?a(E):{};E.value=
g.value;!E.tabindex&&g.tabIndex&&(E.tabindex=g.tabIndex);!E.placeholder&&g.placeholder&&(E.placeholder=g.placeholder);if(null==E.autofocus){var S=k();E.autofocus=S==g||null!=g.getAttribute("autofocus")&&S==document.body}if(g.form&&(Ke(g.form,"submit",V),!E.leaveSubmitMethodAlone)){var ea=g.form;var Ja=ea.submit;try{var Xa=ea.submit=function(){V();ea.submit=Ja;ea.submit();ea.submit=Xa}}catch(xb){}}E.finishInit=function(xb){xb.save=V;xb.getTextArea=function(){return g};xb.toTextArea=function(){xb.toTextArea=
isNaN;V();g.parentNode.removeChild(xb.getWrapperElement());g.style.display="";g.form&&(X(g.form,"submit",V),E.leaveSubmitMethodAlone||"function"!=typeof g.form.submit||(g.form.submit=Ja))}};g.style.display="none";var ab=Je(function(xb){return g.parentNode.insertBefore(xb,g.nextSibling)},E);return ab};(function(g){g.off=X;g.on=Ke;g.wheelEventPixels=dg;g.Doc=Gh;g.splitLines=gf;g.countColumn=c;g.findColumn=m;g.isWordChar=q;g.Pass=gd;g.signal=P;g.Line=Qi;g.changeEnd=Mf;g.scrollbarModel=ok;g.Pos=ja;g.cmpPos=
Ga;g.modes=ne;g.mimeModes=Pe;g.resolveMode=La;g.getMode=pa;g.modeExtensions=oe;g.extendMode=Da;g.copyState=Ma;g.startState=Aa;g.innerMode=ua;g.commands=qj;g.keyMap=Pi;g.keyName=xg;g.isModifierKey=ff;g.lookupKey=Hg;g.normalizeKeyMap=ef;g.StringStream=wf;g.SharedTextMarker=Yi;g.TextMarker=ni;g.LineWidget=vi;g.e_preventDefault=ka;g.e_stopPropagation=da;g.e_stop=wa;g.addClass=f;g.contains=h;g.rmClass=Yb;g.keyNames=pi})(Je);Je.version="5.65.3";return Je})};
shadow$provide[52]=function(sa,F,ob,G){(function(y){"object"===typeof G&&"object"===typeof ob?y(F(51)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],y):y(CodeMirror)})(function(y){y.defineMode("clojure",function(p){function n(A,x){if(A.eatSpace()||A.eat(","))return["space",null];if(A.match(u))return[null,"number"];if(A.match(C))return[null,"string-2"];if(A.eat(/^"/))return(x.tokenize=v)(A,x);if(A.eat(/^[(\[{]/))return["open","bracket"];if(A.eat(/^[)\]}]/))return["close","bracket"];
if(A.eat(/^;/))return A.skipToEnd(),["space","comment"];if(A.eat(/^[#'@^`~]/))return[null,"meta"];var q=A.match(J);q=q&&q[0];return q?"comment"===q&&"("===x.lastToken?(x.tokenize=r)(A,x):k(q,a)||":"===q.charAt(0)?["symbol","atom"]:k(q,c)||k(q,b)?["symbol","keyword"]:"("===x.lastToken?["symbol","builtin"]:["symbol","variable"]:(A.next(),A.eatWhile(function(H){return!k(H,z)}),[null,"error"])}function v(A,x){for(var q=!1,H;H=A.next();){if('"'===H&&!q){x.tokenize=n;break}q=!q&&"\\"===H}return[null,"string"]}
function r(A,x){for(var q=1,H;H=A.next();)if(")"===H&&q--,"("===H&&q++,0===q){A.backUp(1);x.tokenize=n;break}return["space","comment"]}function h(A){for(var x={},q=0;q<A.length;++q)x[A[q]]=!0;return x}function k(A,x){if(x instanceof RegExp)return x.test(A);if(x instanceof Object)return x.propertyIsEnumerable(A)}var f=["false","nil","true"],e=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),d="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
y.registerHelper("hintWords","clojure",[].concat(f,e,d));var a=h(f),c=h(e),b=h(d),m=h("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
z=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,u=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,C=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,J=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:n}},token:function(A,x){A.sol()&&"number"!==typeof x.ctx.indentTo&&(x.ctx.indentTo=x.ctx.start+1);var q=x.tokenize(A,x),H=q[0];q=q[1];var M=A.current();"space"!==H&&("("===x.lastToken&&null===x.ctx.indentTo?"symbol"===H&&k(M,m)?x.ctx.indentTo=x.ctx.start+p.indentUnit:x.ctx.indentTo="next":"next"===x.ctx.indentTo&&(x.ctx.indentTo=A.column()),x.lastToken=M);"open"===H?x.ctx={prev:x.ctx,start:A.column(),indentTo:null}:
"close"===H&&(x.ctx=x.ctx.prev||x.ctx);return q},indent:function(A){var x=A.ctx.indentTo;return"number"===typeof x?x:A.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});y.defineMIME("text/x-clojure","clojure");y.defineMIME("text/x-clojurescript","clojure");y.defineMIME("application/edn","clojure")})};
shadow$provide[53]=function(sa,F,ob,G){(function(y){"object"==typeof G&&"object"==typeof ob?y(F(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],y):y(CodeMirror)})(function(y){var p={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},n={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};y.defineMode("xml",function(v,r){function h(W,X){function P(B){X.tokenize=B;return B(W,X)}var w=W.next();if("\x3c"==w){if(W.eat("!"))return W.eat("[")?W.match("CDATA[")?P(e("atom","]]\x3e")):null:W.match("--")?P(e("comment","--\x3e")):W.match("DOCTYPE",!0,!0)?(W.eatWhile(/[\w\._\-]/),P(d(1))):null;if(W.eat("?"))return W.eatWhile(/[\w\._\-]/),
X.tokenize=e("meta","?\x3e"),"meta";ba=W.eat("/")?"closeTag":"openTag";X.tokenize=k;return"tag bracket"}if("\x26"==w)return(W.eat("#")?W.eat("x")?W.eatWhile(/[a-fA-F\d]/)&&W.eat(";"):W.eatWhile(/[\d]/)&&W.eat(";"):W.eatWhile(/[\w\.\-:]/)&&W.eat(";"))?"atom":"error";W.eatWhile(/[^&<]/);return null}function k(W,X){var P=W.next();if("\x3e"==P||"/"==P&&W.eat("\x3e"))return X.tokenize=h,ba="\x3e"==P?"endTag":"selfcloseTag","tag bracket";if("\x3d"==P)return ba="equals",null;if("\x3c"==P)return X.tokenize=
h,X.state=z,X.tagName=X.tagStart=null,(W=X.tokenize(W,X))?W+" tag error":"tag error";if(/['"]/.test(P))return X.tokenize=f(P),X.stringStartCol=W.column(),X.tokenize(W,X);W.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function f(W){var X=function(P,w){for(;!P.eol();)if(P.next()==W){w.tokenize=k;break}return"string"};X.isInAttribute=!0;return X}function e(W,X){return function(P,w){for(;!P.eol();){if(P.match(X)){w.tokenize=h;break}P.next()}return W}}function d(W){return function(X,P){for(var w;null!=
(w=X.next());){if("\x3c"==w)return P.tokenize=d(W+1),P.tokenize(X,P);if("\x3e"==w)if(1==W){P.tokenize=h;break}else return P.tokenize=d(W-1),P.tokenize(X,P)}return"meta"}}function a(W){return W&&W.toLowerCase()}function c(W,X,P){this.prev=W.context;this.tagName=X||"";this.indent=W.indented;this.startOfLine=P;if(Z.doNotIndent.hasOwnProperty(X)||W.context&&W.context.noIndent)this.noIndent=!0}function b(W){W.context&&(W.context=W.context.prev)}function m(W,X){for(var P;W.context;){P=W.context.tagName;
if(!Z.contextGrabbers.hasOwnProperty(a(P))||!Z.contextGrabbers[a(P)].hasOwnProperty(a(X)))break;b(W)}}function z(W,X,P){return"openTag"==W?(P.tagStart=X.column(),u):"closeTag"==W?C:z}function u(W,X,P){if("word"==W)return P.tagName=X.current(),aa="tag",x;if(Z.allowMissingTagName&&"endTag"==W)return aa="tag bracket",x(W,X,P);aa="error";return u}function C(W,X,P){if("word"==W){W=X.current();P.context&&P.context.tagName!=W&&Z.implicitlyClosed.hasOwnProperty(a(P.context.tagName))&&b(P);if(P.context&&P.context.tagName==
W||!1===Z.matchClosing)return aa="tag",J;aa="tag error";return A}if(Z.allowMissingTagName&&"endTag"==W)return aa="tag bracket",J(W,X,P);aa="error";return A}function J(W,X,P){if("endTag"!=W)return aa="error",J;b(P);return z}function A(W,X,P){aa="error";return J(W,X,P)}function x(W,X,P){if("word"==W)return aa="attribute",q;if("endTag"==W||"selfcloseTag"==W){X=P.tagName;var w=P.tagStart;P.tagName=P.tagStart=null;"selfcloseTag"==W||Z.autoSelfClosers.hasOwnProperty(a(X))?m(P,X):(m(P,X),P.context=new c(P,
X,w==P.indented));return z}aa="error";return x}function q(W,X,P){if("equals"==W)return H;Z.allowMissing||(aa="error");return x(W,X,P)}function H(W,X,P){if("string"==W)return M;if("word"==W&&Z.allowUnquoted)return aa="string",x;aa="error";return x(W,X,P)}function M(W,X,P){return"string"==W?M:x(W,X,P)}var R=v.indentUnit,Z={};v=r.htmlMode?p:n;for(var T in v)Z[T]=v[T];for(T in r)Z[T]=r[T];var ba,aa;h.isInText=!0;return{startState:function(W){var X={tokenize:h,state:z,indented:W||0,tagName:null,tagStart:null,
context:null};null!=W&&(X.baseIndent=W);return X},token:function(W,X){!X.tagName&&W.sol()&&(X.indented=W.indentation());if(W.eatSpace())return null;ba=null;var P=X.tokenize(W,X);(P||ba)&&"comment"!=P&&(aa=null,X.state=X.state(ba||P,W,X),aa&&(P="error"==aa?P+" error":aa));return P},indent:function(W,X,P){var w=W.context;if(W.tokenize.isInAttribute)return W.tagStart==W.indented?W.stringStartCol+1:W.indented+R;if(w&&w.noIndent)return y.Pass;if(W.tokenize!=k&&W.tokenize!=h)return P?P.match(/^(\s*)/)[0].length:
0;if(W.tagName)return!1!==Z.multilineTagIndentPastTag?W.tagStart+W.tagName.length+2:W.tagStart+R*(Z.multilineTagIndentFactor||1);if(Z.alignCDATA&&/<!\[CDATA\[/.test(X))return 0;if((X=X&&/^<(\/)?([\w_:\.-]*)/.exec(X))&&X[1])for(;w;)if(w.tagName==X[2]){w=w.prev;break}else if(Z.implicitlyClosed.hasOwnProperty(a(w.tagName)))w=w.prev;else break;else if(X)for(;w;)if((P=Z.contextGrabbers[a(w.tagName)])&&P.hasOwnProperty(a(X[2])))w=w.prev;else break;for(;w&&w.prev&&!w.startOfLine;)w=w.prev;return w?w.indent+
R:W.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:Z.htmlMode?"html":"xml",helperType:Z.htmlMode?"html":"xml",skipAttribute:function(W){W.state==H&&(W.state=x)},xmlCurrentTag:function(W){return W.tagName?{name:W.tagName,close:"closeTag"==W.type}:null},xmlCurrentContext:function(W){var X=[];for(W=W.context;W;W=W.prev)X.push(W.tagName);return X.reverse()}}});y.defineMIME("text/xml","xml");y.defineMIME("application/xml","xml");y.mimeModes.hasOwnProperty("text/html")||
y.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[54]=function(sa,F,ob,G){(function(y){"object"==typeof G&&"object"==typeof ob?y(F(51)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],y):y(CodeMirror)})(function(y){y.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var p=0;p<y.modeInfo.length;p++){var n=y.modeInfo[p];n.mimes&&(n.mime=n.mimes[0])}y.findModeByMIME=function(v){v=v.toLowerCase();for(var r=0;r<y.modeInfo.length;r++){var h=y.modeInfo[r];if(h.mime==v)return h;if(h.mimes)for(var k=0;k<h.mimes.length;k++)if(h.mimes[k]==v)return h}if(/\+xml$/.test(v))return y.findModeByMIME("application/xml");if(/\+json$/.test(v))return y.findModeByMIME("application/json")};y.findModeByExtension=function(v){v=
v.toLowerCase();for(var r=0;r<y.modeInfo.length;r++){var h=y.modeInfo[r];if(h.ext)for(var k=0;k<h.ext.length;k++)if(h.ext[k]==v)return h}};y.findModeByFileName=function(v){for(var r=0;r<y.modeInfo.length;r++){var h=y.modeInfo[r];if(h.file&&h.file.test(v))return h}r=v.lastIndexOf(".");if(v=-1<r&&v.substring(r+1,v.length))return y.findModeByExtension(v)};y.findModeByName=function(v){v=v.toLowerCase();for(var r=0;r<y.modeInfo.length;r++){var h=y.modeInfo[r];if(h.name.toLowerCase()==v)return h;if(h.alias)for(var k=
0;k<h.alias.length;k++)if(h.alias[k].toLowerCase()==v)return h}}})};
shadow$provide[55]=function(sa,F,ob,G){(function(y){"object"==typeof G&&"object"==typeof ob?y(F(51),F(53),F(54)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],y):y(CodeMirror)})(function(y){y.defineMode("markdown",function(p,n){function v(B,K,U){K.f=K.inline=U;return U(B,K)}function r(B){B.linkTitle=!1;B.linkHref=!1;B.linkText=!1;B.em=!1;B.strong=!1;B.strikethrough=!1;B.quote=0;B.indentedCode=!1;if(B.f==k){var K=A;K||(K=y.innerMode(J,B.htmlState),K="xml"==
K.mode.name&&null===K.state.tagStart&&!K.state.context&&K.state.tokenize.isInText);K&&(B.f=a,B.block=h,B.htmlState=null)}B.trailingSpace=0;B.trailingSpaceNewLine=!1;B.prevLine=B.thisLine;B.thisLine={stream:null};return null}function h(B,K){var U=B.column()===K.indentation,ka=K.prevLine.stream;var da=!ka||!/\S/.test(ka.string);var la=K.indentedCode,wa=K.prevLine.hr,Ua=!1!==K.list,hb=(K.listStack[K.listStack.length-1]||0)+3;K.indentedCode=!1;ka=K.indentation;if(null===K.indentationDiff&&(K.indentationDiff=
K.indentation,Ua)){for(K.list=null;ka<K.listStack[K.listStack.length-1];)K.listStack.pop(),K.listStack.length?K.indentation=K.listStack[K.listStack.length-1]:K.list=!1;!1!==K.list&&(K.indentationDiff=ka-K.listStack[K.listStack.length-1])}var La=!da&&!wa&&!K.prevLine.header&&(!Ua||!la)&&!K.prevLine.fencedCodeEnd,pa=(!1===K.list||wa||da)&&K.indentation<=hb&&B.match(H);wa=null;if(4<=K.indentationDiff&&(la||K.prevLine.fencedCodeEnd||K.prevLine.header||da))return B.skipToEnd(),K.indentedCode=!0,x.code;
if(B.eatSpace())return null;if(U&&K.indentation<=hb&&(wa=B.match(Z))&&6>=wa[1].length)return K.quote=0,K.header=wa[1].length,K.thisLine.header=!0,n.highlightFormatting&&(K.formatting="header"),K.f=K.inline,e(K);if(K.indentation<=hb&&B.eat("\x3e"))return K.quote=U?1:K.quote+1,n.highlightFormatting&&(K.formatting="quote"),B.eatSpace(),e(K);if(!pa&&!K.setext&&U&&K.indentation<=hb&&(wa=B.match(M)))return U=wa[1]?"ol":"ul",K.indentation=ka+B.current().length,K.list=!0,K.quote=0,K.listStack.push(K.indentation),
K.em=!1,K.strong=!1,K.code=!1,K.strikethrough=!1,n.taskLists&&B.match(R,!1)&&(K.taskList=!0),K.f=K.inline,n.highlightFormatting&&(K.formatting=["list","list-"+U]),e(K);if(U&&K.indentation<=hb&&(wa=B.match(aa,!0))){K.quote=0;K.fencedEndRE=new RegExp(wa[1]+"+ *$");if(B=n.fencedCodeBlockHighlighting)B=wa[2]||n.fencedCodeBlockDefaultMode,y.findModeByName&&(U=y.findModeByName(B))&&(B=U.mime||U.mimes[0]),B=y.getMode(p,B),B="null"==B.name?null:B;K.localMode=B;K.localMode&&(K.localState=y.startState(K.localMode));
K.f=K.block=f;n.highlightFormatting&&(K.formatting="code-block");K.code=-1;return e(K)}return K.setext||!(La&&Ua||K.quote||!1!==K.list||K.code||pa||W.test(B.string))&&(wa=B.lookAhead(1))&&(wa=wa.match(T))?(K.setext?(K.header=K.setext,K.setext=0,B.skipToEnd(),n.highlightFormatting&&(K.formatting="header")):(K.header="\x3d"==wa[0].charAt(0)?1:2,K.setext=K.header),K.thisLine.header=!0,K.f=K.inline,e(K)):pa?(B.skipToEnd(),K.hr=!0,K.thisLine.hr=!0,x.hr):"["===B.peek()?v(B,K,z):v(B,K,K.inline)}function k(B,
K){var U=J.token(B,K.htmlState);if(!A){var ka=y.innerMode(J,K.htmlState);if("xml"==ka.mode.name&&null===ka.state.tagStart&&!ka.state.context&&ka.state.tokenize.isInText||K.md_inside&&-1<B.current().indexOf("\x3e"))K.f=a,K.block=h,K.htmlState=null}return U}function f(B,K){var U=K.listStack[K.listStack.length-1]||0,ka=K.indentation<U;if(K.fencedEndRE&&K.indentation<=U+3&&(ka||B.match(K.fencedEndRE))){n.highlightFormatting&&(K.formatting="code-block");var da;ka||(da=e(K));K.localMode=K.localState=null;
K.block=h;K.f=a;K.fencedEndRE=null;K.code=0;K.thisLine.fencedCodeEnd=!0;return ka?(U=K.block,K.f=K.block=U,U(B,K)):da}if(K.localMode)return K.localMode.token(B,K.localState);B.skipToEnd();return x.code}function e(B){var K=[];if(B.formatting){K.push(x.formatting);"string"===typeof B.formatting&&(B.formatting=[B.formatting]);for(var U=0;U<B.formatting.length;U++)K.push(x.formatting+"-"+B.formatting[U]),"header"===B.formatting[U]&&K.push(x.formatting+"-"+B.formatting[U]+"-"+B.header),"quote"===B.formatting[U]&&
(!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=B.quote?K.push(x.formatting+"-"+B.formatting[U]+"-"+B.quote):K.push("error"))}if(B.taskOpen)return K.push("meta"),K.length?K.join(" "):null;if(B.taskClosed)return K.push("property"),K.length?K.join(" "):null;B.linkHref?K.push(x.linkHref,"url"):(B.strong&&K.push(x.strong),B.em&&K.push(x.em),B.strikethrough&&K.push(x.strikethrough),B.emoji&&K.push(x.emoji),B.linkText&&K.push(x.linkText),B.code&&K.push(x.code),B.image&&K.push(x.image),B.imageAltText&&K.push(x.imageAltText,
"link"),B.imageMarker&&K.push(x.imageMarker));B.header&&K.push(x.header,x.header+"-"+B.header);B.quote&&(K.push(x.quote),!n.maxBlockquoteDepth||n.maxBlockquoteDepth>=B.quote?K.push(x.quote+"-"+B.quote):K.push(x.quote+"-"+n.maxBlockquoteDepth));!1!==B.list&&((U=(B.listStack.length-1)%3)?1===U?K.push(x.list2):K.push(x.list3):K.push(x.list1));B.trailingSpaceNewLine?K.push("trailing-space-new-line"):B.trailingSpace&&K.push("trailing-space-"+(B.trailingSpace%2?"a":"b"));return K.length?K.join(" "):null}
function d(B,K){if(B.match(ba,!0))return e(K)}function a(B,K){var U=K.text(B,K);if("undefined"!==typeof U)return U;if(K.list)return K.list=null,e(K);if(K.taskList)return" "===B.match(R,!0)[1]?K.taskOpen=!0:K.taskClosed=!0,n.highlightFormatting&&(K.formatting="task"),K.taskList=!1,e(K);K.taskOpen=!1;K.taskClosed=!1;if(K.header&&B.match(/^#+$/,!0))return n.highlightFormatting&&(K.formatting="header"),e(K);U=B.next();if(K.linkTitle){K.linkTitle=!1;var ka=U;"("===U&&(ka=")");ka=(ka+"").replace(/([.?*+^\[\]\\(){}|-])/g,
"\\$1");if(B.match(new RegExp("^\\s*(?:[^"+ka+"\\\\]+|\\\\\\\\|\\\\.)"+ka),!0))return x.linkHref}if("`"===U){U=K.formatting;n.highlightFormatting&&(K.formatting="code");B.eatWhile("`");B=B.current().length;if(0!=K.code||K.quote&&1!=B){if(B==K.code)return B=e(K),K.code=0,B;K.formatting=U;return e(K)}K.code=B;return e(K)}if(K.code)return e(K);if("\\"===U&&(B.next(),n.highlightFormatting))return U=e(K),K=x.formatting+"-escape",U?U+" "+K:K;if("!"===U&&B.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return K.imageMarker=
!0,K.image=!0,n.highlightFormatting&&(K.formatting="image"),e(K);if("["===U&&K.imageMarker&&B.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return K.imageMarker=!1,K.imageAltText=!0,n.highlightFormatting&&(K.formatting="image"),e(K);if("]"===U&&K.imageAltText)return n.highlightFormatting&&(K.formatting="image"),U=e(K),K.imageAltText=!1,K.image=!1,K.inline=K.f=b,U;if("["===U&&!K.image){if(K.linkText&&B.match(/^.*?\]/))return e(K);K.linkText=!0;n.highlightFormatting&&(K.formatting="link");return e(K)}if("]"===
U&&K.linkText)return n.highlightFormatting&&(K.formatting="link"),U=e(K),K.linkText=!1,K.inline=K.f=B.match(/\(.*?\)| ?\[.*?\]/,!1)?b:a,U;if("\x3c"===U&&B.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return K.f=K.inline=c,n.highlightFormatting&&(K.formatting="link"),U=e(K),(U?U+" ":"")+x.linkInline;if("\x3c"===U&&B.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return K.f=K.inline=c,n.highlightFormatting&&(K.formatting="link"),U=e(K),(U?U+" ":"")+x.linkEmail;if(n.xml&&"\x3c"===U&&B.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
!1))return U=B.string.indexOf("\x3e",B.pos),-1!=U&&(U=B.string.substring(B.start,U),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(U)&&(K.md_inside=!0)),B.backUp(1),K.htmlState=y.startState(J),U=k,K.f=K.block=U,U(B,K);if(n.xml&&"\x3c"===U&&B.match(/^\/\w*?>/))return K.md_inside=!1,"tag";if("*"===U||"_"===U){for(var da=1,la=1==B.pos?" ":B.string.charAt(B.pos-2);3>da&&B.eat(U);)da++;var wa=B.peek()||" ",Ua=!/\s/.test(wa)&&(!X.test(wa)||/\s/.test(la)||X.test(la)),hb=!/\s/.test(la)&&(!X.test(la)||/\s/.test(wa)||
X.test(wa)),La=ka=null;da%2&&(K.em||!Ua||"*"!==U&&hb&&!X.test(la)?K.em!=U||!hb||"*"!==U&&Ua&&!X.test(wa)||(ka=!1):ka=!0);1<da&&(K.strong||!Ua||"*"!==U&&hb&&!X.test(la)?K.strong!=U||!hb||"*"!==U&&Ua&&!X.test(wa)||(La=!1):La=!0);if(null!=La||null!=ka)return n.highlightFormatting&&(K.formatting=null==ka?"strong":null==La?"em":"strong em"),!0===ka&&(K.em=U),!0===La&&(K.strong=U),B=e(K),!1===ka&&(K.em=!1),!1===La&&(K.strong=!1),B}else if(" "===U&&(B.eat("*")||B.eat("_"))){if(" "===B.peek())return e(K);
B.backUp(1)}if(n.strikethrough)if("~"===U&&B.eatWhile(U)){if(K.strikethrough)return n.highlightFormatting&&(K.formatting="strikethrough"),B=e(K),K.strikethrough=!1,B;if(B.match(/^[^\s]/,!1))return K.strikethrough=!0,n.highlightFormatting&&(K.formatting="strikethrough"),e(K)}else if(" "===U&&B.match("~~",!0)){if(" "===B.peek())return e(K);B.backUp(2)}if(n.emoji&&":"===U&&B.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return K.emoji=!0,n.highlightFormatting&&(K.formatting="emoji"),B=e(K),
K.emoji=!1,B;" "===U&&(B.match(/^ +$/,!1)?K.trailingSpace++:K.trailingSpace&&(K.trailingSpaceNewLine=!0));return e(K)}function c(B,K){if("\x3e"===B.next())return K.f=K.inline=a,n.highlightFormatting&&(K.formatting="link"),B=e(K),(B?B+" ":"")+x.linkInline;B.match(/^[^>]+/,!0);return x.linkInline}function b(B,K){if(B.eatSpace())return null;B=B.next();return"("===B||"["===B?(K.f=K.inline=m("("===B?")":"]"),n.highlightFormatting&&(K.formatting="link-string"),K.linkHref=!0,e(K)):"error"}function m(B){return function(K,
U){if(K.next()===B)return U.f=U.inline=a,n.highlightFormatting&&(U.formatting="link-string"),K=e(U),U.linkHref=!1,K;K.match(P[B]);U.linkHref=!0;return e(U)}}function z(B,K){return B.match(/^([^\]\\]|\\.)*\]:/,!1)?(K.f=u,B.next(),n.highlightFormatting&&(K.formatting="link"),K.linkText=!0,e(K)):v(B,K,a)}function u(B,K){if(B.match("]:",!0))return K.f=K.inline=C,n.highlightFormatting&&(K.formatting="link"),B=e(K),K.linkText=!1,B;B.match(/^([^\]\\]|\\.)+/,!0);return x.linkText}function C(B,K){if(B.eatSpace())return null;
B.match(/^[^\s]+/,!0);void 0===B.peek()?K.linkTitle=!0:B.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);K.f=K.inline=a;return x.linkHref+" url"}var J=y.getMode(p,"text/html"),A="null"==J.name;void 0===n.highlightFormatting&&(n.highlightFormatting=!1);void 0===n.maxBlockquoteDepth&&(n.maxBlockquoteDepth=0);void 0===n.taskLists&&(n.taskLists=!1);void 0===n.strikethrough&&(n.strikethrough=!1);void 0===n.emoji&&(n.emoji=!1);void 0===n.fencedCodeBlockHighlighting&&(n.fencedCodeBlockHighlighting=
!0);void 0===n.fencedCodeBlockDefaultMode&&(n.fencedCodeBlockDefaultMode="text/plain");void 0===n.xml&&(n.xml=!0);void 0===n.tokenTypeOverrides&&(n.tokenTypeOverrides={});var x={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",
emoji:"builtin"},q;for(q in x)x.hasOwnProperty(q)&&n.tokenTypeOverrides[q]&&(x[q]=n.tokenTypeOverrides[q]);var H=/^([*\-_])(?:\s*\1){2,}\s*$/,M=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,R=/^\[(x| )\](?=\s)/i,Z=n.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,T=/^ {0,3}(?:={1,}|-{2,})\s*$/,ba=/^[^#!\[\]*_\\<>` "'(~:]+/,aa=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,W=/^\s*\[[^\]]+?\]:.*$/,X=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
P={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},w={startState:function(){return{f:h,prevLine:{stream:null},thisLine:{stream:null},block:h,htmlState:null,indentation:0,inline:a,text:d,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(B){return{f:B.f,
prevLine:B.prevLine,thisLine:B.thisLine,block:B.block,htmlState:B.htmlState&&y.copyState(J,B.htmlState),indentation:B.indentation,localMode:B.localMode,localState:B.localMode?y.copyState(B.localMode,B.localState):null,inline:B.inline,text:B.text,formatting:!1,linkText:B.linkText,linkTitle:B.linkTitle,linkHref:B.linkHref,code:B.code,em:B.em,strong:B.strong,strikethrough:B.strikethrough,emoji:B.emoji,header:B.header,setext:B.setext,hr:B.hr,taskList:B.taskList,list:B.list,listStack:B.listStack.slice(0),
quote:B.quote,indentedCode:B.indentedCode,trailingSpace:B.trailingSpace,trailingSpaceNewLine:B.trailingSpaceNewLine,md_inside:B.md_inside,fencedEndRE:B.fencedEndRE}},token:function(B,K){K.formatting=!1;if(B!=K.thisLine.stream){K.header=0;K.hr=!1;if(B.match(/^\s*$/,!0))return r(K),null;K.prevLine=K.thisLine;K.thisLine={stream:B};K.taskList=!1;K.trailingSpace=0;K.trailingSpaceNewLine=!1;if(!K.localState&&(K.f=K.block,K.f!=k)){var U=B.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;K.indentation=U;
K.indentationDiff=null;if(0<U)return null}}return K.f(B,K)},innerMode:function(B){return B.block==k?{state:B.htmlState,mode:J}:B.localState?{state:B.localState,mode:B.localMode}:{state:B,mode:w}},indent:function(B,K,U){return B.block==k&&J.indent?J.indent(B.htmlState,K,U):B.localState&&B.localMode.indent?B.localMode.indent(B.localState,K,U):y.Pass},blankLine:r,getType:e,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return w},"xml");y.defineMIME("text/markdown",
"markdown");y.defineMIME("text/x-markdown","markdown")})};
shadow$provide[56]=function(sa,F,ob,G){(function(y){"object"==typeof G&&"object"==typeof ob?y(F(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],y):y(CodeMirror)})(function(y){y.overlayMode=function(p,n,v){return{startState:function(){return{base:y.startState(p),overlay:y.startState(n),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(r){return{base:y.copyState(p,r.base),overlay:y.copyState(n,r.overlay),basePos:r.basePos,baseCur:null,
overlayPos:r.overlayPos,overlayCur:null}},token:function(r,h){if(r!=h.streamSeen||Math.min(h.basePos,h.overlayPos)<r.start)h.streamSeen=r,h.basePos=h.overlayPos=r.start;r.start==h.basePos&&(h.baseCur=p.token(r,h.base),h.basePos=r.pos);r.start==h.overlayPos&&(r.pos=r.start,h.overlayCur=n.token(r,h.overlay),h.overlayPos=r.pos);r.pos=Math.min(h.basePos,h.overlayPos);return null==h.overlayCur?h.baseCur:null!=h.baseCur&&h.overlay.combineTokens||v&&null==h.overlay.combineTokens?h.baseCur+" "+h.overlayCur:
h.overlayCur},indent:p.indent&&function(r,h,k){return p.indent(r.base,h,k)},electricChars:p.electricChars,innerMode:function(r){return{state:r.base,mode:p}},blankLine:function(r){var h,k;p.blankLine&&(h=p.blankLine(r.base));n.blankLine&&(k=n.blankLine(r.overlay));return null==k?h:v&&null!=h?h+" "+k:k}}}})};
shadow$provide[57]=function(sa,F,ob,G){(function(y){"object"==typeof G&&"object"==typeof ob?y(F(51),F(55),F(56)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],y):y(CodeMirror)})(function(y){var p=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;
y.defineMode("gfm",function(n,v){var r=0,h={taskLists:!0,strikethrough:!0,emoji:!0},k;for(k in v)h[k]=v[k];h.name="markdown";return y.overlayMode(y.getMode(n,h),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(f){return{code:f.code,codeBlock:f.codeBlock,ateSpace:f.ateSpace}},token:function(f,e){e.combineTokens=null;if(e.codeBlock){if(f.match(/^```+/))return e.codeBlock=!1,null;f.skipToEnd();return null}f.sol()&&(e.code=!1);if(f.sol()&&f.match(/^```+/))return f.skipToEnd(),
e.codeBlock=!0,null;if("`"===f.peek()){f.next();var d=f.pos;f.eatWhile("`");f=1+f.pos-d;e.code?f===r&&(e.code=!1):(r=f,e.code=!0);return null}if(e.code)return f.next(),null;if(f.eatSpace())return e.ateSpace=!0,null;if(f.sol()||e.ateSpace)if(e.ateSpace=!1,!1!==v.gitHubSpice&&(f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||f.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return e.combineTokens=!0,"link";if(f.match(p)&&"]("!=f.string.slice(f.start-
2,f.start)&&(0==f.start||/\W/.test(f.string.charAt(f.start-1))))return e.combineTokens=!0,"link";f.next();return null},blankLine:function(f){f.code=!1;return null}})},"markdown");y.defineMIME("text/x-gfm","gfm")})};
shadow$provide[58]=function(sa,F,ob,G){function y(){ob.exports=y=Object.assign||function(p){for(var n=1;n<arguments.length;n++){var v=arguments[n],r;for(r in v)Object.prototype.hasOwnProperty.call(v,r)&&(p[r]=v[r])}return p};ob.exports["default"]=ob.exports;ob.exports.__esModule=!0;return y.apply(this,arguments)}ob.exports=y;ob.exports["default"]=ob.exports;ob.exports.__esModule=!0};
shadow$provide[59]=function(sa,F,ob,G){ob.exports=function(y){if(void 0===y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y};ob.exports["default"]=ob.exports;ob.exports.__esModule=!0};
shadow$provide[60]=function(sa,F,ob,G){function y(p,n){ob.exports=y=Object.setPrototypeOf||function(v,r){v.__proto__=r;return v};ob.exports["default"]=ob.exports;ob.exports.__esModule=!0;return y(p,n)}ob.exports=y;ob.exports["default"]=ob.exports;ob.exports.__esModule=!0};
shadow$provide[61]=function(sa,F,ob,G){var y=F(60);ob.exports=function(p,n){p.prototype=Object.create(n.prototype);p.prototype.constructor=p;y(p,n)};ob.exports["default"]=ob.exports;ob.exports.__esModule=!0};
shadow$provide[62]=function(sa,F,ob,G){function y(p,n){if(p.length!==n.length)return!1;for(var v=0;v<p.length;v++)if(p[v]!==n[v])return!1;return!0}ob.exports=function(p,n){void 0===n&&(n=y);var v,r=[],h,k=!1;return function(){for(var f=[],e=0;e<arguments.length;e++)f[e]=arguments[e];if(k&&v===this&&n(f,r))return h;h=p.apply(this,f);k=!0;v=this;r=f;return h}}};
shadow$provide[63]=function(sa,F,ob,G){ob.exports=function(y,p){if(null==y)return{};var n={},v=Object.keys(y),r;for(r=0;r<v.length;r++){var h=v[r];0<=p.indexOf(h)||(n[h]=y[h])}return n};ob.exports["default"]=ob.exports;ob.exports.__esModule=!0};
shadow$provide[64]=function(sa,F,ob,G){function y(P){return P&&"object"===typeof P&&"default"in P?P["default"]:P}function p(P,w){function B(){m()-K>=w?P.call(null):U.id=requestAnimationFrame(B)}var K=m(),U={id:requestAnimationFrame(B)};return U}function n(P){void 0===P&&(P=!1);if(null===u||P){P=document.createElement("div");var w=P.style;w.width="50px";w.height="50px";w.overflow="scroll";w.direction="rtl";w=document.createElement("div");var B=w.style;B.width="100px";B.height="100px";P.appendChild(w);
document.body.appendChild(P);0<P.scrollLeft?u="positive-descending":(P.scrollLeft=1,u=0===P.scrollLeft?"negative":"positive-ascending");document.body.removeChild(P)}return u}function v(P){var w,B=P.getColumnOffset,K=P.getColumnStartIndexForOffset,U=P.getColumnStopIndexForStartIndex,ka=P.getColumnWidth,da=P.getEstimatedTotalHeight,la=P.getEstimatedTotalWidth,wa=P.getOffsetForColumnAndAlignment,Ua=P.getOffsetForRowAndAlignment,hb=P.getRowHeight,La=P.getRowOffset,pa=P.getRowStartIndexForOffset,Da=P.getRowStopIndexForStartIndex,
Ma=P.initInstanceProps,ua=P.shouldResetStyleCacheOnItemSizeChange,Aa=P.validateProps;return w=function(qa){function Ha(eb){var ta=qa.call(this,eb)||this;ta._instanceProps=Ma(ta.props,e(ta));ta._resetIsScrollingTimeoutId=null;ta._outerRef=void 0;ta.state={instance:e(ta),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"===typeof ta.props.initialScrollLeft?ta.props.initialScrollLeft:0,scrollTop:"number"===typeof ta.props.initialScrollTop?ta.props.initialScrollTop:0,scrollUpdateWasRequested:!1,
verticalScrollDirection:"forward"};ta._callOnItemsRendered=void 0;ta._callOnItemsRendered=a(function(Qa,oa,Y,ja,Ga,Wa,cb,nb){return ta.props.onItemsRendered({overscanColumnStartIndex:Qa,overscanColumnStopIndex:oa,overscanRowStartIndex:Y,overscanRowStopIndex:ja,visibleColumnStartIndex:Ga,visibleColumnStopIndex:Wa,visibleRowStartIndex:cb,visibleRowStopIndex:nb})});ta._callOnScroll=void 0;ta._callOnScroll=a(function(Qa,oa,Y,ja,Ga){return ta.props.onScroll({horizontalScrollDirection:Y,scrollLeft:Qa,scrollTop:oa,
verticalScrollDirection:ja,scrollUpdateWasRequested:Ga})});ta._getItemStyle=void 0;ta._getItemStyle=function(Qa,oa){var Y=ta.props,ja=Y.columnWidth,Ga=Y.direction;Y=Y.rowHeight;ja=ta._getItemStyleCache(ua&&ja,ua&&Ga,ua&&Y);Y=Qa+":"+oa;if(ja.hasOwnProperty(Y))Qa=ja[Y];else{var Wa=B(ta.props,oa,ta._instanceProps);Ga="rtl"===Ga;ja[Y]=Qa={position:"absolute",left:Ga?void 0:Wa,right:Ga?Wa:void 0,top:La(ta.props,Qa,ta._instanceProps),height:hb(ta.props,Qa,ta._instanceProps),width:ka(ta.props,oa,ta._instanceProps)}}return Qa};
ta._getItemStyleCache=void 0;ta._getItemStyleCache=a(function(Qa,oa,Y){return{}});ta._onScroll=function(Qa){Qa=Qa.currentTarget;var oa=Qa.clientHeight,Y=Qa.clientWidth,ja=Qa.scrollLeft,Ga=Qa.scrollTop,Wa=Qa.scrollHeight,cb=Qa.scrollWidth;ta.setState(function(nb){if(nb.scrollLeft===ja&&nb.scrollTop===Ga)return null;var pb=ja;if("rtl"===ta.props.direction)switch(n()){case "negative":pb=-ja;break;case "positive-descending":pb=cb-Y-ja}pb=Math.max(0,Math.min(pb,cb-Y));return{isScrolling:!0,horizontalScrollDirection:nb.scrollLeft<
ja?"forward":"backward",scrollLeft:pb,scrollTop:Math.max(0,Math.min(Ga,Wa-oa)),verticalScrollDirection:nb.scrollTop<Ga?"forward":"backward",scrollUpdateWasRequested:!1}},ta._resetIsScrollingDebounced)};ta._outerRefSetter=function(Qa){var oa=ta.props.outerRef;ta._outerRef=Qa;"function"===typeof oa?oa(Qa):null!=oa&&"object"===typeof oa&&oa.hasOwnProperty("current")&&(oa.current=Qa)};ta._resetIsScrollingDebounced=function(){null!==ta._resetIsScrollingTimeoutId&&cancelAnimationFrame(ta._resetIsScrollingTimeoutId.id);
ta._resetIsScrollingTimeoutId=p(ta._resetIsScrolling,150)};ta._resetIsScrolling=function(){ta._resetIsScrollingTimeoutId=null;ta.setState({isScrolling:!1},function(){ta._getItemStyleCache(-1)})};return ta}d(Ha,qa);Ha.getDerivedStateFromProps=function(eb,ta){Aa(eb);return null};var Va=Ha.prototype;Va.scrollTo=function(eb){var ta=eb.scrollLeft,Qa=eb.scrollTop;void 0!==ta&&(ta=Math.max(0,ta));void 0!==Qa&&(Qa=Math.max(0,Qa));this.setState(function(oa){void 0===ta&&(ta=oa.scrollLeft);void 0===Qa&&(Qa=
oa.scrollTop);return oa.scrollLeft===ta&&oa.scrollTop===Qa?null:{horizontalScrollDirection:oa.scrollLeft<ta?"forward":"backward",scrollLeft:ta,scrollTop:Qa,scrollUpdateWasRequested:!0,verticalScrollDirection:oa.scrollTop<Qa?"forward":"backward"}},this._resetIsScrollingDebounced)};Va.scrollToItem=function(eb){var ta=eb.align;ta=void 0===ta?"auto":ta;var Qa=eb.columnIndex;eb=eb.rowIndex;var oa=this.props,Y=oa.columnCount,ja=oa.height,Ga=oa.rowCount,Wa=oa.width,cb=this.state;oa=cb.scrollLeft;cb=cb.scrollTop;
var nb=void 0;void 0===nb&&(nb=!1);if(-1===z||nb){nb=document.createElement("div");var pb=nb.style;pb.width="50px";pb.height="50px";pb.overflow="scroll";document.body.appendChild(nb);z=nb.offsetWidth-nb.clientWidth;document.body.removeChild(nb)}nb=z;void 0!==Qa&&(Qa=Math.max(0,Math.min(Qa,Y-1)));void 0!==eb&&(eb=Math.max(0,Math.min(eb,Ga-1)));Y=da(this.props,this._instanceProps);Ga=la(this.props,this._instanceProps)>Wa?nb:0;this.scrollTo({scrollLeft:void 0!==Qa?wa(this.props,Qa,ta,oa,this._instanceProps,
Y>ja?nb:0):oa,scrollTop:void 0!==eb?Ua(this.props,eb,ta,cb,this._instanceProps,Ga):cb})};Va.componentDidMount=function(){var eb=this.props,ta=eb.initialScrollLeft;eb=eb.initialScrollTop;if(null!=this._outerRef){var Qa=this._outerRef;"number"===typeof ta&&(Qa.scrollLeft=ta);"number"===typeof eb&&(Qa.scrollTop=eb)}this._callPropsCallbacks()};Va.componentDidUpdate=function(){var eb=this.props.direction,ta=this.state,Qa=ta.scrollLeft,oa=ta.scrollTop;if(ta.scrollUpdateWasRequested&&null!=this._outerRef){ta=
this._outerRef;if("rtl"===eb)switch(n()){case "negative":ta.scrollLeft=-Qa;break;case "positive-ascending":ta.scrollLeft=Qa;break;default:ta.scrollLeft=ta.scrollWidth-ta.clientWidth-Qa}else ta.scrollLeft=Math.max(0,Qa);ta.scrollTop=Math.max(0,oa)}this._callPropsCallbacks()};Va.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Va.render=function(){var eb=this.props,ta=eb.children,Qa=eb.className,oa=eb.columnCount,Y=eb.direction,
ja=eb.height,Ga=eb.innerRef,Wa=eb.innerElementType,cb=eb.innerTagName,nb=eb.itemData,pb=eb.itemKey,Fb=void 0===pb?C:pb;pb=eb.outerElementType;var nc=eb.outerTagName,Lc=eb.rowCount,Ac=eb.style,yc=eb.useIsScrolling;eb=eb.width;var tc=this.state.isScrolling,hd=this._getHorizontalRangeToRender(),Mb=hd[0],Ab=hd[1];hd=this._getVerticalRangeToRender();var ec=hd[0],ac=hd[1];hd=[];if(0<oa&&Lc)for(oa=ec;oa<=ac;oa++)for(Lc=Mb;Lc<=Ab;Lc++)hd.push(c.createElement(ta,{columnIndex:Lc,data:nb,isScrolling:yc?tc:void 0,
key:Fb({columnIndex:Lc,data:nb,rowIndex:oa}),rowIndex:oa,style:this._getItemStyle(oa,Lc)}));ta=da(this.props,this._instanceProps);nb=la(this.props,this._instanceProps);return c.createElement(pb||nc||"div",{className:Qa,onScroll:this._onScroll,ref:this._outerRefSetter,style:f({position:"relative",height:ja,width:eb,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:Y},Ac)},c.createElement(Wa||cb||"div",{children:hd,ref:Ga,style:{height:ta,pointerEvents:tc?"none":void 0,
width:nb}}))};Va._callPropsCallbacks=function(){var eb=this.props,ta=eb.columnCount,Qa=eb.onScroll,oa=eb.rowCount;if("function"===typeof eb.onItemsRendered&&0<ta&&0<oa){var Y=this._getHorizontalRangeToRender();eb=Y[0];ta=Y[1];oa=Y[2];Y=Y[3];var ja=this._getVerticalRangeToRender();this._callOnItemsRendered(eb,ta,ja[0],ja[1],oa,Y,ja[2],ja[3])}"function"===typeof Qa&&(Qa=this.state,this._callOnScroll(Qa.scrollLeft,Qa.scrollTop,Qa.horizontalScrollDirection,Qa.verticalScrollDirection,Qa.scrollUpdateWasRequested))};
Va._getHorizontalRangeToRender=function(){var eb=this.props,ta=eb.columnCount,Qa=eb.overscanColumnsCount,oa=eb.overscanCount,Y=eb.rowCount,ja=this.state,Ga=ja.horizontalScrollDirection,Wa=ja.isScrolling;ja=ja.scrollLeft;eb=eb.overscanColumnCount||Qa||oa||1;if(0===ta||0===Y)return[0,0,0,0];Y=K(this.props,ja,this._instanceProps);ja=U(this.props,Y,ja,this._instanceProps);return[Math.max(0,Y-(Wa&&"backward"!==Ga?1:Math.max(1,eb))),Math.max(0,Math.min(ta-1,ja+(Wa&&"forward"!==Ga?1:Math.max(1,eb)))),Y,
ja]};Va._getVerticalRangeToRender=function(){var eb=this.props,ta=eb.overscanCount,Qa=eb.overscanRowsCount,oa=eb.rowCount,Y=this.state,ja=Y.isScrolling,Ga=Y.verticalScrollDirection;Y=Y.scrollTop;ta=eb.overscanRowCount||Qa||ta||1;if(0===eb.columnCount||0===oa)return[0,0,0,0];eb=pa(this.props,Y,this._instanceProps);Y=Da(this.props,eb,Y,this._instanceProps);return[Math.max(0,eb-(ja&&"backward"!==Ga?1:Math.max(1,ta))),Math.max(0,Math.min(oa-1,Y+(ja&&"forward"!==Ga?1:Math.max(1,ta)))),eb,Y]};return Ha}(c.PureComponent),
w.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},w}function r(P){var w,B=P.getItemOffset,K=P.getEstimatedTotalSize,U=P.getItemSize,ka=P.getOffsetForIndexAndAlignment,da=P.getStartIndexForOffset,la=P.getStopIndexForStartIndex,wa=P.initInstanceProps,Ua=P.shouldResetStyleCacheOnItemSizeChange,hb=P.validateProps;return w=function(La){function pa(Ma){var ua=La.call(this,Ma)||this;ua._instanceProps=wa(ua.props,e(ua));ua._outerRef=void 0;ua._resetIsScrollingTimeoutId=null;ua.state={instance:e(ua),
isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof ua.props.initialScrollOffset?ua.props.initialScrollOffset:0,scrollUpdateWasRequested:!1};ua._callOnItemsRendered=void 0;ua._callOnItemsRendered=a(function(Aa,qa,Ha,Va){return ua.props.onItemsRendered({overscanStartIndex:Aa,overscanStopIndex:qa,visibleStartIndex:Ha,visibleStopIndex:Va})});ua._callOnScroll=void 0;ua._callOnScroll=a(function(Aa,qa,Ha){return ua.props.onScroll({scrollDirection:Aa,scrollOffset:qa,scrollUpdateWasRequested:Ha})});
ua._getItemStyle=void 0;ua._getItemStyle=function(Aa){var qa=ua.props,Ha=qa.direction,Va=qa.itemSize,eb=qa.layout;Va=ua._getItemStyleCache(Ua&&Va,Ua&&eb,Ua&&Ha);if(Va.hasOwnProperty(Aa))Aa=Va[Aa];else{qa=B(ua.props,Aa,ua._instanceProps);var ta=U(ua.props,Aa,ua._instanceProps);eb="horizontal"===Ha||"horizontal"===eb;Ha="rtl"===Ha;var Qa=eb?qa:0;Va[Aa]=Aa={position:"absolute",left:Ha?void 0:Qa,right:Ha?Qa:void 0,top:eb?0:qa,height:eb?"100%":ta,width:eb?ta:"100%"}}return Aa};ua._getItemStyleCache=void 0;
ua._getItemStyleCache=a(function(Aa,qa,Ha){return{}});ua._onScrollHorizontal=function(Aa){Aa=Aa.currentTarget;var qa=Aa.clientWidth,Ha=Aa.scrollLeft,Va=Aa.scrollWidth;ua.setState(function(eb){if(eb.scrollOffset===Ha)return null;var ta=Ha;if("rtl"===ua.props.direction)switch(n()){case "negative":ta=-Ha;break;case "positive-descending":ta=Va-qa-Ha}ta=Math.max(0,Math.min(ta,Va-qa));return{isScrolling:!0,scrollDirection:eb.scrollOffset<Ha?"forward":"backward",scrollOffset:ta,scrollUpdateWasRequested:!1}},
ua._resetIsScrollingDebounced)};ua._onScrollVertical=function(Aa){Aa=Aa.currentTarget;var qa=Aa.clientHeight,Ha=Aa.scrollHeight,Va=Aa.scrollTop;ua.setState(function(eb){if(eb.scrollOffset===Va)return null;var ta=Math.max(0,Math.min(Va,Ha-qa));return{isScrolling:!0,scrollDirection:eb.scrollOffset<ta?"forward":"backward",scrollOffset:ta,scrollUpdateWasRequested:!1}},ua._resetIsScrollingDebounced)};ua._outerRefSetter=function(Aa){var qa=ua.props.outerRef;ua._outerRef=Aa;"function"===typeof qa?qa(Aa):
null!=qa&&"object"===typeof qa&&qa.hasOwnProperty("current")&&(qa.current=Aa)};ua._resetIsScrollingDebounced=function(){null!==ua._resetIsScrollingTimeoutId&&cancelAnimationFrame(ua._resetIsScrollingTimeoutId.id);ua._resetIsScrollingTimeoutId=p(ua._resetIsScrolling,150)};ua._resetIsScrolling=function(){ua._resetIsScrollingTimeoutId=null;ua.setState({isScrolling:!1},function(){ua._getItemStyleCache(-1,null)})};return ua}d(pa,La);pa.getDerivedStateFromProps=function(Ma,ua){hb(Ma);return null};var Da=
pa.prototype;Da.scrollTo=function(Ma){Ma=Math.max(0,Ma);this.setState(function(ua){return ua.scrollOffset===Ma?null:{scrollDirection:ua.scrollOffset<Ma?"forward":"backward",scrollOffset:Ma,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)};Da.scrollToItem=function(Ma,ua){void 0===ua&&(ua="auto");var Aa=this.state.scrollOffset;Ma=Math.max(0,Math.min(Ma,this.props.itemCount-1));this.scrollTo(ka(this.props,Ma,ua,Aa,this._instanceProps))};Da.componentDidMount=function(){var Ma=this.props,
ua=Ma.direction,Aa=Ma.initialScrollOffset;Ma=Ma.layout;if("number"===typeof Aa&&null!=this._outerRef){var qa=this._outerRef;"horizontal"===ua||"horizontal"===Ma?qa.scrollLeft=Aa:qa.scrollTop=Aa}this._callPropsCallbacks()};Da.componentDidUpdate=function(){var Ma=this.props,ua=Ma.direction;Ma=Ma.layout;var Aa=this.state,qa=Aa.scrollOffset;if(Aa.scrollUpdateWasRequested&&null!=this._outerRef)if(Aa=this._outerRef,"horizontal"===ua||"horizontal"===Ma)if("rtl"===ua)switch(n()){case "negative":Aa.scrollLeft=
-qa;break;case "positive-ascending":Aa.scrollLeft=qa;break;default:Aa.scrollLeft=Aa.scrollWidth-Aa.clientWidth-qa}else Aa.scrollLeft=qa;else Aa.scrollTop=qa;this._callPropsCallbacks()};Da.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Da.render=function(){var Ma=this.props,ua=Ma.children,Aa=Ma.className,qa=Ma.direction,Ha=Ma.height,Va=Ma.innerRef,eb=Ma.innerElementType,ta=Ma.innerTagName,Qa=Ma.itemCount,oa=Ma.itemData,
Y=Ma.itemKey,ja=void 0===Y?R:Y,Ga=Ma.layout;Y=Ma.outerElementType;var Wa=Ma.outerTagName,cb=Ma.style,nb=Ma.useIsScrolling;Ma=Ma.width;var pb=this.state.isScrolling,Fb=(Ga="horizontal"===qa||"horizontal"===Ga)?this._onScrollHorizontal:this._onScrollVertical,nc=this._getRangeToRender(),Lc=nc[0],Ac=nc[1];nc=[];if(0<Qa)for(Qa=Lc;Qa<=Ac;Qa++)nc.push(c.createElement(ua,{data:oa,key:ja(Qa,oa),index:Qa,isScrolling:nb?pb:void 0,style:this._getItemStyle(Qa)}));ua=K(this.props,this._instanceProps);return c.createElement(Y||
Wa||"div",{className:Aa,onScroll:Fb,ref:this._outerRefSetter,style:f({position:"relative",height:Ha,width:Ma,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:qa},cb)},c.createElement(eb||ta||"div",{children:nc,ref:Va,style:{height:Ga?"100%":ua,pointerEvents:pb?"none":void 0,width:Ga?ua:"100%"}}))};Da._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&0<this.props.itemCount){var Ma=this._getRangeToRender();this._callOnItemsRendered(Ma[0],
Ma[1],Ma[2],Ma[3])}"function"===typeof this.props.onScroll&&(Ma=this.state,this._callOnScroll(Ma.scrollDirection,Ma.scrollOffset,Ma.scrollUpdateWasRequested))};Da._getRangeToRender=function(){var Ma=this.props,ua=Ma.itemCount;Ma=Ma.overscanCount;var Aa=this.state,qa=Aa.isScrolling,Ha=Aa.scrollDirection,Va=Aa.scrollOffset;if(0===ua)return[0,0,0,0];Aa=da(this.props,Va,this._instanceProps);Va=la(this.props,Aa,Va,this._instanceProps);return[Math.max(0,Aa-(qa&&"backward"!==Ha?1:Math.max(1,Ma))),Math.max(0,
Math.min(ua-1,Va+(qa&&"forward"!==Ha?1:Math.max(1,Ma)))),Aa,Va]};return pa}(c.PureComponent),w.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},w}function h(P,w){for(var B in P)if(!(B in w))return!0;for(var K in w)if(P[K]!==w[K])return!0;return!1}function k(P,w){var B=P.style;P=b(P,W);var K=w.style;w=b(w,X);return!h(B,K)&&!h(P,w)}Object.defineProperty(G,"__esModule",{value:!0});var f=y(F(58)),e=y(F(59)),d=y(F(61)),a=y(F(62)),c=F(3),b=y(F(63)),m="object"===
typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()},z=-1,u=null,C=function(P){return P.rowIndex+":"+P.columnIndex},J=function(P,w){P=P.rowCount;var B=w.rowMetadataMap,K=w.estimatedRowHeight;w=w.lastMeasuredRowIndex;var U=0;w>=P&&(w=P-1);0<=w&&(B=B[w],U=B.offset+B.size);return U+(P-w-1)*K},A=function(P,w){P=P.columnCount;var B=w.columnMetadataMap,K=w.estimatedColumnWidth;w=w.lastMeasuredColumnIndex;var U=0;w>=P&&(w=P-1);0<=w&&(B=
B[w],U=B.offset+B.size);return U+(P-w-1)*K},x=function(P,w,B,K){if("column"===P){var U=K.columnMetadataMap;w=w.columnWidth;var ka=K.lastMeasuredColumnIndex}else U=K.rowMetadataMap,w=w.rowHeight,ka=K.lastMeasuredRowIndex;if(B>ka){var da=0;0<=ka&&(da=U[ka],da=da.offset+da.size);for(ka+=1;ka<=B;ka++){var la=w(ka);U[ka]={offset:da,size:la};da+=la}"column"===P?K.lastMeasuredColumnIndex=B:K.lastMeasuredRowIndex=B}return U[B]},q=function(P,w,B,K){if("column"===P){var U=B.columnMetadataMap;var ka=B.lastMeasuredColumnIndex}else U=
B.rowMetadataMap,ka=B.lastMeasuredRowIndex;if((0<ka?U[ka].offset:0)>=K)return H(P,w,B,ka,0,K);U=Math.max(0,ka);ka="column"===P?w.columnCount:w.rowCount;for(var da=1;U<ka&&x(P,w,U,B).offset<K;)U+=da,da*=2;return H(P,w,B,Math.min(U,ka-1),Math.floor(U/2),K)},H=function(P,w,B,K,U,ka){for(;U<=K;){var da=U+Math.floor((K-U)/2),la=x(P,w,da,B).offset;if(la===ka)return da;la<ka?U=da+1:la>ka&&(K=da-1)}return 0<U?U-1:0},M=function(P,w,B,K,U,ka,da){var la="column"===P?w.width:w.height;B=x(P,w,B,ka);P="column"===
P?A(w,ka):J(w,ka);P=Math.max(0,Math.min(P-la,B.offset));da=Math.max(0,B.offset-la+da+B.size);"smart"===K&&(K=U>=da-la&&U<=P+la?"auto":"center");switch(K){case "start":return P;case "end":return da;case "center":return Math.round(da+(P-da)/2);default:return U>=da&&U<=P?U:da>P?da:U<da?da:P}};sa=v({getColumnOffset:function(P,w,B){return x("column",P,w,B).offset},getColumnStartIndexForOffset:function(P,w,B){return q("column",P,B,w)},getColumnStopIndexForStartIndex:function(P,w,B,K){var U=P.columnCount,
ka=P.width,da=x("column",P,w,K);B+=ka;for(da=da.offset+da.size;w<U-1&&da<B;)w++,da+=x("column",P,w,K).size;return w},getColumnWidth:function(P,w,B){return B.columnMetadataMap[w].size},getEstimatedTotalHeight:J,getEstimatedTotalWidth:A,getOffsetForColumnAndAlignment:function(P,w,B,K,U,ka){return M("column",P,w,B,K,U,ka)},getOffsetForRowAndAlignment:function(P,w,B,K,U,ka){return M("row",P,w,B,K,U,ka)},getRowOffset:function(P,w,B){return x("row",P,w,B).offset},getRowHeight:function(P,w,B){return B.rowMetadataMap[w].size},
getRowStartIndexForOffset:function(P,w,B){return q("row",P,B,w)},getRowStopIndexForStartIndex:function(P,w,B,K){var U=P.rowCount,ka=P.height,da=x("row",P,w,K);B+=ka;for(da=da.offset+da.size;w<U-1&&da<B;)w++,da+=x("row",P,w,K).size;return w},initInstanceProps:function(P,w){var B={columnMetadataMap:{},estimatedColumnWidth:P.estimatedColumnWidth||50,estimatedRowHeight:P.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};w.resetAfterColumnIndex=function(K,U){void 0===
U&&(U=!0);w.resetAfterIndices({columnIndex:K,shouldForceUpdate:U})};w.resetAfterRowIndex=function(K,U){void 0===U&&(U=!0);w.resetAfterIndices({rowIndex:K,shouldForceUpdate:U})};w.resetAfterIndices=function(K){var U=K.columnIndex,ka=K.rowIndex;K=K.shouldForceUpdate;K=void 0===K?!0:K;"number"===typeof U&&(B.lastMeasuredColumnIndex=Math.min(B.lastMeasuredColumnIndex,U-1));"number"===typeof ka&&(B.lastMeasuredRowIndex=Math.min(B.lastMeasuredRowIndex,ka-1));w._getItemStyleCache(-1);K&&w.forceUpdate()};
return B},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(P){}});var R=function(P,w){return P},Z=function(P,w,B){P=P.itemSize;var K=B.itemMetadataMap,U=B.lastMeasuredIndex;if(w>U){var ka=0;0<=U&&(ka=K[U],ka=ka.offset+ka.size);for(U+=1;U<=w;U++){var da=P(U);K[U]={offset:ka,size:da};ka+=da}B.lastMeasuredIndex=w}return K[w]},T=function(P,w,B,K,U){for(;K<=B;){var ka=K+Math.floor((B-K)/2),da=Z(P,ka,w).offset;if(da===U)return ka;da<U?K=ka+1:da>U&&(B=ka-1)}return 0<K?K-1:0},ba=function(P,
w){P=P.itemCount;var B=w.itemMetadataMap,K=w.estimatedItemSize;w=w.lastMeasuredIndex;var U=0;w>=P&&(w=P-1);0<=w&&(B=B[w],U=B.offset+B.size);return U+(P-w-1)*K};F=r({getItemOffset:function(P,w,B){return Z(P,w,B).offset},getItemSize:function(P,w,B){return B.itemMetadataMap[w].size},getEstimatedTotalSize:ba,getOffsetForIndexAndAlignment:function(P,w,B,K,U){var ka=P.height,da=P.layout,la=P.width;ka="horizontal"===P.direction||"horizontal"===da?la:ka;w=Z(P,w,U);P=ba(P,U);P=Math.max(0,Math.min(P-ka,w.offset));
U=Math.max(0,w.offset-ka+w.size);"smart"===B&&(B=K>=U-ka&&K<=P+ka?"auto":"center");switch(B){case "start":return P;case "end":return U;case "center":return Math.round(U+(P-U)/2);default:return K>=U&&K<=P?K:K<U?U:P}},getStartIndexForOffset:function(P,w,B){var K=B.itemMetadataMap,U=B.lastMeasuredIndex;if((0<U?K[U].offset:0)>=w)P=T(P,B,U,0,w);else{K=Math.max(0,U);U=P.itemCount;for(var ka=1;K<U&&Z(P,K,B).offset<w;)K+=ka,ka*=2;P=T(P,B,Math.min(K,U-1),Math.floor(K/2),w)}return P},getStopIndexForStartIndex:function(P,
w,B,K){var U=P.height,ka=P.itemCount,da=P.layout,la=P.width;da="horizontal"===P.direction||"horizontal"===da?la:U;U=Z(P,w,K);B+=da;for(U=U.offset+U.size;w<ka-1&&U<B;)w++,U+=Z(P,w,K).size;return w},initInstanceProps:function(P,w){var B={itemMetadataMap:{},estimatedItemSize:P.estimatedItemSize||50,lastMeasuredIndex:-1};w.resetAfterIndex=function(K,U){void 0===U&&(U=!0);B.lastMeasuredIndex=Math.min(B.lastMeasuredIndex,K-1);w._getItemStyleCache(-1);U&&w.forceUpdate()};return B},shouldResetStyleCacheOnItemSizeChange:!1,
validateProps:function(P){}});ob=v({getColumnOffset:function(P,w){return w*P.columnWidth},getColumnWidth:function(P,w){return P.columnWidth},getRowOffset:function(P,w){return w*P.rowHeight},getRowHeight:function(P,w){return P.rowHeight},getEstimatedTotalHeight:function(P){return P.rowHeight*P.rowCount},getEstimatedTotalWidth:function(P){return P.columnWidth*P.columnCount},getOffsetForColumnAndAlignment:function(P,w,B,K,U,ka){var da=P.columnWidth;U=P.width;P=Math.max(0,P.columnCount*da-U);var la=Math.min(P,
w*da);w=Math.max(0,w*da-U+ka+da);"smart"===B&&(B=K>=w-U&&K<=la+U?"auto":"center");switch(B){case "start":return la;case "end":return w;case "center":return B=Math.round(w+(la-w)/2),B<Math.ceil(U/2)?0:B>P+Math.floor(U/2)?P:B;default:return K>=w&&K<=la?K:w>la?w:K<w?w:la}},getOffsetForRowAndAlignment:function(P,w,B,K,U,ka){var da=P.rowHeight;U=P.height;P=Math.max(0,P.rowCount*da-U);var la=Math.min(P,w*da);w=Math.max(0,w*da-U+ka+da);"smart"===B&&(B=K>=w-U&&K<=la+U?"auto":"center");switch(B){case "start":return la;
case "end":return w;case "center":return B=Math.round(w+(la-w)/2),B<Math.ceil(U/2)?0:B>P+Math.floor(U/2)?P:B;default:return K>=w&&K<=la?K:w>la?w:K<w?w:la}},getColumnStartIndexForOffset:function(P,w){return Math.max(0,Math.min(P.columnCount-1,Math.floor(w/P.columnWidth)))},getColumnStopIndexForStartIndex:function(P,w,B){var K=P.columnWidth;return Math.max(0,Math.min(P.columnCount-1,w+Math.ceil((P.width+B-w*K)/K)-1))},getRowStartIndexForOffset:function(P,w){return Math.max(0,Math.min(P.rowCount-1,Math.floor(w/
P.rowHeight)))},getRowStopIndexForStartIndex:function(P,w,B){var K=P.rowHeight;return Math.max(0,Math.min(P.rowCount-1,w+Math.ceil((P.height+B-w*K)/K)-1))},initInstanceProps:function(P){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(P){}});var aa=r({getItemOffset:function(P,w){return w*P.itemSize},getItemSize:function(P,w){return P.itemSize},getEstimatedTotalSize:function(P){return P.itemSize*P.itemCount},getOffsetForIndexAndAlignment:function(P,w,B,K){var U=P.height,ka=P.itemSize,
da=P.layout,la=P.width;U="horizontal"===P.direction||"horizontal"===da?la:U;P=Math.max(0,P.itemCount*ka-U);da=Math.min(P,w*ka);w=Math.max(0,w*ka-U+ka);"smart"===B&&(B=K>=w-U&&K<=da+U?"auto":"center");switch(B){case "start":return da;case "end":return w;case "center":return B=Math.round(w+(da-w)/2),B<Math.ceil(U/2)?0:B>P+Math.floor(U/2)?P:B;default:return K>=w&&K<=da?K:K<w?w:da}},getStartIndexForOffset:function(P,w){return Math.max(0,Math.min(P.itemCount-1,Math.floor(w/P.itemSize)))},getStopIndexForStartIndex:function(P,
w,B){var K=P.height,U=P.itemSize,ka=P.layout,da=P.width;return Math.max(0,Math.min(P.itemCount-1,w+Math.ceil((("horizontal"===P.direction||"horizontal"===ka?da:K)+B-w*U)/U)-1))},initInstanceProps:function(P){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(P){}}),W=["style"],X=["style"];G.FixedSizeGrid=ob;G.FixedSizeList=aa;G.VariableSizeGrid=sa;G.VariableSizeList=F;G.areEqual=k;G.shouldComponentUpdate=function(P,w){return!k(this.props,P)||h(this.state,w)}};
shadow$provide[65]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(){this.disposed=!1}y.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())};y.prototype.disposeInternal=function(){};return y}();G.default=sa};
shadow$provide[66]=function(sa,F,ob,G){function y(p,n){return p>n?1:p<n?-1:0}Object.defineProperty(G,"__esModule",{value:!0});G.binarySearch=function(p,n,v){for(var r,h=v||y,k=0,f=p.length,e=!1;k<f;)v=k+(f-k>>1),r=+h(p[v],n),0>r?k=v+1:(f=v,e=!r);return e?k:~k};G.numberSafeCompareFunction=y;G.includes=function(p,n){return 0<=p.indexOf(n)};G.linearFindNearest=function(p,n,v){var r=p.length;if(p[0]<=n)return 0;if(!(n<=p[r-1])){var h;if(0<v)for(h=1;h<r;++h){if(p[h]<n)return h-1}else if(0>v)for(h=1;h<
r;++h){if(p[h]<=n)return h}else for(h=1;h<r;++h){if(p[h]==n)return h;if(p[h]<n)return"function"===typeof v?0<v(n,p[h-1],p[h])?h-1:h:p[h-1]-n<n-p[h]?h-1:h}}return r-1};G.reverseSubArray=function(p,n,v){for(;n<v;){var r=p[n];p[n]=p[v];p[v]=r;++n;--v}};G.extend=function(p,n){n=Array.isArray(n)?n:[n];for(var v=n.length,r=0;r<v;r++)p[p.length]=n[r]};G.remove=function(p,n){n=p.indexOf(n);var v=-1<n;v&&p.splice(n,1);return v};G.find=function(p,n){for(var v=p.length>>>0,r,h=0;h<v;h++)if(r=p[h],n(r,h,p))return r;
return null};G.equals=function(p,n){var v=p.length;if(v!==n.length)return!1;for(var r=0;r<v;r++)if(p[r]!==n[r])return!1;return!0};G.stableSort=function(p,n){var v=p.length,r=Array(p.length),h;for(h=0;h<v;h++)r[h]={index:h,value:p[h]};r.sort(function(k,f){return n(k.value,f.value)||k.index-f.index});for(h=0;h<p.length;h++)p[h]=r[h].value};G.findIndex=function(p,n){var v;return p.every(function(r,h){v=h;return!n(r,h,p)})?-1:v};G.isSorted=function(p,n,v){var r=n||y;return p.every(function(h,k){if(0===
k)return!0;h=r(p[k-1],h);return!(0<h||v&&0===h)})}};
shadow$provide[67]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.TRUE=function(){return!0};G.FALSE=function(){return!1};G.VOID=function(){};G.memoizeOne=function(p){var n=!1,v,r,h;return function(){var k=Array.prototype.slice.call(arguments);n&&this===h&&(0,y.equals)(k,r)||(n=!0,h=this,r=k,v=p.apply(this,arguments));return v}};G.toPromise=function(p){a:{try{var n=p()}catch(v){p=Promise.reject(v);break a}p=n instanceof Promise?n:Promise.resolve(n)}return p};var y=F(66)};
shadow$provide[68]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.abstract=function(){throw Error("Unimplemented abstract method.");};G.getUid=function(p){return p.ol_uid||(p.ol_uid=String(++y))};G.VERSION=void 0;var y=0;G.VERSION="6.15.1"};
shadow$provide[69]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.PASSIVE_EVENT_LISTENERS=G.IMAGE_DECODE=G.WORKER_OFFSCREEN_CANVAS=G.DEVICE_PIXEL_RATIO=G.MAC=G.WEBKIT=G.SAFARI_BUG_237906=G.SAFARI=G.FIREFOX=void 0;sa="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";F=-1!==sa.indexOf("firefox");G.FIREFOX=F;F=-1!==sa.indexOf("safari")&&-1==sa.indexOf("chrom");F=(G.SAFARI=F)&&!!(0<=sa.indexOf("version/15.4")||sa.match(/cpu (os|iphone os) 15_4 like mac os x/));
G.SAFARI_BUG_237906=F;F=-1!==sa.indexOf("webkit")&&-1==sa.indexOf("edge");G.WEBKIT=F;sa=-1!==sa.indexOf("macintosh");G.MAC=sa;G.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;G.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;G.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;sa=function(){var y=!1;try{var p=Object.defineProperty({},"passive",{get:function(){y=!0}});window.addEventListener("_",
null,p);window.removeEventListener("_",null,p)}catch(n){}return y}();G.PASSIVE_EVENT_LISTENERS=sa};
shadow$provide[70]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(68),p=function(){var n=function(v,r){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,k){h.__proto__=k}||function(h,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h[f]=k[f])};return n(v,r)};return function(v,r){function h(){this.constructor=v}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");
n(v,r);v.prototype=null===r?Object.create(r):(h.prototype=r.prototype,new h)}}();sa=function(n){function v(r){var h="Assertion failed. See https://openlayers.org/en/"+("latest"===y.VERSION?y.VERSION:"v"+y.VERSION.split("-")[0])+"/doc/errors/#"+r+" for details.";var k=n.call(this,h)||this;k.code=r;k.name="AssertionError";k.message=h;return k}p(v,n);return v}(Error);G.default=sa};
shadow$provide[71]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.assert=function(p,n){if(!p)throw new y.default(n);};var y=function(p){return p&&p.__esModule?p:{default:p}}(F(70))};
shadow$provide[72]=function(sa,F,ob,G){function y(){return[1,0,0,1,0,0]}function p(c,b){var m=c[0],z=c[1],u=c[2],C=c[3],J=c[4],A=c[5],x=b[0],q=b[1],H=b[2],M=b[3],R=b[4];b=b[5];c[0]=m*x+u*q;c[1]=z*x+C*q;c[2]=m*H+u*M;c[3]=z*H+C*M;c[4]=m*R+u*b+J;c[5]=z*R+C*b+A;return c}function n(c,b,m,z,u,C,J){c[0]=b;c[1]=m;c[2]=z;c[3]=u;c[4]=C;c[5]=J;return c}function v(c,b,m,z,u,C,J,A){var x=Math.sin(C);C=Math.cos(C);c[0]=z*C;c[1]=u*x;c[2]=-z*x;c[3]=u*C;c[4]=J*z*C-A*z*x+b;c[5]=J*u*x+A*u*C+m;return c}function r(c,
b){var m=h(b);(0,e.assert)(0!==m,32);var z=b[0],u=b[1],C=b[2],J=b[3],A=b[4];b=b[5];c[0]=J/m;c[1]=-u/m;c[2]=-C/m;c[3]=z/m;c[4]=(C*b-J*A)/m;c[5]=-(z*b-u*A)/m;return c}function h(c){return c[0]*c[3]-c[1]*c[2]}function k(c){c="matrix("+c.join(", ")+")";if(f.WORKER_OFFSCREEN_CANVAS)return c;var b=a||(a=document.createElement("div"));b.style.transform=c;return b.style.transform}Object.defineProperty(G,"__esModule",{value:!0});G.create=y;G.reset=function(c){return n(c,1,0,0,1,0,0)};G.multiply=p;G.set=n;
G.setFromArray=function(c,b){c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];c[5]=b[5];return c};G.apply=function(c,b){var m=b[0],z=b[1];b[0]=c[0]*m+c[2]*z+c[4];b[1]=c[1]*m+c[3]*z+c[5];return b};G.rotate=function(c,b){var m=Math.cos(b);b=Math.sin(b);return p(c,n(d,m,b,-b,m,0,0))};G.scale=function(c,b,m){return p(c,n(d,b,0,0,m,0,0))};G.makeScale=function(c,b,m){return n(c,b,0,0,m,0,0)};G.translate=function(c,b,m){return p(c,n(d,1,0,0,1,b,m))};G.compose=v;G.composeCssTransform=function(c,b,m,z,u,
C,J){return k(v(y(),c,b,m,z,u,C,J))};G.invert=function(c){return r(c,c)};G.makeInverse=r;G.determinant=h;G.toString=k;var f=F(69),e=F(71),d=Array(6),a};
shadow$provide[73]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[74]=function(sa,F,ob,G){function y(T,ba,aa){return T[0]<=ba&&ba<=T[2]&&T[1]<=aa&&aa<=T[3]}function p(T,ba){var aa=T[1],W=T[2],X=T[3],P=ba[0];ba=ba[1];var w=R.default.UNKNOWN;P<T[0]?w|=R.default.LEFT:P>W&&(w|=R.default.RIGHT);ba<aa?w|=R.default.BELOW:ba>X&&(w|=R.default.ABOVE);w===R.default.UNKNOWN&&(w=R.default.INTERSECTING);return w}function n(){return[Infinity,Infinity,-Infinity,-Infinity]}function v(T,ba,aa,W,X){return X?(X[0]=T,X[1]=ba,X[2]=aa,X[3]=W,X):[T,ba,aa,W]}function r(T){return v(Infinity,
Infinity,-Infinity,-Infinity,T)}function h(T,ba){ba[0]<T[0]&&(T[0]=ba[0]);ba[0]>T[2]&&(T[2]=ba[0]);ba[1]<T[1]&&(T[1]=ba[1]);ba[1]>T[3]&&(T[3]=ba[1])}function k(T,ba){for(var aa=0,W=ba.length;aa<W;++aa)h(T,ba[aa]);return T}function f(T,ba,aa,W,X){for(;aa<W;aa+=X)d(T,ba[aa],ba[aa+1]);return T}function e(T,ba){for(var aa=0,W=ba.length;aa<W;++aa)k(T,ba[aa]);return T}function d(T,ba,aa){T[0]=Math.min(T[0],ba);T[1]=Math.min(T[1],aa);T[2]=Math.max(T[2],ba);T[3]=Math.max(T[3],aa)}function a(T){var ba=0;H(T)||
(ba=x(T)*u(T));return ba}function c(T){return[T[0],T[1]]}function b(T){return[T[2],T[1]]}function m(T){return[(T[0]+T[2])/2,(T[1]+T[3])/2]}function z(T,ba,aa,W){var X=ba*W[0]/2;ba=ba*W[1]/2;W=Math.cos(aa);var P=Math.sin(aa);aa=X*W;X*=P;W*=ba;ba*=P;P=T[0];T=T[1];return[P-aa+ba,T-X-W,P-aa-ba,T-X+W,P+aa-ba,T+X+W,P+aa+ba,T+X-W,P-aa+ba,T-X-W]}function u(T){return T[3]-T[1]}function C(T,ba,aa){aa=aa?aa:n();q(T,ba)?(aa[0]=T[0]>ba[0]?T[0]:ba[0],aa[1]=T[1]>ba[1]?T[1]:ba[1],aa[2]=T[2]<ba[2]?T[2]:ba[2],aa[3]=
T[3]<ba[3]?T[3]:ba[3]):r(aa);return aa}function J(T){return[T[0],T[3]]}function A(T){return[T[2],T[3]]}function x(T){return T[2]-T[0]}function q(T,ba){return T[0]<=ba[2]&&T[2]>=ba[0]&&T[1]<=ba[3]&&T[3]>=ba[1]}function H(T){return T[2]<T[0]||T[3]<T[1]}function M(T,ba){var aa=ba.getExtent(),W=m(T);ba.canWrapX()&&(W[0]<aa[0]||W[0]>=aa[2])&&(ba=x(aa),aa=Math.floor((W[0]-aa[0])/ba)*ba,T[0]-=aa,T[2]-=aa);return T}Object.defineProperty(G,"__esModule",{value:!0});G.boundingExtent=function(T){for(var ba=n(),
aa=0,W=T.length;aa<W;++aa)h(ba,T[aa]);return ba};G.buffer=function(T,ba,aa){return aa?(aa[0]=T[0]-ba,aa[1]=T[1]-ba,aa[2]=T[2]+ba,aa[3]=T[3]+ba,aa):[T[0]-ba,T[1]-ba,T[2]+ba,T[3]+ba]};G.clone=function(T,ba){return ba?(ba[0]=T[0],ba[1]=T[1],ba[2]=T[2],ba[3]=T[3],ba):T.slice()};G.closestSquaredDistanceXY=function(T,ba,aa){ba=ba<T[0]?T[0]-ba:T[2]<ba?ba-T[2]:0;T=aa<T[1]?T[1]-aa:T[3]<aa?aa-T[3]:0;return ba*ba+T*T};G.containsCoordinate=function(T,ba){return y(T,ba[0],ba[1])};G.containsExtent=function(T,ba){return T[0]<=
ba[0]&&ba[2]<=T[2]&&T[1]<=ba[1]&&ba[3]<=T[3]};G.containsXY=y;G.coordinateRelationship=p;G.createEmpty=n;G.createOrUpdate=v;G.createOrUpdateEmpty=r;G.createOrUpdateFromCoordinate=function(T,ba){var aa=T[0];T=T[1];return v(aa,T,aa,T,ba)};G.createOrUpdateFromCoordinates=function(T,ba){ba=r(ba);return k(ba,T)};G.createOrUpdateFromFlatCoordinates=function(T,ba,aa,W,X){X=r(X);return f(X,T,ba,aa,W)};G.createOrUpdateFromRings=function(T,ba){ba=r(ba);return e(ba,T)};G.equals=function(T,ba){return T[0]==ba[0]&&
T[2]==ba[2]&&T[1]==ba[1]&&T[3]==ba[3]};G.approximatelyEquals=function(T,ba,aa){return Math.abs(T[0]-ba[0])<aa&&Math.abs(T[2]-ba[2])<aa&&Math.abs(T[1]-ba[1])<aa&&Math.abs(T[3]-ba[3])<aa};G.extend=function(T,ba){ba[0]<T[0]&&(T[0]=ba[0]);ba[2]>T[2]&&(T[2]=ba[2]);ba[1]<T[1]&&(T[1]=ba[1]);ba[3]>T[3]&&(T[3]=ba[3]);return T};G.extendCoordinate=h;G.extendCoordinates=k;G.extendFlatCoordinates=f;G.extendRings=e;G.extendXY=d;G.forEachCorner=function(T,ba){var aa;return(aa=ba(c(T)))||(aa=ba(b(T)))||(aa=ba(A(T)))?
aa:(aa=ba(J(T)))?aa:!1};G.getArea=a;G.getBottomLeft=c;G.getBottomRight=b;G.getCenter=m;G.getCorner=function(T,ba){var aa;"bottom-left"===ba?aa=c(T):"bottom-right"===ba?aa=b(T):"top-left"===ba?aa=J(T):"top-right"===ba?aa=A(T):(0,Z.assert)(!1,13);return aa};G.getEnlargedArea=function(T,ba){return(Math.max(T[2],ba[2])-Math.min(T[0],ba[0]))*(Math.max(T[3],ba[3])-Math.min(T[1],ba[1]))};G.getForViewAndSize=function(T,ba,aa,W,X){var P=z(T,ba,aa,W);T=P[0];ba=P[1];aa=P[2];W=P[3];var w=P[4],B=P[5],K=P[6];P=
P[7];return v(Math.min(T,aa,w,K),Math.min(ba,W,B,P),Math.max(T,aa,w,K),Math.max(ba,W,B,P),X)};G.getRotatedViewport=z;G.getHeight=u;G.getIntersectionArea=function(T,ba){T=C(T,ba);return a(T)};G.getIntersection=C;G.getMargin=function(T){return x(T)+u(T)};G.getSize=function(T){return[T[2]-T[0],T[3]-T[1]]};G.getTopLeft=J;G.getTopRight=A;G.getWidth=x;G.intersects=q;G.isEmpty=H;G.returnOrUpdate=function(T,ba){return ba?(ba[0]=T[0],ba[1]=T[1],ba[2]=T[2],ba[3]=T[3],ba):T};G.scaleFromCenter=function(T,ba){var aa=
(T[2]-T[0])/2*(ba-1);ba=(T[3]-T[1])/2*(ba-1);T[0]-=aa;T[2]+=aa;T[1]-=ba;T[3]+=ba};G.intersectsSegment=function(T,ba,aa){var W=!1,X=p(T,ba),P=p(T,aa);if(X===R.default.INTERSECTING||P===R.default.INTERSECTING)W=!0;else{var w=T[0],B=T[1],K=T[2];T=T[3];var U=aa[0];aa=aa[1];ba=(aa-ba[1])/(U-ba[0]);P&R.default.ABOVE&&!(X&R.default.ABOVE)&&(W=U-(aa-T)/ba,W=W>=w&&W<=K);W||!(P&R.default.RIGHT)||X&R.default.RIGHT||(W=aa-(U-K)*ba,W=W>=B&&W<=T);W||!(P&R.default.BELOW)||X&R.default.BELOW||(W=U-(aa-B)/ba,W=W>=
w&&W<=K);W||!(P&R.default.LEFT)||X&R.default.LEFT||(W=aa-(U-w)*ba,W=W>=B&&W<=T)}return W};G.applyTransform=function(T,ba,aa,W){var X=[];if(1<W)for(var P=T[2]-T[0],w=T[3]-T[1],B=0;B<W;++B)X.push(T[0]+P*B/W,T[1],T[2],T[1]+w*B/W,T[2]-P*B/W,T[3],T[0],T[3]-w*B/W);else X=[T[0],T[1],T[2],T[1],T[2],T[3],T[0],T[3]];ba(X,X,2);ba=[];T=[];B=0;for(W=X.length;B<W;B+=2)ba.push(X[B]),T.push(X[B+1]);X=Math.min.apply(null,ba);B=Math.min.apply(null,T);ba=Math.max.apply(null,ba);T=Math.max.apply(null,T);return v(X,B,
ba,T,aa)};G.wrapX=M;G.wrapAndSliceX=function(T,ba){if(ba.canWrapX()){var aa=ba.getExtent();if(!isFinite(T[0])||!isFinite(T[2]))return[[aa[0],T[1],aa[2],T[3]]];M(T,ba);ba=x(aa);if(x(T)>ba)return[[aa[0],T[1],aa[2],T[3]]];if(T[0]<aa[0])return[[T[0]+ba,T[1],aa[2],T[3]],[aa[0],T[1],T[2],T[3]]];if(T[2]>aa[2])return[[T[0],T[1],aa[2],T[3]],[aa[0],T[1],T[2]-ba,T[3]]]}return[T]};var R=function(T){return T&&T.__esModule?T:{default:T}}(F(73)),Z=F(71)};
shadow$provide[75]=function(sa,F,ob,G){function y(n,v,r,h){n=r-n;v=h-v;return n*n+v*v}function p(n,v){v=Math.pow(10,v);return Math.round(n*v)/v}Object.defineProperty(G,"__esModule",{value:!0});G.clamp=function(n,v,r){return Math.min(Math.max(n,v),r)};G.squaredSegmentDistance=function(n,v,r,h,k,f){var e=k-r,d=f-h;if(0!==e||0!==d){var a=((n-r)*e+(v-h)*d)/(e*e+d*d);1<a?(r=k,h=f):0<a&&(r+=e*a,h+=d*a)}return y(n,v,r,h)};G.squaredDistance=y;G.solveLinearSystem=function(n){for(var v=n.length,r=0;r<v;r++){for(var h=
r,k=Math.abs(n[r][r]),f=r+1;f<v;f++){var e=Math.abs(n[f][r]);e>k&&(k=e,h=f)}if(0===k)return null;k=n[h];n[h]=n[r];n[r]=k;for(h=r+1;h<v;h++)for(k=-n[h][r]/n[r][r],f=r;f<v+1;f++)n[h][f]=r==f?0:n[h][f]+k*n[r][f]}r=Array(v);for(h=v-1;0<=h;h--)for(r[h]=n[h][v]/n[h][h],k=h-1;0<=k;k--)n[k][v]-=n[k][h]*r[h];return r};G.toDegrees=function(n){return 180*n/Math.PI};G.toRadians=function(n){return n*Math.PI/180};G.modulo=function(n,v){n%=v;return 0>n*v?n+v:n};G.lerp=function(n,v,r){return n+r*(v-n)};G.toFixed=
p;G.round=function(n,v){return Math.round(p(n,v))};G.floor=function(n,v){return Math.floor(p(n,v))};G.ceil=function(n,v){return Math.ceil(p(n,v))};G.log2=G.cosh=void 0;sa=function(){return"cosh"in Math?Math.cosh:function(n){n=Math.exp(n);return(n+1/n)/2}}();G.cosh=sa;sa=function(){return"log2"in Math?Math.log2:function(n){return Math.log(n)*Math.LOG2E}}();G.log2=sa};
shadow$provide[76]=function(sa,F,ob,G){function y(e){var d=document.createElement("div");d.style.color=e;return""!==d.style.color?(document.body.appendChild(d),e=getComputedStyle(d).color,document.body.removeChild(d),e):""}function p(e){e[0]=(0,r.clamp)(e[0]+.5|0,0,255);e[1]=(0,r.clamp)(e[1]+.5|0,0,255);e[2]=(0,r.clamp)(e[2]+.5|0,0,255);e[3]=(0,r.clamp)(e[3],0,1);return e}function n(e){var d=e[0];d!=(d|0)&&(d=d+.5|0);var a=e[1];a!=(a|0)&&(a=a+.5|0);var c=e[2];c!=(c|0)&&(c=c+.5|0);return"rgba("+d+
","+a+","+c+","+(void 0===e[3]?1:Math.round(100*e[3])/100)+")"}Object.defineProperty(G,"__esModule",{value:!0});G.asString=function(e){return"string"===typeof e?e:n(e)};G.asArray=function(e){return Array.isArray(e)?e:f(e)};G.normalize=p;G.toString=n;G.isStringColor=function(e){k.test(e)&&(e=y(e));return h.test(e)||0===e.indexOf("rgba(")||0===e.indexOf("rgb(")};G.fromString=void 0;var v=F(71),r=F(75),h=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,k=/^([a-z]*)$|^hsla?\(.*\)$/i,f=function(){var e=
{},d=0;return function(a){if(e.hasOwnProperty(a))var c=e[a];else{if(1024<=d){c=0;for(var b in e)0===(c++&3)&&(delete e[b],--d)}c=a;k.exec(c)&&(c=y(c));if(h.exec(c)){b=c.length-1;var m=4>=b?1:2;var z=4===b||8===b;b=parseInt(c.substr(1+0*m,m),16);var u=parseInt(c.substr(1+1*m,m),16);var C=parseInt(c.substr(1+2*m,m),16);c=z?parseInt(c.substr(1+3*m,m),16):255;1==m&&(b=(b<<4)+b,u=(u<<4)+u,C=(C<<4)+C,z&&(c=(c<<4)+c));m=[b,u,C,c/255]}else 0==c.indexOf("rgba(")?(m=c.slice(5,-1).split(",").map(Number),p(m)):
0==c.indexOf("rgb(")?(m=c.slice(4,-1).split(",").map(Number),m.push(1),p(m)):(0,v.assert)(!1,14);c=m;e[a]=c;++d}return c}}();G.fromString=f};
shadow$provide[77]=function(sa,F,ob,G){function y(n,v,r){r=r?(0,p.asString)(r):"null";return v+":"+n+":"+r}Object.defineProperty(G,"__esModule",{value:!0});G.shared=G.default=void 0;var p=F(76);sa=function(){function n(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}n.prototype.clear=function(){this.cache_={};this.cacheSize_=0};n.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_};n.prototype.expire=function(){if(this.canExpireCache()){var v=0,r;for(r in this.cache_){var h=
this.cache_[r];0!==(v++&3)||h.hasListener()||(delete this.cache_[r],--this.cacheSize_)}}};n.prototype.get=function(v,r,h){v=y(v,r,h);return v in this.cache_?this.cache_[v]:null};n.prototype.set=function(v,r,h,k){v=y(v,r,h);this.cache_[v]=k;++this.cacheSize_};n.prototype.setSize=function(v){this.maxCacheSize_=v;this.expire()};return n}();G.default=sa;sa=new sa;G.shared=sa};
shadow$provide[78]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.stopPropagation=function(y){y.stopPropagation()};G.preventDefault=function(y){y.preventDefault()};G.default=void 0;sa=function(){function y(p){this.type=p;this.target=null}y.prototype.preventDefault=function(){this.defaultPrevented=!0};y.prototype.stopPropagation=function(){this.propagationStopped=!0};return y}();G.default=sa};
shadow$provide[79]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={PROPERTYCHANGE:"propertychange"}};
shadow$provide[80]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.clear=function(y){for(var p in y)delete y[p]};G.isEmpty=function(y){for(var p in y)return!1;return!p};G.getValues=G.assign=void 0;G.assign="function"===typeof Object.assign?Object.assign:function(y,p){if(void 0===y||null===y)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(y),v=1,r=arguments.length;v<r;++v){var h=arguments[v];if(void 0!==h&&null!==h)for(var k in h)h.hasOwnProperty(k)&&
(n[k]=h[k])}return n};G.getValues="function"===typeof Object.values?Object.values:function(y){var p=[],n;for(n in y)p.push(y[n]);return p}};
shadow$provide[81]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(65));var p=y(F(78)),n=F(67),v=F(80),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&null!==
f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=h.call(this)||this;e.eventTarget_=f;e.pendingRemovals_=null;e.dispatching_=null;e.listeners_=null;return e}r(k,h);k.prototype.addEventListener=function(f,e){if(f&&e){var d=this.listeners_||(this.listeners_={});f=d[f]||(d[f]=[]);-1===f.indexOf(e)&&f.push(e)}};k.prototype.dispatchEvent=function(f){var e=
"string"===typeof f,d=e?f:f.type,a=this.listeners_&&this.listeners_[d];if(a){var c=e?new p.default(f):f;c.target||(c.target=this.eventTarget_||this);f=this.dispatching_||(this.dispatching_={});e=this.pendingRemovals_||(this.pendingRemovals_={});d in f||(f[d]=0,e[d]=0);++f[d];for(var b,m=0,z=a.length;m<z;++m)if(b="handleEvent"in a[m]?a[m].handleEvent(c):a[m].call(this,c),!1===b||c.propagationStopped){b=!1;break}if(0===--f[d]){a=e[d];for(delete e[d];a--;)this.removeEventListener(d,n.VOID);delete f[d]}return b}};
k.prototype.disposeInternal=function(){this.listeners_&&(0,v.clear)(this.listeners_)};k.prototype.getListeners=function(f){return this.listeners_&&this.listeners_[f]||void 0};k.prototype.hasListener=function(f){return this.listeners_?f?f in this.listeners_:0<Object.keys(this.listeners_).length:!1};k.prototype.removeEventListener=function(f,e){var d=this.listeners_&&this.listeners_[f];d&&(e=d.indexOf(e),-1!==e&&(this.pendingRemovals_&&f in this.pendingRemovals_?(d[e]=n.VOID,++this.pendingRemovals_[f]):
(d.splice(e,1),0===d.length&&delete this.listeners_[f])))};return k}(sa.default);G.default=F};
shadow$provide[82]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[83]=function(sa,F,ob,G){function y(n,v,r,h,k){h&&h!==n&&(r=r.bind(h));if(k){var f=r;r=function(){n.removeEventListener(v,r);f.apply(this,arguments)}}h={target:n,type:v,listener:r};n.addEventListener(v,r);return h}Object.defineProperty(G,"__esModule",{value:!0});G.listen=y;G.listenOnce=function(n,v,r,h){return y(n,v,r,h,!0)};G.unlistenByKey=function(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),(0,p.clear)(n))};var p=F(80)};
shadow$provide[84]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}function p(h){if(Array.isArray(h))for(var k=0,f=h.length;k<f;++k)(0,v.unlistenByKey)(h[k]);else(0,v.unlistenByKey)(h)}Object.defineProperty(G,"__esModule",{value:!0});G.unByKey=p;G.default=void 0;sa=y(F(81));var n=y(F(82)),v=F(83),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,
a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(){var f=h.call(this)||this;f.on=f.onInternal;f.once=f.onceInternal;f.un=f.unInternal;f.revision_=0;return f}r(k,h);k.prototype.changed=function(){++this.revision_;this.dispatchEvent(n.default.CHANGE)};
k.prototype.getRevision=function(){return this.revision_};k.prototype.onInternal=function(f,e){if(Array.isArray(f)){for(var d=f.length,a=Array(d),c=0;c<d;++c)a[c]=(0,v.listen)(this,f[c],e);return a}return(0,v.listen)(this,f,e)};k.prototype.onceInternal=function(f,e){if(Array.isArray(f)){var d=f.length;var a=Array(d);for(var c=0;c<d;++c)a[c]=(0,v.listenOnce)(this,f[c],e)}else a=(0,v.listenOnce)(this,f,e);return e.ol_key=a};k.prototype.unInternal=function(f,e){var d=e.ol_key;if(d)p(d);else if(Array.isArray(f)){d=
0;for(var a=f.length;d<a;++d)this.removeEventListener(f[d],e)}else this.removeEventListener(f,e)};return k}(sa.default);G.default=F};
shadow$provide[85]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.ObjectEvent=void 0;sa=y(F(78));var p=y(F(79));ob=y(F(84));var n=F(80),v=F(68),r=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}
if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}(),h=function(k){function f(e,d,a){e=k.call(this,e)||this;e.key=d;e.oldValue=a;return e}r(f,k);return f}(sa.default);G.ObjectEvent=h;F=function(k){function f(e){var d=k.call(this)||this;(0,v.getUid)(d);d.values_=null;void 0!==e&&d.setProperties(e);return d}r(f,k);f.prototype.get=function(e){var d;this.values_&&
this.values_.hasOwnProperty(e)&&(d=this.values_[e]);return d};f.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]};f.prototype.getProperties=function(){return this.values_&&(0,n.assign)({},this.values_)||{}};f.prototype.hasProperties=function(){return!!this.values_};f.prototype.notify=function(e,d){var a="change:".concat(e);this.hasListener(a)&&this.dispatchEvent(new h(a,e,d));a=p.default.PROPERTYCHANGE;this.hasListener(a)&&this.dispatchEvent(new h(a,e,d))};f.prototype.addChangeListener=
function(e,d){this.addEventListener("change:".concat(e),d)};f.prototype.removeChangeListener=function(e,d){this.removeEventListener("change:".concat(e),d)};f.prototype.set=function(e,d,a){var c=this.values_||(this.values_={});a?c[e]=d:(a=c[e],c[e]=d,a!==d&&this.notify(e,a))};f.prototype.setProperties=function(e,d){for(var a in e)this.set(a,e[a],d)};f.prototype.applyProperties=function(e){e.values_&&(0,n.assign)(this.values_||(this.values_={}),e.values_)};f.prototype.unset=function(e,d){if(this.values_&&
e in this.values_){var a=this.values_[e];delete this.values_[e];(0,n.isEmpty)(this.values_)&&(this.values_=null);d||this.notify(e,a)}};return f}(ob.default);G.default=F};
shadow$provide[86]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}};
shadow$provide[87]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(85));var p=y(F(86)),n=F(68),v=F(71),r=F(80),h=F(75),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){var a=f.call(this)||this;a.background_=d.background;var c=(0,r.assign)({},d);"object"===typeof d.properties&&(delete c.properties,(0,r.assign)(c,d.properties));c[p.default.OPACITY]=void 0!==d.opacity?d.opacity:1;(0,v.assert)("number"===typeof c[p.default.OPACITY],64);c[p.default.VISIBLE]=
void 0!==d.visible?d.visible:!0;c[p.default.Z_INDEX]=d.zIndex;c[p.default.MAX_RESOLUTION]=void 0!==d.maxResolution?d.maxResolution:Infinity;c[p.default.MIN_RESOLUTION]=void 0!==d.minResolution?d.minResolution:0;c[p.default.MIN_ZOOM]=void 0!==d.minZoom?d.minZoom:-Infinity;c[p.default.MAX_ZOOM]=void 0!==d.maxZoom?d.maxZoom:Infinity;a.className_=void 0!==c.className?c.className:"ol-layer";delete c.className;a.setProperties(c);a.state_=null;return a}k(e,f);e.prototype.getBackground=function(){return this.background_};
e.prototype.getClassName=function(){return this.className_};e.prototype.getLayerState=function(d){d=this.state_||{layer:this,managed:void 0===d?!0:d};var a=this.getZIndex();d.opacity=(0,h.clamp)(Math.round(100*this.getOpacity())/100,0,1);d.visible=this.getVisible();d.extent=this.getExtent();d.zIndex=void 0!==a||d.managed?a:Infinity;d.maxResolution=this.getMaxResolution();d.minResolution=Math.max(this.getMinResolution(),0);d.minZoom=this.getMinZoom();d.maxZoom=this.getMaxZoom();return this.state_=
d};e.prototype.getLayersArray=function(d){return(0,n.abstract)()};e.prototype.getLayerStatesArray=function(d){return(0,n.abstract)()};e.prototype.getExtent=function(){return this.get(p.default.EXTENT)};e.prototype.getMaxResolution=function(){return this.get(p.default.MAX_RESOLUTION)};e.prototype.getMinResolution=function(){return this.get(p.default.MIN_RESOLUTION)};e.prototype.getMinZoom=function(){return this.get(p.default.MIN_ZOOM)};e.prototype.getMaxZoom=function(){return this.get(p.default.MAX_ZOOM)};
e.prototype.getOpacity=function(){return this.get(p.default.OPACITY)};e.prototype.getSourceState=function(){return(0,n.abstract)()};e.prototype.getVisible=function(){return this.get(p.default.VISIBLE)};e.prototype.getZIndex=function(){return this.get(p.default.Z_INDEX)};e.prototype.setBackground=function(d){this.background_=d;this.changed()};e.prototype.setExtent=function(d){this.set(p.default.EXTENT,d)};e.prototype.setMaxResolution=function(d){this.set(p.default.MAX_RESOLUTION,d)};e.prototype.setMinResolution=
function(d){this.set(p.default.MIN_RESOLUTION,d)};e.prototype.setMaxZoom=function(d){this.set(p.default.MAX_ZOOM,d)};e.prototype.setMinZoom=function(d){this.set(p.default.MIN_ZOOM,d)};e.prototype.setOpacity=function(d){(0,v.assert)("number"===typeof d,64);this.set(p.default.OPACITY,d)};e.prototype.setVisible=function(d){this.set(p.default.VISIBLE,d)};e.prototype.setZIndex=function(d){this.set(p.default.Z_INDEX,d)};e.prototype.disposeInternal=function(){this.state_&&(this.state_=this.state_.layer=
null);f.prototype.disposeInternal.call(this)};return e}(sa.default);G.default=F};
shadow$provide[88]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[89]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(G,"__esModule",{value:!0});G.inView=function(e,d){if(!e.visible)return!1;var a=d.resolution;if(a<e.minResolution||a>=e.maxResolution)return!1;d=d.zoom;return d>e.minZoom&&d<=e.maxZoom};G.default=void 0;sa=y(F(87));var p=y(F(82)),n=y(F(86)),v=y(F(88)),r=F(71),h=F(80),k=F(83),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=
b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a){var c=(0,h.assign)({},a);delete c.source;c=e.call(this,c)||this;c.mapPrecomposeKey_=null;c.mapRenderKey_=null;c.sourceChangeKey_=
null;c.renderer_=null;c.rendered=!1;a.render&&(c.render=a.render);a.map&&c.setMap(a.map);c.addChangeListener(n.default.SOURCE,c.handleSourcePropertyChange_);c.setSource(a.source?a.source:null);return c}f(d,e);d.prototype.getLayersArray=function(a){a=a?a:[];a.push(this);return a};d.prototype.getLayerStatesArray=function(a){a=a?a:[];a.push(this.getLayerState());return a};d.prototype.getSource=function(){return this.get(n.default.SOURCE)||null};d.prototype.getRenderSource=function(){return this.getSource()};
d.prototype.getSourceState=function(){var a=this.getSource();return a?a.getState():"undefined"};d.prototype.handleSourceChange_=function(){this.changed()};d.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,k.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var a=this.getSource();a&&(this.sourceChangeKey_=(0,k.listen)(a,p.default.CHANGE,this.handleSourceChange_,this));this.changed()};d.prototype.getFeatures=function(a){return this.renderer_?this.renderer_.getFeatures(a):
new Promise(function(c){return c([])})};d.prototype.getData=function(a){return this.renderer_&&this.rendered?this.renderer_.getData(a):null};d.prototype.render=function(a,c){var b=this.getRenderer();if(b.prepareFrame(a))return this.rendered=!0,b.renderFrame(a,c)};d.prototype.unrender=function(){this.rendered=!1};d.prototype.setMapInternal=function(a){a||this.unrender();this.set(n.default.MAP,a)};d.prototype.getMapInternal=function(){return this.get(n.default.MAP)};d.prototype.setMap=function(a){this.mapPrecomposeKey_&&
((0,k.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);a||this.changed();this.mapRenderKey_&&((0,k.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);a&&(this.mapPrecomposeKey_=(0,k.listen)(a,v.default.PRECOMPOSE,function(c){c=c.frameState.layerStatesArray;var b=this.getLayerState(!1);(0,r.assert)(!c.some(function(m){return m.layer===b.layer}),67);c.push(b)},this),this.mapRenderKey_=(0,k.listen)(this,p.default.CHANGE,a.render,a),this.changed())};d.prototype.setSource=function(a){this.set(n.default.SOURCE,
a)};d.prototype.getRenderer=function(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_};d.prototype.hasRenderer=function(){return!!this.renderer_};d.prototype.createRenderer=function(){return null};d.prototype.disposeInternal=function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_);this.setSource(null);e.prototype.disposeInternal.call(this)};return d}(sa.default);G.default=F};
shadow$provide[90]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.padNumber=function(y,p,n){y=void 0!==n?y.toFixed(n):""+y;n=y.indexOf(".");n=-1===n?y.length:n;return n>p?y:Array(1+p-n).join("0")+y};G.compareVersions=function(y,p){y=(""+y).split(".");p=(""+p).split(".");for(var n=0;n<Math.max(y.length,p.length);n++){var v=parseInt(y[n]||"0",10),r=parseInt(p[n]||"0",10);if(v>r)return 1;if(r>v)return-1}return 0}};
shadow$provide[91]=function(sa,F,ob,G){function y(d,a){var c=d[0];d=d[1];var b=a[0],m=a[1];a=b[0];b=b[1];var z=m[0];m=m[1];var u=z-a,C=m-b;c=0===u&&0===C?0:(u*(c-a)+C*(d-b))/(u*u+C*C||0);0>=c?(d=a,c=b):1<=c?(d=z,c=m):(d=a+c*u,c=b+c*C);return[d,c]}function p(d,a,c){a=(0,f.modulo)(a+180,360)-180;var b=Math.abs(3600*a);c=c||0;var m=Math.pow(10,c),z=Math.floor(b/3600),u=Math.floor((b-3600*z)/60);b=Math.ceil((b-3600*z-60*u)*m)/m;60<=b&&(b=0,u+=1);60<=u&&(u=0,z+=1);return z+" "+(0,e.padNumber)(u,2)+" "+
(0,e.padNumber)(b,2,c)+""+(0==a?"":" "+d.charAt(0>a?1:0))}function n(d,a,c){return d?a.replace("{x}",d[0].toFixed(c)).replace("{y}",d[1].toFixed(c)):""}function v(d,a){var c=d[0]-a[0];d=d[1]-a[1];return c*c+d*d}function r(d,a){return n(d,"{x}, {y}",a)}function h(d,a,c){var b=a.getExtent(),m=0;a.canWrapX()&&(d[0]<b[0]||d[0]>b[2])&&(a=c||(0,k.getWidth)(b),m=Math.floor((d[0]-b[0])/a));return m}Object.defineProperty(G,"__esModule",{value:!0});G.add=function(d,a){d[0]+=+a[0];d[1]+=+a[1];return d};G.closestOnCircle=
function(d,a){var c=a.getRadius(),b=a.getCenter();a=b[0];b=b[1];var m=d[0]-a;d=d[1]-b;0===m&&0===d&&(m=1);var z=Math.sqrt(m*m+d*d);return[a+c*m/z,b+c*d/z]};G.closestOnSegment=y;G.createStringXY=function(d){return function(a){return r(a,d)}};G.degreesToStringHDMS=p;G.format=n;G.equals=function(d,a){for(var c=!0,b=d.length-1;0<=b;--b)if(d[b]!=a[b]){c=!1;break}return c};G.rotate=function(d,a){var c=Math.cos(a);a=Math.sin(a);var b=d[1]*c+d[0]*a;d[0]=d[0]*c-d[1]*a;d[1]=b;return d};G.scale=function(d,a){d[0]*=
a;d[1]*=a;return d};G.squaredDistance=v;G.distance=function(d,a){return Math.sqrt(v(d,a))};G.squaredDistanceToSegment=function(d,a){return v(d,y(d,a))};G.toStringHDMS=function(d,a){return d?p("NS",d[1],a)+" "+p("EW",d[0],a):""};G.toStringXY=r;G.wrapX=function(d,a){if(a.canWrapX()){var c=(0,k.getWidth)(a.getExtent());(a=h(d,a,c))&&(d[0]-=a*c)}return d};G.getWorldsAway=h;var k=F(74),f=F(75),e=F(90)};
shadow$provide[92]=function(sa,F,ob,G){function y(d,a){h.shared.expire()}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(d){return d&&d.__esModule?d:{default:d}}(F(65));var p=F(67),n=F(68),v=F(72),r=F(74),h=F(77),k=F(89),f=F(91),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c){var b=d.call(this)||this;b.map_=c;return b}e(a,d);a.prototype.dispatchRenderEvent=function(c,b){(0,n.abstract)()};a.prototype.calculateMatrices2D=function(c){var b=c.viewState,m=c.coordinateToPixelTransform,z=c.pixelToCoordinateTransform;(0,v.compose)(m,c.size[0]/2,c.size[1]/
2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]);(0,v.makeInverse)(z,m)};a.prototype.forEachFeatureAtCoordinate=function(c,b,m,z,u,C,J,A){function x(K,U,ka,da){return u.call(C,U,K?ka:null,da)}var q=b.viewState,H=q.projection,M=(0,f.wrapX)(c.slice(),H),R=[[0,0]];H.canWrapX()&&z&&(z=H.getExtent(),z=(0,r.getWidth)(z),R.push([-z,0],[z,0]));z=b.layerStatesArray;H=z.length;for(var Z=[],T=[],ba=0;ba<R.length;ba++)for(var aa=H-1;0<=aa;--aa){var W=z[aa],X=W.layer;if(X.hasRenderer()&&
(0,k.inView)(W,q)&&J.call(A,X)){var P=X.getRenderer();X=X.getSource();if(P&&X){X=X.getWrapX()?M:c;W=x.bind(null,W.managed);T[0]=X[0]+R[ba][0];T[1]=X[1]+R[ba][1];var w=P.forEachFeatureAtCoordinate(T,b,m,W,Z)}if(w)return w}}if(0!==Z.length){var B=1/Z.length;Z.forEach(function(K,U){return K.distanceSq+=U*B});Z.sort(function(K,U){return K.distanceSq-U.distanceSq});Z.some(function(K){return w=K.callback(K.feature,K.layer,K.geometry)});return w}};a.prototype.forEachLayerAtPixel=function(c,b,m,z,u){return(0,n.abstract)()};
a.prototype.hasFeatureAtCoordinate=function(c,b,m,z,u,C){return void 0!==this.forEachFeatureAtCoordinate(c,b,m,z,p.TRUE,this,u,C)};a.prototype.getMap=function(){return this.map_};a.prototype.renderFrame=function(c){(0,n.abstract)()};a.prototype.scheduleExpireIconCache=function(c){h.shared.canExpireCache()&&c.postRenderFunctions.push(y)};return a}(sa.default);G.default=F};
shadow$provide[93]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(78));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();sa=function(p){function n(v,r,h,k){v=p.call(this,v)||this;v.inversePixelTransform=r;v.frameState=h;v.context=k;return v}y(n,p);return n}(sa.default);G.default=sa};
shadow$provide[94]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.getFontParameters=G.CLASS_COLLAPSED=G.CLASS_CONTROL=G.CLASS_UNSUPPORTED=G.CLASS_UNSELECTABLE=G.CLASS_SELECTABLE=G.CLASS_HIDDEN=void 0;G.CLASS_HIDDEN="ol-hidden";G.CLASS_SELECTABLE="ol-selectable";G.CLASS_UNSELECTABLE="ol-unselectable";G.CLASS_UNSUPPORTED="ol-unsupported";G.CLASS_CONTROL="ol-control";G.CLASS_COLLAPSED="ol-collapsed";var y=RegExp("^\\s*(?\x3d(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$",
"i"),p="style variant weight size lineHeight family".split(" ");G.getFontParameters=function(n){n=n.match(y);if(!n)return null;for(var v={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,h=p.length;r<h;++r){var k=n[r+1];void 0!==k&&(v[p[r]]=k)}v.families=v.family.split(/,\s?/);return v}};
shadow$provide[95]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.createCanvasContext2D=function(p,n,v,r){v=v&&v.length?v.shift():y.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(p||300,n||300):document.createElement("canvas");p&&(v.width=p);n&&(v.height=n);return v.getContext("2d",r)};G.releaseCanvas=function(p){var n=p.canvas;n.width=1;n.height=1;p.clearRect(0,0,1,1)};G.outerWidth=function(p){var n=p.offsetWidth;p=getComputedStyle(p);return n+=parseInt(p.marginLeft,10)+parseInt(p.marginRight,
10)};G.outerHeight=function(p){var n=p.offsetHeight;p=getComputedStyle(p);return n+=parseInt(p.marginTop,10)+parseInt(p.marginBottom,10)};G.replaceNode=function(p,n){var v=n.parentNode;v&&v.replaceChild(p,n)};G.removeNode=function(p){return p&&p.parentNode?p.parentNode.removeChild(p):null};G.removeChildren=function(p){for(;p.lastChild;)p.removeChild(p.lastChild)};G.replaceChildren=function(p,n){for(var v=p.childNodes,r=0;;++r){var h=v[r],k=n[r];if(!h&&!k)break;h!==k&&(h?k?p.insertBefore(k,h):(p.removeChild(h),
--r):p.appendChild(k))}};var y=F(69)};
shadow$provide[96]=function(sa,F,ob,G){function y(b){return b&&b.__esModule?b:{default:b}}function p(b,m){e||(e=(0,h.createCanvasContext2D)(1,1));b!=d&&(e.font=b,d=e.font);return e.measureText(m)}function n(b,m){return p(b,m).width}Object.defineProperty(G,"__esModule",{value:!0});G.measureTextWidth=n;G.measureAndCacheTextWidth=function(b,m,z){if(m in z)return z[m];var u=m.split("\n").reduce(function(C,J){return Math.max(C,n(b,J))},0);return z[m]=u};G.getTextDimensions=function(b,m){for(var z=[],u=
[],C=[],J=0,A=0,x=0,q=0,H=0,M=m.length;H<=M;H+=2){var R=m[H];if("\n"===R||H===M)J=Math.max(J,A),C.push(A),A=0,x+=q;else{var Z=m[H+1]||b.font;R=n(Z,R);z.push(R);A+=R;Z=c(Z);u.push(Z);q=Math.max(q,Z)}}return{width:J,height:x,widths:z,heights:u,lineWidths:C}};G.rotateAtOffset=function(b,m,z,u){0!==m&&(b.translate(z,u),b.rotate(m),b.translate(-z,-u))};G.drawImageOrLabel=function(b,m,z,u,C,J,A,x,q,H,M){b.save();1!==z&&(b.globalAlpha*=z);m&&b.setTransform.apply(b,m);if(u.contextInstructions)for(b.translate(q,
H),b.scale(M[0],M[1]),m=u.contextInstructions,z=0,u=m.length;z<u;z+=2)Array.isArray(m[z+1])?b[m[z]].apply(b,m[z+1]):b[m[z]]=m[z+1];else 0>M[0]||0>M[1]?(b.translate(q,H),b.scale(M[0],M[1]),b.drawImage(u,C,J,A,x,0,0,A,x)):b.drawImage(u,C,J,A,x,q,H,A*M[0],x*M[1]);b.restore()};G.measureTextHeight=G.registerFont=G.textHeights=G.labelCache=G.checkedFonts=G.defaultLineWidth=G.defaultPadding=G.defaultTextBaseline=G.defaultTextAlign=G.defaultStrokeStyle=G.defaultMiterLimit=G.defaultLineJoin=G.defaultLineDashOffset=
G.defaultLineDash=G.defaultLineCap=G.defaultFillStyle=G.defaultFont=void 0;sa=y(F(85));ob=y(F(81));var v=F(69),r=F(80),h=F(95),k=F(94);G.defaultFont="10px sans-serif";G.defaultFillStyle="#000";G.defaultLineCap="round";G.defaultLineDash=[];G.defaultLineDashOffset=0;G.defaultLineJoin="round";G.defaultMiterLimit=10;G.defaultStrokeStyle="#000";G.defaultTextAlign="center";G.defaultTextBaseline="middle";G.defaultPadding=[0,0,0,0];G.defaultLineWidth=1;var f=new sa.default;G.checkedFonts=f;F=new ob.default;
G.labelCache=F;F.setSize=function(){console.warn("labelCache is deprecated.")};var e=null,d,a={};G.textHeights=a;F=function(){function b(A,x,q){for(var H=!0,M=0;M<u;++M){var R=z[M];J=n(A+" "+x+" 32px "+R,"wmytzilWMYTZIL@#/\x26?$%10");q!=R&&(R=n(A+" "+x+" 32px "+q+","+R,"wmytzilWMYTZIL@#/\x26?$%10"),H=H&&R!=J)}return H?!0:!1}function m(){for(var A=!0,x=f.getKeys(),q=0,H=x.length;q<H;++q){var M=x[q];100>f.get(M)&&(b.apply(this,M.split("\n"))?((0,r.clear)(a),e=null,d=void 0,f.set(M,100)):(f.set(M,
f.get(M)+1,!0),A=!1))}A&&(clearInterval(C),C=void 0)}var z=["monospace","serif"],u=z.length,C,J;return function(A){if(A=(0,k.getFontParameters)(A))for(var x=A.families,q=0,H=x.length;q<H;++q){var M=x[q],R=A.style+"\n"+A.weight+"\n"+M;void 0===f.get(R)&&(f.set(R,100,!0),b(A.style,A.weight,M)||(f.set(R,0,!0),void 0===C&&(C=setInterval(m,32))))}}}();G.registerFont=F;var c=function(){var b;return function(m){var z=a[m];if(void 0==z){if(v.WORKER_OFFSCREEN_CANVAS){z=(0,k.getFontParameters)(m);var u=p(m,
"g");z=(isNaN(Number(z.lineHeight))?1.2:Number(z.lineHeight))*(u.actualBoundingBoxAscent+u.actualBoundingBoxDescent)}else b||(b=document.createElement("div"),b.innerHTML="M",b.style.minHeight="0",b.style.maxHeight="none",b.style.height="auto",b.style.padding="0",b.style.border="none",b.style.position="absolute",b.style.display="block",b.style.left="-99999px"),b.style.font=m,document.body.appendChild(b),z=b.offsetHeight,document.body.removeChild(b);a[m]=z}return z}}();G.measureTextHeight=c};
shadow$provide[97]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(92));var p=y(F(79)),n=y(F(93)),v=y(F(88)),r=F(94),h=F(96),k=F(89),f=F(83),e=F(95),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();F=function(a){function c(b){var m=a.call(this,b)||this;m.fontChangeListenerKey_=(0,f.listen)(h.checkedFonts,p.default.PROPERTYCHANGE,b.redrawText.bind(b));m.element_=document.createElement("div");var z=m.element_.style;z.position="absolute";z.width="100%";z.height="100%";z.zIndex="0";m.element_.className=
r.CLASS_UNSELECTABLE+" ol-layers";b=b.getViewport();b.insertBefore(m.element_,b.firstChild||null);m.children_=[];m.renderedVisible_=!0;return m}d(c,a);c.prototype.dispatchRenderEvent=function(b,m){var z=this.getMap();z.hasListener(b)&&(b=new n.default(b,void 0,m),z.dispatchEvent(b))};c.prototype.disposeInternal=function(){(0,f.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);a.prototype.disposeInternal.call(this)};c.prototype.renderFrame=function(b){if(b){this.calculateMatrices2D(b);
this.dispatchRenderEvent(v.default.PRECOMPOSE,b);var m=b.layerStatesArray.sort(function(M,R){return M.zIndex-R.zIndex}),z=b.viewState;this.children_.length=0;for(var u=[],C=null,J=0,A=m.length;J<A;++J){var x=m[J];b.layerIndex=J;var q=x.layer,H=q.getSourceState();if(!(0,k.inView)(x,z)||"ready"!=H&&"undefined"!=H)q.unrender();else if(x=q.render(b,C))x!==C&&(this.children_.push(x),C=x),"getDeclutter"in q&&u.push(q)}for(J=u.length-1;0<=J;--J)u[J].renderDeclutter(b);(0,e.replaceChildren)(this.element_,
this.children_);this.dispatchRenderEvent(v.default.POSTCOMPOSE,b);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(b)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)};c.prototype.forEachLayerAtPixel=function(b,m,z,u,C){for(var J=m.viewState,A=m.layerStatesArray,x=A.length-1;0<=x;--x){var q=A[x],H=q.layer;if(H.hasRenderer()&&(0,k.inView)(q,J)&&C(H)&&(q=H.getRenderer().getDataAtPixel(b,m,z))&&(H=u(H,
q)))return H}};return c}(sa.default);G.default=F};
shadow$provide[98]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={ADD:"add",REMOVE:"remove"}};
shadow$provide[99]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.CollectionEvent=void 0;var p=y(F(70));sa=y(F(85));var n=y(F(98));F=y(F(78));var v=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=
k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}(),r=function(h){function k(f,e,d){f=h.call(this,f)||this;f.element=e;f.index=d;return f}v(k,h);return k}(F.default);G.CollectionEvent=r;F=function(h){function k(f,e){var d=h.call(this)||this;d.unique_=!!(e||{}).unique;d.array_=f?f:[];if(d.unique_)for(f=0,e=d.array_.length;f<e;++f)d.assertUnique_(d.array_[f],
f);d.updateLength_();return d}v(k,h);k.prototype.clear=function(){for(;0<this.getLength();)this.pop()};k.prototype.extend=function(f){for(var e=0,d=f.length;e<d;++e)this.push(f[e]);return this};k.prototype.forEach=function(f){for(var e=this.array_,d=0,a=e.length;d<a;++d)f(e[d],d,e)};k.prototype.getArray=function(){return this.array_};k.prototype.item=function(f){return this.array_[f]};k.prototype.getLength=function(){return this.get("length")};k.prototype.insertAt=function(f,e){this.unique_&&this.assertUnique_(e);
this.array_.splice(f,0,e);this.updateLength_();this.dispatchEvent(new r(n.default.ADD,e,f))};k.prototype.pop=function(){return this.removeAt(this.getLength()-1)};k.prototype.push=function(f){this.unique_&&this.assertUnique_(f);var e=this.getLength();this.insertAt(e,f);return this.getLength()};k.prototype.remove=function(f){for(var e=this.array_,d=0,a=e.length;d<a;++d)if(e[d]===f)return this.removeAt(d)};k.prototype.removeAt=function(f){var e=this.array_[f];this.array_.splice(f,1);this.updateLength_();
this.dispatchEvent(new r(n.default.REMOVE,e,f));return e};k.prototype.setAt=function(f,e){var d=this.getLength();if(f<d)this.unique_&&this.assertUnique_(e,f),d=this.array_[f],this.array_[f]=e,this.dispatchEvent(new r(n.default.REMOVE,d,f)),this.dispatchEvent(new r(n.default.ADD,e,f));else{for(;d<f;++d)this.insertAt(d,void 0);this.insertAt(f,e)}};k.prototype.updateLength_=function(){this.set("length",this.array_.length)};k.prototype.assertUnique_=function(f,e){for(var d=0,a=this.array_.length;d<a;++d)if(this.array_[d]===
f&&d!==e)throw new p.default(58);};return k}(sa.default);G.default=F};
shadow$provide[100]=function(sa,F,ob,G){function y(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.GroupEvent=void 0;sa=y(F(87));var p=y(F(99)),n=y(F(98));ob=y(F(78));var v=y(F(82)),r=y(F(79)),h=F(71),k=F(80),f=F(74),e=F(68),d=F(83),a=function(){var b=function(m,z){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&(u[J]=C[J])};return b(m,
z)};return function(m,z){function u(){this.constructor=m}if("function"!==typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");b(m,z);m.prototype=null===z?Object.create(z):(u.prototype=z.prototype,new u)}}(),c=function(b){function m(z,u){z=b.call(this,z)||this;z.layer=u;return z}a(m,b);return m}(ob.default);G.GroupEvent=c;F=function(b){function m(z){var u=z||{};z=(0,k.assign)({},u);delete z.layers;u=u.layers;z=b.call(this,z)||this;z.layersListenerKeys_=
[];z.listenerKeys_={};z.addChangeListener("layers",z.handleLayersChanged_);u?Array.isArray(u)?u=new p.default(u.slice(),{unique:!0}):(0,h.assert)("function"===typeof u.getArray,43):u=new p.default(void 0,{unique:!0});z.setLayers(u);return z}a(m,b);m.prototype.handleLayerChange_=function(){this.changed()};m.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(d.unlistenByKey);this.layersListenerKeys_.length=0;var z=this.getLayers();this.layersListenerKeys_.push((0,d.listen)(z,
n.default.ADD,this.handleLayersAdd_,this),(0,d.listen)(z,n.default.REMOVE,this.handleLayersRemove_,this));for(var u in this.listenerKeys_)this.listenerKeys_[u].forEach(d.unlistenByKey);(0,k.clear)(this.listenerKeys_);z=z.getArray();u=0;for(var C=z.length;u<C;u++){var J=z[u];this.registerLayerListeners_(J);this.dispatchEvent(new c("addlayer",J))}this.changed()};m.prototype.registerLayerListeners_=function(z){var u=[(0,d.listen)(z,r.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,d.listen)(z,
v.default.CHANGE,this.handleLayerChange_,this)];z instanceof m&&u.push((0,d.listen)(z,"addlayer",this.handleLayerGroupAdd_,this),(0,d.listen)(z,"removelayer",this.handleLayerGroupRemove_,this));this.listenerKeys_[(0,e.getUid)(z)]=u};m.prototype.handleLayerGroupAdd_=function(z){this.dispatchEvent(new c("addlayer",z.layer))};m.prototype.handleLayerGroupRemove_=function(z){this.dispatchEvent(new c("removelayer",z.layer))};m.prototype.handleLayersAdd_=function(z){z=z.element;this.registerLayerListeners_(z);
this.dispatchEvent(new c("addlayer",z));this.changed()};m.prototype.handleLayersRemove_=function(z){z=z.element;var u=(0,e.getUid)(z);this.listenerKeys_[u].forEach(d.unlistenByKey);delete this.listenerKeys_[u];this.dispatchEvent(new c("removelayer",z));this.changed()};m.prototype.getLayers=function(){return this.get("layers")};m.prototype.setLayers=function(z){var u=this.getLayers();if(u){u=u.getArray();for(var C=0,J=u.length;C<J;++C)this.dispatchEvent(new c("removelayer",u[C]))}this.set("layers",
z)};m.prototype.getLayersArray=function(z){var u=void 0!==z?z:[];this.getLayers().forEach(function(C){C.getLayersArray(u)});return u};m.prototype.getLayerStatesArray=function(z){var u=void 0!==z?z:[],C=u.length;this.getLayers().forEach(function(q){q.getLayerStatesArray(u)});var J=this.getLayerState(),A=J.zIndex;z||void 0!==J.zIndex||(A=0);z=C;for(C=u.length;z<C;z++){var x=u[z];x.opacity*=J.opacity;x.visible=x.visible&&J.visible;x.maxResolution=Math.min(x.maxResolution,J.maxResolution);x.minResolution=
Math.max(x.minResolution,J.minResolution);x.minZoom=Math.max(x.minZoom,J.minZoom);x.maxZoom=Math.min(x.maxZoom,J.maxZoom);void 0!==J.extent&&(x.extent=void 0!==x.extent?(0,f.getIntersection)(x.extent,J.extent):J.extent);void 0===x.zIndex&&(x.zIndex=A)}return u};m.prototype.getSourceState=function(){return"ready"};return m}(sa.default);G.default=F};
shadow$provide[101]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(78));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();sa=function(p){function n(v,r,h){v=p.call(this,v)||this;v.map=r;v.frameState=void 0!==h?h:null;return v}y(n,p);return n}(sa.default);G.default=sa};
shadow$provide[102]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(101));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();sa=function(p){function n(v,r,h,k,f,e){v=p.call(this,v,r,f)||this;v.originalEvent=h;v.pixel_=null;v.coordinate_=null;v.dragging=void 0!==k?k:!1;v.activePointers=e;return v}y(n,p);Object.defineProperty(n.prototype,"pixel",{get:function(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_},set:function(v){this.pixel_=v},enumerable:!1,configurable:!0});
Object.defineProperty(n.prototype,"coordinate",{get:function(){this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));return this.coordinate_},set:function(v){this.coordinate_=v},enumerable:!1,configurable:!0});n.prototype.preventDefault=function(){p.prototype.preventDefault.call(this);"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()};n.prototype.stopPropagation=function(){p.prototype.stopPropagation.call(this);"stopPropagation"in this.originalEvent&&
this.originalEvent.stopPropagation()};return n}(sa.default);G.default=sa};
shadow$provide[103]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=(sa=F(82))&&sa.__esModule?sa:{default:sa};G.default={SINGLECLICK:"singleclick",CLICK:sa.default.CLICK,DBLCLICK:sa.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[104]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[105]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(82)),n=y(F(102)),v=y(F(103)),r=y(F(104));sa=y(F(81));var h=F(69),k=F(67),f=F(80),e=F(83),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();F=function(a){function c(b,m){var z=a.call(this,b)||this;z.map_=b;z.emulateClicks_=!1;z.dragging_=!1;z.dragListenerKeys_=[];z.moveTolerance_=void 0===m?1:m;z.down_=null;b=z.map_.getViewport();z.activePointers_=[];z.trackedTouches_={};z.element_=b;z.pointerdownListenerKey_=(0,e.listen)(b,r.default.POINTERDOWN,
z.handlePointerDown_,z);z.relayedListenerKey_=(0,e.listen)(b,r.default.POINTERMOVE,z.relayMoveEvent_,z);z.boundHandleTouchMove_=z.handleTouchMove_.bind(z);z.element_.addEventListener(p.default.TOUCHMOVE,z.boundHandleTouchMove_,h.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);return z}d(c,a);c.prototype.emulateClick_=function(b){var m=new n.default(v.default.CLICK,this.map_,b);this.dispatchEvent(m);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,m=new n.default(v.default.DBLCLICK,
this.map_,b),this.dispatchEvent(m)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var z=new n.default(v.default.SINGLECLICK,this.map_,b);this.dispatchEvent(z)}.bind(this),250)};c.prototype.updateActivePointers_=function(b){var m=b.pointerId;if(b.type==v.default.POINTERUP||b.type==v.default.POINTERCANCEL){delete this.trackedTouches_[m];for(var z in this.trackedTouches_)if(this.trackedTouches_[z].target!==b.target){delete this.trackedTouches_[z];break}}else if(b.type==v.default.POINTERDOWN||
b.type==v.default.POINTERMOVE)this.trackedTouches_[m]=b;this.activePointers_=(0,f.getValues)(this.trackedTouches_)};c.prototype.handlePointerUp_=function(b){this.updateActivePointers_(b);var m=new n.default(v.default.POINTERUP,this.map_,b,void 0,void 0,this.activePointers_);this.dispatchEvent(m);this.emulateClicks_&&!m.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(b)&&this.emulateClick_(this.down_);0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(e.unlistenByKey),this.dragListenerKeys_.length=
0,this.dragging_=!1,this.down_=null)};c.prototype.isMouseActionButton_=function(b){return 0===b.button};c.prototype.handlePointerDown_=function(b){this.emulateClicks_=0===this.activePointers_.length;this.updateActivePointers_(b);var m=new n.default(v.default.POINTERDOWN,this.map_,b,void 0,void 0,this.activePointers_);this.dispatchEvent(m);this.down_={};for(var z in b)m=b[z],this.down_[z]="function"===typeof m?k.VOID:m;0===this.dragListenerKeys_.length&&(b=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,e.listen)(b,
v.default.POINTERMOVE,this.handlePointerMove_,this),(0,e.listen)(b,v.default.POINTERUP,this.handlePointerUp_,this),(0,e.listen)(this.element_,v.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==b&&this.dragListenerKeys_.push((0,e.listen)(this.element_.getRootNode(),v.default.POINTERUP,this.handlePointerUp_,this)))};c.prototype.handlePointerMove_=function(b){this.isMoving_(b)&&(this.updateActivePointers_(b),this.dragging_=!0,b=new n.default(v.default.POINTERDRAG,
this.map_,b,this.dragging_,void 0,this.activePointers_),this.dispatchEvent(b))};c.prototype.relayMoveEvent_=function(b){this.originalPointerMoveEvent_=b;var m=!(!this.down_||!this.isMoving_(b));this.dispatchEvent(new n.default(v.default.POINTERMOVE,this.map_,b,m))};c.prototype.handleTouchMove_=function(b){var m=this.originalPointerMoveEvent_;m&&!m.defaultPrevented||"boolean"===typeof b.cancelable&&!0!==b.cancelable||b.preventDefault()};c.prototype.isMoving_=function(b){return this.dragging_||Math.abs(b.clientX-
this.down_.clientX)>this.moveTolerance_||Math.abs(b.clientY-this.down_.clientY)>this.moveTolerance_};c.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,e.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(p.default.TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&((0,e.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(e.unlistenByKey);this.dragListenerKeys_.length=
0;this.element_=null;a.prototype.disposeInternal.call(this)};return c}(sa.default);G.default=F};
shadow$provide[106]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}};
shadow$provide[107]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[108]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=G.DROP=void 0;var y=F(71),p=F(80);G.DROP=Infinity;sa=function(){function n(v,r){this.priorityFunction_=v;this.keyFunction_=r;this.elements_=[];this.priorities_=[];this.queuedElements_={}}n.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;(0,p.clear)(this.queuedElements_)};n.prototype.dequeue=function(){var v=this.elements_,r=this.priorities_,h=v[0];1==v.length?(v.length=0,
r.length=0):(v[0]=v.pop(),r[0]=r.pop(),this.siftUp_(0));v=this.keyFunction_(h);delete this.queuedElements_[v];return h};n.prototype.enqueue=function(v){(0,y.assert)(!(this.keyFunction_(v)in this.queuedElements_),31);var r=this.priorityFunction_(v);return Infinity!=r?(this.elements_.push(v),this.priorities_.push(r),this.queuedElements_[this.keyFunction_(v)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1};n.prototype.getCount=function(){return this.elements_.length};n.prototype.getLeftChildIndex_=
function(v){return 2*v+1};n.prototype.getRightChildIndex_=function(v){return 2*v+2};n.prototype.getParentIndex_=function(v){return v-1>>1};n.prototype.heapify_=function(){var v;for(v=(this.elements_.length>>1)-1;0<=v;v--)this.siftUp_(v)};n.prototype.isEmpty=function(){return 0===this.elements_.length};n.prototype.isKeyQueued=function(v){return v in this.queuedElements_};n.prototype.isQueued=function(v){return this.isKeyQueued(this.keyFunction_(v))};n.prototype.siftUp_=function(v){for(var r=this.elements_,
h=this.priorities_,k=r.length,f=r[v],e=h[v],d=v;v<k>>1;){var a=this.getLeftChildIndex_(v),c=this.getRightChildIndex_(v);a=c<k&&h[c]<h[a]?c:a;r[v]=r[a];h[v]=h[a];v=a}r[v]=f;h[v]=e;this.siftDown_(d,v)};n.prototype.siftDown_=function(v,r){for(var h=this.elements_,k=this.priorities_,f=h[r],e=k[r];r>v;){var d=this.getParentIndex_(r);if(k[d]>e)h[r]=h[d],k[r]=k[d],r=d;else break}h[r]=f;k[r]=e};n.prototype.reprioritize=function(){var v=this.priorityFunction_,r=this.elements_,h=this.priorities_,k=0,f=r.length,
e;for(e=0;e<f;++e){var d=r[e];var a=v(d);Infinity==a?delete this.queuedElements_[this.keyFunction_(d)]:(h[k]=a,r[k++]=d)}r.length=k;h.length=k;this.heapify_()};return n}();G.default=sa};
shadow$provide[109]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[110]=function(sa,F,ob,G){function y(k){if("function"!==typeof WeakMap)return null;var f=new WeakMap,e=new WeakMap;return(y=function(d){return d?e:f})(k)}function p(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(G,"__esModule",{value:!0});G.getTilePriority=function(k,f,e,d,a){if(!(k&&e in k.wantedTiles&&k.wantedTiles[e][f.getKey()]))return v.DROP;f=k.viewState.center;k=d[0]-f[0];d=d[1]-f[1];return 65536*Math.log(a)+Math.sqrt(k*k+d*d)/a};G.default=void 0;var n=p(F(82)),
v=function(k,f){if(!f&&k&&k.__esModule)return k;if(null===k||"object"!==typeof k&&"function"!==typeof k)return{default:k};if((f=y(f))&&f.has(k))return f.get(k);var e={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor,a;for(a in k)if("default"!==a&&Object.prototype.hasOwnProperty.call(k,a)){var c=d?Object.getOwnPropertyDescriptor(k,a):null;c&&(c.get||c.set)?Object.defineProperty(e,a,c):e[a]=k[a]}e.default=k;f&&f.set(k,e);return e}(F(108)),r=p(F(109)),h=function(){var k=function(f,e){k=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();sa=function(k){function f(e,d){var a=k.call(this,function(c){return e.apply(null,c)},
function(c){return c[0].getKey()})||this;a.boundHandleTileChange_=a.handleTileChange.bind(a);a.tileChangeCallback_=d;a.tilesLoading_=0;a.tilesLoadingKeys_={};return a}h(f,k);f.prototype.enqueue=function(e){var d=k.prototype.enqueue.call(this,e);d&&e[0].addEventListener(n.default.CHANGE,this.boundHandleTileChange_);return d};f.prototype.getTilesLoading=function(){return this.tilesLoading_};f.prototype.handleTileChange=function(e){e=e.target;var d=e.getState();if(d===r.default.LOADED||d===r.default.ERROR||
d===r.default.EMPTY)e.removeEventListener(n.default.CHANGE,this.boundHandleTileChange_),e=e.getKey(),e in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[e],--this.tilesLoading_),this.tileChangeCallback_()};f.prototype.loadMoreTiles=function(e,d){for(var a=0,c,b,m;this.tilesLoading_<e&&a<d&&0<this.getCount();)b=this.dequeue()[0],m=b.getKey(),c=b.getState(),c!==r.default.IDLE||m in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[m]=!0,++this.tilesLoading_,++a,b.load())};return f}(v.default);
G.default=sa};
shadow$provide[111]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.fromCode=function(p){return y[p]};G.default=G.METERS_PER_UNIT=void 0;sa={RADIANS:"radians",DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};var y={9001:sa.METERS,9002:sa.FEET,9003:sa.USFEET,9101:sa.RADIANS,9102:sa.DEGREES};F={};G.METERS_PER_UNIT=F;F[sa.RADIANS]=6370997/(2*Math.PI);F[sa.DEGREES]=12741994*Math.PI/360;F[sa.FEET]=.3048;F[sa.METERS]=1;F[sa.USFEET]=
1200/3937;G.default=sa};
shadow$provide[112]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={ANIMATING:0,INTERACTING:1}};
shadow$provide[113]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[114]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.DEFAULT_MAX_ZOOM=42;G.DEFAULT_TILE_SIZE=256};
shadow$provide[115]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(111);sa=function(){function p(n){this.code_=n.code;this.units_=n.units;this.extent_=void 0!==n.extent?n.extent:null;this.worldExtent_=void 0!==n.worldExtent?n.worldExtent:null;this.axisOrientation_=void 0!==n.axisOrientation?n.axisOrientation:"enu";this.global_=void 0!==n.global?n.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=n.getPointResolution;
this.defaultTileGrid_=null;this.metersPerUnit_=n.metersPerUnit}p.prototype.canWrapX=function(){return this.canWrapX_};p.prototype.getCode=function(){return this.code_};p.prototype.getExtent=function(){return this.extent_};p.prototype.getUnits=function(){return this.units_};p.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||y.METERS_PER_UNIT[this.units_]};p.prototype.getWorldExtent=function(){return this.worldExtent_};p.prototype.getAxisOrientation=function(){return this.axisOrientation_};
p.prototype.isGlobal=function(){return this.global_};p.prototype.setGlobal=function(n){this.global_=n;this.canWrapX_=!(!n||!this.extent_)};p.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};p.prototype.setDefaultTileGrid=function(n){this.defaultTileGrid_=n};p.prototype.setExtent=function(n){this.extent_=n;this.canWrapX_=!(!this.global_||!n)};p.prototype.setWorldExtent=function(n){this.worldExtent_=n};p.prototype.setGetPointResolution=function(n){this.getPointResolutionFunc_=n};
p.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};return p}();G.default=sa};
shadow$provide[116]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(G,"__esModule",{value:!0});G.fromEPSG4326=function(e,d,a){var c=e.length;a=1<a?a:2;void 0===d&&(d=2<a?e.slice():Array(c));for(var b=0;b<c;b+=a){d[b]=r*e[b]/180;var m=6378137*Math.log(Math.tan(Math.PI*(+e[b+1]+90)/360));m>f?m=f:m<-f&&(m=-f);d[b+1]=m}return d};G.toEPSG4326=function(e,d,a){var c=e.length;a=1<a?a:2;void 0===d&&(d=2<a?e.slice():Array(c));for(var b=0;b<c;b+=a)d[b]=180*e[b]/r,
d[b+1]=360*Math.atan(Math.exp(e[b+1]/6378137))/Math.PI-90;return d};G.PROJECTIONS=G.MAX_SAFE_Y=G.WORLD_EXTENT=G.EXTENT=G.HALF_SIZE=G.RADIUS=void 0;sa=y(F(115));var p=y(F(111)),n=F(75),v=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+
String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();G.RADIUS=6378137;var r=6378137*Math.PI;G.HALF_SIZE=r;var h=[-r,-r,r,r];G.EXTENT=h;var k=[-180,-85,180,85];G.WORLD_EXTENT=k;var f=6378137*Math.log(Math.tan(Math.PI/2));G.MAX_SAFE_Y=f;F=function(e){function d(a){return e.call(this,{code:a,units:p.default.METERS,extent:h,global:!0,worldExtent:k,getPointResolution:function(c,b){return c/(0,n.cosh)(b[1]/6378137)}})||this}v(d,e);return d}(sa.default);
F=[new F("EPSG:3857"),new F("EPSG:102100"),new F("EPSG:102113"),new F("EPSG:900913"),new F("http://www.opengis.net/def/crs/EPSG/0/3857"),new F("http://www.opengis.net/gml/srs/epsg.xml#3857")];G.PROJECTIONS=F};
shadow$provide[117]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.PROJECTIONS=G.METERS_PER_UNIT=G.EXTENT=G.RADIUS=void 0;sa=y(F(115));var p=y(F(111)),n=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==
typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();G.RADIUS=6378137;var v=[-180,-90,180,90];G.EXTENT=v;var r=6378137*Math.PI/180;G.METERS_PER_UNIT=r;F=function(h){function k(f,e){return h.call(this,{code:f,units:p.default.DEGREES,extent:v,axisOrientation:e,global:!0,metersPerUnit:r,worldExtent:v})||this}n(k,h);return k}(sa.default);F=[new F("CRS:84"),new F("EPSG:4326",
"neu"),new F("urn:ogc:def:crs:OGC:1.3:CRS84"),new F("urn:ogc:def:crs:OGC:2:84"),new F("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new F("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new F("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];G.PROJECTIONS=F};
shadow$provide[118]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.clear=function(){y={}};G.get=function(p){return y[p]||y[p.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};G.add=function(p,n){y[p]=n};var y={}};
shadow$provide[119]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.clear=function(){p={}};G.add=function(n,v,r){n=n.getCode();v=v.getCode();n in p||(p[n]={});p[n][v]=r};G.remove=function(n,v){n=n.getCode();v=v.getCode();var r=p[n][v];delete p[n][v];(0,y.isEmpty)(p[n])&&delete p[n];return r};G.get=function(n,v){var r;n in p&&v in p[n]&&(r=p[n][v]);return r};var y=F(80),p={}};
shadow$provide[120]=function(sa,F,ob,G){function y(f,e,d){d=d||k;var a=(0,h.toRadians)(f[1]),c=(0,h.toRadians)(e[1]),b=(c-a)/2;f=(0,h.toRadians)(e[0]-f[0])/2;f=Math.sin(b)*Math.sin(b)+Math.sin(f)*Math.sin(f)*Math.cos(a)*Math.cos(c);return 2*d*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function p(f,e){for(var d=0,a=0,c=f.length;a<c-1;++a)d+=y(f[a],f[a+1],e);return d}function n(f,e){var d=e||{},a=d.radius||k;d=d.projection||"EPSG:3857";var c=f.getType();"GeometryCollection"!==c&&(f=f.clone().transform(d,
"EPSG:4326"));d=0;var b;switch(c){case "Point":case "MultiPoint":break;case "LineString":case "LinearRing":e=f.getCoordinates();d=p(e,a);break;case "MultiLineString":case "Polygon":e=f.getCoordinates();f=0;for(c=e.length;f<c;++f)d+=p(e[f],a);break;case "MultiPolygon":e=f.getCoordinates();f=0;for(c=e.length;f<c;++f){var m=e[f];var z=0;for(b=m.length;z<b;++z)d+=p(m[z],a)}break;case "GeometryCollection":a=f.getGeometries();f=0;for(c=a.length;f<c;++f)d+=n(a[f],e);break;default:throw Error("Unsupported geometry type: "+
c);}return d}function v(f,e){for(var d=0,a=f.length,c=f[a-1][0],b=f[a-1][1],m=0;m<a;m++){var z=f[m][0],u=f[m][1];d+=(0,h.toRadians)(z-c)*(2+Math.sin((0,h.toRadians)(b))+Math.sin((0,h.toRadians)(u)));c=z;b=u}return d*e*e/2}function r(f,e){var d=e||{},a=d.radius||k;d=d.projection||"EPSG:3857";var c=f.getType();"GeometryCollection"!==c&&(f=f.clone().transform(d,"EPSG:4326"));d=0;var b;switch(c){case "Point":case "MultiPoint":case "LineString":case "MultiLineString":case "LinearRing":break;case "Polygon":e=
f.getCoordinates();d=Math.abs(v(e[0],a));f=1;for(c=e.length;f<c;++f)d-=Math.abs(v(e[f],a));break;case "MultiPolygon":e=f.getCoordinates();f=0;for(c=e.length;f<c;++f){var m=e[f];d+=Math.abs(v(m[0],a));var z=1;for(b=m.length;z<b;++z)d-=Math.abs(v(m[z],a))}break;case "GeometryCollection":a=f.getGeometries();f=0;for(c=a.length;f<c;++f)d+=r(a[f],e);break;default:throw Error("Unsupported geometry type: "+c);}return d}Object.defineProperty(G,"__esModule",{value:!0});G.getDistance=y;G.getLength=n;G.getArea=
r;G.offset=function(f,e,d,a){var c=a||k;a=(0,h.toRadians)(f[1]);f=(0,h.toRadians)(f[0]);e/=c;c=Math.asin(Math.sin(a)*Math.cos(e)+Math.cos(a)*Math.sin(e)*Math.cos(d));return[(0,h.toDegrees)(f+Math.atan2(Math.sin(d)*Math.sin(e)*Math.cos(a),Math.cos(e)-Math.sin(a)*Math.sin(c))),(0,h.toDegrees)(c)]};G.DEFAULT_RADIUS=void 0;var h=F(75),k=6371008.8;G.DEFAULT_RADIUS=k};
shadow$provide[121]=function(sa,F,ob,G){function y(W){if("function"!==typeof WeakMap)return null;var X=new WeakMap,P=new WeakMap;return(y=function(w){return w?P:X})(W)}function p(W){ba=!(void 0===W||W)}function n(W,X,P){if(void 0!==X){P=0;for(var w=W.length;P<w;++P)X[P]=W[P];W=X}else W=W.slice();return W}function v(W,X,P){if(void 0!==X&&W!==X){P=0;for(var w=W.length;P<w;++P)X[P]=W[P];W=X}return W}function r(W){(0,q.add)(W.getCode(),W);(0,H.add)(W,W,n)}function h(W){W.forEach(r)}function k(W){return"string"===
typeof W?(0,q.get)(W):W||null}function f(W){h(W);W.forEach(function(X){W.forEach(function(P){X!==P&&(0,H.add)(X,P,n)})})}function e(W,X,P,w){W.forEach(function(B){X.forEach(function(K){(0,H.add)(B,K,P);(0,H.add)(K,B,w)})})}function d(W){return function(X,P,w){var B=X.length;w=void 0!==w?w:2;P=void 0!==P?P:Array(B);for(var K=0;K<B;K+=w)for(var U=W(X.slice(K,K+w)),ka=U.length,da=0,la=w;da<la;++da)P[K+da]=da>=ka?X[K+da]:U[da];return P}}function a(W,X){W=W.getCode();X=X.getCode();(X=(0,H.get)(W,X))||
(X=v);return X}function c(W,X){W=k(W);X=k(X);return a(W,X)}function b(W,X,P){return c(X,P)(W,void 0,W.length)}function m(W,X,P,w){X=c(X,P);return(0,M.applyTransform)(W,X,void 0,w)}function z(W){aa=k(W)}function u(){f(A.PROJECTIONS);f(x.PROJECTIONS);e(x.PROJECTIONS,A.PROJECTIONS,A.fromEPSG4326,A.toEPSG4326)}Object.defineProperty(G,"__esModule",{value:!0});G.disableCoordinateWarning=p;G.cloneTransform=n;G.identityTransform=v;G.addProjection=r;G.addProjections=h;G.get=k;G.getPointResolution=function(W,
X,P,w){W=k(W);var B=W.getPointResolutionFunc();if(B)X=B(X,P),w&&w!==W.getUnits()&&(W=W.getMetersPerUnit())&&(X=X*W/J.METERS_PER_UNIT[w]);else{var K=W.getUnits();K==J.default.DEGREES&&!w||w==J.default.DEGREES||(B=a(W,k("EPSG:4326")),B===v&&K!==J.default.DEGREES?X*=W.getMetersPerUnit():(X=[P[0]-X/2,P[1],P[0]+X/2,P[1],P[0],P[1]-X/2,P[0],P[1]+X/2],X=B(X,X,2),P=(0,T.getDistance)(X.slice(0,2),X.slice(2,4)),X=(0,T.getDistance)(X.slice(4,6),X.slice(6,8)),X=(P+X)/2),W=w?J.METERS_PER_UNIT[w]:W.getMetersPerUnit(),
void 0!==W&&(X/=W))}return X};G.addEquivalentProjections=f;G.addEquivalentTransforms=e;G.clearAllProjections=function(){(0,q.clear)();(0,H.clear)()};G.createProjection=function(W,X){return W?"string"===typeof W?k(W):W:k(X)};G.createTransformFromCoordinateTransform=d;G.addCoordinateTransforms=function(W,X,P,w){W=k(W);X=k(X);(0,H.add)(W,X,d(P));(0,H.add)(X,W,d(w))};G.fromLonLat=function(W,X){p();return b(W,"EPSG:4326",void 0!==X?X:"EPSG:3857")};G.toLonLat=function(W,X){W=b(W,void 0!==X?X:"EPSG:3857",
"EPSG:4326");X=W[0];if(-180>X||180<X)W[0]=(0,R.modulo)(X+180,360)-180;return W};G.equivalent=function(W,X){if(W===X)return!0;var P=W.getUnits()===X.getUnits();return W.getCode()===X.getCode()?P:a(W,X)===n&&P};G.getTransformFromProjections=a;G.getTransform=c;G.transform=b;G.transformExtent=m;G.transformWithProjections=function(W,X,P){return a(X,P)(W)};G.setUserProjection=z;G.clearUserProjection=function(){aa=null};G.getUserProjection=function(){return aa};G.useGeographic=function(){z("EPSG:4326")};
G.toUserCoordinate=function(W,X){return aa?b(W,X,aa):W};G.fromUserCoordinate=function(W,X){return aa?b(W,aa,X):(ba&&!(0,Z.equals)(W,[0,0])&&-180<=W[0]&&180>=W[0]&&-90<=W[1]&&90>=W[1]&&(ba=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),W)};G.toUserExtent=function(W,X){return aa?m(W,X,aa):W};G.fromUserExtent=function(W,X){return aa?m(W,aa,X):W};G.toUserResolution=function(W,X){if(!aa)return W;X=k(X).getUnits();var P=aa.getUnits();return X&&
P?W*J.METERS_PER_UNIT[X]/J.METERS_PER_UNIT[P]:W};G.fromUserResolution=function(W,X){if(!aa)return W;X=k(X).getUnits();var P=aa.getUnits();return X&&P?W*J.METERS_PER_UNIT[P]/J.METERS_PER_UNIT[X]:W};G.createSafeCoordinateTransform=function(W,X,P){return function(w){var B;if(W.canWrapX()){var K=W.getExtent(),U=(0,M.getWidth)(K);w=w.slice(0);(B=(0,Z.getWorldsAway)(w,W,U))&&(w[0]-=B*U);w[0]=(0,R.clamp)(w[0],K[0],K[2]);w[1]=(0,R.clamp)(w[1],K[1],K[3])}w=P(w);B&&X.canWrapX()&&(w[0]+=B*(0,M.getWidth)(X.getExtent()));
return w}};G.addCommon=u;Object.defineProperty(G,"Projection",{enumerable:!0,get:function(){return C.default}});Object.defineProperty(G,"METERS_PER_UNIT",{enumerable:!0,get:function(){return J.METERS_PER_UNIT}});var C=function(W){return W&&W.__esModule?W:{default:W}}(F(115)),J=function(W,X){if(!X&&W&&W.__esModule)return W;if(null===W||"object"!==typeof W&&"function"!==typeof W)return{default:W};if((X=y(X))&&X.has(W))return X.get(W);var P={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor,
B;for(B in W)if("default"!==B&&Object.prototype.hasOwnProperty.call(W,B)){var K=w?Object.getOwnPropertyDescriptor(W,B):null;K&&(K.get||K.set)?Object.defineProperty(P,B,K):P[B]=W[B]}P.default=W;X&&X.set(W,P);return P}(F(111)),A=F(116),x=F(117),q=F(118),H=F(119),M=F(74),R=F(75),Z=F(91),T=F(120),ba=!0,aa=null;u()};
shadow$provide[122]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.createExtent=function(p,n,v){return function(r,h,k,f,e){if(r){if(!h&&!n)return r;var d=n?0:k[0]*h,a=n?0:k[1]*h;k=e?e[0]:0;var c=e?e[1]:0;e=p[0]+d/2+k;d=p[2]-d/2+k;k=p[1]+a/2+c;a=p[3]-a/2+c;e>d&&(d=e=(d+e)/2);k>a&&(a=k=(a+k)/2);c=(0,y.clamp)(r[0],e,d);var b=(0,y.clamp)(r[1],k,a);f&&v&&h&&(h*=30,c+=-h*Math.log(1+Math.max(0,e-r[0])/h)+h*Math.log(1+Math.max(0,r[0]-d)/h),b+=-h*Math.log(1+Math.max(0,k-r[1])/h)+h*
Math.log(1+Math.max(0,r[1]-a)/h));return[c,b]}}};G.none=function(p){return p};var y=F(75)};
shadow$provide[123]=function(sa,F,ob,G){function y(h,k,f,e){var d=(0,v.getWidth)(k)/f[0];k=(0,v.getHeight)(k)/f[1];return e?Math.min(h,Math.max(d,k)):Math.min(h,Math.min(d,k))}function p(h,k,f){var e=Math.min(h,k);e*=Math.log(1+50*Math.max(0,h/k-1))/50+1;f&&(e=Math.max(e,f),e/=Math.log(1+50*Math.max(0,f/h-1))/50+1);return(0,n.clamp)(e,f/2,2*k)}Object.defineProperty(G,"__esModule",{value:!0});G.createSnapToResolutions=function(h,k,f,e){return function(d,a,c,b){if(void 0!==d){var m=h[0],z=h[h.length-
1];c=f?y(m,f,c,e):m;if(b)return void 0===k||k?p(d,c,z):(0,n.clamp)(d,z,c);d=Math.floor((0,r.linearFindNearest)(h,Math.min(c,d),a));return h[d]>c&&d<h.length-1?h[d+1]:h[d]}}};G.createSnapToPower=function(h,k,f,e,d,a){return function(c,b,m,z){if(void 0!==c){m=d?y(k,d,m,a):k;var u=void 0!==f?f:0;return z?void 0===e||e?p(c,m,u):(0,n.clamp)(c,u,m):(0,n.clamp)(k/Math.pow(h,Math.max(Math.ceil(Math.log(k/m)/Math.log(h)-1E-9),Math.floor(Math.log(k/Math.min(m,c))/Math.log(h)+(-b*(.5-1E-9)+.5)))),u,m)}}};G.createMinMaxResolution=
function(h,k,f,e,d){return function(a,c,b,m){if(void 0!==a)return c=e?y(h,e,b,d):h,void 0!==f&&!f||!m?(0,n.clamp)(a,k,c):p(a,c,k)}};var n=F(75),v=F(74),r=F(66)};
shadow$provide[124]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.disable=function(p){if(void 0!==p)return 0};G.none=function(p){if(void 0!==p)return p};G.createSnapToN=function(p){var n=2*Math.PI/p;return function(v,r){if(r)return v;if(void 0!==v)return v=Math.floor(v/n+.5)*n}};G.createSnapToZero=function(p){var n=p||(0,y.toRadians)(5);return function(v,r){if(r)return v;if(void 0!==v)return Math.abs(v)<=n?0:v}};var y=F(75)};
shadow$provide[125]=function(sa,F,ob,G){function y(n){return Math.pow(n,3)}function p(n){return 3*n*n-2*n*n*n}Object.defineProperty(G,"__esModule",{value:!0});G.easeIn=y;G.easeOut=function(n){return 1-y(1-n)};G.inAndOut=p;G.linear=function(n){return n};G.upAndDown=function(n){return.5>n?p(2*n):1-p(2*(n-.5))}};
shadow$provide[126]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}};
shadow$provide[127]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.transform2D=function(y,p,n,v,r,h){for(var k=h?h:[],f=0;p<n;p+=v){var e=y[p],d=y[p+1];k[f++]=r[0]*e+r[2]*d+r[4];k[f++]=r[1]*e+r[3]*d+r[5]}h&&k.length!=f&&(k.length=f);return k};G.rotate=function(y,p,n,v,r,h,k){var f=k?k:[],e=Math.cos(r);r=Math.sin(r);var d=h[0];h=h[1];for(var a=0;p<n;p+=v){var c=y[p]-d,b=y[p+1]-h;f[a++]=d+c*e-b*r;f[a++]=h+c*r+b*e;for(c=p+2;c<p+v;++c)f[a++]=y[c]}k&&f.length!=a&&(f.length=a);return f};
G.scale=function(y,p,n,v,r,h,k,f){var e=f?f:[],d=k[0];k=k[1];for(var a=0;p<n;p+=v){var c=y[p]-d,b=y[p+1]-k;e[a++]=d+r*c;e[a++]=k+h*b;for(c=p+2;c<p+v;++c)e[a++]=y[c]}f&&e.length!=a&&(e.length=a);return e};G.translate=function(y,p,n,v,r,h,k){for(var f=k?k:[],e=0;p<n;p+=v){f[e++]=y[p]+r;f[e++]=y[p+1]+h;for(var d=p+2;d<p+v;++d)f[e++]=y[d]}k&&f.length!=e&&(f.length=e);return f}};
shadow$provide[128]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(85));var p=y(F(111)),n=F(68),v=F(72),r=F(74),h=F(121),k=F(67),f=F(127),e=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}(),d=(0,v.create)();F=function(a){function c(){var b=a.call(this)||this;b.extent_=(0,r.createEmpty)();b.extentRevision_=-1;b.simplifiedGeometryMaxMinSquaredTolerance=0;b.simplifiedGeometryRevision=0;b.simplifyTransformedInternal=(0,k.memoizeOne)(function(m,z,u){if(!u)return this.getSimplifiedGeometry(z);
m=this.clone();m.applyTransform(u);return m.getSimplifiedGeometry(z)});return b}e(c,a);c.prototype.simplifyTransformed=function(b,m){return this.simplifyTransformedInternal(this.getRevision(),b,m)};c.prototype.clone=function(){return(0,n.abstract)()};c.prototype.closestPointXY=function(b,m,z,u){return(0,n.abstract)()};c.prototype.containsXY=function(b,m){var z=this.getClosestPoint([b,m]);return z[0]===b&&z[1]===m};c.prototype.getClosestPoint=function(b,m){m=m?m:[NaN,NaN];this.closestPointXY(b[0],
b[1],m,Infinity);return m};c.prototype.intersectsCoordinate=function(b){return this.containsXY(b[0],b[1])};c.prototype.computeExtent=function(b){return(0,n.abstract)()};c.prototype.getExtent=function(b){if(this.extentRevision_!=this.getRevision()){var m=this.computeExtent(this.extent_);(isNaN(m[0])||isNaN(m[1]))&&(0,r.createOrUpdateEmpty)(m);this.extentRevision_=this.getRevision()}return(0,r.returnOrUpdate)(this.extent_,b)};c.prototype.rotate=function(b,m){(0,n.abstract)()};c.prototype.scale=function(b,
m,z){(0,n.abstract)()};c.prototype.simplify=function(b){return this.getSimplifiedGeometry(b*b)};c.prototype.getSimplifiedGeometry=function(b){return(0,n.abstract)()};c.prototype.getType=function(){return(0,n.abstract)()};c.prototype.applyTransform=function(b){(0,n.abstract)()};c.prototype.intersectsExtent=function(b){return(0,n.abstract)()};c.prototype.translate=function(b,m){(0,n.abstract)()};c.prototype.transform=function(b,m){var z=(0,h.get)(b);b=z.getUnits()==p.default.TILE_PIXELS?function(u,
C,J){var A=z.getExtent(),x=z.getWorldExtent();A=(0,r.getHeight)(x)/(0,r.getHeight)(A);(0,v.compose)(d,x[0],x[3],A,-A,0,0,0);(0,f.transform2D)(u,0,u.length,J,d,C);return(0,h.getTransform)(z,m)(u,C,J)}:(0,h.getTransform)(z,m);this.applyTransform(b);return this};return c}(sa.default);G.default=F};
shadow$provide[129]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}function p(f){var e;f==n.default.XY?e=2:f==n.default.XYZ||f==n.default.XYM?e=3:f==n.default.XYZM&&(e=4);return e}Object.defineProperty(G,"__esModule",{value:!0});G.getStrideForLayout=p;G.transformGeom2D=function(f,e,d){var a=f.getFlatCoordinates();return a?(f=f.getStride(),(0,h.transform2D)(a,0,a.length,f,e,d)):null};G.default=void 0;sa=y(F(128));var n=y(F(126)),v=F(68),r=F(74),h=F(127),k=function(){var f=function(e,
d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(){var d=f.call(this)||this;d.layout=
n.default.XY;d.stride=2;d.flatCoordinates=null;return d}k(e,f);e.prototype.computeExtent=function(d){return(0,r.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,d)};e.prototype.getCoordinates=function(){return(0,v.abstract)()};e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};e.prototype.getFlatCoordinates=function(){return this.flatCoordinates};e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-
this.stride)};e.prototype.getLayout=function(){return this.layout};e.prototype.getSimplifiedGeometry=function(d){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>d||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&d<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var a=this.getSimplifiedGeometryInternal(d);if(a.getFlatCoordinates().length<this.flatCoordinates.length)return a;
this.simplifiedGeometryMaxMinSquaredTolerance=d;return this};e.prototype.getSimplifiedGeometryInternal=function(d){return this};e.prototype.getStride=function(){return this.stride};e.prototype.setFlatCoordinates=function(d,a){this.stride=p(d);this.layout=d;this.flatCoordinates=a};e.prototype.setCoordinates=function(d,a){(0,v.abstract)()};e.prototype.setLayout=function(d,a,c){if(d)a=p(d);else{for(d=0;d<c;++d){if(0===a.length){this.layout=n.default.XY;this.stride=2;return}a=a[0]}a=a.length;if(2==a)var b=
n.default.XY;else 3==a?b=n.default.XYZ:4==a&&(b=n.default.XYZM);d=b}this.layout=d;this.stride=a};e.prototype.applyTransform=function(d){this.flatCoordinates&&(d(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())};e.prototype.rotate=function(d,a){var c=this.getFlatCoordinates();if(c){var b=this.getStride();(0,h.rotate)(c,0,c.length,b,d,a,c);this.changed()}};e.prototype.scale=function(d,a,c){void 0===a&&(a=d);c||(c=(0,r.getCenter)(this.getExtent()));var b=this.getFlatCoordinates();
if(b){var m=this.getStride();(0,h.scale)(b,0,b.length,m,d,a,c,b);this.changed()}};e.prototype.translate=function(d,a){var c=this.getFlatCoordinates();if(c){var b=this.getStride();(0,h.translate)(c,0,c.length,b,d,a,c);this.changed()}};return e}(sa.default);G.default=F};
shadow$provide[130]=function(sa,F,ob,G){function y(k,f,e,d,a,c,b){var m=k[f],z=k[f+1],u=k[e]-m,C=k[e+1]-z;if(0!==u||0!==C)if(c=((a-m)*u+(c-z)*C)/(u*u+C*C),1<c)f=e;else if(0<c){for(a=0;a<d;++a)b[a]=(0,h.lerp)(k[f+a],k[e+a],c);b.length=d;return}for(a=0;a<d;++a)b[a]=k[f+a];b.length=d}function p(k,f,e,d,a){var c=k[f],b=k[f+1];for(f+=d;f<e;f+=d){var m=k[f],z=k[f+1];c=(0,h.squaredDistance)(c,b,m,z);c>a&&(a=c);c=m;b=z}return a}function n(k,f,e,d,a){for(var c=0,b=e.length;c<b;++c){var m=e[c];a=p(k,f,m,d,
a);f=m}return a}function v(k,f,e,d,a,c,b,m,z,u,C){if(f==e)return u;if(0===a){var J=(0,h.squaredDistance)(b,m,k[f],k[f+1]);if(J<u){for(C=0;C<d;++C)z[C]=k[f+C];z.length=d;return J}return u}for(var A=C?C:[NaN,NaN],x=f+d;x<e;)if(y(k,x-d,x,d,b,m,A),J=(0,h.squaredDistance)(b,m,A[0],A[1]),J<u){u=J;for(C=0;C<d;++C)z[C]=A[C];z.length=d;x+=d}else x+=d*Math.max((Math.sqrt(J)-Math.sqrt(u))/a|0,1);if(c&&(y(k,e-d,f,d,b,m,A),J=(0,h.squaredDistance)(b,m,A[0],A[1]),J<u)){u=J;for(C=0;C<d;++C)z[C]=A[C];z.length=d}return u}
function r(k,f,e,d,a,c,b,m,z,u,C){C=C?C:[NaN,NaN];for(var J=0,A=e.length;J<A;++J){var x=e[J];u=v(k,f,x,d,a,c,b,m,z,u,C);f=x}return u}Object.defineProperty(G,"__esModule",{value:!0});G.maxSquaredDelta=p;G.arrayMaxSquaredDelta=n;G.multiArrayMaxSquaredDelta=function(k,f,e,d,a){for(var c=0,b=e.length;c<b;++c){var m=e[c];a=n(k,f,m,d,a);f=m[m.length-1]}return a};G.assignClosestPoint=v;G.assignClosestArrayPoint=r;G.assignClosestMultiArrayPoint=function(k,f,e,d,a,c,b,m,z,u,C){C=C?C:[NaN,NaN];for(var J=0,
A=e.length;J<A;++J){var x=e[J];u=r(k,f,x,d,a,c,b,m,z,u,C);f=x[x.length-1]}return u};var h=F(75)};
shadow$provide[131]=function(sa,F,ob,G){function y(n,v,r,h){for(var k=0,f=r.length;k<f;++k)for(var e=r[k],d=0;d<h;++d)n[v++]=e[d];return v}function p(n,v,r,h,k){k=k?k:[];for(var f=0,e=0,d=r.length;e<d;++e)v=y(n,v,r[e],h),k[f++]=v;k.length=f;return k}Object.defineProperty(G,"__esModule",{value:!0});G.deflateCoordinate=function(n,v,r,h){h=0;for(var k=r.length;h<k;++h)n[v++]=r[h];return v};G.deflateCoordinates=y;G.deflateCoordinatesArray=p;G.deflateMultiCoordinatesArray=function(n,v,r,h,k){k=k?k:[];
for(var f=0,e=0,d=r.length;e<d;++e)v=p(n,v,r[e],h,k[f]),k[f++]=v,v=v[v.length-1];k.length=f;return k}};
shadow$provide[132]=function(sa,F,ob,G){function y(f,e,d,a,c,b,m){var z=(d-e)/a;if(3>z){for(;e<d;e+=a)b[m++]=f[e],b[m++]=f[e+1];return m}var u=Array(z);u[0]=1;u[z-1]=1;d=[e,d-a];for(var C=0;0<d.length;){for(var J=d.pop(),A=d.pop(),x=0,q=f[A],H=f[A+1],M=f[J],R=f[J+1],Z=A+a;Z<J;Z+=a){var T=(0,k.squaredSegmentDistance)(f[Z],f[Z+1],q,H,M,R);T>x&&(C=Z,x=T)}x>c&&(u[(C-e)/a]=1,A+a<C&&d.push(A,C),C+a<J&&d.push(C,J))}for(Z=0;Z<z;++Z)u[Z]&&(b[m++]=f[e+Z*a],b[m++]=f[e+Z*a+1]);return m}function p(f,e,d,a,c,b,
m,z){for(var u=0,C=d.length;u<C;++u){var J=d[u];m=y(f,e,J,a,c,b,m);z.push(m);e=J}return m}function n(f,e,d,a,c,b,m){if(d<=e+a){for(;e<d;e+=a)b[m++]=f[e],b[m++]=f[e+1];return m}var z=f[e],u=f[e+1];b[m++]=z;b[m++]=u;var C=z,J=u;for(e+=a;e<d;e+=a)C=f[e],J=f[e+1],(0,k.squaredDistance)(z,u,C,J)>c&&(b[m++]=C,b[m++]=J,z=C,u=J);if(C!=z||J!=u)b[m++]=C,b[m++]=J;return m}function v(f,e){return e*Math.round(f/e)}function r(f,e,d,a,c,b,m){if(e==d)return m;var z=v(f[e],c),u=v(f[e+1],c);e+=a;b[m++]=z;b[m++]=u;do{var C=
v(f[e],c);var J=v(f[e+1],c);e+=a;if(e==d)return b[m++]=C,b[m++]=J,m}while(C==z&&J==u);for(;e<d;){var A=v(f[e],c),x=v(f[e+1],c);e+=a;if(A!=C||x!=J){var q=C-z,H=J-u,M=A-z,R=x-u;q*R==H*M&&(0>q&&M<q||q==M||0<q&&M>q)&&(0>H&&R<H||H==R||0<H&&R>H)||(b[m++]=C,b[m++]=J,z=C,u=J);C=A;J=x}}b[m++]=C;b[m++]=J;return m}function h(f,e,d,a,c,b,m,z){for(var u=0,C=d.length;u<C;++u){var J=d[u];m=r(f,e,J,a,c,b,m);z.push(m);e=J}return m}Object.defineProperty(G,"__esModule",{value:!0});G.simplifyLineString=function(f,e,
d,a,c,b,m){m=void 0!==m?m:[];b||(d=n(f,e,d,a,c,m,0),f=m,e=0,a=2);m.length=y(f,e,d,a,c,m,0);return m};G.douglasPeucker=y;G.douglasPeuckerArray=p;G.douglasPeuckerMultiArray=function(f,e,d,a,c,b,m,z){for(var u=0,C=d.length;u<C;++u){var J=d[u],A=[];m=p(f,e,J,a,c,b,m,A);z.push(A);e=J[J.length-1]}return m};G.radialDistance=n;G.snap=v;G.quantize=r;G.quantizeArray=h;G.quantizeMultiArray=function(f,e,d,a,c,b,m,z){for(var u=0,C=d.length;u<C;++u){var J=d[u],A=[];m=h(f,e,J,a,c,b,m,A);z.push(A);e=J[J.length-1]}return m};
var k=F(75)};
shadow$provide[133]=function(sa,F,ob,G){function y(n,v,r,h,k){k=void 0!==k?k:[];for(var f=0;v<r;v+=h)k[f++]=n.slice(v,v+h);k.length=f;return k}function p(n,v,r,h,k){k=void 0!==k?k:[];for(var f=0,e=0,d=r.length;e<d;++e){var a=r[e];k[f++]=y(n,v,a,h,k[f]);v=a}k.length=f;return k}Object.defineProperty(G,"__esModule",{value:!0});G.inflateCoordinates=y;G.inflateCoordinatesArray=p;G.inflateMultiCoordinatesArray=function(n,v,r,h,k){k=void 0!==k?k:[];for(var f=0,e=0,d=r.length;e<d;++e){var a=r[e];k[f++]=p(n,
v,a,h,k[f]);v=a[a.length-1]}k.length=f;return k}};
shadow$provide[134]=function(sa,F,ob,G){function y(n,v,r,h){for(var k=0,f=n[r-h],e=n[r-h+1];v<r;v+=h){var d=n[v],a=n[v+1];k+=e*d-f*a;f=d;e=a}return k/2}function p(n,v,r,h){for(var k=0,f=0,e=r.length;f<e;++f){var d=r[f];k+=y(n,v,d,h);v=d}return k}Object.defineProperty(G,"__esModule",{value:!0});G.linearRing=y;G.linearRings=p;G.linearRingss=function(n,v,r,h){for(var k=0,f=0,e=r.length;f<e;++f){var d=r[f];k+=p(n,v,d,h);v=d[d.length-1]}return k}};
shadow$provide[135]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(126));sa=y(F(129));var n=F(130),v=F(74),r=F(131),h=F(132),k=F(133),f=F(134),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c,b){var m=d.call(this)||this;m.maxDelta_=-1;m.maxDeltaRevision_=-1;void 0===b||Array.isArray(c[0])?m.setCoordinates(c,b):m.setFlatCoordinates(b,c);return m}e(a,d);a.prototype.clone=function(){return new a(this.flatCoordinates.slice(),this.layout)};a.prototype.closestPointXY=
function(c,b,m,z){if(z<(0,v.closestSquaredDistanceXY)(this.getExtent(),c,b))return z;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,n.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,n.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,c,b,m,z)};a.prototype.getArea=function(){return(0,f.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride)};a.prototype.getCoordinates=function(){return(0,k.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};a.prototype.getSimplifiedGeometryInternal=function(c){var b=[];b.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,c,b,0);return new a(b,p.default.XY)};a.prototype.getType=function(){return"LinearRing"};a.prototype.intersectsExtent=function(c){return!1};a.prototype.setCoordinates=function(c,b){this.setLayout(b,
c,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,r.deflateCoordinates)(this.flatCoordinates,0,c,this.stride);this.changed()};return a}(sa.default);G.default=F};
shadow$provide[136]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(129));var y=F(74),p=F(131),n=F(75),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==
k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k,f){var e=r.call(this)||this;e.setCoordinates(k,f);return e}v(h,r);h.prototype.clone=function(){var k=new h(this.flatCoordinates.slice(),this.layout);k.applyProperties(this);return k};h.prototype.closestPointXY=function(k,f,e,d){var a=this.flatCoordinates;k=(0,n.squaredDistance)(k,f,a[0],a[1]);if(k<d){d=this.stride;
for(f=0;f<d;++f)e[f]=a[f];e.length=d;return k}return d};h.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]};h.prototype.computeExtent=function(k){return(0,y.createOrUpdateFromCoordinate)(this.flatCoordinates,k)};h.prototype.getType=function(){return"Point"};h.prototype.intersectsExtent=function(k){return(0,y.containsXY)(k,this.flatCoordinates[0],this.flatCoordinates[1])};h.prototype.setCoordinates=function(k,f){this.setLayout(f,k,0);this.flatCoordinates||
(this.flatCoordinates=[]);this.flatCoordinates.length=(0,p.deflateCoordinate)(this.flatCoordinates,0,k,this.stride);this.changed()};return h}(sa.default);G.default=F};
shadow$provide[137]=function(sa,F,ob,G){function y(v,r,h,k,f,e){for(var d=0,a=v[h-k],c=v[h-k+1];r<h;r+=k){var b=v[r],m=v[r+1];c<=e?m>e&&0<(b-a)*(e-c)-(f-a)*(m-c)&&d++:m<=e&&0>(b-a)*(e-c)-(f-a)*(m-c)&&d--;a=b;c=m}return 0!==d}function p(v,r,h,k,f,e){if(0===h.length||!y(v,r,h[0],k,f,e))return!1;r=1;for(var d=h.length;r<d;++r)if(y(v,h[r-1],h[r],k,f,e))return!1;return!0}Object.defineProperty(G,"__esModule",{value:!0});G.linearRingContainsExtent=function(v,r,h,k,f){return!(0,n.forEachCorner)(f,function(e){return!y(v,
r,h,k,e[0],e[1])})};G.linearRingContainsXY=y;G.linearRingsContainsXY=p;G.linearRingssContainsXY=function(v,r,h,k,f,e){if(0===h.length)return!1;for(var d=0,a=h.length;d<a;++d){var c=h[d];if(p(v,r,c,k,f,e))return!0;r=c[c.length-1]}return!1};var n=F(74)};
shadow$provide[138]=function(sa,F,ob,G){function y(v,r,h,k,f,e,d){for(var a,c,b,m,z,u=f[e+1],C=[],J=0,A=h.length;J<A;++J){var x=h[J];b=v[x-k];z=v[x-k+1];for(a=r;a<x;a+=k){m=v[a];c=v[a+1];if(u<=z&&c<=u||z<=u&&u<=c)b=(u-z)/(c-z)*(m-b)+b,C.push(b);b=m;z=c}}J=NaN;A=-Infinity;C.sort(n.numberSafeCompareFunction);b=C[0];a=1;for(c=C.length;a<c;++a)m=C[a],x=Math.abs(m-b),x>A&&(b=(b+m)/2,(0,p.linearRingsContainsXY)(v,r,h,k,b,u)&&(J=b,A=x)),b=m;isNaN(J)&&(J=f[e]);return d?(d.push(J,u,A),d):[J,u,A]}Object.defineProperty(G,
"__esModule",{value:!0});G.getInteriorPointOfArray=y;G.getInteriorPointsOfMultiArray=function(v,r,h,k,f){for(var e=[],d=0,a=h.length;d<a;++d){var c=h[d];e=y(v,r,c,k,f,2*d,e);r=c[c.length-1]}return e};var p=F(137),n=F(66)};
shadow$provide[139]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.forEach=function(y,p,n,v,r){var h;for(p+=v;p<n;p+=v)if(h=r(y.slice(p-v,p),y.slice(p,p+v)))return h;return!1}};
shadow$provide[140]=function(sa,F,ob,G){function y(k,f,e,d,a){var c=(0,v.extendFlatCoordinates)((0,v.createEmpty)(),k,f,e,d);return(0,v.intersects)(a,c)?(0,v.containsExtent)(a,c)||c[0]>=a[0]&&c[2]<=a[2]||c[1]>=a[1]&&c[3]<=a[3]?!0:(0,r.forEach)(k,f,e,d,function(b,m){return(0,v.intersectsSegment)(a,b,m)}):!1}function p(k,f,e,d,a){return y(k,f,e,d,a)||(0,h.linearRingContainsXY)(k,f,e,d,a[0],a[1])||(0,h.linearRingContainsXY)(k,f,e,d,a[0],a[3])||(0,h.linearRingContainsXY)(k,f,e,d,a[2],a[1])||(0,h.linearRingContainsXY)(k,
f,e,d,a[2],a[3])?!0:!1}function n(k,f,e,d,a){if(!p(k,f,e[0],d,a))return!1;if(1===e.length)return!0;f=1;for(var c=e.length;f<c;++f)if((0,h.linearRingContainsExtent)(k,e[f-1],e[f],d,a)&&!y(k,e[f-1],e[f],d,a))return!1;return!0}Object.defineProperty(G,"__esModule",{value:!0});G.intersectsLineString=y;G.intersectsLineStringArray=function(k,f,e,d,a){for(var c=0,b=e.length;c<b;++c){if(y(k,f,e[c],d,a))return!0;f=e[c]}return!1};G.intersectsLinearRing=p;G.intersectsLinearRingArray=n;G.intersectsLinearRingMultiArray=
function(k,f,e,d,a){for(var c=0,b=e.length;c<b;++c){var m=e[c];if(n(k,f,m,d,a))return!0;f=m[m.length-1]}return!1};var v=F(74),r=F(139),h=F(137)};
shadow$provide[141]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.coordinates=function(y,p,n,v){for(;p<n-v;){for(var r=0;r<v;++r){var h=y[p+r];y[p+r]=y[n-v+r];y[n-v+r]=h}p+=v;n-=v}}};
shadow$provide[142]=function(sa,F,ob,G){function y(r,h,k,f){for(var e=0,d=r[k-f],a=r[k-f+1];h<k;h+=f){var c=r[h],b=r[h+1];e+=(c-d)*(b+a);d=c;a=b}return 0===e?void 0:0<e}function p(r,h,k,f,e){e=void 0!==e?e:!1;for(var d=0,a=k.length;d<a;++d){var c=k[d];h=y(r,h,c,f);if(0===d){if(e&&h||!e&&!h)return!1}else if(e&&!h||!e&&h)return!1;h=c}return!0}function n(r,h,k,f,e){e=void 0!==e?e:!1;for(var d=0,a=k.length;d<a;++d){var c=k[d],b=y(r,h,c,f);(0===d?e&&b||!e&&!b:e&&!b||!e&&b)&&(0,v.coordinates)(r,h,c,f);
h=c}return h}Object.defineProperty(G,"__esModule",{value:!0});G.linearRingIsClockwise=y;G.linearRingsAreOriented=p;G.linearRingssAreOriented=function(r,h,k,f,e){for(var d=0,a=k.length;d<a;++d){var c=k[d];if(!p(r,h,c,f,e))return!1;c.length&&(h=c[c.length-1])}return!0};G.orientLinearRings=n;G.orientLinearRingsArray=function(r,h,k,f,e){for(var d=0,a=k.length;d<a;++d)h=n(r,h,k[d],f,e);return h};G.inflateEnds=function(r,h){for(var k=[],f=0,e=0,d=0,a=h.length;d<a;++d){var c=h[d];if(y(r,f,c,2)){if(0===k.length)continue;
k[k.length-1].push(h[e])}else k.push(h.slice(e,d+1));e=d+1;f=c}return k};var v=F(141)};
shadow$provide[143]=function(sa,F,ob,G){function y(q){return q&&q.__esModule?q:{default:q}}function p(q,H,M,R){var Z=q.getFlatCoordinates(),T=q.getStride(),ba=Z.length/T-1;R=R?R:0;for(var aa=0;aa<=ba;++aa){var W=aa*T,X=R+2*(0,u.modulo)(aa,ba)*Math.PI/ba;Z[W]=H[0]+M*Math.cos(X);Z[W+1]=H[1]+M*Math.sin(X)}q.changed()}Object.defineProperty(G,"__esModule",{value:!0});G.circular=function(q,H,M,R){M=M?M:32;for(var Z=[],T=0;T<M;++T)(0,e.extend)(Z,(0,J.offset)(q,H,2*Math.PI*T/M,R));Z.push(Z[0],Z[1]);return new x(Z,
n.default.XY,[Z.length])};G.fromExtent=function(q){var H=q[0],M=q[1],R=q[2];q=q[3];H=[H,M,H,q,R,q,R,M,H,M];return new x(H,n.default.XY,[H.length])};G.fromCircle=function(q,H,M){var R=H?H:32,Z=q.getStride(),T=q.getLayout();H=q.getCenter();R=Z*(R+1);for(var ba=Array(R),aa=0;aa<R;aa+=Z){ba[aa]=0;ba[aa+1]=0;for(var W=2;W<Z;W++)ba[aa+W]=H[W]}Z=new x(ba,T,[ba.length]);p(Z,H,q.getRadius(),M);return Z};G.makeRegular=p;G.default=void 0;var n=y(F(126)),v=y(F(135)),r=y(F(136));sa=y(F(129));var h=F(130),k=F(74),
f=F(131),e=F(66),d=F(138),a=F(133),c=F(140),b=F(142),m=F(134),z=F(137),u=F(75),C=F(132),J=F(120),A=function(){var q=function(H,M){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Z){R.__proto__=Z}||function(R,Z){for(var T in Z)Object.prototype.hasOwnProperty.call(Z,T)&&(R[T]=Z[T])};return q(H,M)};return function(H,M){function R(){this.constructor=H}if("function"!==typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");q(H,M);H.prototype=
null===M?Object.create(M):(R.prototype=M.prototype,new R)}}(),x=function(q){function H(M,R,Z){var T=q.call(this)||this;T.ends_=[];T.flatInteriorPointRevision_=-1;T.flatInteriorPoint_=null;T.maxDelta_=-1;T.maxDeltaRevision_=-1;T.orientedRevision_=-1;T.orientedFlatCoordinates_=null;void 0!==R&&Z?(T.setFlatCoordinates(R,M),T.ends_=Z):T.setCoordinates(M,R);return T}A(H,q);H.prototype.appendLinearRing=function(M){this.flatCoordinates?(0,e.extend)(this.flatCoordinates,M.getFlatCoordinates()):this.flatCoordinates=
M.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};H.prototype.clone=function(){var M=new H(this.flatCoordinates.slice(),this.layout,this.ends_.slice());M.applyProperties(this);return M};H.prototype.closestPointXY=function(M,R,Z,T){if(T<(0,k.closestSquaredDistanceXY)(this.getExtent(),M,R))return T;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=
this.getRevision());return(0,h.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,M,R,Z,T)};H.prototype.containsXY=function(M,R){return(0,z.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,M,R)};H.prototype.getArea=function(){return(0,m.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};H.prototype.getCoordinates=function(M){if(void 0!==M){var R=this.getOrientedFlatCoordinates().slice();(0,b.orientLinearRings)(R,
0,this.ends_,this.stride,M)}else R=this.flatCoordinates;return(0,a.inflateCoordinatesArray)(R,0,this.ends_,this.stride)};H.prototype.getEnds=function(){return this.ends_};H.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var M=(0,k.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,d.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,M,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};
H.prototype.getInteriorPoint=function(){return new r.default(this.getFlatInteriorPoint(),n.default.XYM)};H.prototype.getLinearRingCount=function(){return this.ends_.length};H.prototype.getLinearRing=function(M){return 0>M||this.ends_.length<=M?null:new v.default(this.flatCoordinates.slice(0===M?0:this.ends_[M-1],this.ends_[M]),this.layout)};H.prototype.getLinearRings=function(){for(var M=this.layout,R=this.flatCoordinates,Z=this.ends_,T=[],ba=0,aa=0,W=Z.length;aa<W;++aa){var X=Z[aa];ba=new v.default(R.slice(ba,
X),M);T.push(ba);ba=X}return T};H.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var M=this.flatCoordinates;(0,b.linearRingsAreOriented)(M,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=M:(this.orientedFlatCoordinates_=M.slice(),this.orientedFlatCoordinates_.length=(0,b.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};H.prototype.getSimplifiedGeometryInternal=
function(M){var R=[],Z=[];R.length=(0,C.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(M),R,0,Z);return new H(R,n.default.XY,Z)};H.prototype.getType=function(){return"Polygon"};H.prototype.intersectsExtent=function(M){return(0,c.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,M)};H.prototype.setCoordinates=function(M,R){this.setLayout(R,M,2);this.flatCoordinates||(this.flatCoordinates=[]);M=(0,f.deflateCoordinatesArray)(this.flatCoordinates,
0,M,this.stride,this.ends_);this.flatCoordinates.length=0===M.length?0:M[M.length-1];this.changed()};return H}(sa.default);G.default=x};
shadow$provide[144]=function(sa,F,ob,G){function y(ba){return ba&&ba.__esModule?ba:{default:ba}}function p(ba,aa){setTimeout(function(){ba(aa)},0)}function n(ba){if(void 0!==ba.extent)return(0,C.createExtent)(ba.extent,ba.constrainOnlyCenter,void 0!==ba.smoothExtentConstraint?ba.smoothExtentConstraint:!0);var aa=(0,c.createProjection)(ba.projection,"EPSG:3857");return!0!==ba.multiWorld&&aa.isGlobal()?(ba=aa.getExtent().slice(),ba[0]=-Infinity,ba[2]=Infinity,(0,C.createExtent)(ba,!1,!1)):C.none}function v(ba){var aa=
void 0!==ba.minZoom?ba.minZoom:T,W=void 0!==ba.maxZoom?ba.maxZoom:28,X=void 0!==ba.zoomFactor?ba.zoomFactor:2;var P=void 0!==ba.multiWorld?ba.multiWorld:!1;var w=void 0!==ba.smoothResolutionConstraint?ba.smoothResolutionConstraint:!0,B=void 0!==ba.showFullExtent?ba.showFullExtent:!1;var K=(0,c.createProjection)(ba.projection,"EPSG:3857");var U=K.getExtent(),ka=ba.constrainOnlyCenter,da=ba.extent;P||da||!K.isGlobal()||(ka=!1,da=U);if(void 0!==ba.resolutions)U=ba.resolutions,P=U[aa],K=void 0!==U[W]?
U[W]:U[U.length-1],ba=ba.constrainResolution?(0,A.createSnapToResolutions)(U,w,!ka&&da,B):(0,A.createMinMaxResolution)(P,K,w,!ka&&da,B);else{U=(U?Math.max((0,H.getWidth)(U),(0,H.getHeight)(U)):360*c.METERS_PER_UNIT[f.default.DEGREES]/K.getMetersPerUnit())/a.DEFAULT_TILE_SIZE/Math.pow(2,T);var la=U/Math.pow(2,28-T);P=ba.maxResolution;void 0!==P?aa=0:P=U/Math.pow(X,aa);K=ba.minResolution;void 0===K&&(K=void 0!==ba.maxZoom?void 0!==ba.maxResolution?P/Math.pow(X,W):U/Math.pow(X,W):la);W=aa+Math.floor(Math.log(P/
K)/Math.log(X));K=P/Math.pow(X,W-aa);ba=ba.constrainResolution?(0,A.createSnapToPower)(X,P,K,w,!ka&&da,B):(0,A.createMinMaxResolution)(P,K,w,!ka&&da,B)}return{constraint:ba,maxResolution:P,minResolution:K,minZoom:aa,zoomFactor:X}}function r(ba){return(void 0!==ba.enableRotation?ba.enableRotation:1)?(ba=ba.constrainRotation,void 0===ba||!0===ba?(0,x.createSnapToZero)():!1===ba?x.none:"number"===typeof ba?(0,x.createSnapToN)(ba):x.none):x.disable}function h(ba){return ba.sourceCenter&&ba.targetCenter&&
!(0,m.equals)(ba.sourceCenter,ba.targetCenter)||ba.sourceResolution!==ba.targetResolution||ba.sourceRotation!==ba.targetRotation?!1:!0}function k(ba,aa,W,X,P){var w=Math.cos(-P);P=Math.sin(-P);var B=ba[0]*w-ba[1]*P;ba=ba[1]*w+ba[0]*P;B+=(aa[0]/2-W[0])*X;ba+=(W[1]-aa[1]/2)*X;P=-P;return[B*w-ba*P,ba*w+B*P]}Object.defineProperty(G,"__esModule",{value:!0});G.createCenterConstraint=n;G.createResolutionConstraint=v;G.createRotationConstraint=r;G.isNoopAnimation=h;G.default=void 0;sa=y(F(85));var f=y(F(111)),
e=y(F(112)),d=y(F(113)),a=F(114),c=F(121),b=F(67),m=F(91),z=F(71),u=F(80),C=F(122),J=F(75),A=F(123),x=F(124),q=F(125),H=F(74),M=F(66),R=F(143),Z=function(){var ba=function(aa,W){ba=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,P){X.__proto__=P}||function(X,P){for(var w in P)Object.prototype.hasOwnProperty.call(P,w)&&(X[w]=P[w])};return ba(aa,W)};return function(aa,W){function X(){this.constructor=aa}if("function"!==typeof W&&null!==W)throw new TypeError("Class extends value "+
String(W)+" is not a constructor or null");ba(aa,W);aa.prototype=null===W?Object.create(W):(X.prototype=W.prototype,new X)}}(),T=0;F=function(ba){function aa(W){var X=ba.call(this)||this;W=(0,u.assign)({},W);X.hints_=[0,0];X.animations_=[];X.projection_=(0,c.createProjection)(W.projection,"EPSG:3857");X.viewportSize_=[100,100];X.targetCenter_=null;X.nextCenter_=null;X.cancelAnchor_=void 0;W.projection&&(0,c.disableCoordinateWarning)();W.center&&(W.center=(0,c.fromUserCoordinate)(W.center,X.projection_));
W.extent&&(W.extent=(0,c.fromUserExtent)(W.extent,X.projection_));X.applyOptions_(W);return X}Z(aa,ba);aa.prototype.applyOptions_=function(W){var X=(0,u.assign)({},W);for(P in d.default)delete X[P];this.setProperties(X,!0);var P=v(W);this.maxResolution_=P.maxResolution;this.minResolution_=P.minResolution;this.zoomFactor_=P.zoomFactor;this.resolutions_=W.resolutions;this.padding_=W.padding;this.minZoom_=P.minZoom;X=n(W);P=P.constraint;var w=r(W);this.constraints_={center:X,resolution:P,rotation:w};
this.setRotation(void 0!==W.rotation?W.rotation:0);this.setCenterInternal(void 0!==W.center?W.center:null);void 0!==W.resolution?this.setResolution(W.resolution):void 0!==W.zoom&&this.setZoom(W.zoom)};Object.defineProperty(aa.prototype,"padding",{get:function(){return this.padding_},set:function(W){var X=this.padding_;this.padding_=W;var P=this.getCenter();if(P){W=W||[0,0,0,0];X=X||[0,0,0,0];var w=this.getResolution();this.setCenterInternal([P[0]+w/2*(W[3]-X[3]+X[1]-W[1]),P[1]-w/2*(W[0]-X[0]+X[2]-
W[2])])}},enumerable:!1,configurable:!0});aa.prototype.getUpdatedOptions_=function(W){var X=this.getProperties();void 0!==X.resolution?X.resolution=this.getResolution():X.zoom=this.getZoom();X.center=this.getCenterInternal();X.rotation=this.getRotation();return(0,u.assign)({},X,W)};aa.prototype.animate=function(W){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var X=Array(arguments.length),P=0;P<X.length;++P){var w=arguments[P];w.center&&(w=(0,u.assign)({},w),w.center=(0,c.fromUserCoordinate)(w.center,
this.getProjection()));w.anchor&&(w=(0,u.assign)({},w),w.anchor=(0,c.fromUserCoordinate)(w.anchor,this.getProjection()));X[P]=w}this.animateInternal.apply(this,X)};aa.prototype.animateInternal=function(W){var X=arguments.length;if(1<X&&"function"===typeof arguments[X-1]){var P=arguments[X-1];--X}for(var w=0;w<X&&!this.isDef();++w){var B=arguments[w];B.center&&this.setCenterInternal(B.center);void 0!==B.zoom?this.setZoom(B.zoom):B.resolution&&this.setResolution(B.resolution);void 0!==B.rotation&&this.setRotation(B.rotation)}if(w===
X)P&&p(P,!0);else{B=Date.now();for(var K=this.targetCenter_.slice(),U=this.targetResolution_,ka=this.targetRotation_,da=[];w<X;++w){var la=arguments[w],wa={start:B,complete:!1,anchor:la.anchor,duration:void 0!==la.duration?la.duration:1E3,easing:la.easing||q.inAndOut,callback:P};la.center&&(wa.sourceCenter=K,wa.targetCenter=la.center.slice(),K=wa.targetCenter);void 0!==la.zoom?(wa.sourceResolution=U,wa.targetResolution=this.getResolutionForZoom(la.zoom),U=wa.targetResolution):la.resolution&&(wa.sourceResolution=
U,wa.targetResolution=la.resolution,U=wa.targetResolution);void 0!==la.rotation&&(wa.sourceRotation=ka,la=(0,J.modulo)(la.rotation-ka+Math.PI,2*Math.PI)-Math.PI,wa.targetRotation=ka+la,ka=wa.targetRotation);h(wa)?wa.complete=!0:B+=wa.duration;da.push(wa)}this.animations_.push(da);this.setHint(e.default.ANIMATING,1);this.updateAnimations_()}};aa.prototype.getAnimating=function(){return 0<this.hints_[e.default.ANIMATING]};aa.prototype.getInteracting=function(){return 0<this.hints_[e.default.INTERACTING]};
aa.prototype.cancelAnimations=function(){this.setHint(e.default.ANIMATING,-this.hints_[e.default.ANIMATING]);for(var W,X=0,P=this.animations_.length;X<P;++X){var w=this.animations_[X];w[0].callback&&p(w[0].callback,!1);if(!W)for(var B=0,K=w.length;B<K;++B){var U=w[B];if(!U.complete){W=U.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=W;this.nextCenter_=null;this.nextRotation_=this.nextResolution_=NaN};aa.prototype.updateAnimations_=function(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),
this.updateAnimationKey_=void 0);if(this.getAnimating()){for(var W=Date.now(),X=!1,P=this.animations_.length-1;0<=P;--P){for(var w=this.animations_[P],B=!0,K=0,U=w.length;K<U;++K){var ka=w[K];if(!ka.complete){X=W-ka.start;X=0<ka.duration?X/ka.duration:1;1<=X?(ka.complete=!0,X=1):B=!1;X=ka.easing(X);if(ka.sourceCenter){var da=ka.sourceCenter[0],la=ka.sourceCenter[1],wa=ka.targetCenter[0],Ua=ka.targetCenter[1];this.nextCenter_=ka.targetCenter;this.targetCenter_=[da+X*(wa-da),la+X*(Ua-la)]}ka.sourceResolution&&
ka.targetResolution&&(da=1===X?ka.targetResolution:ka.sourceResolution+X*(ka.targetResolution-ka.sourceResolution),ka.anchor&&(la=this.getViewportSize_(this.getRotation()),la=this.constraints_.resolution(da,0,la,!0),this.targetCenter_=this.calculateCenterZoom(la,ka.anchor)),this.nextResolution_=ka.targetResolution,this.targetResolution_=da,this.applyTargetState_(!0));void 0!==ka.sourceRotation&&void 0!==ka.targetRotation&&(X=1===X?(0,J.modulo)(ka.targetRotation+Math.PI,2*Math.PI)-Math.PI:ka.sourceRotation+
X*(ka.targetRotation-ka.sourceRotation),ka.anchor&&(da=this.constraints_.rotation(X,!0),this.targetCenter_=this.calculateCenterRotate(da,ka.anchor)),this.nextRotation_=ka.targetRotation,this.targetRotation_=X);this.applyTargetState_(!0);X=!0;if(!ka.complete)break}}B&&(this.animations_[P]=null,this.setHint(e.default.ANIMATING,-1),this.nextCenter_=null,this.nextRotation_=this.nextResolution_=NaN,(w=w[0].callback)&&p(w,!0))}this.animations_=this.animations_.filter(Boolean);X&&void 0===this.updateAnimationKey_&&
(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}};aa.prototype.calculateCenterRotate=function(W,X){var P=this.getCenterInternal();if(void 0!==P){var w=[P[0]-X[0],P[1]-X[1]];(0,m.rotate)(w,W-this.getRotation());(0,m.add)(w,X)}return w};aa.prototype.calculateCenterZoom=function(W,X){var P,w=this.getCenterInternal(),B=this.getResolution();void 0!==w&&void 0!==B&&(P=[X[0]-W*(X[0]-w[0])/B,X[1]-W*(X[1]-w[1])/B]);return P};aa.prototype.getViewportSize_=function(W){var X=
this.viewportSize_;if(W){var P=X[0];X=X[1];return[Math.abs(P*Math.cos(W))+Math.abs(X*Math.sin(W)),Math.abs(P*Math.sin(W))+Math.abs(X*Math.cos(W))]}return X};aa.prototype.setViewportSize=function(W){this.viewportSize_=Array.isArray(W)?W.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)};aa.prototype.getCenter=function(){var W=this.getCenterInternal();return W?(0,c.toUserCoordinate)(W,this.getProjection()):W};aa.prototype.getCenterInternal=function(){return this.get(d.default.CENTER)};
aa.prototype.getConstraints=function(){return this.constraints_};aa.prototype.getConstrainResolution=function(){return this.get("constrainResolution")};aa.prototype.getHints=function(W){return void 0!==W?(W[0]=this.hints_[0],W[1]=this.hints_[1],W):this.hints_.slice()};aa.prototype.calculateExtent=function(W){W=this.calculateExtentInternal(W);return(0,c.toUserExtent)(W,this.getProjection())};aa.prototype.calculateExtentInternal=function(W){W=W||this.getViewportSizeMinusPadding_();var X=this.getCenterInternal();
(0,z.assert)(X,1);var P=this.getResolution();(0,z.assert)(void 0!==P,2);var w=this.getRotation();(0,z.assert)(void 0!==w,3);return(0,H.getForViewAndSize)(X,P,w,W)};aa.prototype.getMaxResolution=function(){return this.maxResolution_};aa.prototype.getMinResolution=function(){return this.minResolution_};aa.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};aa.prototype.setMaxZoom=function(W){this.applyOptions_(this.getUpdatedOptions_({maxZoom:W}))};aa.prototype.getMinZoom=
function(){return this.getZoomForResolution(this.maxResolution_)};aa.prototype.setMinZoom=function(W){this.applyOptions_(this.getUpdatedOptions_({minZoom:W}))};aa.prototype.setConstrainResolution=function(W){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:W}))};aa.prototype.getProjection=function(){return this.projection_};aa.prototype.getResolution=function(){return this.get(d.default.RESOLUTION)};aa.prototype.getResolutions=function(){return this.resolutions_};aa.prototype.getResolutionForExtent=
function(W,X){return this.getResolutionForExtentInternal((0,c.fromUserExtent)(W,this.getProjection()),X)};aa.prototype.getResolutionForExtentInternal=function(W,X){var P=X||this.getViewportSizeMinusPadding_();X=(0,H.getWidth)(W)/P[0];W=(0,H.getHeight)(W)/P[1];return Math.max(X,W)};aa.prototype.getResolutionForValueFunction=function(W){var X=W||2,P=this.getConstrainedResolution(this.maxResolution_),w=Math.log(P/this.minResolution_)/Math.log(X);return function(B){return P/Math.pow(X,B*w)}};aa.prototype.getRotation=
function(){return this.get(d.default.ROTATION)};aa.prototype.getValueForResolutionFunction=function(W){var X=Math.log(W||2),P=this.getConstrainedResolution(this.maxResolution_),w=Math.log(P/this.minResolution_)/X;return function(B){return Math.log(P/B)/X/w}};aa.prototype.getViewportSizeMinusPadding_=function(W){W=this.getViewportSize_(W);var X=this.padding_;X&&(W=[W[0]-X[1]-X[3],W[1]-X[0]-X[2]]);return W};aa.prototype.getState=function(){var W=this.getProjection(),X=this.getResolution(),P=this.getRotation(),
w=this.getCenterInternal(),B=this.padding_;if(B){var K=this.getViewportSizeMinusPadding_();w=k(w,this.getViewportSize_(),[K[0]/2+B[3],K[1]/2+B[0]],X,P)}return{center:w.slice(0),projection:void 0!==W?W:null,resolution:X,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:P,zoom:this.getZoom()}};aa.prototype.getZoom=function(){var W,X=this.getResolution();void 0!==X&&(W=this.getZoomForResolution(X));return W};aa.prototype.getZoomForResolution=function(W){var X=
this.minZoom_||0,P;if(this.resolutions_){X=P=(0,M.linearFindNearest)(this.resolutions_,W,1);var w=this.resolutions_[P];P=P==this.resolutions_.length-1?2:w/this.resolutions_[P+1]}else w=this.maxResolution_,P=this.zoomFactor_;return X+Math.log(w/W)/Math.log(P)};aa.prototype.getResolutionForZoom=function(W){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;var X=(0,J.clamp)(Math.floor(W),0,this.resolutions_.length-2);return this.resolutions_[X]/Math.pow(this.resolutions_[X]/this.resolutions_[X+
1],(0,J.clamp)(W-X,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,W-this.minZoom_)};aa.prototype.fit=function(W,X){(0,z.assert)(Array.isArray(W)||"function"===typeof W.getSimplifiedGeometry,24);if(Array.isArray(W)){(0,z.assert)(!(0,H.isEmpty)(W),25);var P=(0,c.fromUserExtent)(W,this.getProjection());W=(0,R.fromExtent)(P)}else"Circle"===W.getType()?(P=(0,c.fromUserExtent)(W.getExtent(),this.getProjection()),W=(0,R.fromExtent)(P),W.rotate(this.getRotation(),(0,H.getCenter)(P))):W=(P=(0,c.getUserProjection)())?
W.clone().transform(P,this.getProjection()):W;this.fitInternal(W,X)};aa.prototype.rotatedExtentForGeometry=function(W){var X=this.getRotation(),P=Math.cos(X);X=Math.sin(-X);var w=W.getFlatCoordinates();W=W.getStride();for(var B=Infinity,K=Infinity,U=-Infinity,ka=-Infinity,da=0,la=w.length;da<la;da+=W){var wa=w[da]*P-w[da+1]*X,Ua=w[da]*X+w[da+1]*P;B=Math.min(B,wa);K=Math.min(K,Ua);U=Math.max(U,wa);ka=Math.max(ka,Ua)}return[B,K,U,ka]};aa.prototype.fitInternal=function(W,X){X=X||{};var P=X.size;P||(P=
this.getViewportSizeMinusPadding_());var w=void 0!==X.padding?X.padding:[0,0,0,0],B=void 0!==X.nearest?X.nearest:!1;var K=void 0!==X.minResolution?X.minResolution:void 0!==X.maxZoom?this.getResolutionForZoom(X.maxZoom):0;var U=this.rotatedExtentForGeometry(W);W=this.getResolutionForExtentInternal(U,[P[0]-w[1]-w[3],P[1]-w[0]-w[2]]);W=isNaN(W)?K:Math.max(W,K);W=this.getConstrainedResolution(W,B?0:1);K=this.getRotation();B=Math.sin(K);K=Math.cos(K);U=(0,H.getCenter)(U);U[0]+=(w[1]-w[3])/2*W;U[1]+=(w[0]-
w[2])/2*W;w=this.getConstrainedCenter([U[0]*K-U[1]*B,U[1]*K+U[0]*B],W);U=X.callback?X.callback:b.VOID;void 0!==X.duration?this.animateInternal({resolution:W,center:w,duration:X.duration,easing:X.easing},U):(this.targetResolution_=W,this.targetCenter_=w,this.applyTargetState_(!1,!0),p(U,!0))};aa.prototype.centerOn=function(W,X,P){this.centerOnInternal((0,c.fromUserCoordinate)(W,this.getProjection()),X,P)};aa.prototype.centerOnInternal=function(W,X,P){this.setCenterInternal(k(W,X,P,this.getResolution(),
this.getRotation()))};aa.prototype.calculateCenterShift=function(W,X,P,w){var B=this.padding_;if(B&&W){var K=this.getViewportSizeMinusPadding_(-P);X=k(W,w,[K[0]/2+B[3],K[1]/2+B[0]],X,P);K=[W[0]-X[0],W[1]-X[1]]}return K};aa.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()};aa.prototype.adjustCenter=function(W){var X=(0,c.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([X[0]+W[0],X[1]+W[1]])};aa.prototype.adjustCenterInternal=function(W){var X=
this.targetCenter_;this.setCenterInternal([X[0]+W[0],X[1]+W[1]])};aa.prototype.adjustResolution=function(W,X){X=X&&(0,c.fromUserCoordinate)(X,this.getProjection());this.adjustResolutionInternal(W,X)};aa.prototype.adjustResolutionInternal=function(W,X){var P=this.getAnimating()||this.getInteracting(),w=this.getViewportSize_(this.getRotation());P=this.constraints_.resolution(this.targetResolution_*W,0,w,P);X&&(this.targetCenter_=this.calculateCenterZoom(P,X));this.targetResolution_*=W;this.applyTargetState_()};
aa.prototype.adjustZoom=function(W,X){this.adjustResolution(Math.pow(this.zoomFactor_,-W),X)};aa.prototype.adjustRotation=function(W,X){X&&(X=(0,c.fromUserCoordinate)(X,this.getProjection()));this.adjustRotationInternal(W,X)};aa.prototype.adjustRotationInternal=function(W,X){var P=this.getAnimating()||this.getInteracting();P=this.constraints_.rotation(this.targetRotation_+W,P);X&&(this.targetCenter_=this.calculateCenterRotate(P,X));this.targetRotation_+=W;this.applyTargetState_()};aa.prototype.setCenter=
function(W){this.setCenterInternal(W?(0,c.fromUserCoordinate)(W,this.getProjection()):W)};aa.prototype.setCenterInternal=function(W){this.targetCenter_=W;this.applyTargetState_()};aa.prototype.setHint=function(W,X){this.hints_[W]+=X;this.changed();return this.hints_[W]};aa.prototype.setResolution=function(W){this.targetResolution_=W;this.applyTargetState_()};aa.prototype.setRotation=function(W){this.targetRotation_=W;this.applyTargetState_()};aa.prototype.setZoom=function(W){this.setResolution(this.getResolutionForZoom(W))};
aa.prototype.applyTargetState_=function(W,X){var P=this.getAnimating()||this.getInteracting()||X;X=this.constraints_.rotation(this.targetRotation_,P);var w=this.getViewportSize_(X),B=this.constraints_.resolution(this.targetResolution_,0,w,P);P=this.constraints_.center(this.targetCenter_,B,w,P,this.calculateCenterShift(this.targetCenter_,B,X,w));this.get(d.default.ROTATION)!==X&&this.set(d.default.ROTATION,X);this.get(d.default.RESOLUTION)!==B&&(this.set(d.default.RESOLUTION,B),this.set("zoom",this.getZoom(),
!0));P&&this.get(d.default.CENTER)&&(0,m.equals)(this.get(d.default.CENTER),P)||this.set(d.default.CENTER,P);this.getAnimating()&&!W&&this.cancelAnimations();this.cancelAnchor_=void 0};aa.prototype.resolveConstraints=function(W,X,P){W=void 0!==W?W:200;var w=X||0;X=this.constraints_.rotation(this.targetRotation_);var B=this.getViewportSize_(X);w=this.constraints_.resolution(this.targetResolution_,w,B);B=this.constraints_.center(this.targetCenter_,w,B,!1,this.calculateCenterShift(this.targetCenter_,
w,X,B));0!==W||this.cancelAnchor_?(P=P||(0===W?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===w&&this.getRotation()===X&&this.getCenterInternal()&&(0,m.equals)(this.getCenterInternal(),B)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:X,center:B,resolution:w,duration:W,easing:q.easeOut,anchor:P}))):(this.targetResolution_=w,this.targetRotation_=X,this.targetCenter_=B,this.applyTargetState_())};aa.prototype.beginInteraction=function(){this.resolveConstraints(0);
this.setHint(e.default.INTERACTING,1)};aa.prototype.endInteraction=function(W,X,P){P=P&&(0,c.fromUserCoordinate)(P,this.getProjection());this.endInteractionInternal(W,X,P)};aa.prototype.endInteractionInternal=function(W,X,P){this.setHint(e.default.INTERACTING,-1);this.resolveConstraints(W,X,P)};aa.prototype.getConstrainedCenter=function(W,X){var P=this.getViewportSize_(this.getRotation());return this.constraints_.center(W,X||this.getResolution(),P)};aa.prototype.getConstrainedZoom=function(W,X){W=
this.getResolutionForZoom(W);return this.getZoomForResolution(this.getConstrainedResolution(W,X))};aa.prototype.getConstrainedResolution=function(W,X){X=X||0;var P=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(W,X,P)};return aa}(sa.default);G.default=F};
shadow$provide[145]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.buffer=function(y,p,n){void 0===n&&(n=[0,0]);n[0]=y[0]+2*p;n[1]=y[1]+2*p;return n};G.hasArea=function(y){return 0<y[0]&&0<y[1]};G.scale=function(y,p,n){void 0===n&&(n=[0,0]);n[0]=y[0]*p+.5|0;n[1]=y[1]*p+.5|0;return n};G.toSize=function(y,p){if(Array.isArray(y))return y;void 0===p?p=[y,y]:(p[0]=y,p[1]=y);return p}};
shadow$provide[146]=function(sa,F,ob,G){function y(U){if("function"!==typeof WeakMap)return null;var ka=new WeakMap,da=new WeakMap;return(y=function(la){return la?da:ka})(U)}function p(U,ka){if(!ka&&U&&U.__esModule)return U;if(null===U||"object"!==typeof U&&"function"!==typeof U)return{default:U};if((ka=y(ka))&&ka.has(U))return ka.get(U);var da={},la=Object.defineProperty&&Object.getOwnPropertyDescriptor,wa;for(wa in U)if("default"!==wa&&Object.prototype.hasOwnProperty.call(U,wa)){var Ua=la?Object.getOwnPropertyDescriptor(U,
wa):null;Ua&&(Ua.get||Ua.set)?Object.defineProperty(da,wa,Ua):da[wa]=U[wa]}da.default=U;ka&&ka.set(U,da);return da}function n(U){return U&&U.__esModule?U:{default:U}}function v(U){U instanceof d.default?U.setMapInternal(null):U instanceof a.default&&U.getLayers().forEach(v)}function r(U,ka){if(U instanceof d.default)U.setMapInternal(ka);else if(U instanceof a.default){U=U.getLayers().getArray();for(var da=0,la=U.length;da<la;++da)r(U[da],ka)}}function h(U){var ka=null;void 0!==U.keyboardEventTarget&&
(ka="string"===typeof U.keyboardEventTarget?document.getElementById(U.keyboardEventTarget):U.keyboardEventTarget);var da={},la=U.layers&&"function"===typeof U.layers.getLayers?U.layers:new a.default({layers:U.layers});da[C.default.LAYERGROUP]=la;da[C.default.TARGET]=U.target;da[C.default.VIEW]=U.view instanceof H.default?U.view:new H.default;if(void 0!==U.controls)if(Array.isArray(U.controls))var wa=new k.default(U.controls.slice());else(0,ba.assert)("function"===typeof U.controls.getArray,47),wa=
U.controls;if(void 0!==U.interactions)if(Array.isArray(U.interactions))var Ua=new k.default(U.interactions.slice());else(0,ba.assert)("function"===typeof U.interactions.getArray,48),Ua=U.interactions;void 0!==U.overlays?Array.isArray(U.overlays)?U=new k.default(U.overlays.slice()):((0,ba.assert)("function"===typeof U.overlays.getArray,49),U=U.overlays):U=new k.default;return{controls:wa,interactions:Ua,keyboardEventTarget:ka,overlays:U,values:da}}Object.defineProperty(G,"__esModule",{value:!0});G.default=
void 0;sa=n(F(85));var k=n(F(99)),f=n(F(98)),e=n(F(82)),d=n(F(89)),a=p(F(100)),c=n(F(102)),b=n(F(105)),m=n(F(103)),z=n(F(101)),u=n(F(106)),C=n(F(107)),J=n(F(79)),A=n(F(104)),x=n(F(88)),q=p(F(110)),H=n(F(144)),M=n(F(112)),R=F(69),Z=F(67),T=F(72),ba=F(71),aa=F(74),W=F(121),X=F(68),P=F(145),w=F(83),B=F(95),K=function(){var U=function(ka,da){U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(la,wa){la.__proto__=wa}||function(la,wa){for(var Ua in wa)Object.prototype.hasOwnProperty.call(wa,
Ua)&&(la[Ua]=wa[Ua])};return U(ka,da)};return function(ka,da){function la(){this.constructor=ka}if("function"!==typeof da&&null!==da)throw new TypeError("Class extends value "+String(da)+" is not a constructor or null");U(ka,da);ka.prototype=null===da?Object.create(da):(la.prototype=da.prototype,new la)}}();F=function(U){function ka(da){var la=U.call(this)||this,wa=h(da);la.loaded_=!0;la.boundHandleBrowserEvent_=la.handleBrowserEvent.bind(la);la.maxTilesLoading_=void 0!==da.maxTilesLoading?da.maxTilesLoading:
16;la.pixelRatio_=void 0!==da.pixelRatio?da.pixelRatio:R.DEVICE_PIXEL_RATIO;la.animationDelay_=function(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}.bind(la);la.coordinateToPixelTransform_=(0,T.create)();la.pixelToCoordinateTransform_=(0,T.create)();la.frameIndex_=0;la.frameState_=null;la.previousExtent_=null;la.viewPropertyListenerKey_=null;la.viewChangeListenerKey_=null;la.layerGroupPropertyListenerKeys_=null;la.viewport_=document.createElement("div");la.viewport_.className="ol-viewport"+
("ontouchstart"in window?" ol-touch":"");la.viewport_.style.position="relative";la.viewport_.style.overflow="hidden";la.viewport_.style.width="100%";la.viewport_.style.height="100%";la.overlayContainer_=document.createElement("div");la.overlayContainer_.style.position="absolute";la.overlayContainer_.style.zIndex="0";la.overlayContainer_.style.width="100%";la.overlayContainer_.style.height="100%";la.overlayContainer_.style.pointerEvents="none";la.overlayContainer_.className="ol-overlaycontainer";la.viewport_.appendChild(la.overlayContainer_);
la.overlayContainerStopEvent_=document.createElement("div");la.overlayContainerStopEvent_.style.position="absolute";la.overlayContainerStopEvent_.style.zIndex="0";la.overlayContainerStopEvent_.style.width="100%";la.overlayContainerStopEvent_.style.height="100%";la.overlayContainerStopEvent_.style.pointerEvents="none";la.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";la.viewport_.appendChild(la.overlayContainerStopEvent_);la.mapBrowserEventHandler_=null;la.moveTolerance_=da.moveTolerance;
la.keyboardEventTarget_=wa.keyboardEventTarget;la.targetChangeHandlerKeys_=null;la.controls=wa.controls||new k.default;la.interactions=wa.interactions||new k.default;la.overlays_=wa.overlays;la.overlayIdIndex_={};la.renderer_=null;la.postRenderFunctions_=[];la.tileQueue_=new q.default(la.getTilePriority.bind(la),la.handleTileChange_.bind(la));la.addChangeListener(C.default.LAYERGROUP,la.handleLayerGroupChanged_);la.addChangeListener(C.default.VIEW,la.handleViewChanged_);la.addChangeListener(C.default.SIZE,
la.handleSizeChanged_);la.addChangeListener(C.default.TARGET,la.handleTargetChanged_);la.setProperties(wa.values);!da.view||da.view instanceof H.default||da.view.then(function(Ua){la.setView(new H.default(Ua))});la.controls.addEventListener(f.default.ADD,function(Ua){Ua.element.setMap(this)}.bind(la));la.controls.addEventListener(f.default.REMOVE,function(Ua){Ua.element.setMap(null)}.bind(la));la.interactions.addEventListener(f.default.ADD,function(Ua){Ua.element.setMap(this)}.bind(la));la.interactions.addEventListener(f.default.REMOVE,
function(Ua){Ua.element.setMap(null)}.bind(la));la.overlays_.addEventListener(f.default.ADD,function(Ua){this.addOverlayInternal_(Ua.element)}.bind(la));la.overlays_.addEventListener(f.default.REMOVE,function(Ua){var hb=Ua.element.getId();void 0!==hb&&delete this.overlayIdIndex_[hb.toString()];Ua.element.setMap(null)}.bind(la));la.controls.forEach(function(Ua){Ua.setMap(this)}.bind(la));la.interactions.forEach(function(Ua){Ua.setMap(this)}.bind(la));la.overlays_.forEach(la.addOverlayInternal_.bind(la));
return la}K(ka,U);ka.prototype.createRenderer=function(){throw Error("Use a map type that has a createRenderer method");};ka.prototype.addControl=function(da){this.getControls().push(da)};ka.prototype.addInteraction=function(da){this.getInteractions().push(da)};ka.prototype.addLayer=function(da){this.getLayerGroup().getLayers().push(da)};ka.prototype.handleLayerAdd_=function(da){r(da.layer,this)};ka.prototype.addOverlay=function(da){this.getOverlays().push(da)};ka.prototype.addOverlayInternal_=function(da){var la=
da.getId();void 0!==la&&(this.overlayIdIndex_[la.toString()]=da);da.setMap(this)};ka.prototype.disposeInternal=function(){this.controls.clear();this.interactions.clear();this.overlays_.clear();this.setTarget(null);U.prototype.disposeInternal.call(this)};ka.prototype.forEachFeatureAtPixel=function(da,la,wa){if(this.frameState_&&this.renderer_)return da=this.getCoordinateFromPixelInternal(da),wa=void 0!==wa?wa:{},this.renderer_.forEachFeatureAtCoordinate(da,this.frameState_,void 0!==wa.hitTolerance?
wa.hitTolerance:0,!1!==wa.checkWrapped,la,null,void 0!==wa.layerFilter?wa.layerFilter:Z.TRUE,null)};ka.prototype.getFeaturesAtPixel=function(da,la){var wa=[];this.forEachFeatureAtPixel(da,function(Ua){wa.push(Ua)},la);return wa};ka.prototype.getAllLayers=function(){function da(wa){wa.forEach(function(Ua){Ua instanceof a.default?da(Ua.getLayers()):la.push(Ua)})}var la=[];da(this.getLayers());return la};ka.prototype.forEachLayerAtPixel=function(da,la,wa){if(this.frameState_&&this.renderer_)return wa=
wa||{},this.renderer_.forEachLayerAtPixel(da,this.frameState_,void 0!==wa.hitTolerance?wa.hitTolerance:0,la,wa.layerFilter||Z.TRUE)};ka.prototype.hasFeatureAtPixel=function(da,la){if(!this.frameState_||!this.renderer_)return!1;da=this.getCoordinateFromPixelInternal(da);la=void 0!==la?la:{};return this.renderer_.hasFeatureAtCoordinate(da,this.frameState_,void 0!==la.hitTolerance?la.hitTolerance:0,!1!==la.checkWrapped,void 0!==la.layerFilter?la.layerFilter:Z.TRUE,null)};ka.prototype.getEventCoordinate=
function(da){return this.getCoordinateFromPixel(this.getEventPixel(da))};ka.prototype.getEventCoordinateInternal=function(da){return this.getCoordinateFromPixelInternal(this.getEventPixel(da))};ka.prototype.getEventPixel=function(da){var la=this.viewport_.getBoundingClientRect();da="changedTouches"in da?da.changedTouches[0]:da;return[da.clientX-la.left,da.clientY-la.top]};ka.prototype.getTarget=function(){return this.get(C.default.TARGET)};ka.prototype.getTargetElement=function(){var da=this.getTarget();
return void 0!==da?"string"===typeof da?document.getElementById(da):da:null};ka.prototype.getCoordinateFromPixel=function(da){return(0,W.toUserCoordinate)(this.getCoordinateFromPixelInternal(da),this.getView().getProjection())};ka.prototype.getCoordinateFromPixelInternal=function(da){var la=this.frameState_;return la?(0,T.apply)(la.pixelToCoordinateTransform,da.slice()):null};ka.prototype.getControls=function(){return this.controls};ka.prototype.getOverlays=function(){return this.overlays_};ka.prototype.getOverlayById=
function(da){da=this.overlayIdIndex_[da.toString()];return void 0!==da?da:null};ka.prototype.getInteractions=function(){return this.interactions};ka.prototype.getLayerGroup=function(){return this.get(C.default.LAYERGROUP)};ka.prototype.setLayers=function(da){var la=this.getLayerGroup();da instanceof k.default?la.setLayers(da):(la=la.getLayers(),la.clear(),la.extend(da))};ka.prototype.getLayers=function(){return this.getLayerGroup().getLayers()};ka.prototype.getLoadingOrNotReady=function(){for(var da=
this.getLayerGroup().getLayerStatesArray(),la=0,wa=da.length;la<wa;++la){var Ua=da[la];if(Ua.visible){var hb=Ua.layer.getRenderer();if(hb&&!hb.ready||(Ua=Ua.layer.getSource())&&Ua.loading)return!0}}return!1};ka.prototype.getPixelFromCoordinate=function(da){da=(0,W.fromUserCoordinate)(da,this.getView().getProjection());return this.getPixelFromCoordinateInternal(da)};ka.prototype.getPixelFromCoordinateInternal=function(da){var la=this.frameState_;return la?(0,T.apply)(la.coordinateToPixelTransform,
da.slice(0,2)):null};ka.prototype.getRenderer=function(){return this.renderer_};ka.prototype.getSize=function(){return this.get(C.default.SIZE)};ka.prototype.getView=function(){return this.get(C.default.VIEW)};ka.prototype.getViewport=function(){return this.viewport_};ka.prototype.getOverlayContainer=function(){return this.overlayContainer_};ka.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ka.prototype.getOwnerDocument=function(){var da=this.getTargetElement();
return da?da.ownerDocument:document};ka.prototype.getTilePriority=function(da,la,wa,Ua){return(0,q.getTilePriority)(this.frameState_,da,la,wa,Ua)};ka.prototype.handleBrowserEvent=function(da,la){da=new c.default(la||da.type,this,da);this.handleMapBrowserEvent(da)};ka.prototype.handleMapBrowserEvent=function(da){if(this.frameState_){var la=da.originalEvent,wa=la.type;if(wa===A.default.POINTERDOWN||wa===e.default.WHEEL||wa===e.default.KEYDOWN){wa=this.getOwnerDocument();var Ua=this.viewport_.getRootNode?
this.viewport_.getRootNode():wa;la=la.target;if(this.overlayContainerStopEvent_.contains(la)||!(Ua===wa?wa.documentElement:Ua).contains(la))return}da.frameState=this.frameState_;if(!1!==this.dispatchEvent(da))for(la=this.getInteractions().getArray().slice(),wa=la.length-1;0<=wa&&(Ua=la[wa],Ua.getMap()!==this||!Ua.getActive()||!this.getTargetElement()||Ua.handleEvent(da)&&!da.propagationStopped);wa--);}};ka.prototype.handlePostRender=function(){var da=this.frameState_,la=this.tileQueue_;if(!la.isEmpty()){var wa=
this.maxTilesLoading_,Ua=wa;if(da){var hb=da.viewHints;if(hb[M.default.ANIMATING]||hb[M.default.INTERACTING])wa=(Ua=8<Date.now()-da.time)?0:8,Ua=Ua?0:2}la.getTilesLoading()<wa&&(la.reprioritize(),la.loadMoreTiles(wa,Ua))}da&&this.renderer_&&!da.animate&&(!0===this.renderComplete_?(this.hasListener(x.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(x.default.RENDERCOMPLETE,da),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new z.default(u.default.LOADEND,this,da)))):!0===this.loaded_&&
(this.loaded_=!1,this.dispatchEvent(new z.default(u.default.LOADSTART,this,da))));la=this.postRenderFunctions_;wa=0;for(Ua=la.length;wa<Ua;++wa)la[wa](this,da);la.length=0};ka.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()};ka.prototype.handleTargetChanged_=function(){if(this.mapBrowserEventHandler_){for(var da=0,la=this.targetChangeHandlerKeys_.length;da<la;++da)(0,w.unlistenByKey)(this.targetChangeHandlerKeys_[da]);
this.targetChangeHandlerKeys_=null;this.viewport_.removeEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_);this.viewport_.removeEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,B.removeNode)(this.viewport_)}if(da=this.getTargetElement()){da.appendChild(this.viewport_);this.renderer_||(this.renderer_=this.createRenderer());this.mapBrowserEventHandler_=new b.default(this,this.moveTolerance_);for(var wa in m.default)this.mapBrowserEventHandler_.addEventListener(m.default[wa],
this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_,R.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);wa=this.getOwnerDocument().defaultView;da=this.keyboardEventTarget_?this.keyboardEventTarget_:da;this.targetChangeHandlerKeys_=[(0,w.listen)(da,e.default.KEYDOWN,this.handleBrowserEvent,this),(0,w.listen)(da,e.default.KEYPRESS,this.handleBrowserEvent,this),
(0,w.listen)(wa,e.default.RESIZE,this.updateSize,this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()};ka.prototype.handleTileChange_=function(){this.render()};ka.prototype.handleViewPropertyChanged_=function(){this.render()};ka.prototype.handleViewChanged_=
function(){this.viewPropertyListenerKey_&&((0,w.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null);this.viewChangeListenerKey_&&((0,w.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var da=this.getView();da&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,w.listen)(da,J.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,w.listen)(da,e.default.CHANGE,this.handleViewPropertyChanged_,this),
da.resolveConstraints(0));this.render()};ka.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(w.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var da=this.getLayerGroup();da&&(this.handleLayerAdd_(new a.GroupEvent("addlayer",da)),this.layerGroupPropertyListenerKeys_=[(0,w.listen)(da,J.default.PROPERTYCHANGE,this.render,this),(0,w.listen)(da,e.default.CHANGE,this.render,this),(0,w.listen)(da,"addlayer",this.handleLayerAdd_,
this),(0,w.listen)(da,"removelayer",this.handleLayerRemove_,this)]);this.render()};ka.prototype.isRendered=function(){return!!this.frameState_};ka.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()};ka.prototype.redrawText=function(){for(var da=this.getLayerGroup().getLayerStatesArray(),la=0,wa=da.length;la<wa;++la){var Ua=da[la].layer;Ua.hasRenderer()&&Ua.getRenderer().handleFontsChanged()}};ka.prototype.render=function(){this.renderer_&&
void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))};ka.prototype.removeControl=function(da){return this.getControls().remove(da)};ka.prototype.removeInteraction=function(da){return this.getInteractions().remove(da)};ka.prototype.removeLayer=function(da){return this.getLayerGroup().getLayers().remove(da)};ka.prototype.handleLayerRemove_=function(da){v(da.layer)};ka.prototype.removeOverlay=function(da){return this.getOverlays().remove(da)};ka.prototype.renderFrame_=
function(da){var la=this,wa=this.getSize(),Ua=this.getView(),hb=this.frameState_,La=null;void 0!==wa&&(0,P.hasArea)(wa)&&Ua&&Ua.isDef()&&(La=Ua.getHints(this.frameState_?this.frameState_.viewHints:void 0),Ua=Ua.getState(),La={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,aa.getForViewAndSize)(Ua.center,Ua.resolution,Ua.rotation,wa),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,
pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:wa,tileQueue:this.tileQueue_,time:da,usedTiles:{},viewState:Ua,viewHints:La,wantedTiles:{},mapId:(0,X.getUid)(this),renderTargets:{}},Ua.nextCenter&&Ua.nextResolution&&(da=isNaN(Ua.nextRotation)?Ua.rotation:Ua.nextRotation,La.nextExtent=(0,aa.getForViewAndSize)(Ua.nextCenter,Ua.nextResolution,da,wa)));this.frameState_=La;this.renderer_.renderFrame(La);La&&(La.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,
La.postRenderFunctions),!hb||this.previousExtent_&&((0,aa.isEmpty)(this.previousExtent_)||(0,aa.equals)(La.extent,this.previousExtent_))||(this.dispatchEvent(new z.default(u.default.MOVESTART,this,hb)),this.previousExtent_=(0,aa.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||La.viewHints[M.default.ANIMATING]||La.viewHints[M.default.INTERACTING]||(0,aa.equals)(La.extent,this.previousExtent_)||(this.dispatchEvent(new z.default(u.default.MOVEEND,this,La)),(0,aa.clone)(La.extent,this.previousExtent_)));
this.dispatchEvent(new z.default(u.default.POSTRENDER,this,La));this.renderComplete_=this.hasListener(u.default.LOADSTART)||this.hasListener(u.default.LOADEND)||this.hasListener(x.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0;this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(function(){la.postRenderTimeoutHandle_=void 0;la.handlePostRender()},0))};ka.prototype.setLayerGroup=function(da){var la=this.getLayerGroup();
la&&this.handleLayerRemove_(new a.GroupEvent("removelayer",la));this.set(C.default.LAYERGROUP,da)};ka.prototype.setSize=function(da){this.set(C.default.SIZE,da)};ka.prototype.setTarget=function(da){this.set(C.default.TARGET,da)};ka.prototype.setView=function(da){if(!da||da instanceof H.default)this.set(C.default.VIEW,da);else{this.set(C.default.VIEW,new H.default);var la=this;da.then(function(wa){la.setView(new H.default(wa))})}};ka.prototype.updateSize=function(){var da=this.getTargetElement(),la=
void 0;if(da){var wa=getComputedStyle(da),Ua=da.offsetWidth-parseFloat(wa.borderLeftWidth)-parseFloat(wa.paddingLeft)-parseFloat(wa.paddingRight)-parseFloat(wa.borderRightWidth);wa=da.offsetHeight-parseFloat(wa.borderTopWidth)-parseFloat(wa.paddingTop)-parseFloat(wa.paddingBottom)-parseFloat(wa.borderBottomWidth);isNaN(Ua)||isNaN(wa)||(la=[Ua,wa],!(0,P.hasArea)(la)&&(da.offsetWidth||da.offsetHeight||da.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(la);
this.updateViewportSize_()};ka.prototype.updateViewportSize_=function(){var da=this.getView();if(da){var la=void 0,wa=getComputedStyle(this.viewport_);wa.width&&wa.height&&(la=[parseInt(wa.width,10),parseInt(wa.height,10)]);da.setViewportSize(la)}};return ka}(sa.default);G.default=F};
shadow$provide[147]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(85));var p=y(F(106)),n=F(67),v=F(83),r=F(95),h=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}if("function"!==typeof e&&
null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();F=function(k){function f(e){var d=k.call(this)||this,a=e.element;!a||e.target||a.style.pointerEvents||(a.style.pointerEvents="auto");d.element=a?a:null;d.target_=null;d.map_=null;d.listenerKeys=[];e.render&&(d.render=e.render);e.target&&d.setTarget(e.target);return d}h(f,k);f.prototype.disposeInternal=function(){(0,r.removeNode)(this.element);
k.prototype.disposeInternal.call(this)};f.prototype.getMap=function(){return this.map_};f.prototype.setMap=function(e){this.map_&&(0,r.removeNode)(this.element);for(var d=0,a=this.listenerKeys.length;d<a;++d)(0,v.unlistenByKey)(this.listenerKeys[d]);this.listenerKeys.length=0;if(this.map_=e)(this.target_?this.target_:e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==n.VOID&&this.listenerKeys.push((0,v.listen)(e,p.default.POSTRENDER,this.render,this)),e.render()};f.prototype.render=
function(e){};f.prototype.setTarget=function(e){this.target_="string"===typeof e?document.getElementById(e):e};return f}(sa.default);G.default=F};
shadow$provide[148]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(82)),n=F(94),v=F(66),r=F(89),h=F(95),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){var a=d?d:{};d=f.call(this,{element:document.createElement("div"),render:a.render,target:a.target})||this;d.ulElement_=document.createElement("ul");d.collapsed_=void 0!==a.collapsed?a.collapsed:!0;d.userCollapsed_=d.collapsed_;d.overrideCollapsible_=void 0!==a.collapsible;d.collapsible_=
void 0!==a.collapsible?a.collapsible:!0;d.collapsible_||(d.collapsed_=!1);var c=void 0!==a.className?a.className:"ol-attribution",b=void 0!==a.tipLabel?a.tipLabel:"Attributions",m=void 0!==a.expandClassName?a.expandClassName:c+"-expand",z=void 0!==a.collapseLabel?a.collapseLabel:"",u=void 0!==a.collapseClassName?a.collapseClassName:c+"-collapse";"string"===typeof z?(d.collapseLabel_=document.createElement("span"),d.collapseLabel_.textContent=z,d.collapseLabel_.className=u):d.collapseLabel_=z;a=void 0!==
a.label?a.label:"i";"string"===typeof a?(d.label_=document.createElement("span"),d.label_.textContent=a,d.label_.className=m):d.label_=a;m=d.collapsible_&&!d.collapsed_?d.collapseLabel_:d.label_;d.toggleButton_=document.createElement("button");d.toggleButton_.setAttribute("type","button");d.toggleButton_.setAttribute("aria-expanded",String(!d.collapsed_));d.toggleButton_.title=b;d.toggleButton_.appendChild(m);d.toggleButton_.addEventListener(p.default.CLICK,d.handleClick_.bind(d),!1);b=d.element;
b.className=c+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL+(d.collapsed_&&d.collapsible_?" "+n.CLASS_COLLAPSED:"")+(d.collapsible_?"":" ol-uncollapsible");b.appendChild(d.toggleButton_);b.appendChild(d.ulElement_);d.renderedAttributions_=[];d.renderedVisible_=!0;return d}k(e,f);e.prototype.collectSourceAttributions_=function(d){for(var a={},c=[],b=!0,m=d.layerStatesArray,z=0,u=m.length;z<u;++z){var C=m[z];if((0,r.inView)(C,d.viewState)){var J=C.layer.getSource();if(J&&(C=J.getAttributions())&&(C=
C(d)))if(b=b&&!1!==J.getAttributionsCollapsible(),Array.isArray(C)){J=0;for(var A=C.length;J<A;++J)C[J]in a||(c.push(C[J]),a[C[J]]=!0)}else C in a||(c.push(C),a[C]=!0)}}this.overrideCollapsible_||this.setCollapsible(b);return c};e.prototype.updateElement_=function(d){if(d){d=this.collectSourceAttributions_(d);var a=0<d.length;this.renderedVisible_!=a&&(this.element.style.display=a?"":"none",this.renderedVisible_=a);if(!(0,v.equals)(d,this.renderedAttributions_)){(0,h.removeChildren)(this.ulElement_);
a=0;for(var c=d.length;a<c;++a){var b=document.createElement("li");b.innerHTML=d[a];this.ulElement_.appendChild(b)}this.renderedAttributions_=d}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};e.prototype.handleClick_=function(d){d.preventDefault();this.handleToggle_();this.userCollapsed_=this.collapsed_};e.prototype.handleToggle_=function(){this.element.classList.toggle(n.CLASS_COLLAPSED);this.collapsed_?(0,h.replaceNode)(this.collapseLabel_,this.label_):
(0,h.replaceNode)(this.label_,this.collapseLabel_);this.collapsed_=!this.collapsed_;this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))};e.prototype.getCollapsible=function(){return this.collapsible_};e.prototype.setCollapsible=function(d){this.collapsible_!==d&&(this.collapsible_=d,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())};e.prototype.setCollapsed=function(d){this.userCollapsed_=d;this.collapsible_&&this.collapsed_!==d&&this.handleToggle_()};
e.prototype.getCollapsed=function(){return this.collapsed_};e.prototype.render=function(d){this.updateElement_(d.frameState)};return e}(sa.default);G.default=F};
shadow$provide[149]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(82)),n=F(94),v=F(125),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=f?f:{};f=h.call(this,{element:document.createElement("div"),render:e.render,target:e.target})||this;var d=void 0!==e.className?e.className:"ol-rotate",a=void 0!==e.label?e.label:"",c=void 0!==e.compassClassName?e.compassClassName:"ol-compass";f.label_=null;"string"===typeof a?(f.label_=document.createElement("span"),
f.label_.className=c,f.label_.textContent=a):(f.label_=a,f.label_.classList.add(c));c=e.tipLabel?e.tipLabel:"Reset rotation";a=document.createElement("button");a.className=d+"-reset";a.setAttribute("type","button");a.title=c;a.appendChild(f.label_);a.addEventListener(p.default.CLICK,f.handleClick_.bind(f),!1);c=f.element;c.className=d+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;c.appendChild(a);f.callResetNorth_=e.resetNorth?e.resetNorth:void 0;f.duration_=void 0!==e.duration?e.duration:250;f.autoHide_=
void 0!==e.autoHide?e.autoHide:!0;f.rotation_=void 0;f.autoHide_&&f.element.classList.add(n.CLASS_HIDDEN);return f}r(k,h);k.prototype.handleClick_=function(f){f.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()};k.prototype.resetNorth_=function(){var f=this.getMap().getView();if(f){var e=f.getRotation();void 0!==e&&(0<this.duration_&&0!==e%(2*Math.PI)?f.animate({rotation:0,duration:this.duration_,easing:v.easeOut}):f.setRotation(0))}};k.prototype.render=function(f){if(f=
f.frameState){f=f.viewState.rotation;if(f!=this.rotation_){var e="rotate("+f+"rad)";if(this.autoHide_){var d=this.element.classList.contains(n.CLASS_HIDDEN);d||0!==f?d&&0!==f&&this.element.classList.remove(n.CLASS_HIDDEN):this.element.classList.add(n.CLASS_HIDDEN)}this.label_.style.transform=e}this.rotation_=f}};return k}(sa.default);G.default=F};
shadow$provide[150]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(82)),n=F(94),v=F(125),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=f?f:{};f=h.call(this,{element:document.createElement("div"),target:e.target})||this;var d=void 0!==e.className?e.className:"ol-zoom",a=void 0!==e.delta?e.delta:1,c=void 0!==e.zoomInClassName?e.zoomInClassName:d+"-in",b=void 0!==e.zoomOutClassName?e.zoomOutClassName:d+"-out",m=void 0!==e.zoomInLabel?
e.zoomInLabel:"+",z=void 0!==e.zoomOutLabel?e.zoomOutLabel:"",u=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",C=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",J=document.createElement("button");J.className=c;J.setAttribute("type","button");J.title=u;J.appendChild("string"===typeof m?document.createTextNode(m):m);J.addEventListener(p.default.CLICK,f.handleClick_.bind(f,a),!1);c=document.createElement("button");c.className=b;c.setAttribute("type","button");c.title=C;c.appendChild("string"===
typeof z?document.createTextNode(z):z);c.addEventListener(p.default.CLICK,f.handleClick_.bind(f,-a),!1);a=f.element;a.className=d+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;a.appendChild(J);a.appendChild(c);f.duration_=void 0!==e.duration?e.duration:250;return f}r(k,h);k.prototype.handleClick_=function(f,e){e.preventDefault();this.zoomByDelta_(f)};k.prototype.zoomByDelta_=function(f){var e=this.getMap().getView();if(e){var d=e.getZoom();void 0!==d&&(f=e.getConstrainedZoom(d+f),0<this.duration_?
(e.getAnimating()&&e.cancelAnimations(),e.animate({zoom:f,duration:this.duration_,easing:v.easeOut})):e.setZoom(f))}};return k}(sa.default);G.default=F};
shadow$provide[151]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}function p(c){var b=c.body;return!!(b.webkitRequestFullscreen||b.msRequestFullscreen&&c.msFullscreenEnabled||b.requestFullscreen&&c.fullscreenEnabled)}function n(c){return!!(c.webkitIsFullScreen||c.msFullscreenElement||c.fullscreenElement)}function v(c){c.requestFullscreen?c.requestFullscreen():c.msRequestFullscreen?c.msRequestFullscreen():c.webkitRequestFullscreen&&c.webkitRequestFullscreen()}Object.defineProperty(G,
"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var r=y(F(82)),h=y(F(107)),k=F(94),f=F(83),e=F(95),d=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(z[C]=u[C])};return c(b,m)};return function(b,m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,
m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}(),a=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"];F=function(c){function b(m){var z=m?m:{};m=c.call(this,{element:document.createElement("div"),target:z.target})||this;m.keys_=void 0!==z.keys?z.keys:!1;m.source_=z.source;m.isInFullscreen_=!1;m.boundHandleMapTargetChange_=m.handleMapTargetChange_.bind(m);m.cssClassName_=void 0!==z.className?z.className:"ol-full-screen";m.documentListeners_=[];m.activeClassName_=
void 0!==z.activeClassName?z.activeClassName.split(" "):[m.cssClassName_+"-true"];m.inactiveClassName_=void 0!==z.inactiveClassName?z.inactiveClassName.split(" "):[m.cssClassName_+"-false"];var u=void 0!==z.label?z.label:"";m.labelNode_="string"===typeof u?document.createTextNode(u):u;u=void 0!==z.labelActive?z.labelActive:"";m.labelActiveNode_="string"===typeof u?document.createTextNode(u):u;z=z.tipLabel?z.tipLabel:"Toggle full-screen";m.button_=document.createElement("button");m.button_.title=
z;m.button_.setAttribute("type","button");m.button_.appendChild(m.labelNode_);m.button_.addEventListener(r.default.CLICK,m.handleClick_.bind(m),!1);m.setClassName_(m.button_,m.isInFullscreen_);m.element.className="".concat(m.cssClassName_," ").concat(k.CLASS_UNSELECTABLE," ").concat(k.CLASS_CONTROL);m.element.appendChild(m.button_);return m}d(b,c);b.prototype.handleClick_=function(m){m.preventDefault();this.handleFullScreen_()};b.prototype.handleFullScreen_=function(){var m=this.getMap();if(m){var z=
m.getOwnerDocument();p(z)&&(n(z)?z.exitFullscreen?z.exitFullscreen():z.msExitFullscreen?z.msExitFullscreen():z.webkitExitFullscreen&&z.webkitExitFullscreen():(m=this.source_?"string"===typeof this.source_?z.getElementById(this.source_):this.source_:m.getTargetElement(),this.keys_?m.webkitRequestFullscreen?m.webkitRequestFullscreen():v(m):v(m)))}};b.prototype.handleFullScreenChange_=function(){var m=this.getMap();if(m){var z=this.isInFullscreen_;this.isInFullscreen_=n(m.getOwnerDocument());z!==this.isInFullscreen_&&
(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?((0,e.replaceNode)(this.labelActiveNode_,this.labelNode_),this.dispatchEvent("enterfullscreen")):((0,e.replaceNode)(this.labelNode_,this.labelActiveNode_),this.dispatchEvent("leavefullscreen")),m.updateSize())}};b.prototype.setClassName_=function(m,z){var u,C,J,A;z?((u=m.classList).remove.apply(u,this.inactiveClassName_),(C=m.classList).add.apply(C,this.activeClassName_)):((J=m.classList).remove.apply(J,this.activeClassName_),
(A=m.classList).add.apply(A,this.inactiveClassName_))};b.prototype.setMap=function(m){var z=this.getMap();z&&z.removeChangeListener(h.default.TARGET,this.boundHandleMapTargetChange_);c.prototype.setMap.call(this,m);this.handleMapTargetChange_();m&&m.addChangeListener(h.default.TARGET,this.boundHandleMapTargetChange_)};b.prototype.handleMapTargetChange_=function(){for(var m=this.documentListeners_,z=0,u=m.length;z<u;++z)(0,f.unlistenByKey)(m[z]);m.length=0;if(z=this.getMap()){var C=z.getOwnerDocument();
p(C)?this.element.classList.remove(k.CLASS_UNSUPPORTED):this.element.classList.add(k.CLASS_UNSUPPORTED);z=0;for(u=a.length;z<u;++z)m.push((0,f.listen)(C,a[z],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}};return b}(sa.default);G.default=F};
shadow$provide[152]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(104)),n=F(121),v=F(83),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=f?f:{},d=document.createElement("div");d.className=void 0!==e.className?e.className:"ol-mouse-position";f=h.call(this,{element:d,render:e.render,target:e.target})||this;f.addChangeListener("projection",f.handleProjectionChanged_);e.coordinateFormat&&f.setCoordinateFormat(e.coordinateFormat);
e.projection&&f.setProjection(e.projection);var a=!0,c="\x26#160;";"undefinedHTML"in e?(void 0!==e.undefinedHTML&&(c=e.undefinedHTML),a=!!c):"placeholder"in e&&(!1===e.placeholder?a=!1:c=String(e.placeholder));f.placeholder_=c;f.renderOnMouseOut_=a;f.renderedHTML_=d.innerHTML;f.mapProjection_=null;f.transform_=null;return f}r(k,h);k.prototype.handleProjectionChanged_=function(){this.transform_=null};k.prototype.getCoordinateFormat=function(){return this.get("coordinateFormat")};k.prototype.getProjection=
function(){return this.get("projection")};k.prototype.handleMouseMove=function(f){var e=this.getMap();this.updateHTML_(e.getEventPixel(f))};k.prototype.handleMouseOut=function(f){this.updateHTML_(null)};k.prototype.setMap=function(f){h.prototype.setMap.call(this,f);f&&(f=f.getViewport(),this.listenerKeys.push((0,v.listen)(f,p.default.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,v.listen)(f,p.default.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null))};
k.prototype.setCoordinateFormat=function(f){this.set("coordinateFormat",f)};k.prototype.setProjection=function(f){this.set("projection",(0,n.get)(f))};k.prototype.updateHTML_=function(f){var e=this.placeholder_;if(f&&this.mapProjection_){if(!this.transform_){var d=this.getProjection();this.transform_=d?(0,n.getTransformFromProjections)(this.mapProjection_,d):n.identityTransform}if(f=this.getMap().getCoordinateFromPixelInternal(f)){if(e=(0,n.getUserProjection)())this.transform_=(0,n.getTransformFromProjections)(this.mapProjection_,
e);this.transform_(f,f);e=(e=this.getCoordinateFormat())?e(f):f.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.renderedHTML_=this.element.innerHTML=e)};k.prototype.render=function(f){f=f.frameState;f?this.mapProjection_!=f.viewState.projection&&(this.mapProjection_=f.viewState.projection,this.transform_=null):this.mapProjection_=null};return k}(sa.default);G.default=F};
shadow$provide[153]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(85));var p=y(F(106)),n=F(94),v=F(74),r=F(83),h=F(95),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){var a=f.call(this)||this;a.options=d;a.id=d.id;a.insertFirst=void 0!==d.insertFirst?d.insertFirst:!0;a.stopEvent=void 0!==d.stopEvent?d.stopEvent:!0;a.element=document.createElement("div");a.element.className=void 0!==d.className?d.className:"ol-overlay-container "+n.CLASS_SELECTABLE;a.element.style.position=
"absolute";a.element.style.pointerEvents="auto";var c=d.autoPan;c&&"object"!==typeof c&&(c={animation:d.autoPanAnimation,margin:d.autoPanMargin});a.autoPan=c||!1;a.rendered={transform_:"",visible:!0};a.mapPostrenderListenerKey=null;a.addChangeListener("element",a.handleElementChanged);a.addChangeListener("map",a.handleMapChanged);a.addChangeListener("offset",a.handleOffsetChanged);a.addChangeListener("position",a.handlePositionChanged);a.addChangeListener("positioning",a.handlePositioningChanged);
void 0!==d.element&&a.setElement(d.element);a.setOffset(void 0!==d.offset?d.offset:[0,0]);a.setPositioning(d.positioning||"top-left");void 0!==d.position&&a.setPosition(d.position);return a}k(e,f);e.prototype.getElement=function(){return this.get("element")};e.prototype.getId=function(){return this.id};e.prototype.getMap=function(){return this.get("map")||null};e.prototype.getOffset=function(){return this.get("offset")};e.prototype.getPosition=function(){return this.get("position")};e.prototype.getPositioning=
function(){return this.get("positioning")};e.prototype.handleElementChanged=function(){(0,h.removeChildren)(this.element);var d=this.getElement();d&&this.element.appendChild(d)};e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,h.removeNode)(this.element),(0,r.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var d=this.getMap();d&&(this.mapPostrenderListenerKey=(0,r.listen)(d,p.default.POSTRENDER,this.render,this),this.updatePixelPosition(),
d=this.stopEvent?d.getOverlayContainerStopEvent():d.getOverlayContainer(),this.insertFirst?d.insertBefore(this.element,d.childNodes[0]||null):d.appendChild(this.element),this.performAutoPan())};e.prototype.render=function(){this.updatePixelPosition()};e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};e.prototype.handlePositionChanged=function(){this.updatePixelPosition();this.performAutoPan()};e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};e.prototype.setElement=
function(d){this.set("element",d)};e.prototype.setMap=function(d){this.set("map",d)};e.prototype.setOffset=function(d){this.set("offset",d)};e.prototype.setPosition=function(d){this.set("position",d)};e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)};e.prototype.panIntoView=function(d){var a=this.getMap();if(a&&a.getTargetElement()&&this.get("position")){var c=this.getRect(a.getTargetElement(),a.getSize()),b=this.getElement(),m=this.getRect(b,[(0,h.outerWidth)(b),
(0,h.outerHeight)(b)]);d=d||{};b=void 0===d.margin?20:d.margin;if(!(0,v.containsExtent)(c,m)){var z=m[0]-c[0],u=c[2]-m[2],C=m[1]-c[1];m=c[3]-m[3];c=[0,0];0>z?c[0]=z-b:0>u&&(c[0]=Math.abs(u)+b);0>C?c[1]=C-b:0>m&&(c[1]=Math.abs(m)+b);if(0!==c[0]||0!==c[1])if(b=a.getView().getCenterInternal(),b=a.getPixelFromCoordinateInternal(b))c=[b[0]+c[0],b[1]+c[1]],d=d.animation||{},a.getView().animateInternal({center:a.getCoordinateFromPixelInternal(c),duration:d.duration,easing:d.easing})}}};e.prototype.getRect=
function(d,a){var c=d.getBoundingClientRect();d=c.left+window.pageXOffset;c=c.top+window.pageYOffset;return[d,c,d+a[0],c+a[1]]};e.prototype.setPositioning=function(d){this.set("positioning",d)};e.prototype.setVisible=function(d){this.rendered.visible!==d&&(this.element.style.display=d?"":"none",this.rendered.visible=d)};e.prototype.updatePixelPosition=function(){var d=this.getMap(),a=this.getPosition();d&&d.isRendered()&&a?(a=d.getPixelFromCoordinate(a),d=d.getSize(),this.updateRenderedPosition(a,
d)):this.setVisible(!1)};e.prototype.updateRenderedPosition=function(d,a){a=this.element.style;var c=this.getOffset(),b=this.getPositioning();this.setVisible(!0);var m=Math.round(d[0]+c[0])+"px";d=Math.round(d[1]+c[1])+"px";var z=c="0%";if("bottom-right"==b||"center-right"==b||"top-right"==b)c="-100%";else if("bottom-center"==b||"center-center"==b||"top-center"==b)c="-50%";if("bottom-left"==b||"bottom-center"==b||"bottom-right"==b)z="-100%";else if("center-left"==b||"center-center"==b||"center-right"==
b)z="-50%";b="translate(".concat(c,", ").concat(z,") translate(").concat(m,", ").concat(d,")");this.rendered.transform_!=b&&(this.rendered.transform_=b,a.transform=b,a.msTransform=b)};e.prototype.getOptions=function(){return this.options};return e}(sa.default);G.default=F};
shadow$provide[154]=function(sa,F,ob,G){function y(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(97));sa=y(F(147));var n=y(F(82)),v=y(F(106)),r=y(F(107)),h=y(F(79)),k=y(F(153));ob=y(F(146));var f=y(F(144)),e=y(F(113)),d=F(94),a=F(74),c=F(83),b=F(143),m=F(95),z=function(){var C=function(J,A){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,
H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}(),u=function(C){function J(){return null!==C&&C.apply(this,arguments)||this}z(J,C);J.prototype.createRenderer=function(){return new p.default(this)};return J}(ob.default);F=function(C){function J(A){var x=this,q=A?A:
{};x=C.call(this,{element:document.createElement("div"),render:q.render,target:q.target})||this;x.boundHandleRotationChanged_=x.handleRotationChanged_.bind(x);x.collapsed_=void 0!==q.collapsed?q.collapsed:!0;x.collapsible_=void 0!==q.collapsible?q.collapsible:!0;x.collapsible_||(x.collapsed_=!1);x.rotateWithView_=void 0!==q.rotateWithView?q.rotateWithView:!1;x.viewExtent_=void 0;A=void 0!==q.className?q.className:"ol-overviewmap";var H=void 0!==q.tipLabel?q.tipLabel:"Overview map",M=void 0!==q.collapseLabel?
q.collapseLabel:"";"string"===typeof M?(x.collapseLabel_=document.createElement("span"),x.collapseLabel_.textContent=M):x.collapseLabel_=M;M=void 0!==q.label?q.label:"";"string"===typeof M?(x.label_=document.createElement("span"),x.label_.textContent=M):x.label_=M;var R=x.collapsible_&&!x.collapsed_?x.collapseLabel_:x.label_;M=document.createElement("button");M.setAttribute("type","button");M.title=H;M.appendChild(R);M.addEventListener(n.default.CLICK,x.handleClick_.bind(x),!1);x.ovmapDiv_=document.createElement("div");
x.ovmapDiv_.className="ol-overviewmap-map";x.view_=q.view;x.ovmap_=new u({view:q.view});var Z=x.ovmap_;q.layers&&q.layers.forEach(function(X){Z.addLayer(X)});q=document.createElement("div");q.className="ol-overviewmap-box";q.style.boxSizing="border-box";x.boxOverlay_=new k.default({position:[0,0],positioning:"center-center",element:q});x.ovmap_.addOverlay(x.boxOverlay_);q=x.element;q.className=A+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(x.collapsed_&&x.collapsible_?" "+d.CLASS_COLLAPSED:"")+(x.collapsible_?
"":" ol-uncollapsible");q.appendChild(x.ovmapDiv_);q.appendChild(M);var T=x,ba=x.boxOverlay_,aa=function(X){X=Z.getEventCoordinateInternal({clientX:X.clientX,clientY:X.clientY});ba.setPosition(X)},W=function(X){X=Z.getEventCoordinateInternal(X);T.getMap().getView().setCenterInternal(X);window.removeEventListener("mousemove",aa);window.removeEventListener("mouseup",W)};x.boxOverlay_.getElement().addEventListener("mousedown",function(){window.addEventListener("mousemove",aa);window.addEventListener("mouseup",
W)});return x}z(J,C);J.prototype.setMap=function(A){var x=this.getMap();if(A!==x&&(x&&((x=x.getView())&&this.unbindView_(x),this.ovmap_.setTarget(null)),C.prototype.setMap.call(this,A),A)){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push((0,c.listen)(A,h.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(A=A.getView())this.bindView_(A),A.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_());this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}};J.prototype.handleMapPropertyChange_=
function(A){A.key===r.default.VIEW?((A=A.oldValue)&&this.unbindView_(A),A=this.getMap().getView(),this.bindView_(A)):this.ovmap_.isRendered()||A.key!==r.default.TARGET&&A.key!==r.default.SIZE||this.ovmap_.updateSize()};J.prototype.bindView_=function(A){if(!this.view_){var x=new f.default({projection:A.getProjection()});this.ovmap_.setView(x)}A.addChangeListener(e.default.ROTATION,this.boundHandleRotationChanged_);this.handleRotationChanged_()};J.prototype.unbindView_=function(A){A.removeChangeListener(e.default.ROTATION,
this.boundHandleRotationChanged_)};J.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};J.prototype.validateExtent_=function(){var A=this.getMap(),x=this.ovmap_;if(A.isRendered()&&x.isRendered()){var q=A.getSize();A=A.getView().calculateExtentInternal(q);if(!this.viewExtent_||!(0,a.equals)(A,this.viewExtent_)){this.viewExtent_=A;var H=x.getSize();q=x.getView().calculateExtentInternal(H);var M=x.getPixelFromCoordinateInternal((0,a.getTopLeft)(A)),
R=x.getPixelFromCoordinateInternal((0,a.getBottomRight)(A));x=Math.abs(M[0]-R[0]);M=Math.abs(M[1]-R[1]);R=H[0];H=H[1];x<.1*R||M<.1*H||x>.75*R||M>.75*H?this.resetExtent_():(0,a.containsExtent)(q,A)||this.recenter_()}}};J.prototype.resetExtent_=function(){var A=this.getMap(),x=this.ovmap_,q=A.getSize();A=A.getView().calculateExtentInternal(q);x=x.getView();(0,a.scaleFromCenter)(A,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2)));x.fitInternal((0,b.fromExtent)(A))};J.prototype.recenter_=function(){var A=
this.getMap(),x=this.ovmap_;A=A.getView();x.getView().setCenterInternal(A.getCenterInternal())};J.prototype.updateBox_=function(){var A=this.getMap(),x=this.ovmap_;if(A.isRendered()&&x.isRendered()){var q=A.getSize(),H=A.getView(),M=x.getView();x=this.rotateWithView_?0:-H.getRotation();A=this.boxOverlay_;var R=this.boxOverlay_.getElement(),Z=H.getCenterInternal();H=H.getResolution();var T=M.getResolution();M=q[0]*H/T;q=q[1]*H/T;A.setPosition(Z);R&&(R.style.width=M+"px",R.style.height=q+"px",R.style.transform=
"rotate("+x+"rad)")}};J.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=(0,c.listenOnce)(this.ovmap_,v.default.POSTRENDER,function(A){delete this.ovmapPostrenderKey_;this.updateBox_()},this))};J.prototype.handleClick_=function(A){A.preventDefault();this.handleToggle_()};J.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED);this.collapsed_?(0,m.replaceNode)(this.collapseLabel_,this.label_):(0,m.replaceNode)(this.label_,
this.collapseLabel_);this.collapsed_=!this.collapsed_;var A=this.ovmap_;this.collapsed_||(A.isRendered()?(this.viewExtent_=void 0,A.render()):(A.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()))};J.prototype.getCollapsible=function(){return this.collapsible_};J.prototype.setCollapsible=function(A){this.collapsible_!==A&&(this.collapsible_=A,this.element.classList.toggle("ol-uncollapsible"),!A&&this.collapsed_&&this.handleToggle_())};J.prototype.setCollapsed=function(A){this.collapsible_&&
this.collapsed_!==A&&this.handleToggle_()};J.prototype.getCollapsed=function(){return this.collapsed_};J.prototype.getRotateWithView=function(){return this.rotateWithView_};J.prototype.setRotateWithView=function(A){this.rotateWithView_!==A&&(this.rotateWithView_=A,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))};J.prototype.getOverviewMap=function(){return this.ovmap_};
J.prototype.render=function(A){this.validateExtent_();this.updateBox_()};return J}(sa.default);G.default=F};
shadow$provide[155]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.Units=void 0;sa=y(F(147));var p=y(F(111)),n=F(94),v=F(121),r=F(71),h=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=a}if("function"!==
typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}(),k={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};G.Units=k;var f=[1,2,5],e=25.4/.28;F=function(d){function a(c){var b=c?c:{},m=void 0!==b.className?b.className:b.bar?"ol-scale-bar":"ol-scale-line";c=d.call(this,{element:document.createElement("div"),render:b.render,target:b.target})||
this;c.innerElement_=document.createElement("div");c.innerElement_.className=m+"-inner";c.element.className=m+" "+n.CLASS_UNSELECTABLE;c.element.appendChild(c.innerElement_);c.viewState_=null;c.minWidth_=void 0!==b.minWidth?b.minWidth:64;c.maxWidth_=b.maxWidth;c.renderedVisible_=!1;c.renderedWidth_=void 0;c.renderedHTML_="";c.addChangeListener("units",c.handleUnitsChanged_);c.setUnits(b.units||k.METRIC);c.scaleBar_=b.bar||!1;c.scaleBarSteps_=b.steps||4;c.scaleBarText_=b.text||!1;c.dpi_=b.dpi||void 0;
return c}h(a,d);a.prototype.getUnits=function(){return this.get("units")};a.prototype.handleUnitsChanged_=function(){this.updateElement_()};a.prototype.setUnits=function(c){this.set("units",c)};a.prototype.setDpi=function(c){this.dpi_=c};a.prototype.updateElement_=function(){var c=this.viewState_;if(c){var b=c.center,m=c.projection,z=this.getUnits();c=(0,v.getPointResolution)(m,c.resolution,b,z==k.DEGREES?p.default.DEGREES:p.default.METERS);b=this.minWidth_*(this.dpi_||e)/e;m=void 0!==this.maxWidth_?
this.maxWidth_*(this.dpi_||e)/e:void 0;var u=b*c,C="";z==k.DEGREES?(C=v.METERS_PER_UNIT[p.default.DEGREES],u*=C,u<C/60?(C="",c*=3600):u<C?(C="",c*=60):C=""):z==k.IMPERIAL?.9144>u?(C="in",c/=.0254):1609.344>u?(C="ft",c/=.3048):(C="mi",c/=1609.344):z==k.NAUTICAL?(c/=1852,C="NM"):z==k.METRIC?.001>u?(C="m",c*=1E6):1>u?(C="mm",c*=1E3):1E3>u?C="m":(C="km",c/=1E3):z==k.US?.9144>u?(C="in",c*=39.37):1609.344>u?(C="ft",c/=.30480061):(C="mi",c/=1609.3472):(0,r.assert)(!1,33);u=3*Math.floor(Math.log(b*c)/
Math.log(10));for(var J,A,x,q,H;;){A=Math.floor(u/3);J=f[(u%3+3)%3]*Math.pow(10,A);z=Math.round(J/c);if(isNaN(z)){this.element.style.display="none";this.renderedVisible_=!1;return}if(void 0!==m&&z>=m){J=x;z=q;A=H;break}else if(z>=b)break;x=J;q=z;H=A;++u}x=this.scaleBar_?this.createScaleBar(z,J,C):J.toFixed(0>A?-A:0)+" "+C;this.renderedHTML_!=x&&(this.renderedHTML_=this.innerElement_.innerHTML=x);this.renderedWidth_!=z&&(this.innerElement_.style.width=z+"px",this.renderedWidth_=z);this.renderedVisible_||
(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)};a.prototype.createScaleBar=function(c,b,m){for(var z="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),u=[],C=c/this.scaleBarSteps_,J="ol-scale-singlebar-odd",A=0;A<this.scaleBarSteps_;A++)0===A&&u.push(this.createMarker("absolute",A)),u.push('\x3cdiv\x3e\x3cdiv class\x3d"ol-scale-singlebar '+J+'" style\x3d"width: '+C+'px;"\x3e\x3c/div\x3e'+
this.createMarker("relative",A)+(0===A%2||2===this.scaleBarSteps_?this.createStepText(A,c,!1,b,m):"")+"\x3c/div\x3e"),A===this.scaleBarSteps_-1&&u.push(this.createStepText(A+1,c,!0,b,m)),J="ol-scale-singlebar-odd"===J?"ol-scale-singlebar-even":"ol-scale-singlebar-odd";return'\x3cdiv style\x3d"display: flex;"\x3e'+(this.scaleBarText_?'\x3cdiv class\x3d"ol-scale-text" style\x3d"width: '+c+'px;"\x3e'+z+"\x3c/div\x3e":"")+u.join("")+"\x3c/div\x3e"};a.prototype.createMarker=function(c,b){return'\x3cdiv class\x3d"ol-scale-step-marker" style\x3d"position: '+
c+";top: "+("absolute"===c?3:-10)+'px;"\x3e\x3c/div\x3e'};a.prototype.createStepText=function(c,b,m,z,u){return'\x3cdiv class\x3d"ol-scale-step-text" style\x3d"margin-left: '+(0===c?-3:b/this.scaleBarSteps_*-1)+"px;text-align: "+(0===c?"left":"center")+"; min-width: "+(0===c?0:b/this.scaleBarSteps_*2)+"px;left: "+(m?b+"px":"unset")+';"\x3e'+((0===c?0:Math.round(z/this.scaleBarSteps_*c*100)/100)+(0===c?"":" "+u))+"\x3c/div\x3e"};a.prototype.getScaleForResolution=function(){var c=(0,v.getPointResolution)(this.viewState_.projection,
this.viewState_.resolution,this.viewState_.center,p.default.METERS),b=this.dpi_||e,m=1E3/25.4;return parseFloat(c.toString())*m*b};a.prototype.render=function(c){this.viewState_=(c=c.frameState)?c.viewState:null;this.updateElement_()};return a}(sa.default);G.default=F};
shadow$provide[156]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(82)),n=y(F(104)),v=F(94),r=F(75),h=F(125),k=F(83),f=F(78),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c){var b=c?c:{};c=d.call(this,{element:document.createElement("div"),render:b.render})||this;c.dragListenerKeys_=[];c.currentResolution_=void 0;c.direction_=0;c.heightLimit_=0;c.widthLimit_=0;c.thumbSize_=null;c.sliderInitialized_=!1;c.duration_=void 0!==b.duration?b.duration:
200;b=void 0!==b.className?b.className:"ol-zoomslider";var m=document.createElement("button");m.setAttribute("type","button");m.className=b+"-thumb "+v.CLASS_UNSELECTABLE;var z=c.element;z.className=b+" "+v.CLASS_UNSELECTABLE+" "+v.CLASS_CONTROL;z.appendChild(m);z.addEventListener(n.default.POINTERDOWN,c.handleDraggerStart_.bind(c),!1);z.addEventListener(n.default.POINTERMOVE,c.handleDraggerDrag_.bind(c),!1);z.addEventListener(n.default.POINTERUP,c.handleDraggerEnd_.bind(c),!1);z.addEventListener(p.default.CLICK,
c.handleContainerClick_.bind(c),!1);m.addEventListener(p.default.CLICK,f.stopPropagation,!1);return c}e(a,d);a.prototype.setMap=function(c){d.prototype.setMap.call(this,c);c&&c.render()};a.prototype.initSlider_=function(){var c=this.element,b=c.offsetWidth,m=c.offsetHeight;if(0===b&&0===m)return this.sliderInitialized_=!1;var z=getComputedStyle(c);b-=parseFloat(z.paddingRight)+parseFloat(z.paddingLeft);m-=parseFloat(z.paddingTop)+parseFloat(z.paddingBottom);z=c.firstElementChild;var u=getComputedStyle(z);
c=z.offsetWidth+parseFloat(u.marginRight)+parseFloat(u.marginLeft);z=z.offsetHeight+parseFloat(u.marginTop)+parseFloat(u.marginBottom);this.thumbSize_=[c,z];b>m?(this.direction_=1,this.widthLimit_=b-c):(this.direction_=0,this.heightLimit_=m-z);return this.sliderInitialized_=!0};a.prototype.handleContainerClick_=function(c){var b=this.getMap().getView();c=this.getRelativePosition_(c.offsetX-this.thumbSize_[0]/2,c.offsetY-this.thumbSize_[1]/2);c=this.getResolutionForPosition_(c);c=b.getConstrainedZoom(b.getZoomForResolution(c));
b.animateInternal({zoom:c,duration:this.duration_,easing:h.easeOut})};a.prototype.handleDraggerStart_=function(c){if(!this.dragging_&&c.target===this.element.firstElementChild){var b=this.element.firstElementChild;this.getMap().getView().beginInteraction();this.startX_=c.clientX-parseFloat(b.style.left);this.startY_=c.clientY-parseFloat(b.style.top);this.dragging_=!0;if(0===this.dragListenerKeys_.length){c=this.handleDraggerDrag_;b=this.handleDraggerEnd_;var m=this.getMap().getOwnerDocument();this.dragListenerKeys_.push((0,k.listen)(m,
n.default.POINTERMOVE,c,this),(0,k.listen)(m,n.default.POINTERUP,b,this))}}};a.prototype.handleDraggerDrag_=function(c){this.dragging_&&(c=this.getRelativePosition_(c.clientX-this.startX_,c.clientY-this.startY_),this.currentResolution_=this.getResolutionForPosition_(c),this.getMap().getView().setResolution(this.currentResolution_))};a.prototype.handleDraggerEnd_=function(c){this.dragging_&&(this.getMap().getView().endInteraction(),this.dragging_=!1,this.startY_=this.startX_=void 0,this.dragListenerKeys_.forEach(k.unlistenByKey),
this.dragListenerKeys_.length=0)};a.prototype.setThumbPosition_=function(c){c=this.getPositionForResolution_(c);var b=this.element.firstElementChild;1==this.direction_?b.style.left=this.widthLimit_*c+"px":b.style.top=this.heightLimit_*c+"px"};a.prototype.getRelativePosition_=function(c,b){return(0,r.clamp)(1===this.direction_?c/this.widthLimit_:b/this.heightLimit_,0,1)};a.prototype.getResolutionForPosition_=function(c){return this.getMap().getView().getResolutionForValueFunction()(1-c)};a.prototype.getPositionForResolution_=
function(c){var b=this.getMap().getView().getValueForResolutionFunction();return(0,r.clamp)(1-b(c),0,1)};a.prototype.render=function(c){c.frameState&&(this.sliderInitialized_||this.initSlider_())&&(this.currentResolution_=c=c.frameState.viewState.resolution,this.setThumbPosition_(c))};return a}(sa.default);G.default=F};
shadow$provide[157]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(147));var p=y(F(82)),n=F(94),v=F(143),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=f?f:{};f=h.call(this,{element:document.createElement("div"),target:e.target})||this;f.extent=e.extent?e.extent:null;var d=void 0!==e.className?e.className:"ol-zoom-extent",a=void 0!==e.label?e.label:"E",c=void 0!==e.tipLabel?e.tipLabel:"Fit to extent";e=document.createElement("button");e.setAttribute("type",
"button");e.title=c;e.appendChild("string"===typeof a?document.createTextNode(a):a);e.addEventListener(p.default.CLICK,f.handleClick_.bind(f),!1);a=f.element;a.className=d+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL;a.appendChild(e);return f}r(k,h);k.prototype.handleClick_=function(f){f.preventDefault();this.handleZoomToExtent()};k.prototype.handleZoomToExtent=function(){var f=this.getMap().getView(),e=this.extent?this.extent:f.getProjection().getExtent();f.fitInternal((0,v.fromExtent)(e))};return k}(sa.default);
G.default=F};
shadow$provide[158]=function(sa,F,ob,G){function y(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(G,"__esModule",{value:!0});G.defaults=function(b){b=b?b:{};var m=new n.default;(void 0!==b.zoom?b.zoom:1)&&m.push(new r.default(b.zoomOptions));(void 0!==b.rotate?b.rotate:1)&&m.push(new v.default(b.rotateOptions));(void 0!==b.attribution?b.attribution:1)&&m.push(new p.default(b.attributionOptions));return m};Object.defineProperty(G,"Attribution",{enumerable:!0,get:function(){return p.default}});
Object.defineProperty(G,"Rotate",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"Zoom",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,"Control",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"FullScreen",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"MousePosition",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(G,"OverviewMap",{enumerable:!0,get:function(){return e.default}});
Object.defineProperty(G,"ScaleLine",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(G,"ZoomSlider",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(G,"ZoomToExtent",{enumerable:!0,get:function(){return c.default}});var p=y(F(148)),n=y(F(99)),v=y(F(149)),r=y(F(150)),h=y(F(147)),k=y(F(151)),f=y(F(152)),e=y(F(154)),d=y(F(155)),a=y(F(156)),c=y(F(157))};
shadow$provide[159]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={ACTIVE:"active"}};
shadow$provide[160]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.pan=function(r,h,k){var f=r.getCenterInternal();f&&r.animateInternal({duration:void 0!==k?k:250,easing:n.linear,center:r.getConstrainedCenter([f[0]+h[0],f[1]+h[1]])})};G.zoomByDelta=function(r,h,k,f){var e=r.getZoom();void 0!==e&&(h=r.getConstrainedZoom(e+h),h=r.getResolutionForZoom(h),r.getAnimating()&&r.cancelAnimations(),r.animate({resolution:h,anchor:k,
duration:void 0!==f?f:250,easing:n.easeOut}))};G.default=void 0;sa=y(F(85));var p=y(F(159)),n=F(125),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);
h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){var f=r.call(this)||this;k&&k.handleEvent&&(f.handleEvent=k.handleEvent);f.map_=null;f.setActive(!0);return f}v(h,r);h.prototype.getActive=function(){return this.get(p.default.ACTIVE)};h.prototype.getMap=function(){return this.map_};h.prototype.handleEvent=function(k){return!0};h.prototype.setActive=function(k){this.set(p.default.ACTIVE,k)};h.prototype.setMap=function(k){this.map_=k};return h}(sa.default);
G.default=F};
shadow$provide[161]=function(sa,F,ob,G){function y(r){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(y=function(f){return f?k:h})(r)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(r,h){if(!h&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((h=y(h))&&h.has(r))return h.get(r);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in r)if("default"!==e&&Object.prototype.hasOwnProperty.call(r,
e)){var d=f?Object.getOwnPropertyDescriptor(r,e):null;d&&(d.get||d.set)?Object.defineProperty(k,e,d):k[e]=r[e]}k.default=r;h&&h.set(r,k);return k}(F(160)),n=function(r){return r&&r.__esModule?r:{default:r}}(F(103)),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==
typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();sa=function(r){function h(k){var f=r.call(this)||this;k=k?k:{};f.delta_=k.delta?k.delta:1;f.duration_=void 0!==k.duration?k.duration:250;return f}v(h,r);h.prototype.handleEvent=function(k){var f=!1;if(k.type==n.default.DBLCLICK){f=k.originalEvent;var e=k.coordinate,d=f.shiftKey?-this.delta_:this.delta_;k=k.map.getView();
(0,p.zoomByDelta)(k,d,e,this.duration_);f.preventDefault();f=!0}return!f};return h}(p.default);G.default=sa};
shadow$provide[162]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.centroid=function(v){for(var r=v.length,h=0,k=0,f=0;f<r;f++)h+=v[f].clientX,k+=v[f].clientY;return[h/r,k/r]};G.default=void 0;sa=y(F(160));var p=y(F(103)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};
return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){var k=h?h:{};h=v.call(this,k)||this;k.handleDownEvent&&(h.handleDownEvent=k.handleDownEvent);k.handleDragEvent&&(h.handleDragEvent=k.handleDragEvent);k.handleMoveEvent&&(h.handleMoveEvent=k.handleMoveEvent);
k.handleUpEvent&&(h.handleUpEvent=k.handleUpEvent);k.stopDown&&(h.stopDown=k.stopDown);h.handlingDownUpSequence=!1;h.targetPointers=[];return h}n(r,v);r.prototype.getPointerCount=function(){return this.targetPointers.length};r.prototype.handleDownEvent=function(h){return!1};r.prototype.handleDragEvent=function(h){};r.prototype.handleEvent=function(h){if(!h.originalEvent)return!0;var k=!1;this.updateTrackedPointers_(h);this.handlingDownUpSequence?h.type==p.default.POINTERDRAG?(this.handleDragEvent(h),
h.originalEvent.preventDefault()):h.type==p.default.POINTERUP&&(this.handlingDownUpSequence=this.handleUpEvent(h)&&0<this.targetPointers.length):h.type==p.default.POINTERDOWN?(this.handlingDownUpSequence=h=this.handleDownEvent(h),k=this.stopDown(h)):h.type==p.default.POINTERMOVE&&this.handleMoveEvent(h);return!k};r.prototype.handleMoveEvent=function(h){};r.prototype.handleUpEvent=function(h){return!1};r.prototype.stopDown=function(h){return h};r.prototype.updateTrackedPointers_=function(h){h.activePointers&&
(this.targetPointers=h.activePointers)};return r}(sa.default);G.default=F};
shadow$provide[163]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.all=function(r){var h=arguments;return function(k){for(var f=!0,e=0,d=h.length;e<d&&(f=f&&h[e](k),f);++e);return f}};G.primaryAction=G.penOnly=G.touchOnly=G.mouseOnly=G.targetNotEditable=G.shiftKeyOnly=G.platformModifierKeyOnly=G.noModifierKeys=G.doubleClick=G.singleClick=G.pointerMove=G.never=G.mouseActionButton=G.click=G.always=G.focusWithTabindex=G.focus=G.altShiftKeysOnly=G.altKeyOnly=void 0;var y=function(r){return r&&
r.__esModule?r:{default:r}}(F(103));sa=F(67);var p=F(69),n=F(71);G.altKeyOnly=function(r){r=r.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey};G.altShiftKeysOnly=function(r){r=r.originalEvent;return r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey};var v=function(r){var h=r.map.getTargetElement();r=r.map.getOwnerDocument().activeElement;return h.contains(r)};G.focus=v;G.focusWithTabindex=function(r){return r.map.getTargetElement().hasAttribute("tabindex")?v(r):!0};G.always=sa.TRUE;
G.click=function(r){return r.type==y.default.CLICK};G.mouseActionButton=function(r){r=r.originalEvent;return 0==r.button&&!(p.WEBKIT&&p.MAC&&r.ctrlKey)};G.never=sa.FALSE;G.pointerMove=function(r){return"pointermove"==r.type};G.singleClick=function(r){return r.type==y.default.SINGLECLICK};G.doubleClick=function(r){return r.type==y.default.DBLCLICK};G.noModifierKeys=function(r){r=r.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&!r.shiftKey};G.platformModifierKeyOnly=function(r){r=r.originalEvent;
return!r.altKey&&(p.MAC?r.metaKey:r.ctrlKey)&&!r.shiftKey};G.shiftKeyOnly=function(r){r=r.originalEvent;return!r.altKey&&!(r.metaKey||r.ctrlKey)&&r.shiftKey};G.targetNotEditable=function(r){r=r.originalEvent;var h=r.target.tagName;return"INPUT"!==h&&"SELECT"!==h&&"TEXTAREA"!==h&&!r.target.isContentEditable};G.mouseOnly=function(r){r=r.originalEvent;(0,n.assert)(void 0!==r,56);return"mouse"==r.pointerType};G.touchOnly=function(r){r=r.originalEvent;(0,n.assert)(void 0!==r,56);return"touch"===r.pointerType};
G.penOnly=function(r){r=r.originalEvent;(0,n.assert)(void 0!==r,56);return"pen"===r.pointerType};G.primaryAction=function(r){r=r.originalEvent;(0,n.assert)(void 0!==r,56);return r.isPrimary&&0===r.button}};
shadow$provide[164]=function(sa,F,ob,G){function y(f){if("function"!==typeof WeakMap)return null;var e=new WeakMap,d=new WeakMap;return(y=function(a){return a?d:e})(f)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(f,e){if(!e&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((e=y(e))&&e.has(f))return e.get(f);var d={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in f)if("default"!==c&&Object.prototype.hasOwnProperty.call(f,
c)){var b=a?Object.getOwnPropertyDescriptor(f,c):null;b&&(b.get||b.set)?Object.defineProperty(d,c,b):d[c]=f[c]}d.default=f;e&&e.set(f,d);return d}(F(162)),n=F(67),v=F(163),r=F(125),h=F(91),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+
String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();sa=function(f){function e(d){var a=f.call(this,{stopDown:n.FALSE})||this;d=d?d:{};a.kinetic_=d.kinetic;a.lastCentroid=null;a.panning_=!1;var c=d.condition?d.condition:(0,v.all)(v.noModifierKeys,v.primaryAction);a.condition_=d.onFocusOnly?(0,v.all)(v.focusWithTabindex,c):c;a.noKinetic_=!1;return a}k(e,f);e.prototype.handleDragEvent=function(d){this.panning_||(this.panning_=!0,
this.getMap().getView().beginInteraction());var a=this.targetPointers,c=(0,p.centroid)(a);if(a.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(c[0],c[1]),this.lastCentroid){var b=[this.lastCentroid[0]-c[0],c[1]-this.lastCentroid[1]],m=d.map.getView();(0,h.scale)(b,m.getResolution());(0,h.rotate)(b,m.getRotation());m.adjustCenterInternal(b)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=c;this.lastPointersCount_=a.length;d.originalEvent.preventDefault()};e.prototype.handleUpEvent=
function(d){var a=d.map;d=a.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var c=this.kinetic_.getDistance(),b=this.kinetic_.getAngle(),m=d.getCenterInternal();m=a.getPixelFromCoordinateInternal(m);a=a.getCoordinateFromPixelInternal([m[0]-c*Math.cos(b),m[1]-c*Math.sin(b)]);d.animateInternal({center:d.getConstrainedCenter(a),duration:500,easing:r.easeOut})}this.panning_&&(this.panning_=!1,d.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();
this.lastCentroid=null;return!0};e.prototype.handleDownEvent=function(d){return 0<this.targetPointers.length&&this.condition_(d)?(d=d.map.getView(),this.lastCentroid=null,d.getAnimating()&&d.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1};return e}(p.default);G.default=sa};
shadow$provide[165]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(162));var y=F(67),p=F(163),n=F(124),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==
k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){var f=k?k:{};k=r.call(this,{stopDown:y.FALSE})||this;k.condition_=f.condition?f.condition:p.altShiftKeysOnly;k.lastAngle_=void 0;k.duration_=void 0!==f.duration?f.duration:250;return k}v(h,r);h.prototype.handleDragEvent=function(k){if((0,p.mouseOnly)(k)){var f=k.map,e=f.getView();e.getConstraints().rotation!==
n.disable&&(f=f.getSize(),k=k.pixel,k=Math.atan2(f[1]/2-k[1],k[0]-f[0]/2),void 0!==this.lastAngle_&&e.adjustRotationInternal(-(k-this.lastAngle_)),this.lastAngle_=k)}};h.prototype.handleUpEvent=function(k){if(!(0,p.mouseOnly)(k))return!0;k.map.getView().endInteraction(this.duration_);return!1};h.prototype.handleDownEvent=function(k){return(0,p.mouseOnly)(k)&&(0,p.mouseActionButton)(k)&&this.condition_(k)?(k.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1};return h}(sa.default);G.default=
F};
shadow$provide[166]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(65));var p=y(F(143)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){var k=v.call(this)||this;k.geometry_=null;k.element_=document.createElement("div");k.element_.style.position="absolute";k.element_.style.pointerEvents="auto";k.element_.className="ol-box "+h;k.map_=null;k.startPixel_=null;k.endPixel_=null;return k}n(r,v);r.prototype.disposeInternal=function(){this.setMap(null)};r.prototype.render_=function(){var h=
this.startPixel_,k=this.endPixel_,f=this.element_.style;f.left=Math.min(h[0],k[0])+"px";f.top=Math.min(h[1],k[1])+"px";f.width=Math.abs(k[0]-h[0])+"px";f.height=Math.abs(k[1]-h[1])+"px"};r.prototype.setMap=function(h){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var k=this.element_.style;k.left="inherit";k.top="inherit";k.width="inherit";k.height="inherit"}(this.map_=h)&&this.map_.getOverlayContainer().appendChild(this.element_)};r.prototype.setPixels=function(h,k){this.startPixel_=
h;this.endPixel_=k;this.createOrUpdateGeometry();this.render_()};r.prototype.createOrUpdateGeometry=function(){var h=this.startPixel_,k=this.endPixel_;h=[h,[h[0],k[1]],k,[k[0],h[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);h[4]=h[0].slice();this.geometry_?this.geometry_.setCoordinates([h]):this.geometry_=new p.default([h])};r.prototype.getGeometry=function(){return this.geometry_};return r}(sa.default);G.default=F};
shadow$provide[167]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.DragBoxEvent=void 0;sa=y(F(78));ob=y(F(162));var p=y(F(166)),n=F(163),v=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==
typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}(),r=function(h){function k(f,e,d){f=h.call(this,f)||this;f.coordinate=e;f.mapBrowserEvent=d;return f}v(k,h);return k}(sa.default);G.DragBoxEvent=r;F=function(h){function k(f){var e=h.call(this)||this;f=f?f:{};e.box_=new p.default(f.className||"ol-dragbox");e.minArea_=void 0!==f.minArea?f.minArea:64;f.onBoxEnd&&(e.onBoxEnd=
f.onBoxEnd);e.startPixel_=null;e.condition_=f.condition?f.condition:n.mouseActionButton;e.boxEndCondition_=f.boxEndCondition?f.boxEndCondition:e.defaultBoxEndCondition;return e}v(k,h);k.prototype.defaultBoxEndCondition=function(f,e,d){f=d[0]-e[0];e=d[1]-e[1];return f*f+e*e>=this.minArea_};k.prototype.getGeometry=function(){return this.box_.getGeometry()};k.prototype.handleDragEvent=function(f){this.box_.setPixels(this.startPixel_,f.pixel);this.dispatchEvent(new r("boxdrag",f.coordinate,f))};k.prototype.handleUpEvent=
function(f){this.box_.setMap(null);var e=this.boxEndCondition_(f,this.startPixel_,f.pixel);if(e)this.onBoxEnd(f);this.dispatchEvent(new r(e?"boxend":"boxcancel",f.coordinate,f));return!1};k.prototype.handleDownEvent=function(f){return this.condition_(f)?(this.startPixel_=f.pixel,this.box_.setMap(f.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new r("boxstart",f.coordinate,f)),!0):!1};k.prototype.onBoxEnd=function(f){};return k}(ob.default);G.default=F};
shadow$provide[168]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(v){return v&&v.__esModule?v:{default:v}}(F(167));var y=F(125),p=F(163),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){var k=h?h:{};h=v.call(this,{condition:k.condition?k.condition:p.shiftKeyOnly,className:k.className||"ol-dragzoom",minArea:k.minArea})||this;h.duration_=void 0!==k.duration?k.duration:200;h.out_=void 0!==k.out?k.out:!1;return h}n(r,v);r.prototype.onBoxEnd=function(h){h=this.getMap().getView();var k=this.getGeometry();if(this.out_){var f=h.rotatedExtentForGeometry(k);
f=h.getResolutionForExtentInternal(f);f=h.getResolution()/f;k=k.clone();k.scale(f*f)}h.fitInternal(k,{duration:this.duration_,easing:y.easeOut})};return r}(sa.default);G.default=F};
shadow$provide[169]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[170]=function(sa,F,ob,G){function y(e){if("function"!==typeof WeakMap)return null;var d=new WeakMap,a=new WeakMap;return(y=function(c){return c?a:d})(e)}function p(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(82)),v=function(e,d){if(!d&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((d=y(d))&&d.has(e))return d.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
b;for(b in e)if("default"!==b&&Object.prototype.hasOwnProperty.call(e,b)){var m=c?Object.getOwnPropertyDescriptor(e,b):null;m&&(m.get||m.set)?Object.defineProperty(a,b,m):a[b]=e[b]}a.default=e;d&&d.set(e,a);return a}(F(160)),r=p(F(169)),h=F(163),k=F(91),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=
d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();sa=function(e){function d(a){var c=e.call(this)||this;a=a||{};c.defaultCondition_=function(b){return(0,h.noModifierKeys)(b)&&(0,h.targetNotEditable)(b)};c.condition_=void 0!==a.condition?a.condition:c.defaultCondition_;c.duration_=void 0!==a.duration?a.duration:100;c.pixelDelta_=void 0!==a.pixelDelta?
a.pixelDelta:128;return c}f(d,e);d.prototype.handleEvent=function(a){var c=!1;if(a.type==n.default.KEYDOWN){var b=a.originalEvent,m=b.keyCode;if(this.condition_(a)&&(m==r.default.DOWN||m==r.default.LEFT||m==r.default.RIGHT||m==r.default.UP)){a=a.map.getView();c=a.getResolution()*this.pixelDelta_;var z=0,u=0;m==r.default.DOWN?u=-c:m==r.default.LEFT?z=-c:m==r.default.RIGHT?z=c:u=c;m=[z,u];(0,k.rotate)(m,a.getRotation());(0,v.pan)(a,m,this.duration_);b.preventDefault();c=!0}}return!c};return d}(v.default);
G.default=sa};
shadow$provide[171]=function(sa,F,ob,G){function y(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,f=new WeakMap;return(y=function(e){return e?f:k})(h)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(h){return h&&h.__esModule?h:{default:h}}(F(82)),n=function(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=y(k))&&k.has(h))return k.get(h);var f={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,
d;for(d in h)if("default"!==d&&Object.prototype.hasOwnProperty.call(h,d)){var a=e?Object.getOwnPropertyDescriptor(h,d):null;a&&(a.get||a.set)?Object.defineProperty(f,d,a):f[d]=h[d]}f.default=h;k&&k.set(h,f);return f}(F(160)),v=F(163),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=
k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();sa=function(h){function k(f){var e=h.call(this)||this;f=f?f:{};e.condition_=f.condition?f.condition:v.targetNotEditable;e.delta_=f.delta?f.delta:1;e.duration_=void 0!==f.duration?f.duration:100;return e}r(k,h);k.prototype.handleEvent=function(f){var e=!1;if(f.type==p.default.KEYDOWN||f.type==p.default.KEYPRESS){var d=
f.originalEvent,a=d.charCode;!this.condition_(f)||43!=a&&45!=a||(e=43==a?this.delta_:-this.delta_,f=f.map.getView(),(0,n.zoomByDelta)(f,e,void 0,this.duration_),d.preventDefault(),e=!0)}return!e};return k}(n.default);G.default=sa};
shadow$provide[172]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(p,n,v){this.decay_=p;this.minVelocity_=n;this.delay_=v;this.points_=[];this.initialVelocity_=this.angle_=0}y.prototype.begin=function(){this.initialVelocity_=this.angle_=this.points_.length=0};y.prototype.update=function(p,n){this.points_.push(p,n,Date.now())};y.prototype.end=function(){if(6>this.points_.length)return!1;var p=Date.now()-this.delay_,n=this.points_.length-
3;if(this.points_[n+2]<p)return!1;for(var v=n-3;0<v&&this.points_[v+2]>p;)v-=3;p=this.points_[n+2]-this.points_[v+2];if(p<1E3/60)return!1;var r=this.points_[n]-this.points_[v];n=this.points_[n+1]-this.points_[v+1];this.angle_=Math.atan2(n,r);this.initialVelocity_=Math.sqrt(r*r+n*n)/p;return this.initialVelocity_>this.minVelocity_};y.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};y.prototype.getAngle=function(){return this.angle_};return y}();G.default=
sa};
shadow$provide[173]=function(sa,F,ob,G){function y(e){if("function"!==typeof WeakMap)return null;var d=new WeakMap,a=new WeakMap;return(y=function(c){return c?a:d})(e)}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.Mode=void 0;var p=function(e){return e&&e.__esModule?e:{default:e}}(F(82)),n=function(e,d){if(!d&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((d=y(d))&&d.has(e))return d.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
b;for(b in e)if("default"!==b&&Object.prototype.hasOwnProperty.call(e,b)){var m=c?Object.getOwnPropertyDescriptor(e,b):null;m&&(m.get||m.set)?Object.defineProperty(a,b,m):a[b]=e[b]}a.default=e;d&&d.set(e,a);return a}(F(160)),v=F(69),r=F(163),h=F(75),k=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=
d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),f={TRACKPAD:"trackpad",WHEEL:"wheel"};G.Mode=f;sa=function(e){function d(a){var c=a?a:{};a=e.call(this,c)||this;a.totalDelta_=0;a.lastDelta_=0;a.maxDelta_=void 0!==c.maxDelta?c.maxDelta:1;a.duration_=void 0!==c.duration?c.duration:250;a.timeout_=void 0!==c.timeout?c.timeout:80;a.useAnchor_=void 0!==
c.useAnchor?c.useAnchor:!0;a.constrainResolution_=void 0!==c.constrainResolution?c.constrainResolution:!1;var b=c.condition?c.condition:r.always;a.condition_=c.onFocusOnly?(0,r.all)(r.focusWithTabindex,b):b;a.lastAnchor_=null;a.startTime_=void 0;a.mode_=void 0;a.trackpadEventGap_=400;a.deltaPerZoom_=300;return a}k(d,e);d.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var a=this.getMap();a&&a.getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)};
d.prototype.handleEvent=function(a){if(!this.condition_(a)||a.type!==p.default.WHEEL)return!0;var c=a.map,b=a.originalEvent;b.preventDefault();this.useAnchor_&&(this.lastAnchor_=a.coordinate);if(a.type==p.default.WHEEL){var m=b.deltaY;v.FIREFOX&&b.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(m/=v.DEVICE_PIXEL_RATIO);b.deltaMode===WheelEvent.DOM_DELTA_LINE&&(m*=40)}if(0===m)return!1;this.lastDelta_=m;a=Date.now();void 0===this.startTime_&&(this.startTime_=a);if(!this.mode_||a-this.startTime_>this.trackpadEventGap_)this.mode_=
4>Math.abs(m)?f.TRACKPAD:f.WHEEL;b=c.getView();if(this.mode_===f.TRACKPAD&&!b.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(b.getAnimating()&&b.cancelAnimations(),b.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),b.adjustZoom(-m/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=a,!1;this.totalDelta_+=m;m=Math.max(this.timeout_-(a-this.startTime_),0);clearTimeout(this.timeoutId_);
this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,c),m);return!1};d.prototype.handleWheelZoom_=function(a){a=a.getView();a.getAnimating()&&a.cancelAnimations();var c=-(0,h.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(a.getConstrainResolution()||this.constrainResolution_)c=c?0<c?1:-1:0;(0,n.zoomByDelta)(a,c,this.lastAnchor_,this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=
void 0};d.prototype.setMouseAnchor=function(a){this.useAnchor_=a;a||(this.lastAnchor_=null)};return d}(n.default);G.default=sa};
shadow$provide[174]=function(sa,F,ob,G){function y(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,f=new WeakMap;return(y=function(e){return e?f:k})(h)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=y(k))&&k.has(h))return k.get(h);var f={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,d;for(d in h)if("default"!==d&&Object.prototype.hasOwnProperty.call(h,
d)){var a=e?Object.getOwnPropertyDescriptor(h,d):null;a&&(a.get||a.set)?Object.defineProperty(f,d,a):f[d]=h[d]}f.default=h;k&&k.set(h,f);return f}(F(162)),n=F(67),v=F(124),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+
String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();sa=function(h){function k(f){var e=f?f:{};e.stopDown||(e.stopDown=n.FALSE);f=h.call(this,e)||this;f.anchor_=null;f.lastAngle_=void 0;f.rotating_=!1;f.rotationDelta_=0;f.threshold_=void 0!==e.threshold?e.threshold:.3;f.duration_=void 0!==e.duration?e.duration:250;return f}r(k,h);k.prototype.handleDragEvent=function(f){var e=0,d=this.targetPointers[0],a=this.targetPointers[1];
d=Math.atan2(a.clientY-d.clientY,a.clientX-d.clientX);void 0!==this.lastAngle_&&(e=d-this.lastAngle_,this.rotationDelta_+=e,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=d;f=f.map;d=f.getView();if(d.getConstraints().rotation!==v.disable){a=f.getViewport().getBoundingClientRect();var c=(0,p.centroid)(this.targetPointers);c[0]-=a.left;c[1]-=a.top;this.anchor_=f.getCoordinateFromPixelInternal(c);this.rotating_&&(f.render(),d.adjustRotationInternal(e,
this.anchor_))}};k.prototype.handleUpEvent=function(f){return 2>this.targetPointers.length?(f.map.getView().endInteraction(this.duration_),!1):!0};k.prototype.handleDownEvent=function(f){return 2<=this.targetPointers.length?(f=f.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||f.getView().beginInteraction(),!0):!1};return k}(p.default);G.default=sa};
shadow$provide[175]=function(sa,F,ob,G){function y(r){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(y=function(f){return f?k:h})(r)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(r,h){if(!h&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((h=y(h))&&h.has(r))return h.get(r);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in r)if("default"!==e&&Object.prototype.hasOwnProperty.call(r,
e)){var d=f?Object.getOwnPropertyDescriptor(r,e):null;d&&(d.get||d.set)?Object.defineProperty(k,e,d):k[e]=r[e]}k.default=r;h&&h.set(r,k);return k}(F(162)),n=F(67),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();sa=function(r){function h(k){var f=k?k:{};f.stopDown||(f.stopDown=n.FALSE);k=r.call(this,f)||this;k.anchor_=null;k.duration_=void 0!==f.duration?f.duration:400;k.lastDistance_=void 0;k.lastScaleDelta_=1;return k}v(h,r);h.prototype.handleDragEvent=function(k){var f=1,e=this.targetPointers[0],d=this.targetPointers[1],a=e.clientX-d.clientX;e=e.clientY-d.clientY;a=Math.sqrt(a*a+
e*e);void 0!==this.lastDistance_&&(f=this.lastDistance_/a);this.lastDistance_=a;k=k.map;a=k.getView();1!=f&&(this.lastScaleDelta_=f);e=k.getViewport().getBoundingClientRect();d=(0,p.centroid)(this.targetPointers);d[0]-=e.left;d[1]-=e.top;this.anchor_=k.getCoordinateFromPixelInternal(d);k.render();a.adjustResolutionInternal(f,this.anchor_)};h.prototype.handleUpEvent=function(k){return 2>this.targetPointers.length?(k.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0};h.prototype.handleDownEvent=
function(k){return 2<=this.targetPointers.length?(k=k.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||k.getView().beginInteraction(),!0):!1};return h}(p.default);G.default=sa};
shadow$provide[176]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.DragAndDropEvent=void 0;sa=y(F(78));var p=y(F(82));ob=y(F(160));var n=F(67),v=F(121),r=F(83),h=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=
e}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}(),k=function(f){function e(d,a,c,b){d=f.call(this,d)||this;d.features=c;d.file=a;d.projection=b;return d}h(e,f);return e}(sa.default);G.DragAndDropEvent=k;F=function(f){function e(d){var a=d?d:{};d=f.call(this,{handleEvent:n.TRUE})||this;d.readAsBuffer_=!1;d.formats_=[];for(var c=a.formatConstructors?
a.formatConstructors:[],b=0,m=c.length;b<m;++b){var z=c[b];"function"===typeof z&&(z=new z);d.formats_.push(z);d.readAsBuffer_=d.readAsBuffer_||"arraybuffer"===z.getType()}d.projection_=a.projection?(0,v.get)(a.projection):null;d.dropListenKeys_=null;d.source_=a.source||null;d.target=a.target?a.target:null;return d}h(e,f);e.prototype.handleResult_=function(d,a){a=a.target.result;var c=this.getMap(),b=this.projection_;b||(b=c.getView().getProjection());var m;c=this.formats_;for(var z=0,u=c.length;z<
u;++z){var C=c[z],J=a;this.readAsBuffer_&&"arraybuffer"!==C.getType()&&(void 0===m&&(m=(new TextDecoder).decode(a)),J=m);if((C=this.tryReadFeatures_(C,J,{featureProjection:b}))&&0<C.length){this.source_&&(this.source_.clear(),this.source_.addFeatures(C));this.dispatchEvent(new k("addfeatures",d,C,b));break}}};e.prototype.registerListeners_=function(){var d=this.getMap();d&&(d=this.target?this.target:d.getViewport(),this.dropListenKeys_=[(0,r.listen)(d,p.default.DROP,this.handleDrop,this),(0,r.listen)(d,
p.default.DRAGENTER,this.handleStop,this),(0,r.listen)(d,p.default.DRAGOVER,this.handleStop,this),(0,r.listen)(d,p.default.DROP,this.handleStop,this)])};e.prototype.setActive=function(d){!this.getActive()&&d&&this.registerListeners_();this.getActive()&&!d&&this.unregisterListeners_();f.prototype.setActive.call(this,d)};e.prototype.setMap=function(d){this.unregisterListeners_();f.prototype.setMap.call(this,d);this.getActive()&&this.registerListeners_()};e.prototype.tryReadFeatures_=function(d,a,c){try{return d.readFeatures(a,
c)}catch(b){return null}};e.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(r.unlistenByKey),this.dropListenKeys_=null)};e.prototype.handleDrop=function(d){d=d.dataTransfer.files;for(var a=0,c=d.length;a<c;++a){var b=d.item(a),m=new FileReader;m.addEventListener(p.default.LOAD,this.handleResult_.bind(this,b));this.readAsBuffer_?m.readAsArrayBuffer(b):m.readAsText(b)}};e.prototype.handleStop=function(d){d.stopPropagation();d.preventDefault();d.dataTransfer.dropEffect=
"copy"};return e}(ob.default);G.default=F};
shadow$provide[177]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(n){return n&&n.__esModule?n:{default:n}}(F(162));var y=F(163),p=function(){var n=function(v,r){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,k){h.__proto__=k}||function(h,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h[f]=k[f])};return n(v,r)};return function(v,r){function h(){this.constructor=v}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+
String(r)+" is not a constructor or null");n(v,r);v.prototype=null===r?Object.create(r):(h.prototype=r.prototype,new h)}}();F=function(n){function v(r){var h=r?r:{};r=n.call(this,h)||this;r.condition_=h.condition?h.condition:y.shiftKeyOnly;r.lastAngle_=void 0;r.lastMagnitude_=void 0;r.lastScaleDelta_=0;r.duration_=void 0!==h.duration?h.duration:400;return r}p(v,n);v.prototype.handleDragEvent=function(r){if((0,y.mouseOnly)(r)){var h=r.map,k=h.getSize(),f=r.pixel;r=f[0]-k[0]/2;f=k[1]/2-f[1];k=Math.atan2(f,
r);r=Math.sqrt(r*r+f*f);h=h.getView();void 0!==this.lastAngle_&&h.adjustRotationInternal(this.lastAngle_-k);this.lastAngle_=k;void 0!==this.lastMagnitude_&&h.adjustResolutionInternal(this.lastMagnitude_/r);void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/r);this.lastMagnitude_=r}};v.prototype.handleUpEvent=function(r){if(!(0,y.mouseOnly)(r))return!0;r.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1);this.lastScaleDelta_=0;return!1};v.prototype.handleDownEvent=
function(r){return(0,y.mouseOnly)(r)&&this.condition_(r)?(r.map.getView().beginInteraction(),this.lastMagnitude_=this.lastAngle_=void 0,!0):!1};return v}(sa.default);G.default=F};
shadow$provide[178]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(129));var y=F(74),p=F(131),n=F(127),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==
k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k,f,e){var d=r.call(this)||this;void 0!==e&&void 0===f?d.setFlatCoordinates(e,k):d.setCenterAndRadius(k,f?f:0,e);return d}v(h,r);h.prototype.clone=function(){var k=new h(this.flatCoordinates.slice(),void 0,this.layout);k.applyProperties(this);return k};h.prototype.closestPointXY=function(k,f,e,d){var a=this.flatCoordinates;
k-=a[0];var c=f-a[1];f=k*k+c*c;if(f<d){0===f?d=0:(d=this.getRadius()/Math.sqrt(f),e[0]=a[0]+d*k,e[1]=a[1]+d*c,d=2);for(;d<this.stride;++d)e[d]=a[d];e.length=this.stride;return f}return d};h.prototype.containsXY=function(k,f){var e=this.flatCoordinates;k-=e[0];f-=e[1];return k*k+f*f<=this.getRadiusSquared_()};h.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};h.prototype.computeExtent=function(k){var f=this.flatCoordinates,e=f[this.stride]-f[0];return(0,y.createOrUpdate)(f[0]-
e,f[1]-e,f[0]+e,f[1]+e,k)};h.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};h.prototype.getRadiusSquared_=function(){var k=this.flatCoordinates[this.stride]-this.flatCoordinates[0],f=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return k*k+f*f};h.prototype.getType=function(){return"Circle"};h.prototype.intersectsExtent=function(k){var f=this.getExtent();return(0,y.intersects)(k,f)?(f=this.getCenter(),k[0]<=f[0]&&k[2]>=f[0]||k[1]<=f[1]&&k[3]>=f[1]?!0:(0,y.forEachCorner)(k,
this.intersectsCoordinate.bind(this))):!1};h.prototype.setCenter=function(k){var f=this.stride,e=this.flatCoordinates[f]-this.flatCoordinates[0],d=k.slice();d[f]=d[0]+e;for(e=1;e<f;++e)d[f+e]=k[e];this.setFlatCoordinates(this.layout,d);this.changed()};h.prototype.setCenterAndRadius=function(k,f,e){this.setLayout(e,k,0);this.flatCoordinates||(this.flatCoordinates=[]);e=this.flatCoordinates;k=(0,p.deflateCoordinate)(e,0,k,this.stride);e[k++]=e[0]+f;f=1;for(var d=this.stride;f<d;++f)e[k++]=e[f];e.length=
k;this.changed()};h.prototype.getCoordinates=function(){return null};h.prototype.setCoordinates=function(k,f){};h.prototype.setRadius=function(k){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+k;this.changed()};h.prototype.rotate=function(k,f){var e=this.getCenter(),d=this.getStride();this.setCenter((0,n.rotate)(e,0,e.length,d,k,f,e));this.changed()};h.prototype.translate=function(k,f){var e=this.getCenter(),d=this.getStride();this.setCenter((0,n.translate)(e,0,e.length,d,k,f,e));this.changed()};
return h}(sa.default);G.default=F};
shadow$provide[179]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}function p(k){if("function"===typeof k)return k;if(Array.isArray(k))var f=k;else(0,v.assert)("function"===typeof k.getZIndex,41),f=[k];return function(){return f}}Object.defineProperty(G,"__esModule",{value:!0});G.createStyleFunction=p;G.default=void 0;sa=y(F(85));var n=y(F(82)),v=F(71),r=F(83),h=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=
a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();F=function(k){function f(e){var d=k.call(this)||this;d.id_=void 0;d.geometryName_="geometry";d.style_=null;d.styleFunction_=void 0;d.geometryChangeKey_=
null;d.addChangeListener(d.geometryName_,d.handleGeometryChanged_);e&&("function"===typeof e.getSimplifiedGeometry?d.setGeometry(e):d.setProperties(e));return d}h(f,k);f.prototype.clone=function(){var e=new f(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var d=this.getGeometry();d&&e.setGeometry(d.clone());(d=this.getStyle())&&e.setStyle(d);return e};f.prototype.getGeometry=function(){return this.get(this.geometryName_)};f.prototype.getId=function(){return this.id_};
f.prototype.getGeometryName=function(){return this.geometryName_};f.prototype.getStyle=function(){return this.style_};f.prototype.getStyleFunction=function(){return this.styleFunction_};f.prototype.handleGeometryChange_=function(){this.changed()};f.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,r.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,r.listen)(e,n.default.CHANGE,this.handleGeometryChange_,
this));this.changed()};f.prototype.setGeometry=function(e){this.set(this.geometryName_,e)};f.prototype.setStyle=function(e){this.styleFunction_=(this.style_=e)?p(e):void 0;this.changed()};f.prototype.setId=function(e){this.id_=e;this.changed()};f.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_);this.geometryName_=e;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);this.handleGeometryChanged_()};return f}(sa.default);
G.default=F};
shadow$provide[180]=function(sa,F,ob,G){function y(v,r,h,k,f,e){if(h==r)return null;if(f<v[r+k-1])return e?(h=v.slice(r,r+k),h[k-1]=f,h):null;if(v[h-1]<f)return e?(h=v.slice(h-k,h),h[k-1]=f,h):null;if(f==v[r+k-1])return v.slice(r,r+k);r/=k;for(h/=k;r<h;)e=r+h>>1,f<v[(e+1)*k-1]?h=e:r=e+1;h=v[r*k-1];if(f==h)return v.slice((r-1)*k,(r-1)*k+k);e=(f-h)/(v[(r+1)*k-1]-h);h=[];for(var d=0;d<k-1;++d)h.push((0,n.lerp)(v[(r-1)*k+d],v[r*k+d],e));h.push(f);return h}Object.defineProperty(G,"__esModule",{value:!0});
G.interpolatePoint=function(v,r,h,k,f,e,d){var a=(h-r)/k;if(1===a)var c=r;else if(2===a){c=r;var b=f}else if(0!==a){var m=v[r],z=v[r+1],u=0;c=[0];for(a=r+k;a<h;a+=k){var C=v[a],J=v[a+1];u+=Math.sqrt((C-m)*(C-m)+(J-z)*(J-z));c.push(u);m=C;z=J}a=f*u;h=(0,p.binarySearch)(c,a);0>h?(b=(a-c[-h-2])/(c[-h-1]-c[-h-2]),c=r+(-h-2)*k):c=r+h*k}r=1<d?d:2;e=e?e:Array(r);for(a=0;a<r;++a)e[a]=void 0===c?NaN:void 0===b?v[c+a]:(0,n.lerp)(v[c+a],v[c+k+a],b);return e};G.lineStringCoordinateAtM=y;G.lineStringsCoordinateAtM=
function(v,r,h,k,f,e,d){if(d)return y(v,r,h[h.length-1],k,f,e);if(f<v[k-1])return e?(v=v.slice(0,k),v[k-1]=f,v):null;if(v[v.length-1]<f)return e?(v=v.slice(v.length-k),v[k-1]=f,v):null;e=0;for(d=h.length;e<d;++e){var a=h[e];if(r!=a){if(f<v[r+k-1])break;else if(f<=v[a-1])return y(v,r,a,k,f,!1);r=a}}return null};var p=F(66),n=F(75)};
shadow$provide[181]=function(sa,F,ob,G){function y(p,n,v,r){var h=p[n],k=p[n+1],f=0;for(n+=r;n<v;n+=r){var e=p[n],d=p[n+1];f+=Math.sqrt((e-h)*(e-h)+(d-k)*(d-k));h=e;k=d}return f}Object.defineProperty(G,"__esModule",{value:!0});G.lineStringLength=y;G.linearRingLength=function(p,n,v,r){var h=y(p,n,v,r),k=p[v-r]-p[n];p=p[v-r+1]-p[n+1];return h+=Math.sqrt(k*k+p*p)}};
shadow$provide[182]=function(sa,F,ob,G){function y(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(126));sa=y(F(129));var n=F(130),v=F(74),r=F(131),h=F(132),k=F(66),f=F(139),e=F(133),d=F(180),a=F(140),c=F(181),b=function(){var m=function(z,u){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,J){C.__proto__=J}||function(C,J){for(var A in J)Object.prototype.hasOwnProperty.call(J,A)&&(C[A]=J[A])};return m(z,u)};return function(z,
u){function C(){this.constructor=z}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");m(z,u);z.prototype=null===u?Object.create(u):(C.prototype=u.prototype,new C)}}();F=function(m){function z(u,C){var J=m.call(this)||this;J.flatMidpoint_=null;J.flatMidpointRevision_=-1;J.maxDelta_=-1;J.maxDeltaRevision_=-1;void 0===C||Array.isArray(u[0])?J.setCoordinates(u,C):J.setFlatCoordinates(C,u);return J}b(z,m);z.prototype.appendCoordinate=
function(u){this.flatCoordinates?(0,k.extend)(this.flatCoordinates,u):this.flatCoordinates=u.slice();this.changed()};z.prototype.clone=function(){var u=new z(this.flatCoordinates.slice(),this.layout);u.applyProperties(this);return u};z.prototype.closestPointXY=function(u,C,J,A){if(A<(0,v.closestSquaredDistanceXY)(this.getExtent(),u,C))return A;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,n.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,
0)),this.maxDeltaRevision_=this.getRevision());return(0,n.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,u,C,J,A)};z.prototype.forEachSegment=function(u){return(0,f.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u)};z.prototype.getCoordinateAtM=function(u,C){return this.layout!=p.default.XYM&&this.layout!=p.default.XYZM?null:(0,d.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,
void 0!==C?C:!1)};z.prototype.getCoordinates=function(){return(0,e.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};z.prototype.getCoordinateAt=function(u,C){return(0,d.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,C,this.stride)};z.prototype.getLength=function(){return(0,c.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};z.prototype.getFlatMidpoint=function(){this.flatMidpointRevision_!=this.getRevision()&&
(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_};z.prototype.getSimplifiedGeometryInternal=function(u){var C=[];C.length=(0,h.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,u,C,0);return new z(C,p.default.XY)};z.prototype.getType=function(){return"LineString"};z.prototype.intersectsExtent=function(u){return(0,a.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,
this.stride,u)};z.prototype.setCoordinates=function(u,C){this.setLayout(C,u,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,r.deflateCoordinates)(this.flatCoordinates,0,u,this.stride);this.changed()};return z}(sa.default);G.default=F};
shadow$provide[183]=function(sa,F,ob,G){function y(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(126)),n=y(F(182));sa=y(F(129));var v=F(130),r=F(74),h=F(131),k=F(132),f=F(66),e=F(133),d=F(180),a=F(140),c=function(){var b=function(m,z){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&(u[J]=C[J])};return b(m,z)};return function(m,
z){function u(){this.constructor=m}if("function"!==typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");b(m,z);m.prototype=null===z?Object.create(z):(u.prototype=z.prototype,new u)}}();F=function(b){function m(z,u,C){var J=b.call(this)||this;J.ends_=[];J.maxDelta_=-1;J.maxDeltaRevision_=-1;if(Array.isArray(z[0]))J.setCoordinates(z,u);else if(void 0!==u&&C)J.setFlatCoordinates(u,z),J.ends_=C;else{u=J.getLayout();C=[];for(var A=[],x=0,q=z.length;x<
q;++x){var H=z[x];0===x&&(u=H.getLayout());(0,f.extend)(C,H.getFlatCoordinates());A.push(C.length)}J.setFlatCoordinates(u,C);J.ends_=A}return J}c(m,b);m.prototype.appendLineString=function(z){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,z.getFlatCoordinates().slice()):this.flatCoordinates=z.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()};m.prototype.clone=function(){var z=new m(this.flatCoordinates.slice(),this.layout,this.ends_.slice());z.applyProperties(this);
return z};m.prototype.closestPointXY=function(z,u,C,J){if(J<(0,r.closestSquaredDistanceXY)(this.getExtent(),z,u))return J;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,v.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,v.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,z,u,C,J)};m.prototype.getCoordinateAtM=function(z,u,C){return this.layout!=p.default.XYM&&
this.layout!=p.default.XYZM||0===this.flatCoordinates.length?null:(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,z,void 0!==u?u:!1,void 0!==C?C:!1)};m.prototype.getCoordinates=function(){return(0,e.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)};m.prototype.getEnds=function(){return this.ends_};m.prototype.getLineString=function(z){return 0>z||this.ends_.length<=z?null:new n.default(this.flatCoordinates.slice(0===z?0:this.ends_[z-1],this.ends_[z]),
this.layout)};m.prototype.getLineStrings=function(){for(var z=this.flatCoordinates,u=this.ends_,C=this.layout,J=[],A=0,x=0,q=u.length;x<q;++x){var H=u[x];A=new n.default(z.slice(A,H),C);J.push(A);A=H}return J};m.prototype.getFlatMidpoints=function(){for(var z=[],u=this.flatCoordinates,C=0,J=this.ends_,A=this.stride,x=0,q=J.length;x<q;++x){var H=J[x];C=(0,d.interpolatePoint)(u,C,H,A,.5);(0,f.extend)(z,C);C=H}return z};m.prototype.getSimplifiedGeometryInternal=function(z){var u=[],C=[];u.length=(0,k.douglasPeuckerArray)(this.flatCoordinates,
0,this.ends_,this.stride,z,u,0,C);return new m(u,p.default.XY,C)};m.prototype.getType=function(){return"MultiLineString"};m.prototype.intersectsExtent=function(z){return(0,a.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,z)};m.prototype.setCoordinates=function(z,u){this.setLayout(u,z,2);this.flatCoordinates||(this.flatCoordinates=[]);z=(0,h.deflateCoordinatesArray)(this.flatCoordinates,0,z,this.stride,this.ends_);this.flatCoordinates.length=0===z.length?0:z[z.length-1];this.changed()};
return m}(sa.default);G.default=F};
shadow$provide[184]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(136));sa=y(F(129));var n=F(74),v=F(131),r=F(66),h=F(133),k=F(75),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=
d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a,c){var b=e.call(this)||this;c&&!Array.isArray(a[0])?b.setFlatCoordinates(c,a):b.setCoordinates(a,c);return b}f(d,e);d.prototype.appendPoint=function(a){this.flatCoordinates?(0,r.extend)(this.flatCoordinates,a.getFlatCoordinates()):this.flatCoordinates=a.getFlatCoordinates().slice();
this.changed()};d.prototype.clone=function(){var a=new d(this.flatCoordinates.slice(),this.layout);a.applyProperties(this);return a};d.prototype.closestPointXY=function(a,c,b,m){if(m<(0,n.closestSquaredDistanceXY)(this.getExtent(),a,c))return m;for(var z=this.flatCoordinates,u=this.stride,C=0,J=z.length;C<J;C+=u){var A=(0,k.squaredDistance)(a,c,z[C],z[C+1]);if(A<m){m=A;for(A=0;A<u;++A)b[A]=z[C+A];b.length=u}}return m};d.prototype.getCoordinates=function(){return(0,h.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)};d.prototype.getPoint=function(a){var c=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>a||c<=a?null:new p.default(this.flatCoordinates.slice(a*this.stride,(a+1)*this.stride),this.layout)};d.prototype.getPoints=function(){for(var a=this.flatCoordinates,c=this.layout,b=this.stride,m=[],z=0,u=a.length;z<u;z+=b){var C=new p.default(a.slice(z,z+b),c);m.push(C)}return m};d.prototype.getType=function(){return"MultiPoint"};d.prototype.intersectsExtent=
function(a){for(var c=this.flatCoordinates,b=this.stride,m=0,z=c.length;m<z;m+=b)if((0,n.containsXY)(a,c[m],c[m+1]))return!0;return!1};d.prototype.setCoordinates=function(a,c){this.setLayout(c,a,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,v.deflateCoordinates)(this.flatCoordinates,0,a,this.stride);this.changed()};return d}(sa.default);G.default=F};
shadow$provide[185]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.linearRingss=function(p,n,v,r){var h=[];(0,y.createEmpty)();for(var k=0,f=v.length;k<f;++k){var e=v[k];n=(0,y.createOrUpdateFromFlatCoordinates)(p,n,e[0],r);h.push((n[0]+n[2])/2,(n[1]+n[3])/2);n=e[e.length-1]}return h};var y=F(74)};
shadow$provide[186]=function(sa,F,ob,G){function y(J){return J&&J.__esModule?J:{default:J}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(126)),n=y(F(184)),v=y(F(143));sa=y(F(129));var r=F(130),h=F(74),k=F(131),f=F(66),e=F(138),d=F(133),a=F(140),c=F(142),b=F(134),m=F(185),z=F(137),u=F(132),C=function(){var J=function(A,x){J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,H){q.__proto__=H}||function(q,H){for(var M in H)Object.prototype.hasOwnProperty.call(H,
M)&&(q[M]=H[M])};return J(A,x)};return function(A,x){function q(){this.constructor=A}if("function"!==typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");J(A,x);A.prototype=null===x?Object.create(x):(q.prototype=x.prototype,new q)}}();F=function(J){function A(x,q,H){var M=J.call(this)||this;M.endss_=[];M.flatInteriorPointsRevision_=-1;M.flatInteriorPoints_=null;M.maxDelta_=-1;M.maxDeltaRevision_=-1;M.orientedRevision_=-1;M.orientedFlatCoordinates_=
null;if(!H&&!Array.isArray(x[0])){q=M.getLayout();var R=x;x=[];H=[];for(var Z=0,T=R.length;Z<T;++Z){var ba=R[Z];0===Z&&(q=ba.getLayout());for(var aa=x.length,W=ba.getEnds(),X=0,P=W.length;X<P;++X)W[X]+=aa;(0,f.extend)(x,ba.getFlatCoordinates());H.push(W)}}void 0!==q&&H?(M.setFlatCoordinates(q,x),M.endss_=H):M.setCoordinates(x,q);return M}C(A,J);A.prototype.appendPolygon=function(x){if(this.flatCoordinates){var q=this.flatCoordinates.length;(0,f.extend)(this.flatCoordinates,x.getFlatCoordinates());
x=x.getEnds().slice();for(var H=0,M=x.length;H<M;++H)x[H]+=q}else this.flatCoordinates=x.getFlatCoordinates().slice(),x=x.getEnds().slice(),this.endss_.push();this.endss_.push(x);this.changed()};A.prototype.clone=function(){for(var x=this.endss_.length,q=Array(x),H=0;H<x;++H)q[H]=this.endss_[H].slice();x=new A(this.flatCoordinates.slice(),this.layout,q);x.applyProperties(this);return x};A.prototype.closestPointXY=function(x,q,H,M){if(M<(0,h.closestSquaredDistanceXY)(this.getExtent(),x,q))return M;
this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,r.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,x,q,H,M)};A.prototype.containsXY=function(x,q){return(0,z.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x,q)};A.prototype.getArea=function(){return(0,b.linearRingss)(this.getOrientedFlatCoordinates(),
0,this.endss_,this.stride)};A.prototype.getCoordinates=function(x){if(void 0!==x){var q=this.getOrientedFlatCoordinates().slice();(0,c.orientLinearRingsArray)(q,0,this.endss_,this.stride,x)}else q=this.flatCoordinates;return(0,d.inflateMultiCoordinatesArray)(q,0,this.endss_,this.stride)};A.prototype.getEndss=function(){return this.endss_};A.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var x=(0,m.linearRingss)(this.flatCoordinates,0,this.endss_,
this.stride);this.flatInteriorPoints_=(0,e.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};A.prototype.getInteriorPoints=function(){return new n.default(this.getFlatInteriorPoints().slice(),p.default.XYM)};A.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var x=this.flatCoordinates;(0,c.linearRingssAreOriented)(x,0,this.endss_,
this.stride)?this.orientedFlatCoordinates_=x:(this.orientedFlatCoordinates_=x.slice(),this.orientedFlatCoordinates_.length=(0,c.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};A.prototype.getSimplifiedGeometryInternal=function(x){var q=[],H=[];q.length=(0,u.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(x),q,0,H);return new A(q,p.default.XY,H)};A.prototype.getPolygon=
function(x){if(0>x||this.endss_.length<=x)return null;if(0===x)var q=0;else q=this.endss_[x-1],q=q[q.length-1];x=this.endss_[x].slice();var H=x[x.length-1];if(0!==q)for(var M=0,R=x.length;M<R;++M)x[M]-=q;return new v.default(this.flatCoordinates.slice(q,H),this.layout,x)};A.prototype.getPolygons=function(){for(var x=this.layout,q=this.flatCoordinates,H=this.endss_,M=[],R=0,Z=0,T=H.length;Z<T;++Z){var ba=H[Z].slice(),aa=ba[ba.length-1];if(0!==R)for(var W=0,X=ba.length;W<X;++W)ba[W]-=R;R=new v.default(q.slice(R,
aa),x,ba);M.push(R);R=aa}return M};A.prototype.getType=function(){return"MultiPolygon"};A.prototype.intersectsExtent=function(x){return(0,a.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,x)};A.prototype.setCoordinates=function(x,q){this.setLayout(q,x,3);this.flatCoordinates||(this.flatCoordinates=[]);x=(0,k.deflateMultiCoordinatesArray)(this.flatCoordinates,0,x,this.stride,this.endss_);0===x.length?this.flatCoordinates.length=0:(x=x[x.length-1],this.flatCoordinates.length=
0===x.length?0:x[x.length-1]);this.changed()};return A}(sa.default);G.default=F};
shadow$provide[187]=function(sa,F,ob,G){!function(y,p){"object"==typeof G&&"undefined"!=typeof ob?ob.exports=p():"function"==typeof define&&define.amd?define(p):(y=y||self).RBush=p()}(this,function(){function y(u,C,J,A,x){!function ba(H,M,R,Z,T){for(;Z>R;){if(600<Z-R){var aa=Z-R+1,W=M-R+1,X=Math.log(aa),P=.5*Math.exp(2*X/3);X=.5*Math.sqrt(X*P*(aa-P)/aa)*(0>W-aa/2?-1:1);ba(H,M,Math.max(R,Math.floor(M-W*P/aa+X)),Math.min(Z,Math.floor(M+(aa-W)*P/aa+X)),T)}aa=H[M];W=R;P=Z;p(H,R,M);for(0<T(H[Z],aa)&&p(H,
R,Z);W<P;){p(H,W,P);W++;for(P--;0>T(H[W],aa);)W++;for(;0<T(H[P],aa);)P--}0===T(H[R],aa)?p(H,R,P):p(H,++P,Z);P<=M&&(R=P+1);M<=P&&(Z=P-1)}}(u,C,J||0,A||u.length-1,x||n)}function p(u,C,J){var A=u[C];u[C]=u[J];u[J]=A}function n(u,C){return u<C?-1:u>C?1:0}function v(u,C){r(u,0,u.children.length,C,u)}function r(u,C,J,A,x){x||(x=b(null));x.minX=1/0;x.minY=1/0;x.maxX=-1/0;for(x.maxY=-1/0;C<J;C++){var q=u.children[C];h(x,u.leaf?A(q):q)}return x}function h(u,C){return u.minX=Math.min(u.minX,C.minX),u.minY=
Math.min(u.minY,C.minY),u.maxX=Math.max(u.maxX,C.maxX),u.maxY=Math.max(u.maxY,C.maxY),u}function k(u,C){return u.minX-C.minX}function f(u,C){return u.minY-C.minY}function e(u){return(u.maxX-u.minX)*(u.maxY-u.minY)}function d(u){return u.maxX-u.minX+(u.maxY-u.minY)}function a(u,C){return u.minX<=C.minX&&u.minY<=C.minY&&C.maxX<=u.maxX&&C.maxY<=u.maxY}function c(u,C){return C.minX<=u.maxX&&C.minY<=u.maxY&&C.maxX>=u.minX&&C.maxY>=u.minY}function b(u){return{children:u,height:1,leaf:!0,minX:1/0,minY:1/
0,maxX:-1/0,maxY:-1/0}}function m(u,C,J,A,x){for(var q=[C,J];q.length;)if(!((J=q.pop())-(C=q.pop())<=A)){var H=C+Math.ceil((J-C)/A/2)*A;y(u,H,C,J,x);q.push(C,H,H,J)}}var z=function(u){void 0===u&&(u=9);this._maxEntries=Math.max(4,u);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return z.prototype.all=function(){return this._all(this.data,[])},z.prototype.search=function(u){var C=this.data,J=[];if(!c(u,C))return J;for(var A=this.toBBox,x=[];C;){for(var q=0;q<C.children.length;q++){var H=
C.children[q],M=C.leaf?A(H):H;c(u,M)&&(C.leaf?J.push(H):a(u,M)?this._all(H,J):x.push(H))}C=x.pop()}return J},z.prototype.collides=function(u){var C=this.data;if(!c(u,C))return!1;for(var J=[];C;){for(var A=0;A<C.children.length;A++){var x=C.children[A],q=C.leaf?this.toBBox(x):x;if(c(u,q)){if(C.leaf||a(u,q))return!0;J.push(x)}}C=J.pop()}return!1},z.prototype.load=function(u){if(!u||!u.length)return this;if(u.length<this._minEntries){for(var C=0;C<u.length;C++)this.insert(u[C]);return this}u=this._build(u.slice(),
0,u.length-1,0);this.data.children.length?this.data.height===u.height?this._splitRoot(this.data,u):(this.data.height<u.height&&(C=this.data,this.data=u,u=C),this._insert(u,this.data.height-u.height-1,!0)):this.data=u;return this},z.prototype.insert=function(u){return u&&this._insert(u,this.data.height-1),this},z.prototype.clear=function(){return this.data=b([]),this},z.prototype.remove=function(u,C){if(!u)return this;for(var J,A,x,q=this.data,H=this.toBBox(u),M=[],R=[];q||M.length;){if(q||(q=M.pop(),
A=M[M.length-1],J=R.pop(),x=!0),q.leaf){a:{var Z=u;var T=q.children,ba=C;if(ba){for(var aa=0;aa<T.length;aa++)if(ba(Z,T[aa])){Z=aa;break a}Z=-1}else Z=T.indexOf(Z)}if(-1!==Z)return q.children.splice(Z,1),M.push(q),this._condense(M),this}x||q.leaf||!a(q,H)?A?(J++,q=A.children[J],x=!1):q=null:(M.push(q),R.push(J),J=0,A=q,q=q.children[0])}return this},z.prototype.toBBox=function(u){return u},z.prototype.compareMinX=function(u,C){return u.minX-C.minX},z.prototype.compareMinY=function(u,C){return u.minY-
C.minY},z.prototype.toJSON=function(){return this.data},z.prototype.fromJSON=function(u){return this.data=u,this},z.prototype._all=function(u,C){for(var J=[];u;)u.leaf?C.push.apply(C,u.children):J.push.apply(J,u.children),u=J.pop();return C},z.prototype._build=function(u,C,J,A){var x,q=J-C+1,H=this._maxEntries;if(q<=H)return v(x=b(u.slice(C,J+1)),this.toBBox),x;A||(A=Math.ceil(Math.log(q)/Math.log(H)),H=Math.ceil(q/Math.pow(H,A-1)));(x=b([])).leaf=!1;x.height=A;q=Math.ceil(q/H);H=q*Math.ceil(Math.sqrt(H));
for(m(u,C,J,H,this.compareMinX);C<=J;C+=H){var M=Math.min(C+H-1,J);m(u,C,M,q,this.compareMinY);for(var R=C;R<=M;R+=q)x.children.push(this._build(u,R,Math.min(R+q-1,M),A-1))}return v(x,this.toBBox),x},z.prototype._chooseSubtree=function(u,C,J,A){for(;A.push(C),!C.leaf&&A.length-1!==J;){for(var x=1/0,q=1/0,H=void 0,M=0;M<C.children.length;M++){var R=C.children[M],Z=e(R),T=(ba=u,aa=R,(Math.max(aa.maxX,ba.maxX)-Math.min(aa.minX,ba.minX))*(Math.max(aa.maxY,ba.maxY)-Math.min(aa.minY,ba.minY))-Z);T<q?(q=
T,x=Z<x?Z:x,H=R):T===q&&Z<x&&(x=Z,H=R)}C=H||C.children[0]}var ba,aa;return C},z.prototype._insert=function(u,C,J){J=J?u:this.toBBox(u);var A=[],x=this._chooseSubtree(J,this.data,C,A);x.children.push(u);for(h(x,J);0<=C&&A[C].children.length>this._maxEntries;)this._split(A,C),C--;this._adjustParentBBoxes(J,A,C)},z.prototype._split=function(u,C){var J=u[C],A=J.children.length,x=this._minEntries;this._chooseSplitAxis(J,x,A);A=this._chooseSplitIndex(J,x,A);A=b(J.children.splice(A,J.children.length-A));
A.height=J.height;A.leaf=J.leaf;v(J,this.toBBox);v(A,this.toBBox);C?u[C-1].children.push(A):this._splitRoot(J,A)},z.prototype._splitRoot=function(u,C){this.data=b([u,C]);this.data.height=u.height+1;this.data.leaf=!1;v(this.data,this.toBBox)},z.prototype._chooseSplitIndex=function(u,C,J){for(var A,x,q,H,M,R,Z,T=1/0,ba=1/0,aa=C;aa<=J-C;aa++){var W=r(u,0,aa,this.toBBox),X=r(u,aa,J,this.toBBox),P=(x=W,q=X,H=void 0,M=void 0,R=void 0,Z=void 0,H=Math.max(x.minX,q.minX),M=Math.max(x.minY,q.minY),R=Math.min(x.maxX,
q.maxX),Z=Math.min(x.maxY,q.maxY),Math.max(0,R-H)*Math.max(0,Z-M));W=e(W)+e(X);P<T?(T=P,A=aa,ba=W<ba?W:ba):P===T&&W<ba&&(ba=W,A=aa)}return A||J-C},z.prototype._chooseSplitAxis=function(u,C,J){var A=u.leaf?this.compareMinX:k,x=u.leaf?this.compareMinY:f;this._allDistMargin(u,C,J,A)<this._allDistMargin(u,C,J,x)&&u.children.sort(A)},z.prototype._allDistMargin=function(u,C,J,A){u.children.sort(A);A=this.toBBox;for(var x=r(u,0,C,A),q=r(u,J-C,J,A),H=d(x)+d(q),M=C;M<J-C;M++){var R=u.children[M];h(x,u.leaf?
A(R):R);H+=d(x)}for(J=J-C-1;J>=C;J--)x=u.children[J],h(q,u.leaf?A(x):x),H+=d(q);return H},z.prototype._adjustParentBBoxes=function(u,C,J){for(;0<=J;J--)h(C[J],u)},z.prototype._condense=function(u){for(var C=u.length-1,J=void 0;0<=C;C--)0===u[C].children.length?0<C?(J=u[C-1].children).splice(J.indexOf(u[C]),1):this.clear():v(u[C],this.toBBox)},z})};
shadow$provide[188]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[189]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(68),p=F(145);sa=function(){function n(v){this.opacity_=v.opacity;this.rotateWithView_=v.rotateWithView;this.rotation_=v.rotation;this.scale_=v.scale;this.scaleArray_=(0,p.toSize)(v.scale);this.displacement_=v.displacement;this.declutterMode_=v.declutterMode}n.prototype.clone=function(){var v=this.getScale();return new n({opacity:this.getOpacity(),scale:Array.isArray(v)?v.slice():v,rotation:this.getRotation(),
rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})};n.prototype.getOpacity=function(){return this.opacity_};n.prototype.getRotateWithView=function(){return this.rotateWithView_};n.prototype.getRotation=function(){return this.rotation_};n.prototype.getScale=function(){return this.scale_};n.prototype.getScaleArray=function(){return this.scaleArray_};n.prototype.getDisplacement=function(){return this.displacement_};n.prototype.getDeclutterMode=
function(){return this.declutterMode_};n.prototype.getAnchor=function(){return(0,y.abstract)()};n.prototype.getImage=function(v){return(0,y.abstract)()};n.prototype.getHitDetectionImage=function(){return(0,y.abstract)()};n.prototype.getPixelRatio=function(v){return 1};n.prototype.getImageState=function(){return(0,y.abstract)()};n.prototype.getImageSize=function(){return(0,y.abstract)()};n.prototype.getOrigin=function(){return(0,y.abstract)()};n.prototype.getSize=function(){return(0,y.abstract)()};
n.prototype.setDisplacement=function(v){this.displacement_=v};n.prototype.setOpacity=function(v){this.opacity_=v};n.prototype.setRotateWithView=function(v){this.rotateWithView_=v};n.prototype.setRotation=function(v){this.rotation_=v};n.prototype.setScale=function(v){this.scale_=v;this.scaleArray_=(0,p.toSize)(v)};n.prototype.listenImageChange=function(v){(0,y.abstract)()};n.prototype.load=function(){(0,y.abstract)()};n.prototype.unlistenImageChange=function(v){(0,y.abstract)()};return n}();G.default=
sa};
shadow$provide[190]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.asColorLike=function(p){return Array.isArray(p)?(0,y.toString)(p):p};var y=F(76)};
shadow$provide[191]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(188));sa=y(F(189));var n=F(76),v=F(190),r=F(95),h=F(96),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){var a=f.call(this,{opacity:1,rotateWithView:void 0!==d.rotateWithView?d.rotateWithView:!1,rotation:void 0!==d.rotation?d.rotation:0,scale:void 0!==d.scale?d.scale:1,displacement:void 0!==d.displacement?d.displacement:[0,0],declutterMode:d.declutterMode})||this;a.canvas_=void 0;a.hitDetectionCanvas_=
null;a.fill_=void 0!==d.fill?d.fill:null;a.origin_=[0,0];a.points_=d.points;a.radius_=void 0!==d.radius?d.radius:d.radius1;a.radius2_=d.radius2;a.angle_=void 0!==d.angle?d.angle:0;a.stroke_=void 0!==d.stroke?d.stroke:null;a.size_=null;a.renderOptions_=null;a.render();return a}k(e,f);e.prototype.clone=function(){var d=this.getScale();d=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?
this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(d)?d.slice():d,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});d.setOpacity(this.getOpacity());return d};e.prototype.getAnchor=function(){var d=this.size_;if(!d)return null;var a=this.getDisplacement();return[d[0]/2-a[0],d[1]/2+a[1]]};e.prototype.getAngle=function(){return this.angle_};e.prototype.getFill=function(){return this.fill_};e.prototype.setFill=
function(d){this.fill_=d;this.render()};e.prototype.getHitDetectionImage=function(){this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_);return this.hitDetectionCanvas_};e.prototype.getImage=function(d){var a=this.canvas_[d];if(!a){a=this.renderOptions_;var c=(0,r.createCanvasContext2D)(a.size*d,a.size*d);this.draw_(a,c,d);a=c.canvas;this.canvas_[d]=a}return a};e.prototype.getPixelRatio=function(d){return d};e.prototype.getImageSize=function(){return this.size_};e.prototype.getImageState=
function(){return p.default.LOADED};e.prototype.getOrigin=function(){return this.origin_};e.prototype.getPoints=function(){return this.points_};e.prototype.getRadius=function(){return this.radius_};e.prototype.getRadius2=function(){return this.radius2_};e.prototype.getSize=function(){return this.size_};e.prototype.getStroke=function(){return this.stroke_};e.prototype.setStroke=function(d){this.stroke_=d;this.render()};e.prototype.listenImageChange=function(d){};e.prototype.load=function(){};e.prototype.unlistenImageChange=
function(d){};e.prototype.calculateLineJoinSize_=function(d,a,c){if(0===a||Infinity===this.points_||"bevel"!==d&&"miter"!==d)return a;var b=this.radius_,m=void 0===this.radius2_?b:this.radius2_;if(b<m){var z=b;b=m;m=z}z=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_);var u=m*Math.sin(z),C=b-Math.sqrt(m*m-u*u),J=Math.sqrt(u*u+C*C);u=J/u;if("miter"===d&&u<=c)return u*a;u=a/2/u;C=a/2*(C/J);C=Math.sqrt((b+u)*(b+u)+C*C)-b;if(void 0===this.radius2_||"bevel"===d)return 2*C;d=b*Math.sin(z);
z=m-Math.sqrt(b*b-d*d);d=Math.sqrt(d*d+z*z)/d;return d<=c?2*Math.max(C,d*a/2-m-b):2*C};e.prototype.createRenderOptions=function(){var d=h.defaultLineJoin,a=0,c=null,b=0,m=0;if(this.stroke_){var z=this.stroke_.getColor();null===z&&(z=h.defaultStrokeStyle);z=(0,v.asColorLike)(z);m=this.stroke_.getWidth();void 0===m&&(m=h.defaultLineWidth);c=this.stroke_.getLineDash();b=this.stroke_.getLineDashOffset();d=this.stroke_.getLineJoin();void 0===d&&(d=h.defaultLineJoin);a=this.stroke_.getMiterLimit();void 0===
a&&(a=h.defaultMiterLimit)}var u=this.calculateLineJoinSize_(d,m,a);return{strokeStyle:z,strokeWidth:m,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+u),lineDash:c,lineDashOffset:b,lineJoin:d,miterLimit:a}};e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var d=this.renderOptions_.size;this.canvas_={};this.size_=[d,d]};e.prototype.draw_=function(d,a,c){a.scale(c,c);a.translate(d.size/2,d.size/2);this.createPath_(a);this.fill_&&(c=this.fill_.getColor(),null===
c&&(c=h.defaultFillStyle),a.fillStyle=(0,v.asColorLike)(c),a.fill());this.stroke_&&(a.strokeStyle=d.strokeStyle,a.lineWidth=d.strokeWidth,a.setLineDash&&d.lineDash&&(a.setLineDash(d.lineDash),a.lineDashOffset=d.lineDashOffset),a.lineJoin=d.lineJoin,a.miterLimit=d.miterLimit,a.stroke())};e.prototype.createHitDetectionCanvas_=function(d){if(this.fill_){var a=this.fill_.getColor(),c=0;"string"===typeof a&&(a=(0,n.asArray)(a));null===a?c=1:Array.isArray(a)&&(c=4===a.length?a[3]:1);0===c&&(a=(0,r.createCanvasContext2D)(d.size,
d.size),this.hitDetectionCanvas_=a.canvas,this.drawHitDetectionCanvas_(d,a))}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))};e.prototype.createPath_=function(d){var a=this.points_,c=this.radius_;if(Infinity===a)d.arc(0,0,c,0,2*Math.PI);else{var b=void 0===this.radius2_?c:this.radius2_;void 0!==this.radius2_&&(a*=2);for(var m=this.angle_-Math.PI/2,z=2*Math.PI/a,u=0;u<a;u++){var C=m+u*z,J=0===u%2?c:b;d.lineTo(J*Math.cos(C),J*Math.sin(C))}d.closePath()}};e.prototype.drawHitDetectionCanvas_=
function(d,a){a.translate(d.size/2,d.size/2);this.createPath_(a);a.fillStyle=h.defaultFillStyle;a.fill();this.stroke_&&(a.strokeStyle=d.strokeStyle,a.lineWidth=d.strokeWidth,d.lineDash&&(a.setLineDash(d.lineDash),a.lineDashOffset=d.lineDashOffset),a.lineJoin=d.lineJoin,a.miterLimit=d.miterLimit,a.stroke())};return e}(sa.default);G.default=F};
shadow$provide[192]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(191));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();sa=function(p){function n(v){v=v?v:{};return p.call(this,{points:Infinity,fill:v.fill,radius:v.radius,stroke:v.stroke,scale:void 0!==v.scale?v.scale:1,rotation:void 0!==v.rotation?v.rotation:0,rotateWithView:void 0!==v.rotateWithView?v.rotateWithView:!1,displacement:void 0!==v.displacement?v.displacement:[0,0],declutterMode:v.declutterMode})||this}y(n,p);n.prototype.clone=function(){var v=
this.getScale();v=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(v)?v.slice():v,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});v.setOpacity(this.getOpacity());return v};n.prototype.setRadius=function(v){this.radius_=v;this.render()};return n}(sa.default);G.default=sa};
shadow$provide[193]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(p){p=p||{};this.color_=void 0!==p.color?p.color:null}y.prototype.clone=function(){var p=this.getColor();return new y({color:Array.isArray(p)?p.slice():p||void 0})};y.prototype.getColor=function(){return this.color_};y.prototype.setColor=function(p){this.color_=p};return y}();G.default=sa};
shadow$provide[194]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(p){p=p||{};this.color_=void 0!==p.color?p.color:null;this.lineCap_=p.lineCap;this.lineDash_=void 0!==p.lineDash?p.lineDash:null;this.lineDashOffset_=p.lineDashOffset;this.lineJoin_=p.lineJoin;this.miterLimit_=p.miterLimit;this.width_=p.width}y.prototype.clone=function(){var p=this.getColor();return new y({color:Array.isArray(p)?p.slice():p||void 0,lineCap:this.getLineCap(),
lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};y.prototype.getColor=function(){return this.color_};y.prototype.getLineCap=function(){return this.lineCap_};y.prototype.getLineDash=function(){return this.lineDash_};y.prototype.getLineDashOffset=function(){return this.lineDashOffset_};y.prototype.getLineJoin=function(){return this.lineJoin_};y.prototype.getMiterLimit=
function(){return this.miterLimit_};y.prototype.getWidth=function(){return this.width_};y.prototype.setColor=function(p){this.color_=p};y.prototype.setLineCap=function(p){this.lineCap_=p};y.prototype.setLineDash=function(p){this.lineDash_=p};y.prototype.setLineDashOffset=function(p){this.lineDashOffset_=p};y.prototype.setLineJoin=function(p){this.lineJoin_=p};y.prototype.setMiterLimit=function(p){this.miterLimit_=p};y.prototype.setWidth=function(p){this.width_=p};return y}();G.default=sa};
shadow$provide[195]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}function p(e){return e.getGeometry()}Object.defineProperty(G,"__esModule",{value:!0});G.toFunction=function(e){if("function"!==typeof e){if(Array.isArray(e))var d=e;else(0,h.assert)("function"===typeof e.getZIndex,41),d=[e];e=function(){return d}}return e};G.createDefaultStyle=function(e,d){f||(e=new v.default({color:"rgba(255,255,255,0.4)"}),d=new r.default({color:"#3399CC",width:1.25}),f=[new k({image:new n.default({fill:e,
stroke:d,radius:5}),fill:e,stroke:d})]);return f};G.createEditingStyle=function(){var e={},d=[255,255,255,1],a=[0,153,255,1];e.Polygon=[new k({fill:new v.default({color:[255,255,255,.5]})})];e.MultiPolygon=e.Polygon;e.LineString=[new k({stroke:new r.default({color:d,width:5})}),new k({stroke:new r.default({color:a,width:3})})];e.MultiLineString=e.LineString;e.Circle=e.Polygon.concat(e.LineString);e.Point=[new k({image:new n.default({radius:6,fill:new v.default({color:a}),stroke:new r.default({color:d,
width:1.5})}),zIndex:Infinity})];e.MultiPoint=e.Point;e.GeometryCollection=e.Polygon.concat(e.LineString,e.Point);return e};G.default=void 0;var n=y(F(192)),v=y(F(193)),r=y(F(194)),h=F(71),k=function(){function e(d){d=d||{};this.geometry_=null;this.geometryFunction_=p;void 0!==d.geometry&&this.setGeometry(d.geometry);this.fill_=void 0!==d.fill?d.fill:null;this.image_=void 0!==d.image?d.image:null;this.renderer_=void 0!==d.renderer?d.renderer:null;this.hitDetectionRenderer_=void 0!==d.hitDetectionRenderer?
d.hitDetectionRenderer:null;this.stroke_=void 0!==d.stroke?d.stroke:null;this.text_=void 0!==d.text?d.text:null;this.zIndex_=d.zIndex}e.prototype.clone=function(){var d=this.getGeometry();d&&"object"===typeof d&&(d=d.clone());return new e({geometry:d,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})};
e.prototype.getRenderer=function(){return this.renderer_};e.prototype.setRenderer=function(d){this.renderer_=d};e.prototype.setHitDetectionRenderer=function(d){this.hitDetectionRenderer_=d};e.prototype.getHitDetectionRenderer=function(){return this.hitDetectionRenderer_};e.prototype.getGeometry=function(){return this.geometry_};e.prototype.getGeometryFunction=function(){return this.geometryFunction_};e.prototype.getFill=function(){return this.fill_};e.prototype.setFill=function(d){this.fill_=d};e.prototype.getImage=
function(){return this.image_};e.prototype.setImage=function(d){this.image_=d};e.prototype.getStroke=function(){return this.stroke_};e.prototype.setStroke=function(d){this.stroke_=d};e.prototype.getText=function(){return this.text_};e.prototype.setText=function(d){this.text_=d};e.prototype.getZIndex=function(){return this.zIndex_};e.prototype.setGeometry=function(d){"function"===typeof d?this.geometryFunction_=d:"string"===typeof d?this.geometryFunction_=function(a){return a.get(d)}:d?void 0!==d&&
(this.geometryFunction_=function(){return d}):this.geometryFunction_=p;this.geometry_=d};e.prototype.setZIndex=function(d){this.zIndex_=d};return e}(),f=null;G.default=k};
shadow$provide[196]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(89));var p=y(F(187)),n=F(80),v=F(195),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){f=f?f:{};var e=(0,n.assign)({},f);delete e.style;delete e.renderBuffer;delete e.updateWhileAnimating;delete e.updateWhileInteracting;e=h.call(this,e)||this;e.declutter_=void 0!==f.declutter?f.declutter:!1;e.renderBuffer_=void 0!==f.renderBuffer?f.renderBuffer:100;e.style_=null;e.styleFunction_=void 0;
e.setStyle(f.style);e.updateWhileAnimating_=void 0!==f.updateWhileAnimating?f.updateWhileAnimating:!1;e.updateWhileInteracting_=void 0!==f.updateWhileInteracting?f.updateWhileInteracting:!1;return e}r(k,h);k.prototype.getDeclutter=function(){return this.declutter_};k.prototype.getFeatures=function(f){return h.prototype.getFeatures.call(this,f)};k.prototype.getRenderBuffer=function(){return this.renderBuffer_};k.prototype.getRenderOrder=function(){return this.get("renderOrder")};k.prototype.getStyle=
function(){return this.style_};k.prototype.getStyleFunction=function(){return this.styleFunction_};k.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};k.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};k.prototype.renderDeclutter=function(f){f.declutterTree||(f.declutterTree=new p.default(9));this.getRenderer().renderDeclutter(f)};k.prototype.setRenderOrder=function(f){this.set("renderOrder",f)};k.prototype.setStyle=function(f){this.style_=
void 0!==f?f:v.createDefaultStyle;this.styleFunction_=null===f?void 0:(0,v.toFunction)(this.style_);this.changed()};return k}(sa.default);G.default=F};
shadow$provide[197]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};G.fillInstruction=[sa.FILL];G.strokeInstruction=[sa.STROKE];G.beginPathInstruction=[sa.BEGIN_PATH];G.closePathInstruction=[sa.CLOSE_PATH];G.default=sa};
shadow$provide[198]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(){}y.prototype.drawCustom=function(p,n,v,r){};y.prototype.drawGeometry=function(p){};y.prototype.setStyle=function(p){};y.prototype.drawCircle=function(p,n){};y.prototype.drawFeature=function(p,n){};y.prototype.drawGeometryCollection=function(p,n){};y.prototype.drawLineString=function(p,n){};y.prototype.drawMultiLineString=function(p,n){};y.prototype.drawMultiPoint=function(p,
n){};y.prototype.drawMultiPolygon=function(p,n){};y.prototype.drawPoint=function(p,n){};y.prototype.drawPolygon=function(p,n){};y.prototype.drawText=function(p,n){};y.prototype.setFillStrokeStyle=function(p,n){};y.prototype.setImageStyle=function(p,n){};y.prototype.setTextStyle=function(p,n){};return y}();G.default=sa};
shadow$provide[199]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(197)),n=y(F(73));sa=y(F(198));var v=F(190),r=F(74),h=F(96),k=F(66),f=F(133),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c,b,m,z){var u=d.call(this)||this;u.tolerance=c;u.maxExtent=b;u.pixelRatio=z;u.maxLineWidth=0;u.resolution=m;u.beginGeometryInstruction1_=null;u.beginGeometryInstruction2_=null;u.bufferedMaxExtent_=null;u.instructions=[];u.coordinates=[];u.tmpCoordinate_=[];u.hitDetectionInstructions=
[];u.state={};return u}e(a,d);a.prototype.applyPixelRatio=function(c){var b=this.pixelRatio;return 1==b?c:c.map(function(m){return m*b})};a.prototype.appendFlatPointCoordinates=function(c,b){for(var m=this.getBufferedMaxExtent(),z=this.tmpCoordinate_,u=this.coordinates,C=u.length,J=0,A=c.length;J<A;J+=b)z[0]=c[J],z[1]=c[J+1],(0,r.containsCoordinate)(m,z)&&(u[C++]=z[0],u[C++]=z[1]);return C};a.prototype.appendFlatLineCoordinates=function(c,b,m,z,u,C){var J=this.coordinates,A=J.length,x=this.getBufferedMaxExtent();
C&&(b+=z);C=c[b];var q=c[b+1],H=this.tmpCoordinate_,M=!0,R;for(R=b+z;R<m;R+=z){H[0]=c[R];H[1]=c[R+1];var Z=(0,r.coordinateRelationship)(x,H);Z!==T?(M&&(J[A++]=C,J[A++]=q,M=!1),J[A++]=H[0],J[A++]=H[1]):Z===n.default.INTERSECTING?(J[A++]=H[0],J[A++]=H[1],M=!1):M=!0;C=H[0];q=H[1];var T=Z}if(u&&M||R===b+z)J[A++]=C,J[A++]=q;return A};a.prototype.drawCustomCoordinates_=function(c,b,m,z,u){for(var C=0,J=m.length;C<J;++C){var A=m[C];b=this.appendFlatLineCoordinates(c,b,A,z,!1,!1);u.push(b);b=A}return b};
a.prototype.drawCustom=function(c,b,m,z){this.beginGeometry(c,b);var u=c.getType(),C=c.getStride(),J=this.coordinates.length,A;switch(u){case "MultiPolygon":u=c.getOrientedFlatCoordinates();var x=[];for(var q=c.getEndss(),H=A=0,M=q.length;H<M;++H){var R=[];A=this.drawCustomCoordinates_(u,A,q[H],C,R);x.push(R)}this.instructions.push([p.default.CUSTOM,J,x,c,m,f.inflateMultiCoordinatesArray]);this.hitDetectionInstructions.push([p.default.CUSTOM,J,x,c,z||m,f.inflateMultiCoordinatesArray]);break;case "Polygon":case "MultiLineString":x=
[];u="Polygon"==u?c.getOrientedFlatCoordinates():c.getFlatCoordinates();this.drawCustomCoordinates_(u,0,c.getEnds(),C,x);this.instructions.push([p.default.CUSTOM,J,x,c,m,f.inflateCoordinatesArray]);this.hitDetectionInstructions.push([p.default.CUSTOM,J,x,c,z||m,f.inflateCoordinatesArray]);break;case "LineString":case "Circle":u=c.getFlatCoordinates();C=this.appendFlatLineCoordinates(u,0,u.length,C,!1,!1);this.instructions.push([p.default.CUSTOM,J,C,c,m,f.inflateCoordinates]);this.hitDetectionInstructions.push([p.default.CUSTOM,
J,C,c,z||m,f.inflateCoordinates]);break;case "MultiPoint":u=c.getFlatCoordinates();C=this.appendFlatPointCoordinates(u,C);C>J&&(this.instructions.push([p.default.CUSTOM,J,C,c,m,f.inflateCoordinates]),this.hitDetectionInstructions.push([p.default.CUSTOM,J,C,c,z||m,f.inflateCoordinates]));break;case "Point":u=c.getFlatCoordinates(),this.coordinates.push(u[0],u[1]),C=this.coordinates.length,this.instructions.push([p.default.CUSTOM,J,C,c,m]),this.hitDetectionInstructions.push([p.default.CUSTOM,J,C,c,
z||m])}this.endGeometry(b)};a.prototype.beginGeometry=function(c,b){this.beginGeometryInstruction1_=[p.default.BEGIN_GEOMETRY,b,0,c];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[p.default.BEGIN_GEOMETRY,b,0,c];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};a.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}};a.prototype.reverseHitDetectionInstructions=
function(){var c=this.hitDetectionInstructions;c.reverse();var b,m=c.length,z=-1;for(b=0;b<m;++b){var u=c[b];var C=u[0];C==p.default.END_GEOMETRY?z=b:C==p.default.BEGIN_GEOMETRY&&(u[2]=b,(0,k.reverseSubArray)(this.hitDetectionInstructions,z,b),z=-1)}};a.prototype.setFillStrokeStyle=function(c,b){var m=this.state;c?(c=c.getColor(),m.fillStyle=(0,v.asColorLike)(c?c:h.defaultFillStyle)):m.fillStyle=void 0;b?(c=b.getColor(),m.strokeStyle=(0,v.asColorLike)(c?c:h.defaultStrokeStyle),c=b.getLineCap(),m.lineCap=
void 0!==c?c:h.defaultLineCap,c=b.getLineDash(),m.lineDash=c?c.slice():h.defaultLineDash,c=b.getLineDashOffset(),m.lineDashOffset=c?c:h.defaultLineDashOffset,c=b.getLineJoin(),m.lineJoin=void 0!==c?c:h.defaultLineJoin,c=b.getWidth(),m.lineWidth=void 0!==c?c:h.defaultLineWidth,b=b.getMiterLimit(),m.miterLimit=void 0!==b?b:h.defaultMiterLimit,m.lineWidth>this.maxLineWidth&&(this.maxLineWidth=m.lineWidth,this.bufferedMaxExtent_=null)):(m.strokeStyle=void 0,m.lineCap=void 0,m.lineDash=null,m.lineDashOffset=
void 0,m.lineJoin=void 0,m.lineWidth=void 0,m.miterLimit=void 0)};a.prototype.createFill=function(c){c=c.fillStyle;var b=[p.default.SET_FILL_STYLE,c];"string"!==typeof c&&b.push(!0);return b};a.prototype.applyStroke=function(c){this.instructions.push(this.createStroke(c))};a.prototype.createStroke=function(c){return[p.default.SET_STROKE_STYLE,c.strokeStyle,c.lineWidth*this.pixelRatio,c.lineCap,c.lineJoin,c.miterLimit,this.applyPixelRatio(c.lineDash),c.lineDashOffset*this.pixelRatio]};a.prototype.updateFillStyle=
function(c,b){var m=c.fillStyle;if("string"!==typeof m||c.currentFillStyle!=m)void 0!==m&&this.instructions.push(b.call(this,c)),c.currentFillStyle=m};a.prototype.updateStrokeStyle=function(c,b){var m=c.strokeStyle,z=c.lineCap,u=c.lineDash,C=c.lineDashOffset,J=c.lineJoin,A=c.lineWidth,x=c.miterLimit;if(c.currentStrokeStyle!=m||c.currentLineCap!=z||u!=c.currentLineDash&&!(0,k.equals)(c.currentLineDash,u)||c.currentLineDashOffset!=C||c.currentLineJoin!=J||c.currentLineWidth!=A||c.currentMiterLimit!=
x)void 0!==m&&b.call(this,c),c.currentStrokeStyle=m,c.currentLineCap=z,c.currentLineDash=u,c.currentLineDashOffset=C,c.currentLineJoin=J,c.currentLineWidth=A,c.currentMiterLimit=x};a.prototype.endGeometry=function(c){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;c=[p.default.END_GEOMETRY,c];this.instructions.push(c);this.hitDetectionInstructions.push(c)};
a.prototype.getBufferedMaxExtent=function(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(0,r.clone)(this.maxExtent),0<this.maxLineWidth&&(0,r.buffer)(this.bufferedMaxExtent_,this.resolution*(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_};return a}(sa.default);G.default=F};
shadow$provide[200]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(199));var p=y(F(197)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h,k,f,e){h=v.call(this,h,k,f,e)||this;h.hitDetectionImage_=null;h.image_=null;h.imagePixelRatio_=void 0;h.anchorX_=void 0;h.anchorY_=void 0;h.height_=void 0;h.opacity_=void 0;h.originX_=void 0;h.originY_=void 0;h.rotateWithView_=void 0;h.rotation_=void 0;h.scale_=void 0;h.width_=void 0;h.declutterMode_=void 0;h.declutterImageWithText_=void 0;return h}
n(r,v);r.prototype.drawPoint=function(h,k){if(this.image_){this.beginGeometry(h,k);var f=h.getFlatCoordinates(),e=h.getStride();h=this.coordinates.length;f=this.appendFlatPointCoordinates(f,e);this.instructions.push([p.default.DRAW_IMAGE,h,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*
this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([p.default.DRAW_IMAGE,h,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(k)}};r.prototype.drawMultiPoint=
function(h,k){if(this.image_){this.beginGeometry(h,k);var f=h.getFlatCoordinates(),e=h.getStride();h=this.coordinates.length;f=this.appendFlatPointCoordinates(f,e);this.instructions.push([p.default.DRAW_IMAGE,h,f,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,
this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([p.default.DRAW_IMAGE,h,f,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(k)}};r.prototype.finish=function(){this.reverseHitDetectionInstructions();
this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return v.prototype.finish.call(this)};r.prototype.setImageStyle=function(h,k){var f=h.getAnchor(),e=h.getSize(),d=h.getOrigin();this.imagePixelRatio_=h.getPixelRatio(this.pixelRatio);this.anchorX_=f[0];this.anchorY_=f[1];this.hitDetectionImage_=h.getHitDetectionImage();this.image_=
h.getImage(this.pixelRatio);this.height_=e[1];this.opacity_=h.getOpacity();this.originX_=d[0];this.originY_=d[1];this.rotateWithView_=h.getRotateWithView();this.rotation_=h.getRotation();this.scale_=h.getScaleArray();this.width_=e[0];this.declutterMode_=h.getDeclutterMode();this.declutterImageWithText_=k};return r}(sa.default);G.default=F};
shadow$provide[201]=function(sa,F,ob,G){function y(r){if("function"!==typeof WeakMap)return null;var h=new WeakMap,k=new WeakMap;return(y=function(f){return f?k:h})(r)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(199));var p=function(r,h){if(!h&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((h=y(h))&&h.has(r))return h.get(r);var k={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in r)if("default"!==e&&Object.prototype.hasOwnProperty.call(r,e)){var d=f?Object.getOwnPropertyDescriptor(r,e):null;d&&(d.get||d.set)?Object.defineProperty(k,e,d):k[e]=r[e]}k.default=r;h&&h.set(r,k);return k}(F(197)),n=F(96),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=
h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k,f,e,d){return r.call(this,k,f,e,d)||this}v(h,r);h.prototype.drawFlatCoordinates_=function(k,f,e,d){var a=this.coordinates.length;k=this.appendFlatLineCoordinates(k,f,e,d,!1,!1);a=[p.default.MOVE_TO_LINE_TO,a,k];this.instructions.push(a);this.hitDetectionInstructions.push(a);
return e};h.prototype.drawLineString=function(k,f){var e=this.state,d=e.lineWidth;void 0!==e.strokeStyle&&void 0!==d&&(this.updateStrokeStyle(e,this.applyStroke),this.beginGeometry(k,f),this.hitDetectionInstructions.push([p.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,n.defaultLineDash,n.defaultLineDashOffset],p.beginPathInstruction),e=k.getFlatCoordinates(),k=k.getStride(),this.drawFlatCoordinates_(e,0,e.length,k),this.hitDetectionInstructions.push(p.strokeInstruction),
this.endGeometry(f))};h.prototype.drawMultiLineString=function(k,f){var e=this.state,d=e.lineWidth;if(void 0!==e.strokeStyle&&void 0!==d){this.updateStrokeStyle(e,this.applyStroke);this.beginGeometry(k,f);this.hitDetectionInstructions.push([p.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset],p.beginPathInstruction);e=k.getEnds();d=k.getFlatCoordinates();k=k.getStride();for(var a=0,c=0,b=e.length;c<b;++c)a=this.drawFlatCoordinates_(d,
a,e[c],k);this.hitDetectionInstructions.push(p.strokeInstruction);this.endGeometry(f)}};h.prototype.finish=function(){var k=this.state;void 0!=k.lastStroke&&k.lastStroke!=this.coordinates.length&&this.instructions.push(p.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return r.prototype.finish.call(this)};h.prototype.applyStroke=function(k){void 0!=k.lastStroke&&k.lastStroke!=this.coordinates.length&&(this.instructions.push(p.strokeInstruction),k.lastStroke=this.coordinates.length);
k.lastStroke=0;r.prototype.applyStroke.call(this,k);this.instructions.push(p.beginPathInstruction)};return h}(sa.default);G.default=F};
shadow$provide[202]=function(sa,F,ob,G){function y(h){if("function"!==typeof WeakMap)return null;var k=new WeakMap,f=new WeakMap;return(y=function(e){return e?f:k})(h)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(h){return h&&h.__esModule?h:{default:h}}(F(199));var p=function(h,k){if(!k&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((k=y(k))&&k.has(h))return k.get(h);var f={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,
d;for(d in h)if("default"!==d&&Object.prototype.hasOwnProperty.call(h,d)){var a=e?Object.getOwnPropertyDescriptor(h,d):null;a&&(a.get||a.set)?Object.defineProperty(f,d,a):f[d]=h[d]}f.default=h;k&&k.set(h,f);return f}(F(197)),n=F(96),v=F(132),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=
k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f,e,d,a){return h.call(this,f,e,d,a)||this}r(k,h);k.prototype.drawFlatCoordinatess_=function(f,e,d,a){var c=this.state,b=void 0!==c.fillStyle;c=void 0!==c.strokeStyle;var m=d.length;this.instructions.push(p.beginPathInstruction);this.hitDetectionInstructions.push(p.beginPathInstruction);
for(var z=0;z<m;++z){var u=d[z],C=this.coordinates.length;e=this.appendFlatLineCoordinates(f,e,u,a,!0,!c);e=[p.default.MOVE_TO_LINE_TO,C,e];this.instructions.push(e);this.hitDetectionInstructions.push(e);c&&(this.instructions.push(p.closePathInstruction),this.hitDetectionInstructions.push(p.closePathInstruction));e=u}b&&(this.instructions.push(p.fillInstruction),this.hitDetectionInstructions.push(p.fillInstruction));c&&(this.instructions.push(p.strokeInstruction),this.hitDetectionInstructions.push(p.strokeInstruction));
return e};k.prototype.drawCircle=function(f,e){var d=this.state,a=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==a){this.setFillStrokeStyles_();this.beginGeometry(f,e);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([p.default.SET_FILL_STYLE,n.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([p.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);a=f.getFlatCoordinates();f=f.getStride();var c=this.coordinates.length;
this.appendFlatLineCoordinates(a,0,a.length,f,!1,!1);a=[p.default.CIRCLE,c];this.instructions.push(p.beginPathInstruction,a);this.hitDetectionInstructions.push(p.beginPathInstruction,a);void 0!==d.fillStyle&&(this.instructions.push(p.fillInstruction),this.hitDetectionInstructions.push(p.fillInstruction));void 0!==d.strokeStyle&&(this.instructions.push(p.strokeInstruction),this.hitDetectionInstructions.push(p.strokeInstruction));this.endGeometry(e)}};k.prototype.drawPolygon=function(f,e){var d=this.state,
a=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==a)this.setFillStrokeStyles_(),this.beginGeometry(f,e),void 0!==d.fillStyle&&this.hitDetectionInstructions.push([p.default.SET_FILL_STYLE,n.defaultFillStyle]),void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([p.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]),d=f.getEnds(),a=f.getOrientedFlatCoordinates(),f=f.getStride(),this.drawFlatCoordinatess_(a,0,d,f),this.endGeometry(e)};
k.prototype.drawMultiPolygon=function(f,e){var d=this.state,a=d.strokeStyle;if(void 0!==d.fillStyle||void 0!==a){this.setFillStrokeStyles_();this.beginGeometry(f,e);void 0!==d.fillStyle&&this.hitDetectionInstructions.push([p.default.SET_FILL_STYLE,n.defaultFillStyle]);void 0!==d.strokeStyle&&this.hitDetectionInstructions.push([p.default.SET_STROKE_STYLE,d.strokeStyle,d.lineWidth,d.lineCap,d.lineJoin,d.miterLimit,d.lineDash,d.lineDashOffset]);d=f.getEndss();a=f.getOrientedFlatCoordinates();f=f.getStride();
for(var c=0,b=0,m=d.length;b<m;++b)c=this.drawFlatCoordinatess_(a,c,d[b],f);this.endGeometry(e)}};k.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var f=this.tolerance;if(0!==f)for(var e=this.coordinates,d=0,a=e.length;d<a;++d)e[d]=(0,v.snap)(e[d],f);return h.prototype.finish.call(this)};k.prototype.setFillStrokeStyles_=function(){var f=this.state;void 0!==f.fillStyle&&this.updateFillStyle(f,this.createFill);void 0!==f.strokeStyle&&this.updateStrokeStyle(f,this.applyStroke)};
return k}(sa.default);G.default=F};
shadow$provide[203]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={POINT:"point",LINE:"line"}};
shadow$provide[204]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.matchingChunk=function(y,p,n,v,r){for(var h=n,k=n,f=0,e=0,d=n,a,c,b,m,z,u;n<v;n+=r){var C=p[n],J=p[n+1];void 0!==b&&(b=C-b,m=J-m,c=Math.sqrt(b*b+m*m),void 0!==z&&(e+=a,a=Math.acos((z*b+u*m)/(a*c)),a>y&&(e>f&&(f=e,h=d,k=n),e=0,d=n-r)),a=c,z=b,u=m);b=C;m=J}return e+c>f?[d,n]:[h,k]}};
shadow$provide[205]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.TEXT_ALIGN=void 0;sa=y(F(199));var p=y(F(197)),n=y(F(203)),v=F(190),r=F(96),h=F(68),k=F(74),f=F(204),e=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}(),d={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};G.TEXT_ALIGN=d;F=function(a){function c(b,m,z,u){b=a.call(this,b,m,z,u)||this;b.labels_=null;b.text_="";b.textOffsetX_=0;b.textOffsetY_=0;b.textRotateWithView_=void 0;b.textRotation_=0;b.textFillState_=
null;b.fillStates={};b.textStrokeState_=null;b.strokeStates={};b.textState_={};b.textStates={};b.textKey_="";b.fillKey_="";b.strokeKey_="";b.declutterImageWithText_=void 0;return b}e(c,a);c.prototype.finish=function(){var b=a.prototype.finish.call(this);b.textStates=this.textStates;b.fillStates=this.fillStates;b.strokeStates=this.strokeStates;return b};c.prototype.drawText=function(b,m){var z=this.textFillState_,u=this.textStrokeState_,C=this.textState_;if(""!==this.text_&&C&&(z||u)){var J=this.coordinates;
z=J.length;u=b.getType();var A=null,x=b.getStride();if(C.placement!==n.default.LINE||"LineString"!=u&&"MultiLineString"!=u&&"Polygon"!=u&&"MultiPolygon"!=u){var q=C.overflow?null:[];switch(u){case "Point":case "MultiPoint":A=b.getFlatCoordinates();break;case "LineString":A=b.getFlatMidpoint();break;case "Circle":A=b.getCenter();break;case "MultiLineString":A=b.getFlatMidpoints();x=2;break;case "Polygon":A=b.getFlatInteriorPoint();C.overflow||q.push(A[2]/this.resolution);x=3;break;case "MultiPolygon":var H=
b.getFlatInteriorPoints();A=[];u=0;for(T=H.length;u<T;u+=3)C.overflow||q.push(H[u+2]/this.resolution),A.push(H[u],H[u+1]);if(0===A.length)return;x=2}u=this.appendFlatPointCoordinates(A,x);if(u===z)return;if(q&&(u-z)/2!==A.length/x){var M=z/2;q=q.filter(function(aa,W){(aa=J[2*(M+W)]===A[W*x]&&J[2*(M+W)+1]===A[W*x+1])||--M;return aa})}this.saveTextStates_();if(C.backgroundFill||C.backgroundStroke)this.setFillStrokeStyle(C.backgroundFill,C.backgroundStroke),C.backgroundFill&&(this.updateFillStyle(this.state,
this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),C.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(b,m);b=C.padding;if(b!=r.defaultPadding&&(0>C.scale[0]||0>C.scale[1])){b=C.padding[0];T=C.padding[1];H=C.padding[2];var R=C.padding[3];0>C.scale[0]&&(T=-T,R=-R);0>C.scale[1]&&(b=-b,H=-H);b=[b,T,H,R]}var Z=this.pixelRatio;this.instructions.push([p.default.DRAW_IMAGE,
z,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,b==r.defaultPadding?r.defaultPadding:b.map(function(aa){return aa*Z}),!!C.backgroundFill,!!C.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,q]);T=1/Z;this.hitDetectionInstructions.push([p.default.DRAW_IMAGE,z,u,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[T,T],NaN,void 0,this.declutterImageWithText_,
b,!!C.backgroundFill,!!C.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,q])}else{if(!(0,k.intersects)(this.getBufferedMaxExtent(),b.getExtent()))return;q=void 0;A=b.getFlatCoordinates();if("LineString"==u)q=[A.length];else if("MultiLineString"==u)q=b.getEnds();else if("Polygon"==u)q=b.getEnds().slice(0,1);else if("MultiPolygon"==u){H=b.getEndss();q=[];u=0;for(var T=H.length;u<T;++u)q.push(H[u][0])}this.beginGeometry(b,m);b=C.textAlign;R=
0;var ba=void 0;T=0;for(H=q.length;T<H;++T){void 0==b?(u=(0,f.matchingChunk)(C.maxAngle,A,R,q[T],x),R=u[0],ba=u[1]):ba=q[T];for(u=R;u<ba;u+=x)J.push(A[u],A[u+1]);u=J.length;R=q[T];this.drawChars_(z,u);z=u}}this.endGeometry(m)}};c.prototype.saveTextStates_=function(){var b=this.textStrokeState_,m=this.textState_,z=this.textFillState_,u=this.strokeKey_;b&&(u in this.strokeStates||(this.strokeStates[u]={strokeStyle:b.strokeStyle,lineCap:b.lineCap,lineDashOffset:b.lineDashOffset,lineWidth:b.lineWidth,
lineJoin:b.lineJoin,miterLimit:b.miterLimit,lineDash:b.lineDash}));b=this.textKey_;b in this.textStates||(this.textStates[b]={font:m.font,textAlign:m.textAlign||r.defaultTextAlign,justify:m.justify,textBaseline:m.textBaseline||r.defaultTextBaseline,scale:m.scale});m=this.fillKey_;z&&(m in this.fillStates||(this.fillStates[m]={fillStyle:z.fillStyle}))};c.prototype.drawChars_=function(b,m){var z=this.textStrokeState_,u=this.textState_,C=this.strokeKey_,J=this.textKey_,A=this.fillKey_;this.saveTextStates_();
var x=this.pixelRatio,q=d[u.textBaseline],H=this.textOffsetY_*x,M=this.text_;z=z?z.lineWidth*Math.abs(u.scale[0])/2:0;this.instructions.push([p.default.DRAW_CHARS,b,m,q,u.overflow,A,u.maxAngle,x,H,C,z*x,M,J,1]);this.hitDetectionInstructions.push([p.default.DRAW_CHARS,b,m,q,u.overflow,A,u.maxAngle,1,H,C,z,M,J,1/x])};c.prototype.setTextStyle=function(b,m){var z,u;if(b){if(u=b.getFill()){var C=this.textFillState_;C||(this.textFillState_=C={});C.fillStyle=(0,v.asColorLike)(u.getColor()||r.defaultFillStyle)}else this.textFillState_=
C=null;if(z=b.getStroke()){u=this.textStrokeState_;u||(this.textStrokeState_=u={});var J=z.getLineDash(),A=z.getLineDashOffset(),x=z.getWidth(),q=z.getMiterLimit();u.lineCap=z.getLineCap()||r.defaultLineCap;u.lineDash=J?J.slice():r.defaultLineDash;u.lineDashOffset=void 0===A?r.defaultLineDashOffset:A;u.lineJoin=z.getLineJoin()||r.defaultLineJoin;u.lineWidth=void 0===x?r.defaultLineWidth:x;u.miterLimit=void 0===q?r.defaultMiterLimit:q;u.strokeStyle=(0,v.asColorLike)(z.getColor()||r.defaultStrokeStyle)}else this.textStrokeState_=
u=null;z=this.textState_;J=b.getFont()||r.defaultFont;(0,r.registerFont)(J);A=b.getScaleArray();z.overflow=b.getOverflow();z.font=J;z.maxAngle=b.getMaxAngle();z.placement=b.getPlacement();z.textAlign=b.getTextAlign();z.justify=b.getJustify();z.textBaseline=b.getTextBaseline()||r.defaultTextBaseline;z.backgroundFill=b.getBackgroundFill();z.backgroundStroke=b.getBackgroundStroke();z.padding=b.getPadding()||r.defaultPadding;z.scale=void 0===A?[1,1]:A;J=b.getOffsetX();A=b.getOffsetY();x=b.getRotateWithView();
q=b.getRotation();this.text_=b.getText()||"";this.textOffsetX_=void 0===J?0:J;this.textOffsetY_=void 0===A?0:A;this.textRotateWithView_=void 0===x?!1:x;this.textRotation_=void 0===q?0:q;this.strokeKey_=u?("string"==typeof u.strokeStyle?u.strokeStyle:(0,h.getUid)(u.strokeStyle))+u.lineCap+u.lineDashOffset+"|"+u.lineWidth+u.lineJoin+u.miterLimit+"["+u.lineDash.join()+"]":"";this.textKey_=z.font+z.scale+(z.textAlign||"?")+(z.justify||"?")+(z.textBaseline||"?");this.fillKey_=C?"string"==typeof C.fillStyle?
C.fillStyle:"|"+(0,h.getUid)(C.fillStyle):""}else this.text_="";this.declutterImageWithText_=m};return c}(sa.default);G.default=F};
shadow$provide[206]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(199));ob=y(F(200));var p=y(F(201)),n=y(F(202));F=y(F(205));var v={Circle:n.default,Default:sa.default,Image:ob.default,LineString:p.default,Polygon:n.default,Text:F.default};F=function(){function r(h,k,f,e){this.tolerance_=h;this.maxExtent_=k;this.pixelRatio_=e;this.resolution_=f;this.buildersByZIndex_={}}r.prototype.finish=function(){var h=
{},k;for(k in this.buildersByZIndex_){h[k]=h[k]||{};var f=this.buildersByZIndex_[k],e;for(e in f){var d=f[e].finish();h[k][e]=d}}return h};r.prototype.getBuilder=function(h,k){var f=void 0!==h?h.toString():"0";h=this.buildersByZIndex_[f];void 0===h&&(h={},this.buildersByZIndex_[f]=h);f=h[k];void 0===f&&(f=new v[k](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),h[k]=f);return f};return r}();G.default=F};
shadow$provide[207]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(82)),n=y(F(188));sa=y(F(84));var v=F(68),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=h.call(this)||this;e.ready=!0;e.boundHandleImageChange_=e.handleImageChange_.bind(e);e.layer_=f;e.declutterExecutorGroup=null;return e}r(k,h);k.prototype.getFeatures=function(f){return(0,v.abstract)()};k.prototype.getData=function(f){return null};k.prototype.prepareFrame=function(f){return(0,v.abstract)()};
k.prototype.renderFrame=function(f,e){return(0,v.abstract)()};k.prototype.loadedTileCallback=function(f,e,d){f[e]||(f[e]={});f[e][d.tileCoord.toString()]=d};k.prototype.createLoadedTileFinder=function(f,e,d){return function(a,c){var b=this.loadedTileCallback.bind(this,d,a);return f.forEachLoadedTile(e,a,c,b)}.bind(this)};k.prototype.forEachFeatureAtCoordinate=function(f,e,d,a,c){};k.prototype.getDataAtPixel=function(f,e,d){return null};k.prototype.getLayer=function(){return this.layer_};k.prototype.handleFontsChanged=
function(){};k.prototype.handleImageChange_=function(f){f.target.getState()===n.default.LOADED&&this.renderIfReadyAndVisible()};k.prototype.loadImage=function(f){var e=f.getState();e!=n.default.LOADED&&e!=n.default.ERROR&&f.addEventListener(p.default.CHANGE,this.boundHandleImageChange_);e==n.default.IDLE&&(f.load(),e=f.getState());return e==n.default.LOADED};k.prototype.renderIfReadyAndVisible=function(){var f=this.getLayer();f&&f.getVisible()&&"ready"===f.getSourceState()&&f.changed()};k.prototype.disposeInternal=
function(){delete this.layer_;h.prototype.disposeInternal.call(this)};return k}(sa.default);G.default=F};
shadow$provide[208]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.canvasPool=void 0;sa=y(F(207));var p=y(F(93)),n=y(F(88)),v=F(72),r=F(76),h=F(74),k=F(95),f=F(66),e=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();G.canvasPool=[];var d=null;F=function(a){function c(b){b=a.call(this,b)||this;b.container=null;b.tempTransform=(0,v.create)();b.pixelTransform=(0,v.create)();b.inversePixelTransform=(0,v.create)();b.context=null;b.containerReused=!1;b.pixelContext_=null;b.frameState=null;return b}e(c,a);c.prototype.getImageData=
function(b,m,z){if(!d){var u=document.createElement("canvas");u.width=1;u.height=1;d=u.getContext("2d")}d.clearRect(0,0,1,1);try{d.drawImage(b,m,z,1,1,0,0,1,1);var C=d.getImageData(0,0,1,1).data}catch(J){return d=null}return C};c.prototype.getBackground=function(b){var m=this.getLayer().getBackground();"function"===typeof m&&(m=m(b.viewState.resolution));return m||void 0};c.prototype.useContainer=function(b,m,z){var u=this.getLayer().getClassName(),C;if(b&&b.className===u&&(!z||b&&b.style.backgroundColor&&
(0,f.equals)((0,r.asArray)(b.style.backgroundColor),(0,r.asArray)(z)))){var J=b.firstElementChild;J instanceof HTMLCanvasElement&&(C=J.getContext("2d"))}C&&C.canvas.style.transform===m?(this.container=b,this.context=C,this.containerReused=!0):this.containerReused&&(this.context=this.container=null,this.containerReused=!1);this.container||(b=document.createElement("div"),b.className=u,u=b.style,u.position="absolute",u.width="100%",u.height="100%",C=(0,k.createCanvasContext2D)(),J=C.canvas,b.appendChild(J),
u=J.style,u.position="absolute",u.left="0",u.transformOrigin="top left",this.container=b,this.context=C);this.containerReused||!z||this.container.style.backgroundColor||(this.container.style.backgroundColor=z)};c.prototype.clipUnrotated=function(b,m,z){var u=(0,h.getTopLeft)(z),C=(0,h.getTopRight)(z),J=(0,h.getBottomRight)(z);z=(0,h.getBottomLeft)(z);(0,v.apply)(m.coordinateToPixelTransform,u);(0,v.apply)(m.coordinateToPixelTransform,C);(0,v.apply)(m.coordinateToPixelTransform,J);(0,v.apply)(m.coordinateToPixelTransform,
z);m=this.inversePixelTransform;(0,v.apply)(m,u);(0,v.apply)(m,C);(0,v.apply)(m,J);(0,v.apply)(m,z);b.save();b.beginPath();b.moveTo(Math.round(u[0]),Math.round(u[1]));b.lineTo(Math.round(C[0]),Math.round(C[1]));b.lineTo(Math.round(J[0]),Math.round(J[1]));b.lineTo(Math.round(z[0]),Math.round(z[1]));b.clip()};c.prototype.dispatchRenderEvent_=function(b,m,z){var u=this.getLayer();u.hasListener(b)&&(b=new p.default(b,this.inversePixelTransform,z,m),u.dispatchEvent(b))};c.prototype.preRender=function(b,
m){this.frameState=m;this.dispatchRenderEvent_(n.default.PRERENDER,b,m)};c.prototype.postRender=function(b,m){this.dispatchRenderEvent_(n.default.POSTRENDER,b,m)};c.prototype.getRenderTransform=function(b,m,z,u,C,J,A){m=u/m;return(0,v.compose)(this.tempTransform,C/2,J/2,m,-m,-z,-b[0]+A,-b[1])};c.prototype.getDataAtPixel=function(b,m,z){var u=(0,v.apply)(this.inversePixelTransform,b.slice());z=this.context;var C=this.getLayer().getExtent();if(C&&(b=(0,v.apply)(m.pixelToCoordinateTransform,b.slice()),
!(0,h.containsCoordinate)(C,b)))return null;b=Math.round(u[0]);u=Math.round(u[1]);m=this.pixelContext_;m||(m=document.createElement("canvas"),m.width=1,m.height=1,this.pixelContext_=m=m.getContext("2d"));m.clearRect(0,0,1,1);try{m.drawImage(z.canvas,b,u,1,1,0,0,1,1);var J=m.getImageData(0,0,1,1).data}catch(A){return"SecurityError"===A.name?(this.pixelContext_=null,new Uint8Array):J}return 0===J[3]?null:J};c.prototype.disposeInternal=function(){delete this.frameState;a.prototype.disposeInternal.call(this)};
return c}(sa.default);G.default=F};
shadow$provide[209]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.drawTextOnPath=function(n,v,r,h,k,f,e,d,a,c,b,m){function z(){J=u;A=C;v+=h;u=n[v];C=n[v+1];q+=x;x=Math.sqrt((u-J)*(u-J)+(C-A)*(C-A))}var u=n[v],C=n[v+1],J=0,A=0,x=0,q=0;do z();while(v<r-h&&q+x<f);for(var H=0===x?0:(f-q)/x,M=(0,y.lerp)(J,u,H),R=(0,y.lerp)(A,C,H),Z=v-h,T=q,ba=f+d*a(c,k,b);v<r-h&&q+x<ba;)z();H=0===x?0:(ba-q)/x;var aa=(0,y.lerp)(J,u,H);H=(0,y.lerp)(A,C,H);if(m){var W=[M,R,aa,H];(0,p.rotate)(W,0,
4,2,m,W,W);m=W[0]>W[2]}else m=M>aa;W=Math.PI;var X=[],P=Z+h===v;v=Z;x=0;q=T;u=n[v];C=n[v+1];if(P){z();var w=Math.atan2(C-A,u-J);m&&(w+=0<w?-W:W);X[0]=[(aa+M)/2,(H+R)/2,(ba-f)/2,w,k];return X}k=k.replace(/\n/g," ");M=0;for(R=k.length;M<R;){z();Z=Math.atan2(C-A,u-J);m&&(Z+=0<Z?-W:W);if(void 0!==w&&(w=Z-w,w+=w>W?-2*W:w<-W?2*W:0,Math.abs(w)>e))return null;w=Z;H=M;for(T=0;M<R;++M){ba=d*a(c,k[m?R-M-1:M],b);if(v+h<r&&q+x<f+T+ba/2)break;T+=ba}M!==H&&(aa=m?k.substring(R-H,R-M):k.substring(H,M),H=0===x?0:(f+
T/2-q)/x,ba=(0,y.lerp)(J,u,H),H=(0,y.lerp)(A,C,H),X.push([ba,H,T/2,Z,aa]),f+=T)}return X};var y=F(75),p=F(127)};
shadow$provide[210]=function(sa,F,ob,G){function y(x){return x[3].declutterBox}function p(x,q){"start"!==q&&"end"!==q||A.test(x)||(q="start"===q?"left":"right");return r.TEXT_ALIGN[q]}function n(x,q,H){0<H&&x.push("\n","");x.push(q,"");return x}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var v=function(x){return x&&x.__esModule?x:{default:x}}(F(197)),r=F(205),h=F(69),k=F(72),f=F(74),e=F(96),d=F(209),a=F(66),c=F(181),b=F(127),m=(0,f.createEmpty)(),z=[],u=[],C=[],J=[],A=new RegExp("["+
String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");sa=function(){function x(q,H,M,R){this.overlaps=M;this.pixelRatio=H;this.resolution=q;this.instructions=R.instructions;this.coordinates=R.coordinates;this.coordinateCache_={};this.renderedTransform_=(0,k.create)();
this.hitDetectionInstructions=R.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=R.fillStates||{};this.strokeStates=R.strokeStates||{};this.textStates=R.textStates||{};this.widths_={};this.labels_={}}x.prototype.createLabel=function(q,H,M,R){var Z=q+H+M+R;if(this.labels_[Z])return this.labels_[Z];var T=R?this.strokeStates[R]:null,ba=M?this.fillStates[M]:null;H=this.textStates[H];var aa=this.pixelRatio,W=[H.scale[0]*aa,H.scale[1]*aa],X=Array.isArray(q);aa=H.justify?
r.TEXT_ALIGN[H.justify]:p(Array.isArray(q)?q[0]:q,H.textAlign||e.defaultTextAlign);var P=R&&T.lineWidth?T.lineWidth:0;q=X?q:q.split("\n").reduce(n,[]);var w=(0,e.getTextDimensions)(H,q);X=w.widths;var B=w.heights,K=w.lineWidths,U=w.width+P,ka=[],da=(U+2)*W[0];w=(w.height+P)*W[1];da={width:0>da?Math.floor(da):Math.ceil(da),height:0>w?Math.floor(w):Math.ceil(w),contextInstructions:ka};1==W[0]&&1==W[1]||ka.push("scale",W);R&&(ka.push("strokeStyle",T.strokeStyle),ka.push("lineWidth",P),ka.push("lineCap",
T.lineCap),ka.push("lineJoin",T.lineJoin),ka.push("miterLimit",T.miterLimit),(h.WORKER_OFFSCREEN_CANVAS?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D).prototype.setLineDash&&(ka.push("setLineDash",[T.lineDash]),ka.push("lineDashOffset",T.lineDashOffset)));M&&ka.push("fillStyle",ba.fillStyle);ka.push("textBaseline","middle");ka.push("textAlign","center");T=.5-aa;ba=aa*U+T*P;W=[];w=[];for(var la=0,wa=0,Ua=0,hb=0,La,pa=0,Da=q.length;pa<Da;pa+=2){var Ma=q[pa];if("\n"===Ma)wa+=la,la=0,ba=
aa*U+T*P,++hb;else{var ua=q[pa+1]||H.font;ua!==La&&(R&&W.push("font",ua),M&&w.push("font",ua),La=ua);la=Math.max(la,B[Ua]);Ma=[Ma,ba+T*X[Ua]+aa*(X[Ua]-K[hb]),.5*(P+la)+wa];ba+=X[Ua];R&&W.push("strokeText",Ma);M&&w.push("fillText",Ma);++Ua}}Array.prototype.push.apply(ka,W);Array.prototype.push.apply(ka,w);return this.labels_[Z]=da};x.prototype.replayTextBackground_=function(q,H,M,R,Z,T,ba){q.beginPath();q.moveTo.apply(q,H);q.lineTo.apply(q,M);q.lineTo.apply(q,R);q.lineTo.apply(q,Z);q.lineTo.apply(q,
H);T&&(this.alignFill_=T[2],this.fill_(q));ba&&(this.setStrokeStyle_(q,ba),q.stroke())};x.prototype.calculateImageOrLabelDimensions_=function(q,H,M,R,Z,T,ba,aa,W,X,P,w,B,K,U,ka){ba*=w[0];aa*=w[1];ba=M-ba;aa=R-aa;q=Z+W>q?q-W:Z;H=T+X>H?H-X:T;T=K[3]+q*w[0]+K[1];Z=K[0]+H*w[1]+K[2];var da=ba-K[3];K=aa-K[0];if(U||0!==P)z[0]=da,J[0]=da,z[1]=K,u[1]=K,u[0]=da+T,C[0]=u[0],C[1]=K+Z,J[1]=C[1];if(0!==P){var la=(0,k.compose)((0,k.create)(),M,R,1,1,P,-M,-R);(0,k.apply)(la,z);(0,k.apply)(la,u);(0,k.apply)(la,C);
(0,k.apply)(la,J);(0,f.createOrUpdate)(Math.min(z[0],u[0],C[0],J[0]),Math.min(z[1],u[1],C[1],J[1]),Math.max(z[0],u[0],C[0],J[0]),Math.max(z[1],u[1],C[1],J[1]),m)}else(0,f.createOrUpdate)(Math.min(da,da+T),Math.min(K,K+Z),Math.max(da,da+T),Math.max(K,K+Z),m);B&&(ba=Math.round(ba),aa=Math.round(aa));return{drawImageX:ba,drawImageY:aa,drawImageW:q,drawImageH:H,originX:W,originY:X,declutterBox:{minX:m[0],minY:m[1],maxX:m[2],maxY:m[3],value:ka},canvasTransform:la,scale:w}};x.prototype.replayImageOrLabel_=
function(q,H,M,R,Z,T,ba){var aa=R.declutterBox,W=q.canvas,X=ba?ba[2]*R.scale[0]/2:0;aa.minX-X<=W.width/H&&0<=aa.maxX+X&&aa.minY-X<=W.height/H&&0<=aa.maxY+X&&((T||ba)&&this.replayTextBackground_(q,z,u,C,J,T,ba),(0,e.drawImageOrLabel)(q,R.canvasTransform,Z,M,R.originX,R.originY,R.drawImageW,R.drawImageH,R.drawImageX,R.drawImageY,R.scale));return!0};x.prototype.fill_=function(q){if(this.alignFill_){var H=(0,k.apply)(this.renderedTransform_,[0,0]),M=512*this.pixelRatio;q.save();q.translate(H[0]%M,H[1]%
M);q.rotate(this.viewRotation_)}q.fill();this.alignFill_&&q.restore()};x.prototype.setStrokeStyle_=function(q,H){q.strokeStyle=H[1];q.lineWidth=H[2];q.lineCap=H[3];q.lineJoin=H[4];q.miterLimit=H[5];q.setLineDash&&(q.lineDashOffset=H[7],q.setLineDash(H[6]))};x.prototype.drawLabelWithPointPlacement_=function(q,H,M,R){var Z=this.textStates[H];H=this.createLabel(q,H,R,M);R=this.strokeStates[M];M=this.pixelRatio;q=p(Array.isArray(q)?q[0]:q,Z.textAlign||e.defaultTextAlign);var T=r.TEXT_ALIGN[Z.textBaseline||
e.defaultTextBaseline];R=R&&R.lineWidth?R.lineWidth:0;return{label:H,anchorX:q*(H.width/M-2*Z.scale[0])+2*(.5-q)*R,anchorY:T*H.height/M+2*(.5-T)*R}};x.prototype.execute_=function(q,H,M,R,Z,T,ba,aa){if(this.pixelCoordinates_&&(0,a.equals)(M,this.renderedTransform_))var W=this.pixelCoordinates_;else this.pixelCoordinates_||(this.pixelCoordinates_=[]),W=(0,b.transform2D)(this.coordinates,0,this.coordinates.length,2,M,this.pixelCoordinates_),(0,k.setFromArray)(this.renderedTransform_,M);var X=0,P=R.length,
w,B=0,K=0,U=null,ka=null,da=this.coordinateCache_,la=this.viewRotation_;M=Math.round(1E12*Math.atan2(-M[1],M[0]))/1E12;for(var wa={context:q,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:la},Ua=this.instructions!=R||this.overlaps?0:200,hb,La;X<P;){var pa=R[X];switch(pa[0]){case v.default.BEGIN_GEOMETRY:hb=pa[1];La=pa[3];hb.getGeometry()?void 0===ba||(0,f.intersects)(ba,La.getExtent())?++X:X=pa[2]+1:X=pa[2];break;case v.default.BEGIN_PATH:B>Ua&&(this.fill_(q),B=0);K>Ua&&(q.stroke(),
K=0);if(!B&&!K){q.beginPath();var Da=w=NaN}++X;break;case v.default.CIRCLE:var Ma=pa[1];var ua=W[Ma];var Aa=W[Ma+1];var qa=W[Ma+2]-ua;Ma=W[Ma+3]-Aa;Ma=Math.sqrt(qa*qa+Ma*Ma);q.moveTo(ua+Ma,Aa);q.arc(ua,Aa,Ma,0,2*Math.PI,!0);++X;break;case v.default.CLOSE_PATH:q.closePath();++X;break;case v.default.CUSTOM:Ma=pa[1];var Ha=pa[2];ua=pa[4];Aa=6==pa.length?pa[5]:void 0;wa.geometry=pa[3];wa.feature=hb;X in da||(da[X]=[]);qa=da[X];Aa?Aa(W,Ma,Ha,2,qa):(qa[0]=W[Ma],qa[1]=W[Ma+1],qa.length=2);ua(qa,wa);++X;
break;case v.default.DRAW_IMAGE:Ma=pa[1];Ha=pa[2];qa=pa[3];ua=pa[4];Aa=pa[5];var Va=pa[6];var eb=pa[7],ta=pa[8],Qa=pa[9],oa=pa[10],Y=pa[11],ja=pa[12];var Ga=pa[13];var Wa=pa[14],cb=pa[15];!qa&&20<=pa.length&&(ua=pa[19],qa=pa[20],Va=pa[21],Ga=pa[22],Aa=this.drawLabelWithPointPlacement_(ua,qa,Va,Ga),qa=Aa.label,pa[3]=qa,ua=(Aa.anchorX-pa[23])*this.pixelRatio,pa[4]=ua,Aa=(Aa.anchorY-pa[24])*this.pixelRatio,pa[5]=Aa,Va=qa.height,pa[6]=Va,Ga=qa.width,pa[13]=Ga);var nb=void 0;25<pa.length&&(nb=pa[25]);
if(17<pa.length){var pb=pa[16];var Fb=pa[17];var nc=pa[18]}else pb=e.defaultPadding,nc=Fb=!1;oa&&M?Y+=la:oa||M||(Y-=la);for(oa=0;Ma<Ha;Ma+=2)if(!(nb&&nb[oa++]<Ga/this.pixelRatio)){pa=this.calculateImageOrLabelDimensions_(qa.width,qa.height,W[Ma],W[Ma+1],Ga,Va,ua,Aa,ta,Qa,Y,ja,Z,pb,Fb||nc,hb);var Lc=[q,H,qa,pa,eb,Fb?U:null,nc?ka:null];if(aa)if("none"===Wa)continue;else if("obstacle"===Wa){aa.insert(pa.declutterBox);continue}else{var Ac=void 0,yc=void 0;if(cb){yc=Ha-Ma;if(!cb[yc]){cb[yc]=Lc;continue}Ac=
cb[yc];delete cb[yc];yc=y(Ac);if(aa.collides(yc))continue}if(aa.collides(pa.declutterBox))continue;Ac&&(aa.insert(yc),this.replayImageOrLabel_.apply(this,Ac));aa.insert(pa.declutterBox)}this.replayImageOrLabel_.apply(this,Lc)}++X;break;case v.default.DRAW_CHARS:Aa=pa[1];Y=pa[2];Ma=pa[3];ja=pa[4];Ga=pa[5];Wa=pa[6];Qa=pa[7];Ha=pa[8];Va=pa[9];eb=pa[10];ua=pa[11];qa=pa[12];ta=[pa[13],pa[13]];cb=this.textStates[qa];pa=cb.font;Qa=[cb.scale[0]*Qa,cb.scale[1]*Qa];pa in this.widths_?cb=this.widths_[pa]:(cb=
{},this.widths_[pa]=cb);nb=(0,c.lineStringLength)(W,Aa,Y,2);pb=Math.abs(Qa[0])*(0,e.measureAndCacheTextWidth)(pa,ua,cb);if(ja||pb<=nb)a:if(ja=(0,d.drawTextOnPath)(W,Aa,Y,2,ua,(nb-pb)*r.TEXT_ALIGN[this.textStates[qa].textAlign],Wa,Math.abs(Qa[0]),e.measureAndCacheTextWidth,pa,cb,M?0:this.viewRotation_),ja){Y=[];if(Va)for(Wa=0,cb=ja.length;Wa<cb;++Wa){pa=ja[Wa];ua=pa[4];nb=this.createLabel(ua,qa,"",Va);ua=pa[2]+(0>Qa[0]?-eb:eb);Aa=Ma*nb.height+2*(.5-Ma)*eb*Qa[1]/Qa[0]-Ha;pa=this.calculateImageOrLabelDimensions_(nb.width,
nb.height,pa[0],pa[1],nb.width,nb.height,ua,Aa,0,0,pa[3],ta,!1,e.defaultPadding,!1,hb);if(aa&&aa.collides(pa.declutterBox))break a;Y.push([q,H,nb,pa,1,null,null])}if(Ga)for(Wa=0,cb=ja.length;Wa<cb;++Wa){pa=ja[Wa];ua=pa[4];nb=this.createLabel(ua,qa,Ga,"");ua=pa[2];Aa=Ma*nb.height-Ha;pa=this.calculateImageOrLabelDimensions_(nb.width,nb.height,pa[0],pa[1],nb.width,nb.height,ua,Aa,0,0,pa[3],ta,!1,e.defaultPadding,!1,hb);if(aa&&aa.collides(pa.declutterBox))break a;Y.push([q,H,nb,pa,1,null,null])}aa&&aa.load(Y.map(y));
Ma=0;for(ua=Y.length;Ma<ua;++Ma)this.replayImageOrLabel_.apply(this,Y[Ma])}++X;break;case v.default.END_GEOMETRY:if(void 0!==T&&(hb=pa[1],Ma=T(hb,La)))return Ma;++X;break;case v.default.FILL:Ua?B++:this.fill_(q);++X;break;case v.default.MOVE_TO_LINE_TO:Ma=pa[1];Ha=pa[2];qa=W[Ma];Va=W[Ma+1];ua=qa+.5|0;Aa=Va+.5|0;if(ua!==w||Aa!==Da)q.moveTo(qa,Va),w=ua,Da=Aa;for(Ma+=2;Ma<Ha;Ma+=2)if(qa=W[Ma],Va=W[Ma+1],ua=qa+.5|0,Aa=Va+.5|0,Ma==Ha-2||ua!==w||Aa!==Da)q.lineTo(qa,Va),w=ua,Da=Aa;++X;break;case v.default.SET_FILL_STYLE:U=
pa;this.alignFill_=pa[2];B&&(this.fill_(q),B=0,K&&(q.stroke(),K=0));q.fillStyle=pa[1];++X;break;case v.default.SET_STROKE_STYLE:ka=pa;K&&(q.stroke(),K=0);this.setStrokeStyle_(q,pa);++X;break;case v.default.STROKE:Ua?K++:q.stroke();++X;break;default:++X}}B&&this.fill_(q);K&&q.stroke()};x.prototype.execute=function(q,H,M,R,Z,T){this.viewRotation_=R;this.execute_(q,H,M,this.instructions,Z,void 0,void 0,T)};x.prototype.executeHitDetection=function(q,H,M,R,Z){this.viewRotation_=M;return this.execute_(q,
1,H,this.hitDetectionInstructions,!0,R,Z)};return x}();G.default=sa};
shadow$provide[211]=function(sa,F,ob,G){function y(a){if(void 0!==d[a])return d[a];for(var c=2*a+1,b=a*a,m=Array(b+1),z=0;z<=a;++z)for(var u=0;u<=a;++u){var C=z*z+u*u;if(C>b)break;var J=m[C];J||(J=[],m[C]=J);J.push(4*((a+z)*c+(a+u))+3);0<z&&J.push(4*((a-z)*c+(a+u))+3);0<u&&(J.push(4*((a+z)*c+(a-u))+3),0<z&&J.push(4*((a-z)*c+(a-u))+3))}c=[];z=0;for(b=m.length;z<b;++z)m[z]&&c.push.apply(c,m[z]);return d[a]=c}Object.defineProperty(G,"__esModule",{value:!0});G.getPixelIndexArray=y;G.default=void 0;var p=
function(a){return a&&a.__esModule?a:{default:a}}(F(210)),n=F(74),v=F(72),r=F(95),h=F(80),k=F(66),f=F(127),e="Polygon Circle LineString Image Text Default".split(" ");sa=function(){function a(c,b,m,z,u,C){this.maxExtent_=c;this.overlaps_=z;this.pixelRatio_=m;this.resolution_=b;this.renderBuffer_=C;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,v.create)();this.createExecutors_(u)}a.prototype.clip=function(c,b){b=this.getClipCoords(b);c.beginPath();c.moveTo(b[0],
b[1]);c.lineTo(b[2],b[3]);c.lineTo(b[4],b[5]);c.lineTo(b[6],b[7]);c.clip()};a.prototype.createExecutors_=function(c){for(var b in c){var m=this.executorsByZIndex_[b];void 0===m&&(m={},this.executorsByZIndex_[b]=m);var z=c[b],u;for(u in z)m[u]=new p.default(this.resolution_,this.pixelRatio_,this.overlaps_,z[u])}};a.prototype.hasExecutors=function(c){for(var b in this.executorsByZIndex_)for(var m=this.executorsByZIndex_[b],z=0,u=c.length;z<u;++z)if(c[z]in m)return!0;return!1};a.prototype.forEachFeatureAtCoordinate=
function(c,b,m,z,u,C){function J(aa,W){for(var X=H.getImageData(0,0,A,A).data,P=0,w=R.length;P<w;P++)if(0<X[R[P]]){if(!C||"Image"!==T&&"Text"!==T||-1!==C.indexOf(aa))if(P=(R[P]-3)/4,X=z-P%A,P=z-(P/A|0),aa=u(aa,W,X*X+P*P))return aa;H.clearRect(0,0,A,A);break}}z=Math.round(z);var A=2*z+1,x=(0,v.compose)(this.hitDetectionTransform_,z+.5,z+.5,1/b,-1/b,-m,-c[0],-c[1]),q=!this.hitDetectionContext_;q&&(this.hitDetectionContext_=(0,r.createCanvasContext2D)(A,A));var H=this.hitDetectionContext_;H.canvas.width!==
A||H.canvas.height!==A?(H.canvas.width=A,H.canvas.height=A):q||H.clearRect(0,0,A,A);if(void 0!==this.renderBuffer_){var M=(0,n.createEmpty)();(0,n.extendCoordinate)(M,c);(0,n.buffer)(M,b*(this.renderBuffer_+z),M)}var R=y(z);c=Object.keys(this.executorsByZIndex_).map(Number);c.sort(k.numberSafeCompareFunction);for(b=c.length-1;0<=b;--b){var Z=this.executorsByZIndex_[c[b].toString()];for(q=e.length-1;0<=q;--q){var T=e[q];var ba=Z[T];if(void 0!==ba&&(ba=ba.executeHitDetection(H,x,m,J,M)))return ba}}};
a.prototype.getClipCoords=function(c){var b=this.maxExtent_;if(!b)return null;var m=b[0],z=b[1],u=b[2];b=b[3];m=[m,z,m,b,u,b,u,z];(0,f.transform2D)(m,0,8,2,c,m);return m};a.prototype.isEmpty=function(){return(0,h.isEmpty)(this.executorsByZIndex_)};a.prototype.execute=function(c,b,m,z,u,C,J){var A=Object.keys(this.executorsByZIndex_).map(Number);A.sort(k.numberSafeCompareFunction);this.maxExtent_&&(c.save(),this.clip(c,m));C=C?C:e;var x,q;J&&A.reverse();var H=0;for(x=A.length;H<x;++H){var M=this.executorsByZIndex_[A[H].toString()];
var R=0;for(q=C.length;R<q;++R){var Z=M[C[R]];void 0!==Z&&Z.execute(c,b,m,z,u,J)}}this.maxExtent_&&c.restore()};return a}();var d={};G.default=sa};
shadow$provide[212]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(e){return e&&e.__esModule?e:{default:e}}(F(198));var y=F(190),p=F(72),n=F(96),v=F(66),r=F(74),h=F(127),k=F(129),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=
d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a,c,b,m,z,u,C){var J=e.call(this)||this;J.context_=a;J.pixelRatio_=c;J.extent_=b;J.transform_=m;J.viewRotation_=z;J.squaredTolerance_=u;J.userTransform_=C;J.contextFillState_=null;J.contextStrokeState_=null;J.contextTextState_=null;J.fillState_=null;J.strokeState_=null;J.image_=
null;J.imageAnchorX_=0;J.imageAnchorY_=0;J.imageHeight_=0;J.imageOpacity_=0;J.imageOriginX_=0;J.imageOriginY_=0;J.imageRotateWithView_=!1;J.imageRotation_=0;J.imageScale_=[0,0];J.imageWidth_=0;J.text_="";J.textOffsetX_=0;J.textOffsetY_=0;J.textRotateWithView_=!1;J.textRotation_=0;J.textScale_=[0,0];J.textFillState_=null;J.textStrokeState_=null;J.textState_=null;J.pixelCoordinates_=[];J.tmpLocalTransform_=(0,p.create)();return J}f(d,e);d.prototype.drawImages_=function(a,c,b,m){if(this.image_){a=(0,h.transform2D)(a,
c,b,m,this.transform_,this.pixelCoordinates_);c=this.context_;b=this.tmpLocalTransform_;m=c.globalAlpha;1!=this.imageOpacity_&&(c.globalAlpha=m*this.imageOpacity_);var z=this.imageRotation_;this.imageRotateWithView_&&(z+=this.viewRotation_);for(var u=0,C=a.length;u<C;u+=2){var J=a[u]-this.imageAnchorX_,A=a[u+1]-this.imageAnchorY_;0!==z||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(J+=this.imageAnchorX_,A+=this.imageAnchorY_,(0,p.compose)(b,J,A,1,1,z,-J,-A),c.setTransform.apply(c,b),c.translate(J,
A),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.setTransform(1,0,0,1,0,0)):c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,J,A,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(c.globalAlpha=m)}};d.prototype.drawText_=function(a,c,b,m){if(this.textState_&&""!==this.text_){this.textFillState_&&
this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);a=(0,h.transform2D)(a,c,b,m,this.transform_,this.pixelCoordinates_);var z=this.context_,u=this.textRotation_;for(this.textRotateWithView_&&(u+=this.viewRotation_);c<b;c+=m){var C=a[c]+this.textOffsetX_,J=a[c+1]+this.textOffsetY_;if(0!==u||1!=this.textScale_[0]||1!=this.textScale_[1]){var A=(0,p.compose)(this.tmpLocalTransform_,C,J,1,1,
u,-C,-J);z.setTransform.apply(z,A);z.translate(C,J);z.scale(this.textScale_[0],this.textScale_[1]);this.textStrokeState_&&z.strokeText(this.text_,0,0);this.textFillState_&&z.fillText(this.text_,0,0);z.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&z.strokeText(this.text_,C,J),this.textFillState_&&z.fillText(this.text_,C,J)}}};d.prototype.moveToLineTo_=function(a,c,b,m,z){var u=this.context_;a=(0,h.transform2D)(a,c,b,m,this.transform_,this.pixelCoordinates_);u.moveTo(a[0],a[1]);c=a.length;z&&
(c-=2);for(m=2;m<c;m+=2)u.lineTo(a[m],a[m+1]);z&&u.closePath();return b};d.prototype.drawRings_=function(a,c,b,m){for(var z=0,u=b.length;z<u;++z)c=this.moveToLineTo_(a,c,b[z],m,!0);return c};d.prototype.drawCircle=function(a){if((0,r.intersects)(this.extent_,a.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var c=(0,k.transformGeom2D)(a,this.transform_,this.pixelCoordinates_),
b=c[2]-c[0],m=c[3]-c[1];b=Math.sqrt(b*b+m*m);m=this.context_;m.beginPath();m.arc(c[0],c[1],b,0,2*Math.PI);this.fillState_&&m.fill();this.strokeState_&&m.stroke()}""!==this.text_&&this.drawText_(a.getCenter(),0,2,2)}};d.prototype.setStyle=function(a){this.setFillStrokeStyle(a.getFill(),a.getStroke());this.setImageStyle(a.getImage());this.setTextStyle(a.getText())};d.prototype.setTransform=function(a){this.transform_=a};d.prototype.drawGeometry=function(a){switch(a.getType()){case "Point":this.drawPoint(a);
break;case "LineString":this.drawLineString(a);break;case "Polygon":this.drawPolygon(a);break;case "MultiPoint":this.drawMultiPoint(a);break;case "MultiLineString":this.drawMultiLineString(a);break;case "MultiPolygon":this.drawMultiPolygon(a);break;case "GeometryCollection":this.drawGeometryCollection(a);break;case "Circle":this.drawCircle(a)}};d.prototype.drawFeature=function(a,c){(a=c.getGeometryFunction()(a))&&(0,r.intersects)(this.extent_,a.getExtent())&&(this.setStyle(c),this.drawGeometry(a))};
d.prototype.drawGeometryCollection=function(a){a=a.getGeometriesArray();for(var c=0,b=a.length;c<b;++c)this.drawGeometry(a[c])};d.prototype.drawPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var c=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(c,0,c.length,a);""!==this.text_&&this.drawText_(c,0,c.length,a)};d.prototype.drawMultiPoint=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,
this.userTransform_));var c=a.getFlatCoordinates();a=a.getStride();this.image_&&this.drawImages_(c,0,c.length,a);""!==this.text_&&this.drawText_(c,0,c.length,a)};d.prototype.drawLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,r.intersects)(this.extent_,a.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var c=this.context_,b=a.getFlatCoordinates();c.beginPath();this.moveToLineTo_(b,0,b.length,
a.getStride(),!1);c.stroke()}""!==this.text_&&(a=a.getFlatMidpoint(),this.drawText_(a,0,2,2))}};d.prototype.drawMultiLineString=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var c=a.getExtent();if((0,r.intersects)(this.extent_,c)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);c=this.context_;var b=a.getFlatCoordinates(),m=0,z=a.getEnds(),u=a.getStride();c.beginPath();for(var C=0,J=z.length;C<J;++C)m=this.moveToLineTo_(b,
m,z[C],u,!1);c.stroke()}""!==this.text_&&(a=a.getFlatMidpoints(),this.drawText_(a,0,a.length,2))}};d.prototype.drawPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,r.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var c=this.context_;c.beginPath();this.drawRings_(a.getOrientedFlatCoordinates(),
0,a.getEnds(),a.getStride());this.fillState_&&c.fill();this.strokeState_&&c.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoint(),this.drawText_(a,0,2,2))}};d.prototype.drawMultiPolygon=function(a){this.squaredTolerance_&&(a=a.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,r.intersects)(this.extent_,a.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);
var c=this.context_,b=a.getOrientedFlatCoordinates(),m=0,z=a.getEndss(),u=a.getStride();c.beginPath();for(var C=0,J=z.length;C<J;++C)m=this.drawRings_(b,m,z[C],u);this.fillState_&&c.fill();this.strokeState_&&c.stroke()}""!==this.text_&&(a=a.getFlatInteriorPoints(),this.drawText_(a,0,a.length,2))}};d.prototype.setContextFillState_=function(a){var c=this.context_,b=this.contextFillState_;b?b.fillStyle!=a.fillStyle&&(b.fillStyle=a.fillStyle,c.fillStyle=a.fillStyle):(c.fillStyle=a.fillStyle,this.contextFillState_=
{fillStyle:a.fillStyle})};d.prototype.setContextStrokeState_=function(a){var c=this.context_,b=this.contextStrokeState_;b?(b.lineCap!=a.lineCap&&(b.lineCap=a.lineCap,c.lineCap=a.lineCap),c.setLineDash&&((0,v.equals)(b.lineDash,a.lineDash)||c.setLineDash(b.lineDash=a.lineDash),b.lineDashOffset!=a.lineDashOffset&&(b.lineDashOffset=a.lineDashOffset,c.lineDashOffset=a.lineDashOffset)),b.lineJoin!=a.lineJoin&&(b.lineJoin=a.lineJoin,c.lineJoin=a.lineJoin),b.lineWidth!=a.lineWidth&&(b.lineWidth=a.lineWidth,
c.lineWidth=a.lineWidth),b.miterLimit!=a.miterLimit&&(b.miterLimit=a.miterLimit,c.miterLimit=a.miterLimit),b.strokeStyle!=a.strokeStyle&&(b.strokeStyle=a.strokeStyle,c.strokeStyle=a.strokeStyle)):(c.lineCap=a.lineCap,c.setLineDash&&(c.setLineDash(a.lineDash),c.lineDashOffset=a.lineDashOffset),c.lineJoin=a.lineJoin,c.lineWidth=a.lineWidth,c.miterLimit=a.miterLimit,c.strokeStyle=a.strokeStyle,this.contextStrokeState_={lineCap:a.lineCap,lineDash:a.lineDash,lineDashOffset:a.lineDashOffset,lineJoin:a.lineJoin,
lineWidth:a.lineWidth,miterLimit:a.miterLimit,strokeStyle:a.strokeStyle})};d.prototype.setContextTextState_=function(a){var c=this.context_,b=this.contextTextState_,m=a.textAlign?a.textAlign:n.defaultTextAlign;b?(b.font!=a.font&&(b.font=a.font,c.font=a.font),b.textAlign!=m&&(b.textAlign=m,c.textAlign=m),b.textBaseline!=a.textBaseline&&(b.textBaseline=a.textBaseline,c.textBaseline=a.textBaseline)):(c.font=a.font,c.textAlign=m,c.textBaseline=a.textBaseline,this.contextTextState_={font:a.font,textAlign:m,
textBaseline:a.textBaseline})};d.prototype.setFillStrokeStyle=function(a,c){var b=this;a?(a=a.getColor(),this.fillState_={fillStyle:(0,y.asColorLike)(a?a:n.defaultFillStyle)}):this.fillState_=null;if(c){a=c.getColor();var m=c.getLineCap(),z=c.getLineDash(),u=c.getLineDashOffset(),C=c.getLineJoin(),J=c.getWidth();c=c.getMiterLimit();z=z?z:n.defaultLineDash;this.strokeState_={lineCap:void 0!==m?m:n.defaultLineCap,lineDash:1===this.pixelRatio_?z:z.map(function(A){return A*b.pixelRatio_}),lineDashOffset:(u?
u:n.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==C?C:n.defaultLineJoin,lineWidth:(void 0!==J?J:n.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==c?c:n.defaultMiterLimit,strokeStyle:(0,y.asColorLike)(a?a:n.defaultStrokeStyle)}}else this.strokeState_=null};d.prototype.setImageStyle=function(a){var c;if(a&&(c=a.getSize())){var b=a.getAnchor(),m=a.getOrigin();this.image_=a.getImage(this.pixelRatio_);this.imageAnchorX_=b[0]*this.pixelRatio_;this.imageAnchorY_=b[1]*this.pixelRatio_;
this.imageHeight_=c[1]*this.pixelRatio_;this.imageOpacity_=a.getOpacity();this.imageOriginX_=m[0];this.imageOriginY_=m[1];this.imageRotateWithView_=a.getRotateWithView();this.imageRotation_=a.getRotation();this.imageScale_=a.getScaleArray();this.imageWidth_=c[0]*this.pixelRatio_}else this.image_=null};d.prototype.setTextStyle=function(a){if(a){var c=a.getFill();c?(c=c.getColor(),this.textFillState_={fillStyle:(0,y.asColorLike)(c?c:n.defaultFillStyle)}):this.textFillState_=null;var b=a.getStroke();
if(b){c=b.getColor();var m=b.getLineCap(),z=b.getLineDash(),u=b.getLineDashOffset(),C=b.getLineJoin(),J=b.getWidth();b=b.getMiterLimit();this.textStrokeState_={lineCap:void 0!==m?m:n.defaultLineCap,lineDash:z?z:n.defaultLineDash,lineDashOffset:u?u:n.defaultLineDashOffset,lineJoin:void 0!==C?C:n.defaultLineJoin,lineWidth:void 0!==J?J:n.defaultLineWidth,miterLimit:void 0!==b?b:n.defaultMiterLimit,strokeStyle:(0,y.asColorLike)(c?c:n.defaultStrokeStyle)}}else this.textStrokeState_=null;c=a.getFont();
m=a.getOffsetX();z=a.getOffsetY();u=a.getRotateWithView();C=a.getRotation();J=a.getScaleArray();b=a.getText();var A=a.getTextAlign();a=a.getTextBaseline();this.textState_={font:void 0!==c?c:n.defaultFont,textAlign:void 0!==A?A:n.defaultTextAlign,textBaseline:void 0!==a?a:n.defaultTextBaseline};this.text_=void 0!==b?Array.isArray(b)?b.reduce(function(x,q,H){return x+(H%2?" ":q)},""):b:"";this.textOffsetX_=void 0!==m?this.pixelRatio_*m:0;this.textOffsetY_=void 0!==z?this.pixelRatio_*z:0;this.textRotateWithView_=
void 0!==u?u:!1;this.textRotation_=void 0!==C?C:0;this.textScale_=[this.pixelRatio_*J[0],this.pixelRatio_*J[1]]}else this.text_=""};return d}(sa.default);G.default=F};
shadow$provide[213]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={FRACTION:"fraction",PIXELS:"pixels"}};
shadow$provide[214]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}};
shadow$provide[215]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(81));var p=y(F(82)),n=F(68),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k,f,e,d){var a=r.call(this)||this;a.extent=k;a.pixelRatio_=e;a.resolution=f;a.state=d;return a}v(h,r);h.prototype.changed=function(){this.dispatchEvent(p.default.CHANGE)};h.prototype.getExtent=function(){return this.extent};h.prototype.getImage=function(){return(0,n.abstract)()};h.prototype.getPixelRatio=function(){return this.pixelRatio_};h.prototype.getResolution=
function(){return this.resolution};h.prototype.getState=function(){return this.state};h.prototype.load=function(){(0,n.abstract)()};return h}(sa.default);G.default=F};
shadow$provide[216]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}function p(e,d,a){var c=!0,b=!1,m=!1,z=[(0,k.listenOnce)(e,n.default.LOAD,function(){m=!0;b||d()})];e.src&&r.IMAGE_DECODE?(b=!0,e.decode().then(function(){c&&d()}).catch(function(u){c&&(m?d():a())})):z.push((0,k.listenOnce)(e,n.default.ERROR,a));return function(){c=!1;z.forEach(k.unlistenByKey)}}Object.defineProperty(G,"__esModule",{value:!0});G.listenImage=p;G.default=void 0;var n=y(F(82));sa=y(F(215));var v=
y(F(188)),r=F(69),h=F(74),k=F(83),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();
F=function(e){function d(a,c,b,m,z,u){a=e.call(this,a,c,b,v.default.IDLE)||this;a.src_=m;a.image_=new Image;null!==z&&(a.image_.crossOrigin=z);a.unlisten_=null;a.state=v.default.IDLE;a.imageLoadFunction_=u;return a}f(d,e);d.prototype.getImage=function(){return this.image_};d.prototype.handleImageError_=function(){this.state=v.default.ERROR;this.unlistenImage_();this.changed()};d.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,h.getHeight)(this.extent)/this.image_.height);
this.state=v.default.LOADED;this.unlistenImage_();this.changed()};d.prototype.load=function(){if(this.state==v.default.IDLE||this.state==v.default.ERROR)this.state=v.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=p(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))};d.prototype.setImage=function(a){this.image_=a;this.resolution=(0,h.getHeight)(this.extent)/this.image_.height};d.prototype.unlistenImage_=function(){this.unlisten_&&
(this.unlisten_(),this.unlisten_=null)};return d}(sa.default);G.default=F};
shadow$provide[217]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.get=function(a,c,b,m,z,u){var C=h.shared.get(c,m,u);C||(C=new d(a,c,b,m,z,u),h.shared.set(c,m,u,C));return C};G.default=void 0;sa=y(F(81));var p=y(F(82)),n=y(F(188)),v=F(76),r=F(95),h=F(77),k=F(216),f=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,
u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}(),e=null,d=function(a){function c(b,m,z,u,C,J){var A=a.call(this)||this;A.hitDetectionImage_=null;A.image_=b?b:new Image;null!==u&&(A.image_.crossOrigin=u);A.canvas_={};A.color_=J;A.unlisten_=null;A.imageState_=C;A.size_=
z;A.src_=m;return A}f(c,a);c.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===n.default.LOADED){e||(e=(0,r.createCanvasContext2D)(1,1));e.drawImage(this.image_,0,0);try{e.getImageData(0,0,1,1),this.tainted_=!1}catch(b){e=null,this.tainted_=!0}}return!0===this.tainted_};c.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(p.default.CHANGE)};c.prototype.handleImageError_=function(){this.imageState_=n.default.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};
c.prototype.handleImageLoad_=function(){this.imageState_=n.default.LOADED;this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()};c.prototype.getImage=function(b){this.replaceColor_(b);return this.canvas_[b]?this.canvas_[b]:this.image_};c.prototype.getPixelRatio=function(b){this.replaceColor_(b);return this.canvas_[b]?b:1};c.prototype.getImageState=function(){return this.imageState_};
c.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var b=this.size_[0],m=this.size_[1],z=(0,r.createCanvasContext2D)(b,m);z.fillRect(0,0,b,m);this.hitDetectionImage_=z.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_};c.prototype.getSize=function(){return this.size_};c.prototype.getSrc=function(){return this.src_};c.prototype.load=function(){if(this.imageState_==n.default.IDLE){this.imageState_=n.default.LOADING;try{this.image_.src=
this.src_}catch(b){this.handleImageError_()}this.unlisten_=(0,k.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}};c.prototype.replaceColor_=function(b){if(this.color_&&!this.canvas_[b]&&this.imageState_===n.default.LOADED){var m=document.createElement("canvas");this.canvas_[b]=m;m.width=Math.ceil(this.image_.width*b);m.height=Math.ceil(this.image_.height*b);var z=m.getContext("2d");z.scale(b,b);z.drawImage(this.image_,0,0);z.globalCompositeOperation="multiply";
if("multiply"===z.globalCompositeOperation||this.isTainted_())z.fillStyle=(0,v.asString)(this.color_),z.fillRect(0,0,m.width/b,m.height/b),z.globalCompositeOperation="destination-in",z.drawImage(this.image_,0,0);else{b=z.getImageData(0,0,m.width,m.height);m=b.data;for(var u=this.color_[0]/255,C=this.color_[1]/255,J=this.color_[2]/255,A=this.color_[3],x=0,q=m.length;x<q;x+=4)m[x]*=u,m[x+1]*=C,m[x+2]*=J,m[x+3]*=A;z.putImageData(b,0,0)}}};c.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),
this.unlisten_=null)};return c}(sa.default);G.default=d};
shadow$provide[218]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(82)),n=y(F(213)),v=y(F(214)),r=y(F(188));sa=y(F(189));var h=F(76),k=F(71),f=F(217),e=F(68),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();F=function(a){function c(b){var m=b||{};b=a.call(this,{opacity:void 0!==m.opacity?m.opacity:1,rotation:void 0!==m.rotation?m.rotation:0,scale:void 0!==m.scale?m.scale:1,displacement:void 0!==m.displacement?m.displacement:[0,0],rotateWithView:void 0!==m.rotateWithView?m.rotateWithView:!1,declutterMode:m.declutterMode})||
this;b.anchor_=void 0!==m.anchor?m.anchor:[.5,.5];b.normalizedAnchor_=null;b.anchorOrigin_=void 0!==m.anchorOrigin?m.anchorOrigin:v.default.TOP_LEFT;b.anchorXUnits_=void 0!==m.anchorXUnits?m.anchorXUnits:n.default.FRACTION;b.anchorYUnits_=void 0!==m.anchorYUnits?m.anchorYUnits:n.default.FRACTION;b.crossOrigin_=void 0!==m.crossOrigin?m.crossOrigin:null;var z=void 0!==m.img?m.img:null;b.imgSize_=m.imgSize;var u=m.src;(0,k.assert)(!(void 0!==u&&z),4);(0,k.assert)(!z||z&&b.imgSize_,5);void 0!==u&&0!==
u.length||!z||(u=z.src||(0,e.getUid)(z));(0,k.assert)(void 0!==u&&0<u.length,6);var C=void 0!==m.src?r.default.IDLE:r.default.LOADED;b.color_=void 0!==m.color?(0,h.asArray)(m.color):null;b.iconImage_=(0,f.get)(z,u,void 0!==b.imgSize_?b.imgSize_:null,b.crossOrigin_,C,b.color_);b.offset_=void 0!==m.offset?m.offset:[0,0];b.offsetOrigin_=void 0!==m.offsetOrigin?m.offsetOrigin:v.default.TOP_LEFT;b.origin_=null;b.size_=void 0!==m.size?m.size:null;return b}d(c,a);c.prototype.clone=function(){var b=this.getScale();
return new c({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(b)?b.slice():b,size:null!==this.size_?this.size_.slice():void 0,
src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})};c.prototype.getAnchor=function(){var b=this.normalizedAnchor_;if(!b){b=this.anchor_;var m=this.getSize();if(this.anchorXUnits_==n.default.FRACTION||this.anchorYUnits_==n.default.FRACTION){if(!m)return null;b=this.anchor_.slice();this.anchorXUnits_==n.default.FRACTION&&(b[0]*=m[0]);this.anchorYUnits_==n.default.FRACTION&&(b[1]*=m[1])}if(this.anchorOrigin_!=v.default.TOP_LEFT){if(!m)return null;b===
this.anchor_&&(b=this.anchor_.slice());if(this.anchorOrigin_==v.default.TOP_RIGHT||this.anchorOrigin_==v.default.BOTTOM_RIGHT)b[0]=-b[0]+m[0];if(this.anchorOrigin_==v.default.BOTTOM_LEFT||this.anchorOrigin_==v.default.BOTTOM_RIGHT)b[1]=-b[1]+m[1]}this.normalizedAnchor_=b}m=this.getDisplacement();return[b[0]-m[0],b[1]+m[1]]};c.prototype.setAnchor=function(b){this.anchor_=b;this.normalizedAnchor_=null};c.prototype.getColor=function(){return this.color_};c.prototype.getImage=function(b){return this.iconImage_.getImage(b)};
c.prototype.getPixelRatio=function(b){return this.iconImage_.getPixelRatio(b)};c.prototype.getImageSize=function(){return this.iconImage_.getSize()};c.prototype.getImageState=function(){return this.iconImage_.getImageState()};c.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()};c.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var b=this.offset_;if(this.offsetOrigin_!=v.default.TOP_LEFT){var m=this.getSize(),z=this.iconImage_.getSize();if(!m||
!z)return null;b=b.slice();if(this.offsetOrigin_==v.default.TOP_RIGHT||this.offsetOrigin_==v.default.BOTTOM_RIGHT)b[0]=z[0]-m[0]-b[0];if(this.offsetOrigin_==v.default.BOTTOM_LEFT||this.offsetOrigin_==v.default.BOTTOM_RIGHT)b[1]=z[1]-m[1]-b[1]}return this.origin_=b};c.prototype.getSrc=function(){return this.iconImage_.getSrc()};c.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()};c.prototype.listenImageChange=function(b){this.iconImage_.addEventListener(p.default.CHANGE,
b)};c.prototype.load=function(){this.iconImage_.load()};c.prototype.unlistenImageChange=function(b){this.iconImage_.removeEventListener(p.default.CHANGE,b)};return c}(sa.default);G.default=F};
shadow$provide[219]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(193)),n=y(F(203)),v=F(145);sa=function(){function r(h){h=h||{};this.font_=h.font;this.rotation_=h.rotation;this.rotateWithView_=h.rotateWithView;this.scale_=h.scale;this.scaleArray_=(0,v.toSize)(void 0!==h.scale?h.scale:1);this.text_=h.text;this.textAlign_=h.textAlign;this.justify_=h.justify;this.textBaseline_=h.textBaseline;this.fill_=
void 0!==h.fill?h.fill:new p.default({color:"#333"});this.maxAngle_=void 0!==h.maxAngle?h.maxAngle:Math.PI/4;this.placement_=void 0!==h.placement?h.placement:n.default.POINT;this.overflow_=!!h.overflow;this.stroke_=void 0!==h.stroke?h.stroke:null;this.offsetX_=void 0!==h.offsetX?h.offsetX:0;this.offsetY_=void 0!==h.offsetY?h.offsetY:0;this.backgroundFill_=h.backgroundFill?h.backgroundFill:null;this.backgroundStroke_=h.backgroundStroke?h.backgroundStroke:null;this.padding_=void 0===h.padding?null:
h.padding}r.prototype.clone=function(){var h=this.getScale();return new r({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(h)?h.slice():h,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,
offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})};r.prototype.getOverflow=function(){return this.overflow_};r.prototype.getFont=function(){return this.font_};r.prototype.getMaxAngle=function(){return this.maxAngle_};r.prototype.getPlacement=function(){return this.placement_};r.prototype.getOffsetX=
function(){return this.offsetX_};r.prototype.getOffsetY=function(){return this.offsetY_};r.prototype.getFill=function(){return this.fill_};r.prototype.getRotateWithView=function(){return this.rotateWithView_};r.prototype.getRotation=function(){return this.rotation_};r.prototype.getScale=function(){return this.scale_};r.prototype.getScaleArray=function(){return this.scaleArray_};r.prototype.getStroke=function(){return this.stroke_};r.prototype.getText=function(){return this.text_};r.prototype.getTextAlign=
function(){return this.textAlign_};r.prototype.getJustify=function(){return this.justify_};r.prototype.getTextBaseline=function(){return this.textBaseline_};r.prototype.getBackgroundFill=function(){return this.backgroundFill_};r.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};r.prototype.getPadding=function(){return this.padding_};r.prototype.setOverflow=function(h){this.overflow_=h};r.prototype.setFont=function(h){this.font_=h};r.prototype.setMaxAngle=function(h){this.maxAngle_=
h};r.prototype.setOffsetX=function(h){this.offsetX_=h};r.prototype.setOffsetY=function(h){this.offsetY_=h};r.prototype.setPlacement=function(h){this.placement_=h};r.prototype.setRotateWithView=function(h){this.rotateWithView_=h};r.prototype.setFill=function(h){this.fill_=h};r.prototype.setRotation=function(h){this.rotation_=h};r.prototype.setScale=function(h){this.scale_=h;this.scaleArray_=(0,v.toSize)(void 0!==h?h:1)};r.prototype.setStroke=function(h){this.stroke_=h};r.prototype.setText=function(h){this.text_=
h};r.prototype.setTextAlign=function(h){this.textAlign_=h};r.prototype.setJustify=function(h){this.justify_=h};r.prototype.setTextBaseline=function(h){this.textBaseline_=h};r.prototype.setBackgroundFill=function(h){this.backgroundFill_=h};r.prototype.setBackgroundStroke=function(h){this.backgroundStroke_=h};r.prototype.setPadding=function(h){this.padding_=h};return r}();G.default=sa};
shadow$provide[220]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});Object.defineProperty(G,"Circle",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(G,"Fill",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(G,"Icon",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"IconImage",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,"Image",
{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"RegularShape",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"Stroke",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(G,"Style",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(G,"Text",{enumerable:!0,get:function(){return d.default}});var p=y(F(192)),n=y(F(193)),v=y(F(218)),r=y(F(217)),h=y(F(189)),k=y(F(191)),f=y(F(194)),e=y(F(195)),d=y(F(219))};
shadow$provide[221]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.createHitDetectionImageData=function(d,a,c,b,m,z,u){d=(0,h.createCanvasContext2D)(d[0]*e,d[1]*e);d.imageSmoothingEnabled=!1;var C=d.canvas;u=new p.default(d,e,m,null,u);for(var J=c.length,A=Math.floor(16777215/J),x={},q=1;q<=J;++q){var H=c[q-1],M=H.getStyleFunction()||b;if(b){var R=M(H,z);if(R){Array.isArray(R)||(R=[R]);var Z="#"+("000000"+(q*A).toString(16)).slice(-6);
M=0;for(var T=R.length;M<T;++M){var ba=R[M],aa=ba.getGeometryFunction()(H);if(aa&&(0,k.intersects)(m,aa.getExtent())){var W=ba.clone(),X=W.getFill();X&&X.setColor(Z);if(X=W.getStroke())X.setColor(Z),X.setLineDash(null);W.setText(void 0);if((ba=ba.getImage())&&0!==ba.getOpacity()){X=ba.getImageSize();if(!X)continue;var P=(0,h.createCanvasContext2D)(X[0],X[1],void 0,{alpha:!1}),w=P.canvas;P.fillStyle=Z;P.fillRect(0,0,w.width,w.height);W.setImage(new v.Icon({img:w,imgSize:X,anchor:ba.getAnchor(),anchorXUnits:n.default.PIXELS,
anchorYUnits:n.default.PIXELS,offset:ba.getOrigin(),opacity:1,size:ba.getSize(),scale:ba.getScale(),rotation:ba.getRotation(),rotateWithView:ba.getRotateWithView()}))}X=W.getZIndex()||0;ba=x[X];ba||(ba={},x[X]=ba,ba.Polygon=[],ba.Circle=[],ba.LineString=[],ba.Point=[]);ba[aa.getType().replace("Multi","")].push(aa,W)}}}}}c=Object.keys(x).map(Number).sort(f.numberSafeCompareFunction);q=0;for(b=c.length;q<b;++q){ba=x[c[q]];for(var B in ba)for(m=ba[B],M=0,T=m.length;M<T;M+=2)for(u.setStyle(m[M+1]),z=
0,J=a.length;z<J;++z)u.setTransform(a[z]),u.drawGeometry(m[M])}return d.getImageData(0,0,C.width,C.height)};G.hitDetect=function(d,a,c){var b=[];if(c){var m=Math.floor(Math.round(d[1])*e);d=4*((0,r.clamp)(Math.floor(Math.round(d[0])*e),0,c.width-1)+(0,r.clamp)(m,0,c.height-1)*c.width);c=c.data[d+2]+256*(c.data[d+1]+256*c.data[d]);d=Math.floor(16777215/a.length);c&&0===c%d&&b.push(a[c/d-1])}return b};G.HIT_DETECT_RESOLUTION=void 0;var p=y(F(212)),n=y(F(213)),v=F(220),r=F(75),h=F(95),k=F(74),f=F(66),
e=.5;G.HIT_DETECT_RESOLUTION=e};
shadow$provide[222]=function(sa,F,ob,G){function y(h,k,f,e){if("GeometryCollection"==k.getType()){k=k.getGeometries();for(var d=0,a=k.length;d<a;++d)y(h,k[d],f,e)}else h.getBuilder(f.getZIndex(),"Default").drawCustom(k,e,f.getRenderer(),f.getHitDetectionRenderer())}Object.defineProperty(G,"__esModule",{value:!0});G.defaultOrder=function(h,k){return parseInt((0,n.getUid)(h),10)-parseInt((0,n.getUid)(k),10)};G.getSquaredTolerance=function(h,k){h=v*h/k;return h*h};G.getTolerance=function(h,k){return v*
h/k};G.renderFeature=function(h,k,f,e,d,a,c){var b=!1,m=f.getImage();if(m){var z=m.getImageState();z==p.default.LOADED||z==p.default.ERROR?m.unlistenImageChange(d):(z==p.default.IDLE&&m.load(),m.listenImageChange(d),b=!0)}if(d=f.getGeometryFunction()(k))if(e=d.simplifyTransformed(e,a),f.getRenderer())y(h,e,f,k);else(0,r[e.getType()])(h,e,f,k,c);return b};var p=function(h){return h&&h.__esModule?h:{default:h}}(F(188)),n=F(68),v=.5,r={Point:function(h,k,f,e,d){var a=f.getImage(),c=f.getText(),b;if(a){if(a.getImageState()!=
p.default.LOADED)return;var m=h;if(d){var z=a.getDeclutterMode();"none"!==z&&(m=d,"obstacle"===z?(z=h.getBuilder(f.getZIndex(),"Image"),z.setImageStyle(a,b),z.drawPoint(k,e)):c&&c.getText()&&(b={}))}m=m.getBuilder(f.getZIndex(),"Image");m.setImageStyle(a,b);m.drawPoint(k,e)}c&&c.getText()&&(d&&(h=d),f=h.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(c,b),f.drawText(k,e))},LineString:function(h,k,f,e,d){var a=f.getStroke();if(a){var c=h.getBuilder(f.getZIndex(),"LineString");c.setFillStrokeStyle(null,
a);c.drawLineString(k,e)}(a=f.getText())&&a.getText()&&(h=(d||h).getBuilder(f.getZIndex(),"Text"),h.setTextStyle(a),h.drawText(k,e))},Polygon:function(h,k,f,e,d){var a=f.getFill(),c=f.getStroke();if(a||c){var b=h.getBuilder(f.getZIndex(),"Polygon");b.setFillStrokeStyle(a,c);b.drawPolygon(k,e)}(a=f.getText())&&a.getText()&&(h=(d||h).getBuilder(f.getZIndex(),"Text"),h.setTextStyle(a),h.drawText(k,e))},MultiPoint:function(h,k,f,e,d){var a=f.getImage(),c=f.getText(),b;if(a){if(a.getImageState()!=p.default.LOADED)return;
var m=h;if(d){var z=a.getDeclutterMode();"none"!==z&&(m=d,"obstacle"===z?(z=h.getBuilder(f.getZIndex(),"Image"),z.setImageStyle(a,b),z.drawMultiPoint(k,e)):c&&c.getText()&&(b={}))}m=m.getBuilder(f.getZIndex(),"Image");m.setImageStyle(a,b);m.drawMultiPoint(k,e)}c&&c.getText()&&(d&&(h=d),f=h.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(c,b),f.drawText(k,e))},MultiLineString:function(h,k,f,e,d){var a=f.getStroke();if(a){var c=h.getBuilder(f.getZIndex(),"LineString");c.setFillStrokeStyle(null,a);c.drawMultiLineString(k,
e)}(a=f.getText())&&a.getText()&&(h=(d||h).getBuilder(f.getZIndex(),"Text"),h.setTextStyle(a),h.drawText(k,e))},MultiPolygon:function(h,k,f,e,d){var a=f.getFill(),c=f.getStroke();if(c||a){var b=h.getBuilder(f.getZIndex(),"Polygon");b.setFillStrokeStyle(a,c);b.drawMultiPolygon(k,e)}(a=f.getText())&&a.getText()&&(h=(d||h).getBuilder(f.getZIndex(),"Text"),h.setTextStyle(a),h.drawText(k,e))},GeometryCollection:function(h,k,f,e,d){k=k.getGeometriesArray();var a;var c=0;for(a=k.length;c<a;++c)(0,r[k[c].getType()])(h,
k[c],f,e,d)},Circle:function(h,k,f,e,d){var a=f.getFill(),c=f.getStroke();if(a||c){var b=h.getBuilder(f.getZIndex(),"Circle");b.setFillStrokeStyle(a,c);b.drawCircle(k,e)}(a=f.getText())&&a.getText()&&(h=(d||h).getBuilder(f.getZIndex(),"Text"),h.setTextStyle(a),h.drawText(k,e))}}};
shadow$provide[223]=function(sa,F,ob,G){function y(C){if("function"!==typeof WeakMap)return null;var J=new WeakMap,A=new WeakMap;return(y=function(x){return x?A:J})(C)}function p(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(206)),v=function(C,J){if(!J&&C&&C.__esModule)return C;if(null===C||"object"!==typeof C&&"function"!==typeof C)return{default:C};if((J=y(J))&&J.has(C))return J.get(C);var A={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,
q;for(q in C)if("default"!==q&&Object.prototype.hasOwnProperty.call(C,q)){var H=x?Object.getOwnPropertyDescriptor(C,q):null;H&&(H.get||H.set)?Object.defineProperty(A,q,H):A[q]=C[q]}A.default=C;J&&J.set(C,A);return A}(F(208)),r=p(F(211)),h=p(F(112)),k=F(221),f=F(72),e=F(74),d=F(95),a=F(222),c=F(66),b=F(121),m=F(68),z=F(91),u=function(){var C=function(J,A){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,
H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}();sa=function(C){function J(A){A=C.call(this,A)||this;A.boundHandleStyleImageChange_=A.handleStyleImageChange_.bind(A);A.hitDetectionImageData_=null;A.renderedFeatures_=null;A.renderedRevision_=-1;A.renderedResolution_=
NaN;A.renderedExtent_=(0,e.createEmpty)();A.wrappedRenderedExtent_=(0,e.createEmpty)();A.renderedCenter_=null;A.renderedProjection_=null;A.renderedRenderOrder_=null;A.replayGroup_=null;A.replayGroupChanged=!0;A.declutterExecutorGroup=null;A.clipping=!0;A.compositionContext_=null;A.opacity_=1;return A}u(J,C);J.prototype.renderWorlds=function(A,x,q){var H=x.extent,M=x.viewState,R=M.center,Z=M.resolution,T=M.projection;M=M.rotation;var ba=T.getExtent(),aa=this.getLayer().getSource(),W=x.pixelRatio,X=
x.viewHints;X=!(X[h.default.ANIMATING]||X[h.default.INTERACTING]);var P=this.compositionContext_,w=Math.round(x.size[0]*W);x=Math.round(x.size[1]*W);var B=aa.getWrapX()&&T.canWrapX();T=B?(0,e.getWidth)(ba):null;aa=B?Math.ceil((H[2]-ba[2])/T)+1:1;H=B?Math.floor((H[0]-ba[0])/T):0;do ba=this.getRenderTransform(R,Z,M,W,w,x,H*T),A.execute(P,1,ba,M,X,void 0,q);while(++H<aa)};J.prototype.setupCompositionContext_=function(){this.compositionContext_=1!==this.opacity_?(0,d.createCanvasContext2D)(this.context.canvas.width,
this.context.canvas.height,v.canvasPool):this.context};J.prototype.releaseCompositionContext_=function(){if(1!==this.opacity_){var A=this.context.globalAlpha;this.context.globalAlpha=this.opacity_;this.context.drawImage(this.compositionContext_.canvas,0,0);this.context.globalAlpha=A;(0,d.releaseCanvas)(this.compositionContext_);v.canvasPool.push(this.compositionContext_.canvas);this.compositionContext_=null}};J.prototype.renderDeclutter=function(A){this.declutterExecutorGroup&&(this.setupCompositionContext_(),
this.renderWorlds(this.declutterExecutorGroup,A,A.declutterTree),this.releaseCompositionContext_())};J.prototype.renderFrame=function(A,x){var q=A.pixelRatio,H=A.layerStatesArray[A.layerIndex];(0,f.makeScale)(this.pixelTransform,1/q,1/q);(0,f.makeInverse)(this.inversePixelTransform,this.pixelTransform);var M=(0,f.toString)(this.pixelTransform);this.useContainer(x,M,this.getBackground(A));x=this.context;var R=x.canvas,Z=this.replayGroup_,T=this.declutterExecutorGroup;if(!(Z&&!Z.isEmpty()||T&&!T.isEmpty()))return null;
T=Math.round(A.size[0]*q);q=Math.round(A.size[1]*q);R.width!=T||R.height!=q?(R.width=T,R.height=q,R.style.transform!==M&&(R.style.transform=M)):this.containerReused||x.clearRect(0,0,T,q);this.preRender(x,A);M=A.viewState;T=M.projection;this.opacity_=H.opacity;this.setupCompositionContext_();q=!1;R=!0;H.extent&&this.clipping&&(H=(0,b.fromUserExtent)(H.extent,T),(q=(R=(0,e.intersects)(H,A.extent))&&!(0,e.containsExtent)(H,A.extent))&&this.clipUnrotated(this.compositionContext_,A,H));R&&this.renderWorlds(Z,
A);q&&this.compositionContext_.restore();this.releaseCompositionContext_();this.postRender(x,A);this.renderedRotation_!==M.rotation&&(this.renderedRotation_=M.rotation,this.hitDetectionImageData_=null);return this.container};J.prototype.getFeatures=function(A){return new Promise(function(x){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var q=[this.context.canvas.width,this.context.canvas.height];(0,f.apply)(this.pixelTransform,q);var H=this.renderedCenter_,M=this.renderedResolution_,
R=this.renderedRotation_,Z=this.renderedProjection_,T=this.wrappedRenderedExtent_,ba=this.getLayer(),aa=[],W=q[0]*k.HIT_DETECT_RESOLUTION,X=q[1]*k.HIT_DETECT_RESOLUTION;aa.push(this.getRenderTransform(H,M,R,k.HIT_DETECT_RESOLUTION,W,X,0).slice());var P=ba.getSource(),w=Z.getExtent();if(P.getWrapX()&&Z.canWrapX()&&!(0,e.containsExtent)(w,T)){Z=T[0];P=(0,e.getWidth)(w);for(var B=0,K;Z<w[0];)--B,K=P*B,aa.push(this.getRenderTransform(H,M,R,k.HIT_DETECT_RESOLUTION,W,X,K).slice()),Z+=P;B=0;for(Z=T[2];Z>
w[2];)++B,K=P*B,aa.push(this.getRenderTransform(H,M,R,k.HIT_DETECT_RESOLUTION,W,X,K).slice()),Z-=P}this.hitDetectionImageData_=(0,k.createHitDetectionImageData)(q,aa,this.renderedFeatures_,ba.getStyleFunction(),T,M,R)}x((0,k.hitDetect)(A,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))};J.prototype.forEachFeatureAtCoordinate=function(A,x,q,H,M){var R=this;if(this.replayGroup_){var Z=x.viewState.resolution,T=x.viewState.rotation,ba=this.getLayer(),aa={},W=function(w,B,K){var U=(0,m.getUid)(w),
ka=aa[U];if(!ka){if(0===K)return aa[U]=!0,H(w,ba,B);M.push(aa[U]={feature:w,layer:ba,geometry:B,distanceSq:K,callback:H})}else if(!0!==ka&&K<ka.distanceSq){if(0===K)return aa[U]=!0,M.splice(M.lastIndexOf(ka),1),H(w,ba,B);ka.geometry=B;ka.distanceSq=K}},X,P=[this.replayGroup_];this.declutterExecutorGroup&&P.push(this.declutterExecutorGroup);P.some(function(w){return X=w.forEachFeatureAtCoordinate(A,Z,T,q,W,w===R.declutterExecutorGroup&&x.declutterTree?x.declutterTree.all().map(function(B){return B.value}):
null)});return X}};J.prototype.handleFontsChanged=function(){var A=this.getLayer();A.getVisible()&&this.replayGroup_&&A.changed()};J.prototype.handleStyleImageChange_=function(A){this.renderIfReadyAndVisible()};J.prototype.prepareFrame=function(A){var x=this.getLayer(),q=x.getSource();if(!q)return!1;var H=A.viewHints[h.default.ANIMATING],M=A.viewHints[h.default.INTERACTING],R=x.getUpdateWhileAnimating(),Z=x.getUpdateWhileInteracting();if(this.ready&&!R&&H||!Z&&M)return this.animatingOrInteracting_=
!0;this.animatingOrInteracting_=!1;var T=A.extent,ba=A.viewState;H=ba.projection;var aa=ba.resolution;M=A.pixelRatio;R=x.getRevision();var W=x.getRenderBuffer();Z=x.getRenderOrder();void 0===Z&&(Z=a.defaultOrder);ba=ba.center.slice();T=(0,e.buffer)(T,W*aa);W=T.slice();var X=[T.slice()],P=H.getExtent();if(q.getWrapX()&&H.canWrapX()&&!(0,e.containsExtent)(P,A.extent)){A=(0,e.getWidth)(P);var w=Math.max((0,e.getWidth)(T)/2,A);T[0]=P[0]-w;T[2]=P[2]+w;(0,z.wrapX)(ba,H);w=(0,e.wrapX)(X[0],H);w[0]<P[0]&&
w[2]<P[2]?X.push([w[0]+A,w[1],w[2]+A,w[3]]):w[0]>P[0]&&w[2]>P[2]&&X.push([w[0]-A,w[1],w[2]-A,w[3]])}if(this.ready&&this.renderedResolution_==aa&&this.renderedRevision_==R&&this.renderedRenderOrder_==Z&&(0,e.containsExtent)(this.wrappedRenderedExtent_,T))return(0,c.equals)(this.renderedExtent_,W)||(this.hitDetectionImageData_=null,this.renderedExtent_=W),this.renderedCenter_=ba,this.replayGroupChanged=!1,!0;this.replayGroup_=null;var B=new n.default((0,a.getTolerance)(aa,M),T,aa,M),K;this.getLayer().getDeclutter()&&
(K=new n.default((0,a.getTolerance)(aa,M),T,aa,M));w=(0,b.getUserProjection)();if(w){A=0;for(P=X.length;A<P;++A){var U=(0,b.toUserExtent)(X[A],H);q.loadFeatures(U,(0,b.toUserResolution)(aa,H),w)}var ka=(0,b.getTransformFromProjections)(w,H)}else for(A=0,P=X.length;A<P;++A)q.loadFeatures(X[A],aa,H);var da=(0,a.getSquaredTolerance)(aa,M),la=!0;X=function(wa){var Ua,hb=wa.getStyleFunction()||x.getStyleFunction();hb&&(Ua=hb(wa,aa));Ua&&(wa=this.renderFeature(wa,da,Ua,B,ka,K),la=la&&!wa)}.bind(this);A=
(0,b.toUserExtent)(T,H);w=q.getFeaturesInExtent(A);Z&&w.sort(Z);A=0;for(P=w.length;A<P;++A)X(w[A]);this.renderedFeatures_=w;this.ready=la;A=B.finish();A=new r.default(T,aa,M,q.getOverlaps(),A,x.getRenderBuffer());K&&(this.declutterExecutorGroup=new r.default(T,aa,M,q.getOverlaps(),K.finish(),x.getRenderBuffer()));this.renderedResolution_=aa;this.renderedRevision_=R;this.renderedRenderOrder_=Z;this.renderedExtent_=W;this.wrappedRenderedExtent_=T;this.renderedCenter_=ba;this.renderedProjection_=H;this.replayGroup_=
A;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0};J.prototype.renderFeature=function(A,x,q,H,M,R){if(!q)return!1;var Z=!1;if(Array.isArray(q))for(var T=0,ba=q.length;T<ba;++T)Z=(0,a.renderFeature)(H,A,q[T],x,this.boundHandleStyleImageChange_,M,R)||Z;else Z=(0,a.renderFeature)(H,A,q,x,this.boundHandleStyleImageChange_,M,R);return Z};return J}(v.default);G.default=sa};
shadow$provide[224]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(196));var p=y(F(223)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){return v.call(this,h)||this}n(r,v);r.prototype.createRenderer=function(){return new p.default(this)};return r}(sa.default);G.default=F};
shadow$provide[225]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=function(r){return r&&r.__esModule?r:{default:r}}(F(187)),p=F(74),n=F(68),v=F(80);sa=function(){function r(h){this.rbush_=new y.default(h);this.items_={}}r.prototype.insert=function(h,k){h={minX:h[0],minY:h[1],maxX:h[2],maxY:h[3],value:k};this.rbush_.insert(h);this.items_[(0,n.getUid)(k)]=h};r.prototype.load=function(h,k){for(var f=Array(k.length),e=0,d=k.length;e<d;e++){var a=h[e],c=k[e];
a={minX:a[0],minY:a[1],maxX:a[2],maxY:a[3],value:c};f[e]=a;this.items_[(0,n.getUid)(c)]=a}this.rbush_.load(f)};r.prototype.remove=function(h){h=(0,n.getUid)(h);var k=this.items_[h];delete this.items_[h];return null!==this.rbush_.remove(k)};r.prototype.update=function(h,k){var f=this.items_[(0,n.getUid)(k)];(0,p.equals)([f.minX,f.minY,f.maxX,f.maxY],h)||(this.remove(k),this.insert(h,k))};r.prototype.getAll=function(){return this.rbush_.all().map(function(h){return h.value})};r.prototype.getInExtent=
function(h){return this.rbush_.search({minX:h[0],minY:h[1],maxX:h[2],maxY:h[3]}).map(function(k){return k.value})};r.prototype.forEach=function(h){return this.forEach_(this.getAll(),h)};r.prototype.forEachInExtent=function(h,k){return this.forEach_(this.getInExtent(h),k)};r.prototype.forEach_=function(h,k){for(var f,e=0,d=h.length;e<d&&!(f=k(h[e]));e++);return f};r.prototype.isEmpty=function(){return(0,v.isEmpty)(this.items_)};r.prototype.clear=function(){this.rbush_.clear();this.items_={}};r.prototype.getExtent=
function(h){var k=this.rbush_.toJSON();return(0,p.createOrUpdate)(k.minX,k.minY,k.maxX,k.maxY,h)};r.prototype.concat=function(h){this.rbush_.load(h.rbush_.all());for(var k in h.items_)this.items_[k]=h.items_[k]};return r}();G.default=sa};
shadow$provide[226]=function(sa,F,ob,G){function y(r){return r?Array.isArray(r)?function(h){return r}:"function"===typeof r?r:function(h){return[r]}:null}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(85));var p=F(68),n=F(121),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};
return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){var f=r.call(this)||this;f.projection=(0,n.get)(k.projection);f.attributions_=y(k.attributions);f.attributionsCollapsible_=void 0!==k.attributionsCollapsible?k.attributionsCollapsible:!0;f.loading=!1;f.state_=
void 0!==k.state?k.state:"ready";f.wrapX_=void 0!==k.wrapX?k.wrapX:!1;f.interpolate_=!!k.interpolate;f.viewResolver=null;f.viewRejector=null;f.viewPromise_=new Promise(function(e,d){f.viewResolver=e;f.viewRejector=d});return f}v(h,r);h.prototype.getAttributions=function(){return this.attributions_};h.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_};h.prototype.getProjection=function(){return this.projection};h.prototype.getResolutions=function(){return(0,p.abstract)()};
h.prototype.getView=function(){return this.viewPromise_};h.prototype.getState=function(){return this.state_};h.prototype.getWrapX=function(){return this.wrapX_};h.prototype.getInterpolate=function(){return this.interpolate_};h.prototype.refresh=function(){this.changed()};h.prototype.setAttributions=function(k){this.attributions_=y(k);this.changed()};h.prototype.setState=function(k){this.state_=k;this.changed()};return h}(sa.default);G.default=F};
shadow$provide[227]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[228]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.all=function(p,n){return[[-Infinity,-Infinity,Infinity,Infinity]]};G.bbox=function(p,n){return[p]};G.tile=function(p){return function(n,v,r){v=p.getZForResolution((0,y.fromUserResolution)(v,r));n=p.getTileRangeForExtentAndZ((0,y.fromUserExtent)(n,r),v);var h=[];v=[v,0,0];for(v[1]=n.minX;v[1]<=n.maxX;++v[1])for(v[2]=n.minY;v[2]<=n.maxY;++v[2])h.push((0,y.toUserExtent)(p.getTileCoordExtent(v),r));return h}};var y=
F(121)};
shadow$provide[229]=function(sa,F,ob,G){function y(v,r,h,k,f,e,d){var a=new XMLHttpRequest;a.open("GET","function"===typeof v?v(h,k,f):v,!0);"arraybuffer"==r.getType()&&(a.responseType="arraybuffer");a.withCredentials=n;a.onload=function(c){if(!a.status||200<=a.status&&300>a.status){c=r.getType();var b=void 0;"json"==c||"text"==c?b=a.responseText:"xml"==c?(b=a.responseXML)||(b=(new DOMParser).parseFromString(a.responseText,"application/xml")):"arraybuffer"==c&&(b=a.response);b?e(r.readFeatures(b,
{extent:h,featureProjection:f}),r.readProjection(b)):d()}else d()};a.onerror=d;a.send()}Object.defineProperty(G,"__esModule",{value:!0});G.loadFeaturesXhr=y;G.xhr=function(v,r){return function(h,k,f,e,d){var a=this;y(v,r,h,k,f,function(c,b){a.addFeatures(c);void 0!==e&&e(c)},d?d:p.VOID)}};G.setWithCredentials=function(v){n=v};var p=F(67),n=!1};
shadow$provide[230]=function(sa,F,ob,G){function y(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.VectorSourceEvent=void 0;var p=y(F(99)),n=y(F(98));sa=y(F(78));var v=y(F(82)),r=y(F(79)),h=y(F(225));ob=y(F(226));var k=y(F(227)),f=F(67),e=F(228),d=F(71),a=F(74),c=F(66),b=F(68),m=F(80),z=F(83),u=F(229),C=function(){var A=function(x,q){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,M){H.__proto__=M}||function(H,M){for(var R in M)Object.prototype.hasOwnProperty.call(M,
R)&&(H[R]=M[R])};return A(x,q)};return function(x,q){function H(){this.constructor=x}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");A(x,q);x.prototype=null===q?Object.create(q):(H.prototype=q.prototype,new H)}}(),J=function(A){function x(q,H,M){q=A.call(this,q)||this;q.feature=H;q.features=M;return q}C(x,A);return x}(sa.default);G.VectorSourceEvent=J;F=function(A){function x(q){var H=q||{};q=A.call(this,{attributions:H.attributions,
interpolate:!0,projection:void 0,state:"ready",wrapX:void 0!==H.wrapX?H.wrapX:!0})||this;q.loader_=f.VOID;q.format_=H.format;q.overlaps_=void 0===H.overlaps?!0:H.overlaps;q.url_=H.url;void 0!==H.loader?q.loader_=H.loader:void 0!==q.url_&&((0,d.assert)(q.format_,7),q.loader_=(0,u.xhr)(q.url_,q.format_));q.strategy_=void 0!==H.strategy?H.strategy:e.all;var M=void 0!==H.useSpatialIndex?H.useSpatialIndex:!0;q.featuresRtree_=M?new h.default:null;q.loadedExtentsRtree_=new h.default;q.loadingExtentsCount_=
0;q.nullGeometryFeatures_={};q.idIndex_={};q.uidIndex_={};q.featureChangeKeys_={};q.featuresCollection_=null;if(Array.isArray(H.features))var R=H.features;else if(H.features){var Z=H.features;R=Z.getArray()}M||void 0!==Z||(Z=new p.default(R));void 0!==R&&q.addFeaturesInternal(R);void 0!==Z&&q.bindFeaturesCollection_(Z);return q}C(x,A);x.prototype.addFeature=function(q){this.addFeatureInternal(q);this.changed()};x.prototype.addFeatureInternal=function(q){var H=(0,b.getUid)(q);if(this.addToIndex_(H,
q)){this.setupChangeEvents_(H,q);var M=q.getGeometry();M?(H=M.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(H,q)):this.nullGeometryFeatures_[H]=q;this.dispatchEvent(new J(k.default.ADDFEATURE,q))}else this.featuresCollection_&&this.featuresCollection_.remove(q)};x.prototype.setupChangeEvents_=function(q,H){this.featureChangeKeys_[q]=[(0,z.listen)(H,v.default.CHANGE,this.handleFeatureChange_,this),(0,z.listen)(H,r.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]};x.prototype.addToIndex_=
function(q,H){var M=!0,R=H.getId();void 0!==R&&(R.toString()in this.idIndex_?M=!1:this.idIndex_[R.toString()]=H);M&&((0,d.assert)(!(q in this.uidIndex_),30),this.uidIndex_[q]=H);return M};x.prototype.addFeatures=function(q){this.addFeaturesInternal(q);this.changed()};x.prototype.addFeaturesInternal=function(q){for(var H=[],M=[],R=[],Z=0,T=q.length;Z<T;Z++){var ba=q[Z],aa=(0,b.getUid)(ba);this.addToIndex_(aa,ba)&&M.push(ba)}Z=0;for(q=M.length;Z<q;Z++)ba=M[Z],aa=(0,b.getUid)(ba),this.setupChangeEvents_(aa,
ba),(T=ba.getGeometry())?(aa=T.getExtent(),H.push(aa),R.push(ba)):this.nullGeometryFeatures_[aa]=ba;this.featuresRtree_&&this.featuresRtree_.load(H,R);if(this.hasListener(k.default.ADDFEATURE))for(Z=0,H=M.length;Z<H;Z++)this.dispatchEvent(new J(k.default.ADDFEATURE,M[Z]))};x.prototype.bindFeaturesCollection_=function(q){var H=!1;this.addEventListener(k.default.ADDFEATURE,function(M){H||(H=!0,q.push(M.feature),H=!1)});this.addEventListener(k.default.REMOVEFEATURE,function(M){H||(H=!0,q.remove(M.feature),
H=!1)});q.addEventListener(n.default.ADD,function(M){H||(H=!0,this.addFeature(M.element),H=!1)}.bind(this));q.addEventListener(n.default.REMOVE,function(M){H||(H=!0,this.removeFeature(M.element),H=!1)}.bind(this));this.featuresCollection_=q};x.prototype.clear=function(q){if(q){for(var H in this.featureChangeKeys_)this.featureChangeKeys_[H].forEach(z.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){q=function(R){this.removeFeatureInternal(R)}.bind(this);
this.featuresRtree_.forEach(q);for(var M in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[M])}this.featuresCollection_&&this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};M=new J(k.default.CLEAR);this.dispatchEvent(M);this.changed()};x.prototype.forEachFeature=function(q){if(this.featuresRtree_)return this.featuresRtree_.forEach(q);this.featuresCollection_&&this.featuresCollection_.forEach(q)};x.prototype.forEachFeatureAtCoordinateDirect=
function(q,H){return this.forEachFeatureInExtent([q[0],q[1],q[0],q[1]],function(M){if(M.getGeometry().intersectsCoordinate(q))return H(M)})};x.prototype.forEachFeatureInExtent=function(q,H){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(q,H);this.featuresCollection_&&this.featuresCollection_.forEach(H)};x.prototype.forEachFeatureIntersectingExtent=function(q,H){return this.forEachFeatureInExtent(q,function(M){if(M.getGeometry().intersectsExtent(q)&&(M=H(M)))return M})};x.prototype.getFeaturesCollection=
function(){return this.featuresCollection_};x.prototype.getFeatures=function(){if(this.featuresCollection_)var q=this.featuresCollection_.getArray().slice(0);else this.featuresRtree_&&(q=this.featuresRtree_.getAll(),(0,m.isEmpty)(this.nullGeometryFeatures_)||(0,c.extend)(q,(0,m.getValues)(this.nullGeometryFeatures_)));return q};x.prototype.getFeaturesAtCoordinate=function(q){var H=[];this.forEachFeatureAtCoordinateDirect(q,function(M){H.push(M)});return H};x.prototype.getFeaturesInExtent=function(q,
H){var M=this;if(this.featuresRtree_){if(!(H&&H.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(q);q=(0,a.wrapAndSliceX)(q,H);return[].concat.apply([],q.map(function(R){return M.featuresRtree_.getInExtent(R)}))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]};x.prototype.getClosestFeatureToCoordinate=function(q,H){var M=q[0],R=q[1],Z=null,T=[NaN,NaN],ba=Infinity,aa=[-Infinity,-Infinity,Infinity,Infinity],W=H?H:f.TRUE;this.featuresRtree_.forEachInExtent(aa,
function(X){if(W(X)){var P=X.getGeometry(),w=ba;ba=P.closestPointXY(M,R,T,ba);ba<w&&(Z=X,X=Math.sqrt(ba),aa[0]=M-X,aa[1]=R-X,aa[2]=M+X,aa[3]=R+X)}});return Z};x.prototype.getExtent=function(q){return this.featuresRtree_.getExtent(q)};x.prototype.getFeatureById=function(q){q=this.idIndex_[q.toString()];return void 0!==q?q:null};x.prototype.getFeatureByUid=function(q){q=this.uidIndex_[q];return void 0!==q?q:null};x.prototype.getFormat=function(){return this.format_};x.prototype.getOverlaps=function(){return this.overlaps_};
x.prototype.getUrl=function(){return this.url_};x.prototype.handleFeatureChange_=function(q){q=q.target;var H=(0,b.getUid)(q),M=q.getGeometry();M?(M=M.getExtent(),H in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[H],this.featuresRtree_&&this.featuresRtree_.insert(M,q)):this.featuresRtree_&&this.featuresRtree_.update(M,q)):H in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(q),this.nullGeometryFeatures_[H]=q);M=q.getId();void 0!==M?(H=M.toString(),this.idIndex_[H]!==
q&&(this.removeFromIdIndex_(q),this.idIndex_[H]=q)):(this.removeFromIdIndex_(q),this.uidIndex_[H]=q);this.changed();this.dispatchEvent(new J(k.default.CHANGEFEATURE,q))};x.prototype.hasFeature=function(q){var H=q.getId();return void 0!==H?H in this.idIndex_:(0,b.getUid)(q)in this.uidIndex_};x.prototype.isEmpty=function(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,m.isEmpty)(this.nullGeometryFeatures_):this.featuresCollection_?0===this.featuresCollection_.getLength():!0};x.prototype.loadFeatures=
function(q,H,M){var R=this.loadedExtentsRtree_,Z=this.strategy_(q,H,M);q=function(W,X){var P=Z[W];R.forEachInExtent(P,function(w){return(0,a.containsExtent)(w.extent,P)})||(++T.loadingExtentsCount_,T.dispatchEvent(new J(k.default.FEATURESLOADSTART)),T.loader_.call(T,P,H,M,function(w){--this.loadingExtentsCount_;this.dispatchEvent(new J(k.default.FEATURESLOADEND,void 0,w))}.bind(T),function(){--this.loadingExtentsCount_;this.dispatchEvent(new J(k.default.FEATURESLOADERROR))}.bind(T)),R.insert(P,{extent:P.slice()}))};
for(var T=this,ba=0,aa=Z.length;ba<aa;++ba)q(ba,aa);this.loading=4>this.loader_.length?!1:0<this.loadingExtentsCount_};x.prototype.refresh=function(){this.clear(!0);this.loadedExtentsRtree_.clear();A.prototype.refresh.call(this)};x.prototype.removeLoadedExtent=function(q){var H=this.loadedExtentsRtree_,M;H.forEachInExtent(q,function(R){if((0,a.equals)(R.extent,q))return M=R,!0});M&&H.remove(M)};x.prototype.removeFeature=function(q){if(q){var H=(0,b.getUid)(q);H in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[H]:
this.featuresRtree_&&this.featuresRtree_.remove(q);this.removeFeatureInternal(q)&&this.changed()}};x.prototype.removeFeatureInternal=function(q){var H=(0,b.getUid)(q),M=this.featureChangeKeys_[H];if(M)return M.forEach(z.unlistenByKey),delete this.featureChangeKeys_[H],M=q.getId(),void 0!==M&&delete this.idIndex_[M.toString()],delete this.uidIndex_[H],this.dispatchEvent(new J(k.default.REMOVEFEATURE,q)),q};x.prototype.removeFromIdIndex_=function(q){var H=!1,M;for(M in this.idIndex_)if(this.idIndex_[M]===
q){delete this.idIndex_[M];H=!0;break}return H};x.prototype.setLoader=function(q){this.loader_=q};x.prototype.setUrl=function(q){(0,d.assert)(this.format_,7);this.url_=q;this.setLoader((0,u.xhr)(q,this.format_))};return x}(ob.default);G.default=F};
shadow$provide[231]=function(sa,F,ob,G){function y(X){if("function"!==typeof WeakMap)return null;var P=new WeakMap,w=new WeakMap;return(y=function(B){return B?w:P})(X)}function p(X){return X&&X.__esModule?X:{default:X}}function n(){var X=(0,M.createEditingStyle)();return function(P,w){return X[P.getGeometry().getType()]}}function v(X){switch(X){case "Point":case "MultiPoint":return aa.POINT;case "LineString":case "MultiLineString":return aa.LINE_STRING;case "Polygon":case "MultiPolygon":return aa.POLYGON;
case "Circle":return aa.CIRCLE;default:throw Error("Invalid type: "+X);}}Object.defineProperty(G,"__esModule",{value:!0});G.createRegularPolygon=function(X,P){return function(w,B,K){var U=(0,R.fromUserCoordinate)(w[0],K);w=(0,R.fromUserCoordinate)(w[w.length-1],K);var ka=Math.sqrt((0,T.squaredDistance)(U,w));B=B?B:(0,C.fromCircle)(new r.default(U),X);var da=P;P||0===P||(da=Math.atan2(w[1]-U[1],w[0]-U[0]));(0,C.makeRegular)(B,U,ka,da);(U=(0,R.getUserProjection)())&&B.transform(K,U);return B}};G.createBox=
function(){return function(X,P,w){X=(0,H.boundingExtent)([X[0],X[X.length-1]].map(function(B){return(0,R.fromUserCoordinate)(B,w)}));X=[[(0,H.getBottomLeft)(X),(0,H.getBottomRight)(X),(0,H.getTopRight)(X),(0,H.getTopLeft)(X),(0,H.getBottomLeft)(X)]];P?P.setCoordinates(X):P=new C.default(X);(X=(0,R.getUserProjection)())&&P.transform(w,X);return P}};G.default=G.DrawEvent=void 0;var r=p(F(178));sa=p(F(78));var h=p(F(82)),k=p(F(179)),f=p(F(126)),e=p(F(159)),d=p(F(182)),a=p(F(102)),c=p(F(103)),b=p(F(183)),
m=p(F(184)),z=p(F(186)),u=p(F(136));ob=p(F(162));var C=function(X,P){if(!P&&X&&X.__esModule)return X;if(null===X||"object"!==typeof X&&"function"!==typeof X)return{default:X};if((P=y(P))&&P.has(X))return P.get(X);var w={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor,K;for(K in X)if("default"!==K&&Object.prototype.hasOwnProperty.call(X,K)){var U=B?Object.getOwnPropertyDescriptor(X,K):null;U&&(U.get||U.set)?Object.defineProperty(w,K,U):w[K]=X[K]}w.default=X;P&&P.set(X,w);return w}(F(143)),
J=p(F(224)),A=p(F(230)),x=F(67),q=F(163),H=F(74),M=F(195),R=F(121),Z=F(129),T=F(91),ba=function(){var X=function(P,w){X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,K){B.__proto__=K}||function(B,K){for(var U in K)Object.prototype.hasOwnProperty.call(K,U)&&(B[U]=K[U])};return X(P,w)};return function(P,w){function B(){this.constructor=P}if("function"!==typeof w&&null!==w)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");X(P,w);P.prototype=null===
w?Object.create(w):(B.prototype=w.prototype,new B)}}(),aa={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},W=function(X){function P(w,B){w=X.call(this,w)||this;w.feature=B;return w}ba(P,X);return P}(sa.default);G.DrawEvent=W;F=function(X){function P(w){var B=this;w.stopDown||(w.stopDown=x.FALSE);B=X.call(this,w)||this;B.shouldHandle_=!1;B.downPx_=null;B.freehand_=!1;B.source_=w.source?w.source:null;B.features_=w.features?w.features:null;B.snapTolerance_=w.snapTolerance?w.snapTolerance:
12;B.type_=w.type;B.mode_=v(B.type_);B.stopClick_=!!w.stopClick;B.minPoints_=w.minPoints?w.minPoints:B.mode_===aa.POLYGON?3:2;B.maxPoints_=B.mode_===aa.CIRCLE?2:w.maxPoints?w.maxPoints:Infinity;B.finishCondition_=w.finishCondition?w.finishCondition:x.TRUE;B.geometryLayout_=w.geometryLayout?w.geometryLayout:f.default.XY;var K=w.geometryFunction;if(!K){var U=B.mode_;if(U===aa.CIRCLE)K=function(da,la,wa){la=la?la:new r.default([NaN,NaN]);var Ua=(0,R.fromUserCoordinate)(da[0],wa);da=(0,T.squaredDistance)(Ua,
(0,R.fromUserCoordinate)(da[da.length-1],wa));la.setCenterAndRadius(Ua,Math.sqrt(da),this.geometryLayout_);(da=(0,R.getUserProjection)())&&la.transform(wa,da);return la};else{if(U===aa.POINT)var ka=u.default;else U===aa.LINE_STRING?ka=d.default:U===aa.POLYGON&&(ka=C.default);K=function(da,la,wa){la?U===aa.POLYGON?da[0].length?la.setCoordinates([da[0].concat([da[0][0]])],this.geometryLayout_):la.setCoordinates([],this.geometryLayout_):la.setCoordinates(da,this.geometryLayout_):la=new ka(da,this.geometryLayout_);
return la}}}B.geometryFunction_=K;B.dragVertexDelay_=void 0!==w.dragVertexDelay?w.dragVertexDelay:500;B.finishCoordinate_=null;B.sketchFeature_=null;B.sketchPoint_=null;B.sketchCoords_=null;B.sketchLine_=null;B.sketchLineCoords_=null;B.squaredClickTolerance_=w.clickTolerance?w.clickTolerance*w.clickTolerance:36;B.overlay_=new J.default({source:new A.default({useSpatialIndex:!1,wrapX:w.wrapX?w.wrapX:!1}),style:w.style?w.style:n(),updateWhileInteracting:!0});B.geometryName_=w.geometryName;B.condition_=
w.condition?w.condition:q.noModifierKeys;B.freehandCondition_=w.freehand?q.always:w.freehandCondition?w.freehandCondition:q.shiftKeyOnly;B.addChangeListener(e.default.ACTIVE,B.updateState_);return B}ba(P,X);P.prototype.setMap=function(w){X.prototype.setMap.call(this,w);this.updateState_()};P.prototype.getOverlay=function(){return this.overlay_};P.prototype.handleEvent=function(w){w.originalEvent.type===h.default.CONTEXTMENU&&w.originalEvent.preventDefault();this.freehand_=this.mode_!==aa.POINT&&this.freehandCondition_(w);
var B=w.type===c.default.POINTERMOVE,K=!0;!this.freehand_&&this.lastDragTime_&&w.type===c.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=w.pixel,this.shouldHandle_=!this.freehand_,B=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));this.freehand_&&w.type===c.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(w.coordinate),K=!1):this.freehand_&&w.type===
c.default.POINTERDOWN?K=!1:B&&2>this.getPointerCount()?(K=w.type===c.default.POINTERMOVE)&&this.freehand_?(this.handlePointerMove_(w),this.shouldHandle_&&w.originalEvent.preventDefault()):("mouse"===w.originalEvent.pointerType||w.type===c.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(w):w.type===c.default.DBLCLICK&&(K=!1);return X.prototype.handleEvent.call(this,w)&&K};P.prototype.handleDownEvent=function(w){this.shouldHandle_=!this.freehand_;if(this.freehand_)return this.downPx_=
w.pixel,this.finishCoordinate_||this.startDrawing_(w.coordinate),!0;if(this.condition_(w))return this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new a.default(c.default.POINTERMOVE,w.map,w.originalEvent,!1,w.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=w.pixel,!0;this.lastDragTime_=void 0;return!1};P.prototype.handleUpEvent=function(w){var B=!0;0===this.getPointerCount()&&(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=
void 0),this.handlePointerMove_(w),this.shouldHandle_?((B=!this.finishCoordinate_)&&this.startDrawing_(w.coordinate),!B&&this.freehand_?this.finishDrawing():this.freehand_||B&&this.mode_!==aa.POINT||(this.atFinish_(w.pixel)?this.finishCondition_(w)&&this.finishDrawing():this.addToDrawing_(w.coordinate)),B=!1):this.freehand_&&this.abortDrawing());!B&&this.stopClick_&&w.preventDefault();return B};P.prototype.handlePointerMove_=function(w){this.pointerType_=w.originalEvent.pointerType;if(this.downPx_&&
(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var B=this.downPx_,K=w.pixel,U=B[0]-K[0];B=B[1]-K[1];U=U*U+B*B;this.shouldHandle_=this.freehand_?U>this.squaredClickTolerance_:U<=this.squaredClickTolerance_;if(!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(w.coordinate):this.createOrUpdateSketchPoint_(w.coordinate.slice())};P.prototype.atFinish_=function(w){var B=!1;if(this.sketchFeature_){var K=!1,U=[this.finishCoordinate_],ka=this.mode_;ka===aa.POINT?
B=!0:ka===aa.CIRCLE?B=2===this.sketchCoords_.length:ka===aa.LINE_STRING?K=this.sketchCoords_.length>this.minPoints_:ka===aa.POLYGON&&(U=this.sketchCoords_,K=U[0].length>this.minPoints_,U=[U[0][0],U[0][U[0].length-2]]);if(K){K=this.getMap();ka=0;for(var da=U.length;ka<da;ka++){var la=U[ka],wa=K.getPixelFromCoordinate(la);B=w[0]-wa[0];wa=w[1]-wa[1];if(B=Math.sqrt(B*B+wa*wa)<=(this.freehand_?1:this.snapTolerance_)){this.finishCoordinate_=la;break}}}}return B};P.prototype.createOrUpdateSketchPoint_=function(w){this.sketchPoint_?
this.sketchPoint_.getGeometry().setCoordinates(w):(this.sketchPoint_=new k.default(new u.default(w)),this.updateSketchFeatures_())};P.prototype.createOrUpdateCustomSketchLine_=function(w){this.sketchLine_||(this.sketchLine_=new k.default);w=w.getLinearRing(0);var B=this.sketchLine_.getGeometry();B?(B.setFlatCoordinates(w.getLayout(),w.getFlatCoordinates()),B.changed()):(B=new d.default(w.getFlatCoordinates(),w.getLayout()),this.sketchLine_.setGeometry(B))};P.prototype.startDrawing_=function(w){for(var B=
this.getMap().getView().getProjection(),K=(0,Z.getStrideForLayout)(this.geometryLayout_);w.length<K;)w.push(0);this.finishCoordinate_=w;this.mode_===aa.POINT?this.sketchCoords_=w.slice():this.mode_===aa.POLYGON?(this.sketchCoords_=[[w.slice(),w.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[w.slice(),w.slice()];this.sketchLineCoords_&&(this.sketchLine_=new k.default(new d.default(this.sketchLineCoords_)));w=this.geometryFunction_(this.sketchCoords_,void 0,B);this.sketchFeature_=
new k.default;this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_);this.sketchFeature_.setGeometry(w);this.updateSketchFeatures_();this.dispatchEvent(new W("drawstart",this.sketchFeature_))};P.prototype.modifyDrawing_=function(w){for(var B=this.getMap(),K=this.sketchFeature_.getGeometry(),U=B.getView().getProjection(),ka=(0,Z.getStrideForLayout)(this.geometryLayout_);w.length<ka;)w.push(0);this.mode_===aa.POINT?ka=this.sketchCoords_:this.mode_===aa.POLYGON?(ka=this.sketchCoords_[0],
ka=ka[ka.length-1],this.atFinish_(B.getPixelFromCoordinate(w))&&(w=this.finishCoordinate_.slice())):(ka=this.sketchCoords_,ka=ka[ka.length-1]);ka[0]=w[0];ka[1]=w[1];this.geometryFunction_(this.sketchCoords_,K,U);this.sketchPoint_&&this.sketchPoint_.getGeometry().setCoordinates(w);"Polygon"===K.getType()&&this.mode_!==aa.POLYGON?this.createOrUpdateCustomSketchLine_(K):this.sketchLineCoords_&&this.sketchLine_.getGeometry().setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()};P.prototype.addToDrawing_=
function(w){var B=this.sketchFeature_.getGeometry(),K=this.getMap().getView().getProjection(),U;var ka=this.mode_;ka===aa.LINE_STRING||ka===aa.CIRCLE?(this.finishCoordinate_=w.slice(),ka=this.sketchCoords_,ka.length>=this.maxPoints_&&(this.freehand_?ka.pop():U=!0),ka.push(w.slice()),this.geometryFunction_(ka,B,K)):ka===aa.POLYGON&&(ka=this.sketchCoords_[0],ka.length>=this.maxPoints_&&(this.freehand_?ka.pop():U=!0),ka.push(w.slice()),U&&(this.finishCoordinate_=ka[0]),this.geometryFunction_(this.sketchCoords_,
B,K));this.createOrUpdateSketchPoint_(w.slice());this.updateSketchFeatures_();U&&this.finishDrawing()};P.prototype.removeLastPoint=function(){if(this.sketchFeature_){var w=this.sketchFeature_.getGeometry(),B=this.getMap().getView().getProjection(),K=this.mode_;if(K===aa.LINE_STRING||K===aa.CIRCLE){var U=this.sketchCoords_;U.splice(-2,1);2<=U.length&&(this.finishCoordinate_=U[U.length-2].slice(),K=this.finishCoordinate_.slice(),U[U.length-1]=K,this.createOrUpdateSketchPoint_(K));this.geometryFunction_(U,
w,B);"Polygon"===w.getType()&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(w)}else if(K===aa.POLYGON){U=this.sketchCoords_[0];U.splice(-2,1);var ka=this.sketchLine_.getGeometry();2<=U.length&&(K=U[U.length-2].slice(),U[U.length-1]=K,this.createOrUpdateSketchPoint_(K));ka.setCoordinates(U);this.geometryFunction_(this.sketchCoords_,w,B)}1===U.length&&this.abortDrawing();this.updateSketchFeatures_()}};P.prototype.finishDrawing=function(){var w=this.abortDrawing_();if(w){var B=this.sketchCoords_,
K=w.getGeometry(),U=this.getMap().getView().getProjection();this.mode_===aa.LINE_STRING?(B.pop(),this.geometryFunction_(B,K,U)):this.mode_===aa.POLYGON&&(B[0].pop(),this.geometryFunction_(B,K,U),B=K.getCoordinates());"MultiPoint"===this.type_?w.setGeometry(new m.default([B])):"MultiLineString"===this.type_?w.setGeometry(new b.default([B])):"MultiPolygon"===this.type_&&w.setGeometry(new z.default([B]));this.dispatchEvent(new W("drawend",w));this.features_&&this.features_.push(w);this.source_&&this.source_.addFeature(w)}};
P.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var w=this.sketchFeature_;this.sketchLine_=this.sketchPoint_=this.sketchFeature_=null;this.overlay_.getSource().clear(!0);return w};P.prototype.abortDrawing=function(){var w=this.abortDrawing_();w&&this.dispatchEvent(new W("drawabort",w))};P.prototype.appendCoordinates=function(w){var B=this.mode_,K=!this.sketchFeature_;K&&this.startDrawing_(w[0]);if(B===aa.LINE_STRING||B===aa.CIRCLE)B=this.sketchCoords_;else if(B===aa.POLYGON)B=this.sketchCoords_&&
this.sketchCoords_.length?this.sketchCoords_[0]:[];else return;K&&B.shift();B.pop();for(K=0;K<w.length;K++)this.addToDrawing_(w[K]);w=w[w.length-1];this.addToDrawing_(w);this.modifyDrawing_(w)};P.prototype.extend=function(w){var B=w.getGeometry();this.sketchFeature_=w;this.sketchCoords_=B.getCoordinates();w=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=w.slice();this.sketchCoords_.push(w.slice());this.sketchPoint_=new k.default(new u.default(w));this.updateSketchFeatures_();
this.dispatchEvent(new W("drawstart",this.sketchFeature_))};P.prototype.updateSketchFeatures_=function(){var w=[];this.sketchFeature_&&w.push(this.sketchFeature_);this.sketchLine_&&w.push(this.sketchLine_);this.sketchPoint_&&w.push(this.sketchPoint_);var B=this.overlay_.getSource();B.clear(!0);B.addFeatures(w)};P.prototype.updateState_=function(){var w=this.getMap(),B=this.getActive();w&&B||this.abortDrawing();this.overlay_.setMap(B?w:null)};return P}(ob.default);G.default=F};
shadow$provide[232]=function(sa,F,ob,G){function y(A){return A&&A.__esModule?A:{default:A}}function p(){var A=(0,m.createEditingStyle)();return function(x,q){return A.Polygon}}function n(){var A=(0,m.createEditingStyle)();return function(x,q){return A.Point}}function v(A){return function(x){return(0,c.boundingExtent)([A,x])}}function r(A,x){return A[0]==x[0]?function(q){return(0,c.boundingExtent)([A,[q[0],x[1]]])}:A[1]==x[1]?function(q){return(0,c.boundingExtent)([A,[x[0],q[1]]])}:null}Object.defineProperty(G,
"__esModule",{value:!0});G.default=G.ExtentEvent=void 0;sa=y(F(78));var h=y(F(179)),k=y(F(103)),f=y(F(136));ob=y(F(162));var e=y(F(224)),d=y(F(230)),a=F(163),c=F(74),b=F(91),m=F(195),z=F(143),u=F(121),C=function(){var A=function(x,q){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,M){H.__proto__=M}||function(H,M){for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(H[R]=M[R])};return A(x,q)};return function(x,q){function H(){this.constructor=x}if("function"!==typeof q&&null!==
q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");A(x,q);x.prototype=null===q?Object.create(q):(H.prototype=q.prototype,new H)}}(),J=function(A){function x(q){var H=A.call(this,"extentchanged")||this;H.extent=q;return H}C(x,A);return x}(sa.default);G.ExtentEvent=J;F=function(A){function x(q){var H=q||{};var M=A.call(this,H)||this;M.condition_=H.condition?H.condition:a.always;M.extent_=null;M.pointerHandler_=null;M.pixelTolerance_=void 0!==H.pixelTolerance?H.pixelTolerance:
10;M.snappedToVertex_=!1;M.extentFeature_=null;M.vertexFeature_=null;q||(q={});M.extentOverlay_=new e.default({source:new d.default({useSpatialIndex:!1,wrapX:!!q.wrapX}),style:q.boxStyle?q.boxStyle:p(),updateWhileAnimating:!0,updateWhileInteracting:!0});M.vertexOverlay_=new e.default({source:new d.default({useSpatialIndex:!1,wrapX:!!q.wrapX}),style:q.pointerStyle?q.pointerStyle:n(),updateWhileAnimating:!0,updateWhileInteracting:!0});q.extent&&M.setExtent(q.extent);return M}C(x,A);x.prototype.snapToVertex_=
function(q,H){var M=H.getCoordinateFromPixelInternal(q),R=function(ba,aa){return(0,b.squaredDistanceToSegment)(M,ba)-(0,b.squaredDistanceToSegment)(M,aa)},Z=this.getExtentInternal();if(Z){Z=[[[Z[0],Z[1]],[Z[0],Z[3]]],[[Z[0],Z[3]],[Z[2],Z[3]]],[[Z[2],Z[3]],[Z[2],Z[1]]],[[Z[2],Z[1]],[Z[0],Z[1]]]];Z.sort(R);R=Z[0];Z=(0,b.closestOnSegment)(M,R);var T=H.getPixelFromCoordinateInternal(Z);if((0,b.distance)(q,T)<=this.pixelTolerance_)return q=H.getPixelFromCoordinateInternal(R[0]),H=H.getPixelFromCoordinateInternal(R[1]),
q=(0,b.squaredDistance)(T,q),H=(0,b.squaredDistance)(T,H),(this.snappedToVertex_=Math.sqrt(Math.min(q,H))<=this.pixelTolerance_)&&(Z=q>H?R[1]:R[0]),Z}return null};x.prototype.handlePointerMove_=function(q){var H=q.pixel;q=q.map;var M=this.snapToVertex_(H,q);M||(M=q.getCoordinateFromPixelInternal(H));this.createOrUpdatePointerFeature_(M)};x.prototype.createOrUpdateExtentFeature_=function(q){var H=this.extentFeature_;H?q?H.setGeometry((0,z.fromExtent)(q)):H.setGeometry(void 0):(this.extentFeature_=
H=q?new h.default((0,z.fromExtent)(q)):new h.default({}),this.extentOverlay_.getSource().addFeature(H));return H};x.prototype.createOrUpdatePointerFeature_=function(q){var H=this.vertexFeature_;H?H.getGeometry().setCoordinates(q):(this.vertexFeature_=H=new h.default(new f.default(q)),this.vertexOverlay_.getSource().addFeature(H));return H};x.prototype.handleEvent=function(q){if(!q.originalEvent||!this.condition_(q))return!0;q.type!=k.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(q);
A.prototype.handleEvent.call(this,q);return!1};x.prototype.handleDownEvent=function(q){var H=q.pixel,M=q.map,R=this.getExtentInternal();q=this.snapToVertex_(H,M);var Z=function(T){var ba=null,aa=null;T[0]==R[0]?ba=R[2]:T[0]==R[2]&&(ba=R[0]);T[1]==R[1]?aa=R[3]:T[1]==R[3]&&(aa=R[1]);return null!==ba&&null!==aa?[ba,aa]:null};q&&R?(H=q[0]==R[0]||q[0]==R[2]?q[0]:null,M=q[1]==R[1]||q[1]==R[3]?q[1]:null,null!==H&&null!==M?this.pointerHandler_=v(Z(q)):null!==H?this.pointerHandler_=r(Z([H,R[1]]),Z([H,R[3]])):
null!==M&&(this.pointerHandler_=r(Z([R[0],M]),Z([R[2],M])))):(q=M.getCoordinateFromPixelInternal(H),this.setExtent([q[0],q[1],q[0],q[1]]),this.pointerHandler_=v(q));return!0};x.prototype.handleDragEvent=function(q){this.pointerHandler_&&(q=q.coordinate,this.setExtent(this.pointerHandler_(q)),this.createOrUpdatePointerFeature_(q))};x.prototype.handleUpEvent=function(q){this.pointerHandler_=null;(q=this.getExtentInternal())&&0!==(0,c.getArea)(q)||this.setExtent(null);return!1};x.prototype.setMap=function(q){this.extentOverlay_.setMap(q);
this.vertexOverlay_.setMap(q);A.prototype.setMap.call(this,q)};x.prototype.getExtent=function(){return(0,u.toUserExtent)(this.getExtentInternal(),this.getMap().getView().getProjection())};x.prototype.getExtentInternal=function(){return this.extent_};x.prototype.setExtent=function(q){this.extent_=q?q:null;this.createOrUpdateExtentFeature_(q);this.dispatchEvent(new J(this.extent_))};return x}(ob.default);G.default=F};
shadow$provide[233]=function(sa,F,ob,G){function y(aa){return aa&&aa.__esModule?aa:{default:aa}}function p(aa,W){return aa.index-W.index}function n(aa,W,X){var P=W.geometry;if("Circle"===P.getType()&&1===W.index)return(W=(0,H.getUserProjection)())&&(P=P.clone().transform(W,X)),X=(0,J.squaredDistance)(P.getCenter(),(0,H.fromUserCoordinate)(aa,X)),X=Math.sqrt(X)-P.getRadius(),X*X;aa=(0,H.fromUserCoordinate)(aa,X);T[0]=(0,H.fromUserCoordinate)(W.segment[0],X);T[1]=(0,H.fromUserCoordinate)(W.segment[1],
X);return(0,J.squaredDistanceToSegment)(aa,T)}function v(aa,W,X){var P=W.geometry;if("Circle"===P.getType()&&1===W.index)return W=P,(P=(0,H.getUserProjection)())&&(W=W.clone().transform(P,X)),(0,H.toUserCoordinate)(W.getClosestPoint((0,H.fromUserCoordinate)(aa,X)),X);aa=(0,H.fromUserCoordinate)(aa,X);T[0]=(0,H.fromUserCoordinate)(W.segment[0],X);T[1]=(0,H.fromUserCoordinate)(W.segment[1],X);return(0,H.toUserCoordinate)((0,J.closestOnSegment)(aa,T),X)}function r(){var aa=(0,A.createEditingStyle)();
return function(W,X){return aa.Point}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.ModifyEvent=void 0;var h=y(F(99)),k=y(F(98));sa=y(F(78));var f=y(F(82)),e=y(F(179)),d=y(F(103)),a=y(F(136));ob=y(F(162));var c=y(F(225)),b=y(F(227)),m=y(F(224)),z=y(F(230)),u=F(163),C=F(74),J=F(91),A=F(195),x=F(66),q=F(143),H=F(121),M=F(68),R=function(){var aa=function(W,X){aa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,w){P.__proto__=w}||function(P,w){for(var B in w)Object.prototype.hasOwnProperty.call(w,
B)&&(P[B]=w[B])};return aa(W,X)};return function(W,X){function P(){this.constructor=W}if("function"!==typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");aa(W,X);W.prototype=null===X?Object.create(X):(P.prototype=X.prototype,new P)}}(),Z=[0,0,0,0],T=[],ba=function(aa){function W(X,P,w){X=aa.call(this,X)||this;X.features=P;X.mapBrowserEvent=w;return X}R(W,aa);return W}(sa.default);G.ModifyEvent=ba;F=function(aa){function W(X){var P=aa.call(this,
X)||this;P.boundHandleFeatureChange_=P.handleFeatureChange_.bind(P);P.condition_=X.condition?X.condition:u.primaryAction;P.defaultDeleteCondition_=function(B){return(0,u.altKeyOnly)(B)&&(0,u.singleClick)(B)};P.deleteCondition_=X.deleteCondition?X.deleteCondition:P.defaultDeleteCondition_;P.insertVertexCondition_=X.insertVertexCondition?X.insertVertexCondition:u.always;P.vertexFeature_=null;P.vertexSegments_=null;P.lastPixel_=[0,0];P.ignoreNextSingleClick_=!1;P.featuresBeingModified_=null;P.rBush_=
new c.default;P.pixelTolerance_=void 0!==X.pixelTolerance?X.pixelTolerance:10;P.snappedToVertex_=!1;P.changingFeature_=!1;P.dragSegments_=[];P.overlay_=new m.default({source:new z.default({useSpatialIndex:!1,wrapX:!!X.wrapX}),style:X.style?X.style:r(),updateWhileAnimating:!0,updateWhileInteracting:!0});P.SEGMENT_WRITERS_={Point:P.writePointGeometry_.bind(P),LineString:P.writeLineStringGeometry_.bind(P),LinearRing:P.writeLineStringGeometry_.bind(P),Polygon:P.writePolygonGeometry_.bind(P),MultiPoint:P.writeMultiPointGeometry_.bind(P),
MultiLineString:P.writeMultiLineStringGeometry_.bind(P),MultiPolygon:P.writeMultiPolygonGeometry_.bind(P),Circle:P.writeCircleGeometry_.bind(P),GeometryCollection:P.writeGeometryCollectionGeometry_.bind(P)};P.source_=null;P.hitDetection_=null;if(X.features)var w=X.features;else X.source&&(P.source_=X.source,w=new h.default(P.source_.getFeatures()),P.source_.addEventListener(b.default.ADDFEATURE,P.handleSourceAdd_.bind(P)),P.source_.addEventListener(b.default.REMOVEFEATURE,P.handleSourceRemove_.bind(P)));
if(!w)throw Error("The modify interaction requires features, a source or a layer");X.hitDetection&&(P.hitDetection_=X.hitDetection);P.features_=w;P.features_.forEach(P.addFeature_.bind(P));P.features_.addEventListener(k.default.ADD,P.handleFeatureAdd_.bind(P));P.features_.addEventListener(k.default.REMOVE,P.handleFeatureRemove_.bind(P));P.lastPointerEvent_=null;P.delta_=[0,0];P.snapToPointer_=void 0===X.snapToPointer?!P.hitDetection_:X.snapToPointer;return P}R(W,aa);W.prototype.addFeature_=function(X){var P=
X.getGeometry();if(P){var w=this.SEGMENT_WRITERS_[P.getType()];w&&w(X,P)}(P=this.getMap())&&P.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,P);X.addEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)};W.prototype.willModifyFeatures_=function(X,P){if(!this.featuresBeingModified_){this.featuresBeingModified_=new h.default;for(var w=this.featuresBeingModified_.getArray(),B=0,K=P.length;B<K;++B)for(var U=P[B],ka=0,da=U.length;ka<da;++ka){var la=U[ka].feature;la&&
-1===w.indexOf(la)&&this.featuresBeingModified_.push(la)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new ba("modifystart",this.featuresBeingModified_,X))}};W.prototype.removeFeature_=function(X){this.removeFeatureSegmentData_(X);this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);X.removeEventListener(f.default.CHANGE,this.boundHandleFeatureChange_)};W.prototype.removeFeatureSegmentData_=
function(X){var P=this.rBush_,w=[];P.forEach(function(ka){X===ka.feature&&w.push(ka)});for(var B=w.length-1;0<=B;--B){for(var K=w[B],U=this.dragSegments_.length-1;0<=U;--U)this.dragSegments_[U][0]===K&&this.dragSegments_.splice(U,1);P.remove(K)}};W.prototype.setActive=function(X){this.vertexFeature_&&!X&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null);aa.prototype.setActive.call(this,X)};W.prototype.setMap=function(X){this.overlay_.setMap(X);aa.prototype.setMap.call(this,
X)};W.prototype.getOverlay=function(){return this.overlay_};W.prototype.handleSourceAdd_=function(X){X.feature&&this.features_.push(X.feature)};W.prototype.handleSourceRemove_=function(X){X.feature&&this.features_.remove(X.feature)};W.prototype.handleFeatureAdd_=function(X){this.addFeature_(X.element)};W.prototype.handleFeatureChange_=function(X){this.changingFeature_||(X=X.target,this.removeFeature_(X),this.addFeature_(X))};W.prototype.handleFeatureRemove_=function(X){this.removeFeature_(X.element)};
W.prototype.writePointGeometry_=function(X,P){var w=P.getCoordinates();X={feature:X,geometry:P,segment:[w,w]};this.rBush_.insert(P.getExtent(),X)};W.prototype.writeMultiPointGeometry_=function(X,P){for(var w=P.getCoordinates(),B=0,K=w.length;B<K;++B){var U=w[B];U={feature:X,geometry:P,depth:[B],index:B,segment:[U,U]};this.rBush_.insert(P.getExtent(),U)}};W.prototype.writeLineStringGeometry_=function(X,P){for(var w=P.getCoordinates(),B=0,K=w.length-1;B<K;++B){var U=w.slice(B,B+2),ka={feature:X,geometry:P,
index:B,segment:U};this.rBush_.insert((0,C.boundingExtent)(U),ka)}};W.prototype.writeMultiLineStringGeometry_=function(X,P){for(var w=P.getCoordinates(),B=0,K=w.length;B<K;++B)for(var U=w[B],ka=0,da=U.length-1;ka<da;++ka){var la=U.slice(ka,ka+2),wa={feature:X,geometry:P,depth:[B],index:ka,segment:la};this.rBush_.insert((0,C.boundingExtent)(la),wa)}};W.prototype.writePolygonGeometry_=function(X,P){for(var w=P.getCoordinates(),B=0,K=w.length;B<K;++B)for(var U=w[B],ka=0,da=U.length-1;ka<da;++ka){var la=
U.slice(ka,ka+2),wa={feature:X,geometry:P,depth:[B],index:ka,segment:la};this.rBush_.insert((0,C.boundingExtent)(la),wa)}};W.prototype.writeMultiPolygonGeometry_=function(X,P){for(var w=P.getCoordinates(),B=0,K=w.length;B<K;++B)for(var U=w[B],ka=0,da=U.length;ka<da;++ka)for(var la=U[ka],wa=0,Ua=la.length-1;wa<Ua;++wa){var hb=la.slice(wa,wa+2),La={feature:X,geometry:P,depth:[ka,B],index:wa,segment:hb};this.rBush_.insert((0,C.boundingExtent)(hb),La)}};W.prototype.writeCircleGeometry_=function(X,P){var w=
P.getCenter(),B={feature:X,geometry:P,index:0,segment:[w,w]};X={feature:X,geometry:P,index:1,segment:[w,w]};var K=[B,X];B.featureSegments=K;X.featureSegments=K;this.rBush_.insert((0,C.createOrUpdateFromCoordinate)(w),B);(w=(0,H.getUserProjection)())&&this.getMap()&&(B=this.getMap().getView().getProjection(),P=P.clone().transform(w,B),P=(0,q.fromCircle)(P).transform(B,w));this.rBush_.insert(P.getExtent(),X)};W.prototype.writeGeometryCollectionGeometry_=function(X,P){P=P.getGeometriesArray();for(var w=
0;w<P.length;++w){var B=P[w];(0,this.SEGMENT_WRITERS_[B.getType()])(X,B)}};W.prototype.createOrUpdateVertexFeature_=function(X,P,w){var B=this.vertexFeature_;B?B.getGeometry().setCoordinates(X):(this.vertexFeature_=B=new e.default(new a.default(X)),this.overlay_.getSource().addFeature(B));B.set("features",P);B.set("geometries",w);return B};W.prototype.handleEvent=function(X){if(!X.originalEvent)return!0;this.lastPointerEvent_=X;var P;X.map.getView().getInteracting()||X.type!=d.default.POINTERMOVE||
this.handlingDownUpSequence||this.handlePointerMove_(X);this.vertexFeature_&&this.deleteCondition_(X)&&(P=X.type==d.default.SINGLECLICK&&this.ignoreNextSingleClick_?!0:this.removePoint());X.type==d.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1);return aa.prototype.handleEvent.call(this,X)&&!P};W.prototype.handleDragEvent=function(X){this.ignoreNextSingleClick_=!1;this.willModifyFeatures_(X,this.dragSegments_);for(var P=[X.coordinate[0]+this.delta_[0],X.coordinate[1]+this.delta_[1]],w=[],B=
[],K=0,U=this.dragSegments_.length;K<U;++K){var ka=this.dragSegments_[K],da=ka[0],la=da.feature;-1===w.indexOf(la)&&w.push(la);la=da.geometry;-1===B.indexOf(la)&&B.push(la);var wa=da.depth,Ua=void 0,hb=da.segment;for(ka=ka[1];P.length<la.getStride();)P.push(hb[ka][P.length]);switch(la.getType()){case "Point":Ua=P;hb[0]=P;hb[1]=P;break;case "MultiPoint":Ua=la.getCoordinates();Ua[da.index]=P;hb[0]=P;hb[1]=P;break;case "LineString":Ua=la.getCoordinates();Ua[da.index+ka]=P;hb[ka]=P;break;case "MultiLineString":Ua=
la.getCoordinates();Ua[wa[0]][da.index+ka]=P;hb[ka]=P;break;case "Polygon":Ua=la.getCoordinates();Ua[wa[0]][da.index+ka]=P;hb[ka]=P;break;case "MultiPolygon":Ua=la.getCoordinates();Ua[wa[1]][wa[0]][da.index+ka]=P;hb[ka]=P;break;case "Circle":hb[0]=P;hb[1]=P;if(0===da.index)this.changingFeature_=!0,la.setCenter(P);else{this.changingFeature_=!0;da=X.map.getView().getProjection();ka=(0,J.distance)((0,H.fromUserCoordinate)(la.getCenter(),da),(0,H.fromUserCoordinate)(P,da));if(wa=(0,H.getUserProjection)())hb=
la.clone().transform(wa,da),hb.setRadius(ka),ka=hb.transform(da,wa).getRadius();la.setRadius(ka)}this.changingFeature_=!1}Ua&&this.setGeometryCoordinates_(la,Ua)}this.createOrUpdateVertexFeature_(P,w,B)};W.prototype.handleDownEvent=function(X){if(!this.condition_(X))return!1;var P=X.coordinate;this.handlePointerAtPixel_(X.pixel,X.map,P);this.dragSegments_.length=0;this.featuresBeingModified_=null;var w=this.vertexFeature_;if(w){var B=X.map.getView().getProjection(),K=[];w=w.getGeometry().getCoordinates();
var U=(0,C.boundingExtent)([w]);U=this.rBush_.getInExtent(U);var ka={};U.sort(p);for(var da=0,la=U.length;da<la;++da){var wa=U[da],Ua=wa.segment,hb=(0,M.getUid)(wa.geometry),La=wa.depth;La&&(hb+="-"+La.join("-"));ka[hb]||(ka[hb]=Array(2));if("Circle"===wa.geometry.getType()&&1===wa.index)La=v(P,wa,B),(0,J.equals)(La,w)&&!ka[hb][0]&&(this.dragSegments_.push([wa,0]),ka[hb][0]=wa);else if((0,J.equals)(Ua[0],w)&&!ka[hb][0])this.dragSegments_.push([wa,0]),ka[hb][0]=wa;else if((0,J.equals)(Ua[1],w)&&!ka[hb][1]){if(ka[hb][0]&&
0===ka[hb][0].index)switch(Ua=wa.geometry.getCoordinates(),wa.geometry.getType()){case "LineString":case "MultiLineString":continue;case "MultiPolygon":Ua=Ua[La[1]];case "Polygon":if(wa.index!==Ua[La[0]].length-2)continue}this.dragSegments_.push([wa,1]);ka[hb][1]=wa}else(0,M.getUid)(Ua)in this.vertexSegments_&&!ka[hb][0]&&!ka[hb][1]&&this.insertVertexCondition_(X)&&K.push(wa)}K.length&&this.willModifyFeatures_(X,[K]);for(X=K.length-1;0<=X;--X)this.insertVertex_(K[X],w)}return!!this.vertexFeature_};
W.prototype.handleUpEvent=function(X){for(var P=this.dragSegments_.length-1;0<=P;--P){var w=this.dragSegments_[P][0],B=w.geometry;if("Circle"===B.getType()){var K=B.getCenter(),U=w.featureSegments[0];w=w.featureSegments[1];U.segment[0]=K;U.segment[1]=K;w.segment[0]=K;w.segment[1]=K;this.rBush_.update((0,C.createOrUpdateFromCoordinate)(K),U);if(K=(0,H.getUserProjection)())U=X.map.getView().getProjection(),B=B.clone().transform(K,U),B=(0,q.fromCircle)(B).transform(U,K);this.rBush_.update(B.getExtent(),
w)}else this.rBush_.update((0,C.boundingExtent)(w.segment),w)}this.featuresBeingModified_&&(this.dispatchEvent(new ba("modifyend",this.featuresBeingModified_,X)),this.featuresBeingModified_=null);return!1};W.prototype.handlePointerMove_=function(X){this.lastPixel_=X.pixel;this.handlePointerAtPixel_(X.pixel,X.map,X.coordinate)};W.prototype.handlePointerAtPixel_=function(X,P,w){var B=this,K=w||P.getCoordinateFromPixel(X),U=P.getView().getProjection();w=function(pa,Da){return n(K,pa,U)-n(K,Da,U)};var ka;
this.hitDetection_&&P.forEachFeatureAtPixel(X,function(pa,Da,Ma){Ma=Ma||pa.getGeometry();"Point"===Ma.getType()&&(0,x.includes)(B.features_.getArray(),pa)&&(ka=Ma,Da=Ma.getFlatCoordinates().slice(0,2),wa=[{feature:pa,geometry:Ma,segment:[Da,Da]}]);return!0},{layerFilter:"object"===typeof this.hitDetection_?function(pa){return pa===B.hitDetection_}:void 0});if(!wa){var da=(0,H.fromUserExtent)((0,C.createOrUpdateFromCoordinate)(K,Z),U),la=P.getView().getResolution()*this.pixelTolerance_;da=(0,H.toUserExtent)((0,C.buffer)(da,
la,Z),U);var wa=this.rBush_.getInExtent(da)}if(wa&&0<wa.length){da=wa.sort(w)[0];w=da.segment;la=v(K,da,U);var Ua=P.getPixelFromCoordinate(la),hb=(0,J.distance)(X,Ua);if(ka||hb<=this.pixelTolerance_){X={};X[(0,M.getUid)(w)]=!0;this.snapToPointer_||(this.delta_[0]=la[0]-K[0],this.delta_[1]=la[1]-K[1]);if("Circle"===da.geometry.getType()&&1===da.index)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(la,[da.feature],[da.geometry]);else{hb=P.getPixelFromCoordinate(w[0]);var La=P.getPixelFromCoordinate(w[1]);
P=(0,J.squaredDistance)(Ua,hb);Ua=(0,J.squaredDistance)(Ua,La);hb=Math.sqrt(Math.min(P,Ua));(this.snappedToVertex_=hb<=this.pixelTolerance_)&&(la=P>Ua?w[1]:w[0]);this.createOrUpdateVertexFeature_(la,[da.feature],[da.geometry]);P={};P[(0,M.getUid)(da.geometry)]=!0;da=1;for(la=wa.length;da<la;++da)if(Ua=wa[da].segment,(0,J.equals)(w[0],Ua[0])&&(0,J.equals)(w[1],Ua[1])||(0,J.equals)(w[0],Ua[1])&&(0,J.equals)(w[1],Ua[0]))hb=(0,M.getUid)(wa[da].geometry),hb in P||(P[hb]=!0,X[(0,M.getUid)(Ua)]=!0);else break}this.vertexSegments_=
X;return}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)};W.prototype.insertVertex_=function(X,P){for(var w=X.segment,B=X.feature,K=X.geometry,U=X.depth,ka=X.index,da;P.length<K.getStride();)P.push(0);switch(K.getType()){case "MultiLineString":da=K.getCoordinates();da[U[0]].splice(ka+1,0,P);break;case "Polygon":da=K.getCoordinates();da[U[0]].splice(ka+1,0,P);break;case "MultiPolygon":da=K.getCoordinates();da[U[1]][U[0]].splice(ka+1,0,P);
break;case "LineString":da=K.getCoordinates();da.splice(ka+1,0,P);break;default:return}this.setGeometryCoordinates_(K,da);da=this.rBush_;da.remove(X);this.updateSegmentIndices_(K,ka,U,1);X={segment:[w[0],P],feature:B,geometry:K,depth:U,index:ka};da.insert((0,C.boundingExtent)(X.segment),X);this.dragSegments_.push([X,1]);P={segment:[P,w[1]],feature:B,geometry:K,depth:U,index:ka+1};da.insert((0,C.boundingExtent)(P.segment),P);this.dragSegments_.push([P,0]);this.ignoreNextSingleClick_=!0};W.prototype.removePoint=
function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=d.default.POINTERDRAG){var X=this.lastPointerEvent_;this.willModifyFeatures_(X,this.dragSegments_);var P=this.removeVertex_();this.featuresBeingModified_&&this.dispatchEvent(new ba("modifyend",this.featuresBeingModified_,X));this.featuresBeingModified_=null;return P}return!1};W.prototype.removeVertex_=function(){var X=this.dragSegments_,P={},w=!1,B,K;for(K=X.length-1;0<=K;--K){var U=X[K];var ka=U[0];var da=(0,M.getUid)(ka.feature);
ka.depth&&(da+="-"+ka.depth.join("-"));da in P||(P[da]={});0===U[1]?(P[da].right=ka,P[da].index=ka.index):1==U[1]&&(P[da].left=ka,P[da].index=ka.index+1)}for(da in P){var la=P[da].right;var wa=P[da].left;K=P[da].index;var Ua=K-1;ka=void 0!==wa?wa:la;0>Ua&&(Ua=0);U=ka.geometry;var hb=B=U.getCoordinates();w=!1;switch(U.getType()){case "MultiLineString":2<B[ka.depth[0]].length&&(B[ka.depth[0]].splice(K,1),w=!0);break;case "LineString":2<B.length&&(B.splice(K,1),w=!0);break;case "MultiPolygon":hb=hb[ka.depth[1]];
case "Polygon":hb=hb[ka.depth[0]],4<hb.length&&(K==hb.length-1&&(K=0),hb.splice(K,1),w=!0,0===K&&(hb.pop(),hb.push(hb[0]),Ua=hb.length-1))}w&&(this.setGeometryCoordinates_(U,B),hb=[],void 0!==wa&&(this.rBush_.remove(wa),hb.push(wa.segment[0])),void 0!==la&&(this.rBush_.remove(la),hb.push(la.segment[1])),void 0!==wa&&void 0!==la&&(wa={depth:ka.depth,feature:ka.feature,geometry:ka.geometry,index:Ua,segment:hb},this.rBush_.insert((0,C.boundingExtent)(wa.segment),wa)),this.updateSegmentIndices_(U,K,ka.depth,
-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),X.length=0)}return w};W.prototype.setGeometryCoordinates_=function(X,P){this.changingFeature_=!0;X.setCoordinates(P);this.changingFeature_=!1};W.prototype.updateSegmentIndices_=function(X,P,w,B){this.rBush_.forEachInExtent(X.getExtent(),function(K){K.geometry===X&&(void 0===w||void 0===K.depth||(0,x.equals)(K.depth,w))&&K.index>P&&(K.index+=B)})};return W}(ob.default);G.default=F};
shadow$provide[234]=function(sa,F,ob,G){function y(z){return z&&z.__esModule?z:{default:z}}function p(){var z=(0,f.createEditingStyle)();(0,e.extend)(z.Polygon,z.LineString);(0,e.extend)(z.GeometryCollection,z.LineString);return function(u){return u.getGeometry()?z[u.getGeometry().getType()]:null}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.SelectEvent=void 0;var n=y(F(99)),v=y(F(98));sa=y(F(78));ob=y(F(160));var r=y(F(224)),h=F(67),k=F(80),f=F(195),e=F(66),d=F(68),a=F(163),c=function(){var z=
function(u,C){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,A){J.__proto__=A}||function(J,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(J[x]=A[x])};return z(u,C)};return function(u,C){function J(){this.constructor=u}if("function"!==typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");z(u,C);u.prototype=null===C?Object.create(C):(J.prototype=C.prototype,new J)}}(),b=function(z){function u(C,J,A,x){C=z.call(this,
C)||this;C.selected=J;C.deselected=A;C.mapBrowserEvent=x;return C}c(u,z);return u}(sa.default);G.SelectEvent=b;var m={};F=function(z){function u(C){var J=z.call(this)||this;C=C?C:{};J.boundAddFeature_=J.addFeature_.bind(J);J.boundRemoveFeature_=J.removeFeature_.bind(J);J.condition_=C.condition?C.condition:a.singleClick;J.addCondition_=C.addCondition?C.addCondition:a.never;J.removeCondition_=C.removeCondition?C.removeCondition:a.never;J.toggleCondition_=C.toggleCondition?C.toggleCondition:a.shiftKeyOnly;
J.multi_=C.multi?C.multi:!1;J.filter_=C.filter?C.filter:h.TRUE;J.hitTolerance_=C.hitTolerance?C.hitTolerance:0;J.style_=void 0!==C.style?C.style:p();J.features_=C.features||new n.default;if(C.layers)if("function"===typeof C.layers)C=C.layers;else{var A=C.layers;C=function(x){return(0,e.includes)(A,x)}}else C=h.TRUE;J.layerFilter_=C;J.featureLayerAssociation_={};return J}c(u,z);u.prototype.addFeatureLayerAssociation_=function(C,J){this.featureLayerAssociation_[(0,d.getUid)(C)]=J};u.prototype.getFeatures=
function(){return this.features_};u.prototype.getHitTolerance=function(){return this.hitTolerance_};u.prototype.getLayer=function(C){return this.featureLayerAssociation_[(0,d.getUid)(C)]};u.prototype.setHitTolerance=function(C){this.hitTolerance_=C};u.prototype.setMap=function(C){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this));z.prototype.setMap.call(this,C);C?(this.features_.addEventListener(v.default.ADD,this.boundAddFeature_),this.features_.addEventListener(v.default.REMOVE,
this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(v.default.ADD,this.boundAddFeature_),this.features_.removeEventListener(v.default.REMOVE,this.boundRemoveFeature_))};u.prototype.addFeature_=function(C){var J=C.element;this.style_&&this.applySelectedStyle_(J);this.getLayer(J)||(C=this.getMap().getAllLayers().find(function(A){if(A instanceof r.default&&A.getSource()&&A.getSource().hasFeature(J))return A}))&&this.addFeatureLayerAssociation_(J,
C)};u.prototype.removeFeature_=function(C){C=C.element;this.style_&&this.restorePreviousStyle_(C)};u.prototype.getStyle=function(){return this.style_};u.prototype.applySelectedStyle_=function(C){var J=(0,d.getUid)(C);J in m||(m[J]=C.getStyle());C.setStyle(this.style_)};u.prototype.restorePreviousStyle_=function(C){for(var J=this.getMap().getInteractions().getArray(),A=J.length-1;0<=A;--A){var x=J[A];if(x!==this&&x instanceof u&&x.getStyle()&&-1!==x.getFeatures().getArray().lastIndexOf(C)){C.setStyle(x.getStyle());
return}}J=(0,d.getUid)(C);C.setStyle(m[J]);delete m[J]};u.prototype.removeFeatureLayerAssociation_=function(C){delete this.featureLayerAssociation_[(0,d.getUid)(C)]};u.prototype.handleEvent=function(C){if(!this.condition_(C))return!0;var J=this.addCondition_(C),A=this.removeCondition_(C),x=this.toggleCondition_(C),q=!J&&!A&&!x,H=C.map,M=this.getFeatures(),R=[],Z=[];if(q){(0,k.clear)(this.featureLayerAssociation_);H.forEachFeatureAtPixel(C.pixel,function(ba,aa){if(this.filter_(ba,aa))return this.addFeatureLayerAssociation_(ba,
aa),Z.push(ba),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(q=M.getLength()-1;0<=q;--q){H=M.item(q);var T=Z.indexOf(H);-1<T?Z.splice(T,1):(M.remove(H),R.push(H))}0!==Z.length&&M.extend(Z)}else{H.forEachFeatureAtPixel(C.pixel,function(ba,aa){if(this.filter_(ba,aa))return!J&&!x||(0,e.includes)(M.getArray(),ba)?(A||x)&&(0,e.includes)(M.getArray(),ba)&&(R.push(ba),this.removeFeatureLayerAssociation_(ba)):(this.addFeatureLayerAssociation_(ba,aa),Z.push(ba)),
!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(q=R.length-1;0<=q;--q)M.remove(R[q]);M.extend(Z)}(0<Z.length||0<R.length)&&this.dispatchEvent(new b("select",Z,R,C));return!0};return u}(ob.default);G.default=F};
shadow$provide[235]=function(sa,F,ob,G){function y(C){return C&&C.__esModule?C:{default:C}}function p(C){if(C.feature)return C.feature;if(C.element)return C.element}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=y(F(98)),v=y(F(82));sa=y(F(162));var r=y(F(225)),h=y(F(227)),k=F(67),f=F(74),e=F(91),d=F(143),a=F(121),c=F(68),b=F(80),m=F(83),z=function(){var C=function(J,A){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,
H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}(),u=[];F=function(C){function J(A){var x=A?A:{};x.handleDownEvent||(x.handleDownEvent=k.TRUE);x.stopDown||(x.stopDown=k.FALSE);A=C.call(this,x)||this;A.source_=x.source?x.source:null;A.vertex_=void 0!==x.vertex?x.vertex:
!0;A.edge_=void 0!==x.edge?x.edge:!0;A.features_=x.features?x.features:null;A.featuresListenerKeys_=[];A.featureChangeListenerKeys_={};A.indexedFeaturesExtents_={};A.pendingFeatures_={};A.pixelTolerance_=void 0!==x.pixelTolerance?x.pixelTolerance:10;A.rBush_=new r.default;A.GEOMETRY_SEGMENTERS_={Point:A.segmentPointGeometry_.bind(A),LineString:A.segmentLineStringGeometry_.bind(A),LinearRing:A.segmentLineStringGeometry_.bind(A),Polygon:A.segmentPolygonGeometry_.bind(A),MultiPoint:A.segmentMultiPointGeometry_.bind(A),
MultiLineString:A.segmentMultiLineStringGeometry_.bind(A),MultiPolygon:A.segmentMultiPolygonGeometry_.bind(A),GeometryCollection:A.segmentGeometryCollectionGeometry_.bind(A),Circle:A.segmentCircleGeometry_.bind(A)};return A}z(J,C);J.prototype.addFeature=function(A,x){x=void 0!==x?x:!0;var q=(0,c.getUid)(A),H=A.getGeometry();if(H){var M=this.GEOMETRY_SEGMENTERS_[H.getType()];if(M){this.indexedFeaturesExtents_[q]=H.getExtent((0,f.createEmpty)());var R=[];M(R,H);1===R.length?this.rBush_.insert((0,f.boundingExtent)(R[0]),
{feature:A,segment:R[0]}):1<R.length&&(H=R.map(function(Z){return(0,f.boundingExtent)(Z)}),R=R.map(function(Z){return{feature:A,segment:Z}}),this.rBush_.load(H,R))}}x&&(this.featureChangeListenerKeys_[q]=(0,m.listen)(A,v.default.CHANGE,this.handleFeatureChange_,this))};J.prototype.forEachFeatureAdd_=function(A){this.addFeature(A)};J.prototype.forEachFeatureRemove_=function(A){this.removeFeature(A)};J.prototype.getFeatures_=function(){var A;this.features_?A=this.features_:this.source_&&(A=this.source_.getFeatures());
return A};J.prototype.handleEvent=function(A){var x=this.snapTo(A.pixel,A.coordinate,A.map);x&&(A.coordinate=x.vertex.slice(0,2),A.pixel=x.vertexPixel);return C.prototype.handleEvent.call(this,A)};J.prototype.handleFeatureAdd_=function(A){A=p(A);this.addFeature(A)};J.prototype.handleFeatureRemove_=function(A){A=p(A);this.removeFeature(A)};J.prototype.handleFeatureChange_=function(A){A=A.target;if(this.handlingDownUpSequence){var x=(0,c.getUid)(A);x in this.pendingFeatures_||(this.pendingFeatures_[x]=
A)}else this.updateFeature_(A)};J.prototype.handleUpEvent=function(A){A=(0,b.getValues)(this.pendingFeatures_);A.length&&(A.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={});return!1};J.prototype.removeFeature=function(A,x){x=void 0!==x?x:!0;var q=(0,c.getUid)(A),H=this.indexedFeaturesExtents_[q];if(H){var M=this.rBush_,R=[];M.forEachInExtent(H,function(Z){A===Z.feature&&R.push(Z)});for(H=R.length-1;0<=H;--H)M.remove(R[H])}x&&((0,m.unlistenByKey)(this.featureChangeListenerKeys_[q]),
delete this.featureChangeListenerKeys_[q])};J.prototype.setMap=function(A){var x=this.getMap(),q=this.featuresListenerKeys_,H=this.getFeatures_();x&&(q.forEach(m.unlistenByKey),q.length=0,H.forEach(this.forEachFeatureRemove_.bind(this)));C.prototype.setMap.call(this,A);A&&(this.features_?q.push((0,m.listen)(this.features_,n.default.ADD,this.handleFeatureAdd_,this),(0,m.listen)(this.features_,n.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&q.push((0,m.listen)(this.source_,h.default.ADDFEATURE,
this.handleFeatureAdd_,this),(0,m.listen)(this.source_,h.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),H.forEach(this.forEachFeatureAdd_.bind(this)))};J.prototype.snapTo=function(A,x,q){var H=q.getCoordinateFromPixel([A[0]-this.pixelTolerance_,A[1]+this.pixelTolerance_]),M=q.getCoordinateFromPixel([A[0]+this.pixelTolerance_,A[1]-this.pixelTolerance_]);H=(0,f.boundingExtent)([H,M]);H=this.rBush_.getInExtent(H);M=H.length;if(0===M)return null;var R=q.getView().getProjection(),Z=(0,a.fromUserCoordinate)(x,
R),T=Infinity,ba=this.pixelTolerance_*this.pixelTolerance_;x=function(){if(w){var B=q.getPixelFromCoordinate(w);if((0,e.squaredDistance)(A,B)<=ba)return{vertex:w,vertexPixel:[Math.round(B[0]),Math.round(B[1])]}}return null};if(this.vertex_){for(var aa=0;aa<M;++aa){var W=H[aa];"Circle"!==W.feature.getGeometry().getType()&&W.segment.forEach(function(B){var K=(0,a.fromUserCoordinate)(B,R);K=(0,e.squaredDistance)(Z,K);K<T&&(w=B,T=K)})}if(aa=x())return aa}if(this.edge_){for(aa=0;aa<M;++aa){var X=null;
W=H[aa];if("Circle"===W.feature.getGeometry().getType())X=W.feature.getGeometry(),(W=(0,a.getUserProjection)())&&(X=X.clone().transform(W,R)),X=(0,a.toUserCoordinate)((0,e.closestOnCircle)(Z,X),R);else{var P=W.segment;W=P[0];if(P=P[1])u[0]=(0,a.fromUserCoordinate)(W,R),u[1]=(0,a.fromUserCoordinate)(P,R),X=(0,e.closestOnSegment)(Z,u)}if(X&&(W=(0,e.squaredDistance)(Z,X),W<T)){var w=X;T=W}}if(aa=x())return aa}return null};J.prototype.updateFeature_=function(A){this.removeFeature(A,!1);this.addFeature(A,
!1)};J.prototype.segmentCircleGeometry_=function(A,x){var q=this.getMap().getView().getProjection(),H=x;(x=(0,a.getUserProjection)())&&(H=H.clone().transform(x,q));H=(0,d.fromCircle)(H);x&&H.transform(q,x);q=H.getCoordinates()[0];x=0;for(H=q.length-1;x<H;++x)A.push(q.slice(x,x+2))};J.prototype.segmentGeometryCollectionGeometry_=function(A,x){x=x.getGeometriesArray();for(var q=0;q<x.length;++q){var H=this.GEOMETRY_SEGMENTERS_[x[q].getType()];H&&H(A,x[q])}};J.prototype.segmentLineStringGeometry_=function(A,
x){x=x.getCoordinates();for(var q=0,H=x.length-1;q<H;++q)A.push(x.slice(q,q+2))};J.prototype.segmentMultiLineStringGeometry_=function(A,x){x=x.getCoordinates();for(var q=0,H=x.length;q<H;++q)for(var M=x[q],R=0,Z=M.length-1;R<Z;++R)A.push(M.slice(R,R+2))};J.prototype.segmentMultiPointGeometry_=function(A,x){x.getCoordinates().forEach(function(q){A.push([q])})};J.prototype.segmentMultiPolygonGeometry_=function(A,x){x=x.getCoordinates();for(var q=0,H=x.length;q<H;++q)for(var M=x[q],R=0,Z=M.length;R<
Z;++R)for(var T=M[R],ba=0,aa=T.length-1;ba<aa;++ba)A.push(T.slice(ba,ba+2))};J.prototype.segmentPointGeometry_=function(A,x){A.push([x.getCoordinates()])};J.prototype.segmentPolygonGeometry_=function(A,x){x=x.getCoordinates();for(var q=0,H=x.length;q<H;++q)for(var M=x[q],R=0,Z=M.length-1;R<Z;++R)A.push(M.slice(R,R+2))};return J}(sa.default);G.default=F};
shadow$provide[236]=function(sa,F,ob,G){function y(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.TranslateEvent=void 0;var p=y(F(99));sa=y(F(78));var n=y(F(159));ob=y(F(162));var v=F(67),r=F(163),h=F(66),k=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=
d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}(),f=function(e){function d(a,c,b,m,z){a=e.call(this,a)||this;a.features=c;a.coordinate=b;a.startCoordinate=m;a.mapBrowserEvent=z;return a}k(d,e);return d}(sa.default);G.TranslateEvent=f;F=function(e){function d(a){var c=this;a=a?a:{};c=e.call(this,a)||this;c.lastCoordinate_=null;c.startCoordinate_=
null;c.features_=void 0!==a.features?a.features:null;if(a.layers&&!c.features_)if("function"===typeof a.layers)var b=a.layers;else{var m=a.layers;b=function(z){return(0,h.includes)(m,z)}}else b=v.TRUE;c.layerFilter_=b;c.filter_=a.filter&&!c.features_?a.filter:v.TRUE;c.hitTolerance_=a.hitTolerance?a.hitTolerance:0;c.condition_=a.condition?a.condition:r.always;c.lastFeature_=null;c.addChangeListener(n.default.ACTIVE,c.handleActiveChanged_);return c}k(d,e);d.prototype.handleDownEvent=function(a){if(!a.originalEvent||
!this.condition_(a))return!1;this.lastFeature_=this.featuresAtPixel_(a.pixel,a.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=this.startCoordinate_=a.coordinate;this.handleMoveEvent(a);var c=this.features_||new p.default([this.lastFeature_]);this.dispatchEvent(new f("translatestart",c,a.coordinate,this.startCoordinate_,a));return!0}return!1};d.prototype.handleUpEvent=function(a){if(this.lastCoordinate_){this.lastCoordinate_=null;this.handleMoveEvent(a);var c=this.features_||
new p.default([this.lastFeature_]);this.dispatchEvent(new f("translateend",c,a.coordinate,this.startCoordinate_,a));this.startCoordinate_=null;return!0}return!1};d.prototype.handleDragEvent=function(a){if(this.lastCoordinate_){var c=a.coordinate,b=c[0]-this.lastCoordinate_[0],m=c[1]-this.lastCoordinate_[1],z=this.features_||new p.default([this.lastFeature_]);z.forEach(function(u){var C=u.getGeometry();C.translate(b,m);u.setGeometry(C)});this.lastCoordinate_=c;this.dispatchEvent(new f("translating",
z,c,this.startCoordinate_,a))}};d.prototype.handleMoveEvent=function(a){var c=a.map.getViewport();this.featuresAtPixel_(a.pixel,a.map)?(c.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),c.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):c.classList.remove("ol-grab","ol-grabbing")};d.prototype.featuresAtPixel_=function(a,c){return c.forEachFeatureAtPixel(a,function(b,m){if(this.filter_(b,m)&&(!this.features_||(0,h.includes)(this.features_.getArray(),b)))return b}.bind(this),
{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};d.prototype.getHitTolerance=function(){return this.hitTolerance_};d.prototype.setHitTolerance=function(a){this.hitTolerance_=a};d.prototype.setMap=function(a){var c=this.getMap();e.prototype.setMap.call(this,a);this.updateState_(c)};d.prototype.handleActiveChanged_=function(){this.updateState_(null)};d.prototype.updateState_=function(a){var c=this.getMap(),b=this.getActive();c&&b||(c=c||a)&&c.getViewport().classList.remove("ol-grab",
"ol-grabbing")};return d}(ob.default);G.default=F};
shadow$provide[237]=function(sa,F,ob,G){function y(R){return R&&R.__esModule?R:{default:R}}Object.defineProperty(G,"__esModule",{value:!0});G.defaults=function(R){R=R?R:{};var Z=new p.default,T=new e.default(-.005,.05,100);(void 0!==R.altShiftDragRotate?R.altShiftDragRotate:1)&&Z.push(new r.default);(void 0!==R.doubleClickZoom?R.doubleClickZoom:1)&&Z.push(new n.default({delta:R.zoomDelta,duration:R.zoomDuration}));(void 0!==R.dragPan?R.dragPan:1)&&Z.push(new v.default({onFocusOnly:R.onFocusOnly,kinetic:T}));
(void 0!==R.pinchRotate?R.pinchRotate:1)&&Z.push(new a.default);(void 0!==R.pinchZoom?R.pinchZoom:1)&&Z.push(new c.default({duration:R.zoomDuration}));if(void 0!==R.keyboard?R.keyboard:1)Z.push(new k.default),Z.push(new f.default({delta:R.zoomDelta,duration:R.zoomDuration}));(void 0!==R.mouseWheelZoom?R.mouseWheelZoom:1)&&Z.push(new d.default({onFocusOnly:R.onFocusOnly,duration:R.zoomDuration}));(void 0!==R.shiftDragZoom?R.shiftDragZoom:1)&&Z.push(new h.default({duration:R.zoomDuration}));return Z};
Object.defineProperty(G,"DoubleClickZoom",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(G,"DragPan",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"DragRotate",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,"DragZoom",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"KeyboardPan",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"KeyboardZoom",{enumerable:!0,get:function(){return f.default}});
Object.defineProperty(G,"MouseWheelZoom",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(G,"PinchRotate",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(G,"PinchZoom",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(G,"DragAndDrop",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(G,"DragBox",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(G,"DragRotateAndZoom",{enumerable:!0,get:function(){return z.default}});
Object.defineProperty(G,"Draw",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(G,"Extent",{enumerable:!0,get:function(){return C.default}});Object.defineProperty(G,"Interaction",{enumerable:!0,get:function(){return J.default}});Object.defineProperty(G,"Modify",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(G,"Pointer",{enumerable:!0,get:function(){return x.default}});Object.defineProperty(G,"Select",{enumerable:!0,get:function(){return q.default}});
Object.defineProperty(G,"Snap",{enumerable:!0,get:function(){return H.default}});Object.defineProperty(G,"Translate",{enumerable:!0,get:function(){return M.default}});var p=y(F(99)),n=y(F(161)),v=y(F(164)),r=y(F(165)),h=y(F(168)),k=y(F(170)),f=y(F(171)),e=y(F(172)),d=y(F(173)),a=y(F(174)),c=y(F(175)),b=y(F(176)),m=y(F(167)),z=y(F(177)),u=y(F(231)),C=y(F(232)),J=y(F(160)),A=y(F(233)),x=y(F(162)),q=y(F(234)),H=y(F(235)),M=y(F(236))};
shadow$provide[238]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(97));sa=y(F(146));var n=F(80),v=F(158),r=F(237),h=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}if("function"!==
typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();F=function(k){function f(e){e=(0,n.assign)({},e);e.controls||(e.controls=(0,v.defaults)());e.interactions||(e.interactions=(0,r.defaults)({onFocusOnly:!0}));return k.call(this,e)||this}h(f,k);f.prototype.createRenderer=function(){return new p.default(this)};return f}(sa.default);G.default=F};
shadow$provide[239]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}function p(k){for(var f=[],e=0,d=k.length;e<d;++e)f.push(k[e].clone());return f}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=y(F(82));sa=y(F(128));var v=F(74),r=F(83),h=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,
e)};return function(f,e){function d(){this.constructor=f}if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();F=function(k){function f(e){var d=k.call(this)||this;d.geometries_=e?e:null;d.changeEventsKeys_=[];d.listenGeometriesChange_();return d}h(f,k);f.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(r.unlistenByKey);this.changeEventsKeys_.length=
0};f.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,d=this.geometries_.length;e<d;++e)this.changeEventsKeys_.push((0,r.listen)(this.geometries_[e],n.default.CHANGE,this.changed,this))};f.prototype.clone=function(){var e=new f(null);e.setGeometries(this.geometries_);e.applyProperties(this);return e};f.prototype.closestPointXY=function(e,d,a,c){if(c<(0,v.closestSquaredDistanceXY)(this.getExtent(),e,d))return c;for(var b=this.geometries_,m=0,z=b.length;m<z;++m)c=b[m].closestPointXY(e,
d,a,c);return c};f.prototype.containsXY=function(e,d){for(var a=this.geometries_,c=0,b=a.length;c<b;++c)if(a[c].containsXY(e,d))return!0;return!1};f.prototype.computeExtent=function(e){(0,v.createOrUpdateEmpty)(e);for(var d=this.geometries_,a=0,c=d.length;a<c;++a)(0,v.extend)(e,d[a].getExtent());return e};f.prototype.getGeometries=function(){return p(this.geometries_)};f.prototype.getGeometriesArray=function(){return this.geometries_};f.prototype.getGeometriesArrayRecursive=function(){for(var e=[],
d=this.geometries_,a=0,c=d.length;a<c;++a)d[a].getType()===this.getType()?e=e.concat(d[a].getGeometriesArrayRecursive()):e.push(d[a]);return e};f.prototype.getSimplifiedGeometry=function(e){this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var d=[],a=this.geometries_,c=!1,
b=0,m=a.length;b<m;++b){var z=a[b],u=z.getSimplifiedGeometry(e);d.push(u);u!==z&&(c=!0)}if(c)return e=new f(null),e.setGeometriesArray(d),e;this.simplifiedGeometryMaxMinSquaredTolerance=e;return this};f.prototype.getType=function(){return"GeometryCollection"};f.prototype.intersectsExtent=function(e){for(var d=this.geometries_,a=0,c=d.length;a<c;++a)if(d[a].intersectsExtent(e))return!0;return!1};f.prototype.isEmpty=function(){return 0===this.geometries_.length};f.prototype.rotate=function(e,d){for(var a=
this.geometries_,c=0,b=a.length;c<b;++c)a[c].rotate(e,d);this.changed()};f.prototype.scale=function(e,d,a){a||(a=(0,v.getCenter)(this.getExtent()));for(var c=this.geometries_,b=0,m=c.length;b<m;++b)c[b].scale(e,d,a);this.changed()};f.prototype.setGeometries=function(e){this.setGeometriesArray(p(e))};f.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};f.prototype.applyTransform=function(e){for(var d=this.geometries_,
a=0,c=d.length;a<c;++a)d[a].applyTransform(e);this.changed()};f.prototype.translate=function(e,d){for(var a=this.geometries_,c=0,b=a.length;c<b;++c)a[c].translate(e,d);this.changed()};f.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();k.prototype.disposeInternal.call(this)};return f}(sa.default);G.default=F};
shadow$provide[240]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.transformGeometryWithOptions=function(r,h,k){var f=k?(0,v.get)(k.featureProjection):null,e=k?(0,v.get)(k.dataProjection):null;f=f&&e&&!(0,v.equivalent)(f,e)?(h?r.clone():r).transform(h?f:e,h?e:f):r;if(h&&k&&void 0!==k.decimals){var d=Math.pow(10,k.decimals);f===r&&(f=r.clone());f.applyTransform(function(a){for(var c=0,b=a.length;c<b;++c)a[c]=Math.round(a[c]*d)/d;return a})}return f};G.transformExtentWithOptions=
function(r,h){var k=h?(0,v.get)(h.featureProjection):null;h=h?(0,v.get)(h.dataProjection):null;return k&&h&&!(0,v.equivalent)(k,h)?(0,v.transformExtent)(r,h,k):r};G.default=void 0;var y=function(r){return r&&r.__esModule?r:{default:r}}(F(111)),p=F(68),n=F(80),v=F(121);sa=function(){function r(){this.defaultFeatureProjection=this.dataProjection=void 0;this.supportedMediaTypes=null}r.prototype.getReadOptions=function(h,k){if(k){h=k.dataProjection?(0,v.get)(k.dataProjection):this.readProjection(h);k.extent&&
h&&h.getUnits()===y.default.TILE_PIXELS&&(h=(0,v.get)(h),h.setWorldExtent(k.extent));var f={dataProjection:h,featureProjection:k.featureProjection}}return this.adaptOptions(f)};r.prototype.adaptOptions=function(h){return(0,n.assign)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},h)};r.prototype.getType=function(){return(0,p.abstract)()};r.prototype.readFeature=function(h,k){return(0,p.abstract)()};r.prototype.readFeatures=function(h,k){return(0,p.abstract)()};
r.prototype.readGeometry=function(h,k){return(0,p.abstract)()};r.prototype.readProjection=function(h){return(0,p.abstract)()};r.prototype.writeFeature=function(h,k){return(0,p.abstract)()};r.prototype.writeFeatures=function(h,k){return(0,p.abstract)()};r.prototype.writeGeometry=function(h,k){return(0,p.abstract)()};return r}();G.default=sa};
shadow$provide[241]=function(sa,F,ob,G){function y(v){return"string"===typeof v?v:""}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(v){return v&&v.__esModule?v:{default:v}}(F(240));var p=F(68),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==
typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(){return v.call(this)||this}n(r,v);r.prototype.getType=function(){return"text"};r.prototype.readFeature=function(h,k){return this.readFeatureFromText(y(h),this.adaptOptions(k))};r.prototype.readFeatureFromText=function(h,k){return(0,p.abstract)()};r.prototype.readFeatures=function(h,k){return this.readFeaturesFromText(y(h),
this.adaptOptions(k))};r.prototype.readFeaturesFromText=function(h,k){return(0,p.abstract)()};r.prototype.readGeometry=function(h,k){return this.readGeometryFromText(y(h),this.adaptOptions(k))};r.prototype.readGeometryFromText=function(h,k){return(0,p.abstract)()};r.prototype.readProjection=function(h){return this.readProjectionFromText(y(h))};r.prototype.readProjectionFromText=function(h){return this.dataProjection};r.prototype.writeFeature=function(h,k){return this.writeFeatureText(h,this.adaptOptions(k))};
r.prototype.writeFeatureText=function(h,k){return(0,p.abstract)()};r.prototype.writeFeatures=function(h,k){return this.writeFeaturesText(h,this.adaptOptions(k))};r.prototype.writeFeaturesText=function(h,k){return(0,p.abstract)()};r.prototype.writeGeometry=function(h,k){return this.writeGeometryText(h,this.adaptOptions(k))};r.prototype.writeGeometryText=function(h,k){return(0,p.abstract)()};return r}(sa.default);G.default=F};
shadow$provide[242]=function(sa,F,ob,G){function y(q){return q&&q.__esModule?q:{default:q}}function p(q){q=q.getCoordinates();return 0===q.length?"":q.join(" ")}function n(q){q=q.getCoordinates();for(var H=[],M=0,R=q.length;M<R;++M)H.push(q[M].join(" "));return H.join(",")}function v(q){var H=[];q=q.getLinearRings();for(var M=0,R=q.length;M<R;++M)H.push("("+n(q[M])+")");return H.join(",")}function r(q){var H=q.getType(),M=(0,x[H])(q);H=C[H];if("function"===typeof q.getFlatCoordinates){q=q.getLayout();
var R="";if(q===f.default.XYZ||q===f.default.XYZM)R+="Z";if(q===f.default.XYM||q===f.default.XYZM)R+="M";q=R;0<q.length&&(H+=" "+q)}return 0===M.length?H+" EMPTY":H+"("+M+")"}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var h=y(F(179)),k=y(F(239)),f=y(F(126));sa=y(F(182));ob=y(F(183));var e=y(F(184)),d=y(F(186)),a=y(F(136)),c=y(F(143)),b=y(F(241)),m=F(240),z=function(){var q=function(H,M){q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,Z){R.__proto__=Z}||function(R,
Z){for(var T in Z)Object.prototype.hasOwnProperty.call(Z,T)&&(R[T]=Z[T])};return q(H,M)};return function(H,M){function R(){this.constructor=H}if("function"!==typeof M&&null!==M)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");q(H,M);H.prototype=null===M?Object.create(M):(R.prototype=M.prototype,new R)}}(),u={POINT:a.default,LINESTRING:sa.default,POLYGON:c.default,MULTIPOINT:e.default,MULTILINESTRING:ob.default,MULTIPOLYGON:d.default},C={Point:"POINT",LineString:"LINESTRING",
Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"},J=function(){function q(H){this.wkt=H;this.index_=-1}q.prototype.isAlpha_=function(H){return"a"<=H&&"z">=H||"A"<=H&&"Z">=H};q.prototype.isNumeric_=function(H,M){return"0"<=H&&"9">=H||"."==H&&!(void 0!==M&&M)};q.prototype.isWhiteSpace_=function(H){return" "==H||"\t"==H||"\r"==H||"\n"==H};q.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};
q.prototype.nextToken=function(){var H=this.nextChar_(),M=this.index_,R=H;if("("==H)H=2;else if(","==H)H=5;else if(")"==H)H=3;else if(this.isNumeric_(H)||"-"==H)H=4,R=this.readNumber_();else if(this.isAlpha_(H))H=1,R=this.readText_();else{if(this.isWhiteSpace_(H))return this.nextToken();if(""===H)H=6;else throw Error("Unexpected character: "+H);}return{position:M,value:R,type:H}};q.prototype.readNumber_=function(){var H=this.index_,M=!1,R=!1;do{if("."==Z)M=!0;else if("e"==Z||"E"==Z)R=!0;var Z=this.nextChar_()}while(this.isNumeric_(Z,
M)||!R&&("e"==Z||"E"==Z)||R&&("-"==Z||"+"==Z));return parseFloat(this.wkt.substring(H,this.index_--))};q.prototype.readText_=function(){var H=this.index_;do var M=this.nextChar_();while(this.isAlpha_(M));return this.wkt.substring(H,this.index_--).toUpperCase()};return q}(),A=function(){function q(H){this.lexer_=H;this.token_={position:0,type:0};this.layout_=f.default.XY}q.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};q.prototype.isTokenType=function(H){return this.token_.type==
H};q.prototype.match=function(H){(H=this.isTokenType(H))&&this.consume_();return H};q.prototype.parse=function(){this.consume_();return this.parseGeometry_()};q.prototype.parseGeometryLayout_=function(){var H=f.default.XY,M=this.token_;this.isTokenType(1)&&(M=M.value,"Z"===M?H=f.default.XYZ:"M"===M?H=f.default.XYM:"ZM"===M&&(H=f.default.XYZM),H!==f.default.XY&&this.consume_());return H};q.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var H=[];do H.push(this.parseGeometry_());
while(this.match(5));if(this.match(3))return H}throw Error(this.formatErrorMessage_());};q.prototype.parsePointText_=function(){if(this.match(2)){var H=this.parsePoint_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());};q.prototype.parseLineStringText_=function(){if(this.match(2)){var H=this.parsePointList_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());};q.prototype.parsePolygonText_=function(){if(this.match(2)){var H=this.parseLineStringTextList_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());
};q.prototype.parseMultiPointText_=function(){if(this.match(2)){var H=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());};q.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var H=this.parseLineStringTextList_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());};q.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var H=this.parsePolygonTextList_();if(this.match(3))return H}throw Error(this.formatErrorMessage_());
};q.prototype.parsePoint_=function(){for(var H=[],M=this.layout_.length,R=0;R<M;++R){var Z=this.token_;if(this.match(4))H.push(Z.value);else break}if(H.length==M)return H;throw Error(this.formatErrorMessage_());};q.prototype.parsePointList_=function(){for(var H=[this.parsePoint_()];this.match(5);)H.push(this.parsePoint_());return H};q.prototype.parsePointTextList_=function(){for(var H=[this.parsePointText_()];this.match(5);)H.push(this.parsePointText_());return H};q.prototype.parseLineStringTextList_=
function(){for(var H=[this.parseLineStringText_()];this.match(5);)H.push(this.parseLineStringText_());return H};q.prototype.parsePolygonTextList_=function(){for(var H=[this.parsePolygonText_()];this.match(5);)H.push(this.parsePolygonText_());return H};q.prototype.isEmptyGeometry_=function(){var H=this.isTokenType(1)&&"EMPTY"==this.token_.value;H&&this.consume_();return H};q.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+
this.lexer_.wkt+"`"};q.prototype.parseGeometry_=function(){var H=this.token_;if(this.match(1)){H=H.value;this.layout_=this.parseGeometryLayout_();var M=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==H){if(M)return new k.default([]);H=this.parseGeometryCollectionText_();return new k.default(H)}var R=u[H];if(!R)throw Error("Invalid geometry type: "+H);var Z=void 0;if(M)Z="POINT"==H?[NaN,NaN]:[];else switch(H){case "POINT":Z=this.parsePointText_();break;case "LINESTRING":Z=this.parseLineStringText_();
break;case "POLYGON":Z=this.parsePolygonText_();break;case "MULTIPOINT":Z=this.parseMultiPointText_();break;case "MULTILINESTRING":Z=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":Z=this.parseMultiPolygonText_()}return new R(Z,this.layout_)}throw Error(this.formatErrorMessage_());};return q}();F=function(q){function H(M){var R=q.call(this)||this;M=M?M:{};R.splitCollection_=void 0!==M.splitCollection?M.splitCollection:!1;return R}z(H,q);H.prototype.parse_=function(M){M=new J(M);return(new A(M)).parse()};
H.prototype.readFeatureFromText=function(M,R){M=this.readGeometryFromText(M,R);R=new h.default;R.setGeometry(M);return R};H.prototype.readFeaturesFromText=function(M,R){M=this.readGeometryFromText(M,R);M=this.splitCollection_&&"GeometryCollection"==M.getType()?M.getGeometriesArray():[M];R=[];for(var Z=0,T=M.length;Z<T;++Z){var ba=new h.default;ba.setGeometry(M[Z]);R.push(ba)}return R};H.prototype.readGeometryFromText=function(M,R){M=this.parse_(M);return(0,m.transformGeometryWithOptions)(M,!1,R)};
H.prototype.writeFeatureText=function(M,R){return(M=M.getGeometry())?this.writeGeometryText(M,R):""};H.prototype.writeFeaturesText=function(M,R){if(1==M.length)return this.writeFeatureText(M[0],R);for(var Z=[],T=0,ba=M.length;T<ba;++T)Z.push(M[T].getGeometry());M=new k.default(Z);return this.writeGeometryText(M,R)};H.prototype.writeGeometryText=function(M,R){return r((0,m.transformGeometryWithOptions)(M,!0,R))};return H}(b.default);var x={Point:p,LineString:n,Polygon:v,MultiPoint:function(q){var H=
[];q=q.getPoints();for(var M=0,R=q.length;M<R;++M)H.push("("+p(q[M])+")");return H.join(",")},MultiLineString:function(q){var H=[];q=q.getLineStrings();for(var M=0,R=q.length;M<R;++M)H.push("("+n(q[M])+")");return H.join(",")},MultiPolygon:function(q){var H=[];q=q.getPolygons();for(var M=0,R=q.length;M<R;++M)H.push("("+v(q[M])+")");return H.join(",")},GeometryCollection:function(q){var H=[];q=q.getGeometries();for(var M=0,R=q.length;M<R;++M)H.push(r(q[M]));return H.join(",")}};G.default=F};
shadow$provide[243]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(71);sa=function(){function p(n){this.highWaterMark=void 0!==n?n:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}p.prototype.canExpireCache=function(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark};p.prototype.expireCache=function(n){for(;this.canExpireCache();)this.pop()};p.prototype.clear=function(){this.count_=0;this.entries_={};this.newest_=this.oldest_=
null};p.prototype.containsKey=function(n){return this.entries_.hasOwnProperty(n)};p.prototype.forEach=function(n){for(var v=this.oldest_;v;)n(v.value_,v.key_,this),v=v.newer};p.prototype.get=function(n,v){n=this.entries_[n];(0,y.assert)(void 0!==n,15);if(n===this.newest_)return n.value_;n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer);n.newer=null;n.older=this.newest_;this.newest_=this.newest_.newer=n;return n.value_};p.prototype.remove=
function(n){var v=this.entries_[n];(0,y.assert)(void 0!==v,15);if(v===this.newest_){if(this.newest_=v.older)this.newest_.newer=null}else if(v===this.oldest_){if(this.oldest_=v.newer)this.oldest_.older=null}else v.newer.older=v.older,v.older.newer=v.newer;delete this.entries_[n];--this.count_;return v.value_};p.prototype.getCount=function(){return this.count_};p.prototype.getKeys=function(){var n=Array(this.count_),v=0,r;for(r=this.newest_;r;r=r.older)n[v++]=r.key_;return n};p.prototype.getValues=
function(){var n=Array(this.count_),v=0,r;for(r=this.newest_;r;r=r.older)n[v++]=r.value_;return n};p.prototype.peekLast=function(){return this.oldest_.value_};p.prototype.peekLastKey=function(){return this.oldest_.key_};p.prototype.peekFirstKey=function(){return this.newest_.key_};p.prototype.peek=function(n){if(this.containsKey(n))return this.entries_[n].value_};p.prototype.pop=function(){var n=this.oldest_;delete this.entries_[n.key_];n.newer&&(n.newer.older=null);this.oldest_=n.newer;this.oldest_||
(this.newest_=null);--this.count_;return n.value_};p.prototype.replace=function(n,v){this.get(n);this.entries_[n].value_=v};p.prototype.set=function(n,v){(0,y.assert)(!(n in this.entries_),16);v={key_:n,newer:null,older:this.newest_,value_:v};this.newest_?this.newest_.newer=v:this.oldest_=v;this.newest_=v;this.entries_[n]=v;++this.count_};p.prototype.setSize=function(n){this.highWaterMark=n};return p}();G.default=sa};
shadow$provide[244]=function(sa,F,ob,G){function y(k){return k&&k.__esModule?k:{default:k}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(81));var p=y(F(82)),n=y(F(109)),v=F(68),r=F(125),h=function(){var k=function(f,e){k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(d[c]=a[c])};return k(f,e)};return function(f,e){function d(){this.constructor=f}if("function"!==
typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");k(f,e);f.prototype=null===e?Object.create(e):(d.prototype=e.prototype,new d)}}();F=function(k){function f(e,d,a){var c=k.call(this)||this;a=a?a:{};c.tileCoord=e;c.state=d;c.interimTile=null;c.key="";c.transition_=void 0===a.transition?250:a.transition;c.transitionStarts_={};c.interpolate=!!a.interpolate;return c}h(f,k);f.prototype.changed=function(){this.dispatchEvent(p.default.CHANGE)};f.prototype.release=
function(){};f.prototype.getKey=function(){return this.key+"/"+this.tileCoord};f.prototype.getInterimTile=function(){if(!this.interimTile)return this;var e=this.interimTile;do{if(e.getState()==n.default.LOADED)return this.transition_=0,e;e=e.interimTile}while(e);return this};f.prototype.refreshInterimChain=function(){if(this.interimTile){var e=this.interimTile,d=this;do{if(e.getState()==n.default.LOADED){e.interimTile=null;break}else e.getState()==n.default.LOADING?d=e:e.getState()==n.default.IDLE?
d.interimTile=e.interimTile:d=e;e=d.interimTile}while(e)}};f.prototype.getTileCoord=function(){return this.tileCoord};f.prototype.getState=function(){return this.state};f.prototype.setState=function(e){if(this.state!==n.default.ERROR&&this.state>e)throw Error("Tile load sequence violation");this.state=e;this.changed()};f.prototype.load=function(){(0,v.abstract)()};f.prototype.getAlpha=function(e,d){if(!this.transition_)return 1;var a=this.transitionStarts_[e];if(!a)a=d,this.transitionStarts_[e]=a;
else if(-1===a)return 1;e=d-a+1E3/60;return e>=this.transition_?1:(0,r.easeIn)(e/this.transition_)};f.prototype.inTransition=function(e){return this.transition_?-1!==this.transitionStarts_[e]:!1};f.prototype.endTransition=function(e){this.transition_&&(this.transitionStarts_[e]=-1)};return f}(sa.default);G.default=F};
shadow$provide[245]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(244));var p=y(F(109)),n=F(95),v=F(216),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f,e,d,a,c,b){f=h.call(this,f,e,b)||this;f.crossOrigin_=a;f.src_=d;f.key=d;f.image_=new Image;null!==a&&(f.image_.crossOrigin=a);f.unlisten_=null;f.tileLoadFunction_=c;return f}r(k,h);k.prototype.getImage=function(){return this.image_};k.prototype.setImage=function(f){this.image_=f;this.state=p.default.LOADED;
this.unlistenImage_();this.changed()};k.prototype.handleImageError_=function(){this.state=p.default.ERROR;this.unlistenImage_();var f=(0,n.createCanvasContext2D)(1,1);f.fillStyle="rgba(0,0,0,0)";f.fillRect(0,0,1,1);this.image_=f.canvas;this.changed()};k.prototype.handleImageLoad_=function(){var f=this.image_;this.state=f.naturalWidth&&f.naturalHeight?p.default.LOADED:p.default.EMPTY;this.unlistenImage_();this.changed()};k.prototype.load=function(){this.state==p.default.ERROR&&(this.state=p.default.IDLE,
this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));this.state==p.default.IDLE&&(this.state=p.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,v.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))};k.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)};return k}(sa.default);G.default=F};
shadow$provide[246]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.ERROR_THRESHOLD=.5;G.ENABLE_RASTER_REPROJECTION=!0};
shadow$provide[247]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(74),p=F(121),n=F(75);sa=function(){function v(r,h,k,f,e,d){this.sourceProj_=r;this.targetProj_=h;var a={},c=(0,p.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(J){var A=J[0]+"/"+J[1];a[A]||(a[A]=c(J));return a[A]};this.maxSourceExtent_=f;this.errorThresholdSquared_=e*e;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!f&&!!this.sourceProj_.getExtent()&&(0,y.getWidth)(f)==(0,y.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,y.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,y.getWidth)(this.targetProj_.getExtent()):null;r=(0,y.getTopLeft)(k);h=(0,y.getTopRight)(k);f=(0,y.getBottomRight)(k);e=(0,y.getBottomLeft)(k);var b=this.transformInv_(r),m=this.transformInv_(h),z=this.transformInv_(f),u=this.transformInv_(e);
k=10+(d?Math.max(0,Math.ceil((0,n.log2)((0,y.getArea)(k)/(d*d*65536)))):0);this.addQuad_(r,h,f,e,b,m,z,u,k);if(this.wrapsXInSource_){var C=Infinity;this.triangles_.forEach(function(J,A,x){C=Math.min(C,J.source[0][0],J.source[1][0],J.source[2][0])});this.triangles_.forEach(function(J){if(Math.max(J.source[0][0],J.source[1][0],J.source[2][0])-C>this.sourceWorldWidth_/2){var A=[[J.source[0][0],J.source[0][1]],[J.source[1][0],J.source[1][1]],[J.source[2][0],J.source[2][1]]];A[0][0]-C>this.sourceWorldWidth_/
2&&(A[0][0]-=this.sourceWorldWidth_);A[1][0]-C>this.sourceWorldWidth_/2&&(A[1][0]-=this.sourceWorldWidth_);A[2][0]-C>this.sourceWorldWidth_/2&&(A[2][0]-=this.sourceWorldWidth_);Math.max(A[0][0],A[1][0],A[2][0])-Math.min(A[0][0],A[1][0],A[2][0])<this.sourceWorldWidth_/2&&(J.source=A)}}.bind(this))}a={}}v.prototype.addTriangle_=function(r,h,k,f,e,d){this.triangles_.push({source:[f,e,d],target:[r,h,k]})};v.prototype.addQuad_=function(r,h,k,f,e,d,a,c,b){var m=(0,y.boundingExtent)([e,d,a,c]),z=this.sourceWorldWidth_?
(0,y.getWidth)(m)/this.sourceWorldWidth_:null,u=this.sourceWorldWidth_,C=this.sourceProj_.canWrapX()&&.5<z&&1>z,J=!1;if(0<b){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var A=(0,y.boundingExtent)([r,h,k,f]);J=.25<(0,y.getWidth)(A)/this.targetWorldWidth_||J}!C&&this.sourceProj_.isGlobal()&&z&&(J=.25<z||J)}if(J||!this.maxSourceExtent_||!(isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3]))||(0,y.intersects)(m,this.maxSourceExtent_)){m=0;if(!(J||isFinite(e[0])&&isFinite(e[1])&&
isFinite(d[0])&&isFinite(d[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(c[0])&&isFinite(c[1])))if(0<b)J=!0;else if(m=(isFinite(e[0])&&isFinite(e[1])?0:8)+(isFinite(d[0])&&isFinite(d[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(c[0])&&isFinite(c[1])?0:1),1!=m&&2!=m&&4!=m&&8!=m)return;if(0<b&&(J||(J=this.transformInv_([(r[0]+k[0])/2,(r[1]+k[1])/2]),u=C?((0,n.modulo)(e[0],u)+(0,n.modulo)(a[0],u))/2-(0,n.modulo)(J[0],u):(e[0]+a[0])/2-J[0],J=(e[1]+a[1])/2-J[1],J=u*u+J*J>this.errorThresholdSquared_),
J)){Math.abs(r[0]-k[0])<=Math.abs(r[1]-k[1])?(C=[(h[0]+k[0])/2,(h[1]+k[1])/2],u=this.transformInv_(C),J=[(f[0]+r[0])/2,(f[1]+r[1])/2],m=this.transformInv_(J),this.addQuad_(r,h,C,J,e,d,u,m,b-1),this.addQuad_(J,C,k,f,m,u,a,c,b-1)):(C=[(r[0]+h[0])/2,(r[1]+h[1])/2],u=this.transformInv_(C),J=[(k[0]+f[0])/2,(k[1]+f[1])/2],m=this.transformInv_(J),this.addQuad_(r,C,J,f,e,u,m,c,b-1),this.addQuad_(C,h,k,J,u,d,a,m,b-1));return}if(C){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(m&11)&&this.addTriangle_(r,
k,f,e,a,c);0==(m&14)&&this.addTriangle_(r,k,h,e,a,d);m&&(0==(m&13)&&this.addTriangle_(h,f,r,d,c,e),0==(m&7)&&this.addTriangle_(h,f,k,d,c,a))}};v.prototype.calculateSourceExtent=function(){var r=(0,y.createEmpty)();this.triangles_.forEach(function(h,k,f){h=h.source;(0,y.extendCoordinate)(r,h[0]);(0,y.extendCoordinate)(r,h[1]);(0,y.extendCoordinate)(r,h[2])});return r};v.prototype.getTriangles=function(){return this.triangles_};return v}();G.default=sa};
shadow$provide[248]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.IMAGE_SMOOTHING_DISABLED={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};G.IMAGE_SMOOTHING_ENABLED={imageSmoothingEnabled:!0,msImageSmoothingEnabled:!0}};
shadow$provide[249]=function(sa,F,ob,G){function y(c,b,m,z,u){c.beginPath();c.moveTo(0,0);c.lineTo(b,m);c.lineTo(z,u);c.closePath();c.save();c.clip();c.fillRect(0,0,Math.max(b,z)+1,Math.max(m,u));c.restore()}function p(c,b){return 2<Math.abs(c[4*b]-210)||2<Math.abs(c[4*b+3]-191.25)}function n(c,b,m,z){var u=(0,f.transform)(m,b,c);m=(0,f.getPointResolution)(b,z,m);b=b.getMetersPerUnit();void 0!==b&&(m*=b);b=c.getMetersPerUnit();void 0!==b&&(m/=b);b=c.getExtent();if(!b||(0,h.containsCoordinate)(b,u))c=
(0,f.getPointResolution)(c,m,u)/m,isFinite(c)&&0<c&&(m/=c);return m}Object.defineProperty(G,"__esModule",{value:!0});G.calculateSourceResolution=n;G.calculateSourceExtentResolution=function(c,b,m,z){var u=(0,h.getCenter)(m),C=n(c,b,u,z);(!isFinite(C)||0>=C)&&(0,h.forEachCorner)(m,function(J){C=n(c,b,J,z);return isFinite(C)&&0<C});return C};G.render=function(c,b,m,z,u,C,J,A,x,q,H,M){function R(X){return Math.round(X*m)/m}var Z=(0,k.createCanvasContext2D)(Math.round(m*c),Math.round(m*b),a);M||(0,r.assign)(Z,
v.IMAGE_SMOOTHING_DISABLED);if(0===x.length)return Z.canvas;Z.scale(m,m);Z.globalCompositeOperation="lighter";var T=(0,h.createEmpty)();x.forEach(function(X,P,w){(0,h.extend)(T,X.extent)});c=(0,h.getWidth)(T);b=(0,h.getHeight)(T);var ba=(0,k.createCanvasContext2D)(Math.round(m*c/z),Math.round(m*b/z));M||(0,r.assign)(ba,v.IMAGE_SMOOTHING_DISABLED);var aa=m/z;x.forEach(function(X,P,w){P=X.extent[0]-T[0];w=-(X.extent[3]-T[3]);var B=(0,h.getWidth)(X.extent),K=(0,h.getHeight)(X.extent);0<X.image.width&&
0<X.image.height&&ba.drawImage(X.image,q,q,X.image.width-2*q,X.image.height-2*q,P*aa,w*aa,B*aa,K*aa)});var W=(0,h.getTopLeft)(J);A.getTriangles().forEach(function(X,P,w){w=X.source;var B=X.target;X=w[0][0];P=w[0][1];var K=w[1][0],U=w[1][1],ka=w[2][0],da=w[2][1];w=R((B[0][0]-W[0])/C);var la=R(-(B[0][1]-W[1])/C),wa=R((B[1][0]-W[0])/C),Ua=R(-(B[1][1]-W[1])/C),hb=R((B[2][0]-W[0])/C);B=R(-(B[2][1]-W[1])/C);K-=X;U-=P;ka-=X;da-=P;if(K=(0,e.solveLinearSystem)([[K,U,0,0,wa-w],[ka,da,0,0,hb-w],[0,0,K,U,Ua-
la],[0,0,ka,da,B-la]])){Z.save();Z.beginPath();void 0===d&&(U=document.createElement("canvas").getContext("2d"),U.globalCompositeOperation="lighter",U.fillStyle="rgba(210, 0, 0, 0.75)",y(U,4,5,4,0),y(U,4,5,0,5),U=U.getImageData(0,0,3,3).data,d=p(U,0)||p(U,4)||p(U,8));if(d||!M)for(Z.moveTo(wa,Ua),U=w-wa,ka=la-Ua,da=0;4>da;da++)Z.lineTo(wa+R((da+1)*U/4),Ua+R(da*ka/3)),3!=da&&Z.lineTo(wa+R((da+1)*U/4),Ua+R((da+1)*ka/3));else Z.moveTo(wa,Ua),Z.lineTo(w,la);Z.lineTo(hb,B);Z.clip();Z.transform(K[0],K[2],
K[1],K[3],w,la);Z.translate(T[0]-X,T[3]-P);Z.scale(z/m,-z/m);Z.drawImage(ba.canvas,0,0);Z.restore()}});H&&(Z.save(),Z.globalCompositeOperation="source-over",Z.strokeStyle="black",Z.lineWidth=1,A.getTriangles().forEach(function(X,P,w){var B=X.target;X=(B[0][0]-W[0])/C;P=-(B[0][1]-W[1])/C;w=(B[1][0]-W[0])/C;var K=-(B[1][1]-W[1])/C,U=(B[2][0]-W[0])/C;B=-(B[2][1]-W[1])/C;Z.beginPath();Z.moveTo(w,K);Z.lineTo(X,P);Z.lineTo(U,B);Z.closePath();Z.stroke()}),Z.restore());return Z.canvas};G.canvasPool=void 0;
var v=F(248),r=F(80),h=F(74),k=F(95),f=F(121),e=F(75),d,a=[];G.canvasPool=a};
shadow$provide[250]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=F(246),n=y(F(82));sa=y(F(244));var v=y(F(109)),r=y(F(247)),h=F(249),k=F(75),f=F(74),e=F(83),d=F(95),a=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(z[C]=u[C])};return c(b,m)};return function(b,
m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}();F=function(c){function b(m,z,u,C,J,A,x,q,H,M,R,Z){Z=c.call(this,J,v.default.IDLE,{interpolate:!!Z})||this;Z.renderEdges_=void 0!==R?R:!1;Z.pixelRatio_=x;Z.gutter_=q;Z.canvas_=null;Z.sourceTileGrid_=z;Z.targetTileGrid_=C;Z.wrappedTileCoord_=A?A:J;Z.sourceTiles_=[];
Z.sourcesListenerKeys_=null;Z.sourceZ_=0;A=C.getTileCoordExtent(Z.wrappedTileCoord_);q=Z.targetTileGrid_.getExtent();J=Z.sourceTileGrid_.getExtent();A=q?(0,f.getIntersection)(A,q):A;if(0===(0,f.getArea)(A))return Z.state=v.default.EMPTY,Z;(q=m.getExtent())&&(J=J?(0,f.getIntersection)(J,q):q);C=C.getResolution(Z.wrappedTileCoord_[0]);q=(0,h.calculateSourceExtentResolution)(m,u,A,C);if(!isFinite(q)||0>=q)return Z.state=v.default.EMPTY,Z;Z.triangulation_=new r.default(m,u,A,J,q*(void 0!==M?M:p.ERROR_THRESHOLD),
C);if(0===Z.triangulation_.getTriangles().length)return Z.state=v.default.EMPTY,Z;Z.sourceZ_=z.getZForResolution(q);u=Z.triangulation_.calculateSourceExtent();J&&(m.canWrapX()?(u[1]=(0,k.clamp)(u[1],J[1],J[3]),u[3]=(0,k.clamp)(u[3],J[1],J[3])):u=(0,f.getIntersection)(u,J));if((0,f.getArea)(u)){m=z.getTileRangeForExtentAndZ(u,Z.sourceZ_);for(z=m.minX;z<=m.maxX;z++)for(u=m.minY;u<=m.maxY;u++)(M=H(Z.sourceZ_,z,u,x))&&Z.sourceTiles_.push(M);0===Z.sourceTiles_.length&&(Z.state=v.default.EMPTY)}else Z.state=
v.default.EMPTY;return Z}a(b,c);b.prototype.getImage=function(){return this.canvas_};b.prototype.reproject_=function(){var m=[];this.sourceTiles_.forEach(function(x,q,H){x&&x.getState()==v.default.LOADED&&m.push({extent:this.sourceTileGrid_.getTileCoordExtent(x.tileCoord),image:x.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===m.length)this.state=v.default.ERROR;else{var z=this.wrappedTileCoord_[0],u=this.targetTileGrid_.getTileSize(z),C="number"===typeof u?u:u[0];u="number"===typeof u?
u:u[1];z=this.targetTileGrid_.getResolution(z);var J=this.sourceTileGrid_.getResolution(this.sourceZ_),A=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,h.render)(C,u,this.pixelRatio_,J,this.sourceTileGrid_.getExtent(),z,A,this.triangulation_,m,this.gutter_,this.renderEdges_,this.interpolate);this.state=v.default.LOADED}this.changed()};b.prototype.load=function(){if(this.state==v.default.IDLE){this.state=v.default.LOADING;this.changed();var m=0;this.sourcesListenerKeys_=
[];this.sourceTiles_.forEach(function(z,u,C){u=z.getState();if(u==v.default.IDLE||u==v.default.LOADING){m++;var J=(0,e.listen)(z,n.default.CHANGE,function(A){A=z.getState();if(A==v.default.LOADED||A==v.default.ERROR||A==v.default.EMPTY)(0,e.unlistenByKey)(J),m--,0===m&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(J)}}.bind(this));0===m?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(z,u,C){z.getState()==v.default.IDLE&&z.load()})}};
b.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(e.unlistenByKey);this.sourcesListenerKeys_=null};b.prototype.release=function(){this.canvas_&&((0,d.releaseCanvas)(this.canvas_.getContext("2d")),h.canvasPool.push(this.canvas_),this.canvas_=null);c.prototype.release.call(this)};return b}(sa.default);G.default=F};
shadow$provide[251]=function(sa,F,ob,G){function y(p,n,v){return p+"/"+n+"/"+v}Object.defineProperty(G,"__esModule",{value:!0});G.createOrUpdate=function(p,n,v,r){return void 0!==r?(r[0]=p,r[1]=n,r[2]=v,r):[p,n,v]};G.getKeyZXY=y;G.getKey=function(p){return y(p[0],p[1],p[2])};G.getCacheKeyForTileKey=function(p){p=p.substring(p.lastIndexOf("/")+1,p.length).split(",").map(Number);return y(p[0],p[1],p[2])};G.fromKey=function(p){return p.split("/").map(Number)};G.hash=function(p){return(p[1]<<p[0])+p[2]};
G.withinExtentAndZ=function(p,n){var v=p[0],r=p[1];p=p[2];return n.getMinZoom()>v||v>n.getMaxZoom()?!1:(n=n.getFullTileRange(v))?n.containsXY(r,p):!0}};
shadow$provide[252]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(n){return n&&n.__esModule?n:{default:n}}(F(243));var y=F(251),p=function(){var n=function(v,r){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,k){h.__proto__=k}||function(h,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h[f]=k[f])};return n(v,r)};return function(v,r){function h(){this.constructor=v}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+
String(r)+" is not a constructor or null");n(v,r);v.prototype=null===r?Object.create(r):(h.prototype=r.prototype,new h)}}();F=function(n){function v(){return null!==n&&n.apply(this,arguments)||this}p(v,n);v.prototype.expireCache=function(r){for(;this.canExpireCache()&&!(this.peekLast().getKey()in r);)this.pop().release()};v.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var r=this.peekFirstKey(),h=(0,y.fromKey)(r)[0];this.forEach(function(k){k.tileCoord[0]!==h&&(this.remove((0,y.getKey)(k.tileCoord)),
k.release())}.bind(this))}};return v}(sa.default);G.default=F};
shadow$provide[253]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[254]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.createOrUpdate=function(p,n,v,r,h){return void 0!==h?(h.minX=p,h.maxX=n,h.minY=v,h.maxY=r,h):new y(p,n,v,r)};G.default=void 0;var y=function(){function p(n,v,r,h){this.minX=n;this.maxX=v;this.minY=r;this.maxY=h}p.prototype.contains=function(n){return this.containsXY(n[1],n[2])};p.prototype.containsTileRange=function(n){return this.minX<=n.minX&&n.maxX<=this.maxX&&this.minY<=n.minY&&n.maxY<=this.maxY};p.prototype.containsXY=
function(n,v){return this.minX<=n&&n<=this.maxX&&this.minY<=v&&v<=this.maxY};p.prototype.equals=function(n){return this.minX==n.minX&&this.minY==n.minY&&this.maxX==n.maxX&&this.maxY==n.maxY};p.prototype.extend=function(n){n.minX<this.minX&&(this.minX=n.minX);n.maxX>this.maxX&&(this.maxX=n.maxX);n.minY<this.minY&&(this.minY=n.minY);n.maxY>this.maxY&&(this.maxY=n.maxY)};p.prototype.getHeight=function(){return this.maxY-this.minY+1};p.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};
p.prototype.getWidth=function(){return this.maxX-this.minX+1};p.prototype.intersects=function(n){return this.minX<=n.maxX&&this.maxX>=n.minX&&this.minY<=n.maxY&&this.maxY>=n.minY};return p}();G.default=y};
shadow$provide[255]=function(sa,F,ob,G){function y(c){if("function"!==typeof WeakMap)return null;var b=new WeakMap,m=new WeakMap;return(y=function(z){return z?m:b})(c)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=function(c,b){if(!b&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((b=y(b))&&b.has(c))return b.get(c);var m={},z=Object.defineProperty&&Object.getOwnPropertyDescriptor,u;for(u in c)if("default"!==u&&Object.prototype.hasOwnProperty.call(c,
u)){var C=z?Object.getOwnPropertyDescriptor(c,u):null;C&&(C.get||C.set)?Object.defineProperty(m,u,C):m[u]=c[u]}m.default=c;b&&b.set(c,m);return m}(F(254)),n=F(114),v=F(71),r=F(75),h=F(74),k=F(251),f=F(140),e=F(66),d=F(145),a=[0,0,0];sa=function(){function c(b){this.minZoom=void 0!==b.minZoom?b.minZoom:0;this.resolutions_=b.resolutions;(0,v.assert)((0,e.isSorted)(this.resolutions_,function(J,A){return A-J},!0),17);if(!b.origins)for(var m=0,z=this.resolutions_.length-1;m<z;++m)if(!u)var u=this.resolutions_[m]/
this.resolutions_[m+1];else if(this.resolutions_[m]/this.resolutions_[m+1]!==u){u=void 0;break}this.zoomFactor_=u;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==b.origin?b.origin:null;this.origins_=null;void 0!==b.origins&&(this.origins_=b.origins,(0,v.assert)(this.origins_.length==this.resolutions_.length,20));var C=b.extent;void 0===C||this.origin_||this.origins_||(this.origin_=(0,h.getTopLeft)(C));(0,v.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=
null;void 0!==b.tileSizes&&(this.tileSizes_=b.tileSizes,(0,v.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==b.tileSize?b.tileSize:this.tileSizes_?null:n.DEFAULT_TILE_SIZE;(0,v.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=void 0!==C?C:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];this.tmpExtent_=[0,0,0,0];void 0!==b.sizes?this.fullTileRanges_=b.sizes.map(function(J,A){J=new p.default(Math.min(0,J[0]),Math.max(J[0]-
1,-1),Math.min(0,J[1]),Math.max(J[1]-1,-1));C&&(A=this.getTileRangeForExtentAndZ(C,A),J.minX=Math.max(A.minX,J.minX),J.maxX=Math.min(A.maxX,J.maxX),J.minY=Math.max(A.minY,J.minY),J.maxY=Math.min(A.maxY,J.maxY));return J},this):C&&this.calculateTileRanges_(C)}c.prototype.forEachTileCoord=function(b,m,z){b=this.getTileRangeForExtentAndZ(b,m);for(var u=b.minX,C=b.maxX;u<=C;++u)for(var J=b.minY,A=b.maxY;J<=A;++J)z([m,u,J])};c.prototype.forEachTileCoordParentTileRange=function(b,m,z,u){var C=null,J=b[0]-
1;if(2===this.zoomFactor_){var A=b[1];var x=b[2]}else C=this.getTileCoordExtent(b,u);for(;J>=this.minZoom;){2===this.zoomFactor_?(A=Math.floor(A/2),x=Math.floor(x/2),b=(0,p.createOrUpdate)(A,A,x,x,z)):b=this.getTileRangeForExtentAndZ(C,J,z);if(m(J,b))return!0;--J}return!1};c.prototype.getExtent=function(){return this.extent_};c.prototype.getMaxZoom=function(){return this.maxZoom};c.prototype.getMinZoom=function(){return this.minZoom};c.prototype.getOrigin=function(b){return this.origin_?this.origin_:
this.origins_[b]};c.prototype.getResolution=function(b){return this.resolutions_[b]};c.prototype.getResolutions=function(){return this.resolutions_};c.prototype.getTileCoordChildTileRange=function(b,m,z){if(b[0]<this.maxZoom){if(2===this.zoomFactor_)return z=2*b[1],b=2*b[2],(0,p.createOrUpdate)(z,z+1,b,b+1,m);z=this.getTileCoordExtent(b,z||this.tmpExtent_);return this.getTileRangeForExtentAndZ(z,b[0]+1,m)}return null};c.prototype.getTileRangeForTileCoordAndZ=function(b,m,z){if(m>this.maxZoom||m<this.minZoom)return null;
var u=b[0],C=b[1],J=b[2];if(m===u)return(0,p.createOrUpdate)(C,J,C,J,z);if(this.zoomFactor_){b=Math.pow(this.zoomFactor_,m-u);var A=Math.floor(C*b),x=Math.floor(J*b);return m<u?(0,p.createOrUpdate)(A,A,x,x,z):(0,p.createOrUpdate)(A,Math.floor(b*(C+1))-1,x,Math.floor(b*(J+1))-1,z)}u=this.getTileCoordExtent(b,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,m,z)};c.prototype.getTileRangeExtent=function(b,m,z){var u=this.getOrigin(b),C=this.getResolution(b);b=(0,d.toSize)(this.getTileSize(b),
this.tmpSize_);return(0,h.createOrUpdate)(u[0]+m.minX*b[0]*C,u[1]+m.minY*b[1]*C,u[0]+(m.maxX+1)*b[0]*C,u[1]+(m.maxY+1)*b[1]*C,z)};c.prototype.getTileRangeForExtentAndZ=function(b,m,z){this.getTileCoordForXYAndZ_(b[0],b[3],m,!1,a);var u=a[1],C=a[2];this.getTileCoordForXYAndZ_(b[2],b[1],m,!0,a);return(0,p.createOrUpdate)(u,a[1],C,a[2],z)};c.prototype.getTileCoordCenter=function(b){var m=this.getOrigin(b[0]),z=this.getResolution(b[0]),u=(0,d.toSize)(this.getTileSize(b[0]),this.tmpSize_);return[m[0]+
(b[1]+.5)*u[0]*z,m[1]-(b[2]+.5)*u[1]*z]};c.prototype.getTileCoordExtent=function(b,m){var z=this.getOrigin(b[0]),u=this.getResolution(b[0]),C=(0,d.toSize)(this.getTileSize(b[0]),this.tmpSize_),J=z[0]+b[1]*C[0]*u;b=z[1]-(b[2]+1)*C[1]*u;return(0,h.createOrUpdate)(J,b,J+C[0]*u,b+C[1]*u,m)};c.prototype.getTileCoordForCoordAndResolution=function(b,m,z){return this.getTileCoordForXYAndResolution_(b[0],b[1],m,!1,z)};c.prototype.getTileCoordForXYAndResolution_=function(b,m,z,u,C){var J=this.getZForResolution(z),
A=z/this.getResolution(J),x=this.getOrigin(J),q=(0,d.toSize)(this.getTileSize(J),this.tmpSize_);b=A*(b-x[0])/z/q[0];m=A*(x[1]-m)/z/q[1];u?(b=(0,r.ceil)(b,5)-1,m=(0,r.ceil)(m,5)-1):(b=(0,r.floor)(b,5),m=(0,r.floor)(m,5));return(0,k.createOrUpdate)(J,b,m,C)};c.prototype.getTileCoordForXYAndZ_=function(b,m,z,u,C){var J=this.getOrigin(z),A=this.getResolution(z),x=(0,d.toSize)(this.getTileSize(z),this.tmpSize_);b=(b-J[0])/A/x[0];m=(J[1]-m)/A/x[1];u?(b=(0,r.ceil)(b,5)-1,m=(0,r.ceil)(m,5)-1):(b=(0,r.floor)(b,
5),m=(0,r.floor)(m,5));return(0,k.createOrUpdate)(z,b,m,C)};c.prototype.getTileCoordForCoordAndZ=function(b,m,z){return this.getTileCoordForXYAndZ_(b[0],b[1],m,!1,z)};c.prototype.getTileCoordResolution=function(b){return this.resolutions_[b[0]]};c.prototype.getTileSize=function(b){return this.tileSize_?this.tileSize_:this.tileSizes_[b]};c.prototype.getFullTileRange=function(b){return this.fullTileRanges_?this.fullTileRanges_[b]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,b):null};c.prototype.getZForResolution=
function(b,m){b=(0,e.linearFindNearest)(this.resolutions_,b,m||0);return(0,r.clamp)(b,this.minZoom,this.maxZoom)};c.prototype.tileCoordIntersectsViewport=function(b,m){return(0,f.intersectsLinearRing)(m,0,m.length,2,this.getTileCoordExtent(b))};c.prototype.calculateTileRanges_=function(b){for(var m=this.resolutions_.length,z=Array(m),u=this.minZoom;u<m;++u)z[u]=this.getTileRangeForExtentAndZ(b,u);this.fullTileRanges_=z};return c}();G.default=sa};
shadow$provide[256]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}function p(c,b,m,z){z=void 0!==z?z:"top-left";b=n(c,b,m);return new h.default({extent:c,origin:(0,d.getCorner)(c,z),resolutions:b,tileSize:m})}function n(c,b,m,z){b=void 0!==b?b:f.DEFAULT_MAX_ZOOM;var u=(0,d.getHeight)(c);c=(0,d.getWidth)(c);m=(0,a.toSize)(void 0!==m?m:f.DEFAULT_TILE_SIZE);z=0<z?z:Math.max(c/m[0],u/m[1]);b+=1;m=Array(b);for(u=0;u<b;++u)m[u]=z/Math.pow(2,u);return m}function v(c,b,m,z){c=r(c);
return p(c,b,m,z)}function r(c){c=(0,e.get)(c);var b=c.getExtent();b||(c=180*e.METERS_PER_UNIT[k.default.DEGREES]/c.getMetersPerUnit(),b=(0,d.createOrUpdate)(-c,-c,c,c));return b}Object.defineProperty(G,"__esModule",{value:!0});G.getForProjection=function(c){var b=c.getDefaultTileGrid();b||(b=v(c),c.setDefaultTileGrid(b));return b};G.wrapX=function(c,b,m){var z=b[0],u=c.getTileCoordCenter(b);m=r(m);if((0,d.containsCoordinate)(m,u))return b;b=(0,d.getWidth)(m);u[0]+=b*Math.ceil((m[0]-u[0])/b);return c.getTileCoordForCoordAndZ(u,
z)};G.createForExtent=p;G.createXYZ=function(c){c=c||{};var b=c.extent||(0,e.get)("EPSG:3857").getExtent();c={extent:b,minZoom:c.minZoom,tileSize:c.tileSize,resolutions:n(b,c.maxZoom,c.tileSize,c.maxResolution)};return new h.default(c)};G.createForProjection=v;G.extentFromProjection=r;var h=y(F(255)),k=y(F(111)),f=F(114),e=F(121),d=F(74),a=F(145)};
shadow$provide[257]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.TileSourceEvent=void 0;sa=y(F(78));ob=y(F(226));var p=y(F(252)),n=y(F(109)),v=F(68),r=F(71),h=F(121),k=F(251),f=F(256),e=F(145),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,
b){function m(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();F=function(a){function c(b){var m=a.call(this,{attributions:b.attributions,attributionsCollapsible:b.attributionsCollapsible,projection:b.projection,state:b.state,wrapX:b.wrapX,interpolate:b.interpolate})||this;m.opaque_=void 0!==b.opaque?b.opaque:!1;m.tilePixelRatio_=
void 0!==b.tilePixelRatio?b.tilePixelRatio:1;m.tileGrid=void 0!==b.tileGrid?b.tileGrid:null;var z=[256,256];m.tileGrid&&(0,e.toSize)(m.tileGrid.getTileSize(m.tileGrid.getMinZoom()),z);m.tileCache=new p.default(b.cacheSize||0);m.tmpSize=[0,0];m.key_=b.key||"";m.tileOptions={transition:b.transition,interpolate:b.interpolate};m.zDirection=b.zDirection?b.zDirection:0;return m}d(c,a);c.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};c.prototype.expireCache=function(b,m){(b=
this.getTileCacheForProjection(b))&&b.expireCache(m)};c.prototype.forEachLoadedTile=function(b,m,z,u){b=this.getTileCacheForProjection(b);if(!b)return!1;for(var C=!0,J,A,x=z.minX;x<=z.maxX;++x)for(var q=z.minY;q<=z.maxY;++q)J=(0,k.getKeyZXY)(m,x,q),A=!1,b.containsKey(J)&&(J=b.get(J),(A=J.getState()===n.default.LOADED)&&(A=!1!==u(J))),A||(C=!1);return C};c.prototype.getGutterForProjection=function(b){return 0};c.prototype.getKey=function(){return this.key_};c.prototype.setKey=function(b){this.key_!==
b&&(this.key_=b,this.changed())};c.prototype.getOpaque=function(b){return this.opaque_};c.prototype.getResolutions=function(){return this.tileGrid?this.tileGrid.getResolutions():null};c.prototype.getTile=function(b,m,z,u,C){return(0,v.abstract)()};c.prototype.getTileGrid=function(){return this.tileGrid};c.prototype.getTileGridForProjection=function(b){return this.tileGrid?this.tileGrid:(0,f.getForProjection)(b)};c.prototype.getTileCacheForProjection=function(b){var m=this.getProjection();(0,r.assert)(null===
m||(0,h.equivalent)(m,b),68);return this.tileCache};c.prototype.getTilePixelRatio=function(b){return this.tilePixelRatio_};c.prototype.getTilePixelSize=function(b,m,z){z=this.getTileGridForProjection(z);m=this.getTilePixelRatio(m);b=(0,e.toSize)(z.getTileSize(b),this.tmpSize);return 1==m?b:(0,e.scale)(b,m,this.tmpSize)};c.prototype.getTileCoordForTileUrlFunction=function(b,m){m=void 0!==m?m:this.getProjection();var z=this.getTileGridForProjection(m);this.getWrapX()&&m.isGlobal()&&(b=(0,f.wrapX)(z,
b,m));return(0,k.withinExtentAndZ)(b,z)?b:null};c.prototype.clear=function(){this.tileCache.clear()};c.prototype.refresh=function(){this.clear();a.prototype.refresh.call(this)};c.prototype.updateCacheSize=function(b,m){m=this.getTileCacheForProjection(m);b>m.highWaterMark&&(m.highWaterMark=b)};c.prototype.useTile=function(b,m,z,u){};return c}(ob.default);sa=function(a){function c(b,m){b=a.call(this,b)||this;b.tile=m;return b}d(c,a);return c}(sa.default);G.TileSourceEvent=sa;G.default=F};
shadow$provide[258]=function(sa,F,ob,G){function y(h,k){var f=/\{z\}/g,e=/\{x\}/g,d=/\{y\}/g,a=/\{-y\}/g;return function(c,b,m){if(c)return h.replace(f,c[0].toString()).replace(e,c[1].toString()).replace(d,c[2].toString()).replace(a,function(){var z=k.getFullTileRange(c[0]);(0,n.assert)(z,55);return(z.getHeight()-c[2]-1).toString()})}}function p(h){return 1===h.length?h[0]:function(k,f,e){if(k){var d=(0,r.hash)(k);d=(0,v.modulo)(d,h.length);return h[d](k,f,e)}}}Object.defineProperty(G,"__esModule",
{value:!0});G.createFromTemplate=y;G.createFromTemplates=function(h,k){for(var f=h.length,e=Array(f),d=0;d<f;++d)e[d]=y(h[d],k);return p(e)};G.createFromTileUrlFunctions=p;G.nullTileUrlFunction=function(h,k,f){};G.expandUrl=function(h){var k=[],f=/\{([a-z])-([a-z])\}/.exec(h);if(f){for(var e=f[1].charCodeAt(0),d=f[2].charCodeAt(0);e<=d;++e)k.push(h.replace(f[0],String.fromCharCode(e)));return k}if(f=/\{(\d+)-(\d+)\}/.exec(h)){d=parseInt(f[2],10);for(e=parseInt(f[1],10);e<=d;e++)k.push(h.replace(f[0],
e.toString()));return k}k.push(h);return k};var n=F(71),v=F(75),r=F(251)};
shadow$provide[259]=function(sa,F,ob,G){function y(d){if("function"!==typeof WeakMap)return null;var a=new WeakMap,c=new WeakMap;return(y=function(b){return b?c:a})(d)}function p(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(253)),v=function(d,a){if(!a&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((a=y(a))&&a.has(d))return a.get(d);var c={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,
m;for(m in d)if("default"!==m&&Object.prototype.hasOwnProperty.call(d,m)){var z=b?Object.getOwnPropertyDescriptor(d,m):null;z&&(z.get||z.set)?Object.defineProperty(c,m,z):c[m]=d[m]}c.default=d;a&&a.set(d,c);return c}(F(257)),r=p(F(109)),h=F(258),k=F(251),f=F(68),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,
c){function b(){this.constructor=a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();sa=function(d){function a(c){var b=d.call(this,{attributions:c.attributions,cacheSize:c.cacheSize,opaque:c.opaque,projection:c.projection,state:c.state,tileGrid:c.tileGrid,tilePixelRatio:c.tilePixelRatio,wrapX:c.wrapX,transition:c.transition,interpolate:c.interpolate,
key:c.key,attributionsCollapsible:c.attributionsCollapsible,zDirection:c.zDirection})||this;b.generateTileUrlFunction_=b.tileUrlFunction===a.prototype.tileUrlFunction;b.tileLoadFunction=c.tileLoadFunction;c.tileUrlFunction&&(b.tileUrlFunction=c.tileUrlFunction);b.urls=null;c.urls?b.setUrls(c.urls):c.url&&b.setUrl(c.url);b.tileLoadingKeys_={};return b}e(a,d);a.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};a.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===
this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction};a.prototype.getUrls=function(){return this.urls};a.prototype.handleTileChange=function(c){c=c.target;var b=(0,f.getUid)(c),m=c.getState();if(m==r.default.LOADING){this.tileLoadingKeys_[b]=!0;var z=n.default.TILELOADSTART}else b in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[b],z=m==r.default.ERROR?n.default.TILELOADERROR:m==r.default.LOADED?n.default.TILELOADEND:void 0);void 0!=z&&this.dispatchEvent(new v.TileSourceEvent(z,
c))};a.prototype.setTileLoadFunction=function(c){this.tileCache.clear();this.tileLoadFunction=c;this.changed()};a.prototype.setTileUrlFunction=function(c,b){this.tileUrlFunction=c;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof b?this.setKey(b):this.changed()};a.prototype.setUrl=function(c){this.urls=c=(0,h.expandUrl)(c);this.setUrls(c)};a.prototype.setUrls=function(c){this.urls=c;var b=c.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,h.createFromTemplates)(c,this.tileGrid),
b):this.setKey(b)};a.prototype.tileUrlFunction=function(c,b,m){};a.prototype.useTile=function(c,b,m){c=(0,k.getKeyZXY)(c,b,m);this.tileCache.containsKey(c)&&this.tileCache.get(c)};return a}(v.default);G.default=sa};
shadow$provide[260]=function(sa,F,ob,G){function y(m){return m&&m.__esModule?m:{default:m}}function p(m,z){m.getImage().src=z}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=y(F(82)),v=y(F(245)),r=y(F(250)),h=y(F(252)),k=y(F(109));sa=y(F(259));var f=F(246),e=F(121),d=F(251),a=F(256),c=F(68),b=function(){var m=function(z,u){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,J){C.__proto__=J}||function(C,J){for(var A in J)Object.prototype.hasOwnProperty.call(J,
A)&&(C[A]=J[A])};return m(z,u)};return function(z,u){function C(){this.constructor=z}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");m(z,u);z.prototype=null===u?Object.create(u):(C.prototype=u.prototype,new C)}}();F=function(m){function z(u){var C=void 0!==u.imageSmoothing?u.imageSmoothing:!0;void 0!==u.interpolate&&(C=u.interpolate);C=m.call(this,{attributions:u.attributions,cacheSize:u.cacheSize,opaque:u.opaque,projection:u.projection,
state:u.state,tileGrid:u.tileGrid,tileLoadFunction:u.tileLoadFunction?u.tileLoadFunction:p,tilePixelRatio:u.tilePixelRatio,tileUrlFunction:u.tileUrlFunction,url:u.url,urls:u.urls,wrapX:u.wrapX,transition:u.transition,interpolate:C,key:u.key,attributionsCollapsible:u.attributionsCollapsible,zDirection:u.zDirection})||this;C.crossOrigin=void 0!==u.crossOrigin?u.crossOrigin:null;C.tileClass=void 0!==u.tileClass?u.tileClass:v.default;C.tileCacheForProjection={};C.tileGridForProjection={};C.reprojectionErrorThreshold_=
u.reprojectionErrorThreshold;C.renderReprojectionEdges_=!1;return C}b(z,m);z.prototype.canExpireCache=function(){if(!f.ENABLE_RASTER_REPROJECTION)return m.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var u in this.tileCacheForProjection)if(this.tileCacheForProjection[u].canExpireCache())return!0;return!1};z.prototype.expireCache=function(u,C){if(f.ENABLE_RASTER_REPROJECTION){u=this.getTileCacheForProjection(u);this.tileCache.expireCache(this.tileCache==u?C:{});
for(var J in this.tileCacheForProjection){var A=this.tileCacheForProjection[J];A.expireCache(A==u?C:{})}}else m.prototype.expireCache.call(this,u,C)};z.prototype.getGutterForProjection=function(u){return f.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&u&&!(0,e.equivalent)(this.getProjection(),u)?0:this.getGutter()};z.prototype.getGutter=function(){return 0};z.prototype.getKey=function(){var u=m.prototype.getKey.call(this);this.getInterpolate()||(u+=":disable-interpolation");return u};z.prototype.getOpaque=
function(u){return f.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&u&&!(0,e.equivalent)(this.getProjection(),u)?!1:m.prototype.getOpaque.call(this,u)};z.prototype.getTileGridForProjection=function(u){if(!f.ENABLE_RASTER_REPROJECTION)return m.prototype.getTileGridForProjection.call(this,u);var C=this.getProjection();return!this.tileGrid||C&&!(0,e.equivalent)(C,u)?(C=(0,c.getUid)(u),C in this.tileGridForProjection||(this.tileGridForProjection[C]=(0,a.getForProjection)(u)),this.tileGridForProjection[C]):
this.tileGrid};z.prototype.getTileCacheForProjection=function(u){if(!f.ENABLE_RASTER_REPROJECTION)return m.prototype.getTileCacheForProjection.call(this,u);var C=this.getProjection();if(!C||(0,e.equivalent)(C,u))return this.tileCache;u=(0,c.getUid)(u);u in this.tileCacheForProjection||(this.tileCacheForProjection[u]=new h.default(this.tileCache.highWaterMark));return this.tileCacheForProjection[u]};z.prototype.createTile_=function(u,C,J,A,x,q){u=[u,C,J];A=(C=this.getTileCoordForTileUrlFunction(u,
x))?this.tileUrlFunction(C,A,x):void 0;A=new this.tileClass(u,void 0!==A?k.default.IDLE:k.default.EMPTY,void 0!==A?A:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);A.key=q;A.addEventListener(n.default.CHANGE,this.handleTileChange.bind(this));return A};z.prototype.getTile=function(u,C,J,A,x){var q=this.getProjection();if(f.ENABLE_RASTER_REPROJECTION&&q&&x&&!(0,e.equivalent)(q,x)){var H=this.getTileCacheForProjection(x),M=[u,C,J];u=void 0;C=(0,d.getKey)(M);H.containsKey(C)&&(u=H.get(C));
J=this.getKey();if(u&&u.key==J)return u;var R=this.getTileGridForProjection(q),Z=this.getTileGridForProjection(x),T=this.getTileCoordForTileUrlFunction(M,x);A=new r.default(q,R,x,Z,M,T,this.getTilePixelRatio(A),this.getGutter(),function(ba,aa,W,X){return this.getTileInternal(ba,aa,W,X,q)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());A.key=J;u?(A.interimTile=u,A.refreshInterimChain(),H.replace(C,A)):H.set(C,A);return A}return this.getTileInternal(u,
C,J,A,q||x)};z.prototype.getTileInternal=function(u,C,J,A,x){var q=(0,d.getKeyZXY)(u,C,J),H=this.getKey();if(this.tileCache.containsKey(q)){var M=this.tileCache.get(q);if(M.key!=H){var R=M;M=this.createTile_(u,C,J,A,x,H);R.getState()==k.default.IDLE?M.interimTile=R.interimTile:M.interimTile=R;M.refreshInterimChain();this.tileCache.replace(q,M)}}else M=this.createTile_(u,C,J,A,x,H),this.tileCache.set(q,M);return M};z.prototype.setRenderReprojectionEdges=function(u){if(f.ENABLE_RASTER_REPROJECTION&&
this.renderReprojectionEdges_!=u){this.renderReprojectionEdges_=u;for(var C in this.tileCacheForProjection)this.tileCacheForProjection[C].clear();this.changed()}};z.prototype.setTileGridForProjection=function(u,C){f.ENABLE_RASTER_REPROJECTION&&(u=(0,e.get)(u))&&(u=(0,c.getUid)(u),u in this.tileGridForProjection||(this.tileGridForProjection[u]=C))};return z}(sa.default);G.default=F};
shadow$provide[261]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.jsonp=function(h,k,f,e){function d(){delete window[c];a.parentNode.removeChild(a)}var a=document.createElement("script"),c="olc_"+(0,y.getUid)(k);a.async=!0;a.src=h+(-1==h.indexOf("?")?"?":"\x26")+(e||"callback")+"\x3d"+c;var b=setTimeout(function(){d();f&&f()},1E4);window[c]=function(m){clearTimeout(b);d();k(m)};document.head.appendChild(a)};G.getJSON=function(h){return new Promise(function(k,f){var e=new XMLHttpRequest;
e.addEventListener("load",function(d){d=d.target;if(!d.status||200<=d.status&&300>d.status){var a=void 0;try{a=JSON.parse(d.responseText)}catch(c){f(Error("Error parsing response text as JSON: "+c.message));return}k(a)}else f(new n(d))});e.addEventListener("error",function(d){f(new v(d.target))});e.open("GET",h);e.setRequestHeader("Accept","application/json");e.send()})};G.resolveUrl=function(h,k){return 0<=k.indexOf("://")?k:(new URL(k,h)).href};G.overrideXHR=function(h){"undefined"!==typeof XMLHttpRequest&&
(r=XMLHttpRequest);sa.XMLHttpRequest=h};G.restoreXHR=function(){sa.XMLHttpRequest=r};G.ClientError=G.ResponseError=void 0;var y=F(68),p=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");
h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}(),n=function(h){function k(f){var e=h.call(this,"Unexpected response status: "+f.status)||this;e.name="ResponseError";e.response=f;return e}p(k,h);return k}(Error);G.ResponseError=n;var v=function(h){function k(f){var e=h.call(this,"Failed to issue request")||this;e.name="ClientError";e.client=f;return e}p(k,h);return k}(Error);G.ClientError=v;var r};
shadow$provide[262]=function(sa,F,ob,G){function y(e){var d=e[0],a=Array(d),c=1<<d-1,b;for(b=0;b<d;++b){var m=48;e[1]&c&&(m+=1);e[2]&c&&(m+=2);a[b]=String.fromCharCode(m);c>>=1}return a.join("")}Object.defineProperty(G,"__esModule",{value:!0});G.quadKey=y;G.default=void 0;sa=function(e){return e&&e.__esModule?e:{default:e}}(F(260));var p=F(74),n=F(258),v=F(251),r=F(256),h=F(121),k=F(261),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=
b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a){var c=void 0!==a.hidpi?a.hidpi:!1;var b=void 0!==a.imageSmoothing?a.imageSmoothing:!0;void 0!==a.interpolate&&(b=a.interpolate);
b=e.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",interpolate:b,opaque:!0,projection:(0,h.get)("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,tilePixelRatio:c?2:1,wrapX:void 0!==a.wrapX?a.wrapX:!0,transition:a.transition,zDirection:a.zDirection})||this;b.hidpi_=c;b.culture_=void 0!==a.culture?a.culture:"en-us";b.maxZoom_=void 0!==a.maxZoom?a.maxZoom:-1;b.apiKey_=a.key;b.imagerySet_=a.imagerySet;(0,k.jsonp)("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+
b.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+b.apiKey_+"\x26c\x3d"+b.culture_,b.handleImageryMetadataResponse.bind(b),void 0,"jsonp");return b}f(d,e);d.prototype.getApiKey=function(){return this.apiKey_};d.prototype.getImagerySet=function(){return this.imagerySet_};d.prototype.handleImageryMetadataResponse=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)this.setState("error");
else{var c=a.resourceSets[0].resources[0];a=-1==this.maxZoom_?c.zoomMax:this.maxZoom_;var b=this.getProjection();b=(0,r.extentFromProjection)(b);var m=this.hidpi_?2:1;this.tileGrid=(0,r.createXYZ)({extent:b,minZoom:c.zoomMin,maxZoom:a,tileSize:c.imageWidth==c.imageHeight?c.imageWidth/m:[c.imageWidth/m,c.imageHeight/m]});var z=this.culture_,u=this.hidpi_;this.tileUrlFunction=(0,n.createFromTileUrlFunctions)(c.imageUrlSubdomains.map(function(J){var A=[0,0,0],x=c.imageUrl.replace("{subdomain}",J).replace("{culture}",
z);return function(q,H,M){if(q)return(0,v.createOrUpdate)(q[0],q[1],q[2],A),q=x,u&&(q+="\x26dpi\x3dd1\x26device\x3dmobile"),q.replace("{quadkey}",y(A))}}));if(c.imageryProviders){var C=(0,h.getTransformFromProjections)((0,h.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(J){var A=[],x=J.viewState,q=this.getTileGrid(),H=q.getZForResolution(x.resolution,this.zDirection),M=q.getTileCoordForCoordAndZ(x.center,H)[0];c.imageryProviders.map(function(R){for(var Z=!1,T=R.coverageAreas,
ba=0,aa=T.length;ba<aa;++ba){var W=T[ba];if(M>=W.zoomMin&&M<=W.zoomMax&&(W=W.bbox,W=(0,p.applyTransform)([W[1],W[0],W[3],W[2]],C),(0,p.intersects)(W,J.extent))){Z=!0;break}}Z&&A.push(R.attribution)});A.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return A}.bind(this))}this.setState("ready")}};return d}(sa.default);G.default=F};
shadow$provide[263]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(n){return n&&n.__esModule?n:{default:n}}(F(260));var y=F(256),p=function(){var n=function(v,r){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,k){h.__proto__=k}||function(h,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h[f]=k[f])};return n(v,r)};return function(v,r){function h(){this.constructor=v}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+
String(r)+" is not a constructor or null");n(v,r);v.prototype=null===r?Object.create(r):(h.prototype=r.prototype,new h)}}();F=function(n){function v(r){r=r||{};var h=void 0!==r.imageSmoothing?r.imageSmoothing:!0;void 0!==r.interpolate&&(h=r.interpolate);var k=void 0!==r.projection?r.projection:"EPSG:3857",f=void 0!==r.tileGrid?r.tileGrid:(0,y.createXYZ)({extent:(0,y.extentFromProjection)(k),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});h=n.call(this,{attributions:r.attributions,
cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,interpolate:h,opaque:r.opaque,projection:k,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:f,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0!==r.wrapX?r.wrapX:!0,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this;h.gutter_=void 0!==r.gutter?r.gutter:0;return h}p(v,n);v.prototype.getGutter=function(){return this.gutter_};
return v}(sa.default);G.default=F};
shadow$provide[264]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(n){return n&&n.__esModule?n:{default:n}}(F(263));var y=F(80),p=function(){var n=function(v,r){n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,k){h.__proto__=k}||function(h,k){for(var f in k)Object.prototype.hasOwnProperty.call(k,f)&&(h[f]=k[f])};return n(v,r)};return function(v,r){function h(){this.constructor=v}if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+
String(r)+" is not a constructor or null");n(v,r);v.prototype=null===r?Object.create(r):(h.prototype=r.prototype,new h)}}();F=function(n){function v(r){var h=n.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,maxZoom:void 0!==r.maxZoom?r.maxZoom:18,minZoom:r.minZoom,projection:r.projection,transition:r.transition,wrapX:r.wrapX,zDirection:r.zDirection})||this;h.account_=r.account;h.mapId_=r.map||"";h.config_=r.config||{};h.templateCache_={};h.initializeMap_();
return h}p(v,n);v.prototype.getConfig=function(){return this.config_};v.prototype.updateConfig=function(r){(0,y.assign)(this.config_,r);this.initializeMap_()};v.prototype.setConfig=function(r){this.config_=r||{};this.initializeMap_()};v.prototype.initializeMap_=function(){var r=JSON.stringify(this.config_);if(this.templateCache_[r])this.applyTemplate_(this.templateCache_[r]);else{var h="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(h+="/named/"+this.mapId_);var k=new XMLHttpRequest;
k.addEventListener("load",this.handleInitResponse_.bind(this,r));k.addEventListener("error",this.handleInitError_.bind(this));k.open("POST",h);k.setRequestHeader("Content-type","application/json");k.send(JSON.stringify(this.config_))}};v.prototype.handleInitResponse_=function(r,h){h=h.target;if(!h.status||200<=h.status&&300>h.status){var k=void 0;try{k=JSON.parse(h.responseText)}catch(f){this.setState("error");return}this.applyTemplate_(k);this.templateCache_[r]=k;this.setState("ready")}else this.setState("error")};
v.prototype.handleInitError_=function(r){this.setState("error")};v.prototype.applyTemplate_=function(r){this.setUrl("https://"+r.cdn_url.https+"/"+this.account_+"/api/v1/map/"+r.layergroupid+"/{z}/{x}/{y}.png")};return v}(sa.default);G.default=F};
shadow$provide[265]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(82)),n=y(F(179)),v=y(F(136));sa=y(F(230));var r=F(91),h=F(71),k=F(74),f=F(68),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c){var b=d.call(this,{attributions:c.attributions,wrapX:c.wrapX})||this;b.resolution=void 0;b.distance=void 0!==c.distance?c.distance:20;b.minDistance=c.minDistance||0;b.interpolationRatio=0;b.features=[];b.geometryFunction=c.geometryFunction||function(m){m=m.getGeometry();
(0,h.assert)("Point"==m.getType(),10);return m};b.createCustomCluster_=c.createCluster;b.source=null;b.boundRefresh_=b.refresh.bind(b);b.updateDistance(b.distance,b.minDistance);b.setSource(c.source||null);return b}e(a,d);a.prototype.clear=function(c){this.features.length=0;d.prototype.clear.call(this,c)};a.prototype.getDistance=function(){return this.distance};a.prototype.getSource=function(){return this.source};a.prototype.loadFeatures=function(c,b,m){this.source.loadFeatures(c,b,m);b!==this.resolution&&
(this.resolution=b,this.refresh())};a.prototype.setDistance=function(c){this.updateDistance(c,this.minDistance)};a.prototype.setMinDistance=function(c){this.updateDistance(this.distance,c)};a.prototype.getMinDistance=function(){return this.minDistance};a.prototype.setSource=function(c){this.source&&this.source.removeEventListener(p.default.CHANGE,this.boundRefresh_);(this.source=c)&&c.addEventListener(p.default.CHANGE,this.boundRefresh_);this.refresh()};a.prototype.refresh=function(){this.clear();
this.cluster();this.addFeatures(this.features)};a.prototype.updateDistance=function(c,b){var m=0===c?0:Math.min(b,c)/c,z=c!==this.distance||this.interpolationRatio!==m;this.distance=c;this.minDistance=b;this.interpolationRatio=m;z&&this.refresh()};a.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var c=(0,k.createEmpty)(),b=this.distance*this.resolution,m=this.source.getFeatures(),z={},u=0,C=m.length;u<C;u++){var J=m[u];(0,f.getUid)(J)in z||!(J=this.geometryFunction(J))||
(J=J.getCoordinates(),(0,k.createOrUpdateFromCoordinate)(J,c),(0,k.buffer)(c,b,c),J=this.source.getFeaturesInExtent(c).filter(function(A){A=(0,f.getUid)(A);return A in z?!1:z[A]=!0}),this.features.push(this.createCluster(J,c)))}};a.prototype.createCluster=function(c,b){for(var m=[0,0],z=c.length-1;0<=z;--z){var u=this.geometryFunction(c[z]);u?(0,r.add)(m,u.getCoordinates()):c.splice(z,1)}(0,r.scale)(m,1/c.length);b=(0,k.getCenter)(b);z=this.interpolationRatio;m=new v.default([m[0]*(1-z)+b[0]*z,m[1]*
(1-z)+b[1]*z]);return this.createCustomCluster_?this.createCustomCluster_(m,c):new n.default({geometry:m,features:c})};return a}(sa.default);G.default=F};
shadow$provide[266]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(244));var p=y(F(109)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){var k=v.call(this,h.tileCoord,p.default.IDLE,{transition:h.transition,interpolate:h.interpolate})||this;k.loader_=h.loader;k.data_=null;k.error_=null;k.size_=h.size||[256,256];return k}n(r,v);r.prototype.getSize=function(){return this.size_};r.prototype.getData=function(){return this.data_};r.prototype.getError=function(){return this.error_};r.prototype.load=
function(){if(this.state===p.default.IDLE||this.state===p.default.ERROR){this.state=p.default.LOADING;this.changed();var h=this;this.loader_().then(function(k){h.data_=k;h.state=p.default.LOADED;h.changed()}).catch(function(k){h.error_=k;h.state=p.default.ERROR;h.changed()})}};return r}(sa.default);G.default=F};
shadow$provide[267]=function(sa,F,ob,G){function y(z){if("function"!==typeof WeakMap)return null;var u=new WeakMap,C=new WeakMap;return(y=function(J){return J?C:u})(z)}function p(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(266)),v=p(F(82)),r=p(F(253)),h=function(z,u){if(!u&&z&&z.__esModule)return z;if(null===z||"object"!==typeof z&&"function"!==typeof z)return{default:z};if((u=y(u))&&u.has(z))return u.get(z);var C={},J=Object.defineProperty&&
Object.getOwnPropertyDescriptor,A;for(A in z)if("default"!==A&&Object.prototype.hasOwnProperty.call(z,A)){var x=J?Object.getOwnPropertyDescriptor(z,A):null;x&&(x.get||x.set)?Object.defineProperty(C,A,x):C[A]=z[A]}C.default=z;u&&u.set(z,C);return C}(F(257)),k=p(F(109)),f=F(80),e=F(256),d=F(251),a=F(68),c=F(67),b=F(145),m=function(){var z=function(u,C){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,A){J.__proto__=A}||function(J,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,
x)&&(J[x]=A[x])};return z(u,C)};return function(u,C){function J(){this.constructor=u}if("function"!==typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");z(u,C);u.prototype=null===C?Object.create(C):(J.prototype=C.prototype,new J)}}();sa=function(z){function u(C){var J=void 0===C.projection?"EPSG:3857":C.projection;var A=C.tileGrid;void 0===A&&J&&(A=(0,e.createXYZ)({extent:(0,e.extentFromProjection)(J),maxResolution:C.maxResolution,maxZoom:C.maxZoom,
minZoom:C.minZoom,tileSize:C.tileSize}));J=z.call(this,{cacheSize:.1,attributions:C.attributions,attributionsCollapsible:C.attributionsCollapsible,projection:J,tileGrid:A,opaque:C.opaque,state:C.state,tilePixelRatio:C.tilePixelRatio,wrapX:C.wrapX,transition:C.transition,interpolate:C.interpolate})||this;J.gutter_=void 0!==C.gutter?C.gutter:0;J.tileSize_=C.tileSize?(0,b.toSize)(C.tileSize):null;!J.tileSize_&&C.tilePixelRatio&&A&&(A=(0,b.toSize)(A.getTileSize(0)),J.tileSize_=[A[0]*C.tilePixelRatio,
A[1]*C.tilePixelRatio]);J.tileSizes_=null;J.tileLoadingKeys_={};J.loader_=C.loader;J.handleTileChange_=J.handleTileChange_.bind(J);J.bandCount=void 0===C.bandCount?4:C.bandCount;return J}m(u,z);u.prototype.setTileSizes=function(C){this.tileSizes_=C};u.prototype.getTileSize=function(C){if(this.tileSizes_)return this.tileSizes_[C];if(this.tileSize_)return this.tileSize_;var J=this.getTileGrid();return J?(0,b.toSize)(J.getTileSize(C)):[256,256]};u.prototype.getGutterForProjection=function(C){return this.gutter_};
u.prototype.setLoader=function(C){this.loader_=C};u.prototype.getTile=function(C,J,A,x,q){q=this.getTileSize(C);x=(0,d.getKeyZXY)(C,J,A);if(this.tileCache.containsKey(x))return this.tileCache.get(x);var H=this.loader_;q=(0,f.assign)({tileCoord:[C,J,A],loader:function(){return(0,c.toPromise)(function(){return H(C,J,A)})},size:q},this.tileOptions);q=new n.default(q);q.key=this.getKey();q.addEventListener(v.default.CHANGE,this.handleTileChange_);this.tileCache.set(x,q);return q};u.prototype.handleTileChange_=
function(C){C=C.target;var J=(0,a.getUid)(C),A=C.getState();if(A==k.default.LOADING){this.tileLoadingKeys_[J]=!0;var x=r.default.TILELOADSTART}else J in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[J],x=A==k.default.ERROR?r.default.TILELOADERROR:A==k.default.LOADED?r.default.TILELOADEND:void 0);x&&this.dispatchEvent(new h.TileSourceEvent(x,C))};return u}(h.default);G.default=sa};
shadow$provide[268]=function(sa,F,ob,G){(function(y){function p(Sb){return(qc,...Vc)=>R(Sb,qc,Vc)}function n(Sb){if(Sb[la]===ja)return Sb;const qc=pa(Kb);Ya(tb,qc,Ga(Sb));return qc}function v(Sb){const qc=pa(mc);Ya(dc,qc,Sb);return qc}function r(Sb){return null!==Sb&&"object"===typeof Sb||"function"===typeof Sb}function h(Sb){Sb=lb(Sb);return"BigInt64Array"===Sb||"BigUint64Array"===Sb}function k(Sb){if(null===Lc)return!1;try{return Ac(Sb),!0}catch(qc){return!1}}function f(Sb){return eb(Sb)?Sb[la]===
ja?!0:"Array Iterator"===Sb[la]()[Ua]:!1}function e(Sb){return void 0===lb(Sb)?!1:Sb[la]===Mb?!0:"Array Iterator"===Sb[la]()[Ua]}function d(Sb){if("string"!==typeof Sb)return!1;const qc=U(Sb);return Sb===qc+""&&ka(qc)?qc===Wa(qc):!1}function a(Sb){if(null===Sb||"object"!==typeof Sb)return!1;Sb=W(Sb);if(null===Sb||"object"!==typeof Sb)return!1;Sb=Sb.constructor;if(void 0===Sb)return!1;if(!r(Sb))throw Od("The constructor property value is not an object");return X(Sb,Jc)}function c(Sb){jc[0]=Sb;Sb=bd[0];
const qc=Sb>>23&511;return md[qc]+((Sb&8388607)>>Ed[qc])}function b(Sb){const qc=Sb>>10;bd[0]=Nd[ee[qc]+(Sb&1023)]+Pd[qc];return jc[0]}function m(Sb){if("bigint"===typeof Sb)throw Od("Cannot convert a BigInt value to a number");Sb=U(Sb);return da(Sb)||0===Sb?0:Wa(Sb)}function z(Sb){Sb=m(Sb);return 0>Sb?0:Sb<Ce?Sb:Ce}function u(Sb,qc){if(!r(Sb))throw Od("This is not an object");Sb=Sb.constructor;if(void 0===Sb)return qc;if(!r(Sb))throw Od("The constructor property value is not an object");Sb=Sb[wa];
return null==Sb?qc:Sb}function C(Sb){if(k(Sb))return!1;try{return Fb(Sb,0,0),!1}catch(qc){}return!0}function J(Sb,qc){const Vc=da(Sb),Bd=da(qc);if(Vc&&Bd)return 0;if(Vc)return 1;if(Bd||Sb<qc)return-1;if(Sb>qc)return 1;if(0===Sb&&0===qc){Sb=ua(Sb,0);qc=ua(qc,0);if(!Sb&&qc)return-1;if(Sb&&!qc)return 1}return 0}function A(Sb){return Ca(ue,Sb)||!nb(Sb)&&a(Sb)}function x(Sb){if(!A(Sb))throw Od("This is not a Float16Array object");}function q(Sb,qc){var Vc=A(Sb);const Bd=void 0!==lb(Sb);if(!Vc&&!Bd)throw Od("Species constructor didn't return TypedArray object");
if("number"===typeof qc&&(Vc?(Vc=H(Sb),Vc=bb(Vc)):Vc=bb(Sb),Vc<qc))throw Od("Derived constructor created TypedArray object which was too small length");if(h(Sb))throw Od("Cannot mix BigInt and other types, use explicit conversions");}function H(Sb){var qc=ve(ue,Sb);if(void 0!==qc){Sb=za(qc);if(C(Sb))throw Od("Attempting to access detached ArrayBuffer");return qc}qc=Sb.buffer;if(C(qc))throw Od("Attempting to access detached ArrayBuffer");Sb=Z(Me,[qc,Sb.byteOffset,Sb.length],Sb.constructor);return ve(ue,
Sb)}function M(Sb){const qc=bb(Sb),Vc=[];for(let Bd=0;Bd<qc;++Bd)Vc[Bd]=b(Sb[Bd]);return Vc}const {apply:R,construct:Z,defineProperty:T,get:ba,getOwnPropertyDescriptor:aa,getPrototypeOf:W,has:X,ownKeys:P,set:w,setPrototypeOf:B}=Reflect,K=Proxy,U=Number,{isFinite:ka,isNaN:da}=U,{iterator:la,species:wa,toStringTag:Ua,for:hb}=Symbol,La=Object,{create:pa,defineProperty:Da,freeze:Ma,is:ua}=La,Aa=La.prototype,qa=Aa.__lookupGetter__?p(Aa.__lookupGetter__):(Sb,qc)=>{if(null==Sb)throw Od("Cannot convert undefined or null to object");
Sb=La(Sb);do{const Vc=aa(Sb,qc);if(void 0!==Vc){if(Ha(Vc,"get"))return Vc.get;break}}while(null!==(Sb=W(Sb)))},Ha=La.hasOwn||p(Aa.hasOwnProperty),Va=Array,eb=Va.isArray,ta=Va.prototype,Qa=p(ta.join),oa=p(ta.push),Y=p(ta.toLocaleString),ja=ta[la],Ga=p(ja),Wa=Math.trunc,cb=ArrayBuffer,nb=cb.isView,pb=cb.prototype,Fb=p(pb.slice),nc=p(aa(pb,"byteLength").get),Lc="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null,Ac=Lc&&p(aa(Lc.prototype,"byteLength").get),yc=W(Uint8Array),tc=yc.from,hd=yc.prototype,
Mb=hd[la],Ab=p(hd.keys),ec=p(hd.values),ac=p(hd.entries),lc=p(hd.set),Ic=p(hd.reverse),Ec=p(hd.fill),Rc=p(hd.copyWithin),id=p(hd.sort),Td=p(hd.slice),Ea=p(hd.subarray),za=p(aa(hd,"buffer").get),Fa=p(aa(hd,"byteOffset").get),bb=p(aa(hd,"length").get),lb=p(aa(hd,Ua).get),zb=Uint16Array,Tb=Uint32Array,Ub=Float32Array,$b=W([][la]()),Dc=p($b.next),dd=p(function*(){}().next),fd=W($b),od=DataView.prototype,sd=p(od.getUint16),Kd=p(od.setUint16),Od=TypeError,ae=RangeError,de=WeakSet,je=de.prototype,qd=p(je.add),
bf=p(je.has),Ye=WeakMap,pe=Ye.prototype,ve=p(pe.get),Ca=p(pe.has),Ya=p(pe.set),tb=new Ye,Kb=pa(null,{next:{value:function(){const Sb=ve(tb,this);return Dc(Sb)}},[la]:{value:function(){return this}}}),dc=new Ye,mc=pa(fd,{next:{value:function(){const Sb=ve(dc,this);return dd(Sb)},writable:!0,configurable:!0}});for(const Sb of P($b))"next"!==Sb&&Da(mc,Sb,aa($b,Sb));const Jc=hb("__Float16Array__"),Gc=new cb(4),jc=new Ub(Gc),bd=new Tb(Gc),md=new Tb(512),Ed=new Tb(512);for(let Sb=0;256>Sb;++Sb){const qc=
Sb-127;-27>qc?(md[Sb]=0,md[Sb|256]=32768,Ed[Sb]=24,Ed[Sb|256]=24):-14>qc?(md[Sb]=1024>>-qc-14,md[Sb|256]=1024>>-qc-14|32768,Ed[Sb]=-qc-1,Ed[Sb|256]=-qc-1):15>=qc?(md[Sb]=qc+15<<10,md[Sb|256]=qc+15<<10|32768,Ed[Sb]=13,Ed[Sb|256]=13):128>qc?(md[Sb]=31744,md[Sb|256]=64512,Ed[Sb]=24,Ed[Sb|256]=24):(md[Sb]=31744,md[Sb|256]=64512,Ed[Sb]=13,Ed[Sb|256]=13)}const Nd=new Tb(2048),Pd=new Tb(64),ee=new Tb(64);for(let Sb=1;1024>Sb;++Sb){let qc=Sb<<13,Vc=0;for(;0===(qc&8388608);)qc<<=1,Vc-=8388608;qc&=-8388609;
Vc+=947912704;Nd[Sb]=qc|Vc}for(let Sb=1024;2048>Sb;++Sb)Nd[Sb]=939524096+(Sb-1024<<13);for(let Sb=1;31>Sb;++Sb)Pd[Sb]=Sb<<23;Pd[31]=1199570944;Pd[32]=2147483648;for(let Sb=33;63>Sb;++Sb)Pd[Sb]=2147483648+(Sb-32<<23);Pd[63]=3347054592;for(let Sb=1;64>Sb;++Sb)32!==Sb&&(ee[Sb]=1024);const Ce=U.MAX_SAFE_INTEGER,ue=new Ye,Df=new de;for(const Sb of P(hd)){if(Sb===Ua)continue;const qc=aa(hd,Sb);Ha(qc,"get")&&"function"===typeof qc.get&&qd(Df,qc.get)}const Be=Ma({get(Sb,qc,Vc){return d(qc)&&Ha(Sb,qc)?b(ba(Sb,
qc)):bf(Df,qa(Sb,qc))?ba(Sb,qc):ba(Sb,qc,Vc)},set(Sb,qc,Vc,Bd){return d(qc)&&Ha(Sb,qc)?w(Sb,qc,c(Vc)):w(Sb,qc,Vc,Bd)},getOwnPropertyDescriptor(Sb,qc){return d(qc)&&Ha(Sb,qc)?(Sb=aa(Sb,qc),Sb.value=b(Sb.value),Sb):aa(Sb,qc)},defineProperty(Sb,qc,Vc){d(qc)&&Ha(Sb,qc)&&Ha(Vc,"value")&&(Vc.value=c(Vc.value));return T(Sb,qc,Vc)}});class Me{constructor(Sb,qc,Vc){if(A(Sb))var Bd=Z(zb,[H(Sb)],new.target);else{var Hd;if(Hd=r(Sb)){try{nc(Sb);var me=!0}catch(Qf){me=!1}Hd=!me}if(Hd){if(void 0!==lb(Sb)){Hd=Sb;
me=bb(Sb);Bd=za(Sb);var $e=k(Bd)?cb:u(Bd,cb);if(C(Bd))throw Od("Attempting to access detached ArrayBuffer");if(h(Sb))throw Od("Cannot mix BigInt and other types, use explicit conversions");Bd=new $e(2*me);Bd=Z(zb,[Bd],new.target)}else{Hd=Sb[la];if(null!=Hd&&"function"!==typeof Hd)throw Od("@@iterator property is not callable");null!=Hd?f(Sb)?(Hd=Sb,me=Sb.length):(Hd=[...Sb],me=Hd.length):(Hd=Sb,me=z(Hd.length));Bd=Z(zb,[me],new.target)}for($e=0;$e<me;++$e)Bd[$e]=c(Hd[$e])}else Bd=Z(zb,arguments,new.target)}Hd=
new K(Bd,Be);Ya(ue,Hd,Bd);return Hd}static from(Sb,...qc){if(!X(this,Jc))throw Od("This constructor is not a subclass of Float16Array");if(this===Me){if(A(Sb)&&0===qc.length){var Vc=H(Sb);Vc=new zb(za(Vc),Fa(Vc),bb(Vc));return new Me(za(Td(Vc)))}if(0===qc.length)return new Me(za(R(tc,zb,[Sb,c])));const Hd=qc[0];return new Me(za(R(tc,zb,[Sb,function(me,...$e){return c(R(Hd,this,[me,...n($e)]))},qc[1]])))}Vc=Sb[la];if(null!=Vc&&"function"!==typeof Vc)throw Od("@@iterator property is not callable");
if(null!=Vc)f(Sb)?(Vc=Sb,Sb=Sb.length):e(Sb)?(Vc=Sb,Sb=bb(Sb)):(Vc=[...Sb],Sb=Vc.length);else{if(null==Sb)throw Od("Cannot convert undefined or null to object");Vc=La(Sb);Sb=z(Vc.length)}const Bd=new this(Sb);if(0===qc.length)for(qc=0;qc<Sb;++qc)Bd[qc]=Vc[qc];else{const Hd=qc[0];qc=qc[1];for(let me=0;me<Sb;++me)Bd[me]=R(Hd,qc,[Vc[me],me])}return Bd}static of(...Sb){if(!X(this,Jc))throw Od("This constructor is not a subclass of Float16Array");const qc=Sb.length;if(this===Me){var Vc=new Me(qc),Bd=H(Vc);
for(let Hd=0;Hd<qc;++Hd)Bd[Hd]=c(Sb[Hd]);return Vc}Vc=new this(qc);for(Bd=0;Bd<qc;++Bd)Vc[Bd]=Sb[Bd];return Vc}keys(){x(this);const Sb=H(this);return Ab(Sb)}values(){x(this);const Sb=H(this);return v(function*(){for(const qc of ec(Sb))yield b(qc)}())}entries(){x(this);const Sb=H(this);return v(function*(){for(const [qc,Vc]of ac(Sb))yield[qc,b(Vc)]}())}at(Sb){x(this);const qc=H(this),Vc=bb(qc);Sb=m(Sb);Sb=0<=Sb?Sb:Vc+Sb;if(!(0>Sb||Sb>=Vc))return b(qc[Sb])}map(Sb,...qc){x(this);const Vc=H(this),Bd=
bb(Vc);qc=qc[0];var Hd=u(Vc,Me);if(Hd===Me){Hd=new Me(Bd);var me=H(Hd);for(var $e=0;$e<Bd;++$e){const Qf=b(Vc[$e]);me[$e]=c(R(Sb,qc,[Qf,$e,this]))}return Hd}Hd=new Hd(Bd);q(Hd,Bd);for(me=0;me<Bd;++me)$e=b(Vc[me]),Hd[me]=R(Sb,qc,[$e,me,this]);return Hd}filter(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];const Hd=[];for(let me=0;me<Bd;++me){const $e=b(Vc[me]);R(Sb,qc,[$e,me,this])&&oa(Hd,$e)}Sb=new (u(Vc,Me))(Hd);q(Sb);return Sb}reduce(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);if(0===Bd&&
0===qc.length)throw Od("Reduce of empty array with no initial value");if(0===qc.length){qc=b(Vc[0]);var Hd=1}else qc=qc[0],Hd=0;for(;Hd<Bd;++Hd)qc=Sb(qc,b(Vc[Hd]),Hd,this);return qc}reduceRight(Sb,...qc){x(this);const Vc=H(this);var Bd=bb(Vc);if(0===Bd&&0===qc.length)throw Od("Reduce of empty array with no initial value");0===qc.length?(qc=b(Vc[Bd-1]),Bd-=2):(qc=qc[0],--Bd);for(;0<=Bd;--Bd)qc=Sb(qc,b(Vc[Bd]),Bd,this);return qc}forEach(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];for(let Hd=
0;Hd<Bd;++Hd)R(Sb,qc,[b(Vc[Hd]),Hd,this])}find(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];for(let Hd=0;Hd<Bd;++Hd){const me=b(Vc[Hd]);if(R(Sb,qc,[me,Hd,this]))return me}}findIndex(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];for(let Hd=0;Hd<Bd;++Hd){const me=b(Vc[Hd]);if(R(Sb,qc,[me,Hd,this]))return Hd}return-1}findLast(Sb,...qc){x(this);const Vc=H(this);var Bd=bb(Vc);qc=qc[0];for(--Bd;0<=Bd;--Bd){const Hd=b(Vc[Bd]);if(R(Sb,qc,[Hd,Bd,this]))return Hd}}findLastIndex(Sb,...qc){x(this);
const Vc=H(this);var Bd=bb(Vc);qc=qc[0];for(--Bd;0<=Bd;--Bd){const Hd=b(Vc[Bd]);if(R(Sb,qc,[Hd,Bd,this]))return Bd}return-1}every(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];for(let Hd=0;Hd<Bd;++Hd)if(!R(Sb,qc,[b(Vc[Hd]),Hd,this]))return!1;return!0}some(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=qc[0];for(let Hd=0;Hd<Bd;++Hd)if(R(Sb,qc,[b(Vc[Hd]),Hd,this]))return!0;return!1}set(Sb,...qc){x(this);const Vc=H(this);qc=m(qc[0]);if(0>qc)throw ae("Offset is out of bounds");if(null==Sb)throw Od("Cannot convert undefined or null to object");
if(h(Sb))throw Od("Cannot mix BigInt and other types, use explicit conversions");if(A(Sb))return lc(H(this),H(Sb),qc);if(void 0!==lb(Sb)){var Bd=za(Sb);if(C(Bd))throw Od("Attempting to access detached ArrayBuffer");}Bd=bb(Vc);Sb=La(Sb);const Hd=z(Sb.length);if(Infinity===qc||Hd+qc>Bd)throw ae("Offset is out of bounds");for(Bd=0;Bd<Hd;++Bd)Vc[Bd+qc]=c(Sb[Bd])}reverse(){x(this);const Sb=H(this);Ic(Sb);return this}fill(Sb,...qc){x(this);const Vc=H(this);Ec(Vc,c(Sb),...n(qc));return this}copyWithin(Sb,
qc,...Vc){x(this);const Bd=H(this);Rc(Bd,Sb,qc,...n(Vc));return this}sort(Sb){x(this);const qc=H(this),Vc=void 0!==Sb?Sb:J;id(qc,(Bd,Hd)=>Vc(b(Bd),b(Hd)));return this}slice(Sb,qc){x(this);var Vc=H(this),Bd=u(Vc,Me);if(Bd===Me)return Vc=new zb(za(Vc),Fa(Vc),bb(Vc)),new Me(za(Td(Vc,Sb,qc)));var Hd=bb(Vc);Sb=m(Sb);const me=void 0===qc?Hd:m(qc);qc=-Infinity===Sb?0:0>Sb?0<Hd+Sb?Hd+Sb:0:Hd<Sb?Hd:Sb;Hd=-Infinity===me?0:0>me?0<Hd+me?Hd+me:0:Hd<me?Hd:me;Sb=0<Hd-qc?Hd-qc:0;Bd=new Bd(Sb);q(Bd,Sb);if(0===Sb)return Bd;
Sb=za(Vc);if(C(Sb))throw Od("Attempting to access detached ArrayBuffer");for(Sb=0;qc<Hd;)Bd[Sb]=b(Vc[qc]),++qc,++Sb;return Bd}subarray(Sb,qc){x(this);var Vc=H(this),Bd=u(Vc,Me);Vc=new zb(za(Vc),Fa(Vc),bb(Vc));Sb=Ea(Vc,Sb,qc);Bd=new Bd(za(Sb),Fa(Sb),bb(Sb));q(Bd);return Bd}indexOf(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);qc=m(qc[0]);if(Infinity===qc)return-1;0>qc&&(qc+=Bd,0>qc&&(qc=0));for(;qc<Bd;++qc)if(Ha(Vc,qc)&&b(Vc[qc])===Sb)return qc;return-1}lastIndexOf(Sb,...qc){x(this);const Vc=H(this);
var Bd=bb(Vc);qc=1<=qc.length?m(qc[0]):Bd-1;if(-Infinity===qc)return-1;qc=0<=qc?qc<Bd-1?qc:Bd-1:qc+Bd;for(Bd=qc;0<=Bd;--Bd)if(Ha(Vc,Bd)&&b(Vc[Bd])===Sb)return Bd;return-1}includes(Sb,...qc){x(this);const Vc=H(this),Bd=bb(Vc);var Hd=m(qc[0]);if(Infinity===Hd)return!1;0>Hd&&(Hd+=Bd,0>Hd&&(Hd=0));for(qc=da(Sb);Hd<Bd;++Hd){const me=b(Vc[Hd]);if(qc&&da(me)||me===Sb)return!0}return!1}join(Sb){x(this);var qc=H(this);qc=M(qc);return Qa(qc,Sb)}toLocaleString(...Sb){x(this);var qc=H(this);qc=M(qc);return Y(qc,
...n(Sb))}get [Ua](){if(A(this))return"Float16Array"}}Da(Me,"BYTES_PER_ELEMENT",{value:2});Da(Me,Jc,{});B(Me,yc);const kf=Me.prototype;Da(kf,"BYTES_PER_ELEMENT",{value:2});Da(kf,la,{value:kf.values,writable:!0,configurable:!0});B(kf,hd);y.Float16Array=Me;y.getFloat16=function(Sb,qc,...Vc){return b(sd(Sb,qc,...n(Vc)))};y.hfround=function(Sb){if("bigint"===typeof Sb)throw Od("Cannot convert a BigInt value to a number");Sb=U(Sb);if(!ka(Sb)||0===Sb)return Sb;Sb=c(Sb);return b(Sb)};y.isFloat16Array=A;
y.isTypedArray=function(Sb){return void 0!==lb(Sb)||A(Sb)};y.setFloat16=function(Sb,qc,Vc,...Bd){return Kd(Sb,qc,c(Vc),...n(Bd))};Object.defineProperties(y,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});return y})({})};
shadow$provide[269]=function(sa,F,ob,G){function y(p,n,v){(v=v&&v.debug||!1)&&console.log("getting "+n+" in "+p);p="object"===typeof p?p.outer:p;n=`${n}\\="\([^"]*\)"`;v&&console.log("pattern:",n);n=(new RegExp(n)).exec(p);v&&console.log("match:",n);if(n)return n[1]}ob.exports=y;ob.exports.default=y};
shadow$provide[270]=function(sa,F,ob,G){function y(p,n,v){return(p=(new RegExp(n)).exec(p.slice(v)))?v+p.index:-1}ob.exports=y;ob.exports.default=y};
shadow$provide[271]=function(sa,F,ob,G){function y(p,n,v){return(p=(new RegExp(n)).exec(p.slice(v)))?v+p.index+p[0].length-1:-1}ob.exports=y;ob.exports.default=y};
shadow$provide[272]=function(sa,F,ob,G){function y(v,r,h){const k=h&&h.debug||!1;var f=h&&h.startIndex||0;k&&console.log("[xml-utils] starting findTagByName with",r," and ",h);h=p(v,`\<${r}[ \>\/]`,f);k&&console.log("[xml-utils] start:",h);if(-1!==h){var e=v.slice(h+r.length),d=n(e,"^[^\x3c]*[ /]\x3e",0);f=-1!==d&&"/"===e[d-1];k&&console.log("[xml-utils] selfClosing:",f);!1===f&&(d=n(e,"[ /]"+r+"\x3e",0));r=h+r.length+d+1;k&&console.log("[xml-utils] end:",r);if(-1!==r)return v=v.slice(h,r),{inner:f?
null:v.slice(v.indexOf("\x3e")+1,v.lastIndexOf("\x3c")),outer:v,start:h,end:r}}}const p=F(270),n=F(271);ob.exports=y;ob.exports.default=y};
shadow$provide[273]=function(sa,F,ob,G){function y(n,v,r){const h=[],k=r&&r.debug||!1;r=r&&r.startIndex||0;let f;for(;f=p(n,v,{debug:k,startIndex:r});)r=f.end,h.push(f);k&&console.log("findTagsByName found",h.length,"tags");return h}const p=F(272);ob.exports=y;ob.exports.default=y};
shadow$provide[274]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.geoKeys=G.geoKeyNames=G.LercAddCompression=G.LercParameters=G.ExtraSamplesValues=G.photometricInterpretations=G.fieldTypes=G.fieldTypeNames=G.arrayFields=G.fieldTagTypes=void 0;G.fieldTagNames={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",
290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",
328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",
286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",
42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"};G.fieldTags={};for(const y in G.fieldTagNames)G.fieldTagNames.hasOwnProperty(y)&&(G.fieldTags[G.fieldTagNames[y]]=parseInt(y,10));G.fieldTagTypes={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",
284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"};G.arrayFields=[G.fieldTags.BitsPerSample,G.fieldTags.ExtraSamples,G.fieldTags.SampleFormat,G.fieldTags.StripByteCounts,G.fieldTags.StripOffsets,G.fieldTags.StripRowCounts,G.fieldTags.TileByteCounts,G.fieldTags.TileOffsets,
G.fieldTags.SubIFDs];G.fieldTypeNames={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"};G.fieldTypes={};for(const y in G.fieldTypeNames)G.fieldTypeNames.hasOwnProperty(y)&&(G.fieldTypes[G.fieldTypeNames[y]]=parseInt(y,10));G.photometricInterpretations={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9};G.ExtraSamplesValues={Unspecified:0,
Assocalpha:1,Unassalpha:2};G.LercParameters={Version:0,AddCompression:1};G.LercAddCompression={None:0,Deflate:1};G.geoKeyNames={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",
2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",
3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",
4099:"VerticalUnitsGeoKey"};G.geoKeys={};for(const y in G.geoKeyNames)G.geoKeyNames.hasOwnProperty(y)&&(G.geoKeys[G.geoKeyNames[y]]=parseInt(y,10))};
shadow$provide[275]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.fromCIELab=G.fromYCbCr=G.fromCMYK=G.fromPalette=G.fromBlackIsZero=G.fromWhiteIsZero=void 0;G.fromWhiteIsZero=function(y,p){const {width:n,height:v}=y,r=new Uint8Array(n*v*3);let h;for(let k=0,f=0;k<y.length;++k,f+=3)h=256-y[k]/p*256,r[f]=h,r[f+1]=h,r[f+2]=h;return r};G.fromBlackIsZero=function(y,p){const {width:n,height:v}=y,r=new Uint8Array(n*v*3);let h;for(let k=0,f=0;k<y.length;++k,f+=3)h=y[k]/p*256,r[f]=
h,r[f+1]=h,r[f+2]=h;return r};G.fromPalette=function(y,p){const {width:n,height:v}=y,r=new Uint8Array(n*v*3),h=p.length/3,k=p.length/3*2;for(let f=0,e=0;f<y.length;++f,e+=3){const d=y[f];r[e]=p[d]/65536*256;r[e+1]=p[d+h]/65536*256;r[e+2]=p[d+k]/65536*256}return r};G.fromCMYK=function(y){const {width:p,height:n}=y,v=new Uint8Array(p*n*3);for(let r=0,h=0;r<y.length;r+=4,h+=3){const k=y[r+1],f=y[r+2],e=y[r+3];v[h]=(255-y[r])/256*255*((255-e)/256);v[h+1]=(255-k)/256*255*((255-e)/256);v[h+2]=(255-f)/256*
255*((255-e)/256)}return v};G.fromYCbCr=function(y){const {width:p,height:n}=y,v=new Uint8ClampedArray(p*n*3);for(let r=0,h=0;r<y.length;r+=3,h+=3){const k=y[r],f=y[r+1],e=y[r+2];v[h]=k+1.402*(e-128);v[h+1]=k-.34414*(f-128)-.71414*(e-128);v[h+2]=k+1.772*(f-128)}return v};G.fromCIELab=function(y){const {width:p,height:n}=y,v=new Uint8Array(p*n*3);for(let h=0,k=0;h<y.length;h+=3,k+=3){var r=(y[h+0]+16)/116;let f=(y[h+1]<<24>>24)/500+r,e=r-(y[h+2]<<24>>24)/200,d,a;f=.95047*(.008856<f*f*f?f*f*f:(f-16/
116)/7.787);r=.008856<r*r*r?r*r*r:(r-16/116)/7.787;e=1.08883*(.008856<e*e*e?e*e*e:(e-16/116)/7.787);d=3.2406*f+-1.5372*r+-.4986*e;a=-.9689*f+1.8758*r+.0415*e;r=.0557*f+-.204*r+1.057*e;d=.0031308<d?1.055*Math.pow(d,1/2.4)-.055:12.92*d;a=.0031308<a?1.055*Math.pow(a,1/2.4)-.055:12.92*a;r=.0031308<r?1.055*Math.pow(r,1/2.4)-.055:12.92*r;v[k]=255*Math.max(0,Math.min(1,d));v[k+1]=255*Math.max(0,Math.min(1,a));v[k+2]=255*Math.max(0,Math.min(1,r))}return v}};
shadow$provide[276]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.applyPredictor=void 0;G.applyPredictor=function(y,p,n,v,r,h){if(!p||1===p)return y;for(var k=0;k<r.length;++k){if(0!==r[k]%8)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");if(r[k]!==r[0])throw Error("When decoding with predictor, all samples must have the same size.");}k=r[0]/8;h=2===h?1:r.length;for(let m=0;m<v&&!(m*h*n*k>=y.byteLength);++m){var f=void 0;if(2===p){switch(r[0]){case 8:f=
new Uint8Array(y,m*h*n*k,h*n*k);break;case 16:f=new Uint16Array(y,m*h*n*k,h*n*k/2);break;case 32:f=new Uint32Array(y,m*h*n*k,h*n*k/4);break;default:throw Error(`Predictor 2 not allowed with ${r[0]} bits per sample.`);}var e=h,d=f.length-e,a=0;do{for(var c=e;0<c;c--)f[a+e]+=f[a],a++;d-=e}while(0<d)}else if(3===p){f=new Uint8Array(y,m*h*n*k,h*n*k);a=h;e=k;c=0;var b=f.length;for(d=b/e;b>a;){for(let z=a;0<z;--z)f[c+a]+=f[c],++c;b-=a}a=f.slice();for(c=0;c<d;++c)for(b=0;b<e;++b)f[e*c+b]=a[(e-b-1)*d+c]}}return y}};
shadow$provide[277]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});const y=F(276);class p{decode(n,v){const r=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const h=yield r.decodeBlock(v),k=n.Predictor||1;if(1!==k){const f=!n.StripOffsets;return(0,y.applyPredictor)(h,k,f?n.TileWidth:n.ImageWidth,f?n.TileLength:n.RowsPerStrip||n.ImageLength,n.BitsPerSample,n.PlanarConfiguration)}return h})}}G.default=p};
shadow$provide[278]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(G,"__esModule",{value:!0});F=sa(F(277));class y extends F.default{decodeBlock(p){return p}}G.default=y};
shadow$provide[279]=function(sa,F,ob,G){function y(v,r){for(let h=r.length-1;0<=h;h--)v.push(r[h]);return v}function p(v){function r(C){{var J=b,A=c,x=J%8;const H=Math.floor(J/8),M=8-x,R=J+A-8*(H+1);const Z=8*(H+2)-J;var q=Math.max(0,8*(H+2)-(J+A));H>=C.length?(console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),C=257):(x=(C[H]&Math.pow(2,8-x)-1)<<A-M,H+1<C.length&&(q=C[H+1]>>>q,q<<=Math.max(0,A-Z),x+=q),8<R&&H+2<C.length&&(x+=C[H+2]>>>8*(H+3)-(J+A)),C=x)}b+=
c;return C}function h(C,J){e[a]=J;f[a]=C;a++;return a-1}function k(C){const J=[];for(;4096!==C;C=f[C])J.push(e[C]);return J}const f=new Uint16Array(4093),e=new Uint8Array(4093);for(var d=0;257>=d;d++)f[d]=4096,e[d]=d;let a=258,c=9,b=0;d=[];a=258;c=9;v=new Uint8Array(v);let m=r(v);for(var z;257!==m;){if(256===m){a=258;c=9;for(m=r(v);256===m;)m=r(v);if(257===m)break;else{if(256<m)throw Error(`corrupted code at scanline ${m}`);z=k(m);y(d,z);z=m}}else{if(m<a){var u=k(m);y(d,u);h(z,u[u.length-1])}else{u=
k(z);if(!u)throw Error(`Bogus entry. Not in dictionary, ${z} / ${a}, position: ${b}`);y(d,u);d.push(u[u.length-1]);h(z,u[u.length-1])}z=m}a+1>=Math.pow(2,c)&&(12===c?z=void 0:c++);m=r(v)}return new Uint8Array(d)}sa=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{"default":v}};Object.defineProperty(G,"__esModule",{value:!0});F=sa(F(277));class n extends F.default{decodeBlock(v){return p(v,!1).buffer}}G.default=n};
shadow$provide[280]=function(sa,F,ob,G){function y(h,k){let f=0;const e=[];let d=16;for(;0<d&&!h[d-1];)--d;e.push({children:[],index:0});let a=e[0],c;for(let b=0;b<d;b++){for(let m=0;m<h[b];m++){a=e.pop();for(a.children[a.index]=k[f];0<a.index;)a=e.pop();a.index++;for(e.push(a);e.length<=b;)e.push(c={children:[],index:0}),a.children[a.index]=c.children,a=c;f++}b+1<d&&(e.push(c={children:[],index:0}),a.children[a.index]=c.children,a=c)}return e[0].children}function p(h,k,f,e,d,a,c,b,m){function z(){if(0<
aa)return aa--,ba>>aa&1;ba=h[T++];if(255===ba){const wa=h[T++];if(wa)throw Error(`unexpected marker: ${(ba<<8|wa).toString(16)}`);}aa=7;return ba>>>7}function u(wa){let Ua;for(;null!==(Ua=z());){wa=wa[Ua];if("number"===typeof wa)return wa;if("object"!==typeof wa)throw Error("invalid huffman sequence");}return null}function C(wa){let Ua=0;for(;0<wa;){const hb=z();if(null===hb)return;Ua=Ua<<1|hb;--wa}return Ua}function J(wa){const Ua=C(wa);return Ua>=1<<wa-1?Ua:Ua+(-1<<wa)+1}function A(wa,Ua){var hb=
u(wa.huffmanTableDC);hb=0===hb?0:J(hb);wa.pred+=hb;Ua[0]=wa.pred;for(hb=1;64>hb;){var La=u(wa.huffmanTableAC);const pa=La&15;La>>=4;if(0===pa){if(15>La)break;hb+=16}else hb+=La,Ua[n[hb]]=J(pa),hb++}}function x(wa,Ua){var hb=u(wa.huffmanTableDC);hb=0===hb?0:J(hb)<<m;wa.pred+=hb;Ua[0]=wa.pred}function q(wa,Ua){Ua[0]|=z()<<m}function H(wa,Ua){if(0<W)W--;else for(var hb=a;hb<=c;){var La=u(wa.huffmanTableAC);const pa=La&15;La>>=4;if(0===pa){if(15>La){W=C(La)+(1<<La)-1;break}hb+=16}else hb+=La,Ua[n[hb]]=
J(pa)*(1<<m),hb++}}function M(wa,Ua){let hb=a;for(var La=0;hb<=c;){var pa=n[hb];const Da=0>Ua[pa]?-1:1;switch(X){case 0:La=u(wa.huffmanTableAC);pa=La&15;La>>=4;if(0===pa)15>La?(W=C(La)+(1<<La),X=4):(La=16,X=1);else{if(1!==pa)throw Error("invalid ACn encoding");P=J(pa);X=La?2:3}continue;case 1:case 2:Ua[pa]?Ua[pa]+=(z()<<m)*Da:(La--,0===La&&(X=2===X?3:0));break;case 3:Ua[pa]?Ua[pa]+=(z()<<m)*Da:(Ua[pa]=P<<m,X=0);break;case 4:Ua[pa]&&(Ua[pa]+=(z()<<m)*Da)}hb++}4===X&&(W--,0===W&&(X=0))}const {mcusPerLine:R,
progressive:Z}=f;let T=k,ba=0,aa=0,W=0,X=0,P;const w=e.length;let B,K,U,ka;b=Z?0===a?0===b?x:q:0===b?H:M:A;let da=0;f=1===w?e[0].blocksPerLine*e[0].blocksPerColumn:R*f.mcusPerColumn;for(d=d||f;da<f;){for(B=0;B<w;B++)e[B].pred=0;W=0;if(1===w){var la=e[0];for(ka=0;ka<d;ka++)b(la,la.blocks[da/la.blocksPerLine|0][da%la.blocksPerLine]),da++}else for(ka=0;ka<d;ka++){for(B=0;B<w;B++){la=e[B];const {h:wa,v:Ua}=la;for(K=0;K<Ua;K++)for(U=0;U<wa;U++)b(la,la.blocks[(da/R|0)*la.v+K][da%R*la.h+U])}da++;if(da===
f)break}aa=0;la=h[T]<<8|h[T+1];if(65280>la)throw Error("marker was not found");if(65488<=la&&65495>=la)T+=2;else break}return T-k}sa=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{"default":h}};Object.defineProperty(G,"__esModule",{value:!0});F=sa(F(277));const n=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);class v{constructor(){this.adobe=
this.jfif=null;this.quantizationTables=[];this.huffmanTablesAC=[];this.huffmanTablesDC=[];this.resetFrames()}resetFrames(){this.frames=[]}parse(h){function k(){const J=h[d]<<8|h[d+1];d+=2;return J}function f(){var J=k();J=h.subarray(d,d+J-2);d+=J.length;return J}function e(J){let A=0,x=0,q,H;for(H in J.components)J.components.hasOwnProperty(H)&&(q=J.components[H],A<q.h&&(A=q.h),x<q.v&&(x=q.v));const M=Math.ceil(J.samplesPerLine/8/A),R=Math.ceil(J.scanLines/8/x);for(H in J.components)if(J.components.hasOwnProperty(H)){q=
J.components[H];const Z=Math.ceil(Math.ceil(J.samplesPerLine/8)*q.h/A),T=Math.ceil(Math.ceil(J.scanLines/8)*q.v/x),ba=M*q.h,aa=R*q.v,W=[];for(let X=0;X<aa;X++){const P=[];for(let w=0;w<ba;w++)P.push(new Int32Array(64));W.push(P)}q.blocksPerLine=Z;q.blocksPerColumn=T;q.blocks=W}J.maxH=A;J.maxV=x;J.mcusPerLine=M;J.mcusPerColumn=R}let d=0;var a=k();if(65496!==a)throw Error("SOI not found");for(a=k();65497!==a;){switch(a){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var c=
f();65504===a&&74===c[0]&&70===c[1]&&73===c[2]&&70===c[3]&&0===c[4]&&(this.jfif={version:{major:c[5],minor:c[6]},densityUnits:c[7],xDensity:c[8]<<8|c[9],yDensity:c[10]<<8|c[11],thumbWidth:c[12],thumbHeight:c[13],thumbData:c.subarray(14,14+3*c[12]*c[13])});65518===a&&65===c[0]&&100===c[1]&&111===c[2]&&98===c[3]&&101===c[4]&&0===c[5]&&(this.adobe={version:c[6],flags0:c[7]<<8|c[8],flags1:c[9]<<8|c[10],transformCode:c[11]});break;case 65499:for(a=k()+d-2;d<a;){c=h[d++];var b=new Int32Array(64);if(0===
c>>4)for(var m=0;64>m;m++)b[n[m]]=h[d++];else if(1===c>>4)for(m=0;64>m;m++)b[n[m]]=k();else throw Error("DQT: invalid table spec");this.quantizationTables[c&15]=b}break;case 65472:case 65473:case 65474:k();a={extended:65473===a,progressive:65474===a,precision:h[d++],scanLines:k(),samplesPerLine:k(),components:{},componentsOrder:[]};c=h[d++];for(m=0;m<c;m++){b=h[d];var z=h[d+1]>>4,u=h[d+1]&15,C=h[d+2];a.componentsOrder.push(b);a.components[b]={h:z,v:u,quantizationIdx:C};d+=3}e(a);this.frames.push(a);
break;case 65476:a=k();for(c=2;c<a;){b=h[d++];m=new Uint8Array(16);z=0;for(u=0;16>u;u++,d++)m[u]=h[d],z+=m[u];u=new Uint8Array(z);for(C=0;C<z;C++,d++)u[C]=h[d];c+=17+z;0===b>>4?this.huffmanTablesDC[b&15]=y(m,u):this.huffmanTablesAC[b&15]=y(m,u)}break;case 65501:k();this.resetInterval=k();break;case 65498:k();b=h[d++];a=[];c=this.frames[0];for(m=0;m<b;m++)z=c.components[h[d++]],u=h[d++],z.huffmanTableDC=this.huffmanTablesDC[u>>4],z.huffmanTableAC=this.huffmanTablesAC[u&15],a.push(z);b=h[d++];m=h[d++];
z=h[d++];a=p(h,d,c,a,this.resetInterval,b,m,z>>4,z&15);d+=a;break;case 65535:255!==h[d]&&d--;break;default:if(255===h[d-3]&&192<=h[d-2]&&254>=h[d-2])d-=3;else throw Error(`unknown JPEG marker ${a.toString(16)}`);}a=k()}}getResult(){var {frames:h}=this;if(0===this.frames.length)throw Error("no frames were decoded");1<this.frames.length&&console.warn("more than one frame is not supported");for(var k=0;k<this.frames.length;k++){var f=this.frames[k].components;for(var e of Object.keys(f))f[e].quantizationTable=
this.quantizationTables[f[e].quantizationIdx],delete f[e].quantizationIdx}e=h[0];const {components:d,componentsOrder:a}=e;h=[];k=e.samplesPerLine;f=e.scanLines;for(var c=0;c<a.length;c++){var b=d[a[c]],m=h,z=m.push,u=b;const Z=[],{blocksPerLine:T,blocksPerColumn:ba}=u,aa=T<<3,W=new Int32Array(64),X=new Uint8Array(64);for(let P=0;P<ba;P++){const w=P<<3;for(var C=0;8>C;C++)Z.push(new Uint8Array(aa));for(C=0;C<T;C++){var J=void 0,A=void 0,x=void 0;let B,K,U,ka,da,la,wa;A=u.blocks[P][C];var q=X,H=W;x=
u.quantizationTable;var M=H;for(J=0;64>J;J++)M[J]=A[J]*x[J];for(J=0;8>J;++J){var R=8*J;0===M[1+R]&&0===M[2+R]&&0===M[3+R]&&0===M[4+R]&&0===M[5+R]&&0===M[6+R]&&0===M[7+R]?(A=5793*M[0+R]+512>>10,M[0+R]=A,M[1+R]=A,M[2+R]=A,M[3+R]=A,M[4+R]=A,M[5+R]=A,M[6+R]=A,M[7+R]=A):(wa=5793*M[0+R]+128>>8,la=5793*M[4+R]+128>>8,da=M[2+R],ka=M[6+R],U=2896*(M[1+R]-M[7+R])+128>>8,x=2896*(M[1+R]+M[7+R])+128>>8,K=M[3+R]<<4,B=M[5+R]<<4,A=wa-la+1>>1,wa=wa+la+1>>1,la=A,A=3784*da+1567*ka+128>>8,da=1567*da-3784*ka+128>>8,ka=
A,A=U-B+1>>1,U=U+B+1>>1,B=A,A=x+K+1>>1,K=x-K+1>>1,x=A,A=wa-ka+1>>1,wa=wa+ka+1>>1,ka=A,A=la-da+1>>1,la=la+da+1>>1,da=A,A=2276*U+3406*x+2048>>12,U=3406*U-2276*x+2048>>12,x=A,A=799*K+4017*B+2048>>12,K=4017*K-799*B+2048>>12,B=A,M[0+R]=wa+x,M[7+R]=wa-x,M[1+R]=la+B,M[6+R]=la-B,M[2+R]=da+K,M[5+R]=da-K,M[3+R]=ka+U,M[4+R]=ka-U)}for(J=0;8>J;++J)R=J,0===M[8+R]&&0===M[16+R]&&0===M[24+R]&&0===M[32+R]&&0===M[40+R]&&0===M[48+R]&&0===M[56+R]?(A=5793*H[J+0]+8192>>14,M[0+R]=A,M[8+R]=A,M[16+R]=A,M[24+R]=A,M[32+R]=A,
M[40+R]=A,M[48+R]=A,M[56+R]=A):(wa=5793*M[0+R]+2048>>12,la=5793*M[32+R]+2048>>12,da=M[16+R],ka=M[48+R],U=2896*(M[8+R]-M[56+R])+2048>>12,x=2896*(M[8+R]+M[56+R])+2048>>12,K=M[24+R],B=M[40+R],A=wa-la+1>>1,wa=wa+la+1>>1,la=A,A=3784*da+1567*ka+2048>>12,da=1567*da-3784*ka+2048>>12,ka=A,A=U-B+1>>1,U=U+B+1>>1,B=A,A=x+K+1>>1,K=x-K+1>>1,x=A,A=wa-ka+1>>1,wa=wa+ka+1>>1,ka=A,A=la-da+1>>1,la=la+da+1>>1,da=A,A=2276*U+3406*x+2048>>12,U=3406*U-2276*x+2048>>12,x=A,A=799*K+4017*B+2048>>12,K=4017*K-799*B+2048>>12,B=
A,M[0+R]=wa+x,M[56+R]=wa-x,M[8+R]=la+B,M[48+R]=la-B,M[16+R]=da+K,M[40+R]=da-K,M[24+R]=ka+U,M[32+R]=ka-U);for(J=0;64>J;++J)H=128+(M[J]+8>>4),q[J]=0>H?0:255<H?255:H;q=0;J=C<<3;for(M=0;8>M;M++)for(H=Z[w+M],A=0;8>A;A++)H[J+A]=X[q++]}}z.call(m,{lines:Z,scaleX:b.h/e.maxH,scaleY:b.v/e.maxV})}e=new Uint8Array(k*f*h.length);m=0;for(z=0;z<f;++z)for(u=0;u<k;++u)for(c=0;c<h.length;++c)b=h[c],e[m]=b.lines[0|z*b.scaleY][0|u*b.scaleX],++m;return e}}class r extends F.default{constructor(h){super();this.reader=new v;
h.JPEGTables&&this.reader.parse(h.JPEGTables)}decodeBlock(h){this.reader.resetFrames();this.reader.parse(new Uint8Array(h));return this.reader.getResult().buffer}}G.default=r};
shadow$provide[281]=function(sa,F,ob,G){function y(ra){let jb=ra.length;for(;0<=--jb;)ra[jb]=0}function p(ra,jb,Ia,Xb,ha){this.static_tree=ra;this.extra_bits=jb;this.extra_base=Ia;this.elems=Xb;this.max_length=ha;this.has_stree=ra&&ra.length}function n(ra,jb){this.dyn_tree=ra;this.max_code=0;this.stat_desc=jb}function v(ra,jb,Ia,Xb,ha){this.good_length=ra;this.max_lazy=jb;this.nice_length=Ia;this.max_chain=Xb;this.func=ha}function r(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=
this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=hd;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=
this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);Ab(this.dyn_ltree);Ab(this.dyn_dtree);Ab(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Ab(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Ab(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=
0}function h(ra){ra=this.options=Tb.assign({level:je,method:bf,chunkSize:16384,windowBits:15,memLevel:8,strategy:qd},ra||{});ra.raw&&0<ra.windowBits?ra.windowBits=-ra.windowBits:ra.gzip&&0<ra.windowBits&&16>ra.windowBits&&(ra.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new dd;this.strm.avail_out=0;let jb=zb.deflateInit2(this.strm,ra.level,ra.method,ra.windowBits,ra.memLevel,ra.strategy);if(jb!==ae)throw Error(Da[jb]);ra.header&&zb.deflateSetHeader(this.strm,ra.header);
if(ra.dictionary){ra="string"===typeof ra.dictionary?Dc.string2buf(ra.dictionary):"[object ArrayBuffer]"===fd.call(ra.dictionary)?new Uint8Array(ra.dictionary):ra.dictionary;jb=zb.deflateSetDictionary(this.strm,ra);if(jb!==ae)throw Error(Da[jb]);this._dict_set=!0}}function k(ra,jb){jb=new h(jb);jb.push(ra,!0);if(jb.err)throw jb.msg||Da[jb.err];return jb.result}function f(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=
this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function e(ra){const jb=this.options=Tb.assign({chunkSize:65536,windowBits:15,to:""},ra||{});jb.raw&&0<=jb.windowBits&&16>jb.windowBits&&(jb.windowBits=
-jb.windowBits,0===jb.windowBits&&(jb.windowBits=-15));!(0<=jb.windowBits&&16>jb.windowBits)||ra&&ra.windowBits||(jb.windowBits+=32);15<jb.windowBits&&48>jb.windowBits&&0===(jb.windowBits&15)&&(jb.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new dd;this.strm.avail_out=0;ra=qc.inflateInit2(this.strm,jb.windowBits);if(ra!==$e)throw Error(Da[ra]);this.header=new Vc;qc.inflateGetHeader(this.strm,this.header);if(jb.dictionary&&("string"===typeof jb.dictionary?jb.dictionary=
Dc.string2buf(jb.dictionary):"[object ArrayBuffer]"===Bd.call(jb.dictionary)&&(jb.dictionary=new Uint8Array(jb.dictionary)),jb.raw&&(ra=qc.inflateSetDictionary(this.strm,jb.dictionary),ra!==$e)))throw Error(Da[ra]);}function d(ra,jb){jb=new e(jb);jb.push(ra);if(jb.err)throw jb.msg||Da[jb.err];return jb.result}Object.defineProperty(G,"__esModule",{value:!0});G.ungzip=G.inflateRaw=G.inflate=G.gzip=G.deflateRaw=G.deflate=G.default=G.constants=G.Inflate=G.Deflate=void 0;const a=new Uint8Array([0,0,0,
0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),c=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),b=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),m=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),z=Array(576);y(z);const u=Array(60);y(u);const C=Array(512);y(C);const J=Array(256);y(J);const A=Array(29);y(A);const x=Array(30);y(x);let q,H,M;const R=(ra,jb)=>{ra.pending_buf[ra.pending++]=jb&255;ra.pending_buf[ra.pending++]=jb>>>8&
255},Z=(ra,jb,Ia)=>{ra.bi_valid>16-Ia?(ra.bi_buf|=jb<<ra.bi_valid&65535,R(ra,ra.bi_buf),ra.bi_buf=jb>>16-ra.bi_valid,ra.bi_valid+=Ia-16):(ra.bi_buf|=jb<<ra.bi_valid&65535,ra.bi_valid+=Ia)},T=(ra,jb,Ia)=>{Z(ra,Ia[2*jb],Ia[2*jb+1])},ba=(ra,jb)=>{let Ia=0;do Ia|=ra&1,ra>>>=1,Ia<<=1;while(0<--jb);return Ia>>>1},aa=(ra,jb,Ia)=>{const Xb=Array(16);var ha=0;let Oa;for(Oa=1;15>=Oa;Oa++)Xb[Oa]=ha=ha+Ia[Oa-1]<<1;for(Ia=0;Ia<=jb;Ia++)ha=ra[2*Ia+1],0!==ha&&(ra[2*Ia]=ba(Xb[ha]++,ha))},W=ra=>{let jb;for(jb=0;286>
jb;jb++)ra.dyn_ltree[2*jb]=0;for(jb=0;30>jb;jb++)ra.dyn_dtree[2*jb]=0;for(jb=0;19>jb;jb++)ra.bl_tree[2*jb]=0;ra.dyn_ltree[512]=1;ra.opt_len=ra.static_len=0;ra.last_lit=ra.matches=0},X=ra=>{8<ra.bi_valid?R(ra,ra.bi_buf):0<ra.bi_valid&&(ra.pending_buf[ra.pending++]=ra.bi_buf);ra.bi_buf=0;ra.bi_valid=0},P=(ra,jb,Ia,Xb)=>{const ha=2*jb,Oa=2*Ia;return ra[ha]<ra[Oa]||ra[ha]===ra[Oa]&&Xb[jb]<=Xb[Ia]},w=(ra,jb,Ia)=>{const Xb=ra.heap[Ia];let ha=Ia<<1;for(;ha<=ra.heap_len;){ha<ra.heap_len&&P(jb,ra.heap[ha+
1],ra.heap[ha],ra.depth)&&ha++;if(P(jb,Xb,ra.heap[ha],ra.depth))break;ra.heap[Ia]=ra.heap[ha];Ia=ha;ha<<=1}ra.heap[Ia]=Xb},B=(ra,jb,Ia)=>{let Xb,ha,Oa=0,$a,ub;if(0!==ra.last_lit){do Xb=ra.pending_buf[ra.d_buf+2*Oa]<<8|ra.pending_buf[ra.d_buf+2*Oa+1],ha=ra.pending_buf[ra.l_buf+Oa],Oa++,0===Xb?T(ra,ha,jb):($a=J[ha],T(ra,$a+256+1,jb),ub=a[$a],0!==ub&&(ha-=A[$a],Z(ra,ha,ub)),Xb--,$a=256>Xb?C[Xb]:C[256+(Xb>>>7)],T(ra,$a,Ia),ub=c[$a],0!==ub&&(Xb-=x[$a],Z(ra,Xb,ub)));while(Oa<ra.last_lit)}T(ra,256,jb)},
K=(ra,jb)=>{const Ia=jb.dyn_tree;var Xb=jb.stat_desc.static_tree,ha=jb.stat_desc.has_stree,Oa=jb.stat_desc.elems,$a;let ub=-1;ra.heap_len=0;ra.heap_max=573;for($a=0;$a<Oa;$a++)0!==Ia[2*$a]?(ra.heap[++ra.heap_len]=ub=$a,ra.depth[$a]=0):Ia[2*$a+1]=0;for(;2>ra.heap_len;){var Cb=ra.heap[++ra.heap_len]=2>ub?++ub:0;Ia[2*Cb]=1;ra.depth[Cb]=0;ra.opt_len--;ha&&(ra.static_len-=Xb[2*Cb+1])}jb.max_code=ub;for($a=ra.heap_len>>1;1<=$a;$a--)w(ra,Ia,$a);Cb=Oa;do $a=ra.heap[1],ra.heap[1]=ra.heap[ra.heap_len--],w(ra,
Ia,1),Xb=ra.heap[1],ra.heap[--ra.heap_max]=$a,ra.heap[--ra.heap_max]=Xb,Ia[2*Cb]=Ia[2*$a]+Ia[2*Xb],ra.depth[Cb]=(ra.depth[$a]>=ra.depth[Xb]?ra.depth[$a]:ra.depth[Xb])+1,Ia[2*$a+1]=Ia[2*Xb+1]=Cb,ra.heap[1]=Cb++,w(ra,Ia,1);while(2<=ra.heap_len);ra.heap[--ra.heap_max]=ra.heap[1];{$a=jb.dyn_tree;Cb=jb.max_code;Xb=jb.stat_desc.static_tree;ha=jb.stat_desc.has_stree;Oa=jb.stat_desc.extra_bits;const Wb=jb.stat_desc.extra_base,sc=jb.stat_desc.max_length;let Uc,Xc,Cc,zc,oc=0;for(Xc=0;15>=Xc;Xc++)ra.bl_count[Xc]=
0;$a[2*ra.heap[ra.heap_max]+1]=0;for(jb=ra.heap_max+1;573>jb;jb++)Uc=ra.heap[jb],Xc=$a[2*$a[2*Uc+1]+1]+1,Xc>sc&&(Xc=sc,oc++),$a[2*Uc+1]=Xc,Uc>Cb||(ra.bl_count[Xc]++,Cc=0,Uc>=Wb&&(Cc=Oa[Uc-Wb]),zc=$a[2*Uc],ra.opt_len+=zc*(Xc+Cc),ha&&(ra.static_len+=zc*(Xb[2*Uc+1]+Cc)));if(0!==oc){do{for(Xc=sc-1;0===ra.bl_count[Xc];)Xc--;ra.bl_count[Xc]--;ra.bl_count[Xc+1]+=2;ra.bl_count[sc]--;oc-=2}while(0<oc);for(Xc=sc;0!==Xc;Xc--)for(Uc=ra.bl_count[Xc];0!==Uc;)Xb=ra.heap[--jb],Xb>Cb||($a[2*Xb+1]!==Xc&&(ra.opt_len+=
(Xc-$a[2*Xb+1])*$a[2*Xb],$a[2*Xb+1]=Xc),Uc--)}}aa(Ia,ub,ra.bl_count)},U=(ra,jb,Ia)=>{let Xb,ha=-1,Oa,$a=jb[1],ub=0,Cb=7,Wb=4;0===$a&&(Cb=138,Wb=3);jb[2*(Ia+1)+1]=65535;for(Xb=0;Xb<=Ia;Xb++)Oa=$a,$a=jb[2*(Xb+1)+1],++ub<Cb&&Oa===$a||(ub<Wb?ra.bl_tree[2*Oa]+=ub:0!==Oa?(Oa!==ha&&ra.bl_tree[2*Oa]++,ra.bl_tree[32]++):10>=ub?ra.bl_tree[34]++:ra.bl_tree[36]++,ub=0,ha=Oa,0===$a?(Cb=138,Wb=3):Oa===$a?(Cb=6,Wb=3):(Cb=7,Wb=4))},ka=(ra,jb,Ia)=>{let Xb,ha=-1,Oa,$a=jb[1],ub=0,Cb=7,Wb=4;0===$a&&(Cb=138,Wb=3);for(Xb=
0;Xb<=Ia;Xb++)if(Oa=$a,$a=jb[2*(Xb+1)+1],!(++ub<Cb&&Oa===$a)){if(ub<Wb){do T(ra,Oa,ra.bl_tree);while(0!==--ub)}else 0!==Oa?(Oa!==ha&&(T(ra,Oa,ra.bl_tree),ub--),T(ra,16,ra.bl_tree),Z(ra,ub-3,2)):10>=ub?(T(ra,17,ra.bl_tree),Z(ra,ub-3,3)):(T(ra,18,ra.bl_tree),Z(ra,ub-11,7));ub=0;ha=Oa;0===$a?(Cb=138,Wb=3):Oa===$a?(Cb=6,Wb=3):(Cb=7,Wb=4)}},da=ra=>{let jb=4093624447,Ia;for(Ia=0;31>=Ia;Ia++,jb>>>=1)if(jb&1&&0!==ra.dyn_ltree[2*Ia])return 0;if(0!==ra.dyn_ltree[18]||0!==ra.dyn_ltree[20]||0!==ra.dyn_ltree[26])return 1;
for(Ia=32;256>Ia;Ia++)if(0!==ra.dyn_ltree[2*Ia])return 1;return 0};let la=!1;const wa=(ra,jb,Ia,Xb)=>{Z(ra,Xb?1:0,3);X(ra);R(ra,Ia);R(ra,~Ia);ra.pending_buf.set(ra.window.subarray(jb,jb+Ia),ra.pending);ra.pending+=Ia};var Ua={_tr_init:ra=>{if(!la){var jb,Ia;let Xb;const ha=Array(16);for(Xb=Ia=0;28>Xb;Xb++)for(A[Xb]=Ia,jb=0;jb<1<<a[Xb];jb++)J[Ia++]=Xb;J[Ia-1]=Xb;for(Xb=Ia=0;16>Xb;Xb++)for(x[Xb]=Ia,jb=0;jb<1<<c[Xb];jb++)C[Ia++]=Xb;for(Ia>>=7;30>Xb;Xb++)for(x[Xb]=Ia<<7,jb=0;jb<1<<c[Xb]-7;jb++)C[256+
Ia++]=Xb;for(jb=0;15>=jb;jb++)ha[jb]=0;for(jb=0;143>=jb;)z[2*jb+1]=8,jb++,ha[8]++;for(;255>=jb;)z[2*jb+1]=9,jb++,ha[9]++;for(;279>=jb;)z[2*jb+1]=7,jb++,ha[7]++;for(;287>=jb;)z[2*jb+1]=8,jb++,ha[8]++;aa(z,287,ha);for(jb=0;30>jb;jb++)u[2*jb+1]=5,u[2*jb]=ba(jb,5);q=new p(z,a,257,286,15);H=new p(u,c,0,30,15);M=new p([],b,0,19,7);la=!0}ra.l_desc=new n(ra.dyn_ltree,q);ra.d_desc=new n(ra.dyn_dtree,H);ra.bl_desc=new n(ra.bl_tree,M);ra.bi_buf=0;ra.bi_valid=0;W(ra)},_tr_stored_block:wa,_tr_flush_block:(ra,
jb,Ia,Xb)=>{let ha;var Oa=0;if(0<ra.level){2===ra.strm.data_type&&(ra.strm.data_type=da(ra));K(ra,ra.l_desc);K(ra,ra.d_desc);U(ra,ra.dyn_ltree,ra.l_desc.max_code);U(ra,ra.dyn_dtree,ra.d_desc.max_code);K(ra,ra.bl_desc);for(Oa=18;3<=Oa&&0===ra.bl_tree[2*m[Oa]+1];Oa--);ra.opt_len+=3*(Oa+1)+14;var $a=ra.opt_len+3+7>>>3;ha=ra.static_len+3+7>>>3;ha<=$a&&($a=ha)}else $a=ha=Ia+5;if(Ia+4<=$a&&-1!==jb)wa(ra,jb,Ia,Xb);else if(4===ra.strategy||ha===$a)Z(ra,2+(Xb?1:0),3),B(ra,z,u);else{Z(ra,4+(Xb?1:0),3);jb=ra.l_desc.max_code+
1;Ia=ra.d_desc.max_code+1;Oa+=1;Z(ra,jb-257,5);Z(ra,Ia-1,5);Z(ra,Oa-4,4);for($a=0;$a<Oa;$a++)Z(ra,ra.bl_tree[2*m[$a]+1],3);ka(ra,ra.dyn_ltree,jb-1);ka(ra,ra.dyn_dtree,Ia-1);B(ra,ra.dyn_ltree,ra.dyn_dtree)}W(ra);Xb&&X(ra)},_tr_tally:(ra,jb,Ia)=>{ra.pending_buf[ra.d_buf+2*ra.last_lit]=jb>>>8&255;ra.pending_buf[ra.d_buf+2*ra.last_lit+1]=jb&255;ra.pending_buf[ra.l_buf+ra.last_lit]=Ia&255;ra.last_lit++;0===jb?ra.dyn_ltree[2*Ia]++:(ra.matches++,jb--,ra.dyn_ltree[2*(J[Ia]+256+1)]++,ra.dyn_dtree[2*(256>jb?
C[jb]:C[256+(jb>>>7)])]++);return ra.last_lit===ra.lit_bufsize-1},_tr_align:ra=>{Z(ra,2,3);T(ra,256,z);16===ra.bi_valid?(R(ra,ra.bi_buf),ra.bi_buf=0,ra.bi_valid=0):8<=ra.bi_valid&&(ra.pending_buf[ra.pending++]=ra.bi_buf&255,ra.bi_buf>>=8,ra.bi_valid-=8)}},hb=(ra,jb,Ia,Xb)=>{let ha=ra&65535|0;ra=ra>>>16&65535|0;let Oa;for(;0!==Ia;){Oa=2E3<Ia?2E3:Ia;Ia-=Oa;do ha=ha+jb[Xb++]|0,ra=ra+ha|0;while(--Oa);ha%=65521;ra%=65521}return ha|ra<<16|0};const La=new Uint32Array((()=>{let ra,jb=[];for(var Ia=0;256>
Ia;Ia++){ra=Ia;for(var Xb=0;8>Xb;Xb++)ra=ra&1?3988292384^ra>>>1:ra>>>1;jb[Ia]=ra}return jb})());var pa=(ra,jb,Ia,Xb)=>{Ia=Xb+Ia;for(ra^=-1;Xb<Ia;Xb++)ra=ra>>>8^La[(ra^jb[Xb])&255];return ra^-1},Da={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ma={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,
Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const {_tr_init:ua,_tr_stored_block:Aa,_tr_flush_block:qa,_tr_tally:Ha,_tr_align:Va}=Ua,{Z_NO_FLUSH:eb,Z_PARTIAL_FLUSH:ta,Z_FULL_FLUSH:Qa,Z_FINISH:oa,Z_BLOCK:Y,Z_OK:ja,Z_STREAM_END:Ga,Z_STREAM_ERROR:Wa,Z_DATA_ERROR:cb,Z_BUF_ERROR:nb,
Z_DEFAULT_COMPRESSION:pb,Z_FILTERED:Fb,Z_HUFFMAN_ONLY:nc,Z_RLE:Lc,Z_FIXED:Ac,Z_DEFAULT_STRATEGY:yc,Z_UNKNOWN:tc,Z_DEFLATED:hd}=Ma,Mb=(ra,jb)=>{ra.msg=Da[jb];return jb},Ab=ra=>{let jb=ra.length;for(;0<=--jb;)ra[jb]=0},ec=ra=>{const jb=ra.state;let Ia=jb.pending;Ia>ra.avail_out&&(Ia=ra.avail_out);0!==Ia&&(ra.output.set(jb.pending_buf.subarray(jb.pending_out,jb.pending_out+Ia),ra.next_out),ra.next_out+=Ia,jb.pending_out+=Ia,ra.total_out+=Ia,ra.avail_out-=Ia,jb.pending-=Ia,0===jb.pending&&(jb.pending_out=
0))},ac=(ra,jb)=>{qa(ra,0<=ra.block_start?ra.block_start:-1,ra.strstart-ra.block_start,jb);ra.block_start=ra.strstart;ec(ra.strm)},lc=(ra,jb)=>{ra.pending_buf[ra.pending++]=jb>>>8&255;ra.pending_buf[ra.pending++]=jb&255},Ic=(ra,jb)=>{let Ia=ra.max_chain_length,Xb=ra.strstart;let ha=ra.prev_length,Oa=ra.nice_match;const $a=ra.strstart>ra.w_size-262?ra.strstart-(ra.w_size-262):0,ub=ra.window,Cb=ra.w_mask,Wb=ra.prev,sc=ra.strstart+258;let Uc=ub[Xb+ha-1],Xc=ub[Xb+ha];ra.prev_length>=ra.good_match&&(Ia>>=
2);Oa>ra.lookahead&&(Oa=ra.lookahead);do{var Cc=jb;if(ub[Cc+ha]===Xc&&ub[Cc+ha-1]===Uc&&ub[Cc]===ub[Xb]&&ub[++Cc]===ub[Xb+1]){Xb+=2;for(Cc++;ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&ub[++Xb]===ub[++Cc]&&Xb<sc;);Cc=258-(sc-Xb);Xb=sc-258;if(Cc>ha){ra.match_start=jb;ha=Cc;if(Cc>=Oa)break;Uc=ub[Xb+ha-1];Xc=ub[Xb+ha]}}}while((jb=Wb[jb&Cb])>$a&&0!==--Ia);return ha<=ra.lookahead?ha:ra.lookahead},Ec=
ra=>{const jb=ra.w_size;var Ia;do{var Xb=ra.window_size-ra.lookahead-ra.strstart;if(ra.strstart>=jb+(jb-262)){ra.window.set(ra.window.subarray(jb,jb+jb),0);ra.match_start-=jb;ra.strstart-=jb;ra.block_start-=jb;var ha=Ia=ra.hash_size;do{var Oa=ra.head[--ha];ra.head[ha]=Oa>=jb?Oa-jb:0}while(--Ia);ha=Ia=jb;do Oa=ra.prev[--ha],ra.prev[ha]=Oa>=jb?Oa-jb:0;while(--Ia);Xb+=jb}if(0===ra.strm.avail_in)break;{ha=ra.strm;Ia=ra.window;Oa=ra.strstart+ra.lookahead;let $a=ha.avail_in;$a>Xb&&($a=Xb);0===$a?Ia=0:(ha.avail_in-=
$a,Ia.set(ha.input.subarray(ha.next_in,ha.next_in+$a),Oa),1===ha.state.wrap?ha.adler=hb(ha.adler,Ia,$a,Oa):2===ha.state.wrap&&(ha.adler=pa(ha.adler,Ia,$a,Oa)),ha.next_in+=$a,ha.total_in+=$a,Ia=$a)}ra.lookahead+=Ia;if(3<=ra.lookahead+ra.insert)for(Xb=ra.strstart-ra.insert,ra.ins_h=ra.window[Xb],ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[Xb+1])&ra.hash_mask;ra.insert&&!(ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[Xb+3-1])&ra.hash_mask,ra.prev[Xb&ra.w_mask]=ra.head[ra.ins_h],ra.head[ra.ins_h]=Xb,Xb++,
ra.insert--,3>ra.lookahead+ra.insert););}while(262>ra.lookahead&&0!==ra.strm.avail_in)},Rc=(ra,jb)=>{for(var Ia;;){if(262>ra.lookahead){Ec(ra);if(262>ra.lookahead&&jb===eb)return 1;if(0===ra.lookahead)break}Ia=0;3<=ra.lookahead&&(ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[ra.strstart+3-1])&ra.hash_mask,Ia=ra.prev[ra.strstart&ra.w_mask]=ra.head[ra.ins_h],ra.head[ra.ins_h]=ra.strstart);0!==Ia&&ra.strstart-Ia<=ra.w_size-262&&(ra.match_length=Ic(ra,Ia));if(3<=ra.match_length)if(Ia=Ha(ra,ra.strstart-
ra.match_start,ra.match_length-3),ra.lookahead-=ra.match_length,ra.match_length<=ra.max_lazy_match&&3<=ra.lookahead){ra.match_length--;do ra.strstart++,ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[ra.strstart+3-1])&ra.hash_mask,ra.prev[ra.strstart&ra.w_mask]=ra.head[ra.ins_h],ra.head[ra.ins_h]=ra.strstart;while(0!==--ra.match_length);ra.strstart++}else ra.strstart+=ra.match_length,ra.match_length=0,ra.ins_h=ra.window[ra.strstart],ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[ra.strstart+1])&ra.hash_mask;
else Ia=Ha(ra,0,ra.window[ra.strstart]),ra.lookahead--,ra.strstart++;if(Ia&&(ac(ra,!1),0===ra.strm.avail_out))return 1}ra.insert=2>ra.strstart?ra.strstart:2;return jb===oa?(ac(ra,!0),0===ra.strm.avail_out?3:4):ra.last_lit&&(ac(ra,!1),0===ra.strm.avail_out)?1:2},id=(ra,jb)=>{let Ia;for(;;){if(262>ra.lookahead){Ec(ra);if(262>ra.lookahead&&jb===eb)return 1;if(0===ra.lookahead)break}var Xb=0;3<=ra.lookahead&&(ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[ra.strstart+3-1])&ra.hash_mask,Xb=ra.prev[ra.strstart&
ra.w_mask]=ra.head[ra.ins_h],ra.head[ra.ins_h]=ra.strstart);ra.prev_length=ra.match_length;ra.prev_match=ra.match_start;ra.match_length=2;0!==Xb&&ra.prev_length<ra.max_lazy_match&&ra.strstart-Xb<=ra.w_size-262&&(ra.match_length=Ic(ra,Xb),5>=ra.match_length&&(ra.strategy===Fb||3===ra.match_length&&4096<ra.strstart-ra.match_start)&&(ra.match_length=2));if(3<=ra.prev_length&&ra.match_length<=ra.prev_length){Ia=ra.strstart+ra.lookahead-3;Xb=Ha(ra,ra.strstart-1-ra.prev_match,ra.prev_length-3);ra.lookahead-=
ra.prev_length-1;ra.prev_length-=2;do++ra.strstart<=Ia&&(ra.ins_h=(ra.ins_h<<ra.hash_shift^ra.window[ra.strstart+3-1])&ra.hash_mask,ra.prev[ra.strstart&ra.w_mask]=ra.head[ra.ins_h],ra.head[ra.ins_h]=ra.strstart);while(0!==--ra.prev_length);ra.match_available=0;ra.match_length=2;ra.strstart++;if(Xb&&(ac(ra,!1),0===ra.strm.avail_out))return 1}else if(ra.match_available){if((Xb=Ha(ra,0,ra.window[ra.strstart-1]))&&ac(ra,!1),ra.strstart++,ra.lookahead--,0===ra.strm.avail_out)return 1}else ra.match_available=
1,ra.strstart++,ra.lookahead--}ra.match_available&&(Ha(ra,0,ra.window[ra.strstart-1]),ra.match_available=0);ra.insert=2>ra.strstart?ra.strstart:2;return jb===oa?(ac(ra,!0),0===ra.strm.avail_out?3:4):ra.last_lit&&(ac(ra,!1),0===ra.strm.avail_out)?1:2},Td=(ra,jb)=>{let Ia,Xb;const ha=ra.window;for(;;){if(258>=ra.lookahead){Ec(ra);if(258>=ra.lookahead&&jb===eb)return 1;if(0===ra.lookahead)break}ra.match_length=0;if(3<=ra.lookahead&&0<ra.strstart){Ia=ra.strstart-1;var Oa=ha[Ia];if(Oa===ha[++Ia]&&Oa===
ha[++Ia]&&Oa===ha[++Ia]){for(Xb=ra.strstart+258;Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Oa===ha[++Ia]&&Ia<Xb;);ra.match_length=258-(Xb-Ia);ra.match_length>ra.lookahead&&(ra.match_length=ra.lookahead)}}3<=ra.match_length?(Oa=Ha(ra,1,ra.match_length-3),ra.lookahead-=ra.match_length,ra.strstart+=ra.match_length,ra.match_length=0):(Oa=Ha(ra,0,ra.window[ra.strstart]),ra.lookahead--,ra.strstart++);if(Oa&&(ac(ra,!1),0===ra.strm.avail_out))return 1}ra.insert=
0;return jb===oa?(ac(ra,!0),0===ra.strm.avail_out?3:4):ra.last_lit&&(ac(ra,!1),0===ra.strm.avail_out)?1:2},Ea=(ra,jb)=>{let Ia;for(;;){if(0===ra.lookahead&&(Ec(ra),0===ra.lookahead)){if(jb===eb)return 1;break}ra.match_length=0;Ia=Ha(ra,0,ra.window[ra.strstart]);ra.lookahead--;ra.strstart++;if(Ia&&(ac(ra,!1),0===ra.strm.avail_out))return 1}ra.insert=0;return jb===oa?(ac(ra,!0),0===ra.strm.avail_out?3:4):ra.last_lit&&(ac(ra,!1),0===ra.strm.avail_out)?1:2},za=[new v(0,0,0,0,(ra,jb)=>{let Ia=65535;for(Ia>
ra.pending_buf_size-5&&(Ia=ra.pending_buf_size-5);;){if(1>=ra.lookahead){Ec(ra);if(0===ra.lookahead&&jb===eb)return 1;if(0===ra.lookahead)break}ra.strstart+=ra.lookahead;ra.lookahead=0;const Xb=ra.block_start+Ia;if(0===ra.strstart||ra.strstart>=Xb)if(ra.lookahead=ra.strstart-Xb,ra.strstart=Xb,ac(ra,!1),0===ra.strm.avail_out)return 1;if(ra.strstart-ra.block_start>=ra.w_size-262&&(ac(ra,!1),0===ra.strm.avail_out))return 1}ra.insert=0;if(jb===oa)return ac(ra,!0),0===ra.strm.avail_out?3:4;ra.strstart>
ra.block_start&&ac(ra,!1);return 1}),new v(4,4,8,4,Rc),new v(4,5,16,8,Rc),new v(4,6,32,32,Rc),new v(4,4,16,16,id),new v(8,16,32,32,id),new v(8,16,128,128,id),new v(8,32,128,256,id),new v(32,128,258,1024,id),new v(32,258,258,4096,id)],Fa=ra=>{if(!ra||!ra.state)return Mb(ra,Wa);ra.total_in=ra.total_out=0;ra.data_type=tc;const jb=ra.state;jb.pending=0;jb.pending_out=0;0>jb.wrap&&(jb.wrap=-jb.wrap);jb.status=jb.wrap?42:113;ra.adler=2===jb.wrap?0:1;jb.last_flush=eb;ua(jb);return ja},bb=ra=>{const jb=Fa(ra);
jb===ja&&(ra=ra.state,ra.window_size=2*ra.w_size,Ab(ra.head),ra.max_lazy_match=za[ra.level].max_lazy,ra.good_match=za[ra.level].good_length,ra.nice_match=za[ra.level].nice_length,ra.max_chain_length=za[ra.level].max_chain,ra.strstart=0,ra.block_start=0,ra.lookahead=0,ra.insert=0,ra.match_length=ra.prev_length=2,ra.match_available=0,ra.ins_h=0);return jb},lb=(ra,jb,Ia,Xb,ha,Oa)=>{if(!ra)return Wa;let $a=1;jb===pb&&(jb=6);0>Xb?($a=0,Xb=-Xb):15<Xb&&($a=2,Xb-=16);if(1>ha||9<ha||Ia!==hd||8>Xb||15<Xb||
0>jb||9<jb||0>Oa||Oa>Ac)return Mb(ra,Wa);8===Xb&&(Xb=9);const ub=new r;ra.state=ub;ub.strm=ra;ub.wrap=$a;ub.gzhead=null;ub.w_bits=Xb;ub.w_size=1<<ub.w_bits;ub.w_mask=ub.w_size-1;ub.hash_bits=ha+7;ub.hash_size=1<<ub.hash_bits;ub.hash_mask=ub.hash_size-1;ub.hash_shift=~~((ub.hash_bits+3-1)/3);ub.window=new Uint8Array(2*ub.w_size);ub.head=new Uint16Array(ub.hash_size);ub.prev=new Uint16Array(ub.w_size);ub.lit_bufsize=1<<ha+6;ub.pending_buf_size=4*ub.lit_bufsize;ub.pending_buf=new Uint8Array(ub.pending_buf_size);
ub.d_buf=1*ub.lit_bufsize;ub.l_buf=3*ub.lit_bufsize;ub.level=jb;ub.strategy=Oa;ub.method=Ia;return bb(ra)};var zb={deflateInit:(ra,jb)=>lb(ra,jb,hd,15,8,yc),deflateInit2:lb,deflateReset:bb,deflateResetKeep:Fa,deflateSetHeader:(ra,jb)=>{if(!ra||!ra.state||2!==ra.state.wrap)return Wa;ra.state.gzhead=jb;return ja},deflate:(ra,jb)=>{if(!ra||!ra.state||jb>Y||0>jb)return ra?Mb(ra,Wa):Wa;const Ia=ra.state;if(!ra.output||!ra.input&&0!==ra.avail_in||666===Ia.status&&jb!==oa)return Mb(ra,0===ra.avail_out?nb:
Wa);Ia.strm=ra;var Xb=Ia.last_flush;Ia.last_flush=jb;if(42===Ia.status)if(2===Ia.wrap)if(ra.adler=0,Ia.pending_buf[Ia.pending++]=31,Ia.pending_buf[Ia.pending++]=139,Ia.pending_buf[Ia.pending++]=8,Ia.gzhead){var ha=(Ia.gzhead.text?1:0)+(Ia.gzhead.hcrc?2:0)+(Ia.gzhead.extra?4:0)+(Ia.gzhead.name?8:0)+(Ia.gzhead.comment?16:0);Ia.pending_buf[Ia.pending++]=ha;ha=Ia.gzhead.time&255;Ia.pending_buf[Ia.pending++]=ha;ha=Ia.gzhead.time>>8&255;Ia.pending_buf[Ia.pending++]=ha;ha=Ia.gzhead.time>>16&255;Ia.pending_buf[Ia.pending++]=
ha;ha=Ia.gzhead.time>>24&255;Ia.pending_buf[Ia.pending++]=ha;ha=9===Ia.level?2:Ia.strategy>=nc||2>Ia.level?4:0;Ia.pending_buf[Ia.pending++]=ha;ha=Ia.gzhead.os&255;Ia.pending_buf[Ia.pending++]=ha;Ia.gzhead.extra&&Ia.gzhead.extra.length&&(ha=Ia.gzhead.extra.length&255,Ia.pending_buf[Ia.pending++]=ha,ha=Ia.gzhead.extra.length>>8&255,Ia.pending_buf[Ia.pending++]=ha);Ia.gzhead.hcrc&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending,0));Ia.gzindex=0;Ia.status=69}else Ia.pending_buf[Ia.pending++]=0,Ia.pending_buf[Ia.pending++]=
0,Ia.pending_buf[Ia.pending++]=0,Ia.pending_buf[Ia.pending++]=0,Ia.pending_buf[Ia.pending++]=0,ha=9===Ia.level?2:Ia.strategy>=nc||2>Ia.level?4:0,Ia.pending_buf[Ia.pending++]=ha,Ia.pending_buf[Ia.pending++]=3,Ia.status=113;else ha=hd+(Ia.w_bits-8<<4)<<8,ha|=(Ia.strategy>=nc||2>Ia.level?0:6>Ia.level?1:6===Ia.level?2:3)<<6,0!==Ia.strstart&&(ha|=32),Ia.status=113,lc(Ia,ha+(31-ha%31)),0!==Ia.strstart&&(lc(Ia,ra.adler>>>16),lc(Ia,ra.adler&65535)),ra.adler=1;if(69===Ia.status)if(Ia.gzhead.extra){for(ha=
Ia.pending;Ia.gzindex<(Ia.gzhead.extra.length&65535)&&(Ia.pending!==Ia.pending_buf_size||(Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha)),ec(ra),ha=Ia.pending,Ia.pending!==Ia.pending_buf_size));){var Oa=Ia.gzhead.extra[Ia.gzindex]&255;Ia.pending_buf[Ia.pending++]=Oa;Ia.gzindex++}Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha));Ia.gzindex===Ia.gzhead.extra.length&&(Ia.gzindex=0,Ia.status=73)}else Ia.status=73;if(73===Ia.status)if(Ia.gzhead.name){ha=
Ia.pending;do{if(Ia.pending===Ia.pending_buf_size&&(Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha)),ec(ra),ha=Ia.pending,Ia.pending===Ia.pending_buf_size)){Oa=1;break}var $a=Oa=Ia.gzindex<Ia.gzhead.name.length?Ia.gzhead.name.charCodeAt(Ia.gzindex++)&255:0;Ia.pending_buf[Ia.pending++]=$a}while(0!==Oa);Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha));0===Oa&&(Ia.gzindex=0,Ia.status=91)}else Ia.status=91;if(91===Ia.status)if(Ia.gzhead.comment){ha=
Ia.pending;do{if(Ia.pending===Ia.pending_buf_size&&(Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha)),ec(ra),ha=Ia.pending,Ia.pending===Ia.pending_buf_size)){Oa=1;break}$a=Oa=Ia.gzindex<Ia.gzhead.comment.length?Ia.gzhead.comment.charCodeAt(Ia.gzindex++)&255:0;Ia.pending_buf[Ia.pending++]=$a}while(0!==Oa);Ia.gzhead.hcrc&&Ia.pending>ha&&(ra.adler=pa(ra.adler,Ia.pending_buf,Ia.pending-ha,ha));0===Oa&&(Ia.status=103)}else Ia.status=103;103===Ia.status&&(Ia.gzhead.hcrc?
(Ia.pending+2>Ia.pending_buf_size&&ec(ra),Ia.pending+2<=Ia.pending_buf_size&&(ha=ra.adler&255,Ia.pending_buf[Ia.pending++]=ha,ha=ra.adler>>8&255,Ia.pending_buf[Ia.pending++]=ha,ra.adler=0,Ia.status=113)):Ia.status=113);if(0!==Ia.pending){if(ec(ra),0===ra.avail_out)return Ia.last_flush=-1,ja}else if(0===ra.avail_in&&(jb<<1)-(4<jb?9:0)<=(Xb<<1)-(4<Xb?9:0)&&jb!==oa)return Mb(ra,nb);if(666===Ia.status&&0!==ra.avail_in)return Mb(ra,nb);if(0!==ra.avail_in||0!==Ia.lookahead||jb!==eb&&666!==Ia.status){Xb=
Ia.strategy===nc?Ea(Ia,jb):Ia.strategy===Lc?Td(Ia,jb):za[Ia.level].func(Ia,jb);if(3===Xb||4===Xb)Ia.status=666;if(1===Xb||3===Xb)return 0===ra.avail_out&&(Ia.last_flush=-1),ja;if(2===Xb&&(jb===ta?Va(Ia):jb!==Y&&(Aa(Ia,0,0,!1),jb===Qa&&(Ab(Ia.head),0===Ia.lookahead&&(Ia.strstart=0,Ia.block_start=0,Ia.insert=0))),ec(ra),0===ra.avail_out))return Ia.last_flush=-1,ja}if(jb!==oa)return ja;if(0>=Ia.wrap)return Ga;2===Ia.wrap?(jb=ra.adler&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.adler>>8&255,Ia.pending_buf[Ia.pending++]=
jb,jb=ra.adler>>16&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.adler>>24&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.total_in&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.total_in>>8&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.total_in>>16&255,Ia.pending_buf[Ia.pending++]=jb,jb=ra.total_in>>24&255,Ia.pending_buf[Ia.pending++]=jb):(lc(Ia,ra.adler>>>16),lc(Ia,ra.adler&65535));ec(ra);0<Ia.wrap&&(Ia.wrap=-Ia.wrap);return 0!==Ia.pending?ja:Ga},deflateEnd:ra=>{if(!ra||!ra.state)return Wa;const jb=ra.state.status;
if(42!==jb&&69!==jb&&73!==jb&&91!==jb&&103!==jb&&113!==jb&&666!==jb)return Mb(ra,Wa);ra.state=null;return 113===jb?Mb(ra,cb):ja},deflateSetDictionary:(ra,jb)=>{var Ia=jb.length;if(!ra||!ra.state)return Wa;const Xb=ra.state,ha=Xb.wrap;if(2===ha||1===ha&&42!==Xb.status||Xb.lookahead)return Wa;1===ha&&(ra.adler=hb(ra.adler,jb,Ia,0));Xb.wrap=0;if(Ia>=Xb.w_size){0===ha&&(Ab(Xb.head),Xb.strstart=0,Xb.block_start=0,Xb.insert=0);var Oa=new Uint8Array(Xb.w_size);Oa.set(jb.subarray(Ia-Xb.w_size,Ia),0);jb=Oa;
Ia=Xb.w_size}Oa=ra.avail_in;const $a=ra.next_in,ub=ra.input;ra.avail_in=Ia;ra.next_in=0;ra.input=jb;for(Ec(Xb);3<=Xb.lookahead;){jb=Xb.strstart;Ia=Xb.lookahead-2;do Xb.ins_h=(Xb.ins_h<<Xb.hash_shift^Xb.window[jb+3-1])&Xb.hash_mask,Xb.prev[jb&Xb.w_mask]=Xb.head[Xb.ins_h],Xb.head[Xb.ins_h]=jb,jb++;while(--Ia);Xb.strstart=jb;Xb.lookahead=2;Ec(Xb)}Xb.strstart+=Xb.lookahead;Xb.block_start=Xb.strstart;Xb.insert=Xb.lookahead;Xb.lookahead=0;Xb.match_length=Xb.prev_length=2;Xb.match_available=0;ra.next_in=
$a;ra.input=ub;ra.avail_in=Oa;Xb.wrap=ha;return ja},deflateInfo:"pako deflate (from Nodeca project)"},Tb={assign:function(ra){const jb=Array.prototype.slice.call(arguments,1);for(;jb.length;){const Ia=jb.shift();if(Ia){if("object"!==typeof Ia)throw new TypeError(Ia+"must be non-object");for(const Xb in Ia)Object.prototype.hasOwnProperty.call(Ia,Xb)&&(ra[Xb]=Ia[Xb])}}return ra},flattenChunks:ra=>{var jb=0;for(let Ia=0,Xb=ra.length;Ia<Xb;Ia++)jb+=ra[Ia].length;jb=new Uint8Array(jb);for(let Ia=0,Xb=
0,ha=ra.length;Ia<ha;Ia++){let Oa=ra[Ia];jb.set(Oa,Xb);Xb+=Oa.length}return jb}};let Ub=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ra){Ub=!1}const $b=new Uint8Array(256);for(let ra=0;256>ra;ra++)$b[ra]=252<=ra?6:248<=ra?5:240<=ra?4:224<=ra?3:192<=ra?2:1;$b[254]=$b[254]=1;var Dc={string2buf:ra=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(ra);let jb,Ia,Xb,ha,Oa,$a=ra.length,ub=0;for(ha=0;ha<$a;ha++)Ia=ra.charCodeAt(ha),55296===
(Ia&64512)&&ha+1<$a&&(Xb=ra.charCodeAt(ha+1),56320===(Xb&64512)&&(Ia=65536+(Ia-55296<<10)+(Xb-56320),ha++)),ub+=128>Ia?1:2048>Ia?2:65536>Ia?3:4;jb=new Uint8Array(ub);for(ha=Oa=0;Oa<ub;ha++)Ia=ra.charCodeAt(ha),55296===(Ia&64512)&&ha+1<$a&&(Xb=ra.charCodeAt(ha+1),56320===(Xb&64512)&&(Ia=65536+(Ia-55296<<10)+(Xb-56320),ha++)),128>Ia?jb[Oa++]=Ia:(2048>Ia?jb[Oa++]=192|Ia>>>6:(65536>Ia?jb[Oa++]=224|Ia>>>12:(jb[Oa++]=240|Ia>>>18,jb[Oa++]=128|Ia>>>12&63),jb[Oa++]=128|Ia>>>6&63),jb[Oa++]=128|Ia&63);return jb},
buf2string:(ra,jb)=>{var Ia=jb||ra.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(ra.subarray(0,jb));var Xb;let ha;jb=Array(2*Ia);for(Xb=ha=0;Xb<Ia;){let Oa=ra[Xb++];if(128>Oa){jb[ha++]=Oa;continue}let $a=$b[Oa];if(4<$a)jb[ha++]=65533,Xb+=$a-1;else{for(Oa&=2===$a?31:3===$a?15:7;1<$a&&Xb<Ia;)Oa=Oa<<6|ra[Xb++]&63,$a--;1<$a?jb[ha++]=65533:65536>Oa?jb[ha++]=Oa:(Oa-=65536,jb[ha++]=55296|Oa>>10&1023,jb[ha++]=56320|Oa&1023)}}ra=ha;if(65534>ra&&jb.subarray&&
Ub)jb=String.fromCharCode.apply(null,jb.length===ra?jb:jb.subarray(0,ra));else{Ia="";for(Xb=0;Xb<ra;Xb++)Ia+=String.fromCharCode(jb[Xb]);jb=Ia}return jb},utf8border:(ra,jb)=>{jb=jb||ra.length;jb>ra.length&&(jb=ra.length);let Ia=jb-1;for(;0<=Ia&&128===(ra[Ia]&192);)Ia--;return 0>Ia||0===Ia?jb:Ia+$b[ra[Ia]]>jb?Ia:jb}},dd=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=
0};const fd=Object.prototype.toString,{Z_NO_FLUSH:od,Z_SYNC_FLUSH:sd,Z_FULL_FLUSH:Kd,Z_FINISH:Od,Z_OK:ae,Z_STREAM_END:de,Z_DEFAULT_COMPRESSION:je,Z_DEFAULT_STRATEGY:qd,Z_DEFLATED:bf}=Ma;h.prototype.push=function(ra,jb){const Ia=this.strm,Xb=this.options.chunkSize;if(this.ended)return!1;jb=jb===~~jb?jb:!0===jb?Od:od;"string"===typeof ra?Ia.input=Dc.string2buf(ra):"[object ArrayBuffer]"===fd.call(ra)?Ia.input=new Uint8Array(ra):Ia.input=ra;Ia.next_in=0;for(Ia.avail_in=Ia.input.length;;)if(0===Ia.avail_out&&
(Ia.output=new Uint8Array(Xb),Ia.next_out=0,Ia.avail_out=Xb),(jb===sd||jb===Kd)&&6>=Ia.avail_out)this.onData(Ia.output.subarray(0,Ia.next_out)),Ia.avail_out=0;else{ra=zb.deflate(Ia,jb);if(ra===de){if(0<Ia.next_out)this.onData(Ia.output.subarray(0,Ia.next_out));ra=zb.deflateEnd(this.strm);this.onEnd(ra);this.ended=!0;return ra===ae}if(0===Ia.avail_out)this.onData(Ia.output);else if(0<jb&&0<Ia.next_out)this.onData(Ia.output.subarray(0,Ia.next_out)),Ia.avail_out=0;else if(0===Ia.avail_in)break}return!0};
h.prototype.onData=function(ra){this.chunks.push(ra)};h.prototype.onEnd=function(ra){ra===ae&&(this.result=Tb.flattenChunks(this.chunks));this.chunks=[];this.err=ra;this.msg=this.strm.msg};var Ye={Deflate:h,deflate:k,deflateRaw:function(ra,jb){jb=jb||{};jb.raw=!0;return k(ra,jb)},gzip:function(ra,jb){jb=jb||{};jb.gzip=!0;return k(ra,jb)},constants:Ma};const pe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ve=new Uint8Array([16,16,16,16,
16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Ca=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ya=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tb=(ra,jb,Ia,Xb,ha,Oa,$a,ub)=>{var Cb=ub.bits;let Wb,sc,Uc,Xc;var Cc;let zc,oc,Fc,Mc,Yc,mb,Gb,Pb=0,Vb;const ma=new Uint16Array(16);var Ka=new Uint16Array(16);let ib,
Eb=0,Ib,Nb,kc;for(Wb=0;15>=Wb;Wb++)ma[Wb]=0;for(sc=0;sc<Xb;sc++)ma[jb[Ia+sc]]++;Xc=Cb;for(Uc=15;1<=Uc&&0===ma[Uc];Uc--);Xc>Uc&&(Xc=Uc);if(0===Uc)return ha[Oa++]=20971520,ha[Oa++]=20971520,ub.bits=1,0;for(Cb=1;Cb<Uc&&0===ma[Cb];Cb++);Xc<Cb&&(Xc=Cb);for(Wb=Cc=1;15>=Wb;Wb++)if(Cc<<=1,Cc-=ma[Wb],0>Cc)return-1;if(0<Cc&&(0===ra||1!==Uc))return-1;Ka[1]=0;for(Wb=1;15>Wb;Wb++)Ka[Wb+1]=Ka[Wb]+ma[Wb];for(sc=0;sc<Xb;sc++)0!==jb[Ia+sc]&&($a[Ka[jb[Ia+sc]]++]=sc);0===ra?(Gb=ib=$a,Vb=19):1===ra?(Gb=pe,Pb-=257,ib=
ve,Eb-=257,Vb=256):(Gb=Ca,ib=Ya,Vb=-1);sc=oc=0;Wb=Cb;mb=Oa;Xb=Xc;Ka=0;Mc=-1;zc=1<<Xc;Yc=zc-1;if(1===ra&&852<zc||2===ra&&592<zc)return 1;for(;;){Ib=Wb-Ka;$a[sc]<Vb?(Nb=0,kc=$a[sc]):$a[sc]>Vb?(Nb=ib[Eb+$a[sc]],kc=Gb[Pb+$a[sc]]):(Nb=96,kc=0);Cc=1<<Wb-Ka;Cb=Fc=1<<Xb;do Fc-=Cc,ha[mb+(oc>>Ka)+Fc]=Ib<<24|Nb<<16|kc|0;while(0!==Fc);for(Cc=1<<Wb-1;oc&Cc;)Cc>>=1;0!==Cc?(oc&=Cc-1,oc+=Cc):oc=0;sc++;if(0===--ma[Wb]){if(Wb===Uc)break;Wb=jb[Ia+$a[sc]]}if(Wb>Xc&&(oc&Yc)!==Mc){0===Ka&&(Ka=Xc);mb+=Cb;Xb=Wb-Ka;for(Cc=
1<<Xb;Xb+Ka<Uc;){Cc-=ma[Xb+Ka];if(0>=Cc)break;Xb++;Cc<<=1}zc+=1<<Xb;if(1===ra&&852<zc||2===ra&&592<zc)return 1;Mc=oc&Yc;ha[Mc]=Xc<<24|Xb<<16|mb-Oa|0}}0!==oc&&(ha[mb+oc]=Wb-Ka<<24|4194304);ub.bits=Xc;return 0};const {Z_FINISH:Kb,Z_BLOCK:dc,Z_TREES:mc,Z_OK:Jc,Z_STREAM_END:Gc,Z_NEED_DICT:jc,Z_STREAM_ERROR:bd,Z_DATA_ERROR:md,Z_MEM_ERROR:Ed,Z_BUF_ERROR:Nd,Z_DEFLATED:Pd}=Ma,ee=ra=>{if(!ra||!ra.state)return bd;const jb=ra.state;ra.total_in=ra.total_out=jb.total=0;ra.msg="";jb.wrap&&(ra.adler=jb.wrap&1);
jb.mode=1;jb.last=0;jb.havedict=0;jb.dmax=32768;jb.head=null;jb.hold=0;jb.bits=0;jb.lencode=jb.lendyn=new Int32Array(852);jb.distcode=jb.distdyn=new Int32Array(592);jb.sane=1;jb.back=-1;return Jc},Ce=ra=>{if(!ra||!ra.state)return bd;const jb=ra.state;jb.wsize=0;jb.whave=0;jb.wnext=0;return ee(ra)},ue=(ra,jb)=>{let Ia;if(!ra||!ra.state)return bd;const Xb=ra.state;0>jb?(Ia=0,jb=-jb):(Ia=(jb>>4)+1,48>jb&&(jb&=15));if(jb&&(8>jb||15<jb))return bd;null!==Xb.window&&Xb.wbits!==jb&&(Xb.window=null);Xb.wrap=
Ia;Xb.wbits=jb;return Ce(ra)},Df=(ra,jb)=>{if(!ra)return bd;const Ia=new f;ra.state=Ia;Ia.window=null;jb=ue(ra,jb);jb!==Jc&&(ra.state=null);return jb};let Be=!0,Me,kf;const Sb=(ra,jb,Ia,Xb)=>{const ha=ra.state;null===ha.window&&(ha.wsize=1<<ha.wbits,ha.wnext=0,ha.whave=0,ha.window=new Uint8Array(ha.wsize));Xb>=ha.wsize?(ha.window.set(jb.subarray(Ia-ha.wsize,Ia),0),ha.wnext=0,ha.whave=ha.wsize):(ra=ha.wsize-ha.wnext,ra>Xb&&(ra=Xb),ha.window.set(jb.subarray(Ia-Xb,Ia-Xb+ra),ha.wnext),(Xb-=ra)?(ha.window.set(jb.subarray(Ia-
Xb,Ia),0),ha.wnext=Xb,ha.whave=ha.wsize):(ha.wnext+=ra,ha.wnext===ha.wsize&&(ha.wnext=0),ha.whave<ha.wsize&&(ha.whave+=ra)));return 0};var qc={inflateReset:Ce,inflateReset2:ue,inflateResetKeep:ee,inflateInit:ra=>Df(ra,15),inflateInit2:Df,inflate:(ra,jb)=>{let Ia;let Xb,ha;let Oa;const $a=new Uint8Array(4),ub=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!ra||!ra.state||!ra.output||!ra.input&&0!==ra.avail_in)return bd;Ia=ra.state;12===Ia.mode&&(Ia.mode=13);var Cb=ra.next_out;
var Wb=ra.output;var sc=ra.avail_out;var Uc=ra.next_in;var Xc=ra.input;var Cc=ra.avail_in;var zc=Ia.hold;var oc=Ia.bits;Xb=Cc;ha=sc;Oa=Jc;a:for(;;)switch(Ia.mode){case 1:if(0===Ia.wrap){Ia.mode=13;break}for(;16>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(Ia.wrap&2&&35615===zc){Ia.check=0;$a[0]=zc&255;$a[1]=zc>>>8&255;Ia.check=pa(Ia.check,$a,2,0);oc=zc=0;Ia.mode=2;break}Ia.flags=0;Ia.head&&(Ia.head.done=!1);if(!(Ia.wrap&1)||(((zc&255)<<8)+(zc>>8))%31){ra.msg="incorrect header check";Ia.mode=
30;break}if((zc&15)!==Pd){ra.msg="unknown compression method";Ia.mode=30;break}zc>>>=4;oc-=4;var Fc=(zc&15)+8;if(0===Ia.wbits)Ia.wbits=Fc;else if(Fc>Ia.wbits){ra.msg="invalid window size";Ia.mode=30;break}Ia.dmax=1<<Ia.wbits;ra.adler=Ia.check=1;Ia.mode=zc&512?10:12;oc=zc=0;break;case 2:for(;16>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.flags=zc;if((Ia.flags&255)!==Pd){ra.msg="unknown compression method";Ia.mode=30;break}if(Ia.flags&57344){ra.msg="unknown header flags set";Ia.mode=30;break}Ia.head&&
(Ia.head.text=zc>>8&1);Ia.flags&512&&($a[0]=zc&255,$a[1]=zc>>>8&255,Ia.check=pa(Ia.check,$a,2,0));oc=zc=0;Ia.mode=3;case 3:for(;32>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.head&&(Ia.head.time=zc);Ia.flags&512&&($a[0]=zc&255,$a[1]=zc>>>8&255,$a[2]=zc>>>16&255,$a[3]=zc>>>24&255,Ia.check=pa(Ia.check,$a,4,0));oc=zc=0;Ia.mode=4;case 4:for(;16>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.head&&(Ia.head.xflags=zc&255,Ia.head.os=zc>>8);Ia.flags&512&&($a[0]=zc&255,$a[1]=zc>>>8&255,Ia.check=
pa(Ia.check,$a,2,0));oc=zc=0;Ia.mode=5;case 5:if(Ia.flags&1024){for(;16>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.length=zc;Ia.head&&(Ia.head.extra_len=zc);Ia.flags&512&&($a[0]=zc&255,$a[1]=zc>>>8&255,Ia.check=pa(Ia.check,$a,2,0));oc=zc=0}else Ia.head&&(Ia.head.extra=null);Ia.mode=6;case 6:if(Ia.flags&1024){var Mc=Ia.length;Mc>Cc&&(Mc=Cc);Mc&&(Ia.head&&(Fc=Ia.head.extra_len-Ia.length,Ia.head.extra||(Ia.head.extra=new Uint8Array(Ia.head.extra_len)),Ia.head.extra.set(Xc.subarray(Uc,Uc+Mc),
Fc)),Ia.flags&512&&(Ia.check=pa(Ia.check,Xc,Mc,Uc)),Cc-=Mc,Uc+=Mc,Ia.length-=Mc);if(Ia.length)break a}Ia.length=0;Ia.mode=7;case 7:if(Ia.flags&2048){if(0===Cc)break a;Mc=0;do Fc=Xc[Uc+Mc++],Ia.head&&Fc&&65536>Ia.length&&(Ia.head.name+=String.fromCharCode(Fc));while(Fc&&Mc<Cc);Ia.flags&512&&(Ia.check=pa(Ia.check,Xc,Mc,Uc));Cc-=Mc;Uc+=Mc;if(Fc)break a}else Ia.head&&(Ia.head.name=null);Ia.length=0;Ia.mode=8;case 8:if(Ia.flags&4096){if(0===Cc)break a;Mc=0;do Fc=Xc[Uc+Mc++],Ia.head&&Fc&&65536>Ia.length&&
(Ia.head.comment+=String.fromCharCode(Fc));while(Fc&&Mc<Cc);Ia.flags&512&&(Ia.check=pa(Ia.check,Xc,Mc,Uc));Cc-=Mc;Uc+=Mc;if(Fc)break a}else Ia.head&&(Ia.head.comment=null);Ia.mode=9;case 9:if(Ia.flags&512){for(;16>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(zc!==(Ia.check&65535)){ra.msg="header crc mismatch";Ia.mode=30;break}oc=zc=0}Ia.head&&(Ia.head.hcrc=Ia.flags>>9&1,Ia.head.done=!0);ra.adler=Ia.check=0;Ia.mode=12;break;case 10:for(;32>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=
8}ra.adler=Ia.check=(zc>>>24&255)+(zc>>>8&65280)+((zc&65280)<<8)+((zc&255)<<24);oc=zc=0;Ia.mode=11;case 11:if(0===Ia.havedict)return ra.next_out=Cb,ra.avail_out=sc,ra.next_in=Uc,ra.avail_in=Cc,Ia.hold=zc,Ia.bits=oc,jc;ra.adler=Ia.check=1;Ia.mode=12;case 12:if(jb===dc||jb===mc)break a;case 13:if(Ia.last){zc>>>=oc&7;oc-=oc&7;Ia.mode=27;break}for(;3>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.last=zc&1;zc>>>=1;--oc;switch(zc&3){case 0:Ia.mode=14;break;case 1:Mc=Ia;if(Be){Me=new Int32Array(512);
kf=new Int32Array(32);for(Fc=0;144>Fc;)Mc.lens[Fc++]=8;for(;256>Fc;)Mc.lens[Fc++]=9;for(;280>Fc;)Mc.lens[Fc++]=7;for(;288>Fc;)Mc.lens[Fc++]=8;tb(1,Mc.lens,0,288,Me,0,Mc.work,{bits:9});for(Fc=0;32>Fc;)Mc.lens[Fc++]=5;tb(2,Mc.lens,0,32,kf,0,Mc.work,{bits:5});Be=!1}Mc.lencode=Me;Mc.lenbits=9;Mc.distcode=kf;Mc.distbits=5;Ia.mode=20;if(jb===mc){zc>>>=2;oc-=2;break a}break;case 2:Ia.mode=17;break;case 3:ra.msg="invalid block type",Ia.mode=30}zc>>>=2;oc-=2;break;case 14:zc>>>=oc&7;for(oc-=oc&7;32>oc;){if(0===
Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if((zc&65535)!==(zc>>>16^65535)){ra.msg="invalid stored block lengths";Ia.mode=30;break}Ia.length=zc&65535;oc=zc=0;Ia.mode=15;if(jb===mc)break a;case 15:Ia.mode=16;case 16:if(Mc=Ia.length){Mc>Cc&&(Mc=Cc);Mc>sc&&(Mc=sc);if(0===Mc)break a;Wb.set(Xc.subarray(Uc,Uc+Mc),Cb);Cc-=Mc;Uc+=Mc;sc-=Mc;Cb+=Mc;Ia.length-=Mc;break}Ia.mode=12;break;case 17:for(;14>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.nlen=(zc&31)+257;zc>>>=5;oc-=5;Ia.ndist=(zc&31)+1;zc>>>=5;
oc-=5;Ia.ncode=(zc&15)+4;zc>>>=4;oc-=4;if(286<Ia.nlen||30<Ia.ndist){ra.msg="too many length or distance symbols";Ia.mode=30;break}Ia.have=0;Ia.mode=18;case 18:for(;Ia.have<Ia.ncode;){for(;3>oc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.lens[ub[Ia.have++]]=zc&7;zc>>>=3;oc-=3}for(;19>Ia.have;)Ia.lens[ub[Ia.have++]]=0;Ia.lencode=Ia.lendyn;Ia.lenbits=7;Mc={bits:Ia.lenbits};Oa=tb(0,Ia.lens,0,19,Ia.lencode,0,Ia.work,Mc);Ia.lenbits=Mc.bits;if(Oa){ra.msg="invalid code lengths set";Ia.mode=30;break}Ia.have=
0;Ia.mode=19;case 19:for(;Ia.have<Ia.nlen+Ia.ndist;){for(;;){var Yc=Ia.lencode[zc&(1<<Ia.lenbits)-1];Mc=Yc>>>24;Yc&=65535;if(Mc<=oc)break;if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(16>Yc)zc>>>=Mc,oc-=Mc,Ia.lens[Ia.have++]=Yc;else{if(16===Yc){for(Fc=Mc+2;oc<Fc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}zc>>>=Mc;oc-=Mc;if(0===Ia.have){ra.msg="invalid bit length repeat";Ia.mode=30;break}Fc=Ia.lens[Ia.have-1];Mc=3+(zc&3);zc>>>=2;oc-=2}else if(17===Yc){for(Fc=Mc+3;oc<Fc;){if(0===Cc)break a;
Cc--;zc+=Xc[Uc++]<<oc;oc+=8}zc>>>=Mc;oc-=Mc;Fc=0;Mc=3+(zc&7);zc>>>=3;oc-=3}else{for(Fc=Mc+7;oc<Fc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}zc>>>=Mc;oc-=Mc;Fc=0;Mc=11+(zc&127);zc>>>=7;oc-=7}if(Ia.have+Mc>Ia.nlen+Ia.ndist){ra.msg="invalid bit length repeat";Ia.mode=30;break}for(;Mc--;)Ia.lens[Ia.have++]=Fc}}if(30===Ia.mode)break;if(0===Ia.lens[256]){ra.msg="invalid code -- missing end-of-block";Ia.mode=30;break}Ia.lenbits=9;Mc={bits:Ia.lenbits};Oa=tb(1,Ia.lens,0,Ia.nlen,Ia.lencode,0,Ia.work,
Mc);Ia.lenbits=Mc.bits;if(Oa){ra.msg="invalid literal/lengths set";Ia.mode=30;break}Ia.distbits=6;Ia.distcode=Ia.distdyn;Mc={bits:Ia.distbits};Oa=tb(2,Ia.lens,Ia.nlen,Ia.ndist,Ia.distcode,0,Ia.work,Mc);Ia.distbits=Mc.bits;if(Oa){ra.msg="invalid distances set";Ia.mode=30;break}Ia.mode=20;if(jb===mc)break a;case 20:Ia.mode=21;case 21:if(6<=Cc&&258<=sc){ra.next_out=Cb;ra.avail_out=sc;ra.next_in=Uc;ra.avail_in=Cc;Ia.hold=zc;Ia.bits=oc;var mb=void 0;let ma,Ka,ib,Eb,Ib,Nb,kc,Kc,Bc;Xc=ra;const wc=Xc.state;
Bc=Xc.next_in;Uc=Xc.input;Kc=Bc+(Xc.avail_in-5);kc=Xc.next_out;Wb=Xc.output;Nb=kc-(ha-Xc.avail_out);Ib=kc+(Xc.avail_out-257);Eb=wc.dmax;ib=wc.wsize;Yc=wc.whave;var Gb=wc.wnext;var Pb=wc.window;var Vb=wc.hold;Fc=wc.bits;Mc=wc.lencode;oc=wc.distcode;zc=(1<<wc.lenbits)-1;sc=(1<<wc.distbits)-1;b:do c:for(15>Fc&&(Vb+=Uc[Bc++]<<Fc,Fc+=8,Vb+=Uc[Bc++]<<Fc,Fc+=8),mb=Mc[Vb&zc];;){Cc=mb>>>24;Vb>>>=Cc;Fc-=Cc;Cc=mb>>>16&255;if(0===Cc)Wb[kc++]=mb&65535;else if(Cc&16){Cb=mb&65535;if(Cc&=15)Fc<Cc&&(Vb+=Uc[Bc++]<<
Fc,Fc+=8),Cb+=Vb&(1<<Cc)-1,Vb>>>=Cc,Fc-=Cc;15>Fc&&(Vb+=Uc[Bc++]<<Fc,Fc+=8,Vb+=Uc[Bc++]<<Fc,Fc+=8);mb=oc[Vb&sc];d:for(;;){Cc=mb>>>24;Vb>>>=Cc;Fc-=Cc;Cc=mb>>>16&255;if(Cc&16){Ka=mb&65535;Cc&=15;Fc<Cc&&(Vb+=Uc[Bc++]<<Fc,Fc+=8,Fc<Cc&&(Vb+=Uc[Bc++]<<Fc,Fc+=8));Ka+=Vb&(1<<Cc)-1;if(Ka>Eb){Xc.msg="invalid distance too far back";wc.mode=30;break b}Vb>>>=Cc;Fc-=Cc;Cc=kc-Nb;if(Ka>Cc){Cc=Ka-Cc;if(Cc>Yc&&wc.sane){Xc.msg="invalid distance too far back";wc.mode=30;break b}ma=0;mb=Pb;if(0===Gb){if(ma+=ib-Cc,Cc<Cb){Cb-=
Cc;do Wb[kc++]=Pb[ma++];while(--Cc);ma=kc-Ka;mb=Wb}}else if(Gb<Cc){if(ma+=ib+Gb-Cc,Cc-=Gb,Cc<Cb){Cb-=Cc;do Wb[kc++]=Pb[ma++];while(--Cc);ma=0;if(Gb<Cb){Cc=Gb;Cb-=Cc;do Wb[kc++]=Pb[ma++];while(--Cc);ma=kc-Ka;mb=Wb}}}else if(ma+=Gb-Cc,Cc<Cb){Cb-=Cc;do Wb[kc++]=Pb[ma++];while(--Cc);ma=kc-Ka;mb=Wb}for(;2<Cb;)Wb[kc++]=mb[ma++],Wb[kc++]=mb[ma++],Wb[kc++]=mb[ma++],Cb-=3;Cb&&(Wb[kc++]=mb[ma++],1<Cb&&(Wb[kc++]=mb[ma++]))}else{ma=kc-Ka;do Wb[kc++]=Wb[ma++],Wb[kc++]=Wb[ma++],Wb[kc++]=Wb[ma++],Cb-=3;while(2<
Cb);Cb&&(Wb[kc++]=Wb[ma++],1<Cb&&(Wb[kc++]=Wb[ma++]))}}else if(0===(Cc&64)){mb=oc[(mb&65535)+(Vb&(1<<Cc)-1)];continue d}else{Xc.msg="invalid distance code";wc.mode=30;break b}break}}else if(0===(Cc&64)){mb=Mc[(mb&65535)+(Vb&(1<<Cc)-1)];continue c}else{Cc&32?wc.mode=12:(Xc.msg="invalid literal/length code",wc.mode=30);break b}break}while(Bc<Kc&&kc<Ib);Cb=Fc>>3;Bc-=Cb;Fc-=Cb<<3;Xc.next_in=Bc;Xc.next_out=kc;Xc.avail_in=Bc<Kc?5+(Kc-Bc):5-(Bc-Kc);Xc.avail_out=kc<Ib?257+(Ib-kc):257-(kc-Ib);wc.hold=Vb&(1<<
Fc)-1;wc.bits=Fc;Cb=ra.next_out;Wb=ra.output;sc=ra.avail_out;Uc=ra.next_in;Xc=ra.input;Cc=ra.avail_in;zc=Ia.hold;oc=Ia.bits;12===Ia.mode&&(Ia.back=-1);break}for(Ia.back=0;;){Yc=Ia.lencode[zc&(1<<Ia.lenbits)-1];Mc=Yc>>>24;Fc=Yc>>>16&255;Yc&=65535;if(Mc<=oc)break;if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(Fc&&0===(Fc&240)){Vb=Mc;Pb=Fc;for(Gb=Yc;;){Yc=Ia.lencode[Gb+((zc&(1<<Vb+Pb)-1)>>Vb)];Mc=Yc>>>24;Fc=Yc>>>16&255;Yc&=65535;if(Vb+Mc<=oc)break;if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}zc>>>=
Vb;oc-=Vb;Ia.back+=Vb}zc>>>=Mc;oc-=Mc;Ia.back+=Mc;Ia.length=Yc;if(0===Fc){Ia.mode=26;break}if(Fc&32){Ia.back=-1;Ia.mode=12;break}if(Fc&64){ra.msg="invalid literal/length code";Ia.mode=30;break}Ia.extra=Fc&15;Ia.mode=22;case 22:if(Ia.extra){for(Fc=Ia.extra;oc<Fc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.length+=zc&(1<<Ia.extra)-1;zc>>>=Ia.extra;oc-=Ia.extra;Ia.back+=Ia.extra}Ia.was=Ia.length;Ia.mode=23;case 23:for(;;){Yc=Ia.distcode[zc&(1<<Ia.distbits)-1];Mc=Yc>>>24;Fc=Yc>>>16&255;Yc&=65535;
if(Mc<=oc)break;if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(0===(Fc&240)){Vb=Mc;Pb=Fc;for(Gb=Yc;;){Yc=Ia.distcode[Gb+((zc&(1<<Vb+Pb)-1)>>Vb)];Mc=Yc>>>24;Fc=Yc>>>16&255;Yc&=65535;if(Vb+Mc<=oc)break;if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}zc>>>=Vb;oc-=Vb;Ia.back+=Vb}zc>>>=Mc;oc-=Mc;Ia.back+=Mc;if(Fc&64){ra.msg="invalid distance code";Ia.mode=30;break}Ia.offset=Yc;Ia.extra=Fc&15;Ia.mode=24;case 24:if(Ia.extra){for(Fc=Ia.extra;oc<Fc;){if(0===Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}Ia.offset+=
zc&(1<<Ia.extra)-1;zc>>>=Ia.extra;oc-=Ia.extra;Ia.back+=Ia.extra}if(Ia.offset>Ia.dmax){ra.msg="invalid distance too far back";Ia.mode=30;break}Ia.mode=25;case 25:if(0===sc)break a;Mc=ha-sc;if(Ia.offset>Mc){Mc=Ia.offset-Mc;if(Mc>Ia.whave&&Ia.sane){ra.msg="invalid distance too far back";Ia.mode=30;break}Mc>Ia.wnext?(Mc-=Ia.wnext,Fc=Ia.wsize-Mc):Fc=Ia.wnext-Mc;Mc>Ia.length&&(Mc=Ia.length);Vb=Ia.window}else Vb=Wb,Fc=Cb-Ia.offset,Mc=Ia.length;Mc>sc&&(Mc=sc);sc-=Mc;Ia.length-=Mc;do Wb[Cb++]=Vb[Fc++];while(--Mc);
0===Ia.length&&(Ia.mode=21);break;case 26:if(0===sc)break a;Wb[Cb++]=Ia.length;sc--;Ia.mode=21;break;case 27:if(Ia.wrap){for(;32>oc;){if(0===Cc)break a;Cc--;zc|=Xc[Uc++]<<oc;oc+=8}ha-=sc;ra.total_out+=ha;Ia.total+=ha;ha&&(ra.adler=Ia.check=Ia.flags?pa(Ia.check,Wb,ha,Cb-ha):hb(Ia.check,Wb,ha,Cb-ha));ha=sc;if((Ia.flags?zc:(zc>>>24&255)+(zc>>>8&65280)+((zc&65280)<<8)+((zc&255)<<24))!==Ia.check){ra.msg="incorrect data check";Ia.mode=30;break}oc=zc=0}Ia.mode=28;case 28:if(Ia.wrap&&Ia.flags){for(;32>oc;){if(0===
Cc)break a;Cc--;zc+=Xc[Uc++]<<oc;oc+=8}if(zc!==(Ia.total&4294967295)){ra.msg="incorrect length check";Ia.mode=30;break}oc=zc=0}Ia.mode=29;case 29:Oa=Gc;break a;case 30:Oa=md;break a;case 31:return Ed;default:return bd}ra.next_out=Cb;ra.avail_out=sc;ra.next_in=Uc;ra.avail_in=Cc;Ia.hold=zc;Ia.bits=oc;(Ia.wsize||ha!==ra.avail_out&&30>Ia.mode&&(27>Ia.mode||jb!==Kb))&&Sb(ra,ra.output,ra.next_out,ha-ra.avail_out);Xb-=ra.avail_in;ha-=ra.avail_out;ra.total_in+=Xb;ra.total_out+=ha;Ia.total+=ha;Ia.wrap&&ha&&
(ra.adler=Ia.check=Ia.flags?pa(Ia.check,Wb,ha,ra.next_out-ha):hb(Ia.check,Wb,ha,ra.next_out-ha));ra.data_type=Ia.bits+(Ia.last?64:0)+(12===Ia.mode?128:0)+(20===Ia.mode||15===Ia.mode?256:0);(0===Xb&&0===ha||jb===Kb)&&Oa===Jc&&(Oa=Nd);return Oa},inflateEnd:ra=>{if(!ra||!ra.state)return bd;let jb=ra.state;jb.window&&(jb.window=null);ra.state=null;return Jc},inflateGetHeader:(ra,jb)=>{if(!ra||!ra.state)return bd;ra=ra.state;if(0===(ra.wrap&2))return bd;ra.head=jb;jb.done=!1;return Jc},inflateSetDictionary:(ra,
jb)=>{const Ia=jb.length;let Xb,ha;if(!ra||!ra.state)return bd;Xb=ra.state;if(0!==Xb.wrap&&11!==Xb.mode)return bd;if(11===Xb.mode&&(ha=hb(1,jb,Ia,0),ha!==Xb.check))return md;if(Sb(ra,jb,Ia,Ia))return Xb.mode=31,Ed;Xb.havedict=1;return Jc},inflateInfo:"pako inflate (from Nodeca project)"},Vc=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};const Bd=Object.prototype.toString,{Z_NO_FLUSH:Hd,Z_FINISH:me,Z_OK:$e,Z_STREAM_END:Qf,
Z_NEED_DICT:Af,Z_STREAM_ERROR:If,Z_DATA_ERROR:Ne,Z_MEM_ERROR:Bb}=Ma;e.prototype.push=function(ra,jb){const Ia=this.strm,Xb=this.options.chunkSize,ha=this.options.dictionary;let Oa,$a;if(this.ended)return!1;Oa=jb===~~jb?jb:!0===jb?me:Hd;"[object ArrayBuffer]"===Bd.call(ra)?Ia.input=new Uint8Array(ra):Ia.input=ra;Ia.next_in=0;for(Ia.avail_in=Ia.input.length;;){0===Ia.avail_out&&(Ia.output=new Uint8Array(Xb),Ia.next_out=0,Ia.avail_out=Xb);jb=qc.inflate(Ia,Oa);jb===Af&&ha&&(jb=qc.inflateSetDictionary(Ia,
ha),jb===$e?jb=qc.inflate(Ia,Oa):jb===Ne&&(jb=Af));for(;0<Ia.avail_in&&jb===Qf&&0<Ia.state.wrap&&0!==ra[Ia.next_in];)qc.inflateReset(Ia),jb=qc.inflate(Ia,Oa);switch(jb){case If:case Ne:case Af:case Bb:return this.onEnd(jb),this.ended=!0,!1}$a=Ia.avail_out;if(Ia.next_out&&(0===Ia.avail_out||jb===Qf))if("string"===this.options.to){let ub=Dc.utf8border(Ia.output,Ia.next_out),Cb=Ia.next_out-ub,Wb=Dc.buf2string(Ia.output,ub);Ia.next_out=Cb;Ia.avail_out=Xb-Cb;Cb&&Ia.output.set(Ia.output.subarray(ub,ub+
Cb),0);this.onData(Wb)}else this.onData(Ia.output.length===Ia.next_out?Ia.output:Ia.output.subarray(0,Ia.next_out));if(jb!==$e||0!==$a){if(jb===Qf){jb=qc.inflateEnd(this.strm);this.onEnd(jb);this.ended=!0;break}if(0===Ia.avail_in)break}}return!0};e.prototype.onData=function(ra){this.chunks.push(ra)};e.prototype.onEnd=function(ra){ra===$e&&(this.result="string"===this.options.to?this.chunks.join(""):Tb.flattenChunks(this.chunks));this.chunks=[];this.err=ra;this.msg=this.strm.msg};var Zb={Inflate:e,
inflate:d,inflateRaw:function(ra,jb){jb=jb||{};jb.raw=!0;return d(ra,jb)},ungzip:d,constants:Ma};const {Deflate:Sc,deflate:ce,deflateRaw:ke,gzip:Rd}=Ye,{Inflate:Sd,inflate:Qd,inflateRaw:Qe,ungzip:cf}=Zb;G.Deflate=Sc;G.deflate=ce;G.deflateRaw=ke;G.gzip=Rd;G.Inflate=Sd;G.inflate=Qd;G.inflateRaw=Qe;G.ungzip=cf;G.constants=Ma;G.default={Deflate:Sc,deflate:ce,deflateRaw:ke,gzip:Rd,Inflate:Sd,inflate:Qd,inflateRaw:Qe,ungzip:cf,constants:Ma}};
shadow$provide[282]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(G,"__esModule",{value:!0});const y=F(281);F=sa(F(277));class p extends F.default{decodeBlock(n){return(0,y.inflate)(new Uint8Array(n)).buffer}}G.default=p};
shadow$provide[283]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(G,"__esModule",{value:!0});F=sa(F(277));class y extends F.default{decodeBlock(p){const n=new DataView(p),v=[];for(let h=0;h<p.byteLength;++h){let k=n.getInt8(h);if(0>k){var r=n.getUint8(h+1);k=-k;for(let f=0;f<=k;++f)v.push(r);h+=1}else{for(r=0;r<=k;++r)v.push(n.getUint8(h+r+1));h+=k+1}}return(new Uint8Array(v)).buffer}}G.default=y};
shadow$provide[284]=function(sa,F,ob,G){(function(){var y=function(){var r={defaultNoDataValue:-3.4027999387901484E38,decode:function(h,k){k=k||{};var f=k.inputOffset||0,e=k.encodedMaskData||null===k.encodedMaskData,d={},a=new Uint8Array(h,f,10);d.fileIdentifierString=String.fromCharCode.apply(null,a);if("CntZImage"!==d.fileIdentifierString.trim())throw"Unexpected file identifier string: "+d.fileIdentifierString;f+=10;a=new DataView(h,f,24);d.fileVersion=a.getInt32(0,!0);d.imageType=a.getInt32(4,
!0);d.height=a.getUint32(8,!0);d.width=a.getUint32(12,!0);d.maxZError=a.getFloat64(16,!0);f+=24;if(!e)if(a=new DataView(h,f,16),d.mask={},d.mask.numBlocksY=a.getUint32(0,!0),d.mask.numBlocksX=a.getUint32(4,!0),d.mask.numBytes=a.getUint32(8,!0),d.mask.maxValue=a.getFloat32(12,!0),f+=16,0<d.mask.numBytes){e=new Uint8Array(Math.ceil(d.width*d.height/8));a=new DataView(h,f,d.mask.numBytes);var c=a.getInt16(0,!0),b=2,m=0;do{if(0<c)for(;c--;)e[m++]=a.getUint8(b++);else{var z=a.getUint8(b++);for(c=-c;c--;)e[m++]=
z}c=a.getInt16(b,!0);b+=2}while(b<d.mask.numBytes);if(-32768!==c||m<e.length)throw"Unexpected end of mask RLE encoding";d.mask.bitset=e;f+=d.mask.numBytes}else 0===(d.mask.numBytes|d.mask.numBlocksY|d.mask.maxValue)&&(d.mask.bitset=new Uint8Array(Math.ceil(d.width*d.height/8)));a=new DataView(h,f,16);d.pixels={};d.pixels.numBlocksY=a.getUint32(0,!0);d.pixels.numBlocksX=a.getUint32(4,!0);d.pixels.numBytes=a.getUint32(8,!0);d.pixels.maxValue=a.getFloat32(12,!0);f+=16;e=d.pixels.numBlocksX;a=d.pixels.numBlocksY;
e+=0<d.width%e?1:0;c=a+(0<d.height%a?1:0);d.pixels.blocks=Array(e*c);for(m=b=0;m<c;m++)for(z=0;z<e;z++){var u=0;a=new DataView(h,f,Math.min(10,h.byteLength-f));var C={};d.pixels.blocks[b++]=C;var J=a.getUint8(0);u++;C.encoding=J&63;if(3<C.encoding)throw"Invalid block encoding ("+C.encoding+")";if(2===C.encoding)f++;else{if(0!==J&&2!==J){J>>=6;C.offsetType=J;if(2===J)C.offset=a.getInt8(1),u++;else if(1===J)C.offset=a.getInt16(1,!0),u+=2;else if(0===J)C.offset=a.getFloat32(1,!0),u+=4;else throw"Invalid block offset type";
if(1===C.encoding)if(J=a.getUint8(u),u++,C.bitsPerPixel=J&63,J>>=6,C.numValidPixelsType=J,2===J)C.numValidPixels=a.getUint8(u),u++;else if(1===J)C.numValidPixels=a.getUint16(u,!0),u+=2;else if(0===J)C.numValidPixels=a.getUint32(u,!0),u+=4;else throw"Invalid valid pixel count type";}f+=u;if(3!==C.encoding)if(0===C.encoding){J=(d.pixels.numBytes-1)/4;if(J!==Math.floor(J))throw"uncompressed block has invalid length";a=new ArrayBuffer(4*J);u=new Uint8Array(a);u.set(new Uint8Array(h,f,4*J));a=new Float32Array(a);
C.rawData=a;f+=4*J}else 1===C.encoding&&(J=Math.ceil(C.numValidPixels*C.bitsPerPixel/8),a=new ArrayBuffer(4*Math.ceil(J/4)),u=new Uint8Array(a),u.set(new Uint8Array(h,f,J)),C.stuffedData=new Uint32Array(a),f+=J)}}d.eofOffset=f;h=null!==k.noDataValue?k.noDataValue:r.defaultNoDataValue;e=k.encodedMaskData;J=k.returnMask;c=0;b=d.pixels.numBlocksX;m=d.pixels.numBlocksY;z=Math.floor(d.width/b);C=Math.floor(d.height/m);u=2*d.maxZError;f=Number.MAX_VALUE;var A;e=e||(d.mask?d.mask.bitset:null);var x;a=new (k.pixelType||
Float32Array)(d.width*d.height);J&&e&&(x=new Uint8Array(d.width*d.height));J=new Float32Array(z*C);for(var q,H,M=0;M<=m;M++){var R=M!==m?C:d.height%m;if(0!==R)for(var Z=0;Z<=b;Z++){var T=Z!==b?z:d.width%b;if(0!==T){var ba=M*d.width*C+Z*z,aa=d.width-T,W=d.pixels.blocks[c];if(2>W.encoding){if(0===W.encoding)var X=W.rawData;else{X=void 0;q=W.stuffedData;H=W.bitsPerPixel;var P=W.numValidPixels,w=W.offset,B=u,K=J,U=d.pixels.maxValue,ka=(1<<H)-1,da=0,la=0,wa=Math.ceil((U-w)/B);q[q.length-1]<<=8*(4*q.length-
Math.ceil(H*P/8));for(A=0;A<P;A++){0===la&&(X=q[da++],la=32);if(la>=H){var Ua=X>>>la-H&ka;la-=H}else la=H-la,Ua=(X&ka)<<la&ka,X=q[da++],la=32-la,Ua+=X>>>la;K[A]=Ua<wa?w+Ua*B:U}X=J}Ua=0}else var hb=2===W.encoding?0:W.offset;if(e)for(H=0;H<R;H++){if(ba&7){var La=e[ba>>3];La<<=ba&7}for(q=0;q<T;q++)ba&7||(La=e[ba>>3]),La&128?(x&&(x[ba]=1),A=2>W.encoding?X[Ua++]:hb,f=f>A?A:f,a[ba++]=A):(x&&(x[ba]=0),a[ba++]=h),La<<=1;ba+=aa}else if(2>W.encoding)for(H=0;H<R;H++){for(q=0;q<T;q++)A=X[Ua++],f=f>A?A:f,a[ba++]=
A;ba+=aa}else for(f=f>hb?hb:f,H=0;H<R;H++){for(q=0;q<T;q++)a[ba++]=hb;ba+=aa}if(1===W.encoding&&Ua!==W.numValidPixels)throw"Block and Mask do not match";c++}}}hb=x;x={width:d.width,height:d.height,pixelData:a,minValue:f,maxValue:d.pixels.maxValue,noDataValue:h};hb&&(x.maskData=hb);k.returnEncodedMask&&d.mask&&(x.encodedMaskData=d.mask.bitset?d.mask.bitset:null);if(k.returnFileInfo&&(x.fileInfo={fileIdentifierString:d.fileIdentifierString,fileVersion:d.fileVersion,imageType:d.imageType,height:d.height,
width:d.width,maxZError:d.maxZError,eofOffset:d.eofOffset,mask:d.mask?{numBlocksX:d.mask.numBlocksX,numBlocksY:d.mask.numBlocksY,numBytes:d.mask.numBytes,maxValue:d.mask.maxValue}:null,pixels:{numBlocksX:d.pixels.numBlocksX,numBlocksY:d.pixels.numBlocksY,numBytes:d.pixels.numBytes,maxValue:d.pixels.maxValue,noDataValue:d.noDataValue}},k.computeUsedBitDepths)){k=x.fileInfo;hb=d.pixels.numBlocksX*d.pixels.numBlocksY;La={};for(X=0;X<hb;X++)Ua=d.pixels.blocks[X],0===Ua.encoding?La.float32=!0:1===Ua.encoding?
La[Ua.bitsPerPixel]=!0:La[0]=!0;d=Object.keys(La);k.bitDepths=d}return x}};return r}(),p=function(){var r={unstuff:function(f,e,d,a,c,b,m,z){var u=(1<<d)-1,C=0,J,A=0;f[f.length-1]<<=8*(4*f.length-Math.ceil(d*a/8));if(c)for(J=0;J<a;J++){if(0===A){var x=f[C++];A=32}if(A>=d){var q=x>>>A-d&u;A-=d}else A=d-A,q=(x&u)<<A&u,x=f[C++],A=32-A,q+=x>>>A;e[J]=c[q]}else for(c=Math.ceil((z-b)/m),J=0;J<a;J++)0===A&&(x=f[C++],A=32),A>=d?(q=x>>>A-d&u,A-=d):(A=d-A,q=(x&u)<<A&u,x=f[C++],A=32-A,q+=x>>>A),e[J]=q<c?b+q*
m:z},unstuffLUT:function(f,e,d,a,c,b){var m=(1<<e)-1,z=0,u;var C=0;var J=[];f[f.length-1]<<=8*(4*f.length-Math.ceil(e*d/8));var A=Math.ceil((b-a)/c);for(u=0;u<d;u++){if(0===C){var x=f[z++];C=32}if(C>=e){var q=x>>>C-e&m;C-=e}else C=e-C,q=(x&m)<<C&m,x=f[z++],C=32-C,q+=x>>>C;J[u]=q<A?a+q*c:b}J.unshift(a);return J},unstuff2:function(f,e,d,a,c,b,m,z){var u=(1<<d)-1,C=0,J,A=0,x=0;if(c)for(J=0;J<a;J++){if(0===A){var q=f[C++];A=32;x=0}if(A>=d){var H=q>>>x&u;A-=d;x+=d}else{var M=d-A;H=q>>>x&u;q=f[C++];A=32-
M;H|=(q&(1<<M)-1)<<d-M;x=M}e[J]=c[H]}else for(c=Math.ceil((z-b)/m),J=0;J<a;J++)0===A&&(q=f[C++],A=32,x=0),A>=d?(H=q>>>x&u,A-=d,x+=d):(M=d-A,H=q>>>x&u,q=f[C++],A=32-M,H|=(q&(1<<M)-1)<<d-M,x=M),e[J]=H<c?b+H*m:z;return e},unstuffLUT2:function(f,e,d,a,c,b){var m=(1<<e)-1,z=0,u,C=0,J=0,A=[],x=Math.ceil((b-a)/c);for(u=0;u<d;u++){if(0===C){var q=f[z++];C=32;J=0}if(C>=e){var H=q>>>J&m;C-=e;J+=e}else{var M=e-C;H=q>>>J&m;q=f[z++];C=32-M;H|=(q&(1<<M)-1)<<e-M;J=M}A[u]=H<x?a+H*c:b}A.unshift(a);return A},originalUnstuff:function(f,
e,d,a){var c=(1<<d)-1,b=0,m,z=0;f[f.length-1]<<=8*(4*f.length-Math.ceil(d*a/8));for(m=0;m<a;m++){if(0===z){var u=f[b++];z=32}if(z>=d){var C=u>>>z-d&c;z-=d}else z=d-z,C=(u&c)<<z&c,u=f[b++],z=32-z,C+=u>>>z;e[m]=C}return e},originalUnstuff2:function(f,e,d,a){var c=(1<<d)-1,b=0,m,z=0,u=0;for(m=0;m<a;m++){if(0===z){var C=f[b++];z=32;u=0}if(z>=d){var J=C>>>u&c;z-=d;u+=d}else{var A=d-z;J=C>>>u&c;C=f[b++];z=32-A;J|=(C&(1<<A)-1)<<d-A;u=A}e[m]=J}return e}},h={HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(f){for(var e=
65535,d=65535,a=f.length,c=Math.floor(a/2),b=0;c;){var m=359<=c?359:c;c-=m;do e+=f[b++]<<8,d+=e+=f[b++];while(--m);e=(e&65535)+(e>>>16);d=(d&65535)+(d>>>16)}a&1&&(d+=e+=f[b]<<8);return((d&65535)+(d>>>16)<<16|(e&65535)+(e>>>16))>>>0},readHeaderInfo:function(f,e){var d=e.ptr,a=new Uint8Array(f,d,6),c={};c.fileIdentifierString=String.fromCharCode.apply(null,a);if(0!==c.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+c.fileIdentifierString;d+=6;a=
new DataView(f,d,8);var b=a.getInt32(0,!0);c.fileVersion=b;d+=4;3<=b&&(c.checksum=a.getUint32(4,!0),d+=4);a=new DataView(f,d,12);c.height=a.getUint32(0,!0);c.width=a.getUint32(4,!0);d+=8;4<=b?(c.numDims=a.getUint32(8,!0),d+=4):c.numDims=1;a=new DataView(f,d,40);c.numValidPixel=a.getUint32(0,!0);c.microBlockSize=a.getInt32(4,!0);c.blobSize=a.getInt32(8,!0);c.imageType=a.getInt32(12,!0);c.maxZError=a.getFloat64(16,!0);c.zMin=a.getFloat64(24,!0);c.zMax=a.getFloat64(32,!0);d+=40;e.headerInfo=c;e.ptr=
d;if(3<=b&&(f=this.computeChecksumFletcher32(new Uint8Array(f,d-(4<=b?52:48),c.blobSize-14)),f!==c.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(f,e){var d=e.headerInfo,a=this.getDataTypeArray(d.imageType),c=d.numDims*this.getDataTypeSize(d.imageType),b=this.readSubArray(f,e.ptr,a,c);f=this.readSubArray(f,e.ptr+c,a,c);e.ptr+=2*c;c=!0;for(e=0;e<d.numDims;e++)if(b[e]!==f[e]){c=!1;break}d.minValues=b;d.maxValues=f;return c},readSubArray:function(f,e,d,a){if(d===Uint8Array)f=
new Uint8Array(f,e,a);else{var c=new ArrayBuffer(a);(new Uint8Array(c)).set(new Uint8Array(f,e,a));f=new d(c)}return f},readMask:function(f,e){var d=e.ptr,a=e.headerInfo,c=a.width*a.height,b=a.numValidPixel,m=new DataView(f,d,4);a={};a.numBytes=m.getUint32(0,!0);d+=4;if((0===b||c===b)&&0!==a.numBytes)throw"invalid mask";if(0===b)b=new Uint8Array(Math.ceil(c/8)),a.bitset=b,m=new Uint8Array(c),e.pixels.resultMask=m,d+=a.numBytes;else if(0<a.numBytes){b=new Uint8Array(Math.ceil(c/8));m=new DataView(f,
d,a.numBytes);f=m.getInt16(0,!0);var z=2,u=0;do{if(0<f)for(;f--;)b[u++]=m.getUint8(z++);else{var C=m.getUint8(z++);for(f=-f;f--;)b[u++]=C}f=m.getInt16(z,!0);z+=2}while(z<a.numBytes);if(-32768!==f||u<b.length)throw"Unexpected end of mask RLE encoding";m=new Uint8Array(c);for(z=0;z<c;z++)z&7?(f=b[z>>3],f<<=z&7):f=b[z>>3],f&128&&(m[z]=1);e.pixels.resultMask=m;a.bitset=b;d+=a.numBytes}e.ptr=d;e.mask=a;return!0},readDataOneSweep:function(f,e,d,a){var c=e.ptr,b=e.headerInfo,m=b.numDims,z=b.width*b.height;
b=b.numValidPixel*h.getDataTypeSize(b.imageType)*m;var u=e.pixels.resultMask;if(d===Uint8Array)f=new Uint8Array(f,c,b);else{var C=new ArrayBuffer(b);(new Uint8Array(C)).set(new Uint8Array(f,c,b));f=new d(C)}if(f.length===z*m)e.pixels.resultPixels=a?h.swapDimensionOrder(f,z,m,d,!0):f;else if(e.pixels.resultPixels=new d(z*m),d=0,1<m)if(a)for(a=0;a<z;a++){if(u[a]){var J=a;for(C=0;C<m;C++,J+=z)e.pixels.resultPixels[J]=f[d++]}}else for(a=0;a<z;a++){if(u[a])for(J=a*m,C=0;C<m;C++)e.pixels.resultPixels[J+
C]=f[d++]}else for(a=0;a<z;a++)u[a]&&(e.pixels.resultPixels[a]=f[d++]);e.ptr=c+b;return!0},readHuffmanTree:function(f,e){var d=this.HUFFMAN_LUT_BITS_MAX,a=new DataView(f,e.ptr,16);e.ptr+=16;if(2>a.getInt32(0,!0))throw"unsupported Huffman version";var c=a.getInt32(4,!0),b=a.getInt32(8,!0);a=a.getInt32(12,!0);if(b>=a)return!1;var m=new Uint32Array(a-b);h.decodeBits(f,e,m);var z=[],u;for(u=b;u<a;u++){var C=u-(u<c?0:c);z[C]={first:m[u-b],second:null}}u=f.byteLength-e.ptr;m=new ArrayBuffer(4*Math.ceil(u/
4));(new Uint8Array(m)).set(new Uint8Array(f,e.ptr,u));f=new Uint32Array(m);e=0;m=0;var J=f[0];for(u=b;u<a;u++){C=u-(u<c?0:c);var A=z[C].first;0<A&&(z[C].second=J<<e>>>32-A,32-e>=A?(e+=A,32===e&&(e=0,m++,J=f[m])):(e+=A-32,m++,J=f[m],z[C].second|=J>>>32-e))}J=0;var x=new k;for(u=0;u<z.length;u++)void 0!==z[u]&&(J=Math.max(J,z[u].first));d=J>=d?d:J;var q=[],H;for(u=b;u<a;u++)if(C=u-(u<c?0:c),A=z[C].first,0<A)if(b=[A,C],A<=d){C=z[C].second<<d-A;var M=1<<d-A;for(A=0;A<M;A++)q[C|A]=b}else for(C=z[C].second,
M=x,--A;0<=A;A--)(H=C>>>A&1)?(M.right||(M.right=new k),M=M.right):(M.left||(M.left=new k),M=M.left),0!==A||M.val||(M.val=b[1]);return{decodeLut:q,numBitsLUTQick:d,numBitsLUT:J,tree:x,stuffedData:f,srcPtr:m,bitPos:e}},readHuffman:function(f,e,d,a){var c=e.headerInfo.numDims,b=e.headerInfo.height,m=e.headerInfo.width,z=m*b,u=this.readHuffmanTree(f,e);f=u.decodeLut;var C=u.tree,J=u.stuffedData,A=u.srcPtr,x=u.bitPos,q=u.numBitsLUTQick;u=u.numBitsLUT;var H=0===e.headerInfo.imageType?128:0,M=e.pixels.resultMask,
R,Z,T,ba,aa,W,X=0;0<x&&(A++,x=0);var P=J[A],w=1===e.encodeMode,B=new d(z*c),K=B,U;if(2>c||w)for(U=0;U<c;U++)if(1<c&&(K=new d(B.buffer,z*U,z),X=0),e.headerInfo.numValidPixel===m*b)for(T=aa=0;T<b;T++)for(ba=0;ba<m;ba++,aa++){var ka=0;var da=R=P<<x>>>32-q;32-x<q&&(da=R|=J[A+1]>>>64-x-q);if(f[da])ka=f[da][1],x+=f[da][0];else for(R=P<<x>>>32-u,32-x<u&&(R|=J[A+1]>>>64-x-u),da=C,W=0;W<u;W++)if(da=(Z=R>>>u-W-1&1)?da.right:da.left,!da.left&&!da.right){ka=da.val;x=x+W+1;break}32<=x&&(x-=32,A++,P=J[A]);ka-=
H;w?(ka=0<ba?ka+X:0<T?ka+K[aa-m]:ka+X,ka&=255,X=K[aa]=ka):K[aa]=ka}else for(T=aa=0;T<b;T++)for(ba=0;ba<m;ba++,aa++){if(M[aa]){ka=0;da=R=P<<x>>>32-q;32-x<q&&(da=R|=J[A+1]>>>64-x-q);if(f[da])ka=f[da][1],x+=f[da][0];else for(R=P<<x>>>32-u,32-x<u&&(R|=J[A+1]>>>64-x-u),da=C,W=0;W<u;W++)if(da=(Z=R>>>u-W-1&1)?da.right:da.left,!da.left&&!da.right){ka=da.val;x=x+W+1;break}32<=x&&(x-=32,A++,P=J[A]);ka-=H;w?(ka=0<ba&&M[aa-1]?ka+X:0<T&&M[aa-m]?ka+K[aa-m]:ka+X,ka&=255,X=K[aa]=ka):K[aa]=ka}}else for(T=0;T<b;T++)for(ba=
0;ba<m;ba++)if(aa=T*m+ba,!M||M[aa])for(U=0;U<c;U++,aa+=z){ka=0;da=R=P<<x>>>32-q;32-x<q&&(da=R|=J[A+1]>>>64-x-q);if(f[da])ka=f[da][1],x+=f[da][0];else for(R=P<<x>>>32-u,32-x<u&&(R|=J[A+1]>>>64-x-u),da=C,W=0;W<u;W++)if(da=(Z=R>>>u-W-1&1)?da.right:da.left,!da.left&&!da.right){ka=da.val;x=x+W+1;break}32<=x&&(x-=32,A++,P=J[A]);ka-=H;K[aa]=ka}e.ptr=e.ptr+4*(A+1)+(0<x?4:0);e.pixels.resultPixels=B;1<c&&!a&&(e.pixels.resultPixels=h.swapDimensionOrder(B,z,c,d))},decodeBits:function(f,e,d,a,c){var b=e.headerInfo,
m=b.fileVersion,z=0,u=new DataView(f,e.ptr,5<=f.byteLength-e.ptr?5:f.byteLength-e.ptr),C=u.getUint8(0);z++;var J=C>>6;J=0===J?4:3-J;var A=0<(C&32)?!0:!1;C&=31;if(1===J)J=u.getUint8(z),z++;else if(2===J)J=u.getUint16(z,!0),z+=2;else if(4===J)J=u.getUint32(z,!0),z+=4;else throw"Invalid valid pixel count type";var x=2*b.maxZError;c=1<b.numDims?b.maxValues[c]:b.zMax;if(A){e.counter.lut++;A=u.getUint8(z);z++;b=Math.ceil((A-1)*C/8);var q=Math.ceil(b/4);q=new ArrayBuffer(4*q);var H=new Uint8Array(q);e.ptr+=
z;H.set(new Uint8Array(f,e.ptr,b));z=new Uint32Array(q);e.ptr+=b;for(u=0;A-1>>>u;)u++;b=Math.ceil(J*u/8);q=Math.ceil(b/4);q=new ArrayBuffer(4*q);H=new Uint8Array(q);H.set(new Uint8Array(f,e.ptr,b));f=new Uint32Array(q);e.ptr+=b;e=3<=m?r.unstuffLUT2(z,C,A-1,a,x,c):r.unstuffLUT(z,C,A-1,a,x,c);3<=m?r.unstuff2(f,d,u,J,e):r.unstuff(f,d,u,J,e)}else e.counter.bitstuffer++,u=C,e.ptr+=z,0<u&&(b=Math.ceil(J*u/8),q=Math.ceil(b/4),q=new ArrayBuffer(4*q),H=new Uint8Array(q),H.set(new Uint8Array(f,e.ptr,b)),f=
new Uint32Array(q),e.ptr+=b,3<=m?null==a?r.originalUnstuff2(f,d,u,J):r.unstuff2(f,d,u,J,!1,a,x,c):null==a?r.originalUnstuff(f,d,u,J):r.unstuff(f,d,u,J,!1,a,x,c))},readTiles:function(f,e,d,a){var c=e.headerInfo,b=c.width,m=c.height,z=b*m,u=c.microBlockSize,C=c.imageType,J=h.getDataTypeSize(C),A=Math.ceil(b/u),x=Math.ceil(m/u);e.pixels.numBlocksY=x;e.pixels.numBlocksX=A;e.pixels.ptr=0;var q,H=new d(u*u),M=m%u||u,R=b%u||u,Z=c.numDims,T,ba=e.pixels.resultMask,aa=e.pixels.resultPixels,W=5<=c.fileVersion?
14:15,X=c.zMax;for(m=0;m<x;m++){var P=m!==x-1?u:M;for(q=0;q<A;q++){var w=q!==A-1?u:R;var B=m*b*u+q*u;var K=b-w;for(T=0;T<Z;T++){if(1<Z){var U=aa;B=m*b*u+q*u;aa=new d(e.pixels.resultPixels.buffer,z*T*J,z);X=c.maxValues[T]}else U=null;var ka=f.byteLength-e.ptr;var da=new DataView(f,e.ptr,Math.min(10,ka));var la={};ka=0;var wa=da.getUint8(0);ka++;var Ua=5<=c.fileVersion?wa&4:0;var hb=wa>>6&255;var La=wa>>2&W;if(La!==(q*u>>3&W))throw"integrity issue";if(Ua&&0===T)throw"integrity issue";wa&=3;if(3<wa)throw e.ptr+=
ka,"Invalid block encoding ("+wa+")";if(2===wa){if(Ua)if(ba)for(da=0;da<P;da++)for(la=0;la<w;la++)ba[B]&&(aa[B]=U[B]),B++;else for(da=0;da<P;da++)for(la=0;la<w;la++)aa[B]=U[B],B++;e.counter.constant++;e.ptr+=ka}else if(0===wa){if(Ua)throw"integrity issue";e.counter.uncompressed++;e.ptr+=ka;U=P*w*J;ka=f.byteLength-e.ptr;U=U<ka?U:ka;ka=new ArrayBuffer(0===U%J?U:U+J-U%J);Ua=new Uint8Array(ka);Ua.set(new Uint8Array(f,e.ptr,U));ka=new d(ka);U=0;if(ba)for(da=0;da<P;da++){for(la=0;la<w;la++)ba[B]&&(aa[B]=
ka[U++]),B++;B+=K}else for(da=0;da<P;da++){for(la=0;la<w;la++)aa[B++]=ka[U++];B+=K}e.ptr+=U*J}else if(hb=h.getDataTypeUsed(Ua&&6>C?4:C,hb),La=h.getOnePixel(la,ka,hb,da),ka+=h.getDataTypeSize(hb),3===wa)if(e.ptr+=ka,e.counter.constantoffset++,ba)for(da=0;da<P;da++){for(la=0;la<w;la++)ba[B]&&(aa[B]=Ua?Math.min(X,U[B]+La):La),B++;B+=K}else for(da=0;da<P;da++){for(la=0;la<w;la++)aa[B]=Ua?Math.min(X,U[B]+La):La,B++;B+=K}else if(e.ptr+=ka,h.decodeBits(f,e,H,La,T),ka=0,Ua)if(ba)for(da=0;da<P;da++){for(la=
0;la<w;la++)ba[B]&&(aa[B]=H[ka++]+U[B]),B++;B+=K}else for(da=0;da<P;da++){for(la=0;la<w;la++)aa[B]=H[ka++]+U[B],B++;B+=K}else if(ba)for(da=0;da<P;da++){for(la=0;la<w;la++)ba[B]&&(aa[B]=H[ka++]),B++;B+=K}else for(da=0;da<P;da++){for(la=0;la<w;la++)aa[B++]=H[ka++];B+=K}}}}1<Z&&!a&&(e.pixels.resultPixels=h.swapDimensionOrder(e.pixels.resultPixels,z,Z,d))},formatFileInfo:function(f){return{fileIdentifierString:f.headerInfo.fileIdentifierString,fileVersion:f.headerInfo.fileVersion,imageType:f.headerInfo.imageType,
height:f.headerInfo.height,width:f.headerInfo.width,numValidPixel:f.headerInfo.numValidPixel,microBlockSize:f.headerInfo.microBlockSize,blobSize:f.headerInfo.blobSize,maxZError:f.headerInfo.maxZError,pixelType:h.getPixelType(f.headerInfo.imageType),eofOffset:f.eofOffset,mask:f.mask?{numBytes:f.mask.numBytes}:null,pixels:{numBlocksX:f.pixels.numBlocksX,numBlocksY:f.pixels.numBlocksY,maxValue:f.headerInfo.zMax,minValue:f.headerInfo.zMin,noDataValue:f.noDataValue}}},constructConstantSurface:function(f,
e){var d=f.headerInfo.zMax,a=f.headerInfo.zMin,c=f.headerInfo.maxValues,b=f.headerInfo.numDims,m=f.headerInfo.height*f.headerInfo.width,z=f.pixels.resultMask;f=f.pixels.resultPixels;if(z)if(1<b)if(e)for(e=0;e<b;e++){var u=e*m;d=c[e];for(a=0;a<m;a++)z[a]&&(f[u+a]=d)}else for(a=0;a<m;a++){if(z[a])for(u=a*b,e=0;e<b;e++)f[u+b]=c[e]}else for(a=0;a<m;a++)z[a]&&(f[a]=d);else if(1<b&&a!==d)if(e)for(e=0;e<b;e++)for(u=e*m,d=c[e],a=0;a<m;a++)f[u+a]=d;else for(a=0;a<m;a++)for(u=a*b,e=0;e<b;e++)f[u+e]=c[e];else for(a=
0;a<m*b;a++)f[a]=d},getDataTypeArray:function(f){switch(f){case 0:f=Int8Array;break;case 1:f=Uint8Array;break;case 2:f=Int16Array;break;case 3:f=Uint16Array;break;case 4:f=Int32Array;break;case 5:f=Uint32Array;break;case 6:f=Float32Array;break;case 7:f=Float64Array;break;default:f=Float32Array}return f},getPixelType:function(f){switch(f){case 0:f="S8";break;case 1:f="U8";break;case 2:f="S16";break;case 3:f="U16";break;case 4:f="S32";break;case 5:f="U32";break;case 6:f="F32";break;case 7:f="F64";break;
default:f="F32"}return f},isValidPixelValue:function(f,e){if(null==e)return!1;switch(f){case 0:f=-128<=e&&127>=e;break;case 1:f=0<=e&&255>=e;break;case 2:f=-32768<=e&&32767>=e;break;case 3:f=0<=e&&65536>=e;break;case 4:f=-2147483648<=e&&2147483647>=e;break;case 5:f=0<=e&&4294967296>=e;break;case 6:f=-3.4027999387901484E38<=e&&3.4027999387901484E38>=e;break;case 7:f=-1.7976931348623157E308<=e&&1.7976931348623157E308>=e;break;default:f=!1}return f},getDataTypeSize:function(f){switch(f){case 0:case 1:f=
1;break;case 2:case 3:f=2;break;case 4:case 5:case 6:f=4;break;case 7:f=8}return f},getDataTypeUsed:function(f,e){switch(f){case 2:case 4:f-=e;break;case 3:case 5:f-=2*e;break;case 6:f=0===e?f:1===e?2:1;break;case 7:f=0===e?f:f-2*e+1}return f},getOnePixel:function(f,e,d,a){switch(d){case 0:f=a.getInt8(e);break;case 1:f=a.getUint8(e);break;case 2:f=a.getInt16(e,!0);break;case 3:f=a.getUint16(e,!0);break;case 4:f=a.getInt32(e,!0);break;case 5:f=a.getUInt32(e,!0);break;case 6:f=a.getFloat32(e,!0);break;
case 7:f=a.getFloat64(e,!0);break;default:throw"the decoder does not understand this pixel type";}return f},swapDimensionOrder:function(f,e,d,a,c){var b=0,m=f;if(1<d)if(m=new a(e*d),c)for(a=0;a<e;a++){var z=a;for(c=0;c<d;c++,z+=e)m[z]=f[b++]}else for(a=0;a<e;a++)for(z=a,c=0;c<d;c++,z+=e)m[b++]=f[z];return m}},k=function(f,e,d){this.val=f;this.left=e;this.right=d};return{decode:function(f,e){e=e||{};var d=e.noDataValue,a={};a.ptr=e.inputOffset||0;a.pixels={};if(h.readHeaderInfo(f,a)){var c=a.headerInfo;
var b=c.fileVersion,m=h.getDataTypeArray(c.imageType);if(5<b)throw"unsupported lerc version 2."+b;h.readMask(f,a);c.numValidPixel===c.width*c.height||a.pixels.resultMask||(a.pixels.resultMask=e.maskData);var z=c.width*c.height;a.pixels.resultPixels=new m(z*c.numDims);a.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var u=!e.returnPixelInterleavedDims;if(0!==c.numValidPixel)if(c.zMax===c.zMin)h.constructConstantSurface(a,u);else if(4<=b&&h.checkMinMaxRanges(f,a))h.constructConstantSurface(a,
u);else{var C=new DataView(f,a.ptr,2),J=C.getUint8(0);a.ptr++;if(J)h.readDataOneSweep(f,a,m,u);else if(1<b&&1>=c.imageType&&1E-5>Math.abs(c.maxZError-.5)){C=C.getUint8(1);a.ptr++;a.encodeMode=C;if(2<C||4>b&&1<C)throw"Invalid Huffman flag "+C;C?h.readHuffman(f,a,m,u):h.readTiles(f,a,m,u)}else h.readTiles(f,a,m,u)}a.eofOffset=a.ptr;e.inputOffset?(f=a.headerInfo.blobSize+e.inputOffset-a.ptr,1<=Math.abs(f)&&(a.eofOffset=e.inputOffset+a.headerInfo.blobSize)):(f=a.headerInfo.blobSize-a.ptr,1<=Math.abs(f)&&
(a.eofOffset=a.headerInfo.blobSize));f={width:c.width,height:c.height,pixelData:a.pixels.resultPixels,minValue:c.zMin,maxValue:c.zMax,validPixelCount:c.numValidPixel,dimCount:c.numDims,dimStats:{minValues:c.minValues,maxValues:c.maxValues},maskData:a.pixels.resultMask};if(a.pixels.resultMask&&h.isValidPixelValue(c.imageType,d)){b=a.pixels.resultMask;for(c=0;c<z;c++)b[c]||(f.pixelData[c]=d);f.noDataValue=d}a.noDataValue=d;e.returnFileInfo&&(f.fileInfo=h.formatFileInfo(a));return f}},getBandCount:function(f){for(var e=
0,d=0,a={ptr:0,pixels:{}};d<f.byteLength-58;)h.readHeaderInfo(f,a),d+=a.headerInfo.blobSize,e++,a.ptr=d;return e}}}(),n=function(){var r=new ArrayBuffer(4),h=new Uint8Array(r);(new Uint32Array(r))[0]=1;return 1===h[0]}(),v={decode:function(r,h){if(!n)throw"Big endian system is not supported.";h=h||{};var k=h.inputOffset||0,f=new Uint8Array(r,k,10);f=String.fromCharCode.apply(null,f);if("CntZImage"===f.trim()){var e=y;var d=1}else if("Lerc2"===f.substring(0,5))e=p,d=2;else throw"Unexpected file identifier string: "+
f;var a=0,c=r.byteLength-10;f=[];for(var b,m={width:0,height:0,pixels:[],pixelType:h.pixelType,mask:null,statistics:[]},z=0;k<c;){var u=e.decode(r,{inputOffset:k,encodedMaskData:C,maskData:b,returnMask:0===a?!0:!1,returnEncodedMask:0===a?!0:!1,returnFileInfo:!0,returnPixelInterleavedDims:h.returnPixelInterleavedDims,pixelType:h.pixelType||null,noDataValue:h.noDataValue||null});k=u.fileInfo.eofOffset;b=u.maskData;if(0===a){var C=u.encodedMaskData;m.width=u.width;m.height=u.height;m.dimCount=u.dimCount||
1;m.pixelType=u.pixelType||u.fileInfo.pixelType;m.mask=b}1<d&&(b&&f.push(b),u.fileInfo.mask&&0<u.fileInfo.mask.numBytes&&z++);a++;m.pixels.push(u.pixelData);m.statistics.push({minValue:u.minValue,maxValue:u.maxValue,noDataValue:u.noDataValue,dimStats:u.dimStats})}if(1<d&&1<z){C=m.width*m.height;m.bandMasks=f;b=new Uint8Array(C);b.set(f[0]);for(h=1;h<f.length;h++)for(r=f[h],k=0;k<C;k++)b[k]&=r[k];m.maskData=b}return m}};"function"===typeof define&&define.amd?define([],function(){return v}):"undefined"!==
typeof ob&&ob.exports?ob.exports=v:this.Lerc=v})()};
shadow$provide[285]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{"default":r}};Object.defineProperty(G,"__esModule",{value:!0});const y=F(281),p=sa(F(284));sa=sa(F(277));const n=F(274);class v extends sa.default{constructor(r){super();this.planarConfiguration="undefined"!==typeof r.PlanarConfiguration?r.PlanarConfiguration:1;this.samplesPerPixel="undefined"!==typeof r.SamplesPerPixel?r.SamplesPerPixel:1;this.addCompression=r.LercParameters[n.LercParameters.AddCompression]}decodeBlock(r){switch(this.addCompression){case n.LercAddCompression.None:break;
case n.LercAddCompression.Deflate:r=(0,y.inflate)(new Uint8Array(r)).buffer;break;default:throw Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`);}return p.default.decode(r,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}G.default=v};
shadow$provide[286]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(G,"__esModule",{value:!0});F=sa(F(277));class y extends F.default{constructor(){super();if("undefined"===typeof createImageBitmap)throw Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"===typeof document&&"undefined"===typeof OffscreenCanvas)throw Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");
}decode(p,n){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var v=new Blob([n]);v=yield createImageBitmap(v);if("undefined"!==typeof document){var r=document.createElement("canvas");r.width=v.width;r.height=v.height}else r=new OffscreenCanvas(v.width,v.height);r=r.getContext("2d");r.drawImage(v,0,0);return r.getImageData(0,0,v.width,v.height).data.buffer})}}G.default=y};
shadow$provide[287]=function(sa,F,ob,G){function y(h,k){Array.isArray(h)||(h=[h]);h.forEach(f=>r.set(f,k))}var p=this&&this.__createBinding||(Object.create?function(h,k,f,e){void 0===e&&(e=f);Object.defineProperty(h,e,{enumerable:!0,get:function(){return k[f]}})}:function(h,k,f,e){void 0===e&&(e=f);h[e]=k[f]}),n=this&&this.__setModuleDefault||(Object.create?function(h,k){Object.defineProperty(h,"default",{enumerable:!0,value:k})}:function(h,k){h["default"]=k}),v=this&&this.__importStar||function(h){if(h&&
h.__esModule)return h;var k={};if(null!=h)for(var f in h)"default"!==f&&Object.prototype.hasOwnProperty.call(h,f)&&p(k,h,f);n(k,h);return k};Object.defineProperty(G,"__esModule",{value:!0});G.getDecoder=G.addDecoder=void 0;const r=new Map;G.addDecoder=y;G.getDecoder=function(h){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const k=r.get(h.Compression);if(!k)throw Error(`Unknown compression method identifier: ${h.Compression}`);return new (yield k())(h)})};y([void 0,1],()=>Promise.resolve().then(()=>
v(F(278))).then(h=>h.default));y(5,()=>Promise.resolve().then(()=>v(F(279))).then(h=>h.default));y(6,()=>{throw Error("old style JPEG compression is not supported.");});y(7,()=>Promise.resolve().then(()=>v(F(280))).then(h=>h.default));y([8,32946],()=>Promise.resolve().then(()=>v(F(282))).then(h=>h.default));y(32773,()=>Promise.resolve().then(()=>v(F(283))).then(h=>h.default));y(34887,()=>Promise.resolve().then(()=>v(F(285))).then(h=>h.default));y(50001,()=>Promise.resolve().then(()=>v(F(286))).then(h=>
h.default))};
shadow$provide[288]=function(sa,F,ob,G){function y(h,k,f,e=1){return new (Object.getPrototypeOf(h).constructor)(k*f*e)}function p(h,k,f,e,d){const a=k/e,c=f/d;return h.map(b=>{const m=y(b,e,d);for(let z=0;z<d;++z){const u=Math.min(Math.round(c*z),f-1);for(let C=0;C<e;++C)m[z*e+C]=b[u*k+Math.min(Math.round(a*C),k-1)]}return m})}function n(h,k,f,e,d){const a=k/e,c=f/d;return h.map(b=>{const m=y(b,e,d);for(let u=0;u<d;++u){const C=c*u,J=Math.floor(C),A=Math.min(Math.ceil(C),f-1);for(let x=0;x<e;++x){var z=
a*x;const q=z%1,H=Math.floor(z),M=Math.min(Math.ceil(z),k-1);z=C%1;m[u*e+x]=(1-z)*((1-q)*b[J*k+H]+q*b[J*k+M])+z*((1-q)*b[A*k+H]+q*b[A*k+M])}}return m})}function v(h,k,f,e,d,a){const c=k/e,b=f/d,m=y(h,e,d,a);for(let z=0;z<d;++z){const u=Math.min(Math.round(b*z),f-1);for(let C=0;C<e;++C){const J=Math.min(Math.round(c*C),k-1);for(let A=0;A<a;++A)m[z*e*a+C*a+A]=h[u*k*a+J*a+A]}}return m}function r(h,k,f,e,d,a){const c=k/e,b=f/d,m=y(h,e,d,a);for(let u=0;u<d;++u){const C=b*u,J=Math.floor(C),A=Math.min(Math.ceil(C),
f-1);for(let x=0;x<e;++x){var z=c*x;const q=z%1,H=Math.floor(z),M=Math.min(Math.ceil(z),k-1);for(let R=0;R<a;++R)z=C%1,m[u*e*a+x*a+R]=(1-z)*((1-q)*h[J*k*a+H*a+R]+q*h[J*k*a+M*a+R])+z*((1-q)*h[A*k*a+H*a+R]+q*h[A*k*a+M*a+R])}}return m}Object.defineProperty(G,"__esModule",{value:!0});G.resampleInterleaved=G.resampleBilinearInterleaved=G.resampleNearestInterleaved=G.resample=G.resampleBilinear=G.resampleNearest=void 0;G.resampleNearest=p;G.resampleBilinear=n;G.resample=function(h,k,f,e,d,a="nearest"){switch(a.toLowerCase()){case "nearest":return p(h,
k,f,e,d);case "bilinear":case "linear":return n(h,k,f,e,d);default:throw Error(`Unsupported resampling method: '${a}'`);}};G.resampleNearestInterleaved=v;G.resampleBilinearInterleaved=r;G.resampleInterleaved=function(h,k,f,e,d,a,c="nearest"){switch(c.toLowerCase()){case "nearest":return v(h,k,f,e,d,a);case "bilinear":case "linear":return r(h,k,f,e,d,a);default:throw Error(`Unsupported resampling method: '${c}'`);}}};
shadow$provide[289]=function(sa,F,ob,G){function y(a,c,b){let m=0;for(;c<b;++c)m+=a[c];return m}function p(a,c,b){switch(a){case 1:if(8>=c)return new Uint8Array(b);if(16>=c)return new Uint16Array(b);if(32>=c)return new Uint32Array(b);break;case 2:if(8===c)return new Int8Array(b);if(16===c)return new Int16Array(b);if(32===c)return new Int32Array(b);break;case 3:switch(c){case 16:case 32:return new Float32Array(b);case 64:return new Float64Array(b)}}throw Error("Unsupported data format/bitsPerSample");
}sa=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{"default":a}};Object.defineProperty(G,"__esModule",{value:!0});const n=F(268),v=sa(F(269)),r=sa(F(273)),h=F(274),k=F(275),f=F(287),e=F(288);class d{constructor(a,c,b,m,z,u){this.fileDirectory=a;this.geoKeys=c;this.dataView=b;this.littleEndian=m;this.tiles=z?{}:null;this.isTiled=!a.StripOffsets;a=a.PlanarConfiguration;this.planarConfiguration="undefined"===typeof a?1:a;if(1!==this.planarConfiguration&&2!==this.planarConfiguration)throw Error("Invalid planar configuration.");
this.source=u}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?
Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(a){return this.isTiled||(a+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-a*this.getTileHeight()}getBytesPerPixel(){let a=0;for(let c=0;c<this.fileDirectory.BitsPerSample.length;++c)a+=this.getSampleByteSize(c);return a}getSampleByteSize(a){if(a>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${a} is out of range.`);
return Math.ceil(this.fileDirectory.BitsPerSample[a]/8)}getReaderForSample(a){const c=this.fileDirectory.BitsPerSample[a];switch(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[a]:1){case 1:if(8>=c)return DataView.prototype.getUint8;if(16>=c)return DataView.prototype.getUint16;if(32>=c)return DataView.prototype.getUint32;break;case 2:if(8>=c)return DataView.prototype.getInt8;if(16>=c)return DataView.prototype.getInt16;if(32>=c)return DataView.prototype.getInt32;break;case 3:switch(c){case 16:return function(b,
m){return(0,n.getFloat16)(this,b,m)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample");}getSampleFormat(a=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[a]:1}getBitsPerSample(a=0){return this.fileDirectory.BitsPerSample[a]}getArrayForSample(a,c){const b=this.getSampleFormat(a);a=this.getBitsPerSample(a);return p(b,a,c)}getTileOrStrip(a,c,b,m,z){const u=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var C=
Math.ceil(u.getWidth()/u.getTileWidth()),J=Math.ceil(u.getHeight()/u.getTileHeight());let A;const {tiles:x}=u;1===u.planarConfiguration?A=c*C+a:2===u.planarConfiguration&&(A=b*C*J+c*C+a);u.isTiled?(C=u.fileDirectory.TileOffsets[A],J=u.fileDirectory.TileByteCounts[A]):(C=u.fileDirectory.StripOffsets[A],J=u.fileDirectory.StripByteCounts[A]);const q=(yield u.source.fetch([{offset:C,length:J}],z))[0];null!==x&&x[A]?C=x[A]:(C=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var H=yield m.decode(u.fileDirectory,
q),M=u.getSampleFormat();const R=u.getBitsPerSample();if((1===M||2===M)&&32>=R&&0===R%8?0:3!==M||16!==R&&32!==R&&64!==R){var Z=u.planarConfiguration,T=u.getSamplesPerPixel(),ba=u.getTileWidth(),aa=u.getBlockHeight(c);H=new DataView(H);const P=2===Z?1:T,w=p(M,R,2===Z?aa*ba:aa*ba*T),B=parseInt("1".repeat(R),2);if(1===M)for(M=ba*(1===Z?T*R:R),0!==(M&7)&&(M=M+7&-8),Z=0;Z<aa;++Z){T=Z*M;for(let K=0;K<ba;++K){const U=T+K*P*R;for(let ka=0;ka<P;++ka){var W=U+ka*R;const da=(Z*ba+K)*P+ka;var X=Math.floor(W/
8);W%=8;8>=W+R?w[da]=H.getUint8(X)>>8-R-W&B:16>=W+R?w[da]=H.getUint16(X)>>16-R-W&B:24>=W+R?(X=H.getUint16(X)<<8|H.getUint8(X+2),w[da]=X>>24-R-W&B):w[da]=H.getUint32(X)>>32-R-W&B}}}H=w.buffer}return H}))(),null!==x&&(x[A]=C));return{x:a,y:c,sample:b,data:yield C}})}_readRaster(a,c,b,m,z,u,C,J,A){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const q=x.getTileWidth(),H=x.getTileHeight(),M=x.getWidth(),R=x.getHeight();var Z=Math.max(Math.floor(a[0]/q),0);const T=Math.min(Math.ceil(a[2]/
q),Math.ceil(M/q));var ba=Math.max(Math.floor(a[1]/H),0);const aa=Math.min(Math.ceil(a[3]/H),Math.ceil(R/H)),W=a[2]-a[0];let X=x.getBytesPerPixel();const P=[],w=[];for(var B=0;B<c.length;++B)1===x.planarConfiguration?P.push(y(x.fileDirectory.BitsPerSample,0,c[B])/8):P.push(0),w.push(x.getReaderForSample(c[B]));B=[];const {littleEndian:K}=x;for(;ba<aa;++ba)for(let ka=Z;ka<T;++ka)for(let da=0;da<c.length;++da){const la=da;var U=c[da];2===x.planarConfiguration&&(X=x.getSampleByteSize(da));U=x.getTileOrStrip(ka,
ba,U,z,A);B.push(U);U.then(wa=>{const Ua=new DataView(wa.data);var hb=x.getBlockHeight(wa.y);const La=wa.y*H,pa=wa.x*q,Da=w[la];hb=Math.min(hb,hb-(La+hb-a[3]),R-La);wa=Math.min(q,q-((wa.x+1)*q-a[2]),M-pa);for(let Ma=Math.max(0,a[1]-La);Ma<hb;++Ma)for(let ua=Math.max(0,a[0]-pa);ua<wa;++ua){const Aa=Da.call(Ua,(Ma*q+ua)*X+P[la],K);let qa;m?(qa=(Ma+La-a[1])*W*c.length+(ua+pa-a[0])*c.length+la,b[qa]=Aa):(qa=(Ma+La-a[1])*W+ua+pa-a[0],b[la][qa]=Aa)}})}yield Promise.all(B);if(u&&a[2]-a[0]!==u||C&&a[3]-a[1]!==
C)return Z=m?(0,e.resampleInterleaved)(b,a[2]-a[0],a[3]-a[1],u,C,c.length,J):(0,e.resample)(b,a[2]-a[0],a[3]-a[1],u,C,J),Z.width=u,Z.height=C,Z;b.width=u||a[2]-a[0];b.height=C||a[3]-a[1];return b})}readRasters({window:a,samples:c=[],interleave:b,pool:m=null,width:z,height:u,resampleMethod:C,fillValue:J,signal:A}={}){const x=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const q=a||[0,0,x.getWidth(),x.getHeight()];if(q[0]>q[2]||q[1]>q[3])throw Error("Invalid subsets");var H=(q[2]-
q[0])*(q[3]-q[1]),M=x.getSamplesPerPixel();if(!c||!c.length)for(var R=0;R<M;++R)c.push(R);else for(R=0;R<c.length;++R)if(c[R]>=M)return Promise.reject(new RangeError(`Invalid sample index '${c[R]}'.`));if(b)M=x.fileDirectory.SampleFormat?Math.max.apply(null,x.fileDirectory.SampleFormat):1,R=Math.max.apply(null,x.fileDirectory.BitsPerSample),M=p(M,R,H*c.length),J&&M.fill(J);else for(M=[],R=0;R<c.length;++R){const Z=x.getArrayForSample(c[R],H);Array.isArray(J)&&R<J.length?Z.fill(J[R]):J&&!Array.isArray(J)&&
Z.fill(J);M.push(Z)}H=m||(yield(0,f.getDecoder)(x.fileDirectory));return yield x._readRaster(q,c,M,b,H,z,u,C,A)})}readRGB({window:a,interleave:c=!0,pool:b=null,width:m,height:z,resampleMethod:u,enableAlpha:C=!1,signal:J}={}){const A=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var x=a||[0,0,A.getWidth(),A.getHeight()];if(x[0]>x[2]||x[1]>x[3])throw Error("Invalid subsets");var q=A.fileDirectory.PhotometricInterpretation;if(q===h.photometricInterpretations.RGB){x=[0,1,2];if(A.fileDirectory.ExtraSamples!==
h.ExtraSamplesValues.Unspecified&&C)for(x=[],q=0;q<A.fileDirectory.BitsPerSample.length;q+=1)x.push(q);return A.readRasters({window:a,interleave:c,samples:x,pool:b,width:m,height:z,resampleMethod:u,signal:J})}switch(q){case h.photometricInterpretations.WhiteIsZero:case h.photometricInterpretations.BlackIsZero:case h.photometricInterpretations.Palette:var H=[0];break;case h.photometricInterpretations.CMYK:H=[0,1,2,3];break;case h.photometricInterpretations.YCbCr:case h.photometricInterpretations.CIELab:H=
[0,1,2];break;default:throw Error("Invalid or unsupported photometric interpretation.");}x={window:x,interleave:!0,samples:H,pool:b,width:m,height:z,resampleMethod:u,signal:J};({fileDirectory:H}=A);x=yield A.readRasters(x);var M=Math.pow(2,A.fileDirectory.BitsPerSample[0]);switch(q){case h.photometricInterpretations.WhiteIsZero:q=(0,k.fromWhiteIsZero)(x,M);break;case h.photometricInterpretations.BlackIsZero:q=(0,k.fromBlackIsZero)(x,M);break;case h.photometricInterpretations.Palette:q=(0,k.fromPalette)(x,
H.ColorMap);break;case h.photometricInterpretations.CMYK:q=(0,k.fromCMYK)(x);break;case h.photometricInterpretations.YCbCr:q=(0,k.fromYCbCr)(x);break;case h.photometricInterpretations.CIELab:q=(0,k.fromCIELab)(x);break;default:throw Error("Unsupported photometric interpretation.");}if(!c){H=new Uint8Array(q.length/3);M=new Uint8Array(q.length/3);const R=new Uint8Array(q.length/3);for(let Z=0,T=0;Z<q.length;Z+=3,++T)H[T]=q[Z],M[T]=q[Z+1],R[T]=q[Z+2];q=[H,M,R]}q.width=x.width;q.height=x.height;return q})}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];
const a=[];for(let c=0;c<this.fileDirectory.ModelTiepoint.length;c+=6)a.push({i:this.fileDirectory.ModelTiepoint[c],j:this.fileDirectory.ModelTiepoint[c+1],k:this.fileDirectory.ModelTiepoint[c+2],x:this.fileDirectory.ModelTiepoint[c+3],y:this.fileDirectory.ModelTiepoint[c+4],z:this.fileDirectory.ModelTiepoint[c+5]});return a}getGDALMetadata(a=null){const c={};if(!this.fileDirectory.GDAL_METADATA)return null;let b=(0,r.default)(this.fileDirectory.GDAL_METADATA,"Item");b=null===a?b.filter(m=>void 0===
(0,v.default)(m,"sample")):b.filter(m=>Number((0,v.default)(m,"sample"))===a);for(let m=0;m<b.length;++m){const z=b[m];c[(0,v.default)(z,"name")]=z.inner}return c}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const a=this.fileDirectory.GDAL_NODATA;return Number(a.substring(0,a.length-1))}getOrigin(){const a=this.fileDirectory.ModelTiepoint,c=this.fileDirectory.ModelTransformation;if(a&&6===a.length)return[a[3],a[4],a[5]];if(c)return[c[3],c[7],c[11]];throw Error("The image does not have an affine transformation.");
}getResolution(a=null){const c=this.fileDirectory.ModelPixelScale,b=this.fileDirectory.ModelTransformation;if(c)return[c[0],-c[1],c[2]];if(b)return[b[0],b[5],b[10]];if(a){const [m,z,u]=a.getResolution();return[m*a.getWidth()/this.getWidth(),z*a.getHeight()/this.getHeight(),u*a.getWidth()/this.getWidth()]}throw Error("The image does not have an affine transformation.");}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){var a=this.getOrigin(),c=this.getResolution();const b=a[0];
a=a[1];const m=b+c[0]*this.getWidth();c=a+c[1]*this.getHeight();return[Math.min(b,m),Math.min(a,c),Math.max(b,m),Math.max(a,c)]}}G.default=d};
shadow$provide[290]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});const y=F(268);class p{constructor(n){this._dataView=new DataView(n)}get buffer(){return this._dataView.buffer}getUint64(n,v){const r=this.getUint32(n,v);n=this.getUint32(n+4,v);if(v){v=r+Math.pow(2,32)*n;if(!Number.isSafeInteger(v))throw Error(`${v} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return v}v=Math.pow(2,
32)*r+n;if(!Number.isSafeInteger(v))throw Error(`${v} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return v}getInt64(n,v){let r=0;const h=0<(this._dataView.getUint8(n+(v?7:0))&128);let k=!0;for(let f=0;8>f;f++){let e=this._dataView.getUint8(n+(v?f:7-f));h&&(k?0!==e&&(e=~(e-1)&255,k=!1):e=~e&255);r+=e*Math.pow(256,f)}h&&(r=-r);return r}getUint8(n,v){return this._dataView.getUint8(n,v)}getInt8(n,v){return this._dataView.getInt8(n,
v)}getUint16(n,v){return this._dataView.getUint16(n,v)}getInt16(n,v){return this._dataView.getInt16(n,v)}getUint32(n,v){return this._dataView.getUint32(n,v)}getInt32(n,v){return this._dataView.getInt32(n,v)}getFloat16(n,v){return(0,y.getFloat16)(this._dataView,n,v)}getFloat32(n,v){return this._dataView.getFloat32(n,v)}getFloat64(n,v){return this._dataView.getFloat64(n,v)}}G.default=p};
shadow$provide[291]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});class y{constructor(p,n,v,r){this._dataView=new DataView(p);this._sliceOffset=n;this._littleEndian=v;this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(p,n){return this.sliceOffset<=p&&this.sliceTop>=p+n}readUint8(p){return this._dataView.getUint8(p-
this._sliceOffset,this._littleEndian)}readInt8(p){return this._dataView.getInt8(p-this._sliceOffset,this._littleEndian)}readUint16(p){return this._dataView.getUint16(p-this._sliceOffset,this._littleEndian)}readInt16(p){return this._dataView.getInt16(p-this._sliceOffset,this._littleEndian)}readUint32(p){return this._dataView.getUint32(p-this._sliceOffset,this._littleEndian)}readInt32(p){return this._dataView.getInt32(p-this._sliceOffset,this._littleEndian)}readFloat32(p){return this._dataView.getFloat32(p-
this._sliceOffset,this._littleEndian)}readFloat64(p){return this._dataView.getFloat64(p-this._sliceOffset,this._littleEndian)}readUint64(p){var n=this.readUint32(p);p=this.readUint32(p+4);if(this._littleEndian){n+=Math.pow(2,32)*p;if(!Number.isSafeInteger(n))throw Error(`${n} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}n=Math.pow(2,32)*n+p;if(!Number.isSafeInteger(n))throw Error(`${n} exceeds MAX_SAFE_INTEGER. `+
"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return n}readInt64(p){let n=0;const v=0<(this._dataView.getUint8(p+(this._littleEndian?7:0))&128);let r=!0;for(let h=0;8>h;h++){let k=this._dataView.getUint8(p+(this._littleEndian?h:7-h));v&&(r?0!==k&&(k=~(k-1)&255,r=!1):k=~k&255);n+=k*Math.pow(256,h)}v&&(n=-n);return n}readOffset(p){return this._bigTiff?this.readUint64(p):this.readUint32(p)}}G.default=y};
shadow$provide[292]=function(sa,F,ob,G){ob.exports=Worker};
shadow$provide[293]=function(sa,F,ob,G){var y=F(21).Buffer;"use strict";sa=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(G,"__esModule",{value:!0});G.create=void 0;const p=sa(F(292));G.create=function(){return new p.default("undefined"===typeof Blob?"data:application/javascript;base64,"+y.from('function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});',
"binary").toString("base64"):URL.createObjectURL(new Blob(['function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});'],
{type:"application/javascript"})))}};
shadow$provide[294]=function(sa,F,ob,G){var y=this&&this.__createBinding||(Object.create?function(k,f,e,d){void 0===d&&(d=e);Object.defineProperty(k,d,{enumerable:!0,get:function(){return f[e]}})}:function(k,f,e,d){void 0===d&&(d=e);k[d]=f[e]}),p=this&&this.__setModuleDefault||(Object.create?function(k,f){Object.defineProperty(k,"default",{enumerable:!0,value:f})}:function(k,f){k["default"]=f}),n=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var f={};if(null!=k)for(var e in k)"default"!==
e&&Object.prototype.hasOwnProperty.call(k,e)&&y(f,k,e);p(f,k);return f};Object.defineProperty(G,"__esModule",{value:!0});const v=F(287),r="undefined"!==typeof navigator?navigator.hardwareConcurrency||2:2;class h{constructor(k=r,f){this._awaitingDecoder=this.workers=null;this.size=k;this.messageId=0;k&&(this._awaitingDecoder=f?Promise.resolve(f):new Promise(e=>{Promise.resolve().then(()=>n(F(293))).then(d=>{e(d.create)})}),this._awaitingDecoder.then(e=>{this._awaitingDecoder=null;this.workers=[];for(let d=
0;d<k;d++)this.workers.push({worker:e(),idle:!0})}))}decode(k,f){const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){e._awaitingDecoder&&(yield e._awaitingDecoder);return 0===e.size?(0,v.getDecoder)(k).then(d=>d.decode(k,f)):new Promise(d=>{const a=e.workers.find(m=>m.idle)||e.workers[Math.floor(Math.random()*e.size)];a.idle=!1;const c=e.messageId++,b=m=>{m.data.id===c&&(a.idle=!0,d(m.data.decoded),a.worker.removeEventListener("message",b))};a.worker.addEventListener("message",
b);a.worker.postMessage({fileDirectory:k,buffer:f,id:c},[f])})})}destroy(){this.workers&&(this.workers.forEach(k=>{k.worker.terminate()}),this.workers=null)}}G.default=h};
shadow$provide[295]=function(sa,F,ob,G){function y(v){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(v);const r={};for(const [h,k]of v)r[h.toLowerCase()]=k;return r}function p(v){v=v.split("\r\n").map(r=>{r=r.split(":").map(h=>h.trim());r[0]=r[0].toLowerCase();return r});return y(v)}function n(v){let r,h,k;v&&([,r,h,k]=v.match(/bytes (\d+)-(\d+)\/(\d+)/),r=parseInt(r,10),h=parseInt(h,10),k=parseInt(k,10));return{start:r,end:h,total:k}}Object.defineProperty(G,"__esModule",{value:!0});
G.parseByteRanges=G.parseContentRange=G.parseContentType=void 0;G.parseContentType=function(v){const [r,...h]=v.split(";").map(k=>k.trim());v=h.map(k=>k.split("\x3d"));return{type:r,params:y(v)}};G.parseContentRange=n;G.parseByteRanges=function(v,r){var h=null;const k=new TextDecoder("ascii"),f=[];r=`--${r}`;const e=`${r}--`;for(var d=0;10>d;++d)k.decode(new Uint8Array(v,d,r.length))===r&&(h=d);if(null===h)throw Error("Could not find initial boundary");for(;h<v.byteLength;){d=k.decode(new Uint8Array(v,
h,Math.min(r.length+1024,v.byteLength-h)));if(0===d.length||d.startsWith(e))break;if(!d.startsWith(r))throw Error("Part does not start with boundary");d=d.substr(r.length+2);if(0===d.length)break;var a=d.indexOf("\r\n\r\n");d=p(d.substr(0,a));const {start:c,end:b,total:m}=n(d["content-range"]);h=h+r.length+a+4;a=parseInt(b,10)+1-parseInt(c,10);f.push({headers:d,data:v.slice(h,h+a),offset:c,length:a,fileSize:m});h=h+a+4}return f}};
shadow$provide[296]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.BaseSource=void 0;class y{fetch(p,n){const v=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return Promise.all(p.map(r=>v.fetchSlice(r,n)))})}fetchSlice(p){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error(`fetching of slice ${p} not possible, not implemented`);})}get fileSize(){return null}close(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){})}}
G.BaseSource=y};
shadow$provide[297]=function(sa,F,ob,G){ob.exports=function(y){y.prototype[Symbol.iterator]=function*(){for(let p=this.head;p;p=p.next)yield p.value}}};
shadow$provide[298]=function(sa,F,ob,G){function y(n){var v=this;v instanceof y||(v=new y);v.tail=null;v.head=null;v.length=0;if(n&&"function"===typeof n.forEach)n.forEach(function(k){v.push(k)});else if(0<arguments.length)for(var r=0,h=arguments.length;r<h;r++)v.push(arguments[r]);return v}function p(n,v,r,h){if(!(this instanceof p))return new p(n,v,r,h);this.list=h;this.value=n;v?(v.next=this,this.prev=v):this.prev=null;r?(r.prev=this,this.next=r):this.next=null}ob.exports=y;y.Node=p;y.create=y;
y.prototype.removeNode=function(n){if(n.list!==this)throw Error("removing node which does not belong to this list");var v=n.next,r=n.prev;v&&(v.prev=r);r&&(r.next=v);n===this.head&&(this.head=v);n===this.tail&&(this.tail=r);n.list.length--;n.next=null;n.prev=null;n.list=null;return v};y.prototype.unshiftNode=function(n){if(n!==this.head){n.list&&n.list.removeNode(n);var v=this.head;n.list=this;if(n.next=v)v.prev=n;this.head=n;this.tail||(this.tail=n);this.length++}};y.prototype.pushNode=function(n){if(n!==
this.tail){n.list&&n.list.removeNode(n);var v=this.tail;n.list=this;if(n.prev=v)v.next=n;this.tail=n;this.head||(this.head=n);this.length++}};y.prototype.push=function(){for(var n=0,v=arguments.length;n<v;n++)this.tail=new p(arguments[n],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};y.prototype.unshift=function(){for(var n=0,v=arguments.length;n<v;n++)this.head=new p(arguments[n],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};
y.prototype.pop=function(){if(this.tail){var n=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return n}};y.prototype.shift=function(){if(this.head){var n=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return n}};y.prototype.forEach=function(n,v){v=v||this;for(var r=this.head,h=0;null!==r;h++)n.call(v,r.value,h,this),r=r.next};y.prototype.forEachReverse=function(n,v){v=v||this;for(var r=this.tail,h=this.length-
1;null!==r;h--)n.call(v,r.value,h,this),r=r.prev};y.prototype.get=function(n){for(var v=0,r=this.head;null!==r&&v<n;v++)r=r.next;if(v===n&&null!==r)return r.value};y.prototype.getReverse=function(n){for(var v=0,r=this.tail;null!==r&&v<n;v++)r=r.prev;if(v===n&&null!==r)return r.value};y.prototype.map=function(n,v){v=v||this;for(var r=new y,h=this.head;null!==h;)r.push(n.call(v,h.value,this)),h=h.next;return r};y.prototype.mapReverse=function(n,v){v=v||this;for(var r=new y,h=this.tail;null!==h;)r.push(n.call(v,
h.value,this)),h=h.prev;return r};y.prototype.reduce=function(n,v){var r=this.head;if(1<arguments.length)var h=v;else if(this.head)r=this.head.next,h=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var k=0;null!==r;k++)h=n(h,r.value,k),r=r.next;return h};y.prototype.reduceReverse=function(n,v){var r=this.tail;if(1<arguments.length)var h=v;else if(this.tail)r=this.tail.prev,h=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var k=this.length-1;null!==r;k--)h=n(h,r.value,k),r=r.prev;return h};y.prototype.toArray=function(){for(var n=Array(this.length),v=0,r=this.head;null!==r;v++)n[v]=r.value,r=r.next;return n};y.prototype.toArrayReverse=function(){for(var n=Array(this.length),v=0,r=this.tail;null!==r;v++)n[v]=r.value,r=r.prev;return n};y.prototype.slice=function(n,v){v=v||this.length;0>v&&(v+=this.length);n=n||0;0>n&&(n+=this.length);var r=new y;if(v<n||0>v)return r;0>n&&(n=0);v>this.length&&(v=this.length);for(var h=
0,k=this.head;null!==k&&h<n;h++)k=k.next;for(;null!==k&&h<v;h++,k=k.next)r.push(k.value);return r};y.prototype.sliceReverse=function(n,v){v=v||this.length;0>v&&(v+=this.length);n=n||0;0>n&&(n+=this.length);var r=new y;if(v<n||0>v)return r;0>n&&(n=0);v>this.length&&(v=this.length);for(var h=this.length,k=this.tail;null!==k&&h>v;h--)k=k.prev;for(;null!==k&&h>n;h--,k=k.prev)r.push(k.value);return r};y.prototype.splice=function(n,v,...r){n>this.length&&(n=this.length-1);0>n&&(n=this.length+n);for(var h=
0,k=this.head;null!==k&&h<n;h++)k=k.next;n=[];for(h=0;k&&h<v;h++)n.push(k.value),k=this.removeNode(k);null===k&&(k=this.tail);k!==this.head&&k!==this.tail&&(k=k.prev);for(h=0;h<r.length;h++)v=k,k=r[h],v=v===this.head?new p(k,null,v,this):new p(k,v,v.next,this),null===v.next&&(this.tail=v),null===v.prev&&(this.head=v),this.length++,k=v;return n};y.prototype.reverse=function(){for(var n=this.head,v=this.tail,r=n;null!==r;r=r.prev){var h=r.prev;r.prev=r.next;r.next=h}this.head=v;this.tail=n;return this};
try{F(297)(y)}catch(n){}};
shadow$provide[299]=function(sa,F,ob,G){const y=F(298),p=Symbol("max"),n=Symbol("length"),v=Symbol("lengthCalculator"),r=Symbol("allowStale"),h=Symbol("maxAge"),k=Symbol("dispose"),f=Symbol("noDisposeOnSet"),e=Symbol("lruList"),d=Symbol("cache"),a=Symbol("updateAgeOnGet"),c=()=>1;class b{constructor(x){"number"===typeof x&&(x={max:x});x||(x={});if(x.max&&("number"!==typeof x.max||0>x.max))throw new TypeError("max must be a non-negative number");this[p]=x.max||Infinity;const q=x.length||c;this[v]=
"function"!==typeof q?c:q;this[r]=x.stale||!1;if(x.maxAge&&"number"!==typeof x.maxAge)throw new TypeError("maxAge must be a number");this[h]=x.maxAge||0;this[k]=x.dispose;this[f]=x.noDisposeOnSet||!1;this[a]=x.updateAgeOnGet||!1;this.reset()}set max(x){if("number"!==typeof x||0>x)throw new TypeError("max must be a non-negative number");this[p]=x||Infinity;u(this)}get max(){return this[p]}set allowStale(x){this[r]=!!x}get allowStale(){return this[r]}set maxAge(x){if("number"!==typeof x)throw new TypeError("maxAge must be a non-negative number");
this[h]=x;u(this)}get maxAge(){return this[h]}set lengthCalculator(x){"function"!==typeof x&&(x=c);x!==this[v]&&(this[v]=x,this[n]=0,this[e].forEach(q=>{q.length=this[v](q.value,q.key);this[n]+=q.length}));u(this)}get lengthCalculator(){return this[v]}get length(){return this[n]}get itemCount(){return this[e].length}rforEach(x,q){q=q||this;for(let H=this[e].tail;null!==H;){const M=H.prev;A(this,x,H,q);H=M}}forEach(x,q){q=q||this;for(let H=this[e].head;null!==H;){const M=H.next;A(this,x,H,q);H=M}}keys(){return this[e].toArray().map(x=>
x.key)}values(){return this[e].toArray().map(x=>x.value)}reset(){this[k]&&this[e]&&this[e].length&&this[e].forEach(x=>this[k](x.key,x.value));this[d]=new Map;this[e]=new y;this[n]=0}dump(){return this[e].map(x=>z(this,x)?!1:{k:x.key,v:x.value,e:x.now+(x.maxAge||0)}).toArray().filter(x=>x)}dumpLru(){return this[e]}set(x,q,H){if((H=H||this[h])&&"number"!==typeof H)throw new TypeError("maxAge must be a number");const M=H?Date.now():0,R=this[v](q,x);if(this[d].has(x)){if(R>this[p])return C(this,this[d].get(x)),
!1;const Z=this[d].get(x).value;if(this[k]&&!this[f])this[k](x,Z.value);Z.now=M;Z.maxAge=H;Z.value=q;this[n]+=R-Z.length;Z.length=R;this.get(x);u(this);return!0}H=new J(x,q,R,M,H);if(H.length>this[p]){if(this[k])this[k](x,q);return!1}this[n]+=H.length;this[e].unshift(H);this[d].set(x,this[e].head);u(this);return!0}has(x){if(!this[d].has(x))return!1;x=this[d].get(x).value;return!z(this,x)}get(x){return m(this,x,!0)}peek(x){return m(this,x,!1)}pop(){const x=this[e].tail;if(!x)return null;C(this,x);
return x.value}del(x){C(this,this[d].get(x))}load(x){this.reset();const q=Date.now();for(let M=x.length-1;0<=M;M--){const R=x[M];var H=R.e||0;0===H?this.set(R.k,R.v):(H-=q,0<H&&this.set(R.k,R.v,H))}}prune(){this[d].forEach((x,q)=>m(this,q,!1))}}const m=(x,q,H)=>{if(q=x[d].get(q)){const M=q.value;if(z(x,M)){if(C(x,q),!x[r])return}else H&&(x[a]&&(q.value.now=Date.now()),x[e].unshiftNode(q));return M.value}},z=(x,q)=>{if(!q||!q.maxAge&&!x[h])return!1;const H=Date.now()-q.now;return q.maxAge?H>q.maxAge:
x[h]&&H>x[h]},u=x=>{if(x[n]>x[p])for(let q=x[e].tail;x[n]>x[p]&&null!==q;){const H=q.prev;C(x,q);q=H}},C=(x,q)=>{if(q){const H=q.value;if(x[k])x[k](H.key,H.value);x[n]-=H.length;x[d].delete(H.key);x[e].removeNode(q)}};class J{constructor(x,q,H,M,R){this.key=x;this.value=q;this.length=H;this.now=M;this.maxAge=R||0}}const A=(x,q,H,M)=>{let R=H.value;z(x,R)&&(C(x,H),x[r]||(R=void 0));R&&q.call(M,R.value,R.key,x)};ob.exports=b};
shadow$provide[300]=function(sa,F,ob,G){function y(r){const h=[],{length:k}=r;for(let f=0;f<k;f++)h.push(r[f]);return h}function p(r){return r.length?y(r).map(p):r}Object.defineProperty(G,"__esModule",{value:!0});G.AggregateError=G.CustomAggregateError=G.AbortError=G.zip=G.wait=G.parseContentRange=G.toArrayRecursively=G.toArray=G.times=G.range=G.invert=G.forEach=G.endsWith=G.chunk=G.assign=void 0;G.assign=function(r,h){for(const k in h)h.hasOwnProperty(k)&&(r[k]=h[k])};G.chunk=function(r,h){const k=
[],f=r.length;for(let e=0;e<f;e+=h){const d=[];for(let a=e;a<e+h;a++)d.push(r[a]);k.push(d)}return k};G.endsWith=function(r,h){return r.length<h.length?!1:r.substr(r.length-h.length)===h};G.forEach=function(r,h){const {length:k}=r;for(let f=0;f<k;f++)h(r[f],f)};G.invert=function(r){const h={};for(const k in r)r.hasOwnProperty(k)&&(h[r[k]]=k);return h};G.range=function(r){const h=[];for(let k=0;k<r;k++)h.push(k);return h};G.times=function(r,h){const k=[];for(let f=0;f<r;f++)k.push(h(f));return k};
G.toArray=y;G.toArrayRecursively=p;G.parseContentRange=function(r){if(!r)return null;if("string"!==typeof r)throw Error("invalid argument");let h=r.match(/^(\w*) /);const k=h&&h[1];return(h=r.match(/(\d+)-(\d+)\/(\d+|\*)/))?{unit:k,first:Number.parseInt(h[1],10),last:Number.parseInt(h[2],10),length:"*"===h[3]?null:Number.parseInt(h[3],10)}:(h=r.match(/(\d+|\*)/))?{unit:k,first:null,last:null,length:"*"===h[1]?null:Number.parseInt(h[1],10)}:null};G.wait=function(r){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise(h=>
setTimeout(h,r))})};G.zip=function(r,h){r=Array.isArray(r)?r:Array.from(r);const k=Array.isArray(h)?h:Array.from(h);return r.map((f,e)=>[f,k[e]])};class n extends Error{constructor(r){super(r);Error.captureStackTrace&&Error.captureStackTrace(this,n);this.name="AbortError"}}G.AbortError=n;class v extends Error{constructor(r,h){super(h);this.errors=r;this.message=h;this.name="AggregateError"}}G.CustomAggregateError=v;G.AggregateError=v};
shadow$provide[301]=function(sa,F,ob,G){sa=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{"default":h}};Object.defineProperty(G,"__esModule",{value:!0});G.BlockedSource=void 0;const y=sa(F(299));sa=F(296);const p=F(300);class n{constructor(h,k,f=null){this.offset=h;this.length=k;this.data=f}get top(){return this.offset+this.length}}class v{constructor(h,k,f){this.offset=h;this.length=k;this.blockIds=f}}class r extends sa.BaseSource{constructor(h,{blockSize:k=65536,cacheSize:f=100}=
{}){super();this.source=h;this.blockSize=k;this.blockCache=new y.default({max:f});this.blockRequests=new Map;this.blockIdsToFetch=new Set}get fileSize(){return this.source.fileSize}fetch(h,k){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const e=new Map;var d=new Map,a=new Set;for(const {offset:u,length:C}of h){var c=u+C,{fileSize:b}=f;null!==b&&(c=Math.min(c,b));for(b=Math.floor(u/f.blockSize)*f.blockSize;b<c;b+=f.blockSize){const J=Math.floor(b/f.blockSize);f.blockCache.has(J)?
e.set(J,f.blockCache.get(J)):f.blockRequests.has(J)?d.set(J,f.blockRequests.get(J)):(f.blockIdsToFetch.has(J)||f.blockIdsToFetch.add(J),a.add(J))}}yield(0,p.wait)();f.fetchBlocks(k);for(var m of a)if(a=f.blockRequests.get(m),c=f.blockCache.get(m),a)d.set(m,a);else if(c)e.set(m,c);else throw Error(`Block ${m} is not in the block requests`);m=yield Promise.allSettled(Array.from(d.values()));if(m.some(u=>"rejected"===u.status)){a=new Set;for(const [u,C]of(0,p.zip)(d.keys(),m)){const {rejected:J,reason:A}=
C;J&&"AbortError"===A.name&&A.signal!==k&&(f.blockIdsToFetch.add(u),a.add(u))}if(0<f.blockIdsToFetch.length){f.fetchBlocks(k);for(var z of a){m=f.blockRequests.get(z);if(!m)throw Error(`Block ${z} is not in the block requests`);d.set(z,m)}m=yield Promise.allSettled(Array.from(d.values()))}}if(m.some(u=>"rejected"===u.status)){if(k&&k.aborted)throw new p.AbortError("Request was aborted");throw new p.AggregateError(m.filter(u=>"rejected"===u.status).map(u=>u.reason),"Request failed");}z=m.map(u=>u.value);
d=new Map((0,p.zip)(Array.from(d.keys()),z));for(const [u,C]of e)d.set(u,C);return f.readSliceData(h,d)})}fetchBlocks(h){if(0<this.blockIdsToFetch.size){const f=this.groupBlocks(this.blockIdsToFetch),e=this.source.fetch(f,h);for(let d=0;d<f.length;++d){var k=f[d];for(const a of k.blockIds)k=(()=>{const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{const b=(yield e)[d],m=a*c.blockSize,z=m-b.offset,u=b.data.slice(z,Math.min(z+c.blockSize,b.data.byteLength)),C=new n(m,u.byteLength,
u);c.blockCache.set(a,C);return C}catch(b){throw"AbortError"===b.name&&(b.signal=h),b;}finally{c.blockRequests.delete(a)}})})(),this.blockRequests.set(a,k)}this.blockIdsToFetch.clear()}}groupBlocks(h){h=Array.from(h).sort((d,a)=>d-a);if(0===h.length)return[];let k=[],f=null;const e=[];for(const d of h)null===f||f+1===d?k.push(d):(e.push(new v(k[0]*this.blockSize,k.length*this.blockSize,k)),k=[d]),f=d;e.push(new v(k[0]*this.blockSize,k.length*this.blockSize,k));return e}readSliceData(h,k){return h.map(f=>
{const e=f.offset+f.length;var d=Math.floor(f.offset/this.blockSize);const a=Math.floor((f.offset+f.length)/this.blockSize),c=new ArrayBuffer(f.length),b=new Uint8Array(c);for(;d<=a;++d){var m=k.get(d);const z=m.offset-f.offset,u=m.top-e;let C=0,J=0;0>z?C=-z:0<z&&(J=z);m=new Uint8Array(m.data,C,0>u?m.length-C:e-m.offset-C);b.set(m,J)}return c})}}G.BlockedSource=r};
shadow$provide[302]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.BaseClient=G.BaseResponse=void 0;class y{get ok(){return 200<=this.status&&299>=this.status}get status(){throw Error("not implemented");}getHeader(n){throw Error("not implemented");}getData(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("not implemented");})}}G.BaseResponse=y;class p{constructor(n){this.url=n}request({}={}){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("request is not implemented");
})}}G.BaseClient=p};
shadow$provide[303]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.FetchClient=void 0;sa=F(302);class y extends sa.BaseResponse{constructor(n){super();this.response=n}get status(){return this.response.status}getHeader(n){return this.response.headers.get(n)}getData(){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return n.response.arrayBuffer?yield n.response.arrayBuffer():(yield n.response.buffer()).buffer})}}class p extends sa.BaseClient{constructor(n,
v){super(n);this.credentials=v}request({headers:n,credentials:v,signal:r}={}){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const k=yield fetch(h.url,{headers:n,credentials:v,signal:r});return new y(k)})}}G.FetchClient=p};
shadow$provide[304]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.XHRClient=void 0;sa=F(302);const y=F(300);class p extends sa.BaseResponse{constructor(v,r){super();this.xhr=v;this.data=r}get status(){return this.xhr.status}getHeader(v){return this.xhr.getResponseHeader(v)}getData(){const v=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return v.data})}}class n extends sa.BaseClient{constructRequest(v,r){return new Promise((h,k)=>{const f=new XMLHttpRequest;
f.open("GET",this.url);f.responseType="arraybuffer";for(const [e,d]of Object.entries(v))f.setRequestHeader(e,d);f.onload=()=>{h(new p(f,f.response))};f.onerror=k;f.onabort=()=>k(new y.AbortError("Request aborted"));f.send();r&&(r.aborted&&f.abort(),r.addEventListener("abort",()=>f.abort()))})}request({headers:v,signal:r}={}){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield h.constructRequest(v,r)})}}G.XHRClient=n};
shadow$provide[305]=function(sa,F,ob,G){};
shadow$provide[306]=function(sa,F,ob,G){var y=F(21).Buffer;"use strict";sa=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{"default":f}};Object.defineProperty(G,"__esModule",{value:!0});G.HttpClient=void 0;const p=sa(F(305)),n=sa(F(305)),v=sa(F(305));sa=F(302);const r=F(300);class h extends sa.BaseResponse{constructor(f,e){super();this.response=f;this.dataPromise=e}get status(){return this.response.statusCode}getHeader(f){return this.response.headers[f]}getData(){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield f.dataPromise})}}
class k extends sa.BaseClient{constructor(f){super(f);this.parsedUrl=v.default.parse(this.url);this.httpApi="http:"===this.parsedUrl.protocol?p.default:n.default}constructRequest(f,e){return new Promise((d,a)=>{const c=this.httpApi.get(Object.assign({},this.parsedUrl,{headers:f}),b=>{const m=new Promise(z=>{const u=[];b.on("data",C=>{u.push(C)});b.on("end",()=>{const C=y.concat(u).buffer;z(C)});b.on("error",a)});d(new h(b,m))});c.on("error",a);e&&(e.aborted&&c.destroy(new r.AbortError("Request aborted")),
e.addEventListener("abort",()=>c.destroy(new r.AbortError("Request aborted"))))})}request({headers:f,signal:e}={}){const d=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield d.constructRequest(f,e)})}}G.HttpClient=k};
shadow$provide[307]=function(sa,F,ob,G){function y(a,c){var {blockSize:b,cacheSize:m}=c;return null===b?a:new h.BlockedSource(a,b,m)}function p(a,c){var b=void 0===c?{}:c,m=Object.assign({},b);c=void 0===b.headers?{}:b.headers;var z=b.credentials,u=void 0===b.maxRanges?0:b.maxRanges;b=void 0===b.allowFullFile?!1:b.allowFullFile;m=(delete m.headers,delete m.credentials,delete m.maxRanges,delete m.allowFullFile,m);a=new k.FetchClient(a,z);a=new d(a,c,u,b);return y(a,m)}function n(a,c){var b=void 0===
c?{}:c,m=Object.assign({},b);c=void 0===b.headers?{}:b.headers;var z=void 0===b.maxRanges?0:b.maxRanges;b=void 0===b.allowFullFile?!1:b.allowFullFile;m=(delete m.headers,delete m.maxRanges,delete m.allowFullFile,m);a=new f.XHRClient(a);a=new d(a,c,z,b);return y(a,m)}function v(a,c){var b=void 0===c?{}:c,m=Object.assign({},b);c=void 0===b.headers?{}:b.headers;var z=void 0===b.maxRanges?0:b.maxRanges;b=void 0===b.allowFullFile?!1:b.allowFullFile;m=(delete m.headers,delete m.maxRanges,delete m.allowFullFile,
m);a=new e.HttpClient(a);a=new d(a,c,z,b);return y(a,m)}Object.defineProperty(G,"__esModule",{value:!0});G.makeRemoteSource=G.makeHttpSource=G.makeXHRSource=G.makeFetchSource=void 0;const r=F(295);sa=F(296);const h=F(301),k=F(303),f=F(304),e=F(306);class d extends sa.BaseSource{constructor(a,c,b,m){super();this.client=a;this.headers=c;this.maxRanges=b;this.allowFullFile=m;this._fileSize=null}fetch(a,c){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return b.maxRanges>=
a.length?b.fetchSlices(a,c):Promise.all(a.map(m=>b.fetchSlice(m,c)))})}fetchSlices(a,c){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var m=yield b.client.request({headers:Object.assign({},b.headers,{Range:`bytes=${a.map(u=>{var {offset:C,length:J}=u;return`${C}-${C+J}`}).join(",")}`}),signal:c});if(m.ok){if(206===m.status){const {type:u,params:C}=(0,r.parseContentType)(m.getHeader("content-type"));if("multipart/byteranges"===u)return m=(0,r.parseByteRanges)(yield m.getData(),
C.boundary),b._fileSize=m[0].fileSize||null,m;var z=yield m.getData();const {start:J,end:A,total:x}=(0,r.parseContentRange)(m.getHeader("content-range"));b._fileSize=x||null;m=[{data:z,offset:J,length:A-J}];return 1<a.length?(z=yield Promise.all(a.slice(1).map(q=>b.fetchSlice(q,c))),m.concat(z)):m}if(!b.allowFullFile)throw Error("Server responded with full file");m=yield m.getData();b._fileSize=m.byteLength;return[{data:m,offset:0,length:m.byteLength}]}throw Error("Error fetching data.");})}fetchSlice(a,
c){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {offset:m,length:z}=a;var u=yield b.client.request({headers:Object.assign({},b.headers,{Range:`bytes=${m}-${m+z}`}),signal:c});if(u.ok){if(206===u.status){var C=yield u.getData();({total:u}=(0,r.parseContentRange)(u.getHeader("content-range")));b._fileSize=u||null;return{data:C,offset:m,length:z}}if(!b.allowFullFile)throw Error("Server responded with full file");C=yield u.getData();b._fileSize=C.byteLength;return{data:C,
offset:0,length:C.byteLength}}throw Error("Error fetching data.");})}get fileSize(){return this._fileSize}}G.makeFetchSource=p;G.makeXHRSource=n;G.makeHttpSource=v;G.makeRemoteSource=function(a,c){var b=void 0===c?{}:c;c=Object.assign({},b);b=void 0===b.forceXHR?!1:b.forceXHR;c=(delete c.forceXHR,c);return"function"!==typeof fetch||b?"undefined"!==typeof XMLHttpRequest?n(a,c):v(a,c):p(a,c)}};
shadow$provide[308]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.makeBufferSource=void 0;sa=F(296);const y=F(300);class p extends sa.BaseSource{constructor(n){super();this.arrayBuffer=n}fetchSlice(n,v){if(v&&v.aborted)throw new y.AbortError("Request aborted");return this.arrayBuffer.slice(n.offset,n.offset+n.length)}}G.makeBufferSource=function(n){return new p(n)}};
shadow$provide[309]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.makeFileReaderSource=void 0;sa=F(296);class y extends sa.BaseSource{constructor(p){super();this.file=p}fetchSlice(p,n){const v=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise((r,h)=>{const k=v.file.slice(p.offset,p.offset+p.length),f=new FileReader;f.onload=e=>r(e.target.result);f.onerror=h;f.onabort=h;f.readAsArrayBuffer(k);n&&n.addEventListener("abort",()=>f.abort())})})}}
G.makeFileReaderSource=function(p){return new y(p)}};
shadow$provide[310]=function(sa,F,ob,G){function y(k){return new Promise((f,e)=>{r.default.close(k,d=>{d?e(d):f()})})}function p(k,f,e){return new Promise((d,a)=>{r.default.open(k,f,e,(c,b)=>{c?a(c):d(b)})})}function n(...k){return new Promise((f,e)=>{r.default.read(...k,(d,a,c)=>{d?e(d):f({bytesRead:a,buffer:c})})})}var v=F(21).Buffer;"use strict";sa=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(G,"__esModule",{value:!0});G.makeFileSource=void 0;
const r=sa(F(305));F=F(296);class h extends F.BaseSource{constructor(k){super();this.path=k;this.openRequest=p(k,"r")}fetchSlice(k){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var e=yield f.openRequest;({buffer:e}=yield n(e,v.alloc(k.length),0,k.length,k.offset));return e.buffer})}close(){const k=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=yield k.openRequest;yield y(f)})}}G.makeFileSource=function(k){return new h(k)}};
shadow$provide[311]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.writeGeotiff=void 0;const y=F(274),p=F(300);sa=(0,p.invert)(y.fieldTagNames);F=(0,p.invert)(y.geoKeyNames);const n={};(0,p.assign)(n,sa);(0,p.assign)(n,F);const v=(0,p.invert)(y.fieldTypeNames),r={nextZero:(a,c)=>{for(;0!==a[c];)c++;return c},readUshort:(a,c)=>a[c]<<8|a[c+1],readShort:(a,c)=>{const b=r.ui8;b[0]=a[c+1];b[1]=a[c+0];return r.i16[0]},readInt:(a,c)=>{const b=r.ui8;b[0]=a[c+3];b[1]=a[c+2];b[2]=a[c+
1];b[3]=a[c+0];return r.i32[0]},readUint:(a,c)=>{const b=r.ui8;b[0]=a[c+3];b[1]=a[c+2];b[2]=a[c+1];b[3]=a[c+0];return r.ui32[0]},readASCII:(a,c,b)=>b.map(m=>String.fromCharCode(a[c+m])).join(""),readFloat:(a,c)=>{const b=r.ui8;(0,p.times)(4,m=>{b[m]=a[c+3-m]});return r.fl32[0]},readDouble:(a,c)=>{const b=r.ui8;(0,p.times)(8,m=>{b[m]=a[c+7-m]});return r.fl64[0]},writeUshort:(a,c,b)=>{a[c]=b>>8&255;a[c+1]=b&255},writeUint:(a,c,b)=>{a[c]=b>>24&255;a[c+1]=b>>16&255;a[c+2]=b>>8&255;a[c+3]=b>>0&255},writeASCII:(a,
c,b)=>{(0,p.times)(b.length,m=>{a[c+m]=b.charCodeAt(m)})},ui8:new Uint8Array(8)};r.fl64=new Float64Array(r.ui8.buffer);r.writeDouble=(a,c,b)=>{r.fl64[0]=b;(0,p.times)(8,m=>{a[c+m]=r.ui8[7-m]})};const h=(a,c,b,m)=>{var z=Object.keys(m).filter(J=>void 0!==J&&null!==J&&"undefined"!==J);a.writeUshort(c,b,z.length);b+=2;let u=b+12*z.length+4;for(const J of z){var C=null;"number"===typeof J?C=J:"string"===typeof J&&(C=parseInt(J,10));z=y.fieldTagTypes[C];const A=v[z];if(null==z||void 0===z||"undefined"===
typeof z)throw Error(`unknown type of tag: ${C}`);let x=m[J];if(void 0===x)throw Error(`failed to get value for key ${J}`);"ASCII"===z&&"string"===typeof x&&!1===(0,p.endsWith)(x,"\x00")&&(x+="\x00");const q=x.length;a.writeUshort(c,b,C);b+=2;a.writeUshort(c,b,A);b+=2;a.writeUint(c,b,q);b+=4;C=[-1,1,1,2,4,8,0,0,0,0,0,0,8][A]*q;let H=b;4<C&&(a.writeUint(c,b,u),H=u);"ASCII"===z?a.writeASCII(c,H,x):"SHORT"===z?(0,p.times)(q,M=>{a.writeUshort(c,H+2*M,x[M])}):"LONG"===z?(0,p.times)(q,M=>{a.writeUint(c,
H+4*M,x[M])}):"RATIONAL"===z?(0,p.times)(q,M=>{a.writeUint(c,H+8*M,Math.round(1E4*x[M]));a.writeUint(c,H+8*M+4,1E4)}):"DOUBLE"===z&&(0,p.times)(q,M=>{a.writeDouble(c,H+8*M,x[M])});4<C&&(C+=C&1,u+=C);b+=4}return[b,u]},k=a=>{const c=new Uint8Array(1E3);var b=4;const m=r;c[0]=77;c[1]=77;c[3]=42;let z=8;m.writeUint(c,b,z);b+=4;a.forEach((u,C)=>{u=h(m,c,z,u);z=u[1];C<a.length-1&&m.writeUint(c,u[0],z)});if(c.slice)return c.slice(0,z).buffer;b=new Uint8Array(z);for(let u=0;u<z;u++)b[u]=c[u];return b.buffer},
f=(a,c,b,m)=>{if(void 0===b||null===b)throw Error(`you passed into encodeImage a width of type ${b}`);if(void 0===c||null===c)throw Error(`you passed into encodeImage a width of type ${c}`);const z={256:[c],257:[b],273:[1E3],278:[b],305:"geotiff.js"};if(m)for(const J in m)m.hasOwnProperty(J)&&(z[J]=m[J]);const u=new Uint8Array(k([z]));a=new Uint8Array(a);const C=new Uint8Array(1E3+c*b*z[277]);(0,p.times)(u.length,J=>{C[J]=u[J]});(0,p.forEach)(a,(J,A)=>{C[1E3+A]=J});return C.buffer},e=a=>{const c=
{};for(const b in a)"StripOffsets"!==b&&(n[b]||console.error(b,"not in name2code:",Object.keys(n)),c[n[b]]=a[b]);return c},d=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]];G.writeGeotiff=function(a,c){let b,m,z,u;"number"===typeof a[0]?(b=c.height||c.ImageLength,z=c.width||c.ImageWidth,m=a.length/(b*z),u=a):(m=a.length,b=a[0].length,z=a[0][0].length,u=[],(0,p.times)(b,J=>{(0,p.times)(z,A=>{(0,p.times)(m,x=>{u.push(a[x][J][A])})})}));c.ImageLength=b;delete c.height;c.ImageWidth=z;
delete c.width;c.BitsPerSample||(c.BitsPerSample=(0,p.times)(m,()=>8));d.forEach(J=>{const A=J[0];c[A]||(c[A]=J[1])});c.PhotometricInterpretation||(c.PhotometricInterpretation=3===c.BitsPerSample.length?2:1);c.SamplesPerPixel||(c.SamplesPerPixel=[m]);c.StripByteCounts||(c.StripByteCounts=[m*b*z]);c.ModelPixelScale||(c.ModelPixelScale=[360/z,180/b,0]);c.SampleFormat||(c.SampleFormat=(0,p.times)(m,()=>1));c.hasOwnProperty("GeographicTypeGeoKey")||c.hasOwnProperty("ProjectedCSTypeGeoKey")||(c.GeographicTypeGeoKey=
4326,c.ModelTiepoint=[0,0,0,-180,90,0],c.GeogCitationGeoKey="WGS 84",c.GTModelTypeGeoKey=2);var C=Object.keys(c).filter(J=>(0,p.endsWith)(J,"GeoKey")).sort((J,A)=>n[J]-n[A]);if(!c.GeoAsciiParams){let J="";C.forEach(A=>{"ASCII"===y.fieldTagTypes[Number(n[A])]&&(J+=`${c[A].toString()}\u0000`)});0<J.length&&(c.GeoAsciiParams=J)}if(!c.GeoKeyDirectory){const J=[1,1,0,C.length];C.forEach(A=>{const x=Number(n[A]);J.push(x);let q,H,M;"SHORT"===y.fieldTagTypes[x]?(q=1,H=0,M=c[A]):"GeogCitationGeoKey"===A?
(q=c.GeoAsciiParams.length,H=Number(n.GeoAsciiParams),M=0):console.log(`[geotiff.js] couldn't get TIFFTagLocation for ${A}`);J.push(H);J.push(q);J.push(M)});c.GeoKeyDirectory=J}for(const J in C)C.hasOwnProperty(J)&&delete c[J];"Compression ExtraSamples GeographicTypeGeoKey GTModelTypeGeoKey GTRasterTypeGeoKey ImageLength ImageWidth Orientation PhotometricInterpretation ProjectedCSTypeGeoKey PlanarConfiguration ResolutionUnit SamplesPerPixel XPosition YPosition".split(" ").forEach(J=>{if(c[J]){var A=
c[J];A=Array.isArray(A)?A:[A];c[J]=A}});C=e(c);return f(u,z,b,C)}};
shadow$provide[312]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.timeEnd=G.time=G.error=G.warn=G.info=G.log=G.debug=G.setLogger=void 0;class y{log(){}debug(){}info(){}warn(){}error(){}time(){}timeEnd(){}}let p=new y;G.setLogger=function(n=new y){p=n};G.debug=function(...n){return p.debug(...n)};G.log=function(...n){return p.log(...n)};G.info=function(...n){return p.info(...n)};G.warn=function(...n){return p.warn(...n)};G.error=function(...n){return p.error(...n)};G.time=
function(...n){return p.time(...n)};G.timeEnd=function(...n){return p.timeEnd(...n)}};
shadow$provide[313]=function(sa,F,ob,G){function y(q){switch(q){case c.fieldTypes.BYTE:case c.fieldTypes.ASCII:case c.fieldTypes.SBYTE:case c.fieldTypes.UNDEFINED:return 1;case c.fieldTypes.SHORT:case c.fieldTypes.SSHORT:return 2;case c.fieldTypes.LONG:case c.fieldTypes.SLONG:case c.fieldTypes.FLOAT:case c.fieldTypes.IFD:return 4;case c.fieldTypes.RATIONAL:case c.fieldTypes.SRATIONAL:case c.fieldTypes.DOUBLE:case c.fieldTypes.LONG8:case c.fieldTypes.SLONG8:case c.fieldTypes.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${q}`);
}}function p(q,H,M,R){let Z,T;const ba=y(H);switch(H){case c.fieldTypes.BYTE:case c.fieldTypes.ASCII:case c.fieldTypes.UNDEFINED:Z=new Uint8Array(M);T=q.readUint8;break;case c.fieldTypes.SBYTE:Z=new Int8Array(M);T=q.readInt8;break;case c.fieldTypes.SHORT:Z=new Uint16Array(M);T=q.readUint16;break;case c.fieldTypes.SSHORT:Z=new Int16Array(M);T=q.readInt16;break;case c.fieldTypes.LONG:case c.fieldTypes.IFD:Z=new Uint32Array(M);T=q.readUint32;break;case c.fieldTypes.SLONG:Z=new Int32Array(M);T=q.readInt32;
break;case c.fieldTypes.LONG8:case c.fieldTypes.IFD8:Z=Array(M);T=q.readUint64;break;case c.fieldTypes.SLONG8:Z=Array(M);T=q.readInt64;break;case c.fieldTypes.RATIONAL:Z=new Uint32Array(2*M);T=q.readUint32;break;case c.fieldTypes.SRATIONAL:Z=new Int32Array(2*M);T=q.readInt32;break;case c.fieldTypes.FLOAT:Z=new Float32Array(M);T=q.readFloat32;break;case c.fieldTypes.DOUBLE:Z=new Float64Array(M);T=q.readFloat64;break;default:throw new RangeError(`Invalid field type: ${H}`);}if(H!==c.fieldTypes.RATIONAL&&
H!==c.fieldTypes.SRATIONAL)for(var aa=0;aa<M;++aa)Z[aa]=T.call(q,R+aa*ba);else for(aa=0;aa<M;aa+=2)Z[aa]=T.call(q,R+aa*ba),Z[aa+1]=T.call(q,R+(aa*ba+4));return H===c.fieldTypes.ASCII?(new TextDecoder("utf-8")).decode(Z):Z}var n=this&&this.__createBinding||(Object.create?function(q,H,M,R){void 0===R&&(R=M);Object.defineProperty(q,R,{enumerable:!0,get:function(){return H[M]}})}:function(q,H,M,R){void 0===R&&(R=M);q[R]=H[M]}),v=this&&this.__setModuleDefault||(Object.create?function(q,H){Object.defineProperty(q,
"default",{enumerable:!0,value:H})}:function(q,H){q["default"]=H});sa=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var H={};if(null!=q)for(var M in q)"default"!==M&&Object.prototype.hasOwnProperty.call(q,M)&&n(H,q,M);v(H,q);return H};ob=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{"default":q}};Object.defineProperty(G,"__esModule",{value:!0});G.GeoTIFFImage=G.Pool=G.writeArrayBuffer=G.fromUrls=G.fromBlob=G.fromFile=G.fromArrayBuffer=G.fromUrl=G.MultiGeoTIFF=
G.GeoTIFF=G.setLogger=G.addDecoder=G.getDecoder=G.rgb=G.globals=void 0;const r=ob(F(289));G.GeoTIFFImage=r.default;const h=ob(F(290)),k=ob(F(291));ob=ob(F(294));G.Pool=ob.default;const f=F(307),e=F(308),d=F(309),a=F(310),c=F(274),b=F(311);ob=sa(F(274));G.globals=ob;sa=sa(F(275));G.rgb=sa;const m=F(287);Object.defineProperty(G,"getDecoder",{enumerable:!0,get:function(){return m.getDecoder}});Object.defineProperty(G,"addDecoder",{enumerable:!0,get:function(){return m.addDecoder}});const z=F(312);Object.defineProperty(G,
"setLogger",{enumerable:!0,get:function(){return z.setLogger}});class u{constructor(q,H,M){this.fileDirectory=q;this.geoKeyDirectory=H;this.nextIFDByteOffset=M}}class C extends Error{constructor(q){super(`No image at index ${q}`);this.index=q}}class J{readRasters(q={}){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {window:M,width:R,height:Z}=q;let {resX:T,resY:ba,bbox:aa}=q;const W=yield H.getImage();var X=W,P=yield H.getImageCount(),w=W.getBoundingBox();if(M&&
aa)throw Error('Both "bbox" and "window" passed.');if(R||Z){if(M){const [ka,da]=W.getOrigin(),[la,wa]=W.getResolution();aa=[ka+M[0]*la,da+M[1]*wa,ka+M[2]*la,da+M[3]*wa]}var B=aa||w;if(R){if(T)throw Error("Both width and resX passed");T=(B[2]-B[0])/R}if(Z){if(ba)throw Error("Both width and resY passed");ba=(B[3]-B[1])/Z}}if(T||ba){B=[];for(var K=0;K<P;++K){var U=yield H.getImage(K);const {SubfileType:ka,NewSubfileType:da}=U.fileDirectory;(0===K||2===ka||da&1)&&B.push(U)}B.sort((ka,da)=>ka.getWidth()-
da.getWidth());for(P=0;P<B.length&&!(X=B[P],K=(w[2]-w[0])/X.getWidth(),U=(w[3]-w[1])/X.getHeight(),T&&T>K||ba&&ba>U);++P);}w=M;if(aa){const [ka,da]=W.getOrigin(),[la,wa]=X.getResolution(W);w=[Math.round((aa[0]-ka)/la),Math.round((aa[1]-da)/wa),Math.round((aa[2]-ka)/la),Math.round((aa[3]-da)/wa)];w=[Math.min(w[0],w[2]),Math.min(w[1],w[3]),Math.max(w[0],w[2]),Math.max(w[1],w[3])]}return X.readRasters(Object.assign({},q,{window:w}))})}}class A extends J{constructor(q,H,M,R,Z={}){super();this.source=
q;this.littleEndian=H;this.bigTiff=M;this.firstIFDOffset=R;this.cache=Z.cache||!1;this.ifdRequests=[];this.ghostValues=null}getSlice(q,H){const M=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=M.bigTiff?4048:1024;return new k.default((yield M.source.fetch([{offset:q,length:"undefined"!==typeof H?H:R}]))[0],q,M.littleEndian,M.bigTiff)})}parseFileDirectoryAt(q){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var M=H.bigTiff?20:12;const R=H.bigTiff?
8:2;let Z=yield H.getSlice(q);const T=H.bigTiff?Z.readUint64(q):Z.readUint16(q);var ba=T*M+(H.bigTiff?16:6);Z.covers(q,ba)||(Z=yield H.getSlice(q,ba));ba={};var aa=q+(H.bigTiff?8:2);for(var W=0;W<T;aa+=M,++W){var X=Z.readUint16(aa),P=Z.readUint16(aa+2),w=H.bigTiff?Z.readUint64(aa+4):Z.readUint32(aa+4),B=void 0;B=y(P);var K=aa+(H.bigTiff?12:8);B*w<=(H.bigTiff?8:4)?B=p(Z,P,w,K):(B=Z.readOffset(K),K=y(P)*w,Z.covers(B,K)?B=p(Z,P,w,B):(K=yield H.getSlice(B,K),B=p(K,P,w,B)));P=1===w&&-1===c.arrayFields.indexOf(X)&&
P!==c.fieldTypes.RATIONAL&&P!==c.fieldTypes.SRATIONAL?B[0]:B;ba[c.fieldTagNames[X]]=P}if(W=ba.GeoKeyDirectory)for(aa={},X=4;X<=4*W[3];X+=4){P=c.geoKeyNames[W[X]];K=W[X+1]?c.fieldTagNames[W[X+1]]:null;w=W[X+2];B=W[X+3];if(K){K=ba[K];if("undefined"===typeof K||null===K)throw Error(`Could not get value of geoKey '${P}'.`);"string"===typeof K?K=K.substring(B,B+w-1):K.subarray&&(K=K.subarray(B,B+w),1===w&&(K=K[0]))}else K=B;aa[P]=K}else aa=null;M=Z.readOffset(q+R+M*T);return new u(ba,aa,M)})}requestIFD(q){const H=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(H.ifdRequests[q])return H.ifdRequests[q];if(0===q)return H.ifdRequests[q]=H.parseFileDirectoryAt(H.firstIFDOffset),H.ifdRequests[q];if(!H.ifdRequests[q-1])try{H.ifdRequests[q-1]=H.requestIFD(q-1)}catch(M){if(M instanceof C)throw new C(q);throw M;}H.ifdRequests[q]=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield H.ifdRequests[q-1];if(0===M.nextIFDByteOffset)throw new C(q);return H.parseFileDirectoryAt(M.nextIFDByteOffset)}))();
return H.ifdRequests[q]})}getImage(q=0){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const M=yield H.requestIFD(q);return new r.default(M.fileDirectory,M.geoKeyDirectory,H.dataView,H.littleEndian,H.cache,H.source)})}getImageCount(){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let H=0,M=!0;for(;M;)try{yield q.requestIFD(H),++H}catch(R){if(R instanceof C)M=!1;else throw R;}return H})}getGhostValues(){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var H=
q.bigTiff?16:8;if(q.ghostValues)return q.ghostValues;let M=yield q.getSlice(H,130);if("GDAL_STRUCTURAL_METADATA_SIZE\x3d"===p(M,c.fieldTypes.ASCII,30,H)){var R=p(M,c.fieldTypes.ASCII,130,H).split("\n")[0];R=Number(R.split("\x3d")[1].split(" ")[0])+R.length;130<R&&(M=yield q.getSlice(H,R));H=p(M,c.fieldTypes.ASCII,R,H);q.ghostValues={};H.split("\n").filter(Z=>0<Z.length).map(Z=>Z.split("\x3d")).forEach(([Z,T])=>{q.ghostValues[Z]=T})}return q.ghostValues})}static fromSource(q,H,M){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var R=
(yield q.fetch([{offset:0,length:1024}],M))[0];R=new h.default(R);var Z=R.getUint16(0,0);if(18761===Z)Z=!0;else if(19789===Z)Z=!1;else throw new TypeError("Invalid byte order value.");var T=R.getUint16(2,Z);if(42===T)T=!1;else if(43===T){if(T=!0,8!==R.getUint16(4,Z))throw Error("Unsupported offset byte-size.");}else throw new TypeError("Invalid magic number.");R=T?R.getUint64(8,Z):R.getUint32(4,Z);return new A(q,Z,T,R,H)})}close(){return"function"===typeof this.source.close?this.source.close():!1}}
G.GeoTIFF=A;G.default=A;class x extends J{constructor(q,H){super();this.mainFile=q;this.overviewFiles=H;this.imageFiles=[q].concat(H);this.imageCount=this.fileDirectoriesPerFileParsing=this.fileDirectoriesPerFile=null}parseFileDirectoriesPerFile(){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const H=[q.mainFile.parseFileDirectoryAt(q.mainFile.firstIFDOffset)].concat(q.overviewFiles.map(M=>M.parseFileDirectoryAt(M.firstIFDOffset)));q.fileDirectoriesPerFile=yield Promise.all(H);
return q.fileDirectoriesPerFile})}getImage(q=0){const H=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield H.getImageCount();yield H.parseFileDirectoriesPerFile();var M=0;let R=0;for(let Z=0;Z<H.imageFiles.length;Z++){const T=H.imageFiles[Z];for(let ba=0;ba<H.imageCounts[Z];ba++){if(q===M)return M=yield T.requestIFD(R),new r.default(M.fileDirectory,M.geoKeyDirectory,T.dataView,T.littleEndian,T.cache,T.source);M++;R++}R=0}throw new RangeError("Invalid image index");})}getImageCount(){const q=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(null!==q.imageCount)return q.imageCount;const H=[q.mainFile.getImageCount()].concat(q.overviewFiles.map(M=>M.getImageCount()));q.imageCounts=yield Promise.all(H);q.imageCount=q.imageCounts.reduce((M,R)=>M+R,0);return q.imageCount})}}G.MultiGeoTIFF=x;G.fromUrl=function(q,H={},M){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return A.fromSource((0,f.makeRemoteSource)(q,H),M)})};G.fromArrayBuffer=function(q,H){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return A.fromSource((0,e.makeBufferSource)(q),
H)})};G.fromFile=function(q,H){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return A.fromSource((0,a.makeFileSource)(q),H)})};G.fromBlob=function(q,H){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return A.fromSource((0,d.makeFileReaderSource)(q),H)})};G.fromUrls=function(q,H=[],M={},R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const Z=yield A.fromSource((0,f.makeRemoteSource)(q,M),R),T=yield Promise.all(H.map(ba=>A.fromSource((0,f.makeRemoteSource)(ba,
M))));return new x(Z,T)})};G.writeArrayBuffer=function(q,H){return(0,b.writeGeotiff)(q,H)}};
shadow$provide[314]=function(sa,F,ob,G){function y(C){return C&&C.__esModule?C:{default:C}}function p(C){try{return C.getBoundingBox()}catch(J){return C=C.fileDirectory,[0,0,C.ImageWidth,C.ImageLength]}}function n(C){try{return C.getOrigin().slice(0,2)}catch(J){return[0,C.fileDirectory.ImageLength]}}function v(C,J){try{return C.getResolution(J)}catch(A){return[J.fileDirectory.ImageWidth/C.fileDirectory.ImageWidth,J.fileDirectory.ImageHeight/C.fileDirectory.ImageHeight]}}function r(C){var J=C.geoKeys;
if(!J)return null;if(J.ProjectedCSTypeGeoKey){C="EPSG:"+J.ProjectedCSTypeGeoKey;var A=(0,a.get)(C);A||(J=(0,m.fromCode)(J.ProjLinearUnitsGeoKey))&&(A=new a.Projection({code:C,units:J}));return A}return J.GeographicTypeGeoKey?(C="EPSG:"+J.GeographicTypeGeoKey,A=(0,a.get)(C),A||(J=(0,m.fromCode)(J.GeogAngularUnitsGeoKey))&&(A=new a.Projection({code:C,units:J})),A):null}function h(C){return C.getImageCount().then(function(J){for(var A=Array(J),x=0;x<J;++x)A[x]=C.getImage(x);return Promise.all(A)})}function k(C,
J){return(C.blob?(0,d.fromBlob)(C.blob):C.overviews?(0,d.fromUrls)(C.url,C.overviews,J):(0,d.fromUrl)(C.url,J)).then(h)}function f(C,J,A,x,q){if(Array.isArray(C)){var H=C.length;if(!Array.isArray(J)||H!=J.length)throw C=Error(x),q(C),C;for(var M=0;M<H;++M)f(C[M],J[M],A,x,q)}else if(Math.abs(C-J)>A*C)throw Error(x);}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(267));var e=y(F(255)),d=F(313),a=F(121),c=F(75),b=F(74),m=F(111),z=function(){var C=function(J,A){C=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}(),u;F=function(C){function J(A){var x=C.call(this,{state:"loading",tileGrid:null,projection:null,
opaque:A.opaque,transition:A.transition,interpolate:!1!==A.interpolate,wrapX:A.wrapX})||this;x.sourceInfo_=A.sources;var q=x.sourceInfo_.length;x.sourceOptions_=A.sourceOptions;x.sourceImagery_=Array(q);x.resolutionFactors_=Array(q);x.normalize_=!1!==A.normalize;x.addAlpha_=!1;x.error_=null;x.readMethod_=A.convertToRGB?"readRGB":"readRasters";x.setKey(x.sourceInfo_.map(function(M){return M.url}).join(","));A=Array(q);for(var H=0;H<q;++H)A[H]=k(x.sourceInfo_[H],x.sourceOptions_);Promise.all(A).then(function(M){x.configure_(M)}).catch(function(M){console.error(M);
x.error_=M;x.setState("error")});return x}z(J,C);J.prototype.getError=function(){return this.error_};J.prototype.configure_=function(A){for(var x,q,H,M,R,Z=Array(A.length),T=Array(A.length),ba=Array(A.length),aa=0,W=A.length,X=function(U){var ka=A[U],da=ka.length,la=void 0,wa=void 0,Ua=Array(da),hb=Array(da),La=Array(da);T[U]=Array(da);ba[U]=Array(da);for(var pa=0;pa<da;++pa){var Da=ka[pa],Ma=Da.getGDALNoData();ba[U][pa]=Da.getGDALMetadata(0);T[U][pa]=Ma;Ma=P.sourceInfo_[U].bands;Z[U]=Ma?Ma.length:
Da.getSamplesPerPixel();Ma=da-(pa+1);la||(la=p(Da));wa||(wa=n(Da));var ua=v(Da,ka[0]);La[Ma]=ua[0];Da=[Da.getTileWidth(),Da.getTileHeight()];Ua[Ma]=Da;hb[Ma]=[Da[0],Da[1]/(ua[0]/Math.abs(ua[1]))]}x?(0,b.getIntersection)(x,la,x):x=la;q?(da="Origin mismatch for source ".concat(U,", got [").concat(wa,"] but expected [").concat(q,"]"),f(q,wa,0,da,P.viewRejector)):q=wa;if(R){R.length-aa>La.length&&(aa=R.length-La.length);var Aa=R[R.length-1]/La[La.length-1];P.resolutionFactors_[U]=Aa;wa=La.map(function(qa){return qa*
Aa});da="Resolution mismatch for source ".concat(U,", got [").concat(wa,"] but expected [").concat(R,"]");f(R.slice(aa,R.length),wa,.02,da,P.viewRejector)}else R=La,P.resolutionFactors_[U]=1;H?f(H.slice(aa,H.length),hb,.01,"Tile size mismatch for source ".concat(U),P.viewRejector):H=hb;M?f(M.slice(aa,M.length),Ua,0,"Tile size mismatch for source ".concat(U),P.viewRejector):M=Ua;P.sourceImagery_[U]=ka.reverse()},P=this,w=0;w<W;++w)X(w);X=0;for(w=this.sourceImagery_.length;X<w;++X)for(var B=this.sourceImagery_[X];B.length<
R.length;)B.unshift(void 0);if(!this.getProjection())for(w=A[0],X=w.length-1;0<=X;--X)if(B=r(w[X])){this.projection=B;break}this.samplesPerPixel_=Z;this.nodataValues_=T;this.metadata_=ba;w=0;a:for(;w<W;++w){if(void 0!==this.sourceInfo_[w].nodata){this.addAlpha_=!0;break}B=T[w];var K=this.sourceInfo_[w].bands;if(K)for(X=0;X<K.length;++X){if(null!==B[K[X]-1]){this.addAlpha_=!0;break a}}else for(X=0;X<B.length;++X)if(null!==B[X]){this.addAlpha_=!0;break a}}W=this.addAlpha_?1:0;this.bandCount=Z.reduce(function(U,
ka){return U+ka},0)+W;this.tileGrid=new e.default({extent:x,minZoom:aa,origin:q,resolutions:R,tileSizes:H});this.setTileSizes(M);this.setLoader(this.loadTile_.bind(this));this.setState("ready");this.viewResolver({projection:this.projection,resolutions:R,center:(0,a.toUserCoordinate)((0,b.getCenter)(x),this.projection),extent:(0,a.toUserExtent)(x,this.projection),zoom:0})};J.prototype.loadTile_=function(A,x,q){var H=this.getTileSize(A),M=this.sourceImagery_.length,R=Array(M),Z=this.addAlpha_,T=this.bandCount,
ba=this.samplesPerPixel_,aa=this.nodataValues_,W=this.sourceInfo_,X=function(da){var la=W[da],wa=P.resolutionFactors_[da];wa=[Math.round(x*H[0]*wa),Math.round(q*H[1]*wa),Math.round((x+1)*H[0]*wa),Math.round((q+1)*H[1]*wa)];var Ua=P.sourceImagery_[da][A],hb=void 0;la.bands&&(hb=la.bands.map(function(Ma){return Ma-1}));var La=void 0;La="nodata"in la&&null!==la.nodata?la.nodata:hb?hb.map(function(Ma){return aa[da][Ma]}):aa[da];la=Ua[P.readMethod_];var pa=H[0],Da=H[1];u||(u=new d.Pool);R[da]=la.call(Ua,
{window:wa,width:pa,height:Da,samples:hb,fillValue:La,pool:u,interleave:!1})},P=this,w=0;for(;w<M;++w)X(w);var B=H[0]*H[1],K=B*T,U=this.normalize_,ka=this.metadata_;return Promise.all(R).then(function(da){var la=U?new Uint8Array(K):new Float32Array(K);for(var wa=0,Ua=0;Ua<B;++Ua){for(var hb=Z,La=0;La<M;++La){var pa=W[La],Da=pa.min,Ma=pa.max,ua=void 0,Aa=void 0;U&&(ua=ka[La][0],void 0===Da&&(ua&&"STATISTICS_MINIMUM"in ua?Aa=parseFloat(ua.STATISTICS_MINIMUM):(Aa=da[La][0],Aa=Aa instanceof Int8Array?
-128:Aa instanceof Int16Array?-32768:Aa instanceof Int32Array?-2147483648:Aa instanceof Float32Array?1.2E-38:0),Da=Aa),void 0===Ma&&(ua&&"STATISTICS_MAXIMUM"in ua?ua=parseFloat(ua.STATISTICS_MAXIMUM):(ua=da[La][0],ua=ua instanceof Int8Array?127:ua instanceof Uint8Array||ua instanceof Uint8ClampedArray?255:ua instanceof Int16Array?32767:ua instanceof Uint16Array?65535:ua instanceof Int32Array?2147483647:ua instanceof Uint32Array?4294967295:ua instanceof Float32Array?3.4E38:255),Ma=ua),ua=255/(Ma-Da),
Aa=-Da*ua);for(Da=0;Da<ba[La];++Da){Ma=da[La][Da][Ua];var qa=U?(0,c.clamp)(ua*Ma+Aa,0,255):Ma;if(Z){var Ha=pa.nodata;void 0===Ha&&(Ha=aa[La][pa.bands?pa.bands[Da]-1:Da]);var Va=isNaN(Ha);if(!Va&&Ma!==Ha||Va&&!isNaN(Ma))hb=!1,la[wa]=qa}else la[wa]=qa;wa++}}Z&&(hb||(la[wa]=255),wa++)}return la}).catch(function(da){console.error(da);throw da;})};return J}(sa.default);G.default=F};
shadow$provide[315]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.CustomTile=void 0;var p=F(114);sa=y(F(245));var n=y(F(255));ob=y(F(260));var v=y(F(109)),r=F(71),h=F(95),k=F(258),f=F(74),e=F(145),d=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(z[C]=u[C])};return c(b,m)};
return function(b,m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}(),a=function(c){function b(m,z,u,C,J,A,x){z=c.call(this,z,u,C,J,A,x)||this;z.zoomifyImage_=null;z.tileSize_=m;return z}d(b,c);b.prototype.getImage=function(){if(this.zoomifyImage_)return this.zoomifyImage_;var m=c.prototype.getImage.call(this);if(this.state==
v.default.LOADED){var z=this.tileSize_;if(m.width==z[0]&&m.height==z[1])return this.zoomifyImage_=m;z=(0,h.createCanvasContext2D)(z[0],z[1]);z.drawImage(m,0,0);return this.zoomifyImage_=z.canvas}return m};return b}(sa.default);G.CustomTile=a;F=function(c){function b(m){var z=this;z=void 0!==m.imageSmoothing?m.imageSmoothing:!0;void 0!==m.interpolate&&(z=m.interpolate);var u=m.size,C=m.tilePixelRatio||1,J=u[0],A=u[1],x=[],q=m.tileSize||p.DEFAULT_TILE_SIZE;u=q*C;switch(void 0!==m.tierSizeCalculation?
m.tierSizeCalculation:"default"){case "default":for(;J>u||A>u;)x.push([Math.ceil(J/u),Math.ceil(A/u)]),u+=u;break;case "truncated":for(var H=J,M=A;H>u||M>u;)x.push([Math.ceil(H/u),Math.ceil(M/u)]),H>>=1,M>>=1;break;default:(0,r.assert)(!1,53)}x.push([1,1]);x.reverse();u=[C];var R=[0];H=1;for(M=x.length;H<M;H++)u.push(C<<H),R.push(x[H-1][0]*x[H-1][1]+R[H-1]);u.reverse();J=new n.default({tileSize:q,extent:m.extent||[0,-A,J,0],resolutions:u});(A=m.url)&&-1==A.indexOf("{TileGroup}")&&-1==A.indexOf("{tileIndex}")&&
(A+="{TileGroup}/{z}-{x}-{y}.jpg");A=(0,k.expandUrl)(A);var Z=q*C;A=(0,k.createFromTileUrlFunctions)(A.map(function(T){return function(ba,aa,W){if(ba){aa=ba[0];W=ba[1];ba=ba[2];var X=W+ba*x[aa][0],P={z:aa,x:W,y:ba,tileIndex:X,TileGroup:"TileGroup"+((X+R[aa])/Z|0)};return T.replace(/\{(\w+?)\}/g,function(w,B){return P[B]})}}}));H=a.bind(null,(0,e.toSize)(q*C));z=c.call(this,{attributions:m.attributions,cacheSize:m.cacheSize,crossOrigin:m.crossOrigin,interpolate:z,projection:m.projection,tilePixelRatio:C,
reprojectionErrorThreshold:m.reprojectionErrorThreshold,tileClass:H,tileGrid:J,tileUrlFunction:A,transition:m.transition})||this;z.zDirection=m.zDirection;m=J.getTileCoordForCoordAndResolution((0,f.getCenter)(J.getExtent()),u[u.length-1]);m=A(m,1,null);C=new Image;C.addEventListener("error",function(){Z=q;this.changed()}.bind(z));C.src=m;return z}d(b,c);return b}(ob.default);G.default=F};
shadow$provide[316]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=G.Versions=void 0;var y=F(71),p=F(66),n=function(d,a,c){if(c||2===arguments.length)for(var b=0,m=a.length,z;b<m;b++)!z&&b in a||(z||(z=Array.prototype.slice.call(a,0,b)),z[b]=a[b]);return d.concat(z||Array.prototype.slice.call(a))},v={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};G.Versions=v;var r={};r[v.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx",
"sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}};r[v.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),
formats:["jpg","png"],qualities:["default","bitonal"]}};r[v.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};r.none={none:{supports:[],formats:[],qualities:[]}};var h=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,
k=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,f=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,e={};e[v.VERSION1]=function(d){var a=d.getComplianceLevelSupportedFeatures();void 0===a&&(a=r[v.VERSION1].level0);return{url:void 0===d.imageInfo["@id"]?void 0:d.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:a.supports,formats:n(n([],a.formats,!0),[void 0===d.imageInfo.formats?[]:d.imageInfo.formats],!1),qualities:n(n([],a.qualities,!0),[void 0===
d.imageInfo.qualities?[]:d.imageInfo.qualities],!1),resolutions:d.imageInfo.scale_factors,tileSize:void 0!==d.imageInfo.tile_width?void 0!==d.imageInfo.tile_height?[d.imageInfo.tile_width,d.imageInfo.tile_height]:[d.imageInfo.tile_width,d.imageInfo.tile_width]:void 0!=d.imageInfo.tile_height?[d.imageInfo.tile_height,d.imageInfo.tile_height]:void 0}};e[v.VERSION2]=function(d){var a=d.getComplianceLevelSupportedFeatures(),c=Array.isArray(d.imageInfo.profile)&&1<d.imageInfo.profile.length,b=c&&d.imageInfo.profile[1].supports?
d.imageInfo.profile[1].supports:[],m=c&&d.imageInfo.profile[1].formats?d.imageInfo.profile[1].formats:[];c=c&&d.imageInfo.profile[1].qualities?d.imageInfo.profile[1].qualities:[];return{url:d.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===d.imageInfo.sizes?void 0:d.imageInfo.sizes.map(function(z){return[z.width,z.height]}),tileSize:void 0===d.imageInfo.tiles?void 0:[d.imageInfo.tiles.map(function(z){return z.width})[0],d.imageInfo.tiles.map(function(z){return void 0===z.height?
z.width:z.height})[0]],resolutions:void 0===d.imageInfo.tiles?void 0:d.imageInfo.tiles.map(function(z){return z.scaleFactors})[0],supports:n(n([],a.supports,!0),b,!0),formats:n(n([],a.formats,!0),m,!0),qualities:n(n([],a.qualities,!0),c,!0)}};e[v.VERSION3]=function(d){var a=d.getComplianceLevelSupportedFeatures(),c=void 0===d.imageInfo.extraFormats?a.formats:n(n([],a.formats,!0),d.imageInfo.extraFormats,!0),b=void 0!==d.imageInfo.preferredFormats&&Array.isArray(d.imageInfo.preferredFormats)&&0<d.imageInfo.preferredFormats.length?
d.imageInfo.preferredFormats.filter(function(m){return(0,p.includes)(["jpg","png","gif"],m)}).reduce(function(m,z){return void 0===m&&(0,p.includes)(c,z)?z:m},void 0):void 0;return{url:d.imageInfo.id,sizes:void 0===d.imageInfo.sizes?void 0:d.imageInfo.sizes.map(function(m){return[m.width,m.height]}),tileSize:void 0===d.imageInfo.tiles?void 0:[d.imageInfo.tiles.map(function(m){return m.width})[0],d.imageInfo.tiles.map(function(m){return m.height})[0]],resolutions:void 0===d.imageInfo.tiles?void 0:
d.imageInfo.tiles.map(function(m){return m.scaleFactors})[0],supports:void 0===d.imageInfo.extraFeatures?a.supports:n(n([],a.supports,!0),d.imageInfo.extraFeatures,!0),formats:c,qualities:void 0===d.imageInfo.extraQualities?a.qualities:n(n([],a.qualities,!0),d.imageInfo.extraQualities,!0),preferredFormat:b}};sa=function(){function d(a){this.setImageInfo(a)}d.prototype.setImageInfo=function(a){this.imageInfo="string"==typeof a?JSON.parse(a):a};d.prototype.getImageApiVersion=function(){if(void 0!==
this.imageInfo){var a=this.imageInfo["@context"]||"ol-no-context";"string"==typeof a&&(a=[a]);for(var c=0;c<a.length;c++)switch(a[c]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return v.VERSION1;case "http://iiif.io/api/image/2/context.json":return v.VERSION2;case "http://iiif.io/api/image/3/context.json":return v.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(v.VERSION1)&&this.imageInfo.identifier)return v.VERSION1}(0,y.assert)(!1,
61)}};d.prototype.getComplianceLevelEntryFromProfile=function(a){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===a&&(a=this.getImageApiVersion()),a){case v.VERSION1:if(h.test(this.imageInfo.profile))return this.imageInfo.profile;break;case v.VERSION3:if(f.test(this.imageInfo.profile))return this.imageInfo.profile;break;case v.VERSION2:if("string"===typeof this.imageInfo.profile&&k.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&
0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&k.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}};d.prototype.getComplianceLevelFromProfile=function(a){a=this.getComplianceLevelEntryFromProfile(a);if(void 0!==a)return a=a.match(/level[0-2](?:\.json)?$/g),Array.isArray(a)?a[0].replace(".json",""):void 0};d.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var a=this.getImageApiVersion(),c=this.getComplianceLevelFromProfile(a);
return void 0===c?r.none.none:r[a][c]}};d.prototype.getTileSourceOptions=function(a){a=a||{};var c=this.getImageApiVersion();if(void 0!==c){var b=void 0===c?void 0:e[c](this);if(void 0!==b)return{url:b.url,version:c,size:[this.imageInfo.width,this.imageInfo.height],sizes:b.sizes,format:void 0!==a.format&&(0,p.includes)(b.formats,a.format)?a.format:void 0!==b.preferredFormat?b.preferredFormat:"jpg",supports:b.supports,quality:a.quality&&(0,p.includes)(b.qualities,a.quality)?a.quality:(0,p.includes)(b.qualities,
"native")?"native":"default",resolutions:Array.isArray(b.resolutions)?b.resolutions.sort(function(m,z){return z-m}):void 0,tileSize:b.tileSize}}};return d}();G.default=sa};
shadow$provide[317]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}function p(c){return c.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=y(F(255));sa=y(F(260));var v=F(315),r=F(114),h=F(316),k=F(71),f=F(74),e=F(66),d=F(145),a=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,
C)&&(z[C]=u[C])};return c(b,m)};return function(b,m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}();F=function(c){function b(m){var z=this;m=m||{};z=void 0!==m.imageSmoothing?m.imageSmoothing:!0;void 0!==m.interpolate&&(z=m.interpolate);var u=m.url||"";u+=u.lastIndexOf("/")===u.length-1||""===u?"":"/";var C=m.version||
h.Versions.VERSION2,J=m.sizes||[],A=m.size;(0,k.assert)(void 0!=A&&Array.isArray(A)&&2==A.length&&!isNaN(A[0])&&0<A[0]&&!isNaN(A[1])&&0<A[1],60);var x=A[0],q=A[1];A=m.tileSize;var H=m.tilePixelRatio||1,M=m.format||"jpg",R=m.quality||(m.version==h.Versions.VERSION1?"native":"default"),Z=m.resolutions||[],T=m.supports||[],ba=m.extent||[0,-q,x,0],aa=void 0!=J&&Array.isArray(J)&&0<J.length,W=void 0!==A&&("number"===typeof A&&Number.isInteger(A)&&0<A||Array.isArray(A)&&0<A.length),X=void 0!=T&&Array.isArray(T)&&
((0,e.includes)(T,"regionByPx")||(0,e.includes)(T,"regionByPct"))&&((0,e.includes)(T,"sizeByWh")||(0,e.includes)(T,"sizeByH")||(0,e.includes)(T,"sizeByW")||(0,e.includes)(T,"sizeByPct")),P,w;Z.sort(function(da,la){return la-da});if(W||X){if(void 0!=A)if("number"===typeof A&&Number.isInteger(A)&&0<A)var B=P=A;else if(Array.isArray(A)&&0<A.length){if(1==A.length||void 0==A[1]&&Number.isInteger(A[0]))P=A[0],B=A[0];2==A.length&&(Number.isInteger(A[0])&&Number.isInteger(A[1])?(P=A[0],B=A[1]):void 0==A[0]&&
Number.isInteger(A[1])&&(P=A[1],B=A[1]))}if(void 0===P||void 0===B)B=P=r.DEFAULT_TILE_SIZE;if(0==Z.length)for(var K=w=Math.max(Math.ceil(Math.log(x/P)/Math.LN2),Math.ceil(Math.log(q/B)/Math.LN2));0<=K;K--)Z.push(Math.pow(2,K));else K=Math.max.apply(Math,Z),w=Math.round(Math.log(K)/Math.LN2)}else if(P=x,B=q,Z=[],aa){J.sort(function(da,la){return da[0]-la[0]});w=-1;var U=[];for(K=0;K<J.length;K++){var ka=x/J[K][0];0<Z.length&&Z[Z.length-1]==ka?U.push(K):(Z.push(ka),w++)}if(0<U.length)for(K=0;K<U.length;K++)J.splice(U[K]-
K,1)}else Z.push(1),J.push([x,q]),w=0;ba=new n.default({tileSize:[P,B],extent:ba,origin:(0,f.getTopLeft)(ba),resolutions:Z});A=v.CustomTile.bind(null,(0,d.toSize)(A||256).map(function(da){return da*H}));z=c.call(this,{attributions:m.attributions,attributionsCollapsible:m.attributionsCollapsible,cacheSize:m.cacheSize,crossOrigin:m.crossOrigin,interpolate:z,projection:m.projection,reprojectionErrorThreshold:m.reprojectionErrorThreshold,state:m.state,tileClass:A,tileGrid:ba,tilePixelRatio:m.tilePixelRatio,
tileUrlFunction:function(da,la,wa){var Ua;la=da[0];if(!(la>w)){wa=da[1];var hb=da[2];da=Z[la];if(!(void 0===wa||void 0===hb||void 0===da||0>wa||Math.ceil(x/da/P)<=wa||0>hb||Math.ceil(q/da/B)<=hb)){if(X||W){var La=wa*P*da,pa=hb*B*da,Da=P*da;hb=B*da;la=P;wa=B;La+Da>x&&(Da=x-La);pa+hb>q&&(hb=q-pa);La+P*da>x&&(la=Math.floor((x-La+da-1)/da));pa+B*da>q&&(wa=Math.floor((q-pa+da-1)/da));if(0==La&&Da==x&&0==pa&&hb==q)var Ma="full";else!X||(0,e.includes)(T,"regionByPx")?Ma=La+","+pa+","+Da+","+hb:(0,e.includes)(T,
"regionByPct")&&(Ma=p(La/x*100),La=p(pa/q*100),Da=p(Da/x*100),hb=p(hb/q*100),Ma="pct:"+Ma+","+La+","+Da+","+hb);C!=h.Versions.VERSION3||X&&!(0,e.includes)(T,"sizeByWh")?!X||(0,e.includes)(T,"sizeByW")?Ua=la+",":(0,e.includes)(T,"sizeByH")?Ua=","+wa:(0,e.includes)(T,"sizeByWh")?Ua=la+","+wa:(0,e.includes)(T,"sizeByPct")&&(Ua="pct:"+p(100/da)):Ua=la+","+wa}else Ma="full",aa?(Ua=J[la][0],da=J[la][1],Ua=C==h.Versions.VERSION3?Ua==x&&da==q?"max":Ua+","+da:Ua==x?"full":Ua+","):Ua=C==h.Versions.VERSION3?
"max":"full";return u+Ma+"/"+Ua+"/0/"+R+"."+M}}},transition:m.transition})||this;z.zDirection=m.zDirection;return z}a(b,c);return b}(sa.default);G.default=F};
shadow$provide[318]=function(sa,F,ob,G){function y(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=F(246),n=y(F(82));sa=y(F(215));var v=y(F(188)),r=y(F(247)),h=F(249),k=F(74),f=F(83),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();F=function(d){function a(c,b,m,z,u,C,J){var A,x=c.getExtent(),q=(A=b.getExtent())?(0,k.getIntersection)(m,A):m;A=(0,k.getCenter)(q);A=(0,h.calculateSourceResolution)(c,b,A,z);c=new r.default(c,b,q,x,A*p.ERROR_THRESHOLD,z);q=c.calculateSourceExtent();A=(u=C(q,A,u))?v.default.IDLE:v.default.EMPTY;C=
u?u.getPixelRatio():1;A=d.call(this,m,z,C,A)||this;A.targetProj_=b;A.maxSourceExtent_=x;A.triangulation_=c;A.targetResolution_=z;A.targetExtent_=m;A.sourceImage_=u;A.sourcePixelRatio_=C;A.interpolate_=J;A.canvas_=null;A.sourceListenerKey_=null;return A}e(a,d);a.prototype.disposeInternal=function(){this.state==v.default.LOADING&&this.unlistenSource_();d.prototype.disposeInternal.call(this)};a.prototype.getImage=function(){return this.canvas_};a.prototype.getProjection=function(){return this.targetProj_};
a.prototype.reproject_=function(){var c=this.sourceImage_.getState();if(c==v.default.LOADED){var b=(0,k.getWidth)(this.targetExtent_)/this.targetResolution_,m=(0,k.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,h.render)(b,m,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=
c;this.changed()};a.prototype.load=function(){if(this.state==v.default.IDLE){this.state=v.default.LOADING;this.changed();var c=this.sourceImage_.getState();c==v.default.LOADED||c==v.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,f.listen)(this.sourceImage_,n.default.CHANGE,function(b){b=this.sourceImage_.getState();if(b==v.default.LOADED||b==v.default.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}};a.prototype.unlistenSource_=function(){(0,f.unlistenByKey)(this.sourceListenerKey_);
this.sourceListenerKey_=null};return a}(sa.default);G.default=F};
shadow$provide[319]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(G,"__esModule",{value:!0});G.defaultImageLoadFunction=function(c,b){c.getImage().src=b};G.default=G.ImageSourceEvent=G.ImageSourceEventType=void 0;sa=y(F(78));var p=y(F(188)),n=y(F(318));ob=y(F(226));var v=F(246),r=F(68),h=F(74),k=F(121),f=F(66),e=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,
C)&&(z[C]=u[C])};return c(b,m)};return function(b,m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}(),d={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};G.ImageSourceEventType=d;var a=function(c){function b(m,z){m=c.call(this,m)||this;m.image=z;return m}e(b,c);return b}(sa.default);
G.ImageSourceEvent=a;F=function(c){function b(m){var z=void 0!==m.imageSmoothing?m.imageSmoothing:!0;void 0!==m.interpolate&&(z=m.interpolate);z=c.call(this,{attributions:m.attributions,projection:m.projection,state:m.state,interpolate:z})||this;z.resolutions_=void 0!==m.resolutions?m.resolutions:null;z.reprojectedImage_=null;z.reprojectedRevision_=0;return z}e(b,c);b.prototype.getResolutions=function(){return this.resolutions_};b.prototype.findNearestResolution=function(m){this.resolutions_&&(m=
(0,f.linearFindNearest)(this.resolutions_,m,0),m=this.resolutions_[m]);return m};b.prototype.getImage=function(m,z,u,C){var J=this.getProjection();if(v.ENABLE_RASTER_REPROJECTION&&J&&C&&!(0,k.equivalent)(J,C)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,k.equivalent)(this.reprojectedImage_.getProjection(),C)&&this.reprojectedImage_.getResolution()==z&&(0,h.equals)(this.reprojectedImage_.getExtent(),m))return this.reprojectedImage_;this.reprojectedImage_.dispose();
this.reprojectedImage_=null}this.reprojectedImage_=new n.default(J,C,m,z,u,function(A,x,q){return this.getImageInternal(A,x,q,J)}.bind(this),this.getInterpolate());this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}J&&(C=J);return this.getImageInternal(m,z,u,C)};b.prototype.getImageInternal=function(m,z,u,C){return(0,r.abstract)()};b.prototype.handleImageChange=function(m){m=m.target;switch(m.getState()){case p.default.LOADING:this.loading=!0;var z=d.IMAGELOADSTART;break;case p.default.LOADED:this.loading=
!1;z=d.IMAGELOADEND;break;case p.default.ERROR:this.loading=!1;z=d.IMAGELOADERROR;break;default:return}this.hasListener(z)&&this.dispatchEvent(new a(z,m))};return b}(ob.default);G.default=F};
shadow$provide[320]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.appendParams=function(y,p){var n=[];Object.keys(p).forEach(function(r){null!==p[r]&&void 0!==p[r]&&n.push(r+"\x3d"+encodeURIComponent(p[r]))});var v=n.join("\x26");y=y.replace(/[?&]$/,"");y=-1===y.indexOf("?")?y+"?":y+"\x26";return y+v}};
shadow$provide[321]=function(sa,F,ob,G){function y(a){if("function"!==typeof WeakMap)return null;var c=new WeakMap,b=new WeakMap;return(y=function(m){return m?b:c})(a)}function p(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(82)),v=function(a,c){if(!c&&a&&a.__esModule)return a;if(null===a||"object"!==typeof a&&"function"!==typeof a)return{default:a};if((c=y(c))&&c.has(a))return c.get(a);var b={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,
z;for(z in a)if("default"!==z&&Object.prototype.hasOwnProperty.call(a,z)){var u=m?Object.getOwnPropertyDescriptor(a,z):null;u&&(u.get||u.set)?Object.defineProperty(b,z,u):b[z]=a[z]}b.default=a;c&&c.set(a,b);return b}(F(319)),r=p(F(216)),h=F(320),k=F(71),f=F(80),e=F(74),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,
b){function m(){this.constructor=c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();sa=function(a){function c(b){b=b?b:{};var m=void 0!==b.imageSmoothing?b.imageSmoothing:!0;void 0!==b.interpolate&&(m=b.interpolate);m=a.call(this,{attributions:b.attributions,interpolate:m,projection:b.projection,resolutions:b.resolutions})||this;m.crossOrigin_=void 0!==
b.crossOrigin?b.crossOrigin:null;m.hidpi_=void 0!==b.hidpi?b.hidpi:!0;m.url_=b.url;m.imageLoadFunction_=void 0!==b.imageLoadFunction?b.imageLoadFunction:v.defaultImageLoadFunction;m.params_=b.params||{};m.image_=null;m.imageSize_=[0,0];m.renderedRevision_=0;m.ratio_=void 0!==b.ratio?b.ratio:1.5;return m}d(c,a);c.prototype.getParams=function(){return this.params_};c.prototype.getImageInternal=function(b,m,z,u){if(void 0===this.url_)return null;m=this.findNearestResolution(m);z=this.hidpi_?z:1;var C=
this.image_;if(C&&this.renderedRevision_==this.getRevision()&&C.getResolution()==m&&C.getPixelRatio()==z&&(0,e.containsExtent)(C.getExtent(),b))return C;C={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,f.assign)(C,this.params_);b=b.slice();var J=(b[0]+b[2])/2,A=(b[1]+b[3])/2;if(1!=this.ratio_){var x=this.ratio_*(0,e.getWidth)(b)/2,q=this.ratio_*(0,e.getHeight)(b)/2;b[0]=J-x;b[1]=A-q;b[2]=J+x;b[3]=A+q}x=m/z;q=Math.ceil((0,e.getWidth)(b)/x);var H=Math.ceil((0,e.getHeight)(b)/x);b[0]=J-x*q/2;b[2]=J+x*
q/2;b[1]=A-x*H/2;b[3]=A+x*H/2;this.imageSize_[0]=q;this.imageSize_[1]=H;u=this.getRequestUrl_(b,this.imageSize_,z,u,C);this.image_=new r.default(b,m,z,u,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this));return this.image_};c.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};c.prototype.getRequestUrl_=function(b,m,z,u,C){u=u.getCode().split(/:(?=\d+$)/).pop();
C.SIZE=m[0]+","+m[1];C.BBOX=b.join(",");C.BBOXSR=u;C.IMAGESR=u;C.DPI=Math.round(90*z);b=this.url_;m=b.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");m==b&&(0,k.assert)(!1,50);return(0,h.appendParams)(m,C)};c.prototype.getUrl=function(){return this.url_};c.prototype.setImageLoadFunction=function(b){this.image_=null;this.imageLoadFunction_=b;this.changed()};c.prototype.setUrl=function(b){b!=this.url_&&(this.url_=b,this.image_=null,this.changed())};c.prototype.updateParams=
function(b){(0,f.assign)(this.params_,b);this.image_=null;this.changed()};return c}(v.default);G.default=sa};
shadow$provide[322]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(215));var p=y(F(188)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h,k,f,e,d){h=v.call(this,h,k,f,void 0!==d?p.default.IDLE:p.default.LOADED)||this;h.loader_=void 0!==d?d:null;h.canvas_=e;h.error_=null;return h}n(r,v);r.prototype.getError=function(){return this.error_};r.prototype.handleLoad_=function(h){h?(this.error_=h,this.state=p.default.ERROR):this.state=p.default.LOADED;this.changed()};r.prototype.load=function(){this.state==
p.default.IDLE&&(this.state=p.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))};r.prototype.getImage=function(){return this.canvas_};return r}(sa.default);G.default=F};
shadow$provide[323]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(322));sa=y(F(319));var n=F(74),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==
k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){k=k?k:{};var f=void 0!==k.imageSmoothing?k.imageSmoothing:!0;void 0!==k.interpolate&&(f=k.interpolate);f=r.call(this,{attributions:k.attributions,interpolate:f,projection:k.projection,resolutions:k.resolutions,state:k.state})||this;f.canvasFunction_=k.canvasFunction;f.canvas_=null;f.renderedRevision_=0;
f.ratio_=void 0!==k.ratio?k.ratio:1.5;return f}v(h,r);h.prototype.getImageInternal=function(k,f,e,d){f=this.findNearestResolution(f);var a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==f&&a.getPixelRatio()==e&&(0,n.containsExtent)(a.getExtent(),k))return a;k=k.slice();(0,n.scaleFromCenter)(k,this.ratio_);var c=(0,n.getWidth)(k)/f,b=(0,n.getHeight)(k)/f;(d=this.canvasFunction_.call(this,k,f,e,[c*e,b*e],d))&&(a=new p.default(k,f,e,d));this.canvas_=a;this.renderedRevision_=
this.getRevision();return a};return h}(sa.default);G.default=F};
shadow$provide[324]=function(sa,F,ob,G){function y(d){if("function"!==typeof WeakMap)return null;var a=new WeakMap,c=new WeakMap;return(y=function(b){return b?c:a})(d)}function p(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(82)),v=function(d,a){if(!a&&d&&d.__esModule)return d;if(null===d||"object"!==typeof d&&"function"!==typeof d)return{default:d};if((a=y(a))&&a.has(d))return a.get(d);var c={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,
m;for(m in d)if("default"!==m&&Object.prototype.hasOwnProperty.call(d,m)){var z=b?Object.getOwnPropertyDescriptor(d,m):null;z&&(z.get||z.set)?Object.defineProperty(c,m,z):c[m]=d[m]}c.default=d;a&&a.set(d,c);return c}(F(319)),r=p(F(216)),h=F(320),k=F(80),f=F(74),e=function(){var d=function(a,c){d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,m){b.__proto__=m}||function(b,m){for(var z in m)Object.prototype.hasOwnProperty.call(m,z)&&(b[z]=m[z])};return d(a,c)};return function(a,c){function b(){this.constructor=
a}if("function"!==typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");d(a,c);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}}();sa=function(d){function a(c){var b=void 0!==c.imageSmoothing?c.imageSmoothing:!0;void 0!==c.interpolate&&(b=c.interpolate);b=d.call(this,{interpolate:b,projection:c.projection,resolutions:c.resolutions})||this;b.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;b.displayDpi_=void 0!==c.displayDpi?
c.displayDpi:96;b.params_=c.params||{};b.url_=c.url;b.imageLoadFunction_=void 0!==c.imageLoadFunction?c.imageLoadFunction:v.defaultImageLoadFunction;b.hidpi_=void 0!==c.hidpi?c.hidpi:!0;b.metersPerUnit_=void 0!==c.metersPerUnit?c.metersPerUnit:1;b.ratio_=void 0!==c.ratio?c.ratio:1;b.useOverlay_=void 0!==c.useOverlay?c.useOverlay:!1;b.image_=null;b.renderedRevision_=0;return b}e(a,d);a.prototype.getParams=function(){return this.params_};a.prototype.getImageInternal=function(c,b,m,z){b=this.findNearestResolution(b);
m=this.hidpi_?m:1;var u=this.image_;if(u&&this.renderedRevision_==this.getRevision()&&u.getResolution()==b&&u.getPixelRatio()==m&&(0,f.containsExtent)(u.getExtent(),c))return u;1!=this.ratio_&&(c=c.slice(),(0,f.scaleFromCenter)(c,this.ratio_));u=(0,f.getWidth)(c)/b;var C=(0,f.getHeight)(c)/b;u=[u*m,C*m];void 0!==this.url_?(z=this.getUrl(this.url_,this.params_,c,u,z),u=new r.default(c,b,m,z,this.crossOrigin_,this.imageLoadFunction_),u.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this))):
u=null;this.image_=u;this.renderedRevision_=this.getRevision();return u};a.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};a.prototype.updateParams=function(c){(0,k.assign)(this.params_,c);this.changed()};a.prototype.getUrl=function(c,b,m,z,u){u=this.metersPerUnit_;var C=this.displayDpi_,J=(0,f.getWidth)(m),A=(0,f.getHeight)(m),x=z[0],q=z[1];C=.0254/C;u=q*J>x*A?J*u/(x*C):A*u/(q*C);m=(0,f.getCenter)(m);z={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",
VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(z[0]),SETDISPLAYHEIGHT:Math.round(z[1]),SETVIEWSCALE:u,SETVIEWCENTERX:m[0],SETVIEWCENTERY:m[1]};(0,k.assign)(z,b);return(0,h.appendParams)(c,z)};a.prototype.setImageLoadFunction=function(c){this.image_=null;this.imageLoadFunction_=c;this.changed()};return a}(v.default);G.default=sa};
shadow$provide[325]=function(sa,F,ob,G){function y(b){if("function"!==typeof WeakMap)return null;var m=new WeakMap,z=new WeakMap;return(y=function(u){return u?z:m})(b)}function p(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(82)),v=function(b,m){if(!m&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((m=y(m))&&m.has(b))return m.get(b);var z={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor,
C;for(C in b)if("default"!==C&&Object.prototype.hasOwnProperty.call(b,C)){var J=u?Object.getOwnPropertyDescriptor(b,C):null;J&&(J.get||J.set)?Object.defineProperty(z,C,J):z[C]=b[C]}z.default=b;m&&m.set(b,z);return z}(F(319)),r=p(F(188)),h=p(F(216)),k=F(248),f=F(80),e=F(95),d=F(74),a=F(121),c=function(){var b=function(m,z){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&(u[J]=C[J])};return b(m,
z)};return function(m,z){function u(){this.constructor=m}if("function"!==typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");b(m,z);m.prototype=null===z?Object.create(z):(u.prototype=z.prototype,new u)}}();sa=function(b){function m(z){var u=void 0!==z.crossOrigin?z.crossOrigin:null,C=void 0!==z.imageLoadFunction?z.imageLoadFunction:v.defaultImageLoadFunction;var J=void 0!==z.imageSmoothing?z.imageSmoothing:!0;void 0!==z.interpolate&&(J=z.interpolate);
J=b.call(this,{attributions:z.attributions,interpolate:J,projection:(0,a.get)(z.projection)})||this;J.url_=z.url;J.imageExtent_=z.imageExtent;J.image_=new h.default(J.imageExtent_,void 0,1,J.url_,u,C);J.imageSize_=z.imageSize?z.imageSize:null;J.image_.addEventListener(n.default.CHANGE,J.handleImageChange.bind(J));return J}c(m,b);m.prototype.getImageExtent=function(){return this.imageExtent_};m.prototype.getImageInternal=function(z,u,C,J){return(0,d.intersects)(z,this.image_.getExtent())?this.image_:
null};m.prototype.getUrl=function(){return this.url_};m.prototype.handleImageChange=function(z){if(this.image_.getState()==r.default.LOADED){var u=this.image_.getExtent(),C=this.image_.getImage();if(this.imageSize_){var J=this.imageSize_[0];var A=this.imageSize_[1]}else J=C.width,A=C.height;var x=(0,d.getWidth)(u);u=(0,d.getHeight)(u);var q=x/J,H=u/A,M=J,R=A;q>H?M=Math.round(x/H):R=Math.round(u/q);if(M!==J||R!==A)x=(0,e.createCanvasContext2D)(M,R),this.getInterpolate()||(0,f.assign)(x,k.IMAGE_SMOOTHING_DISABLED),
u=x.canvas,x.drawImage(C,0,0,J,A,0,0,u.width,u.height),this.image_.setImage(u)}b.prototype.handleImageChange.call(this,z)};return m}(v.default);G.default=sa};
shadow$provide[326]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.DEFAULT_VERSION="1.3.0"};
shadow$provide[327]=function(sa,F,ob,G){function y(C){if("function"!==typeof WeakMap)return null;var J=new WeakMap,A=new WeakMap;return(y=function(x){return x?A:J})(C)}function p(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(82)),v=function(C,J){if(!J&&C&&C.__esModule)return C;if(null===C||"object"!==typeof C&&"function"!==typeof C)return{default:C};if((J=y(J))&&J.has(C))return J.get(C);var A={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,
q;for(q in C)if("default"!==q&&Object.prototype.hasOwnProperty.call(C,q)){var H=x?Object.getOwnPropertyDescriptor(C,q):null;H&&(H.get||H.set)?Object.defineProperty(A,q,H):A[q]=C[q]}A.default=C;J&&J.set(C,A);return A}(F(319)),r=p(F(216)),h=F(326),k=F(320),f=F(71),e=F(80),d=F(249),a=F(75),c=F(90),b=F(74),m=F(121),z=function(){var C=function(J,A){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,
H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}(),u=[101,101];sa=function(C){function J(A){A=A?A:{};var x=void 0!==A.imageSmoothing?A.imageSmoothing:!0;void 0!==A.interpolate&&(x=A.interpolate);x=C.call(this,{attributions:A.attributions,interpolate:x,projection:A.projection,
resolutions:A.resolutions})||this;x.crossOrigin_=void 0!==A.crossOrigin?A.crossOrigin:null;x.url_=A.url;x.imageLoadFunction_=void 0!==A.imageLoadFunction?A.imageLoadFunction:v.defaultImageLoadFunction;x.params_=A.params||{};x.v13_=!0;x.updateV13_();x.serverType_=A.serverType;x.hidpi_=void 0!==A.hidpi?A.hidpi:!0;x.image_=null;x.imageSize_=[0,0];x.renderedRevision_=0;x.ratio_=void 0!==A.ratio?A.ratio:1.5;return x}z(J,C);J.prototype.getFeatureInfoUrl=function(A,x,q,H){if(void 0!==this.url_){q=(0,m.get)(q);
var M=this.getProjection();M&&M!==q&&(x=(0,d.calculateSourceResolution)(M,q,A,x),A=(0,m.transform)(A,q,M));var R=(0,b.getForViewAndSize)(A,x,0,u),Z={SERVICE:"WMS",VERSION:h.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,e.assign)(Z,this.params_,H);H=(0,a.floor)((A[0]-R[0])/x,4);A=(0,a.floor)((R[3]-A[1])/x,4);Z[this.v13_?"I":"X"]=H;Z[this.v13_?"J":"Y"]=A;return this.getRequestUrl_(R,u,1,M||q,Z)}};J.prototype.getLegendUrl=function(A,x){if(void 0!==
this.url_){var q={SERVICE:"WMS",VERSION:h.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===x||void 0===x.LAYER){var H=this.params_.LAYERS;if(Array.isArray(H)&&1!==H.length)return;q.LAYER=H}void 0!==A&&(H=this.getProjection()?this.getProjection().getMetersPerUnit():1,q.SCALE=A*H/2.8E-4);(0,e.assign)(q,x);return(0,k.appendParams)(this.url_,q)}};J.prototype.getParams=function(){return this.params_};J.prototype.getImageInternal=function(A,x,q,H){if(void 0===this.url_)return null;
x=this.findNearestResolution(x);1==q||this.hidpi_&&void 0!==this.serverType_||(q=1);var M=x/q,R=(0,b.getCenter)(A),Z=(0,a.ceil)((0,b.getWidth)(A)/M,4),T=(0,a.ceil)((0,b.getHeight)(A)/M,4);Z=(0,b.getForViewAndSize)(R,M,0,[Z,T]);T=(0,a.ceil)(this.ratio_*(0,b.getWidth)(A)/M,4);A=(0,a.ceil)(this.ratio_*(0,b.getHeight)(A)/M,4);R=(0,b.getForViewAndSize)(R,M,0,[T,A]);if((A=this.image_)&&this.renderedRevision_==this.getRevision()&&A.getResolution()==x&&A.getPixelRatio()==q&&(0,b.containsExtent)(A.getExtent(),
Z))return A;Z={SERVICE:"WMS",VERSION:h.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,e.assign)(Z,this.params_);this.imageSize_[0]=(0,a.round)((0,b.getWidth)(R)/M,4);this.imageSize_[1]=(0,a.round)((0,b.getHeight)(R)/M,4);H=this.getRequestUrl_(R,this.imageSize_,q,H,Z);this.image_=new r.default(R,x,q,H,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(n.default.CHANGE,this.handleImageChange.bind(this));return this.image_};
J.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};J.prototype.getRequestUrl_=function(A,x,q,H,M){(0,f.assert)(void 0!==this.url_,9);M[this.v13_?"CRS":"SRS"]=H.getCode();"STYLES"in this.params_||(M.STYLES="");if(1!=q)switch(this.serverType_){case "geoserver":q=90*q+.5|0;M.FORMAT_OPTIONS="FORMAT_OPTIONS"in M?M.FORMAT_OPTIONS+(";dpi:"+q):"dpi:"+q;break;case "mapserver":M.MAP_RESOLUTION=90*q;break;case "carmentaserver":case "qgis":M.DPI=90*q;break;default:(0,f.assert)(!1,8)}M.WIDTH=
x[0];M.HEIGHT=x[1];x=H.getAxisOrientation();A=this.v13_&&"ne"==x.substr(0,2)?[A[1],A[0],A[3],A[2]]:A;M.BBOX=A.join(",");return(0,k.appendParams)(this.url_,M)};J.prototype.getUrl=function(){return this.url_};J.prototype.setImageLoadFunction=function(A){this.image_=null;this.imageLoadFunction_=A;this.changed()};J.prototype.setUrl=function(A){A!=this.url_&&(this.url_=A,this.image_=null,this.changed())};J.prototype.updateParams=function(A){(0,e.assign)(this.params_,A);this.updateV13_();this.image_=null;
this.changed()};J.prototype.updateV13_=function(){this.v13_=0<=(0,c.compareVersions)(this.params_.VERSION||h.DEFAULT_VERSION,"1.3")};return J}(v.default);G.default=sa};
shadow$provide[328]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=G.ATTRIBUTION=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(263));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();G.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';sa=function(p){function n(v){v=v||{};var r=void 0!==v.imageSmoothing?v.imageSmoothing:!0;void 0!==v.interpolate&&(r=v.interpolate);return p.call(this,{attributions:void 0!==v.attributions?v.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],
attributionsCollapsible:!1,cacheSize:v.cacheSize,crossOrigin:void 0!==v.crossOrigin?v.crossOrigin:"anonymous",interpolate:r,maxZoom:void 0!==v.maxZoom?v.maxZoom:19,opaque:void 0!==v.opaque?v.opaque:!0,reprojectionErrorThreshold:v.reprojectionErrorThreshold,tileLoadFunction:v.tileLoadFunction,transition:v.transition,url:void 0!==v.url?v.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:v.wrapX,zDirection:v.zDirection})||this}y(n,p);return n}(sa.default);G.default=sa};
shadow$provide[329]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(p){return p&&p.__esModule?p:{default:p}}(F(89));var y=function(){var p=function(n,v){p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,h){r.__proto__=h}||function(r,h){for(var k in h)Object.prototype.hasOwnProperty.call(h,k)&&(r[k]=h[k])};return p(n,v)};return function(n,v){function r(){this.constructor=n}if("function"!==typeof v&&null!==v)throw new TypeError("Class extends value "+
String(v)+" is not a constructor or null");p(n,v);n.prototype=null===v?Object.create(v):(r.prototype=v.prototype,new r)}}();sa=function(p){function n(v){return p.call(this,v?v:{})||this}y(n,p);return n}(sa.default);G.default=sa};
shadow$provide[330]=function(sa,F,ob,G){function y(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(208));var p=y(F(188)),n=y(F(112)),v=F(246),r=F(248),h=F(72),k=F(80),f=F(74),e=F(121),d=function(){var a=function(c,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,z){m.__proto__=z}||function(m,z){for(var u in z)Object.prototype.hasOwnProperty.call(z,u)&&(m[u]=z[u])};return a(c,b)};return function(c,b){function m(){this.constructor=
c}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(c,b);c.prototype=null===b?Object.create(b):(m.prototype=b.prototype,new m)}}();F=function(a){function c(b){b=a.call(this,b)||this;b.image_=null;return b}d(c,a);c.prototype.getImage=function(){return this.image_?this.image_.getImage():null};c.prototype.prepareFrame=function(b){var m=b.layerStatesArray[b.layerIndex],z=b.pixelRatio,u=b.viewState,C=u.resolution,J=this.getLayer().getSource(),
A=b.viewHints;b=b.extent;void 0!==m.extent&&(b=(0,f.getIntersection)(b,(0,e.fromUserExtent)(m.extent,u.projection)));if(!A[n.default.ANIMATING]&&!A[n.default.INTERACTING]&&!(0,f.isEmpty)(b))if(J){if(m=u.projection,v.ENABLE_RASTER_REPROJECTION||(u=J.getProjection())&&(m=u),z=J.getImage(b,C,z,m))this.loadImage(z)?this.image_=z:z.getState()===p.default.EMPTY&&(this.image_=null)}else this.image_=null;return!!this.image_};c.prototype.getData=function(b){var m=this.frameState;if(!m)return null;var z=this.getLayer();
b=(0,h.apply)(m.pixelToCoordinateTransform,b.slice());if((z=z.getExtent())&&!(0,f.containsCoordinate)(z,b))return null;m=this.image_.getExtent();z=this.image_.getImage();var u=(0,f.getWidth)(m);u=Math.floor((b[0]-m[0])/u*z.width);if(0>u||u>=z.width)return null;var C=(0,f.getHeight)(m);b=Math.floor((m[3]-b[1])/C*z.height);return 0>b||b>=z.height?null:this.getImageData(z,u,b)};c.prototype.renderFrame=function(b,m){var z=this.image_,u=z.getExtent(),C=z.getResolution(),J=z.getPixelRatio(),A=b.layerStatesArray[b.layerIndex],
x=b.pixelRatio,q=b.viewState,H=q.center,M=x*C/(q.resolution*J),R=b.extent,Z=q.resolution,T=q.rotation,ba=Math.round((0,f.getWidth)(R)/Z*x),aa=Math.round((0,f.getHeight)(R)/Z*x);(0,h.compose)(this.pixelTransform,b.size[0]/2,b.size[1]/2,1/x,1/x,T,-ba/2,-aa/2);(0,h.makeInverse)(this.inversePixelTransform,this.pixelTransform);T=(0,h.toString)(this.pixelTransform);this.useContainer(m,T,this.getBackground(b));m=this.context;R=m.canvas;R.width!=ba||R.height!=aa?(R.width=ba,R.height=aa):this.containerReused||
m.clearRect(0,0,ba,aa);Z=!1;var W=!0;A.extent&&(q=(0,e.fromUserExtent)(A.extent,q.projection),(Z=(W=(0,f.intersects)(q,b.extent))&&!(0,f.containsExtent)(q,b.extent))&&this.clipUnrotated(m,b,q));z=z.getImage();u=(0,h.compose)(this.tempTransform,ba/2,aa/2,M,M,0,J*(u[0]-H[0])/C,J*(H[1]-u[3])/C);this.renderedResolution=C*x/J;C=z.width*u[0];J=z.height*u[3];this.getLayer().getSource().getInterpolate()||(0,k.assign)(m,r.IMAGE_SMOOTHING_DISABLED);this.preRender(m,b);W&&.5<=C&&.5<=J&&(x=u[4],u=u[5],A=A.opacity,
H=void 0,1!==A&&(H=m.globalAlpha,m.globalAlpha=A),m.drawImage(z,0,0,+z.width,+z.height,x,u,C,J),1!==A&&(m.globalAlpha=H));this.postRender(m,b);Z&&m.restore();(0,k.assign)(m,r.IMAGE_SMOOTHING_ENABLED);T!==R.style.transform&&(R.style.transform=T);return this.container};return c}(sa.default);G.default=F};
shadow$provide[331]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(329));var p=y(F(330)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){return v.call(this,h)||this}n(r,v);r.prototype.createRenderer=function(){return new p.default(this)};r.prototype.getData=function(h){return v.prototype.getData.call(this,h)};return r}(sa.default);G.default=F};
shadow$provide[332]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[333]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(89));var p=y(F(332)),n=F(80),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){k=k?k:{};var f=(0,n.assign)({},k);delete f.preload;delete f.useInterimTilesOnError;f=r.call(this,f)||this;f.setPreload(void 0!==k.preload?k.preload:0);f.setUseInterimTilesOnError(void 0!==k.useInterimTilesOnError?k.useInterimTilesOnError:!0);return f}v(h,r);h.prototype.getPreload=function(){return this.get(p.default.PRELOAD)};h.prototype.setPreload=
function(k){this.set(p.default.PRELOAD,k)};h.prototype.getUseInterimTilesOnError=function(){return this.get(p.default.USE_INTERIM_TILES_ON_ERROR)};h.prototype.setUseInterimTilesOnError=function(k){this.set(p.default.USE_INTERIM_TILES_ON_ERROR,k)};h.prototype.getData=function(k){return r.prototype.getData.call(this,k)};return h}(sa.default);G.default=F};
shadow$provide[334]=function(sa,F,ob,G){function y(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(208));var p=y(F(245)),n=y(F(250)),v=y(F(254)),r=y(F(109)),h=F(248),k=F(72),f=F(80),e=F(74),d=F(121),a=F(68),c=F(66),b=F(145),m=function(){var z=function(u,C){z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,A){J.__proto__=A}||function(J,A){for(var x in A)Object.prototype.hasOwnProperty.call(A,x)&&(J[x]=A[x])};return z(u,
C)};return function(u,C){function J(){this.constructor=u}if("function"!==typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");z(u,C);u.prototype=null===C?Object.create(C):(J.prototype=C.prototype,new J)}}();F=function(z){function u(C){C=z.call(this,C)||this;C.extentChanged=!0;C.renderedExtent_=null;C.renderedProjection=null;C.renderedTiles=[];C.newTiles_=!1;C.tmpExtent=(0,e.createEmpty)();C.tmpTileRange_=new v.default(0,0,0,0);return C}m(u,z);u.prototype.isDrawableTile=
function(C){var J=this.getLayer();C=C.getState();J=J.getUseInterimTilesOnError();return C==r.default.LOADED||C==r.default.EMPTY||C==r.default.ERROR&&!J};u.prototype.getTile=function(C,J,A,x){var q=x.pixelRatio,H=x.viewState.projection;x=this.getLayer();C=x.getSource().getTile(C,J,A,q,H);C.getState()==r.default.ERROR&&(x.getUseInterimTilesOnError()?0<x.getPreload()&&(this.newTiles_=!0):C.setState(r.default.LOADED));this.isDrawableTile(C)||(C=C.getInterimTile());return C};u.prototype.getData=function(C){var J=
this.frameState;if(!J)return null;var A=this.getLayer();C=(0,k.apply)(J.pixelToCoordinateTransform,C.slice());var x=A.getExtent();if(x&&!(0,e.containsCoordinate)(x,C))return null;var q=J.pixelRatio,H=J.viewState.projection;x=J.viewState;A=A.getRenderSource();for(var M=A.getTileGridForProjection(x.projection),R=A.getTilePixelRatio(J.pixelRatio),Z=M.getZForResolution(x.resolution);Z>=M.getMinZoom();--Z){var T=M.getTileCoordForCoordAndZ(C,Z);J=A.getTile(Z,T[1],T[2],q,H);if(!(J instanceof p.default||
J instanceof n.default))break;if(J.getState()===r.default.LOADED)return q=M.getOrigin(Z),H=(0,b.toSize)(M.getTileSize(Z)),Z=M.getResolution(Z),M=Math.floor(R*((C[0]-q[0])/Z-T[1]*H[0])),C=Math.floor(R*((q[1]-C[1])/Z-T[2]*H[1])),x=Math.round(R*A.getGutterForProjection(x.projection)),this.getImageData(J.getImage(),M+x,C+x)}return null};u.prototype.loadedTileCallback=function(C,J,A){return this.isDrawableTile(A)?z.prototype.loadedTileCallback.call(this,C,J,A):!1};u.prototype.prepareFrame=function(C){return!!this.getLayer().getSource()};
u.prototype.renderFrame=function(C,J){var A=C.layerStatesArray[C.layerIndex],x=C.viewState,q=x.projection,H=x.resolution,M=x.center,R=x.rotation,Z=C.pixelRatio,T=this.getLayer(),ba=T.getSource(),aa=ba.getRevision(),W=ba.getTileGridForProjection(q),X=W.getZForResolution(H,ba.zDirection),P=W.getResolution(X),w=C.extent,B=C.viewState.resolution,K=ba.getTilePixelRatio(Z),U=Math.round((0,e.getWidth)(w)/B*Z),ka=Math.round((0,e.getHeight)(w)/B*Z),da=A.extent&&(0,d.fromUserExtent)(A.extent,q);da&&(w=(0,e.getIntersection)(w,
(0,d.fromUserExtent)(A.extent,q)));var la=P*U/2/K,wa=P*ka/2/K;M=[M[0]-la,M[1]-wa,M[0]+la,M[1]+wa];var Ua=W.getTileRangeForExtentAndZ(w,X);la={};la[X]={};var hb=this.createLoadedTileFinder(ba,q,la),La=this.tmpExtent,pa=this.tmpTileRange_;this.newTiles_=!1;var Da=R?(0,e.getRotatedViewport)(x.center,B,R,C.size):void 0;for(B=Ua.minX;B<=Ua.maxX;++B)for(wa=Ua.minY;wa<=Ua.maxY;++wa)if(!R||W.tileCoordIntersectsViewport([X,B,wa],Da)){x=this.getTile(X,B,wa,C);if(this.isDrawableTile(x)){var Ma=(0,a.getUid)(this);
if(x.getState()==r.default.LOADED){la[X][x.tileCoord.toString()]=x;var ua=x.inTransition(Ma);ua&&1!==A.opacity&&(x.endTransition(Ma),ua=!1);this.newTiles_||!ua&&-1!==this.renderedTiles.indexOf(x)||(this.newTiles_=!0)}if(1===x.getAlpha(Ma,C.time))continue}ua=W.getTileCoordChildTileRange(x.tileCoord,pa,La);Ma=!1;ua&&(Ma=hb(X+1,ua));Ma||W.forEachTileCoordParentTileRange(x.tileCoord,hb,pa,La)}H=P/H*Z/K;(0,k.compose)(this.pixelTransform,C.size[0]/2,C.size[1]/2,1/Z,1/Z,R,-U/2,-ka/2);R=(0,k.toString)(this.pixelTransform);
this.useContainer(J,R,this.getBackground(C));J=this.context;Ua=J.canvas;(0,k.makeInverse)(this.inversePixelTransform,this.pixelTransform);(0,k.compose)(this.tempTransform,U/2,ka/2,H,H,0,-U/2,-ka/2);Ua.width!=U||Ua.height!=ka?(Ua.width=U,Ua.height=ka):this.containerReused||J.clearRect(0,0,U,ka);da&&this.clipUnrotated(J,C,da);ba.getInterpolate()||(0,f.assign)(J,h.IMAGE_SMOOTHING_DISABLED);this.preRender(J,C);this.renderedTiles.length=0;U=Object.keys(la).map(Number);U.sort(c.numberSafeCompareFunction);
if(1!==A.opacity||this.containerReused&&!ba.getOpaque(C.viewState.projection)){var Aa=[];var qa=[]}else U=U.reverse();for(ka=U.length-1;0<=ka;--ka){da=U[ka];x=ba.getTilePixelSize(da,Z,q);B=W.getResolution(da)/P;hb=x[0]*B*H;La=x[1]*B*H;pa=W.getTileCoordForCoordAndZ((0,e.getTopLeft)(M),da);x=W.getTileCoordExtent(pa);Da=(0,k.apply)(this.tempTransform,[K*(x[0]-M[0])/P,K*(M[3]-x[3])/P]);Ma=K*ba.getGutterForProjection(q);var Ha=la[da],Va;for(Va in Ha){x=Ha[Va];wa=x.tileCoord;B=pa[1]-wa[1];ua=Math.round(Da[0]-
(B-1)*hb);wa=pa[2]-wa[2];var eb=Math.round(Da[1]-(wa-1)*La);B=Math.round(Da[0]-B*hb);wa=Math.round(Da[1]-wa*La);var ta=ua-B,Qa=eb-wa,oa=X===da;ua=oa&&1!==x.getAlpha((0,a.getUid)(this),C.time);var Y=!1;if(!ua)if(Aa){eb=[B,wa,B+ta,wa,B+ta,wa+Qa,B,wa+Qa];for(var ja=0,Ga=Aa.length;ja<Ga;++ja)if(X!==da&&da<qa[ja]){var Wa=Aa[ja];(0,e.intersects)([B,wa,B+ta,wa+Qa],[Wa[0],Wa[3],Wa[4],Wa[7]])&&(Y||(J.save(),Y=!0),J.beginPath(),J.moveTo(eb[0],eb[1]),J.lineTo(eb[2],eb[3]),J.lineTo(eb[4],eb[5]),J.lineTo(eb[6],
eb[7]),J.moveTo(Wa[6],Wa[7]),J.lineTo(Wa[4],Wa[5]),J.lineTo(Wa[2],Wa[3]),J.lineTo(Wa[0],Wa[1]),J.clip())}Aa.push(eb);qa.push(da)}else J.clearRect(B,wa,ta,Qa);this.drawTileImage(x,C,B,wa,ta,Qa,Ma,oa);Aa&&!ua?(Y&&J.restore(),this.renderedTiles.unshift(x)):this.renderedTiles.push(x);this.updateUsedTiles(C.usedTiles,ba,x)}}this.renderedRevision=aa;this.renderedResolution=P;this.extentChanged=!this.renderedExtent_||!(0,e.equals)(this.renderedExtent_,M);this.renderedExtent_=M;this.renderedPixelRatio=Z;
this.renderedProjection=q;this.manageTilePyramid(C,ba,W,Z,q,w,X,T.getPreload());this.scheduleExpireCache(C,ba);this.postRender(J,C);A.extent&&J.restore();(0,f.assign)(J,h.IMAGE_SMOOTHING_ENABLED);R!==Ua.style.transform&&(Ua.style.transform=R);return this.container};u.prototype.drawTileImage=function(C,J,A,x,q,H,M,R){var Z=this.getTileImage(C);if(Z){var T=(0,a.getUid)(this),ba=J.layerStatesArray[J.layerIndex],aa=ba.opacity*(R?C.getAlpha(T,J.time):1),W=aa!==this.context.globalAlpha;W&&(this.context.save(),
this.context.globalAlpha=aa);this.context.drawImage(Z,M,M,Z.width-2*M,Z.height-2*M,A,x,q,H);W&&this.context.restore();aa!==ba.opacity?J.animate=!0:R&&C.endTransition(T)}};u.prototype.getImage=function(){var C=this.context;return C?C.canvas:null};u.prototype.getTileImage=function(C){return C.getImage()};u.prototype.scheduleExpireCache=function(C,J){J.canExpireCache()&&(J=function(A,x,q){x=(0,a.getUid)(A);x in q.usedTiles&&A.expireCache(q.viewState.projection,q.usedTiles[x])}.bind(null,J),C.postRenderFunctions.push(J))};
u.prototype.updateUsedTiles=function(C,J,A){J=(0,a.getUid)(J);J in C||(C[J]={});C[J][A.getKey()]=!0};u.prototype.manageTilePyramid=function(C,J,A,x,q,H,M,R,Z){var T=(0,a.getUid)(J);T in C.wantedTiles||(C.wantedTiles[T]={});var ba=C.wantedTiles[T],aa=C.tileQueue,W=A.getMinZoom(),X=C.viewState.rotation;C=X?(0,e.getRotatedViewport)(C.viewState.center,C.viewState.resolution,X,C.size):void 0;var P=0,w,B,K;for(K=W;K<=M;++K){var U=A.getTileRangeForExtentAndZ(H,K,U);var ka=A.getResolution(K);for(w=U.minX;w<=
U.maxX;++w)for(B=U.minY;B<=U.maxY;++B)if(!X||A.tileCoordIntersectsViewport([K,w,B],C))M-K<=R?(++P,W=J.getTile(K,w,B,x,q),W.getState()==r.default.IDLE&&(ba[W.getKey()]=!0,aa.isKeyQueued(W.getKey())||aa.enqueue([W,T,A.getTileCoordCenter(W.tileCoord),ka])),void 0!==Z&&Z(W)):J.useTile(K,w,B,q)}J.updateCacheSize(P,q)};return u}(sa.default);G.default=F};
shadow$provide[335]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(333));var p=y(F(334)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){return v.call(this,h)||this}n(r,v);r.prototype.createRenderer=function(){return new p.default(this)};return r}(sa.default);G.default=F};
shadow$provide[336]=function(sa,F,ob,G){function y(W){return W&&W.__esModule?W:{default:W}}function p(W,X,P){if(R)return new ImageData(W,X,P);Z||(Z=document.createElement("canvas").getContext("2d"));X=Z.createImageData(X,P);X.data.set(W);return X}function n(W){var X=!0;try{new ImageData(10,10)}catch(P){X=!1}return function(P){var w=P.buffers,B=P.meta,K=P.width,U=P.height,ka=w.length,da=w[0].byteLength;if(P.imageOps){da=Array(ka);for(P=0;P<ka;++P){var la=P;var wa=new Uint8ClampedArray(w[P]);var Ua=
K,hb=U;wa=X?new ImageData(wa,Ua,hb):{data:wa,width:Ua,height:hb};da[la]=wa}return W(da,B).data.buffer}K=new Uint8ClampedArray(da);U=Array(ka);la=Array(ka);for(P=0;P<ka;++P)U[P]=new Uint8ClampedArray(w[P]),la[P]=[0,0,0,0];for(w=0;w<da;w+=4){for(P=0;P<ka;++P)wa=U[P],la[P][0]=wa[w],la[P][1]=wa[w+1],la[P][2]=wa[w+2],la[P][3]=wa[w+3];P=W(la,B);K[w]=P[0];K[w+1]=P[1];K[w+2]=P[2];K[w+3]=P[3]}return K.buffer}}function v(W,X){var P=Object.keys(W.lib||{}).map(function(w){return"var "+w+" \x3d "+W.lib[w].toString()+
";"}).concat(["var __minion__ \x3d ("+n.toString()+")(",W.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);P=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+e.from(P.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(P,{type:"text/javascript"})));P.addEventListener("message",X);return P}function r(W,X){var P=
n(W.operation),w=!1;return{postMessage:function(B){setTimeout(function(){w||X({data:{buffer:P(B),meta:B.meta}})},0)},terminate:function(){w=!0}}}function h(W,X){var P=W.getRenderer();if(!P)throw Error("Unsupported layer type: "+W);if(!P.prepareFrame(X))return null;W=X.size[0];var w=X.size[1];if(0===W||0===w)return null;X=P.renderFrame(X,null);if(X instanceof HTMLCanvasElement)var B=X;else{X&&(B=X.firstElementChild);if(!(B instanceof HTMLCanvasElement))throw Error("Unsupported rendered element: "+
B);if(B.width===W&&B.height===w)return B.getContext("2d").getImageData(0,0,W,w)}aa?(X=aa.canvas,X.width!==W||X.height!==w?aa=(0,A.createCanvasContext2D)(W,w):aa.clearRect(0,0,W,w)):aa=(0,A.createCanvasContext2D)(W,w);aa.drawImage(B,0,0,W,w);return aa.getImageData(0,0,W,w)}function k(W){return W.map(function(X){return X.getLayerState()})}function f(W){for(var X=W.length,P=Array(X),w=0;w<X;++w){var B=w,K=void 0,U=W[w];U instanceof m.default?U instanceof C.default?K=new z.default({source:U}):U instanceof
b.default&&(K=new c.default({source:U})):K=U;P[B]=K}return P}var e=F(21).Buffer;"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.newImageData=p;G.default=G.RasterSourceEvent=G.Processor=void 0;sa=y(F(65));ob=y(F(78));var d=y(F(82)),a=y(F(322)),c=y(F(331)),b=y(F(319)),m=y(F(226)),z=y(F(335)),u=y(F(110)),C=y(F(257)),J=F(80),A=F(95),x=F(72),q=F(74),H=F(68),M=function(){var W=function(X,P){W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,B){w.__proto__=B}||function(w,
B){for(var K in B)Object.prototype.hasOwnProperty.call(B,K)&&(w[K]=B[K])};return W(X,P)};return function(X,P){function w(){this.constructor=X}if("function"!==typeof P&&null!==P)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");W(X,P);X.prototype=null===P?Object.create(P):(w.prototype=P.prototype,new w)}}(),R=!0;try{new ImageData(10,10)}catch(W){R=!1}var Z,T=function(W){function X(P){var w=W.call(this)||this;w._imageOps=!!P.imageOps;var B=0===P.threads?0:w._imageOps?
1:P.threads||1;var K=Array(B);if(B)for(var U=0;U<B;++U)K[U]=v(P,w._onWorkerMessage.bind(w,U));else K[0]=r(P,w._onWorkerMessage.bind(w,0));w._workers=K;w._queue=[];w._maxQueueLength=P.queue||Infinity;w._running=0;w._dataLookup={};w._job=null;return w}M(X,W);X.prototype.process=function(P,w,B){this._enqueue({inputs:P,meta:w,callback:B});this._dispatch()};X.prototype._enqueue=function(P){for(this._queue.push(P);this._queue.length>this._maxQueueLength;)this._queue.shift().callback(null,null)};X.prototype._dispatch=
function(){if(!this._running&&0!==this._queue.length){var P=this._queue.shift();this._job=P;var w=P.inputs[0].width,B=P.inputs[0].height,K=P.inputs.map(function(La){return La.data.buffer}),U=this._workers.length;this._running=U;if(1===U)this._workers[0].postMessage({buffers:K,meta:P.meta,imageOps:this._imageOps,width:w,height:B},K);else for(var ka=4*Math.ceil(P.inputs[0].data.length/4/U),da=0;da<U;++da){for(var la=da*ka,wa=[],Ua=0,hb=K.length;Ua<hb;++Ua)wa.push(K[Ua].slice(la,la+ka));this._workers[da].postMessage({buffers:wa,
meta:P.meta,imageOps:this._imageOps,width:w,height:B},wa)}}};X.prototype._onWorkerMessage=function(P,w){this.disposed||(this._dataLookup[P]=w.data,--this._running,0===this._running&&this._resolveJob())};X.prototype._resolveJob=function(){var P=this._job,w=this._workers.length;if(1===w){var B=new Uint8ClampedArray(this._dataLookup[0].buffer);var K=this._dataLookup[0].meta}else{var U=P.inputs[0].data.length;B=new Uint8ClampedArray(U);K=Array(w);U=4*Math.ceil(U/4/w);for(var ka=0;ka<w;++ka){var da=ka*
U;B.set(new Uint8ClampedArray(this._dataLookup[ka].buffer),da);K[ka]=this._dataLookup[ka].meta}}this._job=null;this._dataLookup={};P.callback(null,p(B,P.inputs[0].width,P.inputs[0].height),K);this._dispatch()};X.prototype.disposeInternal=function(){for(var P=0;P<this._workers.length;++P)this._workers[P].terminate();this._workers.length=0};return X}(sa.default);G.Processor=T;var ba=function(W){function X(P,w,B){P=W.call(this,P)||this;P.extent=w.extent;P.resolution=w.viewState.resolution/w.pixelRatio;
P.data=B;return P}M(X,W);return X}(ob.default);G.RasterSourceEvent=ba;F=function(W){function X(P){var w=W.call(this,{projection:null})||this;w.processor_=null;w.operationType_=void 0!==P.operationType?P.operationType:"pixel";w.threads_=void 0!==P.threads?P.threads:1;w.layers_=f(P.sources);for(var B=w.changed.bind(w),K=0,U=w.layers_.length;K<U;++K)w.layers_[K].addEventListener(d.default.CHANGE,B);w.tileQueue_=new u.default(function(){return 1},w.changed.bind(w));w.renderedImageCanvas_=null;w.frameState_=
{animate:!1,coordinateToPixelTransform:(0,x.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:k(w.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,x.create)(),postRenderFunctions:[],size:[0,0],tileQueue:w.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,H.getUid)(w),renderTargets:{}};w.setAttributions(function(ka){for(var da=[],la=0,wa=P.sources.length;la<wa;++la){var Ua=P.sources[la];Ua=(Ua instanceof m.default?Ua:
Ua.getSource()).getAttributions();"function"===typeof Ua&&(Ua=Ua(ka),da.push.apply(da,Ua))}return 0!==da.length?da:null});void 0!==P.operation&&w.setOperation(P.operation,P.lib);return w}M(X,W);X.prototype.setOperation=function(P,w){this.processor_&&this.processor_.dispose();this.processor_=new T({operation:P,imageOps:"image"===this.operationType_,queue:1,lib:w,threads:this.threads_});this.changed()};X.prototype.updateFrameState_=function(P,w,B){var K=(0,J.assign)({},this.frameState_);K.viewState=
(0,J.assign)({},K.viewState);var U=(0,q.getCenter)(P);K.extent=P.slice();K.size[0]=Math.round((0,q.getWidth)(P)/w);K.size[1]=Math.round((0,q.getHeight)(P)/w);K.time=Date.now();P=K.viewState;P.center=U;P.projection=B;P.resolution=w;return K};X.prototype.allSourcesReady_=function(){for(var P=!0,w,B=0,K=this.layers_.length;B<K;++B)if(w=this.layers_[B].getSource(),"ready"!==w.getState()){P=!1;break}return P};X.prototype.getImage=function(P,w,B,K){if(!this.allSourcesReady_())return null;this.requestedFrameState_=
B=this.updateFrameState_(P,w,K);if(this.renderedImageCanvas_){K=this.renderedImageCanvas_.getResolution();var U=this.renderedImageCanvas_.getExtent();w===K&&(0,q.equals)(P,U)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();B.tileQueue.loadMoreTiles(16,16);B.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_};X.prototype.processSources_=function(){for(var P=this.requestedFrameState_,
w=this.layers_.length,B=Array(w),K=0;K<w;++K){P.layerIndex=K;var U=h(this.layers_[K],P);if(U)B[K]=U;else return}w={};this.dispatchEvent(new ba("beforeoperations",P,w));this.processor_.process(B,w,this.onWorkerComplete_.bind(this,P))};X.prototype.onWorkerComplete_=function(P,w,B,K){if(!w&&B){w=P.extent;var U=P.viewState.resolution;if(U===this.requestedFrameState_.viewState.resolution&&(0,q.equals)(w,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var ka=this.renderedImageCanvas_.getImage().getContext("2d");
else{ka=Math.round((0,q.getWidth)(w)/U);var da=Math.round((0,q.getHeight)(w)/U);ka=(0,A.createCanvasContext2D)(ka,da);this.renderedImageCanvas_=new a.default(w,U,1,ka.canvas)}ka.putImageData(B,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ba("afteroperations",P,K));P.animate&&requestAnimationFrame(this.changed.bind(this))}}};X.prototype.disposeInternal=function(){this.processor_&&this.processor_.dispose();W.prototype.disposeInternal.call(this)};return X}(b.default);
var aa=null;G.default=F};
shadow$provide[337]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(263));F=F(328);var y=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}(),p=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',F.ATTRIBUTION],n={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",opaque:!1},"terrain-lines":{extension:"png",
opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},v={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};F=function(r){function h(k){var f=void 0!==k.imageSmoothing?k.imageSmoothing:!0;void 0!==k.interpolate&&
(f=k.interpolate);var e=k.layer.indexOf("-");e=-1==e?k.layer:k.layer.slice(0,e);e=v[e];var d=n[k.layer];return r.call(this,{attributions:p,cacheSize:k.cacheSize,crossOrigin:"anonymous",interpolate:f,maxZoom:void 0!=k.maxZoom?k.maxZoom:e.maxZoom,minZoom:void 0!=k.minZoom?k.minZoom:e.minZoom,opaque:d.opaque,reprojectionErrorThreshold:k.reprojectionErrorThreshold,tileLoadFunction:k.tileLoadFunction,transition:k.transition,url:void 0!==k.url?k.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+k.layer+
"/{z}/{x}/{y}."+d.extension,wrapX:k.wrapX,zDirection:k.zDirection})||this}y(h,r);return h}(sa.default);G.default=F};
shadow$provide[338]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(f){return f&&f.__esModule?f:{default:f}}(F(260));var y=F(320),p=F(80),n=F(74),v=F(75),r=F(145),h=F(251),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){d=d?d:{};var a=void 0!==d.imageSmoothing?d.imageSmoothing:!0;void 0!==d.interpolate&&(a=d.interpolate);a=f.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,interpolate:a,projection:d.projection,reprojectionErrorThreshold:d.reprojectionErrorThreshold,
tileGrid:d.tileGrid,tileLoadFunction:d.tileLoadFunction,url:d.url,urls:d.urls,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition,zDirection:d.zDirection})||this;a.params_=d.params||{};a.hidpi_=void 0!==d.hidpi?d.hidpi:!0;a.tmpExtent_=(0,n.createEmpty)();a.setKey(a.getKeyForParams_());return a}k(e,f);e.prototype.getKeyForParams_=function(){var d=0,a=[],c;for(c in this.params_)a[d++]=c+"-"+this.params_[c];return a.join("/")};e.prototype.getParams=function(){return this.params_};e.prototype.getRequestUrl_=
function(d,a,c,b,m,z){var u=this.urls;if(u)return m=m.getCode().split(/:(?=\d+$)/).pop(),z.SIZE=a[0]+","+a[1],z.BBOX=c.join(","),z.BBOXSR=m,z.IMAGESR=m,z.DPI=Math.round(z.DPI?z.DPI*b:90*b),1==u.length?u=u[0]:(d=(0,v.modulo)((0,h.hash)(d),u.length),u=u[d]),u=u.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,y.appendParams)(u,z)};e.prototype.getTilePixelRatio=function(d){return this.hidpi_?d:1};e.prototype.updateParams=function(d){(0,p.assign)(this.params_,
d);this.setKey(this.getKeyForParams_())};e.prototype.tileUrlFunction=function(d,a,c){var b=this.getTileGrid();b||(b=this.getTileGridForProjection(c));if(!(b.getResolutions().length<=d[0])){1==a||this.hidpi_||(a=1);var m=b.getTileCoordExtent(d,this.tmpExtent_);b=(0,r.toSize)(b.getTileSize(d[0]),this.tmpSize);1!=a&&(b=(0,r.scale)(b,a,this.tmpSize));var z={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};(0,p.assign)(z,this.params_);return this.getRequestUrl_(d,b,m,a,c,z)}};return e}(sa.default);G.default=F};
shadow$provide[339]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(v){return v&&v.__esModule?v:{default:v}}(F(263));var y=F(95),p=F(145),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h){var k=this;h=h||{};return k=v.call(this,{opaque:!1,projection:h.projection,tileGrid:h.tileGrid,wrapX:void 0!==h.wrapX?h.wrapX:!0,zDirection:h.zDirection,url:h.template||"z:{z} x:{x} y:{y}",tileLoadFunction:function(f,e){var d=f.getTileCoord()[0];d=(0,p.toSize)(k.tileGrid.getTileSize(d));var a=(0,y.createCanvasContext2D)(d[0],d[1]);a.strokeStyle="grey";
a.strokeRect(.5,.5,d[0]+.5,d[1]+.5);a.fillStyle="grey";a.strokeStyle="white";a.textAlign="center";a.textBaseline="middle";a.font="24px sans-serif";a.lineWidth=4;a.strokeText(e,d[0]/2,d[1]/2,d[0]);a.fillText(e,d[0]/2,d[1]/2,d[0]);f.setImage(a.canvas)}})||this}n(r,v);return r}(sa.default);G.default=F};
shadow$provide[340]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(f){return f&&f.__esModule?f:{default:f}}(F(260));var y=F(74),p=F(71),n=F(258),v=F(256),r=F(121),h=F(261),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){var a=void 0!==d.imageSmoothing?d.imageSmoothing:!0;void 0!==d.interpolate&&(a=d.interpolate);a=f.call(this,{attributions:d.attributions,cacheSize:d.cacheSize,crossOrigin:d.crossOrigin,interpolate:a,projection:(0,r.get)("EPSG:3857"),reprojectionErrorThreshold:d.reprojectionErrorThreshold,
state:"loading",tileLoadFunction:d.tileLoadFunction,wrapX:void 0!==d.wrapX?d.wrapX:!0,transition:d.transition,zDirection:d.zDirection})||this;a.tileJSON_=null;a.tileSize_=d.tileSize;if(d.url)if(d.jsonp)(0,h.jsonp)(d.url,a.handleTileJSONResponse.bind(a),a.handleTileJSONError.bind(a));else{var c=new XMLHttpRequest;c.addEventListener("load",a.onXHRLoad_.bind(a));c.addEventListener("error",a.onXHRError_.bind(a));c.open("GET",d.url);c.send()}else d.tileJSON?a.handleTileJSONResponse(d.tileJSON):(0,p.assert)(!1,
51);return a}k(e,f);e.prototype.onXHRLoad_=function(d){d=d.target;if(!d.status||200<=d.status&&300>d.status){var a=void 0;try{a=JSON.parse(d.responseText)}catch(c){this.handleTileJSONError();return}this.handleTileJSONResponse(a)}else this.handleTileJSONError()};e.prototype.onXHRError_=function(d){this.handleTileJSONError()};e.prototype.getTileJSON=function(){return this.tileJSON_};e.prototype.handleTileJSONResponse=function(d){var a=(0,r.get)("EPSG:4326"),c=this.getProjection();if(void 0!==d.bounds){var b=
(0,r.getTransformFromProjections)(a,c);b=(0,y.applyTransform)(d.bounds,b)}c=(0,v.extentFromProjection)(c);this.tileGrid=a=(0,v.createXYZ)({extent:c,maxZoom:d.maxzoom||22,minZoom:d.minzoom||0,tileSize:this.tileSize_});this.tileUrlFunction=(0,n.createFromTemplates)(d.tiles,a);if(void 0!==d.attribution&&!this.getAttributions()){var m=void 0!==b?b:c;this.setAttributions(function(z){return(0,y.intersects)(m,z.extent)?[d.attribution]:null})}this.tileJSON_=d;this.setState("ready")};e.prototype.handleTileJSONError=
function(){this.setState("error")};return e}(sa.default);G.default=F};
shadow$provide[341]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(b){return b&&b.__esModule?b:{default:b}}(F(260));var y=F(326),p=F(320),n=F(71),v=F(80),r=F(74),h=F(145),k=F(249),f=F(90),e=F(121),d=F(75),a=F(251),c=function(){var b=function(m,z){b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,C){u.__proto__=C}||function(u,C){for(var J in C)Object.prototype.hasOwnProperty.call(C,J)&&(u[J]=C[J])};return b(m,z)};return function(m,
z){function u(){this.constructor=m}if("function"!==typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");b(m,z);m.prototype=null===z?Object.create(z):(u.prototype=z.prototype,new u)}}();F=function(b){function m(z){z=z?z:{};var u=void 0!==z.imageSmoothing?z.imageSmoothing:!0;void 0!==z.interpolate&&(u=z.interpolate);var C=z.params||{};u=b.call(this,{attributions:z.attributions,attributionsCollapsible:z.attributionsCollapsible,cacheSize:z.cacheSize,
crossOrigin:z.crossOrigin,interpolate:u,opaque:!("TRANSPARENT"in C?C.TRANSPARENT:1),projection:z.projection,reprojectionErrorThreshold:z.reprojectionErrorThreshold,tileClass:z.tileClass,tileGrid:z.tileGrid,tileLoadFunction:z.tileLoadFunction,url:z.url,urls:z.urls,wrapX:void 0!==z.wrapX?z.wrapX:!0,transition:z.transition,zDirection:z.zDirection})||this;u.gutter_=void 0!==z.gutter?z.gutter:0;u.params_=C;u.v13_=!0;u.serverType_=z.serverType;u.hidpi_=void 0!==z.hidpi?z.hidpi:!0;u.tmpExtent_=(0,r.createEmpty)();
u.updateV13_();u.setKey(u.getKeyForParams_());return u}c(m,b);m.prototype.getFeatureInfoUrl=function(z,u,C,J){C=(0,e.get)(C);var A=this.getProjection(),x=this.getTileGrid();x||(x=this.getTileGridForProjection(C));u=x.getZForResolution(u,this.zDirection);u=x.getTileCoordForCoordAndZ(z,u);if(!(x.getResolutions().length<=u[0])){var q=x.getResolution(u[0]),H=x.getTileCoordExtent(u,this.tmpExtent_);x=(0,h.toSize)(x.getTileSize(u[0]),this.tmpSize);var M=this.gutter_;0!==M&&(x=(0,h.buffer)(x,M,this.tmpSize),
H=(0,r.buffer)(H,q*M,H));A&&A!==C&&(q=(0,k.calculateSourceResolution)(A,C,z,q),H=(0,e.transformExtent)(H,C,A),z=(0,e.transform)(z,C,A));M={SERVICE:"WMS",VERSION:y.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,v.assign)(M,this.params_,J);J=Math.floor((H[3]-z[1])/q);M[this.v13_?"I":"X"]=Math.floor((z[0]-H[0])/q);M[this.v13_?"J":"Y"]=J;return this.getRequestUrl_(u,x,H,1,A||C,M)}};m.prototype.getLegendUrl=function(z,u){if(void 0!==this.urls[0]){var C=
{SERVICE:"WMS",VERSION:y.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===u||void 0===u.LAYER){var J=this.params_.LAYERS;if(Array.isArray(J)&&1!==J.length)return;C.LAYER=J}void 0!==z&&(J=this.getProjection()?this.getProjection().getMetersPerUnit():1,C.SCALE=z*J/2.8E-4);(0,v.assign)(C,u);return(0,p.appendParams)(this.urls[0],C)}};m.prototype.getGutter=function(){return this.gutter_};m.prototype.getParams=function(){return this.params_};m.prototype.getRequestUrl_=function(z,
u,C,J,A,x){var q=this.urls;if(q){x.WIDTH=u[0];x.HEIGHT=u[1];x[this.v13_?"CRS":"SRS"]=A.getCode();"STYLES"in this.params_||(x.STYLES="");if(1!=J)switch(this.serverType_){case "geoserver":u=90*J+.5|0;x.FORMAT_OPTIONS="FORMAT_OPTIONS"in x?x.FORMAT_OPTIONS+(";dpi:"+u):"dpi:"+u;break;case "mapserver":x.MAP_RESOLUTION=90*J;break;case "carmentaserver":case "qgis":x.DPI=90*J;break;default:(0,n.assert)(!1,52)}A=A.getAxisOrientation();this.v13_&&"ne"==A.substr(0,2)&&(A=C[0],C[0]=C[1],C[1]=A,A=C[2],C[2]=C[3],
C[3]=A);x.BBOX=C.join(",");1==q.length?q=q[0]:(z=(0,d.modulo)((0,a.hash)(z),q.length),q=q[z]);return(0,p.appendParams)(q,x)}};m.prototype.getTilePixelRatio=function(z){return this.hidpi_&&void 0!==this.serverType_?z:1};m.prototype.getKeyForParams_=function(){var z=0,u=[],C;for(C in this.params_)u[z++]=C+"-"+this.params_[C];return u.join("/")};m.prototype.updateParams=function(z){(0,v.assign)(this.params_,z);this.updateV13_();this.setKey(this.getKeyForParams_())};m.prototype.updateV13_=function(){this.v13_=
0<=(0,f.compareVersions)(this.params_.VERSION||y.DEFAULT_VERSION,"1.3")};m.prototype.tileUrlFunction=function(z,u,C){var J=this.getTileGrid();J||(J=this.getTileGridForProjection(C));if(!(J.getResolutions().length<=z[0])){1==u||this.hidpi_&&void 0!==this.serverType_||(u=1);var A=J.getResolution(z[0]),x=J.getTileCoordExtent(z,this.tmpExtent_);J=(0,h.toSize)(J.getTileSize(z[0]),this.tmpSize);var q=this.gutter_;0!==q&&(J=(0,h.buffer)(J,q,this.tmpSize),x=(0,r.buffer)(x,A*q,x));1!=u&&(J=(0,h.scale)(J,u,
this.tmpSize));A={SERVICE:"WMS",VERSION:y.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,v.assign)(A,this.params_);return this.getRequestUrl_(z,J,x,u,C,A)}};return m}(sa.default);G.default=F};
shadow$provide[342]=function(sa,F,ob,G){function y(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.CustomTile=void 0;var p=y(F(82));sa=y(F(244));ob=y(F(257));var n=y(F(109)),v=F(74),r=F(71),h=F(258),k=F(256),f=F(251),e=F(121),d=F(83),a=F(261),c=function(){var m=function(z,u){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,J){C.__proto__=J}||function(C,J){for(var A in J)Object.prototype.hasOwnProperty.call(J,A)&&(C[A]=J[A])};
return m(z,u)};return function(z,u){function C(){this.constructor=z}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");m(z,u);z.prototype=null===u?Object.create(u):(C.prototype=u.prototype,new C)}}(),b=function(m){function z(u,C,J,A,x,q){u=m.call(this,u,C)||this;u.src_=J;u.extent_=A;u.preemptive_=x;u.grid_=null;u.keys_=null;u.data_=null;u.jsonp_=q;return u}c(z,m);z.prototype.getImage=function(){return null};z.prototype.getData=
function(u){if(!this.grid_||!this.keys_)return null;var C=this.grid_[Math.floor((1-(u[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!==typeof C)return null;u=C.charCodeAt(Math.floor((u[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*C.length));93<=u&&u--;35<=u&&u--;u-=32;C=null;u in this.keys_&&(u=this.keys_[u],C=this.data_&&u in this.data_?this.data_[u]:u);return C};z.prototype.forDataAtCoordinate=function(u,C,J){this.state==n.default.EMPTY&&!0===J?(this.state=
n.default.IDLE,(0,d.listenOnce)(this,p.default.CHANGE,function(A){C(this.getData(u))},this),this.loadInternal_()):!0===J?setTimeout(function(){C(this.getData(u))}.bind(this),0):C(this.getData(u))};z.prototype.getKey=function(){return this.src_};z.prototype.handleError_=function(){this.state=n.default.ERROR;this.changed()};z.prototype.handleLoad_=function(u){this.grid_=u.grid;this.keys_=u.keys;this.data_=u.data;this.state=n.default.LOADED;this.changed()};z.prototype.loadInternal_=function(){if(this.state==
n.default.IDLE)if(this.state=n.default.LOADING,this.jsonp_)(0,a.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));else{var u=new XMLHttpRequest;u.addEventListener("load",this.onXHRLoad_.bind(this));u.addEventListener("error",this.onXHRError_.bind(this));u.open("GET",this.src_);u.send()}};z.prototype.onXHRLoad_=function(u){u=u.target;if(!u.status||200<=u.status&&300>u.status){var C=void 0;try{C=JSON.parse(u.responseText)}catch(J){this.handleError_();return}this.handleLoad_(C)}else this.handleError_()};
z.prototype.onXHRError_=function(u){this.handleError_()};z.prototype.load=function(){this.preemptive_?this.loadInternal_():this.setState(n.default.EMPTY)};return z}(sa.default);G.CustomTile=b;F=function(m){function z(u){var C=m.call(this,{projection:(0,e.get)("EPSG:3857"),state:"loading",zDirection:u.zDirection})||this;C.preemptive_=void 0!==u.preemptive?u.preemptive:!0;C.tileUrlFunction_=h.nullTileUrlFunction;C.template_=void 0;C.jsonp_=u.jsonp||!1;if(u.url)if(C.jsonp_)(0,a.jsonp)(u.url,C.handleTileJSONResponse.bind(C),
C.handleTileJSONError.bind(C));else{var J=new XMLHttpRequest;J.addEventListener("load",C.onXHRLoad_.bind(C));J.addEventListener("error",C.onXHRError_.bind(C));J.open("GET",u.url);J.send()}else u.tileJSON?C.handleTileJSONResponse(u.tileJSON):(0,r.assert)(!1,51);return C}c(z,m);z.prototype.onXHRLoad_=function(u){u=u.target;if(!u.status||200<=u.status&&300>u.status){var C=void 0;try{C=JSON.parse(u.responseText)}catch(J){this.handleTileJSONError();return}this.handleTileJSONResponse(C)}else this.handleTileJSONError()};
z.prototype.onXHRError_=function(u){this.handleTileJSONError()};z.prototype.getTemplate=function(){return this.template_};z.prototype.forDataAtCoordinateAndResolution=function(u,C,J,A){this.tileGrid?(C=this.tileGrid.getZForResolution(C,this.zDirection),C=this.tileGrid.getTileCoordForCoordAndZ(u,C),this.getTile(C[0],C[1],C[2],1,this.getProjection()).forDataAtCoordinate(u,J,A)):!0===A?setTimeout(function(){J(null)},0):J(null)};z.prototype.handleTileJSONError=function(){this.setState("error")};z.prototype.handleTileJSONResponse=
function(u){var C=(0,e.get)("EPSG:4326"),J=this.getProjection();if(void 0!==u.bounds){var A=(0,e.getTransformFromProjections)(C,J);A=(0,v.applyTransform)(u.bounds,A)}J=(0,k.extentFromProjection)(J);this.tileGrid=C=(0,k.createXYZ)({extent:J,maxZoom:u.maxzoom||22,minZoom:u.minzoom||0});this.template_=u.template;var x=u.grids;if(x){this.tileUrlFunction_=(0,h.createFromTemplates)(x,C);if(void 0!==u.attribution){var q=void 0!==A?A:J;this.setAttributions(function(H){return(0,v.intersects)(q,H.extent)?[u.attribution]:
null})}this.setState("ready")}else this.setState("error")};z.prototype.getTile=function(u,C,J,A,x){var q=(0,f.getKeyZXY)(u,C,J);if(this.tileCache.containsKey(q))return this.tileCache.get(q);u=[u,C,J];C=this.getTileCoordForTileUrlFunction(u,x);A=this.tileUrlFunction_(C,A,x);A=new b(u,void 0!==A?n.default.IDLE:n.default.EMPTY,void 0!==A?A:"",this.tileGrid.getTileCoordExtent(u),this.preemptive_,this.jsonp_);this.tileCache.set(q,A);return A};z.prototype.useTile=function(u,C,J){u=(0,f.getKeyZXY)(u,C,J);
this.tileCache.containsKey(u)&&this.tileCache.get(u)};return z}(ob.default);G.default=F};
shadow$provide[343]=function(sa,F,ob,G){function y(v){return v&&v.__esModule?v:{default:v}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(244));var p=y(F(109)),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+
String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(h,k,f,e,d,a){h=v.call(this,h,k,a)||this;h.extent=null;h.format_=e;h.features_=null;h.projection=null;h.tileLoadFunction_=d;h.url_=f;h.key=f;return h}n(r,v);r.prototype.getFormat=function(){return this.format_};r.prototype.getFeatures=function(){return this.features_};r.prototype.load=function(){this.state==p.default.IDLE&&(this.setState(p.default.LOADING),
this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))};r.prototype.onLoad=function(h,k){this.setFeatures(h)};r.prototype.onError=function(){this.setState(p.default.ERROR)};r.prototype.setFeatures=function(h){this.features_=h;this.setState(p.default.LOADED)};r.prototype.setLoader=function(h){this.loader_=h};return r}(sa.default);G.default=F};
shadow$provide[344]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(244));var y=F(95),p=F(68),n=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}(),v=[];F=function(r){function h(k,f,e,d){k=r.call(this,k,f,{transition:0})||this;k.context_={};k.executorGroups={};k.declutterExecutorGroups={};k.loadingSourceTiles=0;k.hitDetectionImageData={};k.replayState_={};k.sourceTiles=[];k.errorTileKeys={};k.getSourceTiles=d.bind(void 0,k);k.wrappedTileCoord=e;return k}n(h,r);h.prototype.getContext=function(k){k=(0,p.getUid)(k);k in this.context_||
(this.context_[k]=(0,y.createCanvasContext2D)(1,1,v));return this.context_[k]};h.prototype.hasContext=function(k){return(0,p.getUid)(k)in this.context_};h.prototype.getImage=function(k){return this.hasContext(k)?this.getContext(k).canvas:null};h.prototype.getReplayState=function(k){k=(0,p.getUid)(k);k in this.replayState_||(this.replayState_[k]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1});return this.replayState_[k]};
h.prototype.load=function(){this.getSourceTiles()};h.prototype.release=function(){for(var k in this.context_){var f=this.context_[k];(0,y.releaseCanvas)(f);v.push(f.canvas);delete this.context_[k]}r.prototype.release.call(this)};return h}(sa.default);G.default=F};
shadow$provide[345]=function(sa,F,ob,G){function y(C){return C&&C.__esModule?C:{default:C}}function p(C,J){C.setLoader(function(A,x,q){(0,m.loadFeaturesXhr)(J,C.getFormat(),A,x,q,C.onLoad.bind(C),C.onError.bind(C))})}Object.defineProperty(G,"__esModule",{value:!0});G.defaultLoadFunction=p;G.default=void 0;var n=y(F(82)),v=y(F(343)),r=y(F(252)),h=y(F(255)),k=y(F(109));sa=y(F(259));var f=y(F(344)),e=F(114),d=F(74),a=F(256),c=F(251),b=F(80),m=F(229),z=F(145),u=function(){var C=function(J,A){C=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(x[H]=q[H])};return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}();F=function(C){function J(A){var x=A.projection||"EPSG:3857";var q=A.extent||(0,a.extentFromProjection)(x);
q=A.tileGrid||(0,a.createXYZ)({extent:q,maxResolution:A.maxResolution,maxZoom:void 0!==A.maxZoom?A.maxZoom:22,minZoom:A.minZoom,tileSize:A.tileSize||512});x=C.call(this,{attributions:A.attributions,attributionsCollapsible:A.attributionsCollapsible,cacheSize:A.cacheSize,interpolate:!0,opaque:!1,projection:x,state:A.state,tileGrid:q,tileLoadFunction:A.tileLoadFunction?A.tileLoadFunction:p,tileUrlFunction:A.tileUrlFunction,url:A.url,urls:A.urls,wrapX:void 0===A.wrapX?!0:A.wrapX,transition:A.transition,
zDirection:void 0===A.zDirection?1:A.zDirection})||this;x.format_=A.format?A.format:null;x.sourceTileCache=new r.default(x.tileCache.highWaterMark);x.overlaps_=void 0==A.overlaps?!0:A.overlaps;x.tileClass=A.tileClass?A.tileClass:v.default;x.tileGrids_={};return x}u(J,C);J.prototype.getFeaturesInExtent=function(A){var x=[],q=this.tileCache;if(0===q.getCount())return x;var H=(0,c.fromKey)(q.peekFirstKey())[0],M=this.tileGrid;q.forEach(function(R){if(R.tileCoord[0]===H&&R.getState()===k.default.LOADED){R=
R.getSourceTiles();for(var Z=0,T=R.length;Z<T;++Z){var ba=R[Z];if((0,d.intersects)(A,M.getTileCoordExtent(ba.tileCoord))&&(ba=ba.getFeatures()))for(var aa=0,W=ba.length;aa<W;++aa){var X=ba[aa],P=X.getGeometry();(0,d.intersects)(A,P.getExtent())&&x.push(X)}}}});return x};J.prototype.getOverlaps=function(){return this.overlaps_};J.prototype.clear=function(){this.tileCache.clear();this.sourceTileCache.clear()};J.prototype.expireCache=function(A,x){var q=this.getTileCacheForProjection(A),H=Object.keys(x).reduce(function(M,
R){R=(0,c.getCacheKeyForTileKey)(R);if(R=q.peek(R)){R=R.sourceTiles;for(var Z=0,T=R.length;Z<T;++Z)M[R[Z].getKey()]=!0}return M},{});C.prototype.expireCache.call(this,A,x);this.sourceTileCache.expireCache(H)};J.prototype.getSourceTiles=function(A,x,q){var H=this;if(q.getState()===k.default.IDLE){q.setState(k.default.LOADING);var M=q.wrappedTileCoord,R=this.getTileGridForProjection(x),Z=R.getTileCoordExtent(M);M=R.getResolution(M[0]);(0,d.buffer)(Z,-M,Z);var T=this.tileGrid;(R=T.getExtent())&&(0,d.getIntersection)(Z,
R,Z);M=T.getZForResolution(M,this.zDirection);T.forEachTileCoord(Z,M,function(ba){var aa=H.tileUrlFunction(ba,A,x),W=H.sourceTileCache.containsKey(aa)?H.sourceTileCache.get(aa):new H.tileClass(ba,aa?k.default.IDLE:k.default.EMPTY,aa,H.format_,H.tileLoadFunction);q.sourceTiles.push(W);var X=W.getState();if(X<k.default.LOADED){var P=function(w){H.handleTileChange(w);w=W.getState();if(w===k.default.LOADED||w===k.default.ERROR){var B=W.getKey();B in q.errorTileKeys?W.getState()===k.default.LOADED&&delete q.errorTileKeys[B]:
q.loadingSourceTiles--;w===k.default.ERROR?q.errorTileKeys[B]=!0:W.removeEventListener(n.default.CHANGE,P);0===q.loadingSourceTiles&&q.setState((0,b.isEmpty)(q.errorTileKeys)?k.default.LOADED:k.default.ERROR)}};W.addEventListener(n.default.CHANGE,P);q.loadingSourceTiles++}X===k.default.IDLE&&(W.extent=T.getTileCoordExtent(ba),W.projection=x,W.resolution=T.getResolution(ba[0]),H.sourceTileCache.set(aa,W),W.load())});q.loadingSourceTiles||q.setState(q.sourceTiles.some(function(ba){return ba.getState()===
k.default.ERROR})?k.default.ERROR:k.default.LOADED)}return q.sourceTiles};J.prototype.getTile=function(A,x,q,H,M){var R=(0,c.getKeyZXY)(A,x,q),Z=this.getKey();if(this.tileCache.containsKey(R)){var T=this.tileCache.get(R);if(T.key===Z)return T}x=[A,x,q];q=this.getTileCoordForTileUrlFunction(x,M);var ba=this.getTileGrid().getExtent(),aa=this.getTileGridForProjection(M);if(q&&ba){var W=aa.getTileCoordExtent(q);(0,d.buffer)(W,-aa.getResolution(A),W);(0,d.intersects)(ba,W)||(q=null)}var X=!0;null!==q&&
(ba=this.tileGrid,A=aa.getResolution(A),W=ba.getZForResolution(A,1),aa=aa.getTileCoordExtent(q),(0,d.buffer)(aa,-A,aa),ba.forEachTileCoord(aa,W,function(P){X=X&&!this.tileUrlFunction(P,H,M)}.bind(this)));x=new f.default(x,X?k.default.EMPTY:k.default.IDLE,q,this.getSourceTiles.bind(this,H,M));x.key=Z;T?(x.interimTile=T,x.refreshInterimChain(),this.tileCache.replace(R,x)):this.tileCache.set(R,x);return x};J.prototype.getTileGridForProjection=function(A){A=A.getCode();var x=this.tileGrids_[A];if(!x){var q=
this.tileGrid;x=q.getResolutions().slice();for(var H=x.map(function(T,ba){return q.getOrigin(ba)}),M=x.map(function(T,ba){return q.getTileSize(ba)}),R=e.DEFAULT_MAX_ZOOM+1,Z=x.length;Z<R;++Z)x.push(x[Z-1]/2),H.push(H[Z-1]),M.push(M[Z-1]);x=new h.default({extent:q.getExtent(),origins:H,resolutions:x,tileSizes:M});this.tileGrids_[A]=x}return x};J.prototype.getTilePixelRatio=function(A){return A};J.prototype.getTilePixelSize=function(A,x,q){q=this.getTileGridForProjection(q);A=(0,z.toSize)(q.getTileSize(A),
this.tmpSize);return[Math.round(A[0]*x),Math.round(A[1]*x)]};J.prototype.updateCacheSize=function(A,x){C.prototype.updateCacheSize.call(this,2*A,x);this.sourceTileCache.highWaterMark=this.getTileCacheForProjection(x).highWaterMark};return J}(sa.default);G.default=F};
shadow$provide[346]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.createFromCapabilitiesMatrixSet=function(r,h,k){var f=[],e=[],d=[],a=[],c=[],b=void 0!==k?k:[];k=(0,p.get)(r.SupportedCRS);var m=k.getMetersPerUnit(),z="ne"==k.getAxisOrientation().substr(0,2);r.TileMatrix.sort(function(u,C){return C.ScaleDenominator-u.ScaleDenominator});r.TileMatrix.forEach(function(u){if(0<b.length?(0,y.find)(b,function(x){return u.Identifier==x.TileMatrix?!0:-1===u.Identifier.indexOf(":")?
r.Identifier+":"+u.Identifier===x.TileMatrix:!1}):1){e.push(u.Identifier);var C=2.8E-4*u.ScaleDenominator/m,J=u.TileWidth,A=u.TileHeight;z?d.push([u.TopLeftCorner[1],u.TopLeftCorner[0]]):d.push(u.TopLeftCorner);f.push(C);a.push(J==A?J:[J,A]);c.push([u.MatrixWidth,u.MatrixHeight])}});return new v({extent:h,origins:d,resolutions:f,matrixIds:e,tileSizes:a,sizes:c})};G.default=void 0;sa=function(r){return r&&r.__esModule?r:{default:r}}(F(255));var y=F(66),p=F(121),n=function(){var r=function(h,k){r=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}(),v=function(r){function h(k){var f=r.call(this,{extent:k.extent,origin:k.origin,origins:k.origins,
resolutions:k.resolutions,tileSize:k.tileSize,tileSizes:k.tileSizes,sizes:k.sizes})||this;f.matrixIds_=k.matrixIds;return f}n(h,r);h.prototype.getMatrixId=function(k){return this.matrixIds_[k]};h.prototype.getMatrixIds=function(){return this.matrixIds_};return h}(sa.default);G.default=v};
shadow$provide[347]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.optionsFromCapabilities=function(e,d){var a=(0,k.find)(e.Contents.Layer,function(aa,W,X){return aa.Identifier==d.layer});if(null===a)return null;var c=e.Contents.TileMatrixSet;var b=1<a.TileMatrixSetLink.length?"projection"in d?(0,k.findIndex)(a.TileMatrixSetLink,function(aa,W,X){W=(0,k.find)(c,function(w){return w.Identifier==aa.TileMatrixSet}).SupportedCRS;X=(0,h.get)(W);var P=(0,h.get)(d.projection);return X&&
P?(0,h.equivalent)(X,P):W==d.projection}):(0,k.findIndex)(a.TileMatrixSetLink,function(aa,W,X){return aa.TileMatrixSet==d.matrixSet}):0;0>b&&(b=0);var m=a.TileMatrixSetLink[b].TileMatrixSet,z=a.TileMatrixSetLink[b].TileMatrixSetLimits,u=a.Format[0];"format"in d&&(u=d.format);b=(0,k.findIndex)(a.Style,function(aa,W,X){return"style"in d?aa.Title==d.style:aa.isDefault});0>b&&(b=0);b=a.Style[b].Identifier;var C={};"Dimension"in a&&a.Dimension.forEach(function(aa,W,X){W=aa.Identifier;X=aa.Default;void 0===
X&&(X=aa.Value[0]);C[W]=X});var J=(0,k.find)(e.Contents.TileMatrixSet,function(aa,W,X){return aa.Identifier==m}),A,x=J.SupportedCRS;x&&(A=(0,h.get)(x));"projection"in d&&(x=(0,h.get)(d.projection),!x||A&&!(0,h.equivalent)(x,A)||(A=x));x=!1;var q="ne"==A.getAxisOrientation().substr(0,2),H=J.TileMatrix[0],M={MinTileCol:0,MinTileRow:0,MaxTileCol:H.MatrixWidth-1,MaxTileRow:H.MatrixHeight-1};if(z){M=z[z.length-1];var R=(0,k.find)(J.TileMatrix,function(aa){return aa.Identifier===M.TileMatrix||J.Identifier+
":"+aa.Identifier===M.TileMatrix});R&&(H=R)}var Z=2.8E-4*H.ScaleDenominator/A.getMetersPerUnit();R=q?[H.TopLeftCorner[1],H.TopLeftCorner[0]]:H.TopLeftCorner;var T=H.TileWidth*Z;Z*=H.TileHeight;(H=J.BoundingBox)&&q&&(H=[H[1],H[0],H[3],H[2]]);q=[R[0]+T*M.MinTileCol,R[1]-Z*(1+M.MaxTileRow),R[0]+T*(1+M.MaxTileCol),R[1]-Z*M.MinTileRow];void 0===H||(0,n.containsExtent)(H,q)||(R=a.WGS84BoundingBox,x=(0,h.get)("EPSG:4326").getExtent(),q=H,R?x=R[0]===x[0]&&R[2]===x[2]:(H=(0,h.transformExtent)(H,J.SupportedCRS,
"EPSG:4326"),x=H[0]-1E-10<=x[0]&&H[2]+1E-10>=x[2]));z=(0,v.createFromCapabilitiesMatrixSet)(J,q,z);var ba=[];q=d.requestEncoding;q=void 0!==q?q:"";if("OperationsMetadata"in e&&"GetTile"in e.OperationsMetadata)for(e=e.OperationsMetadata.GetTile.DCP.HTTP.Get,H=0,R=e.length;H<R;++H)if(e[H].Constraint)if(T=(0,k.find)(e[H].Constraint,function(aa){return"GetEncoding"==aa.name}).AllowedValues.Value,""===q&&(q=T[0]),"KVP"===q)(0,k.includes)(T,"KVP")&&ba.push(e[H].href);else break;else e[H].href&&(q="KVP",
ba.push(e[H].href));0===ba.length&&(q="REST",a.ResourceURL.forEach(function(aa){"tile"===aa.resourceType&&(u=aa.format,ba.push(aa.template))}));return{urls:ba,layer:d.layer,matrixSet:m,format:u,projection:A,requestEncoding:q,tileGrid:z,style:b,dimensions:C,wrapX:x,crossOrigin:d.crossOrigin}};G.default=void 0;sa=function(e){return e&&e.__esModule?e:{default:e}}(F(260));var y=F(320),p=F(80),n=F(74),v=F(346),r=F(258),h=F(121),k=F(66),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a){var c=void 0!==a.imageSmoothing?a.imageSmoothing:!0;void 0!==a.interpolate&&(c=a.interpolate);
var b=void 0!==a.requestEncoding?a.requestEncoding:"KVP",m=a.tileGrid,z=a.urls;void 0===z&&void 0!==a.url&&(z=(0,r.expandUrl)(a.url));c=e.call(this,{attributions:a.attributions,attributionsCollapsible:a.attributionsCollapsible,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,interpolate:c,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:m,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,urls:z,wrapX:void 0!==a.wrapX?a.wrapX:
!1,transition:a.transition,zDirection:a.zDirection})||this;c.version_=void 0!==a.version?a.version:"1.0.0";c.format_=void 0!==a.format?a.format:"image/jpeg";c.dimensions_=void 0!==a.dimensions?a.dimensions:{};c.layer_=a.layer;c.matrixSet_=a.matrixSet;c.style_=a.style;c.requestEncoding_=b;c.setKey(c.getKeyForDimensions_());z&&0<z.length&&(c.tileUrlFunction=(0,r.createFromTileUrlFunctions)(z.map(c.createFromWMTSTemplate.bind(c))));return c}f(d,e);d.prototype.setUrls=function(a){this.urls=a;var c=a.join("\n");
this.setTileUrlFunction((0,r.createFromTileUrlFunctions)(a.map(this.createFromWMTSTemplate.bind(this))),c)};d.prototype.getDimensions=function(){return this.dimensions_};d.prototype.getFormat=function(){return this.format_};d.prototype.getLayer=function(){return this.layer_};d.prototype.getMatrixSet=function(){return this.matrixSet_};d.prototype.getRequestEncoding=function(){return this.requestEncoding_};d.prototype.getStyle=function(){return this.style_};d.prototype.getVersion=function(){return this.version_};
d.prototype.getKeyForDimensions_=function(){var a=0,c=[],b;for(b in this.dimensions_)c[a++]=b+"-"+this.dimensions_[b];return c.join("/")};d.prototype.updateDimensions=function(a){(0,p.assign)(this.dimensions_,a);this.setKey(this.getKeyForDimensions_())};d.prototype.createFromWMTSTemplate=function(a){var c=this.requestEncoding_,b={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==c&&(0,p.assign)(b,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});
a="KVP"==c?(0,y.appendParams)(a,b):a.replace(/\{(\w+?)\}/g,function(u,C){return C.toLowerCase()in b?b[C.toLowerCase()]:u});var m=this.tileGrid,z=this.dimensions_;return function(u,C,J){if(u){var A={TileMatrix:m.getMatrixId(u[0]),TileCol:u[1],TileRow:u[2]};(0,p.assign)(A,z);u=a;return u="KVP"==c?(0,y.appendParams)(u,A):u.replace(/\{(\w+?)\}/g,function(x,q){return A[q]})}}};return d}(sa.default);G.default=F};
shadow$provide[348]=function(sa,F,ob,G){function y(B){return B&&B.__esModule?B:{default:B}}Object.defineProperty(G,"__esModule",{value:!0});G.sourcesFromTileGrid=function(B,K){var U=new p.default(32),ka=B.getExtent();return function(da,la){U.expireCache();ka&&(da=(0,n.getIntersection)(ka,da));la=B.getZForResolution(la);var wa=[];B.forEachTileCoord(da,la,function(Ua){var hb=Ua.toString();U.containsKey(hb)||(Ua=K(Ua),U.set(hb,Ua));wa.push(U.get(hb))});return wa}};Object.defineProperty(G,"BingMaps",
{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"CartoDB",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,"Cluster",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"DataTile",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"GeoTIFF",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(G,"IIIF",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(G,"Image",{enumerable:!0,
get:function(){return d.default}});Object.defineProperty(G,"ImageArcGISRest",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(G,"ImageCanvas",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(G,"ImageMapGuide",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(G,"ImageStatic",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(G,"ImageWMS",{enumerable:!0,get:function(){return z.default}});Object.defineProperty(G,
"OSM",{enumerable:!0,get:function(){return u.default}});Object.defineProperty(G,"Raster",{enumerable:!0,get:function(){return C.default}});Object.defineProperty(G,"Source",{enumerable:!0,get:function(){return J.default}});Object.defineProperty(G,"Stamen",{enumerable:!0,get:function(){return A.default}});Object.defineProperty(G,"Tile",{enumerable:!0,get:function(){return x.default}});Object.defineProperty(G,"TileArcGISRest",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(G,
"TileDebug",{enumerable:!0,get:function(){return H.default}});Object.defineProperty(G,"TileImage",{enumerable:!0,get:function(){return M.default}});Object.defineProperty(G,"TileJSON",{enumerable:!0,get:function(){return R.default}});Object.defineProperty(G,"TileWMS",{enumerable:!0,get:function(){return Z.default}});Object.defineProperty(G,"UrlTile",{enumerable:!0,get:function(){return T.default}});Object.defineProperty(G,"UTFGrid",{enumerable:!0,get:function(){return ba.default}});Object.defineProperty(G,
"Vector",{enumerable:!0,get:function(){return aa.default}});Object.defineProperty(G,"VectorTile",{enumerable:!0,get:function(){return W.default}});Object.defineProperty(G,"WMTS",{enumerable:!0,get:function(){return X.default}});Object.defineProperty(G,"XYZ",{enumerable:!0,get:function(){return P.default}});Object.defineProperty(G,"Zoomify",{enumerable:!0,get:function(){return w.default}});var p=y(F(243)),n=F(74),v=y(F(262)),r=y(F(264)),h=y(F(265)),k=y(F(267)),f=y(F(314)),e=y(F(317)),d=y(F(319)),a=
y(F(321)),c=y(F(323)),b=y(F(324)),m=y(F(325)),z=y(F(327)),u=y(F(328)),C=y(F(336)),J=y(F(226)),A=y(F(337)),x=y(F(257)),q=y(F(338)),H=y(F(339)),M=y(F(260)),R=y(F(340)),Z=y(F(341)),T=y(F(259)),ba=y(F(342)),aa=y(F(230)),W=y(F(345)),X=y(F(347)),P=y(F(263)),w=y(F(315))};
shadow$provide[349]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.toContext=function(h,k){var f=h.canvas,e=k?k:{};k=e.pixelRatio||p.DEVICE_PIXEL_RATIO;if(e=e.size)f.width=e[0]*k,f.height=e[1]*k,f.style.width=e[0]+"px",f.style.height=e[1]+"px";f=[0,0,f.width,f.height];e=(0,n.scale)((0,n.create)(),k,k);return new y.default(h,k,f,e,0)};G.getVectorContext=function(h){if(!(h.context instanceof CanvasRenderingContext2D))throw Error("Only works for render events from Canvas 2D layers");
var k=h.inversePixelTransform[0],f=h.frameState,e=(0,n.multiply)(h.inversePixelTransform.slice(),f.coordinateToPixelTransform),d=(0,v.getSquaredTolerance)(f.viewState.resolution,k),a,c=(0,r.getUserProjection)();c&&(a=(0,r.getTransformFromProjections)(c,f.viewState.projection));return new y.default(h.context,k,f.extent,e,f.viewState.rotation,d,a)};G.getRenderPixel=function(h,k){return(0,n.apply)(h.inversePixelTransform,k.slice(0))};var y=function(h){return h&&h.__esModule?h:{default:h}}(F(212)),p=
F(69),n=F(72),v=F(222),r=F(121)};
shadow$provide[350]=function(sa,F,ob,G){function y(v,r,h){for(var k=[],f=v(0),e=v(1),d=r(f),a=r(e),c=[e,f],b=[a,d],m=[1,0],z={},u=1E5,C,J,A,x,q;0<--u&&0<m.length;)A=m.pop(),f=c.pop(),d=b.pop(),e=A.toString(),e in z||(k.push(d[0],d[1]),z[e]=!0),x=m.pop(),e=c.pop(),a=b.pop(),q=(A+x)/2,C=v(q),J=r(C),(0,n.squaredSegmentDistance)(J[0],J[1],d[0],d[1],a[0],a[1])<h?(k.push(a[0],a[1]),e=x.toString(),z[e]=!0):(m.push(x,q,q,A),b.push(a,J,J,d),c.push(e,C,C,f));return k}Object.defineProperty(G,"__esModule",{value:!0});
G.greatCircleArc=function(v,r,h,k,f,e){var d=(0,p.get)("EPSG:4326"),a=Math.cos((0,n.toRadians)(r)),c=Math.sin((0,n.toRadians)(r)),b=Math.cos((0,n.toRadians)(k)),m=Math.sin((0,n.toRadians)(k)),z=Math.cos((0,n.toRadians)(h-v)),u=Math.sin((0,n.toRadians)(h-v)),C=c*m+a*b*z;return y(function(J){if(1<=C)return[h,k];var A=J*Math.acos(C);J=Math.cos(A);var x=Math.sin(A),q=Math.atan2(u*b,a*m-c*b*z);A=Math.asin(c*J+a*x*Math.cos(q));J=(0,n.toRadians)(v)+Math.atan2(Math.sin(q)*x*a,J-c*Math.sin(A));return[(0,n.toDegrees)(J),
(0,n.toDegrees)(A)]},(0,p.getTransform)(d,f),e)};G.meridian=function(v,r,h,k,f){var e=(0,p.get)("EPSG:4326");return y(function(d){return[v,r+(h-r)*d]},(0,p.getTransform)(e,k),f)};G.parallel=function(v,r,h,k,f){var e=(0,p.get)("EPSG:4326");return y(function(d){return[r+(h-r)*d,v]},(0,p.getTransform)(e,k),f)};var p=F(121),n=F(75)};
shadow$provide[351]=function(sa,F,ob,G){function y(M){return M&&M.__esModule?M:{default:M}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(99)),n=y(F(88)),v=y(F(179)),r=y(F(193)),h=y(F(126)),k=y(F(182)),f=y(F(136)),e=y(F(194)),d=y(F(195)),a=y(F(219));sa=y(F(224));var c=y(F(230)),b=F(74),m=F(80),z=F(75),u=F(91),C=F(121),J=F(349),A=F(350),x=function(){var M=function(R,Z){M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,ba){T.__proto__=ba}||function(T,ba){for(var aa in ba)Object.prototype.hasOwnProperty.call(ba,
aa)&&(T[aa]=ba[aa])};return M(R,Z)};return function(R,Z){function T(){this.constructor=R}if("function"!==typeof Z&&null!==Z)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");M(R,Z);R.prototype=null===Z?Object.create(Z):(T.prototype=Z.prototype,new T)}}(),q=new e.default({color:"rgba(0,0,0,0.2)"}),H=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];F=function(M){function R(Z){var T=this;Z=Z?Z:{};T=(0,m.assign)({updateWhileAnimating:!0,updateWhileInteracting:!0,
renderBuffer:0},Z);delete T.maxLines;delete T.strokeStyle;delete T.targetSize;delete T.showLabels;delete T.lonLabelFormatter;delete T.latLabelFormatter;delete T.lonLabelPosition;delete T.latLabelPosition;delete T.lonLabelStyle;delete T.latLabelStyle;delete T.intervals;T=M.call(this,T)||this;T.projection_=null;T.maxLat_=Infinity;T.maxLon_=Infinity;T.minLat_=-Infinity;T.minLon_=-Infinity;T.maxX_=Infinity;T.maxY_=Infinity;T.minX_=-Infinity;T.minY_=-Infinity;T.targetSize_=void 0!==Z.targetSize?Z.targetSize:
100;T.maxLines_=void 0!==Z.maxLines?Z.maxLines:100;T.meridians_=[];T.parallels_=[];T.strokeStyle_=void 0!==Z.strokeStyle?Z.strokeStyle:q;T.fromLonLatTransform_=void 0;T.toLonLatTransform_=void 0;T.projectionCenterLonLat_=null;T.bottomLeft_=null;T.bottomRight_=null;T.topLeft_=null;T.topRight_=null;T.meridiansLabels_=null;T.parallelsLabels_=null;Z.showLabels&&(T.lonLabelFormatter_=void 0==Z.lonLabelFormatter?u.degreesToStringHDMS.bind(T,"EW"):Z.lonLabelFormatter,T.latLabelFormatter_=void 0==Z.latLabelFormatter?
u.degreesToStringHDMS.bind(T,"NS"):Z.latLabelFormatter,T.lonLabelPosition_=void 0==Z.lonLabelPosition?0:Z.lonLabelPosition,T.latLabelPosition_=void 0==Z.latLabelPosition?1:Z.latLabelPosition,T.lonLabelStyleBase_=new d.default({text:void 0!==Z.lonLabelStyle?Z.lonLabelStyle.clone():new a.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new r.default({color:"rgba(0,0,0,1)"}),stroke:new e.default({color:"rgba(255,255,255,1)",width:3})})}),T.lonLabelStyle_=function(ba){ba=ba.get("graticule_label");
this.lonLabelStyleBase_.getText().setText(ba);return this.lonLabelStyleBase_}.bind(T),T.latLabelStyleBase_=new d.default({text:void 0!==Z.latLabelStyle?Z.latLabelStyle.clone():new a.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new r.default({color:"rgba(0,0,0,1)"}),stroke:new e.default({color:"rgba(255,255,255,1)",width:3})})}),T.latLabelStyle_=function(ba){ba=ba.get("graticule_label");this.latLabelStyleBase_.getText().setText(ba);return this.latLabelStyleBase_}.bind(T),T.meridiansLabels_=
[],T.parallelsLabels_=[],T.addEventListener(n.default.POSTRENDER,T.drawLabels_.bind(T)));T.intervals_=void 0!==Z.intervals?Z.intervals:H;T.setSource(new c.default({loader:T.loaderFunction.bind(T),strategy:T.strategyFunction.bind(T),features:new p.default,overlaps:!1,useSpatialIndex:!1,wrapX:Z.wrapX}));T.featurePool_=[];T.lineStyle_=new d.default({stroke:T.strokeStyle_});T.loadedExtent_=null;T.renderedExtent_=null;T.renderedResolution_=null;T.setRenderOrder(null);return T}x(R,M);R.prototype.strategyFunction=
function(Z,T){Z=Z.slice();this.projection_&&this.getSource().getWrapX()&&(0,b.wrapX)(Z,this.projection_);this.loadedExtent_&&((0,b.approximatelyEquals)(this.loadedExtent_,Z,T)?Z=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[Z]};R.prototype.loaderFunction=function(Z,T,ba){this.loadedExtent_=Z;var aa=this.getSource(),W=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];Z=(0,b.getIntersection)(W,Z);if(!this.renderedExtent_||!(0,b.equals)(this.renderedExtent_,
Z)||this.renderedResolution_!==T)if(this.renderedExtent_=Z,this.renderedResolution_=T,!(0,b.isEmpty)(Z)){W=(0,b.getCenter)(Z);var X=T*T/4;this.projection_&&(0,C.equivalent)(this.projection_,ba)||this.updateProjectionInfo_(ba);this.createGraticule_(Z,W,T,X);ba=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(ba+=this.meridians_.length);for(this.parallelsLabels_&&(ba+=this.parallels_.length);ba>this.featurePool_.length;)T=new v.default,this.featurePool_.push(T);aa=aa.getFeaturesCollection();
aa.clear();Z=ba=0;for(W=this.meridians_.length;Z<W;++Z)T=this.featurePool_[ba++],T.setGeometry(this.meridians_[Z]),T.setStyle(this.lineStyle_),aa.push(T);Z=0;for(W=this.parallels_.length;Z<W;++Z)T=this.featurePool_[ba++],T.setGeometry(this.parallels_[Z]),T.setStyle(this.lineStyle_),aa.push(T)}};R.prototype.addMeridian_=function(Z,T,ba,aa,W,X){T=this.getMeridian_(Z,T,ba,aa,X);(0,b.intersects)(T.getExtent(),W)&&(this.meridiansLabels_&&(Z=this.lonLabelFormatter_(Z),X in this.meridiansLabels_?this.meridiansLabels_[X].text=
Z:this.meridiansLabels_[X]={geom:new f.default([]),text:Z}),this.meridians_[X++]=T);return X};R.prototype.addParallel_=function(Z,T,ba,aa,W,X){T=this.getParallel_(Z,T,ba,aa,X);(0,b.intersects)(T.getExtent(),W)&&(this.parallelsLabels_&&(Z=this.latLabelFormatter_(Z),X in this.parallelsLabels_?this.parallelsLabels_[X].text=Z:this.parallelsLabels_[X]={geom:new f.default([]),text:Z}),this.parallels_[X++]=T);return X};R.prototype.drawLabels_=function(Z){var T=Z.frameState.viewState.rotation,ba=Z.frameState.viewState.resolution,
aa=Z.frameState.size,W=Z.frameState.extent,X=(0,b.getCenter)(W),P=W;T&&(P=aa[0]*ba,ba*=aa[1],P=[X[0]-P/2,X[1]-ba/2,X[0]+P/2,X[1]+ba/2]);aa=ba=0;var w=.5>this.latLabelPosition_,B=this.projection_.getExtent(),K=(0,b.getWidth)(B);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,b.containsExtent)(B,W)&&(ba=Math.floor((W[0]-B[0])/K),aa=Math.ceil((W[2]-B[2])/K),w=w!==Math.abs(T)>Math.PI/2);Z=(0,J.getVectorContext)(Z);for(B=ba;B<=aa;++B){var U=this.meridians_.length+this.parallels_.length,ka;
if(this.meridiansLabels_){var da=0;for(ka=this.meridiansLabels_.length;da<ka;++da){var la=this.meridians_[da];if(T||0!==B){la=la.clone();la.translate(B*K,0);la.rotate(-T,X);var wa=this.getMeridianPoint_(la,P,da);wa.rotate(T,X)}else wa=this.getMeridianPoint_(la,W,da);la=this.featurePool_[U++];la.setGeometry(wa);la.set("graticule_label",this.meridiansLabels_[da].text);Z.drawFeature(la,this.lonLabelStyle_(la))}}if(this.parallelsLabels_&&(B===ba&&w||B===aa&&!w))for(da=0,ka=this.parallels_.length;da<ka;++da)la=
this.parallels_[da],T||0!==B?(la=la.clone(),la.translate(B*K,0),la.rotate(-T,X),wa=this.getParallelPoint_(la,P,da),wa.rotate(T,X)):wa=this.getParallelPoint_(la,W,da),la=this.featurePool_[U++],la.setGeometry(wa),la.set("graticule_label",this.parallelsLabels_[da].text),Z.drawFeature(la,this.latLabelStyle_(la))}};R.prototype.createGraticule_=function(Z,T,ba,aa){ba=this.getInterval_(ba);if(-1==ba)this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),
this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var W=!1,X=this.projection_.getExtent(),P=(0,b.getWidth)(X);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,b.containsExtent)(X,Z)&&((0,b.getWidth)(Z)>=P?(Z[0]=X[0],Z[2]=X[2]):W=!0);T=[(0,z.clamp)(T[0],this.minX_,this.maxX_),(0,z.clamp)(T[1],this.minY_,this.maxY_)];X=this.toLonLatTransform_(T);isNaN(X[1])&&(X[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);T=(0,z.clamp)(X[0],this.minLon_,this.maxLon_);
X=(0,z.clamp)(X[1],this.minLat_,this.maxLat_);P=this.maxLines_;var w=Z;W||(w=[(0,z.clamp)(Z[0],this.minX_,this.maxX_),(0,z.clamp)(Z[1],this.minY_,this.maxY_),(0,z.clamp)(Z[2],this.minX_,this.maxX_),(0,z.clamp)(Z[3],this.minY_,this.maxY_)]);var B=(0,b.applyTransform)(w,this.toLonLatTransform_,void 0,8),K=B[3],U=B[2],ka=B[1];B=B[0];W||((0,b.containsCoordinate)(w,this.bottomLeft_)&&(B=this.minLon_,ka=this.minLat_),(0,b.containsCoordinate)(w,this.bottomRight_)&&(U=this.maxLon_,ka=this.minLat_),(0,b.containsCoordinate)(w,
this.topLeft_)&&(B=this.minLon_,K=this.maxLat_),(0,b.containsCoordinate)(w,this.topRight_)&&(U=this.maxLon_,K=this.maxLat_),K=(0,z.clamp)(K,X,this.maxLat_),U=(0,z.clamp)(U,T,this.maxLon_),ka=(0,z.clamp)(ka,this.minLat_,X),B=(0,z.clamp)(B,this.minLon_,T));T=Math.floor(T/ba)*ba;var da=(0,z.clamp)(T,this.minLon_,this.maxLon_);var la=this.addMeridian_(da,ka,K,aa,Z,0);w=0;if(W)for(;(da-=ba)>=B&&w++<P;)la=this.addMeridian_(da,ka,K,aa,Z,la);else for(;da!=this.minLon_&&w++<P;)da=Math.max(da-ba,this.minLon_),
la=this.addMeridian_(da,ka,K,aa,Z,la);da=(0,z.clamp)(T,this.minLon_,this.maxLon_);w=0;if(W)for(;(da+=ba)<=U&&w++<P;)la=this.addMeridian_(da,ka,K,aa,Z,la);else for(;da!=this.maxLon_&&w++<P;)da=Math.min(da+ba,this.maxLon_),la=this.addMeridian_(da,ka,K,aa,Z,la);this.meridians_.length=la;this.meridiansLabels_&&(this.meridiansLabels_.length=la);X=Math.floor(X/ba)*ba;W=(0,z.clamp)(X,this.minLat_,this.maxLat_);la=this.addParallel_(W,B,U,aa,Z,0);for(w=0;W!=this.minLat_&&w++<P;)W=Math.max(W-ba,this.minLat_),
la=this.addParallel_(W,B,U,aa,Z,la);W=(0,z.clamp)(X,this.minLat_,this.maxLat_);for(w=0;W!=this.maxLat_&&w++<P;)W=Math.min(W+ba,this.maxLat_),la=this.addParallel_(W,B,U,aa,Z,la);this.parallels_.length=la;this.parallelsLabels_&&(this.parallelsLabels_.length=la)}};R.prototype.getInterval_=function(Z){var T=this.projectionCenterLonLat_[0],ba=this.projectionCenterLonLat_[1],aa=-1;Z=Math.pow(this.targetSize_*Z,2);for(var W=[],X=[],P=0,w=this.intervals_.length;P<w;++P){var B=(0,z.clamp)(this.intervals_[P]/
2,0,90),K=(0,z.clamp)(ba,-90+B,90-B);W[0]=T-B;W[1]=K-B;X[0]=T+B;X[1]=K+B;this.fromLonLatTransform_(W,W);this.fromLonLatTransform_(X,X);if(Math.pow(X[0]-W[0],2)+Math.pow(X[1]-W[1],2)<=Z)break;aa=this.intervals_[P]}return aa};R.prototype.getMeridian_=function(Z,T,ba,aa,W){Z=(0,A.meridian)(Z,T,ba,this.projection_,aa);(T=this.meridians_[W])?(T.setFlatCoordinates(h.default.XY,Z),T.changed()):(T=new k.default(Z,h.default.XY),this.meridians_[W]=T);return T};R.prototype.getMeridianPoint_=function(Z,T,ba){Z=
Z.getFlatCoordinates();var aa=1,W=Z.length-1;Z[aa]>Z[W]&&(aa=W,W=1);T=(0,z.clamp)(T[1]+Math.abs(T[1]-T[3])*this.lonLabelPosition_,Math.max(T[1],Z[aa]),Math.min(T[3],Z[W]));ba=this.meridiansLabels_[ba].geom;ba.setCoordinates([Z[aa-1]+(Z[W-1]-Z[aa-1])*(T-Z[aa])/(Z[W]-Z[aa]),T]);return ba};R.prototype.getMeridians=function(){return this.meridians_};R.prototype.getParallel_=function(Z,T,ba,aa,W){Z=(0,A.parallel)(Z,T,ba,this.projection_,aa);(W=this.parallels_[W])?(W.setFlatCoordinates(h.default.XY,Z),
W.changed()):W=new k.default(Z,h.default.XY);return W};R.prototype.getParallelPoint_=function(Z,T,ba){Z=Z.getFlatCoordinates();var aa=0,W=Z.length-2;Z[aa]>Z[W]&&(aa=W,W=0);T=(0,z.clamp)(T[0]+Math.abs(T[0]-T[2])*this.latLabelPosition_,Math.max(T[0],Z[aa]),Math.min(T[2],Z[W]));ba=this.parallelsLabels_[ba].geom;ba.setCoordinates([T,Z[aa+1]+(Z[W+1]-Z[aa+1])*(T-Z[aa])/(Z[W]-Z[aa])]);return ba};R.prototype.getParallels=function(){return this.parallels_};R.prototype.updateProjectionInfo_=function(Z){var T=
(0,C.get)("EPSG:4326"),ba=Z.getWorldExtent();this.maxLat_=ba[3];this.maxLon_=ba[2];this.minLat_=ba[1];this.minLon_=ba[0];var aa=(0,C.getTransform)(Z,T);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=aa;else{var W=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(X,P,w){w=w||2;X=aa(X,P,w);P=0;for(var B=X.length;P<B;P+=w)X[P]<W&&(X[P]+=360);return X}}this.fromLonLatTransform_=(0,C.getTransform)(T,Z);T=(0,b.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],
this.fromLonLatTransform_,void 0,8);this.minX_=T[0];this.maxX_=T[2];this.minY_=T[1];this.maxY_=T[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,b.getCenter)(Z.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&
(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=Z};return R}(sa.default);G.default=F};
shadow$provide[352]=function(sa,F,ob,G){function y(h,k){k=(0,n.assign)({preserveDrawingBuffer:!0,antialias:p.SAFARI_BUG_237906?!1:!0},k);for(var f=v.length,e=0;e<f;++e)try{var d=h.getContext(v[e],k);if(d)return d}catch(a){}return null}Object.defineProperty(G,"__esModule",{value:!0});G.getContext=y;G.getSupportedExtensions=function(){if(!r){var h=document.createElement("canvas");(h=y(h))&&(r=h.getSupportedExtensions())}return r};G.FLOAT=G.UNSIGNED_INT=G.UNSIGNED_SHORT=G.UNSIGNED_BYTE=G.DYNAMIC_DRAW=
G.STATIC_DRAW=G.STREAM_DRAW=G.ELEMENT_ARRAY_BUFFER=G.ARRAY_BUFFER=void 0;var p=F(69),n=F(80);G.ARRAY_BUFFER=34962;G.ELEMENT_ARRAY_BUFFER=34963;G.STREAM_DRAW=35040;G.STATIC_DRAW=35044;G.DYNAMIC_DRAW=35048;G.UNSIGNED_BYTE=5121;G.UNSIGNED_SHORT=5123;G.UNSIGNED_INT=5125;G.FLOAT=5126;var v=["experimental-webgl","webgl","webkit-3d","moz-webgl"],r};
shadow$provide[353]=function(sa,F,ob,G){function y(r){switch(r){case p.ARRAY_BUFFER:return Float32Array;case p.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(G,"__esModule",{value:!0});G.getArrayClassForType=y;G.default=G.BufferUsage=void 0;var p=F(352),n=F(71),v={STATIC_DRAW:p.STATIC_DRAW,STREAM_DRAW:p.STREAM_DRAW,DYNAMIC_DRAW:p.DYNAMIC_DRAW};G.BufferUsage=v;sa=function(){function r(h,k){this.array=null;this.type=h;(0,n.assert)(h===p.ARRAY_BUFFER||h===
p.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==k?k:v.STATIC_DRAW}r.prototype.ofSize=function(h){this.array=new (y(this.type))(h)};r.prototype.fromArray=function(h){var k=y(this.type);this.array=k.from?k.from(h):new k(h)};r.prototype.fromArrayBuffer=function(h){this.array=new (y(this.type))(h)};r.prototype.getType=function(){return this.type};r.prototype.getArray=function(){return this.array};r.prototype.getUsage=function(){return this.usage};r.prototype.getSize=function(){return this.array?this.array.length:
0};return r}();G.default=sa};
shadow$provide[354]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[355]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(68);sa=function(){function p(n){var v=this.gl_=n.webGlContext;this.scaleRatio_=n.scaleRatio||1;this.renderTargetTexture_=v.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=v.createFramebuffer();var r=v.createShader(v.VERTEX_SHADER);v.shaderSource(r,n.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
v.compileShader(r);var h=v.createShader(v.FRAGMENT_SHADER);v.shaderSource(h,n.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord) * u_opacity;\n  }\n");v.compileShader(h);this.renderTargetProgram_=v.createProgram();v.attachShader(this.renderTargetProgram_,r);v.attachShader(this.renderTargetProgram_,h);v.linkProgram(this.renderTargetProgram_);
this.renderTargetVerticesBuffer_=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);v.bufferData(v.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),v.STATIC_DRAW);this.renderTargetAttribLocation_=v.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=v.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetOpacityLocation_=v.getUniformLocation(this.renderTargetProgram_,"u_opacity");this.renderTargetTextureLocation_=
v.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];n.uniforms&&Object.keys(n.uniforms).forEach(function(k){this.uniforms_.push({value:n.uniforms[k],location:v.getUniformLocation(this.renderTargetProgram_,k)})}.bind(this))}p.prototype.getGL=function(){return this.gl_};p.prototype.init=function(n){n=this.getGL();var v=[n.drawingBufferWidth*this.scaleRatio_,n.drawingBufferHeight*this.scaleRatio_];n.bindFramebuffer(n.FRAMEBUFFER,this.getFrameBuffer());n.viewport(0,0,v[0],v[1]);
if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==v[0]||this.renderTargetTextureSize_[1]!==v[1]){this.renderTargetTextureSize_=v;var r=n.RGBA,h=n.RGBA,k=n.UNSIGNED_BYTE;n.bindTexture(n.TEXTURE_2D,this.renderTargetTexture_);n.texImage2D(n.TEXTURE_2D,0,r,v[0],v[1],0,h,k,null);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE);n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE);n.framebufferTexture2D(n.FRAMEBUFFER,
n.COLOR_ATTACHMENT0,n.TEXTURE_2D,this.renderTargetTexture_,0)}};p.prototype.apply=function(n,v,r,h){var k=this.getGL(),f=n.size;k.bindFramebuffer(k.FRAMEBUFFER,v?v.getFrameBuffer():null);k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,this.renderTargetTexture_);if(!v&&(v=(0,y.getUid)(k.canvas),!n.renderTargets[v])){var e=k.getContextAttributes();e&&e.preserveDrawingBuffer&&(k.clearColor(0,0,0,0),k.clear(k.COLOR_BUFFER_BIT));n.renderTargets[v]=!0}k.enable(k.BLEND);k.blendFunc(k.ONE,k.ONE_MINUS_SRC_ALPHA);
k.viewport(0,0,k.drawingBufferWidth,k.drawingBufferHeight);k.bindBuffer(k.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);k.useProgram(this.renderTargetProgram_);k.enableVertexAttribArray(this.renderTargetAttribLocation_);k.vertexAttribPointer(this.renderTargetAttribLocation_,2,k.FLOAT,!1,0,0);k.uniform2f(this.renderTargetUniformLocation_,f[0],f[1]);k.uniform1i(this.renderTargetTextureLocation_,0);k.uniform1f(this.renderTargetOpacityLocation_,n.layerStatesArray[n.layerIndex].opacity);this.applyUniforms(n);
r&&r(k,n);k.drawArrays(k.TRIANGLES,0,6);h&&h(k,n)};p.prototype.getFrameBuffer=function(){return this.frameBuffer_};p.prototype.applyUniforms=function(n){var v=this.getGL(),r,h=1;this.uniforms_.forEach(function(k){r="function"===typeof k.value?k.value(n):k.value;if(r instanceof HTMLCanvasElement||r instanceof ImageData)k.texture||(k.texture=v.createTexture()),v.activeTexture(v["TEXTURE".concat(h)]),v.bindTexture(v.TEXTURE_2D,k.texture),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.LINEAR),v.texParameteri(v.TEXTURE_2D,
v.TEXTURE_WRAP_S,v.CLAMP_TO_EDGE),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_WRAP_T,v.CLAMP_TO_EDGE),r instanceof ImageData?v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,r.width,r.height,0,v.UNSIGNED_BYTE,new Uint8Array(r.data)):v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,r),v.uniform1i(k.location,h++);else if(Array.isArray(r))switch(r.length){case 2:v.uniform2f(k.location,r[0],r[1]);break;case 3:v.uniform3f(k.location,r[0],r[1],r[2]);break;case 4:v.uniform4f(k.location,r[0],r[1],r[2],r[3])}else"number"===
typeof r&&v.uniform1f(k.location,r)})};return p}();G.default=sa};
shadow$provide[356]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};G.fromTransform=function(y,p){y[0]=p[0];y[1]=p[1];y[4]=p[2];y[5]=p[3];y[12]=p[4];y[13]=p[5];return y}};
shadow$provide[357]=function(sa,F,ob,G){function y(J){return J&&J.__esModule?J:{default:J}}function p(){var J="unique/"+C;C+=1;return J}function n(J){var A=u[J];A||(A=document.createElement("canvas"),A.style.position="absolute",A.style.left="0",A={users:0,canvas:A},u[J]=A);A.users+=1;return A.canvas}function v(J){for(var A=0,x=0;x<J.length;x++){var q=J[x];A+=q.size*r(q.type)}return A}function r(J){switch(J){case z.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case z.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;
case z.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(G,"__esModule",{value:!0});G.computeAttributesStride=v;G.default=G.AttributeType=G.DefaultUniform=G.ShaderType=void 0;var h=y(F(354));sa=y(F(65));var k=y(F(355)),f=F(352),e=F(80),d=F(72),a=F(356),c=F(68),b=function(){var J=function(A,x){J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,H){q.__proto__=H}||function(q,H){for(var M in H)Object.prototype.hasOwnProperty.call(H,
M)&&(q[M]=H[M])};return J(A,x)};return function(A,x){function q(){this.constructor=A}if("function"!==typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");J(A,x);A.prototype=null===x?Object.create(x):(q.prototype=x.prototype,new q)}}();G.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};var m={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",TIME:"u_time",ZOOM:"u_zoom",
RESOLUTION:"u_resolution"};G.DefaultUniform=m;var z={UNSIGNED_BYTE:f.UNSIGNED_BYTE,UNSIGNED_SHORT:f.UNSIGNED_SHORT,UNSIGNED_INT:f.UNSIGNED_INT,FLOAT:f.FLOAT};G.AttributeType=z;var u={},C=0;F=function(J){function A(x){var q=J.call(this)||this;x=x||{};q.boundHandleWebGLContextLost_=q.handleWebGLContextLost.bind(q);q.boundHandleWebGLContextRestored_=q.handleWebGLContextRestored.bind(q);q.canvasCacheKey_=x.canvasCacheKey?"shared/"+x.canvasCacheKey:p();q.canvas_=n(q.canvasCacheKey_);q.gl_=(0,f.getContext)(q.canvas_);
q.bufferCache_={};q.extensionCache_={};q.currentProgram_=null;q.canvas_.addEventListener(h.default.LOST,q.boundHandleWebGLContextLost_);q.canvas_.addEventListener(h.default.RESTORED,q.boundHandleWebGLContextRestored_);q.offsetRotateMatrix_=(0,d.create)();q.offsetScaleMatrix_=(0,d.create)();q.tmpMat4_=(0,a.create)();q.uniformLocations_={};q.attribLocations_={};q.uniforms_=[];x.uniforms&&q.setUniforms(x.uniforms);var H=q.getGL();q.postProcessPasses_=x.postProcesses?x.postProcesses.map(function(M){return new k.default({webGlContext:H,
scaleRatio:M.scaleRatio,vertexShader:M.vertexShader,fragmentShader:M.fragmentShader,uniforms:M.uniforms})}):[new k.default({webGlContext:H})];q.shaderCompileErrors_=null;q.startTime_=Date.now();return q}b(A,J);A.prototype.setUniforms=function(x){this.uniforms_=[];for(var q in x)this.uniforms_.push({name:q,value:x[q]});this.uniformLocations_={}};A.prototype.canvasCacheKeyMatches=function(x){return this.canvasCacheKey_==="shared/"+x};A.prototype.getExtension=function(x){if(x in this.extensionCache_)return this.extensionCache_[x];
var q=this.gl_.getExtension(x);return this.extensionCache_[x]=q};A.prototype.bindBuffer=function(x){var q=this.getGL(),H=(0,c.getUid)(x),M=this.bufferCache_[H];M||(M=q.createBuffer(),M={buffer:x,webGlBuffer:M},this.bufferCache_[H]=M);q.bindBuffer(x.getType(),M.webGlBuffer)};A.prototype.flushBufferData=function(x){var q=this.getGL();this.bindBuffer(x);q.bufferData(x.getType(),x.getArray(),x.getUsage())};A.prototype.deleteBuffer=function(x){var q=this.getGL();x=(0,c.getUid)(x);var H=this.bufferCache_[x];
H&&!q.isContextLost()&&q.deleteBuffer(H.webGlBuffer);delete this.bufferCache_[x]};A.prototype.disposeInternal=function(){this.canvas_.removeEventListener(h.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(h.default.RESTORED,this.boundHandleWebGLContextRestored_);var x=this.canvasCacheKey_,q=u[x];q&&(--q.users,0<q.users||((q=(0,f.getContext)(q.canvas).getExtension("WEBGL_lose_context"))&&q.loseContext(),delete u[x]));delete this.gl_;delete this.canvas_};A.prototype.prepareDraw=
function(x,q){var H=this.getGL(),M=this.getCanvas(),R=x.size,Z=x.pixelRatio;M.width=R[0]*Z;M.height=R[1]*Z;M.style.width=R[0]+"px";M.style.height=R[1]+"px";H.useProgram(this.currentProgram_);for(M=this.postProcessPasses_.length-1;0<=M;M--)this.postProcessPasses_[M].init(x);H.bindTexture(H.TEXTURE_2D,null);H.clearColor(0,0,0,0);H.clear(H.COLOR_BUFFER_BIT);H.enable(H.BLEND);H.blendFunc(H.ONE,q?H.ZERO:H.ONE_MINUS_SRC_ALPHA);H.useProgram(this.currentProgram_);this.applyFrameState(x);this.applyUniforms(x)};
A.prototype.prepareDrawToRenderTarget=function(x,q,H){var M=this.getGL(),R=q.getSize();M.bindFramebuffer(M.FRAMEBUFFER,q.getFramebuffer());M.viewport(0,0,R[0],R[1]);M.bindTexture(M.TEXTURE_2D,q.getTexture());M.clearColor(0,0,0,0);M.clear(M.COLOR_BUFFER_BIT);M.enable(M.BLEND);M.blendFunc(M.ONE,H?M.ZERO:M.ONE_MINUS_SRC_ALPHA);M.useProgram(this.currentProgram_);this.applyFrameState(x);this.applyUniforms(x)};A.prototype.drawElements=function(x,q){var H=this.getGL();this.getExtension("OES_element_index_uint");
H.drawElements(H.TRIANGLES,q-x,H.UNSIGNED_INT,4*x)};A.prototype.finalizeDraw=function(x,q,H){for(var M=0,R=this.postProcessPasses_.length;M<R;M++)M===R-1?this.postProcessPasses_[M].apply(x,null,q,H):this.postProcessPasses_[M].apply(x,this.postProcessPasses_[M+1])};A.prototype.getCanvas=function(){return this.canvas_};A.prototype.getGL=function(){return this.gl_};A.prototype.applyFrameState=function(x){var q=x.size,H=x.viewState.rotation,M=(0,d.reset)(this.offsetScaleMatrix_);(0,d.scale)(M,2/q[0],
2/q[1]);q=(0,d.reset)(this.offsetRotateMatrix_);0!==H&&(0,d.rotate)(q,-H);this.setUniformMatrixValue(m.OFFSET_SCALE_MATRIX,(0,a.fromTransform)(this.tmpMat4_,M));this.setUniformMatrixValue(m.OFFSET_ROTATION_MATRIX,(0,a.fromTransform)(this.tmpMat4_,q));this.setUniformFloatValue(m.TIME,.001*(Date.now()-this.startTime_));this.setUniformFloatValue(m.ZOOM,x.viewState.zoom);this.setUniformFloatValue(m.RESOLUTION,x.viewState.resolution)};A.prototype.applyUniforms=function(x){var q=this.getGL(),H,M=0;this.uniforms_.forEach(function(R){H=
"function"===typeof R.value?R.value(x):R.value;if(H instanceof HTMLCanvasElement||H instanceof HTMLImageElement||H instanceof ImageData)R.texture||(R.prevValue=void 0,R.texture=q.createTexture()),q.activeTexture(q["TEXTURE".concat(M)]),q.bindTexture(q.TEXTURE_2D,R.texture),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),H instanceof HTMLImageElement&&!H.complete||
R.prevValue===H||(R.prevValue=H,q.texImage2D(q.TEXTURE_2D,0,q.RGBA,q.RGBA,q.UNSIGNED_BYTE,H)),q.uniform1i(this.getUniformLocation(R.name),M++);else if(Array.isArray(H)&&6===H.length)this.setUniformMatrixValue(R.name,(0,a.fromTransform)(this.tmpMat4_,H));else if(Array.isArray(H)&&4>=H.length)switch(H.length){case 2:q.uniform2f(this.getUniformLocation(R.name),H[0],H[1]);break;case 3:q.uniform3f(this.getUniformLocation(R.name),H[0],H[1],H[2]);break;case 4:q.uniform4f(this.getUniformLocation(R.name),
H[0],H[1],H[2],H[3])}else"number"===typeof H&&q.uniform1f(this.getUniformLocation(R.name),H)}.bind(this))};A.prototype.useProgram=function(x){if(x==this.currentProgram_)return!1;this.getGL().useProgram(x);this.currentProgram_=x;this.uniformLocations_={};this.attribLocations_={};return!0};A.prototype.compileShader=function(x,q){var H=this.getGL();q=H.createShader(q);H.shaderSource(q,x);H.compileShader(q);return q};A.prototype.getProgram=function(x,q){var H=this.getGL();x=this.compileShader(x,H.FRAGMENT_SHADER);
q=this.compileShader(q,H.VERTEX_SHADER);var M=H.createProgram();H.attachShader(M,x);H.attachShader(M,q);H.linkProgram(M);if(!H.getShaderParameter(x,H.COMPILE_STATUS))throw H="Fragment shader compliation failed: ".concat(H.getShaderInfoLog(x)),Error(H);H.deleteShader(x);if(!H.getShaderParameter(q,H.COMPILE_STATUS))throw H="Vertex shader compilation failed: ".concat(H.getShaderInfoLog(q)),Error(H);H.deleteShader(q);if(!H.getProgramParameter(M,H.LINK_STATUS))throw H="GL program linking failed: ".concat(H.getShaderInfoLog(q)),
Error(H);return M};A.prototype.getUniformLocation=function(x){void 0===this.uniformLocations_[x]&&(this.uniformLocations_[x]=this.getGL().getUniformLocation(this.currentProgram_,x));return this.uniformLocations_[x]};A.prototype.getAttributeLocation=function(x){void 0===this.attribLocations_[x]&&(this.attribLocations_[x]=this.getGL().getAttribLocation(this.currentProgram_,x));return this.attribLocations_[x]};A.prototype.makeProjectionTransform=function(x,q){var H=x.size,M=x.viewState.rotation,R=x.viewState.resolution;
x=x.viewState.center;(0,d.reset)(q);(0,d.compose)(q,0,0,2/(R*H[0]),2/(R*H[1]),-M,-x[0],-x[1]);return q};A.prototype.setUniformFloatValue=function(x,q){this.getGL().uniform1f(this.getUniformLocation(x),q)};A.prototype.setUniformFloatVec4=function(x,q){this.getGL().uniform4fv(this.getUniformLocation(x),q)};A.prototype.setUniformMatrixValue=function(x,q){this.getGL().uniformMatrix4fv(this.getUniformLocation(x),!1,q)};A.prototype.enableAttributeArray_=function(x,q,H,M,R){x=this.getAttributeLocation(x);
0>x||(this.getGL().enableVertexAttribArray(x),this.getGL().vertexAttribPointer(x,q,H,!1,M,R))};A.prototype.enableAttributes=function(x){for(var q=v(x),H=0,M=0;M<x.length;M++){var R=x[M];this.enableAttributeArray_(R.name,R.size,R.type||f.FLOAT,q,H);H+=R.size*r(R.type)}};A.prototype.handleWebGLContextLost=function(){(0,e.clear)(this.bufferCache_);this.currentProgram_=null};A.prototype.handleWebGLContextRestored=function(){};A.prototype.createTexture=function(x,q,H){var M=this.getGL();H=H||M.createTexture();
var R=M.RGBA,Z=M.RGBA,T=M.UNSIGNED_BYTE;M.bindTexture(M.TEXTURE_2D,H);q?M.texImage2D(M.TEXTURE_2D,0,R,Z,T,q):M.texImage2D(M.TEXTURE_2D,0,R,x[0],x[1],0,Z,T,null);M.texParameteri(M.TEXTURE_2D,M.TEXTURE_MIN_FILTER,M.LINEAR);M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE);M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE);return H};return A}(sa.default);G.default=F};
shadow$provide[358]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}function p(c,b,m,z,u){c[b+0]=m;c[b+1]=z;c[b+2]=u}Object.defineProperty(G,"__esModule",{value:!0});G.writePointFeatureToBuffers=function(c,b,m,z,u,C){var J=3+u,A=c[b+0],x=c[b+1],q=d;q.length=u;for(u=0;u<q.length;u++)q[u]=c[b+2+u];c=C?C.vertexPosition:0;C=C?C.indexPosition:0;b=c/J;p(m,c,A,x,0);q.length&&m.set(q,c+3);c+=J;p(m,c,A,x,1);q.length&&m.set(q,c+3);c+=J;p(m,c,A,x,2);q.length&&m.set(q,c+3);c+=J;p(m,c,A,
x,3);q.length&&m.set(q,c+3);z[C++]=b;z[C++]=b+1;z[C++]=b+3;z[C++]=b+1;z[C++]=b+2;z[C++]=b+3;a.vertexPosition=c+J;a.indexPosition=C;return a};G.getBlankImageData=function(){var c=document.createElement("canvas").getContext("2d").createImageData(1,1);c.data[0]=255;c.data[1]=255;c.data[2]=255;c.data[3]=255;return c};G.colorEncodeId=function(c,b){b=b||[];b[0]=Math.floor(c/256/256/256)/255;b[1]=Math.floor(c/256/256)%256/255;b[2]=Math.floor(c/256)%256/255;b[3]=c%256/255;return b};G.colorDecodeId=function(c){var b=
0+Math.round(4278190080*c[0]);b+=Math.round(16711680*c[1]);b+=Math.round(65280*c[2]);return b+=Math.round(255*c[3])};G.default=G.WebGLWorkerMessageType=void 0;var n=y(F(86));sa=y(F(207));var v=y(F(93)),r=y(F(88)),h=y(F(357)),k=F(72),f=F(74),e=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(z[C]=u[C])};return c(b,m)};return function(b,m){function z(){this.constructor=
b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}();G.WebGLWorkerMessageType={GENERATE_BUFFERS:"GENERATE_BUFFERS"};F=function(c){function b(m,z){var u=c.call(this,m)||this;z=z||{};u.inversePixelTransform_=(0,k.create)();u.pixelContext_=null;u.postProcesses_=z.postProcesses;u.uniforms_=z.uniforms;m.addChangeListener(n.default.MAP,u.removeHelper.bind(u));
u.dispatchPreComposeEvent=u.dispatchPreComposeEvent.bind(u);u.dispatchPostComposeEvent=u.dispatchPostComposeEvent.bind(u);return u}e(b,c);b.prototype.dispatchPreComposeEvent=function(m,z){var u=this.getLayer();u.hasListener(r.default.PRECOMPOSE)&&(m=new v.default(r.default.PRECOMPOSE,void 0,z,m),u.dispatchEvent(m))};b.prototype.dispatchPostComposeEvent=function(m,z){var u=this.getLayer();u.hasListener(r.default.POSTCOMPOSE)&&(m=new v.default(r.default.POSTCOMPOSE,void 0,z,m),u.dispatchEvent(m))};
b.prototype.reset=function(m){this.uniforms_=m.uniforms;this.helper&&this.helper.setUniforms(this.uniforms_)};b.prototype.removeHelper=function(){this.helper&&(this.helper.dispose(),delete this.helper)};b.prototype.prepareFrame=function(m){if(this.getLayer().getRenderSource()){for(var z=!0,u=-1,C=void 0,J=0,A=m.layerStatesArray.length;J<A;J++){var x=m.layerStatesArray[J].layer,q=x.getRenderer();if(q instanceof b){x=x.getClassName();if(z||x!==C)u+=1,z=!1;C=x;if(q===this)break}else z=!0}z="map/"+m.mapId+
"/group/"+u;this.helper&&this.helper.canvasCacheKeyMatches(z)||(this.removeHelper(),this.helper=new h.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,canvasCacheKey:z}),C&&(this.helper.getCanvas().className=C),this.afterHelperCreated())}return this.prepareFrameInternal(m)};b.prototype.afterHelperCreated=function(){};b.prototype.prepareFrameInternal=function(m){return!0};b.prototype.disposeInternal=function(){this.removeHelper();c.prototype.disposeInternal.call(this)};b.prototype.dispatchRenderEvent_=
function(m,z,u){var C=this.getLayer();C.hasListener(m)&&((0,k.compose)(this.inversePixelTransform_,0,0,u.pixelRatio,-u.pixelRatio,0,0,-u.size[1]),m=new v.default(m,this.inversePixelTransform_,u,z),C.dispatchEvent(m))};b.prototype.preRender=function(m,z){this.dispatchRenderEvent_(r.default.PRERENDER,m,z)};b.prototype.postRender=function(m,z){this.dispatchRenderEvent_(r.default.POSTRENDER,m,z)};b.prototype.getDataAtPixel=function(m,z,u){var C=(0,k.apply)([z.pixelRatio,0,0,z.pixelRatio,0,0],m.slice());
u=this.helper.getGL();if(!u)return null;var J=this.getLayer().getExtent();if(J&&(m=(0,k.apply)(z.pixelToCoordinateTransform,m.slice()),!(0,f.containsCoordinate)(J,m)))return null;m=u.getContextAttributes();if(!m||!m.preserveDrawingBuffer)return new Uint8Array;m=Math.round(C[0]);C=Math.round(C[1]);z=this.pixelContext_;z||(z=document.createElement("canvas"),z.width=1,z.height=1,this.pixelContext_=z=z.getContext("2d"));z.clearRect(0,0,1,1);try{z.drawImage(u.canvas,m,C,1,1,0,0,1,1);var A=z.getImageData(0,
0,1,1).data}catch(x){return A}return 0===A[3]?null:A};return b}(sa.default);var d=[],a={vertexPosition:0,indexPosition:0};G.default=F};
shadow$provide[359]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var y=F(66),p=new Uint8Array(4);sa=function(){function n(v,r){this.helper_=v;v=v.getGL();this.texture_=v.createTexture();this.framebuffer_=v.createFramebuffer();this.size_=r||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}n.prototype.setSize=function(v){(0,y.equals)(v,this.size_)||(this.size_[0]=v[0],this.size_[1]=v[1],this.updateSize_())};n.prototype.getSize=function(){return this.size_};
n.prototype.clearCachedData=function(){this.dataCacheDirty_=!0};n.prototype.readAll=function(){if(this.dataCacheDirty_){var v=this.size_,r=this.helper_.getGL();r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer_);r.readPixels(0,0,v[0],v[1],r.RGBA,r.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_};n.prototype.readPixel=function(v,r){if(0>v||0>r||v>this.size_[0]||r>=this.size_[1])return p[0]=0,p[1]=0,p[2]=0,p[3]=0,p;this.readAll();v=Math.floor(v)+(this.size_[1]-Math.floor(r)-1)*this.size_[0];
p[0]=this.data_[4*v];p[1]=this.data_[4*v+1];p[2]=this.data_[4*v+2];p[3]=this.data_[4*v+3];return p};n.prototype.getTexture=function(){return this.texture_};n.prototype.getFramebuffer=function(){return this.framebuffer_};n.prototype.updateSize_=function(){var v=this.size_,r=this.helper_.getGL();this.texture_=this.helper_.createTexture(v,null,this.texture_);r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer_);r.viewport(0,0,v[0],v[1]);r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,
this.texture_,0);this.data_=new Uint8Array(v[0]*v[1]*4)};return n}();G.default=sa};
shadow$provide[360]=function(sa,F,ob,G){var y=F(21).Buffer;"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.create=function(){return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+y.from('const e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");const t\x3dObject(e);for(let e\x3d1,n\x3darguments.length;e\x3cn;++e){const n\x3darguments[e];if(null!\x3dn)for(const e in n)n.hasOwnProperty(e)\x26\x26(t[e]\x3dn[e])}return t},n\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";n.indexOf("firefox");-1!\x3d\x3dn.indexOf("safari")\x26\x26-1\x3d\x3dn.indexOf("chrom")\x26\x26(n.indexOf("version/15.4")\x3e\x3d0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!\x3d\x3dn.indexOf("webkit")\x26\x26n.indexOf("edge"),n.indexOf("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const n\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}(),new Array(6);const t\x3d"GENERATE_BUFFERS",o\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]\x3dt,e[n+1]\x3do,e[n+2]\x3dr}function s(e,n,t,s,f,c){const l\x3d3+f,a\x3de[n+0],u\x3de[n+1],d\x3do;d.length\x3df;for(let t\x3d0;t\x3cd.length;t++)d[t]\x3de[n+2+t];let g\x3dc?c.vertexPosition:0,x\x3dc?c.indexPosition:0;const h\x3dg/l;return i(t,g,a,u,0),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,1),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,2),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,3),d.length\x26\x26t.set(d,g+3),g+\x3dl,s[x++]\x3dh,s[x++]\x3dh+1,s[x++]\x3dh+3,s[x++]\x3dh+1,s[x++]\x3dh+2,s[x++]\x3dh+3,r.vertexPosition\x3dg,r.indexPosition\x3dx,r}const f\x3dself;f.onmessage\x3dn\x3d\x3e{const o\x3dn.data;if(o.type\x3d\x3d\x3dt){const n\x3d3,t\x3d2,r\x3do.customAttributesCount,i\x3dt+r,c\x3dnew Float32Array(o.renderInstructions),l\x3dc.length/i,a\x3d4*l*(r+n),u\x3dnew Uint32Array(6*l),d\x3dnew Float32Array(a);let g;for(let e\x3d0;e\x3cc.length;e+\x3di)g\x3ds(c,e,d,u,r,g);const x\x3de({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};',
"binary").toString("base64"):URL.createObjectURL(new Blob(['const e\x3d"function"\x3d\x3dtypeof Object.assign?Object.assign:function(e,n){if(null\x3d\x3de)throw new TypeError("Cannot convert undefined or null to object");const t\x3dObject(e);for(let e\x3d1,n\x3darguments.length;e\x3cn;++e){const n\x3darguments[e];if(null!\x3dn)for(const e in n)n.hasOwnProperty(e)\x26\x26(t[e]\x3dn[e])}return t},n\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";n.indexOf("firefox");-1!\x3d\x3dn.indexOf("safari")\x26\x26-1\x3d\x3dn.indexOf("chrom")\x26\x26(n.indexOf("version/15.4")\x3e\x3d0||n.match(/cpu (os|iphone os) 15_4 like mac os x/)),-1!\x3d\x3dn.indexOf("webkit")\x26\x26n.indexOf("edge"),n.indexOf("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const n\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,n),window.removeEventListener("_",null,n)}catch(e){}}(),new Array(6);const t\x3d"GENERATE_BUFFERS",o\x3d[],r\x3d{vertexPosition:0,indexPosition:0};function i(e,n,t,o,r){e[n+0]\x3dt,e[n+1]\x3do,e[n+2]\x3dr}function s(e,n,t,s,f,c){const l\x3d3+f,a\x3de[n+0],u\x3de[n+1],d\x3do;d.length\x3df;for(let t\x3d0;t\x3cd.length;t++)d[t]\x3de[n+2+t];let g\x3dc?c.vertexPosition:0,x\x3dc?c.indexPosition:0;const h\x3dg/l;return i(t,g,a,u,0),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,1),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,2),d.length\x26\x26t.set(d,g+3),g+\x3dl,i(t,g,a,u,3),d.length\x26\x26t.set(d,g+3),g+\x3dl,s[x++]\x3dh,s[x++]\x3dh+1,s[x++]\x3dh+3,s[x++]\x3dh+1,s[x++]\x3dh+2,s[x++]\x3dh+3,r.vertexPosition\x3dg,r.indexPosition\x3dx,r}const f\x3dself;f.onmessage\x3dn\x3d\x3e{const o\x3dn.data;if(o.type\x3d\x3d\x3dt){const n\x3d3,t\x3d2,r\x3do.customAttributesCount,i\x3dt+r,c\x3dnew Float32Array(o.renderInstructions),l\x3dc.length/i,a\x3d4*l*(r+n),u\x3dnew Uint32Array(6*l),d\x3dnew Float32Array(a);let g;for(let e\x3d0;e\x3cc.length;e+\x3di)g\x3ds(c,e,d,u,r,g);const x\x3de({vertexBuffer:d.buffer,indexBuffer:u.buffer,renderInstructions:c.buffer},o);f.postMessage(x,[d.buffer,u.buffer,c.buffer])}};'],
{type:"application/javascript"})))}};
shadow$provide[361]=function(sa,F,ob,G){function y(J){if("function"!==typeof WeakMap)return null;var A=new WeakMap,x=new WeakMap;return(y=function(q){return q?x:A})(J)}function p(J){return J&&J.__esModule?J:{default:J}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var n=p(F(196)),v=p(F(227)),r=p(F(112)),h=p(F(353)),k=function(J,A){if(!A&&J&&J.__esModule)return J;if(null===J||"object"!==typeof J&&"function"!==typeof J)return{default:J};if((A=y(A))&&A.has(J))return A.get(J);var x=
{},q=Object.defineProperty&&Object.getOwnPropertyDescriptor,H;for(H in J)if("default"!==H&&Object.prototype.hasOwnProperty.call(J,H)){var M=q?Object.getOwnPropertyDescriptor(J,H):null;M&&(M.get||M.set)?Object.defineProperty(x,H,M):x[H]=J[H]}x.default=J;A&&A.set(J,x);return x}(F(358)),f=p(F(359)),e=F(352),d=F(357),a=F(72),c=F(71),b=F(74),m=F(360),z=F(68),u=F(83),C=function(){var J=function(A,x){J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,H){q.__proto__=H}||function(q,H){for(var M in H)Object.prototype.hasOwnProperty.call(H,
M)&&(q[M]=H[M])};return J(A,x)};return function(A,x){function q(){this.constructor=A}if("function"!==typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");J(A,x);A.prototype=null===x?Object.create(x):(q.prototype=x.prototype,new q)}}();sa=function(J){function A(x,q){var H=this;H=q.uniforms||{};var M=(0,a.create)();H[d.DefaultUniform.PROJECTION_MATRIX]=M;H=J.call(this,x,{uniforms:H,postProcesses:q.postProcesses})||this;H.ready=!1;H.sourceRevision_=
-1;H.verticesBuffer_=new h.default(e.ARRAY_BUFFER,e.DYNAMIC_DRAW);H.hitVerticesBuffer_=new h.default(e.ARRAY_BUFFER,e.DYNAMIC_DRAW);H.indicesBuffer_=new h.default(e.ELEMENT_ARRAY_BUFFER,e.DYNAMIC_DRAW);H.vertexShader_=q.vertexShader;H.fragmentShader_=q.fragmentShader;H.hitDetectionEnabled_=q.hitFragmentShader&&q.hitVertexShader?!0:!1;H.hitVertexShader_=q.hitVertexShader;H.hitFragmentShader_=q.hitFragmentShader;x=q.attributes?q.attributes.map(function(R){return{name:"a_"+R.name,size:1,type:d.AttributeType.FLOAT}}):
[];H.attributes=[{name:"a_position",size:2,type:d.AttributeType.FLOAT},{name:"a_index",size:1,type:d.AttributeType.FLOAT}].concat(x);H.hitDetectionAttributes=[{name:"a_position",size:2,type:d.AttributeType.FLOAT},{name:"a_index",size:1,type:d.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:d.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:d.AttributeType.FLOAT}].concat(x);H.customAttributes=q.attributes?q.attributes:[];H.previousExtent_=(0,b.createEmpty)();H.currentTransform_=M;H.renderTransform_=
(0,a.create)();H.invertRenderTransform_=(0,a.create)();H.renderInstructions_=new Float32Array(0);H.hitRenderInstructions_=new Float32Array(0);H.generateBuffersRun_=0;H.worker_=(0,m.create)();H.worker_.addEventListener("message",function(R){var Z=R.data;if(Z.type===k.WebGLWorkerMessageType.GENERATE_BUFFERS){var T=Z.projectionTransform;Z.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(Z.vertexBuffer),this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(Z.vertexBuffer),
this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(Z.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=T;(0,a.makeInverse)(this.invertRenderTransform_,this.renderTransform_);Z.hitDetection?this.hitRenderInstructions_=new Float32Array(R.data.renderInstructions):(this.renderInstructions_=new Float32Array(R.data.renderInstructions),Z.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0));this.getLayer().changed()}}.bind(H));
H.featureCache_={};H.featureCount_=0;q=H.getLayer().getSource();H.sourceListenKeys_=[(0,u.listen)(q,v.default.ADDFEATURE,H.handleSourceFeatureAdded_,H),(0,u.listen)(q,v.default.CHANGEFEATURE,H.handleSourceFeatureChanged_,H),(0,u.listen)(q,v.default.REMOVEFEATURE,H.handleSourceFeatureDelete_,H),(0,u.listen)(q,v.default.CLEAR,H.handleSourceFeatureClear_,H)];q.forEachFeature(function(R){this.featureCache_[(0,z.getUid)(R)]={feature:R,properties:R.getProperties(),geometry:R.getGeometry()};this.featureCount_++}.bind(H));
return H}C(A,J);A.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new f.default(this.helper))};A.prototype.handleSourceFeatureAdded_=function(x){x=x.feature;this.featureCache_[(0,z.getUid)(x)]={feature:x,properties:x.getProperties(),geometry:x.getGeometry()};this.featureCount_++};A.prototype.handleSourceFeatureChanged_=
function(x){x=x.feature;this.featureCache_[(0,z.getUid)(x)]={feature:x,properties:x.getProperties(),geometry:x.getGeometry()}};A.prototype.handleSourceFeatureDelete_=function(x){delete this.featureCache_[(0,z.getUid)(x.feature)];this.featureCount_--};A.prototype.handleSourceFeatureClear_=function(){this.featureCache_={};this.featureCount_=0};A.prototype.renderFrame=function(x){var q=this.helper.getGL();this.preRender(q,x);var H=x.viewState.projection,M=this.getLayer().getSource().getWrapX()&&H.canWrapX(),
R=H.getExtent(),Z=x.extent;H=M?(0,b.getWidth)(R):null;var T=M?Math.ceil((Z[2]-R[2])/H)+1:1;R=M=M?Math.floor((Z[0]-R[0])/H):0;Z=this.indicesBuffer_.getSize();do this.helper.makeProjectionTransform(x,this.currentTransform_),(0,a.translate)(this.currentTransform_,R*H,0),(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(x),this.helper.drawElements(0,Z);while(++R<T);this.helper.finalizeDraw(x,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);R=this.helper.getCanvas();
this.hitDetectionEnabled_&&(this.renderHitDetection(x,M,T,H),this.hitRenderTarget_.clearCachedData());this.postRender(q,x);return R};A.prototype.prepareFrameInternal=function(x){var q=this.getLayer(),H=q.getSource(),M=x.viewState,R=!x.viewHints[r.default.ANIMATING]&&!x.viewHints[r.default.INTERACTING],Z=!(0,b.equals)(this.previousExtent_,x.extent),T=this.sourceRevision_<H.getRevision();T&&(this.sourceRevision_=H.getRevision());R&&(Z||T)&&(R=M.projection,M=M.resolution,q=q instanceof n.default?q.getRenderBuffer():
0,q=(0,b.buffer)(x.extent,q*M),H.loadFeatures(q,M,R),this.rebuildBuffers_(x),this.previousExtent_=x.extent.slice());this.helper.useProgram(this.program_);this.helper.prepareDraw(x);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0};A.prototype.rebuildBuffers_=function(x){var q=(0,a.create)();this.helper.makeProjectionTransform(x,q);x=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&
this.renderInstructions_.length===x||(this.renderInstructions_=new Float32Array(x));this.hitDetectionEnabled_&&(x=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===x||(this.hitRenderInstructions_=new Float32Array(x)));var H,M=[],R=[],Z=0,T=0;for(aa in this.featureCache_)if(x=this.featureCache_[aa],(H=x.geometry)&&"Point"===H.getType()){M[0]=H.getFlatCoordinates()[0];M[1]=H.getFlatCoordinates()[1];(0,a.apply)(q,M);H=(0,k.colorEncodeId)(T+
6,R);this.renderInstructions_[Z++]=M[0];this.renderInstructions_[Z++]=M[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[T++]=M[0],this.hitRenderInstructions_[T++]=M[1],this.hitRenderInstructions_[T++]=H[0],this.hitRenderInstructions_[T++]=H[1],this.hitRenderInstructions_[T++]=H[2],this.hitRenderInstructions_[T++]=H[3],this.hitRenderInstructions_[T++]=Number(aa));for(var ba=0;ba<this.customAttributes.length;ba++)H=this.customAttributes[ba].callback(x.feature,x.properties),this.renderInstructions_[Z++]=
H,this.hitDetectionEnabled_&&(this.hitRenderInstructions_[T++]=H)}var aa={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};aa.projectionTransform=q;aa.generateBuffersRun=++this.generateBuffersRun_;this.ready=!1;this.worker_.postMessage(aa,[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(aa={type:k.WebGLWorkerMessageType.GENERATE_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,
customAttributesCount:5+this.customAttributes.length},aa.projectionTransform=q,aa.hitDetection=!0,this.worker_.postMessage(aa,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)};A.prototype.forEachFeatureAtCoordinate=function(x,q,H,M,R){(0,c.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&(x=(0,a.apply)(q.coordinateToPixelTransform,x.slice()),x=this.hitRenderTarget_.readPixel(x[0]/2,x[1]/2),x=(0,k.colorDecodeId)([x[0]/255,x[1]/255,x[2]/255,x[3]/255]),x=Math.floor(this.hitRenderInstructions_[x]).toString(),
x=this.getLayer().getSource().getFeatureByUid(x)))return M(x,this.getLayer(),null)};A.prototype.renderHitDetection=function(x,q,H,M){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(x.size[0]/2),Math.floor(x.size[1]/2)]);this.helper.useProgram(this.hitProgram_);this.helper.prepareDrawToRenderTarget(x,this.hitRenderTarget_,!0);this.helper.bindBuffer(this.hitVerticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.hitDetectionAttributes);
do{this.helper.makeProjectionTransform(x,this.currentTransform_);(0,a.translate)(this.currentTransform_,q*M,0);(0,a.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.applyUniforms(x);var R=this.indicesBuffer_.getSize();this.helper.drawElements(0,R)}while(++q<H)}};A.prototype.disposeInternal=function(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(x){(0,u.unlistenByKey)(x)});this.sourceListenKeys_=null;J.prototype.disposeInternal.call(this)};
return A}(k.default);G.default=sa};
shadow$provide[362]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(196));var p=y(F(361)),n=F(80),v=F(75),r=F(95),h=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==typeof d&&
null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}(),k=["#00f","#0ff","#0f0","#ff0","#f00"];F=function(f){function e(d){var a=this;d=d?d:{};a=(0,n.assign)({},d);delete a.gradient;delete a.radius;delete a.blur;delete a.weight;a=f.call(this,a)||this;a.gradient_=null;a.addChangeListener("gradient",a.handleGradientChanged_);a.setGradient(d.gradient?d.gradient:k);a.setBlur(void 0!==
d.blur?d.blur:15);a.setRadius(void 0!==d.radius?d.radius:8);var c=d.weight?d.weight:"weight";a.weightFunction_="string"===typeof c?function(b){return b.get(c)}:c;a.setRenderOrder(null);return a}h(e,f);e.prototype.getBlur=function(){return this.get("blur")};e.prototype.getGradient=function(){return this.get("gradient")};e.prototype.getRadius=function(){return this.get("radius")};e.prototype.handleGradientChanged_=function(){for(var d=this.getGradient(),a=(0,r.createCanvasContext2D)(1,256),c=a.createLinearGradient(0,
0,1,256),b=1/(d.length-1),m=0,z=d.length;m<z;++m)c.addColorStop(m*b,d[m]);a.fillStyle=c;a.fillRect(0,0,1,256);this.gradient_=a.canvas};e.prototype.setBlur=function(d){this.set("blur",d)};e.prototype.setGradient=function(d){this.set("gradient",d)};e.prototype.setRadius=function(d){this.set("radius",d)};e.prototype.createRenderer=function(){return new p.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(d){d=this.weightFunction_(d);return void 0!==d?(0,v.clamp)(d,
0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a * u_opacity;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})};e.prototype.renderDeclutter=function(){};return e}(sa.default);G.default=F};
shadow$provide[363]=function(sa,F,ob,G){function y(q){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(q)?q:new Uint8Array(q||0);this.type=this.pos=0;this.length=this.buf.length}function p(q,H,M){var R=M.buf;var Z=R[M.pos++];var T=(Z&112)>>4;if(128>Z)return v(q,T,H);Z=R[M.pos++];T|=(Z&127)<<3;if(128>Z)return v(q,T,H);Z=R[M.pos++];T|=(Z&127)<<10;if(128>Z)return v(q,T,H);Z=R[M.pos++];T|=(Z&127)<<17;if(128>Z)return v(q,T,H);Z=R[M.pos++];T|=(Z&127)<<24;if(128>Z)return v(q,T,H);Z=R[M.pos++];if(128>Z)return v(q,
T|(Z&1)<<31,H);throw Error("Expected varint not more than 10 bytes");}function n(q){return q.type===y.Bytes?q.readVarint()+q.pos:q.pos+1}function v(q,H,M){return M?4294967296*H+(q>>>0):4294967296*(H>>>0)+(q>>>0)}function r(q,H,M){H=16383>=H?1:2097151>=H?2:268435455>=H?3:Math.floor(Math.log(H)/(7*Math.LN2));M.realloc(H);for(var R=M.pos-1;R>=q;R--)M.buf[R+H]=M.buf[R]}function h(q,H){for(var M=0;M<q.length;M++)H.writeVarint(q[M])}function k(q,H){for(var M=0;M<q.length;M++)H.writeSVarint(q[M])}function f(q,
H){for(var M=0;M<q.length;M++)H.writeFloat(q[M])}function e(q,H){for(var M=0;M<q.length;M++)H.writeDouble(q[M])}function d(q,H){for(var M=0;M<q.length;M++)H.writeBoolean(q[M])}function a(q,H){for(var M=0;M<q.length;M++)H.writeFixed32(q[M])}function c(q,H){for(var M=0;M<q.length;M++)H.writeSFixed32(q[M])}function b(q,H){for(var M=0;M<q.length;M++)H.writeFixed64(q[M])}function m(q,H){for(var M=0;M<q.length;M++)H.writeSFixed64(q[M])}function z(q,H){return(q[H]|q[H+1]<<8|q[H+2]<<16)+16777216*q[H+3]}function u(q,
H,M){q[M]=H;q[M+1]=H>>>8;q[M+2]=H>>>16;q[M+3]=H>>>24}function C(q,H){return(q[H]|q[H+1]<<8|q[H+2]<<16)+(q[H+3]<<24)}ob.exports=y;var J=F(19);y.Varint=0;y.Fixed64=1;y.Bytes=2;y.Fixed32=5;var A=1/4294967296,x="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");y.prototype={destroy:function(){this.buf=null},readFields:function(q,H,M){for(M=M||this.length;this.pos<M;){var R=this.readVarint(),Z=R>>3,T=this.pos;this.type=R&7;q(Z,H,this);this.pos===T&&this.skip(R)}return H},readMessage:function(q,
H){return this.readFields(q,H,this.readVarint()+this.pos)},readFixed32:function(){var q=z(this.buf,this.pos);this.pos+=4;return q},readSFixed32:function(){var q=C(this.buf,this.pos);this.pos+=4;return q},readFixed64:function(){var q=z(this.buf,this.pos)+4294967296*z(this.buf,this.pos+4);this.pos+=8;return q},readSFixed64:function(){var q=z(this.buf,this.pos)+4294967296*C(this.buf,this.pos+4);this.pos+=8;return q},readFloat:function(){var q=J.read(this.buf,this.pos,!0,23,4);this.pos+=4;return q},readDouble:function(){var q=
J.read(this.buf,this.pos,!0,52,8);this.pos+=8;return q},readVarint:function(q){var H=this.buf;var M=H[this.pos++];var R=M&127;if(128>M)return R;M=H[this.pos++];R|=(M&127)<<7;if(128>M)return R;M=H[this.pos++];R|=(M&127)<<14;if(128>M)return R;M=H[this.pos++];R|=(M&127)<<21;if(128>M)return R;M=H[this.pos];return p(R|(M&15)<<28,q,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var q=this.readVarint();return 1===q%2?(q+1)/-2:q/2},readBoolean:function(){return!!this.readVarint()},
readString:function(){var q=this.readVarint()+this.pos,H=this.pos;this.pos=q;if(12<=q-H&&x)return x.decode(this.buf.subarray(H,q));for(var M=this.buf,R="";H<q;){var Z=M[H],T=null,ba=239<Z?4:223<Z?3:191<Z?2:1;if(H+ba>q)break;if(1===ba)128>Z&&(T=Z);else if(2===ba){var aa=M[H+1];128===(aa&192)&&(T=(Z&31)<<6|aa&63,127>=T&&(T=null))}else if(3===ba){aa=M[H+1];var W=M[H+2];128===(aa&192)&&128===(W&192)&&(T=(Z&15)<<12|(aa&63)<<6|W&63,2047>=T||55296<=T&&57343>=T)&&(T=null)}else if(4===ba){aa=M[H+1];W=M[H+
2];var X=M[H+3];128===(aa&192)&&128===(W&192)&&128===(X&192)&&(T=(Z&15)<<18|(aa&63)<<12|(W&63)<<6|X&63,65535>=T||1114112<=T)&&(T=null)}null===T?(T=65533,ba=1):65535<T&&(T-=65536,R+=String.fromCharCode(T>>>10&1023|55296),T=56320|T&1023);R+=String.fromCharCode(T);H+=ba}return R},readBytes:function(){var q=this.readVarint()+this.pos,H=this.buf.subarray(this.pos,q);this.pos=q;return H},readPackedVarint:function(q,H){if(this.type!==y.Bytes)return q.push(this.readVarint(H));var M=n(this);for(q=q||[];this.pos<
M;)q.push(this.readVarint(H));return q},readPackedSVarint:function(q){if(this.type!==y.Bytes)return q.push(this.readSVarint());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readSVarint());return q},readPackedBoolean:function(q){if(this.type!==y.Bytes)return q.push(this.readBoolean());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readBoolean());return q},readPackedFloat:function(q){if(this.type!==y.Bytes)return q.push(this.readFloat());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readFloat());
return q},readPackedDouble:function(q){if(this.type!==y.Bytes)return q.push(this.readDouble());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readDouble());return q},readPackedFixed32:function(q){if(this.type!==y.Bytes)return q.push(this.readFixed32());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readFixed32());return q},readPackedSFixed32:function(q){if(this.type!==y.Bytes)return q.push(this.readSFixed32());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readSFixed32());return q},readPackedFixed64:function(q){if(this.type!==
y.Bytes)return q.push(this.readFixed64());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readFixed64());return q},readPackedSFixed64:function(q){if(this.type!==y.Bytes)return q.push(this.readSFixed64());var H=n(this);for(q=q||[];this.pos<H;)q.push(this.readSFixed64());return q},skip:function(q){q&=7;if(q===y.Varint)for(;127<this.buf[this.pos++];);else if(q===y.Bytes)this.pos=this.readVarint()+this.pos;else if(q===y.Fixed32)this.pos+=4;else if(q===y.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+
q);},writeTag:function(q,H){this.writeVarint(q<<3|H)},realloc:function(q){for(var H=this.length||16;H<this.pos+q;)H*=2;H!==this.length&&(q=new Uint8Array(H),q.set(this.buf),this.buf=q,this.length=H)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(q){this.realloc(4);u(this.buf,q,this.pos);this.pos+=4},writeSFixed32:function(q){this.realloc(4);u(this.buf,q,this.pos);this.pos+=4},writeFixed64:function(q){this.realloc(8);u(this.buf,q&-1,
this.pos);u(this.buf,Math.floor(q*A),this.pos+4);this.pos+=8},writeSFixed64:function(q){this.realloc(8);u(this.buf,q&-1,this.pos);u(this.buf,Math.floor(q*A),this.pos+4);this.pos+=8},writeVarint:function(q){q=+q||0;if(268435455<q||0>q){if(0<=q){var H=q%4294967296|0;var M=q/4294967296|0}else H=~(-q%4294967296),M=~(-q/4294967296),H^4294967295?H=H+1|0:(H=0,M=M+1|0);if(1.8446744073709552E19<=q||-1.8446744073709552E19>q)throw Error("Given varint doesn't fit into 10 bytes");this.realloc(10);q=H;this.buf[this.pos++]=
q&127|128;q>>>=7;this.buf[this.pos++]=q&127|128;q>>>=7;this.buf[this.pos++]=q&127|128;q>>>=7;this.buf[this.pos++]=q&127|128;this.buf[this.pos]=q>>>7&127;this.buf[this.pos++]|=(M&7)<<4|((M>>>=3)?128:0);M&&(this.buf[this.pos++]=M&127|((M>>>=7)?128:0),M&&(this.buf[this.pos++]=M&127|((M>>>=7)?128:0),M&&(this.buf[this.pos++]=M&127|((M>>>=7)?128:0),M&&(this.buf[this.pos++]=M&127|((M>>>=7)?128:0),M&&(this.buf[this.pos++]=M&127)))))}else this.realloc(4),this.buf[this.pos++]=q&127|(127<q?128:0),127>=q||(this.buf[this.pos++]=
(q>>>=7)&127|(127<q?128:0),127>=q||(this.buf[this.pos++]=(q>>>=7)&127|(127<q?128:0),127>=q||(this.buf[this.pos++]=q>>>7&127)))},writeSVarint:function(q){this.writeVarint(0>q?2*-q-1:2*q)},writeBoolean:function(q){this.writeVarint(!!q)},writeString:function(q){q=String(q);this.realloc(4*q.length);this.pos++;for(var H=this.pos,M=this.buf,R=this.pos,Z=0,T,ba;Z<q.length;Z++){T=q.charCodeAt(Z);if(55295<T&&57344>T)if(ba)if(56320>T){M[R++]=239;M[R++]=191;M[R++]=189;ba=T;continue}else T=ba-55296<<10|T-56320|
65536,ba=null;else{56319<T||Z+1===q.length?(M[R++]=239,M[R++]=191,M[R++]=189):ba=T;continue}else ba&&(M[R++]=239,M[R++]=191,M[R++]=189,ba=null);128>T?M[R++]=T:(2048>T?M[R++]=T>>6|192:(65536>T?M[R++]=T>>12|224:(M[R++]=T>>18|240,M[R++]=T>>12&63|128),M[R++]=T>>6&63|128),M[R++]=T&63|128)}this.pos=R;M=this.pos-H;128<=M&&r(H,M,this);this.pos=H-1;this.writeVarint(M);this.pos+=M},writeFloat:function(q){this.realloc(4);J.write(this.buf,q,this.pos,!0,23,4);this.pos+=4},writeDouble:function(q){this.realloc(8);
J.write(this.buf,q,this.pos,!0,52,8);this.pos+=8},writeBytes:function(q){var H=q.length;this.writeVarint(H);this.realloc(H);for(var M=0;M<H;M++)this.buf[this.pos++]=q[M]},writeRawMessage:function(q,H){this.pos++;var M=this.pos;q(H,this);q=this.pos-M;128<=q&&r(M,q,this);this.pos=M-1;this.writeVarint(q);this.pos+=q},writeMessage:function(q,H,M){this.writeTag(q,y.Bytes);this.writeRawMessage(H,M)},writePackedVarint:function(q,H){H.length&&this.writeMessage(q,h,H)},writePackedSVarint:function(q,H){H.length&&
this.writeMessage(q,k,H)},writePackedBoolean:function(q,H){H.length&&this.writeMessage(q,d,H)},writePackedFloat:function(q,H){H.length&&this.writeMessage(q,f,H)},writePackedDouble:function(q,H){H.length&&this.writeMessage(q,e,H)},writePackedFixed32:function(q,H){H.length&&this.writeMessage(q,a,H)},writePackedSFixed32:function(q,H){H.length&&this.writeMessage(q,c,H)},writePackedFixed64:function(q,H){H.length&&this.writeMessage(q,b,H)},writePackedSFixed64:function(q,H){H.length&&this.writeMessage(q,
m,H)},writeBytesField:function(q,H){this.writeTag(q,y.Bytes);this.writeBytes(H)},writeFixed32Field:function(q,H){this.writeTag(q,y.Fixed32);this.writeFixed32(H)},writeSFixed32Field:function(q,H){this.writeTag(q,y.Fixed32);this.writeSFixed32(H)},writeFixed64Field:function(q,H){this.writeTag(q,y.Fixed64);this.writeFixed64(H)},writeSFixed64Field:function(q,H){this.writeTag(q,y.Fixed64);this.writeSFixed64(H)},writeVarintField:function(q,H){this.writeTag(q,y.Varint);this.writeVarint(H)},writeSVarintField:function(q,
H){this.writeTag(q,y.Varint);this.writeSVarint(H)},writeStringField:function(q,H){this.writeTag(q,y.Bytes);this.writeString(H)},writeFloatField:function(q,H){this.writeTag(q,y.Fixed32);this.writeFloat(H)},writeDoubleField:function(q,H){this.writeTag(q,y.Fixed64);this.writeDouble(H)},writeBooleanField:function(q,H){this.writeVarintField(q,!!H)}}};
shadow$provide[364]=function(sa,F,ob,G){function y(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(G,"__esModule",{value:!0});Object.defineProperty(G,"Circle",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(G,"Geometry",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(G,"GeometryCollection",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"LinearRing",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,
"LineString",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"MultiLineString",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"MultiPoint",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(G,"MultiPolygon",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(G,"Point",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(G,"Polygon",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(G,
"SimpleGeometry",{enumerable:!0,get:function(){return c.default}});var p=y(F(178)),n=y(F(128)),v=y(F(239)),r=y(F(135)),h=y(F(182)),k=y(F(183)),f=y(F(184)),e=y(F(186)),d=y(F(136)),a=y(F(143)),c=y(F(129))};
shadow$provide[365]=function(sa,F,ob,G){function y(u){return u&&u.__esModule?u:{default:u}}function p(u){var C=u.getType();switch(C){case "Point":return new r.Point(u.getFlatCoordinates());case "MultiPoint":return new r.MultiPoint(u.getFlatCoordinates(),v.default.XY);case "LineString":return new r.LineString(u.getFlatCoordinates(),v.default.XY);case "MultiLineString":return new r.MultiLineString(u.getFlatCoordinates(),v.default.XY,u.getEnds());case "Polygon":C=u.getFlatCoordinates();u=u.getEnds();
var J=(0,a.inflateEnds)(C,u);return 1<J.length?new r.MultiPolygon(C,v.default.XY,J):new r.Polygon(C,v.default.XY,u);default:throw Error("Invalid geometry type:"+C);}}Object.defineProperty(G,"__esModule",{value:!0});G.toGeometry=p;G.toFeature=function(u,C){var J=u.getId(),A=p(u);u=u.getProperties();var x=new n.default;void 0!==C&&x.setGeometryName(C);x.setGeometry(A);void 0!==J&&x.setId(J);x.setProperties(u,!0);return x};G.default=void 0;var n=y(F(179)),v=y(F(126)),r=F(364),h=F(72),k=F(74),f=F(66),
e=F(138),d=F(121),a=F(142),c=F(180),b=F(185),m=F(127),z=(0,h.create)();sa=function(){function u(C,J,A,x,q){this.id_=q;this.type_=C;this.flatCoordinates_=J;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=A;this.properties_=x}u.prototype.get=function(C){return this.properties_[C]};u.prototype.getExtent=function(){this.extent_||(this.extent_="Point"===this.type_?(0,k.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,k.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,
2));return this.extent_};u.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var C=(0,k.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,e.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,C,0)}return this.flatInteriorPoints_};u.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var C=(0,b.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,e.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,
2,C)}return this.flatInteriorPoints_};u.prototype.getFlatMidpoint=function(){this.flatMidpoints_||(this.flatMidpoints_=(0,c.interpolatePoint)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_};u.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var C=this.flatCoordinates_,J=0,A=this.ends_,x=0,q=A.length;x<q;++x){var H=A[x];J=(0,c.interpolatePoint)(C,J,H,2,.5);(0,f.extend)(this.flatMidpoints_,J);J=H}}return this.flatMidpoints_};
u.prototype.getId=function(){return this.id_};u.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};u.prototype.getGeometry=function(){return this};u.prototype.getSimplifiedGeometry=function(C){return this};u.prototype.simplifyTransformed=function(C,J){return this};u.prototype.getProperties=function(){return this.properties_};u.prototype.getStride=function(){return 2};u.prototype.getStyleFunction=function(){return this.styleFunction};u.prototype.getType=function(){return this.type_};
u.prototype.transform=function(C){C=(0,d.get)(C);var J=C.getExtent();C=C.getWorldExtent();J&&C&&(J=(0,k.getHeight)(C)/(0,k.getHeight)(J),(0,h.compose)(z,C[0],C[3],J,-J,0,0,0),(0,m.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,z,this.flatCoordinates_))};u.prototype.getEnds=function(){return this.ends_};return u}();sa.prototype.getEndss=sa.prototype.getEnds;sa.prototype.getFlatCoordinates=sa.prototype.getOrientedFlatCoordinates;G.default=sa};
shadow$provide[366]=function(sa,F,ob,G){function y(H){return H&&H.__esModule?H:{default:H}}function p(H){if("function"!==typeof WeakMap)return null;var M=new WeakMap,R=new WeakMap;return(p=function(Z){return Z?R:M})(H)}function n(H,M,R){if(3===H){H={keys:[],values:[],features:[]};var Z=R.readVarint()+R.pos;R.readFields(v,H,Z);H.length=H.features.length;H.length&&(M[H.name]=H)}}function v(H,M,R){if(15===H)M.version=R.readVarint();else if(1===H)M.name=R.readString();else if(5===H)M.extent=R.readVarint();
else if(2===H)M.features.push(R.pos);else if(3===H)M.keys.push(R.readString());else if(4===H){H=null;for(var Z=R.readVarint()+R.pos;R.pos<Z;)H=R.readVarint()>>3,H=1===H?R.readString():2===H?R.readFloat():3===H?R.readDouble():4===H?R.readVarint64():5===H?R.readVarint():6===H?R.readSVarint():7===H?R.readBoolean():null;M.values.push(H)}}function r(H,M,R){if(1==H)M.id=R.readVarint();else if(2==H)for(H=R.readVarint()+R.pos;R.pos<H;){var Z=M.layer.keys[R.readVarint()],T=M.layer.values[R.readVarint()];M.properties[Z]=
T}else 3==H?M.type=R.readVarint():4==H&&(M.geometry=R.pos)}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var h=function(H,M){if(!M&&H&&H.__esModule)return H;if(null===H||"object"!==typeof H&&"function"!==typeof H)return{default:H};if((M=p(M))&&M.has(H))return M.get(H);var R={},Z=Object.defineProperty&&Object.getOwnPropertyDescriptor,T;for(T in H)if("default"!==T&&Object.prototype.hasOwnProperty.call(H,T)){var ba=Z?Object.getOwnPropertyDescriptor(H,T):null;ba&&(ba.get||ba.set)?
Object.defineProperty(R,T,ba):R[T]=H[T]}R.default=H;M&&M.set(H,R);return R}(F(240)),k=y(F(126)),f=y(F(182)),e=y(F(183)),d=y(F(184)),a=y(F(186)),c=y(F(363)),b=y(F(136)),m=y(F(143)),z=y(F(115)),u=y(F(365)),C=y(F(111)),J=F(71),A=F(121),x=F(142),q=function(){var H=function(M,R){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,T){Z.__proto__=T}||function(Z,T){for(var ba in T)Object.prototype.hasOwnProperty.call(T,ba)&&(Z[ba]=T[ba])};return H(M,R)};return function(M,R){function Z(){this.constructor=
M}if("function"!==typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");H(M,R);M.prototype=null===R?Object.create(R):(Z.prototype=R.prototype,new Z)}}();sa=function(H){function M(R){var Z=H.call(this)||this;R=R?R:{};Z.dataProjection=new z.default({code:"",units:C.default.TILE_PIXELS});Z.featureClass_=R.featureClass?R.featureClass:u.default;Z.geometryName_=R.geometryName;Z.layerName_=R.layerName?R.layerName:"layer";Z.layers_=R.layers?R.layers:null;
Z.idProperty_=R.idProperty;Z.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"];return Z}q(M,H);M.prototype.readRawGeometry_=function(R,Z,T,ba){R.pos=Z.geometry;Z=R.readVarint()+R.pos;for(var aa=1,W=0,X=0,P=0,w=0,B=0;R.pos<Z;)W||(W=R.readVarint(),aa=W&7,W>>=3),W--,1===aa||2===aa?(X+=R.readSVarint(),P+=R.readSVarint(),1===aa&&w>B&&(ba.push(w),B=w),T.push(X,P),w+=2):7===aa?w>B&&(T.push(T[B],T[B+1]),w+=2):(0,J.assert)(!1,59);w>B&&ba.push(w)};M.prototype.createFeature_=
function(R,Z,T){var ba=Z.type;if(0===ba)return null;var aa=Z.properties;if(this.idProperty_){var W=aa[this.idProperty_];delete aa[this.idProperty_]}else W=Z.id;aa[this.layerName_]=Z.layer.name;var X=[];var P=[];this.readRawGeometry_(R,Z,X,P);R=P.length;var w;1===ba?w=1===R?"Point":"MultiPoint":2===ba?w=1===R?"LineString":"MultiLineString":3===ba&&(w="Polygon");ba=w;this.featureClass_===u.default?(X=new this.featureClass_(ba,X,P,aa,W),X.transform(T.dataProjection)):("Polygon"==ba?(ba=(0,x.inflateEnds)(X,
P),P=1<ba.length?new a.default(X,k.default.XY,ba):new m.default(X,k.default.XY,P)):P="Point"===ba?new b.default(X,k.default.XY):"LineString"===ba?new f.default(X,k.default.XY):"MultiPoint"===ba?new d.default(X,k.default.XY):"MultiLineString"===ba?new e.default(X,k.default.XY,P):null,X=new this.featureClass_,this.geometryName_&&X.setGeometryName(this.geometryName_),T=(0,h.transformGeometryWithOptions)(P,!1,T),X.setGeometry(T),void 0!==W&&X.setId(W),X.setProperties(aa,!0));return X};M.prototype.getType=
function(){return"arraybuffer"};M.prototype.readFeatures=function(R,Z){var T=this.layers_;Z=this.adaptOptions(Z);var ba=(0,A.get)(Z.dataProjection);ba.setWorldExtent(Z.extent);Z.dataProjection=ba;R=new c.default(R);var aa=R.readFields(n,{}),W=[],X;for(X in aa)if(!T||-1!=T.indexOf(X)){var P=aa[X];ba.setExtent(P?[0,0,P.extent,P.extent]:null);for(var w=0,B=P.length;w<B;++w){var K=R,U=P;K.pos=U.features[w];var ka=K.readVarint()+K.pos;U={layer:U,type:0,properties:{}};K.readFields(r,U,ka);K=this.createFeature_(R,
U,Z);null!==K&&W.push(K)}}return W};M.prototype.readProjection=function(R){return this.dataProjection};M.prototype.setLayers=function(R){this.layers_=R};return M}(h.default);G.default=sa};
shadow$provide[367]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;G.default={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"}};
shadow$provide[368]=function(sa,F,ob,G){function y(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var p=y(F(206)),n=y(F(211));sa=y(F(334));var v=y(F(109)),r=y(F(367)),h=y(F(112)),k=F(221),f=F(72),e=F(74),d=F(222),a=F(68),c=F(145),b=F(91),m=function(){var C=function(J,A){C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,q){x.__proto__=q}||function(x,q){for(var H in q)Object.prototype.hasOwnProperty.call(q,H)&&(x[H]=q[H])};
return C(J,A)};return function(J,A){function x(){this.constructor=J}if("function"!==typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");C(J,A);J.prototype=null===A?Object.create(A):(x.prototype=A.prototype,new x)}}(),z={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},u={hybrid:["Image","Text","Default"],vector:"Polygon Circle LineString Image Text Default".split(" ")};F=function(C){function J(A){A=
C.call(this,A)||this;A.boundHandleStyleImageChange_=A.handleStyleImageChange_.bind(A);A.renderedPixelToCoordinateTransform_=null;A.tmpTransform_=(0,f.create)();return A}m(J,C);J.prototype.prepareTile=function(A,x,q){var H,M=A.getState();if(M===v.default.LOADED||M===v.default.ERROR)this.updateExecutorGroup_(A,x,q),this.tileImageNeedsRender_(A)&&(H=!0);return H};J.prototype.getTile=function(A,x,q,H){var M=H.pixelRatio,R=H.viewState,Z=R.resolution;R=R.projection;var T=this.getLayer(),ba=T.getSource().getTile(A,
x,q,M,R),aa=H.viewHints;if((aa=!(aa[h.default.ANIMATING]||aa[h.default.INTERACTING]))||!ba.wantedResolution)ba.wantedResolution=Z;this.prepareTile(ba,M,R)&&(aa||8>Date.now()-H.time)&&T.getRenderMode()!==r.default.VECTOR&&this.renderTileImage_(ba,H);return C.prototype.getTile.call(this,A,x,q,H)};J.prototype.isDrawableTile=function(A){var x=this.getLayer();return C.prototype.isDrawableTile.call(this,A)&&(x.getRenderMode()===r.default.VECTOR?(0,a.getUid)(x)in A.executorGroups:A.hasContext(x))};J.prototype.getTileImage=
function(A){return A.getImage(this.getLayer())};J.prototype.prepareFrame=function(A){var x=this.getLayer().getRevision();this.renderedLayerRevision_!==x&&(this.renderedLayerRevision_=x,this.renderedTiles.length=0);return C.prototype.prepareFrame.call(this,A)};J.prototype.updateExecutorGroup_=function(A,x,q){var H=this.getLayer(),M=H.getRevision(),R=H.getRenderOrder()||null,Z=A.wantedResolution,T=A.getReplayState(H);if(T.dirty||T.renderedResolution!==Z||T.renderedRevision!=M||T.renderedRenderOrder!=
R){var ba=H.getSource(),aa=H.getDeclutter(),W=ba.getTileGrid(),X=ba.getTileGridForProjection(q).getTileCoordExtent(A.wrappedTileCoord),P=ba.getSourceTiles(x,q,A),w=(0,a.getUid)(H);delete A.hitDetectionImageData[w];A.executorGroups[w]=[];aa&&(A.declutterExecutorGroups[w]=[]);T.dirty=!1;q=function(ka,da){var la=P[ka];if(la.getState()!=v.default.LOADED)return"continue";da=W.getTileCoordExtent(la.tileCoord);ka=(0,e.getIntersection)(X,da);var wa=(0,e.buffer)(ka,H.getRenderBuffer()*Z,B.tmpExtent);da=(0,e.equals)(da,
ka)?null:wa;var Ua=new p.default(0,wa,Z,x),hb=aa?new p.default(0,ka,Z,x):void 0,La=(0,d.getSquaredTolerance)(Z,x);wa=function(ua){var Aa,qa=ua.getStyleFunction()||H.getStyleFunction();qa&&(Aa=qa(ua,Z));Aa&&(ua=this.renderFeature(ua,La,Aa,Ua,hb),T.dirty=T.dirty||ua)};la=la.getFeatures();R&&R!==T.renderedRenderOrder&&la.sort(R);for(var pa=0,Da=la.length;pa<Da;++pa){var Ma=la[pa];da&&!(0,e.intersects)(da,Ma.getGeometry().getExtent())||wa.call(B,Ma)}da=Ua.finish();ka=H.getRenderMode()!==r.default.VECTOR&&
aa&&1===P.length?null:ka;ka=new n.default(ka,Z,x,ba.getOverlaps(),da,H.getRenderBuffer());A.executorGroups[w].push(ka);hb&&(ka=new n.default(null,Z,x,ba.getOverlaps(),hb.finish(),H.getRenderBuffer()),A.declutterExecutorGroups[w].push(ka))};for(var B=this,K=0,U=P.length;K<U;++K)q(K,U);T.renderedRevision=M;T.renderedRenderOrder=R;T.renderedResolution=Z}};J.prototype.forEachFeatureAtCoordinate=function(A,x,q,H,M){var R=x.viewState.resolution,Z=x.viewState.rotation;q=void 0==q?0:q;var T=this.getLayer(),
ba=T.getSource().getTileGridForProjection(x.viewState.projection),aa=(0,e.boundingExtent)([A]);(0,e.buffer)(aa,R*q,aa);for(var W={},X=function(ka,da,la){var wa=ka.getId();void 0===wa&&(wa=(0,a.getUid)(ka));var Ua=W[wa];if(!Ua){if(0===la)return W[wa]=!0,H(ka,T,da);M.push(W[wa]={feature:ka,layer:T,geometry:da,distanceSq:la,callback:H})}else if(!0!==Ua&&la<Ua.distanceSq){if(0===la)return W[wa]=!0,M.splice(M.lastIndexOf(Ua),1),H(ka,T,da);Ua.geometry=da;Ua.distanceSq=la}},P=this.renderedTiles,w,B=function(ka,
da){ka=P[ka];da=ba.getTileCoordExtent(ka.wrappedTileCoord);if(!(0,e.intersects)(da,aa))return"continue";da=(0,a.getUid)(T);var la=[ka.executorGroups[da]],wa=ka.declutterExecutorGroups[da];wa&&la.push(wa);la.some(function(Ua){for(var hb=Ua===wa?x.declutterTree.all().map(function(Da){return Da.value}):null,La=0,pa=Ua.length;La<pa;++La)if(w=Ua[La].forEachFeatureAtCoordinate(A,R,Z,q,X,hb))return!0})},K=0,U=P.length;!w&&K<U;++K)B(K,U);return w};J.prototype.getFeatures=function(A){return new Promise(function(x,
q){q=this.getLayer();for(var H=(0,a.getUid)(q),M=q.getSource(),R=this.renderedProjection,Z=R.getExtent(),T=this.renderedResolution,ba=M.getTileGridForProjection(R),aa=(0,f.apply)(this.renderedPixelToCoordinateTransform_,A.slice()),W=ba.getTileCoordForCoordAndResolution(aa,T),X,P=0,w=this.renderedTiles.length;P<w;++P)if(W.toString()===this.renderedTiles[P].tileCoord.toString()){X=this.renderedTiles[P];if(X.getState()===v.default.LOADED){W=ba.getTileCoordExtent(X.tileCoord);M.getWrapX()&&R.canWrapX()&&
!(0,e.containsExtent)(Z,W)&&(0,b.wrapX)(aa,R);break}X=void 0}!X||0<X.loadingSourceTiles?x([]):(R=ba.getTileCoordExtent(X.wrappedTileCoord),R=(0,e.getTopLeft)(R),aa=[(aa[0]-R[0])/T,(R[1]-aa[1])/T],R=X.getSourceTiles().reduce(function(B,K){return B.concat(K.getFeatures())},[]),Z=X.hitDetectionImageData[H],Z||this.animatingOrInteracting_||(M=(0,c.toSize)(ba.getTileSize(ba.getZForResolution(T,M.zDirection))),Z=this.renderedRotation_,T=[this.getRenderTransform(ba.getTileCoordCenter(X.wrappedTileCoord),
T,0,k.HIT_DETECT_RESOLUTION,M[0]*k.HIT_DETECT_RESOLUTION,M[1]*k.HIT_DETECT_RESOLUTION,0)],Z=(0,k.createHitDetectionImageData)(M,T,R,q.getStyleFunction(),ba.getTileCoordExtent(X.wrappedTileCoord),X.getReplayState(q).renderedResolution,Z),X.hitDetectionImageData[H]=Z),x((0,k.hitDetect)(aa,R,Z)))}.bind(this))};J.prototype.handleFontsChanged=function(){var A=this.getLayer();A.getVisible()&&void 0!==this.renderedLayerRevision_&&A.changed()};J.prototype.handleStyleImageChange_=function(A){this.renderIfReadyAndVisible()};
J.prototype.renderDeclutter=function(A){var x=this.context,q=x.globalAlpha;x.globalAlpha=this.getLayer().getOpacity();var H=A.viewHints;H=!(H[h.default.ANIMATING]||H[h.default.INTERACTING]);for(var M=this.renderedTiles,R=0,Z=M.length;R<Z;++R){var T=M[R],ba=T.declutterExecutorGroups[(0,a.getUid)(this.getLayer())];if(ba)for(var aa=ba.length-1;0<=aa;--aa)ba[aa].execute(this.context,1,this.getTileRenderTransform(T,A),A.viewState.rotation,H,void 0,A.declutterTree)}x.globalAlpha=q};J.prototype.getTileRenderTransform=
function(A,x){var q=x.pixelRatio,H=x.viewState,M=H.center,R=H.resolution;H=H.rotation;var Z=x.size,T=Math.round(Z[0]*q);Z=Math.round(Z[1]*q);x=this.getLayer().getSource().getTileGridForProjection(x.viewState.projection);var ba=A.tileCoord;A=x.getTileCoordExtent(A.wrappedTileCoord);A=x.getTileCoordExtent(ba,this.tmpExtent)[0]-A[0];return(0,f.multiply)((0,f.scale)(this.inversePixelTransform.slice(),1/q,1/q),this.getRenderTransform(M,R,H,q,T,Z,A))};J.prototype.renderFrame=function(A,x){var q=A.viewHints;
q=!(q[h.default.ANIMATING]||q[h.default.INTERACTING]);C.prototype.renderFrame.call(this,A,x);this.renderedPixelToCoordinateTransform_=A.pixelToCoordinateTransform.slice();this.renderedRotation_=A.viewState.rotation;x=this.getLayer();var H=x.getRenderMode(),M=this.context,R=M.globalAlpha;M.globalAlpha=x.getOpacity();var Z=u[H],T=A.viewState;H=T.rotation;var ba=x.getSource();T=ba.getTileGridForProjection(T.projection).getZForResolution(T.resolution,ba.zDirection);ba=this.renderedTiles;for(var aa=[],
W=[],X=!0,P=ba.length-1;0<=P;--P){var w=ba[P];X=X&&!w.getReplayState(x).dirty;var B=w.executorGroups[(0,a.getUid)(x)].filter(function(Ua){return Ua.hasExecutors(Z)});if(0!==B.length){var K=this.getTileRenderTransform(w,A),U=w.tileCoord[0];w=!1;var ka=B[0].getClipCoords(K);if(ka){for(var da=0,la=aa.length;da<la;++da)if(T!==U&&U<W[da]){var wa=aa[da];(0,e.intersects)([ka[0],ka[3],ka[4],ka[7]],[wa[0],wa[3],wa[4],wa[7]])&&(w||(M.save(),w=!0),M.beginPath(),M.moveTo(ka[0],ka[1]),M.lineTo(ka[2],ka[3]),M.lineTo(ka[4],
ka[5]),M.lineTo(ka[6],ka[7]),M.moveTo(wa[6],wa[7]),M.lineTo(wa[4],wa[5]),M.lineTo(wa[2],wa[3]),M.lineTo(wa[0],wa[1]),M.clip())}aa.push(ka);W.push(U)}U=0;for(ka=B.length;U<ka;++U)B[U].execute(M,1,K,H,q,Z);w&&M.restore()}}M.globalAlpha=R;this.ready=X;return this.container};J.prototype.renderFeature=function(A,x,q,H,M){if(!q)return!1;var R=!1;if(Array.isArray(q))for(var Z=0,T=q.length;Z<T;++Z)R=(0,d.renderFeature)(H,A,q[Z],x,this.boundHandleStyleImageChange_,void 0,M)||R;else R=(0,d.renderFeature)(H,
A,q,x,this.boundHandleStyleImageChange_,void 0,M);return R};J.prototype.tileImageNeedsRender_=function(A){var x=this.getLayer();if(x.getRenderMode()===r.default.VECTOR)return!1;var q=A.getReplayState(x);x=x.getRevision();return q.renderedTileResolution!==A.wantedResolution||q.renderedTileRevision!==x};J.prototype.renderTileImage_=function(A,x){var q=this.getLayer(),H=A.getReplayState(q),M=q.getRevision(),R=A.executorGroups[(0,a.getUid)(q)];H.renderedTileRevision=M;M=A.wrappedTileCoord;var Z=M[0],
T=q.getSource(),ba=x.pixelRatio,aa=x.viewState.projection,W=T.getTileGridForProjection(aa),X=W.getResolution(A.tileCoord[0]);X*=x.pixelRatio/A.wantedResolution;var P=W.getResolution(Z);x=A.getContext(q);ba=Math.round(Math.max(ba,X/ba));Z=T.getTilePixelSize(Z,ba,aa);x.canvas.width=Z[0];x.canvas.height=Z[1];ba/=X;1!==ba&&(Z=(0,f.reset)(this.tmpTransform_),(0,f.scale)(Z,ba,ba),x.setTransform.apply(x,Z));M=W.getTileCoordExtent(M,this.tmpExtent);X/=P;W=(0,f.reset)(this.tmpTransform_);(0,f.scale)(W,X,-X);
(0,f.translate)(W,-M[0],-M[3]);M=0;for(X=R.length;M<X;++M)R[M].execute(x,ba,W,0,!0,z[q.getRenderMode()]);H.renderedTileResolution=A.wantedResolution};return J}(sa.default);G.default=F};
shadow$provide[369]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(196));var p=y(F(368)),n=y(F(332)),v=y(F(367)),r=F(71),h=F(80),k=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=e}if("function"!==
typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}();F=function(f){function e(d){d=d?d:{};var a=(0,h.assign)({},d);delete a.preload;delete a.useInterimTilesOnError;a=f.call(this,a)||this;d.renderMode===v.default.IMAGE&&(console.warn('renderMode: "image" is deprecated. Option ignored.'),d.renderMode=void 0);var c=d.renderMode||v.default.HYBRID;(0,r.assert)(c==v.default.HYBRID||
c==v.default.VECTOR,28);a.renderMode_=c;a.setPreload(d.preload?d.preload:0);a.setUseInterimTilesOnError(void 0!==d.useInterimTilesOnError?d.useInterimTilesOnError:!0);a.setBackground;return a}k(e,f);e.prototype.createRenderer=function(){return new p.default(this)};e.prototype.getFeatures=function(d){return f.prototype.getFeatures.call(this,d)};e.prototype.getRenderMode=function(){return this.renderMode_};e.prototype.getPreload=function(){return this.get(n.default.PRELOAD)};e.prototype.getUseInterimTilesOnError=
function(){return this.get(n.default.USE_INTERIM_TILES_ON_ERROR)};e.prototype.setPreload=function(d){this.set(n.default.PRELOAD,d)};e.prototype.setUseInterimTilesOnError=function(d){this.set(n.default.USE_INTERIM_TILES_ON_ERROR,d)};return e}(sa.default);G.default=F};
shadow$provide[370]=function(sa,F,ob,G){function y(v){return"string"===typeof v?(v=JSON.parse(v))?v:null:null!==v?v:null}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(v){return v&&v.__esModule?v:{default:v}}(F(240));var p=F(68),n=function(){var v=function(r,h){v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var e in f)Object.prototype.hasOwnProperty.call(f,e)&&(k[e]=f[e])};return v(r,h)};return function(r,h){function k(){this.constructor=
r}if("function"!==typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");v(r,h);r.prototype=null===h?Object.create(h):(k.prototype=h.prototype,new k)}}();F=function(v){function r(){return v.call(this)||this}n(r,v);r.prototype.getType=function(){return"json"};r.prototype.readFeature=function(h,k){return this.readFeatureFromObject(y(h),this.getReadOptions(h,k))};r.prototype.readFeatures=function(h,k){return this.readFeaturesFromObject(y(h),this.getReadOptions(h,
k))};r.prototype.readFeatureFromObject=function(h,k){return(0,p.abstract)()};r.prototype.readFeaturesFromObject=function(h,k){return(0,p.abstract)()};r.prototype.readGeometry=function(h,k){return this.readGeometryFromObject(y(h),this.getReadOptions(h,k))};r.prototype.readGeometryFromObject=function(h,k){return(0,p.abstract)()};r.prototype.readProjection=function(h){return this.readProjectionFromObject(y(h))};r.prototype.readProjectionFromObject=function(h){return(0,p.abstract)()};r.prototype.writeFeature=
function(h,k){return JSON.stringify(this.writeFeatureObject(h,k))};r.prototype.writeFeatureObject=function(h,k){return(0,p.abstract)()};r.prototype.writeFeatures=function(h,k){return JSON.stringify(this.writeFeaturesObject(h,k))};r.prototype.writeFeaturesObject=function(h,k){return(0,p.abstract)()};r.prototype.writeGeometry=function(h,k){return JSON.stringify(this.writeGeometryObject(h,k))};r.prototype.writeGeometryObject=function(h,k){return(0,p.abstract)()};return r}(sa.default);G.default=F};
shadow$provide[371]=function(sa,F,ob,G){function y(A){return A&&A.__esModule?A:{default:A}}function p(A,x){if(!A)return null;switch(A.type){case "Point":A=new c.default(A.coordinates);break;case "LineString":A=new f.default(A.coordinates);break;case "Polygon":A=new b.default(A.coordinates);break;case "MultiPoint":A=new d.default(A.coordinates);break;case "MultiLineString":A=new e.default(A.coordinates);break;case "MultiPolygon":A=new a.default(A.coordinates);break;case "GeometryCollection":A=n(A);
break;default:throw Error("Unsupported GeoJSON type: "+A.type);}return(0,C.transformGeometryWithOptions)(A,!1,x)}function n(A,x){A=A.geometries.map(function(q){return p(q,x)});return new k.default(A)}function v(A,x){A=(0,C.transformGeometryWithOptions)(A,!0,x);var q=A.getType();switch(q){case "Point":A={type:"Point",coordinates:A.getCoordinates()};break;case "LineString":A={type:"LineString",coordinates:A.getCoordinates()};break;case "Polygon":if(x)var H=x.rightHanded;A={type:"Polygon",coordinates:A.getCoordinates(H)};
break;case "MultiPoint":A={type:"MultiPoint",coordinates:A.getCoordinates()};break;case "MultiLineString":A={type:"MultiLineString",coordinates:A.getCoordinates()};break;case "MultiPolygon":if(x)var M=x.rightHanded;A={type:"MultiPolygon",coordinates:A.getCoordinates(M)};break;case "GeometryCollection":A=r(A,x);break;case "Circle":A={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+q);}return A}function r(A,x){return{type:"GeometryCollection",geometries:A.getGeometriesArray().map(function(q){var H=
(0,z.assign)({},x);delete H.featureProjection;return v(q,H)})}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;var h=y(F(179)),k=y(F(239));sa=y(F(370));var f=y(F(182)),e=y(F(183)),d=y(F(184)),a=y(F(186)),c=y(F(136)),b=y(F(143)),m=F(71),z=F(80),u=F(121),C=F(240),J=function(){var A=function(x,q){A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(H,M){H.__proto__=M}||function(H,M){for(var R in M)Object.prototype.hasOwnProperty.call(M,R)&&(H[R]=M[R])};return A(x,q)};return function(x,
q){function H(){this.constructor=x}if("function"!==typeof q&&null!==q)throw new TypeError("Class extends value "+String(q)+" is not a constructor or null");A(x,q);x.prototype=null===q?Object.create(q):(H.prototype=q.prototype,new H)}}();F=function(A){function x(q){var H=q?q:{};q=A.call(this)||this;q.dataProjection=(0,u.get)(H.dataProjection?H.dataProjection:"EPSG:4326");H.featureProjection&&(q.defaultFeatureProjection=(0,u.get)(H.featureProjection));q.geometryName_=H.geometryName;q.extractGeometryName_=
H.extractGeometryName;q.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"];return q}J(x,A);x.prototype.readFeatureFromObject=function(q,H){q="Feature"===q.type?q:{type:"Feature",geometry:q,properties:null};H=p(q.geometry,H);var M=new h.default;this.geometryName_?M.setGeometryName(this.geometryName_):this.extractGeometryName_&&M.setGeometryName(q.geometry_name);M.setGeometry(H);"id"in q&&M.setId(q.id);q.properties&&M.setProperties(q.properties,!0);return M};x.prototype.readFeaturesFromObject=
function(q,H){if("FeatureCollection"===q.type){var M=[];q=q.features;for(var R=0,Z=q.length;R<Z;++R)M.push(this.readFeatureFromObject(q[R],H))}else M=[this.readFeatureFromObject(q,H)];return M};x.prototype.readGeometryFromObject=function(q,H){return p(q,H)};x.prototype.readProjectionFromObject=function(q){q=q.crs;var H;q?"name"==q.type?H=(0,u.get)(q.properties.name):"EPSG"===q.type?H=(0,u.get)("EPSG:"+q.properties.code):(0,m.assert)(!1,36):H=this.dataProjection;return H};x.prototype.writeFeatureObject=
function(q,H){H=this.adaptOptions(H);var M={type:"Feature",geometry:null,properties:null},R=q.getId();void 0!==R&&(M.id=R);if(!q.hasProperties())return M;R=q.getProperties();var Z=q.getGeometry();Z&&(M.geometry=v(Z,H),delete R[q.getGeometryName()]);(0,z.isEmpty)(R)||(M.properties=R);return M};x.prototype.writeFeaturesObject=function(q,H){H=this.adaptOptions(H);for(var M=[],R=0,Z=q.length;R<Z;++R)M.push(this.writeFeatureObject(q[R],H));return{type:"FeatureCollection",features:M}};x.prototype.writeGeometryObject=
function(q,H){return v(q,this.adaptOptions(H))};return x}(sa.default);G.default=F};
shadow$provide[372]=function(sa,F,ob,G){function y(N){if("function"!==typeof WeakMap)return null;var ia=new WeakMap,Pa=new WeakMap;return(y=function(fb){return fb?Pa:ia})(N)}function p(N){return N&&N.__esModule?N:{default:N}}function n(N){N=Math.round(N);return 0>N?0:255<N?255:N}function v(N){return 0>N?0:1<N?1:N}function r(N){return"%"===N[N.length-1]?n(parseFloat(N)/100*255):n(parseInt(N))}function h(N){return"%"===N[N.length-1]?v(parseFloat(N)/100):v(parseFloat(N))}function k(N,ia,Pa){0>Pa?Pa+=
1:1<Pa&&--Pa;return 1>6*Pa?N+(ia-N)*Pa*6:1>2*Pa?ia:2>3*Pa?N+(ia-N)*(2/3-Pa)*6:N}function f(N){N=N.replace(/ /g,"").toLowerCase();if(N in Rd)return Rd[N].slice();if("#"===N[0])return 4===N.length?(N=parseInt(N.substr(1),16),0<=N&&4095>=N?[(N&3840)>>4|(N&3840)>>8,N&240|(N&240)>>4,N&15|(N&15)<<4,1]:null):7===N.length?(N=parseInt(N.substr(1),16),0<=N&&16777215>=N?[(N&16711680)>>16,(N&65280)>>8,N&255,1]:null):null;var ia=N.indexOf("("),Pa=N.indexOf(")");if(-1!==ia&&Pa+1===N.length){var fb=N.substr(0,ia);
ia=N.substr(ia+1,Pa-(ia+1)).split(",");N=1;switch(fb){case "rgba":if(4!==ia.length)break;N=h(ia.pop());case "rgb":if(3!==ia.length)break;return[r(ia[0]),r(ia[1]),r(ia[2]),N];case "hsla":if(4!==ia.length)break;N=h(ia.pop());case "hsl":if(3===ia.length)return fb=(parseFloat(ia[0])%360+360)%360/360,Pa=h(ia[1]),ia=h(ia[2]),Pa=.5>=ia?ia*(Pa+1):ia+Pa-ia*Pa,ia=2*ia-Pa,[n(255*k(ia,Pa,fb+1/3)),n(255*k(ia,Pa,fb)),n(255*k(ia,Pa,fb-1/3)),N]}}return null}function e(N){return"object"===typeof N?["literal",N]:N}
function d(N,ia){var Pa=N.stops;if(!Pa)return a(N,ia);var fb=Pa&&"object"===typeof Pa[0][0],Jb=fb||void 0!==N.property,Rb=fb||!Jb;Pa=Pa.map(function(Hc){if(!Jb&&ia.tokens&&"string"===typeof Hc[1]){var Zc=Hc[0];a:{Hc=Hc[1];for(var ed=["concat"],pd=/{([^{}]+)}/g,Vd=0,we=pd.exec(Hc);null!==we;we=pd.exec(Hc)){var Ze=Hc.slice(Vd,pd.lastIndex-we[0].length);Vd=pd.lastIndex;0<Ze.length&&ed.push(Ze);ed.push(["get",we[1]])}if(1!==ed.length){if(Vd<Hc.length)ed.push(Hc.slice(Vd));else if(2===ed.length){Hc=["to-string",
ed[1]];break a}Hc=ed}}return[Zc,Hc]}return[Hc[0],e(Hc[1])]});return fb?b(N,ia,Pa):Rb?u(N,ia,Pa):z(N,ia,Pa)}function a(N,ia){var Pa=["get",N.property];if(void 0===N.default)return"string"===ia.type?["string",Pa]:Pa;if("enum"===ia.type)return["match",Pa,Object.keys(ia.values),Pa,N.default];N=["color"===ia.type?"to-color":ia.type,Pa,e(N.default)];"array"===ia.type&&N.splice(1,0,ia.value,ia.length||null);return N}function c(N){switch(N.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";
default:return"interpolate"}}function b(N,ia,Pa){for(var fb={},Jb={},Rb=[],Hc=0;Hc<Pa.length;Hc++){var Zc=Pa[Hc],ed=Zc[0].zoom;void 0===fb[ed]&&(fb[ed]={zoom:ed,type:N.type,property:N.property,default:N.default},Jb[ed]=[],Rb.push(ed));Jb[ed].push([Zc[0].value,Zc[1]])}if("exponential"===A({},ia)){N=[c(N),["linear"],["zoom"]];for(Pa=0;Pa<Rb.length;Pa+=1)Hc=Rb[Pa],Zc=z(fb[Hc],ia,Jb[Hc]),J(N,Hc,Zc,!1);return N}N=["step",["zoom"]];for(Pa=0;Pa<Rb.length;Pa+=1)Hc=Rb[Pa],Zc=z(fb[Hc],ia,Jb[Hc]),J(N,Hc,Zc,
!0);C(N);return N}function m(N,ia){N=N.default;var Pa=ia.default;N=e(void 0!==N?N:void 0!==Pa?Pa:void 0);return void 0===N&&"resolvedImage"===ia.type?"":N}function z(N,ia,Pa){var fb=A(N,ia),Jb=["get",N.property];if("categorical"===fb&&"boolean"===typeof Pa[0][0]){fb=["case"];for(var Rb=0;Rb<Pa.length;Rb+=1){var Hc=Pa[Rb];fb.push(["\x3d\x3d",Jb,Hc[0]],Hc[1])}fb.push(m(N,ia));return fb}if("categorical"===fb){Jb=["match",Jb];for(fb=0;fb<Pa.length;fb+=1)Rb=Pa[fb],J(Jb,Rb[0],Rb[1],!1);Jb.push(m(N,ia));
return Jb}if("interval"===fb){ia=["step",["number",Jb]];for(fb=0;fb<Pa.length;fb+=1)Rb=Pa[fb],J(ia,Rb[0],Rb[1],!0);C(ia);return void 0===N.default?ia:["case",["\x3d\x3d",["typeof",Jb],"number"],ia,e(N.default)]}if("exponential"===fb){ia=void 0!==N.base?N.base:1;ia=[c(N),1===ia?["linear"]:["exponential",ia],["number",Jb]];for(fb=0;fb<Pa.length;fb+=1)Rb=Pa[fb],J(ia,Rb[0],Rb[1],!1);return void 0===N.default?ia:["case",["\x3d\x3d",["typeof",Jb],"number"],ia,e(N.default)]}throw Error("Unknown property function type "+
fb);}function u(N,ia,Pa,fb){void 0===fb&&(fb=["zoom"]);var Jb=A(N,ia);ia=!1;if("interval"===Jb)N=["step",fb],ia=!0;else if("exponential"===Jb)Jb=void 0!==N.base?N.base:1,N=[c(N),1===Jb?["linear"]:["exponential",Jb],fb];else throw Error('Unknown zoom function type "'+Jb+'"');for(fb=0;fb<Pa.length;fb+=1)Jb=Pa[fb],J(N,Jb[0],Jb[1],ia);C(N);return N}function C(N){"step"===N[0]&&3===N.length&&(N.push(0),N.push(N[3]))}function J(N,ia,Pa,fb){3<N.length&&ia===N[N.length-2]||(fb&&2===N.length||N.push(ia),N.push(Pa))}
function A(N,ia){return N.type?N.type:ia.expression.interpolated?"exponential":"interval"}function x(N,ia){return{kind:"array",itemType:N,N:ia}}function q(N){if("array"===N.kind){var ia=q(N.itemType);return"number"===typeof N.N?"array\x3c"+ia+", "+N.N+"\x3e":"value"===N.itemType.kind?"array":"array\x3c"+ia+"\x3e"}return N.kind}function H(N,ia){if("error"===ia.kind)return null;if("array"===N.kind){if("array"===ia.kind&&(0===ia.N&&"value"===ia.itemType.kind||!H(N.itemType,ia.itemType))&&("number"!==
typeof N.N||N.N===ia.N))return null}else{if(N.kind===ia.kind)return null;if("value"===N.kind)for(var Pa=0,fb=sc;Pa<fb.length;Pa+=1)if(!H(fb[Pa],ia))return null}return"Expected "+q(N)+" but found "+q(ia)+" instead."}function M(N,ia){return ia.some(function(Pa){return Pa.kind===N.kind})}function R(N,ia){return ia.some(function(Pa){return"null"===Pa?null===N:"array"===Pa?Array.isArray(N):"object"===Pa?N&&!Array.isArray(N)&&"object"===typeof N:Pa===typeof N})}function Z(N,ia,Pa,fb){return"number"===typeof N&&
0<=N&&255>=N&&"number"===typeof ia&&0<=ia&&255>=ia&&"number"===typeof Pa&&0<=Pa&&255>=Pa?"undefined"===typeof fb||"number"===typeof fb&&0<=fb&&1>=fb?null:"Invalid rgba value ["+[N,ia,Pa,fb].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"===typeof fb?[N,ia,Pa,fb]:[N,ia,Pa]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function T(N){if(null===N||"string"===typeof N||"boolean"===typeof N||"number"===typeof N||N instanceof Qd||N instanceof Uc||N instanceof
Cc||N instanceof zc)return!0;if(Array.isArray(N)){for(var ia=0;ia<N.length;ia+=1)if(!T(N[ia]))return!1;return!0}if("object"===typeof N){for(ia in N)if(!T(N[ia]))return!1;return!0}return!1}function ba(N){if(null===N)return ra;if("string"===typeof N)return Ia;if("boolean"===typeof N)return Xb;if("number"===typeof N)return jb;if(N instanceof Qd)return ha;if(N instanceof Uc)return ub;if(N instanceof Cc)return Cb;if(N instanceof zc)return Wb;if(Array.isArray(N)){for(var ia=N.length,Pa,fb=0;fb<N.length;fb+=
1){var Jb=ba(N[fb]);if(Pa){if(Pa!==Jb){Pa=$a;break}}else Pa=Jb}return x(Pa||$a,ia)}return Oa}function aa(N){var ia=typeof N;return null===N?"":"string"===ia||"number"===ia||"boolean"===ia?String(N):N instanceof Qd||N instanceof Cc||N instanceof zc?N.toString():JSON.stringify(N)}function W(N,ia){N[0]=Math.min(N[0],ia[0]);N[1]=Math.min(N[1],ia[1]);N[2]=Math.max(N[2],ia[0]);N[3]=Math.max(N[3],ia[1])}function X(N,ia){return N[0]<=ia[0]||N[2]>=ia[2]||N[1]<=ia[1]||N[3]>=ia[3]?!1:!0}function P(N,ia){for(var Pa=
!1,fb=0,Jb=ia.length;fb<Jb;fb++)for(var Rb=ia[fb],Hc=0,Zc=Rb.length;Hc<Zc-1;Hc++){var ed=Rb[Hc],pd=Rb[Hc+1],Vd=N[0]-ed[0];ed=N[1]-ed[1];var we=N[0]-pd[0];pd=N[1]-pd[1];if(0===Vd*pd-we*ed&&0>=Vd*we&&0>=ed*pd)return!1;Vd=Rb[Hc];pd=Rb[Hc+1];Vd[1]>N[1]!==pd[1]>N[1]&&N[0]<(pd[0]-Vd[0])*(N[1]-Vd[1])/(pd[1]-Vd[1])+Vd[0]&&(Pa=!Pa)}return Pa}function w(N,ia,Pa,fb){var Jb=fb[0]-Pa[0];fb=fb[1]-Pa[1];N=(N[0]-Pa[0])*fb-Jb*(N[1]-Pa[1]);ia=(ia[0]-Pa[0])*fb-Jb*(ia[1]-Pa[1]);return 0<N&&0>ia||0>N&&0<ia?!0:!1}function B(N,
ia){for(var Pa=0;Pa<N.length;++Pa)if(!P(N[Pa],ia))return!1;for(Pa=0;Pa<N.length-1;++Pa){a:{var fb=N[Pa];for(var Jb=N[Pa+1],Rb=0,Hc=ia;Rb<Hc.length;Rb+=1)for(var Zc=Hc[Rb],ed=0;ed<Zc.length-1;++ed){var pd=fb,Vd=Jb,we=Zc[ed],Ze=Zc[ed+1],rf=[Ze[0]-we[0],Ze[1]-we[1]],wg=[Vd[0]-pd[0],Vd[1]-pd[1]];if(0===rf[0]*wg[1]-rf[1]*wg[0]?0:w(pd,Vd,we,Ze)&&w(we,Ze,pd,Vd)){fb=!0;break a}}fb=!1}if(fb)return!1}return!0}function K(N,ia,Pa){for(var fb=[],Jb=0;Jb<N.length;Jb++){for(var Rb=[],Hc=0;Hc<N[Jb].length;Hc++){var Zc=
N[Jb][Hc];var ed=Math.pow(2,Pa.z);Zc=[Math.round((180+Zc[0])/360*ed*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Zc[1]*Math.PI/360)))/360*ed*8192)];W(ia,Zc);Rb.push(Zc)}fb.push(Rb)}return fb}function U(N,ia,Pa){for(var fb=[],Jb=0;Jb<N.length;Jb++){var Rb=K(N[Jb],ia,Pa);fb.push(Rb)}return fb}function ka(N,ia,Pa,fb){if(N[0]<Pa[0]||N[0]>Pa[2]){var Jb=.5*fb,Rb=N[0]-Pa[0]>Jb?-fb:Pa[0]-N[0]>Jb?fb:0;0===Rb&&(Rb=N[0]-Pa[2]>Jb?-fb:Pa[2]-N[0]>Jb?fb:0);N[0]+=Rb}W(ia,N)}function da(N,ia,Pa,fb){var Jb=
8192*Math.pow(2,fb.z);fb=[8192*fb.x,8192*fb.y];var Rb=[];if(!N)return Rb;for(var Hc=0;Hc<N.length;Hc+=1)for(var Zc=0,ed=N[Hc];Zc<ed.length;Zc+=1){var pd=ed[Zc];pd=[pd.x+fb[0],pd.y+fb[1]];ka(pd,ia,Pa,Jb);Rb.push(pd)}return Rb}function la(N,ia,Pa,fb){var Jb=8192*Math.pow(2,fb.z),Rb=[8192*fb.x,8192*fb.y];fb=[];if(!N)return fb;for(var Hc=0;Hc<N.length;Hc+=1){for(var Zc=[],ed=0,pd=N[Hc];ed<pd.length;ed+=1){var Vd=pd[ed];Vd=[Vd.x+Rb[0],Vd.y+Rb[1]];W(ia,Vd);Zc.push(Vd)}fb.push(Zc)}if(ia[2]-ia[0]<=Jb/2)for(ia[0]=
ia[1]=Infinity,ia[2]=ia[3]=-Infinity,N=0;N<fb.length;N+=1)for(Rb=0,Hc=fb[N];Rb<Hc.length;Rb+=1)ka(Hc[Rb],ia,Pa,Jb);return fb}function wa(N,ia){var Pa=[Infinity,Infinity,-Infinity,-Infinity],fb=[Infinity,Infinity,-Infinity,-Infinity],Jb=N.canonicalID();if(!Jb)return!1;if("Polygon"===ia.type){var Rb=K(ia.coordinates,fb,Jb),Hc=da(N.geometry(),Pa,fb,Jb);if(!X(Pa,fb))return!1;for(var Zc=0;Zc<Hc.length;Zc+=1)if(!P(Hc[Zc],Rb))return!1}if("MultiPolygon"===ia.type){ia=U(ia.coordinates,fb,Jb);N=da(N.geometry(),
Pa,fb,Jb);if(!X(Pa,fb))return!1;for(Pa=0;Pa<N.length;Pa+=1){a:{fb=N[Pa];Jb=ia;for(Rb=0;Rb<Jb.length;Rb++)if(P(fb,Jb[Rb])){fb=!0;break a}fb=!1}if(!fb)return!1}}return!0}function Ua(N,ia){var Pa=[Infinity,Infinity,-Infinity,-Infinity],fb=[Infinity,Infinity,-Infinity,-Infinity],Jb=N.canonicalID();if(!Jb)return!1;if("Polygon"===ia.type){var Rb=K(ia.coordinates,fb,Jb),Hc=la(N.geometry(),Pa,fb,Jb);if(!X(Pa,fb))return!1;for(var Zc=0;Zc<Hc.length;Zc+=1)if(!B(Hc[Zc],Rb))return!1}if("MultiPolygon"===ia.type){ia=
U(ia.coordinates,fb,Jb);N=la(N.geometry(),Pa,fb,Jb);if(!X(Pa,fb))return!1;for(Pa=0;Pa<N.length;Pa+=1){a:{fb=N[Pa];Jb=ia;for(Rb=0;Rb<Jb.length;Rb++)if(B(fb,Jb[Rb])){fb=!0;break a}fb=!1}if(!fb)return!1}}return!0}function hb(N){if(N instanceof ib&&("get"===N.name&&1===N.args.length||"feature-state"===N.name||"has"===N.name&&1===N.args.length||"properties"===N.name||"geometry-type"===N.name||"id"===N.name||/^filter-/.test(N.name))||N instanceof Ib)return!1;var ia=!0;N.eachChild(function(Pa){ia&&!hb(Pa)&&
(ia=!1)});return ia}function La(N){if(N instanceof ib&&"feature-state"===N.name)return!1;var ia=!0;N.eachChild(function(Pa){ia&&!La(Pa)&&(ia=!1)});return ia}function pa(N,ia){if(N instanceof ib&&0<=ia.indexOf(N.name))return!1;var Pa=!0;N.eachChild(function(fb){Pa&&!pa(fb,ia)&&(Pa=!1)});return Pa}function Da(N){if(N instanceof Nb)return Da(N.boundExpression);if(N instanceof ib&&"error"===N.name||N instanceof Eb||N instanceof Ib)return!1;var ia=N instanceof Vb||N instanceof Yc,Pa=!0;N.eachChild(function(fb){Pa=
ia?Pa&&Da(fb):Pa&&fb instanceof oc});return Pa?hb(N)&&pa(N,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script pitch distance-from-center".split(" ")):!1}function Ma(N,ia){for(var Pa=N.length-1,fb=0,Jb=Pa,Rb,Hc,Zc;fb<=Jb;)if(Rb=Math.floor((fb+Jb)/2),Hc=N[Rb],Zc=N[Rb+1],Hc<=ia){if(Rb===Pa||ia<Zc)return Rb;fb=Rb+1}else if(Hc>ia)Jb=Rb-1;else throw new Fc("Input is not a number.");return 0}function ua(N,ia,Pa,fb){this.cx=3*N;this.bx=3*(Pa-N)-this.cx;this.ax=1-this.cx-
this.bx;this.cy=3*ia;this.by=3*(fb-ia)-this.cy;this.ay=1-this.cy-this.by;this.p1x=N;this.p1y=fb;this.p2x=Pa;this.p2y=fb}function Aa(N,ia,Pa){return N*(1-Pa)+ia*Pa}function qa(N){return N>Fe?Math.pow(N,1/3):N/wd+wc}function Ha(N){return N>ld?N*N*N:wd*(N-wc)}function Va(N){return 255*(.0031308>=N?12.92*N:1.055*Math.pow(N,1/2.4)-.055)}function eb(N){N/=255;return.04045>=N?N/12.92:Math.pow((N+.055)/1.055,2.4)}function ta(N){var ia=eb(N.r),Pa=eb(N.g),fb=eb(N.b),Jb=qa((.4124564*ia+.3575761*Pa+.1804375*
fb)/.95047),Rb=qa(.2126729*ia+.7151522*Pa+.072175*fb);ia=qa((.0193339*ia+.119192*Pa+.9503041*fb)/1.08883);return{l:116*Rb-16,a:500*(Jb-Rb),b:200*(Rb-ia),alpha:N.a}}function Qa(N){var ia=(N.l+16)/116,Pa=isNaN(N.a)?ia:ia+N.a/500,fb=isNaN(N.b)?ia:ia-N.b/200;ia=1*Ha(ia);Pa=.95047*Ha(Pa);fb=1.08883*Ha(fb);return new Qd(Va(3.2404542*Pa-1.5371385*ia-.4985314*fb),Va(-.969266*Pa+1.8760108*ia+.041556*fb),Va(.0556434*Pa-.2040259*ia+1.0572252*fb),N.alpha)}function oa(N,ia,Pa,fb){fb-=Pa;N-=Pa;return 0===fb?0:
1===ia?N/fb:(Math.pow(ia,N)-1)/(Math.pow(ia,fb)-1)}function Y(N,ia){return"\x3d\x3d"===N||"!\x3d"===N?"boolean"===ia.kind||"string"===ia.kind||"number"===ia.kind||"null"===ia.kind||"value"===ia.kind:"string"===ia.kind||"number"===ia.kind||"value"===ia.kind}function ja(N,ia,Pa,fb){return 0===fb.compare(ia,Pa)}function Ga(N,ia,Pa){var fb="\x3d\x3d"!==N&&"!\x3d"!==N;return function(){function Jb(Rb,Hc,Zc){this.type=Xb;this.lhs=Rb;this.rhs=Hc;this.collator=Zc;this.hasUntypedArgument="value"===Rb.type.kind||
"value"===Hc.type.kind}Jb.parse=function(Rb,Hc){if(3!==Rb.length&&4!==Rb.length)return Hc.error("Expected two or three arguments.");var Zc=Rb[0],ed=Hc.parse(Rb[1],1,$a);if(!ed)return null;if(!Y(Zc,ed.type))return Hc.concat(1).error('"'+Zc+"\" comparisons are not supported for type '"+q(ed.type)+"'.");var pd=Hc.parse(Rb[2],2,$a);if(!pd)return null;if(!Y(Zc,pd.type))return Hc.concat(2).error('"'+Zc+"\" comparisons are not supported for type '"+q(pd.type)+"'.");if(ed.type.kind!==pd.type.kind&&"value"!==
ed.type.kind&&"value"!==pd.type.kind)return Hc.error("Cannot compare types '"+q(ed.type)+"' and '"+q(pd.type)+"'.");fb&&("value"===ed.type.kind&&"value"!==pd.type.kind?ed=new Yc(pd.type,[ed]):"value"!==ed.type.kind&&"value"===pd.type.kind&&(pd=new Yc(ed.type,[pd])));Zc=null;if(4===Rb.length){if("string"!==ed.type.kind&&"string"!==pd.type.kind&&"value"!==ed.type.kind&&"value"!==pd.type.kind)return Hc.error("Cannot use collator to compare non-string types.");Zc=Hc.parse(Rb[3],3,ub);if(!Zc)return null}return new Jb(ed,
pd,Zc)};Jb.prototype.evaluate=function(Rb){var Hc=this.lhs.evaluate(Rb),Zc=this.rhs.evaluate(Rb);if(fb&&this.hasUntypedArgument){var ed=ba(Hc),pd=ba(Zc);if(ed.kind!==pd.kind||"string"!==ed.kind&&"number"!==ed.kind)throw new Fc('Expected arguments for "'+N+'" to be (string, string) or (number, number), but found ('+ed.kind+", "+pd.kind+") instead.");}return this.collator&&!fb&&this.hasUntypedArgument&&(ed=ba(Hc),pd=ba(Zc),"string"!==ed.kind||"string"!==pd.kind)?ia(Rb,Hc,Zc):this.collator?Pa(Rb,Hc,
Zc,this.collator.evaluate(Rb)):ia(Rb,Hc,Zc)};Jb.prototype.eachChild=function(Rb){Rb(this.lhs);Rb(this.rhs);this.collator&&Rb(this.collator)};Jb.prototype.outputDefined=function(){return!0};Jb.prototype.serialize=function(){var Rb=[N];this.eachChild(function(Hc){Rb.push(Hc.serialize())});return Rb};return Jb}()}function Wa(N,ia){var Pa=ia[0],fb=ia[1],Jb=ia[2];ia=ia[3];Pa=Pa.evaluate(N);fb=fb.evaluate(N);Jb=Jb.evaluate(N);N=ia?ia.evaluate(N):1;if(ia=Z(Pa,fb,Jb,N))throw new Fc(ia);return new Qd(Pa/255*
N,fb/255*N,Jb/255*N,N)}function cb(N,ia){N=ia[N];return"undefined"===typeof N?null:N}function nb(N){return{result:"success",value:N}}function pb(N){return{result:"error",value:N}}function Fb(N){return"object"===typeof N&&null!==N&&!Array.isArray(N)}function nc(N){return Array.isArray(N)&&0<N.length&&"string"===typeof N[0]&&N[0]in Ag}function Lc(N,ia){var Pa=kc,fb=Ag;if(ia){var Jb={color:ha,string:Ia,number:jb,enum:Ia,boolean:Xb,formatted:Cb,resolvedImage:Wb};Jb="array"===ia.type?x(Jb[ia.value]||$a,
ia.length):Jb[ia.type]}else Jb=void 0;Pa=new Pa(fb,[],Jb);return(N=Pa.parse(N,void 0,void 0,void 0,ia&&"string"===ia.type?{typeAnnotation:"coerce"}:void 0))?nb(new dg(N,ia)):pb(Pa.errors)}function Ac(N,ia){N=Lc(N,ia);if("error"===N.result)return N;var Pa=N.value.expression,fb=hb(Pa);if(!fb&&"data-driven"!==ia["property-type"]&&"cross-faded-data-driven"!==ia["property-type"])return pb([new Qe("","data expressions not supported")]);var Jb=pa(Pa,["zoom","pitch","distance-from-center"]);if(!(Jb||ia.expression&&
-1<ia.expression.parameters.indexOf("zoom")))return pb([new Qe("","zoom expressions not supported")]);if((Pa=yc(Pa))||Jb){if(Pa instanceof Qe)return pb([Pa]);if(Pa instanceof Dd&&(!ia.expression||!ia.expression.interpolated))return pb([new Qe("",'"interpolate" expressions cannot be used with this property')])}else return pb([new Qe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!Pa)return nb(fb?new Rf("constant",N.value):new Rf("source",N.value));
ia=Pa instanceof Dd?Pa.interpolation:void 0;return nb(fb?new Jf("camera",N.value,Pa.labels,ia):new Jf("composite",N.value,Pa.labels,ia))}function yc(N){var ia=null;if(N instanceof qe)ia=yc(N.result);else if(N instanceof fe)for(var Pa=0,fb=N.args;Pa<fb.length&&!(ia=yc(fb[Pa]));Pa+=1);else(N instanceof Kc||N instanceof Dd)&&N.input instanceof ib&&"zoom"===N.input.name&&(ia=N);if(ia instanceof Qe)return ia;N.eachChild(function(Jb){Jb=yc(Jb);Jb instanceof Qe?ia=Jb:!ia&&Jb?ia=new Qe("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):
ia&&Jb&&ia!==Jb&&(ia=new Qe("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return ia}function tc(N){if(Array.isArray(N))return N.map(tc);if(N instanceof Object&&!(N instanceof Number||N instanceof String||N instanceof Boolean)){var ia={},Pa;for(Pa in N)ia[Pa]=tc(N[Pa]);return ia}N=N instanceof Number||N instanceof String||N instanceof Boolean?N.valueOf():N;return N}function hd(N){if(!0===N||!1===N)return!0;if(!Array.isArray(N)||0===N.length)return!1;
switch(N[0]){case "has":return 2<=N.length&&"$id"!==N[1]&&"$type"!==N[1];case "in":return 3<=N.length&&("string"!==typeof N[1]||Array.isArray(N[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==N.length||Array.isArray(N[1])||Array.isArray(N[2]);case "any":case "all":var ia=0;for(N=N.slice(1);ia<N.length;ia+=1){var Pa=N[ia];if(!hd(Pa)&&"boolean"!==typeof Pa)return!1}return!0;default:return!0}}function Mb(N,
ia){void 0===ia&&(ia="fill");if(null===N||void 0===N)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};hd(N)||(N=id(N));var Pa=!0;try{Pa=Ab(N)}catch(ed){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees\x3d\x26labels\x3d\x26template\x3dBug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+
JSON.stringify(N,null,2)+"\n        ")}var fb=eg["filter_"+ia],Jb=Lc(Pa,fb);ia=null;if("error"===Jb.result)throw Error(Jb.value.map(function(ed){return ed.key+": "+ed.message}).join(", "));ia=function(ed,pd,Vd){return Jb.value.evaluate(ed,pd,{},Vd)};var Rb=null,Hc=null;if(Pa!==N){var Zc=Lc(N,fb);if("error"===Zc.result)throw Error(Zc.value.map(function(ed){return ed.key+": "+ed.message}).join(", "));Rb=function(ed,pd,Vd,we,Ze){return Zc.value.evaluate(ed,pd,{},Vd,void 0,void 0,we,Ze)};Hc=!hb(Zc.value.expression)}N=
Rc(Pa);return{filter:ia,dynamicFilter:Rb?Rb:void 0,needGeometry:N,needFeature:!!Hc}}function Ab(N){if(!lc(N))return N;N=tc(N);ac(N);return N=ec(N)}function ec(N){if(!Array.isArray(N))return N;N=Ic(N);return!0===N?N:N.map(function(ia){return ec(ia)})}function ac(N){var ia=!1,Pa=[];if("case"===N[0]){for(var fb=1;fb<N.length-1;fb+=2)ia=ia||lc(N[fb]),Pa.push(N[fb+1]);Pa.push(N[N.length-1])}else if("match"===N[0]){ia=ia||lc(N[1]);for(fb=2;fb<N.length-1;fb+=2)Pa.push(N[fb+1]);Pa.push(N[N.length-1])}else if("step"===
N[0])for(ia=ia||lc(N[1]),fb=1;fb<N.length-1;fb+=2)Pa.push(N[fb+1]);ia&&(N.length=0,N.push.apply(N,["any"].concat(Pa)));for(ia=1;ia<N.length;ia++)ac(N[ia])}function lc(N){if(!Array.isArray(N))return!1;var ia=N[0];if("pitch"===ia||"distance-from-center"===ia)return!0;for(ia=1;ia<N.length;ia++)if(lc(N[ia]))return!0;return!1}function Ic(N){if(Mf.has(N[0]))for(var ia=1;ia<N.length;ia++)if(lc(N[ia]))return!0;return N}function Ec(N,ia){return N<ia?-1:N>ia?1:0}function Rc(N){if(!Array.isArray(N))return!1;
if("within"===N[0])return!0;for(var ia=1;ia<N.length;ia++)if(Rc(N[ia]))return!0;return!1}function id(N){if(!N)return!0;var ia=N[0];return 1>=N.length?"any"!==ia:"\x3d\x3d"===ia?Td(N[1],N[2],"\x3d\x3d"):"!\x3d"===ia?Fa(Td(N[1],N[2],"\x3d\x3d")):"\x3c"===ia||"\x3e"===ia||"\x3c\x3d"===ia||"\x3e\x3d"===ia?Td(N[1],N[2],ia):"any"===ia?["any"].concat(N.slice(1).map(id)):"all"===ia?["all"].concat(N.slice(1).map(id)):"none"===ia?["all"].concat(N.slice(1).map(id).map(Fa)):"in"===ia?Ea(N[1],N.slice(2)):"!in"===
ia?Fa(Ea(N[1],N.slice(2))):"has"===ia?za(N[1]):"!has"===ia?Fa(za(N[1])):"within"===ia?N:!0}function Td(N,ia,Pa){switch(N){case "$type":return["filter-type-"+Pa,ia];case "$id":return["filter-id-"+Pa,ia];default:return["filter-"+Pa,N,ia]}}function Ea(N,ia){if(0===ia.length)return!1;switch(N){case "$type":return["filter-type-in",["literal",ia]];case "$id":return["filter-id-in",["literal",ia]];default:return 200<ia.length&&!ia.some(function(Pa){return typeof Pa!==typeof ia[0]})?["filter-in-large",N,["literal",
ia.sort(Ec)]]:["filter-in-small",N,["literal",ia]]}}function za(N){switch(N){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",N]}}function Fa(N){return["!",N]}function bb(N,ia){var Pa={},fb;for(fb in N)"ref"!==fb&&(Pa[fb]=N[fb]);jg.forEach(function(Jb){Jb in ia&&(Pa[Jb]=ia[Jb])});return Pa}function lb(N){N=N.slice();for(var ia=Object.create(null),Pa=0;Pa<N.length;Pa++)ia[N[Pa].id]=N[Pa];for(Pa=0;Pa<N.length;Pa++)"ref"in N[Pa]&&(N[Pa]=bb(N[Pa],ia[N[Pa].ref]));return N}
function zb(N){return 0!==N.indexOf("mapbox://")?"":N.slice(9)}function Tb(N,ia,Pa){var fb=zb(N);if(!fb)return decodeURI((new URL(N,Pa)).href);if(0!==fb.indexOf("sprites/"))throw Error("unexpected sprites url: "+N);N=fb.slice(8);return vh+"/styles/v1/"+N+"/sprite?access_token\x3d"+ia}function Ub(N,ia){var Pa=zb(N);if(!Pa)return decodeURI((new URL(N,location.href)).href);if(0!==Pa.indexOf("styles/"))throw Error("unexpected style url: "+N);N=Pa.slice(7);return vh+"/styles/v1/"+N+"?\x26access_token\x3d"+
ia}function $b(N,ia,Pa,fb){fb=new URL(N,fb);N=zb(N);if(!N){if(!ia)return decodeURI(fb.href);fb.searchParams.set(Pa,ia);return decodeURI(fb.href)}return"https://{a-d}.tiles.mapbox.com/v4/"+N+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+ia}function Dc(N,ia){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(N,ia);var Pa=document.createElement("canvas");Pa.width=N;Pa.height=ia;return Pa}function dd(N,ia){for(var Pa=
0,fb=ia.length;Pa<fb;++Pa)if(ia[Pa]<N&&Pa+1<fb)return Pa+Math.log(ia[Pa]/N)/Math.log(ia[Pa]/ia[Pa+1]);return fb-1}function fd(N,ia,Pa){void 0===Pa&&(Pa={});if(ia in Db)return Db[ia];N=Pa.transformRequest?Pa.transformRequest(ia,N)||new Request(ia):new Request(ia);N.headers.get("Accept")||N.headers.set("Accept","application/json");N=fetch(N).then(function(fb){delete Db[ia];return fb.ok?fb.json():Promise.reject(Error("Error fetching source "+ia))}).catch(function(fb){delete Db[ia];return Promise.reject(Error("Error fetching source "+
ia))});return Db[ia]=N}function od(N,ia){if("string"===typeof N)if(N.trim().startsWith("{"))try{var Pa=JSON.parse(N);return Promise.resolve(Pa)}catch(fb){return Promise.reject(fb)}else return N=Ub(N,ia.accessToken),fd("Style",N,ia);else return Promise.resolve(N)}function sd(N,ia,Pa){void 0===Pa&&(Pa={});var fb=[ia,JSON.stringify(N)].toString(),Jb=ic[fb];if(!Jb||Pa.transformRequest){if((Jb=N.url)&&!N.tiles){var Rb=$b(Jb,Pa.accessToken,Pa.accessTokenParam||"access_token",ia||location.href);Jb=Jb.startsWith("mapbox://")?
Promise.resolve((0,Vc.assign)({},N,{url:void 0,tiles:Rb})):fd("Source",Rb,Pa).then(function(Hc){for(var Zc=0,ed=Hc.tiles.length;Zc<ed;++Zc){var pd=Hc.tiles[Zc];if(Pa.transformRequest){var Vd=Pa.transformRequest(Rb,"Source");Vd&&(Rb=Vd.url)}pd=$b(pd,Pa.accessToken,Pa.accessTokenParam||"access_token",Rb);Pa.transformRequest&&(Vd=Pa.transformRequest(pd,"Tiles"),Vd instanceof Request&&(pd=decodeURI(Vd.url)));Hc.tiles[Zc]=pd}return Promise.resolve(Hc)})}else N=(0,Vc.assign)({},N,{tiles:N.tiles.map(function(Hc){return $b(Hc,
Pa.accessToken,Pa.accessTokenParam||"access_token",ia||location.href)})}),Jb=Promise.resolve((0,Vc.assign)({},N));ic[fb]=Jb}return Jb}function Kd(N,ia){if(.05<=ia){var Pa="";N=N.split("\n");ia=ud.slice(0,Math.round(ia/.1));for(var fb=0,Jb=N.length;fb<Jb;++fb)0<fb&&(Pa+="\n"),Pa+=N[fb].split("").join(ia);return Pa}return N}function Od(){yd||(yd=Dc(1,1).getContext("2d"));return yd}function ae(N,ia){return Od().measureText(N).width+(N.length-1)*ia}function de(N,ia,Pa,fb){if(-1!==N.indexOf("\n")){var Jb=
N.split("\n"),Rb=[];N=0;for(var Hc=Jb.length;N<Hc;++N)Rb.push(de(Jb[N],ia,Pa,fb));return Rb.join("\n")}Jb=Pa+","+ia+","+N+","+fb;Rb=be[Jb];if(!Rb){Rb=N.split(" ");if(1<Rb.length){N=Od();N.font=ia;ia=N.measureText("M").width*Pa;N="";Pa=[];Hc=0;for(var Zc=Rb.length;Hc<Zc;++Hc){var ed=Rb[Hc],pd=N+(N?" ":"")+ed;ae(pd,fb)<=ia?N=pd:(N&&Pa.push(N),N=ed)}N&&Pa.push(N);Rb=0;for(N=Pa.length;Rb<N&&1<N;++Rb)Hc=Pa[Rb],ae(Hc,fb)<.35*ia&&(Zc=0<Rb?ae(Pa[Rb-1],fb):Infinity,ed=Rb<N-1?ae(Pa[Rb+1],fb):Infinity,Pa.splice(Rb,
1),--N,Zc<ed?(Pa[Rb-1]+=" "+Hc,--Rb):Pa[Rb]=Hc+" "+Pa[Rb]);Rb=0;for(N=Pa.length-1;Rb<N;++Rb)Zc=Pa[Rb],Hc=Pa[Rb+1],ae(Zc,fb)>.7*ia&&ae(Hc,fb)<.6*ia&&(Zc=Zc.split(" "),ed=Zc.pop(),ae(ed,fb)<.2*ia&&(Pa[Rb]=Zc.join(" "),Pa[Rb+1]=ed+" "+Hc),--N);Rb=Pa.join("\n")}else Rb=N;Rb=Kd(Rb,fb);be[Jb]=Rb}return Rb}function je(N){var ia=N.toString();if(ia in Nf)return Nf[ia];for(var Pa=[],fb=0,Jb=N.length;fb<Jb;++fb){N[fb]=N[fb].replace("Arial Unicode MS","Arial");var Rb=vg(N[fb],1);(0,qc.registerFont)(Rb);Rb=Rb.split(" ");
Pa.push([Rb.slice(3).join(" ").replace(/"/g,""),Rb[1],Rb[0]])}fb=0;for(Jb=Pa.length;fb<Jb;++fb){Rb=Pa[fb];var Hc=Rb[0],Zc=Hc;if(!Gg){Gg={};for(var ed=document.styleSheets,pd=0,Vd=ed.length;pd<Vd;++pd){var we=ed[pd];try{var Ze=we.rules||we.cssRules;if(Ze){we=0;for(var rf=Ze.length;we<rf;++we){var wg=Ze[we];if(5==wg.type){var De=wg.cssText.match(df);Gg[De[1].replace(tf,"")]=!0}}}}catch(fg){}}}Zc in Gg||100===qc.checkedFonts.get(Rb[2]+"\n"+Rb[1]+" \n"+Hc)||(Rb="https://fonts.googleapis.com/css?family\x3d"+
Hc.replace(/ /g,"+")+":"+Rb[1]+Rb[2],document.querySelector('link[href\x3d"'+Rb+'"]')||(Hc=document.createElement("link"),Hc.href=Rb,Hc.rel="stylesheet",document.head.appendChild(Hc)))}return Nf[ia]=N}function qd(N,ia,Pa,fb,Jb,Rb,Hc){var Zc=N.id;Rb||(Rb={},console.warn("No functionCache provided to getValue()"));Rb[Zc]||(Rb[Zc]={});Rb=Rb[Zc];if(!Rb[Pa]){var ed=(N[ia]||Wg)[Pa];N=eg[ia+"_"+N.type][Pa];void 0===ed&&(ed=N.default);ia=nc(ed);!ia&&Fb(ed)&&(ed=d(ed,N),ia=!0);ia?(N=$g(ed,N),Rb[Pa]=N.evaluate.bind(N)):
("color"==N.type&&(ed=Qd.parse(ed)),Rb[Pa]=function(){return ed})}Og.zoom=fb;return Rb[Pa](Og,Jb,Hc)}function bf(N,ia,Pa,fb){return qd(N,"layout","icon-allow-overlap",ia,Pa,fb)?qd(N,"layout","icon-ignore-placement",ia,Pa,fb)?"none":"obstacle":"declutter"}function Ye(N,ia,Pa,fb,Jb){Jb||console.warn("No filterCache provided to evaluateFilter()");N in Jb||(Jb[N]=Mb(ia).filter);Og.zoom=fb;return Jb[N](Og,Pa)}function pe(N,ia){if(N){if(!Xh&&(0===N.a||0===ia))return;var Pa=N.a;return 0===Pa?"transparent":
"rgba("+Math.round(255*N.r/Pa)+","+Math.round(255*N.g/Pa)+","+Math.round(255*N.b/Pa)+","+Pa*(void 0===ia?1:ia)+")"}return N}function ve(N,ia){return N.replace(ph,function(Pa){return ia[Pa.slice(1,-1)]||""})}function Ca(N,ia,Pa,fb,Jb,Rb,Hc){void 0===fb&&(fb=Za);void 0===Jb&&(Jb=void 0);void 0===Rb&&(Rb=void 0);void 0===Hc&&(Hc=void 0);"string"==typeof ia&&(ia=JSON.parse(ia));if(8!=ia.version)throw Error("glStyle version 8 required.");var Zc,ed;if(Rb)if("undefined"!==typeof Image){var pd=new Image;
pd.crossOrigin="anonymous";pd.onload=function(){Zc=pd;ed=[pd.width,pd.height];N.changed();pd.onload=null};pd.src=Rb}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var Vd=self;Vd.postMessage({action:"loadImage",src:Rb});Vd.addEventListener("message",function(Eh){"imageLoaded"===Eh.data.action&&Eh.data.src===Rb&&(Zc=Eh.data.image,ed=[Zc.width,Zc.height])})}var we=lb(ia.layers),Ze={};Vd=[];for(var rf={},wg={},De={},fg={},kg,Rg=0,rg=we.length;Rg<rg;++Rg){var Yg=we[Rg],
jf=Yg.id;if("string"==typeof Pa&&Yg.source==Pa||-1!==Pa.indexOf(jf)){var gh=Yg["source-layer"];if(!kg){kg=Yg.source;var Uf=ia.sources[kg];if(!Uf)throw Error('Source "'+kg+'" is not defined');Uf=Uf.type;if("vector"!==Uf&&"geojson"!==Uf)throw Error('Source "'+kg+'" is not of type "vector" or "geojson", but "'+Uf+'"');}else if(Yg.source!==kg)throw Error('Layer "'+jf+'" does not use source "'+kg);Uf=Ze[gh];Uf||(Uf=[],Ze[gh]=Uf);Uf.push({layer:Yg,index:Rg});Vd.push(jf)}}var sg=new Me.default,Lh=new ue.default,
bh=[];ia=function(Eh,ki){var Vh=Eh.getProperties(),Sh=Ze[Vh.layer];if(Sh){var ef=fb.indexOf(ki);-1==ef&&(ef=dd(ki,fb));for(var Hg=qh[Eh.getGeometry().getType()],ff={properties:Vh,type:Hg},sf=N.get("mapbox-featurestate")[Eh.getId()],xg=-1,Uh,Fh=0,hh=Sh.length;Fh<hh;++Fh){var Hf=Sh[Fh],Ee=Hf.layer,re=Ee.id,Of=Ee.layout||Wg,Kf=Ee.paint||Wg;if(!("none"===Of.visibility||"minzoom"in Ee&&ef<Ee.minzoom||"maxzoom"in Ee&&ef>=Ee.maxzoom)){var vf=Ee.filter;if(!vf||Ye(re,vf,ff,ef,fg)){Uh=Ee;var Zf=void 0,Ba=vf=
void 0,db=Ba=void 0;re=void 0;Hf=Hf.index;if(3==Hg&&("fill"==Ee.type||"fill-extrusion"==Ee.type))if(vf=qd(Ee,"paint",Ee.type+"-opacity",ef,ff,De,sf),Ee.type+"-pattern"in Kf){if(Ba=qd(Ee,"paint",Ee.type+"-pattern",ef,ff,De,sf))if(db="string"===typeof Ba?ve(Ba,Vh):Ba.toString(),Zc&&Jb&&Jb[db]){++xg;re=bh[xg];if(!re||!re.getFill()||re.getStroke()||re.getText())re=new kf.default({fill:new ue.default}),bh[xg]=re;Ba=re.getFill();re.setZIndex(Hf);Zf=db+"."+vf;var wb=wg[Zf];if(!wb){db=Jb[db];wb=Dc(db.width,
db.height);var Lb=wb.getContext("2d");Lb.globalAlpha=vf;Lb.drawImage(Zc,db.x,db.y,db.width,db.height,0,0,db.width,db.height);wb=Lb.createPattern(wb,"repeat");wg[Zf]=wb}Ba.setColor(wb)}}else if(Zf=pe(qd(Ee,"paint",Ee.type+"-color",ef,ff,De,sf),vf),Ee.type+"-outline-color"in Kf&&(db=pe(qd(Ee,"paint",Ee.type+"-outline-color",ef,ff,De,sf),vf)),db||(db=Zf),Zf||db){++xg;re=bh[xg];if(!re||Zf&&!re.getFill()||!Zf&&re.getFill()||db&&!re.getStroke()||!db&&re.getStroke()||re.getText())re=new kf.default({fill:Zf?
new ue.default:void 0,stroke:db?new Me.default:void 0}),bh[xg]=re;Zf&&(Ba=re.getFill(),Ba.setColor(Zf));db&&(Ba=re.getStroke(),Ba.setColor(db),Ba.setWidth(.5));re.setZIndex(Hf)}if(1!=Hg&&"line"==Ee.type){Zf=!("line-pattern"in Kf)&&"line-color"in Kf?pe(qd(Ee,"paint","line-color",ef,ff,De,sf),qd(Ee,"paint","line-opacity",ef,ff,De,sf)):void 0;var pc=qd(Ee,"paint","line-width",ef,ff,De,sf);if(Zf&&0<pc){++xg;re=bh[xg];if(!re||!re.getStroke()||re.getFill()||re.getText())re=new kf.default({stroke:new Me.default}),
bh[xg]=re;Ba=re.getStroke();Ba.setLineCap(qd(Ee,"layout","line-cap",ef,ff,De,sf));Ba.setLineJoin(qd(Ee,"layout","line-join",ef,ff,De,sf));Ba.setMiterLimit(qd(Ee,"layout","line-miter-limit",ef,ff,De,sf));Ba.setColor(Zf);Ba.setWidth(pc);Ba.setLineDash(Kf["line-dasharray"]?qd(Ee,"paint","line-dasharray",ef,ff,De,sf).map(function(nf){return nf*pc}):null);re.setZIndex(Hf)}}db=!1;Ba=null;Lb=0;var rc=void 0;Zf=wb=void 0;if((1==Hg||2==Hg)&&"icon-image"in Of){var Nc=qd(Ee,"layout","icon-image",ef,ff,De,sf);
if(Nc&&(rc="string"===typeof Nc?ve(Nc,Vh):Nc.toString(),Nc=void 0,Zc&&Jb&&Jb[rc])){var xa=qd(Ee,"layout","icon-rotation-alignment",ef,ff,De,sf);if(2==Hg){var Ra=Eh.getGeometry();if(Ra.getFlatMidpoint||Ra.getFlatMidpoints){var qb=Ra.getExtent();if(150<Math.sqrt(Math.max(Math.pow((qb[2]-qb[0])/ki,2),Math.pow((qb[3]-qb[1])/ki,2)))&&(qb="MultiLineString"===Ra.getType()?Ra.getFlatMidpoints():Ra.getFlatMidpoint(),ah||(kh=[NaN,NaN],ah=new Be.default("Point",kh,[],{},null)),Nc=ah,kh[0]=qb[0],kh[1]=qb[1],
"line"===qd(Ee,"layout","symbol-placement",ef,ff,De,sf)&&"map"===xa)){var rb=Ra.getStride();Ra=Ra.getFlatCoordinates();for(var fc=0,Oc=Ra.length-rb;fc<Oc;fc+=rb){var $c=Ra[fc],xd=Ra[fc+1],Tc=Ra[fc+rb],Md=Ra[fc+rb+1],Cd=Math.min(xd,Md),Ae=Math.max($c,Tc),uf=Math.max(xd,Md);if(qb[0]>=Math.min($c,Tc)&&qb[0]<=Ae&&qb[1]>=Cd&&qb[1]<=uf){Lb=Math.atan2(xd-Md,Tc-$c);break}}}}}if(2!==Hg||Nc){qb=qd(Ee,"layout","icon-size",ef,ff,De,sf);rb=void 0!==Kf["icon-color"]?qd(Ee,"paint","icon-color",ef,ff,De,sf):null;
if(!rb||0!==rb.a)if(Ra=rc+"."+qb,null!==rb&&(Ra+="."+rb),wb=rf[Ra],!wb){var Je=Jb[rc];wb=bf(Ee,ef,ff,De);wb=new Df.default({color:rb?[255*rb.r,255*rb.g,255*rb.b,rb.a]:void 0,img:Zc,imgSize:ed,size:[Je.width,Je.height],offset:[Je.x,Je.y],rotateWithView:"map"===xa,scale:qb/Je.pixelRatio,displacement:"icon-offset"in Of?qd(Ee,"layout","icon-offset",ef,ff,De,sf).map(function(nf){return-nf*Je.pixelRatio}):void 0,declutterMode:wb});rf[Ra]=wb}if(wb){++xg;re=bh[xg];if(!re||!re.getImage()||re.getFill()||re.getStroke())re=
new kf.default,bh[xg]=re;re.setGeometry(Nc);wb.setRotation(Lb+qd(Ee,"layout","icon-rotate",ef,ff,De,sf)*Math.PI/180);wb.setOpacity(qd(Ee,"paint","icon-opacity",ef,ff,De,sf));wb.setAnchor(xh[qd(Ee,"layout","icon-anchor",ef,ff,De,sf)]);re.setImage(wb);Ba=re.getText();re.setText(void 0);re.setZIndex(Hf);db=!0;Zf=!1}}else Zf=!0}}if(1==Hg&&"circle"===Ee.type){++xg;re=bh[xg];if(!re||!re.getImage()||re.getFill()||re.getStroke())re=new kf.default,bh[xg]=re;Ba="circle-radius"in Kf?qd(Ee,"paint","circle-radius",
ef,ff,De,sf):5;Kf=pe(qd(Ee,"paint","circle-stroke-color",ef,ff,De,sf),qd(Ee,"paint","circle-stroke-opacity",ef,ff,De,sf));db=pe(qd(Ee,"paint","circle-color",ef,ff,De,sf),qd(Ee,"paint","circle-opacity",ef,ff,De,sf));Lb=qd(Ee,"paint","circle-stroke-width",ef,ff,De,sf);Nc=Ba+"."+Kf+"."+db+"."+Lb;wb=rf[Nc];wb||(wb=new Ce.default({radius:Ba,stroke:Kf&&0<Lb?new Me.default({width:Lb,color:Kf}):void 0,fill:db?new ue.default({color:db}):void 0,declutterMode:"none"}),rf[Nc]=wb);re.setImage(wb);Ba=re.getText();
re.setText(void 0);re.setGeometry(void 0);re.setZIndex(Hf);db=!0}var of=wb=Kf=void 0,Vf=void 0,pg=void 0,mf=void 0;if("text-field"in Of){Vf=Math.round(qd(Ee,"layout","text-size",ef,ff,De,sf));var Lf=qd(Ee,"layout","text-font",ef,ff,De,sf);of=qd(Ee,"layout","text-line-height",ef,ff,De,sf);wb=vg(Hc?Hc(Lf):Lf,Vf,of);wb.includes("sans-serif")||(wb+=",sans-serif");pg=qd(Ee,"layout","text-letter-spacing",ef,ff,De,sf);mf=qd(Ee,"layout","text-max-width",ef,ff,De,sf);vf=qd(Ee,"layout","text-field",ef,ff,De,
sf);Kf="object"===typeof vf&&vf.sections?1===vf.sections.length?vf.toString():vf.sections.reduce(function(nf,xf,Bh){Bh=xf.fontStack?xf.fontStack.split(","):Lf;Bh=vg(Hc?Hc(Bh):Bh,Vf*(xf.scale||1),of);xf=xf.text;if("\n"===xf)return nf.push("\n",""),nf;if(2==Hg)nf.push(Kd(xf,pg),Bh);else{xf=de(xf,Bh,mf,pg).split("\n");for(var hg=0,Xg=xf.length;hg<Xg;++hg)0<hg&&nf.push("\n",""),nf.push(xf[hg],Bh);return nf}},[]):ve(vf,Vh).trim();vf=qd(Ee,"paint","text-opacity",ef,ff,De,sf)}if(Kf&&vf&&!Zf){if(!db){++xg;
re=bh[xg];if(!re||!re.getText()||re.getFill()||re.getStroke())re=new kf.default,bh[xg]=re;re.setImage(void 0);re.setGeometry(void 0)}re.getText()||re.setText(Ba||new Sb.default({padding:[2,2,2,2]}));Ba=re.getText();Of=Of["text-transform"];"uppercase"==Of?Kf=Array.isArray(Kf)?Kf.map(function(nf,xf){return xf%2?nf:nf.toUpperCase()}):Kf.toUpperCase():"lowercase"==Of&&(Kf=Array.isArray(Kf)?Kf.map(function(nf,xf){return xf%2?nf:nf.toLowerCase()}):Kf.toLowerCase());xa=Array.isArray(Kf)?Kf:2==Hg?Kd(Kf,pg):
de(Kf,wb,mf,pg);Ba.setText(xa);Ba.setFont(wb);Ba.setRotation(qd(Ee,"layout","text-rotate",ef,ff,De,sf)*Math.PI/180);Zf=qd(Ee,"layout","text-anchor",ef,ff,De,sf);rc=db||1==Hg?"point":qd(Ee,"layout","symbol-placement",ef,ff,De,sf);Ba.setPlacement(rc);Ba.setOverflow("point"===rc);Of=qd(Ee,"paint","text-halo-width",ef,ff,De,sf);db=qd(Ee,"layout","text-offset",ef,ff,De,sf);wb=qd(Ee,"paint","text-translate",ef,ff,De,sf);Nc=Lb=0;"point"==rc?(Kf="center",-1!==Zf.indexOf("left")?(Kf="left",Nc=Of):-1!==Zf.indexOf("right")&&
(Kf="right",Nc=-Of),Ba.setTextAlign(Kf),Kf=qd(Ee,"layout","text-rotation-alignment",ef,ff,De,sf),Ba.setRotateWithView("map"==Kf)):(Ba.setMaxAngle(qd(Ee,"layout","text-max-angle",ef,ff,De,sf)*Math.PI/180*Kf.length/xa.length),Ba.setTextAlign(),Ba.setRotateWithView(!1));Kf="middle";0==Zf.indexOf("bottom")?(Kf="bottom",Lb=-Of-.5*(of-1)*Vf):0==Zf.indexOf("top")&&(Kf="top",Lb=Of+.5*(of-1)*Vf);Ba.setTextBaseline(Kf);Ba.setOffsetX(db[0]*Vf+Nc+wb[0]);Ba.setOffsetY(db[1]*Vf+Lb+wb[1]);Lh.setColor(pe(qd(Ee,"paint",
"text-color",ef,ff,De,sf),vf));Ba.setFill(Lh);(vf=pe(qd(Ee,"paint","text-halo-color",ef,ff,De,sf),vf))?(sg.setColor(vf),Of*=2,vf=.5*Vf,sg.setWidth(Of<=vf?Of:vf),Ba.setStroke(sg)):Ba.setStroke(void 0);Ee=qd(Ee,"layout","text-padding",ef,ff,De,sf);vf=Ba.getPadding();Ee!==vf[0]&&(vf[0]=Ee,vf[1]=Ee,vf[2]=Ee,vf[3]=Ee);re.setZIndex(Hf)}}}}if(-1<xg)return bh.length=xg+1,og&&("function"===typeof Eh.set?Eh.set("mapbox-layer",Uh):Eh.getProperties()["mapbox-layer"]=Uh),bh}};N.setStyle(ia);N.set("mapbox-source",
kg);N.set("mapbox-layers",Vd);N.set("mapbox-featurestate",{});return ia}function Ya(N,ia){ia.accessToken||(ia=(0,Vc.assign)({},ia),(new URL(N)).searchParams.forEach(function(Pa,fb){ia.accessToken=Pa;ia.accessTokenParam=fb}));return ia}function tb(N,ia,Pa,fb,Jb){void 0===Pa&&(Pa="");void 0===fb&&(fb={});void 0===Jb&&(Jb=void 0);var Rb;if("string"===typeof fb){var Hc=fb;var Zc={}}else Hc=fb.styleUrl,Zc=fb;Jb||(Jb=Zc.resolutions);Hc||"string"!==typeof ia||ia.trim().startsWith("{")||(Hc=ia);Hc&&(Hc=Hc.startsWith("data:")?
location.href:Ub(Hc,Zc.accessToken),Zc=Ya(Hc,Zc));return new Promise(function(ed,pd){od(ia,Zc).then(function(Vd){function we(){if(N instanceof Bb.default)return Gc(Vd.sources[Rb],Hc,Zc).then(function(Uf){var sg=N.getSource();sg?Uf!==sg&&(sg.setTileUrlFunction(Uf.getTileUrlFunction()),sg.format_||(sg.format_=Uf.format_),sg.getAttributions()||sg.setAttributions(Uf.getAttributions()),sg.getTileLoadFunction()===Zb.defaultLoadFunction&&sg.setTileLoadFunction(Uf.getTileLoadFunction()),(0,ke.equivalent)(sg.getProjection(),
Uf.getProjection())&&(sg.tileGrid=Uf.getTileGrid())):N.setSource(Uf);isFinite(N.getMaxResolution())||isFinite(N.getMinZoom())||(Uf=N.getSource().getTileGrid(),N.setMaxResolution(Uf.getResolution(Uf.getMinZoom())))});var jf=Vd.sources[Rb],gh=N.getSource();gh&&gh.get("mapbox-source")===jf||(gh=md(jf,Hc,Zc));jf=N.getSource();jf?gh!==jf&&(jf.getAttributions()||jf.setAttributions(gh.getAttributions()),jf.format_||(jf.format_=gh.getFormat()),jf.url_=gh.getUrl()):N.setSource(gh);return Promise.resolve()}
function Ze(){fg||Vd.sprite&&!wg?fg?(N.setStyle(fg),we().then(ed).catch(pd)):pd(Error("Something went wrong trying to apply style.")):(fg=Ca(N,Vd,Pa,Jb,wg,De,je),N.getStyle()?we().then(ed).catch(pd):pd(Error("Nothing to show for source ["+Rb+"]")))}if(8!=Vd.version)return pd(Error("glStyle version 8 required."));if(!(N instanceof If.default||N instanceof Bb.default))return pd(Error("Can only apply to VectorLayer or VectorTileLayer"));var rf=N instanceof Bb.default?"vector":"geojson";Pa?Rb=Array.isArray(Pa)?
Vd.layers.find(function(jf){return jf.id===Pa[0]}).source:Pa:Pa=Rb=Object.keys(Vd.sources).find(function(jf){return Vd.sources[jf].type===rf});if(!Rb)return pd(Error("No "+rf+" source found in the glStyle."));var wg,De,fg;if(Vd.sprite){var kg=new URL(Tb(Vd.sprite,Zc.accessToken,Hc||location.href));var Rg=1.5<=window.devicePixelRatio?.5:1;var rg=.5==Rg?"@2x":"",Yg=kg.origin+kg.pathname+rg+".json"+kg.search;(new Promise(function(jf,gh){fd("Sprite",Yg,Zc).then(jf).catch(function(Uf){Yg=kg.origin+kg.pathname+
".json"+kg.search;fd("Sprite",Yg,Zc).then(jf).catch(gh)})})).then(function(jf){void 0===jf&&pd(Error("No sprites found."));wg=jf;De=kg.origin+kg.pathname+rg+".png"+kg.search;Zc.transformRequest&&(jf=Zc.transformRequest(De,"SpriteImage"),jf instanceof Request&&(De=encodeURI(jf.url)));Ze()}).catch(function(jf){pd(Error("Sprites cannot be loaded: "+Yg+": "+jf.message))})}else Ze()}).catch(pd)})}function Kb(N,ia){function Pa(Rb){var Hc=ia.layout||{},Zc=ia.paint||{};fb.paint=Zc;Rb="function"===typeof N.getSource?
N.getSource().getTileGrid().getZForResolution(Rb):N.getView().getZoom();var ed="function"===typeof N.getTargetElement?N.getTargetElement():void 0;if(void 0!==Zc["background-color"]){var pd=qd(fb,"paint","background-color",Rb,Kh,Jb);ed&&(ed.style.background=Qd.parse(pd).toString())}if(void 0!==Zc["background-opacity"]){var Vd=qd(fb,"paint","background-opacity",Rb,Kh,Jb);ed&&(ed.style.opacity=Vd)}if("none"==Hc.visibility)ed&&(ed.style.backgroundColor="",ed.style.opacity="");else return pe(pd,Vd)}var fb=
{id:ia.id,type:ia.type},Jb={};if("function"===typeof N.getTargetElement)N.getTargetElement()&&Pa(),N.on(["change:resolution","change:target"],Pa);else if("function"===typeof N.setBackground)N.setBackground(Pa);else throw Error("Unable to apply background.");}function dc(N,ia){ia.layers.some(function(Pa){if("background"===Pa.type)return Kb(N,Pa),!0})}function mc(N,ia){var Pa;N.some(function(fb){if(fb.id==ia)return Pa=fb.source,!0});return Pa}function Jc(N){var ia=N.bounds;if(ia)return N=(0,ke.fromLonLat)([ia[0],
ia[1]]),ia=(0,ke.fromLonLat)([ia[2],ia[3]]),[N[0],N[1],ia[0],ia[1]]}function Gc(N,ia,Pa){return new Promise(function(fb,Jb){sd(N,ia,Pa).then(function(Rb){var Hc=new Qf.default({tileJSON:Rb}),Zc=Hc.getTileJSON(),ed=Hc.getTileGrid(),pd=Jc(Zc),Vd=Zc.minzoom||0,we=Zc.maxzoom||22;Hc={attributions:Hc.getAttributions(),format:new Hd.default,tileGrid:new $e.default({origin:ed.getOrigin(0),extent:pd||ed.getExtent(),minZoom:Vd,resolutions:Za.slice(0,we+1),tileSize:512})};Array.isArray(Zc.tiles)?Hc.urls=Zc.tiles:
Hc.url=Zc.tiles;Rb.olSourceOptions&&Object.assign(Hc,Rb.olSourceOptions);fb(new Zb.default(Hc))}).catch(Jb)})}function jc(N,ia,Pa){var fb=new Bb.default({declutter:!0,visible:!1});Gc(N,ia,Pa).then(function(Jb){Jb.set("mapbox-source",N);fb.setSource(Jb)}).catch(function(Jb){fb.setSource(void 0)});return fb}function bd(N,ia,Pa){var fb=new Af.default;sd(N,ia,Pa).then(function(Jb){var Rb=new Qf.default({transition:0,crossOrigin:"anonymous",tileJSON:Jb}),Hc=Jc(Jb),Zc=Rb.getTileGrid(),ed=N.tileSize||Jb.tileSize||
512,pd=Jb.minzoom||0;Jb=Jb.maxzoom||22;Rb.tileGrid=new $e.default({origin:Zc.getOrigin(0),extent:Hc||Zc.getExtent(),minZoom:pd,resolutions:(0,ce.createXYZ)({maxZoom:Jb,tileSize:ed}).getResolutions(),tileSize:ed});var Vd=Rb.getTileUrlFunction();Rb.setTileUrlFunction(function(we,Ze,rf){Ze=Vd(we,Ze,rf);-1!=Ze.indexOf("{bbox-epsg-3857}")&&(we=Rb.getTileGrid().getTileCoordExtent(we),Ze=Ze.replace("{bbox-epsg-3857}",we.toString()));return Ze});Rb.set("mapbox-source",N);fb.setSource(Rb)}).catch(function(Jb){fb.setSource(void 0)});
return fb}function md(N,ia,Pa){var fb=N.data,Jb={};"string"==typeof fb?(ia=$b(fb,Pa.accessToken,Pa.accessTokenParam||"access_token",ia||location.href),Pa.transformRequest&&(Pa=Pa.transformRequest(ia,"GeoJSON"),Pa instanceof Request&&(ia=encodeURI(Pa.url))),Jb.url=ia):Jb.features=Ph.readFeatures(fb,{featureProjection:(0,ke.getUserProjection)()||"EPSG:3857"});Jb=new Ne.default((0,Vc.assign)({attributions:N.attribution,format:Ph},Jb));Jb.set("mapbox-source",N);return Jb}function Ed(N,ia,Pa,fb){Pa=Pa.getZoom();
N=qd(N,"paint","raster-opacity",Pa,Kh,fb);ia.setOpacity(N)}function Nd(N,ia,Pa,fb){var Jb=[],Rb=ia.getView();Rb.isDef()||Rb.getRotation()||Rb.getResolutions()||(Rb=new Sc.default((0,Vc.assign)(Rb.getProperties(),{maxResolution:Za[0]})),ia.setView(Rb));"center"in N&&!Rb.getCenter()&&Rb.setCenter((0,ke.fromLonLat)(N.center));"zoom"in N&&void 0===Rb.getZoom()&&Rb.setResolution(Za[0]/Math.pow(2,N.zoom));Rb.getCenter()&&void 0!==Rb.getZoom()||Rb.fit(Rb.getProjection().getExtent(),{nearest:!0,size:ia.getSize()});
for(var Hc=N.layers,Zc=[],ed,pd,Vd,we,Ze=0,rf=Hc.length;Ze<rf;++Ze){ed=Hc[Ze];Vd=ed.type;if("heatmap"==Vd||"hillshade"==Vd)throw Error(Vd+" layers are not supported");"background"==Vd?Kb(ia,ed):(Vd=ed.source||mc(Hc,ed.ref),Vd!=pd&&(Zc.length&&(Jb.push(Pd(we,Zc,N,Pa,ia,fb)),Zc=[]),pd=N.sources[Vd],"vector"==pd.type?we=jc(pd,Pa,fb):"raster"==pd.type?(we=bd(pd,Pa,fb),we.setVisible(ed.layout?"none"!==ed.layout.visibility:!0),pd={},Rb.on("change:resolution",Ed.bind(this,ed,we,Rb,pd)),Ed(ed,we,Rb,pd)):
"geojson"==pd.type&&(we=new If.default({declutter:!0,source:md(pd,Pa,fb),visible:!1})),pd=Vd,we&&we.set("mapbox-source",pd)),Zc.push(ed.id))}Jb.push(Pd(we,Zc,N,Pa,ia,fb));ia.set("mapbox-style",N);return Promise.all(Jb)}function Pd(N,ia,Pa,fb,Jb,Rb){void 0===Rb&&(Rb={});for(var Hc=24,Zc=0,ed=Pa.layers,pd=0,Vd=ed.length;pd<Vd;++pd){var we=ed[pd];-1!==ia.indexOf(we.id)&&(Hc=Math.min("minzoom"in we?we.minzoom:0,Hc),Zc=Math.max("maxzoom"in we?we.maxzoom:24,Zc))}return new Promise(function(Ze,rf){var wg=
function(){var De=N.getSource();if(De&&"error"!==De.getState()){if("getTileGrid"in De){var fg=De.getTileGrid();if(fg){var kg=fg.getMinZoom();(0<Hc||0<kg)&&N.setMaxResolution(Math.min(Za[Hc],fg.getResolution(kg))+1E-9);24>Zc&&N.setMinResolution(Za[Zc]+1E-9)}}De instanceof Ne.default||De instanceof Zb.default?tb(N,Pa,ia,(0,Vc.assign)({styleUrl:fb},Rb)).then(function(){N.setVisible(!0);Ze()}).catch(rf):Ze()}else rf(Error("Error accessing data for source "+N.get("mapbox-source")))};N.set("mapbox-layers",
ia);-1===Jb.getLayers().getArray().indexOf(N)&&Jb.addLayer(N);if(N.getSource())wg();else N.once("change:source",wg)})}function ee(N,ia){var Pa=[];N=N.getAllLayers();for(var fb=0,Jb=N.length;fb<Jb;++fb)N[fb].get("mapbox-source")===ia&&Pa.push(N[fb]);return Pa}Object.defineProperty(G,"__esModule",{value:!0});G.default=G.apply=function(N,ia,Pa){void 0===Pa&&(Pa={});if("string"===typeof N||N instanceof HTMLElement)N=new me.default({target:N});if("string"===typeof ia){var fb=ia.startsWith("data:")?location.href:
Ub(ia,Pa.accessToken);Pa=Ya(fb,Pa);var Jb=new Promise(function(Rb,Hc){od(ia,Pa).then(function(Zc){Nd(Zc,N,fb,Pa).then(function(){Rb(N)}).catch(Hc)}).catch(function(Zc){Hc(Error("Could not load "+ia+": "+Zc.message))})})}else Jb=new Promise(function(Rb,Hc){Nd(ia,N,!Pa.styleUrl||Pa.styleUrl.startsWith("data:")?location.href:Ub(Pa.styleUrl,Pa.accessToken),Pa).then(function(){Rb(N)}).catch(Hc)});return Jb};G.applyBackground=function(N,ia,Pa){void 0===Pa&&(Pa={});return"object"===typeof ia?(dc(N,ia),Promise.resolve()):
od(ia,Pa).then(function(fb){dc(N,fb)})};G.applyStyle=tb;G.getFeatureState=function(N,ia){N="getLayers"in N?ee(N,ia.source):[N];for(var Pa=0,fb=N.length;Pa<fb;++Pa){var Jb=N[Pa].get("mapbox-featurestate");if(Jb&&Jb[ia.id])return Jb[ia.id]}return null};G.getLayer=function(N,ia){N=N.getLayers().getArray();for(var Pa=0,fb=N.length;Pa<fb;++Pa){var Jb=N[Pa].get("mapbox-layers");if(Jb&&-1!==Jb.indexOf(ia))return N[Pa]}};G.getLayers=ee;G.getSource=function(N,ia){N=N.getLayers().getArray();for(var Pa=0,fb=
N.length;Pa<fb;++Pa){var Jb=N[Pa].getSource();if(N[Pa].get("mapbox-source")===ia)return Jb}};G.recordStyleLayer=function(N){void 0===N&&(N=!1);og=N};G.renderTransparent=function(N){Xh=N};G.setFeatureState=function(N,ia,Pa){N="getLayers"in N?ee(N,ia.source):[N];for(var fb=0,Jb=N.length;fb<Jb;++fb){var Rb=N[fb].get("mapbox-featurestate");if(Rb)Pa?Rb[ia.id]=Pa:delete Rb[ia.id],N[fb].changed();else throw Error('Map or layer for source "'+ia.source+'" not found.');}};G.stylefunction=Ca;var Ce=p(F(192)),
ue=p(F(193)),Df=p(F(218)),Be=p(F(365)),Me=p(F(194)),kf=p(F(195)),Sb=p(F(219)),qc=F(96),Vc=F(80),Bd=p(F(371)),Hd=p(F(366)),me=p(F(238)),$e=p(F(255)),Qf=p(F(340)),Af=p(F(335)),If=p(F(224)),Ne=p(F(230)),Bb=p(F(369)),Zb=function(N,ia){if(!ia&&N&&N.__esModule)return N;if(null===N||"object"!==typeof N&&"function"!==typeof N)return{default:N};if((ia=y(ia))&&ia.has(N))return ia.get(N);var Pa={},fb=Object.defineProperty&&Object.getOwnPropertyDescriptor,Jb;for(Jb in N)if("default"!==Jb&&Object.prototype.hasOwnProperty.call(N,
Jb)){var Rb=fb?Object.getOwnPropertyDescriptor(N,Jb):null;Rb&&(Rb.get||Rb.set)?Object.defineProperty(Pa,Jb,Rb):Pa[Jb]=N[Jb]}Pa.default=N;ia&&ia.set(N,Pa);return Pa}(F(345)),Sc=p(F(144)),ce=F(256),ke=F(121),Rd={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,
42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,
1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,
215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,
211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,
219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,
1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,
206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{var Sd=f}catch(N){}var Qd=function(N,ia,Pa,fb){void 0===fb&&(fb=1);this.r=N;this.g=ia;
this.b=Pa;this.a=fb};Qd.parse=function(N){if(N){if(N instanceof Qd)return N;if("string"===typeof N&&(N=Sd(N)))return new Qd(N[0]/255*N[3],N[1]/255*N[3],N[2]/255*N[3],N[3])}};Qd.prototype.toString=function(){var N=this.toArray();return"rgba("+Math.round(N[0])+","+Math.round(N[1])+","+Math.round(N[2])+","+N[3]+")"};Qd.prototype.toArray=function(){var N=this.r,ia=this.g,Pa=this.b,fb=this.a;return 0===fb?[0,0,0,0]:[255*N/fb,255*ia/fb,255*Pa/fb,fb]};Qd.prototype.toArray01=function(){var N=this.r,ia=this.g,
Pa=this.b,fb=this.a;return 0===fb?[0,0,0,0]:[N/fb,ia/fb,Pa/fb,fb]};Qd.prototype.toArray01PremultipliedAlpha=function(){return[this.r,this.g,this.b,this.a]};Qd.black=new Qd(0,0,0,1);Qd.white=new Qd(1,1,1,1);Qd.transparent=new Qd(0,0,0,0);Qd.red=new Qd(1,0,0,1);Qd.blue=new Qd(0,0,1,1);var Qe=function(N){function ia(Pa,fb){N.call(this,fb);this.message=fb;this.key=Pa}N&&(ia.__proto__=N);ia.prototype=Object.create(N&&N.prototype);return ia.prototype.constructor=ia}(Error),cf=function(N,ia){void 0===ia&&
(ia=[]);this.parent=N;this.bindings={};for(N=0;N<ia.length;N+=1){var Pa=ia[N];this.bindings[Pa[0]]=Pa[1]}};cf.prototype.concat=function(N){return new cf(this,N)};cf.prototype.get=function(N){if(this.bindings[N])return this.bindings[N];if(this.parent)return this.parent.get(N);throw Error(N+" not found in scope.");};cf.prototype.has=function(N){return this.bindings[N]?!0:this.parent?this.parent.has(N):!1};var ra={kind:"null"},jb={kind:"number"},Ia={kind:"string"},Xb={kind:"boolean"},ha={kind:"color"},
Oa={kind:"object"},$a={kind:"value"},ub={kind:"collator"},Cb={kind:"formatted"},Wb={kind:"resolvedImage"},sc=[ra,jb,Ia,Xb,ha,Cb,Oa,x($a),Wb],Uc=function(N,ia,Pa){this.sensitivity=N?ia?"variant":"case":ia?"accent":"base";this.locale=Pa;this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Uc.prototype.compare=function(N,ia){return this.collator.compare(N,ia)};Uc.prototype.resolvedLocale=function(){return(new Intl.Collator(this.locale?this.locale:
[])).resolvedOptions().locale};var Xc=function(N,ia,Pa,fb,Jb){this.text=N.normalize?N.normalize():N;this.image=ia;this.scale=Pa;this.fontStack=fb;this.textColor=Jb},Cc=function(N){this.sections=N};Cc.fromString=function(N){return new Cc([new Xc(N,null,null,null,null)])};Cc.prototype.isEmpty=function(){return 0===this.sections.length?!0:!this.sections.some(function(N){return 0!==N.text.length||N.image&&0!==N.image.name.length})};Cc.factory=function(N){return N instanceof Cc?N:Cc.fromString(N)};Cc.prototype.toString=
function(){return 0===this.sections.length?"":this.sections.map(function(N){return N.text}).join("")};Cc.prototype.serialize=function(){for(var N=["format"],ia=0,Pa=this.sections;ia<Pa.length;ia+=1){var fb=Pa[ia];if(fb.image)N.push(["image",fb.image.name]);else{N.push(fb.text);var Jb={};fb.fontStack&&(Jb["text-font"]=["literal",fb.fontStack.split(",")]);fb.scale&&(Jb["font-scale"]=fb.scale);fb.textColor&&(Jb["text-color"]=["rgba"].concat(fb.textColor.toArray()));N.push(Jb)}}return N};var zc=function(N){this.name=
N.name;this.available=N.available};zc.prototype.toString=function(){return this.name};zc.fromString=function(N){return N?new zc({name:N,available:!1}):null};zc.prototype.serialize=function(){return["image",this.name]};var oc=function(N,ia){this.type=N;this.value=ia};oc.parse=function(N,ia){if(2!==N.length)return ia.error("'literal' expression requires exactly one argument, but found "+(N.length-1)+" instead.");if(!T(N[1]))return ia.error("invalid value");N=N[1];var Pa=ba(N);ia=ia.expectedType;"array"!==
Pa.kind||0!==Pa.N||!ia||"array"!==ia.kind||"number"===typeof ia.N&&0!==ia.N||(Pa=ia);return new oc(Pa,N)};oc.prototype.evaluate=function(){return this.value};oc.prototype.eachChild=function(){};oc.prototype.outputDefined=function(){return!0};oc.prototype.serialize=function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Qd?["rgba"].concat(this.value.toArray()):this.value instanceof Cc?this.value.serialize():this.value};var Fc=function(N){this.name=
"ExpressionEvaluationError";this.message=N};Fc.prototype.toJSON=function(){return this.message};var Mc={string:Ia,number:jb,boolean:Xb,object:Oa},Yc=function(N,ia){this.type=N;this.args=ia};Yc.parse=function(N,ia){if(2>N.length)return ia.error("Expected at least one argument.");var Pa=1,fb=N[0];if("array"===fb){if(2<N.length){fb=N[1];if("string"!==typeof fb||!(fb in Mc)||"object"===fb)return ia.error('The item type argument of "array" must be one of string, number, boolean',1);fb=Mc[fb];Pa++}else fb=
$a;if(3<N.length){if(null!==N[2]&&("number"!==typeof N[2]||0>N[2]||N[2]!==Math.floor(N[2])))return ia.error('The length argument to "array" must be a positive integer literal',2);var Jb=N[2];Pa++}Jb=x(fb,Jb)}else Jb=Mc[fb];for(fb=[];Pa<N.length;Pa++){var Rb=ia.parse(N[Pa],Pa,$a);if(!Rb)return null;fb.push(Rb)}return new Yc(Jb,fb)};Yc.prototype.evaluate=function(N){for(var ia=0;ia<this.args.length;ia++){var Pa=this.args[ia].evaluate(N);if(!H(this.type,ba(Pa)))return Pa;if(ia===this.args.length-1)throw new Fc("Expected value to be of type "+
q(this.type)+", but found "+q(ba(Pa))+" instead.");}return null};Yc.prototype.eachChild=function(N){this.args.forEach(N)};Yc.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})};Yc.prototype.serialize=function(){var N=this.type,ia=[N.kind];if("array"===N.kind){var Pa=N.itemType;if("string"===Pa.kind||"number"===Pa.kind||"boolean"===Pa.kind)ia.push(Pa.kind),N=N.N,("number"===typeof N||1<this.args.length)&&ia.push(N)}return ia.concat(this.args.map(function(fb){return fb.serialize()}))};
var mb=function(N){this.type=Cb;this.sections=N};mb.parse=function(N,ia){if(2>N.length)return ia.error("Expected at least one argument.");var Pa=N[1];if(!Array.isArray(Pa)&&"object"===typeof Pa)return ia.error("First argument must be an image or text section.");Pa=[];for(var fb=!1,Jb=1;Jb<=N.length-1;++Jb){var Rb=N[Jb];if(fb&&"object"===typeof Rb&&!Array.isArray(Rb)){fb=!1;var Hc=null;if(Rb["font-scale"]&&(Hc=ia.parse(Rb["font-scale"],1,jb),!Hc))return null;var Zc=null;if(Rb["text-font"]&&(Zc=ia.parse(Rb["text-font"],
1,x(Ia)),!Zc))return null;var ed=null;if(Rb["text-color"]&&(ed=ia.parse(Rb["text-color"],1,ha),!ed))return null;Rb=Pa[Pa.length-1];Rb.scale=Hc;Rb.font=Zc;Rb.textColor=ed}else{Hc=ia.parse(N[Jb],1,$a);if(!Hc)return null;fb=Hc.type.kind;if("string"!==fb&&"value"!==fb&&"null"!==fb&&"resolvedImage"!==fb)return ia.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");fb=!0;Pa.push({content:Hc,scale:null,font:null,textColor:null})}}return new mb(Pa)};mb.prototype.evaluate=function(N){return new Cc(this.sections.map(function(ia){var Pa=
ia.content.evaluate(N);return ba(Pa)===Wb?new Xc("",Pa,null,null,null):new Xc(aa(Pa),null,ia.scale?ia.scale.evaluate(N):null,ia.font?ia.font.evaluate(N).join(","):null,ia.textColor?ia.textColor.evaluate(N):null)}))};mb.prototype.eachChild=function(N){for(var ia=0,Pa=this.sections;ia<Pa.length;ia+=1){var fb=Pa[ia];N(fb.content);fb.scale&&N(fb.scale);fb.font&&N(fb.font);fb.textColor&&N(fb.textColor)}};mb.prototype.outputDefined=function(){return!1};mb.prototype.serialize=function(){for(var N=["format"],
ia=0,Pa=this.sections;ia<Pa.length;ia+=1){var fb=Pa[ia];N.push(fb.content.serialize());var Jb={};fb.scale&&(Jb["font-scale"]=fb.scale.serialize());fb.font&&(Jb["text-font"]=fb.font.serialize());fb.textColor&&(Jb["text-color"]=fb.textColor.serialize());N.push(Jb)}return N};var Gb=function(N){this.type=Wb;this.input=N};Gb.parse=function(N,ia){return 2!==N.length?ia.error("Expected two arguments."):(N=ia.parse(N[1],1,Ia))?new Gb(N):ia.error("No image name provided.")};Gb.prototype.evaluate=function(N){var ia=
this.input.evaluate(N),Pa=zc.fromString(ia);Pa&&N.availableImages&&(Pa.available=-1<N.availableImages.indexOf(ia));return Pa};Gb.prototype.eachChild=function(N){N(this.input)};Gb.prototype.outputDefined=function(){return!1};Gb.prototype.serialize=function(){return["image",this.input.serialize()]};var Pb={"to-boolean":Xb,"to-color":ha,"to-number":jb,"to-string":Ia},Vb=function(N,ia){this.type=N;this.args=ia};Vb.parse=function(N,ia){if(2>N.length)return ia.error("Expected at least one argument.");var Pa=
N[0];if(("to-boolean"===Pa||"to-string"===Pa)&&2!==N.length)return ia.error("Expected one argument.");Pa=Pb[Pa];for(var fb=[],Jb=1;Jb<N.length;Jb++){var Rb=ia.parse(N[Jb],Jb,$a);if(!Rb)return null;fb.push(Rb)}return new Vb(Pa,fb)};Vb.prototype.evaluate=function(N){if("boolean"===this.type.kind)return!!this.args[0].evaluate(N);if("color"===this.type.kind){for(var ia,Pa,fb=0,Jb=this.args;fb<Jb.length;fb+=1){ia=Jb[fb].evaluate(N);Pa=null;if(ia instanceof Qd)return ia;if("string"===typeof ia){var Rb=
N.parseColor(ia);if(Rb)return Rb}else if(Array.isArray(ia)&&(Pa=3>ia.length||4<ia.length?"Invalid rbga value "+JSON.stringify(ia)+": expected an array containing either three or four numeric values.":Z(ia[0],ia[1],ia[2],ia[3]),!Pa))return new Qd(ia[0]/255,ia[1]/255,ia[2]/255,ia[3])}throw new Fc(Pa||"Could not parse color from value '"+("string"===typeof ia?ia:String(JSON.stringify(ia)))+"'");}if("number"===this.type.kind){ia=null;Pa=0;for(fb=this.args;Pa<fb.length;Pa+=1){ia=fb[Pa].evaluate(N);if(null===
ia)return 0;Jb=Number(ia);if(!isNaN(Jb))return Jb}throw new Fc("Could not convert "+JSON.stringify(ia)+" to number.");}return"formatted"===this.type.kind?Cc.fromString(aa(this.args[0].evaluate(N))):"resolvedImage"===this.type.kind?zc.fromString(aa(this.args[0].evaluate(N))):aa(this.args[0].evaluate(N))};Vb.prototype.eachChild=function(N){this.args.forEach(N)};Vb.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})};Vb.prototype.serialize=function(){if("formatted"===
this.type.kind)return(new mb([{content:this.args[0],scale:null,font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new Gb(this.args[0])).serialize();var N=["to-"+this.type.kind];this.eachChild(function(ia){N.push(ia.serialize())});return N};var ma=["Unknown","Point","LineString","Polygon"],Ka=function(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.featureDistanceData=this.featureTileCoord=this.canonical=this.availableImages=
null};Ka.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null};Ka.prototype.geometryType=function(){return this.feature?"number"===typeof this.feature.type?ma[this.feature.type]:this.feature.type:null};Ka.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null};Ka.prototype.canonicalID=function(){return this.canonical};Ka.prototype.properties=function(){return this.feature&&this.feature.properties||{}};
Ka.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var N=this.featureDistanceData.center,ia=this.featureDistanceData.scale,Pa=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(Pa.x*ia-N[0])+this.featureDistanceData.bearing[1]*(Pa.y*ia-N[1])}return 0};Ka.prototype.parseColor=function(N){var ia=this._parseColorCache[N];ia||(ia=this._parseColorCache[N]=Qd.parse(N));return ia};var ib=function(N,ia,Pa,fb){this.name=N;this.type=ia;this._evaluate=
Pa;this.args=fb};ib.prototype.evaluate=function(N){return this._evaluate(N,this.args)};ib.prototype.eachChild=function(N){this.args.forEach(N)};ib.prototype.outputDefined=function(){return!1};ib.prototype.serialize=function(){return[this.name].concat(this.args.map(function(N){return N.serialize()}))};ib.parse=function(N,ia){var Pa,fb=N[0],Jb=ib.definitions[fb];if(!Jb)return ia.error('Unknown expression "'+fb+'". If you wanted a literal array, use ["literal", [...]].',0);var Rb=Array.isArray(Jb)?Jb[0]:
Jb.type;Jb=Array.isArray(Jb)?[[Jb[1],Jb[2]]]:Jb.overloads;for(var Hc=Jb.filter(function(fg){fg=fg[0];return!Array.isArray(fg)||fg.length===N.length-1}),Zc=null,ed=0;ed<Hc.length;ed+=1){Zc=Hc[ed];var pd=Zc[0],Vd=Zc[1];Zc=new kc(ia.registry,ia.path,null,ia.scope);for(var we=[],Ze=!1,rf=1;rf<N.length;rf++){var wg=N[rf],De=Array.isArray(pd)?pd[rf-1]:pd.type;wg=Zc.parse(wg,1+we.length,De);if(!wg){Ze=!0;break}we.push(wg)}if(!Ze)if(Array.isArray(pd)&&pd.length!==we.length)Zc.error("Expected "+pd.length+
" arguments, but found "+we.length+" instead.");else{for(Ze=0;Ze<we.length;Ze++)rf=Array.isArray(pd)?pd[Ze]:pd.type,wg=we[Ze],Zc.concat(Ze+1).checkSubtype(rf,wg.type);if(0===Zc.errors.length)return new ib(fb,Rb,Vd,we)}}if(1===Hc.length)(Pa=ia.errors).push.apply(Pa,Zc.errors);else{Pa=(Hc.length?Hc:Jb).map(function(fg){fg=fg[0];fg=Array.isArray(fg)?"("+fg.map(q).join(", ")+")":"("+q(fg.type)+"...)";return fg}).join(" | ");fb=[];for(Rb=1;Rb<N.length;Rb++){Jb=ia.parse(N[Rb],1+fb.length);if(!Jb)return null;
fb.push(q(Jb.type))}ia.error("Expected arguments of type "+Pa+", but found ("+fb.join(", ")+") instead.")}return null};ib.register=function(N,ia){ib.definitions=ia;for(var Pa in ia)N[Pa]=ib};var Eb=function(N,ia,Pa){this.type=ub;this.locale=Pa;this.caseSensitive=N;this.diacriticSensitive=ia};Eb.parse=function(N,ia){if(2!==N.length)return ia.error("Expected one argument.");N=N[1];if("object"!==typeof N||Array.isArray(N))return ia.error("Collator options argument must be an object.");var Pa=ia.parse(void 0===
N["case-sensitive"]?!1:N["case-sensitive"],1,Xb);if(!Pa)return null;var fb=ia.parse(void 0===N["diacritic-sensitive"]?!1:N["diacritic-sensitive"],1,Xb);if(!fb)return null;var Jb=null;return N.locale&&(Jb=ia.parse(N.locale,1,Ia),!Jb)?null:new Eb(Pa,fb,Jb)};Eb.prototype.evaluate=function(N){return new Uc(this.caseSensitive.evaluate(N),this.diacriticSensitive.evaluate(N),this.locale?this.locale.evaluate(N):null)};Eb.prototype.eachChild=function(N){N(this.caseSensitive);N(this.diacriticSensitive);this.locale&&
N(this.locale)};Eb.prototype.outputDefined=function(){return!1};Eb.prototype.serialize=function(){var N={};N["case-sensitive"]=this.caseSensitive.serialize();N["diacritic-sensitive"]=this.diacriticSensitive.serialize();this.locale&&(N.locale=this.locale.serialize());return["collator",N]};var Ib=function(N,ia){this.type=Xb;this.geojson=N;this.geometries=ia};Ib.parse=function(N,ia){if(2!==N.length)return ia.error("'within' expression requires exactly one argument, but found "+(N.length-1)+" instead.");
if(T(N[1]))if(N=N[1],"FeatureCollection"===N.type)for(var Pa=0;Pa<N.features.length;++Pa){var fb=N.features[Pa].geometry.type;if("Polygon"===fb||"MultiPolygon"===fb)return new Ib(N,N.features[Pa].geometry)}else if("Feature"===N.type){if(Pa=N.geometry.type,"Polygon"===Pa||"MultiPolygon"===Pa)return new Ib(N,N.geometry)}else if("Polygon"===N.type||"MultiPolygon"===N.type)return new Ib(N,N);return ia.error("'within' expression requires valid geojson object that contains polygon geometry type.")};Ib.prototype.evaluate=
function(N){if(null!=N.geometry()&&null!=N.canonicalID()){if("Point"===N.geometryType())return wa(N,this.geometries);if("LineString"===N.geometryType())return Ua(N,this.geometries)}return!1};Ib.prototype.eachChild=function(){};Ib.prototype.outputDefined=function(){return!0};Ib.prototype.serialize=function(){return["within",this.geojson]};var Nb=function(N,ia){this.type=ia.type;this.name=N;this.boundExpression=ia};Nb.parse=function(N,ia){if(2!==N.length||"string"!==typeof N[1])return ia.error("'var' expression requires exactly one string literal argument.");
N=N[1];return ia.scope.has(N)?new Nb(N,ia.scope.get(N)):ia.error('Unknown variable "'+N+'". Make sure "'+N+'" has been bound in an enclosing "let" expression before using it.',1)};Nb.prototype.evaluate=function(N){return this.boundExpression.evaluate(N)};Nb.prototype.eachChild=function(){};Nb.prototype.outputDefined=function(){return!1};Nb.prototype.serialize=function(){return["var",this.name]};var kc=function(N,ia,Pa,fb,Jb){void 0===ia&&(ia=[]);void 0===fb&&(fb=new cf);void 0===Jb&&(Jb=[]);this.registry=
N;this.path=ia;this.key=ia.map(function(Rb){return"["+Rb+"]"}).join("");this.scope=fb;this.errors=Jb;this.expectedType=Pa};kc.prototype.parse=function(N,ia,Pa,fb,Jb){void 0===Jb&&(Jb={});return ia?this.concat(ia,Pa,fb)._parse(N,Jb):this._parse(N,Jb)};kc.prototype._parse=function(N,ia){function Pa(Rb,Hc,Zc){return"assert"===Zc?new Yc(Hc,[Rb]):"coerce"===Zc?new Vb(Hc,[Rb]):Rb}if(null===N||"string"===typeof N||"boolean"===typeof N||"number"===typeof N)N=["literal",N];if(Array.isArray(N)){if(0===N.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');
var fb=N[0];if("string"!==typeof fb)return this.error("Expression name must be a string, but found "+typeof fb+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Jb=this.registry[fb];if(Jb){N=Jb.parse(N,this);if(!N)return null;if(this.expectedType)if(fb=this.expectedType,Jb=N.type,("string"===fb.kind||"number"===fb.kind||"boolean"===fb.kind||"object"===fb.kind||"array"===fb.kind)&&"value"===Jb.kind)N=Pa(N,fb,ia.typeAnnotation||"assert");else if(!("color"!==fb.kind&&"formatted"!==
fb.kind&&"resolvedImage"!==fb.kind||"value"!==Jb.kind&&"string"!==Jb.kind))N=Pa(N,fb,ia.typeAnnotation||"coerce");else if(this.checkSubtype(fb,Jb))return null;if(!(N instanceof oc)&&"resolvedImage"!==N.type.kind&&Da(N)){ia=new Ka;try{N=new oc(N.type,N.evaluate(ia))}catch(Rb){return this.error(Rb.message),null}}return N}return this.error('Unknown expression "'+fb+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof N?this.error("'undefined' value invalid. Use null instead."):
"object"===typeof N?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof N+" instead.")};kc.prototype.concat=function(N,ia,Pa){N="number"===typeof N?this.path.concat(N):this.path;Pa=Pa?this.scope.concat(Pa):this.scope;return new kc(this.registry,N,ia||null,Pa,this.errors)};kc.prototype.error=function(N){for(var ia=[],Pa=arguments.length-1;0<Pa--;)ia[Pa]=arguments[Pa+1];ia=""+this.key+ia.map(function(fb){return"["+fb+"]"}).join("");this.errors.push(new Qe(ia,
N))};kc.prototype.checkSubtype=function(N,ia){(N=H(N,ia))&&this.error(N);return N};var Kc=function(N,ia,Pa){this.type=N;this.input=ia;this.labels=[];this.outputs=[];for(N=0;N<Pa.length;N+=1){ia=Pa[N];var fb=ia[1];this.labels.push(ia[0]);this.outputs.push(fb)}};Kc.parse=function(N,ia){if(4>N.length-1)return ia.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if(0!==(N.length-1)%2)return ia.error("Expected an even number of arguments.");var Pa=ia.parse(N[1],1,jb);if(!Pa)return null;
var fb=[],Jb=null;ia.expectedType&&"value"!==ia.expectedType.kind&&(Jb=ia.expectedType);for(var Rb=1;Rb<N.length;Rb+=2){var Hc=1===Rb?-Infinity:N[Rb],Zc=N[Rb+1],ed=Rb,pd=Rb+1;if("number"!==typeof Hc)return ia.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ed);if(fb.length&&fb[fb.length-1][0]>=Hc)return ia.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',
ed);Zc=ia.parse(Zc,pd,Jb);if(!Zc)return null;Jb=Jb||Zc.type;fb.push([Hc,Zc])}return new Kc(Jb,Pa,fb)};Kc.prototype.evaluate=function(N){var ia=this.labels,Pa=this.outputs;if(1===ia.length)return Pa[0].evaluate(N);var fb=this.input.evaluate(N);if(fb<=ia[0])return Pa[0].evaluate(N);var Jb=ia.length;if(fb>=ia[Jb-1])return Pa[Jb-1].evaluate(N);ia=Ma(ia,fb);return Pa[ia].evaluate(N)};Kc.prototype.eachChild=function(N){N(this.input);for(var ia=0,Pa=this.outputs;ia<Pa.length;ia+=1)N(Pa[ia])};Kc.prototype.outputDefined=
function(){return this.outputs.every(function(N){return N.outputDefined()})};Kc.prototype.serialize=function(){for(var N=["step",this.input.serialize()],ia=0;ia<this.labels.length;ia++)0<ia&&N.push(this.labels[ia]),N.push(this.outputs[ia].serialize());return N};ua.prototype.sampleCurveX=function(N){return((this.ax*N+this.bx)*N+this.cx)*N};ua.prototype.sampleCurveY=function(N){return((this.ay*N+this.by)*N+this.cy)*N};ua.prototype.sampleCurveDerivativeX=function(N){return(3*this.ax*N+2*this.bx)*N+this.cx};
ua.prototype.solveCurveX=function(N,ia){"undefined"===typeof ia&&(ia=1E-6);var Pa;var fb=N;for(Pa=0;8>Pa;Pa++){var Jb=this.sampleCurveX(fb)-N;if(Math.abs(Jb)<ia)return fb;var Rb=this.sampleCurveDerivativeX(fb);if(1E-6>Math.abs(Rb))break;fb-=Jb/Rb}Pa=0;Rb=1;fb=N;if(fb<Pa)return Pa;if(fb>Rb)return Rb;for(;Pa<Rb;){Jb=this.sampleCurveX(fb);if(Math.abs(Jb-N)<ia)break;N>Jb?Pa=fb:Rb=fb;fb=.5*(Rb-Pa)+Pa}return fb};ua.prototype.solve=function(N,ia){return this.sampleCurveY(this.solveCurveX(N,ia))};var Bc=
Object.freeze({__proto__:null,number:Aa,color:function(N,ia,Pa){return new Qd(Aa(N.r,ia.r,Pa),Aa(N.g,ia.g,Pa),Aa(N.b,ia.b,Pa),Aa(N.a,ia.a,Pa))},array:function(N,ia,Pa){return N.map(function(fb,Jb){return Aa(fb,ia[Jb],Pa)})}}),wc=4/29,ld=6/29,wd=3*ld*ld,Fe=ld*ld*ld,Fd=Math.PI/180,he=180/Math.PI,se={forward:ta,reverse:Qa,interpolate:function(N,ia,Pa){return{l:Aa(N.l,ia.l,Pa),a:Aa(N.a,ia.a,Pa),b:Aa(N.b,ia.b,Pa),alpha:Aa(N.alpha,ia.alpha,Pa)}}},td={forward:function(N){var ia=ta(N),Pa=ia.a,fb=ia.b,Jb=
Math.atan2(fb,Pa)*he;return{h:0>Jb?Jb+360:Jb,c:Math.sqrt(Pa*Pa+fb*fb),l:ia.l,alpha:N.a}},reverse:function(N){var ia=N.h*Fd,Pa=N.c;return Qa({l:N.l,a:Math.cos(ia)*Pa,b:Math.sin(ia)*Pa,alpha:N.alpha})},interpolate:function(N,ia,Pa){var fb=N.h,Jb=ia.h-fb;return{h:fb+Pa*(180<Jb||-180>Jb?Jb-360*Math.round(Jb/360):Jb),c:Aa(N.c,ia.c,Pa),l:Aa(N.l,ia.l,Pa),alpha:Aa(N.alpha,ia.alpha,Pa)}}},Dd=function(N,ia,Pa,fb,Jb){this.type=N;this.operator=ia;this.interpolation=Pa;this.input=fb;this.labels=[];this.outputs=
[];for(N=0;N<Jb.length;N+=1)ia=Jb[N],Pa=ia[1],this.labels.push(ia[0]),this.outputs.push(Pa)};Dd.interpolationFactor=function(N,ia,Pa,fb){var Jb=0;"exponential"===N.name?Jb=oa(ia,N.base,Pa,fb):"linear"===N.name?Jb=oa(ia,1,Pa,fb):"cubic-bezier"===N.name&&(N=N.controlPoints,Jb=(new ua(N[0],N[1],N[2],N[3])).solve(oa(ia,1,Pa,fb)));return Jb};Dd.parse=function(N,ia){var Pa=N[0],fb=N[1],Jb=N[2],Rb=N.slice(3);if(!Array.isArray(fb)||0===fb.length)return ia.error("Expected an interpolation type expression.",
1);if("linear"===fb[0])fb={name:"linear"};else if("exponential"===fb[0]){fb=fb[1];if("number"!==typeof fb)return ia.error("Exponential interpolation requires a numeric base.",1,1);fb={name:"exponential",base:fb}}else if("cubic-bezier"===fb[0]){fb=fb.slice(1);if(4!==fb.length||fb.some(function(Ze){return"number"!==typeof Ze||0>Ze||1<Ze}))return ia.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);fb={name:"cubic-bezier",controlPoints:fb}}else return ia.error("Unknown interpolation type "+
String(fb[0]),1,0);if(4>N.length-1)return ia.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if(0!==(N.length-1)%2)return ia.error("Expected an even number of arguments.");Jb=ia.parse(Jb,2,jb);if(!Jb)return null;N=[];var Hc=null;"interpolate-hcl"===Pa||"interpolate-lab"===Pa?Hc=ha:ia.expectedType&&"value"!==ia.expectedType.kind&&(Hc=ia.expectedType);for(var Zc=0;Zc<Rb.length;Zc+=2){var ed=Rb[Zc],pd=Rb[Zc+1],Vd=Zc+3,we=Zc+4;if("number"!==typeof ed)return ia.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
Vd);if(N.length&&N[N.length-1][0]>=ed)return ia.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',Vd);pd=ia.parse(pd,we,Hc);if(!pd)return null;Hc=Hc||pd.type;N.push([ed,pd])}return"number"===Hc.kind||"color"===Hc.kind||"array"===Hc.kind&&"number"===Hc.itemType.kind&&"number"===typeof Hc.N?new Dd(Hc,Pa,fb,Jb,N):ia.error("Type "+q(Hc)+" is not interpolatable.")};Dd.prototype.evaluate=function(N){var ia=this.labels,Pa=this.outputs;
if(1===ia.length)return Pa[0].evaluate(N);var fb=this.input.evaluate(N);if(fb<=ia[0])return Pa[0].evaluate(N);var Jb=ia.length;if(fb>=ia[Jb-1])return Pa[Jb-1].evaluate(N);Jb=Ma(ia,fb);ia=Dd.interpolationFactor(this.interpolation,fb,ia[Jb],ia[Jb+1]);fb=Pa[Jb].evaluate(N);N=Pa[Jb+1].evaluate(N);return"interpolate"===this.operator?Bc[this.type.kind.toLowerCase()](fb,N,ia):"interpolate-hcl"===this.operator?td.reverse(td.interpolate(td.forward(fb),td.forward(N),ia)):se.reverse(se.interpolate(se.forward(fb),
se.forward(N),ia))};Dd.prototype.eachChild=function(N){N(this.input);for(var ia=0,Pa=this.outputs;ia<Pa.length;ia+=1)N(Pa[ia])};Dd.prototype.outputDefined=function(){return this.outputs.every(function(N){return N.outputDefined()})};Dd.prototype.serialize=function(){var N="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);N=[this.operator,
N,this.input.serialize()];for(var ia=0;ia<this.labels.length;ia++)N.push(this.labels[ia],this.outputs[ia].serialize());return N};var fe=function(N,ia){this.type=N;this.args=ia};fe.parse=function(N,ia){if(2>N.length)return ia.error("Expectected at least one argument.");var Pa=null,fb=ia.expectedType;fb&&"value"!==fb.kind&&(Pa=fb);var Jb=[],Rb=0;for(N=N.slice(1);Rb<N.length;Rb+=1){var Hc=ia.parse(N[Rb],1+Jb.length,Pa,void 0,{typeAnnotation:"omit"});if(!Hc)return null;Pa=Pa||Hc.type;Jb.push(Hc)}return fb&&
Jb.some(function(Zc){return H(fb,Zc.type)})?new fe($a,Jb):new fe(Pa,Jb)};fe.prototype.evaluate=function(N){for(var ia=null,Pa=0,fb,Jb=0,Rb=this.args;Jb<Rb.length;Jb+=1){ia=Rb[Jb];Pa++;if((ia=ia.evaluate(N))&&ia instanceof zc&&!ia.available&&(fb||(fb=ia),ia=null,Pa===this.args.length))return fb;if(null!==ia)break}return ia};fe.prototype.eachChild=function(N){this.args.forEach(N)};fe.prototype.outputDefined=function(){return this.args.every(function(N){return N.outputDefined()})};fe.prototype.serialize=
function(){var N=["coalesce"];this.eachChild(function(ia){N.push(ia.serialize())});return N};var qe=function(N,ia){this.type=ia.type;this.bindings=[].concat(N);this.result=ia};qe.prototype.evaluate=function(N){return this.result.evaluate(N)};qe.prototype.eachChild=function(N){for(var ia=0,Pa=this.bindings;ia<Pa.length;ia+=1)N(Pa[ia][1]);N(this.result)};qe.parse=function(N,ia){if(4>N.length)return ia.error("Expected at least 3 arguments, but found "+(N.length-1)+" instead.");for(var Pa=[],fb=1;fb<
N.length-1;fb+=2){var Jb=N[fb];if("string"!==typeof Jb)return ia.error("Expected string, but found "+typeof Jb+" instead.",fb);if(/[^a-zA-Z0-9_]/.test(Jb))return ia.error("Variable names must contain only alphanumeric characters or '_'.",fb);var Rb=ia.parse(N[fb+1],fb+1);if(!Rb)return null;Pa.push([Jb,Rb])}return(N=ia.parse(N[N.length-1],N.length-1,ia.expectedType,Pa))?new qe(Pa,N):null};qe.prototype.outputDefined=function(){return this.result.outputDefined()};qe.prototype.serialize=function(){for(var N=
["let"],ia=0,Pa=this.bindings;ia<Pa.length;ia+=1){var fb=Pa[ia];N.push(fb[0],fb[1].serialize())}N.push(this.result.serialize());return N};var Ad=function(N,ia,Pa){this.type=N;this.index=ia;this.input=Pa};Ad.parse=function(N,ia){if(3!==N.length)return ia.error("Expected 2 arguments, but found "+(N.length-1)+" instead.");var Pa=ia.parse(N[1],1,jb);N=ia.parse(N[2],2,x(ia.expectedType||$a));return Pa&&N?new Ad(N.type.itemType,Pa,N):null};Ad.prototype.evaluate=function(N){var ia=this.index.evaluate(N);
N=this.input.evaluate(N);if(0>ia)throw new Fc("Array index out of bounds: "+ia+" \x3c 0.");if(ia>=N.length)throw new Fc("Array index out of bounds: "+ia+" \x3e "+(N.length-1)+".");if(ia!==Math.floor(ia))throw new Fc("Array index must be an integer, but found "+ia+" instead.");return N[ia]};Ad.prototype.eachChild=function(N){N(this.index);N(this.input)};Ad.prototype.outputDefined=function(){return!1};Ad.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var We=
function(N,ia){this.type=Xb;this.needle=N;this.haystack=ia};We.parse=function(N,ia){if(3!==N.length)return ia.error("Expected 2 arguments, but found "+(N.length-1)+" instead.");var Pa=ia.parse(N[1],1,$a);N=ia.parse(N[2],2,$a);return Pa&&N?M(Pa.type,[Xb,Ia,jb,ra,$a])?new We(Pa,N):ia.error("Expected first argument to be of type boolean, string, number or null, but found "+q(Pa.type)+" instead"):null};We.prototype.evaluate=function(N){var ia=this.needle.evaluate(N);N=this.haystack.evaluate(N);if(null==
N)return!1;if(!R(ia,["boolean","string","number","null"]))throw new Fc("Expected first argument to be of type boolean, string, number or null, but found "+q(ba(ia))+" instead.");if(!R(N,["string","array"]))throw new Fc("Expected second argument to be of type array or string, but found "+q(ba(N))+" instead.");return 0<=N.indexOf(ia)};We.prototype.eachChild=function(N){N(this.needle);N(this.haystack)};We.prototype.outputDefined=function(){return!0};We.prototype.serialize=function(){return["in",this.needle.serialize(),
this.haystack.serialize()]};var Se=function(N,ia,Pa){this.type=jb;this.needle=N;this.haystack=ia;this.fromIndex=Pa};Se.parse=function(N,ia){if(2>=N.length||5<=N.length)return ia.error("Expected 3 or 4 arguments, but found "+(N.length-1)+" instead.");var Pa=ia.parse(N[1],1,$a),fb=ia.parse(N[2],2,$a);return Pa&&fb?M(Pa.type,[Xb,Ia,jb,ra,$a])?4===N.length?(N=ia.parse(N[3],3,jb))?new Se(Pa,fb,N):null:new Se(Pa,fb):ia.error("Expected first argument to be of type boolean, string, number or null, but found "+
q(Pa.type)+" instead"):null};Se.prototype.evaluate=function(N){var ia=this.needle.evaluate(N),Pa=this.haystack.evaluate(N);if(!R(ia,["boolean","string","number","null"]))throw new Fc("Expected first argument to be of type boolean, string, number or null, but found "+q(ba(ia))+" instead.");if(!R(Pa,["string","array"]))throw new Fc("Expected second argument to be of type array or string, but found "+q(ba(Pa))+" instead.");return this.fromIndex?(N=this.fromIndex.evaluate(N),Pa.indexOf(ia,N)):Pa.indexOf(ia)};
Se.prototype.eachChild=function(N){N(this.needle);N(this.haystack);this.fromIndex&&N(this.fromIndex)};Se.prototype.outputDefined=function(){return!1};Se.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var N=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),N]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var hf=function(N,ia,Pa,fb,Jb,Rb){this.inputType=N;this.type=ia;this.input=Pa;this.cases=fb;this.outputs=
Jb;this.otherwise=Rb};hf.parse=function(N,ia){if(5>N.length)return ia.error("Expected at least 4 arguments, but found only "+(N.length-1)+".");if(1!==N.length%2)return ia.error("Expected an even number of arguments.");if(ia.expectedType&&"value"!==ia.expectedType.kind)var Pa=ia.expectedType;for(var fb={},Jb=[],Rb=2;Rb<N.length-1;Rb+=2){var Hc=N[Rb],Zc=N[Rb+1];Array.isArray(Hc)||(Hc=[Hc]);var ed=ia.concat(Rb);if(0===Hc.length)return ed.error("Expected at least one branch label.");for(var pd=0;pd<Hc.length;pd+=
1){var Vd=Hc[pd];if("number"!==typeof Vd&&"string"!==typeof Vd)return ed.error("Branch labels must be numbers or strings.");if("number"===typeof Vd&&Math.abs(Vd)>Number.MAX_SAFE_INTEGER)return ed.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof Vd&&Math.floor(Vd)!==Vd)return ed.error("Numeric branch labels must be integer values.");if(!we)var we=ba(Vd);else if(ed.checkSubtype(we,ba(Vd)))return null;if("undefined"!==typeof fb[String(Vd)])return ed.error("Branch labels must be unique.");
fb[String(Vd)]=Jb.length}Zc=ia.parse(Zc,Rb,Pa);if(!Zc)return null;Pa=Pa||Zc.type;Jb.push(Zc)}Rb=ia.parse(N[1],1,$a);if(!Rb)return null;N=ia.parse(N[N.length-1],N.length-1,Pa);return!N||"value"!==Rb.type.kind&&ia.concat(1).checkSubtype(we,Rb.type)?null:new hf(we,Pa,Rb,fb,Jb,N)};hf.prototype.evaluate=function(N){var ia=this.input.evaluate(N);return(ba(ia)===this.inputType&&this.outputs[this.cases[ia]]||this.otherwise).evaluate(N)};hf.prototype.eachChild=function(N){N(this.input);this.outputs.forEach(N);
N(this.otherwise)};hf.prototype.outputDefined=function(){return this.outputs.every(function(N){return N.outputDefined()})&&this.otherwise.outputDefined()};hf.prototype.serialize=function(){for(var N=this,ia=["match",this.input.serialize()],Pa=[],fb={},Jb=0,Rb=Object.keys(this.cases).sort();Jb<Rb.length;Jb+=1){var Hc=Rb[Jb],Zc=fb[this.cases[Hc]];void 0===Zc?(fb[this.cases[Hc]]=Pa.length,Pa.push([this.cases[Hc],[Hc]])):Pa[Zc][1].push(Hc)}fb=function(ed){return"number"===N.inputType.kind?Number(ed):
ed};for(Jb=0;Jb<Pa.length;Jb+=1)Rb=Pa[Jb],Zc=Rb[0],Zc=Rb[1],1===Zc.length?ia.push(fb(Zc[0])):ia.push(Zc.map(fb)),ia.push(this.outputs[outputIndex$1].serialize());ia.push(this.otherwise.serialize());return ia};var Bf=function(N,ia,Pa){this.type=N;this.branches=ia;this.otherwise=Pa};Bf.parse=function(N,ia){if(4>N.length)return ia.error("Expected at least 3 arguments, but found only "+(N.length-1)+".");if(0!==N.length%2)return ia.error("Expected an odd number of arguments.");if(ia.expectedType&&"value"!==
ia.expectedType.kind)var Pa=ia.expectedType;for(var fb=[],Jb=1;Jb<N.length-1;Jb+=2){var Rb=ia.parse(N[Jb],Jb,Xb);if(!Rb)return null;var Hc=ia.parse(N[Jb+1],Jb+1,Pa);if(!Hc)return null;fb.push([Rb,Hc]);Pa=Pa||Hc.type}return(N=ia.parse(N[N.length-1],N.length-1,Pa))?new Bf(Pa,fb,N):null};Bf.prototype.evaluate=function(N){for(var ia=0,Pa=this.branches;ia<Pa.length;ia+=1){var fb=Pa[ia],Jb=fb[1];if(fb[0].evaluate(N))return Jb.evaluate(N)}return this.otherwise.evaluate(N)};Bf.prototype.eachChild=function(N){for(var ia=
0,Pa=this.branches;ia<Pa.length;ia+=1){var fb=Pa[ia],Jb=fb[1];N(fb[0]);N(Jb)}N(this.otherwise)};Bf.prototype.outputDefined=function(){return this.branches.every(function(N){N[0];return N[1].outputDefined()})&&this.otherwise.outputDefined()};Bf.prototype.serialize=function(){var N=["case"];this.eachChild(function(ia){N.push(ia.serialize())});return N};var Cf=function(N,ia,Pa,fb){this.type=N;this.input=ia;this.beginIndex=Pa;this.endIndex=fb};Cf.parse=function(N,ia){if(2>=N.length||5<=N.length)return ia.error("Expected 3 or 4 arguments, but found "+
(N.length-1)+" instead.");var Pa=ia.parse(N[1],1,$a),fb=ia.parse(N[2],2,jb);return Pa&&fb?M(Pa.type,[x($a),Ia,$a])?4===N.length?(N=ia.parse(N[3],3,jb))?new Cf(Pa.type,Pa,fb,N):null:new Cf(Pa.type,Pa,fb):ia.error("Expected first argument to be of type array or string, but found "+q(Pa.type)+" instead"):null};Cf.prototype.evaluate=function(N){var ia=this.input.evaluate(N),Pa=this.beginIndex.evaluate(N);if(!R(ia,["string","array"]))throw new Fc("Expected first argument to be of type array or string, but found "+
q(ba(ia))+" instead.");return this.endIndex?(N=this.endIndex.evaluate(N),ia.slice(Pa,N)):ia.slice(Pa)};Cf.prototype.eachChild=function(N){N(this.input);N(this.beginIndex);this.endIndex&&N(this.endIndex)};Cf.prototype.outputDefined=function(){return!1};Cf.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var N=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),N]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};
var Vg=Ga("\x3d\x3d",function(N,ia,Pa){return ia===Pa},ja),Yd=Ga("!\x3d",function(N,ia,Pa){return ia!==Pa},function(N,ia,Pa,fb){return!ja(N,ia,Pa,fb)}),Ie=Ga("\x3c",function(N,ia,Pa){return ia<Pa},function(N,ia,Pa,fb){return 0>fb.compare(ia,Pa)}),qg=Ga("\x3e",function(N,ia,Pa){return ia>Pa},function(N,ia,Pa,fb){return 0<fb.compare(ia,Pa)}),ug=Ga("\x3c\x3d",function(N,ia,Pa){return ia<=Pa},function(N,ia,Pa,fb){return 0>=fb.compare(ia,Pa)}),Zg=Ga("\x3e\x3d",function(N,ia,Pa){return ia>=Pa},function(N,
ia,Pa,fb){return 0<=fb.compare(ia,Pa)}),cg=function(N,ia,Pa,fb,Jb){this.type=Ia;this.number=N;this.locale=ia;this.currency=Pa;this.minFractionDigits=fb;this.maxFractionDigits=Jb};cg.parse=function(N,ia){if(3!==N.length)return ia.error("Expected two arguments.");var Pa=ia.parse(N[1],1,jb);if(!Pa)return null;N=N[2];if("object"!==typeof N||Array.isArray(N))return ia.error("NumberFormat options argument must be an object.");var fb=null;if(N.locale&&(fb=ia.parse(N.locale,1,Ia),!fb))return null;var Jb=
null;if(N.currency&&(Jb=ia.parse(N.currency,1,Ia),!Jb))return null;var Rb=null;if(N["min-fraction-digits"]&&(Rb=ia.parse(N["min-fraction-digits"],1,jb),!Rb))return null;var Hc=null;return N["max-fraction-digits"]&&(Hc=ia.parse(N["max-fraction-digits"],1,jb),!Hc)?null:new cg(Pa,fb,Jb,Rb,Hc)};cg.prototype.evaluate=function(N){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(N):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(N):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(N):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(N):void 0})).format(this.number.evaluate(N))};cg.prototype.eachChild=function(N){N(this.number);this.locale&&N(this.locale);this.currency&&N(this.currency);this.minFractionDigits&&N(this.minFractionDigits);this.maxFractionDigits&&N(this.maxFractionDigits)};cg.prototype.outputDefined=function(){return!1};cg.prototype.serialize=function(){var N={};this.locale&&(N.locale=this.locale.serialize());
this.currency&&(N.currency=this.currency.serialize());this.minFractionDigits&&(N["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(N["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),N]};var Eg=function(N){this.type=jb;this.input=N};Eg.parse=function(N,ia){return 2!==N.length?ia.error("Expected 1 argument, but found "+(N.length-1)+" instead."):(N=ia.parse(N[1],1))?"array"!==N.type.kind&&"string"!==N.type.kind&&
"value"!==N.type.kind?ia.error("Expected argument of type string or array, but found "+q(N.type)+" instead."):new Eg(N):null};Eg.prototype.evaluate=function(N){N=this.input.evaluate(N);if("string"===typeof N||Array.isArray(N))return N.length;throw new Fc("Expected value to be of type string or array, but found "+q(ba(N))+" instead.");};Eg.prototype.eachChild=function(N){N(this.input)};Eg.prototype.outputDefined=function(){return!1};Eg.prototype.serialize=function(){var N=["length"];this.eachChild(function(ia){N.push(ia.serialize())});
return N};var Ag={"\x3d\x3d":Vg,"!\x3d":Yd,"\x3e":qg,"\x3c":Ie,"\x3e\x3d":Zg,"\x3c\x3d":ug,array:Yc,at:Ad,"boolean":Yc,"case":Bf,coalesce:fe,collator:Eb,format:mb,image:Gb,"in":We,"index-of":Se,interpolate:Dd,"interpolate-hcl":Dd,"interpolate-lab":Dd,length:Eg,let:qe,literal:oc,match:hf,number:Yc,"number-format":cg,object:Yc,slice:Cf,step:Kc,string:Yc,"to-boolean":Vb,"to-color":Vb,"to-number":Vb,"to-string":Vb,"var":Nb,within:Ib};ib.register(Ag,{error:[{kind:"error"},[Ia],function(N,ia){throw new Fc(ia[0].evaluate(N));
}],"typeof":[Ia,[$a],function(N,ia){return q(ba(ia[0].evaluate(N)))}],"to-rgba":[x(jb,4),[ha],function(N,ia){return ia[0].evaluate(N).toArray()}],rgb:[ha,[jb,jb,jb],Wa],rgba:[ha,[jb,jb,jb,jb],Wa],has:{type:Xb,overloads:[[[Ia],function(N,ia){ia=ia[0].evaluate(N);N=N.properties();return ia in N}],[[Ia,Oa],function(N,ia){var Pa=ia[1];ia=ia[0].evaluate(N);N=Pa.evaluate(N);return ia in N}]]},get:{type:$a,overloads:[[[Ia],function(N,ia){return cb(ia[0].evaluate(N),N.properties())}],[[Ia,Oa],function(N,
ia){var Pa=ia[1];return cb(ia[0].evaluate(N),Pa.evaluate(N))}]]},"feature-state":[$a,[Ia],function(N,ia){return cb(ia[0].evaluate(N),N.featureState||{})}],properties:[Oa,[],function(N){return N.properties()}],"geometry-type":[Ia,[],function(N){return N.geometryType()}],id:[$a,[],function(N){return N.id()}],zoom:[jb,[],function(N){return N.globals.zoom}],pitch:[jb,[],function(N){return N.globals.pitch||0}],"distance-from-center":[jb,[],function(N){return N.distanceFromCenter()}],"heatmap-density":[jb,
[],function(N){return N.globals.heatmapDensity||0}],"line-progress":[jb,[],function(N){return N.globals.lineProgress||0}],"sky-radial-progress":[jb,[],function(N){return N.globals.skyRadialProgress||0}],accumulated:[$a,[],function(N){return void 0===N.globals.accumulated?null:N.globals.accumulated}],"+":[jb,{type:jb},function(N,ia){for(var Pa=0,fb=0;fb<ia.length;fb+=1)Pa+=ia[fb].evaluate(N);return Pa}],"*":[jb,{type:jb},function(N,ia){for(var Pa=1,fb=0;fb<ia.length;fb+=1)Pa*=ia[fb].evaluate(N);return Pa}],
"-":{type:jb,overloads:[[[jb,jb],function(N,ia){var Pa=ia[1];return ia[0].evaluate(N)-Pa.evaluate(N)}],[[jb],function(N,ia){return-ia[0].evaluate(N)}]]},"/":[jb,[jb,jb],function(N,ia){var Pa=ia[1];return ia[0].evaluate(N)/Pa.evaluate(N)}],"%":[jb,[jb,jb],function(N,ia){var Pa=ia[1];return ia[0].evaluate(N)%Pa.evaluate(N)}],ln2:[jb,[],function(){return Math.LN2}],pi:[jb,[],function(){return Math.PI}],e:[jb,[],function(){return Math.E}],"^":[jb,[jb,jb],function(N,ia){var Pa=ia[1];return Math.pow(ia[0].evaluate(N),
Pa.evaluate(N))}],sqrt:[jb,[jb],function(N,ia){return Math.sqrt(ia[0].evaluate(N))}],log10:[jb,[jb],function(N,ia){return Math.log(ia[0].evaluate(N))/Math.LN10}],ln:[jb,[jb],function(N,ia){return Math.log(ia[0].evaluate(N))}],log2:[jb,[jb],function(N,ia){return Math.log(ia[0].evaluate(N))/Math.LN2}],sin:[jb,[jb],function(N,ia){return Math.sin(ia[0].evaluate(N))}],cos:[jb,[jb],function(N,ia){return Math.cos(ia[0].evaluate(N))}],tan:[jb,[jb],function(N,ia){return Math.tan(ia[0].evaluate(N))}],asin:[jb,
[jb],function(N,ia){return Math.asin(ia[0].evaluate(N))}],acos:[jb,[jb],function(N,ia){return Math.acos(ia[0].evaluate(N))}],atan:[jb,[jb],function(N,ia){return Math.atan(ia[0].evaluate(N))}],min:[jb,{type:jb},function(N,ia){return Math.min.apply(Math,ia.map(function(Pa){return Pa.evaluate(N)}))}],max:[jb,{type:jb},function(N,ia){return Math.max.apply(Math,ia.map(function(Pa){return Pa.evaluate(N)}))}],abs:[jb,[jb],function(N,ia){return Math.abs(ia[0].evaluate(N))}],round:[jb,[jb],function(N,ia){N=
ia[0].evaluate(N);return 0>N?-Math.round(-N):Math.round(N)}],floor:[jb,[jb],function(N,ia){return Math.floor(ia[0].evaluate(N))}],ceil:[jb,[jb],function(N,ia){return Math.ceil(ia[0].evaluate(N))}],"filter-\x3d\x3d":[Xb,[Ia,$a],function(N,ia){var Pa=ia[0];ia=ia[1];return N.properties()[Pa.value]===ia.value}],"filter-id-\x3d\x3d":[Xb,[$a],function(N,ia){ia=ia[0];return N.id()===ia.value}],"filter-type-\x3d\x3d":[Xb,[Ia],function(N,ia){ia=ia[0];return N.geometryType()===ia.value}],"filter-\x3c":[Xb,
[Ia,$a],function(N,ia){var Pa=ia[0];ia=ia[1];N=N.properties()[Pa.value];Pa=ia.value;return typeof N===typeof Pa&&N<Pa}],"filter-id-\x3c":[Xb,[$a],function(N,ia){ia=ia[0];N=N.id();ia=ia.value;return typeof N===typeof ia&&N<ia}],"filter-\x3e":[Xb,[Ia,$a],function(N,ia){var Pa=ia[0];ia=ia[1];N=N.properties()[Pa.value];Pa=ia.value;return typeof N===typeof Pa&&N>Pa}],"filter-id-\x3e":[Xb,[$a],function(N,ia){ia=ia[0];N=N.id();ia=ia.value;return typeof N===typeof ia&&N>ia}],"filter-\x3c\x3d":[Xb,[Ia,$a],
function(N,ia){var Pa=ia[0];ia=ia[1];N=N.properties()[Pa.value];Pa=ia.value;return typeof N===typeof Pa&&N<=Pa}],"filter-id-\x3c\x3d":[Xb,[$a],function(N,ia){ia=ia[0];N=N.id();ia=ia.value;return typeof N===typeof ia&&N<=ia}],"filter-\x3e\x3d":[Xb,[Ia,$a],function(N,ia){var Pa=ia[0];ia=ia[1];N=N.properties()[Pa.value];Pa=ia.value;return typeof N===typeof Pa&&N>=Pa}],"filter-id-\x3e\x3d":[Xb,[$a],function(N,ia){ia=ia[0];N=N.id();ia=ia.value;return typeof N===typeof ia&&N>=ia}],"filter-has":[Xb,[$a],
function(N,ia){return ia[0].value in N.properties()}],"filter-has-id":[Xb,[],function(N){return null!==N.id()&&void 0!==N.id()}],"filter-type-in":[Xb,[x(Ia)],function(N,ia){return 0<=ia[0].value.indexOf(N.geometryType())}],"filter-id-in":[Xb,[x($a)],function(N,ia){return 0<=ia[0].value.indexOf(N.id())}],"filter-in-small":[Xb,[Ia,x($a)],function(N,ia){var Pa=ia[0];return 0<=ia[1].value.indexOf(N.properties()[Pa.value])}],"filter-in-large":[Xb,[Ia,x($a)],function(N,ia){var Pa=ia[0];ia=ia[1];a:{N=N.properties()[Pa.value];
Pa=ia.value;var fb=0;for(ia=ia.value.length-1;fb<=ia;){var Jb=fb+ia>>1;if(Pa[Jb]===N){ia=!0;break a}Pa[Jb]>N?ia=Jb-1:fb=Jb+1}ia=!1}return ia}],all:{type:Xb,overloads:[[[Xb,Xb],function(N,ia){var Pa=ia[1];return ia[0].evaluate(N)&&Pa.evaluate(N)}],[{type:Xb},function(N,ia){for(var Pa=0;Pa<ia.length;Pa+=1)if(!ia[Pa].evaluate(N))return!1;return!0}]]},any:{type:Xb,overloads:[[[Xb,Xb],function(N,ia){var Pa=ia[1];return ia[0].evaluate(N)||Pa.evaluate(N)}],[{type:Xb},function(N,ia){for(var Pa=0;Pa<ia.length;Pa+=
1)if(ia[Pa].evaluate(N))return!0;return!1}]]},"!":[Xb,[Xb],function(N,ia){return!ia[0].evaluate(N)}],"is-supported-script":[Xb,[Ia],function(N,ia){ia=ia[0];var Pa=N.globals&&N.globals.isSupportedScript;return Pa?Pa(ia.evaluate(N)):!0}],upcase:[Ia,[Ia],function(N,ia){return ia[0].evaluate(N).toUpperCase()}],downcase:[Ia,[Ia],function(N,ia){return ia[0].evaluate(N).toLowerCase()}],concat:[Ia,{type:$a},function(N,ia){return ia.map(function(Pa){return aa(Pa.evaluate(N))}).join("")}],"resolved-locale":[Ia,
[ub],function(N,ia){return ia[0].evaluate(N).resolvedLocale()}]});var dg=function(N,ia){this.expression=N;this._warningHistory={};this._evaluator=new Ka;this._defaultValue=ia?"color"===ia.type&&(Fb(ia.default)||Array.isArray(ia.default))?new Qd(0,0,0,0):"color"===ia.type?Qd.parse(ia.default)||null:void 0===ia.default?null:ia.default:null;this._enumValues=ia&&"enum"===ia.type?ia.values:null};dg.prototype.evaluateWithoutErrorHandling=function(N,ia,Pa,fb,Jb,Rb,Hc,Zc){this._evaluator.globals=N;this._evaluator.feature=
ia;this._evaluator.featureState=Pa;this._evaluator.canonical=fb||null;this._evaluator.availableImages=Jb||null;this._evaluator.formattedSection=Rb;this._evaluator.featureTileCoord=Hc||null;this._evaluator.featureDistanceData=Zc||null;return this.expression.evaluate(this._evaluator)};dg.prototype.evaluate=function(N,ia,Pa,fb,Jb,Rb,Hc,Zc){this._evaluator.globals=N;this._evaluator.feature=ia||null;this._evaluator.featureState=Pa||null;this._evaluator.canonical=fb||null;this._evaluator.availableImages=
Jb||null;this._evaluator.formattedSection=Rb||null;this._evaluator.featureTileCoord=Hc||null;this._evaluator.featureDistanceData=Zc||null;try{var ed=this.expression.evaluate(this._evaluator);if(null===ed||void 0===ed||"number"===typeof ed&&ed!==ed)return this._defaultValue;if(this._enumValues&&!(ed in this._enumValues))throw new Fc("Expected value to be one of "+Object.keys(this._enumValues).map(function(pd){return JSON.stringify(pd)}).join(", ")+", but found "+JSON.stringify(ed)+" instead.");return ed}catch(pd){return this._warningHistory[pd.message]||
(this._warningHistory[pd.message]=!0,"undefined"!==typeof console&&console.warn(pd.message)),this._defaultValue}};var Rf=function(N,ia){this.kind=N;this._styleExpression=ia;this.isStateDependent="constant"!==N&&!La(ia.expression)};Rf.prototype.evaluateWithoutErrorHandling=function(N,ia,Pa,fb,Jb,Rb){return this._styleExpression.evaluateWithoutErrorHandling(N,ia,Pa,fb,Jb,Rb)};Rf.prototype.evaluate=function(N,ia,Pa,fb,Jb,Rb){return this._styleExpression.evaluate(N,ia,Pa,fb,Jb,Rb)};var Jf=function(N,
ia,Pa,fb){this.kind=N;this.zoomStops=Pa;this._styleExpression=ia;this.isStateDependent="camera"!==N&&!La(ia.expression);this.interpolationType=fb};Jf.prototype.evaluateWithoutErrorHandling=function(N,ia,Pa,fb,Jb,Rb){return this._styleExpression.evaluateWithoutErrorHandling(N,ia,Pa,fb,Jb,Rb)};Jf.prototype.evaluate=function(N,ia,Pa,fb,Jb,Rb){return this._styleExpression.evaluate(N,ia,Pa,fb,Jb,Rb)};Jf.prototype.interpolationFactor=function(N,ia,Pa){return this.interpolationType?Dd.interpolationFactor(this.interpolationType,
N,ia,Pa):0};var eg={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},
layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number",
"default":22},attribution:{type:"string"},promoteId:{type:"promoteId"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},
"default":"xyz"},attribution:{type:"string"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},
mapbox:{}},"default":"mapbox"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},attribution:{type:"string"},buffer:{type:"number","default":128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},
clusterProperties:{type:"*"},lineMetrics:{type:"boolean","default":!1},generateId:{type:"boolean","default":!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",
length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),
layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},
"default":"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",
"default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},"default":"auto",
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},
width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom",
"feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},
{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},
viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,
requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},
"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},
requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,
requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],
expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",
expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom",
"feature"]}},"filter_fill-extrusion":{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"\x3d\x3d":{},"!\x3d":{},"\x3e":{},"\x3e\x3d":{},"\x3c":{},"\x3c\x3d":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",
values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],
length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},"in":{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},
"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},"boolean":{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},
get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},
"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"\x3d\x3d":{group:"Decision"},"!\x3d":{group:"Decision"},"\x3e":{group:"Decision"},"\x3c":{group:"Decision"},"\x3e\x3d":{group:"Decision"},
"\x3c\x3d":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array","default":[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",
"default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant","default":"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant","default":["interpolate",
["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",
"default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},
lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},"default":"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",
required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},
"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},
"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",
has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,"default":[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,
transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},
"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",
"default":"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},
nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",
values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",
transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},"default":"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,
0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},
"sky-atmosphere-halo-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,
units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},Mf=new Set("in \x3d\x3d !\x3d \x3e \x3e\x3d \x3c \x3c\x3d to-boolean".split(" ")),jg="type source source-layer minzoom maxzoom filter layout".split(" "),
oh={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},th=/(italic|oblique)$/i,Fg={},vg=function(N,ia,Pa){var fb=Fg[N];if(!fb){Array.isArray(N)||(N=[N]);fb=400;for(var Jb="normal",Rb=[],Hc=0,Zc=N.length;Hc<Zc;++Hc){var ed=N[Hc].split(" "),
pd=ed[ed.length-1].toLowerCase();"normal"==pd||"italic"==pd||"oblique"==pd?(Jb=pd,ed.pop(),pd=ed[ed.length-1].toLowerCase()):th.test(pd)&&(pd=pd.replace(th,""),Jb=ed[ed.length-1].replace(pd,""));for(var Vd in oh){var we=1<ed.length?ed[ed.length-2].toLowerCase():"";if(pd==Vd||pd==Vd.replace("-","")||we+"-"+pd==Vd){fb=oh[Vd];ed.pop();we&&Vd.startsWith(we)&&ed.pop();break}}"number"==typeof pd&&(fb=pd);ed=ed.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==ed.indexOf(" ")&&(ed='"'+ed+'"');Rb.push(ed)}fb=
Fg[N]=[Jb,fb,Rb]}return fb[0]+" "+fb[1]+" "+ia+"px"+(Pa?"/"+Pa:"")+" "+fb[2]},vh="https://api.mapbox.com",Za=function(){for(var N=[],ia=78271.51696402048;24>=N.length;ia/=2)N.push(ia);return N}(),Db={},ic={},ud=Array(256).join(""),yd,be={},df=/font-family: ?([^;]*);/,tf=/("|')/g,Gg,Nf={},qh={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},xh={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,
1]},$g=function(N,ia){N=Ac(N,ia);if("error"===N.result)throw Error(N.value.map(function(Pa){return Pa.key+": "+Pa.message}).join(", "));return N.value},Wg={},Og={zoom:0},kh,ah,Xh=!1,ph=/\{[^{}}]*\}/g,og=!1,Kh={},Ph=new Bd.default};
shadow$provide[373]=function(sa,F,ob,G){function y(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(78));var p=y(F(82)),n=y(F(366));ob=y(F(369));var v=y(F(345)),r=F(372),h=function(){var f=function(e,d){f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])};return f(e,d)};return function(e,d){function a(){this.constructor=
e}if("function"!==typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");f(e,d);e.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}}(),k=function(f){function e(d){var a=f.call(this,p.default.ERROR)||this;a.error=d;return a}h(e,f);return e}(sa.default);F=function(f){function e(d){var a=this,c="declutter"in d?d.declutter:!0,b=new v.default({state:"loading",format:new n.default});a=f.call(this,{source:b,background:d.background,declutter:c,
className:d.className,opacity:d.opacity,visible:d.visible,zIndex:d.zIndex,minResolution:d.minResolution,maxResolution:d.maxResolution,minZoom:d.minZoom,maxZoom:d.maxZoom,renderOrder:d.renderOrder,renderBuffer:d.renderBuffer,renderMode:d.renderMode,map:d.map,updateWhileAnimating:d.updateWhileAnimating,updateWhileInteracting:d.updateWhileInteracting,preload:d.preload,useInterimTilesOnError:d.useInterimTilesOnError,properties:d.properties})||this;d.accessToken&&(a.accessToken=d.accessToken);(0,r.applyStyle)(a,
d.styleUrl,d.layers||d.source,{accessToken:a.accessToken}).then(function(){b.setState("ready")}).catch(function(m){a.dispatchEvent(new k(m));a.getSource().setState("error")});void 0===a.getBackground()&&(0,r.applyBackground)(a,d.styleUrl,{accessToken:a.accessToken});return a}h(e,f);return e}(ob.default);G.default=F};
shadow$provide[374]=function(sa,F,ob,G){function y(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(330));var p=y(F(223)),n=y(F(82)),v=y(F(322)),r=y(F(188)),h=y(F(187)),k=y(F(112)),f=F(72),e=F(80),d=F(74),a=function(){var c=function(b,m){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,u){z.__proto__=u}||function(z,u){for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(z[C]=u[C])};return c(b,m)};return function(b,
m){function z(){this.constructor=b}if("function"!==typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");c(b,m);b.prototype=null===m?Object.create(m):(z.prototype=m.prototype,new z)}}();F=function(c){function b(m){var z=c.call(this,m)||this;z.vectorRenderer_=new p.default(m);z.layerImageRatio_=m.getImageRatio();z.coordinateToVectorPixelTransform_=(0,f.create)();z.renderedPixelToCoordinateTransform_=null;return z}a(b,c);b.prototype.disposeInternal=
function(){this.vectorRenderer_.dispose();c.prototype.disposeInternal.call(this)};b.prototype.getFeatures=function(m){if(!this.vectorRenderer_)return new Promise(function(z){return z([])});m=(0,f.apply)(this.coordinateToVectorPixelTransform_,(0,f.apply)(this.renderedPixelToCoordinateTransform_,m.slice()));return this.vectorRenderer_.getFeatures(m)};b.prototype.handleFontsChanged=function(){this.vectorRenderer_.handleFontsChanged()};b.prototype.prepareFrame=function(m){var z=m.pixelRatio,u=m.viewState,
C=u.resolution,J=m.viewHints,A=this.vectorRenderer_,x=m.extent;1!==this.layerImageRatio_&&(x=x.slice(0),(0,d.scaleFromCenter)(x,this.layerImageRatio_));var q=(0,d.getWidth)(x)/C,H=(0,d.getHeight)(x)/C;if(!J[k.default.ANIMATING]&&!J[k.default.INTERACTING]&&!(0,d.isEmpty)(x)){A.useContainer(null,null);J=A.context;var M=m.layerStatesArray[m.layerIndex];J.globalAlpha=M.opacity;M=(0,e.assign)({},M,{opacity:1});var R=(0,e.assign)({},m,{declutterTree:new h.default(9),extent:x,size:[q,H],viewState:(0,e.assign)({},
m.viewState,{rotation:0}),layerStatesArray:[M],layerIndex:0}),Z=!0,T=new v.default(x,C,z,J.canvas,function(ba){A.prepareFrame(R)&&A.replayGroupChanged&&(A.clipping=!1,A.renderFrame(R,null)&&(A.renderDeclutter(R),Z=!1),ba())});T.addEventListener(n.default.CHANGE,function(){if(T.getState()===r.default.LOADED){this.image_=Z?null:T;var ba=T.getResolution(),aa=T.getPixelRatio();this.renderedResolution=ba=ba*z/aa;this.coordinateToVectorPixelTransform_=(0,f.compose)(this.coordinateToVectorPixelTransform_,
q/2,H/2,1/ba,-1/ba,0,-u.center[0],-u.center[1])}}.bind(this));T.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=m.pixelToCoordinateTransform.slice());return!!this.image_};b.prototype.preRender=function(){};b.prototype.postRender=function(){};b.prototype.renderDeclutter=function(){};b.prototype.forEachFeatureAtCoordinate=function(m,z,u,C,J){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(m,z,u,C,J):c.prototype.forEachFeatureAtCoordinate.call(this,m,z,u,C,J)};
return b}(sa.default);G.default=F};
shadow$provide[375]=function(sa,F,ob,G){function y(r){return r&&r.__esModule?r:{default:r}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(196));var p=y(F(374)),n=F(80),v=function(){var r=function(h,k){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,e){f.__proto__=e}||function(f,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(f[d]=e[d])};return r(h,k)};return function(h,k){function f(){this.constructor=h}if("function"!==typeof k&&null!==k)throw new TypeError("Class extends value "+
String(k)+" is not a constructor or null");r(h,k);h.prototype=null===k?Object.create(k):(f.prototype=k.prototype,new f)}}();F=function(r){function h(k){k=k?k:{};var f=(0,n.assign)({},k);delete f.imageRatio;f=r.call(this,f)||this;f.imageRatio_=void 0!==k.imageRatio?k.imageRatio:1;return f}v(h,r);h.prototype.getImageRatio=function(){return this.imageRatio_};h.prototype.createRenderer=function(){return new p.default(this)};return h}(sa.default);G.default=F};
shadow$provide[376]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=function(){function y(p,n){this.name=p;this.data=n;this.texture_=null}y.prototype.getTexture=function(p){if(!this.texture_){var n=p.createTexture();p.bindTexture(p.TEXTURE_2D,n);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);p.texParameteri(p.TEXTURE_2D,
p.TEXTURE_MAG_FILTER,p.NEAREST);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,this.data.length/4,1,0,p.RGBA,p.UNSIGNED_BYTE,this.data);this.texture_=n}return this.texture_};return y}();G.default=sa};
shadow$provide[377]=function(sa,F,ob,G){function y(m){return m&&m.__esModule?m:{default:m}}function p(m,z,u){u=u?m.LINEAR:m.NEAREST;m.bindTexture(m.TEXTURE_2D,z);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,u);m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,u)}function n(m,z,u,C,J,A){var x=m.getGL();if(u instanceof Float32Array){var q=x.FLOAT;m.getExtension("OES_texture_float");
m=null!==m.getExtension("OES_texture_float_linear")}else q=x.UNSIGNED_BYTE,m=!0;p(x,z,A&&m);A=u.byteLength/C[1];z=1;0===A%8?z=8:0===A%4?z=4:0===A%2&&(z=2);switch(J){case 1:J=x.LUMINANCE;break;case 2:J=x.LUMINANCE_ALPHA;break;case 3:J=x.RGB;break;case 4:J=x.RGBA;break;default:throw Error("Unsupported number of bands: ".concat(J));}A=x.getParameter(x.UNPACK_ALIGNMENT);x.pixelStorei(x.UNPACK_ALIGNMENT,z);x.texImage2D(x.TEXTURE_2D,0,J,C[0],C[1],0,J,q,u);x.pixelStorei(x.UNPACK_ALIGNMENT,A)}Object.defineProperty(G,
"__esModule",{value:!0});G.default=void 0;var v=y(F(266));sa=y(F(81));var r=y(F(82)),h=y(F(245)),k=y(F(250)),f=y(F(109)),e=y(F(353)),d=F(352),a=F(145),c=function(){var m=function(z,u){m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,J){C.__proto__=J}||function(C,J){for(var A in J)Object.prototype.hasOwnProperty.call(J,A)&&(C[A]=J[A])};return m(z,u)};return function(z,u){function C(){this.constructor=z}if("function"!==typeof u&&null!==u)throw new TypeError("Class extends value "+
String(u)+" is not a constructor or null");m(z,u);z.prototype=null===u?Object.create(u):(C.prototype=u.prototype,new C)}}(),b=null;F=function(m){function z(u){var C=m.call(this)||this;C.textures=[];C.handleTileChange_=C.handleTileChange_.bind(C);C.renderSize_=(0,a.toSize)(u.grid.getTileSize(u.tile.tileCoord[0]));C.gutter_=u.gutter||0;C.bandCount=NaN;C.helper_=u.helper;var J=new e.default(d.ARRAY_BUFFER,d.STATIC_DRAW);J.fromArray([0,1,1,1,1,0,0,0]);C.helper_.flushBufferData(J);C.coords=J;C.setTile(u.tile);
return C}c(z,m);z.prototype.setTile=function(u){if(u!==this.tile)if(this.tile&&this.tile.removeEventListener(r.default.CHANGE,this.handleTileChange_),this.tile=u,this.textures.length=0,this.loaded=u.getState()===f.default.LOADED)this.uploadTile_();else{if(u instanceof h.default){var C=u.getImage();C instanceof Image&&!C.crossOrigin&&(C.crossOrigin="anonymous")}u.addEventListener(r.default.CHANGE,this.handleTileChange_)}};z.prototype.uploadTile_=function(){var u=this.helper_,C=u.getGL(),J=this.tile;
if(J instanceof h.default||J instanceof k.default){var A=C.createTexture();this.textures.push(A);this.bandCount=4;u=J.getImage();p(C,A,J.interpolate);C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,u)}else{var x=J.getSize();x=[x[0]+2*this.gutter_,x[1]+2*this.gutter_];var q=J.getData(),H=x[0]*x[1],M=q instanceof Float32Array?Float32Array:Uint8Array,R=M.BYTES_PER_ELEMENT,Z=q.byteLength/x[1];this.bandCount=Math.floor(Z/R/x[0]);var T=Math.ceil(this.bandCount/4);if(1===T)A=C.createTexture(),
this.textures.push(A),n(u,A,q,x,this.bandCount,J.interpolate);else{for(var ba=Array(T),aa=0;aa<T;++aa){A=C.createTexture();this.textures.push(A);var W=aa<T-1?4:this.bandCount%4;ba[aa]=new M(H*W)}M=A=0;for(var X=x[0]*this.bandCount,P=0;P<x[1];++P){for(var w=0;w<X;++w){var B=q[M+w],K=Math.floor(A/this.bandCount),U=w%this.bandCount;aa=Math.floor(U/4);C=ba[aa];W=C.length/H;C[K*W+U%4]=B;++A}M+=Z/R}for(aa=0;aa<T;++aa)A=this.textures[aa],C=ba[aa],W=C.length/H,n(u,A,C,x,W,J.interpolate)}}};z.prototype.handleTileChange_=
function(){this.tile.getState()===f.default.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(r.default.CHANGE))};z.prototype.disposeInternal=function(){var u=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(var C=0;C<this.textures.length;++C)u.deleteTexture(this.textures[C]);this.tile.removeEventListener(r.default.CHANGE,this.handleTileChange_)};z.prototype.getPixelData=function(u,C){if(!this.loaded)return null;var J=this.renderSize_[0],A=this.renderSize_[1],x=this.gutter_;
if(this.tile instanceof v.default){var q=this.tile.getSize(),H=q[0],M=q[1];q=H+2*x;var R=M+2*x;u=x+Math.floor(u/J*H);A=x+Math.floor(C/A*M);C=this.tile.getData();if(C instanceof DataView)return x=C.byteLength/(q*R),A=x*(A*q+u),C=C.buffer.slice(A,A+x),new DataView(C);A=this.bandCount*(A*q+u);return C.slice(A,A+this.bandCount)}b||(R=document.createElement("canvas"),R.width=1,R.height=1,b=R.getContext("2d"));b.clearRect(0,0,1,1);R=this.tile.getImage();u=x+Math.floor(u/J*(R.width-2*x));C=x+Math.floor(C/
A*(R.height-2*x));try{b.drawImage(R,u,C,1,1,0,0,1,1),q=b.getImageData(0,0,1,1).data}catch(Z){return b=null}return q};return z}(sa.default);G.default=F};
shadow$provide[378]=function(sa,F,ob,G){function y(H){return H&&H.__esModule?H:{default:H}}function p(H,M){var R=H.layerStatesArray[H.layerIndex];R.extent&&(M=(0,a.getIntersection)(M,(0,m.fromUserExtent)(R.extent,H.viewState.projection)));R=R.layer.getRenderSource();R.getWrapX()||(H=R.getTileGridForProjection(H.viewState.projection).getExtent())&&(M=(0,a.getIntersection)(M,H));return M}function n(H,M){return"".concat(H.getKey(),",").concat((0,b.getKey)(M))}Object.defineProperty(G,"__esModule",{value:!0});
G.default=G.Attributes=G.Uniforms=void 0;var v=y(F(243)),r=y(F(254)),h=y(F(109)),k=y(F(377)),f=y(F(353));sa=y(F(358));ob=F(357);var e=F(352),d=F(72),a=F(74),c=F(356),b=F(251),m=F(121),z=F(68),u=F(66),C=F(145),J=function(){var H=function(M,R){H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,T){Z.__proto__=T}||function(Z,T){for(var ba in T)Object.prototype.hasOwnProperty.call(T,ba)&&(Z[ba]=T[ba])};return H(M,R)};return function(M,R){function Z(){this.constructor=M}if("function"!==
typeof R&&null!==R)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");H(M,R);M.prototype=null===R?Object.create(R):(Z.prototype=R.prototype,new Z)}}(),A={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",TEXTURE_ORIGIN_Y:"u_textureOriginY",
RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"};G.Uniforms=A;F={TEXTURE_COORD:"a_textureCoord"};G.Attributes=F;var x=[{name:F.TEXTURE_COORD,size:2,type:ob.AttributeType.FLOAT}],q={};F=function(H){function M(R,Z){R=H.call(this,R,{uniforms:Z.uniforms})||this;R.renderComplete=!1;R.tileTransform_=(0,d.create)();R.tempMat4_=(0,c.create)();R.tempTileRange_=new r.default(0,0,0,0);R.tempTileCoord_=(0,b.createOrUpdate)(0,0,0);R.tempSize_=[0,0];R.vertexShader_=Z.vertexShader;R.fragmentShader_=
Z.fragmentShader;R.indices_=new f.default(e.ELEMENT_ARRAY_BUFFER,e.STATIC_DRAW);R.indices_.fromArray([0,1,3,1,2,3]);R.tileTextureCache_=new v.default(void 0!==Z.cacheSize?Z.cacheSize:512);R.paletteTextures_=Z.paletteTextures||[];R.frameState_=null;return R}J(M,H);M.prototype.reset=function(R){H.prototype.reset.call(this,{uniforms:R.uniforms});this.vertexShader_=R.vertexShader;this.fragmentShader_=R.fragmentShader;this.paletteTextures_=R.paletteTextures||[];this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,
this.vertexShader_))};M.prototype.afterHelperCreated=function(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.helper.flushBufferData(this.indices_)};M.prototype.isDrawableTile_=function(R){var Z=this.getLayer();R=R.getState();Z=Z.getUseInterimTilesOnError();return R==h.default.LOADED||R==h.default.EMPTY||R==h.default.ERROR&&!Z};M.prototype.prepareFrameInternal=function(R){var Z=this.getLayer().getRenderSource();return!Z||(0,a.isEmpty)(p(R,R.extent))?!1:"ready"===
Z.getState()};M.prototype.enqueueTiles=function(R,Z,T,ba){var aa=R.viewState,W=this.getLayer(),X=W.getRenderSource(),P=X.getTileGridForProjection(aa.projection),w=X.getGutterForProjection(aa.projection),B=(0,z.getUid)(X);B in R.wantedTiles||(R.wantedTiles[B]={});var K=R.wantedTiles[B],U=this.tileTextureCache_;for(W=Math.max(T-W.getPreload(),P.getMinZoom(),W.getMinZoom());T>=W;--T)for(var ka=P.getTileRangeForExtentAndZ(Z,T,this.tempTileRange_),da=P.getResolution(T),la=ka.minX;la<=ka.maxX;++la)for(var wa=
ka.minY;wa<=ka.maxY;++wa){var Ua=(0,b.createOrUpdate)(T,la,wa,this.tempTileCoord_),hb=n(X,Ua),La=void 0,pa=void 0;U.containsKey(hb)&&(La=U.get(hb),pa=La.tile);La&&La.tile.key===X.getKey()||(pa=X.getTile(T,la,wa,R.pixelRatio,aa.projection),La?this.isDrawableTile_(pa)?La.setTile(pa):(hb=pa.getInterimTile(),La.setTile(hb)):(La=new k.default({tile:pa,grid:P,helper:this.helper,gutter:w}),U.set(hb,La)));hb=ba;var Da=T;Da in hb||(hb[Da]=[]);hb[Da].push(La);La=pa.getKey();K[La]=!0;pa.getState()===h.default.IDLE&&
(R.tileQueue.isKeyQueued(La)||R.tileQueue.enqueue([pa,B,P.getTileCoordCenter(Ua),da]))}};M.prototype.renderFrame=function(R){this.frameState_=R;this.renderComplete=!0;var Z=this.helper.getGL();this.preRender(Z,R);var T=R.viewState,ba=this.getLayer().getRenderSource(),aa=ba.getTileGridForProjection(T.projection),W=ba.getGutterForProjection(T.projection),X=p(R,R.extent),P=aa.getZForResolution(T.resolution,ba.zDirection),w={};if(R.nextExtent){var B=aa.getZForResolution(T.nextResolution,ba.zDirection),
K=p(R,R.nextExtent);this.enqueueTiles(R,K,B,w)}this.enqueueTiles(R,X,P,w);B={};var U=(0,z.getUid)(this),ka=R.time,da=!1,la=w[P];K=0;for(var wa=la.length;K<wa;++K){var Ua=la[K],hb=Ua.tile,La=hb.tileCoord;if(Ua.loaded){Ua=hb.getAlpha(U,ka);if(1===Ua){hb.endTransition(U);continue}da=!0;hb=(0,b.getKey)(La);B[hb]=Ua}this.renderComplete=!1;if(!this.findAltTiles_(aa,La,P+1,w))for(hb=aa.getMinZoom(),Ua=P-1;Ua>=hb&&!this.findAltTiles_(aa,La,Ua,w);--Ua);}this.helper.useProgram(this.program_);this.helper.prepareDraw(R,
!da);P=Object.keys(w).map(Number).sort(u.numberSafeCompareFunction);U=T.center[0];ka=T.center[1];da=0;for(la=P.length;da<la;++da){K=P[da];var pa=aa.getResolution(K),Da=(0,C.toSize)(aa.getTileSize(K),this.tempSize_),Ma=aa.getOrigin(K),ua=Da[0]+2*W,Aa=Da[1]+2*W,qa=ua/Aa,Ha=(U-Ma[0])/(Da[0]*pa),Va=(Ma[1]-ka)/(Da[1]*pa),eb=T.resolution/pa,ta=2*(1-1/(K+1))-1,Qa=w[K];K=0;for(wa=Qa.length;K<wa;++K)if(Ua=Qa[K],Ua.loaded){hb=Ua.tile;La=hb.tileCoord;hb=(0,b.getKey)(La);var oa=La[1],Y=La[2];(0,d.reset)(this.tileTransform_);
(0,d.scale)(this.tileTransform_,2/(R.size[0]*eb/ua),-2/(R.size[1]*eb/ua));(0,d.rotate)(this.tileTransform_,T.rotation);(0,d.scale)(this.tileTransform_,1,1/qa);(0,d.translate)(this.tileTransform_,(Da[0]*(oa-Ha)-W)/ua,(Da[1]*(Y-Va)-W)/Aa);this.helper.setUniformMatrixValue(A.TILE_TRANSFORM,(0,c.fromTransform)(this.tempMat4_,this.tileTransform_));this.helper.bindBuffer(Ua.coords);this.helper.bindBuffer(this.indices_);this.helper.enableAttributes(x);for(var ja=0;ja<Ua.textures.length;){var Ga="TEXTURE"+
ja,Wa="".concat(A.TILE_TEXTURE_ARRAY,"[").concat(ja,"]");Z.activeTexture(Z[Ga]);Z.bindTexture(Z.TEXTURE_2D,Ua.textures[ja]);Z.uniform1i(this.helper.getUniformLocation(Wa),ja);++ja}for(Ua=0;Ua<this.paletteTextures_.length;++Ua)Ga=this.paletteTextures_[Ua],Z.activeTexture(Z["TEXTURE"+ja]),Wa=Ga.getTexture(Z),Z.bindTexture(Z.TEXTURE_2D,Wa),Z.uniform1i(this.helper.getUniformLocation(Ga.name),ja),++ja;Ua=hb in B?B[hb]:1;1>Ua&&(R.animate=!0);this.helper.setUniformFloatValue(A.TRANSITION_ALPHA,Ua);this.helper.setUniformFloatValue(A.DEPTH,
ta);this.helper.setUniformFloatValue(A.TEXTURE_PIXEL_WIDTH,ua);this.helper.setUniformFloatValue(A.TEXTURE_PIXEL_HEIGHT,Aa);this.helper.setUniformFloatValue(A.TEXTURE_RESOLUTION,pa);this.helper.setUniformFloatValue(A.TEXTURE_ORIGIN_X,Ma[0]+oa*Da[0]*pa-W*pa);this.helper.setUniformFloatValue(A.TEXTURE_ORIGIN_Y,Ma[1]-Y*Da[1]*pa+W*pa);hb=X;0<W&&(hb=aa.getTileCoordExtent(La),(0,a.getIntersection)(hb,X,hb));this.helper.setUniformFloatVec4(A.RENDER_EXTENT,hb);this.helper.setUniformFloatValue(A.RESOLUTION,
T.resolution);this.helper.setUniformFloatValue(A.ZOOM,T.zoom);this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(R,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);T=this.helper.getCanvas();for(aa=this.tileTextureCache_;aa.canExpireCache();)Ua=aa.pop(),Ua.dispose();R.postRenderFunctions.push(function(cb,nb){ba.expireCache(nb.viewState.projection,q)});this.postRender(Z,R);return T};M.prototype.getData=function(R){if(!this.helper.getGL())return null;var Z=this.frameState_;
if(!Z)return null;var T=this.getLayer();R=(0,d.apply)(Z.pixelToCoordinateTransform,R.slice());Z=Z.viewState;var ba=T.getExtent();if(ba&&!(0,a.containsCoordinate)((0,m.fromUserExtent)(ba,Z.projection),R))return null;T=T.getSources((0,a.boundingExtent)([R]),Z.resolution);for(ba=T.length-1;0<=ba;--ba){var aa=T[ba];if("ready"===aa.getState()){var W=aa.getTileGridForProjection(Z.projection);if(aa.getWrapX())break;var X=W.getExtent();if(!X||(0,a.containsCoordinate)(X,R))break}}if(0>ba)return null;X=this.tileTextureCache_;
for(T=W.getZForResolution(Z.resolution);T>=W.getMinZoom();--T)if(Z=W.getTileCoordForCoordAndZ(R,T),ba=n(aa,Z),X.containsKey(ba)&&(ba=X.get(ba),ba.loaded))return aa=W.getOrigin(T),X=(0,C.toSize)(W.getTileSize(T)),W=W.getResolution(T),ba.getPixelData((R[0]-aa[0])/W-Z[1]*X[0],(aa[1]-R[1])/W-Z[2]*X[1]);return null};M.prototype.findAltTiles_=function(R,Z,T,ba){R=R.getTileRangeForTileCoordAndZ(Z,T,this.tempTileRange_);if(!R)return!1;Z=!0;for(var aa=this.tileTextureCache_,W=this.getLayer().getRenderSource(),
X=R.minX;X<=R.maxX;++X)for(var P=R.minY;P<=R.maxY;++P){var w=n(W,[T,X,P]),B=!1;if(aa.containsKey(w)&&(w=aa.get(w),w.loaded)){B=ba;var K=T;K in B||(B[K]=[]);B[K].push(w);B=!0}B||(Z=!1)}return Z};M.prototype.removeHelper=function(){if(this.helper){var R=this.tileTextureCache_;R.forEach(function(Z){return Z.dispose()});R.clear()}H.prototype.removeHelper.call(this)};M.prototype.disposeInternal=function(){var R=this.helper;R&&(R.getGL().deleteProgram(this.program_),delete this.program_,R.deleteBuffer(this.indices_));
H.prototype.disposeInternal.call(this);delete this.indices_;delete this.tileTextureCache_;delete this.frameState_};return M}(sa.default);G.default=F};
shadow$provide[379]=function(sa,F,ob,G){function y(ba){if("number"===typeof ba)return Z.NUMBER;if("boolean"===typeof ba)return Z.BOOLEAN;if("string"===typeof ba)return(0,M.isStringColor)(ba)?Z.COLOR|Z.STRING:Z.STRING;if(!Array.isArray(ba))throw Error("Unhandled value type: ".concat(JSON.stringify(ba)));if(ba.every(function(W){return"number"===typeof W}))return 3===ba.length||4===ba.length?Z.COLOR|Z.NUMBER_ARRAY:Z.NUMBER_ARRAY;if("string"!==typeof ba[0])throw Error("Expected an expression operator but received: ".concat(JSON.stringify(ba)));
var aa=T[ba[0]];if(void 0===aa)throw Error("Unrecognized expression operator: ".concat(JSON.stringify(ba)));return aa.getReturnType(ba.slice(1))}function p(ba){return 0===(0,R.log2)(ba)%1}function n(ba){ba=ba.toString();return-1===ba.indexOf(".")?ba+".0":ba}function v(ba){if(2>ba.length||4<ba.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return"vec".concat(ba.length,"(").concat(ba.map(n).join(", "),")")}function r(ba){ba=(0,M.asArray)(ba).slice();4>ba.length&&
ba.push(1);return v(ba.map(function(aa,W){return 3>W?aa/255:aa}))}function h(ba,aa){void 0===ba.stringLiteralsMap[aa]&&(ba.stringLiteralsMap[aa]=Object.keys(ba.stringLiteralsMap).length);return ba.stringLiteralsMap[aa]}function k(ba,aa){return n(h(ba,aa))}function f(ba,aa,W){if(Array.isArray(aa)&&"string"===typeof aa[0]){var X=T[aa[0]];if(void 0===X)throw Error("Unrecognized expression operator: ".concat(JSON.stringify(aa)));return X.toGlsl(ba,aa.slice(1),W)}X=y(aa);if(0<(X&Z.NUMBER))return n(aa);
if(0<(X&Z.BOOLEAN))return aa.toString();if(0<(X&Z.STRING)&&(void 0===W||W==Z.STRING))return k(ba,aa.toString());if(0<(X&Z.COLOR)&&(void 0===W||W==Z.COLOR))return r(aa);if(0<(X&Z.NUMBER_ARRAY))return v(aa);throw Error("Unexpected expression ".concat(aa," (expected type ").concat(W,")"));}function e(ba){if(!(y(ba)&Z.NUMBER))throw Error("A numeric value was expected, got ".concat(JSON.stringify(ba)," instead"));}function d(ba){for(var aa=0;aa<ba.length;aa++)e(ba[aa])}function a(ba){if(!(y(ba)&Z.STRING))throw Error("A string value was expected, got ".concat(JSON.stringify(ba),
" instead"));}function c(ba){if(!(y(ba)&Z.BOOLEAN))throw Error("A boolean value was expected, got ".concat(JSON.stringify(ba)," instead"));}function b(ba,aa){if(ba.length!==aa)throw Error("Exactly ".concat(aa," arguments were expected, got ").concat(ba.length," instead"));}function m(ba,aa){if(ba.length<aa)throw Error("At least ".concat(aa," arguments were expected, got ").concat(ba.length," instead"));}function z(ba,aa){if(ba.length>aa)throw Error("At most ".concat(aa," arguments were expected, got ").concat(ba.length,
" instead"));}function u(ba){if(0!==ba.length%2)throw Error("An even amount of arguments was expected, got ".concat(ba," instead"));}function C(ba,aa){if(!p(aa))throw Error("Could not infer only one type from the following expression: ".concat(JSON.stringify(ba)));}function J(ba){return"u_var_"+ba}function A(ba){return{getReturnType:function(aa){return Z.BOOLEAN},toGlsl:function(aa,W){b(W,2);for(var X=Z.ANY,P=0;P<W.length;P++)X&=y(W[P]);if(X===Z.NONE)throw Error("All arguments should be of compatible type, got ".concat(JSON.stringify(W),
" instead"));X&=~Z.COLOR;return"(".concat(f(aa,W[0],X)," ").concat(ba," ").concat(f(aa,W[1],X),")")}}}function x(ba){return{getReturnType:function(aa){return Z.BOOLEAN},toGlsl:function(aa,W){m(W,2);for(var X=0;X<W.length;X++)c(W[X]);X="";X=W.map(function(P){return f(aa,P)}).join(" ".concat(ba," "));return X="(".concat(X,")")}}}Object.defineProperty(G,"__esModule",{value:!0});G.getValueType=y;G.isTypeUnique=p;G.numberToGlsl=n;G.arrayToGlsl=v;G.colorToGlsl=r;G.getStringNumberEquivalent=h;G.stringToGlsl=
k;G.expressionToGlsl=f;G.uniformNameForVariable=J;G.PALETTE_TEXTURE_ARRAY=G.Operators=G.ValueTypes=void 0;var q=function(ba){return ba&&ba.__esModule?ba:{default:ba}}(F(376)),H=F(378),M=F(76),R=F(75),Z={NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};G.ValueTypes=Z;var T={};G.Operators=T;T.get={getReturnType:function(ba){return Z.ANY},toGlsl:function(ba,aa){b(aa,1);a(aa[0]);aa=aa[0].toString();-1===ba.attributes.indexOf(aa)&&ba.attributes.push(aa);return(ba.inFragmentShader?"v_":
"a_")+aa}};T["var"]={getReturnType:function(ba){return Z.ANY},toGlsl:function(ba,aa){b(aa,1);a(aa[0]);aa=aa[0].toString();-1===ba.variables.indexOf(aa)&&ba.variables.push(aa);return J(aa)}};G.PALETTE_TEXTURE_ARRAY="u_paletteTextures";T.palette={getReturnType:function(ba){return Z.COLOR},toGlsl:function(ba,aa){b(aa,2);e(aa[0]);var W=f(ba,aa[0]),X=aa[1];if(!Array.isArray(X))throw Error("The second argument of palette must be an array");aa=X.length;for(var P=new Uint8Array(4*aa),w=0;w<aa;w++){var B=
X[w];if("string"===typeof B)B=(0,M.fromString)(B);else{if(!Array.isArray(B))throw Error("The second argument of palette must be an array of strings or colors");var K=B.length;if(4!==K){if(3!==K)throw Error("Expected palette color to have 3 or 4 values, got ".concat(K));B=[B[0],B[1],B[2],1]}}K=4*w;P[K]=B[0];P[K+1]=B[1];P[K+2]=B[2];P[K+3]=255*B[3]}ba.paletteTextures||(ba.paletteTextures=[]);X="".concat("u_paletteTextures","[").concat(ba.paletteTextures.length,"]");P=new q.default(X,P);ba.paletteTextures.push(P);
return"texture2D(".concat(X,", vec2((").concat(W," + 0.5) / ").concat(aa,".0, 0.5))")}};T.band={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){m(aa,1);z(aa,3);var W=aa[0];if(!("getBandValue"in ba.functions)){for(var X="",P=ba.bandCount||1,w=0;w<P;w++){var B=Math.floor(w/4),K=w%4;K===P-1&&1===K&&(K=3);B="".concat(H.Uniforms.TILE_TEXTURE_ARRAY,"[").concat(B,"]");X+="\n          if (band \x3d\x3d ".concat(w+1,".0) {\n            return texture2D(").concat(B,", v_textureCoord + vec2(dx, dy))[").concat(K,
"];\n          }\n        ")}ba.functions.getBandValue="\n        float getBandValue(float band, float xOffset, float yOffset) {\n          float dx \x3d xOffset / ".concat(H.Uniforms.TEXTURE_PIXEL_WIDTH,";\n          float dy \x3d yOffset / ").concat(H.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n          ").concat(X,"\n        }\n      ")}W=f(ba,W);X=f(ba,aa[1]||0);ba=f(ba,aa[2]||0);return"".concat("getBandValue","(").concat(W,", ").concat(X,", ").concat(ba,")")}};T.time={getReturnType:function(ba){return Z.NUMBER},
toGlsl:function(ba,aa){b(aa,0);return"u_time"}};T.zoom={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,0);return"u_zoom"}};T.resolution={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,0);return"u_resolution"}};T["*"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," * ").concat(f(ba,aa[1]),")")}};T["/"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,
aa[0])," / ").concat(f(ba,aa[1]),")")}};T["+"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," + ").concat(f(ba,aa[1]),")")}};T["-"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," - ").concat(f(ba,aa[1]),")")}};T.clamp={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,3);d(aa);var W=f(ba,aa[1]),X=f(ba,aa[2]);return"clamp(".concat(f(ba,aa[0]),", ").concat(W,
", ").concat(X,")")}};T["%"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"mod(".concat(f(ba,aa[0]),", ").concat(f(ba,aa[1]),")")}};T["^"]={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,2);d(aa);return"pow(".concat(f(ba,aa[0]),", ").concat(f(ba,aa[1]),")")}};T.abs={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,1);d(aa);return"abs(".concat(f(ba,aa[0]),")")}};T.floor={getReturnType:function(ba){return Z.NUMBER},
toGlsl:function(ba,aa){b(aa,1);d(aa);return"floor(".concat(f(ba,aa[0]),")")}};T.round={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,1);d(aa);return"floor(".concat(f(ba,aa[0])," + 0.5)")}};T.ceil={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,1);d(aa);return"ceil(".concat(f(ba,aa[0]),")")}};T.sin={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){b(aa,1);d(aa);return"sin(".concat(f(ba,aa[0]),")")}};T.cos={getReturnType:function(ba){return Z.NUMBER},
toGlsl:function(ba,aa){b(aa,1);d(aa);return"cos(".concat(f(ba,aa[0]),")")}};T.atan={getReturnType:function(ba){return Z.NUMBER},toGlsl:function(ba,aa){m(aa,1);z(aa,2);d(aa);return 2===aa.length?"atan(".concat(f(ba,aa[0]),", ").concat(f(ba,aa[1]),")"):"atan(".concat(f(ba,aa[0]),")")}};T["\x3e"]={getReturnType:function(ba){return Z.BOOLEAN},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," \x3e ").concat(f(ba,aa[1]),")")}};T["\x3e\x3d"]={getReturnType:function(ba){return Z.BOOLEAN},
toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," \x3e\x3d ").concat(f(ba,aa[1]),")")}};T["\x3c"]={getReturnType:function(ba){return Z.BOOLEAN},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," \x3c ").concat(f(ba,aa[1]),")")}};T["\x3c\x3d"]={getReturnType:function(ba){return Z.BOOLEAN},toGlsl:function(ba,aa){b(aa,2);d(aa);return"(".concat(f(ba,aa[0])," \x3c\x3d ").concat(f(ba,aa[1]),")")}};T["\x3d\x3d"]=A("\x3d\x3d");T["!\x3d"]=A("!\x3d");T["!"]={getReturnType:function(ba){return Z.BOOLEAN},
toGlsl:function(ba,aa){b(aa,1);c(aa[0]);return"(!".concat(f(ba,aa[0]),")")}};T.all=x("\x26\x26");T.any=x("||");T.between={getReturnType:function(ba){return Z.BOOLEAN},toGlsl:function(ba,aa){b(aa,3);d(aa);var W=f(ba,aa[1]),X=f(ba,aa[2]);ba=f(ba,aa[0]);return"(".concat(ba," \x3e\x3d ").concat(W," \x26\x26 ").concat(ba," \x3c\x3d ").concat(X,")")}};T.array={getReturnType:function(ba){return Z.NUMBER_ARRAY},toGlsl:function(ba,aa){m(aa,2);z(aa,4);d(aa);var W=aa.map(function(X){return f(ba,X,Z.NUMBER)});
return"vec".concat(aa.length,"(").concat(W.join(", "),")")}};T.color={getReturnType:function(ba){return Z.COLOR},toGlsl:function(ba,aa){m(aa,3);z(aa,4);d(aa);3===aa.length&&aa.push(1);var W=aa.map(function(X,P){return f(ba,X,Z.NUMBER)+(3>P?" / 255.0":"")});return"vec".concat(aa.length,"(").concat(W.join(", "),")")}};T.interpolate={getReturnType:function(ba){for(var aa=Z.COLOR|Z.NUMBER,W=3;W<ba.length;W+=2)aa&=y(ba[W]);return aa},toGlsl:function(ba,aa,W){u(aa);m(aa,6);var X=aa[0];switch(X[0]){case "linear":var P=
1;break;case "exponential":P=X[1];break;default:P=null}if(!P)throw Error('Invalid interpolation type for "interpolate" operator, received: '.concat(JSON.stringify(X)));W=void 0!==W?W:Z.ANY;W&=T.interpolate.getReturnType(aa);C(aa,W);X=f(ba,aa[1]);P=n(P);for(var w="",B=2;B<aa.length-2;B+=2){var K=f(ba,aa[B]);w=w||f(ba,aa[B+1],W);var U=f(ba,aa[B+2]),ka=f(ba,aa[B+3],W);w="mix(".concat(w,", ").concat(ka,", pow(clamp((").concat(X," - ").concat(K,") / (").concat(U," - ").concat(K,"), 0.0, 1.0), ").concat(P,
"))")}return w}};T.match={getReturnType:function(ba){for(var aa=Z.ANY,W=2;W<ba.length;W+=2)aa&=y(ba[W]);return aa&=y(ba[ba.length-1])},toGlsl:function(ba,aa,W){u(aa);m(aa,4);W=void 0!==W?W:Z.ANY;W&=T.match.getReturnType(aa);C(aa,W);for(var X=f(ba,aa[0]),P=f(ba,aa[aa.length-1],W),w=null,B=aa.length-3;1<=B;B-=2){var K=f(ba,aa[B]),U=f(ba,aa[B+1],W);w="(".concat(X," \x3d\x3d ").concat(K," ? ").concat(U," : ").concat(w||P,")")}return w}};T["case"]={getReturnType:function(ba){for(var aa=Z.ANY,W=1;W<ba.length;W+=
2)aa&=y(ba[W]);return aa&=y(ba[ba.length-1])},toGlsl:function(ba,aa,W){if(0===aa.length%2)throw Error("An odd amount of arguments was expected, got ".concat(aa," instead"));m(aa,3);W=void 0!==W?W:Z.ANY;W&=T["case"].getReturnType(aa);C(aa,W);for(var X=0;X<aa.length-1;X+=2)c(aa[X]);var P=f(ba,aa[aa.length-1],W),w=null;for(X=aa.length-3;0<=X;X-=2){var B=f(ba,aa[X]),K=f(ba,aa[X+1],W);w="(".concat(B," ? ").concat(K," : ").concat(w||P,")")}return w}}};
shadow$provide[380]=function(sa,F,ob,G){Object.defineProperty(G,"__esModule",{value:!0});G.parseLiteralStyle=function(n){var v=n.symbol,r=void 0!==v.size?v.size:1,h=v.color||"white",k=v.textureCoord||[0,0,1,1],f=v.offset||[0,0],e=void 0!==v.opacity?v.opacity:1,d=void 0!==v.rotation?v.rotation:0,a={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}},c=(0,y.expressionToGlsl)(a,r,y.ValueTypes.NUMBER_ARRAY|y.ValueTypes.NUMBER);f=(0,y.expressionToGlsl)(a,f,y.ValueTypes.NUMBER_ARRAY);
k=(0,y.expressionToGlsl)(a,k,y.ValueTypes.NUMBER_ARRAY);var b=(0,y.expressionToGlsl)(a,d,y.ValueTypes.NUMBER);d={inFragmentShader:!0,variables:a.variables,attributes:[],stringLiteralsMap:a.stringLiteralsMap,functions:{}};h=(0,y.expressionToGlsl)(d,h,y.ValueTypes.COLOR);e=(0,y.expressionToGlsl)(d,e,y.ValueTypes.NUMBER);var m="1.0";r="vec2(".concat((0,y.expressionToGlsl)(d,r,y.ValueTypes.NUMBER_ARRAY|y.ValueTypes.NUMBER),").x");switch(v.symbolType){case "square":break;case "image":break;case "circle":m=
"(1.0-smoothstep(1.-4./".concat(r,",1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))");break;case "triangle":m="(atan(".concat("(v_quadCoord*2.-1.)",".x,").concat("(v_quadCoord*2.-1.)",".y))");m="(1.0-smoothstep(.5-3./".concat(r,",.5,cos(floor(.5+").concat(m,"/2.094395102)*2.094395102-").concat(m,")*length(").concat("(v_quadCoord*2.-1.)",")))");break;default:throw Error("Unexpected symbol type: "+v.symbolType);}var z=(new p).setSizeExpression("vec2(".concat(c,")")).setRotationExpression(b).setSymbolOffsetExpression(f).setTextureCoordinateExpression(k).setSymbolRotateWithView(!!v.rotateWithView).setColorExpression("vec4(".concat(h,
".rgb, ").concat(h,".a * ").concat(e," * ").concat(m,")"));n.filter&&(c=(0,y.expressionToGlsl)(d,n.filter,y.ValueTypes.BOOLEAN),z.setFragmentDiscardExpression("!".concat(c)));var u={};d.variables.forEach(function(C){var J=(0,y.uniformNameForVariable)(C);z.addUniform("float ".concat(J));u[J]=function(){if(!n.variables||void 0===n.variables[C])throw Error("The following variable is missing from the style: ".concat(C));var A=n.variables[C];"string"===typeof A&&(A=(0,y.getStringNumberEquivalent)(a,A));
return void 0!==A?A:-9999999}});"image"===v.symbolType&&v.src&&(c=new Image,c.crossOrigin=void 0===v.crossOrigin?"anonymous":v.crossOrigin,c.src=v.src,z.addUniform("sampler2D u_texture").setColorExpression(z.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),u.u_texture=c);d.attributes.forEach(function(C){-1===a.attributes.indexOf(C)&&a.attributes.push(C);z.addVarying("v_".concat(C),"float","a_".concat(C))});a.attributes.forEach(function(C){z.addAttribute("float a_".concat(C))});return{builder:z,
attributes:a.attributes.map(function(C){return{name:C,callback:function(J,A){J=A[C];"string"===typeof J&&(J=(0,y.getStringNumberEquivalent)(a,J));return void 0!==J?J:-9999999}}}),uniforms:u}};G.ShaderBuilder=void 0;var y=F(379),p=function(){function n(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression=
"false";this.rotateWithView=!1}n.prototype.addUniform=function(v){this.uniforms.push(v);return this};n.prototype.addAttribute=function(v){this.attributes.push(v);return this};n.prototype.addVarying=function(v,r,h){this.varyings.push({name:v,type:r,expression:h});return this};n.prototype.setSizeExpression=function(v){this.sizeExpression=v;return this};n.prototype.setRotationExpression=function(v){this.rotationExpression=v;return this};n.prototype.setSymbolOffsetExpression=function(v){this.offsetExpression=
v;return this};n.prototype.setColorExpression=function(v){this.colorExpression=v;return this};n.prototype.setTextureCoordinateExpression=function(v){this.texCoordExpression=v;return this};n.prototype.setFragmentDiscardExpression=function(v){this.discardExpression=v;return this};n.prototype.setSymbolRotateWithView=function(v){this.rotateWithView=v;return this};n.prototype.getSizeExpression=function(){return this.sizeExpression};n.prototype.getOffsetExpression=function(){return this.offsetExpression};
n.prototype.getColorExpression=function(){return this.colorExpression};n.prototype.getTextureCoordinateExpression=function(){return this.texCoordExpression};n.prototype.getFragmentDiscardExpression=function(){return this.discardExpression};n.prototype.getSymbolVertexShader=function(v){var r=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix",h=this.attributes,k=this.varyings;v&&(h=h.concat("vec4 a_hitColor"),k=k.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));
return"precision mediump float;\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n".concat(this.uniforms.map(function(f){return"uniform "+f+";"}).join("\n"),"\nattribute vec2 a_position;\nattribute float a_index;\n").concat(h.map(function(f){return"attribute "+f+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n").concat(k.map(function(f){return"varying "+
f.type+" "+f.name+";"}).join("\n"),"\nvoid main(void) {\n  mat4 offsetMatrix \x3d ").concat(r,";\n  vec2 halfSize \x3d ").concat(this.sizeExpression," * 0.5;\n  vec2 offset \x3d ").concat(this.offsetExpression,";\n  float angle \x3d ").concat(this.rotationExpression,";\n  float offsetX;\n  float offsetY;\n  if (a_index \x3d\x3d 0.0) {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 1.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else if (a_index \x3d\x3d 2.0) {\n    offsetX \x3d (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);\n  } else {\n    offsetX \x3d (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);\n    offsetY \x3d (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);\n  }\n  vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n  gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  vec4 texCoord \x3d ").concat(this.texCoordExpression,
";\n  float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? texCoord.s : texCoord.p;\n  float v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? texCoord.t : texCoord.q;\n  v_texCoord \x3d vec2(u, v);\n  u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v \x3d a_index \x3d\x3d 2.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n  v_quadCoord \x3d vec2(u, v);\n").concat(k.map(function(f){return"  "+f.name+" \x3d "+f.expression+";"}).join("\n"),"\n}")};n.prototype.getSymbolFragmentShader=
function(v){var r=v?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"",h=this.varyings;v&&(h=h.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return"precision mediump float;\nuniform float u_time;\nuniform float u_zoom;\nuniform float u_resolution;\n".concat(this.uniforms.map(function(k){return"uniform "+k+";"}).join("\n"),"\nvarying vec2 v_texCoord;\nvarying vec2 v_quadCoord;\n").concat(h.map(function(k){return"varying "+k.type+" "+k.name+";"}).join("\n"),
"\nvoid main(void) {\n  if (").concat(this.discardExpression,") { discard; }\n  gl_FragColor \x3d ").concat(this.colorExpression,";\n  gl_FragColor.rgb *\x3d gl_FragColor.a;\n").concat(r,"\n}")};return n}();G.ShaderBuilder=p};
shadow$provide[381]=function(sa,F,ob,G){function y(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=y(F(89));var p=y(F(361)),n=F(80),v=F(380),r=function(){var h=function(k,f){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(e[a]=d[a])};return h(k,f)};return function(k,f){function e(){this.constructor=k}if("function"!==typeof f&&
null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");h(k,f);k.prototype=null===f?Object.create(f):(e.prototype=f.prototype,new e)}}();F=function(h){function k(f){var e=(0,n.assign)({},f);e=h.call(this,e)||this;e.parseResult_=(0,v.parseLiteralStyle)(f.style);e.styleVariables_=f.style.variables||{};e.hitDetectionDisabled_=!!f.disableHitDetection;return e}r(k,h);k.prototype.createRenderer=function(){return new p.default(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),
fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})};k.prototype.updateStyleVariables=function(f){(0,n.assign)(this.styleVariables_,f);this.changed()};return k}(sa.default);G.default=F};
shadow$provide[382]=function(sa,F,ob,G){function y(e){if("function"!==typeof WeakMap)return null;var d=new WeakMap,a=new WeakMap;return(y=function(c){return c?a:d})(e)}function p(e){return e&&e.__esModule?e:{default:e}}function n(e,d){var a="\n    attribute vec2 ".concat(r.Attributes.TEXTURE_COORD,";\n    uniform mat4 ").concat(r.Uniforms.TILE_TRANSFORM,";\n    uniform float ").concat(r.Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(r.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(r.Uniforms.TEXTURE_RESOLUTION,
";\n    uniform float ").concat(r.Uniforms.TEXTURE_ORIGIN_X,";\n    uniform float ").concat(r.Uniforms.TEXTURE_ORIGIN_Y,";\n    uniform float ").concat(r.Uniforms.DEPTH,";\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n\n    void main() {\n      v_textureCoord \x3d ").concat(r.Attributes.TEXTURE_COORD,";\n      v_mapCoord \x3d vec2(\n        ").concat(r.Uniforms.TEXTURE_ORIGIN_X," + ").concat(r.Uniforms.TEXTURE_RESOLUTION," * ").concat(r.Uniforms.TEXTURE_PIXEL_WIDTH," * v_textureCoord[0],\n        ").concat(r.Uniforms.TEXTURE_ORIGIN_Y,
" - ").concat(r.Uniforms.TEXTURE_RESOLUTION," * ").concat(r.Uniforms.TEXTURE_PIXEL_HEIGHT," * v_textureCoord[1]\n      );\n      gl_Position \x3d ").concat(r.Uniforms.TILE_TRANSFORM," * vec4(").concat(r.Attributes.TEXTURE_COORD,", ").concat(r.Uniforms.DEPTH,", 1.0);\n    }\n  "),c={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:d},b=[];if(void 0!==e.color){var m=(0,h.expressionToGlsl)(c,e.color,h.ValueTypes.COLOR);b.push("color \x3d ".concat(m,";"))}void 0!==
e.contrast&&(m=(0,h.expressionToGlsl)(c,e.contrast,h.ValueTypes.NUMBER),b.push("color.rgb \x3d clamp((".concat(m," + 1.0) * color.rgb - (").concat(m," / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));void 0!==e.exposure&&(m=(0,h.expressionToGlsl)(c,e.exposure,h.ValueTypes.NUMBER),b.push("color.rgb \x3d clamp((".concat(m," + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));void 0!==e.saturation&&(m=(0,h.expressionToGlsl)(c,e.saturation,h.ValueTypes.NUMBER),b.push("\n      float saturation \x3d ".concat(m,
" + 1.0;\n      float sr \x3d (1.0 - saturation) * 0.2126;\n      float sg \x3d (1.0 - saturation) * 0.7152;\n      float sb \x3d (1.0 - saturation) * 0.0722;\n      mat3 saturationMatrix \x3d mat3(\n        sr + saturation, sr, sr,\n        sg, sg + saturation, sg,\n        sb, sb, sb + saturation\n      );\n      color.rgb \x3d clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));\n    ")));void 0!==e.gamma&&(m=(0,h.expressionToGlsl)(c,e.gamma,h.ValueTypes.NUMBER),b.push("color.rgb \x3d pow(color.rgb, vec3(1.0 / ".concat(m,
"));")));void 0!==e.brightness&&(m=(0,h.expressionToGlsl)(c,e.brightness,h.ValueTypes.NUMBER),b.push("color.rgb \x3d clamp(color.rgb + ".concat(m,", vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));")));var z={};m=c.variables.length;if(1<m&&!e.variables)throw Error("Missing variables in style (expected ".concat(c.variables,")"));var u=function(J){var A=c.variables[J];if(!(A in e.variables))throw Error("Missing '".concat(A,"' in style variables"));J=(0,h.uniformNameForVariable)(A);z[J]=function(){var x=e.variables[A];
"string"===typeof x&&(x=(0,h.getStringNumberEquivalent)(c,x));return void 0!==x?x:-9999999}},C=0;for(;C<m;++C)u(C);m=Object.keys(z).map(function(J){return"uniform float ".concat(J,";")});d=Math.ceil(d/4);m.push("uniform sampler2D ".concat(r.Uniforms.TILE_TEXTURE_ARRAY,"[").concat(d,"];"));c.paletteTextures&&m.push("uniform sampler2D ".concat(h.PALETTE_TEXTURE_ARRAY,"[").concat(c.paletteTextures.length,"];"));d=Object.keys(c.functions).map(function(J){return c.functions[J]});b="\n    #ifdef GL_FRAGMENT_PRECISION_HIGH\n    precision highp float;\n    #else\n    precision mediump float;\n    #endif\n\n    varying vec2 v_textureCoord;\n    varying vec2 v_mapCoord;\n    uniform vec4 ".concat(r.Uniforms.RENDER_EXTENT,
";\n    uniform float ").concat(r.Uniforms.TRANSITION_ALPHA,";\n    uniform float ").concat(r.Uniforms.TEXTURE_PIXEL_WIDTH,";\n    uniform float ").concat(r.Uniforms.TEXTURE_PIXEL_HEIGHT,";\n    uniform float ").concat(r.Uniforms.RESOLUTION,";\n    uniform float ").concat(r.Uniforms.ZOOM,";\n\n    ").concat(m.join("\n"),"\n\n    ").concat(d.join("\n"),"\n\n    void main() {\n      if (\n        v_mapCoord[0] \x3c ").concat(r.Uniforms.RENDER_EXTENT,"[0] ||\n        v_mapCoord[1] \x3c ").concat(r.Uniforms.RENDER_EXTENT,
"[1] ||\n        v_mapCoord[0] \x3e ").concat(r.Uniforms.RENDER_EXTENT,"[2] ||\n        v_mapCoord[1] \x3e ").concat(r.Uniforms.RENDER_EXTENT,"[3]\n      ) {\n        discard;\n      }\n\n      vec4 color \x3d texture2D(").concat(r.Uniforms.TILE_TEXTURE_ARRAY,"[0],  v_textureCoord);\n\n      ").concat(b.join("\n"),"\n\n      if (color.a \x3d\x3d 0.0) {\n        discard;\n      }\n\n      gl_FragColor \x3d color;\n      gl_FragColor.rgb *\x3d gl_FragColor.a;\n      gl_FragColor *\x3d ").concat(r.Uniforms.TRANSITION_ALPHA,
";\n    }");return{vertexShader:a,fragmentShader:b,uniforms:z,paletteTextures:c.paletteTextures}}Object.defineProperty(G,"__esModule",{value:!0});G.default=void 0;sa=p(F(333));var v=p(F(86)),r=function(e,d){if(!d&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((d=y(d))&&d.has(e))return d.get(e);var a={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,b;for(b in e)if("default"!==b&&Object.prototype.hasOwnProperty.call(e,b)){var m=c?Object.getOwnPropertyDescriptor(e,
b):null;m&&(m.get||m.set)?Object.defineProperty(a,b,m):a[b]=e[b]}a.default=e;d&&d.set(e,a);return a}(F(378)),h=F(379),k=F(80),f=function(){var e=function(d,a){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,b){c.__proto__=b}||function(c,b){for(var m in b)Object.prototype.hasOwnProperty.call(b,m)&&(c[m]=b[m])};return e(d,a)};return function(d,a){function c(){this.constructor=d}if("function"!==typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");
e(d,a);d.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}}();F=function(e){function d(a){var c=a?(0,k.assign)({},a):{},b=c.style||{};delete c.style;var m=c.cacheSize;delete c.cacheSize;a=e.call(this,c)||this;a.sources_=c.sources;a.renderedSource_=null;a.renderedResolution_=NaN;a.style_=b;a.cacheSize_=m;a.styleVariables_=a.style_.variables||{};a.addChangeListener(v.default.SOURCE,a.handleSourceUpdate_);return a}f(d,e);d.prototype.getSources=function(a,c){var b=this.getSource();
return this.sources_?"function"===typeof this.sources_?this.sources_(a,c):this.sources_:b?[b]:[]};d.prototype.getRenderSource=function(){return this.renderedSource_||this.getSource()};d.prototype.getSourceState=function(){var a=this.getRenderSource();return a?a.getState():"undefined"};d.prototype.handleSourceUpdate_=function(){this.getSource()&&this.setStyle(this.style_)};d.prototype.getSourceBandCount_=function(){var a=Number.MAX_SAFE_INTEGER;return(a=this.getSources([-a,-a,a,a],a))&&a.length&&"bandCount"in
a[0]?a[0].bandCount:4};d.prototype.createRenderer=function(){var a=n(this.style_,this.getSourceBandCount_());return new r.default(this,{vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms,cacheSize:this.cacheSize_,paletteTextures:a.paletteTextures})};d.prototype.renderSources=function(a,c){for(var b=this.getRenderer(),m,z=0,u=c.length;z<u;++z)this.renderedSource_=c[z],b.prepareFrame(a)&&(m=b.renderFrame(a));return m};d.prototype.render=function(a,c){var b=this;this.rendered=
!0;c=a.viewState;for(var m=this.getSources(a.extent,c.resolution),z=!0,u=function(A,x){var q=m[A];A=q.getState();if("loading"==A){var H=function(){"ready"==q.getState()&&(q.removeEventListener("change",H),b.changed())};q.addEventListener("change",H)}z=z&&"ready"==A},C=0,J=m.length;C<J;++C)u(C,J);u=this.renderSources(a,m);return this.getRenderer().renderComplete&&z?(this.renderedResolution_=c.resolution,u):this.renderedResolution_>.5*c.resolution&&(c=this.getSources(a.extent,this.renderedResolution_).filter(function(A){return!m.includes(A)}),
0<c.length)?this.renderSources(a,c):u};d.prototype.setStyle=function(a){this.styleVariables_=a.variables||{};this.style_=a;a=n(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:a.vertexShader,fragmentShader:a.fragmentShader,uniforms:a.uniforms,paletteTextures:a.paletteTextures});this.changed()};d.prototype.updateStyleVariables=function(a){(0,k.assign)(this.styleVariables_,a);this.changed()};return d}(sa.default);G.default=F};
shadow$provide[383]=function(sa,F,ob,G){function y(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(G,"__esModule",{value:!0});Object.defineProperty(G,"Graticule",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(G,"Group",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(G,"Heatmap",{enumerable:!0,get:function(){return v.default}});Object.defineProperty(G,"Image",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(G,"Layer",
{enumerable:!0,get:function(){return h.default}});Object.defineProperty(G,"MapboxVector",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(G,"Tile",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(G,"Vector",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(G,"VectorImage",{enumerable:!0,get:function(){return d.default}});Object.defineProperty(G,"VectorTile",{enumerable:!0,get:function(){return a.default}});Object.defineProperty(G,
"WebGLPoints",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(G,"WebGLTile",{enumerable:!0,get:function(){return b.default}});var p=y(F(351)),n=y(F(100)),v=y(F(362)),r=y(F(331)),h=y(F(89)),k=y(F(373)),f=y(F(335)),e=y(F(224)),d=y(F(375)),a=y(F(369)),c=y(F(381)),b=y(F(382))};
shadow$provide[384]=function(sa,F,ob,G){(function(y,p){"function"==typeof define&&define.amd?define([],p):"undefined"!=typeof G?p():(p(),y.FileSaver={})})(this,function(){function y(f,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["",f],{type:f.type}):f}function p(f,e,d){var a=new XMLHttpRequest;
a.open("GET",f);a.responseType="blob";a.onload=function(){k(a.response,e,d)};a.onerror=function(){console.error("could not download file")};a.send()}function n(f){var e=new XMLHttpRequest;e.open("HEAD",f,!1);try{e.send()}catch(d){}return 200<=e.status&&299>=e.status}function v(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(d){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);f.dispatchEvent(e)}}var r="object"==typeof window&&window.window===
window?window:"object"==typeof self&&self.self===self?self:"object"==typeof sa&&sa.global===sa?sa:void 0,h=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),k=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(f,e,d){var a=r.URL||r.webkitURL,c=document.createElement("a");e=e||f.name||"download";c.download=e;c.rel="noopener";"string"==typeof f?(c.href=f,c.origin===
location.origin?v(c):n(c.href)?p(f,e,d):v(c,c.target="_blank")):(c.href=a.createObjectURL(f),setTimeout(function(){a.revokeObjectURL(c.href)},4E4),setTimeout(function(){v(c)},0))}:"msSaveOrOpenBlob"in navigator?function(f,e,d){if(e=e||f.name||"download","string"!=typeof f)navigator.msSaveOrOpenBlob(y(f,d),e);else if(n(f))p(f,e,d);else{var a=document.createElement("a");a.href=f;a.target="_blank";setTimeout(function(){v(a)})}}:function(f,e,d,a){if(a=a||open("","_blank"),a&&(a.document.title=a.document.body.innerText=
"downloading..."),"string"==typeof f)return p(f,e,d);e="application/octet-stream"===f.type;d=/constructor/i.test(r.HTMLElement)||r.safari;var c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||e&&d||h)&&"undefined"!=typeof FileReader){var b=new FileReader;b.onloadend=function(){var u=b.result;u=c?u:u.replace(/^data:[^;]*;/,"data:attachment/file;");a?a.location.href=u:location=u;a=null};b.readAsDataURL(f)}else{var m=r.URL||r.webkitURL,z=m.createObjectURL(f);a?a.location=z:location.href=z;a=null;setTimeout(function(){m.revokeObjectURL(z)},
4E4)}});r.saveAs=k.saveAs=k;"undefined"!=typeof ob&&(ob.exports=k)})};
shadow$provide[385]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"undefined"!==typeof ob?ob.exports=p():"function"===typeof define&&define.amd?define(p):y.Popper=p()})(this,function(){function y(Y){var ja=!1;return function(){ja||(ja=!0,window.Promise.resolve().then(function(){ja=!1;Y()}))}}function p(Y){var ja=!1;return function(){ja||(ja=!0,setTimeout(function(){ja=!1;Y()},Da))}}function n(Y){var ja={};return Y&&"[object Function]"===ja.toString.call(Y)}function v(Y,ja){if(1!==Y.nodeType)return[];
Y=Y.ownerDocument.defaultView.getComputedStyle(Y,null);return ja?Y[ja]:Y}function r(Y){return"HTML"===Y.nodeName?Y:Y.parentNode||Y.host}function h(Y){if(!Y)return document.body;switch(Y.nodeName){case "HTML":case "BODY":return Y.ownerDocument.body;case "#document":return Y.body}var ja=v(Y);return/(auto|scroll|overlay)/.test(ja.overflow+ja.overflowY+ja.overflowX)?Y:h(r(Y))}function k(Y){return 11===Y?ua:10===Y?Aa:ua||Aa}function f(Y){if(!Y)return document.documentElement;for(var ja=k(10)?document.body:
null,Ga=Y.offsetParent||null;Ga===ja&&Y.nextElementSibling;)Ga=(Y=Y.nextElementSibling).offsetParent;return(ja=Ga&&Ga.nodeName)&&"BODY"!==ja&&"HTML"!==ja?-1!==["TH","TD","TABLE"].indexOf(Ga.nodeName)&&"static"===v(Ga,"position")?f(Ga):Ga:Y?Y.ownerDocument.documentElement:document.documentElement}function e(Y){return null!==Y.parentNode?e(Y.parentNode):Y}function d(Y,ja){if(!(Y&&Y.nodeType&&ja&&ja.nodeType))return document.documentElement;var Ga=Y.compareDocumentPosition(ja)&Node.DOCUMENT_POSITION_FOLLOWING,
Wa=Ga?Y:ja,cb=Ga?ja:Y;Ga=document.createRange();Ga.setStart(Wa,0);Ga.setEnd(cb,0);Ga=Ga.commonAncestorContainer;if(Y!==Ga&&ja!==Ga||Wa.contains(cb))return Y=Ga.nodeName,Y="BODY"===Y?!1:"HTML"===Y||f(Ga.firstElementChild)===Ga,Y?Ga:f(Ga);Wa=e(Y);return Wa.host?d(Wa.host,ja):d(Y,e(ja).host)}function a(Y){var ja="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",Ga=Y.nodeName;return"BODY"===Ga||"HTML"===Ga?(Ga=Y.ownerDocument.documentElement,(Y.ownerDocument.scrollingElement||
Ga)[ja]):Y[ja]}function c(Y,ja){var Ga=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Wa=a(ja,"top"),cb=a(ja,"left");Ga=Ga?-1:1;Y.top+=Wa*Ga;Y.bottom+=Wa*Ga;Y.left+=cb*Ga;Y.right+=cb*Ga;return Y}function b(Y,ja){ja="x"===ja?"Left":"Top";var Ga="Left"===ja?"Right":"Bottom";return parseFloat(Y["border"+ja+"Width"])+parseFloat(Y["border"+Ga+"Width"])}function m(Y,ja,Ga,Wa){return Math.max(ja["offset"+Y],ja["scroll"+Y],Ga["client"+Y],Ga["offset"+Y],Ga["scroll"+Y],k(10)?parseInt(Ga["offset"+
Y])+parseInt(Wa["margin"+("Height"===Y?"Top":"Left")])+parseInt(Wa["margin"+("Height"===Y?"Bottom":"Right")]):0)}function z(Y){var ja=Y.body;Y=Y.documentElement;var Ga=k(10)&&getComputedStyle(Y);return{height:m("Height",ja,Y,Ga),width:m("Width",ja,Y,Ga)}}function u(Y){return Va({},Y,{right:Y.left+Y.width,bottom:Y.top+Y.height})}function C(Y){var ja={};try{if(k(10)){ja=Y.getBoundingClientRect();var Ga=a(Y,"top"),Wa=a(Y,"left");ja.top+=Ga;ja.left+=Wa;ja.bottom+=Ga;ja.right+=Wa}else ja=Y.getBoundingClientRect()}catch(cb){}ja=
{left:ja.left,top:ja.top,width:ja.right-ja.left,height:ja.bottom-ja.top};Wa="HTML"===Y.nodeName?z(Y.ownerDocument):{};Ga=Y.offsetWidth-(Wa.width||Y.clientWidth||ja.width);Wa=Y.offsetHeight-(Wa.height||Y.clientHeight||ja.height);if(Ga||Wa)Y=v(Y),Ga-=b(Y,"x"),Wa-=b(Y,"y"),ja.width-=Ga,ja.height-=Wa;return u(ja)}function J(Y,ja){var Ga=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Wa=k(10),cb="HTML"===ja.nodeName,nb=C(Y),pb=C(ja),Fb=h(Y),nc=v(ja),Lc=parseFloat(nc.borderTopWidth),Ac=parseFloat(nc.borderLeftWidth);
Ga&&cb&&(pb.top=Math.max(pb.top,0),pb.left=Math.max(pb.left,0));nb=u({top:nb.top-pb.top-Lc,left:nb.left-pb.left-Ac,width:nb.width,height:nb.height});nb.marginTop=0;nb.marginLeft=0;!Wa&&cb&&(cb=parseFloat(nc.marginTop),nc=parseFloat(nc.marginLeft),nb.top-=Lc-cb,nb.bottom-=Lc-cb,nb.left-=Ac-nc,nb.right-=Ac-nc,nb.marginTop=cb,nb.marginLeft=nc);if(Wa&&!Ga?ja.contains(Fb):ja===Fb&&"BODY"!==Fb.nodeName)nb=c(nb,ja);return nb}function A(Y){var ja=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,
Ga=Y.ownerDocument.documentElement,Wa=J(Y,Ga),cb=Math.max(Ga.clientWidth,window.innerWidth||0),nb=Math.max(Ga.clientHeight,window.innerHeight||0),pb=ja?0:a(Ga);ja=ja?0:a(Ga,"left");return u({top:pb-Wa.top+Wa.marginTop,left:ja-Wa.left+Wa.marginLeft,width:cb,height:nb})}function x(Y){var ja=Y.nodeName;return"BODY"===ja||"HTML"===ja?!1:"fixed"===v(Y,"position")?!0:(Y=r(Y))?x(Y):!1}function q(Y){if(!Y||!Y.parentElement||k())return document.documentElement;for(Y=Y.parentElement;Y&&"none"===v(Y,"transform");)Y=
Y.parentElement;return Y||document.documentElement}function H(Y,ja,Ga,Wa){var cb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,nb={top:0,left:0},pb=cb?q(Y):d(Y,ja&&ja.referenceNode?ja.referenceNode:ja);if("viewport"===Wa)nb=A(pb,cb);else{if("scrollParent"===Wa){var Fb=h(r(ja));"BODY"===Fb.nodeName&&(Fb=Y.ownerDocument.documentElement)}else Fb="window"===Wa?Y.ownerDocument.documentElement:Wa;cb=J(Fb,pb,cb);"HTML"!==Fb.nodeName||x(pb)?nb=cb:(Fb=z(Y.ownerDocument),pb=Fb.height,Fb=Fb.width,
nb.top+=cb.top-cb.marginTop,nb.bottom=pb+cb.top,nb.left+=cb.left-cb.marginLeft,nb.right=Fb+cb.left)}Ga=Ga||0;cb="number"===typeof Ga;nb.left+=cb?Ga:Ga.left||0;nb.top+=cb?Ga:Ga.top||0;nb.right-=cb?Ga:Ga.right||0;nb.bottom-=cb?Ga:Ga.bottom||0;return nb}function M(Y,ja,Ga,Wa,cb){var nb=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===Y.indexOf("auto"))return Y;nb=H(Ga,Wa,nb,cb);var pb={top:{width:nb.width,height:ja.top-nb.top},right:{width:nb.right-ja.right,height:nb.height},bottom:{width:nb.width,
height:nb.bottom-ja.bottom},left:{width:ja.left-nb.left,height:nb.height}};nb=Object.keys(pb).map(function(nc){var Lc=pb[nc];return Va({key:nc},pb[nc],{area:Lc.width*Lc.height})}).sort(function(nc,Lc){return Lc.area-nc.area});var Fb=nb.filter(function(nc){var Lc=nc.height;return nc.width>=Ga.clientWidth&&Lc>=Ga.clientHeight});nb=0<Fb.length?Fb[0].key:nb[0].key;Fb=Y.split("-")[1];return nb+(Fb?"-"+Fb:"")}function R(Y,ja,Ga){var Wa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,cb=Wa?q(ja):
d(ja,Ga&&Ga.referenceNode?Ga.referenceNode:Ga);return J(Ga,cb,Wa)}function Z(Y){var ja=Y.ownerDocument.defaultView.getComputedStyle(Y),Ga=parseFloat(ja.marginTop||0)+parseFloat(ja.marginBottom||0);ja=parseFloat(ja.marginLeft||0)+parseFloat(ja.marginRight||0);return{width:Y.offsetWidth+ja,height:Y.offsetHeight+Ga}}function T(Y){var ja={left:"right",right:"left",bottom:"top",top:"bottom"};return Y.replace(/left|right|bottom|top/g,function(Ga){return ja[Ga]})}function ba(Y,ja,Ga){Ga=Ga.split("-")[0];
Y=Z(Y);var Wa={width:Y.width,height:Y.height},cb=-1!==["right","left"].indexOf(Ga),nb=cb?"top":"left",pb=cb?"left":"top",Fb=cb?"height":"width";Wa[nb]=ja[nb]+ja[Fb]/2-Y[Fb]/2;Wa[pb]=Ga===pb?ja[pb]-Y[cb?"width":"height"]:ja[T(pb)];return Wa}function aa(Y,ja){return Array.prototype.find?Y.find(ja):Y.filter(ja)[0]}function W(Y,ja,Ga){if(Array.prototype.findIndex)return Y.findIndex(function(cb){return cb[ja]===Ga});var Wa=aa(Y,function(cb){return cb[ja]===Ga});return Y.indexOf(Wa)}function X(Y,ja,Ga){(void 0===
Ga?Y:Y.slice(0,W(Y,"name",Ga))).forEach(function(Wa){Wa["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var cb=Wa["function"]||Wa.fn;Wa.enabled&&n(cb)&&(ja.offsets.popper=u(ja.offsets.popper),ja.offsets.reference=u(ja.offsets.reference),ja=cb(ja,Wa))});return ja}function P(Y,ja){return Y.some(function(Ga){var Wa=Ga.name;return Ga.enabled&&Wa===ja})}function w(Y){for(var ja=[!1,"ms","Webkit","Moz","O"],Ga=Y.charAt(0).toUpperCase()+Y.slice(1),Wa=0;Wa<ja.length;Wa++){var cb=
ja[Wa];cb=cb?""+cb+Ga:Y;if("undefined"!==typeof document.body.style[cb])return cb}return null}function B(Y){return(Y=Y.ownerDocument)?Y.defaultView:window}function K(Y,ja,Ga,Wa){var cb="BODY"===Y.nodeName;Y=cb?Y.ownerDocument.defaultView:Y;Y.addEventListener(ja,Ga,{passive:!0});cb||K(h(Y.parentNode),ja,Ga,Wa);Wa.push(Y)}function U(Y,ja){B(Y).removeEventListener("resize",ja.updateBound);ja.scrollParents.forEach(function(Ga){Ga.removeEventListener("scroll",ja.updateBound)});ja.updateBound=null;ja.scrollParents=
[];ja.scrollElement=null;ja.eventsEnabled=!1;return ja}function ka(Y){return""!==Y&&!isNaN(parseFloat(Y))&&isFinite(Y)}function da(Y,ja){Object.keys(ja).forEach(function(Ga){var Wa="";-1!=="width height top right bottom left".split(" ").indexOf(Ga)&&ka(ja[Ga])&&(Wa="px");Y.style[Ga]=ja[Ga]+Wa})}function la(Y,ja){Object.keys(ja).forEach(function(Ga){!1!==ja[Ga]?Y.setAttribute(Ga,ja[Ga]):Y.removeAttribute(Ga)})}function wa(Y,ja){var Ga=Y.offsets,Wa=Ga.popper,cb=Math.round,nb=Math.floor,pb=function(Lc){return Lc};
Ga=cb(Ga.reference.width);var Fb=cb(Wa.width),nc=-1!==["left","right"].indexOf(Y.placement);Y=-1!==Y.placement.indexOf("-");nb=ja?nc||Y||Ga%2===Fb%2?cb:nb:pb;cb=ja?cb:pb;return{left:nb(1===Ga%2&&1===Fb%2&&!Y&&ja?Wa.left-1:Wa.left),top:cb(Wa.top),bottom:cb(Wa.bottom),right:nb(Wa.right)}}function Ua(Y,ja,Ga){var Wa=aa(Y,function(nb){return nb.name===ja});Y=!!Wa&&Y.some(function(nb){return nb.name===Ga&&nb.enabled&&nb.order<Wa.order});if(!Y){var cb="`"+ja+"`";console.warn("`"+Ga+"` modifier is required by "+
cb+" modifier in order to work, be sure to include it before "+cb+"!")}return Y}function hb(Y){var ja=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,Ga=Qa.indexOf(Y);Ga=Qa.slice(Ga+1).concat(Qa.slice(0,Ga));return ja?Ga.reverse():Ga}function La(Y,ja,Ga,Wa){var cb=[0,0],nb=-1!==["right","left"].indexOf(Wa);Y=Y.split(/(\+|\-)/).map(function(Fb){return Fb.trim()});Wa=Y.indexOf(aa(Y,function(Fb){return-1!==Fb.search(/,|\s/)}));Y[Wa]&&-1===Y[Wa].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");
var pb=/\s*,\s*|\s+/;Y=-1!==Wa?[Y.slice(0,Wa).concat([Y[Wa].split(pb)[0]]),[Y[Wa].split(pb)[1]].concat(Y.slice(Wa+1))]:[Y];Y=Y.map(function(Fb,nc){var Lc=(1===nc?!nb:nb)?"height":"width",Ac=!1;return Fb.reduce(function(yc,tc){return""===yc[yc.length-1]&&-1!==["+","-"].indexOf(tc)?(yc[yc.length-1]=tc,Ac=!0,yc):Ac?(yc[yc.length-1]+=tc,Ac=!1,yc):yc.concat(tc)},[]).map(function(yc){var tc=yc.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var hd=+tc[1];tc=tc[2];if(hd)if(0===tc.indexOf("%")){switch(tc){case "%p":yc=
ja;break;default:yc=Ga}hd*=u(yc)[Lc]/100}else hd="vh"===tc||"vw"===tc?("vh"===tc?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*hd:hd;else hd=yc;return hd})});Y.forEach(function(Fb,nc){Fb.forEach(function(Lc,Ac){ka(Lc)&&(cb[nc]+=Lc*("-"===Fb[Ac-1]?-1:1))})});return cb}var pa="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Da=function(){for(var Y=["Edge","Trident",
"Firefox"],ja=0;ja<Y.length;ja+=1)if(pa&&0<=navigator.userAgent.indexOf(Y[ja]))return 1;return 0}(),Ma=pa&&window.Promise?y:p,ua=pa&&!(!window.MSInputMethodContext||!document.documentMode),Aa=pa&&/MSIE 10/.test(navigator.userAgent),qa=function(){function Y(ja,Ga){for(var Wa=0;Wa<Ga.length;Wa++){var cb=Ga[Wa];cb.enumerable=cb.enumerable||!1;cb.configurable=!0;"value"in cb&&(cb.writable=!0);Object.defineProperty(ja,cb.key,cb)}}return function(ja,Ga,Wa){Ga&&Y(ja.prototype,Ga);Wa&&Y(ja,Wa);return ja}}(),
Ha=function(Y,ja,Ga){ja in Y?Object.defineProperty(Y,ja,{value:Ga,enumerable:!0,configurable:!0,writable:!0}):Y[ja]=Ga;return Y},Va=Object.assign||function(Y){for(var ja=1;ja<arguments.length;ja++){var Ga=arguments[ja],Wa;for(Wa in Ga)Object.prototype.hasOwnProperty.call(Ga,Wa)&&(Y[Wa]=Ga[Wa])}return Y},eb=pa&&/Firefox/i.test(navigator.userAgent),ta="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Qa=ta.slice(3),
oa=function(){function Y(ja,Ga){var Wa=this,cb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof Y))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(Wa.update)};this.update=Ma(this.update.bind(this));this.options=Va({},Y.Defaults,cb);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ja&&ja.jquery?ja[0]:ja;this.popper=Ga&&Ga.jquery?Ga[0]:Ga;this.options.modifiers={};Object.keys(Va({},
Y.Defaults.modifiers,cb.modifiers)).forEach(function(pb){Wa.options.modifiers[pb]=Va({},Y.Defaults.modifiers[pb]||{},cb.modifiers?cb.modifiers[pb]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(pb){return Va({name:pb},Wa.options.modifiers[pb])}).sort(function(pb,Fb){return pb.order-Fb.order});this.modifiers.forEach(function(pb){if(pb.enabled&&n(pb.onLoad))pb.onLoad(Wa.reference,Wa.popper,Wa.options,pb,Wa.state)});this.update();var nb=this.options.eventsEnabled;nb&&this.enableEventListeners();
this.state.eventsEnabled=nb}qa(Y,[{key:"update",value:function(){if(!this.state.isDestroyed){var ja={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ja.offsets.reference=R(this.state,this.popper,this.reference,this.options.positionFixed);ja.placement=M(this.options.placement,ja.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ja.originalPlacement=ja.placement;ja.positionFixed=this.options.positionFixed;
ja.offsets.popper=ba(this.popper,ja.offsets.reference,ja.placement);ja.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";ja=X(this.modifiers,ja);if(this.state.isCreated)this.options.onUpdate(ja);else this.state.isCreated=!0,this.options.onCreate(ja)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right=
"",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[w("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ja=this.reference,Ga=this.state;Ga.updateBound=this.scheduleUpdate;B(ja).addEventListener("resize",Ga.updateBound,{passive:!0});ja=h(ja);K(ja,"scroll",Ga.updateBound,Ga.scrollParents);Ga.scrollElement=
ja;Ga.eventsEnabled=!0;this.state=Ga}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=U(this.reference,this.state))}}]);return Y}();oa.Utils=("undefined"!==typeof window?window:sa).PopperUtils;oa.placements=ta;oa.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(Y){var ja=Y.placement,Ga=ja.split("-")[0];
if(ja=ja.split("-")[1]){var Wa=Y.offsets,cb=Wa.reference;Wa=Wa.popper;var nb=-1!==["bottom","top"].indexOf(Ga);Ga=nb?"left":"top";nb=nb?"width":"height";cb={start:Ha({},Ga,cb[Ga]),end:Ha({},Ga,cb[Ga]+cb[nb]-Wa[nb])};Y.offsets.popper=Va({},Wa,cb[ja])}return Y}},offset:{order:200,enabled:!0,fn:function(Y,ja){var Ga=ja.offset,Wa=Y.offsets;ja=Wa.popper;var cb=Wa.reference;Wa=Y.placement.split("-")[0];Ga=ka(+Ga)?[+Ga,0]:La(Ga,ja,cb,Wa);"left"===Wa?(ja.top+=Ga[0],ja.left-=Ga[1]):"right"===Wa?(ja.top+=Ga[0],
ja.left+=Ga[1]):"top"===Wa?(ja.left+=Ga[0],ja.top-=Ga[1]):"bottom"===Wa&&(ja.left+=Ga[0],ja.top+=Ga[1]);Y.popper=ja;return Y},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(Y,ja){var Ga=ja.boundariesElement||f(Y.instance.popper);Y.instance.reference===Ga&&(Ga=f(Ga));var Wa=w("transform"),cb=Y.instance.popper.style,nb=cb.top,pb=cb.left,Fb=cb[Wa];cb.top="";cb.left="";cb[Wa]="";var nc=H(Y.instance.popper,Y.instance.reference,ja.padding,Ga,Y.positionFixed);cb.top=nb;cb.left=pb;cb[Wa]=Fb;
ja.boundaries=nc;var Lc=Y.offsets.popper,Ac={primary:function(yc){var tc=Lc[yc];Lc[yc]<nc[yc]&&!ja.escapeWithReference&&(tc=Math.max(Lc[yc],nc[yc]));return Ha({},yc,tc)},secondary:function(yc){var tc="right"===yc?"left":"top",hd=Lc[tc];Lc[yc]>nc[yc]&&!ja.escapeWithReference&&(hd=Math.min(Lc[tc],nc[yc]-("right"===yc?Lc.width:Lc.height)));return Ha({},tc,hd)}};ja.priority.forEach(function(yc){var tc=-1!==["left","top"].indexOf(yc)?"primary":"secondary";Lc=Va({},Lc,Ac[tc](yc))});Y.offsets.popper=Lc;
return Y},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(Y){var ja=Y.offsets,Ga=ja.popper;ja=ja.reference;var Wa=Y.placement.split("-")[0],cb=Math.floor,nb=-1!==["top","bottom"].indexOf(Wa);Wa=nb?"right":"bottom";var pb=nb?"left":"top";nb=nb?"width":"height";Ga[Wa]<cb(ja[pb])&&(Y.offsets.popper[pb]=cb(ja[pb])-Ga[nb]);Ga[pb]>cb(ja[Wa])&&(Y.offsets.popper[pb]=cb(ja[Wa]));return Y}},arrow:{order:500,enabled:!0,fn:function(Y,
ja){var Ga;if(!Ua(Y.instance.modifiers,"arrow","keepTogether"))return Y;ja=ja.element;if("string"===typeof ja){if(ja=Y.instance.popper.querySelector(ja),!ja)return Y}else if(!Y.instance.popper.contains(ja))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),Y;var Wa=Y.placement.split("-")[0],cb=Y.offsets,nb=cb.popper,pb=cb.reference,Fb=-1!==["left","right"].indexOf(Wa);Wa=Fb?"height":"width";var nc=Fb?"Top":"Left";cb=nc.toLowerCase();var Lc=Fb?"left":"top",Ac=Fb?"bottom":
"right";Fb=Z(ja)[Wa];pb[Ac]-Fb<nb[cb]&&(Y.offsets.popper[cb]-=nb[cb]-(pb[Ac]-Fb));pb[cb]+Fb>nb[Ac]&&(Y.offsets.popper[cb]+=pb[cb]+Fb-nb[Ac]);Y.offsets.popper=u(Y.offsets.popper);pb=pb[cb]+pb[Wa]/2-Fb/2;var yc=v(Y.instance.popper);Ac=parseFloat(yc["margin"+nc]);nc=parseFloat(yc["border"+nc+"Width"]);nc=pb-Y.offsets.popper[cb]-Ac-nc;nc=Math.max(Math.min(nb[Wa]-Fb,nc),0);Y.arrowElement=ja;Y.offsets.arrow=(Ga={},Ha(Ga,cb,Math.round(nc)),Ha(Ga,Lc,""),Ga);return Y},element:"[x-arrow]"},flip:{order:600,
enabled:!0,fn:function(Y,ja){if(P(Y.instance.modifiers,"inner")||Y.flipped&&Y.placement===Y.originalPlacement)return Y;var Ga=H(Y.instance.popper,Y.instance.reference,ja.padding,ja.boundariesElement,Y.positionFixed),Wa=Y.placement.split("-")[0],cb=T(Wa),nb=Y.placement.split("-")[1]||"",pb=[];switch(ja.behavior){case "flip":pb=[Wa,cb];break;case "clockwise":pb=hb(Wa);break;case "counterclockwise":pb=hb(Wa,!0);break;default:pb=ja.behavior}pb.forEach(function(Fb,nc){if(Wa!==Fb||pb.length===nc+1)return Y;
Wa=Y.placement.split("-")[0];cb=T(Wa);var Lc=Y.offsets.popper;Fb=Y.offsets.reference;var Ac=Math.floor;Fb="left"===Wa&&Ac(Lc.right)>Ac(Fb.left)||"right"===Wa&&Ac(Lc.left)<Ac(Fb.right)||"top"===Wa&&Ac(Lc.bottom)>Ac(Fb.top)||"bottom"===Wa&&Ac(Lc.top)<Ac(Fb.bottom);var yc=Ac(Lc.left)<Ac(Ga.left),tc=Ac(Lc.right)>Ac(Ga.right),hd=Ac(Lc.top)<Ac(Ga.top);Ac=Ac(Lc.bottom)>Ac(Ga.bottom);Lc="left"===Wa&&yc||"right"===Wa&&tc||"top"===Wa&&hd||"bottom"===Wa&&Ac;var Mb=-1!==["top","bottom"].indexOf(Wa),Ab=!!ja.flipVariationsByContent&&
(Mb&&"start"===nb&&tc||Mb&&"end"===nb&&yc||!Mb&&"start"===nb&&Ac||!Mb&&"end"===nb&&hd);yc=!!ja.flipVariations&&(Mb&&"start"===nb&&yc||Mb&&"end"===nb&&tc||!Mb&&"start"===nb&&hd||!Mb&&"end"===nb&&Ac)||Ab;if(Fb||Lc||yc){Y.flipped=!0;if(Fb||Lc)Wa=pb[nc+1];yc&&("end"===nb?nb="start":"start"===nb&&(nb="end"));Y.placement=Wa+(nb?"-"+nb:"");Y.offsets.popper=Va({},Y.offsets.popper,ba(Y.instance.popper,Y.offsets.reference,Y.placement));Y=X(Y.instance.modifiers,Y,"flip")}});return Y},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(Y){var ja=Y.placement,Ga=ja.split("-")[0],Wa=Y.offsets,cb=Wa.popper;Wa=Wa.reference;var nb=-1!==["left","right"].indexOf(Ga),pb=-1===["top","left"].indexOf(Ga);cb[nb?"left":"top"]=Wa[Ga]-(pb?cb[nb?"width":"height"]:0);Y.placement=T(ja);Y.offsets.popper=u(cb);return Y}},hide:{order:800,enabled:!0,fn:function(Y){if(!Ua(Y.instance.modifiers,"hide","preventOverflow"))return Y;var ja=Y.offsets.reference,
Ga=aa(Y.instance.modifiers,function(Wa){return"preventOverflow"===Wa.name}).boundaries;if(ja.bottom<Ga.top||ja.left>Ga.right||ja.top>Ga.bottom||ja.right<Ga.left){if(!0===Y.hide)return Y;Y.hide=!0;Y.attributes["x-out-of-boundaries"]=""}else{if(!1===Y.hide)return Y;Y.hide=!1;Y.attributes["x-out-of-boundaries"]=!1}return Y}},computeStyle:{order:850,enabled:!0,fn:function(Y,ja){var Ga=ja.x,Wa=ja.y,cb=Y.offsets.popper,nb=aa(Y.instance.modifiers,function(yc){return"applyStyle"===yc.name}).gpuAcceleration;
void 0!==nb&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ja=void 0!==nb?nb:ja.gpuAcceleration;nb=f(Y.instance.popper);var pb=C(nb);cb={position:cb.position};var Fb=wa(Y,2>window.devicePixelRatio||!eb);Ga="bottom"===Ga?"top":"bottom";Wa="right"===Wa?"left":"right";var nc=w("transform"),Lc=void 0,Ac=void 0;Ac="bottom"===Ga?"HTML"===nb.nodeName?-nb.clientHeight+Fb.bottom:-pb.height+Fb.bottom:Fb.top;Lc="right"===
Wa?"HTML"===nb.nodeName?-nb.clientWidth+Fb.right:-pb.width+Fb.right:Fb.left;ja&&nc?(cb[nc]="translate3d("+Lc+"px, "+Ac+"px, 0)",cb[Ga]=0,cb[Wa]=0,cb.willChange="transform"):(cb[Ga]=Ac*("bottom"===Ga?-1:1),cb[Wa]=Lc*("right"===Wa?-1:1),cb.willChange=Ga+", "+Wa);Y.attributes=Va({},{"x-placement":Y.placement},Y.attributes);Y.styles=Va({},cb,Y.styles);Y.arrowStyles=Va({},Y.offsets.arrow,Y.arrowStyles);return Y},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(Y){da(Y.instance.popper,
Y.styles);la(Y.instance.popper,Y.attributes);Y.arrowElement&&Object.keys(Y.arrowStyles).length&&da(Y.arrowElement,Y.arrowStyles);return Y},onLoad:function(Y,ja,Ga,Wa,cb){Wa=R(cb,ja,Y,Ga.positionFixed);Y=M(Ga.placement,Wa,ja,Y,Ga.modifiers.flip.boundariesElement,Ga.modifiers.flip.padding);ja.setAttribute("x-placement",Y);da(ja,{position:Ga.positionFixed?"fixed":"absolute"});return Ga},gpuAcceleration:void 0}}};return oa})};
shadow$provide[386]=function(sa,F,ob,G){(function(y,p){"object"===typeof G&&"object"===typeof ob?ob.exports=p(F(3),F(385),F(12)):"function"===typeof define&&define.amd?define("reactTippy",["react","popper.js","react-dom"],p):"object"===typeof G?G.reactTippy=p(F(3),F(385),F(12)):y.reactTippy=p(y.React,y.Popper,y.ReactDOM)})(this,function(y,p,n){return function(v){function r(k){if(h[k])return h[k].exports;var f=h[k]={i:k,l:!1,exports:{}};v[k].call(f.exports,f,f.exports,r);f.l=!0;return f.exports}var h=
{};r.m=v;r.c=h;r.i=function(k){return k};r.d=function(k,f,e){r.o(k,f)||Object.defineProperty(k,f,{configurable:!1,enumerable:!0,get:e})};r.n=function(k){var f=k&&k.__esModule?function(){return k["default"]}:function(){return k};r.d(f,"a",f);return f};r.o=function(k,f){return Object.prototype.hasOwnProperty.call(k,f)};r.p="";return r(r.s=15)}([function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});v=r.Browser={};"undefined"!==typeof window&&(v.SUPPORTED="requestAnimationFrame"in window,v.SUPPORTS_TOUCH=
"ontouchstart"in window,v.touch=!1,v.dynamicInputDetection=!0,v.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});r.Store=[];r.Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"};h=r.Defaults={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,
interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,useContext:!1,reactInstance:void 0,popperOptions:{},open:void 0,onRequestClose:function(){}};r.DefaultsKeys=v.SUPPORTED&&Object.keys(h)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){for(var f=
[!1,"webkit"],e=k.charAt(0).toUpperCase()+k.slice(1),d=0;d<f.length;d++){var a=f[d];a=a?""+a+e:k;if("undefined"!==typeof window.document.body.style[a])return a}return null}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k,f){return Array.prototype.find?k.find(f):k.filter(f)[0]}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){return k.replace(/-.+/,"")}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=
function(f,e){return(Element.prototype.closest||function(d){for(var a=this;a;){if(k.matches.call(a,d))return a;a=a.parentElement}}).call(f,e)};var k=h(8)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){window.requestAnimationFrame(function(){setTimeout(k,0)})}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f){return{tooltip:f.querySelector(k.Selectors.TOOLTIP),circle:f.querySelector(k.Selectors.CIRCLE),content:f.querySelector(k.Selectors.CONTENT)}};
var k=h(0)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){return"visible"===k.style.visibility}},function(v,r,h){function k(f){f=(this.document||this.ownerDocument).querySelectorAll(f);for(var e=f.length;0<=--e&&f.item(e)!==this;);return-1<e}Object.defineProperty(r,"__esModule",{value:!0});r.matches="undefined"===typeof window?k:Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||k},function(v,r,h){function k(C,J){if("function"!==typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function, not "+typeof J);C.prototype=Object.create(J&&J.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}});J&&(Object.setPrototypeOf?Object.setPrototypeOf(C,J):C.__proto__=J)}Object.defineProperty(r,"__esModule",{value:!0});var f=Object.assign||function(C){for(var J=1;J<arguments.length;J++){var A=arguments[J],
x;for(x in A)Object.prototype.hasOwnProperty.call(A,x)&&(C[x]=A[x])}return C},e=function(){function C(J,A){for(var x=0;x<A.length;x++){var q=A[x];q.enumerable=q.enumerable||!1;q.configurable=!0;"value"in q&&(q.writable=!0);Object.defineProperty(J,q.key,q)}}return function(J,A,x){A&&C(J.prototype,A);x&&C(J,x);return J}}(),d=(v=h(13))&&v.__esModule?v:{default:v},a=h(30),c=a&&a.__esModule?a:{default:a},b=h(0),m=function(C){return C.stopPropagation()};h={html:null,position:"top",animation:"shift",animateFill:!0,
arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:375,hideDuration:375,interactive:!1,interactiveBorder:2,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},disabled:!1,arrowSize:"regular",size:"regular",className:"",style:{},distance:10,onRequestClose:function(){},sticky:!1,stickyDuration:200,tag:"div",touchHold:!1,unmountHTMLWhenHide:!1,zIndex:9999};var z=Object.keys(h),
u=function(C,J){var A=[];z.forEach(function(x){C[x]!==J[x]&&A.push(x)});return A};v=function(C){function J(A){if(!(this instanceof J))throw new TypeError("Cannot call a class as a function");A=(J.__proto__||Object.getPrototypeOf(J)).call(this,A);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");A=!A||"object"!==typeof A&&"function"!==typeof A?this:A;A.initTippy=A._initTippy.bind(A);A.destroyTippy=A._destroyTippy.bind(A);A.updateTippy=A._updateTippy.bind(A);
A.updateReactDom=A._updateReactDom.bind(A);A.showTooltip=A._showTooltip.bind(A);A.hideTooltip=A._hideTooltip.bind(A);A.updateSettings=A._updateSettings.bind(A);A.state={reactDOMValue:null};return A}k(J,C);e(J,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.initTippy()}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.destroyTippy()}},{key:"componentDidUpdate",value:function(A){var x=
this;"undefined"!==typeof window&&"undefined"!==typeof document&&(!1===this.props.disabled&&!0===A.disabled?(this.updateSettings("disabled",!1),this.destroyTippy(),this.initTippy()):!0===this.props.disabled&&!1===A.disabled?(this.updateSettings("disabled",!0),this.destroyTippy()):(!0!==this.props.open||A.open||(this.updateSettings("open",!0),setTimeout(function(){x.showTooltip()},0)),!1===this.props.open&&!0===A.open&&(this.updateSettings("open",!1),this.hideTooltip()),this.props.html!==A.html&&this.updateReactDom(),
this.props.title!==A.title&&this.updateTippy(),u(this.props,A).forEach(function(q){x.updateSettings(q,x.props[q])})))}},{key:"_showTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var A=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.show(A,this.props.duration)}}},{key:"_hideTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var A=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.hide(A,
this.props.hideDuration)}}},{key:"_updateSettings",value:function(A,x){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var q=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.updateSettings(q,A,x)}}},{key:"_updateReactDom",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){this.updateSettings("reactDOM",this.props.html);var A=this.tippy.getPopperElement(this.tooltipDOM);("visible"===A.style.visibility||this.props.open)&&this.tippy.updateForReact(A,
this.props.html)}}},{key:"_updateTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var A=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.update(A)}}},{key:"_initTippy",value:function(){var A=this;"undefined"!==typeof window&&"undefined"!==typeof document&&b.Browser.SUPPORTED&&(this.props.disabled?this.tippy=null:(this.props.title&&this.tooltipDOM.setAttribute("title",this.props.title),this.tippy=(0,c.default)(this.tooltipDOM,{disabled:this.props.disabled,
position:this.props.position,animation:this.props.animation,animateFill:this.props.animateFill,arrow:this.props.arrow,arrowSize:this.props.arrowSize,delay:this.props.delay,hideDelay:this.props.hideDelay,trigger:this.props.trigger,duration:this.props.duration,hideDuration:this.props.hideDuration,interactive:this.props.interactive,interactiveBorder:this.props.interactiveBorder,theme:this.props.theme,offset:this.props.offset,hideOnClick:this.props.hideOnClick,multiple:this.props.multiple,size:this.props.size,
followCursor:this.props.followCursor,inertia:this.props.inertia,popperOptions:this.props.popperOptions,onShow:this.props.onShow,onShown:this.props.onShown,onHide:this.props.onHide,onHidden:this.props.onHidden,distance:this.props.distance,reactDOM:this.props.html,setReactDOMValue:function(x){return A.setState({reactDOMValue:x})},unmountHTMLWhenHide:this.props.unmountHTMLWhenHide,open:this.props.open,sticky:this.props.sticky,stickyDuration:this.props.stickyDuration,tag:this.props.tag,touchHold:this.props.touchHold,
onRequestClose:this.props.onRequestClose,useContext:this.props.useContext,reactInstance:this.props.useContext?this:void 0,performance:!0,html:this.props.rawTemplate?this.props.rawTemplate:void 0,zIndex:this.props.zIndex}),this.props.open&&this.showTooltip()))}},{key:"_destroyTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var A=this.tippy.getPopperElement(this.tooltipDOM);this.updateSettings("open",!1);this.tippy.hide(A,0);this.tippy.destroy(A);this.tippy=
null}}},{key:"render",value:function(){var A=this;return d.default.createElement(d.default.Fragment,null,d.default.createElement(this.props.tag,{ref:function(x){A.tooltipDOM=x},title:this.props.title,className:this.props.className,tabIndex:this.props.tabIndex,style:f({display:"inline"},this.props.style)},this.props.children),this.state.reactDOMValue&&d.default.createElement("div",{onClick:m,onContextMenu:m,onDoubleClick:m,onDrag:m,onDragEnd:m,onDragEnter:m,onDragExit:m,onDragLeave:m,onDragOver:m,
onDragStart:m,onDrop:m,onMouseDown:m,onMouseEnter:m,onMouseLeave:m,onMouseMove:m,onMouseOver:m,onMouseOut:m,onMouseUp:m,onKeyDown:m,onKeyPress:m,onKeyUp:m,onFocus:m,onBlur:m,onChange:m,onInput:m,onInvalid:m,onSubmit:m},this.state.reactDOMValue))}}]);return J}(v.Component);v.defaultProps=h;r.default=v},function(v,r,h){function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(c){var b=this,m=(0,d.default)(f.Store,function(M){return M.el===
b});if(m){var z=m.popper,u=m.settings.offset;m=(0,e.default)(z.getAttribute("x-placement"));var C=Math.round(z.offsetWidth/2),J=Math.round(z.offsetHeight/2),A=document.documentElement.offsetWidth||document.body.offsetWidth,x=c.pageX,q=c.pageY,H=c=void 0;switch(m){case "top":c=x-C+u;H=q-2.25*J;break;case "left":c=x-2*C-10;H=q-J+u;break;case "right":c=x+J;H=q-J+u;break;case "bottom":c=x-C+u,H=q+J/1.5}J=x+5+C+u>A;u=0>x-5-C+u;if("top"===m||"bottom"===m)J&&(c=A-5-2*C),u&&(c=5);z.style[(0,a.default)("transform")]=
"translate3d("+c+"px, "+H+"px, 0)"}};var f=h(0);v=h(3);var e=k(v);v=h(2);var d=k(v);v=h(1);var a=k(v);h=h(4);k(h)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f){return-(f-k.Defaults.distance)+"px"};var k=h(0)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){var f=k.getAttribute("title");f&&k.setAttribute("data-original-title",f);k.removeAttribute("title")}},function(v,r){v.exports=y},function(v,r,h){Object.defineProperty(r,
"__esModule",{value:!0});var k=(v=h(13))&&v.__esModule?v:{default:v},f=(h=h(9))&&h.__esModule?h:{default:h};r.default=function(e){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(a){var c=[],b={},m;for(m in a)0<=c.indexOf(m)||Object.prototype.hasOwnProperty.call(a,m)&&(b[m]=a[m]);return k.default.createElement(f.default,d,k.default.createElement(e,b))}}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.withTooltip=r.Tooltip=void 0;v=(v=h(9))&&v.__esModule?
v:{default:v};h=(h=h(14))&&h.__esModule?h:{default:h};r.Tooltip=v.default;r.withTooltip=h.default},function(v,r,h){function k(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(){var b=function(){f.Browser.touch=!0;f.Browser.iOS()&&document.body.classList.add("tippy-touch");f.Browser.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",m)},m=function(){var z=void 0;return function(){var u=performance.now();20>u-z&&
(f.Browser.touch=!1,document.removeEventListener("mousemove",m),f.Browser.iOS()||document.body.classList.remove("tippy-touch"));z=u}}();document.addEventListener("click",function(z){if(!(z.target instanceof Element))return(0,e.default)();var u=(0,d.default)(z.target,f.Selectors.TOOLTIPPED_EL),C=(0,d.default)(z.target,f.Selectors.POPPER);if(C){var J=(0,a.default)(f.Store,function(H){return H.popper===C});if(!J||J.settings.interactive)return}if(u){J=(0,a.default)(f.Store,function(H){return H.el===u});
if(!J)return;var A=J.settings,x=A.hideOnClick,q=A.multiple;A=A.trigger;if(!q&&f.Browser.touch||!q&&-1!==A.indexOf("click"))return(0,e.default)(J);if(!0!==x||-1!==A.indexOf("click"))return}!(0,d.default)(z.target,f.Selectors.CONTROLLER)&&document.querySelector(f.Selectors.POPPER)&&(0,e.default)()});document.addEventListener("touchstart",b);window.addEventListener("blur",function(z){(z=document.activeElement)&&z.blur&&c.matches.call(z,f.Selectors.TOOLTIPPED_EL)&&z.blur()});!f.Browser.SUPPORTS_TOUCH&&
(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",b)};var f=h(0);v=h(25);var e=k(v);v=h(4);var d=k(v);v=h(2);var a=k(v),c=h(8)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,d,a){var c=a.position,b=a.distance,m=a.arrow,z=a.animateFill,u=a.inertia,C=a.animation,J=a.arrowSize,A=a.size,x=a.theme,q=a.html,H=a.zIndex;a=a.interactive;var M=document.createElement("div");M.setAttribute("class","tippy-popper");M.setAttribute("role",
"tooltip");M.setAttribute("aria-hidden","true");M.setAttribute("id","tippy-tooltip-"+e);M.style.zIndex=H;var R=document.createElement("div");R.setAttribute("class","tippy-tooltip tippy-tooltip--"+A+" leave");R.setAttribute("data-animation",C);x.split(" ").forEach(function(Z){R.classList.add(Z+"-theme")});m&&(e=document.createElement("div"),e.setAttribute("class","arrow-"+J),e.setAttribute("x-arrow",""),R.appendChild(e));z&&(R.setAttribute("data-animatefill",""),z=document.createElement("div"),z.setAttribute("class",
"leave"),z.setAttribute("x-circle",""),R.appendChild(z));u&&R.setAttribute("data-inertia","");a&&R.setAttribute("data-interactive","");u=document.createElement("div");u.setAttribute("class","tippy-tooltip-content");q?(d=void 0,q instanceof Element?(u.appendChild(q),d="#"+q.id||"tippy-html-template"):(u.innerHTML=document.getElementById(q.replace("#","")).innerHTML,d=q),M.classList.add("html-template"),a&&M.setAttribute("tabindex","-1"),R.setAttribute("data-template-id",d)):u.innerHTML=d;R.style[(0,k.default)(c)]=
(0,f.default)(b);R.appendChild(u);M.appendChild(R);return M};var k=(v=h(3))&&v.__esModule?v:{default:v},f=(h=h(11))&&h.__esModule?h:{default:h}},function(v,r,h){function k(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(r,"__esModule",{value:!0});var f=Object.assign||function(z){for(var u=1;u<arguments.length;u++){var C=arguments[u],J;for(J in C)Object.prototype.hasOwnProperty.call(C,J)&&(z[J]=C[J])}return z};r.default=function(z){var u=z.el,C=z.popper,J=z.settings,A=J.position,x=J.popperOptions,
q=J.offset,H=J.distance,M=J.flipDuration,R=(0,b.default)(C).tooltip;J=f({placement:A},x||{},{modifiers:f({},x?x.modifiers:{},{flip:f({padding:H+5},x&&x.modifiers?x.modifiers.flip:{}),offset:f({offset:q},x&&x.modifiers?x.modifiers.offset:{})}),onUpdate:function(){var T=R.style;T.top="";T.bottom="";T.left="";T.right="";T[(0,c.default)(C.getAttribute("x-placement"))]=(0,m.default)(H)}});if(window.MutationObserver){var Z=C.style;A=new MutationObserver(function(){Z[(0,a.default)("transitionDuration")]=
"0ms";z.popperInstance.update();(0,d.default)(function(){Z[(0,a.default)("transitionDuration")]=M+"ms"})});A.observe(C,{childList:!0,subtree:!0,characterData:!0});z._mutationObserver=A}return new e.default(u,C,J)};v=h(38);var e=k(v);v=h(5);var d=k(v);v=h(1);var a=k(v);v=h(3);var c=k(v);v=h(6);var b=k(v);h=h(11);var m=k(h)},function(v,r,h){function k(z){return z&&z.__esModule?z:{default:z}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(z){var u=this;return z.reduce(function(C,
J){var A=m,x=(0,c.default)(u.settings.performance?u.settings:(0,f.default)(J,u.settings)),q=x.html,H=x.reactDOM,M=x.trigger,R=x.touchHold,Z=J.getAttribute("title");if(!Z&&!q&&!H)return C;J.setAttribute("data-tooltipped","");J.setAttribute("aria-describedby","tippy-tooltip-"+A);(0,b.default)(J);q=(0,e.default)(A,Z,x);var T=a.default.call(u,J,q,x),ba=[];M.trim().split(" ").forEach(function(aa){return ba=ba.concat((0,d.default)(aa,J,T,R))});C.push({id:A,el:J,popper:q,settings:x,listeners:ba,tippyInstance:u});
m++;return C},[])};v=h(24);var f=k(v);v=h(17);var e=k(v);v=h(20);var d=k(v);v=h(23);var a=k(v);v=h(21);var c=k(v);v=h(12);var b=k(v);h(0);var m=1},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e,d,a){var c=[];if("manual"===f)return c;e.addEventListener(f,d.handleTrigger);c.push({event:f,handler:d.handleTrigger});"mouseenter"===f&&(k.Browser.SUPPORTS_TOUCH&&a&&(e.addEventListener("touchstart",d.handleTrigger),c.push({event:"touchstart",handler:d.handleTrigger}),
e.addEventListener("touchend",d.handleMouseleave),c.push({event:"touchend",handler:d.handleMouseleave})),e.addEventListener("mouseleave",d.handleMouseleave),c.push({event:"mouseleave",handler:d.handleMouseleave}));"focus"===f&&(e.addEventListener("blur",d.handleBlur),c.push({event:"blur",handler:d.handleBlur}));return c};var k=h(0)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){k.arrow&&(k.animateFill=!1);k.appendTo&&"function"===typeof k.appendTo&&(k.appendTo=
k.appendTo());return k}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){return k instanceof Element?[k]:Array.isArray(k)?k:[].slice.call(document.querySelectorAll(k))}},function(v,r,h){function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(c,b,m){var z=this,u=m.delay,C=m.interactive,J=m.hideOnClick,A=m.trigger,x=m.touchHold,q=void 0,H=void 0,M=function(){clearTimeout(q);clearTimeout(H);if(!(0,e.default)(b)){var Z=
Array.isArray(u)?u[0]:u;u?q=setTimeout(function(){return z.show(b)},Z):z.show(b)}},R=function(){clearTimeout(q);clearTimeout(H);var Z=Array.isArray(u)?u[1]:u;u?H=setTimeout(function(){return z.hide(b)},Z):z.hide(b)};return{handleTrigger:function(Z){var T="mouseenter"===Z.type&&f.Browser.SUPPORTS_TOUCH&&f.Browser.touch;if(!T||!x){var ba="persistent"!==J;"click"===Z.type&&(0,e.default)(b)&&ba?R():z.callbacks.wait?z.callbacks.wait.call(b,M,Z):M();T&&f.Browser.iOS()&&c.click&&c.click()}},handleMouseleave:function(Z){"mouseleave"===
Z.type&&f.Browser.SUPPORTS_TOUCH&&f.Browser.touch&&x||(C?(document.body.addEventListener("mouseleave",R),document.addEventListener("mousemove",function aa(ba){var W=function(){document.body.removeEventListener("mouseleave",R);document.removeEventListener("mousemove",aa);R()},X=(0,d.default)(ba.target,f.Selectors.TOOLTIPPED_EL),P=(0,d.default)(ba.target,f.Selectors.POPPER)===b,w=X===c,B=-1!==A.indexOf("click");if(X&&X!==c)return W();P||w||B||(0,a.default)(ba,b,m)&&W()})):R())},handleBlur:function(Z){Z.relatedTarget&&
!f.Browser.touch&&((0,d.default)(Z.relatedTarget,f.Selectors.POPPER)||R())}}};var f=h(0);v=h(7);var e=k(v);v=h(4);var d=k(v);h=h(32);var a=k(h)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e){var d=k.DefaultsKeys.reduce(function(a,c){var b=f.getAttribute("data-"+c.toLowerCase())||e[c];"false"===b&&(b=!1);"true"===b&&(b=!0);isFinite(b)&&!isNaN(parseFloat(b))&&(b=parseFloat(b));"string"===typeof b&&"["===b.trim().charAt(0)&&(b=JSON.parse(b));a[c]=b;return a},
{});return Object.assign({},e,d)};var k=h(0)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f){k.Store.forEach(function(e){var d=e.popper,a=e.tippyInstance,c=e.settings,b=c.hideOnClick,m=c.trigger;c.appendTo.contains(d)&&(c=!0===b||-1!==m.indexOf("focus"),b=!f||d!==f.popper,c&&b&&(e.settings.onRequestClose(),a.hide(d)))})};var k=h(0)},function(v,r,h){function k(){if(k.done)return!1;k.done=!0;(0,f.default)();return!0}Object.defineProperty(r,"__esModule",{value:!0});
r.default=k;var f=(v=h(16))&&v.__esModule?v:{default:v}},function(v,r,h){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(a){var c=a.popper,b=a.popperInstance,m=a.settings.stickyDuration;(0,f.default)(function u(){b&&b.scheduleUpdate();c.style[(0,e.default)("transitionDuration")]=m+"ms";(0,d.default)(c)?window.requestAnimationFrame(u):c.style[(0,e.default)("transitionDuration")]=""})};v=h(5);var f=k(v);v=h(1);var e=k(v);h=h(7);
var d=k(h)},function(v,r,h){function k(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(r,"__esModule",{value:!0});r.default=function(a){var c=a.el,b=a.popper,m=a.settings,z=m.appendTo;m=m.followCursor;z.contains(b)||(z.appendChild(b),a.popperInstance?(a.popperInstance.update(),m&&!f.Browser.touch||a.popperInstance.enableEventListeners()):a.popperInstance=(0,d.default)(a),m&&!f.Browser.touch&&(c.addEventListener("mousemove",e.default),a.popperInstance.disableEventListeners()))};var f=
h(0);v=h(10);var e=k(v);v=h(18);var d=k(v);h=h(1);k(h)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e,d){if(!e)return d();var a=(0,k.default)(f.popper).tooltip,c=!1,b=function(m){m.target!==a||c||(c=!0,d())};a.addEventListener("webkitTransitionEnd",b);a.addEventListener("transitionend",b);clearTimeout(f._transitionendTimeout);f._transitionendTimeout=setTimeout(function(){c||d()},e)};h(0);var k=(v=h(6))&&v.__esModule?v:{default:v}},function(v,r,h){function k(B){return B&&
B.__esModule?B:{default:B}}function f(B,K,U){K in B?Object.defineProperty(B,K,{value:U,enumerable:!0,configurable:!0,writable:!0}):B[K]=U;return B}function e(B,K){return new w(B,K)}Object.defineProperty(r,"__esModule",{value:!0});var d=Object.assign||function(B){for(var K=1;K<arguments.length;K++){var U=arguments[K],ka;for(ka in U)Object.prototype.hasOwnProperty.call(U,ka)&&(B[ka]=U[ka])}return B},a=function(){function B(K,U){for(var ka=0;ka<U.length;ka++){var da=U[ka];da.enumerable=da.enumerable||
!1;da.configurable=!0;"value"in da&&(da.writable=!0);Object.defineProperty(K,da.key,da)}}return function(K,U,ka){U&&B(K.prototype,U);ka&&B(K,ka);return K}}(),c=h(0);v=h(39);var b=k(v);v=h(26);var m=k(v);v=h(5);var z=k(v);v=h(1);k(v);v=h(2);var u=k(v);v=h(34);var C=k(v);v=h(12);var J=k(v);v=h(33);var A=k(v);v=h(37);var x=k(v);v=h(35);var q=k(v);v=h(6);var H=k(v);v=h(31);var M=k(v);v=h(7);var R=k(v);v=h(36);var Z=k(v);v=h(10);var T=k(v);v=h(22);var ba=k(v);v=h(29);var aa=k(v);v=h(28);var W=k(v);v=h(27);
var X=k(v);h=h(19);var P=k(h),w=function(){function B(K){var U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");c.Browser.SUPPORTED&&((0,m.default)(),this.state={destroyed:!1},this.selector=K,this.settings=d({},c.Defaults,U),(U.show||U.shown||U.hide||U.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),this.callbacks=
{wait:U.wait,show:U.onShow||U.show||Z.default,shown:U.onShown||U.shown||Z.default,hide:U.onHide||U.hide||Z.default,hidden:U.onHidden||U.hidden||Z.default},this.store=P.default.call(this,(0,ba.default)(K)),c.Store.push.apply(c.Store,this.store))}a(B,[{key:"getPopperElement",value:function(K){try{return(0,u.default)(this.store,function(U){return U.el===K}).popper}catch(U){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",
value:function(K){try{return(0,u.default)(this.store,function(U){return U.popper===K}).el}catch(U){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(K){return(0,u.default)(this.store,function(U){return U.el===K||U.popper===K})}},{key:"updateSettings",value:function(K,U,ka){var da=(0,u.default)(this.store,function(la){return la.popper===K});da&&(U=d({},da.settings,f({},U,ka)),da.settings=U)}},{key:"updateForReact",
value:function(K,U){var ka=K.querySelector(c.Selectors.CONTENT),da=(0,u.default)(this.store,function(wa){return wa.popper===K});if(da){da=da.settings;var la=da.setReactDOMValue;da.useContext?la(b.default.createPortal(U,ka)):b.default.render(U,ka)}}},{key:"show",value:function(K,U){var ka=this;if(!this.state.destroyed){var da=(0,u.default)(this.store,function(Ha){return Ha.popper===K});if(da){var la=(0,H.default)(K),wa=la.tooltip,Ua=la.circle,hb=la.content;if(document.body.contains(da.el)){if(this.callbacks.show.call(K),
!da.settings||!1!==da.settings.open){da.settings.reactDOM&&this.updateForReact(K,da.settings.reactDOM);var La=da.el,pa=da.settings,Da=pa.sticky,Ma=pa.interactive,ua=pa.followCursor,Aa=pa.flipDuration;la=pa.duration;pa.dynamicTitle&&(pa=La.getAttribute("title"))&&(hb.innerHTML=pa,(0,J.default)(La));var qa=void 0!==U?U:Array.isArray(la)?la[0]:la;(0,M.default)([K,wa,Ua],0);(0,W.default)(da);K.style.visibility="visible";K.setAttribute("aria-hidden","false");(0,z.default)(function(){if(!ua||c.Browser.touch)da.popperInstance.update(),
(0,M.default)([K],Aa);(0,M.default)([wa,Ua],qa);Ua&&(hb.style.opacity=1);Ma&&La.classList.add("active");Da&&(0,X.default)(da);(0,x.default)(wa,Ua);(0,q.default)([wa,Ua],function(Ha){Ha.contains("tippy-notransition")&&Ha.remove("tippy-notransition");Ha.remove("leave");Ha.add("enter")});(0,aa.default)(da,qa,function(){(0,R.default)(K)&&!da._onShownFired&&(Ma&&K.focus(),wa.classList.add("tippy-notransition"),da._onShownFired=!0,ka.callbacks.shown.call(K))})})}}else this.destroy(K)}}}},{key:"hide",value:function(K,
U){var ka=this;if(!this.state.destroyed){this.callbacks.hide.call(K);var da=(0,u.default)(this.store,function(qa){return qa.popper===K});if(da){var la=(0,H.default)(K),wa=la.tooltip,Ua=la.circle,hb=la.content;if(!1!==da.settings.disabled||!da||!da.settings.open){var La=da&&da.settings&&da.settings.unmountHTMLWhenHide&&da.settings.reactDOM,pa=da.el,Da=da.settings,Ma=Da.appendTo;la=Da.interactive;var ua=Da.html,Aa=Da.trigger;Da=Da.duration;U=void 0!==U?U:Array.isArray(Da)?Da[1]:Da;da._onShownFired=
!1;la&&pa.classList.remove("active");K.style.visibility="hidden";K.setAttribute("aria-hidden","true");(0,M.default)([wa,Ua,Ua?hb:null],U);Ua&&(hb.style.opacity=0);(0,q.default)([wa,Ua],function(qa){qa.contains("tippy-tooltip")&&qa.remove("tippy-notransition");qa.remove("enter");qa.add("leave")});ua&&-1!==Aa.indexOf("click")&&(0,A.default)(pa)&&pa.focus();(0,aa.default)(da,U,function(){!(0,R.default)(K)&&Ma.contains(K)&&"1"!==getComputedStyle(wa).opacity&&(pa.removeEventListener("mousemove",T.default),
da.popperInstance.disableEventListeners(),Ma.removeChild(K),ka.callbacks.hidden.call(K),La&&b.default.unmountComponentAtNode(hb))})}}}}},{key:"update",value:function(K){if(!this.state.destroyed){var U=(0,u.default)(this.store,function(la){return la.popper===K});if(U){var ka=(0,H.default)(K).content,da=U.el;U=U.settings.html;U instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(ka.innerHTML=U?document.getElementById(U.replace("#","")).innerHTML:da.getAttribute("title")||
da.getAttribute("data-original-title"),U||(0,J.default)(da))}}}},{key:"destroy",value:function(K,U){var ka=this;if(!this.state.destroyed){var da=(0,u.default)(this.store,function(hb){return hb.popper===K});if(da){var la=da.el,wa=da.popperInstance,Ua=da.listeners;da=da._mutationObserver;(0,R.default)(K)&&this.hide(K,0);Ua.forEach(function(hb){return la.removeEventListener(hb.event,hb.handler)});la.setAttribute("title",la.getAttribute("data-original-title"));la.removeAttribute("data-original-title");
la.removeAttribute("data-tooltipped");la.removeAttribute("aria-describedby");wa&&wa.destroy();da&&da.disconnect();c.Store.splice((0,C.default)(c.Store,function(hb){return hb.popper===K}),1);if(void 0===U||U)this.store=c.Store.filter(function(hb){return hb.tippyInstance===ka})}}}},{key:"destroyAll",value:function(){var K=this;if(!this.state.destroyed){var U=this.store.length;this.store.forEach(function(ka,da){K.destroy(ka.popper,da===U-1)});this.store=null;this.state.destroyed=!0}}}]);return B}();
e.Browser=c.Browser;e.Defaults=c.Defaults;e.disableDynamicInputDetection=function(){return c.Browser.dynamicInputDetection=!1};e.enableDynamicInputDetection=function(){return c.Browser.dynamicInputDetection=!0};r.default=e},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(d,a){d.forEach(function(c){if(c){var b=e.matches.call(c,k.Selectors.CONTENT)?Math.round(a/1.3):a;c.style[(0,f.default)("transitionDuration")]=b+"ms"}})};var k=h(0),f=(v=h(1))&&v.__esModule?v:{default:v},
e=h(8)},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e,d){if(!e.getAttribute("x-placement"))return!0;var a=f.clientX;f=f.clientY;var c=d.interactiveBorder,b=d.distance;d=e.getBoundingClientRect();e=(0,k.default)(e.getAttribute("x-placement"));b=c+b;var m=d.top-f>c,z=f-d.bottom>c,u=d.left-a>c;c=a-d.right>c;switch(e){case "top":m=d.top-f>b;break;case "bottom":z=f-d.bottom>b;break;case "left":u=d.left-a>b;break;case "right":c=a-d.right>b}return m||z||u||c};var k=
(v=h(3))&&v.__esModule?v:{default:v}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k){k=k.getBoundingClientRect();return 0<=k.top&&0<=k.left&&k.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&k.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e){return Array.prototype.findIndex?f.findIndex(e):f.indexOf((0,k.default)(f,e))};var k=(v=h(2))&&
v.__esModule?v:{default:v}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(k,f){k.forEach(function(e){e&&f(e.classList)})}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(){}},function(v,r,h){Object.defineProperty(r,"__esModule",{value:!0});r.default=function(f,e){e?window.getComputedStyle(e)[(0,k.default)("transform")]:window.getComputedStyle(f).opacity};var k=(v=h(1))&&v.__esModule?v:{default:v}},function(v,r){v.exports=p},
function(v,r){v.exports=n}])})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,aa=this||self;function ba(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function ca(){}function da(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}
function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ia(a){return Object.prototype.hasOwnProperty.call(a,ja)&&a[ja]||(a[ja]=++ka)}var ja="closure_uid_"+(1E9*Math.random()>>>0),ka=0;function la(a,b){function c(){}c.prototype=b.prototype;a.sg=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ma(a){ma[" "](a);return a}ma[" "]=ca;function na(a,b){return new oa(a,b)}function pa(a){return 0<a?0x7fffffffffffffff<=a?qa:new oa(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?sa:ta(new oa(-a,-a/4294967296)):ua}
function wa(a,b){if("-"==a.charAt(0))return ta(wa(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new oa(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=pa(Math.pow(b,8));for(var d=ua,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=pa(Math.pow(b,
f)),d=d.multiply(f).add(pa(h))):(d=d.multiply(c),d=d.add(pa(h)))}return d}function ta(a){var b=~a.Wa+1|0;return na(b,~a.Ja+!b|0)}function xa(a,b){return a.add(ta(b))}function ya(a){return 0==a.Wa&&0==a.Ja}function Aa(a,b){b&=63;if(0==b)return a;var c=a.Ja;return 32>b?na(a.Wa>>>b|c<<32-b,c>>>b):32==b?na(c,0):na(c>>>b-32,0)}
class oa{constructor(a,b){this.Wa=a|0;this.Ja=b|0}toNumber(){return 4294967296*this.Ja+(this.Wa>>>0)}isSafeInteger(){var a=this.Ja>>21;return 0==a||-1==a&&!(0==this.Wa&&-2097152==this.Ja)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=na(c,c/4294967296);c=this.div(d);d=Math.abs(xa(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}Va(){return this.Wa^this.Ja}equals(a){return this.Wa==a.Wa&&this.Ja==a.Ja}compare(a){return this.Ja==a.Ja?this.Wa==a.Wa?0:this.Wa>>>0>a.Wa>>>0?1:-1:this.Ja>a.Ja?1:-1}add(a){var b=this.Ja>>>16,c=this.Ja&65535,d=this.Wa>>>16,e=a.Ja>>>16,f=a.Ja&65535,h=a.Wa>>>16;a=(this.Wa&65535)+(a.Wa&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return na((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(ya(this))return this;if(ya(a))return a;
var b=this.Ja>>>16,c=this.Ja&65535,d=this.Wa>>>16,e=this.Wa&65535,f=a.Ja>>>16,h=a.Ja&65535,k=a.Wa>>>16;a=a.Wa&65535;var m=e*a;var n=(m>>>16)+d*a;var p=n>>>16;n=(n&65535)+e*k;p+=n>>>16;p+=c*a;var t=p>>>16;p=(p&65535)+d*k;t+=p>>>16;p=(p&65535)+e*h;t=t+(p>>>16)+(b*a+c*k+d*h+e*f)&65535;return na((n&65535)<<16|m&65535,t<<16|p&65535)}div(a){if(ya(a))throw Error("division by zero");if(0>this.Ja){if(this.equals(sa)){if(a.equals(Ca)||a.equals(Da))return sa;if(a.equals(sa))return Ca;var b=1;if(0==b)b=this;
else{var c=this.Ja;b=32>b?na(this.Wa>>>b|c<<32-b,c>>b):na(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals(ua))return 0>a.Ja?Ca:Da;c=xa(this,a.multiply(b));return b.add(c.div(a))}return 0>a.Ja?ta(this).div(ta(a)):ta(ta(this).div(a))}if(ya(this))return ua;if(0>a.Ja)return a.equals(sa)?ua:ta(this.div(ta(a)));var d=ua;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=pa(b),h=f.multiply(a);0>
h.Ja||0<h.compare(c);)b-=e,f=pa(b),h=f.multiply(a);ya(f)&&(f=Ca);d=d.add(f);c=xa(c,h)}return d}modulo(a){return xa(this,this.div(a).multiply(a))}not(){return na(~this.Wa,~this.Ja)}and(a){return na(this.Wa&a.Wa,this.Ja&a.Ja)}or(a){return na(this.Wa|a.Wa,this.Ja|a.Ja)}xor(a){return na(this.Wa^a.Wa,this.Ja^a.Ja)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.Wa;return 32>a?na(b<<a,this.Ja<<a|b>>>32-a):na(0,b<<a-32)}}const ua=na(0,0),Ca=na(1,0),Da=na(-1,-1),qa=na(4294967295,2147483647),sa=na(0,2147483648);function Fa(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Ga(a){return/^[\s\xa0]*$/.test(a)};function Ia(a,b){for(const c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function Ja(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function Ka(a,b,c){return null!==a&&b in a?a[b]:c}const La="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function Na(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<La.length;f++)c=La[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};const Oa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function Pa(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function Qa(a,b){a.sort(b||Ra)}
function Sa(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||Ra;Qa(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function Ra(a,b){return a>b?1:a<b?-1:0};var Ta;a:{const a=aa.navigator;if(a){const b=a.userAgent;if(b){Ta=b;break a}}Ta=""}let Ua=Ta;function Va(a){return-1!=Ua.indexOf(a)};function Wa(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Xa=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function Za(a){if(a.getValues&&"function"==typeof a.getValues)return a.getValues();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(fa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b}
function $a(a){if(a.getKeys&&"function"==typeof a.getKeys)return a.getKeys();if(!a.getValues||"function"!=typeof a.getValues){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!==typeof Set&&a instanceof Set)){if(fa(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Ja(a)}}}
function ab(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(fa(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=$a(a),e=Za(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)};var bb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?\x3d[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function db(a){this.Tc=this.ge=this.Jd="";this.qe=null;this.Id=this.Jc="";this.Vc=this.$g=!1;if(a instanceof db){this.Vc=a.Vc;eb(this,a.Jd);var b=a.ge;fb(this);this.ge=b;b=a.Tc;fb(this);this.Tc=b;gb(this,a.qe);b=a.Jc;fb(this);this.Jc=b;ib(this,a.Kc.clone());a=a.Id;fb(this);this.Id=a}else a&&(b=String(a).match(bb))?(this.Vc=!1,eb(this,b[1]||"",!0),a=b[2]||"",fb(this),this.ge=jb(a),a=b[3]||"",fb(this),this.Tc=jb(a,!0),gb(this,b[4]),a=b[5]||"",fb(this),this.Jc=jb(a,!0),ib(this,b[6]||"",!0),a=b[7]||"",
fb(this),this.Id=jb(a)):(this.Vc=!1,this.Kc=new kb(null,this.Vc))}g=db.prototype;
g.toString=function(){var a=[],b=this.Jd;b&&a.push(lb(b,nb,!0),":");var c=this.Tc;if(c||"file"==b)a.push("//"),(b=this.ge)&&a.push(lb(b,nb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.qe,null!=c&&a.push(":",String(c));if(c=this.Jc)this.Tc&&"/"!=c.charAt(0)&&a.push("/"),a.push(lb(c,"/"==c.charAt(0)?ob:pb,!0));(c=this.Kc.toString())&&a.push("?",c);(c=this.Id)&&a.push("#",lb(c,qb));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=!!a.Jd;c?eb(b,a.Jd):c=!!a.ge;if(c){var d=a.ge;fb(b);b.ge=d}else c=!!a.Tc;c?(d=a.Tc,fb(b),b.Tc=d):c=null!=a.qe;d=a.Jc;if(c)gb(b,a.qe);else if(c=!!a.Jc){if("/"!=d.charAt(0))if(this.Tc&&!this.Jc)d="/"+d;else{var e=b.Jc.lastIndexOf("/");-1!=e&&(d=b.Jc.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(fb(b),b.Jc=d):c=""!==a.Kc.toString();c?ib(b,a.Kc.clone()):c=!!a.Id;c&&(a=a.Id,fb(b),b.Id=a);return b};g.clone=function(){return new db(this)};function eb(a,b,c){fb(a);a.Jd=c?jb(b,!0):b;a.Jd&&(a.Jd=a.Jd.replace(/:$/,""))}function gb(a,b){fb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.qe=b}else a.qe=null}
function ib(a,b,c){fb(a);b instanceof kb?(a.Kc=b,a.Kc.qg(a.Vc)):(c||(b=lb(b,rb)),a.Kc=new kb(b,a.Vc))}g.getQuery=function(){return this.Kc.toString()};g.removeParameter=function(a){fb(this);this.Kc.remove(a);return this};g.isReadOnly=function(){return this.$g};function fb(a){if(a.$g)throw Error("Tried to modify a read-only Uri");}g.qg=function(a){this.Vc=a;this.Kc&&this.Kc.qg(a)};function sb(a){return a instanceof db?a.clone():new db(a)}
function jb(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function lb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,tb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function tb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var nb=/[#\/\?@]/g,pb=/[#\?:]/g,ob=/[#\?]/g,rb=/[#\?@]/g,qb=/#/g;function kb(a,b){this.count_=this.pb=null;this.Hc=a||null;this.Vc=!!b}
function ub(a){a.pb||(a.pb=new Map,a.count_=0,a.Hc&&cb(a.Hc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=kb.prototype;g.getCount=function(){ub(this);return this.count_};g.add=function(a,b){ub(this);this.Hc=null;a=vb(this,a);var c=this.pb.get(a);c||this.pb.set(a,c=[]);c.push(b);this.count_+=1;return this};g.remove=function(a){ub(this);a=vb(this,a);return this.pb.has(a)?(this.Hc=null,this.count_-=this.pb.get(a).length,this.pb.delete(a)):!1};
g.clear=function(){this.pb=this.Hc=null;this.count_=0};g.isEmpty=function(){ub(this);return 0==this.count_};g.containsKey=function(a){ub(this);a=vb(this,a);return this.pb.has(a)};g.forEach=function(a,b){ub(this);this.pb.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};g.getKeys=function(){ub(this);const a=Array.from(this.pb.values()),b=Array.from(this.pb.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c};
g.getValues=function(a){ub(this);let b=[];if("string"===typeof a)this.containsKey(a)&&(b=b.concat(this.pb.get(vb(this,a))));else{a=Array.from(this.pb.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b};g.set=function(a,b){ub(this);this.Hc=null;a=vb(this,a);this.containsKey(a)&&(this.count_-=this.pb.get(a).length);this.pb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.getValues(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.Hc)return this.Hc;if(!this.pb)return"";const a=[],b=Array.from(this.pb.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),h=this.getValues(d);for(d=0;d<h.length;d++){var e=f;""!==h[d]&&(e+="\x3d"+encodeURIComponent(String(h[d])));a.push(e)}}return this.Hc=a.join("\x26")};g.clone=function(){var a=new kb;a.Hc=this.Hc;this.pb&&(a.pb=new Map(this.pb),a.count_=this.count_);return a};
function vb(a,b){b=String(b);a.Vc&&(b=b.toLowerCase());return b}g.qg=function(a){a&&!this.Vc&&(ub(this),this.Hc=null,this.pb.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<b.length&&(this.Hc=null,this.pb.set(vb(this,d),Pa(b)),this.count_+=b.length))},this));this.Vc=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)ab(arguments[b],function(c,d){this.add(d,c)},this)};function wb(a,b){null!=a&&this.append.apply(this,arguments)}g=wb.prototype;g.Ld="";g.set=function(a){this.Ld=""+a};g.append=function(a,b,c){this.Ld+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.Ld+=arguments[d];return this};g.clear=function(){this.Ld=""};g.getLength=function(){return this.Ld.length};g.toString=function(){return this.Ld};var xb={},yb={},zb,l={},Ab=null,Bb=null,Cb=!0,Db=!0,Eb=null,Fb=null;function Hb(){return new q(null,5,[Ib,!0,Jb,Db,Kb,!1,Lb,!1,Mb,Eb],null)}function Nb(){Cb=!1;Bb=function(){var a=arguments;return console.log.apply(console,Pa(a))}}function r(a){return null!=a&&!1!==a}function Ob(a){return null==a}function Pb(a){return a instanceof Array}function Qb(a){return"number"===typeof a}function Rb(a){return null==a?!0:!1===a?!0:!1}function Sb(a){return null!=a}function Tb(a){return"string"===da(a)}
function Ub(a,b){return a[da(null==b?null:b)]?!0:a._?!0:!1}function Vb(a){return null==a?null:a.constructor}function Wb(a,b){var c=Vb(b);c=r(r(c)?c.eb:c)?c.Qa:da(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Xb(a){var b=a.Qa;return r(b)?b:u.C(a)}
var Yb="undefined"!==typeof Symbol&&"function"===da(Symbol)?Symbol.iterator:"@@iterator",Zb={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},$b=null;
function ac(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function bc(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b}function cc(a){function b(d,e){d.push(e);return d}var c=[];return v.F?v.F(b,c,a):v.call(null,b,c,a)}function dc(a){return"symbol"===da(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function ec(){}function fc(){}
function gc(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=gc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=gc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ICloneable.-clone",a);}return a}function hc(){}function ic(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=ic[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ic._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ICounted.-count",a);}return a}function jc(){}
function kc(a){if(null!=a&&null!=a.Ia)a=a.Ia(a);else{var b=kc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=kc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IEmptyableCollection.-empty",a);}return a}function mc(){}function nc(a,b){if(null!=a&&null!=a.na)a=a.na(a,b);else{var c=nc[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=nc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("ICollection.-conj",a);}return a}function pc(){}
var qc=function(){function a(d,e,f){var h=x[da(null==d?null:d)];if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);throw Wb("IIndexed.-nth",d);}function b(d,e){var f=x[da(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw Wb("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.F=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.B(arguments[0],arguments[1]);case 3:return x.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};x.B=function(a,b){return null!=a&&null!=a.Da?a.Da(a,b):qc(a,b)};x.F=function(a,b,c){return null!=a&&null!=a.fb?a.fb(a,b,c):qc(a,b,c)};x.aa=3;function rc(){}
function sc(a){if(null!=a&&null!=a.cb)a=a.cb(a);else{var b=sc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=sc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ISeq.-first",a);}return a}function tc(a){if(null!=a&&null!=a.mb)a=a.mb(a);else{var b=tc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=tc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ISeq.-rest",a);}return a}function uc(){}
function vc(a){if(null!=a&&null!=a.Na)a=a.Na(a);else{var b=vc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=vc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("INext.-next",a);}return a}function wc(){}
var yc=function(){function a(d,e,f){var h=xc[da(null==d?null:d)];if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);h=xc._;if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);throw Wb("ILookup.-lookup",d);}function b(d,e){var f=xc[da(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=xc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw Wb("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.F=a;return c}(),xc=function xc(a){switch(arguments.length){case 2:return xc.B(arguments[0],arguments[1]);case 3:return xc.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};xc.B=function(a,b){return null!=a&&null!=a.oa?a.oa(a,b):yc(a,b)};xc.F=function(a,b,c){return null!=a&&null!=a.T?a.T(a,b,c):yc(a,b,c)};xc.aa=3;function zc(){}
function Ac(a,b){if(null!=a&&null!=a.ra)a=a.ra(a,b);else{var c=Ac[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ac._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IAssociative.-contains-key?",a);}return a}function Bc(a,b,c){if(null!=a&&null!=a.fa)a=a.fa(a,b,c);else{var d=Bc[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=Bc._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IAssociative.-assoc",a);}return a}
function Cc(a,b){if(null!=a&&null!=a.Bd)a=a.Bd(a,b);else{var c=Cc[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Cc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IFind.-find",a);}return a}function Dc(){}function Ec(a,b){if(null!=a&&null!=a.Aa)a=a.Aa(a,b);else{var c=Ec[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ec._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IMap.-dissoc",a);}return a}
function Fc(a){if(null!=a&&null!=a.Of)a=a.key;else{var b=Fc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Fc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IMapEntry.-key",a);}return a}function Gc(a){if(null!=a&&null!=a.Pf)a=a.val;else{var b=Gc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Gc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IMapEntry.-val",a);}return a}function Hc(){}
function Ic(a,b){if(null!=a&&null!=a.kf)a=a.kf(a,b);else{var c=Ic[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ic._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("ISet.-disjoin",a);}return a}function Jc(a){if(null!=a&&null!=a.Cd)a=a.Cd(a);else{var b=Jc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Jc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IStack.-peek",a);}return a}
function Kc(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=Kc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Kc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IStack.-pop",a);}return a}function Lc(){}function Mc(a,b,c){if(null!=a&&null!=a.dd)a=a.dd(a,b,c);else{var d=Mc[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=Mc._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IVector.-assoc-n",a);}return a}function Nc(){}
function y(a){if(null!=a&&null!=a.ic)a=a.ic(a);else{var b=y[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IDeref.-deref",a);}return a}function Oc(){}function Pc(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Pc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Pc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IMeta.-meta",a);}return a}function Qc(){}
function Rc(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=Rc[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Rc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IWithMeta.-with-meta",a);}return a}function Sc(){}
var Uc=function(){function a(d,e,f){var h=Tc[da(null==d?null:d)];if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);h=Tc._;if(null!=h)return h.F?h.F(d,e,f):h.call(null,d,e,f);throw Wb("IReduce.-reduce",d);}function b(d,e){var f=Tc[da(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Tc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw Wb("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.F=a;return c}(),Tc=function Tc(a){switch(arguments.length){case 2:return Tc.B(arguments[0],arguments[1]);case 3:return Tc.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};Tc.B=function(a,b){return null!=a&&null!=a.$a?a.$a(a,b):Uc(a,b)};Tc.F=function(a,b,c){return null!=a&&null!=a.ab?a.ab(a,b,c):Uc(a,b,c)};Tc.aa=3;function Vc(){}
function Wc(a,b,c){if(null!=a&&null!=a.ya)a=a.ya(a,b,c);else{var d=Wc[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=Wc._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IKVReduce.-kv-reduce",a);}return a}function Xc(a,b){if(null!=a&&null!=a.ba)a=a.ba(a,b);else{var c=Xc[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IEquiv.-equiv",a);}return a}
function Yc(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=Yc[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IHash.-hash",a);}return a}function Zc(){}function $c(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=$c[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=$c._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ISeqable.-seq",a);}return a}function ad(){}function bd(){}function cd(){}
function dd(){}function ed(a){if(null!=a&&null!=a.Dc)a=a.Dc(a);else{var b=ed[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ed._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IReversible.-rseq",a);}return a}function fd(a,b){if(null!=a&&null!=a.Od)a=a.Od(a,b);else{var c=fd[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=fd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IWriter.-write",a);}return a}
function gd(a){if(null!=a&&null!=a.td)a=a.td(a);else{var b=gd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=gd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IWriter.-flush",a);}return a}function hd(){}function id(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=id[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=id._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IPrintWithWriter.-pr-writer",a);}return a}function jd(){}
function kd(a){if(null!=a&&null!=a.jf)a=a.jf(a);else{var b=kd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=kd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IPending.-realized?",a);}return a}function ld(a,b){var c=md;if(null!=a&&null!=a.lf)a.lf(a,b,c);else{var d=ld[da(null==a?null:a)];if(null!=d)d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=ld._,null!=d)d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IWatchable.-add-watch",a);}}
function nd(a,b){if(null!=a&&null!=a.mf)a.mf(a,b);else{var c=nd[da(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=nd._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IWatchable.-remove-watch",a);}}function od(a){if(null!=a&&null!=a.Md)a=a.Md(a);else{var b=od[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=od._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IEditableCollection.-as-transient",a);}return a}
function qd(a,b){if(null!=a&&null!=a.Nd)a=a.Nd(a,b);else{var c=qd[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=qd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("ITransientCollection.-conj!",a);}return a}function rd(a){if(null!=a&&null!=a.Wd)a=a.Wd(a);else{var b=rd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=rd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("ITransientCollection.-persistent!",a);}return a}
function sd(a,b,c){if(null!=a&&null!=a.me)a=a.me(a,b,c);else{var d=sd[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=sd._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("ITransientAssociative.-assoc!",a);}return a}function td(){}
function ud(a,b){if(null!=a&&null!=a.Rc)a=a.Rc(a,b);else{var c=ud[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ud._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IComparable.-compare",a);}return a}function vd(a){if(null!=a&&null!=a.ze)a=a.ze(a);else{var b=vd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=vd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IChunk.-drop-first",a);}return a}
function wd(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=wd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=wd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IChunkedSeq.-chunked-first",a);}return a}function xd(a){if(null!=a&&null!=a.Ad)a=a.Ad(a);else{var b=xd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=xd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IChunkedSeq.-chunked-rest",a);}return a}
function yd(a){if(null!=a&&null!=a.Ce)a=a.Ce(a);else{var b=yd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=yd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("INamed.-name",a);}return a}function zd(a){if(null!=a&&null!=a.De)a=a.De(a);else{var b=zd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=zd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("INamed.-namespace",a);}return a}
function Ad(a,b){if(null!=a&&null!=a.cd)a=a.cd(a,b);else{var c=Ad[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Ad._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IReset.-reset!",a);}return a}
var Cd=function(){function a(f,h,k,m,n){var p=Bd[da(null==f?null:f)];if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);p=Bd._;if(null!=p)return p.ka?p.ka(f,h,k,m,n):p.call(null,f,h,k,m,n);throw Wb("ISwap.-swap!",f);}function b(f,h,k,m){var n=Bd[da(null==f?null:f)];if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);n=Bd._;if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);throw Wb("ISwap.-swap!",f);}function c(f,h,k){var m=Bd[da(null==f?null:f)];if(null!=m)return m.F?m.F(f,h,
k):m.call(null,f,h,k);m=Bd._;if(null!=m)return m.F?m.F(f,h,k):m.call(null,f,h,k);throw Wb("ISwap.-swap!",f);}function d(f,h){var k=Bd[da(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Bd._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw Wb("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.F=c;e.R=b;e.ka=a;return e}(),Bd=function Bd(a){switch(arguments.length){case 2:return Bd.B(arguments[0],arguments[1]);case 3:return Bd.F(arguments[0],arguments[1],arguments[2]);case 4:return Bd.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Bd.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};Bd.B=function(a,b){return null!=a&&null!=a.Qf?a.Qf(a,b):Cd(a,b)};
Bd.F=function(a,b,c){return null!=a&&null!=a.Rf?a.Rf(a,b,c):Cd(a,b,c)};Bd.R=function(a,b,c,d){return null!=a&&null!=a.Sf?a.Sf(a,b,c,d):Cd(a,b,c,d)};Bd.ka=function(a,b,c,d,e){return null!=a&&null!=a.Tf?a.Tf(a,b,c,d,e):Cd(a,b,c,d,e)};Bd.aa=5;function Dd(a,b){if(null!=a&&null!=a.Fe)a=a.Fe(a,b);else{var c=Dd[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Dd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IVolatile.-vreset!",a);}return a}function Ed(){}
function Fd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Fd[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Fd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IIterable.-iterator",a);}return a}function Gd(a){this.jj=a;this.K=1073741824;this.Y=0}Gd.prototype.Od=function(a,b){return this.jj.append(b)};Gd.prototype.td=function(){return null};function Hd(a){var b=new wb,c=new Gd(b);a.ia(null,c,Hb());c.td(null);return u.C(b)}
var Id="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function Jd(a){a=Id(a|0,-862048943);return Id(a<<15|a>>>-15,461845907)}function Kd(a,b){a=(a|0)^(b|0);return Id(a<<13|a>>>-13,5)+-430675100|0}function Ld(a,b){a=(a|0)^b;a=Id(a^a>>>16,-2048144789);a=Id(a^a>>>13,-1028477387);return a^a>>>16}var Md={},Qd=0;
function Rd(a){255<Qd&&(Md={},Qd=0);if(null==a)return 0;var b=Md[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=Id(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Md[a]=b;Qd+=1;a=b}return a}
function Sd(a){if(null!=a&&(a.K&4194304||l===a.hf))return a.ja(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=Rd(a),a=0===a?a:Ld(Kd(0,Jd(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Yc(a)^0,a}function Td(a){return a instanceof z}
function Ud(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=Kd(d,Jd(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ld(1===(b.length&1)?c^Jd(b.charCodeAt(b.length-1)):c,Id(2,b.length));a=Rd(a.fc);return b^a+2654435769+(b<<6)+(b>>2)}function Vd(a,b){if(a.hc===b.hc)return 0;var c=Rb(a.fc);if(r(c?b.fc:c))return-1;if(r(a.fc)){if(Rb(b.fc))return 1;c=Ra(a.fc,b.fc);return 0===c?Ra(a.name,b.name):c}return Ra(a.name,b.name)}
function z(a,b,c,d,e){this.fc=a;this.name=b;this.hc=c;this._hash=d;this.Qc=e;this.K=2154168321;this.Y=4096}g=z.prototype;g.toString=function(){return this.hc};g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return b instanceof z?this.hc===b.hc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return B.B?B.B(a,this):B.call(null,a,this)};g.B=function(a,b){return B.F?B.F(a,this,b):B.call(null,a,this,b)};g.ga=function(){return this.Qc};g.ha=function(a,b){return new z(this.fc,this.name,this.hc,this._hash,b)};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=Ud(this)};g.Ce=function(){return this.name};g.De=function(){return this.fc};g.ia=function(a,b){return fd(b,this.hc)};
var Wd=function Wd(a){switch(arguments.length){case 1:return Wd.C(arguments[0]);case 2:return Wd.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};Wd.C=function(a){for(;;){if(a instanceof z)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Wd.B(null,a):Wd.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Xd)return a.ee;if(a instanceof C)a=a.ea;else throw Error("no conversion to symbol");}};
Wd.B=function(a,b){var c=null!=a?[u.C(a),"/",u.C(b)].join(""):b;return new z(a,b,c,null,null)};Wd.aa=2;function Xd(a,b,c){this.val=a;this.ee=b;this.Qc=c;this.K=6717441;this.Y=0}g=Xd.prototype;g.toString=function(){return["#'",u.C(this.ee)].join("")};g.ic=function(){return this.val.P?this.val.P():this.val.call(null)};g.ga=function(){return this.Qc};g.ha=function(a,b){return new Xd(this.val,this.ee,b)};g.ba=function(a,b){return b instanceof Xd?(a=this.ee,b=b.ee,E.B?E.B(a,b):E.call(null,a,b)):!1};
g.ja=function(){return Ud(this.ee)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.F(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.dc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Zb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.$b(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ac(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.bc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.cc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.P=function(){var a=this.val.P?this.val.P():this.val.call(null);return a.P?a.P():a.call(null)};g.C=function(a){var b=this.val.P?this.val.P():this.val.call(null);return b.C?b.C(a):b.call(null,a)};
g.B=function(a,b){var c=this.val.P?this.val.P():this.val.call(null);return c.B?c.B(a,b):c.call(null,a,b)};g.F=function(a,b,c){var d=this.val.P?this.val.P():this.val.call(null);return d.F?d.F(a,b,c):d.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.val.P?this.val.P():this.val.call(null);return e.R?e.R(a,b,c,d):e.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){var f=this.val.P?this.val.P():this.val.call(null);return f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ka=function(a,b,c,d,e,f){var h=this.val.P?this.val.P():this.val.call(null);return h.Ka?h.Ka(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Eb=function(a,b,c,d,e,f,h){var k=this.val.P?this.val.P():this.val.call(null);return k.Eb?k.Eb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Fb=function(a,b,c,d,e,f,h,k){var m=this.val.P?this.val.P():this.val.call(null);return m.Fb?m.Fb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.dc=function(a,b,c,d,e,f,h,k,m){var n=this.val.P?this.val.P():this.val.call(null);return n.dc?n.dc(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.Tb=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.P?this.val.P():this.val.call(null);return p.Tb?p.Tb(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,p){var t=this.val.P?this.val.P():this.val.call(null);return t.Ub?t.Ub(a,b,c,d,e,f,h,k,m,n,p):t.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,t){var w=this.val.P?this.val.P():this.val.call(null);return w.Vb?w.Vb(a,b,c,d,e,f,h,k,m,n,p,t):w.call(null,a,b,c,d,e,f,h,k,m,n,p,t)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,t,w){var A=this.val.P?this.val.P():this.val.call(null);return A.Wb?A.Wb(a,b,c,d,e,f,h,k,m,n,p,t,w):A.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A){var D=this.val.P?this.val.P():this.val.call(null);return D.Xb?D.Xb(a,b,c,d,e,f,h,k,m,n,p,t,w,A):D.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A)};g.Yb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D){var I=this.val.P?this.val.P():this.val.call(null);return I.Yb?I.Yb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D):I.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D)};
g.Zb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I){var J=this.val.P?this.val.P():this.val.call(null);return J.Zb?J.Zb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I):J.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I)};g.$b=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J){var T=this.val.P?this.val.P():this.val.call(null);return T.$b?T.$b(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J):T.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J)};
g.ac=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T){var P=this.val.P?this.val.P():this.val.call(null);return P.ac?P.ac(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T):P.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T)};g.bc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P){var U=this.val.P?this.val.P():this.val.call(null);return U.bc?U.bc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P):U.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P)};
g.cc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U){var ea=this.val.P?this.val.P():this.val.call(null);return ea.cc?ea.cc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U)};g.Ae=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea){var ra=this.val.P?this.val.P():this.val.call(null);return Yd.Nf?Yd.Nf(ra,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea):Yd.call(null,ra,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea)};
function Zd(a){return null!=a?a.Y&131072||l===a.xj?!0:a.Y?!1:Ub(Ed,a):Ub(Ed,a)}function F(a){if(null==a)return null;if(null!=a&&(a.K&8388608||l===a.Kg))return a.la(null);if(Pb(a)||"string"===typeof a)return 0===a.length?null:new $d(a,0,null);if(null!=a&&null!=a[Yb])return a=Ka(a,Yb).call(a),ae.C?ae.C(a):ae.call(null,a);if(Ub(Zc,a))return $c(a);throw Error([u.C(a)," is not ISeqable"].join(""));}
function G(a){if(null==a)return null;if(null!=a&&(a.K&64||l===a.le))return a.cb(null);a=F(a);return null==a?null:sc(a)}function be(a){return null!=a?null!=a&&(a.K&64||l===a.le)?a.mb(null):(a=F(a))?a.mb(null):de:de}function H(a){return null==a?null:null!=a&&(a.K&128||l===a.Ee)?a.Na(null):F(be(a))}
var E=function E(a){switch(arguments.length){case 1:return E.C(arguments[0]);case 2:return E.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return E.I(arguments[0],arguments[1],c)}};E.C=function(){return!0};E.B=function(a,b){return null==a?null==b:a===b||Xc(a,b)};E.I=function(a,b,c){for(;;)if(E.B(a,b))if(H(c))a=b,b=G(c),c=H(c);else return E.B(b,G(c));else return!1};
E.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};E.aa=2;function ee(a){this.s=a}ee.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=H(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function fe(a){return new ee(F(a))}function ge(a,b){this.value=a;this.iter=b;this.Hf=null;this.K=8388672;this.Y=0}ge.prototype.la=function(){return this};ge.prototype.cb=function(){return this.value};
ge.prototype.mb=function(){null==this.Hf&&(this.Hf=ae.C?ae.C(this.iter):ae.call(null,this.iter));return this.Hf};function ae(a){var b=a.next();return r(b.done)?null:new ge(b.value,a)}function he(a){var b=0,c=1;for(a=F(a);;)if(null!=a)b+=1,c=Id(31,c)+Sd(G(a))|0,a=H(a);else return Ld(Kd(0,Jd(c)),b)}var ie=Ld(Kd(0,Jd(1)),0);function je(a){var b=0,c=0;for(a=F(a);;)if(null!=a)b+=1,c=c+Sd(G(a))|0,a=H(a);else return Ld(Kd(0,Jd(c)),b)}var ke=Ld(Kd(0,Jd(0)),0);hc["null"]=!0;ic["null"]=function(){return 0};
Date.prototype.ba=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.bd=l;Date.prototype.Rc=function(a,b){if(b instanceof Date)return Ra(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};Xc.number=function(a,b){return a===b};ec["function"]=!0;Oc["function"]=!0;Pc["function"]=function(){return null};Yc._=function(a){return ia(a)};function le(a){return a+1}function me(a){this.val=a;this.K=32768;this.Y=0}
me.prototype.ic=function(){return this.val};function ne(a){return new me(a)}function oe(a){return a instanceof me}function qe(a){return oe(a)?re.C?re.C(a):re.call(null,a):a}function re(a){return y(a)}function se(a,b){var c=a.ma(null);if(0===c)return b.P?b.P():b.call(null);for(var d=a.Da(null,0),e=1;;)if(e<c){var f=a.Da(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(oe(d))return y(d);e+=1}else return d}
function te(a,b,c){var d=a.ma(null),e=c;for(c=0;;)if(c<d){var f=a.Da(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(oe(e))return y(e);c+=1}else return e}function ue(a,b){var c=a.length;if(0===a.length)return b.P?b.P():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(oe(d))return y(d);e+=1}else return d}function ve(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(oe(e))return y(e);c+=1}else return e}
function we(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(oe(c))return y(c);d+=1}else return c}function xe(a){return null!=a?a.K&2||l===a.Eg?!0:a.K?!1:Ub(hc,a):Ub(hc,a)}function ye(a){return null!=a?a.K&16||l===a.Ig?!0:a.K?!1:Ub(pc,a):Ub(pc,a)}function ze(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(E.B(Ae?Ae(a,c):Be.call(null,a,c),b))return c;c+=1}else return-1}
function Ce(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(E.B(Ae?Ae(a,c):Be.call(null,a,c),b))return c;--c}else return-1}function De(a,b){this.O=a;this.i=b}De.prototype.Ma=function(){return this.i<this.O.length};De.prototype.next=function(){var a=this.O[this.i];this.i+=1;return a};function $d(a,b,c){this.O=a;this.i=b;this.meta=c;this.K=166592766;this.Y=139264}g=$d.prototype;g.toString=function(){return Hd(this)};
g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.Da=function(a,b){a=b+this.i;if(0<=a&&a<this.O.length)return this.O[a];throw Error("Index out of bounds");};g.fb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.O.length?this.O[a]:c};
g.qa=function(){return new De(this.O,this.i)};g.ga=function(){return this.meta};g.pa=function(){return new $d(this.O,this.i,this.meta)};g.Na=function(){return this.i+1<this.O.length?new $d(this.O,this.i+1,null):null};g.ma=function(){var a=this.O.length-this.i;return 0>a?0:a};g.Dc=function(){var a=this.ma(null);return 0<a?new Ee(this,a-1,null):null};g.ja=function(){return he(this)};g.ba=function(a,b){return Ie.B?Ie.B(this,b):Ie.call(null,this,b)};g.Ia=function(){return de};
g.$a=function(a,b){return we(this.O,b,this.O[this.i],this.i+1)};g.ab=function(a,b,c){return we(this.O,b,c,this.i)};g.cb=function(){return this.O[this.i]};g.mb=function(){return this.i+1<this.O.length?new $d(this.O,this.i+1,null):de};g.la=function(){return this.i<this.O.length?this:null};g.ha=function(a,b){return b===this.meta?this:new $d(this.O,this.i,b)};g.na=function(a,b){return Je.B?Je.B(b,this):Je.call(null,b,this)};$d.prototype[Yb]=function(){return fe(this)};
function M(a){return 0<a.length?new $d(a,0,null):null}function Ee(a,b,c){this.ci=a;this.i=b;this.meta=c;this.K=32374990;this.Y=8192}g=Ee.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Ee(this.ci,this.i,this.meta)};g.Na=function(){return 0<this.i?new Ee(this.ci,this.i-1,null):null};g.ma=function(){return this.i+1};
g.ja=function(){return he(this)};g.ba=function(a,b){return Ie.B?Ie.B(this,b):Ie.call(null,this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke?Ke(b,this):Le.call(null,b,this)};g.ab=function(a,b,c){return Me?Me(b,c,this):Le.call(null,b,c,this)};g.cb=function(){return x(this.ci,this.i)};g.mb=function(){return 0<this.i?new Ee(this.ci,this.i-1,null):de};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Ee(this.ci,this.i,b)};
g.na=function(a,b){return Je.B?Je.B(b,this):Je.call(null,b,this)};Ee.prototype[Yb]=function(){return fe(this)};function Ne(a){return G(H(a))}function Oe(a){return G(G(a))}function Pe(a){for(;;){var b=H(a);if(null!=b)a=b;else return G(a)}}Xc._=function(a,b){return a===b};
var Qe=function Qe(a){switch(arguments.length){case 0:return Qe.P();case 1:return Qe.C(arguments[0]);case 2:return Qe.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Qe.I(arguments[0],arguments[1],c)}};Qe.P=function(){return Re};Qe.C=function(a){return a};Qe.B=function(a,b){return null!=a?nc(a,b):new Se(null,b,null,1,null)};
Qe.I=function(a,b,c){for(;;)if(r(c))a=Qe.B(a,b),b=G(c),c=H(c);else return Qe.B(a,b)};Qe.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Qe.aa=2;function Te(a){return null==a?null:null!=a&&(a.K&4||l===a.Hg)?a.Ia(null):(null!=a?a.K&4||l===a.Hg||(a.K?0:Ub(jc,a)):Ub(jc,a))?kc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.K&2||l===a.Eg))a=a.ma(null);else if(Pb(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.K&8388608||l===a.Kg))a:{a=F(a);for(var b=0;;){if(xe(a)){a=b+ic(a);break a}a=H(a);b+=1}}else a=ic(a);else a=0;return a}function Ue(a,b,c){for(;;){if(null==a)return c;if(0===b)return F(a)?G(a):c;if(ye(a))return x(a,b,c);if(F(a))a=H(a),--b;else return c}}
function Be(a){switch(arguments.length){case 2:return Ae(arguments[0],arguments[1]);case 3:return N(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}
function Ae(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.K&16||l===a.Ig))return a.Da(null,b);if(Pb(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.K&64||l===a.le)||null!=a&&(a.K&16777216||l===a.Lg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(F(a)){a=G(a);break a}throw Error("Index out of bounds");}if(ye(a)){a=x(a,b);break a}if(F(a))a=H(a),--b;else throw Error("Index out of bounds");}return a}if(Ub(pc,a))return x(a,b);throw Error(["nth not supported on this type ",u.C(Xb(Vb(a)))].join(""));}
function N(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.K&16||l===a.Ig))return a.fb(null,b,c);if(Pb(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.K&64||l===a.le)||null!=a&&(a.K&16777216||l===a.Lg))return 0>b?c:Ue(a,b,c);if(Ub(pc,a))return x(a,b,c);throw Error(["nth not supported on this type ",u.C(Xb(Vb(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.B(arguments[0],arguments[1]);case 3:return B.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};B.B=function(a,b){return null==a?null:null!=a&&(a.K&256||l===a.Gh)?a.oa(null,b):Pb(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Ub(wc,a)?xc(a,b):null};
B.F=function(a,b,c){return null!=a?null!=a&&(a.K&256||l===a.Gh)?a.T(null,b,c):Pb(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Ub(wc,a)?xc(a,b,c):c:c};B.aa=3;var O=function O(a){switch(arguments.length){case 3:return O.F(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(3),0,null);return O.I(arguments[0],arguments[1],arguments[2],c)}};
O.F=function(a,b,c){return null!=a&&(a.K&512||l===a.Ch)?a.fa(null,b,c):null!=a?Bc(a,b,c):Ve([b,c])};O.I=function(a,b,c,d){for(;;)if(a=O.F(a,b,c),r(d))b=G(d),c=Ne(d),d=H(H(d));else return a};O.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);d=H(d);return this.I(b,a,c,d)};O.aa=3;
var Q=function Q(a){switch(arguments.length){case 1:return Q.C(arguments[0]);case 2:return Q.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Q.I(arguments[0],arguments[1],c)}};Q.C=function(a){return a};Q.B=function(a,b){return null==a?null:Ec(a,b)};Q.I=function(a,b,c){for(;;){if(null==a)return null;a=Q.B(a,b);if(r(c))b=G(c),c=H(c);else return a}};
Q.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Q.aa=2;function We(a){var b="function"===typeof a;return b?b:null!=a?l===a.Dg?!0:a.Pd?!1:Ub(ec,a):Ub(ec,a)}function Xe(a,b){this.xa=a;this.meta=b;this.K=393217;this.Y=0}g=Xe.prototype;g.ga=function(){return this.meta};g.ha=function(a,b){return new Xe(this.xa,b)};g.Dg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.F(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.dc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Zb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.$b(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ac(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.bc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.cc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.P=function(){return this.xa.P?this.xa.P():this.xa.call(null)};g.C=function(a){return this.xa.C?this.xa.C(a):this.xa.call(null,a)};g.B=function(a,b){return this.xa.B?this.xa.B(a,b):this.xa.call(null,a,b)};g.F=function(a,b,c){return this.xa.F?this.xa.F(a,b,c):this.xa.call(null,a,b,c)};
g.R=function(a,b,c,d){return this.xa.R?this.xa.R(a,b,c,d):this.xa.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){return this.xa.ka?this.xa.ka(a,b,c,d,e):this.xa.call(null,a,b,c,d,e)};g.Ka=function(a,b,c,d,e,f){return this.xa.Ka?this.xa.Ka(a,b,c,d,e,f):this.xa.call(null,a,b,c,d,e,f)};g.Eb=function(a,b,c,d,e,f,h){return this.xa.Eb?this.xa.Eb(a,b,c,d,e,f,h):this.xa.call(null,a,b,c,d,e,f,h)};g.Fb=function(a,b,c,d,e,f,h,k){return this.xa.Fb?this.xa.Fb(a,b,c,d,e,f,h,k):this.xa.call(null,a,b,c,d,e,f,h,k)};
g.dc=function(a,b,c,d,e,f,h,k,m){return this.xa.dc?this.xa.dc(a,b,c,d,e,f,h,k,m):this.xa.call(null,a,b,c,d,e,f,h,k,m)};g.Tb=function(a,b,c,d,e,f,h,k,m,n){return this.xa.Tb?this.xa.Tb(a,b,c,d,e,f,h,k,m,n):this.xa.call(null,a,b,c,d,e,f,h,k,m,n)};g.Ub=function(a,b,c,d,e,f,h,k,m,n,p){return this.xa.Ub?this.xa.Ub(a,b,c,d,e,f,h,k,m,n,p):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,t){return this.xa.Vb?this.xa.Vb(a,b,c,d,e,f,h,k,m,n,p,t):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t)};g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,t,w){return this.xa.Wb?this.xa.Wb(a,b,c,d,e,f,h,k,m,n,p,t,w):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w)};g.Xb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A){return this.xa.Xb?this.xa.Xb(a,b,c,d,e,f,h,k,m,n,p,t,w,A):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A)};
g.Yb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D){return this.xa.Yb?this.xa.Yb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D)};g.Zb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I){return this.xa.Zb?this.xa.Zb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I)};g.$b=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J){return this.xa.$b?this.xa.$b(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J)};
g.ac=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T){return this.xa.ac?this.xa.ac(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T)};g.bc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P){return this.xa.bc?this.xa.bc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P)};
g.cc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U){return this.xa.cc?this.xa.cc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U):this.xa.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U)};g.Ae=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea){return Yd.Nf?Yd.Nf(this.xa,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea):Yd.call(null,this.xa,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea)};function Ye(a,b){return"function"===typeof a?new Xe(a,b):null==a?null:Rc(a,b)}
function Ze(a){var b=null!=a;return(b?null!=a?a.K&131072||l===a.Be||(a.K?0:Ub(Oc,a)):Ub(Oc,a):b)?Pc(a):null}var $e=function $e(a){switch(arguments.length){case 1:return $e.C(arguments[0]);case 2:return $e.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return $e.I(arguments[0],arguments[1],c)}};$e.C=function(a){return a};$e.B=function(a,b){return null==a?null:Ic(a,b)};
$e.I=function(a,b,c){for(;;){if(null==a)return null;a=$e.B(a,b);if(r(c))b=G(c),c=H(c);else return a}};$e.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};$e.aa=2;function af(a){return null==a||Rb(F(a))}function bf(a){return null==a?!1:null!=a?a.K&8||l===a.uj?!0:a.K?!1:Ub(mc,a):Ub(mc,a)}function cf(a){return null==a?!1:null!=a?a.K&4096||l===a.Ej?!0:a.K?!1:Ub(Hc,a):Ub(Hc,a)}function df(a){return null!=a?a.K&16777216||l===a.Lg?!0:a.K?!1:Ub(ad,a):Ub(ad,a)}
function ef(a){return null==a?!1:null!=a?a.K&1024||l===a.Aj?!0:a.K?!1:Ub(Dc,a):Ub(Dc,a)}function ff(a){return null!=a?a.K&67108864||l===a.Dj?!0:a.K?!1:Ub(cd,a):Ub(cd,a)}function gf(a){return null!=a?a.K&16384||l===a.Fj?!0:a.K?!1:Ub(Lc,a):Ub(Lc,a)}function hf(a){return null!=a?a.Y&512||l===a.tj?!0:!1:!1}function jf(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var kf={};function lf(a){return null==a?!1:null!=a?a.K&64||l===a.le?!0:a.K?!1:Ub(rc,a):Ub(rc,a)}
function mf(a){var b=null==a;return b?b:(b=null!=a?a.K&8388608||l===a.Kg?!0:a.K?!1:Ub(Zc,a):Ub(Zc,a))?b:Pb(a)||"string"===typeof a}function nf(a){return null==a?!1:!1===a?!1:!0}function of(a){var b=We(a);return b?b:null!=a?a.K&1||l===a.wj?!0:a.K?!1:Ub(fc,a):Ub(fc,a)}function pf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function R(a,b){return null!=a&&(a.K&512||l===a.Ch)?a.ra(null,b):Ub(zc,a)?Ac(a,b):B.F(a,b,kf)===kf?!1:!0}
var qf=function qf(a){switch(arguments.length){case 1:return qf.C(arguments[0]);case 2:return qf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return qf.I(arguments[0],arguments[1],c)}};qf.C=function(){return!0};qf.B=function(a,b){return!E.B(a,b)};qf.I=function(a,b,c){if(E.B(a,b))return!1;a=rf([a,b]);for(b=c;;){var d=G(b);c=H(b);if(r(b)){if(R(a,d))return!1;a=Qe.B(a,d);b=c}else return!0}};
qf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};qf.aa=2;function sf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return Ra(a,b);throw Error(["Cannot compare ",u.C(a)," to ",u.C(b)].join(""));}if(null!=a?a.Y&2048||l===a.bd||(a.Y?0:Ub(td,a)):Ub(td,a))return ud(a,b);if("string"!==typeof a&&!Pb(a)&&!0!==a&&!1!==a||Vb(a)!==Vb(b))throw Error(["Cannot compare ",u.C(a)," to ",u.C(b)].join(""));return Ra(a,b)}
function tf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=sf(Ae(a,d),Ae(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function uf(a){return E.B(a,sf)?sf:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function vf(a,b){if(F(b)){var c=wf.C?wf.C(b):wf.call(null,b);Sa(c,uf(a));return Ye(F(c),Ze(b))}return de}
function xf(a,b){return vf(function(c,d){c=a.C?a.C(c):a.call(null,c);d=a.C?a.C(d):a.call(null,d);var e=uf(sf);return e.B?e.B(c,d):e.call(null,c,d)},b)}function Le(a){switch(arguments.length){case 2:return Ke(arguments[0],arguments[1]);case 3:return Me(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function Ke(a,b){var c=F(b);return c?(b=G(c),c=H(c),v.F?v.F(a,b,c):v.call(null,a,b,c)):a.P?a.P():a.call(null)}
function Me(a,b,c){for(c=F(c);;)if(c){var d=G(c);b=a.B?a.B(b,d):a.call(null,b,d);if(oe(b))return y(b);c=H(c)}else return b}function yf(a,b){a=Fd(a);if(r(a.Ma()))for(var c=a.next();;)if(a.Ma()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(oe(c))return y(c)}else return c;else return b.P?b.P():b.call(null)}function zf(a,b,c){for(a=Fd(a);;)if(a.Ma()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(oe(c))return y(c)}else return c}
var v=function v(a){switch(arguments.length){case 2:return v.B(arguments[0],arguments[1]);case 3:return v.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};v.B=function(a,b){return null!=b&&(b.K&524288||l===b.Hh)?b.$a(null,a):Pb(b)?ue(b,a):"string"===typeof b?ue(b,a):Ub(Sc,b)?Tc(b,a):Zd(b)?yf(b,a):Ke(a,b)};
v.F=function(a,b,c){return null!=c&&(c.K&524288||l===c.Hh)?c.ab(null,a,b):Pb(c)?ve(c,a,b):"string"===typeof c?ve(c,a,b):Ub(Sc,c)?Tc(c,a,b):Zd(c)?zf(c,a,b):Me(a,b,c)};v.aa=3;function Af(a,b,c){return null!=c?Wc(c,a,b):b}function Bf(a){return a}
function Cf(a){return function(){function b(f,h){return a.B?a.B(f,h):a.call(null,f,h)}function c(f){return Bf.C?Bf.C(f):Bf.call(null,f)}function d(){return a.P?a.P():a.call(null)}var e=null;e=function(f,h){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,f);case 2:return b.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.P=d;e.C=c;e.B=b;return e}()}function Df(a,b,c,d){a=a.C?a.C(b):a.call(null,b);c=v.F(a,c,d);return a.C?a.C(c):a.call(null,c)}
var Ef=function Ef(a){switch(arguments.length){case 0:return Ef.P();case 1:return Ef.C(arguments[0]);case 2:return Ef.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Ef.I(arguments[0],arguments[1],c)}};Ef.P=function(){return 0};Ef.C=function(a){return a};Ef.B=function(a,b){return a+b};Ef.I=function(a,b,c){return v.F(Ef,a+b,c)};
Ef.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Ef.aa=2;var Ff=function Ff(a){switch(arguments.length){case 1:return Ff.C(arguments[0]);case 2:return Ff.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Ff.I(arguments[0],arguments[1],c)}};Ff.C=function(a){return-a};Ff.B=function(a,b){return a-b};Ff.I=function(a,b,c){return v.F(Ff,a-b,c)};
Ff.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Ff.aa=2;var Gf=function Gf(a){switch(arguments.length){case 0:return Gf.P();case 1:return Gf.C(arguments[0]);case 2:return Gf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Gf.I(arguments[0],arguments[1],c)}};Gf.P=function(){return 1};Gf.C=function(a){return a};Gf.B=function(a,b){return a*b};
Gf.I=function(a,b,c){return v.F(Gf,a*b,c)};Gf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Gf.aa=2;var Hf=function Hf(a){switch(arguments.length){case 1:return Hf.C(arguments[0]);case 2:return Hf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Hf.I(arguments[0],arguments[1],c)}};Hf.C=function(a){return 1/a};Hf.B=function(a,b){return a/b};
Hf.I=function(a,b,c){return v.F(Hf,a/b,c)};Hf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Hf.aa=2;function If(a){return a-1}var Jf=function Jf(a){switch(arguments.length){case 1:return Jf.C(arguments[0]);case 2:return Jf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Jf.I(arguments[0],arguments[1],c)}};Jf.C=function(a){return a};Jf.B=function(a,b){return a>b?a:b};
Jf.I=function(a,b,c){return v.F(Jf,a>b?a:b,c)};Jf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Jf.aa=2;var Kf=function Kf(a){switch(arguments.length){case 1:return Kf.C(arguments[0]);case 2:return Kf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Kf.I(arguments[0],arguments[1],c)}};Kf.C=function(a){return a};Kf.B=function(a,b){return a<b?a:b};
Kf.I=function(a,b,c){return v.F(Kf,a<b?a:b,c)};Kf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Kf.aa=2;function Lf(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Mf(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Nf(a,b){return(a%b+b)%b}function Of(a,b){return Mf((a-a%b)/b)}function Pf(a,b){return a-b*Of(a,b)}
function Qf(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Rf=function Rf(a){switch(arguments.length){case 1:return Rf.C(arguments[0]);case 2:return Rf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Rf.I(arguments[0],arguments[1],c)}};Rf.C=function(){return!0};Rf.B=function(a,b){return Xc(a,b)};
Rf.I=function(a,b,c){for(;;)if(a===b)if(H(c))a=b,b=G(c),c=H(c);else return b===G(c);else return!1};Rf.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Rf.aa=2;function Sf(a){return 0<a}var u=function u(a){switch(arguments.length){case 0:return u.P();case 1:return u.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(1),0,null);return u.I(arguments[0],c)}};u.P=function(){return""};
u.C=function(a){return null==a?"":[a].join("")};u.I=function(a,b){for(a=new wb(u.C(a));;)if(r(b))a=a.append(u.C(G(b))),b=H(b);else return a.toString()};u.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};u.aa=1;var Tf=function Tf(a){switch(arguments.length){case 2:return Tf.B(arguments[0],arguments[1]);case 3:return Tf.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};Tf.B=function(a,b){return a.substring(b)};
Tf.F=function(a,b,c){return a.substring(b,c)};Tf.aa=3;function Ie(a,b){if(df(b))if(xe(a)&&xe(b)&&K(a)!==K(b))a=!1;else a:for(a=F(a),b=F(b);;){if(null==a){a=null==b;break a}if(null!=b&&E.B(G(a),G(b)))a=H(a),b=H(b);else{a=!1;break a}}else a=null;return nf(a)}function Se(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.J=e;this.K=65937646;this.Y=8192}g=Se.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Se(this.meta,this.first,this.rest,this.count,this.J)};g.Na=function(){return 1===this.count?null:this.rest};g.ma=function(){return this.count};g.Cd=function(){return this.first};
g.Dd=function(){return this.mb(null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return Rc(de,this.meta)};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return this.first};g.mb=function(){return 1===this.count?de:this.rest};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Se(b,this.first,this.rest,this.count,this.J)};
g.na=function(a,b){return new Se(this.meta,b,this,this.count+1,null)};function Uf(a){return null!=a?a.K&33554432||l===a.zj?!0:a.K?!1:Ub(bd,a):Ub(bd,a)}Se.prototype[Yb]=function(){return fe(this)};function Vf(a){this.meta=a;this.K=65937614;this.Y=8192}g=Vf.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Vf(this.meta)};g.Na=function(){return null};g.ma=function(){return 0};g.Cd=function(){return null};g.Dd=function(){throw Error("Can't pop empty list");};g.ja=function(){return ie};
g.ba=function(a,b){return Uf(b)||df(b)?null==F(b):!1};g.Ia=function(){return this};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return null};g.mb=function(){return de};g.la=function(){return null};g.ha=function(a,b){return b===this.meta?this:new Vf(b)};g.na=function(a,b){return new Se(this.meta,b,null,1,null)};var de=new Vf(null);Vf.prototype[Yb]=function(){return fe(this)};
function Wf(a){return(null!=a?a.K&134217728||l===a.Ih||(a.K?0:Ub(dd,a)):Ub(dd,a))?(a=ed(a))?a:de:v.F(Qe,de,a)}var Xf=function Xf(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Xf.I(c)};Xf.I=function(a){if(a instanceof $d&&0===a.i)var b=a.O;else a:for(b=[];;)if(null!=a)b.push(sc(a)),a=vc(a);else break a;a=b.length;for(var c=de;;)if(0<a){var d=a-1;c=nc(c,b[a-1]);a=d}else return c};Xf.aa=0;Xf.ca=function(a){return this.I(F(a))};
function Yf(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.J=d;this.K=65929452;this.Y=8192}g=Yf.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Yf(this.meta,this.first,this.rest,this.J)};g.Na=function(){return null==this.rest?null:F(this.rest)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return this.first};g.mb=function(){return null==this.rest?de:this.rest};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Yf(b,this.first,this.rest,this.J)};g.na=function(a,b){return new Yf(null,b,this,null)};Yf.prototype[Yb]=function(){return fe(this)};
function Je(a,b){return null==b?new Se(null,a,null,1,null):null!=b&&(b.K&64||l===b.le)?new Yf(null,a,b,null):new Yf(null,a,F(b),null)}function Zf(a,b){if(a.ea===b.ea)return 0;var c=Rb(a.fc);if(r(c?b.fc:c))return-1;if(r(a.fc)){if(Rb(b.fc))return 1;c=Ra(a.fc,b.fc);return 0===c?Ra(a.name,b.name):c}return Ra(a.name,b.name)}function C(a,b,c,d){this.fc=a;this.name=b;this.ea=c;this._hash=d;this.K=2153775105;this.Y=4096}g=C.prototype;g.toString=function(){return[":",u.C(this.ea)].join("")};
g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return b instanceof C?this.ea===b.ea:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return B.B(a,this)};g.B=function(a,b){return B.F(a,this,b)};
g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=Ud(this)+2654435769|0};g.Ce=function(){return this.name};g.De=function(){return this.fc};g.ia=function(a,b){return fd(b,[":",u.C(this.ea)].join(""))};function S(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.ea===b.ea:!1}function $f(a){if(null!=a&&(a.Y&4096||l===a.Jg))return a.De(null);throw Error(["Doesn't support namespace: ",u.C(a)].join(""));}function ag(a){return a instanceof C||a instanceof z}
var dg=function dg(a){switch(arguments.length){case 1:return dg.C(arguments[0]);case 2:return dg.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};dg.C=function(a){if(a instanceof C)return a;if(a instanceof z)return new C($f(a),eg.C?eg.C(a):eg.call(null,a),a.hc,null);if(E.B("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
dg.B=function(a,b){a=a instanceof C?eg.C?eg.C(a):eg.call(null,a):a instanceof z?eg.C?eg.C(a):eg.call(null,a):a;b=b instanceof C?eg.C?eg.C(b):eg.call(null,b):b instanceof z?eg.C?eg.C(b):eg.call(null,b):b;return new C(a,b,[r(a)?[u.C(a),"/"].join(""):null,u.C(b)].join(""),null)};dg.aa=2;function fg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.J=d;this.K=32374988;this.Y=1}g=fg.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
function gg(a){null!=a.fn&&(a.s=a.fn.P?a.fn.P():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){this.la(null);return null==this.s?null:H(this.s)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};
g.Ia=function(){return Rc(de,this.meta)};g.jf=function(){return Rb(this.fn)};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){this.la(null);return null==this.s?null:G(this.s)};g.mb=function(){this.la(null);return null!=this.s?be(this.s):de};g.la=function(){gg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof fg)a=gg(a);else return this.s=a,F(this.s)};
g.ha=function(a,b){var c=this;return b===this.meta?c:new fg(b,function(){return c.la(null)},null,this.J)};g.na=function(a,b){return Je(b,this)};fg.prototype[Yb]=function(){return fe(this)};function hg(a){this.buf=a;this.end=0;this.K=2;this.Y=0}hg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};hg.prototype.chunk=function(){var a=new ig(this.buf,0,this.end);this.buf=null;return a};hg.prototype.ma=function(){return this.end};function jg(a){return new hg(Array(a))}
function ig(a,b,c){this.O=a;this.off=b;this.end=c;this.K=524306;this.Y=0}g=ig.prototype;g.ma=function(){return this.end-this.off};g.Da=function(a,b){return this.O[this.off+b]};g.fb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.O[this.off+b]:c};g.ze=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ig(this.O,this.off+1,this.end)};g.$a=function(a,b){return we(this.O,b,this.O[this.off],this.off+1)};g.ab=function(a,b,c){return we(this.O,b,c,this.off)};
function kg(a,b,c,d){this.chunk=a;this.jd=b;this.meta=c;this.J=d;this.K=31850732;this.Y=1536}g=kg.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){return 1<ic(this.chunk)?new kg(vd(this.chunk),this.jd,null,null):null==this.jd?null:$c(this.jd)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.cb=function(){return x(this.chunk,0)};g.mb=function(){return 1<ic(this.chunk)?new kg(vd(this.chunk),this.jd,null,null):null==this.jd?de:this.jd};g.la=function(){return this};g.ke=function(){return this.chunk};g.Ad=function(){return null==this.jd?de:this.jd};g.ha=function(a,b){return b===this.meta?this:new kg(this.chunk,this.jd,b,this.J)};g.na=function(a,b){return Je(b,this)};g.je=function(){return null==this.jd?null:this.jd};
kg.prototype[Yb]=function(){return fe(this)};function lg(a,b){return 0===ic(a)?b:new kg(a,b,null,null)}function mg(a,b){a.add(b)}function ng(a){return a.chunk()}function wf(a){var b=[];for(a=F(a);;)if(null!=a)b.push(G(a)),a=H(a);else return b}function og(a,b){if(xe(b))return K(b);var c=0;for(b=F(b);;)if(null!=b&&c<a)c+=1,b=H(b);else return c}
var pg=function pg(a){if(null==a)return null;var c=H(a);return null==c?F(G(a)):Je(G(a),pg.C?pg.C(c):pg.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.P();case 1:return V.C(arguments[0]);case 2:return V.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return V.I(arguments[0],arguments[1],c)}};V.P=function(){return new fg(null,function(){return null},null,null)};
V.C=function(a){return new fg(null,function(){return a},null,null)};V.B=function(a,b){return new fg(null,function(){var c=F(a);return c?hf(c)?lg(wd(c),V.B(xd(c),b)):Je(G(c),V.B(be(c),b)):b},null,null)};V.I=function(a,b,c){return function h(e,f){return new fg(null,function(){var k=F(e);return k?hf(k)?lg(wd(k),h(xd(k),f)):Je(G(k),h(be(k),f)):r(f)?h(G(f),H(f)):null},null,null)}(V.B(a,b),c)};V.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};V.aa=2;
function qg(a,b,c){return Je(a,Je(b,c))}function rg(a){return od(a)}function sg(a){return rd(a)}var tg=function tg(a){switch(arguments.length){case 0:return tg.P();case 1:return tg.C(arguments[0]);case 2:return tg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return tg.I(arguments[0],arguments[1],c)}};tg.P=function(){return od(Re)};tg.C=function(a){return a};tg.B=function(a,b){return qd(a,b)};
tg.I=function(a,b,c){for(;;)if(a=qd(a,b),r(c))b=G(c),c=H(c);else return a};tg.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};tg.aa=2;function ug(a,b,c){return sd(a,b,c)}
function vg(a,b,c){var d=F(c);if(0===b)return a.P?a.P():a.call(null);c=sc(d);var e=tc(d);if(1===b)return a.C?a.C(c):a.call(null,c);d=sc(e);var f=tc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=sc(f);var h=tc(f);if(3===b)return a.F?a.F(c,d,e):a.call(null,c,d,e);f=sc(h);var k=tc(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=sc(k);var m=tc(k);if(5===b)return a.ka?a.ka(c,d,e,f,h):a.call(null,c,d,e,f,h);k=sc(m);var n=tc(m);if(6===b)return a.Ka?a.Ka(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=sc(n);var p=tc(n);if(7===b)return a.Eb?a.Eb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=sc(p);var t=tc(p);if(8===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=sc(t);var w=tc(t);if(9===b)return a.dc?a.dc(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);t=sc(w);var A=tc(w);if(10===b)return a.Tb?a.Tb(c,d,e,f,h,k,m,n,p,t):a.call(null,c,d,e,f,h,k,m,n,p,t);w=sc(A);var D=tc(A);if(11===b)return a.Ub?a.Ub(c,d,e,f,h,k,m,n,p,t,w):a.call(null,c,d,e,f,h,k,m,n,p,t,w);A=sc(D);var I=tc(D);
if(12===b)return a.Vb?a.Vb(c,d,e,f,h,k,m,n,p,t,w,A):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A);D=sc(I);var J=tc(I);if(13===b)return a.Wb?a.Wb(c,d,e,f,h,k,m,n,p,t,w,A,D):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D);I=sc(J);var T=tc(J);if(14===b)return a.Xb?a.Xb(c,d,e,f,h,k,m,n,p,t,w,A,D,I):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I);J=sc(T);var P=tc(T);if(15===b)return a.Yb?a.Yb(c,d,e,f,h,k,m,n,p,t,w,A,D,I,J):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J);T=sc(P);var U=tc(P);if(16===b)return a.Zb?a.Zb(c,d,e,f,h,k,m,
n,p,t,w,A,D,I,J,T):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T);P=sc(U);var ea=tc(U);if(17===b)return a.$b?a.$b(c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P);U=sc(ea);var ra=tc(ea);if(18===b)return a.ac?a.ac(c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U);ea=sc(ra);ra=tc(ra);if(19===b)return a.bc?a.bc(c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea);var Ha=sc(ra);tc(ra);if(20===b)return a.cc?
a.cc(c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea,Ha):a.call(null,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea,Ha);throw Error("Only up to 20 arguments supported on functions");}function wg(a){return null!=a&&(a.K&128||l===a.Ee)?a.Na(null):F(be(a))}function xg(a,b,c){return null==c?a.C?a.C(b):a.call(a,b):yg(a,b,sc(c),wg(c))}function yg(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):zg(a,b,c,sc(d),wg(d))}function zg(a,b,c,d,e){return null==e?a.F?a.F(b,c,d):a.call(a,b,c,d):Ag(a,b,c,d,sc(e),wg(e))}
function Ag(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=sc(f),k=H(f);if(null==k)return a.ka?a.ka(b,c,d,e,h):a.call(a,b,c,d,e,h);f=sc(k);var m=H(k);if(null==m)return a.Ka?a.Ka(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=sc(m);var n=H(m);if(null==n)return a.Eb?a.Eb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=sc(n);var p=H(n);if(null==p)return a.Fb?a.Fb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=sc(p);var t=H(p);if(null==t)return a.dc?a.dc(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=sc(t);var w=H(t);if(null==w)return a.Tb?a.Tb(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);t=sc(w);var A=H(w);if(null==A)return a.Ub?a.Ub(b,c,d,e,h,f,k,m,n,p,t):a.call(a,b,c,d,e,h,f,k,m,n,p,t);w=sc(A);var D=H(A);if(null==D)return a.Vb?a.Vb(b,c,d,e,h,f,k,m,n,p,t,w):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w);A=sc(D);var I=H(D);if(null==I)return a.Wb?a.Wb(b,c,d,e,h,f,k,m,n,p,t,w,A):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A);D=sc(I);var J=H(I);if(null==J)return a.Xb?a.Xb(b,c,d,e,h,f,k,m,n,p,t,w,A,D):a.call(a,
b,c,d,e,h,f,k,m,n,p,t,w,A,D);I=sc(J);var T=H(J);if(null==T)return a.Yb?a.Yb(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A,D,I);J=sc(T);var P=H(T);if(null==P)return a.Zb?a.Zb(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J);T=sc(P);var U=H(P);if(null==U)return a.$b?a.$b(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T);P=sc(U);var ea=H(U);if(null==ea)return a.ac?a.ac(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P):a.call(a,b,c,d,e,h,f,
k,m,n,p,t,w,A,D,I,J,T,P);U=sc(ea);var ra=H(ea);if(null==ra)return a.bc?a.bc(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P,U):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P,U);ea=sc(ra);ra=H(ra);if(null==ra)return a.cc?a.cc(b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P,U,ea):a.call(a,b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P,U,ea);b=[b,c,d,e,h,f,k,m,n,p,t,w,A,D,I,J,T,P,U,ea];for(c=ra;;)if(c)b.push(sc(c)),c=H(c);else break;return a.apply(a,b)}
function Yd(a){switch(arguments.length){case 2:return Bg(arguments[0],arguments[1]);case 3:return Cg(arguments[0],arguments[1],arguments[2]);case 4:return Dg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Eg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new $d(b.slice(5),0,null);return Fg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Bg(a,b){if(a.ca){var c=a.aa,d=og(c+1,b);return d<=c?vg(a,d,b):a.ca(b)}b=F(b);return null==b?a.P?a.P():a.call(a):xg(a,sc(b),wg(b))}function Cg(a,b,c){if(a.ca){b=Je(b,c);var d=a.aa;c=og(d,c)+1;return c<=d?vg(a,c,b):a.ca(b)}return xg(a,b,F(c))}function Dg(a,b,c,d){return a.ca?(b=qg(b,c,d),c=a.aa,d=2+og(c-1,d),d<=c?vg(a,d,b):a.ca(b)):yg(a,b,c,F(d))}function Eg(a,b,c,d,e){return a.ca?(b=Je(b,Je(c,Je(d,e))),c=a.aa,e=3+og(c-2,e),e<=c?vg(a,e,b):a.ca(b)):zg(a,b,c,d,F(e))}
function Fg(a,b,c,d,e,f){return a.ca?(f=pg(f),b=Je(b,Je(c,Je(d,Je(e,f)))),c=a.aa,f=4+og(c-3,f),f<=c?vg(a,f,b):a.ca(b)):Ag(a,b,c,d,e,pg(f))}function Gg(a){return null!=a&&(a.K&64||l===a.le)?H(a)?Ve(wf(a)):F(a)?G(a):W:a}var Hg=function Hg(a){switch(arguments.length){case 1:return Hg.C(arguments[0]);case 2:return Hg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Hg.I(arguments[0],arguments[1],c)}};
Hg.C=function(){return!1};Hg.B=function(a,b){return!E.B(a,b)};Hg.I=function(a,b,c){return Rb(Dg(E,a,b,c))};Hg.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Hg.aa=2;function Ig(a){return F(a)?a:null}
function Jg(){if("undefined"===typeof xb||"undefined"===typeof yb||"undefined"===typeof zb)zb=function(a){this.ni=a;this.K=393216;this.Y=0},zb.prototype.ha=function(a,b){return new zb(b)},zb.prototype.ga=function(){return this.ni},zb.prototype.Ma=function(){return!1},zb.prototype.next=function(){return Error("No such element")},zb.prototype.remove=function(){return Error("Unsupported operation")},zb.eb=!0,zb.Qa="cljs.core/t_cljs$core20088",zb.gb=function(a){return fd(a,"cljs.core/t_cljs$core20088")};
return new zb(W)}function Kg(a){this.s=a;this.i=0}Kg.prototype.Ma=function(){return this.i<this.s.length};Kg.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};Kg.prototype.remove=function(){return Error("Unsupported operation")};function Lg(a){this.O=a;this.i=0}Lg.prototype.Ma=function(){return this.i<this.O.length};Lg.prototype.next=function(){var a=this.O[this.i];this.i+=1;return a};Lg.prototype.remove=function(){return Error("Unsupported operation")};var Mg={},Ng={};
function Og(a){this.xe=Mg;this._next=a}Og.prototype.Ma=function(){this.xe===Mg?(this.xe=Ng,this._next=F(this._next)):this.xe===this._next&&(this._next=H(this.xe));return null!=this._next};Og.prototype.next=function(){if(this.Ma())return this.xe=this._next,G(this._next);throw Error("No such element");};Og.prototype.remove=function(){return Error("Unsupported operation")};
function Pg(a){if(Zd(a))return Fd(a);if(null==a)return Jg();if("string"===typeof a)return new Kg(a);if(Pb(a))return new Lg(a);if(mf(a))return new Og(a);throw Error(["Cannot create iterator from ",u.C(a)].join(""));}function Qg(a){this.vals=a}Qg.prototype.add=function(a){this.vals.push(a);return this};Qg.prototype.remove=function(){return this.vals.shift()};Qg.prototype.isEmpty=function(){return 0===this.vals.length};Qg.prototype.toString=function(){return["Many: ",u.C(this.vals)].join("")};
var Rg={};function Sg(a){this.val=a}Sg.prototype.add=function(a){return this.val===Rg?(this.val=a,this):new Qg([this.val,a])};Sg.prototype.remove=function(){if(this.val===Rg)throw Error("Removing object from empty buffer");var a=this.val;this.val=Rg;return a};Sg.prototype.isEmpty=function(){return this.val===Rg};Sg.prototype.toString=function(){return["Single: ",u.C(this.val)].join("")};function Tg(){}Tg.prototype.add=function(a){return new Sg(a)};
Tg.prototype.remove=function(){throw Error("Removing object from empty buffer");};Tg.prototype.isEmpty=function(){return!0};Tg.prototype.toString=function(){return"Empty"};var Ug=new Tg,Vg=function Vg(a){return new fg(null,function(){if(a.Ma())for(var c=[],d=0;;){var e=a.Ma();if(r(r(e)?32>d:e))c[d]=a.next(),d+=1;else return lg(new ig(c,0,d),Vg.C?Vg.C(a):Vg.call(null,a))}else return null},null,null)};function Wg(a){this.buffer=Ug;this._next=Rg;this.Zf=!1;this.rd=null;this.rg=a;this.Pi=!1}
Wg.prototype.step=function(){if(this._next!==Rg)return!0;for(;;)if(this._next===Rg)if(this.buffer.isEmpty()){if(this.Zf)return!1;if(this.rg.Ma()){if(this.Pi)var a=Bg(this.rd,Je(null,this.rg.next()));else a=this.rg.next(),a=this.rd.B?this.rd.B(null,a):this.rd.call(null,null,a);oe(a)&&(this.rd.C?this.rd.C(null):this.rd.call(null,null),this.Zf=!0)}else this.rd.C?this.rd.C(null):this.rd.call(null,null),this.Zf=!0}else this._next=this.buffer.remove();else return!0};Wg.prototype.Ma=function(){return this.step()};
Wg.prototype.next=function(){if(this.Ma()){var a=this._next;this._next=Rg;return a}throw Error("No such element");};Wg.prototype.remove=function(){return Error("Unsupported operation")};Wg.prototype[Yb]=function(){return fe(this)};
function Xg(a,b){var c=new Wg(b);c.rd=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=function(){return null};f.C=function(h){return h};f.B=e;return f}();return a.C?a.C(d):a.call(null,d)}();return c}
function Zg(a,b){for(;;){if(null==F(b))return!0;var c=G(b);c=a.C?a.C(c):a.call(null,c);if(r(c))b=H(b);else return!1}}function $g(a,b){for(;;)if(b=F(b)){var c=G(b);c=a.C?a.C(c):a.call(null,c);if(r(c))return c;b=H(b)}else return null}function ah(a){if(pf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",u.C(a)].join(""));}
function bh(a){return function(){function b(h,k){return Rb(a.B?a.B(h,k):a.call(null,h,k))}function c(h){return Rb(a.C?a.C(h):a.call(null,h))}function d(){return Rb(a.P?a.P():a.call(null))}var e=null,f=function(){function h(m,n,p){var t=null;if(2<arguments.length){t=0;for(var w=Array(arguments.length-2);t<w.length;)w[t]=arguments[t+2],++t;t=new $d(w,0,null)}return k.call(this,m,n,t)}function k(m,n,p){return Rb(Dg(a,m,n,p))}h.aa=2;h.ca=function(m){var n=G(m);m=H(m);var p=G(m);m=be(m);return k(n,p,m)};
h.I=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new $d(p,0,null)}return f.I(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.aa=2;e.ca=f.ca;e.P=d;e.C=c;e.B=b;e.I=f.I;return e}()}
var ch=function ch(a){switch(arguments.length){case 0:return ch.P();case 1:return ch.C(arguments[0]);case 2:return ch.B(arguments[0],arguments[1]);case 3:return ch.F(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(3),0,null);return ch.I(arguments[0],arguments[1],arguments[2],c)}};ch.P=function(){return Bf};ch.C=function(a){return a};
ch.B=function(a,b){return function(){function c(m,n,p){m=b.F?b.F(m,n,p):b.call(null,m,n,p);return a.C?a.C(m):a.call(null,m)}function d(m,n){m=b.B?b.B(m,n):b.call(null,m,n);return a.C?a.C(m):a.call(null,m)}function e(m){m=b.C?b.C(m):b.call(null,m);return a.C?a.C(m):a.call(null,m)}function f(){var m=b.P?b.P():b.call(null);return a.C?a.C(m):a.call(null,m)}var h=null,k=function(){function m(p,t,w,A){var D=null;if(3<arguments.length){D=0;for(var I=Array(arguments.length-3);D<I.length;)I[D]=arguments[D+
3],++D;D=new $d(I,0,null)}return n.call(this,p,t,w,D)}function n(p,t,w,A){p=Eg(b,p,t,w,A);return a.C?a.C(p):a.call(null,p)}m.aa=3;m.ca=function(p){var t=G(p);p=H(p);var w=G(p);p=H(p);var A=G(p);p=be(p);return n(t,w,A,p)};m.I=n;return m}();h=function(m,n,p,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=
arguments[w+3],++w;w=new $d(A,0,null)}return k.I(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;h.P=f;h.C=e;h.B=d;h.F=c;h.I=k.I;return h}()};
ch.F=function(a,b,c){return function(){function d(n,p,t){n=c.F?c.F(n,p,t):c.call(null,n,p,t);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function e(n,p){n=c.B?c.B(n,p):c.call(null,n,p);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function f(n){n=c.C?c.C(n):c.call(null,n);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function h(){var n=c.P?c.P():c.call(null);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}var k=null,m=function(){function n(t,
w,A,D){var I=null;if(3<arguments.length){I=0;for(var J=Array(arguments.length-3);I<J.length;)J[I]=arguments[I+3],++I;I=new $d(J,0,null)}return p.call(this,t,w,A,I)}function p(t,w,A,D){t=Eg(c,t,w,A,D);t=b.C?b.C(t):b.call(null,t);return a.C?a.C(t):a.call(null,t)}n.aa=3;n.ca=function(t){var w=G(t);t=H(t);var A=G(t);t=H(t);var D=G(t);t=be(t);return p(w,A,D,t)};n.I=p;return n}();k=function(n,p,t,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,t);default:var A=null;if(3<arguments.length){A=0;for(var D=Array(arguments.length-3);A<D.length;)D[A]=arguments[A+3],++A;A=new $d(D,0,null)}return m.I(n,p,t,A)}throw Error("Invalid arity: "+arguments.length);};k.aa=3;k.ca=m.ca;k.P=h;k.C=f;k.B=e;k.F=d;k.I=m.I;return k}()};
ch.I=function(a,b,c,d){var e=Wf(Je(a,Je(b,Je(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new $d(n,0,null)}return h.call(this,m)}function h(k){k=Bg(G(e),k);for(var m=H(e);;)if(m){var n=G(m);k=n.C?n.C(k):n.call(null,k);m=H(m)}else return k}f.aa=0;f.ca=function(k){k=F(k);return h(k)};f.I=h;return f}()};ch.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);d=H(d);return this.I(b,a,c,d)};
ch.aa=3;var dh=function dh(a){switch(arguments.length){case 1:return dh.C(arguments[0]);case 2:return dh.B(arguments[0],arguments[1]);case 3:return dh.F(arguments[0],arguments[1],arguments[2]);case 4:return dh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(4),0,null);return dh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};dh.C=function(a){return a};
dh.B=function(a,b){return function(){function c(m,n,p){return a.R?a.R(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.F?a.F(b,m,n):a.call(null,b,m,n)}function e(m){return a.B?a.B(b,m):a.call(null,b,m)}function f(){return a.C?a.C(b):a.call(null,b)}var h=null,k=function(){function m(p,t,w,A){var D=null;if(3<arguments.length){D=0;for(var I=Array(arguments.length-3);D<I.length;)I[D]=arguments[D+3],++D;D=new $d(I,0,null)}return n.call(this,p,t,w,D)}function n(p,t,w,A){return Fg(a,b,p,t,w,M([A]))}
m.aa=3;m.ca=function(p){var t=G(p);p=H(p);var w=G(p);p=H(p);var A=G(p);p=be(p);return n(t,w,A,p)};m.I=n;return m}();h=function(m,n,p,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new $d(A,0,null)}return k.I(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;
h.P=f;h.C=e;h.B=d;h.F=c;h.I=k.I;return h}()};
dh.F=function(a,b,c){return function(){function d(n,p,t){return a.ka?a.ka(b,c,n,p,t):a.call(null,b,c,n,p,t)}function e(n,p){return a.R?a.R(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.F?a.F(b,c,n):a.call(null,b,c,n)}function h(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,m=function(){function n(t,w,A,D){var I=null;if(3<arguments.length){I=0;for(var J=Array(arguments.length-3);I<J.length;)J[I]=arguments[I+3],++I;I=new $d(J,0,null)}return p.call(this,t,w,A,I)}function p(t,w,A,D){return Fg(a,
b,c,t,w,M([A,D]))}n.aa=3;n.ca=function(t){var w=G(t);t=H(t);var A=G(t);t=H(t);var D=G(t);t=be(t);return p(w,A,D,t)};n.I=p;return n}();k=function(n,p,t,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,t);default:var A=null;if(3<arguments.length){A=0;for(var D=Array(arguments.length-3);A<D.length;)D[A]=arguments[A+3],++A;A=new $d(D,0,null)}return m.I(n,p,t,A)}throw Error("Invalid arity: "+arguments.length);
};k.aa=3;k.ca=m.ca;k.P=h;k.C=f;k.B=e;k.F=d;k.I=m.I;return k}()};
dh.R=function(a,b,c,d){return function(){function e(p,t,w){return a.Ka?a.Ka(b,c,d,p,t,w):a.call(null,b,c,d,p,t,w)}function f(p,t){return a.ka?a.ka(b,c,d,p,t):a.call(null,b,c,d,p,t)}function h(p){return a.R?a.R(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.F?a.F(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(w,A,D,I){var J=null;if(3<arguments.length){J=0;for(var T=Array(arguments.length-3);J<T.length;)T[J]=arguments[J+3],++J;J=new $d(T,0,null)}return t.call(this,w,A,D,J)}function t(w,
A,D,I){return Fg(a,b,c,d,w,M([A,D,I]))}p.aa=3;p.ca=function(w){var A=G(w);w=H(w);var D=G(w);w=H(w);var I=G(w);w=be(w);return t(A,D,I,w)};p.I=t;return p}();m=function(p,t,w,A){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,t);case 3:return e.call(this,p,t,w);default:var D=null;if(3<arguments.length){D=0;for(var I=Array(arguments.length-3);D<I.length;)I[D]=arguments[D+3],++D;D=new $d(I,0,null)}return n.I(p,t,w,D)}throw Error("Invalid arity: "+
arguments.length);};m.aa=3;m.ca=n.ca;m.P=k;m.C=h;m.B=f;m.F=e;m.I=n.I;return m}()};dh.I=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new $d(n,0,null)}return h.call(this,m)}function h(k){return Eg(a,b,c,d,V.B(e,k))}f.aa=0;f.ca=function(k){k=F(k);return h(k)};f.I=h;return f}()};
dh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.I(b,a,c,d,e)};dh.aa=4;
function eh(a){return function(){function b(h,k,m){h=null==h?a:h;return Qe.F?Qe.F(h,k,m):Qe.call(null,h,k,m)}function c(h,k){h=null==h?a:h;return Qe.B?Qe.B(h,k):Qe.call(null,h,k)}function d(h){h=null==h?a:h;return Qe.C?Qe.C(h):Qe.call(null,h)}var e=null,f=function(){function h(m,n,p,t){var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new $d(A,0,null)}return k.call(this,m,n,p,w)}function k(m,n,p,t){return Eg(Qe,null==m?a:m,n,p,t)}h.aa=
3;h.ca=function(m){var n=G(m);m=H(m);var p=G(m);m=H(m);var t=G(m);m=be(m);return k(n,p,t,m)};h.I=k;return h}();e=function(h,k,m,n){switch(arguments.length){case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,m);default:var p=null;if(3<arguments.length){p=0;for(var t=Array(arguments.length-3);p<t.length;)t[p]=arguments[p+3],++p;p=new $d(t,0,null)}return f.I(h,k,m,p)}throw Error("Invalid arity: "+arguments.length);};e.aa=3;e.ca=f.ca;e.C=d;e.B=c;e.F=b;e.I=f.I;return e}()}
function fh(a){return function(b){var c=hh.C?hh.C(-1):hh.call(null,-1);return function(){function d(k,m){var n=Dd(c,y(c)+1);m=a.B?a.B(n,m):a.call(null,n,m);return b.B?b.B(k,m):b.call(null,k,m)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}}
function ih(a){return function(b){return function(){function c(h,k){k=a.C?a.C(k):a.call(null,k);return null==k?h:b.B?b.B(h,k):b.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function jh(a,b){return new fg(null,function(){var c=F(b);if(c){if(hf(c)){for(var d=wd(c),e=K(d),f=jg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.C?a.C(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return lg(ng(f),jh(a,xd(c)))}e=function(){var m=G(c);return a.C?a.C(m):a.call(null,m)}();return null==e?jh(a,be(c)):Je(e,jh(a,be(c)))}return null},null,null)}function kh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.Kb=null;this.Y=16386;this.K=6455296}g=kh.prototype;
g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return this===b};g.ic=function(){return this.state};g.ga=function(){return this.meta};g.Uf=function(a,b){for(var c=F(this.Kb),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f),k=N(h,0,null);h=N(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=F(c))hf(c)?(d=wd(c),c=xd(c),k=d,e=K(d),d=k):(d=G(c),k=N(d,0,null),h=N(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=H(c),d=null,e=0),f=0;else break};
g.lf=function(a,b,c){this.Kb=O.F(this.Kb,b,c);return this};g.mf=function(a,b){return this.Kb=Q.B(this.Kb,b)};g.ja=function(){return ia(this)};function lh(a){return new kh(a,null,null)}function mh(a,b){if(a instanceof kh){var c=a.validator;if(null!=c&&!r(c.C?c.C(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.Kb&&a.Uf(c,b);return b}return Ad(a,b)}
var nh=function nh(a){switch(arguments.length){case 2:return nh.B(arguments[0],arguments[1]);case 3:return nh.F(arguments[0],arguments[1],arguments[2]);case 4:return nh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(4),0,null);return nh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
nh.B=function(a,b){if(a instanceof kh){var c=a.state;b=b.C?b.C(c):b.call(null,c);a=mh(a,b)}else a=Bd(a,b);return a};nh.F=function(a,b,c){if(a instanceof kh){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=mh(a,b)}else a=Bd(a,b,c);return a};nh.R=function(a,b,c,d){if(a instanceof kh){var e=a.state;b=b.F?b.F(e,c,d):b.call(null,e,c,d);a=mh(a,b)}else a=Bd(a,b,c,d);return a};nh.I=function(a,b,c,d,e){return a instanceof kh?mh(a,Eg(b,a.state,c,d,e)):Bd(a,b,c,d,e)};
nh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.I(b,a,c,d,e)};nh.aa=4;function oh(a){this.state=a;this.K=32768;this.Y=0}oh.prototype.Fe=function(a,b){return this.state=b};oh.prototype.ic=function(){return this.state};function hh(a){return new oh(a)}
function ph(){var a=qh,b=rh;return function(){function c(k,m,n){var p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=
a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,t,w){var A=null;if(3<arguments.length){A=0;for(var D=Array(arguments.length-3);A<D.length;)D[A]=arguments[A+3],++A;A=new $d(D,0,null)}return m.call(this,n,p,t,A)}function m(n,p,t,w){n=f.F(n,p,t);return r(n)?n:$g(function(A){var D=a.C?a.C(A):a.call(null,A);return r(D)?D:b.C?b.C(A):b.call(null,A)},w)}k.aa=3;k.ca=function(n){var p=G(n);n=H(n);var t=G(n);n=H(n);var w=G(n);n=be(n);return m(p,t,w,n)};
k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var t=null;if(3<arguments.length){t=0;for(var w=Array(arguments.length-3);t<w.length;)w[t]=arguments[t+3],++t;t=new $d(w,0,null)}return h.I(k,m,n,t)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.ca=h.ca;f.P=function(){return null};f.C=e;f.B=d;f.F=c;f.I=h.I;return f}()}
function sh(){var a=th,b=uh;return function(){function c(k,m,n){var p=Ob.C?Ob.C(k):Ob.call(null,k);if(r(p))return p;p=Ob.C?Ob.C(m):Ob.call(null,m);if(r(p))return p;p=Ob.C?Ob.C(n):Ob.call(null,n);if(r(p))return p;p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=Ob.C?Ob.C(k):Ob.call(null,
k);if(r(n))return n;n=Ob.C?Ob.C(m):Ob.call(null,m);if(r(n))return n;n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=Ob.C?Ob.C(k):Ob.call(null,k);if(r(m))return m;m=a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,t,w){var A=null;if(3<arguments.length){A=0;for(var D=Array(arguments.length-3);A<D.length;)D[A]=arguments[A+
3],++A;A=new $d(D,0,null)}return m.call(this,n,p,t,A)}function m(n,p,t,w){n=f.F(n,p,t);return r(n)?n:$g(function(A){var D=Ob.C?Ob.C(A):Ob.call(null,A);if(r(D))return D;D=a.C?a.C(A):a.call(null,A);return r(D)?D:b.C?b.C(A):b.call(null,A)},w)}k.aa=3;k.ca=function(n){var p=G(n);n=H(n);var t=G(n);n=H(n);var w=G(n);n=be(n);return m(p,t,w,n)};k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,
k,m,n);default:var t=null;if(3<arguments.length){t=0;for(var w=Array(arguments.length-3);t<w.length;)w[t]=arguments[t+3],++t;t=new $d(w,0,null)}return h.I(k,m,n,t)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.ca=h.ca;f.P=function(){return null};f.C=e;f.B=d;f.F=c;f.I=h.I;return f}()}
var vh=function vh(a){switch(arguments.length){case 1:return vh.C(arguments[0]);case 2:return vh.B(arguments[0],arguments[1]);case 3:return vh.F(arguments[0],arguments[1],arguments[2]);case 4:return vh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(4),0,null);return vh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
vh.C=function(a){return function(b){return function(){function c(k,m){m=a.C?a.C(m):a.call(null,m);return b.B?b.B(k,m):b.call(null,k,m)}function d(k){return b.C?b.C(k):b.call(null,k)}function e(){return b.P?b.P():b.call(null)}var f=null,h=function(){function k(n,p,t){var w=null;if(2<arguments.length){w=0;for(var A=Array(arguments.length-2);w<A.length;)A[w]=arguments[w+2],++w;w=new $d(A,0,null)}return m.call(this,n,p,w)}function m(n,p,t){p=Cg(a,p,t);return b.B?b.B(n,p):b.call(null,n,p)}k.aa=2;k.ca=
function(n){var p=G(n);n=H(n);var t=G(n);n=be(n);return m(p,t,n)};k.I=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var t=Array(arguments.length-2);p<t.length;)t[p]=arguments[p+2],++p;p=new $d(t,0,null)}return h.I(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.aa=2;f.ca=h.ca;f.P=e;f.C=d;f.B=c;f.I=h.I;return f}()}};
vh.B=function(a,b){return new fg(null,function(){var c=F(b);if(c){if(hf(c)){for(var d=wd(c),e=K(d),f=jg(e),h=0;;)if(h<e)mg(f,function(){var k=x(d,h);return a.C?a.C(k):a.call(null,k)}()),h+=1;else break;return lg(ng(f),vh.B(a,xd(c)))}return Je(function(){var k=G(c);return a.C?a.C(k):a.call(null,k)}(),vh.B(a,be(c)))}return null},null,null)};
vh.F=function(a,b,c){return new fg(null,function(){var d=F(b),e=F(c);if(d&&e){var f=G(d);var h=G(e);f=a.B?a.B(f,h):a.call(null,f,h);d=Je(f,vh.F(a,be(d),be(e)))}else d=null;return d},null,null)};vh.R=function(a,b,c,d){return new fg(null,function(){var e=F(b),f=F(c),h=F(d);if(e&&f&&h){var k=G(e);var m=G(f),n=G(h);k=a.F?a.F(k,m,n):a.call(null,k,m,n);e=Je(k,vh.R(a,be(e),be(f),be(h)))}else e=null;return e},null,null)};
vh.I=function(a,b,c,d,e){return vh.B(function(f){return Bg(a,f)},function k(h){return new fg(null,function(){var m=vh.B(F,h);return Zg(Bf,m)?Je(vh.B(G,m),k(vh.B(be,m))):null},null,null)}(Qe.I(e,d,M([c,b]))))};vh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.I(b,a,c,d,e)};vh.aa=4;
var wh=function wh(a){switch(arguments.length){case 1:return wh.C(arguments[0]);case 2:return wh.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};
wh.C=function(a){return function(b){var c=hh(a);return function(){function d(k,m){var n=y(c),p=c.Fe(null,c.ic(null)-1);k=0<n?b.B?b.B(k,m):b.call(null,k,m):k;return 0<p?k:oe(k)?k:ne(k)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}};
wh.B=function(a,b){return new fg(null,function(){if(0<a){var c=F(b);return c?Je(G(c),wh.B(a-1,be(c))):null}return null},null,null)};wh.aa=2;function xh(a,b){return new fg(null,function(){a:for(var c=a,d=b;;)if(d=F(d),0<c&&d)--c,d=be(d);else break a;return d},null,null)}function yh(a,b){return vh.F(function(c){return c},b,xh(a,b))}
function zh(a,b){return new fg(null,function(){a:for(var c=a,d=b;;){d=F(d);var e;if(e=d)e=G(d),e=c.C?c.C(e):c.call(null,e);if(r(e))d=be(d);else break a}return d},null,null)}function Ah(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.J=e;this.K=32374988;this.Y=1}g=Ah.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){return null==this.next?1<this.count?this.next=new Ah(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.jf=function(){return!1};g.$a=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.val,this.val):b.call(null,this.val,this.val);;){if(oe(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(oe(c))return y(c);a+=1}else return c};
g.ab=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.val):b.call(null,c,this.val);;){if(oe(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(oe(c))return y(c);a+=1}else return c};g.cb=function(){return this.val};g.mb=function(){return null==this.next?1<this.count?this.next=new Ah(null,this.count-1,this.val,null,null):-1===this.count?this:de:this.next};g.la=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Ah(b,this.count,this.val,this.next,null)};g.na=function(a,b){return Je(b,this)};function Bh(a){return new Ah(null,-1,a,null,null)}function Ch(a,b){return 0<a?new Ah(null,a,b,null,null):de}function Dh(a){return new fg(null,function(){return Je(a.P?a.P():a.call(null),Dh(a))},null,null)}function Eh(a,b){return wh.B(a,Dh(b))}
var Fh=function Fh(a){switch(arguments.length){case 0:return Fh.P();case 1:return Fh.C(arguments[0]);case 2:return Fh.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return Fh.I(arguments[0],arguments[1],c)}};Fh.P=function(){return de};Fh.C=function(a){return new fg(null,function(){return a},null,null)};
Fh.B=function(a,b){return new fg(null,function(){var c=F(a),d=F(b);return c&&d?Je(G(c),Je(G(d),Fh.B(be(c),be(d)))):null},null,null)};Fh.I=function(a,b,c){return new fg(null,function(){var d=vh.B(F,Qe.I(c,b,M([a])));return Zg(Bf,d)?V.B(vh.B(G,d),Bg(Fh,vh.B(be,d))):null},null,null)};Fh.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};Fh.aa=2;function Gh(a,b){return Bg(V,Cg(vh,a,b))}
function Hh(a){return function(b){return function(){function c(h,k){return r(a.C?a.C(k):a.call(null,k))?b.B?b.B(h,k):b.call(null,h,k):h}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function Ih(a,b){return new fg(null,function(){var c=F(b);if(c){if(hf(c)){for(var d=wd(c),e=K(d),f=jg(e),h=0;;)if(h<e){var k=x(d,h);k=a.C?a.C(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return lg(ng(f),Ih(a,xd(c)))}d=G(c);c=be(c);return r(a.C?a.C(d):a.call(null,d))?Je(d,Ih(a,c)):Ih(a,c)}return null},null,null)}function Jh(a,b){return Ih(bh(a),b)}
var Kh=function Kh(a){switch(arguments.length){case 0:return Kh.P();case 1:return Kh.C(arguments[0]);case 2:return Kh.B(arguments[0],arguments[1]);case 3:return Kh.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};Kh.P=function(){return Re};Kh.C=function(a){return a};Kh.B=function(a,b){return null!=a?null!=a&&(a.Y&4||l===a.Gg)?Rc(rd(v.F(qd,od(a),b)),Ze(a)):v.F(nc,a,b):v.F(Qe,a,b)};
Kh.F=function(a,b,c){if(null!=a&&(a.Y&4||l===a.Gg)){var d=Ze(a);return Df(b,function(){function e(k,m){return tg.B(k,m)}function f(k){return Rc(rd(k),d)}var h=null;h=function(k,m){switch(arguments.length){case 1:return f.call(this,k);case 2:return e.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.C=f;h.B=e;return h}(),od(a),c)}return Df(b,Qe,a,c)};Kh.aa=3;
var Lh=function Lh(a){switch(arguments.length){case 2:return Lh.B(arguments[0],arguments[1]);case 3:return Lh.F(arguments[0],arguments[1],arguments[2]);case 4:return Lh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(4),0,null);return Lh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Lh.B=function(a,b){return rd(v.F(function(c,d){return tg.B(c,a.C?a.C(d):a.call(null,d))},od(Re),b))};Lh.F=function(a,b,c){return Kh.B(Re,vh.F(a,b,c))};Lh.R=function(a,b,c,d){return Kh.B(Re,vh.R(a,b,c,d))};Lh.I=function(a,b,c,d,e){return Kh.B(Re,Fg(vh,a,b,c,d,M([e])))};Lh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);e=H(e);return this.I(b,a,c,d,e)};Lh.aa=4;function Mh(a,b){return rd(v.F(function(c,d){return r(a.C?a.C(d):a.call(null,d))?tg.B(c,d):c},od(Re),b))}
function Nh(a,b,c){return new fg(null,function(){var d=F(c);if(d){var e=wh.B(a,d);return a===K(e)?Je(e,Nh(a,b,xh(b,d))):null}return null},null,null)}function Oh(a,b){return v.F(B,a,b)}
var Ph=function Ph(a,b,c){var e=F(b);b=G(e);var f=H(e);if(f){e=O.F;var h=B.B(a,b);c=Ph.F?Ph.F(h,f,c):Ph.call(null,h,f,c);a=e.call(O,a,b,c)}else a=O.F(a,b,c);return a},Qh=function Qh(a){switch(arguments.length){case 3:return Qh.F(arguments[0],arguments[1],arguments[2]);case 4:return Qh.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Qh.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Qh.Ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(6),0,null);return Qh.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Qh.F=function(a,b,c){var d=F(b);b=G(d);if(d=H(d))a=O.F(a,b,Qh.F(B.B(a,b),d,c));else{d=O.F;var e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);a=d.call(O,a,b,c)}return a};
Qh.R=function(a,b,c,d){var e=F(b);b=G(e);if(e=H(e))a=O.F(a,b,Qh.R(B.B(a,b),e,c,d));else{e=O.F;var f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);a=e.call(O,a,b,c)}return a};Qh.ka=function(a,b,c,d,e){var f=F(b);b=G(f);if(f=H(f))a=O.F(a,b,Qh.ka(B.B(a,b),f,c,d,e));else{f=O.F;var h=B.B(a,b);c=c.F?c.F(h,d,e):c.call(null,h,d,e);a=f.call(O,a,b,c)}return a};
Qh.Ka=function(a,b,c,d,e,f){var h=F(b);b=G(h);if(h=H(h))a=O.F(a,b,Qh.Ka(B.B(a,b),h,c,d,e,f));else{h=O.F;var k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);a=h.call(O,a,b,c)}return a};Qh.I=function(a,b,c,d,e,f,h){var k=F(b);b=G(k);return(k=H(k))?O.F(a,b,Fg(Qh,B.B(a,b),k,c,d,M([e,f,h]))):O.F(a,b,Fg(c,B.B(a,b),d,e,f,M([h])))};Qh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);var f=H(e);e=G(f);var h=H(f);f=G(h);h=H(h);return this.I(b,a,c,d,e,f,h)};Qh.aa=6;
var Rh=function Rh(a){switch(arguments.length){case 3:return Rh.F(arguments[0],arguments[1],arguments[2]);case 4:return Rh.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Rh.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return Rh.Ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(6),0,null);return Rh.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};Rh.F=function(a,b,c){var d=O.F,e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);return d.call(O,a,b,c)};Rh.R=function(a,b,c,d){var e=O.F,f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(O,a,b,c)};Rh.ka=function(a,b,c,d,e){var f=O.F,h=B.B(a,b);c=c.F?c.F(h,d,e):c.call(null,h,d,e);return f.call(O,a,b,c)};Rh.Ka=function(a,b,c,d,e,f){var h=O.F,k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);return h.call(O,a,b,c)};
Rh.I=function(a,b,c,d,e,f,h){return O.F(a,b,Fg(c,B.B(a,b),d,e,f,M([h])))};Rh.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);var e=H(d);d=G(e);var f=H(e);e=G(f);var h=H(f);f=G(h);h=H(h);return this.I(b,a,c,d,e,f,h)};Rh.aa=6;function Sh(a,b){this.Ua=a;this.O=b}function Th(a){return new Sh(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function Uh(a){return new Sh(a.Ua,ac(a.O))}function Vh(a){a=a.da;return 32>a?0:a-1>>>5<<5}function Wh(a,b,c){for(;;){if(0===b)return c;var d=Th(a);d.O[0]=c;c=d;b-=5}}var Xh=function Xh(a,b,c,d){var f=Uh(c),h=a.da-1>>>b&31;5===b?f.O[h]=d:(c=c.O[h],null!=c?(b-=5,a=Xh.R?Xh.R(a,b,c,d):Xh.call(null,a,b,c,d)):a=Wh(null,b-5,d),f.O[h]=a);return f};function Yh(a,b){throw Error(["No item ",u.C(a)," in vector of length ",u.C(b)].join(""));}
function Zh(a,b){if(b>=Vh(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.O[b>>>a&31];a=d}else return c.O}function $h(a,b){return 0<=b&&b<a.da?Zh(a,b):Yh(b,a.da)}
var ai=function ai(a,b,c,d,e){var h=Uh(c);if(0===b)h.O[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.O[k];a=ai.ka?ai.ka(a,b,c,d,e):ai.call(null,a,b,c,d,e);h.O[k]=a}return h},bi=function bi(a,b,c){var e=a.da-2>>>b&31;if(5<b){b-=5;var f=c.O[e];a=bi.F?bi.F(a,b,f):bi.call(null,a,b,f);if(null==a&&0===e)return null;c=Uh(c);c.O[e]=a;return c}if(0===e)return null;c=Uh(c);c.O[e]=null;return c};function ci(a,b,c,d,e,f){this.i=a;this.base=b;this.O=c;this.v=d;this.start=e;this.end=f}
ci.prototype.Ma=function(){return this.i<this.end};ci.prototype.next=function(){32===this.i-this.base&&(this.O=Zh(this.v,this.i),this.base+=32);var a=this.O[this.i&31];this.i+=1;return a};function di(a,b,c){return new ci(b,b-b%32,b<K(a)?Zh(a,b):null,a,b,c)}function fi(a,b,c,d){return c<d?gi(a,b,Ae(a,c),c+1,d):b.P?b.P():b.call(null)}
function gi(a,b,c,d,e){var f=c;c=d;for(d=Zh(a,d);;)if(c<e){var h=c&31;d=0===h?Zh(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(oe(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.da=b;this.shift=c;this.root=d;this.tail=e;this.J=f;this.K=167666463;this.Y=139268}g=X.prototype;g.Bd=function(a,b){return 0<=b&&b<this.da?new Y(b,Zh(this,b)[b&31],null):null};g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return"number"===typeof b?this.fb(null,b,c):c};
g.ya=function(a,b,c){a=0;for(var d=c;;)if(a<this.da){var e=Zh(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.F?b.F(d,h,k):b.call(null,d,h,k);if(oe(d)){e=d;break a}f+=1}else{e=d;break a}if(oe(e))return y(e);a+=c;d=e}else return d};g.Mf=l;g.Da=function(a,b){return $h(this,b)[b&31]};g.fb=function(a,b,c){return 0<=b&&b<this.da?Zh(this,b)[b&31]:c};
g.dd=function(a,b,c){if(0<=b&&b<this.da)return Vh(this)<=b?(a=ac(this.tail),a[b&31]=c,new X(this.meta,this.da,this.shift,this.root,a,null)):new X(this.meta,this.da,this.shift,ai(this,this.shift,this.root,b,c),this.tail,null);if(b===this.da)return this.na(null,c);throw Error(["Index ",u.C(b)," out of bounds  [0,",u.C(this.da),"]"].join(""));};g.qa=function(){return di(this,0,this.da)};g.ga=function(){return this.meta};g.pa=function(){return new X(this.meta,this.da,this.shift,this.root,this.tail,this.J)};
g.ma=function(){return this.da};g.Cd=function(){return 0<this.da?this.Da(null,this.da-1):null};
g.Dd=function(){if(0===this.da)throw Error("Can't pop empty vector");if(1===this.da)return Rc(Re,this.meta);if(1<this.da-Vh(this))return new X(this.meta,this.da-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Zh(this,this.da-2),b=bi(this,this.shift,this.root);b=null==b?Z:b;var c=this.da-1;return 5<this.shift&&null==b.O[1]?new X(this.meta,c,this.shift-5,b.O[0],a,null):new X(this.meta,c,this.shift,b,a,null)};g.Dc=function(){return 0<this.da?new Ee(this,this.da-1,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){if(b instanceof X)if(this.da===K(b))for(a=this.qa(null),b=b.qa(null);;)if(a.Ma()){var c=a.next(),d=b.next();if(!E.B(c,d))return!1}else return!0;else return!1;else return Ie(this,b)};g.Md=function(){return new hi(this.da,this.shift,ii.C?ii.C(this.root):ii.call(null,this.root),ji.C?ji.C(this.tail):ji.call(null,this.tail))};g.Ia=function(){return Rc(Re,this.meta)};g.$a=function(a,b){return fi(this,b,0,this.da)};
g.ab=function(a,b,c){a=0;for(var d=c;;)if(a<this.da){var e=Zh(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(oe(d)){e=d;break a}f+=1}else{e=d;break a}if(oe(e))return y(e);a+=c;d=e}else return d};g.fa=function(a,b,c){if("number"===typeof b)return this.dd(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.ra=function(a,b){return pf(b)?0<=b&&b<this.da:!1};
g.la=function(){if(0===this.da)return null;if(32>=this.da)return new $d(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.O[0];else{a=a.O;break a}}return ki?ki(this,a,0,0):li.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new X(b,this.da,this.shift,this.root,this.tail,this.J)};
g.na=function(a,b){if(32>this.da-Vh(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.da+1,this.shift,this.root,c,null)}a=(c=this.da>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=Th(null),c.O[0]=this.root,d=Wh(null,this.shift,new Sh(null,this.tail)),c.O[1]=d):c=Xh(this,this.shift,this.root,new Sh(null,this.tail));return new X(this.meta,this.da+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){if("number"===typeof a)return this.Da(null,a);throw Error("Key must be integer");};
var Z=new Sh(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Re=new X(null,0,5,Z,[],ie);function mi(a,b){var c=a.length;a=b?a:ac(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).Md(null);;)if(b<c)d=b+1,e=tg.B(e,a[b]),b=d;else return rd(e)}X.prototype[Yb]=function(){return fe(this)};
function ni(a){return r(oi.C?oi.C(a):oi.call(null,a))?new X(null,2,5,Z,[pi.C?pi.C(a):pi.call(null,a),qi.C?qi.C(a):qi.call(null,a)],null):gf(a)?Ye(a,null):Pb(a)?mi(a,!0):rd(v.F(qd,od(Re),a))}var ri=function ri(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return ri.I(c)};ri.I=function(a){return a instanceof $d&&0===a.i?mi(a.O,!Pb(a.O)):ni(a)};ri.aa=0;ri.ca=function(a){return this.I(F(a))};
function si(a,b,c,d,e,f){this.Ac=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.J=f;this.K=32375020;this.Y=1536}g=si.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=ki?ki(a,b,c,d):li.call(null,a,b,c,d);return null==a?null:a}return this.je()};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return fi(this.Ac,b,this.i+this.off,K(this.Ac))};g.ab=function(a,b,c){return gi(this.Ac,b,c,this.i+this.off,K(this.Ac))};g.cb=function(){return this.node[this.off]};g.mb=function(){if(this.off+1<this.node.length){var a=this.Ac;var b=this.node,c=this.i,d=this.off+1;a=ki?ki(a,b,c,d):li.call(null,a,b,c,d);return null==a?de:a}return this.Ad(null)};g.la=function(){return this};
g.ke=function(){var a=this.node;return new ig(a,this.off,a.length)};g.Ad=function(){var a=this.i+this.node.length;if(a<ic(this.Ac)){var b=this.Ac,c=Zh(this.Ac,a);return ki?ki(b,c,a,0):li.call(null,b,c,a,0)}return de};g.ha=function(a,b){return b===this.meta?this:ti?ti(this.Ac,this.node,this.i,this.off,b):li.call(null,this.Ac,this.node,this.i,this.off,b)};g.na=function(a,b){return Je(b,this)};
g.je=function(){var a=this.i+this.node.length;if(a<ic(this.Ac)){var b=this.Ac,c=Zh(this.Ac,a);return ki?ki(b,c,a,0):li.call(null,b,c,a,0)}return null};si.prototype[Yb]=function(){return fe(this)};
function li(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new si(b,$h(b,c),c,d,null,null);case 4:return ki(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ti(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function ki(a,b,c,d){return new si(a,b,c,d,null,null)}function ti(a,b,c,d,e){return new si(a,b,c,d,e,null)}
function ui(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.J=e;this.K=167666463;this.Y=139264}g=ui.prototype;g.Bd=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,xc(this.v,a),null):null};g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return"number"===typeof b?this.fb(null,b,c):c};
g.ya=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.F?b.F(c,e,f):b.call(null,c,e,f);if(oe(c))return y(c);d+=1;a+=1}else return c};g.Da=function(a,b){return 0>b||this.end<=this.start+b?Yh(b,this.end-this.start):x(this.v,this.start+b)};g.fb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.dd=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",u.C(b)," out of bounds [0,",u.C(this.ma(null)),"]"].join(""));b=this.meta;c=O.F(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return vi.ka?vi.ka(b,c,d,a,null):vi.call(null,b,c,d,a,null)};g.qa=function(){return null!=this.v&&l===this.v.Mf?di(this.v,this.start,this.end):new Og(this)};g.ga=function(){return this.meta};g.pa=function(){return new ui(this.meta,this.v,this.start,this.end,this.J)};
g.ma=function(){return this.end-this.start};g.Cd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.Dd=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return vi.ka?vi.ka(a,b,c,d,null):vi.call(null,a,b,c,d,null)};g.Dc=function(){return this.start!==this.end?new Ee(this,this.end-this.start-1,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};
g.Ia=function(){return Rc(Re,this.meta)};g.$a=function(a,b){return null!=this.v&&l===this.v.Mf?fi(this.v,b,this.start,this.end):se(this,b)};g.ab=function(a,b,c){return null!=this.v&&l===this.v.Mf?gi(this.v,b,c,this.start,this.end):te(this,b,c)};g.fa=function(a,b,c){if("number"===typeof b)return this.dd(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ra=function(a,b){return pf(b)?0<=b&&b<this.end-this.start:!1};
g.la=function(){var a=this;return function d(c){return c===a.end?null:Je(x(a.v,c),new fg(null,function(){return d(c+1)},null,null))}(a.start)};g.ha=function(a,b){return b===this.meta?this:vi.ka?vi.ka(b,this.v,this.start,this.end,this.J):vi.call(null,b,this.v,this.start,this.end,this.J)};g.na=function(a,b){a=this.meta;b=Mc(this.v,this.end,b);var c=this.start,d=this.end+1;return vi.ka?vi.ka(a,b,c,d,null):vi.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.fb(null,a,b)};ui.prototype[Yb]=function(){return fe(this)};
function vi(a,b,c,d,e){for(;;)if(b instanceof ui)c=b.start+c,d=b.start+d,b=b.v;else{if(!gf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new ui(a,b,c,d,e)}}function wi(a,b,c){return vi(null,a,b|0,c|0,null)}function xi(a,b){return a===b.Ua?b:new Sh(a,ac(b.O))}function ii(a){return new Sh({},ac(a.O))}
function ji(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];jf(a,0,b,0,a.length);return b}var yi=function yi(a,b,c,d){c=xi(a.root.Ua,c);var f=a.da-1>>>b&31;if(5===b)a=d;else{var h=c.O[f];null!=h?(b-=5,a=yi.R?yi.R(a,b,h,d):yi.call(null,a,b,h,d)):a=Wh(a.root.Ua,b-5,d)}c.O[f]=a;return c};function hi(a,b,c,d){this.da=a;this.shift=b;this.root=c;this.tail=d;this.Y=88;this.K=275}g=hi.prototype;
g.Nd=function(a,b){if(this.root.Ua){if(32>this.da-Vh(this))this.tail[this.da&31]=b;else{a=new Sh(this.root.Ua,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.da>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=Wh(this.root.Ua,this.shift,a),this.root=new Sh(this.root.Ua,b),this.shift=c):this.root=yi(this,this.shift,this.root,a)}this.da+=1;return this}throw Error("conj! after persistent!");};g.Wd=function(){if(this.root.Ua){this.root.Ua=null;var a=this.da-Vh(this),b=Array(a);jf(this.tail,0,b,0,a);return new X(null,this.da,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.me=function(a,b,c){if("number"===typeof b)return zi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function zi(a,b,c){if(a.root.Ua){if(0<=b&&b<a.da){if(Vh(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=xi(a.root.Ua,h);if(0===f)h.O[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.O[m]);h.O[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.da)return a.Nd(null,c);throw Error(["Index ",u.C(b)," out of bounds for TransientVector of length",u.C(a.da)].join(""));}throw Error("assoc! after persistent!");}g.ma=function(){if(this.root.Ua)return this.da;throw Error("count after persistent!");};
g.Da=function(a,b){if(this.root.Ua)return $h(this,b)[b&31];throw Error("nth after persistent!");};g.fb=function(a,b,c){return 0<=b&&b<this.da?this.Da(null,b):c};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){if(this.root.Ua)return"number"===typeof b?this.fb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};function Ai(a,b){this.pe=a;this.Ze=b}Ai.prototype.Ma=function(){var a=null!=this.pe&&F(this.pe);return a?a:(a=null!=this.Ze)?this.Ze.Ma():a};
Ai.prototype.next=function(){if(null!=this.pe){var a=G(this.pe);this.pe=H(this.pe);return a}if(null!=this.Ze&&this.Ze.Ma())return this.Ze.next();throw Error("No such element");};Ai.prototype.remove=function(){return Error("Unsupported operation")};function Bi(a,b,c,d){this.meta=a;this.ec=b;this.rc=c;this.J=d;this.K=31850700;this.Y=0}g=Bi.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){var a=H(this.ec);return a?new Bi(this.meta,a,this.rc,null):null!=this.rc?new Bi(this.meta,this.rc,null,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return Rc(de,this.meta)};g.cb=function(){return G(this.ec)};g.mb=function(){var a=H(this.ec);return a?new Bi(this.meta,a,this.rc,null):null==this.rc?this.Ia(null):new Bi(this.meta,this.rc,null,null)};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Bi(b,this.ec,this.rc,this.J)};g.na=function(a,b){return Je(b,this)};Bi.prototype[Yb]=function(){return fe(this)};
function Ci(a,b,c,d,e){this.meta=a;this.count=b;this.ec=c;this.rc=d;this.J=e;this.Y=139264;this.K=31858766}g=Ci.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,this.count.C?this.count.C(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.qa=function(){return new Ai(this.ec,Fd(this.rc))};g.ga=function(){return this.meta};g.pa=function(){return new Ci(this.meta,this.count,this.ec,this.rc,this.J)};g.ma=function(){return this.count};
g.Cd=function(){return G(this.ec)};g.Dd=function(){if(r(this.ec)){var a=H(this.ec);return a?new Ci(this.meta,this.count-1,a,this.rc,null):new Ci(this.meta,this.count-1,F(this.rc),Re,null)}return this};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return Rc(Di,this.meta)};g.cb=function(){return G(this.ec)};g.mb=function(){return be(F(this))};
g.la=function(){var a=F(this.rc),b=this.ec;return r(r(b)?b:a)?new Bi(null,this.ec,F(a),null):null};g.ha=function(a,b){return b===this.meta?this:new Ci(b,this.count,this.ec,this.rc,this.J)};g.na=function(a,b){r(this.ec)?(a=this.rc,b=new Ci(this.meta,this.count+1,this.ec,Qe.B(r(a)?a:Re,b),null)):b=new Ci(this.meta,this.count+1,Qe.B(this.ec,b),Re,null);return b};var Di=new Ci(null,0,null,Re,ie);Ci.prototype[Yb]=function(){return fe(this)};function Ei(){this.K=2097152;this.Y=0}
Ei.prototype.equiv=function(a){return this.ba(null,a)};Ei.prototype.ba=function(){return!1};var Fi=new Ei;function Gi(a,b){return nf(ef(b)&&!ff(b)?K(a)===K(b)?(null!=a?a.K&1048576||l===a.yj||(a.K?0:Ub(Vc,a)):Ub(Vc,a))?Af(function(c,d,e){return E.B(B.F(b,d,Fi),e)?!0:ne(!1)},!0,a):Zg(function(c){return E.B(B.F(b,G(c),Fi),Ne(c))},a):null:null)}function Hi(a,b,c,d){this.i=0;this.dj=a;this.Bg=b;this.fields=c;this.Xg=d}Hi.prototype.Ma=function(){var a=this.i<this.Bg;return a?a:this.Xg.Ma()};
Hi.prototype.next=function(){if(this.i<this.Bg){var a=Ae(this.fields,this.i);this.i+=1;return new Y(a,xc(this.dj,a),null)}return this.Xg.next()};Hi.prototype.remove=function(){return Error("Unsupported operation")};function Ii(a){this.s=a}Ii.prototype.next=function(){if(null!=this.s){var a=G(this.s),b=N(a,0,null);a=N(a,1,null);this.s=H(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function Ji(a){this.s=a}
Ji.prototype.next=function(){if(null!=this.s){var a=G(this.s);this.s=H(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function Ki(a,b){if(b instanceof C)a:{var c=a.length;b=b.ea;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].ea){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof z)a:for(c=a.length,b=b.hc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof z&&b===a[d].hc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(E.B(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b,c){this.key=a;this.val=b;this.J=c;this.K=166619935;this.Y=0}g=Y.prototype;g.Bd=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.oa=function(a,b){return this.fb(null,b,null)};g.T=function(a,b,c){return this.fb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.dd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).dd(null,b,c)};g.ga=function(){return null};g.ma=function(){return 2};g.Of=function(){return this.key};g.Pf=function(){return this.val};g.Cd=function(){return this.val};g.Dd=function(){return new X(null,1,5,Z,[this.key],null)};g.Dc=function(){return new $d([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return null};g.$a=function(a,b){return se(this,b)};g.ab=function(a,b,c){return te(this,b,c)};g.fa=function(a,b,c){return O.F(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.la=function(){return new $d([this.key,this.val],0,null)};g.ha=function(a,b){return Ye(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.fb(null,a,b)};function oi(a){return null!=a?a.K&2048||l===a.Bj?!0:!1:!1}function Li(a,b,c){this.O=a;this.i=b;this.Qc=c;this.K=32374990;this.Y=0}g=Li.prototype;
g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.Qc};g.Na=function(){return this.i<this.O.length-2?new Li(this.O,this.i+2,null):null};g.ma=function(){return(this.O.length-this.i)/2};g.ja=function(){return he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return new Y(this.O[this.i],this.O[this.i+1],null)};g.mb=function(){return this.i<this.O.length-2?new Li(this.O,this.i+2,null):de};g.la=function(){return this};g.ha=function(a,b){return b===this.Qc?this:new Li(this.O,this.i,b)};g.na=function(a,b){return Je(b,this)};Li.prototype[Yb]=function(){return fe(this)};
function Mi(a,b){this.O=a;this.i=0;this.da=b}Mi.prototype.Ma=function(){return this.i<this.da};Mi.prototype.next=function(){var a=new Y(this.O[this.i],this.O[this.i+1],null);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.da=b;this.O=c;this.J=d;this.K=16647951;this.Y=139268}g=q.prototype;g.Bd=function(a,b){a=Ki(this.O,b);return-1===a?null:new Y(this.O[a],this.O[a+1],null)};g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.keys=function(){return fe(Ni.C?Ni.C(this):Ni.call(null,this))};g.entries=function(){return new Ii(F(F(this)))};g.values=function(){return fe(Oi.C?Oi.C(this):Oi.call(null,this))};g.has=function(a){return R(this,a)};g.get=function(a,b){return this.T(null,a,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=F(b))hf(b)?(c=wd(b),b=xd(b),h=c,d=K(c),c=h):(c=G(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=H(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){a=Ki(this.O,b);return-1===a?c:this.O[a+1]};
g.ya=function(a,b,c){a=this.O.length;for(var d=0;;)if(d<a){var e=this.O[d],f=this.O[d+1];c=b.F?b.F(c,e,f):b.call(null,c,e,f);if(oe(c))return y(c);d+=2}else return c};g.qa=function(){return new Mi(this.O,2*this.da)};g.ga=function(){return this.meta};g.pa=function(){return new q(this.meta,this.da,this.O,this.J)};g.ma=function(){return this.da};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=je(this)};
g.ba=function(a,b){if(ef(b)&&!ff(b))if(a=this.O.length,this.da===b.ma(null))for(var c=0;;)if(c<a){var d=b.T(null,this.O[c],kf);if(d!==kf)if(E.B(this.O[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.Md=function(){return new Pi(this.O.length,ac(this.O))};g.Ia=function(){return Rc(W,this.meta)};g.$a=function(a,b){return yf(this,b)};g.ab=function(a,b,c){return zf(this,b,c)};
g.Aa=function(a,b){if(0<=Ki(this.O,b)){a=this.O.length;var c=a-2;if(0===c)return this.Ia(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.da-1,c,null);E.B(b,this.O[d])?d+=2:(c[e]=this.O[d],c[e+1]=this.O[d+1],e+=2,d+=2)}}else return this};
g.fa=function(a,b,c){a=Ki(this.O,b);if(-1===a){if(this.da<Qi){a=this.O;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.da+1,e,null)}return Rc(Bc(Kh.B(Ri,this),b,c),this.meta)}if(c===this.O[a+1])return this;b=ac(this.O);b[a+1]=c;return new q(this.meta,this.da,b,null)};g.ra=function(a,b){return-1!==Ki(this.O,b)};g.la=function(){var a=this.O;return 0<=a.length-2?new Li(a,0,null):null};
g.ha=function(a,b){return b===this.meta?this:new q(b,this.da,this.O,this.J)};g.na=function(a,b){if(gf(b))return this.fa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=G(b);if(gf(c))a=Bc(a,x(c,0),x(c,1)),b=H(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};var W=new q(null,0,[],ke),Qi=8;
function Si(a,b,c){a=b?a:ac(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===Ki(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new q(null,a.length/2,a,null)}function Ti(a,b){return a===b?!0:S(a,b)?!0:E.B(a,b)}function Ui(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=Ti(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}
function Vi(a,b){var c=a.length-1,d=F(b);b=Array(c+2*K(d));a=jf(a,0,b,0,c);for(b=c;;)if(d){var e=G(d);a[b]=Fc(e);a[b+1]=Gc(e);b=2+c;d=H(d)}else return a}function Ve(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=Ti(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?Wi(a,c):new q(null,b/2,a,null)}
function Wi(a,b){var c=b?Vi(a,Kh.B(W,a[a.length-1])):a;a=Ui(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=Ti(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(Ti(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new q(null,a.length/2,a,null)}return new q(null,c.length/2,c,null)}q.prototype[Yb]=function(){return fe(this)};
function Pi(a,b){this.ne={};this.ce=a;this.O=b;this.K=259;this.Y=56}g=Pi.prototype;g.ma=function(){if(this.ne)return Of(this.ce,2);throw Error("count after persistent!");};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){if(this.ne)return a=Ki(this.O,b),-1===a?c:this.O[a+1];throw Error("lookup after persistent!");};
g.Nd=function(a,b){if(this.ne){if(oi(b))return this.me(null,pi.C?pi.C(b):pi.call(null,b),qi.C?qi.C(b):qi.call(null,b));if(gf(b))return this.me(null,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));a=F(b);for(b=this;;){var c=G(a);if(r(c))a=H(a),b=sd(b,pi.C?pi.C(c):pi.call(null,c),qi.C?qi.C(c):qi.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Wd=function(){if(this.ne)return this.ne=!1,new q(null,Of(this.ce,2),this.O,null);throw Error("persistent! called twice");};
g.me=function(a,b,c){if(this.ne){a=Ki(this.O,b);if(-1===a)return this.ce+2<=2*Qi?(this.ce+=2,this.O.push(b),this.O.push(c),this):ug(Xi.B?Xi.B(this.ce,this.O):Xi.call(null,this.ce,this.O),b,c);c!==this.O[a+1]&&(this.O[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.T(null,a,null)};g.B=function(a,b){return this.T(null,a,b)};function Xi(a,b){for(var c=od(Ri),d=0;;)if(d<a)c=sd(c,b[d],b[d+1]),d+=2;else return c}function Yi(){this.val=!1}function Zi(a,b,c){a=ac(a);a[b]=c;return a}function $i(a,b){var c=Array(a.length-2);jf(a,0,c,0,2*b);jf(a,2*(b+1),c,2*b,c.length-2*b);return c}function aj(a,b,c,d){a=a.Yd(b);a.O[c]=d;return a}
function bj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.F?b.F(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.be(b,f):f;if(oe(c))return c;e+=2;f=c}else return f}function cj(a){this.O=a;this.i=0;this.kd=this.Ue=null}cj.prototype.advance=function(){for(var a=this.O.length;;)if(this.i<a){var b=this.O[this.i],c=this.O[this.i+1];null!=b?b=this.Ue=new Y(b,c,null):null!=c?(b=Fd(c),b=b.Ma()?this.kd=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
cj.prototype.Ma=function(){var a=null!=this.Ue;return a?a:(a=null!=this.kd)?a:this.advance()};cj.prototype.next=function(){if(null!=this.Ue){var a=this.Ue;this.Ue=null;return a}if(null!=this.kd)return a=this.kd.next(),this.kd.Ma()||(this.kd=null),a;if(this.advance())return this.next();throw Error("No such element");};cj.prototype.remove=function(){return Error("Unsupported operation")};function dj(a,b,c){this.Ua=a;this.bitmap=b;this.O=c;this.Y=131072;this.K=0}g=dj.prototype;
g.Yd=function(a){if(a===this.Ua)return this;var b=Qf(this.bitmap),c=Array(0>b?4:2*(b+1));jf(this.O,0,c,0,2*b);return new dj(a,this.bitmap,c)};g.Re=function(){return ej?ej(this.O):fj.call(null,this.O)};g.be=function(a,b){return bj(this.O,a,b)};g.Sd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qf(this.bitmap&e-1);e=this.O[2*f];f=this.O[2*f+1];return null==e?f.Sd(a+5,b,c,d):Ti(c,e)?f:d};
g.hd=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Qf(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=Qf(this.bitmap);if(2*m<this.O.length){a=this.Yd(a);b=a.O;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=gj.hd(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.O[e]?gj.hd(a,b+5,Sd(this.O[e]),this.O[e],this.O[e+1],f):this.O[e+1],e+=2,d+=1);else break;return new ij(a,m+1,k)}b=Array(2*(m+4));jf(this.O,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;jf(this.O,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.Yd(a);a.O=b;a.bitmap|=h;return a}m=this.O[2*k];h=this.O[2*k+1];if(null==m)return m=h.hd(a,b+5,c,d,e,f),m===h?this:aj(this,a,2*k+1,m);if(Ti(d,m))return e===h?this:aj(this,a,2*k+1,e);f.val=!0;f=b+5;d=jj?jj(a,f,m,h,c,d,e):kj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.Yd(a);a.O[e]=null;a.O[k]=d;return a};
g.gd=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Qf(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Qf(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=gj.gd(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.O[d]?gj.gd(a+5,Sd(this.O[d]),this.O[d],this.O[d+1],e):this.O[d+1],d+=2,c+=1);else break;return new ij(null,k+1,h)}a=Array(2*
(k+1));jf(this.O,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;jf(this.O,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new dj(null,this.bitmap|f,a)}var m=this.O[2*h];f=this.O[2*h+1];if(null==m)return k=f.gd(a+5,b,c,d,e),k===f?this:new dj(null,this.bitmap,Zi(this.O,2*h+1,k));if(Ti(c,m))return d===f?this:new dj(null,this.bitmap,Zi(this.O,2*h+1,d));e.val=!0;e=this.bitmap;k=this.O;a+=5;a=lj?lj(a,m,f,b,c,d):kj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=ac(k);d[c]=null;d[h]=a;return new dj(null,e,d)};
g.Qe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Qf(this.bitmap&e-1);e=this.O[2*f];f=this.O[2*f+1];return null==e?f.Qe(a+5,b,c,d):Ti(c,e)?new Y(e,f,null):d};
g.Se=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=Qf(this.bitmap&d-1),f=this.O[2*e],h=this.O[2*e+1];return null==f?(a=h.Se(a+5,b,c),a===h?this:null!=a?new dj(null,this.bitmap,Zi(this.O,2*e+1,a)):this.bitmap===d?null:new dj(null,this.bitmap^d,$i(this.O,e))):Ti(c,f)?this.bitmap===d?null:new dj(null,this.bitmap^d,$i(this.O,e)):this};g.qa=function(){return new cj(this.O)};var gj=new dj(null,0,[]);function mj(a){this.O=a;this.i=0;this.kd=null}
mj.prototype.Ma=function(){for(var a=this.O.length;;){if(null!=this.kd&&this.kd.Ma())return!0;if(this.i<a){var b=this.O[this.i];this.i+=1;null!=b&&(this.kd=Fd(b))}else return!1}};mj.prototype.next=function(){if(this.Ma())return this.kd.next();throw Error("No such element");};mj.prototype.remove=function(){return Error("Unsupported operation")};function ij(a,b,c){this.Ua=a;this.da=b;this.O=c;this.Y=131072;this.K=0}g=ij.prototype;g.Yd=function(a){return a===this.Ua?this:new ij(a,this.da,ac(this.O))};
g.Re=function(){return nj?nj(this.O):oj.call(null,this.O)};g.be=function(a,b){for(var c=this.O.length,d=0;;)if(d<c){var e=this.O[d];if(null!=e){b=e.be(a,b);if(oe(b))return b;d+=1}else d+=1}else return b};g.Sd=function(a,b,c,d){var e=this.O[b>>>a&31];return null!=e?e.Sd(a+5,b,c,d):d};g.hd=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.O[h];if(null==k)return a=aj(this,a,h,gj.hd(a,b+5,c,d,e,f)),a.da+=1,a;b=k.hd(a,b+5,c,d,e,f);return b===k?this:aj(this,a,h,b)};
g.gd=function(a,b,c,d,e){var f=b>>>a&31,h=this.O[f];if(null==h)return new ij(null,this.da+1,Zi(this.O,f,gj.gd(a+5,b,c,d,e)));a=h.gd(a+5,b,c,d,e);return a===h?this:new ij(null,this.da,Zi(this.O,f,a))};g.Qe=function(a,b,c,d){var e=this.O[b>>>a&31];return null!=e?e.Qe(a+5,b,c,d):d};
g.Se=function(a,b,c){var d=b>>>a&31,e=this.O[d];if(null!=e){a=e.Se(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.da)a:{e=this.O;a=e.length;b=Array(2*(this.da-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new dj(null,h,b);break a}}else d=new ij(null,this.da-1,Zi(this.O,d,a));else d=new ij(null,this.da,Zi(this.O,d,a));return d}return this};g.qa=function(){return new mj(this.O)};
function pj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(Ti(c,a[d]))return d;d+=2}else return-1}function qj(a,b,c,d){this.Ua=a;this.Gd=b;this.da=c;this.O=d;this.Y=131072;this.K=0}g=qj.prototype;g.Yd=function(a){if(a===this.Ua)return this;var b=Array(2*(this.da+1));jf(this.O,0,b,0,2*this.da);return new qj(a,this.Gd,this.da,b)};g.Re=function(){return ej?ej(this.O):fj.call(null,this.O)};g.be=function(a,b){return bj(this.O,a,b)};
g.Sd=function(a,b,c,d){a=pj(this.O,this.da,c);return 0>a?d:Ti(c,this.O[a])?this.O[a+1]:d};
g.hd=function(a,b,c,d,e,f){if(c===this.Gd){b=pj(this.O,this.da,d);if(-1===b){if(this.O.length>2*this.da)return b=2*this.da,c=2*this.da+1,a=this.Yd(a),a.O[b]=d,a.O[c]=e,f.val=!0,a.da+=1,a;c=this.O.length;b=Array(c+2);jf(this.O,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.da+1;a===this.Ua?(this.O=b,this.da=d,a=this):a=new qj(this.Ua,this.Gd,d,b);return a}return this.O[b+1]===e?this:aj(this,a,b+1,e)}return(new dj(a,1<<(this.Gd>>>b&31),[null,this,null,null])).hd(a,b,c,d,e,f)};
g.gd=function(a,b,c,d,e){return b===this.Gd?(a=pj(this.O,this.da,c),-1===a?(a=2*this.da,b=Array(a+2),jf(this.O,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new qj(null,this.Gd,this.da+1,b)):E.B(this.O[a+1],d)?this:new qj(null,this.Gd,this.da,Zi(this.O,a+1,d))):(new dj(null,1<<(this.Gd>>>a&31),[null,this])).gd(a,b,c,d,e)};g.Qe=function(a,b,c,d){a=pj(this.O,this.da,c);return 0>a?d:Ti(c,this.O[a])?new Y(this.O[a],this.O[a+1],null):d};
g.Se=function(a,b,c){a=pj(this.O,this.da,c);return-1===a?this:1===this.da?null:new qj(null,this.Gd,this.da-1,$i(this.O,Of(a,2)))};g.qa=function(){return new cj(this.O)};function kj(a){switch(arguments.length){case 6:return lj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return jj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}
function lj(a,b,c,d,e,f){var h=Sd(b);if(h===d)return new qj(null,h,2,[b,c,e,f]);var k=new Yi;return gj.gd(a,h,b,c,k).gd(a,d,e,f,k)}function jj(a,b,c,d,e,f,h){var k=Sd(c);if(k===e)return new qj(null,k,2,[c,d,f,h]);var m=new Yi;return gj.hd(a,b,k,c,d,m).hd(a,b,e,f,h,m)}function rj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.K=32374988;this.Y=0}g=rj.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return sj?sj(a,b,null):fj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=H(this.s);return sj?sj(a,b,c):fj.call(null,a,b,c)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1],null):G(this.s)};
g.mb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return sj?sj(c,d,null):fj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=H(a.s);return sj?sj(c,d,e):fj.call(null,c,d,e)}();return null!=b?b:de};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new rj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Je(b,this)};rj.prototype[Yb]=function(){return fe(this)};
function fj(a){switch(arguments.length){case 1:return ej(arguments[0]);case 3:return sj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function ej(a){return sj(a,0,null)}function sj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new rj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Re(),r(d)))return new rj(null,a,b+2,d,null);b+=2}else return null;else return new rj(null,a,b,c,null)}
function tj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.K=32374988;this.Y=0}g=tj.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){var a=this.nodes,b=this.i,c=H(this.s);return uj?uj(a,b,c):oj.call(null,a,b,c)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return G(this.s)};g.mb=function(){var a=this.nodes;var b=this.i,c=H(this.s);a=uj?uj(a,b,c):oj.call(null,a,b,c);return null!=a?a:de};g.la=function(){return this};g.ha=function(a,b){return b===this.meta?this:new tj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Je(b,this)};tj.prototype[Yb]=function(){return fe(this)};
function oj(a){switch(arguments.length){case 1:return nj(arguments[0]);case 3:return uj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function nj(a){return uj(a,0,null)}function uj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.Re(),r(d)))return new tj(null,a,b+1,d,null);b+=1}else return null;else return new tj(null,a,b,c,null)}function vj(a,b){this.Bb=a;this.th=b;this.seen=!1}
vj.prototype.Ma=function(){return!this.seen||this.th.Ma()};vj.prototype.next=function(){if(this.seen)return this.th.next();this.seen=!0;return new Y(null,this.Bb,null)};vj.prototype.remove=function(){return Error("Unsupported operation")};function wj(a,b,c,d,e,f){this.meta=a;this.da=b;this.root=c;this.Ab=d;this.Bb=e;this.J=f;this.K=16123663;this.Y=139268}g=wj.prototype;g.Bd=function(a,b){return null==b?this.Ab?new Y(null,this.Bb,null):null:null==this.root?null:this.root.Qe(0,Sd(b),b,null)};
g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return fe(Ni.C?Ni.C(this):Ni.call(null,this))};g.entries=function(){return new Ii(F(F(this)))};g.values=function(){return fe(Oi.C?Oi.C(this):Oi.call(null,this))};g.has=function(a){return R(this,a)};g.get=function(a,b){return this.T(null,a,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=F(b))hf(b)?(c=wd(b),b=xd(b),h=c,d=K(c),c=h):(c=G(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=H(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return null==b?this.Ab?this.Bb:c:null==this.root?c:this.root.Sd(0,Sd(b),b,c)};
g.ya=function(a,b,c){a=this.Ab?b.F?b.F(c,null,this.Bb):b.call(null,c,null,this.Bb):c;return oe(a)?y(a):null!=this.root?qe(this.root.be(b,a)):a};g.qa=function(){var a=this.root?Fd(this.root):Jg();return this.Ab?new vj(this.Bb,a):a};g.ga=function(){return this.meta};g.pa=function(){return new wj(this.meta,this.da,this.root,this.Ab,this.Bb,this.J)};g.ma=function(){return this.da};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=je(this)};g.ba=function(a,b){return Gi(this,b)};
g.Md=function(){return new xj(this.root,this.da,this.Ab,this.Bb)};g.Ia=function(){return Rc(Ri,this.meta)};g.Aa=function(a,b){if(null==b)return this.Ab?new wj(this.meta,this.da-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Se(0,Sd(b),b);return a===this.root?this:new wj(this.meta,this.da-1,a,this.Ab,this.Bb,null)};
g.fa=function(a,b,c){if(null==b)return this.Ab&&c===this.Bb?this:new wj(this.meta,this.Ab?this.da:this.da+1,this.root,!0,c,null);a=new Yi;b=(null==this.root?gj:this.root).gd(0,Sd(b),b,c,a);return b===this.root?this:new wj(this.meta,a.val?this.da+1:this.da,b,this.Ab,this.Bb,null)};g.ra=function(a,b){return null==b?this.Ab:null==this.root?!1:this.root.Sd(0,Sd(b),b,kf)!==kf};g.la=function(){if(0<this.da){var a=null!=this.root?this.root.Re():null;return this.Ab?Je(new Y(null,this.Bb,null),a):a}return null};
g.ha=function(a,b){return b===this.meta?this:new wj(b,this.da,this.root,this.Ab,this.Bb,this.J)};g.na=function(a,b){if(gf(b))return this.fa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=G(b);if(gf(c))a=Bc(a,x(c,0),x(c,1)),b=H(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};var Ri=new wj(null,0,null,!1,null,ke);
function yj(a,b){for(var c=a.length,d=0,e=od(Ri);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",u.C(a[d])].join(""));var f=d+1;e=sd(e,a[d],b[d]);d=f}else return rd(e)}wj.prototype[Yb]=function(){return fe(this)};function xj(a,b,c,d){this.Ua={};this.root=a;this.count=b;this.Ab=c;this.Bb=d;this.K=259;this.Y=56}
function zj(a,b,c){if(a.Ua){if(null==b)a.Bb!==c&&(a.Bb=c),a.Ab||(a.count+=1,a.Ab=!0);else{var d=new Yi;b=(null==a.root?gj:a.root).hd(a.Ua,0,Sd(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=xj.prototype;g.ma=function(){if(this.Ua)return this.count;throw Error("count after persistent!");};g.oa=function(a,b){return null==b?this.Ab?this.Bb:null:null==this.root?null:this.root.Sd(0,Sd(b),b)};
g.T=function(a,b,c){return null==b?this.Ab?this.Bb:c:null==this.root?c:this.root.Sd(0,Sd(b),b,c)};g.Nd=function(a,b){a:if(this.Ua)if(oi(b))a=zj(this,pi.C?pi.C(b):pi.call(null,b),qi.C?qi.C(b):qi.call(null,b));else if(gf(b))a=zj(this,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));else for(a=F(b),b=this;;){var c=G(a);if(r(c))a=H(a),b=zj(b,pi.C?pi.C(c):pi.call(null,c),qi.C?qi.C(c):qi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Wd=function(){if(this.Ua){this.Ua=null;var a=new wj(null,this.count,this.root,this.Ab,this.Bb,null)}else throw Error("persistent! called twice");return a};g.me=function(a,b,c){return zj(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};
g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};function Aj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=Qe.B(d,a),a=b;else return d}function Bj(a,b,c,d,e){this.meta=a;this.stack=b;this.Ud=c;this.da=d;this.J=e;this.K=32374990;this.Y=0}g=Bj.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.meta};g.Na=function(){var a=G(this.stack);a=Aj(this.Ud?a.right:a.left,H(this.stack),this.Ud);return null==a?null:new Bj(null,a,this.Ud,this.da-1,null)};
g.ma=function(){return 0>this.da?K(H(this))+1:this.da};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){var a=this.stack;return null==a?null:Jc(a)};g.mb=function(){var a=G(this.stack);a=Aj(this.Ud?a.right:a.left,H(this.stack),this.Ud);return null!=a?new Bj(null,a,this.Ud,this.da-1,null):de};g.la=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Bj(b,this.stack,this.Ud,this.da,this.J)};g.na=function(a,b){return Je(b,this)};Bj.prototype[Yb]=function(){return fe(this)};function Cj(a,b,c){return new Bj(null,Aj(a,null,b),b,c,null)}
function Dj(a,b,c,d){return c instanceof Ej?c.left instanceof Ej?new Ej(c.key,c.val,c.left.zd(),new Fj(a,b,c.right,d,null),null):c.right instanceof Ej?new Ej(c.right.key,c.right.val,new Fj(c.key,c.val,c.left,c.right.left,null),new Fj(a,b,c.right.right,d,null),null):new Fj(a,b,c,d,null):new Fj(a,b,c,d,null)}
function Gj(a,b,c,d){return d instanceof Ej?d.right instanceof Ej?new Ej(d.key,d.val,new Fj(a,b,c,d.left,null),d.right.zd(),null):d.left instanceof Ej?new Ej(d.left.key,d.left.val,new Fj(a,b,c,d.left.left,null),new Fj(d.key,d.val,d.left.right,d.right,null),null):new Fj(a,b,c,d,null):new Fj(a,b,c,d,null)}
function Hj(a,b,c,d){if(c instanceof Ej)return new Ej(a,b,c.zd(),d,null);if(d instanceof Fj)return Gj(a,b,c,d.Xe());if(d instanceof Ej&&d.left instanceof Fj)return new Ej(d.left.key,d.left.val,new Fj(a,b,c,d.left.left,null),Gj(d.key,d.val,d.left.right,d.right.Xe()),null);throw Error("red-black tree invariant violation");}
function Ij(a,b,c,d){if(d instanceof Ej)return new Ej(a,b,c,d.zd(),null);if(c instanceof Fj)return Dj(a,b,c.Xe(),d);if(c instanceof Ej&&c.right instanceof Fj)return new Ej(c.right.key,c.right.val,Dj(c.key,c.val,c.left.Xe(),c.right.left),new Fj(a,b,c.right.right,d,null),null);throw Error("red-black tree invariant violation");}
var Jj=function Jj(a,b,c){var e=null!=a.left?function(){var k=a.left;return Jj.F?Jj.F(k,b,c):Jj.call(null,k,b,c)}():c;if(oe(e))return e;var f=function(){var k=a.key,m=a.val;return b.F?b.F(e,k,m):b.call(null,e,k,m)}();if(oe(f))return f;if(null!=a.right){var h=a.right;return Jj.F?Jj.F(h,b,f):Jj.call(null,h,b,f)}return f};function Fj(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.K=166619935;this.Y=0}g=Fj.prototype;
g.Bd=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();g.xg=function(a){return a.Ag(this)};g.Xe=function(){return new Ej(this.key,this.val,this.left,this.right,null)};g.zd=function(){return this};g.wg=function(a){return a.zg(this)};g.replace=function(a,b,c,d){return new Fj(a,b,c,d,null)};
g.zg=function(a){return new Fj(a.key,a.val,this,a.right,null)};g.Ag=function(a){return new Fj(a.key,a.val,a.left,this,null)};g.be=function(a,b){return Jj(this,a,b)};g.oa=function(a,b){return this.fb(null,b,null)};g.T=function(a,b,c){return this.fb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};
g.dd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).dd(null,b,c)};g.ga=function(){return null};g.ma=function(){return 2};g.Of=function(){return this.key};g.Pf=function(){return this.val};g.Cd=function(){return this.val};g.Dd=function(){return new X(null,1,5,Z,[this.key],null)};g.Dc=function(){return new $d([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return null};
g.$a=function(a,b){return se(this,b)};g.ab=function(a,b,c){return te(this,b,c)};g.fa=function(a,b,c){return O.F(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.la=function(){return new $d([this.key,this.val],0,null)};g.ha=function(a,b){return Rc(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.fb(null,a,b)};Fj.prototype[Yb]=function(){return fe(this)};
function Ej(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.K=166619935;this.Y=0}g=Ej.prototype;g.Bd=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();g.xg=function(a){return new Ej(this.key,this.val,this.left,a,null)};g.Xe=function(){throw Error("red-black tree invariant violation");};g.zd=function(){return new Fj(this.key,this.val,this.left,this.right,null)};
g.wg=function(a){return new Ej(this.key,this.val,a,this.right,null)};g.replace=function(a,b,c,d){return new Ej(a,b,c,d,null)};g.zg=function(a){return this.left instanceof Ej?new Ej(this.key,this.val,this.left.zd(),new Fj(a.key,a.val,this.right,a.right,null),null):this.right instanceof Ej?new Ej(this.right.key,this.right.val,new Fj(this.key,this.val,this.left,this.right.left,null),new Fj(a.key,a.val,this.right.right,a.right,null),null):new Fj(a.key,a.val,this,a.right,null)};
g.Ag=function(a){return this.right instanceof Ej?new Ej(this.key,this.val,new Fj(a.key,a.val,a.left,this.left,null),this.right.zd(),null):this.left instanceof Ej?new Ej(this.left.key,this.left.val,new Fj(a.key,a.val,a.left,this.left.left,null),new Fj(this.key,this.val,this.left.right,this.right,null),null):new Fj(a.key,a.val,a.left,this,null)};g.be=function(a,b){return Jj(this,a,b)};g.oa=function(a,b){return this.fb(null,b,null)};g.T=function(a,b,c){return this.fb(null,b,c)};
g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.fb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.dd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).dd(null,b,c)};g.ga=function(){return null};g.ma=function(){return 2};g.Of=function(){return this.key};g.Pf=function(){return this.val};g.Cd=function(){return this.val};g.Dd=function(){return new X(null,1,5,Z,[this.key],null)};
g.Dc=function(){return new $d([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return null};g.$a=function(a,b){return se(this,b)};g.ab=function(a,b,c){return te(this,b,c)};g.fa=function(a,b,c){return O.F(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.la=function(){return new $d([this.key,this.val],0,null)};
g.ha=function(a,b){return Rc(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.Da(null,a)};
g.B=function(a,b){return this.fb(null,a,b)};Ej.prototype[Yb]=function(){return fe(this)};
var Kj=function Kj(a,b,c,d,e){if(null==b)return new Ej(c,d,null,null,null);var h=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return Kj.ka?Kj.ka(a,k,c,d,e):Kj.call(null,a,k,c,d,e)}(),null!=h?b.wg(h):null;h=function(){var k=b.right;return Kj.ka?Kj.ka(a,k,c,d,e):Kj.call(null,a,k,c,d,e)}();return null!=h?b.xg(h):null},Lj=function Lj(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof Ej){if(b instanceof Ej){var d=
function(){var e=a.right,f=b.left;return Lj.B?Lj.B(e,f):Lj.call(null,e,f)}();return d instanceof Ej?new Ej(d.key,d.val,new Ej(a.key,a.val,a.left,d.left,null),new Ej(b.key,b.val,d.right,b.right,null),null):new Ej(a.key,a.val,a.left,new Ej(b.key,b.val,d,b.right,null),null)}return new Ej(a.key,a.val,a.left,function(){var e=a.right;return Lj.B?Lj.B(e,b):Lj.call(null,e,b)}(),null)}if(b instanceof Ej)return new Ej(b.key,b.val,function(){var e=b.left;return Lj.B?Lj.B(a,e):Lj.call(null,a,e)}(),b.right,null);
d=function(){var e=a.right,f=b.left;return Lj.B?Lj.B(e,f):Lj.call(null,e,f)}();return d instanceof Ej?new Ej(d.key,d.val,new Fj(a.key,a.val,a.left,d.left,null),new Fj(b.key,b.val,d.right,b.right,null),null):Hj(a.key,a.val,a.left,new Fj(b.key,b.val,d,b.right,null))},Mj=function Mj(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.B?a.B(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,Lj(b.left,b.right);if(0>f)return f=function(){var h=b.left;return Mj.R?Mj.R(a,h,c,d):Mj.call(null,a,h,c,d)}(),
null!=f||null!=d[0]?b.left instanceof Fj?Hj(b.key,b.val,f,b.right):new Ej(b.key,b.val,f,b.right,null):null;f=function(){var h=b.right;return Mj.R?Mj.R(a,h,c,d):Mj.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof Fj?Ij(b.key,b.val,b.left,f):new Ej(b.key,b.val,b.left,f,null):null}return null},Nj=function Nj(a,b,c,d){var f=b.key,h=a.B?a.B(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return Nj.R?Nj.R(a,k,c,d):Nj.call(null,
a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=b.right;return Nj.R?Nj.R(a,k,c,d):Nj.call(null,a,k,c,d)}())};function Oj(a,b,c,d,e){this.Ec=a;this.tree=b;this.da=c;this.meta=d;this.J=e;this.K=418776847;this.Y=8192}g=Oj.prototype;g.Bd=function(a,b){return Pj(this,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=F(b))hf(b)?(c=wd(b),b=xd(b),h=c,d=K(c),c=h):(c=G(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=H(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.T(null,a,b)};g.entries=function(){return new Ii(F(F(this)))};g.toString=function(){return Hd(this)};g.keys=function(){return fe(Ni.C?Ni.C(this):Ni.call(null,this))};
g.values=function(){return fe(Oi.C?Oi.C(this):Oi.call(null,this))};g.equiv=function(a){return this.ba(null,a)};function Pj(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Ec.B?a.Ec.B(b,d):a.Ec.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return R(this,a)};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){a=Pj(this,b);return null!=a?a.val:c};g.ya=function(a,b,c){return null!=this.tree?qe(Jj(this.tree,b,c)):c};g.ga=function(){return this.meta};
g.pa=function(){return new Oj(this.Ec,this.tree,this.da,this.meta,this.J)};g.ma=function(){return this.da};g.Dc=function(){return 0<this.da?Cj(this.tree,!1,this.da):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=je(this)};g.ba=function(a,b){return Gi(this,b)};g.Ia=function(){return new Oj(this.Ec,null,0,this.meta,0)};
g.Aa=function(a,b){a=[null];b=Mj(this.Ec,this.tree,b,a);return null==b?null==Ae(a,0)?this:new Oj(this.Ec,null,0,this.meta,null):new Oj(this.Ec,b.zd(),this.da-1,this.meta,null)};g.fa=function(a,b,c){a=[null];var d=Kj(this.Ec,this.tree,b,c,a);return null==d?(a=Ae(a,0),E.B(c,a.val)?this:new Oj(this.Ec,Nj(this.Ec,this.tree,b,c),this.da,this.meta,null)):new Oj(this.Ec,d.zd(),this.da+1,this.meta,null)};g.ra=function(a,b){return null!=Pj(this,b)};
g.la=function(){return 0<this.da?Cj(this.tree,!0,this.da):null};g.ha=function(a,b){return b===this.meta?this:new Oj(this.Ec,this.tree,this.da,b,this.J)};g.na=function(a,b){if(gf(b))return this.fa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=G(b);if(gf(c))a=Bc(a,x(c,0),x(c,1)),b=H(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};var Qj=new Oj(sf,null,0,null,ke);Oj.prototype[Yb]=function(){return fe(this)};
var Rj=function Rj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Rj.I(c)};Rj.I=function(a){a=F(a);for(var b=od(Ri);;)if(a){var c=H(a);if(null==c)throw Error(["No value supplied for key: ",u.C(G(a))].join(""));var d=H(c);b=ug(b,G(a),G(c));a=d}else return rd(b)};Rj.aa=0;Rj.ca=function(a){return this.I(F(a))};
var Sj=function Sj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Sj.I(c)};Sj.I=function(a){a=a instanceof $d&&0===a.i?a.O:cc(a);if(!ah(a.length))throw Error(["No value supplied for key: ",u.C(Pe(a))].join(""));return Ve(a)};Sj.aa=0;Sj.ca=function(a){return this.I(F(a))};
function Tj(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new $d(b.slice(0),0,null):null;a:for(b=F(b),d=Qj;;)if(b)c=H(H(b)),d=O.F(d,G(b),Ne(b)),b=c;else break a;return d}function Uj(a,b){this.Ha=a;this.Qc=b;this.K=32374988;this.Y=0}g=Uj.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.Qc};g.Na=function(){var a=(null!=this.Ha?this.Ha.K&128||l===this.Ha.Ee||(this.Ha.K?0:Ub(uc,this.Ha)):Ub(uc,this.Ha))?this.Ha.Na(null):H(this.Ha);return null==a?null:new Uj(a,null)};g.ja=function(){return he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return this.Ha.cb(null).key};g.mb=function(){var a=(null!=this.Ha?this.Ha.K&128||l===this.Ha.Ee||(this.Ha.K?0:Ub(uc,this.Ha)):Ub(uc,this.Ha))?this.Ha.Na(null):H(this.Ha);return null!=a?new Uj(a,null):de};g.la=function(){return this};g.ha=function(a,b){return b===this.Qc?this:new Uj(this.Ha,b)};g.na=function(a,b){return Je(b,this)};
Uj.prototype[Yb]=function(){return fe(this)};function Ni(a){return(a=F(a))?new Uj(a,null):null}function pi(a){return Fc(a)}function Vj(a,b){this.Ha=a;this.Qc=b;this.K=32374988;this.Y=0}g=Vj.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.ga=function(){return this.Qc};g.Na=function(){var a=(null!=this.Ha?this.Ha.K&128||l===this.Ha.Ee||(this.Ha.K?0:Ub(uc,this.Ha)):Ub(uc,this.Ha))?this.Ha.Na(null):H(this.Ha);return null==a?null:new Vj(a,null)};g.ja=function(){return he(this)};
g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){return Me(b,c,this)};g.cb=function(){return this.Ha.cb(null).val};g.mb=function(){var a=(null!=this.Ha?this.Ha.K&128||l===this.Ha.Ee||(this.Ha.K?0:Ub(uc,this.Ha)):Ub(uc,this.Ha))?this.Ha.Na(null):H(this.Ha);return null!=a?new Vj(a,null):de};g.la=function(){return this};g.ha=function(a,b){return b===this.Qc?this:new Vj(this.Ha,b)};g.na=function(a,b){return Je(b,this)};
Vj.prototype[Yb]=function(){return fe(this)};function Oi(a){return(a=F(a))?new Vj(a,null):null}function qi(a){return Gc(a)}var Wj=function Wj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Wj.I(c)};Wj.I=function(a){return r($g(Bf,a))?v.B(function(b,c){return Qe.B(r(b)?b:W,c)},a):null};Wj.aa=0;Wj.ca=function(a){return this.I(F(a))};
var Xj=function Xj(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $d(c.slice(1),0,null):null;return Xj.I(arguments[0],c)};Xj.I=function(a,b){if(r($g(Bf,b))){var c=function(d,e){var f=Fc(e),h=Gc(e);if(R(d,f)){e=O.F;var k=B.B(d,f);h=a.B?a.B(k,h):a.call(null,k,h);d=e.call(O,d,f,h)}else d=O.F(d,f,h);return d};return v.B(function(d,e){return v.F(c,r(d)?d:W,F(e))},b)}return null};Xj.aa=1;Xj.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};
function Yj(a,b){var c=W;for(b=F(b);;)if(b){var d=G(b),e=B.F(a,d,Zj);c=Hg.B(e,Zj)?O.F(c,d,e):c;b=H(b)}else return Rc(c,Ze(a))}function ak(a){this.iter=a}ak.prototype.Ma=function(){return this.iter.Ma()};ak.prototype.next=function(){if(this.iter.Ma())return this.iter.next().key;throw Error("No such element");};ak.prototype.remove=function(){return Error("Unsupported operation")};function bk(a,b,c){this.meta=a;this.vd=b;this.J=c;this.K=15077647;this.Y=139268}g=bk.prototype;g.toString=function(){return Hd(this)};
g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return fe(F(this))};g.entries=function(){return new Ji(F(F(this)))};g.values=function(){return fe(F(this))};g.has=function(a){return R(this,a)};g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=F(b))hf(b)?(c=wd(b),b=xd(b),h=c,d=K(c),c=h):(c=G(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=H(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){a=Cc(this.vd,b);return r(a)?Fc(a):c};g.qa=function(){return new ak(Fd(this.vd))};g.ga=function(){return this.meta};g.pa=function(){return new bk(this.meta,this.vd,this.J)};g.ma=function(){return ic(this.vd)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=je(this)};
g.ba=function(a,b){if(a=cf(b))if(a=K(this)===K(b))try{return Af(function(c,d){return(c=R(b,d))?c:ne(!1)},!0,this.vd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Md=function(){return new ck(od(this.vd))};g.Ia=function(){return Rc(dk,this.meta)};g.kf=function(a,b){return new bk(this.meta,Ec(this.vd,b),null)};g.la=function(){return Ni(this.vd)};g.ha=function(a,b){return b===this.meta?this:new bk(b,this.vd,this.J)};
g.na=function(a,b){return new bk(this.meta,O.F(this.vd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};var dk=new bk(null,W,ke);
function rf(a){for(var b=a.length,c=od(dk),d=0;;)if(d<b)qd(c,a[d]),d+=1;else break;return rd(c)}bk.prototype[Yb]=function(){return fe(this)};function ck(a){this.fe=a;this.Y=136;this.K=259}g=ck.prototype;g.Nd=function(a,b){this.fe=sd(this.fe,b,null);return this};g.Wd=function(){return new bk(null,rd(this.fe),null)};g.ma=function(){return K(this.fe)};g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return xc(this.fe,b,kf)===kf?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return xc(this.fe,a,kf)===kf?null:a};g.B=function(a,b){return xc(this.fe,a,kf)===kf?b:a};function ek(a,b,c){this.meta=a;this.od=b;this.J=c;this.K=417730831;this.Y=8192}g=ek.prototype;g.toString=function(){return Hd(this)};
g.equiv=function(a){return this.ba(null,a)};g.keys=function(){return fe(F(this))};g.entries=function(){return new Ji(F(F(this)))};g.values=function(){return fe(F(this))};g.has=function(a){return R(this,a)};g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=F(b))hf(b)?(c=wd(b),b=xd(b),h=c,d=K(c),c=h):(c=G(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=H(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){a=Pj(this.od,b);return null!=a?a.key:c};g.ga=function(){return this.meta};g.pa=function(){return new ek(this.meta,this.od,this.J)};g.ma=function(){return K(this.od)};g.Dc=function(){return 0<K(this.od)?vh.B(pi,ed(this.od)):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=je(this)};
g.ba=function(a,b){if(a=cf(b))if(a=K(this)===K(b))try{return Af(function(c,d){return(c=R(b,d))?c:ne(!1)},!0,this.od)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Ia=function(){return new ek(this.meta,kc(this.od),0)};g.kf=function(a,b){return new ek(this.meta,Q.B(this.od,b),null)};g.la=function(){return Ni(this.od)};g.ha=function(a,b){return b===this.meta?this:new ek(b,this.od,this.J)};g.na=function(a,b){return new ek(this.meta,O.F(this.od,b,null),null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.T(null,a,b)};ek.prototype[Yb]=function(){return fe(this)};
function fk(a){if(cf(a))return Ye(a,null);a=F(a);if(null==a)return dk;if(a instanceof $d&&0===a.i)return rf(a.O);for(var b=od(dk);;)if(null!=a){var c=H(a);b=qd(b,sc(a));a=c}else return rd(b)}function gk(a){return function e(c,d){return new fg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=N(k,0,null);if(k=F(k))if(R(f,h))h=be(k);else{f=Je(h,e(be(k),Qe.B(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,dk)}
function hk(a){for(var b=Re;;)if(H(a))b=Qe.B(b,G(a)),a=H(a);else return F(b)}function eg(a){if(null!=a&&(a.Y&4096||l===a.Jg))return a.Ce(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",u.C(a)].join(""));}function ik(a,b){var c=od(W);a=F(a);for(b=F(b);;)if(a&&b)c=ug(c,G(a),G(b)),a=H(a),b=H(b);else return rd(c)}
var jk=function jk(a){switch(arguments.length){case 2:return jk.B(arguments[0],arguments[1]);case 3:return jk.F(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(3),0,null);return jk.I(arguments[0],arguments[1],arguments[2],c)}};jk.B=function(a,b){return b};jk.F=function(a,b,c){return(a.C?a.C(b):a.call(null,b))>(a.C?a.C(c):a.call(null,c))?b:c};
jk.I=function(a,b,c,d){return v.F(function(e,f){return jk.F(a,e,f)},jk.F(a,b,c),d)};jk.ca=function(a){var b=G(a),c=H(a);a=G(c);var d=H(c);c=G(d);d=H(d);return this.I(b,a,c,d)};jk.aa=3;function kk(a,b){return new fg(null,function(){var c=F(b);if(c){var d=G(c);d=a.C?a.C(d):a.call(null,d);c=r(d)?Je(G(c),kk(a,be(c))):null}else c=null;return c},null,null)}function lk(a,b,c){this.start=a;this.step=b;this.count=c;this.K=82;this.Y=0}g=lk.prototype;g.ma=function(){return this.count};g.cb=function(){return this.start};
g.Da=function(a,b){return this.start+b*this.step};g.fb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ze=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new lk(this.start+this.step,this.step,this.count-1)};function mk(a,b,c){this.i=a;this.end=b;this.step=c}mk.prototype.Ma=function(){return 0<this.step?this.i<this.end:this.i>this.end};mk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function nk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.ad=f;this.J=h;this.K=32375006;this.Y=140800}g=nk.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();
g.Oe=function(){if(null==this.chunk){var a=this.ma(null);32<a?(this.ad=new nk(null,this.start+32*this.step,this.end,this.step,null,null,null),this.chunk=new lk(this.start,this.step,32)):this.chunk=new lk(this.start,this.step,a)}};g.Da=function(a,b){if(0<=b&&b<this.ma(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
g.fb=function(a,b,c){return 0<=b&&b<this.ma(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.qa=function(){return new mk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new nk(this.meta,this.start,this.end,this.step,this.chunk,this.ad,this.J)};
g.Na=function(){return 0<this.step?this.start+this.step<this.end?new nk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new nk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ma=function(){return Math.ceil((this.end-this.start)/this.step)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return se(this,b)};
g.ab=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(oe(c))return y(c);a+=this.step}else return c};g.cb=function(){return this.start};g.mb=function(){var a=this.Na(null);return null==a?de:a};g.la=function(){return this};g.ke=function(){this.Oe();return this.chunk};g.Ad=function(){this.Oe();return null==this.ad?de:this.ad};g.ha=function(a,b){return b===this.meta?this:new nk(b,this.start,this.end,this.step,this.chunk,this.ad,this.J)};
g.na=function(a,b){return Je(b,this)};g.je=function(){return F(this.Ad(null))};nk.prototype[Yb]=function(){return fe(this)};function ok(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.ad=f;this.J=h;this.Y=140800;this.K=32374988}g=ok.prototype;g.toString=function(){return Hd(this)};g.equiv=function(a){return this.ba(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();
g.Oe=function(){if(null==this.chunk){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.chunk=new ig(a,0,b);break a}}else{b=c;break a}}null==this.chunk&&(this.chunk=new ig(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.ad=new ok(null,b,this.end,this.step,null,null,
null)))}};g.qa=function(){return new mk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new ok(this.meta,this.start,this.end,this.step,this.chunk,this.ad,this.J)};g.Na=function(){return 0<this.step?this.start+this.step<this.end?new ok(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new ok(null,this.start+this.step,this.end,this.step,null,null,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=he(this)};g.ba=function(a,b){return Ie(this,b)};g.Ia=function(){return de};g.$a=function(a,b){return Ke(b,this)};g.ab=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(oe(c))return y(c);a+=this.step}else return c};g.cb=function(){return this.start};g.mb=function(){var a=this.Na(null);return null==a?de:a};g.la=function(){return this};g.ke=function(){this.Oe();return this.chunk};
g.Ad=function(){this.Oe();return null==this.ad?de:this.ad};g.ha=function(a,b){return b===this.meta?this:new ok(b,this.start,this.end,this.step,this.chunk,this.ad,this.J)};g.na=function(a,b){return Je(b,this)};g.je=function(){return F(this.Ad(null))};ok.prototype[Yb]=function(){return fe(this)};
var pk=function pk(a){switch(arguments.length){case 0:return pk.P();case 1:return pk.C(arguments[0]);case 2:return pk.B(arguments[0],arguments[1]);case 3:return pk.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};pk.P=function(){return pk.F(0,Number.MAX_VALUE,1)};pk.C=function(a){return pk.F(0,a,1)};pk.B=function(a,b){return pk.F(a,b,1)};
pk.F=function(a,b,c){return 0<c?b<=a?de:pf(a)&&pf(b)&&pf(c)?new nk(null,a,b,c,null,null,null):new ok(null,a,b,c,null,null,null):0>c?b>=a?de:pf(a)&&pf(b)&&pf(c)?new nk(null,a,b,c,null,null,null):new ok(null,a,b,c,null,null,null):b===a?de:Bh(a)};pk.aa=3;function qk(a,b){return new fg(null,function(){var c=F(b);return c?Je(G(c),qk(a,xh(a,c))):null},null,null)}function rk(a,b){return new X(null,2,5,Z,[kk(a,b),zh(a,b)],null)}
function sk(a,b){return new fg(null,function(){var c=F(b);if(c){var d=G(c),e=a.C?a.C(d):a.call(null,d),f=Je(d,kk(function(h){return E.B(e,a.C?a.C(h):a.call(null,h))},H(c)));return Je(f,sk(a,new fg(null,function(){return xh(K(f),c)},null,null)))}return null},null,null)}function tk(a){return rd(v.F(function(b,c){return ug(b,c,B.F(b,c,0)+1)},od(W),a))}
function uk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.F?a.F(m,n,p):a.call(null,m,n,p),b.F?b.F(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.B?a.B(m,n):a.call(null,m,n),b.B?b.B(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.C?a.C(m):a.call(null,m),b.C?b.C(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.P?a.P():a.call(null),b.P?b.P():b.call(null)],null)}var h=null,k=function(){function m(p,t,w,A){var D=null;
if(3<arguments.length){D=0;for(var I=Array(arguments.length-3);D<I.length;)I[D]=arguments[D+3],++D;D=new $d(I,0,null)}return n.call(this,p,t,w,D)}function n(p,t,w,A){return new X(null,2,5,Z,[Eg(a,p,t,w,A),Eg(b,p,t,w,A)],null)}m.aa=3;m.ca=function(p){var t=G(p);p=H(p);var w=G(p);p=H(p);var A=G(p);p=be(p);return n(t,w,A,p)};m.I=n;return m}();h=function(m,n,p,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var w=null;if(3<arguments.length){w=0;for(var A=Array(arguments.length-3);w<A.length;)A[w]=arguments[w+3],++w;w=new $d(A,0,null)}return k.I(m,n,p,w)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.ca=k.ca;h.P=f;h.C=e;h.B=d;h.F=c;h.I=k.I;return h}()}function vk(a){a:for(var b=a;;)if(b=F(b))b=H(b);else break a;return a}
function wk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&E.B(a[0],b)?1===a.length?a[0]:ni(a):null;throw new TypeError("re-matches must match against a string.");}function xk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:ni(a);throw new TypeError("re-find must match against a string.");}
var yk=function yk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:ni(d);return Je(f,new fg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Tf.B(b,h),yk.B?yk.B(a,h):yk.call(null,a,h)):null},null,null))};function zk(a,b){if("string"===typeof b)return yk(a,b);throw new TypeError("re-seq must match against a string.");}
function Ak(a,b,c,d,e,f,h){var k=Fb;Fb=null==Fb?null:Fb-1;try{if(null!=Fb&&0>Fb)return fd(a,"#");fd(a,c);if(0===Mb.C(f))F(h)&&fd(a,function(){var A=Bk.C(f);return r(A)?A:"..."}());else{if(F(h)){var m=G(h);b.F?b.F(m,a,f):b.call(null,m,a,f)}for(var n=H(h),p=Mb.C(f)-1;;)if(!n||null!=p&&0===p){F(n)&&0===p&&(fd(a,d),fd(a,function(){var A=Bk.C(f);return r(A)?A:"..."}()));break}else{fd(a,d);var t=G(n);c=a;h=f;b.F?b.F(t,c,h):b.call(null,t,c,h);var w=H(n);c=p-1;n=w;p=c}}return fd(a,e)}finally{Fb=k}}
function Ck(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);fd(a,f);e+=1}else if(b=F(b))c=b,hf(c)?(b=wd(c),d=xd(c),c=b,f=K(b),b=d,d=f):(f=G(c),fd(a,f),b=H(c),c=null,d=0),e=0;else return null}function Dk(a){if(null==Bb)throw Error("No *print-fn* fn set for evaluation environment");Bb.call(null,a);return null}var Ek={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function Fk(a){return['"',u.C(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return Ek[b]})),'"'].join("")}function Gk(a,b){return(a=nf(B.B(a,Kb)))?(a=null!=b?b.K&131072||l===b.Be?!0:!1:!1)?null!=Ze(b):a:a}
function Hk(a,b,c){if(null==a)return fd(b,"nil");if(Gk(c,a)){fd(b,"^");var d=Ze(a);Ik.F?Ik.F(d,b,c):Ik.call(null,d,b,c);fd(b," ")}if(a.eb)return a.gb(b);if(null!=a?a.K&2147483648||l===a.Ga||(a.K?0:Ub(hd,a)):Ub(hd,a))return id(a,b,c);if(!0===a||!1===a)return fd(b,u.C(a));if("number"===typeof a)return fd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":u.C(a));if(null!=a&&a.constructor===Object)return fd(b,"#js "),d=vh.B(function(f){return new Y(null!=wk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?dg.C(f):f,a[f],null)},Ja(a)),Jk.R?Jk.R(d,Ik,b,c):Jk.call(null,d,Ik,b,c);if(Pb(a))return Ak(b,Ik,"#js ["," ","]",c,a);if("string"===typeof a)return r(Jb.C(c))?fd(b,Fk(a)):fd(b,a);if("function"===typeof a){var e=a.name;c=r(function(){var f=null==e;return f?f:Ga(e)}())?"Function":e;return Ck(b,M(["#object[",c,r(!1)?[' "',u.C(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=u.C(f);;)if(f.length<h)f=["0",f].join("");else return f},Ck(b,M(['#inst "',c(a.getUTCFullYear(),4),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return Ck(b,M(['#"',a.source,'"']));if(dc(a))return Ck(b,M(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.Qa}()))return Ck(b,M(["#object[",a.constructor.Qa.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=r(function(){var f=null==e;return f?f:Ga(e)}())?"Object":e;return null==a.constructor?Ck(b,M(["#object[",c,"]"])):Ck(b,M(["#object[",c," ",u.C(a),"]"]))}function Ik(a,b,c){var d=Kk.C(c);return r(d)?(c=O.F(c,Ok,Hk),d.F?d.F(a,b,c):d.call(null,a,b,c)):Hk(a,b,c)}
function Pk(a,b){var c=new wb,d=new Gd(c);a:{Ik(G(a),d,b);a=F(H(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);fd(d," ");Ik(k,d,b);h+=1}else if(a=F(a))e=a,hf(e)?(a=wd(e),f=xd(e),e=a,k=K(a),a=f,f=k):(k=G(e),fd(d," "),Ik(k,d,b),a=H(e),e=null,f=0),h=0;else break a}d.td(null);return c}function Qk(a,b){return af(a)?"":u.C(Pk(a,b))}function Rk(a,b){if(af(a))return"\n";a=Pk(a,b);a.append("\n");return u.C(a)}function Sk(){var a=Hb();Dk("\n");return B.B(a,Ib),null}
var Tk=function Tk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Tk.I(c)};Tk.I=function(a){return Qk(a,Hb())};Tk.aa=0;Tk.ca=function(a){return this.I(F(a))};var Uk=function Uk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Uk.I(c)};Uk.I=function(a){return Rk(a,Hb())};Uk.aa=0;Uk.ca=function(a){return this.I(F(a))};
var Vk=function Vk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Vk.I(c)};Vk.I=function(a){return Qk(a,O.F(Hb(),Jb,!1))};Vk.aa=0;Vk.ca=function(a){return this.I(F(a))};var Wk=function Wk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return Wk.I(c)};Wk.I=function(a){return Rk(a,O.F(Hb(),Jb,!1))};Wk.aa=0;Wk.ca=function(a){return this.I(F(a))};
function Xk(a){return a instanceof z?Wd.B(null,eg(a)):dg.B(null,eg(a))}function Yk(a){if(r(!1)){var b=F(a),c=F(b),d=G(c);H(c);N(d,0,null);N(d,1,null);c=Te(a);for(a=null;;){d=a;b=F(b);a=G(b);var e=H(b),f=a;a=N(f,0,null);b=N(f,1,null);if(r(f))if(a instanceof C||a instanceof z)if(r(d))if(E.B(d,$f(a)))c=O.F(c,Xk(a),b),a=d,b=e;else return null;else if(d=$f(a),r(d))c=O.F(c,Xk(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function Zk(a,b,c,d,e){return Ak(d,function(f,h,k){var m=Fc(f);c.F?c.F(m,h,k):c.call(null,m,h,k);fd(h," ");f=Gc(f);return c.F?c.F(f,h,k):c.call(null,f,h,k)},[u.C(a),"{"].join(""),", ","}",e,F(b))}function Jk(a,b,c,d){var e=ef(a)?Yk(a):null,f=N(e,0,null);e=N(e,1,null);return r(f)?Zk(["#:",u.C(f)].join(""),e,b,c,d):Zk(null,a,b,c,d)}oh.prototype.Ga=l;oh.prototype.ia=function(a,b,c){fd(b,"#object[cljs.core.Volatile ");Ik(new q(null,1,[$k,this.state],null),b,c);return fd(b,"]")};Xd.prototype.Ga=l;
Xd.prototype.ia=function(a,b,c){fd(b,"#'");return Ik(this.ee,b,c)};$d.prototype.Ga=l;$d.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};fg.prototype.Ga=l;fg.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Y.prototype.Ga=l;Y.prototype.ia=function(a,b,c){return Ak(b,Ik,"["," ","]",c,this)};Bj.prototype.Ga=l;Bj.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};rj.prototype.Ga=l;rj.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};
Fj.prototype.Ga=l;Fj.prototype.ia=function(a,b,c){return Ak(b,Ik,"["," ","]",c,this)};Li.prototype.Ga=l;Li.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};ge.prototype.Ga=l;ge.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};ek.prototype.Ga=l;ek.prototype.ia=function(a,b,c){return Ak(b,Ik,"#{"," ","}",c,this)};si.prototype.Ga=l;si.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Yf.prototype.Ga=l;
Yf.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Ee.prototype.Ga=l;Ee.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};nk.prototype.Ga=l;nk.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};wj.prototype.Ga=l;wj.prototype.ia=function(a,b,c){return Jk(this,Ik,b,c)};tj.prototype.Ga=l;tj.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};ui.prototype.Ga=l;ui.prototype.ia=function(a,b,c){return Ak(b,Ik,"["," ","]",c,this)};
Oj.prototype.Ga=l;Oj.prototype.ia=function(a,b,c){return Jk(this,Ik,b,c)};bk.prototype.Ga=l;bk.prototype.ia=function(a,b,c){return Ak(b,Ik,"#{"," ","}",c,this)};kg.prototype.Ga=l;kg.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};kh.prototype.Ga=l;kh.prototype.ia=function(a,b,c){fd(b,"#object[cljs.core.Atom ");Ik(new q(null,1,[$k,this.state],null),b,c);return fd(b,"]")};Vj.prototype.Ga=l;Vj.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Ej.prototype.Ga=l;
Ej.prototype.ia=function(a,b,c){return Ak(b,Ik,"["," ","]",c,this)};Ah.prototype.Ga=l;Ah.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};X.prototype.Ga=l;X.prototype.ia=function(a,b,c){return Ak(b,Ik,"["," ","]",c,this)};Bi.prototype.Ga=l;Bi.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Vf.prototype.Ga=l;Vf.prototype.ia=function(a,b){return fd(b,"()")};Ci.prototype.Ga=l;Ci.prototype.ia=function(a,b,c){return Ak(b,Ik,"#queue ["," ","]",c,F(this))};
q.prototype.Ga=l;q.prototype.ia=function(a,b,c){return Jk(this,Ik,b,c)};ok.prototype.Ga=l;ok.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Wg.prototype.Ga=l;Wg.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Uj.prototype.Ga=l;Uj.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};Se.prototype.Ga=l;Se.prototype.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};z.prototype.bd=l;
z.prototype.Rc=function(a,b){if(b instanceof z)return Vd(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};C.prototype.bd=l;C.prototype.Rc=function(a,b){if(b instanceof C)return Zf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};ui.prototype.bd=l;ui.prototype.Rc=function(a,b){if(gf(b))return tf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};X.prototype.bd=l;
X.prototype.Rc=function(a,b){if(gf(b))return tf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};Y.prototype.bd=l;Y.prototype.Rc=function(a,b){if(gf(b))return tf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};Fj.prototype.bd=l;Fj.prototype.Rc=function(a,b){if(gf(b))return tf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};Ej.prototype.bd=l;
Ej.prototype.Rc=function(a,b){if(gf(b))return tf(this,b);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};var al=null;function bl(a){null==al&&(al=lh(0));return Wd.C([u.C(a),u.C(nh.B(al,le))].join(""))}function cl(a){this.f=a;this.value=null;this.K=2147516416;this.Y=1}cl.prototype.ic=function(){r(this.f)&&(this.value=this.f.P?this.f.P():this.f.call(null),this.f=null);return this.value};cl.prototype.jf=function(){return Rb(this.f)};
cl.prototype.ia=function(a,b,c){fd(b,"#object[cljs.core.Delay ");Ik(new q(null,2,[dl,null==this.f?el:fl,$k,this.value],null),b,c);return fd(b,"]")};function gl(a){return a instanceof cl?y(a):a}function hl(a){return function(b,c){b=a.B?a.B(b,c):a.call(null,b,c);return oe(b)?ne(b):b}}
function il(a){var b=hl(a);return function(){function c(h,k){return v.F(b,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function jl(a,b){this.Ya=a;this.qf=b;this.K=2173173760;this.Y=131072}g=jl.prototype;
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return ze(this,b,0);case 2:return ze(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return ze(this,b,0)};a.B=function(b,c){return ze(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ce(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ce(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ce(this,c,d)};return b}();g.qa=function(){var a=Pg(this.qf);return Xg(this.Ya,a)};g.la=function(){var a=Pg(this.qf);a=Xg(this.Ya,a);a=Vg(a);return F(r(a)?a:de)};g.$a=function(a,b){a=Cf(b);b=this.qf;return Df(this.Ya,a,a.P?a.P():a.call(null),b)};
g.ab=function(a,b,c){return Df(this.Ya,Cf(b),c,this.qf)};g.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,this)};jl.prototype[Yb]=function(){return fe(this)};function kl(){}function ll(a){if(null!=a&&null!=a.Fh)a=a.Fh(a);else{var b=ll[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ll._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IEncodeJS.-clj-\x3ejs",a);}return a}
function ml(a,b){return(null!=a?l===a.Eh||(a.Pd?0:Ub(kl,a)):Ub(kl,a))?ll(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof z?b.C?b.C(a):b.call(null,a):Tk.I(M([a]))}var nl=function nl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $d(c.slice(1),0,null):null;return nl.I(arguments[0],c)};
nl.I=function(a,b){b=Gg(b);var c=B.F(b,ol,eg),d=function h(f){if(null==f)return null;if(null!=f?l===f.Eh||(f.Pd?0:Ub(kl,f)):Ub(kl,f))return ll(f);if(f instanceof C)return c.C?c.C(f):c.call(null,f);if(f instanceof z)return u.C(f);if(ef(f)){var k={};f=F(f);for(var m=null,n=0,p=0;;)if(p<n){var t=m.Da(null,p),w=N(t,0,null);t=N(t,1,null);w=ml(w,d);t=h(t);k[w]=t;p+=1}else if(f=F(f))hf(f)?(n=wd(f),f=xd(f),m=n,n=K(n)):(n=G(f),m=N(n,0,null),n=N(n,1,null),m=ml(m,d),n=h(n),k[m]=n,f=H(f),m=null,n=0),p=0;else break;
return k}if(bf(f)){k=[];f=F(vh.B(h,f));m=null;for(p=n=0;;)if(p<n)w=m.Da(null,p),k.push(w),p+=1;else if(f=F(f))m=f,hf(m)?(f=wd(m),p=xd(m),m=f,n=K(f),f=p):(f=G(m),k.push(f),f=H(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};nl.aa=1;nl.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};function pl(){}
function ql(a,b){if(null!=a&&null!=a.Dh)a=a.Dh(a,b);else{var c=ql[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ql._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IEncodeClojure.-js-\x3eclj",a);}return a}
function rl(a){var b=M([sl,!1]),c=Gg(b);c=B.B(c,sl);var d=r(c)?dg:u;return function h(f){return(null!=f?l===f.vj||(f.Pd?0:Ub(pl,f)):Ub(pl,f))?ql(f,Bg(Sj,b)):lf(f)?vk(vh.B(h,f)):oi(f)?new Y(h(Fc(f)),h(Gc(f)),null):bf(f)?Kh.F(Te(f),vh.C(h),f):Pb(f)?rd(v.F(function(k,m){return tg.B(k,h(m))},od(Re),f)):Vb(f)===Object?rd(v.F(function(k,m){return ug(k,d.C?d.C(m):d.call(null,m),h(Ka(f,m)))},od(W),Ja(f))):f}(a)}
var tl=function tl(a){switch(arguments.length){case 0:return tl.P();case 1:return tl.C(arguments[0]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};tl.P=function(){return tl.C(1)};tl.C=function(a){return Math.random()*a};tl.aa=1;function ul(a){return Math.floor(Math.random()*a)}function vl(a,b){return rd(v.F(function(c,d){var e=a.C?a.C(d):a.call(null,d);return ug(c,e,Qe.B(B.F(c,e,Re),d))},od(W),b))}var wl=null;
function xl(){null==wl&&(wl=lh(new q(null,3,[yl,W,zl,W,Al,W],null)));return wl}function Bl(a,b,c){var d=E.B(b,c);if(d)return d;d=Al.C(a);d=d.C?d.C(b):d.call(null,b);if(!(d=R(d,c))&&(d=gf(c)))if(d=gf(b))if(d=K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=Bl(a,b.C?b.C(e):b.call(null,e),c.C?c.C(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function Cl(a){var b=y(xl());return Ig(B.B(yl.C(b),a))}
function Dl(a,b,c,d){nh.B(a,function(){return y(b)});nh.B(c,function(){return y(d)})}
var El=function El(a,b,c){var e=function(){var f=y(c);return f.C?f.C(a):f.call(null,a)}();e=r(r(e)?e.C?e.C(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=Cl(b);;)if(0<K(f)){var h=G(f);El.F?El.F(a,h,c):El.call(null,a,h,c);f=be(f)}else return null}();if(r(e))return e;e=function(){for(var f=Cl(a);;)if(0<K(f)){var h=G(f);El.F?El.F(h,b,c):El.call(null,h,b,c);f=be(f)}else return null}();return r(e)?e:!1};function Fl(a,b,c,d){c=El(a,b,c);return r(c)?c:Bl(d,a,b)}
var Gl=function Gl(a,b,c,d,e,f,h,k){var n=v.F(function(t,w){var A=N(w,0,null);N(w,1,null);if(Bl(y(c),b,A)){t=null==t||Fl(A,G(t),e,y(c))?w:t;if(!Fl(G(t),A,e,y(c)))throw Error(["Multiple methods in multimethod '",u.C(a),"' match dispatch value: ",u.C(b)," -\x3e ",u.C(A)," and ",u.C(G(t)),", and neither is preferred"].join(""));return t}return t},null,y(d)),p=function(){var t;if(t=null==n)t=y(d),t=t.C?t.C(k):t.call(null,k);return r(t)?new X(null,2,5,Z,[k,t],null):n}();if(r(p)){if(E.B(y(h),y(c)))return nh.R(f,
O,b,Ne(p)),Ne(p);Dl(f,d,h,c);return Gl.Fb?Gl.Fb(a,b,c,d,e,f,h,k):Gl.call(null,a,b,c,d,e,f,h,k)}return null};function Hl(a,b,c){if(null!=a&&null!=a.bb)a.bb(a,b,c);else{var d=Hl[da(null==a?null:a)];if(null!=d)d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=Hl._,null!=d)d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IMultiFn.-add-method",a);}}function Il(a,b){throw Error(["No method in multimethod '",u.C(a),"' for dispatch value: ",u.C(b)].join(""));}
function Jl(a,b,c,d,e,f,h){var k=Kl;this.name=a;this.za=b;this.Yh=k;this.vf=c;this.Af=d;this.aj=e;this.zf=f;this.ff=h;this.K=4194305;this.Y=4352}g=Jl.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.F(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.dc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.Tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.Ub(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Vb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Xb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Zb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.$b(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.ac(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.bc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.cc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.Ae(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.P=function(){var a=this.za.P?this.za.P():this.za.call(null),b=Ll(this,a);r(b)||Il(this.name,a);return b.P?b.P():b.call(null)};g.C=function(a){var b=this.za.C?this.za.C(a):this.za.call(null,a),c=Ll(this,b);r(c)||Il(this.name,b);return c.C?c.C(a):c.call(null,a)};
g.B=function(a,b){var c=this.za.B?this.za.B(a,b):this.za.call(null,a,b),d=Ll(this,c);r(d)||Il(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.F=function(a,b,c){var d=this.za.F?this.za.F(a,b,c):this.za.call(null,a,b,c),e=Ll(this,d);r(e)||Il(this.name,d);return e.F?e.F(a,b,c):e.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.za.R?this.za.R(a,b,c,d):this.za.call(null,a,b,c,d),f=Ll(this,e);r(f)||Il(this.name,e);return f.R?f.R(a,b,c,d):f.call(null,a,b,c,d)};
g.ka=function(a,b,c,d,e){var f=this.za.ka?this.za.ka(a,b,c,d,e):this.za.call(null,a,b,c,d,e),h=Ll(this,f);r(h)||Il(this.name,f);return h.ka?h.ka(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ka=function(a,b,c,d,e,f){var h=this.za.Ka?this.za.Ka(a,b,c,d,e,f):this.za.call(null,a,b,c,d,e,f),k=Ll(this,h);r(k)||Il(this.name,h);return k.Ka?k.Ka(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Eb=function(a,b,c,d,e,f,h){var k=this.za.Eb?this.za.Eb(a,b,c,d,e,f,h):this.za.call(null,a,b,c,d,e,f,h),m=Ll(this,k);r(m)||Il(this.name,k);return m.Eb?m.Eb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Fb=function(a,b,c,d,e,f,h,k){var m=this.za.Fb?this.za.Fb(a,b,c,d,e,f,h,k):this.za.call(null,a,b,c,d,e,f,h,k),n=Ll(this,m);r(n)||Il(this.name,m);return n.Fb?n.Fb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.dc=function(a,b,c,d,e,f,h,k,m){var n=this.za.dc?this.za.dc(a,b,c,d,e,f,h,k,m):this.za.call(null,a,b,c,d,e,f,h,k,m),p=Ll(this,n);r(p)||Il(this.name,n);return p.dc?p.dc(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.Tb=function(a,b,c,d,e,f,h,k,m,n){var p=this.za.Tb?this.za.Tb(a,b,c,d,e,f,h,k,m,n):this.za.call(null,a,b,c,d,e,f,h,k,m,n),t=Ll(this,p);r(t)||Il(this.name,p);return t.Tb?t.Tb(a,b,c,d,e,f,h,k,m,n):t.call(null,a,b,c,d,e,f,h,k,m,n)};
g.Ub=function(a,b,c,d,e,f,h,k,m,n,p){var t=this.za.Ub?this.za.Ub(a,b,c,d,e,f,h,k,m,n,p):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p),w=Ll(this,t);r(w)||Il(this.name,t);return w.Ub?w.Ub(a,b,c,d,e,f,h,k,m,n,p):w.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.Vb=function(a,b,c,d,e,f,h,k,m,n,p,t){var w=this.za.Vb?this.za.Vb(a,b,c,d,e,f,h,k,m,n,p,t):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t),A=Ll(this,w);r(A)||Il(this.name,w);return A.Vb?A.Vb(a,b,c,d,e,f,h,k,m,n,p,t):A.call(null,a,b,c,d,e,f,h,k,m,n,p,t)};
g.Wb=function(a,b,c,d,e,f,h,k,m,n,p,t,w){var A=this.za.Wb?this.za.Wb(a,b,c,d,e,f,h,k,m,n,p,t,w):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w),D=Ll(this,A);r(D)||Il(this.name,A);return D.Wb?D.Wb(a,b,c,d,e,f,h,k,m,n,p,t,w):D.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w)};
g.Xb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A){var D=this.za.Xb?this.za.Xb(a,b,c,d,e,f,h,k,m,n,p,t,w,A):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A),I=Ll(this,D);r(I)||Il(this.name,D);return I.Xb?I.Xb(a,b,c,d,e,f,h,k,m,n,p,t,w,A):I.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A)};
g.Yb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D){var I=this.za.Yb?this.za.Yb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D),J=Ll(this,I);r(J)||Il(this.name,I);return J.Yb?J.Yb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D):J.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D)};
g.Zb=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I){var J=this.za.Zb?this.za.Zb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I),T=Ll(this,J);r(T)||Il(this.name,J);return T.Zb?T.Zb(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I):T.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I)};
g.$b=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J){var T=this.za.$b?this.za.$b(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J),P=Ll(this,T);r(P)||Il(this.name,T);return P.$b?P.$b(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J):P.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J)};
g.ac=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T){var P=this.za.ac?this.za.ac(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T),U=Ll(this,P);r(U)||Il(this.name,P);return U.ac?U.ac(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T):U.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T)};
g.bc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P){var U=this.za.bc?this.za.bc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P),ea=Ll(this,U);r(ea)||Il(this.name,U);return ea.bc?ea.bc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P)};
g.cc=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U){var ea=this.za.cc?this.za.cc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U):this.za.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U),ra=Ll(this,ea);r(ra)||Il(this.name,ea);return ra.cc?ra.cc(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U):ra.call(null,a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U)};
g.Ae=function(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea){var ra=Fg(this.za,a,b,c,d,M([e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea])),Ha=Ll(this,ra);r(Ha)||Il(this.name,ra);return Fg(Ha,a,b,c,d,M([e,f,h,k,m,n,p,t,w,A,D,I,J,T,P,U,ea]))};g.bb=function(a,b,c){nh.R(this.Af,O,b,c);Dl(this.zf,this.Af,this.ff,this.vf);return this};function Ll(a,b){E.B(y(a.ff),y(a.vf))||Dl(a.zf,a.Af,a.ff,a.vf);var c=y(a.zf);c=c.C?c.C(b):c.call(null,b);return r(c)?c:Gl(a.name,b,a.vf,a.Af,a.aj,a.zf,a.ff,a.Yh)}g.Ce=function(){return yd(this.name)};
g.De=function(){return zd(this.name)};g.ja=function(){return ia(this)};function Ml(a,b){this.pd=a;this.J=b;this.K=2153775104;this.Y=2048}g=Ml.prototype;g.Mg=l;g.toString=function(){return this.pd};g.equiv=function(a){return this.ba(null,a)};g.ba=function(a,b){return(a=null!=b?l===b.Mg?!0:!1:!1)?this.pd===b.pd:a};g.ia=function(a,b){return fd(b,['#uuid "',u.C(this.pd),'"'].join(""))};g.ja=function(){null==this.J&&(this.J=Sd(this.pd));return this.J};
g.Rc=function(a,b){if(b instanceof Ml)return Ra(this.pd,b.pd);throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};
function Nl(){function a(){return ul(16).toString(16)}var b=(8|3&ul(16)).toString(16);return new Ml([u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),"-",u.C(a()),u.C(a()),u.C(a()),u.C(a()),"-4",u.C(a()),u.C(a()),u.C(a()),"-",u.C(b),u.C(a()),u.C(a()),u.C(a()),"-",u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a()),u.C(a())].join("").toLowerCase(),null)}
function Ol(a,b,c){var d=Error(a);this.message=a;this.data=b;this.Cg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}Ol.prototype.__proto__=Error.prototype;Ol.prototype.Ga=l;
Ol.prototype.ia=function(a,b,c){fd(b,"#error {:message ");Ik(this.message,b,c);r(this.data)&&(fd(b,", :data "),Ik(this.data,b,c));r(this.Cg)&&(fd(b,", :cause "),Ik(this.Cg,b,c));return fd(b,"}")};Ol.prototype.toString=function(){return Hd(this)};function Pl(a,b){return new Ol(a,b,null)}
function Ql(){r($b)||($b=function(){for(var a=vf(function(e,f){return f.length-e.length},Ja(Zb)),b="";;)if(F(a)){var c=H(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),u.C(G(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return $b}
function Rl(a){var b=u.C(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(Ql(),"g");b=r(Fa(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=N(f,0,null),d=[d,u.C(b.substring(e,c.lastIndex-f.length)),u.C("$"===f?"/":Ka(Zb,f))].join(""),e=c.lastIndex;else{c=[d,u.C(b.substring(e,b.length))].join("");break a}}}a=a instanceof z?Wd:u;return a.C?a.C(c):a.call(null,c)}"undefined"!==typeof console&&Nb();Nb();var Sl=new C(null,"components","components",-1073188942),Ul=new C(null,"level","level",1290497552),Vl=new C("db","current-tx","db/current-tx",1600722132),Wl=new C(null,"on-change","on-change",-732046149),Xl=new z(null,"datascript.db","datascript.db",-444456104,null),Yl=new C(null,"size","size",1098693007),Zl=new C(null,"button.cursor-default","button.cursor-default",746942819),$l=new C(null,"line","line",212345235),am=new C("db","unique","db/unique",329396388),bm=new C("db","isComponent","db/isComponent",
423352398),cm=new C("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),dm=new z(null,"ns*","ns*",1840949383,null),em=new C(null,"left","left",-399115937),fm=new C(null,"start-block-t","start-block-t",-373430594),gm=new C(null,"limit","limit",-1355822363),hm=new C(null,"per-line-prefix","per-line-prefix",846941813),im=new C("datascript.db","value-tempids","datascript.db/value-tempids",244806162),jm=new C(null,"string","string",-1989541586),km=new C(null,"avet","avet",1383857032),
lm=new C(null,"data","data",-232669377),mm=new z(null,"identity","identity",-1007039734,null),nm=new z(null,"max","max",1701898075,null),om=new C("cljs.spec.alpha","amp","cljs.spec.alpha/amp",831147508),pm=new C(null,"mapBuilder","mapBuilder",-278083754),qm=new C(null,"done-nl","done-nl",-381024340),rm=new C(null,"handlers","handlers",79528781),sm=new C(null,"private","private",-558947994),tm=new C("cljs.spec.alpha","alt","cljs.spec.alpha/alt",523685437),dl=new C(null,"status","status",-1997798413),
um=new C(null,"version","version",425292698),vm=new C(null,"days","days",-1394072564),wm=new z(null,"identical?","identical?",-745864205,null),xm=new z("cljs.core","deref","cljs.core/deref",1901963335,null),ym=new C("transact","cas","transact/cas",816687170),zm=new C("cljs.spec.alpha","nil","cljs.spec.alpha/nil",1733813950),Am=new C("db.fn","cas","db.fn/cas",-379352172),Bm=new C("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),Cm=new C(null,"mandatory","mandatory",542802336),
Dm=new C(null,"end-column","end-column",1425389514),Em=new C(null,"getInitialState","getInitialState",1541760916),Fm=new z(null,"list","list",-1889078086,null),Gm=new C(null,"base-args","base-args",-1268706822),Hm=new C(null,"return-map","return-map",1620104901),Zj=new C("cljs.core","not-found","cljs.core/not-found",-1572889185),Im=new z(null,"compare","compare",1109853757,null),Jm=new C(null,"def","def",-1043430536),Km=new C(null,"prefer-buffers","prefer-buffers",377042081),Lm=new C(null,"visitor",
"visitor",-1026865865),Mm=new z(null,"stddev","stddev",775056588,null),Nm=new z("cljs.core","string?","cljs.core/string?",-2072921719,null),Om=new C("db","tupleAttrs","db/tupleAttrs",250080092),Pm=new C(null,"tx-meta","tx-meta",1159283194),Qm=new C("schema","validation","schema/validation",1178447161),Rm=new C(null,"right-margin","right-margin",-810413306),Sm=new C(null,"div.flex.border.border-transparent.hover:border-gray-100","div.flex.border.border-transparent.hover:border-gray-100",-328254749),
Tm=new C(null,"exponentchar","exponentchar",1986664222),Um=new z("clojure.string","includes?","clojure.string/includes?",-1842146260,null),Vm=new C(null,"directive","directive",793559132),Wm=new C(null,"multival?","multival?",1072388383),Xm=new z(null,"p1__44256#","p1__44256#",1870533136,null),Ym=new C(null,"where","where",-2044795965),Zm=new C("reitit.core","path-conflicting","reitit.core/path-conflicting",617644429),$m=new C("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),an=new z(null,
"min","min",2085523049,null),bn=new C("widget.table","width","widget.table/width",-305247953),cn=new C(null,"trailing-white-space","trailing-white-space",1496006996),dn=new C(null,"div","div",1057191632),en=new z(null,"$","$",-1580747756,null),fn=new C("query","binding","query/binding",698240489),gn=new C(null,"right-params","right-params",-1790676237),hn=new z(null,"let*","let*",1920721458,null),jn=new C(null,"width","width",-384071477),kn=new z(null,"limit","limit",284709164,null),ln=new C("widget",
"children","widget/children",485181574),mn=new C("db.fn","retractEntity","db.fn/retractEntity",-1423535441),nn=new C(null,"component-will-unmount","component-will-unmount",-2058314698),on=new z(null,"when-first","when-first",821699168,null),pn=new C(null,"format","format",-1306924766),qn=new C("reitit.core","router","reitit.core/router",1293076450),rn=new z(null,"variance","variance",-1522424942,null),un=new C(null,"type","type",1174270348),vn=new z(null,"_","_",-1201019570,null),wn=new C(null,"style",
"style",-496642736),xn=new C(null,"reader-error","reader-error",1610253121),yn=new z(null,"v","v",1661996586,null),zn=new z(null,"m","m",-1021758608,null),An=new z(null,"k","k",-505765866,null),Bn=new C(null,"component?","component?",407783990),Cn=new C(null,"code","code",1586293142),Dn=new C(null,"keys","keys",1068423698),En=new C("literate","widget","literate/widget",-1743430817),Fn=new z(null,"println-str","println-str",-2049216703,null),Gn=new z("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",
1019430407,null),Hn=new C(null,"wilds","wilds",132271223),In=new z(null,"quot","quot",-1125214196,null),Jn=new C(null,"div.flex.flex-col.text-sm","div.flex.flex-col.text-sm",1494228164),Kn=new C(null,"colinc","colinc",-584873385),Ln=new C(null,"logical-block","logical-block",-581022564),Mn=new C(null,"your-version","your-version",-351781765),Nn=new C(null,"col","col",-1959363084),On=new z(null,"or","or",1876275696,null),Pn=new C("db","fn","db/fn",-1175261470),Qn=new C("entity-id","syntax","entity-id/syntax",
1921317045),Rn=new C(null,"current","current",-1088038603),Sn=new C(null,"writing","writing",-1486865108),Tn=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),Un=new C("reitit.impl","merge-data","reitit.impl/merge-data",-588218417),Vn=new C(null,"parent","parent",-878878779),Wn=new C("query","where","query/where",-1935159429),Xn=new z(null,"missing?","missing?",-1710383910,null),Yn=new C(null,"seen","seen",-518999789),Zn=new z("cljs.core","map?","cljs.core/map?",-1390345523,null),
$n=new z(null,"\x26","\x26",-2144855648,null),ao=new C(null,"reagentRender","reagentRender",-358306383),bo=new C(null,"right-bracket","right-bracket",951856080),co=new C("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),eo=new C("db","id","db/id",-1388397098),fo=new C(null,"vars","vars",-2046957217),go=new C(null,"operation","operation",-1267664310),Kl=new C(null,"default","default",-1987822328),ho=new C(null,"div.flex.flex-col.p-1","div.flex.flex-col.p-1",74784419),io=new C(null,"secs",
"secs",1532330091),jo=new z("clojure.core","deref","clojure.core/deref",188719157,null),ko=new C(null,"coercion","coercion",904067157),lo=new C(null,"first-attr","first-attr",-1993039831),mo=new C(null,"array-builder","array-builder",1275998041),no=new C(null,"*","*",-1294732318),oo=new C(null,"json","json",1279968570),po=new C("db","retractEntity","db/retractEntity",-1452737935),qo=new z(null,"zero?","zero?",325758897,null),ro=new C(null,"reader-exception","reader-exception",-1938323098),so=new z(null,
"-","-",-471816912,null),to=new C(null,"req-un","req-un",1074571008),uo=new C(null,"forms","forms",2045992350),vo=new C(null,"cur","cur",1153190599),wo=new C(null,"branches","branches",-1240337268),xo=new z(null,"def","def",597100991,null),yo=new z(null,"dec","dec",-766002333,null),zo=new C(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),sl=new C(null,"keywordize-keys","keywordize-keys",1310784252),Ao=new C("widget","type","widget/type",-1894308144),Bo=new C(null,"pos",
"pos",-864607220),Co=new C("cljs.spec.alpha","v","cljs.spec.alpha/v",552625740),Do=new C("transact","upsert","transact/upsert",412688078),Eo=new C("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),Fo=new C(null,"output-fn","output-fn",1600951539),Go=new C(null,"elements","elements",657646735),Ho=new C(null,"form","form",-1624062471),Io=new z(null,"%","%",-950237169,null),Jo=new C(null,"pretty-writer","pretty-writer",-1222834267),Ko=new z(null,"..","..",-300507420,null),Lo=new z(null,"not\x3d",
"not\x3d",1466536204,null),Mo=new C(null,"validator","validator",-1966190681),No=new C(null,"pretty","pretty",-1916372486),Oo=new z(null,"range","range",-1014743483,null),Po=new C("widget.geoplot","features","widget.geoplot/features",-1949420440),Qo=new z("clojure.string","blank?","clojure.string/blank?",1772874244,null),Ro=new C(null,"fragment","fragment",826775688),So=new C("cljs.spec.alpha","invalid","cljs.spec.alpha/invalid",-1220295119),To=new C("cljs.spec.alpha","pcat","cljs.spec.alpha/pcat",
26406623),Uo=new C("widget.geoplot","center-wsg84?","widget.geoplot/center-wsg84?",-752220489),Vo=new C("parser","with","parser/with",-386255821),Wo=new z(null,"uuid","uuid",-504564192,null),Xo=new C(null,"entity-id","entity-id",1485898093),Yo=new z(null,"queue","queue",-1198599890,null),Zo=new C(null,"else","else",-1508377146),$o=new z(null,"case*","case*",-1938255072,null),ap=new C(null,"params","params",710516235),bp=new C(null,"tuples","tuples",-676032639),cp=new C("db","cardinality","db/cardinality",
-104975659),dp=new z(null,"struct-map","struct-map",-1387540878,null),ep=new C(null,"rest","rest",-1241696419),fp=new C(null,"var","var",-769682797),gp=new C(null,"commachar","commachar",652859327),hp=new z(null,"re-find","re-find",1143444147,null),$k=new C(null,"val","val",128701612),lp=new z("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),mp=new C(null,"button","button",1456579943),np=new C(null,"path-params","path-params",-48130597),op=new C(null,"thaw-kw","thaw-kw",1076733097),pp=new z(null,
"catch","catch",-1616370245,null),qp=new C("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),rp=new C(null,"kind","kind",-717265803),sp=new C(null,"validate","validate",-201300827),tp=new C("db.fn","call","db.fn/call",-151594418),up=new C(null,"stroke-width","stroke-width",716836435),vp=new C(null,"years","years",-1298579689),wp=new C(null,"prefer-strings","prefer-strings",1254507185),xp=new C(null,"constructor","constructor",-1953928811),yp=new C("cljs.spec.alpha","accept",
"cljs.spec.alpha/accept",370988198),zp=new C("widget.table","height","widget.table/height",802045018),Ap=new C(null,"path-conflicts","path-conflicts",-1238675313),Bp=new C(null,"preferBuffers","preferBuffers",1843176451),Cp=new C("widget.type","column","widget.type/column",-1297718293),Dp=new C("db","cas","db/cas",-451542322),Ep=new z(null,"\x3e","\x3e",1085014381,null),Fp=new C(null,"sections","sections",-886710106),Gp=new C(null,"lines","lines",-700165781),Hp=new z(null,"do","do",1686842252,null),
Ip=new C(null,"colon","colon",-965200945),Jp=new C("literate","widgets","literate/widgets",1235755088),Kp=new C(null,"color","color",1011675173),Lp=new C(null,"keys-pred","keys-pred",858984739),Mp=new C(null,"minpad","minpad",323570901),Np=new C(null,"p.text-2xl","p.text-2xl",1387268759),Op=new C(null,"svg.w-6.h-6","svg.w-6.h-6",-1347042122),Pp=new z("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),Qp=new z(null,"db","db",-1661185010,null),Rp=new z(null,"aggregate","aggregate",-1142967327,
null),Sp=new z(null,"try","try",-1273693247,null),Tp=new C(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),Up=new z(null,"array-map","array-map",1555038968,null),Vp=new C(null,"on-coercion-error","on-coercion-error",-970787),Wp=new z(null,"let","let",358118826,null),Ib=new C(null,"flush-on-newline","flush-on-newline",-151457939),Xp=new C("widget.codemirror","value","widget.codemirror/value",1562181971),Yp=new z(null,"meta","meta",-1154898805,null),Zp=new C(null,
"rels","rels",1770187185),$p=new C("widget.type","table","widget.type/table",-1467162840),aq=new C(null,"pred-exprs","pred-exprs",1792271395),bq=new z(null,"if","if",1181717262,null),cq=new z(null,"get-some","get-some",409442058,null),dq=new C(null,"binding","binding",539932593),eq=new C(null,"xform","xform",-1725711008),fq=new z(null,"hash-map","hash-map",-439030950,null),gq=new C(null,"min-count","min-count",1594709013),hq=new z(null,"quote","quote",1377916282,null),iq=new C(null,"hierarchy","hierarchy",
-1053470341),jq=new C(null,"catch-all","catch-all",1184112570),kq=new z("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),lq=new z(null,"fn","fn",465265323,null),mq=new C(null,"hashchange-listener","hashchange-listener",-1234988801),nq=new C(null,"strable","strable",1877668047),oq=new C(null,"contextType","contextType",1033066077),pq=new C(null,"symbol","symbol",-1038572696),qq=new C("db.pull","wildcard","db.pull/wildcard",116316031),rq=new z(null,"lift-ns","lift-ns",602311926,
null),sq=new C(null,"acc","acc",838566312),tq=new C(null,"reverse-attrs","reverse-attrs",630097702),uq=new C(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),vq=new C(null,"value","value",305978217),wq=new C(null,"sources","sources",-321166424),xq=new C(null,"display-name","display-name",694513143),yq=new C(null,"enabled?","enabled?",-1376075057),zq=new z(null,"ns","ns",2082130287,null),Aq=new C(null,"req","req",-326448303),Bq=new C(null,"ret","ret",-468222814),Cq=new C(null,
"both","both",-393648840),Dq=new C(null,"result","result",1415092211),Eq=new C(null,"vector","vector",1902966158),Fq=new C(null,"end","end",-268185958),Gq=new C(null,"className","className",-1983287057),Hq=new C(null,"buffer-blob","buffer-blob",-1830112173),Iq=new C(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),Jq=new z("clojure.core","unquote","clojure.core/unquote",843087510,null),Kq=new C(null,"pull-patterns","pull-patterns",-343695048),Lq=new C(null,"flags","flags",1775418075),
Mq=new C(null,"parse-tag","parse-tag",1427313738),Nq=new C(null,"eof","eof",-489063237),Oq=new z(null,"-differ?","-differ?",1465687357,null),Pq=new z(null,"js","js",-886355190,null),Qq=new C(null,"relative-to","relative-to",-470100051),Rq=new z(null,"doseq","doseq",221164135,null),Sq=new C("widget","parent","widget/parent",-1665940103),Tq=new z("cljs.core","list?","cljs.core/list?",-684796618,null),Uq=new C(null,"max-eid","max-eid",2134868075),Vq=new C(null,"stroke","stroke",1741823555),Wq=new C(null,
"used-args","used-args",23596256),Xq=new C(null,"symbols","symbols",1211743),Yq=new C(null,"attr","attr",-604132353),Zq=new C(null,"doc","doc",1913296891),$q=new C("db.cardinality","one","db.cardinality/one",1428352190),ar=new C("widget.table","rows","widget.table/rows",696089204),br=new C("parser","query","parser/query",1877320671),cr=new C(null,"added","added",2057651688),dr=new C("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),er=new C(null,"qin","qin",1372651151),
fr=new z(null,"\x3c","\x3c",993667236,null),gr=new C(null,"map","map",1371690461),hr=new C(null,"open?","open?",1238443125),ir=new C(null,"body","body",-2049205669),jr=new C("parser","pull","parser/pull",-2147427204),kr=new C(null,"mode","mode",654403691),lr=new C(null,"replace","replace",-786587770),mr=new C(null,"max","max",61366548),nr=new C(null,"pending-guards","pending-guards",-1255527308),or=new z(null,"get","get",-971253014,null),pr=new C(null,"qwhere","qwhere",-1645067378),qr=new C(null,
"count","count",2139924085),rr=new C(null,"clauses","clauses",1454841241),sr=new C(null,"conflicts","conflicts",-1219561816),tr=new z(null,"empty?","empty?",76408555,null),ur=new z(null,"re-matches","re-matches",-1865705768,null),vr=new C(null,"miser-width","miser-width",-1310049437),wr=new C(null,"expand","expand",595248157),xr=new z(null,"binding","binding",-2114503176,null),yr=new z(null,"ground","ground",-1460862835,null),zr=new C(null,"use-fragment","use-fragment",-1617737154),Ar=new C("db.unique",
"identity","db.unique/identity",1675950722),Br=new C("transact","unique","transact/unique",-940992320),Cr=new C(null,"splice","splice",449588165),Dr=new C(null,"dispatch","dispatch",1319337009),Er=new z(null,"inst","inst",-2008473268,null),Fr=new C("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),Gr=new z(null,"sample","sample",1719555128,null),Hr=new C(null,"max-tx","max-tx",1119558339),Ir=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),Jr=new C(null,"?meta","?meta",-793560773),
Kr=new C(null,"name","name",1843675177),Lr=new C(null,"syms","syms",-1575891762),Mr=new C("db.type","ref","db.type/ref",-1728373079),Nr=new z(null,"schema","schema",58529736,null),Vr=new z(null,"loop","loop",1244978678,null),Xr=new C(null,"nav.h-14.flex.justify-end.items-center.px-10.py-2","nav.h-14.flex.justify-end.items-center.px-10.py-2",1067080416),Yr=new C(null,"parameter-from-args","parameter-from-args",-758446196),Zr=new C(null,"stroke-linejoin","stroke-linejoin",-1810816406),$r=new C(null,
"on-mouse-over","on-mouse-over",-858472552),as=new C(null,"section","section",-300141526),bs=new C(null,"bracket-info","bracket-info",-1600092774),cs=new z(null,"Inf","Inf",647172781,null),ds=new z("cljs.core","map","cljs.core/map",-338988913,null),Lb=new C(null,"dup","dup",556298533),es=new C(null,"prefix-context","prefix-context",-1269613591),fs=new C(null,"init-db","init-db",1595181278),gs=new C("cljs.spec.alpha","rep","cljs.spec.alpha/rep",1483217317),hs=new C(null,"suffix","suffix",367373057),
is=new C("reitit.trie","trie-compiler","reitit.trie/trie-compiler",2125029755),js=new C(null,"qwith","qwith",-45809392),ks=new z(null,"defn-","defn-",1097765044,null),ls=new C(null,"div.flex.hover:bg-teal-50","div.flex.hover:bg-teal-50",84339423),ms=new C(null,"div.p-2","div.p-2",-325121057),ns=new C(null,"required","required",1807647006),os=new C(null,"buffer","buffer",617295198),ps=new C(null,"inherit","inherit",-1840815422),qs=new C(null,"msg_","msg_",-1925147E3),rs=new C("db.pull","attr","db.pull/attr",
-533298746),ss=new C(null,"opt-keys","opt-keys",1262688261),ts=new z(null,"when-not","when-not",-1223136340,null),us=new C(null,"component-did-mount","component-did-mount",-1126910518),vs=new C(null,"top-displace","top-displace",-2094589019),ws=new C(null,"path-parts","path-parts",945822894),xs=new C("db","valueType","db/valueType",1827971944),ys=new C("db","ident","db/ident",-737096),zs=new z(null,"re-pattern","re-pattern",1047705161,null),As=new C(null,"conflicting","conflicting",2003828416),Bs=
new C(null,"column","column",2078222095),Cs=new C(null,"thaw-fn","thaw-fn",-240544261),Ds=new C(null,"div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3","div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3",-415679671),Es=new C(null,"recursion-limit","recursion-limit",52345639),Fs=new C(null,"up-arrow","up-arrow",1705310333),Gs=new z(null,"contains?","contains?",-1676812576,null),Hs=new z(null,"true?","true?",-1600332395,null),Is=new C(null,"bracket","bracket",-600276523),
Js=new C(null,"logical-block-callback","logical-block-callback",1612691194),Ks=new C("db.cardinality","many","db.cardinality/many",772806234),Ls=new C(null,"form-params","form-params",1884296467),Ms=new C(null,"weeks","weeks",1844596125),Ns=new C(null,"mincol","mincol",1230695445),Os=new C(null,"listen-key","listen-key",51973686),Ps=new C(null,"itemSize","itemSize",197086731),Qs=new C("reitit.exception","cause","reitit.exception/cause",2130128734),Rs=new C(null,"deref","deref",-145586795),Ss=new C("cljs.spec.alpha",
"unknown","cljs.spec.alpha/unknown",651034818),Ts=new C(null,"max-iterations","max-iterations",2021275563),Us=new C(null,"output_","output_",-36797880),Vs=new C("widget","uuid","widget/uuid",-585315811),Ws=new z(null,"deftype*","deftype*",962659890,null),Xs=new C(null,"rep+","rep+",-281382396),Ys=new z(null,"NaN","NaN",666918153,null),Zs=new C(null,"msecs","msecs",1711980553),$s=new z(null,"defmacro","defmacro",2054157304,null),at=new z(null,"vector","vector",-751469611,null),bt=new C("cljs.spec.alpha",
"conform-all","cljs.spec.alpha/conform-all",45201917),ct=new C(null,"loading","loading",-737050189),dt=new C(null,"ns","ns",441598760),et=new C(null,"expected","expected",1583670997),ft=new C(null,"div.flex-1","div.flex-1",2004402050),gt=new C("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),ht=new C(null,"preferStrings","preferStrings",-1532249482),it=new z(null,"cljs.core","cljs.core",770546058,null),jt=new C(null,"xmlns","xmlns",-1862095571),kt=new C(null,
"p2","p2",905500641),lt=new z(null,"defrecord*","defrecord*",-1936366207,null),mt=new C(null,"p1","p1",-936759954),nt=new C(null,"type-tag","type-tag",-1873863267),ot=new C(null,"ms","ms",-1152709733),pt=new C(null,"readers","readers",-2118263030),qt=new z(null,"!\x3d","!\x3d",-201205829,null),rt=new C("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),st=new C(null,"on-dispose","on-dispose",2105306360),tt=new C("db.type","tuple","db.type/tuple",938234914),ut=new C("lookup-ref","unique","lookup-ref/unique",
-960647710),vt=new z("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),wt=new C(null,"headers","headers",-835030129),xt=new C(null,"processing","processing",-1576405467),yt=new C("widget.type","codemirror","widget.type/codemirror",2093288987),zt=new C(null,"arrayBuilder","arrayBuilder",1446317421),At=new C(null,"end-line","end-line",1837326455),Bt=new z(null,"fn*","fn*",-752876845,null),Ct=new C(null,"ks","ks",1900203942),Dt=new C("transact","syntax","transact/syntax",-299207078),
Et=new C(null,"source","source",-433931539),Ft=new C(null,"bindings","bindings",1271397192),Gt=new z("cljs.core","fn","cljs.core/fn",-1065745098,null),Ht=new z(null,"median","median",-2084869638,null),It=new C(null,"circle","circle",1903212362),zl=new C(null,"descendants","descendants",1824886031),Jt=new z(null,"validate-schema","validate-schema",758884380,null),Kt=new C(null,"strs","strs",1175537277),Lt=new C(null,"start","start",-355208981),Mt=new z(null,"complement","complement",-913606051,null),
Nt=new C(null,"on-click","on-click",1632826543),Ot=new z(null,"resolve-datom","resolve-datom",-294110827,null),Pt=new C(null,"length","length",588987862),Qt=new z(null,"with-open","with-open",172119667,null),Rt=new C(null,"ps","ps",292358046),St=new C(null,"not-delivered","not-delivered",1599158697),Tt=new z(null,"if-not","if-not",-265415609,null),Ut=new C(null,"db-before","db-before",-553691536),Vt=new z(null,"\x3d\x3d","\x3d\x3d",-234118149,null),Wt=new z("cljs.core","unquote","cljs.core/unquote",
1013085760,null),Xt=new C(null,"div.flex.border-b.border-teal-500.pb-1.mb-1","div.flex.border-b.border-teal-500.pb-1.mb-1",271713629),Yt=new C(null,"no-cache","no-cache",1588056370),Zt=new C(null,"serialize","serialize",-69216574),$t=new z(null,"dotimes","dotimes",-818708397,null),au=new C(null,"raw-console?","raw-console?",-2061489061),bu=new C(null,"exception","exception",-335277064),cu=new C(null,"conform-keys","conform-keys",-1800041814),du=new C(null,"op","op",-1882987955),eu=new z(null,"finally",
"finally",-1065347064,null),fu=new z(null,"str","str",-1564826950,null),gu=new z(null,"/","/",-1371932971,null),hu=new C(null,"router","router",1091916230),iu=new C(null,"routes","routes",457900162),ju=new C(null,"buffering","buffering",-876713613),ku=new C(null,"prefix-clauses","prefix-clauses",1294180028),lu=new C(null,"illegal-argument","illegal-argument",-1845493170),mu=new C(null,"opt-un","opt-un",883442496),nu=new C(null,"rule","rule",729973257),ou=new C("widget.codemirror","width","widget.codemirror/width",
851267293),pu=new C(null,"template","template",-702405684),qu=new C(null,"wildcard?","wildcard?",-686044101),ru=new z(null,"pos?","pos?",-244377722,null),su=new C("query","inputs","query/inputs",1042810394),tu=new C(null,"attribute","attribute",-2074029119),uu=new z(null,"default","default",-347290801,null),vu=new C(null,"tx","tx",466630418),wu=new z(null,"locking","locking",1542862874,null),xu=new C(null,"function-components","function-components",1492814963),yu=new z(null,"subs","subs",1453849536,
null),zu=new C(null,"parameters","parameters",-1229919748),Au=new C(null,"seq","seq",-1817803783),Bu=new z(null,"pr-str","pr-str",-2066912145,null),Cu=new C(null,"set","set",304602554),Du=new z(null,"or-join","or-join",591375469,null),Eu=new z(null,"sum","sum",1777518341,null),Fu=new C("reitit.coercion","extract-request-format","reitit.coercion/extract-request-format",-1687953607),Gu=new z(null,"some?","some?",234752293,null),Hu=new C(null,"error","error",-978969032),Iu=new C(null,"base","base",185279322),
Ju=new z(null,"letfn*","letfn*",-110097810,null),Ku=new C(null,"prefix","prefix",-265908465),Lu=new C("geoplot.style","fill","geoplot.style/fill",-660763808),Mu=new C(null,"name-conflicts","name-conflicts",-2016386444),Nu=new C("parser","binding","parser/binding",-346395752),Ou=new C(null,"start-pos","start-pos",668789086),ol=new C(null,"keyword-fn","keyword-fn",-64566675),Pu=new C(null,"first","first",-644103046),Qu=new z(null,"re-seq","re-seq",-2105554076,null),Ru=new C(null,"?err","?err",549653299),
Su=new C(null,"body-params","body-params",-369749490),Tu=new z(null,"recur","recur",1202958259,null),Uu=new C("widget.type","markdown","widget.type/markdown",177221797),Vu=new C("parser","rule-var","parser/rule-var",-1584354459),Wu=new C(null,"callback","callback",-705136228),Xu=new C("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),Yu=new C(null,"span","span",1394872991),Zu=new C(null,"terminators","terminators",-1448255712),$u=new C(null,"async?","async?",1523057758),av=new C(null,"viewBox",
"viewBox",-469489477),bv=new C(null,"itemCount","itemCount",1702035352),cv=new C("entity-id","missing","entity-id/missing",1234588374),dv=new z(null,"count","count",-514511684,null),ev=new C(null,"displace","displace",-1153355602),fv=new C("reitit.trie","parameters","reitit.trie/parameters",-1304786787),gv=new C(null,"qfind","qfind",1529332972),hv=new C(null,"handler","handler",-195596612),iv=new C(null,"intra-block-nl","intra-block-nl",1808826875),jv=new C("parser","rule-vars","parser/rule-vars",
-1493174969),kv=new C(null,"gen-max","gen-max",-793680445),Kb=new C(null,"meta","meta",1499536964),lv=new z(null,"not-join","not-join",-645515756,null),mv=new C("widget.type","html","widget.type/html",-2034153477),nv=new C(null,"datoms","datoms",-290874434),ov=new C("geoplot.feature","style","geoplot.feature/style",-895485302),pv=new C(null,"right","right",-452581833),qv=new C(null,"compile","compile",608186429),rv=new z(null,"when","when",1064114221,null),sv=new z("cljs.core","set?","cljs.core/set?",
-1176684971,null),tv=new C(null,"logical-blocks","logical-blocks",-1466339776),uv=new z(null,"\x3e\x3d","\x3e\x3d",1016916022,null),vv=new C(null,"find","find",496279456),wv=new C(null,"rate-limit","rate-limit",1748082022),xv=new z(null,"nil?","nil?",1612038930,null),yv=new C("widget.geoplot","height","widget.geoplot/height",774138358),Bv=new C(null,"ref?","ref?",1932693720),Dv=new C(null,"start-col","start-col",668080143),Ev=new C(null,"transact","transact",-267998670),Fv=new C("widget.geoplot",
"width","widget.geoplot/width",-600671533),Gv=new C(null,"into","into",-150836029),Hv=new z(null,"set!","set!",250714521,null),Iv=new C(null,"title","title",636505583),Jv=new C("widget.geoplot","style","widget.geoplot/style",1499653960),Kv=new C(null,"new","new",-2085437848),Lv=new C("db","retract","db/retract",-1549825231),Mv=new C(null,"free","free",801364328),Nv=new C(null,"cljsLegacyRender","cljsLegacyRender",-1527295613),Ov=new z(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Pv=new C(null,"ex-kind",
"ex-kind",1581199296),Qv=new C(null,"schema","schema",-1582001791),Rv=new C(null,"tx-data","tx-data",934159761),Sv=new C(null,"amp","amp",271690571),Tv=new C("db.unique","value","db.unique/value",276903088),Uv=new C("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),Vv=new C("reitit.coercion","parameter-coercion","reitit.coercion/parameter-coercion",-1825124100),Wv=new z(null,"-Inf","-Inf",-2123243689,null),Xv=new z(null,"name","name",-810760592,null),Yv=new C(null,"padchar","padchar",
2018584530),Zv=new C(null,"children","children",-940561982),Mb=new C(null,"print-length","print-length",1931866356),$v=new C(null,"nil","nil",99600501),aw=new z(null,"odd?","odd?",-1458588199,null),bw=new C("widget.type","vega-embed","widget.type/vega-embed",-887166019),cw=new C(null,"with-let44499","with-let44499",-1422052875),dw=new C(null,"popstate-listener","popstate-listener",806944472),ew=new C(null,"buffer-block","buffer-block",-10937307),fw=new C("db.pull","reverse","db.pull/reverse",1999788297),
gw=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),hw=new z(null,"keyword","keyword",-1843046022,null),iw=new C(null,"div.prose.prose-sm","div.prose.prose-sm",430504998),jw=new C("db","attrTuples","db/attrTuples",860541631),kw=new C(null,"stroke-linecap","stroke-linecap",-1201103248),lw=new C("datascript.db","internal","datascript.db/internal",-249301114),mw=new z(null,"rand","rand",-1745930995,null),nw=new C(null,"prepend","prepend",342616040),ow=new C(null,"pull-attrs","pull-attrs",
-974863177),pw=new C(null,"on-write","on-write",31519475),qw=new z(null,"set","set",1945134081,null),rw=new C(null,"commainterval","commainterval",-1980061083),sw=new C(null,"query-params","query-params",900640534),tw=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),uw=new C(null,"keywordize?","keywordize?",-234306912),vw=new C(null,"on-mouse-leave","on-mouse-leave",-1864319528),ww=new C(null,"separator","separator",-1628749125),xw=new z("datascript","Datom","datascript/Datom",
-901340080,null),yw=new z(null,"defonce","defonce",-1681484013,null),zw=new C("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),Aw=new C(null,"buffer-level","buffer-level",928864731),Bw=new C("reitit.trie","unclosed-brackets","reitit.trie/unclosed-brackets",1599327560),fl=new C(null,"pending","pending",-220036727),Jb=new C(null,"readably","readably",1129599760),Cw=new C(null,"contextTypes","contextTypes",-2023853910),Dw=new C("datascript.impl.entity","nf","datascript.impl.entity/nf",
-953741353),Ew=new C(null,"file","file",-1269645878),Fw=new C(null,"rschema","rschema",-1196134054),Gw=new C(null,"fill","fill",883462889),Hw=new C("widget.table","columns","widget.table/columns",2077293308),Iw=new C(null,"attrs","attrs",-2090668713),Jw=new C(null,"months","months",-45571637),Kw=new C(null,"radix","radix",857016463),Lw=new C(null,"distinct","distinct",-1788879121),Mw=new C(null,"block","block",664686210),Nw=new C(null,"div.flex.space-x-2","div.flex.space-x-2",191162917),Ow=new C(null,
"variable","variable",-281346492),Al=new C(null,"ancestors","ancestors",-776045424),Pw=new C(null,"listeners","listeners",394544445),Qw=new C(null,"min-remaining","min-remaining",962687677),Rw=new C(null,"offset","offset",296498311),Sw=new z(null,"-\x3e","-\x3e",-2139605430,null),Tw=new C(null,"db-after","db-after",-571884666),Uw=new C(null,"render","render",-1408033454),Vw=new C(null,"entity","entity",-450970276),Ww=new C(null,"arglists","arglists",1661989754),Xw=new z(null,"js*","js*",-1134233646,
null),Yw=new C(null,"end-pos","end-pos",-1643883926),Zw=new C(null,"auto-run","auto-run",1958400437),$w=new C(null,"min-version","min-version",-1697197126),ax=new C(null,"pred-forms","pred-forms",172611832),bx=new C(null,"hours","hours",58380855),cx=new z(null,"tuple","tuple",1167864243,null),dx=new z(null,"count-distinct","count-distinct",-1566572514,null),ex=new z(null,"defn","defn",-126010802,null),fx=new z(null,"struct","struct",325972931,null),gx=new C(null,"recursion-limits","recursion-limits",
1762857814),hx=new C("reitit.trie","multiple-terminators","reitit.trie/multiple-terminators",-116295163),ix=new C(null,"gfn","gfn",791517474),jx=new C(null,"namespaced-map","namespaced-map",1235665380),kx=new z(null,"prn-str","prn-str",-145225943,null),lx=new z(null,"...","...",-1926939749,null),mx=new C("widget.table","row-height","widget.table/row-height",570139217),nx=new C(null,"childContextTypes","childContextTypes",578717991),ox=new C(null,"input","input",556931961),px=new C(null,"\x3e","\x3e",
-555517146),qx=new C(null,"eavt","eavt",-666437073),rx=new C(null,"mins","mins",467369676),sx=new C(null,"tag","tag",-1290361223),tx=new C(null,"linear","linear",872268697),ux=new z(null,"new","new",-444906321,null),vx=new C(null,"syntax","syntax",-1637761676),wx=new C(null,"test","test",577538877),xx=new z(null,"\x3d","\x3d",-1501502141,null),yx=new C(null,"coerce","coerce",1917884504),zx=new z("datascript","DB","datascript/DB",-487332776,null),Kk=new C(null,"alt-impl","alt-impl",670969595),Ax=new z(null,
"not-empty","not-empty",2029453590,null),Bx=new C(null,"conflict","conflict",1978796605),Cx=new C(null,"datom","datom",-371556090),Dx=new C(null,"path","path",-188191168),Ex=new z(null,"with-local-vars","with-local-vars",837642072,null),Fx=new z(null,"and","and",668631710,null),Gx=new z(null,"throw","throw",595905694,null),Hx=new z(null,"print-str","print-str",-699700354,null),Ix=new C(null,"opt-specs","opt-specs",-384905450),Jx=new C(null,"import","import",-1399500709),Kx=new C(null,"rules","rules",
1198912366),Lx=new C(null,"character","character",380652989),Mx=new C("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),Nx=new C(null,"reagent-render","reagent-render",-985383853),Ox=new z(null,"loop*","loop*",615029416,null),Px=new C(null,"last","last",1105735132),Qx=new z("cljs.core","vector?","cljs.core/vector?",-1550392028,null),Rx=new z("cljs.core","lift-ns","cljs.core/lift-ns",463499081,null),Sx=new C(null,"k","k",-2146297393),Tx=new C(null,"div.flex.flex-1.space-x-2","div.flex.flex-1.space-x-2",
-1554471704),Ux=new C(null,"qreturn-map","qreturn-map",1841215994),Vx=new C(null,"e","e",1381269198),Wx=new C(null,"d","d",1972142424),Xx=new C(null,"a","a",-2123407586),Yx=new z(null,"pull","pull",779986722,null),Zx=new C(null,"w","w",354169001),$x=new C(null,"v","v",21465059),ay=new C("geoplot.style","stroke","geoplot.style/stroke",-1145366218),by=new C(null,"p","p",151049309),cy=new C(null,"componentWillUnmount","componentWillUnmount",1573788814),dy=new C(null,"n","n",562130025),ey=new C(null,
"func","func",-238706040),fy=new C(null,"got","got",-1674745710),gy=new z("cljs.core","contains?","cljs.core/contains?",-976526835,null),hy=new C(null,"indent-t","indent-t",528318969),iy=new C("widget.codemirror","mode","widget.codemirror/mode",-517946799),Ok=new C(null,"fallback-impl","fallback-impl",-1501286995),jy=new C(null,"lookup","lookup",1225356838),ky=new C(null,"height","height",1025178622),ly=new C("parser","rule","parser/rule",-464044566),my=new C("widget.codemirror","height","widget.codemirror/height",
-960842196),ny=new C(null,"last-fragment","last-fragment",-919830173),oy=new C(null,"req-specs","req-specs",553962313),py=new z(null,"distinct","distinct",-148347594,null),qy=new z(null,"get-else","get-else",1312024065,null),ry=new C(null,"allows-separator","allows-separator",-818967742),sy=new z(null,"p1__44257#","p1__44257#",-1166753683,null),ty=new C(null,"colon-up-arrow","colon-up-arrow",244853007),uy=new z(null,"*","*",345799209,null),vy=new z(null,"avg","avg",1837937727,null),wy=new z(null,
"not","not",1044554643,null),xy=new z("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),yy=new C("geoplot","color","geoplot/color",831577171),Bk=new C(null,"more-marker","more-marker",-14717935),zy=new C(null,"index-access","index-access",-1548960265),Ay=new C("parser","where","parser/where",-966053850),By=new C(null,"aevt","aevt",-585148059),Cy=new C(null,"nl-t","nl-t",-1608382114),Dy=new z(null,"var","var",870848730,null),Ey=new C(null,"qualifier","qualifier",125841738),
el=new C(null,"ready","ready",1086465795),Fy=new z(null,"neg?","neg?",-1902175577,null),Gy=new z(null,"untuple","untuple",-606149900,null),Hy=new C(null,"displayName","displayName",-809144601),Iy=new C("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),Jy=new z(null,"mod","mod",1510044207,null),Ky=new z(null,"cond","cond",1606708055,null),Ly=new C(null,"element","element",1974019749),My=new C(null,"char-format","char-format",-1016499218),Ny=new z(null,"type","type",-1480165421,null),Oy=new C(null,
"getDerivedStateFromError","getDerivedStateFromError",166658477),Py=new C(null,"max-columns","max-columns",1742323262),Qy=new C(null,"recursive?","recursive?",1340075244),Ry=new z(null,"when-let","when-let",-1383043480,null),Sy=new C("db","index","db/index",-1531680669),Ty=new C(null,"header","header",119441134),Uy=new C(null,"index","index",-1531685915),Vy=new C("widget.html","src","widget.html/src",1397441752),Wy=new C(null,"class","class",-2030961996),Xy=new C("datascript.db","queued-tuples","datascript.db/queued-tuples",
-762852029),Yy=new z(null,".",".",1975675962,null),Zy=new C(null,"at","at",1476951349),$y=new C(null,"span.font-bold","span.font-bold",-460884588),az=new C(null,"ignore-anchor-click?","ignore-anchor-click?",-186007337),bz=new C(null,"reverse?","reverse?",-1672868474),cz=new C("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),dz=new C("widget","markdown","widget/markdown",-145862203),ez=new C(null,"map-builder","map-builder",-1843343288),fz=new C(null,"__html","__html",674048345),
gz=new C("widget.geoplot","center","widget.geoplot/center",-530369016),hz=new C(null,"as","as",1148689641),iz=new C(null,"vargs","vargs",-966597273),jz=new C(null,"click-listen-key","click-listen-key",642240955),kz=new C(null,"queue","queue",1455835879),lz=new C("parser","find","parser/find",-801023103),mz=new C(null,"selector","selector",762528866),nz=new z("datascript.db","rschema","datascript.db/rschema",1982085018,null),oz=new C(null,"miser","miser",-556060186),pz=new C(null,"on-set","on-set",
-140953470),qz=new z(null,"inc","inc",324505433,null),rz=new C(null,"rule-vars","rule-vars",1665972520),sz=new C(null,"context","context",-830191113),tz=new C(null,"colnum","colnum",2023796854),uz=new z(null,"even?","even?",-1827825394,null),vz=new C(null,"query","query",-1288509510),wz=new C(null,"fn","fn",-1175266204),xz=new C(null,"args","args",1315556576),yz=new C(null,"freeze-kw","freeze-kw",391758233),zz=new C(null,"old","old",-1825222690),Az=new C(null,"pattern","pattern",242135423),Bz=new C(null,
"component-did-update","component-did-update",-1468549173),Cz=new C("muuntaja","request","muuntaja/request",-1616403792),Dz=new C("parser","in","parser/in",1617442048),Ez=new z("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),Fz=new C(null,"on-navigate","on-navigate",-297227908),Gz=new C(null,"hash","hash",-13781596),Hz=new z(null,"namespace","namespace",1263021155,null),Iz=new C(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",
-1334433298),Jz=new C(null,"arg3","arg3",-1486822496),Kz=new C(null,"min-level","min-level",1634684919),Lz=new C(null,"arg1","arg1",951899358),Mz=new C(null,"arg2","arg2",1729550917),Nz=new C(null,"list","list",765357683),Oz=new C("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),Pz=new z(null,"rschema","rschema",444397473,null),Qz=new C(null,"key","key",-1516042587),Rz=new C(null,"db","db",993250759),Sz=new z(null,"rand-int","rand-int",-495012157,null),Tz=new C(null,
"svg","svg",856789142),Uz=new z(null,"+","+",-740910886,null),Vz=new C(null,"generator-fn","generator-fn",811851656),Wz=new C(null,"req-keys","req-keys",514319221),Xz=new C(null,"overflowchar","overflowchar",-1620088106),Yz=new C(null,"with","with",-1536296876),yl=new C(null,"parents","parents",-2027538891),Zz=new C("widget.type","row","widget.type/row",330405211),$z=new z(null,"if-let","if-let",1803593690,null),aA=new z(null,"condp","condp",1054325175,null),bA=new z(null,"rem","rem",664046770,null),
cA=new C(null,"in","in",-1531184865),dA=new C(null,"opt","opt",-794706369),eA=new C(null,"freeze-fn","freeze-fn",-575885995),fA=new C(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),gA=new C(null,"assertion","assertion",-1645134882),hA=new C(null,"id","id",-1388402092),iA=new z(null,"?e","?e",-1194391683,null),jA=new C(null,"stream","stream",1534941648),kA=new C(null,"last-attr","last-attr",-526000708),lA=new z(null,"false?","false?",-1522377573,null),mA=new C(null,"indent","indent",
-148200125),nA=new C("db","add","db/add",235286841),oA=new C("widget.type","geoplot","widget.type/geoplot",298472257),pA=new C("reitit.trie","following-parameters","reitit.trie/following-parameters",-1072685800),qA=new C(null,"else-params","else-params",-832171646),vA=new C(null,"keyword","keyword",811389747),wA=new C(null,"end-block-t","end-block-t",1544648735),xA=new C(null,"tempids","tempids",1767509089),yA=new C(null,"max-count","max-count",1539185305);function zA(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function AA(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=yh(2,d);if(E.B(K(d),1))return d=G(d),a.C?a.C(d):a.call(null,d);d=ni(d);return a.C?a.C(d):a.call(null,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()}
function BA(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?zA(a,b,c):zA(a,b,AA(c));throw["Invalid match arg: ",u.C(b)].join("");}function CA(a,b){var c=new wb;for(b=F(b);;)if(null!=b)c.append(u.C(G(b))),b=H(b),null!=b&&c.append(a);else return c.toString()}
function DA(a,b){if(0>=b||b>=2+K(a))return Qe.B(ni(Je("",vh.B(u,F(a)))),"");if(r(Rf.B?Rf.B(1,b):Rf.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(Rf.B?Rf.B(2,b):Rf.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return Qe.B(ni(Je("",wi(ni(vh.B(u,F(a))),0,b))),Tf.B(a,b))}
function EA(a,b,c){if("/(?:)/"===u.C(b))b=DA(a,c);else if(1>c)b=ni(u.C(a).split(b));else a:for(var d=c,e=Re;;){if(1===d){b=Qe.B(e,a);break a}var f=xk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=Qe.B(e,a.substring(0,h));a=f}else{b=Qe.B(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:Jc(c)))c=null==c?null:Kc(c);else break a;else c=b;return c}function FA(a){return Ga(null==a?"":String(a))}function GA(a){a=a.indexOf("/");return 0>a?null:a}
function HA(a,b,c){a=a.indexOf(b,c);return 0>a?null:a};var IA={},JA,KA,LA,MA,NA,OA,PA=function PA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return PA.I(c)};PA.I=function(a){return fd(Ab,Bg(Vk,a))};PA.aa=0;PA.ca=function(a){return this.I(F(a))};var QA=function QA(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return QA.I(c)};QA.I=function(a){return fd(Ab,Bg(Tk,a))};QA.aa=0;QA.ca=function(a){return this.I(F(a))};
function RA(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new $d(b.slice(0),0,null):null;Bg(QA,b);fd(Ab,"\n")}function SA(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function TA(a,b,c){var d=c;for(c=Re;;){if(af(d))return new X(null,2,5,Z,[c,b],null);var e=G(d);d=H(d);e=Bg(a,new X(null,2,5,Z,[e,b],null));b=N(e,0,null);e=N(e,1,null);c=Qe.B(c,b);b=e}}function UA(a,b){var c=b;for(b=Re;;){var d=Bg(a,new X(null,1,5,Z,[c],null));c=N(d,0,null);d=N(d,1,null);if(Rb(c))return new X(null,2,5,Z,[b,d],null);b=Qe.B(b,c);c=d}}
function VA(a){return new X(null,2,5,Z,[Kh.B(W,function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);var t=N(n,0,null);N(n,1,null);k.add(new X(null,2,5,Z,[p,t],null));m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}f=G(e);k=N(f,0,null);f=N(f,1,null);h=N(f,0,null);N(f,1,null);return Je(new X(null,2,5,Z,[k,h],null),d(be(e)))}return null}},null,null)}(a)}()),
Kh.B(W,function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);N(n,0,null);n=N(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}f=G(e);k=N(f,0,null);f=N(f,1,null);N(f,0,null);f=N(f,1,null);return Je(new X(null,2,5,Z,[k,f],null),d(be(e)))}return null}},null,null)}(a)}())],null)}
function WA(a,b){return Kh.B(W,function(){return function e(d){return new fg(null,function(){for(;;){var f=F(d);if(f){if(hf(f)){var h=wd(f),k=K(h),m=jg(k);a:for(var n=0;;)if(n<k){var p=x(h,n),t=N(p,0,null);p=N(p,1,null);m.add(new X(null,2,5,Z,[t,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?lg(ng(m),e(xd(f))):lg(ng(m),null)}h=G(f);m=N(h,0,null);h=N(h,1,null);return Je(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(be(f)))}return null}},null,null)}(a)}())}
function XA(){var a=Ab;if(null!=a&&null!=a.Vf)a.Vf(a);else{var b=XA[da(null==a?null:a)];if(null!=b)b.C?b.C(a):b.call(null,a);else if(b=XA._,null!=b)b.C?b.C(a):b.call(null,a);else throw Wb("IPrettyFlush.-ppflush",a);}}function YA(a,b){a=y(y(a));return b.C?b.C(a):b.call(null,a)}function ZA(a,b,c){nh.R(y(a),O,b,c)}function $A(a,b){E.B(b,"\n")?(ZA(a,vo,0),ZA(a,$l,YA(a,$l)+1)):ZA(a,vo,YA(a,vo)+1);return fd(YA(a,Iu),b)}
function aB(a,b){var c=lh(new q(null,4,[mr,b,vo,0,$l,0,Iu,a],null));if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof JA)JA=function(d,e,f,h){this.lb=d;this.eg=e;this.fields=f;this.oi=h;this.K=1074167808;this.Y=0},JA.prototype.ha=function(d,e){return new JA(this.lb,this.eg,this.fields,e)},JA.prototype.ga=function(){return this.oi},JA.prototype.ic=function(){return this.fields},JA.prototype.td=function(){return gd(this.lb)},JA.prototype.Od=function(d,e){d=Vb(e);if(r(E.B?E.B(String,
d):E.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?ZA(this,vo,YA(this,vo)+K(e)):(ZA(this,vo,K(e)-d-1),ZA(this,$l,YA(this,$l)+K(Ih(function(f){return E.B(f,"\n")},e)))),fd(YA(this,Iu),e);if(r(E.B?E.B(Number,d):E.call(null,Number,d)))return $A(this,e);throw Error(["No matching clause: ",u.C(d)].join(""));},JA.eb=!0,JA.Qa="cljs.pprint/t_cljs$pprint21746",JA.gb=function(d){return fd(d,"cljs.pprint/t_cljs$pprint21746")};return new JA(a,b,c,W)}
function bB(a,b,c,d,e,f,h,k,m,n,p,t,w){this.parent=a;this.Sb=b;this.Jb=c;this.indent=d;this.Mb=e;this.Nb=f;this.prefix=h;this.Rb=k;this.suffix=m;this.Ob=n;this.G=p;this.D=t;this.J=w;this.K=2230716170;this.Y=139264}g=bB.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "parent":return this.parent;case "section":return this.Sb;case "start-col":return this.Jb;case "indent":return this.indent;case "done-nl":return this.Mb;case "intra-block-nl":return this.Nb;case "prefix":return this.prefix;case "per-line-prefix":return this.Rb;case "suffix":return this.suffix;case "logical-block-callback":return this.Ob;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Vn,this.parent],null),new X(null,2,5,Z,[as,this.Sb],null),new X(null,2,5,Z,[Dv,this.Jb],null),new X(null,2,5,Z,[mA,this.indent],null),new X(null,2,5,Z,[qm,this.Mb],null),new X(null,2,5,Z,[iv,this.Nb],null),new X(null,2,5,Z,[Ku,this.prefix],null),new X(null,2,5,Z,[hm,this.Rb],null),new X(null,2,5,Z,[hs,this.suffix],null),new X(null,2,5,Z,[Js,
this.Ob],null)],null),this.D))};g.qa=function(){return new Hi(this,10,new X(null,10,5,Z,[Vn,as,Dv,mA,qm,iv,Ku,hm,hs,Js],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,this.J)};g.ma=function(){return 10+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1977012399^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.parent,b.parent)&&E.B(this.Sb,b.Sb)&&E.B(this.Jb,b.Jb)&&E.B(this.indent,b.indent)&&E.B(this.Mb,b.Mb)&&E.B(this.Nb,b.Nb)&&E.B(this.prefix,b.prefix)&&E.B(this.Rb,b.Rb)&&E.B(this.suffix,b.suffix)&&E.B(this.Ob,b.Ob)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,10,[hs,null,mA,null,Vn,null,as,null,qm,null,Dv,null,Ku,null,hm,null,Js,null,iv,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "parent":case "section":case "start-col":case "indent":case "done-nl":case "intra-block-nl":case "prefix":case "per-line-prefix":case "suffix":case "logical-block-callback":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Vn,b):S.call(null,Vn,b))?new bB(c,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(as,b):S.call(null,as,b))?new bB(this.parent,c,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(Dv,b):S.call(null,Dv,b))?new bB(this.parent,this.Sb,c,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(mA,b):S.call(null,
mA,b))?new bB(this.parent,this.Sb,this.Jb,c,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(qm,b):S.call(null,qm,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,c,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(iv,b):S.call(null,iv,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,c,this.prefix,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(Ku,b):S.call(null,Ku,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,
this.Mb,this.Nb,c,this.Rb,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(hm,b):S.call(null,hm,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,c,this.suffix,this.Ob,this.G,this.D,null):r(S.B?S.B(hs,b):S.call(null,hs,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,c,this.Ob,this.G,this.D,null):r(S.B?S.B(Js,b):S.call(null,Js,b))?new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,c,this.G,
this.D,null):new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,10,5,Z,[new Y(Vn,this.parent,null),new Y(as,this.Sb,null),new Y(Dv,this.Jb,null),new Y(mA,this.indent,null),new Y(qm,this.Mb,null),new Y(iv,this.Nb,null),new Y(Ku,this.prefix,null),new Y(hm,this.Rb,null),new Y(hs,this.suffix,null),new Y(Js,this.Ob,null)],null),this.D))};
g.ha=function(a,b){return new bB(this.parent,this.Sb,this.Jb,this.indent,this.Mb,this.Nb,this.prefix,this.Rb,this.suffix,this.Ob,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function cB(a,b){for(b=Vn.C(b);;){if(null==b)return!1;if(a===b)return!0;b=Vn.C(b)}}function dB(a,b,c,d,e,f,h,k){this.va=a;this.data=b;this.Mc=c;this.ua=d;this.ta=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=dB.prototype;
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type-tag":return this.va;case "data":return this.data;case "trailing-white-space":return this.Mc;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[nt,this.va],null),new X(null,2,5,Z,[lm,this.data],null),new X(null,2,5,Z,[cn,this.Mc],null),new X(null,2,5,Z,[Ou,this.ua],null),new X(null,2,5,Z,[Yw,this.ta],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[nt,lm,cn,Ou,Yw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new dB(this.va,this.data,this.Mc,this.ua,this.ta,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1809113693^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.data,b.data)&&E.B(this.Mc,b.Mc)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[Yw,null,cn,null,nt,null,Ou,null,lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new dB(this.va,this.data,this.Mc,this.ua,this.ta,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type-tag":case "data":case "trailing-white-space":case "start-pos":case "end-pos":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(nt,b):S.call(null,nt,b))?new dB(c,this.data,this.Mc,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(lm,b):S.call(null,lm,b))?new dB(this.va,c,this.Mc,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(cn,b):S.call(null,cn,b))?new dB(this.va,this.data,c,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ou,b):S.call(null,Ou,b))?new dB(this.va,this.data,this.Mc,c,this.ta,this.G,this.D,null):r(S.B?S.B(Yw,b):S.call(null,Yw,b))?new dB(this.va,this.data,this.Mc,this.ua,c,this.G,
this.D,null):new dB(this.va,this.data,this.Mc,this.ua,this.ta,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(nt,this.va,null),new Y(lm,this.data,null),new Y(cn,this.Mc,null),new Y(Ou,this.ua,null),new Y(Yw,this.ta,null)],null),this.D))};g.ha=function(a,b){return new dB(this.va,this.data,this.Mc,this.ua,this.ta,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function eB(a,b,c,d,e,f,h,k){this.va=a;this.type=b;this.Ea=c;this.ua=d;this.ta=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=eB.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type-tag":return this.va;case "type":return this.type;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[nt,this.va],null),new X(null,2,5,Z,[un,this.type],null),new X(null,2,5,Z,[Ln,this.Ea],null),new X(null,2,5,Z,[Ou,this.ua],null),new X(null,2,5,Z,[Yw,this.ta],null)],null),this.D))};
g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[nt,un,Ln,Ou,Yw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new eB(this.va,this.type,this.Ea,this.ua,this.ta,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1640656800^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.type,b.type)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,5,[Yw,null,un,null,Ln,null,nt,null,Ou,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new eB(this.va,this.type,this.Ea,this.ua,this.ta,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type-tag":case "type":case "logical-block":case "start-pos":case "end-pos":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(nt,b):S.call(null,nt,b))?new eB(c,this.type,this.Ea,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(un,b):S.call(null,un,b))?new eB(this.va,c,this.Ea,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ln,b):S.call(null,Ln,b))?new eB(this.va,this.type,c,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ou,b):S.call(null,Ou,b))?new eB(this.va,this.type,this.Ea,c,this.ta,this.G,this.D,null):r(S.B?S.B(Yw,b):S.call(null,Yw,b))?new eB(this.va,this.type,this.Ea,this.ua,c,this.G,
this.D,null):new eB(this.va,this.type,this.Ea,this.ua,this.ta,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(nt,this.va,null),new Y(un,this.type,null),new Y(Ln,this.Ea,null),new Y(Ou,this.ua,null),new Y(Yw,this.ta,null)],null),this.D))};g.ha=function(a,b){return new eB(this.va,this.type,this.Ea,this.ua,this.ta,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function fB(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.D=f;this.J=h;this.K=2230716170;this.Y=139264}g=fB.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[nt,this.va],null),new X(null,2,5,Z,[Ln,this.Ea],null),new X(null,2,5,Z,[Ou,this.ua],null),new X(null,2,5,Z,[Yw,this.ta],null)],null),this.D))};
g.qa=function(){return new Hi(this,4,new X(null,4,5,Z,[nt,Ln,Ou,Yw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new fB(this.va,this.Ea,this.ua,this.ta,this.G,this.D,this.J)};g.ma=function(){return 4+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-414877272^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,4,[Yw,null,Ln,null,nt,null,Ou,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new fB(this.va,this.Ea,this.ua,this.ta,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(nt,b):S.call(null,nt,b))?new fB(c,this.Ea,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ln,b):S.call(null,Ln,b))?new fB(this.va,c,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ou,b):S.call(null,Ou,b))?new fB(this.va,this.Ea,c,this.ta,this.G,this.D,null):r(S.B?S.B(Yw,b):S.call(null,Yw,b))?new fB(this.va,this.Ea,this.ua,c,this.G,this.D,null):new fB(this.va,this.Ea,this.ua,this.ta,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,4,5,Z,[new Y(nt,this.va,null),new Y(Ln,this.Ea,null),new Y(Ou,this.ua,null),new Y(Yw,this.ta,null)],null),this.D))};g.ha=function(a,b){return new fB(this.va,this.Ea,this.ua,this.ta,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function gB(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.D=f;this.J=h;this.K=2230716170;this.Y=139264}g=gB.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[nt,this.va],null),new X(null,2,5,Z,[Ln,this.Ea],null),new X(null,2,5,Z,[Ou,this.ua],null),new X(null,2,5,Z,[Yw,this.ta],null)],null),this.D))};g.qa=function(){return new Hi(this,4,new X(null,4,5,Z,[nt,Ln,Ou,Yw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new gB(this.va,this.Ea,this.ua,this.ta,this.G,this.D,this.J)};g.ma=function(){return 4+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1365867980^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,4,[Yw,null,Ln,null,nt,null,Ou,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new gB(this.va,this.Ea,this.ua,this.ta,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(nt,b):S.call(null,nt,b))?new gB(c,this.Ea,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ln,b):S.call(null,Ln,b))?new gB(this.va,c,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ou,b):S.call(null,Ou,b))?new gB(this.va,this.Ea,c,this.ta,this.G,this.D,null):r(S.B?S.B(Yw,b):S.call(null,Yw,b))?new gB(this.va,this.Ea,this.ua,c,this.G,this.D,null):new gB(this.va,this.Ea,this.ua,this.ta,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,4,5,Z,[new Y(nt,this.va,null),new Y(Ln,this.Ea,null),new Y(Ou,this.ua,null),new Y(Yw,this.ta,null)],null),this.D))};g.ha=function(a,b){return new gB(this.va,this.Ea,this.ua,this.ta,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function hB(a,b,c,d,e,f,h,k,m){this.va=a;this.Ea=b;this.yc=c;this.offset=d;this.ua=e;this.ta=f;this.G=h;this.D=k;this.J=m;this.K=2230716170;this.Y=139264}g=hB.prototype;
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "relative-to":return this.yc;case "offset":return this.offset;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[nt,this.va],null),new X(null,2,5,Z,[Ln,this.Ea],null),new X(null,2,5,Z,[Qq,this.yc],null),new X(null,2,5,Z,[Rw,this.offset],null),new X(null,2,5,Z,[Ou,this.ua],null),new X(null,2,5,Z,[Yw,this.ta],null)],null),this.D))};g.qa=function(){return new Hi(this,6,new X(null,6,5,Z,[nt,Ln,Qq,Rw,Ou,Yw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new hB(this.va,this.Ea,this.yc,this.offset,this.ua,this.ta,this.G,this.D,this.J)};g.ma=function(){return 6+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1602780238^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.va,b.va)&&E.B(this.Ea,b.Ea)&&E.B(this.yc,b.yc)&&E.B(this.offset,b.offset)&&E.B(this.ua,b.ua)&&E.B(this.ta,b.ta)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,6,[Rw,null,Yw,null,Qq,null,Ln,null,nt,null,Ou,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new hB(this.va,this.Ea,this.yc,this.offset,this.ua,this.ta,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type-tag":case "logical-block":case "relative-to":case "offset":case "start-pos":case "end-pos":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(nt,b):S.call(null,nt,b))?new hB(c,this.Ea,this.yc,this.offset,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ln,b):S.call(null,Ln,b))?new hB(this.va,c,this.yc,this.offset,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Qq,b):S.call(null,Qq,b))?new hB(this.va,this.Ea,c,this.offset,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Rw,b):S.call(null,Rw,b))?new hB(this.va,this.Ea,this.yc,c,this.ua,this.ta,this.G,this.D,null):r(S.B?S.B(Ou,b):S.call(null,Ou,b))?new hB(this.va,
this.Ea,this.yc,this.offset,c,this.ta,this.G,this.D,null):r(S.B?S.B(Yw,b):S.call(null,Yw,b))?new hB(this.va,this.Ea,this.yc,this.offset,this.ua,c,this.G,this.D,null):new hB(this.va,this.Ea,this.yc,this.offset,this.ua,this.ta,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,6,5,Z,[new Y(nt,this.va,null),new Y(Ln,this.Ea,null),new Y(Qq,this.yc,null),new Y(Rw,this.offset,null),new Y(Ou,this.ua,null),new Y(Yw,this.ta,null)],null),this.D))};
g.ha=function(a,b){return new hB(this.va,this.Ea,this.yc,this.offset,this.ua,this.ta,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};var iB=function(){var a=lh(W),b=lh(W),c=lh(W),d=lh(W),e=B.F(W,iq,xl.P?xl.P():xl.call(null));return new Jl(Wd.B("cljs.pprint","write-token"),function(f,h){return nt.C(h)},e,a,b,c,d)}();
iB.bb(null,fm,function(a,b){var c=Js.C(y(y(a)));r(c)&&(c.C?c.C(Lt):c.call(null,Lt));b=Ln.C(b);c=Ku.C(b);r(c)&&fd(Iu.C(y(y(a))),c);a=YA(Iu.C(y(y(a))),vo);mh(Dv.C(b),a);return mh(mA.C(b),a)});iB.bb(null,wA,function(a,b){var c=Js.C(y(y(a)));r(c)&&(c.C?c.C(Fq):c.call(null,Fq));b=hs.C(Ln.C(b));return r(b)?fd(Iu.C(y(y(a))),b):null});
iB.bb(null,hy,function(a,b){var c=Ln.C(b),d=mA.C(c),e=Rw.C(b);b=Qq.C(b);if(r(E.B?E.B(Mw,b):E.call(null,Mw,b)))a=y(Dv.C(c));else if(r(E.B?E.B(Rn,b):E.call(null,Rn,b)))a=YA(Iu.C(y(y(a))),vo);else throw Error(["No matching clause: ",u.C(b)].join(""));return mh(d,e+a)});iB.bb(null,Hq,function(a,b){return fd(Iu.C(y(y(a))),lm.C(b))});
iB.bb(null,Cy,function(a,b){var c=E.B(un.C(b),Cm);c||(c=(c=!E.B(un.C(b),Gw))?y(qm.C(Ln.C(b))):c);r(c)?jB.B?jB.B(a,b):jB.call(null,a,b):(b=cn.C(y(y(a))),r(b)&&fd(Iu.C(y(y(a))),b));return nh.R(y(a),O,cn,null)});
function kB(a,b,c){b=F(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);if(!E.B(nt.C(h),Cy)){var k=cn.C(y(y(a)));r(k)&&fd(Iu.C(y(y(a))),k)}iB.B(a,h);nh.R(y(a),O,cn,cn.C(h));h=cn.C(y(y(a)));r(r(c)?h:c)&&(fd(Iu.C(y(y(a))),h),nh.R(y(a),O,cn,null));f+=1}else if(b=F(b))hf(b)?(d=wd(b),b=xd(b),h=d,e=K(d),d=h):(h=G(b),E.B(nt.C(h),Cy)||(d=cn.C(y(y(a))),r(d)&&fd(Iu.C(y(y(a))),d)),iB.B(a,h),nh.R(y(a),O,cn,cn.C(h)),h=cn.C(y(y(a))),r(r(c)?h:c)&&(fd(Iu.C(y(y(a))),h),nh.R(y(a),O,cn,null)),b=H(b),d=null,e=
0),f=0;else break}function lB(a,b){var c=YA(Iu.C(y(y(a))),mr),d;(d=null==c)||(a=YA(Iu.C(y(y(a))),vo),b=(b=F(b))?Yw.C(Pe(b))-Ou.C(G(b)):0,d=a+b<c);return d}function mB(a,b,c){b=y(qm.C(b));return r(b)?b:!lB(a,c)}function nB(a,b,c){var d=vr.C(y(y(a))),e=YA(Iu.C(y(y(a))),mr);return r(d)?r(e)?(d=y(Dv.C(b))>=e-d)?mB(a,b,c):d:e:d}var oB=function(){var a=lh(W),b=lh(W),c=lh(W),d=lh(W),e=B.F(W,iq,xl.P?xl.P():xl.call(null));return new Jl(Wd.B("cljs.pprint","emit-nl?"),function(f){return un.C(f)},e,a,b,c,d)}();
oB.bb(null,tx,function(a,b,c){a=Ln.C(a);return mB(b,a,c)});oB.bb(null,oz,function(a,b,c){a=Ln.C(a);return nB(b,a,c)});oB.bb(null,Gw,function(a,b,c,d){a=Ln.C(a);var e=y(iv.C(a));return r(e)?e:(d=!lB(b,d))?d:nB(b,a,c)});oB.bb(null,Cm,function(){return!0});function pB(a){var b=G(a),c=Ln.C(b);b=F(kk(function(d){return!(E.B(nt.C(d),Cy)&&cB(Ln.C(d),c))},H(a)));return new X(null,2,5,Z,[b,F(xh(K(b)+1,a))],null)}
function qB(a){var b=G(a),c=Ln.C(b);return F(kk(function(d){var e=Ln.C(d);return!(E.B(nt.C(d),Cy)&&(E.B(e,c)||cB(e,c)))},H(a)))}function jB(a,b){fd(Iu.C(y(y(a))),"\n");nh.R(y(a),O,cn,null);b=Ln.C(b);var c=hm.C(b);r(c)&&fd(Iu.C(y(y(a))),c);c=Bg(u,Ch(y(mA.C(b))-K(c)," "));fd(Iu.C(y(y(a))),c);a:for(mh(iv.C(b),!0),mh(qm.C(b),!0),a=Vn.C(b);;)if(r(a))mh(qm.C(a),!0),mh(iv.C(a),!0),a=Vn.C(a);else break a;return null}
function rB(a){var b=F(kk(function(c){return!E.B(nt.C(c),Cy)},a));return new X(null,2,5,Z,[b,F(xh(K(b),a))],null)}var sB=function sB(a,b){var d=rB(b);b=N(d,0,null);var e=N(d,1,null);r(b)&&kB(a,b,!1);if(r(e)){d=pB(e);b=N(d,0,null);d=N(d,1,null);var f=G(e),h=oB.R(f,a,b,qB(e));r(h)&&(jB(a,f),e=H(e));lB(a,e)?a=e:(e=sB.B?sB.B(a,b):sB.call(null,a,b),E.B(e,b)?(kB(a,b,!1),a=d):a=Kh.B(Re,V.B(e,d)));return a}return null};
function tB(a){for(var b=os.C(y(y(a)));;){nh.R(y(a),O,os,Kh.B(Re,b));if(lB(a,b))return null;var c=sB(a,b);if(b!==c)b=c;else return null}}function uB(a,b){nh.R(y(a),O,os,Qe.B(os.C(y(y(a))),b));return lB(a,os.C(y(y(a))))?null:tB(a)}function vB(a){var b=cn.C(y(y(a)));return r(b)?(fd(Iu.C(y(y(a))),b),nh.R(y(a),O,cn,null)):null}
function wB(a,b){var c=EA(b,"\n",-1);if(E.B(K(c),1))return b;b=hm.C(G(tv.C(y(y(a)))));var d=G(c);if(E.B(ju,kr.C(y(y(a))))){var e=Bo.C(y(y(a))),f=e+K(d);nh.R(y(a),O,Bo,f);uB(a,new dB(Hq,d,null,e,f,null,null,null));tB(a);d=os.C(y(y(a)));r(d)&&(kB(a,d,!0),nh.R(y(a),O,os,Re))}else vB(a),fd(Iu.C(y(y(a))),d);fd(Iu.C(y(y(a))),"\n");d=F(H(hk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.Da(null,h);fd(Iu.C(y(y(a))),k);fd(Iu.C(y(y(a))),"\n");r(b)&&fd(Iu.C(y(y(a))),b);h+=1}else if(d=F(d))e=d,hf(e)?(d=wd(e),h=
xd(e),e=d,f=K(d),d=h):(d=G(e),fd(Iu.C(y(y(a))),d),fd(Iu.C(y(y(a))),"\n"),r(b)&&fd(Iu.C(y(y(a))),b),d=H(e),e=null,f=0),h=0;else break;nh.R(y(a),O,ju,Sn);return Pe(c)}
function xB(a){var b=yB,c=zB,d=new bB(null,null,lh(0),lh(0),lh(!1),lh(!1),null,null,null,null,null,null,null),e=lh(yj([tv,vr,ew,Jo,Fp,kr,Bo,cn,Iu,Aw,os],[d,c,d,!0,null,Sn,0,null,aB(a,b),1,Re]));if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof KA)KA=function(f,h,k,m,n,p){this.lb=f;this.eg=h;this.Oi=k;this.gi=m;this.fields=n;this.ri=p;this.K=1074167808;this.Y=0},KA.prototype.ha=function(f,h){return new KA(this.lb,this.eg,this.Oi,this.gi,this.fields,h)},KA.prototype.ga=function(){return this.ri},
KA.prototype.ic=function(){return this.fields},KA.prototype.Od=function(f,h){f=Vb(h);if(r(E.B?E.B(String,f):E.call(null,String,f))){var k=wB(this,h);h=k.replace(/\s+$/,"");f=Tf.B(k,h.length);var m=kr.C(y(y(this)));if(E.B(m,Sn))return vB(this),fd(Iu.C(y(y(this))),h),nh.R(y(this),O,cn,f);m=Bo.C(y(y(this)));k=m+K(k);nh.R(y(this),O,Bo,k);return uB(this,new dB(Hq,h,f,m,k,null,null,null))}if(r(E.B?E.B(Number,f):E.call(null,Number,f)))return E.B(kr.C(y(y(this))),Sn)?(vB(this),h=fd(Iu.C(y(y(this))),h)):E.B(h,
"\n")?h=wB(this,"\n"):(f=Bo.C(y(y(this))),k=f+1,nh.R(y(this),O,Bo,k),h=Lf(h),h=uB(this,new dB(Hq,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",u.C(f)].join(""));},KA.prototype.td=function(){this.Vf(null);return gd(Iu.C(y(y(this))))},KA.prototype.Vf=function(){return E.B(kr.C(y(y(this))),ju)?(kB(this,os.C(y(y(this))),!0),nh.R(y(this),O,os,Re)):vB(this)},KA.eb=!0,KA.Qa="cljs.pprint/t_cljs$pprint24562",KA.gb=function(f){return fd(f,"cljs.pprint/t_cljs$pprint24562")};return new KA(a,
b,c,d,e,W)}function AB(a,b){var c=Ab;b=new bB(tv.C(y(y(c))),null,lh(0),lh(0),lh(!1),lh(!1),a,null,b,null,null,null,null);nh.R(y(c),O,tv,b);if(E.B(kr.C(y(y(c))),Sn)){vB(c);var d=Js.C(y(y(c)));r(d)&&(d.C?d.C(Lt):d.call(null,Lt));r(a)&&fd(Iu.C(y(y(c))),a);c=YA(Iu.C(y(y(c))),vo);mh(b.Jb,c);mh(b.indent,c)}else d=Bo.C(y(y(c))),a=d+(r(a)?K(a):0),nh.R(y(c),O,Bo,a),uB(c,new fB(fm,b,d,a,null,null,null))}
function BB(){var a=Ab,b=tv.C(y(y(a))),c=hs.C(b);if(E.B(kr.C(y(y(a))),Sn)){vB(a);r(c)&&fd(Iu.C(y(y(a))),c);var d=Js.C(y(y(a)));r(d)&&(d.C?d.C(Fq):d.call(null,Fq))}else d=Bo.C(y(y(a))),c=d+(r(c)?K(c):0),nh.R(y(a),O,Bo,c),uB(a,new gB(wA,b,d,c,null,null,null));nh.R(y(a),O,tv,Vn.C(b))}var CB=!0,DB=null,yB=72,zB=40,EB=null,FB=null,GB=null,HB=null,IB=10,JB=0,KB=null;function LB(a){var b=null!=a?a.K&32768||l===a.Fg?!0:a.K?!1:Ub(Nc,a):Ub(Nc,a);return b?Jo.C(y(y(a))):b}
function MB(a){var b=KB;r(b)&&(b=Eb,b=r(b)?KB>=Eb:b);Rb(CB)?QA.call(null,a):r(b)?fd(Ab,"..."):(r(KB)&&(KB+=1),DB.call(null,a));return b}var NB=function NB(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $d(c.slice(1),0,null):null;return NB.I(arguments[0],c)};
NB.I=function(a,b){var c=Wj.I(M([new q(null,1,[jA,!0],null),Bg(Rj,b)]));b=IB;var d=FB,e=Eb,f=Fb,h=EB,k=zB,m=DB,n=CB,p=HB,t=Db,w=yB,A=GB,D=Iu.B(c,IB),I=It.B(c,FB),J=Pt.B(c,Eb),T=Ul.B(c,Fb),P=Gp.B(c,EB),U=vr.B(c,zB),ea=Dr.B(c,DB),ra=No.B(c,CB),Ha=Kw.B(c,HB),va=Jb.B(c,Db),hb=Rm.B(c,yB),Ya=Tn.B(c,GB);IB=D;FB=I;Eb=J;Fb=T;EB=P;zB=U;DB=ea;CB=ra;HB=Ha;Db=va;yB=hb;GB=Ya;try{var Ea=new wb,Ma=R(c,jA)?jA.C(c):!0,za=!0===Ma||null==Ma?new Gd(Ea):Ma;if(r(CB)){var Ba=Rb(LB(za));c=Ab;Ab=Ba?xB(za):za;try{MB(a),XA()}finally{Ab=
c}}else{Ba=Ab;Ab=za;try{QA.call(null,a)}finally{Ab=Ba}}!0===Ma&&Dk(u.C(Ea));return null==Ma?u.C(Ea):null}finally{GB=A,yB=w,Db=t,HB=p,CB=n,DB=m,zB=k,EB=h,Fb=f,Eb=e,FB=d,IB=b}};NB.aa=1;NB.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};
function OB(){var a=new X(null,6,5,Z,[vv,new X(null,2,5,Z,[Xf(Yx,iA,new X(null,1,5,Z,[no],null)),lx],null),cA,en,Ym,new X(null,2,5,Z,[iA,Vs],null)],null);var b=y(PB);a=QB.B?QB.B(a,b):QB.call(null,a,b);b=new wb;var c=Ab;Ab=new Gd(b);try{var d=Ab,e=Rb(LB(d)),f=Ab;Ab=e?xB(d):d;try{e=CB;CB=!0;try{MB(a)}finally{CB=e}E.B(0,YA(Ab,vo))||fd(Ab,"\n");XA()}finally{Ab=f}Dk(u.C(b))}finally{Ab=c}}
function RB(a,b){if(Rb(b.C?b.C(a):b.call(null,a)))throw Error(["Bad argument: ",u.C(a),". It must be one of ",u.C(b)].join(""));}function SB(){var a=Fb;return r(a)?JB>=Fb:a}function TB(a){RB(a,new bk(null,new q(null,4,[Cm,null,oz,null,Gw,null,tx,null],null),null));var b=Ab;nh.R(y(b),O,kr,ju);var c=Bo.C(y(y(b))),d=tv.C(y(y(b)));uB(b,new eB(Cy,a,d,c,c,null,null,null))}
function UB(a,b){RB(a,new bk(null,new q(null,2,[Mw,null,Rn,null],null),null));var c=Ab,d=tv.C(y(y(c)));if(E.B(kr.C(y(y(c))),Sn)){vB(c);var e=mA.C(d);if(r(E.B?E.B(Mw,a):E.call(null,Mw,a)))a=y(Dv.C(d));else if(r(E.B?E.B(Rn,a):E.call(null,Rn,a)))a=YA(Iu.C(y(y(c))),vo);else throw Error(["No matching clause: ",u.C(a)].join(""));mh(e,b+a)}else e=Bo.C(y(y(c))),uB(c,new hB(hy,d,a,b,e,e,null,null,null))}
function VB(a,b,c){b="string"===typeof b?WB(b):b;c=XB(c);a:{var d=new wb,e=Rb(a)||!0===a?new Gd(d):a,f=YB(b)&&Rb(LB(e))?r(LB(e))?e:xB(e):e,h=Ab;Ab=f;try{try{ZB(b,c)}finally{e!==f&&gd(f)}var k=Rb(a)?u.C(d):!0===a?Dk(u.C(d)):null;break a}finally{Ab=h}k=void 0}return k}var $B=null;function aC(a,b){a=[u.C(a),"\n",u.C($B),"\n",u.C(Bg(u,Ch(b," "))),"^\n"].join("");throw Error(a);}function bC(a,b,c,d,e,f){this.nd=a;this.rest=b;this.pos=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=bC.prototype;
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "seq":return this.nd;case "rest":return this.rest;case "pos":return this.pos;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Au,this.nd],null),new X(null,2,5,Z,[ep,this.rest],null),new X(null,2,5,Z,[Bo,this.pos],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Au,ep,Bo],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new bC(this.nd,this.rest,this.pos,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-402038447^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.nd,b.nd)&&E.B(this.rest,b.rest)&&E.B(this.pos,b.pos)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[Bo,null,Au,null,ep,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new bC(this.nd,this.rest,this.pos,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "seq":case "rest":case "pos":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Au,b):S.call(null,Au,b))?new bC(c,this.rest,this.pos,this.G,this.D,null):r(S.B?S.B(ep,b):S.call(null,ep,b))?new bC(this.nd,c,this.pos,this.G,this.D,null):r(S.B?S.B(Bo,b):S.call(null,Bo,b))?new bC(this.nd,this.rest,c,this.G,this.D,null):new bC(this.nd,this.rest,this.pos,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Au,this.nd,null),new Y(ep,this.rest,null),new Y(Bo,this.pos,null)],null),this.D))};g.ha=function(a,b){return new bC(this.nd,this.rest,this.pos,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function XB(a){a=F(a);return new bC(a,a,0,null,null,null)}
function cC(a){var b=ep.C(a);if(r(b))return new X(null,2,5,Z,[G(b),new bC(Au.C(a),H(b),Bo.C(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}function dC(a){var b=cC(a);a=N(b,0,null);b=N(b,1,null);a="string"===typeof a?WB(a):a;return new X(null,2,5,Z,[a,b],null)}function eC(a,b){return b>=Bo.C(a)?(b=Bo.C(a)-b,fC.B?fC.B(a,b):fC.call(null,a,b)):new bC(Au.C(a),xh(b,Au.C(a)),b,null,null,null)}
function fC(a,b){var c=Bo.C(a)+b;return 0>b?eC(a,c):new bC(Au.C(a),xh(b,ep.C(a)),c,null,null,null)}function gC(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.D=f;this.J=h;this.K=2230716170;this.Y=139264}g=gC.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[ey,this.func],null),new X(null,2,5,Z,[Jm,this.def],null),new X(null,2,5,Z,[ap,this.params],null),new X(null,2,5,Z,[Rw,this.offset],null)],null),this.D))};g.qa=function(){return new Hi(this,4,new X(null,4,5,Z,[ey,Jm,ap,Rw],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new gC(this.func,this.def,this.params,this.offset,this.G,this.D,this.J)};g.ma=function(){return 4+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-829256337^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.func,b.func)&&E.B(this.def,b.def)&&E.B(this.params,b.params)&&E.B(this.offset,b.offset)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,4,[Rw,null,ey,null,ap,null,Jm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new gC(this.func,this.def,this.params,this.offset,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "func":case "def":case "params":case "offset":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(ey,b):S.call(null,ey,b))?new gC(c,this.def,this.params,this.offset,this.G,this.D,null):r(S.B?S.B(Jm,b):S.call(null,Jm,b))?new gC(this.func,c,this.params,this.offset,this.G,this.D,null):r(S.B?S.B(ap,b):S.call(null,ap,b))?new gC(this.func,this.def,c,this.offset,this.G,this.D,null):r(S.B?S.B(Rw,b):S.call(null,Rw,b))?new gC(this.func,this.def,this.params,c,this.G,this.D,null):new gC(this.func,this.def,this.params,this.offset,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,4,5,Z,[new Y(ey,this.func,null),new Y(Jm,this.def,null),new Y(ap,this.params,null),new Y(Rw,this.offset,null)],null),this.D))};g.ha=function(a,b){return new gC(this.func,this.def,this.params,this.offset,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function hC(a,b){var c=N(a,0,null);a=N(a,1,null);var d=N(a,0,null);a=N(a,1,null);d=R(new bk(null,new q(null,2,[Ip,null,Zy,null],null),null),c)?new X(null,2,5,Z,[d,b],null):E.B(d,Yr)?cC(b):E.B(d,gw)?new X(null,2,5,Z,[K(ep.C(b)),b],null):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function iC(a,b){b=TA(hC,b,a);a=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[Kh.B(W,a),b],null)}
var jC=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);
function kC(a,b,c){c=cC(c);var d=N(c,0,null);c=N(c,1,null);if(pf(d))if(E.B(IB,10))var e=[u.C(d),r(HB)?".":null].join("");else{e=u;var f=e.C;if(r(HB)){var h=B.B(jC,IB);h=r(h)?h:["#",u.C(IB),"r"].join("")}else h=null;e=[f.call(e,h),u.C(lC(IB,d))].join("")}else e=null;a=r(e)?e:a.C?a.C(d):a.call(null,d);d=a.length;e=d+Mp.C(b);e=e>=Ns.C(b)?e:e+(Of(Ns.C(b)-e-1,Kn.C(b))+1)*Kn.C(b);d=Bg(u,Ch(e-d,Yv.C(b)));r(Zy.C(b))?PA.I(M([[u.C(d),u.C(a)].join("")])):PA.I(M([[u.C(a),u.C(d)].join("")]));return c}
function mC(a,b){return Wf(G(UA(function(c){return 0<c?new X(null,2,5,Z,[Pf(c,a),Of(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}function lC(a,b){return 0===b?"0":Bg(u,vh.B(function(c){return 10>c?Lf(SA("0")+c):Lf(SA("a")+(c-10))},mC(a,b)))}function nC(a,b){return Wf(G(UA(function(c){return new X(null,2,5,Z,[F(Wf(wh.B(a,c))),F(xh(a,c))],null)},Wf(b))))}
function oC(a,b,c){c=cC(c);var d=N(c,0,null);c=N(c,1,null);if(pf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&E.B(d,Math.floor(d))){var e=0>d,f=lC(a,e?-d:d);a=r(Ip.C(b))?function(){var h=vh.B(function(m){return Bg(u,m)},nC(rw.C(b),f)),k=Ch(K(h),gp.C(b));return Bg(u,H(Fh.B(k,h)))}():f;a=e?["-",u.C(a)].join(""):r(Zy.C(b))?["+",u.C(a)].join(""):a;a=a.length<Ns.C(b)?[u.C(Bg(u,Ch(Ns.C(b)-a.length,Yv.C(b)))),u.C(a)].join(""):a;PA.I(M([a]))}else kC(Vk,new q(null,5,[Ns,
Ns.C(b),Kn,1,Mp,0,Yv,Yv.C(b),Zy,!0],null),XB(new X(null,1,5,Z,[d],null)));return c}
var pC=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),qC=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),rC=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),sC=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),tC=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function uC(a){var b=Of(a,100);a=Pf(a,100);var c=0<b?[u.C(Ae(pC,b))," hundred"].join(""):null,d=u,e=d.C;if(0<a)if(20>a)var f=Ae(pC,a);else{f=Of(a,10);var h=Pf(a,10);f=[u.C(0<f?Ae(rC,f):null),0<f&&0<h?"-":null,u.C(0<h?Ae(pC,h):null)].join("")}else f=null;return[c,0<b&&0<a?" ":null,e.call(d,f)].join("")}
function vC(a,b){var c=K(a),d=Re;--c;var e=G(a);for(a=H(a);;){if(null==a)return[u.C(Bg(u,xh(1,Fh.B(Bh(", "),d)))),af(e)||af(d)?null:", ",u.C(e),!af(e)&&0<c+b?[" ",u.C(Ae(tC,c+b))].join(""):null].join("");d=af(e)?d:Qe.B(d,[u.C(e)," ",u.C(Ae(tC,c+b))].join(""));--c;e=G(a);a=H(a)}}
var wC=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),xC=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function yC(a,b){b=cC(b);var c=N(b,0,null);b=N(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=mC(10,c);c=Re;for(var e=K(d)-1;;)if(af(d)){PA.I(M([Bg(u,c)]));break}else{var f=G(d);c=E.B(0,f)?c:Qe.B(c,Ae(Ae(a,e),f-1));--e;d=H(d)}}else oC(10,new q(null,5,[Ns,0,Yv," ",gp,",",rw,3,Ip,!0],null),XB(new X(null,1,5,Z,[c],null)));return b}var zC=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function AC(a,b){a=cC(b);b=N(a,0,null);a=N(a,1,null);var c=SA(b);b=c&127;c&=128;var d=B.B(zC,b);0<c&&PA.I(M(["Meta-"]));PA.I(M([r(d)?d:32>b?["Control-",u.C(Lf(b+64))].join(""):E.B(b,127)?"Control-?":Lf(b)]));return a}
function BC(a,b){var c=cC(b);b=N(c,0,null);c=N(c,1,null);a=My.C(a);if(r(E.B?E.B("o",a):E.call(null,"o",a)))VB(!0,"\\o~3,'0o",M([SA(b)]));else if(r(E.B?E.B("u",a):E.call(null,"u",a)))VB(!0,"\\u~4,'0x",M([SA(b)]));else if(r(E.B?E.B(null,a):E.call(null,null,a)))fd(Ab,r(E.B?E.B("\b",b):E.call(null,"\b",b))?"\\backspace":r(E.B?E.B(" ",b):E.call(null," ",b))?"\\space":r(E.B?E.B("\t",b):E.call(null,"\t",b))?"\\tab":r(E.B?E.B("\n",b):E.call(null,"\n",b))?"\\newline":r(E.B?E.B("\f",b):E.call(null,"\f",b))?
"\\formfeed":r(E.B?E.B("\r",b):E.call(null,"\r",b))?"\\return":r(E.B?E.B('"',b):E.call(null,'"',b))?'\\"':r(E.B?E.B("\\",b):E.call(null,"\\",b))?"\\\\":["\\",u.C(b)].join(""));else throw Error(["No matching clause: ",u.C(a)].join(""));return c}function CC(a,b){b=cC(b);a=N(b,0,null);b=N(b,1,null);PA.I(M([a]));return b}function DC(a){a=G(a);return E.B(Fs,a)||E.B(ty,a)}
function EC(a,b,c){return Ne(TA(function(d,e){if(DC(e))return new X(null,2,5,Z,[null,e],null);e=iC(ap.C(d),e);var f=N(e,0,null);e=N(e,1,null);var h=VA(f);f=N(h,0,null);h=N(h,1,null);f=O.F(f,Gm,c);return new X(null,2,5,Z,[null,Bg(ey.C(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function FC(a){a=u.C(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,u.C(a.length-1)],null):new X(null,2,5,Z,[[Tf.F(a,0,c),Tf.B(a,c+1)].join(""),u.C(c-1)],null):0>c?new X(null,2,5,Z,[Tf.F(a,0,b),Tf.B(a,b+1)],null):new X(null,2,5,Z,[[Tf.F(a,0,1),Tf.F(a,2,b)].join(""),Tf.B(a,b+1)],null);b=N(a,0,null);a=N(a,1,null);a:if(c=K(b),0<c&&E.B(Ae(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(E.B(Ae(b,c),"0"))--c;else{b=Tf.F(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
E.B(Ae(c,0),"0"))for(var e=0;;){if(E.B(e,d)||!E.B(Ae(c,e),"0")){c=Tf.B(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&E.B(Ae(a,0),"+")?Tf.B(a,1):a;return af(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function GC(a,b,c,d){if(r(r(c)?c:d)){var e=K(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=E.B(c,0)?new X(null,4,5,Z,[["0",u.C(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=N(f,0,null);e=N(f,1,null);d=N(f,2,null);f=N(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Ae(c,d);a=Tf.F(c,0,d);if(SA(b)>=SA("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=Cg(u,"1",Ch(b+1,"0"));break a}if(E.B("9",a.charAt(c)))--c;else{b=Dg(u,Tf.F(a,0,c),Lf(SA(a.charAt(c))+
1),Ch(b-c,"0"));break a}}a=K(b)>a.length;return new X(null,3,5,Z,[a?Tf.F(b,0,K(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function HC(a,b,c){var d=0>b?new X(null,2,5,Z,[[u.C(Bg(u,Ch(-b-1,"0"))),u.C(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=N(d,0,null);var e=N(d,1,null);d=K(a);c=r(c)?e+c+1:e+1;c=d<c?[u.C(a),u.C(Bg(u,Ch(c-d,"0")))].join(""):a;0>b?b=[".",u.C(c)].join(""):(b+=1,b=[Tf.F(c,0,b),".",Tf.B(c,b)].join(""));return b}
function IC(a,b){return 0>b?[".",u.C(a)].join(""):[Tf.F(a,0,b),".",Tf.B(a,b)].join("")}
function JC(a,b){var c=Zx.C(a),d=Wx.C(a);b=cC(b);var e=N(b,0,null);b=N(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=N(f,0,null);f=N(f,1,null);f=FC(f);var k=N(f,0,null),m=N(f,1,null)+Sx.C(a);f=function(){var w=Zy.C(a);return r(w)?w:0>e}();var n=Rb(d)&&K(k)-1<=m,p=GC(k,m,d,r(c)?c-(r(f)?1:0):null);k=N(p,0,null);m=N(p,1,null);p=N(p,2,null);k=HC(k,r(p)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&E.B(k.charAt(0),"0")&&E.B(k.charAt(1),".")&&k.length>c-(r(f)?1:0):d:c)?Tf.B(k,1):k;
m=E.B(G(d),".");if(r(c)){k=d.length;k=r(f)?k+1:k;m=m&&!(k>=c);n=n&&!(k>=c);var t=m||n?k+1:k;r(function(){var w=t>c;return w?Xz.C(a):w}())?PA.I(M([Bg(u,Ch(c,Xz.C(a)))])):PA.I(M([[u.C(Bg(u,Ch(c-t,Yv.C(a)))),u.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]))}else PA.I(M([[u.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]));return b}
function KC(a,b){b=cC(b);var c=N(b,0,null);b=N(b,1,null);var d=FC(0>c?-c:c);N(d,0,null);for(N(d,1,null);;){var e=N(d,0,null),f=N(d,1,null),h=Zx.C(a),k=Wx.C(a),m=Vx.C(a),n=Sx.C(a),p=function(){var J=Tm.C(a);return r(J)?J:"E"}();d=function(){var J=Zy.C(a);return r(J)?J:0>c}();var t=0>=n,w=f-(n-1),A=u.C(Math.abs(w));p=[u.C(p),0>w?"-":"+",u.C(r(m)?Bg(u,Ch(m-A.length,"0")):null),A].join("");var D=p.length;w=K(e);e=[u.C(Bg(u,Ch(-n,"0"))),u.C(e),u.C(r(k)?Bg(u,Ch(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=r(h)?h-D:null;e=GC(e,0,E.B(n,0)?k-1:0<n?k:0>n?k-1:null,r(w)?w-(r(d)?1:0):null);w=N(e,0,null);N(e,1,null);A=N(e,2,null);e=IC(w,n);k=E.B(n,K(w))&&null==k;if(Rb(A)){if(r(h)){f=e.length+D;f=r(d)?f+1:f;var I=(t=t&&!E.B(f,h))?f+1:f;f=k&&I<h;r(function(){var J=I>h;J||(J=m,J=r(J)?D-2>m:J);return r(J)?Xz.C(a):J}())?PA.I(M([Bg(u,Ch(h,Xz.C(a)))])):PA.I(M([[u.C(Bg(u,Ch(h-I-(f?1:0),Yv.C(a)))),r(d)?0>c?"-":"+":null,t?"0":null,e,f?"0":null,p].join("")]))}else PA.I(M([[r(d)?0>c?"-":"+":null,t?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[w,f+1],null)}return b}function LC(a,b,c){var d=cC(b),e=N(d,0,null);N(d,1,null);d=FC(0>e?-e:e);var f=N(d,0,null);d=N(d,1,null);var h=Zx.C(a),k=Wx.C(a),m=Vx.C(a);d=E.B(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=JC(new q(null,6,[Zx,h,Wx,d,Sx,0,Xz,Xz.C(a),Yv,Yv.C(a),Zy,Zy.C(a)],null),b,c),PA.I(M([Bg(u,Ch(e," "))])),a):KC(a,b,c)}
function MC(a,b){b=cC(b);var c=N(b,0,null);b=N(b,1,null);var d=FC(Math.abs(c)),e=N(d,0,null),f=N(d,1,null),h=Wx.C(a),k=dy.C(a);d=Zx.C(a);var m=function(){var p=Zy.C(a);return r(p)?p:0>c}(),n=GC(e,f,h,null);e=N(n,0,null);f=N(n,1,null);n=N(n,2,null);h=HC(e,r(n)?f+1:f,h);k=[u.C(Bg(u,Ch(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);PA.I(M([[r(function(){var p=Ip.C(a);return r(p)?m:p}())?0>c?"-":"+":null,u.C(Bg(u,Ch(d-h,Yv.C(a)))),r(function(){var p=Rb(Ip.C(a));return p?m:p}())?0>c?"-":"+":
null,k].join("")]));return b}function NC(a,b){var c=mz.C(a);c=r(c)?new X(null,2,5,Z,[c,b],null):cC(b);b=N(c,0,null);c=N(c,1,null);var d=rr.C(a);b=0>b||b>=K(d)?G(Zo.C(a)):Ae(d,b);return r(b)?EC(b,c,Gm.C(a)):c}function OC(a,b){var c=cC(b);b=N(c,0,null);c=N(c,1,null);var d=rr.C(a);b=r(b)?Ne(d):G(d);return r(b)?EC(b,c,Gm.C(a)):c}function PC(a,b){var c=cC(b),d=N(c,0,null);c=N(c,1,null);var e=rr.C(a);e=r(d)?G(e):null;return r(d)?r(e)?EC(e,b,Gm.C(a)):b:c}
function QC(a,b){var c=Ts.C(a),d=G(rr.C(a));d=af(d)?dC(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=cC(d);var e=N(d,0,null);d=N(d,1,null);var f=0;e=XB(e);for(var h=-1;;){if(Rb(c)&&E.B(Bo.C(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=af(ep.C(e))&&(Rb(Ip.C(gn.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=EC(b,e,Gm.C(a));if(E.B(Fs,G(h)))return d;f+=1;var k=Bo.C(e);e=h;h=k}}
function RC(a,b){var c=Ts.C(a),d=G(rr.C(a));d=af(d)?dC(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=cC(d);var e=N(d,0,null);d=N(d,1,null);for(var f=0;;){var h=af(e)&&(Rb(Ip.C(gn.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=EC(b,XB(G(e)),XB(H(e)));if(E.B(ty,G(h)))return d;f+=1;e=H(e)}}
function SC(a,b){var c=Ts.C(a),d=G(rr.C(a)),e=af(d)?dC(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;e=N(e,1,null);for(var f=-1;;){if(Rb(c)&&E.B(Bo.C(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=af(ep.C(e))&&(Rb(Ip.C(gn.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=EC(b,e,Gm.C(a));if(E.B(Fs,G(f)))return Ne(f);d+=1;var h=Bo.C(e);e=f;f=h}}
function TC(a,b){var c=Ts.C(a),d=G(rr.C(a)),e=af(d)?dC(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;for(e=N(e,1,null);;){var f=af(ep.C(e))&&(Rb(Ip.C(gn.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=ep.C(e);f=r(f)?new X(null,2,5,Z,[G(f),new bC(Au.C(e),H(f),Bo.C(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=N(f,0,null);f=N(f,1,null);e=EC(b,XB(e),f);if(E.B(ty,G(e)))return f;e=f;d+=1}}
function UC(a,b){if(r(Ip.C(gn.C(a)))){var c=rr.C(a),d=K(c),e=1<d?jm.C(ap.C(G(G(c)))):r(Ip.C(a))?"(":null,f=Ae(c,1<d?1:0);c=2<d?jm.C(ap.C(G(Ae(c,2)))):r(Ip.C(a))?")":null;d=cC(b);b=N(d,0,null);d=N(d,1,null);if(r(SB()))fd(Ab,"#");else{var h=JB,k=KB;JB+=1;KB=0;try{AB(e,c),EC(f,XB(b),Gm.C(a)),BB()}finally{KB=k,JB=h}}a=d}else a=VC(a,b);return a}
function WC(a,b,c){for(var d=Re;;){if(af(a))return new X(null,2,5,Z,[d,b],null);var e=G(a);a:{var f=new wb,h=Ab;Ab=new Gd(f);try{var k=new X(null,2,5,Z,[EC(e,b,c),u.C(f)],null);break a}finally{Ab=h}k=void 0}b=N(k,0,null);e=N(k,1,null);if(E.B(Fs,G(b)))return new X(null,2,5,Z,[d,Ne(b)],null);a=H(a);d=Qe.B(d,e)}}
function VC(a,b){var c=function(){var P=Zo.C(a);return r(P)?WC(P,b,Gm.C(a)):null}(),d=N(c,0,null);d=N(d,0,null);c=N(c,1,null);var e=r(c)?c:b;c=function(){var P=qA.C(a);return r(P)?iC(P,e):null}();var f=N(c,0,null);c=N(c,1,null);var h=r(c)?c:e;c=function(){var P=G(Qw.C(f));return r(P)?P:0}();var k=function(){var P=G(Py.C(f));return r(P)?P:YA(Ab,mr)}(),m=rr.C(a);h=WC(m,h,Gm.C(a));var n=N(h,0,null);h=N(h,1,null);var p=function(){var P=K(n)-1+(r(Ip.C(a))?1:0)+(r(Zy.C(a))?1:0);return 1>P?1:P}();m=v.B(Ef,
vh.B(K,n));var t=Ns.C(a),w=Mp.C(a),A=Kn.C(a),D=m+p*w;t=D<=t?t:t+A*(1+Of(D-t-1,A));var I=t-m;m=function(){var P=Of(I,p);return w>P?w:P}();A=I-m*p;m=Bg(u,Ch(m,Yv.C(a)));r(r(d)?YA(Iu.C(y(y(Ab))),vo)+c+t>k:d)&&PA.I(M([d]));c=A;for(var J=n,T=function(){var P=Ip.C(a);return r(P)?P:E.B(K(J),1)&&Rb(Zy.C(a))}();;)if(F(J))PA.I(M([[u.C(Rb(T)?G(J):null),u.C(r(function(){var P=T;return r(P)?P:(P=H(J))?P:Zy.C(a)}())?m:null),u.C(0<c?Yv.C(a):null)].join("")])),--c,J=d=r(T)?J:H(J),T=!1;else break;return h}
function XC(a){if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof LA)LA=function(b,c){this.lb=b;this.si=c;this.K=1074135040;this.Y=0},LA.prototype.ha=function(b,c){return new LA(this.lb,c)},LA.prototype.ga=function(){return this.si},LA.prototype.td=function(){return gd(this.lb)},LA.prototype.Od=function(b,c){b=Vb(c);if(r(E.B?E.B(String,b):E.call(null,String,b)))return fd(this.lb,c.toLowerCase());if(r(E.B?E.B(Number,b):E.call(null,Number,b)))return fd(this.lb,Lf(c).toLowerCase());
throw Error(["No matching clause: ",u.C(b)].join(""));},LA.eb=!0,LA.Qa="cljs.pprint/t_cljs$pprint26076",LA.gb=function(b){return fd(b,"cljs.pprint/t_cljs$pprint26076")};return new LA(a,W)}
function YC(a){if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof MA)MA=function(b,c){this.lb=b;this.ti=c;this.K=1074135040;this.Y=0},MA.prototype.ha=function(b,c){return new MA(this.lb,c)},MA.prototype.ga=function(){return this.ti},MA.prototype.td=function(){return gd(this.lb)},MA.prototype.Od=function(b,c){b=Vb(c);if(r(E.B?E.B(String,b):E.call(null,String,b)))return fd(this.lb,c.toUpperCase());if(r(E.B?E.B(Number,b):E.call(null,Number,b)))return fd(this.lb,Lf(c).toUpperCase());
throw Error(["No matching clause: ",u.C(b)].join(""));},MA.eb=!0,MA.Qa="cljs.pprint/t_cljs$pprint26094",MA.gb=function(b){return fd(b,"cljs.pprint/t_cljs$pprint26094")};return new MA(a,W)}
function ZC(a,b){var c=G(a);a=r(r(b)?r(c)?Wa(c):c:b)?[c.toUpperCase(),Tf.B(a,1)].join(""):a;return Bg(u,G(UA(function(d){if(af(d))return new X(null,2,5,Z,[null,null],null);var e=RegExp("\\W\\w","g").exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[Tf.F(d,0,e),Ae(d,e).toUpperCase()].join(""),Tf.B(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function $C(a){var b=lh(!0);if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof NA)NA=function(c,d,e){this.lb=c;this.Te=d;this.ui=e;this.K=1074135040;this.Y=0},NA.prototype.ha=function(c,d){return new NA(this.lb,this.Te,d)},NA.prototype.ga=function(){return this.ui},NA.prototype.td=function(){return gd(this.lb)},NA.prototype.Od=function(c,d){c=Vb(d);if(r(E.B?E.B(String,c):E.call(null,String,c)))return fd(this.lb,ZC(d.toLowerCase(),y(this.Te))),0<d.length?mh(this.Te,Ga(Ae(d,K(d)-
1))):null;if(r(E.B?E.B(Number,c):E.call(null,Number,c)))return d=Lf(d),c=r(y(this.Te))?d.toUpperCase():d,fd(this.lb,c),mh(this.Te,Ga(d));throw Error(["No matching clause: ",u.C(c)].join(""));},NA.eb=!0,NA.Qa="cljs.pprint/t_cljs$pprint26127",NA.gb=function(c){return fd(c,"cljs.pprint/t_cljs$pprint26127")};return new NA(a,b,W)}
function aD(a){var b=lh(!1);if("undefined"===typeof xb||"undefined"===typeof IA||"undefined"===typeof OA)OA=function(c,d,e){this.lb=c;this.ye=d;this.vi=e;this.K=1074135040;this.Y=0},OA.prototype.ha=function(c,d){return new OA(this.lb,this.ye,d)},OA.prototype.ga=function(){return this.vi},OA.prototype.td=function(){return gd(this.lb)},OA.prototype.Od=function(c,d){c=Vb(d);if(r(E.B?E.B(String,c):E.call(null,String,c)))return d=d.toLowerCase(),Rb(y(this.ye))?(c=RegExp("\\S","g").exec(d),c=r(c)?c.index:
c,r(c)?(fd(this.lb,[Tf.F(d,0,c),Ae(d,c).toUpperCase(),Tf.B(d,c+1).toLowerCase()].join("")),mh(this.ye,!0)):fd(this.lb,d)):fd(this.lb,d.toLowerCase());if(r(E.B?E.B(Number,c):E.call(null,Number,c)))return d=Lf(d),c=Rb(y(this.ye)),r(c?Wa(d):c)?(mh(this.ye,!0),fd(this.lb,d.toUpperCase())):fd(this.lb,d.toLowerCase());throw Error(["No matching clause: ",u.C(c)].join(""));},OA.eb=!0,OA.Qa="cljs.pprint/t_cljs$pprint26153",OA.gb=function(c){return fd(c,"cljs.pprint/t_cljs$pprint26153")};return new OA(a,b,
W)}function bD(a,b){var c=r(Ip.C(a))?Rn:Mw;UB(c,dy.C(a));return b}function cD(a,b){a=r(Ip.C(a))?r(Zy.C(a))?Cm:Gw:r(Zy.C(a))?oz:tx;TB(a);return b}
var dD=yj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[Vm,"A",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Kn,new X(null,2,5,Z,[1,Number],null),Mp,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){return kC(Vk,a,b)}}],null),new q(null,5,[Vm,"S",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Kn,new X(null,2,5,Z,[1,Number],
null),Mp,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){return kC(Tk,a,b)}}],null),new q(null,5,[Vm,"D",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null),gp,new X(null,2,5,Z,[",",String],null),rw,new X(null,2,5,Z,[3,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,
b){return oC(10,a,b)}}],null),new q(null,5,[Vm,"B",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null),gp,new X(null,2,5,Z,[",",String],null),rw,new X(null,2,5,Z,[3,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){return oC(2,a,b)}}],null),new q(null,5,[Vm,"O",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null),gp,new X(null,2,5,Z,[",",String],
null),rw,new X(null,2,5,Z,[3,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){return oC(8,a,b)}}],null),new q(null,5,[Vm,"X",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null),gp,new X(null,2,5,Z,[",",String],null),rw,new X(null,2,5,Z,[3,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){return oC(16,a,b)}}],
null),new q(null,5,[Vm,"R",ap,new q(null,5,[Iu,new X(null,2,5,Z,[null,Number],null),Ns,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null),gp,new X(null,2,5,Z,[",",String],null),rw,new X(null,2,5,Z,[3,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(a){return r(G(Iu.C(a)))?function(b,c){return oC(Iu.C(b),b,c)}:r(function(){var b=Zy.C(a);return r(b)?Ip.C(a):b}())?function(b,c){return yC(wC,c)}:r(Zy.C(a))?function(b,c){return yC(xC,
c)}:r(Ip.C(a))?function(b,c){b=cC(c);c=N(b,0,null);b=N(b,1,null);if(E.B(0,c))PA.I(M(["zeroth"]));else{var d=mC(1E3,0>c?-c:c);if(K(d)<=K(tC)){var e=vh.B(uC,yh(1,d));e=vC(e,1);var f=Pe(d);d=Of(f,100);f=Pf(f,100);var h=0<d?[u.C(Ae(pC,d))," hundred"].join(""):null,k=u,m=k.C;if(0<f)if(20>f)var n=Ae(qC,f);else{n=Of(f,10);var p=Pf(f,10);n=0<n&&!(0<p)?Ae(sC,n):[u.C(0<n?Ae(rC,n):null),0<n&&0<p?"-":null,u.C(0<p?Ae(qC,p):null)].join("")}else n=0<d?"th":null;d=[h,0<d&&0<f?" ":null,m.call(k,n)].join("");PA.I(M([[0>
c?"minus ":null,af(e)||af(d)?af(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else oC(10,new q(null,5,[Ns,0,Yv," ",gp,",",rw,3,Ip,!0],null),XB(new X(null,1,5,Z,[c],null))),e=Pf(c,100),c=11<e||19>e,e=Pf(e,10),PA.I(M([1===e&&c?"st":2===e&&c?"nd":3===e&&c?"rd":"th"]))}return b}:function(b,c){c=cC(c);b=N(c,0,null);c=N(c,1,null);if(E.B(0,b))PA.I(M(["zero"]));else{var d=mC(1E3,0>b?-b:b);K(d)<=K(tC)?(d=vh.B(uC,d),d=vC(d,0),PA.I(M([[0>b?"minus ":null,d].join("")]))):oC(10,new q(null,5,[Ns,0,Yv,
" ",gp,",",rw,3,Ip,!0],null),XB(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[Vm,"P",ap,W,Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return function(a,b){b=r(Ip.C(a))?fC(b,-1):b;a=r(Zy.C(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],null);var c=cC(b);b=N(c,0,null);c=N(c,1,null);PA.I(M([E.B(b,1)?G(a):Ne(a)]));return c}}],null),new q(null,5,[Vm,"C",ap,new q(null,1,[My,new X(null,2,5,Z,[null,String],null)],null),Lq,new bk(null,
new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(a){return r(Ip.C(a))?AC:r(Zy.C(a))?BC:CC}],null),new q(null,5,[Vm,"F",ap,new q(null,5,[Zx,new X(null,2,5,Z,[null,Number],null),Wx,new X(null,2,5,Z,[null,Number],null),Sx,new X(null,2,5,Z,[0,Number],null),Xz,new X(null,2,5,Z,[null,String],null),Yv,new X(null,2,5,Z,[" ",String],null)],null),Lq,new bk(null,new q(null,1,[Zy,null],null),null),bs,W,Vz,function(){return JC}],null),new q(null,5,[Vm,"E",ap,new q(null,7,[Zx,new X(null,2,5,
Z,[null,Number],null),Wx,new X(null,2,5,Z,[null,Number],null),Vx,new X(null,2,5,Z,[null,Number],null),Sx,new X(null,2,5,Z,[1,Number],null),Xz,new X(null,2,5,Z,[null,String],null),Yv,new X(null,2,5,Z,[" ",String],null),Tm,new X(null,2,5,Z,[null,String],null)],null),Lq,new bk(null,new q(null,1,[Zy,null],null),null),bs,W,Vz,function(){return KC}],null),new q(null,5,[Vm,"G",ap,new q(null,7,[Zx,new X(null,2,5,Z,[null,Number],null),Wx,new X(null,2,5,Z,[null,Number],null),Vx,new X(null,2,5,Z,[null,Number],
null),Sx,new X(null,2,5,Z,[1,Number],null),Xz,new X(null,2,5,Z,[null,String],null),Yv,new X(null,2,5,Z,[" ",String],null),Tm,new X(null,2,5,Z,[null,String],null)],null),Lq,new bk(null,new q(null,1,[Zy,null],null),null),bs,W,Vz,function(){return LC}],null),new q(null,5,[Vm,"$",ap,new q(null,4,[Wx,new X(null,2,5,Z,[2,Number],null),dy,new X(null,2,5,Z,[1,Number],null),Zx,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],
null),null),bs,W,Vz,function(){return MC}],null),new q(null,5,[Vm,"%",ap,new q(null,1,[qr,new X(null,2,5,Z,[1,Number],null)],null),Lq,dk,bs,W,Vz,function(){return function(a,b){a=qr.C(a);for(var c=0;;)if(c<a)RA(),c+=1;else break;return b}}],null),new q(null,5,[Vm,"\x26",ap,new q(null,1,[qr,new X(null,2,5,Z,[1,Number],null)],null),Lq,new bk(null,new q(null,1,[No,null],null),null),bs,W,Vz,function(){return function(a,b){a=qr.C(a);0<a&&((null!=Ab?Ab.K&32768||l===Ab.Fg||(Ab.K?0:Ub(Nc,Ab)):Ub(Nc,Ab))?
E.B(0,YA(Iu.C(y(y(Ab))),vo))||RA():RA());--a;for(var c=0;;)if(c<a)RA(),c+=1;else break;return b}}],null),new q(null,5,[Vm,"|",ap,new q(null,1,[qr,new X(null,2,5,Z,[1,Number],null)],null),Lq,dk,bs,W,Vz,function(){return function(a,b){a=qr.C(a);for(var c=0;;)if(c<a)PA.I(M(["\f"])),c+=1;else break;return b}}],null),new q(null,5,[Vm,"~",ap,new q(null,1,[dy,new X(null,2,5,Z,[1,Number],null)],null),Lq,dk,bs,W,Vz,function(){return function(a,b){a=dy.C(a);PA.I(M([Bg(u,Ch(a,"~"))]));return b}}],null),new q(null,
5,[Vm,"\n",ap,W,Lq,new bk(null,new q(null,2,[Ip,null,Zy,null],null),null),bs,W,Vz,function(){return function(a,b){r(Zy.C(a))&&RA();return b}}],null),new q(null,5,[Vm,"T",ap,new q(null,2,[tz,new X(null,2,5,Z,[1,Number],null),Kn,new X(null,2,5,Z,[1,Number],null)],null),Lq,new bk(null,new q(null,2,[Zy,null,No,null],null),null),bs,W,Vz,function(a){return r(Zy.C(a))?function(b,c){var d=tz.C(b);b=Kn.C(b);var e=d+YA(Iu.C(y(y(Ab))),vo);e=0<b?Pf(e,b):0;d+=E.B(0,e)?0:b-e;PA.I(M([Bg(u,Ch(d," "))]));return c}:
function(b,c){var d=tz.C(b);b=Kn.C(b);var e=YA(Iu.C(y(y(Ab))),vo);d=e<d?d-e:E.B(b,0)?0:b-Pf(e-d,b);PA.I(M([Bg(u,Ch(d," "))]));return c}}],null),new q(null,5,[Vm,"*",ap,new q(null,1,[dy,new X(null,2,5,Z,[1,Number],null)],null),Lq,new bk(null,new q(null,2,[Ip,null,Zy,null],null),null),bs,W,Vz,function(){return function(a,b){var c=dy.C(a);return r(Zy.C(a))?eC(b,c):fC(b,r(Ip.C(a))?-c:c)}}],null),new q(null,5,[Vm,"?",ap,W,Lq,new bk(null,new q(null,1,[Zy,null],null),null),bs,W,Vz,function(a){return r(Zy.C(a))?
function(b,c){var d=dC(c);c=N(d,0,null);d=N(d,1,null);return EC(c,d,Gm.C(b))}:function(b,c){var d=dC(c);c=N(d,0,null);d=N(d,1,null);var e=cC(d);d=N(e,0,null);e=N(e,1,null);d=XB(d);EC(c,d,Gm.C(b));return e}}],null),new q(null,5,[Vm,"(",ap,W,Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,new q(null,3,[pv,")",ry,null,Zo,null],null),Vz,function(a){var b=r(function(){var c=Zy.C(a);return r(c)?Ip.C(a):c}())?YC:r(Ip.C(a))?$C:r(Zy.C(a))?aD:XC;return function(c,d){a:{var e=G(rr.C(c)),
f=Ab;Ab=b.C?b.C(Ab):b.call(null,Ab);try{var h=EC(e,d,Gm.C(c));break a}finally{Ab=f}h=void 0}return h}}],null),new q(null,5,[Vm,")",ap,W,Lq,dk,bs,W,Vz,function(){return null}],null),new q(null,5,[Vm,"[",ap,new q(null,1,[mz,new X(null,2,5,Z,[null,Number],null)],null),Lq,new bk(null,new q(null,2,[Ip,null,Zy,null],null),null),bs,new q(null,3,[pv,"]",ry,!0,Zo,Px],null),Vz,function(a){return r(Ip.C(a))?OC:r(Zy.C(a))?PC:NC}],null),new q(null,5,[Vm,";",ap,new q(null,2,[Qw,new X(null,2,5,Z,[null,Number],null),
Py,new X(null,2,5,Z,[null,Number],null)],null),Lq,new bk(null,new q(null,1,[Ip,null],null),null),bs,new q(null,1,[ww,!0],null),Vz,function(){return null}],null),new q(null,5,[Vm,"]",ap,W,Lq,dk,bs,W,Vz,function(){return null}],null),new q(null,5,[Vm,"{",ap,new q(null,1,[Ts,new X(null,2,5,Z,[null,Number],null)],null),Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,new q(null,2,[pv,"}",ry,!1],null),Vz,function(a){var b=Zy.C(a);b=r(b)?Ip.C(a):b;return r(b)?TC:r(Ip.C(a))?RC:r(Zy.C(a))?
SC:QC}],null),new q(null,5,[Vm,"}",ap,W,Lq,new bk(null,new q(null,1,[Ip,null],null),null),bs,W,Vz,function(){return null}],null),new q(null,5,[Vm,"\x3c",ap,new q(null,4,[Ns,new X(null,2,5,Z,[0,Number],null),Kn,new X(null,2,5,Z,[1,Number],null),Mp,new X(null,2,5,Z,[0,Number],null),Yv,new X(null,2,5,Z,[" ",String],null)],null),Lq,new bk(null,new q(null,4,[Ip,null,Zy,null,Cq,null,No,null],null),null),bs,new q(null,3,[pv,"\x3e",ry,!0,Zo,Pu],null),Vz,function(){return UC}],null),new q(null,5,[Vm,"\x3e",
ap,W,Lq,new bk(null,new q(null,1,[Ip,null],null),null),bs,W,Vz,function(){return null}],null),new q(null,5,[Vm,"^",ap,new q(null,3,[Lz,new X(null,2,5,Z,[null,Number],null),Mz,new X(null,2,5,Z,[null,Number],null),Jz,new X(null,2,5,Z,[null,Number],null)],null),Lq,new bk(null,new q(null,1,[Ip,null],null),null),bs,W,Vz,function(){return function(a,b){var c=Lz.C(a),d=Mz.C(a),e=Jz.C(a),f=r(Ip.C(a))?ty:Fs;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?E.B(c,d)?new X(null,
2,5,Z,[f,b],null):b:r(c)?E.B(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(Ip.C(a))?af(ep.C(Gm.C(a))):af(ep.C(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[Vm,"W",ap,W,Lq,new bk(null,new q(null,4,[Ip,null,Zy,null,Cq,null,No,null],null),null),bs,W,Vz,function(a){if(r(function(){var c=Zy.C(a);return r(c)?c:Ip.C(a)}())){var b=V.B(r(Zy.C(a))?new X(null,4,5,Z,[Ul,null,Pt,null],null):Re,r(Ip.C(a))?new X(null,2,5,Z,[No,!0],null):Re);return function(c,d){d=cC(d);c=N(d,0,null);d=N(d,1,null);return r(Cg(NB,
c,b))?new X(null,2,5,Z,[Fs,d],null):d}}return function(c,d){d=cC(d);c=N(d,0,null);d=N(d,1,null);return r(MB(c))?new X(null,2,5,Z,[Fs,d],null):d}}],null),new q(null,5,[Vm,"_",ap,W,Lq,new bk(null,new q(null,3,[Ip,null,Zy,null,Cq,null],null),null),bs,W,Vz,function(){return cD}],null),new q(null,5,[Vm,"I",ap,new q(null,1,[dy,new X(null,2,5,Z,[0,Number],null)],null),Lq,new bk(null,new q(null,1,[Ip,null],null),null),bs,W,Vz,function(){return bD}],null)]),eD=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,fD=new bk(null,
new q(null,2,[gw,null,Yr,null],null),null);
function gD(a){var b=N(a,0,null),c=N(a,1,null),d=N(a,2,null);a=new RegExp(eD.source,"g");var e=a.exec(b);return r(e)?(d=G(e),b=Tf.B(b,a.lastIndex),a=c+a.lastIndex,E.B(",",Ae(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[Tf.B(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?aC("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function hD(a){var b=N(a,0,null);a=N(a,1,null);return new X(null,2,5,Z,[E.B(b.length,0)?null:E.B(b.length,1)&&R(new bk(null,new q(null,2,["V",null,"v",null],null),null),Ae(b,0))?Yr:E.B(b.length,1)&&E.B("#",Ae(b,0))?gw:E.B(b.length,2)&&E.B("'",Ae(b,0))?Ae(b,1):parseInt(b,10),a],null)}var iD=new q(null,2,[":",Ip,"@",Zy],null);
function jD(a,b){return UA(function(c){var d=N(c,0,null),e=N(c,1,null);c=N(c,2,null);if(af(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.B(iD,G(d));return r(f)?R(c,f)?aC(['Flag "',u.C(G(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[Tf.B(d,1),e+1,O.F(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function kD(a,b){var c=Lq.C(a);r(function(){var d=Rb(Zy.C(c));return d?Zy.C(b):d}())&&aC(['"@" is an illegal flag for format directive "',u.C(Vm.C(a)),'"'].join(""),Ae(Zy.C(b),1));r(function(){var d=Rb(Ip.C(c));return d?Ip.C(b):d}())&&aC(['":" is an illegal flag for format directive "',u.C(Vm.C(a)),'"'].join(""),Ae(Ip.C(b),1));r(function(){var d=Rb(Cq.C(c));return d?(d=Zy.C(b),r(d)?Ip.C(b):d):d}())&&aC(['Cannot combine "@" and ":" flags for format directive "',u.C(Vm.C(a)),'"'].join(""),function(){var d=
Ae(Ip.C(b),1),e=Ae(Zy.C(b),1);return d<e?d:e}())}
function lD(a,b,c,d){kD(a,c);K(b)>K(ap.C(a))&&aC(VB(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Vm.C(a),K(b),K(ap.C(a))])),Ne(G(b)));vk(vh.F(function(e,f){var h=G(e);return null==h||R(fD,h)||E.B(Ne(Ne(f)),Vb(h))?null:aC(["Parameter ",eg(G(f)),' has bad type in directive "',u.C(Vm.C(a)),'": ',u.C(Vb(h))].join(""),Ne(e))},b,ap.C(a)));return Wj.I(M([Kh.B(W,Wf(function(){return function h(f){return new fg(null,function(){for(;;){var k=
F(f);if(k){if(hf(k)){var m=wd(k),n=K(m),p=jg(n);a:for(var t=0;;)if(t<n){var w=x(m,t),A=N(w,0,null);w=N(w,1,null);w=N(w,0,null);p.add(new X(null,2,5,Z,[A,new X(null,2,5,Z,[w,d],null)],null));t+=1}else{m=!0;break a}return m?lg(ng(p),h(xd(k))):lg(ng(p),null)}m=G(k);p=N(m,0,null);m=N(m,1,null);m=N(m,0,null);return Je(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(be(k)))}return null}},null,null)}(ap.C(a))}())),v.F(function(e,f){return Cg(O,e,f)},W,Ih(function(e){return G(Ae(e,1))},ik(Ni(ap.C(a)),
b))),c]))}
function mD(a,b){b=UA(gD,new X(null,3,5,Z,[a,b,!1],null));a=N(b,0,null);var c=N(b,1,null);b=N(c,0,null);c=N(c,1,null);b=jD(b,c);N(b,0,null);b=N(b,1,null);var d=N(b,0,null),e=N(b,1,null);b=N(b,2,null);c=G(d);var f=B.B(dD,c.toUpperCase()),h=r(f)?lD(f,vh.B(hD,a),b,e):null;Rb(c)&&aC("Format string ended in the middle of a directive",e);Rb(f)&&aC(['Directive "',u.C(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new gC(function(){var k=Vz.C(f);return k.B?k.B(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=Tf.B(d,1),m=e+1;if(E.B("\n",Vm.C(f))&&Rb(Ip.C(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=bf(n)?fk(n):rf([n]);for(var p=0;;){var t;(t=E.B(p,K(k)))||(t=Ae(k,p),t=n.C?n.C(t):n.call(null,t),t=Rb(t));if(t){n=p;break a}p+=1}}else n=0;k=Tf.B(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function nD(a,b){return new gC(function(c,d){PA.I(M([a]));return d},null,new q(null,1,[jm,a],null),b,null,null,null)}
function oD(a,b){var c=pD(bs.C(Jm.C(a)),Rw.C(a),b);b=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[new gC(ey.C(a),Jm.C(a),Wj.I(M([ap.C(a),WA(b,Rw.C(a))])),Rw.C(a),null,null,null),c],null)}
function qD(a,b,c){return UA(function(d){if(af(d))return aC("No closing bracket found.",b);var e=G(d);d=H(d);if(r(pv.C(bs.C(Jm.C(e)))))e=oD(e,d);else if(E.B(pv.C(a),Vm.C(Jm.C(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[bo,ap.C(e),null,d],null)],null);else{var f=ww.C(bs.C(Jm.C(e)));f=r(f)?Ip.C(ap.C(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[Zo,null,ap.C(e),d],null)],null):r(ww.C(bs.C(Jm.C(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[ww,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function pD(a,b,c){return Ne(UA(function(d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);var h=qD(a,b,d);d=N(h,0,null);var k=N(h,1,null);h=N(k,0,null);var m=N(k,1,null),n=N(k,2,null);k=N(k,3,null);return E.B(h,bo)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[Xj.I(V,M([e,Ve([r(f)?Zo:rr,new X(null,1,5,Z,[d],null),gn,m])])),k],null)],null):E.B(h,Zo)?r(Zo.C(e))?aC('Two else clauses ("~:;") inside bracket construction.',b):Rb(Zo.C(a))?aC('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
E.B(Pu,Zo.C(a))&&F(rr.C(e))?aC('The else clause ("~:;") is only allowed in the first position for this directive.',b):E.B(Pu,Zo.C(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[Xj.I(V,M([e,new q(null,2,[Zo,new X(null,1,5,Z,[d],null),qA,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[Xj.I(V,M([e,new q(null,1,[rr,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):E.B(h,ww)?r(f)?aC('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):Rb(ry.C(a))?
aC('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[Xj.I(V,M([e,new q(null,1,[rr,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[rr,Re],null),!1,c],null)))}function rD(a){return G(UA(function(b){var c=G(b);b=H(b);var d=bs.C(Jm.C(c));return r(pv.C(d))?oD(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function WB(a){var b=$B;$B=a;try{return rD(G(UA(function(c){var d=N(c,0,null);c=N(c,1,null);if(af(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[nD(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?mD(Tf.B(d,1),c+1):new X(null,2,5,Z,[nD(Tf.F(d,0,e),c),new X(null,2,5,Z,[Tf.B(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{$B=b}}
var YB=function YB(a){for(;;){if(af(a))return!1;var c=No.C(Lq.C(Jm.C(G(a))));r(c)||(c=$g(YB,G(rr.C(ap.C(G(a))))),c=r(c)?c:$g(YB,G(Zo.C(ap.C(G(a))))));if(r(c))return!0;a=H(a)}};function ZB(a,b){TA(function(c,d){if(DC(d))return new X(null,2,5,Z,[null,d],null);d=iC(ap.C(c),d);var e=N(d,0,null);d=N(d,1,null);var f=VA(e);e=N(f,0,null);f=N(f,1,null);e=O.F(e,Gm,d);return new X(null,2,5,Z,[null,Bg(ey.C(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var sD=function(a){var b=lh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new $d(h,0,null)}return d.call(this,f)}function d(e){var f=B.F(y(b),e,kf);return f===kf?(f=Bg(a,e),nh.R(b,O,e,f),f):f}c.aa=0;c.ca=function(e){e=F(e);return d(e)};c.I=d;return c}()}(WB),tD=new q(null,6,[hq,"'",Dy,"#'",jo,"@",Jq,"~",xm,"@",Wt,"~"],null);
function uD(a){var b=G(a);b=tD.C?tD.C(b):tD.call(null,b);return r(r(b)?E.B(2,K(a)):b)?(fd(Ab,b),MB(Ne(a)),!0):null}function vD(a){if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("[","]");for(var d=0,e=F(a);;){if(Rb(Eb)||d<Eb){if(e&&(MB(G(e)),H(e))){fd(Ab," ");TB(tx);a=d+1;var f=H(e);d=a;e=f;continue}}else fd(Ab,"...");break}BB()}finally{KB=c,JB=b}}return null}
(function(){var a=sD("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=XB(d);return ZB(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()})();
function wD(a){var b=ff(a)?null:function(){var m=new Xd(function(){return Yk},Rx,yj([sm,dt,Kr,Ew,Dm,Bs,$l,At,Ww,Zq,wx],[!0,it,rq,"cljs/core.cljs",15,1,10543,10543,Xf(new X(null,1,5,Z,[zn],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(Yk)?Yk.Ng:null]));return m.C?m.C(a):m.call(null,a)}(),c=N(b,0,null);b=N(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",u.C(c),"{"].join(""):"{";if(r(SB()))fd(Ab,"#");else{c=JB;b=KB;JB+=1;KB=0;try{AB(e,"}");e=0;for(var f=F(d);;){if(Rb(Eb)||e<Eb){if(f){if(r(SB()))fd(Ab,
"#");else{d=JB;var h=KB;JB+=1;KB=0;try{AB(null,null),MB(Oe(f)),fd(Ab," "),TB(tx),KB=0,MB(G(H(G(f)))),BB()}finally{KB=h,JB=d}}if(H(f)){fd(Ab,", ");TB(tx);d=e+1;var k=H(f);e=d;f=k;continue}}}else fd(Ab,"...");break}BB()}finally{KB=b,JB=c}}return null}function xD(a){return fd(Ab,Tk.I(M([a])))}
var yD=function(){var a=sD("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=XB(d);return ZB(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()}(),zD=new q(null,2,["core$future_call","Future","core$promise","Promise"],null),AD=function(){var a=sD("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=XB(d);return ZB(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()}();function BD(a){return a instanceof Ci?kz:(null!=a?a.K&32768||l===a.Fg||(a.K?0:Ub(Nc,a)):Ub(Nc,a))?Rs:a instanceof z?pq:lf(a)?Nz:ef(a)?gr:gf(a)?Eq:cf(a)?Cu:null==a?null:Kl}var CD,DD=lh(W),ED=lh(W),FD=lh(W),GD=lh(W),HD=B.F(W,iq,xl.P?xl.P():xl.call(null));
CD=new Jl(Wd.B("cljs.pprint","simple-dispatch"),BD,HD,DD,ED,FD,GD);Hl(CD,Nz,function(a){if(Rb(uD(a)))if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("(",")");for(var d=0,e=F(a);;){if(Rb(Eb)||d<Eb){if(e&&(MB(G(e)),H(e))){fd(Ab," ");TB(tx);a=d+1;var f=H(e);d=a;e=f;continue}}else fd(Ab,"...");break}BB()}finally{KB=c,JB=b}}return null});Hl(CD,Eq,vD);Hl(CD,gr,wD);Hl(CD,Cu,yD);Hl(CD,null,function(){return fd(Ab,Tk.I(M([null])))});Hl(CD,Kl,xD);DB=CD;
function ID(a){return gf(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function JD(a){if(df(a)){var b=ID(a),c=N(b,0,null),d=N(b,1,null),e=F(a),f=G(e),h=H(e);if(r(SB()))fd(Ab,"#");else{var k=JB,m=KB,n=JB+1;JB=n;KB=0;try{AB(c,d);(function(){var Ha=sD("~w~:i");return function(){function va(Ya){var Ea=null;if(0<arguments.length){Ea=0;for(var Ma=Array(arguments.length-0);Ea<Ma.length;)Ma[Ea]=arguments[Ea+0],++Ea;Ea=new $d(Ma,0,null)}return hb.call(this,Ea)}function hb(Ya){Ya=XB(Ya);return ZB(Ha,Ya)}va.aa=0;va.ca=function(Ya){Ya=F(Ya);return hb(Ya)};va.I=hb;return va}()})()(f);
for(var p=h;;)if(F(p)){(function(){var Ha=sD(" ");return function(va,hb,Ya){return function(){function Ea(za){var Ba=null;if(0<arguments.length){Ba=0;for(var mb=Array(arguments.length-0);Ba<mb.length;)mb[Ba]=arguments[Ba+0],++Ba;Ba=new $d(mb,0,null)}return Ma.call(this,Ba)}function Ma(za){za=XB(za);return ZB(Ya,za)}Ea.aa=0;Ea.ca=function(za){za=F(za);return Ma(za)};Ea.I=Ma;return Ea}()}(p," ",Ha,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var t=G(p);if(df(t)){var w=ID(t),A=N(w,0,null),D=N(w,1,null);if(r(SB()))fd(Ab,
"#");else{var I=JB,J=KB,T=JB+1;JB=T;KB=0;try{AB(A,D);if(E.B(K(t),3)&&Ne(t)instanceof C){var P=t,U=N(P,0,null),ea=N(P,1,null),ra=N(P,2,null);(function(){var Ha=sD("~w ~w ");return function(va,hb,Ya){return function(){function Ea(za){var Ba=null;if(0<arguments.length){Ba=0;for(var mb=Array(arguments.length-0);Ba<mb.length;)mb[Ba]=arguments[Ba+0],++Ba;Ba=new $d(mb,0,null)}return Ma.call(this,Ba)}function Ma(za){za=XB(za);return ZB(Ya,za)}Ea.aa=0;Ea.ca=function(za){za=F(za);return Ma(za)};Ea.I=Ma;return Ea}()}(p,
"~w ~w ",Ha,P,U,ea,ra,I,J,T,0,w,A,D,t,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,ea);df(ra)?function(){var Ha=gf(ra)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",va="string"===typeof Ha?sD(Ha):Ha;return function(hb,Ya,Ea){return function(){function Ma(Ba){var mb=null;if(0<arguments.length){mb=0;for(var pd=Array(arguments.length-0);mb<pd.length;)pd[mb]=arguments[mb+0],++mb;mb=new $d(pd,0,null)}return za.call(this,mb)}function za(Ba){Ba=XB(Ba);return ZB(Ea,Ba)}Ma.aa=0;Ma.ca=function(Ba){Ba=
F(Ba);return za(Ba)};Ma.I=za;return Ma}()}(p,Ha,va,P,U,ea,ra,I,J,T,0,w,A,D,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(ra):MB(ra)}else Bg(function(){var Ha=sD("~w ~:i~@{~w~^ ~:_~}");return function(va,hb,Ya){return function(){function Ea(za){var Ba=null;if(0<arguments.length){Ba=0;for(var mb=Array(arguments.length-0);Ba<mb.length;)mb[Ba]=arguments[Ba+0],++Ba;Ba=new $d(mb,0,null)}return Ma.call(this,Ba)}function Ma(za){za=XB(za);return ZB(Ya,za)}Ea.aa=0;Ea.ca=function(za){za=F(za);return Ma(za)};Ea.I=Ma;return Ea}()}(p,
"~w ~:i~@{~w~^ ~:_~}",Ha,I,J,T,0,w,A,D,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),t);BB()}finally{KB=J,JB=I}}H(p)&&function(){var Ha=sD("~_");return function(va,hb,Ya){return function(){function Ea(za){var Ba=null;if(0<arguments.length){Ba=0;for(var mb=Array(arguments.length-0);Ba<mb.length;)mb[Ba]=arguments[Ba+0],++Ba;Ba=new $d(mb,0,null)}return Ma.call(this,Ba)}function Ma(za){za=XB(za);return ZB(Ya,za)}Ea.aa=0;Ea.ca=function(za){za=F(za);return Ma(za)};Ea.I=Ma;return Ea}()}(p,"~_",Ha,w,A,D,t,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else MB(t),H(p)&&function(){var Ha=sD("~:_");return function(va,hb,Ya){return function(){function Ea(za){var Ba=null;if(0<arguments.length){Ba=0;for(var mb=Array(arguments.length-0);Ba<mb.length;)mb[Ba]=arguments[Ba+0],++Ba;Ba=new $d(mb,0,null)}return Ma.call(this,Ba)}function Ma(za){za=XB(za);return ZB(Ya,za)}Ea.aa=0;Ea.ca=function(za){za=F(za);return Ma(za)};Ea.I=Ma;return Ea}()}(p,"~:_",Ha,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=H(p)}else break;BB()}finally{KB=m,JB=k}}}else MB(a)}
var KD=function(){var a=sD("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=XB(d);return ZB(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()}();
function LD(a,b){F(a)&&(r(b)?function(){var c=sD(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new $d(k,0,null)}return e.call(this,h)}function e(f){f=XB(f);return ZB(c,f)}d.aa=0;d.ca=function(f){f=F(f);return e(f)};d.I=e;return d}()}()():function(){var c=sD(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new $d(k,0,null)}return e.call(this,h)}function e(f){f=XB(f);return ZB(c,f)}d.aa=0;d.ca=function(f){f=F(f);return e(f)};d.I=e;return d}()}()(),function(){var c=sD("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new $d(k,0,null)}return e.call(this,h)}function e(f){f=XB(f);return ZB(c,f)}d.aa=0;d.ca=function(f){f=F(f);return e(f)};d.I=e;return d}()}()(a))}
function MD(a){F(a)&&function(){var b=sD(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new $d(h,0,null)}return d.call(this,f)}function d(e){e=XB(e);return ZB(b,e)}c.aa=0;c.ca=function(e){e=F(e);return d(e)};c.I=d;return c}()}()(a)}
function ND(a){if(H(a)){var b=F(a);a=G(b);var c=H(b);b=G(c);c=H(c);var d="string"===typeof G(c)?new X(null,2,5,Z,[G(c),H(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);var e=ef(G(d))?new X(null,2,5,Z,[G(d),H(d)],null):new X(null,2,5,Z,[null,d],null);d=N(e,0,null);e=N(e,1,null);if(r(SB()))fd(Ab,"#");else{var f=JB,h=KB;JB+=1;KB=0;try{AB("(",")"),function(){var k=sD("~w ~1I~@_~w");return function(){function m(p){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-
0);t<w.length;)w[t]=arguments[t+0],++t;t=new $d(w,0,null)}return n.call(this,t)}function n(p){p=XB(p);return ZB(k,p)}m.aa=0;m.ca=function(p){p=F(p);return n(p)};m.I=n;return m}()}()(a,b),r(c)&&function(){var k=sD(" ~_~w");return function(){function m(p){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new $d(w,0,null)}return n.call(this,t)}function n(p){p=XB(p);return ZB(k,p)}m.aa=0;m.ca=function(p){p=F(p);return n(p)};m.I=n;return m}()}()(c),
r(d)&&function(){var k=sD(" ~_~w");return function(){function m(p){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new $d(w,0,null)}return n.call(this,t)}function n(p){p=XB(p);return ZB(k,p)}m.aa=0;m.ca=function(p){p=F(p);return n(p)};m.I=n;return m}()}()(d),gf(G(e))?LD(e,r(c)?c:d):MD(e),BB()}finally{KB=h,JB=f}}return null}return OD(a)}
function PD(a){if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("[","]");for(var d=0;;){if(Rb(Eb)||d<Eb){if(F(a)){if(r(SB()))fd(Ab,"#");else{var e=JB,f=KB;JB+=1;KB=0;try{AB(null,null),MB(G(a)),H(a)&&(fd(Ab," "),TB(oz),MB(Ne(a))),BB()}finally{KB=f,JB=e}}if(H(be(a))){fd(Ab," ");TB(tx);e=d+1;var h=H(be(a));d=e;a=h;continue}}}else fd(Ab,"...");break}BB()}finally{KB=c,JB=b}}}
function QD(a){var b=G(a);if(r(SB()))fd(Ab,"#");else{var c=JB,d=KB;JB+=1;KB=0;try{AB("(",")"),H(a)&&gf(Ne(a))?(function(){var e=sD("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new $d(n,0,null)}return h.call(this,m)}function h(k){k=XB(k);return ZB(e,k)}f.aa=0;f.ca=function(k){k=F(k);return h(k)};f.I=h;return f}()}()(b),PD(Ne(a)),function(){var e=sD(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new $d(n,0,null)}return h.call(this,m)}function h(k){k=XB(k);return ZB(e,k)}f.aa=0;f.ca=function(k){k=F(k);return h(k)};f.I=h;return f}()}()(H(be(a)))):OD(a),BB()}finally{KB=d,JB=c}}return null}
var RD=function(){var a=sD("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){d=XB(d);return ZB(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}()}(),SD=W;
function OD(a){if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("(",")");UB(Mw,1);for(var d=0,e=F(a);;){if(Rb(Eb)||d<Eb){if(e&&(MB(G(e)),H(e))){fd(Ab," ");TB(tx);a=d+1;var f=H(e);d=a;e=f;continue}}else fd(Ab,"...");break}BB()}finally{KB=c,JB=b}}return null}
var TD=function(a){return Kh.B(W,Gh(Bf,M([function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[Wd.C(eg(G(n))),Ne(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}k=G(e);return Je(new X(null,2,5,Z,[k,new X(null,2,5,Z,[Wd.C(eg(G(k))),Ne(k)],null)],null),d(be(e)))}return null}},null,null)}(a)}()])))}(function(a){return Kh.B(W,
vh.B(function(b){var c=N(b,0,null),d=N(b,1,null);var e=$f(c);e=r(e)?e:R(new bk(null,new q(null,24,[$n,"null",$o,"null",lt,"null",Sp,"null",dm,"null",eu,"null",Ox,"null",Hp,"null",Ju,"null",bq,"null",ux,"null",zq,"null",Ws,"null",hn,"null",Xw,"null",Bt,"null",Tu,"null",Hv,"null",Yy,"null",Dy,"null",hq,"null",pp,"null",Gx,"null",xo,"null"],null),null),c);return Rb(e)?new X(null,2,5,Z,[Wd.B("clojure.core",eg(c)),d],null):b},a))}(yj([Yy,Bt,on,bq,aA,Ko,$s,ex,Vr,fx,Rq,Tt,ts,xo,rv,Qt,Ex,yw,Ry,zq,$t,Ky,Wp,
lq,ks,wu,Sw,$z,xr,dp],[KD,function(a){var b=Ne(a),c=G(be(be(a)));if(gf(b)){a=SD;SD=E.B(1,K(b))?Ve([G(b),"%"]):Kh.B(W,vh.F(function(d,e){return new X(null,2,5,Z,[d,["%",u.C(e)].join("")],null)},b,pk.B(1,K(b)+1)));try{return function(){var d=sD("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new $d(m,0,null)}return f.call(this,k)}function f(h){h=XB(h);return ZB(d,h)}e.aa=
0;e.ca=function(h){h=F(h);return f(h)};e.I=f;return e}()}()(c)}finally{SD=a}}else return OD(a)},QD,RD,function(a){if(3<K(a)){if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("(",")");UB(Mw,1);Bg(function(){var k=sD("~w ~@_~w ~@_~w ~_");return function(){function m(p){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new $d(w,0,null)}return n.call(this,t)}function n(p){p=XB(p);return ZB(k,p)}m.aa=0;m.ca=function(p){p=F(p);return n(p)};
m.I=n;return m}()}(),a);for(var d=0,e=F(xh(3,a));;){if(Rb(Eb)||d<Eb){if(e){if(r(SB()))fd(Ab,"#");else{a=JB;var f=KB;JB+=1;KB=0;try{AB(null,null),MB(G(e)),H(e)&&(fd(Ab," "),TB(oz),MB(Ne(e))),BB()}finally{KB=f,JB=a}}if(H(be(e))){fd(Ab," ");TB(tx);a=d+1;var h=H(be(e));d=a;e=h;continue}}}else fd(Ab,"...");break}BB()}finally{KB=c,JB=b}}return null}return OD(a)},KD,ND,ND,QD,KD,QD,RD,RD,KD,RD,QD,QD,KD,QD,function(a){if(H(a)){var b=F(a);a=G(b);var c=H(b);b=G(c);c=H(c);var d="string"===typeof G(c)?new X(null,
2,5,Z,[G(c),H(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);d=ef(G(d))?new X(null,2,5,Z,[G(d),H(d)],null):new X(null,2,5,Z,[null,d],null);var e=N(d,0,null),f=N(d,1,null);if(r(SB()))fd(Ab,"#");else{d=JB;var h=KB;JB+=1;KB=0;try{AB("(",")");(function(){var m=sD("~w ~1I~@_~w");return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new $d(A,0,null)}return p.call(this,w)}function p(t){t=XB(t);
return ZB(m,t)}n.aa=0;n.ca=function(t){t=F(t);return p(t)};n.I=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:F(f))&&function(){var m=sD("~@:_");return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new $d(A,0,null)}return p.call(this,w)}function p(t){t=XB(t);return ZB(m,t)}n.aa=0;n.ca=function(t){t=F(t);return p(t)};n.I=p;return n}()}()();r(c)&&VB(!0,'"~a"~:[~;~:@_~]',M([c,r(e)?e:F(f)]));r(e)&&function(){var m=sD("~w~:[~;~:@_~]");
return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-0);w<A.length;)A[w]=arguments[w+0],++w;w=new $d(A,0,null)}return p.call(this,w)}function p(t){t=XB(t);return ZB(m,t)}n.aa=0;n.ca=function(t){t=F(t);return p(t)};n.I=p;return n}()}()(e,F(f));for(a=f;;){JD(G(a));var k=H(a);if(k)b=k,TB(tx),a=b;else break}BB()}finally{KB=h,JB=d}}return null}return MB(a)},QD,function(a){if(r(SB()))fd(Ab,"#");else{var b=JB,c=KB;JB+=1;KB=0;try{AB("(",")");UB(Mw,1);MB(G(a));
if(H(a)){fd(Ab," ");TB(tx);for(var d=0,e=H(a);;){if(Rb(Eb)||d<Eb){if(e){if(r(SB()))fd(Ab,"#");else{a=JB;var f=KB;JB+=1;KB=0;try{AB(null,null),MB(G(e)),H(e)&&(fd(Ab," "),TB(oz),MB(Ne(e))),BB()}finally{KB=f,JB=a}}if(H(be(e))){fd(Ab," ");TB(tx);a=d+1;var h=H(be(e));d=a;e=h;continue}}}else fd(Ab,"...");break}}BB()}finally{KB=c,JB=b}}return null},QD,ND,ND,KD,KD,QD,QD,KD]))),UD,VD=lh(W),WD=lh(W),XD=lh(W),YD=lh(W),ZD=B.F(W,iq,xl.P?xl.P():xl.call(null));
UD=new Jl(Wd.B("cljs.pprint","code-dispatch"),BD,ZD,VD,WD,XD,YD);Hl(UD,Nz,function(a){if(Rb(uD(a))){var b=TD.call(null,G(a));return r(b)?b.C?b.C(a):b.call(null,a):OD(a)}return null});Hl(UD,pq,function(a){var b=a.C?a.C(SD):a.call(null,SD);return r(b)?PA.I(M([b])):r(GB)?PA.I(M([eg(a)])):QA.call(null,a)});Hl(UD,Eq,vD);Hl(UD,gr,wD);Hl(UD,Cu,yD);Hl(UD,kz,AD);
Hl(UD,Rs,function(a){var b=u,c=b.C,d=Vb(a).name;var e=xk(/^[^$]+\$[^$]+/,d);e=r(e)?zD.C?zD.C(e):zD.call(null,e):null;b=["#\x3c",c.call(b,r(e)?e:d),"@",u.C(ia(a)),": "].join("");if(r(SB()))fd(Ab,"#");else{c=JB;d=KB;JB+=1;KB=0;try{AB(b,"\x3e");UB(Mw,-(b.length-2));TB(tx);var f=null!=a?a.Y&1||l===a.Cj?!0:a.Y?!1:Ub(jd,a):Ub(jd,a);var h=f?!kd(a):f;MB(h?St:y(a));BB()}finally{KB=d,JB=c}}return null});Hl(UD,null,QA);Hl(UD,Kl,xD);DB=CD;function $D(a,b){var c=Cg(jk,a,b);return Je(c,Jh(function(d){return c===d},b))}function aE(a,b){return K(a)<K(b)?v.F(Qe,b,a):v.F(Qe,a,b)}var bE=function bE(a){switch(arguments.length){case 1:return bE.C(arguments[0]);case 2:return bE.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return bE.I(arguments[0],arguments[1],c)}};bE.C=function(a){return a};
bE.B=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return v.F(function(d,e){return function(f,h){return R(e,h)?f:$e.B(f,h)}}(a,b),a,a)};bE.I=function(a,b,c){a=$D(function(d){return-K(d)},Qe.I(c,b,M([a])));return v.F(bE,G(a),be(a))};bE.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};bE.aa=2;
var cE=function cE(a){switch(arguments.length){case 1:return cE.C(arguments[0]);case 2:return cE.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return cE.I(arguments[0],arguments[1],c)}};cE.C=function(a){return a};cE.B=function(a,b){return K(a)<K(b)?v.F(function(c,d){return R(b,d)?$e.B(c,d):c},a,a):v.F($e,a,b)};cE.I=function(a,b,c){return v.F(cE,a,Qe.B(c,b))};
cE.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};cE.aa=2;function dE(){var a=Q.B(null,rm),b=new q(null,4,[mo,zt,ez,pm,wp,ht,Km,Bp],null);return v.F(function(c,d){var e=N(d,0,null);d=N(d,1,null);return R(a,e)?O.F(c,d,B.B(a,e)):c},Cg(Q,a,Ni(b)),b)}function eE(a,b){return K(a)<=K(b)&&Zg(function(c){return R(b,c)},a)};var fE="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Ja(a)},gE="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===da(a)};function hE(){return Math.round(15*Math.random()).toString(16)};function iE(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function jE(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function kE(){this.cacheSize=this.Rd=this.idx=0;this.cache={}}
kE.prototype.write=function(a,b){return iE(a,b)?(4096===this.cacheSize?(this.clear(),this.Rd=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[jE(this.idx),this.Rd],this.idx++,a):b[1]!=this.Rd?(b[1]=this.Rd,b[0]=jE(this.idx),this.idx++,a):b[0]):a};kE.prototype.clear=function(){this.idx=0;this.Rd++};function lE(){this.idx=0;this.cache=[]}lE.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
lE.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};lE.prototype.clear=function(){this.idx=0};var mE=1;function nE(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(gE(a)){if(gE(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!nE(a[c],b[c]))return!1;return!0}return!1}if(a.Sc)return a.Sc(b);if(null!=b&&"object"===typeof b){if(b.Sc)return b.Sc(a);c=0;var d=fE(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!nE(a[e],b[e])))return!1;return c===d}}return!1}function oE(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var pE={},qE=0;
function rE(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(sE(k)^sE(h)))%4503599627370496});else for(var c=fE(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(sE(e)^sE(f)))%4503599627370496}return b}function tE(a){var b=0;if(gE(a))for(var c=0;c<a.length;c++)b=oE(b,sE(a[c]));else a.forEach&&a.forEach(function(d){b=oE(b,sE(d))});return b}
function sE(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=pE[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;qE++;256<=qE&&(pE={},qE=1);a=pE[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=mE,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,mE++),b;default:return a instanceof Date?a.valueOf():
gE(a)?tE(a):a.ed?a.ed():rE(a)}};var uE="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function vE(a,b){this.tag=a;this.rep=b;this.Va=-1}vE.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};vE.prototype.equiv=function(a){return nE(this,a)};vE.prototype.equiv=vE.prototype.equiv;vE.prototype.Sc=function(a){return a instanceof vE?this.tag===a.tag&&nE(this.rep,a.rep):!1};vE.prototype.ed=function(){-1===this.Va&&(this.Va=oE(sE(this.tag),sE(this.rep)));return this.Va};
function wE(a,b){return new vE(a,b)}var xE=wa("9007199254740991"),yE=wa("-9007199254740991");oa.prototype.equiv=function(a){return nE(this,a)};oa.prototype.equiv=oa.prototype.equiv;oa.prototype.Sc=function(a){return a instanceof oa&&this.equals(a)};oa.prototype.ed=function(){return this.Wa};function zE(a){this._name=a;this.Va=-1}zE.prototype.toString=function(){return":"+this._name};zE.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
zE.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};zE.prototype.equiv=function(a){return nE(this,a)};zE.prototype.equiv=zE.prototype.equiv;zE.prototype.Sc=function(a){return a instanceof zE&&this._name==a._name};zE.prototype.ed=function(){-1===this.Va&&(this.Va=sE(this._name));return this.Va};function AE(a){this._name=a;this.Va=-1}
AE.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};AE.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};AE.prototype.toString=function(){return this._name};AE.prototype.equiv=function(a){return nE(this,a)};AE.prototype.equiv=AE.prototype.equiv;AE.prototype.Sc=function(a){return a instanceof AE&&this._name==a._name};
AE.prototype.ed=function(){-1===this.Va&&(this.Va=sE(this._name));return this.Va};function BE(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new oa(255,0)).shiftLeft(e);b<c;b++,e-=8,f=Aa(f,8)){var h=Aa(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function CE(a,b){this.high=a;this.low=b;this.Va=-1}CE.prototype.toString=function(){var a=this.high,b=this.low;var c=BE(a,0,4)+"-";c+=BE(a,4,6)+"-";c+=BE(a,6,8)+"-";c+=BE(b,0,2)+"-";return c+=BE(b,2,8)};
CE.prototype.equiv=function(a){return nE(this,a)};CE.prototype.equiv=CE.prototype.equiv;CE.prototype.Sc=function(a){return a instanceof CE&&this.high.equals(a.high)&&this.low.equals(a.low)};CE.prototype.ed=function(){-1===this.Va&&(this.Va=sE(this.toString()));return this.Va};Date.prototype.Sc=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.ed=function(){return this.valueOf()};function DE(a,b){this.entries=a;this.type=b||0;this.idx=0}
DE.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};DE.prototype.next=DE.prototype.next;DE.prototype[uE]=function(){return this};function EE(a,b){this.map=a;this.type=b||0;this.keys=this.map.getKeys();this.idx=0;this.Vd=null;this.Kd=0}
EE.prototype.next=function(){if(this.idx<this.map.size){null!=this.Vd&&this.Kd<this.Vd.length||(this.Vd=this.map.map[this.keys[this.idx]],this.Kd=0);var a={value:0===this.type?this.Vd[this.Kd]:1===this.type?this.Vd[this.Kd+1]:[this.Vd[this.Kd],this.Vd[this.Kd+1]],done:!1};this.idx++;this.Kd+=2;return a}return{value:null,done:!0}};EE.prototype.next=EE.prototype.next;EE.prototype[uE]=function(){return this};
function FE(a,b){if(a instanceof GE&&(b instanceof HE||b instanceof GE)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!nE(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof HE&&(b instanceof HE||b instanceof GE)){if(a.size!==b.size)return!1;a=a.Za;for(e=0;e<a.length;e+=2)if(!nE(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=fE(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!nE(b[f],a.get(f)))return!1}return!0}return!1}
function IE(a){return null==a?"null":"array"===da(a)?"["+a.toString()+"]":"string"===da(a)?'"'+a+'"':a.toString()}function JE(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=IE(e)+" \x3d\x3e "+IE(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function KE(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=IE(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function HE(a){this.Za=a;this.Pa=null;this.Va=-1;this.size=a.length/2;this.vg=0}HE.prototype.toString=function(){return JE(this)};
HE.prototype.inspect=function(){return this.toString()};function LE(a){if(a.Pa)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.vg++;return 32<a.vg?(a.Pa=ME(a.Za,!1,!0),a.Za=[],!0):!1}HE.prototype.clear=function(){this.Va=-1;this.Pa?this.Pa.clear():this.Za=[];this.size=0};HE.prototype.clear=HE.prototype.clear;HE.prototype.keys=function(){return this.Pa?this.Pa.keys():new DE(this.Za,0)};HE.prototype.keys=HE.prototype.keys;
HE.prototype.$d=function(){if(this.Pa)return this.Pa.$d();for(var a=[],b=0,c=0;c<this.Za.length;b++,c+=2)a[b]=this.Za[c];return a};HE.prototype.keySet=HE.prototype.$d;HE.prototype.entries=function(){return this.Pa?this.Pa.entries():new DE(this.Za,2)};HE.prototype.entries=HE.prototype.entries;HE.prototype.values=function(){return this.Pa?this.Pa.values():new DE(this.Za,1)};HE.prototype.values=HE.prototype.values;
HE.prototype.forEach=function(a){if(this.Pa)this.Pa.forEach(a);else for(var b=0;b<this.Za.length;b+=2)a(this.Za[b+1],this.Za[b])};HE.prototype.forEach=HE.prototype.forEach;HE.prototype.get=function(a,b){if(this.Pa)return this.Pa.get(a);if(LE(this))return this.get(a);for(var c=0;c<this.Za.length;c+=2)if(nE(this.Za[c],a))return this.Za[c+1];return b};HE.prototype.get=HE.prototype.get;
HE.prototype.has=function(a){if(this.Pa)return this.Pa.has(a);if(LE(this))return this.has(a);for(var b=0;b<this.Za.length;b+=2)if(nE(this.Za[b],a))return!0;return!1};HE.prototype.has=HE.prototype.has;HE.prototype.set=function(a,b){this.Va=-1;if(this.Pa)this.Pa.set(a,b),this.size=this.Pa.size;else{for(var c=0;c<this.Za.length;c+=2)if(nE(this.Za[c],a)){this.Za[c+1]=b;return}this.Za.push(a);this.Za.push(b);this.size++;32<this.size&&(this.Pa=ME(this.Za,!1,!0),this.Za=null)}};HE.prototype.set=HE.prototype.set;
HE.prototype["delete"]=function(a){this.Va=-1;if(this.Pa)return a=this.Pa.delete(a),this.size=this.Pa.size,a;for(var b=0;b<this.Za.length;b+=2)if(nE(this.Za[b],a))return a=this.Za[b+1],this.Za.splice(b,2),this.size--,a};HE.prototype.clone=function(){var a=ME();this.forEach(function(b,c){a.set(c,b)});return a};HE.prototype.clone=HE.prototype.clone;HE.prototype[uE]=function(){return this.entries()};HE.prototype.ed=function(){if(this.Pa)return this.Pa.ed();-1===this.Va&&(this.Va=rE(this));return this.Va};
HE.prototype.Sc=function(a){return this.Pa?FE(this.Pa,a):FE(this,a)};function GE(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.Va=-1}GE.prototype.toString=function(){return JE(this)};GE.prototype.inspect=function(){return this.toString()};GE.prototype.clear=function(){this.Va=-1;this.map={};this._keys=[];this.size=0};GE.prototype.clear=GE.prototype.clear;GE.prototype.getKeys=function(){return null!=this._keys?this._keys:fE(this.map)};
GE.prototype["delete"]=function(a){this.Va=-1;this._keys=null;for(var b=sE(a),c=this.map[b],d=0;d<c.length;d+=2)if(nE(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};GE.prototype.entries=function(){return new EE(this,2)};GE.prototype.entries=GE.prototype.entries;GE.prototype.forEach=function(a){for(var b=this.getKeys(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};GE.prototype.forEach=GE.prototype.forEach;
GE.prototype.get=function(a,b){var c=sE(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(nE(a,c[b]))return c[b+1]}else return b};GE.prototype.get=GE.prototype.get;GE.prototype.has=function(a){var b=sE(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(nE(a,b[c]))return!0;return!1};GE.prototype.has=GE.prototype.has;GE.prototype.keys=function(){return new EE(this,0)};GE.prototype.keys=GE.prototype.keys;
GE.prototype.$d=function(){for(var a=this.getKeys(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};GE.prototype.keySet=GE.prototype.$d;GE.prototype.set=function(a,b){this.Va=-1;var c=sE(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(nE(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};GE.prototype.set=GE.prototype.set;
GE.prototype.values=function(){return new EE(this,1)};GE.prototype.values=GE.prototype.values;GE.prototype.clone=function(){var a=ME();this.forEach(function(b,c){a.set(c,b)});return a};GE.prototype.clone=GE.prototype.clone;GE.prototype[uE]=function(){return this.entries()};GE.prototype.ed=function(){-1===this.Va&&(this.Va=rE(this));return this.Va};GE.prototype.Sc=function(a){return FE(this,a)};
function ME(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(nE(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new HE(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=sE(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(nE(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new GE(e,d,f)}
function NE(a){this.map=a;this.size=a.size}NE.prototype.toString=function(){return KE(this)};NE.prototype.inspect=function(){return this.toString()};NE.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};NE.prototype.add=NE.prototype.add;NE.prototype.clear=function(){this.map=new GE;this.size=0};NE.prototype.clear=NE.prototype.clear;NE.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};NE.prototype.entries=function(){return this.map.entries()};
NE.prototype.entries=NE.prototype.entries;NE.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};NE.prototype.forEach=NE.prototype.forEach;NE.prototype.has=function(a){return this.map.has(a)};NE.prototype.has=NE.prototype.has;NE.prototype.keys=function(){return this.map.keys()};NE.prototype.keys=NE.prototype.keys;NE.prototype.$d=function(){return this.map.$d()};NE.prototype.keySet=NE.prototype.$d;NE.prototype.values=function(){return this.map.values()};
NE.prototype.values=NE.prototype.values;NE.prototype.clone=function(){var a=OE();this.forEach(function(b){a.add(b)});return a};NE.prototype.clone=NE.prototype.clone;NE.prototype[uE]=function(){return this.values()};NE.prototype.Sc=function(a){if(a instanceof NE){if(this.size===a.size)return nE(this.map,a.map)}else return!1};NE.prototype.ed=function(){return sE(this.map)};
function OE(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=sE(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(nE(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new NE(new GE(c,b,d))};function PE(a){this.hc=a}
function QE(a){this.options=a||{};this.xb={};for(var b in this.defaults.xb)this.xb[b]=this.defaults.xb[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.xb[b]=this.options.handlers[b]}this.Cf=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Cf;this.lg=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.lg;this.ag=this.options.defaultHandler||this.defaults.ag;this.Xc=this.options.mapBuilder;this.ie=this.options.arrayBuilder}
QE.prototype.defaults={xb:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.lg||"undefined"==typeof aa.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=wE("b",a);else c=new aa.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof oa||(a=wa(a,10),a=0<a.compare(xE)||0>a.compare(yE)?a:a.toNumber());return a},n:function(a){return wE("n",a)},d:function(a){return parseFloat(a)},f:function(a){return wE("f",a)},c:function(a){return a},":":function(a){return new zE(a)},$:function(a){return new AE(a)},r:function(a){return wE("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=na(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new CE(f,na(e,b))},set:function(a){return OE(a)},list:function(a){return wE("list",a)},link:function(a){return wE("link",a)},cmap:function(a){return ME(a,!1)}},ag:function(a,b){return wE(a,b)},Cf:!0,lg:!0};
QE.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return iE(a,c)?(a=RE(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):RE(this,a),b;case "object":if(gE(a))if("^ "===a[0])if(this.Xc)if(17>a.length&&this.Xc.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.Xc.fromArray(d,a)}else{d=this.Xc.init(a);for(c=1;c<a.length;c+=2)d=this.Xc.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.Xc.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=ME(d,!1)}else b=SE(this,a,b,c,d);else{c=fE(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof PE)a=a[e],c=this.xb[d.hc],b=null!=c?c(this.decode(a,b,!1,!0),this):wE(d.hc,this.decode(a,b,!1,!1));else if(this.Xc)if(16>c.length&&this.Xc.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.Xc.fromArray(f,a)}else{f=this.Xc.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.Xc.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.Xc.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=ME(f,!1)}}return b}return a};QE.prototype.decode=QE.prototype.decode;
function SE(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof PE)return b=b[1],f=a.xb[e.hc],null!=f?f=f(a.decode(b,c,d,!0),a):wE(e.hc,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.ie){if(32>=b.length&&a.ie.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.ie.fromArray(f,b)}f=a.ie.init(b);for(e=0;e<b.length;e++)f=a.ie.add(f,a.decode(b[e],c,
d,!1),b);return a.ie.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function RE(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new PE(b.substring(2));var d=a.xb[c];return null==d?a.ag(c,b.substring(2)):d(b.substring(2),a)}return b};function TE(a){this.Xh=new QE(a)}function UE(a,b){this.kj=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new lE}UE.prototype.read=function(a){var b=this.cache;a=this.kj.Xh.decode(JSON.parse(a),b);this.cache.clear();return a};UE.prototype.read=UE.prototype.read;var VE=0,WE=(8|3&Math.round(14*Math.random())).toString(16),XE="transit$guid$"+(hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE()+"-"+hE()+hE()+hE()+hE()+"-4"+hE()+hE()+hE()+"-"+WE+hE()+hE()+hE()+"-"+hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE()+hE());
function YE(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[XE];null==b&&("undefined"!=typeof Object.defineProperty?(b=++VE,Object.defineProperty(a,XE,{value:b,enumerable:!1})):a[XE]=b=++VE);return b}function ZE(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function $E(){}$E.prototype.tag=function(){return"_"};$E.prototype.rep=function(){return null};
$E.prototype.stringRep=function(){return"null"};function aF(){}aF.prototype.tag=function(){return"s"};aF.prototype.rep=function(a){return a};aF.prototype.stringRep=function(a){return a};function bF(){}bF.prototype.tag=function(){return"i"};bF.prototype.rep=function(a){return a};bF.prototype.stringRep=function(a){return a.toString()};function cF(){}cF.prototype.tag=function(){return"i"};cF.prototype.rep=function(a){return a.toString()};cF.prototype.stringRep=function(a){return a.toString()};
function dF(){}dF.prototype.tag=function(){return"?"};dF.prototype.rep=function(a){return a};dF.prototype.stringRep=function(a){return a.toString()};function eF(){}eF.prototype.tag=function(){return"array"};eF.prototype.rep=function(a){return a};eF.prototype.stringRep=function(){return null};function fF(){}fF.prototype.tag=function(){return"map"};fF.prototype.rep=function(a){return a};fF.prototype.stringRep=function(){return null};function gF(){}gF.prototype.tag=function(){return"t"};
gF.prototype.rep=function(a){return a.getUTCFullYear()+"-"+ZE(a.getUTCMonth()+1,2)+"-"+ZE(a.getUTCDate(),2)+"T"+ZE(a.getUTCHours(),2)+":"+ZE(a.getUTCMinutes(),2)+":"+ZE(a.getUTCSeconds(),2)+"."+ZE(a.getUTCMilliseconds(),3)+"Z"};gF.prototype.stringRep=function(a,b){return b.rep(a)};function hF(){}hF.prototype.tag=function(){return"m"};hF.prototype.rep=function(a){return a.valueOf()};hF.prototype.stringRep=function(a){return a.valueOf().toString()};hF.prototype.getVerboseHandler=function(){return new gF};
function iF(){}iF.prototype.tag=function(){return"u"};iF.prototype.rep=function(a){return a.toString()};iF.prototype.stringRep=function(a){return a.toString()};function jF(){}jF.prototype.tag=function(){return":"};jF.prototype.rep=function(a){return a._name};jF.prototype.stringRep=function(a,b){return b.rep(a)};function kF(){}kF.prototype.tag=function(){return"$"};kF.prototype.rep=function(a){return a._name};kF.prototype.stringRep=function(a,b){return b.rep(a)};function lF(){}lF.prototype.tag=function(a){return a.tag};
lF.prototype.rep=function(a){return a.rep};lF.prototype.stringRep=function(){return null};function mF(){}mF.prototype.tag=function(){return"set"};mF.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return wE("array",b)};mF.prototype.stringRep=function(){return null};function nF(){}nF.prototype.tag=function(){return"map"};nF.prototype.rep=function(a){return a};nF.prototype.stringRep=function(){return null};function oF(){}oF.prototype.tag=function(){return"map"};
oF.prototype.rep=function(a){return a};oF.prototype.stringRep=function(){return null};function pF(){}pF.prototype.tag=function(){return"b"};pF.prototype.rep=function(a){return a.toString("base64")};pF.prototype.stringRep=function(){return null};function qF(){}qF.prototype.tag=function(){return"b"};
qF.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
qF.prototype.stringRep=function(){return null};
function rF(){this.xb={};this.set(null,new $E);this.set(String,new aF);this.set(Number,new bF);this.set(oa,new cF);this.set(Boolean,new dF);this.set(Array,new eF);this.set(Object,new fF);this.set(Date,new hF);this.set(CE,new iF);this.set(zE,new jF);this.set(AE,new kF);this.set(vE,new lF);this.set(NE,new mF);this.set(HE,new nF);this.set(GE,new oF);"undefined"!=typeof aa.Buffer&&this.set(aa.Buffer,new pF);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new qF)}
rF.prototype.get=function(a){a="string"===typeof a?this.xb[a]:this.xb[YE(a)];return null!=a?a:this.xb["default"]};rF.prototype.get=rF.prototype.get;rF.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.xb[a]=b:this.xb[YE(a)]=b};function sF(a){this.nb=a||{};this.Cf=null!=this.nb.preferStrings?this.nb.preferStrings:!0;this.gh=this.nb.objectBuilder||null;this.transform=this.nb.transform||null;this.xb=new rF;if(a=this.nb.handlers){if(gE(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.xb.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Pe=this.nb.handlerForForeign;this.Gf=this.nb.unpack||function(c){return c instanceof
HE&&null===c.Pa?c.Za:!1};this.bf=this.nb&&this.nb.verbose||!1}sF.prototype.handler=function(a){var b=this.xb.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.xb.get(a):null};function tF(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function uF(a,b,c){var d=[];if(gE(b))for(var e=0;e<b.length;e++)d.push(vF(a,b[e],!1,c));else b.forEach(function(f){d.push(vF(a,f,!1,c))});return d}function wF(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function xF(a,b){var c=a.Gf(b),d=!0;if(c){for(b=0;b<c.length&&(d=wF(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=wF(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,h){d=d&&wF(a,h)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function yF(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function zF(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.Pe&&yF(b)){if(a.bf){if(null!=b.forEach)if(xF(a,b)){var k={};b.forEach(function(m,n){k[vF(a,n,!0,!1)]=vF(a,m,!1,c)})}else{d=a.Gf(b);e=[];f=tF("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(vF(a,d[h],!1,!1)),e.push(vF(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(vF(a,n,!1,!1));e.push(vF(a,m,!1,c))});k={};k[f]=e}else for(d=fE(b),k={};h<d.length;h++)k[vF(a,d[h],!0,!1)]=vF(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(xF(a,b)){d=a.Gf(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(vF(a,d[h],!0,c)),k.push(vF(a,d[h+1],!1,c));else b.forEach(function(m,n){k.push(vF(a,n,!0,c));k.push(vF(a,m,!1,c))});return k}d=a.Gf(b);e=[];f=tF("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(vF(a,d[h],!1,c)),e.push(vF(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(vF(a,n,!1,c));e.push(vF(a,m,!1,c))});return[f,e]}k=["^ "];for(d=fE(b);h<d.length;h++)k.push(vF(a,d[h],!0,c)),k.push(vF(a,b[d[h]],
!1,c));return k}if(null!=a.gh)return a.gh(b,function(m){return vF(a,m,!0,c)},function(m){return vF(a,m,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={obj:b,type:h};throw d;}
function vF(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Pe?a.Pe(b,a.xb):null),f=e?e.tag(b):null,h=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?tF("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,tF("","",a,c,d);case "?":return c?tF("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?tF("~","z","INF",c,d):-Infinity===h?tF("~","z","-INF",c,d):isNaN(h)?tF("~","z","NaN",c,d):c||"string"===typeof h||
h instanceof oa?tF("~","i",h.toString(),c,d):h;case "d":return c?tF(h.sj,"d",h,c,d):h;case "b":return tF("~","b",h,c,d);case "'":return a.bf?(c={},b=tF("~#","'","",!0,d),c[b]=vF(a,h,!1,d),d=c):d=[tF("~#","'","",!0,d),vF(a,h,!1,d)],d;case "array":return uF(a,h,d);case "map":return zF(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=tF("~",f,h,c,d);break a}if(c||a.Cf){(a=a.bf&&e.getVerboseHandler())?(f=a.tag(b),h=a.stringRep(b,a)):h=e.stringRep(b,e);if(null!==h){d=tF("~",f,h,c,d);break a}d=
Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:h,obj:b};throw d;}}c=f;b=h;a.bf?(e={},e[tF("~#",c,"",!0,d)]=vF(a,b,!1,d),d=e):d=[tF("~#",c,"",!0,d),vF(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function AF(a,b){this.we=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new kE}AF.prototype.li=function(){return this.we};AF.prototype.marshaller=AF.prototype.li;
AF.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.we.bf?!1:this.cache;if(!1===c.marshalTop)a=vF(this.we,a,b,d);else{c=this.we;var e=JSON,f=e.stringify,h=vF;var k=c.handler(a)||(c.Pe?c.Pe(a,c.xb):null);if(null!=k)a=1===k.tag(a).length?wE("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={obj:a,type:b},d;a=f.call(e,h(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};AF.prototype.write=AF.prototype.write;
AF.prototype.register=function(a,b){this.we.xb.set(a,b)};AF.prototype.register=AF.prototype.register;function BF(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new TE(b),new UE(a,b);throw Error("Cannot create reader of type "+a);}function CF(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new sF(b),new AF(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};Ml.prototype.ba=function(a,b){return b instanceof Ml?this.pd===b.pd:b instanceof CE?this.pd===b.toString():!1};Ml.prototype.bd=l;Ml.prototype.Rc=function(a,b){if(b instanceof Ml||b instanceof CE)return sf(this.toString(),b.toString());throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};CE.prototype.bd=l;CE.prototype.Rc=function(a,b){if(b instanceof Ml||b instanceof CE)return sf(this.toString(),b.toString());throw Error(["Cannot compare ",u.C(this)," to ",u.C(b)].join(""));};
oa.prototype.ba=function(a,b){return this.equiv(b)};CE.prototype.ba=function(a,b){return b instanceof Ml?b.ba(null,this):this.equiv(b)};vE.prototype.ba=function(a,b){return this.equiv(b)};oa.prototype.hf=l;oa.prototype.ja=function(){return sE(this)};CE.prototype.hf=l;CE.prototype.ja=function(){return Sd(this.toString())};vE.prototype.hf=l;vE.prototype.ja=function(){return sE(this)};CE.prototype.Mg=l;CE.prototype.Ga=l;CE.prototype.ia=function(a,b){return fd(b,['#uuid "',u.C(this.toString()),'"'].join(""))};
function DF(a,b){for(var c=F(Ja(b)),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);a[h]=Ka(b,h);f+=1}else if(c=F(c))d=c,hf(d)?(c=wd(d),f=xd(d),d=c,e=K(c),c=f):(c=G(d),a[c]=Ka(b,c),c=H(d),d=null,e=0),f=0;else break;return a}function EF(){}EF.prototype.init=function(){return od(W)};EF.prototype.add=function(a,b,c){return sd(a,b,c)};EF.prototype.finalize=function(a){return rd(a)};EF.prototype.fromArray=function(a){return Si.F?Si.F(a,!0,!0):Si.call(null,a,!0,!0)};function FF(){}FF.prototype.init=function(){return od(Re)};
FF.prototype.add=function(a,b){return tg.B(a,b)};FF.prototype.finalize=function(a){return rd(a)};FF.prototype.fromArray=function(a){return mi.B?mi.B(a,!0):mi.call(null,a,!0)};function GF(){}GF.prototype.tag=function(){return":"};GF.prototype.rep=function(a){return a.ea};GF.prototype.stringRep=function(a){return a.ea};function HF(){}HF.prototype.tag=function(){return"$"};HF.prototype.rep=function(a){return a.hc};HF.prototype.stringRep=function(a){return a.hc};function IF(){}IF.prototype.tag=function(){return"list"};
IF.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=F(a))c=a,hf(c)?(a=wd(c),e=xd(c),c=a,d=K(a),a=e):(a=G(c),b.push(a),a=H(c),c=null,d=0),e=0;else break;return wE("array",b)};IF.prototype.stringRep=function(){return null};function JF(){}JF.prototype.tag=function(){return"map"};JF.prototype.rep=function(a){return a};JF.prototype.stringRep=function(){return null};function KF(){}KF.prototype.tag=function(){return"set"};
KF.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=F(a))c=a,hf(c)?(a=wd(c),e=xd(c),c=a,d=K(a),a=e):(a=G(c),b.push(a),a=H(c),c=null,d=0),e=0;else break;return wE("array",b)};KF.prototype.stringRep=function(){return null};function LF(){}LF.prototype.tag=function(){return"array"};
LF.prototype.rep=function(a){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=F(a))c=a,hf(c)?(a=wd(c),e=xd(c),c=a,d=K(a),a=e):(a=G(c),b.push(a),a=H(c),c=null,d=0),e=0;else break;return b};LF.prototype.stringRep=function(){return null};function MF(){}MF.prototype.tag=function(){return"u"};MF.prototype.rep=function(a){return a.pd};MF.prototype.stringRep=function(a){return this.rep(a)};function NF(a,b){this.value=a;this.meta=b}function OF(){}
OF.prototype.tag=function(){return"with-meta"};OF.prototype.rep=function(a){return wE("array",[a.value,a.meta])};OF.prototype.stringRep=function(){return null};var PF={},QF;function RF(){return Va("iPhone")&&!Va("iPod")&&!Va("iPad")};Va("Opera");Va("Trident")||Va("MSIE");Va("Edge");var SF=Va("Gecko")&&!(-1!=Ua.toLowerCase().indexOf("webkit")&&!Va("Edge"))&&!(Va("Trident")||Va("MSIE"))&&!Va("Edge"),TF=-1!=Ua.toLowerCase().indexOf("webkit")&&!Va("Edge");TF&&Va("Mobile");Va("Macintosh");Va("Windows");Va("Linux")||Va("CrOS");var UF=aa.navigator||null;UF&&(UF.appVersion||"").indexOf("X11");Va("Android");RF();Va("iPad");Va("iPod");RF()||Va("iPad")||Va("iPod");Ua.toLowerCase().indexOf("kaios");try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};(function(a){if("undefined"===typeof xb||"undefined"===typeof yb||"undefined"===typeof PF||"undefined"===typeof QF)QF=function(b,c,d){this.f=b;this.Ah=c;this.pi=d;this.K=393216;this.Y=0},QF.prototype.ha=function(b,c){return new QF(this.f,this.Ah,c)},QF.prototype.ga=function(){return this.pi},QF.eb=!0,QF.Qa="cljs.core.async/t_cljs$core$async23987",QF.gb=function(b){return fd(b,"cljs.core.async/t_cljs$core$async23987")};return new QF(a,!0,W)})(function(){return null});var VF=/[\s]/;function WF(a){return null==a?null:","===a?!0:VF.test(a)}function XF(a){return null==a?null:!/[^0-9]/.test(a)}
function YF(a,b){return function e(d){return new fg(null,function(){for(;;){var f=F(d);if(f){if(hf(f)){var h=wd(f),k=K(h),m=jg(k);return function(){for(var p=0;;)if(p<k){var t=x(h,p),w=m;if(t instanceof z||t instanceof C){var A=uk($f,eg)(t),D=N(A,0,null);A=N(A,1,null);var I=t instanceof z?Wd:dg;t=null==D?I.B?I.B(a,A):I.call(null,a,A):E.B("_",D)?I.C?I.C(A):I.call(null,A):t}w.add(t);p+=1}else return!0}()?lg(ng(m),e(xd(f))):lg(ng(m),null)}var n=G(f);return Je(n instanceof z||n instanceof C?function(){var p=
uk($f,eg)(n),t=N(p,0,null);p=N(p,1,null);var w=n instanceof z?Wd:dg;return null==t?w.B?w.B(a,p):w.call(null,a,p):E.B("_",t)?w.C?w.C(p):w.call(null,p):n}():n,e(be(f)))}return null}},null,null)}(b)}function ZF(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function $F(a){if(null!=a&&null!=a.Xd)a=a.Xd(a);else{var b=$F[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=$F._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("Reader.read-char",a);}return a}function aG(a){if(null!=a&&null!=a.Ie)a=a.Ie(a);else{var b=aG[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=aG._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("Reader.peek-char",a);}return a}
function bG(a,b){if(null!=a&&null!=a.Og)a.Og(a,b);else{var c=bG[da(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=bG._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IPushbackReader.unread",a);}}function cG(a){if(null!=a&&null!=a.Lh)a=a.Lh(a);else{var b=cG[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=cG._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IndexingReader.get-line-number",a);}return a}
function dG(a){if(null!=a&&null!=a.Jh)a=a.Jh(a);else{var b=dG[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=dG._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IndexingReader.get-column-number",a);}return a}function eG(a){if(null!=a&&null!=a.Kh)a=a.Kh(a);else{var b=eG[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=eG._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IndexingReader.get-file-name",a);}return a}
function fG(a,b){this.s=a;this.uh=b;this.ve=0}fG.prototype.Xd=function(){if(this.uh>this.ve){var a=this.s.charAt(this.ve);this.ve+=1;return a}return null};fG.prototype.Ie=function(){return this.uh>this.ve?this.s.charAt(this.ve):null};function gG(a,b){this.ih=a;this.buf=b;this.$c=this.If=1}gG.prototype.Xd=function(){var a=this.$c<this.If?this.buf[this.$c]:this.ih.Xd(null);this.$c<this.If&&(this.$c+=1);return null==a?null:Lf(a)};
gG.prototype.Ie=function(){var a=this.$c<this.If?this.buf[this.$c]:this.ih.Ie(null);return null==a?null:Lf(a)};gG.prototype.Og=function(a,b){if(r(b)){if(0===this.$c)throw Error("Pushback buffer is full");--this.$c;return this.buf[this.$c]=b}return null};function hG(a){return null!=a?l===a.Hj?!0:!1:!1};function iG(a,b,c,d){var e=K(b);a=r(a)?0:10<e?10:e;b=vh.B(dh.B(jG,!0),wh.B(a,b));b=Bg(u,xh(1,Fh.B(Bh(" "),b)));e=a<e?"...":null;return[u.C(c),u.C(b),e,u.C(d)].join("")}var jG,kG=lh(W),lG=lh(W),mG=lh(W),nG=lh(W),oG=B.F(W,iq,xl.P?xl.P():xl.call(null));
jG=new Jl(Wd.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?$v:"string"===typeof b?jm:b instanceof C?nq:"number"===typeof b?nq:b instanceof z?nq:gf(b)?Eq:Uf(b)?Nz:ef(b)?gr:cf(b)?Cu:E.B(b,!0)?nq:E.B(b,!1)?nq:Vb(b)},oG,kG,lG,mG,nG);jG.bb(null,jm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',u.C(b.substring(0,a<d?a:d)),c].join("")});jG.bb(null,nq,function(a,b){return u.C(b)});jG.bb(null,$d,function(){return"\x3cindexed seq\x3e"});
jG.bb(null,Li,function(){return"\x3cmap seq\x3e"});jG.bb(null,rj,function(){return"\x3cmap seq\x3e"});jG.bb(null,Yf,function(){return"\x3ccons\x3e"});jG.bb(null,fg,function(){return"\x3clazy seq\x3e"});jG.bb(null,$v,function(){return"nil"});jG.bb(null,Nz,function(a,b){return iG(a,b,"(",")")});jG.bb(null,gr,function(a,b){var c=K(b),d=r(a)?0:c;b=Bg(V,wh.B(d,b));return iG(a,b,"{",c>d?"...}":"}")});jG.bb(null,Cu,function(a,b){return iG(a,b,"#{","}")});jG.bb(null,Eq,function(a,b){return iG(a,b,"[","]")});
jG.bb(null,Kl,function(a,b){return Tk.I(M([Vb(b)]))});function pG(a,b,c){b=new q(null,2,[un,ro,Pv,b],null);a=hG(a)?O.I(b,Ew,eG(a),M([$l,cG(a),Nn,dG(a)])):b;var d=Ew.C(a);b=$l.C(a);var e=Nn.C(a);d=r(d)?[u.C(d)," "].join(""):null;b=r(b)?["[line ",u.C(b),", col ",u.C(e),"]"].join(""):null;c=Eg(u,d,b,r(r(d)?d:b)?" ":null,c);throw Pl(c,a);}function qG(a,b){return pG(a,xn,M([Bg(u,b)]))}function rG(a,b){return pG(a,lu,M([Bg(u,b)]))}function sG(a,b){return pG(a,Nq,M([Bg(u,b)]))}
function tG(a,b,c,d){qG(a,M(["The map literal starting with ",jG.B(!1,G(d)),r(b)?[" on line ",u.C(b)," column ",u.C(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function uG(a,b,c){return qG(a,M(["Invalid ",eg(b),": ",c,"."]))}function vG(a,b,c){return qG(a,M(["Invalid character: ",c," found while reading ",eg(b),"."]))}
function wG(a,b){a:{var c=jm instanceof C?jm.ea:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",u.C(c)].join(""));}}return sG(a,M(["Unexpected EOF reading ",eg(jm)," starting ",Cg(u,c,b),"."]))}function xG(a,b){return rG(a,M(["Invalid digit ",b," in unicode character."]))}function yG(a){return qG(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function zG(a,b){b=function(c){return function f(e){return new fg(null,function(){for(var h=e;;)if(h=F(h)){if(hf(h)){var k=wd(h),m=K(k),n=jg(m);a:for(var p=0;;)if(p<m){var t=x(k,p),w=N(t,0,null);1<N(t,1,null)&&n.add(w);p+=1}else{k=!0;break a}return k?lg(ng(n),f(xd(h))):lg(ng(n),null)}n=G(h);k=N(n,0,null);if(1<N(n,1,null))return Je(k,f(be(h)));h=be(h)}else return null},null,null)}(tk(c))}(b);return Eg(u,a,1<K(b)?"s":null,": ",xh(1,Fh.B(Bh(", "),b)))}
function AG(a,b,c){b=eg(b);qG(a,M([zG([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function BG(a){for(var b=a.Xd(null);;)if(WF.C?WF.C(b):WF.call(null,b))b=a.Xd(null);else return b}var CG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,DG=/([-+]?[0-9]+)\/([0-9]+)/,EG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function FG(a,b){a=xk(a,b);return N(a,0,null)===b}
function GG(a){if(FG(CG,a)){var b=ni(xk(CG,a));if(null!=(b.C?b.C(2):b.call(null,2)))a=0;else{a="-"===(b.C?b.C(1):b.call(null,1));b=null!=(b.C?b.C(3):b.call(null,3))?new X(null,2,5,Z,[b.C?b.C(3):b.call(null,3),10],null):null!=(b.C?b.C(4):b.call(null,4))?new X(null,2,5,Z,[b.C?b.C(4):b.call(null,4),16],null):null!=(b.C?b.C(5):b.call(null,5))?new X(null,2,5,Z,[b.C?b.C(5):b.call(null,5),8],null):null!=(b.C?b.C(7):b.call(null,7))?new X(null,2,5,Z,[b.C?b.C(7):b.call(null,7),parseInt(b.C?b.C(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.C?b.C(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.C?b.C(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else FG(EG,a)?(b=ni(xk(EG,a)),a=null!=(b.C?b.C(4):b.call(null,4))?parseFloat(b.C?b.C(1):b.call(null,1)):parseFloat(a)):FG(DG,a)?(b=ni(xk(DG,a)),a=b.C?b.C(1):b.call(null,1),b=b.C?b.C(2):b.call(null,2),a=r(xk(/^\+/,a))?Tf.B(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function HG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Tf.F(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=Tf.B(a,b);return XF(Ae(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var IG=function IG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new $d(c.slice(1),0,null):null;return IG.I(arguments[0],c)};IG.I=function(a){for(;;){var b=a.Xd(null);if("\n"===b||"\n"===b||null==b)break}return a};IG.aa=1;IG.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};
function JG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new $d(f,0,null)}return b.call(this,c,e)}function b(c){return qG(c,M(["Unreadable form"]))}a.aa=1;a.ca=function(c){var d=G(c);c=be(c);return b(d,c)};a.I=b;return a}()};new wb;function KG(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?LG.C?LG.C(a):LG.call(null,a):b:b:b}function MG(a){return"@"===a||"`"===a||"~"===a}function NG(a,b,c,d){if(Rb(c))return sG(a,M(["Unexpected EOF while reading start of ",eg(b),"."]));if(r(r(d)?MG(c):d))return vG(a,b,c);d=new wb;for(bG(a,c);;){if(WF(c)||KG(c)||null==c)return u.C(d);if(MG(c))return vG(a,b,c);d.append($F(a));c=aG(a)}}
function OG(a,b,c){b=$F(a);if(r(b)){var d=PG.C?PG.C(b):PG.call(null,b);if(r(d))return d.F?d.F(a,b,c):d.call(null,a,b,c);bG(a,b);return QG.F?QG.F(a,b,c):QG.call(null,a,b,c)}return sG(a,M(["Unexpected EOF while reading dispatch character."]))}function RG(a,b){return qG(a,M(["Unmatched delimiter ",b,"."]))}
function SG(a,b,c){b=1+b;if(K(a)!==b)throw rG(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=ZF(Ae(a,d),c);if(-1===f)return c=Ae(a,d),rG(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function TG(a,b,c,d,e){for(var f=1,h=ZF(b,c);;){if(-1===h)return xG(a,b);if(f!==d){var k=aG(a);var m=WF(k);m||(m=LG.C?LG.C(k):LG.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?rG(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(h);m=ZF(k,c);$F(a);if(-1===m)return xG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function UG(a){var b=$F(a);if(null!=b){b=KG(b)||MG(b)||WF(b)?u.C(b):NG(a,Lx,b,!1);var c=b.length;if(1===c)return Ae(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=SG(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=qG(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return qG(a,M(["Invalid octal escape sequence in a character literal: ",
b,". Octal escape sequences must be 3 or fewer digits."]));b=SG(b,c,8);return 255<(b|0)?yG(a):b}return qG(a,M(["Unsupported character: ",b,"."]))}return sG(a,M(["Unexpected EOF while reading character."]))}function VG(a){return hG(a)?new X(null,2,5,Z,[cG(a),(dG(a)|0)-1|0],null):null}
function WG(a,b,c,d){var e=VG(c),f=N(e,0,null);e=N(e,1,null);b=null==b?null:Lf(b);for(var h=od(Re);;){var k=BG(c);if(!r(k)){var m=a,n=f,p=e,t=K(h);sG(c,M(["Unexpected EOF while reading ",r(t)?["item ",u.C(t)," of "].join(""):null,eg(m),r(n)?[", starting at line ",u.C(n)," and column ",u.C(p)].join(""):null,"."]))}if(E.B(b,null==k?null:Lf(k)))return rd(h);m=LG.C?LG.C(k):LG.call(null,k);r(m)?(k=m.F?m.F(c,k,d):m.call(null,c,k,d),h=k!==c?tg.B(h,k):h):(bG(c,k),k=XG?XG(c,!0,null,d):YG.call(null,c,!0,null,
d),h=k!==c?tg.B(h,k):h)}}function ZG(a,b,c){a=WG(Nz,")",a,c);return af(a)?de:Bg(Xf,a)}function $G(a,b,c){return WG(Eq,"]",a,c)}function aH(a,b,c){var d=VG(a);b=N(d,0,null);d=N(d,1,null);c=WG(gr,"}",a,c);var e=K(c),f=qk(2,c),h=fk(f);!ah(e)&&tG(a,b,d,c);E.B(K(h),K(f))||AG(a,gr,f);if(e<=2*Qi)a=Si(wf(c),!0,!0);else a:for(a=wf(c),b=a.length,d=0,e=od(Ri);;)if(d<b)c=d+2,e=sd(e,a[d],a[d+1]),d=c;else{a=rd(e);break a}return a}
function bH(a,b){for(var c=function(){var h=new wb;h.append(b);return h}(),d=$F(a);;){if(r(function(){var h=WF(d);if(h)return h;h=LG.C?LG.C(d):LG.call(null,d);return r(h)?h:null==d}())){var e=u.C(c);bG(a,d);var f=GG(e);return r(f)?f:qG(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=$F(a);c=e;d=f}}
function cH(a){var b=$F(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=$F(a),-1===parseInt(b|0,16)?qG(a,M(["Invalid unicode escape: \\u",b,"."])):TG(a,b,16,4,!0);default:return XF(b)?(b=TG(a,b,8,3,!1),255<(b|0)?yG(a):b):qG(a,M(["Unsupported escape character: \\",b,"."]))}}
function dH(a){for(var b=new wb,c=$F(a);;){var d=c;if(E.B(null,d))return wG(a,M(['"',b]));if(E.B("\\",d)){d=function(){var f=b;f.append(cH(a));return f}();var e=$F(a);b=d;c=e}else{if(E.B('"',d))return u.C(b);d=function(){var f=b;f.append(c);return f}();e=$F(a);b=d;c=e}}}
function eH(a,b){b=NG(a,pq,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return gu;default:var c=HG(b);c=r(c)?Wd.B(c.C?c.C(0):c.call(null,0),c.C?c.C(1):c.call(null,1)):null;return r(c)?c:uG(a,pq,b)}else return null}
function fH(a){var b=$F(a);if(WF(b))return qG(a,M(["A single colon is not a valid keyword."]));b=NG(a,vA,b,!0);var c=HG(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.C?c.C(0):c.call(null,0);c=c.C?c.C(1):c.call(null,1);return":"===Ae(b,0)?uG(a,vA,[":",u.C(b)].join("")):dg.B(d,c)}return uG(a,vA,[":",u.C(b)].join(""))}
function gH(a,b,c){b=XG?XG(a,!0,null,c):YG.call(null,a,!0,null,c);b=b instanceof C?Ve([b,!0]):b instanceof z?new q(null,1,[sx,b],null):"string"===typeof b?new q(null,1,[sx,b],null):b;ef(b)||qG(a,M(["Metadata cannot be ",jG.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=XG?XG(a,!0,null,c):YG.call(null,a,!0,null,c);return null!=c&&(c.K&131072||l===c.Be)?Ye(c,Wj.I(M([Ze(c),b]))):qG(a,M(["Metadata can not be applied to ",jG.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function hH(a,b,c){b=WG(Cu,"}",a,c);c=fk(b);E.B(K(b),K(c))||AG(a,Cu,b);return c}function iH(a){XG?XG(a,!0,null,!0):YG.call(null,a,!0,null,!0);return a}
function jH(a,b,c){b=$F(a);b=NG(a,jx,b,!0);var d=null==b?null:HG(b);if(null==d)var e=null;else e=N(d,0,null),d=N(d,1,null),e=r(e)?null:d;return r(e)?"{"===BG(a)?(c=WG(jx,"}",a,c),!ah(K(c))&&tG(a,null,null,c),b=YF(u.C(e),qk(2,c)),c=qk(2,be(c)),E.B(K(fk(b)),K(b))||AG(a,jx,b),ik(b,c)):qG(a,M(["Namespaced map with namespace ",b," does not specify a map."])):qG(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function kH(a,b,c){b=XG?XG(a,!0,null,c):YG.call(null,a,!0,null,c);return E.B(Ys,b)?Number.NaN:E.B(Wv,b)?Number.NEGATIVE_INFINITY:E.B(cs,b)?Number.POSITIVE_INFINITY:qG(a,M([["Invalid token: ##",u.C(b)].join("")]))}function LG(a){switch(a){case '"':return dH;case ":":return fH;case ";":return IG;case "^":return gH;case "(":return ZG;case ")":return RG;case "[":return $G;case "]":return RG;case "{":return aH;case "}":return RG;case "\\":return UG;case "#":return OG;default:return null}}
function PG(a){switch(a){case "^":return gH;case "{":return hH;case "\x3c":return JG();case "!":return IG;case "_":return iH;case ":":return jH;case "#":return kH;default:return null}}
function QG(a,b,c){b=XG?XG(a,!0,null,c):YG.call(null,a,!0,null,c);var d=XG?XG(a,!0,null,c):YG.call(null,a,!0,null,c);b instanceof z||qG(a,M(["Invalid reader tag: ",jG.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.B(pt.C(c),b);e=r(e)?e:W.C?W.C(b):W.call(null,b);if(r(e))return e.C?e.C(d):e.call(null,d);c=Kl.C(c);return r(c)?c.B?c.B(b,d):c.call(null,b,d):qG(a,M(["No reader function for tag ",jG.B(!1,b),"."]))}
function YG(a){switch(arguments.length){case 1:return lH(W,arguments[0]);case 2:return lH(arguments[0],arguments[1]);case 4:return XG(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function lH(a,b){a=Gg(a);var c=B.B(a,Nq),d=!R(a,Nq);return XG(b,d,c,a)}
function XG(a,b,c,d){try{for(;;){var e=$F(a);if(!WF(e)){if(null==e){if(r(b)){b=a;var f=r(null)?sG(b,M(["EOF while reading, starting at line ",null,"."])):sG(b,M(["EOF while reading."]))}else f=c;return f}if(XF(e)||("+"===e||"-"===e)&&XF(a.Ie(null)))return bH(a,e);var h=LG(e);if(r(h)){var k=h.F?h.F(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return eH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof Ol){b=f instanceof Ol?f.data:null;if(E.B(ro,un.C(b)))throw f;a=Wj.I(M([new q(null,1,
[un,ro],null),b,hG(a)?new q(null,3,[$l,cG(a),Bs,dG(a),Ew,eG(a)],null):null]));throw new Ol(f.message,a,f);}a=Wj.I(M([new q(null,1,[un,ro],null),hG(a)?new q(null,3,[$l,cG(a),Bs,dG(a),Ew,eG(a)],null):null]));throw new Ol(f.message,a,f);}throw m;}}function mH(a,b){if(r(r(b)?Hg.B(b,""):b)){b=new fG(b,K(b));a:{var c=Array(1);if(lf(null))for(var d=0,e=F(null);;)if(e&&1>d)c[d]=G(e),d+=1,e=H(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=lH(a,new gG(b,c))}else a=null;return a};var nH=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.B(r(d)?b:a,c)}}(),oH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function pH(a){a=parseInt(a,10);return Rb(isNaN(a))?a:null}
function qH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([u.C(d)," Failed:  ",u.C(a),"\x3c\x3d",u.C(b),"\x3c\x3d",u.C(c)].join(""));return b}
function rH(a){var b=wk(oH,a);N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null),m=N(b,7,null),n=N(b,8,null),p=N(b,9,null),t=N(b,10,null);if(Rb(b))throw Error(["Unrecognized date/time syntax: ",u.C(a)].join(""));a=pH(c);b=function(){var J=pH(d);return r(J)?J:1}();c=function(){var J=pH(e);return r(J)?J:1}();var w=function(){var J=pH(f);return r(J)?J:0}(),A=function(){var J=pH(h);return r(J)?J:0}(),D=function(){var J=pH(k);return r(J)?J:0}(),I=function(){a:if(E.B(3,
K(m)))var J=m;else if(3<K(m))J=Tf.F(m,0,3);else for(J=new wb(m);;)if(3>J.getLength())J=J.append("0");else{J=J.toString();break a}J=pH(J);return r(J)?J:0}();n=(E.B(n,"-")?-1:1)*(60*function(){var J=pH(p);return r(J)?J:0}()+function(){var J=pH(t);return r(J)?J:0}());return new X(null,8,5,Z,[a,qH(1,b,12,"timestamp month field must be in range 1..12"),qH(1,c,nH(b,0===Nf(a,4)&&(0!==Nf(a,100)||0===Nf(a,400))),"timestamp day field must be in range 1..last day in month"),qH(0,w,23,"timestamp hour field must be in range 0..23"),
qH(0,A,59,"timestamp minute field must be in range 0..59"),qH(0,D,E.B(A,59)?60:59,"timestamp second field must be in range 0..60"),qH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var sH=lh(null),tH=lh(Wj.I(M([new q(null,4,[Er,function(a){if("string"===typeof a){var b=rH(a);if(r(b)){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null);b=N(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",u.C(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Wo,function(a){if("string"===typeof a)return new Ml(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},Yo,function(a){if(gf(a))return Kh.B(Di,a);throw Error("Queue literal expects a vector for its elements.");},Pq,function(a){if(gf(a)){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=F(a))c=a,hf(c)?(a=wd(c),e=xd(c),c=a,d=K(a),a=e):(a=G(c),b.push(a),a=H(c),c=null,d=0),e=0;else break;return b}if(ef(a)){b={};a=F(a);c=null;for(e=d=0;;)if(e<d){var h=c.Da(null,e);f=N(h,0,null);h=N(h,1,null);f=eg(f);b[f]=h;e+=1}else if(a=F(a))hf(a)?(d=wd(a),a=xd(a),c=d,d=K(d)):
(d=G(a),c=N(d,0,null),d=N(d,1,null),c=eg(c),b[c]=d,a=H(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function uH(a){return mH(new q(null,3,[pt,y(tH),Kl,y(sH),Nq,null],null),a)}function vH(a,b){return mH(Rh.F(Wj.I(M([new q(null,1,[Kl,y(sH)],null),a])),pt,function(c){return Wj.I(M([y(tH),c]))}),b)};function wH(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,t){if("%"==n)return"%";const w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return wH.Hd[n].apply(null,arguments)})}wH.Hd={};
wH.Hd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Xa(" ",Number(c)-a.length):Xa(" ",Number(c)-a.length)+a};
wH.Hd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));let f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Xa(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Xa(b,a)+d);return d};wH.Hd.d=function(a,b,c,d,e,f,h,k){return wH.Hd.f(parseInt(a,10),b,c,d,0,f,h,k)};
wH.Hd.i=wH.Hd.d;wH.Hd.u=wH.Hd.d;function xH(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1}xH.prototype.stopPropagation=function(){};xH.prototype.preventDefault=function(){this.defaultPrevented=!0};var yH=function(){if(!aa.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{aa.addEventListener("test",ca,b),aa.removeEventListener("test",ca,b)}catch(c){}return a}();function zH(a,b){xH.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.oe=null;a&&this.init(a,b)}la(zH,xH);var AH={2:"touch",3:"pen",4:"mouse"};
zH.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(SF){a:{try{ma(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=TF||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=TF||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:AH[a.pointerType]||"";this.state=a.state;this.oe=a;a.defaultPrevented&&zH.sg.preventDefault.call(this)};zH.prototype.stopPropagation=function(){zH.sg.stopPropagation.call(this);this.oe.stopPropagation?this.oe.stopPropagation():this.oe.cancelBubble=!0};zH.prototype.preventDefault=function(){zH.sg.preventDefault.call(this);var a=this.oe;a.preventDefault?a.preventDefault():a.returnValue=!1};var BH=0;var CH="closure_listenable_"+(1E6*Math.random()|0);function DH(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++BH;this.removed=this.Jf=!1}function EH(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function FH(a){this.src=a;this.listeners={};this.af=0}g=FH.prototype;g.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.af++);var h=GH(a,b,d,e);-1<h?(b=a[h],c||(b.Jf=!1)):(b=new DH(b,this.src,f,!!d,e),b.Jf=c,a.push(b));return b};g.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=GH(e,b,c,d);return-1<b?(EH(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.af--),!0):!1};
g.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,EH(d[e]);delete this.listeners[c];this.af--}return b};g.getListeners=function(a,b){a=this.listeners[a.toString()];var c=[];if(a)for(var d=0;d<a.length;++d){var e=a[d];e.capture==b&&c.push(e)}return c};
g.hasListener=function(a,b){var c=void 0!==a,d=c?a.toString():"",e=void 0!==b;return Ia(this.listeners,function(f){for(var h=0;h<f.length;++h)if(!(c&&f[h].type!=d||e&&f[h].capture!=b))return!0;return!1})};function GH(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var HH="closure_lm_"+(1E6*Math.random()|0),JH={},PH=0;function QH(a,b,c,d,e){if(d&&d.once)return RH(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)QH(a,b[f],c,d,e);return null}c=SH(c);return a&&a[CH]?a.listen(b,c,ha(d)?!!d.capture:!!d,e):TH(a,b,c,!1,d,e)}
function TH(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ha(e)?!!e.capture:!!e,k=UH(a);k||(a[HH]=k=new FH(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=VH();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)yH||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(WH(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");PH++;return c}
function VH(){function a(c){return b.call(a.src,a.listener,c)}const b=XH;return a}function RH(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)RH(a,b[f],c,d,e);return null}c=SH(c);return a&&a[CH]?a.listenOnce(b,c,ha(d)?!!d.capture:!!d,e):TH(a,b,c,!0,d,e)}
function YH(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[CH])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(WH(c),d):b.addListener&&b.removeListener&&b.removeListener(d);PH--;if(c=UH(b)){d=a.type;if(d in c.listeners){var e=c.listeners[d],f=Oa(e,a),h;(h=0<=f)&&Array.prototype.splice.call(e,f,1);h&&(EH(a),0==c.listeners[d].length&&(delete c.listeners[d],c.af--))}0==c.af&&(c.src=null,b[HH]=null)}else EH(a)}}}
function WH(a){return a in JH?JH[a]:JH[a]="on"+a}function XH(a,b){if(a.removed)a=!0;else{b=new zH(b,this);var c=a.listener,d=a.handler||a.src;a.Jf&&YH(a);a=c.call(d,b)}return a}function UH(a){a=a[HH];return a instanceof FH?a:null}var ZH="__closure_events_fn_"+(1E9*Math.random()>>>0);function SH(a){if("function"===typeof a)return a;a[ZH]||(a[ZH]=function(b){return a.handleEvent(b)});return a[ZH]};var $H=new X(null,3,5,Z,[3,23,0],null);function aI(a){return"string"===typeof a?E.B(a,"")?null:a:null}function bI(a){return"number"===typeof a?Mf(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}E.B("default","nodejs");var cI="undefined"!==typeof window?window:null;function dI(a){a=EA(u.C(a),/-/,2);var b=N(a,0,null);a=N(a,1,null);b=zk(/\d+/,b);b=r(b)?Lh.B(bI,b):null;return new q(null,2,[um,b,Ey,r(a)?a.toLowerCase():null],null)}
function eI(a){var b=N($H,0,null),c=N($H,1,null),d=N($H,2,null),e=gf(a)?a:um.C(dI(a));a=N(e,0,null);var f=N(e,1,null);e=N(e,2,null);e=Lh.B(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=N(e,0,null);f=N(e,1,null);e=N(e,2,null);if(!(b>a||E.B(b,a)&&(c>f||E.B(c,f)&&d>=e)))throw Pl("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[$w,CA(".",new X(null,3,5,Z,[a,f,e],null)),Mn,CA(".",new X(null,3,5,Z,[b,
c,d],null))],null));}var fI=function fI(a){switch(arguments.length){case 2:return fI.B(arguments[0],arguments[1]);case 3:return fI.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};fI.B=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?Re:wi(a,b,c)};fI.F=function(a,b,c){b=0>b?0:b;var d=Mf(K(a));c=c>d?d:c;return b>=c?Re:wi(a,b,c)};fI.aa=3;
var gI=function gI(a){switch(arguments.length){case 2:return gI.B(arguments[0],arguments[1]);case 3:return gI.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};gI.B=function(a,b){var c=K(a);return 0>b?(b+=c,wi(a,0>b?0:b,c)):b>=c?Re:wi(a,b,c)};gI.F=function(a,b,c){if(0>=c)return Re;var d=Mf(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,wi(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?Re:wi(a,b,d)};gI.aa=3;dh.B(v,V);
(function(){var a=Ka(cI,eg("performance"),null);if(r(a)){var b=function(){var c=Ka(a,eg("now"),null);if(r(c))return c;c=Ka(a,eg("mozNow"),null);if(r(c))return c;c=Ka(a,eg("msNow"),null);if(r(c))return c;c=Ka(a,eg("oNow"),null);return r(c)?c:Ka(a,eg("webkitNow"),null)}();return r(b)?function(){return 1E6*Mf(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
var hI=function hI(a){switch(arguments.length){case 2:return hI.B(arguments[0],arguments[1]);case 3:return hI.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};hI.B=function(a,b){return a.substring(b)};hI.F=function(a,b,c){return b>=c?"":a.substring(b,c)};hI.aa=3;
var iI=function iI(a){switch(arguments.length){case 2:return iI.B(arguments[0],arguments[1]);case 3:return iI.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};iI.B=function(a,b){return aI(a.substr(b))};iI.F=function(a,b,c){return aI(a.substr(b,c))};iI.aa=3;Lh.B(u,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var jI=function jI(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return jI.I(c)};jI.I=function(a){var b=Gg(a);a=B.B(b,ot);var c=B.B(b,Ms),d=B.B(b,Zs),e=B.B(b,Jw),f=B.B(b,io),h=B.B(b,rx),k=B.B(b,vm),m=B.B(b,bx);b=B.B(b,vp);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};jI.aa=0;jI.ca=function(a){return this.I(F(a))};
ch.B(function(a){return Of(Mf(a),1E3)},jI);ch.B(Ig,fI);ch.B(Ig,gI);ch.B(aI,hI);ch.B(aI,iI);function kI(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new $d(b.slice(0),0,null):null;return lI(b)}function lI(a){N(a,0,null);return new q(null,6,[yq,!0,$u,!1,Kz,null,wv,null,Fo,ps,wz,function(b){b=Gg(b);b=B.B(b,Us);b=M([gl(b)]);var c=O.F(Hb(),Jb,!1);Dk(Qk(b,c));return r(Cb)?Sk():null}],null)}
function mI(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new $d(b.slice(0),0,null):null;return nI(b)}
function nI(a){N(a,0,null);return new q(null,6,[yq,!0,$u,!1,Kz,null,wv,null,Fo,ps,wz,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof C?c.ea:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",u.C(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(Ul.C(c));if(r(d)){if(r(function(){var h=B.B(c,au);return r(h)?h:Oh(c,new X(null,2,5,Z,[Jr,au],null))}())){var e=function(){var h=O.I(c,qs,"",M([Ru,null])),k=Fo.C(c);return k.C?k.C(h):k.call(null,h)}(),f=function(){var h=iz.C(c),k=Ru.C(c);return r(k)?Je(e,Je(k,h)):Je(e,h)}();return d.apply(console,cc(f))}return d.call(console,gl(Us.C(c)))}return null}}()],null)};gf($H)?eI(new X(null,3,5,Z,[2,126,2],null)):eI(2.126);"undefined"!==typeof window?mI.C?mI.C(W):mI.call(null,W):kI.C?kI.C(W):kI.call(null,W);gf($H)?eI(new X(null,3,5,Z,[2,105,0],null)):eI(2.105);E.B("default","nodejs");jI.I(M([io,60]));function oI(a,b,c){if(Uf(c)){var d=Bg(Xf,vh.B(a,c));return b.C?b.C(d):b.call(null,d)}return oi(c)?(d=new Y(function(){var e=Fc(c);return a.C?a.C(e):a.call(null,e)}(),function(){var e=Gc(c);return a.C?a.C(e):a.call(null,e)}(),null),b.C?b.C(d):b.call(null,d)):lf(c)?(d=vk(vh.B(a,c)),b.C?b.C(d):b.call(null,d)):ff(c)?(d=v.F(function(e,f){return Qe.B(e,a.C?a.C(f):a.call(null,f))},c,c),b.C?b.C(d):b.call(null,d)):bf(c)?(d=Kh.B(Te(c),vh.B(a,c)),b.C?b.C(d):b.call(null,d)):b.C?b.C(c):b.call(null,c)}
var pI=function pI(a,b){return oI(dh.B(pI,a),a,b)};function qI(a){function b(c){var d=N(c,0,null);c=N(c,1,null);return"string"===typeof d?new X(null,2,5,Z,[dg.C(d),c],null):new X(null,2,5,Z,[d,c],null)}return pI(function(c){return ef(c)?Kh.B(W,vh.B(b,c)):c},a)};var rI={},sI={},tI;function uI(a,b,c,d,e){this.ae=a;this.Zg=b;this.ah=c;this.Rd=d;this.limit=e;this.K=2147484416;this.Y=0}g=uI.prototype;g.fa=function(a,b,c){return vI.F?vI.F(this,b,c):vI.call(null,this,b,c)};g.ra=function(a,b){return Ac(this.ae,b)};g.oa=function(a,b){return xc(this.ae,b,null)};g.T=function(a,b,c){return xc(this.ae,b,c)};g.ia=function(a,b,c){return id(this.ae,b,c)};
function vI(a,b,c){var d=a.ae,e=a.Zg,f=a.ah,h=a.Rd;a=a.limit;var k=f.B?f.B(b,null):f.call(null,b,null);if(r(k))return new uI(d,O.F(Q.B(e,k),h,b),O.F(f,b,h),h+1,a);b=new uI(O.F(d,b,c),O.F(e,h,b),O.F(f,b,h),h+1,a);return wI.C?wI.C(b):wI.call(null,b)}function wI(a){if(K(a.ae)>a.limit){var b=a.ae,c=a.Zg,d=a.ah,e=a.Rd;a=a.limit;var f=G(c),h=N(f,0,null);f=N(f,1,null);return new uI(Q.B(b,f),Q.B(c,h),Q.B(d,f),e,a)}return a}
function xI(a,b,c){if(null!=a&&null!=a.Wg)a=a.Wg(a,b,c);else{var d=xI[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=xI._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("ICache.-get",a);}return a}
function yI(){var a=hh(new uI(W,Tj(),W,0,100));if("undefined"===typeof rI||"undefined"===typeof sI||"undefined"===typeof tI)tI=function(b,c,d){this.limit=b;this.cf=c;this.wi=d;this.K=393216;this.Y=0},tI.prototype.ha=function(b,c){return new tI(this.limit,this.cf,c)},tI.prototype.ga=function(){return this.wi},tI.prototype.Wg=function(b,c,d){b=B.F(y(this.cf),c,null);return null==b?(d=d.P?d.P():d.call(null),Dd(this.cf,O.F(y(this.cf),c,d)),d):b},tI.eb=!0,tI.Qa="datascript.lru/t_datascript$lru30118",tI.gb=
function(b){return fd(b,"datascript.lru/t_datascript$lru30118")};return new tI(100,a,W)};function zI(a){return v.F(function(b,c){b.push(c);return b},[],a)}function AI(a){return a instanceof Array};var BI=G(Ih(function(a){return 0!=(32&1<<a)},pk.F(31,-1,-1)))+1,CI=(1<<BI)-1;function DI(a,b,c,d){for(var e=0,f=Mf(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.B?a.B(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function EI(a,b,c,d){for(var e=0,f=Mf(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.B?a.B(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function FI(a,b,c){var d=b.length,e=DI(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.B?a.B(b,c):a.call(null,b,c));return d?e:-1}
function GI(a,b,c){var d=b.length;a=DI(a,b,d-1,c);return a===d?-1:a}function HI(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function II(a,b,c,d){return HI(a,0,a.length,b,c,d)}
function JI(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function KI(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.B?a.B(h,k):a.call(null,h,k)))return!1;f+=1}else return f}function LI(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function MI(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function NI(a){if(null!=a&&null!=a.hg)a=a.hg(a);else{var b=NI[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=NI._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("INode.node-lim-key",a);}return a}function OI(a){if(null!=a&&null!=a.dh)a=a.keys.length;else{var b=OI[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=OI._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("INode.node-len",a);}return a}
function PI(a,b){if(null!=a&&null!=a.jg)a=a.jg(a,b);else{var c=PI[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=PI._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("INode.node-merge",a);}return a}function QI(a,b){if(null!=a&&null!=a.kg)a=a.kg(a,b);else{var c=QI[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=QI._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("INode.node-merge-n-split",a);}return a}
function RI(a,b,c){if(null!=a&&null!=a.ig)a=a.ig(a,b,c);else{var d=RI[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=RI._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("INode.node-lookup",a);}return a}function SI(a,b,c){if(null!=a&&null!=a.fg)a=a.fg(a,b,c);else{var d=SI[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=SI._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("INode.node-conj",a);}return a}
function TI(a,b,c,d,e,f){if(null!=a&&null!=a.gg)a=a.gg(a,b,c,d,e,f);else{var h=TI[da(null==a?null:a)];if(null!=h)a=h.Ka?h.Ka(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=TI._,null!=h)a=h.Ka?h.Ka(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Wb("INode.node-disj",a);}return a}
function UI(a,b,c,d){if(r(b))return[a];if(16<OI(a))return MI(c,a,d);if(r(r(c)?16>=OI(c):c))return LI(PI(c,a),d);if(r(r(d)?16>=OI(d):d))return LI(c,PI(a,d));if(r(r(c)?null==d||OI(c)<OI(d):c))return a=QI(c,a),MI(a[0],a[1],d);a=QI(a,d);return MI(c,a[0],a[1])}function VI(a,b){this.keys=a;this.qb=b}g=VI.prototype;g.hg=function(){var a=this.keys;return a[a.length-1]};g.dh=function(){return this.keys.length};g.jg=function(a,b){return new VI(this.keys.concat(b.keys),this.qb.concat(b.qb))};
g.kg=function(a,b){a=JI(this.keys,b.keys);b=JI(this.qb,b.qb);return LI(new VI(a[0],b[0]),new VI(a[1],b[1]))};g.ig=function(a,b,c){a=GI(b,this.keys,c);return-1===a?null:RI(this.qb[a],b,c)};g.fg=function(a,b,c){a=DI(b,this.keys,this.keys.length-2,c);c=SI(this.qb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(NI);b=KI(b,d,a,e,f,f.length)?d:II(d,a,e,f);a=II(this.qb,a,a+1,c);if(32>=a.length)return[new VI(b,a)];c=a.length>>>1;return[new VI(b.slice(0,c),a.slice(0,c)),new VI(b.slice(c),a.slice(c))]}return null};
g.gg=function(a,b,c,d,e,f){var h=GI(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.qb[h-1]:null;var k=h+1<this.qb.length?this.qb[h+1]:null;c=TI(this.qb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(NI);b=KI(b,k,a,h,m,m.length)?k:II(k,a,h,m);c=II(this.qb,a,h,c);return UI(new VI(b,c),d,e,f)}return null};function WI(a){this.keys=a}g=WI.prototype;g.hg=function(){var a=this.keys;return a[a.length-1]};g.dh=function(){return this.keys.length};g.jg=function(a,b){return new WI(this.keys.concat(b.keys))};
g.kg=function(a,b){a=JI(this.keys,b.keys);return LI(new WI(a[0]),new WI(a[1]))};g.ig=function(a,b,c){a=FI(b,this.keys,c);return-1===a?null:this.keys[a]};g.fg=function(a,b,c){a=DI(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.B?b.B(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new WI(this.keys.slice(0,b)),new WI(HI(this.keys,b,d,a,a,[c]))]:[new WI(HI(this.keys,0,b,a,a,[c])),new WI(this.keys.slice(b,d))]):[new WI(II(this.keys,a,a,[c]))]};
g.gg=function(a,b,c,d,e,f){a=FI(b,this.keys,c);if(-1===a)return null;a=II(this.keys,a,a+1,[]);return UI(new WI(a),d,e,f)};function XI(a,b,c,d,e,f){this.root=a;this.shift=b;this.da=c;this.sc=d;this.meta=e;this._hash=f;this.K=2297303311;this.Y=8332}g=XI.prototype;g.toString=function(){return Hd(this)};g.oa=function(a,b){return RI(this.root,this.sc,b)};g.T=function(a,b,c){a=RI(this.root,this.sc,b);return r(a)?a:c};g.ia=function(a,b,c){return Ak(b,Ik,"#{"," ","}",c,F(this))};g.ga=function(){return this.meta};
g.pa=function(){return new XI(this.root,this.shift,this.da,this.sc,this.meta,this._hash)};g.ma=function(){return this.da};g.Dc=function(){return ed(YI.C?YI.C(this):YI.call(null,this))};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=je(this)};g.ba=function(a,b){var c=this;return cf(b)&&this.da===K(b)&&Zg(function(d){return R(c,d)},b)};g.Md=function(){return this};g.Ia=function(){return new XI(new WI([]),0,0,this.sc,this.meta,null)};
g.kf=function(a,b){return ZI.F?ZI.F(this,b,this.sc):ZI.call(null,this,b,this.sc)};g.$a=function(a,b){a=YI.C?YI.C(this):YI.call(null,this);return r(a)?Tc(a,b):b.P?b.P():b.call(null)};g.ab=function(a,b,c){a=YI.C?YI.C(this):YI.call(null,this);return r(a)?Tc(a,b,c):c};g.Nd=function(a,b){return $I.F?$I.F(this,b,this.sc):$I.call(null,this,b,this.sc)};g.Wd=function(){return this};g.la=function(){return YI.C?YI.C(this):YI.call(null,this)};
g.ha=function(a,b){return new XI(this.root,this.shift,this.da,this.sc,b,this._hash)};g.na=function(a,b){return $I.F?$I.F(this,b,this.sc):$I.call(null,this,b,this.sc)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return this.oa(null,a)};
g.B=function(a,b){return this.T(null,a,b)};function aJ(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.qb[CI&b>>>c],c-=BI;else return a.keys}function bJ(a,b,c,d){return new XI(b,c,d,a.sc,a.meta,null)}var cJ=function cJ(a,b,c){var e=CI&b>>>c;if(0<c){var f=a.qb[e],h=c-BI;b=cJ.F?cJ.F(f,b,h):cJ.call(null,f,b,h);return-1===b?e+1<a.qb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function dJ(a,b){return cJ(a.root,b,a.shift)}
function eJ(a,b){for(var c=0;;)if(0<b)c|=a.qb.length-1<<b,b-=BI,a=a.qb,a=a[a.length-1];else return c|a.keys.length-1<<0}var fJ=function fJ(a,b,c){var e=CI&b>>>c;if(0<c){var f=c-BI,h=a.qb[e];b=fJ.F?fJ.F(h,b,f):fJ.call(null,h,b,f);return-1===b?0<=e-1?(--e,eJ(a.qb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function gJ(a,b){return fJ(a.root,b,a.shift)}function YI(a){if(0<OI(a.root)){var b=eJ(a.root,a.shift)+1;return hJ.F?hJ.F(a,0,b):hJ.call(null,a,0,b)}return null}
function iJ(a,b,c){this.O=a;this.off=b;this.end=c;this.K=524306;this.Y=0}g=iJ.prototype;g.ma=function(){return this.end-this.off};g.Da=function(a,b){return this.O[this.off+b]};g.fb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.O[this.off+b]:c};g.ze=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new ig(this.O,this.off+1,this.end)};g.$a=function(a,b){return this.off===this.end?b.P?b.P():b.call(null):Tc(this.ze(null),b,this.O[this.off])};
g.ab=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.O[a];c=b.B?b.B(c,d):b.call(null,c,d);if(oe(c))return y(c);a+=1}else return c};function jJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.K=2309488832;this.Y=1536}g=jJ.prototype;g.toString=function(){return Hd(this)};g.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,F(this))};
g.Na=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new jJ(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=dJ(this.set,this.left);return Hg.B(-1,a)&&a<this.right?this.yf(a,this.right):null}return null};g.Dc=function(){if(r(this.keys)){var a=this.set,b=gJ(this.set,this.left),c=gJ(this.set,this.right);return kJ.F?kJ.F(a,b,c):kJ.call(null,a,b,c)}return null};g.ba=function(a,b){return Ie(this,b)};
g.$a=function(a,b){if(null==this.keys)return b.P?b.P():b.call(null);a=this.cb(null);var c=this.Na(null);return null==c?a:Tc(c,b,a)};g.ab=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.B?b.B(c,f):b.call(null,c,f);if(oe(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=dJ(this.set,a),-1!==a&&a<this.right)d=aJ(this.set,a),e=CI&a>>>0;else return c}};g.cb=function(){return r(this.keys)?this.keys[this.idx]:null};
g.mb=function(){var a=this.Na(null);return r(a)?a:de};g.la=function(){return r(this.keys)?this:null};g.ke=function(){var a=E.B(this.left|CI,this.right|CI)?this.right&CI:this.keys.length;return new iJ(this.keys,this.idx,a)};g.Ad=function(){var a=this.je();return r(a)?a:de};g.yf=function(a,b){return new jJ(this.set,a,b,aJ(this.set,a),CI&a>>>0)};g.je=function(){var a=dJ(this.set,this.left+(this.keys.length-this.idx-1));return Hg.B(-1,a)&&a<this.right?this.yf(a,this.right):null};
function hJ(a,b,c){return new jJ(a,b,c,aJ(a,b),CI&b>>>0)}function lJ(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.K=2308964544;this.Y=0}g=lJ.prototype;g.toString=function(){return Hd(this)};g.ia=function(a,b,c){return Ak(b,Ik,"("," ",")",c,F(this))};
g.Na=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new lJ(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=gJ(this.set,this.right);return Hg.B(-1,a)&&a>this.left?this.yf(this.left,a):null}return null};g.Dc=function(){if(r(this.keys)){var a=-1===this.left?0:dJ(this.set,this.left),b=dJ(this.set,this.right);return hJ(this.set,a,-1===b?this.right+1:b)}return null};g.ba=function(a,b){return Ie(this,b)};
g.cb=function(){return r(this.keys)?this.keys[this.idx]:null};g.mb=function(){var a=this.Na(null);return r(a)?a:de};g.la=function(){return r(this.keys)?this:null};g.yf=function(a,b){return new lJ(this.set,a,b,aJ(this.set,b),CI&b>>>0)};function kJ(a,b,c){return new lJ(a,b,c,aJ(a,c),CI&c>>>0)}
function mJ(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,h=a.shift;;){var k=OI(e);if(0===h){var m=e.keys;m=DI(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=DI(d,m,k-2,b);f|=m<<h;h-=BI;e=e.qb[m]}if(0>b)return null;a:if(null==c)c=eJ(a.root,a.shift)+1;else for(e=a.root,f=0,h=a.shift;;){m=OI(e);if(0===h){k=e.keys;m=EI(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=EI(d,k,m-2,c);f|=m<<h;h-=BI;e=e.qb[m]}return c>b?new jJ(a,b,c,aJ(a,b),CI&b>>>0):null}
function nJ(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.C?a.C(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function oJ(a){var b=a.length,c=od(Re);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){tg.B(c,a.slice(d));break}else 40<=e?(tg.B(c,a.slice(d,d+24)),d+=24):(e>>>=1,tg.B(c,a.slice(d,d+e)),d+=e)}return wf(rd(c))}function $I(a,b,c){b=SI(a.root,c,b);return null==b?a:1===b.length?bJ(a,b[0],a.shift,a.da+1):bJ(a,new VI(b.map(NI),b),a.shift+BI,a.da+1)}
function ZI(a,b,c){b=TI(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof VI&&1===b.qb.length?bJ(a,b.qb[0],a.shift-BI,a.da-1):bJ(a,b,a.shift,a.da-1)}function pJ(a,b,c){return mJ(a,b,c,a.sc)}
function qJ(a,b){for(var c=nJ(function(h){return new WI(h)},oJ(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new XI(new WI([]),0,0,a,null,null);case 1:return new XI(G(d),e,b.length,a,null,null);default:d=nJ(function(){return function(h){return new VI(h.map(NI),h)}}(d,e,f,c),oJ(d)),e+=BI}}}function rJ(a){return new XI(new WI([]),0,0,a,null,null)};var sJ=Error;function tJ(a){return"string"!==typeof a&&(mf(a)||AI(a))}var uJ=eh(Re),vJ=eh(dk);function wJ(a,b,c){return G(v.F(function(d,e){var f=N(d,0,null);d=N(d,1,null);e=a.F?a.F(f,e,d):a.call(null,f,e,d);return oe(e)?ne(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function xJ(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function yJ(a){if(null!=a&&null!=a.La)a=a.La(a);else{var b=yJ[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=yJ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IDatom.datom-tx",a);}return a}function zJ(a){if(null!=a&&null!=a.tc)a=a.tc(a);else{var b=zJ[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=zJ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IDatom.datom-added",a);}return a}
function AJ(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.$e=d;this.idx=e;this._hash=f;this.K=2162164496;this.Y=0}g=AJ.prototype;g.La=function(){return 0<this.$e?this.$e:-this.$e};g.tc=function(){return 0<this.$e};g.ja=function(){return 0===this._hash?this._hash=BJ.C?BJ.C(this):BJ.call(null,this):this._hash};g.ba=function(a,b){return(a=b instanceof AJ)?CJ.B?CJ.B(this,b):CJ.call(null,this,b):a};g.la=function(){return DJ.C?DJ.C(this):DJ.call(null,this)};
g.oa=function(a,b){return EJ.F?EJ.F(this,b,null):EJ.call(null,this,b,null)};g.T=function(a,b,c){return EJ.F?EJ.F(this,b,c):EJ.call(null,this,b,c)};g.Da=function(a,b){return FJ?FJ(this,b):GJ.call(null,this,b)};g.fb=function(a,b,c){return HJ?HJ(this,b,c):GJ.call(null,this,b,c)};g.fa=function(a,b,c){return IJ.F?IJ.F(this,b,c):IJ.call(null,this,b,c)};g.ia=function(a,b,c){return Ak(b,Ik,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.La(null),this.tc(null)],null))};
ba("datascript.db.Datom",AJ);var JJ=function JJ(a){switch(arguments.length){case 3:return JJ.F(arguments[0],arguments[1],arguments[2]);case 4:return JJ.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return JJ.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};JJ.F=function(a,b,c){return new AJ(a,b,c,536870912,0,0)};JJ.R=function(a,b,c,d){return new AJ(a,b,c,d,0,0)};
JJ.ka=function(a,b,c,d,e){return new AJ(a,b,c,r(e)?d:-d,0,0)};JJ.aa=5;function KJ(a){return a instanceof AJ}function BJ(a){return xJ(xJ(Sd(a.e),Sd(a.a)),Sd(a.v))}function CJ(a,b){return a.e===b.e&&E.B(a.a,b.a)&&E.B(a.v,b.v)}function DJ(a){return new Se(null,a.e,new Se(null,a.a,new Se(null,a.v,new Se(null,a.La(null),new Se(null,a.tc(null),null,1,null),2,null),3,null),4,null),5,null)}
function EJ(a,b,c){return E.B($x,b)?a.v:E.B("e",b)?a.e:E.B(cr,b)?a.tc(null):E.B("v",b)?a.v:E.B(Vx,b)?a.e:E.B("a",b)?a.a:E.B(vu,b)?a.La(null):E.B("added",b)?a.tc(null):E.B("tx",b)?a.La(null):E.B(Xx,b)?a.a:c}function GJ(a){switch(arguments.length){case 2:return FJ(arguments[0],arguments[1]);case 3:return HJ(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}
function FJ(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.La(null);case 4:return a.tc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",u.C(b)].join(""));}}function HJ(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.La(null);case 4:return a.tc(null);default:return c}}
function IJ(a,b,c){switch(b instanceof C?b.ea:null){case "e":return JJ.ka(c,a.a,a.v,a.La(null),a.tc(null));case "a":return JJ.ka(a.e,c,a.v,a.La(null),a.tc(null));case "v":return JJ.ka(a.e,a.a,c,a.La(null),a.tc(null));case "tx":return JJ.ka(a.e,a.a,a.v,c,a.tc(null));case "added":return JJ.ka(a.e,a.a,a.v,a.La(null),c);default:throw new sJ(["invalid key for #datascript/Datom: ",u.C(b)].join(""));}}function LJ(a,b){return null==a?0:null==b?0:sf(a,b)}function MJ(a,b){return Ra(Xb(Vb(a)),Xb(Vb(b)))}
function NJ(a,b){try{return E.B(a,b)?0:(null!=a?a.Y&2048||l===a.bd||(a.Y?0:Ub(td,a)):Ub(td,a))?ud(a,b):Vb(a)===Vb(b)?"number"===typeof a||"string"===typeof a||Pb(a)||!0===a||!1===a?Ra(a,b):Sd(a)-Sd(b):MJ(a,b)}catch(d){if(d instanceof Error){var c=d;if(Vb(a)===Vb(b))throw c;return MJ(a,b)}throw d;}}function OJ(a,b){return null==a?0:null==b?0:NJ(a,b)}function PJ(a,b){var c=a.e-b.e;return 0===c?(c=LJ(a.a,b.a),0===c?(c=OJ(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}
function QJ(a,b){var c=LJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=OJ(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function RJ(a,b){var c=LJ(a.a,b.a);return 0===c?(c=OJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function SJ(a,b){return a instanceof C?ud(a,b):Ra(a,b)}function TJ(a,b){var c=a.e-b.e;return 0===c?(c=SJ(a.a,b.a),0===c?(c=NJ(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}
function UJ(a,b){var c=SJ(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=NJ(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function VJ(a,b){var c=SJ(a.a,b.a);return 0===c?(c=NJ(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function WJ(){}
function XJ(a,b){if(null!=a&&null!=a.Vg)a=a.Vg(a,b);else{var c=XJ[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=XJ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("ISearch.-search",a);}return a}function YJ(a,b){return G(XJ(a,b))}
function ZJ(a,b,c){if(null!=a&&null!=a.Tg)a=a.Tg(a,b,c);else{var d=ZJ[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=ZJ._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IIndexAccess.-datoms",a);}return a}function $J(a,b){if(null!=a&&null!=a.Ug)a=a.Ug(a,qx,b);else{var c=$J[da(null==a?null:a)];if(null!=c)a=c.F?c.F(a,qx,b):c.call(null,a,qx,b);else if(c=$J._,null!=c)a=c.F?c.F(a,qx,b):c.call(null,a,qx,b);else throw Wb("IIndexAccess.-seek-datoms",a);}return a}
function aK(a,b,c){if(E.B(b,km)&&(b=G(c),null!=b&&!r(bK.B?bK.B(a,b):bK.call(null,a,b))))throw Pl(["Attribute ",Tk.I(M([b]))," should be marked as :db/index true"].join(""),new q(null,3,[Hu,zy,Uy,km,Sl,c],null));}function cK(){}function dK(a){if(null!=a&&null!=a.Vh)a=a.wb;else{var b=dK[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=dK._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IDB.-schema",a);}return a}
function eK(a,b){if(null!=a&&null!=a.Sg)a=a.Sg(a,b);else{var c=eK[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=eK._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IDB.-attrs-by",a);}return a}function fK(a,b,c,d,e,f,h,k,m,n,p,t,w){this.wb=a;this.ob=b;this.Db=c;this.zb=d;this.Pb=e;this.Qb=f;this.Ib=h;this.Hb=k;this.Gb=m;this.hash=n;this.G=p;this.D=t;this.J=w;this.K=2230716170;this.Y=139264}g=fK.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "schema":return this.wb;case "eavt":return this.ob;case "aevt":return this.Db;case "avet":return this.zb;case "max-eid":return this.Pb;case "max-tx":return this.Qb;case "rschema":return this.Ib;case "pull-patterns":return this.Hb;case "pull-attrs":return this.Gb;case "hash":return this.hash;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Qv,this.wb],null),new X(null,2,5,Z,[qx,this.ob],null),new X(null,2,5,Z,[By,this.Db],null),new X(null,2,5,Z,[km,this.zb],null),new X(null,2,5,Z,[Uq,this.Pb],null),new X(null,2,5,Z,[Hr,this.Qb],null),new X(null,2,5,Z,[Fw,this.Ib],null),new X(null,2,5,Z,[Kq,this.Hb],null),new X(null,2,5,Z,[ow,this.Gb],null),new X(null,2,5,Z,[Gz,this.hash],null)],null),this.D))};
g.qa=function(){return new Hi(this,10,new X(null,10,5,Z,[Qv,qx,By,km,Uq,Hr,Fw,Kq,ow,Gz],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,this.J)};g.ma=function(){return 10+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1515640948^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wb,b.wb)&&E.B(this.ob,b.ob)&&E.B(this.Db,b.Db)&&E.B(this.zb,b.zb)&&E.B(this.Pb,b.Pb)&&E.B(this.Qb,b.Qb)&&E.B(this.Ib,b.Ib)&&E.B(this.Hb,b.Hb)&&E.B(this.Gb,b.Gb)&&E.B(this.hash,b.hash)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,10,[Qv,null,Hr,null,Gz,null,By,null,km,null,Uq,null,qx,null,ow,null,Kq,null,Fw,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Qv,b):S.call(null,Qv,b))?new fK(c,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(qx,b):S.call(null,qx,b))?new fK(this.wb,c,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(By,b):S.call(null,By,b))?new fK(this.wb,this.ob,c,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(km,b):S.call(null,km,b))?new fK(this.wb,this.ob,this.Db,
c,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(Uq,b):S.call(null,Uq,b))?new fK(this.wb,this.ob,this.Db,this.zb,c,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(Hr,b):S.call(null,Hr,b))?new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,c,this.Ib,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(Fw,b):S.call(null,Fw,b))?new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,c,this.Hb,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(Kq,b):
S.call(null,Kq,b))?new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,c,this.Gb,this.hash,this.G,this.D,null):r(S.B?S.B(ow,b):S.call(null,ow,b))?new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,c,this.hash,this.G,this.D,null):r(S.B?S.B(Gz,b):S.call(null,Gz,b))?new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,c,this.G,this.D,null):new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,this.G,O.F(this.D,
b,c),null)};g.la=function(){return F(V.B(new X(null,10,5,Z,[new Y(Qv,this.wb,null),new Y(qx,this.ob,null),new Y(By,this.Db,null),new Y(km,this.zb,null),new Y(Uq,this.Pb,null),new Y(Hr,this.Qb,null),new Y(Fw,this.Ib,null),new Y(Kq,this.Hb,null),new Y(ow,this.Gb,null),new Y(Gz,this.hash,null)],null),this.D))};g.ha=function(a,b){return new fK(this.wb,this.ob,this.Db,this.zb,this.Pb,this.Qb,this.Ib,this.Hb,this.Gb,this.hash,b,this.D,this.J)};
g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function gK(a){var b=Q.I(a,Qv,M([qx,By,km,Uq,Hr,Fw,Kq,ow,Gz]));b=ff(a)?Kh.B(W,b):b;return new fK(Qv.C(a),qx.C(a),By.C(a),km.C(a),Uq.C(a),Hr.C(a),Fw.C(a),Kq.C(a),ow.C(a),Gz.C(a),null,Ig(b),null)}g.Ga=l;g.ia=function(a,b,c){return hK.F?hK.F(this,b,c):hK.call(null,this,b,c)};g.Eg=l;g.ma=function(){return K(this.ob)};g.Ih=l;g.Dc=function(){return ed(this.ob)};g.hf=l;g.ja=function(){return iK.C?iK.C(this):iK.call(null,this)};
g.ba=function(a,b){return jK.B?jK.B(this,b):jK.call(null,this,b)};g.Gg=l;g.Md=function(){return Rh.F(Rh.F(Rh.F(this,qx,rg),By,rg),km,rg)};g.Hg=l;g.Ia=function(){var a=this.wb;a=kK?kK(a):lK.call(null,a);return Ye(a,Ze(this))};g.Nd=function(){throw Pl("datascript.DB/conj! is not supported",W);};g.Wd=function(){return Rh.F(Rh.F(Rh.F(this,qx,sg),By,sg),km,sg)};
g.Tg=function(a,b,c){aK(this,b,c);return pJ(B.B(this,b),mK.ka?mK.ka(this,b,c,0,536870912):mK.call(null,this,b,c,0,536870912),mK.ka?mK.ka(this,b,c,2147483647,2147483647):mK.call(null,this,b,c,2147483647,2147483647))};g.Ug=function(a,b,c){aK(this,b,c);return pJ(B.B(this,b),mK.ka?mK.ka(this,b,c,0,536870912):mK.call(null,this,b,c,0,536870912),JJ.R(2147483647,null,null,2147483647))};g.Rg=l;g.Vh=function(){return this.wb};g.Sg=function(a,b){a=this.Ib;return a.C?a.C(b):a.call(null,b)};g.Wh=l;
g.Vg=function(a,b){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null);b=this.ob;var f=this.Db,h=this.zb;R(eK(this,Ks),c);return r(a)?r(c)?null!=d?r(e)?pJ(b,JJ.R(a,c,d,e),JJ.R(a,c,d,e)):pJ(b,JJ.R(a,c,d,536870912),JJ.R(a,c,d,2147483647)):r(e)?Ih(function(k){return E.B(e,k.La(null))},pJ(b,JJ.R(a,c,null,536870912),JJ.R(a,c,null,2147483647))):pJ(b,JJ.R(a,c,null,536870912),JJ.R(a,c,null,2147483647)):null!=d?r(e)?Ih(function(k){return E.B(d,k.v)&&E.B(e,k.La(null))},pJ(b,JJ.R(a,null,null,536870912),
JJ.R(a,null,null,2147483647))):Ih(function(k){return E.B(d,k.v)},pJ(b,JJ.R(a,null,null,536870912),JJ.R(a,null,null,2147483647))):r(e)?Ih(function(k){return E.B(e,k.La(null))},pJ(b,JJ.R(a,null,null,536870912),JJ.R(a,null,null,2147483647))):pJ(b,JJ.R(a,null,null,536870912),JJ.R(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(bK.B?bK.B(this,c):bK.call(null,this,c))?Ih(function(k){return E.B(e,k.La(null))},pJ(h,JJ.R(0,c,d,536870912),JJ.R(2147483647,c,d,2147483647))):Ih(function(k){return E.B(d,k.v)&&E.B(e,
k.La(null))},pJ(f,JJ.R(0,c,null,536870912),JJ.R(2147483647,c,null,2147483647))):r(bK.B?bK.B(this,c):bK.call(null,this,c))?pJ(h,JJ.R(0,c,d,536870912),JJ.R(2147483647,c,d,2147483647)):Ih(function(k){return E.B(d,k.v)},pJ(f,JJ.R(0,c,null,536870912),JJ.R(2147483647,c,null,2147483647))):r(e)?Ih(function(k){return E.B(e,k.La(null))},pJ(f,JJ.R(0,c,null,536870912),JJ.R(2147483647,c,null,2147483647))):pJ(f,JJ.R(0,c,null,536870912),JJ.R(2147483647,c,null,2147483647)):null!=d?r(e)?Ih(function(k){return E.B(d,
k.v)&&E.B(e,k.La(null))},b):Ih(function(k){return E.B(d,k.v)},b):r(e)?Ih(function(k){return E.B(e,k.La(null))},b):b};
function nK(a,b){switch(b instanceof C?b.ea:null){case "db.unique/identity":return new X(null,3,5,Z,[am,Ar,Sy],null);case "db.unique/value":return new X(null,3,5,Z,[am,Tv,Sy],null);case "db.cardinality/many":return new X(null,1,5,Z,[Ks],null);case "db.type/ref":return new X(null,2,5,Z,[Mr,Sy],null);default:return E.B(bm,a)&&!0===b?new X(null,1,5,Z,[bm],null):E.B(Sy,a)&&!0===b?new X(null,1,5,Z,[Sy],null):E.B(Om,a)?new X(null,2,5,Z,[tt,Sy],null):Re}}
function oK(a,b){return v.F(function(c,d){return wJ(function(e,f,h){return Rh.ka(e,f,O,d,h)},c,Om.C(B.B(a,d)))},W,tt.C(b))}function pK(a){var b=Af(function(c,d,e){return Af(function(f,h,k){return v.F(function(m,n){return Rh.R(m,n,vJ,d)},f,nK(h,k))},c,e)},W,a);return O.F(b,jw,oK(a,b))}function qK(a,b,c,d){if(null!=c&&!R(d,c))throw Pl(["Bad attribute specification for ",Tk.I(M([Ve([a,Ve([b,c])])])),", expected one of ",u.C(d)].join(""),new q(null,4,[Hu,Qm,tu,a,Qz,b,vq,c],null));}
function rK(a){for(var b=F(a),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null),k=N(f,1,null),m=bm.B(k,!1);qK(h,bm,bm.C(k),new bk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var J=m;return r(J)?Hg.B(xs.C(k),Mr):J}()))throw Pl(["Bad attribute specification for ",Tk.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[Hu,Qm,tu,h,Qz,bm],null));qK(h,am,am.C(k),new bk(null,new q(null,2,[Ar,null,Tv,null],null),null));qK(h,
xs,xs.C(k),new bk(null,new q(null,2,[tt,null,Mr,null],null),null));qK(h,cp,cp.C(k),new bk(null,new q(null,2,[Ks,null,$q,null],null),null));if(E.B(tt,xs.C(k))&&!R(k,Om))throw Pl(["Bad attribute specification for ",Tk.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[Hu,Qm,tu,h,Qz,xs],null));if(R(k,Om)){f=new q(null,3,[Hu,Qm,tu,h,Qz,Om],null);if(E.B(Ks,cp.C(k)))throw Pl([Tk.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=
Om.C(k);if(!df(n))throw Pl([Tk.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",Tk.I(M([n]))].join(""),f);if(af(n))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),f);n=F(n);for(var p=null,t=0,w=0;;)if(w<t){var A=p.Da(null,w),D=O.F(f,vq,A);if(R(B.B(a,A),Om))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Tk.I(M([A]))].join(""),D);if(E.B(Ks,cp.C(B.B(a,A))))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
Tk.I(M([A]))].join(""),D);w+=1}else if(n=F(n)){if(hf(n))t=wd(n),n=xd(n),p=t,t=K(t);else{p=G(n);t=O.F(f,vq,p);if(R(B.B(a,p),Om))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Tk.I(M([p]))].join(""),t);if(E.B(Ks,cp.C(B.B(a,p))))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Tk.I(M([p]))].join(""),t);n=H(n);p=null;t=0}w=0}else break}e+=1}else if(h=F(b)){b=h;if(hf(b))c=wd(b),b=xd(b),h=c,d=K(c),c=h;else{c=G(b);h=N(c,0,null);
k=N(c,1,null);var I=bm.B(k,!1);qK(h,bm,bm.C(k),new bk(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var J=I;return r(J)?Hg.B(xs.C(k),Mr):J}()))throw Pl(["Bad attribute specification for ",Tk.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[Hu,Qm,tu,h,Qz,bm],null));qK(h,am,am.C(k),new bk(null,new q(null,2,[Ar,null,Tv,null],null),null));qK(h,xs,xs.C(k),new bk(null,new q(null,2,[tt,null,Mr,null],null),null));qK(h,cp,cp.C(k),
new bk(null,new q(null,2,[Ks,null,$q,null],null),null));if(E.B(tt,xs.C(k))&&!R(k,Om))throw Pl(["Bad attribute specification for ",Tk.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[Hu,Qm,tu,h,Qz,xs],null));if(R(k,Om)){c=new q(null,3,[Hu,Qm,tu,h,Qz,Om],null);if(E.B(Ks,cp.C(k)))throw Pl([Tk.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=Om.C(k);if(!df(d))throw Pl([Tk.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",
Tk.I(M([d]))].join(""),c);if(af(d))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=F(d);e=null;for(n=f=0;;)if(n<f){p=e.Da(null,n);t=O.F(c,vq,p);if(R(B.B(a,p),Om))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Tk.I(M([p]))].join(""),t);if(E.B(Ks,cp.C(B.B(a,p))))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Tk.I(M([p]))].join(""),t);n+=1}else if(d=F(d)){if(hf(d))f=wd(d),d=xd(d),e=f,f=K(f);else{e=G(d);
f=O.F(c,vq,e);if(R(B.B(a,e),Om))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",Tk.I(M([e]))].join(""),f);if(E.B(Ks,cp.C(B.B(a,e))))throw Pl([Tk.I(M([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",Tk.I(M([e]))].join(""),f);d=H(d);e=null;f=0}n=0}else break}b=H(b);c=null;d=0}e=0}else return null}
function lK(a){switch(arguments.length){case 0:return kK(null);case 1:return kK(arguments[0]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function kK(a){rK(a);return gK(yj([Qv,Hr,Gz,By,km,Uq,qx,ow,Kq,Fw],[a,536870912,lh(0),rJ(QJ),rJ(RJ),0,rJ(PJ),yI(),yI(),pK(Wj.I(M([new q(null,1,[ys,new q(null,1,[am,Ar],null)],null),a])))]))}
function sK(a){var b=Vx.C,c=JJ.R(536870911,null,null,2147483647),d=JJ.R(0,null,null,536870912);a=mJ(a,d,c,a.sc);a=null==a?null:ed(a);b=b.call(Vx,G(a));return r(b)?b:0}
function tK(a,b){var c=G(zh(KJ,a));if(null!=c)throw Pl(["init-db expects list of Datoms, got ",Tk.I(M([Vb(c)]))].join(""),new q(null,1,[Hu,fs],null));rK(b);c=pK(Wj.I(M([new q(null,1,[ys,new q(null,1,[am,Ar],null)],null),b])));var d=Sy.C(c),e=AI(a)?a:zI(a);e.sort(TJ);var f=qJ(PJ,e);e.sort(UJ);e=qJ(QJ,e);a=wf(Ih(function(m){return R(d,m.a)},a));a.sort(VJ);a=qJ(RJ,a);var h=sK(f),k=Df(vh.C(function(m){return m.La(null)}),Jf,536870912,f);return gK(yj([Qv,Hr,Gz,By,km,Uq,qx,ow,Kq,Fw],[b,k,lh(0),e,a,h,f,
yI(),yI(),c]))}function iK(a){var b=y(a.hash);return 0===b?mh(a.hash,xJ(Sd(a.wb),Sd(a.ob))):b}function jK(a,b){var c;if(c=b instanceof fK||!1)if(c=E.B(dK(a),dK(b)))a:for(a=ZJ(a,qx,Re),c=ZJ(b,qx,Re),b=F(a),a=F(c);;){if(null==b){c=null==a;break a}if(E.B(G(b),G(a)))b=H(b),a=H(a);else{c=!1;break a}}return c}
function hK(a,b,c){fd(b,"#datascript/DB {");fd(b,":schema ");Ik(dK(a),b,c);fd(b,", :datoms ");Ak(b,function(d,e,f){return Ak(e,Ik,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,yJ(d)],null))},"["," ","]",c,ZJ(a,qx,Re));return fd(b,"}")}
function uK(a,b,c,d,e,f,h){if(r(c)){var k=new Se(null,Ot,new Se(null,Qp,new Se(null,b,new Se(null,c,new Se(null,d,new Se(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);vK.B?vK.B(c,k):vK.call(null,c,k)}return JJ.R(function(){var m=wK.B?wK.B(a,b):wK.call(null,a,b);return r(m)?m:f}(),c,r(function(){var m=null!=d;return m?xK.B?xK.B(a,c):xK.call(null,a,c):m}())?yK.B?yK.B(a,d):yK.call(null,a,d):d,function(){var m=wK.B?wK.B(a,e):wK.call(null,a,e);return r(m)?m:h}())}
function mK(a,b,c,d,e){var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);b=b instanceof C?b.ea:null;switch(b){case "eavt":return uK(a,f,h,k,c,d,e);case "aevt":return uK(a,h,f,k,c,d,e);case "avet":return uK(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",u.C(b)].join(""));}}function zK(a,b,c,d,e,f,h,k){this.Gc=a;this.Fc=b;this.Nc=c;this.Lc=d;this.Oc=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=zK.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "db-before":return this.Gc;case "db-after":return this.Fc;case "tx-data":return this.Nc;case "tempids":return this.Lc;case "tx-meta":return this.Oc;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Ut,this.Gc],null),new X(null,2,5,Z,[Tw,this.Fc],null),new X(null,2,5,Z,[Rv,this.Nc],null),new X(null,2,5,Z,[xA,this.Lc],null),new X(null,2,5,Z,[Pm,this.Oc],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[Ut,Tw,Rv,xA,Pm],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new zK(this.Gc,this.Fc,this.Nc,this.Lc,this.Oc,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2022644885^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Gc,b.Gc)&&E.B(this.Fc,b.Fc)&&E.B(this.Nc,b.Nc)&&E.B(this.Lc,b.Lc)&&E.B(this.Oc,b.Oc)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[xA,null,Tw,null,Ut,null,Rv,null,Pm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new zK(this.Gc,this.Fc,this.Nc,this.Lc,this.Oc,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Ut,b):S.call(null,Ut,b))?new zK(c,this.Fc,this.Nc,this.Lc,this.Oc,this.G,this.D,null):r(S.B?S.B(Tw,b):S.call(null,Tw,b))?new zK(this.Gc,c,this.Nc,this.Lc,this.Oc,this.G,this.D,null):r(S.B?S.B(Rv,b):S.call(null,Rv,b))?new zK(this.Gc,this.Fc,c,this.Lc,this.Oc,this.G,this.D,null):r(S.B?S.B(xA,b):S.call(null,xA,b))?new zK(this.Gc,this.Fc,this.Nc,c,this.Oc,this.G,this.D,null):r(S.B?S.B(Pm,b):S.call(null,Pm,b))?new zK(this.Gc,this.Fc,this.Nc,this.Lc,c,this.G,this.D,
null):new zK(this.Gc,this.Fc,this.Nc,this.Lc,this.Oc,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(Ut,this.Gc,null),new Y(Tw,this.Fc,null),new Y(Rv,this.Nc,null),new Y(xA,this.Lc,null),new Y(Pm,this.Oc,null)],null),this.D))};g.ha=function(a,b){return new zK(this.Gc,this.Fc,this.Nc,this.Lc,this.Oc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function AK(a){var b=Q.I(a,Ut,M([Tw,Rv,xA,Pm]));b=ff(a)?Kh.B(W,b):b;return new zK(Ut.C(a),Tw.C(a),Rv.C(a),xA.C(a),Pm.C(a),null,Ig(b),null)}function BK(a,b,c){return R(eK(a,c),b)}function CK(a,b){return BK(a,b,Ks)}function xK(a,b){return BK(a,b,Mr)}function bK(a,b){return BK(a,b,Sy)}
function DK(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw Pl(["Highest supported entity id is ",Tk.I(M([2147483647])),", got ",Tk.I(M([b]))].join(""),new q(null,2,[Hu,Xo,vq,b],null));return b}if(df(b)){var c=b,d=N(c,0,null);c=N(c,1,null);if(Hg.B(K(b),2))throw Pl(["Lookup ref should contain 2 elements: ",Tk.I(M([b]))].join(""),new q(null,2,[Hu,Ir,Xo,b],null));if(BK(a,d,am))return null==c?null:Vx.C(G(ZJ(a,km,b)));throw Pl(["Lookup ref attribute should be marked as :db/unique: ",Tk.I(M([b]))].join(""),
new q(null,2,[Hu,ut,Xo,b],null));}if(Pb(b))b=M(b);else{if(b instanceof C)return Vx.C(G(ZJ(a,km,new X(null,2,5,Z,[ys,b],null))));throw Pl(["Expected number or lookup ref for entity id, got ",Tk.I(M([b]))].join(""),new q(null,2,[Hu,Qn,Xo,b],null));}}}function yK(a,b){a=DK(a,b);if(r(a))return a;throw Pl(["Nothing found for entity id ",Tk.I(M([b]))].join(""),new q(null,2,[Hu,cv,Xo,b],null));}function wK(a,b){return r(b)?yK(a,b):null}
function vK(a,b){if(a instanceof C||"string"===typeof a)return null;throw Pl(["Bad entity attribute ",Tk.I(M([a]))," at ",Tk.I(M([b])),", expected keyword or string"].join(""),new q(null,3,[Hu,Dt,tu,a,sz,b],null));}function EK(a,b){if(null==a)throw Pl(["Cannot store nil as a value at ",Tk.I(M([b]))].join(""),new q(null,3,[Hu,Dt,vq,a,sz,b],null));return null}function FK(a){return Oh(a,new X(null,2,5,Z,[Ut,Hr],null))+1}
function GK(a){return E.B(a,Vl)||E.B(a,":db/current-tx")||E.B(a,"datomic.tx")||E.B(a,"datascript.tx")}function HK(a){return"number"===typeof a&&0>a||"string"===typeof a}function IK(a,b){return b>Uq.C(a)&&536870912>b?O.F(a,Uq,b):a}function JK(a,b,c){var d=GK(b)?Rh.ka(a,xA,O,b,c):a;d=HK(b)?Rh.ka(d,xA,O,b,c):d;if(b=!HK(b))a=Tw.C(a),b=c>Uq.C(a)&&536870912>c;a=b?Rh.ka(d,xA,O,c,c):d;return Rh.R(a,Tw,IK,c)}
function KK(a,b,c,d,e){return Af(function(f,h,k){var m=B.B(f,h);r(m)||(m=$x.C(G(ZJ(c,qx,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:ni(Ch(K(Om.C(B.B(dK(c),h))),null)));k=O.F(m,k,e);return O.F(f,h,k)},a,b)}
function LK(a,b){var c=Tw.C(a),d=Xx.C(b),e=Rh.R,f=O.F;var h=b.tc(null);h=r(h)?BK(c,b.a,am):h;if(r(h)&&(h=Ig(ZJ(c,km,new X(null,2,5,Z,[b.a,b.v],null))),null!=h))throw Pl(["Cannot add ",Tk.I(M([b]))," because of unique constraint: ",Tk.I(M([h]))].join(""),new q(null,3,[Hu,Br,tu,b.a,Cx,b],null));h=bK(c,b.a);if(r(b.tc(null))){var k=Rh.ka(c,qx,$I,b,TJ);k=Rh.ka(k,By,$I,b,UJ);h=h?Rh.ka(k,km,$I,b,VJ):k;h=IK(h,b.e);h=O.F(h,Gz,lh(0))}else if(k=YJ(c,new X(null,3,5,Z,[b.e,b.a,b.v],null)),null==k)h=c;else{var m=
Rh.ka(c,qx,ZI,k,TJ);m=Rh.ka(m,By,ZI,k,UJ);h=h?Rh.ka(m,km,ZI,k,VJ):m;h=O.F(h,Gz,lh(0))}a=e.call(Rh,f.call(O,a,Tw,h),Rv,Qe,b);return BK(c,d,jw)?(e=Vx.C(b),b=r(zJ(b))?$x.C(b):null,f=B.B(Xy.C(a),e),f=r(f)?f:W,d=B.B(eK(c,jw),d),c=KK(f,d,c,e,b),Rh.ka(a,Xy,O,e,c)):a}
function MK(a){if(a instanceof C)return E.B("_",Ae(eg(a),0));if("string"===typeof a)return nf(wk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw Pl(["Bad attribute type: ",Tk.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[Hu,Dt,tu,a],null));}
function NK(a){if(a instanceof C)return MK(a)?dg.B($f(a),Tf.B(eg(a),1)):dg.B($f(a),["_",eg(a)].join(""));if("string"===typeof a){var b=wk(/(?:([^\/]+)\/)?([^\/]+)/,a);N(b,0,null);a=N(b,1,null);b=N(b,2,null);return E.B("_",Ae(b,0))?r(a)?[u.C(a),"/",Tf.B(b,1)].join(""):Tf.B(b,1):r(a)?[u.C(a),"/_",u.C(b)].join(""):["_",u.C(b)].join("")}throw Pl(["Bad attribute type: ",Tk.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[Hu,Dt,tu,a],null));}
function OK(a,b){function c(f,h){return v.F(function(k,m){var n=d(f,m);return null==n?Rh.R(k,0,Qe,m):Rh.ka(k,1,O,m,n)},new X(null,2,5,Z,[Re,W],null),h)}function d(f,h){return Vx.C(G(ZJ(a,km,new X(null,2,5,Z,[f,h],null))))}var e=Ig(eK(a,Ar));return null==e?new X(null,2,5,Z,[b,null],null):Af(function(f,h,k){var m=N(f,0,null);f=N(f,1,null);vK(h,b);EK(k,b);if(R(e,h)){if(CK(a,h)&&(AI(k)||bf(k)&&!ef(k))){var n=c(h,k);k=N(n,0,null);n=N(n,1,null);return new X(null,2,5,Z,[af(k)?m:O.F(m,h,k),af(n)?f:O.F(f,
h,n)],null)}n=d(h,k);return null==n?new X(null,2,5,Z,[O.F(m,h,k),f],null):new X(null,2,5,Z,[m,O.F(f,h,Ve([k,n]))],null)}return new X(null,2,5,Z,[O.F(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function PK(a,b){var c=Af(function(h,k,m){return Af(function(n,p,t){return O.F(n,t,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=K(c)){b=G(c);a=N(b,0,null);var d=N(b,1,null);b=N(d,0,null);d=N(d,1,null);var e=Ne(c);c=N(e,0,null);var f=N(e,1,null);e=N(f,0,null);f=N(f,1,null);throw Pl(["Conflicting upserts: ",Tk.I(M([new X(null,2,5,Z,[b,d],null)]))," resolves to ",Tk.I(M([a])),", but ",Tk.I(M([new X(null,2,5,Z,[e,f],null)]))," resolves to ",Tk.I(M([c]))].join(""),new q(null,3,[Hu,Do,gA,new X(null,
3,5,Z,[a,b,d],null),Bx,new X(null,3,5,Z,[c,e,f],null)],null));}d=G(c);b=N(d,0,null);c=N(d,1,null);d=N(c,0,null);c=N(c,1,null);a=eo.C(a);if(null!=b&&null!=a&&!HK(a)&&Hg.B(b,a))throw Pl(["Conflicting upsert: ",Tk.I(M([new X(null,2,5,Z,[d,c],null)]))," resolves to ",Tk.I(M([b])),", but entity already has :db/id ",Tk.I(M([a]))].join(""),new q(null,3,[Hu,Do,gA,new X(null,3,5,Z,[b,d,c],null),Bx,new q(null,1,[eo,a],null)],null));return b}
function QK(a,b,c){return MK(b)||CK(a,b)?AI(c)||bf(c)&&!ef(c)?E.B(K(c),2)&&BK(a,G(c),Ar)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function RK(a,b){var c=eo.C(b),d=Bg(V,v.F(function(e,f){var h=N(f,0,null);f=N(f,1,null);return Rh.R(e,BK(a,h,tt)?1:0,Qe,new X(null,2,5,Z,[h,f],null))},new X(null,2,5,Z,[Re,Re],null),b));return function h(f){return new fg(null,function(){for(var k=f;;){var m=F(k);if(m){var n=m,p=G(n),t=N(p,0,null),w=N(p,1,null);if(Hg.B(t,eo)){var A=vK(t,Ve([eo,c,t,w])),D=MK(t),I=D?NK(t):t;if(D&&!xK(a,I))throw Pl(["Bad attribute ",Tk.I(M([t])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),
new q(null,3,[Hu,Dt,tu,t,sz,Ve([eo,c,t,w])],null));if(m=F(function(J,T,P,U,ea,ra,Ha,va,hb,Ya,Ea,Ma){return function mb(Ba){return new fg(null,function(pd,lc,oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce){return function(){for(;;){var He=F(Ba);if(He){if(hf(He)){var Nd=wd(He),Od=K(Nd),Pd=jg(Od);a:for(var hj=0;;)if(hj<Od){var ei=x(Nd,hj);ei=xK(a,Gb)&&ef(ei)?O.F(ei,NK(Ge),ce):oc?new X(null,4,5,Z,[nA,ei,Gb,ce],null):new X(null,4,5,Z,[nA,ce,Gb,ei],null);Pd.add(ei);hj+=1}else{Nd=!0;break a}return Nd?lg(ng(Pd),mb(xd(He))):
lg(ng(Pd),null)}Pd=G(He);return Je(xK(a,Gb)&&ef(Pd)?O.F(Pd,NK(Ge),ce):oc?new X(null,4,5,Z,[nA,Pd,Gb,ce],null):new X(null,4,5,Z,[nA,ce,Gb,Pd],null),mb(be(He)))}return null}}}(J,T,P,U,ea,ra,Ha,va,hb,Ya,Ea,Ma),null,null)}}(k,A,D,I,null,p,t,w,n,m,c,d)(QK(a,t,w))))return V.B(m,h(be(k)))}k=be(k)}else return null}},null,null)}(d)}
function SK(a,b){N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null);vK(d,b);EK(e,b);b=r(f)?f:FK(a);f=Tw.C(a);c=yK(f,c);e=xK(f,d)?yK(f,e):e;var h=JJ.R(c,d,e,b);f=CK(f,d)?YJ(f,new X(null,3,5,Z,[c,d,e],null)):YJ(f,new X(null,2,5,Z,[c,d],null));return null==f?LK(a,h):E.B(f.v,e)?Rh.R(a,zw,uJ,h):LK(LK(a,JJ.ka(c,d,f.v,b,!1)),h)}function TK(a,b){var c=FK(a);return LK(a,JJ.ka(b.e,b.a,b.v,c,!1))}
function UK(a,b){return Kh.F(dk,ch.B(Hh(function(c){return BK(a,c.a,bm)}),vh.C(function(c){return new X(null,2,5,Z,[mn,c.v],null)})),b)}function VK(a,b,c,d,e){if(R(xA.C(a),d))throw Pl(["Conflicting upsert: ",Tk.I(M([d]))," resolves both to ",Tk.I(M([e]))," and ",Tk.I(M([Oh(a,new X(null,2,5,Z,[xA,d],null))]))].join(""),new q(null,1,[Hu,Do],null));b=O.F(xA.C(b),d,e);a=O.F(a,xA,b);return WK.B?WK.B(a,c):WK.call(null,a,c)}
var XK=new bk(null,new q(null,8,[tp,null,Dp,null,mn,null,po,null,Lv,null,tw,null,Am,null,nA,null],null),null);function YK(a){var b=Tw.C(a);dK(b);eK(b,jw);return Af(function(c,d,e){return Af(function(f,h,k){k=Zg(Ob,k)?null:k;var m=$x.C(G(ZJ(b,qx,new X(null,2,5,Z,[d,h],null))));return E.B(k,m)?f:null==k?Qe.B(f,Ye(new X(null,4,5,Z,[Lv,d,h,m],null),new q(null,1,[lw,!0],null))):Qe.B(f,Ye(new X(null,4,5,Z,[nA,d,h,k],null),new q(null,1,[lw,!0],null)))},c,e)},Re,Xy.C(a))}
function ZK(a){var b=im.C(a);b=v.F(function(c,d){return r(zJ(d))?Q.B(c,Vx.C(d)):c},b,V.B(Rv.C(a),zw.C(a)));if(af(b))return Q.I(a,im,M([zw]));throw Pl(["Tempids used only as value in transaction: ",Tk.I(M([vf(sf,Oi(b))]))].join(""),new q(null,2,[Hu,Dt,xA,b],null));}
function WK(a,b){if(null!=b&&!df(b))throw Pl(["Bad transaction data ",Tk.I(M([b])),", expected sequential collection"].join(""),new q(null,2,[Hu,Dt,Rv,b],null));for(var c=!af(eK(Tw.C(a),tt)),d=c?Fh.B(b,Bh(cm)):b,e=a,f=d;;){if(af(f))return Rh.ka(Rh.ka(ZK(e),xA,O,Vl,FK(e)),Tw,Rh,Hr,le);var h=f,k=F(h),m=G(k),n=H(k),p=m,t=n;if(null==p)f=t;else if(E.B(cm,p))if(R(e,Xy)){var w=Q.B(e,Xy);t=V.B(YK(e),t);e=w;f=t}else f=t;else{var A=Tw.C(e),D=xA.C(e);if(ef(p)){var I=eo.C(p);if(GK(I))w=FK(e),e=JK(e,I,w),f=t=
Je(O.F(p,eo,w),t);else if(df(I))w=yK(A,I),f=t=Je(O.F(p,eo,w),t);else{var J=OK(A,p);w=N(J,0,null);J=N(J,1,null);var T=PK(w,J);if(null!=T){if(HK(I)&&R(D,I)&&Hg.B(T,B.B(D,I)))return VK(a,e,b,I,T);e=Rh.R(JK(e,I,T),zw,uJ,JJ.R(T,null,null,536870912));f=t=V.B(RK(A,O.F(w,eo,T)),t)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?Uq.C(A)+1:HK(I)?function(){var Gb=B.B(D,I);return r(Gb)?Gb:Uq.C(A)+1}():I,p=O.F(p,eo,w),e=JK(e,I,w),f=t=V.B(RK(A,p),t);else throw Pl(["Expected number, string or lookup ref for :db/id, got ",
Tk.I(M([I]))].join(""),new q(null,2,[Hu,Qn,Vw,p],null));}}else if(df(p)){var P=p;J=N(P,0,null);var U=N(P,1,null);w=N(P,2,null);var ea=N(P,3,null);if(E.B(J,tp)){w=F(p);p=G(w);w=H(w);var ra=p;p=G(w);w=H(w);f=t=V.B(Cg(p,A,w),t)}else if(J instanceof C&&Rb(XK.C?XK.C(J):XK.call(null,J))){ra=DK(A,J);if(null==ra)throw Pl(["Cant find entity for transaction fn ",Tk.I(M([J]))].join(""),new q(null,3,[Hu,Dt,go,tp,Rv,p],null));U=$x.C(YJ(A,new X(null,2,5,Z,[ra,Pn],null)));w=H(p);if(We(U))f=t=V.B(Cg(U,A,w),t);else throw Pl(["Entity ",
Tk.I(M([J]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[Hu,Dt,go,tp,Rv,p],null));}else{if(HK(U)&&Hg.B(J,nA))throw Pl(["Can't use tempid in '",Tk.I(M([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[Hu,Dt,du,p],null));if(E.B(J,Am)||E.B(J,Dp)){var Ha=p;ra=N(Ha,0,null);var va=N(Ha,1,null),hb=N(Ha,2,null),Ya=N(Ha,3,null),Ea=N(Ha,4,null),Ma=yK(A,va),za=vK(hb,p),Ba=xK(A,hb)?yK(A,Ya):Ya,mb=xK(A,hb)?yK(A,Ea):Ea,pd=EK(mb,p),lc=ni(XJ(A,new X(null,2,5,Z,
[Ma,hb],null)));if(CK(A,hb))if(r($g(function(Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od){return function(Pd){return E.B(Pd.v,Od)}}(e,f,Ha,ra,va,hb,Ya,Ea,Ma,za,Ba,mb,pd,lc,P,J,U,w,ea,A,D,h,k,m,n,p,t,a,c,d),lc)))e=SK(e,new X(null,4,5,Z,[nA,Ma,hb,mb],null)),f=t;else throw Pl([":db.fn/cas failed on datom [",Tk.I(M([Ma]))," ",Tk.I(M([hb]))," ",Tk.I(M([vh.B($x,lc)])),"], expected ",Tk.I(M([Ba]))].join(""),new q(null,4,[Hu,ym,zz,lc,et,Ba,Kv,mb],null));else if(J=$x.C(G(lc)),E.B(J,Ba))e=SK(e,new X(null,4,5,Z,[nA,Ma,
hb,mb],null)),f=t;else throw Pl([":db.fn/cas failed on datom [",Tk.I(M([Ma]))," ",Tk.I(M([hb]))," ",Tk.I(M([J])),"], expected ",Tk.I(M([Ba]))].join(""),new q(null,4,[Hu,ym,zz,G(lc),et,Ba,Kv,mb],null));}else if(GK(U))p=JK(e,U,FK(e)),t=Je(new X(null,4,5,Z,[J,FK(e),w,ea],null),t),e=p,f=t;else if(xK(A,w)&&GK(ea))p=JK(e,ea,FK(e)),t=Je(new X(null,4,5,Z,[J,U,w,FK(e)],null),t),e=p,f=t;else if(xK(A,w)&&HK(ea))ra=B.B(D,ea),null==ra?(p=Uq.C(A)+1,e=Rh.ka(JK(e,ea,p),im,O,p,ea),f=t=f):(p=ra,e=Rh.ka(e,im,O,p,ea),
f=t=Je(new X(null,4,5,Z,[J,U,w,p],null),t));else if(HK(U)){T=BK(A,w,Ar)?Vx.C(G(ZJ(A,km,new X(null,2,5,Z,[w,ea],null)))):null;var oc=B.B(D,U);if(r(function(){var Gb=T;return r(Gb)?(Gb=oc,r(Gb)?Hg.B(T,oc):Gb):Gb}()))return VK(a,e,b,U,T);p=function(){var Gb=T;if(r(Gb))return Gb;Gb=oc;return r(Gb)?Gb:Uq.C(A)+1}();e=JK(e,U,p);f=t=Je(new X(null,4,5,Z,[J,p,w,ea],null),t)}else if(Rb(lw.C(Ze(p)))&&BK(A,w,tt))if(va=Oh(A,new X(null,3,5,Z,[Qv,w,Om],null)),E.B(K(va),K(ea))&&Zg(Sb,ea)&&Zg(function(Gb,Fe,bg,Ge,
Yg,pe,cg,ce,He){return function(Nd){var Od=N(Nd,0,null);Nd=N(Nd,1,null);Od=$x.C(G(ZJ(He,qx,new X(null,2,5,Z,[pe,Od],null))));return E.B(Nd,Od)}}(e,f,va,P,J,U,w,ea,A,D,h,k,m,n,p,t,a,c,d),vh.F(ri,va,ea)))f=t;else throw Pl(["Cant modify tuple attrs directly: ",Tk.I(M([p]))].join(""),new q(null,2,[Hu,Dt,Rv,p],null));else if(E.B(J,nA))e=SK(e,p),f=t;else if(E.B(J,Lv)&&null!=ea)ra=DK(A,U),null==ra?f=t:(va=ra,J=xK(A,w)?yK(A,ea):ea,vK(w,p),EK(J,p),w=YJ(A,new X(null,3,5,Z,[va,w,J],null)),null==w?f=t:(e=TK(e,
w),f=t));else if(E.B(J,tw)||E.B(J,Lv))ra=DK(A,U),null==ra?f=t:(va=ra,ra=vK(w,p),lc=ni(XJ(A,new X(null,2,5,Z,[va,w],null))),e=v.F(TK,e,lc),f=t=V.B(UK(A,lc),t));else if(E.B(J,mn)||E.B(J,po))ra=DK(A,U),null==ra?f=t:(va=ra,lc=ni(XJ(A,new X(null,1,5,Z,[va],null))),w=ni(Gh(function(Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od){return function(Pd){return XJ(Od,new X(null,3,5,Z,[null,Pd,Ge],null))}}(e,f,lc,va,ra,P,J,U,w,ea,A,D,h,k,m,n,p,t,a,c,d),M([eK(A,Mr)]))),e=v.F(TK,e,V.B(lc,w)),f=t=V.B(UK(A,lc),t));else throw Pl(["Unknown operation at ",
Tk.I(M([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new q(null,3,[Hu,Dt,go,J,Rv,p],null));}}else if(KJ(p))J=p,U=N(J,0,null),w=N(J,1,null),ea=N(J,2,null),p=N(J,3,null),J=N(J,4,null),r(J)?(e=SK(e,new X(null,5,5,Z,[nA,U,w,ea,p],null)),f=t):f=t=Je(new X(null,
4,5,Z,[Lv,U,w,ea],null),t);else throw Pl(["Bad entity type at ",Tk.I(M([p])),", expected map or vector"].join(""),new q(null,2,[Hu,Dt,Rv,p],null));}}};function $K(a,b){b="number"===typeof b||df(b)||b instanceof C?DK(a,b):null;if(r(b)){var c=hh(!1),d=hh(W);return aL.R?aL.R(a,b,c,d):aL.call(null,a,b,c,d)}return null}function bL(a,b,c){return CK(a,b)?xK(a,b)?v.F(function(d,e){return Qe.B(d,$K(a,$x.C(e)))},dk,c):v.F(function(d,e){return Qe.B(d,$x.C(e))},dk,c):xK(a,b)?$K(a,$x.C(G(c))):$x.C(G(c))}
function cL(a,b,c,d){b=Ig(XJ(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?BK(a,c,bm)?$K(a,Vx.C(G(b))):v.F(function(e,f){return Qe.B(e,$K(a,Vx.C(f)))},dk,b):d}function dL(a){return r(a)?wf(a):null}
function eL(a){fL.C?fL.C(a):fL.call(null,a);return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=CK(a.db,p)?new X(null,2,5,Z,[p,dL(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}f=G(e);k=N(f,0,null);f=N(f,1,null);return Je(CK(a.db,k)?new X(null,2,5,Z,[k,dL(f)],null):new X(null,2,5,Z,[k,f],null),d(be(e)))}return null}},
null,null)}(y(a.cache))}function gL(a,b,c,d){this.db=a;this.ud=b;this.tg=c;this.cache=d;this.K=2162164483;this.Y=0}g=gL.prototype;g.entry_set=function(){return wf(vh.B(wf,eL(this)))};
g.forEach=function(){function a(d,e){for(var f=F(eL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.Da(null,m),p=N(n,0,null);n=N(n,1,null);d.call(e,n,p,this);m+=1}else if(f=F(f))hf(f)?(h=wd(f),f=xd(f),p=h,k=K(h),h=p):(h=G(f),p=N(h,0,null),n=N(h,1,null),d.call(e,n,p,this),f=H(f),h=null,k=0),m=0;else return null}function b(d){for(var e=F(eL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);d.F?d.F(m,n,this):d.call(null,m,n,this);k+=1}else if(e=F(e))hf(e)?(f=wd(e),e=xd(e),n=f,h=
K(f),f=n):(f=G(e),n=N(f,0,null),m=N(f,1,null),d.F?d.F(m,n,this):d.call(null,m,n,this),e=H(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.C=b;c.B=a;return c}();g.get=function(a){if(E.B(a,":db/id"))return this.ud;if(MK(a))return dL(cL(this.db,this.ud,NK(a),null));var b=hL?hL(this,a):iL.call(null,this,a);return CK(this.db,a)?dL(b):b};g.key_set=function(){return wf(Ni(this))};
g.entries=function(){return new Ii(F(eL(this)))};g.value_set=function(){return wf(vh.B(Ne,eL(this)))};g.toString=function(){return Hd(this)};g.keys=function(){return fe(Ni(this))};g.values=function(){return fe(vh.B(Ne,eL(this)))};g.equiv=function(a){return jL.B?jL.B(this,a):jL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.oa=function(a,b){return kL?kL(this,b,null):iL.call(null,this,b,null)};g.T=function(a,b,c){return kL?kL(this,b,c):iL.call(null,this,b,c)};
g.ia=function(a,b,c){return id(O.F(y(this.cache),eo,this.ud),b,c)};g.ma=function(){fL.C?fL.C(this):fL.call(null,this);return K(y(this.cache))};g.ja=function(){return Sd(this.ud)};g.ba=function(a,b){return jL.B?jL.B(this,b):jL.call(null,this,b)};g.ra=function(a,b){return Hg.B(Dw,kL?kL(this,b,Dw):iL.call(null,this,b,Dw))};g.la=function(){fL.C?fL.C(this):fL.call(null,this);return F(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(ac(b)))};g.C=function(a){return hL?hL(this,a):iL.call(null,this,a)};g.B=function(a,b){return kL?kL(this,a,b):iL.call(null,this,a,b)};function aL(a,b,c,d){return new gL(a,b,c,d)}
function jL(a,b){return b instanceof gL&&E.B(a.ud,b.ud)}function iL(a){switch(arguments.length){case 2:return hL(arguments[0],arguments[1]);case 3:return kL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function hL(a,b){return kL(a,b,null)}
function kL(a,b,c){if(E.B(b,eo))return a.ud;if(MK(b))return cL(a.db,a.ud,NK(b),c);var d=y(a.cache);d=d.C?d.C(b):d.call(null,b);if(null==d){if(r(y(a.tg)))return c;d=Ig(XJ(a.db,new X(null,2,5,Z,[a.ud,b],null)));if(null==d)return c;c=bL(a.db,b,d);b=O.F(y(a.cache),b,c);Dd(a.cache,b);return c}return d}function lL(a,b){return Af(function(c,d,e){return O.F(c,d,BK(a,d,bm)?CK(a,d)?fk(vh.B(fL,e)):fL.C?fL.C(e):fL.call(null,e):e)},W,b)}
function mL(a,b){return v.F(function(c,d){var e=Xx.C(G(d));return O.F(c,e,bL(a,e,d))},W,sk(Xx,b))}function fL(a){if(!r(y(a.tg))){var b=Ig(XJ(a.db,new X(null,1,5,Z,[a.ud],null)));r(b)&&(b=lL(a.db,mL(a.db,b)),Dd(a.cache,b),Dd(a.tg,!0))}return a}ba("datascript.impl.entity.Entity",gL);var nL=function nL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return nL.I(c)};nL.I=function(a){var b=K(a);return Hg.B(wh.B(b/2,a),xh(b/2,a))};nL.aa=0;nL.ca=function(a){return this.I(F(a))};var oL=function oL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new $d(c.slice(2),0,null):null;return oL.I(arguments[0],arguments[1],c)};
oL.I=function(a,b,c){return v.F(function(d,e){d=G(XJ(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:ne(new X(null,2,5,Z,[Xx.C(d),$x.C(d)],null))},null,c)};oL.aa=2;oL.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};var pL=function pL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return pL.I(c)};pL.I=function(a){return v.F(function(b,c){return r(c)?c:ne(c)},!0,a)};pL.aa=0;pL.ca=function(a){return this.I(F(a))};
var qL=function qL(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return qL.I(c)};qL.I=function(a){return v.F(function(b,c){return r(c)?ne(c):c},null,a)};qL.aa=0;qL.ca=function(a){return this.I(F(a))};
var rL=function rL(a){switch(arguments.length){case 1:return rL.C(arguments[0]);case 2:return rL.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return rL.I(arguments[0],arguments[1],c)}};rL.C=function(){return!0};rL.B=function(a,b){return 0>NJ(a,b)};rL.I=function(a,b,c){for(;;)if(rL.B(a,b))if(H(c))a=b,b=G(c),c=H(c);else return rL.B(b,G(c));else return!1};
rL.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};rL.aa=2;var sL=function sL(a){switch(arguments.length){case 1:return sL.C(arguments[0]);case 2:return sL.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return sL.I(arguments[0],arguments[1],c)}};sL.C=function(){return!0};sL.B=function(a,b){return 0<NJ(a,b)};
sL.I=function(a,b,c){for(;;)if(sL.B(a,b))if(H(c))a=b,b=G(c),c=H(c);else return sL.B(b,G(c));else return!1};sL.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};sL.aa=2;var tL=function tL(a){switch(arguments.length){case 1:return tL.C(arguments[0]);case 2:return tL.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return tL.I(arguments[0],arguments[1],c)}};tL.C=function(){return!0};
tL.B=function(a,b){return!(0<NJ(a,b))};tL.I=function(a,b,c){for(;;)if(tL.B(a,b))if(H(c))a=b,b=G(c),c=H(c);else return tL.B(b,G(c));else return!1};tL.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};tL.aa=2;
var uL=function uL(a){switch(arguments.length){case 1:return uL.C(arguments[0]);case 2:return uL.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return uL.I(arguments[0],arguments[1],c)}};uL.C=function(){return!0};uL.B=function(a,b){return!(0>NJ(a,b))};uL.I=function(a,b,c){for(;;)if(uL.B(a,b))if(H(c))a=b,b=G(c),c=H(c);else return uL.B(b,G(c));else return!1};
uL.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};uL.aa=2;
var vL=yj([Hs,Fx,aw,qy,uv,Hx,Ep,dv,cq,xv,Gy,qz,gu,In,lA,wy,mm,Oq,cx,Qu,Ov,kq,xx,an,Uz,Xv,Xn,yr,Sz,Mt,Vt,fq,Im,Oo,nm,tr,uy,Bu,Fn,Yp,qo,qt,kx,yo,zs,at,Lo,or,fu,fr,Hz,hw,so,Gu,ru,mw,ur,Fm,Gs,vt,yu,Jy,Um,Up,bA,uz,Ny,Fy,Qo,Ax,On,wm,qw,hp],[function(a){return!0===a},pL,function(a){return!ah(a)},function(a,b,c,d){if(null==d)throw Pl("get-else: nil default value is not supported",new q(null,1,[Hu,Wn],null));a=G(XJ(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:$x.C(a)},uL,Vk,sL,K,oL,Ob,Bf,le,Hf,Of,function(a){return!1===
a},Rb,Bf,nL,ri,zk,tL,function(a,b){return 0==a.lastIndexOf(b,0)},E,Kf,Ef,eg,function(a,b,c){return null==B.B($K(a,b),c)},Bf,ul,bh,Rf,Rj,sf,pk,Jf,af,Gf,Tk,Wk,Ze,function(a){return 0===a},Hg,Uk,If,function(a){if(a instanceof RegExp)return a;var b=xk(/^\(\?([idmsux]*)\)/,a),c=N(b,0,null);b=N(b,1,null);a=Tf.B(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")},ri,Hg,B,u,rL,$f,dg,Ff,Sb,Sf,tl,wk,Xf,R,function(a,b){return Fa(a,b)},Tf,Nf,function(a,b){return-1!=a.indexOf(b)},Sj,Pf,ah,Vb,function(a){return 0>
a},FA,Ig,qL,function(a,b){return a===b},fk,xk]);function wL(a){return v.F(Ef,0,a)}function xL(a){return wL(a)/K(a)}function yL(a){var b=xL(a);return wL(function(){return function e(d){return new fg(null,function(){for(;;){var f=F(d);if(f){if(hf(f)){var h=wd(f),k=K(h),m=jg(k);a:for(var n=0;;)if(n<k){var p=x(h,n)-b;m.add(p*p);n+=1}else{h=!0;break a}return h?lg(ng(m),e(xd(f))):lg(ng(m),null)}m=G(f)-b;return Je(m*m,e(be(f)))}return null}},null,null)}(a)}())/K(a)}
var zL=function zL(a){switch(arguments.length){case 1:return zL.C(arguments[0]);case 2:return zL.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};zL.C=function(a){return v.F(function(b,c){return 0>sf(c,b)?c:b},G(a),H(a))};zL.B=function(a,b){return ni(v.F(function(c,d){return K(c)<a?vf(sf,Qe.B(c,d)):0>sf(d,Pe(c))?vf(sf,Qe.B(hk(c),d)):c},Re,b))};zL.aa=2;
var AL=function AL(a){switch(arguments.length){case 1:return AL.C(arguments[0]);case 2:return AL.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};AL.C=function(a){return v.F(function(b,c){return 0<sf(c,b)?c:b},G(a),H(a))};AL.B=function(a,b){return ni(v.F(function(c,d){return K(c)<a?vf(sf,Qe.B(c,d)):0<sf(d,G(c))?vf(sf,Qe.B(H(c),d)):c},Re,b))};AL.aa=2;
var BL=function BL(a){switch(arguments.length){case 1:return BL.C(arguments[0]);case 2:return BL.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};BL.C=function(a){return Ae(a,ul(K(a)))};BL.B=function(a,b){return ni(Eh(a,function(){return Ae(b,ul(K(b)))}))};BL.aa=2;
var CL=yj([rn,dv,Ht,Eu,an,nm,dx,py,vy,Mm,mw,Gr],[yL,K,function(a){var b=vf(sf,a);a=K(a);var c=a>>1,d=Ae(b,c);return ah(a)?(d+Ae(b,c-1))/2:d},wL,zL,AL,function(a){return K(gk(a))},fk,xL,function(a){return Math.sqrt(yL(a))},BL,function(a,b){var c=wh.B;b=wf.C?wf.C(b):wf.call(null,b);const d=Math.random;for(let e=b.length-1;0<e;e--){const f=Math.floor(d()*(e+1)),h=b[e];b[e]=b[f];b[f]=h}b=ni.C?ni.C(b):ni.call(null,b);return ni(c.call(wh,a,b))}]);function DL(a,b,c,d,e,f,h,k,m,n,p,t,w,A,D){this.as=a;this.Lb=b;this.limit=c;this.name=d;this.pattern=e;this.tb=f;this.ub=h;this.yb=k;this.Ya=m;this.sb=n;this.vb=p;this.rb=t;this.G=w;this.D=A;this.J=D;this.K=2230716170;this.Y=139264}g=DL.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "as":return this.as;case "default":return this.Lb;case "limit":return this.limit;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.tb;case "recursive?":return this.ub;case "reverse?":return this.yb;case "xform":return this.Ya;case "multival?":return this.sb;case "ref?":return this.vb;case "component?":return this.rb;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,V.B(new X(null,12,5,Z,[new X(null,2,5,Z,[hz,this.as],null),new X(null,2,5,Z,[Kl,this.Lb],null),new X(null,2,5,Z,[gm,this.limit],null),new X(null,2,5,Z,[Kr,this.name],null),new X(null,2,5,Z,[Az,this.pattern],null),new X(null,2,5,Z,[Es,this.tb],null),new X(null,2,5,Z,[Qy,this.ub],null),new X(null,2,5,Z,[bz,this.yb],null),new X(null,2,5,Z,[eq,this.Ya],null),new X(null,2,5,Z,[Wm,
this.sb],null),new X(null,2,5,Z,[Bv,this.vb],null),new X(null,2,5,Z,[Bn,this.rb],null)],null),this.D))};g.qa=function(){return new Hi(this,12,new X(null,12,5,Z,[hz,Kl,gm,Kr,Az,Es,Qy,bz,eq,Wm,Bv,Bn],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,this.J)};g.ma=function(){return 12+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1743810262^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.as,b.as)&&E.B(this.default,b.default)&&E.B(this.limit,b.limit)&&E.B(this.name,b.name)&&E.B(this.pattern,b.pattern)&&E.B(this.tb,b.tb)&&E.B(this.ub,b.ub)&&E.B(this.yb,b.yb)&&E.B(this.Ya,b.Ya)&&E.B(this.sb,b.sb)&&E.B(this.vb,b.vb)&&E.B(this.rb,b.rb)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,12,[eq,null,gm,null,bz,null,Es,null,Kl,null,Kr,null,hz,null,Qy,null,Bn,null,Bv,null,Wm,null,Az,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(hz,b):S.call(null,hz,b))?new DL(c,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Kl,b):S.call(null,Kl,b))?new DL(this.as,c,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(gm,b):S.call(null,gm,b))?new DL(this.as,this.Lb,c,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,
null):r(S.B?S.B(Kr,b):S.call(null,Kr,b))?new DL(this.as,this.Lb,this.limit,c,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new DL(this.as,this.Lb,this.limit,this.name,c,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Es,b):S.call(null,Es,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,c,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Qy,b):
S.call(null,Qy,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,c,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(bz,b):S.call(null,bz,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,c,this.Ya,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(eq,b):S.call(null,eq,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,c,this.sb,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Wm,b):S.call(null,Wm,
b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,c,this.vb,this.rb,this.G,this.D,null):r(S.B?S.B(Bv,b):S.call(null,Bv,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,c,this.rb,this.G,this.D,null):r(S.B?S.B(Bn,b):S.call(null,Bn,b))?new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,c,this.G,this.D,null):new DL(this.as,this.Lb,this.limit,this.name,this.pattern,
this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,12,5,Z,[new Y(hz,this.as,null),new Y(Kl,this.Lb,null),new Y(gm,this.limit,null),new Y(Kr,this.name,null),new Y(Az,this.pattern,null),new Y(Es,this.tb,null),new Y(Qy,this.ub,null),new Y(bz,this.yb,null),new Y(eq,this.Ya,null),new Y(Wm,this.sb,null),new Y(Bv,this.vb,null),new Y(Bn,this.rb,null)],null),this.D))};
g.ha=function(a,b){return new DL(this.as,this.Lb,this.limit,this.name,this.pattern,this.tb,this.ub,this.yb,this.Ya,this.sb,this.vb,this.rb,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function EL(a){var b=Q.I(a,hz,M([Kl,gm,Kr,Az,Es,Qy,bz,eq,Wm,Bv,Bn]));b=ff(a)?Kh.B(W,b):b;return new DL(hz.C(a),Kl.C(a),gm.C(a),Kr.C(a),Az.C(a),Es.C(a),Qy.C(a),bz.C(a),eq.C(a),Wm.C(a),Bv.C(a),Bn.C(a),null,Ig(b),null)}
function FL(a,b,c,d,e,f,h,k){this.wa=a;this.lc=b;this.vc=c;this.kc=d;this.Cb=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=FL.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "attrs":return this.wa;case "first-attr":return this.lc;case "last-attr":return this.vc;case "reverse-attrs":return this.kc;case "wildcard?":return this.Cb;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Iw,this.wa],null),new X(null,2,5,Z,[lo,this.lc],null),new X(null,2,5,Z,[kA,this.vc],null),new X(null,2,5,Z,[tq,this.kc],null),new X(null,2,5,Z,[qu,this.Cb],null)],null),this.D))};
g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[Iw,lo,kA,tq,qu],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new FL(this.wa,this.lc,this.vc,this.kc,this.Cb,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-795554044^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wa,b.wa)&&E.B(this.lc,b.lc)&&E.B(this.vc,b.vc)&&E.B(this.kc,b.kc)&&E.B(this.Cb,b.Cb)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,5,[tq,null,lo,null,Iw,null,qu,null,kA,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new FL(this.wa,this.lc,this.vc,this.kc,this.Cb,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Iw,b):S.call(null,Iw,b))?new FL(c,this.lc,this.vc,this.kc,this.Cb,this.G,this.D,null):r(S.B?S.B(lo,b):S.call(null,lo,b))?new FL(this.wa,c,this.vc,this.kc,this.Cb,this.G,this.D,null):r(S.B?S.B(kA,b):S.call(null,kA,b))?new FL(this.wa,this.lc,c,this.kc,this.Cb,this.G,this.D,null):r(S.B?S.B(tq,b):S.call(null,tq,b))?new FL(this.wa,this.lc,this.vc,c,this.Cb,this.G,this.D,null):r(S.B?S.B(qu,b):S.call(null,qu,b))?new FL(this.wa,this.lc,this.vc,this.kc,c,this.G,this.D,
null):new FL(this.wa,this.lc,this.vc,this.kc,this.Cb,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(Iw,this.wa,null),new Y(lo,this.lc,null),new Y(kA,this.vc,null),new Y(tq,this.kc,null),new Y(qu,this.Cb,null)],null),this.D))};g.ha=function(a,b){return new FL(this.wa,this.lc,this.vc,this.kc,this.Cb,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function GL(a){var b=Q.I(a,Iw,M([lo,kA,tq,qu]));b=ff(a)?Kh.B(W,b):b;return new FL(Iw.C(a),lo.C(a),kA.C(a),tq.C(a),qu.C(a),null,Ig(b),null)}var HL=EL(new q(null,3,[Kr,eo,hz,eo,eq,Bf],null)),IL=GL(new q(null,1,[Iw,new Se(null,HL,null,1,null)],null)),JL=O.F(IL,qu,!0);function KL(a,b,c){if(r(a))return null;throw Pl(["Expected ",u.C(b),", got: ",Tk.I(M([c]))].join(""),new q(null,2,[Hu,jr,Ro,c],null));}
function LL(a,b){var c=MK(b),d=c?NK(b):b,e=xK(a,d),f=BK(a,d,bm);a=CK(a,d);if(c){KL(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return EL(yj([eq,gm,bz,Kr,hz,Bn,Bv,Wm,Az],[Bf,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?IL:f?JL:IL:null]))}function ML(a,b,c){KL("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);KL(CK(a,Kr.C(b)),"limit attribute having :db.cardinality/many",Kr.C(b))}
function NL(a,b){var c=function(){var d=G(b);return OL.B?OL.B(a,d):OL.call(null,a,d)}();if(null==c)return null;KL(ah(K(H(b))),"even number of opts",b);return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);switch(f instanceof C?f.ea:null){case "as":return O.F(d,hz,e);case "limit":return ML(a,d,e),O.F(d,gm,e);case "default":return O.F(d,Kl,e);case "xform":f=O.F;var h=We(e)?e:null;if(r(h))e=h;else if(h=B.B(vL,e),r(h))e=h;else throw Pl(["Can't resolve symbol ",Tk.I(M([e]))].join(""),new q(null,2,[Hu,
jr,Ro,e],null));return f.call(O,d,eq,e);default:return KL(!1,"one of :as, :limit, :default, :xform",b)}},c,Nh(2,2,H(b)))}
function OL(a,b){var c;!(c=b instanceof C)&&(c="string"===typeof b)&&(c=new bk(null,new q(null,2,["limit",null,"default",null],null),null),c=c.C?c.C(b):c.call(null,b),c=Rb(c));if(c)return LL(a,b);if(df(b)){c=NL(a,b);if(r(c))return c;c=G(b);var d=new bk(null,new q(null,2,[kn,null,"limit",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(KL(E.B(K(b),3),"['limit attr-name (positive-number | nil)]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),d=OL.B?OL.B(a,d):OL.call(null,a,d),ML(a,d,c),c=O.F(d,gm,c)):
c=null;if(r(c))return c;c=G(b);d=new bk(null,new q(null,2,[uu,null,"default",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(KL(E.B(K(b),3),"['default attr-name any-value]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),a=OL.B?OL.B(a,d):OL.call(null,a,d),a=O.F(a,Kl,c)):a=null;return r(a)?a:KL(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null}
function PL(a,b){return $g(function(c){var d=N(c,0,null);c=N(c,1,null);return r(a.C?a.C(d):a.call(null,d))?c:null},vh.F(ri,b,pk.P()))}function QL(a,b){var c=r(bz.C(b))?tq:Iw,d=PL(function(e){return E.B(hz.C(e),hz.C(b))},B.B(a,c));return null==d?Rh.R(a,c,Qe,b):Rh.ka(a,c,O,d,b)}
function RL(a,b){KL(df(b),"pattern to be sequential?",b);for(var c=GL(new q(null,3,[Iw,Re,tq,Re,qu,null],null));;){if(af(b)){var d=c.wa,e=function(){return function(k){k=k.name;var m=new bk(null,new q(null,2,[eo,null,":db/id",null],null),null);return m.C?m.C(k):m.call(null,k)}}(b,c,d);b=function(){return function(k){k=Kr.C(k);return k instanceof C?k:E.B(":",Tf.F(k,0,1))?dg.C(Tf.B(k,1)):dg.C(k)}}(b,c,d,e);d=r(function(){var k=c.Cb;return r(k)?Rb($g(e,c.wa)):k}())?Qe.B(d,HL):d;d=F(xf(b,d));var f=Jh(e,
d),h=G(f);f=Pe(f);return GL(new q(null,5,[Iw,d,lo,h,kA,f,tq,F(xf(b,c.kc)),qu,c.Cb],null))}h=G(b);if(E.B(uy,h)||E.B("*",h)||E.B(no,h))b=H(b),c=d=O.F(c,qu,!0);else if(ef(h))d=Af(function(){return function(k,m,n){var p=OL(a,m);KL(null!=p,"attr-name | attr-expr",m);KL(xK(a,Kr.C(p)),"attribute having :db.type/ref",m);E.B(lx,n)||E.B("...",n)?m=O.I(p,Az,null,M([Qy,!0,Es,null])):"number"===typeof n?(KL(0<n,"(positive-num | ...)",Ve([m,n])),m=O.I(p,Az,null,M([Qy,!0,Es,n]))):m=O.F(p,Az,RL.B?RL.B(a,n):RL.call(null,
a,n));return QL(k,m)}}(b,c,h),c,h),b=H(b),c=d;else{d=OL(a,h);if(null==d)return KL(!1,"attr-name | attr-expr | map-spec | *",h);b=H(b);c=d=QL(c,d)}}};function SL(a){return null==a?null:sc(a)}function TL(a){return null==a?null:vc(a)}function UL(a,b){return null==a?new Se(null,b,null,1,null):nc(a,b)}function VL(a,b,c,d,e){this.db=a;this.qd=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=VL.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "db":return this.db;case "visitor":return this.qd;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Rz,this.db],null),new X(null,2,5,Z,[Lm,this.qd],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[Rz,Lm],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new VL(this.db,this.qd,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1727735959^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.db,b.db)&&E.B(this.qd,b.qd)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[Rz,null,Lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new VL(this.db,this.qd,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "db":case "visitor":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Rz,b):S.call(null,Rz,b))?new VL(c,this.qd,this.G,this.D,null):r(S.B?S.B(Lm,b):S.call(null,Lm,b))?new VL(this.db,c,this.G,this.D,null):new VL(this.db,this.qd,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(Rz,this.db,null),new Y(Lm,this.qd,null)],null),this.D))};
g.ha=function(a,b){return new VL(this.db,this.qd,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function WL(a,b,c,d,e){a=a.qd;null==a||(a.R?a.R(b,c,d,e):a.call(null,b,c,d,e))}function XL(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=XL[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=XL._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IFrame.-merge",a);}return a}
function YL(a,b){if(null!=a&&null!=a.Ke)a=a.Ke(a,b);else{var c=YL[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=YL._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IFrame.-run",a);}return a}function ZL(a,b,c,d,e){this.value=a;this.Ba=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=ZL.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "value":return this.value;case "datoms":return this.Ba;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[vq,this.value],null),new X(null,2,5,Z,[nv,this.Ba],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[vq,nv],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new ZL(this.value,this.Ba,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=836381841^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.Ba,b.Ba)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[vq,null,nv,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new ZL(this.value,this.Ba,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "value":case "datoms":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(vq,b):S.call(null,vq,b))?new ZL(c,this.Ba,this.G,this.D,null):r(S.B?S.B(nv,b):S.call(null,nv,b))?new ZL(this.value,c,this.G,this.D,null):new ZL(this.value,this.Ba,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(vq,this.value,null),new Y(nv,this.Ba,null)],null),this.D))};g.ha=function(a,b){return new ZL(this.value,this.Ba,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function $L(a,b,c,d,e,f){this.sa=a;this.attr=b;this.Ba=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=$L.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "acc":return this.sa;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[sq,this.sa],null),new X(null,2,5,Z,[Yq,this.attr],null),new X(null,2,5,Z,[nv,this.Ba],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[sq,Yq,nv],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new $L(this.sa,this.attr,this.Ba,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1829867699^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.sa,b.sa)&&E.B(this.attr,b.attr)&&E.B(this.Ba,b.Ba)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[sq,null,nv,null,Yq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new $L(this.sa,this.attr,this.Ba,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "acc":case "attr":case "datoms":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(sq,b):S.call(null,sq,b))?new $L(c,this.attr,this.Ba,this.G,this.D,null):r(S.B?S.B(Yq,b):S.call(null,Yq,b))?new $L(this.sa,c,this.Ba,this.G,this.D,null):r(S.B?S.B(nv,b):S.call(null,nv,b))?new $L(this.sa,this.attr,c,this.G,this.D,null):new $L(this.sa,this.attr,this.Ba,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(sq,this.sa,null),new Y(Yq,this.attr,null),new Y(nv,this.Ba,null)],null),this.D))};g.ha=function(a,b){return new $L(this.sa,this.attr,this.Ba,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
g.Ke=function(){for(var a=this,b=a.sa,c=a.Ba;;){var d=SL(c);if(null==d||Hg.B(d.a,a.attr.name))return new X(null,1,5,Z,[new ZL(function(){var h=Ig(rd(b)),k=a.attr.Ya;return k.C?k.C(h):k.call(null,h)}(),function(){var h=c;return r(h)?h:de}(),null,null,null)],null);if(r(function(){var h=a.attr.limit;return r(h)?K(b)>=a.attr.limit:h}()))for(var e=c;;){d=SL(e);if(null==d||Hg.B(d.a,a.attr.name))return new X(null,1,5,Z,[new ZL(rd(b),function(){var h=e;return r(h)?h:de}(),null,null,null)],null);e=TL(e)}else{d=
tg.B(b,d.v);var f=TL(c);b=d;c=f}}};function aM(a,b,c,d,e,f,h,k,m){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.Ba=f;this.G=h;this.D=k;this.J=m;this.K=2230716170;this.Y=139264}g=aM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[Yn,this.seen],null),new X(null,2,5,Z,[gx,this.Ca],null),new X(null,2,5,Z,[sq,this.sa],null),new X(null,2,5,Z,[Az,this.pattern],null),new X(null,2,5,Z,[Yq,this.attr],null),new X(null,2,5,Z,[nv,this.Ba],null)],null),this.D))};g.qa=function(){return new Hi(this,6,new X(null,6,5,Z,[Yn,gx,sq,Az,Yq,nv],null),r(this.D)?Fd(this.D):Jg())};
g.ga=function(){return this.G};g.pa=function(){return new aM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.D,this.J)};g.ma=function(){return 6+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1769511936^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.Ba,b.Ba)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,6,[sq,null,Yn,null,gx,null,nv,null,Az,null,Yq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new aM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Yn,b):S.call(null,Yn,b))?new aM(c,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.D,null):r(S.B?S.B(gx,b):S.call(null,gx,b))?new aM(this.seen,c,this.sa,this.pattern,this.attr,this.Ba,this.G,this.D,null):r(S.B?S.B(sq,b):S.call(null,sq,b))?new aM(this.seen,this.Ca,c,this.pattern,this.attr,this.Ba,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new aM(this.seen,this.Ca,this.sa,c,this.attr,this.Ba,this.G,this.D,null):r(S.B?S.B(Yq,b):S.call(null,
Yq,b))?new aM(this.seen,this.Ca,this.sa,this.pattern,c,this.Ba,this.G,this.D,null):r(S.B?S.B(nv,b):S.call(null,nv,b))?new aM(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.G,this.D,null):new aM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,6,5,Z,[new Y(Yn,this.seen,null),new Y(gx,this.Ca,null),new Y(sq,this.sa,null),new Y(Az,this.pattern,null),new Y(Yq,this.attr,null),new Y(nv,this.Ba,null)],null),this.D))};
g.ha=function(a,b){return new aM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.uf=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:tg.B(d,b);return new aM(a,c,b,this.pattern,this.attr,TL(this.Ba),null,null,null)};
g.Ke=function(a,b){var c=this;a=SL(c.Ba);if(null==a||Hg.B(a.a,c.attr.name))return new X(null,1,5,Z,[new ZL(function(){var e=Ig(rd(c.sa)),f=c.attr.Ya;return f.C?f.C(e):f.call(null,e)}(),function(){var e=c.Ba;return r(e)?e:de}(),null,null,null)],null);if(r(function(){var e=c.attr.limit;return r(e)?K(c.sa)>=c.attr.limit:e}()))for(var d=c.Ba;;){b=SL(d);if(null==b||Hg.B(b.a,c.attr.name))return new X(null,1,5,Z,[new ZL(rd(c.sa),function(){var e=d;return r(e)?e:de}(),null,null,null)],null);d=TL(d)}else return a=
r(c.attr.yb)?a.e:a.v,new X(null,2,5,Z,[this,bM.Ka?bM.Ka(b,c.seen,c.Ca,c.pattern,c.attr,a):bM.call(null,b,c.seen,c.Ca,c.pattern,c.attr,a)],null)};function cM(a,b,c,d,e,f,h,k,m,n,p){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.Ba=h;this.id=k;this.G=m;this.D=n;this.J=p;this.K=2230716170;this.Y=139264}g=cM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "datoms":return this.Ba;case "id":return this.id;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,V.B(new X(null,8,5,Z,[new X(null,2,5,Z,[Yn,this.seen],null),new X(null,2,5,Z,[gx,this.Ca],null),new X(null,2,5,Z,[sq,this.sa],null),new X(null,2,5,Z,[Az,this.pattern],null),new X(null,2,5,Z,[Yq,this.attr],null),new X(null,2,5,Z,[Iw,this.wa],null),new X(null,2,5,Z,[nv,this.Ba],null),new X(null,2,5,Z,[hA,this.id],null)],null),this.D))};
g.qa=function(){return new Hi(this,8,new X(null,8,5,Z,[Yn,gx,sq,Az,Yq,Iw,nv,hA],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.D,this.J)};g.ma=function(){return 8+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1127179791^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.wa,b.wa)&&E.B(this.Ba,b.Ba)&&E.B(this.id,b.id)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,8,[sq,null,Yn,null,hA,null,gx,null,Iw,null,nv,null,Az,null,Yq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Yn,b):S.call(null,Yn,b))?new cM(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(gx,b):S.call(null,gx,b))?new cM(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(sq,b):S.call(null,sq,b))?new cM(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new cM(this.seen,this.Ca,this.sa,c,this.attr,this.wa,
this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(Yq,b):S.call(null,Yq,b))?new cM(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(Iw,b):S.call(null,Iw,b))?new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.Ba,this.id,this.G,this.D,null):r(S.B?S.B(nv,b):S.call(null,nv,b))?new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.id,this.G,this.D,null):r(S.B?S.B(hA,b):S.call(null,hA,b))?new cM(this.seen,this.Ca,this.sa,this.pattern,
this.attr,this.wa,this.Ba,c,this.G,this.D,null):new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,8,5,Z,[new Y(Yn,this.seen,null),new Y(gx,this.Ca,null),new Y(sq,this.sa,null),new Y(Az,this.pattern,null),new Y(Yq,this.attr,null),new Y(Iw,this.wa,null),new Y(nv,this.Ba,null),new Y(hA,this.id,null)],null),this.D))};
g.ha=function(a,b){return new cM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.uf=function(a,b){a=this.seen;var c=this.Ca;var d=this.sa;var e=b.value;d=null==e?d:sd(d,this.attr.as,e);e=this.pattern;var f=SL(this.wa),h=TL(this.wa);b=b.Ba;b=r(b)?b:TL(this.Ba);return new cM(a,c,d,e,f,h,Ig(b),this.id,null,null,null)};
g.Ke=function(a,b){var c=this,d=c.sa,e=c.attr;a=c.wa;for(var f=c.Ba;;){if(null==f&&null==e)return new X(null,1,5,Z,[function(){var w=c.seen,A=c.Ca,D=d,I=c.pattern,J=SL(c.pattern.kc),T=TL(c.pattern.kc),P=c.id;return dM.Eb?dM.Eb(w,A,D,I,J,T,P):dM.call(null,w,A,D,I,J,T,P)}()],null);if(null!=e&&E.B(eo,e.name)){var h=ug(d,e.as,function(){var w=e.Ya;return w.C?w.C(c.id):w.call(null,c.id)}()),k=SL(a);a=TL(a);d=h;e=k}else{var m=SL(f),n=r(function(){var w=m;return r(w)?e:w}())?sf(e.name,m.a):null,p=function(){var w=
null==e;if(w)return w;w=n;return r(w)?0<n:w}(),t=function(){var w=null==m;if(w)return w;w=n;return r(w)?0>n:w}();if(r(function(){var w=c.pattern.Cb;return r(w)?(w=null!=m)?p:w:w}()))k=xI(b.db.Gb,m.a,function(w,A,D,I,J){return function(){return LL(b.db,J.a)}}(d,e,a,f,m,n,p,t,this)),h=d,a=r(e)?UL(a,e):null,d=h,e=k;else if(r(p))h=d,k=e,f=TL(f),d=h,e=k;else if(WL(b,rs,c.id,e.name,null),r(function(){var w=t;return r(w)?null==e:w}()))h=d,k=SL(a),a=TL(a),d=h,e=k;else if(r(function(){var w=t;return r(w)?
null!=Kl.C(e):w}()))h=ug(d,e.as,Kl.C(e)),k=SL(a),a=TL(a),d=h,e=k;else if(r(t))h=function(){var w=e.Ya;return w.C?w.C(null):w.call(null,null)}(),null==h?(h=d,k=SL(a),a=TL(a),d=h,e=k):(h=sd(d,e.as,h),k=SL(a),a=TL(a),d=h,e=k);else{if(r(function(){var w=e.sb;return r(w)?e.vb:w}()))return new X(null,2,5,Z,[new cM(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),new aM(c.seen,c.Ca,od(Re),c.pattern,e,f,null,null,null)],null);if(r(e.sb))return new X(null,2,5,Z,[new cM(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,
null,null,null),new $L(od(Re),e,f,null,null,null)],null);if(r(e.vb))return new X(null,2,5,Z,[new cM(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),function(){var w=c.seen,A=c.Ca,D=c.pattern,I=e,J=m.v;return bM.Ka?bM.Ka(b,w,A,D,I,J):bM.call(null,b,w,A,D,I,J)}()],null);h=ug(d,e.as,function(){var w=m.v,A=e.Ya;return A.C?A.C(w):A.call(null,w)}());k=SL(a);a=TL(a);f=TL(f);d=h;e=k}}}};
function eM(a,b,c,d,e,f,h,k,m,n){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.id=h;this.G=k;this.D=m;this.J=n;this.K=2230716170;this.Y=139264}g=eM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "id":return this.id;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,V.B(new X(null,7,5,Z,[new X(null,2,5,Z,[Yn,this.seen],null),new X(null,2,5,Z,[gx,this.Ca],null),new X(null,2,5,Z,[sq,this.sa],null),new X(null,2,5,Z,[Az,this.pattern],null),new X(null,2,5,Z,[Yq,this.attr],null),new X(null,2,5,Z,[Iw,this.wa],null),new X(null,2,5,Z,[hA,this.id],null)],null),this.D))};
g.qa=function(){return new Hi(this,7,new X(null,7,5,Z,[Yn,gx,sq,Az,Yq,Iw,hA],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.D,this.J)};g.ma=function(){return 7+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=470210558^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.seen,b.seen)&&E.B(this.Ca,b.Ca)&&E.B(this.sa,b.sa)&&E.B(this.pattern,b.pattern)&&E.B(this.attr,b.attr)&&E.B(this.wa,b.wa)&&E.B(this.id,b.id)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,7,[sq,null,Yn,null,hA,null,gx,null,Iw,null,Az,null,Yq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Yn,b):S.call(null,Yn,b))?new eM(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.D,null):r(S.B?S.B(gx,b):S.call(null,gx,b))?new eM(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.D,null):r(S.B?S.B(sq,b):S.call(null,sq,b))?new eM(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.id,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new eM(this.seen,this.Ca,this.sa,c,this.attr,this.wa,this.id,this.G,this.D,null):
r(S.B?S.B(Yq,b):S.call(null,Yq,b))?new eM(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.id,this.G,this.D,null):r(S.B?S.B(Iw,b):S.call(null,Iw,b))?new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.id,this.G,this.D,null):r(S.B?S.B(hA,b):S.call(null,hA,b))?new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.G,this.D,null):new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,7,5,Z,[new Y(Yn,this.seen,null),new Y(gx,this.Ca,null),new Y(sq,this.sa,null),new Y(Az,this.pattern,null),new Y(Yq,this.attr,null),new Y(Iw,this.wa,null),new Y(hA,this.id,null)],null),this.D))};g.ha=function(a,b){return new eM(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
g.uf=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:sd(d,this.attr.as,b);return new eM(a,c,b,this.pattern,SL(this.wa),TL(this.wa),this.id,null,null,null)};
g.Ke=function(a,b){var c=this.sa;a=this.attr;for(var d=this.wa;;){if(null==a)return new X(null,1,5,Z,[new ZL(Ig(rd(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof fK?pJ(f.zb,JJ.R(0,e,this.id,536870912),JJ.R(2147483647,e,this.id,2147483647)):XJ(f,new X(null,3,5,Z,[null,e,this.id],null));WL(b,fw,null,e,this.id);if(af(f)&&null!=Kl.C(a))c=ug(c,a.as,Kl.C(a)),a=SL(d),d=e=TL(d);else if(af(f))a=SL(d),d=e=TL(d);else{if(r(a.rb)){e=Z;c=new eM(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,
null,null);d=this.seen;var h=this.Ca,k=this.pattern;f=SL(f).e;b=bM.Ka?bM.Ka(b,d,h,k,a,f):bM.call(null,b,d,h,k,a,f);b=new X(null,2,5,e,[c,b],null)}else b=new X(null,2,5,Z,[new eM(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,null,null),new aM(this.seen,this.Ca,od(Re),this.pattern,a,f,null,null,null)],null);return b}}};function dM(a,b,c,d,e,f,h){return new eM(a,b,c,d,e,f,h,null,null,null)}
function bM(a,b,c,d,e,f){var h=e.ub;r(h)||(h=e.rb,h=r(h)?e.pattern.Cb:h);if(Rb(h))return d=e.pattern,fM.ka?fM.ka(a,b,c,d,f):fM.call(null,a,b,c,d,f);if(r(b.C?b.C(f):b.call(null,f)))return new ZL(new q(null,1,[eo,f],null),null,null,null,null);h=c.C?c.C(e):c.call(null,e);if(r(r(h)?0>=h:h))return new ZL(null,null,null,null,null);b=Qe.B(b,f);c=r(h)?Rh.F(c,e,If):r(e.tb)?O.F(c,e,e.tb-1):c;d=r(e.ub)?d:e.pattern;return fM.ka?fM.ka(a,b,c,d,f):fM.call(null,a,b,c,d,f)}
function fM(a,b,c,d,e){var f=a.db,h=r(function(){var k=d.Cb;return r(k)?f instanceof fK:k}())?pJ(f.ob,JJ.R(e,null,null,536870912),JJ.R(e,null,null,2147483647)):r(d.Cb)?XJ(f,new X(null,1,5,Z,[e],null)):null==d.lc?null:function(){var k=d.lc.name,m=d.vc.name;return f instanceof fK?pJ(f.ob,JJ.R(e,k,null,536870912),JJ.R(e,m,null,2147483647)):$J(f,new X(null,1,5,Z,[e],null))}();r(d.Cb)&&WL(a,qq,e,null,null);return new cM(b,c,od(W),d,SL(d.wa),TL(d.wa),h,e,null,null,null)}
function gM(a,b){var c=Gg(a);a=B.B(c,sz);c=B.B(c,Az);b=DK(a.db,b);if(null==b)return null;for(c=new Se(null,fM(a,dk,W,c,b),null,1,null);;){b=SL(c);var d=TL(c);if(b instanceof ZL){if(null==d)return b.value;c=SL(d);d=TL(d);c=UL(d,XL(c,b))}else c=v.F(UL,d,YL(b,a))}}function hM(a,b){var c=Gg(null);c=B.B(c,Lm);return new q(null,2,[Az,xI(a.Hb,b,function(){return RL(a,b)}),sz,new VL(a,c,null,null,null)],null)};var iM=function iM(a){switch(arguments.length){case 1:return iM.C(arguments[0]);case 2:return iM.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};iM.C=function(a){return uH(a)};iM.B=function(a,b){return vH(a,b)};iM.aa=2;function jM(a,b){return Pb(a)?a[b]:Ae(a,b)}function kM(a,b){return ef(a)?a.C?a.C(b):a.call(null,b):a[b]}function lM(a){return Pb(a)||gf(a)}function mM(a,b){var c=Array(K(b));v.F(function(d,e){c[d]=a.C?a.C(e):a.call(null,e);return d+1},0,b);return c}function nM(a,b){var c=Array(K(b));v.F(function(d,e){c[d]=a.B?a.B(d,e):a.call(null,d,e);return d+1},0,b);return c}function oM(a,b){return null==b.a?-1:0>=sf(a.a,b.a)?-1:1}
function pM(a){if(af(By.C(a)))return Re;for(var b=od(new X(null,1,5,Z,[Xx.C(G(By.C(a)))],null));;){var c=Ae(b,K(b)-1),d=JJ.F(0,c,null),e=JJ.F(2147483647,null,null);c=Xx;var f=c.C,h=By.C(a);d=mJ(h,d,e,oM);c=f.call(c,G(d));if(null!=c)b=tg.B(b,c);else return rd(b)}}function qM(a){return 0==a.lastIndexOf(":",0)?dg.C(Tf.B(a,1)):a}
function rM(a,b){b=Gg(b);var c=B.F(b,eA,Tk),d=B.F(b,yz,u),e=pM(a),f=Kh.B(W,vh.F(ri,e,pk.P())),h=hh(od(Re)),k=hh(od(W));b=nM(function(t,w){w.idx=t|0;t=w.e;var A=w.a;A=f.C?f.C(A):f.call(null,A);var D=w.v;if("string"!==typeof D)if("number"===typeof D)D=Infinity===D?[2]:-Infinity===D?[3]:r(isNaN(D))?[4]:D;else if(!0!==D&&!1!==D)if(D instanceof C){var I=B.B(y(k),D);r(I)?D=I:(I=h.Fe(null,tg.B(h.ic(null),D)),I=K(I)-1,k.Fe(null,ug(k.ic(null),D,I)),D=I);D=[0,D]}else D=[1,c.C?c.C(D):c.call(null,D)];return[t,
A,D,w.$e-536870912]},qx.C(a));var m=nM(function(t,w){return w.idx},By.C(a)),n=nM(function(t,w){return w.idx},km.C(a)),p=function(){var t=Qv.C(a);return c.C?c.C(t):c.call(null,t)}();e=mM(d,e);d=mM(d,rd(y(h)));return{count:K(qx.C(a)),tx0:536870912,"max-eid":Uq.C(a),"max-tx":Hr.C(a),schema:p,attrs:e,keywords:d,eavt:b,aevt:m,avet:n}}
function sM(a){switch(arguments.length){case 1:return tM(arguments[0]);case 2:return rM(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function tM(a){return rM(a,W)}function uM(a){switch(arguments.length){case 1:return vM(arguments[0]);case 2:return wM(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function vM(a){return wM(a,W)}
function wM(a,b){b=Gg(b);var c=B.F(b,Cs,iM);b=B.F(b,op,qM);var d=kM(a,"tx0"),e=function(){var n=kM(a,"schema");return c.C?c.C(n):c.call(null,n)}();(function(){var n=new Xd(function(){return rK},Ez,yj([sm,dt,Kr,Ew,Dm,Bs,$l,At,Ww,Zq,wx],[!0,Xl,Jt,"datascript/db.cljc",23,1,726,726,Xf(new X(null,1,5,Z,[Nr],null)),null,r(rK)?rK.Ng:null]));return n.C?n.C(e):n.call(null,e)})();var f=Lh.B(b,kM(a,"attrs")),h=Lh.B(b,kM(a,"keywords")),k=mM(function(n){var p=jM(n,0),t=Ae(f,jM(n,1)),w=jM(n,2);if("number"===typeof w)var A=
w;else if("string"===typeof w)A=w;else if(!0===w||!1===w)A=w;else if(lM(w))A=function(){var D=jM(w,0);if(r(Rf.B?Rf.B(0,D):Rf.call(null,0,D)))return Ae(h,jM(w,1));if(r(Rf.B?Rf.B(1,D):Rf.call(null,1,D)))return D=jM(w,1),c.C?c.C(D):c.call(null,D);if(r(Rf.B?Rf.B(2,D):Rf.call(null,2,D)))return Infinity;if(r(Rf.B?Rf.B(3,D):Rf.call(null,3,D)))return-Infinity;if(r(Rf.B?Rf.B(4,D):Rf.call(null,4,D)))return NaN;throw Pl(["Unexpected value marker ",Tk.I(M([D]))," in ",Tk.I(M([Tk.I(M([w]))]))].join(""),new q(null,
2,[Hu,Zt,vq,w],null));}();else throw Pl(["Unexpected value type ",Tk.I(M([Vb(w)]))," (",Tk.I(M([Tk.I(M([w]))])),")"].join(""),new q(null,2,[Hu,Zt,vq,w],null));n=d+jM(n,3);return JJ.R(p,t,A,n)},kM(a,"eavt"));b=function(){var n=kM(a,"aevt");return null==n?null:mM(function(p){return k[p]},n)}();var m=function(){var n=kM(a,"avet");return null==n?null:mM(function(p){return k[p]},n)}();return gK(yj([Qv,Hr,Gz,By,km,Uq,qx,ow,Kq,Fw],[e,kM(a,"max-tx"),lh(0),qJ(QJ,b),qJ(RJ,m),kM(a,"max-eid"),qJ(PJ,k),yI(),yI(),
function(){var n=Wj.I(M([new q(null,1,[ys,new q(null,1,[am,Ar],null)],null),e])),p=new Xd(function(){return pK},nz,yj([sm,dt,Kr,Ew,Dm,Bs,$l,At,Ww,Zq,wx],[!0,Xl,Pz,"datascript/db.cljc",15,1,694,694,Xf(new X(null,1,5,Z,[Nr],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
r(pK)?pK.Ng:null]));return p.C?p.C(n):p.call(null,n)}()]))};function xM(){}function yM(a,b,c){if(null!=a&&null!=a.Sa)a=a.Sa(a,b,c);else{var d=yM[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=yM._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("ITraversable.-collect",a);}return a}
function zM(a,b){if(null!=a&&null!=a.Ta)a=a.Ta(a,b);else{var c=zM[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=zM._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("ITraversable.-collect-vars",a);}return a}function AM(a,b){return df(a)&&E.B(K(a),b)}function BM(a,b){return df(b)?v.F(function(c,d){d=a.C?a.C(d):a.call(null,d);return r(d)?Qe.B(c,d):ne(null)},Re,b):null}function CM(a,b){return DM(a,b,Re)}
function DM(a,b,c){return r(a.C?a.C(b):a.call(null,b))?Qe.B(c,b):(null!=b?l===b.Ra||(b.Pd?0:Ub(xM,b)):Ub(xM,b))?yM(b,a,c):tJ(b)?v.F(function(d,e){return DM(a,e,d)},c,b):c}function EM(a){var b=af(a);return b?b:Bg(qf,a)}function FM(a,b){return Ye(a,new q(null,1,[Et,b],null))}function GM(a){var b=Et.C(Ze(a));return r(b)?b:a}function HM(a,b,c){this.G=a;this.D=b;this.J=c;this.K=2230716170;this.Y=139264}g=HM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){return B.F(this.D,b,c)};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.B(Re,this.D))};g.qa=function(){return new Hi(this,0,Re,r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new HM(this.G,this.D,this.J)};g.ma=function(){return 0+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-528488587^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(dk,b)?Q.B(Rc(Kh.B(W,this),this.G),b):new HM(this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){return R(this.D,b)};g.fa=function(a,b,c){return new HM(this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(Re,this.D))};g.ha=function(a,b){return new HM(b,this.D,this.J)};
g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function IM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=IM.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "symbol":return this.symbol;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[pq,this.symbol],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[pq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new IM(this.symbol,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=736891289^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[pq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new IM(this.symbol,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "symbol":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(pq,b):S.call(null,pq,b))?new IM(c,this.G,this.D,null):new IM(this.symbol,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(pq,this.symbol,null)],null),this.D))};g.ha=function(a,b){return new IM(this.symbol,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return DM(b,this.symbol,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.symbol):JM.call(null,b,this.symbol)};function KM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=KM.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "symbol":return this.symbol;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[pq,this.symbol],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[pq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new KM(this.symbol,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1648766309^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[pq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new KM(this.symbol,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "symbol":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(pq,b):S.call(null,pq,b))?new KM(c,this.G,this.D,null):new KM(this.symbol,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(pq,this.symbol,null)],null),this.D))};g.ha=function(a,b){return new KM(this.symbol,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return DM(b,this.symbol,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.symbol):JM.call(null,b,this.symbol)};function LM(a,b,c){this.G=a;this.D=b;this.J=c;this.K=2230716170;this.Y=139264}g=LM.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return B.F(this.D,b,c)};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.B(Re,this.D))};g.qa=function(){return new Hi(this,0,Re,r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new LM(this.G,this.D,this.J)};g.ma=function(){return 0+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-350962559^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(dk,b)?Q.B(Rc(Kh.B(W,this),this.G),b):new LM(this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){return R(this.D,b)};g.fa=function(a,b,c){return new LM(this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(Re,this.D))};g.ha=function(a,b){return new LM(b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};
function MM(a,b,c){this.G=a;this.D=b;this.J=c;this.K=2230716170;this.Y=139264}g=MM.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return B.F(this.D,b,c)};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.B(Re,this.D))};
g.qa=function(){return new Hi(this,0,Re,r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new MM(this.G,this.D,this.J)};g.ma=function(){return 0+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1504050517^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(dk,b)?Q.B(Rc(Kh.B(W,this),this.G),b):new MM(this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){return R(this.D,b)};
g.fa=function(a,b,c){return new MM(this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(Re,this.D))};g.ha=function(a,b){return new MM(b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function NM(a,b,c,d){this.value=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=NM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "value":return this.value;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[vq,this.value],null)],null),this.D))};
g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[vq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new NM(this.value,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-812884714^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,1,[vq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new NM(this.value,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "value":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(vq,b):S.call(null,vq,b))?new NM(c,this.G,this.D,null):new NM(this.value,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(vq,this.value,null)],null),this.D))};
g.ha=function(a,b){return new NM(this.value,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.value,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.value):JM.call(null,b,this.value)};function OM(a,b,c,d){this.symbol=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=OM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "symbol":return this.symbol;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[pq,this.symbol],null)],null),this.D))};
g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[pq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new OM(this.symbol,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1509921913^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.symbol,b.symbol)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,1,[pq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new OM(this.symbol,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "symbol":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(pq,b):S.call(null,pq,b))?new OM(c,this.G,this.D,null):new OM(this.symbol,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(pq,this.symbol,null)],null),this.D))};
g.ha=function(a,b){return new OM(this.symbol,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.symbol,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.symbol):JM.call(null,b,this.symbol)};function PM(a){return a instanceof z&&E.B(G(eg(a)),"?")?new IM(a,null,null,null):null}
function QM(a){var b=PM(a);if(r(b))return b;throw Pl(["Cannot parse var, expected symbol starting with ?, got: ",Tk.I(M([a]))].join(""),new q(null,2,[Hu,Vu,Ho,a],null));}function RM(a){return a instanceof z&&E.B(G(eg(a)),"$")?new KM(a,null,null,null):null}function SM(a){return a instanceof z&&E.B(G(eg(a)),"?")?null:new NM(a,null,null,null)}
function TM(a){return a instanceof z&&Rb(PM(a))&&Rb(RM(a))&&Rb(E.B(Io,a)?new MM(null,null,null):null)&&Rb(E.B(vn,a)?new HM(null,null,null):null)?new OM(a,null,null,null):null}function UM(a){return r(TM(a))?new IM(a,null,null,null):null}function VM(a){var b=PM(a);if(r(b))return b;b=RM(a);return r(b)?b:SM(a)}function WM(a,b,c,d,e){this.required=a;this.Uc=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=WM.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "required":return this.required;case "free":return this.Uc;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[ns,this.required],null),new X(null,2,5,Z,[Mv,this.Uc],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[ns,Mv],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new WM(this.required,this.Uc,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=892963297^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.required,b.required)&&E.B(this.Uc,b.Uc)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[Mv,null,ns,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new WM(this.required,this.Uc,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "required":case "free":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(ns,b):S.call(null,ns,b))?new WM(c,this.Uc,this.G,this.D,null):r(S.B?S.B(Mv,b):S.call(null,Mv,b))?new WM(this.required,c,this.G,this.D,null):new WM(this.required,this.Uc,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(ns,this.required,null),new Y(Mv,this.Uc,null)],null),this.D))};
g.ha=function(a,b){return new WM(this.required,this.Uc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.Uc,DM(b,this.required,c))};g.Ta=function(a,b){a=JM.B?JM.B(b,this.required):JM.call(null,b,this.required);b=this.Uc;return JM.B?JM.B(a,b):JM.call(null,a,b)};
function XM(a){if(df(a)){var b=df(G(a))?new X(null,2,5,Z,[G(a),H(a)],null):new X(null,2,5,Z,[null,a],null),c=N(b,0,null);b=N(b,1,null);c=BM(QM,c);b=BM(QM,b);if(af(c)&&af(b))throw Pl("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[Hu,jv,Ho,a],null));if(!r(EM(V.B(c,b))))throw Pl("Rule variables should be distinct",new q(null,2,[Hu,jv,Ho,a],null));return new WM(c,b,null,null,null)}throw Pl("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[Hu,jv,Ho,a],null));}function YM(a){return V.B(r(ns.C(a))?new X(null,1,5,Z,[Lh.B(pq,ns.C(a))],null):null,Lh.B(pq,Mv.C(a)))}function ZM(a){return new X(null,2,5,Z,[K(ns.C(a)),K(Mv.C(a))],null)}function $M(a,b,c){this.G=a;this.D=b;this.J=c;this.K=2230716170;this.Y=139264}g=$M.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){return B.F(this.D,b,c)};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.B(Re,this.D))};g.qa=function(){return new Hi(this,0,Re,r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new $M(this.G,this.D,this.J)};g.ma=function(){return 0+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-890522983^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(dk,b)?Q.B(Rc(Kh.B(W,this),this.G),b):new $M(this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){return R(this.D,b)};g.fa=function(a,b,c){return new $M(this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(Re,this.D))};g.ha=function(a,b){return new $M(b,this.D,this.J)};
g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return c};g.Ta=function(a,b){return b};function aN(a,b,c,d){this.jb=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=aN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "variable":return this.jb;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Ow,this.jb],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Ow],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new aN(this.jb,this.G,this.D,this.J)};
g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1522792445^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.jb,b.jb)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Ow,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new aN(this.jb,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "variable":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Ow,b):S.call(null,Ow,b))?new aN(c,this.G,this.D,null):new aN(this.jb,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Ow,this.jb,null)],null),this.D))};g.ha=function(a,b){return new aN(this.jb,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.jb,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.jb):JM.call(null,b,this.jb)};
function bN(a,b,c,d){this.bindings=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=bN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "bindings":return this.bindings;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Ft,this.bindings],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Ft],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new bN(this.bindings,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1637239347^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.bindings,b.bindings)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Ft,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new bN(this.bindings,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "bindings":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Ft,b):S.call(null,Ft,b))?new bN(c,this.G,this.D,null):new bN(this.bindings,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Ft,this.bindings,null)],null),this.D))};g.ha=function(a,b){return new bN(this.bindings,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.bindings,c)};
g.Ta=function(a,b){return JM.B?JM.B(b,this.bindings):JM.call(null,b,this.bindings)};function cN(a,b,c,d){this.binding=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=cN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "binding":return this.binding;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[dq,this.binding],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[dq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new cN(this.binding,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1930368089^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.binding,b.binding)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[dq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new cN(this.binding,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "binding":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(dq,b):S.call(null,dq,b))?new cN(c,this.G,this.D,null):new cN(this.binding,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(dq,this.binding,null)],null),this.D))};g.ha=function(a,b){return new cN(this.binding,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.binding,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.binding):JM.call(null,b,this.binding)};
function dN(a){return E.B(vn,a)?FM(new $M(null,null,null),a):null}function eN(a){var b=dN(a);return r(b)?b:fN.C?fN.C(a):fN.call(null,a)}function gN(a){var b=BM(eN,a);if(r(b)){if(af(b))throw Pl("Tuple binding cannot be empty",new q(null,2,[Hu,Nu,Ho,a],null));return FM(new bN(b,null,null,null),a)}return null}
function fN(a){a:{if(AM(a,2)&&E.B(Ne(a),lx)){var b=G(a);b=fN.C?fN.C(b):fN.call(null,b);if(r(b)){b=FM(new cN(b,null,null,null),a);break a}throw Pl("Cannot parse collection binding",new q(null,2,[Hu,Nu,Ho,a],null));}b=null}if(r(b))return b;b=AM(a,1)&&df(G(a))?FM(new cN(gN(G(a)),null,null,null),a):null;if(r(b))return b;b=gN(a);if(r(b))return b;b=dN(a);if(r(b))return b;b=PM(a);b=r(b)?FM(new aN(b,null,null,null),a):null;if(r(b))return b;throw Pl("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[Hu,Nu,Ho,a],null));}function hN(a){if(null!=a&&null!=a.tf)a=a.tf(a);else{var b=hN[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=hN._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IFindVars.-find-vars",a);}return a}IM.prototype.tf=function(){return new X(null,1,5,Z,[this.symbol],null)};function iN(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=iN.prototype;g.tf=function(){return hN(Pe(this.args))};
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "fn":return this.fn;case "args":return this.args;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[wz,this.fn],null),new X(null,2,5,Z,[xz,this.args],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[wz,xz],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new iN(this.fn,this.args,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-91097383^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[xz,null,wz,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new iN(this.fn,this.args,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "fn":case "args":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(wz,b):S.call(null,wz,b))?new iN(c,this.args,this.G,this.D,null):r(S.B?S.B(xz,b):S.call(null,xz,b))?new iN(this.fn,c,this.G,this.D,null):new iN(this.fn,this.args,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(wz,this.fn,null),new Y(xz,this.args,null)],null),this.D))};g.ha=function(a,b){return new iN(this.fn,this.args,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return DM(b,this.args,DM(b,this.fn,c))};g.Ta=function(a,b){a=JM.B?JM.B(b,this.fn):JM.call(null,b,this.fn);b=this.args;return JM.B?JM.B(a,b):JM.call(null,a,b)};function jN(a,b,c,d,e,f){this.source=a;this.jb=b;this.pattern=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=jN.prototype;g.tf=function(){return hN(this.jb)};g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "source":return this.source;case "variable":return this.jb;case "pattern":return this.pattern;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Et,this.source],null),new X(null,2,5,Z,[Ow,this.jb],null),new X(null,2,5,Z,[Az,this.pattern],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Et,Ow,Az],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new jN(this.source,this.jb,this.pattern,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2108867663^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.jb,b.jb)&&E.B(this.pattern,b.pattern)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[Ow,null,Et,null,Az,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new jN(this.source,this.jb,this.pattern,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "source":case "variable":case "pattern":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Et,b):S.call(null,Et,b))?new jN(c,this.jb,this.pattern,this.G,this.D,null):r(S.B?S.B(Ow,b):S.call(null,Ow,b))?new jN(this.source,c,this.pattern,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new jN(this.source,this.jb,c,this.G,this.D,null):new jN(this.source,this.jb,this.pattern,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Et,this.source,null),new Y(Ow,this.jb,null),new Y(Az,this.pattern,null)],null),this.D))};g.ha=function(a,b){return new jN(this.source,this.jb,this.pattern,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.pattern,DM(b,this.jb,DM(b,this.source,c)))};
g.Ta=function(a,b){a=JM.B?JM.B(b,this.source):JM.call(null,b,this.source);b=this.jb;a=JM.B?JM.B(a,b):JM.call(null,a,b);b=this.pattern;return JM.B?JM.B(a,b):JM.call(null,a,b)};function kN(a){if(null!=a&&null!=a.Je)a=a.Je(a);else{var b=kN[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=kN._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IFindElements.find-elements",a);}return a}function lN(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}
g=lN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "elements":return this.elements;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Go,this.elements],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Go],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new lN(this.elements,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=744809563^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.elements,b.elements)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Go,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new lN(this.elements,this.G,Ig(Q.B(this.D,b)),null)};g.Je=function(){return this.elements};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "elements":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Go,b):S.call(null,Go,b))?new lN(c,this.G,this.D,null):new lN(this.elements,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Go,this.elements,null)],null),this.D))};g.ha=function(a,b){return new lN(this.elements,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.elements,c)};
g.Ta=function(a,b){return JM.B?JM.B(b,this.elements):JM.call(null,b,this.elements)};function mN(a,b,c,d){this.element=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=mN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "element":return this.element;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Ly,this.element],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Ly],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new mN(this.element,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=124241361^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.element,b.element)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Ly,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new mN(this.element,this.G,Ig(Q.B(this.D,b)),null)};g.Je=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "element":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Ly,b):S.call(null,Ly,b))?new mN(c,this.G,this.D,null):new mN(this.element,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Ly,this.element,null)],null),this.D))};g.ha=function(a,b){return new mN(this.element,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.element,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.element):JM.call(null,b,this.element)};
function nN(a,b,c,d){this.element=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=nN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "element":return this.element;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Ly,this.element],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Ly],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new nN(this.element,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-661542332^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.element,b.element)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Ly,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new nN(this.element,this.G,Ig(Q.B(this.D,b)),null)};g.Je=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "element":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Ly,b):S.call(null,Ly,b))?new nN(c,this.G,this.D,null):new nN(this.element,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Ly,this.element,null)],null),this.D))};g.ha=function(a,b){return new nN(this.element,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.element,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.element):JM.call(null,b,this.element)};
function oN(a,b,c,d){this.elements=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=oN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "elements":return this.elements;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Go,this.elements],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[Go],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new oN(this.elements,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=681530371^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.elements,b.elements)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[Go,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new oN(this.elements,this.G,Ig(Q.B(this.D,b)),null)};g.Je=function(){return this.elements};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "elements":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Go,b):S.call(null,Go,b))?new oN(c,this.G,this.D,null):new oN(this.elements,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(Go,this.elements,null)],null),this.D))};g.ha=function(a,b){return new oN(this.elements,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.elements,c)};
g.Ta=function(a,b){return JM.B?JM.B(b,this.elements):JM.call(null,b,this.elements)};function pN(a){return a instanceof iN}function qN(a){return a instanceof jN}
function rN(a){var b=PM(a);if(r(b))return b;a:{if(df(a)&&E.B(G(a),Yx)){if(3<=K(a)&&4>=K(a)){var c=(b=E.B(K(a),4))?Ae(a,1):en;b=b?H(H(a)):H(a);var d=N(b,0,null);b=N(b,1,null);c=RM(c);d=PM(d);var e=PM(b);r(e)?b=e:(e=UM(b),b=r(e)?e:SM(b));if(r(r(c)?r(d)?b:d:c)){b=new jN(c,d,b,null,null,null);break a}}throw Pl("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[Hu,lz,Ro,a],null));}b=null}if(r(b))return b;a:{if(df(a)&&E.B(G(a),Rp)){if(3<=
K(a)&&(b=F(a),G(b),c=H(b),b=G(c),c=H(c),b=PM(b),c=BM(VM,c),r(r(b)?c:b))){b=new iN(b,c,null,null,null);break a}throw Pl("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[Hu,lz,Ro,a],null));}b=null}r(b)?a=b:df(a)&&2<=K(a)?(b=F(a),a=G(b),b=H(b),a=TM(a),b=BM(VM,b),a=r(r(a)?b:a)?new iN(a,b,null,null,null):null):a=null;return a}
function sN(a){var b=BM(rN,a);b=null==b?null:new lN(b,null,null,null);if(r(b))return b;a:{if(df(a)&&E.B(K(a),1)&&(b=G(a),df(b)&&E.B(K(b),2)&&E.B(Ne(b),lx))){b=rN(G(b));b=null==b?null:new mN(b,null,null,null);break a}b=null}if(r(b))return b;df(a)&&E.B(K(a),2)&&E.B(Ne(a),Yy)?(b=rN(G(a)),b=null==b?null:new nN(b,null,null,null)):b=null;if(r(b))return b;df(a)&&E.B(K(a),1)?(b=G(a),b=BM(rN,b),b=null==b?null:new oN(b,null,null,null)):b=null;if(r(b))return b;throw Pl("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[Hu,lz,Ro,a],null));}function tN(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=tN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[un,this.type],null),new X(null,2,5,Z,[Xq,this.symbols],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[un,Xq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new tN(this.type,this.symbols,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2025547471^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.type,b.type)&&E.B(this.symbols,b.symbols)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[un,null,Xq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new tN(this.type,this.symbols,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "type":case "symbols":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(un,b):S.call(null,un,b))?new tN(c,this.symbols,this.G,this.D,null):r(S.B?S.B(Xq,b):S.call(null,Xq,b))?new tN(this.type,c,this.G,this.D,null):new tN(this.type,this.symbols,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(un,this.type,null),new Y(Xq,this.symbols,null)],null),this.D))};
g.ha=function(a,b){return new tN(this.type,this.symbols,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.symbols,DM(b,this.type,c))};g.Ta=function(a,b){a=JM.B?JM.B(b,this.type):JM.call(null,b,this.type);b=this.symbols;return JM.B?JM.B(a,b):JM.call(null,a,b)};
function uN(a,b){if(!af(b)&&Zg(Td,b))switch(a instanceof C?a.ea:null){case "keys":return new tN(a,Lh.B(dg,b),null,null,null);case "syms":return new tN(a,ni(b),null,null,null);case "strs":return new tN(a,Lh.B(u,b),null,null,null);default:return null}else return null}function vN(a){var b=RM(a);r(b)||(b=E.B(Io,a)?new MM(null,null,null):null,b=r(b)?b:UM(a));return r(b)?FM(new aN(b,null,null,null),a):fN(a)}
function wN(a){var b=BM(vN,a);if(r(b))return b;throw Pl("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[Hu,Dz,Ho,a],null));}function xN(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=xN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Et,this.source],null),new X(null,2,5,Z,[Az,this.pattern],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[Et,Az],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new xN(this.source,this.pattern,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=575220587^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.pattern,b.pattern)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[Et,null,Az,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new xN(this.source,this.pattern,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "source":case "pattern":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Et,b):S.call(null,Et,b))?new xN(c,this.pattern,this.G,this.D,null):r(S.B?S.B(Az,b):S.call(null,Az,b))?new xN(this.source,c,this.G,this.D,null):new xN(this.source,this.pattern,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(Et,this.source,null),new Y(Az,this.pattern,null)],null),this.D))};
g.ha=function(a,b){return new xN(this.source,this.pattern,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.pattern,DM(b,this.source,c))};g.Ta=function(a,b){a=JM.B?JM.B(b,this.source):JM.call(null,b,this.source);b=this.pattern;return JM.B?JM.B(a,b):JM.call(null,a,b)};function yN(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=yN.prototype;
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "fn":return this.fn;case "args":return this.args;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[wz,this.fn],null),new X(null,2,5,Z,[xz,this.args],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[wz,xz],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new yN(this.fn,this.args,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1523376880^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[xz,null,wz,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new yN(this.fn,this.args,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "fn":case "args":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(wz,b):S.call(null,wz,b))?new yN(c,this.args,this.G,this.D,null):r(S.B?S.B(xz,b):S.call(null,xz,b))?new yN(this.fn,c,this.G,this.D,null):new yN(this.fn,this.args,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(wz,this.fn,null),new Y(xz,this.args,null)],null),this.D))};g.ha=function(a,b){return new yN(this.fn,this.args,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return DM(b,this.args,DM(b,this.fn,c))};g.Ta=function(a,b){a=JM.B?JM.B(b,this.fn):JM.call(null,b,this.fn);b=this.args;return JM.B?JM.B(a,b):JM.call(null,a,b)};function zN(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=zN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[wz,this.fn],null),new X(null,2,5,Z,[xz,this.args],null),new X(null,2,5,Z,[dq,this.binding],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[wz,xz,dq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new zN(this.fn,this.args,this.binding,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=589494199^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.fn,b.fn)&&E.B(this.args,b.args)&&E.B(this.binding,b.binding)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[xz,null,wz,null,dq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new zN(this.fn,this.args,this.binding,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "fn":case "args":case "binding":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(wz,b):S.call(null,wz,b))?new zN(c,this.args,this.binding,this.G,this.D,null):r(S.B?S.B(xz,b):S.call(null,xz,b))?new zN(this.fn,c,this.binding,this.G,this.D,null):r(S.B?S.B(dq,b):S.call(null,dq,b))?new zN(this.fn,this.args,c,this.G,this.D,null):new zN(this.fn,this.args,this.binding,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(wz,this.fn,null),new Y(xz,this.args,null),new Y(dq,this.binding,null)],null),this.D))};g.ha=function(a,b){return new zN(this.fn,this.args,this.binding,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.binding,DM(b,this.args,DM(b,this.fn,c)))};
g.Ta=function(a,b){a=JM.B?JM.B(b,this.fn):JM.call(null,b,this.fn);b=this.args;a=JM.B?JM.B(a,b):JM.call(null,a,b);b=this.binding;return JM.B?JM.B(a,b):JM.call(null,a,b)};function AN(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=AN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Et,this.source],null),new X(null,2,5,Z,[Kr,this.name],null),new X(null,2,5,Z,[xz,this.args],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Et,Kr,xz],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new AN(this.source,this.name,this.args,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-444662011^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.name,b.name)&&E.B(this.args,b.args)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[xz,null,Kr,null,Et,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new AN(this.source,this.name,this.args,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "source":case "name":case "args":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Et,b):S.call(null,Et,b))?new AN(c,this.name,this.args,this.G,this.D,null):r(S.B?S.B(Kr,b):S.call(null,Kr,b))?new AN(this.source,c,this.args,this.G,this.D,null):r(S.B?S.B(xz,b):S.call(null,xz,b))?new AN(this.source,this.name,c,this.G,this.D,null):new AN(this.source,this.name,this.args,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Et,this.source,null),new Y(Kr,this.name,null),new Y(xz,this.args,null)],null),this.D))};g.ha=function(a,b){return new AN(this.source,this.name,this.args,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.args,DM(b,this.name,DM(b,this.source,c)))};
g.Ta=function(a,b){a=JM.B?JM.B(b,this.source):JM.call(null,b,this.source);b=this.name;a=JM.B?JM.B(a,b):JM.call(null,a,b);b=this.args;return JM.B?JM.B(a,b):JM.call(null,a,b)};function BN(a,b,c,d,e,f){this.source=a;this.kb=b;this.Fa=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=BN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "source":return this.source;case "vars":return this.kb;case "clauses":return this.Fa;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Et,this.source],null),new X(null,2,5,Z,[fo,this.kb],null),new X(null,2,5,Z,[rr,this.Fa],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Et,fo,rr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new BN(this.source,this.kb,this.Fa,this.G,this.D,this.J)};g.ma=function(){return 3+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1394671061^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.kb,b.kb)&&E.B(this.Fa,b.Fa)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[Et,null,rr,null,fo,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new BN(this.source,this.kb,this.Fa,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "source":case "vars":case "clauses":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Et,b):S.call(null,Et,b))?new BN(c,this.kb,this.Fa,this.G,this.D,null):r(S.B?S.B(fo,b):S.call(null,fo,b))?new BN(this.source,c,this.Fa,this.G,this.D,null):r(S.B?S.B(rr,b):S.call(null,rr,b))?new BN(this.source,this.kb,c,this.G,this.D,null):new BN(this.source,this.kb,this.Fa,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Et,this.source,null),new Y(fo,this.kb,null),new Y(rr,this.Fa,null)],null),this.D))};g.ha=function(a,b){return new BN(this.source,this.kb,this.Fa,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.Fa,DM(b,this.kb,DM(b,this.source,c)))};
g.Ta=function(a,b){a=JM.B?JM.B(b,this.source):JM.call(null,b,this.source);b=this.kb;a=JM.B?JM.B(a,b):JM.call(null,a,b);b=this.Fa;return JM.B?JM.B(a,b):JM.call(null,a,b)};function CN(a,b,c,d,e,f){this.source=a;this.zc=b;this.Fa=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=CN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "source":return this.source;case "rule-vars":return this.zc;case "clauses":return this.Fa;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Et,this.source],null),new X(null,2,5,Z,[rz,this.zc],null),new X(null,2,5,Z,[rr,this.Fa],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Et,rz,rr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new CN(this.source,this.zc,this.Fa,this.G,this.D,this.J)};g.ma=function(){return 3+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1461934571^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.source,b.source)&&E.B(this.zc,b.zc)&&E.B(this.Fa,b.Fa)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[rz,null,Et,null,rr,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new CN(this.source,this.zc,this.Fa,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "source":case "rule-vars":case "clauses":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Et,b):S.call(null,Et,b))?new CN(c,this.zc,this.Fa,this.G,this.D,null):r(S.B?S.B(rz,b):S.call(null,rz,b))?new CN(this.source,c,this.Fa,this.G,this.D,null):r(S.B?S.B(rr,b):S.call(null,rr,b))?new CN(this.source,this.zc,c,this.G,this.D,null):new CN(this.source,this.zc,this.Fa,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Et,this.source,null),new Y(rz,this.zc,null),new Y(rr,this.Fa,null)],null),this.D))};g.ha=function(a,b){return new CN(this.source,this.zc,this.Fa,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.Fa,DM(b,this.zc,DM(b,this.source,c)))};
g.Ta=function(a,b){a=JM.B?JM.B(b,this.source):JM.call(null,b,this.source);b=this.zc;a=JM.B?JM.B(a,b):JM.call(null,a,b);b=this.Fa;return JM.B?JM.B(a,b):JM.call(null,a,b)};function DN(a,b,c,d){this.Fa=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=DN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "clauses":return this.Fa;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[rr,this.Fa],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[rr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new DN(this.Fa,this.G,this.D,this.J)};
g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-131856804^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Fa,b.Fa)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[rr,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new DN(this.Fa,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "clauses":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(rr,b):S.call(null,rr,b))?new DN(c,this.G,this.D,null):new DN(this.Fa,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(rr,this.Fa,null)],null),this.D))};g.ha=function(a,b){return new DN(this.Fa,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.Fa,c)};g.Ta=function(a,b){return JM.B?JM.B(b,this.Fa):JM.call(null,b,this.Fa)};
function EN(a){var b=E.B(vn,a)?new HM(null,null,null):null;if(r(b))return b;b=PM(a);return r(b)?b:SM(a)}function FN(a){if(df(a)){var b=RM(G(a));return r(b)?new X(null,2,5,Z,[b,H(a)],null):new X(null,2,5,Z,[new LM(null,null,null),a],null)}return null}function GN(a){if(df(a)){var b=F(a);a=G(b);b=H(b);b=null==b?Re:b;var c=TM(a);a=r(c)?c:PM(a);b=BM(VM,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var JM=function JM(a,b){return b instanceof IM?Qe.B(a,b):b instanceof BN?Kh.B(a,b.kb):b instanceof CN?(b=b.zc,JM.B?JM.B(a,b):JM.call(null,a,b)):(null!=b?l===b.Ra||(b.Pd?0:Ub(xM,b)):Ub(xM,b))?zM(b,a):df(b)?v.F(JM,a,b):a};function HN(a,b,c){if(af(a)&&af(b))throw Pl("Join variables should not be empty",new q(null,2,[Hu,Ay,Ho,c],null));}function IN(a,b){HN(null,fo.C(a),b);return a}function JN(a,b){var c=Gg(a);c=B.B(c,rz);var d=Gg(c);c=B.B(d,ns);d=B.B(d,Mv);HN(c,d,b);return a}
function qh(a){if(df(a)&&E.B(Fx,G(a))){var b=H(a);b=KN.C?KN.C(b):KN.call(null,b);if(r(Ig(b)))return new DN(b,null,null,null);throw Pl("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[Hu,Ay,Ho,a],null));}return null}
function rh(a){a:{var b=FN(a);if(r(b)){var c=N(b,0,null);b=N(b,1,null);var d=F(b);b=G(d);d=H(d);if(E.B(wy,b)){b=KN.C?KN.C(d):KN.call(null,d);if(r(b)){c=IN(FM(new BN(c,ni(gk(JM(Re,b))),b,null,null,null),a),a);break a}throw Pl("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[Hu,Ay,Ho,a],null));}}c=null}if(r(c))return c;a:{b=FN(a);if(r(b)){c=N(b,0,null);b=N(b,1,null);d=F(b);b=G(d);var e=H(d);d=G(e);e=H(e);if(E.B(lv,b)){b=BM(PM,d);d=KN.C?KN.C(e):KN.call(null,e);if(r(r(b)?
d:b)){c=IN(FM(new BN(c,b,d,null,null,null),a),a);break a}throw Pl("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[Hu,Ay,Ho,a],null));}}c=null}if(r(c))return c;a:{b=FN(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=F(b),b=G(d),d=H(d),E.B(On,b))){b=BM(ph(),d);if(r(b)){c=JN(FM(new CN(c,new WM(null,ni(gk(JM(Re,b))),null,null,null),b,null,null,null),a),a);break a}throw Pl("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[Hu,Ay,
Ho,a],null));}c=null}if(r(c))return c;a:{b=FN(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=F(b),b=G(d),e=H(d),d=G(e),e=H(e),E.B(Du,b))){b=XM(d);d=BM(ph(),e);if(r(r(b)?d:b)){c=JN(FM(new CN(c,b,d,null,null,null),a),a);break a}throw Pl("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[Hu,Ay,Ho,a],null));}c=null}if(r(c))return c;a:{if(AM(a,1)&&(b=GN(G(a)),r(b))){c=N(b,0,null);b=N(b,1,null);c=FM(new yN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(AM(a,2)&&(b=N(a,0,null),c=N(a,1,null),d=GN(b),r(d))){b=N(d,0,null);d=N(d,1,null);c=fN(c);c=r(c)?FM(new zN(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=FN(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=F(b),d=G(b),b=H(b),d=TM(d),e=BM(EN,b),r(d))){if(af(b))throw Pl("rule-expr requires at least one argument",new q(null,2,[Hu,Ay,Ho,a],null));if(null==e)throw Pl("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[Hu,Ay,Ho,a],null));c=new AN(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=FN(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=BM(EN,b),r(b))){if(af(b))throw Pl("Pattern could not be empty",new q(null,2,[Hu,Ay,Ho,a],null));c=FM(new xN(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw Pl("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[Hu,Ay,Ho,a],null));}function KN(a){return BM(rh,a)}
function LN(a){var b=KN(a);if(r(b))return b;throw Pl("Cannot parse :where clause, expected [clause+]",new q(null,2,[Hu,Ay,Ho,a],null));}function MN(a,b,c,d,e){this.kb=a;this.Fa=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=MN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "vars":return this.kb;case "clauses":return this.Fa;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[fo,this.kb],null),new X(null,2,5,Z,[rr,this.Fa],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[fo,rr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new MN(this.kb,this.Fa,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1024755006^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.kb,b.kb)&&E.B(this.Fa,b.Fa)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[rr,null,fo,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new MN(this.kb,this.Fa,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "vars":case "clauses":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(fo,b):S.call(null,fo,b))?new MN(c,this.Fa,this.G,this.D,null):r(S.B?S.B(rr,b):S.call(null,rr,b))?new MN(this.kb,c,this.G,this.D,null):new MN(this.kb,this.Fa,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(fo,this.kb,null),new Y(rr,this.Fa,null)],null),this.D))};
g.ha=function(a,b){return new MN(this.kb,this.Fa,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.Fa,DM(b,this.kb,c))};g.Ta=function(a,b){return JM(JM(b,this.kb),this.Fa)};function NN(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=NN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "name":return this.name;case "branches":return this.branches;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Kr,this.name],null),new X(null,2,5,Z,[wo,this.branches],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[Kr,wo],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new NN(this.name,this.branches,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-900273052^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.name,b.name)&&E.B(this.branches,b.branches)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[Kr,null,wo,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new NN(this.name,this.branches,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "name":case "branches":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Kr,b):S.call(null,Kr,b))?new NN(c,this.branches,this.G,this.D,null):r(S.B?S.B(wo,b):S.call(null,wo,b))?new NN(this.name,c,this.G,this.D,null):new NN(this.name,this.branches,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(Kr,this.name,null),new Y(wo,this.branches,null)],null),this.D))};
g.ha=function(a,b){return new NN(this.name,this.branches,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;g.Sa=function(a,b,c){return DM(b,this.branches,DM(b,this.name,c))};g.Ta=function(a,b){return JM(JM(b,this.name),this.branches)};
function ON(a){if(df(a)){var b=F(a),c=G(b),d=H(b);if(df(c)){b=F(c);var e=G(b);c=H(b);b=function(){var h=TM(e);if(r(h))return h;throw Pl("Cannot parse rule name, expected plain-symbol",new q(null,2,[Hu,ly,Ho,a],null));}();c=XM(c);var f=function(){var h=Ig(KN(d));if(r(h))return h;throw Pl("Rule branch should have clauses",new q(null,2,[Hu,ly,Ho,a],null));}();return new q(null,3,[Kr,b,fo,c,rr,f],null)}throw Pl(["Cannot parse rule head, expected [rule-name rule-vars], got: ",Tk.I(M([c]))].join(""),new q(null,
2,[Hu,ly,Ho,a],null));}throw Pl("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[Hu,ly,Ho,a],null));}
function PN(a,b){var c=fo.C(G(b)),d=ZM(c);b=F(H(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);k=fo.C(k);if(Hg.B(d,ZM(k)))throw Pl(["Arity mismatch for rule '",Tk.I(M([pq.C(a)])),"': ",Tk.I(M([YM(c)]))," vs. ",Tk.I(M([YM(k)]))].join(""),new q(null,2,[Hu,ly,nu,a],null));h+=1}else if(b=F(b)){if(hf(b))f=wd(b),b=xd(b),e=f,f=K(f);else{k=G(b);e=fo.C(k);if(Hg.B(d,ZM(e)))throw Pl(["Arity mismatch for rule '",Tk.I(M([pq.C(a)])),"': ",Tk.I(M([YM(c)]))," vs. ",Tk.I(M([YM(e)]))].join(""),new q(null,
2,[Hu,ly,nu,a],null));b=H(b);e=null;f=0}h=0}else break}
function QN(a){ni(function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){var f=e;if(hf(f)){var h=wd(f),k=K(h),m=jg(k);return function(){for(var w=0;;)if(w<k){var A=x(h,w),D=N(A,0,null),I=N(A,1,null);A=Lh.B(function(){return function(J){return new MN(fo.C(J),rr.C(J),null,null,null)}}(w,A,D,I,h,k,m,f,e),I);I=m;PN(D,A);I.add(new NN(D,A,null,null,null));w+=1}else return!0}()?lg(ng(m),d(xd(f))):lg(ng(m),null)}var n=G(f),p=N(n,0,null),t=N(n,1,null);n=Lh.B(function(){return function(w){return new MN(fo.C(w),
rr.C(w),null,null,null)}}(n,p,t,f,e),t);PN(p,n);return Je(new NN(p,n,null,null,null),d(be(f)))}return null}},null,null)}(vl(Kr,BM(ON,a)))}())}function RN(a,b,c,d,e,f,h,k){this.mc=a;this.qc=b;this.oc=c;this.nc=d;this.pc=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=RN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "qfind":return this.mc;case "qwith":return this.qc;case "qreturn-map":return this.oc;case "qin":return this.nc;case "qwhere":return this.pc;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[gv,this.mc],null),new X(null,2,5,Z,[js,this.qc],null),new X(null,2,5,Z,[Ux,this.oc],null),new X(null,2,5,Z,[er,this.nc],null),new X(null,2,5,Z,[pr,this.pc],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[gv,js,Ux,er,pr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new RN(this.mc,this.qc,this.oc,this.nc,this.pc,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=181307977^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.mc,b.mc)&&E.B(this.qc,b.qc)&&E.B(this.oc,b.oc)&&E.B(this.nc,b.nc)&&E.B(this.pc,b.pc)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[gv,null,pr,null,er,null,js,null,Ux,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new RN(this.mc,this.qc,this.oc,this.nc,this.pc,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(gv,b):S.call(null,gv,b))?new RN(c,this.qc,this.oc,this.nc,this.pc,this.G,this.D,null):r(S.B?S.B(js,b):S.call(null,js,b))?new RN(this.mc,c,this.oc,this.nc,this.pc,this.G,this.D,null):r(S.B?S.B(Ux,b):S.call(null,Ux,b))?new RN(this.mc,this.qc,c,this.nc,this.pc,this.G,this.D,null):r(S.B?S.B(er,b):S.call(null,er,b))?new RN(this.mc,this.qc,this.oc,c,this.pc,this.G,this.D,null):r(S.B?S.B(pr,b):S.call(null,pr,b))?new RN(this.mc,this.qc,this.oc,this.nc,c,this.G,this.D,
null):new RN(this.mc,this.qc,this.oc,this.nc,this.pc,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(gv,this.mc,null),new Y(js,this.qc,null),new Y(Ux,this.oc,null),new Y(er,this.nc,null),new Y(pr,this.pc,null)],null),this.D))};g.ha=function(a,b){return new RN(this.mc,this.qc,this.oc,this.nc,this.pc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};g.Ra=l;
g.Sa=function(a,b,c){return DM(b,this.pc,DM(b,this.nc,DM(b,this.oc,DM(b,this.qc,DM(b,this.mc,c)))))};g.Ta=function(a,b){return JM(JM(JM(JM(JM(b,this.mc),this.qc),this.oc),this.nc),this.pc)};function SN(a){var b=Q.I(a,gv,M([js,Ux,er,pr]));b=ff(a)?Kh.B(W,b):b;return new RN(gv.C(a),js.C(a),Ux.C(a),er.C(a),pr.C(a),null,Ig(b),null)}function TN(a){for(var b=W,c=null;;){var d=G(a);if(r(d))d instanceof C?(c=d,a=H(a)):(b=Qh.R(b,new X(null,1,5,Z,[c],null),eh(Re),d),a=H(a));else return b}}
function UN(a){var b=Et.C(a);return a instanceof xN?b:null!=b?b instanceof LM?null:b:null}
function VN(a,b,c){var d=fk(JM(Re,gv.C(a))),e=fk(js.C(a)),f=fk(JM(Re,er.C(a))),h=fk(JM(Re,pr.C(a)));f=cE.B(aE(d,e),aE(h,f));d=bE.B(d,e);if(!af(f))throw Pl(["Query for unknown vars: ",Tk.I(M([Lh.B(pq,f)]))].join(""),new q(null,3,[Hu,br,fo,f,Ho,b],null));if(!af(d))throw Pl([":find and :with should not use same variables: ",Tk.I(M([Lh.B(pq,d)]))].join(""),new q(null,3,[Hu,br,fo,d,Ho,b],null));d=Ux.C(a);if(null!=d){if(gv.C(a)instanceof nN)throw Pl([Tk.I(M([un.C(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[Hu,br,Ho,b],null));if(gv.C(a)instanceof mN)throw Pl([Tk.I(M([un.C(d)]))," does not work with collection :find"].join(""),new q(null,2,[Hu,br,Ho,b],null));}d=Xq.C(Ux.C(a));if(null!=d&&(e=kN(gv.C(a)),!E.B(K(d),K(e))))throw Pl(["Count of ",Tk.I(M([un.C(Ux.C(a))]))," must match count of :find"].join(""),new q(null,4,[Hu,br,Hm,Je(un.C(Ux.C(a)),d),vv,e,Ho,b],null));if(1<K(Ih(Sb,new X(null,3,5,Z,[Dn.C(c),Lr.C(c),Kt.C(c)],null))))throw Pl("Only one of :keys/:syms/:strs must be present",new q(null,
2,[Hu,br,Ho,b],null));var k=JM(Re,er.C(a)),m=CM(function(p){return p instanceof KM},er.C(a)),n=CM(function(p){return p instanceof MM},er.C(a));if(!r(function(){var p=EM(k);return r(p)?(p=EM(m),r(p)?EM(n):p):p}()))throw Pl("Vars used in :in should be distinct",new q(null,2,[Hu,br,Ho,b],null));c=JM(Re,js.C(a));if(!r(EM(c)))throw Pl("Vars used in :with should be distinct",new q(null,2,[Hu,br,Ho,b],null));c=DM(function(p){return p instanceof KM},er.C(a),dk);d=DM(function(p){return p instanceof KM},pr.C(a),
dk);c=cE.B(d,c);if(!af(c))throw Pl(["Where uses unknown source vars: ",Tk.I(M([Lh.B(pq,c)]))].join(""),new q(null,3,[Hu,br,fo,c,Ho,b],null));c=CM(function(p){return p instanceof AN},pr.C(a));a=CM(function(p){return p instanceof MM},er.C(a));if(!af(c)&&af(a))throw Pl("Missing rules var '%' in :in",new q(null,2,[Hu,br,Ho,b],null));}
function WN(a){if(ef(a))var b=a;else if(df(a))b=TN(a);else throw Pl("Query should be a vector or a map",new q(null,2,[Hu,br,Ho,a],null));var c=b,d=LN(Ym.B(c,Re));b=SN(new q(null,5,[gv,sN(vv.C(c)),js,function(){var e=Yz.C(c);if(r(e)){var f=BM(PM,e);if(r(f))e=f;else throw Pl("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[Hu,Vo,Ho,e],null));}else e=null;return e}(),Ux,function(){var e=uN(Dn,Dn.C(c));if(r(e))return e;e=uN(Lr,Lr.C(c));return r(e)?e:uN(Kt,Kt.C(c))}(),er,wN(function(){var e=
cA.C(c);return r(e)?e:af(CM(UN,d))?Re:new X(null,1,5,Z,[en],null)}()),pr,d],null));VN(b,a,c);return b};var XN=yI();function YN(a,b,c,d,e,f){this.ld=a;this.sources=b;this.rules=c;this.G=d;this.D=e;this.J=f;this.K=2230716170;this.Y=139264}g=YN.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "rels":return this.ld;case "sources":return this.sources;case "rules":return this.rules;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Zp,this.ld],null),new X(null,2,5,Z,[wq,this.sources],null),new X(null,2,5,Z,[Kx,this.rules],null)],null),this.D))};g.qa=function(){return new Hi(this,3,new X(null,3,5,Z,[Zp,wq,Kx],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new YN(this.ld,this.sources,this.rules,this.G,this.D,this.J)};
g.ma=function(){return 3+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1014232958^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.ld,b.ld)&&E.B(this.sources,b.sources)&&E.B(this.rules,b.rules)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,3,[wq,null,Kx,null,Zp,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new YN(this.ld,this.sources,this.rules,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "rels":case "sources":case "rules":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(Zp,b):S.call(null,Zp,b))?new YN(c,this.sources,this.rules,this.G,this.D,null):r(S.B?S.B(wq,b):S.call(null,wq,b))?new YN(this.ld,c,this.rules,this.G,this.D,null):r(S.B?S.B(Kx,b):S.call(null,Kx,b))?new YN(this.ld,this.sources,c,this.G,this.D,null):new YN(this.ld,this.sources,this.rules,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,3,5,Z,[new Y(Zp,this.ld,null),new Y(wq,this.sources,null),new Y(Kx,this.rules,null)],null),this.D))};g.ha=function(a,b){return new YN(this.ld,this.sources,this.rules,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function ZN(a,b,c,d,e){this.wa=a;this.yd=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=ZN.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "attrs":return this.wa;case "tuples":return this.yd;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Iw,this.wa],null),new X(null,2,5,Z,[bp,this.yd],null)],null),this.D))};
g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[Iw,bp],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new ZN(this.wa,this.yd,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1107093117^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.wa,b.wa)&&E.B(this.yd,b.yd)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,2,[bp,null,Iw,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new ZN(this.wa,this.yd,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "attrs":case "tuples":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Iw,b):S.call(null,Iw,b))?new ZN(c,this.yd,this.G,this.D,null):r(S.B?S.B(bp,b):S.call(null,bp,b))?new ZN(this.wa,c,this.G,this.D,null):new ZN(this.wa,this.yd,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(Iw,this.wa,null),new Y(bp,this.yd,null)],null),this.D))};g.ha=function(a,b){return new ZN(this.wa,this.yd,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function $N(a,b){return bE.B(fk(Ni(a)),fk(Ni(b)))}function aO(a,b){return E.B(K(a),K(b))&&Zg(function(c){return R(b,c)},Ni(a))&&Zg(function(c){return R(b,c)},Ni(a))}
var bO=function bO(a,b){return E.B(vn,a)?!0:E.B(new X(null,1,5,Z,[uy],null),a)?df(b):a instanceof z?E.B(b,a):df(a)?E.B(Pe(a),uy)?df(b)&&Zg(function(d){var e=N(d,0,null);d=N(d,1,null);return bO.B?bO.B(e,d):bO.call(null,e,d)},vh.F(ri,hk(a),b)):df(b)&&E.B(K(b),K(a))&&Zg(function(d){var e=N(d,0,null);d=N(d,1,null);return bO.B?bO.B(e,d):bO.call(null,e,d)},vh.F(ri,a,b)):a.C?a.C(b):a.call(null,b)};function cO(a){return a instanceof z&&E.B("$",G(eg(a)))}
function dO(a){return a instanceof z&&E.B("?",G(eg(a)))}function eO(a){return a instanceof C||"string"===typeof a}function fO(a){return bO(new X(null,2,5,Z,[eO,vn],null),a)}function gO(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var hO=function hO(a,b){var d=Gg(a),e=B.B(d,Iw);d=B.B(d,bp);var f=Gg(b),h=B.B(f,Iw);f=B.B(f,bp);if(E.B(e,h))return new ZN(e,Kh.B(ni(d),f),null,null,null);if(aO(e,h)){if(Zg(Qb,Oi(e))){var k=ni(function(){return function w(t){return new fg(null,function(){for(;;){var A=F(t);if(A){if(hf(A)){var D=wd(A),I=K(D),J=jg(I);a:for(var T=0;;)if(T<I){var P=x(D,T),U=N(P,0,null);P=N(P,1,null);U=new X(null,2,5,Z,[P,e.C?e.C(U):e.call(null,U)],null);J.add(U);T+=1}else{D=!0;break a}return D?lg(ng(J),w(xd(A))):lg(ng(J),
null)}D=G(A);J=N(D,0,null);D=N(D,1,null);return Je(new X(null,2,5,Z,[D,e.C?e.C(J):e.call(null,J)],null),w(be(A)))}return null}},null,null)}(h)}()),m=v.B(Jf,Oi(e))+1;b=rd(v.F(function(p,t){for(var w=Array(m),A=F(k),D=null,I=0,J=0;;)if(J<I){var T=D.Da(null,J),P=N(T,0,null);T=N(T,1,null);w[T]=t[P];J+=1}else if(A=F(A))hf(A)?(I=wd(A),A=xd(A),D=I,I=K(I)):(I=G(A),D=N(I,0,null),I=N(I,1,null),w[I]=t[D],A=H(A),D=null,I=0),J=0;else break;return tg.B(p,w)},od(ni(d)),f));return new ZN(e,b,null,null,null)}var n=
ik(Ni(Wj.I(M([e,h]))),pk.P());d=function(){var p=new ZN(n,Re,null,null,null);return hO.B?hO.B(p,a):hO.call(null,p,a)}();return hO.B?hO.B(d,b):hO.call(null,d,b)}throw Pl(["Cant sum relations with different attrs: ",Tk.I(M([e]))," and ",Tk.I(M([h]))].join(""),new q(null,1,[Hu,Wn],null));},iO=function iO(a){switch(arguments.length){case 0:return iO.P();case 2:return iO.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};
iO.P=function(){return new ZN(W,new X(null,1,5,Z,[[]],null),null,null,null)};iO.B=function(a,b){var c=Ni(Iw.C(a)),d=Ni(Iw.C(b)),e=wf(vh.B(Iw.C(a),c)),f=wf(vh.B(Iw.C(b),d));return new ZN(ik(V.B(c,d),pk.P()),rd(v.F(function(h,k){return v.F(function(m,n){return tg.B(m,gO(k,e,n,f))},h,bp.C(b))},od(Re),bp.C(a))),null,null,null)};iO.aa=2;function jO(a){a=vh.B(pq,ni(gk(JM(Re,a))));return new ZN(ik(a,pk.P()),Re,null,null,null)}
function kO(a,b){if(null!=a&&null!=a.Le)a=a.Le(a,b);else{var c=kO[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=kO._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IBinding.in-\x3erel",a);}return a}$M.prototype.Le=function(){return iO.P()};aN.prototype.Le=function(a,b){return new ZN(Ve([Oh(this,new X(null,2,5,Z,[Ow,pq],null)),0]),new X(null,1,5,Z,[cc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
cN.prototype.Le=function(a,b){var c=this;if(tJ(b))return af(b)?jO(c):v.B(hO,vh.B(function(d){return kO(c.binding,d)},b));throw Pl(["Cannot bind value ",Tk.I(M([b]))," to collection ",Tk.I(M([GM(c)]))].join(""),new q(null,3,[Hu,fn,vq,b,dq,GM(c)],null));};
bN.prototype.Le=function(a,b){if(tJ(b)){if(K(b)<K(this.bindings))throw Pl(["Not enough elements in a collection ",Tk.I(M([b]))," to bind tuple ",Tk.I(M([GM(this)]))].join(""),new q(null,3,[Hu,fn,vq,b,dq,GM(this)],null));return v.B(iO,vh.F(function(c,d){return kO(c,d)},this.bindings,b))}throw Pl(["Cannot bind value ",Tk.I(M([b]))," to tuple ",Tk.I(M([GM(this)]))].join(""),new q(null,3,[Hu,fn,vq,b,dq,GM(this)],null));};
function lO(a,b){var c=N(b,0,null);b=N(b,1,null);c instanceof aN&&Ow.C(c)instanceof KM?a=Rh.ka(a,wq,O,Oh(c,new X(null,2,5,Z,[Ow,pq],null)),b):c instanceof aN&&Ow.C(c)instanceof MM?(c=O.F,b="string"===typeof b?uH(b):b,QN(b),b=vl(Oe,b),a=c.call(O,a,Kx,b)):a=Rh.R(a,Zp,Qe,kO(c,b));return a}
function mO(a,b,c){var d=K(b),e=K(c);if(d<e)throw Pl(["Extra inputs passed, expected: ",Tk.I(M([Lh.B(function(f){return Et.C(Ze(f))},b)])),", got: ",Tk.I(M([e]))].join(""),new q(null,3,[Hu,su,et,b,fy,c],null));if(d>e)throw Pl(["Too few inputs passed, expected: ",Tk.I(M([Lh.B(function(f){return Et.C(Ze(f))},b)])),", got: ",Tk.I(M([e]))].join(""),new q(null,3,[Hu,su,et,b,fy,c],null));return v.F(lO,a,ik(b,c))}var nO=null,oO=null;
function pO(a,b){var c=a.C?a.C(b):a.call(null,b);return R(nO,b)?function(d){d=d[c];return"number"===typeof d?d:df(d)?DK(oO,d):AI(d)?DK(oO,d):d}:function(d){return d[c]}}function qO(a){if(1===K(a))return G(a);var b=wf(a);return function(c){return F(b.map(function(d){return d.C?d.C(c):d.call(null,c)}))}}function rO(a,b){for(var c=od(W);;){var d=G(b);if(null==d)return rd(c);var e=a.C?a.C(d):a.call(null,d);b=H(b);c=ug(c,e,Qe.B(B.F(c,e,de),d))}}
function sO(a,b){var c=bp.C(a),d=bp.C(b),e=Iw.C(a),f=Iw.C(b);a=ni($N(Iw.C(a),Iw.C(b)));var h=vh.B(function(w){return pO(e,w)},a),k=vh.B(function(w){return pO(f,w)},a);a=Ni(e);b=ni(cE.B(fk(Ni(f)),fk(Ni(e))));var m=wf(vh.B(e,a)),n=wf(vh.B(f,b));h=qO(h);var p=rO(h,c),t=qO(k);c=rd(v.F(function(w,A){var D=t.C?t.C(A):t.call(null,A);D=B.B(p,D);return null==D?w:v.F(function(I,J){return tg.B(I,gO(J,m,A,n))},w,D)},od(Re),d));return new ZN(ik(V.B(a,b),pk.P()),c,null,null,null)}
function tO(a,b){var c=Gg(a),d=B.B(c,Iw);c=B.B(c,bp);b=Gg(b);var e=B.B(b,Iw);b=B.B(b,bp);var f=$N(d,e),h=vh.B(function(n){return pO(e,n)},f);h=qO(h);var k=rO(h,b);b=vh.B(function(n){return pO(d,n)},f);var m=qO(b);return O.F(a,bp,Mh(function(n){n=m.C?m.C(n):m.call(null,n);return null==(k.C?k.C(n):k.call(null,n))},c))}
function uO(a,b){var c=Lh.B(function(d){return E.B(d,vn)||dO(d)?null:d},b);a=XJ(a,c);b=Kh.B(W,Ih(function(d){var e=N(d,0,null);N(d,1,null);return dO(e)},vh.F(ri,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new ZN(b,a,null,null,null)}
function vO(a,b){a=Ih(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=G(d);var h=G(e);if(E.B(h,vn)||dO(h)||E.B(f,h))d=H(d),e=H(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=Kh.B(W,Ih(function(d){var e=N(d,0,null);N(d,1,null);return dO(e)},vh.F(ri,b,pk.P())));return new ZN(c,Lh.B(wf,a),null,null,null)}function wO(a,b){return(null!=a?l===a.Wh||(a.Pd?0:Ub(WJ,a)):Ub(WJ,a))?uO(a,b):vO(a,b)}
function xO(a,b){for(var c=Re;;){var d=G(a);if(null==d)return Qe.B(c,b);r(Ig($N(Iw.C(b),Iw.C(d))))?(a=H(a),b=sO(d,b)):(a=H(a),c=Qe.B(c,d))}}function yO(a,b){return $g(function(c){return R(Iw.C(c),b)?c:null},Zp.C(a))}function zO(a,b){var c=yO(a,b);if(null==c)return null;a=G(bp.C(c));null==a?b=null:(c=Iw.C(c),b=c.C?c.C(b):c.call(null,b),b=a[b]);return b}function AO(a,b){return $g(function(c){return R(Iw.C(a),c)},b)}
function BO(a,b){var c=Ih(function(e){return AO(e,b)},Zp.C(a)),d=v.B(iO,c);return new X(null,2,5,Z,[Rh.F(a,Zp,function(e){return Jh(fk(c),e)}),d],null)}
function CO(a,b,c,d){a=wq.C(a);b=Iw.C(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Ae(d,k);if(m instanceof z){var n=B.B(a,m);null==n?h[k]=B.B(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===ri?function(p){for(var t=f.slice(0),w=0;;)if(w<e){var A=h[w];null!=A&&(t[w]=p[A]);w+=1}else break;return Bg(c,t)}:function(p){for(var t=0;;)if(t<e){var w=h[t];null!=w&&(f[t]=p[w]);t+=1}else break;return Bg(c,f)}}
function DO(a,b){var c=N(b,0,null);c=F(c);var d=G(c),e=H(c),f=function(){var m=B.B(vL,d);if(r(m))return m;m=zO(a,d);if(r(m))return m;if(r(null))return null;if(null==yO(a,d))throw Pl(["Unknown predicate '",Tk.I(M([d]))," in ",Tk.I(M([b]))].join(""),new q(null,3,[Hu,Wn,Ho,b,fp,d],null));return null}();c=BO(a,Ih(Td,e));var h=N(c,0,null),k=N(c,1,null);c=r(f)?function(){var m=CO(h,k,f,e);return Rh.F(k,bp,function(n){return Ih(m,n)})}():O.F(k,bp,Re);return Rh.R(h,Zp,Qe,c)}
function EO(a,b){var c=N(b,0,null);c=F(c);var d=G(c),e=H(c);c=N(b,1,null);var f=fN(c),h=function(){var n=B.B(vL,d);if(r(n))return n;n=zO(a,d);if(r(n))return n;if(r(null))return null;if(null==yO(a,d))throw Pl(["Unknown function '",Tk.I(M([d]))," in ",Tk.I(M([b]))].join(""),new q(null,3,[Hu,Wn,Ho,b,fp,d],null));return null}();c=BO(a,Ih(Td,e));var k=N(c,0,null),m=N(c,1,null);c=r(h)?function(){var n=CO(k,m,h,e),p=function(){return function A(w){return new fg(null,function(){for(var D=w;;)if(D=F(D)){if(hf(D)){var I=
wd(D),J=K(I),T=jg(J);a:for(var P=0;;)if(P<J){var U=x(I,P),ea=n(U);null!=ea&&(U=iO.B(new ZN(Iw.C(m),new X(null,1,5,Z,[U],null),null,null,null),kO(f,ea)),T.add(U));P+=1}else{I=!0;break a}return I?lg(ng(T),A(xd(D))):lg(ng(T),null)}T=G(D);I=n(T);if(null!=I)return Je(iO.B(new ZN(Iw.C(m),new X(null,1,5,Z,[T],null),null,null,null),kO(f,I)),A(be(D)));D=be(D)}else return null},null,null)}(bp.C(m))}();return af(p)?iO.B(m,jO(f)):v.B(hO,p)}():iO.B(O.F(m,bp,Re),jO(f));return Rh.R(k,Zp,xO,c)}
function FO(a,b){if(df(b)){var c=cO(G(b))?Ne(b):G(b);if(c instanceof z){if(dO(c)||R(new bk(null,new q(null,6,[Fx,null,wy,null,lv,null,Du,null,On,null,vn,null],null),null),c))return!1;if(R(Kx.C(a),c))return!0;throw Pl(["Unknown rule '",Tk.I(M([c]))," in ",Tk.I(M([b]))].join(""),new q(null,2,[Hu,Wn,Ho,b],null));}}return!1}var GO=lh(0);
function HO(a,b){var c=F(a),d=G(c),e=H(c),f=nh.B(GO,le),h=B.B(Kx.C(b),d);return function n(m){return new fg(null,function(){for(;;){var p=F(m);if(p){var t=p;if(hf(t)){var w=wd(t),A=K(w),D=jg(A);return function(){for(var za=0;;)if(za<A){var Ba=x(w,za),mb=Ba,pd=F(mb),lc=G(pd),oc=H(pd),Gb=lc,Fe=F(Gb),bg=G(Fe),Ge=H(Fe),Yg=bg,pe=Ge,cg=oc,ce=ik(pe,e);mg(D,pI(function(He,Nd,Od,Pd,hj,ei,zv,sn,Lk,ip,Or,Pr,gh,Qr,Rr,jp,Av,Mk,Nk,tn,Sr,Tr,Ur,rA,iT,IH){return function(Tl){if(dO(Tl)){var sA=gh.C?gh.C(Tl):gh.call(null,
Tl);return null==sA?Wd.C([eg(Tl),"__auto__",u.C(IH)].join("")):sA}return Tl}}(za,mb,pd,lc,oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce,Ba,w,A,D,t,p,a,c,d,e,d,e,f,h),cg));za+=1}else return!0}()?lg(ng(D),n(xd(t))):lg(ng(D),null)}var I=G(t),J=I,T=F(J),P=G(T),U=H(T),ea=P,ra=F(ea),Ha=G(ra),va=H(ra),hb=Ha,Ya=va,Ea=U,Ma=ik(Ya,e);return Je(pI(function(za,Ba,mb,pd,lc,oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od,Pd,hj,ei,zv,sn){return function(Lk){if(dO(Lk)){var ip=pe.C?pe.C(Lk):pe.call(null,Lk);return null==ip?Wd.C([eg(Lk),"__auto__",
u.C(sn)].join("")):ip}return Lk}}(J,T,P,U,ea,ra,Ha,va,hb,Ya,Ea,Ma,I,t,p,a,c,d,e,d,e,f,h),Ea),n(be(t)))}return null}},null,null)}(h)}function IO(a,b){a=Jh(function(c){var d=N(c,0,null);c=N(c,1,null);return E.B(d,c)},vh.F(ri,a,b));return new X(null,2,5,Z,[vh.B(G,a),vh.B(Ne,a)],null)}
function JO(a,b){a=F(a);var c=G(a),d=H(a);return function h(f){return new fg(null,function(){for(;;){var k=F(f);if(k){if(hf(k)){var m=wd(k),n=K(m),p=jg(n);a:for(var t=0;;)if(t<n){var w=x(m,t),A=IO(d,w);w=N(A,0,null);A=N(A,1,null);w=new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Oq],null),w,M([A]))],null);p.add(w);t+=1}else{m=!0;break a}return m?lg(ng(p),h(xd(k))):lg(ng(p),null)}p=G(k);m=IO(d,p);p=N(m,0,null);m=N(m,1,null);return Je(new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Oq],null),p,M([m]))],null),h(be(k)))}return null}},
null,null)}(B.B(b,c))}function KO(a){var b=lh(Re);pI(function(c){r(dO.C?dO.C(c):dO.call(null,c))&&nh.F(b,Qe,c);return c},a);return y(b)}function LO(a,b){function c(e){e=N(e,0,null);e=F(e);G(e);e=H(e);return Zg(d,e)}var d=fk(KO(a));return new X(null,2,5,Z,[Ih(c,b),Jh(c,b)],null)}
function MO(a,b){function c(oc){return $g(function(Gb){return af(bp.C(Gb))},Zp.C(oc))}function d(oc,Gb){return v.F(NO,oc,Gb)}for(var e=Ih(dO,b),f=ik(e,pk.P()),h=new Se(null,new q(null,5,[ku,Re,es,a,rr,new X(null,1,5,Z,[b],null),Wq,W,nr,W],null),null,1,null),k=new ZN(f,Re,null,null,null);;){var m=G(h);if(null==m)return k;var n=m,p=rk(function(){return function(oc){return!FO(a,oc)}}(h,k,n,m,e,f,d,c),rr.C(n)),t=N(p,0,null),w=N(p,1,null),A=F(w),D=G(A),I=H(A),J=D,T=I;if(null==J){b=d(es.C(n),t);b=OO?OO(b,
e):PO.call(null,b,e);var P=new ZN(f,b,null,null,null);b=H(h);P=hO(k,P);h=b;k=P}else{var U=J,ea=F(U),ra=G(ea),Ha=H(ea),va=ra,hb=Ha,Ya=JO(J,Wq.C(n)),Ea=LO(V.B(ku.C(n),t),V.B(Ya,nr.C(n))),Ma=N(Ea,0,null),za=N(Ea,1,null);if(r($g(function(){return function(oc){return E.B(oc,new X(null,1,5,Z,[Xf(Oq)],null))}}(h,k,U,ea,ra,Ha,va,hb,Ya,Ea,Ma,za,p,t,w,A,D,I,J,T,n,m,e,f,d,c),Ma)))b=H(h),P=k,h=b,k=P;else{var Ba=V.B(t,Ma),mb=d(es.C(n),Ba);if(r(c(mb)))b=H(h),P=k,h=b,k=P;else{var pd=O.F(Wq.C(n),va,Qe.B(B.F(Wq.C(n),
va,Re),hb)),lc=HO(J,a);b=V.B(function(){return function(oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od,Pd,hj,ei,zv,sn,Lk,ip,Or,Pr,gh,Qr,Rr,jp,Av,Mk,Nk,tn,Sr){return function rA(Ur){return new fg(null,function(iT,IH,Tl,sA,KH,LH,AV,BV,CV,DV,EV,FV,GV,HV,IV,MH,JV,KV,LV,MV,NV,OV,PV,NH){return function(){for(;;){var kp=F(Ur);if(kp){if(hf(kp)){var Cv=wd(kp),OH=K(Cv),Wr=jg(OH);a:for(var tA=0;;)if(tA<OH){var uA=x(Cv,tA);uA=new q(null,5,[ku,KH,es,LH,rr,Kh.F(Re,il,M([uA,NH])),Wq,Tl,nr,MH],null);Wr.add(uA);tA+=1}else{Cv=
!0;break a}return Cv?lg(ng(Wr),rA(xd(kp))):lg(ng(Wr),null)}Wr=G(kp);return Je(new q(null,5,[ku,KH,es,LH,rr,Kh.F(Re,il,M([Wr,NH])),Wq,Tl,nr,MH],null),rA(be(kp)))}return null}}}(oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od,Pd,hj,ei,zv,sn,Lk,ip,Or,Pr,gh,Qr,Rr,jp,Av,Mk,Nk,tn,Sr),null,null)}}(h,k,pd,lc,Ba,mb,U,ea,ra,Ha,va,hb,Ya,Ea,Ma,za,p,t,w,A,D,I,J,T,n,m,e,f,d,c)(lc)}(),H(h));P=k;h=b;k=P}}}}}
function QO(a,b){if(null!=a?l===a.Rg||(a.Pd?0:Ub(cK,a)):Ub(cK,a)){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null),f=N(b,3,null);return wi(new X(null,4,5,Z,[r(function(){var h=fO(c);return r(h)?h:eO(c)}())?yK(a,c):c,d,r(function(){if(r(e)){var h=eO(d);return h?(h=xK(a,d))?(h=fO(e),r(h)?h:eO(e)):h:h}return e}())?yK(a,e):e,r(fO(f))?yK(a,f):f],null),0,K(b))}return b}
function RO(a,b){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null);b=N(b,3,null);c=dO(c)?Qe.B(dk,c):dk;c=dO(b)?Qe.B(c,b):c;return dO(e)&&!dO(d)&&xK(a,d)?Qe.B(c,e):c}function SO(a,b){return O.F(a,Zp,jh(function(c){var d=Ig(Yj(Iw.C(c),b));return null==d?null:O.F(c,Iw,d)},Zp.C(a)))}function TO(a){return Kh.B(dk,Gh(function(b){return Ni(Iw.C(b))},M([Zp.C(a)])))}
function UO(a,b,c){if(eE(b,a))return null;a=cE.B(fk(b),a);throw Pl(["Insufficient bindings: ",Tk.I(M([a]))," not bound in ",Tk.I(M([c]))].join(""),new q(null,3,[Hu,Wn,Ho,c,fo,a],null));}function VO(a,b,c){b=Lh.B(function(d){return cE.B(fk(KO(d)),a)},b);if(r(Bg(E,b)))return null;throw Pl(["All clauses in 'or' must use same set of free vars, had ",Tk.I(M([b]))," in ",Tk.I(M([c]))].join(""),new q(null,3,[Hu,Wn,Ho,c,fo,b],null));}
function WO(a,b,c){for(var d=fk(Jh(a,b)),e=F(c),f=null,h=0,k=0;;)if(k<h){c=f.Da(null,k);var m=Ig(cE.B(d,fk(KO(c))));if(null!=m)throw e=m,Dk(Qk(M([c,a,b,d]),Hb())),r(Cb)&&Sk(),Pl(["All clauses in 'or' must use same set of free vars, had ",Tk.I(M([e]))," not bound in ",Tk.I(M([c]))].join(""),new q(null,3,[Hu,Wn,Ho,c,fo,e],null));k+=1}else if(c=F(e)){e=c;if(hf(e))f=wd(e),e=xd(e),c=f,h=K(f),f=c;else{c=G(e);f=Ig(cE.B(d,fk(KO(c))));if(null!=f)throw e=f,Dk(Qk(M([c,a,b,d]),Hb())),r(Cb)&&Sk(),Pl(["All clauses in 'or' must use same set of free vars, had ",
Tk.I(M([e]))," not bound in ",Tk.I(M([c]))].join(""),new q(null,3,[Hu,Wn,Ho,c,fo,e],null));e=H(e);f=null;h=0}k=0}else return null}var NO=function NO(a){switch(arguments.length){case 2:return NO.B(arguments[0],arguments[1]);case 3:return NO.F(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};NO.B=function(a,b){return NO.F(a,b,b)};
NO.F=function(a,b,c){for(;;){var d=bO,e=b;if(r(function(){var P=new X(null,1,5,Z,[new X(null,2,5,Z,[Td,uy],null)],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}()))return UO(TO(a),Ih(dO,H(G(b))),b),DO(a,b);if(r(function(){var P=new X(null,2,5,Z,[new X(null,2,5,Z,[Td,uy],null),vn],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}()))return UO(TO(a),Ih(dO,H(G(b))),b),EO(a,b);if(r(function(){var P=new X(null,2,5,Z,[cO,uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}())){var f=F(b);c=G(f);f=H(f);var h=
oO;oO=B.B(wq.C(a),c);try{return NO.F(a,f,b)}finally{oO=h}}else{if(r(function(){var P=new X(null,2,5,Z,[On,uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}())){var k=b,m=F(k),n=G(m),p=H(m);f=n;h=p;var t=VO(TO(a),h,b),w=vh.B(function(P){return function(U){return XO.B?XO.B(P,U):XO.call(null,P,U)}}(a,b,c,k,m,n,p,f,h,t,d,e),h);b=vh.B(function(){return function(P){return v.B(sO,Zp.C(P))}}(a,b,c,k,m,n,p,f,h,t,w,d,e),w);return O.F(G(w),Zp,new X(null,1,5,Z,[v.B(hO,b)],null))}if(r(function(){var P=new X(null,
3,5,Z,[Du,new X(null,2,5,Z,[new X(null,1,5,Z,[uy],null),uy],null),uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}())){h=F(b);f=G(h);h=H(h);k=G(h);f=H(h);k=F(k);h=G(k);k=H(k);t=h;h=f;f=TO(a);UO(f,t,c);WO(f,k,h);c=qg(Du,V.B(t,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var P=new X(null,3,5,Z,[Du,new X(null,1,5,Z,[uy],null),uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}())){n=b;p=F(n);var A=G(p),D=H(p);f=A;var I=G(D),J=H(D);k=I;h=J;var T=fk(k);t=WO(TO(a),T,h);m=SO(a,T);w=vh.B(function(P,
U,ea,ra,Ha,va,hb,Ya,Ea,Ma,za,Ba,mb,pd,lc){return function(oc){return SO(XO.B?XO.B(lc,oc):XO.call(null,lc,oc),mb)}}(a,b,c,n,p,A,D,f,I,J,k,h,T,t,m,d,e),h);b=vh.B(function(){return function(P){return v.B(sO,Zp.C(P))}}(a,b,c,n,p,A,D,f,I,J,k,h,T,t,m,w,d,e),w);b=v.B(hO,b);return Rh.R(a,Zp,xO,b)}if(r(function(){var P=new X(null,2,5,Z,[Fx,uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}()))return c=F(b),b=G(c),c=H(c),f=b,b=c,v.F(XO,a,b);if(r(function(){var P=new X(null,2,5,Z,[wy,uy],null),U=e;return d.B?
d.B(P,U):d.call(null,P,U)}())){f=F(b);b=G(f);h=H(f);f=b;b=h;f=TO(a);h=fk(KO(b));if(af(bE.B(f,h)))throw Pl(["Insufficient bindings: none of ",Tk.I(M([h]))," is bound in ",Tk.I(M([c]))].join(""),new q(null,2,[Hu,Wn,Ho,c],null));t=null;a=O.F(a,Zp,new X(null,1,5,Z,[v.B(sO,Zp.C(a))],null));b=v.F(XO,a,b);b=tO(G(Zp.C(a)),v.B(sO,Zp.C(b)));return O.F(a,Zp,new X(null,1,5,Z,[b],null))}if(r(function(){var P=new X(null,3,5,Z,[lv,new X(null,1,5,Z,[uy],null),uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}()))return b=
F(b),f=G(b),b=H(b),f=G(b),b=H(b),k=f,f=TO(a),t=UO(f,k,c),a=O.F(a,Zp,new X(null,1,5,Z,[v.B(sO,Zp.C(a))],null)),m=SO(a,k),b=SO(v.F(XO,m,b),k),b=tO(G(Zp.C(a)),v.B(sO,Zp.C(b))),O.F(a,Zp,new X(null,1,5,Z,[b],null));if(r(function(){var P=new X(null,1,5,Z,[uy],null),U=e;return d.B?d.B(P,U):d.call(null,P,U)}())){c=oO;b=QO(c,b);f=wO(c,b);h=nO;nO=(null!=c?l===c.Rg||(c.Pd?0:Ub(cK,c)):Ub(cK,c))?RO(c,b):nO;try{return Rh.R(a,Zp,xO,f)}finally{nO=h}}else throw Error(["No matching clause: ",u.C(e)].join(""));}}break}};
NO.aa=3;var XO=function XO(a,b){if(FO(a,b))if(cO(G(b))){var d=oO;oO=B.B(wq.C(a),G(b));try{var e=H(b);return XO.B?XO.B(a,e):XO.call(null,a,e)}finally{oO=d}}else return Rh.R(a,Zp,xO,MO(a,b));else return NO.B(a,b)};function YO(a,b){var c=oO;oO=B.B(wq.C(a),en);try{return v.F(XO,a,b)}finally{oO=c}}
function PO(a){switch(arguments.length){case 2:return OO(arguments[0],arguments[1]);case 3:return ZO(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}}function OO(a,b){a=Zp.C(a);return ZO(new X(null,1,5,Z,[Array(K(b))],null),a,b)}
function ZO(a,b,c){for(;;){var d=G(b);if(null==d)return a;if(af(bp.C(d)))return Re;var e=Yj(Iw.C(d),c);if(af(e)){var f=a,h=H(b),k=c;a=f;b=h;c=k}else{var m=wf(vh.B(function(p,t,w,A){return function(D){return B.B(A,D)}}(a,b,c,e,d),c)),n=K(c);f=function(){return function(p,t,w,A,D,I,J){return function U(P){return new fg(null,function(ea,ra,Ha,va,hb,Ya,Ea){return function(){for(var Ma=P;;){var za=F(Ma);if(za){var Ba=za,mb=G(Ba);if(za=F(function(pd,lc,oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce){return function Od(Nd){return new fg(null,
function(Pd,hj,ei,zv,sn,Lk,ip,Or,Pr){return function(){for(;;){var gh=F(Nd);if(gh){if(hf(gh)){var Qr=wd(gh),Rr=K(Qr),jp=jg(Rr);return function(){for(var Mk=0;;)if(Mk<Rr){for(var Nk=x(Qr,Mk),tn=jp,Sr=ac(sn),Tr=0;;)if(Tr<Pr){var Ur=Or[Tr];null!=Ur&&(Sr[Tr]=Nk[Ur]);Tr+=1}else break;tn.add(Sr);Mk+=1}else return!0}()?lg(ng(jp),Od(xd(gh))):lg(ng(jp),null)}var Av=G(gh);return Je(function(){for(var Mk=ac(sn),Nk=0;;)if(Nk<Pr){var tn=Or[Nk];null!=tn&&(Mk[Nk]=Av[tn]);Nk+=1}else break;return Mk}(),Od(be(gh)))}return null}}}(pd,
lc,oc,Gb,Fe,bg,Ge,Yg,pe,cg,ce),null,null)}}(Ma,ea,ra,Ha,mb,Ba,za,va,hb,Ya,Ea)(bp.C(Ea))))return V.B(za,U(be(Ma)));Ma=be(Ma)}else return null}}}(p,t,w,A,D,I,J),null,null)}}(a,b,c,m,n,e,d)(a)}();h=H(b);k=c;a=f;b=h;c=k}}}function $O(a,b){return fk(vh.B(ni,OO(a,b)))}
function aP(a,b){if(null!=a&&null!=a.Me)a=a.Me(a,b);else{var c=aP[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=aP._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("IContextResolve.-context-resolve",a);}return a}IM.prototype.Me=function(a,b){return zO(b,this.symbol)};KM.prototype.Me=function(a,b){return Oh(b,new X(null,2,5,Z,[wq,this.symbol],null))};OM.prototype.Me=function(){var a=B.B(CL,this.symbol);return r(a)?a:null};NM.prototype.Me=function(){return this.value};
function bP(a,b,c){return Lh.R(function(d,e,f){if(pN(d)){e=aP(wz.C(d),b);d=vh.B(function(k){return aP(k,b)},hk(xz.C(d)));var h=vh.B(function(k){return Ae(k,f)},c);return Bg(e,V.B(d,new X(null,1,5,Z,[h],null)))}return e},a,G(c),pk.P())}function cP(a){var b=bh(pN);return Jh(Ob,vh.F(function(c,d){return r(b.C?b.C(c):b.call(null,c))?d:null},a,pk.P()))}
function dP(a,b,c){var d=cP(a);return function h(f){return new fg(null,function(){for(;;){var k=F(f);if(k){if(hf(k)){var m=wd(k),n=K(m),p=jg(n);a:for(var t=0;;)if(t<n){var w=x(m,t);N(w,0,null);w=N(w,1,null);w=bP(a,b,w);p.add(w);t+=1}else{m=!0;break a}return m?lg(ng(p),h(xd(k))):lg(ng(p),null)}p=G(k);N(p,0,null);p=N(p,1,null);return Je(bP(a,b,p),h(be(k)))}return null}},null,null)}(vl(function(f){return vh.B(function(h){return Ae(f,h)},d)},c))}
function eP(a,b){return v.F(function(c,d){return Qe.B(c,a.C?a.C(d):a.call(null,d))},Te(b),b)}function fP(a,b){var c=Xq.C(a),d=pk.B(0,K(c));return eP(function(e){return v.F(function(f,h){return O.F(f,Ae(c,h),Ae(e,h))},W,d)},b)}function gP(a,b,c){if(null!=a&&null!=a.Ne)a=a.Ne(a,b,c);else{var d=gP[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=gP._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("IPostProcess.-post-process",a);}return a}
lN.prototype.Ne=function(a,b,c){return null==b?c:fP(b,c)};mN.prototype.Ne=function(a,b,c){return Kh.F(Re,vh.C(G),c)};nN.prototype.Ne=function(a,b,c){return Oe(c)};oN.prototype.Ne=function(a,b,c){return null!=b?G(fP(b,new X(null,1,5,Z,[G(c)],null))):G(c)};
function hP(a,b,c){var d=function(){return function h(f){return new fg(null,function(){for(;;){var k=F(f);if(k){if(hf(k)){var m=wd(k),n=K(m),p=jg(n);return function(){for(var w=0;;)if(w<n){var A=x(m,w),D=p;if(qN(A)){var I=aP(Et.C(A),b);A=aP(Az.C(A),b);I=hM(I,A)}else I=null;D.add(I);w+=1}else return!0}()?lg(ng(p),h(xd(k))):lg(ng(p),null)}var t=G(k);return Je(qN(t)?function(){var w=aP(Et.C(t),b),A=aP(Az.C(t),b);return hM(w,A)}():null,h(be(k)))}return null}},null,null)}(a)}();return function h(f){return new fg(null,
function(){for(;;){var k=F(f);if(k){var m=k;if(hf(m)){var n=wd(m),p=K(n),t=jg(p);return function(){for(var A=0;;)if(A<p){var D=x(n,A);mg(t,Lh.F(function(){return function(I,J){return r(I)?gM(I,J):J}}(A,D,n,p,t,m,k,d),d,D));A+=1}else return!0}()?lg(ng(t),h(xd(m))):lg(ng(t),null)}var w=G(m);return Je(Lh.F(function(){return function(A,D){return r(A)?gM(A,D):D}}(w,m,k,d),d,w),h(be(m)))}return null}},null,null)}(c)}
function QB(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new $d(b.slice(1),0,null):null;return iP(arguments[0],b)}
function iP(a,b){var c=xI(XN,a,function(){return WN(a)}),d=gv.C(c),e=kN(d),f=Gh(hN,M([kN(d)])),h=K(e),k=js.C(c);k=V.B(f,vh.B(pq,k));f=df(a)?TN(a):a;var m=Ym.C(f);b=mO(new YN(Re,W,W,null,null,null),er.C(c),b);k=$O(YO(b,m),k);f=r(Yz.C(f))?Lh.B(function(n){return ni(wi(n,0,h))},k):k;f=r($g(pN,e))?dP(e,b,f):f;e=r($g(qN,e))?hP(e,b,f):f;return gP(d,Ux.C(c),e)};function jP(a,b){var c=lh(null);nh.B(a,function(d){d=WK(AK(new q(null,5,[Ut,d,Tw,d,Rv,Re,xA,W,Pm,null],null)),b);mh(c,d);return Tw.C(d)});return y(c)}function kP(a){var b=PB;a=jP(b,a);b=Pw.C(Ze(b));b=null==b?null:y(b);b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);N(f,0,null);f=N(f,1,null);f.C?f.C(a):f.call(null,a);e+=1}else if(b=F(b))hf(b)?(d=wd(b),b=xd(b),c=d,d=K(d)):(c=G(b),N(c,0,null),c=N(c,1,null),c.C?c.C(a):c.call(null,a),b=H(b),c=null,d=0),e=0;else break;return a}
function lP(a){var b=PB,c=AK(new q(null,4,[Ut,y(b),Tw,a,Rv,V.B(vh.B(function(k){return O.F(k,cr,!1)},ZJ(y(b),qx,Re)),ZJ(a,qx,Re)),Pm,null],null));mh(b,a);a=F(function(){var k=Pw.C(Ze(b));return null==k?null:y(k)}());for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);N(h,0,null);h=N(h,1,null);h.C?h.C(c):h.call(null,c);f+=1}else if(a=F(a))hf(a)?(e=wd(a),a=xd(a),d=e,e=K(e)):(d=G(a),N(d,0,null),d=N(d,1,null),d.C?d.C(c):d.call(null,c),a=H(a),d=null,e=0),f=0;else break}
function mP(a){var b=PB,c=tl.P();nh.R(Pw.C(Ze(b)),O,c,a)}
for(var nP=F(new q(null,2,[xw,function(a){return Bg(JJ,a)},zx,function(a){var b=Gg(a);a=B.B(b,Qv);b=B.B(b,nv);return tK(vh.B(function(c){var d=N(c,0,null),e=N(c,1,null),f=N(c,2,null);c=N(c,3,null);return JJ.R(d,e,f,c)},b),a)}],null)),oP=null,pP=0,qP=0;;)if(qP<pP){var rP=oP.Da(null,qP),sP=N(rP,0,null),tP=N(rP,1,null),uP=sP,vP=tP;B.B(y(tH),uP);nh.R(tH,O,uP,vP);qP+=1}else{var wP=F(nP);if(wP){var xP=wP;if(hf(xP)){var yP=wd(xP),zP=xd(xP),AP=yP,BP=K(yP);nP=zP;oP=AP;pP=BP}else{var CP=G(xP),DP=N(CP,0,null),
EP=N(CP,1,null),FP=DP,GP=EP;B.B(y(tH),FP);nh.R(tH,O,FP,GP);nP=H(xP);oP=null;pP=0}qP=0}else break};var HP={},IP={},JP=[];function KP(a,b){var c=IP[a];if(void 0!==c)return c;try{JP.push(a);var d=HP[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};HP[a]=d}if(e){delete shadow$provide[a];try{e.call(d,aa,KP,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{JP.pop()}return d.exports}KP.cache={};KP.resolve=function(a){return a};
function LP(a){return KP(a,{})};var MP=LP(3);var NP={};var OP={},PP="undefined"!==typeof window&&null!=window.document,QP=new bk(null,new q(null,2,["aria",null,"data",null],null),null);function RP(a){return 2>K(a)?a.toUpperCase():[Tf.F(a,0,1).toUpperCase(),Tf.B(a,1)].join("")}function SP(a){if("string"===typeof a)return a;a=eg(a);var b=EA(a,/-/,0);var c=F(b);b=G(c);c=H(c);return r(QP.C?QP.C(b):QP.call(null,b))?a:Cg(u,b,vh.B(RP,c))}
function TP(a){var b=function(){var c=function(){var d=We(a);if(d){d=a.displayName;if(r(d))return d;d=a.name;return"string"===typeof d&&F(d)?d:null}return d}();if(r(c))return c;c=function(){var d=null!=a?a.Y&4096||l===a.Jg?!0:!1:!1;return d?eg(a):d}();if(r(c))return c;c=Ze(a);return ef(c)?Kr.C(c):null}();return r(b)?BA(u.C(b),"$","."):null}function UP(a){return a instanceof C||a instanceof z}
var VP=function VP(a){switch(arguments.length){case 0:return VP.P();case 1:return VP.C(arguments[0]);case 2:return VP.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return VP.I(arguments[0],arguments[1],c)}};VP.P=function(){return null};VP.C=function(a){return bf(a)?(a=jh(function(b){return r(b)?UP(b)?eg(b):b:null},a),F(a)?CA(" ",a):null):UP(a)?eg(a):a};
VP.B=function(a,b){return r(a)?r(b)?[u.C(VP.C(a))," ",u.C(VP.C(b))].join(""):VP.C(a):VP.C(b)};VP.I=function(a,b,c){return v.F(VP,VP.B(a,b),c)};VP.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};VP.aa=2;var WP=!1;function XP(a){if(ef(a))try{var b=B.B(a,Qz)}catch(c){b=null}else b=null;return b}
function YP(a){var b=Qz.C(Ze(a));if(r(b))return b;b=XP(N(a,1,null));if(r(b))return b;b=N(a,0,null);switch(b instanceof C?b.ea:null){case "\x3e":case "f\x3e":return XP(N(a,2,null));case "r\x3e":return a=N(a,2,null),null==a?null:a.key;default:return null}};var ZP=0;function $P(a){return setTimeout(a,16)}var aQ=PP?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:$P}().bind(a)}():$P;function bQ(a,b){return a.Xf-b.Xf}function cQ(){return null}function dQ(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.P?d.P():d.call(null);c+=1}else return null}
function eQ(a,b,c){b.push(c);return a.schedule()}function fQ(){this.Ff=!1}g=fQ.prototype;g.flush_after_render=function(){var a=this.df;if(null==a)return null;this.df=null;return dQ(a)};g.queue_render=function(a){null==this.rf&&(this.rf=[]);return eQ(this,this.rf,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Ff)return null;this.Ff=!0;return aQ.C?aQ.C(a):aQ.call(null,a)};g.flush_before_flush=function(){var a=this.ef;if(null==a)return null;this.ef=null;return dQ(a)};
g.flush_queues=function(){this.flush_before_flush();cQ();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Ff=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.ef&&(this.ef=[]);return eQ(this,this.ef,a)};g.add_after_render=function(a){null==this.df&&(this.df=[]);return eQ(this,this.df,a)};
g.flush_render=function(){var a=this.rf;if(null==a)return null;this.rf=null;a:{a.sort(bQ);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var gQ=new fQ;function hQ(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return gQ.queue_render(a)};function iQ(a){if(null!=a&&null!=a.bj)a=a.id;else{var b=iQ[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=iQ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("Compiler.get-id",a);}return a}function jQ(a,b,c){if(null!=a&&null!=a.lh)a=a.lh(a,b,c);else{var d=jQ[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=jQ._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("Compiler.parse-tag",a);}return a}
function kQ(a,b){if(null!=a&&null!=a.jh)a=a.jh(a,b);else{var c=kQ[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=kQ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Compiler.as-element",a);}return a}
function lQ(a,b,c,d,e){if(null!=a&&null!=a.kh)a=a.kh(a,b,c,d,e);else{var f=lQ[da(null==a?null:a)];if(null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=lQ._,null!=f)a=f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw Wb("Compiler.make-element",a);}return a};var mQ;function nQ(a,b){b.Kf=null;a:{var c=mQ;mQ=b;try{var d=a.P?a.P():a.call(null);break a}finally{mQ=c}d=void 0}a=b.Kf;b.Qd=!1;a:{c=b.he;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function oQ(a){var b=mQ;if(null!=b){var c=b.Kf;null==c?b.Kf=[a]:c.push(a)}}function pQ(a,b,c){a.Kb=O.F(a.Kb,b,c);return a.ug=null}function qQ(a,b){a.Kb=Q.B(a.Kb,b);return a.ug=null}
function rQ(a,b,c){var d=a.ug;d=null==d?a.ug=Af(function(m,n,p){m.push(n);m.push(p);return m},[],a.Kb):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function sQ(a,b,c,d){fd(a,["#object[reagent.ratom.",u.C(c)," "].join(""));a:{c=mQ;mQ=null;try{var e=d;break a}finally{mQ=c}e=void 0}Ik(e,a,b);return fd(a,"]")}var tQ=null;function uQ(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.Kb=d;this.K=2154201088;this.Y=114690}g=uQ.prototype;
g.ia=function(a,b,c){return sQ(b,c,"RAtom",new q(null,1,[$k,this.ic(null)],null))};g.ga=function(){return this.meta};g.ja=function(){return ia(this)};g.ba=function(a,b){return this===b};g.cd=function(a,b){a=this.state;this.state=b;null!=this.Kb&&rQ(this,a,b);return b};g.Qf=function(a,b){return this.cd(null,b.C?b.C(this.state):b.call(null,this.state))};g.Rf=function(a,b,c){return this.cd(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};
g.Sf=function(a,b,c,d){return this.cd(null,b.F?b.F(this.state,c,d):b.call(null,this.state,c,d))};g.Tf=function(a,b,c,d,e){return this.cd(null,Eg(b,this.state,c,d,e))};g.Uf=function(a,b){rQ(this,a,b)};g.lf=function(a,b,c){return pQ(this,b,c)};g.mf=function(a,b){return qQ(this,b)};g.ha=function(a,b){return new uQ(this.state,b,this.validator,this.Kb)};g.ic=function(){oQ(this);return this.state};
var vQ=function vQ(a){switch(arguments.length){case 1:return vQ.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(1),0,null);return vQ.I(arguments[0],c)}};vQ.C=function(a){return new uQ(a,null,null,null)};vQ.I=function(a,b){var c=Gg(b);b=B.B(c,Kb);c=B.B(c,Mo);return new uQ(a,b,c,null)};vQ.ca=function(a){var b=G(a);a=H(a);return this.I(b,a)};vQ.aa=1;
function wQ(a){var b=xQ,c=a.mg;c=null==c?W:c;var d=c.B?c.B(cw,null):c.call(null,cw,null);if(null!=d)return y(d);if(null==mQ)return bc.P?bc.P():bc.call(null);d=function(){function f(h){var k=Q.B(a.mg,cw);a.mg=k;return null!=b?b.C?b.C(h):b.call(null,h):null}return yQ.F?yQ.F(bc,st,f):yQ.call(null,bc,st,f)}();var e=y(d);a.mg=O.F(c,cw,d);return e}function xQ(a){a=a.destroy;return null==a?null:a.P?a.P():a.call(null)}function zQ(){var a=mQ;return null==a?[]:wQ(a)}
function AQ(a){if(null!=a&&null!=a.ng)a=a.ng(a);else{var b=AQ[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=AQ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("IDisposable.dispose!",a);}return a}function md(a,b,c,d){return a._handle_change(b,c,d)}function BQ(a){this.f=a;this.state=null;this.Qd=!0;this.fh=!1;this.Lf=this.sd=this.Kb=this.he=null;this.K=2153807872;this.Y=114690}g=BQ.prototype;g._peek_at=function(){var a=mQ;mQ=null;try{return this.ic(null)}finally{mQ=a}};
g._handle_change=function(a,b,c){return b===c||this.Qd?null:null==this.sd?(this.Qd=!0,null==tQ&&(tQ=[],!1===gQ.Ff&&gQ.schedule()),tQ.push(this)):!0===this.sd?this._run(!1):this.sd.C?this.sd.C(this):this.sd.call(null,this)};
g._update_watching=function(a){var b=fk(a),c=fk(this.he);this.he=a;a=F(cE.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);ld(h,this);f+=1}else if(a=F(a))d=a,hf(d)?(a=wd(d),f=xd(d),d=a,e=K(a),a=f):(a=G(d),ld(a,this),a=H(d),d=null,e=0),f=0;else break;b=F(cE.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.Da(null,e),nd(a,this),e+=1;else if(b=F(b))c=b,hf(c)?(b=wd(c),d=xd(c),c=b,a=K(b),b=d,d=a):(a=G(c),nd(a,this),b=H(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.Qd&&null!=this.he?this._run(!0):null};g._try_capture=function(a){try{return this.Lf=null,nQ(a,this)}catch(b){return this.Lf=this.state=a=b,this.Qd=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):nQ(this.f,this);this.fh||(this.state=a,null==this.Kb||E.B(b,a)||rQ(this,b,a));return a};
g._set_opts=function(a){var b=Gg(a);a=B.B(b,Zw);var c=B.B(b,pz),d=B.B(b,st);b=B.B(b,Yt);null!=a&&(this.sd=a);null!=c&&(this.Ri=c);null!=d&&(this.hh=d);return null!=b?this.fh=b:null};g.ia=function(a,b,c){return sQ(b,c,"Reaction",new q(null,1,[$k,this.ic(null)],null))};g.ja=function(){return ia(this)};g.ba=function(a,b){return this===b};
g.ng=function(){var a=this.state,b=this.he;this.sd=this.state=this.he=null;this.Qd=!0;b=F(fk(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);nd(f,this);e+=1}else if(b=F(b))c=b,hf(c)?(b=wd(c),e=xd(c),c=b,d=K(b),b=e):(b=G(c),nd(b,this),b=H(c),c=null,d=0),e=0;else break;null!=this.hh&&this.hh(a);a=this.Ij;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.C?d.C(this):d.call(null,this),c+=1;else return null};g.cd=function(a,b){a=this.state;this.state=b;this.Ri(a,b);rQ(this,a,b);return b};
g.Qf=function(a,b){a=this.cd;var c=this._peek_at();b=b.C?b.C(c):b.call(null,c);return a.call(this,null,b)};g.Rf=function(a,b,c){a=this.cd;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.Sf=function(a,b,c,d){a=this.cd;var e=this._peek_at();b=b.F?b.F(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.Tf=function(a,b,c,d,e){return this.cd(null,Eg(b,this._peek_at(),c,d,e))};g.Uf=function(a,b){rQ(this,a,b)};g.lf=function(a,b,c){return pQ(this,b,c)};
g.mf=function(a,b){a=af(this.Kb);qQ(this,b);return!a&&af(this.Kb)&&null==this.sd?this.ng(null):null};g.ic=function(){var a=this.Lf;if(null!=a)throw a;(a=null==mQ)&&(CQ.P?CQ.P():CQ.call(null));a&&null==this.sd?this.Qd&&(a=this.state,this.state=this.f.P?this.f.P():this.f.call(null),null==this.Kb||E.B(a,this.state)||rQ(this,a,this.state)):(oQ(this),this.Qd&&this._run(!1));return this.state};
function CQ(){for(;;){var a=tQ;if(null==a)return null;tQ=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}cQ=CQ;function yQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new $d(b.slice(1),0,null):null;b=arguments[0];var e=Gg(c);c=B.B(e,Zw);d=B.B(e,pz);e=B.B(e,st);b=new BQ(b);b._set_opts(new q(null,3,[Zw,c,pz,d,st,e],null));return b}var DQ=yQ(null);
function EQ(a,b){var c=FQ,d=DQ,e=nQ(a,d);null!=d.he&&(DQ=yQ(null),d._set_opts(c),d.f=a,d.sd=function(){return hQ.C?hQ.C(b):hQ.call(null,b)},b.cljsRatom=d);return e};var GQ;function HQ(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=Ja(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=O.F(f,dg.C(k),Ka(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function IQ(a){var b;if(b=We(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Td);return b}function JQ(a){var b;if(b=We(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
function KQ(a,b){for(;;){var c=a.Td,d=!0===a.Mh?c.call(a,a):function(){var e=HQ(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,Ae(e,1));case 3:return c.call(a,Ae(e,1),Ae(e,2));case 4:return c.call(a,Ae(e,1),Ae(e,2),Ae(e,3));case 5:return c.call(a,Ae(e,1),Ae(e,2),Ae(e,3),Ae(e,4));default:return c.apply(a,cc(e).slice(1))}}();if(gf(d))return kQ(b,d);if(of(d))d=IQ(d)?function(e,f,h,k,m){return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var A=Array(arguments.length-
0);w<A.length;)A[w]=arguments[w+0],++w;w=new $d(A,0,null)}return p.call(this,w)}function p(t){return kQ(f,Cg(ri,m,t))}n.aa=0;n.ca=function(t){t=F(t);return p(t)};n.I=p;return n}()}(a,b,c,null,d):d,a.Td=d;else return d}}var FQ=new q(null,1,[Yt,!0],null);
function LQ(a,b){switch(a instanceof C?a.ea:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=N(f,1,null),c=ef(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.Oh;d=null!=d?d:c.Oh=vQ.C(null);return mh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,HQ(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,HQ(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,HQ(this,c))};case "shouldComponentUpdate":return function(c){var d=WP;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return Hg.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,HQ(this,this.props),HQ(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,HQ(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,HQ(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,HQ(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=Ka(this,"cljsRatom");null!=c&&AQ(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var MQ=new q(null,2,[fA,null,cy,null],null),NQ=function(a){var b=lh(W);return function(c){var d=B.B(y(b),c);if(null!=d)return d;d=a.C?a.C(c):a.call(null,c);nh.R(b,O,c,d);return d}}(function(a){if("string"===typeof a)return a;a=eg(a);a=BA(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=EA(a,/-/,0);var b=F(a);a=G(b);b=H(b);return Cg(u,a,vh.B(RP,b))});function OQ(a){return Af(function(b,c,d){return O.F(b,dg.C(NQ(c)),d)},W,a)}
function PQ(a,b){var c=function(){var h=ao.C(a);return r(h)?h:Uw.C(a)}(),d=null==ao.C(a),e=function(){var h=Hy.C(a);if(r(h))return h;h=TP(c);return r(h)?h:u.C(bl("reagent"))}(),f=Af(function(h,k,m){var n=O.F,p=LQ(k,m);return n.call(O,h,k,r(p)?p:m)},W,a);return O.I(f,Hy,e,M([Nv,d,ao,c,Uw,function(){var h=this,k=Ka(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?EQ(function(){a:{var m=GQ;GQ=h;try{var n=KQ(h,b);break a}finally{GQ=m}n=void 0}return n},h):k._run(!1)}]))}
function QQ(a){return Af(function(b,c,d){c=eg(c);b[c]=d;return b},{},a)}function RQ(a,b){return PQ(Wj.I(M([MQ,OQ(a)])),b)}var SQ=new X(null,5,5,Z,[nx,Cw,oq,uq,Oy],null);
function TQ(a,b){function c(k,m,n){MP.Component.call(this,k,m,n);r(h)&&(h.B?h.B(this,k):h.call(null,this,k));r(f)&&(this.state=f.C?f.C(this):f.call(null,this));this.Xf=ZP+=1;return this}a=RQ(a,b);b=QQ(Fg(Q,a,Hy,Em,xp,M([Uw,ao,SQ])));var d=QQ(Yj(a,SQ)),e=Hy.C(a),f=Em.C(a),h=xp.C(a);Na(c.prototype,MP.Component.prototype,b);r(Uw.C(a))&&(c.prototype.render=Uw.C(a));r(ao.C(a))&&(c.prototype.Td=ao.C(a));r(Nv.C(a))&&(c.prototype.Mh=Nv.C(a));Na(c,MP.Component,d);r(e)&&(c.displayName=e,c.Qa=e,c.gb=function(k){return fd(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.eb=!0;return c.prototype.constructor=c}function UQ(a,b,c){a=iQ(a);return b[a]=c}function VQ(a,b){var c=Ka(a,iQ(b));null==c?IQ(a)?a=UQ(b,a,a):(c=Ze(a),c=O.F(c,Nx,a),c=TQ(c,b),a=UQ(b,a,c)):a=c;return a}
function WQ(a,b){for(;;){var c=b.Td,d=b.argv,e=Bg(c,d);if(gf(e))return kQ(a,e);if(of(e))c=IQ(e)?function(f,h,k,m,n,p){return function(){function t(A){var D=null;if(0<arguments.length){D=0;for(var I=Array(arguments.length-0);D<I.length;)I[D]=arguments[D+0],++D;D=new $d(I,0,null)}return w.call(this,D)}function w(A){return kQ(f,Cg(ri,p,A))}t.aa=0;t.ca=function(A){A=F(A);return w(A)};t.I=w;return t}()}(a,b,c,null,d,e):e,b.Td=c;else return e}}
function XQ(a,b){var c=b.argv,d=b.Td;b=MP.useState(0);N(b,0,null);var e=N(b,1,null),f=MP.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.C?e.C(le):e.call(null,le)}};k.Xf=ZP+=1;k.constructor=d;k.Td=d;return f.current=k}();var h=f.current;b=Ka(h,"cljsRatom");MP.useEffect(function(){return function(){var k=Ka(h,"cljsRatom");return null==k?null:AQ(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?EQ(function(){a:{var k=GQ;GQ=h;try{var m=WQ(a,h);break a}finally{GQ=k}m=void 0}return m},
h):b._run(!1)}function YQ(a,b){a=a.argv;b=b.argv;var c=!1===WP;if(c)try{return E.B(a,b)}catch(d){return!1}else return c}function ZQ(a,b){function c(e){return XQ(a,e)}var d=Ka(b,iQ(a));if(r(d))return d;d=TP(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=MP.memo(c,YQ);UQ(a,b,d);return d};var $Q=new bk(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function aR(a,b,c,d){var e=Gg(W);e=B.B(e,pw);if(a===document.activeElement&&R($Q,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if(Hg.B(f,c))return gQ.add_after_render(function(){return bR.C?bR.C(d):bR.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.pf=b;a.value=b;We(e)&&(e.C?e.C(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.pf=b;a.value=b;return We(e)?e.C?e.C(b):e.call(null,b):null}
function bR(a){if(r(a.Wf)){a.Pg=!1;var b=a.Nh,c=a.pf,d=a.cg;return Hg.B(b,c)?aR(d,b,c,a):null}return null}function cR(a,b,c){a.pf=c.target.value;r(a.Pg)||(a.Pg=!0,gQ.add_after_render(function(){return bR(a)}));return b.C?b.C(c):b.call(null,c)}
function dR(a){var b=GQ;if(r(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),r(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.Wf)||(b.Wf=!0,b.pf=c);r(b.mh)||(b.mh=We(e)?function(f){b.cg=f;return e.C?e.C(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.cg=f;return e.current=f}:function(f){return b.cg=f});b.Nh=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return cR(b,d,f)};a.ref=b.mh}}
var eR=new q(null,4,[xq,"ReagentInput",Bz,bR,nn,function(a){return a.Wf=null},Nx,function(a,b,c,d,e){dR(c);return lQ(e,a,b,c,d)}],null);var fR={},gR,hR=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,iR={"class":"className","for":"htmlFor",charset:"charSet"};function jR(a,b){return a.hasOwnProperty(b)?Ka(a,b):null}function kR(a,b,c){if(UP(b)){var d=jR(iR,eg(b));null==d?(d=SP(b),b=eg(b),b=iR[b]=d):b=d}c=lR.C?lR.C(c):lR.call(null,c);a[b]=c;return a}
function lR(a){return"object"!==da(a)?a:UP(a)?eg(a):ef(a)?Af(kR,{},a):bf(a)?nl(a):of(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){return Bg(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}():nl(a)}var mR={};function nR(a,b,c){if(UP(b)){var d=jR(mR,eg(b));null==d?(d=SP(b),b=eg(b),b=mR[b]=d):b=d}c=lR(c);a[b]=c;return a}
function oR(a){return"object"!==da(a)?a:UP(a)?eg(a):ef(a)?Af(nR,{},a):bf(a)?nl(a):of(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new $d(f,0,null)}return c.call(this,e)}function c(d){return Bg(a,d)}b.aa=0;b.ca=function(d){d=F(d);return c(d)};b.I=c;return b}():nl(a)}
function pR(a,b,c,d,e){switch(K(b)-e){case 0:return MP.createElement(c,d);case 1:return MP.createElement(c,d,kQ(a,N(b,e,null)));default:return MP.createElement.apply(null,Af(function(f,h,k){h>=e&&f.push(kQ(a,k));return f},[c,d],b))}}function qR(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.Uh=d}function rR(a,b,c){a=VQ(a,c);c={};c.argv=b;b=YP(b);null!=b&&(c.key=b);return MP.createElement(a,c)}
function sR(a,b,c,d){var e={};e.Td=a;e.argv=wi(b,c,K(b));b=YP(b);null!=b&&(e.key=b);return MP.createElement(ZQ(d,a),e)}function tR(a,b,c){return JQ(a)?rR(a,b,c):sR(a,b,1,c)}var uR={};function vR(a,b){a=jR(uR,b);if(null==a){var c=H(wk(hR,eg(b)));a=N(c,0,null);var d=N(c,1,null);c=N(c,2,null);c=null==c?null:BA(c,/\./," ");var e=Hg.B(-1,a.indexOf("-"));a=new qR(a,d,c,e);return uR[b]=a}return a}
function wR(a,b,c,d){var e=a.tag,f=N(b,c,null),h=null==f||ef(f),k=function(){var p=h?f:null;var t=Wy.C(p);t=r(t)?O.F(p,Wy,VP.C(t)):p;var w=a.id;p=a.className;w=null!=w&&null==hA.C(t)?O.F(t,hA,w):t;if(r(p)){var A=O.F,D=VP.B,I=Wy.C(t);t=r(I)?I:Gq.C(t);p=A.call(O,w,Wy,D.call(VP,p,t))}else p=w;p=r(a.Uh)?oR(p):lR(p);return r(p)?p:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m){m=XP(f);var n=function(){var p=d.cj;if(r(p))return p;p=TQ(eR,d);return d.cj=p}();return kQ(d,
Ye(new X(null,6,5,Z,[n,b,e,k,c,d],null),Wj.I(M([r(m)?new q(null,1,[Qz,m],null):null,Ze(b)]))))}m=XP(Ze(b));null!=m&&(k.key=m);return lQ(d,b,e,k,c)}function xR(a,b){return cc(vh.B(function(c){return kQ(b,c)},a))}
function yR(a,b,c){null==b&&console.error("vec-to-elem",Tk.I(M([a])));var d=N(a,0,null);switch(d instanceof C?d.ea:null){case "\x3e":return c=N(a,1,null),wR(new qR(c,null,null,null),a,2,b);case "r\x3e":c=N(a,1,null);d=N(a,2,null);d=r(d)?d:{};var e=XP(Ze(a));null!=e&&(d.key=e);return lQ(b,a,c,d,3);case "f\x3e":return sR(N(a,1,null),a,2,b);case "\x3c\x3e":return d=N(a,1,null),c=null==d||ef(d),d=lR(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=YP(a),null!=e&&(d.key=e),lQ(b,a,MP.Fragment,d,c);default:if(UP(d)||
"string"===typeof d)a:for(;;)switch(c=N(a,0,null),d=eg(c),e=d.indexOf("\x3e"),e){case -1:b=wR(jQ(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=Ye(new X(null,2,5,Z,[Tf.F(d,0,e),O.F(Ye(a,null),0,Tf.B(d,e+1))],null),Ze(a))}else b=c.F?c.F(d,a,b):c.call(null,d,a,b);return b}}
var zR=function(a){var b=bl("reagent-compiler"),c=r(xu.C(a))?tR:rR,d=B.F(a,Mq,vR);if("undefined"===typeof NP||"undefined"===typeof OP||"undefined"===typeof fR||"undefined"===typeof gR)gR=function(e,f,h,k,m){this.nb=e;this.id=f;this.Yg=h;this.Bf=k;this.xi=m;this.K=393216;this.Y=0},gR.prototype.ha=function(e,f){return new gR(this.nb,this.id,this.Yg,this.Bf,f)},gR.prototype.ga=function(){return this.xi},gR.prototype.bj=function(){return this.id},gR.prototype.lh=function(e,f,h){return this.Bf.F?this.Bf.F(this,
f,h):this.Bf.call(null,this,f,h)},gR.prototype.jh=function(e,f){e=this.Yg;return"object"!==da(f)?f:gf(f)?yR(f,this,e):lf(f)?xR(f,this):UP(f)?eg(f):(null!=f?f.K&2147483648||l===f.Ga||(f.K?0:Ub(hd,f)):Ub(hd,f))?Tk.I(M([f])):f},gR.prototype.kh=function(e,f,h,k,m){return pR(this,f,h,k,m)},gR.eb=!0,gR.Qa="reagent.impl.template/t_reagent$impl$template40995",gR.gb=function(e){return fd(e,"reagent.impl.template/t_reagent$impl$template40995")};return new gR(a,b,c,d,W)}(W);function AR(a){return JQ(a)?a:VQ(a,zR)};var BR=LP(12);var CR=lh(W);function DR(a,b,c){var d=WP;WP=!0;try{return BR.render(a.P?a.P():a.call(null),b,function(){var e=WP;WP=!1;try{return nh.R(CR,O,b,a),gQ.flush_after_render(),null!=c?c.P?c.P():c.call(null):null}finally{WP=e}})}finally{WP=d}}function ER(a,b){CQ();var c=We(zR)?new X(null,2,5,Z,[zR,zR],null):new X(null,2,5,Z,[zR,Wu.C(zR)],null),d=N(c,0,null);c=N(c,1,null);return DR(function(){return kQ(d,We(a)?a.P?a.P():a.call(null):a)},b,c)};function FR(a){return(null!=a?a.K&131072||l===a.Be||(a.K?0:Ub(Oc,a)):Ub(Oc,a))?Ze(a):null}function GR(a,b){return(null!=a?a.K&262144||l===a.Gj||(a.K?0:Ub(Qc,a)):Ub(Qc,a))?Ye(a,b):a}function th(a){return ev.C(FR(a))}function uh(a){return lr.C(FR(a))}function HR(a){if(!Rb(vs.C(FR(a)))){var b=Ze(a);b=Q.B?Q.B(b,vs):Q.call(null,b,vs);a=Ye(a,b)}return a}
function IR(a,b){return null==a?b:null==b?HR(a):r(vs.C(FR(a)))?b:r(function(){var c=th(a);return r(c)?th(b):c}())?GR(b,Wj.I(M([FR(a),FR(b)]))):r(function(){var c=uh(a);return r(c)?uh(b):c}())?GR(b,Wj.I(M([FR(a),FR(b)]))):r(function(){var c=th(a);return r(c)?c:uh(b)}())?GR(b,Wj.I(M([Q.B(FR(a),ev),Q.B(FR(b),lr)]))):r(function(){var c=uh(a);return r(c)?c:th(b)}())?GR(a,Wj.I(M([Q.B(FR(b),ev),Q.B(FR(a),lr)]))):null}
var JR=function JR(a){switch(arguments.length){case 0:return JR.P();case 1:return JR.C(arguments[0]);case 2:return JR.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new $d(c.slice(2),0,null);return JR.I(arguments[0],arguments[1],c)}};JR.P=function(){return W};JR.C=function(a){return a};
JR.B=function(a,b){var c=$g(sh(),new X(null,2,5,Z,[a,b],null));c=r(c)?c:vs.C(FR(a));nf(c)?a=IR(a,b):ef(a)&&ef(b)?a=Xj.I(JR,M([a,b])):cf(a)&&cf(b)?a=aE(b,a):bf(a)&&bf(b)?(c=nw.C(Ze(a)),c=r(c)?c:nw.C(Ze(b)),a=r(c)?Ye(Kh.B(Te(a),V.B(b,a)),Wj.I(M([Ze(a),Yj(Ze(b),new X(null,1,5,Z,[ev],null))]))):Kh.B(Te(a),V.B(a,b))):a=b;return a};JR.I=function(a,b,c){return v.F(JR,a,Je(b,c))};JR.ca=function(a){var b=G(a),c=H(a);a=G(c);c=H(c);return this.I(b,a,c)};JR.aa=2;var KR={};function LR(a,b){throw Pl(u.C(a),new q(null,2,[un,a,lm,b],null));}var MR=function(){var a=lh(W),b=lh(W),c=lh(W),d=lh(W),e=B.F(W,iq,xl.P?xl.P():xl.call(null));return new Jl(Wd.B("reitit.exception","format-exception"),function(f){return f},e,a,b,c,d)}();function NR(a){var b=a instanceof Ol?a.data:null,c=MR.F(un.C(b),a instanceof Error?a.message:null,lm.C(b));return Pl(c,O.F(r(b)?b:W,Qs,a))}MR.bb(null,Kl,function(a,b,c){return[u.C(b),r(c)?["\n\n",Tk.I(M([c]))].join(""):null].join("")});
MR.bb(null,Ap,function(a,b,c){function d(e,f){return[r(As.C(f))?"   ":"-\x3e ",u.C(e)," ",u.C(Ig(Yj(f,new X(null,1,5,Z,[As],null))))].join("")}return Cg(u,"Router contains conflicting route paths:\n\n",Lh.B(function(e){var f=N(e,0,null),h=N(f,0,null);f=N(f,1,null);e=N(e,1,null);return[u.C(d(h,f)),"\n",CA("\n",Lh.B(function(k){var m=N(k,0,null);k=N(k,1,null);return d(m,k)},e)),"\n\n"].join("")},c))});
MR.bb(null,Mu,function(a,b,c){return Cg(u,"Router contains conflicting route names:\n\n",Lh.B(function(d){var e=N(d,0,null);d=N(d,1,null);return[u.C(e),"\n-\x3e ",CA("\n-\x3e ",Lh.B(G,d)),"\n"].join("")},c))});MR.bb(null,Un,function(a,b,c){return["Error merging route-data\n\n",Tk.I(M([c]))].join("")});var OR={},PR,QR,RR,SR,TR,UR;function VR(a){return cf(a)||df(a)?fk(a):null==a?dk:Qe.B(dk,a)}function WR(a,b,c,d){this.value=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=WR.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "value":return this.value;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.trie.Wild{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[vq,this.value],null)],null),this.D))};g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[vq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new WR(this.value,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1970880185^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,1,[vq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new WR(this.value,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "value":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(vq,b):S.call(null,vq,b))?new WR(c,this.G,this.D,null):new WR(this.value,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(vq,this.value,null)],null),this.D))};g.ha=function(a,b){return new WR(this.value,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function YR(a,b,c,d){this.value=a;this.G=b;this.D=c;this.J=d;this.K=2230716170;this.Y=139264}g=YR.prototype;
g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "value":return this.value;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.trie.CatchAll{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[vq,this.value],null)],null),this.D))};
g.qa=function(){return new Hi(this,1,new X(null,1,5,Z,[vq],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new YR(this.value,this.G,this.D,this.J)};g.ma=function(){return 1+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-987265038^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.value,b.value)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,1,[vq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new YR(this.value,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "value":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(vq,b):S.call(null,vq,b))?new YR(c,this.G,this.D,null):new YR(this.value,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,1,5,Z,[new Y(vq,this.value,null)],null),this.D))};
g.ha=function(a,b){return new YR(this.value,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function ZR(a,b,c,d,e){this.params=a;this.data=b;this.G=c;this.D=d;this.J=e;this.K=2230716170;this.Y=139264}g=ZR.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "params":return this.params;case "data":return this.data;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.trie.Match{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[ap,this.params],null),new X(null,2,5,Z,[lm,this.data],null)],null),this.D))};g.qa=function(){return new Hi(this,2,new X(null,2,5,Z,[ap,lm],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new ZR(this.params,this.data,this.G,this.D,this.J)};g.ma=function(){return 2+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1117628764^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.params,b.params)&&E.B(this.data,b.data)&&E.B(this.D,b.D)};g.Aa=function(a,b){return R(new bk(null,new q(null,2,[ap,null,lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new ZR(this.params,this.data,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "params":case "data":return!0;default:return R(this.D,b)}};g.fa=function(a,b,c){return r(S.B?S.B(ap,b):S.call(null,ap,b))?new ZR(c,this.data,this.G,this.D,null):r(S.B?S.B(lm,b):S.call(null,lm,b))?new ZR(this.params,c,this.G,this.D,null):new ZR(this.params,this.data,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,2,5,Z,[new Y(ap,this.params,null),new Y(lm,this.data,null)],null),this.D))};
g.ha=function(a,b){return new ZR(this.params,this.data,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function $R(a,b,c,d,e,f,h,k){this.children=a;this.Pc=b;this.Bc=c;this.params=d;this.data=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=$R.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "children":return this.children;case "wilds":return this.Pc;case "catch-all":return this.Bc;case "params":return this.params;case "data":return this.data;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.trie.Node{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Zv,this.children],null),new X(null,2,5,Z,[Hn,this.Pc],null),new X(null,2,5,Z,[jq,this.Bc],null),new X(null,2,5,Z,[ap,this.params],null),new X(null,2,5,Z,[lm,this.data],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[Zv,Hn,jq,ap,lm],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new $R(this.children,this.Pc,this.Bc,this.params,this.data,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=33004208^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.children,b.children)&&E.B(this.Pc,b.Pc)&&E.B(this.Bc,b.Bc)&&E.B(this.params,b.params)&&E.B(this.data,b.data)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[Zv,null,ap,null,Hn,null,jq,null,lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new $R(this.children,this.Pc,this.Bc,this.params,this.data,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "children":case "wilds":case "catch-all":case "params":case "data":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Zv,b):S.call(null,Zv,b))?new $R(c,this.Pc,this.Bc,this.params,this.data,this.G,this.D,null):r(S.B?S.B(Hn,b):S.call(null,Hn,b))?new $R(this.children,c,this.Bc,this.params,this.data,this.G,this.D,null):r(S.B?S.B(jq,b):S.call(null,jq,b))?new $R(this.children,this.Pc,c,this.params,this.data,this.G,this.D,null):r(S.B?S.B(ap,b):S.call(null,ap,b))?new $R(this.children,this.Pc,this.Bc,c,this.data,this.G,this.D,null):r(S.B?S.B(lm,b):S.call(null,lm,b))?new $R(this.children,
this.Pc,this.Bc,this.params,c,this.G,this.D,null):new $R(this.children,this.Pc,this.Bc,this.params,this.data,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(Zv,this.children,null),new Y(Hn,this.Pc,null),new Y(jq,this.Bc,null),new Y(ap,this.params,null),new Y(lm,this.data,null)],null),this.D))};g.ha=function(a,b){return new $R(this.children,this.Pc,this.Bc,this.params,this.data,b,this.D,this.J)};
g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};function aS(a,b,c,d){if(null!=a&&null!=a.ue)a=a.ue(a,b,c,d);else{var e=aS[da(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=aS._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw Wb("Matcher.match",a);}return a}
function bS(a){if(null!=a&&null!=a.se)a=a.se(a);else{var b=bS[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=bS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("Matcher.depth",a);}return a}function cS(a){if(null!=a&&null!=a.te)a=a.te(a);else{var b=cS[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=cS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("Matcher.length",a);}return a}
function dS(a,b,c){if(null!=a&&null!=a.ph)a=a.ph(a,b,c);else{var d=dS[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=dS._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("TrieCompiler.data-matcher",a);}return a}
function eS(a,b,c){if(null!=a&&null!=a.rh)a=a.rh(a,b,c);else{var d=eS[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=eS._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("TrieCompiler.static-matcher",a);}return a}
function fS(a,b,c,d){if(null!=a&&null!=a.sh)a=a.sh(a,b,c,d);else{var e=fS[da(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=fS._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw Wb("TrieCompiler.wild-matcher",a);}return a}
function gS(a,b,c,d){if(null!=a&&null!=a.oh)a=a.oh(a,b,c,d);else{var e=gS[da(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=gS._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw Wb("TrieCompiler.catch-all-matcher",a);}return a}
function hS(a,b,c){if(null!=a&&null!=a.qh)a=a.qh(a,b,c);else{var d=hS[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=hS._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("TrieCompiler.linear-matcher",a);}return a}function iS(a,b){if(null!=a&&null!=a.nh)a=a.nh(a,b);else{var c=iS[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=iS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("TrieCompiler.-path-matcher",a);}return a}
function jS(a,b,c){var d=ap.C(a);return O.F(a,ap,O.F(d,b,c))}function kS(a,b){var c=K(a);var d=K(b);c=c<d?c:d;for(d=0;;){if(d>c)return Tf.F(a,0,c);if(Hg.B(B.B(a,d),B.B(b,d)))return 0!==d?Tf.F(a,0,d):null;d+=1}}
function lS(a,b){function c(p,t){return new X(null,1,5,Z,[new YR(dg.C(Tf.F(a,p+1,t)),null,null,null)],null)}function d(p,t){var w=Z;p=Tf.F(a,p+1,t);t=GA(p);p=r(t)?dg.B(Tf.F(p,0,t),Tf.B(p,t+1)):dg.C(p);return new X(null,1,5,w,[new WR(p,null,null,null)],null)}function e(p,t){return E.B(p,t)?null:new X(null,1,5,Z,[Tf.F(a,p,t)],null)}b=Gg(b);var f=B.F(b,vx,new bk(null,new q(null,2,[Ip,null,Is,null],null),null));b=Is.C(VR(f));f=Ip.C(VR(f));for(var h=null,k=0,m=0;;){if(E.B(m,K(a)))return V.B(h,e(k,m));
var n=B.B(a,m);r(r(b)?E.B("{",n):b)?(n=function(){var p=HA(a,"}",m);return r(p)?p:LR(Bw,new q(null,1,[Dx,a],null))}(),E.B("*",B.B(a,m+1))?(h=V.I(h,e(k,m),M([c(m+1,n)])),k=Mf(n+1),m=n=Mf(n+1)):(h=V.I(h,e(k,m),M([d(m,n)])),k=Mf(n+1),m=n=Mf(n+1))):r(r(f)?E.B(":",n):f)?(n=function(){var p=HA(a,"/",m);return r(p)?p:K(a)}(),E.B(1,n-m)?m+=1:(h=V.I(h,e(k,m),M([d(m,n)])),k=Mf(n),m=n=Mf(n))):r(r(f)?E.B("*",n):f)?(n=K(a),h=V.I(h,e(k,m),M([c(m,n)])),k=Mf(n),m=n=Mf(n)):m+=1}}
function mS(a){return v.F(function(b,c){return[u.C(b),"string"===typeof c?c:c instanceof WR?["{",Tf.B(u.C(c.value),1),"}"].join(""):c instanceof YR?["{*",Tf.B(u.C(c.value),1),"}"].join(""):null].join("")},"",a)}
function nS(a,b){function c(k,m){var n=N(m,0,null),p=V.B;"string"!==typeof k?n=new X(null,1,5,Z,[k],null):"string"===typeof k&&Hg.B(K(k),K(n))?n=new X(null,1,5,Z,[Tf.B(n,K(k))],null):"string"===typeof n&&Rb(k)?(k=r(n)?GA(n):n,n=r(k)?new X(null,2,5,Z,[Tf.F(n,0,k),Tf.B(n,k)],null):new X(null,1,5,Z,[n],null)):n=null;return p.call(V,n,be(m))}function d(k){var m=N(k,0,null),n=r(m)?GA(m):m;return r(r(n)?0<n:n)?V.B(new X(null,2,5,Z,[Tf.F(m,0,n),Tf.B(m,n)],null),be(k)):k}var e=N(a,0,null),f=N(b,0,null);if(null==
e||null==f)return new X(null,2,5,Z,[d(a),d(b)],null);var h=function(){var k="string"===typeof e;return k?(k="string"===typeof f)?kS(e,f):k:k}();return r(h)?new X(null,2,5,Z,[c(h,a),c(h,b)],null):new X(null,2,5,Z,[a,b],null)}function oS(a,b){var c="string"===typeof a?GA(a):null;return"number"===typeof c&&0<c?V.B(new X(null,1,5,Z,[Tf.B(a,c)],null),b):b}
function pS(a,b){for(;;){var c=nS(a,b);a=N(c,0,null);b=F(a);a=G(b);b=H(b);c=N(c,1,null);var d=F(c);c=G(d);d=H(d);if(E.I(a,c,M([null])))return!0;if(null==a||null==c)return!1;if(a instanceof YR||c instanceof YR)return!0;if(a instanceof WR||c instanceof WR)a=oS(a,b),b=oS(c,d);else{if(Hg.B(a,c))return!1;c=d;a=b;b=c}}}
function qS(a){a=Wj.I(M([new q(null,4,[Zv,W,Hn,W,jq,W,ap,W],null),a]));var b=Q.I(a,Zv,M([Hn,jq,ap,lm]));b=ff(a)?Kh.B(W,b):b;return new $R(Zv.C(a),Hn.C(a),jq.C(a),ap.C(a),lm.C(a),null,Ig(b),null)}
var rS=function rS(a,b,c,d,e){b=F(b);var h=G(b),k=H(b);b=null==h?O.I(a,lm,e,M([ap,d])):h instanceof WR?function(){var n=G(k);return n instanceof WR||n instanceof YR?LR(pA,new q(null,2,[Dx,c,zu,vh.B(vq,new X(null,2,5,Z,[h,n],null))],null)):Qh.F(a,new X(null,2,5,Z,[Hn,h],null),function(p){p=r(p)?p:qS(W);return rS.ka?rS.ka(p,k,c,d,e):rS.call(null,p,k,c,d,e)})}():h instanceof YR?Ph(a,new X(null,2,5,Z,[jq,h],null),qS(new q(null,2,[ap,d,lm,e],null))):af(h)?rS.ka?rS.ka(a,k,c,d,e):rS.call(null,a,k,c,d,e):
function(){var n=v.F(function(p,t){var w=N(t,0,null),A=N(t,1,null),D=kS(w,h);if(r(D)){if(E.B(D,w)){var I=function(){var U=Qe.B(k,Tf.B(h,K(w)));return rS.ka?rS.ka(A,U,c,d,e):rS.call(null,A,U,c,d,e)}();return ne(Ph(a,new X(null,2,5,Z,[Zv,w],null),I))}var J=Tf.B(w,D.length),T=Tf.B(h,D.length);I=function(){var U=qS(W);return rS.ka?rS.ka(U,k,c,d,e):rS.call(null,U,k,c,d,e)}();var P=function(){var U=qS(new q(null,1,[Zv,Ve([J,A,T,I])],null));return rS.ka?rS.ka(U,null,null,null,null):rS.call(null,U,null,null,
null,null)}();return ne(Rh.F(a,Zv,function(U){return O.F(Q.B(U,w),D,P)}))}return null},null,Zv.C(a));return r(n)?n:Ph(a,new X(null,2,5,Z,[Zv,h],null),function(){var p=qS(W);return rS.ka?rS.ka(p,k,c,d,e):rS.call(null,p,k,c,d,e)}())}();var m=Oh(b,new X(null,2,5,Z,[Zv,""],null));return r(m)?Rh.R(Xj.I(Wj,M([Q.B(b,lm),m])),Zv,Q,""):b};function sS(a,b,c,d){a=Tf.F(a,b,c);return r(d)?decodeURIComponent(a):a}
function tS(){if("undefined"===typeof KR||"undefined"===typeof OR||"undefined"===typeof PR)PR=function(a){this.jc=a;this.K=393216;this.Y=0},PR.prototype.ha=function(a,b){return new PR(b)},PR.prototype.ga=function(){return this.jc},PR.prototype.ph=function(a,b,c){a=new ZR(b,c,null,null,null);if("undefined"===typeof KR||"undefined"===typeof OR||"undefined"===typeof QR)QR=function(d,e,f,h,k,m){this.jc=d;this._=e;this.params=f;this.data=h;this.match=k;this.yi=m;this.K=393216;this.Y=0},QR.prototype.ha=
function(d,e){return new QR(this.jc,this._,this.params,this.data,this.match,e)},QR.prototype.ga=function(){return this.yi},QR.prototype.ue=function(d,e,f){return E.B(e,f)?this.match:null},QR.prototype.se=function(){return 1},QR.prototype.te=function(){return null},QR.eb=!0,QR.Qa="reitit.trie/t_reitit$trie41505",QR.gb=function(d){return fd(d,"reitit.trie/t_reitit$trie41505")};return new QR(this.jc,this,b,c,a,W)},PR.prototype.rh=function(a,b,c){a=K(b);if("undefined"===typeof KR||"undefined"===typeof OR||
"undefined"===typeof RR)RR=function(d,e,f,h,k,m){this.jc=d;this._=e;this.path=f;this.Yc=h;this.size=k;this.zi=m;this.K=393216;this.Y=0},RR.prototype.ha=function(d,e){return new RR(this.jc,this._,this.path,this.Yc,this.size,e)},RR.prototype.ga=function(){return this.zi},RR.prototype.ue=function(d,e,f,h){if(f<e+this.size)return null;for(d=0;;){if(E.B(d,this.size))return aS(this.Yc,e+this.size,f,h);if(E.B(B.B(h,e+d),B.B(this.path,d)))d+=1;else return null}},RR.prototype.se=function(){return bS(this.Yc)+
1},RR.prototype.te=function(){return K(this.path)},RR.eb=!0,RR.Qa="reitit.trie/t_reitit$trie41527",RR.gb=function(d){return fd(d,"reitit.trie/t_reitit$trie41527")};return new RR(this.jc,this,b,c,a,W)},PR.prototype.sh=function(a,b,c,d){if("undefined"===typeof KR||"undefined"===typeof OR||"undefined"===typeof SR)SR=function(e,f,h,k,m,n){this.jc=e;this._=f;this.key=h;this.end=k;this.Yc=m;this.Ai=n;this.K=393216;this.Y=0},SR.prototype.ha=function(e,f){return new SR(this.jc,this._,this.key,this.end,this.Yc,
f)},SR.prototype.ga=function(){return this.Ai},SR.prototype.ue=function(e,f,h,k){if(f<h&&Hg.B(B.B(k,f),this.end)){e=!1;for(var m=f;;){if(E.B(h,m)){var n=aS(this.Yc,h,h,k);return r(n)?jS(n,this.key,sS(k,f,h,e)):null}var p=B.B(k,m);n=E;if(r(n.B?n.B(this.end,p):n.call(null,this.end,p)))return n=aS(this.Yc,m,h,k),r(n)?jS(n,this.key,sS(k,f,m,e)):null;n=n.B?n.B("%",p):n.call(null,"%",p);r(n)?(m+=1,e=!0):m+=1}}else return null},SR.prototype.se=function(){return bS(this.Yc)+1},SR.prototype.te=function(){return null},
SR.eb=!0,SR.Qa="reitit.trie/t_reitit$trie41574",SR.gb=function(e){return fd(e,"reitit.trie/t_reitit$trie41574")};return new SR(this.jc,this,b,c,d,W)},PR.prototype.oh=function(a,b,c,d){a=new ZR(c,d,null,null,null);if("undefined"===typeof KR||"undefined"===typeof OR||"undefined"===typeof TR)TR=function(e,f,h,k,m,n,p){this.jc=e;this._=f;this.key=h;this.params=k;this.data=m;this.match=n;this.Bi=p;this.K=393216;this.Y=0},TR.prototype.ha=function(e,f){return new TR(this.jc,this._,this.key,this.params,this.data,
this.match,f)},TR.prototype.ga=function(){return this.Bi},TR.prototype.ue=function(e,f,h,k){return f<=h?jS(this.match,this.key,sS(k,f,h,!0)):null},TR.prototype.se=function(){return 1},TR.prototype.te=function(){return null},TR.eb=!0,TR.Qa="reitit.trie/t_reitit$trie41723",TR.gb=function(e){return fd(e,"reitit.trie/t_reitit$trie41723")};return new TR(this.jc,this,b,c,d,a,W)},PR.prototype.qh=function(a,b,c){a=ni(r(c)?b:Wf(xf(uk(bS,cS),b)));b=K(a);if("undefined"===typeof KR||"undefined"===typeof OR||
"undefined"===typeof UR)UR=function(d,e,f,h,k,m){this.jc=d;this._=e;this.dg=f;this.Wi=h;this.size=k;this.Ci=m;this.K=393216;this.Y=0},UR.prototype.ha=function(d,e){return new UR(this.jc,this._,this.dg,this.Wi,this.size,e)},UR.prototype.ga=function(){return this.Ci},UR.prototype.ue=function(d,e,f,h){for(d=0;;)if(d<this.size){var k=aS(B.B(this.dg,d),e,f,h);if(r(k))return k;d+=1}else return null},UR.prototype.se=function(){return Cg(Jf,0,vh.B(bS,this.dg))+1},UR.prototype.te=function(){return null},UR.eb=
!0,UR.Qa="reitit.trie/t_reitit$trie41755",UR.gb=function(d){return fd(d,"reitit.trie/t_reitit$trie41755")};return new UR(this.jc,this,a,c,b,W)},PR.prototype.nh=function(a,b){return function(c){var d=aS(b,0,K(c),c);r(d)?(c=ap.C(d),d=lm.C(d),c=new ZR(c,d,null,null,null)):c=null;return c}},PR.eb=!0,PR.Qa="reitit.trie/t_reitit$trie41498",PR.gb=function(a){return fd(a,"reitit.trie/t_reitit$trie41498")};return new PR(W)}function uS(a){return ik(a,Bh(null))}
function vS(a,b,c,d){d=Gg(d);var e=B.F(d,fv,uS),f=lS(b,d);f=vh.B(vq,Jh(Tb,f));e=e.C?e.C(f):e.call(null,f);return rS(r(a)?a:qS(W),lS(b,d),b,e,c)}function wS(a,b){return xS(a,b,Re)}
function xS(a,b,c){function d(n){n=Gg(n);n=B.B(n,Zv);n=Ni(n);return r(n)?n:new X(null,1,5,Z,["/"],null)}a=Gg(a);var e=B.B(a,lm),f=B.F(a,ap,W),h=B.B(a,Zv),k=B.B(a,Hn),m=B.B(a,jq);a=Kh.B(Kh.B(Kh.B(r(e)?Qe.B(Re,dS(b,f,e)):Re,function(){return function t(p){return new fg(null,function(){for(;;){var w=F(p);if(w){if(hf(w)){var A=wd(w),D=K(A),I=jg(D);a:for(var J=0;;)if(J<D){var T=x(A,J),P=N(T,0,null);T=N(T,1,null);P=eS(b,P,xS(T,b,Qe.B(c,P)));I.add(P);J+=1}else{A=!0;break a}return A?lg(ng(I),t(xd(w))):lg(ng(I),
null)}A=G(w);I=N(A,0,null);A=N(A,1,null);return Je(eS(b,I,xS(A,b,Qe.B(c,I))),t(be(w)))}return null}},null,null)}(h)}()),function(){return function t(p){return new fg(null,function(){for(;;){var w=F(p);if(w){if(hf(w)){var A=wd(w),D=K(A),I=jg(D);return function(){for(var U=0;;)if(U<D){var ea=x(A,U),ra=N(ea,0,null),Ha=N(ea,1,null);ea=I;var va=vq.C(ra),hb=d(Ha);ra=H(hb)?LR(hx,new q(null,2,[Zu,hb,Dx,mS(Qe.B(c,ra))],null)):fS(b,va,Oe(hb),xS(Ha,b,Qe.B(c,va)));ea.add(ra);U+=1}else return!0}()?lg(ng(I),t(xd(w))):
lg(ng(I),null)}var J=G(w),T=N(J,0,null),P=N(J,1,null);return Je(function(){var U=vq.C(T),ea=d(P);return H(ea)?LR(hx,new q(null,2,[Zu,ea,Dx,mS(Qe.B(c,T))],null)):fS(b,U,Oe(ea),xS(P,b,Qe.B(c,U)))}(),t(be(w)))}return null}},null,null)}(k)}()),function(){return function t(p){return new fg(null,function(){for(;;){var w=F(p);if(w){if(hf(w)){var A=wd(w),D=K(A),I=jg(D);a:for(var J=0;;)if(J<D){var T=x(A,J),P=N(T,0,null);T=N(T,1,null);P=gS(b,vq.C(P),f,lm.C(T));I.add(P);J+=1}else{A=!0;break a}return A?lg(ng(I),
t(xd(w))):lg(ng(I),null)}A=G(w);I=N(A,0,null);A=N(A,1,null);return Je(gS(b,vq.C(I),f,lm.C(A)),t(be(w)))}return null}},null,null)}(m)}());return 1<K(a)?hS(b,a,!1):E.B(K(a),1)?G(a):null};function yS(a,b){a=mS(lS(a,b));b=lS(a,b);var c=fk(vh.B(vq,Jh(Tb,b)));return new q(null,3,[np,c,ws,b,Dx,a],null)}function zS(a){return function(b){b=N(b,0,null);return nf(F(np.C(yS(b,a))))}}function AS(a){var b=BS;return Af(function(c,d,e){e=b.C?b.C(e):b.call(null,e);return null==e?c:O.F(c,d,e)},a,a)}
function CS(a,b){function c(k,m,n){if(gf(G(n)))return d(k,m,n);if("string"===typeof G(n)){var p=F(n);n=G(p);p=H(p);var t=N(p,0,null);p=gf(t)||df(t)&&df(G(t))||null==t?new X(null,2,5,Z,[W,p],null):new X(null,2,5,Z,[t,be(p)],null);t=N(p,0,null);p=N(p,1,null);m=Kh.B(m,h.B?h.B(t,e):h.call(null,t,e));t=d([u.C(k),u.C(n)].join(""),m,jh(Bf,p));return F(p)?F(t):new X(null,1,5,Z,[new X(null,2,5,Z,[[u.C(k),u.C(n)].join(""),m],null)],null)}return null}function d(k,m,n){return v.F(function(p,t){return Kh.B(p,
c(k,m,t))},Re,n)}var e=Gg(b);b=B.B(e,Dx);var f=B.F(e,lm,Re);B.F(e,iu,Re);var h=B.B(e,wr);return c(b,Lh.B(Bf,f),a)}function DS(a,b){return Lh.B(function(c){var d=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[d,a.B?a.B(d,c):a.call(null,d,c)],null)},b)}function ES(a,b){return v.F(function(c,d){var e=N(d,0,null);d=N(d,1,null);try{return JR.B(c,Ve([e,d]))}catch(h){if(h instanceof Error){var f=h;return LR(Un,new q(null,4,[Dx,a,em,c,pv,Ve([e,d]),bu,f],null))}throw h;}},W,b)}
function FS(){var a=GS,b=Gg(HS),c=B.B(b,yx);a=DS(ES,CS(a,b));return r(c)?Kh.F(Re,ih(function(d){return c.B?c.B(d,b):c.call(null,d,b)}),a):a}function IS(a,b){var c=Lh.B(function(d){var e=N(d,0,null);return new X(null,2,5,Z,[lS(e,b),d],null)},a);return Ig(Kh.F(W,ch.B(fh(function(d,e){var f=N(e,0,null);e=N(e,1,null);return new X(null,2,5,Z,[e,v.F(function(h,k){var m=N(k,0,null);k=N(k,1,null);return pS(f,m)?Qe.B(h,k):h},dk,wi(c,d+1,K(c)))],null)}),Hh(ch.B(F,Ne))),c))}
function JS(){return Ig(Kh.F(W,Hh(bh(function(a){var b=N(a,0,null);N(b,0,null);b=N(b,1,null);a=N(a,1,null);b=As.C(b);return r(b)?Zg(ch.B(As,Ne),a):b})),KS))}
function LS(a){return fk(Bg(V,function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=Qe.B(vh.B(G,n),G(p));k.add(p);m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}f=G(e);k=N(f,0,null);f=N(f,1,null);return Je(Qe.B(vh.B(G,f),G(k)),d(be(e)))}return null}},null,null)}(a)}()))}
function MS(){var a=NS;a=null==a?null:vl(ch.B(Kr,Ne),a);a=null==a?null:Jh(ch.B(Ob,G),a);a=null==a?null:Ih(ch.I(Sf,K,hk,M([Ne])),a);a=null==a?null:F(a);a=null==a?null:vh.B(function(b){var c=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[c,fk(b)],null)},a);return null==a?null:Kh.B(W,a)}function OS(a){return Kh.F(Re,ih(function(b){return Kr.C(Ne(b))}),a)}
function PS(){var a=HS;return Kh.B(Re,jh(function(b){var c=N(b,0,null),d=N(b,1,null),e=Gg(a),f=B.B(e,qv);return new X(null,3,5,Z,[c,d,r(f)?f.B?f.B(b,e):f.call(null,b,e):null],null)},NS))}function QS(a){return Lh.B(ch.B(ni,dh.B(wh,2)),a)}function RS(a,b){return r(np.C(a))?(a=v.F(function(c,d){if("string"===typeof d)return Qe.B(c,d);d=B.B(b,vq.C(d));return r(d)?Qe.B(c,d):ne(null)},Re,ws.C(a)),r(a)?Bg(u,a):null):Dx.C(a)}function BS(a){return r(a)?decodeURIComponent(a):null};function SS(a,b){if(null!=a&&null!=a.ej)a=a.ej(a,b);else{var c=SS[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=SS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Coercion.-open-model",a);}return a}function TS(a,b,c){if(null!=a&&null!=a.fj)a=a.fj(a,b,c);else{var d=TS[da(null==a?null:a)];if(null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else if(d=TS._,null!=d)a=d.F?d.F(a,b,c):d.call(null,a,b,c);else throw Wb("Coercion.-request-coercer",a);}return a}
function US(a,b,c,d,e,f,h){this.wd=a;this.style=b;this.Wc=c;this.Zc=d;this.G=e;this.D=f;this.J=h;this.K=2230716170;this.Y=139264}g=US.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "in":return this.wd;case "style":return this.style;case "keywordize?":return this.Wc;case "open?":return this.Zc;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.coercion.ParameterCoercion{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[cA,this.wd],null),new X(null,2,5,Z,[wn,this.style],null),new X(null,2,5,Z,[uw,this.Wc],null),new X(null,2,5,Z,[hr,this.Zc],null)],null),this.D))};
g.qa=function(){return new Hi(this,4,new X(null,4,5,Z,[cA,wn,uw,hr],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new US(this.wd,this.style,this.Wc,this.Zc,this.G,this.D,this.J)};g.ma=function(){return 4+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1253949273^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.bi,b.bi)&&E.B(this.style,b.style)&&E.B(this.Wc,b.Wc)&&E.B(this.Zc,b.Zc)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,4,[uw,null,wn,null,hr,null,cA,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new US(this.wd,this.style,this.Wc,this.Zc,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "in":case "style":case "keywordize?":case "open?":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(cA,b):S.call(null,cA,b))?new US(c,this.style,this.Wc,this.Zc,this.G,this.D,null):r(S.B?S.B(wn,b):S.call(null,wn,b))?new US(this.wd,c,this.Wc,this.Zc,this.G,this.D,null):r(S.B?S.B(uw,b):S.call(null,uw,b))?new US(this.wd,this.style,c,this.Zc,this.G,this.D,null):r(S.B?S.B(hr,b):S.call(null,hr,b))?new US(this.wd,this.style,this.Wc,c,this.G,this.D,null):new US(this.wd,this.style,this.Wc,this.Zc,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,4,5,Z,[new Y(cA,this.wd,null),new Y(wn,this.style,null),new Y(uw,this.Wc,null),new Y(hr,this.Zc,null)],null),this.D))};g.ha=function(a,b){return new US(this.wd,this.style,this.Wc,this.Zc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
var VS=new q(null,5,[vz,new US(sw,jm,!0,!0,null,null,null),ir,new US(Su,ir,!1,!1,null,null,null),Ho,new US(Ls,jm,!0,!0,null,null,null),Ty,new US(wt,jm,!0,!0,null,null,null),Dx,new US(np,jm,!0,!0,null,null,null)],null);function WS(a){return pn.C(Cz.C(a))}
function XS(a,b,c,d){d=Gg(d);var e=B.F(d,Fu,WS);d=B.F(d,Vv,VS);if(r(a)&&(b=d.C?d.C(b):d.call(null,b),r(b))){var f=Gg(b);b=B.B(f,uw);d=B.B(f,hr);var h=B.B(f,cA);f=B.B(f,wn);var k=ch.B(r(b)?qI:Bf,h);c=r(d)?SS(a,c):c;var m=TS(a,f,c);return r(m)?function(n){var p=k(n);n=e.C?e.C(n):e.call(null,n);return m.B?m.B(p,n):m.call(null,p,n)}:null}return null}function YS(a,b){return Af(function(c,d,e){e=e.C?e.C(b):e.call(null,b);return O.F(c,d,e)},W,a)}
function ZS(a,b,c){var d=function(){return function h(f){return new fg(null,function(){for(var k=f;;)if(k=F(k)){if(hf(k)){var m=wd(k),n=K(m),p=jg(n);a:for(var t=0;;)if(t<n){var w=x(m,t),A=N(w,0,null);w=N(w,1,null);r(w)&&(A=new X(null,2,5,Z,[A,XS(a,A,w,c)],null),p.add(A));t+=1}else{m=!0;break a}return m?lg(ng(p),h(xd(k))):lg(ng(p),null)}m=G(k);p=N(m,0,null);m=N(m,1,null);if(r(m))return Je(new X(null,2,5,Z,[p,XS(a,p,m,c)],null),h(be(k)));k=be(k)}else return null},null,null)}(b)}();d=null==d?null:Ih(Ne,
d);d=null==d?null:F(d);return null==d?null:Kh.B(W,d)}function $S(a){var b=Dq.C(a);return r(b)?YS(b,a):null};var aT={},bT,cT,dT,eT,fT,gT;function hT(a,b){if(null!=a&&null!=a.Df)a=a.Df(a,b);else{var c=hT[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=hT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Expand.expand",a);}return a}C.prototype.Df=function(){return new q(null,1,[Kr,this],null)};q.prototype.Df=function(){return this};wj.prototype.Df=function(){return this};hT["function"]=function(a){return new q(null,1,[hv,a],null)};hT["null"]=function(){return null};
function jT(a,b){if(null!=a&&null!=a.de)a=a.de(a,b);else{var c=jT[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=jT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Router.match-by-path",a);}return a}function kT(a,b,c,d,e,f,h,k){this.ib=a;this.data=b;this.result=c;this.hb=d;this.path=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=kT.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "template":return this.ib;case "data":return this.data;case "result":return this.result;case "path-params":return this.hb;case "path":return this.path;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.core.Match{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[pu,this.ib],null),new X(null,2,5,Z,[lm,this.data],null),new X(null,2,5,Z,[Dq,this.result],null),new X(null,2,5,Z,[np,this.hb],null),new X(null,2,5,Z,[Dx,this.path],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[pu,lm,Dq,np,Dx],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new kT(this.ib,this.data,this.result,this.hb,this.path,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=687105853^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.ib,b.ib)&&E.B(this.data,b.data)&&E.B(this.result,b.result)&&E.B(this.hb,b.hb)&&E.B(this.path,b.path)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[Dx,null,pu,null,Dq,null,np,null,lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new kT(this.ib,this.data,this.result,this.hb,this.path,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "template":case "data":case "result":case "path-params":case "path":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(pu,b):S.call(null,pu,b))?new kT(c,this.data,this.result,this.hb,this.path,this.G,this.D,null):r(S.B?S.B(lm,b):S.call(null,lm,b))?new kT(this.ib,c,this.result,this.hb,this.path,this.G,this.D,null):r(S.B?S.B(Dq,b):S.call(null,Dq,b))?new kT(this.ib,this.data,c,this.hb,this.path,this.G,this.D,null):r(S.B?S.B(np,b):S.call(null,np,b))?new kT(this.ib,this.data,this.result,c,this.path,this.G,this.D,null):r(S.B?S.B(Dx,b):S.call(null,Dx,b))?new kT(this.ib,this.data,this.result,
this.hb,c,this.G,this.D,null):new kT(this.ib,this.data,this.result,this.hb,this.path,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(pu,this.ib,null),new Y(lm,this.data,null),new Y(Dq,this.result,null),new Y(np,this.hb,null),new Y(Dx,this.path,null)],null),this.D))};g.ha=function(a,b){return new kT(this.ib,this.data,this.result,this.hb,this.path,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function lT(a,b,c,d,e){return new kT(a,b,c,d,e,null,null,null)}function mT(a,b,c,d,e,f,h,k){this.ib=a;this.data=b;this.result=c;this.hb=d;this.required=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=mT.prototype;g.oa=function(a,b){return this.T(null,b,null)};
g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "template":return this.ib;case "data":return this.data;case "result":return this.result;case "path-params":return this.hb;case "required":return this.required;default:return B.F(this.D,b,c)}};g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.core.PartialMatch{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[pu,this.ib],null),new X(null,2,5,Z,[lm,this.data],null),new X(null,2,5,Z,[Dq,this.result],null),new X(null,2,5,Z,[np,this.hb],null),new X(null,2,5,Z,[ns,this.required],null)],null),this.D))};g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[pu,lm,Dq,np,ns],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};
g.pa=function(){return new mT(this.ib,this.data,this.result,this.hb,this.required,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=492095938^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.ib,b.ib)&&E.B(this.data,b.data)&&E.B(this.result,b.result)&&E.B(this.hb,b.hb)&&E.B(this.required,b.required)&&E.B(this.D,b.D)};
g.Aa=function(a,b){return R(new bk(null,new q(null,5,[pu,null,Dq,null,np,null,ns,null,lm,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new mT(this.ib,this.data,this.result,this.hb,this.required,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "template":case "data":case "result":case "path-params":case "required":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(pu,b):S.call(null,pu,b))?new mT(c,this.data,this.result,this.hb,this.required,this.G,this.D,null):r(S.B?S.B(lm,b):S.call(null,lm,b))?new mT(this.ib,c,this.result,this.hb,this.required,this.G,this.D,null):r(S.B?S.B(Dq,b):S.call(null,Dq,b))?new mT(this.ib,this.data,c,this.hb,this.required,this.G,this.D,null):r(S.B?S.B(np,b):S.call(null,np,b))?new mT(this.ib,this.data,this.result,c,this.required,this.G,this.D,null):r(S.B?S.B(ns,b):S.call(null,ns,b))?new mT(this.ib,
this.data,this.result,this.hb,c,this.G,this.D,null):new mT(this.ib,this.data,this.result,this.hb,this.required,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(pu,this.ib,null),new Y(lm,this.data,null),new Y(Dq,this.result,null),new Y(np,this.hb,null),new Y(ns,this.required,null)],null),this.D))};g.ha=function(a,b){return new mT(this.ib,this.data,this.result,this.hb,this.required,b,this.D,this.J)};
g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function nT(a,b){var c=is.B(b,tS()),d=OS(a),e=v.F(function(p,t){function w(ea){var ra=RS(P,ea);r(ra)?ea=lT(D,J,T,AS(ea),ra):(ea=AS(ea),ea=new mT(D,J,T,ea,U,null,null,null));return ea}var A=N(p,0,null);p=N(p,1,null);var D=N(t,0,null),I=N(t,1,null),J=Gg(I);I=B.B(J,Kr);var T=N(t,2,null);t=yS(D,b);var P=Gg(t),U=B.B(P,np);return new X(null,2,5,Z,[Qe.B(A,wS(vS(null,D,lT(D,J,T,null,null),b),tS())),r(I)?O.F(p,I,w):p],null)},new X(null,2,5,Z,[Re,W],null),a),f=N(e,0,null),h=N(e,1,null),k=hS(c,f,!0),m=iS(c,
k),n=QS(a);if("undefined"===typeof KR||"undefined"===typeof aT||"undefined"===typeof bT)bT=function(p,t,w,A,D,I,J,T,P,U,ea,ra){this.Yc=p;this.names=t;this.fd=w;this.md=A;this.lookup=D;this.lj=I;this.We=J;this.Ve=T;this.xd=P;this.Yf=U;this.nb=ea;this.Di=ra;this.K=393216;this.Y=0},bT.prototype.ha=function(p,t){return new bT(this.Yc,this.names,this.fd,this.md,this.lookup,this.lj,this.We,this.Ve,this.xd,this.Yf,this.nb,t)},bT.prototype.ga=function(){return this.Di},bT.prototype.de=function(p,t){p=this.xd.C?
this.xd.C(t):this.xd.call(null,t);return r(p)?O.F(O.F(lm.C(p),np,ap.C(p)),Dx,t):null},bT.eb=!0,bT.Qa="reitit.core/t_reitit$core43413",bT.gb=function(p){return fd(p,"reitit.core/t_reitit$core43413")};return new bT(k,d,a,n,h,e,f,h,m,c,b,new q(null,1,[un,qn],null))}var oT=function oT(a){switch(arguments.length){case 1:return oT.C(arguments[0]);case 2:return oT.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};oT.C=function(a){return oT.B(a,W)};
oT.B=function(a,b){var c=F(Ih(zS(b),a));c&&LR(["can't create :lookup-router with wildcard routes: ",u.C(c)].join(""),new q(null,2,[Hn,c,iu,a],null));c=OS(a);var d=v.F(function(k,m){var n=N(k,0,null);k=N(k,1,null);var p=N(m,0,null),t=N(m,1,null),w=Gg(t);t=B.B(w,Kr);var A=N(m,2,null);return new X(null,2,5,Z,[O.F(n,p,lT(p,w,A,W,p)),r(t)?O.F(k,t,function(D){return lT(p,w,A,D,p)}):k],null)},new X(null,2,5,Z,[W,W],null),a),e=N(d,0,null),f=N(d,1,null),h=QS(a);if("undefined"===typeof KR||"undefined"===typeof aT||
"undefined"===typeof cT)cT=function(k,m,n,p,t,w,A,D,I,J){this.names=k;this.data=m;this.fd=n;this.mj=p;this.md=t;this.lookup=w;this.We=A;this.Ve=D;this.nb=I;this.Ei=J;this.K=393216;this.Y=0},cT.prototype.ha=function(k,m){return new cT(this.names,this.data,this.fd,this.mj,this.md,this.lookup,this.We,this.Ve,this.nb,m)},cT.prototype.ga=function(){return this.Ei},cT.prototype.de=function(k,m){k=this.data;return k.C?k.C(m):k.call(null,m)},cT.eb=!0,cT.Qa="reitit.core/t_reitit$core43483",cT.gb=function(k){return fd(k,
"reitit.core/t_reitit$core43483")};return new cT(c,e,a,d,h,f,e,f,b,new q(null,1,[un,qn],null))};oT.aa=2;var pT=function pT(a){switch(arguments.length){case 1:return pT.C(arguments[0]);case 2:return pT.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};pT.C=function(a){return pT.B(a,W)};
pT.B=function(a,b){var c=is.B(b,tS()),d=OS(a),e=v.F(function(p,t){function w(ea){var ra=RS(P,ea);r(ra)?ea=lT(D,J,T,AS(ea),ra):(ea=AS(ea),ea=new mT(D,J,T,ea,U,null,null,null));return ea}var A=N(p,0,null);p=N(p,1,null);var D=N(t,0,null),I=N(t,1,null),J=Gg(I);I=B.B(J,Kr);var T=N(t,2,null);t=yS(D,b);var P=Gg(t),U=B.B(P,np);return new X(null,2,5,Z,[vS(A,D,lT(D,J,T,null,null),b),r(I)?O.F(p,I,w):p],null)},new X(null,2,5,Z,[null,W],null),a),f=N(e,0,null),h=N(e,1,null),k=wS(f,c),m=r(k)?iS(c,k):null,n=QS(a);
if("undefined"===typeof KR||"undefined"===typeof aT||"undefined"===typeof dT)dT=function(p,t,w,A,D,I,J,T,P,U,ea,ra){this.Yc=p;this.nj=t;this.names=w;this.fd=A;this.md=D;this.lookup=I;this.We=J;this.Ve=T;this.xd=P;this.Yf=U;this.nb=ea;this.Fi=ra;this.K=393216;this.Y=0},dT.prototype.ha=function(p,t){return new dT(this.Yc,this.nj,this.names,this.fd,this.md,this.lookup,this.We,this.Ve,this.xd,this.Yf,this.nb,t)},dT.prototype.ga=function(){return this.Fi},dT.prototype.de=function(p,t){p=this.xd;p=r(p)?
this.xd.C?this.xd.C(t):this.xd.call(null,t):p;return r(p)?O.F(O.F(lm.C(p),np,ap.C(p)),Dx,t):null},dT.eb=!0,dT.Qa="reitit.core/t_reitit$core43537",dT.gb=function(p){return fd(p,"reitit.core/t_reitit$core43537")};return new dT(k,e,d,a,n,h,f,h,m,c,b,new q(null,1,[un,qn],null))};pT.aa=2;var qT=function qT(a){switch(arguments.length){case 1:return qT.C(arguments[0]);case 2:return qT.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};
qT.C=function(a){return qT.B(a,W)};
qT.B=function(a,b){r(function(){var p=Hg.B(K(a),1);return p?p:$g(zS(b),a)}())&&LR([":single-static-path-router requires exactly 1 static route: ",u.C(a)].join(""),new q(null,1,[iu,a],null));var c=OS(a),d=N(c,0,null),e=N(a,0,null),f=N(e,0,null),h=N(e,1,null),k=N(e,2,null),m=lT(f,h,k,W,f),n=QS(a);if("undefined"===typeof KR||"undefined"===typeof aT||"undefined"===typeof eT)eT=function(p,t,w,A,D,I,J,T,P,U,ea,ra,Ha){this.p=p;this.names=t;this.match=w;this.data=A;this.fd=D;this.md=I;this.oj=J;this.qj=T;
this.n=P;this.result=U;this.nb=ea;this.pj=ra;this.Gi=Ha;this.K=393216;this.Y=0},eT.prototype.ha=function(p,t){return new eT(this.p,this.names,this.match,this.data,this.fd,this.md,this.oj,this.qj,this.n,this.result,this.nb,this.pj,t)},eT.prototype.ga=function(){return this.Gi},eT.prototype.de=function(p,t){return E.B(this.p,t)?this.match:null},eT.eb=!0,eT.Qa="reitit.core/t_reitit$core43561",eT.gb=function(p){return fd(p,"reitit.core/t_reitit$core43561")};return new eT(f,c,m,h,a,n,c,e,d,k,b,a,new q(null,
1,[un,qn],null))};qT.aa=2;var rT=function rT(a){switch(arguments.length){case 1:return rT.C(arguments[0]);case 2:return rT.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};rT.C=function(a){return rT.B(a,W)};
rT.B=function(a,b){var c=vl(zS(b),a);c=Gg(c);var d=B.B(c,!0),e=B.B(c,!1),f=E.B(1,K(e))?qT:oT,h=pT.B(d,b),k=f.B?f.B(e,b):f.call(null,e,b),m=OS(a),n=QS(a);if("undefined"===typeof KR||"undefined"===typeof aT||"undefined"===typeof fT)fT=function(p,t,w,A,D,I,J,T,P,U,ea){this.names=p;this.fd=t;this.md=w;this.hi=A;this.yh=D;this.lookup=I;this.rj=J;this.vh=T;this.nb=P;this.xh=U;this.Hi=ea;this.K=393216;this.Y=0},fT.prototype.ha=function(p,t){return new fT(this.names,this.fd,this.md,this.hi,this.yh,this.lookup,
this.rj,this.vh,this.nb,this.xh,t)},fT.prototype.ga=function(){return this.Hi},fT.prototype.de=function(p,t){p=jT(this.vh,t);return r(p)?p:jT(this.xh,t)},fT.eb=!0,fT.Qa="reitit.core/t_reitit$core43580",fT.gb=function(p){return fd(p,"reitit.core/t_reitit$core43580")};return new fT(m,a,n,c,f,e,d,k,b,h,new q(null,1,[un,qn],null))};rT.aa=2;
var sT=function sT(a){switch(arguments.length){case 1:return sT.C(arguments[0]);case 2:return sT.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};sT.C=function(a){return sT.B(a,W)};
sT.B=function(a,b){function c(t){return R(d,G(t))}var d=LS(function(){var t=Zm.C(b);return r(t)?t:IS(a,b)}()),e=vl(c,a);e=Gg(e);var f=B.B(e,!0),h=B.B(e,!1),k=nT(f,b),m=rT.B(h,b),n=OS(a),p=QS(a);if("undefined"===typeof KR||"undefined"===typeof aT||"undefined"===typeof gT)gT=function(t,w,A,D,I,J,T,P,U,ea,ra,Ha){this.Qi=t;this.ii=w;this.names=A;this.Rh=D;this.fd=I;this.Ph=J;this.md=T;this.Qh=P;this.eh=U;this.bh=ea;this.nb=ra;this.Ii=Ha;this.K=393216;this.Y=0},gT.prototype.ha=function(t,w){return new gT(this.Qi,
this.ii,this.names,this.Rh,this.fd,this.Ph,this.md,this.Qh,this.eh,this.bh,this.nb,w)},gT.prototype.ga=function(){return this.Ii},gT.prototype.de=function(t,w){t=jT(this.eh,w);return r(t)?t:jT(this.bh,w)},gT.eb=!0,gT.Qa="reitit.core/t_reitit$core43628",gT.gb=function(t){return fd(t,"reitit.core/t_reitit$core43628")};return new gT(h,e,n,d,a,f,p,c,m,k,b,new q(null,1,[un,qn],null))};sT.aa=2;function tT(a){var b=a.Kc;return Kh.B(W,vh.B(uk(dg,function(c){c=b.getValues(c);return 2>c.length?c[0]:ni(c)}),b.getKeys()))}function uT(a,b,c){c=Gg(c);var d=B.B(c,Vp);b=sb(b);var e=r(d)?function(k){try{return $S(k)}catch(n){if(n instanceof Error){var m=n;d.B?d.B(k,m):d.call(null,k,m);throw m;}throw n;}}:$S;a=jT(a,b.Jc);if(r(a)){var f=tT(b),h=O.F(a,sw,f);a=function(){var k=e.C?e.C(h):e.call(null,h);return r(k)?k:new q(null,2,[Dx,np.C(h),vz,f],null)}();return O.F(h,zu,a)}return null};function vT(a){if(null!=a&&null!=a.og)a=a.og(a);else{var b=vT[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=vT._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("History.-init",a);}return a}function wT(a){if(null!=a&&null!=a.pg)a=a.pg(a);else{var b=wT[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=wT._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("History.-stop",a);}return a}
function xT(a,b){if(null!=a&&null!=a.Ye)a=a.Ye(a,b);else{var c=xT[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("History.-on-navigate",a);}return a}function yT(a){if(null!=a&&null!=a.Ef)a=a.Ef(a);else{var b=yT[da(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=yT._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw Wb("History.-get-path",a);}return a}
function zT(a,b,c,d,e,f,h,k){this.Oa=a;this.Xa=b;this.xc=c;this.uc=d;this.wc=e;this.G=f;this.D=h;this.J=k;this.K=2230716170;this.Y=139264}g=zT.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "on-navigate":return this.Oa;case "router":return this.Xa;case "popstate-listener":return this.xc;case "hashchange-listener":return this.uc;case "last-fragment":return this.wc;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.frontend.history.FragmentHistory{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Fz,this.Oa],null),new X(null,2,5,Z,[hu,this.Xa],null),new X(null,2,5,Z,[dw,this.xc],null),new X(null,2,5,Z,[mq,this.uc],null),new X(null,2,5,Z,[ny,this.wc],null)],null),this.D))};
g.qa=function(){return new Hi(this,5,new X(null,5,5,Z,[Fz,hu,dw,mq,ny],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new zT(this.Oa,this.Xa,this.xc,this.uc,this.wc,this.G,this.D,this.J)};g.ma=function(){return 5+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=354327177^je(this)};
g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Oa,b.Oa)&&E.B(this.Xa,b.Xa)&&E.B(this.xc,b.xc)&&E.B(this.uc,b.uc)&&E.B(this.wc,b.wc)&&E.B(this.D,b.D)};g.og=function(){function a(e){var f=yT(c);return E.B("popstate",e.type)||Hg.B(y(b),f)?xT(c,f):null}var b=lh(null),c=O.F(this,ny,b),d=O.I(c,dw,QH(window,"popstate",a,!1),M([mq,QH(window,"hashchange",a,!1)]));xT(d,yT(d));return d};g.pg=function(){YH(this.xc);YH(this.uc);return null};
g.Ye=function(a,b){mh(this.wc,b);a=uT(this.Xa,b,this);return this.Oa.B?this.Oa.B(a,this):this.Oa.call(null,a,this)};g.Ef=function(){var a=Tf.B(window.location.hash,1);return E.B("",a)?"/":a};g.Aa=function(a,b){return R(new bk(null,new q(null,5,[ny,null,hu,null,dw,null,Fz,null,mq,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new zT(this.Oa,this.Xa,this.xc,this.uc,this.wc,this.G,Ig(Q.B(this.D,b)),null)};
g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "on-navigate":case "router":case "popstate-listener":case "hashchange-listener":case "last-fragment":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Fz,b):S.call(null,Fz,b))?new zT(c,this.Xa,this.xc,this.uc,this.wc,this.G,this.D,null):r(S.B?S.B(hu,b):S.call(null,hu,b))?new zT(this.Oa,c,this.xc,this.uc,this.wc,this.G,this.D,null):r(S.B?S.B(dw,b):S.call(null,dw,b))?new zT(this.Oa,this.Xa,c,this.uc,this.wc,this.G,this.D,null):r(S.B?S.B(mq,b):S.call(null,mq,b))?new zT(this.Oa,this.Xa,this.xc,c,this.wc,this.G,this.D,null):r(S.B?S.B(ny,b):S.call(null,ny,b))?new zT(this.Oa,this.Xa,this.xc,this.uc,c,this.G,this.D,
null):new zT(this.Oa,this.Xa,this.xc,this.uc,this.wc,this.G,O.F(this.D,b,c),null)};g.la=function(){return F(V.B(new X(null,5,5,Z,[new Y(Fz,this.Oa,null),new Y(hu,this.Xa,null),new Y(dw,this.xc,null),new Y(mq,this.uc,null),new Y(ny,this.wc,null)],null),this.D))};g.ha=function(a,b){return new zT(this.Oa,this.Xa,this.xc,this.uc,this.wc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function AT(a,b,c,d){var e="undefined"!==typeof location?sb(location).Tc:null;return(e=Rb(!!d.Jd)&&Rb(!!d.Tc)||E.B(e,d.Tc))?(e=Rb(b.altKey))?(e=Rb(b.ctrlKey))?(e=Rb(b.metaKey))?(e=Rb(b.shiftKey))?(e=Rb(c.hasAttribute("target"))||R(new bk(null,new q(null,2,["",null,"_self",null],null),null),c.getAttribute("target")))?(b=E.B(0,b.button))?(c=Rb(c.isContentEditable))?jT(a,d.Jc):c:b:e:e:e:e:e:e}
function BT(a,b,c,d,e,f,h){this.Oa=a;this.Xa=b;this.Ic=c;this.Cc=d;this.G=e;this.D=f;this.J=h;this.K=2230716170;this.Y=139264}g=BT.prototype;g.oa=function(a,b){return this.T(null,b,null)};g.T=function(a,b,c){switch(b instanceof C?b.ea:null){case "on-navigate":return this.Oa;case "router":return this.Xa;case "listen-key":return this.Ic;case "click-listen-key":return this.Cc;default:return B.F(this.D,b,c)}};
g.ya=function(a,b,c){return v.F(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.F?b.F(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return Ak(b,function(d){return Ak(b,Ik,""," ","",c,d)},"#reitit.frontend.history.Html5History{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Fz,this.Oa],null),new X(null,2,5,Z,[hu,this.Xa],null),new X(null,2,5,Z,[Os,this.Ic],null),new X(null,2,5,Z,[jz,this.Cc],null)],null),this.D))};
g.qa=function(){return new Hi(this,4,new X(null,4,5,Z,[Fz,hu,Os,jz],null),r(this.D)?Fd(this.D):Jg())};g.ga=function(){return this.G};g.pa=function(){return new BT(this.Oa,this.Xa,this.Ic,this.Cc,this.G,this.D,this.J)};g.ma=function(){return 4+K(this.D)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1654764186^je(this)};g.ba=function(a,b){return null!=b&&this.constructor===b.constructor&&E.B(this.Oa,b.Oa)&&E.B(this.Xa,b.Xa)&&E.B(this.Ic,b.Ic)&&E.B(this.Cc,b.Cc)&&E.B(this.D,b.D)};
g.og=function(){var a=this,b=this,c=function(){var e=az.C(b);return r(e)?e:AT}(),d=O.I(b,Os,QH(window,"popstate",function(){return b.Ye(null,b.Ef(null))},!1),M([jz,QH(document,"click",function(e){var f=e.oe;a:for(f=null!=f.composedPath?f.composedPath()[0]:e.target;;)if(r(f)){if(E.B("A",f.nodeName))break a;f=f.parentNode}else{f=null;break a}if(r(f)){var h=sb(f.href);if(r(c.R?c.R(a.Xa,e,f,h):c.call(null,a.Xa,e,f,h)))return e.preventDefault(),e=[u.C(h.Jc),r(""!==h.Kc.toString())?["?",u.C(h.getQuery())].join(""):
null,r(!!h.Id)?["#",u.C(h.Id)].join(""):null].join(""),window.history.pushState(null,"",e),b.Ye(null,e)}return null})]));xT(d,yT(d));return d};g.Ye=function(a,b){a=uT(this.Xa,b,this);return this.Oa.B?this.Oa.B(a,this):this.Oa.call(null,a,this)};g.pg=function(){YH(this.Ic);YH(this.Cc);return null};g.Ef=function(){return[u.C(window.location.pathname),u.C(window.location.search)].join("")};
g.Aa=function(a,b){return R(new bk(null,new q(null,4,[hu,null,Os,null,jz,null,Fz,null],null),null),b)?Q.B(Rc(Kh.B(W,this),this.G),b):new BT(this.Oa,this.Xa,this.Ic,this.Cc,this.G,Ig(Q.B(this.D,b)),null)};g.ra=function(a,b){switch(b instanceof C?b.ea:null){case "on-navigate":case "router":case "listen-key":case "click-listen-key":return!0;default:return R(this.D,b)}};
g.fa=function(a,b,c){return r(S.B?S.B(Fz,b):S.call(null,Fz,b))?new BT(c,this.Xa,this.Ic,this.Cc,this.G,this.D,null):r(S.B?S.B(hu,b):S.call(null,hu,b))?new BT(this.Oa,c,this.Ic,this.Cc,this.G,this.D,null):r(S.B?S.B(Os,b):S.call(null,Os,b))?new BT(this.Oa,this.Xa,c,this.Cc,this.G,this.D,null):r(S.B?S.B(jz,b):S.call(null,jz,b))?new BT(this.Oa,this.Xa,this.Ic,c,this.G,this.D,null):new BT(this.Oa,this.Xa,this.Ic,this.Cc,this.G,O.F(this.D,b,c),null)};
g.la=function(){return F(V.B(new X(null,4,5,Z,[new Y(Fz,this.Oa,null),new Y(hu,this.Xa,null),new Y(Os,this.Ic,null),new Y(jz,this.Cc,null)],null),this.D))};g.ha=function(a,b){return new BT(this.Oa,this.Xa,this.Ic,this.Cc,b,this.D,this.J)};g.na=function(a,b){return gf(b)?this.fa(null,x(b,0),x(b,1)):v.F(nc,this,b)};
function CT(a,b,c){var d=Gg(c);c=B.F(d,zr,!0);b=O.I(Q.B(d,zr),hu,a,M([Fz,b]));a=vT;r(c)?(c=Q.I(b,Fz,M([hu,dw,mq,ny])),c=ff(b)?Kh.B(W,c):c,b=new zT(Fz.C(b),hu.C(b),dw.C(b),mq.C(b),ny.C(b),null,Ig(c),null)):(c=Q.I(b,Fz,M([hu,Os,jz])),c=ff(b)?Kh.B(W,c):c,b=new BT(Fz.C(b),hu.C(b),Os.C(b),jz.C(b),null,Ig(c),null));a(b)}function DT(a){return r(a)?wT(a):null};var ET=lh(null);function FT(a){var b=GT,c=new q(null,1,[zr,!1],null);nh.B(ET,DT);CT(b,function(d,e){null==y(ET)&&mh(ET,e);return a.B?a.B(d,e):a.call(null,d,e)},c)};var PB,HT=new q(null,3,[Vs,new q(null,1,[am,Ar],null),Sq,new q(null,2,[xs,Mr,cp,$q],null),ln,new q(null,2,[xs,Mr,cp,Ks],null)],null),IT=kK?kK(HT):lK.call(null,HT),JT=Gg(M([Kb,new q(null,1,[Pw,lh(W)],null)])),KT=B.B(JT,Kb),LT=B.B(JT,Mo);PB=new kh(IT,KT,LT);var MT={};var NT={},OT,PT,QT,RT;function ST(a,b){if(null!=a&&null!=a.Ge)a=a.Ge(a,b);else{var c=ST[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ST._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Spec.conform*",a);}return a}function TT(a,b){if(null!=a&&null!=a.He)a=a.He(a,b);else{var c=TT[da(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=TT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw Wb("Spec.with-gen*",a);}return a}var UT=lh(W);
function VT(a){if(ag(a)){var b=y(UT);a=B.B(b,a);if(ag(a))a:for(;;)if(ag(a))a=B.B(b,a);else{b=a;break a}else b=a;return b}return a}function WT(a){if(ag(a)){var b=VT(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",u.C(a)].join(""));}return a}function XT(a){return null!=a&&l===a.nf?a:null}function YT(a){var b=Xu.C(a);return r(b)?a:b}function ZT(a,b){return ag(a)?a:r(YT(a))?O.F(a,$m,b):null!=a&&(a.K&131072||l===a.Be)?Ye(a,O.F(Ze(a),$m,b)):null}
function $T(a){return ag(a)?a:r(YT(a))?$m.C(a):null!=a&&(a.K&131072||l===a.Be)?$m.C(Ze(a)):null}function aU(a){var b=function(){var c=(c=ag(a))?VT(a):c;if(r(c))return c;c=XT(a);if(r(c))return c;c=YT(a);return r(c)?c:null}();return r(YT(b))?ZT(bU(b,null),$T(b)):b}function cU(a){var b=aU(a);if(r(b))return b;if(ag(a))throw Error(["Unable to resolve spec: ",u.C(a)].join(""));return null}
function dU(a){if(FA(a))return null;a=vh.B(Rl,EA(a,"$",0));if(2<=K(a)&&Zg(function(c){return!FA(c)},a)){var b=uk(hk,Pe)(a);a=N(b,0,null);b=N(b,1,null);return Wd.C([CA(".",a),"/",u.C(b)].join(""))}return null}
var fU=function(){function a(d,e){var f=eU[da(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=eU._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw Wb("Specize.specize*",d);}function b(d){var e=eU[da(null==d?null:d)];if(null!=e)return e.C?e.C(d):e.call(null,d);e=eU._;if(null!=e)return e.C?e.C(d):e.call(null,d);throw Wb("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.C=b;c.B=a;return c}(),eU=function eU(a){switch(arguments.length){case 1:return eU.C(arguments[0]);case 2:return eU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};eU.C=function(a){return null!=a&&null!=a.Ed?a.Ed(a):fU(a)};eU.B=function(a,b){return null!=a&&null!=a.Fd?a.Fd(a,b):fU(a,b)};eU.aa=2;C.prototype.Ed=function(){return eU(WT(this))};C.prototype.Fd=function(){return eU(WT(this))};z.prototype.Ed=function(){return eU(WT(this))};
z.prototype.Fd=function(){return eU(WT(this))};bk.prototype.Ed=function(){return gU(this,this)};bk.prototype.Fd=function(a,b){return gU(b,this)};ek.prototype.Ed=function(){return gU(this,this)};ek.prototype.Fd=function(a,b){return gU(b,this)};
eU._=function(){function a(c){var d=(d=We(c))?dU(c.name):d;return r(d)?gU(d,c):gU(Ss,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return gU(d,c)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return gU(d,c)};return b}();var hU=function hU(a){switch(arguments.length){case 1:return hU.C(arguments[0]);case 2:return hU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.C(arguments.length)].join(""));}};
hU.C=function(a){var b=XT(a);return r(b)?b:eU(a)};hU.B=function(a,b){var c=XT(a);return r(c)?c:eU(a,b)};hU.aa=2;function iU(a,b){a=VT(a);return r(YT(a))?O.F(a,Iy,b):TT(hU.C(a),b)}function jU(a,b,c){if(null==c)nh.F(UT,Q,a);else{var d=XT(c);r(d)||(d=YT(c),d=r(d)?d:B.B(y(UT),c));b=r(d)?c:gU(b,c);nh.R(UT,O,a,ZT(b,a))}}
function kU(a,b,c){if(r(a)){var d=cU(a);if(r(d))return ST(hU.C(d),b);if(of(a))return r(null)?a.C?a.C(b):a.call(null,b):r(a.C?a.C(b):a.call(null,b))?b:So;throw Error([Tk.I(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function lU(a,b){a=hU.C(a);return!S(So,ST(a,b))}function gU(a,b){return mU(a,b,null,null,null)}
function mU(a,b,c,d,e){if(r(XT(b)))return r(c)?iU(b,c):b;if(r(YT(b)))return bU(b,c);if(ag(b))return a=cU(b),r(c)?iU(a,c):a;if("undefined"===typeof xb||"undefined"===typeof MT||"undefined"===typeof NT||"undefined"===typeof PT)PT=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Zd=k;this.$f=m;this.wh=n;this.Ki=p;this.K=393216;this.Y=0},PT.prototype.ha=function(f,h){return new PT(this.form,this.pred,this.Zd,this.$f,this.wh,h)},PT.prototype.ga=function(){return this.Ki},PT.prototype.Ed=function(){return this},
PT.prototype.Fd=function(){return this},PT.prototype.nf=l,PT.prototype.Ge=function(f,h){f=this.pred.C?this.pred.C(h):this.pred.call(null,h);return r(this.$f)?f:r(f)?h:So},PT.prototype.He=function(f,h){return mU(this.form,this.pred,h,this.$f,this.wh)},PT.eb=!0,PT.Qa="cljs.spec.alpha/t_cljs$spec$alpha43898",PT.gb=function(f){return fd(f,"cljs.spec.alpha/t_cljs$spec$alpha43898")};return new PT(a,b,c,d,e,W)}
function nU(a,b,c){var d=F(b);G(d);H(d);d=F(c);G(d);H(d);for(d=c;;){c=a;b=F(b);a=G(b);b=H(b);var e=F(d);d=G(e);e=H(e);var f=d;d=e;if(r(a)){c=kU(a,c,f);if(S(So,c))return So;a=c}else return c}}var oU=new q(null,4,[Qx,Re,sv,dk,Tq,de,Zn,W],null);
function pU(a,b,c,d){function e(Ha,va,hb,Ya){return Qe.B(Ha,Ya)}var f=Gg(c),h=B.B(f,yA),k=B.B(f,Bm),m=B.F(f,kv,20),n=B.B(f,Uv),p=B.B(f,cu),t=B.B(f,cz),w=B.B(f,Lw),A=B.B(f,Mx),D=B.B(f,qr),I=B.B(f,gq),J=B.B(f,rp),T=B.B(f,bt),P=B.B(f,Gv),U=r(P)?Te(P):B.B(oU,k),ea=new cl(function(){return hU.C(b)}),ra=function(){return r(A)?A:function(Ha){return Ha}}();if("undefined"===typeof xb||"undefined"===typeof MT||"undefined"===typeof NT||"undefined"===typeof QT)QT=function(Ha,va,hb,Ya,Ea,Ma,za,Ba,mb,pd,lc,oc,
Gb,Fe,bg,Ge,Yg,pe,cg,ce,He,Nd,Od,Pd,hj){this.form=Ha;this.mi=va;this.Bh=hb;this.Yi=Ya;this.Zd=Ea;this.ai=Ma;this.pred=za;this.sf=Ba;this.Th=mb;this.fi=pd;this.zh=lc;this.gf=oc;this.Zh=Gb;this.ki=Fe;this.distinct=bg;this.spec=Ge;this.ei=Yg;this.$h=pe;this.count=cg;this.Ni=ce;this.nb=He;this.kind=Nd;this.Qg=Od;this.Sh=Pd;this.Li=hj;this.K=393216;this.Y=0},QT.prototype.ha=function(Ha,va){return new QT(this.form,this.mi,this.Bh,this.Yi,this.Zd,this.ai,this.pred,this.sf,this.Th,this.fi,this.zh,this.gf,
this.Zh,this.ki,this.distinct,this.spec,this.ei,this.$h,this.count,this.Ni,this.nb,this.kind,this.Qg,this.Sh,va)},QT.prototype.ga=function(){return this.Li},QT.prototype.Ed=function(){return this},QT.prototype.Fd=function(){return this},QT.prototype.nf=l,QT.prototype.Ge=function(Ha,va){Ha=y(this.spec);if(Rb(this.sf.C?this.sf.C(va):this.sf.call(null,va)))return So;if(r(this.Qg)){var hb=this.gf.C?this.gf.C(va):this.gf.call(null,va),Ya=N(hb,0,null),Ea=N(hb,1,null);hb=N(hb,2,null);var Ma=Ya.C?Ya.C(va):
Ya.call(null,va);Ya=0;var za=F(va);va=F(za);G(va);H(va);for(va=Ma;;){var Ba=za;Ma=F(Ba);za=G(Ma);Ma=H(Ma);if(Ba){Ba=ST(Ha,za);if(S(So,Ba))return So;va=Ea.R?Ea.R(va,Ya,za,Ba):Ea.call(null,va,Ya,za,Ba);Ya+=1;za=Ma}else return hb.C?hb.C(va):hb.call(null,va)}}else if(ye(va))for(Ea=Mf(K(va)/101),Ea=1>Ea?1:Ea,Ya=0;;){if(Ya>=K(va))return va;if(lU(Ha,Ae(va,Ya)))Ya+=Ea;else return So}else for(Ya=0,Ea=F(va),hb=F(Ea),G(hb),H(hb);;){za=F(Ea);hb=G(za);Ma=H(za);za=hb;Ba=Ea;if(null==Ba||E.B(Ya,101))return va;if(lU(Ha,
za))Ea=Ma,Ya+=1;else return So}},QT.prototype.He=function(Ha,va){return pU(this.form,this.pred,this.nb,va)},QT.eb=!0,QT.Qa="cljs.spec.alpha/t_cljs$spec$alpha44049",QT.gb=function(Ha){return fd(Ha,"cljs.spec.alpha/t_cljs$spec$alpha44049")};return new QT(a,h,function(Ha){return lU(y(ea),Ha)},c,d,m,b,n,p,k,e,function(Ha){return gf(Ha)&&(Rb(P)||gf(P))?new X(null,3,5,Z,[Bf,function(va,hb,Ya,Ea){return Ya===Ea?va:O.F(va,hb,Ea)},Bf],null):r(function(){var va=ef(Ha);return va?(va=r(J)?Rb(P):J,r(va)?va:ef(P)):
va}())?new X(null,3,5,Z,[r(p)?Te:Bf,function(va,hb,Ya,Ea){return Ya===Ea&&Rb(p)?va:O.F(va,Ae(r(p)?Ea:Ya,0),Ae(Ea,1))},Bf],null):Uf(P)||lf(P)||Rb(P)&&(Uf(Ha)||lf(Ha))?new X(null,3,5,Z,[Te,e,Wf],null):new X(null,3,5,Z,[function(va){return Te(r(P)?P:va)},e,Bf],null)},t,f,w,ea,ra,U,D,I,f,J,T,P,W)}function qU(a){return new q(null,2,[Xu,yp,Bq,a],null)}function rU(a){a=Gg(a);a=B.B(a,Xu);return E.B(yp,a)}
var sU=function sU(a){var c=Gg(a),d=B.B(c,Rt);a=F(d);var e=G(a);a=H(a);var f=B.B(c,Ct),h=F(f),k=G(h);h=H(h);var m=B.B(c,uo),n=F(m);G(n);n=H(n);var p=B.B(c,Bq);c=B.B(c,Xs);return Zg(Bf,d)?rU(e)?(d=Bq.C(e),d=Qe.B(p,r(f)?Ve([k,d]):d),a?(a=new q(null,4,[Rt,a,Ct,h,uo,n,Bq,d],null),sU.C?sU.C(a):sU.call(null,a)):qU(d)):new q(null,6,[Xu,To,Rt,d,Bq,p,Ct,f,uo,m,Xs,c],null):null};
function tU(a,b,c,d,e){return r(a)?(d=new q(null,5,[Xu,gs,kt,b,Cr,d,uo,e,hA,Nl()],null),rU(a)?O.I(d,mt,b,M([Bq,Qe.B(c,Bq.C(a))])):O.I(d,mt,a,M([Bq,c]))):null}
function uU(a,b,c,d){return r(r(b)?b:c)?(a=Ih(function(e){e=G(e);return d.C?d.C(e):d.call(null,e)},vh.R(ri,a,function(){var e=F(b);return e?e:Bh(null)}(),function(){var e=F(c);return e?e:Bh(null)}())),new X(null,3,5,Z,[F(vh.B(G,a)),r(b)?F(vh.B(Ne,a)):null,r(c)?F(vh.B(function(e){return Ae(e,2)},a)):null],null)):new X(null,3,5,Z,[F(Ih(d,a)),b,c],null)}
function vU(a,b,c){var d=uU(a,b,c,Bf);c=N(d,0,null);b=F(c);a=G(b);var e=H(b),f=N(d,1,null);b=N(f,0,null);d=N(d,2,null);return r(c)?(c=new q(null,4,[Xu,tm,Rt,c,Ct,f,uo,d],null),null==e?r(b)&&(rU(a)?(a=Bq.C(a),a=qU(new Y(b,a,null))):a=c):a=c,a):null}function wU(a,b){return r(r(a)?b:a)?vU(M([a,b]),null,null):r(a)?a:b}
var xU=function xU(a){a=WT(a);var c=Gg(a),d=B.B(c,Xu),e=B.B(c,Rt);a=B.B(c,mt);var f=B.B(c,kt);c=B.B(c,uo);if(E.B(yp,d))return!0;if(E.B(null,d))return null;if(E.B(om,d))return d=xU.C?xU.C(a):xU.call(null,a),r(d)?(a=nU(yU(a),e,H(c)),!S(So,a)):d;if(E.B(gs,d))return(e=a===f)?e:xU.C?xU.C(a):xU.call(null,a);if(E.B(To,d))return Zg(xU,e);if(E.B(tm,d))return $g(xU,e);throw Error(["No matching clause: ",u.C(d)].join(""));},yU=function yU(a){a=WT(a);var c=Gg(a);a=B.B(c,Rt);var d=F(a),e=G(d);H(d);var f=B.B(c,
Ct),h=N(f,0,null),k=B.B(c,Xu);d=B.B(c,mt);var m=B.B(c,Bq);c=B.B(c,uo);if(E.B(yp,k))return m;if(E.B(null,k))return null;if(E.B(om,k))return e=yU.C?yU.C(d):yU.call(null,d),(f=E.B(e,zm))?d=f:(d=Xu.C(WT(d)),f=new bk(null,new q(null,2,[gs,null,To,null],null),null),d=f.C?f.C(d):f.call(null,d),d=r(d)?af(e):d,d=r(d)?d:null),r(d)?zm:nU(e,a,c);if(E.B(gs,k))return zU(d,m,h);if(E.B(To,k))return zU(e,m,h);if(E.B(tm,k))return c=uU(a,f,c,xU),a=N(c,0,null),a=N(a,0,null),c=N(c,1,null),c=N(c,0,null),a=null==a?zm:yU.C?
yU.C(a):yU.call(null,a),r(c)?new Y(c,a,null):a;throw Error(["No matching clause: ",u.C(k)].join(""));};function zU(a,b,c){a=WT(a);var d=Gg(a),e=B.B(d,Xu);B.B(d,Rt);a=B.B(d,Cr);if(E.B(null,e))return b;if(E.B(tm,e)||E.B(yp,e)||E.B(om,e))return a=yU(d),E.B(a,zm)?b:Qe.B(b,r(c)?Ve([c,a]):a);if(E.B(gs,e)||E.B(To,e))return d=yU(d),af(d)||(c=r(c)?Ve([c,d]):d,a=r(a)?Kh:Qe,b=a.B?a.B(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",u.C(e)].join(""));}
var AU=function AU(a,b){a=WT(a);var d=Gg(a),e=B.B(d,uo),f=B.B(d,kt);a=B.B(d,Rt);var h=F(a),k=G(h),m=H(h),n=B.B(d,Bq);h=B.B(d,Xu);var p=B.B(d,Cr),t=B.B(d,Ct),w=F(t),A=G(w),D=H(w);w=B.B(d,Sv);var I=B.B(d,mt);if(r(d)){if(E.B(yp,h))return null;if(E.B(null,h))return a=kU(d,b,d),S(So,a)?null:qU(a);if(E.B(om,h))return d=AU.B?AU.B(I,b):AU.call(null,I,b),r(d)?E.B(yp,Xu.C(d))?(a=nU(yU(d),a,H(e)),S(So,a)?null:qU(a)):new q(null,5,[Xu,om,mt,d,Sv,w,Rt,a,uo,e],null):null;if(E.B(To,h))return wU(sU(new q(null,4,[Rt,
Je(AU.B?AU.B(k,b):AU.call(null,k,b),m),Ct,t,uo,e,Bq,n],null)),r(xU(k))?function(){var J=sU(new q(null,4,[Rt,m,Ct,D,uo,H(e),Bq,zU(k,n,A)],null));return AU.B?AU.B(J,b):AU.call(null,J,b)}():null);if(E.B(tm,h))return vU(vh.B(function(J){return AU.B?AU.B(J,b):AU.call(null,J,b)},a),t,e);if(E.B(gs,h))return wU(tU(AU.B?AU.B(I,b):AU.call(null,I,b),f,n,p,e),r(xU(I))?function(){var J=tU(f,f,zU(I,n,null),p,e);return AU.B?AU.B(J,b):AU.call(null,J,b)}():null);throw Error(["No matching clause: ",u.C(h)].join(""));
}return null};function BU(a,b){for(;;){var c=F(b),d=G(c);c=H(c);if(af(b))return r(xU(a))?(a=yU(a),E.B(a,zm)?null:a):So;a=AU(a,d);if(r(a))b=c;else return So}}
var bU=function bU(a,b){if("undefined"===typeof xb||"undefined"===typeof MT||"undefined"===typeof NT||"undefined"===typeof RT)RT=function(d,e,f){this.re=d;this.Zd=e;this.Mi=f;this.K=393216;this.Y=0},RT.prototype.ha=function(d,e){return new RT(this.re,this.Zd,e)},RT.prototype.ga=function(){return this.Mi},RT.prototype.Ed=function(){return this},RT.prototype.Fd=function(){return this},RT.prototype.nf=l,RT.prototype.Ge=function(d,e){return null==e||df(e)?BU(this.re,F(e)):So},RT.prototype.He=function(d,
e){return bU.B?bU.B(this.re,e):bU.call(null,this.re,e)},RT.eb=!0,RT.Qa="cljs.spec.alpha/t_cljs$spec$alpha44245",RT.gb=function(d){return fd(d,"cljs.spec.alpha/t_cljs$spec$alpha44245")};return new RT(a,b,W)};
jU(qp,Xf(xy,Xf(Bt,new X(null,1,5,Z,[Xm],null),Xf(lp,Xf(ds,Eo,Xm),Xf(ds,Co,Xm))),Xf(Bt,new X(null,1,5,Z,[sy],null),Xf(ds,Xf(Gt,new X(null,1,5,Z,[new X(null,2,5,Z,[An,yn],null)],null),new q(null,2,[Eo,An,Co,yn],null)),sy))),mU(Xf(xy,Xf(Gt,new X(null,1,5,Z,[Io],null),Xf(lp,Xf(ds,Eo,Io),Xf(ds,Co,Io))),Xf(Gt,new X(null,1,5,Z,[Io],null),Xf(ds,Xf(Gt,new X(null,1,5,Z,[new X(null,2,5,Z,[An,yn],null)],null),new q(null,2,[Eo,An,Co,yn],null)),Io))),function(a){return ik(vh.B(Eo,a),vh.B(Co,a))},null,!0,function(a){return vh.B(function(b){var c=
N(b,0,null);b=N(b,1,null);return new q(null,2,[Eo,c,Co,b],null)},a)}));jU(Vs,Nm,Tb);jU(Ao,new bk(null,new q(null,8,[oA,"null",Uu,"null",$p,"null",Cp,"null",Zz,"null",yt,"null",mv,"null",bw,"null"],null),null),new bk(null,new q(null,8,[oA,null,Uu,null,$p,null,Cp,null,Zz,null,yt,null,mv,null,bw,null],null),null));
jU(En,Xf(Pp,Aq,new X(null,2,5,Z,[Vs,Ao],null)),function CU(a){var c=Gg(a),d=B.B(c,dA),e=B.B(c,to),f=B.B(c,mu),h=B.B(c,ix),k=B.B(c,aq),m=B.B(c,Lp),n=B.B(c,ss),p=B.B(c,oy),t=B.B(c,Aq),w=B.B(c,Wz),A=B.B(c,Ix),D=B.B(c,ax),I=ik(V.B(w,n),V.B(p,A)),J=Nl();if("undefined"===typeof xb||"undefined"===typeof MT||"undefined"===typeof NT||"undefined"===typeof OT)OT=function(T,P,U,ea,ra,Ha,va,hb,Ya,Ea,Ma,za,Ba,mb,pd,lc,oc,Gb,Fe){this.wf=T;this.Si=P;this.ij=U;this.Vi=ea;this.Zd=ra;this.Zi=Ha;this.xf=va;this.yg=hb;
this.Ti=Ya;this.ji=Ea;this.hj=Ma;this.req=za;this.id=Ba;this.gj=mb;this.Xi=pd;this.Ui=lc;this.di=oc;this.$i=Gb;this.Ji=Fe;this.K=393216;this.Y=0},OT.prototype.ha=function(T,P){return new OT(this.wf,this.Si,this.ij,this.Vi,this.Zd,this.Zi,this.xf,this.yg,this.Ti,this.ji,this.hj,this.req,this.id,this.gj,this.Xi,this.Ui,this.di,this.$i,P)},OT.prototype.ga=function(){return this.Ji},OT.prototype.Ed=function(){return this},OT.prototype.Fd=function(){return this},OT.prototype.nf=l,OT.prototype.Ge=function(T,
P){if(r(this.xf.C?this.xf.C(P):this.xf.call(null,P))){T=y(UT);var U=F(P),ea=G(U);H(U);N(ea,0,null);N(ea,1,null);for(ea=U=P;;){P=U;var ra=ea;ea=F(ra);U=G(ea);var Ha=H(ea);ea=U;U=N(ea,0,null);ea=N(ea,1,null);if(r(ra))if(ra=this.wf.C?this.wf.C(U):this.wf.call(null,U),ra=B.B(T,ra),r(ra)){var va=ea;ra=ST(hU.C(ra),va);if(S(So,ra))return So;P=ra===ea?P:O.F(P,U,ra);ea=Ha;U=P}else ea=Ha,U=P;else return P}}else return So},OT.prototype.He=function(T,P){T=O.F(this.yg,ix,P);return CU.C?CU.C(T):CU.call(null,T)},
OT.eb=!0,OT.Qa="cljs.spec.alpha/t_cljs$spec$alpha43835",OT.gb=function(T){return fd(T,"cljs.spec.alpha/t_cljs$spec$alpha43835")};return new OT(function(T){var P=I.C?I.C(T):I.call(null,T);return r(P)?P:T},d,e,f,h,k,m,c,n,c,p,t,J,w,a,A,I,D,W)}(yj([to,mu,ix,aq,Lp,ss,oy,Aq,Wz,Ix,ax,dA],[null,null,null,new X(null,3,5,Z,[function(a){return ef(a)},function(a){return R(a,Vs)},function(a){return R(a,Ao)}],null),function(a){return ef(a)&&R(a,Vs)&&R(a,Ao)},Re,new X(null,2,5,Z,[Vs,Ao],null),new X(null,2,5,Z,
[Vs,Ao],null),new X(null,2,5,Z,[Vs,Ao],null),Re,new X(null,3,5,Z,[Xf(Gt,new X(null,1,5,Z,[Io],null),Xf(Zn,Io)),Xf(Gt,new X(null,1,5,Z,[Io],null),Xf(gy,Io,Vs)),Xf(Gt,new X(null,1,5,Z,[Io],null),Xf(gy,Io,Ao))],null),null])));jU(Jp,Xf(Gn,En),pU(En,En,new q(null,4,[bt,!0,Bm,null,cz,Xf(Gn,En),Uv,function(a){return bf(a)}],null),null));var DU=LP(13);var EU=LP(50);var FU=LP(51);LP(52);LP(57);var GU=LP(64);var HU=LP(76);var IU=LP(121);var JU=LP(144);var KU=LP(220);var LU=LP(238);var MU=LP(242);var NU=LP(348);var OU=LP(383);function PU(a){a=Gg(a);var b=B.B(a,zp),c=B.B(a,bn),d=B.B(a,mx),e=B.B(a,Hw),f=B.B(a,ar),h=vh.B(function(k){return gf(k)?k:new X(null,2,5,Z,[k,u.C(k)],null)},e);return new X(null,3,5,Z,[Jn,new X(null,2,5,Z,[Xt,function(){return function n(m){return new fg(null,function(){for(;;){var p=F(m);if(p){if(hf(p)){var t=wd(p),w=K(t),A=jg(w);a:for(var D=0;;)if(D<w){var I=x(t,D);N(I,0,null);I=N(I,1,null);I=Ye(new X(null,2,5,Z,[ft,new X(null,2,5,Z,[$y,I],null)],null),new q(null,1,[Qz,I],null));A.add(I);D+=1}else{t=
!0;break a}return t?lg(ng(A),n(xd(p))):lg(ng(A),null)}A=G(p);N(A,0,null);A=N(A,1,null);return Je(Ye(new X(null,2,5,Z,[ft,new X(null,2,5,Z,[$y,A],null)],null),new q(null,1,[Qz,A],null)),n(be(p)))}return null}},null,null)}(h)}()],null),new X(null,4,5,Z,[px,GU.FixedSizeList,new q(null,4,[ky,b,jn,c,Ps,d,bv,K(f)],null),AR(function(k){k=Gg(k);var m=B.B(k,Uy);k=B.B(k,wn);return new X(null,3,5,Z,[ls,new q(null,1,[wn,rl(k)],null),function(){var n=N(f,m,null);return function w(t){return new fg(null,function(){for(;;){var A=
F(t);if(A){if(hf(A)){var D=wd(A),I=K(D),J=jg(I);a:for(var T=0;;)if(T<I){var P=x(D,T),U=N(P,0,null);P=N(P,1,null);U=Ye(new X(null,2,5,Z,[ft,new X(null,2,5,Z,[Yu,gf(U)?Oh(n,U):B.B(n,U)],null)],null),new q(null,1,[Qz,P],null));J.add(U);T+=1}else{D=!0;break a}return D?lg(ng(J),w(xd(A))):lg(ng(J),null)}D=G(A);J=N(D,0,null);D=N(D,1,null);return Je(Ye(new X(null,2,5,Z,[ft,new X(null,2,5,Z,[Yu,gf(J)?Oh(n,J):B.B(n,J)],null)],null),new q(null,1,[Qz,D],null)),w(be(A)))}return null}},null,null)}(h)}()],null)})],
null)],null)}function QU(a){a=Gg(a);var b=B.B(a,my),c=B.B(a,ou),d=B.B(a,Xp),e=B.B(a,iy),f=B.B(a,dr);return TQ(new q(null,2,[Nx,function(){return new X(null,1,5,Z,[dn],null)},us,function(h){h=FU(BR.findDOMNode(h),{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h}],null),zR)}function RU(a){a=Gg(a);var b=B.B(a,Fr);return TQ(new q(null,2,[Nx,function(){return new X(null,1,5,Z,[dn],null)},us,function(c){return EU(BR.findDOMNode(c),nl(b))}],null),zR)}
function SU(a){return new X(null,2,5,Z,[iw,new q(null,1,[Iq,new q(null,1,[fz,DU(dz.C(a))],null)],null)],null)}function TU(a){return new X(null,2,5,Z,[dn,new q(null,1,[Iq,new q(null,1,[fz,Vy.C(a)],null)],null)],null)}
function UU(a){var b=Gg(a);a=B.B(b,co);var c=B.B(b,Oz),d=B.B(b,gt),e=B.B(b,ov);return r(a)?(b=Wj.I(M([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new MU.default).readFeature(a,nl(b)),r(e)&&a.setStyle(new KU.Style(nl(Wj.I(M([W,function(){var f=Oh(e,new X(null,2,5,Z,[Lu,yy],null));return r(f)?new q(null,1,[Gw,new KU.Fill({color:HU.asString(f)})],null):null}(),function(){var f=Oh(e,new X(null,2,5,Z,[ay,yy],null));return r(f)?new q(null,
1,[Vq,new KU.Stroke({color:HU.asString(f)})],null):null}()]))))),a):null}
function VU(a){a=Gg(a);var b=B.B(a,yv),c=B.B(a,Fv),d=B.B(a,Jv),e=B.B(a,gz),f=B.B(a,Uo),h=B.B(a,rt),k=B.B(a,Po);return TQ(new q(null,2,[Nx,function(){return new X(null,2,5,Z,[dn,new q(null,1,[wn,new q(null,2,[ky,r(b)?b:"500px",jn,r(c)?c:"1200px"],null)],null)],null)},us,function(m){var n=null==e?null:nl(e),p=r(f)?function(){var A=null==n?null:IU.fromLonLat(n);console.log(["Center projection: ",CA(" ",e)," (WGS84) to ",u.C(A)," (EPSG:3857)"].join(""));return A}():n;p=r(p)?p:[0,0];var t=r(d)?new KU.Style(nl(Wj.I(M([W,
function(){var A=Oh(d,new X(null,2,5,Z,[Gw,Kp],null));return r(A)?new q(null,1,[Gw,new KU.Fill({color:HU.asString(A)})],null):null}(),function(){var A=Oh(d,new X(null,2,5,Z,[Vq,Kp],null));return r(A)?new q(null,1,[Vq,new KU.Stroke({color:HU.asString(A)})],null):null}()])))):null,w=new NU.Vector(nl(new q(null,1,["features",Lh.B(UU,k)],null)));t=new OU.Vector(nl(Wj.I(M([new q(null,1,[Et,w],null),r(t)?new q(null,1,[wn,t],null):null]))));w=new NU.XYZ({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
attributions:"Tiles \x26copy; Esri \x26mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});return new LU.default({target:BR.findDOMNode(m),layers:[new OU.Tile({source:w}),t],view:new JU.default({center:p,zoom:r(h)?h:4})})}],null),zR)}
function WU(a){return new X(null,2,5,Z,[Tx,function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[ft,new q(null,1,[Qz,Vs.C(n)],null),new X(null,2,5,Z,[XU,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}k=G(e);return Je(new X(null,3,5,Z,[ft,new q(null,1,[Qz,Vs.C(k)],null),new X(null,2,5,Z,[XU,k],null)],null),d(be(e)))}return null}},
null,null)}(ln.C(a))}()],null)}
function YU(a){return new X(null,2,5,Z,[Tp,function(){return function d(c){return new fg(null,function(){for(;;){var e=F(c);if(e){if(hf(e)){var f=wd(e),h=K(f),k=jg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[ft,new q(null,1,[Qz,Vs.C(n)],null),new X(null,2,5,Z,[XU,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?lg(ng(k),d(xd(e))):lg(ng(k),null)}k=G(e);return Je(new X(null,3,5,Z,[ft,new q(null,1,[Qz,Vs.C(k)],null),new X(null,2,5,Z,[XU,k],null)],null),d(be(e)))}return null}},
null,null)}(ln.C(a))}()],null)}
function XU(a){var b=Gg(a),c=B.B(b,Vs),d=B.B(b,Ao);b=function(){switch(d instanceof C?d.ea:null){case "widget.type/html":return TU;case "widget.type/row":return WU;case "widget.type/column":return YU;case "widget.type/table":return PU;case "widget.type/vega-embed":return RU;case "widget.type/codemirror":return QU;case "widget.type/markdown":return SU;case "widget.type/geoplot":return VU;default:return new X(null,2,5,Z,[ms,new X(null,3,5,Z,[Yu,"Unknown Widget type ",new X(null,2,5,Z,[Cn,u.C(d)],null)],
null)],null)}}();return Ye(new X(null,2,5,Z,[b,a],null),new q(null,1,[Qz,c],null))};var ZU=LP(384);var $U=LP(386);var aV=function(a){return BF(eg(a),DF({handlers:nl(Wj.I(M([new q(null,6,["$",function(b){return Wd.C(b)},":",function(b){return dg.C(b)},"set",function(b){return Kh.B(dk,b)},"list",function(b){return Kh.B(de,b.reverse())},"cmap",function(b){for(var c=0,d=od(W);;)if(c<b.length){var e=c+2;d=sd(d,b[c],b[c+1]);c=e}else return rd(d)},"with-meta",function(b){return Ye(b[0],b[1])}],null),Q.B(rm.C(null),Kl)]))),defaultHandler:Kl.C(rm.C(null)),mapBuilder:new EF,arrayBuilder:new FF,preferStrings:!1,preferBuffers:!1},
nl(dE())))}(oo),bV=function(a){var b=new IF,c=new JF,d=new KF,e=new LF,f=Wj.I(M([yj([wj,Yf,q,rj,Ci,$d,C,Fj,Vf,fg,ui,Bi,tj,Vj,NF,Li,X,Se,Ee,bk,Oj,Uj,si,ek,kg,z,Ml,ok,Bj,Ej],[c,b,c,b,b,b,new GF,e,b,b,e,b,b,b,new OF,b,e,b,b,d,c,b,b,d,b,new HF,new MF,b,b,e]),"undefined"!==typeof xb&&"undefined"!==typeof yb&&"undefined"!==typeof jl?Ve([jl,b]):null,"undefined"!==typeof xb&&"undefined"!==typeof yb&&"undefined"!==typeof Ah?Ve([Ah,b]):null,"undefined"!==typeof xb&&"undefined"!==typeof yb&&"undefined"!==typeof Y?
Ve([Y,e]):null,rm.C(null)]));return CF(eg(a),DF({objectBuilder:function(h,k,m){return Af(function(n,p,t){n.push(k.C?k.C(p):k.call(null,p),m.C?m.C(t):m.call(null,t));return n},["^ "],h)},handlers:function(){var h=gc(f);h.forEach=function(k){for(var m=F(this),n=null,p=0,t=0;;)if(t<p){var w=n.Da(null,t),A=N(w,0,null);w=N(w,1,null);E.B(Kl,A)?k.B?k.B(w,"default"):k.call(null,w,"default"):k.B?k.B(w,A):k.call(null,w,A);t+=1}else if(m=F(m))hf(m)?(n=wd(m),m=xd(m),A=n,p=K(n),n=A):(n=G(m),A=N(n,0,null),w=N(n,
1,null),E.B(Kl,A)?k.B?k.B(w,"default"):k.call(null,w,"default"):k.B?k.B(w,A):k.call(null,w,A),m=H(m),n=null,p=0),t=0;else return null};return h}(),unpack:function(h){return h instanceof q?h.O:!1}},nl(Q.B(null,rm))))}(oo),cV=vQ.C(W);function dV(a){a=vM?vM(a):uM.call(null,a);lP(a)}var eV=function eV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return eV.I(c)};
eV.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[Tz,Wj.I(M([new q(null,4,[Gw,"none",Vq,"currentColor",av,"0 0 24 24",jt,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[Dx,new q(null,4,[kw,"round",Zr,"round",up,"2",Wx,"M6 18L18 6M6 6l12 12"],null)],null)],null)};eV.aa=0;eV.ca=function(a){return this.I(F(a))};var fV=function fV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return fV.I(c)};
fV.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[Op,Wj.I(M([new q(null,4,[Gw,"none",Vq,"currentColor",av,"0 0 24 24",jt,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[Dx,new q(null,4,[kw,"round",Zr,"round",up,"2",Wx,"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],null)],null)],null)};fV.aa=0;fV.ca=function(a){return this.I(F(a))};
var gV=function gV(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new $d(c.slice(0),0,null):null;return gV.I(c)};
gV.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[Op,Wj.I(M([new q(null,4,[Gw,"none",Vq,"currentColor",av,"0 0 24 24",jt,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[Dx,new q(null,4,[kw,"round",Zr,"round",up,"2",Wx,"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],null)],null)],null)};gV.aa=0;gV.ca=function(a){return this.I(F(a))};
function hV(){return new X(null,3,5,Z,[dn,new q(null,1,[Wy,"flex justify-center items-center w-1/2 h-1/3 border-4 border-dashed rounded"],null),new X(null,2,5,Z,[ox,new q(null,2,[un,"file",Wl,function(a){a=G(a.target.files);if(null==a)return null;var b=new FileReader;console.log("Processing...",a);nh.F(cV,Wj,new q(null,1,[dl,xt],null));b.onload=function(c){try{return dV(aV.read(c.target.result)),nh.F(cV,Wj,new q(null,1,[dl,el],null))}catch(d){if(d instanceof Error)return console.error("Can't import file\n",
d),nh.F(cV,Wj,new q(null,1,[dl,Hu],null));throw d;}};b.onerror=function(c){console.log(c.target.error);return nh.F(cV,Wj,new q(null,1,[dl,Hu],null))};return b.readAsText(a)}],null)],null)],null)}
function iV(a){var b=zQ(),c=0===b.length||Rb(b.hasOwnProperty(0))?b[0]=vQ.C(!1):b[0];return new X(null,4,5,Z,[Sm,new q(null,2,[$r,function(){return mh(c,!0)},vw,function(){return mh(c,!1)}],null),new X(null,2,5,Z,[XU,a],null),new X(null,3,5,Z,[ho,new q(null,1,[Wy,r(y(c))?"bg-gray-50":null],null),new X(null,3,5,Z,[mp,new q(null,2,[Wy,new X(null,9,5,Z,["h-6 w-6","inline-flex items-center justify-center","bg-gray-200 hover:bg-gray-300","text-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-teal-500",
"transition duration-200 ease-in-out","rounded","cursor-default",r(y(c))?null:"invisible"],null),Nt,function(){return kP(new X(null,1,5,Z,[new X(null,2,5,Z,[mn,eo.C(a)],null)],null))}],null),new X(null,2,5,Z,[eV,new q(null,1,[Wy,"w-5 h-5"],null)],null)],null)],null)],null)}
function jV(a){return new X(null,3,5,Z,[zo,new X(null,2,5,Z,[Xr,new X(null,3,5,Z,[Nw,new X(null,4,5,Z,[px,$U.Tooltip,new q(null,2,[Iv,"View database",Yl,"small"],null),new X(null,3,5,Z,[Zl,new q(null,3,[Qz,"database",Wy,"inline-flex items-center px-3 py-2 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",Nt,function(){return kP(new X(null,
1,5,Z,[new q(null,5,[Vs,u.C(Nl()),Ao,yt,iy,"clojure",dr,!0,Xp,function(){var b=new wb,c=Cb,d=Bb;Cb=!0;Bb=function(e){return b.append(e)};try{OB()}finally{Bb=d,Cb=c}return u.C(b)}()],null)],null))}],null),new X(null,1,5,Z,[gV],null)],null)],null),new X(null,4,5,Z,[px,$U.Tooltip,new q(null,2,[Iv,"Download document",Yl,"small"],null),new X(null,3,5,Z,[Zl,new q(null,3,[Qz,"download",Wy,new X(null,2,5,Z,[af(a)?"text-gray-300 pointer-events-none":"text-gray-600","inline-flex items-center px-3 py-2 border hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out"],
null),Nt,function(){var b=y(PB);b=tM?tM(b):sM.call(null,b);b=bV.write(b);return ZU.saveAs(new Blob([b],{type:"application/transit+json"}),"widgets.json")}],null),new X(null,1,5,Z,[fV],null)],null)],null)],null)],null),function(){var b=y(cV);b=Gg(b);b=B.B(b,dl);b=b instanceof C?b.ea:null;switch(b){case "loading":return new X(null,2,5,Z,[Iz,new X(null,2,5,Z,[Yu,"Loading..."],null)],null);case "processing":return new X(null,2,5,Z,[Iz,new X(null,2,5,Z,[Yu,"Processing..."],null)],null);case "error":return new X(null,
4,5,Z,[Iz,new X(null,2,5,Z,[Np,"Oops..."],null),new X(null,2,5,Z,[by,"Something went wrong"],null),new X(null,3,5,Z,[Zl,new q(null,2,[Wy,"inline-flex items-center mt-5 px-3 py-1 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",Nt,function(){return window.location.reload(!0)}],null),"Reload"],null)],null);case "ready":return F(a)?
new X(null,2,5,Z,[Ds,function(){return function e(d){return new fg(null,function(){for(;;){var f=F(d);if(f){if(hf(f)){var h=wd(f),k=K(h),m=jg(k);a:for(var n=0;;)if(n<k){var p=x(h,n);p=Ye(new X(null,2,5,Z,[iV,p],null),new q(null,1,[Qz,eo.C(p)],null));m.add(p);n+=1}else{h=!0;break a}return h?lg(ng(m),e(xd(f))):lg(ng(m),null)}m=G(f);return Je(Ye(new X(null,2,5,Z,[iV,m],null),new q(null,1,[Qz,eo.C(m)],null)),e(be(f)))}return null}},null,null)}(a)}()],null):new X(null,2,5,Z,[Iz,new X(null,1,5,Z,[hV],null)],
null);default:throw Error(["No matching clause: ",u.C(b)].join(""));}}()],null)}function kV(){var a=new X(null,7,5,Z,[vv,new X(null,2,5,Z,[Xf(Yx,iA,new X(null,2,5,Z,[no,new q(null,1,[ln,new X(null,1,5,Z,[uy],null)],null)],null)),lx],null),cA,en,Ym,new X(null,2,5,Z,[iA,Vs],null),new X(null,1,5,Z,[Xf(Xn,en,iA,Sq)],null)],null);var b=y(PB);a=QB.B?QB.B(a,b):QB.call(null,a,b);a=xf(eo,a);a=new X(null,2,5,Z,[jV,a],null);b=document.getElementById("app");return ER(a,b)}var GT;
var GS=new X(null,1,5,Z,["/"],null),lV=Wj.I(M([new q(null,1,[qv,function(a,b){N(a,0,null);a=N(a,1,null);var c=Gg(a);a=B.B(c,zu);c=B.B(c,ko);return r(r(a)?c:a)?ZS(c,a,b):null}],null),W])),mV=Wj.I(M([function(){return new q(null,6,[jy,function(a){N(a,0,null);a=N(a,1,null);a=Gg(a);a=B.B(a,Kr);return r(a)?rf([a]):null},wr,hT,yx,function(a){return a},qv,function(a){N(a,0,null);a=N(a,1,null);a=Gg(a);return B.B(a,hv)},bu,NR,sr,function(a){return LR(Ap,a)}],null)}(),lV])),HS=Gg(mV),nV=B.B(HS,hu),oV=B.B(HS,
sr);try{var NS=FS(),KS=Rb(r(nV)?Rb(oV):nV)?IS(NS,HS):null,pV=MS(),qV=PS(),rV=nf($g(zS(HS),qV)),sV=Zg(zS(HS),qV),tV=r(nV)?nV:E.B(1,K(qV))&&!rV?qT:r(KS)?sT:rV?sV?pT:rT:oT,uV=r(oV)?JS():oV;r(uV)&&(oV.C?oV.C(uV):oV.call(null,uV));r(pV)&&LR(Mu,pV);var vV=sp.C(HS);r(vV)&&(vV.B?vV.B(qV,HS):vV.call(null,qV,HS));var wV=O.F(HS,Zm,KS);GT=tV.B?tV.B(qV,wV):tV.call(null,qV,wV)}catch(a){if(a instanceof Error){var xV=a,yV=B.F(HS,bu,Bf);throw yV.C?yV.C(xV):yV.call(null,xV);}throw a;}
function zV(){console.log("Welcome to Literate",r(!1)?"(dev build)":"(release build)");FT(function(a){var b=function(){var c=Oh(a,new X(null,2,5,Z,[sw,Jx],null));return r(c)?c:Oh(a,new X(null,2,5,Z,[sw,Ev],null))}();return r(b)?(console.log("Loading...",b),nh.F(cV,Wj,new q(null,1,[dl,ct],null)),fetch(b).then(function(c){return r(c.ok)?(console.log("Processing "),nh.F(cV,Wj,new q(null,1,[dl,xt],null)),c.text().then(function(d){try{var e=aV.read(d);r(Oh(a,new X(null,2,5,Z,[sw,Jx],null)))?dV(e):r(Oh(a,
new X(null,2,5,Z,[sw,Ev],null)))&&kP(e);nh.F(cV,Wj,new q(null,1,[dl,el],null));return console.log("Done ")}catch(f){if(f instanceof Error)return console.error(f),nh.F(cV,Wj,new q(null,1,[dl,Hu],null));throw f;}})):nh.F(cV,Wj,new q(null,1,[dl,Hu],null))})):nh.F(cV,Wj,new q(null,1,[dl,el],null))});mP(function(){return kV()});return kV()}ba("literate.app.init",zV);try{zV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);