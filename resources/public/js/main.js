var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&($jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+e,e=
$jscomp.propertyToPolyfillSymbol[e],$jscomp.defineProperty(d,e,{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};
$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};
$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
(function(){
shadow$provide[0]=function($b,Rb,Ic,Nb){var n=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,ea=Object.prototype.propertyIsEnumerable;Ic.exports=function(){try{if(!Object.assign)return!1;var Sa=new String("abc");Sa[5]="de";if("5"===Object.getOwnPropertyNames(Sa)[0])return!1;var Wb={};for(Sa=0;10>Sa;Sa++)Wb["_"+String.fromCharCode(Sa)]=Sa;if("0123456789"!==Object.getOwnPropertyNames(Wb).map(function(ub){return Wb[ub]}).join(""))return!1;var fb={};"abcdefghijklmnopqrst".split("").forEach(function(ub){fb[ub]=
ub});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},fb)).join("")?!1:!0}catch(ub){return!1}}()?Object.assign:function(Sa,Wb){if(null===Sa||void 0===Sa)throw new TypeError("Object.assign cannot be called with null or undefined");var fb=Object(Sa);for(var ub,Ob=1;Ob<arguments.length;Ob++){var zb=Object(arguments[Ob]);for(var cb in zb)x.call(zb,cb)&&(fb[cb]=zb[cb]);if(n){ub=n(zb);for(var ob=0;ob<ub.length;ob++)ea.call(zb,ub[ob])&&(fb[ub[ob]]=zb[ub[ob]])}}return fb}};
shadow$provide[1]=function($b,Rb,Ic,Nb){function n(W){for(var Y="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+W,ma=1;ma<arguments.length;ma++)Y+="\x26args[]\x3d"+encodeURIComponent(arguments[ma]);return"Minified React error #"+W+"; visit "+Y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(W,Y,ma){this.props=W;this.context=Y;this.refs=nb;this.updater=ma||db}function ea(){}function Sa(W,Y,ma){this.props=W;this.context=
Y;this.refs=nb;this.updater=ma||db}function Wb(W,Y,ma){var Qa,Ua={},U=null,sa=null;if(null!=Y)for(Qa in void 0!==Y.ref&&(sa=Y.ref),void 0!==Y.key&&(U=""+Y.key),Y)S.call(Y,Qa)&&!z.hasOwnProperty(Qa)&&(Ua[Qa]=Y[Qa]);var ua=arguments.length-2;if(1===ua)Ua.children=ma;else if(1<ua){for(var la=Array(ua),T=0;T<ua;T++)la[T]=arguments[T+2];Ua.children=la}if(W&&W.defaultProps)for(Qa in ua=W.defaultProps,ua)void 0===Ua[Qa]&&(Ua[Qa]=ua[Qa]);return{$$typeof:hb,type:W,key:U,ref:sa,props:Ua,_owner:$a.current}}
function fb(W,Y){return{$$typeof:hb,type:W.type,key:Y,ref:W.ref,props:W.props,_owner:W._owner}}function ub(W){return"object"===typeof W&&null!==W&&W.$$typeof===hb}function Ob(W){var Y={"\x3d":"\x3d0",":":"\x3d2"};return"$"+(""+W).replace(/[=:]/g,function(ma){return Y[ma]})}function zb(W,Y,ma,Qa){if(Q.length){var Ua=Q.pop();Ua.result=W;Ua.keyPrefix=Y;Ua.func=ma;Ua.context=Qa;Ua.count=0;return Ua}return{result:W,keyPrefix:Y,func:ma,context:Qa,count:0}}function cb(W){W.result=null;W.keyPrefix=null;W.func=
null;W.context=null;W.count=0;10>Q.length&&Q.push(W)}function ob(W,Y,ma,Qa){var Ua=typeof W;if("undefined"===Ua||"boolean"===Ua)W=null;var U=!1;if(null===W)U=!0;else switch(Ua){case "string":case "number":U=!0;break;case "object":switch(W.$$typeof){case hb:case Ca:U=!0}}if(U)return ma(Qa,W,""===Y?"."+Xa(W,0):Y),1;U=0;Y=""===Y?".":Y+":";if(Array.isArray(W))for(var sa=0;sa<W.length;sa++){Ua=W[sa];var ua=Y+Xa(Ua,sa);U+=ob(Ua,ua,ma,Qa)}else if(null===W||"object"!==typeof W?ua=null:(ua=ib&&W[ib]||W["@@iterator"],
ua="function"===typeof ua?ua:null),"function"===typeof ua)for(W=ua.call(W),sa=0;!(Ua=W.next()).done;)Ua=Ua.value,ua=Y+Xa(Ua,sa++),U+=ob(Ua,ua,ma,Qa);else if("object"===Ua)throw ma=""+W,Error(n(31,"[object Object]"===ma?"object with keys {"+Object.keys(W).join(", ")+"}":ma,""));return U}function rb(W,Y,ma){return null==W?0:ob(W,"",Y,ma)}function Xa(W,Y){return"object"===typeof W&&null!==W&&null!=W.key?Ob(W.key):Y.toString(36)}function Ha(W,Y){W.func.call(W.context,Y,W.count++)}function Ia(W,Y,ma){var Qa=
W.result,Ua=W.keyPrefix;W=W.func.call(W.context,Y,W.count++);Array.isArray(W)?Za(W,Qa,ma,function(U){return U}):null!=W&&(ub(W)&&(W=fb(W,Ua+(!W.key||Y&&Y.key===W.key?"":(""+W.key).replace(I,"$\x26/")+"/")+ma)),Qa.push(W))}function Za(W,Y,ma,Qa,Ua){var U="";null!=ma&&(U=(""+ma).replace(I,"$\x26/")+"/");Y=zb(Y,U,Qa,Ua);rb(W,Ia,Y);cb(Y)}function mb(){var W=J.current;if(null===W)throw Error(n(321));return W}var Da=Rb(0),Fa="function"===typeof Symbol&&Symbol.for,hb=Fa?Symbol.for("react.element"):60103,
Ca=Fa?Symbol.for("react.portal"):60106;$b=Fa?Symbol.for("react.fragment"):60107;Rb=Fa?Symbol.for("react.strict_mode"):60108;Ic=Fa?Symbol.for("react.profiler"):60114;var bb=Fa?Symbol.for("react.provider"):60109,La=Fa?Symbol.for("react.context"):60110,ka=Fa?Symbol.for("react.forward_ref"):60112,Aa=Fa?Symbol.for("react.suspense"):60113,Ra=Fa?Symbol.for("react.memo"):60115,Ya=Fa?Symbol.for("react.lazy"):60116,ib="function"===typeof Symbol&&Symbol.iterator,db={isMounted:function(){return!1},enqueueForceUpdate:function(){},
enqueueReplaceState:function(){},enqueueSetState:function(){}},nb={};x.prototype.isReactComponent={};x.prototype.setState=function(W,Y){if("object"!==typeof W&&"function"!==typeof W&&null!=W)throw Error(n(85));this.updater.enqueueSetState(this,W,Y,"setState")};x.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};ea.prototype=x.prototype;Fa=Sa.prototype=new ea;Fa.constructor=Sa;Da(Fa,x.prototype);Fa.isPureReactComponent=!0;var $a={current:null},S=Object.prototype.hasOwnProperty,
z={key:!0,ref:!0,__self:!0,__source:!0},I=/\/+/g,Q=[],J={current:null};Fa={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:$a,IsSomeRendererActing:{current:!1},assign:Da};Nb.Children={map:function(W,Y,ma){if(null==W)return W;var Qa=[];Za(W,Qa,null,Y,ma);return Qa},forEach:function(W,Y,ma){if(null==W)return W;Y=zb(null,null,Y,ma);rb(W,Ha,Y);cb(Y)},count:function(W){return rb(W,function(){return null},null)},toArray:function(W){var Y=[];Za(W,Y,null,function(ma){return ma});
return Y},only:function(W){if(!ub(W))throw Error(n(143));return W}};Nb.Component=x;Nb.Fragment=$b;Nb.Profiler=Ic;Nb.PureComponent=Sa;Nb.StrictMode=Rb;Nb.Suspense=Aa;Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fa;Nb.cloneElement=function(W,Y,ma){if(null===W||void 0===W)throw Error(n(267,W));var Qa=Da({},W.props),Ua=W.key,U=W.ref,sa=W._owner;if(null!=Y){void 0!==Y.ref&&(U=Y.ref,sa=$a.current);void 0!==Y.key&&(Ua=""+Y.key);if(W.type&&W.type.defaultProps)var ua=W.type.defaultProps;for(la in Y)S.call(Y,
la)&&!z.hasOwnProperty(la)&&(Qa[la]=void 0===Y[la]&&void 0!==ua?ua[la]:Y[la])}var la=arguments.length-2;if(1===la)Qa.children=ma;else if(1<la){ua=Array(la);for(var T=0;T<la;T++)ua[T]=arguments[T+2];Qa.children=ua}return{$$typeof:hb,type:W.type,key:Ua,ref:U,props:Qa,_owner:sa}};Nb.createContext=function(W,Y){void 0===Y&&(Y=null);W={$$typeof:La,_calculateChangedBits:Y,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null};W.Provider={$$typeof:bb,_context:W};return W.Consumer=W};
Nb.createElement=Wb;Nb.createFactory=function(W){var Y=Wb.bind(null,W);Y.type=W;return Y};Nb.createRef=function(){return{current:null}};Nb.forwardRef=function(W){return{$$typeof:ka,render:W}};Nb.isValidElement=ub;Nb.lazy=function(W){return{$$typeof:Ya,_ctor:W,_status:-1,_result:null}};Nb.memo=function(W,Y){return{$$typeof:Ra,type:W,compare:void 0===Y?null:Y}};Nb.useCallback=function(W,Y){return mb().useCallback(W,Y)};Nb.useContext=function(W,Y){return mb().useContext(W,Y)};Nb.useDebugValue=function(){};
Nb.useEffect=function(W,Y){return mb().useEffect(W,Y)};Nb.useImperativeHandle=function(W,Y,ma){return mb().useImperativeHandle(W,Y,ma)};Nb.useLayoutEffect=function(W,Y){return mb().useLayoutEffect(W,Y)};Nb.useMemo=function(W,Y){return mb().useMemo(W,Y)};Nb.useReducer=function(W,Y,ma){return mb().useReducer(W,Y,ma)};Nb.useRef=function(W){return mb().useRef(W)};Nb.useState=function(W){return mb().useState(W)};Nb.version="16.13.1"};
shadow$provide[5]=function($b,Rb,Ic,Nb){Ic.exports=Rb(1)};
shadow$provide[6]=function($b,Rb,Ic,Nb){function n(J,W){var Y=J.length;J.push(W);a:for(;;){var ma=Y-1>>>1,Qa=J[ma];if(void 0!==Qa&&0<Sa(Qa,W))J[ma]=W,J[Y]=Qa,Y=ma;else break a}}function x(J){J=J[0];return void 0===J?null:J}function ea(J){var W=J[0];if(void 0!==W){var Y=J.pop();if(Y!==W){J[0]=Y;var ma=0,Qa=J.length;a:for(;ma<Qa;){var Ua=2*(ma+1)-1,U=J[Ua],sa=Ua+1,ua=J[sa];if(void 0!==U&&0>Sa(U,Y))void 0!==ua&&0>Sa(ua,U)?(J[ma]=ua,J[sa]=Y,ma=sa):(J[ma]=U,J[Ua]=Y,ma=Ua);else if(void 0!==ua&&0>Sa(ua,
Y))J[ma]=ua,J[sa]=Y,ma=sa;else break a}}return W}return null}function Sa(J,W){var Y=J.sortIndex-W.sortIndex;return 0!==Y?Y:J.id-W.id}function Wb(J){for(var W=x(db);null!==W;){if(null===W.callback)ea(db);else if(W.startTime<=J)ea(db),W.sortIndex=W.expirationTime,n(ib,W);else break;W=x(db)}}function fb(J){Q=!1;Wb(J);if(!I)if(null!==x(ib))I=!0,Xa(ub);else{var W=x(db);null!==W&&Ha(fb,W.startTime-J)}}function ub(J,W){I=!1;Q&&(Q=!1,Ia());z=!0;var Y=S;try{Wb(W);for($a=x(ib);null!==$a&&(!($a.expirationTime>
W)||J&&!Za());){var ma=$a.callback;if(null!==ma){$a.callback=null;S=$a.priorityLevel;var Qa=ma($a.expirationTime<=W);W=Nb.unstable_now();"function"===typeof Qa?$a.callback=Qa:$a===x(ib)&&ea(ib);Wb(W)}else ea(ib);$a=x(ib)}if(null!==$a)var Ua=!0;else{var U=x(db);null!==U&&Ha(fb,U.startTime-W);Ua=!1}return Ua}finally{$a=null,S=Y,z=!1}}function Ob(J){switch(J){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}if("undefined"===typeof window||"function"!==
typeof MessageChannel){var zb=null,cb=null,ob=function(){if(null!==zb)try{var J=Nb.unstable_now();zb(!0,J);zb=null}catch(W){throw setTimeout(ob,0),W;}},rb=Date.now();Nb.unstable_now=function(){return Date.now()-rb};var Xa=function(J){null!==zb?setTimeout(Xa,0,J):(zb=J,setTimeout(ob,0))};var Ha=function(J,W){cb=setTimeout(J,W)};var Ia=function(){clearTimeout(cb)};var Za=function(){return!1};$b=Nb.unstable_forceFrameRate=function(){}}else{var mb=window.performance,Da=window.Date,Fa=window.setTimeout,
hb=window.clearTimeout;"undefined"!==typeof console&&($b=window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof $b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));if("object"===typeof mb&&"function"===
typeof mb.now)Nb.unstable_now=function(){return mb.now()};else{var Ca=Da.now();Nb.unstable_now=function(){return Da.now()-Ca}}var bb=!1,La=null,ka=-1,Aa=5,Ra=0;Za=function(){return Nb.unstable_now()>=Ra};$b=function(){};Nb.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):Aa=0<J?Math.floor(1E3/J):5};Rb=new MessageChannel;var Ya=Rb.port2;Rb.port1.onmessage=function(){if(null!==
La){var J=Nb.unstable_now();Ra=J+Aa;try{La(!0,J)?Ya.postMessage(null):(bb=!1,La=null)}catch(W){throw Ya.postMessage(null),W;}}else bb=!1};Xa=function(J){La=J;bb||(bb=!0,Ya.postMessage(null))};Ha=function(J,W){ka=Fa(function(){J(Nb.unstable_now())},W)};Ia=function(){hb(ka);ka=-1}}var ib=[],db=[],nb=1,$a=null,S=3,z=!1,I=!1,Q=!1;Nb.unstable_IdlePriority=5;Nb.unstable_ImmediatePriority=1;Nb.unstable_LowPriority=4;Nb.unstable_NormalPriority=3;Nb.unstable_Profiling=null;Nb.unstable_UserBlockingPriority=
2;Nb.unstable_cancelCallback=function(J){J.callback=null};Nb.unstable_continueExecution=function(){I||z||(I=!0,Xa(ub))};Nb.unstable_getCurrentPriorityLevel=function(){return S};Nb.unstable_getFirstCallbackNode=function(){return x(ib)};Nb.unstable_next=function(J){switch(S){case 1:case 2:case 3:var W=3;break;default:W=S}var Y=S;S=W;try{return J()}finally{S=Y}};Nb.unstable_pauseExecution=function(){};Nb.unstable_requestPaint=$b;Nb.unstable_runWithPriority=function(J,W){switch(J){case 1:case 2:case 3:case 4:case 5:break;
default:J=3}var Y=S;S=J;try{return W()}finally{S=Y}};Nb.unstable_scheduleCallback=function(J,W,Y){var ma=Nb.unstable_now();if("object"===typeof Y&&null!==Y){var Qa=Y.delay;Qa="number"===typeof Qa&&0<Qa?ma+Qa:ma;Y="number"===typeof Y.timeout?Y.timeout:Ob(J)}else Y=Ob(J),Qa=ma;Y=Qa+Y;J={id:nb++,callback:W,priorityLevel:J,startTime:Qa,expirationTime:Y,sortIndex:-1};Qa>ma?(J.sortIndex=Qa,n(db,J),null===x(ib)&&J===x(db)&&(Q?Ia():Q=!0,Ha(fb,Qa-ma))):(J.sortIndex=Y,n(ib,J),I||z||(I=!0,Xa(ub)));return J};
Nb.unstable_shouldYield=function(){var J=Nb.unstable_now();Wb(J);var W=x(ib);return W!==$a&&null!==$a&&null!==W&&null!==W.callback&&W.startTime<=J&&W.expirationTime<$a.expirationTime||Za()};Nb.unstable_wrapCallback=function(J){var W=S;return function(){var Y=S;S=W;try{return J.apply(this,arguments)}finally{S=Y}}}};
shadow$provide[8]=function($b,Rb,Ic,Nb){Ic.exports=Rb(6)};
shadow$provide[9]=function($b,Rb,Ic,Nb){function n(e){for(var h="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+e,A=1;A<arguments.length;A++)h+="\x26args[]\x3d"+encodeURIComponent(arguments[A]);return"Minified React error #"+e+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e,h,A,da,Ba,yb,Jb,ic,dd){var Zc=Array.prototype.slice.call(arguments,3);try{h.apply(A,Zc)}catch(Qd){this.onError(Qd)}}function ea(e,
h,A,da,Ba,yb,Jb,ic,dd){Pf=!1;Mi=null;x.apply(Sj,arguments)}function Sa(e,h,A,da,Ba,yb,Jb,ic,dd){ea.apply(this,arguments);if(Pf){if(Pf){var Zc=Mi;Pf=!1;Mi=null}else throw Error(n(198));vh||(vh=!0,gj=Zc)}}function Wb(e,h,A){var da=e.type||"unknown-event";e.currentTarget=ci(A);Sa(da,h,void 0,e);e.currentTarget=null}function fb(){if(hj)for(var e in di){var h=di[e],A=hj.indexOf(e);if(!(-1<A))throw Error(n(96,e));if(!ij[A]){if(!h.extractEvents)throw Error(n(97,e));ij[A]=h;A=h.eventTypes;for(var da in A){var Ba=
void 0,yb=A[da],Jb=h,ic=da;if(Bj.hasOwnProperty(ic))throw Error(n(99,ic));Bj[ic]=yb;var dd=yb.phasedRegistrationNames;if(dd){for(Ba in dd)dd.hasOwnProperty(Ba)&&ub(dd[Ba],Jb,ic);Ba=!0}else yb.registrationName?(ub(yb.registrationName,Jb,ic),Ba=!0):Ba=!1;if(!Ba)throw Error(n(98,da,e));}}}}function ub(e,h,A){if(qi[e])throw Error(n(100,e));qi[e]=h;ei[e]=h.eventTypes[A].dependencies}function Ob(e){var h=!1,A;for(A in e)if(e.hasOwnProperty(A)){var da=e[A];if(!di.hasOwnProperty(A)||di[A]!==da){if(di[A])throw Error(n(102,
A));di[A]=da;h=!0}}h&&fb()}function zb(e){if(e=Ni(e)){if("function"!==typeof Oi)throw Error(n(280));var h=e.stateNode;h&&(h=jj(h),Oi(e.stateNode,e.type,h))}}function cb(e){ri?pg?pg.push(e):pg=[e]:ri=e}function ob(){if(ri){var e=ri,h=pg;pg=ri=null;zb(e);if(h)for(e=0;e<h.length;e++)zb(h[e])}}function rb(e,h){return e(h)}function Xa(e,h,A,da,Ba){return e(h,A,da,Ba)}function Ha(){}function Ia(){if(null!==ri||null!==pg)Ha(),ob()}function Za(e,h,A){if(Pi)return e(h,A);Pi=!0;try{return Nh(e,h,A)}finally{Pi=
!1,Ia()}}function mb(e){if(kj.call(sf,e))return!0;if(kj.call(nf,e))return!1;if($g.test(e))return sf[e]=!0;nf[e]=!0;return!1}function Da(e,h,A,da){if(null!==A&&0===A.type)return!1;switch(typeof h){case "function":case "symbol":return!0;case "boolean":if(da)return!1;if(null!==A)return!A.acceptsBooleans;e=e.toLowerCase().slice(0,5);return"data-"!==e&&"aria-"!==e;default:return!1}}function Fa(e,h,A,da){if(null===h||"undefined"===typeof h||Da(e,h,A,da))return!0;if(da)return!1;if(null!==A)switch(A.type){case 3:return!h;
case 4:return!1===h;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function hb(e,h,A,da,Ba,yb){this.acceptsBooleans=2===h||3===h||4===h;this.attributeName=da;this.attributeNamespace=Ba;this.mustUseProperty=A;this.propertyName=e;this.type=h;this.sanitizeURL=yb}function Ca(e){return e[1].toUpperCase()}function bb(e,h,A,da){var Ba=yf.hasOwnProperty(h)?yf[h]:null;(null!==Ba?0===Ba.type:da?0:2<h.length&&("o"===h[0]||"O"===h[0])&&("n"===h[1]||"N"===h[1]))||(Fa(h,A,Ba,da)&&(A=null),da||null===
Ba?mb(h)&&(null===A?e.removeAttribute(h):e.setAttribute(h,""+A)):Ba.mustUseProperty?e[Ba.propertyName]=null===A?3===Ba.type?!1:"":A:(h=Ba.attributeName,da=Ba.attributeNamespace,null===A?e.removeAttribute(h):(Ba=Ba.type,A=3===Ba||4===Ba&&!0===A?"":""+A,da?e.setAttributeNS(da,h,A):e.setAttribute(h,A))))}function La(e){if(null===e||"object"!==typeof e)return null;e=lf&&e[lf]||e["@@iterator"];return"function"===typeof e?e:null}function ka(e){if(-1===e._status){e._status=0;var h=e._ctor;h=h();e._result=
h;h.then(function(A){0===e._status&&(A=A.default,e._status=1,e._result=A)},function(A){0===e._status&&(e._status=2,e._result=A)})}}function Aa(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ah:return"Fragment";case fi:return"Portal";case Oh:return"Profiler";case si:return"StrictMode";case Qi:return"Suspense";case ti:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case Tj:return"Context.Consumer";case Wg:return"Context.Provider";
case wh:var h=e.render;h=h.displayName||h.name||"";return e.displayName||(""!==h?"ForwardRef("+h+")":"ForwardRef");case Xg:return Aa(e.type);case ui:return Aa(e.render);case vi:if(e=1===e._status?e._result:null)return Aa(e)}return null}function Ra(e){var h="";do{a:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var A="";break a;default:var da=e._debugOwner,Ba=e._debugSource,yb=Aa(e.type);A=null;da&&(A=Aa(da.type));da=yb;yb="";Ba?yb=" (at "+Ba.fileName.replace(Kg,"")+":"+Ba.lineNumber+")":
A&&(yb=" (created by "+A+")");A="\n    in "+(da||"Unknown")+yb}h+=A;e=e.return}while(e);return h}function Ya(e){switch(typeof e){case "boolean":case "number":case "object":case "string":case "undefined":return e;default:return""}}function ib(e){var h=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===h||"radio"===h)}function db(e){var h=ib(e)?"checked":"value",A=Object.getOwnPropertyDescriptor(e.constructor.prototype,h),da=""+e[h];if(!e.hasOwnProperty(h)&&"undefined"!==typeof A&&
"function"===typeof A.get&&"function"===typeof A.set){var Ba=A.get,yb=A.set;Object.defineProperty(e,h,{configurable:!0,get:function(){return Ba.call(this)},set:function(Jb){da=""+Jb;yb.call(this,Jb)}});Object.defineProperty(e,h,{enumerable:A.enumerable});return{getValue:function(){return da},setValue:function(Jb){da=""+Jb},stopTracking:function(){e._valueTracker=null;delete e[h]}}}}function nb(e){e._valueTracker||(e._valueTracker=db(e))}function $a(e){if(!e)return!1;var h=e._valueTracker;if(!h)return!0;
var A=h.getValue(),da="";e&&(da=ib(e)?e.checked?"true":"false":e.value);e=da;return e!==A?(h.setValue(e),!0):!1}function S(e,h){var A=h.checked;return Ag({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=A?A:e._wrapperState.initialChecked})}function z(e,h){var A=null==h.defaultValue?"":h.defaultValue,da=null!=h.checked?h.checked:h.defaultChecked;A=Ya(null!=h.value?h.value:A);e._wrapperState={initialChecked:da,initialValue:A,controlled:"checkbox"===h.type||"radio"===h.type?
null!=h.checked:null!=h.value}}function I(e,h){h=h.checked;null!=h&&bb(e,"checked",h,!1)}function Q(e,h){I(e,h);var A=Ya(h.value),da=h.type;if(null!=A)if("number"===da){if(0===A&&""===e.value||e.value!=A)e.value=""+A}else e.value!==""+A&&(e.value=""+A);else if("submit"===da||"reset"===da){e.removeAttribute("value");return}h.hasOwnProperty("value")?W(e,h.type,A):h.hasOwnProperty("defaultValue")&&W(e,h.type,Ya(h.defaultValue));null==h.checked&&null!=h.defaultChecked&&(e.defaultChecked=!!h.defaultChecked)}
function J(e,h,A){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var da=h.type;if(!("submit"!==da&&"reset"!==da||void 0!==h.value&&null!==h.value))return;h=""+e._wrapperState.initialValue;A||h===e.value||(e.value=h);e.defaultValue=h}A=e.name;""!==A&&(e.name="");e.defaultChecked=!!e._wrapperState.initialChecked;""!==A&&(e.name=A)}function W(e,h,A){if("number"!==h||e.ownerDocument.activeElement!==e)null==A?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+A&&(e.defaultValue=
""+A)}function Y(e){var h="";lj.Children.forEach(e,function(A){null!=A&&(h+=A)});return h}function ma(e,h){e=Ag({children:void 0},h);if(h=Y(h.children))e.children=h;return e}function Qa(e,h,A,da){e=e.options;if(h){h={};for(var Ba=0;Ba<A.length;Ba++)h["$"+A[Ba]]=!0;for(A=0;A<e.length;A++)Ba=h.hasOwnProperty("$"+e[A].value),e[A].selected!==Ba&&(e[A].selected=Ba),Ba&&da&&(e[A].defaultSelected=!0)}else{A=""+Ya(A);h=null;for(Ba=0;Ba<e.length;Ba++){if(e[Ba].value===A){e[Ba].selected=!0;da&&(e[Ba].defaultSelected=
!0);return}null!==h||e[Ba].disabled||(h=e[Ba])}null!==h&&(h.selected=!0)}}function Ua(e,h){if(null!=h.dangerouslySetInnerHTML)throw Error(n(91));return Ag({},h,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U(e,h){var A=h.value;if(null==A){A=h.children;h=h.defaultValue;if(null!=A){if(null!=h)throw Error(n(92));if(Array.isArray(A)){if(!(1>=A.length))throw Error(n(93));A=A[0]}h=A}null==h&&(h="");A=h}e._wrapperState={initialValue:Ya(A)}}function sa(e,h){var A=Ya(h.value),
da=Ya(h.defaultValue);null!=A&&(A=""+A,A!==e.value&&(e.value=A),null==h.defaultValue&&e.defaultValue!==A&&(e.defaultValue=A));null!=da&&(e.defaultValue=""+da)}function ua(e){var h=e.textContent;h===e._wrapperState.initialValue&&""!==h&&null!==h&&(e.value=h)}function la(e){switch(e){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T(e,h){return null==e||"http://www.w3.org/1999/xhtml"===e?la(h):
"http://www.w3.org/2000/svg"===e&&"foreignObject"===h?"http://www.w3.org/1999/xhtml":e}function v(e,h){if(h){var A=e.firstChild;if(A&&A===e.lastChild&&3===A.nodeType){A.nodeValue=h;return}}e.textContent=h}function w(e,h){var A={};A[e.toLowerCase()]=h.toLowerCase();A["Webkit"+e]="webkit"+h;A["Moz"+e]="moz"+h;return A}function p(e){if(gi[e])return gi[e];if(!Gf[e])return e;var h=Gf[e],A;for(A in h)if(h.hasOwnProperty(A)&&A in mj)return gi[e]=h[A];return e}function r(e){var h=Ge.get(e);void 0===h&&(h=
new Map,Ge.set(e,h));return h}function D(e){var h=e,A=e;if(e.alternate)for(;h.return;)h=h.return;else{e=h;do h=e,0!==(h.effectTag&1026)&&(A=h.return),e=h.return;while(e)}return 3===h.tag?A:null}function E(e){if(13===e.tag){var h=e.memoizedState;null===h&&(e=e.alternate,null!==e&&(h=e.memoizedState));if(null!==h)return h.dehydrated}return null}function H(e){if(D(e)!==e)throw Error(n(188));}function C(e){var h=e.alternate;if(!h){h=D(e);if(null===h)throw Error(n(188));return h!==e?null:e}for(var A=e,
da=h;;){var Ba=A.return;if(null===Ba)break;var yb=Ba.alternate;if(null===yb){da=Ba.return;if(null!==da){A=da;continue}break}if(Ba.child===yb.child){for(yb=Ba.child;yb;){if(yb===A)return H(Ba),e;if(yb===da)return H(Ba),h;yb=yb.sibling}throw Error(n(188));}if(A.return!==da.return)A=Ba,da=yb;else{for(var Jb=!1,ic=Ba.child;ic;){if(ic===A){Jb=!0;A=Ba;da=yb;break}if(ic===da){Jb=!0;da=Ba;A=yb;break}ic=ic.sibling}if(!Jb){for(ic=yb.child;ic;){if(ic===A){Jb=!0;A=yb;da=Ba;break}if(ic===da){Jb=!0;da=yb;A=Ba;
break}ic=ic.sibling}if(!Jb)throw Error(n(189));}}if(A.alternate!==da)throw Error(n(190));}if(3!==A.tag)throw Error(n(188));return A.stateNode.current===A?e:h}function ha(e){e=C(e);if(!e)return null;for(var h=e;;){if(5===h.tag||6===h.tag)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===e)break;for(;!h.sibling;){if(!h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}}return null}function xa(e,h){if(null==h)throw Error(n(30));if(null==e)return h;if(Array.isArray(e)){if(Array.isArray(h))return e.push.apply(e,
h),e;e.push(h);return e}return Array.isArray(h)?[e].concat(h):[e,h]}function oa(e,h,A){Array.isArray(e)?e.forEach(h,A):e&&h.call(A,e)}function Va(e){if(e){var h=e._dispatchListeners,A=e._dispatchInstances;if(Array.isArray(h))for(var da=0;da<h.length&&!e.isPropagationStopped();da++)Wb(e,h[da],A[da]);else h&&Wb(e,h,A);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}}function Ja(e){null!==e&&(wi=xa(wi,e));e=wi;wi=null;if(e){oa(e,Va);if(wi)throw Error(n(95));
if(vh)throw e=gj,vh=!1,gj=null,e;}}function ba(e){e=e.target||e.srcElement||window;e.correspondingUseElement&&(e=e.correspondingUseElement);return 3===e.nodeType?e.parentNode:e}function ta(e){if(!xh)return!1;e="on"+e;var h=e in document;h||(h=document.createElement("div"),h.setAttribute(e,"return;"),h="function"===typeof h[e]);return h}function eb(e){e.topLevelType=null;e.nativeEvent=null;e.targetInst=null;e.ancestors.length=0;10>xi.length&&xi.push(e)}function xb(e,h,A,da){if(xi.length){var Ba=xi.pop();
Ba.topLevelType=e;Ba.eventSystemFlags=da;Ba.nativeEvent=h;Ba.targetInst=A;return Ba}return{topLevelType:e,eventSystemFlags:da,nativeEvent:h,targetInst:A,ancestors:[]}}function Kb(e){var h=e.targetInst,A=h;do{if(!A){e.ancestors.push(A);break}var da=A;if(3===da.tag)da=da.stateNode.containerInfo;else{for(;da.return;)da=da.return;da=3!==da.tag?null:da.stateNode.containerInfo}if(!da)break;h=A.tag;5!==h&&6!==h||e.ancestors.push(A);A=sb(da)}while(A);for(A=0;A<e.ancestors.length;A++){h=e.ancestors[A];var Ba=
ba(e.nativeEvent);da=e.topLevelType;var yb=e.nativeEvent,Jb=e.eventSystemFlags;0===A&&(Jb|=64);for(var ic=null,dd=0;dd<ij.length;dd++){var Zc=ij[dd];Zc&&(Zc=Zc.extractEvents(da,h,yb,Ba,Jb))&&(ic=xa(ic,Zc))}Ja(ic)}}function fc(e,h,A){if(!A.has(e)){switch(e){case "scroll":Dd(h,"scroll",!0);break;case "focus":case "blur":Dd(h,"focus",!0);Dd(h,"blur",!0);A.set("blur",null);A.set("focus",null);break;case "cancel":case "close":ta(e)&&Dd(h,e,!0);break;case "invalid":case "submit":case "reset":break;default:-1===
yh.indexOf(e)&&Nc(e,h)}A.set(e,null)}}function Ec(e,h){var A=r(h);Xf.forEach(function(da){fc(da,h,A)});nj.forEach(function(da){fc(da,h,A)})}function gd(e,h,A,da,Ba){return{blockedOn:e,topLevelType:h,eventSystemFlags:A|32,nativeEvent:Ba,container:da}}function Dc(e,h){switch(e){case "focus":case "blur":Ph=null;break;case "dragenter":case "dragleave":Qh=null;break;case "mouseover":case "mouseout":zh=null;break;case "pointerover":case "pointerout":Ah.delete(h.pointerId);break;case "gotpointercapture":case "lostpointercapture":Bh.delete(h.pointerId)}}
function Sc(e,h,A,da,Ba,yb){if(null===e||e.nativeEvent!==yb)return e=gd(h,A,da,Ba,yb),null!==h&&(h=Lb(h),null!==h&&bl(h)),e;e.eventSystemFlags|=da;return e}function Ta(e,h,A,da,Ba){switch(h){case "focus":return Ph=Sc(Ph,e,h,A,da,Ba),!0;case "dragenter":return Qh=Sc(Qh,e,h,A,da,Ba),!0;case "mouseover":return zh=Sc(zh,e,h,A,da,Ba),!0;case "pointerover":var yb=Ba.pointerId;Ah.set(yb,Sc(Ah.get(yb)||null,e,h,A,da,Ba));return!0;case "gotpointercapture":return yb=Ba.pointerId,Bh.set(yb,Sc(Bh.get(yb)||null,
e,h,A,da,Ba)),!0}return!1}function nc(e){var h=sb(e.target);if(null!==h){var A=D(h);if(null!==A)if(h=A.tag,13===h){if(h=E(A),null!==h){e.blockedOn=h;Bg.unstable_runWithPriority(e.priority,function(){yl(A)});return}}else if(3===h&&A.stateNode.hydrate){e.blockedOn=3===A.tag?A.stateNode.containerInfo:null;return}}e.blockedOn=null}function lc(e){if(null!==e.blockedOn)return!1;var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==h){var A=Lb(h);null!==A&&bl(A);e.blockedOn=h;return!1}return!0}
function wc(e,h,A){lc(e)&&A.delete(h)}function Pc(){for(Ri=!1;0<bh.length;){var e=bh[0];if(null!==e.blockedOn){e=Lb(e.blockedOn);null!==e&&Lk(e);break}var h=ge(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==h?e.blockedOn=h:bh.shift()}null!==Ph&&lc(Ph)&&(Ph=null);null!==Qh&&lc(Qh)&&(Qh=null);null!==zh&&lc(zh)&&(zh=null);Ah.forEach(wc);Bh.forEach(wc)}function rc(e,h){e.blockedOn===h&&(e.blockedOn=null,Ri||(Ri=!0,Bg.unstable_scheduleCallback(Bg.unstable_NormalPriority,Pc)))}function Xc(e){function h(Ba){return rc(Ba,
e)}if(0<bh.length){rc(bh[0],e);for(var A=1;A<bh.length;A++){var da=bh[A];da.blockedOn===e&&(da.blockedOn=null)}}null!==Ph&&rc(Ph,e);null!==Qh&&rc(Qh,e);null!==zh&&rc(zh,e);Ah.forEach(h);Bh.forEach(h);for(A=0;A<ch.length;A++)da=ch[A],da.blockedOn===e&&(da.blockedOn=null);for(;0<ch.length&&(A=ch[0],null===A.blockedOn);)nc(A),null===A.blockedOn&&ch.shift()}function $c(e,h){for(var A=0;A<e.length;A+=2){var da=e[A],Ba=e[A+1],yb="on"+(Ba[0].toUpperCase()+Ba.slice(1));yb={phasedRegistrationNames:{bubbled:yb,
captured:yb+"Capture"},dependencies:[da],eventPriority:h};Cj.set(da,h);Dj.set(da,yb);kh[Ba]=yb}}function Nc(e,h){Dd(h,e,!1)}function Dd(e,h,A){var da=Cj.get(h);switch(void 0===da?2:da){case 0:da=we.bind(null,h,1,e);break;case 1:da=ld.bind(null,h,1,e);break;default:da=sd.bind(null,h,1,e)}A?e.addEventListener(h,da,!0):e.addEventListener(h,da,!1)}function we(e,h,A,da){jg||Ha();var Ba=sd,yb=jg;jg=!0;try{Xa(Ba,e,h,A,da)}finally{(jg=yb)||Ia()}}function ld(e,h,A,da){yi(Uj,sd.bind(null,e,h,A,da))}function sd(e,
h,A,da){if(Rh)if(0<bh.length&&-1<Xf.indexOf(e))e=gd(null,e,h,A,da),bh.push(e);else{var Ba=ge(e,h,A,da);if(null===Ba)Dc(e,da);else if(-1<Xf.indexOf(e))e=gd(Ba,e,h,A,da),bh.push(e);else if(!Ta(Ba,e,h,A,da)){Dc(e,da);e=xb(e,da,null,h);try{Za(Kb,e)}finally{eb(e)}}}}function ge(e,h,A,da){A=ba(da);A=sb(A);if(null!==A){var Ba=D(A);if(null===Ba)A=null;else{var yb=Ba.tag;if(13===yb){A=E(Ba);if(null!==A)return A;A=null}else if(3===yb){if(Ba.stateNode.hydrate)return 3===Ba.tag?Ba.stateNode.containerInfo:null;
A=null}else Ba!==A&&(A=null)}}e=xb(e,da,A,h);try{Za(Kb,e)}finally{eb(e)}return null}function Ma(e,h,A){return null==h||"boolean"===typeof h||""===h?"":A||"number"!==typeof h||0===h||zi.hasOwnProperty(e)&&zi[e]?(""+h).trim():h+"px"}function vb(e,h){e=e.style;for(var A in h)if(h.hasOwnProperty(A)){var da=0===A.indexOf("--"),Ba=Ma(A,h[A],da);"float"===A&&(A="cssFloat");da?e.setProperty(A,Ba):e[A]=Ba}}function ac(e,h){if(h){if(Ch[e]&&(null!=h.children||null!=h.dangerouslySetInnerHTML))throw Error(n(137,
e,""));if(null!=h.dangerouslySetInnerHTML){if(null!=h.children)throw Error(n(60));if(!("object"===typeof h.dangerouslySetInnerHTML&&"__html"in h.dangerouslySetInnerHTML))throw Error(n(61));}if(null!=h.style&&"object"!==typeof h.style)throw Error(n(62,""));}}function rd(e,h){if(-1===e.indexOf("-"))return"string"===typeof h.is;switch(e){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;
default:return!0}}function vd(e,h){e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument;var A=r(e);h=ei[h];for(var da=0;da<h.length;da++)fc(h[da],e,A)}function de(){}function oe(e){e=e||("undefined"!==typeof document?document:void 0);if("undefined"===typeof e)return null;try{return e.activeElement||e.body}catch(h){return e.body}}function Z(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function za(e,h){var A=Z(e);e=0;for(var da;A;){if(3===A.nodeType){da=e+A.textContent.length;if(e<=h&&da>=h)return{node:A,
offset:h-e};e=da}a:{for(;A;){if(A.nextSibling){A=A.nextSibling;break a}A=A.parentNode}A=void 0}A=Z(A)}}function gb(e,h){return e&&h?e===h?!0:e&&3===e.nodeType?!1:h&&3===h.nodeType?gb(e,h.parentNode):"contains"in e?e.contains(h):e.compareDocumentPosition?!!(e.compareDocumentPosition(h)&16):!1:!1}function Db(){for(var e=window,h=oe();h instanceof e.HTMLIFrameElement;){try{var A="string"===typeof h.contentWindow.location.href}catch(da){A=!1}if(A)e=h.contentWindow;else break;h=oe(e.document)}return h}
function Zb(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return h&&("input"===h&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===h||"true"===e.contentEditable)}function Gb(e,h){switch(e){case "button":case "input":case "select":case "textarea":return!!h.autoFocus}return!1}function sc(e,h){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof h.children||"number"===typeof h.children||"object"===typeof h.dangerouslySetInnerHTML&&
null!==h.dangerouslySetInnerHTML&&null!=h.dangerouslySetInnerHTML.__html}function kc(e){for(;null!=e;e=e.nextSibling){var h=e.nodeType;if(1===h||3===h)break}return e}function Oa(e){e=e.previousSibling;for(var h=0;e;){if(8===e.nodeType){var A=e.data;if(A===lh||A===Ai||A===Vj){if(0===h)return e;h--}else A===Si&&h++}e=e.previousSibling}return null}function sb(e){var h=e[mh];if(h)return h;for(var A=e.parentNode;A;){if(h=A[Dh]||A[mh]){A=h.alternate;if(null!==h.child||null!==A&&null!==A.child)for(e=Oa(e);null!==
e;){if(A=e[mh])return A;e=Oa(e)}return h}e=A;A=e.parentNode}return null}function Lb(e){e=e[mh]||e[Dh];return!e||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function hc(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33));}function tc(e){return e[Qg]||null}function Bc(e){do e=e.return;while(e&&5!==e.tag);return e?e:null}function Mc(e,h){var A=e.stateNode;if(!A)return null;var da=jj(A);if(!da)return null;A=da[h];a:switch(h){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(da=
!da.disabled)||(e=e.type,da=!("button"===e||"input"===e||"select"===e||"textarea"===e));e=!da;break a;default:e=!1}if(e)return null;if(A&&"function"!==typeof A)throw Error(n(231,h,typeof A));return A}function Hb(e,h,A){if(h=Mc(e,A.dispatchConfig.phasedRegistrationNames[h]))A._dispatchListeners=xa(A._dispatchListeners,h),A._dispatchInstances=xa(A._dispatchInstances,e)}function yc(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var h=e._targetInst,A=[];h;)A.push(h),h=Bc(h);for(h=A.length;0<h--;)Hb(A[h],
"captured",e);for(h=0;h<A.length;h++)Hb(A[h],"bubbled",e)}}function Cc(e,h,A){e&&A&&A.dispatchConfig.registrationName&&(h=Mc(e,A.dispatchConfig.registrationName))&&(A._dispatchListeners=xa(A._dispatchListeners,h),A._dispatchInstances=xa(A._dispatchInstances,e))}function xc(e){e&&e.dispatchConfig.registrationName&&Cc(e._targetInst,null,e)}function Jc(e){oa(e,yc)}function Yc(){if(Bi)return Bi;var e,h=ug,A=h.length,da,Ba="value"in Sh?Sh.value:Sh.textContent,yb=Ba.length;for(e=0;e<A&&h[e]===Ba[e];e++);
var Jb=A-e;for(da=1;da<=Jb&&h[A-da]===Ba[yb-da];da++);return Bi=Ba.slice(e,1<da?1-da:void 0)}function Uc(){return!0}function od(){return!1}function qd(e,h,A,da){this.dispatchConfig=e;this._targetInst=h;this.nativeEvent=A;e=this.constructor.Interface;for(var Ba in e)e.hasOwnProperty(Ba)&&((h=e[Ba])?this[Ba]=h(A):"target"===Ba?this.target=da:this[Ba]=A[Ba]);this.isDefaultPrevented=(null!=A.defaultPrevented?A.defaultPrevented:!1===A.returnValue)?Uc:od;this.isPropagationStopped=od;return this}function Id(e,
h,A,da){if(this.eventPool.length){var Ba=this.eventPool.pop();this.call(Ba,e,h,A,da);return Ba}return new this(e,h,A,da)}function Ed(e){if(!(e instanceof this))throw Error(n(279));e.destructor();10>this.eventPool.length&&this.eventPool.push(e)}function Wd(e){e.eventPool=[];e.getPooled=Id;e.release=Ed}function me(e,h){switch(e){case "keyup":return-1!==Ti.indexOf(h.keyCode);case "keydown":return 229!==h.keyCode;case "keypress":case "mousedown":case "blur":return!0;default:return!1}}function ye(e){e=
e.detail;return"object"===typeof e&&"data"in e?e.data:null}function Ye(e,h){switch(e){case "compositionend":return ye(h);case "keypress":if(32!==h.which)return null;oj=!0;return Wj;case "textInput":return e=h.data,e===Wj&&oj?null:e;default:return null}}function Qe(e,h){if(nh)return"compositionend"===e||!Ci&&me(e,h)?(e=Yc(),Bi=ug=Sh=null,nh=!1,e):null;switch(e){case "paste":return null;case "keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;
if(h.which)return String.fromCharCode(h.which)}return null;case "compositionend":return Di&&"ko"!==h.locale?null:h.data;default:return null}}function Re(e){var h=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===h?!!Ui[e.type]:"textarea"===h?!0:!1}function Fd(e,h,A){e=qd.getPooled(Xj.change,e,h,A);e.type="change";cb(A);Jc(e);return e}function ee(e){Ja(e)}function ff(e){var h=hc(e);if($a(h))return e}function Oe(e,h){if("change"===e)return h}function Bf(){Th&&(Th.detachEvent("onpropertychange",
Yd),Uh=Th=null)}function Yd(e){if("value"===e.propertyName&&ff(Uh))if(e=Fd(Uh,e,ba(e)),jg)Ja(e);else{jg=!0;try{rb(ee,e)}finally{jg=!1,Ia()}}}function Ae(e,h,A){"focus"===e?(Bf(),Th=h,Uh=A,Th.attachEvent("onpropertychange",Yd)):"blur"===e&&Bf()}function cf(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ff(Uh)}function re(e,h){if("click"===e)return ff(h)}function Ad(e,h){if("input"===e||"change"===e)return ff(h)}function Ld(e){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(e):
(e=Mk[e])?!!h[e]:!1}function ae(){return Ld}function Jf(e,h){return e===h&&(0!==e||1/e===1/h)||e!==e&&h!==h}function De(e,h){if(ra(e,h))return!0;if("object"!==typeof e||null===e||"object"!==typeof h||null===h)return!1;var A=Object.keys(e),da=Object.keys(h);if(A.length!==da.length)return!1;for(da=0;da<A.length;da++)if(!jb.call(h,A[da])||!ra(e[A[da]],h[A[da]]))return!1;return!0}function Jd(e,h){var A=h.window===h?h.document:9===h.nodeType?h:h.ownerDocument;if(ed||null==Hc||Hc!==oe(A))return null;A=
Hc;"selectionStart"in A&&Zb(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset});return oc&&De(oc,A)?null:(oc=A,e=qd.getPooled(Xb.select,qc,e,h),e.type="select",e.target=Hc,Jc(e),e)}function Se(e){var h=e.keyCode;"charCode"in e?(e=e.charCode,0===e&&13===h&&(e=13)):e=h;10===e&&(e=13);return 32<=e||13===e?e:0}function Ee(e){0>vg||
(e.current=Cg[vg],Cg[vg]=null,vg--)}function Ac(e,h){vg++;Cg[vg]=e.current;e.current=h}function Be(e,h){var A=e.type.contextTypes;if(!A)return Lg;var da=e.stateNode;if(da&&da.__reactInternalMemoizedUnmaskedChildContext===h)return da.__reactInternalMemoizedMaskedChildContext;var Ba={},yb;for(yb in A)Ba[yb]=h[yb];da&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=Ba);return Ba}function Xd(e){e=e.childContextTypes;return null!==e&&void 0!==
e}function cc(){Ee(Dg);Ee(mg)}function Je(e,h,A){if(mg.current!==Lg)throw Error(n(168));Ac(mg,h);Ac(Dg,A)}function pe(e,h,A){var da=e.stateNode;e=h.childContextTypes;if("function"!==typeof da.getChildContext)return A;da=da.getChildContext();for(var Ba in da)if(!(Ba in e))throw Error(n(108,Aa(h)||"Unknown",Ba));return Ag({},A,{},da)}function Ke(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lg;Vi=mg.current;Ac(mg,e);Ac(Dg,Dg.current);return!0}function Cf(e,h,A){var da=e.stateNode;
if(!da)throw Error(n(169));A?(e=pe(e,h,Vi),da.__reactInternalMemoizedMergedChildContext=e,Ee(Dg),Ee(mg),Ac(mg,e)):Ee(Dg);Ac(Dg,A)}function kf(){switch(zl()){case eg:return 99;case Eh:return 98;case tk:return 97;case pj:return 96;case Nk:return 95;default:throw Error(n(332));}}function tf(e){switch(e){case 99:return eg;case 98:return Eh;case 97:return tk;case 96:return pj;case 95:return Nk;default:throw Error(n(332));}}function Pe(e,h){e=tf(e);return cl(e,h)}function N(e,h,A){e=tf(e);return uk(e,h,
A)}function V(e){null===hi?(hi=[e],Ej=uk(eg,Ka)):hi.push(e);return dl}function wa(){if(null!==Ej){var e=Ej;Ej=null;el(e)}Ka()}function Ka(){if(!Fj&&null!==hi){Fj=!0;var e=0;try{var h=hi;Pe(99,function(){for(;e<h.length;e++){var A=h[e];do A=A(!0);while(null!==A)}});hi=null}catch(A){throw null!==hi&&(hi=hi.slice(e+1)),uk(eg,wa),A;}finally{Fj=!1}}}function Wa(e,h,A){A/=10;return 1073741821-(((1073741821-e+h/10)/A|0)+1)*A}function Vb(e,h){if(e&&e.defaultProps){h=Ag({},h);e=e.defaultProps;for(var A in e)void 0===
h[A]&&(h[A]=e[A])}return h}function mc(e){var h=Yj.current;Ee(Yj);e.type._context._currentValue=h}function Gc(e,h){for(;null!==e;){var A=e.alternate;if(e.childExpirationTime<h)e.childExpirationTime=h,null!==A&&A.childExpirationTime<h&&(A.childExpirationTime=h);else if(null!==A&&A.childExpirationTime<h)A.childExpirationTime=h;else break;e=e.return}}function uc(e,h){Gj=e;Hj=Vh=null;e=e.dependencies;null!==e&&null!==e.firstContext&&(e.expirationTime>=h&&(dh=!0),e.firstContext=null)}function Fc(e,h){if(Hj!==
e&&!1!==h&&0!==h){if("number"!==typeof h||1073741823===h)Hj=e,h=1073741823;h={context:e,observedBits:h,next:null};if(null===Vh){if(null===Gj)throw Error(n(308));Vh=h;Gj.dependencies={expirationTime:0,firstContext:h,responders:null}}else Vh=Vh.next=h}return e._currentValue}function id(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fd(e,h){e=e.updateQueue;h.updateQueue===e&&(h.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,
effects:e.effects})}function se(e,h){e={expirationTime:e,suspenseConfig:h,tag:0,payload:null,callback:null,next:null};return e.next=e}function xd(e,h){e=e.updateQueue;if(null!==e){e=e.shared;var A=e.pending;null===A?h.next=h:(h.next=A.next,A.next=h);e.pending=h}}function zd(e,h){var A=e.alternate;null!==A&&fd(A,e);e=e.updateQueue;A=e.baseQueue;null===A?(e.baseQueue=h.next=h,h.next=h):(h.next=A.next,A.next=h)}function le(e,h,A,da){var Ba=e.updateQueue;Wi=!1;var yb=Ba.baseQueue,Jb=Ba.shared.pending;
if(null!==Jb){if(null!==yb){var ic=yb.next;yb.next=Jb.next;Jb.next=ic}yb=Jb;Ba.shared.pending=null;ic=e.alternate;null!==ic&&(ic=ic.updateQueue,null!==ic&&(ic.baseQueue=Jb))}if(null!==yb){ic=yb.next;var dd=Ba.baseState,Zc=0,Qd=null,Zd=null,Df=null;if(null!==ic){var Rf=ic;do{Jb=Rf.expirationTime;if(Jb<da){var fg={expirationTime:Rf.expirationTime,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null};null===Df?(Zd=Df=fg,Qd=dd):Df=Df.next=fg;Jb>Zc&&(Zc=Jb)}else{null!==
Df&&(Df=Df.next={expirationTime:1073741823,suspenseConfig:Rf.suspenseConfig,tag:Rf.tag,payload:Rf.payload,callback:Rf.callback,next:null});kg(Jb,Rf.suspenseConfig);a:{var Gg=e,Vc=Rf;Jb=h;fg=A;switch(Vc.tag){case 1:Gg=Vc.payload;if("function"===typeof Gg){dd=Gg.call(fg,dd,Jb);break a}dd=Gg;break a;case 3:Gg.effectTag=Gg.effectTag&-4097|64;case 0:Gg=Vc.payload;Jb="function"===typeof Gg?Gg.call(fg,dd,Jb):Gg;if(null===Jb||void 0===Jb)break a;dd=Ag({},dd,Jb);break a;case 2:Wi=!0}}null!==Rf.callback&&(e.effectTag|=
32,Jb=Ba.effects,null===Jb?Ba.effects=[Rf]:Jb.push(Rf))}Rf=Rf.next;if(null===Rf||Rf===ic)if(Jb=Ba.shared.pending,null===Jb)break;else Rf=yb.next=Jb.next,Jb.next=ic,Ba.baseQueue=yb=Jb,Ba.shared.pending=null}while(1)}null===Df?Qd=dd:Df.next=Zd;Ba.baseState=Qd;Ba.baseQueue=Df;Yf(Zc);e.expirationTime=Zc;e.memoizedState=dd}}function Te(e,h,A){e=h.effects;h.effects=null;if(null!==e)for(h=0;h<e.length;h++){var da=e[h],Ba=da.callback;if(null!==Ba){da.callback=null;da=Ba;Ba=A;if("function"!==typeof da)throw Error(n(191,
da));da.call(Ba)}}}function Me(e,h,A,da){h=e.memoizedState;A=A(da,h);A=null===A||void 0===A?h:Ag({},h,A);e.memoizedState=A;0===e.expirationTime&&(e.updateQueue.baseState=A)}function uf(e,h,A,da,Ba,yb,Jb){e=e.stateNode;return"function"===typeof e.shouldComponentUpdate?e.shouldComponentUpdate(da,yb,Jb):h.prototype&&h.prototype.isPureReactComponent?!De(A,da)||!De(Ba,yb):!0}function Zf(e,h,A){var da=!1,Ba=Lg,yb=h.contextType;"object"===typeof yb&&null!==yb?yb=Fc(yb):(Ba=Xd(h)?Vi:mg.current,da=h.contextTypes,
yb=(da=null!==da&&void 0!==da)?Be(e,Ba):Lg);h=new h(A,yb);e.memoizedState=null!==h.state&&void 0!==h.state?h.state:null;h.updater=vk;e.stateNode=h;h._reactInternalFiber=e;da&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=Ba,e.__reactInternalMemoizedMaskedChildContext=yb);return h}function pd(e,h,A,da){e=h.state;"function"===typeof h.componentWillReceiveProps&&h.componentWillReceiveProps(A,da);"function"===typeof h.UNSAFE_componentWillReceiveProps&&h.UNSAFE_componentWillReceiveProps(A,
da);h.state!==e&&vk.enqueueReplaceState(h,h.state,null)}function Ue(e,h,A,da){var Ba=e.stateNode;Ba.props=A;Ba.state=e.memoizedState;Ba.refs=fl;id(e);var yb=h.contextType;"object"===typeof yb&&null!==yb?Ba.context=Fc(yb):(yb=Xd(h)?Vi:mg.current,Ba.context=Be(e,yb));le(e,A,Ba,da);Ba.state=e.memoizedState;yb=h.getDerivedStateFromProps;"function"===typeof yb&&(Me(e,h,yb,A),Ba.state=e.memoizedState);"function"===typeof h.getDerivedStateFromProps||"function"===typeof Ba.getSnapshotBeforeUpdate||"function"!==
typeof Ba.UNSAFE_componentWillMount&&"function"!==typeof Ba.componentWillMount||(h=Ba.state,"function"===typeof Ba.componentWillMount&&Ba.componentWillMount(),"function"===typeof Ba.UNSAFE_componentWillMount&&Ba.UNSAFE_componentWillMount(),h!==Ba.state&&vk.enqueueReplaceState(Ba,Ba.state,null),le(e,A,Ba,da),Ba.state=e.memoizedState);"function"===typeof Ba.componentDidMount&&(e.effectTag|=4)}function Le(e,h,A){e=A.ref;if(null!==e&&"function"!==typeof e&&"object"!==typeof e){if(A._owner){if(A=A._owner){if(1!==
A.tag)throw Error(n(309));var da=A.stateNode}if(!da)throw Error(n(147,e));var Ba=""+e;if(null!==h&&null!==h.ref&&"function"===typeof h.ref&&h.ref._stringRef===Ba)return h.ref;h=function(yb){var Jb=da.refs;Jb===fl&&(Jb=da.refs={});null===yb?delete Jb[Ba]:Jb[Ba]=yb};h._stringRef=Ba;return h}if("string"!==typeof e)throw Error(n(284));if(!A._owner)throw Error(n(290,e));}return e}function Ze(e,h){if("textarea"!==e.type)throw Error(n(31,"[object Object]"===Object.prototype.toString.call(h)?"object with keys {"+
Object.keys(h).join(", ")+"}":h,""));}function $f(e){function h(Vc,Lc){if(e){var jd=Vc.lastEffect;null!==jd?(jd.nextEffect=Lc,Vc.lastEffect=Lc):Vc.firstEffect=Vc.lastEffect=Lc;Lc.nextEffect=null;Lc.effectTag=8}}function A(Vc,Lc){if(!e)return null;for(;null!==Lc;)h(Vc,Lc),Lc=Lc.sibling;return null}function da(Vc,Lc){for(Vc=new Map;null!==Lc;)null!==Lc.key?Vc.set(Lc.key,Lc):Vc.set(Lc.index,Lc),Lc=Lc.sibling;return Vc}function Ba(Vc,Lc){Vc=Wh(Vc,Lc);Vc.index=0;Vc.sibling=null;return Vc}function yb(Vc,
Lc,jd){Vc.index=jd;if(!e)return Lc;jd=Vc.alternate;if(null!==jd)return jd=jd.index,jd<Lc?(Vc.effectTag=2,Lc):jd;Vc.effectTag=2;return Lc}function Jb(Vc){e&&null===Vc.alternate&&(Vc.effectTag=2);return Vc}function ic(Vc,Lc,jd,Gd){if(null===Lc||6!==Lc.tag)return Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function dd(Vc,Lc,jd,Gd){if(null!==Lc&&Lc.elementType===jd.type)return Gd=Ba(Lc,jd.props),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Gd;Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,
Gd);Gd.ref=Le(Vc,Lc,jd);Gd.return=Vc;return Gd}function Zc(Vc,Lc,jd,Gd){if(null===Lc||4!==Lc.tag||Lc.stateNode.containerInfo!==jd.containerInfo||Lc.stateNode.implementation!==jd.implementation)return Lc=qg(jd,Vc.mode,Gd),Lc.return=Vc,Lc;Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;return Lc}function Qd(Vc,Lc,jd,Gd,Ud){if(null===Lc||7!==Lc.tag)return Lc=eh(jd,Vc.mode,Gd,Ud),Lc.return=Vc,Lc;Lc=Ba(Lc,jd);Lc.return=Vc;return Lc}function Zd(Vc,Lc,jd){if("string"===typeof Lc||"number"===typeof Lc)return Lc=Ij(""+
Lc,Vc.mode,jd),Lc.return=Vc,Lc;if("object"===typeof Lc&&null!==Lc){switch(Lc.$$typeof){case qj:return jd=Ei(Lc.type,Lc.key,Lc.props,null,Vc.mode,jd),jd.ref=Le(Vc,null,Lc),jd.return=Vc,jd;case fi:return Lc=qg(Lc,Vc.mode,jd),Lc.return=Vc,Lc}if(wk(Lc)||La(Lc))return Lc=eh(Lc,Vc.mode,jd,null),Lc.return=Vc,Lc;Ze(Vc,Lc)}return null}function Df(Vc,Lc,jd,Gd){var Ud=null!==Lc?Lc.key:null;if("string"===typeof jd||"number"===typeof jd)return null!==Ud?null:ic(Vc,Lc,""+jd,Gd);if("object"===typeof jd&&null!==
jd){switch(jd.$$typeof){case qj:return jd.key===Ud?jd.type===ah?Qd(Vc,Lc,jd.props.children,Gd,Ud):dd(Vc,Lc,jd,Gd):null;case fi:return jd.key===Ud?Zc(Vc,Lc,jd,Gd):null}if(wk(jd)||La(jd))return null!==Ud?null:Qd(Vc,Lc,jd,Gd,null);Ze(Vc,jd)}return null}function Rf(Vc,Lc,jd,Gd,Ud){if("string"===typeof Gd||"number"===typeof Gd)return Vc=Vc.get(jd)||null,ic(Lc,Vc,""+Gd,Ud);if("object"===typeof Gd&&null!==Gd){switch(Gd.$$typeof){case qj:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Gd.type===ah?Qd(Lc,
Vc,Gd.props.children,Ud,Gd.key):dd(Lc,Vc,Gd,Ud);case fi:return Vc=Vc.get(null===Gd.key?jd:Gd.key)||null,Zc(Lc,Vc,Gd,Ud)}if(wk(Gd)||La(Gd))return Vc=Vc.get(jd)||null,Qd(Lc,Vc,Gd,Ud,null);Ze(Lc,Gd)}return null}function fg(Vc,Lc,jd,Gd){for(var Ud=null,qe=null,Ne=Lc,Hf=Lc=0,lg=null;null!==Ne&&Hf<jd.length;Hf++){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var pf=Df(Vc,Ne,jd[Hf],Gd);if(null===pf){null===Ne&&(Ne=lg);break}e&&Ne&&null===pf.alternate&&h(Vc,Ne);Lc=yb(pf,Lc,Hf);null===qe?Ud=pf:qe.sibling=pf;qe=
pf;Ne=lg}if(Hf===jd.length)return A(Vc,Ne),Ud;if(null===Ne){for(;Hf<jd.length;Hf++)Ne=Zd(Vc,jd[Hf],Gd),null!==Ne&&(Lc=yb(Ne,Lc,Hf),null===qe?Ud=Ne:qe.sibling=Ne,qe=Ne);return Ud}for(Ne=da(Vc,Ne);Hf<jd.length;Hf++)lg=Rf(Ne,Vc,Hf,jd[Hf],Gd),null!==lg&&(e&&null!==lg.alternate&&Ne.delete(null===lg.key?Hf:lg.key),Lc=yb(lg,Lc,Hf),null===qe?Ud=lg:qe.sibling=lg,qe=lg);e&&Ne.forEach(function(ii){return h(Vc,ii)});return Ud}function Gg(Vc,Lc,jd,Gd){var Ud=La(jd);if("function"!==typeof Ud)throw Error(n(150));
jd=Ud.call(jd);if(null==jd)throw Error(n(151));for(var qe=Ud=null,Ne=Lc,Hf=Lc=0,lg=null,pf=jd.next();null!==Ne&&!pf.done;Hf++,pf=jd.next()){Ne.index>Hf?(lg=Ne,Ne=null):lg=Ne.sibling;var ii=Df(Vc,Ne,pf.value,Gd);if(null===ii){null===Ne&&(Ne=lg);break}e&&Ne&&null===ii.alternate&&h(Vc,Ne);Lc=yb(ii,Lc,Hf);null===qe?Ud=ii:qe.sibling=ii;qe=ii;Ne=lg}if(pf.done)return A(Vc,Ne),Ud;if(null===Ne){for(;!pf.done;Hf++,pf=jd.next())pf=Zd(Vc,pf.value,Gd),null!==pf&&(Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,
qe=pf);return Ud}for(Ne=da(Vc,Ne);!pf.done;Hf++,pf=jd.next())pf=Rf(Ne,Vc,Hf,pf.value,Gd),null!==pf&&(e&&null!==pf.alternate&&Ne.delete(null===pf.key?Hf:pf.key),Lc=yb(pf,Lc,Hf),null===qe?Ud=pf:qe.sibling=pf,qe=pf);e&&Ne.forEach(function(Ok){return h(Vc,Ok)});return Ud}return function(Vc,Lc,jd,Gd){var Ud="object"===typeof jd&&null!==jd&&jd.type===ah&&null===jd.key;Ud&&(jd=jd.props.children);var qe="object"===typeof jd&&null!==jd;if(qe)switch(jd.$$typeof){case qj:a:{qe=jd.key;for(Ud=Lc;null!==Ud;){if(Ud.key===
qe){switch(Ud.tag){case 7:if(jd.type===ah){A(Vc,Ud.sibling);Lc=Ba(Ud,jd.props.children);Lc.return=Vc;Vc=Lc;break a}break;default:if(Ud.elementType===jd.type){A(Vc,Ud.sibling);Lc=Ba(Ud,jd.props);Lc.ref=Le(Vc,Ud,jd);Lc.return=Vc;Vc=Lc;break a}}A(Vc,Ud);break}else h(Vc,Ud);Ud=Ud.sibling}jd.type===ah?(Lc=eh(jd.props.children,Vc.mode,Gd,jd.key),Lc.return=Vc,Vc=Lc):(Gd=Ei(jd.type,jd.key,jd.props,null,Vc.mode,Gd),Gd.ref=Le(Vc,Lc,jd),Gd.return=Vc,Vc=Gd)}return Jb(Vc);case fi:a:{for(Ud=jd.key;null!==Lc;){if(Lc.key===
Ud)if(4===Lc.tag&&Lc.stateNode.containerInfo===jd.containerInfo&&Lc.stateNode.implementation===jd.implementation){A(Vc,Lc.sibling);Lc=Ba(Lc,jd.children||[]);Lc.return=Vc;Vc=Lc;break a}else{A(Vc,Lc);break}else h(Vc,Lc);Lc=Lc.sibling}Lc=qg(jd,Vc.mode,Gd);Lc.return=Vc;Vc=Lc}return Jb(Vc)}if("string"===typeof jd||"number"===typeof jd)return jd=""+jd,null!==Lc&&6===Lc.tag?(A(Vc,Lc.sibling),Lc=Ba(Lc,jd),Lc.return=Vc,Vc=Lc):(A(Vc,Lc),Lc=Ij(jd,Vc.mode,Gd),Lc.return=Vc,Vc=Lc),Jb(Vc);if(wk(jd))return fg(Vc,
Lc,jd,Gd);if(La(jd))return Gg(Vc,Lc,jd,Gd);qe&&Ze(Vc,jd);if("undefined"===typeof jd&&!Ud)switch(Vc.tag){case 1:case 0:throw Vc=Vc.type,Error(n(152,Vc.displayName||Vc.name||"Component"));}return A(Vc,Lc)}}function vf(e){if(e===Zj)throw Error(n(174));return e}function ag(e,h){Ac(ak,h);Ac(bk,e);Ac(ji,Zj);e=h.nodeType;switch(e){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:T(null,"");break;default:e=8===e?h.parentNode:h,h=e.namespaceURI||null,e=e.tagName,h=T(h,e)}Ee(ji);Ac(ji,h)}function df(){Ee(ji);
Ee(bk);Ee(ak)}function M(e){vf(ak.current);var h=vf(ji.current),A=T(h,e.type);h!==A&&(Ac(bk,e),Ac(ji,A))}function fa(e){bk.current===e&&(Ee(ji),Ee(bk))}function kb(e){for(var h=e;null!==h;){if(13===h.tag){var A=h.memoizedState;if(null!==A&&(A=A.dehydrated,null===A||A.data===Vj||A.data===Ai))return h}else if(19===h.tag&&void 0!==h.memoizedProps.revealOrder){if(0!==(h.effectTag&64))return h}else if(null!==h.child){h.child.return=h;h=h.child;continue}if(h===e)break;for(;null===h.sibling;){if(null===
h.return||h.return===e)return null;h=h.return}h.sibling.return=h.return;h=h.sibling}return null}function Qb(e,h){return{responder:e,props:h}}function Mb(){throw Error(n(321));}function bc(e,h){if(null===h)return!1;for(var A=0;A<h.length&&A<e.length;A++)if(!ra(e[A],h[A]))return!1;return!0}function jc(e,h,A,da,Ba,yb){ki=yb;tg=h;h.memoizedState=null;h.updateQueue=null;h.expirationTime=0;xk.current=null===e||null===e.memoizedState?Jj:ck;e=A(da,Ba);if(h.expirationTime===ki){yb=0;do{h.expirationTime=0;
if(!(25>yb))throw Error(n(301));yb+=1;Rg=Sg=null;h.updateQueue=null;xk.current=Kj;e=A(da,Ba)}while(h.expirationTime===ki)}xk.current=te;h=null!==Sg&&null!==Sg.next;ki=0;Rg=Sg=tg=null;yk=!1;if(h)throw Error(n(300));return e}function Qc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e;return Rg}function Kc(){if(null===Sg){var e=tg.alternate;e=null!==e?e.memoizedState:null}else e=Sg.next;var h=null===Rg?tg.memoizedState:Rg.next;
if(null!==h)Rg=h,Sg=e;else{if(null===e)throw Error(n(310));Sg=e;e={memoizedState:Sg.memoizedState,baseState:Sg.baseState,baseQueue:Sg.baseQueue,queue:Sg.queue,next:null};null===Rg?tg.memoizedState=Rg=e:Rg=Rg.next=e}return Rg}function ad(e,h){return"function"===typeof h?h(e):h}function ud(e){var h=Kc(),A=h.queue;if(null===A)throw Error(n(311));A.lastRenderedReducer=e;var da=Sg,Ba=da.baseQueue,yb=A.pending;if(null!==yb){if(null!==Ba){var Jb=Ba.next;Ba.next=yb.next;yb.next=Jb}da.baseQueue=Ba=yb;A.pending=
null}if(null!==Ba){Ba=Ba.next;da=da.baseState;var ic=Jb=yb=null,dd=Ba;do{var Zc=dd.expirationTime;if(Zc<ki){var Qd={expirationTime:dd.expirationTime,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,next:null};null===ic?(Jb=ic=Qd,yb=da):ic=ic.next=Qd;Zc>tg.expirationTime&&(tg.expirationTime=Zc,Yf(Zc))}else null!==ic&&(ic=ic.next={expirationTime:1073741823,suspenseConfig:dd.suspenseConfig,action:dd.action,eagerReducer:dd.eagerReducer,eagerState:dd.eagerState,
next:null}),kg(Zc,dd.suspenseConfig),da=dd.eagerReducer===e?dd.eagerState:e(da,dd.action);dd=dd.next}while(null!==dd&&dd!==Ba);null===ic?yb=da:ic.next=Jb;ra(da,h.memoizedState)||(dh=!0);h.memoizedState=da;h.baseState=yb;h.baseQueue=ic;A.lastRenderedState=da}return[h.memoizedState,A.dispatch]}function Nd(e){var h=Kc(),A=h.queue;if(null===A)throw Error(n(311));A.lastRenderedReducer=e;var da=A.dispatch,Ba=A.pending,yb=h.memoizedState;if(null!==Ba){A.pending=null;var Jb=Ba=Ba.next;do yb=e(yb,Jb.action),
Jb=Jb.next;while(Jb!==Ba);ra(yb,h.memoizedState)||(dh=!0);h.memoizedState=yb;null===h.baseQueue&&(h.baseState=yb);A.lastRenderedState=yb}return[yb,da]}function Td(e){var h=Qc();"function"===typeof e&&(e=e());h.memoizedState=h.baseState=e;e=h.queue={pending:null,dispatch:null,lastRenderedReducer:ad,lastRenderedState:e};e=e.dispatch=P.bind(null,tg,e);return[h.memoizedState,e]}function Bd(e,h,A,da){e={tag:e,create:h,destroy:A,deps:da,next:null};h=tg.updateQueue;null===h?(h={lastEffect:null},tg.updateQueue=
h,h.lastEffect=e.next=e):(A=h.lastEffect,null===A?h.lastEffect=e.next=e:(da=A.next,A.next=e,e.next=da,h.lastEffect=e));return e}function af(){return Kc().memoizedState}function Pd(e,h,A,da){var Ba=Qc();tg.effectTag|=e;Ba.memoizedState=Bd(1|h,A,void 0,void 0===da?null:da)}function Fe(e,h,A,da){var Ba=Kc();da=void 0===da?null:da;var yb=void 0;if(null!==Sg){var Jb=Sg.memoizedState;yb=Jb.destroy;if(null!==da&&bc(da,Jb.deps)){Bd(h,A,yb,da);return}}tg.effectTag|=e;Ba.memoizedState=Bd(1|h,A,yb,da)}function he(e,
h){return Pd(516,4,e,h)}function ze(e,h){return Fe(516,4,e,h)}function Sf(e,h){return Fe(4,2,e,h)}function be(e,h){if("function"===typeof h)return e=e(),h(e),function(){h(null)};if(null!==h&&void 0!==h)return e=e(),h.current=e,function(){h.current=null}}function wf(e,h,A){A=null!==A&&void 0!==A?A.concat([e]):null;return Fe(4,2,be.bind(null,h,e),A)}function Ce(){}function Kf(e,h){Qc().memoizedState=[e,void 0===h?null:h];return e}function ef(e,h){var A=Kc();h=void 0===h?null:h;var da=A.memoizedState;
if(null!==da&&null!==h&&bc(h,da[1]))return da[0];A.memoizedState=[e,h];return e}function gg(e,h){var A=Kc();h=void 0===h?null:h;var da=A.memoizedState;if(null!==da&&null!==h&&bc(h,da[1]))return da[0];e=e();A.memoizedState=[e,h];return e}function O(e,h,A){var da=kf();Pe(98>da?98:da,function(){e(!0)});Pe(97<da?97:da,function(){var Ba=fh.suspense;fh.suspense=void 0===h?null:h;try{e(!1),A()}finally{fh.suspense=Ba}})}function P(e,h,A){var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba={expirationTime:da,suspenseConfig:Ba,
action:A,eagerReducer:null,eagerState:null,next:null};var yb=h.pending;null===yb?Ba.next=Ba:(Ba.next=yb.next,yb.next=Ba);h.pending=Ba;yb=e.alternate;if(e===tg||null!==yb&&yb===tg)yk=!0,Ba.expirationTime=ki,tg.expirationTime=ki;else{if(0===e.expirationTime&&(null===yb||0===yb.expirationTime)&&(yb=h.lastRenderedReducer,null!==yb))try{var Jb=h.lastRenderedState,ic=yb(Jb,A);Ba.eagerReducer=yb;Ba.eagerState=ic;if(ra(ic,Jb))return}catch(dd){}finally{}nd(e,da)}}function aa(e,h){var A=Mg(5,null,null,0);A.elementType=
"DELETED";A.type="DELETED";A.stateNode=h;A.return=e;A.effectTag=8;null!==e.lastEffect?(e.lastEffect.nextEffect=A,e.lastEffect=A):e.firstEffect=e.lastEffect=A}function ja(e,h){switch(e.tag){case 5:var A=e.type;h=1!==h.nodeType||A.toLowerCase()!==h.nodeName.toLowerCase()?null:h;return null!==h?(e.stateNode=h,!0):!1;case 6:return h=""===e.pendingProps||3!==h.nodeType?null:h,null!==h?(e.stateNode=h,!0):!1;case 13:return!1;default:return!1}}function ya(e){if(td){var h=If;if(h){var A=h;if(!ja(e,h)){h=kc(A.nextSibling);
if(!h||!ja(e,h)){e.effectTag=e.effectTag&-1025|2;td=!1;Ve=e;return}aa(Ve,A)}Ve=e;If=kc(h.firstChild)}else e.effectTag=e.effectTag&-1025|2,td=!1,Ve=e}}function Ea(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ve=e}function ab(e){if(e!==Ve)return!1;if(!td)return Ea(e),td=!0,!1;var h=e.type;if(5!==e.tag||"head"!==h&&"body"!==h&&!sc(h,e.memoizedProps))for(h=If;h;)aa(e,h),h=kc(h.nextSibling);Ea(e);if(13===e.tag){e=e.memoizedState;e=null!==e?e.dehydrated:null;if(!e)throw Error(n(317));
a:{e=e.nextSibling;for(h=0;e;){if(8===e.nodeType){var A=e.data;if(A===Si){if(0===h){If=kc(e.nextSibling);break a}h--}else A!==lh&&A!==Ai&&A!==Vj||h++}e=e.nextSibling}If=null}}else If=Ve?kc(e.stateNode.nextSibling):null;return!0}function tb(e,h,A,da){h.child=null===e?Pk(h,null,A,da):Xi(h,e.child,A,da)}function pb(e,h,A,da,Ba){A=A.render;var yb=h.ref;uc(h,Ba);da=jc(e,h,A,da,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),gc(e,h,
Ba);h.effectTag|=1;tb(e,h,da,Ba);return h.child}function Ab(e,h,A,da,Ba,yb){if(null===e){var Jb=A.type;if("function"===typeof Jb&&!Lj(Jb)&&void 0===Jb.defaultProps&&null===A.compare&&void 0===A.defaultProps)return h.tag=15,h.type=Jb,Eb(e,h,Jb,da,Ba,yb);e=Ei(A.type,null,da,null,h.mode,yb);e.ref=h.ref;e.return=h;return h.child=e}Jb=e.child;if(Ba<yb&&(Ba=Jb.memoizedProps,A=A.compare,A=null!==A?A:De,A(Ba,da)&&e.ref===h.ref))return gc(e,h,yb);h.effectTag|=1;e=Wh(Jb,da);e.ref=h.ref;e.return=h;return h.child=
e}function Eb(e,h,A,da,Ba,yb){return null!==e&&De(e.memoizedProps,da)&&e.ref===h.ref&&(dh=!1,Ba<yb)?(h.expirationTime=e.expirationTime,gc(e,h,yb)):pc(e,h,A,da,yb)}function Yb(e,h){var A=h.ref;if(null===e&&null!==A||null!==e&&e.ref!==A)h.effectTag|=128}function pc(e,h,A,da,Ba){var yb=Xd(A)?Vi:mg.current;yb=Be(h,yb);uc(h,Ba);A=jc(e,h,A,da,yb,Ba);if(null!==e&&!dh)return h.updateQueue=e.updateQueue,h.effectTag&=-517,e.expirationTime<=Ba&&(e.expirationTime=0),gc(e,h,Ba);h.effectTag|=1;tb(e,h,A,Ba);return h.child}
function u(e,h,A,da,Ba){if(Xd(A)){var yb=!0;Ke(h)}else yb=!1;uc(h,Ba);if(null===h.stateNode)null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),Zf(h,A,da),Ue(h,A,da,Ba),da=!0;else if(null===e){var Jb=h.stateNode,ic=h.memoizedProps;Jb.props=ic;var dd=Jb.context,Zc=A.contextType;"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(A)?Vi:mg.current,Zc=Be(h,Zc));var Qd=A.getDerivedStateFromProps,Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate;Zd||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&
"function"!==typeof Jb.componentWillReceiveProps||(ic!==da||dd!==Zc)&&pd(h,Jb,da,Zc);Wi=!1;var Df=h.memoizedState;Jb.state=Df;le(h,da,Jb,Ba);dd=h.memoizedState;ic!==da||Df!==dd||Dg.current||Wi?("function"===typeof Qd&&(Me(h,A,Qd,da),dd=h.memoizedState),(ic=Wi||uf(h,A,ic,da,Df,dd,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillMount&&"function"!==typeof Jb.componentWillMount||("function"===typeof Jb.componentWillMount&&Jb.componentWillMount(),"function"===typeof Jb.UNSAFE_componentWillMount&&
Jb.UNSAFE_componentWillMount()),"function"===typeof Jb.componentDidMount&&(h.effectTag|=4)):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),h.memoizedProps=da,h.memoizedState=dd),Jb.props=da,Jb.state=dd,Jb.context=Zc,da=ic):("function"===typeof Jb.componentDidMount&&(h.effectTag|=4),da=!1)}else Jb=h.stateNode,fd(e,h),ic=h.memoizedProps,Jb.props=h.type===h.elementType?ic:Vb(h.type,ic),dd=Jb.context,Zc=A.contextType,"object"===typeof Zc&&null!==Zc?Zc=Fc(Zc):(Zc=Xd(A)?Vi:mg.current,Zc=Be(h,
Zc)),Qd=A.getDerivedStateFromProps,(Zd="function"===typeof Qd||"function"===typeof Jb.getSnapshotBeforeUpdate)||"function"!==typeof Jb.UNSAFE_componentWillReceiveProps&&"function"!==typeof Jb.componentWillReceiveProps||(ic!==da||dd!==Zc)&&pd(h,Jb,da,Zc),Wi=!1,dd=h.memoizedState,Jb.state=dd,le(h,da,Jb,Ba),Df=h.memoizedState,ic!==da||dd!==Df||Dg.current||Wi?("function"===typeof Qd&&(Me(h,A,Qd,da),Df=h.memoizedState),(Qd=Wi||uf(h,A,ic,da,dd,Df,Zc))?(Zd||"function"!==typeof Jb.UNSAFE_componentWillUpdate&&
"function"!==typeof Jb.componentWillUpdate||("function"===typeof Jb.componentWillUpdate&&Jb.componentWillUpdate(da,Df,Zc),"function"===typeof Jb.UNSAFE_componentWillUpdate&&Jb.UNSAFE_componentWillUpdate(da,Df,Zc)),"function"===typeof Jb.componentDidUpdate&&(h.effectTag|=4),"function"===typeof Jb.getSnapshotBeforeUpdate&&(h.effectTag|=256)):("function"!==typeof Jb.componentDidUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||ic===e.memoizedProps&&
dd===e.memoizedState||(h.effectTag|=256),h.memoizedProps=da,h.memoizedState=Df),Jb.props=da,Jb.state=Df,Jb.context=Zc,da=Qd):("function"!==typeof Jb.componentDidUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=4),"function"!==typeof Jb.getSnapshotBeforeUpdate||ic===e.memoizedProps&&dd===e.memoizedState||(h.effectTag|=256),da=!1);return F(e,h,A,da,yb,Ba)}function F(e,h,A,da,Ba,yb){Yb(e,h);var Jb=0!==(h.effectTag&64);if(!da&&!Jb)return Ba&&Cf(h,A,!1),gc(e,h,yb);da=h.stateNode;Fi.current=
h;var ic=Jb&&"function"!==typeof A.getDerivedStateFromError?null:da.render();h.effectTag|=1;null!==e&&Jb?(h.child=Xi(h,e.child,null,yb),h.child=Xi(h,null,ic,yb)):tb(e,h,ic,yb);h.memoizedState=da.state;Ba&&Cf(h,A,!0);return h.child}function ca(e){var h=e.stateNode;h.pendingContext?Je(e,h.pendingContext,h.pendingContext!==h.context):h.context&&Je(e,h.context,!1);ag(e,h.containerInfo)}function na(e,h,A){var da=h.mode,Ba=h.pendingProps,yb=rg.current,Jb=!1,ic;(ic=0!==(h.effectTag&64))||(ic=0!==(yb&2)&&
(null===e||null!==e.memoizedState));ic?(Jb=!0,h.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===Ba.fallback||!0===Ba.unstable_avoidThisFallback||(yb|=1);Ac(rg,yb&1);if(null===e){void 0!==Ba.fallback&&ya(h);if(Jb){Jb=Ba.fallback;Ba=eh(null,da,0,null);Ba.return=h;if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;A=eh(Jb,da,A,null);A.return=h;Ba.sibling=A;h.memoizedState=zk;h.child=Ba;return A}da=Ba.children;h.memoizedState=null;
return h.child=Pk(h,null,da,A)}if(null!==e.memoizedState){e=e.child;da=e.sibling;if(Jb){Ba=Ba.fallback;A=Wh(e,e.pendingProps);A.return=h;if(0===(h.mode&2)&&(Jb=null!==h.memoizedState?h.child.child:h.child,Jb!==e.child))for(A.child=Jb;null!==Jb;)Jb.return=A,Jb=Jb.sibling;da=Wh(da,Ba);da.return=h;A.sibling=da;A.childExpirationTime=0;h.memoizedState=zk;h.child=A;return da}A=Xi(h,e.child,Ba.children,A);h.memoizedState=null;return h.child=A}e=e.child;if(Jb){Jb=Ba.fallback;Ba=eh(null,da,0,null);Ba.return=
h;Ba.child=e;null!==e&&(e.return=Ba);if(0===(h.mode&2))for(e=null!==h.memoizedState?h.child.child:h.child,Ba.child=e;null!==e;)e.return=Ba,e=e.sibling;A=eh(Jb,da,A,null);A.return=h;Ba.sibling=A;A.effectTag|=2;Ba.childExpirationTime=0;h.memoizedState=zk;h.child=Ba;return A}h.memoizedState=null;return h.child=Xi(h,e,Ba.children,A)}function lb(e,h){e.expirationTime<h&&(e.expirationTime=h);var A=e.alternate;null!==A&&A.expirationTime<h&&(A.expirationTime=h);Gc(e.return,h)}function Ib(e,h,A,da,Ba,yb){var Jb=
e.memoizedState;null===Jb?e.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:da,tail:A,tailExpiration:0,tailMode:Ba,lastEffect:yb}:(Jb.isBackwards=h,Jb.rendering=null,Jb.renderingStartTime=0,Jb.last=da,Jb.tail=A,Jb.tailExpiration=0,Jb.tailMode=Ba,Jb.lastEffect=yb)}function Sb(e,h,A){var da=h.pendingProps,Ba=da.revealOrder,yb=da.tail;tb(e,h,da.children,A);da=rg.current;if(0!==(da&2))da=da&1|2,h.effectTag|=64;else{if(null!==e&&0!==(e.effectTag&64))a:for(e=h.child;null!==e;){if(13===
e.tag)null!==e.memoizedState&&lb(e,A);else if(19===e.tag)lb(e,A);else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===h)break a;for(;null===e.sibling;){if(null===e.return||e.return===h)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}da&=1}Ac(rg,da);if(0===(h.mode&2))h.memoizedState=null;else switch(Ba){case "forwards":A=h.child;for(Ba=null;null!==A;)e=A.alternate,null!==e&&null===kb(e)&&(Ba=A),A=A.sibling;A=Ba;null===A?(Ba=h.child,h.child=null):(Ba=A.sibling,A.sibling=null);
Ib(h,!1,Ba,A,yb,h.lastEffect);break;case "backwards":A=null;Ba=h.child;for(h.child=null;null!==Ba;){e=Ba.alternate;if(null!==e&&null===kb(e)){h.child=Ba;break}e=Ba.sibling;Ba.sibling=A;A=Ba;Ba=e}Ib(h,!0,A,null,yb,h.lastEffect);break;case "together":Ib(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function gc(e,h,A){null!==e&&(h.dependencies=e.dependencies);var da=h.expirationTime;0!==da&&Yf(da);if(h.childExpirationTime<A)return null;if(null!==e&&h.child!==e.child)throw Error(n(153));
if(null!==h.child){e=h.child;A=Wh(e,e.pendingProps);h.child=A;for(A.return=h;null!==e.sibling;)e=e.sibling,A=A.sibling=Wh(e,e.pendingProps),A.return=h;A.sibling=null}return h.child}function zc(e,h){switch(e.tailMode){case "hidden":h=e.tail;for(var A=null;null!==h;)null!==h.alternate&&(A=h),h=h.sibling;null===A?e.tail=null:A.sibling=null;break;case "collapsed":A=e.tail;for(var da=null;null!==A;)null!==A.alternate&&(da=A),A=A.sibling;null===da?h||null===e.tail?e.tail=null:e.tail.sibling=null:da.sibling=
null}}function Tc(e,h,A){var da=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Xd(h.type)&&cc(),null;case 3:return df(),Ee(Dg),Ee(mg),A=h.stateNode,A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),null!==e&&null!==e.child||!ab(h)||(h.effectTag|=4),Qk(h),null;case 5:fa(h);A=vf(ak.current);var Ba=h.type;if(null!==e&&null!=h.stateNode)Al(e,h,Ba,da,A),e.ref!==h.ref&&(h.effectTag|=128);else{if(!da){if(null===
h.stateNode)throw Error(n(166));return null}e=vf(ji.current);if(ab(h)){da=h.stateNode;Ba=h.type;var yb=h.memoizedProps;da[mh]=h;da[Qg]=yb;switch(Ba){case "iframe":case "object":case "embed":Nc("load",da);break;case "video":case "audio":for(e=0;e<yh.length;e++)Nc(yh[e],da);break;case "source":Nc("error",da);break;case "img":case "image":case "link":Nc("error",da);Nc("load",da);break;case "form":Nc("reset",da);Nc("submit",da);break;case "details":Nc("toggle",da);break;case "input":z(da,yb);Nc("invalid",
da);vd(A,"onChange");break;case "select":da._wrapperState={wasMultiple:!!yb.multiple};Nc("invalid",da);vd(A,"onChange");break;case "textarea":U(da,yb),Nc("invalid",da),vd(A,"onChange")}ac(Ba,yb);e=null;for(var Jb in yb)if(yb.hasOwnProperty(Jb)){var ic=yb[Jb];"children"===Jb?"string"===typeof ic?da.textContent!==ic&&(e=["children",ic]):"number"===typeof ic&&da.textContent!==""+ic&&(e=["children",""+ic]):qi.hasOwnProperty(Jb)&&null!=ic&&vd(A,Jb)}switch(Ba){case "input":nb(da);J(da,yb,!0);break;case "textarea":nb(da);
ua(da);break;case "select":case "option":break;default:"function"===typeof yb.onClick&&(da.onclick=de)}A=e;h.updateQueue=A;null!==A&&(h.effectTag|=4)}else{Jb=9===A.nodeType?A:A.ownerDocument;"http://www.w3.org/1999/xhtml"===e&&(e=la(Ba));"http://www.w3.org/1999/xhtml"===e?"script"===Ba?(e=Jb.createElement("div"),e.innerHTML="\x3cscript\x3e\x3c/script\x3e",e=e.removeChild(e.firstChild)):"string"===typeof da.is?e=Jb.createElement(Ba,{is:da.is}):(e=Jb.createElement(Ba),"select"===Ba&&(Jb=e,da.multiple?
Jb.multiple=!0:da.size&&(Jb.size=da.size))):e=Jb.createElementNS(e,Ba);e[mh]=h;e[Qg]=da;gl(e,h,!1,!1);h.stateNode=e;Jb=rd(Ba,da);switch(Ba){case "iframe":case "object":case "embed":Nc("load",e);ic=da;break;case "video":case "audio":for(ic=0;ic<yh.length;ic++)Nc(yh[ic],e);ic=da;break;case "source":Nc("error",e);ic=da;break;case "img":case "image":case "link":Nc("error",e);Nc("load",e);ic=da;break;case "form":Nc("reset",e);Nc("submit",e);ic=da;break;case "details":Nc("toggle",e);ic=da;break;case "input":z(e,
da);ic=S(e,da);Nc("invalid",e);vd(A,"onChange");break;case "option":ic=ma(e,da);break;case "select":e._wrapperState={wasMultiple:!!da.multiple};ic=Ag({},da,{value:void 0});Nc("invalid",e);vd(A,"onChange");break;case "textarea":U(e,da);ic=Ua(e,da);Nc("invalid",e);vd(A,"onChange");break;default:ic=da}ac(Ba,ic);var dd=ic;for(yb in dd)if(dd.hasOwnProperty(yb)){var Zc=dd[yb];"style"===yb?vb(e,Zc):"dangerouslySetInnerHTML"===yb?(Zc=Zc?Zc.__html:void 0,null!=Zc&&bg(e,Zc)):"children"===yb?"string"===typeof Zc?
("textarea"!==Ba||""!==Zc)&&v(e,Zc):"number"===typeof Zc&&v(e,""+Zc):"suppressContentEditableWarning"!==yb&&"suppressHydrationWarning"!==yb&&"autoFocus"!==yb&&(qi.hasOwnProperty(yb)?null!=Zc&&vd(A,yb):null!=Zc&&bb(e,yb,Zc,Jb))}switch(Ba){case "input":nb(e);J(e,da,!1);break;case "textarea":nb(e);ua(e);break;case "option":null!=da.value&&e.setAttribute("value",""+Ya(da.value));break;case "select":e.multiple=!!da.multiple;A=da.value;null!=A?Qa(e,!!da.multiple,A,!1):null!=da.defaultValue&&Qa(e,!!da.multiple,
da.defaultValue,!0);break;default:"function"===typeof ic.onClick&&(e.onclick=de)}Gb(Ba,da)&&(h.effectTag|=4)}null!==h.ref&&(h.effectTag|=128)}return null;case 6:if(e&&null!=h.stateNode)hl(e,h,e.memoizedProps,da);else{if("string"!==typeof da&&null===h.stateNode)throw Error(n(166));A=vf(ak.current);vf(ji.current);ab(h)?(A=h.stateNode,da=h.memoizedProps,A[mh]=h,A.nodeValue!==da&&(h.effectTag|=4)):(A=(9===A.nodeType?A:A.ownerDocument).createTextNode(da),A[mh]=h,h.stateNode=A)}return null;case 13:Ee(rg);
da=h.memoizedState;if(0!==(h.effectTag&64))return h.expirationTime=A,h;A=null!==da;da=!1;null===e?void 0!==h.memoizedProps.fallback&&ab(h):(Ba=e.memoizedState,da=null!==Ba,A||null===Ba||(Ba=e.child.sibling,null!==Ba&&(yb=h.firstEffect,null!==yb?(h.firstEffect=Ba,Ba.nextEffect=yb):(h.firstEffect=h.lastEffect=Ba,Ba.nextEffect=null),Ba.effectTag=8)));if(A&&!da&&0!==(h.mode&2))if(null===e&&!0!==h.memoizedProps.unstable_avoidThisFallback||0!==(rg.current&1))Hg===rj&&(Hg=Yg);else{if(Hg===rj||Hg===Yg)Hg=
sj;0!==Tg&&null!==oh&&(ph(oh,gh),wg(oh,Tg))}if(A||da)h.effectTag|=4;return null;case 4:return df(),Qk(h),null;case 10:return mc(h),null;case 17:return Xd(h.type)&&cc(),null;case 19:Ee(rg);da=h.memoizedState;if(null===da)return null;Ba=0!==(h.effectTag&64);yb=da.rendering;if(null===yb)if(Ba)zc(da,!1);else{if(Hg!==rj||null!==e&&0!==(e.effectTag&64))for(yb=h.child;null!==yb;){e=kb(yb);if(null!==e){h.effectTag|=64;zc(da,!1);Ba=e.updateQueue;null!==Ba&&(h.updateQueue=Ba,h.effectTag|=4);null===da.lastEffect&&
(h.firstEffect=null);h.lastEffect=da.lastEffect;for(da=h.child;null!==da;)Ba=da,yb=A,Ba.effectTag&=2,Ba.nextEffect=null,Ba.firstEffect=null,Ba.lastEffect=null,e=Ba.alternate,null===e?(Ba.childExpirationTime=0,Ba.expirationTime=yb,Ba.child=null,Ba.memoizedProps=null,Ba.memoizedState=null,Ba.updateQueue=null,Ba.dependencies=null):(Ba.childExpirationTime=e.childExpirationTime,Ba.expirationTime=e.expirationTime,Ba.child=e.child,Ba.memoizedProps=e.memoizedProps,Ba.memoizedState=e.memoizedState,Ba.updateQueue=
e.updateQueue,yb=e.dependencies,Ba.dependencies=null===yb?null:{expirationTime:yb.expirationTime,firstContext:yb.firstContext,responders:yb.responders}),da=da.sibling;Ac(rg,rg.current&1|2);return h.child}yb=yb.sibling}}else{if(!Ba)if(e=kb(yb),null!==e){if(h.effectTag|=64,Ba=!0,A=e.updateQueue,null!==A&&(h.updateQueue=A,h.effectTag|=4),zc(da,!0),null===da.tail&&"hidden"===da.tailMode&&!yb.alternate)return h=h.lastEffect=da.lastEffect,null!==h&&(h.nextEffect=null),null}else 2*hh()-da.renderingStartTime>
da.tailExpiration&&1<A&&(h.effectTag|=64,Ba=!0,zc(da,!1),h.expirationTime=h.childExpirationTime=A-1);da.isBackwards?(yb.sibling=h.child,h.child=yb):(A=da.last,null!==A?A.sibling=yb:h.child=yb,da.last=yb)}return null!==da.tail?(0===da.tailExpiration&&(da.tailExpiration=hh()+500),A=da.tail,da.rendering=A,da.tail=A.sibling,da.lastEffect=h.lastEffect,da.renderingStartTime=hh(),A.sibling=null,h=rg.current,Ac(rg,Ba?h&1|2:h&1),A):null}throw Error(n(156,h.tag));}function Rc(e){switch(e.tag){case 1:Xd(e.type)&&
cc();var h=e.effectTag;return h&4096?(e.effectTag=h&-4097|64,e):null;case 3:df();Ee(Dg);Ee(mg);h=e.effectTag;if(0!==(h&64))throw Error(n(285));e.effectTag=h&-4097|64;return e;case 5:return fa(e),null;case 13:return Ee(rg),h=e.effectTag,h&4096?(e.effectTag=h&-4097|64,e):null;case 19:return Ee(rg),null;case 4:return df(),null;case 10:return mc(e),null;default:return null}}function yd(e,h){return{value:e,source:h,stack:Ra(h)}}function Md(e,h){var A=h.source,da=h.stack;null===da&&null!==A&&(da=Ra(A));
null!==A&&Aa(A.type);h=h.value;null!==e&&1===e.tag&&Aa(e.type);try{console.error(h)}catch(Ba){setTimeout(function(){throw Ba;})}}function bd(e,h){try{h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(A){Xh(e,A)}}function Sd(e){var h=e.ref;if(null!==h)if("function"===typeof h)try{h(null)}catch(A){Xh(e,A)}else h.current=null}function je(e,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(h.effectTag&256&&null!==e){var A=e.memoizedProps,da=e.memoizedState;
e=h.stateNode;h=e.getSnapshotBeforeUpdate(h.elementType===h.type?A:Vb(h.type,A),da);e.__reactInternalSnapshotBeforeUpdate=h}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(n(163));}function We(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var A=h=h.next;do{if((A.tag&e)===e){var da=A.destroy;A.destroy=void 0;void 0!==da&&da()}A=A.next}while(A!==h)}}function pa(e,h){h=h.updateQueue;h=null!==h?h.lastEffect:null;if(null!==h){var A=h=h.next;do{if((A.tag&e)===e){var da=A.create;
A.destroy=da()}A=A.next}while(A!==h)}}function Pa(e,h,A){switch(A.tag){case 0:case 11:case 15:case 22:pa(3,A);return;case 1:e=A.stateNode;if(A.effectTag&4)if(null===h)e.componentDidMount();else{var da=A.elementType===A.type?h.memoizedProps:Vb(A.type,h.memoizedProps);e.componentDidUpdate(da,h.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}h=A.updateQueue;null!==h&&Te(A,h,e);return;case 3:h=A.updateQueue;if(null!==h){e=null;if(null!==A.child)switch(A.child.tag){case 5:e=A.child.stateNode;break;
case 1:e=A.child.stateNode}Te(A,h,e)}return;case 5:e=A.stateNode;null===h&&A.effectTag&4&&Gb(A.type,A.memoizedProps)&&e.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===A.memoizedState&&(A=A.alternate,null!==A&&(A=A.memoizedState,null!==A&&(A=A.dehydrated,null!==A&&Xc(A))));return;case 19:case 17:case 20:case 21:return}throw Error(n(163));}function qb(e,h,A){"function"===typeof Ak&&Ak(h);switch(h.tag){case 0:case 11:case 14:case 15:case 22:e=h.updateQueue;if(null!==e&&(e=e.lastEffect,
null!==e)){var da=e.next;Pe(97<A?97:A,function(){var Ba=da;do{var yb=Ba.destroy;if(void 0!==yb){var Jb=h;try{yb()}catch(ic){Xh(Jb,ic)}}Ba=Ba.next}while(Ba!==da)})}break;case 1:Sd(h);A=h.stateNode;"function"===typeof A.componentWillUnmount&&bd(h,A);break;case 5:Sd(h);break;case 4:ia(e,h,A)}}function Cb(e){var h=e.alternate;e.return=null;e.child=null;e.memoizedState=null;e.updateQueue=null;e.dependencies=null;e.alternate=null;e.firstEffect=null;e.lastEffect=null;e.pendingProps=null;e.memoizedProps=
null;e.stateNode=null;null!==h&&Cb(h)}function Ub(e){return 5===e.tag||3===e.tag||4===e.tag}function c(e){a:{for(var h=e.return;null!==h;){if(Ub(h)){var A=h;break a}h=h.return}throw Error(n(160));}h=A.stateNode;switch(A.tag){case 5:var da=!1;break;case 3:h=h.containerInfo;da=!0;break;case 4:h=h.containerInfo;da=!0;break;default:throw Error(n(161));}A.effectTag&16&&(v(h,""),A.effectTag&=-17);A=e;a:b:for(;;){for(;null===A.sibling;){if(null===A.return||Ub(A.return)){A=null;break a}A=A.return}A.sibling.return=
A.return;for(A=A.sibling;5!==A.tag&&6!==A.tag&&18!==A.tag;){if(A.effectTag&2)continue b;if(null===A.child||4===A.tag)continue b;else A.child.return=A,A=A.child}if(!(A.effectTag&2)){A=A.stateNode;break a}}da?m(e,A,h):G(e,A,h)}function m(e,h,A){var da=e.tag,Ba=5===da||6===da;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?8===A.nodeType?A.parentNode.insertBefore(e,h):A.insertBefore(e,h):(8===A.nodeType?(h=A.parentNode,h.insertBefore(e,A)):(h=A,h.appendChild(e)),A=A._reactRootContainer,null!==A&&void 0!==
A||null!==h.onclick||(h.onclick=de));else if(4!==da&&(e=e.child,null!==e))for(m(e,h,A),e=e.sibling;null!==e;)m(e,h,A),e=e.sibling}function G(e,h,A){var da=e.tag,Ba=5===da||6===da;if(Ba)e=Ba?e.stateNode:e.stateNode.instance,h?A.insertBefore(e,h):A.appendChild(e);else if(4!==da&&(e=e.child,null!==e))for(G(e,h,A),e=e.sibling;null!==e;)G(e,h,A),e=e.sibling}function ia(e,h,A){for(var da=h,Ba=!1,yb,Jb;;){if(!Ba){Ba=da.return;a:for(;;){if(null===Ba)throw Error(n(160));yb=Ba.stateNode;switch(Ba.tag){case 5:Jb=
!1;break a;case 3:yb=yb.containerInfo;Jb=!0;break a;case 4:yb=yb.containerInfo;Jb=!0;break a}Ba=Ba.return}Ba=!0}if(5===da.tag||6===da.tag){var ic=e,dd=da,Zc=A,Qd=dd;a:for(;;)if(qb(ic,Qd,Zc),null!==Qd.child&&4!==Qd.tag)Qd.child.return=Qd,Qd=Qd.child;else{if(Qd===dd)break a;for(;null===Qd.sibling;){if(null===Qd.return||Qd.return===dd)break a;Qd=Qd.return}Qd.sibling.return=Qd.return;Qd=Qd.sibling}Jb?(ic=yb,dd=da.stateNode,8===ic.nodeType?ic.parentNode.removeChild(dd):ic.removeChild(dd)):yb.removeChild(da.stateNode)}else if(4===
da.tag){if(null!==da.child){yb=da.stateNode.containerInfo;Jb=!0;da.child.return=da;da=da.child;continue}}else if(qb(e,da,A),null!==da.child){da.child.return=da;da=da.child;continue}if(da===h)break;for(;null===da.sibling;){if(null===da.return||da.return===h)return;da=da.return;4===da.tag&&(Ba=!1)}da.sibling.return=da.return;da=da.sibling}}function Ga(e,h){switch(h.tag){case 0:case 11:case 14:case 15:case 22:We(3,h);return;case 1:return;case 5:var A=h.stateNode;if(null!=A){var da=h.memoizedProps,Ba=
null!==e?e.memoizedProps:da;e=h.type;var yb=h.updateQueue;h.updateQueue=null;if(null!==yb){A[Qg]=da;"input"===e&&"radio"===da.type&&null!=da.name&&I(A,da);rd(e,Ba);h=rd(e,da);for(Ba=0;Ba<yb.length;Ba+=2){var Jb=yb[Ba],ic=yb[Ba+1];"style"===Jb?vb(A,ic):"dangerouslySetInnerHTML"===Jb?bg(A,ic):"children"===Jb?v(A,ic):bb(A,Jb,ic,h)}switch(e){case "input":Q(A,da);break;case "textarea":sa(A,da);break;case "select":h=A._wrapperState.wasMultiple,A._wrapperState.wasMultiple=!!da.multiple,e=da.value,null!=
e?Qa(A,!!da.multiple,e,!1):h!==!!da.multiple&&(null!=da.defaultValue?Qa(A,!!da.multiple,da.defaultValue,!0):Qa(A,!!da.multiple,da.multiple?[]:"",!1))}}}return;case 6:if(null===h.stateNode)throw Error(n(162));h.stateNode.nodeValue=h.memoizedProps;return;case 3:h=h.stateNode;h.hydrate&&(h.hydrate=!1,Xc(h.containerInfo));return;case 12:return;case 13:A=h;null===h.memoizedState?da=!1:(da=!0,A=h.child,Rk=hh());if(null!==A)a:for(e=A;;){if(5===e.tag)yb=e.stateNode,da?(yb=yb.style,"function"===typeof yb.setProperty?
yb.setProperty("display","none","important"):yb.display="none"):(yb=e.stateNode,Ba=e.memoizedProps.style,Ba=void 0!==Ba&&null!==Ba&&Ba.hasOwnProperty("display")?Ba.display:null,yb.style.display=Ma("display",Ba));else if(6===e.tag)e.stateNode.nodeValue=da?"":e.memoizedProps;else if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){yb=e.child.sibling;yb.return=e;e=yb;continue}else if(null!==e.child){e.child.return=e;e=e.child;continue}if(e===A)break;for(;null===e.sibling;){if(null===
e.return||e.return===A)break a;e=e.return}e.sibling.return=e.return;e=e.sibling}Pb(h);return;case 19:Pb(h);return;case 17:return}throw Error(n(163));}function Pb(e){var h=e.updateQueue;if(null!==h){e.updateQueue=null;var A=e.stateNode;null===A&&(A=e.stateNode=new il);h.forEach(function(da){var Ba=Yi.bind(null,e,da);A.has(da)||(A.add(da),da.then(Ba,Ba))})}}function Tb(e,h,A){A=se(A,null);A.tag=3;A.payload={element:null};var da=h.value;A.callback=function(){Bk||(Bk=!0,Yh=da);Md(e,h)};return A}function dc(e,
h,A){A=se(A,null);A.tag=3;var da=e.type.getDerivedStateFromError;if("function"===typeof da){var Ba=h.value;A.payload=function(){Md(e,h);return da(Ba)}}var yb=e.stateNode;null!==yb&&"function"===typeof yb.componentDidCatch&&(A.callback=function(){"function"!==typeof da&&(null===Zh?Zh=new Set([this]):Zh.add(this),Md(e,h));var Jb=h.stack;this.componentDidCatch(h.value,{componentStack:null!==Jb?Jb:""})});return A}function vc(){return($e&(qh|Fh))!==Ig?1073741821-(hh()/10|0):0!==Ck?Ck:Ck=1073741821-(hh()/
10|0)}function hd(e,h,A){h=h.mode;if(0===(h&2))return 1073741823;var da=kf();if(0===(h&4))return 99===da?1073741823:1073741822;if(($e&qh)!==Ig)return gh;if(null!==A)e=Wa(e,A.timeoutMs|0||5E3,250);else switch(da){case 99:e=1073741823;break;case 98:e=Wa(e,150,100);break;case 97:case 96:e=Wa(e,5E3,250);break;case 95:e=2;break;default:throw Error(n(326));}null!==oh&&e===gh&&--e;return e}function nd(e,h){if(50<Zi)throw Zi=0,Dk=null,Error(n(185));e=ie(e,h);if(null!==e){var A=kf();1073741823===h?($e&Sk)!==
Ig&&($e&(qh|Fh))===Ig?md(e):(Vd(e),$e===Ig&&wa()):Vd(e);($e&4)===Ig||98!==A&&99!==A||(null===$i?$i=new Map([[e,h]]):(A=$i.get(e),(void 0===A||A>h)&&$i.set(e,h)))}}function ie(e,h){e.expirationTime<h&&(e.expirationTime=h);var A=e.alternate;null!==A&&A.expirationTime<h&&(A.expirationTime=h);var da=e.return,Ba=null;if(null===da&&3===e.tag)Ba=e.stateNode;else for(;null!==da;){A=da.alternate;da.childExpirationTime<h&&(da.childExpirationTime=h);null!==A&&A.childExpirationTime<h&&(A.childExpirationTime=
h);if(null===da.return&&3===da.tag){Ba=da.stateNode;break}da=da.return}null!==Ba&&(oh===Ba&&(Yf(h),Hg===sj&&ph(Ba,gh)),wg(Ba,h));return Ba}function $d(e){var h=e.lastExpiredTime;if(0!==h)return h;h=e.firstPendingTime;if(!ek(e,h))return h;var A=e.lastPingedTime;e=e.nextKnownPendingLevel;e=A>e?A:e;return 2>=e&&h!==e?0:e}function Vd(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=V(md.bind(null,e));else{var h=$d(e),A=e.callbackNode;if(0===h)null!==
A&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var da=vc();1073741823===h?da=99:1===h||2===h?da=95:(da=10*(1073741821-h)-10*(1073741821-da),da=0>=da?99:250>=da?98:5250>=da?97:95);if(null!==A){var Ba=e.callbackPriority;if(e.callbackExpirationTime===h&&Ba>=da)return;A!==dl&&el(A)}e.callbackExpirationTime=h;e.callbackPriority=da;h=1073741823===h?V(md.bind(null,e)):N(da,Hd.bind(null,e),{timeout:10*(1073741821-h)-hh()});e.callbackNode=h}}}function Hd(e,h){Ck=0;if(h)return h=
vc(),aj(e,h),Vd(e),null;var A=$d(e);if(0!==A){h=e.callbackNode;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&A===gh||ke(e,A);if(null!==gf){var da=$e;$e|=qh;var Ba=hf();do try{for(;null!==gf&&!Bl();)gf=Lf(gf);break}catch(ic){Xe(e,ic)}while(1);Hj=Vh=Gj=null;$e=da;Ek.current=Ba;if(Hg===fk)throw h=Ug,ke(e,A),ph(e,A),Vd(e),h;if(null===gf)switch(Ba=e.finishedWork=e.current.alternate,e.finishedExpirationTime=A,da=Hg,oh=null,da){case rj:case fk:throw Error(n(345));case Tk:aj(e,2<A?2:A);break;case Yg:ph(e,
A);da=e.lastSuspendedTime;A===da&&(e.nextKnownPendingLevel=Rd(Ba));if(1073741823===$h&&(Ba=Rk+li-hh(),10<Ba)){if(Mj){var yb=e.lastPingedTime;if(0===yb||yb>=A){e.lastPingedTime=A;ke(e,A);break}}yb=$d(e);if(0!==yb&&yb!==A)break;if(0!==da&&da!==A){e.lastPingedTime=da;break}e.timeoutHandle=Ng(Ef.bind(null,e),Ba);break}Ef(e);break;case sj:ph(e,A);da=e.lastSuspendedTime;A===da&&(e.nextKnownPendingLevel=Rd(Ba));if(Mj&&(Ba=e.lastPingedTime,0===Ba||Ba>=A)){e.lastPingedTime=A;ke(e,A);break}Ba=$d(e);if(0!==
Ba&&Ba!==A)break;if(0!==da&&da!==A){e.lastPingedTime=da;break}1073741823!==gk?da=10*(1073741821-gk)-hh():1073741823===$h?da=0:(da=10*(1073741821-$h)-5E3,Ba=hh(),A=10*(1073741821-A)-Ba,da=Ba-da,0>da&&(da=0),da=(120>da?120:480>da?480:1080>da?1080:1920>da?1920:3E3>da?3E3:4320>da?4320:1960*Cl(da/1960))-da,A<da&&(da=A));if(10<da){e.timeoutHandle=Ng(Ef.bind(null,e),da);break}Ef(e);break;case Uk:if(1073741823!==$h&&null!==xg){yb=$h;var Jb=xg;da=Jb.busyMinDurationMs|0;0>=da?da=0:(Ba=Jb.busyDelayMs|0,yb=hh()-
(10*(1073741821-yb)-(Jb.timeoutMs|0||5E3)),da=yb<=Ba?0:Ba+da-yb);if(10<da){ph(e,A);e.timeoutHandle=Ng(Ef.bind(null,e),da);break}}Ef(e);break;default:throw Error(n(329));}Vd(e);if(e.callbackNode===h)return Hd.bind(null,e)}}return null}function md(e){var h=e.lastExpiredTime;h=0!==h?h:1073741823;if(($e&(qh|Fh))!==Ig)throw Error(n(327));rh();e===oh&&h===gh||ke(e,h);if(null!==gf){var A=$e;$e|=qh;var da=hf();do try{for(;null!==gf;)gf=Lf(gf);break}catch(Ba){Xe(e,Ba)}while(1);Hj=Vh=Gj=null;$e=A;Ek.current=
da;if(Hg===fk)throw A=Ug,ke(e,h),ph(e,h),Vd(e),A;if(null!==gf)throw Error(n(261));e.finishedWork=e.current.alternate;e.finishedExpirationTime=h;oh=null;Ef(e);Vd(e)}return null}function ce(){if(null!==$i){var e=$i;$i=null;e.forEach(function(h,A){aj(A,h);Vd(A)});wa()}}function bf(e,h){var A=$e;$e|=1;try{return e(h)}finally{$e=A,$e===Ig&&wa()}}function qf(e,h){var A=$e;$e&=-2;$e|=Sk;try{return e(h)}finally{$e=A,$e===Ig&&wa()}}function ke(e,h){e.finishedWork=null;e.finishedExpirationTime=0;var A=e.timeoutHandle;
-1!==A&&(e.timeoutHandle=-1,zf(A));if(null!==gf)for(A=gf.return;null!==A;){var da=A;switch(da.tag){case 1:da=da.type.childContextTypes;null!==da&&void 0!==da&&cc();break;case 3:df();Ee(Dg);Ee(mg);break;case 5:fa(da);break;case 4:df();break;case 13:Ee(rg);break;case 19:Ee(rg);break;case 10:mc(da)}A=A.return}oh=e;gf=Wh(e.current,null);gh=h;Hg=rj;Ug=null;gk=$h=1073741823;xg=null;Tg=0;Mj=!1}function Xe(e,h){do{try{Hj=Vh=Gj=null;xk.current=te;if(yk)for(var A=tg.memoizedState;null!==A;){var da=A.queue;
null!==da&&(da.pending=null);A=A.next}ki=0;Rg=Sg=tg=null;yk=!1;if(null===gf||null===gf.return)return Hg=fk,Ug=h,gf=null;a:{var Ba=e,yb=gf.return,Jb=gf,ic=h;h=gh;Jb.effectTag|=2048;Jb.firstEffect=Jb.lastEffect=null;if(null!==ic&&"object"===typeof ic&&"function"===typeof ic.then){var dd=ic;if(0===(Jb.mode&2)){var Zc=Jb.alternate;Zc?(Jb.updateQueue=Zc.updateQueue,Jb.memoizedState=Zc.memoizedState,Jb.expirationTime=Zc.expirationTime):(Jb.updateQueue=null,Jb.memoizedState=null)}var Qd=0!==(rg.current&
1),Zd=yb;do{var Df;if(Df=13===Zd.tag){var Rf=Zd.memoizedState;if(null!==Rf)Df=null!==Rf.dehydrated?!0:!1;else{var fg=Zd.memoizedProps;Df=void 0===fg.fallback?!1:!0!==fg.unstable_avoidThisFallback?!0:Qd?!1:!0}}if(Df){var Gg=Zd.updateQueue;if(null===Gg){var Vc=new Set;Vc.add(dd);Zd.updateQueue=Vc}else Gg.add(dd);if(0===(Zd.mode&2)){Zd.effectTag|=64;Jb.effectTag&=-2981;if(1===Jb.tag)if(null===Jb.alternate)Jb.tag=17;else{var Lc=se(1073741823,null);Lc.tag=2;xd(Jb,Lc)}Jb.expirationTime=1073741823;break a}ic=
void 0;Jb=h;var jd=Ba.pingCache;null===jd?(jd=Ba.pingCache=new jl,ic=new Set,jd.set(dd,ic)):(ic=jd.get(dd),void 0===ic&&(ic=new Set,jd.set(dd,ic)));if(!ic.has(Jb)){ic.add(Jb);var Gd=bj.bind(null,Ba,dd,Jb);dd.then(Gd,Gd)}Zd.effectTag|=4096;Zd.expirationTime=h;break a}Zd=Zd.return}while(null!==Zd);ic=Error((Aa(Jb.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display."+
Ra(Jb))}Hg!==Uk&&(Hg=Tk);ic=yd(ic,Jb);Zd=yb;do{switch(Zd.tag){case 3:dd=ic;Zd.effectTag|=4096;Zd.expirationTime=h;var Ud=Tb(Zd,dd,h);zd(Zd,Ud);break a;case 1:dd=ic;var qe=Zd.type,Ne=Zd.stateNode;if(0===(Zd.effectTag&64)&&("function"===typeof qe.getDerivedStateFromError||null!==Ne&&"function"===typeof Ne.componentDidCatch&&(null===Zh||!Zh.has(Ne)))){Zd.effectTag|=4096;Zd.expirationTime=h;var Hf=dc(Zd,dd,h);zd(Zd,Hf);break a}}Zd=Zd.return}while(null!==Zd)}gf=Gh(gf)}catch(lg){h=lg;continue}break}while(1)}
function hf(){var e=Ek.current;Ek.current=te;return null===e?te:e}function kg(e,h){e<$h&&2<e&&($h=e);null!==h&&e<gk&&2<e&&(gk=e,xg=h)}function Yf(e){e>Tg&&(Tg=e)}function Lf(e){var h=kl(e.alternate,e,gh);e.memoizedProps=e.pendingProps;null===h&&(h=Gh(e));ll.current=null;return h}function Gh(e){gf=e;do{var h=gf.alternate;e=gf.return;if(0===(gf.effectTag&2048)){h=Tc(h,gf,gh);if(1===gh||1!==gf.childExpirationTime){for(var A=0,da=gf.child;null!==da;){var Ba=da.expirationTime,yb=da.childExpirationTime;
Ba>A&&(A=Ba);yb>A&&(A=yb);da=da.sibling}gf.childExpirationTime=A}if(null!==h)return h;null!==e&&0===(e.effectTag&2048)&&(null===e.firstEffect&&(e.firstEffect=gf.firstEffect),null!==gf.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=gf.firstEffect),e.lastEffect=gf.lastEffect),1<gf.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=gf:e.firstEffect=gf,e.lastEffect=gf))}else{h=Rc(gf);if(null!==h)return h.effectTag&=2047,h;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}h=
gf.sibling;if(null!==h)return h;gf=e}while(null!==gf);Hg===rj&&(Hg=Uk);return null}function Rd(e){var h=e.expirationTime;e=e.childExpirationTime;return h>e?h:e}function Ef(e){var h=kf();Pe(99,Hh.bind(null,e,h));return null}function Hh(e,h){do rh();while(null!==Nj);if(($e&(qh|Fh))!==Ig)throw Error(n(327));var A=e.finishedWork,da=e.finishedExpirationTime;if(null===A)return null;e.finishedWork=null;e.finishedExpirationTime=0;if(A===e.current)throw Error(n(177));e.callbackNode=null;e.callbackExpirationTime=
0;e.callbackPriority=90;e.nextKnownPendingLevel=0;var Ba=Rd(A);e.firstPendingTime=Ba;da<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:da<=e.firstSuspendedTime&&(e.firstSuspendedTime=da-1);da<=e.lastPingedTime&&(e.lastPingedTime=0);da<=e.lastExpiredTime&&(e.lastExpiredTime=0);e===oh&&(gf=oh=null,gh=0);1<A.effectTag?null!==A.lastEffect?(A.lastEffect.nextEffect=A,Ba=A.firstEffect):Ba=A:Ba=A.firstEffect;if(null!==Ba){var yb=$e;$e|=Fh;ll.current=null;Gi=Rh;var Jb=
Db();if(Zb(Jb)){if("selectionStart"in Jb)var ic={start:Jb.selectionStart,end:Jb.selectionEnd};else a:{ic=(ic=Jb.ownerDocument)&&ic.defaultView||window;var dd=ic.getSelection&&ic.getSelection();if(dd&&0!==dd.rangeCount){ic=dd.anchorNode;var Zc=dd.anchorOffset,Qd=dd.focusNode;dd=dd.focusOffset;try{ic.nodeType,Qd.nodeType}catch(pf){ic=null;break a}var Zd=0,Df=-1,Rf=-1,fg=0,Gg=0,Vc=Jb,Lc=null;b:for(;;){for(var jd;;){Vc!==ic||0!==Zc&&3!==Vc.nodeType||(Df=Zd+Zc);Vc!==Qd||0!==dd&&3!==Vc.nodeType||(Rf=Zd+
dd);3===Vc.nodeType&&(Zd+=Vc.nodeValue.length);if(null===(jd=Vc.firstChild))break;Lc=Vc;Vc=jd}for(;;){if(Vc===Jb)break b;Lc===ic&&++fg===Zc&&(Df=Zd);Lc===Qd&&++Gg===dd&&(Rf=Zd);if(null!==(jd=Vc.nextSibling))break;Vc=Lc;Lc=Vc.parentNode}Vc=jd}ic=-1===Df||-1===Rf?null:{start:Df,end:Rf}}else ic=null}ic=ic||{start:0,end:0}}else ic=null;Og={activeElementDetached:null,focusedElem:Jb,selectionRange:ic};Rh=!1;ue=Ba;do try{Zg()}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=Ba;do try{for(Jb=e,ic=h;null!==ue;){var Gd=ue.effectTag;Gd&16&&v(ue.stateNode,"");if(Gd&128){var Ud=ue.alternate;if(null!==Ud){var qe=Ud.ref;null!==qe&&("function"===typeof qe?qe(null):qe.current=null)}}switch(Gd&1038){case 2:c(ue);ue.effectTag&=-3;break;case 6:c(ue);ue.effectTag&=-3;Ga(ue.alternate,ue);break;case 1024:ue.effectTag&=-1025;break;case 1028:ue.effectTag&=-1025;Ga(ue.alternate,ue);break;case 4:Ga(ue.alternate,ue);break;case 8:Zc=ue,ia(Jb,Zc,ic),Cb(Zc)}ue=ue.nextEffect}}catch(pf){if(null===
ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==ue);qe=Og;Ud=Db();Gd=qe.focusedElem;ic=qe.selectionRange;if(Ud!==Gd&&Gd&&Gd.ownerDocument&&gb(Gd.ownerDocument.documentElement,Gd)){null!==ic&&Zb(Gd)&&(Ud=ic.start,qe=ic.end,void 0===qe&&(qe=Ud),"selectionStart"in Gd?(Gd.selectionStart=Ud,Gd.selectionEnd=Math.min(qe,Gd.value.length)):(qe=(Ud=Gd.ownerDocument||document)&&Ud.defaultView||window,qe.getSelection&&(qe=qe.getSelection(),Zc=Gd.textContent.length,Jb=Math.min(ic.start,Zc),ic=void 0===
ic.end?Jb:Math.min(ic.end,Zc),!qe.extend&&Jb>ic&&(Zc=ic,ic=Jb,Jb=Zc),Zc=za(Gd,Jb),Qd=za(Gd,ic),Zc&&Qd&&(1!==qe.rangeCount||qe.anchorNode!==Zc.node||qe.anchorOffset!==Zc.offset||qe.focusNode!==Qd.node||qe.focusOffset!==Qd.offset)&&(Ud=Ud.createRange(),Ud.setStart(Zc.node,Zc.offset),qe.removeAllRanges(),Jb>ic?(qe.addRange(Ud),qe.extend(Qd.node,Qd.offset)):(Ud.setEnd(Qd.node,Qd.offset),qe.addRange(Ud))))));Ud=[];for(qe=Gd;qe=qe.parentNode;)1===qe.nodeType&&Ud.push({element:qe,left:qe.scrollLeft,top:qe.scrollTop});
"function"===typeof Gd.focus&&Gd.focus();for(Gd=0;Gd<Ud.length;Gd++)qe=Ud[Gd],qe.element.scrollLeft=qe.left,qe.element.scrollTop=qe.top}Rh=!!Gi;Og=Gi=null;e.current=A;ue=Ba;do try{for(Gd=e;null!==ue;){var Ne=ue.effectTag;Ne&36&&Pa(Gd,ue.alternate,ue);if(Ne&128){Ud=void 0;var Hf=ue.ref;if(null!==Hf){var lg=ue.stateNode;switch(ue.tag){case 5:Ud=lg;break;default:Ud=lg}"function"===typeof Hf?Hf(Ud):Hf.current=Ud}}ue=ue.nextEffect}}catch(pf){if(null===ue)throw Error(n(330));Xh(ue,pf);ue=ue.nextEffect}while(null!==
ue);ue=null;ml();$e=yb}else e.current=A;if(hk)hk=!1,Nj=e,ik=h;else for(ue=Ba;null!==ue;)h=ue.nextEffect,ue.nextEffect=null,ue=h;h=e.firstPendingTime;0===h&&(Zh=null);1073741823===h?e===Dk?Zi++:(Zi=0,Dk=e):Zi=0;"function"===typeof Vk&&Vk(A.stateNode,da);Vd(e);if(Bk)throw Bk=!1,e=Yh,Yh=null,e;if(($e&Sk)!==Ig)return null;wa();return null}function Zg(){for(;null!==ue;){var e=ue.effectTag;0!==(e&256)&&je(ue.alternate,ue);0===(e&512)||hk||(hk=!0,N(97,function(){rh();return null}));ue=ue.nextEffect}}function rh(){if(90!==
ik){var e=97<ik?97:ik;ik=90;return Pe(e,Hi)}}function Hi(){if(null===Nj)return!1;var e=Nj;Nj=null;if(($e&(qh|Fh))!==Ig)throw Error(n(331));var h=$e;$e|=Fh;for(e=e.current.firstEffect;null!==e;){try{var A=e;if(0!==(A.effectTag&512))switch(A.tag){case 0:case 11:case 15:case 22:We(5,A),pa(5,A)}}catch(da){if(null===e)throw Error(n(330));Xh(e,da)}A=e.nextEffect;e.nextEffect=null;e=A}$e=h;wa();return!0}function Ii(e,h,A){h=yd(A,h);h=Tb(e,h,1073741823);xd(e,h);e=ie(e,1073741823);null!==e&&Vd(e)}function Xh(e,
h){if(3===e.tag)Ii(e,e,h);else for(var A=e.return;null!==A;){if(3===A.tag){Ii(A,e,h);break}else if(1===A.tag){var da=A.stateNode;if("function"===typeof A.type.getDerivedStateFromError||"function"===typeof da.componentDidCatch&&(null===Zh||!Zh.has(da))){e=yd(h,e);e=dc(A,e,1073741823);xd(A,e);A=ie(A,1073741823);null!==A&&Vd(A);break}}A=A.return}}function bj(e,h,A){var da=e.pingCache;null!==da&&da.delete(h);oh===e&&gh===A?Hg===sj||Hg===Yg&&1073741823===$h&&hh()-Rk<li?ke(e,gh):Mj=!0:ek(e,A)&&(h=e.lastPingedTime,
0!==h&&h<A||(e.lastPingedTime=A,Vd(e)))}function Yi(e,h){var A=e.stateNode;null!==A&&A.delete(h);h=0;0===h&&(h=vc(),h=hd(h,e,null));e=ie(e,h);null!==e&&Vd(e)}function mi(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)return!0;try{var A=h.inject(e);Vk=function(da){try{h.onCommitFiberRoot(A,da,void 0,64===(da.current.effectTag&64))}catch(Ba){}};Ak=function(da){try{h.onCommitFiberUnmount(A,da)}catch(Ba){}}}catch(da){}return!0}
function tj(e,h,A,da){this.tag=e;this.key=A;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=h;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=da;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function Mg(e,h,A,da){return new tj(e,h,A,da)}function Lj(e){e=e.prototype;return!(!e||!e.isReactComponent)}
function jk(e){if("function"===typeof e)return Lj(e)?1:0;if(void 0!==e&&null!==e){e=e.$$typeof;if(e===wh)return 11;if(e===Xg)return 14}return 2}function Wh(e,h){var A=e.alternate;null===A?(A=Mg(e.tag,h,e.key,e.mode),A.elementType=e.elementType,A.type=e.type,A.stateNode=e.stateNode,A.alternate=e,e.alternate=A):(A.pendingProps=h,A.effectTag=0,A.nextEffect=null,A.firstEffect=null,A.lastEffect=null);A.childExpirationTime=e.childExpirationTime;A.expirationTime=e.expirationTime;A.child=e.child;A.memoizedProps=
e.memoizedProps;A.memoizedState=e.memoizedState;A.updateQueue=e.updateQueue;h=e.dependencies;A.dependencies=null===h?null:{expirationTime:h.expirationTime,firstContext:h.firstContext,responders:h.responders};A.sibling=e.sibling;A.index=e.index;A.ref=e.ref;return A}function Ei(e,h,A,da,Ba,yb){var Jb=2;da=e;if("function"===typeof e)Lj(e)&&(Jb=1);else if("string"===typeof e)Jb=5;else a:switch(e){case ah:return eh(A.children,Ba,yb,h);case Vg:Jb=8;Ba|=7;break;case si:Jb=8;Ba|=1;break;case Oh:return e=
Mg(12,A,h,Ba|8),e.elementType=Oh,e.type=Oh,e.expirationTime=yb,e;case Qi:return e=Mg(13,A,h,Ba),e.type=Qi,e.elementType=Qi,e.expirationTime=yb,e;case ti:return e=Mg(19,A,h,Ba),e.elementType=ti,e.expirationTime=yb,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case Wg:Jb=10;break a;case Tj:Jb=9;break a;case wh:Jb=11;break a;case Xg:Jb=14;break a;case vi:Jb=16;da=null;break a;case ui:Jb=22;break a}throw Error(n(130,null==e?e:typeof e,""));}h=Mg(Jb,A,h,Ba);h.elementType=e;h.type=da;h.expirationTime=
yb;return h}function eh(e,h,A,da){e=Mg(7,e,da,h);e.expirationTime=A;return e}function Ij(e,h,A){e=Mg(6,e,null,h);e.expirationTime=A;return e}function qg(e,h,A){h=Mg(4,null!==e.children?e.children:[],e.key,h);h.expirationTime=A;h.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation};return h}function Fk(e,h,A){this.tag=h;this.current=null;this.containerInfo=e;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=A;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ek(e,h){var A=e.firstSuspendedTime;e=e.lastSuspendedTime;return 0!==A&&A>=h&&e<=h}function ph(e,h){var A=e.firstSuspendedTime,da=e.lastSuspendedTime;A<h&&(e.firstSuspendedTime=h);if(da>h||0===A)e.lastSuspendedTime=h;h<=e.lastPingedTime&&(e.lastPingedTime=
0);h<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function wg(e,h){h>e.firstPendingTime&&(e.firstPendingTime=h);var A=e.firstSuspendedTime;0!==A&&(h>=A?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:h>=e.lastSuspendedTime&&(e.lastSuspendedTime=h+1),h>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=h))}function aj(e,h){var A=e.lastExpiredTime;if(0===A||A>h)e.lastExpiredTime=h}function uj(e,h,A,da){var Ba=h.current,yb=vc(),Jb=dk.suspense;yb=hd(yb,Ba,Jb);a:if(A){A=A._reactInternalFiber;
b:{if(D(A)!==A||1!==A.tag)throw Error(n(170));var ic=A;do{switch(ic.tag){case 3:ic=ic.stateNode.context;break b;case 1:if(Xd(ic.type)){ic=ic.stateNode.__reactInternalMemoizedMergedChildContext;break b}}ic=ic.return}while(null!==ic);throw Error(n(171));}if(1===A.tag){var dd=A.type;if(Xd(dd)){A=pe(A,dd,ic);break a}}A=ic}else A=Lg;null===h.context?h.context=A:h.pendingContext=A;h=se(yb,Jb);h.payload={element:e};da=void 0===da?null:da;null!==da&&(h.callback=da);xd(Ba,h);nd(Ba,yb);return yb}function Ji(e){e=
e.current;if(!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kk(e,h){e=e.memoizedState;null!==e&&null!==e.dehydrated&&e.retryTime<h&&(e.retryTime=h)}function cj(e,h){kk(e,h);(e=e.alternate)&&kk(e,h)}function Ih(e,h,A){A=null!=A&&!0===A.hydrate;var da=new Fk(e,h,A),Ba=Mg(3,null,null,2===h?7:1===h?3:0);da.current=Ba;Ba.stateNode=da;id(Ba);e[Dh]=da.current;A&&0!==h&&Ec(e,9===e.nodeType?e:e.ownerDocument);this._internalRoot=da}function Jh(e){return!(!e||
1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gk(e,h){h||(h=e?9===e.nodeType?e.documentElement:e.firstChild:null,h=!(!h||1!==h.nodeType||!h.hasAttribute("data-reactroot")));if(!h)for(var A;A=e.lastChild;)e.removeChild(A);return new Ih(e,0,h?{hydrate:!0}:void 0)}function Pg(e,h,A,da,Ba){var yb=A._reactRootContainer;if(yb){var Jb=yb._internalRoot;if("function"===typeof Ba){var ic=Ba;Ba=function(){var Zc=Ji(Jb);ic.call(Zc)}}uj(h,
Jb,e,Ba)}else{yb=A._reactRootContainer=Gk(A,da);Jb=yb._internalRoot;if("function"===typeof Ba){var dd=Ba;Ba=function(){var Zc=Ji(Jb);dd.call(Zc)}}qf(function(){uj(h,Jb,e,Ba)})}return Ji(Jb)}function vj(e,h,A){var da=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:fi,key:null==da?null:""+da,children:e,containerInfo:h,implementation:A}}function lk(e,h){var A=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jh(h))throw Error(n(200));return vj(e,h,null,A)}var lj=
Rb(5),Ag=Rb(0),Bg=Rb(8);if(!lj)throw Error(n(227));var Pf=!1,Mi=null,vh=!1,gj=null,Sj={onError:function(e){Pf=!0;Mi=e}},jj=null,Ni=null,ci=null,hj=null,di={},ij=[],Bj={},qi={},ei={},xh=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Oi=null,ri=null,pg=null,Nh=rb,jg=!1,Pi=!1,$g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
kj=Object.prototype.hasOwnProperty,nf={},sf={},yf={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yf[e]=new hb(e,0,!1,e,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var h=e[0];yf[h]=new hb(h,1,!1,e[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yf[e]=
new hb(e,2,!1,e.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yf[e]=new hb(e,2,!1,e,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yf[e]=new hb(e,3,!1,e.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(e){yf[e]=
new hb(e,3,!0,e,null,!1)});["capture","download"].forEach(function(e){yf[e]=new hb(e,4,!1,e,null,!1)});["cols","rows","size","span"].forEach(function(e){yf[e]=new hb(e,6,!1,e,null,!1)});["rowSpan","start"].forEach(function(e){yf[e]=new hb(e,5,!1,e.toLowerCase(),null,!1)});var Ki=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var h=
e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var h=e.replace(Ki,Ca);yf[h]=new hb(h,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(e){yf[e]=new hb(e,1,!1,e.toLowerCase(),null,!1)});yf.xlinkHref=new hb("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(e){yf[e]=new hb(e,1,!1,e.toLowerCase(),null,!0)});var yg=lj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;yg.hasOwnProperty("ReactCurrentDispatcher")||(yg.ReactCurrentDispatcher={current:null});yg.hasOwnProperty("ReactCurrentBatchConfig")||(yg.ReactCurrentBatchConfig={suspense:null});var Kg=/^(.*)[\\\/]/,sg="function"===typeof Symbol&&Symbol.for,qj=sg?Symbol.for("react.element"):60103,fi=
sg?Symbol.for("react.portal"):60106,ah=sg?Symbol.for("react.fragment"):60107,si=sg?Symbol.for("react.strict_mode"):60108,Oh=sg?Symbol.for("react.profiler"):60114,Wg=sg?Symbol.for("react.provider"):60109,Tj=sg?Symbol.for("react.context"):60110,Vg=sg?Symbol.for("react.concurrent_mode"):60111,wh=sg?Symbol.for("react.forward_ref"):60112,Qi=sg?Symbol.for("react.suspense"):60113,ti=sg?Symbol.for("react.suspense_list"):60120,Xg=sg?Symbol.for("react.memo"):60115,vi=sg?Symbol.for("react.lazy"):60116,ui=sg?
Symbol.for("react.block"):60121,lf="function"===typeof Symbol&&Symbol.iterator,Kh,bg=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(h,A,da,Ba){MSApp.execUnsafeLocalFunction(function(){return e(h,A,da,Ba)})}:e}(function(e,h){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=h;else{Kh=Kh||document.createElement("div");Kh.innerHTML="\x3csvg\x3e"+h.valueOf().toString()+"\x3c/svg\x3e";for(h=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);
for(;h.firstChild;)e.appendChild(h.firstChild)}}),Gf={animationend:w("Animation","AnimationEnd"),animationiteration:w("Animation","AnimationIteration"),animationstart:w("Animation","AnimationStart"),transitionend:w("Transition","TransitionEnd")},gi={},mj={};xh&&(mj=document.createElement("div").style,"AnimationEvent"in window||(delete Gf.animationend.animation,delete Gf.animationiteration.animation,delete Gf.animationstart.animation),"TransitionEvent"in window||delete Gf.transitionend.transition);
var mk=p("animationend"),wj=p("animationiteration"),Li=p("animationstart"),ni=p("transitionend"),yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ge=new ("function"===typeof WeakMap?WeakMap:Map),wi=null,xi=[],Ri=!1,bh=[],Ph=null,Qh=null,zh=null,Ah=new Map,Bh=new Map,ch=[],Xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),
nj="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" "),kh={},Dj=new Map,Cj=new Map,ai=["abort","abort",mk,"animationEnd",wj,"animationIteration",Li,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata",
"loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ni,"transitionEnd","waiting","waiting"];$c("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);$c("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);$c(ai,2);for(var bi="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),nk=0;nk<bi.length;nk++)Cj.set(bi[nk],0);var Uj=Bg.unstable_UserBlockingPriority,yi=Bg.unstable_runWithPriority,
Rh=!0,zi={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,
floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ih=["Webkit","ms","Moz","O"];Object.keys(zi).forEach(function(e){ih.forEach(function(h){h=h+e.charAt(0).toUpperCase()+e.substring(1);zi[h]=zi[e]})});var Ch=Ag({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),lh="$",Si="/$",Vj="$?",Ai="$!",Gi=null,Og=null,Ng="function"===typeof setTimeout?
setTimeout:void 0,zf="function"===typeof clearTimeout?clearTimeout:void 0,oi=Math.random().toString(36).slice(2),mh="__reactInternalInstance$"+oi,Qg="__reactEventHandlers$"+oi,Dh="__reactContainere$"+oi,Sh=null,ug=null,Bi=null;Ag(qd.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?
e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){this.isPersistent=Uc},isPersistent:od,destructor:function(){var e=this.constructor.Interface,h;for(h in e)this[h]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=od;this._dispatchInstances=this._dispatchListeners=null}});qd.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,
bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};qd.extend=function(e){function h(){}function A(){return da.apply(this,arguments)}var da=this;h.prototype=da.prototype;var Ba=new h;Ag(Ba,A.prototype);A.prototype=Ba;A.prototype.constructor=A;A.Interface=Ag({},da.Interface,e);A.extend=da.extend;Wd(A);return A};Wd(qd);var ok=qd.extend({data:null}),Lh=qd.extend({data:null}),Ti=[9,13,27,32],Ci=xh&&"CompositionEvent"in window,Mh=null;
xh&&"documentMode"in document&&(Mh=document.documentMode);var dj=xh&&"TextEvent"in window&&!Mh,Di=xh&&(!Ci||Mh&&8<Mh&&11>=Mh),Wj=String.fromCharCode(32),sh={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",
captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},oj=!1,nh=!1,xj={eventTypes:sh,extractEvents:function(e,h,A,da){var Ba;if(Ci)a:{switch(e){case "compositionstart":var yb=sh.compositionStart;break a;case "compositionend":yb=sh.compositionEnd;
break a;case "compositionupdate":yb=sh.compositionUpdate;break a}yb=void 0}else nh?me(e,A)&&(yb=sh.compositionEnd):"keydown"===e&&229===A.keyCode&&(yb=sh.compositionStart);yb?(Di&&"ko"!==A.locale&&(nh||yb!==sh.compositionStart?yb===sh.compositionEnd&&nh&&(Ba=Yc()):(Sh=da,ug="value"in Sh?Sh.value:Sh.textContent,nh=!0)),yb=ok.getPooled(yb,h,A,da),Ba?yb.data=Ba:(Ba=ye(A),null!==Ba&&(yb.data=Ba)),Jc(yb),Ba=yb):Ba=null;(e=dj?Ye(e,A):Qe(e,A))?(h=Lh.getPooled(sh.beforeInput,h,A,da),h.data=e,Jc(h)):h=null;
return null===Ba?h:null===h?Ba:[Ba,h]}},Ui={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xj={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Th=null,Uh=null,Eg=!1;xh&&(Eg=ta("input")&&(!document.documentMode||9<document.documentMode));var Mf={eventTypes:Xj,_isInputEventSupported:Eg,
extractEvents:function(e,h,A,da){var Ba=h?hc(h):window,yb=Ba.nodeName&&Ba.nodeName.toLowerCase();if("select"===yb||"input"===yb&&"file"===Ba.type)var Jb=Oe;else if(Re(Ba))if(Eg)Jb=Ad;else{Jb=cf;var ic=Ae}else(yb=Ba.nodeName)&&"input"===yb.toLowerCase()&&("checkbox"===Ba.type||"radio"===Ba.type)&&(Jb=re);if(Jb&&(Jb=Jb(e,h)))return Fd(Jb,A,da);ic&&ic(e,Ba,h);"blur"===e&&(e=Ba._wrapperState)&&e.controlled&&"number"===Ba.type&&W(Ba,"number",Ba.value)}},cg=qd.extend({view:null,detail:null}),Mk={Alt:"altKey",
Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},ej=0,a=0,f=!1,t=!1,q=cg.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ae,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var h=ej;ej=e.screenX;return f?"mousemove"===e.type?e.screenX-h:0:(f=!0,0)},movementY:function(e){if("movementY"in
e)return e.movementY;var h=a;a=e.screenY;return t?"mousemove"===e.type?e.screenY-h:0:(t=!0,0)}}),y=q.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),X={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},
pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},qa={eventTypes:X,extractEvents:function(e,h,A,da,Ba){var yb="mouseover"===e||"pointerover"===e,Jb="mouseout"===e||"pointerout"===e;if(yb&&0===(Ba&32)&&(A.relatedTarget||A.fromElement)||!Jb&&!yb)return null;yb=da.window===da?da:(yb=da.ownerDocument)?yb.defaultView||yb.parentWindow:window;if(Jb){if(Jb=h,h=(h=A.relatedTarget||A.toElement)?sb(h):null,null!==h){var ic=D(h);if(h!==ic||5!==h.tag&&6!==h.tag)h=null}}else Jb=
null;if(Jb===h)return null;if("mouseout"===e||"mouseover"===e)var dd=q,Zc=X.mouseLeave,Qd=X.mouseEnter,Zd="mouse";else if("pointerout"===e||"pointerover"===e)dd=y,Zc=X.pointerLeave,Qd=X.pointerEnter,Zd="pointer";e=null==Jb?yb:hc(Jb);yb=null==h?yb:hc(h);Zc=dd.getPooled(Zc,Jb,A,da);Zc.type=Zd+"leave";Zc.target=e;Zc.relatedTarget=yb;A=dd.getPooled(Qd,h,A,da);A.type=Zd+"enter";A.target=yb;A.relatedTarget=e;da=Jb;Zd=h;if(da&&Zd)a:{dd=da;Qd=Zd;Jb=0;for(e=dd;e;e=Bc(e))Jb++;e=0;for(h=Qd;h;h=Bc(h))e++;for(;0<
Jb-e;)dd=Bc(dd),Jb--;for(;0<e-Jb;)Qd=Bc(Qd),e--;for(;Jb--;){if(dd===Qd||dd===Qd.alternate)break a;dd=Bc(dd);Qd=Bc(Qd)}dd=null}else dd=null;Qd=dd;for(dd=[];da&&da!==Qd;){Jb=da.alternate;if(null!==Jb&&Jb===Qd)break;dd.push(da);da=Bc(da)}for(da=[];Zd&&Zd!==Qd;){Jb=Zd.alternate;if(null!==Jb&&Jb===Qd)break;da.push(Zd);Zd=Bc(Zd)}for(Zd=0;Zd<dd.length;Zd++)Cc(dd[Zd],"bubbled",Zc);for(Zd=da.length;0<Zd--;)Cc(da[Zd],"captured",A);return 0===(Ba&64)?[Zc]:[Zc,A]}},ra="function"===typeof Object.is?Object.is:
Jf,jb=Object.prototype.hasOwnProperty,Bb=xh&&"documentMode"in document&&11>=document.documentMode,Xb={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hc=null,qc=null,oc=null,ed=!1,Od={eventTypes:Xb,extractEvents:function(e,h,A,da,Ba,yb){Ba=yb||(da.window===da?da.document:9===da.nodeType?da:da.ownerDocument);if(!(yb=!Ba)){a:{Ba=r(Ba);yb=ei.onSelect;for(var Jb=0;Jb<
yb.length;Jb++)if(!Ba.has(yb[Jb])){Ba=!1;break a}Ba=!0}yb=!Ba}if(yb)return null;Ba=h?hc(h):window;switch(e){case "focus":if(Re(Ba)||"true"===Ba.contentEditable)Hc=Ba,qc=h,oc=null;break;case "blur":oc=qc=Hc=null;break;case "mousedown":ed=!0;break;case "contextmenu":case "mouseup":case "dragend":return ed=!1,Jd(A,da);case "selectionchange":if(Bb)break;case "keydown":case "keyup":return Jd(A,da)}return null}},He=qd.extend({animationName:null,elapsedTime:null,pseudoElement:null}),xf=qd.extend({clipboardData:function(e){return"clipboardData"in
e?e.clipboardData:window.clipboardData}}),ve=cg.extend({relatedTarget:null}),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Af={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",
45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tf=cg.extend({key:function(e){if(e.key){var h=Nf[e.key]||e.key;if("Unidentified"!==h)return h}return"keypress"===e.type?(e=Se(e),13===e?"Enter":String.fromCharCode(e)):"keydown"===e.type||"keyup"===e.type?Af[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,
getModifierState:ae,charCode:function(e){return"keypress"===e.type?Se(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Se(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Wf=q.extend({dataTransfer:null}),jf=cg.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ae}),Uf=qd.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Ff=q.extend({deltaX:function(e){return"deltaX"in
e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Of={eventTypes:kh,extractEvents:function(e,h,A,da){var Ba=Dj.get(e);if(!Ba)return null;switch(e){case "keypress":if(0===Se(A))return null;case "keydown":case "keyup":e=Tf;break;case "blur":case "focus":e=ve;break;case "click":if(2===A.button)return null;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":e=
q;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":e=Wf;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":e=jf;break;case mk:case wj:case Li:e=He;break;case ni:e=Uf;break;case "scroll":e=cg;break;case "wheel":e=Ff;break;case "copy":case "cut":case "paste":e=xf;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":e=
y;break;default:e=qd}h=e.getPooled(Ba,h,A,da);Jc(h);return h}};if(hj)throw Error(n(101));hj=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));fb();var Jg=Lb;jj=tc;Ni=Jg;ci=hc;Ob({SimpleEventPlugin:Of,EnterLeaveEventPlugin:qa,ChangeEventPlugin:Mf,SelectEventPlugin:Od,BeforeInputEventPlugin:xj});var Cg=[],vg=-1,Lg={},mg={current:Lg},Dg={current:!1},Vi=Lg,cl=Bg.unstable_runWithPriority,uk=Bg.unstable_scheduleCallback,
el=Bg.unstable_cancelCallback,nl=Bg.unstable_requestPaint,Hk=Bg.unstable_now,zl=Bg.unstable_getCurrentPriorityLevel,eg=Bg.unstable_ImmediatePriority,Eh=Bg.unstable_UserBlockingPriority,tk=Bg.unstable_NormalPriority,pj=Bg.unstable_LowPriority,Nk=Bg.unstable_IdlePriority,dl={},Bl=Bg.unstable_shouldYield,ml=void 0!==nl?nl:function(){},hi=null,Ej=null,Fj=!1,ol=Hk(),hh=1E4>ol?Hk:function(){return Hk()-ol},Yj={current:null},Gj=null,Vh=null,Hj=null,Wi=!1,dk=yg.ReactCurrentBatchConfig,fl=(new lj.Component).refs,
vk={isMounted:function(e){return(e=e._reactInternalFiber)?D(e)===e:!1},enqueueSetState:function(e,h,A){e=e._reactInternalFiber;var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba=se(da,Ba);Ba.payload=h;void 0!==A&&null!==A&&(Ba.callback=A);xd(e,Ba);nd(e,da)},enqueueReplaceState:function(e,h,A){e=e._reactInternalFiber;var da=vc(),Ba=dk.suspense;da=hd(da,e,Ba);Ba=se(da,Ba);Ba.tag=1;Ba.payload=h;void 0!==A&&null!==A&&(Ba.callback=A);xd(e,Ba);nd(e,da)},enqueueForceUpdate:function(e,h){e=e._reactInternalFiber;
var A=vc(),da=dk.suspense;A=hd(A,e,da);da=se(A,da);da.tag=2;void 0!==h&&null!==h&&(da.callback=h);xd(e,da);nd(e,A)}},wk=Array.isArray,Xi=$f(!0),Pk=$f(!1),Zj={},ji={current:Zj},bk={current:Zj},ak={current:Zj},rg={current:0},xk=yg.ReactCurrentDispatcher,fh=yg.ReactCurrentBatchConfig,ki=0,tg=null,Sg=null,Rg=null,yk=!1,te={readContext:Fc,useCallback:Mb,useContext:Mb,useEffect:Mb,useImperativeHandle:Mb,useLayoutEffect:Mb,useMemo:Mb,useReducer:Mb,useRef:Mb,useState:Mb,useDebugValue:Mb,useResponder:Mb,useDeferredValue:Mb,
useTransition:Mb},Jj={readContext:Fc,useCallback:Kf,useContext:Fc,useEffect:he,useImperativeHandle:function(e,h,A){A=null!==A&&void 0!==A?A.concat([e]):null;return Pd(4,2,be.bind(null,h,e),A)},useLayoutEffect:function(e,h){return Pd(4,2,e,h)},useMemo:function(e,h){var A=Qc();h=void 0===h?null:h;e=e();A.memoizedState=[e,h];return e},useReducer:function(e,h,A){var da=Qc();h=void 0!==A?A(h):h;da.memoizedState=da.baseState=h;e=da.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:h};
e=e.dispatch=P.bind(null,tg,e);return[da.memoizedState,e]},useRef:function(e){var h=Qc();e={current:e};return h.memoizedState=e},useState:Td,useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=Td(e),da=A[0],Ba=A[1];he(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=Td(!1),A=h[0];h=h[1];return[Kf(O.bind(null,h,e),[h,e]),A]}},ck={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,
useImperativeHandle:wf,useLayoutEffect:Sf,useMemo:gg,useReducer:ud,useRef:af,useState:function(){return ud(ad)},useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=ud(ad),da=A[0],Ba=A[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=ud(ad),A=h[0];h=h[1];return[ef(O.bind(null,h,e),[h,e]),A]}},Kj={readContext:Fc,useCallback:ef,useContext:Fc,useEffect:ze,useImperativeHandle:wf,useLayoutEffect:Sf,
useMemo:gg,useReducer:Nd,useRef:af,useState:function(){return Nd(ad)},useDebugValue:Ce,useResponder:Qb,useDeferredValue:function(e,h){var A=Nd(ad),da=A[0],Ba=A[1];ze(function(){var yb=fh.suspense;fh.suspense=void 0===h?null:h;try{Ba(e)}finally{fh.suspense=yb}},[e,h]);return da},useTransition:function(e){var h=Nd(ad),A=h[0];h=h[1];return[ef(O.bind(null,h,e),[h,e]),A]}},Ve=null,If=null,td=!1,Fi=yg.ReactCurrentOwner,dh=!1,zk={dehydrated:null,retryTime:0};var gl=function(e,h){for(var A=h.child;null!==
A;){if(5===A.tag||6===A.tag)e.appendChild(A.stateNode);else if(4!==A.tag&&null!==A.child){A.child.return=A;A=A.child;continue}if(A===h)break;for(;null===A.sibling;){if(null===A.return||A.return===h)return;A=A.return}A.sibling.return=A.return;A=A.sibling}};var Qk=function(){};var Al=function(e,h,A,da,Ba){var yb=e.memoizedProps;if(yb!==da){var Jb=h.stateNode;vf(ji.current);e=null;switch(A){case "input":yb=S(Jb,yb);da=S(Jb,da);e=[];break;case "option":yb=ma(Jb,yb);da=ma(Jb,da);e=[];break;case "select":yb=
Ag({},yb,{value:void 0});da=Ag({},da,{value:void 0});e=[];break;case "textarea":yb=Ua(Jb,yb);da=Ua(Jb,da);e=[];break;default:"function"!==typeof yb.onClick&&"function"===typeof da.onClick&&(Jb.onclick=de)}ac(A,da);var ic,dd;A=null;for(ic in yb)if(!da.hasOwnProperty(ic)&&yb.hasOwnProperty(ic)&&null!=yb[ic])if("style"===ic)for(dd in Jb=yb[ic],Jb)Jb.hasOwnProperty(dd)&&(A||(A={}),A[dd]="");else"dangerouslySetInnerHTML"!==ic&&"children"!==ic&&"suppressContentEditableWarning"!==ic&&"suppressHydrationWarning"!==
ic&&"autoFocus"!==ic&&(qi.hasOwnProperty(ic)?e||(e=[]):(e=e||[]).push(ic,null));for(ic in da){var Zc=da[ic];Jb=null!=yb?yb[ic]:void 0;if(da.hasOwnProperty(ic)&&Zc!==Jb&&(null!=Zc||null!=Jb))if("style"===ic)if(Jb){for(dd in Jb)!Jb.hasOwnProperty(dd)||Zc&&Zc.hasOwnProperty(dd)||(A||(A={}),A[dd]="");for(dd in Zc)Zc.hasOwnProperty(dd)&&Jb[dd]!==Zc[dd]&&(A||(A={}),A[dd]=Zc[dd])}else A||(e||(e=[]),e.push(ic,A)),A=Zc;else"dangerouslySetInnerHTML"===ic?(Zc=Zc?Zc.__html:void 0,Jb=Jb?Jb.__html:void 0,null!=
Zc&&Jb!==Zc&&(e=e||[]).push(ic,Zc)):"children"===ic?Jb===Zc||"string"!==typeof Zc&&"number"!==typeof Zc||(e=e||[]).push(ic,""+Zc):"suppressContentEditableWarning"!==ic&&"suppressHydrationWarning"!==ic&&(qi.hasOwnProperty(ic)?(null!=Zc&&vd(Ba,ic),e||Jb===Zc||(e=[])):(e=e||[]).push(ic,Zc))}A&&(e=e||[]).push("style",A);if(h.updateQueue=e)h.effectTag|=4}};var hl=function(e,h,A,da){A!==da&&(h.effectTag|=4)};var il="function"===typeof WeakSet?WeakSet:Set,jl="function"===typeof WeakMap?WeakMap:Map,Cl=Math.ceil,
Ek=yg.ReactCurrentDispatcher,ll=yg.ReactCurrentOwner,Ig=0,Sk=8,qh=16,Fh=32,rj=0,fk=1,Tk=2,Yg=3,sj=4,Uk=5,$e=Ig,oh=null,gf=null,gh=0,Hg=rj,Ug=null,$h=1073741823,gk=1073741823,xg=null,Tg=0,Mj=!1,Rk=0,li=500,ue=null,Bk=!1,Yh=null,Zh=null,hk=!1,Nj=null,ik=90,$i=null,Zi=0,Dk=null,Ck=0;var kl=function(e,h,A){var da=h.expirationTime;if(null!==e){var Ba=h.pendingProps;if(e.memoizedProps!==Ba||Dg.current)dh=!0;else{if(da<A){dh=!1;switch(h.tag){case 3:ca(h);If=Ve=null;td=!1;break;case 5:M(h);if(h.mode&4&&1!==
A&&Ba.hidden)return h.expirationTime=h.childExpirationTime=1,null;break;case 1:Xd(h.type)&&Ke(h);break;case 4:ag(h,h.stateNode.containerInfo);break;case 10:da=h.memoizedProps.value;Ba=h.type._context;Ac(Yj,Ba._currentValue);Ba._currentValue=da;break;case 13:if(null!==h.memoizedState){da=h.child.childExpirationTime;if(0!==da&&da>=A)return na(e,h,A);Ac(rg,rg.current&1);h=gc(e,h,A);return null!==h?h.sibling:null}Ac(rg,rg.current&1);break;case 19:da=h.childExpirationTime>=A;if(0!==(e.effectTag&64)){if(da)return Sb(e,
h,A);h.effectTag|=64}Ba=h.memoizedState;null!==Ba&&(Ba.rendering=null,Ba.tail=null);Ac(rg,rg.current);if(!da)return null}return gc(e,h,A)}dh=!1}}else dh=!1;h.expirationTime=0;switch(h.tag){case 2:da=h.type;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;Ba=Be(h,mg.current);uc(h,A);Ba=jc(null,h,da,e,Ba,A);h.effectTag|=1;if("object"===typeof Ba&&null!==Ba&&"function"===typeof Ba.render&&void 0===Ba.$$typeof){h.tag=1;h.memoizedState=null;h.updateQueue=null;if(Xd(da)){var yb=
!0;Ke(h)}else yb=!1;h.memoizedState=null!==Ba.state&&void 0!==Ba.state?Ba.state:null;id(h);var Jb=da.getDerivedStateFromProps;"function"===typeof Jb&&Me(h,da,Jb,e);Ba.updater=vk;h.stateNode=Ba;Ba._reactInternalFiber=h;Ue(h,da,e,A);h=F(null,h,da,!0,yb,A)}else h.tag=0,tb(null,h,Ba,A),h=h.child;return h;case 16:a:{Ba=h.elementType;null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2);e=h.pendingProps;ka(Ba);if(1!==Ba._status)throw Ba._result;Ba=Ba._result;h.type=Ba;yb=h.tag=jk(Ba);e=Vb(Ba,e);
switch(yb){case 0:h=pc(null,h,Ba,e,A);break a;case 1:h=u(null,h,Ba,e,A);break a;case 11:h=pb(null,h,Ba,e,A);break a;case 14:h=Ab(null,h,Ba,Vb(Ba.type,e),da,A);break a}throw Error(n(306,Ba,""));}return h;case 0:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),pc(e,h,da,Ba,A);case 1:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),u(e,h,da,Ba,A);case 3:ca(h);da=h.updateQueue;if(null===e||null===da)throw Error(n(282));da=h.pendingProps;Ba=h.memoizedState;Ba=
null!==Ba?Ba.element:null;fd(e,h);le(h,da,null,A);da=h.memoizedState.element;if(da===Ba)If=Ve=null,td=!1,h=gc(e,h,A);else{if(Ba=h.stateNode.hydrate)If=kc(h.stateNode.containerInfo.firstChild),Ve=h,Ba=td=!0;if(Ba)for(A=Pk(h,null,da,A),h.child=A;A;)A.effectTag=A.effectTag&-3|1024,A=A.sibling;else tb(e,h,da,A),If=Ve=null,td=!1;h=h.child}return h;case 5:return M(h),null===e&&ya(h),da=h.type,Ba=h.pendingProps,yb=null!==e?e.memoizedProps:null,Jb=Ba.children,sc(da,Ba)?Jb=null:null!==yb&&sc(da,yb)&&(h.effectTag|=
16),Yb(e,h),h.mode&4&&1!==A&&Ba.hidden?(h.expirationTime=h.childExpirationTime=1,h=null):(tb(e,h,Jb,A),h=h.child),h;case 6:return null===e&&ya(h),null;case 13:return na(e,h,A);case 4:return ag(h,h.stateNode.containerInfo),da=h.pendingProps,null===e?h.child=Xi(h,null,da,A):tb(e,h,da,A),h.child;case 11:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),pb(e,h,da,Ba,A);case 7:return tb(e,h,h.pendingProps,A),h.child;case 8:return tb(e,h,h.pendingProps.children,A),h.child;case 12:return tb(e,
h,h.pendingProps.children,A),h.child;case 10:a:{da=h.type._context;Ba=h.pendingProps;Jb=h.memoizedProps;yb=Ba.value;var ic=h.type._context;Ac(Yj,ic._currentValue);ic._currentValue=yb;if(null!==Jb)if(ic=Jb.value,yb=ra(ic,yb)?0:("function"===typeof da._calculateChangedBits?da._calculateChangedBits(ic,yb):1073741823)|0,0===yb){if(Jb.children===Ba.children&&!Dg.current){h=gc(e,h,A);break a}}else for(ic=h.child,null!==ic&&(ic.return=h);null!==ic;){var dd=ic.dependencies;if(null!==dd){Jb=ic.child;for(var Zc=
dd.firstContext;null!==Zc;){if(Zc.context===da&&0!==(Zc.observedBits&yb)){1===ic.tag&&(Zc=se(A,null),Zc.tag=2,xd(ic,Zc));ic.expirationTime<A&&(ic.expirationTime=A);Zc=ic.alternate;null!==Zc&&Zc.expirationTime<A&&(Zc.expirationTime=A);Gc(ic.return,A);dd.expirationTime<A&&(dd.expirationTime=A);break}Zc=Zc.next}}else Jb=10===ic.tag?ic.type===h.type?null:ic.child:ic.child;if(null!==Jb)Jb.return=ic;else for(Jb=ic;null!==Jb;){if(Jb===h){Jb=null;break}ic=Jb.sibling;if(null!==ic){ic.return=Jb.return;Jb=ic;
break}Jb=Jb.return}ic=Jb}tb(e,h,Ba.children,A);h=h.child}return h;case 9:return Ba=h.type,yb=h.pendingProps,da=yb.children,uc(h,A),Ba=Fc(Ba,yb.unstable_observedBits),da=da(Ba),h.effectTag|=1,tb(e,h,da,A),h.child;case 14:return Ba=h.type,yb=Vb(Ba,h.pendingProps),yb=Vb(Ba.type,yb),Ab(e,h,Ba,yb,da,A);case 15:return Eb(e,h,h.type,h.pendingProps,da,A);case 17:return da=h.type,Ba=h.pendingProps,Ba=h.elementType===da?Ba:Vb(da,Ba),null!==e&&(e.alternate=null,h.alternate=null,h.effectTag|=2),h.tag=1,Xd(da)?
(e=!0,Ke(h)):e=!1,uc(h,A),Zf(h,da,Ba),Ue(h,da,Ba,A),F(null,h,da,!0,e,A);case 19:return Sb(e,h,A)}throw Error(n(156,h.tag));};var Vk=null,Ak=null;Ih.prototype.render=function(e){uj(e,this._internalRoot,null,null)};Ih.prototype.unmount=function(){var e=this._internalRoot,h=e.containerInfo;uj(null,e,null,function(){h[Dh]=null})};var Lk=function(e){if(13===e.tag){var h=Wa(vc(),150,100);nd(e,h);cj(e,h)}};var bl=function(e){13===e.tag&&(nd(e,3),cj(e,3))};var yl=function(e){if(13===e.tag){var h=vc();h=hd(h,
e,null);nd(e,h);cj(e,h)}};Oi=function(e,h,A){switch(h){case "input":Q(e,A);h=A.name;if("radio"===A.type&&null!=h){for(A=e;A.parentNode;)A=A.parentNode;A=A.querySelectorAll("input[name\x3d"+JSON.stringify(""+h)+'][type\x3d"radio"]');for(h=0;h<A.length;h++){var da=A[h];if(da!==e&&da.form===e.form){var Ba=tc(da);if(!Ba)throw Error(n(90));$a(da);Q(da,Ba)}}}break;case "textarea":sa(e,A);break;case "select":h=A.value,null!=h&&Qa(e,!!A.multiple,h,!1)}};rb=bf;Xa=function(e,h,A,da,Ba){var yb=$e;$e|=4;try{return Pe(98,
e.bind(null,h,A,da,Ba))}finally{$e=yb,$e===Ig&&wa()}};Ha=function(){($e&(1|qh|Fh))===Ig&&(ce(),rh())};Nh=function(e,h){var A=$e;$e|=2;try{return e(h)}finally{$e=A,$e===Ig&&wa()}};var Dl={Events:[Lb,hc,tc,Ob,Bj,Jc,function(e){oa(e,xc)},cb,ob,sd,Ja,rh,{current:!1}]};(function(e){var h=e.findFiberByHostInstance;return mi(Ag({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yg.ReactCurrentDispatcher,findHostInstanceByFiber:function(A){A=ha(A);
return null===A?null:A.stateNode},findFiberByHostInstance:function(A){return h?h(A):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:sb,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"});Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dl;Nb.createPortal=lk;Nb.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var h=e._reactInternalFiber;if(void 0===h){if("function"===
typeof e.render)throw Error(n(188));throw Error(n(268,Object.keys(e)));}e=ha(h);return e=null===e?null:e.stateNode};Nb.flushSync=function(e,h){if(($e&(qh|Fh))!==Ig)throw Error(n(187));var A=$e;$e|=1;try{return Pe(99,e.bind(null,h))}finally{$e=A,wa()}};Nb.hydrate=function(e,h,A){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!0,A)};Nb.render=function(e,h,A){if(!Jh(h))throw Error(n(200));return Pg(null,e,h,!1,A)};Nb.unmountComponentAtNode=function(e){if(!Jh(e))throw Error(n(40));return e._reactRootContainer?
(qf(function(){Pg(null,null,e,!1,function(){e._reactRootContainer=null;e[Dh]=null})}),!0):!1};Nb.unstable_batchedUpdates=bf;Nb.unstable_createPortal=function(e,h){return lk(e,h,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};Nb.unstable_renderSubtreeIntoContainer=function(e,h,A,da){if(!Jh(A))throw Error(n(200));if(null==e||void 0===e._reactInternalFiber)throw Error(n(38));return Pg(e,h,A,!1,da)};Nb.version="16.13.1"};
shadow$provide[14]=function($b,Rb,Ic,Nb){function n(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(x){console.error(x)}}n();Ic.exports=Rb(9)};
shadow$provide[15]=function($b,Rb,Ic,Nb){function n(z,I,Q){return parseInt(z.substr(I,Q),16)}function x(z){z|=0;return 0>z?"00":16>z?"0"+z.toString(16):256>z?z.toString(16):"ff"}function ea(z,I,Q){Q=0>Q?Q+6:6<Q?Q-6:Q;return x(255*(1>Q?z+(I-z)*Q:3>Q?I:4>Q?z+(I-z)*(4-Q):z))}function Sa(z){if(/^#[0-9a-f]{3,8}$/i.test(z)){var I=z.length;if(6>I){var Q=z[1];var J=z[2],W=z[3],Y=z[4]||"";Q="#"+Q+Q+J+J+W+W+Y+Y}if(7==I||8<I)Q=z;return Q}}function Wb(z){var I=n(z,7,2);if(isNaN(I))I=z;else{var Q=n(z,1,2),J=n(z,
3,2);z=n(z,5,2);I="rgba("+Q+","+J+","+z+","+(I/255).toFixed(2)+")"}return I}function fb(z,I,Q){var J=[.55,.5,.5,.46,.6,.55,.55][6*z+.5|0];Q=.5>Q?Q*J*2:J+(Q-.5)*(1-J)*2;0==I?(z=x(255*Q),z=z+z+z):(I=.5>=Q?Q*(I+1):Q+I-Q*I,Q=2*Q-I,z=ea(Q,I,6*z+2)+ea(Q,I,6*z)+ea(Q,I,6*z-2));return"#"+z}function ub(z,I){function Q(U,sa){var ua=W[U];ua&&1<ua.length||(ua=sa);return function(la){la=ua[0]+la*(ua[1]-ua[0]);return 0>la?0:1<la?1:la}}var J="object"==typeof z&&z||Ya[Ra.n]||Aa[Ra.W]||{},W=J.lightness||{},Y=J.saturation||
{},ma="color"in Y?Y.color:Y;Y=Y.grayscale;var Qa=J.backColor,Ua=J.padding;return{X:function(U){var sa=J.hues,ua;sa&&0<sa.length&&(ua=sa[0|.999*U*sa.length]);return"number"==typeof ua?(ua/360%1+1)%1:U},o:"number"==typeof ma?ma:.5,F:"number"==typeof Y?Y:0,p:Q("color",[.4,.8]),G:Q("grayscale",[.3,.9]),H:Sa(Qa),Y:"number"==typeof z?z:"number"==typeof Ua?Ua:I}}function Ob(z,I){this.x=z;this.y=I}function zb(z,I,Q,J){this.q=z;this.t=I;this.I=Q;this.Z=J}function cb(z){this.K=z;this.u=ib}function ob(z,I,Q,
J){z%=14;var W,Y,ma,Qa,Ua,U;z?1==z?(ma=0|.5*Q,Qa=0|.8*Q,I.j(Q-ma,0,ma,Qa,2)):2==z?(ma=0|Q/3,I.i(ma,ma,Q-ma,Q-ma)):3==z?(Ua=.1*Q,U=6>Q?1:8>Q?2:0|.25*Q,Ua=1<Ua?0|Ua:.5<Ua?1:Ua,I.i(U,U,Q-Ua-U,Q-Ua-U)):4==z?(Y=0|.15*Q,ma=0|.5*Q,I.h(Q-ma-Y,Q-ma-Y,ma)):5==z?(Ua=.1*Q,U=4*Ua,3<U&&(U|=0),I.i(0,0,Q,Q),I.g([U,U,Q-Ua,U,U+(Q-U-Ua)/2,Q-Ua],!0)):6==z?I.g([0,0,Q,0,Q,.7*Q,.4*Q,.4*Q,.7*Q,Q,0,Q]):7==z?I.j(Q/2,Q/2,Q/2,Q/2,3):8==z?(I.i(0,0,Q,Q/2),I.i(0,Q/2,Q/2,Q/2),I.j(Q/2,Q/2,Q/2,Q/2,1)):9==z?(Ua=.14*Q,U=4>Q?1:6>Q?2:
0|.35*Q,Ua=8>Q?Ua:0|Ua,I.i(0,0,Q,Q),I.i(U,U,Q-U-Ua,Q-U-Ua,!0)):10==z?(Ua=.12*Q,U=3*Ua,I.i(0,0,Q,Q),I.h(U,U,Q-Ua-U,!0)):11==z?I.j(Q/2,Q/2,Q/2,Q/2,3):12==z?(Y=.25*Q,I.i(0,0,Q,Q),I.L(Y,Y,Q-Y,Q-Y,!0)):!J&&(Y=.4*Q,ma=1.2*Q,I.h(Y,Y,ma)):(W=.42*Q,I.g([0,0,Q,0,Q,Q-2*W,Q-W,Q,0,Q]))}function rb(z,I,Q){z%=4;var J;z?1==z?I.j(0,Q/2,Q,Q/2,0):2==z?I.L(0,0,Q,Q):(J=Q/6,I.h(J,J,Q-2*J)):I.j(0,0,Q,Q,0)}function Xa(z,I){z=I.X(z);return[fb(z,I.F,I.G(0)),fb(z,I.o,I.p(.5)),fb(z,I.F,I.G(1)),fb(z,I.o,I.p(1)),fb(z,I.o,I.p(0))]}
function Ha(z,I,Q){function J(v,w,p,r,D){p=n(I,p,1);r=r?n(I,r,1):0;z.M(ua[la[v]]);for(v=0;v<D.length;v++)Qa.u=new zb(U+D[v][0]*Ua,sa+D[v][1]*Ua,Ua,r++%4),w(p,Qa,Ua,v);z.N()}function W(v){if(0<=v.indexOf(T))for(var w=0;w<v.length;w++)if(0<=la.indexOf(v[w]))return!0}Q=ub(Q,.08);Q.H&&z.m(Q.H);var Y=z.k,ma=.5+Y*Q.Y|0;Y-=2*ma;var Qa=new cb(z),Ua=0|Y/4,U=0|ma+Y/2-2*Ua,sa=0|ma+Y/2-2*Ua;Y=n(I,-7)/268435455;var ua=Xa(Y,Q),la=[];for(Q=0;3>Q;Q++){var T=n(I,8+Q,1)%ua.length;if(W([0,4])||W([2,3]))T=1;la.push(T)}J(0,
rb,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]);J(1,rb,4,5,[[0,0],[3,0],[3,3],[0,3]]);J(2,ob,1,null,[[1,1],[2,1],[2,2],[1,2]]);z.finish()}function Ia(z){return/^[0-9a-f]{11,}$/i.test(z)&&z}function Za(z){var I=0,Q=0,J=encodeURI(null==z?"":""+z)+"%80";z=[];for(var W=[],Y=1732584193,ma=4023233417,Qa=~Y,Ua=~ma,U=3285377520,sa=[Y,ma,Qa,Ua,U],ua=0,la="";I<J.length;Q++)z[Q>>2]|=("%"==J[I]?parseInt(J.substring(I+1,I+=3),16):J.charCodeAt(I++))<<8*(3-(Q&3));J=16*((Q+7>>6)+1);for(z[J-1]=8*Q-8;ua<
J;ua+=16){for(I=0;80>I;I++){Q=(Y<<5|Y>>>27)+U+(20>I?(ma&Qa^~ma&Ua)+1518500249:40>I?(ma^Qa^Ua)+1859775393:60>I?(ma&Qa^ma&Ua^Qa&Ua)+2400959708:(ma^Qa^Ua)+3395469782);U=I;if(16>I)var T=z[ua+I]|0;else T=W[I-3]^W[I-8]^W[I-14]^W[I-16],T=T<<1|T>>>31;Q+=W[U]=T;U=Ua;Ua=Qa;Qa=ma<<30|ma>>>2;ma=Y;Y=Q}sa[0]=Y=sa[0]+Y|0;sa[1]=ma=sa[1]+ma|0;sa[2]=Qa=sa[2]+Qa|0;sa[3]=Ua=sa[3]+Ua|0;sa[4]=U=sa[4]+U|0}for(I=0;40>I;I++)la+=(sa[I>>3]>>>4*(7-(I&7))&15).toString(16);return la}function mb(z,I){var Q=z.canvas,J=Q.width;Q=
Q.height;z.save();I||(I=Math.min(J,Q),z.translate((J-I)/2|0,(Q-I)/2|0));this.l=z;this.k=I;z.clearRect(0,0,I,I)}function Da(){this.v=""}function Fa(z){this.B={};this.O=z;this.k=z.k}function hb(z){this.k=z;this.C='\x3csvg xmlns\x3d"'+db.R+'" width\x3d"'+z+'" height\x3d"'+z+'" viewBox\x3d"0 0 '+z+" "+z+'"\x3e'}function Ca(z,I){for(var Q=[],J=arguments.length-2;0<J--;)Q[J]=arguments[J+2];J=document.createElementNS(db.R,I);for(var W=0;W+1<Q.length;W+=2)J.setAttribute(Q[W],Q[W+1]);z.appendChild(J)}function bb(z){var I=
this.k=Math.min(Number(z.getAttribute(db.S))||100,Number(z.getAttribute(db.T))||100);for(this.V=z;z.firstChild;)z.removeChild(z.firstChild);z.setAttribute("viewBox","0 0 "+I+" "+I);z.setAttribute("preserveAspectRatio","xMidYMid meet")}function La(z,I,Q){ka(z,I,Q,function(J,W){if(W)return 1==W?new Fa(new bb(J)):new mb(J.getContext("2d"))})}function ka(z,I,Q,J){if("string"===typeof z){if(S){z=S(z);for(var W=0;W<z.length;W++)ka(z[W],I,Q,J)}}else if(I=Ia(I)||null!=I&&Za(I)||Ia(z.getAttribute(nb.U))||
z.hasAttribute(nb.D)&&Za(z.getAttribute(nb.D))){a:{if(z){W=z.tagName;if(/^svg$/i.test(W)){W=1;break a}if(/^canvas$/i.test(W)&&"getContext"in z){W=2;break a}}W=void 0}(J=J(z,W))&&Ha(J,I,Q)}}var Aa="undefined"!==typeof window?window:"undefined"!==typeof self?self:"undefined"!==typeof $b?$b:{},Ra={W:"jdenticon_config",n:"config"},Ya={};zb.prototype.J=function(z,I,Q,J){var W=this.q+this.I,Y=this.t+this.I,ma=this.Z;return 1===ma?new Ob(W-I-(J||0),this.t+z):2===ma?new Ob(W-z-(Q||0),Y-I-(J||0)):3===ma?new Ob(this.q+
I,Y-z-(Q||0)):new Ob(this.q+z,this.t+I)};var ib=new zb(0,0,0,0);$b=cb.prototype;$b.g=function(z,I){var Q=I?-2:2,J=[];for(I=I?z.length-2:0;I<z.length&&0<=I;I+=Q)J.push(this.u.J(z[I],z[I+1]));this.K.g(J)};$b.h=function(z,I,Q,J){z=this.u.J(z,I,Q,Q);this.K.h(z,Q,J)};$b.i=function(z,I,Q,J,W){this.g([z,I,z+Q,I,z+Q,I+J,z,I+J],W)};$b.j=function(z,I,Q,J,W,Y){z=[z+Q,I,z+Q,I+J,z,I+J,z,I];z.splice((W||0)%4*2,2);this.g(z,Y)};$b.L=function(z,I,Q,J,W){this.g([z+Q/2,I,z+Q,I+J/2,z+Q/2,I+J,z,I+J/2],W)};$b=mb.prototype;
$b.m=function(z){var I=this.l,Q=this.k;I.fillStyle=Wb(z);I.fillRect(0,0,Q,Q)};$b.M=function(z){var I=this.l;I.fillStyle=Wb(z);I.beginPath()};$b.N=function(){this.l.fill()};$b.g=function(z){var I=this.l;I.moveTo(z[0].x,z[0].y);for(var Q=1;Q<z.length;Q++)I.lineTo(z[Q].x,z[Q].y);I.closePath()};$b.h=function(z,I,Q){var J=this.l;I/=2;J.moveTo(z.x+I,z.y+I);J.arc(z.x+I,z.y+I,I,0,2*Math.PI,Q);J.closePath()};$b.finish=function(){this.l.restore()};$b=Da.prototype;$b.g=function(z){for(var I="",Q=0;Q<z.length;Q++)I+=
(Q?"L":"M")+(10*z[Q].x+.5|0)/10+" "+(10*z[Q].y+.5|0)/10;this.v+=I+"Z"};$b.h=function(z,I,Q){var J=(I/2*10+.5|0)/10,W=(10*I+.5|0)/10;Q="a"+J+","+J+" 0 1,"+(Q?0:1)+" ";this.v+="M"+(10*z.x+.5|0)/10+" "+(10*(z.y+I/2)+.5|0)/10+Q+W+",0"+Q+-W+",0"};$b=Fa.prototype;$b.m=function(z){z=/^(#......)(..)?/.exec(z);var I=z[2]?n(z[2],0)/255:1;this.O.m(z[1],I)};$b.M=function(z){this.A=this.B[z]||(this.B[z]=new Da)};$b.N=function(){};$b.g=function(z){this.A.g(z)};$b.h=function(z,I,Q){this.A.h(z,I,Q)};$b.finish=function(){var z=
this.B,I;for(I in z)z.hasOwnProperty(I)&&this.O.P(I,z[I].v)};var db={R:"http://www.w3.org/2000/svg",S:"width",T:"height"};$b=hb.prototype;$b.m=function(z,I){I&&(this.C+='\x3crect width\x3d"100%" height\x3d"100%" fill\x3d"'+z+'" opacity\x3d"'+I.toFixed(2)+'"/\x3e')};$b.P=function(z,I){this.C+='\x3cpath fill\x3d"'+z+'" d\x3d"'+I+'"/\x3e'};$b.toString=function(){return this.C+"\x3c/svg\x3e"};var nb={U:"data-jdenticon-hash",D:"data-jdenticon-value"},$a="["+nb.U+"],["+nb.D+"]",S="undefined"!==typeof document&&
document.querySelectorAll.bind(document);$b=bb.prototype;$b.m=function(z,I){I&&Ca(this.V,"rect",db.S,"100%",db.T,"100%","fill",z,"opacity",I)};$b.P=function(z,I){Ca(this.V,"path","fill",z,"d",I)};Ya=$b=function(){S&&La($a)};$b.configure=function(z){arguments.length&&(Ya[Ra.n]=z);return Ya[Ra.n]};$b.drawIcon=function(z,I,Q,J){if(!z)throw Error("No canvas specified.");Ha(new mb(z,Q),Ia(I)||Za(I),J)};$b.toSvg=function(z,I,Q){I=new hb(I);Ha(new Fa(I),Ia(z)||Za(z),Q);return I.toString()};$b.update=La;
$b.updateCanvas=function(z,I,Q){ka(z,I,Q,function(J,W){if(2==W)return new mb(J.getContext("2d"))})};$b.updateSvg=function(z,I,Q){ka(z,I,Q,function(J,W){if(1==W)return new Fa(new bb(J))})};$b.version="3.1.0";$b.bundle="browser-cjs";Ic.exports=$b};
shadow$provide[16]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?Ic.exports=x():"function"===typeof define&&define.amd?define(x):(n="undefined"!==typeof globalThis?globalThis:n||self,n.marked=x())})(this,function(){function n(E,H){for(var C=0;C<H.length;C++){var ha=H[C];ha.enumerable=ha.enumerable||!1;ha.configurable=!0;"value"in ha&&(ha.writable=!0);Object.defineProperty(E,ha.key,ha)}}function x(E,H,C){H&&n(E.prototype,H);C&&n(E,C);return E}function ea(E,H){if(E){if("string"===
typeof E)return Sa(E,H);var C=Object.prototype.toString.call(E).slice(8,-1);"Object"===C&&E.constructor&&(C=E.constructor.name);if("Map"===C||"Set"===C)return Array.from(E);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return Sa(E,H)}}function Sa(E,H){if(null==H||H>E.length)H=E.length;for(var C=0,ha=Array(H);C<H;C++)ha[C]=E[C];return ha}function Wb(E,H){var C;if("undefined"===typeof Symbol||null==E[Symbol.iterator]){if(Array.isArray(E)||(C=ea(E))||H&&E&&"number"===typeof E.length){C&&
(E=C);var ha=0;return function(){return ha>=E.length?{done:!0}:{done:!1,value:E[ha++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}C=E[Symbol.iterator]();return C.next.bind(C)}function fb(E){return E.replace(hb,function(H,C){C=C.toLowerCase();return"colon"===C?":":"#"===C.charAt(0)?"x"===C.charAt(1)?String.fromCharCode(parseInt(C.substring(2),16)):String.fromCharCode(+C.substring(1)):
""})}function ub(E,H,C){var ha=E.length;if(0===ha)return"";for(var xa=0;xa<ha;){var oa=E.charAt(ha-xa-1);if(oa!==H||C)if(oa!==H&&C)xa++;else break;else xa++}return E.substr(0,ha-xa)}function Ob(E,H,C){var ha=H.href;H=H.title?S(H.title):null;var xa=E[1].replace(/\\([\[\]])/g,"$1");return"!"!==E[0].charAt(0)?{type:"link",raw:C,href:ha,title:H,text:xa}:{type:"image",raw:C,href:ha,title:H,text:S(xa)}}function zb(E,H){E=E.match(/^(\s+)(?:```)/);if(null===E)return H;var C=E[1];return H.split("\n").map(function(ha){var xa=
ha.match(/^\s+/);return null===xa?ha:xa[0].length>=C.length?ha.slice(C.length):ha}).join("\n")}function cb(E){return E.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function ob(E){var H="",C,ha=E.length;for(C=0;C<ha;C++){var xa=E.charCodeAt(C);.5<Math.random()&&(xa="x"+xa.toString(16));H+="\x26#"+xa+";"}return H}function rb(E,H,C){if("undefined"===typeof E||null===
E)throw Error("marked(): input parameter is undefined or null");if("string"!==typeof E)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(E)+", string expected");"function"===typeof H&&(C=H,H=null);H=w({},rb.defaults,H||{});p(H);if(C){var ha=H.highlight;try{var xa=Qa.lex(E,H)}catch(ba){return C(ba)}var oa=function(ba){if(!ba)try{var ta=v.parse(xa,H)}catch(eb){ba=eb}H.highlight=ha;return ba?C(ba):C(null,ta)};if(!ha||3>ha.length)return oa();delete H.highlight;if(!xa.length)return oa();
var Va=0;rb.walkTokens(xa,function(ba){"code"===ba.type&&(Va++,setTimeout(function(){ha(ba.text,ba.lang,function(ta,eb){if(ta)return oa(ta);null!=eb&&eb!==ba.text&&(ba.text=eb,ba.escaped=!0);Va--;0===Va&&oa()})},0))});0===Va&&oa()}else try{var Ja=Qa.lex(E,H);H.walkTokens&&rb.walkTokens(Ja,H.walkTokens);return v.parse(Ja,H)}catch(ba){ba.message+="\nPlease report this to https://github.com/markedjs/marked.";if(H.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+r(ba.message+"",!0)+"\x3c/pre\x3e";
throw ba;}}var Xa=function(E,H){return H={exports:{}},E(H,H.exports),H.exports}(function(E){function H(){return{baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}E.exports={defaults:H(),getDefaults:H,changeDefaults:function(C){E.exports.defaults=C}}}),Ha=/[&<>"']/,Ia=/[&<>"']/g,Za=/[<>"']|&(?!#?\w+;)/,mb=/[<>"']|&(?!#?\w+;)/g,
Da={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},Fa=function(E){return Da[E]},hb=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,Ca=/(^|[^\[])\^/g,bb=/[^\w:]/g,La=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,ka={},Aa=/^[^:]+:\/*[^/]*$/,Ra=/^([^:]+:)[\s\S]*$/,Ya=/^([^:]+:\/*[^/]*)[\s\S]*$/,ib=function(E,H){if(H){if(Ha.test(E))return E.replace(Ia,Fa)}else if(Za.test(E))return E.replace(mb,Fa);return E},db=function(E){for(var H=1,C,ha;H<arguments.length;H++)for(ha in C=arguments[H],
C)Object.prototype.hasOwnProperty.call(C,ha)&&(E[ha]=C[ha]);return E},nb=Xa.defaults,$a=function(E,H){E=E.replace(/\|/g,function(ha,xa,oa){for(ha=!1;0<=--xa&&"\\"===oa[xa];)ha=!ha;return ha?"|":" |"}).split(/ \|/);var C=0;if(E.length>H)E.splice(H);else for(;E.length<H;)E.push("");for(;C<E.length;C++)E[C]=E[C].trim().replace(/\\\|/g,"|");return E},S=ib,z=function(){function E(C){this.options=C||nb}var H=E.prototype;H.space=function(C){if(C=this.rules.block.newline.exec(C))return 1<C[0].length?{type:"space",
raw:C[0]}:{raw:"\n"}};H.code=function(C,ha){if(C=this.rules.block.code.exec(C)){if((ha=ha[ha.length-1])&&"paragraph"===ha.type)return{raw:C[0],text:C[0].trimRight()};ha=C[0].replace(/^ {4}/gm,"");return{type:"code",raw:C[0],codeBlockStyle:"indented",text:this.options.pedantic?ha:ub(ha,"\n")}}};H.fences=function(C){if(C=this.rules.block.fences.exec(C)){var ha=C[0],xa=zb(ha,C[3]||"");return{type:"code",raw:ha,lang:C[2]?C[2].trim():C[2],text:xa}}};H.heading=function(C){if(C=this.rules.block.heading.exec(C)){var ha=
C[2].trim();if(/#$/.test(ha)){var xa=ub(ha,"#");if(this.options.pedantic)ha=xa.trim();else if(!xa||/ $/.test(xa))ha=xa.trim()}return{type:"heading",raw:C[0],depth:C[1].length,text:ha}}};H.nptable=function(C){if(C=this.rules.block.nptable.exec(C))if(C={type:"table",header:$a(C[1].replace(/^ *| *\| *$/g,"")),align:C[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:C[3]?C[3].replace(/\n$/,"").split("\n"):[],raw:C[0]},C.header.length===C.align.length){var ha=C.align.length,xa;for(xa=0;xa<ha;xa++)/^ *-+: *$/.test(C.align[xa])?
C.align[xa]="right":/^ *:-+: *$/.test(C.align[xa])?C.align[xa]="center":/^ *:-+ *$/.test(C.align[xa])?C.align[xa]="left":C.align[xa]=null;ha=C.cells.length;for(xa=0;xa<ha;xa++)C.cells[xa]=$a(C.cells[xa],C.header.length);return C}};H.hr=function(C){if(C=this.rules.block.hr.exec(C))return{type:"hr",raw:C[0]}};H.blockquote=function(C){if(C=this.rules.block.blockquote.exec(C)){var ha=C[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:C[0],text:ha}}};H.list=function(C){var ha=this.rules.block.list.exec(C);
if(ha){C=ha[0];var xa=ha[2],oa=1<xa.length,Va={type:"list",raw:C,ordered:oa,start:oa?+xa.slice(0,-1):"",loose:!1,items:[]};ha=ha[0].match(this.rules.block.item);var Ja=!1,ba,ta=ha.length;var eb=this.rules.block.listItemStart.exec(ha[0]);for(var xb=0;xb<ta;xb++){C=ba=ha[xb];if(xb!==ta-1){var Kb=this.rules.block.listItemStart.exec(ha[xb+1]);if(Kb[1].length>eb[0].length||3<Kb[1].length){ha.splice(xb,2,ha[xb]+"\n"+ha[xb+1]);xb--;ta--;continue}else if(!this.options.pedantic||this.options.smartLists?Kb[2][Kb[2].length-
1]!==xa[xa.length-1]:oa===(1===Kb[2].length))eb=ha.slice(xb+1).join("\n"),Va.raw=Va.raw.substring(0,Va.raw.length-eb.length),xb=ta-1;eb=Kb}Kb=ba.length;ba=ba.replace(/^ *([*+-]|\d+[.)]) ?/,"");~ba.indexOf("\n ")&&(Kb-=ba.length,ba=this.options.pedantic?ba.replace(/^ {1,4}/gm,""):ba.replace(new RegExp("^ {1,"+Kb+"}","gm"),""));Kb=Ja||/\n\n(?!\s*$)/.test(ba);xb!==ta-1&&(Ja="\n"===ba.charAt(ba.length-1),Kb||(Kb=Ja));Kb&&(Va.loose=!0);if(this.options.gfm){var fc=/^\[[ xX]\] /.test(ba);var Ec=void 0;fc&&
(Ec=" "!==ba[1],ba=ba.replace(/^\[[ xX]\] +/,""))}Va.items.push({type:"list_item",raw:C,task:fc,checked:Ec,loose:Kb,text:ba})}return Va}};H.html=function(C){if(C=this.rules.block.html.exec(C))return{type:this.options.sanitize?"paragraph":"html",raw:C[0],pre:!this.options.sanitizer&&("pre"===C[1]||"script"===C[1]||"style"===C[1]),text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(C[0]):S(C[0]):C[0]}};H.def=function(C){if(C=this.rules.block.def.exec(C))return C[3]&&(C[3]=C[3].substring(1,
C[3].length-1)),{tag:C[1].toLowerCase().replace(/\s+/g," "),raw:C[0],href:C[2],title:C[3]}};H.table=function(C){var ha=this.rules.block.table.exec(C);if(ha&&(C={type:"table",header:$a(ha[1].replace(/^ *| *\| *$/g,"")),align:ha[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:ha[3]?ha[3].replace(/\n$/,"").split("\n"):[]},C.header.length===C.align.length)){C.raw=ha[0];ha=C.align.length;var xa;for(xa=0;xa<ha;xa++)/^ *-+: *$/.test(C.align[xa])?C.align[xa]="right":/^ *:-+: *$/.test(C.align[xa])?C.align[xa]=
"center":/^ *:-+ *$/.test(C.align[xa])?C.align[xa]="left":C.align[xa]=null;ha=C.cells.length;for(xa=0;xa<ha;xa++)C.cells[xa]=$a(C.cells[xa].replace(/^ *\| *| *\| *$/g,""),C.header.length);return C}};H.lheading=function(C){if(C=this.rules.block.lheading.exec(C))return{type:"heading",raw:C[0],depth:"\x3d"===C[2].charAt(0)?1:2,text:C[1]}};H.paragraph=function(C){if(C=this.rules.block.paragraph.exec(C))return{type:"paragraph",raw:C[0],text:"\n"===C[1].charAt(C[1].length-1)?C[1].slice(0,-1):C[1]}};H.text=
function(C,ha){if(C=this.rules.block.text.exec(C))return(ha=ha[ha.length-1])&&"text"===ha.type?{raw:C[0],text:C[0]}:{type:"text",raw:C[0],text:C[0]}};H.escape=function(C){if(C=this.rules.inline.escape.exec(C))return{type:"escape",raw:C[0],text:S(C[1])}};H.tag=function(C,ha,xa){if(C=this.rules.inline.tag.exec(C))return!ha&&/^<a /i.test(C[0])?ha=!0:ha&&/^<\/a>/i.test(C[0])&&(ha=!1),!xa&&/^<(pre|code|kbd|script)(\s|>)/i.test(C[0])?xa=!0:xa&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(C[0])&&(xa=!1),{type:this.options.sanitize?
"text":"html",raw:C[0],inLink:ha,inRawBlock:xa,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(C[0]):S(C[0]):C[0]}};H.link=function(C){if(C=this.rules.inline.link.exec(C)){var ha=C[2].trim();if(!this.options.pedantic&&/^</.test(ha)){if(!/>$/.test(ha))return;var xa=ub(ha.slice(0,-1),"\\");if(0===(ha.length-xa.length)%2)return}else{a:{xa=C[2];if(-1!==xa.indexOf(")"))for(var oa=xa.length,Va=0,Ja=0;Ja<oa;Ja++)if("\\"===xa[Ja])Ja++;else if("("===xa[Ja])Va++;else if(")"===xa[Ja]&&
(Va--,0>Va)){xa=Ja;break a}xa=-1}-1<xa&&(oa=(0===C[0].indexOf("!")?5:4)+C[1].length+xa,C[2]=C[2].substring(0,xa),C[0]=C[0].substring(0,oa).trim(),C[3]="")}xa=C[2];oa="";if(this.options.pedantic){if(Va=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(xa))xa=Va[1],oa=Va[3]}else oa=C[3]?C[3].slice(1,-1):"";xa=xa.trim();/^</.test(xa)&&(xa=this.options.pedantic&&!/>$/.test(ha)?xa.slice(1):xa.slice(1,-1));return Ob(C,{href:xa?xa.replace(this.rules.inline._escapes,"$1"):xa,title:oa?oa.replace(this.rules.inline._escapes,
"$1"):oa},C[0])}};H.reflink=function(C,ha){var xa;if((xa=this.rules.inline.reflink.exec(C))||(xa=this.rules.inline.nolink.exec(C)))return C=(xa[2]||xa[1]).replace(/\s+/g," "),C=ha[C.toLowerCase()],C&&C.href?Ob(xa,C,xa[0]):(ha=xa[0].charAt(0),{type:"text",raw:ha,text:ha})};H.strong=function(C,ha,xa){void 0===xa&&(xa="");var oa=this.rules.inline.strong.start.exec(C);if(oa&&(!oa[1]||oa[1]&&(""===xa||this.rules.inline.punctuation.exec(xa))))for(ha=ha.slice(-1*C.length),xa="**"===oa[0]?this.rules.inline.strong.endAst:
this.rules.inline.strong.endUnd,xa.lastIndex=0;null!=(oa=xa.exec(ha));)if(oa=this.rules.inline.strong.middle.exec(ha.slice(0,oa.index+3)))return{type:"strong",raw:C.slice(0,oa[0].length),text:C.slice(2,oa[0].length-2)}};H.em=function(C,ha,xa){void 0===xa&&(xa="");var oa=this.rules.inline.em.start.exec(C);if(oa&&(!oa[1]||oa[1]&&(""===xa||this.rules.inline.punctuation.exec(xa))))for(ha=ha.slice(-1*C.length),xa="*"===oa[0]?this.rules.inline.em.endAst:this.rules.inline.em.endUnd,xa.lastIndex=0;null!=
(oa=xa.exec(ha));)if(oa=this.rules.inline.em.middle.exec(ha.slice(0,oa.index+2)))return{type:"em",raw:C.slice(0,oa[0].length),text:C.slice(1,oa[0].length-1)}};H.codespan=function(C){if(C=this.rules.inline.code.exec(C)){var ha=C[2].replace(/\n/g," "),xa=/[^ ]/.test(ha),oa=/^ /.test(ha)&&/ $/.test(ha);xa&&oa&&(ha=ha.substring(1,ha.length-1));ha=S(ha,!0);return{type:"codespan",raw:C[0],text:ha}}};H.br=function(C){if(C=this.rules.inline.br.exec(C))return{type:"br",raw:C[0]}};H.del=function(C){if(C=this.rules.inline.del.exec(C))return{type:"del",
raw:C[0],text:C[2]}};H.autolink=function(C,ha){if(C=this.rules.inline.autolink.exec(C)){if("@"===C[2]){ha=S(this.options.mangle?ha(C[1]):C[1]);var xa="mailto:"+ha}else xa=ha=S(C[1]);return{type:"link",raw:C[0],text:ha,href:xa,tokens:[{type:"text",raw:ha,text:ha}]}}};H.url=function(C,ha){if(C=this.rules.inline.url.exec(C)){if("@"===C[2]){ha=S(this.options.mangle?ha(C[0]):C[0]);var xa="mailto:"+ha}else{do ha=C[0],C[0]=this.rules.inline._backpedal.exec(C[0])[0];while(ha!==C[0]);ha=S(C[0]);xa="www."===
C[1]?"http://"+ha:ha}return{type:"link",raw:C[0],text:ha,href:xa,tokens:[{type:"text",raw:ha,text:ha}]}}};H.inlineText=function(C,ha,xa){if(C=this.rules.inline.text.exec(C))return ha=ha?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(C[0]):S(C[0]):C[0]:S(this.options.smartypants?xa(C[0]):C[0]),{type:"text",raw:C[0],text:ha}};return E}(),I={exec:function(){}},Q=function(E,H){E=E.source||E;H=H||"";var C={replace:function(ha,xa){xa=xa.source||xa;xa=xa.replace(Ca,"$1");E=E.replace(ha,
xa);return C},getRegex:function(){return new RegExp(E,H)}};return C},J={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?:\n+|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3})(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?! {0,3}bull )\n*|\s*$)/,html:"^ {0,3}(?:\x3c(script|pre|style)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:\\n{2,}|$)|\x3c(?!script|pre|style)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$)|\x3c/(?!script|pre|style)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:\\n{2,}|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,nptable:I,table:I,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};J.def=Q(J.def).replace("label",J._label).replace("title",J._title).getRegex();J.bullet=/(?:[*+-]|\d{1,9}[.)])/;J.item=/^( *)(bull) ?[^\n]*(?:\n(?! *bull ?)[^\n]*)*/;
J.item=Q(J.item,"gm").replace(/bull/g,J.bullet).getRegex();J.listItemStart=Q(/^( *)(bull)/).replace("bull",J.bullet).getRegex();J.list=Q(J.list).replace(/bull/g,J.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+J.def.source+")").getRegex();J._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
J._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;J.html=Q(J.html,"i").replace("comment",J._comment).replace("tag",J._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();J.paragraph=Q(J._paragraph).replace("hr",J.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",
J._tag).getRegex();J.blockquote=Q(J.blockquote).replace("paragraph",J.paragraph).getRegex();J.normal=db({},J);J.gfm=db({},J.normal,{nptable:"^ *([^|\\n ].*\\|.*)\\n {0,3}([-:]+ *\\|[-| :]*)(?:\\n((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)",table:"^ *\\|(.+)\\n {0,3}\\|?( *[-:]+[-| :]*)(?:\\n *((?:(?!\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});J.gfm.nptable=Q(J.gfm.nptable).replace("hr",J.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",J._tag).getRegex();J.gfm.table=Q(J.gfm.table).replace("hr",J.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|!--)").replace("tag",J._tag).getRegex();J.pedantic=db({},J.normal,{html:Q("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",J._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),
def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:I,paragraph:Q(J.normal._paragraph).replace("hr",J.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",J.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:I,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",
link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",strong:{start:/^(?:(\*\*(?=[*punctuation]))|\*\*)(?![\s])|__/,middle:/^\*\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*\*$|^__(?![\s])((?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?)__$/,
endAst:/[^punctuation\s]\*\*(?!\*)|[punctuation]\*\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]__(?!_)(?:(?=[punctuation*\s])|$)/},em:{start:/^(?:(\*(?=[punctuation]))|\*)(?![*\s])|_/,middle:/^\*(?:(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)|\*(?:(?!overlapSkip)(?:[^*]|\\\*)|overlapSkip)*?\*)+?\*$|^_(?![_\s])(?:(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)|_(?:(?!overlapSkip)(?:[^_]|\\_)|overlapSkip)*?_)+?_$/,endAst:/[^punctuation\s]\*(?!\*)|[punctuation]\*(?!\*)(?:(?=[punctuation_\s]|$))/,endUnd:/[^\s]_(?!_)(?:(?=[punctuation*\s])|$)/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:I,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\s*punctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};W.punctuation=Q(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex();W._blockSkip="\\[[^\\]]*?\\]\\([^\\)]*?\\)|`[^`]*?`|\x3c[^\x3e]*?\x3e";W._overlapSkip="__[^_]*?__|\\*\\*\\[^\\*\\]*?\\*\\*";W._comment=Q(J._comment).replace("(?:--\x3e|$)",
"--\x3e").getRegex();W.em.start=Q(W.em.start).replace(/punctuation/g,W._punctuation).getRegex();W.em.middle=Q(W.em.middle).replace(/punctuation/g,W._punctuation).replace(/overlapSkip/g,W._overlapSkip).getRegex();W.em.endAst=Q(W.em.endAst,"g").replace(/punctuation/g,W._punctuation).getRegex();W.em.endUnd=Q(W.em.endUnd,"g").replace(/punctuation/g,W._punctuation).getRegex();W.strong.start=Q(W.strong.start).replace(/punctuation/g,W._punctuation).getRegex();W.strong.middle=Q(W.strong.middle).replace(/punctuation/g,
W._punctuation).replace(/overlapSkip/g,W._overlapSkip).getRegex();W.strong.endAst=Q(W.strong.endAst,"g").replace(/punctuation/g,W._punctuation).getRegex();W.strong.endUnd=Q(W.strong.endUnd,"g").replace(/punctuation/g,W._punctuation).getRegex();W.blockSkip=Q(W._blockSkip,"g").getRegex();W.overlapSkip=Q(W._overlapSkip,"g").getRegex();W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
W.autolink=Q(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex();W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;W.tag=Q(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex();W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;W.link=Q(W.link).replace("label",W._label).replace("href",
W._href).replace("title",W._title).getRegex();W.reflink=Q(W.reflink).replace("label",W._label).getRegex();W.reflinkSearch=Q(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex();W.normal=db({},W);W.pedantic=db({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},
link:Q(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:Q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()});W.gfm=db({},W.normal,{escape:Q(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,
text:/^([`~]+|[^`~])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*~]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@))/});W.gfm.url=Q(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex();W.breaks=db({},W.gfm,{br:Q(W.br).replace("{2,}","*").getRegex(),text:Q(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var Y=Xa.defaults,ma=function(E,H){if(1>H)return"";
for(var C="";1<H;)H&1&&(C+=E),H>>=1,E+=E;return C+E},Qa=function(){function E(C){this.tokens=[];this.tokens.links=Object.create(null);this.options=C||Y;this.options.tokenizer=this.options.tokenizer||new z;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;C={block:J.normal,inline:W.normal};this.options.pedantic?(C.block=J.pedantic,C.inline=W.pedantic):this.options.gfm&&(C.block=J.gfm,C.inline=this.options.breaks?W.breaks:W.gfm);this.tokenizer.rules=C}E.lex=function(C,ha){return(new E(ha)).lex(C)};
E.lexInline=function(C,ha){return(new E(ha)).inlineTokens(C)};var H=E.prototype;H.lex=function(C){C=C.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");this.blockTokens(C,this.tokens,!0);this.inline(this.tokens);return this.tokens};H.blockTokens=function(C,ha,xa){void 0===ha&&(ha=[]);void 0===xa&&(xa=!0);C=C.replace(/^ +$/gm,"");for(var oa,Va,Ja;C;)if(oa=this.tokenizer.space(C))C=C.substring(oa.raw.length),oa.type&&ha.push(oa);else if(oa=this.tokenizer.code(C,ha))C=C.substring(oa.raw.length),oa.type?
ha.push(oa):(Va=ha[ha.length-1],Va.raw+="\n"+oa.raw,Va.text+="\n"+oa.text);else if(oa=this.tokenizer.fences(C))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.heading(C))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.nptable(C))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.hr(C))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.blockquote(C))C=C.substring(oa.raw.length),oa.tokens=this.blockTokens(oa.text,[],xa),ha.push(oa);
else if(oa=this.tokenizer.list(C)){C=C.substring(oa.raw.length);Ja=oa.items.length;for(Va=0;Va<Ja;Va++)oa.items[Va].tokens=this.blockTokens(oa.items[Va].text,[],!1);ha.push(oa)}else if(oa=this.tokenizer.html(C))C=C.substring(oa.raw.length),ha.push(oa);else if(xa&&(oa=this.tokenizer.def(C)))C=C.substring(oa.raw.length),this.tokens.links[oa.tag]||(this.tokens.links[oa.tag]={href:oa.href,title:oa.title});else if(oa=this.tokenizer.table(C))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.lheading(C))C=
C.substring(oa.raw.length),ha.push(oa);else if(xa&&(oa=this.tokenizer.paragraph(C)))C=C.substring(oa.raw.length),ha.push(oa);else if(oa=this.tokenizer.text(C,ha))C=C.substring(oa.raw.length),oa.type?ha.push(oa):(Va=ha[ha.length-1],Va.raw+="\n"+oa.raw,Va.text+="\n"+oa.text);else if(C)if(C="Infinite loop on byte: "+C.charCodeAt(0),this.options.silent){console.error(C);break}else throw Error(C);return ha};H.inline=function(C){var ha,xa,oa,Va=C.length;for(ha=0;ha<Va;ha++){var Ja=C[ha];switch(Ja.type){case "paragraph":case "text":case "heading":Ja.tokens=
[];this.inlineTokens(Ja.text,Ja.tokens);break;case "table":Ja.tokens={header:[],cells:[]};var ba=Ja.header.length;for(xa=0;xa<ba;xa++)Ja.tokens.header[xa]=[],this.inlineTokens(Ja.header[xa],Ja.tokens.header[xa]);ba=Ja.cells.length;for(xa=0;xa<ba;xa++){var ta=Ja.cells[xa];Ja.tokens.cells[xa]=[];for(oa=0;oa<ta.length;oa++)Ja.tokens.cells[xa][oa]=[],this.inlineTokens(ta[oa],Ja.tokens.cells[xa][oa])}break;case "blockquote":this.inline(Ja.tokens);break;case "list":for(ba=Ja.items.length,xa=0;xa<ba;xa++)this.inline(Ja.items[xa].tokens)}}return C};
H.inlineTokens=function(C,ha,xa,oa){void 0===ha&&(ha=[]);void 0===xa&&(xa=!1);void 0===oa&&(oa=!1);var Va,Ja=C,ba;if(this.tokens.links){var ta=Object.keys(this.tokens.links);if(0<ta.length)for(;null!=(Va=this.tokenizer.rules.inline.reflinkSearch.exec(Ja));)ta.includes(Va[0].slice(Va[0].lastIndexOf("[")+1,-1))&&(Ja=Ja.slice(0,Va.index)+"["+ma("a",Va[0].length-2)+"]"+Ja.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Va=this.tokenizer.rules.inline.blockSkip.exec(Ja));)Ja=Ja.slice(0,
Va.index)+"["+ma("a",Va[0].length-2)+"]"+Ja.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;C;){eb||(ba="");var eb=!1;if(Va=this.tokenizer.escape(C))C=C.substring(Va.raw.length),ha.push(Va);else if(Va=this.tokenizer.tag(C,xa,oa))C=C.substring(Va.raw.length),xa=Va.inLink,oa=Va.inRawBlock,ha.push(Va);else if(Va=this.tokenizer.link(C))C=C.substring(Va.raw.length),"link"===Va.type&&(Va.tokens=this.inlineTokens(Va.text,[],!0,oa)),ha.push(Va);else if(Va=this.tokenizer.reflink(C,this.tokens.links))C=
C.substring(Va.raw.length),"link"===Va.type&&(Va.tokens=this.inlineTokens(Va.text,[],!0,oa)),ha.push(Va);else if(Va=this.tokenizer.strong(C,Ja,ba))C=C.substring(Va.raw.length),Va.tokens=this.inlineTokens(Va.text,[],xa,oa),ha.push(Va);else if(Va=this.tokenizer.em(C,Ja,ba))C=C.substring(Va.raw.length),Va.tokens=this.inlineTokens(Va.text,[],xa,oa),ha.push(Va);else if(Va=this.tokenizer.codespan(C))C=C.substring(Va.raw.length),ha.push(Va);else if(Va=this.tokenizer.br(C))C=C.substring(Va.raw.length),ha.push(Va);
else if(Va=this.tokenizer.del(C))C=C.substring(Va.raw.length),Va.tokens=this.inlineTokens(Va.text,[],xa,oa),ha.push(Va);else if(Va=this.tokenizer.autolink(C,ob))C=C.substring(Va.raw.length),ha.push(Va);else if(!xa&&(Va=this.tokenizer.url(C,ob)))C=C.substring(Va.raw.length),ha.push(Va);else if(Va=this.tokenizer.inlineText(C,oa,cb))C=C.substring(Va.raw.length),ba=Va.raw.slice(-1),eb=!0,ha.push(Va);else if(C)if(C="Infinite loop on byte: "+C.charCodeAt(0),this.options.silent){console.error(C);break}else throw Error(C);
}return ha};x(E,null,[{key:"rules",get:function(){return{block:J,inline:W}}}]);return E}(),Ua=Xa.defaults,U=function(E,H,C){if(E){try{var ha=decodeURIComponent(fb(C)).replace(bb,"").toLowerCase()}catch(xa){return null}if(0===ha.indexOf("javascript:")||0===ha.indexOf("vbscript:")||0===ha.indexOf("data:"))return null}H&&!La.test(C)&&(E=H,ka[" "+E]||(Aa.test(E)?ka[" "+E]=E+"/":ka[" "+E]=ub(E,"/",!0)),E=ka[" "+E],H=-1===E.indexOf(":"),C="//"===C.substring(0,2)?H?C:E.replace(Ra,"$1")+C:"/"===C.charAt(0)?
H?C:E.replace(Ya,"$1")+C:E+C);try{C=encodeURI(C).replace(/%25/g,"%")}catch(xa){return null}return C},sa=function(){function E(C){this.options=C||Ua}var H=E.prototype;H.code=function(C,ha,xa){ha=(ha||"").match(/\S*/)[0];if(this.options.highlight){var oa=this.options.highlight(C,ha);null!=oa&&oa!==C&&(xa=!0,C=oa)}return ha?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+ib(ha,!0)+'"\x3e'+(xa?C:ib(C,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(xa?C:ib(C,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};
H.blockquote=function(C){return"\x3cblockquote\x3e\n"+C+"\x3c/blockquote\x3e\n"};H.html=function(C){return C};H.heading=function(C,ha,xa,oa){return this.options.headerIds?"\x3ch"+ha+' id\x3d"'+this.options.headerPrefix+oa.slug(xa)+'"\x3e'+C+"\x3c/h"+ha+"\x3e\n":"\x3ch"+ha+"\x3e"+C+"\x3c/h"+ha+"\x3e\n"};H.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":"\x3chr\x3e\n"};H.list=function(C,ha,xa){var oa=ha?"ol":"ul";return"\x3c"+oa+(ha&&1!==xa?' start\x3d"'+xa+'"':"")+"\x3e\n"+C+"\x3c/"+oa+"\x3e\n"};
H.listitem=function(C){return"\x3cli\x3e"+C+"\x3c/li\x3e\n"};H.checkbox=function(C){return"\x3cinput "+(C?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};H.paragraph=function(C){return"\x3cp\x3e"+C+"\x3c/p\x3e\n"};H.table=function(C,ha){ha&&(ha="\x3ctbody\x3e"+ha+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+C+"\x3c/thead\x3e\n"+ha+"\x3c/table\x3e\n"};H.tablerow=function(C){return"\x3ctr\x3e\n"+C+"\x3c/tr\x3e\n"};H.tablecell=function(C,ha){var xa=
ha.header?"th":"td";return(ha.align?"\x3c"+xa+' align\x3d"'+ha.align+'"\x3e':"\x3c"+xa+"\x3e")+C+"\x3c/"+xa+"\x3e\n"};H.strong=function(C){return"\x3cstrong\x3e"+C+"\x3c/strong\x3e"};H.em=function(C){return"\x3cem\x3e"+C+"\x3c/em\x3e"};H.codespan=function(C){return"\x3ccode\x3e"+C+"\x3c/code\x3e"};H.br=function(){return this.options.xhtml?"\x3cbr/\x3e":"\x3cbr\x3e"};H.del=function(C){return"\x3cdel\x3e"+C+"\x3c/del\x3e"};H.link=function(C,ha,xa){C=U(this.options.sanitize,this.options.baseUrl,C);if(null===
C)return xa;C='\x3ca href\x3d"'+ib(C)+'"';ha&&(C+=' title\x3d"'+ha+'"');return C+("\x3e"+xa+"\x3c/a\x3e")};H.image=function(C,ha,xa){C=U(this.options.sanitize,this.options.baseUrl,C);if(null===C)return xa;C='\x3cimg src\x3d"'+C+'" alt\x3d"'+xa+'"';ha&&(C+=' title\x3d"'+ha+'"');return C+=this.options.xhtml?"/\x3e":"\x3e"};H.text=function(C){return C};return E}(),ua=function(){function E(){}var H=E.prototype;H.strong=function(C){return C};H.em=function(C){return C};H.codespan=function(C){return C};
H.del=function(C){return C};H.html=function(C){return C};H.text=function(C){return C};H.link=function(C,ha,xa){return""+xa};H.image=function(C,ha,xa){return""+xa};H.br=function(){return""};return E}(),la=function(){function E(){this.seen={}}var H=E.prototype;H.serialize=function(C){return C.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};H.getNextSafeSlug=function(C,ha){var xa=C,oa=0;if(this.seen.hasOwnProperty(xa)){oa=
this.seen[C];do oa++,xa=C+"-"+oa;while(this.seen.hasOwnProperty(xa))}ha||(this.seen[C]=oa,this.seen[xa]=0);return xa};H.slug=function(C,ha){void 0===ha&&(ha={});C=this.serialize(C);return this.getNextSafeSlug(C,ha.dryrun)};return E}(),T=Xa.defaults,v=function(){function E(C){this.options=C||T;this.options.renderer=this.options.renderer||new sa;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new ua;this.slugger=new la}E.parse=function(C,ha){return(new E(ha)).parse(C)};
E.parseInline=function(C,ha){return(new E(ha)).parseInline(C)};var H=E.prototype;H.parse=function(C,ha){void 0===ha&&(ha=!0);var xa="",oa,Va,Ja,ba,ta=C.length;for(oa=0;oa<ta;oa++){var eb=C[oa];switch(eb.type){case "space":continue;case "hr":xa+=this.renderer.hr();continue;case "heading":xa+=this.renderer.heading(this.parseInline(eb.tokens),eb.depth,fb(this.parseInline(eb.tokens,this.textRenderer)),this.slugger);continue;case "code":xa+=this.renderer.code(eb.text,eb.lang,eb.escaped);continue;case "table":var xb=
ba="";var Kb=eb.header.length;for(Va=0;Va<Kb;Va++)xb+=this.renderer.tablecell(this.parseInline(eb.tokens.header[Va]),{header:!0,align:eb.align[Va]});ba+=this.renderer.tablerow(xb);var fc="";Kb=eb.cells.length;for(Va=0;Va<Kb;Va++){var Ec=eb.tokens.cells[Va];xb="";var gd=Ec.length;for(Ja=0;Ja<gd;Ja++)xb+=this.renderer.tablecell(this.parseInline(Ec[Ja]),{header:!1,align:eb.align[Ja]});fc+=this.renderer.tablerow(xb)}xa+=this.renderer.table(ba,fc);continue;case "blockquote":fc=this.parse(eb.tokens);xa+=
this.renderer.blockquote(fc);continue;case "list":Ja=eb.ordered;gd=eb.start;Ec=eb.loose;Kb=eb.items.length;fc="";for(Va=0;Va<Kb;Va++){ba=eb.items[Va];var Dc=ba.checked;var Sc=ba.task;xb="";if(ba.task){var Ta=this.renderer.checkbox(Dc);Ec?0<ba.tokens.length&&"text"===ba.tokens[0].type?(ba.tokens[0].text=Ta+" "+ba.tokens[0].text,ba.tokens[0].tokens&&0<ba.tokens[0].tokens.length&&"text"===ba.tokens[0].tokens[0].type&&(ba.tokens[0].tokens[0].text=Ta+" "+ba.tokens[0].tokens[0].text)):ba.tokens.unshift({type:"text",
text:Ta}):xb+=Ta}xb+=this.parse(ba.tokens,Ec);fc+=this.renderer.listitem(xb,Sc,Dc)}xa+=this.renderer.list(fc,Ja,gd);continue;case "html":xa+=this.renderer.html(eb.text);continue;case "paragraph":xa+=this.renderer.paragraph(this.parseInline(eb.tokens));continue;case "text":for(fc=eb.tokens?this.parseInline(eb.tokens):eb.text;oa+1<ta&&"text"===C[oa+1].type;)eb=C[++oa],fc+="\n"+(eb.tokens?this.parseInline(eb.tokens):eb.text);xa+=ha?this.renderer.paragraph(fc):fc;continue;default:C='Token with "'+eb.type+
'" type was not found.';if(this.options.silent){console.error(C);return}throw Error(C);}}return xa};H.parseInline=function(C,ha){ha=ha||this.renderer;var xa="",oa,Va=C.length;for(oa=0;oa<Va;oa++){var Ja=C[oa];switch(Ja.type){case "escape":xa+=ha.text(Ja.text);break;case "html":xa+=ha.html(Ja.text);break;case "link":xa+=ha.link(Ja.href,Ja.title,this.parseInline(Ja.tokens,ha));break;case "image":xa+=ha.image(Ja.href,Ja.title,Ja.text);break;case "strong":xa+=ha.strong(this.parseInline(Ja.tokens,ha));
break;case "em":xa+=ha.em(this.parseInline(Ja.tokens,ha));break;case "codespan":xa+=ha.codespan(Ja.text);break;case "br":xa+=ha.br();break;case "del":xa+=ha.del(this.parseInline(Ja.tokens,ha));break;case "text":xa+=ha.text(Ja.text);break;default:C='Token with "'+Ja.type+'" type was not found.';if(this.options.silent){console.error(C);return}throw Error(C);}}return xa};return E}(),w=db,p=function(E){E&&E.sanitize&&!E.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},
r=ib;db=Xa.getDefaults;var D=Xa.changeDefaults;Xa=Xa.defaults;rb.options=rb.setOptions=function(E){w(rb.defaults,E);D(rb.defaults);return rb};rb.getDefaults=db;rb.defaults=Xa;rb.use=function(E){var H=w({},E);E.renderer&&function(){var ha=rb.defaults.renderer||new sa,xa=function(Va){var Ja=ha[Va];ha[Va]=function(){for(var ba=arguments.length,ta=Array(ba),eb=0;eb<ba;eb++)ta[eb]=arguments[eb];ba=E.renderer[Va].apply(ha,ta);!1===ba&&(ba=Ja.apply(ha,ta));return ba}},oa;for(oa in E.renderer)xa(oa);H.renderer=
ha}();E.tokenizer&&function(){var ha=rb.defaults.tokenizer||new z,xa=function(Va){var Ja=ha[Va];ha[Va]=function(){for(var ba=arguments.length,ta=Array(ba),eb=0;eb<ba;eb++)ta[eb]=arguments[eb];ba=E.tokenizer[Va].apply(ha,ta);!1===ba&&(ba=Ja.apply(ha,ta));return ba}},oa;for(oa in E.tokenizer)xa(oa);H.tokenizer=ha}();if(E.walkTokens){var C=rb.defaults.walkTokens;H.walkTokens=function(ha){E.walkTokens(ha);C&&C(ha)}}rb.setOptions(H)};rb.walkTokens=function(E,H){E=Wb(E);for(var C;!(C=E()).done;)switch(C=
C.value,H(C),C.type){case "table":for(var ha=Wb(C.tokens.header),xa;!(xa=ha()).done;)rb.walkTokens(xa.value,H);for(C=Wb(C.tokens.cells);!(ha=C()).done;)for(ha=Wb(ha.value);!(xa=ha()).done;)rb.walkTokens(xa.value,H);break;case "list":rb.walkTokens(C.items,H);break;default:C.tokens&&rb.walkTokens(C.tokens,H)}};rb.parseInline=function(E,H){if("undefined"===typeof E||null===E)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof E)throw Error("marked.parseInline(): input parameter is of type "+
Object.prototype.toString.call(E)+", string expected");H=w({},rb.defaults,H||{});p(H);try{var C=Qa.lexInline(E,H);H.walkTokens&&rb.walkTokens(C,H.walkTokens);return v.parseInline(C,H)}catch(ha){ha.message+="\nPlease report this to https://github.com/markedjs/marked.";if(H.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+r(ha.message+"",!0)+"\x3c/pre\x3e";throw ha;}};rb.Parser=v;rb.parser=v.parse;rb.Renderer=sa;rb.TextRenderer=ua;rb.Lexer=Qa;rb.lexer=Qa.lex;rb.Tokenizer=z;rb.Slugger=
la;return rb.parse=rb})};
shadow$provide[17]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={}))})(this,function(n){function x(T,v,w){T.fields=v||[];T.fname=w;return T}function ea(T){return null==T?null:T.fields}function Sa(T){return 1===T.length?Aa(T[0]):Ra(T)}function Wb(T){throw Error(T);}function fb(T){function v(){w.push(E+T.substring(H,C));E="";H=C+1}const w=
[],p=T.length;let r=null,D=0,E="",H,C,ha;T+="";for(H=C=0;C<p;++C)(ha=T[C],"\\"===ha)?(E+=T.substring(H,C),E+=T.substring(++C,++C),H=C):ha===r?(v(),r=null,D=-1):r||(H===D&&'"'===ha?(H=C+1,r=ha):H===D&&"'"===ha?(H=C+1,r=ha):"."!==ha||D?"["===ha?(C>H&&v(),D=H=C+1):"]"===ha&&(D||Wb("Access path missing open bracket: "+T),0<D&&v(),D=0,H=C+1):C>H?v():H=C+1);D&&Wb("Access path missing closing bracket: "+T);r&&Wb("Access path missing closing quote: "+T);C>H&&(C++,v());return w}function ub(T,v,w){const p=
fb(T);T=1===p.length?p[0]:T;return x((w&&w.get||Sa)(p),[T],v||T)}function Ob(T,v,w){v=[v].concat([].slice.call(w));console[T].apply(console,v)}function zb(T){return T===Object(T)}function cb(T,v,w,p){if("__proto__"!==v){var r;if(zb(w)&&!z(w))for(r in T=zb(T[v])?T[v]:T[v]={},w)p&&(!0===p||p[r])?cb(T,r,w[r]):"__proto__"!==r&&(T[r]=w[r]);else T[v]=w}}function ob(T,v){function w(D){p[D.name]||(p[D.name]=1,r.push(D))}if(null==T)return v;const p={},r=[];v.forEach(w);T.forEach(w);return r}function rb(T){return T[T.length-
1]}function Xa(T){return null==T||""===T?null:+T}function Ha(T,v,w,p){const r=w(T[0]);T=w(rb(T));v*=T-r;return[p(r-v),p(T-v)]}function Ia(T,v,w,p,r){const D=p(T[0]);T=p(rb(T));v=null!=v?p(v):(D+T)/2;return[r(v+(D-v)*w),r(v+(T-v)*w)]}function Za(T){return null!=T?z(T)?T:[T]:[]}function mb(T){return"function"===typeof T}function Da(T){for(let v,w,p=1,r=arguments.length;p<r;++p)for(w in v=arguments[p],v)T[w]=v[w];return T}function Fa(T,v){return sa.call(T,v)}function hb(T){return"[object Date]"===Object.prototype.toString.call(T)}
function Ca(T){return"number"===typeof T}function bb(T){return"string"===typeof T}function La(T,v){let w="";for(;0<=--v;)w+=T;return w}function ka(T){return z(T)?"["+T.map(ka)+"]":zb(T)||bb(T)?JSON.stringify(T).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):T}const Aa=T=>function(v){return v[T]},Ra=T=>{const v=T.length;return function(w){for(let p=0;p<v;++p)w=w[T[p]];return w}},Ya=ub("id"),ib=x(T=>T,[],"identity"),db=x(()=>0,[],"zero"),nb=x(()=>1,[],"one"),$a=x(()=>!0,[],"true"),S=x(()=>
!1,[],"false");var z=Array.isArray;const I=T=>v=>T*Math.exp(v),Q=T=>v=>Math.log(T*v),J=T=>v=>Math.sign(v)*Math.log1p(Math.abs(v/T)),W=T=>v=>Math.sign(v)*Math.expm1(Math.abs(v))*T,Y=T=>v=>0>v?-Math.pow(-v,T):Math.pow(v,T),ma=(T,v)=>(T<v||null==T)&&null!=v?-1:(T>v||null==v)&&null!=T?1:(v=v instanceof Date?+v:v,T=T instanceof Date?+T:T)!==T&&v===v?-1:v!==v&&T===T?1:0,Qa=(T,v)=>1===T.length?Ua(T[0],v[0]):U(T,v,T.length),Ua=(T,v)=>function(w,p){return ma(T(w),T(p))*v},U=(T,v,w)=>{v.push(0);return function(p,
r){var D=0;let E=-1;for(;0===D&&++E<w;)D=T[E],D=ma(D(p),D(r));return D*v[E]}},sa=Object.prototype.hasOwnProperty,ua={},la=T=>Ca(T)?T:hb(T)?T:Date.parse(T);n.Debug=4;n.Error=1;n.Info=3;n.None=0;n.Warn=2;n.accessor=x;n.accessorFields=ea;n.accessorName=function(T){return null==T?null:T.fname};n.array=Za;n.ascending=ma;n.clampRange=function(T,v,w){let p=T[0];T=T[1];let r;T<p&&(r=T,T=p,p=r);r=T-p;return r>=w-v?[v,w]:[p=Math.min(Math.max(p,v),w-r),p+r]};n.compare=function(T,v,w){w=w||{};v=Za(v)||[];const p=
[],r=[],D={},E=w.comparator||Qa;Za(T).forEach((H,C)=>{null!=H&&(p.push("descending"===v[C]?-1:1),r.push(H=mb(H)?H:ub(H,null,w)),(ea(H)||[]).forEach(ha=>D[ha]=1))});return 0===r.length?null:x(E(r,p),Object.keys(D))};n.constant=function(T){return mb(T)?T:()=>T};n.debounce=function(T,v){let w;return p=>{w&&clearTimeout(w);w=setTimeout(()=>(v(p),w=null),T)}};n.error=Wb;n.extend=Da;n.extent=function(T,v){let w=0,p,r,D,E;if(T&&(p=T.length))if(null==v){for(r=T[w];w<p&&(null==r||r!==r);r=T[++w]);for(D=E=
r;w<p;++w)r=T[w],null!=r&&(r<D&&(D=r),r>E&&(E=r))}else{for(r=v(T[w]);w<p&&(null==r||r!==r);r=v(T[++w]));for(D=E=r;w<p;++w)r=v(T[w]),null!=r&&(r<D&&(D=r),r>E&&(E=r))}return[D,E]};n.extentIndex=function(T,v){const w=T.length;let p=-1,r,D,E,H,C;if(null==v){for(;++p<w;)if(D=T[p],null!=D&&D>=D){r=E=D;break}if(p===w)return[-1,-1];for(H=C=p;++p<w;)D=T[p],null!=D&&(r>D&&(r=D,H=p),E<D&&(E=D,C=p))}else{for(;++p<w;)if(D=v(T[p],p,T),null!=D&&D>=D){r=E=D;break}if(p===w)return[-1,-1];for(H=C=p;++p<w;)D=v(T[p],
p,T),null!=D&&(r>D&&(r=D,H=p),E<D&&(E=D,C=p))}return[H,C]};n.falsy=S;n.fastmap=function(T){function v(D){return Fa(w,D)&&w[D]!==ua}let w={},p;const r={size:0,empty:0,object:w,has:v,get(D){return v(D)?w[D]:void 0},set(D,E){v(D)||(++r.size,w[D]===ua&&--r.empty);w[D]=E;return this},delete(D){v(D)&&(--r.size,++r.empty,w[D]=ua);return this},clear(){r.size=r.empty=0;r.object=w={}},test(D){return arguments.length?(p=D,r):p},clean(){const D={};let E=0;for(const H in w){const C=w[H];C===ua||p&&p(C)||(D[H]=
C,++E)}r.size=E;r.empty=0;r.object=w=D}};T&&Object.keys(T).forEach(D=>{r.set(D,T[D])});return r};n.field=ub;n.flush=function(T,v,w,p,r,D){if(!w&&0!==w)return D;w=+w;let E=T[0],H=rb(T);H<E&&(T=E,E=H,H=T);T=Math.abs(v-E);v=Math.abs(H-v);return T<v&&T<=w?p:v<=w?r:D};n.hasOwnProperty=Fa;n.id=Ya;n.identity=ib;n.inherits=function(T,v,w){v=T.prototype=Object.create(v.prototype);v.constructor=T;return Da(v,w)};n.inrange=function(T,v,w,p){let r=v[0];v=v[v.length-1];let D;r>v&&(D=r,r=v,v=D);return(void 0===
w||w?r<=T:r<T)&&(void 0===p||p?T<=v:T<v)};n.isArray=z;n.isBoolean=function(T){return"boolean"===typeof T};n.isDate=hb;n.isFunction=mb;n.isIterable=function(T){return T&&mb(T[Symbol.iterator])};n.isNumber=Ca;n.isObject=zb;n.isRegExp=function(T){return"[object RegExp]"===Object.prototype.toString.call(T)};n.isString=bb;n.key=function(T,v,w){T&&(T=v?Za(T).map(D=>D.replace(/\\(.)/g,"$1")):Za(T));const p=T&&T.length,r=w&&w.get||Sa;w=D=>r(v?[D]:fb(D));if(p)if(1===p){const D=w(T[0]);w=function(E){return""+
D(E)}}else{const D=T.map(w);w=function(E){let H=""+D[0](E),C=0;for(;++C<p;)H+="|"+D[C](E);return H}}else w=function(){return""};return x(w,T,"key")};n.lerp=function(T,v){const w=T[0];T=rb(T);return(v=+v)?1===v?T:w+v*(T-w):w};n.logger=function(T,v){let w=T||0;return{level(p){return arguments.length?(w=+p,this):w},error(){1<=w&&Ob(v||"error","ERROR",arguments);return this},warn(){2<=w&&Ob(v||"warn","WARN",arguments);return this},info(){3<=w&&Ob(v||"log","INFO",arguments);return this},debug(){4<=w&&
Ob(v||"log","DEBUG",arguments);return this}}};n.lruCache=function(T){T=+T||1E4;let v,w,p;const r=()=>{v={};w={};p=0},D=(E,H)=>{++p>T&&(w=v,v={},p=1);return v[E]=H};r();return{clear:r,has:E=>Fa(v,E)||Fa(w,E),get:E=>Fa(v,E)?v[E]:Fa(w,E)?D(E,w[E]):void 0,set:(E,H)=>Fa(v,E)?v[E]=H:D(E,H)}};n.merge=function(T,v,w,p){const r=v.length,D=w.length;if(!D)return v;if(!r)return w;p=p||new v.constructor(r+D);let E=0,H=0,C=0;for(;E<r&&H<D;++C)p[C]=0<T(v[E],w[H])?w[H++]:v[E++];for(;E<r;++E,++C)p[C]=v[E];for(;H<
D;++H,++C)p[C]=w[H];return p};n.mergeConfig=function(...T){return T.reduce((v,w)=>{for(const p in w)"signals"===p?v.signals=ob(v.signals,w.signals):cb(v,p,w[p],"legend"===p?{layout:1}:"style"===p?!0:null);return v},{})};n.one=nb;n.pad=function(T,v,w,p){w=w||" ";T+="";v-=T.length;return 0>=v?T:"left"===p?La(w,v)+T:"center"===p?La(w,~~(v/2))+T+La(w,Math.ceil(v/2)):T+La(w,v)};n.panLinear=function(T,v){return Ha(T,v,Xa,ib)};n.panLog=function(T,v){var w=Math.sign(T[0]);return Ha(T,v,Q(w),I(w))};n.panPow=
function(T,v,w){return Ha(T,v,Y(w),Y(1/w))};n.panSymlog=function(T,v,w){return Ha(T,v,J(w),W(w))};n.peek=rb;n.quarter=function(T){return 1+~~((new Date(T)).getMonth()/3)};n.repeat=La;n.span=function(T){return T&&rb(T)-T[0]||0};n.splitAccessPath=fb;n.stringValue=ka;n.toBoolean=function(T){return null==T||""===T?null:T&&"false"!==T&&"0"!==T?!!T:!1};n.toDate=function(T,v){v=v||la;return null==T||""===T?null:v(T)};n.toNumber=Xa;n.toSet=function(T){const v={},w=T.length;for(let p=0;p<w;++p)v[T[p]]=!0;
return v};n.toString=function(T){return null==T||""===T?null:T+""};n.truncate=function(T,v,w,p){p=null!=p?p:"";T+="";const r=T.length,D=Math.max(0,v-p.length);return r<=v?T:"left"===w?p+T.slice(r-D):"center"===w?T.slice(0,Math.ceil(D/2))+p+T.slice(r-~~(D/2)):T.slice(0,D)+p};n.truthy=$a;n.utcquarter=function(T){return 1+~~((new Date(T)).getUTCMonth()/3)};n.visitArray=function(T,v,w){if(T)if(v){const p=T.length;for(let r=0;r<p;++r){const D=v(T[r]);D&&w(D,r,T)}}else T.forEach(w)};n.writeConfig=cb;n.zero=
db;n.zoomLinear=function(T,v,w){return Ia(T,v,w,Xa,ib)};n.zoomLog=function(T,v,w){const p=Math.sign(T[0]);return Ia(T,v,w,Q(p),I(p))};n.zoomPow=function(T,v,w,p){return Ia(T,v,w,Y(p),Y(1/p))};n.zoomSymlog=function(T,v,w,p){return Ia(T,v,w,J(p),W(p))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[18]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(p,r){return p<r?-1:p>r?1:p>=r?0:NaN}function ea(p){function r(H,C,ha,xa){null==ha&&(ha=0);null==xa&&(xa=H.length);for(;ha<xa;){const oa=ha+xa>>>1;0>E(H[oa],C)?ha=oa+1:xa=oa}return ha}let D=p,E=p;1===p.length&&(D=(H,C)=>p(H)-C,E=Sa(p));
return{left:r,center:function(H,C,ha,xa){null==ha&&(ha=0);null==xa&&(xa=H.length);xa=r(H,C,ha,xa-1);return xa>ha&&D(H[xa-1],C)>-D(H[xa],C)?xa-1:xa},right:function(H,C,ha,xa){null==ha&&(ha=0);null==xa&&(xa=H.length);for(;ha<xa;){const oa=ha+xa>>>1;0<E(H[oa],C)?xa=oa:ha=oa+1}return ha}}}function Sa(p){return(r,D)=>x(p(r),D)}function Wb(p){return null===p?NaN:+p}function*fb(p,r){if(void 0===r)for(var D of p)null!=D&&(D=+D)>=D&&(yield D);else{D=-1;for(let E of p)null!=(E=r(E,++D,p))&&(E=+E)>=E&&(yield E)}}
function ub(p,r){let D=0;if(void 0===r)for(var E of p)null!=E&&(E=+E)>=E&&++D;else{E=-1;for(let H of p)null!=(H=r(H,++E,p))&&(H=+H)>=H&&++D}return D}function Ob(p){return p.length|0}function zb(p){return!(0<p)}function cb(p){return"object"!==typeof p||"length"in p?p:Array.from(p)}function ob(p){return r=>p(...r)}function rb(p,r){let D=0,E,H=0,C=0;if(void 0===r)for(var ha of p)null!=ha&&(ha=+ha)>=ha&&(E=ha-H,H+=E/++D,C+=E*(ha-H));else{ha=-1;for(let xa of p)null!=(xa=r(xa,++ha,p))&&(xa=+xa)>=xa&&(E=
xa-H,H+=E/++D,C+=E*(xa-H))}if(1<D)return C/(D-1)}function Xa(p,r){return(p=rb(p,r))?Math.sqrt(p):p}function Ha(p,r){let D,E;if(void 0===r)for(var H of p)null!=H&&(void 0===D?H>=H&&(D=E=H):(D>H&&(D=H),E<H&&(E=H)));else{H=-1;for(let C of p)null!=(C=r(C,++H,p))&&(void 0===D?C>=C&&(D=E=C):(D>C&&(D=C),E<C&&(E=C)))}return[D,E]}function Ia(p){return p}function Za(p){if(1!==p.length)throw Error("duplicate key");return p[0]}function mb(p,r,D,E){return function xa(C,ha){if(ha>=E.length)return D(C);const oa=
new Map,Va=E[ha++];let Ja=-1;for(const ba of C){const ta=Va(ba,++Ja,C),eb=oa.get(ta);eb?eb.push(ba):oa.set(ta,[ba])}for(const [ba,ta]of oa)oa.set(ba,xa(ta,ha));return r(oa)}(p,0)}function Da(p){return function(){return p}}function Fa(p,r,D){var E,H=-1,C;r=+r;p=+p;D=+D;if(p===r&&0<D)return[p];if(E=r<p){var ha=p;p=r;r=ha}if(0===(C=hb(p,r,D))||!isFinite(C))return[];if(0<C)for(p=Math.ceil(p/C),r=Math.floor(r/C),r=Array(ha=Math.ceil(r-p+1));++H<ha;)r[H]=(p+H)*C;else for(C=-C,p=Math.ceil(p*C),r=Math.floor(r*
C),r=Array(ha=Math.ceil(r-p+1));++H<ha;)r[H]=(p+H)/C;E&&r.reverse();return r}function hb(p,r,D){r=(r-p)/Math.max(0,D);p=Math.floor(Math.log(r)/Math.LN10);r/=Math.pow(10,p);return 0<=p?(r>=la?10:r>=T?5:r>=v?2:1)*Math.pow(10,p):-Math.pow(10,-p)/(r>=la?10:r>=T?5:r>=v?2:1)}function Ca(p,r,D){let E;for(;;){const H=hb(p,r,D);if(H===E||0===H||!isFinite(H))return[p,r];0<H?(p=Math.floor(p/H)*H,r=Math.ceil(r/H)*H):0>H&&(p=Math.ceil(p*H)/H,r=Math.floor(r*H)/H);E=H}}function bb(p){return Math.ceil(Math.log(ub(p))/
Math.LN2)+1}function La(){function p(H){Array.isArray(H)||(H=Array.from(H));var C,ha=H.length,xa=Array(ha);for(C=0;C<ha;++C)xa[C]=r(H[C],C,H);var oa=D(xa),Va=oa[0];oa=oa[1];var Ja=E(xa,Va,oa);if(!Array.isArray(Ja)){C=oa;var ba=+Ja;D===Ha&&([Va,oa]=Ca(Va,oa,ba));Ja=Fa(Va,oa,ba);Ja[Ja.length-1]>=oa&&(C>=oa&&D===Ha?(C=hb(Va,oa,ba),isFinite(C)&&(0<C?oa=(Math.floor(oa/C)+1)*C:0>C&&(oa=(Math.ceil(oa*-C)+1)/-C))):Ja.pop())}for(ba=Ja.length;Ja[0]<=Va;)Ja.shift(),--ba;for(;Ja[ba-1]>oa;)Ja.pop(),--ba;var ta=
Array(ba+1);for(C=0;C<=ba;++C){var eb=ta[C]=[];eb.x0=0<C?Ja[C-1]:Va;eb.x1=C<ba?Ja[C]:oa}for(C=0;C<ha;++C)eb=xa[C],Va<=eb&&eb<=oa&&ta[Ua(Ja,eb,0,ba)].push(H[C]);return ta}var r=Ia,D=Ha,E=bb;p.value=function(H){return arguments.length?(r="function"===typeof H?H:Da(H),p):r};p.domain=function(H){return arguments.length?(D="function"===typeof H?H:Da([H[0],H[1]]),p):D};p.thresholds=function(H){return arguments.length?(E="function"===typeof H?H:Array.isArray(H)?Da(ua.call(H)):Da(H),p):E};return p}function ka(p,
r){let D;if(void 0===r)for(var E of p)null!=E&&(D<E||void 0===D&&E>=E)&&(D=E);else{E=-1;for(let H of p)null!=(H=r(H,++E,p))&&(D<H||void 0===D&&H>=H)&&(D=H)}return D}function Aa(p,r){let D;if(void 0===r)for(var E of p)null!=E&&(D>E||void 0===D&&E>=E)&&(D=E);else{E=-1;for(let H of p)null!=(H=r(H,++E,p))&&(D>H||void 0===D&&H>=H)&&(D=H)}return D}function Ra(p,r,D=0,E=p.length-1,H=x){for(;E>D;){if(600<E-D){var C=E-D+1,ha=r-D+1,xa=Math.log(C),oa=.5*Math.exp(2*xa/3);xa=.5*Math.sqrt(xa*oa*(C-oa)/C)*(0>ha-
C/2?-1:1);Ra(p,r,Math.max(D,Math.floor(r-ha*oa/C+xa)),Math.min(E,Math.floor(r+(C-ha)*oa/C+xa)),H)}C=p[r];ha=D;oa=E;Ya(p,D,r);for(0<H(p[E],C)&&Ya(p,D,E);ha<oa;){Ya(p,ha,oa);++ha;for(--oa;0>H(p[ha],C);)++ha;for(;0<H(p[oa],C);)--oa}0===H(p[D],C)?Ya(p,D,oa):(++oa,Ya(p,oa,E));oa<=r&&(D=oa+1);r<=oa&&(E=oa-1)}return p}function Ya(p,r,D){const E=p[r];p[r]=p[D];p[D]=E}function ib(p,r,D){p=Float64Array.from(fb(p,D));if(D=p.length){if(0>=(r=+r)||2>D)return Aa(p);if(1<=r)return ka(p);r*=D-1;D=Math.floor(r);var E=
ka(Ra(p,D).subarray(0,D+1));p=Aa(p.subarray(D+1));return E+(p-E)*(r-D)}}function db(p,r){let D,E=-1,H=-1;if(void 0===r)for(const C of p)++H,null!=C&&(D<C||void 0===D&&C>=C)&&(D=C,E=H);else for(let C of p)null!=(C=r(C,++H,p))&&(D<C||void 0===D&&C>=C)&&(D=C,E=H);return E}function*nb(p){for(const r of p)yield*r}function $a(p,r){let D,E=-1,H=-1;if(void 0===r)for(const C of p)++H,null!=C&&(D>C||void 0===D&&C>=C)&&(D=C,E=H);else for(let C of p)null!=(C=r(C,++H,p))&&(D>C||void 0===D&&C>=C)&&(D=C,E=H);return E}
function S(p,r){return[p,r]}function z(p,r){return Array.from(r,D=>p[D])}function I(p,r=x){if(1===r.length)return $a(p,r);let D,E=-1,H=-1;for(const C of p)if(++H,0>E?0===r(C,C):0>r(C,D))D=C,E=H;return E}function Q(p){return function(r,D=0,E=r.length){for(E-=D=+D;E;){const H=p()*E--|0,C=r[E+D];r[E+D]=r[H+D];r[H+D]=C}return r}}function J(p){if(!(C=p.length))return[];for(var r=-1,D=Aa(p,W),E=Array(D);++r<D;)for(var H=-1,C,ha=E[r]=Array(C);++H<C;)ha[H]=p[H][r];return E}function W(p){return p.length}function Y(p){return p instanceof
Set?p:new Set(p)}function ma(p,r){p=p[Symbol.iterator]();const D=new Set;for(const E of r){if(D.has(E))continue;let H;for(;{value:r,done:H}=p.next();){if(H)return!1;D.add(r);if(Object.is(E,r))break}}return!0}var Qa=ea(x);const Ua=Qa.right;Qa=Qa.left;const U=ea(Wb).center;class sa{constructor(){this._partials=new Float64Array(32);this._n=0}add(p){const r=this._partials;let D=0;for(let E=0;E<this._n&&32>E;E++){const H=r[E],C=p+H;(p=Math.abs(p)<Math.abs(H)?p-(C-H):H-(C-p))&&(r[D++]=p);p=C}r[D]=p;this._n=
D+1;return this}valueOf(){const p=this._partials;let r=this._n;let D,E=0;if(0<r){for(E=p[--r];0<r;){var H=E;D=p[--r];E=H+D;if(H=D-(E-H))break}0<r&&(0>H&&0>p[r-1]||0<H&&0<p[r-1])&&(D=2*H,H=E+D,D==H-E&&(E=H))}return E}}var ua=Array.prototype.slice,la=Math.sqrt(50),T=Math.sqrt(10),v=Math.sqrt(2),w=Q(Math.random);n.Adder=sa;n.ascending=x;n.bin=La;n.bisect=Ua;n.bisectCenter=U;n.bisectLeft=Qa;n.bisectRight=Ua;n.bisector=ea;n.count=ub;n.cross=function(...p){const r="function"===typeof p[p.length-1]&&ob(p.pop());
p=p.map(cb);const D=p.map(Ob),E=p.length-1,H=Array(E+1).fill(0),C=[];if(0>E||D.some(zb))return C;for(;;){C.push(H.map((xa,oa)=>p[oa][xa]));let ha=E;for(;++H[ha]===D[ha];){if(0===ha)return r?C.map(r):C;H[ha--]=0}}};n.cumsum=function(p,r){var D=0,E=0;return Float64Array.from(p,void 0===r?H=>D+=+H||0:H=>D+=+r(H,E++,p)||0)};n.descending=function(p,r){return r<p?-1:r>p?1:r>=p?0:NaN};n.deviation=Xa;n.difference=function(p,...r){p=new Set(p);for(const D of r)for(const E of D)p.delete(E);return p};n.disjoint=
function(p,r){r=r[Symbol.iterator]();const D=new Set;for(const E of p){if(D.has(E))return!1;let H;for(;({value:p,done:H}=r.next())&&!H;){if(Object.is(E,p))return!1;D.add(p)}}return!0};n.every=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");let D=-1;for(const E of p)if(!r(E,++D,p))return!1;return!0};n.extent=Ha;n.filter=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");const D=[];let E=-1;for(const H of p)r(H,++E,p)&&D.push(H);
return D};n.fsum=function(p,r){const D=new sa;if(void 0===r)for(var E of p)(E=+E)&&D.add(E);else{E=-1;for(let H of p)(H=+r(H,++E,p))&&D.add(H)}return+D};n.greatest=function(p,r=x){let D,E=!1;if(1===r.length){let H;for(const C of p)if(p=r(C),E?0<x(p,H):0===x(p,p))D=C,H=p,E=!0}else for(const H of p)if(E?0<r(H,D):0===r(H,H))D=H,E=!0;return D};n.greatestIndex=function(p,r=x){if(1===r.length)return db(p,r);let D,E=-1,H=-1;for(const C of p)if(++H,0>E?0===r(C,C):0<r(C,D))D=C,E=H;return E};n.group=function(p,
...r){return mb(p,Ia,Ia,r)};n.groups=function(p,...r){return mb(p,Array.from,Ia,r)};n.histogram=La;n.index=function(p,...r){return mb(p,Ia,Za,r)};n.indexes=function(p,...r){return mb(p,Array.from,Za,r)};n.intersection=function(p,...r){p=new Set(p);r=r.map(Y);a:for(const D of p)for(const E of r)if(!E.has(D)){p.delete(D);continue a}return p};n.least=function(p,r=x){let D,E=!1;if(1===r.length){let H;for(const C of p)if(p=r(C),E?0>x(p,H):0===x(p,p))D=C,H=p,E=!0}else for(const H of p)if(E?0>r(H,D):0===
r(H,H))D=H,E=!0;return D};n.leastIndex=I;n.map=function(p,r){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof r)throw new TypeError("mapper is not a function");return Array.from(p,(D,E)=>r(D,E,p))};n.max=ka;n.maxIndex=db;n.mean=function(p,r){let D=0,E=0;if(void 0===r)for(var H of p)null!=H&&(H=+H)>=H&&(++D,E+=H);else{H=-1;for(let C of p)null!=(C=r(C,++H,p))&&(C=+C)>=C&&(++D,E+=C)}if(D)return E/D};n.median=function(p,r){return ib(p,.5,r)};
n.merge=function(p){return Array.from(nb(p))};n.min=Aa;n.minIndex=$a;n.nice=Ca;n.pairs=function(p,r=S){const D=[];let E,H=!1;for(const C of p)H&&D.push(r(E,C)),E=C,H=!0;return D};n.permute=z;n.quantile=ib;n.quantileSorted=function(p,r,D=Wb){if(E=p.length){if(0>=(r=+r)||2>E)return+D(p[0],0,p);if(1<=r)return+D(p[E-1],E-1,p);var E;r*=E-1;E=Math.floor(r);var H=+D(p[E],E,p);p=+D(p[E+1],E+1,p);return H+(p-H)*(r-E)}};n.quickselect=Ra;n.range=function(p,r,D){p=+p;r=+r;D=2>(H=arguments.length)?(r=p,p=0,1):
3>H?1:+D;for(var E=-1,H=Math.max(0,Math.ceil((r-p)/D))|0,C=Array(H);++E<H;)C[E]=p+E*D;return C};n.reduce=function(p,r,D){if("function"!==typeof r)throw new TypeError("reducer is not a function");const E=p[Symbol.iterator]();let H,C,ha=-1;if(3>arguments.length){({done:H,value:D}=E.next());if(H)return;++ha}for(;{done:H,value:C}=E.next(),!H;)D=r(D,C,++ha,p);return D};n.reverse=function(p){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(p).reverse()};
n.rollup=function(p,r,...D){return mb(p,Ia,r,D)};n.rollups=function(p,r,...D){return mb(p,Array.from,r,D)};n.scan=function(p,r){p=I(p,r);return 0>p?void 0:p};n.shuffle=w;n.shuffler=Q;n.some=function(p,r){if("function"!==typeof r)throw new TypeError("test is not a function");let D=-1;for(const E of p)if(r(E,++D,p))return!0;return!1};n.sort=function(p,r=x){if("function"!==typeof p[Symbol.iterator])throw new TypeError("values is not iterable");p=Array.from(p);return 1===r.length?(r=p.map(r),z(p,p.map((D,
E)=>E).sort((D,E)=>x(r[D],r[E])))):p.sort(r)};n.subset=function(p,r){return ma(r,p)};n.sum=function(p,r){let D=0;if(void 0===r)for(var E of p){if(E=+E)D+=E}else{E=-1;for(let H of p)if(H=+r(H,++E,p))D+=H}return D};n.superset=ma;n.thresholdFreedmanDiaconis=function(p,r,D){return Math.ceil((D-r)/(2*(ib(p,.75)-ib(p,.25))*Math.pow(ub(p),-1/3)))};n.thresholdScott=function(p,r,D){return Math.ceil((D-r)/(3.5*Xa(p)*Math.pow(ub(p),-1/3)))};n.thresholdSturges=bb;n.tickIncrement=hb;n.tickStep=function(p,r,D){var E=
Math.abs(r-p)/Math.max(0,D);D=Math.pow(10,Math.floor(Math.log(E)/Math.LN10));E/=D;E>=la?D*=10:E>=T?D*=5:E>=v&&(D*=2);return r<p?-D:D};n.ticks=Fa;n.transpose=J;n.union=function(...p){const r=new Set;for(const D of p)for(const E of D)r.add(E);return r};n.variance=rb;n.zip=function(){return J(arguments)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[19]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(Da,Fa){if(0>(Fa=(Da=Fa?Da.toExponential(Fa-1):Da.toExponential()).indexOf("e")))return null;var hb=Da.slice(0,Fa);return[1<hb.length?hb[0]+hb.slice(2):hb,+Da.slice(Fa+1)]}function ea(Da){return Da=x(Math.abs(Da)),Da?Da[1]:NaN}function Sa(Da,
Fa){return function(hb,Ca){for(var bb=hb.length,La=[],ka=0,Aa=Da[0],Ra=0;0<bb&&0<Aa;){Ra+Aa+1>Ca&&(Aa=Math.max(1,Ca-Ra));La.push(hb.substring(bb-=Aa,bb+Aa));if((Ra+=Aa+1)>Ca)break;Aa=Da[ka=(ka+1)%Da.length]}return La.reverse().join(Fa)}}function Wb(Da){return function(Fa){return Fa.replace(/[0-9]/g,function(hb){return Da[+hb]})}}function fb(Da){if(!(Fa=rb.exec(Da)))throw Error("invalid format: "+Da);var Fa;return new ub({fill:Fa[1],align:Fa[2],sign:Fa[3],symbol:Fa[4],zero:Fa[5],width:Fa[6],comma:Fa[7],
precision:Fa[8]&&Fa[8].slice(1),trim:Fa[9],type:Fa[10]})}function ub(Da){this.fill=void 0===Da.fill?" ":Da.fill+"";this.align=void 0===Da.align?"\x3e":Da.align+"";this.sign=void 0===Da.sign?"-":Da.sign+"";this.symbol=void 0===Da.symbol?"":Da.symbol+"";this.zero=!!Da.zero;this.width=void 0===Da.width?void 0:+Da.width;this.comma=!!Da.comma;this.precision=void 0===Da.precision?void 0:+Da.precision;this.trim=!!Da.trim;this.type=void 0===Da.type?"":Da.type+""}function Ob(Da,Fa){Fa=x(Da,Fa);if(!Fa)return Da+
"";Da=Fa[0];Fa=Fa[1];return 0>Fa?"0."+Array(-Fa).join("0")+Da:Da.length>Fa+1?Da.slice(0,Fa+1)+"."+Da.slice(Fa+1):Da+Array(Fa-Da.length+2).join("0")}function zb(Da){return Da}function cb(Da){function Fa(ib){function db(ua){var la=Qa,T=Ua,v,w;if("c"===ma)T=U(ua)+T,ua="";else{ua=+ua;var p=0>ua||0>1/ua;ua=isNaN(ua)?Ya:U(Math.abs(ua),W);if(Y){var r=ua.length,D=1,E=-1;a:for(;D<r;++D)switch(ua[D]){case ".":E=v=D;break;case "0":0===E&&(E=D);v=D;break;default:if(!+ua[D])break a;0<E&&(E=0)}ua=0<E?ua.slice(0,
E)+ua.slice(v+1):ua}p&&0===+ua&&"+"!==S&&(p=!1);la=(p?"("===S?S:Ra:"-"===S||"("===S?"":S)+la;T=("s"===ma?Za[8+Xa/3]:"")+T+(p&&"("===S?")":"");if(sa)for(p=-1,v=ua.length;++p<v;)if(w=ua.charCodeAt(p),48>w||57<w){T=(46===w?La+ua.slice(p+1):ua.slice(p))+T;ua=ua.slice(0,p);break}}J&&!I&&(ua=hb(ua,Infinity));w=la.length+ua.length+T.length;p=w<Q?Array(Q-w+1).join(nb):"";J&&I&&(ua=hb(p+ua,p.length?Q-T.length:Infinity),p="");switch($a){case "\x3c":ua=la+ua+T+p;break;case "\x3d":ua=la+p+ua+T;break;case "^":ua=
p.slice(0,w=p.length>>1)+la+ua+T+p.slice(w);break;default:ua=p+la+ua+T}return ka(ua)}ib=fb(ib);var nb=ib.fill,$a=ib.align,S=ib.sign,z=ib.symbol,I=ib.zero,Q=ib.width,J=ib.comma,W=ib.precision,Y=ib.trim,ma=ib.type;"n"===ma?(J=!0,ma="g"):Ha[ma]||(void 0===W&&(W=12),Y=!0,ma="g");if(I||"0"===nb&&"\x3d"===$a)I=!0,nb="0",$a="\x3d";var Qa="$"===z?Ca:"#"===z&&/[boxX]/.test(ma)?"0"+ma.toLowerCase():"",Ua="$"===z?bb:/[%p]/.test(ma)?Aa:"",U=Ha[ma],sa=/[defgprs%]/.test(ma);W=void 0===W?6:/[gprs]/.test(ma)?Math.max(1,
Math.min(21,W)):Math.max(0,Math.min(20,W));db.toString=function(){return ib+""};return db}var hb=void 0===Da.grouping||void 0===Da.thousands?zb:Sa(Ia.call(Da.grouping,Number),Da.thousands+""),Ca=void 0===Da.currency?"":Da.currency[0]+"",bb=void 0===Da.currency?"":Da.currency[1]+"",La=void 0===Da.decimal?".":Da.decimal+"",ka=void 0===Da.numerals?zb:Wb(Ia.call(Da.numerals,String)),Aa=void 0===Da.percent?"%":Da.percent+"",Ra=void 0===Da.minus?"":Da.minus+"",Ya=void 0===Da.nan?"NaN":Da.nan+"";return{format:Fa,
formatPrefix:function(ib,db){var nb=Fa((ib=fb(ib),ib.type="f",ib));ib=3*Math.max(-8,Math.min(8,Math.floor(ea(db)/3)));var $a=Math.pow(10,-ib),S=Za[8+ib/3];return function(z){return nb($a*z)+S}}}}function ob(Da){mb=cb(Da);n.format=mb.format;n.formatPrefix=mb.formatPrefix;return mb}var rb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;fb.prototype=ub.prototype;ub.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===
this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Xa,Ha={"%":(Da,Fa)=>(100*Da).toFixed(Fa),b:Da=>Math.round(Da).toString(2),c:Da=>Da+"",d:function(Da){return 1E21<=Math.abs(Da=Math.round(Da))?Da.toLocaleString("en").replace(/,/g,""):Da.toString(10)},e:(Da,Fa)=>Da.toExponential(Fa),f:(Da,Fa)=>Da.toFixed(Fa),g:(Da,Fa)=>Da.toPrecision(Fa),o:Da=>Math.round(Da).toString(8),p:(Da,Fa)=>Ob(100*Da,Fa),
r:Ob,s:function(Da,Fa){var hb=x(Da,Fa);if(!hb)return Da+"";var Ca=hb[0];hb=hb[1];hb=hb-(Xa=3*Math.max(-8,Math.min(8,Math.floor(hb/3))))+1;var bb=Ca.length;return hb===bb?Ca:hb>bb?Ca+Array(hb-bb+1).join("0"):0<hb?Ca.slice(0,hb)+"."+Ca.slice(hb):"0."+Array(1-hb).join("0")+x(Da,Math.max(0,Fa+hb-1))[0]},X:Da=>Math.round(Da).toString(16).toUpperCase(),x:Da=>Math.round(Da).toString(16)},Ia=Array.prototype.map,Za="y z a f p n  m  k M G T P E Z Y".split(" "),mb;ob({thousands:",",grouping:[3],currency:["$",
""]});n.FormatSpecifier=ub;n.formatDefaultLocale=ob;n.formatLocale=cb;n.formatSpecifier=fb;n.precisionFixed=function(Da){return Math.max(0,-ea(Math.abs(Da)))};n.precisionPrefix=function(Da,Fa){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ea(Fa)/3)))-ea(Math.abs(Da)))};n.precisionRound=function(Da,Fa){Da=Math.abs(Da);Fa=Math.abs(Fa)-Da;return Math.max(0,ea(Fa)-ea(Da))+1};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[20]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(Ja,ba,ta,eb){function xb(Kb){return Ja(Kb=0===arguments.length?new Date:new Date(+Kb)),Kb}xb.floor=function(Kb){return Ja(Kb=new Date(+Kb)),Kb};xb.ceil=function(Kb){return Ja(Kb=new Date(Kb-1)),ba(Kb,1),Ja(Kb),Kb};xb.round=function(Kb){var fc=xb(Kb),Ec=xb.ceil(Kb);return Kb-
fc<Ec-Kb?fc:Ec};xb.offset=function(Kb,fc){return ba(Kb=new Date(+Kb),null==fc?1:Math.floor(fc)),Kb};xb.range=function(Kb,fc,Ec){var gd=[],Dc;Kb=xb.ceil(Kb);Ec=null==Ec?1:Math.floor(Ec);if(!(Kb<fc&&0<Ec))return gd;do gd.push(Dc=new Date(+Kb)),ba(Kb,Ec),Ja(Kb);while(Dc<Kb&&Kb<fc);return gd};xb.filter=function(Kb){return x(function(fc){if(fc>=fc)for(;Ja(fc),!Kb(fc);)fc.setTime(fc-1)},function(fc,Ec){if(fc>=fc)if(0>Ec)for(;0>=++Ec;)for(;ba(fc,-1),!Kb(fc););else for(;0<=--Ec;)for(;ba(fc,1),!Kb(fc););})};
ta&&(xb.count=function(Kb,fc){Wb.setTime(+Kb);fb.setTime(+fc);Ja(Wb);Ja(fb);return Math.floor(ta(Wb,fb))},xb.every=function(Kb){Kb=Math.floor(Kb);return isFinite(Kb)&&0<Kb?1<Kb?xb.filter(eb?function(fc){return 0===eb(fc)%Kb}:function(fc){return 0===xb.count(0,fc)%Kb}):xb:null});return xb}function ea(Ja){return x(function(ba){ba.setDate(ba.getDate()-(ba.getDay()+7-Ja)%7);ba.setHours(0,0,0,0)},function(ba,ta){ba.setDate(ba.getDate()+7*ta)},function(ba,ta){return(ta-ba-6E4*(ta.getTimezoneOffset()-ba.getTimezoneOffset()))/
6048E5})}function Sa(Ja){return x(function(ba){ba.setUTCDate(ba.getUTCDate()-(ba.getUTCDay()+7-Ja)%7);ba.setUTCHours(0,0,0,0)},function(ba,ta){ba.setUTCDate(ba.getUTCDate()+7*ta)},function(ba,ta){return(ta-ba)/6048E5})}var Wb=new Date,fb=new Date,ub=x(function(){},function(Ja,ba){Ja.setTime(+Ja+ba)},function(Ja,ba){return ba-Ja});ub.every=function(Ja){Ja=Math.floor(Ja);return isFinite(Ja)&&0<Ja?1<Ja?x(function(ba){ba.setTime(Math.floor(ba/Ja)*Ja)},function(ba,ta){ba.setTime(+ba+ta*Ja)},function(ba,
ta){return(ta-ba)/Ja}):ub:null};var Ob=ub.range,zb=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds())},function(Ja,ba){Ja.setTime(+Ja+1E3*ba)},function(Ja,ba){return(ba-Ja)/1E3},function(Ja){return Ja.getUTCSeconds()}),cb=zb.range,ob=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds())},function(Ja,ba){Ja.setTime(+Ja+6E4*ba)},function(Ja,ba){return(ba-Ja)/6E4},function(Ja){return Ja.getMinutes()}),rb=ob.range,Xa=x(function(Ja){Ja.setTime(Ja-Ja.getMilliseconds()-1E3*Ja.getSeconds()-
6E4*Ja.getMinutes())},function(Ja,ba){Ja.setTime(+Ja+36E5*ba)},function(Ja,ba){return(ba-Ja)/36E5},function(Ja){return Ja.getHours()}),Ha=Xa.range,Ia=x(Ja=>Ja.setHours(0,0,0,0),(Ja,ba)=>Ja.setDate(Ja.getDate()+ba),(Ja,ba)=>(ba-Ja-6E4*(ba.getTimezoneOffset()-Ja.getTimezoneOffset()))/864E5,Ja=>Ja.getDate()-1),Za=Ia.range,mb=ea(0),Da=ea(1),Fa=ea(2),hb=ea(3),Ca=ea(4),bb=ea(5),La=ea(6),ka=mb.range,Aa=Da.range,Ra=Fa.range,Ya=hb.range,ib=Ca.range,db=bb.range,nb=La.range,$a=x(function(Ja){Ja.setDate(1);Ja.setHours(0,
0,0,0)},function(Ja,ba){Ja.setMonth(Ja.getMonth()+ba)},function(Ja,ba){return ba.getMonth()-Ja.getMonth()+12*(ba.getFullYear()-Ja.getFullYear())},function(Ja){return Ja.getMonth()}),S=$a.range,z=x(function(Ja){Ja.setMonth(0,1);Ja.setHours(0,0,0,0)},function(Ja,ba){Ja.setFullYear(Ja.getFullYear()+ba)},function(Ja,ba){return ba.getFullYear()-Ja.getFullYear()},function(Ja){return Ja.getFullYear()});z.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<Ja?x(function(ba){ba.setFullYear(Math.floor(ba.getFullYear()/
Ja)*Ja);ba.setMonth(0,1);ba.setHours(0,0,0,0)},function(ba,ta){ba.setFullYear(ba.getFullYear()+ta*Ja)}):null};var I=z.range,Q=x(function(Ja){Ja.setUTCSeconds(0,0)},function(Ja,ba){Ja.setTime(+Ja+6E4*ba)},function(Ja,ba){return(ba-Ja)/6E4},function(Ja){return Ja.getUTCMinutes()}),J=Q.range,W=x(function(Ja){Ja.setUTCMinutes(0,0,0)},function(Ja,ba){Ja.setTime(+Ja+36E5*ba)},function(Ja,ba){return(ba-Ja)/36E5},function(Ja){return Ja.getUTCHours()}),Y=W.range,ma=x(function(Ja){Ja.setUTCHours(0,0,0,0)},
function(Ja,ba){Ja.setUTCDate(Ja.getUTCDate()+ba)},function(Ja,ba){return(ba-Ja)/864E5},function(Ja){return Ja.getUTCDate()-1}),Qa=ma.range,Ua=Sa(0),U=Sa(1),sa=Sa(2),ua=Sa(3),la=Sa(4),T=Sa(5),v=Sa(6),w=Ua.range,p=U.range,r=sa.range,D=ua.range,E=la.range,H=T.range,C=v.range,ha=x(function(Ja){Ja.setUTCDate(1);Ja.setUTCHours(0,0,0,0)},function(Ja,ba){Ja.setUTCMonth(Ja.getUTCMonth()+ba)},function(Ja,ba){return ba.getUTCMonth()-Ja.getUTCMonth()+12*(ba.getUTCFullYear()-Ja.getUTCFullYear())},function(Ja){return Ja.getUTCMonth()}),
xa=ha.range,oa=x(function(Ja){Ja.setUTCMonth(0,1);Ja.setUTCHours(0,0,0,0)},function(Ja,ba){Ja.setUTCFullYear(Ja.getUTCFullYear()+ba)},function(Ja,ba){return ba.getUTCFullYear()-Ja.getUTCFullYear()},function(Ja){return Ja.getUTCFullYear()});oa.every=function(Ja){return isFinite(Ja=Math.floor(Ja))&&0<Ja?x(function(ba){ba.setUTCFullYear(Math.floor(ba.getUTCFullYear()/Ja)*Ja);ba.setUTCMonth(0,1);ba.setUTCHours(0,0,0,0)},function(ba,ta){ba.setUTCFullYear(ba.getUTCFullYear()+ta*Ja)}):null};var Va=oa.range;
n.timeDay=Ia;n.timeDays=Za;n.timeFriday=bb;n.timeFridays=db;n.timeHour=Xa;n.timeHours=Ha;n.timeInterval=x;n.timeMillisecond=ub;n.timeMilliseconds=Ob;n.timeMinute=ob;n.timeMinutes=rb;n.timeMonday=Da;n.timeMondays=Aa;n.timeMonth=$a;n.timeMonths=S;n.timeSaturday=La;n.timeSaturdays=nb;n.timeSecond=zb;n.timeSeconds=cb;n.timeSunday=mb;n.timeSundays=ka;n.timeThursday=Ca;n.timeThursdays=ib;n.timeTuesday=Fa;n.timeTuesdays=Ra;n.timeWednesday=hb;n.timeWednesdays=Ya;n.timeWeek=mb;n.timeWeeks=ka;n.timeYear=z;
n.timeYears=I;n.utcDay=ma;n.utcDays=Qa;n.utcFriday=T;n.utcFridays=H;n.utcHour=W;n.utcHours=Y;n.utcMillisecond=ub;n.utcMilliseconds=Ob;n.utcMinute=Q;n.utcMinutes=J;n.utcMonday=U;n.utcMondays=p;n.utcMonth=ha;n.utcMonths=xa;n.utcSaturday=v;n.utcSaturdays=C;n.utcSecond=zb;n.utcSeconds=cb;n.utcSunday=Ua;n.utcSundays=w;n.utcThursday=la;n.utcThursdays=E;n.utcTuesday=sa;n.utcTuesdays=r;n.utcWednesday=ua;n.utcWednesdays=D;n.utcWeek=Ua;n.utcWeeks=w;n.utcYear=oa;n.utcYears=Va;Object.defineProperty(n,"__esModule",
{value:!0})})};
shadow$provide[21]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(20),Rb(18)):"function"===typeof define&&define.amd?define(["exports","vega-util","d3-time","d3-array"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3))})(this,function(n,x,ea,Sa){function Wb(Y){const ma=x.array(Y).slice(),Qa={};ma.length||x.error("Missing time unit.");ma.forEach(Ua=>{x.hasOwnProperty(Da,Ua)?Qa[Ua]=1:x.error(`Invalid time unit: ${Ua}.`)});
1<(Qa.week||Qa.day?1:0)+(Qa.quarter||Qa.month||Qa.date?1:0)+(Qa.dayofyear?1:0)&&x.error(`Incompatible time units: ${Y}`);ma.sort((Ua,U)=>Da[Ua]-Da[U]);return ma}function fb(Y){hb.setFullYear(Y);hb.setMonth(0);hb.setDate(1);hb.setHours(0,0,0,0);return hb}function ub(Y){return ea.timeDay.count(fb(Y.getFullYear())-1,Y)}function Ob(Y){return ea.timeWeek.count(fb(Y.getFullYear())-1,Y)}function zb(Y,ma,Qa,Ua,U,sa,ua){return 0<=Y&&100>Y?(ma=new Date(-1,ma,Qa,Ua,U,sa,ua),ma.setFullYear(Y),ma):new Date(Y,
ma,Qa,Ua,U,sa,ua)}function cb(Y){const ma=Date.UTC(Y.getUTCFullYear(),0,1);return ea.utcDay.count(ma-1,Y)}function ob(Y){const ma=Date.UTC(Y.getUTCFullYear(),0,1);return ea.utcWeek.count(ma-1,Y)}function rb(Y){hb.setTime(Date.UTC(Y,0,1));return hb.getUTCDay()}function Xa(Y,ma,Qa,Ua,U,sa,ua){return 0<=Y&&100>Y?(Y=new Date(Date.UTC(-1,ma,Qa,Ua,U,sa,ua)),Y.setUTCFullYear(Qa.y),Y):new Date(Date.UTC(Y,ma,Qa,Ua,U,sa,ua))}function Ha(Y,ma,Qa,Ua,U){const sa=ma||1,ua=x.peek(Y);ma=(H,C,ha)=>{ha=ha||H;return Ia(Qa[ha],
Ua[ha],H===ua&&sa,C)};const la=new Date;Y=x.toSet(Y);const T=Y.year?ma("year"):x.constant(2012),v=Y.month?ma("month"):Y.quarter?ma("quarter"):x.zero,w=Y.week&&Y.day?ma("day",1,"weekday"):Y.week?ma("week",1):Y.day?ma("day",1):Y.date?ma("date",1):Y.dayofyear?ma("dayofyear",1):x.one,p=Y.hours?ma("hours"):x.zero,r=Y.minutes?ma("minutes"):x.zero,D=Y.seconds?ma("seconds"):x.zero,E=Y.milliseconds?ma("milliseconds"):x.zero;return function(H){la.setTime(+H);H=T(la);return U(H,v(la),w(la,H),p(la),r(la),D(la),
E(la))}}function Ia(Y,ma,Qa,Ua){const U=1>=Qa?Y:Ua?(sa,ua)=>Ua+Qa*Math.floor((Y(sa,ua)-Ua)/Qa):(sa,ua)=>Qa*Math.floor(Y(sa,ua)/Qa);return ma?(sa,ua)=>ma(U(sa,ua),ua):U}function Za(Y,ma,Qa){return ma+7*Y-(Qa+6)%7}const mb="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),Da=mb.reduce((Y,ma,Qa)=>(Y[ma]=1+Qa,Y),{}),Fa={["year"]:"%Y ",["quarter"]:"Q%q ",["month"]:"%b ",["date"]:"%d ",["week"]:"W%U ",["day"]:"%a ",["dayofyear"]:"%j ",["hours"]:"%H:00",["minutes"]:"00:%M",
["seconds"]:":%S",["milliseconds"]:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"},hb=new Date,Ca={["year"]:Y=>Y.getFullYear(),["quarter"]:Y=>Math.floor(Y.getMonth()/3),["month"]:Y=>Y.getMonth(),["date"]:Y=>Y.getDate(),["hours"]:Y=>Y.getHours(),["minutes"]:Y=>Y.getMinutes(),["seconds"]:Y=>Y.getSeconds(),["milliseconds"]:Y=>Y.getMilliseconds(),["dayofyear"]:Y=>ub(Y),["week"]:Y=>Ob(Y),["weekday"]:(Y,ma)=>Za(Ob(Y),Y.getDay(),fb(ma).getDay()),["day"]:(Y,ma)=>Za(1,
Y.getDay(),fb(ma).getDay())},bb={["quarter"]:Y=>3*Y,["week"]:(Y,ma)=>Za(Y,0,fb(ma).getDay())},La={["year"]:Y=>Y.getUTCFullYear(),["quarter"]:Y=>Math.floor(Y.getUTCMonth()/3),["month"]:Y=>Y.getUTCMonth(),["date"]:Y=>Y.getUTCDate(),["hours"]:Y=>Y.getUTCHours(),["minutes"]:Y=>Y.getUTCMinutes(),["seconds"]:Y=>Y.getUTCSeconds(),["milliseconds"]:Y=>Y.getUTCMilliseconds(),["dayofyear"]:Y=>cb(Y),["week"]:Y=>ob(Y),["day"]:(Y,ma)=>Za(1,Y.getUTCDay(),rb(ma)),["weekday"]:(Y,ma)=>Za(ob(Y),Y.getUTCDay(),rb(ma))},
ka={["quarter"]:Y=>3*Y,["week"]:(Y,ma)=>Za(Y,0,rb(ma))},Aa={["year"]:ea.timeYear,["quarter"]:ea.timeMonth.every(3),["month"]:ea.timeMonth,["week"]:ea.timeWeek,["date"]:ea.timeDay,["day"]:ea.timeDay,["dayofyear"]:ea.timeDay,["hours"]:ea.timeHour,["minutes"]:ea.timeMinute,["seconds"]:ea.timeSecond,["milliseconds"]:ea.timeMillisecond},Ra={["year"]:ea.utcYear,["quarter"]:ea.utcMonth.every(3),["month"]:ea.utcMonth,["week"]:ea.utcWeek,["date"]:ea.utcDay,["day"]:ea.utcDay,["dayofyear"]:ea.utcDay,["hours"]:ea.utcHour,
["minutes"]:ea.utcMinute,["seconds"]:ea.utcSecond,["milliseconds"]:ea.utcMillisecond},Ya=6048E5,ib=2592E6,db=31536E6,nb="year month date hours minutes seconds milliseconds".split(" "),$a=nb.slice(0,-1),S=$a.slice(0,-1),z=S.slice(0,-1),I=z.slice(0,-1),Q=["year","month"],J=["year"],W=[[$a,1,1E3],[$a,5,5E3],[$a,15,15E3],[$a,30,3E4],[S,1,6E4],[S,5,3E5],[S,15,9E5],[S,30,18E5],[z,1,36E5],[z,3,108E5],[z,6,216E5],[z,12,432E5],[I,1,864E5],[["year","week"],1,Ya],[Q,1,ib],[Q,3,3*ib],[J,1,db]];n.DATE="date";
n.DAY="day";n.DAYOFYEAR="dayofyear";n.HOURS="hours";n.MILLISECONDS="milliseconds";n.MINUTES="minutes";n.MONTH="month";n.QUARTER="quarter";n.SECONDS="seconds";n.TIME_UNITS=mb;n.WEEK="week";n.YEAR="year";n.dayofyear=function(Y){return ub(new Date(Y))};n.timeBin=function(Y){var ma=Y.extent;Y=Y.maxbins||40;var Qa=Math.abs(x.span(ma))/Y;let Ua=Sa.bisector(U=>U[2]).right(W,Qa);Ua===W.length?(Qa=J,ma=Sa.tickStep(ma[0]/db,ma[1]/db,Y)):Ua?(Ua=W[Qa/W[Ua-1][2]<W[Ua][2]/Qa?Ua-1:Ua],Qa=Ua[0],ma=Ua[1]):(Qa=nb,
ma=Math.max(Sa.tickStep(ma[0],ma[1],Y),1));return{units:Qa,step:ma}};n.timeFloor=function(Y,ma){return Ha(Y,ma||1,Ca,bb,zb)};n.timeInterval=function(Y){return Aa[Y]};n.timeOffset=function(Y,ma,Qa){return(Y=Aa[Y])?Y.offset(ma,Qa):void 0};n.timeSequence=function(Y,ma,Qa,Ua){return(Y=Aa[Y])?Y.range(ma,Qa,Ua):void 0};n.timeUnitSpecifier=function(Y,ma){ma=x.extend({},Fa,ma);Y=Wb(Y);const Qa=Y.length;let Ua="",U,sa,ua;for(U=0;U<Qa;)for(sa=Y.length;sa>U;--sa)if(ua=Y.slice(U,sa).join("-"),null!=ma[ua]){Ua+=
ma[ua];U=sa;break}return Ua.trim()};n.timeUnits=Wb;n.utcFloor=function(Y,ma){return Ha(Y,ma||1,La,ka,Xa)};n.utcInterval=function(Y){return Ra[Y]};n.utcOffset=function(Y,ma,Qa){return(Y=Ra[Y])?Y.offset(ma,Qa):void 0};n.utcSequence=function(Y,ma,Qa,Ua){return(Y=Ra[Y])?Y.range(ma,Qa,Ua):void 0};n.utcdayofyear=function(Y){return cb(new Date(Y))};n.utcweek=function(Y){return ob(new Date(Y))};n.week=function(Y){return Ob(new Date(Y))};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[22]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(20)):"function"===typeof define&&define.amd?define(["exports","d3-time"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ea(Ma){if(0<=Ma.y&&100>Ma.y){var vb=new Date(-1,Ma.m,Ma.d,Ma.H,Ma.M,Ma.S,Ma.L);vb.setFullYear(Ma.y);return vb}return new Date(Ma.y,Ma.m,Ma.d,Ma.H,Ma.M,Ma.S,Ma.L)}function Sa(Ma){if(0<=Ma.y&&100>Ma.y){var vb=new Date(Date.UTC(-1,Ma.m,Ma.d,Ma.H,Ma.M,Ma.S,
Ma.L));vb.setUTCFullYear(Ma.y);return vb}return new Date(Date.UTC(Ma.y,Ma.m,Ma.d,Ma.H,Ma.M,Ma.S,Ma.L))}function Wb(Ma,vb,ac){return{y:Ma,m:vb,d:ac,H:0,M:0,S:0,L:0}}function fb(Ma){function vb(xc,Jc){return function(Yc){var Uc=[],od=-1,qd=0,Id=xc.length,Ed,Wd;for(Yc instanceof Date||(Yc=new Date(+Yc));++od<Id;)if(37===xc.charCodeAt(od)){Uc.push(xc.slice(qd,od));null!=(qd=$c[Ed=xc.charAt(++od)])?Ed=xc.charAt(++od):qd="e"===Ed?" ":"0";if(Wd=Jc[Ed])Ed=Wd(Yc,qd);Uc.push(Ed);qd=od+1}Uc.push(xc.slice(qd,
od));return Uc.join("")}}function ac(xc,Jc){return function(Yc){var Uc=Wb(1900,void 0,1);if(rd(Uc,xc,Yc+="",0)!=Yc.length)return null;if("Q"in Uc)return new Date(Uc.Q);if("s"in Uc)return new Date(1E3*Uc.s+("L"in Uc?Uc.L:0));!Jc||"Z"in Uc||(Uc.Z=0);"p"in Uc&&(Uc.H=Uc.H%12+12*Uc.p);void 0===Uc.m&&(Uc.m="q"in Uc?Uc.q:0);if("V"in Uc){if(1>Uc.V||53<Uc.V)return null;"w"in Uc||(Uc.w=1);if("Z"in Uc){Yc=Sa(Wb(Uc.y,0,1));var od=Yc.getUTCDay();Yc=4<od||0===od?x.utcMonday.ceil(Yc):x.utcMonday(Yc);Yc=x.utcDay.offset(Yc,
7*(Uc.V-1));Uc.y=Yc.getUTCFullYear();Uc.m=Yc.getUTCMonth();Uc.d=Yc.getUTCDate()+(Uc.w+6)%7}else Yc=ea(Wb(Uc.y,0,1)),od=Yc.getDay(),Yc=4<od||0===od?x.timeMonday.ceil(Yc):x.timeMonday(Yc),Yc=x.timeDay.offset(Yc,7*(Uc.V-1)),Uc.y=Yc.getFullYear(),Uc.m=Yc.getMonth(),Uc.d=Yc.getDate()+(Uc.w+6)%7}else if("W"in Uc||"U"in Uc)"w"in Uc||(Uc.w="u"in Uc?Uc.u%7:"W"in Uc?1:0),od="Z"in Uc?Sa(Wb(Uc.y,0,1)).getUTCDay():ea(Wb(Uc.y,0,1)).getDay(),Uc.m=0,Uc.d="W"in Uc?(Uc.w+6)%7+7*Uc.W-(od+5)%7:Uc.w+7*Uc.U-(od+6)%7;return"Z"in
Uc?(Uc.H+=Uc.Z/100|0,Uc.M+=Uc.Z%100,Sa(Uc)):ea(Uc)}}function rd(xc,Jc,Yc,Uc){for(var od=0,qd=Jc.length,Id=Yc.length,Ed;od<qd;){if(Uc>=Id)return-1;Ed=Jc.charCodeAt(od++);if(37===Ed){if(Ed=Jc.charAt(od++),Ed=Cc[Ed in $c?Jc.charAt(od++):Ed],!Ed||0>(Uc=Ed(xc,Yc,Uc)))return-1}else if(Ed!=Yc.charCodeAt(Uc++))return-1}return Uc}var vd=Ma.dateTime,de=Ma.date,oe=Ma.time,Z=Ma.periods,za=Ma.days,gb=Ma.shortDays,Db=Ma.months,Zb=Ma.shortMonths,Gb=zb(Z),sc=cb(Z),kc=zb(za),Oa=cb(za),sb=zb(gb),Lb=cb(gb),hc=zb(Db),
tc=cb(Db),Bc=zb(Zb),Mc=cb(Zb),Hb={a:function(xc){return gb[xc.getDay()]},A:function(xc){return za[xc.getDay()]},b:function(xc){return Zb[xc.getMonth()]},B:function(xc){return Db[xc.getMonth()]},c:null,d:$a,e:$a,f:J,g:v,G:p,H:S,I:z,j:I,L:Q,m:W,M:Y,p:function(xc){return Z[+(12<=xc.getHours())]},q:function(xc){return 1+~~(xc.getMonth()/3)},Q:lc,s:wc,S:ma,u:Qa,U:Ua,V:sa,w:ua,W:la,x:null,X:null,y:T,Y:w,Z:r,"%":nc},yc={a:function(xc){return gb[xc.getUTCDay()]},A:function(xc){return za[xc.getUTCDay()]},
b:function(xc){return Zb[xc.getUTCMonth()]},B:function(xc){return Db[xc.getUTCMonth()]},c:null,d:D,e:D,f:xa,g:gd,G:Sc,H:E,I:H,j:C,L:ha,m:oa,M:Va,p:function(xc){return Z[+(12<=xc.getUTCHours())]},q:function(xc){return 1+~~(xc.getUTCMonth()/3)},Q:lc,s:wc,S:Ja,u:ba,U:ta,V:xb,w:Kb,W:fc,x:null,X:null,y:Ec,Y:Dc,Z:Ta,"%":nc},Cc={a:function(xc,Jc,Yc){return(Jc=sb.exec(Jc.slice(Yc)))?(xc.w=Lb.get(Jc[0].toLowerCase()),Yc+Jc[0].length):-1},A:function(xc,Jc,Yc){return(Jc=kc.exec(Jc.slice(Yc)))?(xc.w=Oa.get(Jc[0].toLowerCase()),
Yc+Jc[0].length):-1},b:function(xc,Jc,Yc){return(Jc=Bc.exec(Jc.slice(Yc)))?(xc.m=Mc.get(Jc[0].toLowerCase()),Yc+Jc[0].length):-1},B:function(xc,Jc,Yc){return(Jc=hc.exec(Jc.slice(Yc)))?(xc.m=tc.get(Jc[0].toLowerCase()),Yc+Jc[0].length):-1},c:function(xc,Jc,Yc){return rd(xc,vd,Jc,Yc)},d:Ca,e:Ca,f:Ya,g:mb,G:Za,H:La,I:La,j:bb,L:Ra,m:hb,M:ka,p:function(xc,Jc,Yc){return(Jc=Gb.exec(Jc.slice(Yc)))?(xc.p=sc.get(Jc[0].toLowerCase()),Yc+Jc[0].length):-1},q:Fa,Q:db,s:nb,S:Aa,u:rb,U:Xa,V:Ha,w:ob,W:Ia,x:function(xc,
Jc,Yc){return rd(xc,de,Jc,Yc)},X:function(xc,Jc,Yc){return rd(xc,oe,Jc,Yc)},y:mb,Y:Za,Z:Da,"%":ib};Hb.x=vb(de,Hb);Hb.X=vb(oe,Hb);Hb.c=vb(vd,Hb);yc.x=vb(de,yc);yc.X=vb(oe,yc);yc.c=vb(vd,yc);return{format:function(xc){var Jc=vb(xc+="",Hb);Jc.toString=function(){return xc};return Jc},parse:function(xc){var Jc=ac(xc+="",!1);Jc.toString=function(){return xc};return Jc},utcFormat:function(xc){var Jc=vb(xc+="",yc);Jc.toString=function(){return xc};return Jc},utcParse:function(xc){var Jc=ac(xc+="",!0);Jc.toString=
function(){return xc};return Jc}}}function ub(Ma,vb,ac){var rd=0>Ma?"-":"";Ma=(rd?-Ma:Ma)+"";var vd=Ma.length;return rd+(vd<ac?Array(ac-vd+1).join(vb)+Ma:Ma)}function Ob(Ma){return Ma.replace(we,"\\$\x26")}function zb(Ma){return new RegExp("^(?:"+Ma.map(Ob).join("|")+")","i")}function cb(Ma){return new Map(Ma.map((vb,ac)=>[vb.toLowerCase(),ac]))}function ob(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+1)))?(Ma.w=+vb[0],ac+vb[0].length):-1}function rb(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+1)))?
(Ma.u=+vb[0],ac+vb[0].length):-1}function Xa(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.U=+vb[0],ac+vb[0].length):-1}function Ha(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.V=+vb[0],ac+vb[0].length):-1}function Ia(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.W=+vb[0],ac+vb[0].length):-1}function Za(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+4)))?(Ma.y=+vb[0],ac+vb[0].length):-1}function mb(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.y=+vb[0]+(68<+vb[0]?1900:2E3),ac+
vb[0].length):-1}function Da(Ma,vb,ac){return(vb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(vb.slice(ac,ac+6)))?(Ma.Z=vb[1]?0:-(vb[2]+(vb[3]||"00")),ac+vb[0].length):-1}function Fa(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+1)))?(Ma.q=3*vb[0]-3,ac+vb[0].length):-1}function hb(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.m=vb[0]-1,ac+vb[0].length):-1}function Ca(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.d=+vb[0],ac+vb[0].length):-1}function bb(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+3)))?
(Ma.m=0,Ma.d=+vb[0],ac+vb[0].length):-1}function La(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.H=+vb[0],ac+vb[0].length):-1}function ka(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.M=+vb[0],ac+vb[0].length):-1}function Aa(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+2)))?(Ma.S=+vb[0],ac+vb[0].length):-1}function Ra(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+3)))?(Ma.L=+vb[0],ac+vb[0].length):-1}function Ya(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac,ac+6)))?(Ma.L=Math.floor(vb[0]/1E3),ac+
vb[0].length):-1}function ib(Ma,vb,ac){return(Ma=Dd.exec(vb.slice(ac,ac+1)))?ac+Ma[0].length:-1}function db(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac)))?(Ma.Q=+vb[0],ac+vb[0].length):-1}function nb(Ma,vb,ac){return(vb=Nc.exec(vb.slice(ac)))?(Ma.s=+vb[0],ac+vb[0].length):-1}function $a(Ma,vb){return ub(Ma.getDate(),vb,2)}function S(Ma,vb){return ub(Ma.getHours(),vb,2)}function z(Ma,vb){return ub(Ma.getHours()%12||12,vb,2)}function I(Ma,vb){return ub(1+x.timeDay.count(x.timeYear(Ma),Ma),vb,3)}function Q(Ma,
vb){return ub(Ma.getMilliseconds(),vb,3)}function J(Ma,vb){return Q(Ma,vb)+"000"}function W(Ma,vb){return ub(Ma.getMonth()+1,vb,2)}function Y(Ma,vb){return ub(Ma.getMinutes(),vb,2)}function ma(Ma,vb){return ub(Ma.getSeconds(),vb,2)}function Qa(Ma){Ma=Ma.getDay();return 0===Ma?7:Ma}function Ua(Ma,vb){return ub(x.timeSunday.count(x.timeYear(Ma)-1,Ma),vb,2)}function U(Ma){var vb=Ma.getDay();return 4<=vb||0===vb?x.timeThursday(Ma):x.timeThursday.ceil(Ma)}function sa(Ma,vb){Ma=U(Ma);return ub(x.timeThursday.count(x.timeYear(Ma),
Ma)+(4===x.timeYear(Ma).getDay()),vb,2)}function ua(Ma){return Ma.getDay()}function la(Ma,vb){return ub(x.timeMonday.count(x.timeYear(Ma)-1,Ma),vb,2)}function T(Ma,vb){return ub(Ma.getFullYear()%100,vb,2)}function v(Ma,vb){Ma=U(Ma);return ub(Ma.getFullYear()%100,vb,2)}function w(Ma,vb){return ub(Ma.getFullYear()%1E4,vb,4)}function p(Ma,vb){var ac=Ma.getDay();Ma=4<=ac||0===ac?x.timeThursday(Ma):x.timeThursday.ceil(Ma);return ub(Ma.getFullYear()%1E4,vb,4)}function r(Ma){Ma=Ma.getTimezoneOffset();return(0<
Ma?"-":(Ma*=-1,"+"))+ub(Ma/60|0,"0",2)+ub(Ma%60,"0",2)}function D(Ma,vb){return ub(Ma.getUTCDate(),vb,2)}function E(Ma,vb){return ub(Ma.getUTCHours(),vb,2)}function H(Ma,vb){return ub(Ma.getUTCHours()%12||12,vb,2)}function C(Ma,vb){return ub(1+x.utcDay.count(x.utcYear(Ma),Ma),vb,3)}function ha(Ma,vb){return ub(Ma.getUTCMilliseconds(),vb,3)}function xa(Ma,vb){return ha(Ma,vb)+"000"}function oa(Ma,vb){return ub(Ma.getUTCMonth()+1,vb,2)}function Va(Ma,vb){return ub(Ma.getUTCMinutes(),vb,2)}function Ja(Ma,
vb){return ub(Ma.getUTCSeconds(),vb,2)}function ba(Ma){Ma=Ma.getUTCDay();return 0===Ma?7:Ma}function ta(Ma,vb){return ub(x.utcSunday.count(x.utcYear(Ma)-1,Ma),vb,2)}function eb(Ma){var vb=Ma.getUTCDay();return 4<=vb||0===vb?x.utcThursday(Ma):x.utcThursday.ceil(Ma)}function xb(Ma,vb){Ma=eb(Ma);return ub(x.utcThursday.count(x.utcYear(Ma),Ma)+(4===x.utcYear(Ma).getUTCDay()),vb,2)}function Kb(Ma){return Ma.getUTCDay()}function fc(Ma,vb){return ub(x.utcMonday.count(x.utcYear(Ma)-1,Ma),vb,2)}function Ec(Ma,
vb){return ub(Ma.getUTCFullYear()%100,vb,2)}function gd(Ma,vb){Ma=eb(Ma);return ub(Ma.getUTCFullYear()%100,vb,2)}function Dc(Ma,vb){return ub(Ma.getUTCFullYear()%1E4,vb,4)}function Sc(Ma,vb){var ac=Ma.getUTCDay();Ma=4<=ac||0===ac?x.utcThursday(Ma):x.utcThursday.ceil(Ma);return ub(Ma.getUTCFullYear()%1E4,vb,4)}function Ta(){return"+0000"}function nc(){return"%"}function lc(Ma){return+Ma}function wc(Ma){return Math.floor(+Ma/1E3)}function Pc(Ma){ld=fb(Ma);n.timeFormat=ld.format;n.timeParse=ld.parse;
n.utcFormat=ld.utcFormat;n.utcParse=ld.utcParse;return ld}function rc(Ma){return Ma.toISOString()}function Xc(Ma){Ma=new Date(Ma);return isNaN(Ma)?null:Ma}var $c={"-":"",_:" ",0:"0"},Nc=/^\s*\d+/,Dd=/^%/,we=/[\\^$*+?|[\]().{}]/g,ld;Pc({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var sd=Date.prototype.toISOString?rc:n.utcFormat("%Y-%m-%dT%H:%M:%S.%LZ"),ge=+new Date("2000-01-01T00:00:00.000Z")?Xc:n.utcParse("%Y-%m-%dT%H:%M:%S.%LZ");n.isoFormat=sd;n.isoParse=ge;n.timeFormatDefaultLocale=Pc;n.timeFormatLocale=fb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[23]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(18),Rb(19),Rb(21),Rb(17),Rb(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-format vega-time vega-util d3-time-format".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3,n.d3,n.vega,n.vega,n.d3))})(this,function(n,x,ea,Sa,Wb,fb){function ub(Ca){const bb={};return La=>bb[La]||(bb[La]=Ca(La))}function Ob(Ca,bb){return La=>{La=Ca(La);
const ka=La.indexOf(bb);if(0>ka)return La;a:{var Aa=La.lastIndexOf("e");if(!(0<Aa)){for(Aa=La.length;--Aa>ka;){var Ra=La.charCodeAt(Aa);if(48<=Ra&&57>=Ra){Aa+=1;break a}}Aa=void 0}}for(Ra=Aa<La.length?La.slice(Aa):"";--Aa>ka;)if("0"!==La[Aa]){++Aa;break}return La.slice(0,Aa)+Ra}}function zb(Ca){const bb=ub(Ca.format),La=Ca.formatPrefix;return{format:bb,formatPrefix:La,formatFloat(ka){ka=ea.formatSpecifier(ka||",");if(null==ka.precision){ka.precision=12;switch(ka.type){case "%":ka.precision-=2;break;
case "e":--ka.precision}return Ob(bb(ka),bb(".1f")(1)[1])}return bb(ka)},formatSpan(ka,Aa,Ra,Ya){Ya=ea.formatSpecifier(null==Ya?",f":Ya);Ra=x.tickStep(ka,Aa,Ra);ka=Math.max(Math.abs(ka),Math.abs(Aa));if(null==Ya.precision)switch(Ya.type){case "s":return isNaN(Aa=ea.precisionPrefix(Ra,ka))||(Ya.precision=Aa),La(Ya,ka);case "":case "e":case "g":case "p":case "r":isNaN(Aa=ea.precisionRound(Ra,ka))||(Ya.precision=Aa-("e"===Ya.type));break;case "f":case "%":isNaN(Aa=ea.precisionFixed(Ra))||(Ya.precision=
Aa-2*("%"===Ya.type))}return bb(Ya)}}}function cb(){return Fa=zb({format:ea.format,formatPrefix:ea.formatPrefix})}function ob(Ca){return zb(ea.formatLocale(Ca))}function rb(Ca){return arguments.length?Fa=ob(Ca):Fa}function Xa(Ca,bb,La){La=La||{};Wb.isObject(La)||Wb.error(`Invalid time multi-format specifier: ${La}`);const ka=bb(Sa.SECONDS),Aa=bb(Sa.MINUTES),Ra=bb(Sa.HOURS),Ya=bb(Sa.DATE),ib=bb(Sa.WEEK),db=bb(Sa.MONTH),nb=bb(Sa.QUARTER),$a=bb(Sa.YEAR),S=Ca(La[Sa.MILLISECONDS]||".%L"),z=Ca(La[Sa.SECONDS]||
":%S"),I=Ca(La[Sa.MINUTES]||"%I:%M"),Q=Ca(La[Sa.HOURS]||"%I %p"),J=Ca(La[Sa.DATE]||La[Sa.DAY]||"%a %d"),W=Ca(La[Sa.WEEK]||"%b %d"),Y=Ca(La[Sa.MONTH]||"%B"),ma=Ca(La[Sa.QUARTER]||"%B"),Qa=Ca(La[Sa.YEAR]||"%Y");return Ua=>(ka(Ua)<Ua?S:Aa(Ua)<Ua?z:Ra(Ua)<Ua?I:Ya(Ua)<Ua?Q:db(Ua)<Ua?ib(Ua)<Ua?J:W:$a(Ua)<Ua?nb(Ua)<Ua?Y:ma:Qa)(Ua)}function Ha(Ca){const bb=ub(Ca.format),La=ub(Ca.utcFormat);return{timeFormat:ka=>Wb.isString(ka)?bb(ka):Xa(bb,Sa.timeInterval,ka),utcFormat:ka=>Wb.isString(ka)?La(ka):Xa(La,Sa.utcInterval,
ka),timeParse:ub(Ca.parse),utcParse:ub(Ca.utcParse)}}function Ia(){return hb=Ha({format:fb.timeFormat,parse:fb.timeParse,utcFormat:fb.utcFormat,utcParse:fb.utcParse})}function Za(Ca){return Ha(fb.timeFormatLocale(Ca))}function mb(Ca){return arguments.length?hb=Za(Ca):hb}function Da(Ca,bb){var La=arguments.length;La&&2!==La&&Wb.error("defaultLocale expects either zero or two arguments.");if(La){La=rb(Ca);var ka=mb(bb);La=Wb.extend({},La,ka)}else La=rb(),ka=mb(),La=Wb.extend({},La,ka);return La}let Fa;
cb();let hb;Ia();n.defaultLocale=Da;n.locale=function(Ca,bb){Ca=Ca?ob(Ca):rb();bb=bb?Za(bb):mb();return Wb.extend({},Ca,bb)};n.numberFormatDefaultLocale=rb;n.numberFormatLocale=ob;n.resetDefaultLocale=function(){cb();Ia();return Da()};n.resetNumberFormatDefaultLocale=cb;n.resetTimeFormatDefaultLocale=Ia;n.timeFormatDefaultLocale=mb;n.timeFormatLocale=Za;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[24]=function($b,Rb,Ic,Nb){function n(fb){var ub=fb.length;if(0<ub%4)throw Error("Invalid string. Length must be a multiple of 4");fb=fb.indexOf("\x3d");-1===fb&&(fb=ub);return[fb,fb===ub?0:4-fb%4]}function x(fb,ub,Ob){for(var zb=[],cb=ub;cb<Ob;cb+=3)ub=(fb[cb]<<16&16711680)+(fb[cb+1]<<8&65280)+(fb[cb+2]&255),zb.push(ea[ub>>18&63]+ea[ub>>12&63]+ea[ub>>6&63]+ea[ub&63]);return zb.join("")}Nb.byteLength=function(fb){fb=n(fb);var ub=fb[1];return 3*(fb[0]+ub)/4-ub};Nb.toByteArray=function(fb){var ub=
n(fb);var Ob=ub[0];ub=ub[1];var zb=new Wb(3*(Ob+ub)/4-ub),cb=0,ob=0<ub?Ob-4:Ob,rb;for(rb=0;rb<ob;rb+=4)Ob=Sa[fb.charCodeAt(rb)]<<18|Sa[fb.charCodeAt(rb+1)]<<12|Sa[fb.charCodeAt(rb+2)]<<6|Sa[fb.charCodeAt(rb+3)],zb[cb++]=Ob>>16&255,zb[cb++]=Ob>>8&255,zb[cb++]=Ob&255;2===ub&&(Ob=Sa[fb.charCodeAt(rb)]<<2|Sa[fb.charCodeAt(rb+1)]>>4,zb[cb++]=Ob&255);1===ub&&(Ob=Sa[fb.charCodeAt(rb)]<<10|Sa[fb.charCodeAt(rb+1)]<<4|Sa[fb.charCodeAt(rb+2)]>>2,zb[cb++]=Ob>>8&255,zb[cb++]=Ob&255);return zb};Nb.fromByteArray=
function(fb){for(var ub=fb.length,Ob=ub%3,zb=[],cb=0,ob=ub-Ob;cb<ob;cb+=16383)zb.push(x(fb,cb,cb+16383>ob?ob:cb+16383));1===Ob?(fb=fb[ub-1],zb.push(ea[fb>>2]+ea[fb<<4&63]+"\x3d\x3d")):2===Ob&&(fb=(fb[ub-2]<<8)+fb[ub-1],zb.push(ea[fb>>10]+ea[fb>>4&63]+ea[fb<<2&63]+"\x3d"));return zb.join("")};var ea=[],Sa=[],Wb="undefined"!==typeof Uint8Array?Uint8Array:Array;for($b=0;64>$b;++$b)ea[$b]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[$b],Sa["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt($b)]=
$b;Sa[45]=62;Sa[95]=63};
shadow$provide[25]=function($b,Rb,Ic,Nb){Nb.read=function(n,x,ea,Sa,Wb){var fb=8*Wb-Sa-1;var ub=(1<<fb)-1,Ob=ub>>1,zb=-7;Wb=ea?Wb-1:0;var cb=ea?-1:1,ob=n[x+Wb];Wb+=cb;ea=ob&(1<<-zb)-1;ob>>=-zb;for(zb+=fb;0<zb;ea=256*ea+n[x+Wb],Wb+=cb,zb-=8);fb=ea&(1<<-zb)-1;ea>>=-zb;for(zb+=Sa;0<zb;fb=256*fb+n[x+Wb],Wb+=cb,zb-=8);if(0===ea)ea=1-Ob;else{if(ea===ub)return fb?NaN:Infinity*(ob?-1:1);fb+=Math.pow(2,Sa);ea-=Ob}return(ob?-1:1)*fb*Math.pow(2,ea-Sa)};Nb.write=function(n,x,ea,Sa,Wb,fb){var ub,Ob=8*fb-Wb-1,
zb=(1<<Ob)-1,cb=zb>>1,ob=23===Wb?Math.pow(2,-24)-Math.pow(2,-77):0;fb=Sa?0:fb-1;var rb=Sa?1:-1,Xa=0>x||0===x&&0>1/x?1:0;x=Math.abs(x);isNaN(x)||Infinity===x?(x=isNaN(x)?1:0,Sa=zb):(Sa=Math.floor(Math.log(x)/Math.LN2),1>x*(ub=Math.pow(2,-Sa))&&(Sa--,ub*=2),x=1<=Sa+cb?x+ob/ub:x+ob*Math.pow(2,1-cb),2<=x*ub&&(Sa++,ub/=2),Sa+cb>=zb?(x=0,Sa=zb):1<=Sa+cb?(x=(x*ub-1)*Math.pow(2,Wb),Sa+=cb):(x=x*Math.pow(2,cb-1)*Math.pow(2,Wb),Sa=0));for(;8<=Wb;n[ea+fb]=x&255,fb+=rb,x/=256,Wb-=8);Sa=Sa<<Wb|x;for(Ob+=Wb;0<
Ob;n[ea+fb]=Sa&255,fb+=rb,Sa/=256,Ob-=8);n[ea+fb-rb]|=128*Xa}};
shadow$provide[26]=function($b,Rb,Ic,Nb){var n={}.toString;Ic.exports=Array.isArray||function(x){return"[object Array]"==n.call(x)}};
shadow$provide[27]=function($b,Rb,Ic,Nb){function n(){try{var S=new Uint8Array(1);S.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===S.foo()&&"function"===typeof S.subarray&&0===S.subarray(1,1).byteLength}catch(z){return!1}}function x(S,z){if((ea.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<z)throw new RangeError("Invalid typed array length");ea.TYPED_ARRAY_SUPPORT?(S=new Uint8Array(z),S.__proto__=ea.prototype):(null===S&&(S=new ea(z)),S.length=z);return S}function ea(S,
z,I){if(!(ea.TYPED_ARRAY_SUPPORT||this instanceof ea))return new ea(S,z,I);if("number"===typeof S){if("string"===typeof z)throw Error("If encoding is specified then the first argument must be a string");return fb(this,S)}return Sa(this,S,z,I)}function Sa(S,z,I,Q){if("number"===typeof z)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&z instanceof ArrayBuffer){z.byteLength;if(0>I||z.byteLength<I)throw new RangeError("'offset' is out of bounds");if(z.byteLength<
I+(Q||0))throw new RangeError("'length' is out of bounds");z=void 0===I&&void 0===Q?new Uint8Array(z):void 0===Q?new Uint8Array(z,I):new Uint8Array(z,I,Q);ea.TYPED_ARRAY_SUPPORT?(S=z,S.__proto__=ea.prototype):S=ub(S,z);return S}if("string"===typeof z){Q=S;S=I;if("string"!==typeof S||""===S)S="utf8";if(!ea.isEncoding(S))throw new TypeError('"encoding" must be a valid string encoding');I=cb(z,S)|0;Q=x(Q,I);z=Q.write(z,S);z!==I&&(Q=Q.slice(0,z));return Q}return Ob(S,z)}function Wb(S){if("number"!==typeof S)throw new TypeError('"size" argument must be a number');
if(0>S)throw new RangeError('"size" argument must not be negative');}function fb(S,z){Wb(z);S=x(S,0>z?0:zb(z)|0);if(!ea.TYPED_ARRAY_SUPPORT)for(var I=0;I<z;++I)S[I]=0;return S}function ub(S,z){var I=0>z.length?0:zb(z.length)|0;S=x(S,I);for(var Q=0;Q<I;Q+=1)S[Q]=z[Q]&255;return S}function Ob(S,z){if(ea.isBuffer(z)){var I=zb(z.length)|0;S=x(S,I);if(0===S.length)return S;z.copy(S,0,0,I);return S}if(z){if("undefined"!==typeof ArrayBuffer&&z.buffer instanceof ArrayBuffer||"length"in z)return(I="number"!==
typeof z.length)||(I=z.length,I=I!==I),I?x(S,0):ub(S,z);if("Buffer"===z.type&&db(z.data))return ub(S,z.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function zb(S){if(S>=(ea.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(ea.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return S|0}function cb(S,z){if(ea.isBuffer(S))return S.length;if("undefined"!==
typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(S)||S instanceof ArrayBuffer))return S.byteLength;"string"!==typeof S&&(S=""+S);var I=S.length;if(0===I)return 0;for(var Q=!1;;)switch(z){case "ascii":case "latin1":case "binary":return I;case "utf8":case "utf-8":case void 0:return ka(S).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*I;case "hex":return I>>>1;case "base64":return Ya.toByteArray(La(S)).length;default:if(Q)return ka(S).length;z=
(""+z).toLowerCase();Q=!0}}function ob(S,z,I){var Q=!1;if(void 0===z||0>z)z=0;if(z>this.length)return"";if(void 0===I||I>this.length)I=this.length;if(0>=I)return"";I>>>=0;z>>>=0;if(I<=z)return"";for(S||(S="utf8");;)switch(S){case "hex":S=z;z=I;I=this.length;if(!S||0>S)S=0;if(!z||0>z||z>I)z=I;Q="";for(I=S;I<z;++I)S=Q,Q=this[I],Q=16>Q?"0"+Q.toString(16):Q.toString(16),Q=S+Q;return Q;case "utf8":case "utf-8":return Ia(this,z,I);case "ascii":S="";for(I=Math.min(this.length,I);z<I;++z)S+=String.fromCharCode(this[z]&
127);return S;case "latin1":case "binary":S="";for(I=Math.min(this.length,I);z<I;++z)S+=String.fromCharCode(this[z]);return S;case "base64":return z=0===z&&I===this.length?Ya.fromByteArray(this):Ya.fromByteArray(this.slice(z,I)),z;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":z=this.slice(z,I);I="";for(S=0;S<z.length;S+=2)I+=String.fromCharCode(z[S]+256*z[S+1]);return I;default:if(Q)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase();Q=!0}}function rb(S,z,I){var Q=S[z];S[z]=
S[I];S[I]=Q}function Xa(S,z,I,Q,J){if(0===S.length)return-1;"string"===typeof I?(Q=I,I=0):2147483647<I?I=2147483647:-2147483648>I&&(I=-2147483648);I=+I;isNaN(I)&&(I=J?0:S.length-1);0>I&&(I=S.length+I);if(I>=S.length){if(J)return-1;I=S.length-1}else if(0>I)if(J)I=0;else return-1;"string"===typeof z&&(z=ea.from(z,Q));if(ea.isBuffer(z))return 0===z.length?-1:Ha(S,z,I,Q,J);if("number"===typeof z)return z&=255,ea.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?J?Uint8Array.prototype.indexOf.call(S,
z,I):Uint8Array.prototype.lastIndexOf.call(S,z,I):Ha(S,[z],I,Q,J);throw new TypeError("val must be string, number or Buffer");}function Ha(S,z,I,Q,J){function W(Ua,U){return 1===Y?Ua[U]:Ua.readUInt16BE(U*Y)}var Y=1,ma=S.length,Qa=z.length;if(void 0!==Q&&(Q=String(Q).toLowerCase(),"ucs2"===Q||"ucs-2"===Q||"utf16le"===Q||"utf-16le"===Q)){if(2>S.length||2>z.length)return-1;Y=2;ma/=2;Qa/=2;I/=2}if(J)for(Q=-1;I<ma;I++)if(W(S,I)===W(z,-1===Q?0:I-Q)){if(-1===Q&&(Q=I),I-Q+1===Qa)return Q*Y}else-1!==Q&&(I-=
I-Q),Q=-1;else for(I+Qa>ma&&(I=ma-Qa);0<=I;I--){ma=!0;for(Q=0;Q<Qa;Q++)if(W(S,I+Q)!==W(z,Q)){ma=!1;break}if(ma)return I}return-1}function Ia(S,z,I){I=Math.min(S.length,I);for(var Q=[];z<I;){var J=S[z],W=null,Y=239<J?4:223<J?3:191<J?2:1;if(z+Y<=I)switch(Y){case 1:128>J&&(W=J);break;case 2:var ma=S[z+1];128===(ma&192)&&(J=(J&31)<<6|ma&63,127<J&&(W=J));break;case 3:ma=S[z+1];var Qa=S[z+2];128===(ma&192)&&128===(Qa&192)&&(J=(J&15)<<12|(ma&63)<<6|Qa&63,2047<J&&(55296>J||57343<J)&&(W=J));break;case 4:ma=
S[z+1];Qa=S[z+2];var Ua=S[z+3];128===(ma&192)&&128===(Qa&192)&&128===(Ua&192)&&(J=(J&15)<<18|(ma&63)<<12|(Qa&63)<<6|Ua&63,65535<J&&1114112>J&&(W=J))}null===W?(W=65533,Y=1):65535<W&&(W-=65536,Q.push(W>>>10&1023|55296),W=56320|W&1023);Q.push(W);z+=Y}S=Q.length;if(S<=nb)Q=String.fromCharCode.apply(String,Q);else{I="";for(z=0;z<S;)I+=String.fromCharCode.apply(String,Q.slice(z,z+=nb));Q=I}return Q}function Za(S,z,I){if(0!==S%1||0>S)throw new RangeError("offset is not uint");if(S+z>I)throw new RangeError("Trying to access beyond buffer length");
}function mb(S,z,I,Q,J,W){if(!ea.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>J||z<W)throw new RangeError('"value" argument is out of bounds');if(I+Q>S.length)throw new RangeError("Index out of range");}function Da(S,z,I,Q){0>z&&(z=65535+z+1);for(var J=0,W=Math.min(S.length-I,2);J<W;++J)S[I+J]=(z&255<<8*(Q?J:1-J))>>>8*(Q?J:1-J)}function Fa(S,z,I,Q){0>z&&(z=4294967295+z+1);for(var J=0,W=Math.min(S.length-I,4);J<W;++J)S[I+J]=z>>>8*(Q?J:3-J)&255}function hb(S,z,
I,Q,J,W){if(I+Q>S.length)throw new RangeError("Index out of range");if(0>I)throw new RangeError("Index out of range");}function Ca(S,z,I,Q,J){J||hb(S,z,I,4,3.4028234663852886E38,-3.4028234663852886E38);ib.write(S,z,I,Q,23,4);return I+4}function bb(S,z,I,Q,J){J||hb(S,z,I,8,1.7976931348623157E308,-1.7976931348623157E308);ib.write(S,z,I,Q,52,8);return I+8}function La(S){S=S.trim?S.trim():S.replace(/^\s+|\s+$/g,"");S=S.replace($a,"");if(2>S.length)return"";for(;0!==S.length%4;)S+="\x3d";return S}function ka(S,
z){z=z||Infinity;for(var I,Q=S.length,J=null,W=[],Y=0;Y<Q;++Y){I=S.charCodeAt(Y);if(55295<I&&57344>I){if(!J){if(56319<I){-1<(z-=3)&&W.push(239,191,189);continue}else if(Y+1===Q){-1<(z-=3)&&W.push(239,191,189);continue}J=I;continue}if(56320>I){-1<(z-=3)&&W.push(239,191,189);J=I;continue}I=(J-55296<<10|I-56320)+65536}else J&&-1<(z-=3)&&W.push(239,191,189);J=null;if(128>I){if(0>--z)break;W.push(I)}else if(2048>I){if(0>(z-=2))break;W.push(I>>6|192,I&63|128)}else if(65536>I){if(0>(z-=3))break;W.push(I>>
12|224,I>>6&63|128,I&63|128)}else if(1114112>I){if(0>(z-=4))break;W.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw Error("Invalid code point");}return W}function Aa(S){for(var z=[],I=0;I<S.length;++I)z.push(S.charCodeAt(I)&255);return z}function Ra(S,z,I,Q){for(var J=0;J<Q&&!(J+I>=z.length||J>=S.length);++J)z[J+I]=S[J];return J}var Ya=Rb(24),ib=Rb(25),db=Rb(26);Nb.Buffer=ea;Nb.SlowBuffer=function(S){+S!=S&&(S=0);return ea.alloc(+S)};Nb.INSPECT_MAX_BYTES=50;ea.TYPED_ARRAY_SUPPORT=void 0!==
$b.TYPED_ARRAY_SUPPORT?$b.TYPED_ARRAY_SUPPORT:n();Nb.kMaxLength=ea.TYPED_ARRAY_SUPPORT?2147483647:1073741823;ea.poolSize=8192;ea._augment=function(S){S.__proto__=ea.prototype;return S};ea.from=function(S,z,I){return Sa(null,S,z,I)};ea.TYPED_ARRAY_SUPPORT&&(ea.prototype.__proto__=Uint8Array.prototype,ea.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&ea[Symbol.species]===ea&&Object.defineProperty(ea,Symbol.species,{value:null,configurable:!0}));ea.alloc=function(S,z,I){Wb(S);S=0>=
S?x(null,S):void 0!==z?"string"===typeof I?x(null,S).fill(z,I):x(null,S).fill(z):x(null,S);return S};ea.allocUnsafe=function(S){return fb(null,S)};ea.allocUnsafeSlow=function(S){return fb(null,S)};ea.isBuffer=function(S){return!(null==S||!S._isBuffer)};ea.compare=function(S,z){if(!ea.isBuffer(S)||!ea.isBuffer(z))throw new TypeError("Arguments must be Buffers");if(S===z)return 0;for(var I=S.length,Q=z.length,J=0,W=Math.min(I,Q);J<W;++J)if(S[J]!==z[J]){I=S[J];Q=z[J];break}return I<Q?-1:Q<I?1:0};ea.isEncoding=
function(S){switch(String(S).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};ea.concat=function(S,z){if(!db(S))throw new TypeError('"list" argument must be an Array of Buffers');if(0===S.length)return ea.alloc(0);var I;if(void 0===z)for(I=z=0;I<S.length;++I)z+=S[I].length;z=ea.allocUnsafe(z);var Q=0;for(I=0;I<S.length;++I){var J=S[I];if(!ea.isBuffer(J))throw new TypeError('"list" argument must be an Array of Buffers');
J.copy(z,Q);Q+=J.length}return z};ea.byteLength=cb;ea.prototype._isBuffer=!0;ea.prototype.swap16=function(){var S=this.length;if(0!==S%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var z=0;z<S;z+=2)rb(this,z,z+1);return this};ea.prototype.swap32=function(){var S=this.length;if(0!==S%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var z=0;z<S;z+=4)rb(this,z,z+3),rb(this,z+1,z+2);return this};ea.prototype.swap64=function(){var S=this.length;if(0!==S%
8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var z=0;z<S;z+=8)rb(this,z,z+7),rb(this,z+1,z+6),rb(this,z+2,z+5),rb(this,z+3,z+4);return this};ea.prototype.toString=function(){var S=this.length|0;return 0===S?"":0===arguments.length?Ia(this,0,S):ob.apply(this,arguments)};ea.prototype.equals=function(S){if(!ea.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:0===ea.compare(this,S)};ea.prototype.inspect=function(){var S="",z=Nb.INSPECT_MAX_BYTES;
0<this.length&&(S=this.toString("hex",0,z).match(/.{2}/g).join(" "),this.length>z&&(S+=" ... "));return"\x3cBuffer "+S+"\x3e"};ea.prototype.compare=function(S,z,I,Q,J){if(!ea.isBuffer(S))throw new TypeError("Argument must be a Buffer");void 0===z&&(z=0);void 0===I&&(I=S?S.length:0);void 0===Q&&(Q=0);void 0===J&&(J=this.length);if(0>z||I>S.length||0>Q||J>this.length)throw new RangeError("out of range index");if(Q>=J&&z>=I)return 0;if(Q>=J)return-1;if(z>=I)return 1;z>>>=0;I>>>=0;Q>>>=0;J>>>=0;if(this===
S)return 0;var W=J-Q,Y=I-z,ma=Math.min(W,Y);Q=this.slice(Q,J);S=S.slice(z,I);for(z=0;z<ma;++z)if(Q[z]!==S[z]){W=Q[z];Y=S[z];break}return W<Y?-1:Y<W?1:0};ea.prototype.includes=function(S,z,I){return-1!==this.indexOf(S,z,I)};ea.prototype.indexOf=function(S,z,I){return Xa(this,S,z,I,!0)};ea.prototype.lastIndexOf=function(S,z,I){return Xa(this,S,z,I,!1)};ea.prototype.write=function(S,z,I,Q){if(void 0===z)Q="utf8",I=this.length,z=0;else if(void 0===I&&"string"===typeof z)Q=z,I=this.length,z=0;else if(isFinite(z))z|=
0,isFinite(I)?(I|=0,void 0===Q&&(Q="utf8")):(Q=I,I=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-z;if(void 0===I||I>J)I=J;if(0<S.length&&(0>I||0>z)||z>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(J=!1;;)switch(Q){case "hex":a:{z=Number(z)||0;Q=this.length-z;I?(I=Number(I),I>Q&&(I=Q)):I=Q;Q=S.length;if(0!==Q%2)throw new TypeError("Invalid hex string");I>Q/2&&(I=Q/2);for(Q=0;Q<I;++Q){J=
parseInt(S.substr(2*Q,2),16);if(isNaN(J)){S=Q;break a}this[z+Q]=J}S=Q}return S;case "utf8":case "utf-8":return Ra(ka(S,this.length-z),this,z,I);case "ascii":return Ra(Aa(S),this,z,I);case "latin1":case "binary":return Ra(Aa(S),this,z,I);case "base64":return Ra(Ya.toByteArray(La(S)),this,z,I);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Q=S;J=this.length-z;for(var W=[],Y=0;Y<Q.length&&!(0>(J-=2));++Y){var ma=Q.charCodeAt(Y);S=ma>>8;ma%=256;W.push(ma);W.push(S)}return Ra(W,this,z,I);default:if(J)throw new TypeError("Unknown encoding: "+
Q);Q=(""+Q).toLowerCase();J=!0}};ea.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var nb=4096;ea.prototype.slice=function(S,z){var I=this.length;S=~~S;z=void 0===z?I:~~z;0>S?(S+=I,0>S&&(S=0)):S>I&&(S=I);0>z?(z+=I,0>z&&(z=0)):z>I&&(z=I);z<S&&(z=S);if(ea.TYPED_ARRAY_SUPPORT)z=this.subarray(S,z),z.__proto__=ea.prototype;else{I=z-S;z=new ea(I,void 0);for(var Q=0;Q<I;++Q)z[Q]=this[Q+S]}return z};ea.prototype.readUIntLE=function(S,z,I){S|=0;z|=0;I||
Za(S,z,this.length);I=this[S];for(var Q=1,J=0;++J<z&&(Q*=256);)I+=this[S+J]*Q;return I};ea.prototype.readUIntBE=function(S,z,I){S|=0;z|=0;I||Za(S,z,this.length);I=this[S+--z];for(var Q=1;0<z&&(Q*=256);)I+=this[S+--z]*Q;return I};ea.prototype.readUInt8=function(S,z){z||Za(S,1,this.length);return this[S]};ea.prototype.readUInt16LE=function(S,z){z||Za(S,2,this.length);return this[S]|this[S+1]<<8};ea.prototype.readUInt16BE=function(S,z){z||Za(S,2,this.length);return this[S]<<8|this[S+1]};ea.prototype.readUInt32LE=
function(S,z){z||Za(S,4,this.length);return(this[S]|this[S+1]<<8|this[S+2]<<16)+16777216*this[S+3]};ea.prototype.readUInt32BE=function(S,z){z||Za(S,4,this.length);return 16777216*this[S]+(this[S+1]<<16|this[S+2]<<8|this[S+3])};ea.prototype.readIntLE=function(S,z,I){S|=0;z|=0;I||Za(S,z,this.length);I=this[S];for(var Q=1,J=0;++J<z&&(Q*=256);)I+=this[S+J]*Q;I>=128*Q&&(I-=Math.pow(2,8*z));return I};ea.prototype.readIntBE=function(S,z,I){S|=0;z|=0;I||Za(S,z,this.length);I=z;for(var Q=1,J=this[S+--I];0<
I&&(Q*=256);)J+=this[S+--I]*Q;J>=128*Q&&(J-=Math.pow(2,8*z));return J};ea.prototype.readInt8=function(S,z){z||Za(S,1,this.length);return this[S]&128?-1*(255-this[S]+1):this[S]};ea.prototype.readInt16LE=function(S,z){z||Za(S,2,this.length);S=this[S]|this[S+1]<<8;return S&32768?S|4294901760:S};ea.prototype.readInt16BE=function(S,z){z||Za(S,2,this.length);S=this[S+1]|this[S]<<8;return S&32768?S|4294901760:S};ea.prototype.readInt32LE=function(S,z){z||Za(S,4,this.length);return this[S]|this[S+1]<<8|this[S+
2]<<16|this[S+3]<<24};ea.prototype.readInt32BE=function(S,z){z||Za(S,4,this.length);return this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]};ea.prototype.readFloatLE=function(S,z){z||Za(S,4,this.length);return ib.read(this,S,!0,23,4)};ea.prototype.readFloatBE=function(S,z){z||Za(S,4,this.length);return ib.read(this,S,!1,23,4)};ea.prototype.readDoubleLE=function(S,z){z||Za(S,8,this.length);return ib.read(this,S,!0,52,8)};ea.prototype.readDoubleBE=function(S,z){z||Za(S,8,this.length);return ib.read(this,
S,!1,52,8)};ea.prototype.writeUIntLE=function(S,z,I,Q){S=+S;z|=0;I|=0;Q||mb(this,S,z,I,Math.pow(2,8*I)-1,0);Q=1;var J=0;for(this[z]=S&255;++J<I&&(Q*=256);)this[z+J]=S/Q&255;return z+I};ea.prototype.writeUIntBE=function(S,z,I,Q){S=+S;z|=0;I|=0;Q||mb(this,S,z,I,Math.pow(2,8*I)-1,0);Q=I-1;var J=1;for(this[z+Q]=S&255;0<=--Q&&(J*=256);)this[z+Q]=S/J&255;return z+I};ea.prototype.writeUInt8=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,1,255,0);ea.TYPED_ARRAY_SUPPORT||(S=Math.floor(S));this[z]=S&255;return z+
1};ea.prototype.writeUInt16LE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,2,65535,0);ea.TYPED_ARRAY_SUPPORT?(this[z]=S&255,this[z+1]=S>>>8):Da(this,S,z,!0);return z+2};ea.prototype.writeUInt16BE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,2,65535,0);ea.TYPED_ARRAY_SUPPORT?(this[z]=S>>>8,this[z+1]=S&255):Da(this,S,z,!1);return z+2};ea.prototype.writeUInt32LE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,4,4294967295,0);ea.TYPED_ARRAY_SUPPORT?(this[z+3]=S>>>24,this[z+2]=S>>>16,this[z+1]=S>>>8,this[z]=S&255):Fa(this,
S,z,!0);return z+4};ea.prototype.writeUInt32BE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,4,4294967295,0);ea.TYPED_ARRAY_SUPPORT?(this[z]=S>>>24,this[z+1]=S>>>16,this[z+2]=S>>>8,this[z+3]=S&255):Fa(this,S,z,!1);return z+4};ea.prototype.writeIntLE=function(S,z,I,Q){S=+S;z|=0;Q||(Q=Math.pow(2,8*I-1),mb(this,S,z,I,Q-1,-Q));Q=0;var J=1,W=0;for(this[z]=S&255;++Q<I&&(J*=256);)0>S&&0===W&&0!==this[z+Q-1]&&(W=1),this[z+Q]=(S/J>>0)-W&255;return z+I};ea.prototype.writeIntBE=function(S,z,I,Q){S=+S;z|=0;Q||(Q=
Math.pow(2,8*I-1),mb(this,S,z,I,Q-1,-Q));Q=I-1;var J=1,W=0;for(this[z+Q]=S&255;0<=--Q&&(J*=256);)0>S&&0===W&&0!==this[z+Q+1]&&(W=1),this[z+Q]=(S/J>>0)-W&255;return z+I};ea.prototype.writeInt8=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,1,127,-128);ea.TYPED_ARRAY_SUPPORT||(S=Math.floor(S));0>S&&(S=255+S+1);this[z]=S&255;return z+1};ea.prototype.writeInt16LE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,2,32767,-32768);ea.TYPED_ARRAY_SUPPORT?(this[z]=S&255,this[z+1]=S>>>8):Da(this,S,z,!0);return z+2};ea.prototype.writeInt16BE=
function(S,z,I){S=+S;z|=0;I||mb(this,S,z,2,32767,-32768);ea.TYPED_ARRAY_SUPPORT?(this[z]=S>>>8,this[z+1]=S&255):Da(this,S,z,!1);return z+2};ea.prototype.writeInt32LE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,4,2147483647,-2147483648);ea.TYPED_ARRAY_SUPPORT?(this[z]=S&255,this[z+1]=S>>>8,this[z+2]=S>>>16,this[z+3]=S>>>24):Fa(this,S,z,!0);return z+4};ea.prototype.writeInt32BE=function(S,z,I){S=+S;z|=0;I||mb(this,S,z,4,2147483647,-2147483648);0>S&&(S=4294967295+S+1);ea.TYPED_ARRAY_SUPPORT?(this[z]=S>>>
24,this[z+1]=S>>>16,this[z+2]=S>>>8,this[z+3]=S&255):Fa(this,S,z,!1);return z+4};ea.prototype.writeFloatLE=function(S,z,I){return Ca(this,S,z,!0,I)};ea.prototype.writeFloatBE=function(S,z,I){return Ca(this,S,z,!1,I)};ea.prototype.writeDoubleLE=function(S,z,I){return bb(this,S,z,!0,I)};ea.prototype.writeDoubleBE=function(S,z,I){return bb(this,S,z,!1,I)};ea.prototype.copy=function(S,z,I,Q){I||(I=0);Q||0===Q||(Q=this.length);z>=S.length&&(z=S.length);z||(z=0);0<Q&&Q<I&&(Q=I);if(Q===I||0===S.length||
0===this.length)return 0;if(0>z)throw new RangeError("targetStart out of bounds");if(0>I||I>=this.length)throw new RangeError("sourceStart out of bounds");if(0>Q)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length);S.length-z<Q-I&&(Q=S.length-z+I);var J=Q-I;if(this===S&&I<z&&z<Q)for(Q=J-1;0<=Q;--Q)S[Q+z]=this[Q+I];else if(1E3>J||!ea.TYPED_ARRAY_SUPPORT)for(Q=0;Q<J;++Q)S[Q+z]=this[Q+I];else Uint8Array.prototype.set.call(S,this.subarray(I,I+J),z);return J};ea.prototype.fill=
function(S,z,I,Q){if("string"===typeof S){"string"===typeof z?(Q=z,z=0,I=this.length):"string"===typeof I&&(Q=I,I=this.length);if(1===S.length){var J=S.charCodeAt(0);256>J&&(S=J)}if(void 0!==Q&&"string"!==typeof Q)throw new TypeError("encoding must be a string");if("string"===typeof Q&&!ea.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);}else"number"===typeof S&&(S&=255);if(0>z||this.length<z||this.length<I)throw new RangeError("Out of range index");if(I<=z)return this;z>>>=0;I=void 0===
I?this.length:I>>>0;S||(S=0);if("number"===typeof S)for(Q=z;Q<I;++Q)this[Q]=S;else for(S=ea.isBuffer(S)?S:ka((new ea(S,Q)).toString()),J=S.length,Q=0;Q<I-z;++Q)this[Q+z]=S[Q%J];return this};var $a=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[28]=function($b,Rb,Ic,Nb){var n=Rb(27).Buffer;!function(x,ea){"object"==typeof Nb&&"undefined"!=typeof Ic?ea(Nb,Rb(17),Rb(23)):"function"==typeof define&&define.amd?define(["exports","vega-util","vega-format"],ea):ea((x="undefined"!=typeof globalThis?globalThis:x||self).vega={},x.vega,x.vega)}(this,function(x,ea,Sa){function Wb(U,sa){const ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const la=yield ua.sanitize(U,sa),T=la.href;return la.localFile?ua.file(T):
ua.http(T,sa)})}function fb(U,sa){const ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){sa=ea.extend({},ua.options,sa);const la=ua.fileAccess,T={href:null};let v,w,p;var r=$a.test(U.replace(S,""));null!=U&&"string"==typeof U&&r||ea.error("Sanitize failure, invalid URI: "+ea.stringValue(U));r=nb.test(U);return(p=sa.baseURL)&&!r&&(U.startsWith("/")||"/"===p[p.length-1]||(U="/"+U),U=p+U),w=(v=U.startsWith("file://"))||"file"===sa.mode||"http"!==sa.mode&&!r&&la,v?U=U.slice(7):
U.startsWith("//")&&("file"===sa.defaultProtocol?(U=U.slice(2),w=!0):U=(sa.defaultProtocol||"http")+":"+U),Object.defineProperty(T,"localFile",{value:!!w}),T.href=U,sa.target&&(T.target=sa.target+""),sa.rel&&(T.rel=sa.rel+""),"image"===sa.context&&sa.crossOrigin&&(T.crossOrigin=sa.crossOrigin+""),T})}function ub(U){return U?sa=>new Promise((ua,la)=>{U.readFile(sa,(T,v)=>{T?la(T):ua(v)})}):Ob}function Ob(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ea.error("No file system access.")})}
function zb(U){return U?function(sa,ua){const la=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var T=ea.extend({},la.options.http,ua);const v=ua&&ua.response;T=yield U(sa,T);return T.ok?ea.isFunction(T[v])?T[v]():T.text():ea.error(T.status+""+T.statusText)})}:cb}function cb(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ea.error("No HTTP fetch method available.")})}function ob(U,sa){if(!U||!U.length)return"unknown";const ua=U.length,la=Q.length,T=Q.map((w,
p)=>p+1);for(let w,p,r=0,D=0;r<ua;++r)for(p=sa?U[r][sa]:U[r],w=0;w<la;++w)if(T[w]&&null!=(v=p)&&v==v&&!Q[w](p)&&(T[w]=0,++D,D===Q.length))return"string";var v;return J[T.reduce((w,p)=>0===w?p:w,0)-1]}function rb(U,sa){return sa.reduce((ua,la)=>(ua[la]=ob(U,la),ua),{})}function Xa(U){return new Function("d","return {"+U.map(function(sa,ua){return JSON.stringify(sa)+": d["+ua+'] || ""'}).join(",")+"}")}function Ha(U){var sa=Object.create(null),ua=[];return U.forEach(function(la){for(var T in la)T in
sa||ua.push(sa[T]=T)}),ua}function Ia(U,sa){U+="";var ua=U.length;return ua<sa?Array(sa-ua+1).join(0)+U:U}function Za(U){function sa(p,r){function D(){if(oa)return Y;if(Va)return Va=!1,W;var ba,ta,eb=ha;if(34===p.charCodeAt(eb)){for(;ha++<C&&34!==p.charCodeAt(ha)||34===p.charCodeAt(++ha););return(ba=ha)>=C?oa=!0:10===(ta=p.charCodeAt(ha++))?Va=!0:13===ta&&(Va=!0,10===p.charCodeAt(ha)&&++ha),p.slice(eb+1,ba-1).replace(/""/g,'"')}for(;ha<C;){if(10===(ta=p.charCodeAt(ba=ha++)))Va=!0;else if(13===ta)Va=
!0,10===p.charCodeAt(ha)&&++ha;else if(ta!==w)continue;return p.slice(eb,ba)}return oa=!0,p.slice(eb,C)}var E,H=[],C=p.length,ha=0,xa=0,oa=0>=C,Va=!1;10===p.charCodeAt(C-1)&&--C;for(13===p.charCodeAt(C-1)&&--C;(E=D())!==Y;){for(var Ja=[];E!==W&&E!==Y;)Ja.push(E),E=D();r&&null==(Ja=r(Ja,xa++))||H.push(Ja)}return H}function ua(p,r){return p.map(function(D){return r.map(function(E){return T(D[E])}).join(U)})}function la(p){return p.map(T).join(U)}function T(p){if(null==p)var r="";else{if(p instanceof
Date){var D=p.getUTCHours();var E=p.getUTCMinutes(),H=p.getUTCSeconds(),C=p.getUTCMilliseconds();D=isNaN(p)?"Invalid Date":(0>(r=p.getUTCFullYear())?"-"+Ia(-r,6):9999<r?"+"+Ia(r,6):Ia(r,4))+"-"+Ia(p.getUTCMonth()+1,2)+"-"+Ia(p.getUTCDate(),2)+(C?"T"+Ia(D,2)+":"+Ia(E,2)+":"+Ia(H,2)+"."+Ia(C,3)+"Z":H?"T"+Ia(D,2)+":"+Ia(E,2)+":"+Ia(H,2)+"Z":E||D?"T"+Ia(D,2)+":"+Ia(E,2)+"Z":"")}else D=v.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p;r=D}return r}var v=new RegExp('["'+U+"\n\r]"),w=U.charCodeAt(0);return{parse:function(p,
r){var D,E;p=sa(p,function(H,C){if(D)return D(H,C-1);E=H;D=r?function(ha,xa){var oa=Xa(ha);return function(Va,Ja){return xa(oa(Va),Ja,ha)}}(H,r):Xa(H)});return p.columns=E||[],p},parseRows:sa,format:function(p,r){return null==r&&(r=Ha(p)),[r.map(T).join(U)].concat(ua(p,r)).join("\n")},formatBody:function(p,r){return null==r&&(r=Ha(p)),ua(p,r).join("\n")},formatRows:function(p){return p.map(la).join("\n")},formatRow:la,formatValue:T}}function mb(U){const sa=function(ua,la){const T={delimiter:U};return Da(ua,
la?ea.extend(la,T):T)};return sa.responseType="text",sa}function Da(U,sa){return sa.header&&(U=sa.header.map(ea.stringValue).join(sa.delimiter)+"\n"+U),Za(sa.delimiter).parse(U+"")}function Fa(U,sa){const ua=sa&&sa.property?ea.field(sa.property):ea.identity;!ea.isObject(U)||(la=U,"function"==typeof n&&ea.isFunction(n.isBuffer)&&n.isBuffer(la))?sa=ua(JSON.parse(U)):(U=ua(U),!ea.isArray(U)&&ea.isIterable(U)&&(U=[...U]),sa=sa&&sa.copy?JSON.parse(JSON.stringify(U)):U);return sa;var la}function hb(U){return U}
function Ca(U,sa){return"string"==typeof sa&&(sa=U.objects[sa]),"GeometryCollection"===sa.type?{type:"FeatureCollection",features:sa.geometries.map(function(ua){return bb(U,ua)})}:bb(U,sa)}function bb(U,sa){var ua=sa.id,la=sa.bbox,T=null==sa.properties?{}:sa.properties;U=La(U,sa);return null==ua&&null==la?{type:"Feature",properties:T,geometry:U}:null==la?{type:"Feature",id:ua,properties:T,geometry:U}:{type:"Feature",id:ua,bbox:la,properties:T,geometry:U}}function La(U,sa){function ua(r){return w(r)}
function la(r){for(var D=[],E=0,H=r.length;E<H;++E){var C,ha=r[E],xa=D;xa.length&&xa.pop();var oa=p[0>ha?~ha:ha],Va=0;for(C=oa.length;Va<C;++Va)xa.push(w(oa[Va],Va));if(0>ha)for(ha=xa.length,oa=ha-C;oa<--ha;)C=xa[oa],xa[oa++]=xa[ha],xa[ha]=C}return 2>D.length&&D.push(D[0]),D}function T(r){for(r=la(r);4>r.length;)r.push(r[0]);return r}function v(r){return r.map(T)}var w=function(r){if(null==r)return hb;var D,E,H=r.scale[0],C=r.scale[1],ha=r.translate[0],xa=r.translate[1];return function(oa,Va){Va||
(D=E=0);Va=2;var Ja=oa.length,ba=Array(Ja);ba[0]=(D+=oa[0])*H+ha;for(ba[1]=(E+=oa[1])*C+xa;Va<Ja;)ba[Va]=oa[Va],++Va;return ba}}(U.transform),p=U.arcs;return function E(D){var H=D.type;switch(H){case "GeometryCollection":return{type:H,geometries:D.geometries.map(E)};case "Point":D=w(D.coordinates);break;case "MultiPoint":D=D.coordinates.map(ua);break;case "LineString":D=la(D.arcs);break;case "MultiLineString":D=D.arcs.map(la);break;case "Polygon":D=v(D.arcs);break;case "MultiPolygon":D=D.arcs.map(v);
break;default:return null}return{type:H,coordinates:D}}(sa)}function ka(U,sa){function ua(r,D){for(var E in r){var H=r[E];delete D[H.start];delete H.start;delete H.end;H.forEach(function(C){la[0>C?~C:C]=1});w.push(H)}}var la={},T={},v={},w=[],p=-1;return sa.forEach(function(r,D){var E,H=U.arcs[0>r?~r:r];3>H.length&&!H[1][0]&&!H[1][1]&&(E=sa[++p],sa[p]=r,sa[D]=E)}),sa.forEach(function(r){var D=function(C){var ha,xa=U.arcs[0>C?~C:C],oa=xa[0];U.transform?(ha=[0,0],xa.forEach(function(Va){ha[0]+=Va[0];
ha[1]+=Va[1]})):ha=xa[xa.length-1];return 0>C?[ha,oa]:[oa,ha]}(r);var E=D[0],H=D[1];(D=v[E])?(delete v[D.end],D.push(r),D.end=H,r=T[H])?(delete T[r.start],E=r===D?D:D.concat(r),T[E.start=D.start]=v[E.end=r.end]=E):T[D.start]=v[D.end]=D:(D=T[H])?(delete T[D.start],D.unshift(r),D.start=E,r=v[E])?(delete v[r.end],E=r===D?D:r.concat(D),T[E.start=r.start]=v[E.end=D.end]=E):T[D.start]=v[D.end]=D:T[(D=[r]).start=E]=v[D.end=H]=D}),ua(v,T),ua(T,v),sa.forEach(function(r){la[0>r?~r:r]||w.push([r])}),w}function Aa(U){return La(U,
Ra.apply(this,arguments))}function Ra(U,sa,ua){var la;if(1<arguments.length)var T=Ya(U,sa,ua);else{var v=0;for(T=Array(la=U.arcs.length);v<la;++v)T[v]=v}return{type:"MultiLineString",arcs:ka(U,T)}}function Ya(U,sa,ua){function la(D){var E=0>D?~D:D;(r[E]||(r[E]=[])).push({i:D,g:w})}function T(D){D.forEach(la)}function v(D){D.forEach(T)}var w,p=[],r=[];return function H(E){switch(w=E,E.type){case "GeometryCollection":E.geometries.forEach(H);break;case "LineString":T(E.arcs);break;case "MultiLineString":case "Polygon":v(E.arcs);
break;case "MultiPolygon":E.arcs.forEach(v),!0}}(sa),r.forEach(null==ua?function(E){p.push(E[0].i)}:function(E){ua(E[0].g,E[E.length-1].g)&&p.push(E[0].i)}),p}function ib(U,sa){let ua,la,T,v;return U=Fa(U,sa),sa&&sa.feature?(ua=Ca,T=sa.feature):sa&&sa.mesh?(ua=Aa,T=sa.mesh,v=ma[sa.filter]):ea.error("Missing TopoJSON feature or mesh parameter."),la=(la=U.objects[T])?ua(U,la,v):ea.error("Invalid TopoJSON object: "+T),la&&la.features||[la]}function db(U,sa){return 1<arguments.length?(Qa[U]=sa,this):
ea.hasOwnProperty(Qa,U)?Qa[U]:null}const nb=/^([A-Za-z]+:)?\/\//,$a=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,S=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,z=U=>!(Number.isNaN(+U)||U instanceof Date),I={boolean:ea.toBoolean,integer:ea.toNumber,number:ea.toNumber,date:ea.toDate,string:ea.toString,unknown:ea.identity},Q=[U=>"true"===U||"false"===U||!0===U||!1===U,U=>z(U)&&Number.isInteger(+U),z,U=>!Number.isNaN(Date.parse(U))],
J=["boolean","integer","number","date"];var W={},Y={};Da.responseType="text";Fa.responseType="json";const ma={interior:(U,sa)=>U!==sa,exterior:(U,sa)=>U===sa};ib.responseType="json";const Qa={dsv:Da,csv:mb(","),tsv:mb("\t"),json:Fa,topojson:ib},Ua=function(U,sa){return ua=>({options:ua||{},sanitize:fb,load:Wb,fileAccess:!!sa,file:ub(sa),http:zb(U)})}("undefined"!=typeof fetch&&fetch,null);x.format=Qa;x.formats=db;x.inferType=ob;x.inferTypes=rb;x.loader=Ua;x.read=function(U,sa,ua,la){const T=db((sa=
sa||{}).type||"json");return T||ea.error("Unknown data format type: "+sa.type),U=T(U,sa),sa.parse&&function(v,w,p,r){if(v.length){var D=Sa.timeFormatDefaultLocale();p=p||D.timeParse;r=r||D.utcParse;var E,H,C=v.columns||Object.keys(v[0]);"auto"===w&&(w=rb(v,C));C=Object.keys(w);var ha=C.map(Ja=>{var ba=w[Ja];if(ba&&(ba.startsWith("date:")||ba.startsWith("utc:")))return Ja=ba.split(/:(.+)?/,2),ba=Ja[1],("'"===ba[0]&&"'"===ba[ba.length-1]||'"'===ba[0]&&'"'===ba[ba.length-1])&&(ba=ba.slice(1,-1)),("utc"===
Ja[0]?r:p)(ba);if(!I[ba])throw Error("Illegal format pattern: "+Ja+":"+ba);return I[ba]});var xa=0;var oa=v.length;for(H=C.length;xa<oa;++xa)for(D=v[xa],E=0;E<H;++E){var Va=C[E];D[Va]=ha[E](D[Va])}}}(U,sa.parse,ua,la),ea.hasOwnProperty(U,"columns")&&delete U.columns,U};x.responseType=function(U){return(U=db(U))&&U.responseType||"text"};x.typeParsers=I;Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[29]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(28),Rb(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa){function Wb(U){const sa=U||x.identity,ua=[],la={};ua.add=T=>{const v=sa(T);la[v]||(la[v]=1,ua.push(T));return ua};ua.remove=T=>{const v=sa(T);la[v]&&(la[v]=
0,T=ua.indexOf(T),0<=T&&ua.splice(T,1));return ua};return ua}function fb(U,sa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield sa(U)}catch(ua){U.error(ua)}})}function ub(U){U=U===Object(U)?U:{data:U};if(!U[z]){var sa=I++;U[z]=sa}return U}function Ob(U,sa){for(const ua in U)sa[ua]=U[ua];return sa}function zb(U){return U&&U.constructor===cb}function cb(){const U=[],sa=[],ua=[],la=[],T=[];let v=null,w=!1;return{constructor:cb,insert(p){p=x.array(p);const r=p.length;for(let D=
0;D<r;++D)U.push(p[D]);return this},remove(p){const r=x.isFunction(p)?la:sa;p=x.array(p);const D=p.length;for(let E=0;E<D;++E)r.push(p[E]);return this},modify(p,r,D){r={field:r,value:x.constant(D)};x.isFunction(p)?(r.filter=p,T.push(r)):(r.tuple=p,ua.push(r));return this},encode(p,r){x.isFunction(p)?T.push({filter:p,field:r}):ua.push({tuple:p,field:r});return this},clean(p){v=p;return this},reflow(){w=!0;return this},pulse(p,r){function D(ba,ta,eb){eb?ba[ta]=eb(ba):p.encode=ta;w||(H[ba[z]]=ba)}const E=
{},H={};let C,ha,xa,oa,Va,Ja;C=0;for(ha=r.length;C<ha;++C)E[r[C][z]]=1;C=0;for(ha=sa.length;C<ha;++C)Va=sa[C],E[Va[z]]=-1;C=0;for(ha=la.length;C<ha;++C)oa=la[C],r.forEach(ba=>{oa(ba)&&(E[ba[z]]=-1)});C=0;for(ha=U.length;C<ha;++C)Va=U[C],Ja=Va[z],E[Ja]?E[Ja]=1:p.add.push(ub(U[C]));C=0;for(ha=r.length;C<ha;++C)Va=r[C],0>E[Va[z]]&&p.rem.push(Va);C=0;for(ha=ua.length;C<ha;++C)xa=ua[C],Va=xa.tuple,oa=xa.field,Ja=E[Va[z]],0<Ja&&(D(Va,oa,xa.value),p.modifies(oa));C=0;for(ha=T.length;C<ha;++C)xa=T[C],oa=
xa.filter,r.forEach(ba=>{oa(ba)&&0<E[ba[z]]&&D(ba,xa.field,xa.value)}),p.modifies(xa.field);if(w)p.mod=sa.length||la.length?r.filter(ba=>0<E[ba[z]]):r.slice();else for(Ja in H)p.mod.push(H[Ja]);(v||null==v&&(sa.length||la.length))&&p.clean(!0);return p}}}function ob(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function rb(U,sa,ua,la){this.id=++Q;this.value=U;this.qrank=this.rank=this.stamp=-1;this.flags=0;sa&&(this._update=sa);ua&&this.parameters(ua,la)}function Xa(U){return function(sa){const ua=
this.flags;if(0===arguments.length)return!!(ua&U);this.flags=sa?ua|U:ua&~U;return this}}function Ha(U,sa,ua){this.id=++W;this.value=null;ua&&(this.receive=ua);U&&(this._filter=U);sa&&(this._apply=sa)}function Ia(U,sa,ua){return new Ha(U,sa,ua)}function Za(U){let sa;const ua=new Promise(la=>sa=la);ua.requests=0;ua.done=()=>{0===--ua.requests&&(U._pending=null,sa(U))};return U._pending=ua}function mb(U,sa,ua,la,T,v){const w=x.extend({},v,Y);let p;x.isFunction(ua)||(ua=x.constant(ua));void 0===la?T=
r=>U.touch(ua(r)):x.isFunction(la)?(p=new rb(null,la,T,!1),T=r=>{p.evaluate(r);r=ua(r);const D=p.value;zb(D)?U.pulse(r,D,v):U.update(r,D,w)}):T=r=>U.update(ua(r),la,w);sa.apply(T)}function Da(U,sa,ua,la,T,v){void 0===la?sa.targets().add(ua):(v=v||{},la=new rb(null,Fa(ua,la),T,!1),la.modified(v.force),la.rank=sa.rank,sa.targets().add(la),ua&&(la.skip(!0),la.value=ua.value,la.targets().add(ua),U.connect(ua,[la])))}function Fa(U,sa){sa=x.isFunction(sa)?sa:x.constant(sa);return U?function(ua,la){ua=sa(ua,
la);U.skip()||(U.skip(ua!==this.value).value=ua);return ua}:sa}function hb(U,sa,ua){this.dataflow=U;this.stamp=null==sa?-1:sa;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=ua||null}function Ca(U,sa){const ua=[];x.visitArray(U,sa,la=>ua.push(la));return ua}function bb(U,sa){const ua={};U.visit(sa,la=>{ua[la[z]]=1});return la=>ua[la[z]]?null:la}function La(U,sa){return U?(ua,la)=>U(ua,la)&&sa(ua,la):sa}function ka(U,sa,ua,la){const T=ua.length;let v=0;this.dataflow=U;this.stamp=sa;
this.fields=null;this.encode=la||null;this.pulses=ua;for(U=0;U<T;++U)if(la=ua[U],la.stamp===sa){if(la.fields){const w=this.fields||(this.fields={});for(const p in la.fields)w[p]=1}la.changed(this.ADD)&&(v|=this.ADD);la.changed(this.REM)&&(v|=this.REM);la.changed(this.MOD)&&(v|=this.MOD)}this.changes=v}function Aa(U){U.error("Dataflow already running. Use runAsync() to chain invocations.");return U}function Ra(U,sa){if(sa&&sa.stamp===U.stamp)return sa;U=U.fork();sa&&sa!==ma&&(U.source=sa.source);return U}
function Ya(U){let sa=[];return{clear:()=>sa=[],size:()=>sa.length,peek:()=>sa[0],push:ua=>{sa.push(ua);return ib(sa,0,sa.length-1,U)},pop:()=>{var ua=sa.pop();let la;if(sa.length){la=sa[0];sa[0]=ua;{ua=sa;var T=0;const v=T,w=ua.length,p=ua[T];let r=(T<<1)+1,D;for(;r<w;)D=r+1,D<w&&0<=U(ua[r],ua[D])&&(r=D),ua[T]=ua[r],T=r,r=(T<<1)+1;ua[T]=p;ib(ua,v,T,U)}}else la=ua;return la}}}function ib(U,sa,ua,la){let T,v;const w=U[ua];for(;ua>sa;)if(v=ua-1>>1,T=U[v],0>la(w,T))U[ua]=T,ua=v;else break;return U[ua]=
w}function db(){this.logger(x.logger());this.logLevel(x.Error);this._rank=this._clock=0;this._locale=Sa.defaultLocale();try{this._loader=ea.loader()}catch(U){}this._touched=Wb(x.id);this._input={};this._pulse=null;this._heap=Ya((U,sa)=>U.qrank-sa.qrank);this._postrun=[]}function nb(U){return function(){return this._log[U].apply(this,arguments)}}function $a(U,sa){rb.call(this,U,null,sa)}function S(U){U=U&&U.toLowerCase();return x.hasOwnProperty(Ua,U)?Ua[U]:null}const z=Symbol("vega_id");let I=1;ob.prototype=
{set(U,sa,ua,la){const T=this[U],v=this["_:mod:_"];if(null!=sa&&0<=sa){if(T[sa]!==ua||la)T[sa]=ua,v[sa+":"+U]=-1,v[U]=-1}else if(T!==ua||la)this[U]=ua,v[U]=x.isArray(ua)?1+ua.length:-1;return this},modified(U,sa){const ua=this["_:mod:_"];if(!arguments.length){for(var la in ua)if(ua[la])return!0;return!1}if(x.isArray(U)){for(la=0;la<U.length;++la)if(ua[U[la]])return!0;return!1}return null!=sa&&0<=sa?sa+1<ua[U]||!!ua[sa+":"+U]:!!ua[U]},clear(){this["_:mod:_"]={};return this}};let Q=0;const J=new ob;
rb.prototype={targets(){return this._targets||(this._targets=Wb(x.id))},set(U){return this.value!==U?(this.value=U,1):0},skip:Xa(1),modified:Xa(2),parameters(U,sa,ua){sa=!1!==sa;const la=this._argval=this._argval||new ob,T=this._argops=this._argops||[],v=[];let w,p,r,D;const E=(H,C,ha)=>{ha instanceof rb?(ha!==this&&(sa&&ha.targets().add(this),v.push(ha)),T.push({op:ha,name:H,index:C})):la.set(H,C,ha)};for(w in U)if(p=U[w],"pulse"===w)x.array(p).forEach(H=>{H instanceof rb?H!==this&&(H.targets().add(this),
v.push(H)):x.error("Pulse parameters must be operator instances.")}),this.source=p;else if(x.isArray(p))for(la.set(w,-1,Array(r=p.length)),D=0;D<r;++D)E(w,D,p[D]);else E(w,-1,p);this.marshall().clear();ua&&(T.initonly=!0);return v},marshall(U){const sa=this._argval||J,ua=this._argops;let la,T,v,w;if(ua){const p=ua.length;for(T=0;T<p;++T)la=ua[T],v=la.op,w=v.modified()&&v.stamp===U,sa.set(la.name,la.index,v.value,w);if(ua.initonly){for(T=0;T<p;++T)la=ua[T],la.op.targets().remove(this);this._update=
this._argops=null}}return sa},detach(){const U=this._argops;let sa,ua;if(U)for(sa=0,ua=U.length;sa<ua;++sa){var la=U[sa];la=la.op;la._targets&&la._targets.remove(this)}},evaluate(U){var sa=this._update;if(sa){const ua=this.marshall(U.stamp);sa=sa.call(this,ua,U);ua.clear();if(sa!==this.value)this.value=sa;else if(!this.modified())return U.StopPropagation}},run(U){if(U.stamp<this.stamp)return U.StopPropagation;let sa;this.skip()?(this.skip(!1),sa=0):sa=this.evaluate(U);return this.pulse=sa||U}};let W=
0;Ha.prototype={_filter:x.truthy,_apply:x.identity,targets(){return this._targets||(this._targets=Wb(x.id))},consume(U){if(!arguments.length)return!!this._consume;this._consume=!!U;return this},receive(U){if(this._filter(U)){const sa=this.value=this._apply(U),ua=this._targets,la=ua?ua.length:0;for(let T=0;T<la;++T)ua[T].receive(sa);this._consume&&(U.preventDefault(),U.stopPropagation())}},filter(U){U=Ia(U);this.targets().add(U);return U},apply(U){U=Ia(null,U);this.targets().add(U);return U},merge(){const U=
Ia();this.targets().add(U);for(let sa=0,ua=arguments.length;sa<ua;++sa)arguments[sa].targets().add(U);return U},throttle(U){let sa=-1;return this.filter(()=>{const ua=Date.now();return ua-sa>U?(sa=ua,1):0})},debounce(U){const sa=Ia();this.targets().add(Ia(null,null,x.debounce(U,ua=>{const la=ua.dataflow;sa.receive(ua);la&&la.run&&la.run()})));return sa},between(U,sa){let ua=!1;U.targets().add(Ia(null,null,()=>ua=!0));sa.targets().add(Ia(null,null,()=>ua=!1));return this.filter(()=>ua)},detach(){}};
const Y={skip:!0},ma={};hb.prototype={StopPropagation:ma,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(U){return(new hb(this.dataflow)).init(this,U)},clone(){const U=this.fork(7);U.add=U.add.slice();U.rem=U.rem.slice();U.mod=U.mod.slice();U.source&&(U.source=U.source.slice());return U.materialize(23)},addAll(){let U=this;U.source&&U.add!==U.rem&&(U.rem.length||U.source.length!==U.add.length)&&(U=(new hb(this.dataflow)).init(this),U.add=U.source,U.rem=
[]);return U},init(U,sa){this.stamp=U.stamp;this.encode=U.encode;!U.fields||sa&64||(this.fields=U.fields);sa&1?(this.addF=U.addF,this.add=U.add):(this.addF=null,this.add=[]);sa&2?(this.remF=U.remF,this.rem=U.rem):(this.remF=null,this.rem=[]);sa&4?(this.modF=U.modF,this.mod=U.mod):(this.modF=null,this.mod=[]);sa&32?this.source=this.srcF=null:(this.srcF=U.srcF,this.source=U.source,U.cleans&&(this.cleans=U.cleans));return this},runAfter(U){this.dataflow.runAfter(U)},changed(U){U=U||7;return U&1&&this.add.length||
U&2&&this.rem.length||U&4&&this.mod.length},reflow(U){if(U)return this.fork(7).reflow();U=this.add.length;const sa=this.source&&this.source.length;sa&&sa!==U&&(this.mod=this.source,U&&this.filter(4,bb(this,1)));return this},clean(U){return arguments.length?(this.cleans=!!U,this):this.cleans},modifies(U){const sa=this.fields||(this.fields={});x.isArray(U)?U.forEach(ua=>sa[ua]=!0):sa[U]=!0;return this},modified(U,sa){const ua=this.fields;return(sa||this.mod.length)&&ua?arguments.length?x.isArray(U)?
U.some(la=>ua[la]):ua[U]:!!ua:!1},filter(U,sa){U&1&&(this.addF=La(this.addF,sa));U&2&&(this.remF=La(this.remF,sa));U&4&&(this.modF=La(this.modF,sa));U&16&&(this.srcF=La(this.srcF,sa));return this},materialize(U){U=U||7;U&1&&this.addF&&(this.add=Ca(this.add,this.addF),this.addF=null);U&2&&this.remF&&(this.rem=Ca(this.rem,this.remF),this.remF=null);U&4&&this.modF&&(this.mod=Ca(this.mod,this.modF),this.modF=null);U&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},
visit(U,sa){if(U&16)return x.visitArray(this.source,this.srcF,sa),this;U&1&&x.visitArray(this.add,this.addF,sa);U&2&&x.visitArray(this.rem,this.remF,sa);U&4&&x.visitArray(this.mod,this.modF,sa);const ua=this.source;U&8&&ua&&(U=this.add.length+this.mod.length,U!==ua.length&&(U?x.visitArray(ua,bb(this,5),sa):x.visitArray(ua,this.srcF,sa)));return this}};x.inherits(ka,hb,{fork(U){const sa=(new hb(this.dataflow)).init(this,U&this.NO_FIELDS);void 0!==U&&(U&sa.ADD&&this.visit(sa.ADD,ua=>sa.add.push(ua)),
U&sa.REM&&this.visit(sa.REM,ua=>sa.rem.push(ua)),U&sa.MOD&&this.visit(sa.MOD,ua=>sa.mod.push(ua)));return sa},changed(U){return this.changes&U},modified(U){const sa=this.fields;return sa&&this.changes&this.MOD?x.isArray(U)?U.some(ua=>sa[ua]):sa[U]:0},filter(){x.error("MultiPulse does not support filtering.")},materialize(){x.error("MultiPulse does not support materialization.")},visit(U,sa){const ua=this.pulses,la=ua.length;let T=0;if(U&this.SOURCE)for(;T<la;++T)ua[T].visit(U,sa);else for(;T<la;++T)ua[T].stamp===
this.stamp&&ua[T].visit(U,sa);return this}});const Qa={skip:!1,force:!1};db.prototype={stamp(){return this._clock},loader(U){return arguments.length?(this._loader=U,this):this._loader},locale(U){return arguments.length?(this._locale=U,this):this._locale},logger(U){return arguments.length?(this._log=U,this):this._log},error:nb("error"),warn:nb("warn"),info:nb("info"),debug:nb("debug"),logLevel:nb("level"),cleanThreshold:1E4,add:function(U,sa,ua,la){let T=1;U instanceof rb||(U&&U.prototype instanceof
rb?U=new U:x.isFunction(U)?U=new rb(null,U):(T=0,U=new rb(U,sa)));this.rank(U);T&&(la=ua,ua=sa);ua&&this.connect(U,U.parameters(ua,la));this.touch(U);return U},connect:function(U,sa){const ua=U.rank,la=sa.length;for(let T=0;T<la;++T)if(ua<sa[T].rank){this.rerank(U);break}},rank:function(U){U.rank=++this._rank},rerank:function(U){const sa=[U];let ua,la,T;for(;sa.length;)if(this.rank(ua=sa.pop()),la=ua._targets)for(T=la.length;0<=--T;)sa.push(ua=la[T]),ua===U&&x.error("Cycle detected in dataflow graph.")},
pulse:function(U,sa,ua){this.touch(U,ua||Qa);ua=new hb(this,this._clock+(this._pulse?0:1));const la=U.pulse&&U.pulse.source||[];ua.target=U;this._input[U.id]=sa.pulse(ua,la);return this},touch:function(U,sa){sa=sa||Qa;this._pulse?this._enqueue(U):this._touched.add(U);sa.skip&&U.skip(!0);return this},update:function(U,sa,ua){ua=ua||Qa;(U.set(sa)||ua.force)&&this.touch(U,ua);return this},changeset:cb,ingest:function(U,sa,ua){sa=this.parse(sa,ua);return this.pulse(U,this.changeset().insert(sa))},parse:function(U,
sa){const ua=this.locale();return ea.read(U,sa,ua.timeParse,ua.utcParse)},preload:function(U,sa,ua){const la=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const T=la._pending||Za(la);T.requests+=1;const v=yield la.request(sa,ua);la.pulse(U,la.changeset().remove(x.truthy).insert(v.data||[]));T.done();return v})},request:function(U,sa){const ua=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let la=0,T;try{T=yield ua.loader().load(U,{context:"dataflow",response:ea.responseType(sa&&
sa.type)});try{T=ua.parse(T,sa)}catch(v){la=-2,ua.warn("Data ingestion failed",U,v)}}catch(v){la=-1,ua.warn("Loading failed",U,v)}return{data:T,status:la}})},events:function(U,sa,ua,la){const T=this,v=Ia(ua,la);ua=function(w){w.dataflow=T;try{v.receive(w)}catch(p){T.error(p)}finally{T.run()}};U="string"===typeof U&&"undefined"!==typeof document?document.querySelectorAll(U):x.array(U);la=U.length;for(let w=0;w<la;++w)U[w].addEventListener(sa,ua);return v},on:function(U,sa,ua,la,T){(U instanceof rb?
Da:mb)(this,U,sa,ua,la,T);return this},evaluate:function(U,sa,ua){const la=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const T=[];if(la._pulse)return Aa(la);la._pending&&(yield la._pending);sa&&(yield fb(la,sa));if(!la._touched.length)return la.debug("Dataflow invoked, but nothing to do."),la;var v=++la._clock;la._pulse=new hb(la,v,U);la._touched.forEach(E=>la._enqueue(E,!0));la._touched=Wb(x.id);var w=0;let p,r,D;try{for(;0<la._heap.size();)p=la._heap.pop(),p.rank!==p.qrank?
la._enqueue(p,!0):(r=p.run(la._getPulse(p,U)),r.then?r=yield r:r.async&&(T.push(r.async),r=ma),r!==ma&&p._targets&&p._targets.forEach(E=>la._enqueue(E)),++w)}catch(E){la._heap.clear(),D=E}la._input={};la._pulse=null;la.debug(`Pulse ${v}: ${w} operators`);D&&(la._postrun=[],la.error(D));if(la._postrun.length)for(v=la._postrun.sort((E,H)=>H.priority-E.priority),la._postrun=[],w=0;w<v.length;++w)yield fb(la,v[w].callback);ua&&(yield fb(la,ua));T.length&&Promise.all(T).then(E=>la.runAsync(null,()=>{E.forEach(H=>
{try{H(la)}catch(C){la.error(C)}})}));return la})},run:function(U,sa,ua){return this._pulse?Aa(this):(this.evaluate(U,sa,ua),this)},runAsync:function(U,sa,ua){const la=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;la._running;)yield la._running;const T=()=>la._running=null;(la._running=la.evaluate(U,sa,ua)).then(T,T);return la._running})},runAfter:function(U,sa,ua){if(this._pulse||sa)this._postrun.push({priority:ua||0,callback:U});else try{U(this)}catch(la){this.error(la)}},
_enqueue:function(U,sa){const ua=U.stamp<this._clock;ua&&(U.stamp=this._clock);if(ua||sa)U.qrank=U.rank,this._heap.push(U)},_getPulse:function(U,sa){const ua=U.source,la=this._clock;return ua&&x.isArray(ua)?new ka(this,la,ua.map(T=>T.pulse),sa):this._input[U.id]||Ra(this._pulse,ua&&ua.pulse)}};x.inherits($a,rb,{run(U){if(U.stamp<this.stamp)return U.StopPropagation;let sa;this.skip()?this.skip(!1):sa=this.evaluate(U);sa=sa||U;sa.then?sa=sa.then(ua=>this.pulse=ua):sa!==U.StopPropagation&&(this.pulse=
sa);return sa},evaluate(U){const sa=this.marshall(U.stamp);U=this.transform(sa,U);sa.clear();return U},transform(){}});const Ua={};n.Dataflow=db;n.EventStream=Ha;n.MultiPulse=ka;n.Operator=rb;n.Parameters=ob;n.Pulse=hb;n.Transform=$a;n.UniqueList=Wb;n.asyncCallback=fb;n.changeset=cb;n.definition=function(U){return(U=S(U))&&U.Definition||null};n.derive=function(U){return Ob(U,ub({}))};n.ingest=ub;n.isChangeSet=zb;n.isTuple=function(U){return!(!U||!U[z])};n.rederive=Ob;n.replace=function(U,sa){sa[z]=
U[z];return sa};n.stableCompare=function(U,sa){return U?sa?(ua,la)=>U(ua,la)||sa(ua)[z]-sa(la)[z]:(ua,la)=>U(ua,la)||ua[z]-la[z]:null};n.transform=S;n.transforms=Ua;n.tupleid=function(U){return U[z]};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[30]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3))})(this,function(n,x){function*ea(z,I){if(null==I)for(var Q of z)null!=Q&&""!==Q&&(Q=+Q)>=Q&&(yield Q);else{Q=-1;for(let J of z)J=I(J,++Q,z),null!=J&&""!==J&&(J=+J)>=J&&(yield J)}}function Sa(z,I,Q){const J=Float64Array.from(ea(z,Q));J.sort(x.ascending);
return I.map(W=>x.quantileSorted(J,W))}function Wb(z,I){return Sa(z,[.25,.5,.75],I)}function fb(z,I){const Q=z.length,J=x.deviation(z,I);z=Wb(z,I);return 1.06*(Math.min(J,(z[2]-z[0])/1.34)||J||Math.abs(z[0])||1)*Math.pow(Q,-.2)}function ub(z,I){const Q=z.length;let J=0,W=1,Y,ma;for(;z[J]===z[W];)++W;for(;W<Q;){for(Y=W+1;z[W]===z[Y];)++Y;if(z[W]-z[W-1]<I){for(ma=W+(J+Y-W-W>>1);ma<W;)z[ma++]=z[W];for(;ma>W;)z[ma--]=z[J]}J=W;W=Y}return z}function Ob(z,I){z=z||0;I=null==I?1:I;let Q,J;if($a===$a)Q=$a,
$a=NaN;else{do{Q=2*n.random()-1;J=2*n.random()-1;var W=Q*Q+J*J}while(0===W||1<W);W=Math.sqrt(-2*Math.log(W)/W);Q*=W;$a=J*W}return z+Q*I}function zb(z,I,Q){Q=null==Q?1:Q;z=(z-(I||0))/Q;return Math.exp(-.5*z*z)/(Q*db)}function cb(z,I,Q){z=(z-(I||0))/(null==Q?1:Q);I=Math.abs(z);37<I?Q=0:(Q=Math.exp(-I*I/2),7.07106781186547>I?(Q*=(((((.0352624965998911*I+.700383064443688)*I+6.37396220353165)*I+33.912866078383)*I+112.079291497871)*I+221.213596169931)*I+220.206867912376,Q/=((((((.0883883476483184*I+1.75566716318264)*
I+16.064177579207)*I+86.7807322029461)*I+296.564248779674)*I+637.333633378831)*I+793.826512519948)*I+440.413735824752):Q=Q/(I+1/(I+2/(I+3/(I+4/(I+.65)))))/2.506628274631);return 0<z?1-Q:Q}function ob(z,I,Q){if(0>z||1<z)return NaN;z=2*z-1;var J=-Math.log((1-z)*(1+z));6.25>J?(J-=3.125,J=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+
(1.0512122733215323E-9+(-5.415412054294628E-11+(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):16>J?(J=Math.sqrt(J)-3.25,J=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+
(-.0016882755560235047+(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):Number.isFinite(J)?(J=Math.sqrt(J)-5,J=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J)*J):J=Infinity;z*=J;return(I||0)+(null==Q?1:Q)*nb*z}function rb(z,I){let Q,J;const W={mean(Y){return arguments.length?(Q=Y||0,W):Q},stdev(Y){return arguments.length?(J=null==Y?1:Y,W):J},
sample:()=>Ob(Q,J),pdf:Y=>zb(Y,Q,J),cdf:Y=>cb(Y,Q,J),icdf:Y=>ob(Y,Q,J)};return W.mean(z).stdev(I)}function Xa(z,I){I=null==I?1:I;return Math.exp((z||0)+Ob()*I)}function Ha(z,I,Q){if(0>=z)return 0;Q=null==Q?1:Q;I=(Math.log(z)-(I||0))/Q;return Math.exp(-.5*I*I)/(Q*db*z)}function Ia(z,I,Q){return cb(Math.log(z),I,Q)}function Za(z,I,Q){return Math.exp(ob(z,I,Q))}function mb(z,I){null==I&&(I=null==z?1:z,z=0);return z+(I-z)*n.random()}function Da(z,I,Q){null==Q&&(Q=null==I?1:I,I=0);return z>=I&&z<=Q?1/
(Q-I):0}function Fa(z,I,Q){null==Q&&(Q=null==I?1:I,I=0);return z<I?0:z>Q?1:(z-I)/(Q-I)}function hb(z,I,Q){null==Q&&(Q=null==I?1:I,I=0);return 0<=z&&1>=z?I+z*(Q-I):NaN}function Ca(z,I,Q,J){J-=z*z;Q=1E-24>Math.abs(J)?0:(Q-z*I)/J;return[I-Q*z,Q]}function bb(z,I,Q,J){z=z.filter(ua=>{let la=I(ua);ua=Q(ua);return null!=la&&(la=+la)>=la&&null!=ua&&(ua=+ua)>=ua});J&&z.sort((ua,la)=>I(ua)-I(la));J=z.length;const W=new Float64Array(J),Y=new Float64Array(J);let ma=0,Qa=0,Ua=0,U,sa;for(sa of z)W[ma]=z=+I(sa),
Y[ma]=U=+Q(sa),++ma,Qa+=(z-Qa)/ma,Ua+=(U-Ua)/ma;for(ma=0;ma<J;++ma)W[ma]-=Qa,Y[ma]-=Ua;return[W,Y,Qa,Ua]}function La(z,I,Q,J){let W=-1,Y;for(const ma of z)z=I(ma),Y=Q(ma),null!=z&&(z=+z)>=z&&null!=Y&&(Y=+Y)>=Y&&J(z,Y,++W)}function ka(z,I,Q,J,W){let Y=0,ma=0;La(z,I,Q,(Qa,Ua)=>{Qa=Ua-W(Qa);Ua-=J;Y+=Qa*Qa;ma+=Ua*Ua});return 1-Y/ma}function Aa(z,I,Q){let J=0,W=0,Y=0,ma=0,Qa=0;La(z,I,Q,(sa,ua)=>{++Qa;J+=(sa-J)/Qa;W+=(ua-W)/Qa;Y+=(sa*ua-Y)/Qa;ma+=(sa*sa-ma)/Qa});const Ua=Ca(J,W,Y,ma),U=sa=>Ua[0]+Ua[1]*
sa;return{coef:Ua,predict:U,rSquared:ka(z,I,Q,W,U)}}function Ra(z,I,Q){const [J,W,Y,ma]=bb(z,I,Q);var Qa=J.length,Ua=0;let U=0;var sa=0;let ua=0,la=0,T,v,w,p;for(T=0;T<Qa;)v=J[T],w=W[T++],p=v*v,Ua+=(p-Ua)/T,U+=(p*v-U)/T,sa+=(p*p-sa)/T,ua+=(v*w-ua)/T,la+=(p*w-la)/T;Qa=sa-Ua*Ua;sa=Ua*Qa-U*U;const r=(la*Ua-ua*U)/sa,D=(ua*Qa-la*U)/sa,E=-r*Ua;Ua=H=>{H-=Y;return r*H*H+D*H+E+ma};return{coef:[E-D*Y+r*Y*Y+ma,D-2*r*Y,r],predict:Ua,rSquared:ka(z,I,Q,ma,Ua)}}function Ya(z,I,Q,J){const W=Array(z);let Y,ma,Qa;
for(Y=0;Y<z;++Y)W[Y]=0;for(Y=z-1;0<=Y;--Y)for(ma=I[Y],Qa=1,W[Y]+=ma,z=1;z<=Y;++z)Qa*=(Y+1-z)/z,W[Y-z]+=ma*Math.pow(Q,z)*Qa;W[0]+=J;return W}function ib(z){const I=z.length-1,Q=[];let J,W,Y,ma,Qa;for(J=0;J<I;++J){ma=J;for(W=J+1;W<I;++W)Math.abs(z[J][W])>Math.abs(z[J][ma])&&(ma=W);for(Y=J;Y<I+1;++Y)Qa=z[Y][J],z[Y][J]=z[Y][ma],z[Y][ma]=Qa;for(W=J+1;W<I;++W)for(Y=I;Y>=J;Y--)z[Y][W]-=z[Y][J]*z[J][W]/z[J][J]}for(W=I-1;0<=W;--W){Qa=0;for(Y=W+1;Y<I;++Y)Qa+=z[Y][W]*Q[Y];Q[W]=(z[I][W]-Qa)/z[W][W]}return Q}
n.random=Math.random;const db=Math.sqrt(2*Math.PI),nb=Math.SQRT2;let $a=NaN;const S=.1*Math.PI/180;n.bandwidthNRD=fb;n.bin=function(z){var I=z.maxbins||20;const Q=z.base||10,J=Math.log(Q),W=z.divide||[5,2];let Y=z.extent[0],ma=z.extent[1];let Qa,Ua,U,sa;const ua=z.span||ma-Y||Math.abs(Y)||1;if(z.step)var la=z.step;else if(z.steps){Ua=ua/I;U=0;for(sa=z.steps.length;U<sa&&z.steps[U]<Ua;++U);la=z.steps[Math.max(0,U-1)]}else{la=Math.ceil(Math.log(I)/J);Qa=z.minstep||0;for(la=Math.max(Qa,Math.pow(Q,Math.round(Math.log(ua)/
J)-la));Math.ceil(ua/la)>I;)la*=Q;U=0;for(sa=W.length;U<sa;++U)Ua=la/W[U],Ua>=Qa&&ua/Ua<=I&&(la=Ua)}Ua=Math.log(la);I=Math.pow(Q,-(0<=Ua?0:~~(-Ua/J)+1)-1);if(z.nice||void 0===z.nice)Ua=Math.floor(Y/la+I)*la,Y=Y<Ua?Ua-la:Ua,ma=Math.ceil(ma/la)*la;return{start:Y,stop:ma===Y?Y+la:ma,step:la}};n.bootstrapCI=function(z,I,Q,J){if(!z.length)return[void 0,void 0];z=Float64Array.from(ea(z,J));J=z.length;let W,Y,ma,Qa;ma=0;for(Qa=Array(I);ma<I;++ma){for(Y=W=0;Y<J;++Y)W+=z[~~(n.random()*J)];Qa[ma]=W/J}Qa.sort(x.ascending);
return[x.quantile(Qa,Q/2),x.quantile(Qa,1-Q/2)]};n.cumulativeLogNormal=Ia;n.cumulativeNormal=cb;n.cumulativeUniform=Fa;n.densityLogNormal=Ha;n.densityNormal=zb;n.densityUniform=Da;n.dotbin=function(z,I,Q,J){J=J||(la=>la);const W=z.length,Y=new Float64Array(W);let ma=0,Qa=1,Ua=J(z[0]),U=Ua,sa=Ua+I,ua;for(;Qa<W;++Qa){ua=J(z[Qa]);if(ua>=sa){for(U=(Ua+U)/2;ma<Qa;++ma)Y[ma]=U;sa=ua+I;Ua=ua}U=ua}for(U=(Ua+U)/2;ma<Qa;++ma)Y[ma]=U;return Q?ub(Y,I+I/4):Y};n.quantileLogNormal=Za;n.quantileNormal=ob;n.quantileUniform=
hb;n.quantiles=Sa;n.quartiles=Wb;n.randomInteger=function(z,I){null==I&&(I=z,z=0);let Q,J,W;const Y={min(ma){return arguments.length?(Q=ma||0,W=J-Q,Y):Q},max(ma){return arguments.length?(J=ma||0,W=J-Q,Y):J},sample(){return Q+Math.floor(W*n.random())},pdf(ma){return ma===Math.floor(ma)&&ma>=Q&&ma<J?1/W:0},cdf(ma){ma=Math.floor(ma);return ma<Q?0:ma>=J?1:(ma-Q+1)/W},icdf(ma){return 0<=ma&&1>=ma?Q-1+Math.floor(ma*W):NaN}};return Y.min(z).max(I)};n.randomKDE=function(z,I){const Q=rb();let J=0;const W=
{data(Y){return arguments.length?(J=(z=Y)?Y.length:0,W.bandwidth(I)):z},bandwidth(Y){if(!arguments.length)return I;I=Y;!I&&z&&(I=fb(z));return W},sample(){return z[~~(n.random()*J)]+I*Q.sample()},pdf(Y){let ma=0,Qa=0;for(;Qa<J;++Qa)ma+=Q.pdf((Y-z[Qa])/I);return ma/I/J},cdf(Y){let ma=0,Qa=0;for(;Qa<J;++Qa)ma+=Q.cdf((Y-z[Qa])/I);return ma/J},icdf(){throw Error("KDE icdf not supported.");}};return W.data(z)};n.randomLCG=function(z){return function(){z=(1103515245*z+12345)%2147483647;return z/2147483647}};
n.randomLogNormal=function(z,I){let Q,J;const W={mean(Y){return arguments.length?(Q=Y||0,W):Q},stdev(Y){return arguments.length?(J=null==Y?1:Y,W):J},sample:()=>Xa(Q,J),pdf:Y=>Ha(Y,Q,J),cdf:Y=>Ia(Y,Q,J),icdf:Y=>Za(Y,Q,J)};return W.mean(z).stdev(I)};n.randomMixture=function(z,I){let Q=0,J;const W={weights(Y){if(arguments.length){{var ma=I=Y||[];const Qa=[];let Ua=0,U;for(U=0;U<Q;++U)Ua+=Qa[U]=null==ma[U]?1:+ma[U];for(U=0;U<Q;++U)Qa[U]/=Ua;J=Qa}return W}return I},distributions(Y){return arguments.length?
(Y?(Q=Y.length,z=Y):(Q=0,z=[]),W.weights(I)):z},sample(){const Y=n.random();let ma=z[Q-1],Qa=J[0],Ua=0;for(;Ua<Q-1;Qa+=J[++Ua])if(Y<Qa){ma=z[Ua];break}return ma.sample()},pdf(Y){let ma=0,Qa=0;for(;Qa<Q;++Qa)ma+=J[Qa]*z[Qa].pdf(Y);return ma},cdf(Y){let ma=0,Qa=0;for(;Qa<Q;++Qa)ma+=J[Qa]*z[Qa].cdf(Y);return ma},icdf(){throw Error("Mixture icdf not supported.");}};return W.distributions(z).weights(I)};n.randomNormal=rb;n.randomUniform=function(z,I){let Q,J;const W={min(Y){return arguments.length?(Q=
Y||0,W):Q},max(Y){return arguments.length?(J=null==Y?1:Y,W):J},sample:()=>mb(Q,J),pdf:Y=>Da(Y,Q,J),cdf:Y=>Fa(Y,Q,J),icdf:Y=>hb(Y,Q,J)};null==I&&(I=null==z?1:z,z=0);return W.min(z).max(I)};n.regressionExp=function(z,I,Q){const [J,,W,Y]=bb(z,I,Q);let ma=0,Qa=0,Ua=0,U=0,sa=0,ua,la,T;La(z,I,Q,(r,D)=>{ua=J[sa++];la=Math.log(D);T=ua*D;ma+=(D*la-ma)/sa;Qa+=(T-Qa)/sa;Ua+=(T*la-Ua)/sa;U+=(ua*T-U)/sa});const [v,w]=Ca(Qa/Y,ma/Y,Ua/Y,U/Y),p=r=>Math.exp(v+w*(r-W));return{coef:[Math.exp(v-w*W),w],predict:p,rSquared:ka(z,
I,Q,Y,p)}};n.regressionLinear=Aa;n.regressionLoess=function(z,I,Q,J){const [W,Y,ma,Qa]=bb(z,I,Q,!0);z=W.length;I=Math.max(2,~~(J*z));J=new Float64Array(z);Q=new Float64Array(z);var Ua=(new Float64Array(z)).fill(1);for(var U=-1;2>=++U;){var sa=[0,I-1];for(let E=0;E<z;++E){var ua=W[E],la=sa[0],T=sa[1],v=0,w=0,p=0,r=0;let H=0;const C=1/Math.abs(W[ua-W[la]>W[T]-ua?la:T]-ua||1);for(;la<=T;++la){const oa=W[la],Va=Y[la];var D=Math.abs(ua-oa)*C;const Ja=(D=1-D*D*D)*D*D*Ua[la];D=oa*Ja;v+=Ja;w+=D;p+=Va*Ja;
r+=Va*D;H+=oa*D}const [ha,xa]=Ca(w/v,p/v,r/v,H/v);J[E]=ha+xa*ua;Q[E]=Math.abs(Y[E]-J[E]);ua=W;T=E+1;v=sa;w=ua[T];p=v[0];r=v[1]+1;if(!(r>=ua.length))for(;T>p&&ua[r]-w<=w-ua[p];)v[0]=++p,v[1]=r,++r}if(2===U)break;sa=x.median(Q);if(1E-12>Math.abs(sa))break;for(let E=0,H,C;E<z;++E)H=Q[E]/(6*sa),Ua[E]=1<=H?1E-12:(C=1-H*H)*C}z=W.length;I=[];Ua=Q=0;for(U=[];Q<z;++Q)sa=W[Q]+ma,U[0]===sa?U[1]+=(J[Q]-U[1])/++Ua:(Ua=0,U[1]+=Qa,U=[sa,J[Q]],I.push(U));U[1]+=Qa;return J=I};n.regressionLog=function(z,I,Q){let J=
0,W=0,Y=0,ma=0,Qa=0;La(z,I,Q,(sa,ua)=>{++Qa;sa=Math.log(sa);J+=(sa-J)/Qa;W+=(ua-W)/Qa;Y+=(sa*ua-Y)/Qa;ma+=(sa*sa-ma)/Qa});const Ua=Ca(J,W,Y,ma),U=sa=>Ua[0]+Ua[1]*Math.log(sa);return{coef:Ua,predict:U,rSquared:ka(z,I,Q,W,U)}};n.regressionPoly=function(z,I,Q,J){if(1===J)return Aa(z,I,Q);if(2===J)return Ra(z,I,Q);const [W,Y,ma,Qa]=bb(z,I,Q);var Ua=W.length;const U=[],sa=[],ua=J+1;let la,T,v,w;for(la=0;la<ua;++la){for(v=T=0;T<Ua;++T)v+=Math.pow(W[T],la)*Y[T];U.push(v);w=new Float64Array(ua);for(J=0;J<
ua;++J){for(v=T=0;T<Ua;++T)v+=Math.pow(W[T],la+J);w[J]=v}sa.push(w)}sa.push(U);const p=ib(sa);Ua=r=>{r-=ma;let D=Qa+p[0]+p[1]*r+p[2]*r*r;for(la=3;la<ua;++la)D+=p[la]*Math.pow(r,la);return D};return{coef:Ya(ua,p,-ma,Qa),predict:Ua,rSquared:ka(z,I,Q,Qa,Ua)}};n.regressionPow=function(z,I,Q){let J=0,W=0,Y=0,ma=0,Qa=0,Ua=0;La(z,I,Q,(ua,la)=>{ua=Math.log(ua);const T=Math.log(la);++Ua;J+=(ua-J)/Ua;W+=(T-W)/Ua;Y+=(ua*T-Y)/Ua;ma+=(ua*ua-ma)/Ua;Qa+=(la-Qa)/Ua});const U=Ca(J,W,Y,ma),sa=ua=>U[0]*Math.pow(ua,
U[1]);U[0]=Math.exp(U[0]);return{coef:U,predict:sa,rSquared:ka(z,I,Q,Qa,sa)}};n.regressionQuad=Ra;n.sampleCurve=function(z,I,Q,J){Q=Q||25;J=Math.max(Q,J||200);var W=sa=>[sa,z(sa)],Y=I[0];const ma=I[1],Qa=ma-Y;var Ua=Qa/J;I=[[Y,z(Y)]];const U=[];if(Q===J){for(Ua=1;Ua<J;++Ua)I.push(W(Y+Ua/Q*Qa));I.push([ma,z(ma)]);return I}U.push([ma,z(ma)]);for(J=Q;0<--J;)U.push(W(Y+J/Q*Qa));Q=I[0];for(W=U[U.length-1];W;)Y=(Q[0]+W[0])/2,Y=[Y,z(Y)],Y[0]-Q[0]>=Ua&&Math.abs(Math.atan2(W[1]-Q[1],W[0]-Q[0])-Math.atan2(Y[1]-
Q[1],Y[0]-Q[0]))>S?U.push(Y):(Q=W,I.push(W),U.pop()),W=U[U.length-1];return I};n.sampleLogNormal=Xa;n.sampleNormal=Ob;n.sampleUniform=mb;n.setRandom=function(z){n.random=z};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[31]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(29),Rb(30),Rb(18),Rb(21)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-statistics d3-array vega-time".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega))})(this,function(n,x,ea,Sa,Wb,fb){function ub(Z){return za=>{const gb=Z.length;let Db=1,Zb=String(Z[0](za));for(;Db<gb;++Db)Zb+="|"+
Z[Db](za);return Zb}}function Ob(Z){return Z&&Z.length?1===Z.length?Z[0]:ub(Z):function(){return""}}function zb(Z,za){return gb=>x.extend({name:Z,out:gb||Z},sd,za)}function cb(Z,za){return Z.idx-za.idx}function ob(Z){const za={};Z.forEach(Db=>za[Db.name]=Db);const gb=Db=>{Db.req&&Db.req.forEach(Zb=>{za[Zb]||gb(za[Zb]=ge[Zb]())})};Z.forEach(gb);return Object.values(za).sort(cb)}function rb(){this.missing=this.valid=0;this._ops.forEach(Z=>Z.init(this))}function Xa(Z,za){null==Z||""===Z?++this.missing:
Z===Z&&(++this.valid,this._ops.forEach(gb=>gb.add(this,Z,za)))}function Ha(Z,za){null==Z||""===Z?--this.missing:Z===Z&&(--this.valid,this._ops.forEach(gb=>gb.rem(this,Z,za)))}function Ia(Z){this._out.forEach(za=>Z[za.out]=za.value(this));return Z}function Za(Z,za){function gb(Gb){this._ops=Db;this._out=Zb;this.cell=Gb;this.init()}za=za||x.identity;const Db=ob(Z),Zb=Z.slice().sort(cb);gb.prototype.init=rb;gb.prototype.add=Xa;gb.prototype.rem=Ha;gb.prototype.set=Ia;gb.prototype.get=za;gb.fields=Z.map(Gb=>
Gb.out);return gb}function mb(Z){this._key=Z?x.field(Z):ea.tupleid;this.reset()}function Da(Z){ea.Transform.call(this,null,Z);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function Fa(Z){ea.Transform.call(this,null,Z)}function hb(Z,za,gb){let Db=za||[],Zb=gb||[],Gb={},sc=0;return{add:kc=>Zb.push(kc),remove:kc=>Gb[Z(kc)]=++sc,size:()=>Db.length,
data:(kc,Oa)=>{sc&&(Db=Db.filter(sb=>!Gb[Z(sb)]),Gb={},sc=0);Oa&&kc&&Db.sort(kc);Zb.length&&(Db=kc?x.merge(kc,Db,Zb.sort(kc)):Db.concat(Zb),Zb=[]);return Db}}}function Ca(Z){ea.Transform.call(this,[],Z)}function bb(Z){ea.Operator.call(this,null,La,Z)}function La(Z){return this.value&&!Z.modified()?this.value:x.compare(Z.fields,Z.orders)}function ka(Z){ea.Transform.call(this,null,Z)}function Aa(Z){ea.Transform.call(this,null,Z)}function Ra(Z,za){var gb=Z["function"];x.hasOwnProperty(vb,gb)||x.error("Unknown distribution function: "+
gb);gb=vb[gb]();for(const Db in Z)if("field"===Db)gb.data((Z.from||za()).map(Z[Db]));else if("distributions"===Db)gb[Db](Z[Db].map(Zb=>Ra(Zb,za)));else if("function"===typeof gb[Db])gb[Db](Z[Db]);return gb}function Ya(Z){ea.Transform.call(this,null,Z)}function ib(Z){return()=>Z.materialize(Z.SOURCE).source}function db(Z,za){return Z?Z.map((gb,Db)=>za[Db]||x.accessorName(gb)):null}function nb(Z,za,gb){const Db=[],Zb=hc=>hc(Oa);let Gb,sc,kc,Oa,sb,Lb;if(null==za)Db.push(Z.map(gb));else for(Gb={},sc=
0,kc=Z.length;sc<kc;++sc)Oa=Z[sc],sb=za.map(Zb),Lb=Gb[sb],Lb||(Gb[sb]=Lb=[],Lb.dims=sb,Db.push(Lb)),Lb.push(gb(Oa));return Db}function $a(Z){ea.Transform.call(this,null,Z)}function S(Z){ea.Operator.call(this,null,z,Z);this.modified(!0)}function z(Z){const za=Z.expr;return this.value&&!Z.modified("expr")?this.value:x.accessor(gb=>za(gb,Z),x.accessorFields(za),x.accessorName(za))}function I(Z){ea.Transform.call(this,[void 0,void 0],Z)}function Q(Z,za){ea.Operator.call(this,Z);this.parent=za;this.count=
0}function J(Z){ea.Transform.call(this,{},Z);this._keys=x.fastmap();const za=this._targets=[];za.active=0;za.forEach=gb=>{for(let Db=0,Zb=za.active;Db<Zb;++Db)gb(za[Db],Db,za)}}function W(Z){ea.Operator.call(this,null,Y,Z)}function Y(Z){return this.value&&!Z.modified()?this.value:x.isArray(Z.name)?x.array(Z.name).map(za=>x.field(za)):x.field(Z.name,Z.as)}function ma(Z){ea.Transform.call(this,x.fastmap(),Z)}function Qa(Z){ea.Transform.call(this,[],Z)}function Ua(Z){ea.Transform.call(this,[],Z)}function U(Z){ea.Transform.call(this,
null,Z)}function sa(Z){ea.Transform.call(this,[],Z)}function ua(Z){ea.Transform.call(this,[],Z)}function la(Z){var za=Z.method||ac.value;if(null==ac[za])x.error("Unrecognized imputation method: "+za);else{if(za===ac.value){var gb=void 0!==Z.value?Z.value:0;return()=>gb}return ac[za]}}function T(Z){const za=Z.field;return gb=>gb?za(gb):NaN}function v(Z,za,gb,Db){var Zb=Hb=>Hb(hc),Gb=[];Db=Db?Db.slice():[];var sc={},kc={},Oa,sb;Db.forEach((Hb,yc)=>sc[Hb]=yc+1);var Lb=0;for(sb=Z.length;Lb<sb;++Lb){var hc=
Z[Lb];var tc=gb(hc);var Bc=sc[tc]||(sc[tc]=Db.push(tc));var Mc=(tc=za?za.map(Zb):rd)+"";(Oa=kc[Mc])||(Oa=kc[Mc]=[],Gb.push(Oa),Oa.values=tc);Oa[Bc-1]=hc}Gb.domain=Db;return Gb}function w(Z){Da.call(this,Z)}function p(Z){ea.Transform.call(this,null,Z)}function r(Z){ea.Operator.call(this,null,D,Z)}function D(Z){return this.value&&!Z.modified()?this.value:x.key(Z.fields,Z.flat)}function E(Z){ea.Transform.call(this,[],Z);this._pending=null}function H(Z){return Z.modified("async")&&!(Z.modified("values")||
Z.modified("url")||Z.modified("format"))}function C(Z,za,gb){gb.forEach(ea.ingest);za=za.fork(za.NO_FIELDS&za.NO_SOURCE);za.rem=Z.value;Z.value=za.source=za.add=gb;Z._pending=null;za.rem.length&&za.clean(!0);return za}function ha(Z){ea.Transform.call(this,{},Z)}function xa(Z){ea.Operator.call(this,null,oa,Z)}function oa(Z){if(this.value&&!Z.modified())return this.value;Z=Z.extents;const za=Z.length;let gb=Infinity,Db=-Infinity,Zb,Gb;for(Zb=0;Zb<za;++Zb)Gb=Z[Zb],Gb[0]<gb&&(gb=Gb[0]),Gb[1]>Db&&(Db=
Gb[1]);return[gb,Db]}function Va(Z){ea.Operator.call(this,null,Ja,Z)}function Ja(Z){return this.value&&!Z.modified()?this.value:Z.values.reduce((za,gb)=>za.concat(gb),[])}function ba(Z){ea.Transform.call(this,null,Z)}function ta(Z){Da.call(this,Z)}function eb(Z,za){const gb=Z.field,Db=Z.value,Zb=("count"===Z.op?"__count__":Z.op)||"sum",Gb=x.accessorFields(gb).concat(x.accessorFields(Db)),sc=Kb(gb,Z.limit||0,za);za.changed()&&Z.set("__pivot__",null,null,!0);return{key:Z.key,groupby:Z.groupby,ops:sc.map(()=>
Zb),fields:sc.map(kc=>xb(kc,gb,Db,Gb)),as:sc.map(kc=>kc+""),modified:Z.modified.bind(Z)}}function xb(Z,za,gb,Db){return x.accessor(Zb=>za(Zb)===Z?gb(Zb):NaN,Db,Z+"")}function Kb(Z,za,gb){const Db={},Zb=[];gb.visit(gb.SOURCE,Gb=>{Gb=Z(Gb);Db[Gb]||(Db[Gb]=1,Zb.push(Gb))});Zb.sort(x.ascending);return za?Zb.slice(0,za):Zb}function fc(Z){J.call(this,Z)}function Ec(Z){ea.Transform.call(this,null,Z)}function gd(Z){ea.Transform.call(this,null,Z)}function Dc(Z){ea.Transform.call(this,null,Z)}function Sc(Z){ea.Transform.call(this,
null,Z)}function Ta(Z){ea.Transform.call(this,[],Z);this.count=0}function nc(Z){ea.Transform.call(this,null,Z)}function lc(Z){ea.Transform.call(this,null,Z);this.modified(!0)}function wc(Z){ea.Transform.call(this,null,Z)}function Pc(Z){ea.Transform.call(this,x.fastmap(),Z)}function rc(Z){ea.Transform.call(this,null,Z)}function Xc(Z,za,gb,Db){const Zb=de[Z](za,gb);return{init:Zb.init||x.zero,update:function(Gb,sc){sc[Db]=Zb.next(Gb)}}}function $c(Z){function za(Bc){x.array(x.accessorFields(Bc)).forEach(Mc=>
Oa[Mc]=1)}const gb=x.array(Z.ops),Db=x.array(Z.fields),Zb=x.array(Z.params),Gb=x.array(Z.as),sc=this.outputs=[],kc=this.windows=[],Oa={},sb={},Lb=[],hc=[];let tc=!0;za(Z.sort);gb.forEach((Bc,Mc)=>{const Hb=Db[Mc],yc=x.accessorName(Hb),Cc=Gb[Mc]||Bc+(yc?"_"+yc:"");za(Hb);sc.push(Cc);x.hasOwnProperty(de,Bc)?kc.push(Xc(Bc,Db[Mc],Zb[Mc],Cc)):(null==Hb&&"count"!==Bc&&x.error("Null aggregate field specified."),"count"===Bc?Lb.push(Cc):(tc=!1,Mc=sb[yc],Mc||(Mc=sb[yc]=[],Mc.field=Hb,hc.push(Mc)),Mc.push(ge[Bc](Cc))))});
if(Lb.length||hc.length)this.cell=Nc(hc,Lb,tc);this.inputs=Object.keys(Oa)}function Nc(Z,za,gb){Z=Z.map(Oa=>Za(Oa,Oa.field));const Db={num:0,agg:null,store:!1,count:za};if(!gb)for(var Zb=Z.length,Gb=Db.agg=Array(Zb),sc=0;sc<Zb;++sc)Gb[sc]=new Z[sc](Db);if(Db.store)var kc=Db.data=new mb;Db.add=function(Oa){Db.num+=1;if(!gb){kc&&kc.add(Oa);for(let sb=0;sb<Zb;++sb)Gb[sb].add(Gb[sb].get(Oa),Oa)}};Db.rem=function(Oa){--Db.num;if(!gb){kc&&kc.rem(Oa);for(let sb=0;sb<Zb;++sb)Gb[sb].rem(Gb[sb].get(Oa),Oa)}};
Db.set=function(Oa){let sb,Lb;kc&&kc.values();sb=0;for(Lb=za.length;sb<Lb;++sb)Oa[za[sb]]=Db.num;if(!gb)for(sb=0,Lb=Gb.length;sb<Lb;++sb)Gb[sb].set(Oa)};Db.init=function(){Db.num=0;kc&&kc.reset();for(let Oa=0;Oa<Zb;++Oa)Gb[Oa].init()};return Db}function Dd(Z){ea.Transform.call(this,{},Z);this._mlen=0;this._mods=[]}function we(Z,za,gb,Db){var Zb=Db.sort;const Gb=Zb&&!Db.ignorePeers;Db=Db.frame||[null,0];Z=Z.data(gb);gb=Z.length;const sc=Gb?Wb.bisector(Zb):null;Zb={i0:0,i1:0,p0:0,p1:0,index:0,data:Z,
compare:Zb||x.constant(-1)};za.init();for(let hc=0;hc<gb;++hc){var kc=Zb,Oa=Db,sb=hc,Lb=gb;kc.p0=kc.i0;kc.p1=kc.i1;kc.i0=null==Oa[0]?0:Math.max(0,sb-Math.abs(Oa[0]));kc.i1=null==Oa[1]?Lb:Math.min(Lb,sb+Math.abs(Oa[1])+1);kc.index=sb;if(Gb){{kc=Zb;Oa=sc;sb=kc.i0;Lb=kc.i1-1;const tc=kc.compare,Bc=kc.data,Mc=Bc.length-1;0<sb&&!tc(Bc[sb],Bc[sb-1])&&(kc.i0=Oa.left(Bc,Bc[sb]));Lb<Mc&&!tc(Bc[Lb],Bc[Lb+1])&&(kc.i1=Oa.right(Bc,Bc[Lb]))}}za.update(Zb,Z[hc])}}var ld=()=>{};const sd={init:ld,add:ld,rem:ld,idx:0},
ge={values:{init:Z=>Z.cell.store=!0,value:Z=>Z.cell.data.values(),idx:-1},count:{value:Z=>Z.cell.num},__count__:{value:Z=>Z.missing+Z.valid},missing:{value:Z=>Z.missing},valid:{value:Z=>Z.valid},sum:{init:Z=>Z.sum=0,value:Z=>Z.sum,add:(Z,za)=>Z.sum+=+za,rem:(Z,za)=>Z.sum-=za},product:{init:Z=>Z.product=1,value:Z=>Z.valid?Z.product:void 0,add:(Z,za)=>Z.product*=za,rem:(Z,za)=>Z.product/=za},mean:{init:Z=>Z.mean=0,value:Z=>Z.valid?Z.mean:void 0,add:(Z,za)=>(Z.mean_d=za-Z.mean,Z.mean+=Z.mean_d/Z.valid),
rem:(Z,za)=>(Z.mean_d=za-Z.mean,Z.mean-=Z.valid?Z.mean_d/Z.valid:Z.mean)},average:{value:Z=>Z.valid?Z.mean:void 0,req:["mean"],idx:1},variance:{init:Z=>Z.dev=0,value:Z=>1<Z.valid?Z.dev/(Z.valid-1):void 0,add:(Z,za)=>Z.dev+=Z.mean_d*(za-Z.mean),rem:(Z,za)=>Z.dev-=Z.mean_d*(za-Z.mean),req:["mean"],idx:1},variancep:{value:Z=>1<Z.valid?Z.dev/Z.valid:void 0,req:["variance"],idx:2},stdev:{value:Z=>1<Z.valid?Math.sqrt(Z.dev/(Z.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:Z=>1<Z.valid?Math.sqrt(Z.dev/
Z.valid):void 0,req:["variance"],idx:2},stderr:{value:Z=>1<Z.valid?Math.sqrt(Z.dev/(Z.valid*(Z.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:Z=>Z.cell.data.distinct(Z.get),req:["values"],idx:3},ci0:{value:Z=>Z.cell.data.ci0(Z.get),req:["values"],idx:3},ci1:{value:Z=>Z.cell.data.ci1(Z.get),req:["values"],idx:3},median:{value:Z=>Z.cell.data.q2(Z.get),req:["values"],idx:3},q1:{value:Z=>Z.cell.data.q1(Z.get),req:["values"],idx:3},q3:{value:Z=>Z.cell.data.q3(Z.get),req:["values"],idx:3},min:{init:Z=>
Z.min=void 0,value:Z=>Z.min=Number.isNaN(Z.min)?Z.cell.data.min(Z.get):Z.min,add:(Z,za)=>{if(za<Z.min||void 0===Z.min)Z.min=za},rem:(Z,za)=>{za<=Z.min&&(Z.min=NaN)},req:["values"],idx:4},max:{init:Z=>Z.max=void 0,value:Z=>Z.max=Number.isNaN(Z.max)?Z.cell.data.max(Z.get):Z.max,add:(Z,za)=>{if(za>Z.max||void 0===Z.max)Z.max=za},rem:(Z,za)=>{za>=Z.max&&(Z.max=NaN)},req:["values"],idx:4},argmin:{init:Z=>Z.argmin=void 0,value:Z=>Z.argmin||Z.cell.data.argmin(Z.get),add:(Z,za,gb)=>{za<Z.min&&(Z.argmin=gb)},
rem:(Z,za)=>{za<=Z.min&&(Z.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:Z=>Z.argmax=void 0,value:Z=>Z.argmax||Z.cell.data.argmax(Z.get),add:(Z,za,gb)=>{za>Z.max&&(Z.argmax=gb)},rem:(Z,za)=>{za>=Z.max&&(Z.argmax=void 0)},req:["max","values"],idx:3}};ld=Object.keys(ge);ld.forEach(Z=>{ge[Z]=zb(Z,ge[Z])});var Ma=mb.prototype;Ma.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Ma.add=function(Z){this._add.push(Z)};Ma.rem=function(Z){this._rem.push(Z)};Ma.values=
function(){this._get=null;if(0===this._rem.length)return this._add;const Z=this._add;var za=this._rem;const gb=this._key,Db=Z.length,Zb=za.length,Gb=Array(Db-Zb),sc={};let kc,Oa;for(kc=0;kc<Zb;++kc)sc[gb(za[kc])]=1;for(za=kc=0;kc<Db;++kc)sc[gb(Oa=Z[kc])]?sc[gb(Oa)]=0:Gb[za++]=Oa;this._rem=[];return this._add=Gb};Ma.distinct=function(Z){const za=this.values(),gb={};let Db=za.length,Zb=0,Gb;for(;0<=--Db;)Gb=Z(za[Db])+"",x.hasOwnProperty(gb,Gb)||(gb[Gb]=1,++Zb);return Zb};Ma.extent=function(Z){if(this._get!==
Z||!this._ext){const za=this.values(),gb=x.extentIndex(za,Z);this._ext=[za[gb[0]],za[gb[1]]];this._get=Z}return this._ext};Ma.argmin=function(Z){return this.extent(Z)[0]||{}};Ma.argmax=function(Z){return this.extent(Z)[1]||{}};Ma.min=function(Z){const za=this.extent(Z)[0];return null!=za?Z(za):void 0};Ma.max=function(Z){const za=this.extent(Z)[1];return null!=za?Z(za):void 0};Ma.quartile=function(Z){this._get===Z&&this._q||(this._q=Sa.quartiles(this.values(),Z),this._get=Z);return this._q};Ma.q1=
function(Z){return this.quartile(Z)[0]};Ma.q2=function(Z){return this.quartile(Z)[1]};Ma.q3=function(Z){return this.quartile(Z)[2]};Ma.ci=function(Z){this._get===Z&&this._ci||(this._ci=Sa.bootstrapCI(this.values(),1E3,.05,Z),this._get=Z);return this._ci};Ma.ci0=function(Z){return this.ci(Z)[0]};Ma.ci1=function(Z){return this.ci(Z)[1]};Da.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:ld},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};x.inherits(Da,ea.Transform,{transform(Z,za){const gb=this,Db=za.fork(za.NO_SOURCE|za.NO_FIELDS),Zb=Z.modified();gb.stamp=Db.stamp;gb.value&&(Zb||za.modified(gb._inputs,!0))?(gb._prev=gb.value,gb.value=Zb?gb.init(Z):{},za.visit(za.SOURCE,Gb=>gb.add(Gb))):(gb.value=gb.value||gb.init(Z),za.visit(za.REM,Gb=>gb.rem(Gb)),
za.visit(za.ADD,Gb=>gb.add(Gb)));Db.modifies(gb._outputs);gb._drop=!1!==Z.drop;Z.cross&&1<gb._dims.length&&(gb._drop=!1,gb.cross());za.clean()&&gb._drop&&Db.clean(!0).runAfter(()=>this.clean());return gb.changes(Db)},cross(){function Z(kc){let Oa,sb,Lb,hc;for(Oa in kc)for(Lb=kc[Oa].tuple,sb=0;sb<sc;++sb)Gb[sb][hc=Lb[Zb[sb]]]=hc}function za(kc,Oa,sb){const Lb=Zb[sb],hc=Gb[sb++];for(const tc in hc){const Bc=kc?kc+"|"+tc:tc;Oa[Lb]=hc[tc];sb<sc?za(Bc,Oa,sb):Db[Bc]||gb.cell(Bc,Oa)}}const gb=this,Db=gb.value,
Zb=gb._dnames,Gb=Zb.map(()=>({})),sc=Zb.length;Z(gb._prev);Z(Db);za("",{},0)},init(Z){function za(Hb){Hb=x.array(x.accessorFields(Hb));const yc=Hb.length;let Cc=0,xc;for(;Cc<yc;++Cc)Zb[xc=Hb[Cc]]||(Zb[xc]=1,gb.push(xc))}const gb=this._inputs=[],Db=this._outputs=[],Zb={};this._dims=x.array(Z.groupby);this._dnames=this._dims.map(Hb=>{const yc=x.accessorName(Hb);za(Hb);Db.push(yc);return yc});this.cellkey=Z.key?Z.key:Ob(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const Gb=Z.fields||
[null],sc=Z.ops||["count"];Z=Z.as||[];const kc=Gb.length,Oa={};let sb,Lb,hc,tc,Bc,Mc;kc!==sc.length&&x.error("Unmatched number of fields and aggregate ops.");for(Mc=0;Mc<kc;++Mc)sb=Gb[Mc],Lb=sc[Mc],null==sb&&"count"!==Lb&&x.error("Null aggregate field specified."),tc=x.accessorName(sb),Bc=Z[Mc]||Lb+(tc?"_"+tc:""),Db.push(Bc),"count"===Lb?this._counts.push(Bc):(hc=Oa[tc],hc||(za(sb),hc=Oa[tc]=[],hc.field=sb,this._measures.push(hc)),"count"!==Lb&&(this._countOnly=!1),hc.push(ge[Lb](Bc)));this._measures=
this._measures.map(Hb=>Za(Hb,Hb.field));return{}},cellkey:Ob(),cell(Z,za){let gb=this.value[Z];gb?0===gb.num&&this._drop&&gb.stamp<this.stamp?(gb.stamp=this.stamp,this._adds[this._alen++]=gb):gb.stamp<this.stamp&&(gb.stamp=this.stamp,this._mods[this._mlen++]=gb):(gb=this.value[Z]=this.newcell(Z,za),this._adds[this._alen++]=gb);return gb},newcell(Z,za){Z={key:Z,num:0,agg:null,tuple:this.newtuple(za,this._prev&&this._prev[Z]),stamp:this.stamp,store:!1};if(!this._countOnly){za=this._measures;const gb=
za.length;Z.agg=Array(gb);for(let Db=0;Db<gb;++Db)Z.agg[Db]=new za[Db](Z)}Z.store&&(Z.data=new mb);return Z},newtuple(Z,za){const gb=this._dnames,Db=this._dims,Zb=Db.length,Gb={};for(let sc=0;sc<Zb;++sc)Gb[gb[sc]]=Db[sc](Z);return za?ea.replace(za.tuple,Gb):ea.ingest(Gb)},clean(){const Z=this.value;for(const za in Z)0===Z[za].num&&delete Z[za]},add(Z){var za=this.cellkey(Z);za=this.cell(za,Z);za.num+=1;if(!this._countOnly){za.store&&za.data.add(Z);za=za.agg;for(let gb=0,Db=za.length;gb<Db;++gb)za[gb].add(za[gb].get(Z),
Z)}},rem(Z){var za=this.cellkey(Z);za=this.cell(za,Z);--za.num;if(!this._countOnly){za.store&&za.data.rem(Z);za=za.agg;for(let gb=0,Db=za.length;gb<Db;++gb)za[gb].rem(za[gb].get(Z),Z)}},celltuple(Z){const za=Z.tuple,gb=this._counts;Z.store&&Z.data.values();for(let Db=0,Zb=gb.length;Db<Zb;++Db)za[gb[Db]]=Z.num;if(!this._countOnly){Z=Z.agg;for(let Db=0,Zb=Z.length;Db<Zb;++Db)Z[Db].set(za)}return za},changes(Z){const za=this._adds,gb=this._mods;var Db=this._prev;const Zb=this._drop,Gb=Z.add,sc=Z.rem,
kc=Z.mod;let Oa;var sb;if(Db)for(sb in Db)Oa=Db[sb],Zb&&!Oa.num||sc.push(Oa.tuple);Db=0;for(sb=this._alen;Db<sb;++Db)Gb.push(this.celltuple(za[Db])),za[Db]=null;Db=0;for(sb=this._mlen;Db<sb;++Db)Oa=gb[Db],(0===Oa.num&&Zb?sc:kc).push(this.celltuple(Oa)),gb[Db]=null;this._alen=this._mlen=0;this._prev=null;return Z}});Fa.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",
type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};x.inherits(Fa,ea.Transform,{transform(Z,
za){const gb=!1!==Z.interval,Db=this._bins(Z),Zb=Db.start,Gb=Db.step,sc=Z.as||["bin0","bin1"],kc=sc[0],Oa=sc[1];Z.modified()?(za=za.reflow(!0),Z=za.SOURCE):Z=za.modified(x.accessorFields(Z.field))?za.ADD_MOD:za.ADD;za.visit(Z,gb?sb=>{const Lb=Db(sb);sb[kc]=Lb;sb[Oa]=null==Lb?null:Zb+Gb*(1+(Lb-Zb)/Gb)}:sb=>sb[kc]=Db(sb));return za.modifies(gb?sc:kc)},_bins(Z){if(this.value&&!Z.modified())return this.value;const za=Z.field,gb=Sa.bin(Z),Db=gb.step;let Zb=gb.start,Gb=Zb+Math.ceil((gb.stop-Zb)/Db)*Db;
var sc;null!=(sc=Z.anchor)&&(sc-=Zb+Db*Math.floor((sc-Zb)/Db),Zb+=sc,Gb+=sc);sc=function(kc){kc=x.toNumber(za(kc));return null==kc?null:kc<Zb?-Infinity:kc>Gb?Infinity:(kc=Math.max(Zb,Math.min(kc,Gb-Db)),Zb+Db*Math.floor(1E-14+(kc-Zb)/Db))};sc.start=Zb;sc.stop=gb.stop;sc.step=Db;return this.value=x.accessor(sc,x.accessorFields(za),Z.name||"bin_"+x.accessorName(za))}});Ca.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};x.inherits(Ca,ea.Transform,{transform(Z,za){const gb=
za.fork(za.ALL),Db=hb(ea.tupleid,this.value,gb.materialize(gb.ADD).add),Zb=Z.sort;Z=za.changed()||Zb&&(Z.modified("sort")||za.modified(Zb.fields));gb.visit(gb.REM,Db.remove);this.modified(Z);this.value=gb.source=Db.data(ea.stableCompare(Zb),Z);za.source&&za.source.root&&(this.value.root=za.source.root);return gb}});x.inherits(bb,ea.Operator);ka.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper",
"lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};x.inherits(ka,ea.Transform,{transform(Z,za){var gb=Lb=>hc=>{hc=kc(hc);var tc=Gb;switch(Z.case){case "upper":hc=hc.toUpperCase();break;case "lower":hc=hc.toLowerCase()}hc=hc.match(tc)||[];var Bc;tc=0;for(var Mc=hc.length;tc<Mc;++tc)sc.test(Bc=hc[tc])||Lb(Bc)};const Db=this._parameterCheck(Z,za),
Zb=this._counts,Gb=this._match,sc=this._stop,kc=Z.field,Oa=Z.as||["text","count"],sb=gb(Lb=>Zb[Lb]=1+(Zb[Lb]||0));gb=gb(Lb=>--Zb[Lb]);Db?za.visit(za.SOURCE,sb):(za.visit(za.ADD,sb),za.visit(za.REM,gb));return this._finish(za,Oa)},_parameterCheck(Z,za){let gb=!1;if(Z.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(Z.stopwords||"")+"$","i"),gb=!0;if(Z.modified("pattern")||!this._match)this._match=new RegExp(Z.pattern||"[\\w']+","g"),gb=!0;if(Z.modified("field")||za.modified(Z.field.fields))gb=
!0;gb&&(this._counts={});return gb},_finish(Z,za){const gb=this._counts,Db=this._tuples||(this._tuples={}),Zb=za[0],Gb=za[1];Z=Z.fork(Z.NO_SOURCE|Z.NO_FIELDS);let sc,kc,Oa;for(sc in gb)kc=Db[sc],Oa=gb[sc]||0,!kc&&Oa?(Db[sc]=kc=ea.ingest({}),kc[Zb]=sc,kc[Gb]=Oa,Z.add.push(kc)):0===Oa?(kc&&Z.rem.push(kc),gb[sc]=null,Db[sc]=null):kc[Gb]!==Oa&&(kc[Gb]=Oa,Z.mod.push(kc));return Z.modifies(za)}});Aa.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",
array:!0,length:2,"default":["a","b"]}]};x.inherits(Aa,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE),Db=Z.as||["a","b"],Zb=Db[0],Gb=Db[1];var sc=!this.value||za.changed(za.ADD_REM)||Z.modified("as")||Z.modified("filter"),kc=this.value;if(sc){kc&&(gb.rem=kc);za=kc=za.materialize(za.SOURCE).source;Z=Z.filter||x.truthy;sc=[];kc={};for(var Oa=za.length,sb=0,Lb,hc;sb<Oa;++sb)for(kc[Zb]=hc=za[sb],Lb=0;Lb<Oa;++Lb)kc[Gb]=za[Lb],Z(kc)&&(sc.push(ea.ingest(kc)),kc={},kc[Zb]=hc);gb.add=this.value=
sc}else gb.mod=kc;gb.source=this.value;return gb.modifies(Db)}});const vb={kde:Sa.randomKDE,mixture:Sa.randomMixture,normal:Sa.randomNormal,lognormal:Sa.randomLogNormal,uniform:Sa.randomUniform};Ma=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},
{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];Ya.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",
type:"param",params:Ma.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:Ma},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};x.inherits(Ya,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS);if(!this.value||za.changed()||Z.modified()){const Db=Ra(Z.distribution,ib(za));za=Z.steps||Z.minsteps||25;const Zb=Z.steps||Z.maxsteps||200;let Gb=Z.method||"pdf";"pdf"!==Gb&&"cdf"!==
Gb&&x.error("Invalid density method: "+Gb);Z.extent||Db.data||x.error("Missing density extent parameter.");Gb=Db[Gb];const sc=Z.as||["value","density"];Z=Z.extent||x.extent(Db.data());Z=Sa.sampleCurve(Gb,Z,za,Zb).map(kc=>{const Oa={};Oa[sc[0]]=kc[0];Oa[sc[1]]=kc[1];return ea.ingest(Oa)});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=Z}return gb}});$a.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},
{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};x.inherits($a,ea.Transform,{transform(Z,za){if(this.value&&!Z.modified()&&!za.changed())return za;var gb=za.materialize(za.SOURCE).source;const Db=nb(za.source,Z.groupby,x.identity),Zb=Z.smooth||!1,Gb=Z.field;gb=Z.step||x.span(x.extent(gb,Gb))/30;const sc=ea.stableCompare((tc,Bc)=>Gb(tc)-Gb(Bc));Z=Z.as||"bin";const kc=Db.length;let Oa=Infinity,sb=-Infinity,Lb=0,hc;for(;Lb<kc;++Lb){const tc=
Db[Lb].sort(sc);hc=-1;for(const Bc of Sa.dotbin(tc,gb,Zb,Gb))Bc<Oa&&(Oa=Bc),Bc>sb&&(sb=Bc),tc[++hc][Z]=Bc}this.value={start:Oa,stop:sb,step:gb};return za.reflow(!0).modifies(Z)}});x.inherits(S,ea.Operator);I.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};x.inherits(I,ea.Transform,{transform(Z,za){var gb=this.value;const Db=Z.field;Z=za.changed()||za.modified(Db.fields)||Z.modified("field");let Zb=gb[0],Gb=gb[1];if(Z||null==Zb)Zb=Infinity,Gb=-Infinity;za.visit(Z?
za.SOURCE:za.ADD,sc=>{sc=x.toNumber(Db(sc));null!=sc&&(sc<Zb&&(Zb=sc),sc>Gb&&(Gb=sc))});Number.isFinite(Zb)&&Number.isFinite(Gb)||((gb=x.accessorName(Db))&&(gb=` for field "${gb}"`),za.dataflow.warn(`Infinite extent${gb}: [${Zb}, ${Gb}]`),Zb=Gb=void 0);this.value=[Zb,Gb]}});x.inherits(Q,ea.Operator,{connect(Z){this.detachSubflow=Z.detachSubflow;this.targets().add(Z);return Z.source=this},add(Z){this.count+=1;this.value.add.push(Z)},rem(Z){--this.count;this.value.rem.push(Z)},mod(Z){this.value.mod.push(Z)},
init(Z){this.value.init(Z,Z.NO_SOURCE)},evaluate(){return this.value}});x.inherits(J,ea.Transform,{activate(Z){this._targets[this._targets.active++]=Z},subflow(Z,za,gb,Db){const Zb=this.value;let Gb=x.hasOwnProperty(Zb,Z)&&Zb[Z],sc;Gb?Gb.value.stamp<gb.stamp&&(Gb.init(gb),this.activate(Gb)):(sc=Db||(sc=this._group[Z])&&sc.tuple,Db=gb.dataflow,Gb=new Q(gb.fork(gb.NO_SOURCE),this),Db.add(Gb).connect(za(Db,Z,sc)),Zb[Z]=Gb,this.activate(Gb));return Gb},clean(){const Z=this.value;for(const za in Z)if(0===
Z[za].count){const gb=Z[za].detachSubflow;gb&&gb();delete Z[za]}},initTargets(){const Z=this._targets,za=Z.length;for(let gb=0;gb<za&&null!=Z[gb];++gb)Z[gb]=null;Z.active=0},transform(Z,za){const gb=za.dataflow,Db=Z.key,Zb=Z.subflow,Gb=this._keys,sc=Z.modified("key"),kc=Oa=>this.subflow(Oa,Zb,za);this._group=Z.group||{};this.initTargets();za.visit(za.REM,Oa=>{const sb=ea.tupleid(Oa),Lb=Gb.get(sb);void 0!==Lb&&(Gb.delete(sb),kc(Lb).rem(Oa))});za.visit(za.ADD,Oa=>{const sb=Db(Oa);Gb.set(ea.tupleid(Oa),
sb);kc(sb).add(Oa)});sc||za.modified(Db.fields)?za.visit(za.MOD,Oa=>{const sb=ea.tupleid(Oa),Lb=Gb.get(sb),hc=Db(Oa);Lb===hc?kc(hc).mod(Oa):(Gb.set(sb,hc),kc(Lb).rem(Oa),kc(hc).add(Oa))}):za.changed(za.MOD)&&za.visit(za.MOD,Oa=>{kc(Gb.get(ea.tupleid(Oa))).mod(Oa)});sc&&za.visit(za.REFLOW,Oa=>{const sb=ea.tupleid(Oa),Lb=Gb.get(sb),hc=Db(Oa);Lb!==hc&&(Gb.set(sb,hc),kc(Lb).rem(Oa),kc(hc).add(Oa))});za.clean()?gb.runAfter(()=>{this.clean();Gb.clean()}):Gb.empty>gb.cleanThreshold&&gb.runAfter(Gb.clean);
return za}});x.inherits(W,ea.Operator);ma.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};x.inherits(ma,ea.Transform,{transform(Z,za){function gb(hc){const tc=ea.tupleid(hc),Bc=sb(hc,Z),Mc=Zb.get(tc);Bc&&Mc?(Zb.delete(tc),sc.push(hc)):Bc||Mc?Lb&&Bc&&!Mc&&Oa.push(hc):(Zb.set(tc,1),kc.push(hc))}const Db=za.dataflow,Zb=this.value,Gb=za.fork(),sc=Gb.add,kc=Gb.rem,Oa=Gb.mod,sb=Z.expr;let Lb=!0;za.visit(za.REM,hc=>{const tc=ea.tupleid(hc);Zb.has(tc)?Zb.delete(tc):
kc.push(hc)});za.visit(za.ADD,hc=>{sb(hc,Z)?sc.push(hc):Zb.set(ea.tupleid(hc),1)});za.visit(za.MOD,gb);Z.modified()&&(Lb=!1,za.visit(za.REFLOW,gb));Zb.empty>Db.cleanThreshold&&Db.runAfter(Zb.clean);return Gb}});Qa.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};x.inherits(Qa,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE),Db=Z.fields,Zb=db(Db,Z.as||[]),Gb=Z.index||
null,sc=Zb.length;gb.rem=this.value;za.visit(za.SOURCE,kc=>{const Oa=Db.map(Mc=>Mc(kc)),sb=Oa.reduce((Mc,Hb)=>Math.max(Mc,Hb.length),0);let Lb=0,hc,tc,Bc;for(;Lb<sb;++Lb){tc=ea.derive(kc);for(hc=0;hc<sc;++hc)tc[Zb[hc]]=null==(Bc=Oa[hc][Lb])?null:Bc;Gb&&(tc[Gb]=Lb);gb.add.push(tc)}});this.value=gb.source=gb.add;Gb&&gb.modifies(Gb);return gb.modifies(Zb)}});Ua.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,
length:2,"default":["key","value"]}]};x.inherits(Ua,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE),Db=Z.fields,Zb=Db.map(x.accessorName);Z=Z.as||["key","value"];const Gb=Z[0],sc=Z[1],kc=Db.length;gb.rem=this.value;za.visit(za.SOURCE,Oa=>{for(let sb=0,Lb;sb<kc;++sb)Lb=ea.derive(Oa),Lb[Gb]=Zb[sb],Lb[sc]=Db[sb](Oa),gb.add.push(Lb)});this.value=gb.source=gb.add;return gb.modifies(Z)}});U.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",
type:"string",required:!0},{name:"initonly",type:"boolean"}]};x.inherits(U,ea.Transform,{transform(Z,za){const gb=Z.expr,Db=Z.as,Zb=Z.modified(),Gb=Z.initonly?za.ADD:Zb?za.SOURCE:za.modified(gb.fields)||za.modified(Db)?za.ADD_MOD:za.ADD;Zb&&(za=za.materialize().reflow(!0));Z.initonly||za.modifies(Db);return za.visit(Gb,sc=>sc[Db]=gb(sc,Z))}});x.inherits(sa,ea.Transform,{transform(Z,za){za=za.fork(za.ALL);const gb=Z.generator;let Db=this.value,Zb=Z.size-Db.length,Gb,sc;if(0<Zb){for(Gb=[];0<=--Zb;)Gb.push(sc=
ea.ingest(gb(Z))),Db.push(sc);za.add=za.add.length?za.materialize(za.ADD).add.concat(Gb):Gb}else Z=Db.slice(0,-Zb),za.rem=za.rem.length?za.materialize(za.REM).rem.concat(Z):Z,Db=Db.slice(-Zb);za.source=this.value=Db;return za}});const ac={value:"value",median:Wb.median,mean:Wb.mean,min:Wb.min,max:Wb.max},rd=[];ua.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",
array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};x.inherits(ua,ea.Transform,{transform(Z,za){var gb=za.fork(za.ALL),Db=la(Z),Zb=T(Z),Gb=x.accessorName(Z.field),sc=x.accessorName(Z.key),kc=(Z.groupby||[]).map(x.accessorName);Z=v(za.source,Z.groupby,Z.key,Z.keyvals);za=[];var Oa=this.value,sb=Z.domain.length,Lb,hc,tc;var Bc=0;for(hc=Z.length;Bc<hc;++Bc){var Mc=Z[Bc];var Hb=Mc.values;var yc=NaN;for(Lb=0;Lb<sb;++Lb)if(null==
Mc[Lb]){var Cc=Z.domain[Lb];var xc={_impute:!0};var Jc=0;for(tc=Hb.length;Jc<tc;++Jc)xc[kc[Jc]]=Hb[Jc];xc[sc]=Cc;xc[Gb]=Number.isNaN(yc)?yc=Db(Mc,Zb):yc;za.push(ea.ingest(xc))}}za.length&&(gb.add=gb.materialize(gb.ADD).add.concat(za));Oa.length&&(gb.rem=gb.materialize(gb.REM).rem.concat(Oa));this.value=za;return gb}});w.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,
values:ld},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};x.inherits(w,Da,{transform(Z,za){const gb=this,Db=Z.modified();let Zb;gb.value&&(Db||za.modified(gb._inputs,!0))?(Zb=gb.value=Db?gb.init(Z):{},za.visit(za.SOURCE,Gb=>gb.add(Gb))):(Zb=gb.value=gb.value||this.init(Z),za.visit(za.REM,Gb=>gb.rem(Gb)),za.visit(za.ADD,Gb=>gb.add(Gb)));gb.changes();za.visit(za.SOURCE,Gb=>{x.extend(Gb,Zb[gb.cellkey(Gb)].tuple)});return za.reflow(Db).modifies(this._outputs)},changes(){const Z=
this._adds,za=this._mods;let gb,Db;gb=0;for(Db=this._alen;gb<Db;++gb)this.celltuple(Z[gb]),Z[gb]=null;gb=0;for(Db=this._mlen;gb<Db;++gb)this.celltuple(za[gb]),za[gb]=null;this._alen=this._mlen=0}});p.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,
length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},{name:"as",type:"string",array:!0,"default":["value","density"]}]};x.inherits(p,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS);if(!this.value||za.changed()||Z.modified()){za=za.materialize(za.SOURCE).source;const Db=nb(za,Z.groupby,Z.field),Zb=(Z.groupby||[]).map(x.accessorName),
Gb=Z.bandwidth,sc=Z.cumulative?"cdf":"pdf",kc=Z.as||["value","density"],Oa=[];let sb=Z.extent,Lb=Z.steps||Z.minsteps||25,hc=Z.steps||Z.maxsteps||200;"pdf"!==sc&&"cdf"!==sc&&x.error("Invalid density method: "+sc);"shared"===Z.resolve&&(sb||(sb=x.extent(za,Z.field)),Lb=hc=Z.steps||hc);Db.forEach(tc=>{const Bc=Sa.randomKDE(tc,Gb)[sc],Mc=Z.counts?tc.length:1,Hb=sb||x.extent(tc);Sa.sampleCurve(Bc,Hb,Lb,hc).forEach(yc=>{const Cc={};for(let xc=0;xc<Zb.length;++xc)Cc[Zb[xc]]=tc.dims[xc];Cc[kc[0]]=yc[0];Cc[kc[1]]=
yc[1]*Mc;Oa.push(ea.ingest(Cc))})});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=Oa}return gb}});x.inherits(r,ea.Operator);x.inherits(E,ea.Transform,{transform(Z,za){const gb=za.dataflow;return this._pending?C(this,za,this._pending):H(Z)?za.StopPropagation:Z.values?C(this,za,gb.parse(Z.values,Z.format)):Z.async?{async:gb.request(Z.url,Z.format).then(Db=>{this._pending=x.array(Db.data);return Zb=>Zb.touch(this)})}:gb.request(Z.url,Z.format).then(Db=>C(this,za,x.array(Db.data)))}});ha.Definition=
{type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};x.inherits(ha,ea.Transform,{transform(Z,za){const gb=Z.fields,Db=Z.index,Zb=Z.values,Gb=null==Z.default?null:Z.default;var sc=Z.modified();const kc=gb.length;let Oa=sc?za.SOURCE:za.ADD,
sb=za,Lb=Z.as,hc;Zb?(hc=Zb.length,1<kc&&!Lb&&x.error('Multi-field lookup requires explicit "as" parameter.'),Lb&&Lb.length!==kc*hc&&x.error('The "as" parameter has too few output field names.'),Lb=Lb||Zb.map(x.accessorName),Z=function(tc){for(var Bc=0,Mc=0,Hb,yc;Bc<kc;++Bc)if(yc=Db.get(gb[Bc](tc)),null==yc)for(Hb=0;Hb<hc;++Hb,++Mc)tc[Lb[Mc]]=Gb;else for(Hb=0;Hb<hc;++Hb,++Mc)tc[Lb[Mc]]=Zb[Hb](yc)}):(Lb||x.error("Missing output field names."),Z=function(tc){for(var Bc=0,Mc;Bc<kc;++Bc)Mc=Db.get(gb[Bc](tc)),
tc[Lb[Bc]]=null==Mc?Gb:Mc});sc?sb=za.reflow(!0):(sc=gb.some(tc=>za.modified(tc.fields)),Oa|=sc?za.MOD:0);za.visit(Oa,Z);return sb.modifies(Lb)}});x.inherits(xa,ea.Operator);x.inherits(Va,ea.Operator);x.inherits(ba,ea.Transform,{transform(Z,za){this.modified(Z.modified());this.value=Z;return za.fork(za.NO_SOURCE|za.NO_FIELDS)}});ta.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",
required:!0},{name:"op",type:"enum",values:ld,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};x.inherits(ta,Da,{_transform:Da.prototype.transform,transform(Z,za){return this._transform(eb(Z,za),za)}});x.inherits(fc,J,{transform(Z,za){const gb=Z.subflow,Db=Z.field,Zb=Gb=>this.subflow(ea.tupleid(Gb),gb,za,Gb);(Z.modified("field")||Db&&za.modified(x.accessorFields(Db)))&&x.error("PreFacet does not support field modification.");this.initTargets();Db?(za.visit(za.MOD,
Gb=>{const sc=Zb(Gb);Db(Gb).forEach(kc=>sc.mod(kc))}),za.visit(za.ADD,Gb=>{const sc=Zb(Gb);Db(Gb).forEach(kc=>sc.add(ea.ingest(kc)))}),za.visit(za.REM,Gb=>{const sc=Zb(Gb);Db(Gb).forEach(kc=>sc.rem(kc))})):(za.visit(za.MOD,Gb=>Zb(Gb).mod(Gb)),za.visit(za.ADD,Gb=>Zb(Gb).add(Gb)),za.visit(za.REM,Gb=>Zb(Gb).rem(Gb)));za.clean()&&za.runAfter(()=>this.clean());return za}});Ec.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",
"null":!0,array:!0}]};x.inherits(Ec,ea.Transform,{transform(Z,za){const gb=za.fork(za.NO_SOURCE),Db=Z.fields,Zb=db(Z.fields,Z.as||[]),Gb=Db?(kc,Oa)=>{for(let sb=0,Lb=Db.length;sb<Lb;++sb)Oa[Zb[sb]]=Db[sb](kc);return Oa}:ea.rederive;let sc;this.value?sc=this.value:(za=za.addAll(),sc=this.value={});za.visit(za.REM,kc=>{kc=ea.tupleid(kc);gb.rem.push(sc[kc]);sc[kc]=null});za.visit(za.ADD,kc=>{const Oa=Gb(kc,ea.ingest({}));sc[ea.tupleid(kc)]=Oa;gb.add.push(Oa)});za.visit(za.MOD,kc=>{gb.mod.push(Gb(kc,
sc[ea.tupleid(kc)]))});return gb}});x.inherits(gd,ea.Transform,{transform(Z,za){this.value=Z.value;return Z.modified("value")?za.fork(za.NO_SOURCE|za.NO_FIELDS):za.StopPropagation}});Dc.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};x.inherits(Dc,ea.Transform,
{transform(Z,za){const gb=za.fork(za.NO_SOURCE|za.NO_FIELDS),Db=Z.as||["prob","value"];if(this.value&&!Z.modified()&&!za.changed())return gb.source=this.value,gb;za=za.materialize(za.SOURCE).source;za=nb(za,Z.groupby,Z.field);const Zb=(Z.groupby||[]).map(x.accessorName),Gb=[],sc=Z.step||.01,kc=Z.probs||Wb.range(sc/2,1-1E-14,sc),Oa=kc.length;za.forEach(sb=>{const Lb=Sa.quantiles(sb,kc);for(let hc=0;hc<Oa;++hc){const tc={};for(let Bc=0;Bc<Zb.length;++Bc)tc[Zb[Bc]]=sb.dims[Bc];tc[Db[0]]=kc[hc];tc[Db[1]]=
Lb[hc];Gb.push(ea.ingest(tc))}});this.value&&(gb.rem=this.value);this.value=gb.add=gb.source=Gb;return gb}});x.inherits(Sc,ea.Transform,{transform(Z,za){let gb,Db;this.value?Db=this.value:(gb=za=za.addAll(),Db=this.value={});Z.derive&&(gb=za.fork(za.NO_SOURCE),za.visit(za.REM,Zb=>{Zb=ea.tupleid(Zb);gb.rem.push(Db[Zb]);Db[Zb]=null}),za.visit(za.ADD,Zb=>{const Gb=ea.derive(Zb);Db[ea.tupleid(Zb)]=Gb;gb.add.push(Gb)}),za.visit(za.MOD,Zb=>{const Gb=Db[ea.tupleid(Zb)];for(const sc in Zb)Gb[sc]=Zb[sc],gb.modifies(sc);
gb.mod.push(Gb)}));return gb}});Ta.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};x.inherits(Ta,ea.Transform,{transform(Z,za){function gb(Lb){let hc,tc;kc.length<Gb?kc.push(Lb):(tc=~~((Oa+1)*Sa.random()),tc<kc.length&&tc>=sb&&(hc=kc[tc],sc[ea.tupleid(hc)]&&Db.rem.push(hc),kc[tc]=Lb));++Oa}const Db=za.fork(za.NO_SOURCE);var Zb=Z.modified("size");const Gb=Z.size,sc=this.value.reduce((Lb,hc)=>(Lb[ea.tupleid(hc)]=1,Lb),{});let kc=this.value,Oa=this.count,sb=
0;za.rem.length&&(za.visit(za.REM,Lb=>{const hc=ea.tupleid(Lb);sc[hc]&&(sc[hc]=-1,Db.rem.push(Lb));--Oa}),kc=kc.filter(Lb=>-1!==sc[ea.tupleid(Lb)]));(za.rem.length||Zb)&&kc.length<Gb&&za.source&&(sb=Oa=kc.length,za.visit(za.SOURCE,Lb=>{sc[ea.tupleid(Lb)]||gb(Lb)}),sb=-1);if(Zb&&kc.length>Gb){Z=kc.length-Gb;for(Zb=0;Zb<Z;++Zb)sc[ea.tupleid(kc[Zb])]=-1,Db.rem.push(kc[Zb]);kc=kc.slice(Z)}za.mod.length&&za.visit(za.MOD,Lb=>{sc[ea.tupleid(Lb)]&&Db.mod.push(Lb)});za.add.length&&za.visit(za.ADD,gb);if(za.add.length||
0>sb)Db.add=kc.filter(Lb=>!sc[ea.tupleid(Lb)]);this.count=Oa;this.value=Db.source=kc;return Db}});nc.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};x.inherits(nc,ea.Transform,{transform(Z,za){if(!this.value||Z.modified()){var gb=za.materialize().fork(za.MOD),Db=Z.as||"data";gb.rem=this.value?za.rem.concat(this.value):
za.rem;this.value=Wb.range(Z.start,Z.stop,Z.step||1).map(Zb=>{const Gb={};Gb[Db]=Zb;return ea.ingest(Gb)});gb.add=za.add.concat(this.value);return gb}}});x.inherits(lc,ea.Transform,{transform(Z,za){this.value=za.source;return za.changed()?za.fork(za.NO_SOURCE|za.NO_FIELDS):za.StopPropagation}});const vd=["unit0","unit1"];wc.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:fb.TIME_UNITS,
array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":vd}]};x.inherits(wc,ea.Transform,{transform(Z,za){const gb=Z.field,Db=!1!==Z.interval;var Zb="utc"===Z.timezone;const Gb=this._floor(Z,za),sc=(Zb?fb.utcInterval:fb.timeInterval)(Gb.unit).offset;Zb=Z.as||vd;const kc=Zb[0],Oa=Zb[1],sb=Gb.step;let Lb=
Gb.start||Infinity,hc=Gb.stop||-Infinity,tc=za.ADD;if(Z.modified()||za.modified(x.accessorFields(gb)))za=za.reflow(!0),tc=za.SOURCE,Lb=Infinity,hc=-Infinity;za.visit(tc,Bc=>{var Mc=gb(Bc);let Hb;null==Mc?(Bc[kc]=null,Db&&(Bc[Oa]=null)):(Bc[kc]=Mc=Hb=Gb(Mc),Db&&(Bc[Oa]=Hb=sc(Mc,sb)),Mc<Lb&&(Lb=Mc),Hb>hc&&(hc=Hb))});Gb.start=Lb;Gb.stop=hc;return za.modifies(Db?Zb:kc)},_floor(Z,za){var gb="utc"===Z.timezone;const {units:Db,step:Zb}=Z.units?{units:Z.units,step:Z.step||1}:fb.timeBin({extent:Z.extent||
x.extent(za.materialize(za.SOURCE).source,Z.field),maxbins:Z.maxbins});Z=fb.timeUnits(Db);za=this.value||{};gb=(gb?fb.utcFloor:fb.timeFloor)(Z,Zb);gb.unit=x.peek(Z);gb.units=Z;gb.step=Zb;gb.start=za.start;gb.stop=za.stop;return this.value=gb}});x.inherits(Pc,ea.Transform,{transform(Z,za){const gb=za.dataflow,Db=Z.field,Zb=this.value,Gb=kc=>Zb.set(Db(kc),kc);let sc=!0;Z.modified("field")||za.modified(Db.fields)?(Zb.clear(),za.visit(za.SOURCE,Gb)):za.changed()?(za.visit(za.REM,kc=>Zb.delete(Db(kc))),
za.visit(za.ADD,Gb)):sc=!1;this.modified(sc);Zb.empty>gb.cleanThreshold&&gb.runAfter(Zb.clean);return za.fork()}});x.inherits(rc,ea.Transform,{transform(Z,za){if(!this.value||Z.modified("field")||Z.modified("sort")||za.changed()||Z.sort&&za.modified(Z.sort.fields))this.value=(Z.sort?za.source.slice().sort(ea.stableCompare(Z.sort)):za.source).map(Z.field)}});const de={row_number:function(){return{next:Z=>Z.index+1}},rank:function(){let Z;return{init:()=>Z=1,next:za=>{const gb=za.index,Db=za.data;return gb&&
za.compare(Db[gb-1],Db[gb])?Z=gb+1:Z}}},dense_rank:function(){let Z;return{init:()=>Z=1,next:za=>{const gb=za.index,Db=za.data;return gb&&za.compare(Db[gb-1],Db[gb])?++Z:Z}}},percent_rank:function(){const Z=de.rank(),za=Z.next;return{init:Z.init,next:gb=>(za(gb)-1)/(gb.data.length-1)}},cume_dist:function(){let Z;return{init:()=>Z=0,next:za=>{const gb=za.data,Db=za.compare;za=za.index;if(Z<za){for(;za+1<gb.length&&!Db(gb[za],gb[za+1]);)++za;Z=za}return(1+Z)/gb.length}}},ntile:function(Z,za){za=+za;
0<za||x.error("ntile num must be greater than zero.");Z=de.cume_dist();const gb=Z.next;return{init:Z.init,next:Db=>Math.ceil(za*gb(Db))}},lag:function(Z,za){za=+za||1;return{next:gb=>{const Db=gb.index-za;return 0<=Db?Z(gb.data[Db]):null}}},lead:function(Z,za){za=+za||1;return{next:gb=>{const Db=gb.index+za;gb=gb.data;return Db<gb.length?Z(gb[Db]):null}}},first_value:function(Z){return{next:za=>Z(za.data[za.i0])}},last_value:function(Z){return{next:za=>Z(za.data[za.i1-1])}},nth_value:function(Z,za){za=
+za;0<za||x.error("nth_value nth must be greater than zero.");return{next:gb=>{const Db=gb.i0+(za-1);return Db<gb.i1?Z(gb.data[Db]):null}}},prev_value:function(Z){let za;return{init:()=>za=null,next:gb=>{gb=Z(gb.data[gb.index]);return null!=gb?za=gb:za}}},next_value:function(Z){let za,gb;return{init:()=>(za=null,gb=-1),next:Db=>{var Zb=Db.data;if(Db.index<=gb)Zb=za;else{a:{Db=Db.index;for(let Gb=Zb.length;Db<Gb;++Db)if(null!=Z(Zb[Db]))break a;Db=-1}Zb=0>(gb=Db)?(gb=Zb.length,za=null):za=Z(Zb[gb])}return Zb}}}};
Ma=Object.keys(de);const oe=$c.prototype;oe.init=function(){this.windows.forEach(Z=>Z.init());this.cell&&this.cell.init()};oe.update=function(Z,za){const gb=this.cell,Db=this.windows,Zb=Z.data,Gb=Db&&Db.length;let sc;if(gb){for(sc=Z.p0;sc<Z.i0;++sc)gb.rem(Zb[sc]);for(sc=Z.p1;sc<Z.i1;++sc)gb.add(Zb[sc]);gb.set(za)}for(sc=0;sc<Gb;++sc)Db[sc].update(Z,za)};Dd.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",
array:!0,values:Ma.concat(ld)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};x.inherits(Dd,ea.Transform,{transform(Z,za){this.stamp=za.stamp;const gb=Z.modified(),Db=ea.stableCompare(Z.sort),Zb=Ob(Z.groupby),Gb=kc=>this.group(Zb(kc));let sc=this.state;if(!sc||gb)sc=this.state=new $c(Z);
gb||za.modified(sc.inputs)?(this.value={},za.visit(za.SOURCE,kc=>Gb(kc).add(kc))):(za.visit(za.REM,kc=>Gb(kc).remove(kc)),za.visit(za.ADD,kc=>Gb(kc).add(kc)));for(let kc=0,Oa=this._mlen;kc<Oa;++kc)we(this._mods[kc],sc,Db,Z);this._mlen=0;this._mods=[];return za.reflow(gb).modifies(sc.outputs)},group(Z){let za=this.value[Z];za||(za=this.value[Z]=hb(ea.tupleid),za.stamp=-1);za.stamp<this.stamp&&(za.stamp=this.stamp,this._mods[this._mlen++]=za);return za}});n.aggregate=Da;n.bin=Fa;n.collect=Ca;n.compare=
bb;n.countpattern=ka;n.cross=Aa;n.density=Ya;n.dotbin=$a;n.expression=S;n.extent=I;n.facet=J;n.field=W;n.filter=ma;n.flatten=Qa;n.fold=Ua;n.formula=U;n.generate=sa;n.impute=ua;n.joinaggregate=w;n.kde=p;n.key=r;n.load=E;n.lookup=ha;n.multiextent=xa;n.multivalues=Va;n.params=ba;n.pivot=ta;n.prefacet=fc;n.project=Ec;n.proxy=gd;n.quantile=Dc;n.relay=Sc;n.sample=Ta;n.sequence=nc;n.sieve=lc;n.subflow=Q;n.timeunit=wc;n.tupleindex=Pc;n.values=rc;n.window=Dd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[32]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function ea(){return new x}const Sa=Math.PI,Wb=2*Sa,fb=Wb-1E-6;x.prototype=ea.prototype={constructor:x,moveTo:function(ub,Ob){this._+="M"+(this._x0=this._x1=+ub)+","+(this._y0=this._y1=+Ob)},closePath:function(){null!==this._x1&&
(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(ub,Ob){this._+="L"+(this._x1=+ub)+","+(this._y1=+Ob)},quadraticCurveTo:function(ub,Ob,zb,cb){this._+="Q"+ +ub+","+ +Ob+","+(this._x1=+zb)+","+(this._y1=+cb)},bezierCurveTo:function(ub,Ob,zb,cb,ob,rb){this._+="C"+ +ub+","+ +Ob+","+ +zb+","+ +cb+","+(this._x1=+ob)+","+(this._y1=+rb)},arcTo:function(ub,Ob,zb,cb,ob){ub=+ub;Ob=+Ob;zb=+zb;cb=+cb;ob=+ob;var rb=this._x1,Xa=this._y1,Ha=zb-ub,Ia=cb-Ob,Za=rb-ub,mb=Xa-Ob,Da=Za*Za+mb*mb;if(0>ob)throw Error("negative radius: "+
ob);if(null===this._x1)this._+="M"+(this._x1=ub)+","+(this._y1=Ob);else if(1E-6<Da)if(1E-6<Math.abs(mb*Ha-Ia*Za)&&ob){zb-=rb;cb-=Xa;var Fa=Ha*Ha+Ia*Ia;Xa=Math.sqrt(Fa);rb=Math.sqrt(Da);Da=ob*Math.tan((Sa-Math.acos((Fa+Da-(zb*zb+cb*cb))/(2*Xa*rb)))/2);rb=Da/rb;Da/=Xa;1E-6<Math.abs(rb-1)&&(this._+="L"+(ub+rb*Za)+","+(Ob+rb*mb));this._+="A"+ob+","+ob+",0,0,"+ +(mb*zb>Za*cb)+","+(this._x1=ub+Da*Ha)+","+(this._y1=Ob+Da*Ia)}else this._+="L"+(this._x1=ub)+","+(this._y1=Ob)},arc:function(ub,Ob,zb,cb,ob,rb){ub=
+ub;Ob=+Ob;zb=+zb;rb=!!rb;var Xa=zb*Math.cos(cb),Ha=zb*Math.sin(cb),Ia=ub+Xa,Za=Ob+Ha,mb=1^rb;cb=rb?cb-ob:ob-cb;if(0>zb)throw Error("negative radius: "+zb);if(null===this._x1)this._+="M"+Ia+","+Za;else if(1E-6<Math.abs(this._x1-Ia)||1E-6<Math.abs(this._y1-Za))this._+="L"+Ia+","+Za;zb&&(0>cb&&(cb=cb%Wb+Wb),cb>fb?this._+="A"+zb+","+zb+",0,1,"+mb+","+(ub-Xa)+","+(Ob-Ha)+"A"+zb+","+zb+",0,1,"+mb+","+(this._x1=Ia)+","+(this._y1=Za):1E-6<cb&&(this._+="A"+zb+","+zb+",0,"+ +(cb>=Sa)+","+mb+","+(this._x1=
ub+zb*Math.cos(ob))+","+(this._y1=Ob+zb*Math.sin(ob))))},rect:function(ub,Ob,zb,cb){this._+="M"+(this._x0=this._x1=+ub)+","+(this._y0=this._y1=+Ob)+"h"+ +zb+"v"+ +cb+"h"+-zb+"Z"},toString:function(){return this._}};n.path=ea;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[33]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(32)):"function"===typeof define&&define.amd?define(["exports","d3-path"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ea(Oa){return function(){return Oa}}function Sa(Oa){return 1<=Oa?lc:-1>=Oa?-lc:Math.asin(Oa)}function Wb(Oa){return Oa.innerRadius}function fb(Oa){return Oa.outerRadius}function ub(Oa){return Oa.startAngle}function Ob(Oa){return Oa.endAngle}function zb(Oa){return Oa&&
Oa.padAngle}function cb(Oa,sb,Lb,hc,tc,Bc,Mc){var Hb=Oa-Lb,yc=sb-hc;Mc=(Mc?Bc:-Bc)/Ta(Hb*Hb+yc*yc);yc*=Mc;Hb*=-Mc;var Cc=Oa+yc,xc=sb+Hb,Jc=Lb+yc,Yc=hc+Hb;Lb=(Cc+Jc)/2;hc=(xc+Yc)/2;sb=Jc-Cc;Oa=Yc-xc;Mc=sb*sb+Oa*Oa;Bc=tc-Bc;Yc=Cc*Yc-Jc*xc;var Uc=(0>Oa?-1:1)*Ta(gd(0,Bc*Bc*Mc-Yc*Yc));Cc=(Yc*Oa-sb*Uc)/Mc;xc=(-Yc*sb-Oa*Uc)/Mc;Jc=(Yc*Oa+sb*Uc)/Mc;sb=(-Yc*sb+Oa*Uc)/Mc;Oa=Cc-Lb;Mc=xc-hc;Lb=Jc-Lb;hc=sb-hc;Oa*Oa+Mc*Mc>Lb*Lb+hc*hc&&(Cc=Jc,xc=sb);return{cx:Cc,cy:xc,x01:-yc,y01:-Hb,x11:Cc*(tc/Bc-1),y11:xc*(tc/
Bc-1)}}function ob(Oa){return"object"===typeof Oa&&"length"in Oa?Oa:Array.from(Oa)}function rb(Oa){this._context=Oa}function Xa(Oa){return new rb(Oa)}function Ha(Oa){return Oa[0]}function Ia(Oa){return Oa[1]}function Za(Oa,sb){function Lb(Hb){var yc,Cc=(Hb=ob(Hb)).length,xc,Jc=!1,Yc;null==tc&&(Mc=Bc(Yc=x.path()));for(yc=0;yc<=Cc;++yc)!(yc<Cc&&hc(xc=Hb[yc],yc,Hb))===Jc&&((Jc=!Jc)?Mc.lineStart():Mc.lineEnd()),Jc&&Mc.point(+Oa(xc,yc,Hb),+sb(xc,yc,Hb));if(Yc)return Mc=null,Yc+""||null}var hc=ea(!0),tc=
null,Bc=Xa,Mc=null;Oa="function"===typeof Oa?Oa:void 0===Oa?Ha:ea(Oa);sb="function"===typeof sb?sb:void 0===sb?Ia:ea(sb);Lb.x=function(Hb){return arguments.length?(Oa="function"===typeof Hb?Hb:ea(+Hb),Lb):Oa};Lb.y=function(Hb){return arguments.length?(sb="function"===typeof Hb?Hb:ea(+Hb),Lb):sb};Lb.defined=function(Hb){return arguments.length?(hc="function"===typeof Hb?Hb:ea(!!Hb),Lb):hc};Lb.curve=function(Hb){return arguments.length?(Bc=Hb,null!=tc&&(Mc=Bc(tc)),Lb):Bc};Lb.context=function(Hb){return arguments.length?
(null==Hb?tc=Mc=null:Mc=Bc(tc=Hb),Lb):tc};return Lb}function mb(Oa,sb,Lb){function hc(xc){var Jc,Yc,Uc=(xc=ob(xc)).length,od,qd=!1,Id,Ed=Array(Uc),Wd=Array(Uc);null==Hb&&(Cc=yc(Id=x.path()));for(Jc=0;Jc<=Uc;++Jc){if(!(Jc<Uc&&Mc(od=xc[Jc],Jc,xc))===qd)if(qd=!qd){var me=Jc;Cc.areaStart();Cc.lineStart()}else{Cc.lineEnd();Cc.lineStart();for(Yc=Jc-1;Yc>=me;--Yc)Cc.point(Ed[Yc],Wd[Yc]);Cc.lineEnd();Cc.areaEnd()}qd&&(Ed[Jc]=+Oa(od,Jc,xc),Wd[Jc]=+sb(od,Jc,xc),Cc.point(Bc?+Bc(od,Jc,xc):Ed[Jc],Lb?+Lb(od,Jc,
xc):Wd[Jc]))}if(Id)return Cc=null,Id+""||null}function tc(){return Za().defined(Mc).curve(yc).context(Hb)}var Bc=null,Mc=ea(!0),Hb=null,yc=Xa,Cc=null;Oa="function"===typeof Oa?Oa:void 0===Oa?Ha:ea(+Oa);sb="function"===typeof sb?sb:void 0===sb?ea(0):ea(+sb);Lb="function"===typeof Lb?Lb:void 0===Lb?Ia:ea(+Lb);hc.x=function(xc){return arguments.length?(Oa="function"===typeof xc?xc:ea(+xc),Bc=null,hc):Oa};hc.x0=function(xc){return arguments.length?(Oa="function"===typeof xc?xc:ea(+xc),hc):Oa};hc.x1=function(xc){return arguments.length?
(Bc=null==xc?null:"function"===typeof xc?xc:ea(+xc),hc):Bc};hc.y=function(xc){return arguments.length?(sb="function"===typeof xc?xc:ea(+xc),Lb=null,hc):sb};hc.y0=function(xc){return arguments.length?(sb="function"===typeof xc?xc:ea(+xc),hc):sb};hc.y1=function(xc){return arguments.length?(Lb=null==xc?null:"function"===typeof xc?xc:ea(+xc),hc):Lb};hc.lineX0=hc.lineY0=function(){return tc().x(Oa).y(sb)};hc.lineY1=function(){return tc().x(Oa).y(Lb)};hc.lineX1=function(){return tc().x(Bc).y(sb)};hc.defined=
function(xc){return arguments.length?(Mc="function"===typeof xc?xc:ea(!!xc),hc):Mc};hc.curve=function(xc){return arguments.length?(yc=xc,null!=Hb&&(Cc=yc(Hb)),hc):yc};hc.context=function(xc){return arguments.length?(null==xc?Hb=Cc=null:Cc=yc(Hb=xc),hc):Hb};return hc}function Da(Oa,sb){return sb<Oa?-1:sb>Oa?1:sb>=Oa?0:NaN}function Fa(Oa){return Oa}function hb(Oa){this._curve=Oa}function Ca(Oa){function sb(Lb){return new hb(Oa(Lb))}sb._curve=Oa;return sb}function bb(Oa){var sb=Oa.curve;Oa.angle=Oa.x;
delete Oa.x;Oa.radius=Oa.y;delete Oa.y;Oa.curve=function(Lb){return arguments.length?sb(Ca(Lb)):sb()._curve};return Oa}function La(){return bb(Za().curve(rc))}function ka(){var Oa=mb().curve(rc),sb=Oa.curve,Lb=Oa.lineX0,hc=Oa.lineX1,tc=Oa.lineY0,Bc=Oa.lineY1;Oa.angle=Oa.x;delete Oa.x;Oa.startAngle=Oa.x0;delete Oa.x0;Oa.endAngle=Oa.x1;delete Oa.x1;Oa.radius=Oa.y;delete Oa.y;Oa.innerRadius=Oa.y0;delete Oa.y0;Oa.outerRadius=Oa.y1;delete Oa.y1;Oa.lineStartAngle=function(){return bb(Lb())};delete Oa.lineX0;
Oa.lineEndAngle=function(){return bb(hc())};delete Oa.lineX1;Oa.lineInnerRadius=function(){return bb(tc())};delete Oa.lineY0;Oa.lineOuterRadius=function(){return bb(Bc())};delete Oa.lineY1;Oa.curve=function(Mc){return arguments.length?sb(Ca(Mc)):sb()._curve};return Oa}function Aa(Oa,sb){return[(sb=+sb)*Math.cos(Oa-=Math.PI/2),sb*Math.sin(Oa)]}function Ra(Oa){return Oa.source}function Ya(Oa){return Oa.target}function ib(Oa){function sb(){var Hb,yc=Pc.call(arguments),Cc=Lb.apply(this,yc),xc=hc.apply(this,
yc);Mc||(Mc=Hb=x.path());Oa(Mc,+tc.apply(this,(yc[0]=Cc,yc)),+Bc.apply(this,yc),+tc.apply(this,(yc[0]=xc,yc)),+Bc.apply(this,yc));if(Hb)return Mc=null,Hb+""||null}var Lb=Ra,hc=Ya,tc=Ha,Bc=Ia,Mc=null;sb.source=function(Hb){return arguments.length?(Lb=Hb,sb):Lb};sb.target=function(Hb){return arguments.length?(hc=Hb,sb):hc};sb.x=function(Hb){return arguments.length?(tc="function"===typeof Hb?Hb:ea(+Hb),sb):tc};sb.y=function(Hb){return arguments.length?(Bc="function"===typeof Hb?Hb:ea(+Hb),sb):Bc};sb.context=
function(Hb){return arguments.length?(Mc=null==Hb?null:Hb,sb):Mc};return sb}function db(Oa,sb,Lb,hc,tc){Oa.moveTo(sb,Lb);Oa.bezierCurveTo(sb=(sb+hc)/2,Lb,sb,tc,hc,tc)}function nb(Oa,sb,Lb,hc,tc){Oa.moveTo(sb,Lb);Oa.bezierCurveTo(sb,Lb=(Lb+tc)/2,hc,Lb,hc,tc)}function $a(Oa,sb,Lb,hc,tc){var Bc=Aa(sb,Lb);sb=Aa(sb,Lb=(Lb+tc)/2);Lb=Aa(hc,Lb);hc=Aa(hc,tc);Oa.moveTo(Bc[0],Bc[1]);Oa.bezierCurveTo(sb[0],sb[1],Lb[0],Lb[1],hc[0],hc[1])}function S(){}function z(Oa,sb,Lb){Oa._context.bezierCurveTo((2*Oa._x0+Oa._x1)/
3,(2*Oa._y0+Oa._y1)/3,(Oa._x0+2*Oa._x1)/3,(Oa._y0+2*Oa._y1)/3,(Oa._x0+4*Oa._x1+sb)/6,(Oa._y0+4*Oa._y1+Lb)/6)}function I(Oa){this._context=Oa}function Q(Oa){this._context=Oa}function J(Oa){this._context=Oa}function W(Oa,sb){this._basis=new I(Oa);this._beta=sb}function Y(Oa,sb,Lb){Oa._context.bezierCurveTo(Oa._x1+Oa._k*(Oa._x2-Oa._x0),Oa._y1+Oa._k*(Oa._y2-Oa._y0),Oa._x2+Oa._k*(Oa._x1-sb),Oa._y2+Oa._k*(Oa._y1-Lb),Oa._x2,Oa._y2)}function ma(Oa,sb){this._context=Oa;this._k=(1-sb)/6}function Qa(Oa,sb){this._context=
Oa;this._k=(1-sb)/6}function Ua(Oa,sb){this._context=Oa;this._k=(1-sb)/6}function U(Oa,sb,Lb){var hc=Oa._x1,tc=Oa._y1,Bc=Oa._x2,Mc=Oa._y2;if(1E-12<Oa._l01_a){var Hb=2*Oa._l01_2a+3*Oa._l01_a*Oa._l12_a+Oa._l12_2a,yc=3*Oa._l01_a*(Oa._l01_a+Oa._l12_a);hc=(hc*Hb-Oa._x0*Oa._l12_2a+Oa._x2*Oa._l01_2a)/yc;tc=(tc*Hb-Oa._y0*Oa._l12_2a+Oa._y2*Oa._l01_2a)/yc}1E-12<Oa._l23_a&&(Hb=2*Oa._l23_2a+3*Oa._l23_a*Oa._l12_a+Oa._l12_2a,yc=3*Oa._l23_a*(Oa._l23_a+Oa._l12_a),Bc=(Bc*Hb+Oa._x1*Oa._l23_2a-sb*Oa._l12_2a)/yc,Mc=
(Mc*Hb+Oa._y1*Oa._l23_2a-Lb*Oa._l12_2a)/yc);Oa._context.bezierCurveTo(hc,tc,Bc,Mc,Oa._x2,Oa._y2)}function sa(Oa,sb){this._context=Oa;this._alpha=sb}function ua(Oa,sb){this._context=Oa;this._alpha=sb}function la(Oa,sb){this._context=Oa;this._alpha=sb}function T(Oa){this._context=Oa}function v(Oa,sb,Lb){var hc=Oa._x1-Oa._x0;sb-=Oa._x1;var tc=(Oa._y1-Oa._y0)/(hc||0>sb&&-0);Oa=(Lb-Oa._y1)/(sb||0>hc&&-0);return((0>tc?-1:1)+(0>Oa?-1:1))*Math.min(Math.abs(tc),Math.abs(Oa),.5*Math.abs((tc*sb+Oa*hc)/(hc+sb)))||
0}function w(Oa,sb){var Lb=Oa._x1-Oa._x0;return Lb?(3*(Oa._y1-Oa._y0)/Lb-sb)/2:sb}function p(Oa,sb,Lb){var hc=Oa._x0,tc=Oa._x1,Bc=Oa._y1,Mc=(tc-hc)/3;Oa._context.bezierCurveTo(hc+Mc,Oa._y0+Mc*sb,tc-Mc,Bc-Mc*Lb,tc,Bc)}function r(Oa){this._context=Oa}function D(Oa){this._context=new E(Oa)}function E(Oa){this._context=Oa}function H(Oa){this._context=Oa}function C(Oa){var sb,Lb=Oa.length-1,hc=Array(Lb),tc=Array(Lb),Bc=Array(Lb);hc[0]=0;tc[0]=2;Bc[0]=Oa[0]+2*Oa[1];for(sb=1;sb<Lb-1;++sb)hc[sb]=1,tc[sb]=
4,Bc[sb]=4*Oa[sb]+2*Oa[sb+1];hc[Lb-1]=2;tc[Lb-1]=7;Bc[Lb-1]=8*Oa[Lb-1]+Oa[Lb];for(sb=1;sb<Lb;++sb){var Mc=hc[sb]/tc[sb-1];tc[sb]-=Mc;Bc[sb]-=Mc*Bc[sb-1]}hc[Lb-1]=Bc[Lb-1]/tc[Lb-1];for(sb=Lb-2;0<=sb;--sb)hc[sb]=(Bc[sb]-hc[sb+1])/tc[sb];tc[Lb-1]=(Oa[Lb]+hc[Lb-1])/2;for(sb=0;sb<Lb-1;++sb)tc[sb]=2*Oa[sb+1]-hc[sb+1];return[hc,tc]}function ha(Oa,sb){this._context=Oa;this._t=sb}function xa(Oa,sb){if(1<(Mc=Oa.length))for(var Lb=1,hc,tc,Bc=Oa[sb[0]],Mc,Hb=Bc.length;Lb<Mc;++Lb)for(tc=Bc,Bc=Oa[sb[Lb]],hc=0;hc<
Hb;++hc)Bc[hc][1]+=Bc[hc][0]=isNaN(tc[hc][1])?tc[hc][0]:tc[hc][1]}function oa(Oa){Oa=Oa.length;for(var sb=Array(Oa);0<=--Oa;)sb[Oa]=Oa;return sb}function Va(Oa,sb){return Oa[sb]}function Ja(Oa){const sb=[];sb.key=Oa;return sb}function ba(Oa){var sb=Oa.map(ta);return oa(Oa).sort(function(Lb,hc){return sb[Lb]-sb[hc]})}function ta(Oa){for(var sb=-1,Lb=0,hc=Oa.length,tc,Bc=-Infinity;++sb<hc;)(tc=+Oa[sb][1])>Bc&&(Bc=tc,Lb=sb);return Lb}function eb(Oa){var sb=Oa.map(xb);return oa(Oa).sort(function(Lb,hc){return sb[Lb]-
sb[hc]})}function xb(Oa){for(var sb=0,Lb=-1,hc=Oa.length,tc;++Lb<hc;)if(tc=+Oa[Lb][1])sb+=tc;return sb}var Kb=Math.abs,fc=Math.atan2,Ec=Math.cos,gd=Math.max,Dc=Math.min,Sc=Math.sin,Ta=Math.sqrt,nc=Math.PI,lc=nc/2,wc=2*nc,Pc=Array.prototype.slice;rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,
sb){Oa=+Oa;sb=+sb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Oa,sb):this._context.moveTo(Oa,sb);break;case 1:this._point=2;default:this._context.lineTo(Oa,sb)}}};var rc=Ca(Xa);hb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(Oa,sb){this._curve.point(sb*Math.sin(Oa),sb*-Math.cos(Oa))}};var Xc={draw:function(Oa,sb){sb=
Math.sqrt(sb/nc);Oa.moveTo(sb,0);Oa.arc(0,0,sb,0,wc)}},$c={draw:function(Oa,sb){sb=Math.sqrt(sb/5)/2;Oa.moveTo(-3*sb,-sb);Oa.lineTo(-sb,-sb);Oa.lineTo(-sb,-3*sb);Oa.lineTo(sb,-3*sb);Oa.lineTo(sb,-sb);Oa.lineTo(3*sb,-sb);Oa.lineTo(3*sb,sb);Oa.lineTo(sb,sb);Oa.lineTo(sb,3*sb);Oa.lineTo(-sb,3*sb);Oa.lineTo(-sb,sb);Oa.lineTo(-3*sb,sb);Oa.closePath()}},Nc=Math.sqrt(1/3),Dd=2*Nc,we={draw:function(Oa,sb){sb=Math.sqrt(sb/Dd);var Lb=sb*Nc;Oa.moveTo(0,-sb);Oa.lineTo(Lb,0);Oa.lineTo(0,sb);Oa.lineTo(-Lb,0);Oa.closePath()}},
ld=Math.sin(nc/10)/Math.sin(7*nc/10),sd=Math.sin(wc/10)*ld,ge=-Math.cos(wc/10)*ld;ld={draw:function(Oa,sb){sb=Math.sqrt(.8908130915292852*sb);var Lb=sd*sb,hc=ge*sb;Oa.moveTo(0,-sb);Oa.lineTo(Lb,hc);for(var tc=1;5>tc;++tc){var Bc=wc*tc/5,Mc=Math.cos(Bc);Bc=Math.sin(Bc);Oa.lineTo(Bc*sb,-Mc*sb);Oa.lineTo(Mc*Lb-Bc*hc,Bc*Lb+Mc*hc)}Oa.closePath()}};var Ma={draw:function(Oa,sb){sb=Math.sqrt(sb);var Lb=-sb/2;Oa.rect(Lb,Lb,sb,sb)}},vb=Math.sqrt(3),ac={draw:function(Oa,sb){sb=-Math.sqrt(sb/(3*vb));Oa.moveTo(0,
2*sb);Oa.lineTo(-vb*sb,-sb);Oa.lineTo(vb*sb,-sb);Oa.closePath()}},rd=Math.sqrt(3)/2,vd=1/Math.sqrt(12),de=3*(vd/2+1),oe={draw:function(Oa,sb){var Lb=Math.sqrt(sb/de);sb=Lb/2;var hc=Lb*vd;Lb=Lb*vd+Lb;var tc=-sb;Oa.moveTo(sb,hc);Oa.lineTo(sb,Lb);Oa.lineTo(tc,Lb);Oa.lineTo(-.5*sb-rd*hc,rd*sb+-.5*hc);Oa.lineTo(-.5*sb-rd*Lb,rd*sb+-.5*Lb);Oa.lineTo(-.5*tc-rd*Lb,rd*tc+-.5*Lb);Oa.lineTo(-.5*sb+rd*hc,-.5*hc-rd*sb);Oa.lineTo(-.5*sb+rd*Lb,-.5*Lb-rd*sb);Oa.lineTo(-.5*tc+rd*Lb,-.5*Lb-rd*tc);Oa.closePath()}},Z=
[Xc,$c,we,Ma,ld,ac,oe];I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:z(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,sb){Oa=+Oa;sb=+sb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Oa,
sb):this._context.moveTo(Oa,sb);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:z(this,Oa,sb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=sb}};Q.prototype={areaStart:S,areaEnd:S,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();
break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Oa,sb){Oa=+Oa;sb=+sb;switch(this._point){case 0:this._point=1;this._x2=Oa;this._y2=sb;break;case 1:this._point=2;this._x3=Oa;this._y3=sb;break;case 2:this._point=3;this._x4=Oa;this._y4=sb;this._context.moveTo((this._x0+
4*this._x1+Oa)/6,(this._y0+4*this._y1+sb)/6);break;default:z(this,Oa,sb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=sb}};J.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Oa,sb){Oa=+Oa;sb=+sb;switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;var Lb=(this._x0+4*this._x1+Oa)/6,hc=(this._y0+4*this._y1+sb)/6;this._line?this._context.lineTo(Lb,hc):this._context.moveTo(Lb,hc);break;case 3:this._point=4;default:z(this,Oa,sb)}this._x0=this._x1;this._x1=Oa;this._y0=this._y1;this._y1=sb}};W.prototype={lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Oa=this._x,sb=this._y,Lb=Oa.length-1;if(0<Lb)for(var hc=Oa[0],tc=sb[0],Bc=Oa[Lb]-hc,Mc=sb[Lb]-tc,Hb=-1,yc;++Hb<=Lb;)yc=Hb/Lb,this._basis.point(this._beta*
Oa[Hb]+(1-this._beta)*(hc+yc*Bc),this._beta*sb[Hb]+(1-this._beta)*(tc+yc*Mc));this._x=this._y=null;this._basis.lineEnd()},point:function(Oa,sb){this._x.push(+Oa);this._y.push(+sb)}};var za=function Lb(sb){function hc(tc){return 1===sb?new I(tc):new W(tc,sb)}hc.beta=function(tc){return Lb(+tc)};return hc}(.85);ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,
this._y2);break;case 3:Y(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(sb,Lb){sb=+sb;Lb=+Lb;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(sb,Lb):this._context.moveTo(sb,Lb);break;case 1:this._point=2;this._x1=sb;this._y1=Lb;break;case 2:this._point=3;default:Y(this,sb,Lb)}this._x0=this._x1;this._x1=this._x2;this._x2=sb;this._y0=this._y1;this._y1=this._y2;this._y2=Lb}};var gb=function hc(Lb){function tc(Bc){return new ma(Bc,
Lb)}tc.tension=function(Bc){return hc(+Bc)};return tc}(0);Qa.prototype={areaStart:S,areaEnd:S,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),
this.point(this._x5,this._y5)}},point:function(Lb,hc){Lb=+Lb;hc=+hc;switch(this._point){case 0:this._point=1;this._x3=Lb;this._y3=hc;break;case 1:this._point=2;this._context.moveTo(this._x4=Lb,this._y4=hc);break;case 2:this._point=3;this._x5=Lb;this._y5=hc;break;default:Y(this,Lb,hc)}this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=hc}};var Db=function tc(hc){function Bc(Mc){return new Qa(Mc,hc)}Bc.tension=function(Mc){return tc(+Mc)};return Bc}(0);Ua.prototype=
{areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(hc,tc){hc=+hc;tc=+tc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);
break;case 3:this._point=4;default:Y(this,hc,tc)}this._x0=this._x1;this._x1=this._x2;this._x2=hc;this._y0=this._y1;this._y1=this._y2;this._y2=tc}};var Zb=function Bc(tc){function Mc(Hb){return new Ua(Hb,tc)}Mc.tension=function(Hb){return Bc(+Hb)};return Mc}(0);sa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=
0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(tc,Bc){tc=+tc;Bc=+Bc;if(this._point){var Mc=this._x2-tc,Hb=this._y2-Bc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Mc*Mc+Hb*Hb,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(tc,Bc):this._context.moveTo(tc,Bc);break;case 1:this._point=
2;break;case 2:this._point=3;default:U(this,tc,Bc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=tc;this._y0=this._y1;this._y1=this._y2;this._y2=Bc}};var Gb=function Mc(Bc){function Hb(yc){return Bc?new sa(yc,Bc):new ma(yc,0)}Hb.alpha=function(yc){return Mc(+yc)};return Hb}(.5);ua.prototype={areaStart:S,areaEnd:S,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=
this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(Bc,Mc){Bc=+Bc;Mc=+Mc;if(this._point){var Hb=this._x2-Bc,yc=this._y2-
Mc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Hb*Hb+yc*yc,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=Bc;this._y3=Mc;break;case 1:this._point=2;this._context.moveTo(this._x4=Bc,this._y4=Mc);break;case 2:this._point=3;this._x5=Bc;this._y5=Mc;break;default:U(this,Bc,Mc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Bc;this._y0=this._y1;this._y1=this._y2;this._y2=Mc}};var sc=function Hb(Mc){function yc(Cc){return Mc?
new ua(Cc,Mc):new Qa(Cc,0)}yc.alpha=function(Cc){return Hb(+Cc)};return yc}(.5);la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Mc,Hb){Mc=+Mc;Hb=+Hb;if(this._point){var yc=
this._x2-Mc,Cc=this._y2-Hb;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(yc*yc+Cc*Cc,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:U(this,Mc,Hb)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Mc;this._y0=this._y1;this._y1=
this._y2;this._y2=Hb}};var kc=function yc(Hb){function Cc(xc){return Hb?new la(xc,Hb):new Ua(xc,0)}Cc.alpha=function(xc){return yc(+xc)};return Cc}(.5);T.prototype={areaStart:S,areaEnd:S,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Hb,yc){Hb=+Hb;yc=+yc;this._point?this._context.lineTo(Hb,yc):(this._point=1,this._context.moveTo(Hb,yc))}};r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=
this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:p(this,this._t0,w(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Hb,yc){var Cc=NaN;Hb=+Hb;yc=+yc;if(Hb!==this._x1||yc!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,yc):this._context.moveTo(Hb,yc);break;case 1:this._point=2;
break;case 2:this._point=3;p(this,w(this,Cc=v(this,Hb,yc)),Cc);break;default:p(this,this._t0,Cc=v(this,Hb,yc))}this._x0=this._x1;this._x1=Hb;this._y0=this._y1;this._y1=yc;this._t0=Cc}}};(D.prototype=Object.create(r.prototype)).point=function(Hb,yc){r.prototype.point.call(this,yc,Hb)};E.prototype={moveTo:function(Hb,yc){this._context.moveTo(yc,Hb)},closePath:function(){this._context.closePath()},lineTo:function(Hb,yc){this._context.lineTo(yc,Hb)},bezierCurveTo:function(Hb,yc,Cc,xc,Jc,Yc){this._context.bezierCurveTo(yc,
Hb,xc,Cc,Yc,Jc)}};H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[];this._y=[]},lineEnd:function(){var Hb=this._x,yc=this._y,Cc=Hb.length;if(Cc)if(this._line?this._context.lineTo(Hb[0],yc[0]):this._context.moveTo(Hb[0],yc[0]),2===Cc)this._context.lineTo(Hb[1],yc[1]);else for(var xc=C(Hb),Jc=C(yc),Yc=0,Uc=1;Uc<Cc;++Yc,++Uc)this._context.bezierCurveTo(xc[0][Yc],Jc[0][Yc],xc[1][Yc],Jc[1][Yc],Hb[Uc],yc[Uc]);(this._line||0!==this._line&&
1===Cc)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(Hb,yc){this._x.push(+Hb);this._y.push(+yc)}};ha.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},
point:function(Hb,yc){Hb=+Hb;yc=+yc;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Hb,yc):this._context.moveTo(Hb,yc);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,yc),this._context.lineTo(Hb,yc);else{var Cc=this._x*(1-this._t)+Hb*this._t;this._context.lineTo(Cc,this._y);this._context.lineTo(Cc,yc)}}this._x=Hb;this._y=yc}};n.arc=function(){function Hb(){var Id,Ed=+yc.apply(this,arguments),Wd=+Cc.apply(this,arguments),me=Yc.apply(this,arguments)-
lc,ye=Uc.apply(this,arguments)-lc,Ye=Kb(ye-me),Qe=ye>me;qd||(qd=Id=x.path());if(Wd<Ed){var Re=Wd;Wd=Ed;Ed=Re}if(1E-12<Wd)if(Ye>wc-1E-12)qd.moveTo(Wd*Ec(me),Wd*Sc(me)),qd.arc(0,0,Wd,me,ye,!Qe),1E-12<Ed&&(qd.moveTo(Ed*Ec(ye),Ed*Sc(ye)),qd.arc(0,0,Ed,ye,me,Qe));else{var Fd=me,ee=ye;Re=me;var ff=ye,Oe=Ye,Bf=Ye,Yd=od.apply(this,arguments)/2,Ae=1E-12<Yd&&(Jc?+Jc.apply(this,arguments):Ta(Ed*Ed+Wd*Wd)),cf=Dc(Kb(Wd-Ed)/2,+xc.apply(this,arguments)),re=cf,Ad=cf;if(1E-12<Ae){var Ld=Sa(Ae/Ed*Sc(Yd));Yd=Sa(Ae/
Wd*Sc(Yd));1E-12<(Oe-=2*Ld)?(Ld*=Qe?1:-1,Re+=Ld,ff-=Ld):(Oe=0,Re=ff=(me+ye)/2);1E-12<(Bf-=2*Yd)?(Yd*=Qe?1:-1,Fd+=Yd,ee-=Yd):(Bf=0,Fd=ee=(me+ye)/2)}me=Wd*Ec(Fd);ye=Wd*Sc(Fd);Ld=Ed*Ec(ff);Yd=Ed*Sc(ff);if(1E-12<cf){var ae=Wd*Ec(ee),Jf=Wd*Sc(ee),De=Ed*Ec(Re),Jd=Ed*Sc(Re);if(Ye=Ye<nc){var Se=De-me;Ye=Jd-ye;Ae=Ld-ae;var Ee=Yd-Jf,Ac=Ee*Se-Ae*Ye;1E-12>Ac*Ac?Se=void 0:(Ac=(Ae*(ye-Jf)-Ee*(me-ae))/Ac,Se=[me+Ac*Se,ye+Ac*Ye]);Ye=Se}Ye&&(re=me-Se[0],Ad=ye-Se[1],Ye=ae-Se[0],Ae=Jf-Se[1],re=(re*Ye+Ad*Ae)/(Ta(re*re+
Ad*Ad)*Ta(Ye*Ye+Ae*Ae)),Ad=1/Sc((1<re?0:-1>re?nc:Math.acos(re))/2),Se=Ta(Se[0]*Se[0]+Se[1]*Se[1]),re=Dc(cf,(Ed-Se)/(Ad-1)),Ad=Dc(cf,(Wd-Se)/(Ad+1)))}1E-12<Bf?1E-12<Ad?(Fd=cb(De,Jd,me,ye,Wd,Ad,Qe),ee=cb(ae,Jf,Ld,Yd,Wd,Ad,Qe),qd.moveTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),Ad<cf?qd.arc(Fd.cx,Fd.cy,Ad,fc(Fd.y01,Fd.x01),fc(ee.y01,ee.x01),!Qe):(qd.arc(Fd.cx,Fd.cy,Ad,fc(Fd.y01,Fd.x01),fc(Fd.y11,Fd.x11),!Qe),qd.arc(0,0,Wd,fc(Fd.cy+Fd.y11,Fd.cx+Fd.x11),fc(ee.cy+ee.y11,ee.cx+ee.x11),!Qe),qd.arc(ee.cx,ee.cy,Ad,fc(ee.y11,
ee.x11),fc(ee.y01,ee.x01),!Qe))):(qd.moveTo(me,ye),qd.arc(0,0,Wd,Fd,ee,!Qe)):qd.moveTo(me,ye);1E-12<Ed&&1E-12<Oe?1E-12<re?(Fd=cb(Ld,Yd,ae,Jf,Ed,-re,Qe),ee=cb(me,ye,De,Jd,Ed,-re,Qe),qd.lineTo(Fd.cx+Fd.x01,Fd.cy+Fd.y01),re<cf?qd.arc(Fd.cx,Fd.cy,re,fc(Fd.y01,Fd.x01),fc(ee.y01,ee.x01),!Qe):(qd.arc(Fd.cx,Fd.cy,re,fc(Fd.y01,Fd.x01),fc(Fd.y11,Fd.x11),!Qe),qd.arc(0,0,Ed,fc(Fd.cy+Fd.y11,Fd.cx+Fd.x11),fc(ee.cy+ee.y11,ee.cx+ee.x11),Qe),qd.arc(ee.cx,ee.cy,re,fc(ee.y11,ee.x11),fc(ee.y01,ee.x01),!Qe))):qd.arc(0,
0,Ed,ff,Re,Qe):qd.lineTo(Ld,Yd)}else qd.moveTo(0,0);qd.closePath();if(Id)return qd=null,Id+""||null}var yc=Wb,Cc=fb,xc=ea(0),Jc=null,Yc=ub,Uc=Ob,od=zb,qd=null;Hb.centroid=function(){var Id=(+yc.apply(this,arguments)+ +Cc.apply(this,arguments))/2,Ed=(+Yc.apply(this,arguments)+ +Uc.apply(this,arguments))/2-nc/2;return[Ec(Ed)*Id,Sc(Ed)*Id]};Hb.innerRadius=function(Id){return arguments.length?(yc="function"===typeof Id?Id:ea(+Id),Hb):yc};Hb.outerRadius=function(Id){return arguments.length?(Cc="function"===
typeof Id?Id:ea(+Id),Hb):Cc};Hb.cornerRadius=function(Id){return arguments.length?(xc="function"===typeof Id?Id:ea(+Id),Hb):xc};Hb.padRadius=function(Id){return arguments.length?(Jc=null==Id?null:"function"===typeof Id?Id:ea(+Id),Hb):Jc};Hb.startAngle=function(Id){return arguments.length?(Yc="function"===typeof Id?Id:ea(+Id),Hb):Yc};Hb.endAngle=function(Id){return arguments.length?(Uc="function"===typeof Id?Id:ea(+Id),Hb):Uc};Hb.padAngle=function(Id){return arguments.length?(od="function"===typeof Id?
Id:ea(+Id),Hb):od};Hb.context=function(Id){return arguments.length?(qd=null==Id?null:Id,Hb):qd};return Hb};n.area=mb;n.areaRadial=ka;n.curveBasis=function(Hb){return new I(Hb)};n.curveBasisClosed=function(Hb){return new Q(Hb)};n.curveBasisOpen=function(Hb){return new J(Hb)};n.curveBundle=za;n.curveCardinal=gb;n.curveCardinalClosed=Db;n.curveCardinalOpen=Zb;n.curveCatmullRom=Gb;n.curveCatmullRomClosed=sc;n.curveCatmullRomOpen=kc;n.curveLinear=Xa;n.curveLinearClosed=function(Hb){return new T(Hb)};n.curveMonotoneX=
function(Hb){return new r(Hb)};n.curveMonotoneY=function(Hb){return new D(Hb)};n.curveNatural=function(Hb){return new H(Hb)};n.curveStep=function(Hb){return new ha(Hb,.5)};n.curveStepAfter=function(Hb){return new ha(Hb,1)};n.curveStepBefore=function(Hb){return new ha(Hb,0)};n.line=Za;n.lineRadial=La;n.linkHorizontal=function(){return ib(db)};n.linkRadial=function(){var Hb=ib($a);Hb.angle=Hb.x;delete Hb.x;Hb.radius=Hb.y;delete Hb.y;return Hb};n.linkVertical=function(){return ib(nb)};n.pie=function(){function Hb(od){var qd,
Id=(od=ob(od)).length;var Ed=0;var Wd=Array(Id),me=Array(Id),ye=+Jc.apply(this,arguments);var Ye=Math.min(wc,Math.max(-wc,Yc.apply(this,arguments)-ye));var Qe=Math.min(Math.abs(Ye)/Id,Uc.apply(this,arguments)),Re=Qe*(0>Ye?-1:1),Fd;for(qd=0;qd<Id;++qd)0<(Fd=me[Wd[qd]=qd]=+yc(od[qd],qd,od))&&(Ed+=Fd);null!=Cc?Wd.sort(function(ff,Oe){return Cc(me[ff],me[Oe])}):null!=xc&&Wd.sort(function(ff,Oe){return xc(od[ff],od[Oe])});qd=0;for(Ye=Ed?(Ye-Id*Re)/Ed:0;qd<Id;++qd,ye=ee){Ed=Wd[qd];Fd=me[Ed];var ee=ye+(0<
Fd?Fd*Ye:0)+Re;me[Ed]={data:od[Ed],index:qd,value:Fd,startAngle:ye,endAngle:ee,padAngle:Qe}}return me}var yc=Fa,Cc=Da,xc=null,Jc=ea(0),Yc=ea(wc),Uc=ea(0);Hb.value=function(od){return arguments.length?(yc="function"===typeof od?od:ea(+od),Hb):yc};Hb.sortValues=function(od){return arguments.length?(Cc=od,xc=null,Hb):Cc};Hb.sort=function(od){return arguments.length?(xc=od,Cc=null,Hb):xc};Hb.startAngle=function(od){return arguments.length?(Jc="function"===typeof od?od:ea(+od),Hb):Jc};Hb.endAngle=function(od){return arguments.length?
(Yc="function"===typeof od?od:ea(+od),Hb):Yc};Hb.padAngle=function(od){return arguments.length?(Uc="function"===typeof od?od:ea(+od),Hb):Uc};return Hb};n.pointRadial=Aa;n.radialArea=ka;n.radialLine=La;n.stack=function(){function Hb(Yc){var Uc=Array.from(yc.apply(this,arguments),Ja),od=Uc.length,qd=-1;for(const Ed of Yc){var Id=0;for(++qd;Id<od;++Id)(Uc[Id][qd]=[0,+Jc(Ed,Uc[Id].key,qd,Yc)]).data=Ed}Id=0;for(qd=ob(Cc(Uc));Id<od;++Id)Uc[qd[Id]].index=Id;xc(Uc,qd);return Uc}var yc=ea([]),Cc=oa,xc=xa,
Jc=Va;Hb.keys=function(Yc){return arguments.length?(yc="function"===typeof Yc?Yc:ea(Array.from(Yc)),Hb):yc};Hb.value=function(Yc){return arguments.length?(Jc="function"===typeof Yc?Yc:ea(+Yc),Hb):Jc};Hb.order=function(Yc){return arguments.length?(Cc=null==Yc?oa:"function"===typeof Yc?Yc:ea(Array.from(Yc)),Hb):Cc};Hb.offset=function(Yc){return arguments.length?(xc=null==Yc?xa:Yc,Hb):xc};return Hb};n.stackOffsetDiverging=function(Hb,yc){if(0<(qd=Hb.length))for(var Cc,xc=0,Jc,Yc,Uc,od,qd,Id=Hb[yc[0]].length;xc<
Id;++xc)for(Cc=Uc=od=0;Cc<qd;++Cc)0<(Yc=(Jc=Hb[yc[Cc]][xc])[1]-Jc[0])?(Jc[0]=Uc,Jc[1]=Uc+=Yc):0>Yc?(Jc[1]=od,Jc[0]=od+=Yc):(Jc[0]=0,Jc[1]=Yc)};n.stackOffsetExpand=function(Hb,yc){if(0<(xc=Hb.length)){for(var Cc,xc,Jc=0,Yc=Hb[0].length,Uc;Jc<Yc;++Jc){for(Uc=Cc=0;Cc<xc;++Cc)Uc+=Hb[Cc][Jc][1]||0;if(Uc)for(Cc=0;Cc<xc;++Cc)Hb[Cc][Jc][1]/=Uc}xa(Hb,yc)}};n.stackOffsetNone=xa;n.stackOffsetSilhouette=function(Hb,yc){if(0<(Jc=Hb.length)){for(var Cc=0,xc=Hb[yc[0]],Jc,Yc=xc.length;Cc<Yc;++Cc){for(var Uc=0,od=
0;Uc<Jc;++Uc)od+=Hb[Uc][Cc][1]||0;xc[Cc][1]+=xc[Cc][0]=-od/2}xa(Hb,yc)}};n.stackOffsetWiggle=function(Hb,yc){if(0<(Uc=Hb.length)&&0<(Yc=(Jc=Hb[yc[0]]).length)){for(var Cc=0,xc=1,Jc,Yc,Uc;xc<Yc;++xc){for(var od=0,qd=0,Id=0;od<Uc;++od){var Ed=Hb[yc[od]],Wd=Ed[xc][1]||0;Ed=(Wd-(Ed[xc-1][1]||0))/2;for(var me=0;me<od;++me){var ye=Hb[yc[me]];Ed+=(ye[xc][1]||0)-(ye[xc-1][1]||0)}qd+=Wd;Id+=Ed*Wd}Jc[xc-1][1]+=Jc[xc-1][0]=Cc;qd&&(Cc-=Id/qd)}Jc[xc-1][1]+=Jc[xc-1][0]=Cc;xa(Hb,yc)}};n.stackOrderAppearance=ba;
n.stackOrderAscending=eb;n.stackOrderDescending=function(Hb){return eb(Hb).reverse()};n.stackOrderInsideOut=function(Hb){var yc=Hb.length,Cc=Hb.map(xb),xc=ba(Hb),Jc=0,Yc=0,Uc=[],od=[];for(Hb=0;Hb<yc;++Hb){var qd=xc[Hb];Jc<Yc?(Jc+=Cc[qd],Uc.push(qd)):(Yc+=Cc[qd],od.push(qd))}return od.reverse().concat(Uc)};n.stackOrderNone=oa;n.stackOrderReverse=function(Hb){return oa(Hb).reverse()};n.symbol=function(Hb,yc){function Cc(){var Jc;xc||(xc=Jc=x.path());Hb.apply(this,arguments).draw(xc,+yc.apply(this,arguments));
if(Jc)return xc=null,Jc+""||null}var xc=null;Hb="function"===typeof Hb?Hb:ea(Hb||Xc);yc="function"===typeof yc?yc:ea(void 0===yc?64:+yc);Cc.type=function(Jc){return arguments.length?(Hb="function"===typeof Jc?Jc:ea(Jc),Cc):Hb};Cc.size=function(Jc){return arguments.length?(yc="function"===typeof Jc?Jc:ea(+Jc),Cc):yc};Cc.context=function(Jc){return arguments.length?(xc=null==Jc?null:Jc,Cc):xc};return Cc};n.symbolCircle=Xc;n.symbolCross=$c;n.symbolDiamond=we;n.symbolSquare=Ma;n.symbolStar=ld;n.symbolTriangle=
ac;n.symbolWye=oe;n.symbols=Z;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[34]=function($b,Rb,Ic,Nb){!function(n,x){"object"==typeof Nb&&"undefined"!=typeof Ic?x(Nb):"function"==typeof define&&define.amd?define(["exports"],x):x((n="undefined"!=typeof globalThis?globalThis:n||self).vega={})}(this,function(n){function x(ea,Sa){if("undefined"!=typeof document&&document.createElement){const Wb=document.createElement("canvas");if(Wb&&Wb.getContext)return Wb.width=ea,Wb.height=Sa,Wb}return null}n.canvas=x;n.domCanvas=x;n.image=()=>"undefined"!=typeof Image?Image:
null;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[35]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(r,D,E){r.prototype=D.prototype=E;E.constructor=r}function ea(r,D){r=Object.create(r.prototype);for(var E in D)r[E]=D[E];return r}function Sa(){}function Wb(){return this.rgb().formatHex()}function fb(){return this.rgb().formatRgb()}function ub(r){var D,E;r=(r+"").trim().toLowerCase();
return(D=Q.exec(r))?(E=D[1].length,D=parseInt(D[1],16),6===E?Ob(D):3===E?new rb(D>>8&15|D>>4&240,D>>4&15|D&240,(D&15)<<4|D&15,1):8===E?zb(D>>24&255,D>>16&255,D>>8&255,(D&255)/255):4===E?zb(D>>12&15|D>>8&240,D>>8&15|D>>4&240,D>>4&15|D&240,((D&15)<<4|D&15)/255):null):(D=J.exec(r))?new rb(D[1],D[2],D[3],1):(D=W.exec(r))?new rb(255*D[1]/100,255*D[2]/100,255*D[3]/100,1):(D=Y.exec(r))?zb(D[1],D[2],D[3],D[4]):(D=ma.exec(r))?zb(255*D[1]/100,255*D[2]/100,255*D[3]/100,D[4]):(D=Qa.exec(r))?Za(D[1],D[2]/100,
D[3]/100,1):(D=Ua.exec(r))?Za(D[1],D[2]/100,D[3]/100,D[4]):U.hasOwnProperty(r)?Ob(U[r]):"transparent"===r?new rb(NaN,NaN,NaN,0):null}function Ob(r){return new rb(r>>16&255,r>>8&255,r&255,1)}function zb(r,D,E,H){0>=H&&(r=D=E=NaN);return new rb(r,D,E,H)}function cb(r){r instanceof Sa||(r=ub(r));if(!r)return new rb;r=r.rgb();return new rb(r.r,r.g,r.b,r.opacity)}function ob(r,D,E,H){return 1===arguments.length?cb(r):new rb(r,D,E,null==H?1:H)}function rb(r,D,E,H){this.r=+r;this.g=+D;this.b=+E;this.opacity=
+H}function Xa(){return"#"+Ia(this.r)+Ia(this.g)+Ia(this.b)}function Ha(){var r=this.opacity;r=isNaN(r)?1:Math.max(0,Math.min(1,r));return(1===r?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===r?")":", "+r+")")}function Ia(r){r=Math.max(0,Math.min(255,Math.round(r)||0));return(16>r?"0":"")+r.toString(16)}function Za(r,D,E,H){0>=H?r=D=E=NaN:0>=E||1<=E?r=D=NaN:0>=D&&(r=NaN);
return new Fa(r,D,E,H)}function mb(r){if(r instanceof Fa)return new Fa(r.h,r.s,r.l,r.opacity);r instanceof Sa||(r=ub(r));if(!r)return new Fa;if(r instanceof Fa)return r;r=r.rgb();var D=r.r/255,E=r.g/255,H=r.b/255,C=Math.min(D,E,H),ha=Math.max(D,E,H),xa=NaN,oa=ha-C,Va=(ha+C)/2;oa?(xa=D===ha?(E-H)/oa+6*(E<H):E===ha?(H-D)/oa+2:(D-E)/oa+4,oa/=.5>Va?ha+C:2-ha-C,xa*=60):oa=0<Va&&1>Va?0:xa;return new Fa(xa,oa,Va,r.opacity)}function Da(r,D,E,H){return 1===arguments.length?mb(r):new Fa(r,D,E,null==H?1:H)}
function Fa(r,D,E,H){this.h=+r;this.s=+D;this.l=+E;this.opacity=+H}function hb(r,D,E){return 255*(60>r?D+(E-D)*r/60:180>r?E:240>r?D+(E-D)*(240-r)/60:D)}function Ca(r){if(r instanceof La)return new La(r.l,r.a,r.b,r.opacity);if(r instanceof nb)return $a(r);r instanceof rb||(r=cb(r));var D=Ya(r.r),E=Ya(r.g),H=Ya(r.b),C=ka(.2225045*D+.7168786*E+.0606169*H);if(D===E&&E===H)var ha=D=C;else ha=ka((.4360747*D+.3850649*E+.1430804*H)/.96422),D=ka((.0139322*D+.0971045*E+.7141733*H)/.82521);return new La(116*
C-16,500*(ha-C),200*(C-D),r.opacity)}function bb(r,D,E,H){return 1===arguments.length?Ca(r):new La(r,D,E,null==H?1:H)}function La(r,D,E,H){this.l=+r;this.a=+D;this.b=+E;this.opacity=+H}function ka(r){return r>w?Math.pow(r,1/3):r/v+la}function Aa(r){return r>T?r*r*r:v*(r-la)}function Ra(r){return 255*(.0031308>=r?12.92*r:1.055*Math.pow(r,1/2.4)-.055)}function Ya(r){return.04045>=(r/=255)?r/12.92:Math.pow((r+.055)/1.055,2.4)}function ib(r){if(r instanceof nb)return new nb(r.h,r.c,r.l,r.opacity);r instanceof
La||(r=Ca(r));if(0===r.a&&0===r.b)return new nb(NaN,0<r.l&&100>r.l?0:NaN,r.l,r.opacity);var D=Math.atan2(r.b,r.a)*ua;return new nb(0>D?D+360:D,Math.sqrt(r.a*r.a+r.b*r.b),r.l,r.opacity)}function db(r,D,E,H){return 1===arguments.length?ib(r):new nb(r,D,E,null==H?1:H)}function nb(r,D,E,H){this.h=+r;this.c=+D;this.l=+E;this.opacity=+H}function $a(r){if(isNaN(r.h))return new La(r.l,0,0,r.opacity);var D=r.h*sa;return new La(r.l,Math.cos(D)*r.c,Math.sin(D)*r.c,r.opacity)}function S(r,D,E,H){if(1===arguments.length){var C=
r;if(C instanceof z)C=new z(C.h,C.s,C.l,C.opacity);else{C instanceof rb||(C=cb(C));var ha=C.g/255,xa=C.b/255,oa=(p*xa+C.r/255*-1.7884503806-3.5172982438*ha)/(p+-1.7884503806-3.5172982438);xa-=oa;var Va=(1.97294*(ha-oa)- -.29227*xa)/-.90649;xa=(ha=Math.sqrt(Va*Va+xa*xa)/(1.97294*oa*(1-oa)))?Math.atan2(Va,xa)*ua-120:NaN;C=new z(0>xa?xa+360:xa,ha,oa,C.opacity)}}else C=new z(r,D,E,null==H?1:H);return C}function z(r,D,E,H){this.h=+r;this.s=+D;this.l=+E;this.opacity=+H}var I=1/.7,Q=/^#([0-9a-f]{3,8})$/,
J=/^rgb\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*\)$/,W=/^rgb\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,Y=/^rgba\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,ma=/^rgba\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,Qa=/^hsl\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*\)$/,
Ua=/^hsla\(\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)%\s*,\s*([+-]?\d*\.?\d+(?:[eE][+-]?\d+)?)\s*\)$/,U={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,
crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};x(Sa,ub,{copy:function(r){return Object.assign(new this.constructor,this,r)},displayable:function(){return this.rgb().displayable()},hex:Wb,formatHex:Wb,formatHsl:function(){return mb(this).formatHsl()},
formatRgb:fb,toString:fb});x(rb,ob,ea(Sa,{brighter:function(r){r=null==r?I:Math.pow(I,r);return new rb(this.r*r,this.g*r,this.b*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new rb(this.r*r,this.g*r,this.b*r,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:Xa,formatHex:Xa,formatRgb:Ha,toString:Ha}));x(Fa,Da,ea(Sa,{brighter:function(r){r=
null==r?I:Math.pow(I,r);return new Fa(this.h,this.s,this.l*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new Fa(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=this.h%360+360*(0>this.h),D=isNaN(r)||isNaN(this.s)?0:this.s,E=this.l;D=E+(.5>E?E:1-E)*D;E=2*E-D;return new rb(hb(240<=r?r-240:r+120,E,D),hb(r,E,D),hb(120>r?r+240:r-120,E,D),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},
formatHsl:function(){var r=this.opacity;r=isNaN(r)?1:Math.max(0,Math.min(1,r));return(1===r?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===r?")":", "+r+")")}}));const sa=Math.PI/180,ua=180/Math.PI,la=4/29,T=6/29,v=3*T*T,w=T*T*T;x(La,bb,ea(Sa,{brighter:function(r){return new La(this.l+18*(null==r?1:r),this.a,this.b,this.opacity)},darker:function(r){return new La(this.l-18*(null==r?1:r),this.a,this.b,this.opacity)},rgb:function(){var r=(this.l+16)/116,D=isNaN(this.a)?
r:r+this.a/500,E=isNaN(this.b)?r:r-this.b/200;D=.96422*Aa(D);r=1*Aa(r);E=.82521*Aa(E);return new rb(Ra(3.1338561*D-1.6168667*r-.4906146*E),Ra(-.9787684*D+1.9161415*r+.033454*E),Ra(.0719453*D-.2289914*r+1.4052427*E),this.opacity)}}));x(nb,db,ea(Sa,{brighter:function(r){return new nb(this.h,this.c,this.l+18*(null==r?1:r),this.opacity)},darker:function(r){return new nb(this.h,this.c,this.l-18*(null==r?1:r),this.opacity)},rgb:function(){return $a(this).rgb()}}));var p=1.78277*-.29227-.1347134789;x(z,
S,ea(Sa,{brighter:function(r){r=null==r?I:Math.pow(I,r);return new z(this.h,this.s,this.l*r,this.opacity)},darker:function(r){r=null==r?.7:Math.pow(.7,r);return new z(this.h,this.s,this.l*r,this.opacity)},rgb:function(){var r=isNaN(this.h)?0:(this.h+120)*sa,D=+this.l,E=isNaN(this.s)?0:this.s*D*(1-D),H=Math.cos(r);r=Math.sin(r);return new rb(255*(D+E*(-.14861*H+1.78277*r)),255*(D+E*(-.29227*H+-.90649*r)),255*(D+1.97294*E*H),this.opacity)}}));n.color=ub;n.cubehelix=S;n.gray=function(r,D){return new La(r,
0,0,null==D?1:D)};n.hcl=db;n.hsl=Da;n.lab=bb;n.lch=function(r,D,E,H){return 1===arguments.length?ib(r):new nb(E,D,r,null==H?1:H)};n.rgb=ob;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[36]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(35)):"function"===typeof define&&define.amd?define(["exports","d3-color"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ea(T,v,w,p,r){var D=T*T,E=D*T;return((1-3*T+3*D-E)*v+(4-6*D+3*E)*w+(1+3*T+3*D-3*E)*p+E*r)/6}function Sa(T){var v=T.length-1;return function(w){var p=0>=w?w=0:1<=w?(w=1,v-1):Math.floor(w*v),r=T[p],D=T[p+1];return ea((w-p/v)*v,0<p?T[p-1]:2*r-D,r,D,p<v-
1?T[p+2]:2*D-r)}}function Wb(T){var v=T.length;return function(w){var p=Math.floor((0>(w%=1)?++w:w)*v);return ea((w-p/v)*v,T[(p+v-1)%v],T[p%v],T[(p+1)%v],T[(p+2)%v])}}function fb(T,v){return function(w){return T+w*v}}function ub(T,v,w){return T=Math.pow(T,w),v=Math.pow(v,w)-T,w=1/w,function(p){return Math.pow(T+p*v,w)}}function Ob(T,v){var w=v-T;return w?fb(T,180<w||-180>w?w-360*Math.round(w/360):w):ib(isNaN(T)?v:T)}function zb(T){return 1===(T=+T)?cb:function(v,w){return w-v?ub(v,w,T):ib(isNaN(v)?
w:v)}}function cb(T,v){var w=v-T;return w?fb(T,w):ib(isNaN(T)?v:T)}function ob(T){return function(v){var w=v.length,p=Array(w),r=Array(w),D=Array(w),E;for(E=0;E<w;++E){var H=x.rgb(v[E]);p[E]=H.r||0;r[E]=H.g||0;D[E]=H.b||0}p=T(p);r=T(r);D=T(D);H.opacity=1;return function(C){H.r=p(C);H.g=r(C);H.b=D(C);return H+""}}}function rb(T,v){v||(v=[]);var w=T?Math.min(v.length,T.length):0,p=v.slice(),r;return function(D){for(r=0;r<w;++r)p[r]=T[r]*(1-D)+v[r]*D;return p}}function Xa(T){return ArrayBuffer.isView(T)&&
!(T instanceof DataView)}function Ha(T,v){var w=v?v.length:0,p=T?Math.min(w,T.length):0,r=Array(p),D=Array(w),E;for(E=0;E<p;++E)r[E]=Ca(T[E],v[E]);for(;E<w;++E)D[E]=v[E];return function(H){for(E=0;E<p;++E)D[E]=r[E](H);return D}}function Ia(T,v){var w=new Date;return T=+T,v=+v,function(p){return w.setTime(T*(1-p)+v*p),w}}function Za(T,v){return T=+T,v=+v,function(w){return T*(1-w)+v*w}}function mb(T,v){var w={},p={},r;if(null===T||"object"!==typeof T)T={};if(null===v||"object"!==typeof v)v={};for(r in v)r in
T?w[r]=Ca(T[r],v[r]):p[r]=v[r];return function(D){for(r in w)p[r]=w[r](D);return p}}function Da(T){return function(){return T}}function Fa(T){return function(v){return T(v)+""}}function hb(T,v){var w=S.lastIndex=z.lastIndex=0,p,r,D,E=-1,H=[],C=[];T+="";for(v+="";(p=S.exec(T))&&(r=z.exec(v));)(D=r.index)>w&&(D=v.slice(w,D),H[E]?H[E]+=D:H[++E]=D),(p=p[0])===(r=r[0])?H[E]?H[E]+=r:H[++E]=r:(H[++E]=null,C.push({i:E,x:Za(p,r)})),w=z.lastIndex;w<v.length&&(D=v.slice(w),H[E]?H[E]+=D:H[++E]=D);return 2>H.length?
C[0]?Fa(C[0].x):Da(v):(v=C.length,function(ha){for(var xa=0,oa;xa<v;++xa)H[(oa=C[xa]).i]=oa.x(ha);return H.join("")})}function Ca(T,v){var w=typeof v,p;return null==v||"boolean"===w?ib(v):("number"===w?Za:"string"===w?(p=x.color(v))?(v=p,db):hb:v instanceof x.color?db:v instanceof Date?Ia:Xa(v)?rb:Array.isArray(v)?Ha:"function"!==typeof v.valueOf&&"function"!==typeof v.toString||isNaN(v)?mb:Za)(T,v)}function bb(T,v,w,p,r,D){var E,H,C;if(E=Math.sqrt(T*T+v*v))T/=E,v/=E;if(C=T*w+v*p)w-=T*C,p-=v*C;if(H=
Math.sqrt(w*w+p*p))w/=H,p/=H,C/=H;T*p<v*w&&(T=-T,v=-v,C=-C,E=-E);return{translateX:r,translateY:D,rotate:Math.atan2(v,T)*I,skewX:Math.atan(C)*I,scaleX:E,scaleY:H}}function La(T,v,w,p){function r(ha){return ha.length?ha.pop()+" ":""}function D(ha,xa,oa,Va,Ja,ba){ha!==oa||xa!==Va?(Ja=Ja.push("translate(",null,v,null,w),ba.push({i:Ja-4,x:Za(ha,oa)},{i:Ja-2,x:Za(xa,Va)})):(oa||Va)&&Ja.push("translate("+oa+v+Va+w)}function E(ha,xa,oa,Va){ha!==xa?(180<ha-xa?xa+=360:180<xa-ha&&(ha+=360),Va.push({i:oa.push(r(oa)+
"rotate(",null,p)-2,x:Za(ha,xa)})):xa&&oa.push(r(oa)+"rotate("+xa+p)}function H(ha,xa,oa,Va){ha!==xa?Va.push({i:oa.push(r(oa)+"skewX(",null,p)-2,x:Za(ha,xa)}):xa&&oa.push(r(oa)+"skewX("+xa+p)}function C(ha,xa,oa,Va,Ja,ba){ha!==oa||xa!==Va?(Ja=Ja.push(r(Ja)+"scale(",null,",",null,")"),ba.push({i:Ja-4,x:Za(ha,oa)},{i:Ja-2,x:Za(xa,Va)})):1===oa&&1===Va||Ja.push(r(Ja)+"scale("+oa+","+Va+")")}return function(ha,xa){var oa=[],Va=[];ha=T(ha);xa=T(xa);D(ha.translateX,ha.translateY,xa.translateX,xa.translateY,
oa,Va);E(ha.rotate,xa.rotate,oa,Va);H(ha.skewX,xa.skewX,oa,Va);C(ha.scaleX,ha.scaleY,xa.scaleX,xa.scaleY,oa,Va);ha=xa=null;return function(Ja){for(var ba=-1,ta=Va.length,eb;++ba<ta;)oa[(eb=Va[ba]).i]=eb.x(Ja);return oa.join("")}}}function ka(T){return((T=Math.exp(T))+1/T)/2}function Aa(T){return function(v,w){var p=T((v=x.hsl(v)).h,(w=x.hsl(w)).h),r=cb(v.s,w.s),D=cb(v.l,w.l),E=cb(v.opacity,w.opacity);return function(H){v.h=p(H);v.s=r(H);v.l=D(H);v.opacity=E(H);return v+""}}}function Ra(T){return function(v,
w){var p=T((v=x.hcl(v)).h,(w=x.hcl(w)).h),r=cb(v.c,w.c),D=cb(v.l,w.l),E=cb(v.opacity,w.opacity);return function(H){v.h=p(H);v.c=r(H);v.l=D(H);v.opacity=E(H);return v+""}}}function Ya(T){return function p(w){function r(D,E){var H=T((D=x.cubehelix(D)).h,(E=x.cubehelix(E)).h),C=cb(D.s,E.s),ha=cb(D.l,E.l),xa=cb(D.opacity,E.opacity);return function(oa){D.h=H(oa);D.s=C(oa);D.l=ha(Math.pow(oa,w));D.opacity=xa(oa);return D+""}}w=+w;r.gamma=p;return r}(1)}var ib=T=>()=>T,db=function w(v){function p(D,E){var H=
r((D=x.rgb(D)).r,(E=x.rgb(E)).r),C=r(D.g,E.g),ha=r(D.b,E.b),xa=cb(D.opacity,E.opacity);return function(oa){D.r=H(oa);D.g=C(oa);D.b=ha(oa);D.opacity=xa(oa);return D+""}}var r=zb(v);p.gamma=w;return p}(1),nb=ob(Sa),$a=ob(Wb),S=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z=new RegExp(S.source,"g"),I=180/Math.PI,Q={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},J,W=La(function(v){v=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(v+"");return v.isIdentity?Q:bb(v.a,v.b,v.c,
v.d,v.e,v.f)},"px, ","px)","deg)"),Y=La(function(v){if(null==v)return Q;J||(J=document.createElementNS("http://www.w3.org/2000/svg","g"));J.setAttribute("transform",v);if(!(v=J.transform.baseVal.consolidate()))return Q;v=v.matrix;return bb(v.a,v.b,v.c,v.d,v.e,v.f)},", ",")",")"),ma=function D(w,p,r){function E(H,C){var ha=H[0],xa=H[1],oa=H[2];H=C[2];var Va=C[0]-ha,Ja=C[1]-xa,ba=Va*Va+Ja*Ja;if(1E-12>ba){var ta=Math.log(H/oa)/w;H=function(Kb){return[ha+Kb*Va,xa+Kb*Ja,oa*Math.exp(w*Kb*ta)]}}else{var eb=
Math.sqrt(ba);C=(H*H-oa*oa+r*ba)/(2*oa*p*eb);H=(H*H-oa*oa-r*ba)/(2*H*p*eb);var xb=Math.log(Math.sqrt(C*C+1)-C);ta=(Math.log(Math.sqrt(H*H+1)-H)-xb)/w;H=function(Kb){Kb*=ta;var fc=ka(xb),Ec=w*Kb+xb;var gd=((Ec=Math.exp(2*Ec))-1)/(Ec+1);var Dc=xb;Ec=((Dc=Math.exp(Dc))-1/Dc)/2;gd=oa/(p*eb)*(fc*gd-Ec);return[ha+gd*Va,xa+gd*Ja,oa*fc/ka(w*Kb+xb)]}}H.duration=1E3*ta*w/Math.SQRT2;return H}E.rho=function(H){H=Math.max(.001,+H);var C=H*H;return D(H,C,C*C)};return E}(Math.SQRT2,2,4),Qa=Aa(Ob),Ua=Aa(cb),U=Ra(Ob),
sa=Ra(cb),ua=Ya(Ob),la=Ya(cb);n.interpolate=Ca;n.interpolateArray=function(w,p){return(Xa(p)?rb:Ha)(w,p)};n.interpolateBasis=Sa;n.interpolateBasisClosed=Wb;n.interpolateCubehelix=ua;n.interpolateCubehelixLong=la;n.interpolateDate=Ia;n.interpolateDiscrete=function(w){var p=w.length;return function(r){return w[Math.max(0,Math.min(p-1,Math.floor(r*p)))]}};n.interpolateHcl=U;n.interpolateHclLong=sa;n.interpolateHsl=Qa;n.interpolateHslLong=Ua;n.interpolateHue=function(w,p){var r=Ob(+w,+p);return function(D){D=
r(D);return D-360*Math.floor(D/360)}};n.interpolateLab=function(w,p){var r=cb((w=x.lab(w)).l,(p=x.lab(p)).l),D=cb(w.a,p.a),E=cb(w.b,p.b),H=cb(w.opacity,p.opacity);return function(C){w.l=r(C);w.a=D(C);w.b=E(C);w.opacity=H(C);return w+""}};n.interpolateNumber=Za;n.interpolateNumberArray=rb;n.interpolateObject=mb;n.interpolateRgb=db;n.interpolateRgbBasis=nb;n.interpolateRgbBasisClosed=$a;n.interpolateRound=function(w,p){return w=+w,p=+p,function(r){return Math.round(w*(1-r)+p*r)}};n.interpolateString=
hb;n.interpolateTransformCss=W;n.interpolateTransformSvg=Y;n.interpolateZoom=ma;n.piecewise=function(w,p){void 0===p&&(p=w,w=Ca);for(var r=0,D=p.length-1,E=p[0],H=Array(0>D?0:D);r<D;)H[r]=w(E,E=p[++r]);return function(C){var ha=Math.max(0,Math.min(D-1,Math.floor(C*=D)));return H[ha](C-ha)}};n.quantize=function(w,p){for(var r=Array(p),D=0;D<p;++D)r[D]=w(D/(p-1));return r};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[37]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(18),Rb(36),Rb(19),Rb(20),Rb(22)):"function"===typeof define&&define.amd?define("exports d3-array d3-interpolate d3-format d3-time d3-time-format".split(" "),x):(n=n||self,x(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3,n.d3))})(this,function(n,x,ea,Sa,Wb,fb){function ub(Ta,nc){switch(arguments.length){case 0:break;case 1:this.range(Ta);break;default:this.range(nc).domain(Ta)}return this}function Ob(Ta,
nc){switch(arguments.length){case 0:break;case 1:"function"===typeof Ta?this.interpolator(Ta):this.range(Ta);break;default:this.domain(Ta),"function"===typeof nc?this.interpolator(nc):this.range(nc)}return this}function zb(){function Ta(rc){var Xc=rc+"",$c=nc.get(Xc);if(!$c){if(Pc!==fc)return Pc;nc.set(Xc,$c=lc.push(rc))}return wc[($c-1)%wc.length]}var nc=new Map,lc=[],wc=[],Pc=fc;Ta.domain=function(rc){if(!arguments.length)return lc.slice();lc=[];nc=new Map;for(const Xc of rc){const $c=Xc+"";nc.has($c)||
nc.set($c,lc.push(Xc))}return Ta};Ta.range=function(rc){return arguments.length?(wc=Array.from(rc),Ta):wc.slice()};Ta.unknown=function(rc){return arguments.length?(Pc=rc,Ta):Pc};Ta.copy=function(){return zb(lc,wc).unknown(Pc)};ub.apply(Ta,arguments);return Ta}function cb(){function Ta(){var sd=lc().length,ge=rc<Pc,Ma=ge?rc:Pc,vb=ge?Pc:rc;Xc=(vb-Ma)/Math.max(1,sd-Dd+2*we);Nc&&(Xc=Math.floor(Xc));Ma+=(vb-Ma-Xc*(sd-Dd))*ld;$c=Xc*(1-Dd);Nc&&(Ma=Math.round(Ma),$c=Math.round($c));sd=x.range(sd).map(function(ac){return Ma+
Xc*ac});return wc(ge?sd.reverse():sd)}var nc=zb().unknown(void 0),lc=nc.domain,wc=nc.range,Pc=0,rc=1,Xc,$c,Nc=!1,Dd=0,we=0,ld=.5;delete nc.unknown;nc.domain=function(sd){return arguments.length?(lc(sd),Ta()):lc()};nc.range=function(sd){return arguments.length?([Pc,rc]=sd,Pc=+Pc,rc=+rc,Ta()):[Pc,rc]};nc.rangeRound=function(sd){return[Pc,rc]=sd,Pc=+Pc,rc=+rc,Nc=!0,Ta()};nc.bandwidth=function(){return $c};nc.step=function(){return Xc};nc.round=function(sd){return arguments.length?(Nc=!!sd,Ta()):Nc};
nc.padding=function(sd){return arguments.length?(Dd=Math.min(1,we=+sd),Ta()):Dd};nc.paddingInner=function(sd){return arguments.length?(Dd=Math.min(1,sd),Ta()):Dd};nc.paddingOuter=function(sd){return arguments.length?(we=+sd,Ta()):we};nc.align=function(sd){return arguments.length?(ld=Math.max(0,Math.min(1,sd)),Ta()):ld};nc.copy=function(){return cb(lc(),[Pc,rc]).round(Nc).paddingInner(Dd).paddingOuter(we).align(ld)};return ub.apply(Ta(),arguments)}function ob(Ta){var nc=Ta.copy;Ta.padding=Ta.paddingOuter;
delete Ta.paddingInner;delete Ta.paddingOuter;Ta.copy=function(){return ob(nc())};return Ta}function rb(Ta){return function(){return Ta}}function Xa(Ta){return+Ta}function Ha(Ta){return Ta}function Ia(Ta,nc){return(nc-=Ta=+Ta)?function(lc){return(lc-Ta)/nc}:rb(isNaN(nc)?NaN:.5)}function Za(Ta,nc){if(Ta>nc){var lc=Ta;Ta=nc;nc=lc}return function(wc){return Math.max(Ta,Math.min(nc,wc))}}function mb(Ta,nc,lc){var wc=Ta[0];Ta=Ta[1];var Pc=nc[0];nc=nc[1];Ta<wc?(wc=Ia(Ta,wc),Pc=lc(nc,Pc)):(wc=Ia(wc,Ta),
Pc=lc(Pc,nc));return function(rc){return Pc(wc(rc))}}function Da(Ta,nc,lc){var wc=Math.min(Ta.length,nc.length)-1,Pc=Array(wc),rc=Array(wc),Xc=-1;Ta[wc]<Ta[0]&&(Ta=Ta.slice().reverse(),nc=nc.slice().reverse());for(;++Xc<wc;)Pc[Xc]=Ia(Ta[Xc],Ta[Xc+1]),rc[Xc]=lc(nc[Xc],nc[Xc+1]);return function($c){var Nc=x.bisect(Ta,$c,1,wc)-1;return rc[Nc](Pc[Nc]($c))}}function Fa(Ta,nc){return nc.domain(Ta.domain()).range(Ta.range()).interpolate(Ta.interpolate()).clamp(Ta.clamp()).unknown(Ta.unknown())}function hb(){function Ta(){var sd=
Math.min(lc.length,wc.length);Nc!==Ha&&(Nc=Za(lc[0],lc[sd-1]));Dd=2<sd?Da:mb;we=ld=null;return nc}function nc(sd){return isNaN(sd=+sd)?$c:(we||(we=Dd(lc.map(rc),wc,Pc)))(rc(Nc(sd)))}var lc=Ec,wc=Ec,Pc=ea.interpolate,rc,Xc,$c,Nc=Ha,Dd,we,ld;nc.invert=function(sd){return Nc(Xc((ld||(ld=Dd(wc,lc.map(rc),ea.interpolateNumber)))(sd)))};nc.domain=function(sd){return arguments.length?(lc=Array.from(sd,Xa),Ta()):lc.slice()};nc.range=function(sd){return arguments.length?(wc=Array.from(sd),Ta()):wc.slice()};
nc.rangeRound=function(sd){return wc=Array.from(sd),Pc=ea.interpolateRound,Ta()};nc.clamp=function(sd){return arguments.length?(Nc=sd?!0:Ha,Ta()):Nc!==Ha};nc.interpolate=function(sd){return arguments.length?(Pc=sd,Ta()):Pc};nc.unknown=function(sd){return arguments.length?($c=sd,nc):$c};return function(sd,ge){rc=sd;Xc=ge;return Ta()}}function Ca(Ta,nc,lc,wc){lc=x.tickStep(Ta,nc,lc);var Pc;wc=Sa.formatSpecifier(null==wc?",f":wc);switch(wc.type){case "s":return Ta=Math.max(Math.abs(Ta),Math.abs(nc)),
null!=wc.precision||isNaN(Pc=Sa.precisionPrefix(lc,Ta))||(wc.precision=Pc),Sa.formatPrefix(wc,Ta);case "":case "e":case "g":case "p":case "r":null!=wc.precision||isNaN(Pc=Sa.precisionRound(lc,Math.max(Math.abs(Ta),Math.abs(nc))))||(wc.precision=Pc-("e"===wc.type));break;case "f":case "%":null!=wc.precision||isNaN(Pc=Sa.precisionFixed(lc))||(wc.precision=Pc-2*("%"===wc.type))}return Sa.format(wc)}function bb(Ta){var nc=Ta.domain;Ta.ticks=function(lc){var wc=nc();return x.ticks(wc[0],wc[wc.length-1],
null==lc?10:lc)};Ta.tickFormat=function(lc,wc){var Pc=nc();return Ca(Pc[0],Pc[Pc.length-1],null==lc?10:lc,wc)};Ta.nice=function(lc){null==lc&&(lc=10);var wc=nc(),Pc=0,rc=wc.length-1,Xc=wc[Pc],$c=wc[rc],Nc=10;if($c<Xc){var Dd=Xc;Xc=$c;$c=Dd;Dd=Pc;Pc=rc;rc=Dd}for(;0<Nc--;){Dd=x.tickIncrement(Xc,$c,lc);if(Dd===we)return wc[Pc]=Xc,wc[rc]=$c,nc(wc);if(0<Dd)Xc=Math.floor(Xc/Dd)*Dd,$c=Math.ceil($c/Dd)*Dd;else if(0>Dd)Xc=Math.ceil(Xc*Dd)/Dd,$c=Math.floor($c*Dd)/Dd;else break;var we=Dd}return Ta};return Ta}
function La(){var Ta=hb()(Ha,Ha);Ta.copy=function(){return Fa(Ta,La())};ub.apply(Ta,arguments);return bb(Ta)}function ka(Ta){function nc(wc){return isNaN(wc=+wc)?lc:wc}var lc;nc.invert=nc;nc.domain=nc.range=function(wc){return arguments.length?(Ta=Array.from(wc,Xa),nc):Ta.slice()};nc.unknown=function(wc){return arguments.length?(lc=wc,nc):lc};nc.copy=function(){return ka(Ta).unknown(lc)};Ta=arguments.length?Array.from(Ta,Xa):[0,1];return bb(nc)}function Aa(Ta,nc){Ta=Ta.slice();var lc=0,wc=Ta.length-
1,Pc=Ta[lc],rc=Ta[wc];if(rc<Pc){var Xc=lc;lc=wc;wc=Xc;Xc=Pc;Pc=rc;rc=Xc}Ta[lc]=nc.floor(Pc);Ta[wc]=nc.ceil(rc);return Ta}function Ra(Ta){return Math.log(Ta)}function Ya(Ta){return Math.exp(Ta)}function ib(Ta){return-Math.log(-Ta)}function db(Ta){return-Math.exp(-Ta)}function nb(Ta){return isFinite(Ta)?+("1e"+Ta):0>Ta?0:Ta}function $a(Ta){return 10===Ta?nb:Ta===Math.E?Math.exp:function(nc){return Math.pow(Ta,nc)}}function S(Ta){return Ta===Math.E?Math.log:10===Ta&&Math.log10||2===Ta&&Math.log2||(Ta=
Math.log(Ta),function(nc){return Math.log(nc)/Ta})}function z(Ta){return function(nc){return-Ta(-nc)}}function I(Ta){function nc(){rc=S(Pc);Xc=$a(Pc);0>wc()[0]?(rc=z(rc),Xc=z(Xc),Ta(ib,db)):Ta(Ra,Ya);return lc}var lc=Ta(Ra,Ya),wc=lc.domain,Pc=10,rc,Xc;lc.base=function($c){return arguments.length?(Pc=+$c,nc()):Pc};lc.domain=function($c){return arguments.length?(wc($c),nc()):wc()};lc.ticks=function($c){var Nc=wc(),Dd=Nc[0];Nc=Nc[Nc.length-1];var we;if(we=Nc<Dd)ld=Dd,Dd=Nc,Nc=ld;var ld=rc(Dd),sd=rc(Nc),
ge=null==$c?10:+$c,Ma=[];if(!(Pc%1)&&sd-ld<ge){ld=Math.floor(ld);sd=Math.ceil(sd);if(0<Dd)for(;ld<=sd;++ld){var vb=1;for($c=Xc(ld);vb<Pc;++vb){var ac=$c*vb;if(!(ac<Dd)){if(ac>Nc)break;Ma.push(ac)}}}else for(;ld<=sd;++ld)for(vb=Pc-1,$c=Xc(ld);1<=vb;--vb)if(ac=$c*vb,!(ac<Dd)){if(ac>Nc)break;Ma.push(ac)}2*Ma.length<ge&&(Ma=x.ticks(Dd,Nc,ge))}else Ma=x.ticks(ld,sd,Math.min(sd-ld,ge)).map(Xc);return we?Ma.reverse():Ma};lc.tickFormat=function($c,Nc){null==Nc&&(Nc=10===Pc?".0e":",");"function"!==typeof Nc&&
(Nc=Sa.format(Nc));if(Infinity===$c)return Nc;null==$c&&($c=10);var Dd=Math.max(1,Pc*$c/lc.ticks().length);return function(we){var ld=we/Xc(Math.round(rc(we)));ld*Pc<Pc-.5&&(ld*=Pc);return ld<=Dd?Nc(we):""}};lc.nice=function(){return wc(Aa(wc(),{floor:function($c){return Xc(Math.floor(rc($c)))},ceil:function($c){return Xc(Math.ceil(rc($c)))}}))};return lc}function Q(){var Ta=I(hb()).domain([1,10]);Ta.copy=function(){return Fa(Ta,Q()).base(Ta.base())};ub.apply(Ta,arguments);return Ta}function J(Ta){return function(nc){return Math.sign(nc)*
Math.log1p(Math.abs(nc/Ta))}}function W(Ta){return function(nc){return Math.sign(nc)*Math.expm1(Math.abs(nc))*Ta}}function Y(Ta){var nc=1,lc=Ta(J(nc),W(nc));lc.constant=function(wc){return arguments.length?Ta(J(nc=+wc),W(nc)):nc};return bb(lc)}function ma(){var Ta=Y(hb());Ta.copy=function(){return Fa(Ta,ma()).constant(Ta.constant())};return ub.apply(Ta,arguments)}function Qa(Ta){return function(nc){return 0>nc?-Math.pow(-nc,Ta):Math.pow(nc,Ta)}}function Ua(Ta){return 0>Ta?-Math.sqrt(-Ta):Math.sqrt(Ta)}
function U(Ta){return 0>Ta?-Ta*Ta:Ta*Ta}function sa(Ta){var nc=Ta(Ha,Ha),lc=1;nc.exponent=function(wc){return arguments.length?(lc=+wc,1===lc?Ta(Ha,Ha):.5===lc?Ta(Ua,U):Ta(Qa(lc),Qa(1/lc))):lc};return bb(nc)}function ua(){var Ta=sa(hb());Ta.copy=function(){return Fa(Ta,ua()).exponent(Ta.exponent())};ub.apply(Ta,arguments);return Ta}function la(Ta){return Math.sign(Ta)*Ta*Ta}function T(){function Ta(rc){rc=nc(rc);rc=Math.sign(rc)*Math.sqrt(Math.abs(rc));return isNaN(rc)?Pc:wc?Math.round(rc):rc}var nc=
hb()(Ha,Ha),lc=[0,1],wc=!1,Pc;Ta.invert=function(rc){return nc.invert(la(rc))};Ta.domain=function(rc){return arguments.length?(nc.domain(rc),Ta):nc.domain()};Ta.range=function(rc){return arguments.length?(nc.range((lc=Array.from(rc,Xa)).map(la)),Ta):lc.slice()};Ta.rangeRound=function(rc){return Ta.range(rc).round(!0)};Ta.round=function(rc){return arguments.length?(wc=!!rc,Ta):wc};Ta.clamp=function(rc){return arguments.length?(nc.clamp(rc),Ta):nc.clamp()};Ta.unknown=function(rc){return arguments.length?
(Pc=rc,Ta):Pc};Ta.copy=function(){return T(nc.domain(),lc).round(wc).clamp(nc.clamp()).unknown(Pc)};ub.apply(Ta,arguments);return bb(Ta)}function v(){function Ta(){var Xc=0,$c=Math.max(1,wc.length);for(Pc=Array($c-1);++Xc<$c;)Pc[Xc-1]=x.quantileSorted(lc,Xc/$c);return nc}function nc(Xc){return isNaN(Xc=+Xc)?rc:wc[x.bisect(Pc,Xc)]}var lc=[],wc=[],Pc=[],rc;nc.invertExtent=function(Xc){Xc=wc.indexOf(Xc);return 0>Xc?[NaN,NaN]:[0<Xc?Pc[Xc-1]:lc[0],Xc<Pc.length?Pc[Xc]:lc[lc.length-1]]};nc.domain=function(Xc){if(!arguments.length)return lc.slice();
lc=[];for(let $c of Xc)null==$c||isNaN($c=+$c)||lc.push($c);lc.sort(x.ascending);return Ta()};nc.range=function(Xc){return arguments.length?(wc=Array.from(Xc),Ta()):wc.slice()};nc.unknown=function(Xc){return arguments.length?(rc=Xc,nc):rc};nc.quantiles=function(){return Pc.slice()};nc.copy=function(){return v().domain(lc).range(wc).unknown(rc)};return ub.apply(nc,arguments)}function w(){function Ta(Nc){return Nc<=Nc?Xc[x.bisect(rc,Nc,0,Pc)]:$c}function nc(){var Nc=-1;for(rc=Array(Pc);++Nc<Pc;)rc[Nc]=
((Nc+1)*wc-(Nc-Pc)*lc)/(Pc+1);return Ta}var lc=0,wc=1,Pc=1,rc=[.5],Xc=[0,1],$c;Ta.domain=function(Nc){return arguments.length?([lc,wc]=Nc,lc=+lc,wc=+wc,nc()):[lc,wc]};Ta.range=function(Nc){return arguments.length?(Pc=(Xc=Array.from(Nc)).length-1,nc()):Xc.slice()};Ta.invertExtent=function(Nc){Nc=Xc.indexOf(Nc);return 0>Nc?[NaN,NaN]:1>Nc?[lc,rc[0]]:Nc>=Pc?[rc[Pc-1],wc]:[rc[Nc-1],rc[Nc]]};Ta.unknown=function(Nc){return arguments.length?($c=Nc,Ta):Ta};Ta.thresholds=function(){return rc.slice()};Ta.copy=
function(){return w().domain([lc,wc]).range(Xc).unknown($c)};return ub.apply(bb(Ta),arguments)}function p(){function Ta(rc){return rc<=rc?lc[x.bisect(nc,rc,0,Pc)]:wc}var nc=[.5],lc=[0,1],wc,Pc=1;Ta.domain=function(rc){return arguments.length?(nc=Array.from(rc),Pc=Math.min(nc.length,lc.length-1),Ta):nc.slice()};Ta.range=function(rc){return arguments.length?(lc=Array.from(rc),Pc=Math.min(nc.length,lc.length-1),Ta):lc.slice()};Ta.invertExtent=function(rc){rc=lc.indexOf(rc);return[nc[rc-1],nc[rc]]};Ta.unknown=
function(rc){return arguments.length?(wc=rc,Ta):wc};Ta.copy=function(){return p().domain(nc).range(lc).unknown(wc)};return ub.apply(Ta,arguments)}function r(Ta){return new Date(Ta)}function D(Ta){return Ta instanceof Date?+Ta:+new Date(+Ta)}function E(Ta,nc,lc,wc,Pc,rc,Xc,$c,Nc){function Dd(gb){return(Xc(gb)<gb?Ma:rc(gb)<gb?vb:Pc(gb)<gb?ac:wc(gb)<gb?rd:nc(gb)<gb?lc(gb)<gb?vd:de:Ta(gb)<gb?oe:Z)(gb)}function we(gb,Db,Zb){null==gb&&(gb=10);if("number"===typeof gb){var Gb=Math.abs(Zb-Db)/gb,sc=x.bisector(function(kc){return kc[2]}).right(za,
Gb);sc===za.length?(Db=x.tickStep(Db/Sc,Zb/Sc,gb),gb=Ta):sc?(sc=za[Gb/za[sc-1][2]<za[sc][2]/Gb?sc-1:sc],Db=sc[1],gb=sc[0]):(Db=Math.max(x.tickStep(Db,Zb,gb),1),gb=$c);return gb.every(Db)}return gb}var ld=hb()(Ha,Ha),sd=ld.invert,ge=ld.domain,Ma=Nc(".%L"),vb=Nc(":%S"),ac=Nc("%I:%M"),rd=Nc("%I %p"),vd=Nc("%a %d"),de=Nc("%b %d"),oe=Nc("%B"),Z=Nc("%Y"),za=[[Xc,1,1E3],[Xc,5,5E3],[Xc,15,15E3],[Xc,30,3E4],[rc,1,6E4],[rc,5,3E5],[rc,15,9E5],[rc,30,18E5],[Pc,1,36E5],[Pc,3,108E5],[Pc,6,216E5],[Pc,12,432E5],
[wc,1,864E5],[wc,2,1728E5],[lc,1,gd],[nc,1,Dc],[nc,3,3*Dc],[Ta,1,Sc]];ld.invert=function(gb){return new Date(sd(gb))};ld.domain=function(gb){return arguments.length?ge(Array.from(gb,D)):ge().map(r)};ld.ticks=function(gb){var Db=ge(),Zb=Db[0];Db=Db[Db.length-1];var Gb=Db<Zb;if(Gb){var sc=Zb;Zb=Db;Db=sc}sc=(sc=we(gb,Zb,Db))?sc.range(Zb,Db+1):[];return Gb?sc.reverse():sc};ld.tickFormat=function(gb,Db){return null==Db?Dd:Nc(Db)};ld.nice=function(gb){var Db=ge();return(gb=we(gb,Db[0],Db[Db.length-1]))?
ge(Aa(Db,gb)):ld};ld.copy=function(){return Fa(ld,E(Ta,nc,lc,wc,Pc,rc,Xc,$c,Nc))};return ld}function H(){function Ta(ld){return isNaN(ld=+ld)?we:Nc(0===Xc?.5:(ld=($c(ld)-Pc)*Xc,Dd?Math.max(0,Math.min(1,ld)):ld))}function nc(ld){return function(sd){var ge,Ma;return arguments.length?([ge,Ma]=sd,Nc=ld(ge,Ma),Ta):[Nc(0),Nc(1)]}}var lc=0,wc=1,Pc,rc,Xc,$c,Nc=Ha,Dd=!1,we;Ta.domain=function(ld){return arguments.length?([lc,wc]=ld,Pc=$c(lc=+lc),rc=$c(wc=+wc),Xc=Pc===rc?0:1/(rc-Pc),Ta):[lc,wc]};Ta.clamp=function(ld){return arguments.length?
(Dd=!!ld,Ta):Dd};Ta.interpolator=function(ld){return arguments.length?(Nc=ld,Ta):Nc};Ta.range=nc(ea.interpolate);Ta.rangeRound=nc(ea.interpolateRound);Ta.unknown=function(ld){return arguments.length?(we=ld,Ta):we};return function(ld){$c=ld;Pc=ld(lc);rc=ld(wc);Xc=Pc===rc?0:1/(rc-Pc);return Ta}}function C(Ta,nc){return nc.domain(Ta.domain()).interpolator(Ta.interpolator()).clamp(Ta.clamp()).unknown(Ta.unknown())}function ha(){var Ta=bb(H()(Ha));Ta.copy=function(){return C(Ta,ha())};return Ob.apply(Ta,
arguments)}function xa(){var Ta=I(H()).domain([1,10]);Ta.copy=function(){return C(Ta,xa()).base(Ta.base())};return Ob.apply(Ta,arguments)}function oa(){var Ta=Y(H());Ta.copy=function(){return C(Ta,oa()).constant(Ta.constant())};return Ob.apply(Ta,arguments)}function Va(){var Ta=sa(H());Ta.copy=function(){return C(Ta,Va()).exponent(Ta.exponent())};return Ob.apply(Ta,arguments)}function Ja(){function Ta(wc){if(!isNaN(wc=+wc))return lc((x.bisect(nc,wc,1)-1)/(nc.length-1))}var nc=[],lc=Ha;Ta.domain=function(wc){if(!arguments.length)return nc.slice();
nc=[];for(let Pc of wc)null==Pc||isNaN(Pc=+Pc)||nc.push(Pc);nc.sort(x.ascending);return Ta};Ta.interpolator=function(wc){return arguments.length?(lc=wc,Ta):lc};Ta.range=function(){return nc.map((wc,Pc)=>lc(Pc/(nc.length-1)))};Ta.quantiles=function(wc){return Array.from({length:wc+1},(Pc,rc)=>x.quantile(nc,rc/wc))};Ta.copy=function(){return Ja(lc).domain(nc)};return Ob.apply(Ta,arguments)}function ba(){function Ta(vb){return isNaN(vb=+vb)?Ma:(vb=.5+((vb=+sd(vb))-$c)*(rc*vb<rc*$c?Dd:we),ld(ge?Math.max(0,
Math.min(1,vb)):vb))}function nc(vb){return function(ac){var rd,vd,de;return arguments.length?([rd,vd,de]=ac,ld=ea.piecewise(vb,[rd,vd,de]),Ta):[ld(0),ld(.5),ld(1)]}}var lc=0,wc=.5,Pc=1,rc=1,Xc,$c,Nc,Dd,we,ld=Ha,sd,ge=!1,Ma;Ta.domain=function(vb){return arguments.length?([lc,wc,Pc]=vb,Xc=sd(lc=+lc),$c=sd(wc=+wc),Nc=sd(Pc=+Pc),Dd=Xc===$c?0:.5/($c-Xc),we=$c===Nc?0:.5/(Nc-$c),rc=$c<Xc?-1:1,Ta):[lc,wc,Pc]};Ta.clamp=function(vb){return arguments.length?(ge=!!vb,Ta):ge};Ta.interpolator=function(vb){return arguments.length?
(ld=vb,Ta):ld};Ta.range=nc(ea.interpolate);Ta.rangeRound=nc(ea.interpolateRound);Ta.unknown=function(vb){return arguments.length?(Ma=vb,Ta):Ma};return function(vb){sd=vb;Xc=vb(lc);$c=vb(wc);Nc=vb(Pc);Dd=Xc===$c?0:.5/($c-Xc);we=$c===Nc?0:.5/(Nc-$c);rc=$c<Xc?-1:1;return Ta}}function ta(){var Ta=bb(ba()(Ha));Ta.copy=function(){return C(Ta,ta())};return Ob.apply(Ta,arguments)}function eb(){var Ta=I(ba()).domain([.1,1,10]);Ta.copy=function(){return C(Ta,eb()).base(Ta.base())};return Ob.apply(Ta,arguments)}
function xb(){var Ta=Y(ba());Ta.copy=function(){return C(Ta,xb()).constant(Ta.constant())};return Ob.apply(Ta,arguments)}function Kb(){var Ta=sa(ba());Ta.copy=function(){return C(Ta,Kb()).exponent(Ta.exponent())};return Ob.apply(Ta,arguments)}const fc=Symbol("implicit");var Ec=[0,1],gd=6048E5,Dc=2592E6,Sc=31536E6;n.scaleBand=cb;n.scaleDiverging=ta;n.scaleDivergingLog=eb;n.scaleDivergingPow=Kb;n.scaleDivergingSqrt=function(){return Kb.apply(null,arguments).exponent(.5)};n.scaleDivergingSymlog=xb;n.scaleIdentity=
ka;n.scaleImplicit=fc;n.scaleLinear=La;n.scaleLog=Q;n.scaleOrdinal=zb;n.scalePoint=function(){return ob(cb.apply(null,arguments).paddingInner(1))};n.scalePow=ua;n.scaleQuantile=v;n.scaleQuantize=w;n.scaleRadial=T;n.scaleSequential=ha;n.scaleSequentialLog=xa;n.scaleSequentialPow=Va;n.scaleSequentialQuantile=Ja;n.scaleSequentialSqrt=function(){return Va.apply(null,arguments).exponent(.5)};n.scaleSequentialSymlog=oa;n.scaleSqrt=function(){return ua.apply(null,arguments).exponent(.5)};n.scaleSymlog=ma;
n.scaleThreshold=p;n.scaleTime=function(){return ub.apply(E(Wb.timeYear,Wb.timeMonth,Wb.timeWeek,Wb.timeDay,Wb.timeHour,Wb.timeMinute,Wb.timeSecond,Wb.timeMillisecond,fb.timeFormat).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)};n.scaleUtc=function(){return ub.apply(E(Wb.utcYear,Wb.utcMonth,Wb.utcWeek,Wb.utcDay,Wb.utcHour,Wb.utcMinute,Wb.utcSecond,Wb.utcMillisecond,fb.utcFormat).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)};n.tickFormat=Ca;Object.defineProperty(n,"__esModule",
{value:!0})})};
shadow$provide[38]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(18),Rb(37),Rb(36),Rb(21)):"function"===typeof define&&define.amd?define("exports vega-util d3-array d3-scale d3-interpolate vega-time".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3,n.d3,n.vega))})(this,function(n,x,ea,Sa,Wb,fb){function ub(v,w,p){w=v-w+2*p;return v?0<w?w:1:0}function Ob(v){return function(w){let p=w[0];w=w[1];let r;
w<p&&(r=p,p=w,w=r);return[v.invert(p),v.invert(w)]}}function zb(v){return function(w){const p=v.range();let r=w[0];w=w[1];let D=-1,E;let H;if(w<r){var C=r;r=w;w=C}C=0;for(H=p.length;C<H;++C)p[C]>=r&&p[C]<=w&&(0>D&&(D=C),E=C);if(!(0>D))return r=v.invertExtent(p[D]),w=v.invertExtent(p[E]),[void 0===r[0]?r[1]:r[0],void 0===w[1]?w[0]:w[1]]}}function cb(){function v(){var Va=p().length;const Ja=D[1]<D[0],ba=D[1-Ja],ta=ub(Va,ha,xa);let eb=D[Ja-0];E=(ba-eb)/(ta||1);C&&(E=Math.floor(E));eb+=(ba-eb-E*(Va-
ha))*oa;H=E*(1-ha);C&&(eb=Math.round(eb),H=Math.round(H));Va=ea.range(Va).map(xb=>eb+E*xb);return r(Ja?Va.reverse():Va)}const w=Sa.scaleOrdinal().unknown(void 0),p=w.domain,r=w.range;let D=[0,1],E,H,C=!1,ha=0,xa=0,oa=.5;delete w.unknown;w.domain=function(Va){return arguments.length?(p(Va),v()):p()};w.range=function(Va){return arguments.length?(D=[+Va[0],+Va[1]],v()):D.slice()};w.rangeRound=function(Va){D=[+Va[0],+Va[1]];C=!0;return v()};w.bandwidth=function(){return H};w.step=function(){return E};
w.round=function(Va){return arguments.length?(C=!!Va,v()):C};w.padding=function(Va){return arguments.length?(ha=xa=Math.max(0,Math.min(1,Va)),v()):ha};w.paddingInner=function(Va){return arguments.length?(ha=Math.max(0,Math.min(1,Va)),v()):ha};w.paddingOuter=function(Va){return arguments.length?(xa=Math.max(0,Math.min(1,Va)),v()):xa};w.align=function(Va){return arguments.length?(oa=Math.max(0,Math.min(1,Va)),v()):oa};w.invertRange=function(Va){if(null!=Va[0]&&null!=Va[1]){var Ja=D[1]<D[0],ba=Ja?r().reverse():
r(),ta=ba.length-1,eb=+Va[0],xb=+Va[1];if(eb===eb&&xb===xb){if(xb<eb){var Kb=eb;eb=xb;xb=Kb}if(!(xb<ba[0]||eb>D[1-Ja]))return Va=Math.max(0,ea.bisectRight(ba,eb)-1),xb=eb===xb?Va:ea.bisectRight(ba,xb)-1,eb-ba[Va]>H+1E-10&&++Va,Ja&&(Kb=Va,Va=ta-xb,xb=ta-Kb),Va>xb?void 0:p().slice(Va,xb+1)}}};w.invert=function(Va){return(Va=w.invertRange([Va,Va]))?Va[0]:Va};w.copy=function(){return cb().domain(p()).range(D).round(C).paddingInner(ha).paddingOuter(xa).align(oa)};return v()}function ob(v){const w=v.copy;
v.padding=v.paddingOuter;delete v.paddingInner;v.copy=function(){return ob(w())};return v}function rb(){function v(r){return null==r||r!==r?void 0:p[(ea.bisect(w,r)-1)%p.length]}let w=[],p=[];v.domain=function(r){return arguments.length?(w=I.call(r,x.toNumber),v):w.slice()};v.range=function(r){return arguments.length?(p=Q.call(r),v):p.slice()};v.tickFormat=function(r,D){return Sa.tickFormat(w[0],x.peek(w),null==r?10:r,D)};v.copy=function(){return rb().domain(v.domain()).range(v.range())};return v}
function Xa(v,w,p){const r=function(){const D=w();D.invertRange||(D.invertRange=D.invert?Ob(D):D.invertExtent?zb(D):void 0);D.type=v;return D};r.metadata=x.toSet(x.array(p));return r}function Ha(v,w,p){return 1<arguments.length?(J[v]=Xa(v,w,p),this):Ia(v)?J[v]:void 0}function Ia(v){return x.hasOwnProperty(J,v)}function Za(v,w){return(v=J[v])&&v.metadata[w]}function mb(v){return Za(v,"discrete")}function Da(v){return Za(v,"discretizing")}function Fa(v){return Za(v,"log")}function hb(v){return Za(v,
"temporal")}function Ca(v,w,p){return Wb.piecewise(bb(w||"rgb",p),v)}function bb(v,w){v=z[La(v)];return null!=w&&v&&v.gamma?v.gamma(w):v}function La(v){return"interpolate"+v.toLowerCase().split("-").map(w=>w[0].toUpperCase()+w.slice(1)).join("")}function ka(v){const w=v.length/6|0,p=Array(w);for(let r=0;r<w;)p[r]="#"+v.slice(6*r,6*++r);return p}function Aa(v,w){for(const p in v)Ra(p,w(v[p]))}function Ra(v,w){v=v&&v.toLowerCase();return 1<arguments.length?(Y[v]=w,this):Y[v]}function Ya(v,w,p){var r=
v.range();let D=r[0],E=x.peek(r);r=Qa;D>E&&(r=E,E=D,D=r,r=Ua);D=Math.floor(D);E=Math.ceil(E);w=w.map(H=>[H,v(H)]).filter(H=>D<=H[1]&&H[1]<=E).sort(r).map(H=>H[0]);if(0<p&&1<w.length){for(r=[w[0],x.peek(w)];w.length>p&&3<=w.length;)w=w.filter((H,C)=>!(C%2));3>w.length&&(w=r)}return w}function ib(v,w){return v.bins?Ya(v,v.bins):v.ticks?v.ticks(w):v.domain()}function db(v,w,p,r,D,E){const H=w.type;let C=ma;if("time"===H||"time"===D)C=v.timeFormat(r);else if("utc"===H||"utc"===D)C=v.utcFormat(r);else if(Fa(H)){const ha=
v.formatFloat(r);if(E||w.bins)C=ha;else{const xa=nb(w,p,!1);C=oa=>xa(oa)?ha(oa):""}}else w.tickFormat?(w=w.domain(),C=v.formatSpan(w[0],w[w.length-1],p,r)):r&&(C=v.format(r));return C}function nb(v,w,p){const r=ib(v,w),D=v.base(),E=Math.log(D),H=Math.max(1,D*w/r.length);v=C=>{C/=Math.pow(D,Math.round(Math.log(C)/E));C*D<D-.5&&(C*=D);return C<=H};return p?r.filter(v):v}function $a(v,w){v.bins?(v=v.bins,w=v.slice(0,-1),w.max=x.peek(v),v=w):"log"===v.type?v=nb(v,w,!0):U[v.type]?(v=v[U[v.type]](),v=[-Infinity].concat(v),
v.max=Infinity):v=ib(v,w);return v}function S(v,w,p,r,D,E,H){if(sa[w.type]&&"time"!==E&&"utc"!==E){{p=w[sa[w.type]]();E=p.length;H=1<E?p[1]-p[0]:p[0];let C;for(C=1;C<E;++C)H=Math.min(H,p[C]-p[C-1]);v=v.formatSpan(0,H,30,D)}}else v=db(v,w,p,D,E,H);return"symbol"===r&&(U[w.type]||w.bins)?ua(v):"discrete"===r?la(v):T(v)}var z=function(v){if(v&&v.__esModule)return v;var w=Object.create(null);v&&Object.keys(v).forEach(function(p){if("default"!==p){var r=Object.getOwnPropertyDescriptor(v,p);Object.defineProperty(w,
p,r.get?r:{enumerable:!0,get:function(){return v[p]}})}});w["default"]=v;return Object.freeze(w)}(Wb),I=Array.prototype.map;const Q=Array.prototype.slice,J={};Ha("identity",Sa.scaleIdentity);Ha("linear",Sa.scaleLinear,"continuous");Ha("log",Sa.scaleLog,["continuous","log"]);Ha("pow",Sa.scalePow,"continuous");Ha("sqrt",Sa.scaleSqrt,"continuous");Ha("symlog",Sa.scaleSymlog,"continuous");Ha("time",Sa.scaleTime,["continuous","temporal"]);Ha("utc",Sa.scaleUtc,["continuous","temporal"]);Ha("sequential",
Sa.scaleSequential,["continuous","interpolating"]);Ha("sequential-linear",Sa.scaleSequential,["continuous","interpolating"]);Ha("sequential-log",Sa.scaleSequentialLog,["continuous","interpolating","log"]);Ha("sequential-pow",Sa.scaleSequentialPow,["continuous","interpolating"]);Ha("sequential-sqrt",Sa.scaleSequentialSqrt,["continuous","interpolating"]);Ha("sequential-symlog",Sa.scaleSequentialSymlog,["continuous","interpolating"]);Ha("diverging-linear",Sa.scaleDiverging,["continuous","interpolating"]);
Ha("diverging-log",Sa.scaleDivergingLog,["continuous","interpolating","log"]);Ha("diverging-pow",Sa.scaleDivergingPow,["continuous","interpolating"]);Ha("diverging-sqrt",Sa.scaleDivergingSqrt,["continuous","interpolating"]);Ha("diverging-symlog",Sa.scaleDivergingSymlog,["continuous","interpolating"]);Ha("quantile",Sa.scaleQuantile,["discretizing","quantile"]);Ha("quantize",Sa.scaleQuantize,"discretizing");Ha("threshold",Sa.scaleThreshold,"discretizing");Ha("bin-ordinal",rb,["discrete","discretizing"]);
Ha("ordinal",Sa.scaleOrdinal,"discrete");Ha("band",cb,"discrete");Ha("point",function(){return ob(cb().paddingInner(1))},"discrete");const W=["clamp","base","constant","exponent"],Y={};Aa({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",
category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",
pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},ka);Aa({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",
oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",
purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",
blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",
redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",
magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",
cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",
sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},v=>Ca(ka(v)));const ma=v=>x.isArray(v)?v.map(w=>String(w)):String(v),Qa=(v,w)=>v[1]-w[1],Ua=(v,w)=>w[1]-v[1],U={["quantile"]:"quantiles",["quantize"]:"thresholds",["threshold"]:"domain"},sa={["quantile"]:"quantiles",["quantize"]:"domain"},ua=v=>(w,p,r)=>{p=r[p+1];r=r.max;r=null!=r?r:Infinity;p=null!=p?p:r;
w=Number.isFinite(w)?v(w):null;p=Number.isFinite(p)?v(p):null;return w&&p?w+"  "+p:p?"\x3c "+p:" "+w},la=v=>(w,p)=>p?v(w):null,T=v=>w=>v(w);Object.defineProperty(n,"scaleImplicit",{enumerable:!0,get:function(){return Sa.scaleImplicit}});n.Band="band";n.BinOrdinal="bin-ordinal";n.DiscreteLegend="discrete";n.Diverging="diverging";n.GradientLegend="gradient";n.Identity="identity";n.Linear="linear";n.Log="log";n.Ordinal="ordinal";n.Point="point";n.Pow="pow";n.Quantile="quantile";n.Quantize="quantize";
n.Sequential="sequential";n.Sqrt="sqrt";n.SymbolLegend="symbol";n.Symlog="symlog";n.Threshold="threshold";n.Time="time";n.UTC="utc";n.bandSpace=ub;n.domainCaption=function(v,w,p){p=p||{};var r=Math.max(3,p.maxlen||7);{var D=p.format;const E=(p=p.formatType)||w.type;x.isString(D)&&hb(E)&&(D=D.replace(/%a/g,"%A").replace(/%b/g,"%B"));v=D||"time"!==E?D||"utc"!==E?S(v,w,5,null,D,p,!0):v.utcFormat("%A, %d %B %Y, %X UTC"):v.timeFormat("%A, %d %B %Y, %X")}if(Da(w.type))return r=$a(w).slice(1).map(v),w=r.length,
`${w} boundar${1===w?"y":"ies"}: ${r.join(", ")}`;if(mb(w.type))return D=w.domain(),w=D.length,r=w>r?D.slice(0,r-2).map(v).join(", ")+", ending with "+D.slice(-1).map(v):D.map(v).join(", "),`${w} value${1===w?"":"s"}: ${r}`;r=w.domain();return`values from ${v(r[0])} to ${v(x.peek(r))}`};n.interpolate=bb;n.interpolateColors=Ca;n.interpolateRange=function(v,w){const p=w[0],r=x.peek(w)-p;return function(D){return v(p+D*r)}};n.isContinuous=function(v){return Za(v,"continuous")};n.isDiscrete=mb;n.isDiscretizing=
Da;n.isInterpolating=function(v){return Za(v,"interpolating")};n.isLogarithmic=Fa;n.isQuantile=function(v){return Za(v,"quantile")};n.isTemporal=hb;n.isValidScaleType=Ia;n.labelFormat=S;n.labelFraction=function(v){var w=v.domain();const p=w.length-1;let r=+w[0];w=+x.peek(w);let D=w-r;"threshold"===v.type&&(v=p?D/p:.1,r-=v,w+=v,D=w-r);return E=>(E-r)/D};n.labelValues=$a;n.quantizeInterpolator=function(v,w){const p=Array(w),r=w+1;for(let D=0;D<w;)p[D]=v(++D/r);return p};n.scale=Ha;n.scaleCopy=function(v){const w=
v.type;v=v.copy();v.type=w;return v};n.scaleFraction=function(v,w,p){var r=p-w;let D,E;return r&&Number.isFinite(r)?(r=(D=v.type).indexOf("-"),D=0>r?D:D.slice(r+1),E=Ha(D)().domain([w,p]).range([0,1]),W.forEach(H=>v[H]?E[H](v[H]()):0),E):x.constant(.5)};n.scheme=Ra;n.tickCount=function(v,w,p){let r;x.isNumber(w)&&(v.bins&&(w=Math.max(w,v.bins.length)),null!=p&&(w=Math.min(w,Math.floor(x.span(v.domain())/p||1))));x.isObject(w)&&(r=w.step,w=w.interval);x.isString(w)&&(w="time"===v.type?fb.timeInterval(w):
"utc"==v.type?fb.utcInterval(w):x.error("Only time and utc scales accept interval strings."),r&&(w=w.every(r)));return w};n.tickFormat=db;n.tickValues=ib;n.validTicks=Ya;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[39]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(33),Rb(32),Rb(34),Rb(28),Rb(38)):"function"===typeof define&&define.amd?define("exports vega-util d3-shape d3-path vega-canvas vega-loader vega-scale".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.d3,n.d3,n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa,Wb,fb,ub){function Ob(u,F,ca){const na=u.gradient;let lb=u.id,Ib="radial"===na?"p_":"";
lb||(lb=u.id="gradient_"+ae++,"radial"===na?(u.x1=zb(u.x1,.5),u.y1=zb(u.y1,.5),u.r1=zb(u.r1,0),u.x2=zb(u.x2,.5),u.y2=zb(u.y2,.5),u.r2=zb(u.r2,.5),Ib="p_"):(u.x1=zb(u.x1,0),u.y1=zb(u.y1,0),u.x2=zb(u.x2,1),u.y2=zb(u.y2,0)));F[lb]=u;return"url("+(ca||"")+"#"+Ib+lb+")"}function zb(u,F){return null!=u?u:F}function cb(u,F,ca){u=x.hasOwnProperty(Jf,u)&&Jf[u];var na=null;u&&(na=u.curve||u[F||"vertical"],u.tension&&null!=ca&&(na=na[u.tension](ca)));return na}function ob(u){const F=[];let ca,na,lb,Ib;var Sb;
const gc=u.slice().replace(Jd[0],"###$1").split(Jd[1]).slice(1);u=0;for(Ib=gc.length;u<Ib;++u){var zc=gc[u];var Tc=zc.slice(1).trim().replace(Jd[2],"$1###$2").replace(Jd[3],"$1###$2").split(Jd[4]);na=zc.charAt(0);zc=[na];lb=0;for(Sb=Tc.length;lb<Sb;++lb)(ca=+Tc[lb])===ca&&zc.push(ca);Tc=De[na.toLowerCase()];if(zc.length-1>Tc)for(Sb=zc.length,lb=1,F.push([na].concat(zc.slice(lb,lb+=Tc))),na="M"===na?"L":"m"===na?"l":na;lb<Sb;lb+=Tc)F.push([na].concat(zc.slice(lb,lb+Tc)));else F.push(zc)}return F}function rb(u,
F,ca,na,lb,Ib,Sb,gc,zc){const Tc=Je.call(arguments);if(Xd[Tc])return Xd[Tc];var Rc=Sb*Se;const yd=Math.sin(Rc);Rc=Math.cos(Rc);ca=Math.abs(ca);na=Math.abs(na);var Md=Rc*(gc-u)*.5+yd*(zc-F)*.5,bd=Rc*(zc-F)*.5-yd*(gc-u)*.5;Md=Md*Md/(ca*ca)+bd*bd/(na*na);1<Md&&(Md=Math.sqrt(Md),ca*=Md,na*=Md);var Sd=Rc/ca,je=yd/ca,We=-yd/na,pa=Rc/na;Md=Sd*gc+je*zc;bd=We*gc+pa*zc;Sd=Sd*u+je*F;je=We*u+pa*F;We=1/((Sd-Md)*(Sd-Md)+(je-bd)*(je-bd))-.25;0>We&&(We=0);pa=Math.sqrt(We);Ib==lb&&(pa=-pa);We=.5*(Md+Sd)-pa*(je-bd);
pa=.5*(bd+je)+pa*(Sd-Md);Md=Math.atan2(bd-pa,Md-We);bd=Math.atan2(je-pa,Sd-We)-Md;0>bd&&1===Ib?bd+=Ac:0<bd&&0===Ib&&(bd-=Ac);Sd=Math.ceil(Math.abs(bd/(Ee+.001)));je=[];for(let Pa=0;Pa<Sd;++Pa)je[Pa]=[We,pa,Md+Pa*bd/Sd,Md+(Pa+1)*bd/Sd,ca,na,yd,Rc];return Xd[Tc]=je}function Xa(u,F,ca,na,lb,Ib){var Sb=null,gc=0,zc=0,Tc=0,Rc=0;null==ca&&(ca=0);null==na&&(na=0);null==lb&&(lb=1);null==Ib&&(Ib=lb);u.beginPath&&u.beginPath();for(var yd=0,Md=F.length;yd<Md;++yd){var bd=F[yd];if(1!==lb||1!==Ib){var Sd=lb;var je=
Ib;var We=pe[0]=bd[0];if("a"===We||"A"===We)pe[1]=Sd*bd[1],pe[2]=je*bd[2],pe[3]=bd[3],pe[4]=bd[4],pe[5]=bd[5],pe[6]=Sd*bd[6],pe[7]=je*bd[7];else if("h"===We||"H"===We)pe[1]=Sd*bd[1];else if("v"===We||"V"===We)pe[1]=je*bd[1];else{We=1;for(var pa=bd.length;We<pa;++We)pe[We]=(1==We%2?Sd:je)*bd[We]}bd=pe}switch(bd[0]){case "l":gc+=bd[1];zc+=bd[2];u.lineTo(gc+ca,zc+na);break;case "L":gc=bd[1];zc=bd[2];u.lineTo(gc+ca,zc+na);break;case "h":gc+=bd[1];u.lineTo(gc+ca,zc+na);break;case "H":gc=bd[1];u.lineTo(gc+
ca,zc+na);break;case "v":zc+=bd[1];u.lineTo(gc+ca,zc+na);break;case "V":zc=bd[1];u.lineTo(gc+ca,zc+na);break;case "m":gc+=bd[1];zc+=bd[2];u.moveTo(gc+ca,zc+na);break;case "M":gc=bd[1];zc=bd[2];u.moveTo(gc+ca,zc+na);break;case "c":Sd=gc+bd[5];je=zc+bd[6];Tc=gc+bd[3];Rc=zc+bd[4];u.bezierCurveTo(gc+bd[1]+ca,zc+bd[2]+na,Tc+ca,Rc+na,Sd+ca,je+na);gc=Sd;zc=je;break;case "C":gc=bd[5];zc=bd[6];Tc=bd[3];Rc=bd[4];u.bezierCurveTo(bd[1]+ca,bd[2]+na,Tc+ca,Rc+na,gc+ca,zc+na);break;case "s":Sd=gc+bd[3];je=zc+bd[4];
Tc=2*gc-Tc;Rc=2*zc-Rc;u.bezierCurveTo(Tc+ca,Rc+na,gc+bd[1]+ca,zc+bd[2]+na,Sd+ca,je+na);Tc=gc+bd[1];Rc=zc+bd[2];gc=Sd;zc=je;break;case "S":Sd=bd[3];je=bd[4];Tc=2*gc-Tc;Rc=2*zc-Rc;u.bezierCurveTo(Tc+ca,Rc+na,bd[1]+ca,bd[2]+na,Sd+ca,je+na);gc=Sd;zc=je;Tc=bd[1];Rc=bd[2];break;case "q":Sd=gc+bd[3];je=zc+bd[4];Tc=gc+bd[1];Rc=zc+bd[2];u.quadraticCurveTo(Tc+ca,Rc+na,Sd+ca,je+na);gc=Sd;zc=je;break;case "Q":Sd=bd[3];je=bd[4];u.quadraticCurveTo(bd[1]+ca,bd[2]+na,Sd+ca,je+na);gc=Sd;zc=je;Tc=bd[1];Rc=bd[2];break;
case "t":Sd=gc+bd[1];je=zc+bd[2];null===Sb[0].match(/[QqTt]/)?(Tc=gc,Rc=zc):"t"===Sb[0]?(Tc=2*gc-Pa,Rc=2*zc-qb):"q"===Sb[0]&&(Tc=2*gc-Tc,Rc=2*zc-Rc);var Pa=Tc;var qb=Rc;u.quadraticCurveTo(Tc+ca,Rc+na,Sd+ca,je+na);gc=Sd;zc=je;Tc=gc+bd[1];Rc=zc+bd[2];break;case "T":Sd=bd[1];je=bd[2];Tc=2*gc-Tc;Rc=2*zc-Rc;u.quadraticCurveTo(Tc+ca,Rc+na,Sd+ca,je+na);gc=Sd;zc=je;break;case "a":Ha(u,gc+ca,zc+na,[bd[1],bd[2],bd[3],bd[4],bd[5],bd[6]+gc+ca,bd[7]+zc+na]);gc+=bd[6];zc+=bd[7];break;case "A":Ha(u,gc+ca,zc+na,
[bd[1],bd[2],bd[3],bd[4],bd[5],bd[6]+ca,bd[7]+na]);gc=bd[6];zc=bd[7];break;case "z":case "Z":u.closePath()}Sb=bd}}function Ha(u,F,ca,na){F=rb(na[5],na[6],na[0],na[1],na[3],na[4],na[2],F,ca);for(ca=0;ca<F.length;++ca){a:{var lb=F[ca];na=Je.call(lb);if(cc[na]){na=cc[na];break a}var Ib=lb[0],Sb=lb[1],gc=lb[2],zc=lb[3],Tc=lb[4],Rc=lb[5],yd=lb[6],Md=lb[7];lb=Md*Tc;const Sd=-yd*Rc;Tc*=yd;Rc*=Md;var bd=Math.cos(gc);const je=Math.sin(gc);yd=Math.cos(zc);Md=Math.sin(zc);gc=.5*(zc-gc);zc=Math.sin(.5*gc);zc=
8/3*zc*zc/Math.sin(gc);gc=Ib+bd-zc*je;bd=Sb+je+zc*bd;Ib+=yd;Sb+=Md;Md=Ib+zc*Md;yd=Sb-zc*yd;na=cc[na]=[lb*gc+Sd*bd,Tc*gc+Rc*bd,lb*Md+Sd*yd,Tc*Md+Rc*yd,lb*Ib+Sd*Sb,Tc*Ib+Rc*Sb]}u.bezierCurveTo(na[0],na[1],na[2],na[3],na[4],na[5])}}function Ia(u){return x.hasOwnProperty(Ke,u)?Ke[u]:Za(u)}function Za(u){if(!x.hasOwnProperty(Cf,u)){const F=ob(u);Cf[u]={draw:function(ca,na){Xa(ca,F,0,0,Math.sqrt(na)/2)}}}return Cf[u]}function mb(u){return u.x}function Da(u){return u.y}function Fa(u){return u.width}function hb(u){return u.height}
function Ca(u){return"function"===typeof u?u:()=>+u}function bb(u,F,ca){return Math.max(F,Math.min(u,ca))}function La(){function u(Rc,yd,Md){var bd;yd=null!=yd?yd:+F.call(this,Rc);Md=null!=Md?Md:+ca.call(this,Rc);var Sd=+na.call(this,Rc),je=+lb.call(this,Rc),We=Math.min(Sd,je)/2,pa=bb(+Ib.call(this,Rc),0,We),Pa=bb(+Sb.call(this,Rc),0,We),qb=bb(+gc.call(this,Rc),0,We);Rc=bb(+zc.call(this,Rc),0,We);Tc||(Tc=bd=Sa.path());0>=pa&&0>=Pa&&0>=qb&&0>=Rc?Tc.rect(yd,Md,Sd,je):(Sd=yd+Sd,je=Md+je,Tc.moveTo(yd+
pa,Md),Tc.lineTo(Sd-Pa,Md),Tc.bezierCurveTo(Sd-.448084975506*Pa,Md,Sd,Md+.448084975506*Pa,Sd,Md+Pa),Tc.lineTo(Sd,je-Rc),Tc.bezierCurveTo(Sd,je-.448084975506*Rc,Sd-.448084975506*Rc,je,Sd-Rc,je),Tc.lineTo(yd+qb,je),Tc.bezierCurveTo(yd+.448084975506*qb,je,yd,je-.448084975506*qb,yd,je-qb),Tc.lineTo(yd,Md+pa),Tc.bezierCurveTo(yd,Md+.448084975506*pa,yd+.448084975506*pa,Md,yd+pa,Md),Tc.closePath());if(bd)return Tc=null,bd+""||null}var F=mb,ca=Da,na=Fa,lb=hb,Ib=Ca(0),Sb=Ib,gc=Ib,zc=Ib,Tc=null;u.x=function(Rc){return arguments.length?
(F=Ca(Rc),u):F};u.y=function(Rc){return arguments.length?(ca=Ca(Rc),u):ca};u.width=function(Rc){return arguments.length?(na=Ca(Rc),u):na};u.height=function(Rc){return arguments.length?(lb=Ca(Rc),u):lb};u.cornerRadius=function(Rc,yd,Md,bd){return arguments.length?(Ib=Ca(Rc),Sb=null!=yd?Ca(yd):Ib,zc=null!=Md?Ca(Md):Ib,gc=null!=bd?Ca(bd):Sb,u):Ib};u.context=function(Rc){return arguments.length?(Tc=null==Rc?null:Rc,u):Tc};return u}function ka(){function u(Rc){var yd,Md=Rc.length,bd,Sd=!1,je;null==Ib&&
(Ib=je=Sa.path());for(yd=0;yd<=Md;++yd)if(!(yd<Md&&lb(bd=Rc[yd],yd,Rc))===Sd&&(Sd=!Sd)&&(Sb=0),Sd){{var We=+F(bd,yd,Rc),pa=+ca(bd,yd,Rc);const m=+na(bd,yd,Rc)/2;if(Sb){var Pa=zc-pa,qb=We-gc;if(Pa||qb){var Cb=Math.sqrt(Pa*Pa+qb*qb),Ub=(Pa/=Cb)*Tc;Cb=(qb/=Cb)*Tc;var c=Math.atan2(qb,Pa);Ib.moveTo(gc-Ub,zc-Cb);Ib.lineTo(We-Pa*m,pa-qb*m);Ib.arc(We,pa,m,c-Math.PI,c);Ib.lineTo(gc+Ub,zc+Cb);Ib.arc(gc,zc,Tc,c,c+Math.PI)}else Ib.arc(We,pa,m,0,Ac);Ib.closePath()}else Sb=1;gc=We;zc=pa;Tc=m}}if(je)return Ib=null,
je+""||null}var F,ca,na,lb,Ib=null,Sb,gc,zc,Tc;u.x=function(Rc){return arguments.length?(F=Rc,u):F};u.y=function(Rc){return arguments.length?(ca=Rc,u):ca};u.size=function(Rc){return arguments.length?(na=Rc,u):na};u.defined=function(Rc){return arguments.length?(lb=Rc,u):lb};u.context=function(Rc){return arguments.length?(Ib=null==Rc?null:Rc,u):Ib};return u}function Aa(u,F){return null!=u?u:F}function Ra(u){return u.cornerRadius||u.cornerRadiusTopLeft||u.cornerRadiusTopRight||u.cornerRadiusBottomRight||
u.cornerRadiusBottomLeft}function Ya(u,F,ca,na){return Wa.context(u)(F,ca,na)}function ib(u,F,ca){var na=F.clip;u=u._defs;F=F.clip_id||(F.clip_id="clip"+Gc++);u=u.clipping[F]||(u.clipping[F]={id:F});x.isFunction(na)?u.path=na(null):Ra(ca)?u.path=Ya(null,ca,0,0):(u.width=ca.width||0,u.height=ca.height||0);return"url(#"+F+")"}function db(u){this.clear();u&&this.union(u)}function nb(u){this.mark=u;this.bounds=this.bounds||new db}function $a(u){nb.call(this,u);this.items=this.items||[]}function S(u){this._pending=
0;this._loader=u||fb.loader()}function z(u,F,ca){if(F.stroke&&0!==F.opacity&&0!==F.strokeOpacity){const na=null!=F.strokeWidth?+F.strokeWidth:1;u.expand(na+(ca?F.strokeJoin&&"miter"!==F.strokeJoin?0:na:0))}return u}function I(u,F){Fc=u;F?(se=F*Se,xd=Te=Math.cos(se),zd=Math.sin(se),le=-zd):(xd=Te=1,se=zd=le=0);return Le}function Q(u,F,ca,na){ca=(u-F)/(u+ca-2*F);0<ca&&1>ca&&na(u+(F-u)*ca)}function J(u,F,ca,na,lb){const Ib=na-u+3*F-3*ca,Sb=u+ca-2*F;var gc=u-F;let zc=0,Tc=0;1E-14<Math.abs(Ib)?(gc=Sb*
Sb+gc*Ib,0<=gc&&(gc=Math.sqrt(gc),zc=(-Sb+gc)/Ib,Tc=(-Sb-gc)/Ib)):zc=.5*gc/Sb;0<zc&&1>zc&&lb(W(zc,u,F,ca,na));0<Tc&&1>Tc&&lb(W(Tc,u,F,ca,na))}function W(u,F,ca,na,lb){const Ib=1-u,Sb=Ib*Ib,gc=u*u;return Sb*Ib*F+3*Sb*u*ca+3*Ib*gc*na+gc*u*lb}function Y(u){return function(F,ca){if(!Ze)return!0;u(Ze,F);$f.clear().union(F.bounds).intersect(ca).round();const {x1:na,y1:lb,x2:Ib,y2:Sb}=$f;for(F=lb;F<=Sb;++F)for(ca=na;ca<=Ib;++ca)if(Ze.isPointInPath(ca,F))return!0;return!1}}function ma(u,F){return F.contains(u.x||
0,u.y||0)}function Qa(u,F){const ca=u.x||0,na=u.y||0;return F.intersects($f.set(ca,na,ca+(u.width||0),na+(u.height||0)))}function Ua(u,F){const ca=u.x||0,na=u.y||0;return U(F,ca,na,null!=u.x2?u.x2:ca,null!=u.y2?u.y2:na)}function U(u,F,ca,na,lb){const {x1:Ib,y1:Sb,x2:gc,y2:zc}=u;u=na-F;lb-=ca;na=0;let Tc=1,Rc,yd,Md,bd;for(bd=0;4>bd;++bd){0===bd&&(Rc=-u,yd=-(Ib-F));1===bd&&(Rc=u,yd=gc-F);2===bd&&(Rc=-lb,yd=-(Sb-ca));3===bd&&(Rc=lb,yd=zc-ca);if(1E-10>Math.abs(Rc)&&0>yd)return!1;Md=yd/Rc;if(0>Rc){if(Md>
Tc)return!1;Md>na&&(na=Md)}else if(0<Rc){if(Md<na)return!1;Md<Tc&&(Tc=Md)}}return!0}function sa(u,F){u.globalCompositeOperation=F.blend||"source-over"}function ua(u,F){return null==u?F:u}function la(u,F){const ca=F.length;for(let na=0;na<ca;++na)u.addColorStop(F[na].offset,F[na].color);return u}function T(u,F,ca){const na=ca.width(),lb=ca.height();if("radial"===F.gradient)u=u.createRadialGradient(ca.x1+ua(F.x1,.5)*na,ca.y1+ua(F.y1,.5)*lb,Math.max(na,lb)*ua(F.r1,0),ca.x1+ua(F.x2,.5)*na,ca.y1+ua(F.y2,
.5)*lb,Math.max(na,lb)*ua(F.r2,.5));else{const Ib=ua(F.x1,0),Sb=ua(F.y1,0),gc=ua(F.x2,1),zc=ua(F.y2,0);if(Ib===gc||Sb===zc||na===lb)u=u.createLinearGradient(ca.x1+Ib*na,ca.y1+Sb*lb,ca.x1+gc*na,ca.y1+zc*lb);else{ca=Wb.canvas(Math.ceil(na),Math.ceil(lb));const Tc=ca.getContext("2d");Tc.scale(na,lb);Tc.fillStyle=la(Tc.createLinearGradient(Ib,Sb,gc,zc),F.stops);Tc.fillRect(0,0,na,lb);return u.createPattern(ca,"no-repeat")}}return la(u,F.stops)}function v(u,F,ca){ca*=null==F.fillOpacity?1:F.fillOpacity;
return 0<ca?(u.globalAlpha=ca,F=(ca=F.fill)&&ca.gradient?T(u,ca,F.bounds):ca,u.fillStyle=F,!0):!1}function w(u,F,ca){var na=null!=(na=F.strokeWidth)?na:1;if(0>=na)return!1;ca*=null==F.strokeOpacity?1:F.strokeOpacity;return 0<ca?(u.globalAlpha=ca,ca=(ca=F.stroke)&&ca.gradient?T(u,ca,F.bounds):ca,u.strokeStyle=ca,u.lineWidth=na,u.lineCap=F.strokeCap||"butt",u.lineJoin=F.strokeJoin||"miter",u.miterLimit=F.strokeMiterLimit||10,u.setLineDash&&(u.setLineDash(F.strokeDash||vf),u.lineDashOffset=F.strokeDashOffset||
0),!0):!1}function p(u,F){return u.zindex-F.zindex||u.index-F.index}function r(u){if(!u.zdirty)return u.zitems;var F=u.items,ca=[],na;var lb=0;for(na=F.length;lb<na;++lb){var Ib=F[lb];Ib.index=lb;Ib.zindex&&ca.push(Ib)}u.zdirty=!1;return u.zitems=ca.sort(p)}function D(u,F){var ca=u.items,na;if(ca&&ca.length){var lb=r(u);if(lb&&lb.length){u=0;for(na=ca.length;u<na;++u)ca[u].zindex||F(ca[u]);ca=lb}u=0;for(na=ca.length;u<na;++u)F(ca[u])}}function E(u,F){var ca=u.items,na,lb;if(!ca||!ca.length)return null;
const Ib=r(u);Ib&&Ib.length&&(ca=Ib);for(lb=ca.length;0<=--lb;)if(na=F(ca[lb]))return na;if(ca===Ib)for(ca=u.items,lb=ca.length;0<=--lb;)if(!ca[lb].zindex&&(na=F(ca[lb])))return na;return null}function H(u){return function(F,ca,na){D(ca,lb=>{na&&!na.intersects(lb.bounds)||ha(u,F,lb,lb)})}}function C(u){return function(F,ca,na){!ca.items.length||na&&!na.intersects(ca.bounds)||ha(u,F,ca.items[0],ca.items)}}function ha(u,F,ca,na){var lb=null==ca.opacity?1:ca.opacity;0===lb||u(F,na)||(sa(F,ca),ca.fill&&
v(F,ca,lb)&&F.fill(),ca.stroke&&w(F,ca,lb)&&F.stroke())}function xa(u){u=u||x.truthy;return function(F,ca,na,lb,Ib,Sb){na*=F.pixelRatio;lb*=F.pixelRatio;return E(ca,gc=>{const zc=gc.bounds;if((!zc||zc.contains(Ib,Sb))&&zc&&u(F,gc,na,lb,Ib,Sb))return gc})}}function oa(u,F){return function(ca,na,lb,Ib){var Sb=Array.isArray(na)?na[0]:na,gc=null==F?Sb.fill:F,zc=Sb.stroke&&ca.isPointInStroke;if(zc){var Tc=Sb.strokeWidth;Sb=Sb.strokeCap;ca.lineWidth=null!=Tc?Tc:1;ca.lineCap=null!=Sb?Sb:"butt"}return u(ca,
na)?!1:gc&&ca.isPointInPath(lb,Ib)||zc&&ca.isPointInStroke(lb,Ib)}}function Va(u,F){return"translate("+u+","+F+")"}function Ja(u,F,ca){function na(lb,Ib){var Sb=Ib.x||0,gc=Ib.y||0,zc=Ib.angle||0;lb.translate(Sb,gc);zc&&lb.rotate(zc*=Se);lb.beginPath();F(lb,Ib);zc&&lb.rotate(-zc);lb.translate(-Sb,-gc)}return{type:u,tag:"path",nested:!1,attr:function(lb,Ib){var Sb=Va(Ib.x||0,Ib.y||0)+(Ib.angle?" rotate("+(Ib.angle+")"):"");lb("transform",Sb);lb("d",F(null,Ib))},bound:function(lb,Ib){F(I(lb,Ib.angle),
Ib);return z(lb,Ib).translate(Ib.x||0,Ib.y||0)},draw:H(na),pick:xa(oa(na)),isect:ca||Y(na)}}function ba(u,F,ca){function na(Ib,Sb){Ib.beginPath();F(Ib,Sb)}const lb=oa(na);return{type:u,tag:"path",nested:!0,attr:function(Ib,Sb){Sb=Sb.mark.items;Sb.length&&Ib("d",F(null,Sb))},bound:function(Ib,Sb){Sb=Sb.items;if(0===Sb.length)return Ib;F(I(Ib),Sb);return z(Ib,Sb[0])},draw:C(na),pick:function(Ib,Sb,gc,zc,Tc,Rc){var yd=Sb.items;Sb=Sb.bounds;if(!yd||!yd.length||Sb&&!Sb.contains(Tc,Rc))return null;gc*=
Ib.pixelRatio;zc*=Ib.pixelRatio;return lb(Ib,yd,gc,zc)?yd[0]:null},isect:ma,tip:ca}}function ta(u,F){u.beginPath();Ra(F)?Ya(u,F,0,0):u.rect(0,0,F.width||0,F.height||0);u.clip()}function eb(u){const F=ua(u.strokeWidth,1);return null!=u.strokeOffset?u.strokeOffset:u.stroke&&.5<F&&1.5>F?.5-Math.abs(F-1):0}function xb(u,F,ca,na){const lb=eb(F);u.beginPath();Ya(u,F,(ca||0)+lb,(na||0)+lb)}function Kb(u,F){var ca=u.image;if(!ca||u.url&&u.url!==ca.url)ca={complete:!1,width:0,height:0},F.loadImage(u.url).then(na=>
{u.image=na;u.image.url=u.url});return ca}function fc(u,F){return null!=u.width?u.width:F&&F.width?!1!==u.aspect&&u.height?u.height*F.width/F.height:F.width:0}function Ec(u,F){return null!=u.height?u.height:F&&F.height?!1!==u.aspect&&u.width?u.width*F.height/F.width:F.height:0}function gd(u,F){return"center"===u?F/2:"right"===u?F:0}function Dc(u,F){return"middle"===u?F/2:"bottom"===u?F:0}function Sc(u,F){var ca=F.path;if(null==ca)return!0;var na=F.x||0,lb=F.y||0,Ib=F.scaleX||1,Sb=F.scaleY||1,gc=(F.angle||
0)*Se,zc=F.pathCache;zc&&zc.path===ca||((F.pathCache=zc=ob(ca)).path=ca);gc&&u.rotate&&u.translate?(u.translate(na,lb),u.rotate(gc),Xa(u,zc,0,0,Ib,Sb),u.rotate(-gc),u.translate(-na,-lb)):Xa(u,zc,na,lb,Ib,Sb)}function Ta(u,F){u.beginPath();Ya(u,F)}function nc(u,F,ca){if(F.stroke&&w(u,F,ca)){ca=F.x||0;var na=F.y||0;var lb=null!=F.x2?F.x2:ca;F=null!=F.y2?F.y2:na;u.beginPath();u.moveTo(ca,na);u.lineTo(lb,F);return!0}return!1}function lc(u){Bd.width=u&&Ze?Pc:wc}function wc(u,F){F=Dd(u,F);u=Xc(u);return~~(.8*
F.length*u)}function Pc(u,F){return 0>=Xc(u)||!(F=Dd(u,F))?0:rc(F,sd(u))}function rc(u,F){const ca=`(${F}) ${u}`;let na=Td.get(ca);void 0===na&&(Ze.font=F,na=Ze.measureText(u).width,Td.set(ca,na));return na}function Xc(u){return null!=u.fontSize?+u.fontSize||0:11}function $c(u){return null!=u.lineHeight?u.lineHeight:Xc(u)+2}function Nc(u){u=u.lineBreak&&u.text&&!x.isArray(u.text)?u.text.split(u.lineBreak):u.text;return x.isArray(u)?1<u.length?u:u[0]:u}function Dd(u,F){F=null==F?"":(F+"").trim();if(0<
u.limit&&F.length){var ca=+u.limit,na=we(u);if(!(na(F)<ca)){var lb=u.ellipsis||"",Ib="rtl"===u.dir;u=0;var Sb=F.length;ca-=na(lb);if(Ib){for(;u<Sb;)Ib=u+Sb>>>1,na(F.slice(Ib))>ca?u=Ib+1:Sb=Ib;F=lb+F.slice(u)}else{for(;u<Sb;)Ib=1+(u+Sb>>>1),na(F.slice(0,Ib))<ca?u=Ib:Sb=Ib-1;F=F.slice(0,u)+lb}}}return F}function we(u){if(Bd.width===Pc){const F=sd(u);return ca=>rc(ca,F)}{const F=Xc(u);return ca=>~~(.8*ca.length*F)}}function ld(u,F){u=u.font;return(F&&u?String(u).replace(/"/g,"'"):u)||"sans-serif"}function sd(u,
F){return(u.fontStyle?u.fontStyle+" ":"")+(u.fontVariant?u.fontVariant+" ":"")+(u.fontWeight?u.fontWeight+" ":"")+Xc(u)+"px "+ld(u,F)}function ge(u){var F=u.baseline,ca=Xc(u);return Math.round("top"===F?.79*ca:"middle"===F?.3*ca:"bottom"===F?-.21*ca:"line-top"===F?.29*ca+.5*$c(u):"line-bottom"===F?.29*ca-.5*$c(u):0)}function Ma(u){var F=u.x||0,ca=u.y||0,na=u.radius||0;na&&(u=(u.theta||0)-Ee,F+=na*Math.cos(u),ca+=na*Math.sin(u));Pd.x1=F;Pd.y1=ca;return Pd}function vb(u,F,ca){var na=Bd.height(F),lb=
F.align,Ib=Ma(F),Sb=Ib.x1;Ib=Ib.y1;var gc=F.dx||0,zc=(F.dy||0)+ge(F)-Math.round(.8*na),Tc=Nc(F);x.isArray(Tc)?(na+=$c(F)*(Tc.length-1),Tc=Tc.reduce((Rc,yd)=>Math.max(Rc,Bd.width(F,yd)),0)):Tc=Bd.width(F,Tc);"center"===lb?gc-=Tc/2:"right"===lb&&(gc-=Tc);u.set(gc+=Sb,zc+=Ib,gc+Tc,zc+na);if(F.angle&&!ca)u.rotate(F.angle*Se,Sb,Ib);else if(2===ca)return u.rotatedPoints(F.angle*Se,Sb,Ib);return u}function ac(u,F,ca){var na=ze[u.mark.marktype];F=F||na.bound;na.nested&&(u=u.mark);return F(u.bounds||(u.bounds=
new db),u,ca)}function rd(u,F,ca){var na=ze[u.marktype],lb=na.bound,Ib=u.items,Sb=Ib&&Ib.length;if(na.nested)return Sb?u=Ib[0]:(Sf.mark=u,u=Sf),ca=ac(u,lb,ca),F=F&&F.union(ca)||ca;F=F||u.bounds&&u.bounds.clear()||new db;if(Sb)for(na=0,Sb=Ib.length;na<Sb;++na)F.union(ac(Ib[na],lb,ca));return u.bounds=F}function vd(u,F){return JSON.stringify(u,be,F)}function de(u){u="string"===typeof u?JSON.parse(u):u;return oe(u)}function oe(u){var F=u.marktype,ca=u.items,na;if(ca){var lb=0;for(na=ca.length;lb<na;++lb){var Ib=
F?"mark":"group";ca[lb][Ib]=u;ca[lb].zindex&&(ca[lb][Ib].zdirty=!0);"group"===(F||Ib)&&oe(ca[lb])}}F&&rd(u);return u}function Z(u){arguments.length?this.root=de(u):(this.root=za({marktype:"group",name:"root",role:"frame"}),this.root.items=[new $a(this.root)])}function za(u,F){F={bounds:new db,clip:!!u.clip,group:F,interactive:!1===u.interactive?!1:!0,items:[],marktype:u.marktype,name:u.name||void 0,role:u.role||void 0,zindex:u.zindex||0};null!=u.aria&&(F.aria=u.aria);u.description&&(F.description=
u.description);return F}function gb(u,F,ca){!u&&"undefined"!==typeof document&&document.createElement&&(u=document);return u?ca?u.createElementNS(ca,F):u.createElement(F):null}function Db(u,F){F=F.toLowerCase();u=u.childNodes;for(var ca=0,na=u.length;ca<na;++ca)if(u[ca].tagName.toLowerCase()===F)return u[ca]}function Zb(u,F,ca,na){F=u.childNodes[F];if(!F||F.tagName.toLowerCase()!==ca.toLowerCase()){var lb=F||null;F=gb(u.ownerDocument,ca,na);u.insertBefore(F,lb)}return F}function Gb(u,F){for(var ca=
u.childNodes,na=ca.length;na>F;)u.removeChild(ca[--na]);return u}function sc(u){return"mark-"+u.marktype+(u.role?" role-"+u.role:"")+(u.name?" "+u.name:"")}function kc(u,F){const ca=F.getBoundingClientRect();return[u.clientX-ca.left-(F.clientLeft||0),u.clientY-ca.top-(F.clientTop||0)]}function Oa(u,F){this._active=null;this._handlers={};this._loader=u||fb.loader();this._tooltip=F||sb}function sb(u,F,ca,na){u.element().setAttribute("title",na||"")}function Lb(u){this._bgcolor=this._el=null;this._loader=
new S(u)}function hc(u,F){Oa.call(this,u,F);this._touch=this._down=null;this._first=!0;this._events={}}function tc(u,F){("touchstart"===F||"touchmove"===F||"touchend"===F?["touchstart","touchmove","touchend"]:[F]).forEach(ca=>Bc(u,ca))}function Bc(u,F){const ca=u.canvas();ca&&!u._events[F]&&(u._events[F]=1,ca.addEventListener(F,u[F]?na=>u[F](na):na=>u.fire(F,na)))}function Mc(u,F,ca){return function(na){const lb=this._active,Ib=this.pickEvent(na);Ib!==lb&&(lb&&lb.exit||this.fire(ca,na),this._active=
Ib,this.fire(F,na));this.fire(u,na)}}function Hb(u){return function(F){this.fire(u,F);this._active=null}}function yc(u){Lb.call(this,u);this._options={};this._redraw=!1;this._dirty=new db;this._tempb=new db}function Cc(u,F){Oa.call(this,u,F);const ca=this;ca._hrefHandler=Kf(ca,(na,lb)=>{lb&&lb.href&&ca.handleHref(na,lb,lb.href)});ca._tooltipHandler=Kf(ca,(na,lb)=>{ca.handleTooltip(na,lb,"mouseout"!==na.type)})}function xc(u,F){var ca=!1===F.aria;u("aria-hidden",ca||void 0);if(ca||null==F.description)for(const na in P)u(P[na],
void 0);else ca=F.mark.marktype,u("aria-label",F.description),u("role",F.ariaRole||("group"===ca?"graphics-object":"graphics-symbol")),u("aria-roledescription",F.ariaRoleDescription||`${ca} mark`)}function Jc(u){return!1===u.aria?{["aria-hidden"]:!0}:gg[u.role]?null:O[u.role]?Uc(u,O[u.role]):Yc(u)}function Yc(u){const F=u.marktype,ca="group"===F||"text"===F||u.items.some(na=>null!=na.description&&!1!==na.aria);return ef(ca?"graphics-object":"graphics-symbol",`${F} mark container`,u.description)}function Uc(u,
F){try{const ca=u.items[0],na=F.caption||(()=>"");return ef(F.role||"graphics-symbol",F.desc,ca.description||na(ca))}catch(ca){return null}}function od(u){try{return x.array(x.peek(u.items).items[0].text).join(" ")}catch(F){return null}}function qd(u){u=u.map(F=>F+("fill"===F||"stroke"===F?" color":""));return 2>u.length?u[0]:u.slice(0,-1).join(", ")+" and "+x.peek(u)}function Id(){let u="",F="",ca="";const na=[],lb=(Sb,gc)=>{null!=gc&&(F+=` ${Sb}="${aa(gc).replace(/"/g,"\x26quot;").replace(/\t/g,
"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return Ib},Ib={open(Sb,...gc){F&&(u+=`${F}>${ca}`,F=ca="");na.push(Sb);F="\x3c"+Sb;for(const zc of gc)for(const Tc in zc)lb(Tc,zc[Tc]);return Ib},close(){const Sb=na.pop();u=F?u+(F+(ca?`>${ca}</${Sb}>`:"/\x3e")):u+`</${Sb}>`;F=ca="";return Ib},attr:lb,text:Sb=>(ca+=aa(Sb),Ib),toString:()=>u};return Ib}function Ed(u,F){u.open(F.tagName);if(F.hasAttributes()){var ca=F.attributes,na=ca.length;for(var lb=0;lb<na;++lb)u.attr(ca[lb].name,
ca[lb].value)}if(F.hasChildNodes())for(F=F.childNodes,ca=F.length,na=0;na<ca;na++)lb=F[na],3===lb.nodeType?u.text(lb.nodeValue):Ed(u,lb);return u.close()}function Wd(u){Lb.call(this,u);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function me(u,F){for(;u&&u.dirty!==F;u=u.mark.group)if(u.dirty=F,u.mark&&u.mark.dirty!==F)u.mark.dirty=F;else break}function ye(u,F,ca){F=F.lastChild.previousSibling;let na,lb=0;D(ca,Ib=>{na=u.mark(F,Ib,na);++lb});Gb(F,1+lb)}function Ye(u,F,ca,na,lb){let Ib=
u._svg;if(!Ib){var Sb=F.ownerDocument;Ib=gb(Sb,na,ab);u._svg=Ib;u.mark&&(Ib.__data__=u,Ib.__values__={fill:"default"},"g"===na&&(na=gb(Sb,"path",ab),Ib.appendChild(na),na.__data__=u,na=gb(Sb,"g",ab),Ib.appendChild(na),na.__data__=u,Sb=gb(Sb,"path",ab),Ib.appendChild(Sb),Sb.__data__=u,Sb.__values__={fill:"default"}))}(Ib.ownerSVGElement!==lb||Ib.parentNode&&1<Ib.parentNode.childNodes.length&&Ib.previousSibling!=ca)&&F.insertBefore(Ib,ca?ca.nextSibling:F.firstChild);return Ib}function Qe(u,F,ca){if(F!==
Ab[u]){if(ca){var na=pb;null!=F?na.setAttributeNS(ca,u,F):na.removeAttributeNS(ca,u)}else ee(pb,u,F);Ab[u]=F}}function Re(u,F,ca){ca!==Ab[F]&&(null==ca?u.style.removeProperty(F):u.style.setProperty(F,ca+""),Ab[F]=ca)}function Fd(u,F){for(const ca in F)ee(u,ca,F[ca])}function ee(u,F,ca){null!=ca?u.setAttribute(F,ca):u.removeAttribute(F)}function ff(){let u;return"undefined"===typeof window?"":(u=window.location).hash?u.href.slice(0,-u.hash.length):u.href}function Oe(u){Lb.call(this,u);this._text=null;
this._defs={gradient:{},clipping:{}}}function Bf(u,F,ca,na,lb){if(null==F)return u;"bgrect"===na&&!1===ca.interactive&&(u["pointer-events"]="none");if("bgfore"===na&&(!1===ca.interactive&&(u["pointer-events"]="none"),u.display="none",null!==F.fill))return u;"image"===na&&!1===F.smooth&&(u.style="image-rendering: optimizeSpeed; image-rendering: pixelated;");"text"===na&&(u["font-family"]=ld(F),u["font-size"]=Xc(F)+"px",u["font-style"]=F.fontStyle,u["font-variant"]=F.fontVariant,u["font-weight"]=F.fontWeight);
for(const Ib in ya)ca=F[Ib],na=ya[Ib],("transparent"!==ca||"fill"!==na&&"stroke"!==na)&&null!=ca&&(ca&&ca.gradient&&(ca=Ob(ca,lb.gradient,"")),u[na]=ca);return u}function Yd(u,F,ca,na){if(u.bounds&&F.intersects(u.bounds)&&("group"===u.marktype||!1!==u.interactive&&(!ca||ca(u)))){const Ib=u.items;var lb=u.marktype;u=Ib.length;let Sb=0;if("group"===lb)for(;Sb<u;++Sb)Ae(Ib[Sb],F,ca,na);else for(ca=ze[lb].isect;Sb<u;++Sb)lb=Ib[Sb],cf(lb,F,ca)&&na.push(lb)}return na}function Ae(u,F,ca,na){ca&&ca(u.mark)&&
cf(u,F,ze.group.isect)&&na.push(u);const lb=u.items,Ib=lb&&lb.length;if(Ib){const Sb=u.x||0;u=u.y||0;F.translate(-Sb,-u);for(let gc=0;gc<Ib;++gc)Yd(lb[gc],F,ca,na);F.translate(Sb,u)}return na}function cf(u,F,ca){const na=u.bounds;return F.encloses(na)||F.intersects(na)&&ca(u,F)}function re(u,F,ca){return u===F?!0:"path"===ca?Ad(u,F):u instanceof Date&&F instanceof Date?+u===+F:x.isNumber(u)&&x.isNumber(F)?1E-9>=Math.abs(u-F):u&&F&&(x.isObject(u)||x.isObject(F))?Ld(u,F):u==F}function Ad(u,F){return re(ob(u),
ob(F))}function Ld(u,F){var ca=Object.keys(u),na=Object.keys(F),lb;if(ca.length!==na.length)return!1;ca.sort();na.sort();for(lb=ca.length-1;0<=lb;lb--)if(ca[lb]!=na[lb])return!1;for(lb=ca.length-1;0<=lb;lb--)if(na=ca[lb],!re(u[na],F[na],na))return!1;return typeof u===typeof F}let ae=0;const Jf={basis:{curve:ea.curveBasis},"basis-closed":{curve:ea.curveBasisClosed},"basis-open":{curve:ea.curveBasisOpen},bundle:{curve:ea.curveBundle,tension:"beta",value:.85},cardinal:{curve:ea.curveCardinal,tension:"tension",
value:0},"cardinal-open":{curve:ea.curveCardinalOpen,tension:"tension",value:0},"cardinal-closed":{curve:ea.curveCardinalClosed,tension:"tension",value:0},"catmull-rom":{curve:ea.curveCatmullRom,tension:"alpha",value:.5},"catmull-rom-closed":{curve:ea.curveCatmullRomClosed,tension:"alpha",value:.5},"catmull-rom-open":{curve:ea.curveCatmullRomOpen,tension:"alpha",value:.5},linear:{curve:ea.curveLinear},"linear-closed":{curve:ea.curveLinearClosed},monotone:{horizontal:ea.curveMonotoneY,vertical:ea.curveMonotoneX},
natural:{curve:ea.curveNatural},step:{curve:ea.curveStep},"step-after":{curve:ea.curveStepAfter},"step-before":{curve:ea.curveStepBefore}},De={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},Jd=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/],Se=Math.PI/180,Ee=Math.PI/2,Ac=2*Math.PI,Be=Math.sqrt(3)/2;var Xd={},cc={},Je=[].join;const pe=["l",0,0,0,0,0,0,0],Ke={circle:{draw:function(u,F){F=Math.sqrt(F)/2;u.moveTo(F,0);u.arc(0,0,F,0,Ac)}},cross:{draw:function(u,F){F=Math.sqrt(F)/2;
var ca=F/2.5;u.moveTo(-F,-ca);u.lineTo(-F,ca);u.lineTo(-ca,ca);u.lineTo(-ca,F);u.lineTo(ca,F);u.lineTo(ca,ca);u.lineTo(F,ca);u.lineTo(F,-ca);u.lineTo(ca,-ca);u.lineTo(ca,-F);u.lineTo(-ca,-F);u.lineTo(-ca,-ca);u.closePath()}},diamond:{draw:function(u,F){F=Math.sqrt(F)/2;u.moveTo(-F,0);u.lineTo(0,-F);u.lineTo(F,0);u.lineTo(0,F);u.closePath()}},square:{draw:function(u,F){F=Math.sqrt(F);var ca=-F/2;u.rect(ca,ca,F,F)}},arrow:{draw:function(u,F){F=Math.sqrt(F)/2;var ca=F/7,na=F/2.5,lb=F/8;u.moveTo(-ca,
F);u.lineTo(ca,F);u.lineTo(ca,-lb);u.lineTo(na,-lb);u.lineTo(0,-F);u.lineTo(-na,-lb);u.lineTo(-ca,-lb);u.closePath()}},wedge:{draw:function(u,F){var ca=Math.sqrt(F)/2;F=Be*ca;var na=F-.5773502691896257*ca;ca/=4;u.moveTo(0,-F-na);u.lineTo(-ca,F-na);u.lineTo(ca,F-na);u.closePath()}},triangle:{draw:function(u,F){F=Math.sqrt(F)/2;var ca=Be*F,na=ca-.5773502691896257*F;u.moveTo(0,-ca-na);u.lineTo(-F,ca-na);u.lineTo(F,ca-na);u.closePath()}},"triangle-up":{draw:function(u,F){F=Math.sqrt(F)/2;var ca=Be*F;
u.moveTo(0,-ca);u.lineTo(-F,ca);u.lineTo(F,ca);u.closePath()}},"triangle-down":{draw:function(u,F){F=Math.sqrt(F)/2;var ca=Be*F;u.moveTo(0,ca);u.lineTo(-F,-ca);u.lineTo(F,-ca);u.closePath()}},"triangle-right":{draw:function(u,F){F=Math.sqrt(F)/2;var ca=Be*F;u.moveTo(ca,0);u.lineTo(-ca,-F);u.lineTo(-ca,F);u.closePath()}},"triangle-left":{draw:function(u,F){F=Math.sqrt(F)/2;var ca=Be*F;u.moveTo(-ca,0);u.lineTo(ca,-F);u.lineTo(ca,F);u.closePath()}},stroke:{draw:function(u,F){F=Math.sqrt(F)/2;u.moveTo(-F,
0);u.lineTo(F,0)}}};var Cf={};const kf=u=>u.x||0,tf=u=>u.y||0,Pe=u=>!1!==u.defined,N=ea.arc().startAngle(u=>u.startAngle||0).endAngle(u=>u.endAngle||0).padAngle(u=>u.padAngle||0).innerRadius(u=>u.innerRadius||0).outerRadius(u=>u.outerRadius||0).cornerRadius(u=>u.cornerRadius||0),V=ea.area().x(kf).y1(tf).y0(u=>(u.y||0)+(u.height||0)).defined(Pe),wa=ea.area().y(tf).x1(kf).x0(u=>(u.x||0)+(u.width||0)).defined(Pe),Ka=ea.line().x(kf).y(tf).defined(Pe),Wa=La().x(kf).y(tf).width(u=>u.width||0).height(u=>
u.height||0).cornerRadius(u=>Aa(u.cornerRadiusTopLeft,u.cornerRadius)||0,u=>Aa(u.cornerRadiusTopRight,u.cornerRadius)||0,u=>Aa(u.cornerRadiusBottomRight,u.cornerRadius)||0,u=>Aa(u.cornerRadiusBottomLeft,u.cornerRadius)||0),Vb=ea.symbol().type(u=>Ia(u.shape||"circle")).size(u=>Aa(u.size,64)),mc=ka().x(kf).y(tf).defined(Pe).size(u=>u.size||1);var Gc=1;db.prototype={clone(){return new db(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;
return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(u){return this.x1===u.x1&&this.y1===u.y1&&this.x2===u.x2&&this.y2===u.y2},set(u,F,ca,na){ca<u?(this.x2=u,this.x1=ca):(this.x1=u,this.x2=ca);na<F?(this.y2=F,this.y1=na):(this.y1=F,this.y2=na);return this},add(u,F){u<this.x1&&(this.x1=u);F<this.y1&&(this.y1=F);u>this.x2&&(this.x2=u);F>this.y2&&(this.y2=F);return this},expand(u){this.x1-=u;this.y1-=u;
this.x2+=u;this.y2+=u;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);this.y2=Math.ceil(this.y2);return this},scale(u){this.x1*=u;this.y1*=u;this.x2*=u;this.y2*=u;return this},translate(u,F){this.x1+=u;this.x2+=u;this.y1+=F;this.y2+=F;return this},rotate(u,F,ca){u=this.rotatedPoints(u,F,ca);return this.clear().add(u[0],u[1]).add(u[2],u[3]).add(u[4],u[5]).add(u[6],u[7])},rotatedPoints(u,F,ca){var {x1:na,y1:lb,x2:Ib,y2:Sb}=this,gc=Math.cos(u);
u=Math.sin(u);var zc=F-F*gc+ca*u;F=ca-F*u-ca*gc;return[gc*na-u*lb+zc,u*na+gc*lb+F,gc*na-u*Sb+zc,u*na+gc*Sb+F,gc*Ib-u*lb+zc,u*Ib+gc*lb+F,gc*Ib-u*Sb+zc,u*Ib+gc*Sb+F]},union(u){u.x1<this.x1&&(this.x1=u.x1);u.y1<this.y1&&(this.y1=u.y1);u.x2>this.x2&&(this.x2=u.x2);u.y2>this.y2&&(this.y2=u.y2);return this},intersect(u){u.x1>this.x1&&(this.x1=u.x1);u.y1>this.y1&&(this.y1=u.y1);u.x2<this.x2&&(this.x2=u.x2);u.y2<this.y2&&(this.y2=u.y2);return this},encloses(u){return u&&this.x1<=u.x1&&this.x2>=u.x2&&this.y1<=
u.y1&&this.y2>=u.y2},alignsWith(u){return u&&(this.x1==u.x1||this.x2==u.x2||this.y1==u.y1||this.y2==u.y2)},intersects(u){return u&&!(this.x2<u.x1||this.x1>u.x2||this.y2<u.y1||this.y1>u.y2)},contains(u,F){return!(u<this.x1||u>this.x2||F<this.y1||F>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};x.inherits($a,nb);S.prototype={pending(){return this._pending},sanitizeURL(u){const F=this;F._pending+=1;return F._loader.sanitize(u,{context:"href"}).then(ca=>{--F._pending;return ca}).catch(()=>
{--F._pending;return null})},loadImage(u){const F=this,ca=Wb.image();F._pending+=1;return F._loader.sanitize(u,{context:"image"}).then(na=>{const lb=na.href;if(!lb||!ca)throw{url:lb};const Ib=new ca;na=x.hasOwnProperty(na,"crossOrigin")?na.crossOrigin:"anonymous";null!=na&&(Ib.crossOrigin=na);Ib.onload=()=>{--F._pending};Ib.onerror=()=>{--F._pending};Ib.src=lb;return Ib}).catch(na=>{--F._pending;return{complete:!1,width:0,height:0,src:na&&na.url||""}})},ready(){const u=this;return new Promise(F=>
{function ca(na){u.pending()?setTimeout(()=>{ca(!0)},10):F(na)}ca(!1)})}};const uc=Ac-1E-8;let Fc,id,fd,se,xd,zd,le,Te;const Me=(u,F)=>{u=id=u;F=fd=F;return Fc.add(u,F)},uf=u=>Fc.add(u,Fc.y1),Zf=u=>Fc.add(Fc.x1,u),pd=(u,F)=>Fc.add(xd*u+le*F,zd*u+Te*F),Ue=(u,F)=>Me(xd*u+le*F,zd*u+Te*F),Le={beginPath(){},closePath(){},moveTo:Ue,lineTo:Ue,rect(u,F,ca,na){se?(pd(u+ca,F),pd(u+ca,F+na),pd(u,F+na),Ue(u,F)):(Fc.add(u+ca,F+na),Me(u,F))},quadraticCurveTo(u,F,ca,na){const lb=zd*u+Te*F,Ib=xd*ca+le*na;ca=zd*ca+
Te*na;Q(id,xd*u+le*F,Ib,uf);Q(fd,lb,ca,Zf);Me(Ib,ca)},bezierCurveTo(u,F,ca,na,lb,Ib){const Sb=zd*u+Te*F,gc=zd*ca+Te*na,zc=xd*lb+le*Ib;lb=zd*lb+Te*Ib;J(id,xd*u+le*F,xd*ca+le*na,zc,uf);J(fd,Sb,gc,lb,Zf);Me(zc,lb)},arc(u,F,ca,na,lb,Ib){na+=se;lb+=se;id=ca*Math.cos(lb)+u;fd=ca*Math.sin(lb)+F;if(Math.abs(lb-na)>uc)Fc.add(u-ca,F-ca),Fc.add(u+ca,F+ca);else{const Sb=zc=>Fc.add(ca*Math.cos(zc)+u,ca*Math.sin(zc)+F);let gc;Sb(na);Sb(lb);if(lb!==na)if(na%=Ac,0>na&&(na+=Ac),lb%=Ac,0>lb&&(lb+=Ac),lb<na&&(Ib=!Ib,
gc=na,na=lb,lb=gc),Ib)for(lb-=Ac,gc=na-na%Ee,na=0;4>na&&gc>lb;++na,gc-=Ee)Sb(gc);else for(gc=na-na%Ee+Ee,na=0;4>na&&gc<lb;++na,gc+=Ee)Sb(gc)}}};var Ze=(Ze=Wb.canvas(1,1))?Ze.getContext("2d"):null;const $f=new db;var vf=[],ag=Ja("arc",function(u,F){return N.context(u)(F)}),df=ba("area",function(u,F){const ca=F[0];return("horizontal"===ca.orient?wa:V).curve(cb(ca.interpolate||"linear",ca.orient,ca.tension)).context(u)(F)},function(u,F){F="horizontal"===u[0].orient?F[1]:F[0];for(var ca="horizontal"===
u[0].orient?"y":"x",na=u.length,lb=Infinity,Ib,Sb;0<=--na;)!1!==u[na].defined&&(Sb=Math.abs(u[na][ca]-F),Sb<lb&&(lb=Sb,Ib=u[na]));return Ib});const M=oa(xb),fa=oa(xb,!1),kb=oa(xb,!0);var Qb={type:"group",tag:"g",nested:!1,attr:function(u,F){u("transform",Va(F.x||0,F.y||0))},bound:function(u,F){if(!F.clip&&F.items){const ca=F.items,na=ca.length;for(let lb=0;lb<na;++lb)u.union(ca[lb].bounds)}(F.clip||F.width||F.height)&&!F.noBound&&u.add(0,0).add(F.width||0,F.height||0);z(u,F);return u.translate(F.x||
0,F.y||0)},draw:function(u,F,ca){D(F,na=>{const lb=na.x||0,Ib=na.y||0,Sb=na.strokeForeground,gc=null==na.opacity?1:na.opacity;(na.stroke||na.fill)&&gc&&(xb(u,na,lb,Ib),sa(u,na),na.fill&&v(u,na,gc)&&u.fill(),na.stroke&&!Sb&&w(u,na,gc)&&u.stroke());u.save();u.translate(lb,Ib);na.clip&&ta(u,na);ca&&ca.translate(-lb,-Ib);D(na,zc=>{this.draw(u,zc,ca)});ca&&ca.translate(lb,Ib);u.restore();Sb&&na.stroke&&gc&&(xb(u,na,lb,Ib),sa(u,na),w(u,na,gc)&&u.stroke())})},pick:function(u,F,ca,na,lb,Ib){if(F.bounds&&
!F.bounds.contains(lb,Ib)||!F.items)return null;const Sb=ca*u.pixelRatio,gc=na*u.pixelRatio;return E(F,zc=>{let Tc,Rc;var yd=zc.bounds;if(!yd||yd.contains(lb,Ib)){Tc=zc.x||0;Rc=zc.y||0;yd=Tc+(zc.width||0);var Md=Rc+(zc.height||0),bd=zc.clip;if(!bd||!(lb<Tc||lb>yd||Ib<Rc||Ib>Md)){u.save();u.translate(Tc,Rc);Tc=lb-Tc;Rc=Ib-Rc;if(bd&&Ra(zc)&&!kb(u,zc,Sb,gc))return u.restore(),null;Md=zc.strokeForeground;if((bd=!1!==F.interactive)&&Md&&zc.stroke&&fa(u,zc,Sb,gc))return u.restore(),zc;yd=E(zc,Sd=>(!1!==
Sd.interactive||"group"===Sd.marktype)&&Sd.bounds&&Sd.bounds.contains(Tc,Rc)?this.pick(Sd,ca,na,Tc,Rc):null);!yd&&bd&&(zc.fill||!Md&&zc.stroke)&&M(u,zc,Sb,gc)&&(yd=zc);u.restore();return yd||null}}})},isect:Qa,content:function(u,F,ca){F=F.clip?ib(ca,F,F):null;u("clip-path",F)},background:function(u,F){u("class","background");u("aria-hidden",!0);{const ca=eb(F);u("d",Ya(null,F,ca,ca))}},foreground:function(u,F){u("class","foreground");u("aria-hidden",!0);if(F.strokeForeground){{const ca=eb(F);u("d",
Ya(null,F,ca,ca))}}else u("d","")}},Mb={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},bc={type:"image",tag:"image",nested:!1,attr:function(u,F,ca){var na=Kb(F,ca);ca=fc(F,na);const lb=Ec(F,na),Ib=(F.x||0)-gd(F.align,ca),Sb=(F.y||0)-Dc(F.baseline,lb);na=!na.src&&na.toDataURL?na.toDataURL():na.src||"";u("href",na,Mb["xmlns:xlink"],"xlink:href");u("transform",Va(Ib,Sb));u("width",ca);u("height",lb);u("preserveAspectRatio",!1===F.aspect?"none":"xMidYMid")},
bound:function(u,F){var ca=F.image;const na=fc(F,ca);ca=Ec(F,ca);const lb=(F.x||0)-gd(F.align,na);F=(F.y||0)-Dc(F.baseline,ca);return u.set(lb,F,lb+na,F+ca)},draw:function(u,F,ca){D(F,na=>{if(!ca||ca.intersects(na.bounds)){var lb=Kb(na,this),Ib=fc(na,lb),Sb=Ec(na,lb),gc=(na.x||0)-gd(na.align,Ib),zc=(na.y||0)-Dc(na.baseline,Sb),Tc;if(!1!==na.aspect){var Rc=lb.width/lb.height;var yd=na.width/na.height;Rc===Rc&&yd===yd&&Rc!==yd&&(yd<Rc?(Rc=Ib/Rc,zc+=(Sb-Rc)/2,Sb=Rc):(Rc*=Sb,gc+=(Ib-Rc)/2,Ib=Rc))}if(lb.complete||
lb.toDataURL)sa(u,na),u.globalAlpha=null!=(Tc=na.opacity)?Tc:1,u.imageSmoothingEnabled=!1!==na.smooth,u.drawImage(lb,gc,zc,Ib,Sb)}})},pick:xa(),isect:x.truthy,get:Kb,xOffset:gd,yOffset:Dc},jc=ba("line",function(u,F){const ca=F[0];return Ka.curve(cb(ca.interpolate||"linear",ca.orient,ca.tension)).context(u)(F)},function(u,F){for(var ca=Math.pow(u[0].strokeWidth||1,2),na=u.length,lb,Ib;0<=--na;)if(!1!==u[na].defined&&(lb=u[na].x-F[0],Ib=u[na].y-F[1],lb=lb*lb+Ib*Ib,lb<ca))return u[na];return null}),
Qc={type:"path",tag:"path",nested:!1,attr:function(u,F){var ca=F.scaleY||1;1===(F.scaleX||1)&&1===ca||u("vector-effect","non-scaling-stroke");ca=Va(F.x||0,F.y||0)+(F.angle?" rotate("+(F.angle+")"):"")+(F.scaleX||F.scaleY?" scale("+((F.scaleX||1)+","+(F.scaleY||1)+")"):"");u("transform",ca);u("d",F.path)},bound:function(u,F){return Sc(I(u,F.angle),F)?u.set(0,0,0,0):z(u,F,!0)},draw:H(Sc),pick:xa(oa(Sc)),isect:Y(Sc)},Kc={type:"rect",tag:"path",nested:!1,attr:function(u,F){u("d",Ya(null,F))},bound:function(u,
F){var ca,na;return z(u.set(ca=F.x||0,na=F.y||0,ca+F.width||0,na+F.height||0),F)},draw:H(Ta),pick:xa(oa(Ta)),isect:Qa},ad={type:"rule",tag:"line",nested:!1,attr:function(u,F){u("transform",Va(F.x||0,F.y||0));u("x2",null!=F.x2?F.x2-(F.x||0):0);u("y2",null!=F.y2?F.y2-(F.y||0):0)},bound:function(u,F){var ca,na;return z(u.set(ca=F.x||0,na=F.y||0,null!=F.x2?F.x2:ca,null!=F.y2?F.y2:na),F)},draw:function(u,F,ca){D(F,na=>{if(!ca||ca.intersects(na.bounds)){var lb=null==na.opacity?1:na.opacity;lb&&nc(u,na,
lb)&&(sa(u,na),u.stroke())}})},pick:xa(function(u,F,ca,na){return u.isPointInStroke?nc(u,F,1)&&u.isPointInStroke(ca,na):!1}),isect:Ua},ud=Ja("shape",function(u,F){return(F.mark.shape||F.shape).context(u)(F)}),Nd=Ja("symbol",function(u,F){return Vb.context(u)(F)},ma);const Td=x.lruCache();var Bd={height:Xc,measureWidth:Pc,estimateWidth:wc,width:wc,canvas:lc};lc(!0);const af={left:"start",center:"middle",right:"end"},Pd=new db;var Fe={type:"text",tag:"text",nested:!1,attr:function(u,F){var ca=F.dx||
0,na=(F.dy||0)+ge(F),lb=Ma(F),Ib=lb.x1;lb=lb.y1;var Sb=F.angle||0;u("text-anchor",af[F.align]||"start");if(Sb){if(F=Va(Ib,lb)+" rotate("+(Sb+")"),ca||na)F+=" "+Va(ca,na)}else F=Va(Ib+ca,lb+na);u("transform",F)},bound:vb,draw:function(u,F,ca){D(F,na=>{var lb=null==na.opacity?1:na.opacity,Ib;if(!(ca&&!ca.intersects(na.bounds)||0===lb||0>=na.fontSize||null==na.text||0===na.text.length)){u.font=sd(na);u.textAlign=na.align||"left";var Sb=Ma(na);var gc=Sb.x1;Sb=Sb.y1;na.angle&&(u.save(),u.translate(gc,
Sb),u.rotate(na.angle*Se),gc=Sb=0);gc+=na.dx||0;Sb+=(na.dy||0)+ge(na);var zc=Nc(na);sa(u,na);if(x.isArray(zc)){var Tc=$c(na);for(Ib=0;Ib<zc.length;++Ib){var Rc=Dd(na,zc[Ib]);na.fill&&v(u,na,lb)&&u.fillText(Rc,gc,Sb);na.stroke&&w(u,na,lb)&&u.strokeText(Rc,gc,Sb);Sb+=Tc}}else Rc=Dd(na,zc),na.fill&&v(u,na,lb)&&u.fillText(Rc,gc,Sb),na.stroke&&w(u,na,lb)&&u.strokeText(Rc,gc,Sb);na.angle&&u.restore()}})},pick:xa(function(u,F,ca,na,lb,Ib){if(0>=F.fontSize)return!1;if(!F.angle)return!0;ca=Ma(F);u=ca.x1;ca=
ca.y1;na=vb(Pd,F,1);var Sb=-F.angle*Se;F=Math.cos(Sb);Sb=Math.sin(Sb);return na.contains(F*lb-Sb*Ib+(u-F*u+Sb*ca),Sb*lb+F*Ib+(ca-Sb*u-F*ca))}),isect:function(u,F){u=vb(Pd,u,2);return U(F,u[0],u[1],u[2],u[3])||U(F,u[0],u[1],u[4],u[5])||U(F,u[4],u[5],u[6],u[7])||U(F,u[2],u[3],u[6],u[7])}},he=ba("trail",function(u,F){return mc.context(u)(F)},function(u,F){for(var ca=u.length,na,lb;0<=--ca;)if(!1!==u[ca].defined&&(na=u[ca].x-F[0],lb=u[ca].y-F[1],lb=na*na+lb*lb,na=u[ca].size||1,lb<na*na))return u[ca];
return null}),ze={arc:ag,area:df,group:Qb,image:bc,line:jc,path:Qc,rect:Kc,rule:ad,shape:ud,symbol:Nd,text:Fe,trail:he},Sf={mark:null};const be="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
Z.prototype={toJSON(u){return vd(this.root,u||0)},mark(u,F,ca){F=F||this.root.items[0];u=za(u,F);F.items[ca]=u;u.zindex&&(u.group.zdirty=!0);return u}};Oa.prototype={initialize(u,F,ca){this._el=u;this._obj=ca||null;return this.origin(F)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(u){return arguments.length?(this._origin=u||[0,0],this):this._origin.slice()},scene(u){if(!arguments.length)return this._scene;this._scene=u;return this},on(){},off(){},_handlerIndex(u,
F,ca){for(let na=u?u.length:0;0<=--na;)if(u[na].type===F&&(!ca||u[na].handler===ca))return na;return-1},handlers(u){const F=this._handlers,ca=[];if(u)ca.push(...F[this.eventName(u)]);else for(const na in F)ca.push(...F[na]);return ca},eventName(u){const F=u.indexOf(".");return 0>F?u:u.slice(0,F)},handleHref(u,F,ca){this._loader.sanitize(ca,{context:"href"}).then(na=>{const lb=new MouseEvent(u.type,u),Ib=gb(null,"a");for(const Sb in na)Ib.setAttribute(Sb,na[Sb]);Ib.dispatchEvent(lb)}).catch(()=>{})},
handleTooltip(u,F,ca){if(F&&null!=F.tooltip){var na=this.canvas(),lb=this._origin,Ib=F&&F.mark,Sb;if(Ib&&(Sb=ze[Ib.marktype]).tip){na=kc(u,na);na[0]-=lb[0];for(na[1]-=lb[1];F=F.mark.group;)na[0]-=F.x||0,na[1]-=F.y||0;F=Sb.tip(Ib.items,na)}this._tooltip.call(this._obj,this,u,F,ca&&F&&F.tooltip||null)}},getItemBoundingClientRect(u){var F=this.canvas();if(F){var ca=F.getBoundingClientRect(),na=this._origin,lb=u.bounds;F=lb.width();var Ib=lb.height(),Sb=lb.x1+na[0]+ca.left;for(ca=lb.y1+na[1]+ca.top;u.mark&&
(u=u.mark.group);)Sb+=u.x||0,ca+=u.y||0;return{x:Sb,y:ca,width:F,height:Ib,left:Sb,top:ca,right:Sb+F,bottom:ca+Ib}}}};Lb.prototype={initialize(u,F,ca,na,lb){this._el=u;return this.resize(F,ca,na,lb)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(u){if(0===arguments.length)return this._bgcolor;this._bgcolor=u;return this},resize(u,F,ca,na){this._width=u;this._height=F;this._origin=ca||[0,0];this._scale=na||1;return this},dirty(){},render(u){const F=this;F._call=
function(){F._render(u)};F._call();F._call=null;return F},_render(){},renderAsync(u){const F=this.render(u);return this._ready?this._ready.then(()=>F):Promise.resolve(F)},_load(u,F){var ca=this;u=ca._loader[u](F);if(!ca._ready){const na=ca._call;ca._ready=ca._loader.ready().then(lb=>{lb&&na();ca._ready=null})}return u},sanitizeURL(u){return this._load("sanitizeURL",u)},loadImage(u){return this._load("loadImage",u)}};x.inherits(hc,Oa,{initialize(u,F,ca){this._canvas=u&&Db(u,"canvas");["click","mousedown",
"mousemove","mouseout","dragleave"].forEach(na=>tc(this,na));return Oa.prototype.initialize.call(this,u,F,ca)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(u){this.fire("mousewheel",u)},mousemove:Mc("mousemove","mouseover","mouseout"),dragover:Mc("dragover","dragenter","dragleave"),
mouseout:Hb("mouseout"),dragleave:Hb("dragleave"),mousedown(u){this._down=this._active;this.fire("mousedown",u)},click(u){this._down===this._active&&(this.fire("click",u),this._down=null)},touchstart(u){this._touch=this.pickEvent(u.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",u,!0)},touchmove(u){this.fire("touchmove",u,!0)},touchend(u){this.fire("touchend",u,!0);this._touch=null},fire(u,F,ca){ca=ca?this._touch:this._active;const na=this._handlers[u];
F.vegaType=u;"click"===u&&ca&&ca.href?this.handleHref(F,ca,ca.href):("mousemove"===u||"mouseout"===u)&&this.handleTooltip(F,ca,"mouseout"!==u);if(na)for(let lb=0,Ib=na.length;lb<Ib;++lb)na[lb].handler.call(this._obj,F,ca)},on(u,F){const ca=this.eventName(u),na=this._handlers;0>this._handlerIndex(na[ca],u,F)&&(tc(this,u),(na[ca]||(na[ca]=[])).push({type:u,handler:F}));return this},off(u,F){var ca=this.eventName(u);ca=this._handlers[ca];u=this._handlerIndex(ca,u,F);0<=u&&ca.splice(u,1);return this},
pickEvent(u){u=kc(u,this._canvas);const F=this._origin;return this.pick(this._scene,u[0],u[1],u[0]-F[0],u[1]-F[1])},pick(u,F,ca,na,lb){const Ib=this.context();return ze[u.marktype].pick.call(this,Ib,u,F,ca,na,lb)}});var wf="undefined"!==typeof window?window.devicePixelRatio||1:1;const Ce=Lb.prototype;x.inherits(yc,Lb,{initialize(u,F,ca,na,lb,Ib){this._options=Ib||{};this._canvas=this._options.externalContext?null:Wb.canvas(1,1,this._options.type);u&&this._canvas&&(Gb(u,0).appendChild(this._canvas),
this._canvas.setAttribute("class","marks"));return Ce.initialize.call(this,u,F,ca,na,lb)},resize(u,F,ca,na){Ce.resize.call(this,u,F,ca,na);if(this._canvas){{u=this._canvas;F=this._width;ca=this._height;na=this._origin;var lb=this._scale,Ib=this._options.context;const gc="undefined"!==typeof HTMLElement&&u instanceof HTMLElement&&null!=u.parentNode,zc=u.getContext("2d");lb=gc?wf:lb;u.width=F*lb;u.height=ca*lb;for(var Sb in Ib)zc[Sb]=Ib[Sb];gc&&1!==lb&&(u.style.width=F+"px",u.style.height=ca+"px");
zc.pixelRatio=lb;zc.setTransform(lb,0,0,lb,lb*na[0],lb*na[1])}}else(Sb=this._options.externalContext)||x.error("CanvasRenderer is missing a valid canvas or context"),Sb.scale(this._scale,this._scale),Sb.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(u){const F=this._tempb.clear().union(u.bounds);for(u=u.mark.group;u;)F.translate(u.x||0,u.y||
0),u=u.mark.group;this._dirty.union(F)},_render(u){const F=this.context(),ca=this._origin,na=this._width,lb=this._height,Ib=this._dirty;var Sb=(new db).set(0,0,na,lb).translate(-ca[0],-ca[1]);F.save();this._redraw||Ib.empty()?Sb=(this._redraw=!1,Sb.expand(1)):(Sb=Sb.intersect(Ib),Sb.expand(1).round(),F.pixelRatio%1&&Sb.scale(F.pixelRatio).round().scale(1/F.pixelRatio),Sb.translate(-(ca[0]%1),-(ca[1]%1)),F.beginPath(),F.rect(Sb.x1,Sb.y1,Sb.width(),Sb.height()),F.clip());this.clear(-ca[0],-ca[1],na,
lb);this.draw(F,u,Sb);F.restore();Ib.clear();return this},draw(u,F,ca){const na=ze[F.marktype];if(F.clip){var lb=F.clip;u.save();x.isFunction(lb)?(u.beginPath(),lb(u),u.clip()):ta(u,F.group)}na.draw.call(this,u,F,ca);F.clip&&u.restore()},clear(u,F,ca,na){const lb=this._options,Ib=this.context();"pdf"===lb.type||lb.externalContext||Ib.clearRect(u,F,ca,na);null!=this._bgcolor&&(Ib.fillStyle=this._bgcolor,Ib.fillRect(u,F,ca,na))}});const Kf=(u,F)=>ca=>{let na=ca.target.__data__;na=Array.isArray(na)?
na[0]:na;ca.vegaType=ca.type;F.call(u._obj,ca,na)};x.inherits(Cc,Oa,{initialize(u,F,ca){let na=this._svg;na&&(na.removeEventListener("click",this._hrefHandler),na.removeEventListener("mousemove",this._tooltipHandler),na.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=na=u&&Db(u,"svg"))na.addEventListener("click",this._hrefHandler),na.addEventListener("mousemove",this._tooltipHandler),na.addEventListener("mouseout",this._tooltipHandler);return Oa.prototype.initialize.call(this,u,
F,ca)},canvas(){return this._svg},on(u,F){const ca=this.eventName(u),na=this._handlers;0>this._handlerIndex(na[ca],u,F)&&(u={type:u,handler:F,listener:Kf(this,F)},(na[ca]||(na[ca]=[])).push(u),this._svg&&this._svg.addEventListener(ca,u.listener));return this},off(u,F){const ca=this.eventName(u),na=this._handlers[ca];u=this._handlerIndex(na,u,F);0<=u&&(this._svg&&this._svg.removeEventListener(ca,na[u].listener),na.splice(u,1));return this}});const ef=(u,F,ca)=>({["role"]:u,["aria-roledescription"]:F,
["aria-label"]:ca||void 0}),gg=x.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),O={axis:{desc:"axis",caption:function(u){var F=u.datum;const ca=u.orient,na=F.title?od(u):null;var lb=u.context;F=lb.scales[F.scale].value;lb=lb.dataflow.locale();const Ib=F.type;return`${"left"===ca||"right"===ca?"Y":"X"}-axis`+(na?` titled '${na}'`:"")+` for a ${ub.isDiscrete(Ib)?"discrete":Ib} scale`+` with ${ub.domainCaption(lb,
F,u)}`}},legend:{desc:"legend",caption:function(u){var F=u.datum;const ca=F.title?od(u):null,na=`${F.type||""} legend`.trim();var lb=F.scales;F=Object.keys(lb);var Ib=u.context;lb=Ib.scales[lb[F[0]]].value;Ib=Ib.dataflow.locale();return(na.length?na[0].toUpperCase()+na.slice(1):na)+(ca?` titled '${ca}'`:"")+` for ${qd(F)}`+` with ${ub.domainCaption(Ib,lb,u)}`}},"title-text":{desc:"title",caption:u=>`Title text '${x.array(u.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:u=>`Subtitle text '${x.array(u.text).join(" ")}'`}},
P={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},aa=u=>(u+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),ja=u=>Ed(Id(),u)+"",ya={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},
Ea={fill:"none","stroke-miterlimit":10},ab=Mb.xmlns,tb=Lb.prototype;x.inherits(Wd,Lb,{initialize(u,F,ca,na,lb){this._defs={};this._clearDefs();u&&(this._svg=Zb(u,0,"svg",ab),Fd(this._svg,Mb),this._svg.setAttribute("class","marks"),Gb(u,1),this._root=Zb(this._svg,0,"g",ab),Fd(this._root,Ea),Gb(this._svg,1));this.background(this._bgcolor);return tb.initialize.call(this,u,F,ca,na,lb)},background(u){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",u);return tb.background.apply(this,
arguments)},resize(u,F,ca,na){tb.resize.call(this,u,F,ca,na);this._svg&&(Fd(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const u=this._svg,F=this._bgcolor;if(!u)return null;let ca;F&&(u.removeAttribute("style"),ca=Zb(u,0,"rect",ab),Fd(ca,{width:this._width,height:this._height,fill:F}));const na=ja(u);
F&&(u.removeChild(ca),this._svg.style.setProperty("background-color",F));return na},_render(u){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,u),Gb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(u){u.dirty!==this._dirtyID&&(u.dirty=this._dirtyID,this._dirty.push(u))},isDirty(u){return this._dirtyAll||!u._svg||u.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const u=this._dirty;if(!u.length||!this._dirtyID)return!0;const F=++this._dirtyID;
let ca;let na,lb,Ib,Sb;Ib=0;for(Sb=u.length;Ib<Sb;++Ib){ca=u[Ib];var gc=ca.mark;gc.marktype!==na&&(na=gc.marktype,lb=ze[na]);gc.zdirty&&gc.dirty!==F&&(this._dirtyAll=!1,me(ca,F),gc.items.forEach(zc=>{zc.dirty=F}));gc.zdirty||(ca.exit?(lb.nested&&gc.items.length?(gc=gc.items[0],gc._svg&&this._update(lb,gc._svg,gc)):ca._svg&&(gc=ca._svg.parentNode)&&gc.removeChild(ca._svg),ca._svg=null):(ca=lb.nested?gc.items[0]:ca,ca._update!==F&&(ca._svg&&ca._svg.ownerSVGElement?this._update(lb,ca._svg,ca):(this._dirtyAll=
!1,me(ca,F)),ca._update=F)))}return!this._dirtyAll},mark(u,F,ca){if(!this.isDirty(F))return F._svg;const na=this._svg,lb=ze[F.marktype];var Ib=!1===F.interactive?"none":null;const Sb="g"===lb.tag;let gc=null,zc=0;const Tc=Ye(F,u,ca,"g",na);Tc.setAttribute("class",sc(F));u=Jc(F);for(const Rc in u)ee(Tc,Rc,u[Rc]);Sb||ee(Tc,"pointer-events",Ib);ee(Tc,"clip-path",F.clip?ib(this,F,F.group):null);Ib=Rc=>{const yd=this.isDirty(Rc),Md=Ye(Rc,Tc,gc,lb.tag,na);yd&&(this._update(lb,Md,Rc),Sb&&ye(this,Md,Rc));
gc=Md;++zc};lb.nested?F.items.length&&Ib(F.items[0]):D(F,Ib);Gb(Tc,zc);return Tc},_update(u,F,ca){pb=F;Ab=F.__values__;xc(Qe,ca);u.attr(Qe,ca,this);const na=Eb[u.type];na&&na.call(this,u,F,ca);pb&&this.style(pb,ca)},style(u,F){if(null!=F)for(const ca in ya){let na="font"===ca?ld(F):F[ca];if(na===Ab[ca])continue;const lb=ya[ca];null==na?u.removeAttribute(lb):(na&&na.gradient&&(na=Ob(na,this._defs.gradient,ff())),u.setAttribute(lb,na+""));Ab[ca]=na}},defs(){const u=this._svg,F=this._defs;let ca=F.el;
var na=0;for(var lb in F.gradient){ca||(F.el=ca=Zb(u,1,"defs",ab));{var Ib=void 0;let zc,Tc;var Sb=ca,gc=F.gradient[lb];"radial"===gc.gradient?(Ib=Zb(Sb,na++,"pattern",ab),Fd(Ib,{id:"p_"+gc.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Ib=Zb(Ib,0,"rect",ab),Fd(Ib,{width:1,height:1,fill:`url(${ff()}#${gc.id})`}),Sb=Zb(Sb,na++,"radialGradient",ab),Fd(Sb,{id:gc.id,fx:gc.x1,fy:gc.y1,fr:gc.r1,cx:gc.x2,cy:gc.y2,r:gc.r2})):(Sb=Zb(Sb,na++,"linearGradient",ab),Fd(Sb,
{id:gc.id,x1:gc.x1,x2:gc.x2,y1:gc.y1,y2:gc.y2}));Tc=0;for(zc=gc.stops.length;Tc<zc;++Tc)Ib=Zb(Sb,Tc,"stop",ab),Ib.setAttribute("offset",gc.stops[Tc].offset),Ib.setAttribute("stop-color",gc.stops[Tc].color);Gb(Sb,Tc)}}for(const zc in F.clipping)ca||(F.el=ca=Zb(u,1,"defs",ab)),Sb=ca,gc=F.clipping[zc],lb=na,Sb=Zb(Sb,lb,"clipPath",ab),Sb.setAttribute("id",gc.id),gc.path?(na=Zb(Sb,0,"path",ab),na.setAttribute("d",gc.path)):(na=Zb(Sb,0,"rect",ab),Fd(na,{x:0,y:0,width:gc.width,height:gc.height})),Gb(Sb,
1),na=lb+1;ca&&(0===na?(u.removeChild(ca),F.el=null):Gb(ca,na))},_clearDefs(){const u=this._defs;u.gradient={};u.clipping={}}});let pb=null,Ab=null;const Eb={group(u,F,ca){const na=pb=F.childNodes[2];Ab=na.__values__;u.foreground(Qe,ca,this);Ab=F.__values__;pb=F.childNodes[1];u.content(Qe,ca,this);F=pb=F.childNodes[0];u.background(Qe,ca,this);u=!1===ca.mark.interactive?"none":null;u!==Ab.events&&(ee(na,"pointer-events",u),ee(F,"pointer-events",u),Ab.events=u);ca.strokeForeground&&ca.stroke?(u=ca.fill,
ee(na,"display",null),this.style(F,ca),ee(F,"stroke",null),u&&(ca.fill=null),Ab=na.__values__,this.style(na,ca),u&&(ca.fill=u),pb=null):ee(na,"display","none")},image(u,F,ca){!1===ca.smooth?(Re(F,"image-rendering","optimizeSpeed"),Re(F,"image-rendering","pixelated")):Re(F,"image-rendering",null)},text(u,F,ca){u=Nc(ca);let na,lb,Ib;x.isArray(u)?(na=u.map(Sb=>Dd(ca,Sb)),u=na.join("\n"),u!==Ab.text&&(Gb(F,0),lb=F.ownerDocument,Ib=$c(ca),na.forEach((Sb,gc)=>{const zc=gb(lb,"tspan",ab);zc.__data__=ca;
zc.textContent=Sb;gc&&(zc.setAttribute("x",0),zc.setAttribute("dy",Ib));F.appendChild(zc)}),Ab.text=u)):(na=Dd(ca,u),na!==Ab.text&&(F.textContent=na,Ab.text=na));ee(F,"font-family",ld(ca));ee(F,"font-size",Xc(ca)+"px");ee(F,"font-style",ca.fontStyle);ee(F,"font-variant",ca.fontVariant);ee(F,"font-weight",ca.fontWeight)}};x.inherits(Oe,Lb,{svg(){return this._text},_render(u){const F=Id();F.open("svg",x.extend({},Mb,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));
const ca=this._bgcolor;ca&&"transparent"!==ca&&"none"!==ca&&F.open("rect",{width:this._width,height:this._height,fill:ca}).close();F.open("g",Ea,{transform:"translate("+this._origin+")"});this.mark(F,u);F.close();this.defs(F);this._text=F.close()+"";return this},mark(u,F){const ca=ze[F.marktype],na=ca.tag,lb=[xc,ca.attr];u.open("g",{"class":sc(F),"clip-path":F.clip?ib(this,F,F.group):null},Jc(F),{"pointer-events":"g"!==na&&!1===F.interactive?"none":null});const Ib=Sb=>{const gc=this.href(Sb);gc&&
u.open("a",gc);u.open(na,this.attr(F,Sb,lb,"g"!==na?na:null));if("text"===na){var zc=Nc(Sb);if(x.isArray(zc)){var Tc={x:0,dy:$c(Sb)};for(var Rc=0;Rc<zc.length;++Rc)u.open("tspan",Rc?Tc:null).text(Dd(Sb,zc[Rc])).close()}else u.text(Dd(Sb,zc))}else"g"===na&&(zc=Sb.strokeForeground,Tc=Sb.fill,Rc=Sb.stroke,zc&&Rc&&(Sb.stroke=null),u.open("path",this.attr(F,Sb,ca.background,"bgrect")).close(),u.open("g",this.attr(F,Sb,ca.content)),D(Sb,yd=>this.mark(u,yd)),u.close(),zc&&Rc?(Tc&&(Sb.fill=null),Sb.stroke=
Rc,u.open("path",this.attr(F,Sb,ca.foreground,"bgrect")).close(),Tc&&(Sb.fill=Tc)):u.open("path",this.attr(F,Sb,ca.foreground,"bgfore")).close());u.close();gc&&u.close()};ca.nested?F.items&&F.items.length&&Ib(F.items[0]):D(F,Ib);return u.close()},href(u){const F=u.href;if(F){if(u=this._hrefs&&this._hrefs[F])return u;this.sanitizeURL(F).then(ca=>{ca["xlink:href"]=ca.href;ca.href=null;(this._hrefs||(this._hrefs={}))[F]=ca})}return null},attr(u,F,ca,na){const lb={},Ib=(Sb,gc,zc,Tc)=>{lb[Tc||Sb]=gc};
Array.isArray(ca)?ca.forEach(Sb=>Sb(Ib,F,this)):ca(Ib,F,this);na&&Bf(lb,F,u,na,this._defs);return lb},defs(u){var F=this._defs.gradient;const ca=this._defs.clipping;if(0!==Object.keys(F).length+Object.keys(ca).length){u.open("defs");for(const lb in F){var na=F[lb];const Ib=na.stops;"radial"===na.gradient?(u.open("pattern",{id:"p_"+lb,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),u.open("rect",{width:"1",height:"1",fill:"url(#"+lb+")"}).close(),u.close(),u.open("radialGradient",
{id:lb,fx:na.x1,fy:na.y1,fr:na.r1,cx:na.x2,cy:na.y2,r:na.r2})):u.open("linearGradient",{id:lb,x1:na.x1,x2:na.x2,y1:na.y1,y2:na.y2});for(na=0;na<Ib.length;++na)u.open("stop",{offset:Ib[na].offset,"stop-color":Ib[na].color}).close();u.close()}for(const lb in ca)F=ca[lb],u.open("clipPath",{id:lb}),F.path?u.open("path",{d:F.path}).close():u.open("rect",{x:0,y:0,width:F.width,height:F.height}).close(),u.close();u.close()}}});const Yb={};Yb.canvas=Yb.png={renderer:yc,headless:yc,handler:hc};Yb.svg={renderer:Wd,
headless:Oe,handler:Cc};Yb.none={};const pc=new db;n.Bounds=db;n.CanvasHandler=hc;n.CanvasRenderer=yc;n.Gradient=function(u,F){var ca=[],na;return na={gradient:"linear",x1:u?u[0]:0,y1:u?u[1]:0,x2:F?F[0]:1,y2:F?F[1]:0,stops:ca,stop:function(lb,Ib){ca.push({offset:lb,color:Ib});return na}}};n.GroupItem=$a;n.Handler=Oa;n.Item=nb;n.Marks=ze;n.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};n.Renderer=Lb;n.ResourceLoader=S;n.SVGHandler=Cc;n.SVGRenderer=Wd;n.SVGStringRenderer=Oe;n.Scenegraph=
Z;n.boundClip=function(u){const F=u.clip;if(x.isFunction(F))F(I(pc.clear()));else if(F)pc.set(0,0,u.group.width,u.group.height);else return;u.bounds.intersect(pc)};n.boundContext=I;n.boundItem=ac;n.boundMark=rd;n.boundStroke=z;n.domChild=Zb;n.domClear=Gb;n.domCreate=gb;n.domFind=Db;n.font=sd;n.fontFamily=ld;n.fontSize=Xc;n.intersect=function(u,F,ca){const na=[];F=(new db).union(F);const lb=u.marktype;return lb?Yd(u,F,ca,na):"group"===lb?Ae(u,F,ca,na):x.error("Intersect scene must be mark node or group item.")};
n.intersectBoxLine=U;n.intersectPath=Y;n.intersectPoint=ma;n.intersectRule=Ua;n.lineHeight=$c;n.markup=Id;n.multiLineOffset=function(u){const F=Nc(u);return(x.isArray(F)?F.length-1:0)*$c(u)};n.pathCurves=cb;n.pathEqual=Ad;n.pathParse=ob;n.pathRectangle=La;n.pathRender=Xa;n.pathSymbols=Ia;n.pathTrail=ka;n.point=kc;n.renderModule=function(u,F){u=String(u||"").toLowerCase();return 1<arguments.length?(Yb[u]=F,this):Yb[u]};n.resetSVGClipId=function(){Gc=1};n.resetSVGDefIds=function(){Gc=1;ae=0};n.sceneEqual=
re;n.sceneFromJSON=de;n.scenePickVisit=E;n.sceneToJSON=vd;n.sceneVisit=D;n.sceneZOrder=r;n.serializeXML=ja;n.textMetrics=Bd;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[40]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(39),Rb(17)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa){function Wb(w){x.Transform.call(this,null,w)}function fb(w,p,r){return p(w.bounds.clear(),w,r)}function ub(w){x.Transform.call(this,
0,w)}function Ob(w){return w._signals[":vega_identifier:"]||(w._signals[":vega_identifier:"]=w.add(0))}function zb(w){x.Transform.call(this,null,w)}function cb(w){const p=w.groups;w=w.parent;return p&&1===p.size?p.get(Object.keys(p.object)[0]):p&&w?p.lookup(w):null}function ob(w){x.Transform.call(this,null,w)}function rb(w){x.Transform.call(this,null,w)}function Xa(w,p,r){return w[p]===r?0:(w[p]=r,1)}function Ha(w){w=w.items[0].orient;return"left"===w||"right"===w}function Ia(w,p,r,D){p=p.items[0];
var E=p.datum,H=null!=p.translate?p.translate:.5,C=p.orient,ha=+E.grid;var xa=[E.ticks?ha++:-1,E.labels?ha++:-1,ha+ +E.domain];ha=p.range;var oa=p.offset,Va=p.position,Ja=p.minExtent,ba=p.maxExtent;E=E.title&&p.items[xa[2]].items[0];var ta=p.titlePadding,eb=p.bounds,xb=E&&ea.multiLineOffset(E),Kb;la.clear().union(eb);eb.clear();-1<(Kb=xa[0])&&eb.union(p.items[Kb].bounds);-1<(Kb=xa[1])&&eb.union(p.items[Kb].bounds);switch(C){case "top":r=Va||0;D=-oa;Ja=Math.max(Ja,Math.min(ba,-eb.y1));eb.add(0,-Ja).add(ha,
0);E&&Za(w,E,Ja,ta,xb,0,-1,eb);break;case "left":r=-oa;D=Va||0;Ja=Math.max(Ja,Math.min(ba,-eb.x1));eb.add(-Ja,0).add(0,ha);E&&Za(w,E,Ja,ta,xb,1,-1,eb);break;case "right":r+=oa;D=Va||0;Ja=Math.max(Ja,Math.min(ba,eb.x2));eb.add(0,0).add(Ja,ha);E&&Za(w,E,Ja,ta,xb,1,1,eb);break;case "bottom":r=Va||0;D+=oa;Ja=Math.max(Ja,Math.min(ba,eb.y2));eb.add(0,0).add(ha,Ja);E&&Za(w,E,Ja,ta,0,0,1,eb);break;default:r=p.x,D=p.y}ea.boundStroke(eb.translate(r,D),p);Xa(p,"x",r+H)|Xa(p,"y",D+H)&&(p.bounds=la,w.dirty(p),
p.bounds=eb,w.dirty(p));return p.mark.bounds.clear().union(eb)}function Za(w,p,r,D,E,H,C,ha){const xa=p.bounds;p.auto&&(r=C*(r+E+D),E=D=0,w.dirty(p),H?D=(p.x||0)-(p.x=r):E=(p.y||0)-(p.y=r),p.mark.bounds.clear().union(xa.translate(-D,-E)),w.dirty(p));ha.union(xa)}function mb(w){return(new ea.Bounds).set(0,0,w.width||0,w.height||0)}function Da(w){const p=w.bounds.clone();return p.empty()?p.set(0,0,0,0):p.translate(-(w.x||0),-(w.y||0))}function Fa(w,p,r){w=Sa.isObject(w)?w[p]:w;return null!=w?w:void 0!==
r?r:0}function hb(w){return 0>w?Math.ceil(-w):0}function Ca(w,p,r){var D=!r.nodirty,E="flush"===r.bounds?mb:Da,H=la.set(0,0,0,0),C=Fa(r.align,"column"),ha=Fa(r.align,"row"),xa=Fa(r.padding,"column"),oa=Fa(r.padding,"row"),Va=r.columns||p.length,Ja=0>=Va?1:Math.ceil(p.length/Va),ba=p.length,ta=Array(ba),eb=Array(Va),xb=0,Kb=Array(ba),fc=Array(Ja),Ec=0,gd=Array(ba),Dc=Array(ba),Sc=Array(ba),Ta,nc,lc;for(Ta=0;Ta<Va;++Ta)eb[Ta]=0;for(Ta=0;Ta<Ja;++Ta)fc[Ta]=0;for(Ta=0;Ta<ba;++Ta){var wc=p[Ta];var Pc=Sc[Ta]=
E(wc);wc.x=wc.x||0;gd[Ta]=0;wc.y=wc.y||0;Dc[Ta]=0;wc=Ta%Va;var rc=~~(Ta/Va);xb=Math.max(xb,nc=Math.ceil(Pc.x2));Ec=Math.max(Ec,lc=Math.ceil(Pc.y2));eb[wc]=Math.max(eb[wc],nc);fc[rc]=Math.max(fc[rc],lc);ta[Ta]=xa+hb(Pc.x1);Kb[Ta]=oa+hb(Pc.y1);D&&w.dirty(p[Ta])}for(Ta=0;Ta<ba;++Ta)0===Ta%Va&&(ta[Ta]=0),Ta<Va&&(Kb[Ta]=0);if("each"===C)for(wc=1;wc<Va;++wc){E=0;for(Ta=wc;Ta<ba;Ta+=Va)E<ta[Ta]&&(E=ta[Ta]);for(Ta=wc;Ta<ba;Ta+=Va)ta[Ta]=E+eb[wc-1]}else if("all"===C){for(Ta=E=0;Ta<ba;++Ta)Ta%Va&&E<ta[Ta]&&
(E=ta[Ta]);for(Ta=0;Ta<ba;++Ta)Ta%Va&&(ta[Ta]=E+xb)}else for(C=!1,wc=1;wc<Va;++wc)for(Ta=wc;Ta<ba;Ta+=Va)ta[Ta]+=eb[wc-1];if("each"===ha)for(rc=1;rc<Ja;++rc){E=0;Ta=rc*Va;for(wc=Ta+Va;Ta<wc;++Ta)E<Kb[Ta]&&(E=Kb[Ta]);for(Ta=rc*Va;Ta<wc;++Ta)Kb[Ta]=E+fc[rc-1]}else if("all"===ha){E=0;for(Ta=Va;Ta<ba;++Ta)E<Kb[Ta]&&(E=Kb[Ta]);for(Ta=Va;Ta<ba;++Ta)Kb[Ta]=E+Ec}else for(ha=!1,rc=1;rc<Ja;++rc)for(Ta=rc*Va,wc=Ta+Va;Ta<wc;++Ta)Kb[Ta]+=fc[rc-1];for(Ta=rc=0;Ta<ba;++Ta)rc=ta[Ta]+(Ta%Va?rc:0),gd[Ta]+=rc-p[Ta].x;
for(wc=0;wc<Va;++wc)for(ta=0,Ta=wc;Ta<ba;Ta+=Va)ta+=Kb[Ta],Dc[Ta]+=ta-p[Ta].y;if(C&&Fa(r.center,"column")&&1<Ja)for(Ta=0;Ta<ba;++Ta)Pc="all"===C?xb:eb[Ta%Va],rc=Pc-Sc[Ta].x2-p[Ta].x-gd[Ta],0<rc&&(gd[Ta]+=rc/2);if(ha&&Fa(r.center,"row")&&1!==Va)for(Ta=0;Ta<ba;++Ta)Pc="all"===ha?Ec:fc[~~(Ta/Va)],ta=Pc-Sc[Ta].y2-p[Ta].y-Dc[Ta],0<ta&&(Dc[Ta]+=ta/2);for(Ta=0;Ta<ba;++Ta)H.union(Sc[Ta].translate(gd[Ta],Dc[Ta]));rc=Fa(r.anchor,"x");ta=Fa(r.anchor,"y");switch(Fa(r.anchor,"column")){case "end":rc-=H.width();
break;case "middle":rc-=H.width()/2}switch(Fa(r.anchor,"row")){case "end":ta-=H.height();break;case "middle":ta-=H.height()/2}rc=Math.round(rc);ta=Math.round(ta);H.clear();for(Ta=0;Ta<ba;++Ta)p[Ta].mark.bounds.clear();for(Ta=0;Ta<ba;++Ta)wc=p[Ta],wc.x+=gd[Ta]+=rc,wc.y+=Dc[Ta]+=ta,H.union(wc.mark.bounds.union(wc.bounds.translate(gd[Ta],Dc[Ta]))),D&&w.dirty(wc);return H}function bb(w,p){return"x1"===p?w.x||0:"y1"===p?w.y||0:"x2"===p?(w.x||0)+(w.width||0):"y2"===p?(w.y||0)+(w.height||0):void 0}function La(w,
p){return w.bounds[p]}function ka(w,p,r,D,E,H,C,ha,xa,oa,Va,Ja,ba,ta){var eb=r.length,xb=D=0,Kb,fc;if(!eb)return D;for(Kb=Va;Kb<eb;Kb+=Ja)r[Kb]&&(D=C(D,xa(r[Kb],oa)));if(!p.length)return D;p.length>E&&(w.warn("Grid headers exceed limit: "+E),p=p.slice(0,E));D+=H;E=0;for(H=p.length;E<H;++E)w.dirty(p[E]),p[E].mark.bounds.clear();Kb=Va;E=0;for(H=p.length;E<H;++E,Kb+=Ja){xa=p[E];Va=xa.mark.bounds;for(eb=Kb;0<=eb&&null==(fc=r[eb]);eb-=ba);if(ha){eb=null==ta?fc.x:Math.round(fc.bounds.x1+ta*fc.bounds.width());
var Ec=D}else eb=D,Ec=null==ta?fc.y:Math.round(fc.bounds.y1+ta*fc.bounds.height());Va.union(xa.bounds.translate(eb-(xa.x||0),Ec-(xa.y||0)));xa.x=eb;xa.y=Ec;w.dirty(xa);xb=C(xb,Va[oa])}return xb}function Aa(w,p,r,D,E,H){if(p){w.dirty(p);var C=r;D?C=Math.round(E.x1+H*E.width()):r=Math.round(E.y1+H*E.height());p.bounds.translate(C-(p.x||0),r-(p.y||0));p.mark.bounds.clear().union(p.bounds);p.x=C;p.y=r;w.dirty(p)}}function Ra(w,p){const r=w[p]||{};return(D,E)=>null!=r[D]?r[D]:null!=w[D]?w[D]:E}function Ya(w,
p){let r=-Infinity;w.forEach(D=>{null!=D.offset&&(r=Math.max(r,D.offset))});return-Infinity<r?r:p}function ib(w,p,r,D,E,H,C){const ha=Ra(r,p);r=Ya(w,ha("offset",0));const xa=ha("anchor","start"),oa="end"===xa?1:"middle"===xa?.5:0;w={align:"each",bounds:ha("bounds","flush"),columns:"vertical"===ha("direction")?1:w.length,padding:ha("margin",8),center:ha("center"),nodirty:!0};switch(p){case "left":w.anchor={x:Math.floor(D.x1)-r,column:"end",y:oa*(C||D.height()+2*D.y1),row:xa};break;case "right":w.anchor=
{x:Math.ceil(D.x2)+r,y:oa*(C||D.height()+2*D.y1),row:xa};break;case "top":w.anchor={y:Math.floor(E.y1)-r,row:"end",x:oa*(H||E.width()+2*E.x1),column:xa};break;case "bottom":w.anchor={y:Math.ceil(E.y2)+r,x:oa*(H||E.width()+2*E.x1),column:xa};break;case "top-left":w.anchor={x:r,y:r};break;case "top-right":w.anchor={x:H-r,y:r,column:"end"};break;case "bottom-left":w.anchor={x:r,y:C-r,row:"end"};break;case "bottom-right":w.anchor={x:H-r,y:C-r,column:"end",row:"end"}}return w}function db(w,p){p=p.items[0];
var r=p.datum,D=p.orient,E=p.bounds,H=p.x,C=p.y;p._bounds?p._bounds.clear().union(E):p._bounds=E.clone();E.clear();var ha=p.items[0].items[0];var xa=p.padding,oa=xa-ha.x,Va=xa-ha.y;if(p.datum.title){var Ja=p.items[1].items[0],ba=Ja.anchor,ta=p.titlePadding||0,eb=xa-Ja.x,xb=xa-Ja.y;switch(Ja.orient){case "left":oa+=Math.ceil(Ja.bounds.width())+ta;break;case "right":case "bottom":break;default:Va+=Ja.bounds.height()+ta}(oa||Va)&&S(w,ha,oa,Va);switch(Ja.orient){case "left":xb+=$a(p,ha,Ja,ba,1,1);break;
case "right":eb+=$a(p,ha,Ja,"end",0,0)+ta;xb+=$a(p,ha,Ja,ba,1,1);break;case "bottom":eb+=$a(p,ha,Ja,ba,0,0);xb+=$a(p,ha,Ja,"end",-1,0,1)+ta;break;default:eb+=$a(p,ha,Ja,ba,0,0)}(eb||xb)&&S(w,Ja,eb,xb);0>(eb=Math.round(Ja.bounds.x1-xa))&&(S(w,ha,-eb,0),S(w,Ja,-eb,0))}else(oa||Va)&&S(w,ha,oa,Va);E=nb(p,E);w=2*p.padding;ha=2*p.padding;E.empty()||(w=Math.ceil(E.width()+w),ha=Math.ceil(E.height()+ha));"symbol"===r.type&&z(p.items[0].items[0].items[0].items);"none"!==D&&(p.x=H=0,p.y=C=0);p.width=w;p.height=
ha;ea.boundStroke(E.set(H,C,H+w,C+ha),p);p.mark.bounds.clear().union(E);return p}function nb(w,p){w.items.forEach(r=>p.union(r.bounds));p.x1=w.padding;p.y1=w.padding;return p}function $a(w,p,r,D,E,H,C){const ha=r.datum.vgrad;w=("symbol"===w.datum.type||!H&&ha||C?p:p.items[0]).bounds[E?"y2":"x2"]-w.padding;p=ha&&H?w:0;H=ha&&H?0:w;r=0>=E?0:ea.multiLineOffset(r);return Math.round("start"===D?p:"end"===D?H-r:.5*(w-r))}function S(w,p,r,D){p.x+=r;p.y+=D;p.bounds.translate(r,D);p.mark.bounds.translate(r,
D);w.dirty(p)}function z(w){const p=w.reduce((r,D)=>{r[D.column]=Math.max(D.bounds.x2-D.x,r[D.column]||0);return r},{});w.forEach(r=>{r.width=p[r.column];r.height=r.bounds.y2-r.y})}function I(w,p,r,D,E){var H=p.items[0],C=H.orient,ha=H.anchor,xa=H.offset,oa=H.padding,Va=H.items[0].items[0],Ja=H.items[1]&&H.items[1].items[0],ba="left"===C||"right"===C?D:r,ta=0,eb=r=0;"group"!==H.frame?"left"===C?(ta=E.y2,ba=E.y1):"right"===C?(ta=E.y1,ba=E.y2):(ta=E.x1,ba=E.x2):"left"===C&&(ta=D,ba=0);D="start"===ha?
ta:"end"===ha?ba:(ta+ba)/2;if(Ja&&Ja.text){switch(C){case "top":case "bottom":eb=Va.bounds.height()+oa;break;case "left":r=Va.bounds.width()+oa;break;case "right":r=-Va.bounds.width()-oa}la.clear().union(Ja.bounds);la.translate(r-(Ja.x||0),eb-(Ja.y||0));Xa(Ja,"x",r)|Xa(Ja,"y",eb)&&(w.dirty(Ja),Ja.bounds.clear().union(la),Ja.mark.bounds.clear().union(la),w.dirty(Ja));la.clear().union(Ja.bounds)}else la.clear();la.union(Va.bounds);switch(C){case "top":C=D;E=E.y1-la.height()-xa;break;case "left":C=E.x1-
la.width()-xa;E=D;break;case "right":C=E.x2+la.width()+xa;E=D;break;case "bottom":C=D;E=E.y2+xa;break;default:C=H.x,E=H.y}Xa(H,"x",C)|Xa(H,"y",E)&&(la.translate(C,E),w.dirty(H),H.bounds.clear().union(la),p.bounds.clear().union(la),w.dirty(H));return H.bounds}function Q(w){x.Transform.call(this,null,w)}function J(w){return w&&"legend-entry"!==w.mark.role}function W(w,p,r){var D=p.items,E=Math.max(0,p.width||0),H=Math.max(0,p.height||0),C=(new ea.Bounds).set(0,0,E,H),ha=C.clone(),xa=C.clone(),oa=[],
Va,Ja;var ba=0;for(Ja=D.length;ba<Ja;++ba){var ta=D[ba];switch(ta.role){case "axis":var eb=Ha(ta)?ha:xa;eb.union(Ia(w,ta,E,H));break;case "title":var xb=ta;break;case "legend":oa.push(db(w,ta));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":ha.union(ta.bounds);xa.union(ta.bounds);break;default:C.union(ta.bounds)}}if(oa.length){const Kb={};oa.forEach(fc=>{Va=fc.orient||"right";"none"!==Va&&(Kb[Va]||
(Kb[Va]=[])).push(fc)});for(const fc in Kb)D=Kb[fc],Ca(w,D,ib(D,fc,r.legends,ha,xa,E,H));oa.forEach(fc=>{const Ec=fc.bounds;Ec.equals(fc._bounds)||(fc.bounds=fc._bounds,w.dirty(fc),fc.bounds=Ec,w.dirty(fc));if(r.autosize&&"fit"===r.autosize.type)switch(fc.orient){case "left":case "right":C.add(Ec.x1,0).add(Ec.x2,0);break;case "top":case "bottom":C.add(0,Ec.y1).add(0,Ec.y2)}else C.union(Ec)})}C.union(ha).union(xa);xb&&C.union(I(w,xb,E,H,C));p.clip&&C.set(0,0,p.width||0,p.height||0);Y(w,p,C,r)}function Y(w,
p,r,D){D=D.autosize||{};const E=D.type;if(!(1>w._autosize)&&E){var H=w._width,C=w._height,ha=Math.max(0,p.width||0),xa=Math.max(0,Math.ceil(-r.x1));p=Math.max(0,p.height||0);var oa=Math.max(0,Math.ceil(-r.y1)),Va=Math.max(0,Math.ceil(r.x2-ha));r=Math.max(0,Math.ceil(r.y2-p));if("padding"===D.contains){const Ja=w.padding();H-=Ja.left+Ja.right;C-=Ja.top+Ja.bottom}"none"===E?(oa=xa=0,ha=H,p=C):"fit"===E?(ha=Math.max(0,H-xa-Va),p=Math.max(0,C-oa-r)):"fit-x"===E?(ha=Math.max(0,H-xa-Va),C=p+oa+r):"fit-y"===
E?(H=ha+xa+Va,p=Math.max(0,C-oa-r)):"pad"===E&&(H=ha+xa+Va,C=p+oa+r);w._resizeView(H,C,ha,p,[xa,oa],D.resize)}}Sa.inherits(Wb,x.Transform,{transform(w,p){const r=p.dataflow,D=w.mark,E=D.marktype,H=ea.Marks[E],C=H.bound;let ha=D.bounds,xa;if(H.nested)D.items.length&&r.dirty(D.items[0]),ha=fb(D,C),D.items.forEach(oa=>{oa.bounds.clear().union(ha)});else if("group"===E||w.modified())switch(p.visit(p.MOD,oa=>r.dirty(oa)),ha.clear(),D.items.forEach(oa=>ha.union(fb(oa,C))),D.role){case "axis":case "legend":case "title":p.reflow()}else xa=
p.changed(p.REM),p.visit(p.ADD,oa=>{ha.union(fb(oa,C))}),p.visit(p.MOD,oa=>{xa=xa||ha.alignsWith(oa.bounds);r.dirty(oa);ha.union(fb(oa,C))}),xa&&(ha.clear(),D.items.forEach(oa=>ha.union(oa.bounds)));ea.boundClip(D);return p.modifies("bounds")}});ub.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Sa.inherits(ub,x.Transform,{transform(w,p){const r=Ob(p.dataflow),D=w.as;let E=r.value;p.visit(p.ADD,H=>H[D]=H[D]||++E);r.set(this.value=E);return p}});
Sa.inherits(zb,x.Transform,{transform(w,p){let r=this.value;r||(r=p.dataflow.scenegraph().mark(w.markdef,cb(w),w.index),r.group.context=w.context,w.context.group||(w.context.group=r.group),r.source=this.source,r.clip=w.clip,r.interactive=w.interactive,this.value=r);const D="group"===r.marktype?ea.GroupItem:ea.Item;p.visit(p.ADD,E=>D.call(E,r));if(w.modified("clip")||w.modified("interactive"))r.clip=w.clip,r.interactive=!!w.interactive,r.zdirty=!0,p.reflow();r.items=p.source;return p}});const ma={parity:w=>
w.filter((p,r)=>r%2?p.opacity=0:1),greedy:(w,p)=>{let r;return w.filter((D,E)=>E&&Qa(r.bounds,D.bounds,p)?D.opacity=0:(r=D,1))}},Qa=(w,p,r)=>r>Math.max(p.x1-w.x2,w.x1-p.x2,p.y1-w.y2,w.y1-p.y2),Ua=(w,p)=>{for(var r=1,D=w.length,E=w[0].bounds;r<D;++r)if(Qa(E,E=w[r].bounds,p))return!0},U=w=>{w=w.bounds;return 1<w.width()&&1<w.height()},sa=(w,p,r)=>{w=w.range();var D=new ea.Bounds;"top"===p||"bottom"===p?D.set(w[0],-Infinity,w[1],Infinity):D.set(-Infinity,w[0],Infinity,w[1]);D.expand(r||1);return E=>
D.encloses(E.bounds)},ua=w=>{w.forEach(p=>p.opacity=1);return w};Sa.inherits(ob,x.Transform,{transform(w,p){const r=ma[w.method]||ma.parity,D=w.separation||0;let E=p.materialize(p.SOURCE).source,H,C;if(E&&E.length){if(!w.method)return w.modified("method")&&(ua(E),p=p.reflow(w.modified()).modifies("opacity")),p;E=E.filter(U);if(E.length){w.sort&&(E=E.slice().sort(w.sort));H=ua(E);p=p.reflow(w.modified()).modifies("opacity");if(3<=H.length&&Ua(H,D)){do H=r(H,D);while(3<=H.length&&Ua(H,D));3>H.length&&
!Sa.peek(E).opacity&&(1<H.length&&(Sa.peek(H).opacity=0),Sa.peek(E).opacity=1)}w.boundScale&&0<=w.boundTolerance&&(C=sa(w.boundScale,w.boundOrient,+w.boundTolerance),E.forEach(xa=>{C(xa)||(xa.opacity=0)}));var ha=H[0].mark.bounds.clear();E.forEach(xa=>{xa.opacity&&ha.union(xa.bounds)});return p}}}});Sa.inherits(rb,x.Transform,{transform(w,p){const r=p.dataflow;p.visit(p.ALL,D=>r.dirty(D));p.fields&&p.fields.zindex&&(w=p.source&&p.source[0])&&(w.mark.zdirty=!0)}});const la=new ea.Bounds,T=(w,p)=>Math.floor(Math.min(w,
p)),v=(w,p)=>Math.ceil(Math.max(w,p));Sa.inherits(Q,x.Transform,{transform(w,p){const r=p.dataflow;w.mark.items.forEach(D=>{if(w.layout){var E=w.layout;var H=D.items;for(var C=H.length,ha=0,xa,oa,Va={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};ha<C;++ha)if(xa=H[ha],oa=xa.items,"group"===xa.marktype)switch(xa.role){case "axis":case "legend":case "title":break;case "row-header":Va.rowheaders.push(...oa);break;case "row-footer":Va.rowfooters.push(...oa);
break;case "column-header":Va.colheaders.push(...oa);break;case "column-footer":Va.colfooters.push(...oa);break;case "row-title":Va.rowtitle=oa[0];break;case "column-title":Va.coltitle=oa[0];break;default:Va.marks.push(...oa)}H=Va;oa=H.marks;Va="flush"===E.bounds?bb:La;C=E.offset;var Ja=E.columns||oa.length,ba=0>=Ja?1:Math.ceil(oa.length/Ja),ta=ba*Ja;ha=Ca(r,oa,E);ha.empty()&&ha.set(0,0,0,0);if(H.rowheaders){xa=Fa(E.headerBand,"row",null);var eb=ka(r,H.rowheaders,oa,Ja,ba,-Fa(C,"rowHeader"),T,0,Va,
"x1",0,Ja,1,xa)}if(H.colheaders){xa=Fa(E.headerBand,"column",null);var xb=ka(r,H.colheaders,oa,Ja,Ja,-Fa(C,"columnHeader"),T,1,Va,"y1",0,1,Ja,xa)}if(H.rowfooters){xa=Fa(E.footerBand,"row",null);var Kb=ka(r,H.rowfooters,oa,Ja,ba,Fa(C,"rowFooter"),v,0,Va,"x2",Ja-1,Ja,1,xa)}if(H.colfooters){xa=Fa(E.footerBand,"column",null);var fc=ka(r,H.colfooters,oa,Ja,Ja,Fa(C,"columnFooter"),v,1,Va,"y2",ta-Ja,1,Ja,xa)}H.rowtitle&&(xa=Fa(E.titleAnchor,"row"),oa=Fa(C,"rowTitle"),oa="end"===xa?Kb+oa:eb-oa,xa=Fa(E.titleBand,
"row",.5),Aa(r,H.rowtitle,oa,0,ha,xa));H.coltitle&&(xa=Fa(E.titleAnchor,"column"),oa=Fa(C,"columnTitle"),oa="end"===xa?fc+oa:xb-oa,xa=Fa(E.titleBand,"column",.5),Aa(r,H.coltitle,oa,1,ha,xa))}W(r,D,w)});return J(w.mark.group)?p.reflow():p}});n.bound=Wb;n.identifier=ub;n.mark=zb;n.overlap=ob;n.render=rb;n.viewlayout=Q;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[41]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(38),Rb(17),Rb(18),Rb(36)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-scale vega-util d3-array d3-interpolate".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.d3))})(this,function(n,x,ea,Sa,Wb,fb){function ub(J){x.Transform.call(this,null,J)}function Ob(J){x.Transform.call(this,null,J)}function zb(){return x.ingest({})}
function cb(J){const W=Sa.fastmap().test(Y=>Y.exit);W.lookup=Y=>W.get(J(Y));return W}function ob(J){x.Transform.call(this,null,J)}function rb(J){x.Transform.call(this,[],J)}function Xa(J){x.Transform.call(this,{},J)}function Ha(J){x.Transform.call(this,null,J)}function Ia(J){return ea.isContinuous(J)&&J!==ea.Sequential}function Za(J){x.Transform.call(this,null,J);this.modified(!0)}function mb(J,W,Y){ea.isLogarithmic(J)&&Math.abs(W.reduce((ma,Qa)=>ma+(0>Qa?-1:0<Qa?1:0),0))!==W.length&&Y.warn("Log scale domain includes zero: "+
Sa.stringValue(W));return W}function Da(J,W,Y){return Sa.isFunction(J)&&(W||Y)?ea.interpolateRange(J,Fa(W||[0,1],Y)):J}function Fa(J,W){return W?J.slice().reverse():J}function hb(J){x.Transform.call(this,null,J)}function Ca(J){x.Transform.call(this,null,J)}function bb(J,W,Y,ma,Qa){W=(W-J.sum)/2;for(var Ua=J.length,U=0,sa;U<Ua;++U)sa=J[U],sa[ma]=W,sa[Qa]=W+=Math.abs(Y(sa))}function La(J,W,Y,ma,Qa){W=1/J.sum;for(var Ua=0,U=J.length,sa=0,ua=0,la;sa<U;++sa)la=J[sa],la[ma]=Ua,la[Qa]=Ua=W*(ua+=Math.abs(Y(la)))}
function ka(J,W,Y,ma,Qa){for(var Ua=W=0,U=J.length,sa=0,ua,la;sa<U;++sa)la=J[sa],ua=+Y(la),0>ua?(la[ma]=Ua,la[Qa]=Ua+=ua):(la[ma]=W,la[Qa]=W+=ua)}function Aa(J,W,Y,ma){var Qa=[],Ua=w=>w(la),U;if(null==W)Qa.push(J.slice());else{var sa={};var ua=0;for(U=J.length;ua<U;++ua){var la=J[ua];var T=W.map(Ua);var v=sa[T];v||(sa[T]=v=[],Qa.push(v));v.push(la)}}Ua=T=0;for(J=Qa.length;T<J;++T){v=Qa[T];W=ua=0;for(U=v.length;ua<U;++ua)W+=Math.abs(ma(v[ua]));v.sum=W;W>Ua&&(Ua=W);Y&&v.sort(Y)}Qa.max=Ua;return Qa}
Sa.inherits(ub,x.Transform,{transform(J,W){if(this.value&&!J.modified())return W.StopPropagation;var Y=W.dataflow.locale();W=W.fork(W.NO_SOURCE|W.NO_FIELDS);var ma=this.value,Qa=J.scale,Ua=ea.tickCount(Qa,null==J.count?J.values?J.values.length:10:J.count,J.minstep),U=J.format||ea.tickFormat(Y,Qa,Ua,J.formatSpecifier,J.formatType,!!J.values),sa=J.values?ea.validTicks(Qa,J.values,Ua):ea.tickValues(Qa,Ua);ma&&(W.rem=ma);ma=sa.map((ua,la)=>x.ingest({index:la/(sa.length-1||1),value:ua,label:U(ua)}));J.extra&&
ma.length&&ma.push(x.ingest({index:-1,extra:{value:ma[0].value},label:""}));W.source=ma;this.value=W.add=ma;return W}});Sa.inherits(Ob,x.Transform,{transform(J,W){var Y=W.dataflow,ma=W.fork(W.NO_SOURCE|W.NO_FIELDS),Qa=J.item||zb,Ua=J.key||x.tupleid,U=this.value;Sa.isArray(ma.encode)&&(ma.encode=null);U&&(J.modified("key")||W.modified(Ua))&&Sa.error("DataJoin does not support modified key function or fields.");U||(W=W.addAll(),this.value=U=cb(Ua));W.visit(W.ADD,sa=>{const ua=Ua(sa);let la=U.get(ua);
la?la.exit?(U.empty--,ma.add.push(la)):ma.mod.push(la):(la=Qa(sa),U.set(ua,la),ma.add.push(la));la.datum=sa;la.exit=!1});W.visit(W.MOD,sa=>{var ua=Ua(sa);if(ua=U.get(ua))ua.datum=sa,ma.mod.push(ua)});W.visit(W.REM,sa=>{var ua=Ua(sa);ua=U.get(ua);sa!==ua.datum||ua.exit||(ma.rem.push(ua),ua.exit=!0,++U.empty)});W.changed(W.ADD_MOD)&&ma.modifies("datum");(W.clean()||J.clean&&U.empty>Y.cleanThreshold)&&Y.runAfter(U.clean);return ma}});Sa.inherits(ob,x.Transform,{transform(J,W){var Y=W.fork(W.ADD_REM),
ma=J.mod||!1,Qa=J.encoders,Ua=W.encode;if(Sa.isArray(Ua))if(Y.changed()||Ua.every(v=>Qa[v]))Ua=Ua[0],Y.encode=null;else return W.StopPropagation;var U="enter"===Ua,sa=Qa.update||Sa.falsy,ua=Qa.enter||Sa.falsy,la=Qa.exit||Sa.falsy,T=(Ua&&!U?Qa[Ua]:sa)||Sa.falsy;W.changed(W.ADD)&&(W.visit(W.ADD,v=>{ua(v,J);sa(v,J)}),Y.modifies(ua.output),Y.modifies(sa.output),T!==Sa.falsy&&T!==sa&&(W.visit(W.ADD,v=>{T(v,J)}),Y.modifies(T.output)));W.changed(W.REM)&&la!==Sa.falsy&&(W.visit(W.REM,v=>{la(v,J)}),Y.modifies(la.output));
if(U||T!==Sa.falsy)Ua=W.MOD|(J.modified()?W.REFLOW:0),U?(W.visit(Ua,v=>{const w=ua(v,J)||ma;(T(v,J)||w)&&Y.mod.push(v)}),Y.mod.length&&Y.modifies(ua.output)):W.visit(Ua,v=>{(T(v,J)||ma)&&Y.mod.push(v)}),Y.mod.length&&Y.modifies(T.output);return Y.changed()?Y:W.StopPropagation}});Sa.inherits(rb,x.Transform,{transform(J,W){if(null!=this.value&&!J.modified())return W.StopPropagation;var Y=W.dataflow.locale(),ma=W.fork(W.NO_SOURCE|W.NO_FIELDS),Qa=this.value,Ua=J.type||ea.SymbolLegend,U=J.scale,sa=+J.limit,
ua=ea.tickCount(U,null==J.count?5:J.count,J.minstep),la=!!J.values||Ua===ea.SymbolLegend,T=J.format||ea.labelFormat(Y,U,ua,Ua,J.formatSpecifier,J.formatType,la),v=J.values||ea.labelValues(U,ua),w;Qa&&(ma.rem=Qa);if(Ua===ea.SymbolLegend){if(sa&&v.length>sa){W.dataflow.warn("Symbol legend count exceeds limit, filtering items.");Qa=v.slice(0,sa-1);var p=!0}else Qa=v;if(Sa.isFunction(w=J.size)){J.values||0!==U(Qa[0])||(Qa=Qa.slice(1));var r=Qa.reduce((E,H)=>Math.max(E,w(H,J)),0)}else w=Sa.constant(r=
w||8);Qa=Qa.map((E,H)=>x.ingest({index:H,label:T(E,H,Qa),value:E,offset:r,size:w(E,J)}));p&&(p=v[Qa.length],Qa.push(x.ingest({index:Qa.length,label:`\u2026${v.length-Qa.length} entries`,value:p,offset:r,size:w(p,J)})))}else if(Ua===ea.GradientLegend){W=U.domain();var D=ea.scaleFraction(U,W[0],Sa.peek(W));3>v.length&&!J.values&&W[0]!==Sa.peek(W)&&(v=[W[0],Sa.peek(W)]);Qa=v.map((E,H)=>x.ingest({index:H,label:T(E,H,v),value:E,perc:D(E)}))}else w=v.length-1,D=ea.labelFraction(U),Qa=v.map((E,H)=>x.ingest({index:H,
label:T(E,H,v),value:E,perc:H?D(E):0,perc2:H===w?1:D(v[H+1])}));ma.source=Qa;this.value=ma.add=Qa;return ma}});const Ra=J=>J.source.x,Ya=J=>J.source.y,ib=J=>J.target.x,db=J=>J.target.y;Xa.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal",
"vertical","radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};Sa.inherits(Xa,x.Transform,{transform(J,W){var Y=J.sourceX||Ra,ma=J.sourceY||Ya,Qa=J.targetX||ib,Ua=J.targetY||db,U=J.as||"path",sa=J.shape||"line",ua=z.get(sa+"-"+(J.orient||"vertical"))||z.get(sa);ua||Sa.error("LinkPath unsupported type: "+J.shape+(J.orient?"-"+J.orient:""));W.visit(W.SOURCE,la=>{la[U]=
ua(Y(la),ma(la),Qa(la),Ua(la))});return W.reflow(J.modified()).modifies(U)}});const nb=(J,W,Y,ma)=>"M"+J+","+W+"L"+Y+","+ma,$a=(J,W,Y,ma)=>{var Qa=Y-J,Ua=ma-W,U=Math.sqrt(Qa*Qa+Ua*Ua)/2;return"M"+J+","+W+"A"+U+","+U+" "+180*Math.atan2(Ua,Qa)/Math.PI+" 0 1 "+Y+","+ma},S=(J,W,Y,ma)=>{var Qa=Y-J;const Ua=ma-W,U=.2*(Qa+Ua);Qa=.2*(Ua-Qa);return"M"+J+","+W+"C"+(J+U)+","+(W+Qa)+" "+(Y+Qa)+","+(ma-U)+" "+Y+","+ma},z=Sa.fastmap({line:nb,"line-radial":(J,W,Y,ma)=>nb(W*Math.cos(J),W*Math.sin(J),ma*Math.cos(Y),
ma*Math.sin(Y)),arc:$a,"arc-radial":(J,W,Y,ma)=>$a(W*Math.cos(J),W*Math.sin(J),ma*Math.cos(Y),ma*Math.sin(Y)),curve:S,"curve-radial":(J,W,Y,ma)=>S(W*Math.cos(J),W*Math.sin(J),ma*Math.cos(Y),ma*Math.sin(Y)),"orthogonal-horizontal":(J,W,Y,ma)=>"M"+J+","+W+"V"+ma+"H"+Y,"orthogonal-vertical":(J,W,Y,ma)=>"M"+J+","+W+"H"+Y+"V"+ma,"orthogonal-radial":(J,W,Y,ma)=>{const Qa=Math.cos(Y),Ua=Math.sin(Y);return"M"+W*Math.cos(J)+","+W*Math.sin(J)+"A"+W+","+W+" 0 0,"+((Math.abs(Y-J)>Math.PI?Y<=J:Y>J)?1:0)+" "+W*
Qa+","+W*Ua+"L"+ma*Qa+","+ma*Ua},"diagonal-horizontal":(J,W,Y,ma)=>{const Qa=(J+Y)/2;return"M"+J+","+W+"C"+Qa+","+W+" "+Qa+","+ma+" "+Y+","+ma},"diagonal-vertical":(J,W,Y,ma)=>{const Qa=(W+ma)/2;return"M"+J+","+W+"C"+J+","+Qa+" "+Y+","+Qa+" "+Y+","+ma},"diagonal-radial":(J,W,Y,ma)=>{const Qa=Math.cos(J);J=Math.sin(J);const Ua=Math.cos(Y);Y=Math.sin(Y);const U=(W+ma)/2;return"M"+W*Qa+","+W*J+"C"+U*Qa+","+U*J+" "+U*Ua+","+U*Y+" "+ma*Ua+","+ma*Y}});Ha.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",
type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};Sa.inherits(Ha,x.Transform,{transform(J,W){var Y=J.as||["startAngle","endAngle"],ma=Y[0],Qa=Y[1],Ua=J.startAngle||0,U=null!=J.endAngle?J.endAngle:2*Math.PI,sa=W.source,ua=sa.map(J.field||Sa.one),la=ua.length,T=Ua;Ua=(U-Ua)/Wb.sum(ua);U=Wb.range(la);var v;J.sort&&
U.sort((r,D)=>ua[r]-ua[D]);for(v=0;v<la;++v){var w=ua[U[v]];var p=sa[U[v]];p[ma]=T;p[Qa]=T+=w*Ua}this.value=ua;return W.reflow(J.modified()).modifies(Y)}});const I=Sa.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));Sa.inherits(Za,x.Transform,{transform(J,W){var Y=W.dataflow,ma=this.value;var Qa=J.type;var Ua="";if(Qa===ea.Sequential)Qa=
ea.Sequential+"-"+ea.Linear;else{var U=J.type;if(U=ea.isContinuous(U)&&U!==ea.Time&&U!==ea.UTC&&(J.scheme||J.range&&J.range.length&&J.range.every(Sa.isString)))Ua=J.rawDomain?J.rawDomain.length:J.domain?J.domain.length+ +(null!=J.domainMid):0,Ua=2===Ua?ea.Sequential+"-":3===Ua?ea.Diverging+"-":"";Qa=(Ua+Qa||ea.Linear).toLowerCase()}ma&&Qa===ma.type||(this.value=ma=ea.scale(Qa)());for(Qa in J)I[Qa]||"padding"===Qa&&Ia(ma.type)||(Sa.isFunction(ma[Qa])?ma[Qa](J[Qa]):Y.warn("Unsupported scale property: "+
Qa));Ua=Qa=ma;(U=J.domainRaw)?(ma.domain(mb(ma.type,U,Y)),U=U.length):U=-1;if(-1<U)Y=U;else{var sa=J.domain;U=ma.type;var ua;!(ua=J.zero)&&(ua=void 0===J.zero)&&(ua=ma.type,ua=!ma.bins&&(ua===ea.Linear||ua===ea.Pow||ua===ea.Sqrt));if(sa){if(Ia(U)&&J.padding&&sa[0]!==Sa.peek(sa)){var la=J.range,T=J.padding;var v=J.exponent;var w=J.constant;la=Math.abs(Sa.peek(la)-la[0]);T=la/(la-2*T);v=U===ea.Log?Sa.zoomLog(sa,null,T):U===ea.Sqrt?Sa.zoomPow(sa,null,T,.5):U===ea.Pow?Sa.zoomPow(sa,null,T,v||1):U===ea.Symlog?
Sa.zoomSymlog(sa,null,T,w||1):Sa.zoomLinear(sa,null,T);sa=sa.slice();sa[0]=v[0];sa[sa.length-1]=v[1]}if(ua||null!=J.domainMin||null!=J.domainMax||null!=J.domainMid)v=(sa=sa.slice()).length-1||1,ua&&(0<sa[0]&&(sa[0]=0),0>sa[v]&&(sa[v]=0)),null!=J.domainMin&&(sa[0]=J.domainMin),null!=J.domainMax&&(sa[v]=J.domainMax),null!=J.domainMid&&(ua=J.domainMid,w=ua>sa[v]?v+1:ua<sa[0]?0:v,w!==v&&Y.warn("Scale domainMid exceeds domain min or max.",ua),sa.splice(w,0,ua));ma.domain(mb(U,sa,Y));U===ea.Ordinal&&ma.unknown(J.domainImplicit?
ea.scaleImplicit:void 0);J.nice&&ma.nice&&ma.nice(!0!==J.nice&&ea.tickCount(ma,J.nice)||null);Y=sa.length}else Y=0}(U=J.bins)&&!Sa.isArray(U)&&(ua=Ua.domain(),ma=ua[0],ua=Sa.peek(ua),sa=U.step,v=null==U.start?ma:U.start,U=null==U.stop?ua:U.stop,sa||Sa.error("Scale bins parameter missing step property."),v<ma&&(v=sa*Math.ceil(ma/sa)),U>ua&&(U=sa*Math.floor(ua/sa)),U=Wb.range(v,U+sa/2,sa));U?Ua.bins=U:Ua.bins&&delete Ua.bins;Ua.type===ea.BinOrdinal&&(U?J.domain||J.domainRaw||(Ua.domain(U),Y=U.length):
Ua.bins=Ua.domain());ma=Y;a:{Ua=Qa.type;Y=J.round||!1;U=J.range;if(null!=J.rangeStep)Ua!==ea.Band&&Ua!==ea.Point&&Sa.error("Only band and point scales support rangeStep."),U=[0,J.rangeStep*ea.bandSpace(ma,Ua===ea.Point?1:(null!=J.paddingInner?J.paddingInner:J.padding)||0,(null!=J.paddingOuter?J.paddingOuter:J.padding)||0)];else if(J.scheme&&(U=J.schemeExtent,Sa.isArray(J.scheme)?ua=ea.interpolateColors(J.scheme,J.interpolate,J.interpolateGamma):(ua=J.scheme.toLowerCase(),(ua=ea.scheme(ua))||Sa.error(`Unrecognized scheme name: ${J.scheme}`)),
ma=Ua===ea.Threshold?ma+1:Ua===ea.BinOrdinal?ma-1:Ua===ea.Quantile||Ua===ea.Quantize?+J.schemeCount||5:ma,U=ea.isInterpolating(Ua)?Da(ua,U,J.reverse):Sa.isFunction(ua)?ea.quantizeInterpolator(Da(ua,U),ma):Ua===ea.Ordinal?ua:ua.slice(0,ma),Sa.isFunction(U)))if(Qa.interpolator){Qa.interpolator(U);break a}else Sa.error(`Scale type ${Ua} does not support interpolating color schemes.`);U&&ea.isInterpolating(Ua)?Qa.interpolator(ea.interpolateColors(Fa(U,J.reverse),J.interpolate,J.interpolateGamma)):(U&&
J.interpolate&&Qa.interpolate?Qa.interpolate(ea.interpolate(J.interpolate,J.interpolateGamma)):Sa.isFunction(Qa.round)?Qa.round(Y):Sa.isFunction(Qa.rangeRound)&&Qa.interpolate(Y?fb.interpolateRound:fb.interpolate),U&&Qa.range(Fa(U,J.reverse)))}return W.fork(W.NO_SOURCE|W.NO_FIELDS)}});Sa.inherits(hb,x.Transform,{transform(J,W){const Y=J.modified("sort")||W.changed(W.ADD)||W.modified(J.sort.fields)||W.modified("datum");Y&&W.source.sort(x.stableCompare(J.sort));this.modified(Y);return W}});const Q=
["y0","y1"];Ca.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Q}]};Sa.inherits(Ca,x.Transform,{transform(J,W){var Y=J.as||Q,ma=Y[0],Qa=Y[1],Ua=x.stableCompare(J.sort),U=J.field||Sa.one,sa="center"===J.offset?bb:"normalize"===J.offset?La:ka,ua;Ua=Aa(W.source,J.groupby,
Ua,U);var la=0;var T=Ua.length;for(ua=Ua.max;la<T;++la)sa(Ua[la],ua,U,ma,Qa);return W.reflow(J.modified()).modifies(Y)}});n.axisticks=ub;n.datajoin=Ob;n.encode=ob;n.legendentries=rb;n.linkpath=Xa;n.pie=Ha;n.scale=Za;n.sortitems=hb;n.stack=Ca;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[42]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(18)):"function"===typeof define&&define.amd?define(["exports","d3-array"],x):(n=n||self,x(n.d3=n.d3||{},n.d3))})(this,function(n,x){function ea(pa){return 1<pa?0:-1>pa?Yd:Math.acos(pa)}function Sa(pa){return 1<pa?Ae:-1>pa?-Ae:Math.asin(pa)}function Wb(pa){return(pa=cc(pa/2))*pa}function fb(){}function ub(pa,Pa){if(pa&&kf.hasOwnProperty(pa.type))kf[pa.type](pa,Pa)}function Ob(pa,Pa,qb){var Cb=
-1;qb=pa.length-qb;for(Pa.lineStart();++Cb<qb;){var Ub=pa[Cb];Pa.point(Ub[0],Ub[1],Ub[2])}Pa.lineEnd()}function zb(pa,Pa){var qb=-1,Cb=pa.length;for(Pa.polygonStart();++qb<Cb;)Ob(pa[qb],Pa,1);Pa.polygonEnd()}function cb(pa,Pa){if(pa&&Cf.hasOwnProperty(pa.type))Cf[pa.type](pa,Pa);else ub(pa,Pa)}function ob(){Vb.point=Xa}function rb(){Ha(N,V)}function Xa(pa,Pa){Vb.point=Ha;N=pa;V=Pa;pa*=Ld;Pa*=Ld;wa=pa;Ka=Jd(Pa=Pa/2+cf);Wa=cc(Pa)}function Ha(pa,Pa){pa*=Ld;Pa*=Ld;Pa=Pa/2+cf;var qb=pa-wa,Cb=0<=qb?1:-1,
Ub=Cb*qb;qb=Jd(Pa);Pa=cc(Pa);var c=Wa*Pa,m=Ka*qb+c*Jd(Ub);Cb=c*Cb*cc(Ub);tf.add(De(Cb,m));wa=pa;Ka=qb;Wa=Pa}function Ia(pa){return[De(pa[1],pa[0]),Sa(pa[2])]}function Za(pa){var Pa=pa[0];pa=pa[1];var qb=Jd(pa);return[qb*Jd(Pa),qb*cc(Pa),cc(pa)]}function mb(pa,Pa){return pa[0]*Pa[0]+pa[1]*Pa[1]+pa[2]*Pa[2]}function Da(pa,Pa){return[pa[1]*Pa[2]-pa[2]*Pa[1],pa[2]*Pa[0]-pa[0]*Pa[2],pa[0]*Pa[1]-pa[1]*Pa[0]]}function Fa(pa,Pa){pa[0]+=Pa[0];pa[1]+=Pa[1];pa[2]+=Pa[2]}function hb(pa,Pa){return[pa[0]*Pa,pa[1]*
Pa,pa[2]*Pa]}function Ca(pa){var Pa=pe(pa[0]*pa[0]+pa[1]*pa[1]+pa[2]*pa[2]);pa[0]/=Pa;pa[1]/=Pa;pa[2]/=Pa}function bb(pa,Pa){le.push(Te=[mc=pa,uc=pa]);Pa<Gc&&(Gc=Pa);Pa>Fc&&(Fc=Pa)}function La(pa,Pa){var qb=Za([pa*Ld,Pa*Ld]);if(xd){var Cb=Da(xd,qb);Cb=Da([Cb[1],-Cb[0],0],Cb);Ca(Cb);Cb=Ia(Cb);var Ub=pa-id,c=0<Ub?1:-1,m=Cb[0]*Ad*c;Ub=180<ae(Ub);Ub^(c*id<m&&m<c*pa)?(Cb=Cb[1]*Ad,Cb>Fc&&(Fc=Cb)):(m=(m+360)%360-180,Ub^(c*id<m&&m<c*pa))?(Cb=-Cb[1]*Ad,Cb<Gc&&(Gc=Cb)):(Pa<Gc&&(Gc=Pa),Pa>Fc&&(Fc=Pa));Ub?pa<
id?db(mc,pa)>db(mc,uc)&&(uc=pa):db(pa,uc)>db(mc,uc)&&(mc=pa):uc>=mc?(pa<mc&&(mc=pa),pa>uc&&(uc=pa)):pa>id?db(mc,pa)>db(mc,uc)&&(uc=pa):db(pa,uc)>db(mc,uc)&&(mc=pa)}else le.push(Te=[mc=pa,uc=pa]);Pa<Gc&&(Gc=Pa);Pa>Fc&&(Fc=Pa);xd=qb;id=pa}function ka(){Me.point=La}function Aa(){Te[0]=mc;Te[1]=uc;Me.point=bb;xd=null}function Ra(pa,Pa){if(xd){var qb=pa-id;zd.add(180<ae(qb)?qb+(0<qb?360:-360):qb)}else fd=pa,se=Pa;Vb.point(pa,Pa);La(pa,Pa)}function Ya(){Vb.lineStart()}function ib(){Ra(fd,se);Vb.lineEnd();
1E-6<ae(zd)&&(mc=-(uc=180));Te[0]=mc;Te[1]=uc;xd=null}function db(pa,Pa){return 0>(Pa-=pa)?Pa+360:Pa}function nb(pa,Pa){return pa[0]-Pa[0]}function $a(pa,Pa){return pa[0]<=pa[1]?pa[0]<=Pa&&Pa<=pa[1]:Pa<pa[0]||pa[1]<Pa}function S(pa,Pa){pa*=Ld;Pa*=Ld;var qb=Jd(Pa);z(qb*Jd(pa),qb*cc(pa),cc(Pa))}function z(pa,Pa,qb){++uf;pd+=(pa-pd)/uf;Ue+=(Pa-Ue)/uf;Le+=(qb-Le)/uf}function I(){jc.point=Q}function Q(pa,Pa){pa*=Ld;Pa*=Ld;var qb=Jd(Pa);Qb=qb*Jd(pa);Mb=qb*cc(pa);bc=cc(Pa);jc.point=J;z(Qb,Mb,bc)}function J(pa,
Pa){pa*=Ld;Pa*=Ld;var qb=Jd(Pa),Cb=qb*Jd(pa);pa=qb*cc(pa);Pa=cc(Pa);var Ub=De(pe((Ub=Mb*Pa-bc*pa)*Ub+(Ub=bc*Cb-Qb*Pa)*Ub+(Ub=Qb*pa-Mb*Cb)*Ub),Qb*Cb+Mb*pa+bc*Pa);Zf+=Ub;Ze+=Ub*(Qb+(Qb=Cb));$f+=Ub*(Mb+(Mb=pa));vf+=Ub*(bc+(bc=Pa));z(Qb,Mb,bc)}function W(){jc.point=S}function Y(){jc.point=Qa}function ma(){Ua(fa,kb);jc.point=S}function Qa(pa,Pa){fa=pa;kb=Pa;pa*=Ld;Pa*=Ld;jc.point=Ua;var qb=Jd(Pa);Qb=qb*Jd(pa);Mb=qb*cc(pa);bc=cc(Pa);z(Qb,Mb,bc)}function Ua(pa,Pa){pa*=Ld;Pa*=Ld;var qb=Jd(Pa),Cb=qb*Jd(pa);
pa=qb*cc(pa);Pa=cc(Pa);qb=Mb*Pa-bc*pa;var Ub=bc*Cb-Qb*Pa,c=Qb*pa-Mb*Cb,m=Ac(qb,Ub,c),G=Sa(m);m=m&&-G/m;ag.add(m*qb);df.add(m*Ub);M.add(m*c);Zf+=G;Ze+=G*(Qb+(Qb=Cb));$f+=G*(Mb+(Mb=pa));vf+=G*(bc+(bc=Pa));z(Qb,Mb,bc)}function U(pa){return function(){return pa}}function sa(pa,Pa){function qb(Cb,Ub){return Cb=pa(Cb,Ub),Pa(Cb[0],Cb[1])}pa.invert&&Pa.invert&&(qb.invert=function(Cb,Ub){return Cb=Pa.invert(Cb,Ub),Cb&&pa.invert(Cb[0],Cb[1])});return qb}function ua(pa,Pa){return[ae(pa)>Yd?pa+Math.round(-pa/
re)*re:pa,Pa]}function la(pa,Pa,qb){return(pa%=re)?Pa||qb?sa(v(pa),w(Pa,qb)):v(pa):Pa||qb?w(Pa,qb):ua}function T(pa){return function(Pa,qb){return Pa+=pa,[Pa>Yd?Pa-re:Pa<-Yd?Pa+re:Pa,qb]}}function v(pa){var Pa=T(pa);Pa.invert=T(-pa);return Pa}function w(pa,Pa){function qb(G,ia){var Ga=Jd(ia),Pb=Jd(G)*Ga;G=cc(G)*Ga;ia=cc(ia);Ga=ia*Cb+Pb*Ub;return[De(G*c-Ga*m,Pb*Cb-ia*Ub),Sa(Ga*c+G*m)]}var Cb=Jd(pa),Ub=cc(pa),c=Jd(Pa),m=cc(Pa);qb.invert=function(G,ia){var Ga=Jd(ia),Pb=Jd(G)*Ga;G=cc(G)*Ga;ia=cc(ia);
Ga=ia*c-G*m;return[De(G*c+ia*m,Pb*Cb+Ga*Ub),Sa(Ga*Cb-Pb*Ub)]};return qb}function p(pa){function Pa(qb){qb=pa(qb[0]*Ld,qb[1]*Ld);return qb[0]*=Ad,qb[1]*=Ad,qb}pa=la(pa[0]*Ld,pa[1]*Ld,2<pa.length?pa[2]*Ld:0);Pa.invert=function(qb){qb=pa.invert(qb[0]*Ld,qb[1]*Ld);return qb[0]*=Ad,qb[1]*=Ad,qb};return Pa}function r(pa,Pa,qb,Cb,Ub,c){if(qb){var m=Jd(Pa),G=cc(Pa);qb*=Cb;if(null==Ub)Ub=Pa+Cb*re,c=Pa-qb/2;else if(Ub=D(m,Ub),c=D(m,c),0<Cb?Ub<c:Ub>c)Ub+=Cb*re;for(;0<Cb?Ub>c:Ub<c;Ub-=qb)Pa=Ia([m,-G*Jd(Ub),-G*
cc(Ub)]),pa.point(Pa[0],Pa[1])}}function D(pa,Pa){Pa=Za(Pa);Pa[0]-=pa;Ca(Pa);pa=ea(-Pa[1]);return((0>-Pa[2]?-pa:pa)+re-1E-6)%re}function E(){var pa=[],Pa;return{point:function(qb,Cb,Ub){Pa.push([qb,Cb,Ub])},lineStart:function(){pa.push(Pa=[])},lineEnd:fb,rejoin:function(){1<pa.length&&pa.push(pa.pop().concat(pa.shift()))},result:function(){var qb=pa;pa=[];Pa=null;return qb}}}function H(pa,Pa){return 1E-6>ae(pa[0]-Pa[0])&&1E-6>ae(pa[1]-Pa[1])}function C(pa,Pa,qb,Cb){this.x=pa;this.z=Pa;this.o=qb;this.e=
Cb;this.v=!1;this.n=this.p=null}function ha(pa,Pa,qb,Cb,Ub){var c=[],m=[];pa.forEach(function(Tb){if(!(0>=(dc=Tb.length-1))){var dc,vc=Tb[0],hd=Tb[dc];if(H(vc,hd)){if(!vc[2]&&!hd[2]){Ub.lineStart();for(G=0;G<dc;++G)Ub.point((vc=Tb[G])[0],vc[1]);Ub.lineEnd();return}hd[0]+=2E-6}c.push(dc=new C(vc,Tb,null,!0));m.push(dc.o=new C(vc,null,dc,!1));c.push(dc=new C(hd,Tb,null,!1));m.push(dc.o=new C(hd,null,dc,!0))}});if(c.length){m.sort(Pa);xa(c);xa(m);var G=0;for(pa=m.length;G<pa;++G)m[G].e=qb=!qb;qb=c[0];
for(var ia;;){for(var Ga=qb,Pb=!0;Ga.v;)if((Ga=Ga.n)===qb)return;Pa=Ga.z;Ub.lineStart();do{Ga.v=Ga.o.v=!0;if(Ga.e){if(Pb)for(G=0,pa=Pa.length;G<pa;++G)Ub.point((ia=Pa[G])[0],ia[1]);else Cb(Ga.x,Ga.n.x,1,Ub);Ga=Ga.n}else{if(Pb)for(Pa=Ga.p.z,G=Pa.length-1;0<=G;--G)Ub.point((ia=Pa[G])[0],ia[1]);else Cb(Ga.x,Ga.p.x,-1,Ub);Ga=Ga.p}Ga=Ga.o;Pa=Ga.z;Pb=!Pb}while(!Ga.v);Ub.lineEnd()}}}function xa(pa){if(Pa=pa.length){for(var Pa,qb=0,Cb=pa[0],Ub;++qb<Pa;)Cb.n=Ub=pa[qb],Ub.p=Cb,Cb=Ub;Cb.n=Ub=pa[0];Ub.p=Cb}}
function oa(pa){return ae(pa[0])<=Yd?pa[0]:Je(pa[0])*((ae(pa[0])+Yd)%re-Yd)}function Va(pa,Pa){var qb=oa(Pa);Pa=Pa[1];var Cb=cc(Pa),Ub=[cc(qb),-Jd(qb),0],c=0,m=0,G=new x.Adder;1===Cb?Pa=Ae+1E-6:-1===Cb&&(Pa=-Ae-1E-6);Cb=0;for(var ia=pa.length;Cb<ia;++Cb)if(Pb=(Ga=pa[Cb]).length){var Ga,Pb,Tb=Ga[Pb-1],dc=oa(Tb),vc=Tb[1]/2+cf,hd=cc(vc),nd=Jd(vc);for(vc=0;vc<Pb;++vc,dc=$d,hd=Vd,nd=Hd,Tb=ie){var ie=Ga[vc],$d=oa(ie);Hd=ie[1]/2+cf;var Vd=cc(Hd),Hd=Jd(Hd),md=$d-dc,ce=0<=md?1:-1,bf=ce*md,qf=bf>Yd;hd*=Vd;
G.add(De(hd*ce*cc(bf),nd*Hd+hd*Jd(bf)));c+=qf?md+ce*re:md;qf^dc>=qb^$d>=qb&&(Tb=Da(Za(Tb),Za(ie)),Ca(Tb),dc=Da(Ub,Tb),Ca(dc),dc=(qf^0<=md?-1:1)*Sa(dc[2]),Pa>dc||Pa===dc&&(Tb[0]||Tb[1]))&&(m+=qf^0<=md?1:-1)}}return(-1E-6>c||1E-6>c&&-1E-12>G)^m&1}function Ja(pa,Pa,qb,Cb){return function(Ub){function c(md,ce){pa(md,ce)&&Ub.point(md,ce)}function m(md,ce){dc.point(md,ce)}function G(){Hd.point=m;dc.lineStart()}function ia(){Hd.point=c;dc.lineEnd()}function Ga(md,ce){Vd.push([md,ce]);hd.point(md,ce)}function Pb(){hd.lineStart();
Vd=[]}function Tb(){Ga(Vd[0][0],Vd[0][1]);hd.lineEnd();var md=hd.clean(),ce=vc.result(),bf=ce.length,qf;Vd.pop();ie.push(Vd);Vd=null;if(bf)if(md&1){if(bf=ce[0],0<(ce=bf.length-1)){nd||(Ub.polygonStart(),nd=!0);Ub.lineStart();for(md=0;md<ce;++md)Ub.point((qf=bf[md])[0],qf[1]);Ub.lineEnd()}}else 1<bf&&md&2&&ce.push(ce.pop().concat(ce.shift())),$d.push(ce.filter(ba))}var dc=Pa(Ub),vc=E(),hd=Pa(vc),nd=!1,ie,$d,Vd,Hd={point:c,lineStart:G,lineEnd:ia,polygonStart:function(){Hd.point=Ga;Hd.lineStart=Pb;Hd.lineEnd=
Tb;$d=[];ie=[]},polygonEnd:function(){Hd.point=c;Hd.lineStart=G;Hd.lineEnd=ia;$d=x.merge($d);var md=Va(ie,Cb);$d.length?(nd||(Ub.polygonStart(),nd=!0),ha($d,ta,md,qb,Ub)):md&&(nd||(Ub.polygonStart(),nd=!0),Ub.lineStart(),qb(null,null,1,Ub),Ub.lineEnd());nd&&(Ub.polygonEnd(),nd=!1);$d=ie=null},sphere:function(){Ub.polygonStart();Ub.lineStart();qb(null,null,1,Ub);Ub.lineEnd();Ub.polygonEnd()}};return Hd}}function ba(pa){return 1<pa.length}function ta(pa,Pa){return(0>(pa=pa.x)[0]?pa[1]-Ae-1E-6:Ae-pa[1])-
(0>(Pa=Pa.x)[0]?Pa[1]-Ae-1E-6:Ae-Pa[1])}function eb(pa){function Pa(ia,Ga){return Jd(ia)*Jd(Ga)>Ub}function qb(ia,Ga,Pb){var Tb=Za(ia),dc=Za(Ga),vc=[1,0,0];dc=Da(Tb,dc);var hd=mb(dc,dc);Tb=dc[0];var nd=hd-Tb*Tb;if(!nd)return!Pb&&ia;hd=Ub*hd/nd;nd=-Ub*Tb/nd;Tb=Da(vc,dc);vc=hb(vc,hd);dc=hb(dc,nd);Fa(vc,dc);dc=mb(vc,Tb);hd=mb(Tb,Tb);nd=dc*dc-hd*(mb(vc,vc)-1);if(!(0>nd)){var ie=pe(nd);nd=hb(Tb,(-dc-ie)/hd);Fa(nd,vc);nd=Ia(nd);if(!Pb)return nd;Pb=ia[0];var $d=Ga[0];ia=ia[1];Ga=Ga[1];if($d<Pb){var Vd=Pb;
Pb=$d;$d=Vd}var Hd=$d-Pb,md=1E-6>ae(Hd-Yd);!md&&Ga<ia&&(Vd=ia,ia=Ga,Ga=Vd);if(md||1E-6>Hd?md?0<ia+Ga^nd[1]<(1E-6>ae(nd[0]-Pb)?ia:Ga):ia<=nd[1]&&nd[1]<=Ga:Hd>Yd^(Pb<=nd[0]&&nd[0]<=$d))return Ga=hb(Tb,(-dc+ie)/hd),Fa(Ga,vc),[nd,Ia(Ga)]}}function Cb(ia,Ga){var Pb=m?pa:Yd-pa,Tb=0;ia<-Pb?Tb|=1:ia>Pb&&(Tb|=2);Ga<-Pb?Tb|=4:Ga>Pb&&(Tb|=8);return Tb}var Ub=Jd(pa),c=6*Ld,m=0<Ub,G=1E-6<ae(Ub);return Ja(Pa,function(ia){var Ga,Pb,Tb,dc,vc;return{lineStart:function(){dc=Tb=!1;vc=1},point:function(hd,nd){var ie=
[hd,nd],$d=Pa(hd,nd);nd=m?$d?0:Cb(hd,nd):$d?Cb(hd+(0>hd?Yd:-Yd),nd):0;!Ga&&(dc=Tb=$d)&&ia.lineStart();$d!==Tb&&(hd=qb(Ga,ie),!hd||H(Ga,hd)||H(ie,hd))&&(ie[2]=1);if($d!==Tb)vc=0,$d?(ia.lineStart(),hd=qb(ie,Ga),ia.point(hd[0],hd[1])):(hd=qb(Ga,ie),ia.point(hd[0],hd[1],2),ia.lineEnd()),Ga=hd;else if(G&&Ga&&m^$d){var Vd;nd&Pb||!(Vd=qb(ie,Ga,!0))||(vc=0,m?(ia.lineStart(),ia.point(Vd[0][0],Vd[0][1]),ia.point(Vd[1][0],Vd[1][1]),ia.lineEnd()):(ia.point(Vd[1][0],Vd[1][1]),ia.lineEnd(),ia.lineStart(),ia.point(Vd[0][0],
Vd[0][1],3)))}!$d||Ga&&H(Ga,ie)||ia.point(ie[0],ie[1]);Ga=ie;Tb=$d;Pb=nd},lineEnd:function(){Tb&&ia.lineEnd();Ga=null},clean:function(){return vc|(dc&&Tb)<<1}}},function(ia,Ga,Pb,Tb){r(Tb,pa,c,Pb,ia,Ga)},m?[0,-pa]:[-Yd,pa-Yd])}function xb(pa,Pa,qb,Cb,Ub,c){var m=pa[0],G=pa[1],ia=0,Ga=1,Pb=Pa[0]-m,Tb=Pa[1]-G;qb-=m;if(Pb||!(0<qb)){qb/=Pb;if(0>Pb){if(qb<ia)return;qb<Ga&&(Ga=qb)}else if(0<Pb){if(qb>Ga)return;qb>ia&&(ia=qb)}qb=Ub-m;if(Pb||!(0>qb)){qb/=Pb;if(0>Pb){if(qb>Ga)return;qb>ia&&(ia=qb)}else if(0<
Pb){if(qb<ia)return;qb<Ga&&(Ga=qb)}qb=Cb-G;if(Tb||!(0<qb)){qb/=Tb;if(0>Tb){if(qb<ia)return;qb<Ga&&(Ga=qb)}else if(0<Tb){if(qb>Ga)return;qb>ia&&(ia=qb)}qb=c-G;if(Tb||!(0>qb)){qb/=Tb;if(0>Tb){if(qb>Ga)return;qb>ia&&(ia=qb)}else if(0<Tb){if(qb<ia)return;qb<Ga&&(Ga=qb)}0<ia&&(pa[0]=m+ia*Pb,pa[1]=G+ia*Tb);1>Ga&&(Pa[0]=m+Ga*Pb,Pa[1]=G+Ga*Tb);return!0}}}}}function Kb(pa,Pa,qb,Cb){function Ub(ia,Ga,Pb,Tb){var dc=0,vc=0;if(null==ia||(dc=c(ia,Pb))!==(vc=c(Ga,Pb))||0>G(ia,Ga)^0<Pb){do Tb.point(0===dc||3===dc?
pa:qb,1<dc?Cb:Pa);while((dc=(dc+Pb+4)%4)!==vc)}else Tb.point(Ga[0],Ga[1])}function c(ia,Ga){return 1E-6>ae(ia[0]-pa)?0<Ga?0:3:1E-6>ae(ia[0]-qb)?0<Ga?2:1:1E-6>ae(ia[1]-Pa)?0<Ga?1:0:0<Ga?3:2}function m(ia,Ga){return G(ia.x,Ga.x)}function G(ia,Ga){var Pb=c(ia,1),Tb=c(Ga,1);return Pb!==Tb?Pb-Tb:0===Pb?Ga[1]-ia[1]:1===Pb?ia[0]-Ga[0]:2===Pb?ia[1]-Ga[1]:Ga[0]-ia[0]}return function(ia){function Ga(Xe,hf){pa<=Xe&&Xe<=qb&&Pa<=hf&&hf<=Cb&&Tb.point(Xe,hf)}function Pb(Xe,hf){var kg=pa<=Xe&&Xe<=qb&&Pa<=hf&&hf<=
Cb;hd&&nd.push([Xe,hf]);if(bf)ie=Xe,$d=hf,Vd=kg,bf=!1,kg&&(Tb.lineStart(),Tb.point(Xe,hf));else if(kg&&ce)Tb.point(Xe,hf);else{var Yf=[Hd=Math.max(-1E9,Math.min(1E9,Hd)),md=Math.max(-1E9,Math.min(1E9,md))],Lf=[Xe=Math.max(-1E9,Math.min(1E9,Xe)),hf=Math.max(-1E9,Math.min(1E9,hf))];xb(Yf,Lf,pa,Pa,qb,Cb)?(ce||(Tb.lineStart(),Tb.point(Yf[0],Yf[1])),Tb.point(Lf[0],Lf[1]),kg||Tb.lineEnd(),qf=!1):kg&&(Tb.lineStart(),Tb.point(Xe,hf),qf=!1)}Hd=Xe;md=hf;ce=kg}var Tb=ia,dc=E(),vc,hd,nd,ie,$d,Vd,Hd,md,ce,bf,
qf,ke={point:Ga,lineStart:function(){ke.point=Pb;hd&&hd.push(nd=[]);bf=!0;ce=!1;Hd=md=NaN},lineEnd:function(){vc&&(Pb(ie,$d),Vd&&ce&&dc.rejoin(),vc.push(dc.result()));ke.point=Ga;ce&&Tb.lineEnd()},polygonStart:function(){Tb=dc;vc=[];hd=[];qf=!0},polygonEnd:function(){for(var Xe,hf=Xe=0,kg=hd.length;hf<kg;++hf){var Yf=hd[hf],Lf=1,Gh=Yf.length,Rd=Yf[0],Ef=Rd[0];for(Rd=Rd[1];Lf<Gh;++Lf){var Hh=Ef;var Zg=Rd;Rd=Yf[Lf];Ef=Rd[0];Rd=Rd[1];Zg<=Cb?Rd>Cb&&(Ef-Hh)*(Cb-Zg)>(Rd-Zg)*(pa-Hh)&&++Xe:Rd<=Cb&&(Ef-Hh)*
(Cb-Zg)<(Rd-Zg)*(pa-Hh)&&--Xe}}hf=qf&&Xe;kg=(vc=x.merge(vc)).length;if(hf||kg)ia.polygonStart(),hf&&(ia.lineStart(),Ub(null,null,1,ia),ia.lineEnd()),kg&&ha(vc,m,Xe,Ub,ia),ia.polygonEnd();Tb=ia;vc=hd=nd=null}};return ke}}function fc(){Td.point=Td.lineEnd=fb}function Ec(pa,Pa){pa*=Ld;Pa*=Ld;ad=pa;ud=cc(Pa);Nd=Jd(Pa);Td.point=gd}function gd(pa,Pa){pa*=Ld;Pa*=Ld;var qb=cc(Pa);Pa=Jd(Pa);var Cb=ae(pa-ad),Ub=Jd(Cb);Cb=cc(Cb);Cb*=Pa;var c=Nd*qb-ud*Pa*Ub;Ub=ud*qb+Nd*Pa*Ub;Kc.add(De(pe(Cb*Cb+c*c),Ub));ad=pa;
ud=qb;Nd=Pa}function Dc(pa){Kc=new x.Adder;cb(pa,Td);return+Kc}function Sc(pa,Pa){Bd[0]=pa;Bd[1]=Pa;return Dc(af)}function Ta(pa,Pa){return pa&&Fe.hasOwnProperty(pa.type)?Fe[pa.type](pa,Pa):!1}function nc(pa,Pa){for(var qb,Cb,Ub,c=0,m=pa.length;c<m;c++){Cb=Sc(pa[c],Pa);if(0===Cb||0<c&&(Ub=Sc(pa[c],pa[c-1]),0<Ub&&qb<=Ub&&Cb<=Ub&&(qb+Cb-Ub)*(1-Math.pow((qb-Cb)/Ub,2))<1E-12*Ub))return!0;qb=Cb}return!1}function lc(pa,Pa){return!!Va(pa.map(wc),Pc(Pa))}function wc(pa){return pa=pa.map(Pc),pa.pop(),pa}function Pc(pa){return[pa[0]*
Ld,pa[1]*Ld]}function rc(pa,Pa,qb){var Cb=x.range(pa,Pa-1E-6,qb).concat(Pa);return function(Ub){return Cb.map(function(c){return[Ub,c]})}}function Xc(pa,Pa,qb){var Cb=x.range(pa,Pa-1E-6,qb).concat(Pa);return function(Ub){return Cb.map(function(c){return[c,Ub]})}}function $c(){function pa(){return{type:"MultiLineString",coordinates:Pa()}}function Pa(){return x.range(Se(c/dc)*dc,Ub,dc).map(ie).concat(x.range(Se(Ga/vc)*vc,ia,vc).map($d)).concat(x.range(Se(Cb/Pb)*Pb,qb,Pb).filter(function(Hd){return 1E-6<
ae(Hd%dc)}).map(hd)).concat(x.range(Se(G/Tb)*Tb,m,Tb).filter(function(Hd){return 1E-6<ae(Hd%vc)}).map(nd))}var qb,Cb,Ub,c,m,G,ia,Ga,Pb=10,Tb=Pb,dc=90,vc=360,hd,nd,ie,$d,Vd=2.5;pa.lines=function(){return Pa().map(function(Hd){return{type:"LineString",coordinates:Hd}})};pa.outline=function(){return{type:"Polygon",coordinates:[ie(c).concat($d(ia).slice(1),ie(Ub).reverse().slice(1),$d(Ga).reverse().slice(1))]}};pa.extent=function(Hd){return arguments.length?pa.extentMajor(Hd).extentMinor(Hd):pa.extentMinor()};
pa.extentMajor=function(Hd){if(!arguments.length)return[[c,Ga],[Ub,ia]];c=+Hd[0][0];Ub=+Hd[1][0];Ga=+Hd[0][1];ia=+Hd[1][1];c>Ub&&(Hd=c,c=Ub,Ub=Hd);Ga>ia&&(Hd=Ga,Ga=ia,ia=Hd);return pa.precision(Vd)};pa.extentMinor=function(Hd){if(!arguments.length)return[[Cb,G],[qb,m]];Cb=+Hd[0][0];qb=+Hd[1][0];G=+Hd[0][1];m=+Hd[1][1];Cb>qb&&(Hd=Cb,Cb=qb,qb=Hd);G>m&&(Hd=G,G=m,m=Hd);return pa.precision(Vd)};pa.step=function(Hd){return arguments.length?pa.stepMajor(Hd).stepMinor(Hd):pa.stepMinor()};pa.stepMajor=function(Hd){if(!arguments.length)return[dc,
vc];dc=+Hd[0];vc=+Hd[1];return pa};pa.stepMinor=function(Hd){if(!arguments.length)return[Pb,Tb];Pb=+Hd[0];Tb=+Hd[1];return pa};pa.precision=function(Hd){if(!arguments.length)return Vd;Vd=+Hd;hd=rc(G,m,90);nd=Xc(Cb,qb,Vd);ie=rc(Ga,ia,90);$d=Xc(c,Ub,Vd);return pa};return pa.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Nc(){ef.point=Dd}function Dd(pa,Pa){ef.point=we;be=Ce=pa;wf=Kf=Pa}function we(pa,Pa){Sf.add(Kf*pa-Ce*Pa);Ce=pa;Kf=Pa}function ld(){we(be,
wf)}function sd(pa,Pa){ya+=pa;Ea+=Pa;++ab}function ge(){lb.point=Ma}function Ma(pa,Pa){lb.point=vb;sd(ca=pa,na=Pa)}function vb(pa,Pa){var qb=pa-ca,Cb=Pa-na;qb=pe(qb*qb+Cb*Cb);tb+=qb*(ca+pa)/2;pb+=qb*(na+Pa)/2;Ab+=qb;sd(ca=pa,na=Pa)}function ac(){lb.point=sd}function rd(){lb.point=de}function vd(){oe(u,F)}function de(pa,Pa){lb.point=oe;sd(u=ca=pa,F=na=Pa)}function oe(pa,Pa){var qb=pa-ca,Cb=Pa-na;qb=pe(qb*qb+Cb*Cb);tb+=qb*(ca+pa)/2;pb+=qb*(na+Pa)/2;Ab+=qb;qb=na*pa-ca*Pa;Eb+=qb*(ca+pa);Yb+=qb*(na+Pa);
pc+=3*qb;sd(ca=pa,na=Pa)}function Z(pa){this._context=pa}function za(pa,Pa){yd.point=gb;gc=Tc=pa;zc=Rc=Pa}function gb(pa,Pa){Tc-=pa;Rc-=Pa;Ib.add(pe(Tc*Tc+Rc*Rc));Tc=pa;Rc=Pa}function Db(){this._string=[]}function Zb(pa){return"m0,"+pa+"a"+pa+","+pa+" 0 1,1 0,"+-2*pa+"a"+pa+","+pa+" 0 1,1 0,"+2*pa+"z"}function Gb(pa){return function(Pa){var qb=new sc,Cb;for(Cb in pa)qb[Cb]=pa[Cb];qb.stream=Pa;return qb}}function sc(){}function kc(pa,Pa,qb){var Cb=pa.clipExtent&&pa.clipExtent();pa.scale(150).translate([0,
0]);null!=Cb&&pa.clipExtent(null);cb(qb,pa.stream(ja));Pa(ja.result());null!=Cb&&pa.clipExtent(Cb);return pa}function Oa(pa,Pa,qb){return kc(pa,function(Cb){var Ub=Pa[1][0]-Pa[0][0],c=Pa[1][1]-Pa[0][1],m=Math.min(Ub/(Cb[1][0]-Cb[0][0]),c/(Cb[1][1]-Cb[0][1]));Ub=+Pa[0][0]+(Ub-m*(Cb[1][0]+Cb[0][0]))/2;Cb=+Pa[0][1]+(c-m*(Cb[1][1]+Cb[0][1]))/2;pa.scale(150*m).translate([Ub,Cb])},qb)}function sb(pa,Pa,qb){return kc(pa,function(Cb){var Ub=+Pa,c=Ub/(Cb[1][0]-Cb[0][0]);Ub=(Ub-c*(Cb[1][0]+Cb[0][0]))/2;Cb=
-c*Cb[0][1];pa.scale(150*c).translate([Ub,Cb])},qb)}function Lb(pa,Pa,qb){return kc(pa,function(Cb){var Ub=+Pa,c=Ub/(Cb[1][1]-Cb[0][1]),m=-c*Cb[0][0];Cb=(Ub-c*(Cb[1][1]+Cb[0][1]))/2;pa.scale(150*c).translate([m,Cb])},qb)}function hc(pa){return Gb({point:function(Pa,qb){Pa=pa(Pa,qb);this.stream.point(Pa[0],Pa[1])}})}function tc(pa,Pa){function qb(Cb,Ub,c,m,G,ia,Ga,Pb,Tb,dc,vc,hd,nd,ie){var $d=Ga-Cb,Vd=Pb-Ub,Hd=$d*$d+Vd*Vd;if(Hd>4*Pa&&nd--){var md=m+dc,ce=G+vc,bf=ia+hd,qf=pe(md*md+ce*ce+bf*bf),ke=Sa(bf/=
qf),Xe=1E-6>ae(ae(bf)-1)||1E-6>ae(c-Tb)?(c+Tb)/2:De(ce,md),hf=pa(Xe,ke);ke=hf[0];hf=hf[1];var kg=ke-Cb,Yf=hf-Ub,Lf=Vd*kg-$d*Yf;if(Lf*Lf/Hd>Pa||.3<ae(($d*kg+Vd*Yf)/Hd-.5)||m*dc+G*vc+ia*hd<Md)qb(Cb,Ub,c,m,G,ia,ke,hf,Xe,md/=qf,ce/=qf,bf,nd,ie),ie.point(ke,hf),qb(ke,hf,Xe,md,ce,bf,Ga,Pb,Tb,dc,vc,hd,nd,ie)}}return function(Cb){function Ub(ke,Xe){ke=pa(ke,Xe);Cb.point(ke[0],ke[1])}function c(){Vd=NaN;qf.point=m;Cb.lineStart()}function m(ke,Xe){var hf=Za([ke,Xe]);Xe=pa(ke,Xe);qb(Vd,Hd,$d,md,ce,bf,Vd=Xe[0],
Hd=Xe[1],$d=ke,md=hf[0],ce=hf[1],bf=hf[2],16,Cb);Cb.point(Vd,Hd)}function G(){qf.point=Ub;Cb.lineEnd()}function ia(){c();qf.point=Ga;qf.lineEnd=Pb}function Ga(ke,Xe){m(Tb=ke,Xe);dc=Vd;vc=Hd;hd=md;nd=ce;ie=bf;qf.point=m}function Pb(){qb(Vd,Hd,$d,md,ce,bf,dc,vc,Tb,hd,nd,ie,16,Cb);qf.lineEnd=G;G()}var Tb,dc,vc,hd,nd,ie,$d,Vd,Hd,md,ce,bf,qf={point:Ub,lineStart:c,lineEnd:G,polygonStart:function(){Cb.polygonStart();qf.lineStart=ia},polygonEnd:function(){Cb.polygonEnd();qf.lineStart=c}};return qf}}function Bc(pa){return Gb({point:function(Pa,
qb){Pa=pa(Pa,qb);return this.stream.point(Pa[0],Pa[1])}})}function Mc(pa,Pa,qb,Cb,Ub){function c(m,G){m*=Cb;G*=Ub;return[Pa+pa*m,qb-pa*G]}c.invert=function(m,G){return[(m-Pa)/pa*Cb,(qb-G)/pa*Ub]};return c}function Hb(pa,Pa,qb,Cb,Ub,c){function m(hd,nd){hd*=Cb;nd*=Ub;return[ia*hd-Ga*nd+Pa,qb-Ga*hd-ia*nd]}if(!c)return Mc(pa,Pa,qb,Cb,Ub);var G=Jd(c);c=cc(c);var ia=G*pa,Ga=c*pa,Pb=G/pa,Tb=c/pa,dc=(c*qb-G*Pa)/pa,vc=(c*Pa+G*qb)/pa;m.invert=function(hd,nd){return[Cb*(Pb*hd-Tb*nd+dc),Ub*(vc-Tb*hd-Pb*nd)]};
return m}function yc(pa){return Cc(function(){return pa})()}function Cc(pa){function Pa(Rd){return Yf(Rd[0]*Ld,Rd[1]*Ld)}function qb(Rd){return(Rd=Yf.invert(Rd[0],Rd[1]))&&[Rd[0]*Ad,Rd[1]*Ad]}function Cb(){var Rd=Hb(m,0,0,ie,$d,nd).apply(null,c(Ga,Pb));Rd=Hb(m,G-Rd[0],ia-Rd[1],ie,$d,nd);hd=la(Tb,dc,vc);kg=sa(c,Rd);Yf=sa(hd,kg);Rd=kg;hf=+Xe?tc(Rd,Xe):hc(Rd);return Ub()}function Ub(){Lf=Gh=null;return Pa}var c,m=150,G=480,ia=250,Ga=0,Pb=0,Tb=0,dc=0,vc=0,hd,nd=0,ie=1,$d=1,Vd=null,Hd=Qc,md=null,ce,bf,
qf,ke=he,Xe=.5,hf,kg,Yf,Lf,Gh;Pa.stream=function(Rd){return Lf&&Gh===Rd?Lf:Lf=bd(Bc(hd)(Hd(hf(ke(Gh=Rd)))))};Pa.preclip=function(Rd){return arguments.length?(Hd=Rd,Vd=void 0,Ub()):Hd};Pa.postclip=function(Rd){return arguments.length?(ke=Rd,md=ce=bf=qf=null,Ub()):ke};Pa.clipAngle=function(Rd){return arguments.length?(Hd=+Rd?eb(Vd=Rd*Ld):(Vd=null,Qc),Ub()):Vd*Ad};Pa.clipExtent=function(Rd){return arguments.length?(ke=null==Rd?(md=ce=bf=qf=null,he):Kb(md=+Rd[0][0],ce=+Rd[0][1],bf=+Rd[1][0],qf=+Rd[1][1]),
Ub()):null==md?null:[[md,ce],[bf,qf]]};Pa.scale=function(Rd){return arguments.length?(m=+Rd,Cb()):m};Pa.translate=function(Rd){return arguments.length?(G=+Rd[0],ia=+Rd[1],Cb()):[G,ia]};Pa.center=function(Rd){return arguments.length?(Ga=Rd[0]%360*Ld,Pb=Rd[1]%360*Ld,Cb()):[Ga*Ad,Pb*Ad]};Pa.rotate=function(Rd){return arguments.length?(Tb=Rd[0]%360*Ld,dc=Rd[1]%360*Ld,vc=2<Rd.length?Rd[2]%360*Ld:0,Cb()):[Tb*Ad,dc*Ad,vc*Ad]};Pa.angle=function(Rd){return arguments.length?(nd=Rd%360*Ld,Cb()):nd*Ad};Pa.reflectX=
function(Rd){return arguments.length?(ie=Rd?-1:1,Cb()):0>ie};Pa.reflectY=function(Rd){return arguments.length?($d=Rd?-1:1,Cb()):0>$d};Pa.precision=function(Rd){if(arguments.length){var Ef=kg;var Hh=Xe=Rd*Rd;Ef=(hf=+Hh?tc(Ef,Hh):hc(Ef),Ub())}else Ef=pe(Xe);return Ef};Pa.fitExtent=function(Rd,Ef){return Oa(Pa,Rd,Ef)};Pa.fitSize=function(Rd,Ef){return Oa(Pa,[[0,0],Rd],Ef)};Pa.fitWidth=function(Rd,Ef){return sb(Pa,Rd,Ef)};Pa.fitHeight=function(Rd,Ef){return Lb(Pa,Rd,Ef)};return function(){c=pa.apply(this,
arguments);Pa.invert=c.invert&&qb;return Cb()}}function xc(pa){var Pa=0,qb=Yd/3,Cb=Cc(pa);pa=Cb(Pa,qb);pa.parallels=function(Ub){return arguments.length?Cb(Pa=Ub[0]*Ld,qb=Ub[1]*Ld):[Pa*Ad,qb*Ad]};return pa}function Jc(pa){function Pa(Cb,Ub){return[Cb*qb,cc(Ub)/qb]}var qb=Jd(pa);Pa.invert=function(Cb,Ub){return[Cb/qb,Sa(Ub*qb)]};return Pa}function Yc(pa,Pa){function qb(G,ia){ia=pe(c-2*Ub*cc(ia))/Ub;return[ia*cc(G*=Ub),m-ia*Jd(G)]}var Cb=cc(pa),Ub=(Cb+cc(Pa))/2;if(1E-6>ae(Ub))return Jc(pa);var c=1+
Cb*(2*Ub-Cb),m=pe(c)/Ub;qb.invert=function(G,ia){ia=m-ia;var Ga=De(G,ae(ia))*Je(ia);0>ia*Ub&&(Ga-=Yd*Je(G)*Je(ia));return[Ga/Ub,Sa((c-(G*G+ia*ia)*Ub*Ub)/(2*Ub))]};return qb}function Uc(){return xc(Yc).scale(155.424).center([0,33.6442])}function od(){return Uc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function qd(pa){var Pa=pa.length;return{point:function(qb,Cb){for(var Ub=-1;++Ub<Pa;)pa[Ub].point(qb,Cb)},sphere:function(){for(var qb=-1;++qb<Pa;)pa[qb].sphere()},
lineStart:function(){for(var qb=-1;++qb<Pa;)pa[qb].lineStart()},lineEnd:function(){for(var qb=-1;++qb<Pa;)pa[qb].lineEnd()},polygonStart:function(){for(var qb=-1;++qb<Pa;)pa[qb].polygonStart()},polygonEnd:function(){for(var qb=-1;++qb<Pa;)pa[qb].polygonEnd()}}}function Id(pa){return function(Pa,qb){var Cb=Jd(Pa),Ub=Jd(qb);Cb=pa(Cb*Ub);return Infinity===Cb?[2,0]:[Cb*Ub*cc(Pa),Cb*cc(qb)]}}function Ed(pa){return function(Pa,qb){var Cb=pe(Pa*Pa+qb*qb),Ub=pa(Cb),c=cc(Ub);Ub=Jd(Ub);return[De(Pa*c,Cb*Ub),
Sa(Cb&&qb*c/Cb)]}}function Wd(pa,Pa){return[pa,Be(Ke((Ae+Pa)/2))]}function me(pa){function Pa(){var Tb=Yd*Ub(),dc=qb(p(qb.rotate()).invert([0,0]));return m(null==G?[[dc[0]-Tb,dc[1]-Tb],[dc[0]+Tb,dc[1]+Tb]]:pa===Wd?[[Math.max(dc[0]-Tb,G),ia],[Math.min(dc[0]+Tb,Ga),Pb]]:[[G,Math.max(dc[1]-Tb,ia)],[Ga,Math.min(dc[1]+Tb,Pb)]])}var qb=yc(pa),Cb=qb.center,Ub=qb.scale,c=qb.translate,m=qb.clipExtent,G=null,ia,Ga,Pb;qb.scale=function(Tb){return arguments.length?(Ub(Tb),Pa()):Ub()};qb.translate=function(Tb){return arguments.length?
(c(Tb),Pa()):c()};qb.center=function(Tb){return arguments.length?(Cb(Tb),Pa()):Cb()};qb.clipExtent=function(Tb){return arguments.length?(null==Tb?G=ia=Ga=Pb=null:(G=+Tb[0][0],ia=+Tb[0][1],Ga=+Tb[1][0],Pb=+Tb[1][1]),Pa()):null==G?null:[[G,ia],[Ga,Pb]]};return Pa()}function ye(pa,Pa){function qb(m,G){0<c?G<-Ae+1E-6&&(G=-Ae+1E-6):G>Ae-1E-6&&(G=Ae-1E-6);G=c/Xd(Ke((Ae+G)/2),Ub);return[G*cc(Ub*m),c-G*Jd(Ub*m)]}var Cb=Jd(pa),Ub=pa===Pa?cc(pa):Be(Cb/Jd(Pa))/Be(Ke((Ae+Pa)/2)/Ke((Ae+pa)/2)),c=Cb*Xd(Ke((Ae+
pa)/2),Ub)/Ub;if(!Ub)return Wd;qb.invert=function(m,G){G=c-G;var ia=Je(Ub)*pe(m*m+G*G),Ga=De(m,ae(G))*Je(G);0>G*Ub&&(Ga-=Yd*Je(m)*Je(G));return[Ga/Ub,2*Jf(Xd(c/ia,1/Ub))-Ae]};return qb}function Ye(pa,Pa){return[pa,Pa]}function Qe(pa,Pa){function qb(m,G){G=c-G;m*=Ub;return[G*cc(m),c-G*Jd(m)]}var Cb=Jd(pa),Ub=pa===Pa?cc(pa):(Cb-Jd(Pa))/(Pa-pa),c=Cb/Ub+pa;if(1E-6>ae(Ub))return Ye;qb.invert=function(m,G){G=c-G;var ia=De(m,ae(G))*Je(G);0>G*Ub&&(ia-=Yd*Je(m)*Je(G));return[ia/Ub,c-Je(Ub)*pe(m*m+G*G)]};return qb}
function Re(pa,Pa){Pa=Sa(We*cc(Pa));var qb=Pa*Pa,Cb=qb*qb*qb;return[pa*Jd(Pa)/(We*(1.340264+3*-.081106*qb+Cb*(7*8.93E-4+.034164*qb))),Pa*(1.340264+-.081106*qb+Cb*(8.93E-4+.003796*qb))]}function Fd(pa,Pa){var qb=Jd(Pa),Cb=Jd(pa)*qb;return[qb*cc(pa)/Cb,cc(Pa)/Cb]}function ee(pa,Pa){var qb=Pa*Pa,Cb=qb*qb;return[pa*(.8707-.131979*qb+Cb*(-.013791+Cb*(.003971*qb-.001529*Cb))),Pa*(1.007226+qb*(.015085+Cb*(-.044475+.028874*qb-.005916*Cb)))]}function ff(pa,Pa){return[Jd(Pa)*cc(pa),cc(Pa)]}function Oe(pa,Pa){var qb=
Jd(Pa),Cb=1+Jd(pa)*qb;return[qb*cc(pa)/Cb,cc(Pa)/Cb]}function Bf(pa,Pa){return[Be(Ke((Ae+Pa)/2)),-pa]}var Yd=Math.PI,Ae=Yd/2,cf=Yd/4,re=2*Yd,Ad=180/Yd,Ld=Yd/180,ae=Math.abs,Jf=Math.atan,De=Math.atan2,Jd=Math.cos,Se=Math.ceil,Ee=Math.exp,Ac=Math.hypot,Be=Math.log,Xd=Math.pow,cc=Math.sin,Je=Math.sign||function(pa){return 0<pa?1:0>pa?-1:0},pe=Math.sqrt,Ke=Math.tan,Cf={Feature:function(pa,Pa){ub(pa.geometry,Pa)},FeatureCollection:function(pa,Pa){pa=pa.features;for(var qb=-1,Cb=pa.length;++qb<Cb;)ub(pa[qb].geometry,
Pa)}},kf={Sphere:function(pa,Pa){Pa.sphere()},Point:function(pa,Pa){pa=pa.coordinates;Pa.point(pa[0],pa[1],pa[2])},MultiPoint:function(pa,Pa){for(var qb=pa.coordinates,Cb=-1,Ub=qb.length;++Cb<Ub;)pa=qb[Cb],Pa.point(pa[0],pa[1],pa[2])},LineString:function(pa,Pa){Ob(pa.coordinates,Pa,0)},MultiLineString:function(pa,Pa){pa=pa.coordinates;for(var qb=-1,Cb=pa.length;++qb<Cb;)Ob(pa[qb],Pa,0)},Polygon:function(pa,Pa){zb(pa.coordinates,Pa)},MultiPolygon:function(pa,Pa){pa=pa.coordinates;for(var qb=-1,Cb=
pa.length;++qb<Cb;)zb(pa[qb],Pa)},GeometryCollection:function(pa,Pa){pa=pa.geometries;for(var qb=-1,Cb=pa.length;++qb<Cb;)ub(pa[qb],Pa)}},tf=new x.Adder,Pe=new x.Adder,N,V,wa,Ka,Wa,Vb={point:fb,lineStart:fb,lineEnd:fb,polygonStart:function(){tf=new x.Adder;Vb.lineStart=ob;Vb.lineEnd=rb},polygonEnd:function(){var pa=+tf;Pe.add(0>pa?re+pa:pa);this.lineStart=this.lineEnd=this.point=fb},sphere:function(){Pe.add(re)}},mc,Gc,uc,Fc,id,fd,se,xd,zd,le,Te,Me={point:bb,lineStart:ka,lineEnd:Aa,polygonStart:function(){Me.point=
Ra;Me.lineStart=Ya;Me.lineEnd=ib;zd=new x.Adder;Vb.polygonStart()},polygonEnd:function(){Vb.polygonEnd();Me.point=bb;Me.lineStart=ka;Me.lineEnd=Aa;0>tf?(mc=-(uc=180),Gc=-(Fc=90)):1E-6<zd?Fc=90:-1E-6>zd&&(Gc=-90);Te[0]=mc;Te[1]=uc},sphere:function(){mc=-(uc=180);Gc=-(Fc=90)}},uf,Zf,pd,Ue,Le,Ze,$f,vf,ag,df,M,fa,kb,Qb,Mb,bc,jc={sphere:fb,point:S,lineStart:I,lineEnd:W,polygonStart:function(){jc.lineStart=Y;jc.lineEnd=ma},polygonEnd:function(){jc.lineStart=I;jc.lineEnd=W}};ua.invert=ua;var Qc=Ja(function(){return!0},
function(pa){var Pa=NaN,qb=NaN,Cb=NaN,Ub;return{lineStart:function(){pa.lineStart();Ub=1},point:function(c,m){var G=0<c?Yd:-Yd,ia=ae(c-Pa);if(1E-6>ae(ia-Yd))pa.point(Pa,qb=0<(qb+m)/2?Ae:-Ae),pa.point(Cb,qb),pa.lineEnd(),pa.lineStart(),pa.point(G,qb),pa.point(c,qb),Ub=0;else if(Cb!==G&&ia>=Yd){1E-6>ae(Pa-Cb)&&(Pa-=1E-6*Cb);1E-6>ae(c-G)&&(c-=1E-6*G);ia=Pa;var Ga=qb,Pb=c,Tb,dc,vc=cc(ia-Pb);qb=1E-6<ae(vc)?Jf((cc(Ga)*(dc=Jd(m))*cc(Pb)-cc(m)*(Tb=Jd(Ga))*cc(ia))/(Tb*dc*vc)):(Ga+m)/2;pa.point(Cb,qb);pa.lineEnd();
pa.lineStart();pa.point(G,qb);Ub=0}pa.point(Pa=c,qb=m);Cb=G},lineEnd:function(){pa.lineEnd();Pa=qb=NaN},clean:function(){return 2-Ub}}},function(pa,Pa,qb,Cb){null==pa?(qb*=Ae,Cb.point(-Yd,qb),Cb.point(0,qb),Cb.point(Yd,qb),Cb.point(Yd,0),Cb.point(Yd,-qb),Cb.point(0,-qb),Cb.point(-Yd,-qb),Cb.point(-Yd,0),Cb.point(-Yd,qb)):1E-6<ae(pa[0]-Pa[0])?(pa=pa[0]<Pa[0]?Yd:-Yd,qb=qb*pa/2,Cb.point(-pa,qb),Cb.point(0,qb),Cb.point(pa,qb)):Cb.point(Pa[0],Pa[1])},[-Yd,-Ae]),Kc,ad,ud,Nd,Td={sphere:fb,point:fb,lineStart:function(){Td.point=
Ec;Td.lineEnd=fc},lineEnd:fb,polygonStart:fb,polygonEnd:fb},Bd=[null,null],af={type:"LineString",coordinates:Bd},Pd={Feature:function(pa,Pa){return Ta(pa.geometry,Pa)},FeatureCollection:function(pa,Pa){pa=pa.features;for(var qb=-1,Cb=pa.length;++qb<Cb;)if(Ta(pa[qb].geometry,Pa))return!0;return!1}},Fe={Sphere:function(){return!0},Point:function(pa,Pa){return 0===Sc(pa.coordinates,Pa)},MultiPoint:function(pa,Pa){pa=pa.coordinates;for(var qb=-1,Cb=pa.length;++qb<Cb;)if(0===Sc(pa[qb],Pa))return!0;return!1},
LineString:function(pa,Pa){return nc(pa.coordinates,Pa)},MultiLineString:function(pa,Pa){pa=pa.coordinates;for(var qb=-1,Cb=pa.length;++qb<Cb;)if(nc(pa[qb],Pa))return!0;return!1},Polygon:function(pa,Pa){return lc(pa.coordinates,Pa)},MultiPolygon:function(pa,Pa){pa=pa.coordinates;for(var qb=-1,Cb=pa.length;++qb<Cb;)if(lc(pa[qb],Pa))return!0;return!1},GeometryCollection:function(pa,Pa){pa=pa.geometries;for(var qb=-1,Cb=pa.length;++qb<Cb;)if(Ta(pa[qb],Pa))return!0;return!1}},he=pa=>pa,ze=new x.Adder,
Sf=new x.Adder,be,wf,Ce,Kf,ef={point:fb,lineStart:fb,lineEnd:fb,polygonStart:function(){ef.lineStart=Nc;ef.lineEnd=ld},polygonEnd:function(){ef.lineStart=ef.lineEnd=ef.point=fb;ze.add(ae(Sf));Sf=new x.Adder},result:function(){var pa=ze/2;ze=new x.Adder;return pa}},gg=Infinity,O=gg,P=-gg,aa=P,ja={point:function(pa,Pa){pa<gg&&(gg=pa);pa>P&&(P=pa);Pa<O&&(O=Pa);Pa>aa&&(aa=Pa)},lineStart:fb,lineEnd:fb,polygonStart:fb,polygonEnd:fb,result:function(){var pa=[[gg,O],[P,aa]];P=aa=-(O=gg=Infinity);return pa}},
ya=0,Ea=0,ab=0,tb=0,pb=0,Ab=0,Eb=0,Yb=0,pc=0,u,F,ca,na,lb={point:sd,lineStart:ge,lineEnd:ac,polygonStart:function(){lb.lineStart=rd;lb.lineEnd=vd},polygonEnd:function(){lb.point=sd;lb.lineStart=ge;lb.lineEnd=ac},result:function(){var pa=pc?[Eb/pc,Yb/pc]:Ab?[tb/Ab,pb/Ab]:ab?[ya/ab,Ea/ab]:[NaN,NaN];ya=Ea=ab=tb=pb=Ab=Eb=Yb=pc=0;return pa}};Z.prototype={_radius:4.5,pointRadius:function(pa){return this._radius=pa,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=
0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(pa,Pa){switch(this._point){case 0:this._context.moveTo(pa,Pa);this._point=1;break;case 1:this._context.lineTo(pa,Pa);break;default:this._context.moveTo(pa+this._radius,Pa),this._context.arc(pa,Pa,this._radius,0,re)}},result:fb};var Ib=new x.Adder,Sb,gc,zc,Tc,Rc,yd={point:fb,lineStart:function(){yd.point=za},lineEnd:function(){Sb&&gb(gc,zc);yd.point=fb},polygonStart:function(){Sb=!0},polygonEnd:function(){Sb=
null},result:function(){var pa=+Ib;Ib=new x.Adder;return pa}};Db.prototype={_radius:4.5,_circle:Zb(4.5),pointRadius:function(pa){(pa=+pa)!==this._radius&&(this._radius=pa,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(pa,Pa){switch(this._point){case 0:this._string.push("M",pa,",",Pa);this._point=1;break;case 1:this._string.push("L",
pa,",",Pa);break;default:null==this._circle&&(this._circle=Zb(this._radius)),this._string.push("M",pa,",",Pa,this._circle)}},result:function(){if(this._string.length){var pa=this._string.join("");this._string=[];return pa}return null}};sc.prototype={constructor:sc,point:function(pa,Pa){this.stream.point(pa,Pa)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};
var Md=Jd(30*Ld),bd=Gb({point:function(pa,Pa){this.stream.point(pa*Ld,Pa*Ld)}}),Sd=Id(function(pa){return pe(2/(1+pa))});Sd.invert=Ed(function(pa){return 2*Sa(pa/2)});var je=Id(function(pa){return(pa=ea(pa))&&pa/cc(pa)});je.invert=Ed(function(pa){return pa});Wd.invert=function(pa,Pa){return[pa,2*Jf(Ee(Pa))-Ae]};Ye.invert=Ye;var We=pe(3)/2;Re.invert=function(pa,Pa){for(var qb=Pa,Cb=qb*qb,Ub=Cb*Cb*Cb,c=0,m;12>c&&!(m=qb*(1.340264+-.081106*Cb+Ub*(8.93E-4+.003796*Cb))-Pa,Cb=1.340264+3*-.081106*Cb+Ub*(7*
8.93E-4+.034164*Cb),qb-=m/=Cb,Cb=qb*qb,Ub=Cb*Cb*Cb,1E-12>ae(m));++c);return[We*pa*(1.340264+3*-.081106*Cb+Ub*(7*8.93E-4+.034164*Cb))/Jd(qb),Sa(cc(qb)/We)]};Fd.invert=Ed(Jf);ee.invert=function(pa,Pa){var qb=Pa,Cb=25;do{var Ub=qb*qb;var c=Ub*Ub;qb-=c=(qb*(1.007226+Ub*(.015085+c*(-.044475+.028874*Ub-.005916*c)))-Pa)/(1.007226+Ub*(.045255+c*(-.311325+.259866*Ub-.005916*11*c)))}while(1E-6<ae(c)&&0<--Cb);return[pa/(.8707+(Ub=qb*qb)*(-.131979+Ub*(-.013791+Ub*Ub*Ub*(.003971-.001529*Ub)))),qb]};ff.invert=
Ed(Sa);Oe.invert=Ed(function(pa){return 2*Jf(pa)});Bf.invert=function(pa,Pa){return[-Pa,2*Jf(Ee(pa))-Ae]};n.geoAlbers=od;n.geoAlbersUsa=function(){function pa(dc){var vc=dc[0];dc=dc[1];return Pb=null,(c.point(vc,dc),Pb)||(G.point(vc,dc),Pb)||(Ga.point(vc,dc),Pb)}function Pa(){qb=Cb=null;return pa}var qb,Cb,Ub=od(),c,m=Uc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),G,ia=Uc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ga,Pb,Tb={point:function(dc,vc){Pb=[dc,vc]}};pa.invert=function(dc){var vc=
Ub.scale(),hd=Ub.translate(),nd=(dc[0]-hd[0])/vc;vc=(dc[1]-hd[1])/vc;return(.12<=vc&&.234>vc&&-.425<=nd&&-.214>nd?m:.166<=vc&&.234>vc&&-.214<=nd&&-.115>nd?ia:Ub).invert(dc)};pa.stream=function(dc){return qb&&Cb===dc?qb:qb=qd([Ub.stream(Cb=dc),m.stream(dc),ia.stream(dc)])};pa.precision=function(dc){if(!arguments.length)return Ub.precision();Ub.precision(dc);m.precision(dc);ia.precision(dc);return Pa()};pa.scale=function(dc){if(!arguments.length)return Ub.scale();Ub.scale(dc);m.scale(.35*dc);ia.scale(dc);
return pa.translate(Ub.translate())};pa.translate=function(dc){if(!arguments.length)return Ub.translate();var vc=Ub.scale(),hd=+dc[0],nd=+dc[1];c=Ub.translate(dc).clipExtent([[hd-.455*vc,nd-.238*vc],[hd+.455*vc,nd+.238*vc]]).stream(Tb);G=m.translate([hd-.307*vc,nd+.201*vc]).clipExtent([[hd-.425*vc+1E-6,nd+.12*vc+1E-6],[hd-.214*vc-1E-6,nd+.234*vc-1E-6]]).stream(Tb);Ga=ia.translate([hd-.205*vc,nd+.212*vc]).clipExtent([[hd-.214*vc+1E-6,nd+.166*vc+1E-6],[hd-.115*vc-1E-6,nd+.234*vc-1E-6]]).stream(Tb);
return Pa()};pa.fitExtent=function(dc,vc){return Oa(pa,dc,vc)};pa.fitSize=function(dc,vc){return Oa(pa,[[0,0],dc],vc)};pa.fitWidth=function(dc,vc){return sb(pa,dc,vc)};pa.fitHeight=function(dc,vc){return Lb(pa,dc,vc)};return pa.scale(1070)};n.geoArea=function(pa){Pe=new x.Adder;cb(pa,Vb);return 2*Pe};n.geoAzimuthalEqualArea=function(){return yc(Sd).scale(124.75).clipAngle(179.999)};n.geoAzimuthalEqualAreaRaw=Sd;n.geoAzimuthalEquidistant=function(){return yc(je).scale(79.4188).clipAngle(179.999)};
n.geoAzimuthalEquidistantRaw=je;n.geoBounds=function(pa){var Pa,qb,Cb;Fc=uc=-(mc=Gc=Infinity);le=[];cb(pa,Me);if(Pa=le.length){le.sort(nb);pa=1;var Ub=le[0];for(qb=[Ub];pa<Pa;++pa){var c=le[pa];$a(Ub,c[0])||$a(Ub,c[1])?(db(Ub[0],c[1])>db(Ub[0],Ub[1])&&(Ub[1]=c[1]),db(c[0],Ub[1])>db(Ub[0],Ub[1])&&(Ub[0]=c[0])):qb.push(Ub=c)}var m=-Infinity;Pa=qb.length-1;pa=0;for(Ub=qb[Pa];pa<=Pa;Ub=c,++pa)c=qb[pa],(Cb=db(Ub[1],c[0]))>m&&(m=Cb,mc=c[0],uc=Ub[1])}le=Te=null;return Infinity===mc||Infinity===Gc?[[NaN,
NaN],[NaN,NaN]]:[[mc,Gc],[uc,Fc]]};n.geoCentroid=function(pa){uf=Zf=pd=Ue=Le=Ze=$f=vf=0;ag=new x.Adder;df=new x.Adder;M=new x.Adder;cb(pa,jc);pa=+ag;var Pa=+df,qb=+M,Cb=Ac(pa,Pa,qb);return 1E-12>Cb&&(pa=Ze,Pa=$f,qb=vf,1E-6>Zf&&(pa=pd,Pa=Ue,qb=Le),Cb=Ac(pa,Pa,qb),1E-12>Cb)?[NaN,NaN]:[De(Pa,pa)*Ad,Sa(qb/Cb)*Ad]};n.geoCircle=function(){function pa(){var G=Pa.apply(this,arguments),ia=qb.apply(this,arguments)*Ld,Ga=Cb.apply(this,arguments)*Ld;Ub=[];c=la(-G[0]*Ld,-G[1]*Ld,0).invert;r(m,ia,Ga,1);G={type:"Polygon",
coordinates:[Ub]};Ub=c=null;return G}var Pa=U([0,0]),qb=U(90),Cb=U(6),Ub,c,m={point:function(G,ia){Ub.push(G=c(G,ia));G[0]*=Ad;G[1]*=Ad}};pa.center=function(G){return arguments.length?(Pa="function"===typeof G?G:U([+G[0],+G[1]]),pa):Pa};pa.radius=function(G){return arguments.length?(qb="function"===typeof G?G:U(+G),pa):qb};pa.precision=function(G){return arguments.length?(Cb="function"===typeof G?G:U(+G),pa):Cb};return pa};n.geoClipAntimeridian=Qc;n.geoClipCircle=eb;n.geoClipExtent=function(){var pa=
0,Pa=0,qb=960,Cb=500,Ub,c,m;return m={stream:function(G){return Ub&&c===G?Ub:Ub=Kb(pa,Pa,qb,Cb)(c=G)},extent:function(G){return arguments.length?(pa=+G[0][0],Pa=+G[0][1],qb=+G[1][0],Cb=+G[1][1],Ub=c=null,m):[[pa,Pa],[qb,Cb]]}}};n.geoClipRectangle=Kb;n.geoConicConformal=function(){return xc(ye).scale(109.5).parallels([30,30])};n.geoConicConformalRaw=ye;n.geoConicEqualArea=Uc;n.geoConicEqualAreaRaw=Yc;n.geoConicEquidistant=function(){return xc(Qe).scale(131.154).center([0,13.9389])};n.geoConicEquidistantRaw=
Qe;n.geoContains=function(pa,Pa){return(pa&&Pd.hasOwnProperty(pa.type)?Pd[pa.type]:Ta)(pa,Pa)};n.geoDistance=Sc;n.geoEqualEarth=function(){return yc(Re).scale(177.158)};n.geoEqualEarthRaw=Re;n.geoEquirectangular=function(){return yc(Ye).scale(152.63)};n.geoEquirectangularRaw=Ye;n.geoGnomonic=function(){return yc(Fd).scale(144.049).clipAngle(60)};n.geoGnomonicRaw=Fd;n.geoGraticule=$c;n.geoGraticule10=function(){return $c()()};n.geoIdentity=function(){function pa(){hd=qb*c;nd=qb*m;Vd=Hd=null;return Pa}
function Pa(md){var ce=md[0]*hd;md=md[1]*nd;if(G){var bf=md*ia-ce*Ga;ce=ce*ia+md*Ga;md=bf}return[ce+Cb,md+Ub]}var qb=1,Cb=0,Ub=0,c=1,m=1,G=0,ia,Ga,Pb=null,Tb,dc,vc,hd=1,nd=1,ie=Gb({point:function(md,ce){md=Pa([md,ce]);this.stream.point(md[0],md[1])}}),$d=he,Vd,Hd;Pa.invert=function(md){var ce=md[0]-Cb;md=md[1]-Ub;if(G){var bf=md*ia+ce*Ga;ce=ce*ia-md*Ga;md=bf}return[ce/hd,md/nd]};Pa.stream=function(md){return Vd&&Hd===md?Vd:Vd=ie($d(Hd=md))};Pa.postclip=function(md){return arguments.length?($d=md,
Pb=Tb=dc=vc=null,pa()):$d};Pa.clipExtent=function(md){return arguments.length?($d=null==md?(Pb=Tb=dc=vc=null,he):Kb(Pb=+md[0][0],Tb=+md[0][1],dc=+md[1][0],vc=+md[1][1]),pa()):null==Pb?null:[[Pb,Tb],[dc,vc]]};Pa.scale=function(md){return arguments.length?(qb=+md,pa()):qb};Pa.translate=function(md){return arguments.length?(Cb=+md[0],Ub=+md[1],pa()):[Cb,Ub]};Pa.angle=function(md){return arguments.length?(G=md%360*Ld,Ga=cc(G),ia=Jd(G),pa()):G*Ad};Pa.reflectX=function(md){return arguments.length?(c=md?
-1:1,pa()):0>c};Pa.reflectY=function(md){return arguments.length?(m=md?-1:1,pa()):0>m};Pa.fitExtent=function(md,ce){return Oa(Pa,md,ce)};Pa.fitSize=function(md,ce){return Oa(Pa,[[0,0],md],ce)};Pa.fitWidth=function(md,ce){return sb(Pa,md,ce)};Pa.fitHeight=function(md,ce){return Lb(Pa,md,ce)};return Pa};n.geoInterpolate=function(pa,Pa){var qb=pa[0]*Ld,Cb=pa[1]*Ld;pa=Pa[0]*Ld;Pa=Pa[1]*Ld;var Ub=Jd(Cb),c=cc(Cb),m=Jd(Pa),G=cc(Pa),ia=Ub*Jd(qb),Ga=Ub*cc(qb),Pb=m*Jd(pa),Tb=m*cc(pa),dc=2*Sa(pe(Wb(Pa-Cb)+Ub*
m*Wb(pa-qb))),vc=cc(dc);pa=dc?function(hd){var nd=cc(hd*=dc)/vc,ie=cc(dc-hd)/vc;hd=ie*ia+nd*Pb;var $d=ie*Ga+nd*Tb;nd=ie*c+nd*G;return[De($d,hd)*Ad,De(nd,pe(hd*hd+$d*$d))*Ad]}:function(){return[qb*Ad,Cb*Ad]};pa.distance=dc;return pa};n.geoLength=Dc;n.geoMercator=function(){return me(Wd).scale(961/re)};n.geoMercatorRaw=Wd;n.geoNaturalEarth1=function(){return yc(ee).scale(175.295)};n.geoNaturalEarth1Raw=ee;n.geoOrthographic=function(){return yc(ff).scale(249.5).clipAngle(90.000001)};n.geoOrthographicRaw=
ff;n.geoPath=function(pa,Pa){function qb(m){m&&("function"===typeof Cb&&c.pointRadius(+Cb.apply(this,arguments)),cb(m,Ub(c)));return c.result()}var Cb=4.5,Ub,c;qb.area=function(m){cb(m,Ub(ef));return ef.result()};qb.measure=function(m){cb(m,Ub(yd));return yd.result()};qb.bounds=function(m){cb(m,Ub(ja));return ja.result()};qb.centroid=function(m){cb(m,Ub(lb));return lb.result()};qb.projection=function(m){return arguments.length?(Ub=null==m?(pa=null,he):(pa=m).stream,qb):pa};qb.context=function(m){if(!arguments.length)return Pa;
c=null==m?(Pa=null,new Db):new Z(Pa=m);"function"!==typeof Cb&&c.pointRadius(Cb);return qb};qb.pointRadius=function(m){if(!arguments.length)return Cb;Cb="function"===typeof m?m:(c.pointRadius(+m),+m);return qb};return qb.projection(pa).context(Pa)};n.geoProjection=yc;n.geoProjectionMutator=Cc;n.geoRotation=p;n.geoStereographic=function(){return yc(Oe).scale(250).clipAngle(142)};n.geoStereographicRaw=Oe;n.geoStream=cb;n.geoTransform=function(pa){return{stream:Gb(pa)}};n.geoTransverseMercator=function(){var pa=
me(Bf),Pa=pa.center,qb=pa.rotate;pa.center=function(Cb){return arguments.length?Pa([-Cb[1],Cb[0]]):(Cb=Pa(),[Cb[1],-Cb[0]])};pa.rotate=function(Cb){return arguments.length?qb([Cb[0],Cb[1],2<Cb.length?Cb[2]+90:90]):(Cb=qb(),[Cb[0],Cb[1],Cb[2]-90])};return qb([0,0,90]).scale(159.155)};n.geoTransverseMercatorRaw=Bf;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[43]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(42),Rb(18)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-array"],x):x(n.d3=n.d3||{},n.d3,n.d3)})(this,function(n,x,ea){function Sa(O){return 1<O?Wa:-1>O?-Wa:Math.asin(O)}function Wb(O){return 1<O?0:-1>O?Ka:Math.acos(O)}function fb(O){return 0<O?Math.sqrt(O):0}function ub(O){return(Je(O)-Je(-O))/2}function Ob(O){return(Je(O)+Je(-O))/2}function zb(O){function P(ya,Ea){var ab=
cc(ya),tb=cc(Ea);Ea=V(Ea);ab*=tb;ab=-((1-ab?Ke((1+ab)/2)/(1-ab):-.5)+ja/(1+ab));return[ab*tb*V(ya),ab*Ea]}var aa=wa(O/2),ja=2*Ke(cc(O/2))/(aa*aa);P.invert=function(ya,Ea){var ab=fb(ya*ya+Ea*Ea),tb=-O/2,pb=50;if(!ab)return[0,0];do{var Ab=tb/2;var Eb=cc(Ab);Ab=V(Ab);var Yb=Ab/Eb,pc=-Ke(Ac(Eb));tb-=Eb=(2/Yb*pc-ja*Yb-ab)/(-pc/(Ab*Ab)+1-ja/(2*Eb*Eb))*(0>Eb?.7:1)}while(1E-6<Ac(Eb)&&0<--pb);pb=V(tb);return[Xd(ya*pb,ab*cc(tb)),Sa(Ea*pb/ab)]};return P}function cb(O,P){var aa=cc(P);var ja=(ja=Wb(aa*cc(O/=2)))?
ja/Math.sin(ja):1;return[2*aa*V(O)*ja,V(P)*ja]}function ob(O){function P(tb,pb){var Ab=cc(pb),Eb=cc(tb/=2);return[(1+Ab)*V(tb),(ya*pb>-Xd(Eb,Ea)-.001?0:10*-ya)+ab+V(pb)*ja-(1+Ab)*aa*Eb]}var aa=V(O),ja=cc(O),ya=0<=O?1:-1,Ea=wa(ya*O),ab=(1+aa-ja)/2;P.invert=function(tb,pb){var Ab=0,Eb=0,Yb=50;do{var pc=cc(Ab),u=V(Ab),F=cc(Eb),ca=V(Eb),na=1+F,lb=na*u-tb,Ib=ab+ca*ja-na*aa*pc-pb,Sb=na*pc/2,gc=-u*ca;u=aa*na*u/2;F=ja*F+aa*pc*ca;pc=gc*u-F*Sb;gc=(Ib*gc-lb*F)/pc/2;lb=(lb*u-Ib*Sb)/pc;2<Ac(lb)&&(lb/=2);Ab-=gc;
Eb-=lb}while((1E-6<Ac(gc)||1E-6<Ac(lb))&&0<--Yb);return ya*Eb>-Xd(cc(Ab),Ea)-.001?[2*Ab,Eb]:null};return P}function rb(O,P){P=wa(P/2);var aa=fb(1-P*P),ja=1+aa*cc(O/=2);O=V(O)*aa/ja;P/=ja;ja=O*O;aa=P*P;return[4/3*O*(3+ja-3*aa),4/3*P*(3+3*ja-aa)]}function Xa(O,P){var aa=Ac(P);return aa<Vb?[O,Ke(wa(Vb+P/2))]:[O*cc(aa)*(2*Gc-1/V(aa)),N(P)*(2*Gc*(aa-Vb)-Ke(wa(aa/2)))]}function Ha(O){function P(ja,ya){ya=x.geoAzimuthalEquidistantRaw(ja,ya);if(Ac(ja)>Wa){ja=Xd(ya[1],ya[0]);var Ea=fb(ya[0]*ya[0]+ya[1]*ya[1]),
ab=aa*Pe((ja-Wa)/aa)+Wa,tb=Xd(V(ja-=ab),2-cc(ja));ja=ab+Sa(Ka/Ea*V(tb))-tb;ya[0]=Ea*cc(ja);ya[1]=Ea*V(ja)}return ya}var aa=2*Ka/O;P.invert=function(ja,ya){var Ea=fb(ja*ja+ya*ya);if(Ea>Wa){var ab=Xd(ya,ja);ja=aa*Pe((ab-Wa)/aa)+Wa;ya=ab>ja?-1:1;ab=Ea*cc(ja-ab);ab=1/wa(ya*Wb((ab-Ka)/fb(Ka*(Ka-2*ab)+Ea*Ea)));ab=ja+2*Be((ab+ya*fb(ab*ab-3))/3);ja=Ea*cc(ab);ya=Ea*V(ab)}return x.geoAzimuthalEquidistantRaw.invert(ja,ya)};return P}function Ia(O,P){function aa(ja,ya){ja=x.geoAzimuthalEqualAreaRaw(ja/P,ya);ja[0]*=
O;return ja}2>arguments.length&&(P=O);if(1===P)return x.geoAzimuthalEqualAreaRaw;if(Infinity===P)return Za;aa.invert=function(ja,ya){ja=x.geoAzimuthalEqualAreaRaw.invert(ja/O,ya);ja[0]*=P;return ja};return aa}function Za(O,P){return[O*cc(P)/cc(P/=2),2*V(P)]}function mb(O,P,aa){var ja=100;aa=void 0===aa?0:+aa;P=+P;do{var ya=O(aa);var Ea=O(aa+1E-6);ya===Ea&&(Ea=ya+1E-6);aa-=ya=-1E-6*(ya-P)/(ya-Ea)}while(0<ja--&&1E-6<Ac(ya));return 0>ja?NaN:aa}function Da(O,P,aa){void 0===P&&(P=40);void 0===aa&&(aa=
1E-12);return function(ja,ya,Ea,ab){Ea=void 0===Ea?0:+Ea;ab=void 0===ab?0:+ab;for(var tb=0;tb<P;tb++){var pb=O(Ea,ab),Ab=pb[0]-ja,Eb=pb[1]-ya;if(Ac(Ab)<aa&&Ac(Eb)<aa)break;var Yb=Ab*Ab+Eb*Eb;if(Yb>pc)Ea-=F/=2,ab-=na/=2;else{var pc=Yb;Yb=(0<Ea?-1:1)*aa;var u=(0<ab?-1:1)*aa;var F=O(Ea+Yb,ab);var ca=O(Ea,ab+u);var na=(F[0]-pb[0])/Yb;Yb=(F[1]-pb[1])/Yb;F=(ca[0]-pb[0])/u;pb=(ca[1]-pb[1])/u;u=pb*na-Yb*F;u=(.5>Ac(u)?.5:1)/u;F=(Eb*F-Ab*pb)*u;na=(Ab*Yb-Eb*na)*u;Ea+=F;ab+=na;if(Ac(F)<aa&&Ac(na)<aa)break}}return[Ea,
ab]}}function Fa(){function O(aa,ja){if(-1.4>aa+ja){var ya=(aa-ja+1.6)*(aa+ja+1.4)/8;aa+=ya;ja-=.8*ya*V(ja+Ka/2)}ya=P(aa,ja);aa=(1-cc(aa*ja))/12;0>ya[1]&&(ya[0]*=1+aa);0<ya[1]&&(ya[1]*=1+aa/1.5*ya[0]*ya[0]);return ya}var P=Ia(1.68,2);O.invert=Da(O);return O}function hb(O,P){O*=V(P);var aa=30,ja;do P-=ja=(P+V(P)-O)/(1+cc(P));while(1E-6<Ac(ja)&&0<--aa);return P/2}function Ca(O,P,aa){function ja(ya,Ea){return[O*ya*cc(Ea=hb(aa,Ea)),P*V(Ea)]}ja.invert=function(ya,Ea){return Ea=Sa(Ea/P),[ya/(O*cc(Ea)),
Sa((2*Ea+V(2*Ea))/aa)]};return ja}function bb(O,P){var aa=hb(Ka,P);return[2.00276*O/(1/cc(P)+1.11072/cc(aa)),(P+Gc*V(aa))/2.00276]}function La(O){var P=0,aa=x.geoProjectionMutator(O);O=aa(P);O.parallel=function(ja){return arguments.length?aa(P=ja*fd):P*id};return O}function ka(O,P){return[O*cc(P),P]}function Aa(O){function P(ja,ya){var Ea=aa+O-ya;ja=Ea?ja*cc(ya)/Ea:Ea;return[Ea*V(ja),aa-Ea*cc(ja)]}if(!O)return ka;var aa=1/wa(O);P.invert=function(ja,ya){var Ea=fb(ja*ja+(ya=aa-ya)*ya),ab=aa+O-Ea;return[Ea/
cc(ab)*Xd(ja,ya),ab]};return P}function Ra(O){function P(aa,ja){aa=(ja=Wa-ja)?aa*O*V(ja)/ja:ja;return[ja*V(aa)/O,Wa-ja*cc(aa)]}P.invert=function(aa,ja){aa*=O;var ya=Wa-ja;ja=fb(aa*aa+ya*ya);aa=Xd(aa,ya);return[(ja?ja/V(ja):1)*aa/O,Wa-ja]};return P}function Ya(O,P,aa,ja,ya,Ea){var ab=cc(Ea);if(1<Ac(O)||1<Ac(Ea))O=Wb(aa*ya+P*ja*ab);else{O=V(O/2);var tb=V(Ea/2);O=2*Sa(fb(O*O+P*ja*tb*tb))}return 1E-6<Ac(O)?[O,Xd(ja*V(Ea),P*ya-aa*ja*ab)]:[0,0]}function ib(O,P,aa){return Wb((O*O+P*P-aa*aa)/(2*O*P))}function db(O,
P,aa){var ja=[[O[0],O[1],V(O[1]),cc(O[1])],[P[0],P[1],V(P[1]),cc(P[1])],[aa[0],aa[1],V(aa[1]),cc(aa[1])]];O=ja[2];for(aa=0;3>aa;++aa,O=P)P=ja[aa],O.v=Ya(P[1]-O[1],O[3],O[2],P[3],P[2],P[0]-O[0]),O.point=[0,0];O=ib(ja[0].v[0],ja[2].v[0],ja[1].v[0]);var ya=ib(ja[0].v[0],ja[1].v[0],ja[2].v[0]),Ea=Ka-O;ja[2].point[1]=0;ja[0].point[0]=-(ja[1].point[0]=ja[0].v[0]/2);var ab=[ja[2].point[0]=ja[0].point[0]+ja[2].v[0]*cc(O),2*(ja[0].point[1]=ja[1].point[1]=ja[2].v[0]*V(O))];return function(tb,pb){var Ab=V(pb),
Eb=cc(pb),Yb=Array(3),pc;for(pc=0;3>pc;++pc){var u=ja[pc];Yb[pc]=Ya(pb-u[1],u[3],u[2],Eb,Ab,tb-u[0]);if(!Yb[pc][0])return u.point;var F=Yb[pc];u=Yb[pc][1]-u.v[1];u-=2*Ka*pe((u+Ka)/(2*Ka));F[1]=u}tb=ab.slice();for(pc=0;3>pc;++pc)pb=ib(ja[pc].v[0],Yb[pc][0],Yb[2==pc?0:pc+1][0]),0>Yb[pc][1]&&(pb=-pb),pc?1==pc?(pb=ya-pb,tb[0]-=Yb[pc][0]*cc(pb),tb[1]-=Yb[pc][0]*V(pb)):(pb=Ea-pb,tb[0]+=Yb[pc][0]*cc(pb),tb[1]+=Yb[pc][0]*V(pb)):(tb[0]+=Yb[pc][0]*cc(pb),tb[1]-=Yb[pc][0]*V(pb));tb[0]/=3;tb[1]/=3;return tb}}
function nb(O){return O[0]*=fd,O[1]*=fd,O}function $a(O,P,aa){var ja=x.geoCentroid({type:"MultiPoint",coordinates:[O,P,aa]});ja=[-ja[0],-ja[1]];var ya=x.geoRotation(ja);O=db(nb(ya(O)),nb(ya(P)),nb(ya(aa)));O.invert=Da(O);O=x.geoProjection(O).rotate(ja);var Ea=O.center;delete O.rotate;O.center=function(ab){return arguments.length?Ea(ya(ab)):ya.invert(Ea())};return O.clipAngle(90)}function S(O,P){P=fb(1-V(P));return[2/uc*O*P,uc*(1-P)]}function z(O){function P(ja,ya){return[ja,(ja?ja/V(ja):1)*(V(ya)*
cc(ja)-aa*cc(ya))]}var aa=wa(O);P.invert=aa?function(ja,ya){ja&&(ya*=V(ja)/ja);var Ea=cc(ja);return[ja,2*Xd(fb(Ea*Ea+aa*aa-ya*ya)-Ea,aa-ya)]}:function(ja,ya){return[ja,Sa(ja?ya*wa(ja)/ja:ya)]};return P}function I(O,P){return[Te*O*(2*cc(2*P/3)-1)/uc,Te*uc*V(P/3)]}function Q(O){function P(ja,ya){return[ja*aa,V(ya)/aa]}var aa=cc(O);P.invert=function(ja,ya){return[ja/aa,Sa(ya*aa)]};return P}function J(O){function P(ja,ya){return[ja*aa,(1+aa)*wa(ya/2)]}var aa=cc(O);P.invert=function(ja,ya){return[ja/aa,
2*Be(ya/(1+aa))]};return P}function W(O,P){var aa=fb(8/(3*Ka));return[aa*O*(1-Ac(P)/Ka),aa*P]}function Y(O,P){var aa=fb(4-3*V(Ac(P)));return[2/fb(6*Ka)*O*aa,N(P)*fb(2*Ka/3)*(2-aa)]}function ma(O,P){var aa=fb(Ka*(4+Ka));return[2/aa*O*(1+fb(1-4*P*P/(Ka*Ka))),4/aa*P]}function Qa(O,P){var aa=(2+Wa)*V(P);P/=2;for(var ja=0,ya=Infinity;10>ja&&1E-6<Ac(ya);ja++)ya=cc(P),P-=ya=(P+V(P)*(ya+2)-aa)/(2*ya*(1+ya));return[2/fb(Ka*(4+Ka))*O*(1+cc(P)),2*fb(Ka/(4+Ka))*V(P)]}function Ua(O,P){return[O*(1+cc(P))/fb(2+
Ka),2*P/fb(2+Ka)]}function U(O,P){for(var aa=(1+Wa)*V(P),ja=0,ya=Infinity;10>ja&&1E-6<Ac(ya);ja++)P-=ya=(P+V(P)-aa)/(1+cc(P));aa=fb(2+Ka);return[O*(1+cc(P))/aa,2*P/aa]}function sa(O,P){var aa=V(O/=2);O=cc(O);var ja=fb(cc(P)),ya=cc(P/=2);P=V(P)/(ya+Gc*O*ja);var Ea=fb(2/(1+P*P));aa=fb((Gc*ya+(O+aa)*ja)/(Gc*ya+(O-aa)*ja));return[Me*(Ea*(aa-1/aa)-2*Ke(aa)),Me*(Ea*P*(aa+1/aa)-2*Be(P))]}function ua(O,P){P=wa(P/2);return[O*uf*fb(1-P*P),(1+uf)*P]}function la(O,P){var aa=P/2,ja=cc(aa);return[2*O/uc*cc(P)*
ja*ja,uc*wa(aa)]}function T(O){function P(pb,Ab){var Eb=cc(Ab),Yb=V(Ab);return[Eb/(ya+O*Eb)*pb,ya*Ab+O*Yb]}function aa(pb,Ab){pb=P(pb,Ab);return[pb[0]*tb,pb[1]/tb]}function ja(pb){return aa(0,pb)[1]}var ya=1-O,Ea=P(Ka,0)[0]-P(-Ka,0)[0],ab=P(0,Wa)[1]-P(0,-Wa)[1],tb=fb(2*ab/Ea);aa.invert=function(pb,Ab){Ab=mb(ja,Ab);return[pb/tb*(O+ya/cc(Ab)),Ab]};return aa}function v(O){return[2*O[0],2*Be(V(O[1]*fd))*id]}function w(O,P){function aa(Ea,ab){Ea=x.geoAzimuthalEquidistantRaw(Ea,ab);ab=Ea[0];var tb=Ea[1],
pb=ab*ab+tb*tb;if(pb>ya){var Ab=fb(pb);ab=Xd(tb,ab);pb=ja*Pe(ab/ja);tb=ab-pb;var Eb=O*cc(tb),Yb=(O*V(tb)-tb*V(Eb))/(Wa-Eb),pc=p(tb,Yb),u=(Ka-O)/r(pc,Eb,Ka);ab=Ab;var F=50,ca;do ab-=ca=(O+r(pc,Eb,ab)*u-Ab)/(pc(ab)*u);while(1E-6<Ac(ca)&&0<--F);tb*=V(ab);ab<Wa&&(tb-=Yb*(ab-Wa));Ab=V(pb);pb=cc(pb);Ea[0]=ab*pb-tb*Ab;Ea[1]=ab*Ab+tb*pb}return Ea}var ja=2*Ka/P,ya=O*O;aa.invert=function(Ea,ab){var tb=Ea*Ea+ab*ab;if(tb>ya){var pb=fb(tb);ab=Xd(ab,Ea);tb=ja*Pe(ab/ja);ab-=tb;Ea=pb*cc(ab);ab=pb*V(ab);pb=Ea-Wa;
for(var Ab=V(Ea),Eb=ab/Ab,Yb=Ea<Wa?Infinity:0,pc=10;;){var u=O*V(Eb),F=O*cc(Eb),ca=V(F),na=Wa-F,lb=(u-Eb*ca)/na,Ib=p(Eb,lb);if(1E-12>Ac(Yb)||!--pc)break;Eb-=Yb=(Eb*Ab-lb*pb-ab)/(Ab-2*pb*(na*(F+Eb*u*cc(F)-ca)-u*(u-Eb*ca))/(na*na))}pb=O+r(Ib,F,Ea)*(Ka-O)/r(Ib,F,Ka);ab=tb+Eb;Ea=pb*cc(ab);ab=pb*V(ab)}return x.geoAzimuthalEquidistantRaw.invert(Ea,ab)};return aa}function p(O,P){return function(aa){var ja=O*cc(aa);aa<Wa&&(ja-=P);return fb(1+ja*ja)}}function r(O,P,aa){var ja=(aa-P)/50;aa=O(P)+O(aa);for(var ya=
1;50>ya;++ya)aa+=2*O(P+=ja);return.5*aa*ja}function D(O,P,aa,ja,ya,Ea,ab,tb){function pb(Ab,Eb){if(!Eb)return[O*Ab/Ka,0];var Yb=Eb*Eb,pc=O+Yb*(P+Yb*(aa+Yb*ja)),u=Eb*(ya-1+Yb*(Ea-tb+Yb*ab));u=(pc*pc+u*u)/(2*u);Ab=Ab*Sa(pc/u)/Ka;return[u*V(Ab),Eb*(1+Yb*tb)+u*(1-cc(Ab))]}8>arguments.length&&(tb=0);pb.invert=function(Ab,Eb){var Yb=Ka*Ab/O,pc=Eb,u=50;do{var F=pc*pc,ca=O+F*(P+F*(aa+F*ja)),na=pc*(ya-1+F*(Ea-tb+F*ab)),lb=ca*ca+na*na,Ib=2*na;var Sb=lb/Ib;var gc=Sb*Sb;var zc=Sa(ca/Sb)/Ka;var Tc=Yb*zc,Rc=ca*
ca,yd=(2*P+F*(4*aa+6*F*ja))*pc,Md=ya+F*(3*Ea+5*F*ab);na=(2*(ca*yd+na*(Md-1))*Ib-2*lb*(Md-1))/(Ib*Ib);lb=cc(Tc);Md=V(Tc);Ib=Sb*lb;Tc=Sb*Md;gc=Yb/Ka*(1/fb(1-Rc/gc))*(yd*Sb-ca*na)/gc;ca=Tc-Ab;F=pc*(1+F*tb)+Sb-Ib-Eb;Sb=na*Md+Ib*gc;Rc=Ib*zc;na=1+na-(na*lb-Tc*gc);zc*=Tc;lb=Sb*zc-na*Rc;if(!lb)break;Yb-=Sb=(F*Sb-ca*na)/lb;pc-=zc=(ca*zc-F*Rc)/lb}while((1E-6<Ac(Sb)||1E-6<Ac(zc))&&0<--u);return[Yb,pc]};return pb}function E(O,P){var aa=O*O,ja=P*P;return[O*(1-.162388*ja)*(.87-9.52426E-4*aa*aa),P*(1+ja/12)]}function H(O){function P(ja,
ya){var Ea=0<ja?-.5:.5;ja=O(ja+Ea*Ka,ya);ja[0]-=Ea*aa;return ja}var aa=O(Wa,0)[0]-O(-Wa,0)[0];O.invert&&(P.invert=function(ja,ya){var Ea=0<ja?-.5:.5;ja=O.invert(ja+Ea*aa,ya);Ea=ja[0]-Ea*Ka;Ea<-Ka?Ea+=2*Ka:Ea>Ka&&(Ea-=2*Ka);ja[0]=Ea;return ja});return P}function C(O,P){var aa=N(O),ja=N(P),ya=cc(P),Ea=cc(O)*ya;O=V(O)*ya;P=V(ja*P);O=Ac(Xd(O,P));P=Sa(Ea);1E-6<Ac(O-Wa)&&(O%=Wa);Ea=ha(O>Ka/4?Wa-O:O,P);O>Ka/4&&(P=Ea[0],Ea[0]=-Ea[1],Ea[1]=-P);return Ea[0]*=aa,Ea[1]*=-ja,Ea}function ha(O,P){if(P===Wa)return[0,
0];var aa=V(P),ja=aa*aa,ya=ja*ja,Ea=1+ya,ab=1+3*ya,tb=1-ya,pb=Sa(1/fb(Ea)),Ab=tb+ja*Ea*pb,Eb=(1-aa)/Ab,Yb=fb(Eb),pc=Eb*Ea,u=fb(pc),F=Yb*tb;if(0===O)return[0,-(F+ja*u)];var ca=cc(P),na=1/ca,lb=2*aa*ca;pb=(-Ab*ca-(1-aa)*(-3*ja+pb*ab)*lb)/(Ab*Ab);aa=-na*lb;Ea=-na*(ja*Ea*pb+Eb*ab*lb);tb=-2*na*(.5*pb/Yb*tb-2*ja*Yb*lb);Yb=4*O/Ka;if(O>.222*Ka||P<Ka/4&&O>.175*Ka){P=(F+ja*fb(pc*(1+ya)-F*F))/(1+ya);if(O>Ka/4)return[P,P];ya=P;na=.5*P;P=.5*(na+ya);O=50;do{lb=fb(pc-P*P);lb=P*(tb+aa*lb)+Ea*Sa(P/u)-Yb;if(!lb)break;
0>lb?na=P:ya=P;P=.5*(na+ya)}while(1E-6<Ac(ya-na)&&0<--O)}else{P=1E-6;O=25;do lb=P*P,ya=fb(pc-lb),ab=tb+aa*ya,na=P*ab+Ea*Sa(P/u)-Yb,lb=ab+(Ea-aa*lb)/ya,P-=ya=ya?na/lb:0;while(1E-6<Ac(ya)&&0<--O)}return[P,-F-ja*fb(pc-P*P)]}function xa(O,P){if(1E-6>P){var aa=V(O);var ja=cc(O);var ya=P*(O-aa*ja)/4;return[aa-ya*ja,ja+ya*aa,1-P*aa*aa/2,O-ya]}if(.999999<=P){ya=(1-P)/4;ja=Ob(O);aa=Je(2*O);aa=(aa-1)/(aa+1);P=1/ja;var Ea=ja*ub(O);return[aa+ya*(Ea-O)/(ja*ja),P-ya*aa*P*(Ea-O),P+ya*aa*P*(Ea+O),2*Be(Je(O))-Wa+
ya*(Ea-O)/ja]}var ab=[1,0,0,0,0,0,0,0,0],tb=[fb(P),0,0,0,0,0,0,0,0],pb=0;ja=fb(1-P);for(Ea=1;1E-6<Ac(tb[pb]/ab[pb])&&8>pb;)ya=ab[pb++],tb[pb]=(ya-ja)/2,ab[pb]=(ya+ja)/2,ja=fb(ya*ja),Ea*=2;P=Ea*ab[pb]*O;do aa=tb[pb]*V(ja=P)/ab[pb],P=(Sa(aa)+P)/2;while(--pb);return[V(P),aa=cc(P),aa/cc(P-ja),P]}function oa(O,P){if(!P)return O;if(1===P)return Ke(wa(O/2+Vb));var aa=1,ja=fb(1-P),ya=fb(P);for(P=0;1E-6<Ac(ya);P++)O%Ka?(ya=Be(ja*wa(O)/aa),0>ya&&(ya+=Ka),O+=ya+~~(O/Ka)*Ka):O+=O,ya=(aa+ja)/2,ja=fb(aa*ja),ya=
((aa=ya)-ja)/2;return O/(tf(2,P)*aa)}function Va(O,P){var aa=(Gc-1)/(Gc+1),ja=fb(1-aa*aa),ya=oa(Wa,ja*ja),Ea=Ke(wa(Ka/4+Ac(P)/2));Ea=Je(-1*Ea)/fb(aa);aa=Ea*cc(-1*O);var ab=Ea*V(-1*O);O=aa*aa;Ea=ab+1;ab=1-O-ab*ab;O=[.5*((0<=aa?Wa:-Wa)-Xd(ab,2*aa)),-.25*Ke(ab*ab+4*O)+.5*Ke(Ea*Ea+O)];aa=O[0];O=O[1];ja*=ja;Ea=Ac(aa);ab=Ac(O);ab=ub(ab);if(Ea){var tb=1/V(Ea);Ea=1/(wa(Ea)*wa(Ea));ab=-(Ea+ja*ab*ab*tb*tb-1+ja);ab=(-ab+fb(ab*ab-4*(ja-1)*Ea))/2;ja=[oa(Be(1/fb(ab)),ja)*N(aa),oa(Be(fb((ab/Ea-1)/ja)),1-ja)*N(O)]}else ja=
[0,oa(Be(ab),1-ja)*N(O)];return[-ja[1],(0<=P?1:-1)*(.5*ya-ja[0])]}function Ja(O){function P(Ea,ab){var tb=ya(Ea,ab);Ea=tb[0];ab=tb[1];tb=V(ab);ab=cc(ab);var pb=cc(Ea),Ab=Wb(aa*tb+ja*ab*pb),Eb=V(Ab);Ab=1E-6<Ac(Eb)?Ab/Eb:1;return[Ab*ja*V(Ea),(Ac(Ea)>Wa?Ab:-Ab)*(aa*ab-ja*tb*pb)]}var aa=V(O),ja=cc(O),ya=ba(O);ya.invert=ba(-O);P.invert=function(Ea,ab){var tb=fb(Ea*Ea+ab*ab),pb=-V(tb),Ab=cc(tb),Eb=tb*Ab,Yb=-ab*pb,pc=tb*aa,u=fb(Eb*Eb+Yb*Yb-pc*pc);Eb=Xd(Eb*pc+Yb*u,Yb*pc-Eb*u);Ea=(tb>Wa?-1:1)*Xd(Ea*pb,tb*
cc(Eb)*Ab+ab*V(Eb)*pb);return ya.invert(Ea,Eb)};return P}function ba(O){var P=V(O),aa=cc(O);return function(ja,ya){var Ea=cc(ya),ab=cc(ja)*Ea;ja=V(ja)*Ea;ya=V(ya);return[Xd(ja,ab*aa-ya*P),Sa(ya*aa+ab*P)]}}function ta(O){function P(Eb,Yb){var pc=Ac(Yb);if(pc>aa){var u=kf(O-1,Cf(0,pe((Eb+Ka)/tb)));Eb+=Ka*(O-1)/O-u*tb;Eb=S(Eb,pc);Eb[0]=Eb[0]*Fc/ja-Fc*(O-1)/(2*O)+u*Fc/O;Eb[1]=ya+4*(Eb[1]-Ea)*ab/Fc;0>Yb&&(Eb[1]=-Eb[1])}else Eb=$f(Eb,Yb);Eb[0]*=pb;Eb[1]/=Ab;return Eb}var aa=Ze*fd,ja=S(Ka,aa)[0]-S(-Ka,aa)[0],
ya=$f(0,aa)[1],Ea=S(0,aa)[1],ab=uc-Ea,tb=Fc/O,pb=4/Fc,Ab=ya+ab*ab*4/Fc;P.invert=function(Eb,Yb){Eb/=pb;Yb*=Ab;var pc=Ac(Yb);if(pc>ya){var u=kf(O-1,Cf(0,pe((Eb+Ka)/tb)));Eb=(Eb+Ka*(O-1)/O-u*tb)*ja/Fc;Eb=S.invert(Eb,.25*(pc-ya)*Fc/ab+Ea);Eb[0]-=Ka*(O-1)/O-u*tb;0>Yb&&(Eb[1]=-Eb[1]);return Eb}return $f.invert(Eb,Yb)};return P}function eb(O,P){return[O,P&1?89.999999:Ze]}function xb(O,P){return[O,P&1?-89.999999:-Ze]}function Kb(O){return[.999999*O[0],O[1]]}function fc(O){var P=[].concat(ea.range(-180,180+
O/2,O).map(eb),ea.range(180,-180-O/2,-O).map(xb));return{type:"Polygon",coordinates:[180===O?P.map(Kb):P]}}function Ec(O){function P(Eb,Yb){var pc=1-V(Yb);if(pc&&2>pc){var u=Wa-Yb,F=25;do{var ca=V(u);var na=cc(u);Yb=ya+Xd(ca,aa-na);na=1+Ab-2*aa*na;u-=ca=(u-pb*ya-aa*ca+na*Yb-.5*pc*ab)/(2*aa*ca*Yb)}while(1E-12<Ac(ca)&&0<--F);pc=Ea*fb(na);Eb=Eb*Yb/Ka}else pc=Ea*(O+pc),Eb=Eb*ya/Ka;return[pc*V(Eb),tb-pc*cc(Eb)]}var aa=1+O,ja=V(1/aa),ya=Sa(ja),Ea=2*fb(Ka/(ab=Ka+4*ya*aa)),ab,tb=.5*Ea*(aa+fb(O*(2+O))),pb=
O*O,Ab=aa*aa;P.invert=function(Eb,Yb){var pc=Eb*Eb+(Yb-=tb)*Yb;Yb=(1+Ab-pc/(Ea*Ea))/(2*aa);var u=Wb(Yb),F=V(u),ca=ya+Xd(F,aa-Yb);return[Sa(Eb/fb(pc))*Ka/ca,Sa(1-2*(u-pb*ya-aa*F+(1+Ab-2*aa*Yb)*ca)/ab)]};return P}function gd(O,P){return-.7109889596207567<P?(O=zd(O,P),O[1]+=.0528035274542,O):ka(O,P)}function Dc(O,P){return.7109889596207567<Ac(P)?(O=zd(O,P),O[1]-=0<P?.0528035274542:-.0528035274542,O):ka(O,P)}function Sc(O,P,aa,ja){function ya(Yb){return fb(1+O*cc(2*Yb)+P*cc(4*Yb))}function Ea(Yb){Yb*=
aa;return(2*Yb+(1+O-P/2)*V(2*Yb)+(O+P)/2*V(4*Yb)+P/2*V(6*Yb))/aa}function ab(Yb){return ya(Yb)*V(Yb)}var tb=fb(4*Ka/(2*aa+(1+O-P/2)*V(2*aa)+(O+P)/2*V(4*aa)+P/2*V(6*aa))),pb=fb(ja*V(aa)*fb((1+O*cc(2*aa)+P*cc(4*aa))/(1+O+P))),Ab=aa*Ea(1),Eb=function(Yb,pc){var u=aa*mb(Ea,Ab*V(pc)/aa,pc/Ka);isNaN(u)&&(u=aa*N(pc));pc=tb*ya(u);return[pc*pb*Yb/Ka*cc(u),pc/pb*V(u)]};Eb.invert=function(Yb,pc){pc=mb(ab,pc*pb/tb);return[Yb*Ka/(cc(pc)*tb*pb*ya(pc)),Sa(aa*Ea(pc/aa)/Ab)]};0===aa&&(tb=fb(ja/Ka),Eb=function(Yb,
pc){return[Yb*tb,V(pc)/tb]},Eb.invert=function(Yb,pc){return[Yb/tb,Sa(pc*tb)]});return Eb}function Ta(O,P,aa,ja,ya,Ea,ab,tb,pb,Ab,Eb){if(Eb.nanEncountered)return NaN;var Yb=aa-P;var pc=O(P+.25*Yb);var u=O(aa-.25*Yb);if(isNaN(pc))Eb.nanEncountered=!0;else if(isNaN(u))Eb.nanEncountered=!0;else{var F=Yb*(ja+4*pc+ya)/12;var ca=Yb*(ya+4*u+Ea)/12;var na=F+ca;ab=(na-ab)/15;if(Ab>pb)return Eb.maxDepthCount++,na+ab;if(Math.abs(ab)<tb)return na+ab;Yb=P+.5*Yb;P=Ta(O,P,Yb,ja,pc,ya,F,.5*tb,pb,Ab+1,Eb);if(isNaN(P))return Eb.nanEncountered=
!0,NaN;O=Ta(O,Yb,aa,ya,u,Ea,ca,.5*tb,pb,Ab+1,Eb);return isNaN(O)?(Eb.nanEncountered=!0,NaN):P+O}}function nc(O,P,aa,ja,ya){void 0===ja&&(ja=1E-8);void 0===ya&&(ya=20);var Ea=O(P),ab=O(.5*(P+aa)),tb=O(aa);return Ta(O,P,aa,Ea,ab,tb,(Ea+4*ab+tb)*(aa-P)/6,ja,ya,1,{maxDepthCount:0,nanEncountered:!1})}function lc(O,P,aa){function ja(Eb){return O+(1-O)*tf(1-tf(Eb,P),1/P)}function ya(Eb){var Yb=0,pc=1E3,u=500;do tb[u]>Eb?pc=u:Yb=u,u=Yb+pc>>1;while(u>Yb);(Yb=tb[u+1]-tb[u])&&(Yb=(Eb-tb[u+1])/Yb);return(u+1+
Yb)/1E3}for(var Ea=1/nc(ja,0,1,1E-4),ab=1.00000001*Ea,tb=[],pb=0;1E3>=pb;pb++)tb.push(nc(ja,0,pb/1E3,1E-4)*ab);var Ab=2*ya(1)/Ka*Ea/aa;aa=function(Eb,Yb){var pc=ya(Ac(V(Yb)));Eb*=ja(pc);pc/=Ab;return[Eb,0<=Yb?pc:-pc]};aa.invert=function(Eb,Yb){var pc;Yb*=Ab;1>Ac(Yb)&&(pc=N(Yb)*Sa(nc(ja,0,Ac(Yb),1E-4)*Ea));return[Eb/ja(Ac(Yb)),pc]};return aa}function wc(O,P){for(var aa=-1,ja=O.length,ya=O[0],Ea,ab,tb,pb=[];++aa<ja;){Ea=O[aa];ab=(Ea[0]-ya[0])/P;tb=(Ea[1]-ya[1])/P;for(var Ab=0;Ab<P;++Ab)pb.push([ya[0]+
Ab*ab,ya[1]+Ab*tb]);ya=Ea}pb.push(Ea);return pb}function Pc(O){var P=[],aa,ja=O[0].length;for(aa=0;aa<ja;++aa){var ya=O[0][aa];var Ea=ya[0][0];var ab=ya[0][1];var tb=ya[1][1];var pb=ya[2][0];ya=ya[2][1];P.push(wc([[Ea+1E-6,ab+1E-6],[Ea+1E-6,tb-1E-6],[pb-1E-6,tb-1E-6],[pb-1E-6,ya+1E-6]],30))}for(aa=O[1].length-1;0<=aa;--aa)ya=O[1][aa],Ea=ya[0][0],ab=ya[0][1],tb=ya[1][1],pb=ya[2][0],ya=ya[2][1],P.push(wc([[pb-1E-6,ya-1E-6],[pb-1E-6,tb+1E-6],[Ea+1E-6,tb+1E-6],[Ea+1E-6,ab-1E-6]],30));return{type:"Polygon",
coordinates:[ea.merge(P)]}}function rc(O,P,aa){function ja(pb,Ab){for(var Eb=0>Ab?-1:1,Yb=P[+(0>Ab)],pc=0,u=Yb.length-1;pc<u&&pb>Yb[pc][2][0];++pc);pb=O(pb-Yb[pc][1][0],Ab);pb[0]+=O(Yb[pc][1][0],Eb*Ab>Eb*Yb[pc][0][1]?Yb[pc][0][1]:Ab)[0];return pb}var ya,Ea;aa?ja.invert=aa(ja):O.invert&&(ja.invert=function(pb,Ab){for(var Eb=Ea[+(0>Ab)],Yb=P[+(0>Ab)],pc=0,u=Eb.length;pc<u;++pc){var F=Eb[pc];if(F[0][0]<=pb&&pb<F[1][0]&&F[0][1]<=Ab&&Ab<F[1][1])return Eb=O.invert(pb-O(Yb[pc][1][0],0)[0],Ab),Eb[0]+=Yb[pc][1][0],
Yb=ja(Eb[0],Eb[1]),pb=[pb,Ab],1E-6>Ac(Yb[0]-pb[0])&&1E-6>Ac(Yb[1]-pb[1])?Eb:null}});var ab=x.geoProjection(ja),tb=ab.stream;ab.stream=function(pb){var Ab=ab.rotate(),Eb=tb(pb),Yb=(ab.rotate([0,0]),tb(pb));ab.rotate(Ab);Eb.sphere=function(){x.geoStream(ya,Yb)};return Eb};ab.lobes=function(pb){if(!arguments.length)return P.map(function(Ab){return Ab.map(function(Eb){return[[Eb[0][0]*id,Eb[0][1]*id],[Eb[1][0]*id,Eb[1][1]*id],[Eb[2][0]*id,Eb[2][1]*id]]})});ya=Pc(pb);P=pb.map(function(Ab){return Ab.map(function(Eb){return[[Eb[0][0]*
fd,Eb[0][1]*fd],[Eb[1][0]*fd,Eb[1][1]*fd],[Eb[2][0]*fd,Eb[2][1]*fd]]})});Ea=P.map(function(Ab){return Ab.map(function(Eb){var Yb=O(Eb[0][0],Eb[0][1])[0],pc=O(Eb[2][0],Eb[2][1])[0],u=O(Eb[1][0],Eb[0][1])[1];Eb=O(Eb[1][0],Eb[1][1])[1];if(u>Eb){var F=u;u=Eb;Eb=F}return[[Yb,u],[pc,Eb]]})});return ab};null!=P&&ab.lobes(P);return ab}function Xc(O,P){return[3/Fc*O*fb(Ka*Ka/3-P*P),P]}function $c(O){function P(aa,ja){if(1E-6>Ac(Ac(ja)-Wa))return[0,0>ja?-2:2];ja=V(ja);ja=tf((1+ja)/(1-ja),O/2);var ya=.5*(ja+
1/ja)+cc(aa*=O);return[2*V(aa)/ya,(ja-1/ja)/ya]}P.invert=function(aa,ja){var ya=Ac(ja);if(1E-6>Ac(ya-2))return aa?null:[0,N(ja)*Wa];if(2<ya)return null;aa/=2;ja/=2;ya=aa*aa;var Ea=ja*ja;ja=2*ja/(1+ya+Ea);ja=tf((1+ja)/(1-ja),1/O);return[Xd(2*aa,1-ya-Ea)/O,Sa((ja-1)/(ja+1))]};return P}function Nc(O,P){return[O*(1+fb(cc(P)))/2,P/(cc(P/2)*cc(O/6))]}function Dd(O,P){var aa=O*O,ja=P*P;return[O*(.975534+ja*(-.119161+-.0143059*aa+-.0547009*ja)),P*(1.00384+aa*(.0802894+-.02855*ja+1.99025E-4*aa)+ja*(.0998909+
-.0491032*ja))]}function we(O,P){return[V(O)/cc(P),wa(P)*cc(O)]}function ld(O){function P(ya,Ea){var ab=Ea-O,tb=1E-6>Ac(ab)?ya*aa:1E-6>Ac(tb=Vb+Ea/2)||1E-6>Ac(Ac(tb)-Wa)?0:ya*ab/Ke(wa(tb)/ja);return[tb,ab]}var aa=cc(O),ja=wa(Vb+O/2);P.invert=function(ya,Ea){var ab,tb=Ea+O;return[1E-6>Ac(Ea)?ya/aa:1E-6>Ac(ab=Vb+tb/2)||1E-6>Ac(Ac(ab)-Wa)?0:ya*Ke(wa(ab)/ja)/Ea,tb]};return P}function sd(O,P){return[O,1.25*Ke(wa(Vb+.4*P))]}function ge(O){function P(ja,ya){var Ea=cc(ya),ab=2/(1+Ea*cc(ja));ja=ab*Ea*V(ja);
ya=ab*V(ya);ab=aa;Ea=O[ab];for(var tb=Ea[0],pb=Ea[1],Ab;0<=--ab;)Ea=O[ab],tb=Ea[0]+ja*(Ab=tb)-ya*pb,pb=Ea[1]+ja*pb+ya*Ab;tb=ja*(Ab=tb)-ya*pb;return[tb,ja*pb+ya*Ab]}var aa=O.length-1;P.invert=function(ja,ya){var Ea=20,ab=ja,tb=ya;do{for(var pb=aa,Ab=O[pb],Eb=Ab[0],Yb=Ab[1],pc=0,u=0,F;0<=--pb;)Ab=O[pb],pc=Eb+ab*(F=pc)-tb*u,u=Yb+ab*u+tb*F,Eb=Ab[0]+ab*(F=Eb)-tb*Yb,Yb=Ab[1]+ab*Yb+tb*F;pc=Eb+ab*(F=pc)-tb*u;u=Yb+ab*u+tb*F;Eb=ab*(F=Eb)-tb*Yb-ja;Yb=ab*Yb+tb*F-ya;Ab=pc*pc+u*u;ab-=pb=(Eb*pc+Yb*u)/Ab;tb-=Eb=
(Yb*pc-Eb*u)/Ab}while(1E-12<Ac(pb)+Ac(Eb)&&0<--Ea);if(Ea)return ja=fb(ab*ab+tb*tb),ya=2*Be(.5*ja),Ea=V(ya),[Xd(ab*Ea,ja*cc(ya)),ja?Sa(tb*Ea/ja):0]};return P}function Ma(O,P){O=x.geoProjection(ge(O)).rotate(P).clipAngle(90);var aa=x.geoRotation(P),ja=O.center;delete O.rotate;O.center=function(ya){return arguments.length?ja(aa(ya)):aa.invert(ja())};return O}function vb(O,P){P=Sa(7*V(P)/(3*ad));return[ad*O*(2*cc(2*P/3)-1)/ud,9*V(P/3)/ud]}function ac(O,P){for(var aa=(1+mc)*V(P),ja=0,ya;25>ja&&!(P-=ya=
(V(P/2)+V(P)-aa)/(.5*cc(P/2)+cc(P)),1E-6>Ac(ya));ja++);return[O*(1+2*cc(P)/cc(P/2))/(3*Gc),2*fb(3)*V(P/2)/fb(2+Gc)]}function rd(O,P){var aa=fb(6/(4+Ka)),ja=(1+Ka/4)*V(P);P/=2;for(var ya=0,Ea;25>ya&&!(P-=Ea=(P/2+V(P)-ja)/(.5+cc(P)),1E-6>Ac(Ea));ya++);return[aa*(.5+cc(P))*O/1.5,aa*P]}function vd(O,P){var aa=P*P,ja=aa*aa,ya=aa*ja;return[O*(.84719-.13063*aa+ya*ya*(-.04515+.05494*aa-.02326*ja+.00331*ya)),P*(1.01183+ja*ja*(-.02625+.01926*aa-.00396*ja))]}function de(O,P){return[O*(1+cc(P))/2,2*(P-wa(P/2))]}
function oe(O,P){var aa=V(P),ja=cc(P),ya=N(O);if(0===O||Ac(P)===Wa)return[0,P];if(0===P)return[O,0];if(Ac(O)===Wa)return[O*ja,Wa*aa];O=Ka/(2*O)-2*O/Ka;var Ea=2*P/Ka,ab=(1-Ea*Ea)/(aa-Ea),tb=O*O,pb=ab*ab;Ea=1+tb/pb;var Ab=1+pb/tb,Eb=(O*aa/ab-O/2)/Ea,Yb=(pb*aa/tb+ab/2)/Ab;aa=Yb*Yb-(pb*aa*aa/tb+ab*aa-1)/Ab;return[Wa*(Eb+fb(Eb*Eb+ja*ja/Ea)*ya),Wa*(Yb+fb(0>aa?0:aa)*N(-P*O)*ya)]}function Z(O,P){var aa=P*P;return[O,P*(1.0148+aa*aa*(.23185+aa*(-.14499+.02406*aa)))]}function za(O,P){if(1E-6>Ac(P))return[O,
0];var aa=wa(P);O*=V(P);return[V(O)/aa,P+(1-cc(O))/aa]}function gb(O,P){var aa=Zb(O[1],O[0]),ja=Zb(P[1],P[0]),ya=Xd(aa[0]*ja[1]-aa[1]*ja[0],aa[0]*ja[0]+aa[1]*ja[1]);aa=fb(aa[0]*aa[0]+aa[1]*aa[1])/fb(ja[0]*ja[0]+ja[1]*ja[1]);return Db([1,0,O[0][0],0,1,O[0][1]],Db([aa,0,0,0,aa,0],Db([cc(ya),V(ya),0,-V(ya),cc(ya),0],[1,0,-P[0][0],0,1,-P[0][1]])))}function Db(O,P){return[O[0]*P[0]+O[1]*P[3],O[0]*P[1]+O[1]*P[4],O[0]*P[2]+O[1]*P[5]+O[2],O[3]*P[0]+O[4]*P[3],O[3]*P[1]+O[4]*P[4],O[3]*P[2]+O[4]*P[5]+O[5]]}
function Zb(O,P){return[O[0]-P[0],O[1]-P[1]]}function Gb(O,P){function aa(tb,pb){tb.edges=sb(tb.face);if(pb.face){var Ab=tb.shared=Oa(tb.face,pb.face),Eb=gb(Ab.map(pb.project),Ab.map(tb.project));tb.transform=pb.transform?Db(pb.transform,Eb):Eb;Eb=pb.edges;for(var Yb=0,pc=Eb.length;Yb<pc;++Yb)kc(Ab[0],Eb[Yb][1])&&kc(Ab[1],Eb[Yb][0])&&(Eb[Yb]=tb),kc(Ab[0],Eb[Yb][0])&&kc(Ab[1],Eb[Yb][1])&&(Eb[Yb]=tb);Eb=tb.edges;Yb=0;for(pc=Eb.length;Yb<pc;++Yb)kc(Ab[0],Eb[Yb][0])&&kc(Ab[1],Eb[Yb][1])&&(Eb[Yb]=pb),
kc(Ab[0],Eb[Yb][1])&&kc(Ab[1],Eb[Yb][0])&&(Eb[Yb]=pb)}else tb.transform=pb.transform;tb.children&&tb.children.forEach(function(u){aa(u,tb)});return tb}function ja(tb,pb){var Ab=P(tb,pb);tb=Ab.project([tb*id,pb*id]);if(Ab=Ab.transform)return[Ab[0]*tb[0]+Ab[1]*tb[1]+Ab[2],-(Ab[3]*tb[0]+Ab[4]*tb[1]+Ab[5])];tb[1]=-tb[1];return tb}function ya(tb,pb){var Ab=tb.project.invert,Eb=tb.transform,Yb=pb;if(Eb){var pc=1/(Eb[0]*Eb[4]-Eb[1]*Eb[3]);Eb=[pc*Eb[4],-pc*Eb[1],pc*(Eb[1]*Eb[5]-Eb[2]*Eb[4]),-pc*Eb[3],pc*
Eb[0],pc*(Eb[2]*Eb[3]-Eb[0]*Eb[5])];Yb=[Eb[0]*Yb[0]+Eb[1]*Yb[1]+Eb[2],Eb[3]*Yb[0]+Eb[4]*Yb[1]+Eb[5]]}if(Eb=Ab)Ab=u=Ab(Yb),Ab=P(Ab[0]*fd,Ab[1]*fd),Eb=tb===Ab;if(Eb)return u;var u;tb=tb.children;Ab=0;for(Yb=tb&&tb.length;Ab<Yb;++Ab)if(u=ya(tb[Ab],pb))return u}aa(O,{transform:null});Lb(O)&&(ja.invert=function(tb,pb){return(tb=ya(O,[tb,-pb]))&&(tb[0]*=fd,tb[1]*=fd,tb)});var Ea=x.geoProjection(ja),ab=Ea.stream;Ea.stream=function(tb){var pb=Ea.rotate(),Ab=ab(tb),Eb=(Ea.rotate([0,0]),ab(tb));Ea.rotate(pb);
Ab.sphere=function(){Eb.polygonStart();Eb.lineStart();sc(Eb,O);Eb.lineEnd();Eb.polygonEnd()};return Ab};return Ea.angle(-30)}function sc(O,P,aa){var ja,ya=P.edges,Ea=ya.length;var ab={type:"MultiPoint",coordinates:P.face};var tb=P.face.filter(function(Yb){return 90!==Ac(Yb[1])}),pb=x.geoBounds({type:"MultiPoint",coordinates:tb});tb=!1;var Ab=-1,Eb=pb[1][0]-pb[0][0];pb=180===Eb||360===Eb?[(pb[0][0]+pb[1][0])/2,(pb[0][1]+pb[1][1])/2]:x.geoCentroid(ab);if(aa)for(;++Ab<Ea&&ya[Ab]!==aa;);++Ab;for(Eb=0;Eb<
Ea;++Eb)ab=ya[(Eb+Ab)%Ea],Array.isArray(ab)?(tb||(O.point((ja=x.geoInterpolate(ab[0],pb)(1E-6))[0],ja[1]),tb=!0),O.point((ja=x.geoInterpolate(ab[1],pb)(1E-6))[0],ja[1])):(tb=!1,ab!==aa&&sc(O,ab,P))}function kc(O,P){return O&&P&&O[0]===P[0]&&O[1]===P[1]}function Oa(O,P){for(var aa,ja,ya=O.length,Ea=null,ab=0;ab<ya;++ab){aa=O[ab];for(var tb=P.length;0<=--tb;)if(ja=P[tb],aa[0]===ja[0]&&aa[1]===ja[1]){if(Ea)return[Ea,aa];Ea=aa}}}function sb(O){for(var P=O.length,aa=[],ja=O[P-1],ya=0;ya<P;++ya)aa.push([ja,
ja=O[ya]]);return aa}function Lb(O){return O.project.invert||O.children&&O.children.some(Lb)}function hc(O,P){O=S(O,P);return[O[0]*Pd,O[1]]}function tc(O,P){for(var aa=0,ja=O.length,ya=0;aa<ja;++aa)ya+=O[aa]*P[aa];return ya}function Bc(O,P){return[O[1]*P[2]-O[2]*P[1],O[2]*P[0]-O[0]*P[2],O[0]*P[1]-O[1]*P[0]]}function Mc(O){return[Xd(O[1],O[0])*id,Sa(Cf(-1,kf(1,O[2])))*id]}function Hb(O){var P=O[0]*fd;O=O[1]*fd;var aa=cc(O);return[aa*cc(P),aa*V(P),V(O)]}function yc(O,P){return{type:"FeatureCollection",
features:O.features.map(function(aa){return Cc(aa,P)})}}function Cc(O,P){return{type:"Feature",id:O.id,properties:O.properties,geometry:Jc(O.geometry,P)}}function xc(O,P){return{type:"GeometryCollection",geometries:O.geometries.map(function(aa){return Jc(aa,P)})}}function Jc(O,P){if(!O)return null;if("GeometryCollection"===O.type)return xc(O,P);switch(O.type){case "Point":var aa=Sf;break;case "MultiPoint":aa=Sf;break;case "LineString":aa=be;break;case "MultiLineString":aa=be;break;case "Polygon":aa=
wf;break;case "MultiPolygon":aa=wf;break;case "Sphere":aa=wf;break;default:return null}x.geoStream(O,P(aa));return aa.result()}function Yc(O){function P(ja,ya){var Ea=Ac(ja)<Wa;ya=O(Ea?ja:0<ja?ja-Ka:ja+Ka,ya);ja=(ya[0]-ya[1])*mc;ya=(ya[0]+ya[1])*mc;if(Ea)return[ja,ya];Ea=aa*mc;var ab=0<ja^0<ya?-1:1;return[ab*ja-N(ya)*Ea,ab*ya-N(ja)*Ea]}var aa=O(Wa,0)[0]-O(-Wa,0)[0];O.invert&&(P.invert=function(ja,ya){var Ea=(ja+ya)*mc,ab=(ya-ja)*mc,tb=Ac(Ea)<.5*aa&&Ac(ab)<.5*aa;if(!tb){var pb=aa*mc,Ab=0<Ea^0<ab?-1:
1;ja=-Ab*ja+(0<ab?1:-1)*pb;ya=-Ab*ya+(0<Ea?1:-1)*pb;Ea=(-ja-ya)*mc;ab=(ja-ya)*mc}ya=O.invert(Ea,ab);tb||(ya[0]+=0<Ea?Ka:-Ka);return ya});return x.geoProjection(P).rotate([-90,-90,45]).clipAngle(179.999)}function Uc(O){function P(ja,ya){ja=aa?wa(ja*aa/2)/aa:ja/2;if(!ya)return[2*ja,-O];ja=2*Be(ja*V(ya));var Ea=1/wa(ya);return[V(ja)*Ea,ya+(1-cc(ja))*Ea-O]}var aa=V(O);P.invert=function(ja,ya){if(1E-6>Ac(ya+=O))return[aa?2*Be(aa*ja/2)/aa:ja,0];var Ea=ja*ja+ya*ya,ab=0,tb=10;do{var pb=wa(ab);var Ab=1/cc(ab),
Eb=Ea-2*ya*ab+ab*ab;ab-=pb=(pb*Eb+2*(ab-ya))/(2+Eb*Ab*Ab+2*(ab-ya)*pb)}while(1E-6<Ac(pb)&&0<--tb);ja*=pb=wa(ab);ya=wa(Ac(ya)<Ac(ab+1/pb)?.5*Sa(ja):.5*Wb(ja)+Ka/4)/V(ab);return[aa?2*Be(aa*ya)/aa:2*ya,ab]};return P}function od(O,P){var aa=kf(18,36*Ac(P)/Ka),ja=pe(aa);aa-=ja;var ya=(pb=Ce[ja])[0],Ea=pb[1],ab=(pb=Ce[++ja])[0],tb=pb[1];ja=(pb=Ce[kf(19,++ja)])[0];pb=pb[1];var pb;return[O*(ab+aa*(ja-ya)/2+aa*aa*(ja-2*ab+ya)/2),(0<P?Wa:-Wa)*(tb+aa*(pb-Ea)/2+aa*aa*(pb-2*tb+Ea)/2)]}function qd(O){function P(aa,
ja){var ya=cc(ja),Ea=(O-1)/(O-ya*cc(aa));return[Ea*ya*V(aa),Ea*V(ja)]}P.invert=function(aa,ja){var ya=aa*aa+ja*ja,Ea=fb(ya);ya=(O-fb(1-ya*(O+1)/(O-1)))/((O-1)/Ea+Ea/(O-1));return[Xd(aa*ya,Ea*fb(1-ya*ya)),Ea?Sa(ja*ya/Ea):0]};return P}function Id(O,P){function aa(ab,tb){ab=ja(ab,tb);tb=ab[1];var pb=tb*Ea/(O-1)+ya;return[ab[0]*ya/pb,tb/pb]}var ja=qd(O);if(!P)return ja;var ya=cc(P),Ea=V(P);aa.invert=function(ab,tb){var pb=(O-1)/(O-1-tb*Ea);return ja.invert(pb*ab,pb*tb*ya)};return aa}function Ed(O){return 0<
O.length}function Wd(O){return-90===O||90===O?[0,O]:[-180,Math.floor(1E4*O)/1E4]}function me(O){var P=O[0],aa=O[1],ja=!1;-179.9999>=P?(P=-180,ja=!0):179.9999<=P&&(P=180,ja=!0);-89.9999>=aa?(aa=-90,ja=!0):89.9999<=aa&&(aa=90,ja=!0);return ja?[P,aa]:O}function ye(O){return O.map(me)}function Ye(O,P,aa){for(var ja=0,ya=O.length;ja<ya;++ja){var Ea=O[ja].slice();aa.push({index:-1,polygon:P,ring:Ea});for(var ab=0,tb=Ea.length;ab<tb;++ab){var pb=Ea[ab],Ab=pb[0],Eb=pb[1];if(-179.9999>=Ab||179.9999<=Ab||-89.9999>=
Eb||89.9999<=Eb){Ea[ab]=me(pb);for(pb=ab+1;pb<tb;++pb){var Yb=Ea[pb];Ab=Yb[0];Yb=Yb[1];if(-179.9999<Ab&&179.9999>Ab&&-89.9999<Yb&&89.9999>Yb)break}if(pb!==ab+1){ab?(ab={index:-1,polygon:P,ring:Ea.slice(0,ab+1)},ab.ring[ab.ring.length-1]=Wd(Eb),aa[aa.length-1]=ab):aa.pop();if(pb>=tb)break;aa.push({index:-1,polygon:P,ring:Ea=Ea.slice(pb-1)});Ea[0]=Wd(Ea[0][1]);ab=-1;tb=Ea.length}}}}}function Qe(O){var P,aa=O.length,ja={},ya={};for(P=0;P<aa;++P){var Ea=O[P];var ab=Ea.ring[0];var tb=Ea.ring[Ea.ring.length-
1];ab[0]===tb[0]&&ab[1]===tb[1]?(Ea.polygon.push(Ea.ring),O[P]=null):(Ea.index=P,ja[ab]=ya[tb]=Ea)}for(P=0;P<aa;++P)if(Ea=O[P]){ab=Ea.ring[0];tb=Ea.ring[Ea.ring.length-1];var pb=ya[ab];var Ab=ja[tb];delete ja[ab];delete ya[tb];ab[0]===tb[0]&&ab[1]===tb[1]?Ea.polygon.push(Ea.ring):pb?(delete ya[ab],delete ja[pb.ring[0]],pb.ring.pop(),O[pb.index]=null,Ea={index:-1,polygon:pb.polygon,ring:pb.ring.concat(Ea.ring)},pb===Ab?Ea.polygon.push(Ea.ring):(Ea.index=aa++,O.push(ja[Ea.ring[0]]=ya[Ea.ring[Ea.ring.length-
1]]=Ea))):Ab?(delete ja[tb],delete ya[Ab.ring[Ab.ring.length-1]],Ea.ring.pop(),Ea={index:aa++,polygon:Ab.polygon,ring:Ea.ring.concat(Ab.ring)},O[Ab.index]=null,O.push(ja[Ea.ring[0]]=ya[Ea.ring[Ea.ring.length-1]]=Ea)):(Ea.ring.push(Ea.ring[0]),Ea.polygon.push(Ea.ring))}}function Re(O){var P={type:"Feature",geometry:Fd(O.geometry)};null!=O.id&&(P.id=O.id);null!=O.bbox&&(P.bbox=O.bbox);null!=O.properties&&(P.properties=O.properties);return P}function Fd(O){if(null==O)return O;switch(O.type){case "GeometryCollection":var P=
{type:"GeometryCollection",geometries:O.geometries.map(Fd)};break;case "Point":P={type:"Point",coordinates:me(O.coordinates)};break;case "MultiPoint":case "LineString":P={type:O.type,coordinates:ye(O.coordinates)};break;case "MultiLineString":P={type:"MultiLineString",coordinates:O.coordinates.map(ye)};break;case "Polygon":var aa=[];Ye(O.coordinates,aa,P=[]);Qe(P);P={type:"Polygon",coordinates:aa};break;case "MultiPolygon":P=[];aa=-1;var ja=O.coordinates.length;for(var ya=Array(ja);++aa<ja;)Ye(O.coordinates[aa],
ya[aa]=[],P);Qe(P);P={type:"MultiPolygon",coordinates:ya.filter(Ed)};break;default:return O}null!=O.bbox&&(P.bbox=O.bbox);return P}function ee(O,P){P=wa(P/2);var aa=V(Vb*P);return[O*(.74482-.34588*aa*aa),1.70711*P]}function ff(O,P,aa){var ja=x.geoInterpolate(P,aa);aa=ja(.5);P=x.geoRotation([-aa[0],-aa[1]])(P);ja=ja.distance/2;var ya=-Sa(V(P[1]*fd)/V(ja));aa=[-aa[0],-aa[1],-(0<P[0]?Ka-ya:ya)*id];O=x.geoProjection(O(ja)).rotate(aa);var Ea=x.geoRotation(aa),ab=O.center;delete O.rotate;O.center=function(tb){return arguments.length?
ab(Ea(tb)):Ea.invert(ab())};return O.clipAngle(90)}function Oe(O){function P(ja,ya){ja=x.geoGnomonicRaw(ja,ya);ja[0]*=aa;return ja}var aa=cc(O);P.invert=function(ja,ya){return x.geoGnomonicRaw.invert(ja/aa,ya)};return P}function Bf(O,P){return ff(Oe,O,P)}function Yd(O){function P(tb,pb){var Ab=Wb(cc(pb)*cc(tb-aa));tb=Wb(cc(pb)*cc(tb-ja));Ab*=Ab;tb*=tb;return[(Ab-tb)/(2*O),(0>pb?-1:1)*fb(4*ya*tb-(ya-Ab+tb)*(ya-Ab+tb))/(2*O)]}if(!(O*=2))return x.geoAzimuthalEquidistantRaw;var aa=-O/2,ja=-aa,ya=O*O,
Ea=wa(ja),ab=.5/V(ja);P.invert=function(tb,pb){var Ab=pb*pb,Eb=cc(fb(Ab+(Yb=tb+aa)*Yb));tb=cc(fb(Ab+(Yb=tb+ja)*Yb));var Yb,pc;return[Xd(pc=Eb-tb,Yb=(Eb+tb)*Ea),(0>pb?-1:1)*Wb(fb(Yb*Yb+pc*pc)*ab)]};return P}function Ae(O,P){return ff(Yd,O,P)}function cf(O,P){if(1E-6>Ac(P))return[O,0];var aa=Ac(P/Wa),ja=Sa(aa);if(1E-6>Ac(O)||1E-6>Ac(Ac(P)-Wa))return[0,N(P)*Ka*wa(ja/2)];var ya=cc(ja);ja=Ac(Ka/O-O/Ka)/2;var Ea=ja*ja;ya/=aa+ya-1;aa=ya*(2/aa-1);var ab=aa*aa,tb=ab+Ea,pb=ya-ab,Ab=Ea+ya;return[N(O)*Ka*(ja*
pb+fb(Ea*pb*pb-tb*(ya*ya-ab)))/tb,N(P)*Ka*(aa*Ab-ja*fb((Ea+1)*tb-Ab*Ab))/tb]}function re(O,P){if(1E-6>Ac(P))return[O,0];var aa=Ac(P/Wa),ja=Sa(aa);if(1E-6>Ac(O)||1E-6>Ac(Ac(P)-Wa))return[0,N(P)*Ka*wa(ja/2)];var ya=cc(ja);ja=Ac(Ka/O-O/Ka)/2;var Ea=ja*ja;aa=ya*(fb(1+Ea)-ja*ya)/(1+Ea*aa*aa);return[N(O)*Ka*aa,N(P)*Ka*fb(1-aa*(2*ja+aa))]}function Ad(O,P){if(1E-6>Ac(P))return[O,0];var aa=P/Wa,ja=Sa(aa);if(1E-6>Ac(O)||1E-6>Ac(Ac(P)-Wa))return[0,Ka*wa(ja/2)];P=(Ka/O-O/Ka)/2;aa/=1+cc(ja);return[Ka*(N(O)*fb(P*
P+1-aa*aa)-P),Ka*aa]}function Ld(O,P){if(!P)return[O,0];var aa=Ac(P);if(!O||aa===Wa)return[0,P];var ja=aa/Wa;aa=ja*ja;var ya=(8*ja-aa*(aa+2)-5)/(2*aa*(ja-1)),Ea=ya*ya,ab=ja*ya,tb=aa+Ea+2*ab;ja+=3*ya;ya=O/Wa;ya+=1/ya;ya=N(Ac(O)-Wa)*fb(ya*ya-4);var pb=ya*ya;aa=(ya*(tb+Ea-1)+2*fb(tb*(aa+Ea*pb-1)+(1-aa)*(aa*(ja*ja+4*Ea)+12*ab*Ea+4*Ea*Ea)))/(4*tb+pb);return[N(O)*Wa*aa,N(P)*Wa*fb(1+ya*Ac(aa)-aa*aa)]}function ae(O,P,aa,ja,ya){function Ea(ab,tb){tb=aa*V(ja*tb);var pb=fb(1-tb*tb),Ab=fb(2/(1+pb*cc(ab*=ya)));
return[O*pb*Ab*V(ab),P*tb*Ab]}Ea.invert=function(ab,tb){var pb=ab/O,Ab=tb/P;pb=fb(pb*pb+Ab*Ab);Ab=2*Sa(pb/2);return[Xd(ab*wa(Ab),O*pb)/ya,pb&&Sa(tb*V(Ab)/(P*aa*pb))/ja]};return Ea}function Jf(O,P,aa,ja){var ya=Ka/3;O=Cf(O,1E-6);P=Cf(P,1E-6);O=kf(O,Wa);P=kf(P,Ka-1E-6);aa=Cf(aa,0);aa=kf(aa,99.999999);ja=Cf(ja,1E-6);var Ea=ja/100;aa=Wb((aa/100+1)*cc(ya))/ya;ya=V(O)/V(aa*Wa);ja=P/Ka;P=fb(Ea*V(O/2)/V(P/2));O=P/fb(ja*ya*aa);P=1/(P*fb(ja*ya*aa));return ae(O,P,ya,aa,ja)}function De(){var O=65*fd,P=60*fd,
aa=20,ja=200,ya=x.geoProjectionMutator(Jf),Ea=ya(O,P,aa,ja);Ea.poleline=function(ab){return arguments.length?ya(O=+ab*fd,P,aa,ja):O*id};Ea.parallels=function(ab){return arguments.length?ya(O,P=+ab*fd,aa,ja):P*id};Ea.inflation=function(ab){return arguments.length?ya(O,P,aa=+ab,ja):aa};Ea.ratio=function(ab){return arguments.length?ya(O,P,aa,ja=+ab):ja};return Ea.scale(163.775)}function Jd(O,P){return[O*fb(1-3*P*P/(Ka*Ka)),P]}function Se(O,P){var aa=cc(P),ja=cc(O)*aa,ya=1-ja;P=cc(O=Xd(V(O)*aa,-V(P)));
O=V(O);aa=fb(1-ja*ja);return[O*aa-P*ya,-P*aa-O*ya]}function Ee(O,P){var aa=cb(O,P);return[(aa[0]+O/Wa)/2,(aa[1]+P)/2]}var Ac=Math.abs,Be=Math.atan,Xd=Math.atan2,cc=Math.cos,Je=Math.exp,pe=Math.floor,Ke=Math.log,Cf=Math.max,kf=Math.min,tf=Math.pow,Pe=Math.round,N=Math.sign||function(O){return 0<O?1:0>O?-1:0},V=Math.sin,wa=Math.tan,Ka=Math.PI,Wa=Ka/2,Vb=Ka/4,mc=Math.SQRT1_2,Gc=fb(2),uc=fb(Ka),Fc=2*Ka,id=180/Ka,fd=Ka/180;cb.invert=function(O,P){if(!(O*O+4*P*P>Ka*Ka+1E-6)){var aa=O,ja=P,ya=25;do{var Ea=
V(aa),ab=V(aa/2),tb=cc(aa/2),pb=V(ja),Ab=cc(ja),Eb=V(2*ja),Yb=pb*pb,pc=Ab*Ab,u=ab*ab,F=1-pc*tb*tb,ca=F?Wb(Ab*tb)*fb(na=1/F):na=0,na;F=2*ca*Ab*ab-O;var lb=ca*pb-P,Ib=na*(pc*u+ca*Ab*tb*Yb),Sb=na*(.5*Ea*Eb-2*ca*pb*ab);Ea=.25*na*(Eb*ab-ca*pb*pc*Ea);Ab=na*(Yb*tb+ca*u*Ab);tb=Sb*Ea-Ab*Ib;if(!tb)break;Sb=(lb*Sb-F*Ab)/tb;F=(F*Ea-lb*Ib)/tb;aa-=Sb;ja-=F}while((1E-6<Ac(Sb)||1E-6<Ac(F))&&0<--ya);return[aa,ja]}};rb.invert=function(O,P){O*=.375;P*=.375;if(!O&&1<Ac(P))return null;var aa=1+O*O+P*P,ja=fb((aa-fb(aa*
aa-4*P*P))/2);aa=Sa(ja)/3;ja?(ja=Ac(P/ja),ja=Ke(ja+fb(ja*ja-1))/3):(ja=Ac(O),ja=Ke(ja+fb(ja*ja+1))/3);var ya=cc(aa),Ea=Ob(ja),ab=Ea*Ea-ya*ya;return[2*N(O)*Xd(ub(ja)*ya,.25-ab),2*N(P)*Xd(Ea*V(aa),.25+ab)]};var se=fb(8),xd=Ke(1+Gc);Xa.invert=function(O,P){if((ya=Ac(P))<xd)return[O,2*Be(Je(P))-Wa];var aa=Vb,ja=25,ya;do{var Ea=cc(aa/2);var ab=wa(aa/2);aa-=Ea=(se*(aa-Vb)-Ke(ab)-ya)/(se-Ea*Ea/(2*ab))}while(1E-12<Ac(Ea)&&0<--ja);return[O/(cc(aa)*(se-1/V(aa))),N(P)*aa]};Za.invert=function(O,P){P=2*Sa(P/2);
return[O*cc(P/2)/cc(P),P]};var zd=Ca(Gc/Wa,Gc,Ka);bb.invert=function(O,P){var aa=2.00276*P;P=0>P?-Vb:Vb;var ja=25;do{var ya=aa-Gc*V(P);P-=ya=(V(2*P)+2*P-Ka*V(ya))/(2*cc(2*P)+2+Ka*cc(ya)*Gc*cc(P))}while(1E-6<Ac(ya)&&0<--ja);ya=aa-Gc*V(P);return[O*(1/cc(ya)+1.11072/cc(P))/2.00276,ya]};ka.invert=function(O,P){return[O/cc(P),P]};var le=Ca(1,4/Ka,Ka);S.invert=function(O,P){var aa=(aa=P/uc-1)*aa;return[0<aa?O*fb(Ka/aa)/2:0,Sa(1-aa)]};var Te=fb(3);I.invert=function(O,P){P=3*Sa(P/(Te*uc));return[uc*O/(Te*
(2*cc(2*P/3)-1)),P]};W.invert=function(O,P){var aa=fb(8/(3*Ka));P/=aa;return[O/(aa*(1-Ac(P)/Ka)),P]};Y.invert=function(O,P){var aa=2-Ac(P)/fb(2*Ka/3);return[O*fb(6*Ka)/(2*aa),N(P)*Sa((4-aa*aa)/3)]};ma.invert=function(O,P){var aa=fb(Ka*(4+Ka))/2;return[O*aa/(1+fb(1-P*P*(4+Ka)/(4*Ka))),P*aa/2]};Qa.invert=function(O,P){P=P*fb((4+Ka)/Ka)/2;var aa=Sa(P),ja=cc(aa);return[O/(2/fb(Ka*(4+Ka))*(1+ja)),Sa((aa+P*(ja+2))/(2+Wa))]};Ua.invert=function(O,P){var aa=fb(2+Ka);P=P*aa/2;return[aa*O/(1+cc(P)),P]};U.invert=
function(O,P){var aa=1+Wa,ja=fb(aa/2);return[2*O*ja/(1+cc(P*=ja)),Sa((P+V(P))/aa)]};var Me=3+2*Gc;sa.invert=function(O,P){if(!(ya=rb.invert(O/1.2,1.065*P)))return null;var aa=ya[0];ya=ya[1];var ja=20,ya;O/=Me;P/=Me;do{var Ea=aa/2,ab=ya/2,tb=V(Ea),pb=cc(Ea),Ab=V(ab),Eb=cc(ab),Yb=cc(ya),pc=fb(Yb),u=Ab/(Eb+Gc*pb*pc),F=u*u,ca=fb(2/(1+F)),na=(Gc*Eb+(pb+tb)*pc)/(Gc*Eb+(pb-tb)*pc),lb=fb(na),Ib=lb-1/lb,Sb=lb+1/lb;ab=ca*Ib-2*Ke(lb)-O;Ea=ca*u*Sb-2*Be(u)-P;var gc=Ab&&mc*pc*tb*F/Ab,zc=(Gc*pb*Eb+pc)/(2*(Eb+Gc*
pb*pc)*(Eb+Gc*pb*pc)*pc),Tc=-.5*u*ca*ca*ca,Rc=Tc*gc;Tc*=zc;var yd=(yd=2*Eb+Gc*pc*(pb-tb))*yd*lb;pb=(Gc*pb*Eb*pc+Yb)/yd;Ab=-(Gc*tb*Ab)/(pc*yd);tb=Ib*Rc-2*pb/lb+ca*(pb+pb/na);lb=Ib*Tc-2*Ab/lb+ca*(Ab+Ab/na);gc=u*Sb*Rc-2*gc/(1+F)+ca*Sb*gc+ca*u*(pb-pb/na);F=u*Sb*Tc-2*zc/(1+F)+ca*Sb*zc+ca*u*(Ab-Ab/na);u=lb*gc-F*tb;if(!u)break;F=(Ea*lb-ab*F)/u;ab=(ab*gc-Ea*tb)/u;aa-=F;ya=Cf(-Wa,kf(Wa,ya-ab))}while((1E-6<Ac(F)||1E-6<Ac(ab))&&0<--ja);return 1E-6>Ac(Ac(ya)-Wa)?[0,ya]:ja&&[aa,ya]};var uf=cc(35*fd);ua.invert=
function(O,P){P/=1+uf;return[O&&O/(uf*fb(1-P*P)),2*Be(P)]};la.invert=function(O,P){var aa=Be(P/uc);P=cc(aa);aa*=2;return[O*uc/2/(cc(aa)*P*P),aa]};var Zf=D(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),pd=D(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Ue=D(5/6*Ka,-.62636,-.0344,0,1.3493,-.05524,0,.045);E.invert=function(O,P){var aa=O,ja=P,ya=50,Ea;do{var ab=ja*ja;ja-=Ea=(ja*(1+ab/12)-P)/(1+ab/4)}while(1E-6<Ac(Ea)&&0<--ya);ya=50;O/=1-.162388*ab;do{var tb=(tb=aa*aa)*tb;aa-=
Ea=(aa*(.87-9.52426E-4*tb)-O)/(.87-.00476213*tb)}while(1E-6<Ac(Ea)&&0<--ya);return[aa,ja]};var Le=D(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);C.invert=function(O,P){1<Ac(O)&&(O=2*N(O)-O);1<Ac(P)&&(P=2*N(P)-P);var aa=N(O),ja=N(P),ya=-aa*O,Ea=-ja*P;P=1>Ea/ya;O=P?Ea:ya;var ab=P?ya:Ea,tb=0,pb=1;ya=.5;for(var Ab=50;;){Ea=ya*ya;var Eb=fb(ya),Yb=Sa(1/fb(1+Ea)),pc=1-Ea+ya*(1+Ea)*Yb,u=(1-Eb)/pc,F=fb(u),ca=u*(1+Ea),na=F*(1-Ea),lb=fb(ca-O*O);na=ab+na+ya*lb;if(1E-12>Ac(pb-tb)||0===--Ab||0===na)break;
0<na?tb=ya:pb=ya;ya=.5*(tb+pb)}Ab?(ab=Sa(Eb),Ab=cc(ab),tb=1/Ab,pb=2*Eb*Ab,Eb=(-pc*Ab-(1-Eb)*(-3*ya+Yb*(1+3*Ea))*pb)/(pc*pc),ya=[Ka/4*(O*(-2*tb*(.5*Eb/F*(1-Ea)-2*ya*F*pb)+-tb*pb*lb)+-tb*(ya*(1+Ea)*Eb+u*(1+3*Ea)*pb)*Sa(O/fb(ca))),ab]):ya=null;O=ya[0];ya=ya[1];Ea=cc(ya);P&&(O=-Wa-O);return[aa*(Xd(V(O)*Ea,-V(ya))+Ka),ja*Sa(cc(O)*Ea)]};Va.invert=function(O,P){var aa=(Gc-1)/(Gc+1),ja=fb(1-aa*aa);P=.5*oa(Wa,ja*ja)-P;O=-O;ja*=ja;if(P)if(P=xa(P,ja),O){O=xa(O,1-ja);var ya=O[1]*O[1]+ja*P[0]*P[0]*O[0]*O[0];P=
[[P[0]*O[2]/ya,P[1]*P[2]*O[0]*O[1]/ya],[P[1]*O[1]/ya,-P[0]*P[2]*O[0]*O[2]/ya],[P[2]*O[1]*O[2]/ya,-ja*P[0]*P[1]*O[0]/ya]]}else P=[[P[0],0],[P[1],0],[P[2],0]];else O=xa(O,1-ja),P=[[0,O[0]/O[1]],[1/O[1],0],[O[2]/O[1],0]];ja=P[0];P=P[1];O=P[0]*P[0]+P[1]*P[1];ja=[(ja[0]*P[0]+ja[1]*P[1])/O,(ja[1]*P[0]-ja[0]*P[1])/O];return[Xd(ja[1],ja[0])/-1,2*Be(Je(-.5*Ke(aa*ja[0]*ja[0]+aa*ja[1]*ja[1])))-Wa]};var Ze=Sa(1-1/3)*id,$f=Q(0);gd.invert=function(O,P){return-.7109889596207567<P?zd.invert(O,P-.0528035274542):ka.invert(O,
P)};Dc.invert=function(O,P){return.7109889596207567<Ac(P)?zd.invert(O,P+(0<P?.0528035274542:-.0528035274542)):ka.invert(O,P)};var vf=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],ag=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],df=[[[[-180,0],[-100,
90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],M=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],fa=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],kb=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,
0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Xc.invert=function(O,P){return[Fc/3*O/fb(Ka*Ka/3-P*P),P]};var Qb=Ka/Gc;Nc.invert=function(O,P){var aa=Ac(O),ja=Ac(P),ya=1E-6,Ea=Wa;ja<Qb?Ea*=ja/Qb:ya+=6*Wb(Qb/ja);for(var ab=0;25>ab;ab++){var tb=V(Ea),pb=fb(cc(Ea)),Ab=V(Ea/2),Eb=cc(Ea/2),Yb=V(ya/6),pc=cc(ya/6),u=.5*ya*(1+pb)-aa,F=Ea/(Eb*pc)-ja;tb=pb?-.25*ya*tb/pb:0;pb=.5*(1+pb);Ab=(1+.5*Ea*Ab/Eb)/(Eb*pc);Yb=Ea/Eb*(Yb/6)/(pc*pc);Eb=tb*Yb-Ab*pb;Yb=(u*Yb-F*pb)/
Eb;u=(F*tb-u*Ab)/Eb;Ea-=Yb;ya-=u;if(1E-6>Ac(Yb)&&1E-6>Ac(u))break}return[0>O?-ya:ya,0>P?-Ea:Ea]};Dd.invert=function(O,P){var aa=N(O)*Ka,ja=P/2,ya=50;do{var Ea=aa*aa,ab=ja*ja,tb=aa*ja,pb=aa*(.975534+ab*(-.119161+-.0143059*Ea+-.0547009*ab))-O,Ab=ja*(1.00384+Ea*(.0802894+-.02855*ab+1.99025E-4*Ea)+ab*(.0998909+-.0491032*ab))-P,Eb=.975534-ab*(.119161+.0429177*Ea+.0547009*ab),Yb=-tb*(.238322+.2188036*ab+.0286118*Ea);tb*=.1605788+7.961E-4*Ea+-.0571*ab;ab=1.00384+Ea*(.0802894+1.99025E-4*Ea)+ab*(3*(.0998909-
.02855*Ea)-.245516*ab);Ea=Yb*tb-ab*Eb;Yb=(Ab*Yb-pb*ab)/Ea;pb=(pb*tb-Ab*Eb)/Ea;aa-=Yb;ja-=pb}while((1E-6<Ac(Yb)||1E-6<Ac(pb))&&0<--ya);return ya&&[aa,ja]};we.invert=function(O,P){var aa=O*O,ja=P*P+1,ya=aa+ja;aa=O?mc*fb((ya-fb(ya*ya-4*aa))/aa):1/fb(ja);return[Sa(O*aa),N(P)*Wb(aa)]};sd.invert=function(O,P){return[O,2.5*Be(Je(.8*P))-.625*Ka]};var Mb=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],bc=[[.98879,0],[0,0],[-.050909,0],
[0,0],[.075528,0]],jc=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7.388E-4,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Qc=[[.9245,0],[0,0],[.01943,0]],Kc=[[.721316,0],[0,0],[-.00881625,-.00617325]],ad=fb(6),ud=fb(7);vb.invert=function(O,P){P=3*Sa(P*ud/9);return[O*ud/(ad*(2*cc(2*P/3)-1)),Sa(3*V(P)*ad/7)]};ac.invert=function(O,P){P=P*fb(2+Gc)/(2*fb(3));var aa=2*Sa(P);return[3*Gc*O/(1+2*cc(aa)/cc(aa/
2)),Sa((P+V(aa))/(1+mc))]};rd.invert=function(O,P){var aa=fb(6/(4+Ka));P/=aa;1E-6>Ac(Ac(P)-Wa)&&(P=0>P?-Wa:Wa);return[1.5*O/(aa*(.5+cc(P))),Sa((P/2+V(P))/(1+Ka/4))]};vd.invert=function(O,P){var aa=P,ja=25;do{var ya=aa*aa;var Ea=ya*ya;aa-=ya=(aa*(1.01183+Ea*Ea*(-.02625+.01926*ya-.00396*Ea))-P)/(1.01183+Ea*Ea*(-.23625+.21186*ya+-.05148*Ea))}while(1E-12<Ac(ya)&&0<--ja);ya=aa*aa;Ea=ya*ya;P=ya*Ea;return[O/(.84719-.13063*ya+P*P*(-.04515+.05494*ya-.02326*Ea+.00331*P)),aa]};de.invert=function(O,P){for(var aa=
P/2,ja=0,ya=Infinity;10>ja&&1E-6<Ac(ya);++ja)ya=cc(P/2),P-=ya=(P-wa(P/2)-aa)/(1-.5/(ya*ya));return[2*O/(1+cc(P)),P]};var Nd=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];oe.invert=function(O,P){O/=Wa;P/=Wa;var aa=O*O,ja=aa+P*P,ya=Ka*Ka;return[O?(ja-1+fb((1-ja)*(1-ja)+4*aa))/(2*O)*Wa:0,mb(function(Ea){return ja*(Ka*V(Ea)-2*Ea)*Ka+4*Ea*Ea*(P-V(Ea))+2*Ka*Ea-ya*P},0)]};var Td=5*.23185;Z.invert=function(O,P){1.790857183<P?P=1.790857183:-1.790857183>
P&&(P=-1.790857183);var aa=P;do{var ja=aa*aa;aa-=ja=(aa*(1.0148+ja*ja*(.23185+ja*(-.14499+.02406*ja)))-P)/(1.0148+ja*ja*(Td+ja*(-1.01493+.21654*ja)))}while(1E-6<Ac(ja));return[O,aa]};za.invert=function(O,P){if(1E-6>Ac(P))return[O,0];var aa=O*O+P*P,ja=.5*P,ya=10;do{var Ea=wa(ja);var ab=1/cc(ja),tb=aa-2*P*ja+ja*ja;ja-=Ea=(Ea*tb+2*(ja-P))/(2+tb*ab*ab+2*(ja-P)*Ea)}while(1E-6<Ac(Ea)&&0<--ya);Ea=wa(ja);return[(Ac(P)<Ac(ja+1/Ea)?Sa(O*Ea):N(P)*N(O)*(Wb(Ac(O*Ea))+Wa))/V(ja),ja]};var Bd=[[0,90],[-90,0],[0,
0],[90,0],[180,0],[0,-90]],af=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(O){return O.map(function(P){return Bd[P]})}),Pd=2/fb(3);hc.invert=function(O,P){return S.invert(O/Pd,P)};var Fe=()=>{},he=[],ze=[],Sf={point:function(O,P){he.push([O,P])},result:function(){var O=he.length?2>he.length?{type:"Point",coordinates:he[0]}:{type:"MultiPoint",coordinates:he}:null;he=[];return O}},be={lineStart:Fe,point:function(O,P){he.push([O,P])},lineEnd:function(){he.length&&(ze.push(he),
he=[])},result:function(){var O=ze.length?2>ze.length?{type:"LineString",coordinates:ze[0]}:{type:"MultiLineString",coordinates:ze}:null;ze=[];return O}},wf={polygonStart:Fe,lineStart:Fe,point:function(O,P){he.push([O,P])},lineEnd:function(){var O=he.length;if(O){do he.push(he[0].slice());while(4>++O);ze.push(he);he=[]}},polygonEnd:Fe,result:function(){if(!ze.length)return null;var O=[],P=[];ze.forEach(function(aa){if(4>(ya=aa.length))var ja=!1;else{ja=0;for(var ya,Ea=aa[ya-1][1]*aa[0][0]-aa[ya-1][0]*
aa[0][1];++ja<ya;)Ea+=aa[ja-1][1]*aa[ja][0]-aa[ja-1][0]*aa[ja][1];ja=0>=Ea}ja?O.push([aa]):P.push(aa)});P.forEach(function(aa){var ja=aa[0];O.some(function(ya){for(var Ea=ya[0],ab=ja[0],tb=ja[1],pb=!1,Ab=0,Eb=Ea.length,Yb=Eb-1;Ab<Eb;Yb=Ab++){var pc=Ea[Ab],u=pc[0];pc=pc[1];var F=Ea[Yb];Yb=F[0];F=F[1];pc>tb^F>tb&&ab<(Yb-u)*(tb-pc)/(F-pc)+u&&(pb=!pb)}if(pb)return ya.push(aa),!0})||O.push([aa])});ze=[];return O.length?1<O.length?{type:"MultiPolygon",coordinates:O}:{type:"Polygon",coordinates:O[0]}:null}},
Ce=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Ce.forEach(function(O){O[1]*=1.0144});od.invert=function(O,P){var aa=P/Wa,ja=90*aa,ya=kf(18,Ac(ja/5)),Ea=Cf(0,pe(ya));do{var ab=Ce[Ea][1],tb=Ce[Ea+1][1],pb=Ce[kf(19,Ea+2)][1],Ab=pb-ab;ab=pb-2*tb+ab;tb=2*(Ac(aa)-tb)/Ab;Ab=ab/Ab;Ab=tb*(1-Ab*tb*
(1-2*Ab*tb));if(0<=Ab||1===Ea){ja=(0<=P?5:-5)*(Ab+ya);aa=50;do ya=kf(18,Ac(ja)/5),Ea=pe(ya),Ab=ya-Ea,ab=Ce[Ea][1],tb=Ce[Ea+1][1],pb=Ce[kf(19,Ea+2)][1],ja-=(ya=(0<=P?Wa:-Wa)*(tb+Ab*(pb-ab)/2+Ab*Ab*(pb-2*tb+ab)/2)-P)*id;while(1E-12<Ac(ya)&&0<--aa);break}}while(0<=--Ea);P=Ce[Ea][0];ya=Ce[Ea+1][0];Ea=Ce[kf(19,Ea+2)][0];return[O/(ya+Ab*(Ea-P)/2+Ab*Ab*(Ea-2*ya+P)/2),ja*fd]};ee.invert=function(O,P){P/=1.70711;var aa=V(Vb*P);return[O/(.74482-.34588*aa*aa),2*Be(P)]};cf.invert=function(O,P){if(1E-6>Ac(P))return[O,
0];if(1E-6>Ac(O))return[0,Wa*V(2*Be(P/Ka))];var aa=(O/=Ka)*O,ja=(P/=Ka)*P,ya=aa+ja,Ea=ya*ya,ab=-Ac(P)*(1+ya),tb=ab-2*ja+aa,pb=-2*ab+1+2*ja+Ea,Ab=ja/pb+(2*tb*tb*tb/(pb*pb*pb)-9*ab*tb/(pb*pb))/27,Eb=(ab-tb*tb/(3*pb))/pb;ab=2*fb(-Eb/3);Ab=Wb(3*Ab/(Eb*ab))/3;return[Ka*(ya-1+fb(1+2*(aa-ja)+Ea))/(2*O),N(P)*Ka*(-ab*cc(Ab+Ka/3)-tb/(3*pb))]};re.invert=function(O,P){if(!O)return[0,Wa*V(2*Be(P/Ka))];var aa=Ac(O/Ka),ja=(1-aa*aa-(P/=Ka)*P)/(2*aa),ya=fb(ja*ja+1);return[N(O)*Ka*(ya-ja),N(P)*Wa*V(2*Xd(fb((1-2*ja*
aa)*(ja+ya)-aa),fb(ya+ja+aa)))]};Ad.invert=function(O,P){if(!P)return[O,0];P/=Ka;var aa=(Ka*Ka*(1-P*P)-O*O)/(2*Ka*O);return[O?Ka*(N(O)*fb(aa*aa+1)-aa):0,Wa*V(2*Be(P))]};Ld.invert=function(O,P){if(!O||!P)return[O,P];var aa=N(P);P=Ac(P)/Ka;var ja=N(O)*O/Wa,ya=(ja*ja-1+4*P*P)/Ac(ja),Ea=ya*ya,ab=P*(2-(.5<P?kf(P,Ac(O)):0));P=O*O+P*P;var tb=50;do{var pb=ab*ab;var Ab=(8*ab-pb*(pb+2)-5)/(2*pb*(ab-1));var Eb=(3*ab-pb*ab-10)/(2*pb*ab),Yb=Ab*Ab,pc=ab*Ab,u=ab+Ab,F=u*u,ca=ab+3*Ab,na=-2*u*(4*pc*Yb+(1-4*pb+3*pb*
pb)*(1+Eb)+Yb*(-6+14*pb-Ea+(-8+8*pb-2*Ea)*Eb)+pc*(-8+12*pb+(-10+10*pb-Ea)*Eb));pb=fb(F*(pb+Yb*Ea-1)+(1-pb)*(pb*(ca*ca+4*Yb)+Yb*(12*pc+4*Yb)));ab-=Ab=(ya*(F+Yb-1)+2*pb-ja*(4*F+Ea))/(ya*(2*Ab*Eb+2*u*(1+Eb))+na/pb-8*u*(ya*(-1+Yb+F)+2*pb)*(1+Eb)/(Ea+4*F))}while(1E-6<Ab*P*P&&0<--tb);return[N(O)*(fb(ya*ya+4)+ya)*Ka/4,aa*Wa*ab]};var Kf=4*Ka+3*fb(3),ef=2*fb(2*Ka*fb(3)/Kf),gg=Ca(ef*fb(3)/Ka,ef,Kf/6);Jd.invert=function(O,P){return[O/fb(1-3*P*P/(Ka*Ka)),P]};Se.invert=function(O,P){var aa=(O*O+P*P)/-2,ja=fb(-aa*
(2+aa)),ya=P*aa+O*ja;O=O*aa-P*ja;P=fb(O*O+ya*ya);return[Xd(ja*ya,P*(1+aa)),P?-Sa(ja*O/P):0]};Ee.invert=function(O,P){var aa=O,ja=P,ya=25;do{var Ea=cc(ja),ab=V(ja),tb=V(2*ja),pb=ab*ab,Ab=Ea*Ea,Eb=V(aa),Yb=cc(aa/2),pc=V(aa/2),u=pc*pc,F=1-Ab*Yb*Yb,ca=F?Wb(Ea*Yb)*fb(na=1/F):na=0,na;F=.5*(2*ca*Ea*pc+aa/Wa)-O;var lb=.5*(ca*ab+ja)-P,Ib=.5*na*(Ab*u+ca*Ea*Yb*pb)+.5/Wa,Sb=na*(Eb*tb/4-ca*ab*pc);ab=.125*na*(tb*pc-ca*ab*Ab*Eb);pb=.5*na*(pb*Yb+ca*u*Ea)+.5;Ea=Sb*ab-pb*Ib;Sb=(lb*Sb-F*pb)/Ea;F=(F*ab-lb*Ib)/Ea;aa-=
Sb;ja-=F}while((1E-6<Ac(Sb)||1E-6<Ac(F))&&0<--ya);return[aa,ja]};n.geoAiry=function(){var O=Wa,P=x.geoProjectionMutator(zb),aa=P(O);aa.radius=function(ja){return arguments.length?P(O=ja*fd):O*id};return aa.scale(179.976).clipAngle(147)};n.geoAiryRaw=zb;n.geoAitoff=function(){return x.geoProjection(cb).scale(152.63)};n.geoAitoffRaw=cb;n.geoArmadillo=function(){var O=20*fd,P=0<=O?1:-1,aa=wa(P*O),ja=x.geoProjectionMutator(ob),ya=ja(O),Ea=ya.stream;ya.parallel=function(ab){if(!arguments.length)return O*
id;aa=wa((P=0<=(O=ab*fd)?1:-1)*O);return ja(O)};ya.stream=function(ab){var tb=ya.rotate(),pb=Ea(ab),Ab=(ya.rotate([0,0]),Ea(ab)),Eb=ya.precision();ya.rotate(tb);pb.sphere=function(){Ab.polygonStart();Ab.lineStart();for(var Yb=-180*P;180>P*Yb;Yb+=90*P)Ab.point(Yb,90*P);if(O)for(;-180<=P*(Yb-=3*P*Eb);)Ab.point(Yb,P*-Xd(cc(Yb*fd/2),aa)*id);Ab.lineEnd();Ab.polygonEnd()};return pb};return ya.scale(218.695).center([0,28.0974])};n.geoArmadilloRaw=ob;n.geoAugust=function(){return x.geoProjection(rb).scale(66.1603)};
n.geoAugustRaw=rb;n.geoBaker=function(){return x.geoProjection(Xa).scale(112.314)};n.geoBakerRaw=Xa;n.geoBerghaus=function(){var O=5,P=x.geoProjectionMutator(Ha),aa=P(O),ja=aa.stream,ya=-cc(.01*fd),Ea=V(.01*fd);aa.lobes=function(ab){return arguments.length?P(O=+ab):O};aa.stream=function(ab){var tb=aa.rotate(),pb=ja(ab),Ab=(aa.rotate([0,0]),ja(ab));aa.rotate(tb);pb.sphere=function(){Ab.polygonStart();Ab.lineStart();for(var Eb=0,Yb=360/O,pc=2*Ka/O,u=90-180/O,F=Wa;Eb<O;++Eb,u-=Yb,F-=pc)Ab.point(Xd(Ea*
cc(F),ya)*id,Sa(Ea*V(F))*id),-90>u?(Ab.point(-90,-180-u-.01),Ab.point(-90,-180-u+.01)):(Ab.point(90,u+.01),Ab.point(90,u-.01));Ab.lineEnd();Ab.polygonEnd()};return pb};return aa.scale(87.8076).center([0,17.1875]).clipAngle(179.999)};n.geoBerghausRaw=Ha;n.geoBertin1953=function(){return x.geoProjection(Fa()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])};n.geoBertin1953Raw=Fa;n.geoBoggs=function(){return x.geoProjection(bb).scale(160.857)};n.geoBoggsRaw=bb;n.geoBonne=function(){return La(Aa).scale(123.082).center([0,
26.1441]).parallel(45)};n.geoBonneRaw=Aa;n.geoBottomley=function(){var O=.5,P=x.geoProjectionMutator(Ra),aa=P(O);aa.fraction=function(ja){return arguments.length?P(O=+ja):O};return aa.scale(158.837)};n.geoBottomleyRaw=Ra;n.geoBromley=function(){return x.geoProjection(le).scale(152.63)};n.geoBromleyRaw=le;n.geoChamberlin=$a;n.geoChamberlinRaw=db;n.geoChamberlinAfrica=function(){return $a([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])};n.geoCollignon=function(){return x.geoProjection(S).scale(95.6464).center([0,
30])};n.geoCollignonRaw=S;n.geoCraig=function(){return La(z).scale(249.828).clipAngle(90)};n.geoCraigRaw=z;n.geoCraster=function(){return x.geoProjection(I).scale(156.19)};n.geoCrasterRaw=I;n.geoCylindricalEqualArea=function(){return La(Q).parallel(38.58).scale(195.044)};n.geoCylindricalEqualAreaRaw=Q;n.geoCylindricalStereographic=function(){return La(J).scale(124.75)};n.geoCylindricalStereographicRaw=J;n.geoEckert1=function(){return x.geoProjection(W).scale(165.664)};n.geoEckert1Raw=W;n.geoEckert2=
function(){return x.geoProjection(Y).scale(165.664)};n.geoEckert2Raw=Y;n.geoEckert3=function(){return x.geoProjection(ma).scale(180.739)};n.geoEckert3Raw=ma;n.geoEckert4=function(){return x.geoProjection(Qa).scale(180.739)};n.geoEckert4Raw=Qa;n.geoEckert5=function(){return x.geoProjection(Ua).scale(173.044)};n.geoEckert5Raw=Ua;n.geoEckert6=function(){return x.geoProjection(U).scale(173.044)};n.geoEckert6Raw=U;n.geoEisenlohr=function(){return x.geoProjection(sa).scale(62.5271)};n.geoEisenlohrRaw=sa;
n.geoFahey=function(){return x.geoProjection(ua).scale(137.152)};n.geoFaheyRaw=ua;n.geoFoucaut=function(){return x.geoProjection(la).scale(135.264)};n.geoFoucautRaw=la;n.geoFoucautSinusoidal=function(){var O=.5,P=x.geoProjectionMutator(T),aa=P(O);aa.alpha=function(ja){return arguments.length?P(O=+ja):O};return aa.scale(168.725)};n.geoFoucautSinusoidalRaw=T;n.geoGilbert=function(O){function P(Ea){return ja([Ea[0]/2,Sa(wa(Ea[1]/2*fd))*id])}function aa(Ea){P[Ea]=function(){return arguments.length?(ja[Ea].apply(ja,
arguments),P):ja[Ea]()}}null==O&&(O=x.geoOrthographic);var ja=O(),ya=x.geoEquirectangular().scale(id).precision(0).clipAngle(null).translate([0,0]);ja.invert&&(P.invert=function(Ea){return v(ja.invert(Ea))});P.stream=function(Ea){var ab=ja.stream(Ea);Ea=ya.stream({point:function(tb,pb){ab.point(tb/2,Sa(wa(-pb/2*fd))*id)},lineStart:function(){ab.lineStart()},lineEnd:function(){ab.lineEnd()},polygonStart:function(){ab.polygonStart()},polygonEnd:function(){ab.polygonEnd()}});Ea.sphere=ab.sphere;return Ea};
P.rotate=function(Ea){return arguments.length?(ya.rotate(Ea),P):ya.rotate()};P.center=function(Ea){return arguments.length?(ja.center([Ea[0]/2,Sa(wa(Ea[1]/2*fd))*id]),P):v(ja.center())};aa("angle");aa("clipAngle");aa("clipExtent");aa("fitExtent");aa("fitHeight");aa("fitSize");aa("fitWidth");aa("scale");aa("translate");aa("precision");return P.scale(249.5)};n.geoGingery=function(){var O=6,P=30*fd,aa=cc(P),ja=V(P),ya=x.geoProjectionMutator(w),Ea=ya(P,O),ab=Ea.stream,tb=-cc(.01*fd),pb=V(.01*fd);Ea.radius=
function(Ab){if(!arguments.length)return P*id;aa=cc(P=Ab*fd);ja=V(P);return ya(P,O)};Ea.lobes=function(Ab){return arguments.length?ya(P,O=+Ab):O};Ea.stream=function(Ab){var Eb=Ea.rotate(),Yb=ab(Ab),pc=(Ea.rotate([0,0]),ab(Ab));Ea.rotate(Eb);Yb.sphere=function(){pc.polygonStart();pc.lineStart();for(var u=0,F=2*Ka/O,ca=0;u<O;++u,ca-=F)pc.point(Xd(pb*cc(ca),tb)*id,Sa(pb*V(ca))*id),pc.point(Xd(ja*cc(ca-F/2),aa)*id,Sa(ja*V(ca-F/2))*id);pc.lineEnd();pc.polygonEnd()};return Yb};return Ea.rotate([90,-40]).scale(91.7095).clipAngle(179.999)};
n.geoGingeryRaw=w;n.geoGinzburg4=function(){return x.geoProjection(Zf).scale(149.995)};n.geoGinzburg4Raw=Zf;n.geoGinzburg5=function(){return x.geoProjection(pd).scale(153.93)};n.geoGinzburg5Raw=pd;n.geoGinzburg6=function(){return x.geoProjection(Ue).scale(130.945)};n.geoGinzburg6Raw=Ue;n.geoGinzburg8=function(){return x.geoProjection(E).scale(131.747)};n.geoGinzburg8Raw=E;n.geoGinzburg9=function(){return x.geoProjection(Le).scale(131.087)};n.geoGinzburg9Raw=Le;n.geoGringorten=function(){return x.geoProjection(H(C)).scale(239.75)};
n.geoGringortenRaw=C;n.geoGuyou=function(){return x.geoProjection(H(Va)).scale(151.496)};n.geoGuyouRaw=Va;n.geoHammer=function(){var O=2,P=x.geoProjectionMutator(Ia),aa=P(O);aa.coefficient=function(ja){return arguments.length?P(O=+ja):O};return aa.scale(169.529)};n.geoHammerRaw=Ia;n.geoHammerRetroazimuthal=function(){var O=0,P=x.geoProjectionMutator(Ja),aa=P(O),ja=aa.rotate,ya=aa.stream,Ea=x.geoCircle();aa.parallel=function(ab){if(!arguments.length)return O*id;var tb=aa.rotate();return P(O=ab*fd).rotate(tb)};
aa.rotate=function(ab){if(!arguments.length)return ab=ja.call(aa),ab[1]+=O*id,ab;ja.call(aa,[ab[0],ab[1]-O*id]);Ea.center([-ab[0],-ab[1]]);return aa};aa.stream=function(ab){ab=ya(ab);ab.sphere=function(){ab.polygonStart();var tb=Ea.radius(89.99)().coordinates[0],pb=tb.length-1,Ab=-1,Eb;for(ab.lineStart();++Ab<pb;)ab.point((Eb=tb[Ab])[0],Eb[1]);ab.lineEnd();tb=Ea.radius(90.01)().coordinates[0];for(ab.lineStart();0<=--Ab;)ab.point((Eb=tb[Ab])[0],Eb[1]);ab.lineEnd();ab.polygonEnd()};return ab};return aa.scale(79.4187).parallel(45).clipAngle(179.999)};
n.geoHammerRetroazimuthalRaw=Ja;n.geoHealpix=function(){var O=4,P=x.geoProjectionMutator(ta),aa=P(O),ja=aa.stream;aa.lobes=function(ya){return arguments.length?P(O=+ya):O};aa.stream=function(ya){var Ea=aa.rotate(),ab=ja(ya),tb=(aa.rotate([0,0]),ja(ya));aa.rotate(Ea);ab.sphere=function(){x.geoStream(fc(180/O),tb)};return ab};return aa.scale(239.75)};n.geoHealpixRaw=ta;n.geoHill=function(){var O=1,P=x.geoProjectionMutator(Ec),aa=P(O);aa.ratio=function(ja){return arguments.length?P(O=+ja):O};return aa.scale(167.774).center([0,
18.67])};n.geoHillRaw=Ec;n.geoHomolosine=function(){return x.geoProjection(Dc).scale(152.63)};n.geoHomolosineRaw=Dc;n.geoHufnagel=function(){var O=1,P=0,aa=45*fd,ja=2,ya=x.geoProjectionMutator(Sc),Ea=ya(O,P,aa,ja);Ea.a=function(ab){return arguments.length?ya(O=+ab,P,aa,ja):O};Ea.b=function(ab){return arguments.length?ya(O,P=+ab,aa,ja):P};Ea.psiMax=function(ab){return arguments.length?ya(O,P,aa=+ab*fd,ja):aa*id};Ea.ratio=function(ab){return arguments.length?ya(O,P,aa,ja=+ab):ja};return Ea.scale(180.739)};
n.geoHufnagelRaw=Sc;n.geoHyperelliptical=function(){var O=0,P=2.5,aa=1.183136,ja=x.geoProjectionMutator(lc),ya=ja(O,P,aa);ya.alpha=function(Ea){return arguments.length?ja(O=+Ea,P,aa):O};ya.k=function(Ea){return arguments.length?ja(O,P=+Ea,aa):P};ya.gamma=function(Ea){return arguments.length?ja(O,P,aa=+Ea):aa};return ya.scale(152.63)};n.geoHyperellipticalRaw=lc;n.geoInterrupt=rc;n.geoInterruptedBoggs=function(){return rc(bb,vf).scale(160.857)};n.geoInterruptedHomolosine=function(){return rc(Dc,ag).scale(152.63)};
n.geoInterruptedMollweide=function(){return rc(zd,df).scale(169.529)};n.geoInterruptedMollweideHemispheres=function(){return rc(zd,M).scale(169.529).rotate([20,0])};n.geoInterruptedSinuMollweide=function(){return rc(gd,fa,Da).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoInterruptedSinusoidal=function(){return rc(ka,kb).scale(152.63).rotate([-20,0])};n.geoKavrayskiy7=function(){return x.geoProjection(Xc).scale(158.837)};n.geoKavrayskiy7Raw=Xc;n.geoLagrange=function(){var O=.5,P=x.geoProjectionMutator($c),
aa=P(O);aa.spacing=function(ja){return arguments.length?P(O=+ja):O};return aa.scale(124.75)};n.geoLagrangeRaw=$c;n.geoLarrivee=function(){return x.geoProjection(Nc).scale(97.2672)};n.geoLarriveeRaw=Nc;n.geoLaskowski=function(){return x.geoProjection(Dd).scale(139.98)};n.geoLaskowskiRaw=Dd;n.geoLittrow=function(){return x.geoProjection(we).scale(144.049).clipAngle(89.999)};n.geoLittrowRaw=we;n.geoLoximuthal=function(){return La(ld).parallel(40).scale(158.837)};n.geoLoximuthalRaw=ld;n.geoMiller=function(){return x.geoProjection(sd).scale(108.318)};
n.geoMillerRaw=sd;n.geoModifiedStereographic=Ma;n.geoModifiedStereographicRaw=ge;n.geoModifiedStereographicAlaska=function(){return Ma(Mb,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)};n.geoModifiedStereographicGs48=function(){return Ma(bc,[95,-38]).scale(1E3).clipAngle(55).center([-96.5563,38.8675])};n.geoModifiedStereographicGs50=function(){return Ma(jc,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])};n.geoModifiedStereographicMiller=function(){return Ma(Qc,
[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)};n.geoModifiedStereographicLee=function(){return Ma(Kc,[165,10]).scale(250).clipAngle(130).center([-165,-10])};n.geoMollweide=function(){return x.geoProjection(zd).scale(169.529)};n.geoMollweideRaw=zd;n.geoMtFlatPolarParabolic=function(){return x.geoProjection(vb).scale(164.859)};n.geoMtFlatPolarParabolicRaw=vb;n.geoMtFlatPolarQuartic=function(){return x.geoProjection(ac).scale(188.209)};n.geoMtFlatPolarQuarticRaw=ac;n.geoMtFlatPolarSinusoidal=
function(){return x.geoProjection(rd).scale(166.518)};n.geoMtFlatPolarSinusoidalRaw=rd;n.geoNaturalEarth2=function(){return x.geoProjection(vd).scale(175.295)};n.geoNaturalEarth2Raw=vd;n.geoNellHammer=function(){return x.geoProjection(de).scale(152.63)};n.geoNellHammerRaw=de;n.geoInterruptedQuarticAuthalic=function(){return rc(Ia(Infinity),Nd).rotate([20,0]).scale(152.63)};n.geoNicolosi=function(){return x.geoProjection(oe).scale(127.267)};n.geoNicolosiRaw=oe;n.geoPatterson=function(){return x.geoProjection(Z).scale(139.319)};
n.geoPattersonRaw=Z;n.geoPolyconic=function(){return x.geoProjection(za).scale(103.74)};n.geoPolyconicRaw=za;n.geoPolyhedral=Gb;n.geoPolyhedralButterfly=function(O){O=O||function(aa){aa=x.geoCentroid({type:"MultiPoint",coordinates:aa});return x.geoGnomonic().scale(1).translate([0,0]).rotate([-aa[0],-aa[1]])};var P=af.map(function(aa){return{face:aa,project:O(aa)}});[-1,0,0,1,0,1,4,5].forEach(function(aa,ja){(aa=P[aa])&&(aa.children||(aa.children=[])).push(P[ja])});return Gb(P[0],function(aa,ja){return P[aa<
-Ka/2?0>ja?6:4:0>aa?0>ja?2:0:aa<Ka/2?0>ja?3:1:0>ja?7:5]}).angle(-30).scale(101.858).center([0,45])};n.geoPolyhedralCollignon=function(O){O=O||function(aa){aa=x.geoCentroid({type:"MultiPoint",coordinates:aa});return x.geoProjection(hc).translate([0,0]).scale(1).rotate(0<aa[1]?[-aa[0],0]:[180-aa[0],180])};var P=af.map(function(aa){return{face:aa,project:O(aa)}});[-1,0,0,1,0,1,4,5].forEach(function(aa,ja){(aa=P[aa])&&(aa.children||(aa.children=[])).push(P[ja])});return Gb(P[0],function(aa,ja){return P[aa<
-Ka/2?0>ja?6:4:0>aa?0>ja?2:0:aa<Ka/2?0>ja?3:1:0>ja?7:5]}).angle(-30).scale(121.906).center([0,48.5904])};n.geoPolyhedralWaterman=function(O){O=O||function(Ea){Ea=6===Ea.length?x.geoCentroid({type:"MultiPoint",coordinates:Ea}):Ea[0];return x.geoGnomonic().scale(1).translate([0,0]).rotate([-Ea[0],-Ea[1]])};var P=af.map(function(Ea){Ea=Ea.map(Hb);for(var ab=Ea.length,tb=Ea[ab-1],pb,Ab=[],Eb=0;Eb<ab;++Eb)pb=Ea[Eb],Ab.push(Mc([.9486832980505138*tb[0]+.31622776601683794*pb[0],.9486832980505138*tb[1]+.31622776601683794*
pb[1],.9486832980505138*tb[2]+.31622776601683794*pb[2]]),Mc([.9486832980505138*pb[0]+.31622776601683794*tb[0],.9486832980505138*pb[1]+.31622776601683794*tb[1],.9486832980505138*pb[2]+.31622776601683794*tb[2]])),tb=pb;return Ab}),aa=[],ja=[-1,0,0,1,0,1,4,5];P.forEach(function(Ea,ab){for(var tb=af[ab],pb=tb.length,Ab=aa[ab]=[],Eb=0;Eb<pb;++Eb)P.push([tb[Eb],Ea[(2*Eb+2)%(2*pb)],Ea[(2*Eb+1)%(2*pb)]]),ja.push(ab),Ab.push(Bc(Hb(Ea[(2*Eb+2)%(2*pb)]),Hb(Ea[(2*Eb+1)%(2*pb)])))});var ya=P.map(function(Ea){return{project:O(Ea),
face:Ea}});ja.forEach(function(Ea,ab){(Ea=ya[Ea])&&(Ea.children||(Ea.children=[])).push(ya[ab])});return Gb(ya[0],function(Ea,ab){var tb=cc(ab);tb=[tb*cc(Ea),tb*V(Ea),V(ab)];Ea=Ea<-Ka/2?0>ab?6:4:0>Ea?0>ab?2:0:Ea<Ka/2?0>ab?3:1:0>ab?7:5;ab=aa[Ea];return ya[0>tc(ab[0],tb)?8+3*Ea:0>tc(ab[1],tb)?3*Ea+9:0>tc(ab[2],tb)?3*Ea+10:Ea]}).angle(-30).scale(110.625).center([0,45])};n.geoProject=function(O,P){P=P.stream;if(!P)throw Error("invalid projection");switch(O&&O.type){case "Feature":var aa=Cc;break;case "FeatureCollection":aa=
yc;break;default:aa=Jc}return aa(O,P)};n.geoGringortenQuincuncial=function(){return Yc(C).scale(176.423)};n.geoPeirceQuincuncial=function(){return Yc(Va).scale(111.48)};n.geoQuantize=function(O,P){function aa(pb){var Ab=pb.length,Eb=2,Yb=Array(Ab);Yb[0]=+pb[0].toFixed(P);for(Yb[1]=+pb[1].toFixed(P);Eb<Ab;)Yb[Eb]=pb[Eb],++Eb;return Yb}function ja(pb){for(var Ab=aa(pb[0]),Eb=[Ab],Yb=1;Yb<pb.length;Yb++){var pc=aa(pb[Yb]);if(2<pc.length||pc[0]!=Ab[0]||pc[1]!=Ab[1])Eb.push(pc),Ab=pc}1===Eb.length&&1<
pb.length&&Eb.push(aa(pb[pb.length-1]));return Eb}function ya(pb){return pb.map(ja)}function Ea(pb){if(null==pb)return pb;switch(pb.type){case "GeometryCollection":var Ab={type:"GeometryCollection",geometries:pb.geometries.map(Ea)};break;case "Point":Ab={type:"Point",coordinates:aa(pb.coordinates)};break;case "MultiPoint":Ab={type:pb.type,coordinates:pb.coordinates.map(aa)};break;case "LineString":Ab={type:pb.type,coordinates:ja(pb.coordinates)};break;case "MultiLineString":case "Polygon":Ab={type:pb.type,
coordinates:ya(pb.coordinates)};break;case "MultiPolygon":Ab={type:"MultiPolygon",coordinates:pb.coordinates.map(ya)};break;default:return pb}null!=pb.bbox&&(Ab.bbox=pb.bbox);return Ab}function ab(pb){var Ab={type:"Feature",properties:pb.properties,geometry:Ea(pb.geometry)};null!=pb.id&&(Ab.id=pb.id);null!=pb.bbox&&(Ab.bbox=pb.bbox);return Ab}if(!(0<=(P=+P)&&20>=P))throw Error("invalid digits");if(null!=O)switch(O.type){case "Feature":return ab(O);case "FeatureCollection":var tb={type:"FeatureCollection",
features:O.features.map(ab)};null!=O.bbox&&(tb.bbox=O.bbox);return tb;default:return Ea(O)}return O};n.geoQuincuncial=Yc;n.geoRectangularPolyconic=function(){return La(Uc).scale(131.215)};n.geoRectangularPolyconicRaw=Uc;n.geoRobinson=function(){return x.geoProjection(od).scale(152.63)};n.geoRobinsonRaw=od;n.geoSatellite=function(){var O=2,P=0,aa=x.geoProjectionMutator(Id),ja=aa(O,P);ja.distance=function(ya){return arguments.length?aa(O=+ya,P):O};ja.tilt=function(ya){return arguments.length?aa(O,P=
ya*fd):P*id};return ja.scale(432.147).clipAngle(Wb(1/O)*id-1E-6)};n.geoSatelliteRaw=Id;n.geoSinuMollweide=function(){return x.geoProjection(gd).rotate([-20,-55]).scale(164.263).center([0,-5.4036])};n.geoSinuMollweideRaw=gd;n.geoSinusoidal=function(){return x.geoProjection(ka).scale(152.63)};n.geoSinusoidalRaw=ka;n.geoStitch=function(O){if(null==O)return O;switch(O.type){case "Feature":return Re(O);case "FeatureCollection":var P={type:"FeatureCollection",features:O.features.map(Re)};null!=O.bbox&&
(P.bbox=O.bbox);return P;default:return Fd(O)}};n.geoTimes=function(){return x.geoProjection(ee).scale(146.153)};n.geoTimesRaw=ee;n.geoTwoPointAzimuthal=Bf;n.geoTwoPointAzimuthalRaw=Oe;n.geoTwoPointAzimuthalUsa=function(){return Bf([-158,21.5],[-77,39]).clipAngle(60).scale(400)};n.geoTwoPointEquidistant=Ae;n.geoTwoPointEquidistantRaw=Yd;n.geoTwoPointEquidistantUsa=function(){return Ae([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)};n.geoVanDerGrinten=function(){return x.geoProjection(cf).scale(79.4183)};
n.geoVanDerGrintenRaw=cf;n.geoVanDerGrinten2=function(){return x.geoProjection(re).scale(79.4183)};n.geoVanDerGrinten2Raw=re;n.geoVanDerGrinten3=function(){return x.geoProjection(Ad).scale(79.4183)};n.geoVanDerGrinten3Raw=Ad;n.geoVanDerGrinten4=function(){return x.geoProjection(Ld).scale(127.16)};n.geoVanDerGrinten4Raw=Ld;n.geoWagner=De;n.geoWagner7=function(){return De().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)};n.geoWagnerRaw=Jf;n.geoWagner4=function(){return x.geoProjection(gg).scale(176.84)};
n.geoWagner4Raw=gg;n.geoWagner6=function(){return x.geoProjection(Jd).scale(152.63)};n.geoWagner6Raw=Jd;n.geoWiechel=function(){return x.geoProjection(Se).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)};n.geoWiechelRaw=Se;n.geoWinkel3=function(){return x.geoProjection(Ee).scale(158.837)};n.geoWinkel3Raw=Ee;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[44]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(42),Rb(43)):"function"===typeof define&&define.amd?define(["exports","d3-geo","d3-geo-projection"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.d3,n.d3))})(this,function(n,x,ea){function Sa(zb,cb){return function rb(){const Xa=cb();Xa.type=zb;Xa.path=x.geoPath().projection(Xa);Xa.copy=Xa.copy||function(){const Ha=rb();ub.forEach(Ia=>{if(Xa[Ia])Ha[Ia](Xa[Ia]())});
Ha.path.pointRadius(Xa.path.pointRadius());return Ha};return Xa}}function Wb(zb,cb){if(!zb||"string"!==typeof zb)throw Error("Projection type must be a name string.");zb=zb.toLowerCase();return 1<arguments.length?(Ob[zb]=Sa(zb,cb),this):Ob[zb]||null}const fb=x.geoPath(),ub="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),Ob={albers:x.geoAlbers,albersusa:x.geoAlbersUsa,azimuthalequalarea:x.geoAzimuthalEqualArea,
azimuthalequidistant:x.geoAzimuthalEquidistant,conicconformal:x.geoConicConformal,conicequalarea:x.geoConicEqualArea,conicequidistant:x.geoConicEquidistant,equalEarth:x.geoEqualEarth,equirectangular:x.geoEquirectangular,gnomonic:x.geoGnomonic,identity:x.geoIdentity,mercator:x.geoMercator,mollweide:ea.geoMollweide,naturalEarth1:x.geoNaturalEarth1,orthographic:x.geoOrthographic,stereographic:x.geoStereographic,transversemercator:x.geoTransverseMercator};for(const zb in Ob)Wb(zb,Ob[zb]);n.getProjectionPath=
function(zb){return zb&&zb.path||fb};n.projection=Wb;n.projectionProperties=ub;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[45]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(17),Rb(18),Rb(30),Rb(44),Rb(42),Rb(35),Rb(34)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util d3-array vega-statistics vega-projection d3-geo d3-color vega-canvas".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.d3,n.vega))})(this,function(n,x,ea,Sa,
Wb,fb,ub,Ob,zb){function cb(){}function ob(){function la(E,H){return H.map(C=>T(E,C))}function T(E,H){var C=[],ha=[];v(E,H,xa=>{D(xa,E,H);for(var oa=0,Va=xa.length,Ja=xa[Va-1][1]*xa[0][0]-xa[Va-1][0]*xa[0][1];++oa<Va;)Ja+=xa[oa-1][1]*xa[oa][0]-xa[oa-1][0]*xa[oa][1];0<Ja?C.push([xa]):ha.push(xa)});ha.forEach(xa=>{for(var oa=0,Va=C.length,Ja;oa<Va;++oa){a:{var ba=(Ja=C[oa])[0];for(var ta=xa,eb=-1,xb=ta.length;++eb<xb;){b:{var Kb=ba;for(var fc=ta[eb],Ec=fc[0],gd=fc[1],Dc=-1,Sc=0,Ta=Kb.length,nc=Ta-1;Sc<
Ta;nc=Sc++){var lc=Kb[Sc],wc=lc[0],Pc=lc[1],rc=Kb[nc];nc=rc[0];var Xc=rc[1],$c,Nc=lc;lc=rc;rc=fc;if($c=(lc[0]-Nc[0])*(rc[1]-Nc[1])===(rc[0]-Nc[0])*(lc[1]-Nc[1]))Nc=Nc[$c=+(Nc[0]===lc[0])],rc=rc[$c],lc=lc[$c],$c=Nc<=rc&&rc<=lc||lc<=rc&&rc<=Nc;if($c){Kb=0;break b}Pc>gd!==Xc>gd&&Ec<(nc-wc)*(gd-Pc)/(Xc-Pc)+wc&&(Dc=-Dc)}Kb=Dc}if(Kb){ba=Kb;break a}}ba=0}if(-1!==ba){Ja.push(xa);break}}});return{type:"MultiPolygon",value:H,coordinates:C}}function v(E,H,C){function ha(Kb){var fc=[Kb[0][0]+Ja,Kb[0][1]+Va];
Kb=[Kb[1][0]+Ja,Kb[1][1]+Va];var Ec=2*fc[0]+fc[1]*(p+1)*4,gd=2*Kb[0]+Kb[1]*(p+1)*4,Dc,Sc;(Dc=oa[Ec])?(Sc=xa[gd])?(delete oa[Dc.end],delete xa[Sc.start],Dc===Sc?(Dc.ring.push(Kb),C(Dc.ring)):xa[Dc.start]=oa[Sc.end]={start:Dc.start,end:Sc.end,ring:Dc.ring.concat(Sc.ring)}):(delete oa[Dc.end],Dc.ring.push(Kb),oa[Dc.end=gd]=Dc):(Dc=xa[gd])?(Sc=oa[Ec])?(delete xa[Dc.start],delete oa[Sc.end],Dc===Sc?(Dc.ring.push(Kb),C(Dc.ring)):xa[Sc.start]=oa[Dc.end]={start:Sc.start,end:Dc.end,ring:Sc.ring.concat(Dc.ring)}):
(delete xa[Dc.start],Dc.ring.unshift(fc),xa[Dc.start=Ec]=Dc):xa[Ec]=oa[gd]={start:Ec,end:gd,ring:[fc,Kb]}}var xa=[],oa=[],Va;var Ja=Va=-1;var ba=E[0]>=H;for(sa[ba<<1].forEach(ha);++Ja<p-1;){var ta=ba;ba=E[Ja+1]>=H;sa[ta|ba<<1].forEach(ha)}for(sa[ba<<0].forEach(ha);++Va<r-1;){Ja=-1;ba=E[Va*p+p]>=H;var eb=E[Va*p]>=H;for(sa[ba<<1|eb<<2].forEach(ha);++Ja<p-1;){ta=ba;ba=E[Va*p+p+Ja+1]>=H;var xb=eb;eb=E[Va*p+Ja+1]>=H;sa[ta|ba<<1|eb<<2|xb<<3].forEach(ha)}sa[ba|eb<<3].forEach(ha)}Ja=-1;eb=E[Va*p]>=H;for(sa[eb<<
2].forEach(ha);++Ja<p-1;)xb=eb,eb=E[Va*p+Ja+1]>=H,sa[eb<<2|xb<<3].forEach(ha);sa[eb<<3].forEach(ha)}function w(E,H,C){E.forEach(ha=>{var xa=ha[0],oa=ha[1],Va=xa|0,Ja=oa|0,ba=H[Ja*p+Va];if(0<xa&&xa<p&&Va===xa){var ta=H[Ja*p+Va-1];ha[0]=xa+(C-ta)/(ba-ta)-.5}0<oa&&oa<r&&Ja===oa&&(ta=H[(Ja-1)*p+Va],ha[1]=oa+(C-ta)/(ba-ta)-.5)})}var p=1,r=1,D=w;la.contour=T;la.size=function(E){if(!arguments.length)return[p,r];var H=Math.floor(E[0]),C=Math.floor(E[1]);0<=H&&0<=C||ea.error("invalid size");return p=H,r=C,
la};la.smooth=function(E){return arguments.length?(D=E?w:cb,la):D===w};return la}function rb(la,T,v){return function(w){var p=ea.extent(w);w=v?Math.min(p[0],0):p[0];p=p[1];var r=p-w;r=T?Sa.tickStep(w,p,la):r/(la+1);return Sa.range(w+r,p,r)}}function Xa(la){x.Transform.call(this,null,la)}function Ha(la,T,v){const w=rb(v.levels||10,v.nice,!1!==v.zero);return"shared"!==v.resolve?w:w(la.map(p=>Sa.max(T(p).values)))}function Ia(la,T,v,w){var p=w.scale||T.scale;let r=w.translate||T.translate;ea.isFunction(p)&&
(p=p(v,w));ea.isFunction(r)&&(r=r(v,w));if(1!==p&&null!=p||r)v=(ea.isNumber(p)?p:p[0])||1,p=(ea.isNumber(p)?p:p[1])||1,la.forEach(Za(T,v,p,r&&r[0]||0,r&&r[1]||0))}function Za(la,T,v,w,p){function r(xa){xa.forEach(D)}function D(xa){ha&&xa.reverse();xa.forEach(E)}function E(xa){xa[0]=(xa[0]-H)*T+w;xa[1]=(xa[1]-C)*v+p}const H=la.x1||0,C=la.y1||0,ha=0>T*v;return function(xa){xa.coordinates.forEach(r);return xa}}function mb(la,T,v){la=0<=la?la:Wb.bandwidthNRD(T,v);return Math.round((Math.sqrt(4*la*la+
1)-1)/2)}function Da(la){return ea.isFunction(la)?la:ea.constant(+la)}function Fa(){function la(H,C){const ha=mb(p[0],H,T)>>E,xa=mb(p[1],H,v)>>E,oa=ha?ha+2:0,Va=xa?xa+2:0,Ja=2*oa+(r>>E),ba=2*Va+(D>>E),ta=new Float32Array(Ja*ba),eb=new Float32Array(Ja*ba);let xb=ta;H.forEach(Kb=>{const fc=oa+(+T(Kb)>>E),Ec=Va+(+v(Kb)>>E);0<=fc&&fc<Ja&&0<=Ec&&Ec<ba&&(ta[fc+Ec*Ja]+=+w(Kb))});0<ha&&0<xa?(hb(Ja,ba,ta,eb,ha),Ca(Ja,ba,eb,ta,xa),hb(Ja,ba,ta,eb,ha),Ca(Ja,ba,eb,ta,xa),hb(Ja,ba,ta,eb,ha),Ca(Ja,ba,eb,ta,xa)):
0<ha?(hb(Ja,ba,ta,eb,ha),hb(Ja,ba,eb,ta,ha),hb(Ja,ba,ta,eb,ha),xb=eb):0<xa&&(Ca(Ja,ba,ta,eb,xa),Ca(Ja,ba,eb,ta,xa),Ca(Ja,ba,ta,eb,xa),xb=eb);H=C?Math.pow(2,-2*E):1/Sa.sum(xb);for(let Kb=0,fc=Ja*ba;Kb<fc;++Kb)xb[Kb]*=H;return{values:xb,scale:1<<E,width:Ja,height:ba,x1:oa,y1:Va,x2:oa+(r>>E),y2:Va+(D>>E)}}var T=H=>H[0],v=H=>H[1],w=ea.one,p=[-1,-1],r=960,D=500,E=2;la.x=function(H){return arguments.length?(T=Da(H),la):T};la.y=function(H){return arguments.length?(v=Da(H),la):v};la.weight=function(H){return arguments.length?
(w=Da(H),la):w};la.size=function(H){if(!arguments.length)return[r,D];var C=+H[0],ha=+H[1];0<=C&&0<=ha||ea.error("invalid size");return r=C,D=ha,la};la.cellSize=function(H){if(!arguments.length)return 1<<E;1<=(H=+H)||ea.error("invalid cell size");E=Math.floor(Math.log(H)/Math.LN2);return la};la.bandwidth=function(H){if(!arguments.length)return p;H=ea.array(H);1===H.length&&(H=[+H[0],+H[0]]);2!==H.length&&ea.error("invalid bandwidth");return p=H,la};return la}function hb(la,T,v,w,p){const r=(p<<1)+
1;for(let D=0;D<T;++D)for(let E=0,H=0;E<la+p;++E)E<la&&(H+=v[E+D*la]),E>=p&&(E>=r&&(H-=v[E-r+D*la]),w[E-p+D*la]=H/Math.min(E+1,la-1+r-E,r))}function Ca(la,T,v,w,p){const r=(p<<1)+1;for(let D=0;D<la;++D)for(let E=0,H=0;E<T+p;++E)E<T&&(H+=v[D+E*la]),E>=p&&(E>=r&&(H-=v[D+(E-r)*la]),w[D+(E-p)*la]=H/Math.min(E+1,T-1+r-E,r))}function bb(la){x.Transform.call(this,null,la)}function La(la,T){ua.forEach(v=>null!=T[v]?la[v](T[v]):0);return la}function ka(la,T){var v=[],w=ha=>ha(E),p;if(null==T)v.push(la);else{var r=
{};var D=0;for(p=la.length;D<p;++D){var E=la[D];var H=T.map(w);var C=r[H];C||(r[H]=C=[],C.dims=H,v.push(C));C.push(E)}}return v}function Aa(la){x.Transform.call(this,null,la)}function Ra(la){x.Transform.call(this,null,la)}function Ya(la){x.Transform.call(this,null,la)}function ib(la,T){const v=la.pointRadius();la.context(null);null!=T&&la.pointRadius(T);return v}function db(la){x.Transform.call(this,null,la)}function nb(la){x.Transform.call(this,null,la)}function $a(la,T,v){const w=null==v?p=>la(T(p)):
p=>{var r=la.pointRadius();p=la.pointRadius(v)(T(p));la.pointRadius(r);return p};w.context=p=>{la.context(p);return w};return w}function S(la){x.Transform.call(this,[],la);this.generator=ub.geoGraticule()}function z(la){x.Transform.call(this,null,la)}function I(la,T){let v;ea.isFunction(la)?(v=w=>Ob.rgb(la(w,T)),v.dep=J(la)):v=ea.constant(Ob.rgb(la||"#888"));return v}function Q(la,T){let v;ea.isFunction(la)?(v=w=>la(w,T),v.dep=J(la)):la?v=ea.constant(la):(v=w=>w.$value/w.$max||0,v.dep=!0);return v}
function J(la){if(!ea.isFunction(la))return!1;la=ea.toSet(ea.accessorFields(la));return la.$x||la.$y||la.$value||la.$max}function W(la,T,v,w){const p=la.width;var r=la.height;const D=la.x1||0,E=la.y1||0,H=la.x2||p;r=la.y2||r;const C=la.values;la=C?Ja=>C[Ja]:ea.zero;const ha=zb.canvas(H-D,r-E),xa=ha.getContext("2d"),oa=xa.getImageData(0,0,H-D,r-E),Va=oa.data;for(let Ja=E,ba=0;Ja<r;++Ja){T.$y=Ja-E;for(let ta=D,eb=Ja*p;ta<H;++ta,ba+=4){T.$x=ta-D;T.$value=la(ta+eb);const xb=v(T);Va[ba+0]=xb.r;Va[ba+1]=
xb.g;Va[ba+2]=xb.b;Va[ba+3]=~~(255*w(T))}}xa.putImageData(oa,0,0);return ha}function Y(la){x.Transform.call(this,null,la);this.modified(!0)}function ma(la,T){const v=Ua(T.fit);T.extent?la.fitExtent(T.extent,v):T.size?la.fitSize(T.size,v):0}function Qa(la){const T=fb.projection((la||"mercator").toLowerCase());T||ea.error("Unrecognized projection type: "+la);return T()}function Ua(la){la=ea.array(la);return 1===la.length?la[0]:{type:"FeatureCollection",features:la.reduce((T,v)=>T.concat(U(v)),[])}}
function U(la){return"FeatureCollection"===la.type?la.features:ea.array(la).filter(T=>null!=T).map(T=>"Feature"===T.type?T:{type:"Feature",geometry:T})}const sa=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];Xa.Definition={type:"Isocontour",
metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};ea.inherits(Xa,
x.Transform,{transform(la,T){if(this.value&&!T.changed()&&!la.modified())return T.StopPropagation;var v=T.fork(T.NO_SOURCE|T.NO_FIELDS);T=T.materialize(T.SOURCE).source;var w=la.field||ea.identity,p=ob().smooth(!1!==la.smooth),r=la.thresholds||Ha(T,w,la),D=null===la.as?null:la.as||"contour",E=[];T.forEach(H=>{const C=w(H),ha=p.size([C.width,C.height])(C.values,ea.isArray(r)?r:r(C.values));Ia(ha,C,H,la);ha.forEach(xa=>{E.push(x.rederive(H,x.ingest(null!=D?{[D]:xa}:xa)))})});this.value&&(v.rem=this.value);
this.value=v.source=v.add=E;return v}});bb.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const ua="x y weight size cellSize bandwidth".split(" ");
ea.inherits(bb,x.Transform,{transform(la,T){function v(H,C){for(let ha=0;ha<p.length;++ha)H[p[ha]]=C[ha];return H}if(this.value&&!T.changed()&&!la.modified())return T.StopPropagation;var w=T.fork(T.NO_SOURCE|T.NO_FIELDS);T=T.materialize(T.SOURCE).source;T=ka(T,la.groupby);var p=(la.groupby||[]).map(ea.accessorName),r=La(Fa(),la),D=la.as||"grid",E=[];E=T.map(H=>x.ingest(v({[D]:r(H,la.counts)},H.dims)));this.value&&(w.rem=this.value);this.value=w.source=w.add=E;return w}});Aa.Definition={type:"Contour",
metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};ea.inherits(Aa,x.Transform,{transform(la,T){if(this.value&&!T.changed()&&
!la.modified())return T.StopPropagation;var v=T.fork(T.NO_SOURCE|T.NO_FIELDS),w=ob().smooth(!1!==la.smooth),p=la.values,r=la.thresholds||rb(la.count||10,la.nice,!!p),D=la.size;if(!p){p=T.materialize(T.SOURCE).source;la=La(Fa(),la)(p,!0);var E=Za(la,la.scale||1,la.scale||1,0,0);D=[la.width,la.height];p=la.values}r=ea.isArray(r)?r:r(p);p=w.size(D)(p,r);E&&p.forEach(E);this.value&&(v.rem=this.value);this.value=v.source=v.add=(p||[]).map(x.ingest);return v}});Ra.Definition={type:"GeoJSON",metadata:{},
params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};ea.inherits(Ra,x.Transform,{transform(la,T){var v=this._features,w=this._points,p=la.fields,r=p&&p[0],D=p&&p[1],E=la.geojson||!p&&ea.identity;p=T.ADD;la=la.modified()||T.changed(T.REM)||T.modified(ea.accessorFields(E))||r&&T.modified(ea.accessorFields(r))||D&&T.modified(ea.accessorFields(D));if(!this.value||la)p=T.SOURCE,this._features=v=[],this._points=w=[];E&&T.visit(p,H=>v.push(E(H)));r&&D&&(T.visit(p,H=>{var C=
r(H);H=D(H);null!=C&&null!=H&&(C=+C)===C&&(H=+H)===H&&w.push([C,H])}),v=v.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:w}}));this.value={type:"FeatureCollection",features:v}}});Ya.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};ea.inherits(Ya,x.Transform,{transform(la,T){var v=T.fork(T.ALL),w=this.value,p=la.field||ea.identity,
r=la.as||"path",D=v.SOURCE;!w||la.modified()?(this.value=w=fb.getProjectionPath(la.projection),v.materialize().reflow()):D=p===ea.identity||T.modified(p.fields)?v.ADD_MOD:v.ADD;la=ib(w,la.pointRadius);v.visit(D,E=>E[r]=w(p(E)));w.pointRadius(la);return v.modifies(r)}});db.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,"default":["x","y"]}]};
ea.inherits(db,x.Transform,{transform(la,T){function v(C){const ha=w([p(C),r(C)]);ha?(C[E]=ha[0],C[H]=ha[1]):(C[E]=void 0,C[H]=void 0)}var w=la.projection,p=la.fields[0],r=la.fields[1],D=la.as||["x","y"],E=D[0],H=D[1];la.modified()?T=T.materialize().reflow(!0).visit(T.SOURCE,v):(la=T.modified(p.fields)||T.modified(r.fields),T.visit(la?T.ADD_MOD:T.ADD,v));return T.modifies(D)}});nb.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",
type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};ea.inherits(nb,x.Transform,{transform(la,T){T=T.fork(T.ALL);var v=this.value,w=la.as||"shape",p=T.ADD;if(!v||la.modified())this.value=v=$a(fb.getProjectionPath(la.projection),la.field||ea.field("datum"),la.pointRadius),T.materialize().reflow(),p=T.SOURCE;T.visit(p,r=>r[w]=v);return T.modifies(w)}});S.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",
type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};ea.inherits(S,
x.Transform,{transform(la,T){var v=this.value,w=this.generator;if(!v.length||la.modified())for(const p in la)if(ea.isFunction(w[p]))w[p](la[p]);la=w();v.length?T.mod.push(x.replace(v[0],la)):T.add.push(x.ingest(la));v[0]=la;return T}});z.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string",
"default":"image"}]};ea.inherits(z,x.Transform,{transform(la,T){if(!T.changed()&&!la.modified())return T.StopPropagation;var v=T.materialize(T.SOURCE).source,w="shared"===la.resolve,p=la.field||ea.identity,r=Q(la.opacity,la),D=I(la.color,la),E=la.as||"image",H={$x:0,$y:0,$value:0,$max:w?Sa.max(v.map(C=>Sa.max(p(C).values))):0};v.forEach(C=>{const ha=p(C),xa=ea.extend({},C,H);w||(xa.$max=Sa.max(ha.values||[]));C[E]=W(ha,xa,D.dep?D:ea.constant(D(xa)),r.dep?r:ea.constant(r(xa)))});return T.reflow(!0).modifies(E)}});
ea.inherits(Y,x.Transform,{transform(la,T){let v=this.value;!v||la.modified("type")?(this.value=v=Qa(la.type),fb.projectionProperties.forEach(w=>{if(null!=la[w]){var p=v,r=la[w];if(ea.isFunction(p[w]))p[w](r)}})):fb.projectionProperties.forEach(w=>{if(la.modified(w)){var p=v,r=la[w];if(ea.isFunction(p[w]))p[w](r)}});null!=la.pointRadius&&v.path.pointRadius(la.pointRadius);la.fit&&ma(v,la);return T.fork(T.NO_SOURCE|T.NO_FIELDS)}});n.contour=Aa;n.geojson=Ra;n.geopath=Ya;n.geopoint=db;n.geoshape=nb;
n.graticule=S;n.heatmap=z;n.isocontour=Xa;n.kde2d=bb;n.projection=Y;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[46]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(cb,ob,rb,Xa){if(isNaN(ob)||isNaN(rb))return cb;var Ha,Ia=cb._root;Xa={data:Xa};var Za=cb._x0,mb=cb._y0,Da=cb._x1,Fa=cb._y1,hb,Ca,bb,La;if(!Ia)return cb._root=Xa,cb;for(;Ia.length;)if((bb=ob>=(hb=(Za+Da)/2))?Za=hb:Da=hb,(La=rb>=(Ca=(mb+Fa)/2))?mb=Ca:Fa=Ca,Ha=Ia,!(Ia=Ia[bb|=
La<<1]))return Ha[bb]=Xa,cb;var ka=+cb._x.call(null,Ia.data);var Aa=+cb._y.call(null,Ia.data);if(ob===ka&&rb===Aa)return Xa.next=Ia,Ha?Ha[bb]=Xa:cb._root=Xa,cb;do Ha=Ha?Ha[bb]=Array(4):cb._root=Array(4),(bb=ob>=(hb=(Za+Da)/2))?Za=hb:Da=hb,(La=rb>=(Ca=(mb+Fa)/2))?mb=Ca:Fa=Ca;while((bb|=La<<1)===(La=(Aa>=Ca)<<1|ka>=hb));return Ha[La]=Ia,Ha[bb]=Xa,cb}function ea(cb,ob,rb,Xa,Ha){this.node=cb;this.x0=ob;this.y0=rb;this.x1=Xa;this.y1=Ha}function Sa(cb){return cb[0]}function Wb(cb){return cb[1]}function fb(cb,
ob,rb){ob=new ub(null==ob?Sa:ob,null==rb?Wb:rb,NaN,NaN,NaN,NaN);return null==cb?ob:ob.addAll(cb)}function ub(cb,ob,rb,Xa,Ha,Ia){this._x=cb;this._y=ob;this._x0=rb;this._y0=Xa;this._x1=Ha;this._y1=Ia;this._root=void 0}function Ob(cb){for(var ob={data:cb.data},rb=ob;cb=cb.next;)rb=rb.next={data:cb.data};return ob}var zb=fb.prototype=ub.prototype;zb.copy=function(){var cb=new ub(this._x,this._y,this._x0,this._y0,this._x1,this._y1),ob=this._root,rb,Xa;if(!ob)return cb;if(!ob.length)return cb._root=Ob(ob),
cb;for(rb=[{source:ob,target:cb._root=Array(4)}];ob=rb.pop();)for(var Ha=0;4>Ha;++Ha)if(Xa=ob.source[Ha])Xa.length?rb.push({source:Xa,target:ob.target[Ha]=Array(4)}):ob.target[Ha]=Ob(Xa);return cb};zb.add=function(cb){const ob=+this._x.call(null,cb),rb=+this._y.call(null,cb);return x(this.cover(ob,rb),ob,rb,cb)};zb.addAll=function(cb){var ob,rb,Xa=cb.length,Ha,Ia,Za=Array(Xa),mb=Array(Xa),Da=Infinity,Fa=Infinity,hb=-Infinity,Ca=-Infinity;for(rb=0;rb<Xa;++rb)isNaN(Ha=+this._x.call(null,ob=cb[rb]))||
isNaN(Ia=+this._y.call(null,ob))||(Za[rb]=Ha,mb[rb]=Ia,Ha<Da&&(Da=Ha),Ha>hb&&(hb=Ha),Ia<Fa&&(Fa=Ia),Ia>Ca&&(Ca=Ia));if(Da>hb||Fa>Ca)return this;this.cover(Da,Fa).cover(hb,Ca);for(rb=0;rb<Xa;++rb)x(this,Za[rb],mb[rb],cb[rb]);return this};zb.cover=function(cb,ob){if(isNaN(cb=+cb)||isNaN(ob=+ob))return this;var rb=this._x0,Xa=this._y0,Ha=this._x1,Ia=this._y1;if(isNaN(rb))Ha=(rb=Math.floor(cb))+1,Ia=(Xa=Math.floor(ob))+1;else{for(var Za=Ha-rb||1,mb=this._root,Da,Fa;rb>cb||cb>=Ha||Xa>ob||ob>=Ia;)switch(Fa=
(ob<Xa)<<1|cb<rb,Da=Array(4),Da[Fa]=mb,mb=Da,Za*=2,Fa){case 0:Ha=rb+Za;Ia=Xa+Za;break;case 1:rb=Ha-Za;Ia=Xa+Za;break;case 2:Ha=rb+Za;Xa=Ia-Za;break;case 3:rb=Ha-Za,Xa=Ia-Za}this._root&&this._root.length&&(this._root=mb)}this._x0=rb;this._y0=Xa;this._x1=Ha;this._y1=Ia;return this};zb.data=function(){var cb=[];this.visit(function(ob){if(!ob.length){do cb.push(ob.data);while(ob=ob.next)}});return cb};zb.extent=function(cb){return arguments.length?this.cover(+cb[0][0],+cb[0][1]).cover(+cb[1][0],+cb[1][1]):
isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]};zb.find=function(cb,ob,rb){var Xa=this._x0,Ha=this._y0,Ia,Za,mb,Da,Fa=this._x1,hb=this._y1,Ca=[],bb=this._root,La;bb&&Ca.push(new ea(bb,Xa,Ha,Fa,hb));null==rb?rb=Infinity:(Xa=cb-rb,Ha=ob-rb,Fa=cb+rb,hb=ob+rb,rb*=rb);for(;La=Ca.pop();)if(!(!(bb=La.node)||(Ia=La.x0)>Fa||(Za=La.y0)>hb||(mb=La.x1)<Xa||(Da=La.y1)<Ha))if(bb.length){La=(Ia+mb)/2;var ka=(Za+Da)/2;Ca.push(new ea(bb[3],La,ka,mb,Da),new ea(bb[2],Ia,ka,La,Da),new ea(bb[1],La,Za,
mb,ka),new ea(bb[0],Ia,Za,La,ka));if(bb=(ob>=ka)<<1|cb>=La)La=Ca[Ca.length-1],Ca[Ca.length-1]=Ca[Ca.length-1-bb],Ca[Ca.length-1-bb]=La}else if(La=cb-+this._x.call(null,bb.data),ka=ob-+this._y.call(null,bb.data),La=La*La+ka*ka,La<rb){var Aa=Math.sqrt(rb=La);Xa=cb-Aa;Ha=ob-Aa;Fa=cb+Aa;hb=ob+Aa;Aa=bb.data}return Aa};zb.remove=function(cb){if(isNaN(Da=+this._x.call(null,cb))||isNaN(Fa=+this._y.call(null,cb)))return this;var ob,rb=this._root,Xa,Ha=this._x0,Ia=this._y0,Za=this._x1,mb=this._y1,Da,Fa,hb,
Ca,bb,La;if(!rb)return this;if(rb.length)for(;;){(bb=Da>=(hb=(Ha+Za)/2))?Ha=hb:Za=hb;(La=Fa>=(Ca=(Ia+mb)/2))?Ia=Ca:mb=Ca;if(!(ob=rb,rb=rb[bb|=La<<1]))return this;if(!rb.length)break;if(ob[bb+1&3]||ob[bb+2&3]||ob[bb+3&3]){var ka=ob;var Aa=bb}}for(;rb.data!==cb;)if(!(Xa=rb,rb=rb.next))return this;(cb=rb.next)&&delete rb.next;if(Xa)return cb?Xa.next=cb:delete Xa.next,this;if(!ob)return this._root=cb,this;cb?ob[bb]=cb:delete ob[bb];(rb=ob[0]||ob[1]||ob[2]||ob[3])&&rb===(ob[3]||ob[2]||ob[1]||ob[0])&&!rb.length&&
(ka?ka[Aa]=rb:this._root=rb);return this};zb.removeAll=function(cb){for(var ob=0,rb=cb.length;ob<rb;++ob)this.remove(cb[ob]);return this};zb.root=function(){return this._root};zb.size=function(){var cb=0;this.visit(function(ob){if(!ob.length){do++cb;while(ob=ob.next)}});return cb};zb.visit=function(cb){var ob=[],rb,Xa=this._root,Ha,Ia,Za,mb;for(Xa&&ob.push(new ea(Xa,this._x0,this._y0,this._x1,this._y1));rb=ob.pop();)if(!cb(Xa=rb.node,Ia=rb.x0,Za=rb.y0,mb=rb.x1,rb=rb.y1)&&Xa.length){var Da=(Ia+mb)/
2,Fa=(Za+rb)/2;(Ha=Xa[3])&&ob.push(new ea(Ha,Da,Fa,mb,rb));(Ha=Xa[2])&&ob.push(new ea(Ha,Ia,Fa,Da,rb));(Ha=Xa[1])&&ob.push(new ea(Ha,Da,Za,mb,Fa));(Ha=Xa[0])&&ob.push(new ea(Ha,Ia,Za,Da,Fa))}return this};zb.visitAfter=function(cb){var ob=[],rb=[],Xa;for(this._root&&ob.push(new ea(this._root,this._x0,this._y0,this._x1,this._y1));Xa=ob.pop();){var Ha=Xa.node;if(Ha.length){var Ia,Za=Xa.x0,mb=Xa.y0,Da=Xa.x1,Fa=Xa.y1,hb=(Za+Da)/2,Ca=(mb+Fa)/2;(Ia=Ha[0])&&ob.push(new ea(Ia,Za,mb,hb,Ca));(Ia=Ha[1])&&ob.push(new ea(Ia,
hb,mb,Da,Ca));(Ia=Ha[2])&&ob.push(new ea(Ia,Za,Ca,hb,Fa));(Ia=Ha[3])&&ob.push(new ea(Ia,hb,Ca,Da,Fa))}rb.push(Xa)}for(;Xa=rb.pop();)cb(Xa.node,Xa.x0,Xa.y0,Xa.x1,Xa.y1);return this};zb.x=function(cb){return arguments.length?(this._x=cb,this):this._x};zb.y=function(cb){return arguments.length?(this._y=cb,this):this._y};n.quadtree=fb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[47]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){for(var ub=0,Ob=arguments.length,zb={},cb;ub<Ob;++ub){if(!(cb=arguments[ub]+"")||cb in zb||/[\s.]/.test(cb))throw Error("illegal type: "+cb);zb[cb]=[]}return new ea(zb)}function ea(ub){this._=ub}function Sa(ub,Ob){return ub.trim().split(/^|\s+/).map(function(zb){var cb="",
ob=zb.indexOf(".");0<=ob&&(cb=zb.slice(ob+1),zb=zb.slice(0,ob));if(zb&&!Ob.hasOwnProperty(zb))throw Error("unknown type: "+zb);return{type:zb,name:cb}})}function Wb(ub,Ob,zb){for(var cb=0,ob=ub.length;cb<ob;++cb)if(ub[cb].name===Ob){ub[cb]=fb;ub=ub.slice(0,cb).concat(ub.slice(cb+1));break}null!=zb&&ub.push({name:Ob,value:zb});return ub}var fb={value:()=>{}};ea.prototype=x.prototype={constructor:ea,on:function(ub,Ob){var zb=this._,cb=Sa(ub+"",zb),ob,rb=-1,Xa=cb.length;if(2>arguments.length)for(;++rb<
Xa;){var Ha;if(Ha=ob=(ub=cb[rb]).type){a:{Ha=zb[ob];for(var Ia=0,Za=Ha.length;Ia<Za;++Ia)if((ob=Ha[Ia]).name===ub.name){ob=ob.value;break a}ob=void 0}Ha=ob}if(Ha)return ob}else{if(null!=Ob&&"function"!==typeof Ob)throw Error("invalid callback: "+Ob);for(;++rb<Xa;)if(ob=(ub=cb[rb]).type)zb[ob]=Wb(zb[ob],ub.name,Ob);else if(null==Ob)for(ob in zb)zb[ob]=Wb(zb[ob],ub.name,null);return this}},copy:function(){var ub={},Ob=this._,zb;for(zb in Ob)ub[zb]=Ob[zb].slice();return new ea(ub)},call:function(ub,
Ob){if(0<(ob=arguments.length-2))for(var zb=Array(ob),cb=0,ob,rb;cb<ob;++cb)zb[cb]=arguments[cb+2];if(!this._.hasOwnProperty(ub))throw Error("unknown type: "+ub);rb=this._[ub];cb=0;for(ob=rb.length;cb<ob;++cb)rb[cb].value.apply(Ob,zb)},apply:function(ub,Ob,zb){if(!this._.hasOwnProperty(ub))throw Error("unknown type: "+ub);ub=this._[ub];for(var cb=0,ob=ub.length;cb<ob;++cb)ub[cb].value.apply(Ob,zb)}};n.dispatch=x;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[48]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(){return Za||(Fa(ea),Za=Da.now()+mb)}function ea(){Za=0}function Sa(){this._call=this._time=this._next=null}function Wb(hb,Ca,bb){var La=new Sa;La.restart(hb,Ca,bb);return La}function fb(){x();++cb;for(var hb=Xa,Ca;hb;)0<=(Ca=Za-hb._time)&&hb._call.call(null,Ca),hb=hb._next;
--cb}function ub(){Za=(Ia=Da.now())+mb;cb=ob=0;try{fb()}finally{cb=0;for(var hb,Ca=Xa,bb,La=Infinity;Ca;)Ca._call?(La>Ca._time&&(La=Ca._time),hb=Ca,Ca=Ca._next):(bb=Ca._next,Ca._next=null,Ca=hb?hb._next=bb:Xa=bb);Ha=hb;zb(La);Za=0}}function Ob(){var hb=Da.now(),Ca=hb-Ia;1E3<Ca&&(mb-=Ca,Ia=hb)}function zb(hb){cb||(ob&&(ob=clearTimeout(ob)),24<hb-Za?(Infinity>hb&&(ob=setTimeout(ub,hb-Da.now()-mb)),rb&&(rb=clearInterval(rb))):(rb||(Ia=Da.now(),rb=setInterval(Ob,1E3)),cb=1,Fa(ub)))}var cb=0,ob=0,rb=0,
Xa,Ha,Ia=0,Za=0,mb=0,Da="object"===typeof performance&&performance.now?performance:Date,Fa="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(hb){setTimeout(hb,17)};Sa.prototype=Wb.prototype={constructor:Sa,restart:function(hb,Ca,bb){if("function"!==typeof hb)throw new TypeError("callback is not a function");bb=(null==bb?x():+bb)+(null==Ca?0:+Ca);this._next||Ha===this||(Ha?Ha._next=this:Xa=this,Ha=this);this._call=hb;this._time=bb;zb()},stop:function(){this._call&&
(this._call=null,this._time=Infinity,zb())}};n.interval=function(hb,Ca,bb){var La=new Sa,ka=Ca;if(null==Ca)return La.restart(hb,Ca,bb),La;La._restart=La.restart;La.restart=function(Aa,Ra,Ya){Ra=+Ra;Ya=null==Ya?x():+Ya;La._restart(function nb(db){db+=ka;La._restart(nb,ka+=Ra,Ya);Aa(db)},Ra,Ya)};La.restart(hb,Ca,bb);return La};n.now=x;n.timeout=function(hb,Ca,bb){var La=new Sa;Ca=null==Ca?0:+Ca;La.restart(ka=>{La.stop();hb(ka+Ca)},Ca,bb);return La};n.timer=Wb;n.timerFlush=fb;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[49]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(46),Rb(47),Rb(48)):"function"===typeof define&&define.amd?define(["exports","d3-quadtree","d3-dispatch","d3-timer"],x):(n=n||self,x(n.d3=n.d3||{},n.d3,n.d3,n.d3))})(this,function(n,x,ea,Sa){function Wb(Ha){return function(){return Ha}}function fb(Ha){return Ha.x+Ha.vx}function ub(Ha){return Ha.y+Ha.vy}function Ob(Ha){return Ha.index}function zb(Ha,Ia){Ha=Ha.get(Ia);if(!Ha)throw Error("node not found: "+
Ia);return Ha}function cb(){let Ha=1;return()=>(Ha=(1664525*Ha+1013904223)%4294967296)/4294967296}function ob(Ha){return Ha.x}function rb(Ha){return Ha.y}var Xa=Math.PI*(3-Math.sqrt(5));n.forceCenter=function(Ha,Ia){function Za(){var Fa,hb=mb.length,Ca=0,bb=0;for(Fa=0;Fa<hb;++Fa){var La=mb[Fa];Ca+=La.x;bb+=La.y}Ca=(Ca/hb-Ha)*Da;bb=(bb/hb-Ia)*Da;for(Fa=0;Fa<hb;++Fa)La=mb[Fa],La.x-=Ca,La.y-=bb}var mb,Da=1;null==Ha&&(Ha=0);null==Ia&&(Ia=0);Za.initialize=function(Fa){mb=Fa};Za.x=function(Fa){return arguments.length?
(Ha=+Fa,Za):Ha};Za.y=function(Fa){return arguments.length?(Ia=+Fa,Za):Ia};Za.strength=function(Fa){return arguments.length?(Da=+Fa,Za):Da};return Za};n.forceCollide=function(Ha){function Ia(){function La(z,I,Q,J,W){var Y=z.data;z=z.r;var ma=nb+z;if(Y)Y.index>Ya.index&&(I=ib-Y.x-Y.vx,Q=db-Y.y-Y.vy,J=I*I+Q*Q,J<ma*ma&&(0===I&&(I=1E-6*(hb()-.5),J+=I*I),0===Q&&(Q=1E-6*(hb()-.5),J+=Q*Q),J=(ma-(J=Math.sqrt(J)))/J*Ca,Ya.vx+=(I*=J)*(ma=(z*=z)/($a+z)),Ya.vy+=(Q*=J)*ma,Y.vx-=I*(ma=1-ma),Y.vy-=Q*ma));else return I>
ib+ma||J<ib-ma||Q>db+ma||W<db-ma}for(var ka,Aa=Da.length,Ra,Ya,ib,db,nb,$a,S=0;S<bb;++S)for(Ra=x.quadtree(Da,fb,ub).visitAfter(Za),ka=0;ka<Aa;++ka)Ya=Da[ka],nb=Fa[Ya.index],$a=nb*nb,ib=Ya.x+Ya.vx,db=Ya.y+Ya.vy,Ra.visit(La)}function Za(La){if(La.data)return La.r=Fa[La.data.index];for(var ka=La.r=0;4>ka;++ka)La[ka]&&La[ka].r>La.r&&(La.r=La[ka].r)}function mb(){if(Da){var La,ka=Da.length;Fa=Array(ka);for(La=0;La<ka;++La){var Aa=Da[La];Fa[Aa.index]=+Ha(Aa,La,Da)}}}var Da,Fa,hb,Ca=1,bb=1;"function"!==
typeof Ha&&(Ha=Wb(null==Ha?1:+Ha));Ia.initialize=function(La,ka){Da=La;hb=ka;mb()};Ia.iterations=function(La){return arguments.length?(bb=+La,Ia):bb};Ia.strength=function(La){return arguments.length?(Ca=+La,Ia):Ca};Ia.radius=function(La){return arguments.length?(Ha="function"===typeof La?La:Wb(+La),mb(),Ia):Ha};return Ia};n.forceLink=function(Ha){function Ia(db){for(var nb=0,$a=Ha.length;nb<ib;++nb)for(var S=0,z,I,Q,J,W;S<$a;++S)z=Ha[S],I=z.source,z=z.target,Q=z.x+z.vx-I.x-I.vx||1E-6*(Ya()-.5),J=
z.y+z.vy-I.y-I.vy||1E-6*(Ya()-.5),W=Math.sqrt(Q*Q+J*J),W=(W-La[S])/W*db*Ca[S],Q*=W,J*=W,z.vx-=Q*(W=Ra[S]),z.vy-=J*W,I.vx+=Q*(W=1-W),I.vy+=J*W}function Za(){if(ka){var db=ka.length,nb=Ha.length,$a=new Map(ka.map((z,I)=>[Fa(z,I,ka),z]));var S=0;for(Aa=Array(db);S<nb;++S)db=Ha[S],db.index=S,"object"!==typeof db.source&&(db.source=zb($a,db.source)),"object"!==typeof db.target&&(db.target=zb($a,db.target)),Aa[db.source.index]=(Aa[db.source.index]||0)+1,Aa[db.target.index]=(Aa[db.target.index]||0)+1;S=
0;for(Ra=Array(nb);S<nb;++S)db=Ha[S],Ra[S]=Aa[db.source.index]/(Aa[db.source.index]+Aa[db.target.index]);Ca=Array(nb);mb();La=Array(nb);Da()}}function mb(){if(ka)for(var db=0,nb=Ha.length;db<nb;++db)Ca[db]=+hb(Ha[db],db,Ha)}function Da(){if(ka)for(var db=0,nb=Ha.length;db<nb;++db)La[db]=+bb(Ha[db],db,Ha)}var Fa=Ob,hb=function(db){return 1/Math.min(Aa[db.source.index],Aa[db.target.index])},Ca,bb=Wb(30),La,ka,Aa,Ra,Ya,ib=1;null==Ha&&(Ha=[]);Ia.initialize=function(db,nb){ka=db;Ya=nb;Za()};Ia.links=function(db){return arguments.length?
(Ha=db,Za(),Ia):Ha};Ia.id=function(db){return arguments.length?(Fa=db,Ia):Fa};Ia.iterations=function(db){return arguments.length?(ib=+db,Ia):ib};Ia.strength=function(db){return arguments.length?(hb="function"===typeof db?db:Wb(+db),mb(),Ia):hb};Ia.distance=function(db){return arguments.length?(bb="function"===typeof db?db:Wb(+db),Da(),Ia):bb};return Ia};n.forceManyBody=function(){function Ha(Ya){var ib=Da.length,db=x.quadtree(Da,ob,rb).visitAfter(Za);Ca=Ya;for(Ya=0;Ya<ib;++Ya)Fa=Da[Ya],db.visit(mb)}
function Ia(){if(Da){var Ya,ib=Da.length;La=Array(ib);for(Ya=0;Ya<ib;++Ya){var db=Da[Ya];La[db.index]=+bb(db,Ya,Da)}}}function Za(Ya){var ib=0,db,nb,$a=0,S,z,I;if(Ya.length){for(S=z=I=0;4>I;++I)(db=Ya[I])&&(nb=Math.abs(db.value))&&(ib+=db.value,$a+=nb,S+=nb*db.x,z+=nb*db.y);Ya.x=S/$a;Ya.y=z/$a}else{db=Ya;db.x=db.data.x;db.y=db.data.y;do ib+=La[db.data.index];while(db=db.next)}Ya.value=ib}function mb(Ya,ib,db,nb){if(!Ya.value)return!0;db=Ya.x-Fa.x;var $a=Ya.y-Fa.y;ib=nb-ib;nb=db*db+$a*$a;if(ib*ib/
Ra<nb)return nb<Aa&&(0===db&&(db=1E-6*(hb()-.5),nb+=db*db),0===$a&&($a=1E-6*(hb()-.5),nb+=$a*$a),nb<ka&&(nb=Math.sqrt(ka*nb)),Fa.vx+=db*Ya.value*Ca/nb,Fa.vy+=$a*Ya.value*Ca/nb),!0;if(!(Ya.length||nb>=Aa)){if(Ya.data!==Fa||Ya.next)0===db&&(db=1E-6*(hb()-.5),nb+=db*db),0===$a&&($a=1E-6*(hb()-.5),nb+=$a*$a),nb<ka&&(nb=Math.sqrt(ka*nb));do Ya.data!==Fa&&(ib=La[Ya.data.index]*Ca/nb,Fa.vx+=db*ib,Fa.vy+=$a*ib);while(Ya=Ya.next)}}var Da,Fa,hb,Ca,bb=Wb(-30),La,ka=1,Aa=Infinity,Ra=.81;Ha.initialize=function(Ya,
ib){Da=Ya;hb=ib;Ia()};Ha.strength=function(Ya){return arguments.length?(bb="function"===typeof Ya?Ya:Wb(+Ya),Ia(),Ha):bb};Ha.distanceMin=function(Ya){return arguments.length?(ka=Ya*Ya,Ha):Math.sqrt(ka)};Ha.distanceMax=function(Ya){return arguments.length?(Aa=Ya*Ya,Ha):Math.sqrt(Aa)};Ha.theta=function(Ya){return arguments.length?(Ra=Ya*Ya,Ha):Math.sqrt(Ra)};return Ha};n.forceRadial=function(Ha,Ia,Za){function mb(La){for(var ka=0,Aa=Fa.length;ka<Aa;++ka){var Ra=Fa[ka],Ya=Ra.x-Ia||1E-6,ib=Ra.y-Za||1E-6,
db=Math.sqrt(Ya*Ya+ib*ib);db=(bb[ka]-db)*Ca[ka]*La/db;Ra.vx+=Ya*db;Ra.vy+=ib*db}}function Da(){if(Fa){var La,ka=Fa.length;Ca=Array(ka);bb=Array(ka);for(La=0;La<ka;++La)bb[La]=+Ha(Fa[La],La,Fa),Ca[La]=isNaN(bb[La])?0:+hb(Fa[La],La,Fa)}}var Fa,hb=Wb(.1),Ca,bb;"function"!==typeof Ha&&(Ha=Wb(+Ha));null==Ia&&(Ia=0);null==Za&&(Za=0);mb.initialize=function(La){Fa=La;Da()};mb.strength=function(La){return arguments.length?(hb="function"===typeof La?La:Wb(+La),Da(),mb):hb};mb.radius=function(La){return arguments.length?
(Ha="function"===typeof La?La:Wb(+La),Da(),mb):Ha};mb.x=function(La){return arguments.length?(Ia=+La,mb):Ia};mb.y=function(La){return arguments.length?(Za=+La,mb):Za};return mb};n.forceSimulation=function(Ha){function Ia(){Za();Ya.call("tick",Fa);hb<Ca&&(Ra.stop(),Ya.call("end",Fa))}function Za(db){var nb,$a=Ha.length;void 0===db&&(db=1);for(var S=0;S<db;++S)for(hb+=(La-hb)*bb,Aa.forEach(function(I){I(hb)}),nb=0;nb<$a;++nb){var z=Ha[nb];null==z.fx?z.x+=z.vx*=ka:(z.x=z.fx,z.vx=0);null==z.fy?z.y+=z.vy*=
ka:(z.y=z.fy,z.vy=0)}return Fa}function mb(){for(var db=0,nb=Ha.length,$a;db<nb;++db){$a=Ha[db];$a.index=db;null!=$a.fx&&($a.x=$a.fx);null!=$a.fy&&($a.y=$a.fy);if(isNaN($a.x)||isNaN($a.y)){var S=10*Math.sqrt(.5+db),z=db*Xa;$a.x=S*Math.cos(z);$a.y=S*Math.sin(z)}if(isNaN($a.vx)||isNaN($a.vy))$a.vx=$a.vy=0}}function Da(db){db.initialize&&db.initialize(Ha,ib);return db}var Fa,hb=1,Ca=.001,bb=1-Math.pow(Ca,1/300),La=0,ka=.6,Aa=new Map,Ra=Sa.timer(Ia),Ya=ea.dispatch("tick","end"),ib=cb();null==Ha&&(Ha=
[]);mb();return Fa={tick:Za,restart:function(){return Ra.restart(Ia),Fa},stop:function(){return Ra.stop(),Fa},nodes:function(db){return arguments.length?(Ha=db,mb(),Aa.forEach(Da),Fa):Ha},alpha:function(db){return arguments.length?(hb=+db,Fa):hb},alphaMin:function(db){return arguments.length?(Ca=+db,Fa):Ca},alphaDecay:function(db){return arguments.length?(bb=+db,Fa):+bb},alphaTarget:function(db){return arguments.length?(La=+db,Fa):La},velocityDecay:function(db){return arguments.length?(ka=1-db,Fa):
1-ka},randomSource:function(db){return arguments.length?(ib=db,Aa.forEach(Da),Fa):ib},force:function(db,nb){return 1<arguments.length?(null==nb?Aa.delete(db):Aa.set(db,Da(nb)),Fa):Aa.get(db)},find:function(db,nb,$a){var S,z=Ha.length;$a=null==$a?Infinity:$a*$a;for(S=0;S<z;++S){var I=Ha[S];var Q=db-I.x;var J=nb-I.y;Q=Q*Q+J*J;if(Q<$a){var W=I;$a=Q}}return W},on:function(db,nb){return 1<arguments.length?(Ya.on(db,nb),Fa):Ya.on(db)}}};n.forceX=function(Ha){function Ia(Ca){for(var bb=0,La=Da.length,ka;bb<
La;++bb)ka=Da[bb],ka.vx+=(hb[bb]-ka.x)*Fa[bb]*Ca}function Za(){if(Da){var Ca,bb=Da.length;Fa=Array(bb);hb=Array(bb);for(Ca=0;Ca<bb;++Ca)Fa[Ca]=isNaN(hb[Ca]=+Ha(Da[Ca],Ca,Da))?0:+mb(Da[Ca],Ca,Da)}}var mb=Wb(.1),Da,Fa,hb;"function"!==typeof Ha&&(Ha=Wb(null==Ha?0:+Ha));Ia.initialize=function(Ca){Da=Ca;Za()};Ia.strength=function(Ca){return arguments.length?(mb="function"===typeof Ca?Ca:Wb(+Ca),Za(),Ia):mb};Ia.x=function(Ca){return arguments.length?(Ha="function"===typeof Ca?Ca:Wb(+Ca),Za(),Ia):Ha};return Ia};
n.forceY=function(Ha){function Ia(Ca){for(var bb=0,La=Da.length,ka;bb<La;++bb)ka=Da[bb],ka.vy+=(hb[bb]-ka.y)*Fa[bb]*Ca}function Za(){if(Da){var Ca,bb=Da.length;Fa=Array(bb);hb=Array(bb);for(Ca=0;Ca<bb;++Ca)Fa[Ca]=isNaN(hb[Ca]=+Ha(Da[Ca],Ca,Da))?0:+mb(Da[Ca],Ca,Da)}}var mb=Wb(.1),Da,Fa,hb;"function"!==typeof Ha&&(Ha=Wb(null==Ha?0:+Ha));Ia.initialize=function(Ca){Da=Ca;Za()};Ia.strength=function(Ca){return arguments.length?(mb="function"===typeof Ca?Ca:Wb(+Ca),Za(),Ia):mb};Ia.y=function(Ca){return arguments.length?
(Ha="function"===typeof Ca?Ca:Wb(+Ca),Za(),Ia):Ha};return Ia};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[50]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(17),Rb(49)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-force"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,x,ea,Sa){function Wb(Ha){x.Transform.call(this,null,Ha)}function fb(Ha,Ia){return()=>Ha.touch(Ia).run()}function ub(Ha,Ia){Ha=Sa.forceSimulation(Ha);
const Za=Ha.stop,mb=Ha.restart;let Da=!1;Ha.stopped=()=>Da;Ha.restart=()=>(Da=!1,mb());Ha.stop=()=>(Da=!0,Za());return Ob(Ha,Ia,!0).on("end",()=>Da=!0)}function Ob(Ha,Ia,Za,mb){var Da=ea.array(Ia.forces),Fa;var hb=0;for(Fa=ob.length;hb<Fa;++hb){var Ca=ob[hb];if("forces"!==Ca&&Ia.modified(Ca))Ha[Ca](Ia[Ca])}hb=0;for(Fa=Da.length;hb<Fa;++hb){var bb="forces"+hb;if(Za||Ia.modified("forces",hb)){Ca=void 0;var La=Da[hb];ea.hasOwnProperty(cb,La.force)||ea.error("Unrecognized force: "+La.force);var ka=cb[La.force]();
for(Ca in La)ea.isFunction(ka[Ca])&&zb(ka[Ca],La[Ca],La);Ca=ka}else{if(Ca=mb)a:{ka=Ca=void 0;La=Da[hb];var Aa=mb;for(ka in La)if(ea.isFunction(Ca=La[ka])&&Aa.modified(ea.accessorFields(Ca))){Ca=1;break a}Ca=0}Ca=Ca?Ha.force(bb):null}Ca&&Ha.force(bb,Ca)}for(Fa=Ha.numForces||0;hb<Fa;++hb)Ha.force("forces"+hb,null);Ha.numForces=Da.length;return Ha}function zb(Ha,Ia,Za){Ha(ea.isFunction(Ia)?mb=>Ia(mb,Za):Ia)}const cb={center:Sa.forceCenter,collide:Sa.forceCollide,nbody:Sa.forceManyBody,link:Sa.forceLink,
x:Sa.forceX,y:Sa.forceY},ob=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],rb=["static","iterations"],Xa=["x","y","vx","vy"];Wb.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number","default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number",
"default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",
type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":Xa}]};ea.inherits(Wb,
x.Transform,{transform(Ha,Ia){var Za=this.value,mb=Ia.changed(Ia.ADD_REM),Da=Ha.modified(ob),Fa=Ha.iterations||300;Za?(mb&&(Ia.modifies("index"),Za.nodes(Ia.source)),(Da||Ia.changed(Ia.MOD))&&Ob(Za,Ha,0,Ia)):(this.value=Za=ub(Ia.source,Ha),Za.on("tick",fb(Ia.dataflow,this)),Ha.static||(mb=!0,Za.tick()),Ia.modifies("index"));if(Da||mb||Ha.modified(rb)||Ia.changed()&&Ha.restart)if(Za.alpha(Math.max(Za.alpha(),Ha.alpha||1)).alphaDecay(1-Math.pow(Za.alphaMin(),1/Fa)),Ha.static)for(Za.stop();0<=--Fa;)Za.tick();
else if(Za.stopped()&&Za.restart(),!mb)return Ia.StopPropagation;return this.finish(Ha,Ia)},finish(Ha,Ia){const Za=Ia.dataflow;for(let Ca=this._argops,bb=0,La=Ca.length,ka;bb<La;++bb)if(ka=Ca[bb],"forces"===ka.name&&"link"===ka.op._argval.force)for(var mb=ka.op._argops,Da=0,Fa=mb.length,hb;Da<Fa;++Da)if("links"===mb[Da].name&&(hb=mb[Da].op.source)){Za.pulse(hb,Za.changeset().reflow());break}return Ia.reflow(Ha.modified()).modifies(Xa)}});n.force=Wb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[51]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(v,w){return v.parent===w.parent?1:2}function ea(v,w){return v+w.x}function Sa(v,w){return Math.max(v,w.y)}function Wb(v){for(var w;w=v.children;)v=w[0];return v}function fb(v){for(var w;w=v.children;)v=w[w.length-1];return v}function ub(v){var w=0,p=v.children,r=p&&p.length;
if(r)for(;0<=--r;)w+=p[r].value;else w=1;v.value=w}function Ob(v,w){v instanceof Map?(v=[void 0,v],void 0===w&&(w=cb)):void 0===w&&(w=zb);v=new Xa(v);for(var p,r=[v],D,E,H,C;p=r.pop();)if((E=w(p.data))&&(C=(E=Array.from(E)).length))for(p.children=E,H=C-1;0<=H;--H)r.push(D=E[H]=new Xa(E[H])),D.parent=p,D.depth=p.depth+1;return v.eachBefore(rb)}function zb(v){return v.children}function cb(v){return Array.isArray(v)?v[1]:null}function ob(v){void 0!==v.data.value&&(v.value=v.data.value);v.data=v.data.data}
function rb(v){var w=0;do v.height=w;while((v=v.parent)&&v.height<++w)}function Xa(v){this.data=v;this.depth=this.height=0;this.parent=null}function Ha(v){var w=0;v=Array.from(v);for(var p=v.length,r,D;p;)D=Math.random()*p--|0,r=v[p],v[p]=v[D],v[D]=r;p=v.length;r=[];for(var E;w<p;)if(D=v[w],E&&Za(E,D))++w;else{a:if(w=r,mb(D,w))w=[D];else{for(r=0;r<w.length;++r)if(Ia(D,w[r])&&mb(Da(w[r],D),w)){w=[w[r],D];break a}for(r=0;r<w.length-1;++r)for(E=r+1;E<w.length;++E)if(Ia(Da(w[r],w[E]),D)&&Ia(Da(w[r],D),
w[E])&&Ia(Da(w[E],D),w[r])&&mb(Fa(w[r],w[E],D),w)){w=[w[r],w[E],D];break a}throw Error();}a:{w=r=w;switch(w.length){case 1:w=w[0];w={x:w.x,y:w.y,r:w.r};break a;case 2:w=Da(w[0],w[1]);break a;case 3:w=Fa(w[0],w[1],w[2]);break a}w=void 0}E=w;w=0}return E}function Ia(v,w){var p=v.r-w.r,r=w.x-v.x;v=w.y-v.y;return 0>p||p*p<r*r+v*v}function Za(v,w){var p=v.r-w.r+1E-9*Math.max(v.r,w.r,1),r=w.x-v.x;v=w.y-v.y;return 0<p&&p*p>r*r+v*v}function mb(v,w){for(var p=0;p<w.length;++p)if(!Za(v,w[p]))return!1;return!0}
function Da(v,w){var p=v.x,r=v.y;v=v.r;var D=w.x,E=w.y;w=w.r;var H=D-p,C=E-r,ha=w-v,xa=Math.sqrt(H*H+C*C);return{x:(p+D+H/xa*ha)/2,y:(r+E+C/xa*ha)/2,r:(xa+v+w)/2}}function Fa(v,w,p){var r=v.x,D=v.y;v=v.r;var E=w.x,H=w.y,C=w.r,ha=p.x,xa=p.y,oa=p.r;p=r-E;w=r-ha;var Va=D-H,Ja=D-xa,ba=C-v,ta=oa-v,eb=r*r+D*D-v*v;H=eb-E*E-H*H+C*C;xa=eb-ha*ha-xa*xa+oa*oa;ha=w*Va-p*Ja;E=(Va*xa-Ja*H)/(2*ha)-r;Va=(Ja*ba-Va*ta)/ha;Ja=(w*H-p*xa)/(2*ha)-D;p=(p*ta-w*ba)/ha;w=Va*Va+p*p-1;ba=2*(v+E*Va+Ja*p);v=E*E+Ja*Ja-v*v;v=-(w?
(ba+Math.sqrt(ba*ba-4*w*v))/(2*w):v/ba);return{x:r+E+Va*v,y:D+Ja+p*v,r:v}}function hb(v,w,p){var r=v.x-w.x,D=v.y-w.y,E=r*r+D*D;if(E){var H=w.r+p.r;H*=H;var C=v.r+p.r;C*=C;if(H>C){var ha=(E+C-H)/(2*E);H=Math.sqrt(Math.max(0,C/E-ha*ha));p.x=v.x-ha*r-H*D;p.y=v.y-ha*D+H*r}else ha=(E+H-C)/(2*E),H=Math.sqrt(Math.max(0,H/E-ha*ha)),p.x=w.x+ha*r-H*D,p.y=w.y+ha*D+H*r}else p.x=w.x+p.r,p.y=w.y}function Ca(v,w){var p=v.r+w.r-1E-6,r=w.x-v.x;v=w.y-v.y;return 0<p&&p*p>r*r+v*v}function bb(v){var w=v._,p=v.next._,
r=w.r+p.r;v=(w.x*p.r+p.x*w.r)/r;w=(w.y*p.r+p.y*w.r)/r;return v*v+w*w}function La(v){this._=v;this.previous=this.next=null}function ka(v){if(!(p=(v="object"===typeof v&&"length"in v?v:Array.from(v)).length))return 0;var w,p;var r=v[0];r.x=0;r.y=0;if(!(1<p))return r.r;var D=v[1];r.x=-D.r;D.x=r.r;D.y=0;if(!(2<p))return r.r+D.r;hb(D,r,w=v[2]);r=new La(r);D=new La(D);w=new La(w);r.next=w.previous=D;D.next=r.previous=w;w.next=D.previous=r;var E=3;a:for(;E<p;++E){hb(r._,D._,w=v[E]);w=new La(w);var H=D.next;
var C=r.previous;var ha=D._.r;var xa=r._.r;do if(ha<=xa){if(Ca(H._,w._)){D=H;r.next=D;D.previous=r;--E;continue a}ha+=H._.r;H=H.next}else{if(Ca(C._,w._)){r=C;r.next=D;D.previous=r;--E;continue a}xa+=C._.r;C=C.previous}while(H!==C.next);w.previous=r;w.next=D;r.next=D.previous=D=w;for(H=bb(r);(w=w.next)!==D;)(C=bb(w))<H&&(r=w,H=C);D=r.next}r=[D._];for(w=D;(w=w.next)!==D;)r.push(w._);w=Ha(r);for(E=0;E<p;++E)r=v[E],r.x-=w.x,r.y-=w.y;return w.r}function Aa(v){if("function"!==typeof v)throw Error();return v}
function Ra(){return 0}function Ya(v){return function(){return v}}function ib(v){return Math.sqrt(v.value)}function db(v){return function(w){w.children||(w.r=Math.max(0,+v(w)||0))}}function nb(v,w){return function(p){if(r=p.children){var r,D,E=r.length,H=v(p)*w||0;if(H)for(D=0;D<E;++D)r[D].r+=H;var C=ka(r);if(H)for(D=0;D<E;++D)r[D].r-=H;p.r=C+H}}}function $a(v){return function(w){var p=w.parent;w.r*=v;p&&(w.x=p.x+v*w.x,w.y=p.y+v*w.y)}}function S(v){v.x0=Math.round(v.x0);v.y0=Math.round(v.y0);v.x1=
Math.round(v.x1);v.y1=Math.round(v.y1)}function z(v,w,p,r,D){var E=v.children,H=-1,C=E.length;for(r=v.value&&(r-w)/v.value;++H<C;)v=E[H],v.y0=p,v.y1=D,v.x0=w,v.x1=w+=v.value*r}function I(v){return v.id}function Q(v){return v.parentId}function J(v,w){return v.parent===w.parent?1:2}function W(v){var w=v.children;return w?w[0]:v.t}function Y(v){var w=v.children;return w?w[w.length-1]:v.t}function ma(v,w){this._=v;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=
null;this.i=w}function Qa(v){v=new ma(v,0);for(var w,p=[v],r,D,E;w=p.pop();)if(D=w._.children)for(w.children=Array(r=D.length),E=r-1;0<=E;--E)p.push(r=w.children[E]=new ma(D[E],E)),r.parent=w;(v.parent=new ma(null,0)).children=[v];return v}function Ua(v,w,p,r,D){var E=v.children,H=-1,C=E.length;for(D=v.value&&(D-p)/v.value;++H<C;)v=E[H],v.x0=w,v.x1=r,v.y0=p,v.y1=p+=v.value*D}function U(v,w,p,r,D,E){for(var H=[],C=w.children,ha,xa,oa=ha=0,Va=C.length,Ja,ba=w.value,ta,eb,xb,Kb,fc,Ec;ha<Va;){w=D-p;Ja=
E-r;do ta=C[oa++].value;while(!ta&&oa<Va);eb=xb=ta;Ec=Math.max(Ja/w,w/Ja)/(ba*v);Kb=ta*ta*Ec;for(fc=Math.max(xb/Kb,Kb/eb);oa<Va;++oa){ta+=xa=C[oa].value;xa<eb&&(eb=xa);xa>xb&&(xb=xa);Kb=ta*ta*Ec;Kb=Math.max(xb/Kb,Kb/eb);if(Kb>fc){ta-=xa;break}fc=Kb}H.push(ha={value:ta,dice:w<Ja,children:C.slice(ha,oa)});ha.dice?z(ha,p,r,D,ba?r+=Ja*ta/ba:E):Ua(ha,p,r,ba?p+=w*ta/ba:D,E);ba-=ta;ha=oa}return H}Xa.prototype=Ob.prototype={constructor:Xa,count:function(){return this.eachAfter(ub)},each:function(v,w){let p=
-1;for(const r of this)v.call(w,r,++p,this);return this},eachAfter:function(v,w){for(var p,r=[this],D=[],E,H,C=-1;p=r.pop();)if(D.push(p),p=p.children)for(E=0,H=p.length;E<H;++E)r.push(p[E]);for(;p=D.pop();)v.call(w,p,++C,this);return this},eachBefore:function(v,w){for(var p,r=[this],D,E=-1;p=r.pop();)if(v.call(w,p,++E,this),p=p.children)for(D=p.length-1;0<=D;--D)r.push(p[D]);return this},find:function(v,w){let p=-1;for(const r of this)if(v.call(w,r,++p,this))return r},sum:function(v){return this.eachAfter(function(w){for(var p=
+v(w.data)||0,r=w.children,D=r&&r.length;0<=--D;)p+=r[D].value;w.value=p})},sort:function(v){return this.eachBefore(function(w){w.children&&w.children.sort(v)})},path:function(v){var w=this;var p=w;var r=v;if(p!==r){var D=p.ancestors(),E=r.ancestors(),H=null;p=D.pop();for(r=E.pop();p===r;)H=p,p=D.pop(),r=E.pop();p=H}for(r=[w];w!==p;)w=w.parent,r.push(w);for(w=r.length;v!==p;)r.splice(w,0,v),v=v.parent;return r},ancestors:function(){for(var v=this,w=[v];v=v.parent;)w.push(v);return w},descendants:function(){return Array.from(this)},
leaves:function(){var v=[];this.eachBefore(function(w){w.children||v.push(w)});return v},links:function(){var v=this,w=[];v.each(function(p){p!==v&&w.push({source:p.parent,target:p})});return w},copy:function(){return Ob(this).eachBefore(ob)},[Symbol.iterator]:function*(){var v,w=[this],p;do{var r=w.reverse();for(w=[];v=r.pop();)if(yield v,v=v.children){var D=0;for(p=v.length;D<p;++D)w.push(v[D])}}while(w.length)}};var sa={depth:-1},ua={};ma.prototype=Object.create(Xa.prototype);var la=(1+Math.sqrt(5))/
2,T=function p(w){function r(D,E,H,C,ha){U(w,D,E,H,C,ha)}r.ratio=function(D){return p(1<(D=+D)?D:1)};return r}(la);la=function r(p){function D(E,H,C,ha,xa){if((oa=E._squarify)&&oa.ratio===p)for(var oa,Va,Ja,ba=-1,ta,eb=oa.length,xb=E.value;++ba<eb;){E=oa[ba];Va=E.children;Ja=E.value=0;for(ta=Va.length;Ja<ta;++Ja)E.value+=Va[Ja].value;E.dice?z(E,H,C,ha,xb?C+=(xa-C)*E.value/xb:xa):Ua(E,H,C,xb?H+=(ha-H)*E.value/xb:ha,xa);xb-=E.value}else E._squarify=oa=U(p,E,H,C,ha,xa),oa.ratio=p}D.ratio=function(E){return r(1<
(E=+E)?E:1)};return D}(la);n.cluster=function(){function p(C){var ha,xa=0;C.eachAfter(function(ta){var eb=ta.children;if(eb){var xb=eb.reduce(ea,0)/eb.length;ta.x=xb;ta.y=1+eb.reduce(Sa,0)}else ta.x=ha?xa+=r(ta,ha):0,ta.y=0,ha=ta});var oa=Wb(C),Va=fb(C),Ja=oa.x-r(oa,Va)/2,ba=Va.x+r(Va,oa)/2;return C.eachAfter(H?function(ta){ta.x=(ta.x-C.x)*D;ta.y=(C.y-ta.y)*E}:function(ta){ta.x=(ta.x-Ja)/(ba-Ja)*D;ta.y=(1-(C.y?ta.y/C.y:1))*E})}var r=x,D=1,E=1,H=!1;p.separation=function(C){return arguments.length?
(r=C,p):r};p.size=function(C){return arguments.length?(H=!1,D=+C[0],E=+C[1],p):H?null:[D,E]};p.nodeSize=function(C){return arguments.length?(H=!0,D=+C[0],E=+C[1],p):H?[D,E]:null};return p};n.hierarchy=Ob;n.pack=function(){function p(C){C.x=D/2;C.y=E/2;r?C.eachBefore(db(r)).eachAfter(nb(H,.5)).eachBefore($a(1)):C.eachBefore(db(ib)).eachAfter(nb(Ra,1)).eachAfter(nb(H,C.r/Math.min(D,E))).eachBefore($a(Math.min(D,E)/(2*C.r)));return C}var r=null,D=1,E=1,H=Ra;p.radius=function(C){return arguments.length?
(r=null==C?null:Aa(C),p):r};p.size=function(C){return arguments.length?(D=+C[0],E=+C[1],p):[D,E]};p.padding=function(C){return arguments.length?(H="function"===typeof C?C:Ya(+C),p):H};return p};n.packEnclose=Ha;n.packSiblings=function(p){ka(p);return p};n.partition=function(){function p(ha){var xa=ha.height+1;ha.x0=ha.y0=H;ha.x1=D;ha.y1=E/xa;ha.eachBefore(r(E,xa));C&&ha.eachBefore(S);return ha}function r(ha,xa){return function(oa){oa.children&&z(oa,oa.x0,ha*(oa.depth+1)/xa,oa.x1,ha*(oa.depth+2)/xa);
var Va=oa.x0,Ja=oa.y0,ba=oa.x1-H,ta=oa.y1-H;ba<Va&&(Va=ba=(Va+ba)/2);ta<Ja&&(Ja=ta=(Ja+ta)/2);oa.x0=Va;oa.y0=Ja;oa.x1=ba;oa.y1=ta}}var D=1,E=1,H=0,C=!1;p.round=function(ha){return arguments.length?(C=!!ha,p):C};p.size=function(ha){return arguments.length?(D=+ha[0],E=+ha[1],p):[D,E]};p.padding=function(ha){return arguments.length?(H=+ha,p):H};return p};n.stratify=function(){function p(E){var H=Array.from(E),C=H.length,ha,xa,oa=new Map;for(ha=0;ha<C;++ha){var Va=H[ha];var Ja=H[ha]=new Xa(Va);if(null!=
(xa=r(Va,ha,E))&&(xa+="")){var ba=Ja.id=xa;oa.set(ba,oa.has(ba)?ua:Ja)}null!=(xa=D(Va,ha,E))&&(xa+="")&&(Ja.parent=xa)}for(ha=0;ha<C;++ha)if(Ja=H[ha],xa=Ja.parent){E=oa.get(xa);if(!E)throw Error("missing: "+xa);if(E===ua)throw Error("ambiguous: "+xa);E.children?E.children.push(Ja):E.children=[Ja];Ja.parent=E}else{if(ta)throw Error("multiple roots");var ta=Ja}if(!ta)throw Error("no root");ta.parent=sa;ta.eachBefore(function(eb){eb.depth=eb.parent.depth+1;--C}).eachBefore(rb);ta.parent=null;if(0<C)throw Error("cycle");
return ta}var r=I,D=Q;p.id=function(E){return arguments.length?(r=Aa(E),p):r};p.parentId=function(E){return arguments.length?(D=Aa(E),p):D};return p};n.tree=function(){function p(oa){var Va=Qa(oa);Va.eachAfter(r);Va.parent.m=-Va.z;Va.eachBefore(D);if(xa)oa.eachBefore(E);else{var Ja=oa,ba=oa,ta=oa;oa.eachBefore(function(fc){fc.x<Ja.x&&(Ja=fc);fc.x>ba.x&&(ba=fc);fc.depth>ta.depth&&(ta=fc)});Va=Ja===ba?1:H(Ja,ba)/2;var eb=Va-Ja.x,xb=C/(ba.x+Va+eb),Kb=ha/(ta.depth||1);oa.eachBefore(function(fc){fc.x=
(fc.x+eb)*xb;fc.y=fc.depth*Kb})}return oa}function r(oa){var Va=oa.children,Ja=oa.parent.children,ba=oa.i?Ja[oa.i-1]:null;if(Va){for(var ta=0,eb=0,xb=oa.children,Kb=xb.length,fc;0<=--Kb;)fc=xb[Kb],fc.z+=ta,fc.m+=ta,ta+=fc.s+(eb+=fc.c);Va=(Va[0].z+Va[Va.length-1].z)/2;ba?(oa.z=ba.z+H(oa._,ba._),oa.m=oa.z-Va):oa.z=Va}else ba&&(oa.z=ba.z+H(oa._,ba._));Va=oa.parent;Ja=oa.parent.A||Ja[0];if(ba){eb=ta=oa;xb=ta.parent.children[0];Kb=ta.m;fc=eb.m;for(var Ec=ba.m,gd=xb.m,Dc;ba=Y(ba),ta=W(ta),ba&&ta;){xb=W(xb);
eb=Y(eb);eb.a=oa;Dc=ba.z+Ec-ta.z-Kb+H(ba._,ta._);if(0<Dc){var Sc=ba.a.parent===oa.parent?ba.a:Ja,Ta=oa,nc=Dc,lc=nc/(Ta.i-Sc.i);Ta.c-=lc;Ta.s+=nc;Sc.c+=lc;Ta.z+=nc;Ta.m+=nc;Kb+=Dc;fc+=Dc}Ec+=ba.m;Kb+=ta.m;gd+=xb.m;fc+=eb.m}ba&&!Y(eb)&&(eb.t=ba,eb.m+=Ec-fc);ta&&!W(xb)&&(xb.t=ta,xb.m+=Kb-gd,Ja=oa)}Va.A=Ja}function D(oa){oa._.x=oa.z+oa.parent.m;oa.m+=oa.parent.m}function E(oa){oa.x*=C;oa.y=oa.depth*ha}var H=J,C=1,ha=1,xa=null;p.separation=function(oa){return arguments.length?(H=oa,p):H};p.size=function(oa){return arguments.length?
(xa=!1,C=+oa[0],ha=+oa[1],p):xa?null:[C,ha]};p.nodeSize=function(oa){return arguments.length?(xa=!0,C=+oa[0],ha=+oa[1],p):xa?[C,ha]:null};return p};n.treemap=function(){function p(ta){ta.x0=ta.y0=0;ta.x1=H;ta.y1=C;ta.eachBefore(r);ha=[0];E&&ta.eachBefore(S);return ta}function r(ta){var eb=ha[ta.depth],xb=ta.x0+eb,Kb=ta.y0+eb,fc=ta.x1-eb,Ec=ta.y1-eb;fc<xb&&(xb=fc=(xb+fc)/2);Ec<Kb&&(Kb=Ec=(Kb+Ec)/2);ta.x0=xb;ta.y0=Kb;ta.x1=fc;ta.y1=Ec;ta.children&&(eb=ha[ta.depth+1]=xa(ta)/2,xb+=ba(ta)-eb,Kb+=oa(ta)-
eb,fc-=Va(ta)-eb,Ec-=Ja(ta)-eb,fc<xb&&(xb=fc=(xb+fc)/2),Ec<Kb&&(Kb=Ec=(Kb+Ec)/2),D(ta,xb,Kb,fc,Ec))}var D=T,E=!1,H=1,C=1,ha=[0],xa=Ra,oa=Ra,Va=Ra,Ja=Ra,ba=Ra;p.round=function(ta){return arguments.length?(E=!!ta,p):E};p.size=function(ta){return arguments.length?(H=+ta[0],C=+ta[1],p):[H,C]};p.tile=function(ta){return arguments.length?(D=Aa(ta),p):D};p.padding=function(ta){return arguments.length?p.paddingInner(ta).paddingOuter(ta):p.paddingInner()};p.paddingInner=function(ta){return arguments.length?
(xa="function"===typeof ta?ta:Ya(+ta),p):xa};p.paddingOuter=function(ta){return arguments.length?p.paddingTop(ta).paddingRight(ta).paddingBottom(ta).paddingLeft(ta):p.paddingTop()};p.paddingTop=function(ta){return arguments.length?(oa="function"===typeof ta?ta:Ya(+ta),p):oa};p.paddingRight=function(ta){return arguments.length?(Va="function"===typeof ta?ta:Ya(+ta),p):Va};p.paddingBottom=function(ta){return arguments.length?(Ja="function"===typeof ta?ta:Ya(+ta),p):Ja};p.paddingLeft=function(ta){return arguments.length?
(ba="function"===typeof ta?ta:Ya(+ta),p):ba};return p};n.treemapBinary=function(p,r,D,E,H){function C(ba,ta,eb,xb,Kb,fc,Ec){if(ba>=ta-1)ba=ha[ba],ba.x0=xb,ba.y0=Kb,ba.x1=fc,ba.y1=Ec;else{for(var gd=Ja[ba],Dc=eb/2+gd,Sc=ba+1,Ta=ta-1;Sc<Ta;){var nc=Sc+Ta>>>1;Ja[nc]<Dc?Sc=nc+1:Ta=nc}Dc-Ja[Sc-1]<Ja[Sc]-Dc&&ba+1<Sc&&--Sc;gd=Ja[Sc]-gd;Dc=eb-gd;fc-xb>Ec-Kb?(eb=eb?(xb*Dc+fc*gd)/eb:fc,C(ba,Sc,gd,xb,Kb,eb,Ec),C(Sc,ta,Dc,eb,Kb,fc,Ec)):(eb=eb?(Kb*Dc+Ec*gd)/eb:Ec,C(ba,Sc,gd,xb,Kb,fc,eb),C(Sc,ta,Dc,xb,eb,fc,Ec))}}
var ha=p.children,xa,oa=ha.length,Va,Ja=Array(oa+1);for(Ja[0]=Va=xa=0;xa<oa;++xa)Ja[xa+1]=Va+=ha[xa].value;C(0,oa,p.value,r,D,E,H)};n.treemapDice=z;n.treemapResquarify=la;n.treemapSlice=Ua;n.treemapSliceDice=function(p,r,D,E,H){(p.depth&1?Ua:z)(p,r,D,E,H)};n.treemapSquarify=T;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[52]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(17),Rb(51)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-hierarchy"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.d3))})(this,function(n,x,ea,Sa){function Wb(Ca,bb,La){const ka={};Ca.each(Aa=>{const Ra=Aa.data;La(Ra)&&(ka[bb(Ra)]=Aa)});Ca.lookup=ka;return Ca}function fb(Ca){x.Transform.call(this,null,
Ca)}function ub(){function Ca(Aa,Ra){if(Ra>=La.length)return Aa;const Ya=Aa.length,ib=La[Ra++],db={},nb={};let $a=-1,S,z,I;for(;++$a<Ya;)S=ib(z=Aa[$a])+"",(I=db[S])?I.push(z):db[S]=[z];for(S in db)nb[S]=Ca(db[S],Ra);return nb}function bb(Aa,Ra){if(++Ra>La.length)return Aa;const Ya=[];for(const ib in Aa)Ya.push({key:ib,values:bb(Aa[ib],Ra)});return Ya}const La=[],ka={entries:Aa=>bb(Ca(Aa,0),0),key:Aa=>(La.push(Aa),ka)};return ka}function Ob(Ca){x.Transform.call(this,null,Ca)}function zb(Ca,bb,La){for(let ka,
Aa=0,Ra=bb.length;Aa<Ra;++Aa)if(ka=bb[Aa],ka in La)Ca[ka](La[ka])}function cb(Ca){Ob.call(this,Ca)}function ob(Ca){Ob.call(this,Ca)}function rb(Ca){x.Transform.call(this,null,Ca)}function Xa(Ca){Ob.call(this,Ca)}function Ha(Ca){x.Transform.call(this,[],Ca)}function Ia(Ca){Ob.call(this,Ca)}fb.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Za=Ca=>Ca.values;ea.inherits(fb,x.Transform,{transform(Ca,bb){bb.source||
ea.error("Nest transform requires an upstream data source.");var La=Ca.generate,ka=Ca.modified(),Aa=bb.clone(),Ra=this.value;if(!Ra||ka||bb.changed())Ra&&Ra.each(Ya=>{Ya.children&&x.isTuple(Ya.data)&&Aa.rem.push(Ya.data)}),this.value=Ra=Sa.hierarchy({values:ea.array(Ca.keys).reduce((Ya,ib)=>{Ya.key(ib);return Ya},ub()).entries(Aa.source)},Za),La&&Ra.each(Ya=>{Ya.children&&(Ya=x.ingest(Ya.data),Aa.add.push(Ya),Aa.source.push(Ya))}),Wb(Ra,x.tupleid,x.tupleid);Aa.source.root=Ra;return Aa}});const mb=
(Ca,bb)=>Ca.parent===bb.parent?1:2;ea.inherits(Ob,x.Transform,{transform(Ca,bb){bb.source&&bb.source.root||ea.error(this.constructor.name+" transform requires a backing tree data source.");const La=this.layout(Ca.method),ka=this.fields,Aa=bb.source.root,Ra=Ca.as||ka;Ca.field?Aa.sum(Ca.field):Aa.count();Ca.sort&&Aa.sort(x.stableCompare(Ca.sort,Ya=>Ya.data));zb(La,this.params,Ca);La.separation&&La.separation(!1!==Ca.separation?mb:ea.one);try{this.value=La(Aa)}catch(Ya){ea.error(Ya)}Aa.each(Ya=>{{const ib=
Ya.data,db=ka.length-1;for(let nb=0;nb<db;++nb)ib[Ra[nb]]=Ya[ka[nb]];ib[Ra[db]]=Ya.children?Ya.children.length:0}});return bb.reflow(Ca.modified()).modifies(Ra).modifies("leaf")}});var Da=["x","y","r","depth","children"];cb.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",
array:!0,length:Da.length,"default":Da}]};ea.inherits(cb,Ob,{layout:Sa.pack,params:["radius","size","padding"],fields:Da});Da="x0 y0 x1 y1 depth children".split(" ");ob.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Da.length,"default":Da}]};ea.inherits(ob,
Ob,{layout:Sa.partition,params:["size","round","padding"],fields:Da});rb.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};ea.inherits(rb,x.Transform,{transform(Ca,bb){bb.source||ea.error("Stratify transform requires an upstream data source.");let La=this.value;const ka=Ca.modified(),Aa=bb.fork(bb.ALL).materialize(bb.SOURCE);bb=!La||ka||bb.changed(bb.ADD_REM)||bb.modified(Ca.key.fields)||bb.modified(Ca.parentKey.fields);
Aa.source=Aa.source.slice();bb&&(La=Aa.source.length?Wb(Sa.stratify().id(Ca.key).parentId(Ca.parentKey)(Aa.source),Ca.key,ea.truthy):Wb(Sa.stratify()([{}]),Ca.key,Ca.key));Aa.source.root=this.value=La;return Aa}});const Fa={tidy:Sa.tree,cluster:Sa.cluster};Da=["x","y","depth","children"];Xa.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",
array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Da.length,"default":Da}]};ea.inherits(Xa,Ob,{layout(Ca){Ca=Ca||"tidy";if(ea.hasOwnProperty(Fa,Ca))return Fa[Ca]();ea.error("Unrecognized Tree layout method: "+Ca)},params:["size","nodeSize"],fields:Da});Ha.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};ea.inherits(Ha,x.Transform,{transform(Ca,bb){Ca=this.value;
const La=bb.source&&bb.source.root,ka=bb.fork(bb.NO_SOURCE),Aa={};La||ea.error("TreeLinks transform requires a tree data source.");bb.changed(bb.ADD_REM)?(ka.rem=Ca,bb.visit(bb.SOURCE,Ra=>Aa[x.tupleid(Ra)]=1),La.each(Ra=>{const Ya=Ra.data;(Ra=Ra.parent&&Ra.parent.data)&&Aa[x.tupleid(Ya)]&&Aa[x.tupleid(Ra)]&&ka.add.push(x.ingest({source:Ra,target:Ya}))}),this.value=ka.add):bb.changed(bb.MOD)&&(bb.visit(bb.MOD,Ra=>Aa[x.tupleid(Ra)]=1),Ca.forEach(Ra=>{(Aa[x.tupleid(Ra.source)]||Aa[x.tupleid(Ra.target)])&&
ka.mod.push(Ra)}));return ka}});const hb={binary:Sa.treemapBinary,dice:Sa.treemapDice,slice:Sa.treemapSlice,slicedice:Sa.treemapSliceDice,squarify:Sa.treemapSquarify,resquarify:Sa.treemapResquarify};Da="x0 y0 x1 y1 depth children".split(" ");Ia.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",
type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Da.length,
"default":Da}]};ea.inherits(Ia,Ob,{layout(){const Ca=Sa.treemap();Ca.ratio=bb=>{const La=Ca.tile();La.ratio&&Ca.tile(La.ratio(bb))};Ca.method=bb=>{ea.hasOwnProperty(hb,bb)?Ca.tile(hb[bb]):ea.error("Unrecognized Treemap layout method: "+bb)};return Ca},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),fields:Da});n.nest=fb;n.pack=cb;n.partition=ob;n.stratify=rb;n.tree=Xa;n.treelinks=Ha;n.treemap=Ia;Object.defineProperty(n,
"__esModule",{value:!0})})};
shadow$provide[53]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(34),Rb(29),Rb(39),Rb(17)):"function"===typeof define&&define.amd?define(["exports","vega-canvas","vega-dataflow","vega-scenegraph","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa,Wb){function fb($a,S){const z=$a.bitmap();(S||[]).forEach(I=>z.set($a(I.boundary[0]),$a(I.boundary[3])));
return[z,void 0]}function ub($a,S,z,I){const Q=$a.width,J=$a.height,W=z||I,Y=x.canvas(Q,J).getContext("2d");S.forEach(la=>Ob(Y,la,W));S=new Uint32Array(Y.getImageData(0,0,Q,J).data.buffer);z=$a.bitmap();const ma=W&&$a.bitmap();let Qa,Ua,U,sa,ua;for(Ua=0;Ua<J;++Ua)for(Qa=0;Qa<Q;++Qa)if(ua=S[Ua*Q+Qa]&4278190080)U=$a(Qa),sa=$a(Ua),I||z.set(U,sa),W&&ua^268435456&&ma.set(U,sa);return[z,ma]}function Ob($a,S,z){if(S.length){var I=S[0].mark.marktype;"group"===I?S.forEach(Q=>{Q.items.forEach(J=>Ob($a,J.items,
z))}):Sa.Marks[I].draw($a,{items:z?S.map(zb):S})}}function zb($a){$a=ea.rederive($a,{});$a.stroke&&($a.strokeOpacity=1);$a.fill&&($a.fillOpacity=.0625,$a.stroke="#000",$a.strokeOpacity=1,$a.strokeWidth=2);return $a}function cb($a,S){const z=new Uint32Array(~~(($a*S+32)/32));return{array:z,get:(I,Q)=>{I=Q*$a+I;return z[I>>>5]&1<<(I&31)},set:(I,Q)=>{I=Q*$a+I;z[I>>>5]|=1<<(I&31)},clear:(I,Q)=>{I=Q*$a+I;z[I>>>5]&=~(1<<(I&31))},getRange:(I,Q,J,W)=>{let Y,ma,Qa;for(;W>=Q;--W){var Ua=W*$a+I;Y=W*$a+J;ma=
Ua>>>5;Qa=Y>>>5;if(ma===Qa){if(z[ma]&Ca[Ua&31]&bb[(Y&31)+1])return!0}else{if(z[ma]&Ca[Ua&31]||z[Qa]&bb[(Y&31)+1])return!0;for(Ua=ma+1;Ua<Qa;++Ua)if(z[Ua])return!0}}return!1},setRange:(I,Q,J,W)=>{let Y,ma,Qa;for(;Q<=W;++Q){var Ua=Q*$a+I;Y=Q*$a+J;ma=Ua>>>5;Qa=Y>>>5;if(ma===Qa)z[ma]|=Ca[Ua&31]&bb[(Y&31)+1];else for(z[ma]|=Ca[Ua&31],z[Qa]|=bb[(Y&31)+1],Ua=ma+1;Ua<Qa;++Ua)z[Ua]|=4294967295}},clearRange:(I,Q,J,W)=>{let Y,ma,Qa;for(;Q<=W;++Q){var Ua=Q*$a+I;Y=Q*$a+J;ma=Ua>>>5;Qa=Y>>>5;if(ma===Qa)z[ma]&=bb[Ua&
31]|Ca[(Y&31)+1];else for(z[ma]&=bb[Ua&31],z[Qa]&=Ca[(Y&31)+1],Ua=ma+1;Ua<Qa;++Ua)z[Ua]&=0}},outOfBounds:(I,Q,J,W)=>0>I||0>Q||W>=S||J>=$a}}function ob($a,S,z){const I=Math.max(1,Math.sqrt($a*S/1E6)),Q=~~(($a+2*z+I)/I),J=~~((S+2*z+I)/I),W=Y=>~~((Y+z)/I);W.invert=Y=>Y*I-z;W.bitmap=()=>cb(Q,J);W.ratio=I;W.padding=z;W.width=$a;W.height=S;return W}function rb($a,S,z,I,Q,J){z/=2;return 0>$a-z||$a+z>Q||0>S-(z=I/2)||S+z>J}function Xa($a,S,z,I,Q,J,W,Y){Q=Q*J/(2*I);I=$a(S-Q);S=$a(S+Q);Q=$a(z-(J/=2));$a=$a(z+
J);return W.outOfBounds(I,Q,S,$a)||W.getRange(I,Q,S,$a)||Y&&Y.getRange(I,Q,S,$a)}function Ha($a,S,z,I){const Q=$a.width,J=$a.height,W=S[0],Y=S[1],ma=I.length;return function(Qa){const Ua=Qa.boundary,U=Qa.datum.fontSize;if(0>Ua[2]||0>Ua[5]||Ua[0]>Q||Ua[3]>J)return!1;let sa=0,ua,la;let T,v;let w;let p;let r,D;for(let Sc=0;Sc<ma;++Sc){ua=(z[Sc]&3)-1;la=(z[Sc]>>>2&3)-1;var E=0===ua&&0===la||0>I[Sc];var H=ua&&la?Math.SQRT1_2:1;T=0>I[Sc]?-1:1;v=Ua[1+ua]+I[Sc]*ua*H;p=Ua[4+la]+T*U*la/2+I[Sc]*la*H;H=p-U/2;
w=p+U/2;var C=$a(v);r=$a(H);D=$a(w);if(!sa){var ha=C;var xa=r;var oa=D;var Va=W,Ja=Y,ba=v,ta=v,eb=H,xb=w,Kb=Ua,fc=E;if(!Va.outOfBounds(ha,xa,C,oa)&&(fc&&Ja?!Ja.getRange(ha,xa,C,oa)&&Kb[0]<=ba&&ta<=Kb[2]&&Kb[3]<=eb&&xb<=Kb[5]:!Va.getRange(ha,xa,C,oa)))sa=Sa.textMetrics.width(Qa.datum,Qa.datum.text);else continue}xa=v+T*sa*ua/2;v=xa-sa/2;ha=xa+sa/2;C=$a(v);oa=$a(ha);Va=C;Ja=oa;ba=r;ta=D;eb=W;xb=Y;Kb=v;fc=ha;var Ec=H,gd=w,Dc=Ua;if(!eb.outOfBounds(Va,ba,Ja,ta)&&(E&&xb?!xb.getRange(Va,ba,Ja,ta)&&Dc[0]<=
Kb&&fc<=Dc[2]&&Dc[3]<=Ec&&gd<=Dc[5]:!eb.getRange(Va,ba,Ja,ta)))return Qa.x=ua?0>ua*T?ha:v:xa,Qa.y=la?0>la*T?w:H:p,Qa.align=Aa[ua*T+1],Qa.baseline=Ra[la*T+1],W.setRange(C,r,oa,D),!0}return!1}}function Ia($a,S,z,I,Q,J,W,Y,ma,Qa,Ua){if(!$a.length)return $a;var U=Math.max(I.length,Q.length);I=Za(I,U);Q=mb(Q,U);U=Da($a[0].datum);const sa="group"===U&&$a[0].datum.items[ma].marktype,ua="area"===sa,la=Fa(U,sa,Y,ma);S=ob(S[0],S[1],Qa);Qa=ua&&"naive"===Ua;Y=$a.map(w=>({datum:w,opacity:0,x:void 0,y:void 0,align:void 0,
baseline:void 0,boundary:la(w)}));if(!Qa){z&&Y.sort((w,p)=>z(w.datum,p.datum));var T=!1;for(Qa=0;Qa<Q.length&&!T;++Qa)T=5===Q[Qa]||0>I[Qa];U&&(W||ua)&&(J=[$a.map(w=>w.datum)].concat(J));T=J.length?ub(S,J,T,ua):fb(S,W&&Y)}const v=ua?ib[Ua](S,T,W,ma):Ha(S,T,Q,I);Y.forEach(w=>w.opacity=+v(w));return Y}function Za($a,S){const z=new Float64Array(S),I=$a.length;for(let Q=0;Q<I;++Q)z[Q]=$a[Q]||0;for($a=I;$a<S;++$a)z[$a]=z[I-1];return z}function mb($a,S){const z=new Int8Array(S),I=$a.length;for(let Q=0;Q<
I;++Q)z[Q]|=Ya[$a[Q]];for($a=I;$a<S;++$a)z[$a]=z[I-1];return z}function Da($a){return $a&&$a.mark&&$a.mark.marktype}function Fa($a,S,z,I){const Q=J=>[J.x,J.x,J.x,J.y,J.y,J.y];return $a?"line"===$a||"area"===$a?J=>Q(J.datum):"line"===S?J=>{J=J.datum.items[I].items;return Q(J.length?J["start"===z?0:J.length-1]:{x:NaN,y:NaN})}:J=>{J=J.datum.bounds;return[J.x1,(J.x1+J.x2)/2,J.x2,J.y1,(J.y1+J.y2)/2,J.y2]}:Q}function hb($a){ea.Transform.call(this,null,$a)}const Ca=new Uint32Array(33),bb=new Uint32Array(33);
bb[0]=0;Ca[0]=~bb[0];for(let $a=1;32>=$a;++$a)bb[$a]=bb[$a-1]<<1|1,Ca[$a]=~bb[$a];const La=[-1,-1,1,1],ka=[-1,1,-1,1],Aa=["right","center","left"],Ra=["bottom","middle","top"],Ya={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},ib={naive:function($a,S,z,I){const Q=$a.width,J=$a.height;return function(W){const Y=W.datum.datum.items[I].items,ma=Y.length,Qa=W.datum.fontSize,Ua=Sa.textMetrics.width(W.datum,W.datum.text);let U=0;let sa,ua,la,T,v;for(let p=
0;p<ma;++p){var w=Y[p].x;ua=Y[p].y;sa=void 0===Y[p].x2?w:Y[p].x2;la=void 0===Y[p].y2?ua:Y[p].y2;T=(w+sa)/2;v=(ua+la)/2;w=Math.abs(sa-w+la-ua);w>=U&&(U=w,W.x=T,W.y=v)}T=Ua/2;v=Qa/2;w=W.x-T;sa=W.x+T;ua=W.y-v;la=W.y+v;W.align="center";0>w&&sa<=Q?W.align="left":0<=w&&Q<sa&&(W.align="right");W.baseline="middle";0>ua&&la<=J?W.baseline="top":0<=ua&&J<la&&(W.baseline="bottom");return!0}},"reduced-search":function($a,S,z,I){function Q(Qa,Ua,U,sa,ua){Qa=$a.invert(Qa);Ua=$a.invert(Ua);let la=U,T=W,v;if(!rb(Qa,
Ua,sa,ua,J,W)&&!Xa($a,Qa,Ua,ua,sa,la,Y,ma)&&!Xa($a,Qa,Ua,ua,sa,ua,Y,null)){for(;1<=T-la;)v=(la+T)/2,Xa($a,Qa,Ua,ua,sa,v,Y,ma)?T=v:la=v;if(la>U)return[Qa,Ua,la,!0]}}const J=$a.width,W=$a.height,Y=S[0],ma=S[1];return function(Qa){const Ua=Qa.datum.datum.items[I].items,U=Ua.length,sa=Qa.datum.fontSize,ua=Sa.textMetrics.width(Qa.datum,Qa.datum.text);let la=z?sa:0,T=!1,v=!1,w=0;let p;let r;let D,E,H,C,ha,xa,oa,Va;for(let eb=0;eb<U;++eb){var Ja=Ua[eb].x;var ba=Ua[eb].y;p=void 0===Ua[eb].x2?Ja:Ua[eb].x2;
r=void 0===Ua[eb].y2?ba:Ua[eb].y2;if(Ja>p){var ta=Ja;Ja=p;p=ta}ba>r&&(ta=ba,ba=r,r=ta);E=$a(Ja);C=$a(p);H=~~((E+C)/2);ha=$a(ba);oa=$a(r);xa=~~((ha+oa)/2);for(ta=H;ta>=E;--ta)for(D=xa;D>=ha;--D)(Va=Q(ta,D,la,ua,sa))&&([Qa.x,Qa.y,la,T]=Va);for(ta=H;ta<=C;++ta)for(D=xa;D<=oa;++D)(Va=Q(ta,D,la,ua,sa))&&([Qa.x,Qa.y,la,T]=Va);T||z||(ta=Math.abs(p-Ja+r-ba),Ja=(Ja+p)/2,ba=(ba+r)/2,ta>=w&&!rb(Ja,ba,ua,sa,J,W)&&!Xa($a,Ja,ba,sa,ua,sa,Y,null)&&(w=ta,Qa.x=Ja,Qa.y=ba,v=!0))}return T||v?(Ja=ua/2,ba=sa/2,Y.setRange($a(Qa.x-
Ja),$a(Qa.y-ba),$a(Qa.x+Ja),$a(Qa.y+ba)),Qa.align="center",Qa.baseline="middle",!0):!1}},floodfill:function($a,S,z,I){const Q=$a.width,J=$a.height,W=S[0],Y=S[1],ma=$a.bitmap();return function(Qa){const Ua=Qa.datum.datum.items[I].items,U=Ua.length,sa=Qa.datum.fontSize,ua=Sa.textMetrics.width(Qa.datum,Qa.datum.text),la=[];let T=z?sa:0,v=!1,w=!1,p=0,r,D,E,H,C,ha;var xa;for(let Ja=0;Ja<U;++Ja){r=Ua[Ja].x;E=Ua[Ja].y;D=void 0===Ua[Ja].x2?r:Ua[Ja].x2;H=void 0===Ua[Ja].y2?E:Ua[Ja].y2;for(la.push([$a((r+D)/
2),$a((E+H)/2)]);la.length;)if([oa,Va]=la.pop(),!(W.get(oa,Va)||Y.get(oa,Va)||ma.get(oa,Va))){ma.set(oa,Va);for(xa=0;4>xa;++xa)C=oa+La[xa],ha=Va+ka[xa],ma.outOfBounds(C,ha,C,ha)||la.push([C,ha]);C=$a.invert(oa);ha=$a.invert(Va);var oa=T;var Va=J;if(!rb(C,ha,ua,sa,Q,J)&&!Xa($a,C,ha,sa,ua,oa,W,Y)&&!Xa($a,C,ha,sa,ua,sa,W,null)){for(;1<=Va-oa;)xa=(oa+Va)/2,Xa($a,C,ha,sa,ua,xa,W,Y)?Va=xa:oa=xa;oa>T&&(Qa.x=C,Qa.y=ha,T=oa,v=!0)}}v||z||(oa=Math.abs(D-r+H-E),C=(r+D)/2,ha=(E+H)/2,oa>=p&&!rb(C,ha,ua,sa,Q,J)&&
!Xa($a,C,ha,sa,ua,sa,W,null)&&(p=oa,Qa.x=C,Qa.y=ha,w=!0))}return v||w?(C=ua/2,ha=sa/2,W.setRange($a(Qa.x-C),$a(Qa.y-ha),$a(Qa.x+C),$a(Qa.y+ha)),Qa.align="center",Qa.baseline="middle",!0):!1}}},db=["x","y","opacity","align","baseline"],nb="top-left left bottom-left top bottom top-right right bottom-right".split(" ");hb.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,
default:nb},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:db.length,default:db}]};Wb.inherits(hb,ea.Transform,{transform($a,S){function z(J){J=$a[J];return Wb.isFunction(J)&&
S.modified(J.fields)}const I=$a.modified();if(I||S.changed(S.ADD_REM)||z("sort")){$a.size&&2===$a.size.length||Wb.error("Size parameter should be specified as a [width, height] array.");var Q=$a.as||db;Ia(S.materialize(S.SOURCE).source,$a.size,$a.sort,Wb.array($a.offset||1),Wb.array($a.anchor||nb),$a.avoidMarks||[],!1===$a.avoidBaseMark?!1:!0,$a.lineAnchor||"end",$a.markIndex||0,$a.padding||0,$a.method||"naive").forEach(J=>{const W=J.datum;W[Q[0]]=J.x;W[Q[1]]=J.y;W[Q[2]]=J.opacity;W[Q[3]]=J.align;
W[Q[4]]=J.baseline});return S.reflow(I).modifies(Q)}}});n.label=hb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[54]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(30),Rb(29),Rb(17)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa){function Wb(zb,cb){var ob=[],rb=function(Fa){return Fa(Za)},Xa;if(null==cb)ob.push(zb);else{var Ha={};var Ia=0;for(Xa=zb.length;Ia<Xa;++Ia){var Za=zb[Ia];
var mb=cb.map(rb);var Da=Ha[mb];Da||(Ha[mb]=Da=[],Da.dims=mb,ob.push(Da));Da.push(Za)}}return ob}function fb(zb){ea.Transform.call(this,null,zb)}function ub(zb){ea.Transform.call(this,null,zb)}fb.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};Sa.inherits(fb,ea.Transform,{transform(zb,cb){const ob=
cb.fork(cb.NO_SOURCE|cb.NO_FIELDS);if(!this.value||cb.changed()||zb.modified()){cb=cb.materialize(cb.SOURCE).source;cb=Wb(cb,zb.groupby);const rb=(zb.groupby||[]).map(Sa.accessorName),Xa=rb.length,Ha=zb.as||[Sa.accessorName(zb.x),Sa.accessorName(zb.y)],Ia=[];cb.forEach(Za=>{x.regressionLoess(Za,zb.x,zb.y,zb.bandwidth||.3).forEach(mb=>{const Da={};for(let Fa=0;Fa<Xa;++Fa)Da[rb[Fa]]=Za.dims[Fa];Da[Ha[0]]=mb[0];Da[Ha[1]]=mb[1];Ia.push(ea.ingest(Da))})});this.value&&(ob.rem=this.value);this.value=ob.add=
ob.source=Ia}return ob}});const Ob={linear:x.regressionLinear,log:x.regressionLog,exp:x.regressionExp,pow:x.regressionPow,quad:x.regressionQuad,poly:x.regressionPoly};ub.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(Ob)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},
{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};Sa.inherits(ub,ea.Transform,{transform(zb,cb){const ob=cb.fork(cb.NO_SOURCE|cb.NO_FIELDS);if(!this.value||cb.changed()||zb.modified()){var rb=cb.materialize(cb.SOURCE).source;rb=Wb(rb,zb.groupby);const Xa=(zb.groupby||[]).map(Sa.accessorName),Ha=zb.method||"linear",Ia=zb.order||3,Za="poly"===Ha?Ia:"quad"===Ha?2:1,mb=zb.as||[Sa.accessorName(zb.x),Sa.accessorName(zb.y)],Da=Ob[Ha],Fa=[];let hb=zb.extent;Sa.hasOwnProperty(Ob,
Ha)||Sa.error("Invalid regression method: "+Ha);null!=hb&&"log"===Ha&&0>=hb[0]&&(cb.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),hb=null);rb.forEach(Ca=>{if(Ca.length<=Za)cb.dataflow.warn("Skipping regression with more parameters than data points.");else{var bb=Da(Ca,zb.x,zb.y,Ia);if(zb.params)Fa.push(ea.ingest({keys:Ca.dims,coef:bb.coef,rSquared:bb.rSquared}));else{var La=hb||Sa.extent(Ca,zb.x),ka=Aa=>{const Ra={};for(let Ya=0;Ya<Xa.length;++Ya)Ra[Xa[Ya]]=Ca.dims[Ya];
Ra[mb[0]]=Aa[0];Ra[mb[1]]=Aa[1];Fa.push(ea.ingest(Ra))};"linear"===Ha?La.forEach(Aa=>ka([Aa,bb.predict(Aa)])):x.sampleCurve(bb.predict,La,25,200).forEach(ka)}}});this.value&&(ob.rem=this.value);this.value=ob.add=ob.source=Fa}return ob}});n.loess=fb;n.regression=ub;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[55]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n=n||self,x(n.d3=n.d3||{}))})(this,function(n){function x(ka,Aa){ka/=Math.abs(ka)+Math.abs(Aa);return(0<Aa?3-ka:1+ka)/4}function ea(ka,Aa,Ra,Ya){ka-=Ra;Aa-=Ya;return ka*ka+Aa*Aa}function Sa(ka,Aa,Ra,Ya,ib,db){Ya=(Ya-Aa)*(ib-ka);ka=(Ra-ka)*(db-Aa);return Math.abs(Ya-ka)>=3.3306690738754716E-16*Math.abs(Ya+ka)?Ya-ka:0}function Wb(ka,
Aa,Ra,Ya,ib,db){return 0>(Sa(ib,db,ka,Aa,Ra,Ya)||Sa(ka,Aa,Ra,Ya,ib,db)||Sa(Ra,Ya,ib,db,ka,Aa))}function fb(ka,Aa,Ra,Ya){if(20>=Ya-Ra)for(var ib=Ra+1;ib<=Ya;ib++){for(var db=ka[ib],nb=Aa[db],$a=ib-1;$a>=Ra&&Aa[ka[$a]]>nb;)ka[$a+1]=ka[$a--];ka[$a+1]=db}else{ib=Ra+1;db=Ya;ub(ka,Ra+Ya>>1,ib);Aa[ka[Ra]]>Aa[ka[Ya]]&&ub(ka,Ra,Ya);Aa[ka[ib]]>Aa[ka[Ya]]&&ub(ka,ib,Ya);Aa[ka[Ra]]>Aa[ka[ib]]&&ub(ka,Ra,ib);nb=ka[ib];for($a=Aa[nb];;){do ib++;while(Aa[ka[ib]]<$a);do db--;while(Aa[ka[db]]>$a);if(db<ib)break;ub(ka,
ib,db)}ka[Ra+1]=ka[db];ka[db]=nb;Ya-ib+1>=db-Ra?(fb(ka,Aa,ib,Ya),fb(ka,Aa,Ra,db-1)):(fb(ka,Aa,Ra,db-1),fb(ka,Aa,ib,Ya))}}function ub(ka,Aa,Ra){const Ya=ka[Aa];ka[Aa]=ka[Ra];ka[Ra]=Ya}function Ob(ka){return ka[0]}function zb(ka){return ka[1]}function cb(ka){return ka[0]}function ob(ka){return ka[1]}function rb(ka){const {triangles:Aa,coords:Ra}=ka;for(ka=0;ka<Aa.length;ka+=3){const Ya=2*Aa[ka],ib=2*Aa[ka+1],db=2*Aa[ka+2];if(1E-10<(Ra[db]-Ra[Ya])*(Ra[ib+1]-Ra[Ya+1])-(Ra[ib]-Ra[Ya])*(Ra[db+1]-Ra[Ya+
1]))return!1}return!0}function Xa(ka,Aa,Ra){return[ka+Math.sin(ka+Aa)*Ra,Aa+Math.cos(ka-Aa)*Ra]}function*Ha(ka,Aa,Ra,Ya){let ib=0;for(const db of ka)yield Aa.call(Ya,db,ib,ka),yield Ra.call(Ya,db,ib,ka),++ib}const Ia=Math.pow(2,-52),Za=new Uint32Array(512);class mb{static from(ka,Aa=Ob,Ra=zb){const Ya=ka.length,ib=new Float64Array(2*Ya);for(let db=0;db<Ya;db++){const nb=ka[db];ib[2*db]=Aa(nb);ib[2*db+1]=Ra(nb)}return new mb(ib)}constructor(ka){const Aa=ka.length>>1;if(0<Aa&&"number"!==typeof ka[0])throw Error("Expected coords to contain numbers.");
this.coords=ka;ka=Math.max(2*Aa-5,0);this._triangles=new Uint32Array(3*ka);this._halfedges=new Int32Array(3*ka);this._hashSize=Math.ceil(Math.sqrt(Aa));this._hullPrev=new Uint32Array(Aa);this._hullNext=new Uint32Array(Aa);this._hullTri=new Uint32Array(Aa);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);this._ids=new Uint32Array(Aa);this._dists=new Float64Array(Aa);this.update()}update(){const {coords:ka,_hullPrev:Aa,_hullNext:Ra,_hullTri:Ya,_hullHash:ib}=this;var db=ka.length>>1,nb=Infinity,
$a=Infinity,S=-Infinity,z=-Infinity;for(var I=0;I<db;I++){var Q=ka[2*I];var J=ka[2*I+1];Q<nb&&(nb=Q);J<$a&&($a=J);Q>S&&(S=Q);J>z&&(z=J);this._ids[I]=I}S=(nb+S)/2;$a=($a+z)/2;nb=Infinity;for(z=0;z<db;z++)if(I=ea(S,$a,ka[2*z],ka[2*z+1]),I<nb){var W=z;nb=I}$a=ka[2*W];z=ka[2*W+1];nb=Infinity;for(S=0;S<db;S++)if(S!==W&&(I=ea($a,z,ka[2*S],ka[2*S+1]),I<nb&&0<I)){var Y=S;nb=I}nb=ka[2*Y];S=ka[2*Y+1];J=Infinity;for(I=0;I<db;I++)if(I!==W&&I!==Y){Q=nb-$a;var ma=S-z;var Qa=ka[2*I]-$a;var Ua=ka[2*I+1]-z,U=Q*Q+
ma*ma,sa=Qa*Qa+Ua*Ua,ua=.5/(Q*Ua-ma*Qa);ma=(Ua*U-ma*sa)*ua;Q=(Q*sa-Qa*U)*ua;Q=ma*ma+Q*Q;if(Q<J){var la=I;J=Q}}I=ka[2*la];Q=ka[2*la+1];if(Infinity===J){for(W=0;W<db;W++)this._dists[W]=ka[2*W]-ka[0]||ka[2*W+1]-ka[1];fb(this._ids,this._dists,0,db-1);W=new Uint32Array(db);Y=0;for(let T=0,v=-Infinity;T<db;T++)la=this._ids[T],this._dists[la]>v&&(W[Y++]=la,v=this._dists[la]);this.hull=W.subarray(0,Y);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{Wb($a,z,nb,S,I,Q)&&(J=Y,Qa=nb,U=
S,Y=la,nb=I,S=Q,la=J,I=Qa,Q=U);Qa=nb-$a;J=S-z;U=I-$a;Ua=Q-z;sa=Qa*Qa+J*J;ua=U*U+Ua*Ua;ma=.5/(Qa*Ua-J*U);J=$a+(Ua*sa-J*ua)*ma;Qa=z+(Qa*ua-U*sa)*ma;this._cx=J;this._cy=Qa;for(U=0;U<db;U++)this._dists[U]=ea(ka[2*U],ka[2*U+1],J,Qa);fb(this._ids,this._dists,0,db-1);this._hullStart=W;db=3;Ra[W]=Aa[la]=Y;Ra[Y]=Aa[W]=la;Ra[la]=Aa[Y]=W;Ya[W]=0;Ya[Y]=1;Ya[la]=2;ib.fill(-1);ib[this._hashKey($a,z)]=W;ib[this._hashKey(nb,S)]=Y;ib[this._hashKey(I,Q)]=la;this.trianglesLen=0;this._addTriangle(W,Y,la,-1,-1,-1);for(let T=
0,v,w;T<this._ids.length;T++){$a=this._ids[T];z=ka[2*$a];nb=ka[2*$a+1];if(0<T&&Math.abs(z-v)<=Ia&&Math.abs(nb-w)<=Ia)continue;v=z;w=nb;if($a===W||$a===Y||$a===la)continue;S=0;for(let r=0,D=this._hashKey(z,nb);r<this._hashSize&&(S=ib[(D+r)%this._hashSize],-1===S||S===Ra[S]);r++);I=S=Aa[S];let p;for(;p=Ra[I],!Wb(z,nb,ka[2*I],ka[2*I+1],ka[2*p],ka[2*p+1]);)if(I=p,I===S){I=-1;break}if(-1!==I){Q=this._addTriangle(I,$a,Ra[I],-1,-1,Ya[I]);Ya[$a]=this._legalize(Q+2);Ya[I]=Q;db++;for(J=Ra[I];p=Ra[J],Wb(z,nb,
ka[2*J],ka[2*J+1],ka[2*p],ka[2*p+1]);)Q=this._addTriangle(J,$a,p,Ya[$a],-1,Ya[J]),Ya[$a]=this._legalize(Q+2),Ra[J]=J,db--,J=p;if(I===S)for(;p=Aa[I],Wb(z,nb,ka[2*p],ka[2*p+1],ka[2*I],ka[2*I+1]);)Q=this._addTriangle(p,$a,I,-1,Ya[I],Ya[p]),this._legalize(Q+2),Ya[p]=Q,Ra[I]=I,db--,I=p;this._hullStart=Aa[$a]=I;Ra[I]=Aa[J]=$a;Ra[$a]=J;ib[this._hashKey(z,nb)]=$a;ib[this._hashKey(ka[2*I],ka[2*I+1])]=I}}this.hull=new Uint32Array(db);for(let T=0,v=this._hullStart;T<db;T++)this.hull[T]=v,v=Ra[v];this.triangles=
this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(ka,Aa){return Math.floor(x(ka-this._cx,Aa-this._cy)*this._hashSize)%this._hashSize}_legalize(ka){const {_triangles:Aa,_halfedges:Ra,coords:Ya}=this;let ib=0;for(var db;;){const W=Ra[ka];var nb=ka-ka%3;db=nb+(ka+2)%3;if(-1===W){if(0===ib)break;ka=Za[--ib];continue}const Y=W-W%3,ma=Y+(W+2)%3;var $a=Aa[db],S=Aa[ka],z=Aa[nb+(ka+1)%3];nb=Aa[ma];{var I=Ya[2*nb],Q=Ya[2*nb+1];var J=Ya[2*$a]-
I;const Qa=Ya[2*$a+1]-Q,Ua=Ya[2*S]-I;S=Ya[2*S+1]-Q;I=Ya[2*z]-I;Q=Ya[2*z+1]-Q;z=Ua*Ua+S*S;const U=I*I+Q*Q;J=0>J*(S*U-z*Q)-Qa*(Ua*U-z*I)+(J*J+Qa*Qa)*(Ua*Q-S*I)}if(J){Aa[ka]=nb;Aa[W]=$a;$a=Ra[ma];if(-1===$a){nb=this._hullStart;do{if(this._hullTri[nb]===ma){this._hullTri[nb]=ka;break}nb=this._hullPrev[nb]}while(nb!==this._hullStart)}this._link(ka,$a);this._link(W,Ra[db]);this._link(db,ma);db=Y+(W+1)%3;ib<Za.length&&(Za[ib++]=db)}else{if(0===ib)break;ka=Za[--ib]}}return db}_link(ka,Aa){this._halfedges[ka]=
Aa;-1!==Aa&&(this._halfedges[Aa]=ka)}_addTriangle(ka,Aa,Ra,Ya,ib,db){const nb=this.trianglesLen;this._triangles[nb]=ka;this._triangles[nb+1]=Aa;this._triangles[nb+2]=Ra;this._link(nb,Ya);this._link(nb+1,ib);this._link(nb+2,db);this.trianglesLen+=3;return nb}}class Da{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(ka,Aa){this._+=`M${this._x0=this._x1=+ka},${this._y0=this._y1=+Aa}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(ka,Aa){this._+=
`L${this._x1=+ka},${this._y1=+Aa}`}arc(ka,Aa,Ra){ka=+ka;Aa=+Aa;Ra=+Ra;const Ya=ka+Ra,ib=Aa;if(0>Ra)throw Error("negative radius");if(null===this._x1)this._+=`M${Ya},${ib}`;else if(1E-6<Math.abs(this._x1-Ya)||1E-6<Math.abs(this._y1-ib))this._+="L"+Ya+","+ib;Ra&&(this._+=`A${Ra},${Ra},0,1,1,${ka-Ra},${Aa}A${Ra},${Ra},0,1,1,${this._x1=Ya},${this._y1=ib}`)}rect(ka,Aa,Ra,Ya){this._+=`M${this._x0=this._x1=+ka},${this._y0=this._y1=+Aa}h${+Ra}v${+Ya}h${-Ra}Z`}value(){return this._||null}}class Fa{constructor(){this._=
[]}moveTo(ka,Aa){this._.push([ka,Aa])}closePath(){this._.push(this._[0].slice())}lineTo(ka,Aa){this._.push([ka,Aa])}value(){return this._.length?this._:null}}class hb{constructor(ka,[Aa,Ra,Ya,ib]=[0,0,960,500]){if(!((Ya=+Ya)>=(Aa=+Aa)&&(ib=+ib)>=(Ra=+Ra)))throw Error("invalid bounds");this.delaunay=ka;this._circumcenters=new Float64Array(2*ka.points.length);this.vectors=new Float64Array(2*ka.points.length);this.xmax=Ya;this.xmin=Aa;this.ymax=ib;this.ymin=Ra;this._init()}update(){this.delaunay.update();
this._init();return this}_init(){const {delaunay:{points:ka,hull:Aa,triangles:Ra},vectors:Ya}=this;var ib=this.circumcenters=this._circumcenters.subarray(0,Ra.length/3*2);for(let J=0,W=0,Y=Ra.length,ma,Qa;J<Y;J+=3,W+=2){var db=2*Ra[J],nb=2*Ra[J+1],$a=2*Ra[J+2],S=ka[db];db=ka[db+1];var z=ka[$a],I=ka[$a+1];$a=ka[nb]-S;nb=ka[nb+1]-db;var Q=z-S;const Ua=I-db,U=$a*$a+nb*nb,sa=Q*Q+Ua*Ua,ua=2*($a*Ua-nb*Q);ua?1E-8>Math.abs(ua)?(ma=(S+z)/2,Qa=(db+I)/2):(z=1/ua,ma=S+(Ua*U-nb*sa)*z,Qa=db+($a*sa-Q*U)*z):(ma=
(S+z)/2-1E8*Ua,Qa=(db+I)/2+1E8*Q);ib[W]=ma;ib[W+1]=Qa}ib=Aa[Aa.length-1];db=4*ib;$a=ka[2*ib];nb=ka[2*ib+1];Ya.fill(0);for(Q=0;Q<Aa.length;++Q)ib=Aa[Q],S=db,z=$a,I=nb,db=4*ib,$a=ka[2*ib],nb=ka[2*ib+1],Ya[S+2]=Ya[db]=I-nb,Ya[S+3]=Ya[db+1]=$a-z}render(ka){const Aa=null==ka?ka=new Da:void 0,{delaunay:{halfedges:Ra,inedges:Ya,hull:ib},circumcenters:db,vectors:nb}=this;if(1>=ib.length)return null;for(let Q=0,J=Ra.length;Q<J;++Q){var $a=Ra[Q];if(!($a<Q)){var S=2*Math.floor(Q/3);$a=2*Math.floor($a/3);this._renderSegment(db[S],
db[S+1],db[$a],db[$a+1],ka)}}S=ib[ib.length-1];for($a=0;$a<ib.length;++$a){var z=S;S=ib[$a];var I=2*Math.floor(Ya[S]/3);const Q=db[I];I=db[I+1];z*=4;(z=this._project(Q,I,nb[z+2],nb[z+3]))&&this._renderSegment(Q,I,z[0],z[1],ka)}return Aa&&Aa.value()}renderBounds(ka){const Aa=null==ka?ka=new Da:void 0;ka.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return Aa&&Aa.value()}renderCell(ka,Aa){const Ra=null==Aa?Aa=new Da:void 0;ka=this._clip(ka);if(null!==ka&&ka.length){Aa.moveTo(ka[0],
ka[1]);for(var Ya=ka.length;ka[0]===ka[Ya-2]&&ka[1]===ka[Ya-1]&&1<Ya;)Ya-=2;for(let ib=2;ib<Ya;ib+=2)ka[ib]===ka[ib-2]&&ka[ib+1]===ka[ib-1]||Aa.lineTo(ka[ib],ka[ib+1]);Aa.closePath();return Ra&&Ra.value()}}*cellPolygons(){var {delaunay:{points:ka}}=this;for(let Aa=0,Ra=ka.length/2;Aa<Ra;++Aa)if(ka=this.cellPolygon(Aa))ka.index=Aa,yield ka}cellPolygon(ka){const Aa=new Fa;this.renderCell(ka,Aa);return Aa.value()}_renderSegment(ka,Aa,Ra,Ya,ib){const db=this._regioncode(ka,Aa),nb=this._regioncode(Ra,
Ya);if(0===db&&0===nb)ib.moveTo(ka,Aa),ib.lineTo(Ra,Ya);else if(ka=this._clipSegment(ka,Aa,Ra,Ya,db,nb))ib.moveTo(ka[0],ka[1]),ib.lineTo(ka[2],ka[3])}contains(ka,Aa,Ra){return(Aa=+Aa,Aa!==Aa)||(Ra=+Ra,Ra!==Ra)?!1:this.delaunay._step(ka,Aa,Ra)===ka}*neighbors(ka){const Aa=this._clip(ka);if(Aa)for(const Ra of this.delaunay.neighbors(ka))if(ka=this._clip(Ra))a:for(let Ya=0,ib=Aa.length;Ya<ib;Ya+=2)for(let db=0,nb=ka.length;db<nb;db+=2)if(Aa[Ya]==ka[db]&&Aa[Ya+1]==ka[db+1]&&Aa[(Ya+2)%ib]==ka[(db+nb-2)%
nb]&&Aa[(Ya+3)%ib]==ka[(db+nb-1)%nb]){yield Ra;break a}}_cell(ka){const {circumcenters:Aa,delaunay:{inedges:Ra,halfedges:Ya,triangles:ib}}=this,db=Ra[ka];if(-1===db)return null;const nb=[];let $a=db;do{const S=Math.floor($a/3);nb.push(Aa[2*S],Aa[2*S+1]);$a=2===$a%3?$a-2:$a+1;if(ib[$a]!==ka)break;$a=Ya[$a]}while($a!==db&&-1!==$a);return nb}_clip(ka){if(0===ka&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const Aa=this._cell(ka);
if(null===Aa)return null;const {vectors:Ra}=this,Ya=4*ka;return Ra[Ya]||Ra[Ya+1]?this._clipInfinite(ka,Aa,Ra[Ya],Ra[Ya+1],Ra[Ya+2],Ra[Ya+3]):this._clipFinite(ka,Aa)}_clipFinite(ka,Aa){const Ra=Aa.length;let Ya=null;let ib=Aa[Ra-2],db=Aa[Ra-1];let nb=this._regioncode(ib,db),$a;for(let Q=0;Q<Ra;Q+=2){var S=ib;var z=db;ib=Aa[Q];db=Aa[Q+1];var I=nb;nb=this._regioncode(ib,db);if(0===I&&0===nb)$a=0,Ya?Ya.push(ib,db):Ya=[ib,db];else{let J,W;if(0===I){if(null===(S=this._clipSegment(S,z,ib,db,I,nb)))continue;
[z,I,J,W]=S}else{if(null===(S=this._clipSegment(ib,db,S,z,nb,I)))continue;[J,W,z,I]=S;S=$a;$a=this._edgecode(z,I);S&&$a&&this._edge(ka,S,$a,Ya,Ya.length);Ya?Ya.push(z,I):Ya=[z,I]}S=$a;$a=this._edgecode(J,W);S&&$a&&this._edge(ka,S,$a,Ya,Ya.length);Ya?Ya.push(J,W):Ya=[J,W]}}if(Ya)S=$a,$a=this._edgecode(Ya[0],Ya[1]),S&&$a&&this._edge(ka,S,$a,Ya,Ya.length);else if(this.contains(ka,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,
this.ymin];return Ya}_clipSegment(ka,Aa,Ra,Ya,ib,db){for(;;){if(0===ib&&0===db)return[ka,Aa,Ra,Ya];if(ib&db)return null;var nb=void 0;let $a;nb=ib||db;nb&8?(nb=ka+(Ra-ka)*(this.ymax-Aa)/(Ya-Aa),$a=this.ymax):nb&4?(nb=ka+(Ra-ka)*(this.ymin-Aa)/(Ya-Aa),$a=this.ymin):nb&2?($a=Aa+(Ya-Aa)*(this.xmax-ka)/(Ra-ka),nb=this.xmax):($a=Aa+(Ya-Aa)*(this.xmin-ka)/(Ra-ka),nb=this.xmin);ib?(ka=nb,Aa=$a,ib=this._regioncode(ka,Aa)):(Ra=nb,Ya=$a,db=this._regioncode(Ra,Ya))}}_clipInfinite(ka,Aa,Ra,Ya,ib,db){Aa=Array.from(Aa);
let nb;(nb=this._project(Aa[0],Aa[1],Ra,Ya))&&Aa.unshift(nb[0],nb[1]);(nb=this._project(Aa[Aa.length-2],Aa[Aa.length-1],ib,db))&&Aa.push(nb[0],nb[1]);if(Aa=this._clipFinite(ka,Aa))for(let $a=0,S=Aa.length,z,I=this._edgecode(Aa[S-2],Aa[S-1]);$a<S;$a+=2)z=I,I=this._edgecode(Aa[$a],Aa[$a+1]),z&&I&&($a=this._edge(ka,z,I,Aa,$a),S=Aa.length);else this.contains(ka,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(Aa=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return Aa}_edge(ka,
Aa,Ra,Ya,ib){for(;Aa!==Ra;){let db,nb;switch(Aa){case 5:Aa=4;continue;case 4:Aa=6;db=this.xmax;nb=this.ymin;break;case 6:Aa=2;continue;case 2:Aa=10;db=this.xmax;nb=this.ymax;break;case 10:Aa=8;continue;case 8:Aa=9;db=this.xmin;nb=this.ymax;break;case 9:Aa=1;continue;case 1:Aa=5,db=this.xmin,nb=this.ymin}Ya[ib]===db&&Ya[ib+1]===nb||!this.contains(ka,db,nb)||(Ya.splice(ib,0,db,nb),ib+=2)}if(4<Ya.length)for(ka=0;ka<Ya.length;ka+=2)if(Aa=(ka+2)%Ya.length,Ra=(ka+4)%Ya.length,Ya[ka]===Ya[Aa]&&Ya[Aa]===
Ya[Ra]||Ya[ka+1]===Ya[Aa+1]&&Ya[Aa+1]===Ya[Ra+1])Ya.splice(Aa,2),ka-=2;return ib}_project(ka,Aa,Ra,Ya){let ib=Infinity,db,nb,$a;if(0>Ya){if(Aa<=this.ymin)return null;(db=(this.ymin-Aa)/Ya)<ib&&($a=this.ymin,nb=ka+(ib=db)*Ra)}else if(0<Ya){if(Aa>=this.ymax)return null;(db=(this.ymax-Aa)/Ya)<ib&&($a=this.ymax,nb=ka+(ib=db)*Ra)}if(0<Ra){if(ka>=this.xmax)return null;(db=(this.xmax-ka)/Ra)<ib&&(nb=this.xmax,$a=Aa+db*Ya)}else if(0>Ra){if(ka<=this.xmin)return null;(db=(this.xmin-ka)/Ra)<ib&&(nb=this.xmin,
$a=Aa+db*Ya)}return[nb,$a]}_edgecode(ka,Aa){return(ka===this.xmin?1:ka===this.xmax?2:0)|(Aa===this.ymin?4:Aa===this.ymax?8:0)}_regioncode(ka,Aa){return(ka<this.xmin?1:ka>this.xmax?2:0)|(Aa<this.ymin?4:Aa>this.ymax?8:0)}}const Ca=2*Math.PI,bb=Math.pow;class La{static from(ka,Aa=cb,Ra=ob,Ya){if("length"in ka){{const ib=ka.length,db=new Float64Array(2*ib);for(let nb=0;nb<ib;++nb){const $a=ka[nb];db[2*nb]=Aa.call(Ya,$a,nb,ka);db[2*nb+1]=Ra.call(Ya,$a,nb,ka)}ka=db}}else ka=Float64Array.from(Ha(ka,Aa,Ra,
Ya));return new La(ka)}constructor(ka){this._delaunator=new mb(ka);this.inedges=new Int32Array(ka.length/2);this._hullIndex=new Int32Array(ka.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var ka=this._delaunator;const Aa=this.points;if(ka.hull&&2<ka.hull.length&&rb(ka)){this.collinear=Int32Array.from({length:Aa.length/2},(nb,$a)=>$a).sort((nb,$a)=>Aa[2*nb]-Aa[2*$a]||Aa[2*nb+1]-Aa[2*$a+1]);ka=this.collinear[0];var Ra=
this.collinear[this.collinear.length-1];ka=[Aa[2*ka],Aa[2*ka+1],Aa[2*Ra],Aa[2*Ra+1]];ka=1E-8*Math.hypot(ka[3]-ka[1],ka[2]-ka[0]);for(let nb=0,$a=Aa.length/2;nb<$a;++nb)Ra=Xa(Aa[2*nb],Aa[2*nb+1],ka),Aa[2*nb]=Ra[0],Aa[2*nb+1]=Ra[1];this._delaunator=new mb(Aa)}else delete this.collinear;ka=this.halfedges=this._delaunator.halfedges;Ra=this.hull=this._delaunator.hull;const Ya=this.triangles=this._delaunator.triangles,ib=this.inedges.fill(-1),db=this._hullIndex.fill(-1);for(let nb=0,$a=ka.length;nb<$a;++nb){const S=
Ya[2===nb%3?nb-2:nb+1];if(-1===ka[nb]||-1===ib[S])ib[S]=nb}for(let nb=0,$a=Ra.length;nb<$a;++nb)db[Ra[nb]]=nb;2>=Ra.length&&0<Ra.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=Ra[0],this.triangles[1]=Ra[1],this.triangles[2]=Ra[1],ib[Ra[0]]=1,2===Ra.length&&(ib[Ra[1]]=0))}voronoi(ka){return new hb(this,ka)}*neighbors(ka){const {inedges:Aa,hull:Ra,_hullIndex:Ya,halfedges:ib,triangles:db,collinear:nb}=this;if(nb){var $a=nb.indexOf(ka);
0<$a&&(yield nb[$a-1]);$a<nb.length-1&&(yield nb[$a+1])}else{var S=Aa[ka];if(-1!==S){var z=S;do{yield($a=db[z]);z=2===z%3?z-2:z+1;if(db[z]!==ka)break;z=ib[z];if(-1===z){ka=Ra[(Ya[ka]+1)%Ra.length];ka!==$a&&(yield ka);break}}while(z!==S)}}}find(ka,Aa,Ra=0){if((ka=+ka,ka!==ka)||(Aa=+Aa,Aa!==Aa))return-1;const Ya=Ra;let ib;for(;0<=(ib=this._step(Ra,ka,Aa))&&ib!==Ra&&ib!==Ya;)Ra=ib;return ib}_step(ka,Aa,Ra){const {inedges:Ya,hull:ib,_hullIndex:db,halfedges:nb,triangles:$a,points:S}=this;if(-1===Ya[ka]||
!S.length)return(ka+1)%(S.length>>1);let z=ka,I=bb(Aa-S[2*ka],2)+bb(Ra-S[2*ka+1],2);const Q=Ya[ka];let J=Q;do{let W=$a[J];const Y=bb(Aa-S[2*W],2)+bb(Ra-S[2*W+1],2);Y<I&&(I=Y,z=W);J=2===J%3?J-2:J+1;if($a[J]!==ka)break;J=nb[J];if(-1===J){J=ib[(db[ka]+1)%ib.length];if(J!==W&&bb(Aa-S[2*J],2)+bb(Ra-S[2*J+1],2)<I)return J;break}}while(J!==Q);return z}render(ka){const Aa=null==ka?ka=new Da:void 0,{points:Ra,halfedges:Ya,triangles:ib}=this;for(let nb=0,$a=Ya.length;nb<$a;++nb){var db=Ya[nb];if(db<nb)continue;
const S=2*ib[nb];db=2*ib[db];ka.moveTo(Ra[S],Ra[S+1]);ka.lineTo(Ra[db],Ra[db+1])}this.renderHull(ka);return Aa&&Aa.value()}renderPoints(ka,Aa=2){const Ra=null==ka?ka=new Da:void 0,{points:Ya}=this;for(let ib=0,db=Ya.length;ib<db;ib+=2){const nb=Ya[ib],$a=Ya[ib+1];ka.moveTo(nb+Aa,$a);ka.arc(nb,$a,Aa,0,Ca)}return Ra&&Ra.value()}renderHull(ka){const Aa=null==ka?ka=new Da:void 0,{hull:Ra,points:Ya}=this;var ib=2*Ra[0];const db=Ra.length;ka.moveTo(Ya[ib],Ya[ib+1]);for(ib=1;ib<db;++ib){const nb=2*Ra[ib];
ka.lineTo(Ya[nb],Ya[nb+1])}ka.closePath();return Aa&&Aa.value()}hullPolygon(){const ka=new Fa;this.renderHull(ka);return ka.value()}renderTriangle(ka,Aa){const Ra=null==Aa?Aa=new Da:void 0,{points:Ya,triangles:ib}=this,db=2*ib[ka*=3],nb=2*ib[ka+1];ka=2*ib[ka+2];Aa.moveTo(Ya[db],Ya[db+1]);Aa.lineTo(Ya[nb],Ya[nb+1]);Aa.lineTo(Ya[ka],Ya[ka+1]);Aa.closePath();return Ra&&Ra.value()}*trianglePolygons(){const {triangles:ka}=this;for(let Aa=0,Ra=ka.length/3;Aa<Ra;++Aa)yield this.trianglePolygon(Aa)}trianglePolygon(ka){const Aa=
new Fa;this.renderTriangle(ka,Aa);return Aa.value()}}n.Delaunay=La;n.Voronoi=hb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[56]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(29),Rb(17),Rb(55)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util","d3-delaunay"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.d3))})(this,function(n,x,ea,Sa){function Wb(ub){x.Transform.call(this,null,ub)}Wb.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",
required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const fb=[-1E5,-1E5,1E5,1E5];ea.inherits(Wb,x.Transform,{transform(ub,Ob){const zb=ub.as||"path",cb=Ob.source;if(!cb||!cb.length)return Ob;var ob=ub.size;ob=ob?[0,0,ob[0],ob[1]]:(ob=ub.extent)?[ob[0][0],ob[0][1],ob[1][0],ob[1][1]]:fb;ob=this.value=
Sa.Delaunay.from(cb,ub.x,ub.y).voronoi(ob);for(let Ha=0,Ia=cb.length;Ha<Ia;++Ha){var rb=ob.cellPolygon(Ha),Xa=cb[Ha];if(rb){{const Za=rb[0][0],mb=rb[0][1];let Da=rb.length-1;for(;rb[Da][0]===Za&&rb[Da][1]===mb;--Da);rb="M"+rb.slice(0,Da+1).join("L")+"Z"}}else rb=null;Xa[zb]=rb}return Ob.reflow(ub.modified()).modifies(zb)}});n.voronoi=Wb;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[57]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(34),Rb(29),Rb(17),Rb(38),Rb(30)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa,Wb,fb){function ub(){function Da(S){S.width=S.height=1;var z=Math.sqrt(S.getContext("2d").getImageData(0,
0,1,1).data.length>>2);S.width=2048/z;S.height=2048/z;S=S.getContext("2d");S.fillStyle=S.strokeStyle="red";S.textAlign="center";return{context:S,ratio:z}}function Fa(S,z,I){for(var Q=z.x,J=z.y,W=Math.sqrt(hb[0]*hb[0]+hb[1]*hb[1]),Y=ib(hb),ma=.5>nb()?1:-1,Qa=-ma,Ua,U;Ua=Y(Qa+=ma);){U=~~Ua[0];Ua=~~Ua[1];if(Math.min(Math.abs(U),Math.abs(Ua))>=W)break;z.x=Q+U;z.y=J+Ua;if(!(0>z.x+z.x0||0>z.y+z.y0||z.x+z.x1>hb[0]||z.y+z.y1>hb[1])){if(!(U=!I)){a:{U=hb[0];U>>=5;Ua=z.sprite;var sa=z.width>>5;var ua=z.x-(sa<<
4);for(var la=ua&127,T=32-la,v=z.y1-z.y0,w=(z.y+z.y0)*U+(ua>>5),p=0;p<v;p++){for(var r=ua=0;r<=sa;r++)if((ua<<T|(r<sa?(ua=Ua[p*sa+r])>>>la:0))&S[w+r]){U=!0;break a}w+=U}U=!1}U=!U}if(U&&(!I||z.x+z.x1>I[0].x&&z.x+z.x0<I[1].x&&z.y+z.y1>I[0].y&&z.y+z.y0<I[1].y)){I=z.sprite;Q=z.width>>5;J=hb[0]>>5;Qa=z.x-(Q<<4);W=Qa&127;Y=32-W;ma=z.y1-z.y0;Qa=(z.y+z.y0)*J+(Qa>>5);for(Ua=0;Ua<ma;Ua++){for(sa=U=0;sa<=Q;sa++)S[Qa+sa]=S[Qa+sa]|U<<Y|(sa<Q?(U=I[Ua*Q+sa])>>>W:0);Qa+=J}z.sprite=null;return!0}}}return!1}var hb=
[256,256],Ca,bb,La,ka,Aa,Ra,Ya,ib=cb,db=[],nb=Math.random,$a={layout:function(){for(var S=Da(x.canvas()),z=ob((hb[0]>>5)*hb[1]),I=null,Q=db.length,J=-1,W=[],Y=db.map(Qa=>({text:Ca(Qa),font:bb(Qa),style:ka(Qa),weight:Aa(Qa),rotate:Ra(Qa),size:~~(La(Qa)+1E-14),padding:Ya(Qa),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:Qa})).sort((Qa,Ua)=>Ua.size-Qa.size);++J<Q;){var ma=Y[J];ma.x=hb[0]*(nb()+.5)>>1;ma.y=hb[1]*(nb()+.5)>>1;Ob(S,ma,Y,J);ma.hasText&&Fa(z,ma,I)&&(W.push(ma),I?zb(I,ma):
I=[{x:ma.x+ma.x0,y:ma.y+ma.y0},{x:ma.x+ma.x1,y:ma.y+ma.y1}],ma.x-=hb[0]>>1,ma.y-=hb[1]>>1)}return W},words:function(S){return arguments.length?(db=S,$a):db},size:function(S){return arguments.length?(hb=[+S[0],+S[1]],$a):hb},font:function(S){return arguments.length?(bb=rb(S),$a):bb},fontStyle:function(S){return arguments.length?(ka=rb(S),$a):ka},fontWeight:function(S){return arguments.length?(Aa=rb(S),$a):Aa},rotate:function(S){return arguments.length?(Ra=rb(S),$a):Ra},text:function(S){return arguments.length?
(Ca=rb(S),$a):Ca},spiral:function(S){return arguments.length?(ib=Ia[S]||S,$a):ib},fontSize:function(S){return arguments.length?(La=rb(S),$a):La},padding:function(S){return arguments.length?(Ya=rb(S),$a):Ya},random:function(S){return arguments.length?(nb=S,$a):nb}};return $a}function Ob(Da,Fa,hb,Ca){if(!Fa.sprite){var bb=Da.context,La=Da.ratio;bb.clearRect(0,0,2048/La,2048/La);var ka=Da=0,Aa=0,Ra=hb.length;for(--Ca;++Ca<Ra;){Fa=hb[Ca];bb.save();bb.font=Fa.style+" "+Fa.weight+" "+~~((Fa.size+1)/La)+
"px "+Fa.font;var Ya=bb.measureText(Fa.text+"m").width*La;var ib=Fa.size<<1;if(Fa.rotate){var db=Math.sin(Fa.rotate*Ha),nb=Math.cos(Fa.rotate*Ha),$a=Ya*nb,S=Ya*db;nb*=ib;Ya=ib*db;Ya=Math.max(Math.abs($a+Ya),Math.abs($a-Ya))+31>>5<<5;ib=~~Math.max(Math.abs(S+nb),Math.abs(S-nb))}else Ya=Ya+31>>5<<5;ib>Aa&&(Aa=ib);2048<=Da+Ya&&(Da=0,ka+=Aa,Aa=0);if(2048<=ka+ib)break;bb.translate((Da+(Ya>>1))/La,(ka+(ib>>1))/La);Fa.rotate&&bb.rotate(Fa.rotate*Ha);bb.fillText(Fa.text,0,0);Fa.padding&&(bb.lineWidth=2*Fa.padding,
bb.strokeText(Fa.text,0,0));bb.restore();Fa.width=Ya;Fa.height=ib;Fa.xoff=Da;Fa.yoff=ka;Fa.x1=Ya>>1;Fa.y1=ib>>1;Fa.x0=-Fa.x1;Fa.y0=-Fa.y1;Fa.hasText=!0;Da+=Ya}Ra=bb.getImageData(0,0,2048/La,2048/La).data;for($a=[];0<=--Ca;)if(Fa=hb[Ca],Fa.hasText){Ya=Fa.width;bb=Ya>>5;ib=Fa.y1-Fa.y0;for(La=0;La<ib*bb;La++)$a[La]=0;Da=Fa.xoff;if(null==Da)break;ka=Fa.yoff;S=0;db=-1;for(Aa=0;Aa<ib;Aa++){for(La=0;La<Ya;La++)nb=Ra[2048*(ka+Aa)+(Da+La)<<2]?1<<31-La%32:0,$a[bb*Aa+(La>>5)]|=nb,S|=nb;S?db=Aa:(Fa.y0++,ib--,
Aa--,ka++)}Fa.y1=Fa.y0+db;Fa.sprite=$a.slice(0,(Fa.y1-Fa.y0)*bb)}}}function zb(Da,Fa){var hb=Da[0];Da=Da[1];Fa.x+Fa.x0<hb.x&&(hb.x=Fa.x+Fa.x0);Fa.y+Fa.y0<hb.y&&(hb.y=Fa.y+Fa.y0);Fa.x+Fa.x1>Da.x&&(Da.x=Fa.x+Fa.x1);Fa.y+Fa.y1>Da.y&&(Da.y=Fa.y+Fa.y1)}function cb(Da){var Fa=Da[0]/Da[1];return function(hb){return[Fa*(hb*=.1)*Math.cos(hb),hb*Math.sin(hb)]}}function ob(Da){for(var Fa=[],hb=-1;++hb<Da;)Fa[hb]=0;return Fa}function rb(Da){return"function"===typeof Da?Da:function(){return Da}}function Xa(Da){ea.Transform.call(this,
ub(),Da)}var Ha=Math.PI/180,Ia={archimedean:cb,rectangular:function(Da){var Fa=4*Da[0]/Da[1],hb=0,Ca=0;return function(bb){var La=0>bb?-1:1;switch(Math.sqrt(1+4*La*bb)-La&3){case 0:hb+=Fa;break;case 1:Ca+=4;break;case 2:hb-=Fa;break;default:Ca-=4}return[hb,Ca]}}};const Za="x y font fontSize fontStyle fontWeight angle".split(" "),mb="text font rotate fontSize fontStyle fontWeight".split(" ");Xa.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},
{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",
array:!0,length:7,"default":Za}]};Sa.inherits(Xa,ea.Transform,{transform(Da,Fa){function hb(Ya){Ya=Da[Ya];return Sa.isFunction(Ya)&&Fa.modified(Ya.fields)}!Da.size||Da.size[0]&&Da.size[1]||Sa.error("Wordcloud size dimensions must be non-zero.");const Ca=Da.modified();if(Ca||Fa.changed(Fa.ADD_REM)||mb.some(hb)){var bb=Fa.materialize(Fa.SOURCE).source,La=this.value,ka=Da.as||Za,Aa=Da.fontSize||14,Ra;Sa.isFunction(Aa)?Ra=Da.fontSizeRange:Aa=Sa.constant(Aa);if(Ra){const Ya=Aa,ib=Wb.scale("sqrt")().domain(Sa.extent(bb,
Ya)).range(Ra);Aa=db=>ib(Ya(db))}bb.forEach(Ya=>{Ya[ka[0]]=NaN;Ya[ka[1]]=NaN;Ya[ka[3]]=0});bb=La.words(bb).text(Da.text).size(Da.size||[500,500]).padding(Da.padding||1).spiral(Da.spiral||"archimedean").rotate(Da.rotate||0).font(Da.font||"sans-serif").fontStyle(Da.fontStyle||"normal").fontWeight(Da.fontWeight||"normal").fontSize(Aa).random(fb.random).layout();Aa=La.size();La=Aa[0]>>1;Aa=Aa[1]>>1;Ra=bb.length;for(let Ya=0,ib,db;Ya<Ra;++Ya)ib=bb[Ya],db=ib.datum,db[ka[0]]=ib.x+La,db[ka[1]]=ib.y+Aa,db[ka[2]]=
ib.font,db[ka[3]]=ib.size,db[ka[4]]=ib.style,db[ka[5]]=ib.weight,db[ka[6]]=ib.rotate;return Fa.reflow(Ca).modifies(ka)}}});n.wordcloud=Xa;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[58]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(18),Rb(29),Rb(17)):"function"===typeof define&&define.amd?define(["exports","d3-array","vega-dataflow","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x((n.vega=n.vega||{},n.vega.transforms={}),n.d3,n.vega,n.vega))})(this,function(n,x,ea,Sa){function Wb(){let Ia=8,Za=[],mb=new Uint32Array(0),Da=fb(0,Ia),Fa=fb(0,Ia);return{data:()=>Za,seen:()=>{var hb=mb;var Ca=Za.length;
hb.length>=Ca||(Ca=new hb.constructor(Ca),Ca.set(hb),hb=Ca);return mb=hb},add(hb){for(let Ca=0,bb=Za.length,La=hb.length,ka;Ca<La;++Ca)ka=hb[Ca],ka._index=bb++,Za.push(ka)},remove(hb,Ca){const bb=Za.length;hb=Array(bb-hb);const La=Za;let ka,Aa,Ra;for(Aa=0;!Ca[Aa]&&Aa<bb;++Aa)hb[Aa]=Za[Aa],La[Aa]=Aa;for(Ra=Aa;Aa<bb;++Aa)ka=Za[Aa],Ca[Aa]?La[Aa]=-1:(La[Aa]=Ra,Da[Ra]=Da[Aa],Fa[Ra]=Fa[Aa],hb[Ra]=ka,ka._index=Ra++),Da[Aa]=0;Za=hb;return La},size:()=>Za.length,curr:()=>Da,prev:()=>Fa,reset:hb=>Fa[hb]=Da[hb],
all:()=>257>Ia?255:65537>Ia?65535:4294967295,set(hb,Ca){Da[hb]|=Ca},clear(hb,Ca){Da[hb]&=~Ca},resize(hb,Ca){if(hb>Da.length||Ca>Ia)Ia=Math.max(Ca,Ia),Da=fb(hb,Ia,Da),Fa=fb(hb,Ia)}}}function fb(Ia,Za,mb){Ia=(257>Za?rb:65537>Za?Xa:Ha)(Ia);mb&&Ia.set(mb);return Ia}function ub(Ia,Za,mb){const Da=1<<Za;return{one:Da,zero:~Da,range:mb.slice(),bisect:Ia.bisect,index:Ia.index,size:Ia.size,onAdd(Fa,hb){var Ca=this.bisect(this.range,Fa.value);Fa=Fa.index;const bb=Ca[0];Ca=Ca[1];const La=Fa.length;let ka;for(ka=
0;ka<bb;++ka)hb[Fa[ka]]|=Da;for(ka=Ca;ka<La;++ka)hb[Fa[ka]]|=Da;return this}}}function Ob(){let Ia=new Uint32Array(0),Za=[],mb=0;return{insert:function(Da,Fa,hb){if(!Fa.length)return[];const Ca=mb,bb=Fa.length,La=new Uint32Array(bb);let ka=Array(bb);var Aa;for(Aa=0;Aa<bb;++Aa)ka[Aa]=Da(Fa[Aa]),La[Aa]=Aa;ka=zb(ka,La);if(Ca){Da=Za;Fa=Ia;Za=Array(Ca+bb);Ia=new Uint32Array(Ca+bb);{Aa=ka;var Ra=Za,Ya=Ia;let ib=0,db=0,nb;for(nb=0;ib<Ca&&db<bb;++nb)Da[ib]<Aa[db]?(Ra[nb]=Da[ib],Ya[nb]=Fa[ib++]):(Ra[nb]=Aa[db],
Ya[nb]=La[db++]+hb);for(;ib<Ca;++ib,++nb)Ra[nb]=Da[ib],Ya[nb]=Fa[ib];for(;db<bb;++db,++nb)Ra[nb]=Aa[db],Ya[nb]=La[db]+hb}}else{if(0<hb)for(Aa=0;Aa<bb;++Aa)La[Aa]+=hb;Za=ka;Ia=La}mb=Ca+bb;return{index:La,value:ka}},remove:function(Da,Fa){const hb=mb;let Ca,bb,La;for(bb=0;!Fa[Ia[bb]]&&bb<hb;++bb);for(La=bb;bb<hb;++bb)Fa[Ca=Ia[bb]]||(Ia[La]=Ca,Za[La]=Za[bb],++La);mb=hb-Da},bisect:function(Da,Fa){let hb;Fa?hb=Fa.length:(Fa=Za,hb=mb);return[x.bisectLeft(Fa,Da[0],0,hb),x.bisectRight(Fa,Da[1],0,hb)]},reindex:function(Da){for(let Fa=
0,hb=mb;Fa<hb;++Fa)Ia[Fa]=Da[Ia[Fa]]},index:()=>Ia,size:()=>mb}}function zb(Ia,Za){Ia.sort.call(Za,(mb,Da)=>{mb=Ia[mb];Da=Ia[Da];return mb<Da?-1:mb>Da?1:0});return x.permute(Ia,Za)}function cb(Ia){ea.Transform.call(this,Wb(),Ia);this._dims=this._indices=null}function ob(Ia){ea.Transform.call(this,null,Ia)}const rb=Ia=>new Uint8Array(Ia),Xa=Ia=>new Uint16Array(Ia),Ha=Ia=>new Uint32Array(Ia);cb.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",
type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Sa.inherits(cb,ea.Transform,{transform(Ia,Za){return this._dims?Ia.modified("fields")||Ia.fields.some(mb=>Za.modified(mb.fields))?this.reinit(Ia,Za):this.eval(Ia,Za):this.init(Ia,Za)},init(Ia,Za){const mb=Ia.fields,Da=Ia.query,Fa=this._indices={},hb=this._dims=[],Ca=Da.length;let bb=0;for(var La;bb<Ca;++bb)La=mb[bb].fname,La=Fa[La]||(Fa[La]=Ob()),hb.push(ub(La,bb,Da[bb]));return this.eval(Ia,Za)},reinit(Ia,Za){const mb=
Za.materialize().fork(),Da=Ia.fields,Fa=Ia.query,hb=this._indices,Ca=this._dims,bb=this.value,La=bb.curr(),ka=bb.prev(),Aa=bb.all(),Ra=mb.rem=mb.add,Ya=mb.mod,ib=Fa.length,db={};let nb;var $a;let S,z,I,Q;ka.set(La);Za.rem.length&&(S=this.remove(Ia,Za,mb));Za.add.length&&bb.add(Za.add);if(Za.mod.length){z={};var J=Za.mod;I=0;for($a=J.length;I<$a;++I)z[J[I]._index]=1}for(I=0;I<ib;++I)if(Q=Da[I],!Ca[I]||Ia.modified("fields",I)||Za.modified(Q.fields))$a=Q.fname,(J=db[$a])||(hb[$a]=nb=Ob(),db[$a]=J=nb.insert(Q,
Za.source,0)),Ca[I]=ub(nb,I,Fa[I]).onAdd(J,La);I=0;for($a=bb.data().length;I<$a;++I)S[I]||(ka[I]!==La[I]?Ra.push(I):z[I]&&La[I]!==Aa&&Ya.push(I));bb.mask=(1<<ib)-1;return mb},eval(Ia,Za){const mb=Za.materialize().fork(),Da=this._dims.length;let Fa=0;Za.rem.length&&(this.remove(Ia,Za,mb),Fa|=(1<<Da)-1);Ia.modified("query")&&!Ia.modified("fields")&&(Fa|=this.update(Ia,Za,mb));Za.add.length&&(this.insert(Ia,Za,mb),Fa|=(1<<Da)-1);Za.mod.length&&(this.modify(Za,mb),Fa|=(1<<Da)-1);this.value.mask=Fa;return mb},
insert(Ia,Za,mb){Za=Za.add;var Da=this.value;const Fa=this._dims,hb=this._indices;Ia=Ia.fields;const Ca={};mb=mb.add;const bb=Da.size()+Za.length,La=Fa.length;let ka=Da.size();Da.resize(bb,La);Da.add(Za);const Aa=Da.curr(),Ra=Da.prev(),Ya=Da.all();for(Da=0;Da<La;++Da){var ib=Ia[Da].fname;ib=Ca[ib]||(Ca[ib]=hb[ib].insert(Ia[Da],Za,ka));Fa[Da].onAdd(ib,Aa)}for(;ka<bb;++ka)Ra[ka]=Ya,Aa[ka]!==Ya&&mb.push(ka)},modify(Ia,Za){Za=Za.mod;var mb=this.value;const Da=mb.curr();mb=mb.all();Ia=Ia.mod;let Fa,hb,
Ca;Fa=0;for(hb=Ia.length;Fa<hb;++Fa)Ca=Ia[Fa]._index,Da[Ca]!==mb&&Za.push(Ca)},remove(Ia,Za,mb){Ia=this._indices;var Da=this.value;const Fa=Da.curr(),hb=Da.prev();Da=Da.all();const Ca={};mb=mb.rem;const bb=Za.rem;let La,ka,Aa,Ra;La=0;for(ka=bb.length;La<ka;++La)Aa=bb[La]._index,Ca[Aa]=1,hb[Aa]=Ra=Fa[Aa],Fa[Aa]=Da,Ra!==Da&&mb.push(Aa);for(Aa in Ia)Ia[Aa].remove(ka,Ca);this.reindex(Za,ka,Ca);return Ca},reindex(Ia,Za,mb){const Da=this._indices,Fa=this.value;Ia.runAfter(()=>{const hb=Fa.remove(Za,mb);
for(const Ca in Da)Da[Ca].reindex(hb)})},update(Ia,Za,mb){const Da=this._dims,Fa=Ia.query;Za=Za.stamp;const hb=Da.length;let Ca=0,bb,La;for(La=mb.filters=0;La<hb;++La)Ia.modified("query",La)&&(bb=La,++Ca);if(1===Ca)Ca=Da[bb].one,this.incrementOne(Da[bb],Fa[bb],mb.add,mb.rem);else for(Ca=La=0;La<hb;++La)Ia.modified("query",La)&&(Ca|=Da[La].one,this.incrementAll(Da[La],Fa[La],Za,mb.add),mb.rem=mb.add);return Ca},incrementAll(Ia,Za,mb,Da){var Fa=this.value;const hb=Fa.seen(),Ca=Fa.curr();Fa=Fa.prev();
const bb=Ia.index();var La=Ia.bisect(Ia.range),ka=Ia.bisect(Za);const Aa=ka[0];ka=ka[1];const Ra=La[0];La=La[1];const Ya=Ia.one;let ib,db,nb;if(Aa<Ra)for(ib=Aa,db=Math.min(Ra,ka);ib<db;++ib)nb=bb[ib],hb[nb]!==mb&&(Fa[nb]=Ca[nb],hb[nb]=mb,Da.push(nb)),Ca[nb]^=Ya;else if(Aa>Ra)for(ib=Ra,db=Math.min(Aa,La);ib<db;++ib)nb=bb[ib],hb[nb]!==mb&&(Fa[nb]=Ca[nb],hb[nb]=mb,Da.push(nb)),Ca[nb]^=Ya;if(ka>La)for(ib=Math.max(Aa,La),db=ka;ib<db;++ib)nb=bb[ib],hb[nb]!==mb&&(Fa[nb]=Ca[nb],hb[nb]=mb,Da.push(nb)),Ca[nb]^=
Ya;else if(ka<La)for(ib=Math.max(Ra,ka),db=La;ib<db;++ib)nb=bb[ib],hb[nb]!==mb&&(Fa[nb]=Ca[nb],hb[nb]=mb,Da.push(nb)),Ca[nb]^=Ya;Ia.range=Za.slice()},incrementOne(Ia,Za,mb,Da){const Fa=this.value.curr(),hb=Ia.index();var Ca=Ia.bisect(Ia.range),bb=Ia.bisect(Za);const La=bb[0];bb=bb[1];const ka=Ca[0];Ca=Ca[1];const Aa=Ia.one;let Ra,Ya,ib;if(La<ka)for(Ra=La,Ya=Math.min(ka,bb);Ra<Ya;++Ra)ib=hb[Ra],Fa[ib]^=Aa,mb.push(ib);else if(La>ka)for(Ra=ka,Ya=Math.min(La,Ca);Ra<Ya;++Ra)ib=hb[Ra],Fa[ib]^=Aa,Da.push(ib);
if(bb>Ca)for(Ra=Math.max(La,Ca),Ya=bb;Ra<Ya;++Ra)ib=hb[Ra],Fa[ib]^=Aa,mb.push(ib);else if(bb<Ca)for(Ra=Math.max(ka,bb),Ya=Ca;Ra<Ya;++Ra)ib=hb[Ra],Fa[ib]^=Aa,Da.push(ib);Ia.range=Za.slice()}});ob.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Sa.inherits(ob,ea.Transform,{transform(Ia,
Za){const mb=~(Ia.ignore||0);Ia=Ia.filter;const Da=Ia.mask;if(0===(Da&mb))return Za.StopPropagation;Za=Za.fork(Za.ALL);const Fa=Ia.data(),hb=Ia.curr(),Ca=Ia.prev(),bb=La=>hb[La]&mb?null:Fa[La];Za.filter(Za.MOD,bb);Da&Da-1?(Za.filter(Za.ADD,La=>{const ka=hb[La]&mb;return!ka&&ka^Ca[La]&mb?Fa[La]:null}),Za.filter(Za.REM,La=>{const ka=hb[La]&mb;return!ka||ka^ka^Ca[La]&mb?null:Fa[La]})):(Za.filter(Za.ADD,bb),Za.filter(Za.REM,La=>(hb[La]&mb)===Da?Fa[La]:null));return Za.filter(Za.SOURCE,La=>bb(La._index))}});
n.crossfilter=cb;n.resolvefilter=ob;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[59]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17)):"function"===typeof define&&define.amd?define(["exports","vega-util"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega))})(this,function(n,x){function ea(v){this.type=v}function Sa(v){switch(v.type){case "ArrayExpression":return v.elements;case "BinaryExpression":case "LogicalExpression":return[v.left,v.right];case "CallExpression":return[v.callee].concat(v.arguments);
case "ConditionalExpression":return[v.test,v.consequent,v.alternate];case "MemberExpression":return[v.object,v.property];case "ObjectExpression":return v.properties;case "Property":return[v.key,v.value];case "UnaryExpression":return[v.argument];default:return[]}}function Wb(v,w){if(!v)throw Error("ASSERT: "+w);}function fb(v){return 48<=v&&57>=v}function ub(v){return 0<="0123456789abcdefABCDEF".indexOf(v)}function Ob(v){return 0<="01234567".indexOf(v)}function zb(v){return 10===v||13===v||8232===
v||8233===v}function cb(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||92===v||128<=v&&U.test(String.fromCharCode(v))}function ob(v){return 36===v||95===v||65<=v&&90>=v||97<=v&&122>=v||48<=v&&57>=v||92===v||128<=v&&sa.test(String.fromCharCode(v))}function rb(){for(;ma<Qa;){const v=Y.charCodeAt(ma);if(32===v||9===v||11===v||12===v||160===v||5760<=v&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(v)||zb(v))++ma;else break}}function Xa(v){var w=
0;var p="u"===v?4:2;for(v=0;v<p;++v)if(ma<Qa&&ub(Y[ma])){var r=Y[ma++];w=16*w+"0123456789abcdef".indexOf(r.toLowerCase())}else Ra({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(w)}function Ha(){var v=Y.charCodeAt(ma++);var w=String.fromCharCode(v);92===v&&(117!==Y.charCodeAt(ma)&&Ra({},"Unexpected token %0","ILLEGAL"),++ma,(v=Xa("u"))&&"\\"!==v&&cb(v.charCodeAt(0))||Ra({},"Unexpected token %0","ILLEGAL"),w=v);for(;ma<Qa;){v=Y.charCodeAt(ma);if(!ob(v))break;++ma;w+=String.fromCharCode(v);
92===v&&(w=w.substr(0,w.length-1),117!==Y.charCodeAt(ma)&&Ra({},"Unexpected token %0","ILLEGAL"),++ma,(v=Xa("u"))&&"\\"!==v&&ob(v.charCodeAt(0))||Ra({},"Unexpected token %0","ILLEGAL"),w+=v)}return w}function Ia(){var v=ma,w=Y.charCodeAt(ma),p=Y[ma];switch(w){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++ma,{type:7,value:String.fromCharCode(w),start:v,end:ma};default:var r=Y.charCodeAt(ma+1);if(61===r)switch(w){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return ma+=
2,{type:7,value:String.fromCharCode(w)+String.fromCharCode(r),start:v,end:ma};case 33:case 61:return ma+=2,61===Y.charCodeAt(ma)&&++ma,{type:7,value:Y.slice(v,ma),start:v,end:ma}}}w=Y.substr(ma,4);if("\x3e\x3e\x3e\x3d"===w)return ma+=4,{type:7,value:w,start:v,end:ma};w=w.substr(0,3);if("\x3e\x3e\x3e"===w||"\x3c\x3c\x3d"===w||"\x3e\x3e\x3d"===w)return ma+=3,{type:7,value:w,start:v,end:ma};w=w.substr(0,2);if(p===w[1]&&0<="+-\x3c\x3e\x26|".indexOf(p)||"\x3d\x3e"===w)return ma+=2,{type:7,value:w,start:v,
end:ma};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(p))return++ma,{type:7,value:p,start:v,end:ma};Ra({},"Unexpected token %0","ILLEGAL")}function Za(){var v=Y[ma];Wb(fb(v.charCodeAt(0))||"."===v,"Numeric literal must start with a decimal digit or a decimal point");var w=ma;var p="";if("."!==v){p=Y[ma++];v=Y[ma];if("0"===p){if("x"===v||"X"===v){++ma;for(p="";ma<Qa&&ub(Y[ma]);)p+=Y[ma++];0===p.length&&Ra({},"Unexpected token %0","ILLEGAL");cb(Y.charCodeAt(ma))&&Ra({},"Unexpected token %0","ILLEGAL");return w=
{type:6,value:parseInt("0x"+p,16),start:w,end:ma}}if(Ob(v)){for(p="0"+Y[ma++];ma<Qa&&Ob(Y[ma]);)p+=Y[ma++];(cb(Y.charCodeAt(ma))||fb(Y.charCodeAt(ma)))&&Ra({},"Unexpected token %0","ILLEGAL");return w={type:6,value:parseInt(p,8),octal:!0,start:w,end:ma}}v&&fb(v.charCodeAt(0))&&Ra({},"Unexpected token %0","ILLEGAL")}for(;fb(Y.charCodeAt(ma));)p+=Y[ma++];v=Y[ma]}if("."===v){for(p+=Y[ma++];fb(Y.charCodeAt(ma));)p+=Y[ma++];v=Y[ma]}if("e"===v||"E"===v){p+=Y[ma++];v=Y[ma];if("+"===v||"-"===v)p+=Y[ma++];
if(fb(Y.charCodeAt(ma)))for(;fb(Y.charCodeAt(ma));)p+=Y[ma++];else Ra({},"Unexpected token %0","ILLEGAL")}cb(Y.charCodeAt(ma))&&Ra({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(p),start:w,end:ma}}function mb(v,w){let p=v;0<=w.indexOf("u")&&(p=p.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,D)=>{if(1114111>=parseInt(D,16))return"x";Ra({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(p)}catch(r){Ra({},"Invalid regular expression")}try{return new RegExp(v,
w)}catch(r){return null}}function Da(){rb();if(ma>=Qa)return{type:2,start:ma,end:ma};var v=Y.charCodeAt(ma);if(cb(v)){v=ma;if(92===Y.charCodeAt(ma))var w=Ha();else a:{for(w=ma++;ma<Qa;){var p=Y.charCodeAt(ma);if(92===p){ma=w;w=Ha();break a}if(ob(p))++ma;else break}w=Y.slice(w,ma)}return{type:1===w.length?3:ua.hasOwnProperty(w)?4:"null"===w?5:"true"===w||"false"===w?1:3,value:w,start:v,end:ma}}if(40===v||41===v||59===v)return Ia();if(39===v||34===v){var r="";p=!1;v=Y[ma];Wb("'"===v||'"'===v,"String literal must starts with a quote");
w=ma;for(++ma;ma<Qa;){var D=Y[ma++];if(D===v){v="";break}else if("\\"===D)if((D=Y[ma++])&&zb(D.charCodeAt(0)))"\r"===D&&"\n"===Y[ma]&&++ma;else switch(D){case "u":case "x":if("{"===Y[ma]){++ma;var E=Y[ma];D=0;for("}"===E&&Ra({},"Unexpected token %0","ILLEGAL");ma<Qa;){E=Y[ma++];if(!ub(E))break;D=16*D+"0123456789abcdef".indexOf(E.toLowerCase())}(1114111<D||"}"!==E)&&Ra({},"Unexpected token %0","ILLEGAL");D=65535>=D?String.fromCharCode(D):String.fromCharCode((D-65536>>10)+55296,(D-65536&1023)+56320);
r+=D}else r+=Xa(D);break;case "n":r+="\n";break;case "r":r+="\r";break;case "t":r+="\t";break;case "b":r+="\b";break;case "f":r+="\f";break;case "v":r+="\x0B";break;default:Ob(D)?(E="01234567".indexOf(D),0!==E&&(p=!0),ma<Qa&&Ob(Y[ma])&&(p=!0,E=8*E+"01234567".indexOf(Y[ma++]),0<="0123".indexOf(D)&&ma<Qa&&Ob(Y[ma])&&(E=8*E+"01234567".indexOf(Y[ma++]))),r+=String.fromCharCode(E)):r+=D}else if(zb(D.charCodeAt(0)))break;else r+=D}""!==v&&Ra({},"Unexpected token %0","ILLEGAL");return{type:8,value:r,octal:p,
start:w,end:ma}}return 46===v?fb(Y.charCodeAt(ma+1))?Za():Ia():fb(v)?Za():Ia()}function Fa(){const v=Ua;ma=v.end;Ua=Da();ma=v.end;return v}function hb(){const v=ma;Ua=Da();ma=v}function Ca(v,w,p){const r=new ea("||"===v||"\x26\x26"===v?"LogicalExpression":"BinaryExpression");r.operator=v;r.left=w;r.right=p;return r}function bb(v){const w=new ea("Identifier");w.name=v;return w}function La(v){const w=new ea("Literal");w.value=v.value;w.raw=Y.slice(v.start,v.end);v.regex&&("//"===w.raw&&(w.raw="/(?:)/"),
w.regex=v.regex);return w}function ka(v,w,p){const r=new ea("MemberExpression");r.computed="["===v;r.object=w;r.property=p;r.computed||(p.member=!0);return r}function Aa(v,w,p){const r=new ea("Property");r.key=w;r.value=p;r.kind=v;return r}function Ra(v,w){var p=Array.prototype.slice.call(arguments,2),r=w.replace(/%(\d)/g,(E,H)=>{Wb(H<p.length,"Message reference must be in range");return p[H]});var D=Error(r);D.index=ma;D.description=r;throw D;}function Ya(v){2===v.type&&Ra(v,"Unexpected end of input");
6===v.type&&Ra(v,"Unexpected number");8===v.type&&Ra(v,"Unexpected string");3===v.type&&Ra(v,"Unexpected identifier");4===v.type&&Ra(v,"Unexpected reserved word");Ra(v,"Unexpected token %0",v.value)}function ib(v){const w=Fa();7===w.type&&w.value===v||Ya(w)}function db(v){return 7===Ua.type&&Ua.value===v}function nb(){ma=Ua.start;const v=Fa();return 8===v.type||6===v.type?(v.octal&&Ra(v,"Octal literals are not allowed in strict mode."),La(v)):bb(v.value)}function $a(){if(db("(")){ib("(");var v=J();
ib(")");return v}if(db("[")){v=[];ma=Ua.start;for(ib("[");!db("]");)db(",")?(Fa(),v.push(null)):(v.push(Q()),db("]")||ib(","));Fa();var w=new ea("ArrayExpression");w.elements=v;return v=w}if(db("{")){v=[];w={};var p=String;ma=Ua.start;for(ib("{");!db("}");){ma=Ua.start;var r=Ua;if(3===r.type){var D=nb();ib(":");r=Q();r=Aa("init",D,r)}else 2===r.type||7===r.type?(Ya(r),r=void 0):(D=nb(),ib(":"),r=Q(),r=Aa("init",D,r));D="Identifier"===r.key.type?r.key.name:p(r.key.value);D="$"+D;Object.prototype.hasOwnProperty.call(w,
D)?Ra({},"Duplicate data property in object literal not allowed in strict mode"):w[D]=!0;v.push(r);db("}")||ib(",")}ib("}");w=new ea("ObjectExpression");w.properties=v;return v=w}v=Ua.type;ma=Ua.start;if(3===v||la[Ua.value])w=bb(Fa().value);else if(8===v||6===v)Ua.octal&&Ra(Ua,"Octal literals are not allowed in strict mode."),w=La(Fa());else{if(4===v)throw Error("Disabled.");if(1===v)v=Fa(),v.value="true"===v.value,w=La(v);else if(5===v)v=Fa(),v.value=null,w=La(v);else if(db("/")||db("/\x3d")){var E;
Ua=null;rb();v=ma;w=Y[ma];Wb("/"===w,"Regular expression literal must start with a slash");p=Y[ma++];for(D=r=!1;ma<Qa;)if(w=Y[ma++],p+=w,"\\"===w)w=Y[ma++],zb(w.charCodeAt(0))&&Ra({},"Invalid regular expression: missing /"),p+=w;else if(zb(w.charCodeAt(0)))Ra({},"Invalid regular expression: missing /");else if(r)"]"===w&&(r=!1);else if("/"===w){D=!0;break}else"["===w&&(r=!0);D||Ra({},"Invalid regular expression: missing /");w=p.substr(1,p.length-2);for(E=D="";ma<Qa;){r=Y[ma];if(!ob(r.charCodeAt(0)))break;
++ma;"\\"===r&&ma<Qa?Ra({},"Unexpected token %0","ILLEGAL"):(E+=r,D+=r)}0<=E.search(/[^gimuy]/g)&&Ra({},"Invalid regular expression",E);r=E;E=mb(w,r);w=La({literal:p+D,value:E,regex:{pattern:w,flags:r},start:v,end:ma});hb()}else Ya(Fa())}return w}function S(){var v;for(v=$a();;)if(db(".")){ib(".");ma=Ua.start;var w=Fa();3===w.type||4===w.type||1===w.type||5===w.type||Ya(w);w=bb(w.value);v=ka(".",v,w)}else if(db("(")){w=[];ib("(");if(!db(")"))for(;ma<Qa;){w.push(Q());if(db(")"))break;ib(",")}ib(")");
{const p=new ea("CallExpression");p.callee=v;p.arguments=w;v=p}}else if(db("["))ib("["),w=J(),ib("]"),v=ka("[",v,w);else break;if(7===Ua.type&&(db("++")||db("--")))throw Error("Disabled.");return v}function z(){if(7!==Ua.type&&4!==Ua.type)var v=S();else{if(db("++")||db("--"))throw Error("Disabled.");if(db("+")||db("-")||db("~")||db("!")){var w=Fa();v=z();{w=w.value;const p=new ea("UnaryExpression");p.operator=w;p.argument=v;p.prefix=!0;v=p}}else{if(4===Ua.type&&"delete"===Ua.value||4===Ua.type&&"void"===
Ua.value||4===Ua.type&&"typeof"===Ua.value)throw Error("Disabled.");v=S()}}return v}function I(v){let w=0;if(7!==v.type&&4!==v.type)return 0;switch(v.value){case "||":w=1;break;case "\x26\x26":w=2;break;case "|":w=3;break;case "^":w=4;break;case "\x26":w=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":w=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":w=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":w=8;break;case "+":case "-":w=
9;break;case "*":case "/":case "%":w=11}return w}function Q(){var v=Ua;var w=z();var p=Ua;var r=I(p);if(0===r)var D=w;else{p.prec=r;Fa();v=[v,Ua];var E=z();for(D=[w,p,E];0<(r=I(Ua));){for(;2<D.length&&r<=D[D.length-2].prec;)E=D.pop(),p=D.pop().value,w=D.pop(),v.pop(),w=Ca(p,w,E),D.push(w);p=Fa();p.prec=r;D.push(p);v.push(Ua);w=z();D.push(w)}r=D.length-1;w=D[r];for(v.pop();1<r;)v.pop(),w=Ca(D[r-1].value,D[r-2],w),r-=2;D=w}db("?")&&(Fa(),v=Q(),ib(":"),r=Q(),w=new ea("ConditionalExpression"),w.test=
D,w.consequent=v,w.alternate=r,D=w);return D}function J(){const v=Q();if(db(","))throw Error("Disabled.");return v}function W(v){function w(p,r,D){return E=>{{let H=v(E[0]);r&&(H=r+"("+H+")",0===r.lastIndexOf("new ",0)&&(H="("+H+")"));E=H+"."+p+(0>D?"":0===D?"()":"("+E.slice(1).map(v).join(",")+")")}return E}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",
log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(p){3>p.length&&x.error("Missing arguments to clamp function.");3<p.length&&x.error("Too many arguments to clamp function.");p=p.map(v);return"Math.max("+p[1]+", Math.min("+p[2]+","+p[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",date:w("getDate","new Date",0),day:w("getDay","new Date",0),year:w("getFullYear","new Date",0),month:w("getMonth",
"new Date",0),hours:w("getHours","new Date",0),minutes:w("getMinutes","new Date",0),seconds:w("getSeconds","new Date",0),milliseconds:w("getMilliseconds","new Date",0),time:w("getTime","new Date",0),timezoneoffset:w("getTimezoneOffset","new Date",0),utcdate:w("getUTCDate","new Date",0),utcday:w("getUTCDay","new Date",0),utcyear:w("getUTCFullYear","new Date",0),utcmonth:w("getUTCMonth","new Date",0),utchours:w("getUTCHours","new Date",0),utcminutes:w("getUTCMinutes","new Date",0),utcseconds:w("getUTCSeconds",
"new Date",0),utcmilliseconds:w("getUTCMilliseconds","new Date",0),length:w("length",null,-1),join:w("join",null),indexof:w("indexOf",null),lastindexof:w("lastIndexOf",null),slice:w("slice",null),reverse:function(p){return"("+v(p[0])+").slice().reverse()"},parseFloat:"parseFloat",parseInt:"parseInt",upper:w("toUpperCase","String",0),lower:w("toLowerCase","String",0),substring:w("substring","String"),split:w("split","String"),replace:w("replace","String"),trim:w("trim","String",0),regexp:"RegExp",
test:w("test","RegExp"),if:function(p){3>p.length&&x.error("Missing arguments to if function.");3<p.length&&x.error("Too many arguments to if function.");p=p.map(v);return"("+p[0]+"?"+p[1]+":"+p[2]+")"}}}ea.prototype.visit=function(v){let w,p,r;if(v(this))return 1;w=Sa(this);p=0;for(r=w.length;p<r;++p)if(w[p].visit(v))return 1};var Y,ma,Qa,Ua,U=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
sa=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const ua={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},la={"if":1};var T={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};n.ASTNode=ea;n.ArrayExpression="ArrayExpression";n.BinaryExpression="BinaryExpression";n.CallExpression="CallExpression";n.ConditionalExpression="ConditionalExpression";n.Identifier="Identifier";n.Literal="Literal";n.LogicalExpression="LogicalExpression";n.MemberExpression="MemberExpression";n.ObjectExpression="ObjectExpression";
n.Property="Property";n.RawCode="RawCode";n.UnaryExpression="UnaryExpression";n.codegen=function(v){function w(ta){if(x.isString(ta))return ta;const eb=ba[ta.type];null==eb&&x.error("Unsupported type: "+ta.type);return eb(ta)}function p(ta){ta={code:w(ta),globals:Object.keys(oa),fields:Object.keys(Va)};oa={};Va={};return ta}v=v||{};const r=v.allowed?x.toSet(v.allowed):{},D=v.forbidden?x.toSet(v.forbidden):{},E=v.constants||T,H=(v.functions||W)(w),C=v.globalvar,ha=v.fieldvar,xa=x.isFunction(C)?C:ta=>
`${C}["${ta}"]`;let oa={},Va={},Ja=0;const ba={Literal:ta=>ta.raw,Identifier:ta=>{ta=ta.name;if(0<Ja)return ta;if(x.hasOwnProperty(D,ta))return x.error("Illegal identifier: "+ta);if(x.hasOwnProperty(E,ta))return E[ta];if(x.hasOwnProperty(r,ta))return ta;oa[ta]=1;return xa(ta)},MemberExpression:ta=>{const eb=!ta.computed,xb=w(ta.object);eb&&(Ja+=1);ta=w(ta.property);if(xb===ha){var Kb=Va;var fc=(fc=ta&&ta.length-1)&&('"'===ta[0]&&'"'===ta[fc]||"'"===ta[0]&&"'"===ta[fc])?ta.slice(1,-1):ta;Kb[fc]=1}eb&&
--Ja;return xb+(eb?"."+ta:"["+ta+"]")},CallExpression:ta=>{"Identifier"!==ta.callee.type&&x.error("Illegal callee type: "+ta.callee.type);const eb=ta.callee.name;ta=ta.arguments;const xb=x.hasOwnProperty(H,eb)&&H[eb];xb||x.error("Unrecognized function: "+eb);return x.isFunction(xb)?xb(ta):xb+"("+ta.map(w).join(",")+")"},ArrayExpression:ta=>"["+ta.elements.map(w).join(",")+"]",BinaryExpression:ta=>"("+w(ta.left)+ta.operator+w(ta.right)+")",UnaryExpression:ta=>"("+ta.operator+w(ta.argument)+")",ConditionalExpression:ta=>
"("+w(ta.test)+"?"+w(ta.consequent)+":"+w(ta.alternate)+")",LogicalExpression:ta=>"("+w(ta.left)+ta.operator+w(ta.right)+")",ObjectExpression:ta=>"{"+ta.properties.map(w).join(",")+"}",Property:ta=>{Ja+=1;const eb=w(ta.key);--Ja;return eb+":"+w(ta.value)}};p.functions=H;p.constants=E;return p};n.constants=T;n.functions=W;n.parse=function(v){Y=v;ma=0;Qa=Y.length;Ua=null;hb();v=J();if(2!==Ua.type)throw Error("Unexpect token after expression.");return v};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[60]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(59)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega))})(this,function(n,x,ea){function Sa(fb,ub){var Ob=ub.fields;ub=ub.values;for(var zb=Ob.length,cb=0,ob,rb;cb<zb;++cb)if(rb=Ob[cb],rb.getter=x.field.getter||x.field(rb.field),ob=rb.getter(fb),x.isDate(ob)&&(ob=
x.toNumber(ob)),x.isDate(ub[cb])&&(ub[cb]=x.toNumber(ub[cb])),x.isDate(ub[cb][0])&&(ub[cb]=ub[cb].map(x.toNumber)),"E"===rb.type){if(x.isArray(ub[cb])?0>ub[cb].indexOf(ob):ob!==ub[cb])return!1}else if("R"===rb.type){if(!x.inrange(ob,ub[cb]))return!1}else if("R-RE"===rb.type){if(!x.inrange(ob,ub[cb],!0,!1))return!1}else if("R-E"===rb.type){if(!x.inrange(ob,ub[cb],!1,!1))return!1}else if("R-LE"===rb.type&&!x.inrange(ob,ub[cb],!1,!0))return!1;return!0}var Wb={E_union:function(fb,ub){if(!fb.length)return ub;
for(var Ob=0,zb=ub.length;Ob<zb;++Ob)0>fb.indexOf(ub[Ob])&&fb.push(ub[Ob]);return fb},E_intersect:function(fb,ub){return fb.length?fb.filter(Ob=>0<=ub.indexOf(Ob)):ub},R_union:function(fb,ub){var Ob=x.toNumber(ub[0]),zb=x.toNumber(ub[1]);Ob>zb&&(Ob=ub[1],zb=ub[0]);if(!fb.length)return[Ob,zb];fb[0]>Ob&&(fb[0]=Ob);fb[1]<zb&&(fb[1]=zb);return fb},R_intersect:function(fb,ub){var Ob=x.toNumber(ub[0]),zb=x.toNumber(ub[1]);Ob>zb&&(Ob=ub[1],zb=ub[0]);if(!fb.length)return[Ob,zb];if(zb<fb[0]||fb[1]<Ob)return[];
fb[0]<Ob&&(fb[0]=Ob);fb[1]>zb&&(fb[1]=zb);return fb}};n.selectionResolve=function(fb,ub,Ob,zb){fb=(fb=this.context.data[fb])?fb.values.value:[];for(var cb={},ob={},rb={},Xa,Ha,Ia,Za,mb,Da,Fa=fb.length,hb=0,Ca,bb;hb<Fa;++hb){Xa=fb[hb];Ia=Xa.unit;Ha=Xa.fields;Xa=Xa.values;Ca=0;for(bb=Ha.length;Ca<bb;++Ca)Za=Ha[Ca],mb=cb[Za.field]||(cb[Za.field]={}),Da=mb[Ia]||(mb[Ia]=[]),rb[Za.field]=Za=Za.type.charAt(0),Za=Wb[Za+"_union"],mb[Ia]=Za(Da,x.array(Xa[Ca]));Ob&&(Da=ob[Ia]||(ob[Ia]=[]),Da.push(x.array(Xa).reduce((La,
ka,Aa)=>(La[Ha[Aa].field]=ka,La),{})))}ub=ub||"union";Object.keys(cb).forEach(La=>{cb[La]=Object.keys(cb[La]).map(ka=>cb[La][ka]).reduce((ka,Aa)=>void 0===ka?Aa:Wb[rb[La]+"_"+ub](ka,Aa))});fb=Object.keys(ob);Ob&&fb.length&&(cb[zb?"vlPoint":"vlMulti"]="union"===ub?{["or"]:fb.reduce((La,ka)=>(La.push(...ob[ka]),La),[])}:{["and"]:fb.map(La=>({["or"]:ob[La]}))});return cb};n.selectionTest=function(fb,ub,Ob){var zb=this.context.data[fb];fb=zb?zb.values.value:[];zb=zb?zb["index:unit"]&&zb["index:unit"].value:
void 0;Ob="intersect"===Ob;for(var cb=fb.length,ob=0,rb,Xa,Ha,Ia;ob<cb;++ob)if(rb=fb[ob],zb&&Ob){if(Xa=Xa||{},Ha=Xa[Ia=rb.unit]||0,-1!==Ha){rb=Sa(ub,rb);Xa[Ia]=rb?-1:++Ha;if(rb&&1===zb.size)return!0;if(!rb&&Ha===zb.get(Ia).count)return!1}}else if(rb=Sa(ub,rb),Ob^rb)return rb;return cb&&Ob};n.selectionVisitor=function(fb,ub,Ob,zb){ub[0].type!==ea.Literal&&x.error("First argument to selection functions must be a string literal.");fb=ub[0].value;ub=2<=ub.length&&x.peek(ub).value;const cb=":"+fb;"intersect"!==
ub||x.hasOwnProperty(zb,"@unit")||(zb["@unit"]=Ob.getData(fb).indataRef(Ob,"unit"));x.hasOwnProperty(zb,cb)||(zb[cb]=Ob.getData(fb).tuplesRef())};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[61]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(59),Rb(42),Rb(35),Rb(29),Rb(38),Rb(39),Rb(60),Rb(30),Rb(21),Rb(18)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression d3-geo d3-color vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time d3-array".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.d3,n.d3,n.vega,n.vega,n.vega,n.vega,
n.vega,n.vega,n.d3))})(this,function(n,x,ea,Sa,Wb,fb,ub,Ob,zb,cb,ob,rb){function Xa(Ma){return(Ma=this.context.data[Ma])?Ma.values.value:[]}function Ha(Ma,vb,ac){return(ac=(Ma=this.context.data[Ma]["index:"+vb])?Ma.value.get(ac):void 0)?ac.count:ac}function Ia(Ma,vb){const ac=this.context.dataflow;ac.pulse(this.context.data[Ma].input,ac.changeset().remove(x.truthy).insert(vb));return 1}function Za(Ma,vb,ac){if(Ma){const rd=this.context.dataflow;rd.pulse(Ma.mark.source,rd.changeset().encode(Ma,vb))}return void 0!==
ac?ac:Ma}function mb(Ma,vb,ac){if(!Number.isInteger(Ma)||!Number.isInteger(vb))return"";rc.setYear(2E3);rc.setMonth(Ma);rc.setDate(vb);return lc.call(this,rc,ac)}function Da(Ma){return mb.call(this,Ma,1,"%B")}function Fa(Ma){return mb.call(this,Ma,1,"%b")}function hb(Ma){return mb.call(this,0,2+Ma,"%A")}function Ca(Ma){return mb.call(this,0,2+Ma,"%a")}function bb(Ma,vb,ac,rd){vb[0].type!==ea.Literal&&x.error("First argument to data functions must be a string literal.");Ma=vb[0].value;vb=":"+Ma;if(!x.hasOwnProperty(vb,
rd))try{rd[vb]=ac.getData(Ma).tuplesRef()}catch(vd){}}function La(Ma,vb,ac,rd){vb[0].type!==ea.Literal&&x.error("First argument to indata must be a string literal.");vb[1].type!==ea.Literal&&x.error("Second argument to indata must be a string literal.");Ma=vb[0].value;vb=vb[1].value;const vd="@"+vb;x.hasOwnProperty(vd,rd)||(rd[vd]=ac.getData(Ma).indataRef(ac,vb))}function ka(Ma,vb,ac,rd){if(vb[0].type===ea.Literal)Aa(ac,rd,vb[0].value);else for(Ma in ac.scales)Aa(ac,rd,Ma)}function Aa(Ma,vb,ac){const rd=
"%"+ac;if(!x.hasOwnProperty(vb,rd))try{vb[rd]=Ma.scaleRef(ac)}catch(vd){}}function Ra(Ma,vb){let ac;return x.isFunction(Ma)?Ma:x.isString(Ma)?(ac=vb.scales[Ma])&&ac.value:void 0}function Ya(Ma,vb,ac){vb.__bandwidth=vd=>vd&&vd.bandwidth?vd.bandwidth():0;ac._bandwidth=ka;ac._range=ka;ac._scale=ka;const rd=vd=>"_["+(vd.type===ea.Literal?x.stringValue("%"+vd.value):x.stringValue("%")+"+"+Ma(vd))+"]";return{_bandwidth:vd=>`this.__bandwidth(${rd(vd[0])})`,_range:vd=>`${rd(vd[0])}.range()`,_scale:vd=>`${rd(vd[0])}(${Ma(vd[1])})`}}
function ib(Ma,vb){return function(ac,rd,vd){return ac?(ac=Ra(ac,(vd||this).context))&&ac.path[Ma](rd):vb(rd)}}function db(Ma){const vb=this.context.group;let ac=!1;if(vb)for(;Ma;){if(Ma===vb){ac=!0;break}Ma=Ma.mark.group}return ac}function nb(Ma,vb,ac){try{Ma[vb].apply(Ma,["EXPRESSION"].concat([].slice.call(ac)))}catch(rd){Ma.warn(rd)}return ac[ac.length-1]}function $a(){return nb(this.context.dataflow,"warn",arguments)}function S(){return nb(this.context.dataflow,"info",arguments)}function z(){return nb(this.context.dataflow,
"debug",arguments)}function I(Ma){Ma/=255;return.03928>=Ma?Ma/12.92:Math.pow((Ma+.055)/1.055,2.4)}function Q(Ma){var vb=Wb.rgb(Ma);Ma=I(vb.r);const ac=I(vb.g);vb=I(vb.b);return.2126*Ma+.7152*ac+.0722*vb}function J(Ma,vb){Ma=Q(Ma);vb=Q(vb);return(Math.max(Ma,vb)+.05)/(Math.min(Ma,vb)+.05)}function W(){const Ma=[].slice.call(arguments);Ma.unshift({});return x.extend(...Ma)}function Y(Ma,vb){if(Ma===vb||Ma!==Ma&&vb!==vb)Ma=!0;else if(x.isArray(Ma))if(x.isArray(vb)&&Ma.length===vb.length)a:{for(let ac=
0,rd=Ma.length;ac<rd;++ac)if(!Y(Ma[ac],vb[ac])){Ma=!1;break a}Ma=!0}else Ma=!1;else Ma=x.isObject(Ma)&&x.isObject(vb)?ma(Ma,vb):!1;return Ma}function ma(Ma,vb){for(const ac in Ma)if(!Y(Ma[ac],vb[ac]))return!1;return!0}function Qa(Ma){return vb=>ma(Ma,vb)}function Ua(Ma,vb,ac,rd,vd,de){const oe=this.context.dataflow,Z=this.context.data[Ma],za=Z.input;Ma=oe.stamp();let gb=Z.changes,Db;if(!1===oe._trigger||!(za.value.length||vb||rd))return 0;if(!gb||gb.stamp<Ma)Z.changes=gb=oe.changeset(),gb.stamp=Ma,
oe.runAfter(()=>{Z.modified=!0;oe.pulse(za,gb).run()},!0,1);ac&&(ac=!0===ac?x.truthy:x.isArray(ac)||fb.isTuple(ac)?ac:Qa(ac),gb.remove(ac));vb&&gb.insert(vb);rd&&(ac=Qa(rd),za.value.some(ac)?gb.remove(ac):gb.insert(rd));if(vd)for(Db in de)gb.modify(vd,Db,de[Db]);return 1}function U(Ma){var vb=Ma.touches;Ma=vb[0].clientX-vb[1].clientX;vb=vb[0].clientY-vb[1].clientY;return Math.sqrt(Ma*Ma+vb*vb)}function sa(Ma){Ma=Ma.touches;return Math.atan2(Ma[0].clientY-Ma[1].clientY,Ma[0].clientX-Ma[1].clientX)}
function ua(Ma){return x.isArray(Ma)||ArrayBuffer.isView(Ma)?Ma:null}function la(Ma){return ua(Ma)||(x.isString(Ma)?Ma:null)}function T(Ma,...vb){return ua(Ma).join(...vb)}function v(Ma,...vb){return la(Ma).indexOf(...vb)}function w(Ma,...vb){return la(Ma).lastIndexOf(...vb)}function p(Ma,...vb){return la(Ma).slice(...vb)}function r(Ma,vb,ac){x.isFunction(ac)&&x.error("Function argument passed to replace.");return String(Ma).replace(vb,ac)}function D(Ma){return ua(Ma).slice().reverse()}function E(Ma,
vb,ac){return ub.bandSpace(Ma||0,vb||0,ac||0)}function H(Ma,vb){return(Ma=Ra(Ma,(vb||this).context))&&Ma.bandwidth?Ma.bandwidth():0}function C(Ma,vb){return(Ma=Ra(Ma,(vb||this).context))?Ma.copy():void 0}function ha(Ma,vb){return(Ma=Ra(Ma,(vb||this).context))?Ma.domain():[]}function xa(Ma,vb,ac){return(Ma=Ra(Ma,(ac||this).context))?x.isArray(vb)?(Ma.invertRange||Ma.invert)(vb):(Ma.invert||Ma.invertExtent)(vb):void 0}function oa(Ma,vb){return(Ma=Ra(Ma,(vb||this).context))&&Ma.range?Ma.range():[]}function Va(Ma,
vb,ac){return(Ma=Ra(Ma,(ac||this).context))?Ma(vb):void 0}function Ja(Ma,vb,ac,rd,vd){Ma=Ra(Ma,(vd||this).context);const de=Ob.Gradient(vb,ac);vb=Ma.domain();ac=vb[0];vd=x.peek(vb);let oe=x.identity;vd-ac?oe=ub.scaleFraction(Ma,ac,vd):Ma=(Ma.interpolator?ub.scale("sequential")().interpolator(Ma.interpolator()):ub.scale("linear")().interpolate(Ma.interpolate()).range(Ma.range())).domain([ac=0,vd=1]);Ma.ticks&&(vb=Ma.ticks(+rd||15),ac!==vb[0]&&vb.unshift(ac),vd!==x.peek(vb)&&vb.push(vd));vb.forEach(Z=>
de.stop(oe(Z),Ma(Z)));return de}function ba(Ma,vb,ac){const rd=Ra(Ma,(ac||this).context);return function(vd){return rd?rd.path.context(vd)(vb):""}}function ta(Ma){let vb=null;return function(ac){return ac?Ob.pathRender(ac,vb=vb||Ob.pathParse(Ma)):Ma}}function eb(Ma,vb){Ma=Xa.call(vb,Ma);return Ma.root&&Ma.root.lookup||{}}function xb(Ma,vb,ac){Ma=eb(Ma,this);vb=Ma[vb];ac=Ma[ac];return vb&&ac?vb.path(ac).map(Nc):void 0}function Kb(Ma,vb){return(Ma=eb(Ma,this)[vb])?Ma.ancestors().map(Nc):void 0}function fc(){const Ma=
"undefined"!==typeof window&&window||null;return Ma?Ma.screen:{}}function Ec(){const Ma="undefined"!==typeof window&&window||null;return Ma?[Ma.innerWidth,Ma.innerHeight]:[void 0,void 0]}function gd(){var Ma=this.context.dataflow;return(Ma=Ma.container&&Ma.container())?[Ma.clientWidth,Ma.clientHeight]:[void 0,void 0]}function Dc(Ma){let vb=null;if(Ma){const ac=x.array(Ma.marktype),rd=x.array(Ma.markname);vb=vd=>(!ac.length||ac.some(de=>vd.marktype===de))&&(!rd.length||rd.some(de=>vd.name===de))}return vb}
function Sc(Ma,vb,ac){if(1===arguments.length)return Dd[Ma];Dd[Ma]=vb;ac&&(ld[Ma]=ac);ge&&(ge.functions[Ma]="this."+Ma);return this}var Ta=Ma=>function(vb,ac){return this.context.dataflow.locale()[Ma](ac)(vb)};const nc=Ta("format"),lc=Ta("timeFormat"),wc=Ta("utcFormat"),Pc=Ta("timeParse");Ta=Ta("utcParse");const rc=new Date(2E3,0,1),Xc=ib("area",Sa.geoArea),$c=ib("bounds",Sa.geoBounds);Sa=ib("centroid",Sa.geoCentroid);const Nc=Ma=>Ma.data,Dd={random(){return cb.random()},cumulativeNormal:cb.cumulativeNormal,
cumulativeLogNormal:cb.cumulativeLogNormal,cumulativeUniform:cb.cumulativeUniform,densityNormal:cb.densityNormal,densityLogNormal:cb.densityLogNormal,densityUniform:cb.densityUniform,quantileNormal:cb.quantileNormal,quantileLogNormal:cb.quantileLogNormal,quantileUniform:cb.quantileUniform,sampleNormal:cb.sampleNormal,sampleLogNormal:cb.sampleLogNormal,sampleUniform:cb.sampleUniform,isArray:x.isArray,isBoolean:x.isBoolean,isDate:x.isDate,isDefined(Ma){return void 0!==Ma},isNumber:x.isNumber,isObject:x.isObject,
isRegExp:x.isRegExp,isString:x.isString,isTuple:fb.isTuple,isValid(Ma){return null!=Ma&&Ma===Ma},toBoolean:x.toBoolean,toDate:x.toDate,toNumber:x.toNumber,toString:x.toString,indexof:v,join:T,lastindexof:w,replace:r,reverse:D,slice:p,flush:x.flush,lerp:x.lerp,merge:W,pad:x.pad,peek:x.peek,span:x.span,inrange:x.inrange,truncate:x.truncate,rgb:Wb.rgb,lab:Wb.lab,hcl:Wb.hcl,hsl:Wb.hsl,luminance:Q,contrast:J,sequence:rb.range,format:nc,utcFormat:wc,utcParse:Ta,utcOffset:ob.utcOffset,utcSequence:ob.utcSequence,
timeFormat:lc,timeParse:Pc,timeOffset:ob.timeOffset,timeSequence:ob.timeSequence,timeUnitSpecifier:ob.timeUnitSpecifier,monthFormat:Da,monthAbbrevFormat:Fa,dayFormat:hb,dayAbbrevFormat:Ca,quarter:x.quarter,utcquarter:x.utcquarter,week:ob.week,utcweek:ob.utcweek,dayofyear:ob.dayofyear,utcdayofyear:ob.utcdayofyear,warn:$a,info:S,debug:z,extent:x.extent,inScope:db,intersect:function(Ma,vb,ac){if(!Ma)return[];const [rd,vd]=Ma;Ma=(new Ob.Bounds).set(rd[0],rd[1],vd[0],vd[1]);ac=ac||this.context.dataflow.scenegraph().root;
return Ob.intersect(ac,Ma,Dc(vb))},clampRange:x.clampRange,pinchDistance:U,pinchAngle:sa,screen:fc,containerSize:gd,windowSize:Ec,bandspace:E,setdata:Ia,pathShape:ta,panLinear:x.panLinear,panLog:x.panLog,panPow:x.panPow,panSymlog:x.panSymlog,zoomLinear:x.zoomLinear,zoomLog:x.zoomLog,zoomPow:x.zoomPow,zoomSymlog:x.zoomSymlog,encode:Za,modify:Ua},we="view item group xy x y".split(" "),ld={},sd={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Ma=>`_[${x.stringValue("$"+Ma)}]`,
functions:function(Ma){const vb=ea.functions(Ma);we.forEach(ac=>vb[ac]="event.vega."+ac);for(const ac in Dd)vb[ac]="this."+ac;x.extend(vb,Ya(Ma,Dd,ld));return vb},constants:ea.constants,visitors:ld},ge=ea.codegen(sd);Sc("bandwidth",H,ka);Sc("copy",C,ka);Sc("domain",ha,ka);Sc("range",oa,ka);Sc("invert",xa,ka);Sc("scale",Va,ka);Sc("gradient",Ja,ka);Sc("geoArea",Xc,ka);Sc("geoBounds",$c,ka);Sc("geoCentroid",Sa,ka);Sc("geoShape",ba,ka);Sc("indata",Ha,La);Sc("data",Xa,bb);Sc("treePath",xb,bb);Sc("treeAncestors",
Kb,bb);Sc("vlSelectionTest",zb.selectionTest,zb.selectionVisitor);Sc("vlSelectionResolve",zb.selectionResolve,zb.selectionVisitor);n.DataPrefix=":";n.IndexPrefix="@";n.ScalePrefix="%";n.SignalPrefix="$";n.bandspace=E;n.bandwidth=H;n.codeGenerator=ge;n.codegenParams=sd;n.containerSize=gd;n.contrast=J;n.copy=C;n.data=Xa;n.dataVisitor=bb;n.dayAbbrevFormat=Ca;n.dayFormat=hb;n.debug=z;n.domain=ha;n.encode=Za;n.expressionFunction=Sc;n.format=nc;n.functionContext=Dd;n.geoArea=Xc;n.geoBounds=$c;n.geoCentroid=
Sa;n.geoShape=ba;n.inScope=db;n.indata=Ha;n.indataVisitor=La;n.indexof=v;n.info=S;n.invert=xa;n.join=T;n.lastindexof=w;n.luminance=Q;n.merge=W;n.modify=Ua;n.monthAbbrevFormat=Fa;n.monthFormat=Da;n.parseExpression=function(Ma,vb){const ac={};let rd;try{Ma=x.isString(Ma)?Ma:x.stringValue(Ma)+"",rd=ea.parse(Ma)}catch(vd){x.error("Expression parse error: "+Ma)}rd.visit(vd=>{if(vd.type===ea.CallExpression){var de=vd.callee.name,oe=sd.visitors[de];oe&&oe(de,vd.arguments,vb,ac)}});Ma=ge(rd);Ma.globals.forEach(vd=>
{const de="$"+vd;!x.hasOwnProperty(ac,de)&&vb.getSignal(vd)&&(ac[de]=vb.signalRef(vd))});return{$expr:x.extend({code:Ma.code},vb.options.ast?{ast:rd}:null),$fields:Ma.fields,$params:ac}};n.pathShape=ta;n.pinchAngle=sa;n.pinchDistance=U;n.range=oa;n.replace=r;n.reverse=D;n.scale=Va;n.scaleGradient=Ja;n.scaleVisitor=ka;n.screen=fc;n.setdata=Ia;n.slice=p;n.timeFormat=lc;n.timeParse=Pc;n.treeAncestors=Kb;n.treePath=xb;n.utcFormat=wc;n.utcParse=Ta;n.warn=$a;n.windowSize=Ec;Object.defineProperty(n,"__esModule",
{value:!0})})};
shadow$provide[62]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(29)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega))})(this,function(n,x,ea){function Sa(Xa,Ha,Ia){";"!==Ia[Ia.length-1]&&(Ia="return("+Ia+");");Ha=Function(...Ha.concat(Ia));return Xa&&Xa.functions?Ha.bind(Xa.functions):Ha}function Wb(Xa,Ha,Ia){if(!Xa||!x.isObject(Xa))return Xa;
for(let Za=0,mb=ob.length,Da;Za<mb;++Za)if(Da=ob[Za],x.hasOwnProperty(Xa,Da.key))return Da.parse(Xa,Ha,Ia);return Xa}function fb(Xa,Ha,Ia,Za){this.dataflow=Xa;this.transforms=Ha;this.events=Xa.events.bind(Xa);this.expr=Za||cb;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};Ia&&(this.functions=Object.create(Ia),this.functions.context=this)}function ub(Xa){this.dataflow=Xa.dataflow;this.transforms=Xa.transforms;this.events=Xa.events;this.expr=Xa.expr;this.signals=Object.create(Xa.signals);
this.scales=Object.create(Xa.scales);this.nodes=Object.create(Xa.nodes);this.data=Object.create(Xa.data);this.fn=Object.create(Xa.fn);Xa.functions&&(this.functions=Object.create(Xa.functions),this.functions.context=this)}const Ob=x.toSet(["rule"]),zb=x.toSet(["group","image","rect"]);var cb={operator:(Xa,Ha)=>Sa(Xa,["_"],Ha.code),parameter:(Xa,Ha)=>Sa(Xa,["datum","_"],Ha.code),event:(Xa,Ha)=>Sa(Xa,["event"],Ha.code),handler:(Xa,Ha)=>Sa(Xa,["_","event"],`var datum=event.item&&event.item.datum;return ${Ha.code};`),
encode:(Xa,Ha)=>{const {marktype:Ia,channels:Za}=Ha;Ha="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";for(var mb in Za){const Da="o["+x.stringValue(mb)+"]";Ha+=`$=${Za[mb].code};if(${Da}!==$)${Da}=$,m=1;`}mb="";Ob[Ia]||(Za.x2&&(Za.x?(zb[Ia]&&(mb+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),mb+="o.width\x3do.x2-o.x;"):mb+="o.x\x3do.x2-(o.width||0);"),Za.xc&&(mb+="o.x\x3do.xc-(o.width||0)/2;"),Za.y2&&(Za.y?(zb[Ia]&&(mb+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),mb+="o.height\x3do.y2-o.y;"):
mb+="o.y\x3do.y2-(o.height||0);"),Za.yc&&(mb+="o.y\x3do.yc-(o.height||0)/2;"));Ha+=mb;return Sa(Xa,["item","_"],Ha+"return m;")},codegen:{get(Xa){Xa=`[${Xa.map(x.stringValue).join("][")}]`;const Ha=Function("_",`return _${Xa};`);Ha.path=Xa;return Ha},comparator(Xa,Ha){let Ia;Xa=Function("a","b","var u, v; return "+Xa.map((Za,mb)=>{const Da=Ha[mb];let Fa;Za.path?(Fa=`a${Za.path}`,Za=`b${Za.path}`):((Ia=Ia||{})["f"+mb]=Za,Fa=`this.f${mb}(a)`,Za=`this.f${mb}(b)`);mb=-Da;return`((u = ${Fa}) < (v = ${Za}) || u == null) && v != null ? ${mb}
  : (u > v || v == null) && u != null ? ${Da}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${mb}
  : v !== v && u === u ? ${Da} : `}).join("")+"0;");return Ia?Xa.bind(Ia):Xa}}},ob=[{key:"$ref",parse:function(Xa,Ha){return Ha.get(Xa.$ref)||x.error("Operator not defined: "+Xa.$ref)}},{key:"$key",parse:function(Xa,Ha){const Ia="k:"+Xa.$key+"_"+!!Xa.$flat;return Ha.fn[Ia]||(Ha.fn[Ia]=x.key(Xa.$key,Xa.$flat,Ha.expr.codegen))}},{key:"$expr",parse:function(Xa,Ha,Ia){Xa.$params&&Ha.parseParameters(Xa.$params,Ia);Ia="e:"+Xa.$expr.code+"_"+Xa.$name;return Ha.fn[Ia]||(Ha.fn[Ia]=x.accessor(Ha.parameterExpression(Xa.$expr),
Xa.$fields,Xa.$name))}},{key:"$field",parse:function(Xa,Ha){if(!Xa.$field)return null;const Ia="f:"+Xa.$field+"_"+Xa.$name;return Ha.fn[Ia]||(Ha.fn[Ia]=x.field(Xa.$field,Xa.$name,Ha.expr.codegen))}},{key:"$encode",parse:function(Xa,Ha){Xa=Xa.$encode;const Ia={};for(const Za in Xa){const mb=Xa[Za];Ia[Za]=x.accessor(Ha.encodeExpression(mb.$expr),mb.$fields);Ia[Za].output=mb.$output}return Ia}},{key:"$compare",parse:function(Xa,Ha){const Ia="c:"+Xa.$compare+"_"+Xa.$order,Za=x.array(Xa.$compare).map(mb=>
mb&&mb.$tupleid?ea.tupleid:mb);return Ha.fn[Ia]||(Ha.fn[Ia]=x.compare(Za,Xa.$order,Ha.expr.codegen))}},{key:"$context",parse:function(Xa,Ha){return Ha}},{key:"$subflow",parse:function(Xa,Ha){const Ia=Xa.$subflow;return function(Za,mb,Da){const Fa=Ha.fork().parse(Ia);Za=Fa.get(Ia.operators[0].id);(mb=Fa.signals.parent)&&mb.set(Da);Za.detachSubflow=()=>Ha.detach(Fa);return Za}}},{key:"$tupleid",parse:function(){return ea.tupleid}}];const rb={skip:!0};fb.prototype=ub.prototype={fork(){const Xa=new ub(this);
(this.subcontext||(this.subcontext=[])).push(Xa);return Xa},detach(Xa){this.subcontext=this.subcontext.filter(Ia=>Ia!==Xa);const Ha=Object.keys(Xa.nodes);for(const Ia of Ha)Xa.nodes[Ia]._targets=null;for(const Ia of Ha)Xa.nodes[Ia].detach();Xa.nodes=null},get(Xa){return this.nodes[Xa]},set(Xa,Ha){return this.nodes[Xa]=Ha},add(Xa,Ha){const Ia=this,Za=Ia.dataflow,mb=Xa.value;Ia.set(Xa.id,Ha);"collect"===(Xa.type+"").toLowerCase()&&mb&&(mb.$ingest?Za.ingest(Ha,mb.$ingest,mb.$format):mb.$request?Za.preload(Ha,
mb.$request,mb.$format):Za.pulse(Ha,Za.changeset().insert(mb)));Xa.root&&(Ia.root=Ha);if(Xa.parent){let Da=Ia.get(Xa.parent.$ref);Da?(Za.connect(Da,[Ha]),Ha.targets().add(Da)):(Ia.unresolved=Ia.unresolved||[]).push(()=>{Da=Ia.get(Xa.parent.$ref);Za.connect(Da,[Ha]);Ha.targets().add(Da)})}Xa.signal&&(Ia.signals[Xa.signal]=Ha);Xa.scale&&(Ia.scales[Xa.scale]=Ha);if(Xa.data)for(const Da in Xa.data){const Fa=Ia.data[Da]||(Ia.data[Da]={});Xa.data[Da].forEach(hb=>Fa[hb]=Ha)}},resolve(){(this.unresolved||
[]).forEach(Xa=>Xa());delete this.unresolved;return this},operator(Xa,Ha){this.add(Xa,this.dataflow.add(Xa.value,Ha))},transform(Xa,Ha){this.add(Xa,this.dataflow.add(this.transforms[(Ha+"").toLowerCase()]))},stream(Xa,Ha){this.set(Xa.id,Ha)},update(Xa,Ha,Ia,Za,mb){this.dataflow.on(Ha,Ia,Za,mb,Xa.options)},operatorExpression(Xa){return this.expr.operator(this,Xa)},parameterExpression(Xa){return this.expr.parameter(this,Xa)},eventExpression(Xa){return this.expr.event(this,Xa)},handlerExpression(Xa){return this.expr.handler(this,
Xa)},encodeExpression(Xa){return this.expr.encode(this,Xa)},parse:function(Xa){const Ha=this,Ia=Xa.operators||[];Xa.background&&(Ha.background=Xa.background);Xa.eventConfig&&(Ha.eventConfig=Xa.eventConfig);Xa.locale&&(Ha.locale=Xa.locale);Ia.forEach(Za=>Ha.parseOperator(Za));Ia.forEach(Za=>Ha.parseOperatorParameters(Za));(Xa.streams||[]).forEach(Za=>Ha.parseStream(Za));(Xa.updates||[]).forEach(Za=>Ha.parseUpdate(Za));return Ha.resolve()},parseOperator:function(Xa){"operator"!==(Xa.type+"").toLowerCase()&&
Xa.type?this.transform(Xa,Xa.type):this.operator(Xa,Xa.update?this.operatorExpression(Xa.update):null)},parseOperatorParameters:function(Xa){if(Xa.params){const Ha=this.get(Xa.id);Ha||x.error("Invalid operator id: "+Xa.id);this.dataflow.connect(Ha,Ha.parameters(this.parseParameters(Xa.params),Xa.react,Xa.initonly))}},parseParameters:function(Xa,Ha){Ha=Ha||{};const Ia=this;for(const Za in Xa){const mb=Xa[Za];Ha[Za]=x.isArray(mb)?mb.map(Da=>Wb(Da,Ia,Ha)):Wb(mb,Ia,Ha)}return Ha},parseStream:function(Xa){var Ha=
this,Ia=null!=Xa.filter?Ha.eventExpression(Xa.filter):void 0,Za=null!=Xa.stream?Ha.get(Xa.stream):void 0;if(Xa.source)Za=Ha.events(Xa.source,Xa.type,Ia);else if(Xa.merge){var mb=Xa.merge.map(Da=>Ha.get(Da));Za=mb[0].merge.apply(mb[0],mb.slice(1))}Xa.between&&(mb=Xa.between.map(Da=>Ha.get(Da)),Za=Za.between(mb[0],mb[1]));Xa.filter&&(Za=Za.filter(Ia));null!=Xa.throttle&&(Za=Za.throttle(+Xa.throttle));null!=Xa.debounce&&(Za=Za.debounce(+Xa.debounce));null==Za&&x.error("Invalid stream definition: "+JSON.stringify(Xa));
Xa.consume&&Za.consume(!0);Ha.stream(Xa,Za)},parseUpdate:function(Xa){var Ha=x.isObject(Ha=Xa.source)?Ha.$ref:Ha;Ha=this.get(Ha);var Ia=Xa.update,Za=void 0;Ha||x.error("Source not defined: "+Xa.source);var mb=Xa.target&&Xa.target.$expr?this.eventExpression(Xa.target.$expr):this.get(Xa.target);Ia&&Ia.$expr&&(Ia.$params&&(Za=this.parseParameters(Ia.$params)),Ia=this.handlerExpression(Ia.$expr));this.update(Xa,Ha,mb,Ia,Za)},getState:function(Xa){var Ha=this,Ia={};if(Xa.signals){var Za=Ia.signals={};
Object.keys(Ha.signals).forEach(Da=>{const Fa=Ha.signals[Da];Xa.signals(Da,Fa)&&(Za[Da]=Fa.value)})}if(Xa.data){var mb=Ia.data={};Object.keys(Ha.data).forEach(Da=>{const Fa=Ha.data[Da];Xa.data(Da,Fa)&&(mb[Da]=Fa.input.value)})}Ha.subcontext&&!1!==Xa.recurse&&(Ia.subcontext=Ha.subcontext.map(Da=>Da.getState(Xa)));return Ia},setState:function(Xa){var Ha=this,Ia=Ha.dataflow,Za=Xa.data,mb=Xa.signals;Object.keys(mb||{}).forEach(Da=>{Ia.update(Ha.signals[Da],mb[Da],rb)});Object.keys(Za||{}).forEach(Da=>
{Ia.pulse(Ha.data[Da].input,Ia.changeset().remove(x.truthy).insert(Za[Da]))});(Xa.subcontext||[]).forEach((Da,Fa)=>{(Fa=Ha.subcontext[Fa])&&Fa.setState(Da)})}};n.context=function(Xa,Ha,Ia,Za){return new fb(Xa,Ha,Ia,Za)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[63]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(29),Rb(39),Rb(18),Rb(61),Rb(62),Rb(48),Rb(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph d3-array vega-functions vega-runtime d3-timer vega-format".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.d3,n.vega,n.vega,n.d3,n.vega))})(this,function(n,x,ea,Sa,Wb,fb,ub,Ob,zb){function cb(ba){const ta=
ba.container();ta&&(ta.setAttribute("role","graphics-document"),ta.setAttribute("aria-roleDescription","visualization"),ob(ta,ba.description()))}function ob(ba,ta){ba&&(null==ta?ba.removeAttribute("aria-label"):ba.setAttribute("aria-label",ta))}function rb(ba){ba.add(null,ta=>{ba._background=ta.bg;ba._resize=1;return ta.bg},{bg:ba._signals.background})}function Xa(ba){const ta=ba._signals.cursor||(ba._signals.cursor=ba.add({user:"default",item:null}));ba.on(ba.events("view","mousemove"),ta,(eb,xb)=>
{const Kb=(eb=ta.value)?x.isString(eb)?eb:eb.user:"default";xb=xb.item&&xb.item.cursor||null;return eb&&Kb===eb.user&&xb==eb.item?eb:{user:Kb,item:xb}});ba.add(null,function(eb){eb=eb.cursor;let xb=this.value;x.isString(eb)||(xb=eb.item,eb=eb.user);Ha(ba,eb&&"default"!==eb?eb:xb||eb);return xb},{cursor:ta})}function Ha(ba,ta){if(ba=ba.globalCursor()?"undefined"!==typeof document&&document.body:ba.container())return null==ta?ba.style.removeProperty("cursor"):ba.style.cursor=ta}function Ia(ba,ta){ba=
ba._runtime.data;x.hasOwnProperty(ba,ta)||x.error("Unrecognized data set: "+ta);return ba[ta]}function Za(ba,ta){ea.isChangeSet(ta)||x.error("Second argument to changes must be a changeset.");ba=Ia(this,ba);ba.modified=!0;return this.pulse(ba.input,ta)}function mb(ba){var ta=ba.padding();return Math.max(0,ba._viewWidth+ta.left+ta.right)}function Da(ba){var ta=ba.padding();return Math.max(0,ba._viewHeight+ta.top+ta.bottom)}function Fa(ba){var ta=ba.padding();ba=ba._origin;return[ta.left+ba[0],ta.top+
ba[1]]}function hb(ba){var ta=Fa(ba),eb=mb(ba),xb=Da(ba);ba._renderer.background(ba.background());ba._renderer.resize(eb,xb,ta);ba._handler.origin(ta);ba._resizeListeners.forEach(Kb=>{try{Kb(eb,xb)}catch(fc){ba.error(fc)}})}function Ca(ba,ta,eb){var xb=ba._renderer;xb=xb&&xb.canvas();if(xb){var Kb=Fa(ba);var fc=ta.changedTouches?ta.changedTouches[0]:ta;fc=Sa.point(fc,xb);fc[0]-=Kb[0];fc[1]-=Kb[1]}ta.dataflow=ba;ta.item=eb;ta.vega=bb(ba,eb,fc);return ta}function bb(ba,ta,eb){function xb(Ec){var gd=
fc,Dc;if(Ec)for(Dc=ta;Dc;Dc=Dc.mark.group)if(Dc.mark.name===Ec){gd=Dc;break}return gd&&gd.mark&&gd.mark.interactive?gd:{}}function Kb(Ec){if(!Ec)return eb;x.isString(Ec)&&(Ec=xb(Ec));const gd=eb.slice();for(;Ec;)gd[0]-=Ec.x||0,gd[1]-=Ec.y||0,Ec=Ec.mark&&Ec.mark.group;return gd}const fc=ta?"group"===ta.mark.marktype?ta:ta.mark.group:null;return{view:x.constant(ba),item:x.constant(ta||{}),group:xb,xy:Kb,x:Ec=>Kb(Ec)[0],y:Ec=>Kb(Ec)[1]}}function La(ba){ba=x.extend({defaults:{}},ba);const ta=(eb,xb)=>
{xb.forEach(Kb=>{x.isArray(eb[Kb])&&(eb[Kb]=x.toSet(eb[Kb]))})};ta(ba.defaults,["prevent","allow"]);ta(ba,["view","window","selector"]);return ba}function ka(ba,ta,eb){const xb=ba._eventConfig&&ba._eventConfig[ta];return!1===xb||x.isObject(xb)&&!xb[eb]?(ba.warn(`Blocked ${ta} ${eb} event listener.`),!1):!0}function Aa(ba){return ba.item}function Ra(ba){return ba.item.mark.source}function Ya(ba){return function(ta,eb){return eb.vega.view().changeset().encode(eb.item,ba)}}function ib(ba,ta,eb){ba=document.createElement(ba);
for(const xb in ta)ba.setAttribute(xb,ta[xb]);null!=eb&&(ba.textContent=eb);return ba}function db(ba,ta,eb){if(ta){var xb=eb.param,Kb=eb.state;Kb||(Kb=eb.state={elements:null,active:!1,set:null,update:fc=>{fc!==ba.signal(xb.signal)&&ba.runAsync(null,()=>{Kb.source=!0;ba.signal(xb.signal,fc)})}},xb.debounce&&(Kb.update=x.debounce(xb.debounce,Kb.update)));nb(Kb,ta,xb,ba.signal(xb.signal));Kb.active||(ba.on(ba._signals[xb.signal],null,()=>{Kb.source?Kb.source=!1:Kb.set(ba.signal(xb.signal))}),Kb.active=
!0);return Kb}}function nb(ba,ta,eb,xb){const Kb=ib("div",{"class":"vega-bind"}),fc="radio"===eb.input?Kb:Kb.appendChild(ib("label"));fc.appendChild(ib("span",{"class":"vega-bind-name"},eb.name||eb.signal));ta.appendChild(Kb);ta=$a;switch(eb.input){case "checkbox":ta=S;break;case "select":ta=z;break;case "radio":ta=I;break;case "range":ta=Q}ta(ba,fc,eb,xb)}function $a(ba,ta,eb,xb){const Kb=ib("input");for(const fc in eb)"signal"!==fc&&"element"!==fc&&Kb.setAttribute("input"===fc?"type":fc,eb[fc]);
Kb.setAttribute("name",eb.signal);Kb.value=xb;ta.appendChild(Kb);Kb.addEventListener("input",()=>ba.update(Kb.value));ba.elements=[Kb];ba.set=fc=>Kb.value=fc}function S(ba,ta,eb,xb){eb={type:"checkbox",name:eb.signal};xb&&(eb.checked=!0);const Kb=ib("input",eb);ta.appendChild(Kb);Kb.addEventListener("change",()=>ba.update(Kb.checked));ba.elements=[Kb];ba.set=fc=>Kb.checked=!!fc||null}function z(ba,ta,eb,xb){const Kb=ib("select",{name:eb.signal}),fc=eb.labels||[];eb.options.forEach((Ec,gd)=>{const Dc=
{value:Ec};J(Ec,xb)&&(Dc.selected=!0);Kb.appendChild(ib("option",Dc,(fc[gd]||Ec)+""))});ta.appendChild(Kb);Kb.addEventListener("change",()=>{ba.update(eb.options[Kb.selectedIndex])});ba.elements=[Kb];ba.set=Ec=>{for(let gd=0,Dc=eb.options.length;gd<Dc;++gd)if(J(eb.options[gd],Ec)){Kb.selectedIndex=gd;break}}}function I(ba,ta,eb,xb){const Kb=ib("span",{"class":"vega-bind-radio"}),fc=eb.labels||[];ta.appendChild(Kb);ba.elements=eb.options.map((Ec,gd)=>{var Dc={type:"radio",name:eb.signal,value:Ec};
J(Ec,xb)&&(Dc.checked=!0);Dc=ib("input",Dc);Dc.addEventListener("change",()=>ba.update(Ec));gd=ib("label",{},(fc[gd]||Ec)+"");gd.prepend(Dc);Kb.appendChild(gd);return Dc});ba.set=Ec=>{const gd=ba.elements,Dc=gd.length;for(let Sc=0;Sc<Dc;++Sc)J(gd[Sc].value,Ec)&&(gd[Sc].checked=!0)}}function Q(ba,ta,eb,xb){xb=void 0!==xb?xb:(+eb.max+ +eb.min)/2;const Kb=null!=eb.max?eb.max:Math.max(100,+xb)||100,fc=eb.min||Math.min(0,Kb,+xb)||0,Ec=eb.step||Wb.tickStep(fc,Kb,100),gd=ib("input",{type:"range",name:eb.signal,
min:fc,max:Kb,step:Ec});gd.value=xb;const Dc=ib("span",{},+xb);ta.appendChild(gd);ta.appendChild(Dc);ta=()=>{Dc.textContent=gd.value;ba.update(+gd.value)};gd.addEventListener("input",ta);gd.addEventListener("change",ta);ba.elements=[gd];ba.set=Sc=>{gd.value=Sc;Dc.textContent=Sc}}function J(ba,ta){return ba===ta||ba+""===ta+""}function W(ba,ta,eb,xb,Kb,fc){ta=ta||new xb(ba.loader());return ta.initialize(eb,mb(ba),Da(ba),Fa(ba),Kb,fc).background(ba.background())}function Y(ba,ta){return ta?function(){try{ta.apply(this,
arguments)}catch(eb){ba.error(eb)}}:null}function ma(ba,ta,eb,xb){const Kb=(new xb(ba.loader(),Y(ba,ba.tooltip()))).scene(ba.scenegraph().root).initialize(eb,Fa(ba),ba);ta&&ta.handlers().forEach(fc=>{Kb.on(fc.type,fc.handler)});return Kb}function Qa(ba,ta){if("string"===typeof ta)if("undefined"!==typeof document){if(ta=document.querySelector(ta),!ta)return ba.error("Signal bind element not found: "+ta),null}else return ba.error("DOM document instance not found."),null;if(ta)try{ta.innerHTML=""}catch(eb){ta=
null,ba.error(eb)}return ta}function Ua(ba){x.isObject(ba)?ba={top:+ba.top||0,bottom:+ba.bottom||0,left:+ba.left||0,right:+ba.right||0}:(ba=+ba||0,ba={top:ba,bottom:ba,left:ba,right:ba});return ba}function U(ba,ta,eb,xb){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Kb=Sa.renderModule(ta);(Kb=Kb&&Kb.headless)||x.error("Unrecognized renderer type: "+ta);yield ba.runAsync();return W(ba,null,null,Kb,eb,xb).renderAsync(ba._scenegraph.root)})}function sa(ba,ta,eb){return ub.context(ba,
ea.transforms,fb.functionContext,eb).parse(ta)}function ua(ba,ta){var eb=ba.autosize();ba=ba.padding();return ta-(eb&&"padding"===eb.contains?ba.left+ba.right:0)}function la(ba,ta){var eb=ba.autosize();ba=ba.padding();return ta-(eb&&"padding"===eb.contains?ba.top+ba.bottom:0)}function T(ba){function ta(){ba._autosize=ba._resize=1}var eb=ba._signals,xb=eb.width,Kb=eb.height;eb=eb.padding;ba._resizeWidth=ba.add(null,Ec=>{ba._width=Ec.size;ba._viewWidth=ua(ba,Ec.size);ta()},{size:xb});ba._resizeHeight=
ba.add(null,Ec=>{ba._height=Ec.size;ba._viewHeight=la(ba,Ec.size);ta()},{size:Kb});const fc=ba.add(null,ta,{pad:eb});ba._resizeWidth.rank=xb.rank+1;ba._resizeHeight.rank=Kb.rank+1;fc.rank=eb.rank+1}function v(ba,ta){return ta.modified&&x.isArray(ta.input.value)&&ba.indexOf("_:vega:_")}function w(ba,ta){return!("parent"===ba||ta instanceof ea.transforms.proxy)}function p(ba,ta,eb,xb){(ba=ba.element())&&ba.setAttribute("title",r(xb))}function r(ba){return null==ba?"":x.isArray(ba)?"["+ba.map(E).join(", ")+
"]":x.isObject(ba)&&!x.isDate(ba)?D(ba):ba+""}function D(ba){return Object.keys(ba).map(ta=>{const eb=ba[ta];return ta+": "+(x.isArray(eb)?"["+eb.map(E).join(", ")+"]":E(eb))}).join("\n")}function E(ba){return x.isArray(ba)?"[]":x.isObject(ba)&&!x.isDate(ba)?"{}":ba}function H(ba,ta){ta=ta||{};ea.Dataflow.call(this);ta.loader&&this.loader(ta.loader);ta.logger&&this.logger(ta.logger);null!=ta.logLevel&&this.logLevel(ta.logLevel);if(ta.locale||ba.locale){var eb=x.extend({},ba.locale,ta.locale);this.locale(zb.locale(eb.number,
eb.time))}this._elBind=this._el=null;this._renderType=ta.renderer||Sa.RenderType.Canvas;this._scenegraph=new Sa.Scenegraph;eb=this._scenegraph.root;this._renderer=null;this._tooltip=ta.tooltip||p;this._redraw=!0;this._handler=(new Sa.CanvasHandler).scene(eb);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=[];this._eventConfig=La(ba.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const xb=sa(this,ba,ta.expr);this._runtime=xb;this._signals=
xb.signals;this._bind=(ba.bindings||[]).map(Kb=>({state:null,param:x.extend({},Kb)}));xb.root&&xb.root.set(eb);eb.source=xb.data.root.input;this.pulse(xb.data.root.input,this.changeset().insert(eb.items));this._width=this.width();this._height=this.height();this._viewWidth=ua(this,this._width);this._viewHeight=la(this,this._height);this._origin=[0,0];this._resize=0;this._autosize=1;T(this);rb(this);Xa(this);this.description(ba.description);ta.hover&&this.hover();ta.container&&this.initialize(ta.container,
ta.bind)}function C(ba,ta){return x.hasOwnProperty(ba._signals,ta)?ba._signals[ta]:x.error("Unrecognized signal name: "+x.stringValue(ta))}function ha(ba,ta){ba=(ba._targets||[]).filter(eb=>eb._update&&eb._update.handler===ta);return ba.length?ba[0]:null}function xa(ba,ta,eb,xb){let Kb=ha(eb,xb);Kb||(Kb=Y(ba,()=>xb(ta,eb.value)),Kb.handler=xb,ba.on(eb,null,Kb));return ba}function oa(ba,ta,eb){(eb=ha(ta,eb))&&ta._targets.remove(eb);return ba}const Va={trap:!1};var Ja={skip:!0};x.inherits(H,ea.Dataflow,
{evaluate(ba,ta,eb){const xb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield ea.Dataflow.prototype.evaluate.call(xb,ba,ta);if(xb._redraw||xb._resize)try{xb._renderer&&(xb._resize&&(xb._resize=0,hb(xb)),yield xb._renderer.renderAsync(xb._scenegraph.root)),xb._redraw=!1}catch(Kb){xb.error(Kb)}eb&&ea.asyncCallback(xb,eb);return xb})},dirty(ba){this._redraw=!0;this._renderer&&this._renderer.dirty(ba)},description(ba){if(arguments.length){const ta=null!=ba?ba+"":null;ta!==this._desc&&
ob(this._el,this._desc=ta);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(ba,ta,eb){const xb=C(this,ba);return 1===arguments.length?xb.value:this.update(xb,ta,eb)},width(ba){return arguments.length?this.signal("width",ba):this.signal("width")},height(ba){return arguments.length?this.signal("height",ba):this.signal("height")},padding(ba){return arguments.length?this.signal("padding",Ua(ba)):Ua(this.signal("padding"))},
autosize(ba){return arguments.length?this.signal("autosize",ba):this.signal("autosize")},background(ba){return arguments.length?this.signal("background",ba):this.signal("background")},renderer(ba){if(!arguments.length)return this._renderType;Sa.renderModule(ba)||x.error("Unrecognized renderer type: "+ba);ba!==this._renderType&&(this._renderType=ba,this._resetRenderer());return this},tooltip(ba){if(!arguments.length)return this._tooltip;ba!==this._tooltip&&(this._tooltip=ba,this._resetRenderer());
return this},loader(ba){if(!arguments.length)return this._loader;ba!==this._loader&&(ea.Dataflow.prototype.loader.call(this,ba),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(C(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(ba,ta,eb,xb,Kb,fc){this.runAfter(Ec=>{let gd=0;Ec._autosize=0;Ec.width()!==eb&&(gd=1,Ec.signal("width",eb,Ja),Ec._resizeWidth.skip(!0));Ec.height()!==xb&&(gd=
1,Ec.signal("height",xb,Ja),Ec._resizeHeight.skip(!0));Ec._viewWidth!==ba&&(Ec._resize=1,Ec._viewWidth=ba);Ec._viewHeight!==ta&&(Ec._resize=1,Ec._viewHeight=ta);if(Ec._origin[0]!==Kb[0]||Ec._origin[1]!==Kb[1])Ec._resize=1,Ec._origin=Kb;gd&&Ec.run("enter");fc&&Ec.runAfter(Dc=>Dc.resize())},!1,1)},addEventListener(ba,ta,eb){let xb=ta;eb&&!1===eb.trap||(xb=Y(this,ta),xb.raw=ta);this._handler.on(ba,xb);return this},removeEventListener(ba,ta){for(var eb=this._handler.handlers(ba),xb=eb.length,Kb,fc;0<=
--xb;)if(fc=eb[xb].type,Kb=eb[xb].handler,ba===fc&&(ta===Kb||ta===Kb.raw)){this._handler.off(fc,Kb);break}return this},addResizeListener(ba){const ta=this._resizeListeners;0>ta.indexOf(ba)&&ta.push(ba);return this},removeResizeListener(ba){var ta=this._resizeListeners;ba=ta.indexOf(ba);0<=ba&&ta.splice(ba,1);return this},addSignalListener(ba,ta){return xa(this,ba,C(this,ba),ta)},removeSignalListener(ba,ta){return oa(this,C(this,ba),ta)},addDataListener(ba,ta){return xa(this,ba,Ia(this,ba).values,
ta)},removeDataListener(ba,ta){return oa(this,Ia(this,ba).values,ta)},globalCursor(ba){if(arguments.length){if(this._globalCursor!==!!ba){const ta=Ha(this,null);this._globalCursor=!!ba;ta&&Ha(this,ta)}return this}return this._globalCursor},preventDefault(ba){return arguments.length?(this._preventDefault=ba,this):this._preventDefault},timer:function(ba,ta){this._timers.push(Ob.interval(function(eb){ba({timestamp:Date.now(),elapsed:eb})},ta))},events:function(ba,ta,eb){var xb=this,Kb=new ea.EventStream(eb);
eb=function(Dc,Sc){xb.runAsync(null,()=>{var Ta;if(Ta="view"===ba){var nc=xb._eventConfig.defaults;Ta=nc.prevent;nc=nc.allow;Ta=!1===Ta||!0===nc?!1:!0===Ta||!1===nc?!0:Ta?Ta[ta]:nc?!nc[ta]:xb.preventDefault()}Ta&&Dc.preventDefault();Kb.receive(Ca(xb,Dc,Sc))})};var fc;if("timer"===ba)ka(xb,"timer",ta)&&xb.timer(eb,ta);else if("view"===ba)ka(xb,"view",ta)&&xb.addEventListener(ta,eb,Va);else if("window"===ba?ka(xb,"window",ta)&&"undefined"!==typeof window&&(fc=[window]):"undefined"!==typeof document&&
ka(xb,"selector",ta)&&(fc=document.querySelectorAll(ba)),fc){for(var Ec=0,gd=fc.length;Ec<gd;++Ec)fc[Ec].addEventListener(ta,eb);xb._eventListeners.push({type:ta,sources:fc,handler:eb})}else xb.warn("Can not resolve event source: "+ba);return Kb},finalize:function(){var ba=this._tooltip,ta=this._timers,eb=this._eventListeners,xb;for(xb=ta.length;0<=--xb;)ta[xb].stop();for(xb=eb.length;0<=--xb;){var Kb=eb[xb];for(ta=Kb.sources.length;0<=--ta;)Kb.sources[ta].removeEventListener(Kb.type,Kb.handler)}ba&&
ba.call(this,this._handler,null,null,null);return this},hover:function(ba,ta){ba=[ba||"hover"];ta=[ta||"update",ba[0]];this.on(this.events("view","mouseover",Aa),Ra,Ya(ba));this.on(this.events("view","mouseout",Aa),Ra,Ya(ta));return this},data:function(ba,ta){return 2>arguments.length?Ia(this,ba).values.value:Za.call(this,ba,ea.changeset().remove(x.truthy).insert(ta))},change:Za,insert:function(ba,ta){return Za.call(this,ba,ea.changeset().insert(ta))},remove:function(ba,ta){return Za.call(this,ba,
ea.changeset().remove(ta))},scale:function(ba){var ta=this._runtime.scales;x.hasOwnProperty(ta,ba)||x.error("Unrecognized scale or projection: "+ba);return ta[ba].value},initialize:function(ba,ta){const eb=this;var xb=eb._renderType;const Kb=eb._eventConfig.bind;var fc=Sa.renderModule(xb);ba=eb._el=ba?Qa(eb,ba):null;cb(eb);fc||eb.error("Unrecognized renderer type: "+xb);xb=fc.handler||Sa.CanvasHandler;fc=ba?fc.renderer:fc.headless;eb._renderer=fc?W(eb,eb._renderer,ba,fc):null;eb._handler=ma(eb,eb._handler,
ba,xb);eb._redraw=!0;ba&&"none"!==Kb&&(ta=ta?eb._elBind=Qa(eb,ta):ba.appendChild(ib("form",{"class":"vega-bindings"})),eb._bind.forEach(Ec=>{Ec.param.element&&"container"!==Kb&&(Ec.element=Qa(eb,Ec.param.element))}),eb._bind.forEach(Ec=>{db(eb,Ec.element||ta,Ec)}));return eb},toImageURL:function(ba,ta){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){ba!==Sa.RenderType.Canvas&&ba!==Sa.RenderType.SVG&&ba!==Sa.RenderType.PNG&&x.error("Unrecognized image type: "+ba);var xb=
yield U(eb,ba,ta);ba===Sa.RenderType.SVG?(xb=xb.svg(),xb=new Blob([xb],{type:"image/svg+xml"}),xb=window.URL.createObjectURL(xb)):xb=xb.canvas().toDataURL("image/png");return xb})},toCanvas:function(ba,ta){const eb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield U(eb,Sa.RenderType.Canvas,ba,ta)).canvas()})},toSVG:function(ba){const ta=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield U(ta,Sa.RenderType.SVG,ba)).svg()})},getState:function(ba){return this._runtime.getState(ba||
{data:v,signals:w,recurse:!0})},setState:function(ba){this.runAsync(null,ta=>{ta._trigger=!1;ta._runtime.setState(ba)},ta=>{ta._trigger=!0});return this}});n.View=H;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[64]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={}))})(this,function(n){function x(cb,ob,rb,Xa,Ha){const Ia=cb.length;let Za=0,mb;for(;ob<Ia;++ob)if(mb=cb[ob],Za||mb!==rb)Ha&&0<=Ha.indexOf(mb)?--Za:Xa&&0<=Xa.indexOf(mb)&&++Za;else break;return ob}function ea(cb){const ob=[],rb=cb.length;let Xa=0,Ha=0;for(;Ha<rb;)Ha=
x(cb,Ha,",","[{","]}"),ob.push(cb.substring(Xa,Ha).trim()),Xa=++Ha;if(0===ob.length)throw"Empty event selector: "+cb;return ob}function Sa(cb){if("["===cb[0]){var ob=cb;var rb=ob.length;cb=x(ob,1,"]","[","]");if(cb===rb)throw"Empty between selector: "+ob;rb=ea(ob.substring(1,cb));if(2!==rb.length)throw"Between selector must have two elements: "+ob;ob=ob.slice(cb+1).trim();if("\x3e"!==ob[0])throw"Expected '\x3e' after between selector: "+ob;rb=rb.map(Sa);ob=Sa(ob.slice(1).trim());ob.between?ob={between:rb,
stream:ob}:ob.between=rb}else{{rb={source:Ob};const Xa=[];let Ha=[0,0],Ia=0,Za=0,mb=cb.length,Da=0,Fa;if("}"===cb[mb-1]){Da=cb.lastIndexOf("{");if(0<=Da){try{Ha=Wb(cb.substring(Da+1,mb-1))}catch(hb){throw"Invalid throttle specification: "+cb;}cb=cb.slice(0,Da).trim();mb=cb.length}else throw"Unmatched right brace: "+cb;Da=0}if(!mb)throw cb;"@"===cb[0]&&(Ia=++Da);Fa=x(cb,Da,":");Fa<mb&&(Xa.push(cb.substring(Za,Fa).trim()),Za=Da=++Fa);Da=x(cb,Da,"[");if(Da===mb)Xa.push(cb.substring(Za,mb).trim());else if(Xa.push(cb.substring(Za,
Da).trim()),ob=[],Za=++Da,Za===mb)throw"Unmatched left bracket: "+cb;for(;Da<mb;){Da=x(cb,Da,"]");if(Da===mb)throw"Unmatched left bracket: "+cb;ob.push(cb.substring(Za,Da).trim());if(Da<mb-1&&"["!==cb[++Da])throw"Expected left bracket: "+cb;Za=++Da}if(!(mb=Xa.length)||fb.test(Xa[mb-1]))throw"Invalid event selector: "+cb;1<mb?(rb.type=Xa[1],Ia?rb.markname=Xa[0].slice(1):zb[Xa[0]]?rb.marktype=Xa[0]:rb.source=Xa[0]):rb.type=Xa[0];"!"===rb.type.slice(-1)&&(rb.consume=!0,rb.type=rb.type.slice(0,-1));null!=
ob&&(rb.filter=ob);Ha[0]&&(rb.throttle=Ha[0]);Ha[1]&&(rb.debounce=Ha[1]);ob=rb}}return ob}function Wb(cb){const ob=cb.split(",");if(!cb.length||2<ob.length)throw cb;return ob.map(rb=>{rb=+rb;if(rb!==rb)throw cb;return rb})}const fb=/[[\]{}]/,ub={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let Ob,zb;n.selector=function(cb,ob,rb){Ob=ob||"view";zb=rb||ub;return ea(cb.trim()).map(Sa)};Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[65]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb,Rb(17),Rb(61),Rb(64),Rb(38),Rb(29)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),x):(n="undefined"!==typeof globalThis?globalThis:n||self,x(n.vega={},n.vega,n.vega,n.vega,n.vega,n.vega))})(this,function(n,x,ea,Sa,Wb,fb){function ub(M){return x.isObject(M)?M:{type:M||"pad"}}function Ob(M){x.isObject(M)?
M=M.signal?M:{top:+M.top||0,bottom:+M.bottom||0,left:+M.left||0,right:+M.right||0}:(M=+M||0,M={top:M,bottom:M,left:M,right:M});return M}function zb(M,fa,kb,Qb){return null!=kb?(x.isObject(kb)&&!x.isArray(kb)||x.isArray(kb)&&kb.length&&x.isObject(kb[0])?M.update[fa]=kb:M[Qb||"enter"][fa]={value:kb},1):0}function cb(M,fa,kb){for(const Qb in fa)zb(M,Qb,fa[Qb]);for(const Qb in kb)zb(M,Qb,kb[Qb],"update")}function ob(M,fa,kb){for(const Qb in fa)kb&&x.hasOwnProperty(kb,Qb)||(M[Qb]=x.extend(M[Qb]||{},fa[Qb]));
return M}function rb(M,fa){return fa&&(fa.enter&&fa.enter[M]||fa.update&&fa.update[M])}function Xa(M,fa,kb,Qb,Mb){const bc={},jc={};let Qc,Kc;Kc="lineBreak";"text"!==fa||null==Mb[Kc]||rb(Kc,M)||Ha(bc,Kc,Mb[Kc]);if("legend"==kb||String(kb).startsWith("axis"))kb=null;kb="frame"===kb?Mb.group:"mark"===kb?x.extend({},Mb.mark,Mb[fa]):null;for(Kc in kb)(fa=rb(Kc,M)||("fill"===Kc||"stroke"===Kc)&&(rb("fill",M)||rb("stroke",M)))||Ha(bc,Kc,kb[Kc]);x.array(Qb).forEach(ad=>{ad=Mb.style&&Mb.style[ad];for(const ud in ad)rb(ud,
M)||Ha(bc,ud,ad[ud])});M=x.extend({},M);for(Kc in bc)kb=bc[Kc],kb.signal?(Qc=Qc||{})[Kc]=kb:jc[Kc]=kb;M.enter=x.extend(jc,M.enter);Qc&&(M.update=x.extend(Qc,M.update));return M}function Ha(M,fa,kb){M[fa]=kb&&kb.signal?{signal:kb.signal}:{value:kb}}function Ia(M){if(null!=M.gradient)return Za(M);if(M.signal)var fa=`(${M.signal})`;else M.color?(fa=M.color,fa=fa.c?Yd("hcl",fa.h,fa.c,fa.l):fa.h||fa.s?Yd("hsl",fa.h,fa.s,fa.l):fa.l||fa.a?Yd("lab",fa.l,fa.a,fa.b):fa.r||fa.g||fa.b?Yd("rgb",fa.r,fa.g,fa.b):
null):fa=null!=M.field?Da(M.field):void 0!==M.value?x.stringValue(M.value):void 0;if(null!=M.scale){{const kb=Bf(M.scale);null!=M.range?fa=`lerp(_range(${kb}), ${+M.range})`:(void 0!==fa&&(fa=`_scale(${kb}, ${fa})`),M.band&&(fa=(fa?fa+"+":"")+`_bandwidth(${kb})`+(1===+M.band?"":"*"+mb(M.band)),M.extra&&(fa=`(datum.extra ? _scale(${kb}, datum.extra.value) : ${fa})`)),null==fa&&(fa="0"))}}void 0===fa&&(fa=null);null!=M.exponent&&(fa=`pow(${fa},${mb(M.exponent)})`);null!=M.mult&&(fa+=`*${mb(M.mult)}`);
null!=M.offset&&(fa+=`+${mb(M.offset)}`);M.round&&(fa=`round(${fa})`);return fa}function Za(M){const fa=[M.start,M.stop,M.count].map(kb=>null==kb?null:x.stringValue(kb));for(;fa.length&&null==x.peek(fa);)fa.pop();fa.unshift(Bf(M.gradient));return`gradient(${fa.join(",")})`}function mb(M){return x.isObject(M)?"("+Ia(M)+")":M}function Da(M){return Fa(x.isObject(M)?M:{datum:M})}function Fa(M){let fa;if(M.signal){fa="datum";var kb=M.signal}else if(M.group||M.parent){kb=Math.max(1,M.level||1);for(fa="item";0<
kb--;)fa+=".mark.group";M.parent?(kb=M.parent,fa+=".datum"):kb=M.group}else M.datum?(fa="datum",kb=M.datum):x.error("Invalid field reference: "+x.stringValue(M));M.signal||(kb=x.isString(kb)?x.splitAccessPath(kb).map(x.stringValue).join("]["):Fa(kb));return fa+"["+kb+"]"}function hb(M){let fa="";M.forEach(kb=>{const Qb=Ia(kb);fa+=kb.test?`(${kb.test})?${Qb}:`:Qb});":"===x.peek(fa)&&(fa+="null");return fa}function Ca(M,fa,kb,Qb,Mb,bc){const jc={};bc=bc||{};bc.encoders={$encode:jc};M=Xa(M,fa,kb,Qb,
Mb.config);for(const ud in M){{kb=M[ud];Qb=fa;var Qc=bc,Kc=Mb;const Nd={},Td={};for(const Bd in kb)if(null!=kb[Bd]){var ad=kb[Bd];ad=x.isArray(ad)?hb(ad):Ia(ad);Nd[Bd]=bb(ad,Kc,Qc,Td)}kb={$expr:{marktype:Qb,channels:Nd},$fields:Object.keys(Td),$output:Object.keys(kb)}}jc[ud]=kb}return bc}function bb(M,fa,kb,Qb){M=ea.parseExpression(M,fa);M.$fields.forEach(Mb=>Qb[Mb]=1);x.extend(kb,M.$params);return M.$expr}function La(M,fa){x.error(M+' for "outer" push: '+x.stringValue(fa))}function ka(M,fa){const kb=
M.name;if("outer"===M.push)fa.signals[kb]||La("No prior signal definition",kb),Ae.forEach(Qb=>{void 0!==M[Qb]&&La("Invalid property ",Qb)});else{const Qb=fa.addSignal(kb,M.value);!1===M.react&&(Qb.react=!1);M.bind&&fa.addBinding(kb,M.bind)}}function Aa(M,fa,kb,Qb){this.id=-1;this.type=M;this.value=fa;this.params=kb;Qb&&(this.parent=Qb)}function Ra(M){const fa={$ref:M.id};0>M.id&&(M.refs=M.refs||[]).push(fa);return fa}function Ya(M,fa){return fa?{$field:M,$name:fa}:{$field:M}}function ib(M,fa){M={$key:M};
fa&&(M.$flat=!0);return M}function db(M,fa){return(M&&M.signal?"$"+M.signal:M||"")+(M&&fa?"_":"")+(fa&&fa.signal?"$"+fa.signal:fa||"")}function nb(M){return M&&M.signal}function $a(M){if(nb(M))return!0;if(x.isObject(M))for(const fa in M)if($a(M[fa]))return!0;return!1}function S(M,fa){return null!=M?M:fa}function z(M){return M&&M.signal||M}function I(M,fa){return(M.merge?J:M.stream?W:M.type?Y:x.error("Invalid stream specification: "+x.stringValue(M)))(M,fa)}function Q(M){return"scope"===M?"view":M||
"view"}function J(M,fa){const kb=M.merge.map(Qb=>I(Qb,fa));M=ma({merge:kb},M,fa);return fa.addStream(M).id}function W(M,fa){const kb=I(M.stream,fa);M=ma({stream:kb},M,fa);return fa.addStream(M).id}function Y(M,fa){let kb;"timer"===M.type?(kb=fa.event("timer",M.throttle),M={between:M.between,filter:M.filter}):kb=fa.event(Q(M.source),M.type);M=ma({stream:kb},M,fa);return 1===Object.keys(M).length?kb:fa.addStream(M).id}function ma(M,fa,kb){let Qb=fa.between;Qb&&(2!==Qb.length&&x.error('Stream "between" parameter must have 2 entries: '+
x.stringValue(fa)),M.between=[I(Qb[0],kb),I(Qb[1],kb)]);Qb=fa.filter?[].concat(fa.filter):[];(fa.marktype||fa.markname||fa.markrole)&&Qb.push(Qa(fa.marktype,fa.markname,fa.markrole));"scope"===fa.source&&Qb.push("inScope(event.item)");Qb.length&&(M.filter=ea.parseExpression("("+Qb.join(")\x26\x26(")+")",kb).$expr);null!=(Qb=fa.throttle)&&(M.throttle=+Qb);null!=(Qb=fa.debounce)&&(M.debounce=+Qb);fa.consume&&(M.consume=!0);return M}function Qa(M,fa,kb){return"event.item"+(M&&"*"!==M?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+
M+"'":"")+(kb?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+kb+"'":"")+(fa?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+fa+"'":"")}function Ua(M,fa,kb){const Qb=M.encode,Mb={target:kb};kb=M.events;let bc=M.update,jc=[];kb||x.error("Signal update missing events specification.");x.isString(kb)&&(kb=Sa.selector(kb,fa.isSubscope()?"scope":"view"));kb=x.array(kb).filter(Qc=>Qc.signal||Qc.scale?(jc.push(Qc),0):1);1<jc.length&&(jc=[sa(jc)]);kb.length&&jc.push(1<kb.length?{merge:kb}:kb[0]);null!=Qb&&(bc&&x.error("Signal encode and update are mutually exclusive."),
bc="encode(item(),"+x.stringValue(Qb)+")");Mb.update=x.isString(bc)?ea.parseExpression(bc,fa):null!=bc.expr?ea.parseExpression(bc.expr,fa):null!=bc.value?bc.value:null!=bc.signal?{$expr:re,$params:{$value:fa.signalRef(bc.signal)}}:x.error("Invalid signal update specification.");M.force&&(Mb.options={force:!0});jc.forEach(Qc=>fa.addUpdate(x.extend(U(Qc,fa),Mb)))}function U(M,fa){return{source:M.signal?fa.signalRef(M.signal):M.scale?fa.scaleRef(M.scale):I(M,fa)}}function sa(M){return{signal:"["+M.map(fa=>
fa.scale?'scale("'+fa.scale+'")':fa.signal)+"]"}}function ua(M,fa){const kb=fa.getSignal(M.name);let Qb=M.update;M.init&&(Qb?x.error("Signals can not include both init and update expressions."):(Qb=M.init,kb.initonly=!0));Qb&&(Qb=ea.parseExpression(Qb,fa),kb.update=Qb.$expr,kb.params=Qb.$params);M.on&&M.on.forEach(Mb=>Ua(Mb,fa,kb.id))}function la(M,fa){return x.isObject(M)?M.signal?fa.signalRef(M.signal):x.error("Unsupported object: "+x.stringValue(M)):M}function T(M,fa){return M.signal?fa.signalRef(M.signal):
M.map(kb=>la(kb,fa))}function v(M){x.error("Can not find data set: "+x.stringValue(M))}function w(M,fa,kb){if(M)return M.signal?kb.signalRef(M.signal):(x.isArray(M)?p:M.fields?D:r)(M,fa,kb);null==fa.domainMin&&null==fa.domainMax||x.error("No scale domain defined for domainMin/domainMax to override.")}function p(M,fa,kb){return M.map(Qb=>la(Qb,kb))}function r(M,fa,kb){const Qb=kb.getData(M.data);Qb||v(M.data);return Wb.isDiscrete(fa.type)?Qb.valuesRef(kb,M.field,H(M.sort,!1)):Wb.isQuantile(fa.type)?
Qb.domainRef(kb,M.field):Qb.extentRef(kb,M.field)}function D(M,fa,kb){const Qb=M.data,Mb=M.fields.reduce((bc,jc)=>{if(x.isString(jc))jc={data:Qb,field:jc};else if(x.isArray(jc)||jc.signal){{var Qc=jc;jc="_:vega:_"+id++;const Kc=De({});x.isArray(Qc)?Kc.value={$ingest:Qc}:Qc.signal&&(Qc="setdata("+x.stringValue(jc)+","+Qc.signal+")",Kc.params.input=kb.signalRef(Qc));kb.addDataPipeline(jc,[Kc,mc({})]);jc={data:jc,field:"data"}}}bc.push(jc);return bc},[]);return(Wb.isDiscrete(fa.type)?E:Wb.isQuantile(fa.type)?
C:ha)(M,kb,Mb)}function E(M,fa,kb){const Qb=H(M.sort,!0);M=kb.map(bc=>{const jc=fa.getData(bc.data);jc||v(bc.data);return jc.countsRef(fa,bc.field,Qb)});const Mb={groupby:cf,pulse:M};Qb&&(M=Qb.op||"count",kb=Qb.field?db(M,Qb.field):"count",Mb.ops=[fd[M]],Mb.fields=[fa.fieldRef(kb)],Mb.as=[kb]);M=fa.add(Ld(Mb));M=fa.add(De({pulse:Ra(M)}));kb=fa.add(Fc({field:cf,sort:fa.sortRef(Qb),pulse:Ra(M)}));return Ra(kb)}function H(M,fa){M&&(M.field||M.op?M.field||"count"===M.op?fa&&M.field&&M.op&&!fd[M.op]&&
x.error("Multiple domain scales can not be sorted using "+M.op):x.error("No field provided for sort aggregate op: "+M.op):x.isObject(M)?M.field="key":M={field:"key"});return M}function C(M,fa,kb){M=kb.map(Qb=>{const Mb=fa.getData(Qb.data);Mb||v(Qb.data);return Mb.domainRef(fa,Qb.field)});return Ra(fa.add(kf({values:M})))}function ha(M,fa,kb){M=kb.map(Qb=>{const Mb=fa.getData(Qb.data);Mb||v(Qb.data);return Mb.extentRef(fa,Qb.field)});return Ra(fa.add(Cf({extents:M})))}function xa(M,fa,kb){const Qb=
fa.config.range;let Mb=M.range;if(Mb.signal)return fa.signalRef(Mb.signal);if(x.isString(Mb)){if(Qb&&x.hasOwnProperty(Qb,Mb))return M=x.extend({},M,{range:Qb[Mb]}),xa(M,fa,kb);"width"===Mb?Mb=[0,{signal:"width"}]:"height"===Mb?Mb=Wb.isDiscrete(M.type)?[0,{signal:"height"}]:[{signal:"height"},0]:x.error("Unrecognized scale range value: "+x.stringValue(Mb))}else{if(Mb.scheme){kb.scheme=x.isArray(Mb.scheme)?T(Mb.scheme,fa):la(Mb.scheme,fa);Mb.extent&&(kb.schemeExtent=T(Mb.extent,fa));Mb.count&&(kb.schemeCount=
la(Mb.count,fa));return}if(Mb.step){kb.rangeStep=la(Mb.step,fa);return}if(Wb.isDiscrete(M.type)&&!x.isArray(Mb))return w(Mb,M,fa);x.isArray(Mb)||x.error("Unsupported range type: "+x.stringValue(Mb))}return Mb.map(bc=>(x.isArray(bc)?T:la)(bc,fa))}function oa(M,fa,kb){return x.isArray(M)?M.map(Qb=>oa(Qb,fa,kb)):x.isObject(M)?M.signal?kb.signalRef(M.signal):"fit"===fa?M:x.error("Unsupported parameter object: "+x.stringValue(M)):M}function Va(M){M.type="group";M.interactive=M.interactive||!1;return M}
function Ja(M,fa){const kb=(Qb,Mb)=>S(M[Qb],S(fa[Qb],Mb));kb.isVertical=Qb=>"vertical"===S(M.direction,fa.direction||(Qb?fa.symbolDirection:fa.gradientDirection));kb.gradientLength=()=>S(M.gradientLength,fa.gradientLength||fa.gradientWidth);kb.gradientThickness=()=>S(M.gradientThickness,fa.gradientThickness||fa.gradientHeight);kb.entryColumns=()=>S(M.columns,S(fa.columns,+kb.isVertical(!0)));return kb}function ba(M,fa){return(M=fa&&(fa.update&&fa.update[M]||fa.enter&&fa.enter[M]))&&M.signal?M:M?M.value:
null}function ta(M,fa,kb){return`item.anchor === '${"start"}' ? ${M} : item.anchor === '${"end"}' ? ${fa} : ${kb}`}function eb(M,fa){return fa?M?x.isObject(M)?Object.assign({},M,{offset:eb(M.offset,fa)}):{value:M,offset:fa}:fa:M}function xb(M,fa){fa?(M.name=fa.name,M.style=fa.style||M.style,M.interactive=!!fa.interactive,M.encode=ob(M.encode,fa,xd)):M.interactive=!1;return M}function Kb(M,fa,kb,Qb){M=Ja(M,kb);var Mb=M.isVertical();kb=M.gradientThickness();const bc=M.gradientLength();let jc,Qc,Kc;
Mb?(Mb=[0,1],Qc=[0,0],Kc=kb,kb=bc):(Mb=[0,0],Qc=[1,0],Kc=bc);fa={enter:jc={opacity:zd,x:zd,y:zd,width:Oe(Kc),height:Oe(kb)},update:x.extend({},jc,{opacity:le,fill:{gradient:fa,start:Mb,stop:Qc}}),exit:{opacity:zd}};cb(fa,{stroke:M("gradientStrokeColor"),strokeWidth:M("gradientStrokeWidth")},{opacity:M("gradientOpacity")});return xb({type:"rect",role:"legend-gradient",encode:fa},Qb)}function fc(M,fa,kb,Qb,Mb){M=Ja(M,kb);const bc=M.isVertical();kb=M.gradientThickness();const jc=M.gradientLength();var Qc;
let Kc,ad,ud,Nd="";bc?(Qc="y",ad="y2",Kc="x",ud="width",Nd="1-"):(Qc="x",ad="x2",Kc="y",ud="height");fa={opacity:zd,fill:{scale:fa,field:"value"}};fa[Qc]={signal:Nd+"datum.perc",mult:jc};fa[Kc]=zd;fa[ad]={signal:Nd+"datum.perc2",mult:jc};fa[ud]=Oe(kb);Qc={enter:fa,update:x.extend({},fa,{opacity:le}),exit:{opacity:zd}};cb(Qc,{stroke:M("gradientStrokeColor"),strokeWidth:M("gradientStrokeWidth")},{opacity:M("gradientOpacity")});return xb({type:"rect",role:"legend-band",key:"value",from:Mb,encode:Qc},
Qb)}function Ec(M,fa,kb,Qb){const Mb=Ja(M,fa);var bc=Mb.isVertical();const jc=Oe(Mb.gradientThickness()),Qc=Mb.gradientLength();let Kc=Mb("labelOverlap"),ad,ud,Nd,Td="";const Bd={enter:ad={opacity:zd},update:ud={opacity:le,text:{field:"label"}},exit:{opacity:zd}};cb(Bd,{fill:Mb("labelColor"),fillOpacity:Mb("labelOpacity"),font:Mb("labelFont"),fontSize:Mb("labelFontSize"),fontStyle:Mb("labelFontStyle"),fontWeight:Mb("labelFontWeight"),limit:S(M.labelLimit,fa.gradientLabelLimit)});bc?(ad.align={value:"left"},
ad.baseline=ud.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},bc="y",Nd="x",Td="1-"):(ad.align=ud.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},ad.baseline={value:"top"},bc="x",Nd="y");ad[bc]=ud[bc]={signal:Td+"datum.perc",mult:Qc};ad[Nd]=ud[Nd]=jc;jc.offset=S(M.labelOffset,fa.gradientLabelOffset)||0;Kc=Kc?{separation:Mb("labelSeparation"),method:Kc,order:"datum.index"}:void 0;return xb({type:"text",role:"legend-label",style:"guide-label",
key:"value",from:Qb,encode:Bd,overlap:Kc},kb)}function gd(M,fa,kb,Qb,Mb){var bc=Ja(M,fa);const jc=kb.entries,Qc=!(!jc||!jc.interactive),Kc=jc?jc.name:void 0,ad=bc("clipHeight"),ud=bc("symbolOffset"),Nd={data:"value"},Td=`(${Mb}) ? datum.${"offset"} : datum.${"size"}`,Bd=ad?Oe(ad):{field:"size"},af=`max(1, ${Mb})`;let Pd,Fe;Bd.mult=.5;var he={enter:Pd={opacity:zd,x:{signal:Td,mult:.5,offset:ud},y:Bd},update:Fe={opacity:le,x:Pd.x,y:Pd.y},exit:{opacity:zd}};let ze=null,Sf=null;M.fill||(ze=fa.symbolBaseFillColor,
Sf=fa.symbolBaseStrokeColor);cb(he,{fill:bc("symbolFillColor",ze),shape:bc("symbolType"),size:bc("symbolSize"),stroke:bc("symbolStrokeColor",Sf),strokeDash:bc("symbolDash"),strokeDashOffset:bc("symbolDashOffset"),strokeWidth:bc("symbolStrokeWidth")},{opacity:bc("symbolOpacity")});se.forEach(be=>{M[be]&&(Fe[be]=Pd[be]={scale:M[be],field:"value"})});fa=xb({type:"symbol",role:"legend-symbol",key:"value",from:Nd,clip:ad?!0:void 0,encode:he},kb.symbols);he=Oe(ud);he.offset=bc("labelOffset");he={enter:Pd=
{opacity:zd,x:{signal:Td,offset:he},y:Bd},update:Fe={opacity:le,text:{field:"label"},x:Pd.x,y:Pd.y},exit:{opacity:zd}};cb(he,{align:bc("labelAlign"),baseline:bc("labelBaseline"),fill:bc("labelColor"),fillOpacity:bc("labelOpacity"),font:bc("labelFont"),fontSize:bc("labelFontSize"),fontStyle:bc("labelFontStyle"),fontWeight:bc("labelFontWeight"),limit:bc("labelLimit")});kb=xb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Nd,encode:he},kb.labels);he={enter:{noBound:{value:!ad},
width:zd,height:ad?Oe(ad):zd,opacity:zd},exit:{opacity:zd},update:Fe={opacity:le,row:{signal:null},column:{signal:null}}};bc.isVertical(!0)?(bc=`ceil(item.mark.items.length / ${af})`,Fe.row.signal=`${"datum.index"}%${bc}`,Fe.column.signal=`floor(${"datum.index"} / ${bc})`,bc={field:["row","datum.index"]}):(Fe.row.signal=`floor(${"datum.index"} / ${af})`,Fe.column.signal=`${"datum.index"} % ${af}`,bc={field:"datum.index"});Fe.column.signal=`(${Mb})?${Fe.column.signal}:${"datum.index"}`;Qb={facet:{data:Qb,
name:"value",groupby:"index"}};return Va({role:"scope",from:Qb,encode:ob(he,jc,xd),marks:[fa,kb],name:Kc,interactive:Qc,sort:bc})}function Dc(M,fa){M=Ja(M,fa);return{align:M("gridAlign"),columns:M.entryColumns(),center:{row:!0,column:!1},padding:{row:M("rowPadding"),column:M("columnPadding")}}}function Sc(M,fa,kb,Qb){fa=Ja(M,fa);const Mb={enter:{opacity:zd},update:{opacity:le,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zd}};cb(Mb,{orient:fa("titleOrient"),_anchor:fa("titleAnchor"),
anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},align:{signal:uf},baseline:{signal:Zf},text:M.title,fill:fa("titleColor"),fillOpacity:fa("titleOpacity"),font:fa("titleFont"),fontSize:fa("titleFontSize"),fontStyle:fa("titleFontStyle"),fontWeight:fa("titleFontWeight"),
limit:fa("titleLimit"),lineHeight:fa("titleLineHeight")},{align:fa("titleAlign"),baseline:fa("titleBaseline")});return xb({type:"text",role:"legend-title",style:"guide-title",from:Qb,encode:Mb},kb)}function Ta(M,fa){let kb;x.isObject(M)&&(M.signal?kb=M.signal:M.path?kb="pathShape("+nc(M.path)+")":M.sphere&&(kb="geoShape("+nc(M.sphere)+', {type: "Sphere"})'));return kb?fa.signalRef(kb):!!M}function nc(M){return x.isObject(M)&&M.signal?M.signal:x.stringValue(M)}function lc(M){const fa=M.role||"";return fa.indexOf("axis")&&
fa.indexOf("legend")&&fa.indexOf("title")?"group"===M.type?"scope":fa||"mark":fa}function wc(M){return{marktype:M.type,name:M.name||void 0,role:M.role||lc(M),zindex:+M.zindex||void 0,aria:M.aria,description:M.description}}function Pc(M,fa){return M&&M.signal?fa.signalRef(M.signal):!1===M?!1:!0}function rc(M,fa){const kb=fb.definition(M.type);kb||x.error("Unrecognized transform type: "+x.stringValue(M.type));var Qb=kb.type.toLowerCase();var Mb=Xc(kb,M,fa);Qb=new Aa(Qb,null,Mb,void 0);M.signal&&fa.addSignal(M.signal,
fa.proxy(Qb));Qb.metadata=kb.metadata||{};return Qb}function Xc(M,fa,kb){const Qb={},Mb=M.params.length;for(let bc=0;bc<Mb;++bc){const jc=M.params[bc];Qb[jc.name]=$c(jc,fa,kb)}return Qb}function $c(M,fa,kb){const Qb=M.type,Mb=fa[M.name];if("index"===Qb)return Dd(M,fa,kb);if(void 0===Mb)M.required&&x.error("Missing required "+x.stringValue(fa.type)+" parameter: "+x.stringValue(M.name));else return"param"===Qb?we(M,fa,kb):"projection"===Qb?kb.projectionRef(fa[M.name]):M.array&&!nb(Mb)?Mb.map(bc=>Nc(M,
bc,kb)):Nc(M,Mb,kb)}function Nc(M,fa,kb){const Qb=M.type;return nb(fa)?"expr"===Qb?x.error("Expression references can not be signals."):"field"===Qb?kb.fieldRef(fa):"compare"===Qb?kb.compareRef(fa):kb.signalRef(fa.signal):(M=M.expr||"field"===Qb)&&fa&&fa.expr?kb.exprRef(fa.expr,fa.as):M&&fa&&fa.field?Ya(fa.field,fa.as):"expr"===Qb?ea.parseExpression(fa,kb):"data"===Qb?Ra(kb.getData(fa).values):"field"===Qb?Ya(fa):"compare"===Qb?kb.compareRef(fa):fa}function Dd(M,fa,kb){x.isString(fa.from)||x.error('Lookup "from" parameter must be a string literal.');
return kb.getData(fa.from).lookupRef(kb,fa.key)}function we(M,fa,kb){fa=fa[M.name];return M.array?(x.isArray(fa)||x.error("Expected an array of sub-parameters. Instead: "+x.stringValue(fa)),fa.map(Qb=>ld(M,Qb,kb))):ld(M,fa,kb)}function ld(M,fa,kb){const Qb=M.params.length;let Mb;for(let bc=0;bc<Qb;++bc){Mb=M.params[bc];for(const jc in Mb.key)if(Mb.key[jc]!==fa[jc]){Mb=null;break}if(Mb)break}Mb||x.error("Unsupported parameter: "+x.stringValue(fa));M=x.extend(Xc(Mb,fa,kb),Mb.key);return Ra(kb.add(Pe(M)))}
function sd(M,fa,kb){let Qb,Mb,bc,jc;if(!M)bc=Ra(kb.add(De(null,[{}])));else if(Qb=M.facet)fa||x.error("Only group marks can be faceted."),null!=Qb.field?bc=jc=ge(Qb,kb):(M.data?jc=Ra(kb.getData(M.data).aggregate):(fa=rc(x.extend({type:"aggregate",groupby:x.array(Qb.groupby)},Qb.aggregate),kb),fa.params.key=kb.keyRef(Qb.groupby),fa.params.pulse=ge(Qb,kb),bc=jc=Ra(kb.add(fa))),Mb=kb.keyRef(Qb.groupby,!0));bc||(bc=ge(M,kb));return{key:Mb,pulse:bc,parent:jc}}function ge(M,fa){return M.$ref?M:M.data&&
M.data.$ref?M.data:Ra(fa.getData(M.data).output)}function Ma(M,fa,kb,Qb,Mb){this.scope=M;this.input=fa;this.output=kb;this.values=Qb;this.aggregate=Mb;this.index={}}function vb(M){return x.isString(M)?M:null}function ac(M,fa,kb){const Qb=db(kb.op,kb.field);let Mb;if(fa.ops)for(let bc=0,jc=fa.as.length;bc<jc;++bc){if(fa.as[bc]===Qb)return}else fa.ops=["count"],fa.fields=[null],fa.as=["count"];kb.op&&(fa.ops.push((Mb=kb.op.signal)?M.signalRef(Mb):kb.op),fa.fields.push(M.fieldRef(kb.field)),fa.as.push(Qb))}
function rd(M,fa,kb,Qb,Mb,bc,jc){kb=fa[kb]||(fa[kb]={});var Qc=x.isObject(bc)?("descending"===bc.order?"-":"+")+db(bc.op,bc.field):"";let Kc=vb(Mb);if(null!=Kc){M=fa.scope;Kc+=Qc?"|"+Qc:"";var ad=kb[Kc]}ad||(ad=bc?{field:cf,pulse:fa.countsRef(M,Mb,bc)}:{field:M.fieldRef(Mb),pulse:Ra(fa.output)},Qc&&(ad.sort=M.sortRef(bc)),M=M.add(new Aa(Qb,void 0,ad,void 0)),jc&&(fa.index[Mb]=M),ad=Ra(M),null!=Kc&&(kb[Kc]=ad));return ad}function vd(M,fa,kb){var Qb=M.from.facet;const Mb=Qb.name,bc=ge(Qb,fa);let jc;
Qb.name||x.error("Facet must have a name: "+x.stringValue(Qb));Qb.data||x.error("Facet must reference a data set: "+x.stringValue(Qb));Qb.field?jc=fa.add(N({field:fa.fieldRef(Qb.field),pulse:bc})):Qb.groupby?jc=fa.add(Be({key:fa.keyRef(Qb.groupby),group:Ra(fa.proxy(kb.parent)),pulse:bc})):x.error("Facet must specify groupby or field: "+x.stringValue(Qb));fa=fa.fork();kb=fa.add(De());Qb=fa.add(mc({pulse:Ra(kb)}));fa.addData(Mb,new Ma(fa,kb,kb,Qb));fa.addSignal("parent",null);jc.params.subflow={$subflow:fa.parse(M).toRuntime()}}
function de(M,fa,kb){kb=fa.add(N({pulse:kb.pulse}));fa=fa.fork();fa.add(mc());fa.addSignal("parent",null);kb.params.subflow={$subflow:fa.parse(M).toRuntime()}}function oe(M,fa,kb){const Qb=M.remove,Mb=M.insert,bc=M.toggle,jc=M.modify,Qc=M.values,Kc=fa.add(new Aa("operator",void 0,void 0,void 0));M="if("+M.trigger+',modify("'+kb+'",'+[Mb,Qb,bc,jc,Qc].map(ad=>null==ad?"null":ad).join(",")+"),0)";fa=ea.parseExpression(M,fa);Kc.update=fa.$expr;Kc.params=fa.$params}function Z(M,fa){var kb=lc(M),Qb="group"===
M.type,Mb=M.from&&M.from.facet;const bc=M.overlap;let jc=M.layout||"scope"===kb||"frame"===kb,Qc,Kc,ad,ud,Nd,Td;const Bd="mark"===kb||jc||Mb,af=sd(M.from,Qb,fa);Kc=fa.add(Se({key:af.key||(M.key?Ya(M.key):void 0),pulse:af.pulse,clean:!Qb}));const Pd=Ra(Kc);Kc=ad=fa.add(De({pulse:Pd}));Kc=fa.add(Ke({markdef:wc(M),interactive:Pc(M.interactive,fa),clip:Ta(M.clip,fa),context:{$context:!0},groups:fa.lookup(),parent:fa.signals.parent?fa.signalRef("parent"):null,index:fa.markpath(),pulse:Ra(Kc)}));var Fe=
Ra(Kc);Kc=ud=fa.add(Ee(Ca(M.encode,M.type,kb,M.style,fa,{mod:!1,pulse:Fe})));Kc.params.parent=fa.encode();M.transform&&M.transform.forEach(ze=>{ze=rc(ze,fa);const Sf=ze.metadata;(Sf.generates||Sf.changes)&&x.error("Mark transforms should not generate new data.");Sf.nomod||(ud.params.mod=!0);ze.params.pulse=Ra(Kc);fa.add(Kc=ze)});M.sort&&(Kc=fa.add(Gc({sort:fa.compareRef(M.sort),pulse:Ra(Kc)})));kb=Ra(Kc);if(Mb||jc)jc=fa.add(uc({layout:fa.objectProperty(M.layout),legends:fa.legends,mark:Fe,pulse:kb})),
Td=Ra(jc);const he=fa.add(Jf({mark:Fe,pulse:Td||kb}));Fe=Ra(he);Qb&&(Bd&&(Qc=fa.operators,Qc.pop(),jc&&Qc.pop()),fa.pushState(kb,Td||Fe,Pd),Mb?vd(M,fa,af):Bd?de(M,fa,af):fa.parse(M),fa.popState(),Bd&&(jc&&Qc.push(jc),Qc.push(he)));bc&&(Fe=za(bc,Fe,fa));Qb=fa.add(Wa({pulse:Fe}));Mb=fa.add(mc({pulse:Ra(Qb)},void 0,fa.parent()));null!=M.name&&(Nd=M.name,fa.addData(Nd,new Ma(fa,ad,Qb,Mb)),M.on&&M.on.forEach(ze=>{(ze.insert||ze.remove||ze.toggle)&&x.error("Marks only support modify triggers.");oe(ze,fa,
Nd)}))}function za(M,fa,kb){const Qb=M.method,Mb=M.bound,bc=M.separation;fa={separation:nb(bc)?kb.signalRef(bc.signal):bc,method:nb(Qb)?kb.signalRef(Qb.signal):Qb,pulse:fa};M.order&&(fa.sort=kb.compareRef({field:M.order}));Mb&&(M=Mb.tolerance,fa.boundTolerance=nb(M)?kb.signalRef(M.signal):+M,fa.boundScale=kb.scaleRef(Mb.scale),fa.boundOrient=Mb.orient);return Ra(kb.add(tf(fa)))}function gb(M,fa){const kb=fa.config.legend,Qb=M.encode||{},Mb=Ja(M,kb),bc=Qb.legend||{},jc=bc.name||void 0,Qc=bc.interactive,
Kc=bc.style,ad={};let ud=0,Nd,Td;se.forEach(he=>M[he]?(ad[he]=M[he],ud=ud||M[he]):0);ud||x.error("Missing valid scale for legend.");var Bd=Db(M,fa.scaleType(ud));const af={title:null!=M.title,scales:ad,type:Bd,vgrad:"symbol"!==Bd&&Mb.isVertical()},Pd=Ra(fa.add(De(null,[af]))),Fe=Ra(fa.add(Je(Td={type:Bd,scale:fa.scaleRef(ud),count:fa.objectProperty(Mb("tickCount")),limit:fa.property(Mb("symbolLimit")),values:fa.objectProperty(M.values),minstep:fa.property(M.tickMinStep),formatType:fa.property(M.formatType),
formatSpecifier:fa.property(M.format)})));"gradient"===Bd?(Bd=[Kb(M,ud,kb,Qb.gradient),Ec(M,kb,Qb.labels,Fe)],Td.count=Td.count||fa.signalRef(`max(2,2*floor((${z(Mb.gradientLength())})/100))`)):"discrete"===Bd?Bd=[fc(M,ud,kb,Qb.gradient,Fe),Ec(M,kb,Qb.labels,Fe)]:(Nd=Dc(M,kb),Bd=[gd(M,kb,Qb,Fe,z(Nd.columns))],Td.size=sc(M,fa,Bd[0].marks));Bd=[Va({role:"legend-entry",from:Pd,encode:{enter:{x:{value:0},y:{value:0}}},marks:Bd,layout:Nd,interactive:Qc})];af.title&&Bd.push(Sc(M,kb,Qb.title,Pd));return Z(Va({role:"legend",
from:Pd,encode:ob(Gb(Mb,M,kb),bc,xd),marks:Bd,aria:Mb("aria"),description:Mb("description"),zindex:Mb("zindex"),name:jc,interactive:Qc,style:Kc}),fa)}function Db(M,fa){let kb=M.type||"symbol";M.type||1!==Zb(M)||!M.fill&&!M.stroke||(kb=Wb.isContinuous(fa)?"gradient":Wb.isDiscretizing(fa)?"discrete":"symbol");return"gradient"!==kb?kb:Wb.isDiscretizing(fa)?"discrete":"gradient"}function Zb(M){return se.reduce((fa,kb)=>fa+(M[kb]?1:0),0)}function Gb(M,fa,kb){const Qb={enter:{},update:{}};cb(Qb,{orient:M("orient"),
offset:M("offset"),padding:M("padding"),titlePadding:M("titlePadding"),cornerRadius:M("cornerRadius"),fill:M("fillColor"),stroke:M("strokeColor"),strokeWidth:kb.strokeWidth,strokeDash:kb.strokeDash,x:M("legendX"),y:M("legendY"),format:fa.format,formatType:fa.formatType});return Qb}function sc(M,fa,kb){const Qb=z(kc("size",M,kb));M=z(kc("strokeWidth",M,kb));(kb=ba("fontSize",kb[1].encode))||(kb=(kb=fa.config.style["guide-label"])&&kb.fontSize);kb=z(kb);return ea.parseExpression(`max(ceil(sqrt(${Qb})+${M}),${kb})`,
fa)}function kc(M,fa,kb){return fa[M]?`scale("${fa[M]}",datum)`:ba(M,kb[0].encode)}function Oa(M,fa){M=x.isString(M)?{text:M}:M;const kb=Ja(M,fa.config.title),Qb=M.encode||{};var Mb=Qb.group||{};const bc=Mb.name||void 0,jc=Mb.interactive,Qc=Mb.style,Kc=[],ad=Ra(fa.add(De(null,[{}])));Kc.push(Lb(M,kb,sb(M),ad));M.subtitle&&Kc.push(hc(M,kb,Qb.subtitle,ad));M={enter:{},update:{}};cb(M,{orient:kb("orient"),anchor:kb("anchor"),align:{signal:Te},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},
limit:kb("limit"),frame:kb("frame"),offset:kb("offset")||0,padding:kb("subtitlePadding")});Mb=ob(M,Mb,xd);return Z(Va({role:"title",from:ad,encode:Mb,marks:Kc,aria:kb("aria"),description:kb("description"),zindex:kb("zindex"),name:bc,interactive:jc,style:Qc}),fa)}function sb(M){const fa=M.encode;return fa&&fa.title||x.extend({name:M.name,interactive:M.interactive,style:M.style},fa)}function Lb(M,fa,kb,Qb){var Mb={value:0};Mb={enter:{opacity:Mb},update:{opacity:{value:1}},exit:{opacity:Mb}};cb(Mb,{text:M.text,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:fa("dx"),dy:fa("dy"),fill:fa("color"),font:fa("font"),fontSize:fa("fontSize"),fontStyle:fa("fontStyle"),fontWeight:fa("fontWeight"),lineHeight:fa("lineHeight")},{align:fa("align"),angle:fa("angle"),baseline:fa("baseline")});return xb({type:"text",role:"title-text",style:"group-title",from:Qb,encode:Mb},kb)}function hc(M,fa,kb,Qb){var Mb={value:0};Mb={enter:{opacity:Mb},
update:{opacity:{value:1}},exit:{opacity:Mb}};cb(Mb,{text:M.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:fa("dx"),dy:fa("dy"),fill:fa("subtitleColor"),font:fa("subtitleFont"),fontSize:fa("subtitleFontSize"),fontStyle:fa("subtitleFontStyle"),fontWeight:fa("subtitleFontWeight"),lineHeight:fa("subtitleLineHeight")},{align:fa("align"),angle:fa("angle"),baseline:fa("baseline")});return xb({type:"text",role:"title-subtitle",
style:"group-subtitle",from:Qb,encode:Mb},kb)}function tc(M,fa){const kb=[];M.transform&&M.transform.forEach(Qb=>{kb.push(rc(Qb,fa))});M.on&&M.on.forEach(Qb=>{oe(Qb,fa,M.name)});fa.addDataPipeline(M.name,Bc(M,fa,kb))}function Bc(M,fa,kb){const Qb=[];let Mb=null,bc=!1,jc=!1,Qc,Kc,ad,ud;M.values?$a(M.values)||$a(M.format)?(Qb.push(Hb(fa,M)),Qb.push(Mb=Mc())):Qb.push(Mb=Mc({$ingest:M.values,$format:M.format})):M.url?$a(M.url)||$a(M.format)?(Qb.push(Hb(fa,M)),Qb.push(Mb=Mc())):Qb.push(Mb=Mc({$request:M.url,
$format:M.format})):M.source&&(Mb=Qc=x.array(M.source).map(Nd=>Ra(fa.getData(Nd).output)),Qb.push(null));M=0;for(Kc=kb.length;M<Kc;++M)ad=kb[M],ud=ad.metadata,Mb||ud.source||Qb.push(Mb=Mc()),Qb.push(ad),ud.generates&&(jc=!0),ud.modifies&&!jc&&(bc=!0),ud.source?Mb=ad:ud.changes&&(Mb=null);Qc&&(Kc=Qc.length-1,Qb[0]=Ka({derive:bc,pulse:Kc?Qc:Qc[0]}),(bc||Kc)&&Qb.splice(1,0,Mc()));Mb||Qb.push(Mc());Qb.push(mc({}));return Qb}function Mc(M){M=De({},M);M.metadata={source:!0};return M}function Hb(M,fa){return pe({url:fa.url?
M.property(fa.url):void 0,async:fa.async?M.property(fa.async):void 0,values:fa.values?M.property(fa.values):void 0,format:M.objectProperty(fa.format)})}function yc(M,fa,kb,Qb){let Mb;if(fa&&x.hasOwnProperty(fa,M))return fa[M];if(x.hasOwnProperty(kb,M))return kb[M];if(M.startsWith("title")){switch(M){case "titleColor":Mb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Mb=M[5].toLowerCase()+M.slice(6)}return Qb["guide-title"][Mb]}if(M.startsWith("label")){switch(M){case "labelColor":Mb=
"fill";break;case "labelFont":case "labelFontSize":Mb=M[5].toLowerCase()+M.slice(6)}return Qb["guide-label"][Mb]}return null}function Cc(M){const fa={};for(const kb of M)if(kb)for(const Qb in kb)fa[Qb]=1;return Object.keys(fa)}function xc(M,fa,kb,Qb){var Mb=Ja(M,fa);fa=M.orient;let bc,jc;const Qc={enter:bc={opacity:zd},update:jc={opacity:le},exit:{opacity:zd}};cb(Qc,{stroke:Mb("domainColor"),strokeCap:Mb("domainCap"),strokeDash:Mb("domainDash"),strokeDashOffset:Mb("domainDashOffset"),strokeWidth:Mb("domainWidth"),
strokeOpacity:Mb("domainOpacity")});Mb={scale:M.scale,range:0};M={scale:M.scale,range:1};bc.x=jc.x=Ue(fa,Mb,zd);bc.x2=jc.x2=Ue(fa,M);bc.y=jc.y=Le(fa,Mb,zd);bc.y2=jc.y2=Le(fa,M);return xb({type:"rule",role:"axis-domain",from:Qb,encode:Qc},kb)}function Jc(M,fa,kb,Qb,Mb){var bc=Ja(M,fa);fa=M.orient;var jc=M.gridScale;const Qc=pd(fa,1,-1);a:{var Kc=M.offset;if(1!==Qc)if(x.isObject(Kc)){for(var ad=Kc=x.extend({},Kc);null!=ad.mult;)if(x.isObject(ad.mult))ad=ad.mult=x.extend({},ad.mult);else{ad.mult=nb(Qc)?
{signal:`(${ad.mult}) * (${Qc.signal})`}:ad.mult*Qc;break a}ad.mult=Qc}else Kc=nb(Qc)?{signal:`(${Qc.signal}) * (${Kc||0})`}:Qc*(Kc||0)}const ud=Kc;let Nd;const Td={enter:Kc={opacity:zd},update:Nd={opacity:le},exit:ad={opacity:zd}};cb(Td,{stroke:bc("gridColor"),strokeCap:bc("gridCap"),strokeDash:bc("gridDash"),strokeDashOffset:bc("gridDashOffset"),strokeOpacity:bc("gridOpacity"),strokeWidth:bc("gridWidth")});M={scale:M.scale,field:"value",band:Mb.band,extra:Mb.extra,offset:Mb.offset,round:bc("tickRound")};
bc=Ue(fa,{signal:"height"},{signal:"width"});Mb=jc?{scale:jc,range:0,mult:Qc,offset:ud}:{value:0,offset:ud};jc=jc?{scale:jc,range:1,mult:Qc,offset:ud}:x.extend(bc,{mult:Qc,offset:ud});Kc.x=Nd.x=Ue(fa,M,Mb);Kc.y=Nd.y=Le(fa,M,Mb);Kc.x2=Nd.x2=Le(fa,jc);Kc.y2=Nd.y2=Ue(fa,jc);ad.x=Ue(fa,M);ad.y=Le(fa,M);return xb({type:"rule",role:"axis-grid",key:"value",from:Qb,encode:Td},kb)}function Yc(M,fa,kb,Qb,Mb,bc){const jc=Ja(M,fa);fa=M.orient;const Qc=pd(fa,-1,1);let Kc,ad,ud;const Nd={enter:Kc={opacity:zd},
update:ud={opacity:le},exit:ad={opacity:zd}};cb(Nd,{stroke:jc("tickColor"),strokeCap:jc("tickCap"),strokeDash:jc("tickDash"),strokeDashOffset:jc("tickDashOffset"),strokeOpacity:jc("tickOpacity"),strokeWidth:jc("tickWidth")});Mb=Oe(Mb);Mb.mult=Qc;M={scale:M.scale,field:"value",band:bc.band,extra:bc.extra,offset:bc.offset,round:jc("tickRound")};ud.y=Kc.y=Ue(fa,zd,M);ud.y2=Kc.y2=Ue(fa,Mb);ad.x=Ue(fa,M);ud.x=Kc.x=Le(fa,zd,M);ud.x2=Kc.x2=Le(fa,Mb);ad.y=Le(fa,M);return xb({type:"rule",role:"axis-tick",
key:"value",from:Qb,encode:Nd},kb)}function Uc(M,fa,kb,Qb,Mb){return{signal:'flush(range("'+M+'"), scale("'+M+'", datum.value), '+fa+","+kb+","+Qb+","+Mb+")"}}function od(M,fa,kb,Qb,Mb,bc){fa=Ja(M,fa);const jc=M.orient;M=M.scale;var Qc=pd(jc,-1,1),Kc=z(fa("labelFlush")),ad=z(fa("labelFlushOffset")),ud=fa("labelAlign"),Nd=fa("labelBaseline");let Td=0===Kc||!!Kc;var Bd=Oe(Mb);Bd.mult=Qc;Bd.offset=Oe(fa("labelPadding")||0);Bd.offset.mult=Qc;Qc={scale:M,field:"value",band:.5,offset:eb(bc.offset,fa("labelOffset"))};
bc=Td?Uc(M,Kc,'"left"','"right"','"center"'):{value:"center"};Mb=nb(jc)?vf(`${jc.signal} === '${"right"}'`,"left","right"):"right"===jc?{value:"left"}:{value:"right"};bc=Ue(jc,bc,Mb);Mb=Ue(jc,Ze(jc,"bottom","top"),Td?Uc(M,Kc,'"top"','"bottom"','"middle"'):{value:"middle"});Kc=Uc(M,Kc,`-(${ad})`,ad,0);Td=Td&&ad;Bd={opacity:zd,x:Ue(jc,Qc,Bd),y:Le(jc,Qc,Bd)};Bd={enter:Bd,update:ad={opacity:le,text:{field:"label"},x:Bd.x,y:Bd.y,align:bc,baseline:Mb},exit:{opacity:zd,x:Bd.x,y:Bd.y}};cb(Bd,{dx:!ud&&Td?
Ue(jc,Kc):null,dy:!Nd&&Td?Le(jc,Kc):null});cb(Bd,{angle:fa("labelAngle"),fill:fa("labelColor"),fillOpacity:fa("labelOpacity"),font:fa("labelFont"),fontSize:fa("labelFontSize"),fontWeight:fa("labelFontWeight"),fontStyle:fa("labelFontStyle"),limit:fa("labelLimit"),lineHeight:fa("labelLineHeight")},{align:ud,baseline:Nd});ud=fa("labelBound");Nd=(Nd=fa("labelOverlap"))||ud?{separation:fa("labelSeparation"),method:Nd,order:"datum.index",bound:ud?{scale:M,orient:jc,tolerance:ud}:null}:void 0;ad.align!==
bc&&(ad.align=df(ad.align,bc));ad.baseline!==Mb&&(ad.baseline=df(ad.baseline,Mb));return xb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:Qb,encode:Bd,overlap:Nd},kb)}function qd(M,fa,kb,Qb){fa=Ja(M,fa);const Mb=M.orient,bc=pd(Mb,-1,1);let jc,Qc;const Kc={enter:jc={opacity:zd,anchor:Oe(fa("titleAnchor",null)),align:{signal:Te}},update:Qc=x.extend({},jc,{opacity:le,text:Oe(M.title)}),exit:{opacity:zd}};M={signal:`lerp(range("${M.scale}"), ${ta(0,1,.5)})`};Qc.x=Ue(Mb,M);Qc.y=Le(Mb,
M);M=nb(bc)?{signal:`(${bc.signal}) * ${90}`}:{value:90*bc};jc.angle=Ue(Mb,zd,M);jc.baseline=Ue(Mb,Ze(Mb,"bottom","top"),{value:"bottom"});Qc.angle=jc.angle;Qc.baseline=jc.baseline;cb(Kc,{fill:fa("titleColor"),fillOpacity:fa("titleOpacity"),font:fa("titleFont"),fontSize:fa("titleFontSize"),fontStyle:fa("titleFontStyle"),fontWeight:fa("titleFontWeight"),limit:fa("titleLimit"),lineHeight:fa("titleLineHeight")},{align:fa("titleAlign"),angle:fa("titleAngle"),baseline:fa("titleBaseline")});Id(fa,Mb,Kc,
kb);Kc.update.align=df(Kc.update.align,jc.align);Kc.update.angle=df(Kc.update.angle,jc.angle);Kc.update.baseline=df(Kc.update.baseline,jc.baseline);return xb({type:"text",role:"axis-title",style:"guide-title",from:Qb,encode:Kc},kb)}function Id(M,fa,kb,Qb){const Mb=(jc,Qc)=>null!=jc?(kb.update[Qc]=df(Oe(jc),kb.update[Qc]),!1):rb(Qc,Qb)?!1:!0,bc=Mb(M("titleX"),"x");M=Mb(M("titleY"),"y");kb.enter.auto=M===bc?Oe(M):Ue(fa,Oe(M),Oe(bc))}function Ed(M,fa,kb){const Qb=x.array(M.signals),Mb=x.array(M.scales);
kb||Qb.forEach(bc=>ka(bc,fa));x.array(M.projections).forEach(bc=>{{const jc=fa.config.projection||{},Qc={};for(const Kc in bc)"name"!==Kc&&(Qc[Kc]=oa(bc[Kc],Kc,fa));for(const Kc in jc)null==Qc[Kc]&&(Qc[Kc]=oa(jc[Kc],Kc,fa));fa.addProjection(bc.name,Qc)}});Mb.forEach(bc=>{{const jc=bc.type||"linear";Wb.isValidScaleType(jc)||x.error("Unrecognized scale type: "+x.stringValue(jc));fa.addScale(bc.name,{type:jc,domain:void 0})}});x.array(M.data).forEach(bc=>tc(bc,fa));Mb.forEach(bc=>{{const Kc=fa.getScale(bc.name).params;
let ad;Kc.domain=w(bc.domain,bc,fa);null!=bc.range&&(Kc.range=xa(bc,fa,Kc));if(null!=bc.interpolate){var jc=bc.interpolate,Qc=Kc;Qc.interpolate=la(jc.type||jc);null!=jc.gamma&&(Qc.interpolateGamma=la(jc.gamma))}null!=bc.nice&&(jc=bc.nice,jc=x.isObject(jc)?{interval:la(jc.interval),step:la(jc.step)}:la(jc),Kc.nice=jc);null!=bc.bins&&(jc=bc.bins,jc=jc.signal||x.isArray(jc)?T(jc,fa):fa.objectProperty(jc),Kc.bins=jc);for(ad in bc)x.hasOwnProperty(Kc,ad)||"name"===ad||(Kc[ad]=la(bc[ad],fa))}});(kb||Qb).forEach(bc=>
ua(bc,fa));x.array(M.axes).forEach(bc=>{var jc=fa.config,Qc=jc.style,Kc=jc.axis,ad="band"===fa.scaleType(bc.scale)&&jc.axisBand,ud=bc.orient;if(nb(ud)){var Nd=Cc([jc.axisX,jc.axisY]);var Td=Cc([jc.axisTop,jc.axisBottom,jc.axisLeft,jc.axisRight]);var Bd={};for(be of Nd)Bd[be]=Ue(ud,yc(be,jc.axisX,Kc,Qc),yc(be,jc.axisY,Kc,Qc));Nd={};for(be of Td){Td=Nd;var af=be;var Pd=ud.signal;var Fe=yc(be,jc.axisTop,Kc,Qc),he=yc(be,jc.axisBottom,Kc,Qc),ze=yc(be,jc.axisLeft,Kc,Qc),Sf=yc(be,jc.axisRight,Kc,Qc);Pd=
{signal:(null!=ze?`${Pd} === '${"left"}' ? (${ag(ze)}) : `:"")+(null!=he?`${Pd} === '${"bottom"}' ? (${ag(he)}) : `:"")+(null!=Sf?`${Pd} === '${"right"}' ? (${ag(Sf)}) : `:"")+(null!=Fe?`${Pd} === '${"top"}' ? (${ag(Fe)}) : `:"")+"(null)"};Td[af]=Pd}}else Bd="top"===ud||"bottom"===ud?jc.axisX:jc.axisY,Nd=jc["axis"+ud[0].toUpperCase()+ud.slice(1)];Bd=Bd||Nd||ad?x.extend({},Kc,Bd,Nd,ad):Kc;var be=bc.encode||{};jc=be.axis||{};Qc=jc.name||void 0;Kc=jc.interactive;ad=jc.style;Pd=ud=Ja(bc,Bd);Nd=Pd("tickBand");
Td=Pd("tickOffset");Nd?Nd.signal?(af={signal:`(${Nd.signal}) === 'extent' ? 1 : 0.5`},Pd={signal:`(${Nd.signal}) === 'extent'`},x.isObject(Td)||(Td={signal:`(${Nd.signal}) === 'extent' ? 0 : ${Td}`})):"extent"===Nd?(af=1,Pd=!0,Td=0):(af=.5,Pd=!1):(af=Pd("bandPosition"),Pd=Pd("tickExtra"));af={extra:Pd,band:af,offset:Td};Pd={scale:bc.scale,ticks:!!ud("ticks"),labels:!!ud("labels"),grid:!!ud("grid"),domain:!!ud("domain"),title:null!=bc.title};Nd=Ra(fa.add(De({},[Pd])));Fe=Ra(fa.add(ae({scale:fa.scaleRef(bc.scale),
extra:fa.property(af.extra),count:fa.objectProperty(bc.tickCount),values:fa.objectProperty(bc.values),minstep:fa.property(bc.tickMinStep),formatType:fa.property(bc.formatType),formatSpecifier:fa.property(bc.format)})));Td=[];Pd.grid&&Td.push(Jc(bc,Bd,be.grid,Fe,af));if(Pd.ticks){var wf=ud("tickSize");Td.push(Yc(bc,Bd,be.ticks,Fe,wf,af))}Pd.labels&&(wf=Pd.ticks?wf:0,Td.push(od(bc,Bd,be.labels,Fe,wf,af)));Pd.domain&&Td.push(xc(bc,Bd,be.domain,Nd));Pd.title&&Td.push(qd(bc,Bd,be.title,Nd));wf=ud;Bd={enter:{},
update:{}};cb(Bd,{orient:wf("orient"),offset:wf("offset")||0,position:S(bc.position,0),titlePadding:wf("titlePadding"),minExtent:wf("minExtent"),maxExtent:wf("maxExtent"),range:{signal:`abs(span(range("${bc.scale}")))`},translate:wf("translate"),format:bc.format,formatType:bc.formatType});bc=Bd;return bc=Z(Va({role:"axis",from:Nd,encode:ob(bc,jc,xd),marks:Td,aria:ud("aria"),description:ud("description"),zindex:ud("zindex"),name:Qc,interactive:Kc,style:ad}),fa)});x.array(M.marks).forEach(bc=>Z(bc,
fa));x.array(M.legends).forEach(bc=>gb(bc,fa));M.title&&Oa(M.title,fa);fa.parseLambdas();return fa}function Wd(M,fa){var kb=fa.config;const Qb=Ra(fa.root=fa.add(new Aa("operator",void 0,void 0,void 0))),Mb=ye(M,kb);Mb.forEach(Qc=>ka(Qc,fa));fa.description=M.description||kb.description;fa.eventConfig=kb.events;fa.legends=fa.objectProperty(kb.legend&&kb.legend.layout);fa.locale=kb.locale;kb=fa.add(De());const bc=fa.add(Ee(Ca(ob({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},
M.encode),"group","frame",M.style,fa,{pulse:Ra(kb)}))),jc=fa.add(uc({layout:fa.objectProperty(M.layout),legends:fa.legends,autosize:fa.signalRef("autosize"),mark:Qb,pulse:Ra(bc)}));fa.operators.pop();fa.pushState(Ra(bc),Ra(jc),null);Ed(M,fa,Mb);fa.operators.push(jc);M=fa.add(Jf({mark:Qb,pulse:Ra(jc)}));M=fa.add(Wa({pulse:Ra(M)}));M=fa.add(mc({pulse:Ra(M)}));fa.addData("root",new Ma(fa,kb,kb,M));return fa}function me(M,fa){return fa&&fa.signal?{name:M,update:fa.signal}:{name:M,value:fa}}function ye(M,
fa){const kb=jc=>S(M[jc],fa[jc]),Qb=[me("background",kb("background")),me("autosize",ub(kb("autosize"))),me("padding",Ob(kb("padding"))),me("width",kb("width")||0),me("height",kb("height")||0)],Mb=Qb.reduce((jc,Qc)=>(jc[Qc.name]=Qc,jc),{}),bc={};x.array(M.signals).forEach(jc=>{x.hasOwnProperty(Mb,jc.name)?jc=x.extend(Mb[jc.name],jc):Qb.push(jc);bc[jc.name]=jc});x.array(fa.signals).forEach(jc=>{x.hasOwnProperty(bc,jc.name)||x.hasOwnProperty(Mb,jc.name)||Qb.push(jc)});return Qb}function Ye(M,fa){this.config=
M||{};this.options=fa||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Qe(M){this.config=M.config;this.options=M.options;this.legends=M.legends;this.field=Object.create(M.field);this.signals=Object.create(M.signals);this.lambdas=Object.create(M.lambdas);
this.scales=Object.create(M.scales);this.events=Object.create(M.events);this.data=Object.create(M.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++M._nextsub[0];this._nextsub=M._nextsub;this._parent=M._parent.slice();this._encode=M._encode.slice();this._lookup=M._lookup.slice();this._markpath=M._markpath}function Re(M){return(x.isArray(M)?Fd:ee)(M)}function Fd(M){const fa=M.length;let kb="[";for(let Qb=0;Qb<fa;++Qb){const Mb=M[Qb];kb+=(0<Qb?",":"")+(x.isObject(Mb)?
Mb.signal||Re(Mb):x.stringValue(Mb))}return kb+"]"}function ee(M){let fa="{",kb=0,Qb,Mb;for(Qb in M)Mb=M[Qb],fa+=(1<++kb?",":"")+x.stringValue(Qb)+":"+(x.isObject(Mb)?Mb.signal||Re(Mb):x.stringValue(Mb));return fa+"}"}function ff(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},
rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},
square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",
padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,
layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Oe=M=>x.isObject(M)&&!x.isArray(M)?x.extend({},M):{value:M},Bf=M=>x.isString(M)?x.stringValue(M):M.signal?`(${M.signal})`:Da(M),
Yd=(M,fa,kb,Qb)=>`(${M}(${[fa,kb,Qb].map(Ia).join(",")})+'')`,Ae=["value","update","init","react","bind"],cf=Ya("key"),re={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ad=M=>(fa,kb,Qb)=>new Aa(M,kb,fa||void 0,Qb),Ld=Ad("aggregate"),ae=Ad("axisticks"),Jf=Ad("bound"),De=Ad("collect"),Jd=Ad("compare"),Se=Ad("datajoin"),Ee=Ad("encode"),Ac=Ad("expression"),Be=Ad("facet"),Xd=Ad("field"),cc=Ad("key"),Je=Ad("legendentries"),pe=Ad("load"),Ke=Ad("mark"),Cf=Ad("multiextent"),kf=Ad("multivalues"),tf=
Ad("overlap"),Pe=Ad("params"),N=Ad("prefacet"),V=Ad("projection"),wa=Ad("proxy"),Ka=Ad("relay"),Wa=Ad("render"),Vb=Ad("scale"),mc=Ad("sieve"),Gc=Ad("sortitems"),uc=Ad("viewlayout"),Fc=Ad("values");let id=0;const fd={min:"min",max:"max",count:"sum"},se="size shape fill stroke strokeWidth strokeDash opacity".split(" "),xd={name:1,style:1,interactive:1},zd={value:0},le={value:1},Te=ta(x.stringValue("left"),x.stringValue("right"),x.stringValue("center")),Me=ta('"top"','"bottom"','"middle"'),uf=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${ta('"right"',
'"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Te}`,Zf=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Me}) : "top"`;Ma.fromEntries=function(M,fa){const kb=fa.length,Qb=fa[kb-1],Mb=fa[kb-2];let bc=fa[0],jc=null,Qc=1;bc&&"load"===bc.type&&(bc=fa[1]);for(M.add(fa[0]);Qc<
kb;++Qc)fa[Qc].params.pulse=Ra(fa[Qc-1]),M.add(fa[Qc]),"aggregate"===fa[Qc].type&&(jc=fa[Qc]);return new Ma(M,bc,Mb,Qb,jc)};Ma.prototype={countsRef(M,fa,kb){const Qb=this.counts||(this.counts={}),Mb=vb(fa);if(null!=Mb){M=this.scope;var bc=Qb[Mb]}bc?kb&&kb.field&&ac(M,bc.agg.params,kb):(bc={groupby:M.fieldRef(fa,"key"),pulse:Ra(this.output)},kb&&kb.field&&ac(M,bc,kb),kb=M.add(Ld(bc)),bc=M.add(De({pulse:Ra(kb)})),bc={agg:kb,ref:Ra(bc)},null!=Mb&&(Qb[Mb]=bc));return bc.ref},tuplesRef(){return Ra(this.values)},
extentRef(M,fa){return rd(M,this,"extent","extent",fa,!1)},domainRef(M,fa){return rd(M,this,"domain","values",fa,!1)},valuesRef(M,fa,kb){return rd(M,this,"vals","values",fa,kb||!0)},lookupRef(M,fa){return rd(M,this,"lookup","tupleindex",fa,!1)},indataRef(M,fa){return rd(M,this,"indata","tupleindex",fa,!0,!0)}};const pd=(M,fa,kb)=>{nb(M)?(M=M.signal,fa=vf(`${M} === '${"left"}' || ${M} === '${"top"}'`,fa,kb)):fa="left"===M||"top"===M?fa:kb;return fa},Ue=(M,fa,kb)=>{nb(M)?(M=M.signal,fa=$f(`${M} === '${"top"}' || ${M} === '${"bottom"}'`,
fa,kb)):fa="bottom"===M||"top"===M?fa:kb;return fa},Le=(M,fa,kb)=>{nb(M)?(M=M.signal,fa=$f(`${M} !== '${"top"}' && ${M} !== '${"bottom"}'`,fa,kb)):fa="bottom"===M||"top"===M?kb:fa;return fa},Ze=(M,fa,kb)=>nb(M)?vf(`${M.signal} === '${"top"}'`,fa,kb):"top"===M?{value:fa}:{value:kb},$f=(M,fa,kb)=>{fa=null!=fa?Oe(fa):fa;kb=null!=kb?Oe(kb):kb;if(null!=fa&&1!==Object.keys(fa).length||null!=kb&&1!==Object.keys(kb).length)return[x.extend({test:M},fa)].concat(kb||[]);fa=fa?fa.signal||x.stringValue(fa.value):
null;kb=kb?kb.signal||x.stringValue(kb.value):null;return{signal:`${M} ? (${fa}) : (${kb})`}},vf=(M,fa,kb)=>({signal:`${M} ? (${ag(fa)}) : (${ag(kb)})`}),ag=M=>nb(M)?M.signal:null==M?null:x.stringValue(M),df=(M,fa)=>{const kb=M.signal;return kb&&kb.endsWith("(null)")?{signal:kb.slice(0,-6)+fa.signal}:M};Ye.prototype=Qe.prototype={parse(M){return Ed(M,this)},fork(){return new Qe(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,
streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(M){this.operators.push(M);M.id=this.id();M.refs&&(M.refs.forEach(fa=>{fa.$ref=M.id}),M.refs=null);return M},proxy(M){M=M instanceof Aa?Ra(M):M;return this.add(wa({value:M}))},addStream(M){this.streams.push(M);M.id=this.id();return M},addUpdate(M){this.updates.push(M);return M},finish(){function M(Qb,Mb,bc){Qb&&(Qb=Qb.data||(Qb.data=
{}),Mb=Qb[Mb]||(Qb[Mb]=[]),Mb.push(bc))}let fa,kb;this.root&&(this.root.root=!0);for(fa in this.signals)this.signals[fa].signal=fa;for(fa in this.scales)this.scales[fa].scale=fa;for(fa in this.data){kb=this.data[fa];M(kb.input,fa,"input");M(kb.output,fa,"output");M(kb.values,fa,"values");for(const Qb in kb.index)M(kb.index[Qb],fa,"index:"+Qb)}return this},pushState(M,fa,kb){this._encode.push(Ra(this.add(mc({pulse:M}))));this._parent.push(fa);this._lookup.push(kb?Ra(this.proxy(kb)):null);this._markpath.push(-1)},
popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return x.peek(this._parent)},encode(){return x.peek(this._encode)},lookup(){return x.peek(this._lookup)},markpath(){const M=this._markpath;return++M[M.length-1]},fieldRef(M,fa){if(x.isString(M))return Ya(M,fa);M.signal||x.error("Unsupported field reference: "+x.stringValue(M));M=M.signal;var kb=this.field[M];kb||(kb={name:this.signalRef(M)},fa&&(kb.as=fa),this.field[M]=kb=Ra(this.add(Xd(kb))));return kb},
compareRef(M){let fa=!1;const kb=Mb=>nb(Mb)?(fa=!0,this.signalRef(Mb.signal)):Mb&&Mb.expr?(fa=!0,this.exprRef(Mb.expr)):Mb,Qb=x.array(M.field).map(kb);M=x.array(M.order).map(kb);return fa?Ra(this.add(Jd({fields:Qb,orders:M}))):{$compare:Qb,$order:M}},keyRef(M,fa){let kb=!1;const Qb=this.signals;M=x.array(M).map(Mb=>nb(Mb)?(kb=!0,Ra(Qb[Mb.signal])):Mb);return kb?Ra(this.add(cc({fields:M,flat:fa}))):ib(M,fa)},sortRef(M){if(!M)return M;const fa=db(M.op,M.field);M=M.order||"ascending";return M.signal?
Ra(this.add(Jd({fields:fa,orders:this.signalRef(M.signal)}))):{$compare:fa,$order:M}},event(M,fa){const kb=M+":"+fa;if(!this.events[kb]){const Qb=this.id();this.streams.push({id:Qb,source:M,type:fa});this.events[kb]=Qb}return this.events[kb]},hasOwnSignal(M){return x.hasOwnProperty(this.signals,M)},addSignal(M,fa){this.hasOwnSignal(M)&&x.error("Duplicate signal name: "+x.stringValue(M));fa=fa instanceof Aa?fa:this.add(new Aa("operator",fa,void 0,void 0));return this.signals[M]=fa},getSignal(M){this.signals[M]||
x.error("Unrecognized signal name: "+x.stringValue(M));return this.signals[M]},signalRef(M){if(this.signals[M])return Ra(this.signals[M]);x.hasOwnProperty(this.lambdas,M)||(this.lambdas[M]=this.add(new Aa("operator",null,void 0,void 0)));return Ra(this.lambdas[M])},parseLambdas(){const M=Object.keys(this.lambdas);for(let kb=0,Qb=M.length;kb<Qb;++kb){var fa=M[kb];const Mb=ea.parseExpression(fa,this);fa=this.lambdas[fa];fa.params=Mb.$params;fa.update=Mb.$expr}},property(M){return M&&M.signal?this.signalRef(M.signal):
M},objectProperty(M){return M&&x.isObject(M)?this.signalRef(M.signal||Re(M)):M},exprRef(M,fa){M={expr:ea.parseExpression(M,this)};fa&&(M.expr.$name=fa);return Ra(this.add(Ac(M)))},addBinding(M,fa){this.bindings||x.error("Nested signals do not support binding: "+x.stringValue(M));this.bindings.push(x.extend({signal:M},fa))},addScaleProj(M,fa){x.hasOwnProperty(this.scales,M)&&x.error("Duplicate scale or projection name: "+x.stringValue(M));this.scales[M]=this.add(fa)},addScale(M,fa){this.addScaleProj(M,
Vb(fa))},addProjection(M,fa){this.addScaleProj(M,V(fa))},getScale(M){this.scales[M]||x.error("Unrecognized scale name: "+x.stringValue(M));return this.scales[M]},scaleRef(M){return Ra(this.getScale(M))},scaleType(M){return this.getScale(M).params.type},projectionRef(M){return this.scaleRef(M)},projectionType(M){return this.scaleType(M)},addData(M,fa){x.hasOwnProperty(this.data,M)&&x.error("Duplicate data set name: "+x.stringValue(M));return this.data[M]=fa},getData(M){this.data[M]||x.error("Undefined data set name: "+
x.stringValue(M));return this.data[M]},addDataPipeline(M,fa){x.hasOwnProperty(this.data,M)&&x.error("Duplicate data set name: "+x.stringValue(M));return this.addData(M,Ma.fromEntries(this,fa))}};n.AxisDomainRole="axis-domain";n.AxisGridRole="axis-grid";n.AxisLabelRole="axis-label";n.AxisRole="axis";n.AxisTickRole="axis-tick";n.AxisTitleRole="axis-title";n.DataScope=Ma;n.FrameRole="frame";n.LegendEntryRole="legend-entry";n.LegendLabelRole="legend-label";n.LegendRole="legend";n.LegendSymbolRole="legend-symbol";
n.LegendTitleRole="legend-title";n.MarkRole="mark";n.Scope=Ye;n.ScopeRole="scope";n.config=ff;n.parse=function(M,fa,kb){x.isObject(M)||x.error("Input Vega specification must be an object.");fa=x.mergeConfig(ff(),fa,M.config);return Wd(M,new Ye(fa,kb)).toRuntime()};n.signal=ka;n.signalUpdates=ua;n.stream=I;Object.defineProperty(n,"__esModule",{value:!0})})};
shadow$provide[66]=function($b,Rb,Ic,Nb){function n(ka){if(ka&&ka.__esModule)return ka;var Aa=Object.create(null);ka&&Object.keys(ka).forEach(function(Ra){if("default"!==Ra){var Ya=Object.getOwnPropertyDescriptor(ka,Ra);Object.defineProperty(Aa,Ra,Ya.get?Ya:{enumerable:!0,get:function(){return ka[Ra]}})}});Aa["default"]=ka;return Object.freeze(Aa)}Object.defineProperty(Nb,"__esModule",{value:!0});var x=Rb(17),ea=Rb(29),Sa=Rb(31),Wb=Rb(40),fb=Rb(41),ub=Rb(45),Ob=Rb(50),zb=Rb(52),cb=Rb(53),ob=Rb(54),
rb=Rb(56);Ic=Rb(57);$b=Rb(58);var Xa=Rb(30),Ha=Rb(21),Ia=Rb(28),Za=Rb(39),mb=Rb(38),Da=Rb(44),Fa=Rb(63),hb=Rb(23),Ca=Rb(61),bb=Rb(65),La=Rb(62);Rb=n(Sa);Wb=n(Wb);fb=n(fb);ub=n(ub);Ob=n(Ob);zb=n(zb);cb=n(cb);ob=n(ob);rb=n(rb);Ic=n(Ic);$b=n($b);x.extend(ea.transforms,Rb,Wb,fb,ub,Ob,cb,zb,ob,rb,Ic,$b);Object.keys(x).forEach(function(ka){"default"!==ka&&Object.defineProperty(Nb,ka,{enumerable:!0,get:function(){return x[ka]}})});Object.keys(Xa).forEach(function(ka){"default"!==ka&&Object.defineProperty(Nb,
ka,{enumerable:!0,get:function(){return Xa[ka]}})});Object.keys(Ha).forEach(function(ka){"default"!==ka&&Object.defineProperty(Nb,ka,{enumerable:!0,get:function(){return Ha[ka]}})});Object.keys(Ia).forEach(function(ka){"default"!==ka&&Object.defineProperty(Nb,ka,{enumerable:!0,get:function(){return Ia[ka]}})});Object.keys(Za).forEach(function(ka){"default"!==ka&&Object.defineProperty(Nb,ka,{enumerable:!0,get:function(){return Za[ka]}})});Object.defineProperty(Nb,"Dataflow",{enumerable:!0,get:function(){return ea.Dataflow}});
Object.defineProperty(Nb,"EventStream",{enumerable:!0,get:function(){return ea.EventStream}});Object.defineProperty(Nb,"MultiPulse",{enumerable:!0,get:function(){return ea.MultiPulse}});Object.defineProperty(Nb,"Operator",{enumerable:!0,get:function(){return ea.Operator}});Object.defineProperty(Nb,"Parameters",{enumerable:!0,get:function(){return ea.Parameters}});Object.defineProperty(Nb,"Pulse",{enumerable:!0,get:function(){return ea.Pulse}});Object.defineProperty(Nb,"Transform",{enumerable:!0,get:function(){return ea.Transform}});
Object.defineProperty(Nb,"changeset",{enumerable:!0,get:function(){return ea.changeset}});Object.defineProperty(Nb,"definition",{enumerable:!0,get:function(){return ea.definition}});Object.defineProperty(Nb,"ingest",{enumerable:!0,get:function(){return ea.ingest}});Object.defineProperty(Nb,"isTuple",{enumerable:!0,get:function(){return ea.isTuple}});Object.defineProperty(Nb,"transform",{enumerable:!0,get:function(){return ea.transform}});Object.defineProperty(Nb,"transforms",{enumerable:!0,get:function(){return ea.transforms}});
Object.defineProperty(Nb,"tupleid",{enumerable:!0,get:function(){return ea.tupleid}});Object.defineProperty(Nb,"interpolate",{enumerable:!0,get:function(){return mb.interpolate}});Object.defineProperty(Nb,"interpolateColors",{enumerable:!0,get:function(){return mb.interpolateColors}});Object.defineProperty(Nb,"interpolateRange",{enumerable:!0,get:function(){return mb.interpolateRange}});Object.defineProperty(Nb,"quantizeInterpolator",{enumerable:!0,get:function(){return mb.quantizeInterpolator}});
Object.defineProperty(Nb,"scale",{enumerable:!0,get:function(){return mb.scale}});Object.defineProperty(Nb,"scheme",{enumerable:!0,get:function(){return mb.scheme}});Object.defineProperty(Nb,"projection",{enumerable:!0,get:function(){return Da.projection}});Object.defineProperty(Nb,"View",{enumerable:!0,get:function(){return Fa.View}});Object.defineProperty(Nb,"defaultLocale",{enumerable:!0,get:function(){return hb.defaultLocale}});Object.defineProperty(Nb,"formatLocale",{enumerable:!0,get:function(){return hb.numberFormatDefaultLocale}});
Object.defineProperty(Nb,"locale",{enumerable:!0,get:function(){return hb.locale}});Object.defineProperty(Nb,"resetDefaultLocale",{enumerable:!0,get:function(){return hb.resetDefaultLocale}});Object.defineProperty(Nb,"timeFormatLocale",{enumerable:!0,get:function(){return hb.timeFormatDefaultLocale}});Object.defineProperty(Nb,"expressionFunction",{enumerable:!0,get:function(){return Ca.expressionFunction}});Object.defineProperty(Nb,"parse",{enumerable:!0,get:function(){return bb.parse}});Object.defineProperty(Nb,
"runtimeContext",{enumerable:!0,get:function(){return La.context}});Nb.version="5.18.0"};
shadow$provide[67]=function($b,Rb,Ic,Nb){var n=Rb(27).Buffer;(function(x,ea){"object"===typeof Nb&&"undefined"!==typeof Ic?ea(Nb):"function"===typeof define&&define.amd?define(["exports"],ea):(x="undefined"!==typeof globalThis?globalThis:x||self,ea(x.vegaLite={}))})(this,function(x){function ea(d,k,b){d.fields=k||[];d.fname=b;return d}function Sa(d){return 1===d.length?Sg(d[0]):Rg(d)}function Wb(d){function k(){b.push(K+d.substring(R,va));K="";R=va+1}const b=[],g=d.length;let l=null,B=0,K="",R,va,
Na;d+="";for(R=va=0;va<g;++va)if(Na=d[va],"\\"===Na)K+=d.substring(R,va),K+=d.substring(++va,++va),R=va;else if(Na===l)k(),l=null,B=-1;else if(!l)if(R===B&&'"'===Na)R=va+1,l=Na;else if(R===B&&"'"===Na)R=va+1,l=Na;else if("."===Na&&!B)va>R?k():R=va+1;else if("["===Na)va>R&&k(),B=R=va+1;else if("]"===Na){if(!B)throw Error("Access path missing open bracket: "+d);0<B&&k();B=0;R=va+1}if(B)throw Error("Access path missing closing bracket: "+d);if(l)throw Error("Access path missing closing quote: "+d);va>
R&&(va++,k());return b}function fb(d,k,b){k=[k].concat([].slice.call(b));console[d].apply(console,k)}function ub(d){return d===Object(d)}function Ob(...d){return d.reduce((k,b)=>{for(const g in b)"signals"===g?k.signals=cb(k.signals,b.signals):zb(k,g,b[g],"legend"===g?{layout:1}:"style"===g?!0:null);return k},{})}function zb(d,k,b,g){if("__proto__"!==k){var l;if(ub(b)&&!te(b))for(l in d=ub(d[k])?d[k]:d[k]={},b)g&&(!0===g||g[l])?zb(d,l,b[l]):"__proto__"!==l&&(d[l]=b[l]);else d[k]=b}}function cb(d,
k){function b(B){g[B.name]||(g[B.name]=1,l.push(B))}if(null==d)return k;const g={},l=[];k.forEach(b);d.forEach(b);return l}function ob(d){return null!=d?te(d)?d:[d]:[]}function rb(d){return"boolean"===typeof d}function Xa(d){return"number"===typeof d}function Ha(d){return"string"===typeof d}function Ia(d){return te(d)?"["+d.map(Ia)+"]":ub(d)||Ha(d)?JSON.stringify(d).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):d}function Za(d){const k={},b=d.length;for(let g=0;g<b;++g)k[d[g]]=!0;return k}
function mb(d,k){if(d.not)mb(d.not,k);else if(d.and)for(const b of d.and)mb(b,k);else if(d.or)for(const b of d.or)mb(b,k);else k(d)}function Da(d,k){return d.not?{not:Da(d.not,k)}:d.and?{and:d.and.map(b=>Da(b,k))}:d.or?{or:d.or.map(b=>Da(b,k))}:k(d)}function Fa(d,k){const b={};for(const g of k)Jj.call(d,g)&&(b[g]=d[g]);return b}function hb(d,k){d=Object.assign({},d);for(const b of k)delete d[b];return d}function Ca(d){if(Xa(d))return d;d=Ha(d)?d:ck(d);if(250>d.length)return d;let k=0;for(let b=0;b<
d.length;b++){const g=d.charCodeAt(b);k=(k<<5)-k+g;k&=k}return k}function bb(d){return!1===d||null===d}function La(d,k){return-1<d.indexOf(k)}function ka(d,k){let b=0;for(const g of d.entries()){const [l,B]=g;if(k(B,l,b++))return!0}return!1}function Aa(d,k){let b=0;for(const g of d.entries()){const [l,B]=g;if(!k(B,l,b++))return!1}return!0}function Ra(d,...k){for(const g of k){k=d;var b=null!==g&&void 0!==g?g:{};for(const l of td(b))zb(k,l,b[l],!0)}return d}function Ya(d,k){const b=[],g={};for(const l of d)d=
k(l),d in g||(g[d]=1,b.push(l));return b}function ib(d,k){if(d.size!==k.size)return!1;for(const b of d)if(!k.has(b))return!1;return!0}function db(d,k){for(const b of d)if(k.has(b))return!0;return!1}function nb(d){const k=new Set;for(const b of d){const g=Wb(b).map((l,B)=>0===B?l:"[".concat(l,"]"));d=g.map((l,B)=>g.slice(0,B+1).join(""));for(const l of d)k.add(l)}return k}function $a(d,k){return void 0===d||void 0===k?!0:db(nb(d),nb(k))}function S(d){return 0===td(d).length}function z(d){return!0===
d||!1===d}function I(d){const k=d.replace(/\W/g,"_");return(d.match(/^\d+/)?"_":"")+k}function Q(d,k){return d.not?"!("+Q(d.not,k)+")":d.and?"("+d.and.map(b=>Q(b,k)).join(") \x26\x26 (")+")":d.or?"("+d.or.map(b=>Q(b,k)).join(") || (")+")":k(d)}function J(d,k){if(0===k.length)return!0;const b=k.shift();b in d&&J(d[b],k)&&delete d[b];return S(d)}function W(d){return d.charAt(0).toUpperCase()+d.substr(1)}function Y(d,k){k=void 0===k?"datum":k;d=Wb(d);const b=[];for(let g=1;g<=d.length;g++){const l="[".concat(d.slice(0,
g).map(Ia).join("]["),"]");b.push("".concat(k).concat(l))}return b.join(" \x26\x26 ")}function ma(d,k){return"".concat(void 0===k?"datum":k,"[").concat(Ia(Wb(d).join(".")),"]")}function Qa(d){return d.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Ua(d){return"".concat(Wb(d).map(Qa).join("\\."))}function U(d,k,b){return d.replace(new RegExp(k.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),b)}function sa(d){return"".concat(Wb(d).join("."))}function ua(d){return d?Wb(d).length:0}function la(...d){for(const k of d)if(void 0!==
k)return k}function T(d){const k=++zk;return d?String(d)+k:k}function v(d){return w(d)?d:"__".concat(d)}function w(d){return 0===d.indexOf("__")}function p(d){if(void 0!==d)return(d%360+360)%360}function r(d){return Xa(d)?!0:!isNaN(d)&&!isNaN(parseFloat(d))}function D(d){return d&&d.condition}function E(d){return!!d&&!!d.argmin}function H(d){return!!d&&!!d.argmax}function C(d){return Ha(d)&&!!Cl[d]}function ha(d){return Ha(d)&&La(ll,d)}function xa(d){switch(d){case "latitude":return"y";case "latitude2":return"y2";
case "longitude":return"x";case "longitude2":return"x2"}}function oa(d){return"color"===d||"fill"===d||"stroke"===d}function Va(d){return Ja(d)!==d}function Ja(d){switch(d){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return d}function ba(d){if(d in qh)switch(d){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";case "radius2":return"innerRadius"}return d}
function ta(d){switch(d){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function eb(d){switch(d){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function xb(d){switch(d){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";case "theta2":return"theta2Offset";
case "radius2":return"radius2Offset"}}function Kb(d){return"width"===d?"x":"y"}function fc(d){switch(d){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return hk;case "x":case "y":case "latitude":case "longitude":return ik;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",
rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};
case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function Ec(d){switch(d){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";case "color":case "fill":case "stroke":return"flexible"}}function gd(d){rb(d)&&
(d=Mb(d,void 0));return"bin"+td(d).map(k=>Ta(d[k])?I("_".concat(k,"_").concat(dh(d[k]))):I("_".concat(k,"_").concat(d[k]))).join("")}function Dc(d){return!0===d||ub(d)&&!d.binned}function Sc(d){return"binned"===d||ub(d)&&!0===d.binned}function Ta(d){return null===d||void 0===d?void 0:d.selection}function nc(d){switch(d){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;
default:return 10}}function lc(d,k,b){k in d?Object.defineProperty(d,k,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[k]=b;return d}function wc(d,k,b){k=k.get(d);if(!k)throw new TypeError("attempted to set private field on non-instance");if(k.set)k.set.call(d,b);else{if(!k.writable)throw new TypeError("attempted to set read only private field");k.value=b}return b}function Pc(d){return"Invalid specification ".concat(JSON.stringify(d),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}
function rc(d){return"".concat("width"==d?"Width":"Height",' "container" only works for single views and layered views.')}function Xc(d){const k="width"==d?"x":"y";return"".concat("width"==d?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(k,'".')}function $c(d){return d?'Dropping "fit-'.concat(d,'" because spec has discrete ').concat(eb(d),"."):'Dropping "fit" because spec has discrete size.'}function Nc(d){return"Unknown field for ".concat(d,". Cannot calculate view size.")}
function Dd(d){return'Cannot project a selection on encoding channel "'.concat(d,'", which has no field.')}function we(d,k){return'Cannot project a selection on encoding channel "'.concat(d,'" as it uses an aggregate function ("').concat(k,'").')}function ld(d){return"Selection not supported for ".concat(d," yet.")}function sd(d){return'The "columns" property cannot be used when "'.concat(d,'" has nested row/column.')}function ge(d,k,b){return'An ancestor parsed field "'.concat(d,'" as ').concat(b,
" but a child wants to parse the field as ").concat(k,".")}function Ma(d){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(d," are dropped.")}function vb(d,k){const {fill:b,stroke:g}=k;return"Dropping color ".concat(d," as the plot also has ").concat(b&&g?"fill and stroke":b?"fill":"stroke",".")}function ac(d,k){return"Dropping ".concat(If(d),' from channel "').concat(k,'" since it does not contain any data field, datum, value, or signal.')}function rd(d,
k,b){return"".concat(d,' dropped as it is incompatible with "').concat(k,'"').concat(b?" when ".concat(b):"",".")}function vd(d){return"".concat(d,"-encoding is dropped as ").concat(d," is not a valid encoding channel.")}function de(d,k){return'Using discrete channel "'.concat(d,'" to encode "').concat(k,'" field can be misleading as it does not encode ').concat("ordinal"===k?"order":"magnitude",".")}function oe(d,k,b){return"".concat(b,"-scale's \"").concat(k,'" is dropped as it does not work with ').concat(d,
" scale.")}function Z(d){return'The step for "'.concat(d,'" is dropped because the ').concat("width"===d?"x":"y"," is continuous.")}function za(d){return'Cannot stack "'.concat(d,'" if there is already "').concat(d,'2".')}function gb(d,k){return"Invalid ".concat(d,": ").concat(If(k),".")}function Db(d){return"1D error band does not support ".concat(d,".")}function Zb(d){return"Channel ".concat(d,' is required for "binned" bin.')}function Gb(...d){Zi.warn(...d)}function sc(d){if(d&&ub(d))for(const k of Lk)if(k in
d)return!0;return!1}function kc(d){r(d)&&(d=+d);if(Xa(d))return d-1;{var k=d.toLowerCase();const b=Dk.indexOf(k);if(-1!==b)return b;k=k.substr(0,3);k=Ck.indexOf(k);if(-1!==k)return k;throw Error(gb("month",d));}}function Oa(d){r(d)&&(d=+d);if(Xa(d))return d%7;{var k=d.toLowerCase();const b=kl.indexOf(k);if(-1!==b)return b;k=k.substr(0,3);k=Vk.indexOf(k);if(-1!==k)return k;throw Error(gb("day",d));}}function sb(d,k){const b=[];k&&void 0!==d.day&&1<td(d).length&&(Gb("Dropping day from datetime ".concat(If(d),
" as day cannot be combined with other units.")),d=Ve(d),delete d.day);void 0!==d.year?b.push(d.year):b.push(2012);if(void 0!==d.month){var g=k?kc(d.month):d.month;b.push(g)}else if(void 0!==d.quarter){if(k)if(g=d.quarter,r(g)&&(g=+g),Xa(g))4<g&&Gb(gb("quarter",g)),--g;else throw Error(gb("quarter",g));else g=d.quarter;b.push(Xa(g)?3*g:g+"*3")}else b.push(0);void 0!==d.date?b.push(d.date):void 0!==d.day?(k=k?Oa(d.day):d.day,b.push(Xa(k)?k+1:k+"+1")):b.push(1);for(const l of["hours","minutes","seconds",
"milliseconds"])k=d[l],b.push("undefined"===typeof k?0:k);return b}function Lb(d){const k=sb(d,!0).join(", ");return d.utc?"utc(".concat(k,")"):"datetime(".concat(k,")")}function hc(d){const k=sb(d,!0);return d.utc?+new Date(Date.UTC(...k)):+new Date(...k)}function tc(d){const k=[];for(const b of Lk)Bc(d,b)&&k.push(b);return k}function Bc(d,k){const b=d.indexOf(k);return 0>b||0<b&&"seconds"===k&&"i"===d.charAt(b-1)||d.length>b+3&&"day"===k&&"o"===d.charAt(b+3)||0<b&&"year"===k&&"f"===d.charAt(b-1)?
!1:!0}function Mc(d){if(d)return d=tc(d),"timeUnitSpecifier(".concat(ck(d),", ").concat(ck(bl),")")}function Hb(d){if(d){var k;Ha(d)?k={unit:d}:ub(d)&&(k=Object.assign({},d,d.unit?{unit:d.unit}:{}));k.unit.startsWith("utc")&&(k.utc=!0,k.unit=k.unit.substr(3));return k}}function yc(d){var k=Hb(d);d=Object.assign({},k);k=k.utc;const b=(delete d.utc,d);return b.unit?(k?"utc":"")+td(b).map(g=>I("".concat("unit"===g?"":"_".concat(g,"_")).concat(b[g]))).join(""):(k?"utc":"")+"timeunit"+td(b).map(g=>I("_".concat(g,
"_").concat(b[g]))).join("")}function Cc(d){return d&&!!d.signal}function xc(d){return!!d.step}function Jc(d){return te(d)?!1:"field"in d&&"data"in d}function Yc(d){return d&&!!d.field&&void 0!==d.equal}function Uc(d){return d&&!!d.field&&void 0!==d.lt}function od(d){return d&&!!d.field&&void 0!==d.lte}function qd(d){return d&&!!d.field&&void 0!==d.gt}function Id(d){return d&&!!d.field&&void 0!==d.gte}function Ed(d){return d&&d.field&&(te(d.range)&&2===d.range.length||Cc(d.range))?!0:!1}function Wd(d){return d&&
!!d.field&&(te(d.oneOf)||te(d.in))}function me(d){return Wd(d)||Yc(d)||Ed(d)||Uc(d)||qd(d)||od(d)||Id(d)}function ye(d,k){return Qc(d,{timeUnit:k,wrapTime:!0})}function Ye(d,k){return d.map(b=>ye(b,k))}function Qe(d,k){k=void 0===k?!0:k;var b,{field:g}=d;const l=null===(b=Hb(d.timeUnit))||void 0===b?void 0:b.unit;if(l){{({end:b}={end:!1});g=Y(g);const R=l.startsWith("utc")?"utc":"";const va={};for(K of Lk)if(Bc(l,K)){var B=K;B="quarter"===B?"(".concat(R,"quarter(").concat(g,")-1)"):"".concat(R).concat(B,
"(").concat(g,")");va[K]=B;B=K}b&&(va[B]+="+1");var K=va;b=sb(K,!1).join(", ");K=K.utc?"utc(".concat(b,")"):"datetime(".concat(b,")")}K="time("+K+")"}else K=pd(d,{expr:"datum"});if(Yc(d))return K+"\x3d\x3d\x3d"+ye(d.equal,l);if(Uc(d))return k=d.lt,"".concat(K,"\x3c").concat(ye(k,l));if(qd(d))return k=d.gt,"".concat(K,"\x3e").concat(ye(k,l));if(od(d))return k=d.lte,"".concat(K,"\x3c\x3d").concat(ye(k,l));if(Id(d))return k=d.gte,"".concat(K,"\x3e\x3d").concat(ye(k,l));if(Wd(d))return"indexof([".concat(Ye(d.oneOf,
l).join(","),"], ").concat(K,") !\x3d\x3d -1");if(d&&d.field&&void 0!==d.valid)return Re(K,d.valid);if(Ed(d)){({range:b}=d);d=Cc(b)?{signal:"".concat(b.signal,"[0]")}:b[0];b=Cc(b)?{signal:"".concat(b.signal,"[1]")}:b[1];if(null!==d&&null!==b&&k)return"inrange("+K+", ["+ye(d,l)+", "+ye(b,l)+"])";k=[];null!==d&&k.push("".concat(K," \x3e\x3d ").concat(ye(d,l)));null!==b&&k.push("".concat(K," \x3c\x3d ").concat(ye(b,l)));return 0<k.length?k.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(JSON.stringify(d)));
}function Re(d,k){return void 0===k||k?"isValid(".concat(d,") \x26\x26 isFinite(+").concat(d,")"):"!isValid(".concat(d,") || !isFinite(+").concat(d,")")}function Fd(d){if(me(d)&&d.timeUnit){var k;return Object.assign({},d,{timeUnit:null===(k=Hb(d.timeUnit))||void 0===k?void 0:k.unit})}return d}function ee(d){if(d)switch(d=d.toLowerCase(),d){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";
case "geojson":return"geojson"}}function ff(d){return null===d||void 0===d?void 0:d.selection}function Oe(d,k){switch(k){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!La(["point","band","identity"],d);case "bins":return!La(["point","band","identity","ordinal"],d);case "round":return d in yb||"band"===d||"point"===d;case "padding":case "rangeMin":case "rangeMax":return d in yb||La(["point","band"],d);case "paddingOuter":case "align":return La(["point",
"band"],d);case "paddingInner":return"band"===d;case "domainMax":case "domainMid":case "domainMin":case "clamp":return d in yb;case "nice":return d in yb||"quantize"===d||"threshold"===d;case "exponent":return"pow"===d;case "base":return"log"===d;case "constant":return"symlog"===d;case "zero":return d in Zc&&!La(["log","time","utc","threshold","quantile"],d)}}function Bf(d,k){switch(k){case "interpolate":case "scheme":case "domainMid":if(!oa(d))return'Cannot use the scale property "'.concat(d,'" with non-color channel.')}}
function Yd(d,k){if(!Yh[d])return!1;switch(d){case "x":case "y":case "theta":case "radius":return k in yb||La(["band","point"],k);case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return k in yb||k in ic||La(["band","point","ordinal"],k);case "color":case "fill":case "stroke":return"band"!==k;case "strokeDash":return"ordinal"===k||k in ic;case "shape":return"ordinal"===k}}function Ae(d){return d&&!!d.expr}function cf(d){const k=td(d||{}),b={};for(const g of k)b[g]=
Bd(d[g]);return b}function re(d){return La(["line","area","trail"],d)}function Ad(d){return d.type}function Ld(d){const {channel:k,channelDef:b,markDef:g,scale:l,config:B}=d;d=Se(d);return uc(b)&&!ha(b.aggregate)&&l&&l.get("type")in yb&&!1===l.get("zero")?ae({fieldDef:b,channel:k,markDef:g,ref:d,config:B}):d}function ae(d){var {fieldDef:k,channel:b,markDef:g,ref:l,config:B}=d;if(re(g.type)||null===be("invalid",g,B))return l;{d=Jf(k,!0);const K="y"===Ja(b)?{field:{group:"height"}}:{value:0};d=Object.assign({},
{test:d},K)}return[d,l]}function Jf(d,k){k=void 0===k?!0:k;return Re(Ha(d)?d:pd(d,{expr:"datum"}),!k)}function De(d,k,b,g){const l={};k&&(l.scale=k);id(d)?({datum:d}=d,sc(d)?l.signal=Lb(d):Cc(d)?l.signal=d.signal:Ae(d)?l.signal=d.expr:l.value=d):l.field=pd(d,b);if(g){const {offset:B,band:K}=g;B&&(l.offset=B);K&&(l.band=K)}return l}function Jd(d){var {scaleName:k,fieldOrDatumDef:b,fieldOrDatumDef2:g,offset:l,startSuffix:B,band:K=.5}=d,R=0<K&&1>K?"datum":void 0;d=pd(b,{expr:R,suffix:B});const va=void 0!==
g?pd(g,{expr:R}):pd(b,{suffix:"end",expr:R});R={};0===K||1===K?(R.scale=k,R.field=0===K?d:va):(d="".concat(K," * ").concat(d," + ").concat(1-K," * ").concat(va),R.signal='scale("'.concat(k,'", ').concat(d,")"));l&&(R.offset=l);return R}function Se(d){var {channel:k,channelDef:b,channel2Def:g,markDef:l,config:B,scaleName:K,scale:R,stack:va,offset:Na,defaultRef:wb,band:Fb}=d;if(b){if(xd(b)){var ec,Oc;if(zd(b)){var Wc;Fb=null!==(Wc=Fb)&&void 0!==Wc?Wc:Wa({channel:k,fieldDef:b,fieldDef2:g,markDef:l,stack:va,
config:B,isMidPoint:!0});const {bin:cd,timeUnit:wd,type:Cd}=b;if(Dc(cd)||Fb&&wd&&"temporal"===Cd)return va&&va.impute?De(b,K,{binSuffix:"mid"},{offset:Na}):Fb?Jd({scaleName:K,fieldOrDatumDef:b,band:Fb,offset:Na}):De(b,K,ad(b,k)?{binSuffix:"range"}:{},{offset:Na});if(Sc(cd)){if(uc(g))return Jd({scaleName:K,fieldOrDatumDef:b,fieldOrDatumDef2:g,band:Fb,offset:Na});Gb(Zb("x"===k?"x2":"y2"))}}d=null===R||void 0===R?void 0:R.get("type");return De(b,K,d in Qd?{binSuffix:"range"}:{},{offset:Na,band:"band"===
d?null!==(ec=null!==(Oc=Fb)&&void 0!==Oc?Oc:b.band)&&void 0!==ec?ec:.5:void 0})}if(le(b))return ec=Na?{offset:Na}:{},Object.assign({},Ee(k,b.value),ec)}"function"===typeof wb&&(wb=wb());return wb?Object.assign({},wb,Na?{offset:Na}:{}):wb}function Ee(d,k){return La(["x","x2"],d)&&"width"===k?{field:{group:"width"}}:La(["y","y2"],d)&&"height"===k?{field:{group:"height"}}:Pd(k)}function Ac(d){return d&&"number"!==d&&"time"!==d}function Be(d,k,b){return"".concat(d,"(").concat(k).concat(b?", ".concat(JSON.stringify(b)):
"",")")}function Xd(d){var {fieldOrDatumDef:k,format:b,formatType:g,expr:l,normalizeStack:B,config:K}=d;if(Ac(g))return Je({fieldOrDatumDef:k,format:b,formatType:g,expr:l,config:K});d=cc(k,l,B);if(jc(k)){var R,va;var Na=uc(k)?null===(R=Hb(k.timeUnit))||void 0===R?void 0:R.unit:void 0,wb=b,Fb=K.timeFormat;R=Te(k)&&(null===(va=k.scale)||void 0===va?void 0:va.type)===h.UTC;!Na||wb?(wb=Ha(wb)?wb:Fb,d="".concat(R?"utc":"time","Format(").concat(d,", '").concat(wb,"')")):Na?(va=Mc(Na),Na=R||Na.startsWith("utc"),
d="".concat(Na?"utc":"time","Format(").concat(d,", ").concat(va,")")):d=void 0;return d?{signal:d}:void 0}b=Cf(Fc(k),b,K);return uc(k)&&Dc(k.bin)?(va=pd(k,{expr:l,binSuffix:"end"}),{signal:Pe(d,va,b,g,K)}):b||"quantitative"===Fc(k)?{signal:"".concat(kf(d,b))}:{signal:"isValid(".concat(d,") ? ").concat(d,' : ""+').concat(d)}}function cc(d,k,b){if(uc(d))return b?"".concat(pd(d,{expr:k,suffix:"end"}),"-").concat(pd(d,{expr:k,suffix:"start"})):pd(d,{expr:k});({datum:d}=d);d=sc(d)?Lb(d):"".concat(JSON.stringify(d));
return d}function Je(d){var {fieldOrDatumDef:k,format:b,formatType:g,expr:l,normalizeStack:B,config:K,field:R}=d,va;R=null!==(va=R)&&void 0!==va?va:cc(k,l,B);return uc(k)&&Dc(k.bin)?(d=pd(k,{expr:l,binSuffix:"end"}),{signal:Pe(R,d,b,g,K)}):{signal:Be(g,R,b)}}function pe(d,k,b,g,l,B){if(!Ac(g)){if(jc(d)){var K;d=uc(d)?null===(K=Hb(d.timeUnit))||void 0===K?void 0:K.unit:void 0;b=b?b:d?{signal:Mc(d)}:B?void 0:l.timeFormat;return b}return Cf(k,b,l)}}function Ke(d,k,b){if(d&&(Cc(d)||"number"===d||"time"===
d))return d;if(jc(k)&&"time"!==b&&"utc"!==b)return"time"}function Cf(d,k,b){if(Ha(k))return k;if("quantitative"===d)return b.numberFormat}function kf(d,k){return"format(".concat(d,', "').concat(k||"",'")')}function tf(d,k,b,g){var l;return Ac(b)?Be(b,d,k):kf(d,null!==(l=Ha(k)?k:void 0)&&void 0!==l?l:g.numberFormat)}function Pe(d,k,b,g,l){const B=tf(d,b,g,l);k=tf(k,b,g,l);return"".concat(Re(d,!1),' ? "null" : ').concat(B,' + "').concat("  ",'" + ').concat(k)}function N(d){return!!d&&("count"===d.op||
!!d.field)}function V(d){return!!d&&te(d)}function wa(d){return"row"in d||"column"in d}function Ka(d){const {field:k,timeUnit:b,bin:g,aggregate:l}=d;return Object.assign({},b?{timeUnit:b}:{},g?{bin:g}:{},l?{aggregate:l}:{},{field:k})}function Wa(d){var {channel:k,fieldDef:b,fieldDef2:g,markDef:l,stack:B,config:K,isMidPoint:R}=d;if(xd(b)&&void 0!==b.band)return b.band;if(uc(b)){const {timeUnit:va,bin:Na}=b;if(va&&!g)return R?wf("timeUnitBandPosition",l,K):La(["rect","bar","image","arc"],l.type)?wf("timeUnitBand",
l,K):0;if(Dc(Na))return La(["rect","bar","image","arc"],l.type)&&!R?1:.5}if((null===B||void 0===B?void 0:B.fieldChannel)===k&&R)return.5}function Vb(d,k,b,g,l,B){return Dc(k.bin)||k.timeUnit&&zd(k)&&"temporal"===k.type?!!Wa({channel:d,fieldDef:k,fieldDef2:b,stack:g,markDef:l,config:B}):!1}function mc(d){d=d&&d.condition;return!!d&&!te(d)&&uc(d)}function Gc(d){d=d&&d.condition;return!!d&&!te(d)&&xd(d)}function uc(d){return!!d&&(!!d.field||"count"===d.aggregate)}function Fc(d){return d&&d.type}function id(d){return!!d&&
"datum"in d}function fd(d){return zd(d)&&!Ue(d)||se(d)}function se(d){return id(d)&&Xa(d.datum)}function xd(d){return uc(d)||id(d)}function zd(d){return!!d&&("field"in d||"count"===d.aggregate)&&"type"in d}function le(d){return d&&"value"in d&&"value"in d}function Te(d){return!!d&&("scale"in d||"sort"in d)}function Me(d){return d&&("axis"in d||"stack"in d||"impute"in d)}function uf(d){return!!d&&("format"in d||"formatType"in d)}function Zf(d){return hb(d,["legend","axis","header","scale"])}function pd(d,
k){k=void 0===k?{}:k;let b=d.field;const g=k.prefix;let l=k.suffix,B="";if("count"===d.aggregate)b=v("count");else{let Na;if(!k.nofn)if("op"in d)Na=d.op;else{const {bin:wb,aggregate:Fb,timeUnit:ec}=d;if(Dc(wb)){var K,R;Na=gd(wb);l=(null!==(K=k.binSuffix)&&void 0!==K?K:"")+(null!==(R=k.suffix)&&void 0!==R?R:"")}else if(Fb)H(Fb)?(B='["'.concat(b,'"]'),b="argmax_".concat(Fb.argmax)):E(Fb)?(B='["'.concat(b,'"]'),b="argmin_".concat(Fb.argmin)):Na=String(Fb);else if(ec){var va;Na=yc(ec);l=(!La(["range",
"mid"],k.binSuffix)&&k.binSuffix||"")+(null!==(va=k.suffix)&&void 0!==va?va:"")}}Na&&(b=b?"".concat(Na,"_").concat(b):Na)}l&&(b="".concat(b,"_").concat(l));g&&(b="".concat(g,"_").concat(b));return k.forAs?sa(b):k.expr?ma(b,k.expr)+B:Ua(b)+B}function Ue(d){switch(d.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return uc(d)&&!!d.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(d.type,'".'));}function Le(d,k){const {field:b,bin:g,timeUnit:l,aggregate:B}=
d;if("count"===B)return k.countTitle;if(Dc(g))return"".concat(b," (binned)");if(l){var K;if(d=null===(K=Hb(l))||void 0===K?void 0:K.unit)return"".concat(b," (").concat(tc(d).join("-"),")")}else if(B)return H(B)?"".concat(b," for max ").concat(B.argmax):E(B)?"".concat(b," for min ").concat(B.argmin):"".concat(W(B)," of ").concat(b);return b}function Ze(d,k,b){var {allowDisabling:g,includeDefault:l=!0}=b,B;b=null===(B=$f(d))||void 0===B?void 0:B.title;if(!uc(d))return b;k=l?Wk(d,k):void 0;if(g)return la(b,
d.title,k);var K;return null!==(K=null!==b&&void 0!==b?b:d.title)&&void 0!==K?K:k}function $f(d){if(Me(d)&&d.axis)return d.axis;if(d&&"legend"in d&&d.legend)return d.legend;if(d&&"header"in d&&d.header)return d.header}function vf(d){if(uf(d)){const {format:b,formatType:g}=d;return{format:b,formatType:g}}{var k;d=null!==(k=$f(d))&&void 0!==k?k:{};const {format:b,formatType:g}=d;return{format:b,formatType:g}}}function ag(d,k){var b;switch(k){case "latitude":case "longitude":return"quantitative";case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";
case "order":return"ordinal"}if("sort"in d&&te(d.sort))return"ordinal";const {aggregate:g,bin:l,timeUnit:B}=d;if(B)return"temporal";if(l||g&&!H(g)&&!E(g))return"quantitative";if(Te(d)&&(null===(b=d.scale)||void 0===b?0:b.type))switch(A[d.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function df(d){if(uc(d))return d;if(mc(d))return d.condition}function M(d){if(xd(d))return d;if(Gc(d))return d.condition}function fa(d,k,b,g){g=void 0===
g?{}:g;return Ha(d)||Xa(d)||rb(d)?(b=Ha(d)?"string":Xa(d)?"number":"boolean",k="Channel ".concat(k," is a ").concat(b,". Converted to {value: ").concat(If(d),"}."),Gb(k),{value:d}):xd(d)?kb(d,k,b,g):Gc(d)?Object.assign({},d,{condition:kb(d.condition,k,b,g)}):d}function kb(d,k,b,g){if(uf(d)){var l=Object.assign({},d),B=d.formatType;l=(delete l.format,delete l.formatType,l);if(Ac(B)&&!b.customFormatTypes)return Gb(Ma(k)),kb(l,k,b,g)}else if((B=Me(d)?"axis":d&&"legend"in d?"legend":d&&"header"in d?"header":
null)&&d[B]){var K=d[B];l=Object.assign({},K);K=K.formatType;l=(delete l.format,delete l.formatType,l);if(Ac(K)&&!b.customFormatTypes)return Gb(Ma(k)),kb(Object.assign({},d,{[B]:l}),k,b,g)}if(uc(d))return Qb(d,k,g);k=d.type;k||({datum:k}=d,k=Xa(k)?"quantitative":Ha(k)?"nominal":sc(k)?"temporal":void 0,d=Object.assign({},d,{type:k}));return d}function Qb(d,k,b){({compositeMark:b=!1}=void 0===b?{}:b);const {aggregate:g,timeUnit:l,bin:B,field:K}=d;d=Object.assign({},d);b||!g||C(g)||H(g)||E(g)||(Gb('Invalid aggregation operator "'.concat(g,
'".')),delete d.aggregate);l&&(d.timeUnit=Hb(l));K&&(d.field="".concat(K));Dc(B)&&(d.bin=Mb(B,k));!Sc(B)||k in xg||Gb("Channel ".concat(k,' should not be used with "binned" bin.'));if(zd(d)){({type:b}=d);var R=ee(b);b!==R&&(d.type=R);"quantitative"!==b&&ha(g)&&(b='Invalid field type "'.concat(b,'" for aggregate: "').concat(g,'", using "quantitative" instead.'),Gb(b),d.type="quantitative")}else Va(k)||(b=ag(d,k),d.type=b);if(zd(d)){const {compatible:va,warning:Na}=bc(d,k)||{};!1===va&&Gb(Na)}if("sort"in
d&&Ha(d.sort)){({sort:k}=d);if(k in Tl)return Object.assign({},d,{sort:{encoding:k}});b=k.substr(1);if("-"===k.charAt(0)&&b in Tl)return Object.assign({},d,{sort:{encoding:b,order:"descending"}})}return d&&"header"in d&&({header:k}=d,R=k,b=Object.assign({},R),R=R.orient,b=(delete b.orient,b),R)?Object.assign({},d,{header:Object.assign({},b,{labelOrient:k.labelOrient||R,titleOrient:k.titleOrient||R})}):d}function Mb(d,k){return rb(d)?{maxbins:nc(k)}:"binned"===d?{binned:!0}:d.maxbins||d.step?d:Object.assign({},
d,{maxbins:nc(k)})}function bc(d,k){const b=d.type;if("geojson"===b&&"shape"!==k)return{compatible:!1,warning:"Channel ".concat(k," should not be used with a geojson data.")};switch(k){case "row":case "column":case "facet":return Ue(d)?pk:{compatible:!1,warning:"".concat(k," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return pk;
case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==b?{compatible:!1,warning:"Channel ".concat(k," should be used with a quantitative field only, not ").concat(d.type," field.")}:pk;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==b||d.sort?pk:{compatible:!1,warning:"Channel ".concat(k," should not be used with an unsorted discrete field.")};case "strokeDash":return La(["ordinal",
"nominal"],d.type)?pk:{compatible:!1,warning:"StrokeDash channel should be used with only discrete data."};case "shape":return La(["ordinal","nominal","geojson"],d.type)?pk:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case "order":return"nominal"!==d.type||"sort"in d?pk:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function jc(d){var {formatType:k}=vf(d),b;if(!(b="time"===k)){if(k=!k)k=
d&&("temporal"===d.type||uc(d)&&!!d.timeUnit);b=k}return b}function Qc(d,k){var {timeUnit:b,type:g,wrapTime:l,undefinedIfExprNotRequired:B}=k;var K=(k=b&&(null===(K=Hb(b))||void 0===K?void 0:K.unit))||"temporal"===g;let R;Ae(d)?R=d.expr:Cc(d)?R=d.signal:sc(d)?(K=!0,R=Lb(d)):(Ha(d)||Xa(d))&&K&&(R="datetime(".concat(JSON.stringify(d),")"),Ak[k]&&(Xa(d)&&1E4>d||Ha(d)&&isNaN(Date.parse(d)))&&(R=Lb({[k]:d})));return R?l&&K?"time(".concat(R,")"):R:B?void 0:JSON.stringify(d)}function Kc(d,k){const {type:b}=
d;return k.map(g=>{const l=Qc(g,{timeUnit:uc(d)?d.timeUnit:void 0,type:b,undefinedIfExprNotRequired:!0});return void 0!==l?{signal:l}:g})}function ad(d,k){return Dc(d.bin)?!!Yh[k]&&La(["ordinal","nominal"],d.type):(console.warn("Only call this method for binned field defs."),!1)}function ud(d){var k=Object.assign({},d),b=d.anchor;const g=d.frame,l=d.offset,B=d.orient;var K=d.color,R=d.subtitleColor,va=d.subtitleFont;const Na=d.subtitleFontSize,wb=d.subtitleFontStyle,Fb=d.subtitleFontWeight,ec=d.subtitleLineHeight;
d=d.subtitlePadding;k=(delete k.anchor,delete k.frame,delete k.offset,delete k.orient,delete k.color,delete k.subtitleColor,delete k.subtitleFont,delete k.subtitleFontSize,delete k.subtitleFontStyle,delete k.subtitleFontWeight,delete k.subtitleLineHeight,delete k.subtitlePadding,k);K=Object.assign({},k,K?{fill:K}:{});b=Object.assign({},b?{anchor:b}:{},g?{frame:g}:{},l?{offset:l}:{},B?{orient:B}:{});R=Object.assign({},R?{subtitleColor:R}:{},va?{subtitleFont:va}:{},Na?{subtitleFontSize:Na}:{},wb?{subtitleFontStyle:wb}:
{},Fb?{subtitleFontWeight:Fb}:{},ec?{subtitleLineHeight:ec}:{},d?{subtitlePadding:d}:{});va=Fa(K,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:K,subtitleMarkConfig:va,nonMark:b,subtitle:R}}function Nd(d){return Ha(d)||te(d)&&Ha(d[0])}function Td(d){const k=te(d.condition)?d.condition.map(af):af(d.condition);return Object.assign({},Bd(d),{condition:k})}function Bd(d){if(Ae(d)){var k=Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return d}function af(d){if(Ae(d)){var k=
Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return d}function Pd(d){if(Ae(d)){var k=Object.assign({},d);d=d.expr;k=(delete k.expr,k);return Object.assign({},{signal:d},k)}return Cc(d)?d:void 0!==d?{value:d}:void 0}function Fe(d){return Cc(d)?d.signal:Ia(d.value)}function he(d){return Cc(d)?d.signal:null==d?null:Ia(d)}function ze(d,k,b){for(const g of b)b=wf(g,k.markDef,k.config),void 0!==b&&(d[g]=Pd(b));return d}function Sf(d){var k;return[].concat(d.type,
null!==(k=d.style)&&void 0!==k?k:[])}function be(d,k,b,g){g=void 0===g?{}:g;const {vgChannel:l,ignoreVgConfig:B}=g;if(l&&void 0!==k[l])return k[l];if(void 0!==k[d])return k[d];if(!B||l&&l!==d)return wf(d,k,b,g)}function wf(d,k,b,g){({vgChannel:g}=void 0===g?{}:g);return la(g?Ce(d,k,b.style):void 0,Ce(d,k,b.style),g?b[k.type][g]:void 0,b[k.type][d],g?b.mark[g]:b.mark[d])}function Ce(d,k,b){return Kf(d,Sf(k),b)}function Kf(d,k,b){k=ob(k);let g;for(const l of k)(k=b[l])&&void 0!==k[d]&&(g=k[d]);return g}
function ef(d,k){return ob(d).reduce((b,g)=>{var l;b.field.push(pd(g,k));b.order.push(null!==(l=g.sort)&&void 0!==l?l:"ascending");return b},{field:[],order:[]})}function gg(d,k){const b=[...d];k.forEach(g=>{for(const l of b)if(Kj(l,g))return;b.push(g)});return b}function O(d,k){return Kj(d,k)||!k?d:d?[...ob(d),...ob(k)].join(", "):k}function P(d,k){const b=d.value;k=k.value;if(null==b||null===k)return{explicit:d.explicit,value:null};if((Nd(b)||Cc(b))&&(Nd(k)||Cc(k)))return{explicit:d.explicit,value:O(b,
k)};if(Nd(b)||Cc(b))return{explicit:d.explicit,value:b};if(Nd(k)||Cc(k))return{explicit:d.explicit,value:k};if(!(Nd(b)||Cc(b)||Nd(k)||Cc(k)))return{explicit:d.explicit,value:gg(b,k)};throw Error("It should never reach here");}function aa(d){return"mark"in d}function ja(d,k){return(d=d&&d[k])?te(d)?ka(d,b=>!!b.field):uc(d)||mc(d):!1}function ya(d){return ka(Uk,k=>ja(d,k)?(k=d[k],te(k)?ka(k,b=>!!b.aggregate):(k=df(k))&&!!k.aggregate):!1)}function Ea(d,k){const b=[],g=[],l=[],B=[],K={};Eb(d,(R,va)=>
{if(uc(R)){var Na=Object.assign({},R),wb=R.field;const ec=R.aggregate,Oc=R.bin,Wc=R.timeUnit;Na=(delete Na.field,delete Na.aggregate,delete Na.bin,delete Na.timeUnit,Na);if(ec||Wc||Oc){var Fb=$f(R);const cd=Fb&&Fb.title;Fb=pd(R,{forAs:!0});Na=Object.assign({},cd?[]:{title:Ze(R,k,{allowDisabling:!0})},Na,{field:Fb});if(ec){let wd;H(ec)?(wd="argmax",Fb=pd({op:"argmax",field:ec.argmax},{forAs:!0}),Na.field="".concat(Fb,".").concat(wb)):E(ec)?(wd="argmin",Fb=pd({op:"argmin",field:ec.argmin},{forAs:!0}),
Na.field="".concat(Fb,".").concat(wb)):"boxplot"!==ec&&"errorbar"!==ec&&"errorband"!==ec&&(wd=ec);wd&&(R={op:wd,as:Fb},wb&&(R.field=wb),B.push(R))}else b.push(Fb),zd(R)&&Dc(Oc)?(g.push({bin:Oc,field:wb,as:Fb}),b.push(pd(R,{binSuffix:"end"})),ad(R,va)&&b.push(pd(R,{binSuffix:"range"})),va in xg&&(K[va+"2"]={field:Fb+"_end"}),Na.bin="binned",Va(va)||(Na.type="quantitative")):Wc&&(l.push({timeUnit:Wc,field:wb,as:Fb}),(wb=zd(R)&&"temporal"!==R.type&&"time")&&("text"===va||"tooltip"===va?Na.formatType=
wb:$h[va]?Na.legend=Object.assign({},{formatType:wb},Na.legend):va in xg&&(Na.axis=Object.assign({},{formatType:wb},Na.axis))));K[va]=Na}else b.push(wb),K[va]=d[va]}else K[va]=d[va]});return{bins:g,timeUnits:l,aggregate:B,groupby:b,encoding:K}}function ab(d,k,b){b=fc(k)[b];return b&&("binned"!==b||(b=d["x2"===k?"x":"y"],uc(b)&&uc(d[k])&&Sc(b.bin)))?!0:!1}function tb(d,k,b,g){return td(d).reduce((l,B)=>{if(!sj[B])return Gb(vd(B)),l;const K=d[B];"angle"!==B||"arc"!==k||d.theta||(Gb("Arc marks uses theta channel rather than angle, replacing angle with theta."),
B="theta");if(!ab(d,B,k))return Gb(rd(B,k)),l;if("size"===B&&"line"===k){const R=df(d[B]);if(null===R||void 0===R?0:R.aggregate)return Gb("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead."),l}if("color"===B&&(b?"fill"in d:"stroke"in d))return Gb(vb("encoding",{fill:"fill"in d,stroke:"stroke"in d})),l;if("detail"===B||"order"===B&&!te(K)&&!le(K)||"tooltip"===B&&te(K))K&&(l[B]=ob(K).reduce((R,va)=>{uc(va)?R.push(Qb(va,B)):Gb(ac(va,B));return R},[]));else{if("tooltip"===
B&&null===K)l[B]=null;else if(!(uc(K)||id(K)||le(K)||K&&"condition"in K||Cc(K)))return Gb(ac(K,B)),l;l[B]=fa(K,B,g)}return l},{})}function pb(d,k){const b={};for(const g of td(d)){const l=fa(d[g],g,k,{compositeMark:!0});b[g]=l}return b}function Ab(d){const k=[];for(const b of td(d))if(ja(d,b)){const g=ob(d[b]);for(const l of g)uc(l)?k.push(l):mc(l)&&k.push(l.condition)}return k}function Eb(d,k,b){if(d)for(const g of td(d)){const l=d[g];if(te(l))for(const B of l)k.call(b,B,g);else k.call(b,l,g)}}function Yb(d,
k,b,g){return d?td(d).reduce((l,B)=>{const K=d[B];return te(K)?K.reduce((R,va)=>k.call(g,R,va,B),l):k.call(g,l,K,B)},b):b}function pc(d,k){return td(k).reduce((b,g)=>{switch(g){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return b;case "order":if("line"===d||"trail"===d)return b;case "detail":case "key":g=
k[g];if(te(g)||uc(g))for(var l of ob(g))l.aggregate||b.push(pd(l,{}));return b;case "size":if("trail"===d)return b;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(l=df(k[g]))&&!l.aggregate&&b.push(pd(l,{})),b}},[])}function u(d,k,b,g){g=void 0===g?!0:g;if("tooltip"in b)return{tooltip:b.tooltip};d=d.map(l=>{var {fieldPrefix:B,titlePrefix:K}=l;l=g?" of ".concat(F(k)):"";return{field:B+k.field,type:k.type,title:Cc(K)?
{signal:K+'"'.concat(escape(l),'"')}:K+l}});b=Ab(b).map(Zf);return{tooltip:[...d,...Ya(b,Ca)]}}function F(d){const {title:k,field:b}=d;return la(k,b)}function ca(d,k,b,g,l){const {scale:B,axis:K}=b;return R=>{var {partName:va,mark:Na,positionPrefix:wb,endPositionPrefix:Fb,extraEncoding:ec={}}=R;R=F(b);return na(d,va,l,{mark:Na,encoding:Object.assign({},{[k]:Object.assign({},{field:wb+"_"+b.field,type:b.type},void 0!==R?{title:R}:{},void 0!==B?{scale:B}:{},void 0!==K?{axis:K}:{})},Ha(Fb)?{[k+"2"]:{field:Fb+
"_"+b.field}}:{},g,ec)})}}function na(d,k,b,g){const {clip:l,color:B,opacity:K}=d,R=d.type;return d[k]||void 0===d[k]&&b[k]?[Object.assign({},g,{mark:Object.assign({},b[k],l?{clip:l}:{},B?{color:B}:{},K?{opacity:K}:{},Ad(g.mark)?g.mark:{type:g.mark},{style:"".concat(R,"-").concat(k)},rb(d[k])?{}:d[k])})]:[]}function lb(d,k,b){({encoding:d}=d);k="vertical"===k?"y":"x";const g=d[k+"2"],l=d[k+"Error"],B=d[k+"Error2"];return{continuousAxisChannelDef:Ib(d[k],b),continuousAxisChannelDef2:Ib(g,b),continuousAxisChannelDefError:Ib(l,
b),continuousAxisChannelDefError2:Ib(B,b),continuousAxis:k}}function Ib(d,k){if(d&&d.aggregate){var b=Object.assign({},d);d=d.aggregate;b=(delete b.aggregate,b);d!==k&&(k="Continuous axis should not have customized aggregation function ".concat(d,"; ").concat(k," already agregates the axis."),Gb(k));return b}return d}function Sb(d,k){const {mark:b,encoding:g}=d,{x:l,y:B}=g;if(Ad(b)&&b.orient)return b.orient;if(fd(l)){if(fd(B)){d=uc(l)&&l.aggregate;const K=uc(B)&&B.aggregate;if(!d&&K===k)return"vertical";
if(K||d!==k){if(d===k&&K===k)throw Error("Both x and y cannot have aggregate");return jc(B)&&!jc(l)?"horizontal":"vertical"}}return"horizontal"}if(fd(B))return"vertical";throw Error("Need a valid continuous axis for ".concat(k,"s"));}function gc(d){return Xa(d)?"tukey":d}function zc(d,k){var {config:b}=k,g,l=d=Object.assign({},d,{encoding:pb(d.encoding,b)});k=Object.assign({},l);var B=l.mark;l=l.selection;k=(delete k.mark,delete k.encoding,delete k.selection,delete k.projection,k);B=Ad(B)?B:{type:B};
l&&Gb(ld("boxplot"));l=null!==(g=B.extent)&&void 0!==g?g:b.boxplot.extent;var K=be("size",B,b);g=gc(l);var R;{var va=d;d=Sb(va,"boxplot");const {continuousAxisChannelDef:Qf,continuousAxis:Fg}=lb(va,d,"boxplot");var Na=Qf.field,wb=gc(l),Fb=[...Tc(Na),{op:"median",field:Na,as:"mid_box_"+Na},{op:"min",field:Na,as:("min-max"===wb?"lower_whisker_":"min_")+Na},{op:"max",field:Na,as:("min-max"===wb?"upper_whisker_":"max_")+Na}];Na="min-max"===wb||"tukey"===wb?[]:[{calculate:'datum["upper_box_'.concat(Na,
'"] - datum["lower_box_').concat(Na,'"]'),as:"iqr_"+Na},{calculate:'min(datum["upper_box_'.concat(Na,'"] + datum["iqr_').concat(Na,'"] * ').concat(l,', datum["max_').concat(Na,'"])'),as:"upper_whisker_"+Na},{calculate:'max(datum["lower_box_'.concat(Na,'"] - datum["iqr_').concat(Na,'"] * ').concat(l,', datum["min_').concat(Na,'"])'),as:"lower_whisker_"+Na}];va=Object.assign({},va.encoding);wb=(delete va[Fg],va);va=Object.assign({},wb);wb=wb.tooltip;va=(delete va.tooltip,va);if(wb){var ec;if(te(wb)){for(var Oc of wb)Oc.aggregate?
(R||(R=[]),R.push(Oc)):(ec||(ec=[]),ec.push(Oc));R&&(va.tooltip=R)}else wb.aggregate?va.tooltip=wb:ec=wb;te(ec)&&1===ec.length&&(ec=ec[0]);R={customTooltipWithoutAggregatedField:ec,filteredEncoding:va}}else R={filteredEncoding:va};const {customTooltipWithoutAggregatedField:ng,filteredEncoding:El}=R,{bins:Oj,timeUnits:Xk,aggregate:Ul,groupby:Vl,encoding:zm}=Ea(El,b);R=[...Oj,...Xk,{aggregate:[...Ul,...Fb],groupby:Vl},...Na];R={bins:Oj,timeUnits:Xk,transform:R,groupby:Vl,aggregate:Ul,continuousAxisChannelDef:Qf,
continuousAxis:Fg,encodingWithoutContinuousAxis:zm,ticksOrient:"vertical"===d?"horizontal":"vertical",boxOrient:d,customTooltipWithoutAggregatedField:ng}}const {bins:Wc,timeUnits:cd,transform:wd,continuousAxisChannelDef:Cd,continuousAxis:ne,groupby:of,aggregate:fe,encodingWithoutContinuousAxis:mf,ticksOrient:Kd,boxOrient:hg,customTooltipWithoutAggregatedField:rf}=R;ec=Object.assign({},mf);R=mf.color;Fb=mf.size;ec=(delete ec.color,delete ec.size,ec);Oc=ca(B,ne,Cd,ec,b.boxplot);d=ca(B,ne,Cd,mf,b.boxplot);
Fb=ca(B,ne,Cd,Object.assign({},ec,Fb?{size:Fb}:{}),b.boxplot);Na=u([{fieldPrefix:"min-max"===g?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===g?"lower_whisker_":"min_",titlePrefix:"Min"}],Cd,mf);va={type:"tick",color:"black",opacity:1,orient:Kd,invalid:null,aria:!1};wb="min-max"===g?Na:u([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},
{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],Cd,mf);Oc=[...Oc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:wb}),...Oc({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:wb}),...Oc({partName:"ticks",mark:va,positionPrefix:"lower_whisker",extraEncoding:wb}),...Oc({partName:"ticks",mark:va,positionPrefix:"upper_whisker",
extraEncoding:wb})];K=[..."tukey"!==g?Oc:[],...d({partName:"box",mark:Object.assign({},{type:"bar"},K?{size:K}:{},{orient:hg,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:Na}),...Fb({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},ub(b.boxplot.median)&&b.boxplot.median.color?{color:b.boxplot.median.color}:{},K?{size:K}:{},{orient:Kd,aria:!1}),positionPrefix:"mid_box",extraEncoding:Na})];if("min-max"===g){var Ie;return Object.assign({},
k,{transform:(null!==(Ie=k.transform)&&void 0!==Ie?Ie:[]).concat(wd),layer:K})}Ie='datum["lower_box_'.concat(Cd.field,'"]');g='datum["upper_box_'.concat(Cd.field,'"]');d="(".concat(g," - ").concat(Ie,")");Ie="".concat(Ie," - ").concat(l," * ").concat(d);d="".concat(g," + ").concat(l," * ").concat(d);Fb='datum["'.concat(Cd.field,'"]');l={joinaggregate:Tc(Cd.field),groupby:of};g={transform:[{filter:"(".concat(Ie," \x3c\x3d ").concat(Fb,") \x26\x26 (").concat(Fb," \x3c\x3d ").concat(d,")")},{aggregate:[{op:"min",
field:Cd.field,as:"lower_whisker_"+Cd.field},{op:"max",field:Cd.field,as:"upper_whisker_"+Cd.field},{op:"min",field:"lower_box_"+Cd.field,as:"lower_box_"+Cd.field},{op:"max",field:"upper_box_"+Cd.field,as:"upper_box_"+Cd.field},...fe],groupby:of}],layer:Oc};ec=Object.assign({},ec);ec=(delete ec.tooltip,ec);const {scale:dg,axis:zg}=Cd;Oc=F(Cd);Na=hb(zg,["title"]);b=na(B,"outliers",b.boxplot,{transform:[{filter:"(".concat(Fb," \x3c ").concat(Ie,") || (").concat(Fb," \x3e ").concat(d,")")}],mark:"point",
encoding:Object.assign({},{[ne]:Object.assign({},{field:Cd.field,type:Cd.type},void 0!==Oc?{title:Oc}:{},void 0!==dg?{scale:dg}:{},S(Na)?{}:{axis:Na})},ec,R?{color:R}:{},rf?{tooltip:rf}:{})})[0];B=[...Wc,...cd,l];b?b={transform:B,layer:[b,g]}:(b=g,b.transform.unshift(...B));return Object.assign({},k,{layer:[b,{transform:wd,layer:K}]})}function Tc(d){return[{op:"q1",field:d,as:"lower_box_"+d},{op:"q3",field:d,as:"upper_box_"+d}]}function Rc(d,k){({config:k}=k);d=Object.assign({},d,{encoding:pb(d.encoding,
k)});const {transform:b,continuousAxisChannelDef:g,continuousAxis:l,encodingWithoutContinuousAxis:B,ticksOrient:K,markDef:R,outerSpec:va,tooltipEncoding:Na}=Md(d,"errorbar",k);delete B.size;d=ca(R,l,g,B,k.errorbar);k=R.thickness;var wb=R.size;wb=Object.assign({},{type:"tick",orient:K,aria:!1},void 0!==k?{thickness:k}:{},void 0!==wb?{size:wb}:{});d=[...d({partName:"ticks",mark:wb,positionPrefix:"lower",extraEncoding:Na}),...d({partName:"ticks",mark:wb,positionPrefix:"upper",extraEncoding:Na}),...d({partName:"rule",
mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==k?{size:k}:{}),positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:Na})];return Object.assign({},va,{transform:b},1<d.length?{layer:d}:Object.assign({},d[0]))}function yd(d,k){var {encoding:b}=d;if(!(!xd(b.x)&&!xd(b.y)||xd(b.x2)||xd(b.y2)||xd(b.xError)||xd(b.xError2)||xd(b.yError)||xd(b.yError2)))return{orient:Sb(d,k),inputType:"raw"};var g=xd(b.x2)||xd(b.y2);var l=xd(b.xError)||xd(b.xError2)||xd(b.yError)||xd(b.yError2);
d=b.x;const B=b.y;if(g){if(l)throw Error("".concat(k," cannot be both type aggregated-upper-lower and aggregated-error"));g=b.x2;b=b.y2;if(xd(g)&&xd(b))throw Error("".concat(k," cannot have both x2 and y2"));if(xd(g)){if(fd(d))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(k));}if(xd(b)){if(fd(B))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(k));
}}else{g=b.xError;l=b.yError;const K=b.yError2;if(xd(b.xError2)&&!xd(g))throw Error("".concat(k," cannot have xError2 without xError"));if(xd(K)&&!xd(l))throw Error("".concat(k," cannot have yError2 without yError"));if(xd(g)&&xd(l))throw Error("".concat(k," cannot have both xError and yError with both are quantiative"));if(xd(g)){if(fd(d))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(xd(l)){if(fd(B))return{orient:"vertical",
inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");}function Md(d,k,b){var g,l=Object.assign({},d),B=d.mark,K=d.encoding,R=d.selection;l=(delete l.mark,delete l.encoding,delete l.selection,delete l.projection,l);B=Ad(B)?B:{type:B};R&&Gb(ld(k));const {orient:va,inputType:Na}=yd(d,k),{continuousAxisChannelDef:wb,continuousAxisChannelDef2:Fb,continuousAxisChannelDefError:ec,continuousAxisChannelDefError2:Oc,continuousAxis:Wc}=
lb(d,va,k);R=[];d=[];var cd=wb.field,wd=!1;if("raw"===Na){var Cd=B.center?B.center:B.extent?"iqr"===B.extent?"median":"mean":b.errorbar.center;var ne=B.extent?B.extent:"mean"===Cd?"stderr":"iqr";"median"===Cd!==("iqr"===ne)&&(R=ne,R="".concat(Cd," is not usually used with ").concat(R," for ").concat(k,"."),Gb(R));"stderr"===ne||"stdev"===ne?(R=[{op:ne,field:cd,as:"extent_"+cd},{op:Cd,field:cd,as:"center_"+cd}],d=[{calculate:'datum["center_'.concat(cd,'"] + datum["extent_').concat(cd,'"]'),as:"upper_"+
cd},{calculate:'datum["center_'.concat(cd,'"] - datum["extent_').concat(cd,'"]'),as:"lower_"+cd}],cd={fieldPrefix:"center_",titlePrefix:W(Cd)},wd=ne,wd={fieldPrefix:"upper_",titlePrefix:W(Cd)+" + "+wd},k=ne,k=W(Cd)+" - "+k,Cd=[cd,wd,{fieldPrefix:"lower_",titlePrefix:k}],wd=!0):("ci"===ne?(k="mean",Cd="ci0",ne="ci1"):(k="median",Cd="q1",ne="q3"),R=[{op:Cd,field:cd,as:"lower_"+cd},{op:ne,field:cd,as:"upper_"+cd},{op:k,field:cd,as:"center_"+cd}],Cd=[{fieldPrefix:"upper_",titlePrefix:Ze({field:cd,aggregate:ne,
type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ze({field:cd,aggregate:Cd,type:"quantitative"},b,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ze({field:cd,aggregate:k,type:"quantitative"},b,{allowDisabling:!1})}])}else{if(B.center||B.extent){k=B.center;var of=B.extent;k="".concat(of?"extent ":"").concat(of&&k?"and ":"").concat(k?"center ":"").concat(of&&k?"are ":"is ","not needed when data are aggregated.");Gb(k)}"aggregated-upper-lower"===Na?(Cd=[],d=[{calculate:'datum["'.concat(Fb.field,
'"]'),as:"upper_"+cd},{calculate:'datum["'.concat(cd,'"]'),as:"lower_"+cd}]):"aggregated-error"===Na&&(Cd=[{fieldPrefix:"",titlePrefix:cd}],d=[{calculate:'datum["'.concat(cd,'"] + datum["').concat(ec.field,'"]'),as:"upper_"+cd}],Oc?d.push({calculate:'datum["'.concat(cd,'"] + datum["').concat(Oc.field,'"]'),as:"lower_"+cd}):d.push({calculate:'datum["'.concat(cd,'"] - datum["').concat(ec.field,'"]'),as:"lower_"+cd}));for(ne of d)Cd.push({fieldPrefix:ne.as.substring(0,6),titlePrefix:U(U(ne.calculate,
'datum["',""),'"]',"")})}d={postAggregateCalculates:d,errorBarSpecificAggregate:R,tooltipSummary:Cd,tooltipTitleWithFieldName:wd};const {errorBarSpecificAggregate:fe,postAggregateCalculates:mf,tooltipSummary:Kd,tooltipTitleWithFieldName:hg}=d;K=Object.assign({},K);d="x"===Wc?"x2":"y2";R="x"===Wc?"xError":"yError";cd="x"===Wc?"xError2":"yError2";K=(delete K[Wc],delete K[d],delete K[R],delete K[cd],K);const {bins:rf,timeUnits:Ie,aggregate:dg,groupby:zg,encoding:Qf}=Ea(K,b);b=[...dg,...fe];K="raw"!==
Na?[]:zg;d=u(Kd,wb,Qf,hg);return{transform:[...null!==(g=l.transform)&&void 0!==g?g:[],...rf,...Ie,...0===b.length?[]:[{aggregate:b,groupby:K}],...mf],groupby:K,continuousAxisChannelDef:wb,continuousAxis:Wc,encodingWithoutContinuousAxis:Qf,ticksOrient:"vertical"===va?"horizontal":"vertical",markDef:B,outerSpec:l,tooltipEncoding:d}}function bd(d,k){({config:k}=k);d=Object.assign({},d,{encoding:pb(d.encoding,k)});const {transform:b,continuousAxisChannelDef:g,continuousAxis:l,encodingWithoutContinuousAxis:B,
markDef:K,outerSpec:R,tooltipEncoding:va}=Md(d,"errorband",k);k=ca(K,l,g,B,k.errorband);d=void 0!==d.encoding.x&&void 0!==d.encoding.y;let Na={type:d?"area":"rect"},wb={type:d?"line":"rule"};const Fb=Object.assign({},K.interpolate?{interpolate:K.interpolate}:{},K.tension&&K.interpolate?{tension:K.tension}:{});d?(Na=Object.assign({},Na,Fb,{ariaRoleDescription:"errorband"}),wb=Object.assign({},wb,Fb,{aria:!1})):K.interpolate?Gb(Db("interpolate")):K.tension&&Gb(Db("tension"));return Object.assign({},
R,{transform:b,layer:[...k({partName:"band",mark:Na,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:va}),...k({partName:"borders",mark:wb,positionPrefix:"lower",extraEncoding:va}),...k({partName:"borders",mark:wb,positionPrefix:"upper",extraEncoding:va})]})}function Sd(d,k,b){k=new pl(d,k);Wl[d]={normalizer:k,parts:b}}function je(d){const k=[];for(const l of d||[]){var b=l,g=Object.assign({},b);d=b.expr;b=b.bind;g=(delete g.expr,delete g.bind,g);b&&d?(d=Object.assign({},g,{bind:b,init:d}),
k.push(d)):(d=Object.assign({},g,d?{update:d}:{},b?{bind:b}:{}),k.push(d))}return k}function We(d){return!!d&&("legend"===d||!!d.legend)}function pa(d){return We(d)&&ub(d)}function Pa(d,k){const b={};for(const g of Am)d&&void 0!==d[g]&&(b[g]=Bd(d[g]));k&&(b.params=d.params);return b}function qb(d){return ub(d)&&void 0!==d.step}function Cb(d){return d.view||d.width||d.height}function Ub(d,k,b){const g={},{spacing:l,columns:B}=b[k];void 0!==l&&(g.spacing=l);void 0!==B&&("facet"in d&&!wa(d.facet)||"concat"in
d)&&(g.columns=B);"vconcat"in d&&(g.columns=1);for(const va of Bm)if(void 0!==d[va])if("spacing"===va){var K,R;k=d[va];g[va]=Xa(k)?k:{row:null!==(K=k.row)&&void 0!==K?K:l,column:null!==(R=k.column)&&void 0!==R?R:l}}else g[va]=d[va];return g}function c(d,k){var b;return null!==(b=d[k])&&void 0!==b?b:d["width"===k?"continuousWidth":"continuousHeight"]}function m(d,k){d=G(d,k);return qb(d)?d.step:20}function G(d,k){var b;k=null!==(b=d[k])&&void 0!==b?b:d["width"===k?"discreteWidth":"discreteHeight"];
return la(k,{step:d.step})}function ia(d){var k=td(d||{});const b={};for(const g of k)k=d[g],b[g]=D(k)?Td(k):Bd(k);return b}function Ga(d){d=void 0===d?{}:d;var k=Object.assign({},d),b=d.color,g=d.font;d=d.fontSize;k=(delete k.color,delete k.font,delete k.fontSize,k);g=g?{text:{font:g},style:{"guide-label":{font:g},"guide-title":{font:g},"group-title":{font:g},"group-subtitle":{font:g}}}:{};b?(b=void 0===b?{}:b,b={signals:[{name:"color",value:ub(b)?Object.assign({},Xl,b):Xl}],mark:{color:{signal:"color.blue"}},
rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},
{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}):b={};d=d?{signals:[{name:"fontSize",value:ub(d)?Object.assign({},Yl,d):Yl}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};
d=Ob({},Cm,g,b,d,k||{});k=hb(d,Dm);for(var l of["background","lineBreak","padding"])d[l]&&(k[l]=Bd(d[l]));for(var B of Zl)d[B]&&(k[B]=cf(d[B]));for(var K of jl)d[K]&&(k[K]=ia(d[K]));for(const va of $l)d[va]&&(k[va]=cf(d[va]));d.legend&&(k.legend=cf(d.legend));d.scale&&(k.scale=cf(d.scale));if(d.style){l=d.style;B=td(l);K={};for(R of B)K[R]=ia(l[R]);var R=K;k.style=R}d.title&&(k.title=cf(d.title));d.view&&(k.view=cf(d.view));return k}function Pb(d){d=Ve(d);for(var k of Em)delete d[k];if(d.axis)for(var b in d.axis)D(d.axis[b])&&
delete d.axis[b];if(d.legend)for(var g of Fm)delete d.legend[g];if(d.mark){for(var l of am)delete d.mark[l];d.mark.tooltip&&ub(d.mark.tooltip)&&delete d.mark.tooltip}d.params&&(d.signals=(d.signals||[]).concat(je(d.params)),delete d.params);for(var B of Gm){for(const va of am)delete d[B][va];if(k=Hm[B])for(const va of k)delete d[B][va];b=k=void 0;g=d;l=B;var K=void 0,R=g[l];"view"===l&&(K="cell");R=Object.assign({},R,g.style[null!==(b=K)&&void 0!==b?b:l]);S(R)||(g.style[null!==(k=K)&&void 0!==k?k:
l]=R);delete g[l]}for(const va of td(Wl))delete d[va];{B=d;const {titleMarkConfig:va,subtitleMarkConfig:Na,subtitle:wb}=ud(B.title);S(va)||(B.style["group-title"]=Object.assign({},B.style["group-title"],va));S(Na)||(B.style["group-subtitle"]=Object.assign({},B.style["group-subtitle"],Na));S(wb)?delete B.title:B.title=wb}for(const va in d)ub(d[va])&&S(d[va])&&delete d[va];return S(d)?void 0:d}function Tb(d,k){const b="x"===k?"y":"radius";var g=d[k];d=d[b];if(uc(g)&&uc(d))if("quantitative"===Fc(g)&&
"quantitative"===Fc(d)){if(g.stack)return k;if(d.stack)return b;const K=uc(g)&&!!g.aggregate,R=uc(d)&&!!d.aggregate;if(K!==R)return K?k:b;var l,B;g=null===(l=g.scale)||void 0===l?void 0:l.type;l=null===(B=d.scale)||void 0===B?void 0:B.type;if(g&&"linear"!==g)return b;if(l&&"linear"!==l)return k}else{if("quantitative"===Fc(g))return k;if("quantitative"===Fc(d))return b}else{if("quantitative"===Fc(g))return k;if("quantitative"===Fc(d))return b}}function dc(d){switch(d){case "x":return"y";case "y":return"x";
case "theta":return"radius";case "radius":return"theta"}}function vc(d,k,b){b=void 0===b?{}:b;d=Ad(d)?d.type:d;if(!Im.has(d))return null;const g=Tb(k,"x")||Tb(k,"theta");if(!g)return null;const l=k[g];var B=uc(l)?pd(l,{}):void 0;let K=dc(g),R=k[K],va=uc(R)?pd(R,{}):void 0;va===B&&(K=R=va=void 0);B=gk.reduce((wb,Fb)=>{if("tooltip"!==Fb&&ja(k,Fb)){var ec=k[Fb];for(const Oc of ob(ec)){ec=df(Oc);if(ec.aggregate)continue;const Wc=pd(ec,{});Wc&&Wc===va||wb.push({channel:Fb,fieldDef:ec})}}return wb},[]);
let Na;void 0!==l.stack?Na=rb(l.stack)?l.stack?"zero":null:l.stack:0<B.length&&Jm.has(d)&&(Na="zero");if(!(Na&&Na in Km)||ya(k)&&0===B.length)return null;if(l.scale&&l.scale.type&&l.scale.type!==h.LINEAR){if(b.disallowNonLinearStack)return null;Gb("Cannot stack non-linear scale (".concat(l.scale.type,")."))}if(xd(k[ta(g)]))return void 0!==l.stack&&Gb(za(g)),null;uc(l)&&l.aggregate&&!La(Ig,l.aggregate)&&Gb('Stacking is applied even though the aggregate function is non-summative ("'.concat(l.aggregate,
'").'));return{groupbyChannel:R?K:void 0,groupbyField:va,fieldChannel:g,impute:null===l.impute?!1:re(d),stackBy:B,offset:Na}}function hd(d){d=Object.assign({},d);d=(delete d.point,delete d.line,d);return 1<td(d).length?d:d.type}function nd(d){for(const k of["line","area","rule","trail"])d[k]&&(d=Object.assign({},d,{[k]:hb(d[k],["point","line"])}));return d}function ie(d,k,b){k=void 0===k?{}:k;if("transparent"===d.point)return{opacity:0};if(d.point)return ub(d.point)?d.point:{};if(void 0!==d.point)return null;
if(k.point||b.shape)return ub(k.point)?k.point:{}}function $d(d,k){k=void 0===k?{}:k;if(d.line)return!0===d.line?{}:d.line;if(void 0!==d.line)return null;if(k.line)return!0===k.line?{}:k.line}function Vd(d,k){return k?qf(d,k):d}function Hd(d,k,b){const g=k[d];if(g&&!Ha(g)&&"repeat"in g){if(g.repeat in b)return Object.assign({},k,{[d]:b[g.repeat]});Gb('Unknown repeated value "'.concat(g.repeat,'".'))}else return k}function md(d,k){d=Hd("field",d,k);if(void 0!==d){if(null===d)return null;"sort"in d&&
N(d.sort)&&(k=Hd("field",d.sort,k),d=Object.assign({},d,k?{sort:k}:{}));return d}}function ce(d,k){if(uc(d))return md(d,k);k=Hd("datum",d,k);k===d||k.type||(k.type="nominal");return k}function bf(d,k){if(xd(d)){if(k=ce(d,k))return k;if(d&&"condition"in d)return{condition:d.condition}}else{if(Gc(d)){if(k=ce(d.condition,k))return Object.assign({},d,{condition:k});d=Object.assign({},d);return delete d.condition,d}return d}}function qf(d,k){const b={};for(const l in d)if(Jj.call(d,l)){var g=d[l];te(g)?
b[l]=g.map(B=>bf(B,k)).filter(B=>B):(g=bf(g,k),void 0!==g&&(b[l]=g))}return b}function ke(d){var {parentEncoding:k,encoding:b={},layer:g}=d;d={};if(k){var l=new Set([...td(k),...td(b)]);for(const B of l){l=b[B];const K=k[B];if(xd(l))l=Object.assign({},K,l),d[B]=l;else if(Gc(l))d[B]=Object.assign({},l,{condition:Object.assign({},K,l.condition)});else if(l||null===l)d[B]=l;else if(g||le(K)||Cc(K)||xd(K)||te(K))d[B]=K}}else d=b;return!d||S(d)?void 0:d}function Xe(d){const {parentProjection:k,projection:b}=
d;if(k&&b){{const {parentProjection:g,projection:l}={parentProjection:k,projection:b};d="Layer's shared projection ".concat(If(g)," is overridden by a child projection ").concat(If(l),".")}Gb(d)}return null!==b&&void 0!==b?b:k}function hf(d,k){void 0===k&&(k=Ga(d.config));var b=k;b=void 0===b?{}:b;b=Lm.map(d,{config:b});const {width:g,height:l}=d;{let {width:B,height:K}={width:g,height:l,autosize:d.autosize};d=aa(b)||"layer"in b;const R={};d?"container"==B&&"container"==K?(R.type="fit",R.contains=
"padding"):"container"==B?(R.type="fit-x",R.contains="padding"):"container"==K&&(R.type="fit-y",R.contains="padding"):("container"==B&&(Gb(rc("width")),B=void 0),"container"==K&&(Gb(rc("height")),K=void 0));k=Object.assign({},{type:"pad"},R,k?kg(k.autosize):{},kg(b.autosize));"fit"!==k.type||d||(Gb('Autosize "fit" only works for single views and layered views.'),k.type="pad");"container"==B&&"fit"!=k.type&&"fit-x"!=k.type&&Gb(Xc("width"));"container"==K&&"fit"!=k.type&&"fit-y"!=k.type&&Gb(Xc("height"));
d=Kj(k,{type:"pad"})?void 0:k}return Object.assign({},b,d?{autosize:d}:{})}function kg(d){return Ha(d)?{type:d}:null!==d&&void 0!==d?d:{}}function Yf(d){return{explicit:!0,value:d}}function Lf(d){return{explicit:!1,value:d}}function Gh(d){return(k,b,g,l)=>{const B=d(k.value,b.value);return 0<B?k:0>B?b:Rd(k,b,g,l)}}function Rd(d,k,b,g){if(d.explicit&&k.explicit){var l=d.value;k=k.value;b="Conflicting ".concat(g.toString(),' property "').concat(b.toString(),'" (').concat(If(l)," and ").concat(If(k),
"). Using ").concat(If(l),".");Gb(b)}return d}function Ef(d,k,b,g,l){l=void 0===l?Rd:l;return void 0===d||void 0===d.value?k:d.explicit&&!k.explicit?d:k.explicit&&!d.explicit?k:Kj(d.value,k.value)?d:l(d,k,b,g)}function Hh(d){return"name"in d&&!("url"in d)&&!("values"in d)&&!Zg(d)}function Zg(d){return d&&("sequence"in d||"sphere"in d||"graticule"in d)}function rh(d){return d.map(k=>"filter"in k?{filter:Da(k.filter,Fd)}:k)}function Hi(d,k,b){bm=k||"view";cm=b||Mm;return Xh(d.trim()).map(bj)}function Ii(d,
k,b,g,l){const B=d.length;let K=0,R;for(;k<B;++k)if(R=d[k],K||R!==b)l&&0<=l.indexOf(R)?--K:g&&0<=g.indexOf(R)&&++K;else break;return k}function Xh(d){const k=[],b=d.length;let g=0,l=0;for(;l<b;)l=Ii(d,l,",","[{","]}"),k.push(d.substring(g,l).trim()),g=++l;if(0===k.length)throw"Empty event selector: "+d;return k}function bj(d){if("["===d[0]){var k=d;var b=k.length;d=Ii(k,1,"]","[","]");if(d===b)throw"Empty between selector: "+k;b=Xh(k.substring(1,d));if(2!==b.length)throw"Between selector must have two elements: "+
k;k=k.slice(d+1).trim();if("\x3e"!==k[0])throw"Expected '\x3e' after between selector: "+k;b=b.map(bj);k=bj(k.slice(1).trim());k.between?k={between:b,stream:k}:k.between=b}else{{b={source:bm};const g=[];let l=[0,0],B=0,K=0,R=d.length,va=0,Na;if("}"===d[R-1]){va=d.lastIndexOf("{");if(0<=va){try{l=Yi(d.substring(va+1,R-1))}catch(wb){throw"Invalid throttle specification: "+d;}d=d.slice(0,va).trim();R=d.length}else throw"Unmatched right brace: "+d;va=0}if(!R)throw d;"@"===d[0]&&(B=++va);Na=Ii(d,va,":");
Na<R&&(g.push(d.substring(K,Na).trim()),K=va=++Na);va=Ii(d,va,"[");if(va===R)g.push(d.substring(K,R).trim());else if(g.push(d.substring(K,va).trim()),k=[],K=++va,K===R)throw"Unmatched left bracket: "+d;for(;va<R;){va=Ii(d,va,"]");if(va===R)throw"Unmatched left bracket: "+d;k.push(d.substring(K,va).trim());if(va<R-1&&"["!==d[++va])throw"Expected left bracket: "+d;K=++va}if(!(R=g.length)||Nm.test(g[R-1]))throw"Invalid event selector: "+d;1<R?(b.type=g[1],B?b.markname=g[0].slice(1):cm[g[0]]?b.marktype=
g[0]:b.source=g[0]):b.type=g[0];"!"===b.type.slice(-1)&&(b.consume=!0,b.type=b.type.slice(0,-1));null!=k&&(b.filter=k);l[0]&&(b.throttle=l[0]);l[1]&&(b.debounce=l[1]);k=b}}return k}function Yi(d){const k=d.split(",");if(!d.length||2<k.length)throw d;return k.map(b=>{b=+b;if(b!==b)throw d;return b})}function mi(d,k,b,g){var l=!!k&&"condition"in k&&k.condition;k=g(k);return l?(l=ob(l).map(B=>{const K=g(B);B=B.selection?Ph(d,B.selection):Ah(d,B.test);return Object.assign({},{test:B},K)}),{[b]:[...l,
...void 0!==k?[k]:[]]}):void 0!==k?{[b]:k}:{}}function tj(d,k){k=void 0===k?"text":k;return mi(d,d.encoding[k],k,b=>Mg(b,d.config))}function Mg(d,k,b){b=void 0===b?"datum":b;if(d){if(le(d))return Pd(d.value);if(xd(d)){const {format:g,formatType:l}=vf(d);return Xd({fieldOrDatumDef:d,format:g,formatType:l,expr:b,config:k})}}}function Lj(d,k){k=void 0===k?{}:k;const {encoding:b,markDef:g,config:l,stack:B}=d,K=b.tooltip;if(te(K))return{tooltip:Wh({tooltip:K},B,l,k)};{const R=k.reactiveGeom?"datum.datum":
"datum";return mi(d,K,"tooltip",va=>{const Na=Mg(va,l,R);if(Na)return Na;if(null!==va){va=be("tooltip",g,l);!0===va&&(va={content:"encoding"});if(Ha(va))return{value:va};if(ub(va))return Cc(va)?va:"encoding"===va.content?Wh(b,B,l,k):{signal:R}}})}}function jk(d,k,b,g){function l(va,Na){var wb,Fb=Ja(Na);va=zd(va)?va:Object.assign({},va,{type:d[Fb].type});Fb=va.title||Wk(va,b);Fb=ob(Fb).join(", ");if(Na in xg){const Wc="x"===Na?"x2":"y2";var ec=df(d[Wc]);if(Sc(va.bin)&&ec){var Oc=pd(va,{expr:K});ec=
pd(ec,{expr:K});const {format:cd,formatType:wd}=vf(va);Oc=Pe(Oc,ec,cd,wd,b);B[Wc]=!0}else if(k&&k.fieldChannel===Na&&"normalize"===k.offset){const {format:cd,formatType:wd}=vf(va);Oc=Xd({fieldOrDatumDef:va,format:cd,formatType:wd,expr:K,config:b,normalizeStack:!0}).signal}}Oc=null!==(wb=Oc)&&void 0!==wb?wb:Mg(va,b,K).signal;R.push({channel:Na,key:Fb,value:Oc})}({reactiveGeom:g}=void 0===g?{}:g);const B={},K=g?"datum.datum":"datum",R=[];Eb(d,(va,Na)=>{uc(va)?l(va,Na):mc(va)&&l(va.condition,Na)});g=
{};for(const va of R){const {channel:Na,key:wb,value:Fb}=va;B[Na]||g[wb]||(g[wb]=Fb)}return g}function Wh(d,k,b,g){({reactiveGeom:g}=void 0===g?{}:g);d=jk(d,k,b,{reactiveGeom:g});d=dh(d).map(l=>{var [B,K]=l;return'"'.concat(B,'": ').concat(K)});return 0<d.length?{signal:"{".concat(d.join(", "),"}")}:void 0}function Ei(d){const {markDef:k,config:b}=d,g=be("aria",k,b);return!1===g?{}:Object.assign({},g?{aria:g}:{},eh(d),Ij(d))}function eh(d){const {mark:k,markDef:b,config:g}=d;if(!1===g.aria)return{};
d=be("ariaRoleDescription",b,g);return null!=d?{ariaRoleDescription:{value:d}}:k in Dl?{}:{ariaRoleDescription:{value:k}}}function Ij(d){const {encoding:k,markDef:b,config:g,stack:l}=d;var B=k.description;if(B)return mi(d,B,"description",K=>Mg(K,d.config));B=be("description",b,g);if(null!=B)return{description:Pd(B)};if(!1===g.aria)return{};B=jk(k,l,g);if(!S(B))return{description:{signal:dh(B).map((K,R)=>{var [va,Na]=K;return'"'.concat(0<R?"; ":"").concat(va,': " + (').concat(Na,")")}).join(" + ")}}}
function qg(d,k,b){b=void 0===b?{}:b;const {markDef:g,encoding:l,config:B}=k,{vgChannel:K}=b;let {defaultRef:R,defaultValue:va}=b;if(void 0===R){var Na;va=null!==(Na=va)&&void 0!==Na?Na:be(d,g,B,{vgChannel:K,ignoreVgConfig:!0});void 0!==va&&(R=Pd(va))}return mi(k,l[d],null!==K&&void 0!==K?K:d,wb=>Se({channel:d,channelDef:wb,markDef:g,config:B,scaleName:k.scaleName(d),scale:k.getScaleComponent(d),stack:null,defaultRef:R}))}function Fk(d,k){k=void 0===k?{filled:void 0}:k;var b,g,l,B;const {markDef:K,
encoding:R,config:va}=d,{type:Na}=K;k=null!==(b=k.filled)&&void 0!==b?b:be("filled",K,va);b=La(["bar","point","circle","square","geoshape"],Na)?"transparent":void 0;b=null!==(g=null!==(l=be(!0===k?"color":void 0,K,va,{vgChannel:"fill"}))&&void 0!==l?l:va.mark[!0===k&&"color"])&&void 0!==g?g:b;g=null!==(B=be(!1===k?"color":void 0,K,va,{vgChannel:"stroke"}))&&void 0!==B?B:va.mark[!1===k&&"color"];B=k?"fill":"stroke";l=Object.assign({},b?{fill:Pd(b)}:{},g?{stroke:Pd(g)}:{});K.color&&(k?K.fill:K.stroke)&&
Gb(vb("property",{fill:"fill"in K,stroke:"stroke"in K}));return Object.assign({},l,qg("color",d,{vgChannel:B,defaultValue:k?b:g}),qg("fill",d,{defaultValue:R.fill?b:void 0}),qg("stroke",d,{defaultValue:R.stroke?g:void 0}))}function ek(d){const {encoding:k,mark:b}=d,g=k.order;return!re(b)&&le(g)?mi(d,g,"zindex",l=>Pd(l.value)):{}}function ph(d,k){d=xb(d);if(k=k[d])return k}function wg(d,k,b){var {defaultPos:g,vgChannel:l,isMidPoint:B}=b;const {encoding:K,markDef:R,config:va,stack:Na}=k;b=K[d];const wb=
K[ta(d)],Fb=k.scaleName(d),ec=k.getScaleComponent(d),Oc=ph(d,R),Wc=aj({model:k,defaultPos:g,channel:d,scaleName:Fb,scale:ec});if(!b&&d in xg&&(K.latitude||K.longitude))k={field:k.getName(d)};else a:{k={channel:d,channelDef:b,channel2Def:wb,markDef:R,config:va,isMidPoint:B,scaleName:Fb,scale:ec,stack:Na,offset:Oc,defaultRef:Wc};const {channel:cd,channelDef:wd,isMidPoint:Cd,scaleName:ne,stack:of,offset:fe,markDef:mf,config:Kd}=k;if(xd(wd)&&of&&cd===of.fieldChannel){if(uc(wd)&&(k=Wa({channel:cd,fieldDef:wd,
isMidPoint:Cd,markDef:mf,stack:of,config:Kd}),void 0!==k)){k=Jd({scaleName:ne,fieldOrDatumDef:wd,startSuffix:"start",band:k,offset:fe});break a}k=De(wd,ne,{suffix:"end"},{offset:fe})}else k=Ld(k)}return k?{[l||d]:k}:void 0}function aj(d){var {model:k,defaultPos:b,channel:g,scaleName:l,scale:B}=d;const {markDef:K,config:R}=k;return()=>{var va=Ja(g),Na=ba(g);Na=be(g,K,R,{vgChannel:Na});if(void 0!==Na)return Ee(g,Na);switch(b){case "zeroOrMin":case "zeroOrMax":if(l&&(Na=B.get("type"),!La([h.LOG,h.TIME,
h.UTC],Na)&&B.domainDefinitelyIncludesZero()))return{scale:l,value:0};if("zeroOrMin"===b)return"y"===va?{field:{group:"height"}}:{value:0};switch(va){case "radius":return{signal:"min(".concat(k.width.signal,",").concat(k.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return va=k[eb(g)],Object.assign({},va,{mult:.5})}}}function uj(d,k,b,g){g=void 0===g?"middle":g;if("radius"===d||"theta"===d)return ba(d);var l=
"x"===d?"align":"baseline";k=be(l,k,b);Cc(k)?(Gb("The ".concat(l," for range marks cannot be an expression")),l=void 0):l=k;return"x"===d?Om[l||("top"===g?"left":"center")]:Pm[l||g]}function Ji(d,k,b){var {defaultPos:g,defaultPos2:l,range:B}=b;return B?kk(d,k,{defaultPos:g,defaultPos2:l}):wg(d,k,{defaultPos:g})}function kk(d,k,b){var {defaultPos:g,defaultPos2:l}=b;const {markDef:B,config:K}=k;var R=ta(d);b=eb(d);{const {encoding:fe,mark:mf,markDef:Kd,stack:hg,config:rf}=k;var va=Ja(R);const Ie=eb(R),
dg=ba(R);var Na=fe[va];const zg=k.scaleName(va),Qf=k.getScaleComponent(va);va=R in fe||R in Kd?ph(R,k.markDef):ph(va,k.markDef);if(Na||"x2"!==R&&"y2"!==R||!fe.latitude&&!fe.longitude){var {channel:wb,channelDef:Fb,channel2Def:ec,markDef:Oc,config:Wc,scaleName:cd,scale:wd,stack:Cd,offset:ne,defaultRef:of}={channel:R,channelDef:Na,channel2Def:fe[R],markDef:Kd,config:rf,scaleName:zg,scale:Qf,stack:hg,offset:va,defaultRef:void 0};Na=xd(Fb)&&Cd&&wb.charAt(0)===Cd.fieldChannel.charAt(0)?De(Fb,cd,{suffix:"start"},
{offset:ne}):Ld({channel:wb,channelDef:ec,scaleName:cd,scale:wd,stack:Cd,markDef:Oc,config:Wc,offset:ne,defaultRef:of});R=void 0!==Na?{[dg]:Na}:cj(R,Kd)||cj(R,{[R]:Ce(R,Kd,rf.style),[Ie]:Ce(Ie,Kd,rf.style)})||cj(R,rf[mf])||cj(R,rf.mark)||{[dg]:aj({model:k,defaultPos:l,channel:R,scaleName:zg,scale:Qf})()}}else R={[dg]:{field:k.getName(R)}}}b=R[b]?uj(d,B,K):ba(d);return Object.assign({},wg(d,k,{defaultPos:g,vgChannel:b}),R)}function cj(d,k){const b=eb(d),g=ba(d);if(void 0!==k[g])return{[g]:Ee(d,k[g])};
if(void 0!==k[d])return{[g]:Ee(d,k[d])};if(k[b])return{[b]:Ee(d,k[b])}}function Ih(d,k,b){var g,l;const {config:B,encoding:K,markDef:R,stack:va}=d;var Na=ta(k),wb=eb(k),Fb=K[k];Na=K[Na];var ec=d.getScaleComponent(k),Oc=ec?ec.get("type"):void 0,Wc=d.scaleName(k);const cd=R.orient;wb=null!==(g=null!==(l=K[wb])&&void 0!==l?l:K.size)&&void 0!==g?g:be("size",R,B,{vgChannel:wb});g="bar"===b&&("x"===k?"vertical"===cd:"horizontal"===cd);if(uc(Fb)&&(Dc(Fb.bin)||Sc(Fb.bin)||Fb.timeUnit&&!Na)&&!wb&&!(Oc in Qd)){var wd,
Cd;b=Wa({channel:k,fieldDef:Fb,stack:va,markDef:R,config:B});d=null===(wd=d.component.axes[k])||void 0===wd?void 0:wd[0];d=null!==(Cd=null===d||void 0===d?void 0:d.get("translate"))&&void 0!==Cd?Cd:.5;a:{k={fieldDef:Fb,fieldDef2:Na,channel:k,markDef:R,scaleName:Wc,band:b,axisTranslate:d,spacing:k in xg?be("binSpacing",R,B):void 0,reverse:ec.get("reverse"),config:B};var {fieldDef:ne,fieldDef2:of,channel:fe,band:mf,scaleName:Kd,markDef:hg,spacing:rf=0,axisTranslate:Ie,reverse:dg,config:zg}=k;k=ta(fe);
Fb=ba(fe);d=ba(k);b=ph(fe,hg);if(Dc(ne.bin)||ne.timeUnit)k={[d]:Gk({channel:fe,fieldDef:ne,scaleName:Kd,markDef:hg,band:(1-mf)/2,offset:Jh(k,rf,dg,Ie,b),config:zg}),[Fb]:Gk({channel:fe,fieldDef:ne,scaleName:Kd,markDef:hg,band:1-(1-mf)/2,offset:Jh(fe,rf,dg,Ie,b),config:zg})};else{if(Sc(ne.bin)){var Qf=De(ne,Kd,{},{offset:Jh(k,rf,dg,Ie,b)});if(uc(of)){k={[d]:Qf,[Fb]:De(of,Kd,{},{offset:Jh(fe,rf,dg,Ie,b)})};break a}if(ub(ne.bin)&&ne.bin.step){k={[d]:Qf,[Fb]:{signal:'scale("'.concat(Kd,'", ').concat(pd(ne,
{expr:"datum"})," + ").concat(ne.bin.step,")"),offset:Jh(fe,rf,dg,Ie,b)}};break a}}Gb(Zb(k));k=void 0}}return k}if((xd(Fb)&&Oc in Qd||g)&&!Na){{var Fg;const {markDef:ng,encoding:El,config:Oj,stack:Xk}=d;wd=ng.orient;ec=d.scaleName(k);Wc=d.getScaleComponent(k);Cd=eb(k);Na=ta(k);wd="horizontal"===wd&&"y"===k||"vertical"===wd&&"x"===k;g=be(wd?"size":Cd,ng,Oj,{vgChannel:Cd});if(El.size||void 0!==g)wd?Qf=qg("size",d,{vgChannel:Cd,defaultValue:g}):Gb('Cannot apply size to non-oriented mark "'.concat(ng.type,
'".'));wd=null!==(Fg=xd(Fb)?Wa({channel:k,fieldDef:Fb,markDef:ng,stack:Xk,config:Oj}):void 0)&&void 0!==Fg?Fg:1;Qf||(Oc=Cd,Fg=ec,g=Wc,Qf=Oj,l=wd,g?(Oc=g.get("type"),"point"===Oc||"band"===Oc?void 0!==Qf[b].discreteBandSize?b={value:Qf[b].discreteBandSize}:Oc===h.POINT?(b=g.get("range"),b=xc(b)&&Xa(b.step)?{value:b.step-2}:{value:18}):b={scale:Fg,band:l}:b={value:Qf[b].continuousBandSize}):(Fg=m(Qf.view,Oc),b=la(Qf[b].discreteBandSize,Fg-2),b=void 0!==b?{value:b}:void 0),Qf={[Cd]:b});g="band"!==(null===
Wc||void 0===Wc?void 0:Wc.get("type"))||!("band"in Qf[Cd]);b=uj(k,ng,Oj,g?"middle":"top");Fg=ph(k,ng);k=Ld({channel:k,channelDef:Fb,markDef:ng,config:Oj,scaleName:ec,scale:Wc,stack:Xk,offset:Fg,defaultRef:aj({model:d,defaultPos:"mid",channel:k,scaleName:ec,scale:Wc}),band:g?.5:(1-wd)/2});Cd?k=Object.assign({},{[b]:k},Qf):(Fb=ba(Na),d=Qf[Cd],d=Fg?Object.assign({},d,{offset:Fg}):d,k={[b]:k,[Fb]:te(k)?[k[0],Object.assign({},k[1],{offset:d})]:Object.assign({},k,{offset:d})})}return k}return kk(k,d,{defaultPos:"zeroOrMax",
defaultPos2:"zeroOrMin"})}function Jh(d,k,b,g,l){if(d in qh)return 0;d="x"===d||"y2"===d?-k/2:k/2;if(Cc(b)||Cc(l)||Cc(g))return b=he(b),l=he(l),g=(g=he(g))?"".concat(g," + "):"",b=b?"(".concat(b," ? -1 : 1) * "):"",d=l?"(".concat(l," + ").concat(d,")"):d,{signal:g+b+d};l=l||0;return g+(b?-l-d:+l+d)}function Gk(d){var {channel:k,fieldDef:b,scaleName:g,markDef:l,band:B,offset:K,config:R}=d;d=Jd({scaleName:g,fieldOrDatumDef:b,band:B,offset:K});return ae({fieldDef:b,channel:k,markDef:l,ref:d,config:R})}
function Pg(d,k){const {fill:b,stroke:g}="include"===k.color?Fk(d):{};return Object.assign({},lk(d.markDef,k),vj(d,"fill",b),vj(d,"stroke",g),qg("opacity",d),qg("fillOpacity",d),qg("strokeOpacity",d),qg("strokeWidth",d),qg("strokeDash",d),ek(d),Lj(d),tj(d,"href"),Ei(d))}function vj(d,k,b){const {config:g,mark:l,markDef:B}=d;return"hide"===be("invalid",B,g)&&b&&!re(l)&&(d=lj(d,{invalid:!0,channels:Zh}))?{[k]:[{test:d,value:null},...ob(b)]}:b?{[k]:b}:{}}function lk(d,k){return yl.reduce((b,g)=>{Qm.has(g)||
void 0===d[g]||"ignore"===k[g]||(b[g]=Pd(d[g]));return b},{})}function lj(d,k){var {invalid:b=!1,channels:g}=k;k=g.reduce((l,B)=>{var K=d.getScaleComponent(B);K&&(K=K.get("type"),(B=d.vgField(B,{expr:"datum"}))&&K in Zc&&(l[B]=!0));return l},{});k=td(k);if(0<k.length){const l=b?"||":"\x26\x26";return k.map(B=>Jf(B,b)).join(" ".concat(l," "))}}function Ag(d){const {config:k,markDef:b}=d;return be("invalid",b,k)&&(d=Bg(d,{channels:Tg}))?{defined:{signal:d}}:{}}function Bg(d,k){var {invalid:b=!1,channels:g}=
k;k=g.reduce((l,B)=>{var K=d.getScaleComponent(B);K&&(K=K.get("type"),(B=d.vgField(B,{expr:"datum"}))&&K in Zc&&(l[B]=!0));return l},{});k=td(k);if(0<k.length){const l=b?"||":"\x26\x26";return k.map(B=>Jf(B,b)).join(" ".concat(l," "))}}function Pf(d,k){if(void 0!==k)return{[d]:Pd(k)}}function Mi(d,k){d=Ia(d.scaleName(k));return"domain(".concat(d,")")}function vh(d){var k;return d.parent&&pj(d.parent)&&(null!==(k=!d.parent.parent)&&void 0!==k?k:vh(d.parent.parent))}function gj(d,k,b){var g;const l=
null===(g=d.fieldDef(k))||void 0===g?void 0:g.field;Nh(d,B=>{var K;const R=null!==(K=B.project.hasField[l])&&void 0!==K?K:B.project.hasChannel[k];if(R&&dm.has(B)){var va;K=null!==(va=b.get("selections"))&&void 0!==va?va:[];K.push(B.name);b.set("selections",K,!1);R.hasLegend=!0}})}function Sj(d,k,b,g,l){var B,K=k.name,R=K+"_translate_anchor";K+="_translate_delta";var va=b.channel;const Na=Pj.has(k);k=l.filter(Fb=>Fb.name===b.signals[Na?"data":"visual"])[0];g=d.getSizeSignalRef(g).signal;d=d.getScaleComponent(va);
l=d.get("type");const wb=Na&&"x"===va?"-":"";R="".concat(R,".extent_").concat(va);va="".concat(wb).concat(K,".").concat(va," / ")+(Na?"".concat(g):"span(".concat(R,")"));R="".concat(Na?"log"===l?"panLog":"pow"===l?"panPow":"panLinear":"panLinear","(").concat(R,", ").concat(va)+(Na&&"pow"===l?", ".concat(null!==(B=d.get("exponent"))&&void 0!==B?B:1):"")+")";k.on.push({events:{signal:K},update:Na?R:"clampRange(".concat(R,", 0, ").concat(g,")")})}function jj(d,k,b,g,l){var B,K=k.name;const R=b.channel,
va=Pj.has(k);k=l.filter(Fb=>Fb.name===b.signals[va?"data":"visual"])[0];g=d.getSizeSignalRef(g).signal;l=d.getScaleComponent(R);const Na=l.get("type"),wb=va?Mi(d,R):k.name;d=K+"_zoom_delta";K="".concat(K).concat("_zoom_anchor",".").concat(R);K="".concat(va?"log"===Na?"zoomLog":"pow"===Na?"zoomPow":"zoomLinear":"zoomLinear","(").concat(wb,", ").concat(K,", ").concat(d)+(va&&"pow"===Na?", ".concat(null!==(B=l.get("exponent"))&&void 0!==B?B:1):"")+")";k.on.push({events:{signal:d},update:va?K:"clampRange(".concat(K,
", 0, ").concat(g,")")})}function Ni(d,k){for(const b of Rm)b.has(d)&&k(b)}function ci(d,k,b){k=void 0===k?!0:k;b=void 0===b?yk:b;return te(d)?(d=d.map(g=>ci(g,k,b)),k?"[".concat(d.join(", "),"]"):d):sc(d)?k?b(Lb(d)):b(hc(d)):k?b(JSON.stringify(d)):d}function hj(d,k){Nh(d,(b,g)=>{const l=b.name;let B=g.modifyExpr(d,b);k.push(...g.signals(d,b));Ni(b,K=>{K.signals&&(k=K.signals(d,b,k));K.modifyExpr&&(B=K.modifyExpr(d,b,B))});k.push({name:l+"_modify",on:[{events:{signal:b.name+"_tuple"},update:"modify(".concat(Ia(b.name+
"_store"),", ").concat(B,")")}]})});return xh(k)}function di(d,k){d.component.selection&&td(d.component.selection).length&&(d=Ia(d.getName("cell")),k.unshift({name:"facet",value:{},on:[{events:Hi("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(d,").datum")}]}));return xh(k)}function ij(d,k){let b=!1;Nh(d,(g,l)=>{const B=g.name,K=Ia(B+"_store");if(0===k.filter(R=>R.name===B).length){const R="global"===g.resolve?"union":g.resolve,va="multi"===g.type?", true)":")";k.push({name:g.name,
update:"".concat("vlSelectionResolve","(").concat(K,", ").concat(Ia(R)).concat(va)})}b=!0;l.topLevelSignals&&(k=l.topLevelSignals(d,g,k));Ni(g,R=>{R.topLevelSignals&&(k=R.topLevelSignals(d,g,k))})});b&&0===k.filter(g=>"unit"===g.name).length&&k.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return xh(k)}function Bj(d,k){const b=[...k];Nh(d,g=>{const l={name:g.name+"_store"};if(g.init){const B=g.project.items.map(R=>{R=Object.assign({},R);return delete R.signals,
R}),K=g.init.map(R=>ci(R,!1));l.values="interval"===g.type?[{unit:jg(d,{escape:!1}),fields:B,values:K}]:K.map(R=>({unit:jg(d,{escape:!1}),fields:B,values:R}))}b.filter(B=>B.name===g.name+"_store").length||b.push(l)});return b}function qi(d,k){Nh(d,(b,g)=>{k=g.marks?g.marks(d,b,k):k;Ni(b,l=>{l.marks&&(k=l.marks(d,b,k))})});return k}function ei(d,k){for(const b of d.children)eg(b)&&(k=qi(b,k));return k}function xh(d){return d.map(k=>{k.on&&!k.on.length&&delete k.on;return k})}function Oi(d,k,b,g){const l=
b.channel,B=b.signals.visual;b=b.signals.data;const K=Pj.has(k),R=Ia(d.scaleName(l));var va=d.getScaleComponent(l);va=va?va.get("type"):void 0;const Na=ec=>"scale(".concat(R,", ").concat(ec,")"),wb=d.getSizeSignalRef("x"===l?"width":"height").signal,Fb="".concat(l,"(unit)");d=ri(k,(ec,Oc)=>[...ec,{events:Oc.between[0],update:"[".concat(Fb,", ").concat(Fb,"]")},{events:Oc,update:"[".concat(B,"[0], clamp(").concat(Fb,", 0, ").concat(wb,")]")}]);d.push({events:{signal:k.name+"_scale_trigger"},update:va in
Zc?"[".concat(Na("".concat(b,"[0]")),", ").concat(Na("".concat(b,"[1]")),"]"):"[0, 0]"});return K?[{name:b,on:[]}]:[Object.assign({},{name:B},g?{init:ci(g,!0,Na)}:{value:[]},{on:d}),Object.assign({},{name:b},g?{init:ci(g)}:{},{on:[{events:{signal:B},update:"".concat(B,"[0] \x3d\x3d\x3d ").concat(B,"[1] ? null : invert(").concat(R,", ").concat(B,")")}]})]}function ri(d,k){return d.events.reduce((b,g)=>g.between?k(b,g):(Gb("".concat(g," is not an ordered event stream for interval selections.")),b),
[])}function pg(d,k){const b=k.name;var g=b+"_tuple_fields";const l=k.project.items.map(B=>{const K=d.fieldDef(B.channel);return K&&K.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(d.vgField(B.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(d.vgField(B.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(Ia(B.field),"]")}).join(", ");g="unit: ".concat(jg(d),", fields: ").concat(g,", values");
k=k.events;return[{name:b+"_tuple",on:k?[{events:k,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? {".concat(g,": [").concat(l,"]} : null"),force:!0}]:[]}]}function Nh(d,k){if(d=d.component.selection)for(const b of Fi(d))if(!0===k(b,Sm[b.type]))break}function jg(d,k){({escape:k}=void 0===k?{escape:!0}:k);k=k?Ia(d.name):d.name;for(d=d.parent;d&&!Eh(d);)d=d.parent;if(d){const {facet:b}=d;for(const g of Yg)b[g]&&(k+=" + '__facet_".concat(g,"_' + (facet[").concat(Ia(d.vgField(g)),"])"))}return k}
function Pi(d){let k=!1;Nh(d,b=>{k=k||b.project.items.some(g=>"_vgsid_"===g.field)});return k}function $g(d){this.type=d}function kj(d){switch(d.type){case "ArrayExpression":return d.elements;case "BinaryExpression":case "LogicalExpression":return[d.left,d.right];case "CallExpression":return[d.callee].concat(d.arguments);case "ConditionalExpression":return[d.test,d.consequent,d.alternate];case "MemberExpression":return[d.object,d.property];case "ObjectExpression":return d.properties;case "Property":return[d.key,
d.value];case "UnaryExpression":return[d.argument];default:return[]}}function nf(d,k){if(!d)throw Error("ASSERT: "+k);}function sf(d){return 48<=d&&57>=d}function yf(d){return 0<="0123456789abcdefABCDEF".indexOf(d)}function Ki(d){return 0<="01234567".indexOf(d)}function yg(d){return 10===d||13===d||8232===d||8233===d}function Kg(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||92===d||128<=d&&Tm.test(String.fromCharCode(d))}function sg(d){return 36===d||95===d||65<=d&&90>=d||97<=d&&122>=d||
48<=d&&57>=d||92===d||128<=d&&Um.test(String.fromCharCode(d))}function qj(){for(;kd<jh;){const d=xe.charCodeAt(kd);if(32===d||9===d||11===d||12===d||160===d||5760<=d&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(d)||yg(d))++kd;else break}}function fi(d){var k=0;var b="u"===d?4:2;for(d=0;d<b;++d)if(kd<jh&&yf(xe[kd])){var g=xe[kd++];k=16*k+"0123456789abcdef".indexOf(g.toLowerCase())}else lf({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(k)}
function ah(){var d=xe.charCodeAt(kd++);var k=String.fromCharCode(d);92===d&&(117!==xe.charCodeAt(kd)&&lf({},"Unexpected token %0","ILLEGAL"),++kd,(d=fi("u"))&&"\\"!==d&&Kg(d.charCodeAt(0))||lf({},"Unexpected token %0","ILLEGAL"),k=d);for(;kd<jh;){d=xe.charCodeAt(kd);if(!sg(d))break;++kd;k+=String.fromCharCode(d);92===d&&(k=k.substr(0,k.length-1),117!==xe.charCodeAt(kd)&&lf({},"Unexpected token %0","ILLEGAL"),++kd,(d=fi("u"))&&"\\"!==d&&sg(d.charCodeAt(0))||lf({},"Unexpected token %0","ILLEGAL"),
k+=d)}return k}function si(){var d=kd,k=xe.charCodeAt(kd),b=xe[kd];switch(k){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++kd,{type:7,value:String.fromCharCode(k),start:d,end:kd};default:var g=xe.charCodeAt(kd+1);if(61===g)switch(k){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return kd+=2,{type:7,value:String.fromCharCode(k)+String.fromCharCode(g),start:d,end:kd};case 33:case 61:return kd+=2,61===xe.charCodeAt(kd)&&
++kd,{type:7,value:xe.slice(d,kd),start:d,end:kd}}}k=xe.substr(kd,4);if("\x3e\x3e\x3e\x3d"===k)return kd+=4,{type:7,value:k,start:d,end:kd};k=k.substr(0,3);if("\x3e\x3e\x3e"===k||"\x3c\x3c\x3d"===k||"\x3e\x3e\x3d"===k)return kd+=3,{type:7,value:k,start:d,end:kd};k=k.substr(0,2);if(b===k[1]&&0<="+-\x3c\x3e\x26|".indexOf(b)||"\x3d\x3e"===k)return kd+=2,{type:7,value:k,start:d,end:kd};if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(b))return++kd,{type:7,value:b,start:d,end:kd};lf({},"Unexpected token %0","ILLEGAL")}
function Oh(){var d=xe[kd];nf(sf(d.charCodeAt(0))||"."===d,"Numeric literal must start with a decimal digit or a decimal point");var k=kd;var b="";if("."!==d){b=xe[kd++];d=xe[kd];if("0"===b){if("x"===d||"X"===d){++kd;for(b="";kd<jh&&yf(xe[kd]);)b+=xe[kd++];0===b.length&&lf({},"Unexpected token %0","ILLEGAL");Kg(xe.charCodeAt(kd))&&lf({},"Unexpected token %0","ILLEGAL");return k={type:6,value:parseInt("0x"+b,16),start:k,end:kd}}if(Ki(d)){for(b="0"+xe[kd++];kd<jh&&Ki(xe[kd]);)b+=xe[kd++];(Kg(xe.charCodeAt(kd))||
sf(xe.charCodeAt(kd)))&&lf({},"Unexpected token %0","ILLEGAL");return k={type:6,value:parseInt(b,8),octal:!0,start:k,end:kd}}d&&sf(d.charCodeAt(0))&&lf({},"Unexpected token %0","ILLEGAL")}for(;sf(xe.charCodeAt(kd));)b+=xe[kd++];d=xe[kd]}if("."===d){for(b+=xe[kd++];sf(xe.charCodeAt(kd));)b+=xe[kd++];d=xe[kd]}if("e"===d||"E"===d){b+=xe[kd++];d=xe[kd];if("+"===d||"-"===d)b+=xe[kd++];if(sf(xe.charCodeAt(kd)))for(;sf(xe.charCodeAt(kd));)b+=xe[kd++];else lf({},"Unexpected token %0","ILLEGAL")}Kg(xe.charCodeAt(kd))&&
lf({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(b),start:k,end:kd}}function Wg(d,k){let b=d;0<=k.indexOf("u")&&(b=b.replace(/\\u\{([0-9a-fA-F]+)\}/g,(g,l)=>{if(1114111>=parseInt(l,16))return"x";lf({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(b)}catch(g){lf({},"Invalid regular expression")}try{return new RegExp(d,k)}catch(g){return null}}function Tj(){qj();if(kd>=jh)return{type:2,start:kd,end:kd};var d=xe.charCodeAt(kd);if(Kg(d)){d=
kd;if(92===xe.charCodeAt(kd))var k=ah();else a:{for(k=kd++;kd<jh;){var b=xe.charCodeAt(kd);if(92===b){kd=k;k=ah();break a}if(sg(b))++kd;else break}k=xe.slice(k,kd)}return{type:1===k.length?3:Vm.hasOwnProperty(k)?4:"null"===k?5:"true"===k||"false"===k?1:3,value:k,start:d,end:kd}}if(40===d||41===d||59===d)return si();if(39===d||34===d){var g="";b=!1;d=xe[kd];nf("'"===d||'"'===d,"String literal must starts with a quote");k=kd;for(++kd;kd<jh;){var l=xe[kd++];if(l===d){d="";break}else if("\\"===l)if((l=
xe[kd++])&&yg(l.charCodeAt(0)))"\r"===l&&"\n"===xe[kd]&&++kd;else switch(l){case "u":case "x":if("{"===xe[kd]){++kd;var B=xe[kd];l=0;for("}"===B&&lf({},"Unexpected token %0","ILLEGAL");kd<jh;){B=xe[kd++];if(!yf(B))break;l=16*l+"0123456789abcdef".indexOf(B.toLowerCase())}(1114111<l||"}"!==B)&&lf({},"Unexpected token %0","ILLEGAL");l=65535>=l?String.fromCharCode(l):String.fromCharCode((l-65536>>10)+55296,(l-65536&1023)+56320);g+=l}else g+=fi(l);break;case "n":g+="\n";break;case "r":g+="\r";break;case "t":g+=
"\t";break;case "b":g+="\b";break;case "f":g+="\f";break;case "v":g+="\x0B";break;default:Ki(l)?(B="01234567".indexOf(l),0!==B&&(b=!0),kd<jh&&Ki(xe[kd])&&(b=!0,B=8*B+"01234567".indexOf(xe[kd++]),0<="0123".indexOf(l)&&kd<jh&&Ki(xe[kd])&&(B=8*B+"01234567".indexOf(xe[kd++]))),g+=String.fromCharCode(B)):g+=l}else if(yg(l.charCodeAt(0)))break;else g+=l}""!==d&&lf({},"Unexpected token %0","ILLEGAL");return{type:8,value:g,octal:b,start:k,end:kd}}return 46===d?sf(xe.charCodeAt(kd+1))?Oh():si():sf(d)?Oh():
si()}function Vg(){const d=Vf;kd=d.end;Vf=Tj();kd=d.end;return d}function wh(){const d=kd;Vf=Tj();kd=d}function Qi(d,k,b){const g=new $g("||"===d||"\x26\x26"===d?"LogicalExpression":"BinaryExpression");g.operator=d;g.left=k;g.right=b;return g}function ti(d){const k=new $g("Identifier");k.name=d;return k}function Xg(d){const k=new $g("Literal");k.value=d.value;k.raw=xe.slice(d.start,d.end);d.regex&&("//"===k.raw&&(k.raw="/(?:)/"),k.regex=d.regex);return k}function vi(d,k,b){const g=new $g("MemberExpression");
g.computed="["===d;g.object=k;g.property=b;g.computed||(b.member=!0);return g}function ui(d,k,b){const g=new $g("Property");g.key=k;g.value=b;g.kind=d;return g}function lf(d,k){var b=Array.prototype.slice.call(arguments,2),g=k.replace(/%(\d)/g,(B,K)=>{nf(K<b.length,"Message reference must be in range");return b[K]});var l=Error(g);l.index=kd;l.description=g;throw l;}function Kh(d){2===d.type&&lf(d,"Unexpected end of input");6===d.type&&lf(d,"Unexpected number");8===d.type&&lf(d,"Unexpected string");
3===d.type&&lf(d,"Unexpected identifier");4===d.type&&lf(d,"Unexpected reserved word");lf(d,"Unexpected token %0",d.value)}function bg(d){const k=Vg();7===k.type&&k.value===d||Kh(k)}function Gf(d){return 7===Vf.type&&Vf.value===d}function gi(){kd=Vf.start;const d=Vg();return 8===d.type||6===d.type?(d.octal&&lf(d,"Octal literals are not allowed in strict mode."),Xg(d)):ti(d.value)}function mj(){if(Gf("(")){bg("(");var d=yh();bg(")");return d}if(Gf("[")){d=[];kd=Vf.start;for(bg("[");!Gf("]");)Gf(",")?
(Vg(),d.push(null)):(d.push(ni()),Gf("]")||bg(","));Vg();var k=new $g("ArrayExpression");k.elements=d;return d=k}if(Gf("{")){d=[];k={};var b=String;kd=Vf.start;for(bg("{");!Gf("}");){kd=Vf.start;var g=Vf;if(3===g.type){var l=gi();bg(":");g=ni();g=ui("init",l,g)}else 2===g.type||7===g.type?(Kh(g),g=void 0):(l=gi(),bg(":"),g=ni(),g=ui("init",l,g));l="Identifier"===g.key.type?g.key.name:b(g.key.value);l="$"+l;Object.prototype.hasOwnProperty.call(k,l)?lf({},"Duplicate data property in object literal not allowed in strict mode"):
k[l]=!0;d.push(g);Gf("}")||bg(",")}bg("}");k=new $g("ObjectExpression");k.properties=d;return d=k}d=Vf.type;kd=Vf.start;if(3===d||Wm[Vf.value])k=ti(Vg().value);else if(8===d||6===d)Vf.octal&&lf(Vf,"Octal literals are not allowed in strict mode."),k=Xg(Vg());else{if(4===d)throw Error("Disabled.");if(1===d)d=Vg(),d.value="true"===d.value,k=Xg(d);else if(5===d)d=Vg(),d.value=null,k=Xg(d);else if(Gf("/")||Gf("/\x3d")){var B;Vf=null;qj();d=kd;k=xe[kd];nf("/"===k,"Regular expression literal must start with a slash");
b=xe[kd++];for(l=g=!1;kd<jh;)if(k=xe[kd++],b+=k,"\\"===k)k=xe[kd++],yg(k.charCodeAt(0))&&lf({},"Invalid regular expression: missing /"),b+=k;else if(yg(k.charCodeAt(0)))lf({},"Invalid regular expression: missing /");else if(g)"]"===k&&(g=!1);else if("/"===k){l=!0;break}else"["===k&&(g=!0);l||lf({},"Invalid regular expression: missing /");k=b.substr(1,b.length-2);for(B=l="";kd<jh;){g=xe[kd];if(!sg(g.charCodeAt(0)))break;++kd;"\\"===g&&kd<jh?lf({},"Unexpected token %0","ILLEGAL"):(B+=g,l+=g)}0<=B.search(/[^gimuy]/g)&&
lf({},"Invalid regular expression",B);g=B;B=Wg(k,g);k=Xg({literal:b+l,value:B,regex:{pattern:k,flags:g},start:d,end:kd});wh()}else Kh(Vg())}return k}function mk(){var d;for(d=mj();;)if(Gf(".")){bg(".");kd=Vf.start;var k=Vg();3===k.type||4===k.type||1===k.type||5===k.type||Kh(k);k=ti(k.value);d=vi(".",d,k)}else if(Gf("(")){k=[];bg("(");if(!Gf(")"))for(;kd<jh;){k.push(ni());if(Gf(")"))break;bg(",")}bg(")");{const b=new $g("CallExpression");b.callee=d;b.arguments=k;d=b}}else if(Gf("["))bg("["),k=yh(),
bg("]"),d=vi("[",d,k);else break;if(7===Vf.type&&(Gf("++")||Gf("--")))throw Error("Disabled.");return d}function wj(){if(7!==Vf.type&&4!==Vf.type)var d=mk();else{if(Gf("++")||Gf("--"))throw Error("Disabled.");if(Gf("+")||Gf("-")||Gf("~")||Gf("!")){var k=Vg();d=wj();{k=k.value;const b=new $g("UnaryExpression");b.operator=k;b.argument=d;b.prefix=!0;d=b}}else{if(4===Vf.type&&"delete"===Vf.value||4===Vf.type&&"void"===Vf.value||4===Vf.type&&"typeof"===Vf.value)throw Error("Disabled.");d=mk()}}return d}
function Li(d){let k=0;if(7!==d.type&&4!==d.type)return 0;switch(d.value){case "||":k=1;break;case "\x26\x26":k=2;break;case "|":k=3;break;case "^":k=4;break;case "\x26":k=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":k=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":k=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":k=8;break;case "+":case "-":k=9;break;case "*":case "/":case "%":k=11}return k}function ni(){var d=
Vf;var k=wj();var b=Vf;var g=Li(b);if(0===g)var l=k;else{b.prec=g;Vg();d=[d,Vf];var B=wj();for(l=[k,b,B];0<(g=Li(Vf));){for(;2<l.length&&g<=l[l.length-2].prec;)B=l.pop(),b=l.pop().value,k=l.pop(),d.pop(),k=Qi(b,k,B),l.push(k);b=Vg();b.prec=g;l.push(b);d.push(Vf);k=wj();l.push(k)}g=l.length-1;k=l[g];for(d.pop();1<g;)d.pop(),k=Qi(l[g-1].value,l[g-2],k),g-=2;l=k}Gf("?")&&(Vg(),d=ni(),bg(":"),g=ni(),k=new $g("ConditionalExpression"),k.test=l,k.consequent=d,k.alternate=g,l=k);return l}function yh(){const d=
ni();if(Gf(","))throw Error("Disabled.");return d}function Ge(d){xe=d;kd=0;jh=xe.length;Vf=null;wh();d=yh();if(2!==Vf.type)throw Error("Unexpect token after expression.");return d}function wi(d){const k=[];if("Identifier"===d.type)return[d.name];if("Literal"===d.type)return[d.value];"MemberExpression"===d.type&&(k.push(...wi(d.object)),k.push(...wi(d.property)));return k}function xi(d){return"MemberExpression"===d.object.type?xi(d.object):"datum"===d.object.name}function Ri(d){d=Ge(d);const k=new Set;
d.visit(b=>{"MemberExpression"===b.type&&xi(b)&&k.add(wi(b).slice(1).join("."))});return k}function bh(d,k){const b={},g=d.config.selection;for(const K of td(null!==k&&void 0!==k?k:{})){const R=Ve(k[K]);var l=Object.assign({},g[R.type]);l=(delete l.fields,delete l.encodings,l);for(const Na in l)if(!("encodings"===Na&&R.fields||"fields"===Na&&R.encodings)&&("mark"===Na&&(R[Na]=Object.assign({},l[Na],R[Na])),void 0===R[Na]||!0===R[Na])){var B;R[Na]=null!==(B=l[Na])&&void 0!==B?B:R[Na]}l=I(K);const va=
b[l]=Object.assign({},R,{name:l,events:Ha(R.on)?Hi(R.on,"scope"):Ve(R.on)});Ni(va,Na=>{Na.has(va)&&Na.parse&&Na.parse(d,va,R,k[K])})}return b}function Ph(d,k,b,g){g=void 0===g?"datum":g;const l=[];k=Q(k,function(B){var K=I(B);B=d.getSelectionComponent(K,B);K=Ia(K+"_store");if(B.project.timeUnit){const R=null!==b&&void 0!==b?b:d.component.data.raw,va=B.project.timeUnit.clone();R.parent?va.insertAsParentOf(R):R.parent=va}"none"!==B.empty&&l.push(K);return"vlSelectionTest(".concat(K,", ").concat(g)+
("global"===B.resolve?")":", ".concat(Ia(B.resolve),")"))});return(l.length?"!("+l.map(B=>"length(data(".concat(B,"))")).join(" || ")+") || ":"")+"(".concat(k,")")}function Qh(d,k){const b=k.encoding;let g=k.field;if(!b&&!g)g=d.project.items[0].field,1<d.project.items.length&&Gb('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(Ia(g),"."));else if(b&&!g){const l=d.project.items.filter(B=>B.channel===b);!l.length||1<l.length?(g=d.project.items[0].field,
Gb((l.length?"Multiple ":"No ")+"matching ".concat(Ia(b)," encoding found for selection ").concat(Ia(k.selection),". ")+'Using "field": '.concat(Ia(g),"."))):g=l[0].field}return"".concat(d.name,"[").concat(Ia(g),"]")}function zh(d,k){Nh(d,b=>{const g=b.name,l=d.getName("lookup_".concat(g));d.component.data.outputNodes[l]=b.materialized=new th(new Yk(k,d,{selection:g}),l,og.Lookup,d.component.data.outputNodeRefCounts)})}function Ah(d,k,b){return Q(k,g=>Ha(g)?g:(null===g||void 0===g?0:g.selection)?
Ph(d,g.selection,b):Qe(g))}function Bh(d,k){if(d)return te(d)&&!Nd(d)?d.map(b=>Wk(b,k)).join(", "):d}function ch(d,k,b,g){var l,B,K;d.encode=null!==(l=d.encode)&&void 0!==l?l:{};d.encode[k]=null!==(B=d.encode[k])&&void 0!==B?B:{};d.encode[k].update=null!==(K=d.encode[k].update)&&void 0!==K?K:{};d.encode[k].update[b]=g}function Xf(d,k,b,g){g=void 0===g?{header:!1}:g;var l=d.combine(),B=Object.assign({},l),K=l.disable;const R=l.orient,va=l.scale,Na=l.labelExpr,wb=l.title;l=l.zindex;B=(delete B.disable,
delete B.orient,delete B.scale,delete B.labelExpr,delete B.title,delete B.zindex,B);if(!K){for(const Wc in B){var Fb=Al[Wc];K=B[Wc];if(Fb&&Fb!==k&&"both"!==Fb)delete B[Wc];else if(D(K)){Fb=K;K=Object.assign({},Fb);Fb=Fb.condition;K=(delete K.condition,K);Fb=ob(Fb);const cd=gl[Wc];if(cd){const {vgProp:wd,part:Cd}=cd;K=[...Fb.map(ne=>{var of=Object.assign({},ne);ne=ne.test;of=(delete of.test,of);return Object.assign({},{test:Ah(null,ne)},of)}),K];ch(B,Cd,wd,K);delete B[Wc]}else null===cd&&(K={signal:Fb.map(wd=>
{var Cd=Object.assign({},wd);wd=wd.test;Cd=(delete Cd.test,Cd);return"".concat(Ah(null,wd)," ? ").concat(Fe(Cd)," : ")}).join("")+Fe(K)},B[Wc]=K)}else if(Cc(K)&&(Fb=gl[Wc])){const {vgProp:cd,part:wd}=Fb;ch(B,wd,cd,K);delete B[Wc]}}if("grid"===k){if(B.grid)return B.encode&&({grid:b}=B.encode,B.encode=Object.assign({},b?{grid:b}:{}),S(B.encode)&&delete B.encode),Object.assign({},{scale:va,orient:R},B,{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:la(l,0)})}else if(g.header||!d.mainExtracted){if(void 0!==
Na){var ec,Oc;k=Na;(null===(ec=B.encode)||void 0===ec?0:null===(Oc=ec.labels)||void 0===Oc?0:Oc.update)&&Cc(B.encode.labels.update.text)&&(k=U(Na,"datum.label",B.encode.labels.update.text.signal));ch(B,"labels","text",{signal:k})}null===B.labelAlign&&delete B.labelAlign;if(B.encode){for(const Wc of Qk)d.hasAxisPart(Wc)||delete B.encode[Wc];S(B.encode)&&delete B.encode}d=Bh(wb,b);return Object.assign({},{scale:va,orient:R,grid:!1},d?{title:d}:{},B,!1===b.aria?{aria:!1}:{},{zindex:la(l,0)})}}}function nj(d){const {axes:k}=
d.component,b=[];for(const g of Tg)if(k[g])for(const l of k[g])if(!l.get("disable")&&!l.get("gridScale")){const B="x"===g?"height":"width",K=d.getSizeSignalRef(B).signal;B!==K&&b.push({name:B,update:K})}return b}function kh(d,k){const {x:b=[],y:g=[]}=d;return[...b.map(l=>Xf(l,"grid",k)),...g.map(l=>Xf(l,"grid",k)),...b.map(l=>Xf(l,"main",k)),...g.map(l=>Xf(l,"main",k))].filter(l=>l)}function Dj(d,k,b,g){return Object.assign.apply(null,[{},...d.map(l=>{if("axisOrient"===l){l="x"===b?"bottom":"left";
const B=k["x"===b?"axisBottom":"axisLeft"]||{},K=k["x"===b?"axisTop":"axisRight"]||{},R=new Set([...td(B),...td(K)]),va={};for(const Na of R.values())va[Na]={signal:"".concat(g.signal,' \x3d\x3d\x3d "').concat(l,'" ? ').concat(he(B[Na])," : ").concat(he(K[Na]))};return va}return k[l]})])}function Cj(d,k,b,g){var l="band"===k?["axisDiscrete","axisBand"]:"point"===k?["axisDiscrete","axisPoint"]:k in Jb?["axisQuantitative"]:"time"===k||"utc"===k?["axisTemporal"]:[];const B="x"===d?"axisX":"axisY";k=
Cc(b)?"axisOrient":"axis"+W(b);l=[...l,...l.map(K=>B+K.substr(4))];k=["axis",k,B];return{vlOnlyAxisConfig:Dj(l,g,d,b),vgAxisConfig:Dj(k,g,d,b),axisConfigStyle:ai([...k,...l],g)}}function ai(d,k){const b=[{}];for(const l of d){var g;if(d=null===(g=k[l])||void 0===g?void 0:g.style){d=ob(d);for(const B of d)b.push(k.style[B])}}return Object.assign.apply(null,b)}function bi(d,k,b,g){g=void 0===g?{}:g;k=Kf(d,b,k);if(void 0!==k)return{configFrom:"style",configValue:k};for(const B of["vlOnlyAxisConfig",
"vgAxisConfig","axisConfigStyle"]){var l;if(void 0!==(null===(l=g[B])||void 0===l?void 0:l[d]))return{configFrom:B,configValue:g[B][d]}}return{}}function nk(d,k,b,g,l){const B=null===k||void 0===k?void 0:k.labelAngle;if(void 0!==B)return Cc(B)?B:p(B);({configValue:k}=bi("labelAngle",g,null===k||void 0===k?void 0:k.style,l));if(void 0!==k)return p(k);if("x"===b&&La(["nominal","ordinal"],d.type)&&(!uc(d)||!d.timeUnit))return 270}function Uj(d){return"(((".concat(d.signal," % 360) + 360) % 360)")}function yi(d,
k,b,g){if(void 0!==d)return"x"===b?Cc(d)?(g=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "top")'):"top"===k,{signal:"(45 \x3c ".concat(g," \x26\x26 ").concat(g," \x3c 135) || (225 \x3c ").concat(g," \x26\x26 ").concat(g,' \x3c 315) ? "middle" :')+"(".concat(g," \x3c\x3d 45 || 315 \x3c\x3d ").concat(g,") \x3d\x3d\x3d ").concat(k,' ? "bottom" : "top"')}):45<d&&135>d||225<d&&315>d?"middle":Cc(k)?(g=45>=d||315<=d?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(k.signal," ").concat(g,' "top" ? "bottom" : "top"')}):
(45>=d||315<=d)===("top"===k)?"bottom":"top":Cc(d)?(d=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "left")'):"left"===k,g=g?'"middle"':"null",{signal:"".concat(d," \x3c\x3d 45 || 315 \x3c\x3d ").concat(d," || (135 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 225) ? ").concat(g," : (45 \x3c\x3d ").concat(d," \x26\x26 ").concat(d," \x3c\x3d 135) \x3d\x3d\x3d ").concat(k,' ? "top" : "bottom"')}):45>=d||315<=d||135<=d&&225>=d?g?"middle":null:Cc(k)?(g=45<=d&&135>=d?"\x3d\x3d\x3d":"!\x3d\x3d",
{signal:"".concat(k.signal," ").concat(g,' "left" ? "top" : "bottom"')}):(45<=d&&135>=d)===("left"===k)?"top":"bottom"}function Rh(d,k,b){if(void 0!==d){var g=(b="x"===b)?0:90,l=b?"bottom":"left";return Cc(d)?(d=Uj(d),k=Cc(k)?"(".concat(k.signal,' \x3d\x3d\x3d "').concat(l,'")'):k===l,{signal:"(".concat(g?"("+d+" + 90)":d," % 180 \x3d\x3d\x3d 0) ? ").concat(b?null:'"center"'," :")+"(".concat(g," \x3c ").concat(d," \x26\x26 ").concat(d," \x3c ").concat(180+g,") \x3d\x3d\x3d ").concat(k,' ? "left" : "right"')}):
0===(d+g)%180?b?null:"center":Cc(k)?(b=g<d&&d<180+g?"\x3d\x3d\x3d":"!\x3d\x3d",k="".concat(k.signal," ").concat(b,' "').concat(l,'"'),{signal:"".concat(k,' ? "left" : "right"')}):(g<d&&d<180+g)===(k===l)?"left":"right"}}function zi(d,k){var b="x"===k?"x2":"y2";k=d.fieldDef(k);d=d.fieldDef(b);b=k?k.title:void 0;d=d?d.title:void 0;if(b&&d)return O(b,d);if(b)return b;if(d)return d;if(void 0!==b)return b;if(void 0!==d)return d}function ih(d,k,b){return pd(d,Object.assign({},{prefix:k,suffix:"sort_index"},
null!==b&&void 0!==b?b:{}))}function Ch(d,k){return La(["top","bottom"],k)?"column":La(["left","right"],k)?"row":"row"===d?"row":"column"}function lh(d,k,b,g){return la((k||{})[d],("row"===g?b.headerRow:"column"===g?b.headerColumn:b.headerFacet)[d],b.header[d])}function Si(d,k,b,g){const l={};for(const B of d)d=lh(B,k||{},b,g),void 0!==d&&(l[B]=d);return l}function Vj(d,k){const b=d.component.layoutHeaders[k].title,g=d.config?d.config:void 0;d=d.component.layoutHeaders[k].facetFieldDef?d.component.layoutHeaders[k].facetFieldDef:
void 0;const {titleAnchor:l,titleAngle:B,titleOrient:K}=Si(["titleAnchor","titleAngle","titleOrient"],d.header,g,k),R=Ch(k,K),va=p(B);return{name:"".concat(k,"-title"),type:"group",role:"".concat(R,"-title"),title:Object.assign({},{text:b},"row"===k?{orient:"left"}:{},{style:"guide-title"},Gi(va,R),Ai(R,va,l),oi(g,d,k,Xm,em))}}function Ai(d,k,b){switch(void 0===b?"middle":b){case "start":return{align:"left"};case "end":return{align:"right"}}return(d=Rh(k,"row"===d?"left":"top","row"===d?"y":"x"))?
{align:d}:{}}function Gi(d,k){return(d=yi(d,"row"===k?"left":"top","row"===k?"y":"x",!0))?{baseline:d}:{}}function Og(d,k){const b=d.component.layoutHeaders[k],g=[];for(const Fb of Fl)if(b[Fb])for(const ec of b[Fb]){a:{var l=d;var B=k,K=Fb,R=b,va=ec;if(va){let Oc=null;const {facetFieldDef:Wc}=R;var Na=l.config?l.config:void 0;if(Wc&&va.labels){var {labelOrient:wb}=Si(["labelOrient"],Wc.header,Na,B);if("row"===B&&!La(["top","bottom"],wb)||"column"===B&&!La(["left","right"],wb))Oc=zf(Wc,B,Na)}Na=Eh(l)&&
!wa(l.facet);wb=va.axes;const cd=0<(null===wb||void 0===wb?void 0:wb.length);if(Oc||cd){const wd="row"===B?"height":"width";l=Object.assign({},{name:l.getName("".concat(B,"_").concat(K)),type:"group",role:"".concat(B,"-").concat(K)},R.facetFieldDef?{from:{data:l.getName(B+"_domain")},sort:Ng(Wc,B)}:{},cd&&Na?{from:{data:l.getName("facet_domain_".concat(B))}}:{},Oc?{title:Oc}:{},va.sizeSignal?{encode:{update:{[wd]:va.sizeSignal}}}:{},cd?{axes:wb}:{});break a}}l=null}null!=l&&g.push(l)}return g}function Ng(d,
k){const {sort:b}=d;if(N(b)){var g;return{field:pd(b,{expr:"datum"}),order:null!==(g=b.order)&&void 0!==g?g:"ascending"}}return te(b)?{field:ih(d,k,{expr:"datum"}),order:"ascending"}:{field:pd(d,{expr:"datum"}),order:null!==b&&void 0!==b?b:"ascending"}}function zf(d,k,b){const {format:g,formatType:l,labelAngle:B,labelAnchor:K,labelOrient:R,labelExpr:va}=Si("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),d.header,b,k),Na=Xd({fieldOrDatumDef:d,format:g,formatType:l,expr:"parent",
config:b}).signal,wb=Ch(k,R);return Object.assign({},{text:{signal:va?U(U(va,"datum.label",Na),"datum.value",pd(d,{expr:"parent"})):Na}},"row"===k?{orient:"left"}:{},{style:"guide-label",frame:"group"},Gi(B,wb),Ai(wb,B,K),oi(b,d,k,Ym,fm))}function oi(d,k,b,g,l){const B={};for(const K of g)l[K]&&(g=lh(K,null===k||void 0===k?void 0:k.header,d,b),void 0!==g&&(B[l[K]]=g));return B}function mh(d){return[...Qg(d,"width"),...Qg(d,"height"),...Qg(d,"childWidth"),...Qg(d,"childHeight")]}function Qg(d,k){var b=
"width"===k?"x":"y",g=d.component.layoutSize.get(k);if(!g||"merged"===g)return[];k=d.getSizeSignalRef(k).signal;if("step"===g){if(g=d.getScaleComponent(b)){var l=g.get("type");const B=g.get("range");if(l in Qd&&xc(B))return l=d.scaleName(b),Eh(d.parent)&&"independent"===d.parent.component.resolve.scale[b]?[{name:l+"_step",value:B.step}]:[{name:l+"_step",value:B.step},{name:k,update:Dh(l,g,"domain('".concat(l,"').length"))}]}throw Error("layout size is step although width/height is not step.");}return"container"==
g?(b=(g=k.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",d=c(d.config.view,g?"width":"height"),d="isFinite(".concat(b,") ? ").concat(b," : ").concat(d),[{name:k,init:d,on:[{update:d,events:"window:resize"}]}]):[{name:k,value:g}]}function Dh(d,k,b){const g=k.get("type"),l=k.get("padding"),B=la(k.get("paddingOuter"),l);k=k.get("paddingInner");k="band"===g?void 0!==k?k:l:1;return"bandspace(".concat(b,", ").concat(he(k),", ").concat(he(B),") * ").concat(d,"_step")}function Sh(d){return"childWidth"===
d?"width":"childHeight"===d?"height":d}function ug(d,k){return td(d).reduce((b,g)=>Object.assign({},b,mi(k,d[g],g,l=>Pd(l.value))),{})}function Bi(d,k){const b=k in xg?"axis":"legend";return"independent"===d.scale[k]?("shared"===d[b][k]&&Gb('Setting the scale to be independent for "'.concat(k,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):d[b][k]||"shared"}function ok(d){return Ti(d,(k,b)=>Math.max(k,b.value))}function Lh(d){return Ti(d,(k,b)=>la(k,b.value))}
function Ti(d,k){var b=d&&d.condition;if(b=!!b&&(te(b)||le(b)))return ob(d.condition).reduce(k,d.value);if(le(d))return d.value}function Ci(d,k,b){d=k.get("selections");if(null!==d&&void 0!==d&&d.length){var g=Ia(b.field);return d.map(l=>{const B=Ia(I(l)+"_store");return"(!length(data(".concat(B,")) || (").concat(l,"[").concat(g,"] \x26\x26 indexof(").concat(l,"[").concat(g,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function Mh(d,k,b,g){d=d.getSizeSignalRef(k).signal;return{signal:"clamp(".concat(d,
", ").concat(b,", ").concat(g,")")}}function dj(d){var k;if(eg(d)){var {encoding:b}=d,g={};for(const rf of["color",...gm]){var l=M(b[rf]);if(l&&d.getScaleComponent(rf)&&("shape"!==rf||!uc(l)||"geojson"!==l.type)){a:{var B=l=void 0,K=void 0,R=void 0,va=void 0;var Na=void 0;var wb=d,Fb=rf;let Ie=wb.legend(Fb);const {markDef:dg,encoding:zg,config:Qf}=wb;var ec=Qf.legend;b:{var Oc=wb;var Wc=Fb,cd=Oc.scaleName(Wc);if("trail"===Oc.mark){if("color"===Wc){Oc={stroke:cd};break b}if("size"===Wc){Oc={strokeWidth:cd};
break b}}Oc="color"===Wc?Oc.markDef.filled?{fill:cd}:{stroke:cd}:{[Wc]:cd}}Oc=new Zm({},Oc);gj(wb,Fb,Oc);Wc=void 0!==Ie?!Ie:ec.disable;Oc.set("disable",Wc,void 0!==Ie);if(Wc){l=Oc;break a}Ie=Ie||{};cd=wb.getScaleComponent(Fb).get("type");Wc=M(zg[Fb]);var wd=uc(Wc)?null===(Na=Hb(Wc.timeUnit))||void 0===Na?void 0:Na.unit:void 0;const Fg=Ie.orient||Qf.legend.orient||"right";Na={legend:Ie,channel:Fb,timeUnit:wd,scaleType:cd};({legend:wd}=Na);wd=wd.type;b:{var {channel:Cd,timeUnit:ne,scaleType:of}=Na;
if(oa(Cd)){if(La(["quarter","month","day"],ne)){Na="symbol";break b}if(of in yb){Na="gradient";break b}}Na="symbol"}Na=la(wd,Na);var {legendConfig:fe,legendType:mf,orient:Kd,legend:hg}={legend:Ie,legendType:Na,orient:Fg,legendConfig:ec};if(null!==(K=null!==(B=hg.direction)&&void 0!==B?B:fe[mf?"gradientDirection":"symbolDirection"])&&void 0!==K)B=K;else b:{switch(Kd){case "top":case "bottom":B="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:B="gradient"===mf?"horizontal":
void 0;break b}B=void 0}ec={legend:Ie,channel:Fb,model:wb,markDef:dg,encoding:zg,fieldOrDatumDef:Wc,legendConfig:ec,config:Qf,scaleType:cd,orient:Fg,legendType:Na,direction:B};for(const ng of hm)if(!("gradient"===Na&&ng.startsWith("symbol")||"symbol"===Na&&ng.startsWith("gradient"))&&(B=ng in im?im[ng](ec):Ie[ng],void 0!==B)){b:{K=wb.fieldDef(Fb);switch(ng){case "disable":K=void 0!==Ie;break b;case "values":K=!(null===Ie||void 0===Ie||!Ie.values);break b;case "title":if("title"===ng&&B===(null===
K||void 0===K?void 0:K.title)){K=!0;break b}}K=B===(Ie||{})[ng]}(K||void 0===Qf.legend[ng])&&Oc.set(ng,B,K)}ec=null!==(va=null===(R=Ie)||void 0===R?void 0:R.encoding)&&void 0!==va?va:{};R=Oc.get("selections");va={};Fb={fieldOrDatumDef:Wc,model:wb,channel:Fb,legendCmpt:Oc,legendType:Na};for(const ng of"labels legend title symbols gradient entries".split(" "))B=ug(null!==(k=ec[ng])&&void 0!==k?k:{},wb),B=ng in jm?jm[ng](B,Fb):B,void 0===B||S(B)||(va[ng]=Object.assign({},(null===R||void 0===R?0:R.length)&&
uc(Wc)?{name:"".concat(I(Wc.field),"_legend_").concat(ng)}:{},(null===R||void 0===R?0:R.length)?{interactive:!!R}:{},{update:B}));S(va)||Oc.set("encode",va,!(null===(l=Ie)||void 0===l||!l.encoding));l=Oc}g[rf]=l}}k=g}else{{const {legends:rf,resolve:Ie}=d.component;for(b of d.children){dj(b);for(g of td(b.component.legends))Ie.legend[g]=Bi(d.component.resolve,g),"shared"===Ie.legend[g]&&(rf[g]=Di(rf[g],b.component.legends[g]),rf[g]||(Ie.legend[g]="independent",delete rf[g]))}for(l of td(rf))for(wb of d.children)wb.component.legends[l]&&
"shared"===Ie.legend[l]&&delete wb.component.legends[l];k=rf}}return d.component.legends=k}function Di(d,k){if(!d)return k.clone();var b=d.getWithExplicit("orient");const g=k.getWithExplicit("orient");if(!b.explicit||!g.explicit||b.value===g.value){var l=!1;for(const Na of hm)b=Ef(d.getWithExplicit(Na),k.getWithExplicit(Na),Na,"legend",(wb,Fb)=>{switch(Na){case "symbolType":return wb="circle"===Fb.value?Fb:wb,wb;case "title":return P(wb,Fb);case "type":return l=!0,Lf("symbol")}return Rd(wb,Fb,Na,
"legend")}),d.setWithExplicit(Na,b);if(l){var B,K,R,va;(null===(B=d.implicit)||void 0===B?0:null===(K=B.encode)||void 0===K?0:K.gradient)&&J(d.implicit,["encode","gradient"]);(null===(R=d.explicit)||void 0===R?0:null===(va=R.encode)||void 0===va?0:va.gradient)&&J(d.explicit,["encode","gradient"])}return d}}function Wj(d){const k=d.component.legends,b={};for(const l of td(k)){var g=d.getScaleComponent(l);g=If(g.get("domains"));if(b[g])for(const B of b[g])Di(B,k[l])||b[g].push(k[l]);else b[g]=[k[l].clone()]}return Fi(b).flat().map(l=>
{{var B=d.config,K,R=l.combine();l=Object.assign({},R);const Wc=R.disable;R=R.labelExpr;l=(delete l.disable,delete l.labelExpr,delete l.selections,l);if(Wc)var va=void 0;else{!1===B.aria&&void 0==l.aria&&(l.aria=!1);if(null===(K=l.encode)||void 0===K?0:K.symbols){B=l.encode.symbols.update;!B.fill||"transparent"===B.fill.value||B.stroke||l.stroke||(B.stroke={value:"transparent"});for(var Na of gm)l[Na]&&delete B[Na]}l.title||delete l.title;if(void 0!==R){var wb,Fb;Na=R;(null===(wb=l.encode)||void 0===
wb?0:null===(Fb=wb.labels)||void 0===Fb?0:Fb.update)&&Cc(l.encode.labels.update.text)&&(Na=U(R,"datum.label",l.encode.labels.update.text.signal));wb=l;Fb={signal:Na};var ec,Oc;wb.encode=null!==(va=wb.encode)&&void 0!==va?va:{};wb.encode.labels=null!==(ec=wb.encode.labels)&&void 0!==ec?ec:{};wb.encode.labels.update=null!==(Oc=wb.encode.labels.update)&&void 0!==Oc?Oc:{};wb.encode.labels.update.text=Fb}va=l}}return va}).filter(l=>void 0!==l)}function sh(d){return d.children.reduce((k,b)=>k.concat(b.assembleProjections()),
oj(d))}function oj(d){var k=d.component.projection;if(!k||k.merged)return[];const b=k.combine(),{name:g}=b;if(k.data){const l={signal:"[".concat(k.size.map(B=>B.signal).join(", "),"]")};k=k.data.reduce((B,K)=>{K=Cc(K)?K.signal:"data('".concat(d.lookupDataSource(K),"')");La(B,K)||B.push(K);return B},[]);if(0>=k.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:g,size:l,fit:{signal:1<k.length?"[".concat(k.join(", "),"]"):k[0]}},b)]}return[Object.assign({},
{name:g},{translate:{signal:"[width / 2, height / 2]"}},b)]}function nh(d){var k=d.component;if(eg(d))if(d.hasProjection){var b;const B=d.specifiedProjection;var g=!(B&&(null!=B.scale||null!=B.translate));const K=g?[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]:void 0;if(g){{g=[];const {encoding:R}=d;for(l of[["longitude","latitude"],["longitude2","latitude2"]])(M(R[l[0]])||M(R[l[1]]))&&g.push({signal:d.getName("geojson_".concat(g.length))});d.channelHasField("shape")&&"geojson"===d.typedFieldDef("shape").type&&
g.push({signal:d.getName("geojson_".concat(g.length))});0===g.length&&g.push(d.requestDataName(og.Main));var l=g}}else l=void 0;d=new km(d.projectionName(!0),Object.assign({},null!==(b=d.config.projection)&&void 0!==b?b:{},null!==B&&void 0!==B?B:{}),K,l)}else d=void 0;else d=Ui(d);k.projection=d}function xj(d,k){const b=Aa($m,g=>!Jj.call(d.explicit,g)&&!Jj.call(k.explicit,g)||Jj.call(d.explicit,g)&&Jj.call(k.explicit,g)&&If(d.get(g))===If(k.get(g))?!0:!1);if(If(d.size)===If(k.size)){if(b)return d;
if(If(d.explicit)===If({}))return k;if(If(k.explicit)===If({}))return d}return null}function Ui(d){if(0!==d.children.length){var k;for(var b of d.children)nh(b);b=Aa(d.children,g=>{if(g=g.component.projection){if(k)return(g=xj(k,g))&&(k=g),!!g;k=g}return!0});if(k&&b){b=d.projectionName(!0);const g=new km(b,k.specifiedProjection,k.size,Ve(k.data));for(const l of d.children)if(d=l.component.projection)d.isFit&&g.data.push(...l.component.projection.data),l.renameProjection(d.get("name"),b),d.merged=
!0;return g}}}function Xj(d,k,b,g){if(ad(k,b)){var l,B;d=eg(d)?null!==(l=null!==(B=d.axis(b))&&void 0!==B?B:d.legend(b))&&void 0!==l?l:{}:{};l=pd(k,{expr:"datum"});B=pd(k,{expr:"datum",binSuffix:"end"});return{formulaAs:pd(k,{binSuffix:"range",forAs:!0}),formula:Pe(l,B,d.format,d.formatType,g)}}return{}}function Th(d,k){return"".concat(gd(d),"_").concat(k)}function Uh(d,k,b){var g;b=null!==(g=Mb(b,void 0))&&void 0!==g?g:{};k=Th(b,k);return d.getName("".concat(k,"_bins"))}function Eg(d,k,b){let g;
g="as"in d?Ha(d.as)?[d.as,"".concat(d.as,"_end")]:[d.as[0],d.as[1]]:[pd(d,{forAs:!0}),pd(d,{binSuffix:"end",forAs:!0})];const l=Object.assign({},Mb(k,void 0));k=Th(l,d.field);var B={signal:b.getName("".concat(k,"_bins")),extentSignal:b.getName("".concat(k,"_extent"))};const {signal:K,extentSignal:R}=B;if(Ta(l.extent)){var va=l.extent;B=va.selection;va=Qh(b.getSelectionComponent(I(B),B),va);delete l.extent}d=Object.assign({},{bin:l,field:d.field,as:[g]},K?{signal:K}:{},R?{extentSignal:R}:{},va?{span:va}:
{});return{key:k,binComponent:d}}function Mf(d){return"'"===d[0]&&"'"===d[d.length-1]||'"'===d[0]&&'"'===d[d.length-1]?d.slice(1,-1):d}function cg(d,k){d=Y(d);if("number"===k)return"toNumber(".concat(d,")");if("boolean"===k)return"toBoolean(".concat(d,")");if("string"===k)return"toString(".concat(d,")");if("date"===k)return"toDate(".concat(d,")");if("flatten"===k)return d;if(0===k.indexOf("date:"))return k=Mf(k.slice(5,k.length)),"timeParse(".concat(d,",'").concat(k,"')");if(0===k.indexOf("utc:"))return k=
Mf(k.slice(4,k.length)),"utcParse(".concat(d,",'").concat(k,"')");Gb('Unrecognized parse "'.concat(k,'".'));return null}function Mk(d){const k={};mb(d.filter,b=>{if(me(b)){let l=null;if(Yc(b))l=Bd(b.equal);else if(od(b))l=Bd(b.lte);else if(Uc(b))l=Bd(b.lt);else if(qd(b))l=Bd(b.gt);else if(Id(b))l=Bd(b.gte);else if(Ed(b))l=b.range[0];else if(Wd(b)){var g;l=(null!==(g=b.oneOf)&&void 0!==g?g:b["in"])[0]}l&&(sc(l)?k[b.field]="date":Xa(l)?k[b.field]="number":Ha(l)&&(k[b.field]="string"));b.timeUnit&&(k[b.field]=
"date")}});return k}function ej(d){function k(g){if(jc(g))b[g.field]="date";else{var l;if(l="quantitative"===g.type)l=g.aggregate,l=Ha(l)&&La(["min","max"],l);l?b[g.field]="number":1<ua(g.field)?g.field in b||(b[g.field]="flatten"):Te(g)&&N(g.sort)&&1<ua(g.sort.field)&&(g.sort.field in b||(b[g.sort.field]="flatten"))}}const b={};(eg(d)||Eh(d))&&d.forEachFieldDef((g,l)=>{zd(g)?k(g):(l=Ja(l),l=d.fieldDef(l),k(Object.assign({},g,{type:l.type})))});if(eg(d)){const {mark:g,markDef:l,encoding:B}=d;if(re(g)&&
!d.encoding.order){const K=B["horizontal"===l.orient?"y":"x"];!uc(K)||"quantitative"!==K.type||K.field in b||(b[K.field]="number")}}return b}function a(d){return d instanceof qk||d instanceof ql||d instanceof rl}function f(d){return d.stack.stackBy.reduce((k,b)=>{(b=pd(b.fieldDef))&&k.push(b);return k},[])}function t(d){return te(d)&&d.every(k=>Ha(k))&&1<d.length}function q(d){function k(b){if(!(b instanceof Ik)){const g=b.clone();if(g instanceof th){const l="scale_"+g.getSource();g.setSource(l);
d.model.component.data.outputNodes[l]=g}else(g instanceof fj||g instanceof Qj||g instanceof Zk||g instanceof Jk)&&g.addDimensions(d.fields);for(const l of b.children.flatMap(k))l.parent=g;return[g]}return b.children.flatMap(k)}return k}function y(d){if(d instanceof Ik)if(1!==d.numChildren()||d.children[0]instanceof th){var k=d.model.component.data.main;X(k);const b=q(d);d=d.children.map(b).flat();for(const g of d)g.parent=k}else k=d.children[0],(k instanceof fj||k instanceof Qj||k instanceof Zk||
k instanceof Jk)&&k.addDimensions(d.fields),k.swapWithParent(),y(d);else d.children.map(y)}function X(d){if(d instanceof th&&d.type===og.Main&&1===d.numChildren()){const k=d.children[0];k instanceof Ik||(k.swapWithParent(),X(d))}}function qa(d){for(const k of d){for(const b of k.children)if(b.parent!==k)return!1;if(!qa(k.children))return!1}return!0}function ra(d,k){let b=!1;for(const g of k)b=d.optimize(g)||b;return b}function jb(d,k,b){let g=d.sources,l=!1;l=ra(new an,g)||l;l=ra(new bn(k),g)||l;
g=g.filter(B=>0<B.numChildren());l=ra(new cn,g)||l;g=g.filter(B=>0<B.numChildren());b||(l=ra(new dn,g)||l,l=ra(new en(k),g)||l,l=ra(new fn,g)||l,l=ra(new gn,g)||l,l=ra(new hn,g)||l,l=ra(new jn,g)||l,l=ra(new kn,g)||l,l=ra(new ln,g)||l);d.sources=g;return l}function Bb(d){const k=d.component.scales;for(const Na of td(k)){var b=d;var g=Na,l=b.getScaleComponent(g).get("type"),{encoding:B}=b;var K=b.scaleDomain(g);var R=b.typedFieldDef(g),va=b.config.scale;if("unaggregated"===K){const {valid:wb,reason:Fb}=
He(R,l);wb||(Gb(Fb),K=void 0)}else void 0===K&&va.useUnaggregatedDomain&&({valid:R}=He(R,l),R&&(K="unaggregated"));K!==b.scaleDomain(g)&&(b.specifiedScales[g]=Object.assign({},b.specifiedScales[g],{domain:K}));b="x"===g&&M(B.x2)?M(B.x)?Ef(oc(l,K,b,"x"),oc(l,K,b,"x2"),"domain","scale",xf):oc(l,K,b,"x2"):"y"===g&&M(B.y2)?M(B.y)?Ef(oc(l,K,b,"y"),oc(l,K,b,"y2"),"domain","scale",xf):oc(l,K,b,"y2"):oc(l,K,b,g);k[Na].setWithExplicit("domains",b);B=void 0;g=d.component.scales[Na];K=d.specifiedScales[Na].domain;
l=null===(B=d.fieldDef(Na))||void 0===B?void 0:B.bin;B=ff(K)&&K;l=ub(l)&&Ta(l.extent)&&l.extent;(B||l)&&g.set("selectionExtent",null!==B&&void 0!==B?B:l,!0);if(d.component.data.isFaceted){for(g=d;!Eh(g)&&g.parent;)g=g.parent;if("shared"===g.component.resolve.scale[Na])for(const wb of b.value)Jc(wb)&&(wb.data="scale_"+wb.data.replace("scale_",""))}}}function Xb(d){for(var k of d.children){var b=k;eg(b)?Bb(b):Xb(b)}b=d.component.scales;for(const l of td(b)){let B;k=null;for(const K of d.children){var g=
K.component.scales[l];g&&(B=void 0===B?g.getWithExplicit("domains"):Ef(B,g.getWithExplicit("domains"),"domains","scale",xf),g=g.get("selectionExtent"),k&&g&&k.selection!==g.selection&&Gb("The same selection must be used to override scale domains in a layered view."),k=g)}b[l].setWithExplicit("domains",B);k&&b[l].set("selectionExtent",k,!0)}}function Hc(d,k,b){return d.map(g=>{g=Qc(g,{timeUnit:b,type:k});return{signal:"{data: ".concat(g,"}")}})}function qc(d,k,b){var g;b=null===(g=Hb(b))||void 0===
g?void 0:g.unit;return"temporal"===k||b?Hc(d,k,b):[d]}function oc(d,k,b,g){var {encoding:l}=b;l=M(l[g]);const {type:B}=l,K=l.timeUnit;if(k&&k.unionWith)return g=oc(d,void 0,b,g),k=qc(k.unionWith,B,K),Yf([...g.value,...k]);if(Cc(k))return Yf([k]);if(k&&"unaggregated"!==k&&!ff(k))return Yf(qc(k,B,K));var R=b.stack;if(R&&g===R.fieldChannel){if("normalize"===R.offset)return Lf([[0,1]]);k=b.requestDataName(og.Main);return Lf([{data:k,field:b.vgField(g,{suffix:"start"})},{data:k,field:b.vgField(g,{suffix:"end"})}])}R=
Yh[g]&&uc(l)?Od(b,g,d):void 0;if(id(l))return g=qc([l.datum],B,K),Lf(g);if("unaggregated"===k)return g=b.requestDataName(og.Main),{field:k}=l,Lf([{data:g,field:pd({field:k,aggregate:"min"})},{data:g,field:pd({field:k,aggregate:"max"})}]);if(Dc(l.bin)){if(d in Qd)return"bin-ordinal"===d?Lf([]):Lf([{data:z(R)?b.requestDataName(og.Main):b.requestDataName(og.Raw),field:b.vgField(g,ad(l,g)?{binSuffix:"range"}:{}),sort:!0!==R&&ub(R)?R:{field:b.vgField(g,{}),op:"min"}}]);({bin:k}=l);if(Dc(k)){const va=Uh(b,
l.field,k);return Lf([new pi(()=>{const Na=b.getSignalName(va);return"[".concat(Na,".start, ").concat(Na,".stop]")})])}return Lf([{data:b.requestDataName(og.Main),field:b.vgField(g,{})}])}return l.timeUnit&&La(["time","utc"],d)&&Vb(g,l,eg(b)?b.encoding[ta(g)]:void 0,b.stack,b.markDef,b.config)?(k=b.requestDataName(og.Main),Lf([{data:k,field:b.vgField(g)},{data:k,field:b.vgField(g,{suffix:"end"})}])):R?Lf([{data:z(R)?b.requestDataName(og.Main):b.requestDataName(og.Raw),field:b.vgField(g),sort:R}]):
Lf([{data:b.requestDataName(og.Main),field:b.vgField(g)}])}function ed(d,k){const {op:b,field:g,order:l}=d;return Object.assign({},{op:null!==b&&void 0!==b?b:k?"sum":"min"},g?{field:Ua(g)}:{},l?{order:l}:{})}function Od(d,k,b){if(b in Qd){var g=d.fieldDef(k);b=g.sort;if(V(b))return{op:"min",field:ih(g,k),order:"ascending"};({stack:g}=d);var l=g?[...g.groupbyField?[g.groupbyField]:[],...g.stackBy.map(B=>B.fieldDef.field)]:void 0;if(N(b))return d=g&&!La(l,b.field),ed(b,d);if(b&&b.encoding){const {encoding:B,
order:K}=b;d=d.fieldDef(B);const {aggregate:R,field:va}=d;k=g&&!La(l,va);if(E(R)||H(R))return ed({field:pd(d),order:K},k);if(C(R)||!R)return ed({op:R,field:va,order:K},k)}else{if("descending"===b)return{op:"min",field:d.vgField(k),order:"descending"};if(La(["ascending",void 0],b))return!0}}}function He(d,k){const {aggregate:b,type:g}=d;return b?Ha(b)&&!Sk[b]?{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(b,'" since it produces values outside the origin domain of the source data.')}:
"quantitative"===g&&"log"===k?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(If(d),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(If(d),").")}}function xf(d,k,b,g){if(d.explicit&&k.explicit){var l=d.value,B=k.value;b="Conflicting ".concat(g.toString(),' property "').concat(b.toString(),'" (').concat(If(l)," and ").concat(If(B),"). Using the union of the two domains.");Gb(b)}return{explicit:d.explicit,value:[...d.value,
...k.value]}}function ve(d){var k=Ya(d.map(l=>Jc(l)?(l=Object.assign({},l),delete l.sort,l):l),Ca),b=Ya(d.map(l=>{if(Jc(l))return l=l.sort,void 0===l||z(l)||("op"in l&&"count"===l.op&&delete l.field,"ascending"===l.order&&delete l.order),l}).filter(l=>void 0!==l),Ca);if(0!==k.length){if(1===k.length){k=d[0];if(Jc(k)&&0<b.length){var g=b[0];1<b.length?(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0):ub(g)&&"field"in g&&k.field===g.field&&(g=g.order?
{order:g.order}:!0);return Object.assign({},k,{sort:g})}return k}b=Ya(b.map(l=>{if(z(l)||!("op"in l)||Ha(l.op)&&l.op in Ek)return l;Gb("Dropping sort property ".concat(If(l),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),Ca);1===b.length?g=b[0]:1<b.length&&(Gb("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),g=!0);b=Ya(d.map(l=>Jc(l)?l.data:null),l=>l);return 1===b.length&&null!==b[0]?Object.assign({},{data:b[0],
fields:k.map(l=>l.field)},g?{sort:g}:{}):Object.assign({},{fields:k},g?{sort:g}:{})}}function Nf(d){if(Jc(d)&&Ha(d.field))return d.field;var k=te(d)?!1:"fields"in d&&!("data"in d);if(k){let b;for(const g of d.fields)if(Jc(g)&&Ha(g.field))if(!b)b=g.field;else if(b!==g.field)return Gb("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),b;Gb("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");
return b}k=te(d)?!1:"fields"in d&&"data"in d;if(k)return Gb("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),d=d.fields[0],Ha(d)?d:void 0}function Af(d,k){k=d.component.scales[k].get("domains").map(b=>{Jc(b)&&(b.data=d.lookupDataSource(b.data));return b});return ve(k)}function Tf(d){return pj(d)||tk(d)?d.children.reduce((k,b)=>k.concat(Tf(b)),Wf(d)):Wf(d)}function Wf(d){return td(d.component.scales).reduce((k,
b)=>{var g=d.component.scales[b];if(g.merged)return k;var l=g.combine(),B=Object.assign({},l);g=l.name;const K=l.type,R=l.selectionExtent,va=l.reverse;B=(delete B.name,delete B.type,delete B.selectionExtent,delete B.domains,delete B.range,delete B.reverse,B);l=l.range;b in xg?xc(l)&&(l={step:{signal:g+"_step"}}):ub(l)&&Jc(l)&&(l=Object.assign({},l,{data:d.lookupDataSource(l.data)}));if(R){var Na=R.selection;Na=d.getSelectionComponent(Na,I(Na));Na={signal:Qh(Na,R)}}b=Af(d,b);k.push(Object.assign({},
{name:g,type:K},b?{domain:b}:{},Na?{domainRaw:Na}:{},{range:l},void 0!==va?{reverse:va}:{},B));return k},[])}function jf(d){return"x"===d?"width":"y"===d?"height":void 0}function Uf(d,k){const b=d.fieldDef(k);if(b&&b.bin&&Dc(b.bin)){const g=Uh(d,b.field,b.bin);k=jf(k);const l=d.getName(k);return new pi(()=>{var B=d.getSignalName(g);B="(".concat(B,".stop - ").concat(B,".start) / ").concat(B,".step");return"".concat(d.getSignalName(l)," / (").concat(B,")")})}}function Ff(d,k){const b=k.specifiedScales[d];
var {size:g}=k,l=k.getScaleComponent(d).get("type");for(var B of mn)if(void 0!==b[B]){const va=Oe(l,B),Na=Bf(d,B);if(va)if(Na)Gb(Na);else switch(B){case "range":l=b.range;if(te(l)){if(d in xg)return Yf(l.map(wb=>{if("width"===wb||"height"===wb){wb=k.getName(wb);const Fb=k.getSignalName.bind(k);return pi.fromName(Fb,wb)}return wb}))}else if(ub(l))return Yf({data:k.requestDataName(og.Main),field:l.field,sort:{op:"min",field:k.vgField(d)}});return Yf(l);case "scheme":return Yf(Of(b[B]))}else Gb(oe(l,
B,d))}if("x"===d||"y"===d)if(B="x"===d?"width":"height",g=g[B],qb(g)){if(l in Qd)return Yf({step:g.step});Gb(Z(B))}const {rangeMin:K,rangeMax:R}=b;d=Jg(d,k);return(void 0!==K||void 0!==R)&&Oe(l,"rangeMin")&&te(d)&&2===d.length?Yf([null!==K&&void 0!==K?K:d[0],null!==R&&void 0!==R?R:d[1]]):Lf(d)}function Of(d){return!Ha(d)&&d.name?Object.assign({},{scheme:d.name},hb(d,["name"])):{scheme:d}}function Jg(d,k){const {size:b,config:g,mark:l,encoding:B}=k;var K=k.getSignalName.bind(k),{type:R}=M(B[d]);const va=
k.getScaleComponent(d).get("type"),{domain:Na,domainMid:wb}=k.specifiedScales[d];switch(d){case "x":case "y":if(La(["point","band"],va))if("x"===d&&!b.width){if(R=G(g.view,"width"),qb(R))return R}else if("y"===d&&!b.height&&(R=G(g.view,"height"),qb(R)))return R;R=jf(d);R=k.getName(R);return"y"===d&&va in Zc?[pi.fromName(K,R),0]:[0,pi.fromName(K,R)];case "size":return K=k.component.scales[d].get("zero"),K=Lg(l,K,g),R=mg(l,b,k,g),va in ic?vg(K,R,Cg(va,g,Na,d)):[K,R];case "theta":return[0,2*Math.PI];
case "angle":return[0,360];case "radius":return[0,new pi(()=>{const Fb=k.getSignalName("width"),ec=k.getSignalName("height");return"min(".concat(Fb,",").concat(ec,")/2")})];case "strokeWidth":return[g.scale.minStrokeWidth,g.scale.maxStrokeWidth];case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===va?"nominal"===R?"category":"ordinal":void 0!==wb?"diverging":"rect"===l||"geoshape"===l?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[g.scale.minOpacity,
g.scale.maxOpacity]}throw Error("Scale range undefined for channel ".concat(d));}function Cg(d,k,b,g){switch(d){case "quantile":return k.scale.quantileCount;case "quantize":return k.scale.quantizeCount;case "threshold":if(void 0!==b&&te(b))return b.length+1;Gb("Domain for ".concat(g," is required for threshold scale."));return 3}}function vg(d,k,b){const g=()=>{const l=he(k),B=he(d),K="(".concat(l," - ").concat(B,") / (").concat(b," - 1)");return"sequence(".concat(B,", ").concat(l," + ").concat(K,
", ").concat(K,")")};return Cc(k)?new pi(g):{signal:g()}}function Lg(d,k,b){if(k)return Cc(k)?{signal:"".concat(k.signal," ? 0 : ").concat(Lg(d,!1,b))}:0;switch(d){case "bar":case "tick":return b.scale.minBandSize;case "line":case "trail":case "rule":return b.scale.minStrokeWidth;case "text":return b.scale.minFontSize;case "point":case "square":case "circle":return b.scale.minSize}throw Error(rd("size",d));}function mg(d,k,b,g){b={x:Uf(b,"x"),y:Uf(b,"y")};switch(d){case "bar":case "tick":{if(void 0!==
g.scale.maxBandSize)return g.scale.maxBandSize;const l=Dg(k,b,g.view);return Xa(l)?l-1:new pi(()=>"".concat(l.signal," - 1"))}case "line":case "trail":case "rule":return g.scale.maxStrokeWidth;case "text":return g.scale.maxFontSize;case "point":case "square":case "circle":{if(g.scale.maxSize)return g.scale.maxSize;const l=Dg(k,b,g.view);return Xa(l)?Math.pow(.95*l,2):new pi(()=>"pow(".concat(.95," * ").concat(l.signal,", 2)"))}}throw Error(rd("size",d));}function Dg(d,k,b){const g=qb(d.width)?d.width.step:
m(b,"width"),l=qb(d.height)?d.height.step:m(b,"height");return k.x||k.y?new pi(()=>"min(".concat([k.x?k.x.signal:g,k.y?k.y.signal:l].join(", "),")")):Math.min(g,l)}function Vi(d,k){if(eg(d)){{const K=d.component.scales,{config:R,encoding:va,markDef:Na,specifiedScales:wb}=d;for(const Fb of td(K)){var b=wb[Fb];const ec=K[Fb];var g=d.getScaleComponent(Fb),l=M(va[Fb]),B=b[k];const Oc=g.get("type"),Wc=g.get("padding");g=g.get("paddingInner");const cd=Oe(Oc,k),wd=Bf(Fb,k);void 0!==B&&(cd?wd&&Gb(wd):Gb(oe(Oc,
k,Fb)));if(cd&&void 0===wd)if(void 0!==B)switch(B=l.timeUnit,l=l.type,k){case "domainMax":case "domainMin":sc(b[k])||"temporal"===l||B?ec.set(k,{signal:Qc(b[k],{type:l,timeUnit:B})},!0):ec.set(k,b[k],!0);break;default:ec.copyKeyFromObject(k,b)}else b=k in lm?lm[k]({model:d,channel:Fb,fieldOrDatumDef:l,scaleType:Oc,scalePadding:Wc,scalePaddingInner:g,domain:b.domain,markDef:Na,config:R}):R.scale[k],void 0!==b&&ec.set(k,b,!1)}}}else uk(d,k)}function cl(d){if(eg(d)){{const k=d.component.scales;for(const b of Zh){const g=
k[b];if(!g)continue;const l=Ff(b,d);g.setWithExplicit("range",l)}}}else uk(d,"range")}function uk(d,k){const b=d.component.scales;for(var g of d.children)"range"===k?cl(g):Vi(g,k);for(const l of td(b)){let B;for(const K of d.children)if(g=K.component.scales[l])g=g.getWithExplicit(k),B=Ef(B,g,k,"scale",Gh((R,va)=>{switch(k){case "range":if(R.step&&va.step)return R.step-va.step}return 0}));b[l].setWithExplicit(k,B)}}function el(d,k){const b=k.bin;if(Dc(b)){const g=Uh(d,k.field,b);return new pi(()=>
d.getSignalName(g))}if(Sc(b)&&ub(b)&&void 0!==b.step)return{step:b.step}}function nl(d,k,b){var g;switch(k.type){case "nominal":case "ordinal":if(oa(d)||"discrete"===Ec(d))return"shape"===d&&"ordinal"===k.type&&Gb(de(d,"ordinal")),"ordinal";if(d in xg){if(La(["rect","bar","image","rule"],b))return"band"}else if("arc"===b&&d in Mj)return"band";return void 0!==k.band||Me(k)&&(null===(g=k.axis)||void 0===g?0:g.tickBand)?"band":"point";case "temporal":if(!oa(d)){if("discrete"===Ec(d))return Gb(de(d,"temporal")),
"ordinal";if(uc(k)&&k.timeUnit&&Hb(k.timeUnit).utc)return"utc"}return"time";case "quantitative":if(oa(d)){if(uc(k)&&Dc(k.bin))return"bin-ordinal"}else if("discrete"===Ec(d))return Gb(de(d,"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(k.type,'".'));}function Hk(d){if(eg(d))d.component.scales=zl(d);else{var k=d.component;{const R=d.component.scales={},va={};var b=d.component.resolve;for(const Na of d.children){Hk(Na);for(const wb of td(Na.component.scales)){var g,
l=b.scale;if(null!==(g=b.scale[wb])&&void 0!==g)var B=g;else{B=wb;var K=d;if(pj(K)||Eh(K))B="shared";else if(tk(K))B=B in xg?"independent":"shared";else throw Error("invalid model type for resolve");}l[wb]=B;if("shared"===b.scale[wb])if(l=va[wb],B=Na.component.scales[wb].getWithExplicit("type"),l){{K=A[l.value];const Fb=A[B.value];K=K===Fb||"ordinal-position"===K&&"time"===Fb||"ordinal-position"===Fb&&"time"===K}K?va[wb]=Ef(l,B,"type","scale",nn):(b.scale[wb]="independent",delete va[wb])}else va[wb]=
B}}for(const Na of td(va)){g=d.scaleName(Na,!0);R[Na]=new mm(g,va[Na]);for(const wb of d.children)if(b=wb.component.scales[Na])wb.renameScale(b.get("name"),g),b.merged=!0}d=R}k.scales=d}}function zl(d){const {encoding:k,mark:b}=d;return Zh.reduce((g,l)=>{var B=M(k[l]);if(B&&b===nm&&"shape"===l&&"geojson"===B.type)return g;let K=B&&B.scale;if(B&&null!==K&&!1!==K){var R;K=null!==(R=K)&&void 0!==R?R:{};var va=K;R=nl(l,B,b);({type:va}=va);if(Yh[l]){if(void 0!==va)if(Yd(l,va)){var Na;if(Na=uc(B))Na=va,
B=B.type,Na=!(La(["ordinal","nominal"],B)?void 0===Na||Na in Qd:"temporal"===B?La([h.TIME,h.UTC,void 0],Na):"quantitative"===B?La([h.LOG,h.POW,h.SQRT,h.SYMLOG,h.QUANTILE,h.QUANTIZE,h.THRESHOLD,h.LINEAR,void 0],Na):1);Na?(B=R,B='FieldDef does not work with "'.concat(va,'" scale. We are using "').concat(B,'" scale instead.'),Gb(B)):R=va}else B=va,va=R,B='Channel "'.concat(l,'" does not work with "').concat(B,'" scale. We are using "').concat(va,'" scale instead.'),Gb(B)}else R=null;g[l]=new mm(d.scaleName(l+
"",!0),{value:R,explicit:K.type===R})}return g},{})}function eg(d){return"unit"===(null===d||void 0===d?void 0:d.type)}function Eh(d){return"facet"===(null===d||void 0===d?void 0:d.type)}function tk(d){return"concat"===(null===d||void 0===d?void 0:d.type)}function pj(d){return"layer"===(null===d||void 0===d?void 0:d.type)}function Nk(d){function k(g,l){g instanceof qk&&!(g.isGenerator||"url"in g.data)&&(d.push(l),l={name:null,source:l.name,transform:[]});if(g instanceof uh)if(g.parent instanceof qk&&
!l.source){var B;l.format=Object.assign({},null!==(B=l.format)&&void 0!==B?B:{},{parse:g.assembleFormatParse()});l.transform.push(...g.assembleTransforms(!0))}else l.transform.push(...g.assembleTransforms());if(g instanceof Ik){l.name||(l.name="data_".concat(b++));!l.source||0<l.transform.length?(d.push(l),g.data=l.name):g.data=l.source;for(const K of g.assemble())d.push(K)}else switch((g instanceof ql||g instanceof rl||g instanceof sl||g instanceof Yk||g instanceof $k||g instanceof tl||g instanceof
al||g instanceof fj||g instanceof ul||g instanceof Zk||g instanceof Jk||g instanceof Gl||g instanceof Hl||g instanceof Il||g instanceof Jl||g instanceof Kl||g instanceof Ll||g instanceof rk||g instanceof Ml||g instanceof Nl)&&l.transform.push(g.assemble()),(g instanceof yj||g instanceof zj||g instanceof Kk||g instanceof Qj)&&l.transform.push(...g.assemble()),g instanceof th&&(l.source&&0===l.transform.length?g.setSource(l.source):g.parent instanceof th?g.setSource(l.name):(l.name||(l.name="data_".concat(b++)),
g.setSource(l.name),1===g.numChildren()&&(d.push(l),l={name:null,source:l.name,transform:[]}))),g.numChildren()){case 0:g instanceof th&&(!l.source||0<l.transform.length)&&d.push(l);break;case 1:k(g.children[0],l);break;default:l.name||(l.name="data_".concat(b++));B=l.name;!l.source||0<l.transform.length?d.push(l):B=l.source;for(const K of g.children)k(K,{name:null,source:B,transform:[]})}}let b=0;return k}function dl(d){const k=[],b=Nk(k);for(const g of d.children)b(g,{source:d.name,name:null,transform:[]});
return k}function Bl(d,k){const b=[];var g=Nk(b);let l=0;for(const R of d.sources){R.hasName()||(R.dataName="source_".concat(l++));const va=R.assemble();g(R,va)}for(const R of b)0===R.transform.length&&delete R.transform;g=0;for(const R of b.entries()){const [va,Na]=R;var B;0!==(null!==(B=Na.transform)&&void 0!==B?B:[]).length||Na.source||b.splice(g++,0,b.splice(va,1)[0])}for(const R of b)for(const va of null!==(K=R.transform)&&void 0!==K?K:[]){var K;"lookup"===va.type&&(va.from=d.outputNodes[va.from].getSource())}for(const R of b)R.name in
k&&(R.values=k[R.name]);return b}function ml(d,k,b){k="row"===k?"height":"width";return{labels:b,sizeSignal:d.child.component.layoutSize.get(k)?d.child.getSizeSignalRef(k):void 0,axes:[]}}function hi(d,k){var {child:b}=d;if(b.component.axes[k]){const {layoutHeaders:l,resolve:B}=d.component;B.axis[k]=Bi(B,k);if("shared"===B.axis[k]){const K="x"===k?"column":"row",R=l[K];for(const va of b.component.axes[k]){var g;k=va.get("orient");k="top"===k||"left"===k||Cc(k)?"header":"footer";R[k]=null!==(g=R[k])&&
void 0!==g?g:[ml(d,K,!1)];(b=Xf(va,"main",d.config,{header:!0}))&&R[k][0].axes.push(b);va.mainExtracted=!0}}}}function Ej(d){for(const k of d.children)k.parseLayoutSize()}function Fj(d,k){const b=Sh(k),g=Kb(b),l=d.component.resolve,B=d.component.layoutSize;let K;for(const R of d.children){const va=R.component.layoutSize.getWithExplicit(b),Na=l.scale[g];if("independent"===Na&&"step"===va.value){K=void 0;break}if(K){if("independent"===Na&&K.value!==va.value){K=void 0;break}K=Ef(K,va,b,"")}else K=va}if(K){for(const R of d.children)d.renameSignal(R.getName(b),
d.getName(k)),R.component.layoutSize.set(b,"merged",!1);B.setWithExplicit(k,K)}else B.setWithExplicit(k,{explicit:!1,value:void 0})}function ol(d,k){const b=d.config;var g=d.getScaleComponent("width"===k?"x":"y");if(g)return d=g.get("type"),g=g.get("range"),d in Qd?(k=G(b.view,k),xc(g)||qb(k)?"step":k):c(b.view,k);if(d.hasProjection||"arc"===d.mark)return c(b.view,k);k=G(b.view,k);return qb(k)?k.step:k}function hh(d,k,b){return pd(k,Object.assign({},{suffix:"by_".concat(pd(d))},null!==b&&void 0!==
b?b:{}))}function Yj(d,k){for(const R of k){var b,g,l,B;k=R.data;if(d.name&&R.hasName()&&d.name!==R.dataName)continue;const va=null===(b=d.format)||void 0===b?void 0:b.mesh;var K=null===(g=k.format)||void 0===g?void 0:g.feature;if(va&&K)continue;const Na=null===(l=d.format)||void 0===l?void 0:l.feature;if(!Na&&!K||Na===K)if(K=null===(B=k.format)||void 0===B?void 0:B.mesh,!va&&!K||va===K)if("values"in d&&"values"in k){if(Kj(d.values,k.values))return R}else if("url"in d&&"url"in k){if(d.url===k.url)return R}else if(Hh(d)&&
d.name===R.dataName)return R}return null}function Gj(d,k){if(d.data||!d.parent){if(null===d.data)return d=new qk({values:[]}),k.push(d),d;const b=Yj(d.data,k);if(b)return Zg(d.data)||(b.data.format=Ra({},d.data.format,b.data.format)),!b.hasName()&&d.data.name&&(b.dataName=d.data.name),b;d=new qk(d.data);k.push(d);return d}return d.parent.component.data.facetRoot?d.parent.component.data.facetRoot:d.parent.component.data.main}function Vh(d){var k,b,g,l=Gj(d,d.component.data.sources);const {outputNodes:B,
outputNodeRefCounts:K}=d.component.data,R=d.parent?d.parent.component.data.ancestorParse.clone():new on,va=d.data;Zg(va)?("sequence"in va?l=new rl(l,va.sequence):"graticule"in va&&(l=new ql(l,va.graticule)),R.parseNothing=!0):null===(null===va||void 0===va?void 0:null===(k=va.format)||void 0===k?void 0:k.parse)&&(R.parseNothing=!0);l=null!==(b=uh.makeExplicit(l,d,R))&&void 0!==b?b:l;l=new rk(l);k=d.parent&&pj(d.parent);if((eg(d)||Eh(d))&&k){var Na;l=null!==(Na=yj.makeFromEncoding(l,d))&&void 0!==
Na?Na:l}if(0<d.transforms.length){Na=0;for(const Kd of d.transforms){var wb=b=void 0;if("calculate"in Kd)wb=l=new $k(l,Kd),b="derived";else if("filter"in Kd){var Fb;wb=Mk(Kd);wb=l=null!==(Fb=uh.makeWithAncestors(l,{},wb,R))&&void 0!==Fb?Fb:l;l=new Yk(l,d,Kd.filter)}else if("bin"in Kd)wb=l=yj.makeFromTransform(l,Kd,d),b="number";else if("timeUnit"in Kd)b="date",void 0===R.getWithExplicit(Kd.field).value&&(l=new uh(l,{[Kd.field]:b}),R.set(Kd.field,b,!1)),wb=l=zj.makeFromTransform(l,Kd);else if("aggregate"in
Kd)wb=l=fj.makeFromTransform(l,Kd),b="number",Pi(d)&&(l=new rk(l));else if("lookup"in Kd)wb=l=ul.make(l,d,Kd,Na++),b="derived";else if("window"in Kd)wb=l=new Zk(l,Kd),b="number";else if("joinaggregate"in Kd)wb=l=new Jk(l,Kd),b="number";else if("stack"in Kd)wb=l=Qj.makeFromTransform(l,Kd),b="derived";else if("fold"in Kd)wb=l=new Gl(l,Kd),b="derived";else if("flatten"in Kd)wb=l=new Hl(l,Kd),b="derived";else if("pivot"in Kd)wb=l=new Nl(l,Kd),b="derived";else if("sample"in Kd)l=new Ml(l,Kd);else if("impute"in
Kd)wb=l=Kk.makeFromTransform(l,Kd),b="derived";else if("density"in Kd)wb=l=new Il(l,Kd),b="derived";else if("quantile"in Kd)wb=l=new Kl(l,Kd),b="derived";else if("regression"in Kd)wb=l=new Ll(l,Kd),b="derived";else if("loess"in Kd)wb=l=new Jl(l,Kd),b="derived";else{Gb("Ignoring an invalid transform: ".concat(If(Kd),"."));continue}if(wb&&void 0!==b)for(const hg of null!==(ec=wb.producedFields())&&void 0!==ec?ec:[]){var ec;R.set(hg,b,!1)}}}Fb={};if(eg(d)&&d.component.selection)for(Wc of td(d.component.selection)){ec=
d.component.selection[Wc];for(var Oc of ec.project.items)!Oc.channel&&1<ua(Oc.field)&&(Fb[Oc.field]="flatten")}var Wc=Fb;Oc=ej(d);l=null!==(g=uh.makeWithAncestors(l,{},Object.assign({},Wc,Oc),R))&&void 0!==g?g:l;eg(d)&&(l=al.parseAll(l,d),l=tl.parseAll(l,d));if(eg(d)||Eh(d)){var cd;if(!k){var wd;l=null!==(wd=yj.makeFromEncoding(l,d))&&void 0!==wd?wd:l}l=null!==(cd=zj.makeFromEncoding(l,d))&&void 0!==cd?cd:l;l=$k.parseAllForSortIndex(l,d)}cd=d.getDataName(og.Raw);g=new th(l,cd,og.Raw,K);l=B[cd]=g;
if(eg(d)){var Cd,ne;if(cd=fj.makeFromEncoding(l,d))l=cd,Pi(d)&&(l=new rk(l));l=null!==(Cd=Kk.makeFromEncoding(l,d))&&void 0!==Cd?Cd:l;l=null!==(ne=Qj.makeFromEncoding(l,d))&&void 0!==ne?ne:l}if(eg(d)){var of;l=null!==(of=sl.make(l,d))&&void 0!==of?of:l}ne=d.getDataName(og.Main);Cd=new th(l,ne,og.Main,K);l=B[ne]=Cd;eg(d)&&zh(d,Cd);of=null;if(Eh(d)){var fe;ne=d.getName("facet");{of=l;const {row:Kd,column:hg}=d.facet;if(Kd&&hg){cd=null;for(mf of[Kd,hg])if(N(mf.sort)){const {field:rf,op:Ie="min"}=mf.sort;
of=cd=new Jk(of,{joinaggregate:[{op:Ie,field:rf,as:hh(mf,mf.sort,{forAs:!0})}],groupby:[pd(mf)]})}var mf=cd}else mf=null}l=null!==(fe=mf)&&void 0!==fe?fe:l;of=new Ik(l,d,ne,Cd.getSource());B[ne]=of}return Object.assign({},d.component.data,{outputNodes:B,outputNodeRefCounts:K,raw:g,main:Cd,facetRoot:of,ancestorParse:R})}function Hj(d){return Tg.reduce((k,b)=>{d.component.scales[b]&&(k[b]=[vk(b,d)]);return k},{})}function Wi(d,k){if(d){if(d.length!==k.length)return;const b=d.length;for(let g=0;g<b;g++){const l=
d[g],B=k[g];if(!!l!==!!B)return;if(l&&B){const K=l.getWithExplicit("orient"),R=B.getWithExplicit("orient");if(K.explicit&&R.explicit&&K.value!==R.value)return;d[g]=dk(l,B)}}}else return k.map(b=>b.clone());return d}function dk(d,k){for(const b of om){const g=Ef(d.getWithExplicit(b),k.getWithExplicit(b),b,"axis",(l,B)=>{switch(b){case "title":return P(l,B);case "gridScale":return{explicit:l.explicit,value:la(l.value,B.value)}}return Rd(l,B,b,"axis")});d.setWithExplicit(b,g)}return d}function fl(d,
k,b,g,l){if("disable"===k)return void 0!==b;b=b||{};switch(k){case "titleAngle":case "labelAngle":return d===(Cc(b.labelAngle)?b.labelAngle:p(b.labelAngle));case "values":return!!b.values;case "encode":return!!b.encoding||!!b.labelAngle;case "title":if(d===zi(g,l))return!0}return d===b[k]}function vk(d,k){var b,g,l,B,K;let R=k.axis(d);const va=new pm;var Na=M(k.encoding[d]);const {mark:wb,config:Fb}=k;var ec=(null===(b=R)||void 0===b?void 0:b.orient)||(null===(g=Fb["x"===d?"axisX":"axisY"])||void 0===
g?void 0:g.orient)||(null===(l=Fb.axis)||void 0===l?void 0:l.orient)||("x"===d?"bottom":"left");g=k.getScaleComponent(d).get("type");b=Cj(d,g,ec,k.config);l=void 0!==R?!R:bi("disable",Fb.style,null===(B=R)||void 0===B?void 0:B.style,b).configValue;va.set("disable",l,void 0!==R);if(l)return va;R=R||{};B=nk(Na,R,d,Fb.style,b);Na={fieldOrDatumDef:Na,axis:R,channel:d,model:k,scaleType:g,orient:ec,labelAngle:B,mark:wb,config:Fb};for(const Wc of om)if(ec=Wc in qm?qm[Wc](Na):il[Wc]?R[Wc]:void 0,B=void 0!==
ec,g=fl(ec,Wc,R,k,d),B&&g)va.set(Wc,ec,g);else{const {configValue:cd,configFrom:wd}=il[Wc]&&"values"!==Wc?bi(Wc,Fb.style,R.style,b):{};l=void 0!==cd;B&&!l?va.set(Wc,ec,g):("vgAxisConfig"!==wd||pn.has(Wc)&&l||D(cd)||Cc(cd))&&va.set(Wc,cd,!1)}const Oc=null!==(K=R.encoding)&&void 0!==K?K:{};K=Qk.reduce((Wc,cd)=>{var wd;if(!va.hasAxisPart(cd))return Wc;var Cd=ug(null!==(wd=Oc[cd])&&void 0!==wd?wd:{},k);if("labels"===cd){{var ne;const {encoding:of,config:fe}=k;wd=null!==(ne=M(of[d]))&&void 0!==ne?ne:M(of[ta(d)]);
ne=k.axis(d)||{};const {format:mf,formatType:Kd}=ne;Cd=Ac(Kd)?Object.assign({},{text:Je({fieldOrDatumDef:wd,field:"datum.value",format:mf,formatType:Kd,config:fe})},Cd):Cd}}void 0===Cd||S(Cd)||(Wc[cd]={update:Cd});return Wc},{});S(K)||va.set("encode",K,!!R.encoding||void 0!==R.labelAngle);return va}function wk(d,k,b){switch(d){case Ud:case ii:case Ok:case Hf:case qe:case jd:return}const {x:g,y:l,x2:B,y2:K}=k;switch(d){case Lc:if(uc(g)&&(Sc(g.bin)||uc(l)&&l.aggregate&&!g.aggregate))break;if(uc(l)&&
(Sc(l.bin)||uc(g)&&g.aggregate&&!l.aggregate))return"horizontal";if(K||B){if(b)return b;if(!B&&(uc(g)&&"quantitative"===g.type&&!Dc(g.bin)||se(g)))return"horizontal";if(!K&&(uc(l)&&"quantitative"===l.type&&!Dc(l.bin)||se(l)))break}case Ne:if(!(!B||uc(g)&&Sc(g.bin)||!K||uc(l)&&Sc(l.bin)))return;case Vc:if(K){if(uc(l)&&Sc(l.bin))return"horizontal";break}else if(B)if(uc(g)&&Sc(g.bin))break;else return"horizontal";else if(d===Ne)if(g&&!l)break;else if(l&&!g)return"horizontal";case Gd:case lg:k=fd(g);
var R=fd(l);if(k&&!R)return"tick"!==d?"horizontal":"vertical";if(!k&&R)return"tick"!==d?"vertical":"horizontal";if(k&&R){k="temporal"===g.type;R="temporal"===l.type;if(k&&!R)return"tick"!==d?"vertical":"horizontal";if(!k&&R)return"tick"!==d?"horizontal":"vertical";if(!g.aggregate&&l.aggregate)return"tick"!==d?"vertical":"horizontal";if(g.aggregate&&!l.aggregate)return"tick"!==d?"horizontal":"vertical";if(b)return b}else{if(b)return b;return}}return"vertical"}function Xi(d,k){return Object.assign({},
Pg(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),wg("x",d,{defaultPos:"mid"}),wg("y",d,{defaultPos:"mid"}),qg("size",d),qg("angle",d),k?{shape:{value:k}}:qg("shape",d))}function Pk(d,k,b){if(void 0===be("align",d,b))return"center"}function Zj(d,k,b){if(void 0===be("baseline",d,b))return"middle"}function ji(d){var k;const {config:b,markDef:g}=d;var {orient:l}=g;const B="horizontal"===l?"width":"height";d=d.getScaleComponent("horizontal"===l?"x":
"y");l=null!==(k=be("size",g,b,{vgChannel:B}))&&void 0!==k?k:b.tick.bandSize;return void 0!==l?l:(k=d?d.get("range"):void 0)&&xc(k)&&Xa(k.step)?3*k.step/4:3*m(b.view,B)/4}function bk(d){if(La([Gd,Vc,pf],d.mark)){var k=pc(d.mark,d.encoding);if(0<k.length)return ak(d,k)}else if(La([Lc],d.mark)&&(k=e.some(b=>be(b,d.markDef,d.config)),d.stack&&!d.fieldDef("size")&&k))return rg(d);return fh(d)}function ak(d,k){return[{name:d.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+d.requestDataName(og.Main),
data:d.requestDataName(og.Main),groupby:k}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:fh(d,{fromPrefix:"faceted_path_"})}]}function rg(d){const [k]=fh(d,{fromPrefix:"stack_group_"}),b=d.scaleName(d.stack.fieldChannel),g=va=>{va=void 0===va?{}:va;return d.vgField(d.stack.fieldChannel,va)};var l=(va,Na)=>{Na=[g({prefix:"min",suffix:"start",expr:Na}),g({prefix:"max",suffix:"start",expr:Na}),g({prefix:"min",suffix:"end",expr:Na}),g({prefix:"max",suffix:"end",
expr:Na})];return"".concat(va,"(").concat(Na.map(wb=>"scale('".concat(b,"',").concat(wb,")")).join(","),")")};let B;"x"===d.stack.fieldChannel?(l=Object.assign({},Fa(k.encode.update,["y","yc","y2","height",...e]),{x:{signal:l("min","datum")},x2:{signal:l("max","datum")},clip:{value:!0}}),B={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},k.encode.update=Object.assign({},hb(k.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(l=Object.assign({},Fa(k.encode.update,["x",
"xc","x2","width"]),{y:{signal:l("min","datum")},y2:{signal:l("max","datum")},clip:{value:!0}}),B={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},k.encode.update=Object.assign({},hb(k.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var K of e){var R=wf(K,d.markDef,d.config);k.encode.update[K]?(l[K]=k.encode.update[K],delete k.encode.update[K]):R&&(l[K]=Pd(R));R&&(k.encode.update[K]={value:0})}K=d.fieldDef(d.stack.groupbyChannel);R=pd(K)?[pd(K)]:[];((null===K||void 0===
K?0:K.bin)||(null===K||void 0===K?0:K.timeUnit))&&R.push(pd(K,{binSuffix:"end"}));l="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((va,Na)=>{if(k.encode.update[Na])return Object.assign({},va,{[Na]:k.encode.update[Na]});{const wb=wf(Na,d.markDef,d.config);return void 0!==wb?Object.assign({},va,{[Na]:Pd(wb)}):va}},l);l.stroke&&(l.strokeForeground={value:!0},l.strokeOffset={value:0});return[{type:"group",from:{facet:{data:d.requestDataName(og.Main),
name:"stack_group_"+d.requestDataName(og.Main),groupby:R,aggregate:{fields:[g({suffix:"start"}),g({suffix:"start"}),g({suffix:"end"}),g({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:l},marks:[{type:"group",encode:{update:B},marks:[k]}]}]}function xk(d){const {encoding:k,stack:b,mark:g,markDef:l,config:B}=d;var K=k.order;if(!(!te(K)&&le(K)&&bb(K.value)||!K&&bb(be("order",l,B)))){if((te(K)||uc(K))&&!b)return ef(K,{expr:"datum"});if(re(g)){const R="horizontal"===l.orient?"y":"x",va=
k[R];if(uc(va)){K=va.sort;if(te(K))return{field:pd(va,{prefix:R,suffix:"sort_index",expr:"datum"})};if(N(K))return{field:pd({aggregate:ya(d.encoding)?K.op:void 0,field:K.field},{expr:"datum"})};if(K&&K.encoding)return d=d.fieldDef(K.encoding),{field:pd(d,{expr:"datum"}),order:K.order};if(null!==K)return{field:pd(va,{binSuffix:d.stack&&d.stack.impute?"mid":void 0,expr:"datum"})}}}}}function fh(d,k){k=void 0===k?{fromPrefix:""}:k;const {mark:b,markDef:g,encoding:l,config:B}=d;var K=g.clip;var R=d.getScaleComponent("x");
var va=d.getScaleComponent("y");R=R&&R.get("selectionExtent")||va&&va.get("selectionExtent")?!0:void 0;va=(va=d.component.projection)&&!va.isFit?!0:void 0;K=la(K,R,va);R=Sf(g);va=l.key;const Na=xk(d);var wb;if(d.component.selection){for(var Fb=wb=td(d.component.selection).length,ec=d.parent;ec&&0===Fb;)Fb=td(ec.component.selection).length,ec=ec.parent;wb=Fb?{interactive:0<wb||!!d.encoding.tooltip}:null}else wb=null;Fb=be("aria",g,B);ec=vl[b].postEncodingTransform?vl[b].postEncodingTransform(d):null;
return[Object.assign({},{name:d.getName("marks"),type:vl[b].vgMark},K?{clip:!0}:{},R?{style:R}:{},va?{key:va.field}:{},Na?{sort:Na}:{},wb?wb:{},!1===Fb?{aria:Fb}:{},{from:{data:k.fromPrefix+d.requestDataName(og.Main)},encode:{update:vl[b].encodeEntry(d)}},ec?{transform:ec}:{})]}function ki(d,k,b,g,l){if("facet"in d)return new wl(d,k,b,l);if("layer"in d)return new rm(d,k,b,g,l);if(aa(d))return new sm(d,k,b,g,l);if("vconcat"in d||"hconcat"in d||"concat"in d)return new qn(d,k,b,l);throw Error(Pc(d));
}function tg(d,k,b,g){b=void 0===b?{}:b;const l=d.config?Pb(d.config):void 0;b=[].concat(d.assembleSelectionData([]),Bl(d.component.data,b));const B=d.assembleProjections(),K=d.assembleTitle(),R=d.assembleGroupStyle(),va=d.assembleGroupEncodeEntry(!0);let Na=d.assembleLayoutSignals();Na=Na.filter(ec=>"width"!==ec.name&&"height"!==ec.name||void 0===ec.value?!0:(k[ec.name]=+ec.value,!1));var wb=Object.assign({},k);const Fb=k.params;wb=(delete wb.params,wb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},
d.description?{description:d.description}:{},wb,K?{title:K}:{},R?{style:R}:{},va?{encode:{update:va}}:{},{data:b},0<B.length?{projections:B}:{},d.assembleGroup([...Na,...d.assembleSelectionTopLevelSignals([]),...je(Fb)]),l?{config:l}:{},g?{usermeta:g}:{})}const Sg=d=>function(k){return k[d]},Rg=d=>{const k=d.length;return function(b){for(let g=0;g<k;++g)b=b[d[g]];return b}};(function(d,k,b){const g=Wb(d);d=1===g.length?g[0]:d;return ea((b&&b.get||Sa)(g),[d],k||d)})("id");const yk=ea(d=>d,[],"identity");
ea(()=>0,[],"zero");ea(()=>1,[],"one");ea(()=>!0,[],"true");ea(()=>!1,[],"false");var te=Array.isArray;const Jj=Object.prototype.hasOwnProperty;Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function b(k){var g=isNaN(k)?1:Number(k);return g?Array.prototype.reduce.call(this,function(l,B){return Array.isArray(B)?l.push.apply(l,b.call(B,g-1)):l.push(B),l},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||Object.defineProperty(Array.prototype,
"flatMap",{configurable:!0,value:function(k){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var ck=function(k,b){b||(b={});"function"===typeof b&&(b={cmp:b});var g="boolean"===typeof b.cycles?b.cycles:!1,l=b.cmp&&function(K){return function(R){return function(va,Na){return K({key:va,value:R[va]},{key:Na,value:R[Na]})}}}(b.cmp),B=[];return function va(R){R&&R.toJSON&&"function"===typeof R.toJSON&&(R=R.toJSON());if(void 0!==R){if("number"==typeof R)return isFinite(R)?""+R:"null";
if("object"!==typeof R)return JSON.stringify(R);var Na;if(Array.isArray(R)){var wb="[";for(Na=0;Na<R.length;Na++)Na&&(wb+=","),wb+=va(R[Na])||"null";return wb+"]"}if(null===R)return"null";if(-1!==B.indexOf(R)){if(g)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Fb=B.push(R)-1,ec=Object.keys(R).sort(l&&l(R));wb="";for(Na=0;Na<ec.length;Na++){var Oc=ec[Na],Wc=va(R[Oc]);Wc&&(wb&&(wb+=","),wb+=JSON.stringify(Oc)+":"+Wc)}B.splice(Fb,1);return"{"+wb+
"}"}}(k)};const Kj=function l(b,g){if(b===g)return!0;if(b&&g&&"object"==typeof b&&"object"==typeof g){if(b.constructor!==g.constructor)return!1;var B;if(Array.isArray(b)){var K=b.length;if(K!=g.length)return!1;for(B=K;0!==B--;)if(!l(b[B],g[B]))return!1;return!0}if(b.constructor===RegExp)return b.source===g.source&&b.flags===g.flags;if(b.valueOf!==Object.prototype.valueOf)return b.valueOf()===g.valueOf();if(b.toString!==Object.prototype.toString)return b.toString()===g.toString();var R=Object.keys(b);
K=R.length;if(K!==Object.keys(g).length)return!1;for(B=K;0!==B--;)if(!Object.prototype.hasOwnProperty.call(g,R[B]))return!1;for(B=K;0!==B--;)if(K=R[B],!l(b[K],g[K]))return!1;return!0}return b!==b&&g!==g},Ve=function(b,g,l){return l={path:g,exports:{},require:function(B,K){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs");}},b(l,l.exports),l.exports}(function(b){var g=function(){function l(Fb,ec){return null!=ec&&Fb instanceof ec}function B(Fb,ec,Oc,Wc,cd){function wd(fe,
mf){if(null===fe)return null;if(0===mf||"object"!=typeof fe)return fe;if(l(fe,va))var Kd=new va;else if(l(fe,Na))Kd=new Na;else if(l(fe,wb))Kd=new wb(function(zg,Qf){fe.then(function(Fg){zg(wd(Fg,mf-1))},function(Fg){Qf(wd(Fg,mf-1))})});else if(B.__isArray(fe))Kd=[];else if(B.__isRegExp(fe))Kd=new RegExp(fe.source,R(fe)),fe.lastIndex&&(Kd.lastIndex=fe.lastIndex);else if(B.__isDate(fe))Kd=new Date(fe.getTime());else{if(of&&n.isBuffer(fe))return Kd=n.allocUnsafe?n.allocUnsafe(fe.length):new n(fe.length),
fe.copy(Kd),Kd;if(l(fe,Error))Kd=Object.create(fe);else if("undefined"==typeof Wc){var hg=Object.getPrototypeOf(fe);Kd=Object.create(hg)}else Kd=Object.create(Wc),hg=Wc}if(ec){var rf=Cd.indexOf(fe);if(-1!=rf)return ne[rf];Cd.push(fe);ne.push(Kd)}l(fe,va)&&fe.forEach(function(zg,Qf){Qf=wd(Qf,mf-1);zg=wd(zg,mf-1);Kd.set(Qf,zg)});l(fe,Na)&&fe.forEach(function(zg){zg=wd(zg,mf-1);Kd.add(zg)});for(var Ie in fe){var dg;hg&&(dg=Object.getOwnPropertyDescriptor(hg,Ie));dg&&null==dg.set||(Kd[Ie]=wd(fe[Ie],mf-
1))}if(Object.getOwnPropertySymbols)for(rf=Object.getOwnPropertySymbols(fe),Ie=0;Ie<rf.length;Ie++)if(dg=rf[Ie],hg=Object.getOwnPropertyDescriptor(fe,dg),!hg||hg.enumerable||cd)Kd[dg]=wd(fe[dg],mf-1),hg.enumerable||Object.defineProperty(Kd,dg,{enumerable:!1});if(cd)for(rf=Object.getOwnPropertyNames(fe),Ie=0;Ie<rf.length;Ie++)dg=rf[Ie],hg=Object.getOwnPropertyDescriptor(fe,dg),hg&&hg.enumerable||(Kd[dg]=wd(fe[dg],mf-1),Object.defineProperty(Kd,dg,{enumerable:!1}));return Kd}"object"===typeof ec&&(Oc=
ec.depth,Wc=ec.prototype,cd=ec.includeNonEnumerable,ec=ec.circular);var Cd=[],ne=[],of="undefined"!=typeof n;"undefined"==typeof ec&&(ec=!0);"undefined"==typeof Oc&&(Oc=Infinity);return wd(Fb,Oc)}function K(Fb){return Object.prototype.toString.call(Fb)}function R(Fb){var ec="";Fb.global&&(ec+="g");Fb.ignoreCase&&(ec+="i");Fb.multiline&&(ec+="m");return ec}try{var va=Map}catch(Fb){va=function(){}}try{var Na=Set}catch(Fb){Na=function(){}}try{var wb=Promise}catch(Fb){wb=function(){}}B.clonePrototype=
function(Fb){if(null===Fb)return null;var ec=function(){};ec.prototype=Fb;return new ec};B.__objToStr=K;B.__isDate=function(Fb){return"object"===typeof Fb&&"[object Date]"===K(Fb)};B.__isArray=function(Fb){return"object"===typeof Fb&&"[object Array]"===K(Fb)};B.__isRegExp=function(Fb){return"object"===typeof Fb&&"[object RegExp]"===K(Fb)};B.__getRegExpFlags=R;return B}();b.exports&&(b.exports=g)});Set.prototype.toJSON=function(){return"Set(".concat([...this].map(b=>ck(b)).join(","),")")};const If=
ck,td=Object.keys,Fi=Object.values,dh=Object.entries;let zk=42;const gl={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},
gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Qk=["domain","grid","labels","ticks","title"],Al={grid:"grid",gridCap:"grid",
gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",
labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"main",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",
titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},hl={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,
domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,
tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},il=Object.assign({},hl,{style:1,labelExpr:1,encoding:1}),jl=td({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,
axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1}),Cl={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Ek={count:1,min:1,max:1},ll=["count","valid","missing","distinct"],Ig=["count","sum","distinct","valid","missing"],
Sk=Za("mean average median q1 q3 min max".split(" ")),qh={theta:1,theta2:1,radius:1,radius2:1},Fh={longitude:1,longitude2:1,latitude:1,latitude2:1},rj=td(Fh),fk=Object.assign({},{x:1,y:1,x2:1,y2:1},qh,Fh,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Tk={row:1,column:1,facet:1},Yg=td(Tk),sj=Object.assign({},fk,Tk),Uk=td(sj);var $e=Object.assign({},sj),oh=(delete $e.order,
delete $e.detail,delete $e.tooltip,$e),gf=Object.assign({},oh);const gh=(delete gf.row,delete gf.column,delete gf.facet,gf),Hg="x2 y2 latitude2 longitude2 theta2 radius2".split(" ");var Ug=Object.assign({},fk);const $h=(delete Ug.x,delete Ug.y,delete Ug.x2,delete Ug.y2,delete Ug.latitude,delete Ug.longitude,delete Ug.latitude2,delete Ug.longitude2,delete Ug.theta,delete Ug.theta2,delete Ug.radius,delete Ug.radius2,Ug),gk=td($h),xg={x:1,y:1},Tg=td(xg),Mj={theta:1,radius:1},Rk=td(Mj);var li=Object.assign({},
$h);const ue=(delete li.text,delete li.tooltip,delete li.href,delete li.url,delete li.description,delete li.detail,delete li.key,delete li.order,li),Bk=td(ue),Yh=Object.assign({},xg,Mj,ue),Zh=td(Yh),hk={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Nj=Object.assign({},hk);const ik=(delete Nj.geoshape,Nj),$i=function(b,g){let l=b||0;return{level(B){return arguments.length?
(l=+B,this):l},error(){1<=l&&fb(g||"error","ERROR",arguments);return this},warn(){2<=l&&fb(g||"warn","WARN",arguments);return this},info(){3<=l&&fb(g||"log","INFO",arguments);return this},debug(){4<=l&&fb(g||"log","DEBUG",arguments);return this}}}(2);let Zi=$i;const Dk="january february march april may june july august september october november december".split(" "),Ck=Dk.map(b=>b.substr(0,3)),kl="sunday monday tuesday wednesday thursday friday saturday".split(" "),Vk=kl.map(b=>b.substr(0,3)),Ak=
{year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Lk=td(Ak),bl={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},yl=td({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,
orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1}),Dl={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},e=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft",
"cornerRadiusBottomRight"],h={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},A={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",
band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},da={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Ba="linear log pow sqrt symlog time utc".split(" "),yb=Za(Ba),Jb=Za(["linear","log","pow","sqrt","symlog"]),ic=Za(["quantile","quantize","threshold"]),dd=Ba.concat(["quantile","quantize","threshold","sequential","identity"]),Zc=Za(dd),Qd=Za(["ordinal",
"bin-ordinal","point","band"]);var Zd=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const Df=(delete Zd.type,delete Zd.domain,delete Zd.range,delete Zd.rangeMax,delete Zd.rangeMin,delete Zd.scheme,Zd),Rf=td(Df),fg={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",
rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Gg=fg.arc,Vc=fg.area,Lc=fg.bar,jd=fg.image,Gd=fg.line,Ud=fg.point,qe=fg.rect,Ne=fg.rule,Hf=fg.text,lg=fg.tick,pf=fg.trail,ii=fg.circle,Ok=fg.square,nm=fg.geoshape,tm=td(fg);Za(tm);const rn="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),am=td({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBand:1,timeUnitBandPosition:1}),
Zl=td({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),sn={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},Tl={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},um=(b,g)=>{switch(g.fieldTitle){case "plain":return b.field;case "functional":{const {aggregate:l,bin:B,timeUnit:K,field:R}=b;H(l)?b="".concat(R,
" for argmax(").concat(l.argmax,")"):E(l)?b="".concat(R," for argmin(").concat(l.argmin,")"):(b=Hb(K),b=(b=l||(null===b||void 0===b?void 0:b.unit)||(null===b||void 0===b?void 0:b.maxbins)&&"timeunit"||Dc(B)&&"bin")?b.toUpperCase()+"("+R+")":R)}return b;default:return Le(b,g)}};let Wk=um;const pk={compatible:!0};class pl{constructor(b,g){this.name=b;this.run=g}hasMatchingType(b){return aa(b)?(b=b.mark,(Ad(b)?b.type:b)===this.name):!1}}const tn=new pl("boxplot",zc),un=new pl("errorbar",Rc),vn=new pl("errorband",
bd),Wl={};Sd("boxplot",zc,["box","median","outliers","rule","ticks"]);Sd("errorbar",Rc,["ticks","rule"]);Sd("errorband",bd,["band","borders"]);const Fm=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],em={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",
titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},fm={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Xm=td(em),Ym=td(fm),$l=td({header:1,headerRow:1,headerColumn:1,headerFacet:1}),gm="size shape fill stroke strokeDash strokeWidth opacity".split(" "),
Am=["background","padding"],Bm=td({align:1,bounds:1,center:1,columns:1,spacing:1}),Cm={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBand:1},arc:{},area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},
text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,
gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{single:{on:"click",fields:["_vgsid_"],resolve:"global",empty:"all",clear:"dblclick"},multi:{on:"click",fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",empty:"all",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",
zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20}},Aj="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),Yl={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},Xl={blue:Aj[0],orange:Aj[1],red:Aj[2],teal:Aj[3],green:Aj[4],yellow:Aj[5],purple:Aj[6],pink:Aj[7],brown:Aj[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",
gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},Dm=[...Zl,...jl,...$l,"background","padding","legend","lineBreak","scale","style","title","view"],Gm=["view",...tm],Em="color fontSize background padding facet concat numberFormat timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),
Hm=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class wn{map(b,g){return"facet"in b?this.mapFacet(b,g):"repeat"in b?this.mapRepeat(b,g):"hconcat"in b?this.mapHConcat(b,g):"vconcat"in b?this.mapVConcat(b,g):"concat"in b?this.mapConcat(b,g):this.mapLayerOrUnit(b,
g)}mapLayerOrUnit(b,g){if("layer"in b)return this.mapLayer(b,g);if(aa(b))return this.mapUnit(b,g);throw Error(Pc(b));}mapLayer(b,g){return Object.assign({},b,{layer:b.layer.map(l=>this.mapLayerOrUnit(l,g))})}mapHConcat(b,g){return Object.assign({},b,{hconcat:b.hconcat.map(l=>this.map(l,g))})}mapVConcat(b,g){return Object.assign({},b,{vconcat:b.vconcat.map(l=>this.map(l,g))})}mapConcat(b,g){var l=Object.assign({},b);b=b.concat;l=(delete l.concat,l);return Object.assign({},l,{concat:b.map(B=>this.map(B,
g))})}mapFacet(b,g){return Object.assign({},b,{spec:this.map(b.spec,g)})}mapRepeat(b,g){return Object.assign({},b,{spec:this.map(b.spec,g)})}}const Km={zero:1,center:1,normalize:1},Im=new Set([Gg,Lc,Vc,Ne,Ud,ii,Ok,Gd,Hf,lg]),Jm=new Set([Lc,Vc,Gg]);class xn{constructor(){lc(this,"name","path-overlay")}hasMatchingType(b,g){if(aa(b)){const {mark:l,encoding:B}=b;b=Ad(l)?l:{type:l};switch(b.type){case "line":case "rule":case "trail":return!!ie(b,g[b.type],B);case "area":return!!ie(b,g[b.type],B)||!!$d(b,
g[b.type])}}return!1}run(b,g,l){const {config:B}=g;var K=Object.assign({},b),R=b.selection;const va=b.projection;var Na=b.mark;b=b.encoding;K=(delete K.selection,delete K.projection,delete K.mark,delete K.encoding,K);b=pb(b,B);Na=Ad(Na)?Na:{type:Na};const wb=ie(Na,B[Na.type],b),Fb="area"===Na.type&&$d(Na,B[Na.type]);R=[Object.assign({},R?{selection:R}:{},{mark:hd(Object.assign({},"area"===Na.type&&void 0===Na.opacity&&void 0===Na.fillOpacity?{opacity:.7}:{},Na)),encoding:hb(b,["shape"])})];const ec=
vc(Na,b);let Oc=b;if(ec){const {fieldChannel:Wc,offset:cd}=ec;Oc=Object.assign({},b,{[Wc]:Object.assign({},b[Wc],cd?{stack:cd}:{})})}Fb&&R.push(Object.assign({},va?{projection:va}:{},{mark:Object.assign({},{type:"line"},Fa(Na,["clip","interpolate","tension","tooltip"]),Fb),encoding:Oc}));wb&&R.push(Object.assign({},va?{projection:va}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},Fa(Na,["clip","tooltip"]),wb),encoding:Oc}));return l(Object.assign({},K,{layer:R}),Object.assign({},g,{config:nd(B)}))}}
class yn{constructor(){lc(this,"name","RangeStep")}hasMatchingType(b){if(aa(b)&&b.encoding)for(const l of Tg){const B=b.encoding[l];if(B&&xd(B)){var g;if(null===B||void 0===B?0:null===(g=B.scale)||void 0===g?0:g.rangeStep)return!0}}return!1}run(b){const g={};let l=Object.assign({},b.encoding);for(const Na of Tg){const wb=eb(Na);var B=l[Na];if(B&&xd(B)){var K;if(null===B||void 0===B?0:null===(K=B.scale)||void 0===K?0:K.rangeStep){var R=Object.assign({},B);B=B.scale;R=(delete R.scale,R);var va=Object.assign({},
B);va=(delete va.rangeStep,va);g[wb]={step:B.rangeStep};Gb('Scale\'s "rangeStep" is deprecated and will be removed in Vega-Lite 5.0. Please use "width"/"height": {"step": ...} instead. See https://vega.github.io/vega-lite/docs/size.html.');l=Object.assign({},l,{[Na]:Object.assign({},R,S(va)?{}:{scale:va})})}}}return Object.assign({},g,b,{encoding:l})}}class zn{constructor(){lc(this,"name","RuleForRangedLine")}hasMatchingType(b){if(aa(b)){const {encoding:g,mark:l}=b;if("line"===l)for(const B of Hg)if(b=
Ja(B),b=g[b],g[B]&&(uc(b)&&!Sc(b.bin)||id(b)))return!0}return!1}run(b,g,l){var {encoding:B}=b,K=!!B.x2;B="Line mark is for continuous lines and thus cannot be used with ".concat(K&&B.y2?"x2 and y2":K?"x2":"y2",". We will use the rule mark (line segments) instead.");Gb(B);return l(Object.assign({},b,{mark:"rule"}),g)}}class An extends wn{constructor(...b){super(...b);lc(this,"nonFacetUnitNormalizers",[tn,un,vn,new xn,new zn,new yn])}map(b,g){if(aa(b)){const l=ja(b.encoding,"row"),B=ja(b.encoding,"column"),
K=ja(b.encoding,"facet");if(l||B||K)return this.mapFacetedUnit(b,g)}return super.map(b,g)}mapUnit(b,g){const {parentEncoding:l,parentProjection:B}=g;var K=Vd(b.encoding,g.repeater);b=Object.assign({},b,K?{encoding:K}:{});if(l||B)return this.mapUnitWithParentEncodingOrProjection(b,g);K=this.mapLayerOrUnit.bind(this);for(const R of this.nonFacetUnitNormalizers)if(R.hasMatchingType(b,g.config))return R.run(b,g,K);return b}mapRepeat(b,g){return!te(b.repeat)&&b.repeat.layer?this.mapLayerRepeat(b,g):this.mapNonLayerRepeat(b,
g)}mapLayerRepeat(b,g){var l=Object.assign({},b);const B=b.repeat,K=b.spec;l=(delete l.repeat,delete l.spec,l);const {row:R,column:va,layer:Na}=B,{repeater:wb={},repeaterPrefix:Fb=""}=g;return R||va?this.mapRepeat(Object.assign({},b,{repeat:Object.assign({},R?{row:R}:{},va?{column:va}:{}),spec:{repeat:{layer:Na},spec:K}}),g):Object.assign({},l,{layer:Na.map(ec=>{var Oc=Object.assign({},wb,{layer:ec});ec=(K.name||"")+Fb+"child__layer_".concat(I(ec));Oc=this.mapLayerOrUnit(K,Object.assign({},g,{repeater:Oc,
repeaterPrefix:ec}));Oc.name=ec;return Oc})})}mapNonLayerRepeat(b,g){var l,B=b,K=Object.assign({},B);const R=B.repeat,va=B.spec;B=B.data;K=(delete K.repeat,delete K.spec,delete K.data,K);!te(R)&&b.columns&&(b=hb(b,["columns"]),Gb(sd("repeat")));const Na=[],{repeater:wb={},repeaterPrefix:Fb=""}=g,ec=!te(R)&&R.row||[wb?wb.row:null],Oc=!te(R)&&R.column||[wb?wb.column:null];var Wc=te(R)&&R||[wb?wb.repeat:null];for(const wd of Wc)for(const Cd of ec)for(const ne of Oc){var cd={repeat:wd,row:Cd,column:ne,
layer:wb.layer};Wc=(va.name||"")+Fb+"child__"+(te(R)?"".concat(I(wd)):(R.row?"row_".concat(I(Cd)):"")+(R.column?"column_".concat(I(ne)):""));cd=this.map(va,Object.assign({},g,{repeater:cd,repeaterPrefix:Wc}));cd.name=Wc;Na.push(hb(cd,["data"]))}b=te(R)?b.columns:R.column?R.column.length:1;return Object.assign({},{data:null!==(l=va.data)&&void 0!==l?l:B,align:"all"},K,{columns:b,concat:Na})}mapFacet(b,g){const {facet:l}=b;wa(l)&&b.columns&&(b=hb(b,["columns"]),Gb(sd("facet")));return super.mapFacet(b,
g)}mapUnitWithParentEncodingOrProjection(b,g){const {encoding:l,projection:B}=b,{parentEncoding:K,parentProjection:R,config:va}=g,Na=Xe({parentProjection:R,projection:B});g=ke({parentEncoding:K,encoding:Vd(l,g.repeater)});return this.mapUnit(Object.assign({},b,Na?{projection:Na}:{},g?{encoding:g}:{}),{config:va})}mapFacetedUnit(b,g){var l=b.encoding,B=Object.assign({},l),K=l.row;const R=l.column;l=l.facet;const va=(delete B.row,delete B.column,delete B.facet,B);var Na=Object.assign({},b);B=b.mark;
const wb=b.width,Fb=b.projection,ec=b.height,Oc=b.view;b=b.selection;Na=(delete Na.mark,delete Na.width,delete Na.projection,delete Na.height,delete Na.view,delete Na.selection,delete Na.encoding,Na);const {facetMapping:Wc,layout:cd}=this.getFacetMappingAndLayout({row:K,column:R,facet:l},g);K=Vd(va,g.repeater);return this.mapFacet(Object.assign({},Na,cd,{facet:Wc,spec:Object.assign({},wb?{width:wb}:{},ec?{height:ec}:{},Oc?{view:Oc}:{},Fb?{projection:Fb}:{},{mark:B,encoding:K},b?{selection:b}:{})}),
g)}getFacetMappingAndLayout(b,g){const {row:l,column:B,facet:K}=b;if(l||B){K&&(g=[...l?["row"]:[],...B?["column"]:[]],g="Facet encoding dropped as ".concat(g.join(" and ")," ").concat(1<g.length?"are":"is"," also specified."),Gb(g));g={};var R={};for(var va of["row","column"]){const ec=b[va];if(ec){var Na=Object.assign({},ec);Na=(delete Na.align,delete Na.center,delete Na.spacing,delete Na.columns,Na);g[va]=Na;for(var wb of["align","center","spacing"])if(void 0!==ec[wb]){var Fb;R[wb]=null!==(Fb=R[wb])&&
void 0!==Fb?Fb:{};R[wb][va]=ec[wb]}}}return{facetMapping:g,layout:R}}R=Object.assign({},K);b=K.align;Fb=K.center;va=K.spacing;wb=K.columns;R=(delete R.align,delete R.center,delete R.spacing,delete R.columns,R);g=(g=g.repeater)?wa(R)?qf(R,g):md(R,g):R;return{facetMapping:g,layout:Object.assign({},b?{align:b}:{},Fb?{center:Fb}:{},va?{spacing:va}:{},wb?{columns:wb}:{})}}mapLayer(b,g){var l=Object.assign({},g),B=g.parentEncoding;g=g.parentProjection;l=(delete l.parentEncoding,delete l.parentProjection,
l);var K=Object.assign({},b);const R=b.encoding;b=b.projection;K=(delete K.encoding,delete K.projection,K);B=Object.assign({},l,{parentEncoding:ke({parentEncoding:B,encoding:R,layer:!0}),parentProjection:Xe({parentProjection:g,projection:b})});return super.mapLayer(K,B)}}const Lm=new An;class Rj{constructor(b,g){b=void 0===b?{}:b;g=void 0===g?{}:g;this.explicit=b;this.implicit=g}clone(){return new Rj(Ve(this.explicit),Ve(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(b){return la(this.explicit[b],
this.implicit[b])}getWithExplicit(b){return void 0!==this.explicit[b]?{explicit:!0,value:this.explicit[b]}:void 0!==this.implicit[b]?{explicit:!1,value:this.implicit[b]}:{explicit:!1,value:void 0}}setWithExplicit(b,g){void 0!==g.value&&this.set(b,g.value,g.explicit)}set(b,g,l){delete this[l?"implicit":"explicit"][b];this[l?"explicit":"implicit"][b]=g;return this}copyKeyFromSplit(b,g){void 0!==g.explicit[b]?this.set(b,g.explicit[b],!0):void 0!==g.implicit[b]&&this.set(b,g.implicit[b],!1)}copyKeyFromObject(b,
g){void 0!==g[b]&&this.set(b,g[b],!0)}copyAll(b){for(const g of td(b.combine())){const l=b.getWithExplicit(g);this.setWithExplicit(g,l)}}}class on extends Rj{constructor(b,g,l){b=void 0===b?{}:b;g=void 0===g?{}:g;l=void 0===l?!1:l;super(b,g);this.explicit=b;this.implicit=g;this.parseNothing=l}clone(){const b=super.clone();b.parseNothing=this.parseNothing;return b}}let og;(function(b){b[b.Raw=0]="Raw";b[b.Main=1]="Main";b[b.Row=2]="Row";b[b.Column=3]="Column";b[b.Lookup=4]="Lookup"})(og||(og={}));
const Nm=/[[\]{}]/,Mm={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let bm,cm;const Om={left:"x",center:"xc",right:"x2"},Pm={top:"y",middle:"yc",bottom:"y2"},Qm=new Set(["aria"]),vm={has:b=>"interval"!==b.type&&b.nearest,parse:(b,g)=>{if(g.events)for(const l of g.events)l.markname=b.getName("voronoi")},marks:(b,g,l)=>{const {x:B,y:K}=g.project.hasChannel;g=b.mark;if(re(g))return Gb('The "nearest" transform is not supported for '.concat(g," marks.")),
l;g={name:b.getName("voronoi"),type:"path",interactive:!0,from:{data:b.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Lj(b,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:B||!K?"datum.datum.x || 0":"0"},y:{expr:K||!B?"datum.datum.y || 0":"0"},size:[b.getSizeSignalRef("width"),b.getSizeSignalRef("height")]}]};let R=0,va=!1;l.forEach((Na,wb)=>{var Fb;Na=null!==(Fb=Na.name)&&void 0!==Fb?
Fb:"";Na===b.component.mark[0].name?R=wb:0<=Na.indexOf("voronoi")&&(va=!0)});va||l.splice(R+1,0,g);return l}};class ig{constructor(b,g){this.debugName=g;lc(this,"_children",[]);lc(this,"_parent",null);lc(this,"_hash",void 0);b&&(this.parent=b)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(b){(this._parent=b)&&b.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(b,g){-1<this._children.indexOf(b)?Gb("Attempt to add the same child twice."):
void 0!==g?this._children.splice(g,0,b):this._children.push(b)}removeChild(b){b=this._children.indexOf(b);this._children.splice(b,1);return b}remove(){let b=this._parent.removeChild(this);for(const g of this._children)g._parent=this._parent,this._parent.addChild(g,b++)}insertAsParentOf(b){const g=b.parent;g.removeChild(this);this.parent=g;b.parent=this}swapWithParent(){const b=this._parent,g=b.parent;for(const l of this._children)l.parent=b;this._children=[];b.removeChild(this);b.parent.removeChild(b);
this.parent=g;b.parent=this}}class th extends ig{clone(){const b=new this.constructor;b.debugName="clone_"+this.debugName;b._source=this._source;b._name="clone_"+this._name;b.type=this.type;b.refCounts=this.refCounts;b.refCounts[b._name]=0;return b}constructor(b,g,l,B){super(b,g);this.type=l;this.refCounts=B;lc(this,"_source",void 0);lc(this,"_name",void 0);this._source=this._name=g;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===
this._hash&&(this._hash="Output ".concat(T()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(b){this._source=b}}class zj extends ig{clone(){return new zj(null,Ve(this.formula))}constructor(b,g){super(b);this.formula=g}static makeFromEncoding(b,g){const l=g.reduceFieldDef((B,K,R)=>{const {field:va,timeUnit:Na}=K,wb=eg(g)?g.encoding[ta(R)]:void 0;R=eg(g)&&Vb(R,K,wb,g.stack,g.markDef,g.config);Na&&(K=pd(K,{forAs:!0}),
B[Ca({as:K,field:va,timeUnit:Na})]=Object.assign({},{as:K,field:va,timeUnit:Na},R?{band:!0}:{}));return B},{});return S(l)?null:new zj(b,l)}static makeFromTransform(b,g){var l=Object.assign({},g);g=Object.assign({},l);l=l.timeUnit;g=(delete g.timeUnit,g);l=Hb(l);g=Object.assign({},g,{timeUnit:l});return new zj(b,{[Ca(g)]:g})}merge(b){this.formula=Object.assign({},this.formula);for(const g in b.formula)if(!this.formula[g]||b.formula[g].band)this.formula[g]=b.formula[g];for(const g of b.children)b.removeChild(g),
g.parent=this;b.remove()}removeFormulas(b){const g={};for(const l of dh(this.formula)){const [B,K]=l;b.has(K.as)||(g[B]=K)}this.formula=g}producedFields(){return new Set(Fi(this.formula).map(b=>b.as))}dependentFields(){return new Set(Fi(this.formula).map(b=>b.field))}hash(){return"TimeUnit ".concat(Ca(this.formula))}assemble(){const b=[];for(const B of Fi(this.formula)){const {field:K,as:R,timeUnit:va}=B;var g=Hb(va),l=Object.assign({},g);const Na=g.unit;g=g.utc;l=(delete l.unit,delete l.utc,l);b.push(Object.assign({},
{field:Ua(K),type:"timeunit"},Na?{units:tc(Na)}:{},g?{timezone:"utc"}:{},l,{as:[R,"".concat(R,"_end")]}))}return b}}class Bn{constructor(...b){lc(this,"hasChannel",void 0);lc(this,"hasField",void 0);lc(this,"timeUnit",void 0);lc(this,"items",void 0);this.items=b;this.hasChannel={};this.hasField={}}}const wm={has:b=>"single"===b.type&&"global"===b.resolve&&b.bind&&"scales"!==b.bind&&!We(b.bind),parse:(b,g,l,B)=>{B.on||delete g.events;B.clear||delete g.clear},topLevelSignals:(b,g,l)=>{const B=g.name;
b=g.project;const K=g.bind,R=g.init&&g.init[0],va=vm.has(g)?"(item().isVoronoi ? datum.datum : datum)":"datum";b.items.forEach((Na,wb)=>{const Fb=I("".concat(B,"_").concat(Na.field));if(!l.filter(Wc=>Wc.name===Fb).length){var ec,Oc;l.unshift(Object.assign({},{name:Fb},R?{init:ci(R[wb])}:{value:null},{on:g.events?[{events:g.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(va,"[").concat(Ia(Na.field),"] : null")}]:[],bind:null!==(ec=null!==(Oc=K[Na.field])&&void 0!==Oc?
Oc:K[Na.channel])&&void 0!==ec?ec:K}))}});return l},signals:(b,g,l)=>{const B=g.name;var K=g.project;b=l.filter(va=>va.name===B+"_tuple")[0];g=B+"_tuple_fields";K=K.items.map(va=>I("".concat(B,"_").concat(va.field)));const R=K.map(va=>"".concat(va," !\x3d\x3d null")).join(" \x26\x26 ");K.length&&(b.update="".concat(R," ? {fields: ").concat(g,", values: [").concat(K.join(", "),"]} : null"));delete b.value;delete b.on;return l}},xm={has:b=>"multi"===b.type&&!!b.toggle,signals:(b,g,l)=>l.concat({name:g.name+
"_toggle",value:!1,on:[{events:g.events,update:g.toggle}]}),modifyExpr:(b,g)=>{const l=g.name+"_tuple",B=g.name+"_toggle";return"".concat(B," ? null : ").concat(l,", ")+("global"===g.resolve?"".concat(B," ? null : true, "):"".concat(B," ? null : {unit: ").concat(jg(b),"}, "))+"".concat(B," ? ").concat(l," : null")}},Pj={has:b=>"interval"===b.type&&"global"===b.resolve&&b.bind&&"scales"===b.bind,parse:(b,g)=>{const l=g.scales=[];for(const K of g.project.items){var B=K.channel;if(!Yh[B])continue;const R=
(B=b.getScaleComponent(B))?B.get("type"):void 0;B&&R in Zc?(B.set("selectionExtent",{selection:g.name,field:K.field},!0),l.push(K)):Gb("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(b,g,l)=>{const B=g.scales.filter(R=>0===l.filter(va=>va.name===R.signals.data).length);if(!b.parent||vh(b)||0===B.length)return l;b=l.filter(R=>R.name===g.name)[0];let K=b.update;if(0<=K.indexOf("vlSelectionResolve"))b.update="{".concat(B.map(R=>"".concat(Ia(R.field),
": ").concat(R.signals.data)).join(", "),"}");else{for(const R of B){const va="".concat(Ia(R.field),": ").concat(R.signals.data);0>K.indexOf(va)&&(K="".concat(K.substring(0,K.length-1),", ").concat(va,"}"))}b.update=K}return l.concat(B.map(R=>({name:R.signals.data})))},signals:(b,g,l)=>{if(b.parent&&!vh(b))for(const B of g.scales)b=l.filter(K=>K.name===B.signals.data)[0],b.push="outer",delete b.value,delete b.update;return l}},dm={has:b=>{const g="global"===b.resolve&&b.bind&&We(b.bind);b=1===b.project.items.length&&
"_vgsid_"!==b.project.items[0].field;g&&!b&&Gb("Legend bindings are only supported for selections over an individual field or encoding channel.");return g&&b},parse:(b,g,l,B)=>{B.on||delete g.events;B.clear||delete g.clear;if(B.on||B.clear)for(const R of g.events){var K;R.filter=ob(null!==(K=R.filter)&&void 0!==K?K:[]);0>R.filter.indexOf('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')&&R.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}b=pa(g.bind)?
g.bind.legend:"click";b=Ha(b)?Hi(b,"view"):ob(b);g.bind={legend:{merge:b}}},topLevelSignals:(b,g,l)=>{b=g.name;const B=pa(g.bind)&&g.bind.legend,K=va=>Na=>{Na=Ve(Na);Na.markname=va;return Na};for(const va of g.project.items){if(!va.hasLegend)continue;var R="".concat(I(va.field),"_legend");const Na="".concat(b,"_").concat(R);0===l.filter(wb=>wb.name===Na).length&&(R=B.merge.map(K("".concat(R,"_symbols"))).concat(B.merge.map(K("".concat(R,"_labels")))).concat(B.merge.map(K("".concat(R,"_entries")))),
l.unshift(Object.assign({},{name:Na},g.init?{}:{value:null},{on:[{events:R,update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:B.merge,update:"!event.item || !datum ? null : ".concat(Na),force:!0}]})))}return l},signals:(b,g,l)=>{const B=g.name;var K=g.project;b=l.find(Na=>Na.name===B+"_tuple");var R=B+"_tuple_fields";K=K.items.filter(Na=>Na.hasLegend).map(Na=>I("".concat(B,"_").concat(I(Na.field),"_legend")));const va=K.map(Na=>"".concat(Na," !\x3d\x3d null")).join(" \x26\x26 ");
R="".concat(va," ? {fields: ").concat(R,", values: [").concat(K.join(", "),"]} : null");g.events&&0<K.length?b.on.push({events:K.map(Na=>({signal:Na})),update:R}):0<K.length&&(b.update=R,delete b.value,delete b.on);b=l.find(Na=>Na.name===B+"_toggle");R=pa(g.bind)&&g.bind.legend;b&&(g.events?b.on.push(Object.assign({},b.on[0],{events:R})):b.on[0].events=R);return l}},Rm=[{has:()=>!0,parse:(b,g,l)=>{var B;const K=g.name,R=null!==(B=g.project)&&void 0!==B?B:g.project=new Bn,va={};B={};const Na=new Set,
wb=(Wc,cd)=>{Wc="visual"===cd?Wc.channel:Wc.field;let wd=I("".concat(K,"_").concat(Wc));for(let Cd=1;Na.has(wd);Cd++)wd=I("".concat(K,"_").concat(Wc,"_").concat(Cd));Na.add(wd);return{[cd]:wd}};if(!l.fields&&!l.encodings){const Wc=b.config.selection[l.type];if(l.init)for(const cd of ob(l.init))for(const wd of td(cd))gh[wd]?(l.encodings||(l.encodings=[])).push(wd):"interval"===l.type?(Gb('Interval selections should be initialized using "x" and/or "y" keys.'),l.encodings=Wc.encodings):(l.fields||(l.fields=
[])).push(wd);else l.encodings=Wc.encodings,l.fields=Wc.fields}for(var Fb of null!==(ec=l.fields)&&void 0!==ec?ec:[]){var ec;ec={type:"E",field:Fb};ec.signals=Object.assign({},wb(ec,"data"));R.items.push(ec);R.hasField[Fb]=ec}for(const Wc of null!==(Oc=l.encodings)&&void 0!==Oc?Oc:[]){var Oc;(Fb=b.fieldDef(Wc))?(Oc=Fb.field,Fb.aggregate?Gb(we(Wc,Fb.aggregate)):Oc?(Fb.timeUnit&&(Oc=b.vgField(Wc),ec={timeUnit:Fb.timeUnit,as:Oc,field:Fb.field},B[Ca(ec)]=ec),va[Oc]||(ec="E","interval"===g.type?b.getScaleComponent(Wc).get("type")in
Zc&&(ec="R"):Fb.bin&&(ec="R-RE"),Fb={field:Oc,channel:Wc,type:ec},Fb.signals=Object.assign({},wb(Fb,"data"),wb(Fb,"visual")),R.items.push(va[Oc]=Fb),R.hasField[Oc]=R.hasChannel[Wc]=va[Oc])):Gb(Dd(Wc))):Gb(Dd(Wc))}l.init&&(b=Wc=>R.items.map(cd=>void 0!==Wc[cd.channel]?Wc[cd.channel]:Wc[cd.field]),"interval"===l.type?g.init=b(l.init):(l=ob(l.init),g.init=l.map(b)));S(B)||(R.timeUnit=new zj(null,B))},signals:(b,g,l)=>{const B=g.name+"_tuple_fields";return 0<l.filter(K=>K.name===B).length?l:l.concat({name:B,
value:g.project.items.map(K=>{K=Object.assign({},K);K=(delete K.signals,delete K.hasLegend,K);K.field=Ua(K.field);return K})})}},xm,Pj,dm,{has:b=>"interval"===b.type&&b.translate,signals:(b,g,l)=>{const B=g.name,K=Pj.has(g),R=B+"_translate_anchor",{x:va,y:Na}=g.project.hasChannel;let wb=Hi(g.translate,"scope");K||(wb=wb.map(Fb=>(Fb.between[0].markname=B+"_brush",Fb)));l.push({name:R,value:{},on:[{events:wb.map(Fb=>Fb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==va?", extent_x: "+(K?Mi(b,
"x"):"slice(".concat(va.signals.visual,")")):"")+(void 0!==Na?", extent_y: "+(K?Mi(b,"y"):"slice(".concat(Na.signals.visual,")")):"")+"}"}]},{name:B+"_translate_delta",value:{},on:[{events:wb,update:"{x: ".concat(R,".x - x(unit), y: ").concat(R,".y - y(unit)}")}]});void 0!==va&&Sj(b,g,va,"width",l);void 0!==Na&&Sj(b,g,Na,"height",l);return l}},{has:b=>"interval"===b.type&&b.zoom,signals:(b,g,l)=>{const B=g.name,K=Pj.has(g),R=B+"_zoom_delta",{x:va,y:Na}=g.project.hasChannel,wb=Ia(b.scaleName("x")),
Fb=Ia(b.scaleName("y"));let ec=Hi(g.zoom,"scope");K||(ec=ec.map(Oc=>(Oc.markname=B+"_brush",Oc)));l.push({name:B+"_zoom_anchor",on:[{events:ec,update:K?"{"+[wb?"x: invert(".concat(wb,", x(unit))"):"",Fb?"y: invert(".concat(Fb,", y(unit))"):""].filter(Oc=>!!Oc).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:R,on:[{events:ec,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==va&&jj(b,g,va,"width",l);void 0!==Na&&jj(b,g,Na,"height",l);return l}},wm,vm,{has:b=>void 0!==
b.clear&&!1!==b.clear,parse:(b,g,l)=>{l.clear&&(g.clear=Ha(l.clear)?Hi(l.clear,"scope"):l.clear)},topLevelSignals:(b,g,l)=>{if(wm.has(g))for(const B of g.project.items)b=l.findIndex(K=>K.name===I("".concat(g.name,"_").concat(B.field))),-1!==b&&l[b].on.push({events:g.clear,update:"null"});return l},signals:(b,g,l)=>{function B(K,R){-1!==K&&l[K].on&&l[K].on.push({events:g.clear,update:R})}if("interval"===g.type)for(const K of g.project.items)b=l.findIndex(R=>R.name===K.signals.visual),B(b,"[0, 0]"),
-1===b&&(b=l.findIndex(R=>R.name===K.signals.data),B(b,"null"));else b=l.findIndex(K=>K.name===g.name+"_tuple"),B(b,"null"),xm.has(g)&&(b=l.findIndex(K=>K.name===g.name+"_toggle"),B(b,"false"));return l}}],Sm={single:{signals:pg,modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"true":"{unit: ".concat(jg(b),"}"))},multi:{signals:pg,modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"null":"{unit: ".concat(jg(b),"}"))},interval:{signals:(b,g)=>{const l=g.name;var B=l+"_tuple_fields",
K=Pj.has(g);const R=[],va=[],Na=[];if(g.translate&&!K){const wb="!event.item || event.item.mark.name !\x3d\x3d ".concat(Ia(l+"_brush"));ri(g,(Fb,ec)=>{var Oc;ec=ob(null!==(Oc=ec.between[0].filter)&&void 0!==Oc?Oc:ec.between[0].filter=[]);0>ec.indexOf(wb)&&ec.push(wb);return Fb})}g.project.items.forEach((wb,Fb)=>{const ec=wb.channel;if("x"!==ec&&"y"!==ec)Gb("Interval selections only support x and y encoding channels.");else{Fb=Oi(b,g,wb,g.init?g.init[Fb]:null);var Oc=wb.signals.data;wb=wb.signals.visual;
var Wc=Ia(b.scaleName(ec)),cd=b.getScaleComponent(ec).get("type")in Zc?"+":"";R.push(...Fb);va.push(Oc);Na.push({scaleName:b.scaleName(ec),expr:"(!isArray(".concat(Oc,") || ")+"(".concat(cd,"invert(").concat(Wc,", ").concat(wb,")[0] \x3d\x3d\x3d ").concat(cd).concat(Oc,"[0] \x26\x26 ")+"".concat(cd,"invert(").concat(Wc,", ").concat(wb,")[1] \x3d\x3d\x3d ").concat(cd).concat(Oc,"[1]))")})}});K||R.push({name:l+"_scale_trigger",value:{},on:[{events:Na.map(wb=>({scale:wb.scaleName})),update:Na.map(wb=>
wb.expr).join(" \x26\x26 ")+" ? ".concat(l+"_scale_trigger"," : {}")}]});K=g.init;B="unit: ".concat(jg(b),", fields: ").concat(B,", values");return R.concat(Object.assign({},{name:l+"_tuple"},K?{init:"{".concat(B,": ").concat(ci(K),"}")}:{},{on:[{events:[{signal:va.join(" || ")}],update:va.join(" \x26\x26 ")+" ? {".concat(B,": [").concat(va,"]} : null")}]}))},modifyExpr:(b,g)=>g.name+"_tuple, "+("global"===g.resolve?"true":"{unit: ".concat(jg(b),"}")),marks:(b,g,l)=>{const B=g.name,{x:K,y:R}=g.project.hasChannel,
va=K&&K.signals.visual,Na=R&&R.signals.visual;var wb="data(".concat(Ia(g.name+"_store"),")");if(Pj.has(g))return l;const Fb={x:void 0!==K?{signal:"".concat(va,"[0]")}:{value:0},y:void 0!==R?{signal:"".concat(Na,"[0]")}:{value:0},x2:void 0!==K?{signal:"".concat(va,"[1]")}:{field:{group:"width"}},y2:void 0!==R?{signal:"".concat(Na,"[1]")}:{field:{group:"height"}}};if("global"===g.resolve)for(var ec of td(Fb))Fb[ec]=[Object.assign({},{test:"".concat(wb,".length \x26\x26 ").concat(wb,"[0].unit \x3d\x3d\x3d ").concat(jg(b))},
Fb[ec]),{value:0}];ec=g.mark;wb=Object.assign({},ec);b=ec.fill;g=ec.fillOpacity;ec=ec.cursor;const Oc=(delete wb.fill,delete wb.fillOpacity,delete wb.cursor,wb);wb=td(Oc).reduce((Wc,cd)=>{Wc[cd]=[{test:[void 0!==K&&"".concat(va,"[0] !\x3d\x3d ").concat(va,"[1]"),void 0!==R&&"".concat(Na,"[0] !\x3d\x3d ").concat(Na,"[1]")].filter(wd=>wd).join(" \x26\x26 "),value:Oc[cd]},{value:null}];return Wc},{});return[{name:B+"_brush_bg",type:"rect",clip:!0,encode:{enter:{fill:{value:b},fillOpacity:{value:g}},
update:Fb}},...l,{name:B+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},ec?{cursor:{value:ec}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Fb,wb)}}]}}};$g.prototype.visit=function(b){let g,l,B;if(b(this))return 1;g=kj(this);l=0;for(B=g.length;l<B;++l)if(g[l].visit(b))return 1};var xe,kd,jh,Vf,Tm=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,
Um=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B2\u08E4-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA69D\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA7AD\uA7B0\uA7B1\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB5F\uAB64\uAB65\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2D\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/;
const Vm={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Wm={"if":1};class Yk extends ig{clone(){return new Yk(null,
this.model,Ve(this.filter))}constructor(b,g,l){super(b);this.model=g;this.filter=l;lc(this,"expr",void 0);lc(this,"_dependentFields",void 0);this.expr=Ah(this.model,this.filter,this);this._dependentFields=Ri(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}const qm={scale:b=>{var {model:g,channel:l}=b;return g.scaleName(l)},format:b=>{var {fieldOrDatumDef:g,config:l,axis:B}=
b;const {format:K,formatType:R}=B;return pe(g,g.type,K,R,l,!0)},formatType:b=>{var {axis:g,fieldOrDatumDef:l,scaleType:B}=b;({formatType:b}=g);return Ke(b,l,B)},grid:b=>{var {fieldOrDatumDef:g,axis:l,scaleType:B}=b;if(uc(g)&&Sc(g.bin))return!1;var K;return null!==(K=l.grid)&&void 0!==K?K:!(B in Qd)&&uc(g)&&!Dc(null===g||void 0===g?void 0:g.bin)},gridScale:b=>{var {model:g,channel:l}=b;b="x"===l?"y":"x";b=g.getScaleComponent(b)?g.scaleName(b):void 0;return b},labelAlign:b=>{var {axis:g,labelAngle:l,
orient:B,channel:K}=b;return g.labelAlign||Rh(l,B,K)},labelAngle:b=>{({labelAngle:b}=b);return b},labelBaseline:b=>{var {axis:g,labelAngle:l,orient:B,channel:K}=b;return g.labelBaseline||yi(l,B,K)},labelFlush:b=>{var {axis:g,fieldOrDatumDef:l,channel:B}=b,K;b=null!==(K=g.labelFlush)&&void 0!==K?K:"x"===B&&La(["quantitative","temporal"],l.type)?!0:void 0;return b},labelOverlap:b=>{var {axis:g,fieldOrDatumDef:l,scaleType:B}=b,K;if(null!==(K=g.labelOverlap)&&void 0!==K)b=K;else{b=l.type;K=uc(l)&&!!l.timeUnit;
var R=uc(l)?l.sort:void 0;b=K&&!ub(R)||"nominal"!==b&&"ordinal"!==b?"log"===B||"symlog"===B?"greedy":!0:void 0}return b},orient:b=>{({orient:b}=b);return b},tickCount:b=>{var {channel:g,model:l,axis:B,fieldOrDatumDef:K,scaleType:R}=b,va;b=(b="x"===g?"width":"y"===g?"height":void 0)?l.getSizeSignalRef(b):void 0;if(null===(va=B.tickCount)||void 0===va)a:{var {fieldOrDatumDef:Na,scaleType:wb,size:Fb,values:ec}={fieldOrDatumDef:K,scaleType:R,size:b,values:B.values};if(ec||wb in Qd||"log"===wb)va=void 0;
else{if(uc(Na)){var Oc;if(Dc(Na.bin)){va={signal:"ceil(".concat(Fb.signal,"/10)")};break a}if(Na.timeUnit&&La(["month","hours","day","quarter"],null===(Oc=Hb(Na.timeUnit))||void 0===Oc?void 0:Oc.unit)){va=void 0;break a}}va={signal:"ceil(".concat(Fb.signal,"/40)")}}}return va},title:b=>{var {axis:g,model:l,channel:B}=b;if(void 0!==g.title)return g.title;b=zi(l,B);if(void 0!==b)return b;b=l.typedFieldDef(B);const K=l.fieldDef("x"===B?"x2":"y2");return gg(b?[Ka(b)]:[],uc(K)?[Ka(K)]:[])},values:b=>{var {axis:g,
fieldOrDatumDef:l}=b;b=g.values;b=te(b)?Kc(l,b):Cc(b)?b:void 0;return b},zindex:b=>{var {axis:g,fieldOrDatumDef:l,mark:B}=b,K;b=null!==(K=g.zindex)&&void 0!==K?K:"rect"===B&&Ue(l)?1:0;return b}};class $k extends ig{clone(){return new $k(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g;lc(this,"_dependentFields",void 0);this._dependentFields=Ri(this.transform.calculate)}static parseAllForSortIndex(b,g){g.forEachFieldDef((l,B)=>{if(Te(l)&&V(l.sort)){const {field:R,timeUnit:va}=l;
var K=l.sort;K=K.map((Na,wb)=>"".concat(Qe({field:R,timeUnit:va,equal:Na})," ? ").concat(wb," : ")).join("")+K.length;b=new $k(b,{calculate:K,as:ih(l,B,{forAs:!0})})}});return b}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return"Calculate ".concat(Ca(this.transform))}}const Ol=["row","column"],Fl=["header","footer"],Cn={column:{start:0,end:1},row:{start:1,
end:0}},Dn=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,
rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,
fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),hm=td(Dn);class Zm extends Rj{}const jm={symbols:function(b,g){var {fieldOrDatumDef:l,model:B,channel:K,legendCmpt:R,legendType:va}=g,Na,wb,Fb,ec;if("symbol"===va){var {markDef:Oc,encoding:Wc,config:cd,mark:wd}=B,Cd=Oc.filled&&"trail"!==wd;g=Object.assign({},ze({},B,rn),Fk(B,{filled:Cd}));var ne=null!==(Na=R.get("symbolOpacity"))&&void 0!==Na?Na:cd.legend.symbolOpacity;Na=null!==(wb=R.get("symbolFillColor"))&&void 0!==wb?wb:cd.legend.symbolFillColor;
wb=null!==(Fb=R.get("symbolStrokeColor"))&&void 0!==Fb?Fb:cd.legend.symbolStrokeColor;Fb=void 0===ne?null!==(ec=ok(Wc.opacity))&&void 0!==ec?ec:Oc.opacity:void 0;if(g.fill)if("fill"===K||Cd&&"color"===K)delete g.fill;else if(g.fill.field)if(Na)delete g.fill;else{var of;g.fill=Pd(null!==(of=cd.legend.symbolBaseFillColor)&&void 0!==of?of:"black");g.fillOpacity=Pd(null!==Fb&&void 0!==Fb?Fb:1)}else if(te(g.fill)){var fe,mf,Kd;if(ec=null!==(fe=null!==(mf=Lh(null!==(Kd=Wc.fill)&&void 0!==Kd?Kd:Wc.color))&&
void 0!==mf?mf:Oc.fill)&&void 0!==fe?fe:Cd&&Oc.color)g.fill=Pd(ec)}g.stroke&&("stroke"===K||!Cd&&"color"===K?delete g.stroke:g.stroke.field||wb?delete g.stroke:te(g.stroke)&&(fe=la(Lh(Wc.stroke||Wc.color),Oc.stroke,Cd?Oc.color:void 0))&&(g.stroke={value:fe}));"opacity"!==K&&((fe=uc(l)&&Ci(B,R,l))?g.opacity=[Object.assign({},{test:fe},Pd(null!==Fb&&void 0!==Fb?Fb:1)),Pd(cd.legend.unselectedOpacity)]:Fb&&(g.opacity=Pd(Fb)));g=Object.assign({},g,b);return S(g)?void 0:g}},gradient:function(b,g){var {model:l,
legendType:B,legendCmpt:K}=g,R;if("gradient"===B){var {config:va,markDef:Na,encoding:wb}=l;g={};var Fb=void 0===(null!==(R=K.get("gradientOpacity"))&&void 0!==R?R:va.legend.gradientOpacity)?ok(wb.opacity)||Na.opacity:void 0;Fb&&(g.opacity=Pd(Fb));g=Object.assign({},g,b);return S(g)?void 0:g}},labels:function(b,g){var {fieldOrDatumDef:l,model:B,channel:K,legendCmpt:R}=g;g=B.legend(K)||{};const va=B.config;var Na=uc(l)?Ci(B,R,l):void 0;Na=Na?[{test:Na,value:1},{value:va.legend.unselectedOpacity}]:void 0;
const {format:wb,formatType:Fb}=g;g=Ac(Fb)?Je({fieldOrDatumDef:l,field:"datum.value",format:wb,formatType:Fb,config:va}):void 0;b=Object.assign({},Na?{opacity:Na}:{},g?{text:g}:{},b);return S(b)?void 0:b},entries:function(b,g){({legendCmpt:g}=g);g=g.get("selections");return(null===g||void 0===g?0:g.length)?Object.assign({},b,{fill:{value:"transparent"}}):b}},im={direction:b=>{({direction:b}=b);return b},format:b=>{var {fieldOrDatumDef:g,legend:l,config:B}=b;const {format:K,formatType:R}=l;return pe(g,
g.type,K,R,B,!1)},formatType:b=>{var {legend:g,fieldOrDatumDef:l,scaleType:B}=b;({formatType:b}=g);return Ke(b,l,B)},gradientLength:b=>{var g,l;const {legend:B,legendConfig:K}=b;if(null!==(g=null!==(l=B.gradientLength)&&void 0!==l?l:K.gradientLength)&&void 0!==g)b=g;else{{var {legendConfig:R,model:va,direction:Na,orient:wb,scaleType:Fb}=b;const {gradientHorizontalMaxLength:ec,gradientHorizontalMinLength:Oc,gradientVerticalMaxLength:Wc,gradientVerticalMinLength:cd}=R;b=Fb in yb?"horizontal"===Na?"top"===
wb||"bottom"===wb?Mh(va,"width",Oc,ec):Oc:Mh(va,"height",cd,Wc):void 0}}return b},labelOverlap:b=>{var {legend:g,legendConfig:l,scaleType:B}=b,K,R;b=null!==(K=null!==(R=g.labelOverlap)&&void 0!==R?R:l.labelOverlap)&&void 0!==K?K:La(["quantile","threshold","log","symlog"],B)?"greedy":void 0;return b},symbolType:b=>{var {legend:g,markDef:l,channel:B,encoding:K}=b,R;if(null!==(R=g.symbolType)&&void 0!==R)var va=R;else a:{b=l.type;R=l.shape;if("shape"!==B&&(R=null!==(va=Lh(K.shape))&&void 0!==va?va:R)){va=
R;break a}switch(b){case "bar":case "rect":case "image":case "square":va="square";break a;case "line":case "trail":case "rule":va="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":va="circle";break a}va=void 0}return va},title:b=>{var {fieldOrDatumDef:g,config:l}=b;return Ze(g,l,{allowDisabling:!0})},type:b=>{var {legendType:g,scaleType:l,channel:B}=b;if(oa(B)&&l in yb){if("gradient"===g)return}else if("symbol"===g)return;return g},values:b=>
{var {fieldOrDatumDef:g,legend:l}=b;b=l.values;b=te(b)?Kc(g,b):Cc(b)?b:void 0;return b}},$m="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class km extends Rj{constructor(b,g,l,B){super(Object.assign({},g),{name:b});this.specifiedProjection=g;this.size=l;this.data=B;lc(this,"merged",!1)}get isFit(){return!!this.data}}class yj extends ig{clone(){return new yj(null,Ve(this.bins))}constructor(b,g){super(b);
this.bins=g}static makeFromEncoding(b,g){const l=g.reduceFieldDef((B,K,R)=>{if(zd(K)&&Dc(K.bin)){const {key:va,binComponent:Na}=Eg(K,K.bin,g);B[va]=Object.assign({},Na,B[va],Xj(g,K,R,g.config))}return B},{});return S(l)?null:new yj(b,l)}static makeFromTransform(b,g,l){const {key:B,binComponent:K}=Eg(g,g.bin,l);return new yj(b,{[B]:K})}merge(b,g){for(const l of td(b.bins))l in this.bins?(g(b.bins[l].signal,this.bins[l].signal),this.bins[l].as=Ya([...this.bins[l].as,...b.bins[l].as],Ca)):this.bins[l]=
b.bins[l];for(const l of b.children)b.removeChild(l),l.parent=this;b.remove()}producedFields(){return new Set(Fi(this.bins).map(b=>b.as).flat(2))}dependentFields(){return new Set(Fi(this.bins).map(b=>b.field))}hash(){return"Bin ".concat(Ca(this.bins))}assemble(){return Fi(this.bins).flatMap(b=>{const g=[],[l,...B]=b.as;var K=b.bin,R=Object.assign({},K);K=K.extent;R=(delete R.extent,R);R=Object.assign({},{type:"bin",field:Ua(b.field),as:l,signal:b.signal},Ta(K)?{extent:null}:{extent:K},b.span?{span:{signal:"span(".concat(b.span,
")")}}:{},R);!K&&b.extentSignal&&(g.push({type:"extent",field:Ua(b.field),signal:b.extentSignal}),R.extent={signal:b.extentSignal});g.push(R);for(const va of B)for(K=0;2>K;K++)g.push({type:"formula",expr:pd({field:l[K]},{expr:"datum"}),as:va[K]});b.formula&&g.push({type:"formula",expr:b.formula,as:b.formulaAs});return g})}}class fj extends ig{clone(){return new fj(null,new Set(this.dimensions),Ve(this.measures))}constructor(b,g,l){super(b);this.dimensions=g;this.measures=l}get groupBy(){return this.dimensions}static makeFromEncoding(b,
g){let l=!1;g.forEachFieldDef(R=>{R.aggregate&&(l=!0)});const B={},K=new Set;if(!l)return null;g.forEachFieldDef((R,va)=>{const {aggregate:Na,field:wb}=R;if(Na)if("count"===Na){var Fb;B["*"]=null!==(Fb=B["*"])&&void 0!==Fb?Fb:{};B["*"].count=new Set([pd(R,{forAs:!0})])}else{if(E(Na)||H(Na)){var ec;R=E(Na)?"argmin":"argmax";Fb=Na[R];B[Fb]=null!==(ec=B[Fb])&&void 0!==ec?ec:{};B[Fb][R]=new Set([pd({op:R,field:Fb},{forAs:!0})])}else{var Oc;B[wb]=null!==(Oc=B[wb])&&void 0!==Oc?Oc:{};B[wb][Na]=new Set([pd(R,
{forAs:!0})])}if(Yh[va]&&"unaggregated"===g.scaleDomain(va)){var Wc;B[wb]=null!==(Wc=B[wb])&&void 0!==Wc?Wc:{};B[wb].min=new Set([pd({field:wb,aggregate:"min"},{forAs:!0})]);B[wb].max=new Set([pd({field:wb,aggregate:"max"},{forAs:!0})])}}else ec=eg(g)?g.encoding[ta(va)]:void 0,zd(R)&&eg(g)&&Vb(va,R,ec,g.stack,g.markDef,g.config)?(K.add(pd(R,{})),K.add(pd(R,{suffix:"end"})),R.bin&&ad(R,va)&&K.add(pd(R,{binSuffix:"range"}))):va in Fh?(va=xa(va),K.add(g.getName(va))):K.add(pd(R))});return 0===K.size+
td(B).length?null:new fj(b,K,B)}static makeFromTransform(b,g){const l=new Set,B={};for(const Na of g.aggregate){const {op:wb,field:Fb,as:ec}=Na;if(wb)if("count"===wb){var K;B["*"]=null!==(K=B["*"])&&void 0!==K?K:{};B["*"].count=new Set([ec?ec:pd(Na,{forAs:!0})])}else{var R;B[Fb]=null!==(R=B[Fb])&&void 0!==R?R:{};B[Fb][wb]=new Set([ec?ec:pd(Na,{forAs:!0})])}}for(const Na of null!==(va=g.groupby)&&void 0!==va?va:[]){var va;l.add(Na)}return 0===l.size+td(B).length?null:new fj(b,l,B)}merge(b){if(ib(this.dimensions,
b.dimensions)){var g=this.measures;b=b.measures;for(const B of td(b)){const K=b[B];for(const R of td(K))if(B in g){var l;g[B][R]=new Set([...null!==(l=g[B][R])&&void 0!==l?l:[],...K[R]])}else g[B]={[R]:K[R]}}return!0}Zi.debug(...["different dimensions, cannot merge"]);return!1}addDimensions(b){b.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...td(this.measures)])}producedFields(){const b=new Set;for(const g of td(this.measures))for(const l of td(this.measures[g])){const B=
this.measures[g][l];0===B.size?b.add("".concat(l,"_").concat(g)):B.forEach(b.add,b)}return b}hash(){return"Aggregate ".concat(Ca({dimensions:this.dimensions,measures:this.measures}))}assemble(){const b=[],g=[],l=[];for(const B of td(this.measures))for(const K of td(this.measures[B]))for(const R of this.measures[B][K])l.push(R),b.push(K),g.push("*"===B?null:Ua(B));return{type:"aggregate",groupby:[...this.dimensions].map(Ua),ops:b,fields:g,as:l}}}class Ik extends ig{constructor(b,g,l,B){super(b);this.model=
g;this.name=l;this.data=B;lc(this,"column",void 0);lc(this,"row",void 0);lc(this,"facet",void 0);lc(this,"childModel",void 0);for(const K of Yg)if(b=g.facet[K]){const {bin:R,sort:va}=b;this[K]=Object.assign({},{name:g.getName("".concat(K,"_domain")),fields:[pd(b),...Dc(R)?[pd(b,{binSuffix:"end"})]:[]]},N(va)?{sortField:va}:te(va)?{sortIndexField:ih(b,K)}:{})}this.childModel=g.child}hash(){let b="Facet";for(const g of Yg)this[g]&&(b+=" ".concat(g.charAt(0),":").concat(Ca(this[g])));return b}get fields(){const b=
[];for(const l of Yg){var g;(null===(g=this[l])||void 0===g?0:g.fields)&&b.push(...this[l].fields)}return b}dependentFields(){const b=new Set(this.fields);for(const g of Yg)this[g]&&(this[g].sortField&&b.add(this[g].sortField.field),this[g].sortIndexField&&b.add(this[g].sortIndexField));return b}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const b={};for(const B of Tg){var g=this.childModel.component.scales[B];if(g&&!g.merged){var l=g.get("type");
g=g.get("range");l in Qd&&xc(g)&&(l=Af(this.childModel,B),(l=Nf(l))?b[B]=l:Gb(Nc(B)))}}return b}assembleRowColumnHeaderData(b,g,l){const B={row:"y",column:"x"}[b],K=[],R=[],va=[];l&&l[B]&&(g?(K.push("distinct_".concat(l[B])),R.push("max")):(K.push(l[B]),R.push("distinct")),va.push("distinct_".concat(l[B])));const {sortField:Na,sortIndexField:wb}=this[b];if(Na){const {op:Fb="min",field:ec}=Na;K.push(ec);R.push(Fb);va.push(pd(Na,{forAs:!0}))}else wb&&(K.push(wb),R.push("max"),va.push(wb));return{name:this[b].name,
source:null!==g&&void 0!==g?g:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[b].fields},K.length?{fields:K,ops:R,as:va}:{})]}}assembleFacetHeaderData(b){const {columns:g}=this.model.layout,{layoutHeaders:l}=this.model.component,B=[],K={};for(const ec of Ol){for(const Oc of Fl){var R,va=null!==(R=l[ec]&&l[ec][Oc])&&void 0!==R?R:[];for(const Wc of va){var Na;if(0<(null===(Na=Wc.axes)||void 0===Na?void 0:Na.length)){K[ec]=!0;break}}}K[ec]&&(va='length(data("'.concat(this.facet.name,
'"))'),va="row"===ec?g?{signal:"ceil(".concat(va," / ").concat(g,")")}:1:g?{signal:"min(".concat(va,", ").concat(g,")")}:{signal:va},B.push({name:"".concat(this.facet.name,"_").concat(ec),transform:[{type:"sequence",start:0,stop:va}]}))}const {row:wb,column:Fb}=K;(wb||Fb)&&B.unshift(this.assembleRowColumnHeaderData("facet",null,b));return B}assemble(){const b=[];var g=null;const l=this.getChildIndependentFieldsWithStep(),{column:B,row:K,facet:R}=this;if(B&&K&&(l.x||l.y)){var va,Na;g="cross_".concat(this.column.name,
"_").concat(this.row.name);const wb=[].concat(null!==(va=l.x)&&void 0!==va?va:[],null!==(Na=l.y)&&void 0!==Na?Na:[]);va=wb.map(()=>"distinct");b.push({name:g,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:wb,ops:va}]})}for(const wb of["column","row"])this[wb]&&b.push(this.assembleRowColumnHeaderData(wb,g,l));R&&(g=this.assembleFacetHeaderData(l))&&b.push(...g);return b}}class uh extends ig{clone(){return new uh(null,Ve(this._parse))}constructor(b,g){super(b);lc(this,"_parse",
void 0);this._parse=g}hash(){return"Parse ".concat(Ca(this._parse))}static makeExplicit(b,g,l){let B={};g=g.data;!Zg(g)&&g&&g.format&&g.format.parse&&(B=g.format.parse);return this.makeWithAncestors(b,B,{},l)}static makeWithAncestors(b,g,l,B){for(var K of td(l)){const va=B.getWithExplicit(K);void 0!==va.value&&(va.explicit||va.value===l[K]||"derived"===va.value||"flatten"===l[K]?delete l[K]:Gb(ge(K,l[K],va.value)))}for(var R of td(g))K=B.get(R),void 0!==K&&(K===g[R]?delete g[R]:Gb(ge(R,g[R],K)));
g=new Rj(g,l);B.copyAll(g);l={};for(const va of td(g.combine()))R=g.get(va),null!==R&&(l[va]=R);return 0===td(l).length||B.parseNothing?null:new uh(b,l)}get parse(){return this._parse}merge(b){this._parse=Object.assign({},this._parse,b.parse);b.remove()}assembleFormatParse(){const b={};for(const g of td(this._parse)){const l=this._parse[g];1===ua(g)&&(b[g]=l)}return b}producedFields(){return new Set(td(this._parse))}dependentFields(){return new Set(td(this._parse))}assembleTransforms(b){b=void 0===
b?!1:b;return td(this._parse).filter(g=>b?1<ua(g):!0).map(g=>{const l=cg(g,this._parse[g]);return l?{type:"formula",expr:l,as:sa(g)}:null}).filter(g=>null!==g)}}class rk extends ig{clone(){return new rk(null)}constructor(b){super(b)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:"_vgsid_"}}}class ql extends ig{clone(){return new ql(null,this.params)}constructor(b,g){super(b);this.params=g}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(Ca(this.params))}assemble(){return Object.assign({},
{type:"graticule"},!0===this.params?{}:this.params)}}class rl extends ig{clone(){return new rl(null,this.params)}constructor(b,g){super(b);this.params=g}dependentFields(){return new Set}producedFields(){var b;return new Set([null!==(b=this.params.as)&&void 0!==b?b:"data"])}hash(){return"Hash ".concat(Ca(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class qk extends ig{constructor(b){var g;super(null);lc(this,"_data",void 0);lc(this,"_name",void 0);lc(this,"_generator",
void 0);b=null!==(g=b)&&void 0!==g?g:{name:"source"};let l;Zg(b)||(l=b.format?Object.assign({},hb(b.format,["parse"])):{});if("values"in b)this._data={values:b.values};else if("url"in b)this._data={url:b.url},l.type||(g=/(?:\.([^.]+))?$/.exec(b.url)[1],La(["json","csv","tsv","dsv","topojson"],g)||(g="json"),l.type=g);else if("sphere"in b)this._data={values:[{type:"Sphere"}]};else if(Hh(b)||Zg(b))this._data={};this._generator=Zg(b);b.name&&(this._name=b.name);l&&!S(l)&&(this._data.format=l)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(b){this._name=
b}set parent(b){throw Error("Source nodes have to be roots.");}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var xl=new WeakMap;class Pl{constructor(){xl.set(this,{writable:!0,value:void 0});wc(this,xl,!1)}setModified(){wc(this,xl,!0)}get modifiedFlag(){var b=xl.get(this);if(!b)throw new TypeError("attempted to get private field on non-instance");b=b.get?
b.get.call(this):b.value;return b}}class sk extends Pl{getNodeDepths(b,g,l){l.set(b,g);for(const B of b.children)this.getNodeDepths(B,g+1,l);return l}optimize(b){b=[...this.getNodeDepths(b,0,new Map).entries()].sort((g,l)=>l[1]-g[1]);for(const g of b)this.run(g[0]);return this.modifiedFlag}}class Ql extends Pl{optimize(b){this.run(b);for(const g of b.children)this.optimize(g);return this.modifiedFlag}}class kn extends Ql{mergeNodes(b,g){const l=g.shift();for(const B of g)b.removeChild(B),B.parent=
l,B.remove()}run(b){const g=b.children.map(B=>B.hash()),l={};for(let B=0;B<g.length;B++)void 0===l[g[B]]?l[g[B]]=[b.children[B]]:l[g[B]].push(b.children[B]);for(const B of td(l))1<l[B].length&&(this.setModified(),this.mergeNodes(b,l[B]))}}class bn extends Ql{constructor(b){super();lc(this,"requiresSelectionId",void 0);this.requiresSelectionId=b&&Pi(b)}run(b){!(b instanceof rk)||this.requiresSelectionId&&(a(b.parent)||b.parent instanceof fj||b.parent instanceof uh)||(this.setModified(),b.remove())}}
class fn extends Pl{optimize(b){this.run(b,new Set);return this.modifiedFlag}run(b,g){let l=new Set;b instanceof zj&&(l=b.producedFields(),db(l,g)&&(this.setModified(),b.removeFormulas(g),0===b.producedFields.length&&b.remove()));for(const B of b.children)this.run(B,new Set([...g,...l]))}}class an extends Ql{constructor(){super()}run(b){b instanceof th&&!b.isRequired()&&(this.setModified(),b.remove())}}class dn extends sk{run(b){if(!(a(b)||1<b.numChildren()))for(const g of b.children)g instanceof
uh&&(b instanceof uh?(this.setModified(),b.merge(g)):$a(b.producedFields(),g.dependentFields())||(this.setModified(),g.swapWithParent()))}}class gn extends sk{run(b){const g=[...b.children];var l=b.children.filter(K=>K instanceof uh);if(1<b.numChildren()&&1<=l.length){const K={};var B=new Set;for(const R of l){l=R.parse;for(const va of td(l))va in K?K[va]!==l[va]&&B.add(va):K[va]=l[va]}for(const R of B)delete K[R];if(!S(K)){this.setModified();B=new uh(b,K);for(const R of g){if(R instanceof uh)for(const va of td(K))delete R.parse[va];
b.removeChild(R);R.parent=B;R instanceof uh&&0===td(R.parse).length&&R.remove()}}}}}class cn extends sk{run(b){b instanceof th||0<b.numChildren()||b instanceof Ik||b instanceof qk||(this.setModified(),b.remove())}}class jn extends sk{run(b){b=b.children.filter(l=>l instanceof zj);const g=b.pop();for(const l of b)this.setModified(),g.merge(l)}}class hn extends sk{run(b){var g=b.children.filter(K=>K instanceof fj);const l={};for(var B of g)g=Ca(B.groupBy),g in l||(l[g]=[]),l[g].push(B);for(const K of td(l))if(B=
l[K],1<B.length){g=B.pop();for(const R of B)g.merge(R)&&(b.removeChild(R),R.parent=g,R.remove(),this.setModified())}}}class en extends sk{constructor(b){super();this.model=b}run(b){var g=!(a(b)||b instanceof Yk||b instanceof uh||b instanceof rk);const l=[],B=[];for(const K of b.children)K instanceof yj&&(g&&!$a(b.producedFields(),K.dependentFields())?l.push(K):B.push(K));if(0<l.length){g=l.pop();for(const K of l)g.merge(K,this.model.renameSignal.bind(this.model));this.setModified();b instanceof yj?
b.merge(g,this.model.renameSignal.bind(this.model)):g.swapWithParent()}if(1<B.length){b=B.pop();for(const K of B)b.merge(K,this.model.renameSignal.bind(this.model));this.setModified()}}}class ln extends sk{run(b){var g=[...b.children];if(ka(g,K=>K instanceof th)&&!(1>=b.numChildren())){var l=[];for(const K of g)if(K instanceof th){for(g=K;1===g.numChildren();){const [R]=g.children;if(R instanceof th)g=R;else break}l.push(...g.children);if(B)b.removeChild(K),K.parent=B.parent,B.parent.removeChild(B),
B.parent=g,this.setModified();else var B=g}else l.push(K);if(l.length){this.setModified();for(const K of l)K.parent.removeChild(K),K.parent=B}}}}class Jk extends ig{clone(){return new Jk(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){this.transform.groupby=Ya(this.transform.groupby.concat(b),g=>g)}dependentFields(){const b=new Set;this.transform.groupby&&this.transform.groupby.forEach(b.add,b);this.transform.joinaggregate.map(g=>g.field).filter(g=>void 0!==g).forEach(b.add,
b);return b}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(b){var g;return null!==(g=b.as)&&void 0!==g?g:pd(b)}hash(){return"JoinAggregateTransform ".concat(Ca(this.transform))}assemble(){const b=[],g=[],l=[];for(var B of this.transform.joinaggregate)g.push(B.op),l.push(this.getDefaultName(B)),b.push(void 0===B.field?null:B.field);B=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:l,ops:g,fields:b},void 0!==B?{groupby:B}:
{})}}class Qj extends ig{clone(){return new Qj(null,Ve(this._stack))}constructor(b,g){super(b);lc(this,"_stack",void 0);this._stack=g}static makeFromTransform(b,g){const {stack:l,groupby:B,as:K,offset:R="zero"}=g;var va=[];const Na=[];if(void 0!==g.sort)for(const wb of g.sort)va.push(wb.field),Na.push(la(wb.order,"ascending"));va={field:va,order:Na};g=t(K)?K:Ha(K)?[K,K+"_end"]:[g.stack+"_start",g.stack+"_end"];return new Qj(b,{stackField:l,groupby:B,offset:R,sort:va,facetby:[],as:g})}static makeFromEncoding(b,
g){var l=g.stack,{encoding:B}=g;if(!l)return null;const {groupbyChannel:K,fieldChannel:R,offset:va,impute:Na}=l;let wb;K&&(wb=df(B[K]));l=f(g);B=g.encoding.order;B=te(B)||uc(B)?ef(B):l.reduce((Fb,ec)=>{Fb.field.push(ec);Fb.order.push("y"===R?"descending":"ascending");return Fb},{field:[],order:[]});return new Qj(b,{dimensionFieldDef:wb,stackField:g.vgField(R),facetby:[],stackby:l,sort:B,offset:va,impute:Na,as:[g.vgField(R,{suffix:"start",forAs:!0}),g.vgField(R,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(b){this._stack.facetby.push(...b)}dependentFields(){const b=
new Set;b.add(this._stack.stackField);this.getGroupbyFields().forEach(b.add,b);this._stack.facetby.forEach(b.add,b);this._stack.sort.field.forEach(b.add,b);return b}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(Ca(this._stack))}getGroupbyFields(){const {dimensionFieldDef:b,impute:g,groupby:l}=this._stack;return b?b.bin?g?[pd(b,{binSuffix:"mid"})]:[pd(b,{}),pd(b,{binSuffix:"end"})]:[pd(b)]:null!==l&&void 0!==l?l:[]}assemble(){const b=[],{facetby:g,dimensionFieldDef:l,
stackField:B,stackby:K,sort:R,offset:va,impute:Na,as:wb}=this._stack;if(Na&&l){const {band:Fb=.5,bin:ec}=l;ec&&b.push({type:"formula",expr:"".concat(Fb,"*")+pd(l,{expr:"datum"})+"+".concat(1-Fb,"*")+pd(l,{expr:"datum",binSuffix:"end"}),as:pd(l,{binSuffix:"mid",forAs:!0})});b.push({type:"impute",field:B,groupby:[...K,...g],key:pd(l,{binSuffix:"mid"}),method:"value",value:0})}b.push({type:"stack",groupby:[...this.getGroupbyFields(),...g],field:B,sort:R,as:wb,offset:va});return b}}class Zk extends ig{clone(){return new Zk(null,
Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){this.transform.groupby=Ya(this.transform.groupby.concat(b),g=>g)}dependentFields(){var b,g;const l=new Set;(null!==(b=this.transform.groupby)&&void 0!==b?b:[]).forEach(l.add,l);(null!==(g=this.transform.sort)&&void 0!==g?g:[]).forEach(B=>l.add(B.field));this.transform.window.map(B=>B.field).filter(B=>void 0!==B).forEach(l.add,l);return l}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(b){var g;
return null!==(g=b.as)&&void 0!==g?g:pd(b)}hash(){return"WindowTransform ".concat(Ca(this.transform))}assemble(){const b=[],g=[],l=[],B=[];for(var K of this.transform.window)g.push(K.op),l.push(this.getDefaultName(K)),B.push(void 0===K.param?null:K.param),b.push(void 0===K.field?null:K.field);K=this.transform.frame;const R=this.transform.groupby;if(K&&null===K[0]&&null===K[1]&&g.every(Fb=>C(Fb)))return Object.assign({},{type:"joinaggregate",as:l,ops:g,fields:b},void 0!==R?{groupby:R}:{});const va=
[],Na=[];if(void 0!==this.transform.sort)for(const Fb of this.transform.sort){var wb;va.push(Fb.field);Na.push(null!==(wb=Fb.order)&&void 0!==wb?wb:"ascending")}wb=this.transform.ignorePeers;return Object.assign({},{type:"window",params:B,as:l,ops:g,fields:b,sort:{field:va,order:Na}},void 0!==wb?{ignorePeers:wb}:{},void 0!==R?{groupby:R}:{},void 0!==K?{frame:K}:{})}}class pi{constructor(b){lc(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:b})}static fromName(b,g){return new pi(()=>
b(g))}}class mm extends Rj{constructor(b,g){super({},{name:b});lc(this,"merged",!1);this.setWithExplicit("type",g)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?!0:ka(this.get("domains"),b=>te(b)&&2===b.length&&0>=b[0]&&0<=b[1])}}const mn=["range","scheme"],lm={bins:b=>{var {model:g,fieldOrDatumDef:l}=b;return uc(l)?el(g,l):void 0},interpolate:b=>{var {channel:g,fieldOrDatumDef:l}=b;b=l.type;b=La(["color","fill","stroke"],g)&&"nominal"!==b?"hcl":void 0;return b},nice:b=>{var {scaleType:g,
channel:l,fieldOrDatumDef:B}=b;var K;b=(null===(K=df(B))||void 0===K?0:K.bin)||La([h.TIME,h.UTC],g)?void 0:l in xg?!0:void 0;return b},padding:b=>{var {channel:g,scaleType:l,fieldOrDatumDef:B,markDef:K,config:R}=b;a:{b=R.scale;var va=R.bar;if(g in xg){if(l in yb){if(void 0!==b.continuousPadding){b=b.continuousPadding;break a}const {type:Na,orient:wb}=K;if("bar"===Na&&(!uc(B)||!B.bin&&!B.timeUnit)&&("vertical"===wb&&"x"===g||"horizontal"===wb&&"y"===g)){b=va.continuousBandSize;break a}}if(l===h.POINT){b=
b.pointPadding;break a}}b=void 0}return b},paddingInner:b=>{var {scalePadding:g,channel:l,markDef:B,config:K}=b;if(void 0!==g)b=void 0;else if(l in xg){const {bandPaddingInner:R,barBandPaddingInner:va,rectBandPaddingInner:Na}=K.scale;b=la(R,"bar"===B.type?va:Na)}else b=void 0;return b},paddingOuter:b=>{var {scalePadding:g,channel:l,scaleType:B,scalePaddingInner:K,config:R}=b;void 0!==g?b=void 0:l in xg&&B===h.BAND?({bandPaddingOuter:b}=R.scale,b=la(b,Cc(K)?{signal:"".concat(K.signal,"/2")}:K/2)):
b=void 0;return b},reverse:b=>{var {fieldOrDatumDef:g,scaleType:l,channel:B,config:K}=b;b=uc(g)?g.sort:void 0;var R=K.scale;b="x"===B&&void 0!==R.xReverse?l in Zc&&"descending"===b?Cc(R.xReverse)?{signal:"!".concat(R.xReverse.signal)}:!R.xReverse:R.xReverse:l in Zc&&"descending"===b?!0:void 0;return b},zero:b=>{var {channel:g,fieldOrDatumDef:l,domain:B,markDef:K,scaleType:R}=b;a:if(B&&"unaggregated"!==B&&R in Zc){if(te(B)&&(b=B[B.length-1],0>=B[0]&&0<=b)){b=!0;break a}b=!1}else if("size"!==g||"quantitative"!==
l.type||R in ic)if(uc(l)&&l.bin||!La([...Tg,...Rk],g))b=!1;else{const {orient:va,type:Na}=K;b=La(["bar","area","line","trail"],Na)&&("horizontal"===va&&"y"===g||"vertical"===va&&"x"===g)?!1:!0}else b=!0;return b}},nn=Gh((b,g)=>da[b]-da[g]);class Rl{constructor(){lc(this,"nameMap",void 0);this.nameMap={}}rename(b,g){this.nameMap[b]=g}has(b){return void 0!==this.nameMap[b]}get(b){for(;this.nameMap[b]&&b!==this.nameMap[b];)b=this.nameMap[b];return b}}class Sl{constructor(b,g,l,B,K,R,va){var Na,wb;this.type=
g;this.parent=l;this.config=K;lc(this,"name",void 0);lc(this,"size",void 0);lc(this,"title",void 0);lc(this,"description",void 0);lc(this,"data",void 0);lc(this,"transforms",void 0);lc(this,"layout",void 0);lc(this,"scaleNameMap",void 0);lc(this,"projectionNameMap",void 0);lc(this,"signalNameMap",void 0);lc(this,"component",void 0);lc(this,"view",void 0);lc(this,"children",[]);lc(this,"correctDataNames",Fb=>{Fb.from&&Fb.from.data&&(Fb.from.data=this.lookupDataSource(Fb.from.data));Fb.from&&Fb.from.facet&&
Fb.from.facet.data&&(Fb.from.facet.data=this.lookupDataSource(Fb.from.facet.data));return Fb});this.parent=l;this.config=K;this.view=cf(va);this.name=null!==(Na=b.name)&&void 0!==Na?Na:B;this.title=Nd(b.title)?{text:b.title}:b.title?this.initTitle(b.title):void 0;this.scaleNameMap=l?l.scaleNameMap:new Rl;this.projectionNameMap=l?l.projectionNameMap:new Rl;this.signalNameMap=l?l.signalNameMap:new Rl;this.data=b.data;this.description=b.description;this.transforms=rh(null!==(wb=b.transform)&&void 0!==
wb?wb:[]);this.layout="layer"===g||"unit"===g?{}:Ub(b,g,K);this.component={data:{sources:l?l.component.data.sources:[],outputNodes:l?l.component.data.outputNodes:{},outputNodeRefCounts:l?l.component.data.outputNodeRefCounts:{},isFaceted:"facet"in b||l&&l.component.data.isFaceted&&void 0===b.data},layoutSize:new Rj,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},R?Ve(R):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}initTitle(b){const g=
td(b),l={text:Bd(b.text)};for(const B of g)l[B]=Bd(b[B]);return l}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){var {ignoreRange:b}={};Hk(this);eg(this)?Bb(this):Xb(this);for(const g of Rf)Vi(this,g);b||cl(this)}parseProjection(){nh(this)}renameTopLevelLayoutSizeSignal(){"width"!==
this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){dj(this)}assembleGroupStyle(){if("unit"===this.type||"layer"===this.type){var b,g;return null!==(b=null===(g=this.view)||void 0===g?void 0:g.style)&&void 0!==b?b:"cell"}}assembleEncodeFromView(b){b=Object.assign({},b);b=(delete b.style,b);const g={};for(const l of td(b)){const B=b[l];void 0!==B&&(g[l]=Pd(B))}return g}assembleGroupEncodeEntry(b){let g=
{};this.view&&(g=this.assembleEncodeFromView(this.view));if(!b&&(this.description&&(g.description=Pd(this.description)),"unit"===this.type||"layer"===this.type)){var l;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(l=g)&&void 0!==l?l:{})}return S(g)?void 0:g}assembleLayout(){if(this.layout){var b=this.layout,g=Object.assign({},b);b=b.spacing;g=(delete g.spacing,g);var {component:l,config:B}=this;{var K=l.layoutHeaders;const Na={};for(va of Yg){var R=
K[va];if(null===R||void 0===R?0:R.facetFieldDef){const {titleAnchor:wb,titleOrient:Fb}=Si(["titleAnchor","titleOrient"],R.facetFieldDef.header,B,va);R=Ch(va,Fb);const ec=Cn[R][wb];void 0!==ec&&(Na[R]=ec)}}var va=S(Na)?void 0:Na}return Object.assign({},{padding:b},this.assembleDefaultLayout(),g,va?{titleBand:va}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const {layoutHeaders:b}=this.component;let g=[];for(const l of Yg)b[l].title&&g.push(Vj(this,l));for(const l of Ol)g=g.concat(Og(this,
l));return g}assembleAxes(){return kh(this.component.axes,this.config)}assembleLegends(){return Wj(this)}assembleProjections(){var b=pj(this)||tk(this)?sh(this):oj(this);return b}assembleTitle(){var b,g=null!==(b=this.title)&&void 0!==b?b:{};b=Object.assign({},g);g=g.encoding;b=(delete b.encoding,b);g=Object.assign({},ud(this.config.title).nonMark,b,g?{encode:{update:g}}:{});if(g.text){if(La(["unit","layer"],this.type)){if(La(["middle",void 0],g.anchor)){var l;g.frame=null!==(l=g.frame)&&void 0!==
l?l:"group"}}else{var B;g.anchor=null!==(B=g.anchor)&&void 0!==B?B:"start"}return S(g)?void 0:g}}assembleGroup(b){b=void 0===b?[]:b;const g={};b=b.concat(this.assembleSignals());0<b.length&&(g.signals=b);if(b=this.assembleLayout())g.layout=b;g.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());b=!this.parent||Eh(this.parent)?Tf(this):[];0<b.length&&(g.scales=b);b=this.assembleAxes();0<b.length&&(g.axes=b);b=this.assembleLegends();0<b.length&&(g.legends=b);return g}getName(b){return I((this.name?
this.name+"_":"")+b)}getDataName(b){return this.getName(og[b].toLowerCase())}requestDataName(b){b=this.getDataName(b);const g=this.component.data.outputNodeRefCounts;g[b]=(g[b]||0)+1;return b}getSizeSignalRef(b){if(Eh(this.parent)){var g=Sh(b),l=Kb(g);if((g=this.component.scales[l])&&!g.merged){var B=g.get("type");const K=g.get("range");if(B in Qd&&xc(K)){b=g.get("name");B=Af(this,l);if(B=Nf(B))return l=pd({aggregate:"distinct",field:B},{expr:"datum"}),{signal:Dh(b,g,l)};Gb(Nc(l));return null}}}return{signal:this.signalNameMap.get(this.getName(b))}}lookupDataSource(b){const g=
this.component.data.outputNodes[b];return g?g.getSource():b}getSignalName(b){return this.signalNameMap.get(b)}renameSignal(b,g){this.signalNameMap.rename(b,g)}renameScale(b,g){this.scaleNameMap.rename(b,g)}renameProjection(b,g){this.projectionNameMap.rename(b,g)}scaleName(b,g){if(g)return this.getName(b);if(sj[b]&&Yh[b]&&this.component.scales[b]||this.scaleNameMap.has(this.getName(b)))return this.scaleNameMap.get(this.getName(b))}projectionName(b){if(b)return this.getName("projection");if(this.component.projection&&
!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(b){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const g=this.component.scales[b];return g&&!g.merged?g:this.parent?this.parent.getScaleComponent(b):void 0}getSelectionComponent(b,g){let l=this.component.selection[b];
!l&&this.parent&&(l=this.parent.getSelectionComponent(b,g));if(!l)throw Error('Cannot find a selection named "'.concat(g,'".'));return l}hasAxisOrientSignalRef(){var b,g;return(null===(b=this.component.axes.x)||void 0===b?void 0:b.some(l=>l.hasOrientSignalRef()))||(null===(g=this.component.axes.y)||void 0===g?void 0:g.some(l=>l.hasOrientSignalRef()))}}class ym extends Sl{vgField(b,g){g=void 0===g?{}:g;if(b=this.fieldDef(b))return pd(b,g)}reduceFieldDef(b,g){return Yb(this.getMapping(),(l,B,K)=>(B=
df(B))?b(l,B,K):l,g)}forEachFieldDef(b,g){Eb(this.getMapping(),(l,B)=>{(l=df(l))&&b(l,B)},g)}}class Il extends ig{clone(){return new Il(null,Ve(this.transform))}constructor(b,g){var l,B,K;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(B=b[0])&&void 0!==B?B:"value",null!==(K=b[1])&&void 0!==K?K:"density"]}dependentFields(){var b;return new Set([this.transform.density,...null!==(b=this.transform.groupby)&&void 0!==
b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(Ca(this.transform))}assemble(){var b=this.transform,g=Object.assign({},b);b=b.density;g=(delete g.density,g);return Object.assign({},{type:"kde",field:b},g)}}class sl extends ig{clone(){return new sl(null,Object.assign({},this.filter))}constructor(b,g){super(b);this.filter=g}static make(b,g){const {config:l,mark:B,markDef:K}=g;if("filter"!==be("invalid",K,l))return null;const R=g.reduceFieldDef((va,
Na,wb)=>{(wb=!!Yh[wb]&&g.getScaleComponent(wb))&&wb.get("type")in Zc&&"count"!==Na.aggregate&&!re(B)&&(va[Na.field]=Na);return va},{});return td(R).length?new sl(b,R):null}dependentFields(){return new Set(td(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(Ca(this.filter))}assemble(){const b=td(this.filter).reduce((g,l)=>{l=this.filter[l];const B=pd(l,{expr:"datum"});null!==l&&("temporal"===l.type?g.push("(isDate(".concat(B,") || (isValid(").concat(B,") \x26\x26 isFinite(+").concat(B,
")))")):"quantitative"===l.type&&(g.push("isValid(".concat(B,")")),g.push("isFinite(+".concat(B,")"))));return g},[]);return 0<b.length?{type:"filter",expr:b.join(" \x26\x26 ")}:null}}class Hl extends ig{clone(){return new Hl(this.parent,Ve(this.transform))}constructor(b,g){super(b);this.transform=g;this.transform=Ve(g);const {flatten:l,as:B=[]}=this.transform;this.transform.as=l.map((K,R)=>{var va;return null!==(va=B[R])&&void 0!==va?va:K})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(Ca(this.transform))}assemble(){const {flatten:b,
as:g}=this.transform;return{type:"flatten",fields:b,as:g}}}class Gl extends ig{clone(){return new Gl(null,Ve(this.transform))}constructor(b,g){var l,B,K;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(B=b[0])&&void 0!==B?B:"key",null!==(K=b[1])&&void 0!==K?K:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(Ca(this.transform))}assemble(){const {fold:b,
as:g}=this.transform;return{type:"fold",fields:b,as:g}}}class al extends ig{clone(){return new al(null,Ve(this.fields),this.geojson,this.signal)}static parseAll(b,g){if(g.component.projection&&!g.component.projection.isFit)return b;let l=0;for(var B of[["longitude","latitude"],["longitude2","latitude2"]]){const K=B.map(R=>{R=M(g.encoding[R]);return uc(R)?R.field:id(R)?{expr:"".concat(R.datum)}:le(R)?{expr:"".concat(R.value)}:void 0});if(K[0]||K[1])b=new al(b,K,null,g.getName("geojson_".concat(l++)))}g.channelHasField("shape")&&
(B=g.typedFieldDef("shape"),"geojson"===B.type&&(b=new al(b,null,B.field,g.getName("geojson_".concat(l++)))));return b}constructor(b,g,l,B){super(b);this.fields=g;this.geojson=l;this.signal=B}dependentFields(){var b;const g=(null!==(b=this.fields)&&void 0!==b?b:[]).filter(Ha);return new Set([...this.geojson?[this.geojson]:[],...g])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(Ca(this.fields))}assemble(){return Object.assign({},{type:"geojson"},
this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})}}class tl extends ig{clone(){return new tl(null,this.projection,Ve(this.fields),Ve(this.as))}constructor(b,g,l,B){super(b);this.projection=g;this.fields=l;this.as=B}static parseAll(b,g){if(!g.projectionName())return b;for(const l of[["longitude","latitude"],["longitude2","latitude2"]]){const B=l.map(R=>{R=M(g.encoding[R]);return uc(R)?R.field:id(R)?{expr:"".concat(R.datum)}:le(R)?{expr:"".concat(R.value)}:
void 0}),K="longitude2"===l[0]?"2":"";if(B[0]||B[1])b=new tl(b,g.projectionName(),B,[g.getName("x"+K),g.getName("y"+K)])}return b}dependentFields(){return new Set(this.fields.filter(Ha))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(Ca(this.fields)," ").concat(Ca(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Kk extends ig{clone(){return new Kk(null,Ve(this.transform))}constructor(b,
g){super(b);this.transform=g}dependentFields(){var b;return new Set([this.transform.impute,this.transform.key,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set([this.transform.impute])}processSequence(b){const {start:g=0,stop:l,step:B}=b;b=[g,l,...B?[B]:[]].join();return{signal:"sequence(".concat(b,")")}}static makeFromTransform(b,g){return new Kk(b,g)}static makeFromEncoding(b,g){const l=g.encoding;var B=l.x;const K=l.y;if(uc(B)&&uc(K)){const R=B.impute?B:K.impute?
K:void 0;if(void 0===R)return;B=B.impute?K:K.impute?B:void 0;const {method:va,value:Na,frame:wb,keyvals:Fb}=R.impute;g=pc(g.mark,l);return new Kk(b,Object.assign({},{impute:R.field,key:B.field},va?{method:va}:{},void 0!==Na?{value:Na}:{},wb?{frame:wb}:{},void 0!==Fb?{keyvals:Fb}:{},g.length?{groupby:g}:{}))}return null}hash(){return"Impute ".concat(Ca(this.transform))}assemble(){const {impute:b,key:g,keyvals:l,method:B,groupby:K,value:R,frame:va=[null,null]}=this.transform,Na=Object.assign({},{type:"impute",
field:b,key:g},l?{keyvals:void 0!==(null===l||void 0===l?void 0:l.stop)?this.processSequence(l):l}:{},{method:"value"},K?{groupby:K}:{},{value:B&&"value"!==B?null:R});if(B&&"value"!==B){const wb=Object.assign({},{type:"window",as:["imputed_".concat(b,"_value")],ops:[B],fields:[b],frame:va,ignorePeers:!1},K?{groupby:K}:{}),Fb={type:"formula",expr:"datum.".concat(b," \x3d\x3d\x3d null ? datum.imputed_").concat(b,"_value : datum.").concat(b),as:b};return[Na,wb,Fb]}return[Na]}}class Jl extends ig{clone(){return new Jl(null,
Ve(this.transform))}constructor(b,g){var l,B,K;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(B=b[0])&&void 0!==B?B:g.on,null!==(K=b[1])&&void 0!==K?K:g.loess]}dependentFields(){var b;return new Set([this.transform.loess,this.transform.on,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(Ca(this.transform))}assemble(){var b=
this.transform,g=Object.assign({},b);const l=b.loess;b=b.on;g=(delete g.loess,delete g.on,g);return Object.assign({},{type:"loess",x:b,y:l},g)}}class ul extends ig{clone(){return new ul(null,Ve(this.transform),this.secondary)}constructor(b,g,l){super(b);this.transform=g;this.secondary=l}static make(b,g,l,B){const K=g.component.data.sources,{from:R}=l;var va=null;if("data"in R)va=Yj(R.data,K),va||(va=new qk(R.data),K.push(va)),B=g.getName("lookup_".concat(B)),va=new th(va,B,og.Lookup,g.component.data.outputNodeRefCounts),
g.component.data.outputNodes[B]=va;else if("selection"in R&&(B=R.selection,l=Object.assign({},{as:B},l),va=g.getSelectionComponent(I(B),B).materialized,!va))throw Error('Cannot define and lookup the "'.concat(B,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");return new ul(b,l,va.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?ob(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(Ca({transform:this.transform,
secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var b=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:ob(this.transform.as)}:{});else b=this.transform.as,Ha(b)||(Gb('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),b="_lookup"),b={as:[b]};return Object.assign({},{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},b,this.transform.default?
{default:this.transform.default}:{})}}class Kl extends ig{clone(){return new Kl(null,Ve(this.transform))}constructor(b,g){var l,B,K;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(B=b[0])&&void 0!==B?B:"prob",null!==(K=b[1])&&void 0!==K?K:"value"]}dependentFields(){var b;return new Set([this.transform.quantile,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(Ca(this.transform))}assemble(){var b=
this.transform,g=Object.assign({},b);b=b.quantile;g=(delete g.quantile,g);return Object.assign({},{type:"quantile",field:b},g)}}class Ll extends ig{clone(){return new Ll(null,Ve(this.transform))}constructor(b,g){var l,B,K;super(b);this.transform=g;this.transform=Ve(g);b=null!==(l=this.transform.as)&&void 0!==l?l:[void 0,void 0];this.transform.as=[null!==(B=b[0])&&void 0!==B?B:g.on,null!==(K=b[1])&&void 0!==K?K:g.regression]}dependentFields(){var b;return new Set([this.transform.regression,this.transform.on,
...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(Ca(this.transform))}assemble(){var b=this.transform,g=Object.assign({},b);const l=b.regression;b=b.on;g=(delete g.regression,delete g.on,g);return Object.assign({},{type:"regression",x:b,y:l},g)}}class Nl extends ig{clone(){return new Nl(null,Ve(this.transform))}constructor(b,g){super(b);this.transform=g}addDimensions(b){var g;this.transform.groupby=
Ya((null!==(g=this.transform.groupby)&&void 0!==g?g:[]).concat(b),l=>l)}producedFields(){}dependentFields(){var b;return new Set([this.transform.pivot,this.transform.value,...null!==(b=this.transform.groupby)&&void 0!==b?b:[]])}hash(){return"PivotTransform ".concat(Ca(this.transform))}assemble(){const {pivot:b,value:g,groupby:l,limit:B,op:K}=this.transform;return Object.assign({},{type:"pivot",field:b,value:g},void 0!==B?{limit:B}:{},void 0!==K?{op:K}:{},void 0!==l?{groupby:l}:{})}}class Ml extends ig{clone(){return new Ml(null,
Ve(this.transform))}constructor(b,g){super(b);this.transform=g}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(Ca(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class wl extends ym{constructor(b,g,l,B){super(b,"facet",g,l,B,b.resolve);lc(this,"facet",void 0);lc(this,"child",void 0);lc(this,"children",void 0);this.child=ki(b.spec,this,this.getName("child"),void 0,B);this.children=[this.child];this.facet=this.initFacet(b.facet)}initFacet(b){if(!wa(b))return{facet:this.initFacetFieldDef(b,
"facet")};var g=td(b);const l={};for(const B of g){if(!La(["row","column"],B)){Gb(rd(B,"facet"));break}g=b[B];if(void 0===g.field){Gb(ac(g,B));break}l[B]=this.initFacetFieldDef(g,B)}return l}initFacetFieldDef(b,g){var l=Object.assign({},b);b=b.header;l=(delete l.header,l);g=Qb(l,g);b&&(g.header=cf(b));return g}channelHasField(b){return!!this.facet[b]}fieldDef(b){return this.facet[b]}parseData(){this.component.data=Vh(this);this.child.parseData()}parseLayoutSize(){Ej(this)}parseSelections(){this.child.parseSelections();
this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const K of Yg){{var b=void 0,g=K;const {facet:R,config:va,child:Na,component:wb}=this;if(this.channelHasField(g)){const Fb=R[g];var l=lh("title",null,va,g);l=Ze(Fb,va,{allowDisabling:!0,includeDefault:void 0===l||!!l});Na.component.layoutHeaders[g].title&&(l=te(l)?l.join(", "):l,l+=" / "+Na.component.layoutHeaders[g].title,Na.component.layoutHeaders[g].title=
null);var B=lh("labelOrient",Fb,va,g);const ec=null!==(b=Fb.header)&&void 0!==b?b:{};b=la(ec.labels,va.header.labels,!0);B=La(["bottom","right"],B)?"footer":"header";wb.layoutHeaders[g]={title:l,facetFieldDef:Fb,[B]:"facet"===g?[]:[ml(this,g,b)]}}}}hi(this,"x");hi(this,"y")}assembleSelectionTopLevelSignals(b){return this.child.assembleSelectionTopLevelSignals(b)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(b){return this.child.assembleSelectionData(b)}getHeaderLayoutMixins(){const b=
{};for(const va of Yg)for(const Na of Fl){const wb=this.component.layoutHeaders[va];var g=wb[Na],{facetFieldDef:l}=wb;if(l&&(l=lh("titleOrient",l.header,this.config,va),La(["right","bottom"],l))){var B;l=Ch(va,l);b.titleAnchor=null!==(B=b.titleAnchor)&&void 0!==B?B:{};b.titleAnchor[l]="end"}if(null===g||void 0===g?0:g[0]){g="row"===va?"height":"width";l="header"===Na?"headerBand":"footerBand";if("facet"!==va&&!this.child.component.layoutSize.get(g)){var K;b[l]=null!==(K=b[l])&&void 0!==K?K:{};b[l][va]=
.5}if(wb.title){var R;b.offset=null!==(R=b.offset)&&void 0!==R?R:{};b.offset["row"===va?"rowTitle":"columnTitle"]=10}}}return b}assembleDefaultLayout(){const {column:b,row:g}=this.facet,l=b?this.columnDistinctSignal():g?1:void 0;let B="all";g||"independent"!==this.component.resolve.scale.x?b||"independent"!==this.component.resolve.scale.y||(B="none"):B="none";return Object.assign({},this.getHeaderLayoutMixins(),l?{columns:l}:{},{bounds:"full",align:B})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&
this.parent instanceof wl)){const b=this.getName("column_domain");return{signal:"length(data('".concat(b,"'))")}}}assembleGroup(b){return this.parent&&this.parent instanceof wl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:pd(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(b)):super.assembleGroup(b)}getCardinalityAggregateForChild(){const b=[],g=[],l=[];if(this.child instanceof wl){if(this.child.channelHasField("column")){var B=pd(this.child.facet.column);
b.push(B);g.push("distinct");l.push("distinct_".concat(B))}}else for(B of Tg){var K=this.child.component.scales[B];if(K&&!K.merged){var R=K.get("type");K=K.get("range");R in Qd&&xc(K)&&(R=Af(this.child,B),(R=Nf(R))?(b.push(R),g.push("distinct"),l.push("distinct_".concat(R))):Gb(Nc(B)))}}return{fields:b,ops:g,as:l}}assembleFacet(){const {name:b,data:g}=this.component.data.facetRoot,{row:l,column:B}=this.facet,{fields:K,ops:R,as:va}=this.getCardinalityAggregateForChild(),Na=[];for(var wb of Yg){var Fb=
this.facet[wb];if(Fb){Na.push(pd(Fb));const {bin:ec,sort:Oc}=Fb;Dc(ec)&&Na.push(pd(Fb,{binSuffix:"end"}));if(N(Oc)){const {field:Wc,op:cd="min"}=Oc;Fb=hh(Fb,Oc);l&&B?(K.push(Fb),R.push("max")):(K.push(Wc),R.push(cd));va.push(Fb)}else te(Oc)&&(Fb=ih(Fb,wb),K.push(Fb),R.push("max"),va.push(Fb))}}wb=!!l&&!!B;return Object.assign({},{name:b,data:g,groupby:Na},wb||0<K.length?{aggregate:Object.assign({},wb?{cross:wb}:{},K.length?{fields:K,ops:R,as:va}:{})}:{})}facetSortFields(b){var {facet:g}=this;return(g=
g[b])?N(g.sort)?[hh(g,g.sort,{expr:"datum"})]:te(g.sort)?[ih(g,b,{expr:"datum"})]:[pd(g,{expr:"datum"})]:[]}facetSortOrder(b){const {facet:g}=this;return(b=g[b])?({sort:b}=b,[(N(b)?b.order:!te(b)&&b)||"ascending"]):[]}assembleLabelTitle(){const {facet:b,config:g}=this;if(b.facet)return zf(b.facet,"facet",g);const l={row:["top","bottom"],column:["left","right"]};for(const K of Ol)if(b[K]){var B;const R=lh("labelOrient",null===(B=b[K])||void 0===B?void 0:B.header,g,K);if(La(l[K],R))return zf(b[K],K,
g)}}assembleMarks(){const {child:b}=this,g=dl(this.component.data.facetRoot),l=b.assembleGroupEncodeEntry(!1),B=this.assembleLabelTitle()||b.assembleTitle(),K=b.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},B?{title:B}:{},K?{style:K}:{},{from:{facet:this.assembleFacet()},sort:{field:Yg.map(R=>this.facetSortFields(R)).flat(),order:Yg.map(R=>this.facetSortOrder(R)).flat()}},0<g.length?{data:g}:{},l?{encode:{update:l}}:{},b.assembleGroup(di(this,[])))]}getMapping(){return this.facet}}
class qn extends Sl{constructor(b,g,l,B){var K,R,va,Na;super(b,"concat",g,l,B,b.resolve);lc(this,"children",void 0);"shared"!==(null===(K=b.resolve)||void 0===K?void 0:null===(R=K.axis)||void 0===R?void 0:R.x)&&"shared"!==(null===(va=b.resolve)||void 0===va?void 0:null===(Na=va.axis)||void 0===Na?void 0:Na.y)||Gb("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");this.children=this.getChildren(b).map((wb,Fb)=>ki(wb,this,this.getName("concat_"+
Fb),void 0,B))}parseData(){this.component.data=Vh(this);for(const b of this.children)b.parseData()}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const g of td(b.component.selection))this.component.selection[g]=b.component.selection[g]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){for(const b of this.children)b.parseAxesAndHeaders()}getChildren(b){return"vconcat"in b?b.vconcat:"hconcat"in b?b.hconcat:b.concat}parseLayoutSize(){{Ej(this);
const b=void 0===this.layout.columns?"height":"childHeight";Fj(this,1===this.layout.columns?"width":"childWidth");Fj(this,b)}}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(b){return this.children.reduce((g,l)=>l.assembleSelectionTopLevelSignals(g),b)}assembleSignals(){this.children.forEach(b=>b.assembleSignals());return[]}assembleLayoutSignals(){const b=mh(this);for(const g of this.children)b.push(...g.assembleLayoutSignals());return b}assembleSelectionData(b){return this.children.reduce((g,
l)=>l.assembleSelectionData(g),b)}assembleMarks(){return this.children.map(b=>{const g=b.assembleTitle(),l=b.assembleGroupStyle(),B=b.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:b.getName("group")},g?{title:g}:{},l?{style:l}:{},B?{encode:{update:B}}:{},b.assembleGroup())})}assembleDefaultLayout(){const b=this.layout.columns;return Object.assign({},null!=b?{columns:b}:{},{bounds:"full",align:"each"})}}const En=Object.assign({},{disable:1,gridScale:1,scale:1},hl,{labelExpr:1,
encode:1}),om=td(En);class pm extends Rj{constructor(b,g,l){b=void 0===b?{}:b;g=void 0===g?{}:g;l=void 0===l?!1:l;super();this.explicit=b;this.implicit=g;this.mainExtracted=l}clone(){return new pm(Ve(this.explicit),Ve(this.implicit),this.mainExtracted)}hasAxisPart(b){if("axis"===b)return!0;if("grid"===b||"title"===b)return!!this.get(b);b=this.get(b);return!(!1===b||null===b)}hasOrientSignalRef(){return Cc(this.explicit.orient)}}const Fn={bottom:"top",top:"bottom",left:"right",right:"left"},pn=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),
vl={arc:{vgMark:"arc",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),Ih(b,"radius","arc"),Ih(b,"theta","arc"))},area:{vgMark:"area",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),Ji("x",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===b.markDef.orient}),
Ji("y",b,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===b.markDef.orient}),Ag(b))},bar:{vgMark:"rect",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","bar"),Ih(b,"y","bar"))},circle:{vgMark:"symbol",encodeEntry:b=>Xi(b,"circle")},geoshape:{vgMark:"shape",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),
postEncodingTransform:b=>{var {encoding:g}=b;g=g.shape;return[Object.assign({},{type:"geoshape",projection:b.projectionName()},g&&uc(g)&&"geojson"===g.type?{field:pd(g,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","image"),Ih(b,"y","image"),tj(b,"url"))},line:{vgMark:"line",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",
size:"ignore",orient:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),qg("size",b,{vgChannel:"strokeWidth"}),Ag(b))},point:{vgMark:"symbol",encodeEntry:b=>Xi(b)},rect:{vgMark:"rect",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ih(b,"x","rect"),Ih(b,"y","rect"))},rule:{vgMark:"rule",encodeEntry:b=>{var {markDef:g}=b;g=g.orient;return b.encoding.x||b.encoding.y||b.encoding.latitude||
b.encoding.longitude?Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Ji("x",b,{defaultPos:"horizontal"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==g}),Ji("y",b,{defaultPos:"vertical"===g?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==g}),qg("size",b,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:b=>Xi(b,"square")},text:{vgMark:"text",encodeEntry:b=>{const {config:g,encoding:l}=
b;return Object.assign({},Pg(b,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),tj(b),qg("size",b,{vgChannel:"fontSize"}),qg("angle",b),Pf("align",Pk(b.markDef,l,g)),Pf("baseline",Zj(b.markDef,l,g)),wg("radius",b,{defaultPos:null,isMidPoint:!0}),wg("theta",b,{defaultPos:null,isMidPoint:!0}))}},tick:{vgMark:"rect",encodeEntry:b=>{const {config:g,markDef:l}=b;var B=l.orient;const K="horizontal"===
B?"width":"height";B="horizontal"===B?"height":"width";return Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),wg("x",b,{defaultPos:"mid",vgChannel:"xc"}),wg("y",b,{defaultPos:"mid",vgChannel:"yc"}),qg("size",b,{defaultValue:ji(b),vgChannel:K}),{[B]:Pd(be("thickness",l,g))})}},trail:{vgMark:"trail",encodeEntry:b=>Object.assign({},Pg(b,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),
wg("x",b,{defaultPos:"mid"}),wg("y",b,{defaultPos:"mid"}),qg("size",b),Ag(b))}};class sm extends ym{constructor(b,g,l,B,K){B=void 0===B?{}:B;super(b,"unit",g,l,K,void 0,Cb(b)?b.view:void 0);lc(this,"markDef",void 0);lc(this,"encoding",void 0);lc(this,"specifiedScales",{});lc(this,"stack",void 0);lc(this,"specifiedAxes",{});lc(this,"specifiedLegends",{});lc(this,"specifiedProjection",{});lc(this,"selection",{});lc(this,"children",[]);var R=Ad(b.mark)?Object.assign({},b.mark):{type:b.mark};g=R.type;
if(void 0===R.filled){({graticule:l}={graticule:b.data&&"graticule"in b.data});if(l)l=!1;else{l=wf("filled",R,K);var va=R.type;l=la(l,va!==Ud&&va!==Gd&&va!==Ne)}R.filled=l}l=this.encoding=tb(b.encoding||{},g,R.filled,K);R=cf(R);va=be("orient",R,K);R.orient=wk(R.type,l,va);void 0!==va&&va!==R.orient&&(va='Specified orient "'.concat(R.orient,'" overridden with "').concat(va,'".'),Gb(va));if("bar"===R.type&&R.orient&&(va=be("cornerRadiusEnd",R,K),void 0!==va)){const ec="horizontal"===R.orient&&l.x2||
"vertical"===R.orient&&l.y2?["cornerRadius"]:sn[R.orient];for(var Na of ec)R[Na]=va;void 0!==R.cornerRadiusEnd&&delete R.cornerRadiusEnd}void 0===be("opacity",R,K)&&(Na=La([Ud,lg,ii,Ok],R.type)&&!ya(l)?.7:void 0,R.opacity=Na);void 0===be("cursor",R,K)&&(Na=R,K=l.href||Na.href||be("href",Na,K)?"pointer":Na.cursor,R.cursor=K);this.markDef=K=R;B={encoding:l,size:Cb(b)?Object.assign({},B,b.width?{width:b.width}:{},b.height?{height:b.height}:{}):B};var {encoding:wb,size:Fb}=B;for(const ec of Tg)B=eb(ec),
qb(Fb[B])&&fd(wb[ec])&&(delete Fb[B],Gb(Z(B)));this.size=Fb;this.stack=vc(g,l);this.specifiedScales=this.initScales(g,l);this.specifiedAxes=this.initAxes(l);this.specifiedLegends=this.initLegends(l);this.specifiedProjection=b.projection;this.selection=b.selection}get hasProjection(){const {encoding:b}=this,g=this.mark===nm,l=b&&rj.some(B=>xd(b[B]));return g||l}scaleDomain(b){return(b=this.specifiedScales[b])?b.domain:void 0}axis(b){return this.specifiedAxes[b]}legend(b){return this.specifiedLegends[b]}initScales(b,
g){return Zh.reduce((l,B)=>{const K=M(g[B]);if(K){var R;l[B]=this.initScale(null!==(R=K.scale)&&void 0!==R?R:{})}return l},{})}initScale(b){const {domain:g,range:l}=b;b=cf(b);te(g)&&(b.domain=g.map(Bd));te(l)&&(b.range=l.map(Bd));return b}initAxes(b){return Tg.reduce((g,l)=>{var B=b[l];if(xd(B)||"x"===l&&xd(b.x2)||"y"===l&&xd(b.y2))B=xd(B)?B.axis:void 0,g[l]=B?this.initAxis(Object.assign({},B)):B;return g},{})}initAxis(b){var g=td(b);const l={};for(const B of g)g=b[B],l[B]=D(g)?Td(g):Bd(g);return l}initLegends(b){return Bk.reduce((g,
l)=>{var B=M(b[l]),K;if(K=B)a:{switch(l){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":K=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":K=!1;break a}K=void 0}K&&(B=B.legend,g[l]=B?cf(B):B);return g},{})}parseData(){this.component.data=Vh(this)}parseLayoutSize(){{const {size:g,component:l}=this;for(const B of Tg){const K=eb(B);if(g[K]){var b=g[K];l.layoutSize.set(K,qb(b)?"step":b,!0)}else b=ol(this,K),l.layoutSize.set(K,
b,!1)}}}parseSelections(){this.component.selection=bh(this,this.selection)}parseMarkGroup(){this.component.mark=bk(this)}parseAxesAndHeaders(){this.component.axes=Hj(this)}assembleSelectionTopLevelSignals(b){return ij(this,b)}assembleSignals(){return[...nj(this),...hj(this,[])]}assembleSelectionData(b){return Bj(this,b)}assembleLayout(){return null}assembleLayoutSignals(){return mh(this)}assembleMarks(){var b;let g=null!==(b=this.component.mark)&&void 0!==b?b:[];this.parent&&pj(this.parent)||(g=qi(this,
g));return g.map(this.correctDataNames)}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(b){return ja(this.encoding,b)}fieldDef(b){return df(this.encoding[b])}typedFieldDef(b){b=this.fieldDef(b);return zd(b)?b:null}}class rm extends Sl{constructor(b,g,l,B,K){super(b,"layer",g,l,K,b.resolve,b.view);lc(this,"children",void 0);const R=Object.assign({},B,b.width?{width:b.width}:{},b.height?{height:b.height}:{});this.children=b.layer.map((va,Na)=>{if("layer"in va)return new rm(va,
this,this.getName("layer_"+Na),R,K);if(aa(va))return new sm(va,this,this.getName("layer_"+Na),R,K);throw Error(Pc(va));})}parseData(){this.component.data=Vh(this);for(const b of this.children)b.parseData()}parseLayoutSize(){Ej(this);Fj(this,"width");Fj(this,"height")}parseSelections(){this.component.selection={};for(const b of this.children){b.parseSelections();for(const g of td(b.component.selection))this.component.selection[g]=b.component.selection[g]}}parseMarkGroup(){for(const b of this.children)b.parseMarkGroup()}parseAxesAndHeaders(){{const {axes:l,
resolve:B}=this.component,K={top:0,bottom:0,right:0,left:0};for(var b of this.children){b.parseAxesAndHeaders();for(const R of td(b.component.axes))B.axis[R]=Bi(this.component.resolve,R),"shared"===B.axis[R]&&(l[R]=Wi(l[R],b.component.axes[R]),l[R]||(B.axis[R]="independent",delete l[R]))}for(const R of Tg){for(const va of this.children)if(va.component.axes[R]){if("independent"===B.axis[R]){var g;l[R]=(null!==(g=l[R])&&void 0!==g?g:[]).concat(va.component.axes[R]);for(const Na of va.component.axes[R]){const {value:wb,
explicit:Fb}=Na.getWithExplicit("orient");Cc(wb)||(0<K[wb]&&!Fb&&(b=Fn[wb],K[wb]>K[b]&&Na.set("orient",b,!1)),K[wb]++)}}delete va.component.axes[R]}if("independent"===B.axis[R]&&l[R]&&1<l[R].length)for(const va of l[R])va.get("grid")&&!va.explicit.grid&&(va.implicit.grid=!1)}}}assembleSelectionTopLevelSignals(b){return this.children.reduce((g,l)=>l.assembleSelectionTopLevelSignals(g),b)}assembleSignals(){return this.children.reduce((b,g)=>b.concat(g.assembleSignals()),nj(this))}assembleLayoutSignals(){return this.children.reduce((b,
g)=>b.concat(g.assembleLayoutSignals()),mh(this))}assembleSelectionData(b){return this.children.reduce((g,l)=>l.assembleSelectionData(g),b)}assembleTitle(){let b=super.assembleTitle();if(b)return b;for(const g of this.children)if(b=g.assembleTitle())return b}assembleLayout(){return null}assembleMarks(){return ei(this,this.children.flatMap(b=>b.assembleMarks()))}assembleLegends(){return this.children.reduce((b,g)=>b.concat(g.assembleLegends()),Wj(this))}}x.accessPathDepth=ua;x.accessPathWithDatum=
Y;x.compile=function(b,g){g=void 0===g?{}:g;g.logger&&(Zi=g.logger);g.fieldTitle&&(Wk=g.fieldTitle);try{const ec=Ga(Ob(g.config,b.config)),Oc=hf(b,ec),Wc=ki(Oc,null,"",void 0,ec);Wc.parse();{var l=Wc.component.data,B=Wc;qa(l.sources);let cd=0,wd=0;for(var K=0;5>K&&jb(l,B,!0);K++)cd++;l.sources.map(y);for(K=0;5>K&&jb(l,B,!1);K++)wd++;qa(l.sources);5===Math.max(cd,wd)&&Gb("Maximum optimization runs(".concat(5,") reached."))}{var R=Oc.autosize;l=ec;B=Wc;const cd=B.component.layoutSize.get("width"),wd=
B.component.layoutSize.get("height");void 0===R?(R={type:"pad"},B.hasAxisOrientSignalRef()&&(R.resize=!0)):Ha(R)&&(R={type:R});var va;if(va=cd&&wd){var Na=R.type;va="fit"===Na||"fit-x"===Na||"fit-y"===Na}if(va)if("step"===cd&&"step"===wd)Gb($c()),R.type="pad";else if("step"===cd||"step"===wd){Na="step"===cd?"width":"height";Gb($c(Kb(Na)));va=R;var wb=(Na="width"===Na?"height":"width","fit-".concat(Kb(Na)));va.type=wb}var Fb=Object.assign({},1===td(R).length&&R.type?"pad"===R.type?{}:{autosize:R.type}:
{autosize:R},Pa(l,!1),Pa(b,!0))}return{spec:tg(Wc,Fb,b.datasets,b.usermeta),normalized:Oc}}finally{g.logger&&(Zi=$i),g.fieldTitle&&(Wk=um)}};x.contains=La;x.deepEqual=Kj;x.deleteNestedProperty=J;x.duplicate=Ve;x.entries=dh;x.every=Aa;x.fieldIntersection=$a;x.flatAccessWithDatum=ma;x.getFirstDefined=la;x.hasIntersection=db;x.hash=Ca;x.internalField=v;x.isBoolean=z;x.isEmpty=S;x.isEqual=function(b,g){const l=td(b),B=td(g);if(l.length!==B.length)return!1;for(const K of l)if(b[K]!==g[K])return!1;return!0};
x.isInternalField=w;x.isNullOrFalse=bb;x.isNumeric=r;x.keys=td;x.logicalExpr=Q;x.mergeDeep=Ra;x.normalize=hf;x.normalizeAngle=p;x.omit=hb;x.pick=Fa;x.prefixGenerator=nb;x.removePathFromField=sa;x.replaceAll=U;x.replacePathInField=Ua;x.resetIdCounter=function(){zk=42};x.setEqual=ib;x.some=ka;x.stringify=If;x.titleCase=W;x.unique=Ya;x.uniqueId=T;x.vals=Fi;x.varName=I;x.version="4.17.0";Object.defineProperty(x,"__esModule",{value:!0})})};
shadow$provide[68]=function($b,Rb,Ic,Nb){function n(){throw Error("setTimeout has not been defined");}function x(){throw Error("clearTimeout has not been defined");}function ea(Ia){if(zb===setTimeout)return setTimeout(Ia,0);if((zb===n||!zb)&&setTimeout)return zb=setTimeout,setTimeout(Ia,0);try{return zb(Ia,0)}catch(Za){try{return zb.call(null,Ia,0)}catch(mb){return zb.call(this,Ia,0)}}}function Sa(Ia){if(cb===clearTimeout)return clearTimeout(Ia);if((cb===x||!cb)&&clearTimeout)return cb=clearTimeout,
clearTimeout(Ia);try{return cb(Ia)}catch(Za){try{return cb.call(null,Ia)}catch(mb){return cb.call(this,Ia)}}}function Wb(){rb&&Xa&&(rb=!1,Xa.length?ob=Xa.concat(ob):Ha=-1,ob.length&&fb())}function fb(){if(!rb){var Ia=ea(Wb);rb=!0;for(var Za=ob.length;Za;){Xa=ob;for(ob=[];++Ha<Za;)Xa&&Xa[Ha].run();Ha=-1;Za=ob.length}Xa=null;rb=!1;Sa(Ia)}}function ub(Ia,Za){this.fun=Ia;this.array=Za}function Ob(){}$b=Ic.exports={};try{var zb="function"===typeof setTimeout?setTimeout:n}catch(Ia){zb=n}try{var cb="function"===
typeof clearTimeout?clearTimeout:x}catch(Ia){cb=x}var ob=[],rb=!1,Xa,Ha=-1;$b.nextTick=function(Ia){var Za=Array(arguments.length-1);if(1<arguments.length)for(var mb=1;mb<arguments.length;mb++)Za[mb-1]=arguments[mb];ob.push(new ub(Ia,Za));1!==ob.length||rb||ea(fb)};ub.prototype.run=function(){this.fun.apply(null,this.array)};$b.title="browser";$b.browser=!0;$b.env={};$b.argv=[];$b.version="";$b.versions={};$b.on=Ob;$b.addListener=Ob;$b.once=Ob;$b.off=Ob;$b.removeListener=Ob;$b.removeAllListeners=
Ob;$b.emit=Ob;$b.prependListener=Ob;$b.prependOnceListener=Ob;$b.listeners=function(Ia){return[]};$b.binding=function(Ia){throw Error("process.binding is not supported");};$b.cwd=function(){return"/"};$b.chdir=function(Ia){throw Error("process.chdir is not supported");};$b.umask=function(){return 0}};
shadow$provide[69]=function($b,Rb,Ic,Nb){var n=Rb(68);(function(x,ea){"object"===typeof Nb&&"undefined"!==typeof Ic?Ic.exports=ea(Rb(66),Rb(67)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],ea):(x="undefined"!==typeof globalThis?globalThis:x||self,x.vegaEmbed=ea(x.vega,x.vegaLite))})(this,function(x,ea){function Sa(N){if(N&&N.__esModule)return N;var V=Object.create(null);N&&Object.keys(N).forEach(function(wa){if("default"!==wa){var Ka=Object.getOwnPropertyDescriptor(N,wa);Object.defineProperty(V,
wa,Ka.get?Ka:{enumerable:!0,get:function(){return N[wa]}})}});V["default"]=N;return Object.freeze(V)}function Wb(N,V,wa,Ka){function Wa(Vb){return Vb instanceof wa?Vb:new wa(function(mc){mc(Vb)})}return new (wa||(wa=Promise))(function(Vb,mc){function Gc(id){try{Fc(Ka.next(id))}catch(fd){mc(fd)}}function uc(id){try{Fc(Ka["throw"](id))}catch(fd){mc(fd)}}function Fc(id){id.done?Vb(id.value):Wa(id.value).then(Gc,uc)}Fc((Ka=Ka.apply(N,V||[])).next())})}function fb(N,V){function wa(Fc){return function(id){return Ka([Fc,
id])}}function Ka(Fc){if(Vb)throw new TypeError("Generator is already executing.");for(;Wa;)try{if(Vb=1,mc&&(Gc=Fc[0]&2?mc["return"]:Fc[0]?mc["throw"]||((Gc=mc["return"])&&Gc.call(mc),0):mc.next)&&!(Gc=Gc.call(mc,Fc[1])).done)return Gc;if(mc=0,Gc)Fc=[Fc[0]&2,Gc.value];switch(Fc[0]){case 0:case 1:Gc=Fc;break;case 4:return Wa.label++,{value:Fc[1],done:!1};case 5:Wa.label++;mc=Fc[1];Fc=[0];continue;case 7:Fc=Wa.ops.pop();Wa.trys.pop();continue;default:if(!(Gc=Wa.trys,Gc=0<Gc.length&&Gc[Gc.length-1])&&
(6===Fc[0]||2===Fc[0])){Wa=0;continue}if(3===Fc[0]&&(!Gc||Fc[1]>Gc[0]&&Fc[1]<Gc[3]))Wa.label=Fc[1];else if(6===Fc[0]&&Wa.label<Gc[1])Wa.label=Gc[1],Gc=Fc;else if(Gc&&Wa.label<Gc[2])Wa.label=Gc[2],Wa.ops.push(Fc);else{Gc[2]&&Wa.ops.pop();Wa.trys.pop();continue}}Fc=V.call(N,Wa)}catch(id){Fc=[6,id],mc=0}finally{Vb=Gc=0}if(Fc[0]&5)throw Fc[1];return{value:Fc[0]?Fc[1]:void 0,done:!0}}var Wa={label:0,sent:function(){if(Gc[0]&1)throw Gc[1];return Gc[1]},trys:[],ops:[]},Vb,mc,Gc,uc;return uc={next:wa(0),
"throw":wa(1),"return":wa(2)},"function"===typeof Symbol&&(uc[Symbol.iterator]=function(){return this}),uc}function ub(N){if(Array.isArray(N)){var V=Array(N.length);for(N=0;N<V.length;N++)V[N]=""+N;return V}if(Object.keys)return Object.keys(N);V=[];for(var wa in N)ua.call(N,wa)&&V.push(wa);return V}function Ob(N){switch(typeof N){case "object":return JSON.parse(JSON.stringify(N));case "undefined":return null;default:return N}}function zb(N){for(var V=0,wa=N.length,Ka;V<wa;)if(Ka=N.charCodeAt(V),48<=
Ka&&57>=Ka)V++;else return!1;return!0}function cb(N){return-1===N.indexOf("/")&&-1===N.indexOf("~")?N:N.replace(/~/g,"~0").replace(/\//g,"~1")}function ob(N){return N.replace(/~1/g,"/").replace(/~0/g,"~")}function rb(N){if(void 0===N)return!0;if(N)if(Array.isArray(N))for(var V=0,wa=N.length;V<wa;V++){if(rb(N[V]))return!0}else if("object"===typeof N){wa=ub(N);var Ka=wa.length;for(V=0;V<Ka;V++)if(rb(N[wa[V]]))return!0}return!1}function Xa(N,V){N=[N];for(var wa in V){var Ka="object"===typeof V[wa]?JSON.stringify(V[wa],
null,2):V[wa];"undefined"!==typeof Ka&&N.push(wa+": "+Ka)}return N.join("\n")}function Ha(N,V){if(""==V)return N;V={op:"_get",path:V};Ia(N,V);return V.value}function Ia(N,V,wa,Ka,Wa,Vb){void 0===wa&&(wa=!1);void 0===Ka&&(Ka=!0);void 0===Wa&&(Wa=!0);void 0===Vb&&(Vb=0);wa&&("function"==typeof wa?wa(V,0,N,V.path):mb(V,0));if(""===V.path){Wa={newDocument:N};if("add"===V.op)return Wa.newDocument=V.value,Wa;if("replace"===V.op)return Wa.newDocument=V.value,Wa.removed=N,Wa;if("move"===V.op||"copy"===V.op)return Wa.newDocument=
Ha(N,V.from),"move"===V.op&&(Wa.removed=N),Wa;if("test"===V.op){Wa.test=Fa(N,V.value);if(!1===Wa.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Vb,V,N);Wa.newDocument=N;return Wa}if("remove"===V.op)return Wa.removed=N,Wa.newDocument=null,Wa;if("_get"===V.op)return V.value=N,Wa;if(wa)throw new T("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",Vb,V,N);return Wa}Ka||(N=Ob(N));Ka=(V.path||"").split("/");var mc=N,Gc=1,uc=Ka.length,Fc=void 0,
id;for(id="function"==typeof wa?wa:mb;;){var fd=Ka[Gc];if(Wa&&"__proto__"==fd)throw new TypeError("JSON-Patch: modifying `__proto__` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");wa&&void 0===Fc&&(void 0===mc[fd]?Fc=Ka.slice(0,Gc).join("/"):Gc==uc-1&&(Fc=V.path),void 0!==Fc&&id(V,0,N,Fc));Gc++;if(Array.isArray(mc)){if("-"===fd)fd=mc.length;else{if(wa&&!zb(fd))throw new T("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index",
"OPERATION_PATH_ILLEGAL_ARRAY_INDEX",Vb,V,N);zb(fd)&&(fd=~~fd)}if(Gc>=uc){if(wa&&"add"===V.op&&fd>mc.length)throw new T("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",Vb,V,N);Wa=w[V.op].call(V,mc,fd,N);if(!1===Wa.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",Vb,V,N);return Wa}}else if(fd&&-1!=fd.indexOf("~")&&(fd=ob(fd)),Gc>=uc){Wa=v[V.op].call(V,mc,fd,N);if(!1===Wa.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",
Vb,V,N);return Wa}mc=mc[fd]}}function Za(N,V,wa,Ka,Wa){void 0===Ka&&(Ka=!0);void 0===Wa&&(Wa=!0);if(wa&&!Array.isArray(V))throw new T("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Ka||(N=Ob(N));Ka=Array(V.length);for(var Vb=0,mc=V.length;Vb<mc;Vb++)Ka[Vb]=Ia(N,V[Vb],wa,!0,Wa,Vb),N=Ka[Vb].newDocument;Ka.newDocument=N;return Ka}function mb(N,V,wa,Ka){if("object"!==typeof N||null===N||Array.isArray(N))throw new T("Operation is not an object","OPERATION_NOT_AN_OBJECT",V,N,wa);if(v[N.op]){if("string"!==
typeof N.path)throw new T("Operation `path` property is not a string","OPERATION_PATH_INVALID",V,N,wa);if(0!==N.path.indexOf("/")&&0<N.path.length)throw new T('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",V,N,wa);if("move"!==N.op&&"copy"!==N.op||"string"===typeof N.from)if("add"!==N.op&&"replace"!==N.op&&"test"!==N.op||void 0!==N.value){if(("add"===N.op||"replace"===N.op||"test"===N.op)&&rb(N.value))throw new T("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)",
"OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",V,N,wa);if(wa)if("add"==N.op){var Wa=N.path.split("/").length;Ka=Ka.split("/").length;if(Wa!==Ka+1&&Wa!==Ka)throw new T("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",V,N,wa);}else if("replace"===N.op||"remove"===N.op||"_get"===N.op){if(N.path!==Ka)throw new T("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",V,N,wa);}else if(("move"===N.op||"copy"===N.op)&&(Wa=Da([{op:"_get",path:N.from,
value:void 0}],wa))&&"OPERATION_PATH_UNRESOLVABLE"===Wa.name)throw new T("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",V,N,wa);}else throw new T("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",V,N,wa);else throw new T("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",V,N,wa);}else throw new T("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",V,N,wa);}function Da(N,V,wa){try{if(!Array.isArray(N))throw new T("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(V)Za(Ob(V),Ob(N),wa||!0);else{wa=wa||mb;for(var Ka=0;Ka<N.length;Ka++)wa(N[Ka],Ka,V,void 0)}}catch(Wa){if(Wa instanceof T)return Wa;throw Wa;}}function Fa(N,V){if(N===V)return!0;if(N&&V&&"object"==typeof N&&"object"==typeof V){var wa=Array.isArray(N),Ka=Array.isArray(V);if(wa&&Ka){var Wa=N.length;if(Wa!=V.length)return!1;for(wa=Wa;0!==wa--;)if(!Fa(N[wa],
V[wa]))return!1;return!0}if(wa!=Ka)return!1;Ka=Object.keys(N);Wa=Ka.length;if(Wa!==Object.keys(V).length)return!1;for(wa=Wa;0!==wa--;)if(!V.hasOwnProperty(Ka[wa]))return!1;for(wa=Wa;0!==wa--;)if(Wa=Ka[wa],!Fa(N[Wa],V[Wa]))return!1;return!0}return N!==N&&V!==V}function hb(N,V){void 0===V&&(V=!1);var wa=r.get(N.object);Ca(wa.value,N.object,N.patches,"",V);N.patches.length&&Za(wa.value,N.patches);V=N.patches;0<V.length&&(N.patches=[],N.callback&&N.callback(V));return V}function Ca(N,V,wa,Ka,Wa){if(V!==
N){"function"===typeof V.toJSON&&(V=V.toJSON());for(var Vb=ub(V),mc=ub(N),Gc=!1,uc=mc.length-1;0<=uc;uc--){var Fc=mc[uc],id=N[Fc];if(!ua.call(V,Fc)||void 0===V[Fc]&&void 0!==id&&!1===Array.isArray(V))Array.isArray(N)===Array.isArray(V)?(Wa&&wa.push({op:"test",path:Ka+"/"+cb(Fc),value:Ob(id)}),wa.push({op:"remove",path:Ka+"/"+cb(Fc)}),Gc=!0):(Wa&&wa.push({op:"test",path:Ka,value:N}),wa.push({op:"replace",path:Ka,value:V}));else{var fd=V[Fc];"object"==typeof id&&null!=id&&"object"==typeof fd&&null!=
fd?Ca(id,fd,wa,Ka+"/"+cb(Fc),Wa):id!==fd&&(Wa&&wa.push({op:"test",path:Ka+"/"+cb(Fc),value:Ob(id)}),wa.push({op:"replace",path:Ka+"/"+cb(Fc),value:Ob(fd)}))}}if(Gc||Vb.length!=mc.length)for(uc=0;uc<Vb.length;uc++)Fc=Vb[uc],ua.call(N,Fc)||void 0===V[Fc]||wa.push({op:"add",path:Ka+"/"+cb(Fc),value:Ob(V[Fc])})}}function bb(N){var V=this;V instanceof bb||(V=new bb);V.tail=null;V.head=null;V.length=0;if(N&&"function"===typeof N.forEach)N.forEach(function(Wa){V.push(Wa)});else if(0<arguments.length)for(var wa=
0,Ka=arguments.length;wa<Ka;wa++)V.push(arguments[wa]);return V}function La(N,V,wa,Ka){if(!(this instanceof La))return new La(N,V,wa,Ka);this.list=Ka;this.value=N;V?(V.next=this,this.prev=V):this.prev=null;wa?(wa.prev=this,this.next=wa):this.next=null}function ka(N){const [V,wa]=/\/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(N).slice(1,3);return{library:V,version:wa}}function Aa(N,V,wa){N.fields=V||[];N.fname=wa;return N}function Ra(N){return 1===N.length?De(N[0]):Jd(N)}function Ya(N){function V(){wa.push(mc+
N.substring(Gc,uc));mc="";Gc=uc+1}const wa=[],Ka=N.length;let Wa=null,Vb=0,mc="",Gc,uc,Fc;N+="";for(Gc=uc=0;uc<Ka;++uc)if(Fc=N[uc],"\\"===Fc)mc+=N.substring(Gc,uc),mc+=N.substring(++uc,++uc),Gc=uc;else if(Fc===Wa)V(),Wa=null,Vb=-1;else if(!Wa)if(Gc===Vb&&'"'===Fc)Gc=uc+1,Wa=Fc;else if(Gc===Vb&&"'"===Fc)Gc=uc+1,Wa=Fc;else if("."===Fc&&!Vb)uc>Gc?V():Gc=uc+1;else if("["===Fc)uc>Gc&&V(),Vb=Gc=uc+1;else if("]"===Fc){if(!Vb)throw Error("Access path missing open bracket: "+N);0<Vb&&V();Vb=0;Gc=uc+1}if(Vb)throw Error("Access path missing closing bracket: "+
N);if(Wa)throw Error("Access path missing closing quote: "+N);uc>Gc&&(uc++,V());return wa}function ib(N,V){var wa={},Ka;for(Ka in N)Object.prototype.hasOwnProperty.call(N,Ka)&&0>V.indexOf(Ka)&&(wa[Ka]=N[Ka]);if(null!=N&&"function"===typeof Object.getOwnPropertySymbols){var Wa=0;for(Ka=Object.getOwnPropertySymbols(N);Wa<Ka.length;Wa++)0>V.indexOf(Ka[Wa])&&Object.prototype.propertyIsEnumerable.call(N,Ka[Wa])&&(wa[Ka[Wa]]=N[Ka[Wa]])}return wa}function db(N,V,wa){if(Se(N))return`[${N.map(Wa=>V("string"===
typeof Wa?Wa:JSON.stringify(Wa,nb(wa)))).join(", ")}]`;if(N===Object(N)){let Wa="";const {title:Vb,image:mc}=N;N=ib(N,["title","image"]);Vb&&(Wa+=`<h2>${V(Vb)}</h2>`);mc&&(Wa+=`<img src="${V(mc)}">`);var Ka=Object.keys(N);if(0<Ka.length){Wa+="\x3ctable\x3e";for(const Gc of Ka)Ka=N[Gc],void 0!==Ka&&(Ka===Object(Ka)&&(Ka=JSON.stringify(Ka,nb(wa))),Wa+=`<tr><td class="key">${V(Gc)}:</td><td class="value">${V(Ka)}</td></tr>`);Wa+="\x3c/table\x3e"}return Wa||"{}"}return V(N)}function nb(N){const V=[];
return function(wa,Ka){if("object"!==typeof Ka||null===Ka)return Ka;wa=V.indexOf(this)+1;V.length=wa;if(V.length>N)return"[Object]";if(0<=V.indexOf(Ka))return"[Circular]";V.push(Ka);return Ka}}function $a(N,V,wa){function Ka(uc){uc.source===Vb&&(Gc=0,N.removeEventListener("message",Ka,!1))}function Wa(){0>=Gc||(Vb.postMessage(wa,mc),setTimeout(Wa,250),--Gc)}var Vb=N.open(V),mc=(new URL(V)).origin,Gc=40;N.addEventListener("message",Ka,!1);setTimeout(Wa,250)}function S(N){for(var V=[],wa=1;wa<arguments.length;wa++)V[wa-
1]=arguments[wa];for(wa=0;wa<V.length;wa++)for(var Ka=N,Wa=V[wa],Vb=0,mc=Object.keys(Wa);Vb<mc.length;Vb++){var Gc=mc[Vb];x.writeConfig(Ka,Gc,Wa[Gc],!0)}return N}function z(N,V,wa,Ka){V="\x3chtml\x3e\x3chead\x3e"+V+'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e';wa="\x3c/code\x3e\x3c/pre\x3e"+wa+"\x3c/body\x3e\x3c/html\x3e";var Wa=window.open("");Wa.document.write(V+N+wa);Wa.document.title=Cf[Ka]+" JSON Source"}function I(N,V){var wa;return N.$schema?(N=ka(N.$schema),V&&V!==N.library&&
console.warn("The given visualization spec is written in "+Cf[N.library]+", but mode argument sets "+(null!==(wa=Cf[V])&&void 0!==wa?wa:V)+"."),V=N.library,Ad.satisfies(kf[V],"^"+N.version.slice(1))||console.warn("The input spec uses "+Cf[V]+" "+N.version+", but the current version of "+Cf[V]+" is v"+kf[V]+"."),V):"mark"in N||"encoding"in N||"layer"in N||"hconcat"in N||"vconcat"in N||"facet"in N||"repeat"in N?"vega-lite":"marks"in N||"signals"in N||"scales"in N||"axes"in N?"vega":null!==V&&void 0!==
V?V:"vega"}function Q(N,V,wa){var Ka,Wa,Vb;void 0===wa&&(wa={});return Wb(this,void 0,void 0,function(){var mc,Gc,uc,Fc,id,fd,se,xd;return fb(this,function(zd){switch(zd.label){case 0:mc=(zd=wa.loader)&&"load"in zd?wa.loader:Xd.loader(wa.loader);if(!x.isString(V))return[3,2];id=(Fc=JSON).parse;return[4,mc.load(V)];case 1:return uc=id.apply(Fc,[zd.sent()]),[3,3];case 2:uc=V,zd.label=3;case 3:return Gc=uc,[4,J(null!==(Ka=Gc.usermeta&&Gc.usermeta.embedOptions)&&void 0!==Ka?Ka:{},mc)];case 4:return fd=
zd.sent(),[4,J(wa,mc)];case 5:return se=zd.sent(),xd=U(U({},S(se,fd)),{config:x.mergeConfig(null!==(Wa=se.config)&&void 0!==Wa?Wa:{},null!==(Vb=fd.config)&&void 0!==Vb?Vb:{})}),[4,Y(N,Gc,xd,mc)];case 6:return[2,zd.sent()]}})})}function J(N,V){var wa;return Wb(this,void 0,void 0,function(){var Ka,Wa,Vb,mc,Gc,uc,Fc,id;return fb(this,function(fd){switch(fd.label){case 0:if(!x.isString(N.config))return[3,2];mc=(Vb=JSON).parse;return[4,V.load(N.config)];case 1:return Wa=mc.apply(Vb,[fd.sent()]),[3,3];
case 2:Wa=null!==(wa=N.config)&&void 0!==wa?wa:{},fd.label=3;case 3:Ka=Wa;if(!x.isString(N.patch))return[3,5];id=(Fc=JSON).parse;return[4,V.load(N.patch)];case 4:return uc=id.apply(Fc,[fd.sent()]),[3,6];case 5:uc=N.patch,fd.label=6;case 6:return Gc=uc,[2,U(U(U({},N),Gc?{patch:Gc}:{}),Ka?{config:Ka}:{})]}})})}function W(N){var V;N=N.getRootNode?N.getRootNode():document;return N instanceof ShadowRoot?{root:N,rootContainer:N}:{root:document,rootContainer:null!==(V=document.head)&&void 0!==V?V:document.body}}
function Y(N,V,wa,Ka){var Wa,Vb,mc,Gc,uc,Fc;void 0===wa&&(wa={});return Wb(this,void 0,void 0,function(){function id(){Kc&&document.removeEventListener("click",Kc);kb.finalize()}var fd,se,xd,zd,le,Te,Me,uf,Zf,pd,Ue,Le,Ze,$f,vf,ag,df,M,fa,kb,Qb,Mb,bc,jc,Qc,Kc,ad,ud,Nd,Td,Bd,af,Pd,Fe,he,ze,Sf,be;return fb(this,function(wf){switch(wf.label){case 0:fd=wa.theme?x.mergeConfig(Jf[wa.theme],null!==(Wa=wa.config)&&void 0!==Wa?Wa:{}):wa.config;se=x.isBoolean(wa.actions)?wa.actions:S({},pe,null!==(Vb=wa.actions)&&
void 0!==Vb?Vb:{});xd=U(U({},Ke),wa.i18n);zd=null!==(mc=wa.renderer)&&void 0!==mc?mc:"canvas";le=null!==(Gc=wa.logLevel)&&void 0!==Gc?Gc:Xd.Warn;Te=null!==(uc=wa.downloadFileName)&&void 0!==uc?uc:"visualization";Me="string"===typeof N?document.querySelector(N):N;if(!Me)throw Error(N+" does not exist");!1!==wa.defaultStyle&&(uf=W(Me),Zf=uf.root,pd=uf.rootContainer,Zf.getElementById("vega-embed-style")||(Ue=document.createElement("style"),Ue.id="vega-embed-style",Ue.innerText=void 0===wa.defaultStyle||
!0===wa.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box; }\n  .vega-embed.has-actions {\n    padding-right: 38px; }\n  .vega-embed details:not([open]) \x3e :not(summary) {\n    display: none !important; }\n  .vega-embed summary {\n    list-style: none;\n    position: absolute;\n    top: 0;\n    right: 0;\n    padding: 6px;\n    z-index: 1000;\n    background: white;\n    box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n    color: #1b1e23;\n    border: 1px solid #aaa;\n    border-radius: 999px;\n    opacity: 0.2;\n    transition: opacity 0.4s ease-in;\n    outline: none;\n    cursor: pointer;\n    line-height: 0px; }\n    .vega-embed summary::-webkit-details-marker {\n      display: none; }\n    .vega-embed summary:active {\n      box-shadow: #aaa 0px 0px 0px 1px inset; }\n    .vega-embed summary svg {\n      width: 14px;\n      height: 14px; }\n  .vega-embed details[open] summary {\n    opacity: 0.7; }\n  .vega-embed:hover summary,\n  .vega-embed:focus summary {\n    opacity: 1 !important;\n    transition: opacity 0.2s ease; }\n  .vega-embed .vega-actions {\n    position: absolute;\n    z-index: 1001;\n    top: 35px;\n    right: -9px;\n    display: flex;\n    flex-direction: column;\n    padding-bottom: 8px;\n    padding-top: 8px;\n    border-radius: 4px;\n    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n    border: 1px solid #d9d9d9;\n    background: white;\n    animation-duration: 0.15s;\n    animation-name: scale-in;\n    animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n    text-align: left; }\n    .vega-embed .vega-actions a {\n      padding: 8px 16px;\n      font-family: sans-serif;\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      color: #434a56;\n      text-decoration: none; }\n      .vega-embed .vega-actions a:hover {\n        background-color: #f7f7f9;\n        color: black; }\n    .vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n      content: "";\n      display: inline-block;\n      position: absolute; }\n    .vega-embed .vega-actions::before {\n      left: auto;\n      right: 14px;\n      top: -16px;\n      border: 8px solid #0000;\n      border-bottom-color: #d9d9d9; }\n    .vega-embed .vega-actions::after {\n      left: auto;\n      right: 15px;\n      top: -14px;\n      border: 7px solid #0000;\n      border-bottom-color: #fff; }\n  .vega-embed .chart-wrapper {\n    width: 100%;\n    height: 100%; }\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px; }\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6); }\n  to {\n    opacity: 1;\n    transform: scale(1); } }\n'.toString():
wa.defaultStyle,pd.appendChild(Ue)));Le=I(V,wa.mode);Ze=tf[Le](V,fd);"vega-lite"===Le&&Ze.$schema&&($f=ka(Ze.$schema),Ad.satisfies(kf.vega,"^"+$f.version.slice(1))||console.warn("The compiled spec uses Vega "+$f.version+", but current version is v"+kf.vega+"."));Me.classList.add("vega-embed");se&&Me.classList.add("has-actions");Me.innerHTML="";vf=Me;se&&(ag=document.createElement("div"),ag.classList.add("chart-wrapper"),Me.appendChild(ag),vf=ag);(df=wa.patch)&&(Ze=df instanceof Function?df(Ze):Za(Ze,
df,!0,!1).newDocument);wa.formatLocale&&Xd.formatLocale(wa.formatLocale);wa.timeFormatLocale&&Xd.timeFormatLocale(wa.timeFormatLocale);M=wa.ast;fa=Xd.parse(Ze,"vega-lite"===Le?{}:fd,{ast:M});kb=new Xd.View(fa,U({loader:Ka,logLevel:le,renderer:zd},M?{expr:Xd.expressionInterpreter}:{}));!1!==wa.tooltip&&(Qb=void 0,Qb="function"===typeof wa.tooltip?wa.tooltip:(new Ac(!0===wa.tooltip?{}:wa.tooltip)).call,kb.tooltip(Qb));Mb=wa.hover;void 0===Mb&&(Mb="vega"===Le);Mb&&(bc="boolean"===typeof Mb?{}:Mb,jc=
bc.hoverSet,Qc=bc.updateSet,kb.hover(jc,Qc));wa&&(null!=wa.width&&kb.width(wa.width),null!=wa.height&&kb.height(wa.height),null!=wa.padding&&kb.padding(wa.padding));return[4,kb.initialize(vf,wa.bind).runAsync()];case 1:wf.sent();if(!1!==se){ad=Me;!1!==wa.defaultStyle&&(ud=document.createElement("details"),ud.title=xd.CLICK_TO_VIEW_ACTIONS,Me.append(ud),ad=ud,Nd=document.createElement("summary"),Nd.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e',
ud.append(Nd),Kc=function(Ce){ud.contains(Ce.target)||ud.removeAttribute("open")},document.addEventListener("click",Kc));Td=document.createElement("div");ad.append(Td);Td.classList.add("vega-actions");if(!0===se||!1!==se["export"])for(Bd=function(Ce){if(!0===se||!0===se["export"]||se["export"][Ce]){var Kf=xd[Ce.toUpperCase()+"_ACTION"],ef=document.createElement("a");ef.text=Kf;ef.href="#";ef.target="_blank";ef.download=Te+"."+Ce;ef.addEventListener("mousedown",function(gg){return Wb(this,void 0,void 0,
function(){var O;return fb(this,function(P){switch(P.label){case 0:return gg.preventDefault(),[4,kb.toImageURL(Ce,wa.scaleFactor)];case 1:return this.href=O=P.sent(),[2]}})})});Td.append(ef)}},af=0,Pd=["svg","png"];af<Pd.length;af++)Fe=Pd[af],Bd(Fe);if(!0===se||!1!==se.source)he=document.createElement("a"),he.text=xd.SOURCE_ACTION,he.href="#",he.addEventListener("click",function(Ce){var Kf,ef;z(ha(V),null!==(Kf=wa.sourceHeader)&&void 0!==Kf?Kf:"",null!==(ef=wa.sourceFooter)&&void 0!==ef?ef:"",Le);
Ce.preventDefault()}),Td.append(he);"vega-lite"!==Le||!0!==se&&!1===se.compiled||(ze=document.createElement("a"),ze.text=xd.COMPILED_ACTION,ze.href="#",ze.addEventListener("click",function(Ce){var Kf,ef;z(ha(Ze),null!==(Kf=wa.sourceHeader)&&void 0!==Kf?Kf:"",null!==(ef=wa.sourceFooter)&&void 0!==ef?ef:"","vega");Ce.preventDefault()}),Td.append(ze));if(!0===se||!1!==se.editor)Sf=null!==(Fc=wa.editorUrl)&&void 0!==Fc?Fc:"https://vega.github.io/editor/",be=document.createElement("a"),be.text=xd.EDITOR_ACTION,
be.href="#",be.addEventListener("click",function(Ce){$a(window,Sf,{config:fd,mode:Le,renderer:zd,spec:ha(V)});Ce.preventDefault()}),Td.append(be)}return[2,{view:kb,spec:V,vgSpec:Ze,finalize:id}]}})})}function ma(N,V){var wa;void 0===V&&(V={});return Wb(this,void 0,void 0,function(){var Ka,Wa,Vb,mc;return fb(this,function(Gc){switch(Gc.label){case 0:return Ka=document.createElement("div"),Ka.classList.add("vega-embed-wrapper"),Wa=document.createElement("div"),Ka.appendChild(Wa),Vb=!0===V.actions||
!1===V.actions?V.actions:U({"export":!0,source:!1,compiled:!0,editor:!0},null!==(wa=V.actions)&&void 0!==wa?wa:{}),[4,Q(Wa,N,U({actions:Vb},null!==V&&void 0!==V?V:{}))];case 1:return mc=Gc.sent(),Ka.value=mc.view,[2,Ka]}})})}var Qa=Sa(x),Ua=Sa(ea),U=function(){U=Object.assign||function(N){for(var V,wa=1,Ka=arguments.length;wa<Ka;wa++){V=arguments[wa];for(var Wa in V)Object.prototype.hasOwnProperty.call(V,Wa)&&(N[Wa]=V[Wa])}return N};return U.apply(this,arguments)},sa=function(){var N=function(V,wa){N=
Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ka,Wa){Ka.__proto__=Wa}||function(Ka,Wa){for(var Vb in Wa)Wa.hasOwnProperty(Vb)&&(Ka[Vb]=Wa[Vb])};return N(V,wa)};return function(V,wa){function Ka(){this.constructor=V}N(V,wa);V.prototype=null===wa?Object.create(wa):(Ka.prototype=wa.prototype,new Ka)}}(),ua=Object.prototype.hasOwnProperty,la=function(N){function V(wa,Ka,Wa,Vb,mc){var Gc=this.constructor,uc=N.call(this,Xa(wa,{name:Ka,index:Wa,operation:Vb,tree:mc}))||this;uc.name=Ka;
uc.index=Wa;uc.operation=Vb;uc.tree=mc;Object.setPrototypeOf(uc,Gc.prototype);uc.message=Xa(wa,{name:Ka,index:Wa,operation:Vb,tree:mc});return uc}sa(V,N);return V}(Error),T=la,v={add:function(N,V,wa){N[V]=this.value;return{newDocument:wa}},remove:function(N,V,wa){var Ka=N[V];delete N[V];return{newDocument:wa,removed:Ka}},replace:function(N,V,wa){var Ka=N[V];N[V]=this.value;return{newDocument:wa,removed:Ka}},move:function(N,V,wa){(N=Ha(wa,this.path))&&(N=Ob(N));V=Ia(wa,{op:"remove",path:this.from}).removed;
Ia(wa,{op:"add",path:this.path,value:V});return{newDocument:wa,removed:N}},copy:function(N,V,wa){N=Ha(wa,this.from);Ia(wa,{op:"add",path:this.path,value:Ob(N)});return{newDocument:wa}},test:function(N,V,wa){return{newDocument:wa,test:Fa(N[V],this.value)}},_get:function(N,V,wa){this.value=N[V];return{newDocument:wa}}},w={add:function(N,V,wa){zb(V)?N.splice(V,0,this.value):N[V]=this.value;return{newDocument:wa,index:V}},remove:function(N,V,wa){N=N.splice(V,1);return{newDocument:wa,removed:N[0]}},replace:function(N,
V,wa){var Ka=N[V];N[V]=this.value;return{newDocument:wa,removed:Ka}},move:v.move,copy:v.copy,test:v.test,_get:v._get},p=Object.freeze({__proto__:null,JsonPatchError:T,deepClone:Ob,getValueByPointer:Ha,applyOperation:Ia,applyPatch:Za,applyReducer:function(N,V,wa){var Ka=Ia(N,V);if(!1===Ka.test)throw new T("Test operation failed","TEST_OPERATION_FAILED",wa,V,N);return Ka.newDocument},validator:mb,validate:Da,_areEquals:Fa}),r=new WeakMap,D=function(){return function(N){this.observers=new Map;this.obj=
N}}(),E=function(){return function(N,V){this.callback=N;this.observer=V}}(),H=Object.freeze({__proto__:null,unobserve:function(N,V){V.unobserve()},observe:function(N,V){var wa=r.get(N);if(wa){var Ka=wa.observers.get(V);var Wa=Ka&&Ka.observer}else wa=new D(N),r.set(N,wa);if(Wa)return Wa;Wa={};wa.value=Ob(N);if(V){Wa.callback=V;Wa.next=null;var Vb=function(){hb(Wa)},mc=function(){clearTimeout(Wa.next);Wa.next=setTimeout(Vb)};"undefined"!==typeof window&&(window.addEventListener("mouseup",mc),window.addEventListener("keyup",
mc),window.addEventListener("mousedown",mc),window.addEventListener("keydown",mc),window.addEventListener("change",mc))}Wa.patches=[];Wa.object=N;Wa.unobserve=function(){hb(Wa);clearTimeout(Wa.next);wa.observers.delete(Wa.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",mc),window.removeEventListener("keyup",mc),window.removeEventListener("mousedown",mc),window.removeEventListener("keydown",mc),window.removeEventListener("change",mc))};wa.observers.set(V,new E(V,Wa));return Wa},
generate:hb,compare:function(N,V,wa){void 0===wa&&(wa=!1);var Ka=[];Ca(N,V,Ka,"",wa);return Ka}});Object.assign({},p,H,{JsonPatchError:la,deepClone:Ob,escapePathComponent:cb,unescapePathComponent:ob});var C=/("(?:[^\\"]|\\.)*")|[:,]/g,ha=function(N,V){V=V||{};var wa=JSON.stringify([1],void 0,void 0===V.indent?2:V.indent).slice(2,-3);var Ka=""===wa?Infinity:void 0===V.maxLength?80:V.maxLength;var Wa=V.replacer;return function Fc(mc,Gc,uc){mc&&"function"===typeof mc.toJSON&&(mc=mc.toJSON());var id=
JSON.stringify(mc,Wa);if(void 0===id)return id;uc=Ka-Gc.length-uc;if(id.length<=uc){var fd=id.replace(C,function(Zf,pd){return pd||Zf+" "});if(fd.length<=uc)return fd}null!=Wa&&(mc=JSON.parse(id),Wa=void 0);if("object"===typeof mc&&null!==mc){var se=Gc+wa;var xd=[];var zd=0;if(Array.isArray(mc)){var le="[";fd="]";for(uc=mc.length;zd<uc;zd++)xd.push(Fc(mc[zd],se,zd===uc-1?0:1)||"null")}else{le="{";fd="}";var Te=Object.keys(mc);for(uc=Te.length;zd<uc;zd++){var Me=Te[zd];var uf=JSON.stringify(Me)+": ";
Me=Fc(mc[Me],se,uf.length+(zd===uc-1?0:1));void 0!==Me&&xd.push(uf+Me)}}if(0<xd.length)return[le,wa+xd.join(",\n"+se),fd].join("\n"+Gc)}return id}(N,"",0)},xa={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},oa="object"===typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?(...N)=>console.error("SEMVER",...N):()=>{},Va=function(N){var V={exports:{}};return N(V,V.exports),V.exports}(function(N,V){const {MAX_SAFE_COMPONENT_LENGTH:wa}=
xa;V=N.exports={};const Ka=V.re=[],Wa=V.src=[],Vb=V.t={};let mc=0;N=(Gc,uc,Fc)=>{const id=mc++;oa(id,uc);Vb[Gc]=id;Wa[id]=uc;Ka[id]=new RegExp(uc,Fc?"g":void 0)};N("NUMERICIDENTIFIER","0|[1-9]\\d*");N("NUMERICIDENTIFIERLOOSE","[0-9]+");N("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");N("MAINVERSION",`(${Wa[Vb.NUMERICIDENTIFIER]})\\.`+`(${Wa[Vb.NUMERICIDENTIFIER]})\\.`+`(${Wa[Vb.NUMERICIDENTIFIER]})`);N("MAINVERSIONLOOSE",`(${Wa[Vb.NUMERICIDENTIFIERLOOSE]})\\.`+`(${Wa[Vb.NUMERICIDENTIFIERLOOSE]})\\.`+
`(${Wa[Vb.NUMERICIDENTIFIERLOOSE]})`);N("PRERELEASEIDENTIFIER",`(?:${Wa[Vb.NUMERICIDENTIFIER]}|${Wa[Vb.NONNUMERICIDENTIFIER]})`);N("PRERELEASEIDENTIFIERLOOSE",`(?:${Wa[Vb.NUMERICIDENTIFIERLOOSE]}|${Wa[Vb.NONNUMERICIDENTIFIER]})`);N("PRERELEASE",`(?:-(${Wa[Vb.PRERELEASEIDENTIFIER]}(?:\\.${Wa[Vb.PRERELEASEIDENTIFIER]})*))`);N("PRERELEASELOOSE",`(?:-?(${Wa[Vb.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${Wa[Vb.PRERELEASEIDENTIFIERLOOSE]})*))`);N("BUILDIDENTIFIER","[0-9A-Za-z-]+");N("BUILD",`(?:\\+(${Wa[Vb.BUILDIDENTIFIER]}(?:\\.${Wa[Vb.BUILDIDENTIFIER]})*))`);
N("FULLPLAIN",`v?${Wa[Vb.MAINVERSION]}${Wa[Vb.PRERELEASE]}?${Wa[Vb.BUILD]}?`);N("FULL",`^${Wa[Vb.FULLPLAIN]}$`);N("LOOSEPLAIN",`[v=\\s]*${Wa[Vb.MAINVERSIONLOOSE]}${Wa[Vb.PRERELEASELOOSE]}?${Wa[Vb.BUILD]}?`);N("LOOSE",`^${Wa[Vb.LOOSEPLAIN]}$`);N("GTLT","((?:\x3c|\x3e)?\x3d?)");N("XRANGEIDENTIFIERLOOSE",`${Wa[Vb.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);N("XRANGEIDENTIFIER",`${Wa[Vb.NUMERICIDENTIFIER]}|x|X|\\*`);N("XRANGEPLAIN",`[v=\\s]*(${Wa[Vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Wa[Vb.XRANGEIDENTIFIER]})`+`(?:\\.(${Wa[Vb.XRANGEIDENTIFIER]})`+
`(?:${Wa[Vb.PRERELEASE]})?${Wa[Vb.BUILD]}?`+")?)?");N("XRANGEPLAINLOOSE",`[v=\\s]*(${Wa[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Wa[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${Wa[Vb.XRANGEIDENTIFIERLOOSE]})`+`(?:${Wa[Vb.PRERELEASELOOSE]})?${Wa[Vb.BUILD]}?`+")?)?");N("XRANGE",`^${Wa[Vb.GTLT]}\\s*${Wa[Vb.XRANGEPLAIN]}$`);N("XRANGELOOSE",`^${Wa[Vb.GTLT]}\\s*${Wa[Vb.XRANGEPLAINLOOSE]}$`);N("COERCE",`${"(^|[^\\d])(\\d{1,"}${wa}})`+`(?:\\.(\\d{1,${wa}}))?`+`(?:\\.(\\d{1,${wa}}))?`+"(?:$|[^\\d])");N("COERCERTL",
Wa[Vb.COERCE],!0);N("LONETILDE","(?:~\x3e?)");N("TILDETRIM",`(\\s*)${Wa[Vb.LONETILDE]}\\s+`,!0);V.tildeTrimReplace="$1~";N("TILDE",`^${Wa[Vb.LONETILDE]}${Wa[Vb.XRANGEPLAIN]}$`);N("TILDELOOSE",`^${Wa[Vb.LONETILDE]}${Wa[Vb.XRANGEPLAINLOOSE]}$`);N("LONECARET","(?:\\^)");N("CARETTRIM",`(\\s*)${Wa[Vb.LONECARET]}\\s+`,!0);V.caretTrimReplace="$1^";N("CARET",`^${Wa[Vb.LONECARET]}${Wa[Vb.XRANGEPLAIN]}$`);N("CARETLOOSE",`^${Wa[Vb.LONECARET]}${Wa[Vb.XRANGEPLAINLOOSE]}$`);N("COMPARATORLOOSE",`^${Wa[Vb.GTLT]}\\s*(${Wa[Vb.LOOSEPLAIN]})$|^$`);
N("COMPARATOR",`^${Wa[Vb.GTLT]}\\s*(${Wa[Vb.FULLPLAIN]})$|^$`);N("COMPARATORTRIM",`(\\s*)${Wa[Vb.GTLT]}\\s*(${Wa[Vb.LOOSEPLAIN]}|${Wa[Vb.XRANGEPLAIN]})`,!0);V.comparatorTrimReplace="$1$2$3";N("HYPHENRANGE",`^\\s*(${Wa[Vb.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${Wa[Vb.XRANGEPLAIN]})`+"\\s*$");N("HYPHENRANGELOOSE",`^\\s*(${Wa[Vb.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${Wa[Vb.XRANGEPLAINLOOSE]})`+"\\s*$");N("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");N("GTE0","^\\s*\x3e\x3d\\s*0.0.0\\s*$");N("GTE0PRE","^\\s*\x3e\x3d\\s*0.0.0-0\\s*$")});
const Ja=["includePrerelease","loose","rtl"];var ba=N=>N?"object"!==typeof N?{loose:!0}:Ja.filter(V=>N[V]).reduce((V,wa)=>{V[wa]=!0;return V},{}):{};const ta=/^[0-9]+$/,eb=(N,V)=>{const wa=ta.test(N),Ka=ta.test(V);wa&&Ka&&(N=+N,V=+V);return N===V?0:wa&&!Ka?-1:Ka&&!wa?1:N<V?-1:1};var xb={compareIdentifiers:eb,rcompareIdentifiers:(N,V)=>eb(V,N)};const {MAX_LENGTH:Kb,MAX_SAFE_INTEGER:fc}=xa,{re:Ec,t:gd}=Va,{compareIdentifiers:Dc}=xb;class Sc{constructor(N,V){V=ba(V);if(N instanceof Sc){if(N.loose===
!!V.loose&&N.includePrerelease===!!V.includePrerelease)return N;N=N.version}else if("string"!==typeof N)throw new TypeError(`Invalid Version: ${N}`);if(N.length>Kb)throw new TypeError(`version is longer than ${Kb} characters`);oa("SemVer",N,V);this.options=V;this.loose=!!V.loose;this.includePrerelease=!!V.includePrerelease;V=N.trim().match(V.loose?Ec[gd.LOOSE]:Ec[gd.FULL]);if(!V)throw new TypeError(`Invalid Version: ${N}`);this.raw=N;this.major=+V[1];this.minor=+V[2];this.patch=+V[3];if(this.major>
fc||0>this.major)throw new TypeError("Invalid major version");if(this.minor>fc||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>fc||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=V[4]?V[4].split(".").map(wa=>{if(/^[0-9]+$/.test(wa)){const Ka=+wa;if(0<=Ka&&Ka<fc)return Ka}return wa}):[];this.build=V[5]?V[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`);
return this.version}toString(){return this.version}compare(N){oa("SemVer.compare",this.version,this.options,N);if(!(N instanceof Sc)){if("string"===typeof N&&N===this.version)return 0;N=new Sc(N,this.options)}return N.version===this.version?0:this.compareMain(N)||this.comparePre(N)}compareMain(N){N instanceof Sc||(N=new Sc(N,this.options));return Dc(this.major,N.major)||Dc(this.minor,N.minor)||Dc(this.patch,N.patch)}comparePre(N){N instanceof Sc||(N=new Sc(N,this.options));if(this.prerelease.length&&
!N.prerelease.length)return-1;if(!this.prerelease.length&&N.prerelease.length)return 1;if(!this.prerelease.length&&!N.prerelease.length)return 0;let V=0;do{const wa=this.prerelease[V],Ka=N.prerelease[V];oa("prerelease compare",V,wa,Ka);if(void 0===wa&&void 0===Ka)return 0;if(void 0===Ka)return 1;if(void 0===wa)return-1;if(wa!==Ka)return Dc(wa,Ka)}while(++V)}compareBuild(N){N instanceof Sc||(N=new Sc(N,this.options));let V=0;do{const wa=this.build[V],Ka=N.build[V];oa("prerelease compare",V,wa,Ka);
if(void 0===wa&&void 0===Ka)return 0;if(void 0===Ka)return 1;if(void 0===wa)return-1;if(wa!==Ka)return Dc(wa,Ka)}while(++V)}inc(N,V){switch(N){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",V);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",V);break;case "prepatch":this.prerelease.length=0;this.inc("patch",V);this.inc("pre",V);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",V);this.inc("pre",V);
break;case "major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(N=this.prerelease.length;0<=--N;)"number"===typeof this.prerelease[N]&&(this.prerelease[N]++,N=-2);-1===
N&&this.prerelease.push(0)}V&&(this.prerelease[0]===V?isNaN(this.prerelease[1])&&(this.prerelease=[V,0]):this.prerelease=[V,0]);break;default:throw Error(`invalid increment argument: ${N}`);}this.format();this.raw=this.version;return this}}var Ta=Sc;const {MAX_LENGTH:nc}=xa,{re:lc,t:wc}=Va;var Pc=(N,V)=>{V=ba(V);if(N instanceof Ta)return N;if("string"!==typeof N||N.length>nc||!(V.loose?lc[wc.LOOSE]:lc[wc.FULL]).test(N))return null;try{return new Ta(N,V)}catch(wa){return null}},rc=(N,V,wa)=>(new Ta(N,
wa)).compare(new Ta(V,wa)),Xc=(N,V,wa)=>{N=new Ta(N,wa);V=new Ta(V,wa);return N.compare(V)||N.compareBuild(V)},$c=(N,V,wa)=>0<rc(N,V,wa),Nc=(N,V,wa)=>0>rc(N,V,wa),Dd=(N,V,wa)=>0<=rc(N,V,wa),we=(N,V,wa)=>0>=rc(N,V,wa),ld=(N,V,wa,Ka)=>{switch(V){case "\x3d\x3d\x3d":return"object"===typeof N&&(N=N.version),"object"===typeof wa&&(wa=wa.version),N===wa;case "!\x3d\x3d":return"object"===typeof N&&(N=N.version),"object"===typeof wa&&(wa=wa.version),N!==wa;case "":case "\x3d":case "\x3d\x3d":return 0===rc(N,
wa,Ka);case "!\x3d":return 0!==rc(N,wa,Ka);case "\x3e":return 0<rc(N,wa,Ka);case "\x3e\x3d":return 0<=rc(N,wa,Ka);case "\x3c":return 0>rc(N,wa,Ka);case "\x3c\x3d":return 0>=rc(N,wa,Ka);default:throw new TypeError(`Invalid operator: ${V}`);}};const {re:sd,t:ge}=Va;var Ma=function(N){N.prototype[Symbol.iterator]=function*(){for(let V=this.head;V;V=V.next)yield V.value}};bb.Node=La;bb.create=bb;bb.prototype.removeNode=function(N){if(N.list!==this)throw Error("removing node which does not belong to this list");
var V=N.next,wa=N.prev;V&&(V.prev=wa);wa&&(wa.next=V);N===this.head&&(this.head=V);N===this.tail&&(this.tail=wa);N.list.length--;N.next=null;N.prev=null;N.list=null;return V};bb.prototype.unshiftNode=function(N){if(N!==this.head){N.list&&N.list.removeNode(N);var V=this.head;N.list=this;if(N.next=V)V.prev=N;this.head=N;this.tail||(this.tail=N);this.length++}};bb.prototype.pushNode=function(N){if(N!==this.tail){N.list&&N.list.removeNode(N);var V=this.tail;N.list=this;if(N.prev=V)V.next=N;this.tail=
N;this.head||(this.head=N);this.length++}};bb.prototype.push=function(){for(var N=0,V=arguments.length;N<V;N++)this.tail=new La(arguments[N],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};bb.prototype.unshift=function(){for(var N=0,V=arguments.length;N<V;N++)this.head=new La(arguments[N],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};bb.prototype.pop=function(){if(this.tail){var N=this.tail.value;(this.tail=this.tail.prev)?
this.tail.next=null:this.head=null;this.length--;return N}};bb.prototype.shift=function(){if(this.head){var N=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return N}};bb.prototype.forEach=function(N,V){V=V||this;for(var wa=this.head,Ka=0;null!==wa;Ka++)N.call(V,wa.value,Ka,this),wa=wa.next};bb.prototype.forEachReverse=function(N,V){V=V||this;for(var wa=this.tail,Ka=this.length-1;null!==wa;Ka--)N.call(V,wa.value,Ka,this),wa=wa.prev};bb.prototype.get=function(N){for(var V=
0,wa=this.head;null!==wa&&V<N;V++)wa=wa.next;if(V===N&&null!==wa)return wa.value};bb.prototype.getReverse=function(N){for(var V=0,wa=this.tail;null!==wa&&V<N;V++)wa=wa.prev;if(V===N&&null!==wa)return wa.value};bb.prototype.map=function(N,V){V=V||this;for(var wa=new bb,Ka=this.head;null!==Ka;)wa.push(N.call(V,Ka.value,this)),Ka=Ka.next;return wa};bb.prototype.mapReverse=function(N,V){V=V||this;for(var wa=new bb,Ka=this.tail;null!==Ka;)wa.push(N.call(V,Ka.value,this)),Ka=Ka.prev;return wa};bb.prototype.reduce=
function(N,V){var wa=this.head;if(1<arguments.length)var Ka=V;else if(this.head)wa=this.head.next,Ka=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Wa=0;null!==wa;Wa++)Ka=N(Ka,wa.value,Wa),wa=wa.next;return Ka};bb.prototype.reduceReverse=function(N,V){var wa=this.tail;if(1<arguments.length)var Ka=V;else if(this.tail)wa=this.tail.prev,Ka=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var Wa=this.length-1;null!==
wa;Wa--)Ka=N(Ka,wa.value,Wa),wa=wa.prev;return Ka};bb.prototype.toArray=function(){for(var N=Array(this.length),V=0,wa=this.head;null!==wa;V++)N[V]=wa.value,wa=wa.next;return N};bb.prototype.toArrayReverse=function(){for(var N=Array(this.length),V=0,wa=this.tail;null!==wa;V++)N[V]=wa.value,wa=wa.prev;return N};bb.prototype.slice=function(N,V){V=V||this.length;0>V&&(V+=this.length);N=N||0;0>N&&(N+=this.length);var wa=new bb;if(V<N||0>V)return wa;0>N&&(N=0);V>this.length&&(V=this.length);for(var Ka=
0,Wa=this.head;null!==Wa&&Ka<N;Ka++)Wa=Wa.next;for(;null!==Wa&&Ka<V;Ka++,Wa=Wa.next)wa.push(Wa.value);return wa};bb.prototype.sliceReverse=function(N,V){V=V||this.length;0>V&&(V+=this.length);N=N||0;0>N&&(N+=this.length);var wa=new bb;if(V<N||0>V)return wa;0>N&&(N=0);V>this.length&&(V=this.length);for(var Ka=this.length,Wa=this.tail;null!==Wa&&Ka>V;Ka--)Wa=Wa.prev;for(;null!==Wa&&Ka>N;Ka--,Wa=Wa.prev)wa.push(Wa.value);return wa};bb.prototype.splice=function(N,V,...wa){N>this.length&&(N=this.length-
1);0>N&&(N=this.length+N);for(var Ka=0,Wa=this.head;null!==Wa&&Ka<N;Ka++)Wa=Wa.next;N=[];for(Ka=0;Wa&&Ka<V;Ka++)N.push(Wa.value),Wa=this.removeNode(Wa);null===Wa&&(Wa=this.tail);Wa!==this.head&&Wa!==this.tail&&(Wa=Wa.prev);for(Ka=0;Ka<wa.length;Ka++)V=Wa,Wa=wa[Ka],V=V===this.head?new La(Wa,null,V,this):new La(Wa,V,V.next,this),null===V.next&&(this.tail=V),null===V.prev&&(this.head=V),this.length++,Wa=V;return N};bb.prototype.reverse=function(){for(var N=this.head,V=this.tail,wa=N;null!==wa;wa=wa.prev){var Ka=
wa.prev;wa.prev=wa.next;wa.next=Ka}this.head=V;this.tail=N;return this};try{Ma(bb)}catch(N){}const vb=Symbol("max"),ac=Symbol("length"),rd=Symbol("lengthCalculator"),vd=Symbol("allowStale"),de=Symbol("maxAge"),oe=Symbol("dispose"),Z=Symbol("noDisposeOnSet"),za=Symbol("lruList"),gb=Symbol("cache"),Db=Symbol("updateAgeOnGet"),Zb=()=>1;class Gb{constructor(N){"number"===typeof N&&(N={max:N});N||(N={});if(N.max&&("number"!==typeof N.max||0>N.max))throw new TypeError("max must be a non-negative number");
this[vb]=N.max||Infinity;const V=N.length||Zb;this[rd]="function"!==typeof V?Zb:V;this[vd]=N.stale||!1;if(N.maxAge&&"number"!==typeof N.maxAge)throw new TypeError("maxAge must be a number");this[de]=N.maxAge||0;this[oe]=N.dispose;this[Z]=N.noDisposeOnSet||!1;this[Db]=N.updateAgeOnGet||!1;this.reset()}set max(N){if("number"!==typeof N||0>N)throw new TypeError("max must be a non-negative number");this[vb]=N||Infinity;Oa(this)}get max(){return this[vb]}set allowStale(N){this[vd]=!!N}get allowStale(){return this[vd]}set maxAge(N){if("number"!==
typeof N)throw new TypeError("maxAge must be a non-negative number");this[de]=N;Oa(this)}get maxAge(){return this[de]}set lengthCalculator(N){"function"!==typeof N&&(N=Zb);N!==this[rd]&&(this[rd]=N,this[ac]=0,this[za].forEach(V=>{V.length=this[rd](V.value,V.key);this[ac]+=V.length}));Oa(this)}get lengthCalculator(){return this[rd]}get length(){return this[ac]}get itemCount(){return this[za].length}rforEach(N,V){V=V||this;for(let wa=this[za].tail;null!==wa;){const Ka=wa.prev;hc(this,N,wa,V);wa=Ka}}forEach(N,
V){V=V||this;for(let wa=this[za].head;null!==wa;){const Ka=wa.next;hc(this,N,wa,V);wa=Ka}}keys(){return this[za].toArray().map(N=>N.key)}values(){return this[za].toArray().map(N=>N.value)}reset(){this[oe]&&this[za]&&this[za].length&&this[za].forEach(N=>this[oe](N.key,N.value));this[gb]=new Map;this[za]=new bb;this[ac]=0}dump(){return this[za].map(N=>kc(this,N)?!1:{k:N.key,v:N.value,e:N.now+(N.maxAge||0)}).toArray().filter(N=>N)}dumpLru(){return this[za]}set(N,V,wa){if((wa=wa||this[de])&&"number"!==
typeof wa)throw new TypeError("maxAge must be a number");const Ka=wa?Date.now():0,Wa=this[rd](V,N);if(this[gb].has(N)){if(Wa>this[vb])return sb(this,this[gb].get(N)),!1;const Vb=this[gb].get(N).value;if(this[oe]&&!this[Z])this[oe](N,Vb.value);Vb.now=Ka;Vb.maxAge=wa;Vb.value=V;this[ac]+=Wa-Vb.length;Vb.length=Wa;this.get(N);Oa(this);return!0}wa=new Lb(N,V,Wa,Ka,wa);if(wa.length>this[vb]){if(this[oe])this[oe](N,V);return!1}this[ac]+=wa.length;this[za].unshift(wa);this[gb].set(N,this[za].head);Oa(this);
return!0}has(N){if(!this[gb].has(N))return!1;N=this[gb].get(N).value;return!kc(this,N)}get(N){return sc(this,N,!0)}peek(N){return sc(this,N,!1)}pop(){const N=this[za].tail;if(!N)return null;sb(this,N);return N.value}del(N){sb(this,this[gb].get(N))}load(N){this.reset();const V=Date.now();for(let Ka=N.length-1;0<=Ka;Ka--){const Wa=N[Ka];var wa=Wa.e||0;0===wa?this.set(Wa.k,Wa.v):(wa-=V,0<wa&&this.set(Wa.k,Wa.v,wa))}}prune(){this[gb].forEach((N,V)=>sc(this,V,!1))}}const sc=(N,V,wa)=>{if(V=N[gb].get(V)){const Ka=
V.value;if(kc(N,Ka)){if(sb(N,V),!N[vd])return}else wa&&(N[Db]&&(V.value.now=Date.now()),N[za].unshiftNode(V));return Ka.value}},kc=(N,V)=>{if(!V||!V.maxAge&&!N[de])return!1;const wa=Date.now()-V.now;return V.maxAge?wa>V.maxAge:N[de]&&wa>N[de]},Oa=N=>{if(N[ac]>N[vb])for(let V=N[za].tail;N[ac]>N[vb]&&null!==V;){const wa=V.prev;sb(N,V);V=wa}},sb=(N,V)=>{if(V){const wa=V.value;if(N[oe])N[oe](wa.key,wa.value);N[ac]-=wa.length;N[gb].delete(wa.key);N[za].removeNode(V)}};class Lb{constructor(N,V,wa,Ka,Wa){this.key=
N;this.value=V;this.length=wa;this.now=Ka;this.maxAge=Wa||0}}const hc=(N,V,wa,Ka)=>{let Wa=wa.value;kc(N,Wa)&&(sb(N,wa),N[vd]||(Wa=void 0));Wa&&V.call(Ka,Wa.value,Wa.key,N)};class tc{constructor(N,V){V=ba(V);if(N instanceof tc)return N.loose===!!V.loose&&N.includePrerelease===!!V.includePrerelease?N:new tc(N.raw,V);if(N instanceof Re)return this.raw=N.value,this.set=[[N]],this.format(),this;this.options=V;this.loose=!!V.loose;this.includePrerelease=!!V.includePrerelease;this.raw=N;this.set=N.split(/\s*\|\|\s*/).map(wa=>
this.parseRange(wa.trim())).filter(wa=>wa.length);if(!this.set.length)throw new TypeError(`Invalid SemVer Range: ${N}`);if(1<this.set.length)if(N=this.set[0],this.set=this.set.filter(wa=>"\x3c0.0.0-0"!==wa[0].value),0===this.set.length)this.set=[N];else if(1<this.set.length)for(const wa of this.set)if(1===wa.length&&""===wa[0].value){this.set=[wa];break}this.format()}format(){return this.range=this.set.map(N=>N.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(N){N=N.trim();
const V=`parseRange:${Object.keys(this.options).join(",")}:${N}`;var wa=Mc.get(V);if(wa)return wa;wa=this.options.loose;N=N.replace(wa?Hb[yc.HYPHENRANGELOOSE]:Hb[yc.HYPHENRANGE],ye(this.options.includePrerelease));oa("hyphen replace",N);N=N.replace(Hb[yc.COMPARATORTRIM],Cc);oa("comparator trim",N,Hb[yc.COMPARATORTRIM]);N=N.replace(Hb[yc.TILDETRIM],xc);N=N.replace(Hb[yc.CARETTRIM],Jc);N=N.split(/\s+/).join(" ");const Ka=wa?Hb[yc.COMPARATORLOOSE]:Hb[yc.COMPARATOR];N=N.split(" ").map(Vb=>{var mc=Vb;
Vb=this.options;oa("comp",mc,Vb);mc=Id(mc,Vb);oa("caret",mc);mc=od(mc,Vb);oa("tildes",mc);mc=Wd(mc,Vb);oa("xrange",mc);oa("replaceStars",mc,Vb);mc=mc.trim().replace(Hb[yc.STAR],"");oa("stars",mc);return mc}).join(" ").split(/\s+/).map(Vb=>{var mc=this.options;oa("replaceGTE0",Vb,mc);return Vb.trim().replace(Hb[mc.includePrerelease?yc.GTE0PRE:yc.GTE0],"")}).filter(this.options.loose?Vb=>!!Vb.match(Ka):()=>!0).map(Vb=>new Re(Vb,this.options));wa=new Map;for(var Wa of N){if("\x3c0.0.0-0"===Wa.value)return[Wa];
wa.set(Wa.value,Wa)}1<wa.size&&wa.has("")&&wa.delete("");Wa=[...wa.values()];Mc.set(V,Wa);return Wa}intersects(N,V){if(!(N instanceof tc))throw new TypeError("a Range is required");return this.set.some(wa=>Yc(wa,V)&&N.set.some(Ka=>Yc(Ka,V)&&wa.every(Wa=>Ka.every(Vb=>Wa.intersects(Vb,V)))))}test(N){if(!N)return!1;if("string"===typeof N)try{N=new Ta(N,this.options)}catch(Vb){return!1}for(let Vb=0;Vb<this.set.length;Vb++){a:{var V=this.set[Vb];var wa=N,Ka=this.options;for(var Wa=0;Wa<V.length;Wa++)if(!V[Wa].test(wa)){V=
!1;break a}if(wa.prerelease.length&&!Ka.includePrerelease){for(Ka=0;Ka<V.length;Ka++)if(oa(V[Ka].semver),V[Ka].semver!==Re.ANY&&0<V[Ka].semver.prerelease.length&&(Wa=V[Ka].semver,Wa.major===wa.major&&Wa.minor===wa.minor&&Wa.patch===wa.patch)){V=!0;break a}V=!1}else V=!0}if(V)return!0}return!1}}var Bc=tc;const Mc=new Gb({max:1E3}),{re:Hb,t:yc,comparatorTrimReplace:Cc,tildeTrimReplace:xc,caretTrimReplace:Jc}=Va,Yc=(N,V)=>{let wa=!0;N=N.slice();let Ka=N.pop();for(;wa&&N.length;)wa=N.every(Wa=>Ka.intersects(Wa,
V)),Ka=N.pop();return wa},Uc=N=>!N||"x"===N.toLowerCase()||"*"===N,od=(N,V)=>N.trim().split(/\s+/).map(wa=>qd(wa,V)).join(" "),qd=(N,V)=>N.replace(V.loose?Hb[yc.TILDELOOSE]:Hb[yc.TILDE],(wa,Ka,Wa,Vb,mc)=>{oa("tilde",N,wa,Ka,Wa,Vb,mc);Uc(Ka)?wa="":Uc(Wa)?wa=`>=${Ka}.0.0 <${+Ka+1}.0.0-0`:Uc(Vb)?wa=`>=${Ka}.${Wa}.0 <${Ka}.${+Wa+1}.0-0`:mc?(oa("replaceTilde pr",mc),wa=`>=${Ka}.${Wa}.${Vb}-${mc} <${Ka}.${+Wa+1}.0-0`):wa=`>=${Ka}.${Wa}.${Vb} <${Ka}.${+Wa+1}.0-0`;oa("tilde return",wa);return wa}),Id=(N,
V)=>N.trim().split(/\s+/).map(wa=>Ed(wa,V)).join(" "),Ed=(N,V)=>{oa("caret",N,V);const wa=V.includePrerelease?"-0":"";return N.replace(V.loose?Hb[yc.CARETLOOSE]:Hb[yc.CARET],(Ka,Wa,Vb,mc,Gc)=>{oa("caret",N,Ka,Wa,Vb,mc,Gc);Uc(Wa)?Ka="":Uc(Vb)?Ka=`>=${Wa}.0.0${wa} <${+Wa+1}.0.0-0`:Uc(mc)?Ka="0"===Wa?`>=${Wa}.${Vb}.0${wa} <${Wa}.${+Vb+1}.0-0`:`>=${Wa}.${Vb}.0${wa} <${+Wa+1}.0.0-0`:Gc?(oa("replaceCaret pr",Gc),Ka="0"===Wa?"0"===Vb?`>=${Wa}.${Vb}.${mc}-${Gc} <${Wa}.${Vb}.${+mc+1}-0`:`>=${Wa}.${Vb}.${mc}-${Gc} <${Wa}.${+Vb+
1}.0-0`:`>=${Wa}.${Vb}.${mc}-${Gc} <${+Wa+1}.0.0-0`):(oa("no pr"),Ka="0"===Wa?"0"===Vb?`>=${Wa}.${Vb}.${mc}${wa} <${Wa}.${Vb}.${+mc+1}-0`:`>=${Wa}.${Vb}.${mc}${wa} <${Wa}.${+Vb+1}.0-0`:`>=${Wa}.${Vb}.${mc} <${+Wa+1}.0.0-0`);oa("caret return",Ka);return Ka})},Wd=(N,V)=>{oa("replaceXRanges",N,V);return N.split(/\s+/).map(wa=>me(wa,V)).join(" ")},me=(N,V)=>{N=N.trim();return N.replace(V.loose?Hb[yc.XRANGELOOSE]:Hb[yc.XRANGE],(wa,Ka,Wa,Vb,mc,Gc)=>{oa("xRange",N,wa,Ka,Wa,Vb,mc,Gc);const uc=Uc(Wa),Fc=uc||
Uc(Vb);mc=Fc||Uc(mc);"\x3d"===Ka&&mc&&(Ka="");Gc=V.includePrerelease?"-0":"";uc?wa="\x3e"===Ka||"\x3c"===Ka?"\x3c0.0.0-0":"*":Ka&&mc?(Fc&&(Vb=0),mc=0,"\x3e"===Ka?(Ka="\x3e\x3d",Fc?(Wa=+Wa+1,Vb=0):Vb=+Vb+1,mc=0):"\x3c\x3d"===Ka&&(Ka="\x3c",Fc?Wa=+Wa+1:Vb=+Vb+1),"\x3c"===Ka&&(Gc="-0"),wa=`${Ka+Wa}.${Vb}.${mc}${Gc}`):Fc?wa=`>=${Wa}.0.0${Gc} <${+Wa+1}.0.0-0`:mc&&(wa=`>=${Wa}.${Vb}.0${Gc} <${Wa}.${+Vb+1}.0-0`);oa("xRange return",wa);return wa})},ye=N=>(V,wa,Ka,Wa,Vb,mc,Gc,uc,Fc,id,fd,se,xd)=>{wa=Uc(Ka)?
"":Uc(Wa)?`>=${Ka}.0.0${N?"-0":""}`:Uc(Vb)?`>=${Ka}.${Wa}.0${N?"-0":""}`:mc?`>=${wa}`:`>=${wa}${N?"-0":""}`;uc=Uc(Fc)?"":Uc(id)?`<${+Fc+1}.0.0-0`:Uc(fd)?`<${Fc}.${+id+1}.0-0`:se?`<=${Fc}.${id}.${fd}-${se}`:N?`<${Fc}.${id}.${+fd+1}-0`:`<=${uc}`;return`${wa} ${uc}`.trim()},Ye=Symbol("SemVer ANY");class Qe{static get ANY(){return Ye}constructor(N,V){V=ba(V);if(N instanceof Qe){if(N.loose===!!V.loose)return N;N=N.value}oa("comparator",N,V);this.options=V;this.loose=!!V.loose;this.parse(N);this.value=
this.semver===Ye?"":this.operator+this.semver.version;oa("comp",this)}parse(N){const V=N.match(this.options.loose?Fd[ee.COMPARATORLOOSE]:Fd[ee.COMPARATOR]);if(!V)throw new TypeError(`Invalid comparator: ${N}`);this.operator=void 0!==V[1]?V[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=V[2]?new Ta(V[2],this.options.loose):Ye}toString(){return this.value}test(N){oa("Comparator.test",N,this.options.loose);if(this.semver===Ye||N===Ye)return!0;if("string"===typeof N)try{N=new Ta(N,this.options)}catch(V){return!1}return ld(N,
this.operator,this.semver,this.options)}intersects(N,V){if(!(N instanceof Qe))throw new TypeError("a Comparator is required");V&&"object"===typeof V||(V={loose:!!V,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Bc(N.value,V)).test(this.value);if(""===N.operator)return""===N.value?!0:(new Bc(this.value,V)).test(N.semver);const wa=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===N.operator||"\x3e"===N.operator),Ka=("\x3c\x3d"===this.operator||"\x3c"===
this.operator)&&("\x3c\x3d"===N.operator||"\x3c"===N.operator),Wa=this.semver.version===N.semver.version,Vb=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===N.operator||"\x3c\x3d"===N.operator),mc=ld(this.semver,"\x3c",N.semver,V)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===N.operator||"\x3c"===N.operator);N=ld(this.semver,"\x3e",N.semver,V)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===N.operator||"\x3e"===N.operator);return wa||
Ka||Wa&&Vb||mc||N}}var Re=Qe;const {re:Fd,t:ee}=Va;var ff=(N,V,wa)=>{try{V=new Bc(V,wa)}catch(Ka){return!1}return V.test(N)};const {ANY:Oe}=Re;var Bf=(N,V,wa,Ka)=>{N=new Ta(N,Ka);V=new Bc(V,Ka);let Wa,Vb,mc,Gc;switch(wa){case "\x3e":Wa=$c;wa=we;Vb=Nc;mc="\x3e";Gc="\x3e\x3d";break;case "\x3c":Wa=Nc;wa=Dd;Vb=$c;mc="\x3c";Gc="\x3c\x3d";break;default:throw new TypeError('Must provide a hilo val of "\x3c" or "\x3e"');}if(ff(N,V,Ka))return!1;for(let uc=0;uc<V.set.length;++uc){let Fc=null,id=null;V.set[uc].forEach(fd=>
{fd.semver===Oe&&(fd=new Re("\x3e\x3d0.0.0"));Fc=Fc||fd;id=id||fd;Wa(fd.semver,Fc.semver,Ka)?Fc=fd:Vb(fd.semver,id.semver,Ka)&&(id=fd)});if(Fc.operator===mc||Fc.operator===Gc||(!id.operator||id.operator===mc)&&wa(N,id.semver)||id.operator===Gc&&Vb(N,id.semver))return!1}return!0};const {ANY:Yd}=Re,Ae=(N,V,wa)=>{if(N===V)return!0;if(1===N.length&&N[0].semver===Yd)return 1===V.length&&V[0].semver===Yd;const Ka=new Set;let Wa,Vb;for(const Fc of N)"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator?Wa=cf(Wa,
Fc,wa):"\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator?Vb=re(Vb,Fc,wa):Ka.add(Fc.semver);if(1<Ka.size)return null;let mc;if(Wa&&Vb&&(mc=rc(Wa.semver,Vb.semver,wa),0<mc||0===mc&&("\x3e\x3d"!==Wa.operator||"\x3c\x3d"!==Vb.operator)))return null;for(const Fc of Ka){if(Wa&&!ff(Fc,String(Wa),wa)||Vb&&!ff(Fc,String(Vb),wa))return null;for(const id of V)if(!ff(Fc,String(id),wa))return!1;return!0}let Gc,uc;for(const Fc of V){uc=uc||"\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator;Gc=Gc||"\x3c"===Fc.operator||
"\x3c\x3d"===Fc.operator;if(Wa)if("\x3e"===Fc.operator||"\x3e\x3d"===Fc.operator){if(N=cf(Wa,Fc,wa),N===Fc&&N!==Wa)return!1}else if("\x3e\x3d"===Wa.operator&&!ff(Wa.semver,String(Fc),wa))return!1;if(Vb)if("\x3c"===Fc.operator||"\x3c\x3d"===Fc.operator){if(N=re(Vb,Fc,wa),N===Fc&&N!==Vb)return!1}else if("\x3c\x3d"===Vb.operator&&!ff(Vb.semver,String(Fc),wa))return!1;if(!Fc.operator&&(Vb||Wa)&&0!==mc)return!1}return Wa&&Gc&&!Vb&&0!==mc||Vb&&uc&&!Wa&&0!==mc?!1:!0},cf=(N,V,wa)=>{if(!N)return V;wa=rc(N.semver,
V.semver,wa);return 0<wa?N:0>wa?V:"\x3e"===V.operator&&"\x3e\x3d"===N.operator?V:N},re=(N,V,wa)=>{if(!N)return V;wa=rc(N.semver,V.semver,wa);return 0>wa?N:0<wa?V:"\x3c"===V.operator&&"\x3c\x3d"===N.operator?V:N};var Ad={re:Va.re,src:Va.src,tokens:Va.t,SEMVER_SPEC_VERSION:xa.SEMVER_SPEC_VERSION,SemVer:Ta,compareIdentifiers:xb.compareIdentifiers,rcompareIdentifiers:xb.rcompareIdentifiers,parse:Pc,valid:(N,V)=>(N=Pc(N,V))?N.version:null,clean:(N,V)=>(N=Pc(N.trim().replace(/^[=v]+/,""),V))?N.version:
null,inc:(N,V,wa,Ka)=>{"string"===typeof wa&&(Ka=wa,wa=void 0);try{return(new Ta(N,wa)).inc(V,Ka).version}catch(Wa){return null}},diff:(N,V)=>{if(0===rc(N,V,void 0))return null;{N=Pc(N);V=Pc(V);var wa=N.prerelease.length||V.prerelease.length;const Ka=wa?"pre":"";wa=wa?"prerelease":"";for(const Wa in N)if(("major"===Wa||"minor"===Wa||"patch"===Wa)&&N[Wa]!==V[Wa])return Ka+Wa;return wa}},major:(N,V)=>(new Ta(N,V)).major,minor:(N,V)=>(new Ta(N,V)).minor,patch:(N,V)=>(new Ta(N,V)).patch,prerelease:(N,
V)=>(N=Pc(N,V))&&N.prerelease.length?N.prerelease:null,compare:rc,rcompare:(N,V,wa)=>rc(V,N,wa),compareLoose:(N,V)=>rc(N,V,!0),compareBuild:Xc,sort:(N,V)=>N.sort((wa,Ka)=>Xc(wa,Ka,V)),rsort:(N,V)=>N.sort((wa,Ka)=>Xc(Ka,wa,V)),gt:$c,lt:Nc,eq:(N,V,wa)=>0===rc(N,V,wa),neq:(N,V,wa)=>0!==rc(N,V,wa),gte:Dd,lte:we,cmp:ld,coerce:(N,V)=>{if(N instanceof Ta)return N;"number"===typeof N&&(N=String(N));if("string"!==typeof N)return null;V=V||{};let wa=null;if(V.rtl){let Ka;for(;(Ka=sd[ge.COERCERTL].exec(N))&&
(!wa||wa.index+wa[0].length!==N.length);)wa&&Ka.index+Ka[0].length===wa.index+wa[0].length||(wa=Ka),sd[ge.COERCERTL].lastIndex=Ka.index+Ka[1].length+Ka[2].length;sd[ge.COERCERTL].lastIndex=-1}else wa=N.match(sd[ge.COERCE]);return null===wa?null:Pc(`${wa[2]}.${wa[3]||"0"}.${wa[4]||"0"}`,V)},Comparator:Re,Range:Bc,satisfies:ff,toComparators:(N,V)=>(new Bc(N,V)).set.map(wa=>wa.map(Ka=>Ka.value).join(" ").trim().split(" ")),maxSatisfying:(N,V,wa)=>{let Ka=null,Wa=null,Vb=null;try{Vb=new Bc(V,wa)}catch(mc){return null}N.forEach(mc=>
{!Vb.test(mc)||Ka&&-1!==Wa.compare(mc)||(Ka=mc,Wa=new Ta(Ka,wa))});return Ka},minSatisfying:(N,V,wa)=>{let Ka=null,Wa=null,Vb=null;try{Vb=new Bc(V,wa)}catch(mc){return null}N.forEach(mc=>{!Vb.test(mc)||Ka&&1!==Wa.compare(mc)||(Ka=mc,Wa=new Ta(Ka,wa))});return Ka},minVersion:(N,V)=>{N=new Bc(N,V);V=new Ta("0.0.0");if(N.test(V))return V;V=new Ta("0.0.0-0");if(N.test(V))return V;V=null;for(let wa=0;wa<N.set.length;++wa){let Ka=null;N.set[wa].forEach(Wa=>{const Vb=new Ta(Wa.semver.version);switch(Wa.operator){case "\x3e":0===
Vb.prerelease.length?Vb.patch++:Vb.prerelease.push(0),Vb.raw=Vb.format();case "":case "\x3e\x3d":if(!Ka||0<rc(Vb,Ka,void 0))Ka=Vb;break;case "\x3c":case "\x3c\x3d":break;default:throw Error(`Unexpected operation: ${Wa.operator}`);}});!Ka||V&&!(0<rc(V,Ka,void 0))||(V=Ka)}return V&&N.test(V)?V:null},validRange:(N,V)=>{try{return(new Bc(N,V)).range||"*"}catch(wa){return null}},outside:Bf,gtr:(N,V,wa)=>Bf(N,V,"\x3e",wa),ltr:(N,V,wa)=>Bf(N,V,"\x3c",wa),intersects:(N,V,wa)=>{N=new Bc(N,wa);V=new Bc(V,wa);
return N.intersects(V)},simplifyRange:(N,V,wa)=>{var Ka=[],Wa=null;let Vb=null;N=N.sort((mc,Gc)=>rc(mc,Gc,wa));for(const mc of N)ff(mc,V,wa)?(Vb=mc,Wa||(Wa=mc)):(Vb&&Ka.push([Wa,Vb]),Wa=Vb=null);Wa&&Ka.push([Wa,null]);Wa=[];for(const [mc,Gc]of Ka)mc===Gc?Wa.push(mc):Gc||mc!==N[0]?Gc?mc===N[0]?Wa.push(`<=${Gc}`):Wa.push(`${mc} - ${Gc}`):Wa.push(`>=${mc}`):Wa.push("*");Ka=Wa.join(" || ");return Ka.length<("string"===typeof V.raw?V.raw:String(V)).length?Ka:V},subset:(N,V,wa)=>{if(N===V)return!0;N=new Bc(N,
wa);V=new Bc(V,wa);let Ka=!1;a:for(const Wa of N.set){for(const Vb of V.set)if(N=Ae(Wa,Vb,wa),Ka=Ka||null!==N,N)continue a;if(Ka)return!1}return!0}};const Ld={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},ae={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),
"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),
"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11",
"#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),
"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var Jf=Object.freeze({__proto__:null,dark:{background:"#333",title:{color:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",
strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",
labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),
diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,
gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",
padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6",
"#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},
axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Ld["category-6"],diverging:Ld["fireandice-6"],heatmap:Ld["fire-7"],ordinal:Ld["fire-7"],ramp:Ld["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},
area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},
urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,
labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",orient:"right",offset:10},view:{stroke:"transparent"},range:{category:ae["six-groups-cat-1"],diverging:ae["diverging-colors"],heatmap:ae["diverging-colors"],ordinal:ae["six-groups-seq"],ramp:ae["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},
text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.9.1",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},
axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const De=N=>function(V){return V[N]},Jd=N=>{const V=N.length;return function(wa){for(let Ka=0;Ka<V;++Ka)wa=wa[N[Ka]];return wa}};(function(N,V,wa){const Ka=Ya(N);N=1===Ka.length?Ka[0]:N;return Aa((wa&&wa.get||Ra)(Ka),[N],V||N)})("id");Aa(N=>N,[],"identity");Aa(()=>0,[],"zero");Aa(()=>1,[],"one");
Aa(()=>!0,[],"true");Aa(()=>!1,[],"false");var Se=Array.isArray;const Ee={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(N){return String(N).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2};class Ac{constructor(N){this.options=Object.assign(Object.assign({},Ee),N);N=this.options.id;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const wa=
document.createElement("style");wa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(N))throw Error("Invalid HTML ID");var V="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black; }\n  #vg-tooltip-element.visible {\n    visibility: visible; }\n  #vg-tooltip-element h2 {\n    margin-top: 0;\n    margin-bottom: 10px;\n    font-size: 13px; }\n  #vg-tooltip-element img {\n    max-width: 200px;\n    max-height: 200px; }\n  #vg-tooltip-element table {\n    border-spacing: 0; }\n    #vg-tooltip-element table tr {\n      border: none; }\n      #vg-tooltip-element table tr td {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        padding-top: 2px;\n        padding-bottom: 2px; }\n        #vg-tooltip-element table tr td.key {\n          color: #808080;\n          max-width: 150px;\n          text-align: right;\n          padding-right: 4px; }\n        #vg-tooltip-element table tr td.value {\n          display: block;\n          max-width: 300px;\n          max-height: 7em;\n          text-align: left; }\n  #vg-tooltip-element.dark-theme {\n    background-color: rgba(32, 32, 32, 0.9);\n    border: 1px solid #f5f5f5;\n    color: white; }\n    #vg-tooltip-element.dark-theme td.key {\n      color: #bfbfbf; }\n".toString().replace("vg-tooltip-element",
N);wa.innerHTML=V;V=document.head;0<V.childNodes.length?V.insertBefore(wa,V.childNodes[0]):V.appendChild(wa)}this.el=document.getElementById(N);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",N),this.el.classList.add("vg-tooltip"),document.body.appendChild(this.el))}tooltipHandler(N,V,wa,Ka){if(null==Ka||""===Ka)this.el.classList.remove("visible",`${this.options.theme}-theme`);else{this.el.innerHTML=db(Ka,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible",
`${this.options.theme}-theme`);N=this.el.getBoundingClientRect();var Wa=this.options.offsetX;wa=this.options.offsetY;Ka=V.clientX+Wa;Ka+N.width>window.innerWidth&&(Ka=+V.clientX-Wa-N.width);Wa=V.clientY+wa;Wa+N.height>window.innerHeight&&(Wa=+V.clientY-wa-N.height);V={x:Ka,y:Wa};var {x:Vb,y:mc}=V;this.el.setAttribute("style",`top: ${mc}px; left: ${Vb}px`)}}}String.prototype.startsWith||(String.prototype.startsWith=function(N,V){return this.substr(!V||0>V?0:+V,N.length)===N});var Be,Xd=Qa,cc=Ua,Je=
"undefined"!==typeof window?window:void 0;void 0===cc&&(null===(Be=null===Je||void 0===Je?void 0:Je.vl)||void 0===Be?0:Be.compile)&&(cc=Je.vl);var pe={"export":{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},Ke={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Cf={vega:"Vega","vega-lite":"Vega-Lite"},kf={vega:Xd.version,"vega-lite":cc?cc.version:"not available"},
tf={vega:function(N){return N},"vega-lite":function(N,V){return cc.compile(N,{config:V}).spec}},Pe=function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];if(V=1<N.length){if(V=x.isString(N[0]))V=N[0],V=!(V.startsWith("http://")||V.startsWith("https://")||V.startsWith("//"));V=V||N[0]instanceof HTMLElement||3===N.length}return V?Q(N[0],N[1],N[2]):ma(N[0],N[1])};Pe.vegaLite=cc;Pe.vl=cc;Pe.container=ma;Pe.embed=Q;Pe.vega=Xd;Pe["default"]=Q;Pe.version="6.15.0";return Pe})};
shadow$provide[70]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?x(Nb):"function"===typeof define&&define.amd?define(["exports"],x):x(n.L={})})(this,function(n){function x(c){var m,G;var ia=1;for(G=arguments.length;ia<G;ia++){var Ga=arguments[ia];for(m in Ga)c[m]=Ga[m]}return c}function ea(c,m){var G=Array.prototype.slice;if(c.bind)return c.bind.apply(c,G.call(arguments,1));var ia=G.call(arguments,2);return function(){return c.apply(m,ia.length?ia.concat(G.call(arguments)):
arguments)}}function Sa(c){c._leaflet_id=c._leaflet_id||++Hb;return c._leaflet_id}function Wb(c,m,G){var ia,Ga,Pb;var Tb=function(){ia=!1;Ga&&(Pb.apply(G,Ga),Ga=!1)};return Pb=function(){ia?Ga=arguments:(c.apply(G,arguments),setTimeout(Tb,m),ia=!0)}}function fb(c,m,G){var ia=m[1];m=m[0];var Ga=ia-m;return c===ia&&G?c:((c-m)%Ga+Ga)%Ga+m}function ub(){return!1}function Ob(c,m){m=Math.pow(10,void 0===m?6:m);return Math.round(c*m)/m}function zb(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function cb(c){return zb(c).split(/\s+/)}
function ob(c,m){Object.prototype.hasOwnProperty.call(c,"options")||(c.options=c.options?Mc(c.options):{});for(var G in m)c.options[G]=m[G];return c.options}function rb(c,m,G){var ia=[],Ga;for(Ga in c)ia.push(encodeURIComponent(G?Ga.toUpperCase():Ga)+"\x3d"+encodeURIComponent(c[Ga]));return(m&&-1!==m.indexOf("?")?"\x26":"?")+ia.join("\x26")}function Xa(c,m){return c.replace(yc,function(G,ia){ia=m[ia];if(void 0===ia)throw Error("No value provided for variable "+G);"function"===typeof ia&&(ia=ia(m));
return ia})}function Ha(c,m){for(var G=0;G<c.length;G++)if(c[G]===m)return G;return-1}function Ia(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}function Za(c){var m=+new Date,G=Math.max(0,16-(m-xc));xc=m+G;return window.setTimeout(c,G)}function mb(c,m,G){if(G&&Jc===Za)c.call(m);else return Jc.call(window,ea(c,m))}function Da(c){c&&Yc.call(window,c)}function Fa(){}function hb(c){if("undefined"!==typeof L&&L&&L.Mixin){c=Cc(c)?c:[c];for(var m=0;m<c.length;m++)c[m]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function Ca(c,m,G){this.x=G?Math.round(c):c;this.y=G?Math.round(m):m}function bb(c,m,G){return c instanceof Ca?c:Cc(c)?new Ca(c[0],c[1]):void 0===c||null===c?c:"object"===typeof c&&"x"in c&&"y"in c?new Ca(c.x,c.y):new Ca(c,m,G)}function La(c,m){if(c){c=m?[c,m]:c;m=0;for(var G=c.length;m<G;m++)this.extend(c[m])}}function ka(c,m){return!c||c instanceof La?c:new La(c,m)}function Aa(c,m){if(c){c=m?[c,m]:c;m=0;for(var G=c.length;m<G;m++)this.extend(c[m])}}function Ra(c,m){return c instanceof
Aa?c:new Aa(c,m)}function Ya(c,m,G){if(isNaN(c)||isNaN(m))throw Error("Invalid LatLng object: ("+c+", "+m+")");this.lat=+c;this.lng=+m;void 0!==G&&(this.alt=+G)}function ib(c,m,G){return c instanceof Ya?c:Cc(c)&&"object"!==typeof c[0]?3===c.length?new Ya(c[0],c[1],c[2]):2===c.length?new Ya(c[0],c[1]):null:void 0===c||null===c?c:"object"===typeof c&&"lat"in c?new Ya(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===m?null:new Ya(c,m,G)}function db(c,m,G,ia){Cc(c)?(this._a=c[0],this._b=c[1],this._c=c[2],
this._d=c[3]):(this._a=c,this._b=m,this._c=G,this._d=ia)}function nb(c,m,G,ia){return new db(c,m,G,ia)}function $a(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function S(c,m){var G="",ia,Ga;var Pb=0;for(ia=c.length;Pb<ia;Pb++){var Tb=c[Pb];var dc=0;for(Ga=Tb.length;dc<Ga;dc++){var vc=Tb[dc];G+=(dc?"L":"M")+vc.x+" "+vc.y}G+=m?V?"z":"x":""}return G||"M0 0"}function z(c){return 0<=navigator.userAgent.toLowerCase().indexOf(c)}function I(c,m,G,ia){"touchstart"===m?J(c,G,ia):"touchmove"===
m?Ua(c,G,ia):"touchend"===m&&U(c,G,ia);return this}function Q(c,m,G){G=c["_leaflet_"+m+G];"touchstart"===m?c.removeEventListener(Wa,G,!1):"touchmove"===m?c.removeEventListener(Vb,G,!1):"touchend"===m&&(c.removeEventListener(mc,G,!1),c.removeEventListener(Gc,G,!1));return this}function J(c,m,G){var ia=ea(function(Ga){Ga.MSPOINTER_TYPE_TOUCH&&Ga.pointerType===Ga.MSPOINTER_TYPE_TOUCH&&Xc(Ga);Qa(Ga,m)});c["_leaflet_touchstart"+G]=ia;c.addEventListener(Wa,ia,!1);Fc||(document.addEventListener(Wa,W,!0),
document.addEventListener(Vb,Y,!0),document.addEventListener(mc,ma,!0),document.addEventListener(Gc,ma,!0),Fc=!0)}function W(c){uc[c.pointerId]=c}function Y(c){uc[c.pointerId]&&(uc[c.pointerId]=c)}function ma(c){delete uc[c.pointerId]}function Qa(c,m){c.touches=[];for(var G in uc)c.touches.push(uc[G]);c.changedTouches=[c];m(c)}function Ua(c,m,G){var ia=function(Ga){Ga.pointerType===(Ga.MSPOINTER_TYPE_MOUSE||"mouse")&&0===Ga.buttons||Qa(Ga,m)};c["_leaflet_touchmove"+G]=ia;c.addEventListener(Vb,ia,
!1)}function U(c,m,G){var ia=function(Ga){Qa(Ga,m)};c["_leaflet_touchend"+G]=ia;c.addEventListener(mc,ia,!1);c.addEventListener(Gc,ia,!1)}function sa(c,m,G){function ia(vc){if(pe){if(!vc.isPrimary||"mouse"===vc.pointerType)return}else if(1<vc.touches.length)return;var hd=Date.now(),nd=hd-(Pb||hd);Tb=vc.touches?vc.touches[0]:vc;dc=0<nd&&250>=nd;Pb=hd}function Ga(vc){if(dc&&!Tb.cancelBubble){if(pe){if("mouse"===vc.pointerType)return;vc={};var hd;for(hd in Tb){var nd=Tb[hd];vc[hd]=nd&&nd.bind?nd.bind(Tb):
nd}Tb=vc}Tb.type="dblclick";Tb.button=0;m(Tb);Pb=null}}var Pb,Tb,dc=!1;c["_leaflet_"+id+G]=ia;c["_leaflet_"+fd+G]=Ga;c["_leaflet_dblclick"+G]=m;c.addEventListener(id,ia,Pe?{passive:!1}:!1);c.addEventListener(fd,Ga,Pe?{passive:!1}:!1);c.addEventListener("dblclick",m,!1);return this}function ua(c,m){var G=c["_leaflet_"+fd+m],ia=c["_leaflet_dblclick"+m];c.removeEventListener(id,c["_leaflet_"+id+m],Pe?{passive:!1}:!1);c.removeEventListener(fd,G,Pe?{passive:!1}:!1);c.removeEventListener("dblclick",ia,
!1);return this}function la(c){return"string"===typeof c?document.getElementById(c):c}function T(c,m){var G=c.style[m]||c.currentStyle&&c.currentStyle[m];G&&"auto"!==G||!document.defaultView||(G=(c=document.defaultView.getComputedStyle(c,null))?c[m]:null);return"auto"===G?null:G}function v(c,m,G){c=document.createElement(c);c.className=m||"";G&&G.appendChild(c);return c}function w(c){var m=c.parentNode;m&&m.removeChild(c)}function p(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function r(c){var m=
c.parentNode;m&&m.lastChild!==c&&m.appendChild(c)}function D(c){var m=c.parentNode;m&&m.firstChild!==c&&m.insertBefore(c,m.firstChild)}function E(c,m){if(void 0!==c.classList)return c.classList.contains(m);c=xa(c);return 0<c.length&&(new RegExp("(^|\\s)"+m+"(\\s|$)")).test(c)}function H(c,m){if(void 0!==c.classList){m=cb(m);for(var G=0,ia=m.length;G<ia;G++)c.classList.add(m[G])}else E(c,m)||(G=xa(c),ha(c,(G?G+" ":"")+m))}function C(c,m){void 0!==c.classList?c.classList.remove(m):ha(c,zb((" "+xa(c)+
" ").replace(" "+m+" "," ")))}function ha(c,m){void 0===c.className.baseVal?c.className=m:c.className.baseVal=m}function xa(c){c.correspondingElement&&(c=c.correspondingElement);return void 0===c.className.baseVal?c.className:c.className.baseVal}function oa(c,m){if("opacity"in c.style)c.style.opacity=m;else if("filter"in c.style)a:{var G=!1;try{G=c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(ia){if(1===m)break a}m=Math.round(100*m);G?(G.Enabled=100!==m,G.Opacity=m):c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+
m+")"}}function Va(c){for(var m=document.documentElement.style,G=0;G<c.length;G++)if(c[G]in m)return c[G];return!1}function Ja(c,m,G){m=m||new Ca(0,0);c.style[se]=(Jd?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(G?" scale("+G+")":"")}function ba(c,m){c._leaflet_pos=m;Ac?Ja(c,m):(c.style.left=m.x+"px",c.style.top=m.y+"px")}function ta(c){return c._leaflet_pos||new Ca(0,0)}function eb(){Dc(window,"dragstart",Xc)}function xb(){Sc(window,"dragstart",Xc)}function Kb(c){for(;-1===
c.tabIndex;)c=c.parentNode;c.style&&(fc(),Zf=c,pd=c.style.outline,c.style.outline="none",Dc(window,"keydown",fc))}function fc(){Zf&&(Zf.style.outline=pd,pd=Zf=void 0,Sc(window,"keydown",fc))}function Ec(c){do c=c.parentNode;while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function gd(c){var m=c.getBoundingClientRect();return{x:m.width/c.offsetWidth||1,y:m.height/c.offsetHeight||1,boundingClientRect:m}}function Dc(c,m,G,ia){if("object"===typeof m)for(var Ga in m)nc(c,Ga,m[Ga],G);
else{m=cb(m);Ga=0;for(var Pb=m.length;Ga<Pb;Ga++)nc(c,m[Ga],G,ia)}return this}function Sc(c,m,G,ia){if("object"===typeof m)for(var Ga in m)lc(c,Ga,m[Ga],G);else if(m){m=cb(m);Ga=0;for(var Pb=m.length;Ga<Pb;Ga++)lc(c,m[Ga],G,ia)}else{for(Pb in c[Le])lc(c,Pb,c[Le][Pb]);delete c[Le]}return this}function Ta(){if(pe)return!(ee||Ld)}function nc(c,m,G,ia){var Ga=m+Sa(G)+(ia?"_"+Sa(ia):"");if(c[Le]&&c[Le][Ga])return this;var Pb=function(dc){return G.call(ia||c,dc||window.event)},Tb=Pb;pe&&0===m.indexOf("touch")?
I(c,m,Pb,Ga):Ke&&"dblclick"===m&&!Ta()?sa(c,Pb,Ga):"addEventListener"in c?"touchstart"===m||"touchmove"===m||"wheel"===m||"mousewheel"===m?c.addEventListener(Ze[m]||m,Pb,Pe?{passive:!1}:!1):"mouseenter"===m||"mouseleave"===m?(Pb=function(dc){dc=dc||window.event;sd(c,dc)&&Tb(dc)},c.addEventListener(Ze[m],Pb,!1)):c.addEventListener(m,Tb,!1):"attachEvent"in c&&c.attachEvent("on"+m,Pb);c[Le]=c[Le]||{};c[Le][Ga]=Pb}function lc(c,m,G,ia){G=m+Sa(G)+(ia?"_"+Sa(ia):"");ia=c[Le]&&c[Le][G];if(!ia)return this;
pe&&0===m.indexOf("touch")?Q(c,m,G):Ke&&"dblclick"===m&&!Ta()?ua(c,G):"removeEventListener"in c?c.removeEventListener(Ze[m]||m,ia,!1):"detachEvent"in c&&c.detachEvent("on"+m,ia);c[Le][G]=null}function wc(c){c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0;ld(c);return this}function Pc(c){nc(c,"wheel",wc);return this}function rc(c){Dc(c,"mousedown touchstart dblclick",wc);nc(c,"click",we);return this}function Xc(c){c.preventDefault?c.preventDefault():
c.returnValue=!1;return this}function $c(c){Xc(c);wc(c);return this}function Nc(c,m){if(!m)return new Ca(c.clientX,c.clientY);var G=gd(m),ia=G.boundingClientRect;return new Ca((c.clientX-ia.left)/G.x-m.clientLeft,(c.clientY-ia.top)/G.y-m.clientTop)}function Dd(c){return ee?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/$f:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&32765>Math.abs(c.detail)?
20*-c.detail:c.detail?c.detail/-32765*60:0}function we(c){vf[c.type]=!0}function ld(c){var m=vf[c.type];vf[c.type]=!1;return m}function sd(c,m){m=m.relatedTarget;if(!m)return!0;try{for(;m&&m!==c;)m=m.parentNode}catch(G){return!1}return m!==c}function ge(c,m){if(!m||!c.length)return c.slice();m*=m;for(var G=[c[0]],ia=1,Ga=0,Pb=c.length;ia<Pb;ia++){var Tb=c[ia],dc=c[Ga],vc=dc.x-Tb.x;Tb=dc.y-Tb.y;vc*vc+Tb*Tb>m&&(G.push(c[ia]),Ga=ia)}Ga<Pb-1&&G.push(c[Pb-1]);c=G;G=c.length;ia=new ("undefined"!==typeof Uint8Array?
Uint8Array:Array)(G);ia[0]=ia[G-1]=1;vb(c,ia,m,0,G-1);Ga=[];for(m=0;m<G;m++)ia[m]&&Ga.push(c[m]);return Ga}function Ma(c,m,G){return Math.sqrt(de(c,m,G,!0))}function vb(c,m,G,ia,Ga){var Pb=0,Tb;for(Tb=ia+1;Tb<=Ga-1;Tb++){var dc=de(c[Tb],c[ia],c[Ga],!0);if(dc>Pb){var vc=Tb;Pb=dc}}Pb>G&&(m[vc]=1,vb(c,m,G,ia,vc),vb(c,m,G,vc,Ga))}function ac(c,m,G,ia,Ga){ia=ia?Bd:vd(c,G);var Pb=vd(m,G);for(Bd=Pb;;){if(!(ia|Pb))return[c,m];if(ia&Pb)return!1;var Tb=ia||Pb;var dc=rd(c,m,Tb,G,Ga);var vc=vd(dc,G);Tb===ia?
(c=dc,ia=vc):(m=dc,Pb=vc)}}function rd(c,m,G,ia,Ga){var Pb=m.x-c.x;m=m.y-c.y;var Tb=ia.min;ia=ia.max;if(G&8){var dc=c.x+Pb*(ia.y-c.y)/m;var vc=ia.y}else G&4?(dc=c.x+Pb*(Tb.y-c.y)/m,vc=Tb.y):G&2?(dc=ia.x,vc=c.y+m*(ia.x-c.x)/Pb):G&1&&(dc=Tb.x,vc=c.y+m*(Tb.x-c.x)/Pb);return new Ca(dc,vc,Ga)}function vd(c,m){var G=0;c.x<m.min.x?G|=1:c.x>m.max.x&&(G|=2);c.y<m.min.y?G|=4:c.y>m.max.y&&(G|=8);return G}function de(c,m,G,ia){var Ga=m.x;m=m.y;var Pb=G.x-Ga,Tb=G.y-m,dc=Pb*Pb+Tb*Tb;0<dc&&(dc=((c.x-Ga)*Pb+(c.y-
m)*Tb)/dc,1<dc?(Ga=G.x,m=G.y):0<dc&&(Ga+=Pb*dc,m+=Tb*dc));Pb=c.x-Ga;Tb=c.y-m;return ia?Pb*Pb+Tb*Tb:new Ca(Ga,m)}function oe(c){return!Cc(c[0])||"object"!==typeof c[0][0]&&"undefined"!==typeof c[0][0]}function Z(c){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return oe(c)}function za(c,m,G){var ia=[1,4,2,8],Ga,Pb,Tb;var dc=0;for(Tb=c.length;dc<Tb;dc++)c[dc]._code=vd(c[dc],m);for(Pb=0;4>Pb;Pb++){var vc=ia[Pb];var hd=[];dc=0;Tb=c.length;for(Ga=Tb-1;dc<Tb;Ga=dc++){var nd=
c[dc];Ga=c[Ga];nd._code&vc?Ga._code&vc||(Ga=rd(Ga,nd,vc,m,G),Ga._code=vd(Ga,m),hd.push(Ga)):(Ga._code&vc&&(Ga=rd(Ga,nd,vc,m,G),Ga._code=vd(Ga,m),hd.push(Ga)),hd.push(nd))}c=hd}return c}function gb(c,m){var G="Feature"===c.type?c.geometry:c,ia=G?G.coordinates:null,Ga=[],Pb=m&&m.pointToLayer,Tb=m&&m.coordsToLatLng||Zb,dc;if(!ia&&!G)return null;switch(G.type){case "Point":return G=Tb(ia),Db(Pb,c,G,m);case "MultiPoint":var vc=0;for(dc=ia.length;vc<dc;vc++)G=Tb(ia[vc]),Ga.push(Db(Pb,c,G,m));return new ef(Ga);
case "LineString":case "MultiLineString":return c=Gb(ia,"LineString"===G.type?0:1,Tb),new ab(c,m);case "Polygon":case "MultiPolygon":return c=Gb(ia,"Polygon"===G.type?1:2,Tb),new tb(c,m);case "GeometryCollection":vc=0;for(dc=G.geometries.length;vc<dc;vc++)(ia=gb({geometry:G.geometries[vc],type:"Feature",properties:c.properties},m))&&Ga.push(ia);return new ef(Ga);default:throw Error("Invalid GeoJSON object.");}}function Db(c,m,G,ia){return c?c(m,G):new aa(G,ia&&ia.markersInheritOptions&&ia)}function Zb(c){return new Ya(c[1],
c[0],c[2])}function Gb(c,m,G){for(var ia=[],Ga=0,Pb=c.length,Tb;Ga<Pb;Ga++)Tb=m?Gb(c[Ga],m-1,G):(G||Zb)(c[Ga]),ia.push(Tb);return ia}function sc(c,m){m="number"===typeof m?m:6;return void 0!==c.alt?[Ob(c.lng,m),Ob(c.lat,m),Ob(c.alt,m)]:[Ob(c.lng,m),Ob(c.lat,m)]}function kc(c,m,G,ia){for(var Ga=[],Pb=0,Tb=c.length;Pb<Tb;Pb++)Ga.push(m?kc(c[Pb],m-1,G,ia):sc(c[Pb],ia));!m&&G&&Ga.push(Ga[0]);return Ga}function Oa(c,m){return c.feature?x({},c.feature,{geometry:m}):sb(m)}function sb(c){return"Feature"===
c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},geometry:c}}function Lb(c,m){return new pb(c,m)}function hc(c,m){return new Ib(c,m)}function tc(c){return N?new zc(c):null}function Bc(c){return V||wa?new Md(c):null}var Mc=Object.create||function(){function c(){}return function(m){c.prototype=m;return new c}}(),Hb=0,yc=/\{ *([\w_-]+) *\}/g,Cc=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},xc=0,Jc=window.requestAnimationFrame||Ia("RequestAnimationFrame")||
Za,Yc=window.cancelAnimationFrame||Ia("CancelAnimationFrame")||Ia("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)},Uc={extend:x,create:Mc,bind:ea,lastId:Hb,stamp:Sa,throttle:Wb,wrapNum:fb,falseFn:ub,formatNum:Ob,trim:zb,splitWords:cb,setOptions:ob,getParamString:rb,template:Xa,isArray:Cc,indexOf:Ha,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",requestFn:Jc,cancelFn:Yc,requestAnimFrame:mb,cancelAnimFrame:Da};Fa.extend=function(c){var m=function(){this.initialize&&
this.initialize.apply(this,arguments);this.callInitHooks()},G=m.__super__=this.prototype,ia=Mc(G);ia.constructor=m;m.prototype=ia;for(var Ga in this)Object.prototype.hasOwnProperty.call(this,Ga)&&"prototype"!==Ga&&"__super__"!==Ga&&(m[Ga]=this[Ga]);c.statics&&(x(m,c.statics),delete c.statics);c.includes&&(hb(c.includes),x.apply(null,[ia].concat(c.includes)),delete c.includes);ia.options&&(c.options=x(Mc(ia.options),c.options));x(ia,c);ia._initHooks=[];ia.callInitHooks=function(){if(!this._initHooksCalled){G.callInitHooks&&
G.callInitHooks.call(this);this._initHooksCalled=!0;for(var Pb=0,Tb=ia._initHooks.length;Pb<Tb;Pb++)ia._initHooks[Pb].call(this)}};return m};Fa.include=function(c){x(this.prototype,c);return this};Fa.mergeOptions=function(c){x(this.prototype.options,c);return this};Fa.addInitHook=function(c){var m=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof c?c:function(){this[c].apply(this,m)});return this};var od=
{on:function(c,m,G){if("object"===typeof c)for(var ia in c)this._on(ia,c[ia],m);else{c=cb(c);ia=0;for(var Ga=c.length;ia<Ga;ia++)this._on(c[ia],m,G)}return this},off:function(c,m,G){if(c)if("object"===typeof c)for(var ia in c)this._off(ia,c[ia],m);else{c=cb(c);ia=0;for(var Ga=c.length;ia<Ga;ia++)this._off(c[ia],m,G)}else delete this._events;return this},_on:function(c,m,G){this._events=this._events||{};var ia=this._events[c];ia||(ia=[],this._events[c]=ia);G===this&&(G=void 0);c={fn:m,ctx:G};for(var Ga=
0,Pb=ia.length;Ga<Pb;Ga++)if(ia[Ga].fn===m&&ia[Ga].ctx===G)return;ia.push(c)},_off:function(c,m,G){var ia,Ga;if(this._events&&(ia=this._events[c]))if(m){if(G===this&&(G=void 0),ia){var Pb=0;for(Ga=ia.length;Pb<Ga;Pb++){var Tb=ia[Pb];if(Tb.ctx===G&&Tb.fn===m){Tb.fn=ub;this._firingCount&&(this._events[c]=ia=ia.slice());ia.splice(Pb,1);break}}}}else{Pb=0;for(Ga=ia.length;Pb<Ga;Pb++)ia[Pb].fn=ub;delete this._events[c]}},fire:function(c,m,G){if(!this.listens(c,G))return this;m=x({},m,{type:c,target:this,
sourceTarget:m&&m.sourceTarget||this});if(this._events&&(c=this._events[c])){this._firingCount=this._firingCount+1||1;for(var ia=0,Ga=c.length;ia<Ga;ia++){var Pb=c[ia];Pb.fn.call(Pb.ctx||this,m)}this._firingCount--}G&&this._propagateEvent(m);return this},listens:function(c,m){var G=this._events&&this._events[c];if(G&&G.length)return!0;if(m)for(var ia in this._eventParents)if(this._eventParents[ia].listens(c,m))return!0;return!1},once:function(c,m,G){if("object"===typeof c){for(var ia in c)this.once(ia,
c[ia],m);return this}var Ga=ea(function(){this.off(c,m,G).off(c,Ga,G)},this);return this.on(c,m,G).on(c,Ga,G)},addEventParent:function(c){this._eventParents=this._eventParents||{};this._eventParents[Sa(c)]=c;return this},removeEventParent:function(c){this._eventParents&&delete this._eventParents[Sa(c)];return this},_propagateEvent:function(c){for(var m in this._eventParents)this._eventParents[m].fire(c.type,x({layer:c.target,propagatedFrom:c.target},c),!0)}};od.addEventListener=od.on;od.removeEventListener=
od.clearAllEventListeners=od.off;od.addOneTimeEventListener=od.once;od.fireEvent=od.fire;od.hasEventListeners=od.listens;var qd=Fa.extend(od),Id=Math.trunc||function(c){return 0<c?Math.floor(c):Math.ceil(c)};Ca.prototype={clone:function(){return new Ca(this.x,this.y)},add:function(c){return this.clone()._add(bb(c))},_add:function(c){this.x+=c.x;this.y+=c.y;return this},subtract:function(c){return this.clone()._subtract(bb(c))},_subtract:function(c){this.x-=c.x;this.y-=c.y;return this},divideBy:function(c){return this.clone()._divideBy(c)},
_divideBy:function(c){this.x/=c;this.y/=c;return this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){this.x*=c;this.y*=c;return this},scaleBy:function(c){return new Ca(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new Ca(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=Id(this.x);this.y=Id(this.y);return this},distanceTo:function(c){c=bb(c);var m=c.x-this.x;c=c.y-this.y;return Math.sqrt(m*m+c*c)},equals:function(c){c=bb(c);return c.x===this.x&&c.y===this.y},contains:function(c){c=bb(c);return Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=
Math.abs(this.y)},toString:function(){return"Point("+Ob(this.x)+", "+Ob(this.y)+")"}};La.prototype={extend:function(c){c=bb(c);this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)):(this.min=c.clone(),this.max=c.clone());return this},getCenter:function(c){return new Ca((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return new Ca(this.min.x,this.max.y)},getTopRight:function(){return new Ca(this.max.x,
this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){c="number"===typeof c[0]||c instanceof Ca?bb(c):ka(c);if(c instanceof La){var m=c.min;c=c.max}else m=c;return m.x>=this.min.x&&c.x<=this.max.x&&m.y>=this.min.y&&c.y<=this.max.y},intersects:function(c){c=ka(c);var m=this.min,G=this.max,ia=c.min;c=c.max;var Ga=c.y>=m.y&&ia.y<=G.y;return c.x>=m.x&&ia.x<=G.x&&Ga},overlaps:function(c){c=
ka(c);var m=this.min,G=this.max,ia=c.min;c=c.max;var Ga=c.y>m.y&&ia.y<G.y;return c.x>m.x&&ia.x<G.x&&Ga},isValid:function(){return!(!this.min||!this.max)}};Aa.prototype={extend:function(c){var m=this._southWest,G=this._northEast;if(c instanceof Ya)var ia=c;else if(c instanceof Aa){if(ia=c._southWest,c=c._northEast,!ia||!c)return this}else return c?this.extend(ib(c)||Ra(c)):this;m||G?(m.lat=Math.min(ia.lat,m.lat),m.lng=Math.min(ia.lng,m.lng),G.lat=Math.max(c.lat,G.lat),G.lng=Math.max(c.lng,G.lng)):
(this._southWest=new Ya(ia.lat,ia.lng),this._northEast=new Ya(c.lat,c.lng));return this},pad:function(c){var m=this._southWest,G=this._northEast,ia=Math.abs(m.lat-G.lat)*c;c*=Math.abs(m.lng-G.lng);return new Aa(new Ya(m.lat-ia,m.lng-c),new Ya(G.lat+ia,G.lng+c))},getCenter:function(){return new Ya((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Ya(this.getNorth(),
this.getWest())},getSouthEast:function(){return new Ya(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"===typeof c[0]||c instanceof Ya||"lat"in c?ib(c):Ra(c);var m=this._southWest,G=this._northEast;if(c instanceof Aa){var ia=c.getSouthWest();c=c.getNorthEast()}else ia=c;return ia.lat>=m.lat&&c.lat<=
G.lat&&ia.lng>=m.lng&&c.lng<=G.lng},intersects:function(c){c=Ra(c);var m=this._southWest,G=this._northEast,ia=c.getSouthWest();c=c.getNorthEast();var Ga=c.lng>=m.lng&&ia.lng<=G.lng;return c.lat>=m.lat&&ia.lat<=G.lat&&Ga},overlaps:function(c){c=Ra(c);var m=this._southWest,G=this._northEast,ia=c.getSouthWest();c=c.getNorthEast();var Ga=c.lng>m.lng&&ia.lng<G.lng;return c.lat>m.lat&&ia.lat<G.lat&&Ga},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join()},
equals:function(c,m){if(!c)return!1;c=Ra(c);return this._southWest.equals(c.getSouthWest(),m)&&this._northEast.equals(c.getNorthEast(),m)},isValid:function(){return!(!this._southWest||!this._northEast)}};Ya.prototype={equals:function(c,m){if(!c)return!1;c=ib(c);return Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===m?1E-9:m)},toString:function(c){return"LatLng("+Ob(this.lat,c)+", "+Ob(this.lng,c)+")"},distanceTo:function(c){return Wd.distance(this,ib(c))},wrap:function(){return Wd.wrapLatLng(this)},
toBounds:function(c){c=180*c/40075017;var m=c/Math.cos(Math.PI/180*this.lat);return Ra([this.lat-c,this.lng-m],[this.lat+c,this.lng+m])},clone:function(){return new Ya(this.lat,this.lng,this.alt)}};var Ed={latLngToPoint:function(c,m){c=this.projection.project(c);m=this.scale(m);return this.transformation._transform(c,m)},pointToLatLng:function(c,m){m=this.scale(m);c=this.transformation.untransform(c,m);return this.projection.unproject(c)},project:function(c){return this.projection.project(c)},unproject:function(c){return this.projection.unproject(c)},
scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var m=this.projection.bounds,G=this.scale(c);c=this.transformation.transform(m.min,G);m=this.transformation.transform(m.max,G);return new La(c,m)},infinite:!1,wrapLatLng:function(c){var m=this.wrapLng?fb(c.lng,this.wrapLng,!0):c.lng,G=this.wrapLat?fb(c.lat,this.wrapLat,!0):c.lat;return new Ya(G,m,c.alt)},wrapLatLngBounds:function(c){var m=c.getCenter(),
G=this.wrapLatLng(m),ia=m.lat-G.lat;m=m.lng-G.lng;if(0===ia&&0===m)return c;G=c.getSouthWest();c=c.getNorthEast();G=new Ya(G.lat-ia,G.lng-m);ia=new Ya(c.lat-ia,c.lng-m);return new Aa(G,ia)}},Wd=x({},Ed,{wrapLng:[-180,180],R:6371E3,distance:function(c,m){var G=Math.PI/180,ia=Math.sin((m.lat-c.lat)*G/2),Ga=Math.sin((m.lng-c.lng)*G/2);c=ia*ia+Math.cos(c.lat*G)*Math.cos(m.lat*G)*Ga*Ga;return 2*this.R*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}),me={R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var m=
Math.PI/180,G=this.MAX_LATITUDE;G=Math.sin(Math.max(Math.min(G,c.lat),-G)*m);return new Ca(this.R*c.lng*m,this.R*Math.log((1+G)/(1-G))/2)},unproject:function(c){var m=180/Math.PI;return new Ya((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*m,c.x*m/this.R)},bounds:function(){var c=6378137*Math.PI;return new La([-c,-c],[c,c])}()};db.prototype={transform:function(c,m){return this._transform(c.clone(),m)},_transform:function(c,m){m=m||1;c.x=m*(this._a*c.x+this._b);c.y=m*(this._c*c.y+this._d);return c},
untransform:function(c,m){m=m||1;return new Ca((c.x/m-this._b)/this._a,(c.y/m-this._d)/this._c)}};var ye=x({},Wd,{code:"EPSG:3857",projection:me,transformation:function(){var c=.5/(Math.PI*me.R);return nb(c,.5,-c,.5)}()}),Ye=x({},ye,{code:"EPSG:900913"}),Qe=document.documentElement.style,Re="ActiveXObject"in window,Fd=Re&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),ff=z("webkit"),Oe=z("android"),Bf=z("android 2")||z("android 3"),Yd=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],
10),Ae=Oe&&z("Google")&&537>Yd&&!("AudioNode"in window),cf=!!window.opera,re=!ee&&z("chrome"),Ad=z("gecko")&&!ff&&!cf&&!Re,Ld=!re&&z("safari"),ae=z("phantom"),Jf="OTransition"in Qe,De=0===navigator.platform.indexOf("Win"),Jd=Re&&"transition"in Qe,Se="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bf,Ee="MozPerspective"in Qe,Ac=!window.L_DISABLE_3D&&(Jd||Se||Ee)&&!Jf&&!ae,Be="undefined"!==typeof orientation||z("mobile"),Xd=Be&&ff,cc=Be&&Se,Je=!window.PointerEvent&&window.MSPointerEvent,
pe=!(!window.PointerEvent&&!Je),Ke=!window.L_NO_TOUCH&&(pe||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Cf=Be&&cf,kf=Be&&Ad,tf=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Pe=function(){var c=!1;try{var m=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",ub,m);window.removeEventListener("testPassiveEventSupport",ub,m)}catch(G){}return c}(),N=!!document.createElement("canvas").getContext,
V=!(!document.createElementNS||!$a("svg").createSVGRect),wa=!V&&function(){try{var c=document.createElement("div");c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var m=c.firstChild;m.style.behavior="url(#default#VML)";return m&&"object"===typeof m.adj}catch(G){return!1}}(),Ka={ie:Re,ielt9:Fd,edge:ee,webkit:ff,android:Oe,android23:Bf,androidStock:Ae,opera:cf,chrome:re,gecko:Ad,safari:Ld,phantom:ae,opera12:Jf,win:De,ie3d:Jd,webkit3d:Se,gecko3d:Ee,any3d:Ac,mobile:Be,mobileWebkit:Xd,mobileWebkit3d:cc,msPointer:Je,
pointer:pe,touch:Ke,mobileOpera:Cf,mobileGecko:kf,retina:tf,passiveEvents:Pe,canvas:N,svg:V,vml:wa},Wa=Je?"MSPointerDown":"pointerdown",Vb=Je?"MSPointerMove":"pointermove",mc=Je?"MSPointerUp":"pointerup",Gc=Je?"MSPointerCancel":"pointercancel",uc={},Fc=!1,id=Je?"MSPointerDown":pe?"pointerdown":"touchstart",fd=Je?"MSPointerUp":pe?"pointerup":"touchend",se=Va(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),xd=Va(["webkitTransition","transition","OTransition","MozTransition",
"msTransition"]),zd="webkitTransition"===xd||"OTransition"===xd?xd+"End":"transitionend",le;if("onselectstart"in document){var Te=function(){Dc(window,"selectstart",Xc)};var Me=function(){Sc(window,"selectstart",Xc)}}else{var uf=Va(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Te=function(){if(uf){var c=document.documentElement.style;le=c[uf];c[uf]="none"}};Me=function(){uf&&(document.documentElement.style[uf]=le,le=void 0)}}var Zf,pd,Ue={TRANSFORM:se,TRANSITION:xd,
TRANSITION_END:zd,get:la,getStyle:T,create:v,remove:w,empty:p,toFront:r,toBack:D,hasClass:E,addClass:H,removeClass:C,setClass:ha,getClass:xa,setOpacity:oa,testProp:Va,setTransform:Ja,setPosition:ba,getPosition:ta,disableTextSelection:Te,enableTextSelection:Me,disableImageDrag:eb,enableImageDrag:xb,preventOutline:Kb,restoreOutline:fc,getSizedParentNode:Ec,getScale:gd},Le="_leaflet_events",Ze={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"},$f=De&&re?2*window.devicePixelRatio:
Ad?window.devicePixelRatio:1,vf={},ag={on:Dc,off:Sc,stopPropagation:wc,disableScrollPropagation:Pc,disableClickPropagation:rc,preventDefault:Xc,stop:$c,getMousePosition:Nc,getWheelDelta:Dd,fakeStop:we,skipped:ld,isExternalTarget:sd,addListener:Dc,removeListener:Sc},df=qd.extend({run:function(c,m,G,ia){this.stop();this._el=c;this._inProgress=!0;this._duration=G||.25;this._easeOutPower=1/Math.max(ia||.5,.2);this._startPos=ta(c);this._offset=m.subtract(this._startPos);this._startTime=+new Date;this.fire("start");
this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=mb(this._animate,this);this._step()},_step:function(c){var m=+new Date-this._startTime,G=1E3*this._duration;m<G?this._runFrame(this._easeOut(m/G),c):(this._runFrame(1),this._complete())},_runFrame:function(c,m){c=this._startPos.add(this._offset.multiplyBy(c));m&&c._round();ba(this._el,c);this.fire("step")},_complete:function(){Da(this._animId);this._inProgress=!1;this.fire("end")},
_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),M=qd.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,m){m=ob(this,m);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(c);this._initLayout();this._onResize=
ea(this._onResize,this);this._initEvents();m.maxBounds&&this.setMaxBounds(m.maxBounds);void 0!==m.zoom&&(this._zoom=this._limitZoom(m.zoom));m.center&&void 0!==m.zoom&&this.setView(ib(m.center),m.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=xd&&Ac&&!Cf&&this.options.zoomAnimation)this._createAnimProxy(),Dc(this._proxy,zd,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},setView:function(c,m,G){m=void 0===m?this._zoom:this._limitZoom(m);c=this._limitCenter(ib(c),m,
this.options.maxBounds);G=G||{};this._stop();if(this._loaded&&!G.reset&&!0!==G&&(void 0!==G.animate&&(G.zoom=x({animate:G.animate},G.zoom),G.pan=x({animate:G.animate,duration:G.duration},G.pan)),this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,m,G.zoom):this._tryAnimatedPan(c,G.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(c,m);return this},setZoom:function(c,m){return this._loaded?this.setView(this.getCenter(),c,{zoom:m}):(this._zoom=c,this)},zoomIn:function(c,m){c=
c||(Ac?this.options.zoomDelta:1);return this.setZoom(this._zoom+c,m)},zoomOut:function(c,m){c=c||(Ac?this.options.zoomDelta:1);return this.setZoom(this._zoom-c,m)},setZoomAround:function(c,m,G){var ia=this.getZoomScale(m),Ga=this.getSize().divideBy(2);c=(c instanceof Ca?c:this.latLngToContainerPoint(c)).subtract(Ga).multiplyBy(1-1/ia);Ga=this.containerPointToLatLng(Ga.add(c));return this.setView(Ga,m,{zoom:G})},_getBoundsCenterZoom:function(c,m){m=m||{};c=c.getBounds?c.getBounds():Ra(c);var G=bb(m.paddingTopLeft||
m.padding||[0,0]),ia=bb(m.paddingBottomRight||m.padding||[0,0]),Ga=this.getBoundsZoom(c,!1,G.add(ia));Ga="number"===typeof m.maxZoom?Math.min(m.maxZoom,Ga):Ga;if(Infinity===Ga)return{center:c.getCenter(),zoom:Ga};m=ia.subtract(G).divideBy(2);G=this.project(c.getSouthWest(),Ga);c=this.project(c.getNorthEast(),Ga);return{center:this.unproject(G.add(c).divideBy(2).add(m),Ga),zoom:Ga}},fitBounds:function(c,m){c=Ra(c);if(!c.isValid())throw Error("Bounds are not valid.");c=this._getBoundsCenterZoom(c,m);
return this.setView(c.center,c.zoom,m)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,m){return this.setView(c,this._zoom,{pan:m})},panBy:function(c,m){c=bb(c).round();m=m||{};if(!c.x&&!c.y)return this.fire("moveend");if(!0!==m.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;this._panAnim||(this._panAnim=new df,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},
this));m.noMoveStart||this.fire("movestart");!1!==m.animate?(H(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(c).round(),this._panAnim.run(this._mapPane,c,m.duration||.25,m.easeLinearity)):(this._rawPanBy(c),this.fire("move").fire("moveend"));return this},flyTo:function(c,m,G){function ia(ke){ke=(Vd*Vd-$d*$d+2.0164*(ke?-1:1)*2.0164*Hd*Hd)/(4.0328*(ke?Vd:$d)*Hd);ke=Math.sqrt(ke*ke+1)-ke;return 1E-9>ke?-18:Math.log(ke)}function Ga(ke){return(Math.exp(ke)+Math.exp(-ke))/2}function Pb(ke){return $d*
(Ga(md)/Ga(md+1.42*ke))}function Tb(ke){var Xe=Ga(md);ke=md+1.42*ke;ke=(Math.exp(ke)-Math.exp(-ke))/2/Ga(ke);return $d*(Xe*ke-(Math.exp(md)-Math.exp(-md))/2)/2.0164}function dc(){var ke=(Date.now()-ce)/qf,Xe=(1-Math.pow(1-ke,1.5))*bf;1>=ke?(this._flyToFrame=mb(dc,this),this._move(this.unproject(vc.add(hd.subtract(vc).multiplyBy(Tb(Xe)/Hd)),ie),this.getScaleZoom($d/Pb(Xe),ie),{flyTo:!0})):this._move(c,m)._moveEnd(!0)}G=G||{};if(!1===G.animate||!Ac)return this.setView(c,m,G);this._stop();var vc=this.project(this.getCenter()),
hd=this.project(c),nd=this.getSize(),ie=this._zoom;c=ib(c);m=void 0===m?ie:m;var $d=Math.max(nd.x,nd.y),Vd=$d*this.getZoomScale(ie,m),Hd=hd.distanceTo(vc)||1,md=ia(0),ce=Date.now(),bf=(ia(1)-md)/1.42,qf=G.duration?1E3*G.duration:800*bf;this._moveStart(!0,G.noMoveStart);dc.call(this);return this},flyToBounds:function(c,m){c=this._getBoundsCenterZoom(c,m);return this.flyTo(c.center,c.zoom,m)},setMaxBounds:function(c){c=Ra(c);if(c.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);
else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=c;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(c){var m=this.options.minZoom;this.options.minZoom=c;return this._loaded&&m!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):this},setMaxZoom:function(c){var m=this.options.maxZoom;this.options.maxZoom=c;return this._loaded&&m!==c&&(this.fire("zoomlevelschange"),
this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,m){this._enforcingBounds=!0;var G=this.getCenter();c=this._limitCenter(G,this._zoom,Ra(c));G.equals(c)||this.panTo(c,m);this._enforcingBounds=!1;return this},panInside:function(c,m){m=m||{};var G=bb(m.paddingTopLeft||m.padding||[0,0]),ia=bb(m.paddingBottomRight||m.padding||[0,0]),Ga=this.getCenter();Ga=this.project(Ga);c=this.project(c);var Pb=this.getPixelBounds(),Tb=Pb.getSize().divideBy(2);Pb=ka([Pb.min.add(G),
Pb.max.subtract(ia)]);if(!Pb.contains(c)){this._enforcingBounds=!0;var dc=Ga.subtract(c),vc=bb(c.x+dc.x,c.y+dc.y);if(c.x<Pb.min.x||c.x>Pb.max.x)vc.x=Ga.x-dc.x,vc.x=0<dc.x?vc.x+(Tb.x-G.x):vc.x-(Tb.x-ia.x);if(c.y<Pb.min.y||c.y>Pb.max.y)vc.y=Ga.y-dc.y,vc.y=0<dc.y?vc.y+(Tb.y-G.y):vc.y-(Tb.y-ia.y);this.panTo(this.unproject(vc),m);this._enforcingBounds=!1}return this},invalidateSize:function(c){if(!this._loaded)return this;c=x({animate:!1,pan:!0},!0===c?{animate:!0}:c);var m=this.getSize();this._sizeChanged=
!0;this._lastCenter=null;var G=this.getSize(),ia=m.divideBy(2).round(),Ga=G.divideBy(2).round();ia=ia.subtract(Ga);if(!ia.x&&!ia.y)return this;c.animate&&c.pan?this.panBy(ia):(c.pan&&this._rawPanBy(ia),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(ea(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",{oldSize:m,newSize:G})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");
return this._stop()},locate:function(c){c=this._locateOptions=x({timeout:1E4,watch:!1},c);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var m=ea(this._handleGeolocationResponse,this),G=ea(this._handleGeolocationError,this);c.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,G,c):navigator.geolocation.getCurrentPosition(m,G,c);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&
navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(c){var m=c.code;c=c.message||(1===m?"permission denied":2===m?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:m,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(c){var m=new Ya(c.coords.latitude,c.coords.longitude),G=m.toBounds(2*c.coords.accuracy),
ia=this._locateOptions;if(ia.setView){var Ga=this.getBoundsZoom(G);this.setView(m,ia.maxZoom?Math.min(Ga,ia.maxZoom):Ga)}m={latlng:m,bounds:G,timestamp:c.timestamp};for(var Pb in c.coords)"number"===typeof c.coords[Pb]&&(m[Pb]=c.coords[Pb]);this.fire("locationfound",m)},addHandler:function(c,m){if(!m)return this;m=this[c]=new m(this);this._handlers.push(m);this.options[c]&&m.enable();return this},remove:function(){this._initEvents(!0);this.off("moveend",this._panInsideMaxBounds);if(this._containerId!==
this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(m){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();w(this._mapPane);this._clearControlPos&&this._clearControlPos();this._resizeRequest&&(Da(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var c in this._layers)this._layers[c].remove();
for(c in this._panes)w(this._panes[c]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(c,m){var G="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":"");m=v("div",G,m||this._mapPane);c&&(this._panes[c]=m);return m},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=
this.getPixelBounds(),m=this.unproject(c.getBottomLeft());c=this.unproject(c.getTopRight());return new Aa(m,c)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,m,G){c=Ra(c);G=bb(G||[0,0]);var ia=this.getZoom()||0,Ga=this.getMinZoom(),Pb=this.getMaxZoom(),Tb=c.getNorthWest();c=c.getSouthEast();
G=this.getSize().subtract(G);var dc=ka(this.project(c,ia),this.project(Tb,ia)).getSize();Tb=Ac?this.options.zoomSnap:1;c=G.x/dc.x;G=G.y/dc.y;ia=this.getScaleZoom(m?Math.max(c,G):Math.min(c,G),ia);Tb&&(ia=Tb/100*Math.round(ia/(Tb/100)),ia=m?Math.ceil(ia/Tb)*Tb:Math.floor(ia/Tb)*Tb);return Math.max(Ga,Math.min(Pb,ia))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new Ca(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},
getPixelBounds:function(c,m){c=this._getTopLeftPoint(c,m);return new La(c,c.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"===typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,m){var G=this.options.crs;m=void 0===m?this._zoom:
m;return G.scale(c)/G.scale(m)},getScaleZoom:function(c,m){var G=this.options.crs;m=void 0===m?this._zoom:m;c=G.zoom(c*G.scale(m));return isNaN(c)?Infinity:c},project:function(c,m){m=void 0===m?this._zoom:m;return this.options.crs.latLngToPoint(ib(c),m)},unproject:function(c,m){m=void 0===m?this._zoom:m;return this.options.crs.pointToLatLng(bb(c),m)},layerPointToLatLng:function(c){c=bb(c).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(c){return this.project(ib(c))._round()._subtract(this.getPixelOrigin())},
wrapLatLng:function(c){return this.options.crs.wrapLatLng(ib(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(Ra(c))},distance:function(c,m){return this.options.crs.distance(ib(c),ib(m))},containerPointToLayerPoint:function(c){return bb(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return bb(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){c=this.containerPointToLayerPoint(bb(c));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ib(c)))},
mouseEventToContainerPoint:function(c){return Nc(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){c=this._container=la(c);if(!c)throw Error("Map container not found.");if(c._leaflet_id)throw Error("Map container is already initialized.");Dc(c,"scroll",this._onScroll,this);this._containerId=Sa(c)},
_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ac;H(c,"leaflet-container"+(Ke?" leaflet-touch":"")+(tf?" leaflet-retina":"")+(Fd?" leaflet-oldie":"")+(Ld?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var m=T(c,"position");"absolute"!==m&&"relative"!==m&&"fixed"!==m&&(c.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={};this._mapPane=
this.createPane("mapPane",this._container);ba(this._mapPane,new Ca(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(H(c.markerPane,"leaflet-zoom-hide"),H(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,m){ba(this._mapPane,new Ca(0,0));var G=!this._loaded;this._loaded=!0;m=this._limitZoom(m);this.fire("viewprereset");var ia=
this._zoom!==m;this._moveStart(ia,!1)._move(c,m)._moveEnd(ia);this.fire("viewreset");G&&this.fire("load")},_moveStart:function(c,m){c&&this.fire("zoomstart");m||this.fire("movestart");return this},_move:function(c,m,G){void 0===m&&(m=this._zoom);var ia=this._zoom!==m;this._zoom=m;this._lastCenter=c;this._pixelOrigin=this._getNewPixelOrigin(c);(ia||G&&G.pinch)&&this.fire("zoom",G);return this.fire("move",G)},_moveEnd:function(c){c&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){Da(this._flyToFrame);
this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(c){ba(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(c){this._targets={};this._targets[Sa(this._container)]=this;var m=c?Sc:Dc;m(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",
this._handleDOMEvent,this);this.options.trackResize&&m(window,"resize",this._onResize,this);Ac&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Da(this._resizeRequest);this._resizeRequest=mb(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&
this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,m){for(var G=[],ia,Ga="mouseout"===m||"mouseover"===m,Pb=c.target||c.srcElement,Tb=!1;Pb;){if((ia=this._targets[Sa(Pb)])&&("click"===m||"preclick"===m)&&!c._simulated&&this._draggableMoved(ia)){Tb=!0;break}if(ia&&ia.listens(m,!0)){if(Ga&&!sd(Pb,c))break;G.push(ia);if(Ga)break}if(Pb===this._container)break;Pb=Pb.parentNode}G.length||Tb||Ga||!sd(Pb,c)||(G=[this]);return G},_handleDOMEvent:function(c){if(this._loaded&&!ld(c)){var m=
c.type;"mousedown"!==m&&"keypress"!==m&&"keyup"!==m&&"keydown"!==m||Kb(c.target||c.srcElement);this._fireDOMEvent(c,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,m,G){if("click"===c.type){var ia=x({},c);ia.type="preclick";this._fireDOMEvent(ia,ia.type,G)}if(!c._stopped&&(G=(G||[]).concat(this._findEventTargets(c,m)),G.length)){var Ga=G[0];"contextmenu"===m&&Ga.listens(m,!0)&&Xc(c);ia={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&
"keyup"!==c.type){var Pb=Ga.getLatLng&&(!Ga._radius||10>=Ga._radius);ia.containerPoint=Pb?this.latLngToContainerPoint(Ga.getLatLng()):this.mouseEventToContainerPoint(c);ia.layerPoint=this.containerPointToLayerPoint(ia.containerPoint);ia.latlng=Pb?Ga.getLatLng():this.layerPointToLatLng(ia.layerPoint)}for(c=0;c<G.length&&!(G[c].fire(m,ia,!0),ia.originalEvent._stopped||!1===G[c].options.bubblingMouseEvents&&-1!==Ha(this._mouseEvents,m));c++);}},_draggableMoved:function(c){c=c.dragging&&c.dragging.enabled()?
c:this;return c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,m=this._handlers.length;c<m;c++)this._handlers[c].disable()},whenReady:function(c,m){if(this._loaded)c.call(m||this,{target:this});else this.on("load",c,m);return this},_getMapPanePos:function(){return ta(this._mapPane)||new Ca(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,m){return(c&&void 0!==m?this._getNewPixelOrigin(c,
m):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,m){var G=this.getSize()._divideBy(2);return this.project(c,m)._subtract(G)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,m,G){G=this._getNewPixelOrigin(G,m);return this.project(c,m)._subtract(G)},_latLngBoundsToNewLayerBounds:function(c,m,G){G=this._getNewPixelOrigin(G,m);return ka([this.project(c.getSouthWest(),m)._subtract(G),this.project(c.getNorthWest(),m)._subtract(G),this.project(c.getSouthEast(),
m)._subtract(G),this.project(c.getNorthEast(),m)._subtract(G)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,m,G){if(!G)return c;var ia=this.project(c,m),Ga=this.getSize().divideBy(2);Ga=new La(ia.subtract(Ga),ia.add(Ga));G=this._getBoundsOffset(Ga,G,m);return G.round().equals([0,0])?c:this.unproject(ia.add(G),m)},_limitOffset:function(c,
m){if(!m)return c;var G=this.getPixelBounds();G=new La(G.min.add(c),G.max.add(c));return c.add(this._getBoundsOffset(G,m))},_getBoundsOffset:function(c,m,G){G=ka(this.project(m.getNorthEast(),G),this.project(m.getSouthWest(),G));m=G.min.subtract(c.min);G=G.max.subtract(c.max);c=this._rebound(m.x,-G.x);m=this._rebound(m.y,-G.y);return new Ca(c,m)},_rebound:function(c,m){return 0<c+m?Math.round(c-m)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(m))},_limitZoom:function(c){var m=this.getMinZoom(),
G=this.getMaxZoom(),ia=Ac?this.options.zoomSnap:1;ia&&(c=Math.round(c/ia)*ia);return Math.max(m,Math.min(G,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){C(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(c,m){c=this._getCenterOffset(c)._trunc();if(!0!==(m&&m.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,m);return!0},_createAnimProxy:function(){var c=this._proxy=v("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c);
this.on("zoomanim",function(m){var G=se,ia=this._proxy.style[G];Ja(this._proxy,this.project(m.center,m.zoom),this.getZoomScale(m.zoom,1));ia===this._proxy.style[G]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){w(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),m=this.getZoom();Ja(this._proxy,
this.project(c,m),this.getZoomScale(m,1))},_catchTransitionEnd:function(c){this._animatingZoom&&0<=c.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,m,G){if(this._animatingZoom)return!0;G=G||{};if(!this._zoomAnimated||!1===G.animate||this._nothingToAnimate()||Math.abs(m-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ia=this.getZoomScale(m);
ia=this._getCenterOffset(c)._divideBy(1-1/ia);if(!0!==G.animate&&!this.getSize().contains(ia))return!1;mb(function(){this._moveStart(!0,!1)._animateZoom(c,m,!0)},this);return!0},_animateZoom:function(c,m,G,ia){this._mapPane&&(G&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=m,H(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:m,noUpdate:ia}),setTimeout(ea(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&
C(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),mb(function(){this._moveEnd(!0)},this))}}),fa=Fa.extend({options:{position:"topright"},initialize:function(c){ob(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var m=this._map;m&&m.removeControl(this);this.options.position=c;m&&m.addControl(this);return this},getContainer:function(){return this._container},addTo:function(c){this.remove();this._map=
c;var m=this._container=this.onAdd(c),G=this.getPosition();c=c._controlCorners[G];H(m,"leaflet-control");-1!==G.indexOf("bottom")?c.insertBefore(m,c.firstChild):c.appendChild(m);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;w(this._container);if(this.onRemove)this.onRemove(this._map);this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(c){this._map&&c&&0<c.screenX&&0<c.screenY&&this._map.getContainer().focus()}}),
kb=function(c){return new fa(c)};M.include({addControl:function(c){c.addTo(this);return this},removeControl:function(c){c.remove();return this},_initControlPos:function(){function c(ia,Ga){m[ia+Ga]=v("div","leaflet-"+ia+" leaflet-"+Ga,G)}var m=this._controlCorners={},G=this._controlContainer=v("div","leaflet-control-container",this._container);c("top","left");c("top","right");c("bottom","left");c("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)w(this._controlCorners[c]);
w(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var Qb=fa.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,m,G,ia){return G<ia?-1:ia<G?1:0}},initialize:function(c,m,G){ob(this,G);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var ia in c)this._addLayer(c[ia],ia);for(ia in m)this._addLayer(m[ia],ia,!0)},onAdd:function(c){this._initLayout();this._update();
this._map=c;c.on("zoomend",this._checkDisabledLayers,this);for(c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){fa.prototype.addTo.call(this,c);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,m){this._addLayer(c,m);return this._map?
this._update():this},addOverlay:function(c,m){this._addLayer(c,m,!0);return this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);(c=this._getLayer(Sa(c)))&&this._layers.splice(this._layers.indexOf(c),1);return this._map?this._update():this},expand:function(){H(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);c<this._section.clientHeight?(H(this._section,"leaflet-control-layers-scrollbar"),
this._section.style.height=c+"px"):C(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){C(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var c=this._container=v("div","leaflet-control-layers"),m=this.options.collapsed;c.setAttribute("aria-haspopup",!0);rc(c);Pc(c);var G=this._section=v("section","leaflet-control-layers-list");m&&(this._map.on("click",this.collapse,this),Oe||Dc(c,{mouseenter:this.expand,
mouseleave:this.collapse},this));var ia=this._layersLink=v("a","leaflet-control-layers-toggle",c);ia.href="#";ia.title="Layers";Ke?(Dc(ia,"click",$c),Dc(ia,"click",this.expand,this)):Dc(ia,"focus",this.expand,this);m||this.expand();this._baseLayersList=v("div","leaflet-control-layers-base",G);this._separator=v("div","leaflet-control-layers-separator",G);this._overlaysList=v("div","leaflet-control-layers-overlays",G);c.appendChild(G)},_getLayer:function(c){for(var m=0;m<this._layers.length;m++)if(this._layers[m]&&
Sa(this._layers[m].layer)===c)return this._layers[m]},_addLayer:function(c,m,G){if(this._map)c.on("add remove",this._onLayerChange,this);this._layers.push({layer:c,name:m,overlay:G});this.options.sortLayers&&this._layers.sort(ea(function(ia,Ga){return this.options.sortFunction(ia.layer,Ga.layer,ia.name,Ga.name)},this));this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;p(this._baseLayersList);
p(this._overlaysList);this._layerControlInputs=[];var c,m=0;for(c=0;c<this._layers.length;c++){var G=this._layers[c];this._addItem(G);var ia=ia||G.overlay;var Ga=Ga||!G.overlay;m+=G.overlay?0:1}this.options.hideSingleBase&&(Ga=Ga&&1<m,this._baseLayersList.style.display=Ga?"":"none");this._separator.style.display=ia&&Ga?"":"none";return this},_onLayerChange:function(c){this._handlingClick||this._update();var m=this._getLayer(Sa(c.target));(c=m.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===
c.type?"baselayerchange":null)&&this._map.fire(c,m)},_createRadioElement:function(c,m){c='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+c+'"'+(m?' checked\x3d"checked"':"")+"/\x3e";m=document.createElement("div");m.innerHTML=c;return m.firstChild},_addItem:function(c){var m=document.createElement("label"),G=this._map.hasLayer(c.layer);if(c.overlay){var ia=document.createElement("input");ia.type="checkbox";ia.className="leaflet-control-layers-selector";ia.defaultChecked=
G}else ia=this._createRadioElement("leaflet-base-layers_"+Sa(this),G);this._layerControlInputs.push(ia);ia.layerId=Sa(c.layer);Dc(ia,"click",this._onInputClick,this);G=document.createElement("span");G.innerHTML=" "+c.name;var Ga=document.createElement("div");m.appendChild(Ga);Ga.appendChild(ia);Ga.appendChild(G);(c.overlay?this._overlaysList:this._baseLayersList).appendChild(m);this._checkDisabledLayers();return m},_onInputClick:function(){var c=this._layerControlInputs,m=[],G=[];this._handlingClick=
!0;for(var ia=c.length-1;0<=ia;ia--){var Ga=c[ia];var Pb=this._getLayer(Ga.layerId).layer;Ga.checked?m.push(Pb):Ga.checked||G.push(Pb)}for(ia=0;ia<G.length;ia++)this._map.hasLayer(G[ia])&&this._map.removeLayer(G[ia]);for(ia=0;ia<m.length;ia++)this._map.hasLayer(m[ia])||this._map.addLayer(m[ia]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,m,G,ia=this._map.getZoom(),Ga=c.length-1;0<=Ga;Ga--)m=c[Ga],G=this._getLayer(m.layerId).layer,
m.disabled=void 0!==G.options.minZoom&&ia<G.options.minZoom||void 0!==G.options.maxZoom&&ia>G.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Mb=fa.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"\x26#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(c){var m=v("div","leaflet-control-zoom leaflet-bar"),G=this.options;
this._zoomInButton=this._createButton(G.zoomInText,G.zoomInTitle,"leaflet-control-zoom-in",m,this._zoomIn);this._zoomOutButton=this._createButton(G.zoomOutText,G.zoomOutTitle,"leaflet-control-zoom-out",m,this._zoomOut);this._updateDisabled();c.on("zoomend zoomlevelschange",this._updateDisabled,this);return m},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;
this._updateDisabled();return this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,m,G,ia,Ga){G=v("a",G,ia);G.innerHTML=c;G.href="#";G.title=m;G.setAttribute("role","button");G.setAttribute("aria-label",m);rc(G);Dc(G,"click",$c);Dc(G,"click",
Ga,this);Dc(G,"click",this._refocusOnMap,this);return G},_updateDisabled:function(){var c=this._map;C(this._zoomInButton,"leaflet-disabled");C(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMinZoom())&&H(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMaxZoom())&&H(this._zoomInButton,"leaflet-disabled")}});M.mergeOptions({zoomControl:!0});M.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Mb,this.addControl(this.zoomControl))});
var bc=fa.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var m=v("div","leaflet-control-scale"),G=this.options;this._addScales(G,"leaflet-control-scale-line",m);c.on(G.updateWhenIdle?"moveend":"move",this._update,this);c.whenReady(this._update,this);return m},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,m,G){c.metric&&(this._mScale=v("div",m,G));c.imperial&&(this._iScale=v("div",m,G))},
_update:function(){var c=this._map,m=c.getSize().y/2;c=c.distance(c.containerPointToLatLng([0,m]),c.containerPointToLatLng([this.options.maxWidth,m]));this._updateScales(c)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c);this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var m=this._getRoundNum(c);this._updateScale(this._mScale,1E3>m?m+" m":m/1E3+" km",m/c)},_updateImperial:function(c){c*=3.2808399;if(5280<c){c/=5280;var m=this._getRoundNum(c);this._updateScale(this._iScale,
m+" mi",m/c)}else m=this._getRoundNum(c),this._updateScale(this._iScale,m+" ft",m/c)},_updateScale:function(c,m,G){c.style.width=Math.round(this.options.maxWidth*G)+"px";c.innerHTML=m},_getRoundNum:function(c){var m=Math.pow(10,(Math.floor(c)+"").length-1);c/=m;return m*(10<=c?10:5<=c?5:3<=c?3:2<=c?2:1)}}),jc=fa.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"https://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(c){ob(this,c);
this._attributions={}},onAdd:function(c){c.attributionControl=this;this._container=v("div","leaflet-control-attribution");rc(this._container);for(var m in c._layers)c._layers[m].getAttribution&&this.addAttribution(c._layers[m].getAttribution());this._update();return this._container},setPrefix:function(c){this.options.prefix=c;this._update();return this},addAttribution:function(c){if(!c)return this;this._attributions[c]||(this._attributions[c]=0);this._attributions[c]++;this._update();return this},
removeAttribution:function(c){if(!c)return this;this._attributions[c]&&(this._attributions[c]--,this._update());return this},_update:function(){if(this._map){var c=[];for(m in this._attributions)this._attributions[m]&&c.push(m);var m=[];this.options.prefix&&m.push(this.options.prefix);c.length&&m.push(c.join(", "));this._container.innerHTML=m.join(" | ")}}});M.mergeOptions({attributionControl:!0});M.addInitHook(function(){this.options.attributionControl&&(new jc).addTo(this)});fa.Layers=Qb;fa.Zoom=
Mb;fa.Scale=bc;fa.Attribution=jc;kb.layers=function(c,m,G){return new Qb(c,m,G)};kb.zoom=function(c){return new Mb(c)};kb.scale=function(c){return new bc(c)};kb.attribution=function(c){return new jc(c)};var Qc=Fa.extend({initialize:function(c){this._map=c},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});Qc.addTo=
function(c,m){c.addHandler(m,this);return this};var Kc={Events:od},ad=Ke?"touchstart mousedown":"mousedown",ud={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Nd={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Td=qd.extend({options:{clickTolerance:3},initialize:function(c,m,G,ia){ob(this,ia);this._element=c;this._dragStartTarget=m||c;this._preventOutline=G},enable:function(){this._enabled||(Dc(this._dragStartTarget,
ad,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Td._dragging===this&&this.finishDrag(),Sc(this._dragStartTarget,ad,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(c){if(!c._simulated&&this._enabled&&(this._moved=!1,!(E(this._element,"leaflet-zoom-anim")||Td._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(Td._dragging=this,this._preventOutline&&Kb(this._element),eb(),Te(),this._moving)))){this.fire("down");var m=c.touches?c.touches[0]:c,
G=Ec(this._element);this._startPoint=new Ca(m.clientX,m.clientY);this._parentScale=gd(G);Dc(document,Nd[c.type],this._onMove,this);Dc(document,ud[c.type],this._onUp,this)}},_onMove:function(c){if(!c._simulated&&this._enabled)if(c.touches&&1<c.touches.length)this._moved=!0;else{var m=c.touches&&1===c.touches.length?c.touches[0]:c;m=(new Ca(m.clientX,m.clientY))._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,
Xc(c),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ta(this._element).subtract(m),H(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),H(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,Da(this._animRequest),this._lastEvent=c,this._animRequest=mb(this._updatePosition,this,
!0))}},_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c);ba(this._element,this._newPos);this.fire("drag",c)},_onUp:function(c){!c._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){C(document.body,"leaflet-dragging");this._lastTarget&&(C(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var c in Nd)Sc(document,Nd[c],this._onMove,this),Sc(document,ud[c],this._onUp,this);xb();Me();this._moved&&this._moving&&(Da(this._animRequest),
this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;Td._dragging=!1}}),Bd,af={simplify:ge,pointToSegmentDistance:Ma,closestPointOnSegment:function(c,m,G){return de(c,m,G)},clipSegment:ac,_getEdgeIntersection:rd,_getBitCode:vd,_sqClosestPointOnSegment:de,isFlat:oe,_flat:Z},Pd={clipPolygon:za},Fe={project:function(c){return new Ca(c.lng,c.lat)},unproject:function(c){return new Ya(c.y,c.x)},bounds:new La([-180,-90],[180,90])},he={R:6378137,R_MINOR:6356752.314245179,
bounds:new La([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(c){var m=Math.PI/180,G=this.R,ia=c.lat*m,Ga=this.R_MINOR/G;Ga=Math.sqrt(1-Ga*Ga);var Pb=Ga*Math.sin(ia);ia=-G*Math.log(Math.max(Math.tan(Math.PI/4-ia/2)/Math.pow((1-Pb)/(1+Pb),Ga/2),1E-10));return new Ca(c.lng*m*G,ia)},unproject:function(c){var m=180/Math.PI,G=this.R,ia=this.R_MINOR/G;ia=Math.sqrt(1-ia*ia);for(var Ga=Math.exp(-c.y/G),Pb=Math.PI/2-2*Math.atan(Ga),Tb=0,dc=.1;15>Tb&&1E-7<Math.abs(dc);Tb++)dc=
ia*Math.sin(Pb),dc=Math.pow((1-dc)/(1+dc),ia/2),dc=Math.PI/2-2*Math.atan(Ga*dc)-Pb,Pb+=dc;return new Ya(Pb*m,c.x*m/G)}},ze={LonLat:Fe,Mercator:he,SphericalMercator:me},Sf=x({},Wd,{code:"EPSG:3395",projection:he,transformation:function(){var c=.5/(Math.PI*he.R);return nb(c,.5,-c,.5)}()}),be=x({},Wd,{code:"EPSG:4326",projection:Fe,transformation:nb(1/180,1,-1/180,.5)}),wf=x({},Ed,{projection:Fe,transformation:nb(1,0,-1,0),scale:function(c){return Math.pow(2,c)},zoom:function(c){return Math.log(c)/Math.LN2},
distance:function(c,m){var G=m.lng-c.lng;c=m.lat-c.lat;return Math.sqrt(G*G+c*c)},infinite:!0});Ed.Earth=Wd;Ed.EPSG3395=Sf;Ed.EPSG3857=ye;Ed.EPSG900913=Ye;Ed.EPSG4326=be;Ed.Simple=wf;var Ce=qd.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){c.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){c&&c.removeLayer(this);return this},getPane:function(c){return this._map.getPane(c?this.options[c]||
c:this.options.pane)},addInteractiveTarget:function(c){this._map._targets[Sa(c)]=this;return this},removeInteractiveTarget:function(c){delete this._map._targets[Sa(c)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var m=c.target;if(m.hasLayer(this)){this._map=m;this._zoomAnimated=m._zoomAnimated;if(this.getEvents){var G=this.getEvents();m.on(G,this);this.once("remove",function(){m.off(G,this)},this)}this.onAdd(m);this.getAttribution&&m.attributionControl&&
m.attributionControl.addAttribution(this.getAttribution());this.fire("add");m.fire("layeradd",{layer:this})}}});M.include({addLayer:function(c){if(!c._layerAdd)throw Error("The provided object is not a Layer.");var m=Sa(c);if(this._layers[m])return this;this._layers[m]=c;c._mapToAdd=this;c.beforeAdd&&c.beforeAdd(this);this.whenReady(c._layerAdd,c);return this},removeLayer:function(c){var m=Sa(c);if(!this._layers[m])return this;if(this._loaded)c.onRemove(this);c.getAttribution&&this.attributionControl&&
this.attributionControl.removeAttribution(c.getAttribution());delete this._layers[m];this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove"));c._map=c._mapToAdd=null;return this},hasLayer:function(c){return!!c&&Sa(c)in this._layers},eachLayer:function(c,m){for(var G in this._layers)c.call(m,this._layers[G]);return this},_addLayers:function(c){c=c?Cc(c)?c:[c]:[];for(var m=0,G=c.length;m<G;m++)this.addLayer(c[m])},_addZoomLimit:function(c){if(isNaN(c.options.maxZoom)||!isNaN(c.options.minZoom))this._zoomBoundLayers[Sa(c)]=
c,this._updateZoomLevels()},_removeZoomLimit:function(c){c=Sa(c);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var c=Infinity,m=-Infinity,G=this._getZoomSpan(),ia;for(ia in this._zoomBoundLayers){var Ga=this._zoomBoundLayers[ia].options;c=void 0===Ga.minZoom?c:Math.min(c,Ga.minZoom);m=void 0===Ga.maxZoom?m:Math.max(m,Ga.maxZoom)}this._layersMaxZoom=-Infinity===m?void 0:m;this._layersMinZoom=Infinity===c?void 0:c;G!==this._getZoomSpan()&&
this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Kf=Ce.extend({initialize:function(c,m){ob(this,m);this._layers={};var G;if(c)for(m=0,G=c.length;m<G;m++)this.addLayer(c[m])},addLayer:function(c){var m=this.getLayerId(c);this._layers[m]=c;this._map&&this._map.addLayer(c);
return this},removeLayer:function(c){c=c in this._layers?c:this.getLayerId(c);this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]);delete this._layers[c];return this},hasLayer:function(c){return c?("number"===typeof c?c:this.getLayerId(c))in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var m=Array.prototype.slice.call(arguments,1),G;for(G in this._layers){var ia=this._layers[G];ia[c]&&ia[c].apply(ia,m)}return this},onAdd:function(c){this.eachLayer(c.addLayer,
c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,m){for(var G in this._layers)c.call(m,this._layers[G]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];this.eachLayer(c.push,c);return c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return Sa(c)}}),ef=Kf.extend({addLayer:function(c){if(this.hasLayer(c))return this;c.addEventParent(this);Kf.prototype.addLayer.call(this,c);return this.fire("layeradd",
{layer:c})},removeLayer:function(c){if(!this.hasLayer(c))return this;c in this._layers&&(c=this._layers[c]);c.removeEventParent(this);Kf.prototype.removeLayer.call(this,c);return this.fire("layerremove",{layer:c})},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new Aa,m;for(m in this._layers){var G=this._layers[m];c.extend(G.getBounds?G.getBounds():
G.getLatLng())}return c}}),gg=Fa.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(c){ob(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,m){var G=this._getIconUrl(c);if(!G){if("icon"===c)throw Error("iconUrl not set in Icon options (see the docs).");return null}m=this._createImg(G,m&&"IMG"===m.tagName?m:null);this._setIconStyles(m,c);return m},_setIconStyles:function(c,
m){var G=this.options,ia=G[m+"Size"];"number"===typeof ia&&(ia=[ia,ia]);ia=bb(ia);var Ga=bb("shadow"===m&&G.shadowAnchor||G.iconAnchor||ia&&ia.divideBy(2,!0));c.className="leaflet-marker-"+m+" "+(G.className||"");Ga&&(c.style.marginLeft=-Ga.x+"px",c.style.marginTop=-Ga.y+"px");ia&&(c.style.width=ia.x+"px",c.style.height=ia.y+"px")},_createImg:function(c,m){m=m||document.createElement("img");m.src=c;return m},_getIconUrl:function(c){return tf&&this.options[c+"RetinaUrl"]||this.options[c+"Url"]}}),
O=gg.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){O.imagePath||(O.imagePath=this._detectIconPath());return(this.options.imagePath||O.imagePath)+gg.prototype._getIconUrl.call(this,c)},_detectIconPath:function(){var c=v("div","leaflet-default-icon-path",document.body),m=T(c,"background-image")||T(c,"backgroundImage");
document.body.removeChild(c);return m=null===m||0!==m.indexOf("url")?"":m.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),P=Qc.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new Td(c,c,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();H(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,
predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&C(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var m=this._marker,G=m._map,ia=this._marker.options.autoPanSpeed,Ga=this._marker.options.autoPanPadding,Pb=ta(m._icon),Tb=G.getPixelBounds(),dc=G.getPixelOrigin();Ga=ka(Tb.min._subtract(dc).add(Ga),Tb.max._subtract(dc).subtract(Ga));Ga.contains(Pb)||(ia=bb((Math.max(Ga.max.x,
Pb.x)-Ga.max.x)/(Tb.max.x-Ga.max.x)-(Math.min(Ga.min.x,Pb.x)-Ga.min.x)/(Tb.min.x-Ga.min.x),(Math.max(Ga.max.y,Pb.y)-Ga.max.y)/(Tb.max.y-Ga.max.y)-(Math.min(Ga.min.y,Pb.y)-Ga.min.y)/(Tb.min.y-Ga.min.y)).multiplyBy(ia),G.panBy(ia,{animate:!1}),this._draggable._newPos._add(ia),this._draggable._startPos._add(ia),ba(m._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=mb(this._adjustPan.bind(this,c)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup&&
this._marker.closePopup();this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(c){this._marker.options.autoPan&&(Da(this._panRequest),this._panRequest=mb(this._adjustPan.bind(this,c)))},_onDrag:function(c){var m=this._marker,G=m._shadow,ia=ta(m._icon),Ga=m._map.layerPointToLatLng(ia);G&&ba(G,ia);m._latlng=Ga;c.latlng=Ga;c.oldLatLng=this._oldLatLng;m.fire("move",c).fire("drag",c)},_onDragEnd:function(c){Da(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",
c)}}),aa=Ce.extend({options:{icon:new O,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,m){ob(this,m);this._latlng=ib(c)},onAdd:function(c){if(this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation)c.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(c){this.dragging&&
this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var m=this._latlng;this._latlng=ib(c);this.update();return this.fire("move",{oldLatLng:m,latlng:this._latlng})},setZIndexOffset:function(c){this.options.zIndexOffset=
c;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(c){this.options.icon=c;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,m="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),G=c.icon.createIcon(this._icon),
ia=!1;G!==this._icon&&(this._icon&&this._removeIcon(),ia=!0,c.title&&(G.title=c.title),"IMG"===G.tagName&&(G.alt=c.alt||""));H(G,m);c.keyboard&&(G.tabIndex="0");this._icon=G;if(c.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});G=c.icon.createShadow(this._shadow);var Ga=!1;G!==this._shadow&&(this._removeShadow(),Ga=!0);G&&(H(G,m),G.alt="");this._shadow=G;1>c.opacity&&this._updateOpacity();ia&&this.getPane().appendChild(this._icon);this._initInteraction();G&&Ga&&this.getPane(c.shadowPane).appendChild(this._shadow)},
_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});w(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&w(this._shadow);this._shadow=null},_setPos:function(c){this._icon&&ba(this._icon,c);this._shadow&&ba(this._shadow,c);this._zIndex=c.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(H(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),P)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable());this.dragging=new P(this);c&&this.dragging.enable()}},setOpacity:function(c){this.options.opacity=c;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var c=this.options.opacity;
this._icon&&oa(this._icon,c);this._shadow&&oa(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),ja=Ce.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,
fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(c){ob(this,c);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&Object.prototype.hasOwnProperty.call(c,"weight")&&this._updateBounds());
return this},bringToFront:function(){this._renderer&&this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),ya=ja.extend({options:{fill:!0,radius:10},initialize:function(c,m){ob(this,m);this._latlng=ib(c);this._radius=
this.options.radius},setLatLng:function(c){var m=this._latlng;this._latlng=ib(c);this.redraw();return this.fire("move",{oldLatLng:m,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){this.options.radius=this._radius=c;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var m=c&&c.radius||this._radius;ja.prototype.setStyle.call(this,c);this.setRadius(m);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);
this._updateBounds()},_updateBounds:function(){var c=this._radius,m=this._radiusY||c,G=this._clickTolerance();c=[c+G,m+G];this._pxBounds=new La(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Ea=ya.extend({initialize:function(c,
m,G){"number"===typeof m&&(m=x({},G,{radius:m}));ob(this,m);this._latlng=ib(c);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){this._mRadius=c;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new Aa(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:ja.prototype.setStyle,
_project:function(){var c=this._latlng.lng,m=this._latlng.lat,G=this._map,ia=G.options.crs;if(ia.distance===Wd.distance){var Ga=Math.PI/180;ia=this._mRadius/Wd.R/Ga;var Pb=G.project([m+ia,c]),Tb=G.project([m-ia,c]);Tb=Pb.add(Tb).divideBy(2);var dc=G.unproject(Tb).lat;Ga=Math.acos((Math.cos(ia*Ga)-Math.sin(m*Ga)*Math.sin(dc*Ga))/(Math.cos(m*Ga)*Math.cos(dc*Ga)))/Ga;if(isNaN(Ga)||0===Ga)Ga=ia/Math.cos(Math.PI/180*m);this._point=Tb.subtract(G.getPixelOrigin());this._radius=isNaN(Ga)?0:Tb.x-G.project([dc,
c-Ga]).x;this._radiusY=Tb.y-Pb.y}else c=ia.unproject(ia.project(this._latlng).subtract([this._mRadius,0])),this._point=G.latLngToLayerPoint(this._latlng),this._radius=this._point.x-G.latLngToLayerPoint(c).x;this._updateBounds()}}),ab=ja.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,m){ob(this,m);this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){this._setLatLngs(c);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var m=
Infinity,G=null,ia=de,Ga,Pb,Tb=0,dc=this._parts.length;Tb<dc;Tb++)for(var vc=this._parts[Tb],hd=1,nd=vc.length;hd<nd;hd++){Ga=vc[hd-1];Pb=vc[hd];var ie=ia(c,Ga,Pb,!0);ie<m&&(m=ie,G=ia(c,Ga,Pb))}G&&(G.distance=Math.sqrt(m));return G},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,m,G,ia=this._rings[0],Ga=ia.length;if(!Ga)return null;for(m=c=0;c<Ga-1;c++)m+=ia[c].distanceTo(ia[c+1])/2;if(0===m)return this._map.layerPointToLatLng(ia[0]);for(G=c=
0;c<Ga-1;c++){var Pb=ia[c];var Tb=ia[c+1];var dc=Pb.distanceTo(Tb);G+=dc;if(G>m)return c=(G-m)/dc,this._map.layerPointToLatLng([Tb.x-c*(Tb.x-Pb.x),Tb.y-c*(Tb.y-Pb.y)])}},getBounds:function(){return this._bounds},addLatLng:function(c,m){m=m||this._defaultShape();c=ib(c);m.push(c);this._bounds.extend(c);return this.redraw()},_setLatLngs:function(c){this._bounds=new Aa;this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return oe(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var m=
[],G=oe(c),ia=0,Ga=c.length;ia<Ga;ia++)G?(m[ia]=ib(c[ia]),this._bounds.extend(m[ia])):m[ia]=this._convertLatLngs(c[ia]);return m},_project:function(){var c=new La;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,c);this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance();c=new Ca(c,c);this._pxBounds=new La([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)])},_projectLatlngs:function(c,m,G){var ia=
c.length,Ga;if(c[0]instanceof Ya){var Pb=[];for(Ga=0;Ga<ia;Ga++)Pb[Ga]=this._map.latLngToLayerPoint(c[Ga]),G.extend(Pb[Ga]);m.push(Pb)}else for(Ga=0;Ga<ia;Ga++)this._projectLatlngs(c[Ga],m,G)},_clipPoints:function(){var c=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{var m=this._parts,G,ia,Ga,Pb;var Tb=G=0;for(ia=this._rings.length;G<ia;G++){var dc=this._rings[G];var vc=0;for(Ga=dc.length;vc<Ga-1;vc++)if(Pb=
ac(dc[vc],dc[vc+1],c,vc,!0))if(m[Tb]=m[Tb]||[],m[Tb].push(Pb[0]),Pb[1]!==dc[vc+1]||vc===Ga-2)m[Tb].push(Pb[1]),Tb++}}},_simplifyPoints:function(){for(var c=this._parts,m=this.options.smoothFactor,G=0,ia=c.length;G<ia;G++)c[G]=ge(c[G],m)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,m){var G,ia,Ga=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;
var Pb=0;for(ia=this._parts.length;Pb<ia;Pb++){var Tb=this._parts[Pb];var dc=0;var vc=Tb.length;for(G=vc-1;dc<vc;G=dc++)if((m||0!==dc)&&Ma(c,Tb[G],Tb[dc])<=Ga)return!0}return!1}});ab._flat=Z;var tb=ab.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,m,G,ia,Ga=this._rings[0],Pb=Ga.length;if(!Pb)return null;var Tb=m=G=ia=0;for(c=Pb-1;Tb<Pb;c=Tb++){var dc=
Ga[Tb];c=Ga[c];var vc=dc.y*c.x-c.y*dc.x;G+=(dc.x+c.x)*vc;ia+=(dc.y+c.y)*vc;m+=3*vc}return this._map.layerPointToLatLng(0===m?Ga[0]:[G/m,ia/m])},_convertLatLngs:function(c){c=ab.prototype._convertLatLngs.call(this,c);var m=c.length;2<=m&&c[0]instanceof Ya&&c[0].equals(c[m-1])&&c.pop();return c},_setLatLngs:function(c){ab.prototype._setLatLngs.call(this,c);oe(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return oe(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=
this._renderer._bounds,m=this.options.weight;m=new Ca(m,m);c=new La(c.min.subtract(m),c.max.add(m));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{m=0;for(var G=this._rings.length,ia;m<G;m++)ia=za(this._rings[m],c,!0),ia.length&&this._parts.push(ia)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var m=!1,G,ia;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;var Ga=0;for(ia=this._parts.length;Ga<
ia;Ga++){var Pb=this._parts[Ga];var Tb=0;var dc=Pb.length;for(G=dc-1;Tb<dc;G=Tb++){var vc=Pb[Tb];G=Pb[G];vc.y>c.y!==G.y>c.y&&c.x<(G.x-vc.x)*(c.y-vc.y)/(G.y-vc.y)+vc.x&&(m=!m)}}return m||ab.prototype._containsPoint.call(this,c,!0)}}),pb=ef.extend({initialize:function(c,m){ob(this,m);this._layers={};c&&this.addData(c)},addData:function(c){var m=Cc(c)?c:c.features,G;if(m){c=0;for(G=m.length;c<G;c++){var ia=m[c];(ia.geometries||ia.geometry||ia.features||ia.coordinates)&&this.addData(ia)}return this}m=
this.options;if(m.filter&&!m.filter(c))return this;G=gb(c,m);if(!G)return this;G.feature=sb(c);G.defaultOptions=G.options;this.resetStyle(G);if(m.onEachFeature)m.onEachFeature(c,G);return this.addLayer(G)},resetStyle:function(c){if(void 0===c)return this.eachLayer(this.resetStyle,this);c.options=x({},c.defaultOptions);this._setLayerStyle(c,this.options.style);return this},setStyle:function(c){return this.eachLayer(function(m){this._setLayerStyle(m,c)},this)},_setLayerStyle:function(c,m){c.setStyle&&
("function"===typeof m&&(m=m(c.feature)),c.setStyle(m))}}),Ab={toGeoJSON:function(c){return Oa(this,{type:"Point",coordinates:sc(this.getLatLng(),c)})}};aa.include(Ab);Ea.include(Ab);ya.include(Ab);ab.include({toGeoJSON:function(c){var m=!oe(this._latlngs);c=kc(this._latlngs,m?1:0,!1,c);return Oa(this,{type:(m?"Multi":"")+"LineString",coordinates:c})}});tb.include({toGeoJSON:function(c){var m=!oe(this._latlngs),G=m&&!oe(this._latlngs[0]);c=kc(this._latlngs,G?2:m?1:0,!0,c);m||(c=[c]);return Oa(this,
{type:(G?"Multi":"")+"Polygon",coordinates:c})}});Kf.include({toMultiPoint:function(c){var m=[];this.eachLayer(function(G){m.push(G.toGeoJSON(c).geometry.coordinates)});return Oa(this,{type:"MultiPoint",coordinates:m})},toGeoJSON:function(c){var m=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===m)return this.toMultiPoint(c);var G="GeometryCollection"===m,ia=[];this.eachLayer(function(Ga){Ga.toGeoJSON&&(Ga=Ga.toGeoJSON(c),G?ia.push(Ga.geometry):(Ga=sb(Ga),"FeatureCollection"===
Ga.type?ia.push.apply(ia,Ga.features):ia.push(Ga)))});return G?Oa(this,{geometries:ia,type:"GeometryCollection"}):{type:"FeatureCollection",features:ia}}});var Eb=Ce.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,m,G){this._url=c;this._bounds=Ra(m);ob(this,G)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(H(this._image,"leaflet-interactive"),
this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){w(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){this.options.opacity=c;this._image&&this._updateOpacity();return this},setStyle:function(c){c.opacity&&this.setOpacity(c.opacity);return this},bringToFront:function(){this._map&&r(this._image);return this},bringToBack:function(){this._map&&D(this._image);return this},setUrl:function(c){this._url=
c;this._image&&(this._image.src=c);return this},setBounds:function(c){this._bounds=Ra(c);this._map&&this._reset();return this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,m=this._image=c?this._url:v("img");
H(m,"leaflet-image-layer");this._zoomAnimated&&H(m,"leaflet-zoom-animated");this.options.className&&H(m,this.options.className);m.onselectstart=ub;m.onmousemove=ub;m.onload=ea(this.fire,this,"load");m.onerror=ea(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)m.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();c?this._url=m.src:(m.src=this._url,m.alt=this.options.alt)},_animateZoom:function(c){var m=
this._map.getZoomScale(c.zoom);c=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;Ja(this._image,c,m)},_reset:function(){var c=this._image,m=new La(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),G=m.getSize();ba(c,m.min);c.style.width=G.x+"px";c.style.height=G.y+"px"},_updateOpacity:function(){oa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==
this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)}}),Yb=Eb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var c="VIDEO"===this._url.tagName,m=this._image=c?this._url:v("video");H(m,"leaflet-image-layer");this._zoomAnimated&&H(m,"leaflet-zoom-animated");this.options.className&&H(m,this.options.className);m.onselectstart=
ub;m.onmousemove=ub;m.onloadeddata=ea(this.fire,this,"load");if(c){c=m.getElementsByTagName("source");for(var G=[],ia=0;ia<c.length;ia++)G.push(c[ia].src);this._url=0<c.length?G:[m.src]}else for(Cc(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(m.style,"objectFit")&&(m.style.objectFit="fill"),m.autoplay=!!this.options.autoplay,m.loop=!!this.options.loop,m.muted=!!this.options.muted,c=0;c<this._url.length;c++)G=v("source"),G.src=this._url[c],
m.appendChild(G)}}),pc=Eb.extend({_initImage:function(){var c=this._image=this._url;H(c,"leaflet-image-layer");this._zoomAnimated&&H(c,"leaflet-zoom-animated");this.options.className&&H(c,this.options.className);c.onselectstart=ub;c.onmousemove=ub}}),u=Ce.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(c,m){ob(this,c);this._source=m},onAdd:function(c){this._zoomAnimated=c._zoomAnimated;this._container||this._initLayout();c._fadeAnimated&&oa(this._container,0);clearTimeout(this._removeTimeout);
this.getPane().appendChild(this._container);this.update();c._fadeAnimated&&oa(this._container,1);this.bringToFront()},onRemove:function(c){c._fadeAnimated?(oa(this._container,0),this._removeTimeout=setTimeout(ea(w,void 0,this._container),200)):w(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(c){this._latlng=ib(c);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(c){this._content=c;this.update();
return this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&r(this._container);
return this},bringToBack:function(){this._map&&D(this._container);return this},_prepareOpen:function(c,m,G){m instanceof Ce||(G=m,m=c);if(m instanceof ef)for(var ia in c._layers){m=c._layers[ia];break}if(!G)if(m.getCenter)G=m.getCenter();else if(m.getLatLng)G=m.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=m;this.update();return G},_updateContent:function(){if(this._content){var c=this._contentNode,m="function"===typeof this._content?this._content(this._source||this):
this._content;if("string"===typeof m)c.innerHTML=m;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(m)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),m=bb(this.options.offset),G=this._getAnchor();this._zoomAnimated?ba(this._container,c.add(G)):m=m.add(c).add(G);c=this._containerBottom=-m.y;m=this._containerLeft=-Math.round(this._containerWidth/2)+m.x;this._container.style.bottom=c+"px";this._container.style.left=
m+"px"}},_getAnchor:function(){return[0,0]}}),F=u.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){c.openPopup(this);return this},onAdd:function(c){u.prototype.onAdd.call(this,c);c.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof ja)))this._source.on("preclick",
wc)},onRemove:function(c){u.prototype.onRemove.call(this,c);c.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ja||this._source.off("preclick",wc))},getEvents:function(){var c=u.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)c.preclick=this._close;this.options.keepInView&&(c.moveend=this._adjustPan);return c},_close:function(){this._map&&this._map.closePopup(this)},
_initLayout:function(){var c=this._container=v("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=v("div","leaflet-popup-content-wrapper",c);this._contentNode=v("div","leaflet-popup-content",m);rc(c);Pc(this._contentNode);Dc(c,"contextmenu",wc);this._tipContainer=v("div","leaflet-popup-tip-container",c);this._tip=v("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(c=this._closeButton=v("a","leaflet-popup-close-button",c),c.href="#close",
c.innerHTML="\x26#215;",Dc(c,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var c=this._contentNode,m=c.style;m.width="";m.whiteSpace="nowrap";var G=c.offsetWidth;G=Math.min(G,this.options.maxWidth);G=Math.max(G,this.options.minWidth);m.width=G+1+"px";m.whiteSpace="";m.height="";G=c.offsetHeight;var ia=this.options.maxHeight;ia&&G>ia?(m.height=ia+"px",H(c,"leaflet-popup-scrolled")):C(c,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){c=
this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);var m=this._getAnchor();ba(this._container,c.add(m))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,m=parseInt(T(this._container,"marginBottom"),10)||0;m=this._container.offsetHeight+m;var G=this._containerWidth,ia=new Ca(this._containerLeft,-m-this._containerBottom);ia._add(ta(this._container));ia=c.layerPointToContainerPoint(ia);var Ga=bb(this.options.autoPanPadding),Pb=
bb(this.options.autoPanPaddingTopLeft||Ga);Ga=bb(this.options.autoPanPaddingBottomRight||Ga);var Tb=c.getSize(),dc=0,vc=0;ia.x+G+Ga.x>Tb.x&&(dc=ia.x+G-Tb.x+Ga.x);0>ia.x-dc-Pb.x&&(dc=ia.x-Pb.x);ia.y+m+Ga.y>Tb.y&&(vc=ia.y+m-Tb.y+Ga.y);0>ia.y-vc-Pb.y&&(vc=ia.y-Pb.y);(dc||vc)&&c.fire("autopanstart").panBy([dc,vc])}},_onCloseButtonClick:function(c){this._close();$c(c)},_getAnchor:function(){return bb(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});M.mergeOptions({closePopupOnClick:!0});
M.include({openPopup:function(c,m,G){c instanceof F||(c=(new F(G)).setContent(c));m&&c.setLatLng(m);if(this.hasLayer(c))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=c;return this.addLayer(c)},closePopup:function(c){c&&c!==this._popup||(c=this._popup,this._popup=null);c&&this.removeLayer(c);return this}});Ce.include({bindPopup:function(c,m){if(c instanceof F)ob(c,m),this._popup=c,c._source=this;else{if(!this._popup||m)this._popup=new F(m,this);this._popup.setContent(c)}this._popupHandlersAdded||
(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(c,m){this._popup&&this._map&&(m=this._popup._prepareOpen(this,c,m),this._map.openPopup(this._popup,m));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(c){this._popup&&(this._popup._map?this.closePopup():this.openPopup(c));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){this._popup&&this._popup.setContent(c);return this},getPopup:function(){return this._popup},_openPopup:function(c){var m=c.layer||c.target;this._popup&&this._map&&($c(c),m instanceof ja?this.openPopup(c.layer||c.target,c.latlng):this._map.hasLayer(this._popup)&&this._popup._source===
m?this.closePopup():this.openPopup(m,c.latlng))},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var ca=u.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(c){u.prototype.onAdd.call(this,c);this.setOpacity(this.options.opacity);c.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(c){u.prototype.onRemove.call(this,
c);c.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var c=u.prototype.getEvents.call(this);Ke&&!this.options.permanent&&(c.preclick=this._close);return c},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=v("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},
_setPosition:function(c){var m=this._map,G=this._container;var ia=m.latLngToContainerPoint(m.getCenter());var Ga=m.layerPointToContainerPoint(c);m=this.options.direction;var Pb=G.offsetWidth;var Tb=G.offsetHeight;var dc=bb(this.options.offset),vc=this._getAnchor();"top"===m?ia=Pb/2:"bottom"===m?(ia=Pb/2,Tb=0):("center"===m?ia=Pb/2:"right"===m?ia=0:"left"===m?ia=Pb:Ga.x<ia.x?(m="right",ia=0):(m="left",ia=Pb+2*(dc.x+vc.x)),Tb/=2);c=c.subtract(bb(ia,Tb,!0)).add(dc).add(vc);C(G,"leaflet-tooltip-right");
C(G,"leaflet-tooltip-left");C(G,"leaflet-tooltip-top");C(G,"leaflet-tooltip-bottom");H(G,"leaflet-tooltip-"+m);ba(G,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c;this._container&&oa(this._container,c)},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(c)},_getAnchor:function(){return bb(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?
this._source._getTooltipAnchor():[0,0])}});M.include({openTooltip:function(c,m,G){c instanceof ca||(c=(new ca(G)).setContent(c));m&&c.setLatLng(m);return this.hasLayer(c)?this:this.addLayer(c)},closeTooltip:function(c){c&&this.removeLayer(c);return this}});Ce.include({bindTooltip:function(c,m){if(c instanceof ca)ob(c,m),this._tooltip=c,c._source=this;else{if(!this._tooltip||m)this._tooltip=new ca(m,this);this._tooltip.setContent(c)}this._initTooltipInteractions();this._tooltip.options.permanent&&
this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),
Ke&&(m.click=this._openTooltip));this[c?"off":"on"](m);this._tooltipHandlersAdded=!c}},openTooltip:function(c,m){this._tooltip&&this._map&&(m=this._tooltip._prepareOpen(this,c,m),this._map.openTooltip(this._tooltip,m),this._tooltip.options.interactive&&this._tooltip._container&&(H(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&
(C(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(c){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(c));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){this._tooltip&&this._tooltip.setContent(c);return this},getTooltip:function(){return this._tooltip},_openTooltip:function(c){this._tooltip&&this._map&&this.openTooltip(c.layer||c.target,
this._tooltip.options.sticky?c.latlng:void 0)},_moveTooltip:function(c){var m=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(c=this._map.mouseEventToContainerPoint(c.originalEvent),c=this._map.containerPointToLayerPoint(c),m=this._map.layerPointToLatLng(c));this._tooltip.setLatLng(m)}});var na=gg.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){c=c&&"DIV"===c.tagName?c:document.createElement("div");var m=this.options;m.html instanceof
Element?(p(c),c.appendChild(m.html)):c.innerHTML=!1!==m.html?m.html:"";m.bgPos&&(m=bb(m.bgPos),c.style.backgroundPosition=-m.x+"px "+-m.y+"px");this._setIconStyles(c,"icon");return c},createShadow:function(){return null}});gg.Default=O;var lb=Ce.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Be,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){ob(this,
c)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles();w(this._container);c._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(r(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&(D(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},
setOpacity:function(c){this.options.opacity=c;this._updateOpacity();return this},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=Wb(this._onMoveEnd,this.options.updateInterval,
this)),c.move=this._onMove);this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof Ca?c:new Ca(c,c)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(c){for(var m=this.getPane().children,G=-c(-Infinity,Infinity),ia=0,Ga=m.length,Pb;ia<Ga;ia++)Pb=
m[ia].style.zIndex,m[ia]!==this._container&&Pb&&(G=c(G,+Pb));isFinite(G)&&(this.options.zIndex=G+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fd){oa(this._container,this.options.opacity);var c=+new Date,m=!1,G=!1,ia;for(ia in this._tiles){var Ga=this._tiles[ia];if(Ga.current&&Ga.loaded){var Pb=Math.min(1,(c-Ga.loaded)/200);oa(Ga.el,Pb);1>Pb?m=!0:(Ga.active?G=!0:this._onOpaqueTile(Ga),Ga.active=!0)}}G&&!this._noPrune&&this._pruneTiles();m&&(Da(this._fadeFrame),this._fadeFrame=
mb(this._updateOpacity,this))}},_onOpaqueTile:ub,_initContainer:function(){this._container||(this._container=v("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,m=this.options.maxZoom;if(void 0!==c){for(var G in this._levels)G=Number(G),this._levels[G].el.children.length||G===c?(this._levels[G].el.style.zIndex=m-Math.abs(c-G),this._onUpdateLevel(G)):
(w(this._levels[G].el),this._removeTilesAtZoom(G),this._onRemoveLevel(G),delete this._levels[G]);G=this._levels[c];var ia=this._map;G||(G=this._levels[c]={},G.el=v("div","leaflet-tile-container leaflet-zoom-animated",this._container),G.el.style.zIndex=m,G.origin=ia.project(ia.unproject(ia.getPixelOrigin()),c).round(),G.zoom=c,this._setZoomTransform(G,ia.getCenter(),ia.getZoom()),this._onCreateLevel(G));return this._level=G}},_onUpdateLevel:ub,_onRemoveLevel:ub,_onCreateLevel:ub,_pruneTiles:function(){if(this._map){var c;
var m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom)this._removeAllTiles();else{for(c in this._tiles)m=this._tiles[c],m.retain=m.current;for(c in this._tiles)m=this._tiles[c],m.current&&!m.active&&(m=m.coords,this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2));for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}}},_removeTilesAtZoom:function(c){for(var m in this._tiles)this._tiles[m].coords.z===c&&this._removeTile(m)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},
_invalidateAll:function(){for(var c in this._levels)w(this._levels[c].el),this._onRemoveLevel(Number(c)),delete this._levels[c];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(c,m,G,ia){c=Math.floor(c/2);m=Math.floor(m/2);--G;var Ga=new Ca(+c,+m);Ga.z=+G;Ga=this._tileCoordsToKey(Ga);if((Ga=this._tiles[Ga])&&Ga.active)return Ga.retain=!0;Ga&&Ga.loaded&&(Ga.retain=!0);return G>ia?this._retainParent(c,m,G,ia):!1},_retainChildren:function(c,m,G,ia){for(var Ga=2*c;Ga<2*c+2;Ga++)for(var Pb=
2*m;Pb<2*m+2;Pb++){var Tb=new Ca(Ga,Pb);Tb.z=G+1;Tb=this._tileCoordsToKey(Tb);(Tb=this._tiles[Tb])&&Tb.active?Tb.retain=!0:(Tb&&Tb.loaded&&(Tb.retain=!0),G+1<ia&&this._retainChildren(Ga,Pb,G+1,ia))}},_resetView:function(c){c=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var m=this.options;return void 0!==m.minNativeZoom&&c<m.minNativeZoom?m.minNativeZoom:void 0!==m.maxNativeZoom&&
m.maxNativeZoom<c?m.maxNativeZoom:c},_setView:function(c,m,G,ia){var Ga=Math.round(m);Ga=void 0!==this.options.maxZoom&&Ga>this.options.maxZoom||void 0!==this.options.minZoom&&Ga<this.options.minZoom?void 0:this._clampZoom(Ga);var Pb=this.options.updateWhenZooming&&Ga!==this._tileZoom;if(!ia||Pb)this._tileZoom=Ga,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==Ga&&this._update(c),G||this._pruneTiles(),this._noPrune=!!G;this._setZoomTransforms(c,m)},_setZoomTransforms:function(c,
m){for(var G in this._levels)this._setZoomTransform(this._levels[G],c,m)},_setZoomTransform:function(c,m,G){var ia=this._map.getZoomScale(G,c.zoom);m=c.origin.multiplyBy(ia).subtract(this._map._getNewPixelOrigin(m,G)).round();Ac?Ja(c.el,m,ia):ba(c.el,m)},_resetGrid:function(){var c=this._map,m=c.options.crs,G=this._tileSize=this.getTileSize(),ia=this._tileZoom,Ga=this._map.getPixelWorldBounds(this._tileZoom);Ga&&(this._globalTileRange=this._pxBoundsToTileRange(Ga));this._wrapX=m.wrapLng&&!this.options.noWrap&&
[Math.floor(c.project([0,m.wrapLng[0]],ia).x/G.x),Math.ceil(c.project([0,m.wrapLng[1]],ia).x/G.y)];this._wrapY=m.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([m.wrapLat[0],0],ia).y/G.x),Math.ceil(c.project([m.wrapLat[1],0],ia).y/G.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(c){var m=this._map,G=m._animatingZoom?Math.max(m._animateToZoom,m.getZoom()):m.getZoom();G=m.getZoomScale(G,this._tileZoom);c=m.project(c,this._tileZoom).floor();
m=m.getSize().divideBy(2*G);return new La(c.subtract(m),c.add(m))},_update:function(c){var m=this._map;if(m){var G=this._clampZoom(m.getZoom());void 0===c&&(c=m.getCenter());if(void 0!==this._tileZoom){m=this._getTiledPixelBounds(c);var ia=this._pxBoundsToTileRange(m),Ga=ia.getCenter();m=[];var Pb=this.options.keepBuffer;Pb=new La(ia.getBottomLeft().subtract([Pb,-Pb]),ia.getTopRight().add([Pb,-Pb]));if(!(isFinite(ia.min.x)&&isFinite(ia.min.y)&&isFinite(ia.max.x)&&isFinite(ia.max.y)))throw Error("Attempted to load an infinite number of tiles");
for(var Tb in this._tiles){var dc=this._tiles[Tb].coords;dc.z===this._tileZoom&&Pb.contains(new Ca(dc.x,dc.y))||(this._tiles[Tb].current=!1)}if(1<Math.abs(G-this._tileZoom))this._setView(c,G);else{for(G=ia.min.y;G<=ia.max.y;G++)for(c=ia.min.x;c<=ia.max.x;c++)Tb=new Ca(c,G),Tb.z=this._tileZoom,this._isValidTile(Tb)&&((Pb=this._tiles[this._tileCoordsToKey(Tb)])?Pb.current=!0:m.push(Tb));m.sort(function(vc,hd){return vc.distanceTo(Ga)-hd.distanceTo(Ga)});if(0!==m.length){this._loading||(this._loading=
!0,this.fire("loading"));ia=document.createDocumentFragment();for(c=0;c<m.length;c++)this._addTile(m[c],ia);this._level.el.appendChild(ia)}}}}},_isValidTile:function(c){var m=this._map.options.crs;if(!m.infinite){var G=this._globalTileRange;if(!m.wrapLng&&(c.x<G.min.x||c.x>G.max.x)||!m.wrapLat&&(c.y<G.min.y||c.y>G.max.y))return!1}if(!this.options.bounds)return!0;c=this._tileCoordsToBounds(c);return Ra(this.options.bounds).overlaps(c)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},
_tileCoordsToNwSe:function(c){var m=this._map,G=this.getTileSize(),ia=c.scaleBy(G);G=ia.add(G);ia=m.unproject(ia,c.z);c=m.unproject(G,c.z);return[ia,c]},_tileCoordsToBounds:function(c){c=this._tileCoordsToNwSe(c);c=new Aa(c[0],c[1]);this.options.noWrap||(c=this._map.wrapLatLngBounds(c));return c},_tileCoordsToKey:function(c){return c.x+":"+c.y+":"+c.z},_keyToTileCoords:function(c){c=c.split(":");var m=new Ca(+c[0],+c[1]);m.z=+c[2];return m},_removeTile:function(c){var m=this._tiles[c];m&&(w(m.el),
delete this._tiles[c],this.fire("tileunload",{tile:m.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){H(c,"leaflet-tile");var m=this.getTileSize();c.style.width=m.x+"px";c.style.height=m.y+"px";c.onselectstart=ub;c.onmousemove=ub;Fd&&1>this.options.opacity&&oa(c,this.options.opacity);Oe&&!Bf&&(c.style.WebkitBackfaceVisibility="hidden")},_addTile:function(c,m){var G=this._getTilePos(c),ia=this._tileCoordsToKey(c),Ga=this.createTile(this._wrapCoords(c),ea(this._tileReady,this,c));this._initTile(Ga);
2>this.createTile.length&&mb(ea(this._tileReady,this,c,null,Ga));ba(Ga,G);this._tiles[ia]={el:Ga,coords:c,current:!0};m.appendChild(Ga);this.fire("tileloadstart",{tile:Ga,coords:c})},_tileReady:function(c,m,G){m&&this.fire("tileerror",{error:m,tile:G,coords:c});G=this._tileCoordsToKey(c);if(G=this._tiles[G])G.loaded=+new Date,this._map._fadeAnimated?(oa(G.el,0),Da(this._fadeFrame),this._fadeFrame=mb(this._updateOpacity,this)):(G.active=!0,this._pruneTiles()),m||(H(G.el,"leaflet-tile-loaded"),this.fire("tileload",
{tile:G.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fd||!this._map._fadeAnimated?mb(this._pruneTiles,this):setTimeout(ea(this._pruneTiles,this),250))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var m=new Ca(this._wrapX?fb(c.x,this._wrapX):c.x,this._wrapY?fb(c.y,this._wrapY):c.y);m.z=c.z;return m},_pxBoundsToTileRange:function(c){var m=this.getTileSize();return new La(c.min.unscaleBy(m).floor(),c.max.unscaleBy(m).ceil().subtract([1,
1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}}),Ib=lb.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(c,m){this._url=c;m=ob(this,m);m.detectRetina&&tf&&0<m.maxZoom&&(m.tileSize=Math.floor(m.tileSize/2),m.zoomReverse?(m.zoomOffset--,m.minZoom++):(m.zoomOffset++,m.maxZoom--),m.minZoom=Math.max(0,m.minZoom));"string"===typeof m.subdomains&&
(m.subdomains=m.subdomains.split(""));if(!Oe)this.on("tileunload",this._onTileRemove)},setUrl:function(c,m){this._url===c&&void 0===m&&(m=!0);this._url=c;m||this.redraw();return this},createTile:function(c,m){var G=document.createElement("img");Dc(G,"load",ea(this._tileOnLoad,this,m,G));Dc(G,"error",ea(this._tileOnError,this,m,G));if(this.options.crossOrigin||""===this.options.crossOrigin)G.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;G.alt="";G.setAttribute("role","presentation");
G.src=this.getTileUrl(c);return G},getTileUrl:function(c){var m={r:tf?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(c=this._globalTileRange.max.y-c.y,this.options.tms&&(m.y=c),m["-y"]=c);return Xa(this._url,x(m,this.options))},_tileOnLoad:function(c,m){Fd?setTimeout(ea(c,this,null,m),0):c(null,m)},_tileOnError:function(c,m,G){var ia=this.options.errorTileUrl;ia&&m.getAttribute("src")!==ia&&(m.src=ia);c(G,m)},_onTileRemove:function(c){c.tile.onload=
null},_getZoomForUrl:function(){var c=this._tileZoom,m=this.options.maxZoom,G=this.options.zoomOffset;this.options.zoomReverse&&(c=m-c);return c+G},_getSubdomain:function(c){return this.options.subdomains[Math.abs(c.x+c.y)%this.options.subdomains.length]},_abortLoading:function(){var c;for(c in this._tiles)if(this._tiles[c].coords.z!==this._tileZoom){var m=this._tiles[c].el;m.onload=ub;m.onerror=ub;m.complete||(m.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",w(m),delete this._tiles[c])}},
_removeTile:function(c){var m=this._tiles[c];if(m)return Ae||m.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"),lb.prototype._removeTile.call(this,c)},_tileReady:function(c,m,G){if(this._map&&(!G||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"!==G.getAttribute("src")))return lb.prototype._tileReady.call(this,c,m,G)}}),Sb=Ib.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},
options:{crs:null,uppercase:!1},initialize:function(c,m){this._url=c;c=x({},this.defaultWmsParams);for(var G in m)G in this.options||(c[G]=m[G]);m=ob(this,m);m=m.detectRetina&&tf?2:1;G=this.getTileSize();c.width=G.x*m;c.height=G.y*m;this.wmsParams=c},onAdd:function(c){this._crs=this.options.crs||c.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Ib.prototype.onAdd.call(this,c)},getTileUrl:function(c){var m=this._tileCoordsToNwSe(c),
G=this._crs;G=ka(G.project(m[0]),G.project(m[1]));m=G.min;G=G.max;m=(1.3<=this._wmsVersion&&this._crs===be?[m.y,m.x,G.y,G.x]:[m.x,m.y,G.x,G.y]).join(",");c=Ib.prototype.getTileUrl.call(this,c);return c+rb(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"\x26BBOX\x3d":"\x26bbox\x3d")+m},setParams:function(c,m){x(this.wmsParams,c);m||this.redraw();return this}});Ib.WMS=Sb;hc.wms=function(c,m){return new Sb(c,m)};var gc=Ce.extend({options:{padding:.1,tolerance:0},initialize:function(c){ob(this,
c);Sa(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&H(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(c.zoomanim=this._onAnimZoom);
return c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,m){var G=this._map.getZoomScale(m,this._zoom),ia=ta(this._container),Ga=this._map.getSize().multiplyBy(.5+this.options.padding),Pb=this._map.project(this._center,m);c=this._map.project(c,m).subtract(Pb);ia=Ga.multiplyBy(-G).add(ia).add(Ga).subtract(c);Ac?Ja(this._container,ia,G):ba(this._container,ia)},_reset:function(){this._update();
this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,m=this._map.getSize(),G=this._map.containerPointToLayerPoint(m.multiplyBy(-c)).round();this._bounds=new La(G,G.add(m.multiplyBy(1+2*c)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),
zc=gc.extend({getEvents:function(){var c=gc.prototype.getEvents.call(this);c.viewprereset=this._onViewPreReset;return c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gc.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");Dc(c,"mousemove",this._onMouseMove,this);Dc(c,"click dblclick mousedown mouseup contextmenu",this._onClick,this);Dc(c,"mouseout",this._handleMouseOut,this);this._ctx=c.getContext("2d")},
_destroyContainer:function(){Da(this._redrawRequest);delete this._ctx;w(this._container);Sc(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var c in this._layers){var m=this._layers[c];m._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){gc.prototype._update.call(this);var c=this._bounds,m=this._container,G=c.getSize(),ia=tf?2:1;ba(m,c.min);m.width=ia*G.x;m.height=ia*G.y;m.style.width=
G.x+"px";m.style.height=G.y+"px";tf&&this._ctx.scale(2,2);this._ctx.translate(-c.min.x,-c.min.y);this.fire("update")}},_reset:function(){gc.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c);this._layers[Sa(c)]=c;c=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c);this._drawLast=c;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},
_removePath:function(c){var m=c._order,G=m.next;m=m.prev;G?G.prev=m:this._drawLast=m;m?m.next=G:this._drawFirst=G;delete c._order;delete this._layers[Sa(c)];this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c);c._project();c._update();this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c);this._requestRedraw(c)},_updateDashArray:function(c){if("string"===typeof c.options.dashArray){var m=c.options.dashArray.split(/[, ]+/),G=[],ia;for(ia=0;ia<m.length;ia++){var Ga=
Number(m[ia]);if(isNaN(Ga))return;G.push(Ga)}c.options._dashArray=G}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||mb(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var m=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new La;this._redrawBounds.extend(c._pxBounds.min.subtract([m,m]));this._redrawBounds.extend(c._pxBounds.max.add([m,m]))}},_redraw:function(){this._redrawRequest=
null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var m=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,m.x,m.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var c=this._redrawBounds;this._ctx.save();if(c){var m=c.getSize();this._ctx.beginPath();
this._ctx.rect(c.min.x,c.min.y,m.x,m.y);this._ctx.clip()}this._drawing=!0;for(var G=this._drawFirst;G;G=G.next)m=G.layer,(!c||m._pxBounds&&m._pxBounds.intersects(c))&&m._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(c,m){if(this._drawing){var G,ia,Ga=c._parts,Pb=Ga.length,Tb=this._ctx;if(Pb){Tb.beginPath();for(G=0;G<Pb;G++){var dc=0;for(ia=Ga[G].length;dc<ia;dc++){var vc=Ga[G][dc];Tb[dc?"lineTo":"moveTo"](vc.x,vc.y)}m&&Tb.closePath()}this._fillStroke(Tb,c)}}},_updateCircle:function(c){if(this._drawing&&
!c._empty()){var m=c._point,G=this._ctx,ia=Math.max(Math.round(c._radius),1),Ga=(Math.max(Math.round(c._radiusY),1)||ia)/ia;1!==Ga&&(G.save(),G.scale(1,Ga));G.beginPath();G.arc(m.x,m.y/Ga,ia,0,2*Math.PI,!1);1!==Ga&&G.restore();this._fillStroke(G,c)}},_fillStroke:function(c,m){var G=m.options;G.fill&&(c.globalAlpha=G.fillOpacity,c.fillStyle=G.fillColor||G.color,c.fill(G.fillRule||"evenodd"));G.stroke&&0!==G.weight&&(c.setLineDash&&c.setLineDash(m.options&&m.options._dashArray||[]),c.globalAlpha=G.opacity,
c.lineWidth=G.weight,c.strokeStyle=G.color,c.lineCap=G.lineCap,c.lineJoin=G.lineJoin,c.stroke())},_onClick:function(c){for(var m=this._map.mouseEventToLayerPoint(c),G,ia,Ga=this._drawFirst;Ga;Ga=Ga.next)G=Ga.layer,G.options.interactive&&G._containsPoint(m)&&("click"!==c.type&&"preclick"===c.type||!this._map._draggableMoved(G))&&(ia=G);ia&&(we(c),this._fireEvent([ia],c))},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var m=this._map.mouseEventToLayerPoint(c);
this._handleMouseHover(c,m)}},_handleMouseOut:function(c){var m=this._hoveredLayer;m&&(C(this._container,"leaflet-interactive"),this._fireEvent([m],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,m){if(!this._mouseHoverThrottled){for(var G,ia,Ga=this._drawFirst;Ga;Ga=Ga.next)G=Ga.layer,G.options.interactive&&G._containsPoint(m)&&(ia=G);ia!==this._hoveredLayer&&(this._handleMouseOut(c),ia&&(H(this._container,"leaflet-interactive"),this._fireEvent([ia],
c,"mouseover"),this._hoveredLayer=ia));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],c);this._mouseHoverThrottled=!0;setTimeout(ea(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,m,G){this._map._fireDOMEvent(m,G||m.type,c)},_bringToFront:function(c){var m=c._order;if(m){var G=m.next,ia=m.prev;G&&((G.prev=ia)?ia.next=G:G&&(this._drawFirst=G),m.prev=this._drawLast,this._drawLast.next=m,m.next=null,this._drawLast=m,this._requestRedraw(c))}},_bringToBack:function(c){var m=
c._order;if(m){var G=m.next,ia=m.prev;ia&&((ia.next=G)?G.prev=ia:ia&&(this._drawLast=ia),m.prev=null,m.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=m,this._requestRedraw(c))}}}),Tc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("\x3clvml:"+c+' class\x3d"lvml"\x3e')}}catch(c){return function(m){return document.createElement("\x3c"+m+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),Rc=
{_initContainer:function(){this._container=v("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gc.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var m=c._container=Tc("shape");H(m,"leaflet-vml-shape "+(this.options.className||""));m.coordsize="1 1";c._path=Tc("path");m.appendChild(c._path);this._updateStyle(c);this._layers[Sa(c)]=c},_addPath:function(c){var m=c._container;this._container.appendChild(m);c.options.interactive&&c.addInteractiveTarget(m)},
_removePath:function(c){var m=c._container;w(m);c.removeInteractiveTarget(m);delete this._layers[Sa(c)]},_updateStyle:function(c){var m=c._stroke,G=c._fill,ia=c.options,Ga=c._container;Ga.stroked=!!ia.stroke;Ga.filled=!!ia.fill;ia.stroke?(m||(m=c._stroke=Tc("stroke")),Ga.appendChild(m),m.weight=ia.weight+"px",m.color=ia.color,m.opacity=ia.opacity,m.dashStyle=ia.dashArray?Cc(ia.dashArray)?ia.dashArray.join(" "):ia.dashArray.replace(/( *, *)/g," "):"",m.endcap=ia.lineCap.replace("butt","flat"),m.joinstyle=
ia.lineJoin):m&&(Ga.removeChild(m),c._stroke=null);ia.fill?(G||(G=c._fill=Tc("fill")),Ga.appendChild(G),G.color=ia.fillColor||ia.color,G.opacity=ia.fillOpacity):G&&(Ga.removeChild(G),c._fill=null)},_updateCircle:function(c){var m=c._point.round(),G=Math.round(c._radius),ia=Math.round(c._radiusY||G);this._setPath(c,c._empty()?"M0 0":"AL "+m.x+","+m.y+" "+G+","+ia+" 0,23592600")},_setPath:function(c,m){c._path.v=m},_bringToFront:function(c){r(c._container)},_bringToBack:function(c){D(c._container)}},
yd=wa?Tc:$a,Md=gc.extend({getEvents:function(){var c=gc.prototype.getEvents.call(this);c.zoomstart=this._onZoomStart;return c},_initContainer:function(){this._container=yd("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=yd("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){w(this._container);Sc(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||
!this._bounds){gc.prototype._update.call(this);var c=this._bounds,m=c.getSize(),G=this._container;this._svgSize&&this._svgSize.equals(m)||(this._svgSize=m,G.setAttribute("width",m.x),G.setAttribute("height",m.y));ba(G,c.min);G.setAttribute("viewBox",[c.min.x,c.min.y,m.x,m.y].join(" "));this.fire("update")}},_initPath:function(c){var m=c._path=yd("path");c.options.className&&H(m,c.options.className);c.options.interactive&&H(m,"leaflet-interactive");this._updateStyle(c);this._layers[Sa(c)]=c},_addPath:function(c){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(c._path);c.addInteractiveTarget(c._path)},_removePath:function(c){w(c._path);c.removeInteractiveTarget(c._path);delete this._layers[Sa(c)]},_updatePath:function(c){c._project();c._update()},_updateStyle:function(c){var m=c._path;c=c.options;m&&(c.stroke?(m.setAttribute("stroke",c.color),m.setAttribute("stroke-opacity",c.opacity),m.setAttribute("stroke-width",c.weight),m.setAttribute("stroke-linecap",c.lineCap),m.setAttribute("stroke-linejoin",c.lineJoin),
c.dashArray?m.setAttribute("stroke-dasharray",c.dashArray):m.removeAttribute("stroke-dasharray"),c.dashOffset?m.setAttribute("stroke-dashoffset",c.dashOffset):m.removeAttribute("stroke-dashoffset")):m.setAttribute("stroke","none"),c.fill?(m.setAttribute("fill",c.fillColor||c.color),m.setAttribute("fill-opacity",c.fillOpacity),m.setAttribute("fill-rule",c.fillRule||"evenodd")):m.setAttribute("fill","none"))},_updatePoly:function(c,m){this._setPath(c,S(c._parts,m))},_updateCircle:function(c){var m=
c._point,G=Math.max(Math.round(c._radius),1),ia="a"+G+","+(Math.max(Math.round(c._radiusY),1)||G)+" 0 1,0 ";m=c._empty()?"M0 0":"M"+(m.x-G)+","+m.y+ia+2*G+",0 "+ia+2*-G+",0 ";this._setPath(c,m)},_setPath:function(c,m){c._path.setAttribute("d",m)},_bringToFront:function(c){r(c._path)},_bringToBack:function(c){D(c._path)}});wa&&Md.include(Rc);M.include({getRenderer:function(c){c=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;c||(c=this._renderer=this._createRenderer());
this.hasLayer(c)||this.addLayer(c);return c},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var m=this._paneRenderers[c];void 0===m&&(m=this._createRenderer({pane:c}),this._paneRenderers[c]=m);return m},_createRenderer:function(c){return this.options.preferCanvas&&tc(c)||Bc(c)}});var bd=tb.extend({initialize:function(c,m){tb.prototype.initialize.call(this,this._boundsToLatLngs(c),m)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},_boundsToLatLngs:function(c){c=
Ra(c);return[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});Md.create=yd;Md.pointsToPath=S;pb.geometryToLayer=gb;pb.coordsToLatLng=Zb;pb.coordsToLatLngs=Gb;pb.latLngToCoords=sc;pb.latLngsToCoords=kc;pb.getFeature=Oa;pb.asFeature=sb;M.mergeOptions({boxZoom:!0});var Sd=Qc.extend({initialize:function(c){this._map=c;this._container=c._container;this._pane=c._panes.overlayPane;this._resetStateTimeout=0;c.on("unload",this._destroy,this)},addHooks:function(){Dc(this._container,"mousedown",
this._onMouseDown,this)},removeHooks:function(){Sc(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){w(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState();this._resetState();
Te();eb();this._startPoint=this._map.mouseEventToContainerPoint(c);Dc(document,{contextmenu:$c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=v("div","leaflet-zoom-box",this._container),H(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(c);c=new La(this._point,this._startPoint);var m=c.getSize();ba(this._box,c.min);this._box.style.width=
m.x+"px";this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(w(this._box),C(this._container,"leaflet-crosshair"));Me();xb();Sc(document,{contextmenu:$c,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(1===c.which||1===c.button)this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(ea(this._resetState,this),0),c=new Aa(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),
this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c}))},_onKeyDown:function(c){27===c.keyCode&&this._finish()}});M.addInitHook("addHandler","boxZoom",Sd);M.mergeOptions({doubleClickZoom:!0});var je=Qc.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var m=this._map,G=m.getZoom(),ia=m.options.zoomDelta;G=c.originalEvent.shiftKey?G-ia:G+ia;"center"===m.options.doubleClickZoom?
m.setZoom(G):m.setZoomAround(c.containerPoint,G)}});M.addInitHook("addHandler","doubleClickZoom",je);M.mergeOptions({dragging:!0,inertia:!Bf,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var We=Qc.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new Td(c._mapPane,c._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,
this);c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}H(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){C(this._map._container,"leaflet-grab");C(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&
this._draggable._moving},_onDragStart:function(){var c=this._map;c._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var m=Ra(this._map.options.maxBounds);this._offsetLimit=ka(this._map.latLngToContainerPoint(m.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(m.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;c.fire("movestart").fire("dragstart");
c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var m=this._lastTime=+new Date,G=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(G);this._times.push(m);this._prunePositions(m)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;1<this._positions.length&&50<c-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=this._map.getSize().divideBy(2);this._initialWorldOffset=
this._map.latLngToLayerPoint([0,0]).subtract(c).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,m){return c-(c-m)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),m=this._offsetLimit;c.x<m.min.x&&(c.x=this._viscousLimit(c.x,m.min.x));c.y<m.min.y&&(c.y=this._viscousLimit(c.y,m.min.y));c.x>m.max.x&&(c.x=this._viscousLimit(c.x,m.max.x));c.y>m.max.y&&(c.y=this._viscousLimit(c.y,
m.max.y));this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,m=Math.round(c/2),G=this._initialWorldOffset,ia=this._draggable._newPos.x,Ga=(ia-m+G)%c+m-G;c=(ia+m+G)%c-m-G;G=Math.abs(Ga+G)<Math.abs(c+G)?Ga:c;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=G},_onDragEnd:function(c){var m=this._map,G=m.options,ia=!G.inertia||2>this._times.length;m.fire("dragend",c);if(ia)m.fire("moveend");else{this._prunePositions(+new Date);
c=this._lastPos.subtract(this._positions[0]);var Ga=G.easeLinearity;ia=c.multiplyBy(Ga/((this._lastTime-this._times[0])/1E3));var Pb=ia.distanceTo([0,0]);c=Math.min(G.inertiaMaxSpeed,Pb);ia=ia.multiplyBy(c/Pb);var Tb=c/(G.inertiaDeceleration*Ga),dc=ia.multiplyBy(-Tb/2).round();dc.x||dc.y?(dc=m._limitOffset(dc,m.options.maxBounds),mb(function(){m.panBy(dc,{duration:Tb,easeLinearity:Ga,noMoveStart:!0,animate:!0})})):m.fire("moveend")}}});M.addInitHook("addHandler","dragging",We);M.mergeOptions({keyboard:!0,
keyboardPanDelta:80});var pa=Qc.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c;this._setPanDelta(c.options.keyboardPanDelta);this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;0>=c.tabIndex&&(c.tabIndex="0");Dc(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();
Sc(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,m=document.documentElement,G=c.scrollTop||m.scrollTop;c=c.scrollLeft||m.scrollLeft;this._map._container.focus();window.scrollTo(c,G)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=!1;this._map.fire("blur")},_setPanDelta:function(c){var m=
this._panKeys={},G=this.keyCodes,ia;var Ga=0;for(ia=G.left.length;Ga<ia;Ga++)m[G.left[Ga]]=[-1*c,0];Ga=0;for(ia=G.right.length;Ga<ia;Ga++)m[G.right[Ga]]=[c,0];Ga=0;for(ia=G.down.length;Ga<ia;Ga++)m[G.down[Ga]]=[0,c];Ga=0;for(ia=G.up.length;Ga<ia;Ga++)m[G.up[Ga]]=[0,-1*c]},_setZoomDelta:function(c){var m=this._zoomKeys={},G=this.keyCodes,ia;var Ga=0;for(ia=G.zoomIn.length;Ga<ia;Ga++)m[G.zoomIn[Ga]]=c;Ga=0;for(ia=G.zoomOut.length;Ga<ia;Ga++)m[G.zoomOut[Ga]]=-c},_addHooks:function(){Dc(document,"keydown",
this._onKeyDown,this)},_removeHooks:function(){Sc(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var m=c.keyCode,G=this._map;if(m in this._panKeys)G._panAnim&&G._panAnim._inProgress||(m=this._panKeys[m],c.shiftKey&&(m=bb(m).multiplyBy(3)),G.panBy(m),G.options.maxBounds&&G.panInsideBounds(G.options.maxBounds));else if(m in this._zoomKeys)G.setZoom(G.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[m]);else if(27===m&&G._popup&&G._popup.options.closeOnEscapeKey)G.closePopup();
else return;$c(c)}}});M.addInitHook("addHandler","keyboard",pa);M.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pa=Qc.extend({addHooks:function(){Dc(this._map._container,"wheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){Sc(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var m=Dd(c),G=this._map.options.wheelDebounceTime;this._delta+=m;this._lastMousePos=this._map.mouseEventToContainerPoint(c);this._startTime||
(this._startTime=+new Date);m=Math.max(G-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(ea(this._performZoom,this),m);$c(c)},_performZoom:function(){var c=this._map,m=c.getZoom(),G=this._map.options.zoomSnap||0;c._stop();var ia=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;G=G?Math.ceil(ia/G)*G:ia;G=c._limitZoom(m+(0<this._delta?G:-G))-m;this._delta=0;this._startTime=null;G&&("center"===c.options.scrollWheelZoom?
c.setZoom(m+G):c.setZoomAround(this._lastMousePos,m+G))}});M.addInitHook("addHandler","scrollWheelZoom",Pa);M.mergeOptions({tap:!0,tapTolerance:15});var qb=Qc.extend({addHooks:function(){Dc(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Sc(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(c.touches)if(Xc(c),this._fireClick=!0,1<c.touches.length)this._fireClick=!1,clearTimeout(this._holdTimeout);else{var m=c.touches[0];c=m.target;this._startPos=
this._newPos=new Ca(m.clientX,m.clientY);c.tagName&&"a"===c.tagName.toLowerCase()&&H(c,"leaflet-active");this._holdTimeout=setTimeout(ea(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",m))},this),1E3);this._simulateEvent("mousedown",m);Dc(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(c){clearTimeout(this._holdTimeout);Sc(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&c&&c.changedTouches){c=
c.changedTouches[0];var m=c.target;m&&m.tagName&&"a"===m.tagName.toLowerCase()&&C(m,"leaflet-active");this._simulateEvent("mouseup",c);this._isTapValid()&&this._simulateEvent("click",c)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(c){c=c.touches[0];this._newPos=new Ca(c.clientX,c.clientY);this._simulateEvent("mousemove",c)},_simulateEvent:function(c,m){var G=document.createEvent("MouseEvents");G._simulated=!0;m.target._simulatedClick=
!0;G.initMouseEvent(c,!0,!0,window,1,m.screenX,m.screenY,m.clientX,m.clientY,!1,!1,!1,!1,0,null);m.target.dispatchEvent(G)}});!Ke||pe&&!Ld||M.addInitHook("addHandler","tap",qb);M.mergeOptions({touchZoom:Ke&&!Bf,bounceAtZoomLimits:!0});var Cb=Qc.extend({addHooks:function(){H(this._map._container,"leaflet-touch-zoom");Dc(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){C(this._map._container,"leaflet-touch-zoom");Sc(this._map._container,"touchstart",this._onTouchStart,
this)},_onTouchStart:function(c){var m=this._map;if(c.touches&&2===c.touches.length&&!m._animatingZoom&&!this._zooming){var G=m.mouseEventToContainerPoint(c.touches[0]),ia=m.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=m.getSize()._divideBy(2);this._startLatLng=m.containerPointToLatLng(this._centerPoint);"center"!==m.options.touchZoom&&(this._pinchStartLatLng=m.containerPointToLatLng(G.add(ia)._divideBy(2)));this._startDist=G.distanceTo(ia);this._startZoom=m.getZoom();this._moved=!1;
this._zooming=!0;m._stop();Dc(document,"touchmove",this._onTouchMove,this);Dc(document,"touchend",this._onTouchEnd,this);Xc(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var m=this._map,G=m.mouseEventToContainerPoint(c.touches[0]),ia=m.mouseEventToContainerPoint(c.touches[1]),Ga=G.distanceTo(ia)/this._startDist;this._zoom=m.getScaleZoom(Ga,this._startZoom);!m.options.bounceAtZoomLimits&&(this._zoom<m.getMinZoom()&&1>Ga||this._zoom>m.getMaxZoom()&&1<Ga)&&(this._zoom=
m._limitZoom(this._zoom));if("center"===m.options.touchZoom){if(this._center=this._startLatLng,1===Ga)return}else{G=G._add(ia)._divideBy(2)._subtract(this._centerPoint);if(1===Ga&&0===G.x&&0===G.y)return;this._center=m.unproject(m.project(this._pinchStartLatLng,this._zoom).subtract(G),this._zoom)}this._moved||(m._moveStart(!0,!1),this._moved=!0);Da(this._animRequest);m=ea(m._move,m,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=mb(m,this,!0);Xc(c)}},_onTouchEnd:function(){this._moved&&
this._zooming?(this._zooming=!1,Da(this._animRequest),Sc(document,"touchmove",this._onTouchMove,this),Sc(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});M.addInitHook("addHandler","touchZoom",Cb);M.BoxZoom=Sd;M.DoubleClickZoom=je;M.Drag=We;M.Keyboard=pa;M.ScrollWheelZoom=Pa;M.Tap=qb;M.TouchZoom=
Cb;n.version="1.7.1";n.Control=fa;n.control=kb;n.Browser=Ka;n.Evented=qd;n.Mixin=Kc;n.Util=Uc;n.Class=Fa;n.Handler=Qc;n.extend=x;n.bind=ea;n.stamp=Sa;n.setOptions=ob;n.DomEvent=ag;n.DomUtil=Ue;n.PosAnimation=df;n.Draggable=Td;n.LineUtil=af;n.PolyUtil=Pd;n.Point=Ca;n.point=bb;n.Bounds=La;n.bounds=ka;n.Transformation=db;n.transformation=nb;n.Projection=ze;n.LatLng=Ya;n.latLng=ib;n.LatLngBounds=Aa;n.latLngBounds=Ra;n.CRS=Ed;n.GeoJSON=pb;n.geoJSON=Lb;n.geoJson=Lb;n.Layer=Ce;n.LayerGroup=Kf;n.layerGroup=
function(c,m){return new Kf(c,m)};n.FeatureGroup=ef;n.featureGroup=function(c,m){return new ef(c,m)};n.ImageOverlay=Eb;n.imageOverlay=function(c,m,G){return new Eb(c,m,G)};n.VideoOverlay=Yb;n.videoOverlay=function(c,m,G){return new Yb(c,m,G)};n.SVGOverlay=pc;n.svgOverlay=function(c,m,G){return new pc(c,m,G)};n.DivOverlay=u;n.Popup=F;n.popup=function(c,m){return new F(c,m)};n.Tooltip=ca;n.tooltip=function(c,m){return new ca(c,m)};n.Icon=gg;n.icon=function(c){return new gg(c)};n.DivIcon=na;n.divIcon=
function(c){return new na(c)};n.Marker=aa;n.marker=function(c,m){return new aa(c,m)};n.TileLayer=Ib;n.tileLayer=hc;n.GridLayer=lb;n.gridLayer=function(c){return new lb(c)};n.SVG=Md;n.svg=Bc;n.Renderer=gc;n.Canvas=zc;n.canvas=tc;n.Path=ja;n.CircleMarker=ya;n.circleMarker=function(c,m){return new ya(c,m)};n.Circle=Ea;n.circle=function(c,m,G){return new Ea(c,m,G)};n.Polyline=ab;n.polyline=function(c,m){return new ab(c,m)};n.Polygon=tb;n.polygon=function(c,m){return new tb(c,m)};n.Rectangle=bd;n.rectangle=
function(c,m){return new bd(c,m)};n.Map=M;n.map=function(c,m){return new M(c,m)};var Ub=window.L;n.noConflict=function(){window.L=Ub;return this};window.L=n})};
shadow$provide[71]=function($b,Rb,Ic,Nb){(function(n,x){"object"===typeof Nb&&"undefined"!==typeof Ic?Ic.exports=x():"function"===typeof define&&define.amd?define(x):(n=n||self,n.CodeMirror=x())})(this,function(){function n(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function x(a){for(var f=a.childNodes.length;0<f;--f)a.removeChild(a.firstChild);return a}function ea(a,f){return x(a).appendChild(f)}function Sa(a,f,t,q){a=document.createElement(a);t&&(a.className=t);q&&(a.style.cssText=q);if("string"==
typeof f)a.appendChild(document.createTextNode(f));else if(f)for(t=0;t<f.length;++t)a.appendChild(f[t]);return a}function Wb(a,f,t,q){a=Sa(a,f,t,q);a.setAttribute("role","presentation");return a}function fb(a,f){3==f.nodeType&&(f=f.parentNode);if(a.contains)return a.contains(f);do if(11==f.nodeType&&(f=f.host),f==a)return!0;while(f=f.parentNode)}function ub(){try{var a=document.activeElement}catch(f){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;
return a}function Ob(a,f){var t=a.className;n(f).test(t)||(a.className+=(t?" ":"")+f)}function zb(a,f){a=a.split(" ");for(var t=0;t<a.length;t++)a[t]&&!n(a[t]).test(f)&&(f+=" "+a[t]);return f}function cb(a){var f=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,f)}}function ob(a,f,t){f||(f={});for(var q in a)!a.hasOwnProperty(q)||!1===t&&f.hasOwnProperty(q)||(f[q]=a[q]);return f}function rb(a,f,t,q,y){null==f&&(f=a.search(/[^\s\u00a0]/),-1==f&&(f=a.length));q=q||0;for(y=
y||0;;){var X=a.indexOf("\t",q);if(0>X||X>=f)return y+(f-q);y+=X-q;y+=t-y%t;q=X+1}}function Xa(a,f){for(var t=0;t<a.length;++t)if(a[t]==f)return t;return-1}function Ha(a,f,t){for(var q=0,y=0;;){var X=a.indexOf("\t",q);-1==X&&(X=a.length);var qa=X-q;if(X==a.length||y+qa>=f)return q+Math.min(qa,f-y);y+=X-q;y+=t-y%t;q=X+1;if(y>=f)return q}}function Ia(a){for(;mj.length<=a;)mj.push(Za(mj)+" ");return mj[a]}function Za(a){return a[a.length-1]}function mb(a,f){for(var t=[],q=0;q<a.length;q++)t[q]=f(a[q],
q);return t}function Da(a,f,t){for(var q=0,y=t(f);q<a.length&&t(a[q])<=y;)q++;a.splice(q,0,f)}function Fa(){}function hb(a,f){Object.create?a=Object.create(a):(Fa.prototype=a,a=new Fa);f&&ob(f,a);return a}function Ca(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||mk.test(a))}function bb(a,f){return f?-1<f.source.indexOf("\\w")&&Ca(a)?!0:f.test(a):Ca(a)}function La(a){for(var f in a)if(a.hasOwnProperty(f)&&a[f])return!1;return!0}function ka(a){return 768<=a.charCodeAt(0)&&wj.test(a)}
function Aa(a,f,t){for(;(0>t?0<f:f<a.length)&&ka(a.charAt(f));)f+=t;return f}function Ra(a,f,t){for(var q=f>t?-1:1;;){if(f==t)return f;var y=(f+t)/2;y=0>q?Math.ceil(y):Math.floor(y);if(y==f)return a(y)?f:t;a(y)?t=y:f=y+q}}function Ya(a,f,t,q){if(!a)return q(f,t,"ltr",0);for(var y=!1,X=0;X<a.length;++X){var qa=a[X];if(qa.from<t&&qa.to>f||f==t&&qa.to==f)q(Math.max(qa.from,f),Math.min(qa.to,t),1==qa.level?"rtl":"ltr",X),y=!0}y||q(f,t,"ltr")}function ib(a,f,t){var q;Li=null;for(var y=0;y<a.length;++y){var X=
a[y];if(X.from<f&&X.to>f)return y;X.to==f&&(X.from!=X.to&&"before"==t?q=y:Li=y);X.from==f&&(X.from!=X.to&&"before"!=t?q=y:Li=y)}return null!=q?q:Li}function db(a,f){var t=a.order;null==t&&(t=a.order=ni(a.text,f));return t}function nb(a,f,t){if(a.removeEventListener)a.removeEventListener(f,t,!1);else if(a.detachEvent)a.detachEvent("on"+f,t);else{var q=(a=a._handlers)&&a[f];q&&(t=Xa(q,t),-1<t&&(a[f]=q.slice(0,t).concat(q.slice(t+1))))}}function $a(a,f){var t=a._handlers&&a._handlers[f]||yh;if(t.length)for(var q=
Array.prototype.slice.call(arguments,2),y=0;y<t.length;++y)t[y].apply(null,q)}function S(a,f,t){"string"==typeof f&&(f={type:f,preventDefault:function(){this.defaultPrevented=!0}});$a(a,t||f.type,a,f);return Y(f)||f.codemirrorIgnore}function z(a){var f=a._handlers&&a._handlers.cursorActivity;if(f){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var t=0;t<f.length;++t)-1==Xa(a,f[t])&&a.push(f[t])}}function I(a,f){return 0<(a._handlers&&a._handlers[f]||yh).length}function Q(a){a.prototype.on=
function(f,t){Ge(this,f,t)};a.prototype.off=function(f,t){nb(this,f,t)}}function J(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function W(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Y(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function ma(a){J(a);W(a)}function Qa(a){var f=a.which;null==f&&(a.button&1?f=1:a.button&2?f=3:a.button&4&&(f=2));Wg&&a.ctrlKey&&1==f&&(f=3);return f}function Ua(a){if(null==xi){var f=Sa("span","");ea(a,Sa("span",
[f,document.createTextNode("x")]));0!=a.firstChild.offsetHeight&&(xi=1>=f.offsetWidth&&2<f.offsetHeight&&!(nf&&8>sf))}a=xi?Sa("span",""):Sa("span","",null,"display: inline-block; width: 1px; margin-right: -1px");a.setAttribute("cm-text","");return a}function U(a,f){2<arguments.length&&(f.dependencies=Array.prototype.slice.call(arguments,2));Ah[a]=f}function sa(a){if("string"==typeof a&&Bh.hasOwnProperty(a))a=Bh[a];else if(a&&"string"==typeof a.name&&Bh.hasOwnProperty(a.name)){var f=Bh[a.name];"string"==
typeof f&&(f={name:f});a=hb(f,a);a.name=f.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return sa("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return sa("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function ua(a,f){f=sa(f);var t=Ah[f.name];if(!t)return ua(a,"text/plain");a=t(a,f);if(ch.hasOwnProperty(f.name)){t=ch[f.name];for(var q in t)t.hasOwnProperty(q)&&(a.hasOwnProperty(q)&&(a["_"+q]=a[q]),a[q]=t[q])}a.name=f.name;
f.helperType&&(a.helperType=f.helperType);if(f.modeProps)for(var y in f.modeProps)a[y]=f.modeProps[y];return a}function la(a,f){a=ch.hasOwnProperty(a)?ch[a]:ch[a]={};ob(f,a)}function T(a,f){if(!0===f)return f;if(a.copyState)return a.copyState(f);a={};for(var t in f){var q=f[t];q instanceof Array&&(q=q.concat([]));a[t]=q}return a}function v(a,f){for(var t;a.innerMode;){t=a.innerMode(f);if(!t||t.mode==a)break;f=t.state;a=t.mode}return t||{mode:a,state:f}}function w(a,f,t){return a.startState?a.startState(f,
t):!0}function p(a,f){f-=a.first;if(0>f||f>=a.size)throw Error("There is no line "+(f+a.first)+" in the document.");for(;!a.lines;)for(var t=0;;++t){var q=a.children[t],y=q.chunkSize();if(f<y){a=q;break}f-=y}return a.lines[f]}function r(a,f,t){var q=[],y=f.line;a.iter(f.line,t.line+1,function(X){X=X.text;y==t.line&&(X=X.slice(0,t.ch));y==f.line&&(X=X.slice(f.ch));q.push(X);++y});return q}function D(a,f,t){var q=[];a.iter(f,t,function(y){q.push(y.text)});return q}function E(a,f){if(f-=a.height)for(;a;a=
a.parent)a.height+=f}function H(a){if(null==a.parent)return null;var f=a.parent;a=Xa(f.lines,a);for(var t=f.parent;t;f=t,t=t.parent)for(var q=0;t.children[q]!=f;++q)a+=t.children[q].chunkSize();return a+f.first}function C(a,f){var t=a.first;a:do{for(var q=0;q<a.children.length;++q){var y=a.children[q],X=y.height;if(f<X){a=y;continue a}f-=X;t+=y.chunkSize()}return t}while(!a.lines);for(q=0;q<a.lines.length;++q){y=a.lines[q].height;if(f<y)break;f-=y}return t+q}function ha(a,f){return f>=a.first&&f<
a.first+a.size}function xa(a,f){return String(a.lineNumberFormatter(f+a.firstLineNumber))}function oa(a,f,t){void 0===t&&(t=null);if(!(this instanceof oa))return new oa(a,f,t);this.line=a;this.ch=f;this.sticky=t}function Va(a,f){return a.line-f.line||a.ch-f.ch}function Ja(a,f){return a.sticky==f.sticky&&0==Va(a,f)}function ba(a){return oa(a.line,a.ch)}function ta(a,f){return 0>Va(a,f)?f:a}function eb(a,f){return 0>Va(a,f)?a:f}function xb(a,f){if(f.line<a.first)return oa(a.first,0);var t=a.first+a.size-
1;if(f.line>t)return oa(t,p(a,t).text.length);a=p(a,f.line).text.length;t=f.ch;f=null==t||t>a?oa(f.line,a):0>t?oa(f.line,0):f;return f}function Kb(a,f){for(var t=[],q=0;q<f.length;q++)t[q]=xb(a,f[q]);return t}function fc(a,f,t,q){var y=[a.state.modeGen],X={};wc(a,f.text,a.doc.mode,t,function(jb,Bb){return y.push(jb,Bb)},X,q);var qa=t.state;q=function(jb){t.baseTokens=y;var Bb=a.state.overlays[jb],Xb=1,Hc=0;t.state=!0;wc(a,f.text,Bb.mode,t,function(qc,oc){for(var ed=Xb;Hc<qc;){var Od=y[Xb];Od>qc&&
y.splice(Xb,1,qc,y[Xb+1],Od);Xb+=2;Hc=Math.min(qc,Od)}if(oc)if(Bb.opaque)y.splice(ed,Xb-ed,qc,"overlay "+oc),Xb=ed+2;else for(;ed<Xb;ed+=2)qc=y[ed+1],y[ed+1]=(qc?qc+" ":"")+"overlay "+oc},X);t.state=qa;t.baseTokens=null;t.baseTokenPos=1};for(var ra=0;ra<a.state.overlays.length;++ra)q(ra);return{styles:y,classes:X.bgClass||X.textClass?X:null}}function Ec(a,f,t){if(!f.styles||f.styles[0]!=a.state.modeGen){var q=gd(a,H(f)),y=f.text.length>a.options.maxHighlightLength&&T(a.doc.mode,q.state),X=fc(a,f,
q);y&&(q.state=y);f.stateAfter=q.save(!y);f.styles=X.styles;X.classes?f.styleClasses=X.classes:f.styleClasses&&(f.styleClasses=null);t===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return f.styles}function gd(a,f,t){var q=a.doc,y=a.display;if(!q.mode.startState)return new kh(q,!0,f);var X=Pc(a,f,t),qa=X>q.first&&p(q,X-1).stateAfter,ra=qa?kh.fromSaved(q,qa,X):new kh(q,w(q.mode),X);q.iter(X,f,function(jb){Dc(a,jb.text,ra);var Bb=ra.line;jb.stateAfter=
Bb==f-1||0==Bb%5||Bb>=y.viewFrom&&Bb<y.viewTo?ra.save():null;ra.nextLine()});t&&(q.modeFrontier=ra.line);return ra}function Dc(a,f,t,q){var y=a.doc.mode;a=new Xf(f,a.options.tabSize,t);a.start=a.pos=q||0;for(""==f&&Sc(y,t.state);!a.eol();)Ta(y,a,t.state),a.start=a.pos}function Sc(a,f){if(a.blankLine)return a.blankLine(f);if(a.innerMode&&(a=v(a,f),a.mode.blankLine))return a.mode.blankLine(a.state)}function Ta(a,f,t,q){for(var y=0;10>y;y++){q&&(q[0]=v(a,t).mode);var X=a.token(f,t);if(f.pos>f.start)return X}throw Error("Mode "+
a.name+" failed to advance stream.");}function nc(a,f,t,q){var y=a.doc,X=y.mode;f=xb(y,f);var qa=p(y,f.line);t=gd(a,f.line,t);a=new Xf(qa.text,a.options.tabSize,t);var ra;for(q&&(ra=[]);(q||a.pos<f.ch)&&!a.eol();){a.start=a.pos;var jb=Ta(X,a,t.state);q&&ra.push(new Dj(a,jb,T(y.mode,t.state)))}return q?ra:new Dj(a,jb,t.state)}function lc(a,f){if(a)for(;;){var t=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!t)break;a=a.slice(0,t.index)+a.slice(t.index+t[0].length);var q=t[1]?"bgClass":"textClass";
null==f[q]?f[q]=t[2]:(new RegExp("(?:^|\\s)"+t[2]+"(?:$|\\s)")).test(f[q])||(f[q]+=" "+t[2])}return a}function wc(a,f,t,q,y,X,qa){var ra=t.flattenSpans;null==ra&&(ra=a.options.flattenSpans);var jb=0,Bb=null,Xb=new Xf(f,a.options.tabSize,q),Hc=a.options.addModeClass&&[null];for(""==f&&lc(Sc(t,q.state),X);!Xb.eol();){if(Xb.pos>a.options.maxHighlightLength){ra=!1;qa&&Dc(a,f,q,Xb.pos);Xb.pos=f.length;var qc=null}else qc=lc(Ta(t,Xb,q.state,Hc),X);if(Hc){var oc=Hc[0].name;oc&&(qc="m-"+(qc?oc+" "+qc:oc))}if(!ra||
Bb!=qc){for(;jb<Xb.start;)jb=Math.min(Xb.start,jb+5E3),y(jb,Bb);Bb=qc}Xb.start=Xb.pos}for(;jb<Xb.pos;)a=Math.min(Xb.pos,jb+5E3),y(a,Bb),jb=a}function Pc(a,f,t){for(var q,y,X=a.doc,qa=t?-1:f-(a.doc.mode.innerMode?1E3:100);f>qa;--f){if(f<=X.first)return X.first;var ra=p(X,f-1),jb=ra.stateAfter;if(jb&&(!t||f+(jb instanceof nj?jb.lookAhead:0)<=X.modeFrontier))return f;ra=rb(ra.text,null,a.options.tabSize);if(null==y||q>ra)y=f-1,q=ra}return y}function rc(a,f){a.modeFrontier=Math.min(a.modeFrontier,f);
if(!(a.highlightFrontier<f-10)){for(var t=a.first,q=f-1;q>t;q--){var y=p(a,q).stateAfter;if(y&&(!(y instanceof nj)||q+y.lookAhead<f)){t=q+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,t)}}function Xc(a,f,t){this.marker=a;this.from=f;this.to=t}function $c(a,f){if(a)for(var t=0;t<a.length;++t){var q=a[t];if(q.marker==f)return q}}function Nc(a,f){if(f.full)return null;var t=ha(a,f.from.line)&&p(a,f.from.line).markedSpans,q=ha(a,f.to.line)&&p(a,f.to.line).markedSpans;if(!t&&!q)return null;
a=f.from.ch;var y=f.to.ch,X=0==Va(f.from,f.to),qa;if(t)for(var ra=0;ra<t.length;++ra){var jb=t[ra],Bb=jb.marker;if(null==jb.from||(Bb.inclusiveLeft?jb.from<=a:jb.from<a)||!(jb.from!=a||"bookmark"!=Bb.type||X&&jb.marker.insertLeft)){var Xb=null==jb.to||(Bb.inclusiveRight?jb.to>=a:jb.to>a);(qa||(qa=[])).push(new Xc(Bb,jb.from,Xb?null:jb.to))}}t=qa;var Hc;if(q)for(qa=0;qa<q.length;++qa)if(ra=q[qa],jb=ra.marker,null==ra.to||(jb.inclusiveRight?ra.to>=y:ra.to>y)||ra.from==y&&"bookmark"==jb.type&&(!X||ra.marker.insertLeft))Bb=
null==ra.from||(jb.inclusiveLeft?ra.from<=y:ra.from<y),(Hc||(Hc=[])).push(new Xc(jb,Bb?null:ra.from-y,null==ra.to?null:ra.to-y));q=1==f.text.length;y=Za(f.text).length+(q?a:0);if(t)for(X=0;X<t.length;++X)if(qa=t[X],null==qa.to)(ra=$c(Hc,qa.marker),ra)?q&&(qa.to=null==ra.to?null:ra.to+y):qa.to=a;if(Hc)for(a=0;a<Hc.length;++a)X=Hc[a],null!=X.to&&(X.to+=y),null==X.from?$c(t,X.marker)||(X.from=y,q&&(t||(t=[])).push(X)):(X.from+=y,q&&(t||(t=[])).push(X));t&&(t=Dd(t));Hc&&Hc!=t&&(Hc=Dd(Hc));a=[t];if(!q){f=
f.text.length-2;var qc;if(0<f&&t)for(q=0;q<t.length;++q)null==t[q].to&&(qc||(qc=[])).push(new Xc(t[q].marker,null,null));for(t=0;t<f;++t)a.push(qc);a.push(Hc)}return a}function Dd(a){for(var f=0;f<a.length;++f){var t=a[f];null!=t.from&&t.from==t.to&&!1!==t.marker.clearWhenEmpty&&a.splice(f--,1)}return a.length?a:null}function we(a,f,t){var q=null;a.iter(f.line,t.line+1,function(Xb){if(Xb.markedSpans)for(var Hc=0;Hc<Xb.markedSpans.length;++Hc){var qc=Xb.markedSpans[Hc].marker;!qc.readOnly||q&&-1!=
Xa(q,qc)||(q||(q=[])).push(qc)}});if(!q)return null;a=[{from:f,to:t}];for(f=0;f<q.length;++f){t=q[f];for(var y=t.find(0),X=0;X<a.length;++X){var qa=a[X];if(!(0>Va(qa.to,y.from)||0<Va(qa.from,y.to))){var ra=[X,1],jb=Va(qa.from,y.from),Bb=Va(qa.to,y.to);(0>jb||!t.inclusiveLeft&&!jb)&&ra.push({from:qa.from,to:y.from});(0<Bb||!t.inclusiveRight&&!Bb)&&ra.push({from:y.to,to:qa.to});a.splice.apply(a,ra);X+=ra.length-3}}}return a}function ld(a){var f=a.markedSpans;if(f){for(var t=0;t<f.length;++t)f[t].marker.detachLine(a);
a.markedSpans=null}}function sd(a,f){if(f){for(var t=0;t<f.length;++t)f[t].marker.attachLine(a);a.markedSpans=f}}function ge(a,f){var t=a.lines.length-f.lines.length;if(0!=t)return t;t=a.find();var q=f.find(),y=Va(t.from,q.from)||(a.inclusiveLeft?-1:0)-(f.inclusiveLeft?-1:0);return y?-y:(t=Va(t.to,q.to)||(a.inclusiveRight?1:0)-(f.inclusiveRight?1:0))?t:f.id-a.id}function Ma(a,f){a=ai&&a.markedSpans;if(a)for(var t,q=0;q<a.length;++q)if(t=a[q],t.marker.collapsed&&null==(f?t.from:t.to)&&(!y||0>ge(y,
t.marker)))var y=t.marker;return y}function vb(a,f,t,q,y){a=p(a,f);if(a=ai&&a.markedSpans)for(f=0;f<a.length;++f){var X=a[f];if(X.marker.collapsed){var qa=X.marker.find(0),ra=Va(qa.from,t)||(X.marker.inclusiveLeft?-1:0)-(y.inclusiveLeft?-1:0),jb=Va(qa.to,q)||(X.marker.inclusiveRight?1:0)-(y.inclusiveRight?1:0);if(!(0<=ra&&0>=jb||0>=ra&&0<=jb)&&(0>=ra&&(X.marker.inclusiveRight&&y.inclusiveLeft?0<=Va(qa.to,t):0<Va(qa.to,t))||0<=ra&&(X.marker.inclusiveRight&&y.inclusiveLeft?0>=Va(qa.from,q):0>Va(qa.from,
q))))return!0}}}function ac(a){for(var f;f=Ma(a,!0);)a=f.find(-1,!0).line;return a}function rd(a,f){a=p(a,f);var t=ac(a);return a==t?f:H(t)}function vd(a,f){if(f>a.lastLine())return f;var t=p(a,f);if(!de(a,t))return f;for(;a=Ma(t,!1);)t=a.find(1,!0).line;return H(t)+1}function de(a,f){var t=ai&&f.markedSpans;if(t)for(var q,y=0;y<t.length;++y)if(q=t[y],q.marker.collapsed&&(null==q.from||!q.marker.widgetNode&&0==q.from&&q.marker.inclusiveLeft&&oe(a,f,q)))return!0}function oe(a,f,t){if(null==t.to)return f=
t.marker.find(1,!0),oe(a,f.line,$c(f.line.markedSpans,t.marker));if(t.marker.inclusiveRight&&t.to==f.text.length)return!0;for(var q,y=0;y<f.markedSpans.length;++y)if(q=f.markedSpans[y],q.marker.collapsed&&!q.marker.widgetNode&&q.from==t.to&&(null==q.to||q.to!=t.from)&&(q.marker.inclusiveLeft||t.marker.inclusiveRight)&&oe(a,f,q))return!0}function Z(a){a=ac(a);for(var f=0,t=a.parent,q=0;q<t.lines.length;++q){var y=t.lines[q];if(y==a)break;else f+=y.height}for(a=t.parent;a;t=a,a=t.parent)for(q=0;q<a.children.length&&
(y=a.children[q],y!=t);++q)f+=y.height;return f}function za(a){if(0==a.height)return 0;for(var f=a.text.length,t,q=a;t=Ma(q,!0);)t=t.find(0,!0),q=t.from.line,f+=t.from.ch-t.to.ch;for(q=a;t=Ma(q,!1);)a=t.find(0,!0),f-=q.text.length-a.from.ch,q=a.to.line,f+=q.text.length-a.to.ch;return f}function gb(a){var f=a.display;a=a.doc;f.maxLine=p(a,a.first);f.maxLineLength=za(f.maxLine);f.maxLineChanged=!0;a.iter(function(t){var q=za(t);q>f.maxLineLength&&(f.maxLineLength=q,f.maxLine=t)})}function Db(a,f){if(!a||
/^\s*$/.test(a))return null;f=f.addModeClass?Uj:nk;return f[a]||(f[a]=a.replace(/\S+/g,"cm-$\x26"))}function Zb(a,f){var t=Wb("span",null,null,yf?"padding-right: .1px":null);t={pre:Wb("pre",[t],"CodeMirror-line"),content:t,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};f.measure={};for(var q=0;q<=(f.rest?f.rest.length:0);q++){var y=q?f.rest[q-1]:f.line,X=void 0;t.pos=0;t.addToken=sc;var qa=a.display.measure;if(null!=Ri)qa=Ri;else{var ra=ea(qa,document.createTextNode("AA")),
jb=vi(ra,0,1).getBoundingClientRect();ra=vi(ra,1,2).getBoundingClientRect();x(qa);qa=jb&&jb.left!=jb.right?Ri=3>ra.right-jb.right:!1}qa&&(X=db(y,a.doc.direction))&&(t.addToken=kc(t.addToken,X));t.map=[];var Bb=f!=a.display.externalMeasured&&H(y);a:{var Xb=ra=jb=qa=void 0,Hc=void 0,qc=void 0,oc=void 0;X=t;Bb=Ec(a,y,Bb);var ed=y.markedSpans,Od=y.text,He=0;if(ed)for(var xf=Od.length,ve=0,Nf=1,Af="",Tf=0;;){if(Tf==ve){Hc=Xb=ra=qc="";jb=qa=null;Tf=Infinity;for(var Wf=[],jf=void 0,Uf=0;Uf<ed.length;++Uf){var Ff=
ed[Uf],Of=Ff.marker;if("bookmark"==Of.type&&Ff.from==ve&&Of.widgetNode)Wf.push(Of);else if(Ff.from<=ve&&(null==Ff.to||Ff.to>ve||Of.collapsed&&Ff.to==ve&&Ff.from==ve)){null!=Ff.to&&Ff.to!=ve&&Tf>Ff.to&&(Tf=Ff.to,Xb="");Of.className&&(Hc+=" "+Of.className);Of.css&&(qc=(qc?qc+";":"")+Of.css);Of.startStyle&&Ff.from==ve&&(ra+=" "+Of.startStyle);Of.endStyle&&Ff.to==Tf&&(jf||(jf=[])).push(Of.endStyle,Ff.to);Of.title&&((qa||(qa={})).title=Of.title);if(Of.attributes)for(var Jg in Of.attributes)(qa||(qa={}))[Jg]=
Of.attributes[Jg];Of.collapsed&&(!jb||0>ge(jb.marker,Of))&&(jb=Ff)}else Ff.from>ve&&Tf>Ff.from&&(Tf=Ff.from)}if(jf)for(Uf=0;Uf<jf.length;Uf+=2)jf[Uf+1]==Tf&&(Xb+=" "+jf[Uf]);if(!jb||jb.from==ve)for(jf=0;jf<Wf.length;++jf)Oa(X,0,Wf[jf]);if(jb&&(jb.from||0)==ve){Oa(X,(null==jb.to?xf+1:jb.to)-ve,jb.marker,null==jb.from);if(null==jb.to)break a;jb.to==ve&&(jb=!1)}}if(ve>=xf)break;for(Wf=Math.min(xf,Tf);;){if(Af){jf=ve+Af.length;jb||(Uf=jf>Wf?Af.slice(0,Wf-ve):Af,X.addToken(X,Uf,oc?oc+Hc:Hc,ra,ve+Uf.length==
Tf?Xb:"",qc,qa));if(jf>=Wf){Af=Af.slice(Wf-ve);ve=Wf;break}ve=jf;ra=""}Af=Od.slice(He,He=Bb[Nf++]);oc=Db(Bb[Nf++],X.cm.options)}}else for(qa=1;qa<Bb.length;qa+=2)X.addToken(X,Od.slice(He,He=Bb[qa]),Db(Bb[qa+1],X.cm.options))}y.styleClasses&&(y.styleClasses.bgClass&&(t.bgClass=zb(y.styleClasses.bgClass,t.bgClass||"")),y.styleClasses.textClass&&(t.textClass=zb(y.styleClasses.textClass,t.textClass||"")));0==t.map.length&&t.map.push(0,0,t.content.appendChild(Ua(a.display.measure)));0==q?(f.measure.map=
t.map,f.measure.cache={}):((f.measure.maps||(f.measure.maps=[])).push(t.map),(f.measure.caches||(f.measure.caches=[])).push({}))}yf&&(Jg=t.content.lastChild,/\bcm-tab\b/.test(Jg.className)||Jg.querySelector&&Jg.querySelector(".cm-tab"))&&(t.content.className="cm-tab-wrap-hack");$a(a,"renderLine",a,f.line,t.pre);t.pre.className&&(t.textClass=zb(t.pre.className,t.textClass||""));return t}function Gb(a){var f=Sa("span","","cm-invalidchar");f.title="\\u"+a.charCodeAt(0).toString(16);f.setAttribute("aria-label",
f.title);return f}function sc(a,f,t,q,y,X,qa){if(f){if(a.splitSpaces){var ra=a.trailingSpace;if(1<f.length&&!/  /.test(f))ra=f;else{for(var jb="",Bb=0;Bb<f.length;Bb++){var Xb=f.charAt(Bb);" "!=Xb||!ra||Bb!=f.length-1&&32!=f.charCodeAt(Bb+1)||(Xb="");jb+=Xb;ra=" "==Xb}ra=jb}}else ra=f;jb=ra;Bb=a.cm.state.specialChars;Xb=!1;if(Bb.test(f)){ra=document.createDocumentFragment();for(var Hc=0;;){Bb.lastIndex=Hc;var qc=Bb.exec(f),oc=qc?qc.index-Hc:f.length-Hc;if(oc){var ed=document.createTextNode(jb.slice(Hc,
Hc+oc));nf&&9>sf?ra.appendChild(Sa("span",[ed])):ra.appendChild(ed);a.map.push(a.pos,a.pos+oc,ed);a.col+=oc;a.pos+=oc}if(!qc)break;Hc+=oc+1;"\t"==qc[0]?(qc=a.cm.options.tabSize,qc-=a.col%qc,oc=ra.appendChild(Sa("span",Ia(qc),"cm-tab")),oc.setAttribute("role","presentation"),oc.setAttribute("cm-text","\t"),a.col+=qc):("\r"==qc[0]||"\n"==qc[0]?(oc=ra.appendChild(Sa("span","\r"==qc[0]?"":"","cm-invalidchar")),oc.setAttribute("cm-text",qc[0])):(oc=a.cm.options.specialCharPlaceholder(qc[0]),oc.setAttribute("cm-text",
qc[0]),nf&&9>sf?ra.appendChild(Sa("span",[oc])):ra.appendChild(oc)),a.col+=1);a.map.push(a.pos,a.pos+1,oc);a.pos++}}else a.col+=f.length,ra=document.createTextNode(jb),a.map.push(a.pos,a.pos+f.length,ra),nf&&9>sf&&(Xb=!0),a.pos+=f.length;a.trailingSpace=32==jb.charCodeAt(f.length-1);if(t||q||y||Xb||X||qa){f=t||"";q&&(f+=q);y&&(f+=y);q=Sa("span",[ra],f,X);if(qa)for(var Od in qa)qa.hasOwnProperty(Od)&&"style"!=Od&&"class"!=Od&&q.setAttribute(Od,qa[Od]);return a.content.appendChild(q)}a.content.appendChild(ra)}}
function kc(a,f){return function(t,q,y,X,qa,ra,jb){y=y?y+" cm-force-border":"cm-force-border";for(var Bb=t.pos,Xb=Bb+q.length;;){for(var Hc=void 0,qc=0;qc<f.length&&!(Hc=f[qc],Hc.to>Bb&&Hc.from<=Bb);qc++);if(Hc.to>=Xb)return a(t,q,y,X,qa,ra,jb);a(t,q.slice(0,Hc.to-Bb),y,X,null,ra,jb);X=null;q=q.slice(Hc.to-Bb);Bb=Hc.to}}}function Oa(a,f,t,q){var y=!q&&t.widgetNode;y&&a.map.push(a.pos,a.pos+f,y);!q&&a.cm.display.input.needsContentAttribute&&(y||(y=a.content.appendChild(document.createElement("span"))),
y.setAttribute("cm-marker",t.id));y&&(a.cm.display.input.setUneditable(y),a.content.appendChild(y));a.pos+=f;a.trailingSpace=!1}function sb(a,f,t){for(var q=this.line=f,y;q=Ma(q,!1);)q=q.find(1,!0).line,(y||(y=[])).push(q);this.size=(this.rest=y)?H(Za(this.rest))-t+1:1;this.node=this.text=null;this.hidden=de(a,f)}function Lb(a,f,t){var q=[],y;for(y=f;y<t;)f=new sb(a.doc,p(a.doc,y),y),y+=f.size,q.push(f);return q}function hc(a,f){if(a=a.ownsGroup)try{var t=a.delayedCallbacks,q=0;do{for(;q<t.length;q++)t[q].call(null);
for(var y=0;y<a.ops.length;y++){var X=a.ops[y];if(X.cursorActivityHandlers)for(;X.cursorActivityCalled<X.cursorActivityHandlers.length;)X.cursorActivityHandlers[X.cursorActivityCalled++].call(null,X.cm)}}while(q<t.length)}finally{yi=null,f(a)}}function tc(a,f){var t=a._handlers&&a._handlers[f]||yh;if(t.length){var q=Array.prototype.slice.call(arguments,2);if(yi)var y=yi.delayedCallbacks;else Rh?y=Rh:(y=Rh=[],setTimeout(Bc,0));for(var X=function(ra){y.push(function(){return t[ra].apply(null,q)})},
qa=0;qa<t.length;++qa)X(qa)}}function Bc(){var a=Rh;Rh=null;for(var f=0;f<a.length;++f)a[f]()}function Mc(a,f,t,q){for(var y=0;y<f.changes.length;y++){var X=f.changes[y];if("text"==X){X=a;var qa=f,ra=qa.text.className,jb=yc(X,qa);qa.text==qa.node&&(qa.node=jb.pre);qa.text.parentNode.replaceChild(jb.pre,qa.text);qa.text=jb.pre;jb.bgClass!=qa.bgClass||jb.textClass!=qa.textClass?(qa.bgClass=jb.bgClass,qa.textClass=jb.textClass,Cc(X,qa)):ra&&(qa.text.className=ra)}else if("gutter"==X)xc(a,f,t,q);else if("class"==
X)Cc(a,f);else if("widget"==X){X=a;qa=f;ra=q;qa.alignable&&(qa.alignable=null);jb=n("CodeMirror-linewidget");for(var Bb=qa.node.firstChild,Xb;Bb;Bb=Xb)Xb=Bb.nextSibling,jb.test(Bb.className)&&qa.node.removeChild(Bb);Yc(X,qa,ra)}}f.changes=null}function Hb(a){a.node==a.text&&(a.node=Sa("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),nf&&8>sf&&(a.node.style.zIndex=2));return a.node}function yc(a,f){var t=a.display.externalMeasured;
return t&&t.line==f.line?(a.display.externalMeasured=null,f.measure=t.measure,t.built):Zb(a,f)}function Cc(a,f){var t=f.bgClass?f.bgClass+" "+(f.line.bgClass||""):f.line.bgClass;t&&(t+=" CodeMirror-linebackground");if(f.background)t?f.background.className=t:(f.background.parentNode.removeChild(f.background),f.background=null);else if(t){var q=Hb(f);f.background=q.insertBefore(Sa("div",null,t),q.firstChild);a.display.input.setUneditable(f.background)}f.line.wrapClass?Hb(f).className=f.line.wrapClass:
f.node!=f.text&&(f.node.className="");f.text.className=(f.textClass?f.textClass+" "+(f.line.textClass||""):f.line.textClass)||""}function xc(a,f,t,q){f.gutter&&(f.node.removeChild(f.gutter),f.gutter=null);f.gutterBackground&&(f.node.removeChild(f.gutterBackground),f.gutterBackground=null);if(f.line.gutterClass){var y=Hb(f);f.gutterBackground=Sa("div",null,"CodeMirror-gutter-background "+f.line.gutterClass,"left: "+(a.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px; width: "+q.gutterTotalWidth+
"px");a.display.input.setUneditable(f.gutterBackground);y.insertBefore(f.gutterBackground,f.text)}y=f.line.gutterMarkers;if(a.options.lineNumbers||y){var X=Hb(f),qa=f.gutter=Sa("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?q.fixedPos:-q.gutterTotalWidth)+"px");a.display.input.setUneditable(qa);X.insertBefore(qa,f.text);f.line.gutterClass&&(qa.className+=" "+f.line.gutterClass);!a.options.lineNumbers||y&&y["CodeMirror-linenumbers"]||(f.lineNumber=qa.appendChild(Sa("div",xa(a.options,
t),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+q.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px")));if(y)for(f=0;f<a.display.gutterSpecs.length;++f)t=a.display.gutterSpecs[f].className,(X=y.hasOwnProperty(t)&&y[t])&&qa.appendChild(Sa("div",[X],"CodeMirror-gutter-elt","left: "+q.gutterLeft[t]+"px; width: "+q.gutterWidth[t]+"px"))}}function Jc(a,f,t,q){var y=yc(a,f);f.text=f.node=y.pre;y.bgClass&&(f.bgClass=y.bgClass);y.textClass&&(f.textClass=y.textClass);
Cc(a,f);xc(a,f,t,q);Yc(a,f,q);return f.node}function Yc(a,f,t){Uc(a,f.line,f,t,!0);if(f.rest)for(var q=0;q<f.rest.length;q++)Uc(a,f.rest[q],f,t,!1)}function Uc(a,f,t,q,y){if(f.widgets){var X=Hb(t),qa=0;for(f=f.widgets;qa<f.length;++qa){var ra=f[qa],jb=Sa("div",[ra.node],"CodeMirror-linewidget"+(ra.className?" "+ra.className:""));ra.handleMouseEvents||jb.setAttribute("cm-ignore-events","true");var Bb=ra,Xb=jb,Hc=q;if(Bb.noHScroll){(t.alignable||(t.alignable=[])).push(Xb);var qc=Hc.wrapperWidth;Xb.style.left=
Hc.fixedPos+"px";Bb.coverGutter||(qc-=Hc.gutterTotalWidth,Xb.style.paddingLeft=Hc.gutterTotalWidth+"px");Xb.style.width=qc+"px"}Bb.coverGutter&&(Xb.style.zIndex=5,Xb.style.position="relative",Bb.noHScroll||(Xb.style.marginLeft=-Hc.gutterTotalWidth+"px"));a.display.input.setUneditable(jb);y&&ra.above?X.insertBefore(jb,t.gutter||t.text):X.appendChild(jb);tc(ra,"redraw")}}}function od(a){if(null!=a.height)return a.height;var f=a.doc.cm;if(!f)return 0;if(!fb(document.body,a.node)){var t="position: relative;";
a.coverGutter&&(t+="margin-left: -"+f.display.gutters.offsetWidth+"px;");a.noHScroll&&(t+="width: "+f.display.wrapper.clientWidth+"px;");ea(f.display.measure,Sa("div",[a.node],null,t))}return a.height=a.node.parentNode.offsetHeight}function qd(a,f){for(f=f.target||f.srcElement;f!=a.wrapper;f=f.parentNode)if(!f||1==f.nodeType&&"true"==f.getAttribute("cm-ignore-events")||f.parentNode==a.sizer&&f!=a.mover)return!0}function Id(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Ed(a){if(a.cachedPaddingH)return a.cachedPaddingH;
var f=ea(a.measure,Sa("pre","x","CodeMirror-line-like"));f=window.getComputedStyle?window.getComputedStyle(f):f.currentStyle;f={left:parseInt(f.paddingLeft),right:parseInt(f.paddingRight)};isNaN(f.left)||isNaN(f.right)||(a.cachedPaddingH=f);return f}function Wd(a){return 50-a.display.nativeBarWidth}function me(a){return a.display.scroller.clientWidth-Wd(a)-a.display.barWidth}function ye(a){return a.display.scroller.clientHeight-Wd(a)-a.display.barHeight}function Ye(a,f,t){if(a.line==f)return{map:a.measure.map,
cache:a.measure.cache};for(var q=0;q<a.rest.length;q++)if(a.rest[q]==f)return{map:a.measure.maps[q],cache:a.measure.caches[q]};for(f=0;f<a.rest.length;f++)if(H(a.rest[f])>t)return{map:a.measure.maps[f],cache:a.measure.caches[f],before:!0}}function Qe(a,f){if(f>=a.display.viewFrom&&f<a.display.viewTo)return a.display.view[N(a,f)];if((a=a.display.externalMeasured)&&f>=a.lineN&&f<a.lineN+a.size)return a}function Re(a,f){var t=H(f),q=Qe(a,t);q&&!q.text?q=null:q&&q.changes&&(Mc(a,q,t,Ke(a)),a.curOp.forceUpdate=
!0);if(!q){var y=ac(f);q=H(y);y=a.display.externalMeasured=new sb(a.doc,y,q);y.lineN=q;q=y.built=Zb(a,y);y.text=q.pre;ea(a.display.lineMeasure,q.pre);q=y}a=Ye(q,f,t);return{line:f,view:q,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Fd(a,f,t,q,y){f.before&&(t=-1);var X=t+(q||"");if(f.cache.hasOwnProperty(X))a=f.cache[X];else{f.rect||(f.rect=f.view.text.getBoundingClientRect());if(!f.hasHeights){var qa=f.view,ra=f.rect,jb=a.options.lineWrapping,Bb=jb&&me(a);if(!qa.measure.heights||
jb&&qa.measure.width!=Bb){var Xb=qa.measure.heights=[];if(jb)for(qa.measure.width=Bb,qa=qa.text.firstChild.getClientRects(),jb=0;jb<qa.length-1;jb++){Bb=qa[jb];var Hc=qa[jb+1];2<Math.abs(Bb.bottom-Hc.bottom)&&Xb.push((Bb.bottom+Hc.top)/2-ra.top)}Xb.push(ra.bottom-ra.top)}f.hasHeights=!0}Xb=q;qa=ee(f.map,t,Xb);q=qa.node;ra=qa.start;jb=qa.end;t=qa.collapse;if(3==q.nodeType){for(var qc=0;4>qc;qc++){for(;ra&&ka(f.line.text.charAt(qa.coverStart+ra));)--ra;for(;qa.coverStart+jb<qa.coverEnd&&ka(f.line.text.charAt(qa.coverStart+
jb));)++jb;if(nf&&9>sf&&0==ra&&jb==qa.coverEnd-qa.coverStart)var oc=q.parentNode.getBoundingClientRect();else{oc=vi(q,ra,jb).getClientRects();jb=zi;if("left"==Xb)for(Bb=0;Bb<oc.length&&(jb=oc[Bb]).left==jb.right;Bb++);else for(Bb=oc.length-1;0<=Bb&&(jb=oc[Bb]).left==jb.right;Bb--);oc=jb}if(oc.left||oc.right||0==ra)break;jb=ra;--ra;t="right"}nf&&11>sf&&((qc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=zh?qc=zh:(Xb=ea(a.display.measure,Sa("span","x")),qc=
Xb.getBoundingClientRect(),Xb=vi(Xb,0,1).getBoundingClientRect(),qc=zh=1<Math.abs(qc.left-Xb.left)),qc=!qc),qc||(qc=screen.logicalXDPI/screen.deviceXDPI,Xb=screen.logicalYDPI/screen.deviceYDPI,oc={left:oc.left*qc,right:oc.right*qc,top:oc.top*Xb,bottom:oc.bottom*Xb}))}else 0<ra&&(t=Xb="right"),oc=a.options.lineWrapping&&1<(qc=q.getClientRects()).length?qc["right"==Xb?qc.length-1:0]:q.getBoundingClientRect();!(nf&&9>sf)||ra||oc&&(oc.left||oc.right)||(oc=(oc=q.parentNode.getClientRects()[0])?{left:oc.left,
right:oc.left+pe(a.display),top:oc.top,bottom:oc.bottom}:zi);q=oc.top-f.rect.top;ra=oc.bottom-f.rect.top;qc=(q+ra)/2;Xb=f.view.measure.heights;for(qa=0;qa<Xb.length-1&&!(qc<Xb[qa]);qa++);t={left:("right"==t?oc.right:oc.left)-f.rect.left,right:("left"==t?oc.left:oc.right)-f.rect.left,top:qa?Xb[qa-1]:0,bottom:Xb[qa]};oc.left||oc.right||(t.bogus=!0);a.options.singleCursorHeightPerLine||(t.rtop=q,t.rbottom=ra);a=t;a.bogus||(f.cache[X]=a)}return{left:a.left,right:a.right,top:y?a.rtop:a.top,bottom:y?a.rbottom:
a.bottom}}function ee(a,f,t){for(var q,y,X,qa,ra,jb,Bb=0;Bb<a.length;Bb+=3){ra=a[Bb];jb=a[Bb+1];if(f<ra)y=0,X=1,qa="left";else if(f<jb)y=f-ra,X=y+1;else if(Bb==a.length-3||f==jb&&a[Bb+3]>f)X=jb-ra,y=X-1,f>=jb&&(qa="right");if(null!=y){q=a[Bb+2];ra==jb&&t==(q.insertLeft?"left":"right")&&(qa=t);if("left"==t&&0==y)for(;Bb&&a[Bb-2]==a[Bb-3]&&a[Bb-1].insertLeft;)q=a[(Bb-=3)+2],qa="left";if("right"==t&&y==jb-ra)for(;Bb<a.length-3&&a[Bb+3]==a[Bb+4]&&!a[Bb+5].insertLeft;)q=a[(Bb+=3)+2],qa="right";break}}return{node:q,
start:y,end:X,collapse:qa,coverStart:ra,coverEnd:jb}}function ff(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var f=0;f<a.rest.length;f++)a.measure.caches[f]={}}function Oe(a){a.display.externalMeasure=null;x(a.display.lineMeasure);for(var f=0;f<a.display.view.length;f++)ff(a.display.view[f])}function Bf(a){Oe(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=
null}function Yd(){return yg&&si?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Ae(){return yg&&si?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function cf(a){var f=0;if(a.widgets)for(var t=0;t<a.widgets.length;++t)a.widgets[t].above&&(f+=od(a.widgets[t]));
return f}function re(a,f,t,q,y){y||(y=cf(f),t.top+=y,t.bottom+=y);if("line"==q)return t;q||(q="local");f=Z(f);f="local"==q?f+a.display.lineSpace.offsetTop:f-a.display.viewOffset;if("page"==q||"window"==q)a=a.display.lineSpace.getBoundingClientRect(),f+=a.top+("window"==q?0:Ae()),q=a.left+("window"==q?0:Yd()),t.left+=q,t.right+=q;t.top+=f;t.bottom+=f;return t}function Ad(a,f,t){if("div"==t)return f;var q=f.left;f=f.top;"page"==t?(q-=Yd(),f-=Ae()):"local"!=t&&t||(t=a.display.sizer.getBoundingClientRect(),
q+=t.left,f+=t.top);a=a.display.lineSpace.getBoundingClientRect();return{left:q-a.left,top:f-a.top}}function Ld(a,f,t,q,y){q||(q=p(a.doc,f.line));var X=q;f=f.ch;q=Fd(a,Re(a,q),f,y);return re(a,X,q,t)}function ae(a,f,t,q,y,X){function qa(qc,oc){qc=Fd(a,y,qc,oc?"right":"left",X);oc?qc.left=qc.right:qc.right=qc.left;return re(a,q,qc,t)}function ra(qc,oc,ed){return qa(ed?qc-1:qc,1==jb[oc].level!=ed)}q=q||p(a.doc,f.line);y||(y=Re(a,q));var jb=db(q,a.doc.direction),Bb=f.ch;f=f.sticky;Bb>=q.text.length?
(Bb=q.text.length,f="before"):0>=Bb&&(Bb=0,f="after");if(!jb)return qa("before"==f?Bb-1:Bb,"before"==f);var Xb=ib(jb,Bb,f),Hc=Li;Xb=ra(Bb,Xb,"before"==f);null!=Hc&&(Xb.other=ra(Bb,Hc,"before"!=f));return Xb}function Jf(a,f){var t=0;f=xb(a.doc,f);a.options.lineWrapping||(t=pe(a.display)*f.ch);f=p(a.doc,f.line);a=Z(f)+a.display.lineSpace.offsetTop;return{left:t,right:t,top:a,bottom:a+f.height}}function De(a,f,t,q,y){a=oa(a,f,t);a.xRel=y;q&&(a.outside=q);return a}function Jd(a,f,t){var q=a.doc;t+=a.display.viewOffset;
if(0>t)return De(q.first,0,null,-1,-1);var y=C(q,t),X=q.first+q.size-1;if(y>X)return De(q.first+q.size-1,p(q,X).text.length,null,1,1);0>f&&(f=0);for(var qa=p(q,y);;){X=Be(a,qa,y,f,t);var ra=void 0;var jb=X.ch+(0<X.xRel||0<X.outside?1:0);if(qa=ai&&qa.markedSpans)for(var Bb=0;Bb<qa.length;++Bb){var Xb=qa[Bb];Xb.marker.collapsed&&(null==Xb.from||Xb.from<jb)&&(null==Xb.to||Xb.to>jb)&&(!ra||0>ge(ra,Xb.marker))&&(ra=Xb.marker)}if(!ra)return X;X=ra.find(1);if(X.line==y)return X;qa=p(q,y=X.line)}}function Se(a,
f,t,q){q-=cf(f);f=f.text.length;var y=Ra(function(X){return Fd(a,t,X-1).bottom<=q},f,0);f=Ra(function(X){return Fd(a,t,X).top>q},y,f);return{begin:y,end:f}}function Ee(a,f,t,q){t||(t=Re(a,f));q=re(a,f,Fd(a,t,q),"line").top;return Se(a,f,t,q)}function Ac(a,f,t,q){return a.bottom<=t?!1:a.top>t?!0:(q?a.left:a.right)>f}function Be(a,f,t,q,y){y-=Z(f);var X=Re(a,f),qa=cf(f),ra=0,jb=f.text.length,Bb=!0,Xb=db(f,a.doc.direction);Xb&&(Xb=(a.options.lineWrapping?cc:Xd)(a,f,t,X,Xb,q,y),ra=(Bb=1!=Xb.level)?Xb.from:
Xb.to-1,jb=Bb?Xb.to:Xb.from-1);var Hc=null,qc=null;Xb=Ra(function(ed){var Od=Fd(a,X,ed);Od.top+=qa;Od.bottom+=qa;if(!Ac(Od,q,y,!1))return!1;Od.top<=y&&Od.left<=q&&(Hc=ed,qc=Od);return!0},ra,jb);var oc=!1;qc?(ra=q-qc.left<qc.right-q,Bb=ra==Bb,Xb=Hc+(Bb?0:1),Bb=Bb?"after":"before",ra=ra?qc.left:qc.right):(Bb||Xb!=jb&&Xb!=ra||Xb++,Bb=0==Xb?"after":Xb==f.text.length?"before":Fd(a,X,Xb-(Bb?1:0)).bottom+qa<=y==Bb?"after":"before",oc=ae(a,oa(t,Xb,Bb),"line",f,X),ra=oc.left,oc=y<oc.top?-1:y>=oc.bottom?1:
0);Xb=Aa(f.text,Xb,1);return De(t,Xb,Bb,oc,q-ra)}function Xd(a,f,t,q,y,X,qa){var ra=Ra(function(Xb){Xb=y[Xb];var Hc=1!=Xb.level;return Ac(ae(a,oa(t,Hc?Xb.to:Xb.from,Hc?"before":"after"),"line",f,q),X,qa,!0)},0,y.length-1),jb=y[ra];if(0<ra){var Bb=1!=jb.level;Bb=ae(a,oa(t,Bb?jb.from:jb.to,Bb?"after":"before"),"line",f,q);Ac(Bb,X,qa,!0)&&Bb.top>qa&&(jb=y[ra-1])}return jb}function cc(a,f,t,q,y,X,qa){qa=Se(a,f,q,qa);t=qa.begin;qa=qa.end;/\s/.test(f.text.charAt(qa-1))&&qa--;for(var ra=f=null,jb=0;jb<y.length;jb++){var Bb=
y[jb];if(!(Bb.from>=qa||Bb.to<=t)){var Xb=Fd(a,q,1!=Bb.level?Math.min(qa,Bb.to)-1:Math.max(t,Bb.from)).right;Xb=Xb<X?X-Xb+1E9:Xb-X;if(!f||ra>Xb)f=Bb,ra=Xb}}f||(f=y[y.length-1]);f.from<t&&(f={from:t,to:f.to,level:f.level});f.to>qa&&(f={from:f.from,to:qa,level:f.level});return f}function Je(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==ih){ih=Sa("pre",null,"CodeMirror-line-like");for(var f=0;49>f;++f)ih.appendChild(document.createTextNode("x")),ih.appendChild(Sa("br"));ih.appendChild(document.createTextNode("x"))}ea(a.measure,
ih);f=ih.offsetHeight/50;3<f&&(a.cachedTextHeight=f);x(a.measure);return f||1}function pe(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var f=Sa("span","xxxxxxxxxx"),t=Sa("pre",[f],"CodeMirror-line-like");ea(a.measure,t);f=f.getBoundingClientRect();f=(f.right-f.left)/10;2<f&&(a.cachedCharWidth=f);return f||10}function Ke(a){for(var f=a.display,t={},q={},y=f.gutters.clientLeft,X=f.gutters.firstChild,qa=0;X;X=X.nextSibling,++qa){var ra=a.display.gutterSpecs[qa].className;t[ra]=X.offsetLeft+
X.clientLeft+y;q[ra]=X.clientWidth}return{fixedPos:Cf(f),gutterTotalWidth:f.gutters.offsetWidth,gutterLeft:t,gutterWidth:q,wrapperWidth:f.wrapper.clientWidth}}function Cf(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function kf(a){var f=Je(a.display),t=a.options.lineWrapping,q=t&&Math.max(5,a.display.scroller.clientWidth/pe(a.display)-3);return function(y){if(de(a.doc,y))return 0;var X=0;if(y.widgets)for(var qa=0;qa<y.widgets.length;qa++)y.widgets[qa].height&&
(X+=y.widgets[qa].height);return t?X+(Math.ceil(y.text.length/q)||1)*f:X+f}}function tf(a){var f=a.doc,t=kf(a);f.iter(function(q){var y=t(q);y!=q.height&&E(q,y)})}function Pe(a,f,t,q){var y=a.display;if(!t&&"true"==(f.target||f.srcElement).getAttribute("cm-not-content"))return null;t=y.lineSpace.getBoundingClientRect();try{var X=f.clientX-t.left;var qa=f.clientY-t.top}catch(jb){return null}f=Jd(a,X,qa);var ra;q&&0<f.xRel&&(ra=p(a.doc,f.line).text).length==f.ch&&(q=rb(ra,ra.length,a.options.tabSize)-
ra.length,f=oa(f.line,Math.max(0,Math.round((X-Ed(a.display).left)/pe(a.display))-q)));return f}function N(a,f){if(f>=a.display.viewTo)return null;f-=a.display.viewFrom;if(0>f)return null;a=a.display.view;for(var t=0;t<a.length;t++)if(f-=a[t].size,0>f)return t}function V(a,f,t,q){null==f&&(f=a.doc.first);null==t&&(t=a.doc.first+a.doc.size);q||(q=0);var y=a.display;q&&t<y.viewTo&&(null==y.updateLineNumbers||y.updateLineNumbers>f)&&(y.updateLineNumbers=f);a.curOp.viewChanged=!0;if(f>=y.viewTo)ai&&rd(a.doc,
f)<y.viewTo&&Ka(a);else if(t<=y.viewFrom)ai&&vd(a.doc,t+q)>y.viewFrom?Ka(a):(y.viewFrom+=q,y.viewTo+=q);else if(f<=y.viewFrom&&t>=y.viewTo)Ka(a);else if(f<=y.viewFrom){var X=Wa(a,t,t+q,1);X?(y.view=y.view.slice(X.index),y.viewFrom=X.lineN,y.viewTo+=q):Ka(a)}else if(t>=y.viewTo)(X=Wa(a,f,f,-1))?(y.view=y.view.slice(0,X.index),y.viewTo=X.lineN):Ka(a);else{X=Wa(a,f,f,-1);var qa=Wa(a,t,t+q,1);X&&qa?(y.view=y.view.slice(0,X.index).concat(Lb(a,X.lineN,qa.lineN)).concat(y.view.slice(qa.index)),y.viewTo+=
q):Ka(a)}if(a=y.externalMeasured)t<a.lineN?a.lineN+=q:f<a.lineN+a.size&&(y.externalMeasured=null)}function wa(a,f,t){a.curOp.viewChanged=!0;var q=a.display,y=a.display.externalMeasured;y&&f>=y.lineN&&f<y.lineN+y.size&&(q.externalMeasured=null);f<q.viewFrom||f>=q.viewTo||(a=q.view[N(a,f)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==Xa(a,t)&&a.push(t)))}function Ka(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Wa(a,f,t,q){var y=N(a,f),X=a.display.view;
if(!ai||t==a.doc.first+a.doc.size)return{index:y,lineN:t};for(var qa=a.display.viewFrom,ra=0;ra<y;ra++)qa+=X[ra].size;if(qa!=f){if(0<q){if(y==X.length-1)return null;f=qa+X[y].size-f;y++}else f=qa-f;t+=f}for(;rd(a.doc,t)!=t;){if(y==(0>q?0:X.length-1))return null;t+=q*X[y-(0>q?1:0)].size;y+=q}return{index:y,lineN:t}}function Vb(a){a=a.display.view;for(var f=0,t=0;t<a.length;t++){var q=a[t];q.hidden||q.node&&!q.changes||++f}return f}function mc(a){a.display.input.showSelection(a.display.input.prepareSelection())}
function Gc(a,f){void 0===f&&(f=!0);for(var t=a.doc,q={},y=q.cursors=document.createDocumentFragment(),X=q.selection=document.createDocumentFragment(),qa=0;qa<t.sel.ranges.length;qa++)if(f||qa!=t.sel.primIndex){var ra=t.sel.ranges[qa];if(!(ra.from().line>=a.display.viewTo||ra.to().line<a.display.viewFrom)){var jb=ra.empty();(jb||a.options.showCursorWhenSelecting)&&uc(a,ra.head,y);jb||id(a,ra,X)}}return q}function uc(a,f,t){f=ae(a,f,"div",null,null,!a.options.singleCursorHeightPerLine);var q=t.appendChild(Sa("div",
"","CodeMirror-cursor"));q.style.left=f.left+"px";q.style.top=f.top+"px";q.style.height=Math.max(0,f.bottom-f.top)*a.options.cursorHeight+"px";f.other&&(a=t.appendChild(Sa("div","","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=f.other.left+"px",a.style.top=f.other.top+"px",a.style.height=.85*(f.other.bottom-f.other.top)+"px")}function Fc(a,f){return a.top-f.top||a.left-f.left}function id(a,f,t){function q(oc,ed,Od,He){0>ed&&(ed=0);ed=Math.round(ed);He=Math.round(He);
ra.appendChild(Sa("div",null,"CodeMirror-selected","position: absolute; left: "+oc+"px;\n                             top: "+ed+"px; width: "+(null==Od?Xb-oc:Od)+"px;\n                             height: "+(He-ed)+"px"))}function y(oc,ed,Od){function He(jf,Uf){return Ld(a,oa(oc,jf),"div",ve,Uf)}function xf(jf,Uf,Ff){jf=Ee(a,ve,null,jf);Uf="ltr"==Uf==("after"==Ff)?"left":"right";Ff="after"==Ff?jf.begin:jf.end-(/\s/.test(ve.text.charAt(jf.end-1))?2:1);return He(Ff,Uf)[Uf]}var ve=p(qa,oc),Nf=ve.text.length,
Af,Tf,Wf=db(ve,qa.direction);Ya(Wf,ed||0,null==Od?Nf:Od,function(jf,Uf,Ff,Of){var Jg="ltr"==Ff,Cg=He(jf,Jg?"left":"right"),vg=He(Uf-1,Jg?"right":"left"),Lg=null==ed&&0==jf,mg=null==Od&&Uf==Nf,Dg=0==Of;Of=!Wf||Of==Wf.length-1;3>=vg.top-Cg.top?(Uf=(Hc?Lg:mg)&&Dg?Bb:(Jg?Cg:vg).left,q(Uf,Cg.top,((Hc?mg:Lg)&&Of?Xb:(Jg?vg:Cg).right)-Uf,Cg.bottom)):(Jg?(Jg=Hc&&Lg&&Dg?Bb:Cg.left,Lg=Hc?Xb:xf(jf,Ff,"before"),jf=Hc?Bb:xf(Uf,Ff,"after"),mg=Hc&&mg&&Of?Xb:vg.right):(Jg=Hc?xf(jf,Ff,"before"):Bb,Lg=!Hc&&Lg&&Dg?Xb:
Cg.right,jf=!Hc&&mg&&Of?Bb:vg.left,mg=Hc?xf(Uf,Ff,"after"):Xb),q(Jg,Cg.top,Lg-Jg,Cg.bottom),Cg.bottom<vg.top&&q(Bb,Cg.bottom,null,vg.top),q(jf,vg.top,mg-jf,vg.bottom));if(!Af||0>Fc(Cg,Af))Af=Cg;0>Fc(vg,Af)&&(Af=vg);if(!Tf||0>Fc(Cg,Tf))Tf=Cg;0>Fc(vg,Tf)&&(Tf=vg)});return{start:Af,end:Tf}}var X=a.display,qa=a.doc,ra=document.createDocumentFragment(),jb=Ed(a.display),Bb=jb.left,Xb=Math.max(X.sizerWidth,me(a)-X.sizer.offsetLeft)-jb.right,Hc="ltr"==qa.direction;X=f.from();f=f.to();if(X.line==f.line)y(X.line,
X.ch,f.ch);else{var qc=p(qa,X.line);jb=p(qa,f.line);jb=ac(qc)==ac(jb);X=y(X.line,X.ch,jb?qc.text.length+1:null).end;f=y(f.line,jb?0:null,f.ch).start;jb&&(X.top<f.top-2?(q(X.right,X.top,null,X.bottom),q(Bb,f.top,f.left,f.bottom)):q(X.right,X.top,f.left-X.right,X.bottom));X.bottom<f.top&&q(Bb,X.bottom,null,f.top)}t.appendChild(ra)}function fd(a){if(a.state.focused){var f=a.display;clearInterval(f.blinker);var t=!0;f.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?f.blinker=setInterval(function(){a.hasFocus()||
le(a);f.cursorDiv.style.visibility=(t=!t)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(f.cursorDiv.style.visibility="hidden")}}function se(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||zd(a))}function xd(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&le(a))},100)}function zd(a,f){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&
(a.state.focused||($a(a,"focus",a,f),a.state.focused=!0,Ob(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),yf&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),fd(a))}function le(a,f){a.state.delayingBlurEvent||(a.state.focused&&($a(a,"blur",a,f),a.state.focused=!1,Xg(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=
!1)},150))}function Te(a){for(var f=a.display,t=f.lineDiv.offsetTop,q=0;q<f.view.length;q++){var y=f.view[q],X=a.options.lineWrapping,qa=0;if(!y.hidden){if(nf&&8>sf){X=y.node.offsetTop+y.node.offsetHeight;var ra=X-t;t=X}else{var jb=y.node.getBoundingClientRect();ra=jb.bottom-jb.top;!X&&y.text.firstChild&&(qa=y.text.firstChild.getBoundingClientRect().right-jb.left-1)}X=y.line.height-ra;if(.005<X||-.005>X)if(E(y.line,ra),Me(y.line),y.rest)for(ra=0;ra<y.rest.length;ra++)Me(y.rest[ra]);qa>a.display.sizerWidth&&
(qa=Math.ceil(qa/pe(a.display)),qa>a.display.maxLineLength&&(a.display.maxLineLength=qa,a.display.maxLine=y.line,a.display.maxLineChanged=!0))}}}function Me(a){if(a.widgets)for(var f=0;f<a.widgets.length;++f){var t=a.widgets[f],q=t.node.parentNode;q&&(t.height=q.offsetHeight)}}function uf(a,f,t){var q=t&&null!=t.top?Math.max(0,t.top):a.scroller.scrollTop;q=Math.floor(q-a.lineSpace.offsetTop);var y=t&&null!=t.bottom?t.bottom:q+a.wrapper.clientHeight;q=C(f,q);y=C(f,y);if(t&&t.ensure){var X=t.ensure.from.line;
t=t.ensure.to.line;X<q?(q=X,y=C(f,Z(p(f,X))+a.wrapper.clientHeight)):Math.min(t,f.lastLine())>=y&&(q=C(f,Z(p(f,t))-a.wrapper.clientHeight),y=t)}return{from:q,to:Math.max(y,q+1)}}function Zf(a,f){var t=a.display,q=Je(a.display);0>f.top&&(f.top=0);var y=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:t.scroller.scrollTop,X=ye(a),qa={};f.bottom-f.top>X&&(f.bottom=f.top+X);var ra=a.doc.height+Id(t),jb=f.top<q;q=f.bottom>ra-q;f.top<y?qa.scrollTop=jb?0:f.top:f.bottom>y+X&&(X=Math.min(f.top,(q?ra:f.bottom)-
X),X!=y&&(qa.scrollTop=X));y=a.options.fixedGutter?0:t.gutters.offsetWidth;X=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:t.scroller.scrollLeft-y;a=me(a)-t.gutters.offsetWidth;if(t=f.right-f.left>a)f.right=f.left+a;10>f.left?qa.scrollLeft=0:f.left<X?qa.scrollLeft=Math.max(0,f.left+y-(t?0:10)):f.right>a+X-3&&(qa.scrollLeft=f.right+(t?0:10)-a);return qa}function pd(a,f){null!=f&&(Ze(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+f)}function Ue(a){Ze(a);var f=
a.getCursor();a.curOp.scrollToPos={from:f,to:f,margin:a.options.cursorScrollMargin}}function Le(a,f,t){null==f&&null==t||Ze(a);null!=f&&(a.curOp.scrollLeft=f);null!=t&&(a.curOp.scrollTop=t)}function Ze(a){var f=a.curOp.scrollToPos;if(f){a.curOp.scrollToPos=null;var t=Jf(a,f.from),q=Jf(a,f.to);$f(a,t,q,f.margin)}}function $f(a,f,t,q){f=Zf(a,{left:Math.min(f.left,t.left),top:Math.min(f.top,t.top)-q,right:Math.max(f.right,t.right),bottom:Math.max(f.bottom,t.bottom)+q});Le(a,f.scrollLeft,f.scrollTop)}
function vf(a,f){2>Math.abs(a.doc.scrollTop-f)||(jg||af(a,{top:f}),ag(a,f,!0),jg&&af(a),ud(a,100))}function ag(a,f,t){f=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,f));if(a.display.scroller.scrollTop!=f||t)a.doc.scrollTop=f,a.display.scrollbars.setScrollTop(f),a.display.scroller.scrollTop!=f&&(a.display.scroller.scrollTop=f)}function df(a,f,t,q){f=Math.max(0,Math.min(f,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(t?f==a.doc.scrollLeft:2>
Math.abs(a.doc.scrollLeft-f))&&!q||(a.doc.scrollLeft=f,ze(a),a.display.scroller.scrollLeft!=f&&(a.display.scroller.scrollLeft=f),a.display.scrollbars.setScrollLeft(f))}function M(a){var f=a.display,t=f.gutters.offsetWidth,q=Math.round(a.doc.height+Id(a.display));return{clientHeight:f.scroller.clientHeight,viewHeight:f.wrapper.clientHeight,scrollWidth:f.scroller.scrollWidth,clientWidth:f.scroller.clientWidth,viewWidth:f.wrapper.clientWidth,barLeft:a.options.fixedGutter?t:0,docHeight:q,scrollHeight:q+
Wd(a)+f.barHeight,nativeBarWidth:f.nativeBarWidth,gutterWidth:t}}function fa(a,f){f||(f=M(a));var t=a.display.barWidth,q=a.display.barHeight;kb(a,f);for(f=0;4>f&&t!=a.display.barWidth||q!=a.display.barHeight;f++)t!=a.display.barWidth&&a.options.lineWrapping&&Te(a),kb(a,M(a)),t=a.display.barWidth,q=a.display.barHeight}function kb(a,f){var t=a.display,q=t.scrollbars.update(f);t.sizer.style.paddingRight=(t.barWidth=q.right)+"px";t.sizer.style.paddingBottom=(t.barHeight=q.bottom)+"px";t.heightForcer.style.borderBottom=
q.bottom+"px solid transparent";q.right&&q.bottom?(t.scrollbarFiller.style.display="block",t.scrollbarFiller.style.height=q.bottom+"px",t.scrollbarFiller.style.width=q.right+"px"):t.scrollbarFiller.style.display="";q.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(t.gutterFiller.style.display="block",t.gutterFiller.style.height=q.bottom+"px",t.gutterFiller.style.width=f.gutterWidth+"px"):t.gutterFiller.style.display=""}function Qb(a){a.display.scrollbars&&(a.display.scrollbars.clear(),
a.display.scrollbars.addClass&&Xg(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new Si[a.options.scrollbarStyle](function(f){a.display.wrapper.insertBefore(f,a.display.scrollbarFiller);Ge(f,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)});f.setAttribute("cm-not-content","true")},function(f,t){"horizontal"==t?df(a,f):vf(a,f)},a);a.display.scrollbars.addClass&&Ob(a.display.wrapper,a.display.scrollbars.addClass)}function Mb(a){a.curOp=
{cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Vj};a=a.curOp;yi?yi.ops.push(a):a.ownsGroup=yi={ops:[a],delayedCallbacks:[]}}function bc(a){(a=a.curOp)&&hc(a,function(f){for(var t=0;t<f.ops.length;t++)f.ops[t].cm.curOp=null;f=f.ops;for(t=0;t<f.length;t++){var q=f[t],y=q.cm,X=y.display,qa=y.display;
!qa.scrollbarsClipped&&qa.scroller.offsetWidth&&(qa.nativeBarWidth=qa.scroller.offsetWidth-qa.scroller.clientWidth,qa.heightForcer.style.height=Wd(y)+"px",qa.sizer.style.marginBottom=-qa.nativeBarWidth+"px",qa.sizer.style.borderRightWidth=Wd(y)+"px",qa.scrollbarsClipped=!0);q.updateMaxLine&&gb(y);q.mustUpdate=q.viewChanged||q.forceUpdate||null!=q.scrollTop||q.scrollToPos&&(q.scrollToPos.from.line<X.viewFrom||q.scrollToPos.to.line>=X.viewTo)||X.maxLineChanged&&y.options.lineWrapping;q.update=q.mustUpdate&&
new Ai(y,q.mustUpdate&&{top:q.scrollTop,ensure:q.scrollToPos},q.forceUpdate)}for(t=0;t<f.length;t++)q=f[t],q.updatedDisplay=q.mustUpdate&&Td(q.cm,q.update);for(t=0;t<f.length;t++)if(q=f[t],y=q.cm,X=y.display,q.updatedDisplay&&Te(y),q.barMeasure=M(y),X.maxLineChanged&&!y.options.lineWrapping&&(qa=X.maxLine.text.length,qa=Fd(y,Re(y,X.maxLine),qa,void 0),q.adjustWidthTo=qa.left+3,y.display.sizerWidth=q.adjustWidthTo,q.barMeasure.scrollWidth=Math.max(X.scroller.clientWidth,X.sizer.offsetLeft+q.adjustWidthTo+
Wd(y)+y.display.barWidth),q.maxScrollLeft=Math.max(0,X.sizer.offsetLeft+q.adjustWidthTo-me(y))),q.updatedDisplay||q.selectionChanged)q.preparedSelection=X.input.prepareSelection();for(t=0;t<f.length;t++)q=f[t],y=q.cm,null!=q.adjustWidthTo&&(y.display.sizer.style.minWidth=q.adjustWidthTo+"px",q.maxScrollLeft<y.doc.scrollLeft&&df(y,Math.min(y.display.scroller.scrollLeft,q.maxScrollLeft),!0),y.display.maxLineChanged=!1),X=q.focus&&q.focus==ub(),q.preparedSelection&&y.display.input.showSelection(q.preparedSelection,
X),(q.updatedDisplay||q.startHeight!=y.doc.height)&&fa(y,q.barMeasure),q.updatedDisplay&&he(y,q.barMeasure),q.selectionChanged&&fd(y),y.state.focused&&q.updateInput&&y.display.input.reset(q.typing),X&&se(q.cm);for(t=0;t<f.length;t++){var ra=void 0;q=f[t];y=q.cm;X=y.display;qa=y.doc;q.updatedDisplay&&Bd(y,q.update);null==X.wheelStartX||null==q.scrollTop&&null==q.scrollLeft&&!q.scrollToPos||(X.wheelStartX=X.wheelStartY=null);null!=q.scrollTop&&ag(y,q.scrollTop,q.forceScroll);null!=q.scrollLeft&&df(y,
q.scrollLeft,!0,!0);if(q.scrollToPos){var jb=xb(qa,q.scrollToPos.from);var Bb=xb(qa,q.scrollToPos.to);var Xb=q.scrollToPos.margin;null==Xb&&(Xb=0);y.options.lineWrapping||jb!=Bb||(jb=jb.ch?oa(jb.line,"before"==jb.sticky?jb.ch-1:jb.ch,"after"):jb,Bb="before"==jb.sticky?oa(jb.line,jb.ch+1,"before"):jb);for(var Hc=0;5>Hc;Hc++){var qc=!1;ra=ae(y,jb);var oc=Bb&&Bb!=jb?ae(y,Bb):ra;ra={left:Math.min(ra.left,oc.left),top:Math.min(ra.top,oc.top)-Xb,right:Math.max(ra.left,oc.left),bottom:Math.max(ra.bottom,
oc.bottom)+Xb};oc=Zf(y,ra);var ed=y.doc.scrollTop,Od=y.doc.scrollLeft;null!=oc.scrollTop&&(vf(y,oc.scrollTop),1<Math.abs(y.doc.scrollTop-ed)&&(qc=!0));null!=oc.scrollLeft&&(df(y,oc.scrollLeft),1<Math.abs(y.doc.scrollLeft-Od)&&(qc=!0));if(!qc)break}Bb=ra;S(y,"scrollCursorIntoView")||(Xb=y.display,Hc=Xb.sizer.getBoundingClientRect(),jb=null,0>Bb.top+Hc.top?jb=!0:Bb.bottom+Hc.top>(window.innerHeight||document.documentElement.clientHeight)&&(jb=!1),null==jb||fi||(Bb=Sa("div","",null,"position: absolute;\n                         top: "+
(Bb.top-Xb.viewOffset-y.display.lineSpace.offsetTop)+"px;\n                         height: "+(Bb.bottom-Bb.top+Wd(y)+Xb.barHeight)+"px;\n                         left: "+Bb.left+"px; width: "+Math.max(2,Bb.right-Bb.left)+"px;"),y.display.lineSpace.appendChild(Bb),Bb.scrollIntoView(jb),y.display.lineSpace.removeChild(Bb)))}Bb=q.maybeHiddenMarkers;jb=q.maybeUnhiddenMarkers;if(Bb)for(Xb=0;Xb<Bb.length;++Xb)Bb[Xb].lines.length||$a(Bb[Xb],"hide");if(jb)for(Bb=0;Bb<jb.length;++Bb)jb[Bb].lines.length&&
$a(jb[Bb],"unhide");X.wrapper.offsetHeight&&(qa.scrollTop=y.display.scroller.scrollTop);q.changeObjs&&$a(y,"changes",y,q.changeObjs);q.update&&q.update.finish()}})}function jc(a,f){if(a.curOp)return f();Mb(a);try{return f()}finally{bc(a)}}function Qc(a,f){return function(){if(a.curOp)return f.apply(a,arguments);Mb(a);try{return f.apply(a,arguments)}finally{bc(a)}}}function Kc(a){return function(){if(this.curOp)return a.apply(this,arguments);Mb(this);try{return a.apply(this,arguments)}finally{bc(this)}}}
function ad(a){return function(){var f=this.cm;if(!f||f.curOp)return a.apply(this,arguments);Mb(f);try{return a.apply(this,arguments)}finally{bc(f)}}}function ud(a,f){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(f,cb(Nd,a))}function Nd(a){var f=a.doc;if(!(f.highlightFrontier>=a.display.viewTo)){var t=+new Date+a.options.workTime,q=gd(a,f.highlightFrontier),y=[];f.iter(q.line,Math.min(f.first+f.size,a.display.viewTo+500),function(X){if(q.line>=a.display.viewFrom){var qa=X.styles,
ra=X.text.length>a.options.maxHighlightLength?T(f.mode,q.state):null,jb=fc(a,X,q,!0);ra&&(q.state=ra);X.styles=jb.styles;ra=X.styleClasses;(jb=jb.classes)?X.styleClasses=jb:ra&&(X.styleClasses=null);jb=!qa||qa.length!=X.styles.length||ra!=jb&&(!ra||!jb||ra.bgClass!=jb.bgClass||ra.textClass!=jb.textClass);for(ra=0;!jb&&ra<qa.length;++ra)jb=qa[ra]!=X.styles[ra];jb&&y.push(q.line);X.stateAfter=q.save()}else X.text.length<=a.options.maxHighlightLength&&Dc(a,X.text,q),X.stateAfter=0==q.line%5?q.save():
null;q.nextLine();if(+new Date>t)return ud(a,a.options.workDelay),!0});f.highlightFrontier=q.line;f.modeFrontier=Math.max(f.modeFrontier,q.line);y.length&&jc(a,function(){for(var X=0;X<y.length;X++)wa(a,y[X],"text")})}}function Td(a,f){var t=a.display,q=a.doc;if(f.editorIsHidden)return Ka(a),!1;if(!f.force&&f.visible.from>=t.viewFrom&&f.visible.to<=t.viewTo&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo)&&t.renderedView==t.view&&0==Vb(a))return!1;Sf(a)&&(Ka(a),f.dims=Ke(a));var y=q.first+
q.size,X=Math.max(f.visible.from-a.options.viewportMargin,q.first),qa=Math.min(y,f.visible.to+a.options.viewportMargin);t.viewFrom<X&&20>X-t.viewFrom&&(X=Math.max(q.first,t.viewFrom));t.viewTo>qa&&20>t.viewTo-qa&&(qa=Math.min(y,t.viewTo));ai&&(X=rd(a.doc,X),qa=vd(a.doc,qa));q=X!=t.viewFrom||qa!=t.viewTo||t.lastWrapHeight!=f.wrapperHeight||t.lastWrapWidth!=f.wrapperWidth;y=a.display;0==y.view.length||X>=y.viewTo||qa<=y.viewFrom?(y.view=Lb(a,X,qa),y.viewFrom=X):(y.viewFrom>X?y.view=Lb(a,X,y.viewFrom).concat(y.view):
y.viewFrom<X&&(y.view=y.view.slice(N(a,X))),y.viewFrom=X,y.viewTo<qa?y.view=y.view.concat(Lb(a,y.viewTo,qa)):y.viewTo>qa&&(y.view=y.view.slice(0,N(a,qa))));y.viewTo=qa;t.viewOffset=Z(p(a.doc,t.viewFrom));a.display.mover.style.top=t.viewOffset+"px";qa=Vb(a);if(!q&&0==qa&&!f.force&&t.renderedView==t.view&&(null==t.updateLineNumbers||t.updateLineNumbers>=t.viewTo))return!1;a.hasFocus()?X=null:(X=ub())&&fb(a.display.lineDiv,X)?(X={activeElt:X},window.getSelection&&(y=window.getSelection(),y.anchorNode&&
y.extend&&fb(a.display.lineDiv,y.anchorNode)&&(X.anchorNode=y.anchorNode,X.anchorOffset=y.anchorOffset,X.focusNode=y.focusNode,X.focusOffset=y.focusOffset))):X=null;4<qa&&(t.lineDiv.style.display="none");Pd(a,t.updateLineNumbers,f.dims);4<qa&&(t.lineDiv.style.display="");t.renderedView=t.view;(qa=X)&&qa.activeElt&&qa.activeElt!=ub()&&(qa.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(qa.activeElt.nodeName)&&qa.anchorNode&&fb(document.body,qa.anchorNode)&&fb(document.body,qa.focusNode)&&(X=window.getSelection(),
y=document.createRange(),y.setEnd(qa.anchorNode,qa.anchorOffset),y.collapse(!1),X.removeAllRanges(),X.addRange(y),X.extend(qa.focusNode,qa.focusOffset)));x(t.cursorDiv);x(t.selectionDiv);t.gutters.style.height=t.sizer.style.minHeight=0;q&&(t.lastWrapHeight=f.wrapperHeight,t.lastWrapWidth=f.wrapperWidth,ud(a,400));t.updateLineNumbers=null;return!0}function Bd(a,f){for(var t=f.viewport,q=!0;;q=!1){if(q&&a.options.lineWrapping&&f.oldDisplayWidth!=me(a))q&&(f.visible=uf(a.display,a.doc,t));else if(t&&
null!=t.top&&(t={top:Math.min(a.doc.height+Id(a.display)-ye(a),t.top)}),f.visible=uf(a.display,a.doc,t),f.visible.from>=a.display.viewFrom&&f.visible.to<=a.display.viewTo)break;if(!Td(a,f))break;Te(a);q=M(a);mc(a);fa(a,q);he(a,q);f.force=!1}f.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)f.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}
function af(a,f){f=new Ai(a,f);if(Td(a,f)){Te(a);Bd(a,f);var t=M(a);mc(a);fa(a,t);he(a,t);f.finish()}}function Pd(a,f,t){function q(qc){var oc=qc.nextSibling;yf&&Wg&&a.display.currentWheelTarget==qc?qc.style.display="none":qc.parentNode.removeChild(qc);return oc}var y=a.display,X=a.options.lineNumbers,qa=y.lineDiv,ra=qa.firstChild,jb=y.view;y=y.viewFrom;for(var Bb=0;Bb<jb.length;Bb++){var Xb=jb[Bb];if(!Xb.hidden)if(Xb.node&&Xb.node.parentNode==qa){for(;ra!=Xb.node;)ra=q(ra);ra=X&&null!=f&&f<=y&&Xb.lineNumber;
Xb.changes&&(-1<Xa(Xb.changes,"gutter")&&(ra=!1),Mc(a,Xb,y,t));ra&&(x(Xb.lineNumber),Xb.lineNumber.appendChild(document.createTextNode(xa(a.options,y))));ra=Xb.node.nextSibling}else{var Hc=Jc(a,Xb,y,t);qa.insertBefore(Hc,ra)}y+=Xb.size}for(;ra;)ra=q(ra)}function Fe(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px"}function he(a,f){a.display.sizer.style.minHeight=f.docHeight+"px";a.display.heightForcer.style.top=f.docHeight+"px";a.display.gutters.style.height=f.docHeight+a.display.barHeight+Wd(a)+
"px"}function ze(a){var f=a.display,t=f.view;if(f.alignWidgets||f.gutters.firstChild&&a.options.fixedGutter){for(var q=Cf(f)-f.scroller.scrollLeft+a.doc.scrollLeft,y=f.gutters.offsetWidth,X=q+"px",qa=0;qa<t.length;qa++)if(!t[qa].hidden){a.options.fixedGutter&&(t[qa].gutter&&(t[qa].gutter.style.left=X),t[qa].gutterBackground&&(t[qa].gutterBackground.style.left=X));var ra=t[qa].alignable;if(ra)for(var jb=0;jb<ra.length;jb++)ra[jb].style.left=X}a.options.fixedGutter&&(f.gutters.style.left=q+y+"px")}}
function Sf(a){if(!a.options.lineNumbers)return!1;var f=a.doc;f=xa(a.options,f.first+f.size-1);var t=a.display;if(f.length!=t.lineNumChars){var q=t.measure.appendChild(Sa("div",[Sa("div",f)],"CodeMirror-linenumber CodeMirror-gutter-elt")),y=q.firstChild.offsetWidth;q=q.offsetWidth-y;t.lineGutter.style.width="";t.lineNumInnerWidth=Math.max(y,t.lineGutter.offsetWidth-q)+1;t.lineNumWidth=t.lineNumInnerWidth+q;t.lineNumChars=t.lineNumInnerWidth?f.length:-1;t.lineGutter.style.width=t.lineNumWidth+"px";
Fe(a.display);return!0}return!1}function be(a,f){for(var t=[],q=!1,y=0;y<a.length;y++){var X=a[y],qa=null;"string"!=typeof X&&(qa=X.style,X=X.className);if("CodeMirror-linenumbers"==X)if(f)q=!0;else continue;t.push({className:X,style:qa})}f&&!q&&t.push({className:"CodeMirror-linenumbers",style:null});return t}function wf(a){var f=a.gutters,t=a.gutterSpecs;x(f);a.lineGutter=null;for(var q=0;q<t.length;++q){var y=t[q],X=y.className;y=y.style;var qa=f.appendChild(Sa("div",null,"CodeMirror-gutter "+X));
y&&(qa.style.cssText=y);"CodeMirror-linenumbers"==X&&(a.lineGutter=qa,qa.style.width=(a.lineNumWidth||1)+"px")}f.style.display=t.length?"":"none";Fe(a)}function Ce(a){wf(a.display);V(a);ze(a)}function Kf(a,f,t,q){this.input=t;this.scrollbarFiller=Sa("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=Sa("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=Wb("div",null,"CodeMirror-code");
this.selectionDiv=Sa("div",null,null,"position: relative; z-index: 1");this.cursorDiv=Sa("div",null,"CodeMirror-cursors");this.measure=Sa("div",null,"CodeMirror-measure");this.lineMeasure=Sa("div",null,"CodeMirror-measure");this.lineSpace=Wb("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var y=Wb("div",[this.lineSpace],"CodeMirror-lines");this.mover=Sa("div",[y],null,"position: relative");this.sizer=Sa("div",[this.mover],
"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=Sa("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=Sa("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=Sa("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=Sa("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");nf&&8>sf&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);yf||jg&&
Oh||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=f.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=
this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=be(q.gutters,q.lineNumbers);wf(this);t.init(this)}function ef(a){var f=a.wheelDeltaX,t=a.wheelDeltaY;null==f&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(f=a.detail);null==t&&a.detail&&a.axis==a.VERTICAL_AXIS?t=a.detail:null==t&&(t=a.wheelDelta);return{x:f,y:t}}function gg(a){a=
ef(a);a.x*=Og;a.y*=Og;return a}function O(a,f){var t=ef(f),q=t.x;t=t.y;var y=a.display,X=y.scroller,qa=X.scrollWidth>X.clientWidth,ra=X.scrollHeight>X.clientHeight;if(q&&qa||t&&ra){if(t&&Wg&&yf){qa=f.target;var jb=y.view;a:for(;qa!=X;qa=qa.parentNode)for(var Bb=0;Bb<jb.length;Bb++)if(jb[Bb].node==qa){a.display.currentWheelTarget=qa;break a}}!q||jg||Kg||null==Og?(t&&null!=Og&&(f=t*Og,ra=a.doc.scrollTop,qa=ra+y.wrapper.clientHeight,0>f?ra=Math.max(0,ra+f-50):qa=Math.min(a.doc.height,qa+f+50),af(a,{top:ra,
bottom:qa})),20>Gi&&(null==y.wheelStartX?(y.wheelStartX=X.scrollLeft,y.wheelStartY=X.scrollTop,y.wheelDX=q,y.wheelDY=t,setTimeout(function(){if(null!=y.wheelStartX){var Xb=X.scrollLeft-y.wheelStartX,Hc=X.scrollTop-y.wheelStartY;Xb=Hc&&y.wheelDY&&Hc/y.wheelDY||Xb&&y.wheelDX&&Xb/y.wheelDX;y.wheelStartX=y.wheelStartY=null;Xb&&(Og=(Og*Gi+Xb)/(Gi+1),++Gi)}},200)):(y.wheelDX+=q,y.wheelDY+=t))):(t&&ra&&vf(a,Math.max(0,X.scrollTop+t*Og)),df(a,Math.max(0,X.scrollLeft+q*Og)),(!t||t&&ra)&&J(f),y.wheelStartX=
null)}}function P(a,f,t){a=a&&a.options.selectionsMayTouch;t=f[t];f.sort(function(jb,Bb){return Va(jb.from(),Bb.from())});t=Xa(f,t);for(var q=1;q<f.length;q++){var y=f[q],X=f[q-1],qa=Va(X.to(),y.from());if(a&&!y.empty()?0<qa:0<=qa){qa=eb(X.from(),y.from());var ra=ta(X.to(),y.to());y=X.empty()?y.from()==y.head:X.from()==X.head;q<=t&&--t;f.splice(--q,2,new zf(y?ra:qa,y?qa:ra))}}return new Ng(f,t)}function aa(a,f){return new Ng([new zf(a,f||a)],0)}function ja(a){return a.text?oa(a.from.line+a.text.length-
1,Za(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function ya(a,f){if(0>Va(a,f.from))return a;if(0>=Va(a,f.to))return ja(f);var t=a.line+f.text.length-(f.to.line-f.from.line)-1,q=a.ch;a.line==f.to.line&&(q+=ja(f).ch-f.to.ch);return oa(t,q)}function Ea(a,f){for(var t=[],q=0;q<a.sel.ranges.length;q++){var y=a.sel.ranges[q];t.push(new zf(ya(y.anchor,f),ya(y.head,f)))}return P(a.cm,t,a.sel.primIndex)}function ab(a,f,t){return a.line==f.line?oa(t.line,a.ch-f.ch+t.ch):oa(t.line+(a.line-f.line),a.ch)}
function tb(a){a.doc.mode=ua(a.options,a.doc.modeOption);pb(a)}function pb(a){a.doc.iter(function(f){f.stateAfter&&(f.stateAfter=null);f.styles&&(f.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;ud(a,100);a.state.modeGen++;a.curOp&&V(a)}function Ab(a,f){return 0==f.from.ch&&0==f.to.ch&&""==Za(f.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Eb(a,f,t,q){function y(ed,Od,He){ed.text=Od;ed.stateAfter&&(ed.stateAfter=null);ed.styles&&(ed.styles=null);null!=ed.order&&
(ed.order=null);ld(ed);sd(ed,He);Od=q?q(ed):1;Od!=ed.height&&E(ed,Od);tc(ed,"change",ed,f)}function X(ed,Od){for(var He=[];ed<Od;++ed)He.push(new bi(jb[ed],t?t[ed]:null,q));return He}var qa=f.from,ra=f.to,jb=f.text,Bb=p(a,qa.line),Xb=p(a,ra.line),Hc=Za(jb),qc=t?t[jb.length-1]:null,oc=ra.line-qa.line;f.full?(a.insert(0,X(0,jb.length)),a.remove(jb.length,a.size-jb.length)):Ab(a,f)?(ra=X(0,jb.length-1),y(Xb,Xb.text,qc),oc&&a.remove(qa.line,oc),ra.length&&a.insert(qa.line,ra)):Bb==Xb?1==jb.length?y(Bb,
Bb.text.slice(0,qa.ch)+Hc+Bb.text.slice(ra.ch),qc):(oc=X(1,jb.length-1),oc.push(new bi(Hc+Bb.text.slice(ra.ch),qc,q)),y(Bb,Bb.text.slice(0,qa.ch)+jb[0],t?t[0]:null),a.insert(qa.line+1,oc)):1==jb.length?(y(Bb,Bb.text.slice(0,qa.ch)+jb[0]+Xb.text.slice(ra.ch),t?t[0]:null),a.remove(qa.line+1,oc)):(y(Bb,Bb.text.slice(0,qa.ch)+jb[0],t?t[0]:null),y(Xb,Hc+Xb.text.slice(ra.ch),qc),qc=X(1,jb.length-1),1<oc&&a.remove(qa.line+1,oc-1),a.insert(qa.line+1,qc));tc(a,"change",a,f)}function Yb(a,f,t){function q(y,
X,qa){if(y.linked)for(var ra=0;ra<y.linked.length;++ra){var jb=y.linked[ra];if(jb.doc!=X){var Bb=qa&&jb.sharedHist;if(!t||Bb)f(jb.doc,Bb),q(jb.doc,y,Bb)}}}q(a,null,!0)}function pc(a,f){if(f.cm)throw Error("This document is already in use.");a.doc=f;f.cm=a;tf(a);tb(a);u(a);a.options.lineWrapping||gb(a);a.options.mode=f.modeOption;V(a)}function u(a){("rtl"==a.doc.direction?Ob:Xg)(a.display.lineDiv,"CodeMirror-rtl")}function F(a){jc(a,function(){u(a);V(a)})}function ca(a){this.done=[];this.undone=[];
this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a||1}function na(a,f){var t={from:ba(f.from),to:ja(f),text:r(a,f.from,f.to)};gc(a,t,f.from.line,f.to.line+1);Yb(a,function(q){return gc(q,t,f.from.line,f.to.line+1)},!0);return t}function lb(a){for(;a.length;)if(Za(a).ranges)a.pop();else break}function Ib(a,f,t,q){var y=a.history;y.undone.length=0;var X=+new Date,qa;if(qa=y.lastOp==q||y.lastOrigin==
f.origin&&f.origin&&("+"==f.origin.charAt(0)&&y.lastModTime>X-(a.cm?a.cm.options.historyEventDelay:500)||"*"==f.origin.charAt(0))){if(y.lastOp==q){lb(y.done);var ra=Za(y.done)}else y.done.length&&!Za(y.done).ranges?ra=Za(y.done):1<y.done.length&&!y.done[y.done.length-2].ranges?(y.done.pop(),ra=Za(y.done)):ra=void 0;qa=ra}if(qa){var jb=Za(ra.changes);0==Va(f.from,f.to)&&0==Va(f.from,jb.to)?jb.to=ja(f):ra.changes.push(na(a,f))}else for((ra=Za(y.done))&&ra.ranges||Sb(a.sel,y.done),ra={changes:[na(a,
f)],generation:y.generation},y.done.push(ra);y.done.length>y.undoDepth;)y.done.shift(),y.done[0].ranges||y.done.shift();y.done.push(t);y.generation=++y.maxGeneration;y.lastModTime=y.lastSelTime=X;y.lastOp=y.lastSelOp=q;y.lastOrigin=y.lastSelOrigin=f.origin;jb||$a(a,"historyAdded")}function Sb(a,f){var t=Za(f);t&&t.ranges&&t.equals(a)||f.push(a)}function gc(a,f,t,q){var y=f["spans_"+a.id],X=0;a.iter(Math.max(a.first,t),Math.min(a.first+a.size,q),function(qa){qa.markedSpans&&((y||(y=f["spans_"+a.id]=
{}))[X]=qa.markedSpans);++X})}function zc(a){if(!a)return null;for(var f,t=0;t<a.length;++t)a[t].marker.explicitlyCleared?f||(f=a.slice(0,t)):f&&f.push(a[t]);return f?f.length?f:null:a}function Tc(a,f){var t;if(t=f["spans_"+a.id]){for(var q=[],y=0;y<f.text.length;++y)q.push(zc(t[y]));t=q}else t=null;a=Nc(a,f);if(!t)return a;if(!a)return t;for(f=0;f<t.length;++f)if(q=t[f],y=a[f],q&&y){var X=0;a:for(;X<y.length;++X){for(var qa=y[X],ra=0;ra<q.length;++ra)if(q[ra].marker==qa.marker)continue a;q.push(qa)}}else y&&
(t[f]=y);return t}function Rc(a,f,t){for(var q=[],y=0;y<a.length;++y){var X=a[y];if(X.ranges)q.push(t?Ng.prototype.deepCopy.call(X):X);else{X=X.changes;var qa=[];q.push({changes:qa});for(var ra=0;ra<X.length;++ra){var jb=X[ra],Bb;qa.push({from:jb.from,to:jb.to,text:jb.text});if(f)for(var Xb in jb)(Bb=Xb.match(/^spans_(\d+)$/))&&-1<Xa(f,Number(Bb[1]))&&(Za(qa)[Xb]=jb[Xb],delete jb[Xb])}}}return q}function yd(a,f,t,q){return q?(a=a.anchor,t&&(q=0>Va(f,a),q!=0>Va(t,a)?(a=f,f=t):q!=0>Va(f,t)&&(f=t)),
new zf(a,f)):new zf(t||f,f)}function Md(a,f,t,q,y){null==y&&(y=a.cm&&(a.cm.display.shift||a.extend));pa(a,new Ng([yd(a.sel.primary(),f,t,y)],0),q)}function bd(a,f,t){for(var q=[],y=a.cm&&(a.cm.display.shift||a.extend),X=0;X<a.sel.ranges.length;X++)q[X]=yd(a.sel.ranges[X],f[X],null,y);f=P(a.cm,q,a.sel.primIndex);pa(a,f,t)}function Sd(a,f,t,q){var y=a.sel.ranges.slice(0);y[f]=t;pa(a,P(a.cm,y,a.sel.primIndex),q)}function je(a,f,t){t={ranges:f.ranges,update:function(q){this.ranges=[];for(var y=0;y<q.length;y++)this.ranges[y]=
new zf(xb(a,q[y].anchor),xb(a,q[y].head))},origin:t&&t.origin};$a(a,"beforeSelectionChange",a,t);a.cm&&$a(a.cm,"beforeSelectionChange",a.cm,t);return t.ranges!=f.ranges?P(a.cm,t.ranges,t.ranges.length-1):f}function We(a,f,t){var q=a.history.done,y=Za(q);y&&y.ranges?(q[q.length-1]=f,Pa(a,f,t)):pa(a,f,t)}function pa(a,f,t){Pa(a,f,t);f=a.sel;var q=a.cm?a.cm.curOp.id:NaN,y=a.history,X=t&&t.origin,qa;if(!(qa=q==y.lastSelOp)&&(qa=X&&y.lastSelOrigin==X)&&!(qa=y.lastModTime==y.lastSelTime&&y.lastOrigin==
X)){qa=Za(y.done);var ra=X.charAt(0);qa="*"==ra||"+"==ra&&qa.ranges.length==f.ranges.length&&qa.somethingSelected()==f.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}qa?y.done[y.done.length-1]=f:Sb(f,y.done);y.lastSelTime=+new Date;y.lastSelOrigin=X;y.lastSelOp=q;t&&!1!==t.clearRedo&&lb(y.undone)}function Pa(a,f,t){if(I(a,"beforeSelectionChange")||a.cm&&I(a.cm,"beforeSelectionChange"))f=je(a,f,t);var q=t&&t.bias||(0>Va(f.primary().head,a.sel.primary().head)?
-1:1);qb(a,Ub(a,f,q,!0));t&&!1===t.scroll||!a.cm||Ue(a.cm)}function qb(a,f){f.equals(a.sel)||(a.sel=f,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,z(a.cm)),tc(a,"cursorActivity",a))}function Cb(a){qb(a,Ub(a,a.sel,null,!1))}function Ub(a,f,t,q){for(var y,X=0;X<f.ranges.length;X++){var qa=f.ranges[X],ra=f.ranges.length==a.sel.ranges.length&&a.sel.ranges[X],jb=m(a,qa.anchor,ra&&ra.anchor,t,q);ra=m(a,qa.head,ra&&ra.head,t,q);if(y||jb!=qa.anchor||ra!=qa.head)y||(y=f.ranges.slice(0,X)),
y[X]=new zf(jb,ra)}return y?P(a.cm,y,f.primIndex):f}function c(a,f,t,q,y){var X=p(a,f.line);if(X.markedSpans)for(var qa=0;qa<X.markedSpans.length;++qa){var ra=X.markedSpans[qa],jb=ra.marker,Bb="selectLeft"in jb?!jb.selectLeft:jb.inclusiveLeft,Xb="selectRight"in jb?!jb.selectRight:jb.inclusiveRight;if((null==ra.from||(Bb?ra.from<=f.ch:ra.from<f.ch))&&(null==ra.to||(Xb?ra.to>=f.ch:ra.to>f.ch))){if(y&&($a(jb,"beforeCursorEnter"),jb.explicitlyCleared))if(X.markedSpans){--qa;continue}else break;if(jb.atomic){if(t){qa=
jb.find(0>q?1:-1);ra=void 0;if(0>q?Xb:Bb)qa=G(a,qa,-q,qa&&qa.line==f.line?X:null);if(qa&&qa.line==f.line&&(ra=Va(qa,t))&&(0>q?0>ra:0<ra))return c(a,qa,f,q,y)}t=jb.find(0>q?-1:1);if(0>q?Bb:Xb)t=G(a,t,q,t.line==f.line?X:null);return t?c(a,t,f,q,y):null}}}return f}function m(a,f,t,q,y){q=q||1;f=c(a,f,t,q,y)||!y&&c(a,f,t,q,!0)||c(a,f,t,-q,y)||!y&&c(a,f,t,-q,!0);return f?f:(a.cantEdit=!0,oa(a.first,0))}function G(a,f,t,q){return 0>t&&0==f.ch?f.line>a.first?xb(a,oa(f.line-1)):null:0<t&&f.ch==(q||p(a,f.line)).text.length?
f.line<a.first+a.size-1?oa(f.line+1,0):null:new oa(f.line,f.ch+t)}function ia(a){a.setSelection(oa(a.firstLine(),0),oa(a.lastLine()),bg)}function Ga(a,f,t){var q={canceled:!1,from:f.from,to:f.to,text:f.text,origin:f.origin,cancel:function(){return q.canceled=!0}};t&&(q.update=function(y,X,qa,ra){y&&(q.from=xb(a,y));X&&(q.to=xb(a,X));qa&&(q.text=qa);void 0!==ra&&(q.origin=ra)});$a(a,"beforeChange",a,q);a.cm&&$a(a.cm,"beforeChange",a.cm,q);return q.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:q.from,
to:q.to,text:q.text,origin:q.origin}}function Pb(a,f,t){if(a.cm){if(!a.cm.curOp)return Qc(a.cm,Pb)(a,f,t);if(a.cm.state.suppressEdits)return}if(I(a,"beforeChange")||a.cm&&I(a.cm,"beforeChange"))if(f=Ga(a,f,!0),!f)return;if(t=Cj&&!t&&we(a,f.from,f.to))for(var q=t.length-1;0<=q;--q)Tb(a,{from:t[q].from,to:t[q].to,text:q?[""]:f.text,origin:f.origin});else Tb(a,f)}function Tb(a,f){if(1!=f.text.length||""!=f.text[0]||0!=Va(f.from,f.to)){var t=Ea(a,f);Ib(a,f,t,a.cm?a.cm.curOp.id:NaN);hd(a,f,t,Nc(a,f));
var q=[];Yb(a,function(y,X){X||-1!=Xa(q,y.history)||(Hd(y.history,f),q.push(y.history));hd(y,f,null,Nc(y,f))})}}function dc(a,f,t){var q=a.cm&&a.cm.state.suppressEdits;if(!q||t){for(var y=a.history,X,qa=a.sel,ra="undo"==f?y.done:y.undone,jb="undo"==f?y.undone:y.done,Bb=0;Bb<ra.length&&(X=ra[Bb],t?!X.ranges||X.equals(a.sel):X.ranges);Bb++);if(Bb!=ra.length){for(y.lastOrigin=y.lastSelOrigin=null;;)if(X=ra.pop(),X.ranges){Sb(X,jb);if(t&&!X.equals(a.sel)){pa(a,X,{clearRedo:!1});return}qa=X}else{if(q){ra.push(X);
return}break}var Xb=[];Sb(qa,jb);jb.push({changes:Xb,generation:y.generation});y.generation=X.generation||++y.maxGeneration;var Hc=I(a,"beforeChange")||a.cm&&I(a.cm,"beforeChange");t=function(qc){var oc=X.changes[qc];oc.origin=f;if(Hc&&!Ga(a,oc,!1))return ra.length=0,{};Xb.push(na(a,oc));var ed=qc?Ea(a,oc):Za(ra);hd(a,oc,ed,Tc(a,oc));!qc&&a.cm&&a.cm.scrollIntoView({from:oc.from,to:ja(oc)});var Od=[];Yb(a,function(He,xf){xf||-1!=Xa(Od,He.history)||(Hd(He.history,oc),Od.push(He.history));hd(He,oc,null,
Tc(He,oc))})};for(q=X.changes.length-1;0<=q;--q)if(y=t(q))return y.v}}}function vc(a,f){if(0!=f&&(a.first+=f,a.sel=new Ng(mb(a.sel.ranges,function(y){return new zf(oa(y.anchor.line+f,y.anchor.ch),oa(y.head.line+f,y.head.ch))}),a.sel.primIndex),a.cm)){V(a.cm,a.first,a.first-f,f);for(var t=a.cm.display,q=t.viewFrom;q<t.viewTo;q++)wa(a.cm,q,"gutter")}}function hd(a,f,t,q){if(a.cm&&!a.cm.curOp)return Qc(a.cm,hd)(a,f,t,q);if(f.to.line<a.first)vc(a,f.text.length-1-(f.to.line-f.from.line));else if(!(f.from.line>
a.lastLine())){if(f.from.line<a.first){var y=f.text.length-1-(a.first-f.from.line);vc(a,y);f={from:oa(a.first,0),to:oa(f.to.line+y,f.to.ch),text:[Za(f.text)],origin:f.origin}}y=a.lastLine();f.to.line>y&&(f={from:f.from,to:oa(y,p(a,y).text.length),text:[f.text[0]],origin:f.origin});f.removed=r(a,f.from,f.to);t||(t=Ea(a,f));a.cm?nd(a.cm,f,q):Eb(a,f,q);Pa(a,t,bg);a.cantEdit&&m(a,oa(a.firstLine(),0))&&(a.cantEdit=!1)}}function nd(a,f,t){var q=a.doc,y=a.display,X=f.from,qa=f.to,ra=!1,jb=X.line;a.options.lineWrapping||
(jb=H(ac(p(q,X.line))),q.iter(jb,qa.line+1,function(Bb){if(Bb==y.maxLine)return ra=!0}));-1<q.sel.contains(f.from,f.to)&&z(a);Eb(q,f,t,kf(a));a.options.lineWrapping||(q.iter(jb,X.line+f.text.length,function(Bb){var Xb=za(Bb);Xb>y.maxLineLength&&(y.maxLine=Bb,y.maxLineLength=Xb,y.maxLineChanged=!0,ra=!1)}),ra&&(a.curOp.updateMaxLine=!0));rc(q,X.line);ud(a,400);t=f.text.length-(qa.line-X.line)-1;f.full?V(a):X.line!=qa.line||1!=f.text.length||Ab(a.doc,f)?V(a,X.line,qa.line+1,t):wa(a,X.line,"text");t=
I(a,"changes");if((q=I(a,"change"))||t)f={from:X,to:qa,text:f.text,removed:f.removed,origin:f.origin},q&&tc(a,"change",a,f),t&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(f);a.display.selForContextMenu=null}function ie(a,f,t,q,y){q||(q=t);0>Va(q,t)&&(q=[q,t],t=q[0],q=q[1]);"string"==typeof f&&(f=a.splitLines(f));Pb(a,{from:t,to:q,text:f,origin:y})}function $d(a,f,t,q){t<a.line?a.line+=q:f<a.line&&(a.line=f,a.ch=0)}function Vd(a,f,t,q){for(var y=0;y<a.length;++y){var X=a[y],qa=!0;if(X.ranges)for(X.copied||
(X=a[y]=X.deepCopy(),X.copied=!0),qa=0;qa<X.ranges.length;qa++)$d(X.ranges[qa].anchor,f,t,q),$d(X.ranges[qa].head,f,t,q);else{for(var ra=0;ra<X.changes.length;++ra){var jb=X.changes[ra];if(t<jb.from.line)jb.from=oa(jb.from.line+q,jb.from.ch),jb.to=oa(jb.to.line+q,jb.to.ch);else if(f<=jb.to.line){qa=!1;break}}qa||(a.splice(0,y+1),y=0)}}}function Hd(a,f){var t=f.from.line,q=f.to.line;f=f.text.length-(q-t)-1;Vd(a.done,t,q,f);Vd(a.undone,t,q,f)}function md(a,f,t,q){var y=f,X=f;"number"==typeof f?X=p(a,
Math.max(a.first,Math.min(f,a.first+a.size-1))):y=H(f);if(null==y)return null;q(X,y)&&a.cm&&wa(a.cm,y,t);return X}function ce(a){this.lines=a;this.parent=null;for(var f=0,t=0;t<a.length;++t)a[t].parent=this,f+=a[t].height;this.height=f}function bf(a){this.children=a;for(var f=0,t=0,q=0;q<a.length;++q){var y=a[q];f+=y.chunkSize();t+=y.height;y.parent=this}this.size=f;this.height=t;this.parent=null}function qf(a,f,t,q){var y=new oi(a,t,q),X=a.cm;X&&y.noHScroll&&(X.display.alignWidgets=!0);md(a,f,"widget",
function(qa){var ra=qa.widgets||(qa.widgets=[]);null==y.insertAt?ra.push(y):ra.splice(Math.min(ra.length,Math.max(0,y.insertAt)),0,y);y.line=qa;X&&!de(a,qa)&&(ra=Z(qa)<a.scrollTop,E(qa,qa.height+od(y)),ra&&pd(X,y.height),X.curOp.forceUpdate=!0);return!0});X&&tc(X,"lineWidgetAdded",X,y,"number"==typeof f?f:H(f));return y}function ke(a,f,t,q,y){if(q&&q.shared)return Xe(a,f,t,q,y);if(a.cm&&!a.cm.curOp)return Qc(a.cm,ke)(a,f,t,q,y);var X=new Qg(a,y);y=Va(f,t);q&&ob(q,X,!1);if(0<y||0==y&&!1!==X.clearWhenEmpty)return X;
X.replacedWith&&(X.collapsed=!0,X.widgetNode=Wb("span",[X.replacedWith],"CodeMirror-widget"),q.handleMouseEvents||X.widgetNode.setAttribute("cm-ignore-events","true"),q.insertLeft&&(X.widgetNode.insertLeft=!0));if(X.collapsed){if(vb(a,f.line,f,t,X)||f.line!=t.line&&vb(a,t.line,f,t,X))throw Error("Inserting collapsed marker partially overlapping an existing one");ai=!0}X.addToHistory&&Ib(a,{from:f,to:t,origin:"markText"},a.sel,NaN);var qa=f.line,ra=a.cm,jb;a.iter(qa,t.line+1,function(Bb){ra&&X.collapsed&&
!ra.options.lineWrapping&&ac(Bb)==ra.display.maxLine&&(jb=!0);X.collapsed&&qa!=f.line&&E(Bb,0);var Xb=new Xc(X,qa==f.line?f.ch:null,qa==t.line?t.ch:null);Bb.markedSpans=Bb.markedSpans?Bb.markedSpans.concat([Xb]):[Xb];Xb.marker.attachLine(Bb);++qa});X.collapsed&&a.iter(f.line,t.line+1,function(Bb){de(a,Bb)&&E(Bb,0)});X.clearOnEnter&&Ge(X,"beforeCursorEnter",function(){return X.clear()});X.readOnly&&(Cj=!0,(a.history.done.length||a.history.undone.length)&&a.clearHistory());X.collapsed&&(X.id=++mh,X.atomic=
!0);if(ra){jb&&(ra.curOp.updateMaxLine=!0);if(X.collapsed)V(ra,f.line,t.line+1);else if(X.className||X.startStyle||X.endStyle||X.css||X.attributes||X.title)for(q=f.line;q<=t.line;q++)wa(ra,q,"text");X.atomic&&Cb(ra.doc);tc(ra,"markerAdded",ra,X)}return X}function Xe(a,f,t,q,y){q=ob(q);q.shared=!1;var X=[ke(a,f,t,q,y)],qa=X[0],ra=q.widgetNode;Yb(a,function(jb){ra&&(q.widgetNode=ra.cloneNode(!0));X.push(ke(jb,xb(jb,f),xb(jb,t),q,y));for(var Bb=0;Bb<jb.linked.length;++Bb)if(jb.linked[Bb].isParent)return;
qa=Za(X)});return new Dh(X,qa)}function hf(a){return a.findMarks(oa(a.first,0),a.clipPos(oa(a.lastLine())),function(f){return f.parent})}function kg(a){for(var f=function(q){q=a[q];var y=[q.primary.doc];Yb(q.primary.doc,function(ra){return y.push(ra)});for(var X=0;X<q.markers.length;X++){var qa=q.markers[X];-1==Xa(y,qa.doc)&&(qa.parent=null,q.markers.splice(X--,1))}},t=0;t<a.length;t++)f(t)}function Yf(a){var f=this;Lf(f);if(!S(f,a)&&!qd(f.display,a)){J(a);nf&&(Bi=+new Date);var t=Pe(f,a,!0),q=a.dataTransfer.files;
if(t&&!f.isReadOnly())if(q&&q.length&&window.FileReader&&window.File)for(var y=q.length,X=Array(y),qa=0,ra=function(){++qa==y&&Qc(f,function(){t=xb(f.doc,t);var Xb={from:t,to:t,text:f.doc.splitLines(X.filter(function(Hc){return null!=Hc}).join(f.doc.lineSeparator())),origin:"paste"};Pb(f.doc,Xb);We(f.doc,aa(xb(f.doc,t),xb(f.doc,ja(Xb))))})()},jb=function(Xb,Hc){if(f.options.allowDropFileTypes&&-1==Xa(f.options.allowDropFileTypes,Xb.type))ra();else{var qc=new FileReader;qc.onerror=function(){return ra()};
qc.onload=function(){var oc=qc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(oc)||(X[Hc]=oc);ra()};qc.readAsText(Xb)}},Bb=0;Bb<q.length;Bb++)jb(q[Bb],Bb);else if(f.state.draggingText&&-1<f.doc.sel.contains(t))f.state.draggingText(a),setTimeout(function(){return f.display.input.focus()},20);else try{if(jb=a.dataTransfer.getData("Text")){f.state.draggingText&&!f.state.draggingText.copy&&(Bb=f.listSelections());Pa(f.doc,aa(t,t));if(Bb)for(q=0;q<Bb.length;++q)ie(f.doc,"",Bb[q].anchor,Bb[q].head,"drag");f.replaceSelection(jb,
"around","paste");f.display.input.focus()}}catch(Xb){}}}function Lf(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Gh(a){if(document.getElementsByClassName){for(var f=document.getElementsByClassName("CodeMirror"),t=[],q=0;q<f.length;q++){var y=f[q].CodeMirror;y&&t.push(y)}t.length&&t[0].operation(function(){for(var X=0;X<t.length;X++)a(t[X])})}}function Rd(){var a;Ge(window,"resize",function(){null==a&&(a=setTimeout(function(){a=
null;Gh(Ef)},100))});Ge(window,"blur",function(){return Gh(le)})}function Ef(a){var f=a.display;f.cachedCharWidth=f.cachedTextHeight=f.cachedPaddingH=null;f.scrollbarsClipped=!1;a.setSize()}function Hh(a){var f=a.split(/-(?!$)/);a=f[f.length-1];for(var t,q,y,X,qa=0;qa<f.length-1;qa++){var ra=f[qa];if(/^(cmd|meta|m)$/i.test(ra))X=!0;else if(/^a(lt)?$/i.test(ra))t=!0;else if(/^(c|ctrl|control)$/i.test(ra))q=!0;else if(/^s(hift)?$/i.test(ra))y=!0;else throw Error("Unrecognized modifier name: "+ra);}t&&
(a="Alt-"+a);q&&(a="Ctrl-"+a);X&&(a="Cmd-"+a);y&&(a="Shift-"+a);return a}function Zg(a){var f={},t;for(t in a)if(a.hasOwnProperty(t)){var q=a[t];if(!/^(name|fallthrough|(de|at)tach)$/.test(t)){if("..."!=q)for(var y=mb(t.split(" "),Hh),X=0;X<y.length;X++){if(X==y.length-1){var qa=y.join(" ");var ra=q}else qa=y.slice(0,X+1).join(" "),ra="...";var jb=f[qa];if(!jb)f[qa]=ra;else if(jb!=ra)throw Error("Inconsistent bindings for "+qa);}delete a[t]}}for(var Bb in f)a[Bb]=f[Bb];return a}function rh(a,f,t,
q){f=bj(f);var y=f.call?f.call(a,q):f[a];if(!1===y)return"nothing";if("..."===y)return"multi";if(null!=y&&t(y))return"handled";if(f.fallthrough){if("[object Array]"!=Object.prototype.toString.call(f.fallthrough))return rh(a,f.fallthrough,t,q);for(y=0;y<f.fallthrough.length;y++){var X=rh(a,f.fallthrough[y],t,q);if(X)return X}}}function Hi(a){a="string"==typeof a?a:Lh[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==a||"Mod"==a}function Ii(a,f,t){var q=a;f.altKey&&"Alt"!=q&&(a="Alt-"+a);(Qi?f.metaKey:
f.ctrlKey)&&"Ctrl"!=q&&(a="Ctrl-"+a);(Qi?f.ctrlKey:f.metaKey)&&"Mod"!=q&&(a="Cmd-"+a);!t&&f.shiftKey&&"Shift"!=q&&(a="Shift-"+a);return a}function Xh(a,f){if(Kg&&34==a.keyCode&&a["char"])return!1;var t=Lh[a.keyCode];if(null==t||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(t=a.code);return Ii(t,a,f)}function bj(a){return"string"==typeof a?dj[a]:a}function Yi(a,f){for(var t=a.doc.sel.ranges,q=[],y=0;y<t.length;y++){for(var X=f(t[y]);q.length&&0>=Va(X.from,Za(q).to);){var qa=q.pop();if(0>Va(qa.from,
X.from)){X.from=qa.from;break}}q.push(X)}jc(a,function(){for(var ra=q.length-1;0<=ra;ra--)ie(a.doc,"",q[ra].from,q[ra].to,"+delete");Ue(a)})}function mi(a,f,t){f=Aa(a.text,f+t,t);return 0>f||f>a.text.length?null:f}function tj(a,f,t){a=mi(a,f.ch,t);return null==a?null:new oa(f.line,a,0>t?"after":"before")}function Mg(a,f,t,q,y){if(a&&("rtl"==f.doc.direction&&(y=-y),a=db(t,f.doc.direction))){a=0>y?Za(a):a[0];var X=0>y==(1==a.level)?"after":"before";if(0<a.level||"rtl"==f.doc.direction){var qa=Re(f,
t);var ra=0>y?t.text.length-1:0;var jb=Fd(f,qa,ra).top;ra=Ra(function(Bb){return Fd(f,qa,Bb).top==jb},0>y==(1==a.level)?a.from:a.to-1,ra);"before"==X&&(ra=mi(t,ra,1))}else ra=0>y?a.to:a.from;return new oa(q,ra,X)}return new oa(q,0>y?t.text.length:0,0>y?"before":"after")}function Lj(a,f,t,q){var y=db(f,a.doc.direction);if(!y)return tj(f,t,q);t.ch>=f.text.length?(t.ch=f.text.length,t.sticky="before"):0>=t.ch&&(t.ch=0,t.sticky="after");var X=ib(y,t.ch,t.sticky),qa=y[X];if("ltr"==a.doc.direction&&0==
qa.level%2&&(0<q?qa.to>t.ch:qa.from<t.ch))return tj(f,t,q);var ra=function(oc,ed){return mi(f,oc instanceof oa?oc.ch:oc,ed)},jb,Bb=function(oc){if(!a.options.lineWrapping)return{begin:0,end:f.text.length};jb=jb||Re(a,f);return Ee(a,f,jb,oc)},Xb=Bb("before"==t.sticky?ra(t,-1):t.ch);if("rtl"==a.doc.direction||1==qa.level){var Hc=1==qa.level==0>q,qc=ra(t,Hc?1:-1);if(null!=qc&&(Hc?qc<=qa.to&&qc<=Xb.end:qc>=qa.from&&qc>=Xb.begin))return new oa(t.line,qc,Hc?"before":"after")}qa=function(oc,ed,Od){for(var He=
function(Af,Tf){return Tf?new oa(t.line,ra(Af,1),"before"):new oa(t.line,Af,"after")};0<=oc&&oc<y.length;oc+=ed){var xf=y[oc],ve=0<ed==(1!=xf.level),Nf=ve?Od.begin:ra(Od.end,-1);if(xf.from<=Nf&&Nf<xf.to)return He(Nf,ve);Nf=ve?xf.from:ra(xf.to,-1);if(Od.begin<=Nf&&Nf<Od.end)return He(Nf,ve)}};if(X=qa(X+q,q,Xb))return X;Xb=0<q?Xb.end:ra(Xb.begin,-1);return null==Xb||0<q&&Xb==f.text.length||!(X=qa(0<q?0:y.length-1,q,Bb(Xb)))?null:X}function jk(a,f){var t=p(a.doc,f),q=ac(t);q!=t&&(f=H(q));return Mg(!0,
a,q,f,1)}function Wh(a,f){var t=jk(a,f.line),q=p(a.doc,t.line);a=db(q,a.doc.direction);return a&&0!=a[0].level?t:(q=Math.max(t.ch,q.text.search(/\S/)),oa(t.line,f.line==t.line&&f.ch<=q&&f.ch?0:q,t.sticky))}function Ei(a,f,t){if("string"==typeof f&&(f=Di[f],!f))return!1;a.display.input.ensurePolled();var q=a.display.shift,y=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),t&&(a.display.shift=!1),y=f(a)!=Kh}finally{a.display.shift=q,a.state.suppressEdits=!1}return y}function eh(a,f,t,q){var y=a.state.keySeq;
if(y){if(Hi(f))return"handled";/'$/.test(f)?a.state.keySeq=null:Wj.set(50,function(){a.state.keySeq==y&&(a.state.keySeq=null,a.display.input.reset())});if(Ij(a,y+" "+f,t,q))return!0}return Ij(a,f,t,q)}function Ij(a,f,t,q){a:{for(var y=0;y<a.state.keyMaps.length;y++){var X=rh(f,a.state.keyMaps[y],q,a);if(X){q=X;break a}}q=a.options.extraKeys&&rh(f,a.options.extraKeys,q,a)||rh(f,a.options.keyMap,q,a)}"multi"==q&&(a.state.keySeq=f);"handled"==q&&tc(a,"keyHandled",a,f,t);if("handled"==q||"multi"==q)J(t),
fd(a);return!!q}function qg(a,f){var t=Xh(f,!0);return t?f.shiftKey&&!a.state.keySeq?eh(a,"Shift-"+t,f,function(q){return Ei(a,q,!0)})||eh(a,t,f,function(q){if("string"==typeof q?/^go[A-Z]/.test(q):q.motion)return Ei(a,q)}):eh(a,t,f,function(q){return Ei(a,q)}):!1}function Fk(a,f,t){return eh(a,"'"+t+"'",f,function(q){return Ei(a,q,!0)})}function ek(a){if(!a.target||a.target==this.display.input.getField())if(this.curOp.focus=ub(),!S(this,a)){nf&&11>sf&&27==a.keyCode&&(a.returnValue=!1);var f=a.keyCode;
this.display.shift=16==f||a.shiftKey;var t=qg(this,a);Kg&&(sh=t?f:null,!t&&88==f&&!Qh&&(Wg?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));jg&&!Wg&&!t&&46==f&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=f||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||ph(this)}}function ph(a){function f(q){18!=q.keyCode&&q.altKey||(Xg(t,"CodeMirror-crosshair"),nb(document,"keyup",f),nb(document,"mouseover",f))}var t=a.display.lineDiv;Ob(t,"CodeMirror-crosshair");
Ge(document,"keyup",f);Ge(document,"mouseover",f)}function wg(a){16==a.keyCode&&(this.doc.sel.shift=!1);S(this,a)}function aj(a){if(!(a.target&&a.target!=this.display.input.getField()||qd(this.display,a)||S(this,a)||a.ctrlKey&&!a.altKey||Wg&&a.metaKey)){var f=a.keyCode,t=a.charCode;if(Kg&&f==sh)sh=null,J(a);else if(!Kg||a.which&&!(10>a.which)||!qg(this,a))if(f=String.fromCharCode(null==t?f:t),"\b"!=f&&!Fk(this,a,f))this.display.input.onKeyPress(a)}}function uj(a,f){var t=+new Date;if(xj&&xj.compare(t,
a,f))return nh=xj=null,"triple";if(nh&&nh.compare(t,a,f))return xj=new oj(t,a,f),nh=null,"double";nh=new oj(t,a,f);xj=null;return"single"}function Ji(a){var f=this.display;if(!(S(this,a)||f.activeTouch&&f.input.supportsTouch()))if(f.input.ensurePolled(),f.shift=a.shiftKey,qd(f,a))yf||(f.scroller.draggable=!1,setTimeout(function(){return f.scroller.draggable=!0},100));else if(!vj(this,a,"gutterClick",!0)){var t=Pe(this,a),q=Qa(a),y=t?uj(t,q):"single";window.focus();1==q&&this.state.selectingText&&
this.state.selectingText(a);if(!t||!kk(this,q,t,y,a))if(1==q)t?cj(this,t,y,a):(a.target||a.srcElement)==f.scroller&&J(a);else if(2==q)t&&Md(this.doc,t),setTimeout(function(){return f.input.focus()},20);else if(3==q)if(ti)this.display.input.onContextMenu(a);else xd(this)}}function kk(a,f,t,q,y){var X="Click";"double"==q?X="Double"+X:"triple"==q&&(X="Triple"+X);return eh(a,Ii((1==f?"Left":2==f?"Middle":"Right")+X,y),y,function(qa){"string"==typeof qa&&(qa=Di[qa]);if(!qa)return!1;var ra=!1;try{a.isReadOnly()&&
(a.state.suppressEdits=!0),ra=qa(a,t)!=Kh}finally{a.state.suppressEdits=!1}return ra})}function cj(a,f,t,q){nf?setTimeout(cb(se,a),0):a.curOp.focus=ub();var y=a.getOption("configureMouse");y=y?y(a,t,q):{};null==y.unit&&(y.unit=(Tj?q.shiftKey&&q.metaKey:q.altKey)?"rectangle":"single"==t?"char":"double"==t?"word":"line");if(null==y.extend||a.doc.extend)y.extend=a.doc.extend||q.shiftKey;null==y.addNew&&(y.addNew=Wg?q.metaKey:q.ctrlKey);null==y.moveOnDrag&&(y.moveOnDrag=!(Wg?q.altKey:q.ctrlKey));var X=
a.doc.sel,qa;a.options.dragDrop&&wi&&!a.isReadOnly()&&"single"==t&&-1<(qa=X.contains(f))&&(0>Va((qa=X.ranges[qa]).from(),f)||0<f.xRel)&&(0<Va(qa.to(),f)||0>f.xRel)?Ih(a,q,f,y):Gk(a,q,f,y)}function Ih(a,f,t,q){var y=a.display,X=!1,qa=Qc(a,function(Bb){yf&&(y.scroller.draggable=!1);a.state.draggingText=!1;a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:xd(a));nb(y.wrapper.ownerDocument,"mouseup",qa);nb(y.wrapper.ownerDocument,"mousemove",ra);nb(y.scroller,"dragstart",jb);nb(y.scroller,
"drop",qa);X||(J(Bb),q.addNew||Md(a.doc,t,null,null,q.extend),yf&&!sg||nf&&9==sf?setTimeout(function(){y.wrapper.ownerDocument.body.focus({preventScroll:!0});y.input.focus()},20):y.input.focus())}),ra=function(Bb){X=X||10<=Math.abs(f.clientX-Bb.clientX)+Math.abs(f.clientY-Bb.clientY)},jb=function(){return X=!0};yf&&(y.scroller.draggable=!0);a.state.draggingText=qa;qa.copy=!q.moveOnDrag;Ge(y.wrapper.ownerDocument,"mouseup",qa);Ge(y.wrapper.ownerDocument,"mousemove",ra);Ge(y.scroller,"dragstart",jb);
Ge(y.scroller,"drop",qa);a.state.delayingBlurEvent=!0;setTimeout(function(){return y.input.focus()},20);y.scroller.dragDrop&&y.scroller.dragDrop()}function Jh(a,f,t){if("char"==t)return new zf(f,f);if("word"==t)return a.findWordAt(f);if("line"==t)return new zf(oa(f.line,0),xb(a.doc,oa(f.line+1,0)));a=t(a,f);return new zf(a.from,a.to)}function Gk(a,f,t,q){function y(ve){if(0!=Va(oc,ve))if(oc=ve,"rectangle"==q.unit){var Nf=[],Af=a.options.tabSize,Tf=rb(p(jb,t.line).text,t.ch,Af),Wf=rb(p(jb,ve.line).text,
ve.ch,Af),jf=Math.min(Tf,Wf);Tf=Math.max(Tf,Wf);Wf=Math.min(t.line,ve.line);for(var Uf=Math.min(a.lastLine(),Math.max(t.line,ve.line));Wf<=Uf;Wf++){var Ff=p(jb,Wf).text,Of=Ha(Ff,jf,Af);jf==Tf?Nf.push(new zf(oa(Wf,Of),oa(Wf,Of))):Ff.length>Of&&Nf.push(new zf(oa(Wf,Of),oa(Wf,Ha(Ff,Tf,Af))))}Nf.length||Nf.push(new zf(t,t));pa(jb,P(a,Bb.ranges.slice(0,Hc).concat(Nf),Hc),{origin:"*mouse",scroll:!1});a.scrollIntoView(ve)}else Nf=qc,jf=Jh(a,ve,q.unit),ve=Nf.anchor,0<Va(jf.anchor,ve)?(Af=jf.head,ve=eb(Nf.from(),
jf.anchor)):(Af=jf.anchor,ve=ta(Nf.to(),jf.head)),Nf=Bb.ranges.slice(0),Nf[Hc]=Pg(a,new zf(xb(jb,ve),Af)),pa(jb,P(a,Nf,Hc),Gf)}function X(ve){var Nf=++Od,Af=Pe(a,ve,!0,"rectangle"==q.unit);if(Af)if(0!=Va(Af,oc)){a.curOp.focus=ub();y(Af);var Tf=uf(ra,jb);(Af.line>=Tf.to||Af.line<Tf.from)&&setTimeout(Qc(a,function(){Od==Nf&&X(ve)}),150)}else{var Wf=ve.clientY<ed.top?-20:ve.clientY>ed.bottom?20:0;Wf&&setTimeout(Qc(a,function(){Od==Nf&&(ra.scroller.scrollTop+=Wf,X(ve))}),50)}}function qa(ve){a.state.selectingText=
!1;Od=Infinity;ve&&(J(ve),ra.input.focus());nb(ra.wrapper.ownerDocument,"mousemove",He);nb(ra.wrapper.ownerDocument,"mouseup",xf);jb.history.lastSelOrigin=null}nf&&xd(a);var ra=a.display,jb=a.doc;J(f);var Bb=jb.sel,Xb=Bb.ranges;if(q.addNew&&!q.extend){var Hc=jb.sel.contains(t);var qc=-1<Hc?Xb[Hc]:new zf(t,t)}else qc=jb.sel.primary(),Hc=jb.sel.primIndex;"rectangle"==q.unit?(q.addNew||(qc=new zf(t,t)),t=Pe(a,f,!0,!0),Hc=-1):(f=Jh(a,t,q.unit),qc=q.extend?yd(qc,f.anchor,f.head,q.extend):f);q.addNew?-1==
Hc?(Hc=Xb.length,pa(jb,P(a,Xb.concat([qc]),Hc),{scroll:!1,origin:"*mouse"})):1<Xb.length&&Xb[Hc].empty()&&"char"==q.unit&&!q.extend?(pa(jb,P(a,Xb.slice(0,Hc).concat(Xb.slice(Hc+1)),0),{scroll:!1,origin:"*mouse"}),Bb=jb.sel):Sd(jb,Hc,qc,Gf):(Hc=0,pa(jb,new Ng([qc],0),Gf),Bb=jb.sel);var oc=t,ed=ra.wrapper.getBoundingClientRect(),Od=0,He=Qc(a,function(ve){0!==ve.buttons&&Qa(ve)?X(ve):qa(ve)}),xf=Qc(a,qa);a.state.selectingText=xf;Ge(ra.wrapper.ownerDocument,"mousemove",He);Ge(ra.wrapper.ownerDocument,
"mouseup",xf)}function Pg(a,f){var t=f.anchor,q=f.head,y=p(a.doc,t.line);if(0==Va(t,q)&&t.sticky==q.sticky)return f;y=db(y);if(!y)return f;var X=ib(y,t.ch,t.sticky),qa=y[X];if(qa.from!=t.ch&&qa.to!=t.ch)return f;var ra=X+(qa.from==t.ch==(1!=qa.level)?0:1);if(0==ra||ra==y.length)return f;q.line!=t.line?a=0<(q.line-t.line)*("ltr"==a.doc.direction?1:-1):(a=ib(y,q.ch,q.sticky),X=a-X||(q.ch-t.ch)*(1==qa.level?-1:1),a=a==ra-1||a==ra?0>X:0<X);y=y[ra+(a?-1:0)];y=(ra=a==(1==y.level))?y.from:y.to;ra=ra?"after":
"before";return t.ch==y&&t.sticky==ra?f:new zf(new oa(t.line,y,ra),q)}function vj(a,f,t,q){if(f.touches){var y=f.touches[0].clientX;var X=f.touches[0].clientY}else try{y=f.clientX,X=f.clientY}catch(jb){return!1}if(y>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;q&&J(f);q=a.display;var qa=q.lineDiv.getBoundingClientRect();if(X>qa.bottom||!I(a,t))return Y(f);X-=qa.top-q.viewOffset;for(qa=0;qa<a.display.gutterSpecs.length;++qa){var ra=q.gutters.childNodes[qa];if(ra&&ra.getBoundingClientRect().right>=
y)return y=C(a.doc,X),$a(a,t,a,y,a.display.gutterSpecs[qa].className,f),Y(f)}}function lk(a,f){var t;(t=qd(a.display,f))||(t=I(a,"gutterContextMenu")?vj(a,f,"gutterContextMenu",!1):!1);if(!t&&!S(a,f,"contextmenu")&&!ti)a.display.input.onContextMenu(f)}function lj(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Bf(a)}function Ag(a,f,t){!f!=!(t&&t!=Ui)&&(t=a.display.dragFunctions,f=f?Ge:nb,f(a.display.scroller,"dragstart",
t.start),f(a.display.scroller,"dragenter",t.enter),f(a.display.scroller,"dragover",t.over),f(a.display.scroller,"dragleave",t.leave),f(a.display.scroller,"drop",t.drop))}function Bg(a){a.options.lineWrapping?(Ob(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Xg(a.display.wrapper,"CodeMirror-wrap"),gb(a));tf(a);V(a);Bf(a);setTimeout(function(){return fa(a)},100)}function Pf(a,f){var t=this;if(!(this instanceof Pf))return new Pf(a,f);this.options=
f=f?ob(f):{};ob(Xj,f,!1);var q=f.value;"string"==typeof q?q=new ug(q,f.mode,null,f.lineSeparator,f.direction):f.mode&&(q.modeOption=f.mode);this.doc=q;var y=new Pf.inputStyles[f.inputStyle](this);a=this.display=new Kf(a,q,y,f);a.wrapper.CodeMirror=this;lj(this);f.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Qb(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,
highlight:new lf,keySeq:null,specialChars:null};f.autofocus&&!Oh&&a.input.focus();nf&&11>sf&&setTimeout(function(){return t.display.input.reset(!0)},20);Mi(this);ok||(Rd(),ok=!0);Mb(this);this.curOp.forceUpdate=!0;pc(this,q);f.autofocus&&!Oh||this.hasFocus()?setTimeout(function(){t.hasFocus()&&!t.state.focused&&zd(t)},20):le(this);for(var X in Th)if(Th.hasOwnProperty(X))Th[X](this,f[X],Ui);Sf(this);f.finishInit&&f.finishInit(this);for(q=0;q<Uh.length;++q)Uh[q](this);bc(this);yf&&f.lineWrapping&&"optimizelegibility"==
getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Mi(a){function f(){q.activeTouch&&(y=setTimeout(function(){return q.activeTouch=null},1E3),X=q.activeTouch,X.end=+new Date)}function t(ra,jb){if(null==jb.left)return!0;var Bb=jb.left-ra.left;ra=jb.top-ra.top;return 400<Bb*Bb+ra*ra}var q=a.display;Ge(q.scroller,"mousedown",Qc(a,Ji));nf&&11>sf?Ge(q.scroller,"dblclick",Qc(a,function(ra){if(!S(a,ra)){var jb=Pe(a,ra);!jb||vj(a,ra,"gutterClick",!0)||qd(a.display,
ra)||(J(ra),ra=a.findWordAt(jb),Md(a.doc,ra.anchor,ra.head))}})):Ge(q.scroller,"dblclick",function(ra){return S(a,ra)||J(ra)});Ge(q.scroller,"contextmenu",function(ra){return lk(a,ra)});Ge(q.input.getField(),"contextmenu",function(ra){q.scroller.contains(ra.target)||lk(a,ra)});var y,X={end:0};Ge(q.scroller,"touchstart",function(ra){var jb;if(jb=!S(a,ra))1!=ra.touches.length?jb=!1:(jb=ra.touches[0],jb=1>=jb.radiusX&&1>=jb.radiusY),jb=!jb;jb&&!vj(a,ra,"gutterClick",!0)&&(q.input.ensurePolled(),clearTimeout(y),
jb=+new Date,q.activeTouch={start:jb,moved:!1,prev:300>=jb-X.end?X:null},1==ra.touches.length&&(q.activeTouch.left=ra.touches[0].pageX,q.activeTouch.top=ra.touches[0].pageY))});Ge(q.scroller,"touchmove",function(){q.activeTouch&&(q.activeTouch.moved=!0)});Ge(q.scroller,"touchend",function(ra){var jb=q.activeTouch;if(jb&&!qd(q,ra)&&null!=jb.left&&!jb.moved&&300>new Date-jb.start){var Bb=a.coordsChar(q.activeTouch,"page");jb=!jb.prev||t(jb,jb.prev)?new zf(Bb,Bb):!jb.prev.prev||t(jb,jb.prev.prev)?a.findWordAt(Bb):
new zf(oa(Bb.line,0),xb(a.doc,oa(Bb.line+1,0)));a.setSelection(jb.anchor,jb.head);a.focus();J(ra)}f()});Ge(q.scroller,"touchcancel",f);Ge(q.scroller,"scroll",function(){q.scroller.clientHeight&&(vf(a,q.scroller.scrollTop),df(a,q.scroller.scrollLeft,!0),$a(a,"scroll",a))});Ge(q.scroller,"mousewheel",function(ra){return O(a,ra)});Ge(q.scroller,"DOMMouseScroll",function(ra){return O(a,ra)});Ge(q.wrapper,"scroll",function(){return q.wrapper.scrollTop=q.wrapper.scrollLeft=0});q.dragFunctions={enter:function(ra){S(a,
ra)||ma(ra)},over:function(ra){if(!S(a,ra)){var jb=Pe(a,ra);if(jb){var Bb=document.createDocumentFragment();uc(a,jb,Bb);a.display.dragCursor||(a.display.dragCursor=Sa("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));ea(a.display.dragCursor,Bb)}ma(ra)}},start:function(ra){if(nf&&(!a.state.draggingText||100>+new Date-Bi))ma(ra);else if(!S(a,ra)&&!qd(a.display,ra)&&(ra.dataTransfer.setData("Text",a.getSelection()),ra.dataTransfer.effectAllowed=
"copyMove",ra.dataTransfer.setDragImage&&!sg)){var jb=Sa("img",null,null,"position: fixed; left: 0; top: 0;");jb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";Kg&&(jb.width=jb.height=1,a.display.wrapper.appendChild(jb),jb._top=jb.offsetTop);ra.dataTransfer.setDragImage(jb,0,0);Kg&&jb.parentNode.removeChild(jb)}},drop:Qc(a,Yf),leave:function(ra){S(a,ra)||Lf(a)}};var qa=q.input.getField();Ge(qa,"keyup",function(ra){return wg.call(a,ra)});Ge(qa,"keydown",Qc(a,
ek));Ge(qa,"keypress",Qc(a,aj));Ge(qa,"focus",function(ra){return zd(a,ra)});Ge(qa,"blur",function(ra){return le(a,ra)})}function vh(a,f,t,q){var y=a.doc,X;null==t&&(t="add");"smart"==t&&(y.mode.indent?X=gd(a,f).state:t="prev");var qa=a.options.tabSize,ra=p(y,f),jb=rb(ra.text,null,qa);ra.stateAfter&&(ra.stateAfter=null);var Bb=ra.text.match(/^\s*/)[0];if(!q&&!/\S/.test(ra.text)){var Xb=0;t="not"}else if("smart"==t&&(Xb=y.mode.indent(X,ra.text.slice(Bb.length),ra.text),Xb==Kh||150<Xb)){if(!q)return;
t="prev"}"prev"==t?Xb=f>y.first?rb(p(y,f-1).text,null,qa):0:"add"==t?Xb=jb+a.options.indentUnit:"subtract"==t?Xb=jb-a.options.indentUnit:"number"==typeof t&&(Xb=jb+t);Xb=Math.max(0,Xb);t="";q=0;if(a.options.indentWithTabs)for(a=Math.floor(Xb/qa);a;--a)q+=qa,t+="\t";q<Xb&&(t+=Ia(Xb-q));if(t!=Bb)return ie(y,t,oa(f,0),oa(f,Bb.length),"+input"),ra.stateAfter=null,!0;for(qa=0;qa<y.sel.ranges.length;qa++)if(ra=y.sel.ranges[qa],ra.head.line==f&&ra.head.ch<Bb.length){f=oa(f,Bb.length);Sd(y,qa,new zf(f,f));
break}}function gj(a,f,t,q,y){var X=a.doc;a.display.shift=!1;q||(q=X.sel);var qa=+new Date-200,ra="paste"==y||a.state.pasteIncoming>qa,jb=bh(f),Bb=null;if(ra&&1<q.ranges.length)if(Eg&&Eg.text.join("\n")==f){if(0==q.ranges.length%Eg.text.length){Bb=[];for(var Xb=0;Xb<Eg.text.length;Xb++)Bb.push(X.splitLines(Eg.text[Xb]))}}else jb.length==q.ranges.length&&a.options.pasteLinesPerSelection&&(Bb=mb(jb,function(Od){return[Od]}));Xb=a.curOp.updateInput;for(var Hc=q.ranges.length-1;0<=Hc;Hc--){var qc=q.ranges[Hc],
oc=qc.from(),ed=qc.to();qc.empty()&&(t&&0<t?oc=oa(oc.line,oc.ch-t):a.state.overwrite&&!ra?ed=oa(ed.line,Math.min(p(X,ed.line).text.length,ed.ch+Za(jb).length)):ra&&Eg&&Eg.lineWise&&Eg.text.join("\n")==jb.join("\n")&&(oc=ed=oa(oc.line,0)));qc={from:oc,to:ed,text:Bb?Bb[Hc%Bb.length]:jb,origin:y||(ra?"paste":a.state.cutIncoming>qa?"cut":"+input")};Pb(a.doc,qc);tc(a,"inputRead",a,qc)}f&&!ra&&jj(a,f);Ue(a);2>a.curOp.updateInput&&(a.curOp.updateInput=Xb);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=
-1}function Sj(a,f){var t=a.clipboardData&&a.clipboardData.getData("Text");if(t)return a.preventDefault(),f.isReadOnly()||f.options.disableInput||jc(f,function(){return gj(f,t,0,null,"paste")}),!0}function jj(a,f){if(a.options.electricChars&&a.options.smartIndent)for(var t=a.doc.sel,q=t.ranges.length-1;0<=q;q--){var y=t.ranges[q];if(!(100<y.head.ch||q&&t.ranges[q-1].head.line==y.head.line)){var X=a.getModeAt(y.head),qa=!1;if(X.electricChars)for(var ra=0;ra<X.electricChars.length;ra++){if(-1<f.indexOf(X.electricChars.charAt(ra))){qa=
vh(a,y.head.line,"smart");break}}else X.electricInput&&X.electricInput.test(p(a.doc,y.head.line).text.slice(0,y.head.ch))&&(qa=vh(a,y.head.line,"smart"));qa&&tc(a,"electricInput",a,y.head.line)}}}function Ni(a){for(var f=[],t=[],q=0;q<a.doc.sel.ranges.length;q++){var y=a.doc.sel.ranges[q].head.line;y={anchor:oa(y,0),head:oa(y+1,0)};t.push(y);f.push(a.getRange(y.anchor,y.head))}return{text:f,ranges:t}}function ci(a,f,t,q){a.setAttribute("autocorrect",t?"":"off");a.setAttribute("autocapitalize",q?"":
"off");a.setAttribute("spellcheck",!!f)}function hj(){var a=Sa("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),f=Sa("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");yf?a.style.width="1000px":a.setAttribute("wrap","off");ah&&(a.style.border="1px solid black");ci(a);return f}function di(a,f,t,q,y){function X(Od){if("codepoint"==q){var He=jb.text.charCodeAt(f.ch+(0<q?0:-1));He=isNaN(He)?null:new oa(f.line,Math.max(0,
Math.min(jb.text.length,f.ch+t*((0<t?55296<=He&&56320>He:56320<=He&&57343>He)?2:1))),-t)}else He=y?Lj(a.cm,jb,f,t):tj(jb,f,t);if(null==He){if(Od=!Od)Od=f.line+Bb,Od<a.first||Od>=a.first+a.size?Od=!1:(f=new oa(Od,f.ch,f.sticky),Od=jb=p(a,Od));if(Od)f=Mg(y,a.cm,jb,f.line,Bb);else return!1}else f=He;return!0}var qa=f,ra=t,jb=p(a,f.line),Bb=y&&"rtl"==a.direction?-t:t;if("char"==q||"codepoint"==q)X();else if("column"==q)X(!0);else if("word"==q||"group"==q)for(var Xb=null,Hc="group"==q,qc=a.cm&&a.cm.getHelper(f,
"wordChars"),oc=!0;!(0>t)||X(!oc);oc=!1){var ed=jb.text.charAt(f.ch)||"\n";ed=bb(ed,qc)?"w":Hc&&"\n"==ed?"n":!Hc||/\s/.test(ed)?null:"p";!Hc||oc||ed||(ed="s");if(Xb&&Xb!=ed){0>t&&(t=1,X(),f.sticky="after");break}ed&&(Xb=ed);if(0<t&&!X(!oc))break}ra=m(a,f,qa,ra,!0);Ja(qa,ra)&&(ra.hitSide=!0);return ra}function ij(a,f,t,q){var y=a.doc,X=f.left;if("page"==q){var qa=Math.max(Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Je(a.display),3);qa=(0<t?
f.bottom:f.top)+t*qa}else"line"==q&&(qa=0<t?f.bottom+3:f.top-3);for(;;){f=Jd(a,X,qa);if(!f.outside)break;if(0>t?0>=qa:qa>=y.height){f.hitSide=!0;break}qa+=5*t}return f}function Bj(a,f){var t=Qe(a,f.line);if(!t||t.hidden)return null;var q=p(a.doc,f.line);t=Ye(t,q,f.line);a=db(q,a.doc.direction);q="left";a&&(q=ib(a,f.ch)%2?"right":"left");f=ee(t.map,f.ch,q);f.offset="right"==f.collapse?f.end:f.start;return f}function qi(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;
return!1}function ei(a,f){f&&(a.bad=!0);return a}function xh(a,f,t,q,y){function X(oc){return function(ed){return ed.id==oc}}function qa(){Xb&&(Bb+=Hc,qc&&(Bb+=Hc),Xb=qc=!1)}function ra(oc){oc&&(qa(),Bb+=oc)}function jb(oc){if(1==oc.nodeType){var ed=oc.getAttribute("cm-text");if(ed)ra(ed);else{ed=oc.getAttribute("cm-marker");var Od;if(ed)oc=a.findMarks(oa(q,0),oa(y+1,0),X(+ed)),oc.length&&(Od=oc[0].find(0))&&ra(r(a.doc,Od.from,Od.to).join(Hc));else if("false"!=oc.getAttribute("contenteditable")&&
(Od=/^(pre|div|p|li|table|br)$/i.test(oc.nodeName),/^br$/i.test(oc.nodeName)||0!=oc.textContent.length)){Od&&qa();for(ed=0;ed<oc.childNodes.length;ed++)jb(oc.childNodes[ed]);/^(pre|p)$/i.test(oc.nodeName)&&(qc=!0);Od&&(Xb=!0)}}}else 3==oc.nodeType&&ra(oc.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Bb="",Xb=!1,Hc=a.doc.lineSeparator(),qc=!1;;){jb(f);if(f==t)break;f=f.nextSibling;qc=!1}return Bb}function Oi(a,f,t){if(f==a.display.lineDiv){var q=a.display.lineDiv.childNodes[t];if(!q)return ei(a.clipPos(oa(a.display.viewTo-
1)),!0);f=null;t=0}else for(q=f;;q=q.parentNode){if(!q||q==a.display.lineDiv)return null;if(q.parentNode&&q.parentNode==a.display.lineDiv)break}for(var y=0;y<a.display.view.length;y++){var X=a.display.view[y];if(X.node==q)return ri(X,f,t)}}function ri(a,f,t){function q(Xb,Hc,qc){for(var oc=-1;oc<(Bb?Bb.length:0);oc++)for(var ed=0>oc?jb.map:Bb[oc],Od=0;Od<ed.length;Od+=3){var He=ed[Od+2];if(He==Xb||He==Hc){Hc=H(0>oc?a.line:a.rest[oc]);oc=ed[Od]+qc;if(0>qc||He!=Xb)oc=ed[Od+(qc?1:0)];return oa(Hc,oc)}}}
var y=a.text.firstChild,X=!1;if(!f||!fb(y,f))return ei(oa(H(a.line),0),!0);if(f==y&&(X=!0,f=y.childNodes[t],t=0,!f))return t=a.rest?Za(a.rest):a.line,ei(oa(H(t),t.text.length),X);var qa=3==f.nodeType?f:null,ra=f;qa||1!=f.childNodes.length||3!=f.firstChild.nodeType||(qa=f.firstChild,t&&(t=qa.nodeValue.length));for(;ra.parentNode!=y;)ra=ra.parentNode;var jb=a.measure,Bb=jb.maps;if(f=q(qa,ra,t))return ei(f,X);y=ra.nextSibling;for(qa=qa?qa.nodeValue.length-t:0;y;y=y.nextSibling){if(f=q(y,y.firstChild,
0))return ei(oa(f.line,f.ch-qa),X);qa+=y.textContent.length}for(ra=ra.previousSibling;ra;ra=ra.previousSibling){if(f=q(ra,ra.firstChild,-1))return ei(oa(f.line,f.ch+t),X);t+=ra.textContent.length}}var pg=navigator.userAgent,Nh=navigator.platform,jg=/gecko\/\d/i.test(pg),Pi=/MSIE \d/.test(pg),$g=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pg),kj=/Edge\/(\d+)/.exec(pg),nf=Pi||$g||kj,sf=nf&&(Pi?document.documentMode||6:+(kj||$g)[1]),yf=!kj&&/WebKit\//.test(pg),Ki=yf&&/Qt\/\d+\.\d+/.test(pg),yg=!kj&&
/Chrome\//.test(pg),Kg=/Opera\//.test(pg),sg=/Apple Computer/.test(navigator.vendor),qj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pg),fi=/PhantomJS/.test(pg),ah=sg&&(/Mobile\/\w+/.test(pg)||2<navigator.maxTouchPoints),si=/Android/.test(pg),Oh=ah||si||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pg),Wg=ah||/Mac/.test(Nh),Tj=/\bCrOS\b/.test(pg),Vg=/win/i.test(Nh),wh=Kg&&pg.match(/Version\/(\d*\.\d*)/);wh&&(wh=Number(wh[1]));wh&&15<=wh&&(Kg=!1,yf=!0);var Qi=Wg&&(Ki||Kg&&(null==wh||12.11>wh)),ti=
jg||nf&&9<=sf,Xg=function(a,f){var t=a.className;if(f=n(f).exec(t)){var q=t.slice(f.index+f[0].length);a.className=t.slice(0,f.index)+(q?f[1]+q:"")}};var vi=document.createRange?function(a,f,t,q){var y=document.createRange();y.setEnd(q||a,t);y.setStart(a,f);return y}:function(a,f,t){var q=document.body.createTextRange();try{q.moveToElementText(a.parentNode)}catch(y){return q}q.collapse(!0);q.moveEnd("character",t);q.moveStart("character",f);return q};var ui=function(a){a.select()};ah?ui=function(a){a.selectionStart=
0;a.selectionEnd=a.value.length}:nf&&(ui=function(a){try{a.select()}catch(f){}});var lf=function(){this.f=this.id=null;this.time=0;this.handler=cb(this.onTimeout,this)};lf.prototype.onTimeout=function(a){a.id=0;a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};lf.prototype.set=function(a,f){this.f=f;f=+new Date+a;if(!this.id||f<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=f};var Kh={toString:function(){return"CodeMirror.Pass"}},bg={scroll:!1},Gf={origin:"*mouse"},
gi={origin:"+move"},mj=[""],mk=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,wj=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Li=null,ni=function(){function a(ra){return 247>=ra?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ra):1424<=ra&&1524>=ra?"R":1536<=ra&&1785>=ra?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ra-
1536):1774<=ra&&2220>=ra?"r":8192<=ra&&8203>=ra?"w":8204==ra?"b":"L"}function f(ra,jb,Bb){this.level=ra;this.from=jb;this.to=Bb}var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,q=/[stwN]/,y=/[LRr]/,X=/[Lb1n]/,qa=/[1n]/;return function(ra,jb){var Bb="ltr"==jb?"L":"R";if(0==ra.length||"ltr"==jb&&!t.test(ra))return!1;for(var Xb=ra.length,Hc=[],qc=0;qc<Xb;++qc)Hc.push(a(ra.charCodeAt(qc)));qc=0;for(var oc=Bb;qc<Xb;++qc){var ed=Hc[qc];"m"==ed?Hc[qc]=oc:oc=ed}qc=0;for(oc=Bb;qc<Xb;++qc)ed=Hc[qc],"1"==ed&&
"r"==oc?Hc[qc]="n":y.test(ed)&&(oc=ed,"r"==ed&&(Hc[qc]="R"));qc=1;for(oc=Hc[0];qc<Xb-1;++qc)ed=Hc[qc],"+"==ed&&"1"==oc&&"1"==Hc[qc+1]?Hc[qc]="1":","!=ed||oc!=Hc[qc+1]||"1"!=oc&&"n"!=oc||(Hc[qc]=oc),oc=ed;for(qc=0;qc<Xb;++qc)if(oc=Hc[qc],","==oc)Hc[qc]="N";else if("%"==oc){for(oc=qc+1;oc<Xb&&"%"==Hc[oc];++oc);for(ed=qc&&"!"==Hc[qc-1]||oc<Xb&&"1"==Hc[oc]?"1":"N";qc<oc;++qc)Hc[qc]=ed;qc=oc-1}qc=0;for(oc=Bb;qc<Xb;++qc)ed=Hc[qc],"L"==oc&&"1"==ed?Hc[qc]="L":y.test(ed)&&(oc=ed);for(oc=0;oc<Xb;++oc)if(q.test(Hc[oc])){for(qc=
oc+1;qc<Xb&&q.test(Hc[qc]);++qc);ed="L"==(oc?Hc[oc-1]:Bb);for(ed=ed==("L"==(qc<Xb?Hc[qc]:Bb))?ed?"L":"R":Bb;oc<qc;++oc)Hc[oc]=ed;oc=qc-1}Bb=[];var Od;for(qc=0;qc<Xb;)if(X.test(Hc[qc])){oc=qc;for(++qc;qc<Xb&&X.test(Hc[qc]);++qc);Bb.push(new f(0,oc,qc))}else{var He=qc;oc=Bb.length;ed="rtl"==jb?1:0;for(++qc;qc<Xb&&"L"!=Hc[qc];++qc);for(var xf=He;xf<qc;)if(qa.test(Hc[xf])){He<xf&&(Bb.splice(oc,0,new f(1,He,xf)),oc+=ed);He=xf;for(++xf;xf<qc&&qa.test(Hc[xf]);++xf);Bb.splice(oc,0,new f(2,He,xf));oc+=ed;
He=xf}else++xf;He<qc&&Bb.splice(oc,0,new f(1,He,qc))}"ltr"==jb&&(1==Bb[0].level&&(Od=ra.match(/^\s+/))&&(Bb[0].from=Od[0].length,Bb.unshift(new f(0,0,Od[0].length))),1==Za(Bb).level&&(Od=ra.match(/\s+$/))&&(Za(Bb).to-=Od[0].length,Bb.push(new f(0,Xb-Od[0].length,Xb))));return"rtl"==jb?Bb.reverse():Bb}}(),yh=[],Ge=function(a,f,t){a.addEventListener?a.addEventListener(f,t,!1):a.attachEvent?a.attachEvent("on"+f,t):(a=a._handlers||(a._handlers={}),a[f]=(a[f]||yh).concat(t))},wi=function(){if(nf&&9>sf)return!1;
var a=Sa("div");return"draggable"in a||"dragDrop"in a}(),xi,Ri,bh=3!="\n\nb".split(/\n/).length?function(a){for(var f=0,t=[],q=a.length;f<=q;){var y=a.indexOf("\n",f);-1==y&&(y=a.length);var X=a.slice(f,"\r"==a.charAt(y-1)?y-1:y),qa=X.indexOf("\r");-1!=qa?(t.push(X.slice(0,qa)),f+=qa+1):(t.push(X),f=y+1)}return t}:function(a){return a.split(/\r\n?|\n/)},Ph=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(f){return!1}}:function(a){try{var f=a.ownerDocument.selection.createRange()}catch(t){}return f&&
f.parentElement()==a?0!=f.compareEndPoints("StartToEnd",f):!1},Qh=function(){var a=Sa("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),zh=null,Ah={},Bh={},ch={},Xf=function(a,f,t){this.pos=this.start=0;this.string=a;this.tabSize=f||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=t};Xf.prototype.eol=function(){return this.pos>=this.string.length};Xf.prototype.sol=function(){return this.pos==this.lineStart};Xf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Xf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Xf.prototype.eat=function(a){var f=this.string.charAt(this.pos);if("string"==typeof a?f==a:f&&(a.test?a.test(f):a(f)))return++this.pos,f};Xf.prototype.eatWhile=function(a){for(var f=this.pos;this.eat(a););return this.pos>f};Xf.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a};Xf.prototype.skipToEnd=function(){this.pos=this.string.length};Xf.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};Xf.prototype.backUp=function(a){this.pos-=a};Xf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=rb(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?rb(this.string,this.lineStart,this.tabSize):0)};Xf.prototype.indentation=
function(){return rb(this.string,null,this.tabSize)-(this.lineStart?rb(this.string,this.lineStart,this.tabSize):0)};Xf.prototype.match=function(a,f,t){if("string"==typeof a){var q=function(X){return t?X.toLowerCase():X},y=this.string.substr(this.pos,a.length);if(q(y)==q(a))return!1!==f&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==f&&(this.pos+=a[0].length);return a}};Xf.prototype.current=function(){return this.string.slice(this.start,this.pos)};
Xf.prototype.hideFirstChars=function(a,f){this.lineStart+=a;try{return f()}finally{this.lineStart-=a}};Xf.prototype.lookAhead=function(a){var f=this.lineOracle;return f&&f.lookAhead(a)};Xf.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var nj=function(a,f){this.state=a;this.lookAhead=f},kh=function(a,f,t,q){this.state=f;this.doc=a;this.line=t;this.maxLookAhead=q||0;this.baseTokens=null;this.baseTokenPos=1};kh.prototype.lookAhead=function(a){var f=this.doc.getLine(this.line+
a);null!=f&&a>this.maxLookAhead&&(this.maxLookAhead=a);return f};kh.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var f=this.baseTokens[this.baseTokenPos+1];return{type:f&&f.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};kh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};kh.fromSaved=function(a,f,t){return f instanceof nj?new kh(a,T(a.mode,f.state),t,f.lookAhead):
new kh(a,T(a.mode,f),t)};kh.prototype.save=function(a){a=!1!==a?T(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new nj(a,this.maxLookAhead):a};var Dj=function(a,f,t){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=f||null;this.state=t},Cj=!1,ai=!1,bi=function(a,f,t){this.text=a;sd(this,f);this.height=t?t(this):1};bi.prototype.lineNo=function(){return H(this)};Q(bi);var nk={},Uj={},yi=null,Rh=null,zi={left:0,right:0,top:0,bottom:0},ih,Ch=function(a,f,t){this.cm=
t;var q=this.vert=Sa("div",[Sa("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),y=this.horiz=Sa("div",[Sa("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");q.tabIndex=y.tabIndex=-1;a(q);a(y);Ge(q,"scroll",function(){q.clientHeight&&f(q.scrollTop,"vertical")});Ge(y,"scroll",function(){y.clientWidth&&f(y.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;nf&&8>sf&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Ch.prototype.update=function(a){var f=
a.scrollWidth>a.clientWidth+1,t=a.scrollHeight>a.clientHeight+1,q=a.nativeBarWidth;t?(this.vert.style.display="block",this.vert.style.bottom=f?q+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(f?q:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");f?(this.horiz.style.display="block",this.horiz.style.right=t?q+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+
(a.viewWidth-a.barLeft-(t?q:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==q&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:t?q:0,bottom:f?q:0}};Ch.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};Ch.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a);this.disableVert&&
this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};Ch.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=Wg&&!qj?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new lf;this.disableVert=new lf};Ch.prototype.enableZeroWidthBar=function(a,f,t){function q(){var y=a.getBoundingClientRect();("vert"==t?document.elementFromPoint(y.right-1,(y.top+y.bottom)/2):document.elementFromPoint((y.right+y.left)/2,y.bottom-1))!=
a?a.style.pointerEvents="none":f.set(1E3,q)}a.style.pointerEvents="auto";f.set(1E3,q)};Ch.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var lh=function(){};lh.prototype.update=function(){return{bottom:0,right:0}};lh.prototype.setScrollLeft=function(){};lh.prototype.setScrollTop=function(){};lh.prototype.clear=function(){};var Si={"native":Ch,"null":lh},Vj=0,Ai=function(a,f,t){var q=a.display;this.viewport=f;this.visible=uf(q,a.doc,f);this.editorIsHidden=
!q.wrapper.offsetWidth;this.wrapperHeight=q.wrapper.clientHeight;this.wrapperWidth=q.wrapper.clientWidth;this.oldDisplayWidth=me(a);this.force=t;this.dims=Ke(a);this.events=[]};Ai.prototype.signal=function(a,f){I(a,f)&&this.events.push(arguments)};Ai.prototype.finish=function(){for(var a=0;a<this.events.length;a++)$a.apply(null,this.events[a])};var Gi=0,Og=null;nf?Og=-.53:jg?Og=15:yg?Og=-.7:sg&&(Og=-1/3);var Ng=function(a,f){this.ranges=a;this.primIndex=f};Ng.prototype.primary=function(){return this.ranges[this.primIndex]};
Ng.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var f=0;f<this.ranges.length;f++){var t=this.ranges[f],q=a.ranges[f];if(!Ja(t.anchor,q.anchor)||!Ja(t.head,q.head))return!1}return!0};Ng.prototype.deepCopy=function(){for(var a=[],f=0;f<this.ranges.length;f++)a[f]=new zf(ba(this.ranges[f].anchor),ba(this.ranges[f].head));return new Ng(a,this.primIndex)};Ng.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;
return!1};Ng.prototype.contains=function(a,f){f||(f=a);for(var t=0;t<this.ranges.length;t++){var q=this.ranges[t];if(0<=Va(f,q.from())&&0>=Va(a,q.to()))return t}return-1};var zf=function(a,f){this.anchor=a;this.head=f};zf.prototype.from=function(){return eb(this.anchor,this.head)};zf.prototype.to=function(){return ta(this.anchor,this.head)};zf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};ce.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(a,f){for(var t=a,q=a+f;t<q;++t){var y=this.lines[t];this.height-=y.height;var X=y;X.parent=null;ld(X);tc(y,"delete")}this.lines.splice(a,f)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,f,t){this.height+=t;this.lines=this.lines.slice(0,a).concat(f).concat(this.lines.slice(a));for(a=0;a<f.length;++a)f[a].parent=this},iterN:function(a,f,t){for(f=a+f;a<f;++a)if(t(this.lines[a]))return!0}};bf.prototype={chunkSize:function(){return this.size},removeInner:function(a,
f){this.size-=f;for(var t=0;t<this.children.length;++t){var q=this.children[t],y=q.chunkSize();if(a<y){var X=Math.min(f,y-a),qa=q.height;q.removeInner(a,X);this.height-=qa-q.height;y==X&&(this.children.splice(t--,1),q.parent=null);if(0==(f-=X))break;a=0}else a-=y}25>this.size-f&&(1<this.children.length||!(this.children[0]instanceof ce))&&(a=[],this.collapse(a),this.children=[new ce(a)],this.children[0].parent=this)},collapse:function(a){for(var f=0;f<this.children.length;++f)this.children[f].collapse(a)},
insertInner:function(a,f,t){this.size+=f.length;this.height+=t;for(var q=0;q<this.children.length;++q){var y=this.children[q],X=y.chunkSize();if(a<=X){y.insertInner(a,f,t);if(y.lines&&50<y.lines.length){for(f=a=y.lines.length%25+25;f<y.lines.length;)t=new ce(y.lines.slice(f,f+=25)),y.height-=t.height,this.children.splice(++q,0,t),t.parent=this;y.lines=y.lines.slice(0,a);this.maybeSpill()}break}a-=X}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var f=a.children.splice(a.children.length-
5,5);f=new bf(f);if(a.parent){a.size-=f.size;a.height-=f.height;var t=Xa(a.parent.children,a);a.parent.children.splice(t+1,0,f)}else t=new bf(a.children),t.parent=a,a.children=[t,f],a=t;f.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,f,t){for(var q=0;q<this.children.length;++q){var y=this.children[q],X=y.chunkSize();if(a<X){X=Math.min(f,X-a);if(y.iterN(a,X,t))return!0;if(0==(f-=X))break;a=0}else a-=X}}};var oi=function(a,f,t){if(t)for(var q in t)t.hasOwnProperty(q)&&
(this[q]=t[q]);this.doc=a;this.node=f};oi.prototype.clear=function(){var a=this.doc.cm,f=this.line.widgets,t=this.line,q=H(t);if(null!=q&&f){for(var y=0;y<f.length;++y)f[y]==this&&f.splice(y--,1);f.length||(t.widgets=null);var X=od(this);E(t,Math.max(0,t.height-X));a&&(jc(a,function(){var qa=-X;Z(t)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&pd(a,qa);wa(a,q,"widget")}),tc(a,"lineWidgetCleared",a,this,q))}};oi.prototype.changed=function(){var a=this,f=this.height,t=this.doc.cm,q=this.line;this.height=
null;var y=od(this)-f;y&&(de(this.doc,q)||E(q,q.height+y),t&&jc(t,function(){t.curOp.forceUpdate=!0;Z(q)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&pd(t,y);tc(t,"lineWidgetChanged",t,a,H(q))}))};Q(oi);var mh=0,Qg=function(a,f){this.lines=[];this.type=f;this.doc=a;this.id=++mh};Qg.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,f=a&&!a.curOp;f&&Mb(a);if(I(this,"clear")){var t=this.find();t&&tc(this,"clear",t.from,t.to)}for(var q=t=null,y=0;y<this.lines.length;++y){var X=
this.lines[y],qa=$c(X.markedSpans,this);a&&!this.collapsed?wa(a,H(X),"text"):a&&(null!=qa.to&&(q=H(X)),null!=qa.from&&(t=H(X)));for(var ra=X,jb=void 0,Bb=X.markedSpans,Xb=qa,Hc=0;Hc<Bb.length;++Hc)Bb[Hc]!=Xb&&(jb||(jb=[])).push(Bb[Hc]);ra.markedSpans=jb;null==qa.from&&this.collapsed&&!de(this.doc,X)&&a&&E(X,Je(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(y=0;y<this.lines.length;++y)X=ac(this.lines[y]),qa=za(X),qa>a.display.maxLineLength&&(a.display.maxLine=X,a.display.maxLineLength=
qa,a.display.maxLineChanged=!0);null!=t&&a&&this.collapsed&&V(a,t,q+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Cb(a.doc));a&&tc(a,"markerCleared",a,this,t,q);f&&bc(a);this.parent&&this.parent.clear()}};Qg.prototype.find=function(a,f){null==a&&"bookmark"==this.type&&(a=1);for(var t,q,y=0;y<this.lines.length;++y){var X=this.lines[y],qa=$c(X.markedSpans,this);if(null!=qa.from&&(t=oa(f?X:H(X),qa.from),-1==a))return t;if(null!=qa.to&&(q=oa(f?
X:H(X),qa.to),1==a))return q}return t&&{from:t,to:q}};Qg.prototype.changed=function(){var a=this,f=this.find(-1,!0),t=this,q=this.doc.cm;f&&q&&jc(q,function(){var y=f.line,X=H(f.line);if(X=Qe(q,X))ff(X),q.curOp.selectionChanged=q.curOp.forceUpdate=!0;q.curOp.updateMaxLine=!0;de(t.doc,y)||null==t.height||(X=t.height,t.height=null,(X=od(t)-X)&&E(y,y.height+X));tc(q,"markerChanged",q,a)})};Qg.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var f=this.doc.cm.curOp;f.maybeHiddenMarkers&&
-1!=Xa(f.maybeHiddenMarkers,this)||(f.maybeUnhiddenMarkers||(f.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};Qg.prototype.detachLine=function(a){this.lines.splice(Xa(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};Q(Qg);var Dh=function(a,f){this.markers=a;this.primary=f;for(f=0;f<a.length;++f)a[f].parent=this};Dh.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=
0;a<this.markers.length;++a)this.markers[a].clear();tc(this,"clear")}};Dh.prototype.find=function(a,f){return this.primary.find(a,f)};Q(Dh);var Sh=0,ug=function(a,f,t,q,y){if(!(this instanceof ug))return new ug(a,f,t,q,y);null==t&&(t=0);bf.call(this,[new ce([new bi("",null)])]);this.first=t;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=t;t=oa(t,0);this.sel=aa(t);this.history=new ca(null);this.id=++Sh;this.modeOption=f;this.lineSep=
q;this.direction="rtl"==y?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));Eb(this,{from:t,to:t,text:a});pa(this,aa(t),bg)};ug.prototype=hb(bf.prototype,{constructor:ug,iter:function(a,f,t){t?this.iterN(a-this.first,f-a,t):this.iterN(this.first,this.first+this.size,a)},insert:function(a,f){for(var t=0,q=0;q<f.length;++q)t+=f[q].height;this.insertInner(a-this.first,f,t)},remove:function(a,f){this.removeInner(a-this.first,f)},getValue:function(a){var f=D(this,this.first,this.first+
this.size);return!1===a?f:f.join(a||this.lineSeparator())},setValue:ad(function(a){var f=oa(this.first,0),t=this.first+this.size-1;Pb(this,{from:f,to:oa(t,p(this,t).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Le(this.cm,0,0);pa(this,aa(f),bg)}),replaceRange:function(a,f,t,q){f=xb(this,f);t=t?xb(this,t):f;ie(this,a,f,t,q)},getRange:function(a,f,t){a=r(this,xb(this,a),xb(this,f));return!1===t?a:a.join(t||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&
a.text},getLineHandle:function(a){if(ha(this,a))return p(this,a)},getLineNumber:function(a){return H(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=p(this,a));return ac(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return xb(this,a)},getCursor:function(a){var f=this.sel.primary();return null==a||"head"==a?f.head:"anchor"==a?f.anchor:"end"==a||"to"==a||!1===a?f.to():f.from()},
listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ad(function(a,f,t){a=xb(this,"number"==typeof a?oa(a,f||0):a);pa(this,aa(a,null),t)}),setSelection:ad(function(a,f,t){var q=xb(this,a);a=xb(this,f||a);pa(this,aa(q,a),t)}),extendSelection:ad(function(a,f,t){Md(this,xb(this,a),f&&xb(this,f),t)}),extendSelections:ad(function(a,f){bd(this,Kb(this,a),f)}),extendSelectionsBy:ad(function(a,f){a=mb(this.sel.ranges,a);bd(this,Kb(this,
a),f)}),setSelections:ad(function(a,f,t){if(a.length){for(var q=[],y=0;y<a.length;y++)q[y]=new zf(xb(this,a[y].anchor),xb(this,a[y].head));null==f&&(f=Math.min(a.length-1,this.sel.primIndex));pa(this,P(this.cm,q,f),t)}}),addSelection:ad(function(a,f,t){var q=this.sel.ranges.slice(0);q.push(new zf(xb(this,a),xb(this,f||a)));pa(this,P(this.cm,q,q.length-1),t)}),getSelection:function(a){for(var f=this.sel.ranges,t,q=0;q<f.length;q++){var y=r(this,f[q].from(),f[q].to());t=t?t.concat(y):y}return!1===a?
t:t.join(a||this.lineSeparator())},getSelections:function(a){for(var f=[],t=this.sel.ranges,q=0;q<t.length;q++){var y=r(this,t[q].from(),t[q].to());!1!==a&&(y=y.join(a||this.lineSeparator()));f[q]=y}return f},replaceSelection:function(a,f,t){for(var q=[],y=0;y<this.sel.ranges.length;y++)q[y]=a;this.replaceSelections(q,f,t||"+input")},replaceSelections:ad(function(a,f,t){for(var q=[],y=this.sel,X=0;X<y.ranges.length;X++){var qa=y.ranges[X];q[X]={from:qa.from(),to:qa.to(),text:this.splitLines(a[X]),
origin:t}}if(a=f&&"end"!=f){a=[];y=t=oa(this.first,0);for(X=0;X<q.length;X++){var ra=q[X];qa=ab(ra.from,t,y);var jb=ab(ja(ra),t,y);t=ra.to;y=jb;"around"==f?(ra=this.sel.ranges[X],ra=0>Va(ra.head,ra.anchor),a[X]=new zf(ra?jb:qa,ra?qa:jb)):a[X]=new zf(qa,qa)}a=new Ng(a,this.sel.primIndex)}f=a;for(a=q.length-1;0<=a;a--)Pb(this,q[a]);f?We(this,f):this.cm&&Ue(this.cm)}),undo:ad(function(){dc(this,"undo")}),redo:ad(function(){dc(this,"redo")}),undoSelection:ad(function(){dc(this,"undo",!0)}),redoSelection:ad(function(){dc(this,
"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,f=0,t=0,q=0;q<a.done.length;q++)a.done[q].ranges||++f;for(q=0;q<a.undone.length;q++)a.undone[q].ranges||++t;return{undo:f,redo:t}},clearHistory:function(){var a=this;this.history=new ca(this.history.maxGeneration);Yb(this,function(f){return f.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&
(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:Rc(this.history.done),undone:Rc(this.history.undone)}},setHistory:function(a){var f=this.history=new ca(this.history.maxGeneration);f.done=Rc(a.done.slice(0),null,!0);f.undone=Rc(a.undone.slice(0),null,!0)},setGutterMarker:ad(function(a,f,t){return md(this,a,"gutter",function(q){var y=
q.gutterMarkers||(q.gutterMarkers={});y[f]=t;!t&&La(y)&&(q.gutterMarkers=null);return!0})}),clearGutter:ad(function(a){var f=this;this.iter(function(t){t.gutterMarkers&&t.gutterMarkers[a]&&md(f,t,"gutter",function(){t.gutterMarkers[a]=null;La(t.gutterMarkers)&&(t.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!ha(this,a))return null;var f=a;a=p(this,a);if(!a)return null}else if(f=H(a),null==f)return null;return{line:f,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,
textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:ad(function(a,f,t){return md(this,a,"gutter"==f?"gutter":"class",function(q){var y="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":"wrapClass";if(q[y]){if(n(t).test(q[y]))return!1;q[y]+=" "+t}else q[y]=t;return!0})}),removeLineClass:ad(function(a,f,t){return md(this,a,"gutter"==f?"gutter":"class",function(q){var y="text"==f?"textClass":"background"==f?"bgClass":"gutter"==f?"gutterClass":
"wrapClass",X=q[y];if(X)if(null==t)q[y]=null;else{var qa=X.match(n(t));if(!qa)return!1;var ra=qa.index+qa[0].length;q[y]=X.slice(0,qa.index)+(qa.index&&ra!=X.length?" ":"")+X.slice(ra)||null}else return!1;return!0})}),addLineWidget:ad(function(a,f,t){return qf(this,a,f,t)}),removeLineWidget:function(a){a.clear()},markText:function(a,f,t){return ke(this,xb(this,a),xb(this,f),t,t&&t.type||"range")},setBookmark:function(a,f){f={replacedWith:f&&(null==f.nodeType?f.widget:f),insertLeft:f&&f.insertLeft,
clearWhenEmpty:!1,shared:f&&f.shared,handleMouseEvents:f&&f.handleMouseEvents};a=xb(this,a);return ke(this,a,a,f,"bookmark")},findMarksAt:function(a){a=xb(this,a);var f=[],t=p(this,a.line).markedSpans;if(t)for(var q=0;q<t.length;++q){var y=t[q];(null==y.from||y.from<=a.ch)&&(null==y.to||y.to>=a.ch)&&f.push(y.marker.parent||y.marker)}return f},findMarks:function(a,f,t){a=xb(this,a);f=xb(this,f);var q=[],y=a.line;this.iter(a.line,f.line+1,function(X){if(X=X.markedSpans)for(var qa=0;qa<X.length;qa++){var ra=
X[qa];null!=ra.to&&y==a.line&&a.ch>=ra.to||null==ra.from&&y!=a.line||null!=ra.from&&y==f.line&&ra.from>=f.ch||t&&!t(ra.marker)||q.push(ra.marker.parent||ra.marker)}++y});return q},getAllMarks:function(){var a=[];this.iter(function(f){if(f=f.markedSpans)for(var t=0;t<f.length;++t)null!=f[t].from&&a.push(f[t].marker)});return a},posFromIndex:function(a){var f,t=this.first,q=this.lineSeparator().length;this.iter(function(y){y=y.text.length+q;if(y>a)return f=a,!0;a-=y;++t});return xb(this,oa(t,f))},indexFromPos:function(a){a=
xb(this,a);var f=a.ch;if(a.line<this.first||0>a.ch)return 0;var t=this.lineSeparator().length;this.iter(this.first,a.line,function(q){f+=q.text.length+t});return f},copy:function(a){var f=new ug(D(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);f.scrollTop=this.scrollTop;f.scrollLeft=this.scrollLeft;f.sel=this.sel;f.extend=!1;a&&(f.history.undoDepth=this.history.undoDepth,f.setHistory(this.getHistory()));return f},linkedDoc:function(a){a||(a={});var f=
this.first,t=this.first+this.size;null!=a.from&&a.from>f&&(f=a.from);null!=a.to&&a.to<t&&(t=a.to);f=new ug(D(this,f,t),a.mode||this.modeOption,f,this.lineSep,this.direction);a.sharedHist&&(f.history=this.history);(this.linked||(this.linked=[])).push({doc:f,sharedHist:a.sharedHist});f.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=hf(this);for(t=0;t<a.length;t++){var q=a[t],y=q.find(),X=f.clipPos(y.from);y=f.clipPos(y.to);Va(X,y)&&(X=ke(f,X,y,q.primary,q.primary.type),q.markers.push(X),
X.parent=q)}return f},unlinkDoc:function(a){a instanceof Pf&&(a=a.doc);if(this.linked)for(var f=0;f<this.linked.length;++f)if(this.linked[f].doc==a){this.linked.splice(f,1);a.unlinkDoc(this);kg(hf(this));break}if(a.history==this.history){var t=[a.id];Yb(a,function(q){return t.push(q.id)},!0);a.history=new ca(null);a.history.done=Rc(this.history.done,t);a.history.undone=Rc(this.history.undone,t)}},iterLinkedDocs:function(a){Yb(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},
splitLines:function(a){return this.lineSep?a.split(this.lineSep):bh(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ad(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=a,this.iter(function(f){return f.order=null}),this.cm&&F(this.cm))})});ug.prototype.eachLine=ug.prototype.iter;for(var Bi=0,ok=!1,Lh={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",
37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ti=0;10>Ti;Ti++)Lh[Ti+48]=Lh[Ti+96]=String(Ti);for(var Ci=65;90>=Ci;Ci++)Lh[Ci]=
String.fromCharCode(Ci);for(var Mh=1;12>=Mh;Mh++)Lh[Mh+111]=Lh[Mh+63235]="F"+Mh;var dj={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo",
"Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection",
"Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};dj["default"]=Wg?dj.macDefault:dj.pcDefault;var Di={selectAll:ia,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),bg)},killLine:function(a){return Yi(a,function(f){if(f.empty()){var t=p(a.doc,f.head.line).text.length;return f.head.ch==t&&f.head.line<a.lastLine()?{from:f.head,to:oa(f.head.line+
1,0)}:{from:f.head,to:oa(f.head.line,t)}}return{from:f.from(),to:f.to()}})},deleteLine:function(a){return Yi(a,function(f){return{from:oa(f.from().line,0),to:xb(a.doc,oa(f.to().line+1,0))}})},delLineLeft:function(a){return Yi(a,function(f){return{from:oa(f.from().line,0),to:f.from()}})},delWrappedLineLeft:function(a){return Yi(a,function(f){var t=a.charCoords(f.head,"div").top+5;return{from:a.coordsChar({left:0,top:t},"div"),to:f.from()}})},delWrappedLineRight:function(a){return Yi(a,function(f){var t=
a.charCoords(f.head,"div").top+5;t=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:t},"div");return{from:f.from(),to:t}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(oa(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(oa(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(f){return jk(a,
f.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(f){return Wh(a,f.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(f){f=f.head.line;var t=p(a.doc,f);var q=t;for(var y;y=Ma(q,!1);)q=y.find(1,!0).line;q!=t&&(f=H(q));return Mg(!0,a,t,f,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(f){f=a.cursorCoords(f.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+
100,top:f},"div")},gi)},goLineLeft:function(a){return a.extendSelectionsBy(function(f){f=a.cursorCoords(f.head,"div").top+5;return a.coordsChar({left:0,top:f},"div")},gi)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(f){var t=a.cursorCoords(f.head,"div").top+5;t=a.coordsChar({left:0,top:t},"div");return t.ch<a.getLine(t.line).search(/\S/)?Wh(a,f.head):t},gi)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,
"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,
"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},
insertSoftTab:function(a){for(var f=[],t=a.listSelections(),q=a.options.tabSize,y=0;y<t.length;y++){var X=t[y].from();X=rb(a.getLine(X.line),X.ch,q);f.push(Ia(q-X%q))}a.replaceSelections(f)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return jc(a,function(){for(var f=a.listSelections(),t=[],q=0;q<f.length;q++)if(f[q].empty()){var y=f[q].head,X=p(a.doc,y.line).text;if(X)if(y.ch==X.length&&(y=new oa(y.line,y.ch-1)),0<y.ch)y=
new oa(y.line,y.ch+1),a.replaceRange(X.charAt(y.ch-1)+X.charAt(y.ch-2),oa(y.line,y.ch-2),y,"+transpose");else if(y.line>a.doc.first){var qa=p(a.doc,y.line-1).text;qa&&(y=new oa(y.line,1),a.replaceRange(X.charAt(0)+a.doc.lineSeparator()+qa.charAt(qa.length-1),oa(y.line-1,qa.length-1),y,"+transpose"))}t.push(new zf(y,y))}a.setSelections(t)})},newlineAndIndent:function(a){return jc(a,function(){for(var f=a.listSelections(),t=f.length-1;0<=t;t--)a.replaceRange(a.doc.lineSeparator(),f[t].anchor,f[t].head,
"+input");f=a.listSelections();for(t=0;t<f.length;t++)a.indentLine(f[t].from().line,null,!0);Ue(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Wj=new lf,sh=null,oj=function(a,f,t){this.time=a;this.pos=f;this.button=t};oj.prototype.compare=function(a,f,t){return this.time+400>a&&0==Va(f,this.pos)&&t==this.button};var nh,xj,Ui={toString:function(){return"CodeMirror.Init"}},Xj={},Th={};Pf.defaults=Xj;Pf.optionHandlers=Th;var Uh=
[];Pf.defineInitHook=function(a){return Uh.push(a)};var Eg=null,Mf=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new lf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};Mf.prototype.init=function(a){function f(ra){for(ra=ra.target;ra;ra=ra.parentNode){if(ra==qa)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ra.className))break}return!1}function t(ra){if(f(ra)&&!S(X,ra)){if(X.somethingSelected())Eg={lineWise:!1,
text:X.getSelections()},"cut"==ra.type&&X.replaceSelection("",null,"cut");else if(X.options.lineWiseCopyCut){var jb=Ni(X);Eg={lineWise:!0,text:jb.text};"cut"==ra.type&&X.operation(function(){X.setSelections(jb.ranges,0,bg);X.replaceSelection("",null,"cut")})}else return;if(ra.clipboardData){ra.clipboardData.clearData();var Bb=Eg.text.join("\n");ra.clipboardData.setData("Text",Bb);if(ra.clipboardData.getData("Text")==Bb){ra.preventDefault();return}}var Xb=hj();ra=Xb.firstChild;X.display.lineSpace.insertBefore(Xb,
X.display.lineSpace.firstChild);ra.value=Eg.text.join("\n");var Hc=document.activeElement;ui(ra);setTimeout(function(){X.display.lineSpace.removeChild(Xb);Hc.focus();Hc==qa&&y.showPrimarySelection()},50)}}var q=this,y=this,X=y.cm,qa=y.div=a.lineDiv;ci(qa,X.options.spellcheck,X.options.autocorrect,X.options.autocapitalize);Ge(qa,"paste",function(ra){!f(ra)||S(X,ra)||Sj(ra,X)||11>=sf&&setTimeout(Qc(X,function(){return q.updateFromDOM()}),20)});Ge(qa,"compositionstart",function(ra){q.composing={data:ra.data,
done:!1}});Ge(qa,"compositionupdate",function(ra){q.composing||(q.composing={data:ra.data,done:!1})});Ge(qa,"compositionend",function(ra){q.composing&&(ra.data!=q.composing.data&&q.readFromDOMSoon(),q.composing.done=!0)});Ge(qa,"touchstart",function(){return y.forceCompositionEnd()});Ge(qa,"input",function(){q.composing||q.readFromDOMSoon()});Ge(qa,"copy",t);Ge(qa,"cut",t)};Mf.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};
Mf.prototype.prepareSelection=function(){var a=Gc(this.cm,!1);a.focus=document.activeElement==this.div;return a};Mf.prototype.showSelection=function(a,f){a&&this.cm.display.view.length&&((a.focus||f)&&this.showPrimarySelection(),this.showMultipleSelections(a))};Mf.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Mf.prototype.showPrimarySelection=function(){var a=this.getSelection(),f=this.cm,t=f.doc.sel.primary(),q=t.from();t=t.to();if(f.display.viewTo==
f.display.viewFrom||q.line>=f.display.viewTo||t.line<f.display.viewFrom)a.removeAllRanges();else{var y=Oi(f,a.anchorNode,a.anchorOffset),X=Oi(f,a.focusNode,a.focusOffset);if(!y||y.bad||!X||X.bad||0!=Va(eb(y,X),q)||0!=Va(ta(y,X),t))if(y=f.display.view,q=q.line>=f.display.viewFrom&&Bj(f,q)||{node:y[0].measure.map[2],offset:0},t=t.line<f.display.viewTo&&Bj(f,t),t||(t=y[y.length-1].measure,t=t.maps?t.maps[t.maps.length-1]:t.map,t={node:t[t.length-1],offset:t[t.length-2]-t[t.length-3]}),q&&t){y=a.rangeCount&&
a.getRangeAt(0);try{var qa=vi(q.node,q.offset,t.offset,t.node)}catch(ra){}qa&&(!jg&&f.state.focused?(a.collapse(q.node,q.offset),qa.collapsed||(a.removeAllRanges(),a.addRange(qa))):(a.removeAllRanges(),a.addRange(qa)),y&&null==a.anchorNode?a.addRange(y):jg&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};Mf.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=
!0})},20)};Mf.prototype.showMultipleSelections=function(a){ea(this.cm.display.cursorDiv,a.cursors);ea(this.cm.display.selectionDiv,a.selection)};Mf.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};Mf.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return fb(this.div,
a)};Mf.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};Mf.prototype.blur=function(){this.div.blur()};Mf.prototype.getField=function(){return this.div};Mf.prototype.supportsTouch=function(){return!0};Mf.prototype.receivedFocus=function(){function a(){f.cm.state.focused&&(f.pollSelection(),f.polling.set(f.cm.options.pollInterval,a))}var f=this;this.selectionInEditor()?
this.pollSelection():jc(this.cm,function(){return f.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,a)};Mf.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};Mf.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),f=this.cm;if(si&&
yg&&this.cm.display.gutterSpecs.length&&qi(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var t=Oi(f,a.anchorNode,a.anchorOffset),q=Oi(f,a.focusNode,a.focusOffset);t&&q&&jc(f,function(){pa(f.doc,aa(t,q),bg);if(t.bad||q.bad)f.curOp.selectionChanged=!0})}}};Mf.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=
this.cm,f=a.display,t=a.doc.sel.primary(),q=t.from(),y=t.to();0==q.ch&&q.line>a.firstLine()&&(q=oa(q.line-1,p(a.doc,q.line-1).length));y.ch==p(a.doc,y.line).text.length&&y.line<a.lastLine()&&(y=oa(y.line+1,0));if(q.line<f.viewFrom||y.line>f.viewTo-1)return!1;var X;q.line==f.viewFrom||0==(X=N(a,q.line))?(t=H(f.view[0].line),X=f.view[0].node):(t=H(f.view[X].line),X=f.view[X-1].node.nextSibling);var qa=N(a,y.line);qa==f.view.length-1?(y=f.viewTo-1,f=f.lineDiv.lastChild):(y=H(f.view[qa+1].line)-1,f=f.view[qa+
1].node.previousSibling);if(!X)return!1;f=a.doc.splitLines(xh(a,X,f,t,y));for(X=r(a.doc,oa(t,0),oa(y,p(a.doc,y).text.length));1<f.length&&1<X.length;)if(Za(f)==Za(X))f.pop(),X.pop(),y--;else if(f[0]==X[0])f.shift(),X.shift(),t++;else break;var ra=0;qa=0;for(var jb=f[0],Bb=X[0],Xb=Math.min(jb.length,Bb.length);ra<Xb&&jb.charCodeAt(ra)==Bb.charCodeAt(ra);)++ra;jb=Za(f);Bb=Za(X);for(Xb=Math.min(jb.length-(1==f.length?ra:0),Bb.length-(1==X.length?ra:0));qa<Xb&&jb.charCodeAt(jb.length-qa-1)==Bb.charCodeAt(Bb.length-
qa-1);)++qa;if(1==f.length&&1==X.length&&t==q.line)for(;ra&&ra>q.ch&&jb.charCodeAt(jb.length-qa-1)==Bb.charCodeAt(Bb.length-qa-1);)ra--,qa++;f[f.length-1]=jb.slice(0,jb.length-qa).replace(/^\u200b+/,"");f[0]=f[0].slice(ra).replace(/\u200b+$/,"");q=oa(t,ra);t=oa(y,X.length?Za(X).length-qa:0);if(1<f.length||f[0]||Va(q,t))return ie(a.doc,f,q,t,"+input"),!0};Mf.prototype.ensurePolled=function(){this.forceCompositionEnd()};Mf.prototype.reset=function(){this.forceCompositionEnd()};Mf.prototype.forceCompositionEnd=
function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Mf.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};Mf.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||jc(this.cm,function(){return V(a.cm)})};
Mf.prototype.setUneditable=function(a){a.contentEditable="false"};Mf.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Qc(this.cm,gj)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};Mf.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};Mf.prototype.onContextMenu=function(){};Mf.prototype.resetPosition=function(){};Mf.prototype.needsContentAttribute=!0;var cg=function(a){this.cm=a;this.prevInput=
"";this.pollingFast=!1;this.polling=new lf;this.hasSelection=!1;this.composing=null};cg.prototype.init=function(a){function f(qa){if(!S(y,qa)){if(y.somethingSelected())Eg={lineWise:!1,text:y.getSelections()};else if(y.options.lineWiseCopyCut){var ra=Ni(y);Eg={lineWise:!0,text:ra.text};"cut"==qa.type?y.setSelections(ra.ranges,null,bg):(q.prevInput="",X.value=ra.text.join("\n"),ui(X))}else return;"cut"==qa.type&&(y.state.cutIncoming=+new Date)}}var t=this,q=this,y=this.cm;this.createField(a);var X=
this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ah&&(X.style.width="0px");Ge(X,"input",function(){nf&&9<=sf&&t.hasSelection&&(t.hasSelection=null);q.poll()});Ge(X,"paste",function(qa){S(y,qa)||Sj(qa,y)||(y.state.pasteIncoming=+new Date,q.fastPoll())});Ge(X,"cut",f);Ge(X,"copy",f);Ge(a.scroller,"paste",function(qa){if(!qd(a,qa)&&!S(y,qa))if(X.dispatchEvent){var ra=new Event("paste");ra.clipboardData=qa.clipboardData;X.dispatchEvent(ra)}else y.state.pasteIncoming=+new Date,q.focus()});
Ge(a.lineSpace,"selectstart",function(qa){qd(a,qa)||J(qa)});Ge(X,"compositionstart",function(){var qa=y.getCursor("from");q.composing&&q.composing.range.clear();q.composing={start:qa,range:y.markText(qa,y.getCursor("to"),{className:"CodeMirror-composing"})}});Ge(X,"compositionend",function(){q.composing&&(q.poll(),q.composing.range.clear(),q.composing=null)})};cg.prototype.createField=function(a){this.wrapper=hj();this.textarea=this.wrapper.firstChild};cg.prototype.screenReaderLabelChanged=function(a){a?
this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};cg.prototype.prepareSelection=function(){var a=this.cm,f=a.display,t=a.doc,q=Gc(a);if(a.options.moveInputWithCursor){a=ae(a,t.sel.primary().head,"div");t=f.wrapper.getBoundingClientRect();var y=f.lineDiv.getBoundingClientRect();q.teTop=Math.max(0,Math.min(f.wrapper.clientHeight-10,a.top+y.top-t.top));q.teLeft=Math.max(0,Math.min(f.wrapper.clientWidth-10,a.left+y.left-t.left))}return q};cg.prototype.showSelection=
function(a){var f=this.cm.display;ea(f.cursorDiv,a.cursors);ea(f.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};cg.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var f=this.cm;f.somethingSelected()?(this.prevInput="",a=f.getSelection(),this.textarea.value=a,f.state.focused&&ui(this.textarea),nf&&9<=sf&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",nf&&9<=sf&&(this.hasSelection=null))}};
cg.prototype.getField=function(){return this.textarea};cg.prototype.supportsTouch=function(){return!1};cg.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oh||ub()!=this.textarea))try{this.textarea.focus()}catch(a){}};cg.prototype.blur=function(){this.textarea.blur()};cg.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};cg.prototype.receivedFocus=function(){this.slowPoll()};cg.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,
function(){a.poll();a.cm.state.focused&&a.slowPoll()})};cg.prototype.fastPoll=function(){function a(){t.poll()||f?(t.pollingFast=!1,t.slowPoll()):(f=!0,t.polling.set(60,a))}var f=!1,t=this;t.pollingFast=!0;t.polling.set(20,a)};cg.prototype.poll=function(){var a=this,f=this.cm,t=this.textarea,q=this.prevInput;if(this.contextMenuPending||!f.state.focused||Ph(t)&&!q&&!this.composing||f.isReadOnly()||f.options.disableInput||f.state.keySeq)return!1;var y=t.value;if(y==q&&!f.somethingSelected())return!1;
if(nf&&9<=sf&&this.hasSelection===y||Wg&&/[\uf700-\uf7ff]/.test(y))return f.display.input.reset(),!1;if(f.doc.sel==f.display.selForContextMenu){var X=y.charCodeAt(0);8203!=X||q||(q="");if(8666==X)return this.reset(),this.cm.execCommand("undo")}var qa=0;for(X=Math.min(q.length,y.length);qa<X&&q.charCodeAt(qa)==y.charCodeAt(qa);)++qa;jc(f,function(){gj(f,y.slice(qa),q.length-qa,null,a.composing?"*compose":null);1E3<y.length||-1<y.indexOf("\n")?t.value=a.prevInput="":a.prevInput=y;a.composing&&(a.composing.range.clear(),
a.composing.range=f.markText(a.composing.start,f.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};cg.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};cg.prototype.onKeyPress=function(){nf&&9<=sf&&(this.hasSelection=null);this.fastPoll()};cg.prototype.onContextMenu=function(a){function f(){if(null!=qa.selectionStart){var oc=y.somethingSelected(),ed=""+(oc?qa.value:"");qa.value="";qa.value=ed;q.prevInput=oc?"":"";qa.selectionStart=1;qa.selectionEnd=
ed.length;X.selForContextMenu=y.doc.sel}}function t(){if(q.contextMenuPending==t&&(q.contextMenuPending=!1,q.wrapper.style.cssText=Xb,qa.style.cssText=Bb,nf&&9>sf&&X.scrollbars.setScrollTop(X.scroller.scrollTop=jb),null!=qa.selectionStart)){(!nf||nf&&9>sf)&&f();var oc=0,ed=function(){X.selForContextMenu==y.doc.sel&&0==qa.selectionStart&&0<qa.selectionEnd&&""==q.prevInput?Qc(y,ia)(y):10>oc++?X.detectingSelectAll=setTimeout(ed,500):(X.selForContextMenu=null,X.input.reset())};X.detectingSelectAll=setTimeout(ed,
200)}}var q=this,y=q.cm,X=y.display,qa=q.textarea;q.contextMenuPending&&q.contextMenuPending();var ra=Pe(y,a),jb=X.scroller.scrollTop;if(ra&&!Kg){y.options.resetSelectionOnContextMenu&&-1==y.doc.sel.contains(ra)&&Qc(y,pa)(y.doc,aa(ra),bg);var Bb=qa.style.cssText,Xb=q.wrapper.style.cssText;ra=q.wrapper.offsetParent.getBoundingClientRect();q.wrapper.style.cssText="position: static";qa.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-ra.top-5)+"px; left: "+(a.clientX-
ra.left-5)+"px;\n      z-index: 1000; background: "+(nf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(yf)var Hc=window.scrollY;X.input.focus();yf&&window.scrollTo(null,Hc);X.input.reset();y.somethingSelected()||(qa.value=q.prevInput=" ");q.contextMenuPending=t;X.selForContextMenu=y.doc.sel;clearTimeout(X.detectingSelectAll);nf&&9<=sf&&f();if(ti){ma(a);var qc=function(){nb(window,"mouseup",
qc);setTimeout(t,20)};Ge(window,"mouseup",qc)}else setTimeout(t,50)}};cg.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a;this.textarea.readOnly=!!a};cg.prototype.setUneditable=function(){};cg.prototype.needsContentAttribute=!1;(function(a){function f(q,y,X,qa){a.defaults[q]=y;X&&(t[q]=qa?function(ra,jb,Bb){Bb!=Ui&&X(ra,jb,Bb)}:X)}var t=a.optionHandlers;a.defineOption=f;a.Init=Ui;f("value","",function(q,y){return q.setValue(y)},!0);f("mode",null,function(q,
y){q.doc.modeOption=y;tb(q)},!0);f("indentUnit",2,tb,!0);f("indentWithTabs",!1);f("smartIndent",!0);f("tabSize",4,function(q){pb(q);Bf(q);V(q)},!0);f("lineSeparator",null,function(q,y){if(q.doc.lineSep=y){var X=[],qa=q.doc.first;q.doc.iter(function(jb){for(var Bb=0;;){var Xb=jb.text.indexOf(y,Bb);if(-1==Xb)break;Bb=Xb+y.length;X.push(oa(qa,Xb))}qa++});for(var ra=X.length-1;0<=ra;ra--)ie(q.doc,y,X[ra],oa(X[ra].line,X[ra].ch+y.length))}});f("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
function(q,y,X){q.state.specialChars=new RegExp(y.source+(y.test("\t")?"":"|\t"),"g");X!=Ui&&q.refresh()});f("specialCharPlaceholder",Gb,function(q){return q.refresh()},!0);f("electricChars",!0);f("inputStyle",Oh?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);f("spellcheck",!1,function(q,y){return q.getInputField().spellcheck=y},!0);f("autocorrect",!1,function(q,y){return q.getInputField().autocorrect=y},!0);f("autocapitalize",
!1,function(q,y){return q.getInputField().autocapitalize=y},!0);f("rtlMoveVisually",!Vg);f("wholeLineUpdateBefore",!0);f("theme","default",function(q){lj(q);Ce(q)},!0);f("keyMap","default",function(q,y,X){y=bj(y);(X=X!=Ui&&bj(X))&&X.detach&&X.detach(q,y);y.attach&&y.attach(q,X||null)});f("extraKeys",null);f("configureMouse",null);f("lineWrapping",!1,Bg,!0);f("gutters",[],function(q,y){q.display.gutterSpecs=be(y,q.options.lineNumbers);Ce(q)},!0);f("fixedGutter",!0,function(q,y){q.display.gutters.style.left=
y?Cf(q.display)+"px":"0";q.refresh()},!0);f("coverGutterNextToScrollbar",!1,function(q){return fa(q)},!0);f("scrollbarStyle","native",function(q){Qb(q);fa(q);q.display.scrollbars.setScrollTop(q.doc.scrollTop);q.display.scrollbars.setScrollLeft(q.doc.scrollLeft)},!0);f("lineNumbers",!1,function(q,y){q.display.gutterSpecs=be(q.options.gutters,y);Ce(q)},!0);f("firstLineNumber",1,Ce,!0);f("lineNumberFormatter",function(q){return q},Ce,!0);f("showCursorWhenSelecting",!1,mc,!0);f("resetSelectionOnContextMenu",
!0);f("lineWiseCopyCut",!0);f("pasteLinesPerSelection",!0);f("selectionsMayTouch",!1);f("readOnly",!1,function(q,y){"nocursor"==y&&(le(q),q.display.input.blur());q.display.input.readOnlyChanged(y)});f("screenReaderLabel",null,function(q,y){q.display.input.screenReaderLabelChanged(""===y?null:y)});f("disableInput",!1,function(q,y){y||q.display.input.reset()},!0);f("dragDrop",!0,Ag);f("allowDropFileTypes",null);f("cursorBlinkRate",530);f("cursorScrollMargin",0);f("cursorHeight",1,mc,!0);f("singleCursorHeightPerLine",
!0,mc,!0);f("workTime",100);f("workDelay",100);f("flattenSpans",!0,pb,!0);f("addModeClass",!1,pb,!0);f("pollInterval",100);f("undoDepth",200,function(q,y){return q.doc.history.undoDepth=y});f("historyEventDelay",1250);f("viewportMargin",10,function(q){return q.refresh()},!0);f("maxHighlightLength",1E4,pb,!0);f("moveInputWithCursor",!0,function(q,y){y||q.display.input.resetPosition()});f("tabindex",null,function(q,y){return q.display.input.getField().tabIndex=y||""});f("autofocus",null);f("direction",
"ltr",function(q,y){return q.doc.setDirection(y)},!0);f("phrases",null)})(Pf);(function(a){var f=a.optionHandlers,t=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus();this.display.input.focus()},setOption:function(q,y){var X=this.options,qa=X[q];if(X[q]!=y||"mode"==q)X[q]=y,f.hasOwnProperty(q)&&Qc(this,f[q])(this,y,qa),$a(this,"optionChange",this,q)},getOption:function(q){return this.options[q]},getDoc:function(){return this.doc},addKeyMap:function(q,y){this.state.keyMaps[y?"push":
"unshift"](bj(q))},removeKeyMap:function(q){for(var y=this.state.keyMaps,X=0;X<y.length;++X)if(y[X]==q||y[X].name==q)return y.splice(X,1),!0},addOverlay:Kc(function(q,y){var X=q.token?q:a.getMode(this.options,q);if(X.startState)throw Error("Overlays may not be stateful.");Da(this.state.overlays,{mode:X,modeSpec:q,opaque:y&&y.opaque,priority:y&&y.priority||0},function(qa){return qa.priority});this.state.modeGen++;V(this)}),removeOverlay:Kc(function(q){for(var y=this.state.overlays,X=0;X<y.length;++X){var qa=
y[X].modeSpec;if(qa==q||"string"==typeof q&&qa.name==q){y.splice(X,1);this.state.modeGen++;V(this);break}}}),indentLine:Kc(function(q,y,X){"string"!=typeof y&&"number"!=typeof y&&(y=null==y?this.options.smartIndent?"smart":"prev":y?"add":"subtract");ha(this.doc,q)&&vh(this,q,y,X)}),indentSelection:Kc(function(q){for(var y=this.doc.sel.ranges,X=-1,qa=0;qa<y.length;qa++){var ra=y[qa];if(ra.empty())ra.head.line>X&&(vh(this,ra.head.line,q,!0),X=ra.head.line,qa==this.doc.sel.primIndex&&Ue(this));else{var jb=
ra.from();ra=ra.to();var Bb=Math.max(X,jb.line);X=Math.min(this.lastLine(),ra.line-(ra.ch?0:1))+1;for(ra=Bb;ra<X;++ra)vh(this,ra,q);ra=this.doc.sel.ranges;0==jb.ch&&y.length==ra.length&&0<ra[qa].from().ch&&Sd(this.doc,qa,new zf(jb,ra[qa].to()),bg)}}}),getTokenAt:function(q,y){return nc(this,q,y)},getLineTokens:function(q,y){return nc(this,oa(q),y,!0)},getTokenTypeAt:function(q){q=xb(this.doc,q);var y=Ec(this,p(this.doc,q.line)),X=0,qa=(y.length-1)/2;q=q.ch;if(0==q)y=y[2];else for(;;){var ra=X+qa>>
1;if((ra?y[2*ra-1]:0)>=q)qa=ra;else if(y[2*ra+1]<q)X=ra+1;else{y=y[2*ra+2];break}}X=y?y.indexOf("overlay "):-1;return 0>X?y:0==X?null:y.slice(0,X-1)},getModeAt:function(q){var y=this.doc.mode;return y.innerMode?a.innerMode(y,this.getTokenAt(q).state).mode:y},getHelper:function(q,y){return this.getHelpers(q,y)[0]},getHelpers:function(q,y){var X=[];if(!t.hasOwnProperty(y))return X;var qa=t[y];q=this.getModeAt(q);if("string"==typeof q[y])qa[q[y]]&&X.push(qa[q[y]]);else if(q[y])for(var ra=0;ra<q[y].length;ra++){var jb=
qa[q[y][ra]];jb&&X.push(jb)}else q.helperType&&qa[q.helperType]?X.push(qa[q.helperType]):qa[q.name]&&X.push(qa[q.name]);for(y=0;y<qa._global.length;y++)ra=qa._global[y],ra.pred(q,this)&&-1==Xa(X,ra.val)&&X.push(ra.val);return X},getStateAfter:function(q,y){var X=this.doc;q=Math.max(X.first,Math.min(null==q?X.first+X.size-1:q,X.first+X.size-1));return gd(this,q+1,y).state},cursorCoords:function(q,y){var X=this.doc.sel.primary();q=null==q?X.head:"object"==typeof q?xb(this.doc,q):q?X.from():X.to();return ae(this,
q,y||"page")},charCoords:function(q,y){return Ld(this,xb(this.doc,q),y||"page")},coordsChar:function(q,y){q=Ad(this,q,y||"page");return Jd(this,q.left,q.top)},lineAtHeight:function(q,y){q=Ad(this,{top:q,left:0},y||"page").top;return C(this.doc,q+this.display.viewOffset)},heightAtLine:function(q,y,X){var qa=!1;if("number"==typeof q){var ra=this.doc.first+this.doc.size-1;q<this.doc.first?q=this.doc.first:q>ra&&(q=ra,qa=!0);q=p(this.doc,q)}return re(this,q,{top:0,left:0},y||"page",X||qa).top+(qa?this.doc.height-
Z(q):0)},defaultTextHeight:function(){return Je(this.display)},defaultCharWidth:function(){return pe(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(q,y,X,qa,ra){var jb=this.display;q=ae(this,xb(this.doc,q));var Bb=q.bottom,Xb=q.left;y.style.position="absolute";y.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(y);jb.sizer.appendChild(y);if("over"==qa)Bb=q.top;else if("above"==qa||"near"==qa){var Hc=Math.max(jb.wrapper.clientHeight,
this.doc.height),qc=Math.max(jb.sizer.clientWidth,jb.lineSpace.clientWidth);("above"==qa||q.bottom+y.offsetHeight>Hc)&&q.top>y.offsetHeight?Bb=q.top-y.offsetHeight:q.bottom+y.offsetHeight<=Hc&&(Bb=q.bottom);Xb+y.offsetWidth>qc&&(Xb=qc-y.offsetWidth)}y.style.top=Bb+"px";y.style.left=y.style.right="";"right"==ra?(Xb=jb.sizer.clientWidth-y.offsetWidth,y.style.right="0px"):("left"==ra?Xb=0:"middle"==ra&&(Xb=(jb.sizer.clientWidth-y.offsetWidth)/2),y.style.left=Xb+"px");X&&(q=Zf(this,{left:Xb,top:Bb,right:Xb+
y.offsetWidth,bottom:Bb+y.offsetHeight}),null!=q.scrollTop&&vf(this,q.scrollTop),null!=q.scrollLeft&&df(this,q.scrollLeft))},triggerOnKeyDown:Kc(ek),triggerOnKeyPress:Kc(aj),triggerOnKeyUp:wg,triggerOnMouseDown:Kc(Ji),execCommand:function(q){if(Di.hasOwnProperty(q))return Di[q].call(null,this)},triggerElectric:Kc(function(q){jj(this,q)}),findPosH:function(q,y,X,qa){var ra=1;0>y&&(ra=-1,y=-y);q=xb(this.doc,q);for(var jb=0;jb<y&&(q=di(this.doc,q,ra,X,qa),!q.hitSide);++jb);return q},moveH:Kc(function(q,
y){var X=this;this.extendSelectionsBy(function(qa){return X.display.shift||X.doc.extend||qa.empty()?di(X.doc,qa.head,q,y,X.options.rtlMoveVisually):0>q?qa.from():qa.to()},gi)}),deleteH:Kc(function(q,y){var X=this.doc;this.doc.sel.somethingSelected()?X.replaceSelection("",null,"+delete"):Yi(this,function(qa){var ra=di(X,qa.head,q,y,!1);return 0>q?{from:ra,to:qa.head}:{from:qa.head,to:ra}})}),findPosV:function(q,y,X,qa){var ra=1;0>y&&(ra=-1,y=-y);var jb=xb(this.doc,q);for(q=0;q<y&&(jb=ae(this,jb,"div"),
null==qa?qa=jb.left:jb.left=qa,jb=ij(this,jb,ra,X),!jb.hitSide);++q);return jb},moveV:Kc(function(q,y){var X=this,qa=this.doc,ra=[],jb=!this.display.shift&&!qa.extend&&qa.sel.somethingSelected();qa.extendSelectionsBy(function(Xb){if(jb)return 0>q?Xb.from():Xb.to();var Hc=ae(X,Xb.head,"div");null!=Xb.goalColumn&&(Hc.left=Xb.goalColumn);ra.push(Hc.left);var qc=ij(X,Hc,q,y);"page"==y&&Xb==qa.sel.primary()&&pd(X,Ld(X,qc,"div").top-Hc.top);return qc},gi);if(ra.length)for(var Bb=0;Bb<qa.sel.ranges.length;Bb++)qa.sel.ranges[Bb].goalColumn=
ra[Bb]}),findWordAt:function(q){var y=p(this.doc,q.line).text,X=q.ch,qa=q.ch;if(y){var ra=this.getHelper(q,"wordChars");"before"!=q.sticky&&qa!=y.length||!X?++qa:--X;var jb=y.charAt(X);for(jb=bb(jb,ra)?function(Bb){return bb(Bb,ra)}:/\s/.test(jb)?function(Bb){return/\s/.test(Bb)}:function(Bb){return!/\s/.test(Bb)&&!bb(Bb)};0<X&&jb(y.charAt(X-1));)--X;for(;qa<y.length&&jb(y.charAt(qa));)++qa}return new zf(oa(q.line,X),oa(q.line,qa))},toggleOverwrite:function(q){if(null==q||q!=this.state.overwrite)(this.state.overwrite=
!this.state.overwrite)?Ob(this.display.cursorDiv,"CodeMirror-overwrite"):Xg(this.display.cursorDiv,"CodeMirror-overwrite"),$a(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==ub()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Kc(function(q,y){Le(this,q,y)}),getScrollInfo:function(){var q=this.display.scroller;return{left:q.scrollLeft,top:q.scrollTop,height:q.scrollHeight-Wd(this)-this.display.barHeight,
width:q.scrollWidth-Wd(this)-this.display.barWidth,clientHeight:ye(this),clientWidth:me(this)}},scrollIntoView:Kc(function(q,y){null==q?(q={from:this.doc.sel.primary().head,to:null},null==y&&(y=this.options.cursorScrollMargin)):"number"==typeof q?q={from:oa(q,0),to:null}:null==q.from&&(q={from:q,to:null});q.to||(q.to=q.from);q.margin=y||0;null!=q.from.line?(Ze(this),this.curOp.scrollToPos=q):$f(this,q.from,q.to,q.margin)}),setSize:Kc(function(q,y){var X=this,qa=function(jb){return"number"==typeof jb||
/^\d+$/.test(String(jb))?jb+"px":jb};null!=q&&(this.display.wrapper.style.width=qa(q));null!=y&&(this.display.wrapper.style.height=qa(y));this.options.lineWrapping&&Oe(this);var ra=this.display.viewFrom;this.doc.iter(ra,this.display.viewTo,function(jb){if(jb.widgets)for(var Bb=0;Bb<jb.widgets.length;Bb++)if(jb.widgets[Bb].noHScroll){wa(X,ra,"widget");break}++ra});this.curOp.forceUpdate=!0;$a(this,"refresh",this)}),operation:function(q){return jc(this,q)},startOperation:function(){return Mb(this)},
endOperation:function(){return bc(this)},refresh:Kc(function(){var q=this.display.cachedTextHeight;V(this);this.curOp.forceUpdate=!0;Bf(this);Le(this,this.doc.scrollLeft,this.doc.scrollTop);Fe(this.display);(null==q||.5<Math.abs(q-Je(this.display))||this.options.lineWrapping)&&tf(this);$a(this,"refresh",this)}),swapDoc:Kc(function(q){var y=this.doc;y.cm=null;this.state.selectingText&&this.state.selectingText();pc(this,q);Bf(this);this.display.input.reset();Le(this,q.scrollLeft,q.scrollTop);this.curOp.forceScroll=
!0;tc(this,"swapDoc",this,y);return y}),phrase:function(q){var y=this.options.phrases;return y&&Object.prototype.hasOwnProperty.call(y,q)?y[q]:q},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Q(a);a.registerHelper=function(q,y,X){t.hasOwnProperty(q)||(t[q]=a[q]={_global:[]});t[q][y]=X};a.registerGlobalHelper=
function(q,y,X,qa){a.registerHelper(q,y,qa);t[q]._global.push({pred:X,val:qa})}})(Pf);var Mk="iter insert remove copy getEditor constructor".split(" "),ej;for(ej in ug.prototype)ug.prototype.hasOwnProperty(ej)&&0>Xa(Mk,ej)&&(Pf.prototype[ej]=function(a){return function(){return a.apply(this.doc,arguments)}}(ug.prototype[ej]));Q(ug);Pf.inputStyles={textarea:cg,contenteditable:Mf};Pf.defineMode=function(a){Pf.defaults.mode||"null"==a||(Pf.defaults.mode=a);U.apply(this,arguments)};Pf.defineMIME=function(a,
f){Bh[a]=f};Pf.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});Pf.defineMIME("text/plain","null");Pf.defineExtension=function(a,f){Pf.prototype[a]=f};Pf.defineDocExtension=function(a,f){ug.prototype[a]=f};Pf.fromTextArea=function(a,f){function t(){a.value=ra.getValue()}f=f?ob(f):{};f.value=a.value;!f.tabindex&&a.tabIndex&&(f.tabindex=a.tabIndex);!f.placeholder&&a.placeholder&&(f.placeholder=a.placeholder);if(null==f.autofocus){var q=ub();f.autofocus=q==a||null!=a.getAttribute("autofocus")&&
q==document.body}if(a.form&&(Ge(a.form,"submit",t),!f.leaveSubmitMethodAlone)){var y=a.form;var X=y.submit;try{var qa=y.submit=function(){t();y.submit=X;y.submit();y.submit=qa}}catch(jb){}}f.finishInit=function(jb){jb.save=t;jb.getTextArea=function(){return a};jb.toTextArea=function(){jb.toTextArea=isNaN;t();a.parentNode.removeChild(jb.getWrapperElement());a.style.display="";a.form&&(nb(a.form,"submit",t),f.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||(a.form.submit=X))}};a.style.display=
"none";var ra=Pf(function(jb){return a.parentNode.insertBefore(jb,a.nextSibling)},f);return ra};(function(a){a.off=nb;a.on=Ge;a.wheelEventPixels=gg;a.Doc=ug;a.splitLines=bh;a.countColumn=rb;a.findColumn=Ha;a.isWordChar=Ca;a.Pass=Kh;a.signal=$a;a.Line=bi;a.changeEnd=ja;a.scrollbarModel=Si;a.Pos=oa;a.cmpPos=Va;a.modes=Ah;a.mimeModes=Bh;a.resolveMode=sa;a.getMode=ua;a.modeExtensions=ch;a.extendMode=la;a.copyState=T;a.startState=w;a.innerMode=v;a.commands=Di;a.keyMap=dj;a.keyName=Xh;a.isModifierKey=Hi;
a.lookupKey=rh;a.normalizeKeyMap=Zg;a.StringStream=Xf;a.SharedTextMarker=Dh;a.TextMarker=Qg;a.LineWidget=oi;a.e_preventDefault=J;a.e_stopPropagation=W;a.e_stop=ma;a.addClass=Ob;a.contains=fb;a.rmClass=Xg;a.keyNames=Lh})(Pf);Pf.version="5.59.1";return Pf})};
shadow$provide[72]=function($b,Rb,Ic,Nb){(function(n){"object"===typeof Nb&&"object"===typeof Ic?n(Rb(71)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){n.defineMode("clojure",function(x){function ea(Fa,hb){if(Fa.eatSpace()||Fa.eat(","))return["space",null];if(Fa.match(Za))return[null,"number"];if(Fa.match(mb))return[null,"string-2"];if(Fa.eat(/^"/))return(hb.tokenize=Sa)(Fa,hb);if(Fa.eat(/^[(\[{]/))return["open","bracket"];if(Fa.eat(/^[)\]}]/))return["close",
"bracket"];if(Fa.eat(/^;/))return Fa.skipToEnd(),["space","comment"];if(Fa.eat(/^[#'@^`~]/))return[null,"meta"];var Ca=Fa.match(Da);Ca=Ca&&Ca[0];return Ca?"comment"===Ca&&"("===hb.lastToken?(hb.tokenize=Wb)(Fa,hb):ub(Ca,ob)||":"===Ca.charAt(0)?["symbol","atom"]:ub(Ca,rb)||ub(Ca,Xa)?["symbol","keyword"]:"("===hb.lastToken?["symbol","builtin"]:["symbol","variable"]:(Fa.next(),Fa.eatWhile(function(bb){return!ub(bb,Ia)}),[null,"error"])}function Sa(Fa,hb){for(var Ca=!1,bb;bb=Fa.next();){if('"'===bb&&
!Ca){hb.tokenize=ea;break}Ca=!Ca&&"\\"===bb}return[null,"string"]}function Wb(Fa,hb){for(var Ca=1,bb;bb=Fa.next();)if(")"===bb&&Ca--,"("===bb&&Ca++,0===Ca){Fa.backUp(1);hb.tokenize=ea;break}return["space","comment"]}function fb(Fa){for(var hb={},Ca=0;Ca<Fa.length;++Ca)hb[Fa[Ca]]=!0;return hb}function ub(Fa,hb){if(hb instanceof RegExp)return hb.test(Fa);if(hb instanceof Object)return hb.propertyIsEnumerable(Fa)}var Ob=["false","nil","true"],zb=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),
cb="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
n.registerHelper("hintWords","clojure",[].concat(Ob,zb,cb));var ob=fb(Ob),rb=fb(zb),Xa=fb(cb),Ha=fb("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
Ia=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,Za=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,mb=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,Da=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:ea}},token:function(Fa,hb){Fa.sol()&&"number"!==typeof hb.ctx.indentTo&&(hb.ctx.indentTo=hb.ctx.start+1);var Ca=hb.tokenize(Fa,hb),bb=Ca[0];Ca=Ca[1];var La=Fa.current();"space"!==bb&&("("===hb.lastToken&&null===hb.ctx.indentTo?"symbol"===bb&&ub(La,Ha)?hb.ctx.indentTo=hb.ctx.start+x.indentUnit:hb.ctx.indentTo="next":"next"===hb.ctx.indentTo&&(hb.ctx.indentTo=Fa.column()),hb.lastToken=La);"open"===bb?hb.ctx=
{prev:hb.ctx,start:Fa.column(),indentTo:null}:"close"===bb&&(hb.ctx=hb.ctx.prev||hb.ctx);return Ca},indent:function(Fa){var hb=Fa.ctx.indentTo;return"number"===typeof hb?hb:Fa.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});n.defineMIME("text/x-clojure","clojure");n.defineMIME("text/x-clojurescript","clojure");n.defineMIME("application/edn","clojure")})};
var aa="cljs.core",ba="cljs.pprint",ca="cljs.spec.alpha",ea="clojure.string",ha="datascript.db",ia="datascript.pull-api",db="literate.app",ja="taoensso.sente",g,ka=ka||{},la=this||self;function oa(){}
function pa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function qa(a){return"array"==pa(a)}function ra(a){var b=pa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function sa(a){return"function"==pa(a)}function ua(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function va(a){return a[ya]||(a[ya]=++za)}var ya="closure_uid_"+(1E9*Math.random()>>>0),za=0;function Aa(a,b,c){return a.call.apply(a.bind,arguments)}
function Ca(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(b,e)}}return function(){return a.apply(b,arguments)}}function Ea(a,b,c){Ea=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Aa:Ca;return Ea.apply(null,arguments)}var Fa=Date.now||function(){return+new Date};
function Ga(a,b){a=a.split(".");var c=la;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function Ha(a,b){function c(){}c.prototype=b.prototype;a.od=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function Ia(a){Ia[" "](a);return a}Ia[" "]=oa;function Ja(a,b){var c=Ka;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};function La(a){let b=!1,c;return function(){b||(c=a(),b=!0);return c}};var Ma=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Oa=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.lastIndexOf(b,c);
for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Pa=Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Qa=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},Ra=Array.prototype.every?function(a,b,
c){return Array.prototype.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e="string"===typeof a?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Sa(a){a:{var b=Ua;for(var c=a.length,d="string"===typeof a?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function Va(a){if(!qa(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0}
function Wa(a,b){b=Ma(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function Xa(a){return Array.prototype.concat.apply([],arguments)}function Ya(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Za(a,b){a.sort(b||$a)}function ab(a,b){for(var c=Array(a.length),d=0;d<a.length;d++)c[d]={index:d,value:a[d]};var e=b||$a;Za(c,function(f,h){return e(f.value,h.value)||f.index-h.index});for(d=0;d<a.length;d++)a[d]=c[d].value}
function $a(a,b){return a>b?1:a<b?-1:0}function bb(a){for(var b=Math.random,c=a.length-1;0<c;c--){var d=Math.floor(b()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}};function cb(a){this.pi=a}cb.prototype.toString=function(){return this.pi};var gb=new cb("IFRAME"),lb=new cb("SCRIPT");function pb(a){const b=[];let c=0;for(const d in a)b[c++]=a[d];return b}function qb(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function rb(a,b,c){return null!==a&&b in a?a[b]:c}function sb(a,b,c){a[b]=c}var tb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function ub(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<tb.length;f++)c=tb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function wb(a,b){this.oi=a===xb&&b||"";this.Ug=yb}var yb={},xb={},Ab=new wb(xb,"");function Bb(){}Bb.prototype.ld=function(){return this};(new Bb).ld("");function Cb(a,b){this.ii=a===Db&&b||"";this.Vg=Eb}var Eb={},Db={};function Fb(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Gb(a){return/^[\s\xa0]*$/.test(a)}var Ib=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Jb(a){return-1!=Kb.toLowerCase().indexOf(a.toLowerCase())}function Lb(a,b){return a<b?-1:a>b?1:0};function Mb(){}Mb.prototype.ld=function(){return this};(new Mb).ld("");function Nb(){}Nb.prototype.ld=function(){return this};(new Nb).ld("");var Kb;a:{var eb=la.navigator;if(eb){var fb=eb.userAgent;if(fb){Kb=fb;break a}}Kb=""}function Qb(a){return-1!=Kb.indexOf(a)};function Rb(){this.Gg="";this.Tg=Sb}function Tb(){var a=Ub;if(a instanceof Rb&&a.constructor===Rb&&a.Tg===Sb)return a.Gg;pa(a);return"type_error:SafeHtml"}var Sb={};Rb.prototype.ld=function(a){this.Gg=a;return this};(new Rb).ld("\x3c!DOCTYPE html\x3e");var Ub=(new Rb).ld("");(new Rb).ld("\x3cbr\x3e");function Vb(a){var b=new Cb(Db,Ab instanceof wb&&Ab.constructor===wb&&Ab.Ug===yb?Ab.oi:"type_error:Const");b instanceof Cb&&b.constructor===Cb&&b.Vg===Eb?b=b.ii:(pa(b),b="type_error:TrustedResourceUrl");a.src=b.toString()};function Wb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"">=a}var Xb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function hb(a){return String(a.charAt(0)).toUpperCase()+String(a.substr(1)).toLowerCase()};function Yb(a){if(a.ib&&"function"==typeof a.ib)a=a.ib();else if(ra(a)||"string"===typeof a)a=a.length;else{{let b=0;for(const c in a)b++;a=b}}return a}function Zb(a){if(a.Xb&&"function"==typeof a.Xb)return a.Xb();if("string"===typeof a)return a.split("");if(ra(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return pb(a)}
function ac(a){if(a.Ic&&"function"==typeof a.Ic)return a.Ic();if(!a.Xb||"function"!=typeof a.Xb){if(ra(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return qb(a)}}function bc(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ra(a)||"string"===typeof a)Pa(a,b,c);else for(var d=ac(a),e=Zb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}
function cc(a,b){if("function"==typeof a.every)return a.every(b,void 0);if(ra(a)||"string"===typeof a)return Ra(a,b,void 0);for(var c=ac(a),d=Zb(a),e=d.length,f=0;f<e;f++)if(!b.call(void 0,d[f],c&&c[f],a))return!1;return!0};function dc(a,b){this.nb={};this.mb=[];this.Za=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)}g=dc.prototype;g.ib=function(){return this.Za};g.Xb=function(){ec(this);for(var a=[],b=0;b<this.mb.length;b++)a.push(this.nb[this.mb[b]]);return a};g.Ic=function(){ec(this);return this.mb.concat()};g.Ed=function(a){return fc(this.nb,a)};
g.pe=function(a){for(var b=0;b<this.mb.length;b++){var c=this.mb[b];if(fc(this.nb,c)&&this.nb[c]==a)return!0}return!1};g.equals=function(a,b){if(this===a)return!0;if(this.Za!=a.ib())return!1;b=b||gc;ec(this);for(var c,d=0;c=this.mb[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};function gc(a,b){return a===b}g.isEmpty=function(){return 0==this.Za};g.clear=function(){this.nb={};this.Za=this.mb.length=0};
g.remove=function(a){return fc(this.nb,a)?(delete this.nb[a],this.Za--,this.mb.length>2*this.Za&&ec(this),!0):!1};function ec(a){if(a.Za!=a.mb.length){for(var b=0,c=0;b<a.mb.length;){var d=a.mb[b];fc(a.nb,d)&&(a.mb[c++]=d);b++}a.mb.length=c}if(a.Za!=a.mb.length){var e={};for(c=b=0;b<a.mb.length;)d=a.mb[b],fc(e,d)||(a.mb[c++]=d,e[d]=1),b++;a.mb.length=c}}g.get=function(a,b){return fc(this.nb,a)?this.nb[a]:b};g.set=function(a,b){fc(this.nb,a)||(this.Za++,this.mb.push(a));this.nb[a]=b};
g.addAll=function(a){if(a instanceof dc)for(var b=a.Ic(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};g.forEach=function(a,b){for(var c=this.Ic(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};g.clone=function(){return new dc(this)};g.transpose=function(){for(var a=new dc,b=0;b<this.mb.length;b++){var c=this.mb[b];a.set(this.nb[c],c)}return a};function fc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var ic=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jc(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function kc(a,b){this.Za=this.lb=null;this.xc=a||null;this.yh=!!b}function lc(a){a.lb||(a.lb=new dc,a.Za=0,a.xc&&jc(a.xc,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=kc.prototype;g.ib=function(){lc(this);return this.Za};g.add=function(a,b){lc(this);this.xc=null;a=mc(this,a);var c=this.lb.get(a);c||this.lb.set(a,c=[]);c.push(b);this.Za+=1;return this};
g.remove=function(a){lc(this);a=mc(this,a);return this.lb.Ed(a)?(this.xc=null,this.Za-=this.lb.get(a).length,this.lb.remove(a)):!1};g.clear=function(){this.lb=this.xc=null;this.Za=0};g.isEmpty=function(){lc(this);return 0==this.Za};g.Ed=function(a){lc(this);a=mc(this,a);return this.lb.Ed(a)};g.pe=function(a){var b=this.Xb();return 0<=Ma(b,a)};g.forEach=function(a,b){lc(this);this.lb.forEach(function(c,d){Pa(c,function(e){a.call(b,e,d,this)},this)},this)};
g.Ic=function(){lc(this);for(var a=this.lb.Xb(),b=this.lb.Ic(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};g.Xb=function(a){lc(this);var b=[];if("string"===typeof a)this.Ed(a)&&(b=Xa(b,this.lb.get(mc(this,a))));else{a=this.lb.Xb();for(var c=0;c<a.length;c++)b=Xa(b,a[c])}return b};g.set=function(a,b){lc(this);this.xc=null;a=mc(this,a);this.Ed(a)&&(this.Za-=this.lb.get(a).length);this.lb.set(a,[b]);this.Za+=1;return this};
g.get=function(a,b){if(!a)return b;a=this.Xb(a);return 0<a.length?String(a[0]):b};g.toString=function(){if(this.xc)return this.xc;if(!this.lb)return"";for(var a=[],b=this.lb.Ic(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Xb(d);for(var f=0;f<d.length;f++){var h=e;""!==d[f]&&(h+="\x3d"+encodeURIComponent(String(d[f])));a.push(h)}}return this.xc=a.join("\x26")};g.clone=function(){var a=new kc;a.xc=this.xc;this.lb&&(a.lb=this.lb.clone(),a.Za=this.Za);return a};
function mc(a,b){b=String(b);a.yh&&(b=b.toLowerCase());return b}g.extend=function(a){for(var b=0;b<arguments.length;b++)bc(arguments[b],function(c,d){this.add(d,c)},this)};function nc(a,b){null!=a&&this.append.apply(this,arguments)}g=nc.prototype;g.sd="";g.set=function(a){this.sd=""+a};g.append=function(a,b,c){this.sd+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.sd+=arguments[d];return this};g.clear=function(){this.sd=""};g.getLength=function(){return this.sd.length};g.toString=function(){return this.sd};var oc={},pc={},ib,l={},rc=null,sc=null,tc=!0,uc=!0,vc=null,wc=null;function xc(){return new p(null,5,[yc,!0,zc,uc,Ac,!1,Bc,!1,Cc,vc],null)}function Dc(){tc=!1;sc=function(){return console.log.apply(console,Ya(arguments))}}function q(a){return null!=a&&!1!==a}function Ec(a){return null==a}function Fc(a){return a instanceof Array}function Gc(a){return"number"===typeof a}function Hc(a){return null==a?!0:!1===a?!0:!1}function Ic(a){return null!=a}
function Kc(a,b){return a[pa(null==b?null:b)]?!0:a._?!0:!1}function Lc(a){return null==a?null:a.constructor}function Mc(a,b){var c=Lc(b);c=q(q(c)?c.Lb:c)?c.ub:pa(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function Nc(a){var b=a.ub;return q(b)?b:u.Eh(a)}
var Oc="undefined"!==typeof Symbol&&"function"===pa(Symbol)?Symbol.iterator:"@@iterator",Pc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},Qc=null;
function Rc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function Sc(a){function b(d,e){d.push(e);return d}var c=[];return v.Gh?v.Gh(b,c,a):v.call(null,b,c,a)}function Tc(a){return"symbol"===pa(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function Uc(){}function Vc(){}function Wc(){}
function Xc(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=Xc[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Xc._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("ICounted.-count",a);}return a}function Yc(){}function $c(a){if(null!=a&&null!=a.Ja)a=a.Ja(a);else{var b=$c[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=$c._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IEmptyableCollection.-empty",a);}return a}function ad(){}
function bd(a,b){if(null!=a&&null!=a.ia)a=a.ia(a,b);else{var c=bd[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=bd._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ICollection.-conj",a);}return a}function cd(){}
var jb=function(){function a(d,e,f){var h=x[pa(null==d?null:d)];if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);throw Mc("IIndexed.-nth",d);}function b(d,e){var f=x[pa(null==d?null:d)];if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);throw Mc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.Dh=b;c.Gh=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.Dh(arguments[0],arguments[1]);case 3:return x.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};x.Dh=function(a,b){return null!=a&&null!=a.wa?a.wa(a,b):jb(a,b)};x.Gh=function(a,b,c){return null!=a&&null!=a.Ra?a.Ra(a,b,c):jb(a,b,c)};x.Sh=3;function fd(){}
function gd(a){if(null!=a&&null!=a.Ua)a=a.Ua(a);else{var b=gd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=gd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("ISeq.-first",a);}return a}function hd(a){if(null!=a&&null!=a.cb)a=a.cb(a);else{var b=hd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=hd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("ISeq.-rest",a);}return a}function id(){}
function jd(a){if(null!=a&&null!=a.Na)a=a.Na(a);else{var b=jd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=jd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("INext.-next",a);}return a}function kd(){}
var kb=function(){function a(d,e,f){var h=ld[pa(null==d?null:d)];if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);h=ld._;if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);throw Mc("ILookup.-lookup",d);}function b(d,e){var f=ld[pa(null==d?null:d)];if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);f=ld._;if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);throw Mc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.Dh=b;c.Gh=a;return c}(),ld=function ld(a){switch(arguments.length){case 2:return ld.Dh(arguments[0],arguments[1]);case 3:return ld.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};ld.Dh=function(a,b){return null!=a&&null!=a.ja?a.ja(a,b):kb(a,b)};ld.Gh=function(a,b,c){return null!=a&&null!=a.Ph?a.Ph(a,b,c):kb(a,b,c)};ld.Sh=3;
function nd(a,b,c){if(null!=a&&null!=a.aa)a=a.aa(a,b,c);else{var d=nd[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=nd._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IAssociative.-assoc",a);}return a}function od(a,b){if(null!=a&&null!=a.ad)a=a.ad(a,b);else{var c=od[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=od._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IFind.-find",a);}return a}function pd(){}
function qd(a,b){if(null!=a&&null!=a.ua)a=a.ua(a,b);else{var c=qd[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=qd._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IMap.-dissoc",a);}return a}function rd(a){if(null!=a&&null!=a.nf)a=a.key;else{var b=rd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=rd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IMapEntry.-key",a);}return a}
function sd(a){if(null!=a&&null!=a.pf)a=a.val;else{var b=sd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=sd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IMapEntry.-val",a);}return a}function td(){}function ud(a,b){if(null!=a&&null!=a.rf)a=a.rf(a,b);else{var c=ud[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=ud._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ISet.-disjoin",a);}return a}
function vd(a){if(null!=a&&null!=a.bd)a=a.bd(a);else{var b=vd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=vd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IStack.-peek",a);}return a}function wd(a){if(null!=a&&null!=a.cd)a=a.cd(a);else{var b=wd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=wd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IStack.-pop",a);}return a}function xd(){}
function yd(a,b,c){if(null!=a&&null!=a.Gc)a=a.Gc(a,b,c);else{var d=yd[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=yd._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IVector.-assoc-n",a);}return a}function zd(){}function z(a){if(null!=a&&null!=a.wb)a=a.wb(a);else{var b=z[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=z._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IDeref.-deref",a);}return a}function Ad(){}
function Bd(a){if(null!=a&&null!=a.ca)a=a.ca(a);else{var b=Bd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Bd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IMeta.-meta",a);}return a}function Fd(a,b){if(null!=a&&null!=a.da)a=a.da(a,b);else{var c=Fd[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=Fd._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IWithMeta.-with-meta",a);}return a}function Gd(){}
var mb=function(){function a(d,e,f){var h=Hd[pa(null==d?null:d)];if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);h=Hd._;if(null!=h)return h.Gh?h.Gh(d,e,f):h.call(null,d,e,f);throw Mc("IReduce.-reduce",d);}function b(d,e){var f=Hd[pa(null==d?null:d)];if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);f=Hd._;if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);throw Mc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,
d,e,f)}throw Error("Invalid arity: "+arguments.length);};c.Dh=b;c.Gh=a;return c}(),Hd=function Hd(a){switch(arguments.length){case 2:return Hd.Dh(arguments[0],arguments[1]);case 3:return Hd.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Hd.Dh=function(a,b){return null!=a&&null!=a.Sa?a.Sa(a,b):mb(a,b)};Hd.Gh=function(a,b,c){return null!=a&&null!=a.Ta?a.Ta(a,b,c):mb(a,b,c)};Hd.Sh=3;function Jd(){}
function Kd(a,b,c){if(null!=a&&null!=a.ta)a=a.ta(a,b,c);else{var d=Kd[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=Kd._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IKVReduce.-kv-reduce",a);}return a}function Ld(a,b){if(null!=a&&null!=a.$)a=a.$(a,b);else{var c=Ld[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=Ld._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IEquiv.-equiv",a);}return a}
function Md(a){if(null!=a&&null!=a.ha)a=a.ha(a);else{var b=Md[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Md._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IHash.-hash",a);}return a}function Nd(){}function Od(a){if(null!=a&&null!=a.fa)a=a.fa(a);else{var b=Od[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Od._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("ISeqable.-seq",a);}return a}function Pd(){}function Qd(){}function Rd(){}
function Sd(){}function Td(a){if(null!=a&&null!=a.tc)a=a.tc(a);else{var b=Td[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Td._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IReversible.-rseq",a);}return a}function Ud(a,b){if(null!=a&&null!=a.vd)a=a.vd(a,b);else{var c=Ud[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=Ud._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IWriter.-write",a);}return a}
function Vd(a){if(null!=a&&null!=a.Rc)a=a.Rc(a);else{var b=Vd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Vd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IWriter.-flush",a);}return a}function Wd(){}function Xd(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=Xd[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=Xd._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IPrintWithWriter.-pr-writer",a);}return a}
function Yd(){}function Zd(a){if(null!=a&&null!=a.Me)a=a.Me(a);else{var b=Zd[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Zd._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IPending.-realized?",a);}return a}function $d(a,b){var c=ae;if(null!=a&&null!=a.mg)a.mg(a,c,b);else{var d=$d[pa(null==a?null:a)];if(null!=d)d.Gh?d.Gh(a,c,b):d.call(null,a,c,b);else if(d=$d._,null!=d)d.Gh?d.Gh(a,c,b):d.call(null,a,c,b);else throw Mc("IWatchable.-add-watch",a);}}
function be(a){var b=ae;if(null!=a&&null!=a.ng)a.ng(a,b);else{var c=be[pa(null==a?null:a)];if(null!=c)c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=be._,null!=c)c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IWatchable.-remove-watch",a);}}function ce(a){if(null!=a&&null!=a.td)a=a.td(a);else{var b=ce[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ce._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IEditableCollection.-as-transient",a);}return a}
function de(a,b){if(null!=a&&null!=a.ud)a=a.ud(a,b);else{var c=de[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=de._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ITransientCollection.-conj!",a);}return a}function ee(a){if(null!=a&&null!=a.Cd)a=a.Cd(a);else{var b=ee[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ee._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("ITransientCollection.-persistent!",a);}return a}
function fe(a,b,c){if(null!=a&&null!=a.Pd)a=a.Pd(a,b,c);else{var d=fe[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=fe._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("ITransientAssociative.-assoc!",a);}return a}function ge(a,b){if(null!=a&&null!=a.sf)a=a.sf(a,b);else{var c=ge[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=ge._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ITransientMap.-dissoc!",a);}return a}
function he(){}function ie(a,b){if(null!=a&&null!=a.Pc)a=a.Pc(a,b);else{var c=ie[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=ie._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IComparable.-compare",a);}return a}function je(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=je[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=je._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IChunk.-drop-first",a);}return a}
function ke(a){if(null!=a&&null!=a.ee)a=a.ee(a);else{var b=ke[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ke._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IChunkedSeq.-chunked-first",a);}return a}function le(a){if(null!=a&&null!=a.Bd)a=a.Bd(a);else{var b=le[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=le._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IChunkedSeq.-chunked-rest",a);}return a}
function me(a){if(null!=a&&null!=a.he)a=a.he(a);else{var b=me[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=me._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("INamed.-name",a);}return a}function ne(a){if(null!=a&&null!=a.Uh)a=a.Uh(a);else{var b=ne[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ne._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("INamed.-namespace",a);}return a}
function oe(a,b){if(null!=a&&null!=a.gh)a=a.gh(a,b);else{var c=oe[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=oe._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IReset.-reset!",a);}return a}
var nb=function(){function a(f,h,k,m,n){var r=pe[pa(null==f?null:f)];if(null!=r)return r.ka?r.ka(f,h,k,m,n):r.call(null,f,h,k,m,n);r=pe._;if(null!=r)return r.ka?r.ka(f,h,k,m,n):r.call(null,f,h,k,m,n);throw Mc("ISwap.-swap!",f);}function b(f,h,k,m){var n=pe[pa(null==f?null:f)];if(null!=n)return n.Oh?n.Oh(f,h,k,m):n.call(null,f,h,k,m);n=pe._;if(null!=n)return n.Oh?n.Oh(f,h,k,m):n.call(null,f,h,k,m);throw Mc("ISwap.-swap!",f);}function c(f,h,k){var m=pe[pa(null==f?null:f)];if(null!=m)return m.Gh?m.Gh(f,
h,k):m.call(null,f,h,k);m=pe._;if(null!=m)return m.Gh?m.Gh(f,h,k):m.call(null,f,h,k);throw Mc("ISwap.-swap!",f);}function d(f,h){var k=pe[pa(null==f?null:f)];if(null!=k)return k.Dh?k.Dh(f,h):k.call(null,f,h);k=pe._;if(null!=k)return k.Dh?k.Dh(f,h):k.call(null,f,h);throw Mc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.Dh=d;e.Gh=c;e.Oh=b;e.ka=a;return e}(),pe=function pe(a){switch(arguments.length){case 2:return pe.Dh(arguments[0],arguments[1]);case 3:return pe.Gh(arguments[0],arguments[1],arguments[2]);case 4:return pe.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return pe.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};
pe.Dh=function(a,b){return null!=a&&null!=a.ih?a.ih(a,b):nb(a,b)};pe.Gh=function(a,b,c){return null!=a&&null!=a.jh?a.jh(a,b,c):nb(a,b,c)};pe.Oh=function(a,b,c,d){return null!=a&&null!=a.kh?a.kh(a,b,c,d):nb(a,b,c,d)};pe.ka=function(a,b,c,d,e){return null!=a&&null!=a.lh?a.lh(a,b,c,d,e):nb(a,b,c,d,e)};pe.Sh=5;
function se(a,b){if(null!=a&&null!=a.Qc)a=a.Qc(a,b);else{var c=se[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=se._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IVolatile.-vreset!",a);}return a}function te(){}function ue(a){if(null!=a&&null!=a.ma)a=a.ma(a);else{var b=ue[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ue._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IIterable.-iterator",a);}return a}
function ve(a){this.ni=a;this.Lh=1073741824;this.Qh=0}ve.prototype.vd=function(a,b){return this.ni.append(b)};ve.prototype.Rc=function(){return null};function we(a){var b=new nc,c=new ve(b);a.ea(null,c,xc());c.Rc(null);return u.Eh(b)}var xe="undefined"!==typeof Math&&"undefined"!==typeof Math.imul&&0!==Math.imul(4294967295,5)?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};
function ye(a){a=xe(a|0,-862048943);return xe(a<<15|a>>>-15,461845907)}function ze(a,b){a=(a|0)^(b|0);return xe(a<<13|a>>>-13,5)+-430675100|0}function Ae(a,b){a=(a|0)^b;a=xe(a^a>>>16,-2048144789);a=xe(a^a>>>13,-1028477387);return a^a>>>16}var Be={},Ce=0;
function De(a){255<Ce&&(Be={},Ce=0);if(null==a)return 0;var b=Be[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=xe(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;Be[a]=b;Ce+=1;a=b}return a}
function Ee(a){if(null!=a&&(a.Lh&4194304||l===a.dh))return a.ha(null)^0;if("number"===typeof a){if(q(isFinite(a)))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=De(a),a=0===a?a:Ae(ze(0,ye(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:Md(a)^0,a}function Fe(a){return a instanceof A}
function Ge(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=ze(d,ye(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=Ae(1===(b.length&1)?c^ye(b.charCodeAt(b.length-1)):c,xe(2,b.length));a=De(a.Pb);return b^a+2654435769+(b<<6)+(b>>2)}function He(a,b){if(a.Yc===b.Yc)return 0;if(q(Hc(a.Pb)?b.Pb:!1))return-1;if(q(a.Pb)){if(Hc(b.Pb))return 1;var c=$a(a.Pb,b.Pb);return 0===c?$a(a.name,b.name):c}return $a(a.name,b.name)}
function A(a,b,c,d,e){this.Pb=a;this.name=b;this.Yc=c;this._hash=d;this.qc=e;this.Lh=2154168321;this.Qh=4096}g=A.prototype;g.toString=function(){return this.Yc};g.equiv=function(a){return this.$(null,a)};g.$=function(a,b){return b instanceof A?this.Yc===b.Yc:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return B.Dh?B.Dh(a,this):B.call(null,a,this)};g.Dh=function(a,b){return B.Gh?B.Gh(a,this,b):B.call(null,a,this,b)};g.ca=function(){return this.qc};g.da=function(a,b){return new A(this.Pb,this.name,this.Yc,this._hash,b)};g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ge(this)};g.he=function(){return this.name};g.Uh=function(){return this.Pb};g.ea=function(a,b){return Ud(b,this.Yc)};
var Ie=function Ie(a){switch(arguments.length){case 1:return Ie.Eh(arguments[0]);case 2:return Ie.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Ie.Eh=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?Ie.Dh(null,a):Ie.Dh(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof Je)return a.Md;if(a instanceof C)a=a.la;else throw Error("no conversion to symbol");}};
Ie.Dh=function(a,b){var c=null!=a?[u.Eh(a),"/",u.Eh(b)].join(""):b;return new A(a,b,c,null,null)};Ie.Sh=2;function Je(a,b,c){this.val=a;this.Md=b;this.qc=c;this.Lh=6717441;this.Qh=0}g=Je.prototype;g.toString=function(){return["#'",u.Eh(this.Md)].join("")};g.wb=function(){return this.val.Nh?this.val.Nh():this.val.call(null)};g.ca=function(){return this.qc};g.da=function(a,b){return new Je(this.val,this.Md,b)};
g.$=function(a,b){return b instanceof Je?(a=this.Md,b=b.Md,D.Dh?D.Dh(a,b):D.call(null,a,b)):!1};g.ha=function(){return Ge(this.Md)};g.eg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.Nh();case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);case 3:return this.Gh(arguments[1],arguments[2],arguments[3]);case 4:return this.Oh(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Gb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.fe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Nh=function(){var a=this.val.Nh?this.val.Nh():this.val.call(null);return a.Nh?a.Nh():a.call(null)};g.Eh=function(a){var b=this.val.Nh?this.val.Nh():this.val.call(null);return b.Eh?b.Eh(a):b.call(null,a)};
g.Dh=function(a,b){var c=this.val.Nh?this.val.Nh():this.val.call(null);return c.Dh?c.Dh(a,b):c.call(null,a,b)};g.Gh=function(a,b,c){var d=this.val.Nh?this.val.Nh():this.val.call(null);return d.Gh?d.Gh(a,b,c):d.call(null,a,b,c)};g.Oh=function(a,b,c,d){var e=this.val.Nh?this.val.Nh():this.val.call(null);return e.Oh?e.Oh(a,b,c,d):e.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){var f=this.val.Nh?this.val.Nh():this.val.call(null);return f.ka?f.ka(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ya=function(a,b,c,d,e,f){var h=this.val.Nh?this.val.Nh():this.val.call(null);return h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Jb=function(a,b,c,d,e,f,h){var k=this.val.Nh?this.val.Nh():this.val.call(null);return k.Jb?k.Jb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.tb=function(a,b,c,d,e,f,h,k){var m=this.val.Nh?this.val.Nh():this.val.call(null);return m.tb?m.tb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.Kb=function(a,b,c,d,e,f,h,k,m){var n=this.val.Nh?this.val.Nh():this.val.call(null);return n.Kb?n.Kb(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.yb=function(a,b,c,d,e,f,h,k,m,n){var r=this.val.Nh?this.val.Nh():this.val.call(null);return r.yb?r.yb(a,b,c,d,e,f,h,k,m,n):r.call(null,a,b,c,d,e,f,h,k,m,n)};g.zb=function(a,b,c,d,e,f,h,k,m,n,r){var t=this.val.Nh?this.val.Nh():this.val.call(null);return t.zb?t.zb(a,b,c,d,e,f,h,k,m,n,r):t.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,r,t){var w=this.val.Nh?this.val.Nh():this.val.call(null);return w.Ab?w.Ab(a,b,c,d,e,f,h,k,m,n,r,t):w.call(null,a,b,c,d,e,f,h,k,m,n,r,t)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,t,w){var y=this.val.Nh?this.val.Nh():this.val.call(null);return y.Bb?y.Bb(a,b,c,d,e,f,h,k,m,n,r,t,w):y.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y){var E=this.val.Nh?this.val.Nh():this.val.call(null);return E.Cb?E.Cb(a,b,c,d,e,f,h,k,m,n,r,t,w,y):E.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y)};g.Db=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E){var I=this.val.Nh?this.val.Nh():this.val.call(null);return I.Db?I.Db(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E):I.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I){var G=this.val.Nh?this.val.Nh():this.val.call(null);return G.Eb?G.Eb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I):G.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G){var J=this.val.Nh?this.val.Nh():this.val.call(null);return J.Fb?J.Fb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G):J.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J){var N=this.val.Nh?this.val.Nh():this.val.call(null);return N.Gb?N.Gb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J):N.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J)};g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N){var U=this.val.Nh?this.val.Nh():this.val.call(null);return U.Hb?U.Hb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N):U.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N)};
g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U){var da=this.val.Nh?this.val.Nh():this.val.call(null);return da.Ib?da.Ib(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U):da.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U)};g.fe=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da){var wa=this.val.Nh?this.val.Nh():this.val.call(null);return Ke.mf?Ke.mf(wa,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da):Ke.call(null,wa,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da)};
function Le(a){return null!=a?a.Qh&131072||l===a.wi?!0:a.Qh?!1:Kc(te,a):Kc(te,a)}function F(a){if(null==a)return null;if(null!=a&&(a.Lh&8388608||l===a.qf))return a.fa(null);if(Fc(a)||"string"===typeof a)return 0===a.length?null:new Me(a,0,null);if(null!=a&&null!=a[Oc])return a=rb(a,Oc).call(a),Ne.Eh?Ne.Eh(a):Ne.call(null,a);if(Kc(Nd,a))return Od(a);throw Error([u.Eh(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.Lh&64||l===a.va))return a.Ua(null);a=F(a);return null==a?null:gd(a)}function Oe(a){return null!=a?null!=a&&(a.Lh&64||l===a.va)?a.cb(null):(a=F(a))?a.cb(null):Pe:Pe}function K(a){return null==a?null:null!=a&&(a.Lh&128||l===a.je)?a.Na(null):F(Oe(a))}
var D=function D(a){switch(arguments.length){case 1:return D.Eh(arguments[0]);case 2:return D.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return D.Ih(arguments[0],arguments[1],c)}};D.Eh=function(){return!0};D.Dh=function(a,b){return null==a?null==b:a===b||Ld(a,b)};D.Ih=function(a,b,c){for(;;)if(D.Dh(a,b))if(K(c))a=b,b=H(c),c=K(c);else return D.Dh(b,H(c));else return!1};
D.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};D.Sh=2;function Qe(a){this.s=a}Qe.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=K(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function Re(a){return new Qe(F(a))}function Se(a,b){this.value=a;this.iter=b;this.hf=null;this.Lh=8388672;this.Qh=0}Se.prototype.fa=function(){return this};Se.prototype.Ua=function(){return this.value};
Se.prototype.cb=function(){null==this.hf&&(this.hf=Ne.Eh?Ne.Eh(this.iter):Ne.call(null,this.iter));return this.hf};function Ne(a){var b=a.next();return q(b.done)?null:new Se(b.value,a)}function Te(a){var b=0,c=1;for(a=F(a);;)if(null!=a)b+=1,c=xe(31,c)+Ee(H(a))|0,a=K(a);else return Ae(ze(0,ye(c)),b)}var Ue=Ae(ze(0,ye(1)),0);function Ve(a){var b=0,c=0;for(a=F(a);;)if(null!=a)b+=1,c=c+Ee(H(a))|0,a=K(a);else return Ae(ze(0,ye(c)),b)}var We=Ae(ze(0,ye(0)),0);Wc["null"]=!0;Xc["null"]=function(){return 0};
Date.prototype.$=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.$c=l;Date.prototype.Pc=function(a,b){if(b instanceof Date)return $a(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};Ld.number=function(a,b){return a===b};Uc["function"]=!0;Ad["function"]=!0;Bd["function"]=function(){return null};Md._=function(a){return va(a)};function Xe(a){return a+1}function Ye(a){this.val=a;this.Lh=32768;this.Qh=0}
Ye.prototype.wb=function(){return this.val};function Ze(a){return new Ye(a)}function $e(a){return a instanceof Ye}function af(a){return $e(a)?bf.Eh?bf.Eh(a):bf.call(null,a):a}function bf(a){return z(a)}function cf(a,b){var c=a.ga(null);if(0===c)return b.Nh?b.Nh():b.call(null);for(var d=a.wa(null,0),e=1;;)if(e<c){var f=a.wa(null,e);d=b.Dh?b.Dh(d,f):b.call(null,d,f);if($e(d))return z(d);e+=1}else return d}
function df(a,b,c){var d=a.ga(null),e=c;for(c=0;;)if(c<d){var f=a.wa(null,c);e=b.Dh?b.Dh(e,f):b.call(null,e,f);if($e(e))return z(e);c+=1}else return e}function ef(a,b){var c=a.length;if(0===a.length)return b.Nh?b.Nh():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.Dh?b.Dh(d,f):b.call(null,d,f);if($e(d))return z(d);e+=1}else return d}function ff(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.Dh?b.Dh(e,f):b.call(null,e,f);if($e(e))return z(e);c+=1}else return e}
function gf(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.Dh?b.Dh(c,f):b.call(null,c,f);if($e(c))return z(c);d+=1}else return c}function hf(a){return null!=a?a.Lh&2||l===a.fg?!0:a.Lh?!1:Kc(Wc,a):Kc(Wc,a)}function jf(a){return null!=a?a.Lh&16||l===a.jg?!0:a.Lh?!1:Kc(cd,a):Kc(cd,a)}function kf(a,b,c){var d=M.Eh?M.Eh(a):M.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(D.Dh(lf?lf(a,c):mf.call(null,a,c),b))return c;c+=1}else return-1}
function nf(a,b,c){var d=M.Eh?M.Eh(a):M.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(D.Dh(lf?lf(a,c):mf.call(null,a,c),b))return c;--c}else return-1}function of(a,b){this.Mh=a;this.i=b}of.prototype.$a=function(){return this.i<this.Mh.length};of.prototype.next=function(){var a=this.Mh[this.i];this.i+=1;return a};function Me(a,b,c){this.Mh=a;this.i=b;this.meta=c;this.Lh=166592766;this.Qh=139264}g=Me.prototype;g.toString=function(){return we(this)};
g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M.Eh?M.Eh(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.wa=function(a,b){a=b+this.i;if(0<=a&&a<this.Mh.length)return this.Mh[a];throw Error("Index out of bounds");};g.Ra=function(a,b,c){a=b+this.i;return 0<=a&&a<this.Mh.length?this.Mh[a]:c};
g.ma=function(){return new of(this.Mh,this.i)};g.ca=function(){return this.meta};g.Na=function(){return this.i+1<this.Mh.length?new Me(this.Mh,this.i+1,null):null};g.ga=function(){var a=this.Mh.length-this.i;return 0>a?0:a};g.tc=function(){var a=this.ga(null);return 0<a?new pf(this,a-1,null):null};g.ha=function(){return Te(this)};g.$=function(a,b){return qf.Dh?qf.Dh(this,b):qf.call(null,this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return gf(this.Mh,b,this.Mh[this.i],this.i+1)};
g.Ta=function(a,b,c){return gf(this.Mh,b,c,this.i)};g.Ua=function(){return this.Mh[this.i]};g.cb=function(){return this.i+1<this.Mh.length?new Me(this.Mh,this.i+1,null):Pe};g.fa=function(){return this.i<this.Mh.length?this:null};g.da=function(a,b){return b===this.meta?this:new Me(this.Mh,this.i,b)};g.ia=function(a,b){return rf.Dh?rf.Dh(b,this):rf.call(null,b,this)};Me.prototype[Oc]=function(){return Re(this)};function O(a){return 0<a.length?new Me(a,0,null):null}
function pf(a,b,c){this.ci=a;this.i=b;this.meta=c;this.Lh=32374990;this.Qh=8192}g=pf.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M.Eh?M.Eh(this):M.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return 0<this.i?new pf(this.ci,this.i-1,null):null};g.ga=function(){return this.i+1};g.ha=function(){return Te(this)};
g.$=function(a,b){return qf.Dh?qf.Dh(this,b):qf.call(null,this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf?sf(b,this):tf.call(null,b,this)};g.Ta=function(a,b,c){return uf?uf(b,c,this):tf.call(null,b,c,this)};g.Ua=function(){return x(this.ci,this.i)};g.cb=function(){return 0<this.i?new pf(this.ci,this.i-1,null):Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new pf(this.ci,this.i,b)};g.ia=function(a,b){return rf.Dh?rf.Dh(b,this):rf.call(null,b,this)};
pf.prototype[Oc]=function(){return Re(this)};function wf(a){return H(K(a))}function xf(a){return H(H(a))}function yf(a){for(;;){var b=K(a);if(null!=b)a=b;else return H(a)}}Ld._=function(a,b){return a===b};
var zf=function zf(a){switch(arguments.length){case 0:return zf.Nh();case 1:return zf.Eh(arguments[0]);case 2:return zf.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return zf.Ih(arguments[0],arguments[1],c)}};zf.Nh=function(){return Af};zf.Eh=function(a){return a};zf.Dh=function(a,b){return null!=a?bd(a,b):new Bf(null,b,null,1,null)};
zf.Ih=function(a,b,c){for(;;)if(q(c))a=zf.Dh(a,b),b=H(c),c=K(c);else return zf.Dh(a,b)};zf.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};zf.Sh=2;function Cf(a){return null==a?null:null!=a&&(a.Lh&4||l===a.ig)?a.Ja(null):(null!=a?a.Lh&4||l===a.ig||(a.Lh?0:Kc(Yc,a)):Kc(Yc,a))?$c(a):null}
function M(a){if(null!=a)if(null!=a&&(a.Lh&2||l===a.fg))a=a.ga(null);else if(Fc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.Lh&8388608||l===a.qf))a:{a=F(a);for(var b=0;;){if(hf(a)){a=b+Xc(a);break a}a=K(a);b+=1}}else a=Xc(a);else a=0;return a}function Df(a,b,c){for(;;){if(null==a)return c;if(0===b)return F(a)?H(a):c;if(jf(a))return x(a,b,c);if(F(a))a=K(a),--b;else return c}}
function mf(a){switch(arguments.length){case 2:return lf(arguments[0],arguments[1]);case 3:return P(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}
function lf(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.Lh&16||l===a.jg))return a.wa(null,b);if(Fc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.Lh&64||l===a.va)||null!=a&&(a.Lh&16777216||l===a.lg)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(F(a)){a=H(a);break a}throw Error("Index out of bounds");}if(jf(a)){a=x(a,b);break a}if(F(a))a=K(a),--b;else throw Error("Index out of bounds");}return a}if(Kc(cd,a))return x(a,b);throw Error(["nth not supported on this type ",u.Eh(Nc(Lc(a)))].join(""));}
function P(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.Lh&16||l===a.jg))return a.Ra(null,b,c);if(Fc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.Lh&64||l===a.va)||null!=a&&(a.Lh&16777216||l===a.lg))return 0>b?c:Df(a,b,c);if(Kc(cd,a))return x(a,b,c);throw Error(["nth not supported on this type ",u.Eh(Nc(Lc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.Dh(arguments[0],arguments[1]);case 3:return B.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};B.Dh=function(a,b){return null==a?null:null!=a&&(a.Lh&256||l===a.eh)?a.ja(null,b):Fc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:Kc(kd,a)?ld(a,b):null};
B.Gh=function(a,b,c){return null!=a?null!=a&&(a.Lh&256||l===a.eh)?a.Ph(null,b,c):Fc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:Kc(kd,a)?ld(a,b,c):c:c};B.Sh=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.Gh(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(3),0,null);return Q.Ih(arguments[0],arguments[1],arguments[2],c)}};
Q.Gh=function(a,b,c){return null!=a&&(a.Lh&512||l===a.ri)?a.aa(null,b,c):null!=a?nd(a,b,c):Ef([b,c])};Q.Ih=function(a,b,c,d){for(;;)if(a=Q.Gh(a,b,c),q(d))b=H(d),c=wf(d),d=K(K(d));else return a};Q.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);d=K(d);return this.Ih(b,a,c,d)};Q.Sh=3;
var R=function R(a){switch(arguments.length){case 1:return R.Eh(arguments[0]);case 2:return R.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return R.Ih(arguments[0],arguments[1],c)}};R.Eh=function(a){return a};R.Dh=function(a,b){return null==a?null:qd(a,b)};R.Ih=function(a,b,c){for(;;){if(null==a)return null;a=R.Dh(a,b);if(q(c))b=H(c),c=K(c);else return a}};
R.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};R.Sh=2;function Ff(a){var b=sa(a);return b?b:null!=a?l===a.eg?!0:a.wd?!1:Kc(Uc,a):Kc(Uc,a)}function Gf(a,b){this.na=a;this.meta=b;this.Lh=393217;this.Qh=0}g=Gf.prototype;g.ca=function(){return this.meta};g.da=function(a,b){return new Gf(this.na,b)};g.eg=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.Nh();case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);case 3:return this.Gh(arguments[1],arguments[2],arguments[3]);case 4:return this.Oh(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Gb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.fe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Nh=function(){return this.na.Nh?this.na.Nh():this.na.call(null)};g.Eh=function(a){return this.na.Eh?this.na.Eh(a):this.na.call(null,a)};g.Dh=function(a,b){return this.na.Dh?this.na.Dh(a,b):this.na.call(null,a,b)};
g.Gh=function(a,b,c){return this.na.Gh?this.na.Gh(a,b,c):this.na.call(null,a,b,c)};g.Oh=function(a,b,c,d){return this.na.Oh?this.na.Oh(a,b,c,d):this.na.call(null,a,b,c,d)};g.ka=function(a,b,c,d,e){return this.na.ka?this.na.ka(a,b,c,d,e):this.na.call(null,a,b,c,d,e)};g.Ya=function(a,b,c,d,e,f){return this.na.Ya?this.na.Ya(a,b,c,d,e,f):this.na.call(null,a,b,c,d,e,f)};g.Jb=function(a,b,c,d,e,f,h){return this.na.Jb?this.na.Jb(a,b,c,d,e,f,h):this.na.call(null,a,b,c,d,e,f,h)};
g.tb=function(a,b,c,d,e,f,h,k){return this.na.tb?this.na.tb(a,b,c,d,e,f,h,k):this.na.call(null,a,b,c,d,e,f,h,k)};g.Kb=function(a,b,c,d,e,f,h,k,m){return this.na.Kb?this.na.Kb(a,b,c,d,e,f,h,k,m):this.na.call(null,a,b,c,d,e,f,h,k,m)};g.yb=function(a,b,c,d,e,f,h,k,m,n){return this.na.yb?this.na.yb(a,b,c,d,e,f,h,k,m,n):this.na.call(null,a,b,c,d,e,f,h,k,m,n)};g.zb=function(a,b,c,d,e,f,h,k,m,n,r){return this.na.zb?this.na.zb(a,b,c,d,e,f,h,k,m,n,r):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r)};
g.Ab=function(a,b,c,d,e,f,h,k,m,n,r,t){return this.na.Ab?this.na.Ab(a,b,c,d,e,f,h,k,m,n,r,t):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t)};g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,t,w){return this.na.Bb?this.na.Bb(a,b,c,d,e,f,h,k,m,n,r,t,w):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w)};g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y){return this.na.Cb?this.na.Cb(a,b,c,d,e,f,h,k,m,n,r,t,w,y):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E){return this.na.Db?this.na.Db(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E)};g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I){return this.na.Eb?this.na.Eb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I)};g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G){return this.na.Fb?this.na.Fb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J){return this.na.Gb?this.na.Gb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J)};g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N){return this.na.Hb?this.na.Hb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N)};
g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U){return this.na.Ib?this.na.Ib(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U):this.na.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U)};g.fe=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da){return Ke.mf?Ke.mf(this.na,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da):Ke.call(null,this.na,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da)};function Hf(a,b){return sa(a)?new Gf(a,b):null==a?null:Fd(a,b)}
function If(a){return null!=a&&(null!=a?a.Lh&131072||l===a.ge||(a.Lh?0:Kc(Ad,a)):Kc(Ad,a))?Bd(a):null}var Jf=function Jf(a){switch(arguments.length){case 1:return Jf.Eh(arguments[0]);case 2:return Jf.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return Jf.Ih(arguments[0],arguments[1],c)}};Jf.Eh=function(a){return a};Jf.Dh=function(a,b){return null==a?null:ud(a,b)};
Jf.Ih=function(a,b,c){for(;;){if(null==a)return null;a=Jf.Dh(a,b);if(q(c))b=H(c),c=K(c);else return a}};Jf.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};Jf.Sh=2;function Kf(a){return null==a||Hc(F(a))}function Lf(a){return null==a?!1:null!=a?a.Lh&8||l===a.ti?!0:a.Lh?!1:Kc(ad,a):Kc(ad,a)}function Mf(a){return null==a?!1:null!=a?a.Lh&4096||l===a.Di?!0:a.Lh?!1:Kc(td,a):Kc(td,a)}function Nf(a){return null!=a?a.Lh&16777216||l===a.lg?!0:a.Lh?!1:Kc(Pd,a):Kc(Pd,a)}
function Of(a){return null==a?!1:null!=a?a.Lh&1024||l===a.zi?!0:a.Lh?!1:Kc(pd,a):Kc(pd,a)}function Pf(a){return null!=a?a.Lh&67108864||l===a.Ci?!0:a.Lh?!1:Kc(Rd,a):Kc(Rd,a)}function Qf(a){return null!=a?a.Lh&16384||l===a.Ei?!0:a.Lh?!1:Kc(xd,a):Kc(xd,a)}function Rf(a){return null!=a?a.Qh&512||l===a.si?!0:!1:!1}function Sf(a,b,c,d,e){for(;0!==e;)c[d]=a[b],d+=1,--e,b+=1}var Tf={};function Uf(a){return null==a?!1:null!=a?a.Lh&64||l===a.va?!0:a.Lh?!1:Kc(fd,a):Kc(fd,a)}
function Vf(a){return null==a?!1:!1===a?!1:!0}function Wf(a){var b=Ff(a);return b?b:null!=a?a.Lh&1||l===a.vi?!0:a.Lh?!1:Kc(Vc,a):Kc(Vc,a)}function Xf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function Yf(a,b){return B.Gh(a,b,Tf)===Tf?!1:!0}
var cg=function cg(a){switch(arguments.length){case 1:return cg.Eh(arguments[0]);case 2:return cg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return cg.Ih(arguments[0],arguments[1],c)}};cg.Eh=function(){return!0};cg.Dh=function(a,b){return!D.Dh(a,b)};cg.Ih=function(a,b,c){if(D.Dh(a,b))return!1;a=dg([a,b]);for(b=c;;){var d=H(b);c=K(b);if(q(b)){if(Yf(a,d))return!1;a=zf.Dh(a,d);b=c}else return!0}};
cg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};cg.Sh=2;function eg(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return $a(a,b);throw Error(["Cannot compare ",u.Eh(a)," to ",u.Eh(b)].join(""));}if(null!=a?a.Qh&2048||l===a.$c||(a.Qh?0:Kc(he,a)):Kc(he,a))return ie(a,b);if("string"!==typeof a&&!Fc(a)&&!0!==a&&!1!==a||Lc(a)!==Lc(b))throw Error(["Cannot compare ",u.Eh(a)," to ",u.Eh(b)].join(""));return $a(a,b)}
function fg(a,b){var c=M(a),d=M(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=eg(lf(a,d),lf(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function gg(a){return D.Dh(a,eg)?eg:function(b,c){var d=a.Dh?a.Dh(b,c):a.call(null,b,c);return"number"===typeof d?d:q(d)?-1:q(a.Dh?a.Dh(c,b):a.call(null,c,b))?1:0}}function hg(a,b){return F(b)?(b=ig.Eh?ig.Eh(b):ig.call(null,b),ab(b,gg(a)),F(b)):Pe}
function SF(){var a=Ur;var b=new W(null,7,5,Y,[$q,new W(null,2,5,Y,[Ng(ow,aB,new W(null,2,5,Y,[ks,new p(null,1,[md,new W(null,1,5,Y,[dx],null)],null)],null)),Ru],null),SA,Lp,op,new W(null,2,5,Y,[aB,CC],null),new W(null,1,5,Y,[Ng(Ar,Lp,aB,MB)],null)],null);var c=z(mO);b=iO.Dh?iO.Dh(b,c):iO.call(null,b,c);return TF(a,b)}function TF(a,b){return hg(function(c,d){c=a.Eh?a.Eh(c):a.call(null,c);d=a.Eh?a.Eh(d):a.call(null,d);var e=gg(eg);return e.Dh?e.Dh(c,d):e.call(null,c,d)},b)}
function tf(a){switch(arguments.length){case 2:return sf(arguments[0],arguments[1]);case 3:return uf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function sf(a,b){var c=F(b);return c?(b=H(c),c=K(c),v.Gh?v.Gh(a,b,c):v.call(null,a,b,c)):a.Nh?a.Nh():a.call(null)}function uf(a,b,c){for(c=F(c);;)if(c){var d=H(c);b=a.Dh?a.Dh(b,d):a.call(null,b,d);if($e(b))return z(b);c=K(c)}else return b}
function jg(a){a=ig.Eh?ig.Eh(a):ig.call(null,a);bb(a);return kg.Eh?kg.Eh(a):kg.call(null,a)}function lg(a,b){a=ue(a);if(q(a.$a()))for(var c=a.next();;)if(a.$a()){var d=a.next();c=b.Dh?b.Dh(c,d):b.call(null,c,d);if($e(c))return z(c)}else return c;else return b.Nh?b.Nh():b.call(null)}function mg(a,b,c){for(a=ue(a);;)if(a.$a()){var d=a.next();c=b.Dh?b.Dh(c,d):b.call(null,c,d);if($e(c))return z(c)}else return c}
var v=function v(a){switch(arguments.length){case 2:return v.Dh(arguments[0],arguments[1]);case 3:return v.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};v.Dh=function(a,b){return null!=b&&(b.Lh&524288||l===b.fh)?b.Sa(null,a):Fc(b)?ef(b,a):"string"===typeof b?ef(b,a):Kc(Gd,b)?Hd(b,a):Le(b)?lg(b,a):sf(a,b)};
v.Gh=function(a,b,c){return null!=c&&(c.Lh&524288||l===c.fh)?c.Ta(null,a,b):Fc(c)?ff(c,a,b):"string"===typeof c?ff(c,a,b):Kc(Gd,c)?Hd(c,a,b):Le(c)?mg(c,a,b):uf(a,b,c)};v.Sh=3;function ng(a,b,c){return null!=c?Kd(c,a,b):b}function og(a){return a}
function pg(a,b){return function(){function c(h,k){return a.Dh?a.Dh(h,k):a.call(null,h,k)}function d(h){return b.Eh?b.Eh(h):b.call(null,h)}function e(){return a.Nh?a.Nh():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}function qg(a,b,c){return rg(a,b,b.Nh?b.Nh():b.call(null),c)}
function rg(a,b,c,d){a=a.Eh?a.Eh(b):a.call(null,b);c=v.Gh(a,c,d);return a.Eh?a.Eh(c):a.call(null,c)}var sg=function sg(a){switch(arguments.length){case 0:return sg.Nh();case 1:return sg.Eh(arguments[0]);case 2:return sg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return sg.Ih(arguments[0],arguments[1],c)}};sg.Nh=function(){return 0};sg.Eh=function(a){return a};sg.Dh=function(a,b){return a+b};
sg.Ih=function(a,b,c){return v.Gh(sg,a+b,c)};sg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};sg.Sh=2;var tg=function tg(a){switch(arguments.length){case 1:return tg.Eh(arguments[0]);case 2:return tg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return tg.Ih(arguments[0],arguments[1],c)}};tg.Eh=function(a){return-a};tg.Dh=function(a,b){return a-b};
tg.Ih=function(a,b,c){return v.Gh(tg,a-b,c)};tg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};tg.Sh=2;var ug=function ug(a){switch(arguments.length){case 0:return ug.Nh();case 1:return ug.Eh(arguments[0]);case 2:return ug.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return ug.Ih(arguments[0],arguments[1],c)}};ug.Nh=function(){return 1};ug.Eh=function(a){return a};
ug.Dh=function(a,b){return a*b};ug.Ih=function(a,b,c){return v.Gh(ug,a*b,c)};ug.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};ug.Sh=2;var vg=function vg(a){switch(arguments.length){case 1:return vg.Eh(arguments[0]);case 2:return vg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return vg.Ih(arguments[0],arguments[1],c)}};vg.Eh=function(a){return 1/a};
vg.Dh=function(a,b){return a/b};vg.Ih=function(a,b,c){return v.Gh(vg,a/b,c)};vg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};vg.Sh=2;var wg=function wg(a){switch(arguments.length){case 1:return wg.Eh(arguments[0]);case 2:return wg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return wg.Ih(arguments[0],arguments[1],c)}};wg.Eh=function(){return!0};
wg.Dh=function(a,b){return a<b};wg.Ih=function(a,b,c){for(;;)if(a<b)if(K(c))a=b,b=H(c),c=K(c);else return b<H(c);else return!1};wg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};wg.Sh=2;var xg=function xg(a){switch(arguments.length){case 1:return xg.Eh(arguments[0]);case 2:return xg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return xg.Ih(arguments[0],arguments[1],c)}};
xg.Eh=function(){return!0};xg.Dh=function(a,b){return a<=b};xg.Ih=function(a,b,c){for(;;)if(a<=b)if(K(c))a=b,b=H(c),c=K(c);else return b<=H(c);else return!1};xg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};xg.Sh=2;
var yg=function yg(a){switch(arguments.length){case 1:return yg.Eh(arguments[0]);case 2:return yg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return yg.Ih(arguments[0],arguments[1],c)}};yg.Eh=function(){return!0};yg.Dh=function(a,b){return a>b};yg.Ih=function(a,b,c){for(;;)if(a>b)if(K(c))a=b,b=H(c),c=K(c);else return b>H(c);else return!1};
yg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};yg.Sh=2;var zg=function zg(a){switch(arguments.length){case 1:return zg.Eh(arguments[0]);case 2:return zg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return zg.Ih(arguments[0],arguments[1],c)}};zg.Eh=function(){return!0};zg.Dh=function(a,b){return a>=b};
zg.Ih=function(a,b,c){for(;;)if(a>=b)if(K(c))a=b,b=H(c),c=K(c);else return b>=H(c);else return!1};zg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};zg.Sh=2;var Ag=function Ag(a){switch(arguments.length){case 1:return Ag.Eh(arguments[0]);case 2:return Ag.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return Ag.Ih(arguments[0],arguments[1],c)}};Ag.Eh=function(a){return a};
Ag.Dh=function(a,b){return a>b?a:b};Ag.Ih=function(a,b,c){return v.Gh(Ag,a>b?a:b,c)};Ag.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};Ag.Sh=2;var Bg=function Bg(a){switch(arguments.length){case 1:return Bg.Eh(arguments[0]);case 2:return Bg.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return Bg.Ih(arguments[0],arguments[1],c)}};Bg.Eh=function(a){return a};
Bg.Dh=function(a,b){return a<b?a:b};Bg.Ih=function(a,b,c){return v.Gh(Bg,a<b?a:b,c)};Bg.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};Bg.Sh=2;function Cg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function Dg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function Eg(a,b){return(a%b+b)%b}function Fg(a,b){return Dg((a-a%b)/b)}
function Gg(a,b){return a-b*Fg(a,b)}function Hg(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var Ig=function Ig(a){switch(arguments.length){case 1:return Ig.Eh(arguments[0]);case 2:return Ig.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return Ig.Ih(arguments[0],arguments[1],c)}};Ig.Eh=function(){return!0};Ig.Dh=function(a,b){return Ld(a,b)};
Ig.Ih=function(a,b,c){for(;;)if(a===b)if(K(c))a=b,b=H(c),c=K(c);else return b===H(c);else return!1};Ig.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};Ig.Sh=2;var u=function u(a){switch(arguments.length){case 0:return u.Nh();case 1:return u.Eh(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(1),0,null);return u.Ih(arguments[0],c)}};u.Nh=function(){return""};u.Eh=function(a){return null==a?"":[a].join("")};
u.Ih=function(a,b){for(a=new nc(u.Eh(a));;)if(q(b))a=a.append(u.Eh(H(b))),b=K(b);else return a.toString()};u.ba=function(a){var b=H(a);a=K(a);return this.Ih(b,a)};u.Sh=1;var Jg=function Jg(a){switch(arguments.length){case 2:return Jg.Dh(arguments[0],arguments[1]);case 3:return Jg.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Jg.Dh=function(a,b){return a.substring(b)};Jg.Gh=function(a,b,c){return a.substring(b,c)};Jg.Sh=3;
function qf(a,b){if(Nf(b))if(hf(a)&&hf(b)&&M(a)!==M(b))a=!1;else a:for(a=F(a),b=F(b);;){if(null==a){a=null==b;break a}if(null!=b&&D.Dh(H(a),H(b)))a=K(a),b=K(b);else{a=!1;break a}}else a=null;return Vf(a)}function Bf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.Kh=e;this.Lh=65937646;this.Qh=8192}g=Bf.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return 1===this.count?null:this.rest};g.ga=function(){return this.count};g.bd=function(){return this.first};g.cd=function(){return this.cb(null)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Fd(Pe,this.meta)};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return this.first};g.cb=function(){return 1===this.count?Pe:this.rest};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new Bf(b,this.first,this.rest,this.count,this.Kh)};g.ia=function(a,b){return new Bf(this.meta,b,this,this.count+1,null)};
function Kg(a){return null!=a?a.Lh&33554432||l===a.yi?!0:a.Lh?!1:Kc(Qd,a):Kc(Qd,a)}Bf.prototype[Oc]=function(){return Re(this)};function Lg(a){this.meta=a;this.Lh=65937614;this.Qh=8192}g=Lg.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return null};g.ga=function(){return 0};g.bd=function(){return null};g.cd=function(){throw Error("Can't pop empty list");};g.ha=function(){return Ue};
g.$=function(a,b){return Kg(b)||Nf(b)?null==F(b):!1};g.Ja=function(){return this};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return null};g.cb=function(){return Pe};g.fa=function(){return null};g.da=function(a,b){return b===this.meta?this:new Lg(b)};g.ia=function(a,b){return new Bf(this.meta,b,null,1,null)};var Pe=new Lg(null);Lg.prototype[Oc]=function(){return Re(this)};
function Mg(a){return(null!=a?a.Lh&134217728||l===a.hh||(a.Lh?0:Kc(Sd,a)):Kc(Sd,a))?(a=Td(a))?a:Pe:v.Gh(zf,Pe,a)}var Ng=function Ng(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return Ng.Ih(c)};Ng.Ih=function(a){if(a instanceof Me&&0===a.i)var b=a.Mh;else a:for(b=[];;)if(null!=a)b.push(gd(a)),a=jd(a);else break a;a=b.length;for(var c=Pe;;)if(0<a){var d=a-1;c=bd(c,b[a-1]);a=d}else return c};Ng.Sh=0;Ng.ba=function(a){return this.Ih(F(a))};
function Og(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.Kh=d;this.Lh=65929452;this.Qh=8192}g=Og.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return null==this.rest?null:F(this.rest)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};
g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return this.first};g.cb=function(){return null==this.rest?Pe:this.rest};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new Og(b,this.first,this.rest,this.Kh)};g.ia=function(a,b){return new Og(null,b,this,null)};Og.prototype[Oc]=function(){return Re(this)};
function rf(a,b){return null==b?new Bf(null,a,null,1,null):null!=b&&(b.Lh&64||l===b.va)?new Og(null,a,b,null):new Og(null,a,F(b),null)}function Pg(a,b){if(a.la===b.la)return 0;if(q(Hc(a.Pb)?b.Pb:!1))return-1;if(q(a.Pb)){if(Hc(b.Pb))return 1;var c=$a(a.Pb,b.Pb);return 0===c?$a(a.name,b.name):c}return $a(a.name,b.name)}function C(a,b,c,d){this.Pb=a;this.name=b;this.la=c;this._hash=d;this.Lh=2153775105;this.Qh=4096}g=C.prototype;g.toString=function(){return[":",u.Eh(this.la)].join("")};
g.equiv=function(a){return this.$(null,a)};g.$=function(a,b){return b instanceof C?this.la===b.la:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return B.Dh(a,this)};g.Dh=function(a,b){return B.Gh(a,this,b)};
g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ge(this)+2654435769|0};g.he=function(){return this.name};g.Uh=function(){return this.Pb};g.ea=function(a,b){return Ud(b,[":",u.Eh(this.la)].join(""))};function S(a,b){return a===b?!0:a instanceof C&&b instanceof C?a.la===b.la:!1}function Qg(a){if(null!=a&&(a.Qh&4096||l===a.kg))return a.Uh(null);throw Error(["Doesn't support namespace: ",u.Eh(a)].join(""));}function Rg(a){return a instanceof C||a instanceof A}
var Sg=function Sg(a){switch(arguments.length){case 1:return Sg.Eh(arguments[0]);case 2:return Sg.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Sg.Eh=function(a){if(a instanceof C)return a;if(a instanceof A)return new C(Qg(a),Tg.Eh?Tg.Eh(a):Tg.call(null,a),a.Yc,null);if(D.Dh("/",a))return new C(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new C(b[0],b[1],a,null):new C(null,b[0],a,null)}return null};
Sg.Dh=function(a,b){a=a instanceof C?Tg.Eh?Tg.Eh(a):Tg.call(null,a):a instanceof A?Tg.Eh?Tg.Eh(a):Tg.call(null,a):a;b=b instanceof C?Tg.Eh?Tg.Eh(b):Tg.call(null,b):b instanceof A?Tg.Eh?Tg.Eh(b):Tg.call(null,b):b;return new C(a,b,[q(a)?[u.Eh(a),"/"].join(""):null,u.Eh(b)].join(""),null)};Sg.Sh=2;function Ug(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.Kh=d;this.Lh=32374988;this.Qh=1}g=Ug.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
function Vg(a){null!=a.fn&&(a.s=a.fn.Nh?a.fn.Nh():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){this.fa(null);return null==this.s?null:K(this.s)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};
g.Ja=function(){return Fd(Pe,this.meta)};g.Me=function(){return Hc(this.fn)};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){this.fa(null);return null==this.s?null:H(this.s)};g.cb=function(){this.fa(null);return null!=this.s?Oe(this.s):Pe};g.fa=function(){Vg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof Ug)a=Vg(a);else return this.s=a,F(this.s)};
g.da=function(a,b){var c=this;return b===this.meta?c:new Ug(b,function(){return c.fa(null)},null,this.Kh)};g.ia=function(a,b){return rf(b,this)};Ug.prototype[Oc]=function(){return Re(this)};function Wg(a){this.Ca=a;this.end=0;this.Lh=2;this.Qh=0}Wg.prototype.add=function(a){this.Ca[this.end]=a;return this.end+=1};Wg.prototype.$b=function(){var a=new Xg(this.Ca,0,this.end);this.Ca=null;return a};Wg.prototype.ga=function(){return this.end};function Yg(a){return new Wg(Array(a))}
function Xg(a,b,c){this.Mh=a;this.off=b;this.end=c;this.Lh=524306;this.Qh=0}g=Xg.prototype;g.ga=function(){return this.end-this.off};g.wa=function(a,b){return this.Mh[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.Mh[this.off+b]:c};g.ce=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Xg(this.Mh,this.off+1,this.end)};g.Sa=function(a,b){return gf(this.Mh,b,this.Mh[this.off],this.off+1)};g.Ta=function(a,b,c){return gf(this.Mh,b,c,this.off)};
function Zg(a,b,c,d){this.$b=a;this.Mc=b;this.meta=c;this.Kh=d;this.Lh=31850732;this.Qh=1536}g=Zg.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return 1<Xc(this.$b)?new Zg(je(this.$b),this.Mc,null,null):null==this.Mc?null:Od(this.Mc)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Ua=function(){return x(this.$b,0)};g.cb=function(){return 1<Xc(this.$b)?new Zg(je(this.$b),this.Mc,null,null):null==this.Mc?Pe:this.Mc};g.fa=function(){return this};g.ee=function(){return this.$b};g.Bd=function(){return null==this.Mc?Pe:this.Mc};g.da=function(a,b){return b===this.meta?this:new Zg(this.$b,this.Mc,b,this.Kh)};g.ia=function(a,b){return rf(b,this)};g.de=function(){return null==this.Mc?null:this.Mc};Zg.prototype[Oc]=function(){return Re(this)};
function $g(a,b){return 0===Xc(a)?b:new Zg(a,b,null,null)}function bh(a,b){a.add(b)}function ch(a){return a.$b()}function ig(a){var b=[];for(a=F(a);;)if(null!=a)b.push(H(a)),a=K(a);else return b}function dh(a,b){if(hf(b))return M(b);var c=0;for(b=F(b);;)if(null!=b&&c<a)c+=1,b=K(b);else return c}
var eh=function eh(a){if(null==a)return null;var c=K(a);return null==c?F(H(a)):rf(H(a),eh.Eh?eh.Eh(c):eh.call(null,c))},T=function T(a){switch(arguments.length){case 0:return T.Nh();case 1:return T.Eh(arguments[0]);case 2:return T.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return T.Ih(arguments[0],arguments[1],c)}};T.Nh=function(){return new Ug(null,function(){return null},null,null)};
T.Eh=function(a){return new Ug(null,function(){return a},null,null)};T.Dh=function(a,b){return new Ug(null,function(){var c=F(a);return c?Rf(c)?$g(ke(c),T.Dh(le(c),b)):rf(H(c),T.Dh(Oe(c),b)):b},null,null)};T.Ih=function(a,b,c){return function h(e,f){return new Ug(null,function(){var k=F(e);return k?Rf(k)?$g(ke(k),h(le(k),f)):rf(H(k),h(Oe(k),f)):q(f)?h(H(f),K(f)):null},null,null)}(T.Dh(a,b),c)};T.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};T.Sh=2;
function fh(a,b,c){return rf(a,rf(b,c))}function gh(a){return ce(a)}function hh(a){return ee(a)}var ih=function ih(a){switch(arguments.length){case 0:return ih.Nh();case 1:return ih.Eh(arguments[0]);case 2:return ih.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return ih.Ih(arguments[0],arguments[1],c)}};ih.Nh=function(){return ce(Af)};ih.Eh=function(a){return a};ih.Dh=function(a,b){return de(a,b)};
ih.Ih=function(a,b,c){for(;;)if(a=de(a,b),q(c))b=H(c),c=K(c);else return a};ih.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};ih.Sh=2;var jh=function jh(a){switch(arguments.length){case 3:return jh.Gh(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(3),0,null);return jh.Ih(arguments[0],arguments[1],arguments[2],c)}};jh.Gh=function(a,b,c){return fe(a,b,c)};
jh.Ih=function(a,b,c,d){for(;;)if(a=fe(a,b,c),q(d))b=H(d),c=wf(d),d=K(K(d));else return a};jh.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);d=K(d);return this.Ih(b,a,c,d)};jh.Sh=3;
function kh(a,b,c){var d=F(c);if(0===b)return a.Nh?a.Nh():a.call(null);c=gd(d);var e=hd(d);if(1===b)return a.Eh?a.Eh(c):a.call(null,c);d=gd(e);var f=hd(e);if(2===b)return a.Dh?a.Dh(c,d):a.call(null,c,d);e=gd(f);var h=hd(f);if(3===b)return a.Gh?a.Gh(c,d,e):a.call(null,c,d,e);f=gd(h);var k=hd(h);if(4===b)return a.Oh?a.Oh(c,d,e,f):a.call(null,c,d,e,f);h=gd(k);var m=hd(k);if(5===b)return a.ka?a.ka(c,d,e,f,h):a.call(null,c,d,e,f,h);k=gd(m);var n=hd(m);if(6===b)return a.Ya?a.Ya(c,d,e,f,h,k):a.call(null,
c,d,e,f,h,k);m=gd(n);var r=hd(n);if(7===b)return a.Jb?a.Jb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=gd(r);var t=hd(r);if(8===b)return a.tb?a.tb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);r=gd(t);var w=hd(t);if(9===b)return a.Kb?a.Kb(c,d,e,f,h,k,m,n,r):a.call(null,c,d,e,f,h,k,m,n,r);t=gd(w);var y=hd(w);if(10===b)return a.yb?a.yb(c,d,e,f,h,k,m,n,r,t):a.call(null,c,d,e,f,h,k,m,n,r,t);w=gd(y);var E=hd(y);if(11===b)return a.zb?a.zb(c,d,e,f,h,k,m,n,r,t,w):a.call(null,c,d,e,f,h,k,m,n,r,t,w);y=gd(E);
var I=hd(E);if(12===b)return a.Ab?a.Ab(c,d,e,f,h,k,m,n,r,t,w,y):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y);E=gd(I);var G=hd(I);if(13===b)return a.Bb?a.Bb(c,d,e,f,h,k,m,n,r,t,w,y,E):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E);I=gd(G);var J=hd(G);if(14===b)return a.Cb?a.Cb(c,d,e,f,h,k,m,n,r,t,w,y,E,I):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I);G=gd(J);var N=hd(J);if(15===b)return a.Db?a.Db(c,d,e,f,h,k,m,n,r,t,w,y,E,I,G):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G);J=gd(N);var U=hd(N);if(16===b)return a.Eb?a.Eb(c,
d,e,f,h,k,m,n,r,t,w,y,E,I,G,J):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J);N=gd(U);var da=hd(U);if(17===b)return a.Fb?a.Fb(c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N);U=gd(da);var wa=hd(da);if(18===b)return a.Gb?a.Gb(c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U);da=gd(wa);wa=hd(wa);if(19===b)return a.Hb?a.Hb(c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da);var ma=gd(wa);hd(wa);
if(20===b)return a.Ib?a.Ib(c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da,ma):a.call(null,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da,ma);throw Error("Only up to 20 arguments supported on functions");}function lh(a){return null!=a&&(a.Lh&128||l===a.je)?a.Na(null):F(Oe(a))}function mh(a,b,c){return null==c?a.Eh?a.Eh(b):a.call(a,b):nh(a,b,gd(c),lh(c))}function nh(a,b,c,d){return null==d?a.Dh?a.Dh(b,c):a.call(a,b,c):oh(a,b,c,gd(d),lh(d))}
function oh(a,b,c,d,e){return null==e?a.Gh?a.Gh(b,c,d):a.call(a,b,c,d):ph(a,b,c,d,gd(e),lh(e))}
function ph(a,b,c,d,e,f){if(null==f)return a.Oh?a.Oh(b,c,d,e):a.call(a,b,c,d,e);var h=gd(f),k=K(f);if(null==k)return a.ka?a.ka(b,c,d,e,h):a.call(a,b,c,d,e,h);f=gd(k);var m=K(k);if(null==m)return a.Ya?a.Ya(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=gd(m);var n=K(m);if(null==n)return a.Jb?a.Jb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=gd(n);var r=K(n);if(null==r)return a.tb?a.tb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=gd(r);var t=K(r);if(null==t)return a.Kb?a.Kb(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,
f,k,m,n);r=gd(t);var w=K(t);if(null==w)return a.yb?a.yb(b,c,d,e,h,f,k,m,n,r):a.call(a,b,c,d,e,h,f,k,m,n,r);t=gd(w);var y=K(w);if(null==y)return a.zb?a.zb(b,c,d,e,h,f,k,m,n,r,t):a.call(a,b,c,d,e,h,f,k,m,n,r,t);w=gd(y);var E=K(y);if(null==E)return a.Ab?a.Ab(b,c,d,e,h,f,k,m,n,r,t,w):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w);y=gd(E);var I=K(E);if(null==I)return a.Bb?a.Bb(b,c,d,e,h,f,k,m,n,r,t,w,y):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y);E=gd(I);var G=K(I);if(null==G)return a.Cb?a.Cb(b,c,d,e,h,f,k,m,n,r,t,w,y,E):
a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E);I=gd(G);var J=K(G);if(null==J)return a.Db?a.Db(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E,I);G=gd(J);var N=K(J);if(null==N)return a.Eb?a.Eb(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G);J=gd(N);var U=K(N);if(null==U)return a.Fb?a.Fb(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J);N=gd(U);var da=K(U);if(null==da)return a.Gb?a.Gb(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N):a.call(a,b,
c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N);U=gd(da);var wa=K(da);if(null==wa)return a.Hb?a.Hb(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N,U):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N,U);da=gd(wa);wa=K(wa);if(null==wa)return a.Ib?a.Ib(b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N,U,da):a.call(a,b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N,U,da);b=[b,c,d,e,h,f,k,m,n,r,t,w,y,E,I,G,J,N,U,da];for(c=wa;;)if(c)b.push(gd(c)),c=K(c);else break;return a.apply(a,b)}
function Ke(a){switch(arguments.length){case 2:return qh(arguments[0],arguments[1]);case 3:return rh(arguments[0],arguments[1],arguments[2]);case 4:return sh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return th(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new Me(b.slice(5),0,null);return uh(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function qh(a,b){if(a.ba){var c=a.Sh,d=dh(c+1,b);return d<=c?kh(a,d,b):a.ba(b)}b=F(b);return null==b?a.Nh?a.Nh():a.call(a):mh(a,gd(b),lh(b))}function rh(a,b,c){if(a.ba){b=rf(b,c);var d=a.Sh;c=dh(d,c)+1;return c<=d?kh(a,c,b):a.ba(b)}return mh(a,b,F(c))}function sh(a,b,c,d){return a.ba?(b=fh(b,c,d),c=a.Sh,d=2+dh(c-1,d),d<=c?kh(a,d,b):a.ba(b)):nh(a,b,c,F(d))}function th(a,b,c,d,e){return a.ba?(b=rf(b,rf(c,rf(d,e))),c=a.Sh,e=3+dh(c-2,e),e<=c?kh(a,e,b):a.ba(b)):oh(a,b,c,d,F(e))}
function uh(a,b,c,d,e,f){return a.ba?(f=eh(f),b=rf(b,rf(c,rf(d,rf(e,f)))),c=a.Sh,f=4+dh(c-3,f),f<=c?kh(a,f,b):a.ba(b)):ph(a,b,c,d,e,eh(f))}var vh=function vh(a){switch(arguments.length){case 1:return vh.Eh(arguments[0]);case 2:return vh.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return vh.Ih(arguments[0],arguments[1],c)}};vh.Eh=function(){return!1};vh.Dh=function(a,b){return!D.Dh(a,b)};
vh.Ih=function(a,b,c){return Hc(sh(D,a,b,c))};vh.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};vh.Sh=2;function wh(a){return F(a)?a:null}
function xh(){if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof ib)ib=function(a){this.ei=a;this.Lh=393216;this.Qh=0},ib.prototype.da=function(a,b){return new ib(b)},ib.prototype.ca=function(){return this.ei},ib.prototype.$a=function(){return!1},ib.prototype.next=function(){return Error("No such element")},ib.prototype.remove=function(){return Error("Unsupported operation")},ib.Lb=!0,ib.ub="cljs.core/t_cljs$core19718",ib.Vb=function(a){return Ud(a,"cljs.core/t_cljs$core19718")};
return new ib(V)}var yh={},zh={};function Ah(a){this.$d=yh;this._next=a}Ah.prototype.$a=function(){this.$d===yh?(this.$d=zh,this._next=F(this._next)):this.$d===this._next&&(this._next=K(this.$d));return null!=this._next};Ah.prototype.next=function(){if(this.$a())return this.$d=this._next,H(this._next);throw Error("No such element");};Ah.prototype.remove=function(){return Error("Unsupported operation")};
function Bh(a,b){for(;;){if(null==F(b))return!0;var c=H(b);c=a.Eh?a.Eh(c):a.call(null,c);if(q(c))b=K(b);else return!1}}function Ch(a,b){for(;;)if(b=F(b)){var c=H(b);c=a.Eh?a.Eh(c):a.call(null,c);if(q(c))return c;b=K(b)}else return null}function Dh(a){if(Xf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",u.Eh(a)].join(""));}
function Eh(a){return function(){function b(h,k){return Hc(a.Dh?a.Dh(h,k):a.call(null,h,k))}function c(h){return Hc(a.Eh?a.Eh(h):a.call(null,h))}function d(){return Hc(a.Nh?a.Nh():a.call(null))}var e=null,f=function(){function h(m,n,r){var t=null;if(2<arguments.length){t=0;for(var w=Array(arguments.length-2);t<w.length;)w[t]=arguments[t+2],++t;t=new Me(w,0,null)}return k.call(this,m,n,t)}function k(m,n,r){return Hc(sh(a,m,n,r))}h.Sh=2;h.ba=function(m){var n=H(m);m=K(m);var r=H(m);m=Oe(m);return k(n,
r,m)};h.Ih=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var r=Array(arguments.length-2);n<r.length;)r[n]=arguments[n+2],++n;n=new Me(r,0,null)}return f.Ih(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.Sh=2;e.ba=f.ba;e.Nh=d;e.Eh=c;e.Dh=b;e.Ih=f.Ih;return e}()}
function Fh(a){return function(){function b(c){if(0<arguments.length)for(var d=0,e=Array(arguments.length-0);d<e.length;)e[d]=arguments[d+0],++d;return a}b.Sh=0;b.ba=function(c){F(c);return a};b.Ih=function(){return a};return b}()}
var Gh=function Gh(a){switch(arguments.length){case 0:return Gh.Nh();case 1:return Gh.Eh(arguments[0]);case 2:return Gh.Dh(arguments[0],arguments[1]);case 3:return Gh.Gh(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(3),0,null);return Gh.Ih(arguments[0],arguments[1],arguments[2],c)}};Gh.Nh=function(){return og};Gh.Eh=function(a){return a};
Gh.Dh=function(a,b){return function(){function c(m,n,r){m=b.Gh?b.Gh(m,n,r):b.call(null,m,n,r);return a.Eh?a.Eh(m):a.call(null,m)}function d(m,n){m=b.Dh?b.Dh(m,n):b.call(null,m,n);return a.Eh?a.Eh(m):a.call(null,m)}function e(m){m=b.Eh?b.Eh(m):b.call(null,m);return a.Eh?a.Eh(m):a.call(null,m)}function f(){var m=b.Nh?b.Nh():b.call(null);return a.Eh?a.Eh(m):a.call(null,m)}var h=null,k=function(){function m(r,t,w,y){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=
arguments[E+3],++E;E=new Me(I,0,null)}return n.call(this,r,t,w,E)}function n(r,t,w,y){r=th(b,r,t,w,y);return a.Eh?a.Eh(r):a.call(null,r)}m.Sh=3;m.ba=function(r){var t=H(r);r=K(r);var w=H(r);r=K(r);var y=H(r);r=Oe(r);return n(t,w,y,r)};m.Ih=n;return m}();h=function(m,n,r,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var y=Array(arguments.length-3);w<
y.length;)y[w]=arguments[w+3],++w;w=new Me(y,0,null)}return k.Ih(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.Sh=3;h.ba=k.ba;h.Nh=f;h.Eh=e;h.Dh=d;h.Gh=c;h.Ih=k.Ih;return h}()};
Gh.Gh=function(a,b,c){return function(){function d(n,r,t){n=c.Gh?c.Gh(n,r,t):c.call(null,n,r,t);n=b.Eh?b.Eh(n):b.call(null,n);return a.Eh?a.Eh(n):a.call(null,n)}function e(n,r){n=c.Dh?c.Dh(n,r):c.call(null,n,r);n=b.Eh?b.Eh(n):b.call(null,n);return a.Eh?a.Eh(n):a.call(null,n)}function f(n){n=c.Eh?c.Eh(n):c.call(null,n);n=b.Eh?b.Eh(n):b.call(null,n);return a.Eh?a.Eh(n):a.call(null,n)}function h(){var n=c.Nh?c.Nh():c.call(null);n=b.Eh?b.Eh(n):b.call(null,n);return a.Eh?a.Eh(n):a.call(null,n)}var k=null,
m=function(){function n(t,w,y,E){var I=null;if(3<arguments.length){I=0;for(var G=Array(arguments.length-3);I<G.length;)G[I]=arguments[I+3],++I;I=new Me(G,0,null)}return r.call(this,t,w,y,I)}function r(t,w,y,E){t=th(c,t,w,y,E);t=b.Eh?b.Eh(t):b.call(null,t);return a.Eh?a.Eh(t):a.call(null,t)}n.Sh=3;n.ba=function(t){var w=H(t);t=K(t);var y=H(t);t=K(t);var E=H(t);t=Oe(t);return r(w,y,E,t)};n.Ih=r;return n}();k=function(n,r,t,w){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,
n);case 2:return e.call(this,n,r);case 3:return d.call(this,n,r,t);default:var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new Me(E,0,null)}return m.Ih(n,r,t,y)}throw Error("Invalid arity: "+arguments.length);};k.Sh=3;k.ba=m.ba;k.Nh=h;k.Eh=f;k.Dh=e;k.Gh=d;k.Ih=m.Ih;return k}()};
Gh.Ih=function(a,b,c,d){var e=Mg(rf(a,rf(b,rf(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){k=qh(H(e),k);for(var m=K(e);;)if(m){var n=H(m);k=n.Eh?n.Eh(k):n.call(null,k);m=K(m)}else return k}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}()};
Gh.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);d=K(d);return this.Ih(b,a,c,d)};Gh.Sh=3;
function Hh(a,b){return function(){function c(m,n,r){return a.Oh?a.Oh(b,m,n,r):a.call(null,b,m,n,r)}function d(m,n){return a.Gh?a.Gh(b,m,n):a.call(null,b,m,n)}function e(m){return a.Dh?a.Dh(b,m):a.call(null,b,m)}function f(){return a.Eh?a.Eh(b):a.call(null,b)}var h=null,k=function(){function m(r,t,w,y){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new Me(I,0,null)}return n.call(this,r,t,w,E)}function n(r,t,w,y){return uh(a,b,r,t,w,
O([y]))}m.Sh=3;m.ba=function(r){var t=H(r);r=K(r);var w=H(r);r=K(r);var y=H(r);r=Oe(r);return n(t,w,y,r)};m.Ih=n;return m}();h=function(m,n,r,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var y=Array(arguments.length-3);w<y.length;)y[w]=arguments[w+3],++w;w=new Me(y,0,null)}return k.Ih(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.Sh=
3;h.ba=k.ba;h.Nh=f;h.Eh=e;h.Dh=d;h.Gh=c;h.Ih=k.Ih;return h}()}
function Ih(a,b){return function(){function c(k,m,n){k=null==k?b:k;return a.Gh?a.Gh(k,m,n):a.call(null,k,m,n)}function d(k,m){k=null==k?b:k;return a.Dh?a.Dh(k,m):a.call(null,k,m)}function e(k){k=null==k?b:k;return a.Eh?a.Eh(k):a.call(null,k)}var f=null,h=function(){function k(n,r,t,w){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new Me(E,0,null)}return m.call(this,n,r,t,y)}function m(n,r,t,w){return th(a,null==n?b:n,r,t,w)}k.Sh=3;
k.ba=function(n){var r=H(n);n=K(n);var t=H(n);n=K(n);var w=H(n);n=Oe(n);return m(r,t,w,n)};k.Ih=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var t=null;if(3<arguments.length){t=0;for(var w=Array(arguments.length-3);t<w.length;)w[t]=arguments[t+3],++t;t=new Me(w,0,null)}return h.Ih(k,m,n,t)}throw Error("Invalid arity: "+arguments.length);};f.Sh=3;f.ba=h.ba;f.Eh=e;f.Dh=d;f.Gh=c;f.Ih=h.Ih;
return f}()}function Jh(a){return function(b){return function(){function c(h,k){k=a.Eh?a.Eh(k):a.call(null,k);return null==k?h:b.Dh?b.Dh(h,k):b.call(null,h,k)}function d(h){return b.Eh?b.Eh(h):b.call(null,h)}function e(){return b.Nh?b.Nh():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}}
function Kh(a,b){return new Ug(null,function(){var c=F(b);if(c){if(Rf(c)){for(var d=ke(c),e=M(d),f=Yg(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.Eh?a.Eh(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return $g(ch(f),Kh(a,le(c)))}e=function(){var m=H(c);return a.Eh?a.Eh(m):a.call(null,m)}();return null==e?Kh(a,Oe(c)):rf(e,Kh(a,Oe(c)))}return null},null,null)}function Lh(a,b,c){this.state=a;this.meta=b;this.validator=c;this.Yd=null;this.Qh=16386;this.Lh=6455296}g=Lh.prototype;
g.equiv=function(a){return this.$(null,a)};g.$=function(a,b){return this===b};g.wb=function(){return this.state};g.ca=function(){return this.meta};g.mg=function(a,b,c){this.Yd=Q.Gh(this.Yd,b,c);return this};g.ng=function(a,b){return this.Yd=R.Dh(this.Yd,b)};g.ha=function(){return va(this)};function Mh(a){return new Lh(a,null,null)}
function Nh(a,b){if(a instanceof Lh){var c=a.validator;if(null!=c&&!q(c.Eh?c.Eh(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;if(null!=a.Yd)a:for(var d=F(a.Yd),e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h),m=P(k,0,null);k=P(k,1,null);k.Oh?k.Oh(m,a,c,b):k.call(null,m,a,c,b);h+=1}else if(d=F(d))Rf(d)?(e=ke(d),d=le(d),m=e,f=M(e),e=m):(e=H(d),m=P(e,0,null),k=P(e,1,null),k.Oh?k.Oh(m,a,c,b):k.call(null,m,a,c,b),d=K(d),e=null,f=0),h=0;else break a;return b}return oe(a,
b)}var Oh=function Oh(a){switch(arguments.length){case 2:return Oh.Dh(arguments[0],arguments[1]);case 3:return Oh.Gh(arguments[0],arguments[1],arguments[2]);case 4:return Oh.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(4),0,null);return Oh.Ih(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Oh.Dh=function(a,b){if(a instanceof Lh){var c=a.state;b=b.Eh?b.Eh(c):b.call(null,c);a=Nh(a,b)}else a=pe(a,b);return a};Oh.Gh=function(a,b,c){if(a instanceof Lh){var d=a.state;b=b.Dh?b.Dh(d,c):b.call(null,d,c);a=Nh(a,b)}else a=pe(a,b,c);return a};Oh.Oh=function(a,b,c,d){if(a instanceof Lh){var e=a.state;b=b.Gh?b.Gh(e,c,d):b.call(null,e,c,d);a=Nh(a,b)}else a=pe(a,b,c,d);return a};Oh.Ih=function(a,b,c,d,e){return a instanceof Lh?Nh(a,th(b,a.state,c,d,e)):pe(a,b,c,d,e)};
Oh.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);var e=K(d);d=H(e);e=K(e);return this.Ih(b,a,c,d,e)};Oh.Sh=4;function Ph(a){return D.Dh(a.wb(null),!1)?(Nh(a,!0),!0):!1}function Qh(a){this.state=a;this.Lh=32768;this.Qh=0}Qh.prototype.Qc=function(a,b){return this.state=b};Qh.prototype.wb=function(){return this.state};function Rh(a){return new Qh(a)}
function Sh(){var a=Th,b=Uh;return function(){function c(k,m,n){var r=a.Eh?a.Eh(k):a.call(null,k);if(q(r))return r;r=a.Eh?a.Eh(m):a.call(null,m);if(q(r))return r;r=a.Eh?a.Eh(n):a.call(null,n);if(q(r))return r;k=b.Eh?b.Eh(k):b.call(null,k);if(q(k))return k;m=b.Eh?b.Eh(m):b.call(null,m);return q(m)?m:b.Eh?b.Eh(n):b.call(null,n)}function d(k,m){var n=a.Eh?a.Eh(k):a.call(null,k);if(q(n))return n;n=a.Eh?a.Eh(m):a.call(null,m);if(q(n))return n;k=b.Eh?b.Eh(k):b.call(null,k);return q(k)?k:b.Eh?b.Eh(m):b.call(null,
m)}function e(k){var m=a.Eh?a.Eh(k):a.call(null,k);return q(m)?m:b.Eh?b.Eh(k):b.call(null,k)}var f=null,h=function(){function k(n,r,t,w){var y=null;if(3<arguments.length){y=0;for(var E=Array(arguments.length-3);y<E.length;)E[y]=arguments[y+3],++y;y=new Me(E,0,null)}return m.call(this,n,r,t,y)}function m(n,r,t,w){n=f.Gh(n,r,t);return q(n)?n:Ch(function(y){var E=a.Eh?a.Eh(y):a.call(null,y);return q(E)?E:b.Eh?b.Eh(y):b.call(null,y)},w)}k.Sh=3;k.ba=function(n){var r=H(n);n=K(n);var t=H(n);n=K(n);var w=
H(n);n=Oe(n);return m(r,t,w,n)};k.Ih=m;return k}();f=function(k,m,n,r){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var t=null;if(3<arguments.length){t=0;for(var w=Array(arguments.length-3);t<w.length;)w[t]=arguments[t+3],++t;t=new Me(w,0,null)}return h.Ih(k,m,n,t)}throw Error("Invalid arity: "+arguments.length);};f.Sh=3;f.ba=h.ba;f.Nh=function(){return null};f.Eh=e;f.Dh=d;f.Gh=c;f.Ih=h.Ih;return f}()}
var Vh=function Vh(a){switch(arguments.length){case 1:return Vh.Eh(arguments[0]);case 2:return Vh.Dh(arguments[0],arguments[1]);case 3:return Vh.Gh(arguments[0],arguments[1],arguments[2]);case 4:return Vh.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(4),0,null);return Vh.Ih(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Vh.Eh=function(a){return function(b){return function(){function c(k,m){m=a.Eh?a.Eh(m):a.call(null,m);return b.Dh?b.Dh(k,m):b.call(null,k,m)}function d(k){return b.Eh?b.Eh(k):b.call(null,k)}function e(){return b.Nh?b.Nh():b.call(null)}var f=null,h=function(){function k(n,r,t){var w=null;if(2<arguments.length){w=0;for(var y=Array(arguments.length-2);w<y.length;)y[w]=arguments[w+2],++w;w=new Me(y,0,null)}return m.call(this,n,r,w)}function m(n,r,t){r=rh(a,r,t);return b.Dh?b.Dh(n,r):b.call(null,n,r)}k.Sh=
2;k.ba=function(n){var r=H(n);n=K(n);var t=H(n);n=Oe(n);return m(r,t,n)};k.Ih=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var r=null;if(2<arguments.length){r=0;for(var t=Array(arguments.length-2);r<t.length;)t[r]=arguments[r+2],++r;r=new Me(t,0,null)}return h.Ih(k,m,r)}throw Error("Invalid arity: "+arguments.length);};f.Sh=2;f.ba=h.ba;f.Nh=e;f.Eh=d;f.Dh=c;f.Ih=h.Ih;return f}()}};
Vh.Dh=function(a,b){return new Ug(null,function(){var c=F(b);if(c){if(Rf(c)){for(var d=ke(c),e=M(d),f=Yg(e),h=0;;)if(h<e)bh(f,function(){var k=x(d,h);return a.Eh?a.Eh(k):a.call(null,k)}()),h+=1;else break;return $g(ch(f),Vh.Dh(a,le(c)))}return rf(function(){var k=H(c);return a.Eh?a.Eh(k):a.call(null,k)}(),Vh.Dh(a,Oe(c)))}return null},null,null)};
Vh.Gh=function(a,b,c){return new Ug(null,function(){var d=F(b),e=F(c);if(d&&e){var f=H(d);var h=H(e);f=a.Dh?a.Dh(f,h):a.call(null,f,h);d=rf(f,Vh.Gh(a,Oe(d),Oe(e)))}else d=null;return d},null,null)};Vh.Oh=function(a,b,c,d){return new Ug(null,function(){var e=F(b),f=F(c),h=F(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.Gh?a.Gh(k,m,n):a.call(null,k,m,n);e=rf(k,Vh.Oh(a,Oe(e),Oe(f),Oe(h)))}else e=null;return e},null,null)};
Vh.Ih=function(a,b,c,d,e){return Vh.Dh(function(f){return qh(a,f)},function k(h){return new Ug(null,function(){var m=Vh.Dh(F,h);return Bh(og,m)?rf(Vh.Dh(H,m),k(Vh.Dh(Oe,m))):null},null,null)}(zf.Ih(e,d,O([c,b]))))};Vh.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);var e=K(d);d=H(e);e=K(e);return this.Ih(b,a,c,d,e)};Vh.Sh=4;
var Wh=function Wh(a){switch(arguments.length){case 1:return Wh.Eh(arguments[0]);case 2:return Wh.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};
Wh.Eh=function(a){return function(b){var c=Rh(a);return function(){function d(k,m){var n=z(c),r=c.Qc(null,c.wb(null)-1);k=0<n?b.Dh?b.Dh(k,m):b.call(null,k,m):k;return 0<r?k:$e(k)?k:Ze(k)}function e(k){return b.Eh?b.Eh(k):b.call(null,k)}function f(){return b.Nh?b.Nh():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.Nh=f;h.Eh=e;h.Dh=d;return h}()}};
Wh.Dh=function(a,b){return new Ug(null,function(){if(0<a){var c=F(b);return c?rf(H(c),Wh.Dh(a-1,Oe(c))):null}return null},null,null)};Wh.Sh=2;function Xh(a,b){return new Ug(null,function(){a:for(var c=a,d=b;;)if(d=F(d),0<c&&d)--c,d=Oe(d);else break a;return d},null,null)}function Yh(a,b){return Vh.Gh(function(c){return c},b,Xh(a,b))}
function Zh(a,b){return new Ug(null,function(){a:for(var c=a,d=b;;){d=F(d);var e;if(e=d)e=H(d),e=c.Eh?c.Eh(e):c.call(null,e);if(q(e))d=Oe(d);else break a}return d},null,null)}function $h(a,b,c,d){this.meta=a;this.count=b;this.val=c;this.next=d;this.Kh=null;this.Lh=32374988;this.Qh=1}g=$h.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){return null==this.next?1<this.count?this.next=new $h(null,this.count-1,this.val,null):-1===this.count?this:null:this.next};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Me=function(){return!1};g.Sa=function(a,b){if(-1===this.count)for(var c=b.Dh?b.Dh(this.val,this.val):b.call(null,this.val,this.val);;){if($e(c))return z(c);c=b.Dh?b.Dh(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.Dh?b.Dh(c,this.val):b.call(null,c,this.val);if($e(c))return z(c);a+=1}else return c};
g.Ta=function(a,b,c){if(-1===this.count)for(c=b.Dh?b.Dh(c,this.val):b.call(null,c,this.val);;){if($e(c))return z(c);c=b.Dh?b.Dh(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.Dh?b.Dh(c,this.val):b.call(null,c,this.val);if($e(c))return z(c);a+=1}else return c};g.Ua=function(){return this.val};g.cb=function(){return null==this.next?1<this.count?this.next=new $h(null,this.count-1,this.val,null):-1===this.count?this:Pe:this.next};g.fa=function(){return this};
g.da=function(a,b){return b===this.meta?this:new $h(b,this.count,this.val,this.next)};g.ia=function(a,b){return rf(b,this)};function ai(a){return new $h(null,-1,a,null)}function bi(a,b){return 0<a?new $h(null,a,b,null):Pe}function ci(a){return new Ug(null,function(){return rf(a.Nh?a.Nh():a.call(null),ci(a))},null,null)}function di(a,b){return Wh.Dh(a,ci(b))}
var ei=function ei(a){switch(arguments.length){case 0:return ei.Nh();case 1:return ei.Eh(arguments[0]);case 2:return ei.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return ei.Ih(arguments[0],arguments[1],c)}};ei.Nh=function(){return Pe};ei.Eh=function(a){return new Ug(null,function(){return a},null,null)};
ei.Dh=function(a,b){return new Ug(null,function(){var c=F(a),d=F(b);return c&&d?rf(H(c),rf(H(d),ei.Dh(Oe(c),Oe(d)))):null},null,null)};ei.Ih=function(a,b,c){return new Ug(null,function(){var d=Vh.Dh(F,zf.Ih(c,b,O([a])));return Bh(og,d)?T.Dh(Vh.Dh(H,d),qh(ei,Vh.Dh(Oe,d))):null},null,null)};ei.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};ei.Sh=2;
function fi(){return function(a){var b=Rh(!1);return function(){function c(h,k){if(q(z(b)))return h=a.Dh?a.Dh(h," "):a.call(null,h," "),$e(h)?h:a.Dh?a.Dh(h,k):a.call(null,h,k);se(b,!0);return a.Dh?a.Dh(h,k):a.call(null,h,k)}function d(h){return a.Eh?a.Eh(h):a.call(null,h)}function e(){return a.Nh?a.Nh():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);
};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}}function gi(a,b){return qh(T,rh(Vh,a,b))}
function hi(a){return function(b){return function(){function c(h,k){return q(a.Eh?a.Eh(k):a.call(null,k))?b.Dh?b.Dh(h,k):b.call(null,h,k):h}function d(h){return b.Eh?b.Eh(h):b.call(null,h)}function e(){return b.Nh?b.Nh():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}}
function ii(a,b){return new Ug(null,function(){var c=F(b);if(c){if(Rf(c)){for(var d=ke(c),e=M(d),f=Yg(e),h=0;;)if(h<e){var k=x(d,h);k=a.Eh?a.Eh(k):a.call(null,k);q(k)&&(k=x(d,h),f.add(k));h+=1}else break;return $g(ch(f),ii(a,le(c)))}d=H(c);c=Oe(c);return q(a.Eh?a.Eh(d):a.call(null,d))?rf(d,ii(a,c)):ii(a,c)}return null},null,null)}function ji(a,b){return ii(Eh(a),b)}
var ki=function ki(a){switch(arguments.length){case 0:return ki.Nh();case 1:return ki.Eh(arguments[0]);case 2:return ki.Dh(arguments[0],arguments[1]);case 3:return ki.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};ki.Nh=function(){return Af};ki.Eh=function(a){return a};ki.Dh=function(a,b){return null!=a?null!=a&&(a.Qh&4||l===a.hg)?Fd(ee(v.Gh(de,ce(a),b)),If(a)):v.Gh(bd,a,b):v.Gh(zf,a,b)};
ki.Gh=function(a,b,c){return null!=a&&(a.Qh&4||l===a.hg)?Fd(ee(rg(b,ih,ce(a),c)),If(a)):rg(b,zf,a,c)};ki.Sh=3;
var li=function li(a){switch(arguments.length){case 2:return li.Dh(arguments[0],arguments[1]);case 3:return li.Gh(arguments[0],arguments[1],arguments[2]);case 4:return li.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(4),0,null);return li.Ih(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
li.Dh=function(a,b){return ee(v.Gh(function(c,d){return ih.Dh(c,a.Eh?a.Eh(d):a.call(null,d))},ce(Af),b))};li.Gh=function(a,b,c){return ki.Dh(Af,Vh.Gh(a,b,c))};li.Oh=function(a,b,c,d){return ki.Dh(Af,Vh.Oh(a,b,c,d))};li.Ih=function(a,b,c,d,e){return ki.Dh(Af,uh(Vh,a,b,c,d,O([e])))};li.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);var e=K(d);d=H(e);e=K(e);return this.Ih(b,a,c,d,e)};li.Sh=4;
function mi(a,b){return ee(v.Gh(function(c,d){return q(a.Eh?a.Eh(d):a.call(null,d))?ih.Dh(c,d):c},ce(Af),b))}function ni(a,b,c){return new Ug(null,function(){var d=F(c);if(d){var e=Wh.Dh(a,d);return a===M(e)?rf(e,ni(a,b,Xh(b,d))):null}return null},null,null)}function oi(a,b){return v.Gh(B,a,b)}function pi(a,b,c){var d=Tf;for(b=F(b);;)if(null!=b){a=B.Gh(a,H(b),d);if(d===a)return c;b=K(b)}else return a}
var qi=function qi(a,b,c){b=F(b);var e=H(b),f=K(b);return f?Q.Gh(a,e,function(){var h=B.Dh(a,e);return qi.Gh?qi.Gh(h,f,c):qi.call(null,h,f,c)}()):Q.Gh(a,e,c)},ri=function ri(a){switch(arguments.length){case 3:return ri.Gh(arguments[0],arguments[1],arguments[2]);case 4:return ri.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ri.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ri.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(6),0,null);return ri.Ih(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ri.Gh=function(a,b,c){b=F(b);var d=H(b);return(b=K(b))?Q.Gh(a,d,ri.Gh(B.Dh(a,d),b,c)):Q.Gh(a,d,function(){var e=B.Dh(a,d);return c.Eh?c.Eh(e):c.call(null,e)}())};
ri.Oh=function(a,b,c,d){b=F(b);var e=H(b);return(b=K(b))?Q.Gh(a,e,ri.Oh(B.Dh(a,e),b,c,d)):Q.Gh(a,e,function(){var f=B.Dh(a,e);return c.Dh?c.Dh(f,d):c.call(null,f,d)}())};ri.ka=function(a,b,c,d,e){b=F(b);var f=H(b);return(b=K(b))?Q.Gh(a,f,ri.ka(B.Dh(a,f),b,c,d,e)):Q.Gh(a,f,function(){var h=B.Dh(a,f);return c.Gh?c.Gh(h,d,e):c.call(null,h,d,e)}())};
ri.Ya=function(a,b,c,d,e,f){b=F(b);var h=H(b);return(b=K(b))?Q.Gh(a,h,ri.Ya(B.Dh(a,h),b,c,d,e,f)):Q.Gh(a,h,function(){var k=B.Dh(a,h);return c.Oh?c.Oh(k,d,e,f):c.call(null,k,d,e,f)}())};ri.Ih=function(a,b,c,d,e,f,h){var k=F(b);b=H(k);return(k=K(k))?Q.Gh(a,b,uh(ri,B.Dh(a,b),k,c,d,O([e,f,h]))):Q.Gh(a,b,uh(c,B.Dh(a,b),d,e,f,O([h])))};ri.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);var e=K(d);d=H(e);var f=K(e);e=H(f);var h=K(f);f=H(h);h=K(h);return this.Ih(b,a,c,d,e,f,h)};ri.Sh=6;
var si=function si(a){switch(arguments.length){case 3:return si.Gh(arguments[0],arguments[1],arguments[2]);case 4:return si.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return si.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return si.Ya(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(6),0,null);return si.Ih(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};si.Gh=function(a,b,c){return Q.Gh(a,b,function(){var d=B.Dh(a,b);return c.Eh?c.Eh(d):c.call(null,d)}())};si.Oh=function(a,b,c,d){return Q.Gh(a,b,function(){var e=B.Dh(a,b);return c.Dh?c.Dh(e,d):c.call(null,e,d)}())};si.ka=function(a,b,c,d,e){return Q.Gh(a,b,function(){var f=B.Dh(a,b);return c.Gh?c.Gh(f,d,e):c.call(null,f,d,e)}())};
si.Ya=function(a,b,c,d,e,f){return Q.Gh(a,b,function(){var h=B.Dh(a,b);return c.Oh?c.Oh(h,d,e,f):c.call(null,h,d,e,f)}())};si.Ih=function(a,b,c,d,e,f,h){return Q.Gh(a,b,uh(c,B.Dh(a,b),d,e,f,O([h])))};si.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);var e=K(d);d=H(e);var f=K(e);e=H(f);var h=K(f);f=H(h);h=K(h);return this.Ih(b,a,c,d,e,f,h)};si.Sh=6;function ti(a,b){this.Ma=a;this.Mh=b}
function ui(a){return new ti(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}function vi(a){return new ti(a.Ma,Rc(a.Mh))}function wi(a){a=a.Rh;return 32>a?0:a-1>>>5<<5}function xi(a,b,c){for(;;){if(0===b)return c;var d=ui(a);d.Mh[0]=c;c=d;b-=5}}
var yi=function yi(a,b,c,d){var f=vi(c),h=a.Rh-1>>>b&31;5===b?f.Mh[h]=d:(c=c.Mh[h],null!=c?(b-=5,a=yi.Oh?yi.Oh(a,b,c,d):yi.call(null,a,b,c,d)):a=xi(null,b-5,d),f.Mh[h]=a);return f};function zi(a,b){throw Error(["No item ",u.Eh(a)," in vector of length ",u.Eh(b)].join(""));}function Ai(a,b){if(b>=wi(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.Mh[b>>>a&31];a=d}else return c.Mh}function Bi(a,b){return 0<=b&&b<a.Rh?Ai(a,b):zi(b,a.Rh)}
var Ci=function Ci(a,b,c,d,e){var h=vi(c);if(0===b)h.Mh[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.Mh[k];a=Ci.ka?Ci.ka(a,b,c,d,e):Ci.call(null,a,b,c,d,e);h.Mh[k]=a}return h},Di=function Di(a,b,c){var e=a.Rh-2>>>b&31;if(5<b){b-=5;var f=c.Mh[e];a=Di.Gh?Di.Gh(a,b,f):Di.call(null,a,b,f);if(null==a&&0===e)return null;c=vi(c);c.Mh[e]=a;return c}if(0===e)return null;c=vi(c);c.Mh[e]=null;return c};function Ei(a,b,c,d,e,f){this.i=a;this.base=b;this.Mh=c;this.v=d;this.start=e;this.end=f}
Ei.prototype.$a=function(){return this.i<this.end};Ei.prototype.next=function(){32===this.i-this.base&&(this.Mh=Ai(this.v,this.i),this.base+=32);var a=this.Mh[this.i&31];this.i+=1;return a};function Fi(a,b,c){return new Ei(b,b-b%32,b<M(a)?Ai(a,b):null,a,b,c)}function Gi(a,b,c,d){return c<d?Hi(a,b,lf(a,c),c+1,d):b.Nh?b.Nh():b.call(null)}
function Hi(a,b,c,d,e){var f=c;c=d;for(d=Ai(a,d);;)if(c<e){var h=c&31;d=0===h?Ai(a,c):d;h=d[h];f=b.Dh?b.Dh(f,h):b.call(null,f,h);if($e(f))return z(f);c+=1}else return f}function W(a,b,c,d,e,f){this.meta=a;this.Rh=b;this.shift=c;this.root=d;this.tail=e;this.Kh=f;this.Lh=167666463;this.Qh=139268}g=W.prototype;g.ad=function(a,b){return 0<=b&&b<this.Rh?new X(b,Ai(this,b)[b&31]):null};g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.Rh){var e=Ai(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.Gh?b.Gh(d,h,k):b.call(null,d,h,k);if($e(d)){e=d;break a}f+=1}else{e=d;break a}if($e(e))return z(e);a+=c;d=e}else return d};g.lf=l;g.wa=function(a,b){return Bi(this,b)[b&31]};g.Ra=function(a,b,c){return 0<=b&&b<this.Rh?Ai(this,b)[b&31]:c};
g.Gc=function(a,b,c){if(0<=b&&b<this.Rh)return wi(this)<=b?(a=Rc(this.tail),a[b&31]=c,new W(this.meta,this.Rh,this.shift,this.root,a,null)):new W(this.meta,this.Rh,this.shift,Ci(this,this.shift,this.root,b,c),this.tail,null);if(b===this.Rh)return this.ia(null,c);throw Error(["Index ",u.Eh(b)," out of bounds  [0,",u.Eh(this.Rh),"]"].join(""));};g.ma=function(){return Fi(this,0,this.Rh)};g.ca=function(){return this.meta};g.ga=function(){return this.Rh};
g.bd=function(){return 0<this.Rh?this.wa(null,this.Rh-1):null};g.cd=function(){if(0===this.Rh)throw Error("Can't pop empty vector");if(1===this.Rh)return Fd(Af,this.meta);if(1<this.Rh-wi(this))return new W(this.meta,this.Rh-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=Ai(this,this.Rh-2),b=Di(this,this.shift,this.root);b=null==b?Y:b;var c=this.Rh-1;return 5<this.shift&&null==b.Mh[1]?new W(this.meta,c,this.shift-5,b.Mh[0],a,null):new W(this.meta,c,this.shift,b,a,null)};
g.tc=function(){return 0<this.Rh?new pf(this,this.Rh-1,null):null};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){if(b instanceof W)if(this.Rh===M(b))for(a=this.ma(null),b=b.ma(null);;)if(a.$a()){var c=a.next(),d=b.next();if(!D.Dh(c,d))return!1}else return!0;else return!1;else return qf(this,b)};g.td=function(){return new Ii(this.Rh,this.shift,Ji.Eh?Ji.Eh(this.root):Ji.call(null,this.root),Ki.Eh?Ki.Eh(this.tail):Ki.call(null,this.tail))};
g.Ja=function(){return Fd(Af,this.meta)};g.Sa=function(a,b){return Gi(this,b,0,this.Rh)};g.Ta=function(a,b,c){a=0;for(var d=c;;)if(a<this.Rh){var e=Ai(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.Dh?b.Dh(d,h):b.call(null,d,h);if($e(d)){e=d;break a}f+=1}else{e=d;break a}if($e(e))return z(e);a+=c;d=e}else return d};g.aa=function(a,b,c){if("number"===typeof b)return this.Gc(null,b,c);throw Error("Vector's key for assoc must be a number.");};
g.fa=function(){if(0===this.Rh)return null;if(32>=this.Rh)return new Me(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.Mh[0];else{a=a.Mh;break a}}return Li?Li(this,a,0,0):Mi.call(null,this,a,0,0)};g.da=function(a,b){return b===this.meta?this:new W(b,this.Rh,this.shift,this.root,this.tail,this.Kh)};
g.ia=function(a,b){if(32>this.Rh-wi(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new W(this.meta,this.Rh+1,this.shift,this.root,c,null)}a=(c=this.Rh>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=ui(null),c.Mh[0]=this.root,d=xi(null,this.shift,new ti(null,this.tail)),c.Mh[1]=d):c=yi(this,this.shift,this.root,new ti(null,this.tail));return new W(this.meta,this.Rh+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.wa(null,a)};g.Dh=function(a,b){return this.Ra(null,a,b)};
var Y=new ti(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),Af=new W(null,0,5,Y,[],Ue);function Ni(a,b){var c=a.length;a=b?a:Rc(a);if(32>c)return new W(null,c,5,Y,a,null);var d=a.slice(0,32);b=32;for(var e=(new W(null,32,5,Y,d,null)).td(null);;)if(b<c)d=b+1,e=ih.Dh(e,a[b]),b=d;else return ee(e)}W.prototype[Oc]=function(){return Re(this)};
function kg(a){return q(Oi.Eh?Oi.Eh(a):Oi.call(null,a))?new W(null,2,5,Y,[Pi.Eh?Pi.Eh(a):Pi.call(null,a),Qi.Eh?Qi.Eh(a):Qi.call(null,a)],null):Qf(a)?Hf(a,null):Fc(a)?Ni(a,!0):ee(v.Gh(de,ce(Af),a))}var Ri=function Ri(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return Ri.Ih(c)};Ri.Ih=function(a){return a instanceof Me&&0===a.i?Ni(a.Mh,!Fc(a.Mh)):kg(a)};Ri.Sh=0;Ri.ba=function(a){return this.Ih(F(a))};
function Si(a,b,c,d,e){this.lc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.Kh=null;this.Lh=32375020;this.Qh=1536}g=Si.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){if(this.off+1<this.node.length){var a=this.lc;var b=this.node,c=this.i,d=this.off+1;a=Li?Li(a,b,c,d):Mi.call(null,a,b,c,d);return null==a?null:a}return this.de()};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return Gi(this.lc,b,this.i+this.off,M(this.lc))};g.Ta=function(a,b,c){return Hi(this.lc,b,c,this.i+this.off,M(this.lc))};g.Ua=function(){return this.node[this.off]};g.cb=function(){if(this.off+1<this.node.length){var a=this.lc;var b=this.node,c=this.i,d=this.off+1;a=Li?Li(a,b,c,d):Mi.call(null,a,b,c,d);return null==a?Pe:a}return this.Bd(null)};
g.fa=function(){return this};g.ee=function(){var a=this.node;return new Xg(a,this.off,a.length)};g.Bd=function(){var a=this.i+this.node.length;if(a<Xc(this.lc)){var b=this.lc,c=Ai(this.lc,a);return Li?Li(b,c,a,0):Mi.call(null,b,c,a,0)}return Pe};g.da=function(a,b){return b===this.meta?this:Ti?Ti(this.lc,this.node,this.i,this.off,b):Mi.call(null,this.lc,this.node,this.i,this.off,b)};g.ia=function(a,b){return rf(b,this)};
g.de=function(){var a=this.i+this.node.length;if(a<Xc(this.lc)){var b=this.lc,c=Ai(this.lc,a);return Li?Li(b,c,a,0):Mi.call(null,b,c,a,0)}return null};Si.prototype[Oc]=function(){return Re(this)};
function Mi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Si(b,Bi(b,c),c,d,null);case 4:return Li(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ti(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function Li(a,b,c,d){return new Si(a,b,c,d,null)}function Ti(a,b,c,d,e){return new Si(a,b,c,d,e)}
function Ui(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.Kh=e;this.Lh=167666463;this.Qh=139264}g=Ui.prototype;g.ad=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new X(b,ld(this.v,a)):null};g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return"number"===typeof b?this.Ra(null,b,c):c};
g.ta=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.Gh?b.Gh(c,e,f):b.call(null,c,e,f);if($e(c))return z(c);d+=1;a+=1}else return c};g.wa=function(a,b){return 0>b||this.end<=this.start+b?zi(b,this.end-this.start):x(this.v,this.start+b)};g.Ra=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Gc=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",u.Eh(b)," out of bounds [0,",u.Eh(this.ga(null)),"]"].join(""));b=this.meta;c=Q.Gh(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Wi.ka?Wi.ka(b,c,d,a,null):Wi.call(null,b,c,d,a,null)};g.ma=function(){return null!=this.v&&l===this.v.lf?Fi(this.v,this.start,this.end):new Ah(this)};g.ca=function(){return this.meta};g.ga=function(){return this.end-this.start};
g.bd=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.cd=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Wi.ka?Wi.ka(a,b,c,d,null):Wi.call(null,a,b,c,d,null)};g.tc=function(){return this.start!==this.end?new pf(this,this.end-this.start-1,null):null};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Fd(Af,this.meta)};
g.Sa=function(a,b){return null!=this.v&&l===this.v.lf?Gi(this.v,b,this.start,this.end):cf(this,b)};g.Ta=function(a,b,c){return null!=this.v&&l===this.v.lf?Hi(this.v,b,c,this.start,this.end):df(this,b,c)};g.aa=function(a,b,c){if("number"===typeof b)return this.Gc(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.fa=function(){var a=this;return function d(c){return c===a.end?null:rf(x(a.v,c),new Ug(null,function(){return d(c+1)},null,null))}(a.start)};
g.da=function(a,b){return b===this.meta?this:Wi.ka?Wi.ka(b,this.v,this.start,this.end,this.Kh):Wi.call(null,b,this.v,this.start,this.end,this.Kh)};g.ia=function(a,b){a=this.meta;b=yd(this.v,this.end,b);var c=this.start,d=this.end+1;return Wi.ka?Wi.ka(a,b,c,d,null):Wi.call(null,a,b,c,d,null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.wa(null,a)};g.Dh=function(a,b){return this.Ra(null,a,b)};Ui.prototype[Oc]=function(){return Re(this)};function Wi(a,b,c,d,e){for(;;)if(b instanceof Ui)c=b.start+c,d=b.start+d,b=b.v;else{if(!Qf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>M(b))throw Error("Index out of bounds");return new Ui(a,b,c,d,e)}}function Xi(a,b,c){return Wi(null,a,b|0,c|0,null)}
function Yi(a,b){return a===b.Ma?b:new ti(a,Rc(b.Mh))}function Ji(a){return new ti({},Rc(a.Mh))}function Ki(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Sf(a,0,b,0,a.length);return b}var Zi=function Zi(a,b,c,d){c=Yi(a.root.Ma,c);var f=a.Rh-1>>>b&31;if(5===b)a=d;else{var h=c.Mh[f];null!=h?(b-=5,a=Zi.Oh?Zi.Oh(a,b,h,d):Zi.call(null,a,b,h,d)):a=xi(a.root.Ma,b-5,d)}c.Mh[f]=a;return c};
function Ii(a,b,c,d){this.Rh=a;this.shift=b;this.root=c;this.tail=d;this.Qh=88;this.Lh=275}g=Ii.prototype;
g.ud=function(a,b){if(this.root.Ma){if(32>this.Rh-wi(this))this.tail[this.Rh&31]=b;else{a=new ti(this.root.Ma,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.Rh>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=xi(this.root.Ma,this.shift,a),this.root=new ti(this.root.Ma,b),this.shift=c):this.root=Zi(this,this.shift,this.root,a)}this.Rh+=1;return this}throw Error("conj! after persistent!");};g.Cd=function(){if(this.root.Ma){this.root.Ma=null;var a=this.Rh-wi(this),b=Array(a);Sf(this.tail,0,b,0,a);return new W(null,this.Rh,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Pd=function(a,b,c){if("number"===typeof b)return $i(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function $i(a,b,c){if(a.root.Ma){if(0<=b&&b<a.Rh){if(wi(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Yi(a.root.Ma,h);if(0===f)h.Mh[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.Mh[m]);h.Mh[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.Rh)return a.ud(null,c);throw Error(["Index ",u.Eh(b)," out of bounds for TransientVector of length",u.Eh(a.Rh)].join(""));}throw Error("assoc! after persistent!");}g.ga=function(){if(this.root.Ma)return this.Rh;throw Error("count after persistent!");};
g.wa=function(a,b){if(this.root.Ma)return Bi(this,b)[b&31];throw Error("nth after persistent!");};g.Ra=function(a,b,c){return 0<=b&&b<this.Rh?this.wa(null,b):c};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){if(this.root.Ma)return"number"===typeof b?this.Ra(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};function aj(a,b){this.Rd=a;this.Ee=b}
aj.prototype.$a=function(){var a=null!=this.Rd&&F(this.Rd);return a?a:null!=this.Ee?this.Ee.$a():!1};aj.prototype.next=function(){if(null!=this.Rd){var a=H(this.Rd);this.Rd=K(this.Rd);return a}if(null!=this.Ee&&this.Ee.$a())return this.Ee.next();throw Error("No such element");};aj.prototype.remove=function(){return Error("Unsupported operation")};function bj(a,b,c,d){this.meta=a;this.Wb=b;this.kc=c;this.Kh=d;this.Lh=31850700;this.Qh=0}g=bj.prototype;g.toString=function(){return we(this)};
g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){var a=K(this.Wb);return a?new bj(this.meta,a,this.kc,null):null!=this.kc?new bj(this.meta,this.kc,null,null):null};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Fd(Pe,this.meta)};g.Ua=function(){return H(this.Wb)};g.cb=function(){var a=K(this.Wb);return a?new bj(this.meta,a,this.kc,null):null==this.kc?this.Ja(null):new bj(this.meta,this.kc,null,null)};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new bj(b,this.Wb,this.kc,this.Kh)};g.ia=function(a,b){return rf(b,this)};bj.prototype[Oc]=function(){return Re(this)};
function cj(a,b,c,d,e){this.meta=a;this.count=b;this.Wb=c;this.kc=d;this.Kh=e;this.Qh=139264;this.Lh=31858766}g=cj.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,this.count.Eh?this.count.Eh(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ma=function(){return new aj(this.Wb,ue(this.kc))};g.ca=function(){return this.meta};g.ga=function(){return this.count};g.bd=function(){return H(this.Wb)};
g.cd=function(){if(q(this.Wb)){var a=K(this.Wb);return a?new cj(this.meta,this.count-1,a,this.kc,null):new cj(this.meta,this.count-1,F(this.kc),Af,null)}return this};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Fd(dj,this.meta)};g.Ua=function(){return H(this.Wb)};g.cb=function(){return Oe(F(this))};g.fa=function(){var a=F(this.kc),b=this.Wb;return q(q(b)?b:a)?new bj(null,this.Wb,F(a),null):null};
g.da=function(a,b){return b===this.meta?this:new cj(b,this.count,this.Wb,this.kc,this.Kh)};g.ia=function(a,b){q(this.Wb)?(a=this.kc,b=new cj(this.meta,this.count+1,this.Wb,zf.Dh(q(a)?a:Af,b),null)):b=new cj(this.meta,this.count+1,zf.Dh(this.Wb,b),Af,null);return b};var dj=new cj(null,0,null,Af,Ue);cj.prototype[Oc]=function(){return Re(this)};function ej(){this.Lh=2097152;this.Qh=0}ej.prototype.equiv=function(a){return this.$(null,a)};ej.prototype.$=function(){return!1};var fj=new ej;
function gj(a,b){return Vf(Of(b)&&!Pf(b)?M(a)===M(b)?(null!=a?a.Lh&1048576||l===a.xi||(a.Lh?0:Kc(Jd,a)):Kc(Jd,a))?ng(function(c,d,e){return D.Dh(B.Gh(b,d,fj),e)?!0:Ze(!1)},!0,a):Bh(function(c){return D.Dh(B.Gh(b,H(c),fj),wf(c))},a):null:null)}function hj(a,b,c,d){this.i=0;this.ji=a;this.$f=b;this.fields=c;this.wg=d}hj.prototype.$a=function(){var a=this.i<this.$f;return a?a:this.wg.$a()};
hj.prototype.next=function(){if(this.i<this.$f){var a=lf(this.fields,this.i);this.i+=1;return new X(a,ld(this.ji,a))}return this.wg.next()};hj.prototype.remove=function(){return Error("Unsupported operation")};function ij(a){this.s=a}ij.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=P(a,0,null);a=P(a,1,null);this.s=K(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function jj(a){this.s=a}
jj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=K(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function kj(a,b){if(b instanceof C)a:{var c=a.length;b=b.la;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof C&&b===a[d].la){a=d;break a}d+=2}}else if("string"==typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.Yc,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].Yc){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(D.Dh(b,a[d])){a=d;break a}d+=2}return a}function X(a,b){this.key=a;this.val=b;this.Kh=null;this.Lh=166619935;this.Qh=0}g=X.prototype;g.ad=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ja=function(a,b){return this.Ra(null,b,null)};g.Ph=function(a,b,c){return this.Ra(null,b,c)};g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Gc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Gc(null,b,c)};g.ca=function(){return null};g.ga=function(){return 2};g.nf=function(){return this.key};g.pf=function(){return this.val};g.bd=function(){return this.val};g.cd=function(){return new W(null,1,5,Y,[this.key],null)};g.tc=function(){return new Me([this.val,this.key],0,null)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return cf(this,b)};g.Ta=function(a,b,c){return df(this,b,c)};g.aa=function(a,b,c){return Q.Gh(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.fa=function(){return new Me([this.key,this.val],0,null)};g.da=function(a,b){return Hf(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ia=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.wa(null,a)};g.Dh=function(a,b){return this.Ra(null,a,b)};function Oi(a){return null!=a?a.Lh&2048||l===a.Ai?!0:!1:!1}
function lj(a,b,c){this.Mh=a;this.i=b;this.qc=c;this.Lh=32374990;this.Qh=0}g=lj.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.qc};g.Na=function(){return this.i<this.Mh.length-2?new lj(this.Mh,this.i+2,null):null};g.ga=function(){return(this.Mh.length-this.i)/2};g.ha=function(){return Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return new X(this.Mh[this.i],this.Mh[this.i+1])};g.cb=function(){return this.i<this.Mh.length-2?new lj(this.Mh,this.i+2,null):Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.qc?this:new lj(this.Mh,this.i,b)};g.ia=function(a,b){return rf(b,this)};lj.prototype[Oc]=function(){return Re(this)};
function pj(a,b){this.Mh=a;this.i=0;this.Rh=b}pj.prototype.$a=function(){return this.i<this.Rh};pj.prototype.next=function(){var a=new X(this.Mh[this.i],this.Mh[this.i+1]);this.i+=2;return a};function p(a,b,c,d){this.meta=a;this.Rh=b;this.Mh=c;this.Kh=d;this.Lh=16647951;this.Qh=139268}g=p.prototype;g.ad=function(a,b){a=kj(this.Mh,b);return-1===a?null:new X(this.Mh[a],this.Mh[a+1])};g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.keys=function(){return Re(qj.Eh?qj.Eh(this):qj.call(null,this))};g.entries=function(){return new ij(F(F(this)))};g.values=function(){return Re(rj.Eh?rj.Eh(this):rj.call(null,this))};g.has=function(a){return Yf(this,a)};g.get=function(a,b){return this.Ph(null,a,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null);f=P(f,1,null);a.Dh?a.Dh(f,h):a.call(null,f,h);e+=1}else if(b=F(b))Rf(b)?(c=ke(b),b=le(b),h=c,d=M(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Dh?a.Dh(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){a=kj(this.Mh,b);return-1===a?c:this.Mh[a+1]};
g.ta=function(a,b,c){a=this.Mh.length;for(var d=0;;)if(d<a){var e=this.Mh[d],f=this.Mh[d+1];c=b.Gh?b.Gh(c,e,f):b.call(null,c,e,f);if($e(c))return z(c);d+=2}else return c};g.ma=function(){return new pj(this.Mh,2*this.Rh)};g.ca=function(){return this.meta};g.ga=function(){return this.Rh};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Ve(this)};
g.$=function(a,b){if(Of(b)&&!Pf(b))if(a=this.Mh.length,this.Rh===b.ga(null))for(var c=0;;)if(c<a){var d=b.Ph(null,this.Mh[c],Tf);if(d!==Tf)if(D.Dh(this.Mh[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.td=function(){return new sj(this.Mh.length,Rc(this.Mh))};g.Ja=function(){return Fd(V,this.meta)};g.Sa=function(a,b){return lg(this,b)};g.Ta=function(a,b,c){return mg(this,b,c)};
g.ua=function(a,b){if(0<=kj(this.Mh,b)){a=this.Mh.length;var c=a-2;if(0===c)return this.Ja(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new p(this.meta,this.Rh-1,c,null);D.Dh(b,this.Mh[d])?d+=2:(c[e]=this.Mh[d],c[e+1]=this.Mh[d+1],e+=2,d+=2)}}else return this};
g.aa=function(a,b,c){a=kj(this.Mh,b);if(-1===a){if(this.Rh<tj){a=this.Mh;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new p(this.meta,this.Rh+1,e,null)}return Fd(nd(ki.Dh(uj,this),b,c),this.meta)}if(c===this.Mh[a+1])return this;b=Rc(this.Mh);b[a+1]=c;return new p(this.meta,this.Rh,b,null)};g.fa=function(){var a=this.Mh;return 0<=a.length-2?new lj(a,0,null):null};g.da=function(a,b){return b===this.meta?this:new p(b,this.Rh,this.Mh,this.Kh)};
g.ia=function(a,b){if(Qf(b))return this.aa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(Qf(c))a=nd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};
g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};var V=new p(null,0,[],We),tj=8;function Ef(a){for(var b=[],c=0;;)if(c<a.length){var d=a[c],e=a[c+1],f=kj(b,d);-1===f?(f=b,f.push(d),f.push(e)):b[f+1]=e;c+=2}else break;return new p(null,b.length/2,b,null)}p.prototype[Oc]=function(){return Re(this)};function sj(a,b){this.Fd={};this.Lc=a;this.Mh=b;this.Lh=259;this.Qh=56}g=sj.prototype;
g.ga=function(){if(this.Fd)return Fg(this.Lc,2);throw Error("count after persistent!");};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){if(this.Fd)return a=kj(this.Mh,b),-1===a?c:this.Mh[a+1];throw Error("lookup after persistent!");};
g.ud=function(a,b){if(this.Fd){if(Oi(b))return this.Pd(null,Pi.Eh?Pi.Eh(b):Pi.call(null,b),Qi.Eh?Qi.Eh(b):Qi.call(null,b));if(Qf(b))return this.Pd(null,b.Eh?b.Eh(0):b.call(null,0),b.Eh?b.Eh(1):b.call(null,1));a=F(b);for(b=this;;){var c=H(a);if(q(c))a=K(a),b=fe(b,Pi.Eh?Pi.Eh(c):Pi.call(null,c),Qi.Eh?Qi.Eh(c):Qi.call(null,c));else return b}}else throw Error("conj! after persistent!");};
g.Cd=function(){if(this.Fd)return this.Fd=!1,new p(null,Fg(this.Lc,2),this.Mh,null);throw Error("persistent! called twice");};g.Pd=function(a,b,c){if(this.Fd){a=kj(this.Mh,b);if(-1===a)return this.Lc+2<=2*tj?(this.Lc+=2,this.Mh.push(b),this.Mh.push(c),this):jh.Gh(vj.Dh?vj.Dh(this.Lc,this.Mh):vj.call(null,this.Lc,this.Mh),b,c);c!==this.Mh[a+1]&&(this.Mh[a+1]=c);return this}throw Error("assoc! after persistent!");};
g.sf=function(a,b){if(this.Fd)return a=kj(this.Mh,b),0<=a&&(this.Mh[a]=this.Mh[this.Lc-2],this.Mh[a+1]=this.Mh[this.Lc-1],a=this.Mh,a.pop(),a.pop(),this.Lc-=2),this;throw Error("dissoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};
g.Eh=function(a){return this.Ph(null,a,null)};g.Dh=function(a,b){return this.Ph(null,a,b)};function vj(a,b){for(var c=ce(uj),d=0;;)if(d<a)c=jh.Gh(c,b[d],b[d+1]),d+=2;else return c}function wj(){this.val=!1}function xj(a,b){return a===b?!0:S(a,b)?!0:D.Dh(a,b)}function yj(a,b,c){a=Rc(a);a[b]=c;return a}function zj(a,b){var c=Array(a.length-2);Sf(a,0,c,0,2*b);Sf(a,2*(b+1),c,2*b,c.length-2*b);return c}function Aj(a,b,c,d){a=a.hd(b);a.Mh[c]=d;return a}
function Bj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.Gh?b.Gh(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Kd(b,f):f;if($e(c))return c;e+=2;f=c}else return f}function Cj(a){this.Mh=a;this.i=0;this.Nc=this.Ce=null}Cj.prototype.advance=function(){for(var a=this.Mh.length;;)if(this.i<a){var b=this.Mh[this.i],c=this.Mh[this.i+1];null!=b?b=this.Ce=new X(b,c):null!=c?(b=ue(c),b=b.$a()?this.Nc=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
Cj.prototype.$a=function(){var a=null!=this.Ce;return a?a:(a=null!=this.Nc)?a:this.advance()};Cj.prototype.next=function(){if(null!=this.Ce){var a=this.Ce;this.Ce=null;return a}if(null!=this.Nc)return a=this.Nc.next(),this.Nc.$a()||(this.Nc=null),a;if(this.advance())return this.next();throw Error("No such element");};Cj.prototype.remove=function(){return Error("Unsupported operation")};function Dj(a,b,c){this.Ma=a;this.bitmap=b;this.Mh=c;this.Qh=131072;this.Lh=0}g=Dj.prototype;
g.hd=function(a){if(a===this.Ma)return this;var b=Hg(this.bitmap),c=Array(0>b?4:2*(b+1));Sf(this.Mh,0,c,0,2*b);return new Dj(a,this.bitmap,c)};g.Ae=function(a,b,c,d,e){var f=1<<(c>>>b&31);if(0===(this.bitmap&f))return this;var h=Hg(this.bitmap&f-1),k=this.Mh[2*h],m=this.Mh[2*h+1];return null==k?(b=m.Ae(a,b+5,c,d,e),b===m?this:null!=b?Aj(this,a,2*h+1,b):this.bitmap===f?null:Ej(this,a,f,h)):xj(d,k)?(e.val=!0,Ej(this,a,f,h)):this};
function Ej(a,b,c,d){if(a.bitmap===c)return null;a=a.hd(b);b=a.Mh;var e=b.length;a.bitmap^=c;Sf(b,2*(d+1),b,2*d,e-2*(d+1));b[e-2]=null;b[e-1]=null;return a}g.ye=function(){return Fj?Fj(this.Mh):Gj.call(null,this.Mh)};g.Kd=function(a,b){return Bj(this.Mh,a,b)};g.Jd=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Hg(this.bitmap&e-1);e=this.Mh[2*f];f=this.Mh[2*f+1];return null==e?f.Jd(a+5,b,c,d):xj(c,e)?f:d};
g.Kc=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=Hg(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=Hg(this.bitmap);if(2*m<this.Mh.length){a=this.hd(a);b=a.Mh;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Hj.Kc(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.Mh[e]?Hj.Kc(a,b+5,Ee(this.Mh[e]),this.Mh[e],this.Mh[e+1],f):this.Mh[e+1],e+=2,d+=1);else break;return new Ij(a,m+1,k)}b=Array(2*(m+4));Sf(this.Mh,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Sf(this.Mh,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.hd(a);a.Mh=b;a.bitmap|=h;return a}m=this.Mh[2*k];h=this.Mh[2*k+1];if(null==m)return m=h.Kc(a,b+5,c,d,e,f),m===h?this:Aj(this,a,2*k+1,m);if(xj(d,m))return e===h?this:Aj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Jj?Jj(a,f,m,h,c,d,e):Kj.call(null,
a,f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.hd(a);a.Mh[e]=null;a.Mh[k]=d;return a};
g.Jc=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=Hg(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=Hg(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Hj.Jc(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.Mh[d]?Hj.Jc(a+5,Ee(this.Mh[d]),this.Mh[d],this.Mh[d+1],e):this.Mh[d+1],d+=2,c+=1);else break;return new Ij(null,k+1,h)}a=
Array(2*(k+1));Sf(this.Mh,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Sf(this.Mh,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new Dj(null,this.bitmap|f,a)}var m=this.Mh[2*h];f=this.Mh[2*h+1];if(null==m)return k=f.Jc(a+5,b,c,d,e),k===f?this:new Dj(null,this.bitmap,yj(this.Mh,2*h+1,k));if(xj(c,m))return d===f?this:new Dj(null,this.bitmap,yj(this.Mh,2*h+1,d));e.val=!0;e=this.bitmap;k=this.Mh;a+=5;a=Lj?Lj(a,m,f,b,c,d):Kj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=Rc(k);d[c]=null;d[h]=a;return new Dj(null,e,d)};
g.xe=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=Hg(this.bitmap&e-1);e=this.Mh[2*f];f=this.Mh[2*f+1];return null==e?f.xe(a+5,b,c,d):xj(c,e)?new X(e,f):d};
g.ze=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=Hg(this.bitmap&d-1),f=this.Mh[2*e],h=this.Mh[2*e+1];return null==f?(a=h.ze(a+5,b,c),a===h?this:null!=a?new Dj(null,this.bitmap,yj(this.Mh,2*e+1,a)):this.bitmap===d?null:new Dj(null,this.bitmap^d,zj(this.Mh,e))):xj(c,f)?new Dj(null,this.bitmap^d,zj(this.Mh,e)):this};g.ma=function(){return new Cj(this.Mh)};var Hj=new Dj(null,0,[]);
function Mj(a,b,c){var d=a.Mh,e=d.length;a=Array(2*(a.Rh-1));for(var f=0,h=1,k=0;;)if(f<e)f!==c&&null!=d[f]?(a[h]=d[f],h+=2,k|=1<<f,f+=1):f+=1;else return new Dj(b,k,a)}function Nj(a){this.Mh=a;this.i=0;this.Nc=null}Nj.prototype.$a=function(){for(var a=this.Mh.length;;){if(null!=this.Nc&&this.Nc.$a())return!0;if(this.i<a){var b=this.Mh[this.i];this.i+=1;null!=b&&(this.Nc=ue(b))}else return!1}};Nj.prototype.next=function(){if(this.$a())return this.Nc.next();throw Error("No such element");};
Nj.prototype.remove=function(){return Error("Unsupported operation")};function Ij(a,b,c){this.Ma=a;this.Rh=b;this.Mh=c;this.Qh=131072;this.Lh=0}g=Ij.prototype;g.hd=function(a){return a===this.Ma?this:new Ij(a,this.Rh,Rc(this.Mh))};g.Ae=function(a,b,c,d,e){var f=c>>>b&31,h=this.Mh[f];if(null==h)return this;b=h.Ae(a,b+5,c,d,e);if(b===h)return this;if(null==b){if(8>=this.Rh)return Mj(this,a,f);a=Aj(this,a,f,b);--a.Rh;return a}return Aj(this,a,f,b)};
g.ye=function(){return Oj?Oj(this.Mh):Pj.call(null,this.Mh)};g.Kd=function(a,b){for(var c=this.Mh.length,d=0;;)if(d<c){var e=this.Mh[d];if(null!=e){b=e.Kd(a,b);if($e(b))return b;d+=1}else d+=1}else return b};g.Jd=function(a,b,c,d){var e=this.Mh[b>>>a&31];return null!=e?e.Jd(a+5,b,c,d):d};g.Kc=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.Mh[h];if(null==k)return a=Aj(this,a,h,Hj.Kc(a,b+5,c,d,e,f)),a.Rh+=1,a;b=k.Kc(a,b+5,c,d,e,f);return b===k?this:Aj(this,a,h,b)};
g.Jc=function(a,b,c,d,e){var f=b>>>a&31,h=this.Mh[f];if(null==h)return new Ij(null,this.Rh+1,yj(this.Mh,f,Hj.Jc(a+5,b,c,d,e)));a=h.Jc(a+5,b,c,d,e);return a===h?this:new Ij(null,this.Rh,yj(this.Mh,f,a))};g.xe=function(a,b,c,d){var e=this.Mh[b>>>a&31];return null!=e?e.xe(a+5,b,c,d):d};g.ze=function(a,b,c){var d=b>>>a&31,e=this.Mh[d];return null!=e?(a=e.ze(a+5,b,c),a===e?this:null==a?8>=this.Rh?Mj(this,null,d):new Ij(null,this.Rh-1,yj(this.Mh,d,a)):new Ij(null,this.Rh,yj(this.Mh,d,a))):this};g.ma=function(){return new Nj(this.Mh)};
function Qj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(xj(c,a[d]))return d;d+=2}else return-1}function Rj(a,b,c,d){this.Ma=a;this.dd=b;this.Rh=c;this.Mh=d;this.Qh=131072;this.Lh=0}g=Rj.prototype;g.hd=function(a){if(a===this.Ma)return this;var b=Array(2*(this.Rh+1));Sf(this.Mh,0,b,0,2*this.Rh);return new Rj(a,this.dd,this.Rh,b)};
g.Ae=function(a,b,c,d,e){b=Qj(this.Mh,this.Rh,d);if(-1===b)return this;e.val=!0;if(1===this.Rh)return null;a=this.hd(a);e=a.Mh;e[b]=e[2*this.Rh-2];e[b+1]=e[2*this.Rh-1];e[2*this.Rh-1]=null;e[2*this.Rh-2]=null;--a.Rh;return a};g.ye=function(){return Fj?Fj(this.Mh):Gj.call(null,this.Mh)};g.Kd=function(a,b){return Bj(this.Mh,a,b)};g.Jd=function(a,b,c,d){a=Qj(this.Mh,this.Rh,c);return 0>a?d:xj(c,this.Mh[a])?this.Mh[a+1]:d};
g.Kc=function(a,b,c,d,e,f){if(c===this.dd){b=Qj(this.Mh,this.Rh,d);if(-1===b){if(this.Mh.length>2*this.Rh)return b=2*this.Rh,c=2*this.Rh+1,a=this.hd(a),a.Mh[b]=d,a.Mh[c]=e,f.val=!0,a.Rh+=1,a;c=this.Mh.length;b=Array(c+2);Sf(this.Mh,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.Rh+1;a===this.Ma?(this.Mh=b,this.Rh=d,a=this):a=new Rj(this.Ma,this.dd,d,b);return a}return this.Mh[b+1]===e?this:Aj(this,a,b+1,e)}return(new Dj(a,1<<(this.dd>>>b&31),[null,this,null,null])).Kc(a,b,c,d,e,f)};
g.Jc=function(a,b,c,d,e){return b===this.dd?(a=Qj(this.Mh,this.Rh,c),-1===a?(a=2*this.Rh,b=Array(a+2),Sf(this.Mh,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Rj(null,this.dd,this.Rh+1,b)):D.Dh(this.Mh[a+1],d)?this:new Rj(null,this.dd,this.Rh,yj(this.Mh,a+1,d))):(new Dj(null,1<<(this.dd>>>a&31),[null,this])).Jc(a,b,c,d,e)};g.xe=function(a,b,c,d){a=Qj(this.Mh,this.Rh,c);return 0>a?d:xj(c,this.Mh[a])?new X(this.Mh[a],this.Mh[a+1]):d};
g.ze=function(a,b,c){a=Qj(this.Mh,this.Rh,c);return-1===a?this:1===this.Rh?null:new Rj(null,this.dd,this.Rh-1,zj(this.Mh,Fg(a,2)))};g.ma=function(){return new Cj(this.Mh)};function Kj(a){switch(arguments.length){case 6:return Lj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Jj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}
function Lj(a,b,c,d,e,f){var h=Ee(b);if(h===d)return new Rj(null,h,2,[b,c,e,f]);var k=new wj;return Hj.Jc(a,h,b,c,k).Jc(a,d,e,f,k)}function Jj(a,b,c,d,e,f,h){var k=Ee(c);if(k===e)return new Rj(null,k,2,[c,d,f,h]);var m=new wj;return Hj.Kc(a,b,k,c,d,m).Kc(a,b,e,f,h,m)}function Sj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.Kh=e;this.Lh=32374988;this.Qh=0}g=Sj.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Tj?Tj(a,b,null):Gj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=K(this.s);return Tj?Tj(a,b,c):Gj.call(null,a,b,c)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return null==this.s?new X(this.nodes[this.i],this.nodes[this.i+1]):H(this.s)};
g.cb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Tj?Tj(c,d,null):Gj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=K(a.s);return Tj?Tj(c,d,e):Gj.call(null,c,d,e)}();return null!=b?b:Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new Sj(b,this.nodes,this.i,this.s,this.Kh)};g.ia=function(a,b){return rf(b,this)};Sj.prototype[Oc]=function(){return Re(this)};
function Gj(a){switch(arguments.length){case 1:return Fj(arguments[0]);case 3:return Tj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function Fj(a){return Tj(a,0,null)}function Tj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Sj(null,a,b,null,null);var d=a[b+1];if(q(d)&&(d=d.ye(),q(d)))return new Sj(null,a,b+2,d,null);b+=2}else return null;else return new Sj(null,a,b,c,null)}
function Uj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.Kh=e;this.Lh=32374988;this.Qh=0}g=Uj.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){var a=this.nodes,b=this.i,c=K(this.s);return Vj?Vj(a,b,c):Pj.call(null,a,b,c)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return H(this.s)};g.cb=function(){var a=this.nodes;var b=this.i,c=K(this.s);a=Vj?Vj(a,b,c):Pj.call(null,a,b,c);return null!=a?a:Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.meta?this:new Uj(b,this.nodes,this.i,this.s,this.Kh)};g.ia=function(a,b){return rf(b,this)};Uj.prototype[Oc]=function(){return Re(this)};
function Pj(a){switch(arguments.length){case 1:return Oj(arguments[0]);case 3:return Vj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function Oj(a){return Vj(a,0,null)}function Vj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(q(d)&&(d=d.ye(),q(d)))return new Uj(null,a,b+1,d,null);b+=1}else return null;else return new Uj(null,a,b,c,null)}function Wj(a,b){this.rb=a;this.Lg=b;this.seen=!1}
Wj.prototype.$a=function(){return!this.seen||this.Lg.$a()};Wj.prototype.next=function(){if(this.seen)return this.Lg.next();this.seen=!0;return new X(null,this.rb)};Wj.prototype.remove=function(){return Error("Unsupported operation")};function Xj(a,b,c,d,e,f){this.meta=a;this.Rh=b;this.root=c;this.qb=d;this.rb=e;this.Kh=f;this.Lh=16123663;this.Qh=139268}g=Xj.prototype;g.ad=function(a,b){return null==b?this.qb?new X(null,this.rb):null:null==this.root?null:this.root.xe(0,Ee(b),b,null)};g.toString=function(){return we(this)};
g.equiv=function(a){return this.$(null,a)};g.keys=function(){return Re(qj.Eh?qj.Eh(this):qj.call(null,this))};g.entries=function(){return new ij(F(F(this)))};g.values=function(){return Re(rj.Eh?rj.Eh(this):rj.call(null,this))};g.has=function(a){return Yf(this,a)};g.get=function(a,b){return this.Ph(null,a,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null);f=P(f,1,null);a.Dh?a.Dh(f,h):a.call(null,f,h);e+=1}else if(b=F(b))Rf(b)?(c=ke(b),b=le(b),h=c,d=M(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Dh?a.Dh(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return null==b?this.qb?this.rb:c:null==this.root?c:this.root.Jd(0,Ee(b),b,c)};
g.ta=function(a,b,c){a=this.qb?b.Gh?b.Gh(c,null,this.rb):b.call(null,c,null,this.rb):c;return $e(a)?z(a):null!=this.root?af(this.root.Kd(b,a)):a};g.ma=function(){var a=this.root?ue(this.root):xh();return this.qb?new Wj(this.rb,a):a};g.ca=function(){return this.meta};g.ga=function(){return this.Rh};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Ve(this)};g.$=function(a,b){return gj(this,b)};g.td=function(){return new Yj(this.root,this.Rh,this.qb,this.rb)};g.Ja=function(){return Fd(uj,this.meta)};
g.ua=function(a,b){if(null==b)return this.qb?new Xj(this.meta,this.Rh-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.ze(0,Ee(b),b);return a===this.root?this:new Xj(this.meta,this.Rh-1,a,this.qb,this.rb,null)};
g.aa=function(a,b,c){if(null==b)return this.qb&&c===this.rb?this:new Xj(this.meta,this.qb?this.Rh:this.Rh+1,this.root,!0,c,null);a=new wj;b=(null==this.root?Hj:this.root).Jc(0,Ee(b),b,c,a);return b===this.root?this:new Xj(this.meta,a.val?this.Rh+1:this.Rh,b,this.qb,this.rb,null)};g.fa=function(){if(0<this.Rh){var a=null!=this.root?this.root.ye():null;return this.qb?rf(new X(null,this.rb),a):a}return null};g.da=function(a,b){return b===this.meta?this:new Xj(b,this.Rh,this.root,this.qb,this.rb,this.Kh)};
g.ia=function(a,b){if(Qf(b))return this.aa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(Qf(c))a=nd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};
g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};var uj=new Xj(null,0,null,!1,null,We);function Zj(a,b){for(var c=a.length,d=0,e=ce(uj);;)if(d<c){var f=d+1;e=fe(e,a[d],b[d]);d=f}else return ee(e)}Xj.prototype[Oc]=function(){return Re(this)};function Yj(a,b,c,d){this.Ma={};this.root=a;this.count=b;this.qb=c;this.rb=d;this.Lh=259;this.Qh=56}
function ak(a,b,c){if(a.Ma){if(null==b)a.rb!==c&&(a.rb=c),a.qb||(a.count+=1,a.qb=!0);else{var d=new wj;b=(null==a.root?Hj:a.root).Kc(a.Ma,0,Ee(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Yj.prototype;g.ga=function(){if(this.Ma)return this.count;throw Error("count after persistent!");};g.ja=function(a,b){return null==b?this.qb?this.rb:null:null==this.root?null:this.root.Jd(0,Ee(b),b)};
g.Ph=function(a,b,c){return null==b?this.qb?this.rb:c:null==this.root?c:this.root.Jd(0,Ee(b),b,c)};g.ud=function(a,b){a:if(this.Ma)if(Oi(b))a=ak(this,Pi.Eh?Pi.Eh(b):Pi.call(null,b),Qi.Eh?Qi.Eh(b):Qi.call(null,b));else if(Qf(b))a=ak(this,b.Eh?b.Eh(0):b.call(null,0),b.Eh?b.Eh(1):b.call(null,1));else for(a=F(b),b=this;;){var c=H(a);if(q(c))a=K(a),b=ak(b,Pi.Eh?Pi.Eh(c):Pi.call(null,c),Qi.Eh?Qi.Eh(c):Qi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Cd=function(){if(this.Ma){this.Ma=null;var a=new Xj(null,this.count,this.root,this.qb,this.rb,null)}else throw Error("persistent! called twice");return a};g.Pd=function(a,b,c){return ak(this,b,c)};g.sf=function(a,b){if(this.Ma)null==b?this.qb&&(this.qb=!1,this.rb=null,--this.count):null!=this.root&&(a=new wj,b=this.root.Ae(this.Ma,0,Ee(b),b,a),b!==this.root&&(this.root=b),a.val&&--this.count);else throw Error("dissoc! after persistent!");return this};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};function bk(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=zf.Dh(d,a),a=b;else return d}
function ck(a,b,c,d,e){this.meta=a;this.stack=b;this.Ad=c;this.Rh=d;this.Kh=e;this.Lh=32374990;this.Qh=0}g=ck.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.meta};g.Na=function(){var a=H(this.stack);a=bk(this.Ad?a.right:a.left,K(this.stack),this.Ad);return null==a?null:new ck(null,a,this.Ad,this.Rh-1,null)};
g.ga=function(){return 0>this.Rh?M(K(this))+1:this.Rh};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){var a=this.stack;return null==a?null:vd(a)};g.cb=function(){var a=H(this.stack);a=bk(this.Ad?a.right:a.left,K(this.stack),this.Ad);return null!=a?new ck(null,a,this.Ad,this.Rh-1,null):Pe};g.fa=function(){return this};
g.da=function(a,b){return b===this.meta?this:new ck(b,this.stack,this.Ad,this.Rh,this.Kh)};g.ia=function(a,b){return rf(b,this)};ck.prototype[Oc]=function(){return Re(this)};function dk(a,b,c){return new ck(null,bk(a,null,b),b,c,null)}
function ek(a,b,c,d){return c instanceof fk?c.left instanceof fk?new fk(c.key,c.val,c.left.Zc(),new gk(a,b,c.right,d)):c.right instanceof fk?new fk(c.right.key,c.right.val,new gk(c.key,c.val,c.left,c.right.left),new gk(a,b,c.right.right,d)):new gk(a,b,c,d):new gk(a,b,c,d)}
function hk(a,b,c,d){return d instanceof fk?d.right instanceof fk?new fk(d.key,d.val,new gk(a,b,c,d.left),d.right.Zc()):d.left instanceof fk?new fk(d.left.key,d.left.val,new gk(a,b,c,d.left.left),new gk(d.key,d.val,d.left.right,d.right)):new gk(a,b,c,d):new gk(a,b,c,d)}
function ik(a,b,c,d){if(c instanceof fk)return new fk(a,b,c.Zc(),d);if(d instanceof gk)return hk(a,b,c,d.De());if(d instanceof fk&&d.left instanceof gk)return new fk(d.left.key,d.left.val,new gk(a,b,c,d.left.left),hk(d.key,d.val,d.left.right,d.right.De()));throw Error("red-black tree invariant violation");}
function jk(a,b,c,d){if(d instanceof fk)return new fk(a,b,c,d.Zc());if(c instanceof gk)return ek(a,b,c.De(),d);if(c instanceof fk&&c.right instanceof gk)return new fk(c.right.key,c.right.val,ek(c.key,c.val,c.left.De(),c.right.left),new gk(a,b,c.right.right,d));throw Error("red-black tree invariant violation");}
var kk=function kk(a,b,c){var e=null!=a.left?function(){var k=a.left;return kk.Gh?kk.Gh(k,b,c):kk.call(null,k,b,c)}():c;if($e(e))return e;var f=function(){var k=a.key,m=a.val;return b.Gh?b.Gh(e,k,m):b.call(null,e,k,m)}();if($e(f))return f;if(null!=a.right){var h=a.right;return kk.Gh?kk.Gh(h,b,f):kk.call(null,h,b,f)}return f};function gk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.Kh=null;this.Lh=166619935;this.Qh=0}g=gk.prototype;
g.ad=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();g.Wf=function(a){return a.Zf(this)};g.De=function(){return new fk(this.key,this.val,this.left,this.right)};g.Zc=function(){return this};g.Vf=function(a){return a.Yf(this)};g.replace=function(a,b,c,d){return new gk(a,b,c,d)};
g.Yf=function(a){return new gk(a.key,a.val,this,a.right)};g.Zf=function(a){return new gk(a.key,a.val,a.left,this)};g.Kd=function(a,b){return kk(this,a,b)};g.ja=function(a,b){return this.Ra(null,b,null)};g.Ph=function(a,b,c){return this.Ra(null,b,c)};g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Gc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Gc(null,b,c)};
g.ca=function(){return null};g.ga=function(){return 2};g.nf=function(){return this.key};g.pf=function(){return this.val};g.bd=function(){return this.val};g.cd=function(){return new W(null,1,5,Y,[this.key],null)};g.tc=function(){return new Me([this.val,this.key],0,null)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return cf(this,b)};g.Ta=function(a,b,c){return df(this,b,c)};
g.aa=function(a,b,c){return Q.Gh(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.fa=function(){return new Me([this.key,this.val],0,null)};g.da=function(a,b){return Fd(new W(null,2,5,Y,[this.key,this.val],null),b)};g.ia=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.wa(null,a)};g.Dh=function(a,b){return this.Ra(null,a,b)};gk.prototype[Oc]=function(){return Re(this)};function fk(a,b,c,d){this.key=a;this.val=b;this.left=c;this.right=d;this.Kh=null;this.Lh=166619935;this.Qh=0}g=fk.prototype;g.ad=function(a,b){switch(b){case 0:return new X(0,this.key);case 1:return new X(1,this.val);default:return null}};
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();g.Wf=function(a){return new fk(this.key,this.val,this.left,a)};g.De=function(){throw Error("red-black tree invariant violation");};g.Zc=function(){return new gk(this.key,this.val,this.left,this.right)};
g.Vf=function(a){return new fk(this.key,this.val,a,this.right)};g.replace=function(a,b,c,d){return new fk(a,b,c,d)};g.Yf=function(a){return this.left instanceof fk?new fk(this.key,this.val,this.left.Zc(),new gk(a.key,a.val,this.right,a.right)):this.right instanceof fk?new fk(this.right.key,this.right.val,new gk(this.key,this.val,this.left,this.right.left),new gk(a.key,a.val,this.right.right,a.right)):new gk(a.key,a.val,this,a.right)};
g.Zf=function(a){return this.right instanceof fk?new fk(this.key,this.val,new gk(a.key,a.val,a.left,this.left),this.right.Zc()):this.left instanceof fk?new fk(this.left.key,this.left.val,new gk(a.key,a.val,a.left,this.left.left),new gk(this.key,this.val,this.left.right,this.right)):new gk(a.key,a.val,a.left,this)};g.Kd=function(a,b){return kk(this,a,b)};g.ja=function(a,b){return this.Ra(null,b,null)};g.Ph=function(a,b,c){return this.Ra(null,b,c)};
g.wa=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Gc=function(a,b,c){return(new W(null,2,5,Y,[this.key,this.val],null)).Gc(null,b,c)};g.ca=function(){return null};g.ga=function(){return 2};g.nf=function(){return this.key};g.pf=function(){return this.val};g.bd=function(){return this.val};g.cd=function(){return new W(null,1,5,Y,[this.key],null)};
g.tc=function(){return new Me([this.val,this.key],0,null)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return null};g.Sa=function(a,b){return cf(this,b)};g.Ta=function(a,b,c){return df(this,b,c)};g.aa=function(a,b,c){return Q.Gh(new W(null,2,5,Y,[this.key,this.val],null),b,c)};g.fa=function(){return new Me([this.key,this.val],0,null)};g.da=function(a,b){return Fd(new W(null,2,5,Y,[this.key,this.val],null),b)};
g.ia=function(a,b){return new W(null,3,5,Y,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.wa(null,a)};g.Dh=function(a,b){return this.Ra(null,a,b)};fk.prototype[Oc]=function(){return Re(this)};
var lk=function lk(a,b,c,d,e){if(null==b)return new fk(c,d,null,null);var h=function(){var k=b.key;return a.Dh?a.Dh(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return lk.ka?lk.ka(a,k,c,d,e):lk.call(null,a,k,c,d,e)}(),null!=h?b.Vf(h):null;h=function(){var k=b.right;return lk.ka?lk.ka(a,k,c,d,e):lk.call(null,a,k,c,d,e)}();return null!=h?b.Wf(h):null},mk=function mk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof fk){if(b instanceof fk){var d=
function(){var e=a.right,f=b.left;return mk.Dh?mk.Dh(e,f):mk.call(null,e,f)}();return d instanceof fk?new fk(d.key,d.val,new fk(a.key,a.val,a.left,d.left),new fk(b.key,b.val,d.right,b.right)):new fk(a.key,a.val,a.left,new fk(b.key,b.val,d,b.right))}return new fk(a.key,a.val,a.left,function(){var e=a.right;return mk.Dh?mk.Dh(e,b):mk.call(null,e,b)}())}if(b instanceof fk)return new fk(b.key,b.val,function(){var e=b.left;return mk.Dh?mk.Dh(a,e):mk.call(null,a,e)}(),b.right);d=function(){var e=a.right,
f=b.left;return mk.Dh?mk.Dh(e,f):mk.call(null,e,f)}();return d instanceof fk?new fk(d.key,d.val,new gk(a.key,a.val,a.left,d.left),new gk(b.key,b.val,d.right,b.right)):ik(a.key,a.val,a.left,new gk(b.key,b.val,d,b.right))},nk=function nk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.Dh?a.Dh(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,mk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return nk.Oh?nk.Oh(a,h,c,d):nk.call(null,a,h,c,d)}(),null!=f||null!=d[0]?b.left instanceof gk?
ik(b.key,b.val,f,b.right):new fk(b.key,b.val,f,b.right):null;f=function(){var h=b.right;return nk.Oh?nk.Oh(a,h,c,d):nk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof gk?jk(b.key,b.val,b.left,f):new fk(b.key,b.val,b.left,f):null}return null},ok=function ok(a,b,c,d){var f=b.key,h=a.Dh?a.Dh(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return ok.Oh?ok.Oh(a,k,c,d):ok.call(null,a,k,c,d)}(),b.right):b.replace(f,b.val,
b.left,function(){var k=b.right;return ok.Oh?ok.Oh(a,k,c,d):ok.call(null,a,k,c,d)}())};function pk(a,b,c,d,e){this.uc=a;this.tree=b;this.Rh=c;this.meta=d;this.Kh=e;this.Lh=418776847;this.Qh=8192}g=pk.prototype;g.ad=function(a,b){return qk(this,b)};
g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null);f=P(f,1,null);a.Dh?a.Dh(f,h):a.call(null,f,h);e+=1}else if(b=F(b))Rf(b)?(c=ke(b),b=le(b),h=c,d=M(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Dh?a.Dh(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.Ph(null,a,b)};g.entries=function(){return new ij(F(F(this)))};g.toString=function(){return we(this)};
g.keys=function(){return Re(qj.Eh?qj.Eh(this):qj.call(null,this))};g.values=function(){return Re(rj.Eh?rj.Eh(this):rj.call(null,this))};g.equiv=function(a){return this.$(null,a)};function qk(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.uc.Dh?a.uc.Dh(b,d):a.uc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return Yf(this,a)};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){a=qk(this,b);return null!=a?a.val:c};
g.ta=function(a,b,c){return null!=this.tree?af(kk(this.tree,b,c)):c};g.ca=function(){return this.meta};g.ga=function(){return this.Rh};g.tc=function(){return 0<this.Rh?dk(this.tree,!1,this.Rh):null};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Ve(this)};g.$=function(a,b){return gj(this,b)};g.Ja=function(){return new pk(this.uc,null,0,this.meta,0)};
g.ua=function(a,b){a=[null];b=nk(this.uc,this.tree,b,a);return null==b?null==lf(a,0)?this:new pk(this.uc,null,0,this.meta,null):new pk(this.uc,b.Zc(),this.Rh-1,this.meta,null)};g.aa=function(a,b,c){a=[null];var d=lk(this.uc,this.tree,b,c,a);return null==d?(a=lf(a,0),D.Dh(c,a.val)?this:new pk(this.uc,ok(this.uc,this.tree,b,c),this.Rh,this.meta,null)):new pk(this.uc,d.Zc(),this.Rh+1,this.meta,null)};g.fa=function(){return 0<this.Rh?dk(this.tree,!0,this.Rh):null};
g.da=function(a,b){return b===this.meta?this:new pk(this.uc,this.tree,this.Rh,b,this.Kh)};g.ia=function(a,b){if(Qf(b))return this.aa(null,x(b,0),x(b,1));a=this;for(b=F(b);;){if(null==b)return a;var c=H(b);if(Qf(c))a=nd(a,x(c,0),x(c,1)),b=K(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};var rk=new pk(eg,null,0,null,We);pk.prototype[Oc]=function(){return Re(this)};
var sk=function sk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return sk.Ih(c)};sk.Ih=function(a){a=F(a);for(var b=ce(uj);;)if(a){var c=K(K(a));b=jh.Gh(b,H(a),wf(a));a=c}else return ee(b)};sk.Sh=0;sk.ba=function(a){return this.Ih(F(a))};var tk=function tk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return tk.Ih(c)};
tk.Ih=function(a){a=a instanceof Me&&0===a.i?a.Mh:Sc(a);return Ef(a)};tk.Sh=0;tk.ba=function(a){return this.Ih(F(a))};function uk(a,b){this.Ia=a;this.qc=b;this.Lh=32374988;this.Qh=0}g=uk.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.qc};g.Na=function(){var a=(null!=this.Ia?this.Ia.Lh&128||l===this.Ia.je||(this.Ia.Lh?0:Kc(id,this.Ia)):Kc(id,this.Ia))?this.Ia.Na(null):K(this.Ia);return null==a?null:new uk(a,null)};g.ha=function(){return Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return this.Ia.Ua(null).key};g.cb=function(){var a=(null!=this.Ia?this.Ia.Lh&128||l===this.Ia.je||(this.Ia.Lh?0:Kc(id,this.Ia)):Kc(id,this.Ia))?this.Ia.Na(null):K(this.Ia);return null!=a?new uk(a,null):Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.qc?this:new uk(this.Ia,b)};g.ia=function(a,b){return rf(b,this)};
uk.prototype[Oc]=function(){return Re(this)};function qj(a){return(a=F(a))?new uk(a,null):null}function Pi(a){return rd(a)}function vk(a,b){this.Ia=a;this.qc=b;this.Lh=32374988;this.Qh=0}g=vk.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();g.ca=function(){return this.qc};g.Na=function(){var a=(null!=this.Ia?this.Ia.Lh&128||l===this.Ia.je||(this.Ia.Lh?0:Kc(id,this.Ia)):Kc(id,this.Ia))?this.Ia.Na(null):K(this.Ia);return null==a?null:new vk(a,null)};g.ha=function(){return Te(this)};
g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return sf(b,this)};g.Ta=function(a,b,c){return uf(b,c,this)};g.Ua=function(){return this.Ia.Ua(null).val};g.cb=function(){var a=(null!=this.Ia?this.Ia.Lh&128||l===this.Ia.je||(this.Ia.Lh?0:Kc(id,this.Ia)):Kc(id,this.Ia))?this.Ia.Na(null):K(this.Ia);return null!=a?new vk(a,null):Pe};g.fa=function(){return this};g.da=function(a,b){return b===this.qc?this:new vk(this.Ia,b)};g.ia=function(a,b){return rf(b,this)};
vk.prototype[Oc]=function(){return Re(this)};function rj(a){return(a=F(a))?new vk(a,null):null}function Qi(a){return sd(a)}var wk=function wk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return wk.Ih(c)};wk.Ih=function(a){return q(Ch(og,a))?v.Dh(function(b,c){return zf.Dh(q(b)?b:V,c)},a):null};wk.Sh=0;wk.ba=function(a){return this.Ih(F(a))};
var xk=function xk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Me(c.slice(1),0,null):null;return xk.Ih(arguments[0],c)};xk.Ih=function(a,b){if(q(Ch(og,b))){var c=function(d,e){var f=rd(e),h=sd(e);return Yf(d,f)?Q.Gh(d,f,function(){var k=B.Dh(d,f);return a.Dh?a.Dh(k,h):a.call(null,k,h)}()):Q.Gh(d,f,h)};return v.Dh(function(d,e){return v.Gh(c,q(d)?d:V,F(e))},b)}return null};xk.Sh=1;xk.ba=function(a){var b=H(a);a=K(a);return this.Ih(b,a)};
function yk(a,b){var c=V;for(b=F(b);;)if(b){var d=H(b),e=B.Gh(a,d,zk);c=vh.Dh(e,zk)?Q.Gh(c,d,e):c;b=K(b)}else return Fd(c,If(a))}function Ak(a){this.iter=a}Ak.prototype.$a=function(){return this.iter.$a()};Ak.prototype.next=function(){if(this.iter.$a())return this.iter.next().key;throw Error("No such element");};Ak.prototype.remove=function(){return Error("Unsupported operation")};function Bk(a,b,c){this.meta=a;this.kd=b;this.Kh=c;this.Lh=15077647;this.Qh=139268}g=Bk.prototype;g.toString=function(){return we(this)};
g.equiv=function(a){return this.$(null,a)};g.keys=function(){return Re(F(this))};g.entries=function(){return new jj(F(F(this)))};g.values=function(){return Re(F(this))};g.has=function(a){return Yf(this,a)};g.forEach=function(a){for(var b=F(this),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null);f=P(f,1,null);a.Dh?a.Dh(f,h):a.call(null,f,h);e+=1}else if(b=F(b))Rf(b)?(c=ke(b),b=le(b),h=c,d=M(c),c=h):(c=H(b),h=P(c,0,null),f=P(c,1,null),a.Dh?a.Dh(f,h):a.call(null,f,h),b=K(b),c=null,d=0),e=0;else return null};
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){a=od(this.kd,b);return q(a)?rd(a):c};g.ma=function(){return new Ak(ue(this.kd))};g.ca=function(){return this.meta};g.ga=function(){return Xc(this.kd)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Ve(this)};g.$=function(a,b){if(Mf(b))if(M(this)===M(b))try{return ng(function(c,d){return(c=Yf(b,d))?c:Ze(!1)},!0,this.kd)}catch(c){if(c instanceof Error)return!1;throw c;}else return!1;else return!1};g.td=function(){return new Dk(ce(this.kd))};
g.Ja=function(){return Fd(Ek,this.meta)};g.rf=function(a,b){return new Bk(this.meta,qd(this.kd,b),null)};g.fa=function(){return qj(this.kd)};g.da=function(a,b){return b===this.meta?this:new Bk(b,this.kd,this.Kh)};g.ia=function(a,b){return new Bk(this.meta,Q.Gh(this.kd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};var Ek=new Bk(null,V,We);function dg(a){for(var b=a.length,c=ce(Ek),d=0;;)if(d<b)de(c,a[d]),d+=1;else break;return ee(c)}Bk.prototype[Oc]=function(){return Re(this)};function Dk(a){this.Nd=a;this.Qh=136;this.Lh=259}g=Dk.prototype;g.ud=function(a,b){this.Nd=jh.Gh(this.Nd,b,null);return this};g.Cd=function(){return new Bk(null,ee(this.Nd),null)};
g.ga=function(){return M(this.Nd)};g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return ld(this.Nd,b,Tf)===Tf?c:b};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return ld(this.Nd,a,Tf)===Tf?null:a};
g.Dh=function(a,b){return ld(this.Nd,a,Tf)===Tf?b:a};function Fk(a){if(Mf(a))return Hf(a,null);a=F(a);if(null==a)return Ek;if(a instanceof Me&&0===a.i)return dg(a.Mh);for(var b=ce(Ek);;)if(null!=a){var c=K(a);b=de(b,gd(a));a=c}else return ee(b)}function Gk(a){return function e(c,d){return new Ug(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=P(k,0,null);if(k=F(k))if(Yf(f,h))h=Oe(k);else{f=rf(h,e(Oe(k),zf.Dh(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Ek)}
function Hk(a){for(var b=Af;;)if(K(a))b=zf.Dh(b,H(a)),a=K(a);else return F(b)}function Tg(a){if(null!=a&&(a.Qh&4096||l===a.kg))return a.he(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",u.Eh(a)].join(""));}function Ik(a,b){var c=ce(V);a=F(a);for(b=F(b);;)if(a&&b)c=jh.Gh(c,H(a),H(b)),a=K(a),b=K(b);else return ee(c)}
var Jk=function Jk(a){switch(arguments.length){case 2:return Jk.Dh(arguments[0],arguments[1]);case 3:return Jk.Gh(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(3),0,null);return Jk.Ih(arguments[0],arguments[1],arguments[2],c)}};Jk.Dh=function(a,b){return b};Jk.Gh=function(a,b,c){return(a.Eh?a.Eh(b):a.call(null,b))>(a.Eh?a.Eh(c):a.call(null,c))?b:c};
Jk.Ih=function(a,b,c,d){return v.Gh(function(e,f){return Jk.Gh(a,e,f)},Jk.Gh(a,b,c),d)};Jk.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);d=K(d);return this.Ih(b,a,c,d)};Jk.Sh=3;function Kk(){this.Mh=[]}g=Kk.prototype;g.add=function(a){return this.Mh.push(a)};g.size=function(){return this.Mh.length};g.clear=function(){return this.Mh=[]};g.isEmpty=function(){return 0===this.Mh.length};g.toArray=function(){return this.Mh};
function Lk(){return function(a){var b=new Kk;return function(){function c(h,k){b.add(k);return 2===b.size()?(k=kg(b.toArray()),b.clear(),a.Dh?a.Dh(h,k):a.call(null,h,k)):h}function d(h){if(!q(b.isEmpty())){var k=kg(b.toArray());b.clear();h=af(a.Dh?a.Dh(h,k):a.call(null,h,k))}return a.Eh?a.Eh(h):a.call(null,h)}function e(){return a.Nh?a.Nh():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+
arguments.length);};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}}function Mk(a,b){return new Ug(null,function(){var c=F(b);if(c){var d=H(c);d=a.Eh?a.Eh(d):a.call(null,d);c=q(d)?rf(H(c),Mk(a,Oe(c))):null}else c=null;return c},null,null)}function Nk(a,b,c){this.start=a;this.step=b;this.count=c;this.Lh=82;this.Qh=0}g=Nk.prototype;g.ga=function(){return this.count};g.Ua=function(){return this.start};g.wa=function(a,b){return this.start+b*this.step};
g.Ra=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.ce=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Nk(this.start+this.step,this.step,this.count-1)};function Ok(a,b,c){this.i=a;this.end=b;this.step=c}Ok.prototype.$a=function(){return 0<this.step?this.i<this.end:this.i>this.end};Ok.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Pk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.$b=e;this.Le=f;this.Kh=h;this.Lh=32375006;this.Qh=140800}g=Pk.prototype;g.toString=function(){return we(this)};g.equiv=function(a){return this.$(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return kf(this,b,0);case 2:return kf(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.Eh=function(b){return kf(this,b,0)};a.Dh=function(b,c){return kf(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return nf(this,c,M(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return nf(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return nf(this,c,d)};return b}();function Qk(a){if(null==a.$b){var b=a.ga(null);32<b?(a.Le=new Pk(null,a.start+32*a.step,a.end,a.step,null,null,null),a.$b=new Nk(a.start,a.step,32)):a.$b=new Nk(a.start,a.step,b)}}
g.wa=function(a,b){if(0<=b&&b<this.ga(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};g.Ra=function(a,b,c){return 0<=b&&b<this.ga(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.ma=function(){return new Ok(this.start,this.end,this.step)};g.ca=function(){return this.meta};
g.Na=function(){return 0<this.step?this.start+this.step<this.end?new Pk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Pk(null,this.start+this.step,this.end,this.step,null,null,null):null};g.ga=function(){return Math.ceil((this.end-this.start)/this.step)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=Te(this)};g.$=function(a,b){return qf(this,b)};g.Ja=function(){return Pe};g.Sa=function(a,b){return cf(this,b)};
g.Ta=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.Dh?b.Dh(c,a):b.call(null,c,a);if($e(c))return z(c);a+=this.step}else return c};g.Ua=function(){return this.start};g.cb=function(){var a=this.Na(null);return null==a?Pe:a};g.fa=function(){return this};g.ee=function(){Qk(this);return this.$b};g.Bd=function(){Qk(this);return null==this.Le?Pe:this.Le};g.da=function(a,b){return b===this.meta?this:new Pk(b,this.start,this.end,this.step,this.$b,this.Le,this.Kh)};
g.ia=function(a,b){return rf(b,this)};g.de=function(){return F(this.Bd(null))};Pk.prototype[Oc]=function(){return Re(this)};var Rk=function Rk(a){switch(arguments.length){case 0:return Rk.Nh();case 1:return Rk.Eh(arguments[0]);case 2:return Rk.Dh(arguments[0],arguments[1]);case 3:return Rk.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Rk.Nh=function(){return Rk.Gh(0,Number.MAX_VALUE,1)};Rk.Eh=function(a){return Rk.Gh(0,a,1)};
Rk.Dh=function(a,b){return Rk.Gh(a,b,1)};Rk.Gh=function(a,b,c){return 0<c?b<=a?Pe:new Pk(null,a,b,c,null,null,null):0>c?b>=a?Pe:new Pk(null,a,b,c,null,null,null):b===a?Pe:ai(a)};Rk.Sh=3;function Sk(a,b){return new Ug(null,function(){var c=F(b);return c?rf(H(c),Sk(a,Xh(a,c))):null},null,null)}function Tk(a,b){return new W(null,2,5,Y,[Mk(a,b),Zh(a,b)],null)}
function Uk(a,b){return new Ug(null,function(){var c=F(b);if(c){var d=H(c),e=a.Eh?a.Eh(d):a.call(null,d),f=rf(d,Mk(function(h){return D.Dh(e,a.Eh?a.Eh(h):a.call(null,h))},K(c)));return rf(f,Uk(a,new Ug(null,function(){return Xh(M(f),c)},null,null)))}return null},null,null)}function Vk(a){return ee(v.Gh(function(b,c){return jh.Gh(b,c,B.Gh(b,c,0)+1)},ce(V),a))}
function Wk(a,b){return function(){function c(m,n,r){return new W(null,2,5,Y,[a.Gh?a.Gh(m,n,r):a.call(null,m,n,r),b.Gh?b.Gh(m,n,r):b.call(null,m,n,r)],null)}function d(m,n){return new W(null,2,5,Y,[a.Dh?a.Dh(m,n):a.call(null,m,n),b.Dh?b.Dh(m,n):b.call(null,m,n)],null)}function e(m){return new W(null,2,5,Y,[a.Eh?a.Eh(m):a.call(null,m),b.Eh?b.Eh(m):b.call(null,m)],null)}function f(){return new W(null,2,5,Y,[a.Nh?a.Nh():a.call(null),b.Nh?b.Nh():b.call(null)],null)}var h=null,k=function(){function m(r,
t,w,y){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new Me(I,0,null)}return n.call(this,r,t,w,E)}function n(r,t,w,y){return new W(null,2,5,Y,[th(a,r,t,w,y),th(b,r,t,w,y)],null)}m.Sh=3;m.ba=function(r){var t=H(r);r=K(r);var w=H(r);r=K(r);var y=H(r);r=Oe(r);return n(t,w,y,r)};m.Ih=n;return m}();h=function(m,n,r,t){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,
m,n,r);default:var w=null;if(3<arguments.length){w=0;for(var y=Array(arguments.length-3);w<y.length;)y[w]=arguments[w+3],++w;w=new Me(y,0,null)}return k.Ih(m,n,r,w)}throw Error("Invalid arity: "+arguments.length);};h.Sh=3;h.ba=k.ba;h.Nh=f;h.Eh=e;h.Dh=d;h.Gh=c;h.Ih=k.Ih;return h}()}function Xk(a){a:for(var b=a;;)if(b=F(b))b=K(b);else break a;return a}
function Yk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&D.Dh(a[0],b)?1===a.length?a[0]:kg(a):null;throw new TypeError("re-matches must match against a string.");}function Zk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:kg(a);throw new TypeError("re-find must match against a string.");}
var $k=function $k(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:kg(d);return rf(f,new Ug(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=Jg.Dh(b,h),$k.Dh?$k.Dh(a,h):$k.call(null,a,h)):null},null,null))};function al(a,b){if("string"===typeof b)return $k(a,b);throw new TypeError("re-seq must match against a string.");}
function bl(a){if(a instanceof RegExp)return a;var b=Zk(/^\(\?([idmsux]*)\)/,a),c=P(b,0,null);b=P(b,1,null);a=Jg.Dh(a,null==c?0:c.length);return new RegExp(a,q(b)?b:"")}
function Z(a,b,c,d,e,f,h){var k=wc;wc=null==wc?null:wc-1;try{if(null!=wc&&0>wc)return Ud(a,"#");Ud(a,c);if(0===Cc.Eh(f))F(h)&&Ud(a,function(){var y=cl.Eh(f);return q(y)?y:"..."}());else{if(F(h)){var m=H(h);b.Gh?b.Gh(m,a,f):b.call(null,m,a,f)}for(var n=K(h),r=Cc.Eh(f)-1;;)if(!n||null!=r&&0===r){F(n)&&0===r&&(Ud(a,d),Ud(a,function(){var y=cl.Eh(f);return q(y)?y:"..."}()));break}else{Ud(a,d);var t=H(n);c=a;h=f;b.Gh?b.Gh(t,c,h):b.call(null,t,c,h);var w=K(n);c=r-1;n=w;r=c}}return Ud(a,e)}finally{wc=k}}
function dl(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);Ud(a,f);e+=1}else if(b=F(b))c=b,Rf(c)?(b=ke(c),d=le(c),c=b,f=M(b),b=d,d=f):(f=H(c),Ud(a,f),b=K(c),c=null,d=0),e=0;else return null}function el(a){if(null==sc)throw Error("No *print-fn* fn set for evaluation environment");sc.call(null,a);return null}var fl={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function gl(a){return['"',u.Eh(a.replace(/[\\"\b\f\n\r\t]/g,function(b){return fl[b]})),'"'].join("")}function hl(a,b){return Vf(B.Dh(a,Ac))?null!=b&&(b.Lh&131072||l===b.ge)?null!=If(b):!1:!1}
function il(a,b,c){if(null==a)return Ud(b,"nil");if(hl(c,a)){Ud(b,"^");var d=If(a);jl.Gh?jl.Gh(d,b,c):jl.call(null,d,b,c);Ud(b," ")}if(a.Lb)return a.Vb(b);if(null!=a?a.Lh&2147483648||l===a.Ka||(a.Lh?0:Kc(Wd,a)):Kc(Wd,a))return Xd(a,b,c);if(!0===a||!1===a)return Ud(b,u.Eh(a));if("number"===typeof a)return Ud(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":u.Eh(a));if(null!=a&&a.constructor===Object)return Ud(b,"#js "),d=Vh.Dh(function(f){return new X(null!=
Yk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,f)?Sg.Eh(f):f,a[f])},qb(a)),kl.Oh?kl.Oh(d,jl,b,c):kl.call(null,d,jl,b,c);if(Fc(a))return Z(b,jl,"#js ["," ","]",c,a);if("string"==typeof a)return q(zc.Eh(c))?Ud(b,gl(a)):Ud(b,a);if(sa(a)){var e=a.name;c=q(function(){var f=null==e;return f?f:Gb(e)}())?"Function":e;return dl(b,O(["#object[",c,q(!1)?[' "',u.Eh(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=u.Eh(f);;)if(f.length<h)f=["0",f].join("");else return f},dl(b,O(['#inst "',
u.Eh(a.getUTCFullYear()),"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return dl(b,O(['#"',a.source,'"']));if(Tc(a))return dl(b,O(["#object[",a.toString(),"]"]));if(q(function(){var f=null==a?null:a.constructor;return null==f?null:f.ub}()))return dl(b,O(["#object[",a.constructor.ub.replace(/\//g,"."),"]"]));e=function(){var f=null==a?null:a.constructor;
return null==f?null:f.name}();c=q(function(){var f=null==e;return f?f:Gb(e)}())?"Object":e;return null==a.constructor?dl(b,O(["#object[",c,"]"])):dl(b,O(["#object[",c," ",u.Eh(a),"]"]))}function jl(a,b,c){var d=ll.Eh(c);return q(d)?(c=Q.Gh(c,ml,il),d.Gh?d.Gh(a,b,c):d.call(null,a,b,c)):il(a,b,c)}
function nl(a,b){var c=new nc,d=new ve(c);a:{jl(H(a),d,b);a=F(K(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h);Ud(d," ");jl(k,d,b);h+=1}else if(a=F(a))e=a,Rf(e)?(a=ke(e),f=le(e),e=a,k=M(a),a=f,f=k):(k=H(e),Ud(d," "),jl(k,d,b),a=K(e),e=null,f=0),h=0;else break a}d.Rc(null);return c}function ol(a,b){return Kf(a)?"":u.Eh(nl(a,b))}function pl(a,b){if(Kf(a))return"\n";a=nl(a,b);a.append("\n");return u.Eh(a)}
var ql=function ql(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return ql.Ih(c)};ql.Ih=function(a){return ol(a,xc())};ql.Sh=0;ql.ba=function(a){return this.Ih(F(a))};var rl=function rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return rl.Ih(c)};rl.Ih=function(a){return pl(a,xc())};rl.Sh=0;rl.ba=function(a){return this.Ih(F(a))};
var sl=function sl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return sl.Ih(c)};sl.Ih=function(a){return ol(a,Q.Gh(xc(),zc,!1))};sl.Sh=0;sl.ba=function(a){return this.Ih(F(a))};var tl=function tl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return tl.Ih(c)};tl.Ih=function(a){return pl(a,Q.Gh(xc(),zc,!1))};tl.Sh=0;tl.ba=function(a){return this.Ih(F(a))};
function ul(a){el(ol(a,xc()));q(tc)&&(a=xc(),el("\n"),B.Dh(a,yc))}function vl(a){return a instanceof A?Ie.Dh(null,Tg(a)):Sg.Dh(null,Tg(a))}
function wl(a){if(q(!1)){var b=F(a),c=F(b),d=H(c);K(c);P(d,0,null);P(d,1,null);c=Cf(a);for(a=null;;){d=a;b=F(b);a=H(b);var e=K(b),f=a;a=P(f,0,null);b=P(f,1,null);if(q(f))if(a instanceof C||a instanceof A)if(q(d))if(D.Dh(d,Qg(a)))c=Q.Gh(c,vl(a),b),a=d,b=e;else return null;else if(d=Qg(a),q(d))c=Q.Gh(c,vl(a),b),a=d,b=e;else return null;else return null;else return new W(null,2,5,Y,[d,c],null)}}else return null}
function xl(a,b,c,d,e){return Z(d,function(f,h,k){var m=rd(f);c.Gh?c.Gh(m,h,k):c.call(null,m,h,k);Ud(h," ");f=sd(f);return c.Gh?c.Gh(f,h,k):c.call(null,f,h,k)},[u.Eh(a),"{"].join(""),", ","}",e,F(b))}function kl(a,b,c,d){var e=Of(a)?wl(a):null,f=P(e,0,null);e=P(e,1,null);return q(f)?xl(["#:",u.Eh(f)].join(""),e,b,c,d):xl(null,a,b,c,d)}Qh.prototype.Ka=l;Qh.prototype.ea=function(a,b,c){Ud(b,"#object[cljs.core.Volatile ");jl(new p(null,1,[yl,this.state],null),b,c);return Ud(b,"]")};Je.prototype.Ka=l;
Je.prototype.ea=function(a,b,c){Ud(b,"#'");return jl(this.Md,b,c)};Me.prototype.Ka=l;Me.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Ug.prototype.Ka=l;Ug.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};X.prototype.Ka=l;X.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};ck.prototype.Ka=l;ck.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Sj.prototype.Ka=l;Sj.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};
gk.prototype.Ka=l;gk.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};lj.prototype.Ka=l;lj.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Se.prototype.Ka=l;Se.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Si.prototype.Ka=l;Si.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Og.prototype.Ka=l;Og.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};pf.prototype.Ka=l;
pf.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Xj.prototype.Ka=l;Xj.prototype.ea=function(a,b,c){return kl(this,jl,b,c)};Uj.prototype.Ka=l;Uj.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Ui.prototype.Ka=l;Ui.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};pk.prototype.Ka=l;pk.prototype.ea=function(a,b,c){return kl(this,jl,b,c)};Bk.prototype.Ka=l;Bk.prototype.ea=function(a,b,c){return Z(b,jl,"#{"," ","}",c,this)};Zg.prototype.Ka=l;
Zg.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Lh.prototype.Ka=l;Lh.prototype.ea=function(a,b,c){Ud(b,"#object[cljs.core.Atom ");jl(new p(null,1,[yl,this.state],null),b,c);return Ud(b,"]")};vk.prototype.Ka=l;vk.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};fk.prototype.Ka=l;fk.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};$h.prototype.Ka=l;$h.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};W.prototype.Ka=l;
W.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};bj.prototype.Ka=l;bj.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Lg.prototype.Ka=l;Lg.prototype.ea=function(a,b){return Ud(b,"()")};cj.prototype.Ka=l;cj.prototype.ea=function(a,b,c){return Z(b,jl,"#queue ["," ","]",c,F(this))};p.prototype.Ka=l;p.prototype.ea=function(a,b,c){return kl(this,jl,b,c)};Pk.prototype.Ka=l;Pk.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};uk.prototype.Ka=l;
uk.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};Bf.prototype.Ka=l;Bf.prototype.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,this)};A.prototype.$c=l;A.prototype.Pc=function(a,b){if(b instanceof A)return He(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};C.prototype.$c=l;C.prototype.Pc=function(a,b){if(b instanceof C)return Pg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};Ui.prototype.$c=l;
Ui.prototype.Pc=function(a,b){if(Qf(b))return fg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};W.prototype.$c=l;W.prototype.Pc=function(a,b){if(Qf(b))return fg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};X.prototype.$c=l;X.prototype.Pc=function(a,b){if(Qf(b))return fg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};gk.prototype.$c=l;
gk.prototype.Pc=function(a,b){if(Qf(b))return fg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};fk.prototype.$c=l;fk.prototype.Pc=function(a,b){if(Qf(b))return fg(this,b);throw Error(["Cannot compare ",u.Eh(this)," to ",u.Eh(b)].join(""));};function zl(a,b){$d(a,b)}function Al(a){this.f=a;this.value=null;this.Lh=2147516416;this.Qh=1}Al.prototype.wb=function(){q(this.f)&&(this.value=this.f.Nh?this.f.Nh():this.f.call(null),this.f=null);return this.value};
Al.prototype.Me=function(){return Hc(this.f)};Al.prototype.ea=function(a,b,c){Ud(b,"#object[cljs.core.Delay ");jl(new p(null,2,[Bl,null==this.f?Cl:Dl,yl,this.value],null),b,c);return Ud(b,"]")};function El(a){return a instanceof Al?z(a):a}function Fl(a){return function(b,c){b=a.Dh?a.Dh(b,c):a.call(null,b,c);return $e(b)?Ze(b):b}}
function Gl(a){var b=Fl(a);return function(){function c(h,k){return v.Gh(b,h,k)}function d(h){return a.Eh?a.Eh(h):a.call(null,h)}function e(){return a.Nh?a.Nh():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Nh=e;f.Eh=d;f.Dh=c;return f}()}function Hl(){}
function Il(a){if(null!=a&&null!=a.bh)a=a.bh(a);else{var b=Il[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=Il._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IEncodeJS.-clj-\x3ejs",a);}return a}function Jl(a,b){return(null!=a?l===a.ah||(a.wd?0:Kc(Hl,a)):Kc(Hl,a))?Il(a):"string"===typeof a||"number"===typeof a||a instanceof C||a instanceof A?b.Eh?b.Eh(a):b.call(null,a):ql.Ih(O([a]))}
var Kl=function Kl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Me(c.slice(1),0,null):null;return Kl.Ih(arguments[0],c)};
Kl.Ih=function(a,b){b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;var c=B.Gh(b,Ll,Tg),d=function h(f){if(null==f)return null;if(null!=f?l===f.ah||(f.wd?0:Kc(Hl,f)):Kc(Hl,f))return Il(f);if(f instanceof C)return c.Eh?c.Eh(f):c.call(null,f);if(f instanceof A)return u.Eh(f);if(Of(f)){var k={};f=F(f);for(var m=null,n=0,r=0;;)if(r<n){var t=m.wa(null,r),w=P(t,0,null);t=P(t,1,null);w=Jl(w,d);t=h(t);k[w]=t;r+=1}else if(f=F(f))Rf(f)?(n=ke(f),f=le(f),m=n,n=M(n)):(n=H(f),m=P(n,0,null),n=P(n,1,null),m=Jl(m,d),n=
h(n),k[m]=n,f=K(f),m=null,n=0),r=0;else break;return k}if(Lf(f)){k=[];f=F(Vh.Dh(h,f));m=null;for(r=n=0;;)if(r<n)w=m.wa(null,r),k.push(w),r+=1;else if(f=F(f))m=f,Rf(m)?(f=ke(m),r=le(m),m=f,n=M(f),f=r):(f=H(m),k.push(f),f=K(m),m=null,n=0),r=0;else break;return k}return f};return d(a)};Kl.Sh=1;Kl.ba=function(a){var b=H(a);a=K(a);return this.Ih(b,a)};function Ml(){}
function Nl(a,b){if(null!=a&&null!=a.$g)a=a.$g(a,b);else{var c=Nl[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=Nl._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Ol(a){var b=O([Pl,!1]),c=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;c=B.Dh(c,Pl);var d=q(c)?Sg:u;return function h(f){return(null!=f?l===f.ui||(f.wd?0:Kc(Ml,f)):Kc(Ml,f))?Nl(f,qh(tk,b)):Uf(f)?Xk(Vh.Dh(h,f)):Oi(f)?new X(h(rd(f)),h(sd(f))):Lf(f)?ki.Gh(Cf(f),Vh.Eh(h),f):Fc(f)?ee(v.Gh(function(k,m){return ih.Dh(k,h(m))},ce(Af),f)):Lc(f)===Object?ee(v.Gh(function(k,m){return jh.Gh(k,d.Eh?d.Eh(m):d.call(null,m),h(rb(f,m)))},ce(V),qb(f))):f}(a)}
function Ql(a){var b=Mh(V);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new Me(h,0,null)}return d.call(this,f)}function d(e){var f=B.Gh(z(b),e,Tf);return f===Tf?(f=qh(a,e),Oh.Oh(b,Q,e,f),f):f}c.Sh=0;c.ba=function(e){e=F(e);return d(e)};c.Ih=d;return c}()}
var Rl=function Rl(a){switch(arguments.length){case 0:return Rl.Nh();case 1:return Rl.Eh(arguments[0]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};Rl.Nh=function(){return Rl.Eh(1)};Rl.Eh=function(a){return Math.random()*a};Rl.Sh=1;function Sl(a){return Math.floor(Math.random()*a)}function Tl(a,b){return ee(v.Gh(function(c,d){var e=a.Eh?a.Eh(d):a.call(null,d);return jh.Gh(c,e,zf.Dh(B.Gh(c,e,Af),d))},ce(V),b))}var Ul=null;
function Vl(){null==Ul&&(Ul=Mh(new p(null,3,[Wl,V,Xl,V,Yl,V],null)));return Ul}function am(a,b,c){var d=D.Dh(b,c);if(d)return d;d=Yl.Eh(a);d=d.Eh?d.Eh(b):d.call(null,b);if(d=Yf(d,c))return d;if(Qf(c))if(Qf(b))if(M(c)===M(b)){d=!0;for(var e=0;;)if(d&&e!==M(c))d=am(a,b.Eh?b.Eh(e):b.call(null,e),c.Eh?c.Eh(e):c.call(null,e)),e+=1;else return d}else return!1;else return!1;else return!1}function bm(a){var b=z(Vl());return wh(B.Dh(Wl.Eh(b),a))}
function cm(a,b,c,d){Oh.Dh(a,function(){return z(b)});Oh.Dh(c,function(){return z(d)})}
var dm=function dm(a,b,c){var e=function(){var f=z(c);return f.Eh?f.Eh(a):f.call(null,a)}();e=q(q(e)?e.Eh?e.Eh(b):e.call(null,b):e)?!0:null;if(q(e))return e;e=function(){for(var f=bm(b);;)if(0<M(f)){var h=H(f);dm.Gh?dm.Gh(a,h,c):dm.call(null,a,h,c);f=Oe(f)}else return null}();if(q(e))return e;e=function(){for(var f=bm(a);;)if(0<M(f)){var h=H(f);dm.Gh?dm.Gh(h,b,c):dm.call(null,h,b,c);f=Oe(f)}else return null}();return q(e)?e:!1};function em(a,b,c,d){c=dm(a,b,c);return q(c)?c:am(d,a,b)}
var fm=function fm(a,b,c,d,e,f,h,k){var n=v.Gh(function(t,w){var y=P(w,0,null);P(w,1,null);if(am(z(c),b,y)){t=null==t||em(y,H(t),e,z(c))?w:t;if(!em(H(t),y,e,z(c)))throw Error(["Multiple methods in multimethod '",u.Eh(a),"' match dispatch value: ",u.Eh(b)," -\x3e ",u.Eh(y)," and ",u.Eh(H(t)),", and neither is preferred"].join(""));return t}return t},null,z(d)),r=function(){if(null==n){var t=z(d);t=t.Eh?t.Eh(k):t.call(null,k)}else t=!1;return q(t)?new W(null,2,5,Y,[k,t],null):n}();if(q(r)){if(D.Dh(z(h),
z(c)))return Oh.Oh(f,Q,b,wf(r)),wf(r);cm(f,d,h,c);return fm.tb?fm.tb(a,b,c,d,e,f,h,k):fm.call(null,a,b,c,d,e,f,h,k)}return null};function gm(a,b,c){if(null!=a&&null!=a.hb)a.hb(a,b,c);else{var d=gm[pa(null==a?null:a)];if(null!=d)d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=gm._,null!=d)d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IMultiFn.-add-method",a);}}function hm(a,b){throw Error(["No method in multimethod '",u.Eh(a),"' for dispatch value: ",u.Eh(b)].join(""));}
function im(a,b,c,d,e,f,h){var k=jm;this.name=a;this.pa=b;this.th=k;this.hierarchy=c;this.af=d;this.hi=e;this.$e=f;this.Ie=h;this.Lh=4194305;this.Qh=4352}g=im.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.Nh();case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);case 3:return this.Gh(arguments[1],arguments[2],arguments[3]);case 4:return this.Oh(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ka(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ya(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Jb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.tb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.Kb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.yb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.zb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.Ab(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.Bb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.Cb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.Db(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.Eb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.Fb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.Gb(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.Hb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.Ib(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.fe(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Nh=function(){var a=this.pa.Nh?this.pa.Nh():this.pa.call(null),b=km(this,a);q(b)||hm(this.name,a);return b.Nh?b.Nh():b.call(null)};g.Eh=function(a){var b=this.pa.Eh?this.pa.Eh(a):this.pa.call(null,a),c=km(this,b);q(c)||hm(this.name,b);return c.Eh?c.Eh(a):c.call(null,a)};
g.Dh=function(a,b){var c=this.pa.Dh?this.pa.Dh(a,b):this.pa.call(null,a,b),d=km(this,c);q(d)||hm(this.name,c);return d.Dh?d.Dh(a,b):d.call(null,a,b)};g.Gh=function(a,b,c){var d=this.pa.Gh?this.pa.Gh(a,b,c):this.pa.call(null,a,b,c),e=km(this,d);q(e)||hm(this.name,d);return e.Gh?e.Gh(a,b,c):e.call(null,a,b,c)};g.Oh=function(a,b,c,d){var e=this.pa.Oh?this.pa.Oh(a,b,c,d):this.pa.call(null,a,b,c,d),f=km(this,e);q(f)||hm(this.name,e);return f.Oh?f.Oh(a,b,c,d):f.call(null,a,b,c,d)};
g.ka=function(a,b,c,d,e){var f=this.pa.ka?this.pa.ka(a,b,c,d,e):this.pa.call(null,a,b,c,d,e),h=km(this,f);q(h)||hm(this.name,f);return h.ka?h.ka(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ya=function(a,b,c,d,e,f){var h=this.pa.Ya?this.pa.Ya(a,b,c,d,e,f):this.pa.call(null,a,b,c,d,e,f),k=km(this,h);q(k)||hm(this.name,h);return k.Ya?k.Ya(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Jb=function(a,b,c,d,e,f,h){var k=this.pa.Jb?this.pa.Jb(a,b,c,d,e,f,h):this.pa.call(null,a,b,c,d,e,f,h),m=km(this,k);q(m)||hm(this.name,k);return m.Jb?m.Jb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.tb=function(a,b,c,d,e,f,h,k){var m=this.pa.tb?this.pa.tb(a,b,c,d,e,f,h,k):this.pa.call(null,a,b,c,d,e,f,h,k),n=km(this,m);q(n)||hm(this.name,m);return n.tb?n.tb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.Kb=function(a,b,c,d,e,f,h,k,m){var n=this.pa.Kb?this.pa.Kb(a,b,c,d,e,f,h,k,m):this.pa.call(null,a,b,c,d,e,f,h,k,m),r=km(this,n);q(r)||hm(this.name,n);return r.Kb?r.Kb(a,b,c,d,e,f,h,k,m):r.call(null,a,b,c,d,e,f,h,k,m)};g.yb=function(a,b,c,d,e,f,h,k,m,n){var r=this.pa.yb?this.pa.yb(a,b,c,d,e,f,h,k,m,n):this.pa.call(null,a,b,c,d,e,f,h,k,m,n),t=km(this,r);q(t)||hm(this.name,r);return t.yb?t.yb(a,b,c,d,e,f,h,k,m,n):t.call(null,a,b,c,d,e,f,h,k,m,n)};
g.zb=function(a,b,c,d,e,f,h,k,m,n,r){var t=this.pa.zb?this.pa.zb(a,b,c,d,e,f,h,k,m,n,r):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r),w=km(this,t);q(w)||hm(this.name,t);return w.zb?w.zb(a,b,c,d,e,f,h,k,m,n,r):w.call(null,a,b,c,d,e,f,h,k,m,n,r)};g.Ab=function(a,b,c,d,e,f,h,k,m,n,r,t){var w=this.pa.Ab?this.pa.Ab(a,b,c,d,e,f,h,k,m,n,r,t):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t),y=km(this,w);q(y)||hm(this.name,w);return y.Ab?y.Ab(a,b,c,d,e,f,h,k,m,n,r,t):y.call(null,a,b,c,d,e,f,h,k,m,n,r,t)};
g.Bb=function(a,b,c,d,e,f,h,k,m,n,r,t,w){var y=this.pa.Bb?this.pa.Bb(a,b,c,d,e,f,h,k,m,n,r,t,w):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w),E=km(this,y);q(E)||hm(this.name,y);return E.Bb?E.Bb(a,b,c,d,e,f,h,k,m,n,r,t,w):E.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w)};
g.Cb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y){var E=this.pa.Cb?this.pa.Cb(a,b,c,d,e,f,h,k,m,n,r,t,w,y):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y),I=km(this,E);q(I)||hm(this.name,E);return I.Cb?I.Cb(a,b,c,d,e,f,h,k,m,n,r,t,w,y):I.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y)};
g.Db=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E){var I=this.pa.Db?this.pa.Db(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E),G=km(this,I);q(G)||hm(this.name,I);return G.Db?G.Db(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E):G.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E)};
g.Eb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I){var G=this.pa.Eb?this.pa.Eb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I),J=km(this,G);q(J)||hm(this.name,G);return J.Eb?J.Eb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I):J.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I)};
g.Fb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G){var J=this.pa.Fb?this.pa.Fb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G),N=km(this,J);q(N)||hm(this.name,J);return N.Fb?N.Fb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G):N.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G)};
g.Gb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J){var N=this.pa.Gb?this.pa.Gb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J),U=km(this,N);q(U)||hm(this.name,N);return U.Gb?U.Gb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J):U.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J)};
g.Hb=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N){var U=this.pa.Hb?this.pa.Hb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N),da=km(this,U);q(da)||hm(this.name,U);return da.Hb?da.Hb(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N):da.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N)};
g.Ib=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U){var da=this.pa.Ib?this.pa.Ib(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U):this.pa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U),wa=km(this,da);q(wa)||hm(this.name,da);return wa.Ib?wa.Ib(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U):wa.call(null,a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U)};
g.fe=function(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da){var wa=uh(this.pa,a,b,c,d,O([e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da])),ma=km(this,wa);q(ma)||hm(this.name,wa);return uh(ma,a,b,c,d,O([e,f,h,k,m,n,r,t,w,y,E,I,G,J,N,U,da]))};g.hb=function(a,b,c){Oh.Oh(this.af,Q,b,c);cm(this.$e,this.af,this.Ie,this.hierarchy);return this};
function km(a,b){D.Dh(z(a.Ie),z(a.hierarchy))||cm(a.$e,a.af,a.Ie,a.hierarchy);var c=z(a.$e);c=c.Eh?c.Eh(b):c.call(null,b);return q(c)?c:fm(a.name,b,a.hierarchy,a.af,a.hi,a.$e,a.Ie,a.th)}g.he=function(){return me(this.name)};g.Uh=function(){return ne(this.name)};g.ha=function(){return va(this)};function lm(a){this.Od=a;this.Kh=null;this.Lh=2153775104;this.Qh=2048}g=lm.prototype;g.toString=function(){return this.Od};g.equiv=function(a){return this.$(null,a)};
g.$=function(a,b){return b instanceof lm&&this.Od===b.Od};g.ea=function(a,b){return Ud(b,['#uuid "',u.Eh(this.Od),'"'].join(""))};g.ha=function(){null==this.Kh&&(this.Kh=Ee(this.Od));return this.Kh};g.Pc=function(a,b){return $a(this.Od,b.Od)};
function mm(){function a(){return Sl(16).toString(16)}var b=(8|3&Sl(16)).toString(16);return new lm([u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-4",u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(b),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a())].join("").toLowerCase())}
function nm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.dg=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}nm.prototype.__proto__=Error.prototype;nm.prototype.Ka=l;
nm.prototype.ea=function(a,b,c){Ud(b,"#error {:message ");jl(this.message,b,c);q(this.data)&&(Ud(b,", :data "),jl(this.data,b,c));q(this.dg)&&(Ud(b,", :cause "),jl(this.dg,b,c));return Ud(b,"}")};nm.prototype.toString=function(){return we(this)};function om(a,b){return new nm(a,b,null)}
function pm(){q(Qc)||(Qc=function(){for(var a=hg(function(e,f){return f.length-e.length},qb(Pc)),b="";;)if(F(a)){var c=K(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),u.Eh(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return Qc}
function qm(a){var b=u.Eh(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(pm(),"g");b=q(Fb(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(q(f))f=P(f,0,null),d=[d,u.Eh(b.substring(e,c.lastIndex-f.length)),u.Eh("$"===f?"/":rb(Pc,f))].join(""),e=c.lastIndex;else{c=[d,u.Eh(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?Ie:u;return a.Eh?a.Eh(c):a.call(null,c)}"undefined"!==typeof console&&Dc();Dc();var rm=new C(null,"ns","ns",441598760),sm=new C(null,"expected","expected",1583670997),tm=new C(null,"components","components",-1073188942),um=new C(null,"data-error","data-error",-1058016301),vm=new C(null,"apparent-success","apparent-success",242592222),wm=new A(null,aa,aa,770546058,null),xm=new C("chsk","error","chsk/error",-984175439),ym=new C(null,"p2","p2",905500641),zm=new A(null,"defrecord*","defrecord*",-1936366207,null),Am=new C(null,"p1","p1",-936759954),Bm=new C(null,"level","level",1290497552),
Cm=new C("db","current-tx","db/current-tx",1600722132),Dm=new C(null,"type-tag","type-tag",-1873863267),Em=new C(null,"?err_","?err_",789480858),Fm=new C(null,"ms","ms",-1152709733),Gm=new C(null,"middleware-fn","middleware-fn",-61585752),ob=new C("widget","zoom","widget/zoom",1173909758),Hm=new C(null,"class-properties","class-properties",1351279702),Im=new C(null,"readers","readers",-2118263030),Jm=new C(null,"line","line",212345235),Km=new A(null,"!\x3d","!\x3d",-201205829,null),Lm=new C("db",
"unique","db/unique",329396388),Mm=new C("db","isComponent","db/isComponent",423352398),Nm=new C(ha,"flush-tuples","datascript.db/flush-tuples",-797350002),Om=new A(null,"ns*","ns*",1840949383,null),Pm=new C(null,"lp-timeout","lp-timeout",1149461302),Qm=new C(null,"start-block-t","start-block-t",-373430594),Rm=new C(null,"limit","limit",-1355822363),Sm=new C(null,"per-line-prefix","per-line-prefix",846941813),Tm=new C(null,"form-str","form-str",871608859),Um=new C("db.type","tuple","db.type/tuple",
938234914),Vm=new C("lookup-ref","unique","lookup-ref/unique",-960647710),Wm=new C(ha,"value-tempids","datascript.db/value-tempids",244806162),Xm=new A(ea,"ends-with?","clojure.string/ends-with?",-745964149,null),Ym=new C(null,"headers","headers",-835030129),Zm=new C(null,"string","string",-1989541586),$m=new C(null,"avet","avet",1383857032),an=new C(null,"data","data",-232669377),bn=new C(null,"factor","factor",-2103172748),cn=new A(null,"identity","identity",-1007039734,null),dn=new A(null,"max",
"max",1701898075,null),en=new C(null,"did-update","did-update",-2143702256),fn=new C(null,"end-line","end-line",1837326455),gn=new A(null,"fn*","fn*",-752876845,null),hn=new C(null,"ks","ks",1900203942),jn=new C(ca,"amp","cljs.spec.alpha/amp",831147508),kn=new C("transact","syntax","transact/syntax",-299207078),ln=new C(null,"abort","abort",521193198),mn=new C(null,"allow","allow",-1857325745),nn=new C(null,"source","source",-433931539),on=new C(null,"done-nl","done-nl",-381024340),pn=new C(null,
"private","private",-558947994),qn=new C(null,"bindings","bindings",1271397192),rn=new C(ca,"alt","cljs.spec.alpha/alt",523685437),sn=new C(null,"?status","?status",938730360),tn=new A(aa,"fn","cljs.core/fn",-1065745098,null),un=new A(null,"median","median",-2084869638,null),Bl=new C(null,"status","status",-1997798413),vn=new C(null,"version","version",425292698),wn=new C(null,"circle","circle",1903212362),vb=new C(null,"htmlFor","htmlFor",-1050291720),Xl=new C(null,"descendants","descendants",1824886031),
xn=new C(null,"report","report",1394055010),yn=new C(null,"strs","strs",1175537277),zn=new C(null,"start","start",-355208981),An=new C(null,"days","days",-1394072564),Bn=new C(null,"ns-whitelist","ns-whitelist",-1717299774),Cn=new A(null,"identical?","identical?",-745864205,null),Dn=new A(null,"complement","complement",-913606051,null),En=new A(aa,"deref","cljs.core/deref",1901963335,null),Fn=new C("transact","cas","transact/cas",816687170),Gn=new C(null,"recur","recur",-437573268),Hn=new C(ca,"nil",
"cljs.spec.alpha/nil",1733813950),In=new C(ca,"kind-form","cljs.spec.alpha/kind-form",-1047104697),Jn=new C("db.fn","cas","db.fn/cas",-379352172),Kn=new C(null,"deny-spec","deny-spec",-1074984268),Ln=new C(null,"port","port",1534937262),Mn=new C("chsk","timeout","chsk/timeout",-319776489),Nn=new C(null,"*?data*","*?data*",1047537922),On=new C(null,"child-context","child-context",-1375270295),Pn=new C(null,"http","http",382524695),Qn=new C(null,"mandatory","mandatory",542802336),Rn=new A(null,"resolve-datom",
"resolve-datom",-294110827,null),Sn=new C(null,"ajax-chsk-opts","ajax-chsk-opts",1602591327),Tn=new C(null,"udt","udt",2011712751),Un=new C(null,"length","length",588987862),Vn=new C(null,"end-column","end-column",1425389514),Wn=new C(null,"appender-id","appender-id",-1917983538),Xn=new A(null,"with-open","with-open",172119667,null),Yn=new C(null,"timeout-ms","timeout-ms",754221406),Zn=new C(null,"ps","ps",292358046),ae=new C("chsk","auto-ajax-downgrade","chsk/auto-ajax-downgrade",-831528080),$n=
new C(null,"opts","opts",155075701),ao=new A(null,"list","list",-1889078086,null),bo=new C(null,"downgrading-ws-to-ajax","downgrading-ws-to-ajax",402136720),co=new C(null,"not-delivered","not-delivered",1599158697),eo=new A(null,"if-not","if-not",-265415609,null),Ob=new C(db,"M","literate.app/M",893000259),fo=new C(null,"blacklist","blacklist",1248093170),go=new C(ia,"expand-rev","datascript.pull-api/expand-rev",2143627459),ho=new C(null,"state","state",-1988618099),io=new C(null,"base-args","base-args",
-1268706822),jo=new C(null,"db-before","db-before",-553691536),ko=new A(null,"\x3d\x3d","\x3d\x3d",-234118149,null),lo=new A(aa,"unquote","cljs.core/unquote",1013085760,null),ro=new C(null,"return-map","return-map",1620104901),zk=new C(aa,"not-found","cljs.core/not-found",-1572889185),so=new C(null,"eids","eids",1546550700),to=new A(null,"compare","compare",1109853757,null),uo=new C(null,"vargs_","vargs_",552132148),vo=new C(null,"server","server",1499190120),wo=new C(null,"expand-rev","expand-rev",
1249112650),xo=new C(null,"def","def",-1043430536),yo=new A(null,"dotimes","dotimes",-818708397,null),zo=new C(null,"raw-console?","raw-console?",-2061489061),Ao=new C(null,"conform-keys","conform-keys",-1800041814),Pb=new C("widget.type","vega-lite","widget.type/vega-lite",1594251738),Bo=new C(null,"exception","exception",-335277064),Co=new C("rum","react-component","rum/react-component",-1879897248),Do=new C(null,"op","op",-1882987955),Eo=new A(null,"finally","finally",-1065347064,null),Fo=new A(null,
"str","str",-1564826950,null),Go=new A(null,"/","/",-1371932971,null),Ho=new A(null,"stddev","stddev",775056588,null),Io=new C(null,"buffering","buffering",-876713613),Jo=new A(aa,"string?","cljs.core/string?",-2072921719,null),Ko=new C("ajax","bad-response-type","ajax/bad-response-type",789441015),Lo=new C("db","tupleAttrs","db/tupleAttrs",250080092),Mo=new C(null,"clean?","clean?",-1675631009),No=new C(null,"tx-meta","tx-meta",1159283194),Oo=new C(null,"prefix-clauses","prefix-clauses",1294180028),
Po=new C(null,"illegal-argument","illegal-argument",-1845493170),Qo=new C("mem","all","mem/all",892075139),Ro=new C(null,"opt-un","opt-un",883442496),So=new C(null,"first-open?","first-open?",396686530),To=new C("chsk","ws-ping","chsk/ws-ping",191675304),Uo=new C(null,"rule","rule",729973257),Vo=new C("debug","timeout","debug/timeout",309499949),Wo=new C("schema","validation","schema/validation",1178447161),Xo=new C(null,"right-margin","right-margin",-810413306),Yo=new C(null,"wildcard?","wildcard?",
-686044101),Zo=new A(null,"pos?","pos?",-244377722,null),$o=new C("query","inputs","query/inputs",1042810394),ap=new C(null,"wrong-id-type","wrong-id-type",-1213601689),bp=new C(null,"exponentchar","exponentchar",1986664222),cp=new C(null,"attribute","attribute",-2074029119),dp=new A(null,"default","default",-347290801,null),ep=new A(ea,"includes?","clojure.string/includes?",-1842146260,null),fp=new C(null,"tx","tx",466630418),gp=new C("taoensso.encore","dynamic","taoensso.encore/dynamic",-1726758399),
hp=new A(null,"locking","locking",1542862874,null),ip=new C(null,"uid","uid",-1447769400),jp=new C(null,"directive","directive",793559132),kp=new A(null,"subs","subs",1453849536,null),mp=new C(null,"seq","seq",-1817803783),np=new C(null,"qname","qname",-1983612179),op=new C(null,"where","where",-2044795965),pp=new A(null,"pr-str","pr-str",-2066912145,null),qp=new C(null,"set","set",304602554),rp=new C(null,"flush?","flush?",-108887231),sp=new A(null,"or-join","or-join",591375469,null),tp=new C(null,
"handshake?","handshake?",-423743093),up=new C(ca,"name","cljs.spec.alpha/name",205233570),vp=new A(null,"sum","sum",1777518341,null),wp=new A(null,"some?","some?",234752293,null),yp=new A(null,"min","min",2085523049,null),zp=new C(null,"handshake","handshake",68079331),Ap=new C(null,"error","error",-978969032),Bp=new C(null,"xhr-pool-depleted","xhr-pool-depleted",-1812092376),Cp=new C(null,"base","base",185279322),Dp=new C(null,"actual","actual",107306363),Ep=new C(null,"event","event",301435442),
qc=new C("widget.type","leaflet","widget.type/leaflet",-1837279356),Fp=new C(null,"noop","noop",-673731258),Gp=new C(null,"trailing-white-space","trailing-white-space",1496006996),Hp=new A(null,"letfn*","letfn*",-110097810,null),Ip=new C(null,"handshake-data","handshake-data",-278378864),Jp=new C(null,"prefix","prefix",-265908465),Kp=new C("parser","binding","parser/binding",-346395752),Lp=new A(null,"$","$",-1580747756,null),Mp=new C("query","binding","query/binding",698240489),Np=new C(null,"right-params",
"right-params",-1790676237),Op=new C(null,"start-pos","start-pos",668789086),Ll=new C(null,"keyword-fn","keyword-fn",-64566675),Pp=new C(null,"first","first",-644103046),Qp=new A(null,"let*","let*",1920721458,null),Jc=new C("widget.type","hiccup","widget.type/hiccup",48060386),dd=new C(null,"for","for",-1323786319),Rp=new C(null,"pathname","pathname",-1420497528),Sp=new A(null,"limit","limit",284709164,null),md=new C("widget","children","widget/children",485181574),Tp=new C("db.fn","retractEntity",
"db.fn/retractEntity",-1423535441),Up=new A(null,"re-seq","re-seq",-2105554076,null),Vp=new A(null,"when-first","when-first",821699168,null),Wp=new C(null,"ns-blacklist","ns-blacklist",1957763142),Xp=new C(null,"?err","?err",549653299),Yp=new C(null,"depth","depth",1768663640),Zp=new C(null,"multi?","multi?",-749311069),$p=new C(null,"onmessage-fn","onmessage-fn",1633804172),aq=new C(null,"?error","?error",1070752222),bq=new C(null,"href","href",-793805698),cq=new A(null,"recur","recur",1202958259,
null),Id=new C("widget.type","markdown","widget.type/markdown",177221797),dq=new A(null,"variance","variance",-1522424942,null),eq=new C(null,"type","type",1174270348),fq=new C(null,"none","none",1333468478),gq=new A(null,"_","_",-1201019570,null),qe=new C(null,"style","style",-496642736),hq=new C(null,"impl_","impl_",1218818179),iq=new C("parser","rule-var","parser/rule-var",-1584354459),jq=new C(null,"reader-error","reader-error",1610253121),kq=new A(null,"v","v",1661996586,null),lq=new C(ca,"op",
"cljs.spec.alpha/op",-1269055252),mq=new A(null,"m","m",-1021758608,null),nq=new A(null,"k","k",-505765866,null),oq=new C(null,"ws","ws",86841443),lp=new C(null,"span","span",1394872991),xp=new C("widget","code","widget/code",-845791534),pq=new C(null,"async?","async?",1523057758),qq=new C("entity-id","missing","entity-id/missing",1234588374),sq=new A(null,"count","count",-514511684,null),tq=new C(null,"no-stacktrace?","no-stacktrace?",1701072694),uq=new C(null,"code","code",1586293142),rq=new C("widget",
"geojson","widget/geojson",-434759602),vq=new C(null,"keys","keys",1068423698),wq=new C(null,"qfind","qfind",1529332972),xq=new C(null,"intra-block-nl","intra-block-nl",1808826875),yq=new C("parser","rule-vars","parser/rule-vars",-1493174969),zq=new C(null,"gen-max","gen-max",-793680445),Ac=new C(null,"meta","meta",1499536964),Aq=new A(null,"not-join","not-join",-645515756,null),Bq=new C(null,"deny","deny",1589338523),Cq=new C(null,"wrap-render","wrap-render",1782000986),js=new C("widget.type","html",
"widget.type/html",-2034153477),Dq=new C(null,"subpattern","subpattern",45002743),Eq=new C(null,"datoms","datoms",-290874434),Fq=new C(null,"search","search",1564939822),ts=new C("literate","widget","literate/widget",-1743430817),Gq=new C(null,"right","right",-452581833),Oq=new A(null,"println-str","println-str",-2049216703,null),Qq=new C(null,"host","host",-1558485167),Rq=new C(null,"err","err",-2089457205),Sq=new A(null,"when","when",1064114221,null),Tq=new A(ca,"coll-of","cljs.spec.alpha/coll-of",
1019430407,null),Uq=new A(aa,"set?","cljs.core/set?",-1176684971,null),Vq=new C(null,"logical-blocks","logical-blocks",-1466339776),Wq=new C(null,"\x3cserver","\x3cserver",-2135373537),Xq=new A(null,"quot","quot",-1125214196,null),Yq=new C(null,"colinc","colinc",-584873385),Zq=new C(null,"auto","auto",-566279492),$q=new C(null,"find","find",496279456),ar=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),br=new C(null,"fatal","fatal",1874419888),cr=new C(null,"logical-block","logical-block",-581022564),
dr=new C(null,"rate-limit","rate-limit",1748082022),er=new A(null,"nil?","nil?",1612038930,null),fr=new C(null,"namespaced-keyword","namespaced-keyword",131372895),gr=new C(null,"your-version","your-version",-351781765),hr=new A(null,"or","or",1876275696,null),ir=new C(null,"col","col",-1959363084),rt=new A(null,"p1__23786#","p1__23786#",-1762224973,null),jr=new C("db","fn","db/fn",-1175261470),kr=new C(null,"?ns-str","?ns-str",2012733966),lr=new C("entity-id","syntax","entity-id/syntax",1921317045),
mr=new C(null,"current","current",-1088038603),nr=new C(null,"writing","writing",-1486865108),or=new C(null,"ch-recv","ch-recv",-990916861),pr=new C(null,"start-col","start-col",668080143),qr=new C(null,"into","into",-150836029),rr=new C(null,"suppress-namespaces","suppress-namespaces",2130686956),sr=new A(null,"set!","set!",250714521,null),tr=new C(null,"uri-str","uri-str",304128675),ur=new C(null,"parent","parent",-878878779),vr=new C(null,"instance-handle_","instance-handle_",-1923384457),wr=new C(null,
"new","new",-2085437848),xr=new C("query","where","query/where",-1935159429),yr=new C("db","retract","db/retract",-1549825231),zr=new C(null,"free","free",801364328),Ar=new A(null,"missing?","missing?",-1710383910,null),Br=new A(aa,"map?","cljs.core/map?",-1390345523,null),Cr=new C(null,"seen","seen",-518999789),Dr=new C(null,"instant","instant",655498374),Er=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Fr=new A(null,"\x26","\x26",-2144855648,null),Gr=new C(null,"ex-kind","ex-kind",1581199296),
Hr=new C(null,"internal","internal",-854870097),Ir=new C(null,"right-bracket","right-bracket",951856080),Jr=new C(null,"last-ws-error","last-ws-error",-820288502),Kr=new C(null,"req-id","req-id",-471642231),Lr=new C(null,"schema","schema",-1582001791),Mr=new C(null,"tx-data","tx-data",934159761),Nr=new C(null,"amp","amp",271690571),Or=new C("db.unique","value","db.unique/value",276903088),Pr=new C(null,"csrf-token","csrf-token",-1872302856),Qr=new C(ca,"cpred","cljs.spec.alpha/cpred",-693471218),
Rr=new C(null,"will-update","will-update",328062998),Sr=new C("chsk","state","chsk/state",-1991397620),Tr=new A(null,"-Inf","-Inf",-2123243689,null),Ur=new C("db","id","db/id",-1388397098),Vr=new C(null,"vars","vars",-2046957217),Wr=new C(null,"any","any",1705907423),Xr=new C(null,"client-uuid","client-uuid",-1717531965),Yr=new C(null,"will-unmount","will-unmount",-808051550),Zr=new A(null,"name","name",-810760592,null),$r=new C(null,"operation","operation",-1267664310),as=new C(null,"after-render",
"after-render",1997533433),jm=new C(null,"default","default",-1987822328),bs=new C(null,"secs","secs",1532330091),cs=new A("clojure.core","deref","clojure.core/deref",188719157,null),ds=new C(null,"padchar","padchar",2018584530),es=new C(null,"unexpected","unexpected",-1137752424),fs=new C(null,"elidable?","elidable?",248362249),gs=new C(null,"cache?","cache?",-1601953949),Cc=new C(null,"print-length","print-length",1931866356),hs=new C(null,"nil","nil",99600501),is=new A(null,"odd?","odd?",-1458588199,
null),ks=new C(null,"*","*",-1294732318),ls=new C(null,"json","json",1279968570),ms=new C(null,"allow-spec","allow-spec",448749872),ns=new C("db","retractEntity","db/retractEntity",-1452737935),os=new C(null,"no-op","no-op",-93046065),ps=new A(null,"zero?","zero?",325758897,null),qs=new C(null,"buffer-block","buffer-block",-10937307),rs=new C(null,"reader-exception","reader-exception",-1938323098),ss=new C(null,"remaining-arg-count","remaining-arg-count",-1216589335),us=new C(null,"recursion","recursion",
-749738765),vs=new A(null,"-","-",-471816912,null),ws=new C(null,"req-un","req-un",1074571008),xs=new A(null,"keyword","keyword",-1843046022,null),ys=new C(null,"forms","forms",2045992350),zs=new C("db","attrTuples","db/attrTuples",860541631),As=new C(null,"cur","cur",1153190599),Bs=new C(null,"init","init",-1875481434),Cs=new C(null,"branches","branches",-1240337268),Ds=new A(null,"def","def",597100991,null),Es=new A(null,"dec","dec",-766002333,null),Fs=new C(ha,"internal","datascript.db/internal",
-249301114),Gs=new A(null,"rand","rand",-1745930995,null),Hs=new C("rum","class","rum/class",-2030775258),Pl=new C(null,"keywordize-keys","keywordize-keys",1310784252),st=new C("widget","type","widget/type",-1894308144),Is=new C(null,"pos","pos",-864607220),Js=new C(ca,"v","cljs.spec.alpha/v",552625740),Ks=new C("transact","upsert","transact/upsert",412688078),Ls=new C(ca,"k","cljs.spec.alpha/k",-1602615178),Ms=new C(null,"kvps","kvps",65308317),Ns=new C(null,"info","info",-317069002),Os=new C(null,
"output-fn","output-fn",1600951539),Ps=new A(null,"set","set",1945134081,null),Qs=new C(null,"commainterval","commainterval",-1980061083),Rs=new C("mem","del","mem/del",574870667),Ss=new C("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Ts=new C(null,"elements","elements",657646735),Us=new C(null,"send-buffers","send-buffers",-1788003787),Vs=new C(null,"total","total",1916810418),Ws=new C(null,"separator","separator",-1628749125),Xs=new A("datascript","Datom","datascript/Datom",-901340080,
null),Ys=new A(null,"defonce","defonce",-1681484013,null),Zs=new C(null,"?content","?content",1697782054),$s=new A(null,"%","%",-950237169,null),at=new C(null,"form","form",-1624062471),bt=new C(null,"pretty-writer","pretty-writer",-1222834267),ct=new A(null,"..","..",-300507420,null),dt=new C(ha,"tx-redundant","datascript.db/tx-redundant",-1117921977),et=new C(null,"length-computable?","length-computable?",1915473276),ft=new A(null,"not\x3d","not\x3d",1466536204,null),gt=new C(null,"validator","validator",
-1966190681),ht=new C(null,"pretty","pretty",-1916372486),it=new C(null,"unnamespaced-id","unnamespaced-id",1976189772),jt=new C(null,"buffer-level","buffer-level",928864731),kt=new A(null,"range","range",-1014743483,null),lt=new A(ea,"blank?","clojure.string/blank?",1772874244,null),mt=new C("rl","all","rl/all",892118056),nt=new C(null,"ever-opened?","ever-opened?",1128459732),ot=new C(null,"fragment","fragment",826775688),Dl=new C(null,"pending","pending",-220036727),pt=new C(ca,"invalid","cljs.spec.alpha/invalid",
-1220295119),qt=new C(ca,"pcat","cljs.spec.alpha/pcat",26406623),zc=new C(null,"readably","readably",1129599760),tt=new C(null,"chsk","chsk",-863703081),ut=new C(null,"file","file",-1269645878),vt=new C(null,"error-handler","error-handler",-484945776),wt=new C(null,"rschema","rschema",-1196134054),xt=new C(null,"progress-fn","progress-fn",-1146547855),yt=new C(null,"fill","fill",883462889),Dt=new C("widget","center","widget/center",9752908),cu=new C("widget","html","widget/html",-1786567845),zt=new C(null,
"client-id","client-id",-464622140),At=new C(null,"attrs","attrs",-2090668713),Bt=new C(ia,"recursion","datascript.pull-api/recursion",-1897884534),Ct=new C(null,"months","months",-45571637),Et=new C(null,"radix","radix",857016463),Ft=new C(null,"send-fn","send-fn",351002041),Gt=new C("parser","with","parser/with",-386255821),Ht=new C(null,"text","text",-1790561697),It=new C(null,"distinct","distinct",-1788879121),Jt=new C(null,"ns-str","ns-str",-2062616499),Mt=new A(null,"uuid","uuid",-504564192,
null),Ot=new C(null,"udt-last-comms_","udt-last-comms_",-145799639),Pt=new C(null,"entity-id","entity-id",1485898093),Qt=new C(null,"wildcard","wildcard",-622473020),Rt=new A(null,"queue","queue",-1198599890,null),St=new C(null,"block","block",664686210),Tt=new C(null,"else","else",-1508377146),Ut=new C(null,"variable","variable",-281346492),Vt=new A(null,"case*","case*",-1938255072,null),Wt=new C(null,"params","params",710516235),Yl=new C(null,"ancestors","ancestors",-776045424),Xt=new C(null,"tuples",
"tuples",-676032639),Yt=new C(null,"listeners","listeners",394544445),Zt=new C(null,"retry-count_","retry-count_",20238093),$t=new C("db","cardinality","db/cardinality",-104975659),au=new A(null,"struct-map","struct-map",-1387540878,null),bu=new C(null,"hostname","hostname",2105669933),du=new C(null,"rest","rest",-1241696419),eu=new C(null,"min-remaining","min-remaining",962687677),fu=new C(null,"?data","?data",-9471433),gu=new C(null,"offset","offset",296498311),hu=new C(null,"var","var",-769682797),
iu=new C(null,"commachar","commachar",652859327),ju=new C(null,"error-level?","error-level?",778415885),Fu=new C(null,"content","content",15833224),ku=new C(null,"ring-req","ring-req",-747861961),lu=new C(null,"loaded","loaded",-1246482293),mu=new A(null,"re-find","re-find",1143444147,null),yl=new C(null,"val","val",128701612),nu=new A(aa,"zipmap","cljs.core/zipmap",-1902130674,null),ou=new A(null,"-\x3e","-\x3e",-2139605430,null),pu=new C(null,"db-after","db-after",-571884666),qu=new C(null,"entity",
"entity",-450970276),ru=new C(null,"timeout","timeout",-318625318),su=new C(null,"arglists","arglists",1661989754),tu=new A(null,"js*","js*",-1134233646,null),uu=new C(null,"end-pos","end-pos",-1643883926),vu=new C(null,"min-version","min-version",-1697197126),wu=new C(null,"pred-forms","pred-forms",172611832),xu=new C(null,"hours","hours",58380855),yu=new C(null,"trace-evs?","trace-evs?",1502453512),zu=new A(null,"catch","catch",-1616370245,null),Au=new A(null,"tuple","tuple",1167864243,null),Bu=
new A(null,"count-distinct","count-distinct",-1566572514,null),Cu=new C(null,"get","get",1683182755),Du=new C(ca,"kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Eu=new C(null,"kind","kind",-717265803),Gu=new C(null,"method","method",55703592),Hu=new C(null,"val-type","val-type",-279850094),Iu=new A(null,"defn","defn",-126010802,null),Ju=new C(null,"specs","specs",1426570741),Ku=new A(null,"struct","struct",325972931,null),Lu=new C("db.fn","call","db.fn/call",-151594418),Xu=new C("widget.type",
"code","widget.type/code",-673996494),Mu=new C(null,"gfn","gfn",791517474),Nu=new C(null,"years","years",-1298579689),Ou=new C(null,"namespaced-map","namespaced-map",1235665380),Pu=new A(null,"prn-str","prn-str",-145225943,null),Qu=new C(ca,"accept","cljs.spec.alpha/accept",370988198),Ru=new A(null,"...","...",-1926939749,null),pv=new C("widget","style","widget/style",963211268),Su=new C(null,"onerror-fn","onerror-fn",1069372505),Tu=new C(null,"xhr","xhr",-177710851),Uu=new C(null,"eavt","eavt",-666437073),
Vu=new C(null,"mins","mins",467369676),Wu=new C(null,"tag","tag",-1290361223),Yu=new C(null,"hostname_","hostname_",-2091647379),Zu=new C(null,"linear","linear",872268697),$u=new A(null,"new","new",-444906321,null),av=new C("db","cas","db/cas",-451542322),bv=new C(null,"other","other",995793544),cv=new A(null,"\x3e","\x3e",1085014381,null),dv=new C(null,"?msg-fmt","?msg-fmt",-852453891),ev=new C(null,"sections","sections",-886710106),fv=new C(null,"lines","lines",-700165781),gv=new A(null,"do","do",
1686842252,null),hv=new C(null,"colon","colon",-965200945),Ww=new C("literate","widgets","literate/widgets",1235755088),iv=new C(null,"edn","edn",1317840885),jv=new C(null,"keys-pred","keys-pred",858984739),gx=new C("widget.type","identicon","widget.type/identicon",-1604205816),kv=new C(null,"?line","?line",-631853385),lv=new C(null,"test","test",577538877),mv=new A(null,"\x3d","\x3d",-1501502141,null),nx=new A(null,"p1__23787#","p1__23787#",-1422548571,null),nv=new C(null,"minpad","minpad",323570901),
ov=new A("datascript","DB","datascript/DB",-487332776,null),ll=new C(null,"alt-impl","alt-impl",670969595),qv=new A(null,"not-empty","not-empty",2029453590,null),rv=new C(null,"conflict","conflict",1978796605),sv=new C(null,"datom","datom",-371556090),tv=new A(ca,"keys","cljs.spec.alpha/keys",1109346032,null),uv=new C(null,"given","given",716253602),vv=new C(null,"did-remount","did-remount",1362550500),wv=new A(null,"db","db",-1661185010,null),xv=new A(null,"with-local-vars","with-local-vars",837642072,
null),yv=new C(null,"did-catch","did-catch",2139522313),zv=new A(null,"aggregate","aggregate",-1142967327,null),Av=new C(null,"udt-next-reconnect","udt-next-reconnect",-1990375733),Bv=new A(null,"and","and",668631710,null),Cv=new A(null,"try","try",-1273693247,null),Dv=new C(null,"location","location",1815599388),Ev=new C(null,"xml","xml",-1170142052),Fv=new A(null,"throw","throw",595905694,null),Gv=new C(null,"before-render","before-render",71256781),Fx=new C("widget.identicon","hash-or-value","widget.identicon/hash-or-value",
1817940673),Hv=new A(null,"array-map","array-map",1555038968,null),Iv=new C(null,"?reply-fn","?reply-fn",-1479510592),Jv=new A(null,"let","let",358118826,null),yc=new C(null,"flush-on-newline","flush-on-newline",-151457939),Kv=new A(null,"print-str","print-str",-699700354,null),Lv=new C(null,"opt-specs","opt-specs",-384905450),Mv=new A(null,"meta","meta",-1154898805,null),Nv=new C(null,"wrong-length","wrong-length",1367572281),Ov=new C(null,"rules","rules",1198912366),Pv=new C(null,"rels","rels",
1770187185),Qv=new C(null,"pred-exprs","pred-exprs",1792271395),Rv=new A(null,"if","if",1181717262,null),Sv=new A(null,"get-some","get-some",409442058,null),Tv=new C("rum","args","rum/args",1315791754),Uv=new C(null,"binding","binding",539932593),Vv=new C(null,"character","character",380652989),Wv=new C(ca,"kfn","cljs.spec.alpha/kfn",672643897),Xv=new C(null,"eid","eid",559519930),Yv=new C(null,"wrap-recv-evs?","wrap-recv-evs?",-1996694153),Zv=new A(null,"hash-map","hash-map",-439030950,null),$v=
new A(null,"loop*","loop*",615029416,null),aw=new C(null,"min-count","min-count",1594709013),bw=new C(null,"last","last",1105735132),cw=new A(null,"quote","quote",1377916282,null),dw=new A(aa,"vector?","cljs.core/vector?",-1550392028,null),ew=new A(aa,"lift-ns","cljs.core/lift-ns",463499081,null),fw=new C(null,"k","k",-2146297393),gw=new C(null,"hierarchy","hierarchy",-1053470341),hw=new C(null,"qreturn-map","qreturn-map",1841215994),iw=new C(null,"e","e",1381269198),jw=new C(null,"f","f",-1597136552),
kw=new C(null,"trace","trace",-1082747415),lw=new C(null,"d","d",1972142424),mw=new C(null,"a","a",-2123407586),nw=new C("rl","reset","rl/reset",-800926172),ow=new A(null,"pull","pull",779986722,null),pw=new C(null,"ajax-cb","ajax-cb",-807060321),qw=new A(ea,"starts-with?","clojure.string/starts-with?",656256322,null),rw=new C(null,"w","w",354169001),sw=new A(null,"fn","fn",465265323,null),tw=new C(null,"v","v",21465059),ry=new C(db,"geojson-layer","literate.app/geojson-layer",-1636567316),uw=new C(null,
"last-close","last-close",-2054255782),vw=new C(null,"strable","strable",1877668047),ww=new C(null,"p","p",151049309),xw=new C(null,"n","n",562130025),gz=new C(db,"tile-layer","literate.app/tile-layer",-1851953253),yw=new C(null,"func","func",-238706040),zw=new C(null,"symbol","symbol",-1038572696),Aw=new C(null,"got","got",-1674745710),Bw=new A(aa,"contains?","cljs.core/contains?",-976526835,null),Cw=new C(null,"indent-t","indent-t",528318969),Dw=new A(null,"lift-ns","lift-ns",602311926,null),Ew=
new C(null,"middleware","middleware",1462115504),Fw=new C(null,"value","value",305978217),Gw=new C(null,"ws-chsk-opts","ws-chsk-opts",-1990170104),ml=new C(null,"fallback-impl","fallback-impl",-1501286995),Hw=new C(null,"sources","sources",-321166424),Iw=new C(null,"enabled?","enabled?",-1376075057),Jw=new A(null,"ns","ns",2082130287,null),Kw=new C(null,"req","req",-326448303),Fz=new C(null,"height","height",1025178622),Lw=new C(null,"ret","ret",-468222814),Mw=new C("parser","rule","parser/rule",
-464044566),Nw=new C(null,"done","done",-889844188),Ow=new C(null,"chs","chs",376886120),Pw=new C(null,"both","both",-393648840),Qw=new C(null,"debug","debug",-1608172596),Rw=new C(null,"vector","vector",1902966158),Sw=new C(null,"req-specs","req-specs",553962313),Tw=new C(null,"end","end",-268185958),Uw=new C(null,"wrong-type","wrong-type",929556915),Vw=new C(null,"connected-uids","connected-uids",1454332231),Xw=new A(null,"distinct","distinct",-148347594,null),Yw=new A(null,"get-else","get-else",
1312024065,null),qB=new C(null,"className","className",-1983287057),Zw=new C(null,"buffer-blob","buffer-blob",-1830112173),$w=new C(null,"allows-separator","allows-separator",-818967742),ax=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),bx=new C(null,"appenders","appenders",1245583998),cx=new C(null,"colon-up-arrow","colon-up-arrow",244853007),dx=new A(null,"*","*",345799209,null),ex=new C("rl","peek","rl/peek",-291391771),fx=new C(null,"flags","flags",1775418075),hx=new C(null,
"eof","eof",-489063237),ix=new A(null,"-differ?","-differ?",1465687357,null),jx=new C(null,"ws-kalive-ms","ws-kalive-ms",1442179968),kx=new A(null,"js","js",-886355190,null),lx=new C(null,"relative-to","relative-to",-470100051),mx=new A(null,"doseq","doseq",221164135,null),MB=new C("widget","parent","widget/parent",-1665940103),ox=new A(null,"avg","avg",1837937727,null),px=new A(ca,"conformer","cljs.spec.alpha/conformer",2140085535,null),qx=new A(null,"not","not",1044554643,null),rx=new A(aa,"list?",
"cljs.core/list?",-684796618,null),sx=new C(null,"max-eid","max-eid",2134868075),tx=new C(null,"expand-kvps","expand-kvps",44141154),ux=new C(null,"unknown","unknown",-935977881),cl=new C(null,"more-marker","more-marker",-14717935),vx=new C(null,"index-access","index-access",-1548960265),wx=new C(null,"X-CSRF-Token","X-CSRF-Token",1562992453),xx=new C("parser","where","parser/where",-966053850),yx=new C(null,"aevt","aevt",-585148059),zx=new C(null,"used-args","used-args",23596256),Ax=new C(null,"nl-t",
"nl-t",-1608382114),Bx=new C(null,"symbols","symbols",1211743),Cx=new A(null,"var","var",870848730,null),Dx=new C(null,"qualifier","qualifier",125841738),Ex=new C(null,"attr","attr",-604132353),Gx=new C(null,"doc","doc",1913296891),Hx=new C("chsk","bad-package","chsk/bad-package",501893679),Ix=new C(null,"cbs-waiting_","cbs-waiting_",-1519029061),Cl=new C(null,"ready","ready",1086465795),Jx=new A(null,"neg?","neg?",-1902175577,null),Kx=new C(null,"hash_","hash_",-827203612),Lx=new C(null,"http-error",
"http-error",-1040049553),Mx=new C("db.cardinality","one","db.cardinality/one",1428352190),Nx=new A(null,"untuple","untuple",-606149900,null),Ox=new C("parser","query","parser/query",1877320671),Px=new C(ca,"gfn","cljs.spec.alpha/gfn",-593120375),Qx=new C(null,"added","added",2057651688),Rx=new C(null,"?file","?file",1533429675),Sx=new A(null,"mod","mod",1510044207,null),Tx=new C(null,"qin","qin",1372651151),Ux=new A(null,"cond","cond",1606708055,null),Vx=new A(null,"\x3c","\x3c",993667236,null),
Wx=new C(null,"map","map",1371690461),Xx=new C(null,"open?","open?",1238443125),Yx=new C(null,"element","element",1974019749),Zx=new C(null,"char-format","char-format",-1016499218),$x=new A(null,"type","type",-1480165421,null),ay=new C("parser","pull","parser/pull",-2147427204),by=new C(null,"mode","mode",654403691),cy=new C(null,"max-columns","max-columns",1742323262),dy=new C(null,"will-mount","will-mount",-434633071),ey=new C(null,"max","max",61366548),fy=new C(null,"pending-guards","pending-guards",
-1255527308),NB=new C("widget.identicon","size","widget.identicon/size",-1395443248),gy=new C(null,"last-ws-close","last-ws-close",-798104932),hy=new A(null,"when-let","when-let",-1383043480,null),iy=new C("db","index","db/index",-1531680669),jy=new C(null,"url","url",276297046),ky=new C(null,"rattr","rattr",-1122345563),ly=new C(null,"qwhere","qwhere",-1645067378),my=new C(null,"count","count",2139924085),ny=new C(null,"clauses","clauses",1454841241),oy=new A(null,"empty?","empty?",76408555,null),
py=new A(null,"re-matches","re-matches",-1865705768,null),qy=new C(null,"static-properties","static-properties",-577838503),sy=new C(null,"ever-opened?_","ever-opened?_",1641338913),ty=new C(null,"miser-width","miser-width",-1310049437),uy=new C(null,"expand","expand",595248157),vy=new A(null,"binding","binding",-2114503176,null),wy=new A(null,"ground","ground",-1460862835,null),xy=new C(null,"state_","state_",957667102),yy=new C("rum","component-stack","rum/component-stack",2037541138),zy=new C(null,
"index","index",-1531685915),OB=new C(null,"class","class",-2030961996),Ay=new C(null,"packer","packer",66077544),By=new C("db.unique","identity","db.unique/identity",1675950722),Cy=new C(null,"success?","success?",-122854052),Dy=new C(ha,"queued-tuples","datascript.db/queued-tuples",-762852029),Ey=new A(null,".",".",1975675962,null),Fy=new C(null,"at","at",1476951349),Gy=new C("transact","unique","transact/unique",-940992320),Hy=new C(null,"splice","splice",449588165),Iy=new C(null,"dispatch","dispatch",
1319337009),Jy=new A(null,"inst","inst",-2008473268,null),Ky=new C(ca,"describe","cljs.spec.alpha/describe",1883026911),Ly=new A(null,"sample","sample",1719555128,null),PB=new C("widget","markdown","widget/markdown",-145862203),My=new C(null,"max-tx","max-tx",1119558339),Sy=new C("lookup-ref","syntax","lookup-ref/syntax",-317304012),Ty=new C(null,"as","as",1148689641),Uy=new C(null,"?meta","?meta",-793560773),Vy=new C(null,"name","name",1843675177),Wy=new C(null,"syms","syms",-1575891762),Xy=new C(null,
"vargs","vargs",-966597273),Yy=new C("chsk","bad-event","chsk/bad-event",-565206930),Zy=new C("db.type","ref","db.type/ref",-1728373079),$y=new C(null,"queue","queue",1455835879),az=new C(null,"stacktrace-fonts","stacktrace-fonts",830799382),bz=new C(null,"warn","warn",-436710552),cz=new A(null,"loop","loop",1244978678,null),dz=new C("parser","find","parser/find",-801023103),ez=new C(null,"appender","appender",1267426510),fz=new C(null,"selector","selector",762528866),hz=new C(null,"key-fn","key-fn",
-636154479),iz=new C(null,"parameter-from-args","parameter-from-args",-758446196),jz=new C(null,"miser","miser",-556060186),kz=new C("mem","fresh","mem/fresh",-1179989133),lz=new C(null,"ajax","ajax",814345549),mz=new A(null,"inc","inc",324505433,null),nz=new C(null,"rule-vars","rule-vars",1665972520),oz=new C(null,"backoff-ms-fn","backoff-ms-fn",772895955),pz=new C(null,"context","context",-830191113),qz=new C(null,"chsk-url-fn","chsk-url-fn",1968894294),rz=new C(null,"colnum","colnum",2023796854),
sz=new C(null,"raw-resp","raw-resp",-1924342506),tz=new C(null,"section","section",-300141526),uz=new C(null,"bracket-info","bracket-info",-1600092774),vz=new A(null,"even?","even?",-1827825394,null),wz=new A(null,"Inf","Inf",647172781,null),xz=new A(aa,"map","cljs.core/map",-338988913,null),yz=new C(null,"did-mount","did-mount",918232960),Bc=new C(null,"dup","dup",556298533),zz=new C(null,"prefix-context","prefix-context",-1269613591),Az=new C(null,"init-db","init-db",1595181278),Bz=new C(null,"should-update",
"should-update",-1292781795),Cz=new C(null,"timestamp_","timestamp_",-954533417),Dz=new C("ajax","resp-as-text","ajax/resp-as-text",141416819),Ez=new C(null,"socket_","socket_",-361048908),Gz=new C(ca,"rep","cljs.spec.alpha/rep",1483217317),Hz=new C(null,"fn","fn",-1175266204),Iz=new C(null,"args","args",1315556576),Jz=new C(null,"suffix","suffix",367373057),Kz=new C(null,"old","old",-1825222690),Lz=new C(null,"qwith","qwith",-45809392),Mz=new A(null,"defn-","defn-",1097765044,null),Nz=new C(null,
"pattern","pattern",242135423),dC=new C(null,"div.p-2","div.p-2",-325121057),Oz=new C(null,"required","required",1807647006),Pz=new C(null,"priority","priority",1431093715),Qz=new C(null,"buffer","buffer",617295198),Rz=new C(null,"inherit","inherit",-1840815422),Sz=new C(null,"msg_","msg_",-1925147E3),Tz=new C(null,"opt-keys","opt-keys",1262688261),Uz=new A(null,"when-not","when-not",-1223136340,null),Vz=new C(null,"ev","ev",-406827324),Wz=new C(null,"console","console",1228072057),Xz=new C("parser",
"in","parser/in",1617442048),Yz=new C(null,"hash","hash",-13781596),Zz=new A(null,"namespace","namespace",1263021155,null),$z=new C(null,"?content-type","?content-type",-2129759049),aA=new C(null,"post","post",269697687),bA=new C(null,"simple-auto-threading?","simple-auto-threading?",1950754184),cA=new C(null,"arg3","arg3",-1486822496),dA=new C(null,"min-level","min-level",1634684919),eA=new C(null,"arg1","arg1",951899358),fA=new C("db","valueType","db/valueType",1827971944),gA=new C(null,"arg2",
"arg2",1729550917),hA=new C(null,"list","list",765357683),iA=new C("db","ident","db/ident",-737096),jA=new C(null,"dt","dt",-368444759),kA=new C(null,"min","min",444991522),lA=new C("literate","!transact","literate/!transact",758397308),mA=new A(null,"re-pattern","re-pattern",1047705161,null),nA=new C(null,"column","column",2078222095),oA=new C(null,"key","key",-1516042587),pA=new A(null,"rand-int","rand-int",-495012157,null),qA=new C("chsk","recv","chsk/recv",561097091),rA=new C(null,"up-arrow",
"up-arrow",1705310333),sA=new A(null,"contains?","contains?",-1676812576,null),tA=new A(null,"true?","true?",-1600332395,null),uA=new C(null,"?ratio","?ratio",-1275760831),vA=new A(null,"+","+",-740910886,null),wA=new C(null,"generator-fn","generator-fn",811851656),xA=new C(null,"req-keys","req-keys",514319221),yA=new C(null,"logical-block-callback","logical-block-callback",1612691194),zA=new C(null,"resp-type","resp-type",1050675962),AA=new C("db.cardinality","many","db.cardinality/many",772806234),
BA=new C(null,"weeks","weeks",1844596125),CA=new C(null,"overflowchar","overflowchar",-1620088106),DA=new C(null,"with","with",-1536296876),EA=new C(null,"cb","cb",589947841),FA=new C("swap","dissoc","swap/dissoc",-605373782),GA=new C(null,"ppstr","ppstr",1557495252),Wl=new C(null,"parents","parents",-2027538891),HA=new C("chsk","handshake","chsk/handshake",64910686),IA=new C(null,"with-credentials?","with-credentials?",-1773202222),JA=new C(null,"mincol","mincol",1230695445),KA=new C(null,"protocol",
"protocol",652470118),LA=new C(null,"curr-xhr_","curr-xhr_",-1318773696),MA=new A(null,"if-let","if-let",1803593690,null),NA=new C(null,"*assert*","*assert*",-160895053),OA=new C("chsk","dummy-cb-200","chsk/dummy-cb-200",-1663130337),PA=new A(null,"condp","condp",1054325175,null),QA=new A(null,"rem","rem",664046770,null),BC=new C("widget","vega-lite-spec","widget/vega-lite-spec",1203345650),RA=new C(null,"deref","deref",-145586795),SA=new C(null,"in","in",-1531184865),TA=new C(ca,"unknown","cljs.spec.alpha/unknown",
651034818),UA=new C(null,"max-iterations","max-iterations",2021275563),VA=new C(null,"output_","output_",-36797880),WA=new C(null,"opt","opt",-794706369),XA=new C(null,"reason","reason",-2070751759),YA=new C(null,"assertion","assertion",-1645134882),ZA=new C(null,"config","config",994861415),$A=new C(null,"id","id",-1388402092),aB=new A(null,"?e","?e",-1194391683,null),bB=new C(null,"onclose-fn","onclose-fn",-1388163785),cB=new C(null,"stream","stream",1534941648),dB=new C(null,"results","results",
-1134170113),eB=new A(null,"false?","false?",-1522377573,null),CC=new C("widget","uuid","widget/uuid",-585315811),fB=new A(null,"deftype*","deftype*",962659890,null),gB=new C(null,"rep+","rep+",-281382396),hB=new C(null,"ajax-opts","ajax-opts",-518239109),iB=new A(null,"NaN","NaN",666918153,null),jB=new C(null,"indent","indent",-148200125),kB=new C("chsk","closed","chsk/closed",-922855264),lB=new C(null,"msecs","msecs",1711980553),mB=new A(null,"defmacro","defmacro",2054157304,null),nB=new C("db",
"add","db/add",235286841),oB=new A(null,"vector","vector",-751469611,null),pB=new C(null,"recv-buf-or-n","recv-buf-or-n",1363950355),rB=new C(null,"porrl","porrl",-1693905102),sB=new C(ca,"conform-all","cljs.spec.alpha/conform-all",45201917),tB=new C(null,"else-params","else-params",-832171646),uB=new C(null,"keyword","keyword",811389747),vB=new C(null,"whitelist","whitelist",-979294437),wB=new C(null,"end-block-t","end-block-t",1544648735),xB=new C(null,"tempids","tempids",1767509089),yB=new C(null,
"errors","errors",-908790718),zB=new C(null,"max-count","max-count",1539185305);function AB(a,b,c){if(Kg(c)){var d=qh(Ng,Vh.Dh(a,c));return b.Eh?b.Eh(d):b.call(null,d)}return Oi(c)?(d=new X(function(){var e=rd(c);return a.Eh?a.Eh(e):a.call(null,e)}(),function(){var e=sd(c);return a.Eh?a.Eh(e):a.call(null,e)}()),b.Eh?b.Eh(d):b.call(null,d)):Uf(c)?(d=Xk(Vh.Dh(a,c)),b.Eh?b.Eh(d):b.call(null,d)):Pf(c)?(d=v.Gh(function(e,f){return zf.Dh(e,a.Eh?a.Eh(f):a.call(null,f))},c,c),b.Eh?b.Eh(d):b.call(null,d)):Lf(c)?(d=ki.Dh(Cf(c),Vh.Dh(a,c)),b.Eh?b.Eh(d):b.call(null,d)):b.Eh?b.Eh(c):b.call(null,
c)}var BB=function BB(a,b){return AB(Hh(BB,a),a,b)};var CB={};function DB(a,b,c){var d=RegExp,e=b.source,f=q(b.ignoreCase)?"gi":"g";f=q(b.multiline)?[f,"m"].join(""):f;b=q(b.Hi)?[f,"u"].join(""):f;d=new d(e,b);return a.replace(d,c)}
function EB(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=Yh(2,d);if(D.Dh(M(d),1))return d=H(d),a.Eh?a.Eh(d):a.call(null,d);d=kg(d);return a.Eh?a.Eh(d):a.call(null,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()}
function FB(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?DB(a,b,c):DB(a,b,EB(c));throw["Invalid match arg: ",u.Eh(b)].join("");}function DC(a){var b=new nc;for(a=F(a);;)if(null!=a)b=b.append(u.Eh(H(a))),a=K(a);else return b.toString()}
function GB(a,b){var c=new nc;for(b=F(b);;)if(null!=b)c.append(u.Eh(H(b))),b=K(b),null!=b&&c.append(a);else return c.toString()}function EC(a){return hb(a)}function HB(a,b){if(0>=b||b>=2+M(a))return zf.Dh(kg(rf("",Vh.Dh(u,F(a)))),"");if(q(Ig.Dh?Ig.Dh(1,b):Ig.call(null,1,b)))return new W(null,1,5,Y,[a],null);if(q(Ig.Dh?Ig.Dh(2,b):Ig.call(null,2,b)))return new W(null,2,5,Y,["",a],null);b-=2;return zf.Dh(kg(rf("",Xi(kg(Vh.Dh(u,F(a))),0,b))),Jg.Dh(a,b))}function IB(a,b){return JB(a,b,0)}
function JB(a,b,c){if("/(?:)/"===u.Eh(b))b=HB(a,c);else if(1>c)b=kg(u.Eh(a).split(b));else a:for(var d=c,e=Af;;){if(1===d){b=zf.Dh(e,a);break a}var f=Zk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+M(f));--d;e=zf.Dh(e,a.substring(0,h));a=f}else{b=zf.Dh(e,a);break a}}if(0===c&&1<M(b))a:for(c=b;;)if(""===(null==c?null:vd(c)))c=null==c?null:wd(c);else break a;else c=b;return c}function KB(a){return Gb(null==a?"":String(a))};var LB={},FC,GC,HD,xF;function QB(a,b){if(null!=a&&null!=a.me)a=a.me(a,b);else{var c=QB[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=QB._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("Spec.conform*",a);}return a}function RB(a,b){if(null!=a&&null!=a.ne)a=a.ne(a,b);else{var c=RB[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=RB._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("Spec.with-gen*",a);}return a}var SB=Mh(V);
function TB(a){if(Rg(a)){var b=z(SB);a=B.Dh(b,a);if(Rg(a))a:for(;;)if(Rg(a))a=B.Dh(b,a);else{b=a;break a}else b=a;return b}return a}function UB(a){if(Rg(a)){var b=TB(a);if(q(b))return b;throw Error(["Unable to resolve spec: ",u.Eh(a)].join(""));}return a}function VB(a){return null!=a&&l===a.Pe?a:null}function WB(a){var b=lq.Eh(a);return q(b)?a:b}function XB(a,b){return Rg(a)?a:q(WB(a))?Q.Gh(a,up,b):null!=a&&(a.Lh&131072||l===a.ge)?Hf(a,Q.Gh(If(a),up,b)):null}
function YB(a){return Rg(a)?a:q(WB(a))?up.Eh(a):null!=a&&(a.Lh&131072||l===a.ge)?up.Eh(If(a)):null}function ZB(a){var b=function(){var c=Rg(a)?TB(a):!1;if(q(c))return c;c=VB(a);if(q(c))return c;c=WB(a);return q(c)?c:null}();return q(WB(b))?XB($B(b,null),YB(b)):b}function aC(a){var b=ZB(a);if(q(b))return b;if(Rg(a))throw Error(["Unable to resolve spec: ",u.Eh(a)].join(""));return null}
function bC(a){if(KB(a))return null;a=Vh.Dh(qm,IB(a,"$"));if(2<=M(a)&&Bh(function(c){return!KB(c)},a)){var b=Wk(Hk,yf)(a);a=P(b,0,null);b=P(b,1,null);return Ie.Eh([GB(".",a),"/",u.Eh(b)].join(""))}return null}
var yF=function(){function a(d,e){var f=cC[pa(null==d?null:d)];if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);f=cC._;if(null!=f)return f.Dh?f.Dh(d,e):f.call(null,d,e);throw Mc("Specize.specize*",d);}function b(d){var e=cC[pa(null==d?null:d)];if(null!=e)return e.Eh?e.Eh(d):e.call(null,d);e=cC._;if(null!=e)return e.Eh?e.Eh(d):e.call(null,d);throw Mc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.Eh=b;c.Dh=a;return c}(),cC=function cC(a){switch(arguments.length){case 1:return cC.Eh(arguments[0]);case 2:return cC.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};cC.Eh=function(a){return null!=a&&null!=a.xd?a.xd(a):yF(a)};cC.Dh=function(a,b){return null!=a&&null!=a.yd?a.yd(a,b):yF(a,b)};cC.Sh=2;C.prototype.xd=function(){return cC(UB(this))};C.prototype.yd=function(){return cC(UB(this))};A.prototype.xd=function(){return cC(UB(this))};
A.prototype.yd=function(){return cC(UB(this))};Bk.prototype.xd=function(){return eC(this,this,null,null,null)};Bk.prototype.yd=function(a,b){return eC(b,this,null,null,null)};
cC._=function(){function a(c){var d=Ff(c)?bC(c.name):!1;return q(d)?eC(d,c,null,null,null):eC(TA,c,null,null,null)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return eC(d,c,null,null,null)}throw Error("Invalid arity: "+arguments.length);};b.Eh=a;b.Dh=function(c,d){return eC(d,c,null,null,null)};return b}();
var fC=function fC(a){switch(arguments.length){case 1:return fC.Eh(arguments[0]);case 2:return fC.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};fC.Eh=function(a){var b=VB(a);return q(b)?b:cC(a)};fC.Dh=function(a,b){var c=VB(a);return q(c)?c:cC(a,b)};fC.Sh=2;function gC(a,b){a=TB(a);return q(WB(a))?Q.Gh(a,Px,b):RB(fC.Eh(a),b)}
function hC(a,b,c){if(null==c)Oh.Gh(SB,R,a);else{var d=VB(c);q(d)||(d=WB(c),d=q(d)?d:B.Dh(z(SB),c));b=q(d)?c:eC(b,c,null,null,null);Oh.Oh(SB,Q,a,XB(b,a))}}function iC(a,b,c){if(q(a)){var d=aC(a);if(q(d))return QB(fC.Eh(d),b);if(Wf(a))return q(null)?a.Eh?a.Eh(b):a.call(null,b):q(a.Eh?a.Eh(b):a.call(null,b))?b:pt;throw Error([ql.Ih(O([c]))," is not a fn, expected predicate fn"].join(""));}return b}function jC(a,b){a=fC.Eh(a);return!S(pt,QB(a,b))}
function eC(a,b,c,d,e){if(q(VB(b)))return q(c)?gC(b,c):b;if(q(WB(b)))return $B(b,c);if(Rg(b))return a=aC(b),q(c)?gC(a,c):a;if("undefined"===typeof oc||"undefined"===typeof CB||"undefined"===typeof LB||"undefined"===typeof GC)GC=function(f,h,k,m,n,r){this.form=f;this.pred=h;this.Hd=k;this.wf=m;this.Qg=n;this.Li=r;this.Lh=393216;this.Qh=0},GC.prototype.da=function(f,h){return new GC(this.form,this.pred,this.Hd,this.wf,this.Qg,h)},GC.prototype.ca=function(){return this.Li},GC.prototype.xd=function(){return this},
GC.prototype.yd=function(){return this},GC.prototype.Pe=l,GC.prototype.me=function(f,h){f=this.pred.Eh?this.pred.Eh(h):this.pred.call(null,h);return q(this.wf)?f:q(f)?h:pt},GC.prototype.ne=function(f,h){return eC(this.form,this.pred,h,this.wf,this.Qg)},GC.Lb=!0,GC.ub="cljs.spec.alpha/t_cljs$spec$alpha22068",GC.Vb=function(f){return Ud(f,"cljs.spec.alpha/t_cljs$spec$alpha22068")};return new GC(a,b,c,d,e,V)}
function lC(a,b,c){var d=F(b);H(d);K(d);d=F(c);H(d);K(d);for(d=c;;){c=a;b=F(b);a=H(b);b=K(b);var e=F(d);d=H(e);e=K(e);var f=d;d=e;if(q(a)){c=iC(a,c,f);if(S(pt,c))return pt;a=c}else return c}}var mC=new p(null,4,[dw,Af,Uq,Ek,rx,Pe,Br,V],null);
function nC(a,b,c,d){function e(ma,xa,Na,fa){return zf.Dh(ma,fa)}var f=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c,h=B.Dh(f,zB),k=B.Dh(f,In),m=B.Gh(f,zq,20),n=B.Dh(f,Qr),r=B.Dh(f,Ao),t=B.Dh(f,Ky),w=B.Dh(f,It),y=B.Dh(f,Wv),E=B.Dh(f,my),I=B.Dh(f,aw),G=B.Dh(f,Eu),J=B.Dh(f,sB),N=B.Dh(f,qr),U=q(N)?Cf(N):B.Dh(mC,k),da=new Al(function(){return fC.Eh(b)}),wa=function(){return q(y)?y:function(ma){return ma}}();if("undefined"===typeof oc||"undefined"===typeof CB||"undefined"===typeof LB||"undefined"===typeof HD)HD=
function(ma,xa,Na,fa,na,Ba,ta,Da,Ta,Hb,hc,zb,ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed,Vi){this.form=ma;this.Fh=xa;this.Yi=Na;this.di=fa;this.Zg=na;this.Hd=Ba;this.wh=ta;this.pred=Da;this.Qe=Ta;this.qh=Hb;this.Bh=hc;this.Xg=zb;this.Ke=ed;this.uh=$b;this.distinct=Zf;this.spec=$f;this.Ah=ag;this.vh=Zc;this.count=Cd;this.Wh=re;this.nc=bg;this.kind=Dd;this.pg=vf;this.ph=Ed;this.Mi=Vi;this.Lh=393216;this.Qh=0},HD.prototype.da=function(ma,xa){return new HD(this.form,this.Fh,this.Yi,this.di,this.Zg,this.Hd,this.wh,
this.pred,this.Qe,this.qh,this.Bh,this.Xg,this.Ke,this.uh,this.distinct,this.spec,this.Ah,this.vh,this.count,this.Wh,this.nc,this.kind,this.pg,this.ph,xa)},HD.prototype.ca=function(){return this.Mi},HD.prototype.xd=function(){return this},HD.prototype.yd=function(){return this},HD.prototype.Pe=l,HD.prototype.me=function(ma,xa){ma=z(this.spec);if(Hc(this.Qe.Eh?this.Qe.Eh(xa):this.Qe.call(null,xa)))return pt;if(q(this.pg)){var Na=this.Ke.Eh?this.Ke.Eh(xa):this.Ke.call(null,xa),fa=P(Na,0,null),na=P(Na,
1,null);Na=P(Na,2,null);var Ba=fa.Eh?fa.Eh(xa):fa.call(null,xa);fa=0;var ta=F(xa);xa=F(ta);H(xa);K(xa);for(xa=Ba;;){var Da=ta;Ba=F(Da);ta=H(Ba);Ba=K(Ba);if(Da){Da=QB(ma,ta);if(S(pt,Da))return pt;xa=na.Oh?na.Oh(xa,fa,ta,Da):na.call(null,xa,fa,ta,Da);fa+=1;ta=Ba}else return Na.Eh?Na.Eh(xa):Na.call(null,xa)}}else if(jf(xa))for(na=Dg(M(xa)/101),na=1>na?1:na,fa=0;;){if(fa>=M(xa))return xa;if(jC(ma,lf(xa,fa)))fa+=na;else return pt}else for(fa=0,na=F(xa),Na=F(na),H(Na),K(Na);;){ta=F(na);Na=H(ta);Ba=K(ta);
ta=Na;Da=na;if(null==Da||D.Dh(fa,101))return xa;if(jC(ma,ta))na=Ba,fa+=1;else return pt}},HD.prototype.ne=function(ma,xa){return nC(this.form,this.pred,this.nc,xa)},HD.Lb=!0,HD.ub="cljs.spec.alpha/t_cljs$spec$alpha22689",HD.Vb=function(ma){return Ud(ma,"cljs.spec.alpha/t_cljs$spec$alpha22689")};return new HD(a,h,c,f,function(ma){return jC(z(da),ma)},d,m,b,n,r,k,e,function(ma){return Qf(ma)&&(Hc(N)||Qf(N))?new W(null,3,5,Y,[og,function(xa,Na,fa,na){return fa===na?xa:Q.Gh(xa,Na,na)},og],null):q(Of(ma)?
function(){var xa=q(G)?Hc(N):G;return q(xa)?xa:Of(N)}():!1)?new W(null,3,5,Y,[q(r)?Cf:og,function(xa,Na,fa,na){return fa===na&&Hc(r)?xa:Q.Gh(xa,lf(q(r)?na:fa,0),lf(na,1))},og],null):Kg(N)||Uf(N)||Hc(N)&&(Kg(ma)||Uf(ma))?new W(null,3,5,Y,[Cf,e,Mg],null):new W(null,3,5,Y,[function(xa){return Cf(q(N)?N:xa)},e,og],null)},t,w,da,wa,U,E,I,f,G,J,N,V)}function oC(a){return new p(null,2,[lq,Qu,Lw,a],null)}function pC(a){a=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;a=B.Dh(a,lq);return D.Dh(Qu,a)}
var qC=function qC(a){var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,d=B.Dh(c,Zn);a=F(d);var e=H(a);a=K(a);var f=B.Dh(c,hn),h=F(f),k=H(h);h=K(h);var m=B.Dh(c,ys),n=F(m);H(n);n=K(n);var r=B.Dh(c,Lw);c=B.Dh(c,gB);return Bh(og,d)?pC(e)?(d=Lw.Eh(e),d=zf.Dh(r,q(f)?Ef([k,d]):d),a?(a=new p(null,4,[Zn,a,hn,h,ys,n,Lw,d],null),qC.Eh?qC.Eh(a):qC.call(null,a)):oC(d)):new p(null,6,[lq,qt,Zn,d,Lw,r,hn,f,ys,m,gB,c],null):null};
function rC(a,b,c,d,e){return q(a)?(d=new p(null,5,[lq,Gz,ym,b,Hy,d,ys,e,$A,mm()],null),pC(a)?Q.Ih(d,Am,b,O([Lw,zf.Dh(c,Lw.Eh(a))])):Q.Ih(d,Am,a,O([Lw,c]))):null}
function sC(a,b,c,d){return q(q(b)?b:c)?(a=ii(function(e){e=H(e);return d.Eh?d.Eh(e):d.call(null,e)},Vh.Oh(Ri,a,function(){var e=F(b);return e?e:ai(null)}(),function(){var e=F(c);return e?e:ai(null)}())),new W(null,3,5,Y,[F(Vh.Dh(H,a)),q(b)?F(Vh.Dh(wf,a)):null,q(c)?F(Vh.Dh(function(e){return lf(e,2)},a)):null],null)):new W(null,3,5,Y,[F(ii(d,a)),b,c],null)}
function tC(a,b,c){var d=sC(a,b,c,og);c=P(d,0,null);b=F(c);a=H(b);var e=K(b),f=P(d,1,null);b=P(f,0,null);d=P(d,2,null);return q(c)?(c=new p(null,4,[lq,rn,Zn,c,hn,f,ys,d],null),null==e?q(b)&&(pC(a)?(a=Lw.Eh(a),a=oC(new X(b,a))):a=c):a=c,a):null}function uC(a,b){return q(q(a)?b:a)?tC(O([a,b]),null,null):q(a)?a:b}
var vC=function vC(a){a=UB(a);var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,d=B.Dh(c,lq),e=B.Dh(c,Zn);a=B.Dh(c,Am);var f=B.Dh(c,ym);c=B.Dh(c,ys);if(D.Dh(Qu,d))return!0;if(D.Dh(null,d))return null;if(D.Dh(jn,d))return d=vC.Eh?vC.Eh(a):vC.call(null,a),q(d)?(a=lC(wC(a),e,K(c)),!S(pt,a)):d;if(D.Dh(Gz,d))return(e=a===f)?e:vC.Eh?vC.Eh(a):vC.call(null,a);if(D.Dh(qt,d))return Bh(vC,e);if(D.Dh(rn,d))return Ch(vC,e);throw Error(["No matching clause: ",u.Eh(d)].join(""));},wC=function wC(a){a=UB(a);var c=null!=
a&&(a.Lh&64||l===a.va)?qh(sk,a):a;a=B.Dh(c,Zn);var d=F(a),e=H(d);K(d);var f=B.Dh(c,hn),h=P(f,0,null),k=B.Dh(c,lq);d=B.Dh(c,Am);var m=B.Dh(c,Lw);c=B.Dh(c,ys);if(D.Dh(Qu,k))return m;if(D.Dh(null,k))return null;if(D.Dh(jn,k))return e=wC.Eh?wC.Eh(d):wC.call(null,d),(f=D.Dh(e,Hn))?d=f:(d=lq.Eh(UB(d)),f=new Bk(null,new p(null,2,[Gz,null,qt,null],null),null),d=f.Eh?f.Eh(d):f.call(null,d),d=q(d)?Kf(e):d,d=q(d)?d:null),q(d)?Hn:lC(e,a,c);if(D.Dh(Gz,k))return xC(d,m,h);if(D.Dh(qt,k))return xC(e,m,h);if(D.Dh(rn,
k))return c=sC(a,f,c,vC),a=P(c,0,null),a=P(a,0,null),c=P(c,1,null),c=P(c,0,null),a=null==a?Hn:wC.Eh?wC.Eh(a):wC.call(null,a),q(c)?new X(c,a):a;throw Error(["No matching clause: ",u.Eh(k)].join(""));};
function xC(a,b,c){a=UB(a);var d=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,e=B.Dh(d,lq);B.Dh(d,Zn);a=B.Dh(d,Hy);if(D.Dh(null,e))return b;if(D.Dh(rn,e)||D.Dh(Qu,e)||D.Dh(jn,e))return a=wC(d),D.Dh(a,Hn)?b:zf.Dh(b,q(c)?Ef([c,a]):a);if(D.Dh(Gz,e)||D.Dh(qt,e))return d=wC(d),Kf(d)||(c=q(c)?Ef([c,d]):d,a=q(a)?ki:zf,b=a.Dh?a.Dh(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",u.Eh(e)].join(""));}
var yC=function yC(a,b){a=UB(a);var d=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,e=B.Dh(d,ys),f=B.Dh(d,ym);a=B.Dh(d,Zn);var h=F(a),k=H(h),m=K(h),n=B.Dh(d,Lw);h=B.Dh(d,lq);var r=B.Dh(d,Hy),t=B.Dh(d,hn),w=F(t),y=H(w),E=K(w);w=B.Dh(d,Nr);var I=B.Dh(d,Am);if(q(d)){if(D.Dh(Qu,h))return null;if(D.Dh(null,h))return a=iC(d,b,d),S(pt,a)?null:oC(a);if(D.Dh(jn,h))return d=yC.Dh?yC.Dh(I,b):yC.call(null,I,b),q(d)?D.Dh(Qu,lq.Eh(d))?(a=lC(wC(d),a,K(e)),S(pt,a)?null:oC(a)):new p(null,5,[lq,jn,Am,d,Nr,w,Zn,a,ys,e],null):
null;if(D.Dh(qt,h))return uC(qC(new p(null,4,[Zn,rf(yC.Dh?yC.Dh(k,b):yC.call(null,k,b),m),hn,t,ys,e,Lw,n],null)),q(vC(k))?function(){var G=qC(new p(null,4,[Zn,m,hn,E,ys,K(e),Lw,xC(k,n,y)],null));return yC.Dh?yC.Dh(G,b):yC.call(null,G,b)}():null);if(D.Dh(rn,h))return tC(Vh.Dh(function(G){return yC.Dh?yC.Dh(G,b):yC.call(null,G,b)},a),t,e);if(D.Dh(Gz,h))return uC(rC(yC.Dh?yC.Dh(I,b):yC.call(null,I,b),f,n,r,e),q(vC(I))?function(){var G=rC(f,f,xC(I,n,null),r,e);return yC.Dh?yC.Dh(G,b):yC.call(null,G,b)}():
null);throw Error(["No matching clause: ",u.Eh(h)].join(""));}return null};function zC(a,b){for(;;){var c=F(b),d=H(c);c=K(c);if(Kf(b))return q(vC(a))?(a=wC(a),D.Dh(a,Hn)?null:a):pt;a=yC(a,d);if(q(a))b=c;else return pt}}
var $B=function $B(a,b){if("undefined"===typeof oc||"undefined"===typeof CB||"undefined"===typeof LB||"undefined"===typeof xF)xF=function(d,e,f){this.re=d;this.Hd=e;this.Ri=f;this.Lh=393216;this.Qh=0},xF.prototype.da=function(d,e){return new xF(this.re,this.Hd,e)},xF.prototype.ca=function(){return this.Ri},xF.prototype.xd=function(){return this},xF.prototype.yd=function(){return this},xF.prototype.Pe=l,xF.prototype.me=function(d,e){return null==e||Nf(e)?zC(this.re,F(e)):pt},xF.prototype.ne=function(d,
e){return $B.Dh?$B.Dh(this.re,e):$B.call(null,this.re,e)},xF.Lb=!0,xF.ub="cljs.spec.alpha/t_cljs$spec$alpha23651",xF.Vb=function(d){return Ud(d,"cljs.spec.alpha/t_cljs$spec$alpha23651")};return new xF(a,b,V)};
hC(Du,Ng(px,Ng(gn,new W(null,1,5,Y,[rt],null),Ng(nu,Ng(xz,Ls,rt),Ng(xz,Js,rt))),Ng(gn,new W(null,1,5,Y,[nx],null),Ng(xz,Ng(tn,new W(null,1,5,Y,[new W(null,2,5,Y,[nq,kq],null)],null),new p(null,2,[Ls,nq,Js,kq],null)),nx))),eC(Ng(px,Ng(tn,new W(null,1,5,Y,[$s],null),Ng(nu,Ng(xz,Ls,$s),Ng(xz,Js,$s))),Ng(tn,new W(null,1,5,Y,[$s],null),Ng(xz,Ng(tn,new W(null,1,5,Y,[new W(null,2,5,Y,[nq,kq],null)],null),new p(null,2,[Ls,nq,Js,kq],null)),$s))),function(a){return Ik(Vh.Dh(Ls,a),Vh.Dh(Js,a))},null,!0,function(a){return Vh.Dh(function(b){var c=
P(b,0,null);b=P(b,1,null);return new p(null,2,[Ls,c,Js,b],null)},a)}));var AC={},zF,AF,BF,PF,QF,RF,HC=function HC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return HC.Ih(c)};HC.Ih=function(a){return Ud(rc,qh(sl,a))};HC.Sh=0;HC.ba=function(a){return this.Ih(F(a))};var IC=function IC(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return IC.Ih(c)};IC.Ih=function(a){return Ud(rc,qh(ql,a))};IC.Sh=0;IC.ba=function(a){return this.Ih(F(a))};
function JC(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Me(b.slice(0),0,null):null;qh(IC,b);Ud(rc,"\n")}function KC(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function LC(a,b,c){var d=c;for(c=Af;;){if(Kf(d))return new W(null,2,5,Y,[c,b],null);var e=H(d);d=K(d);e=qh(a,new W(null,2,5,Y,[e,b],null));b=P(e,0,null);e=P(e,1,null);c=zf.Dh(c,b);b=e}}function MC(a,b){var c=b;for(b=Af;;){var d=qh(a,new W(null,1,5,Y,[c],null));c=P(d,0,null);d=P(d,1,null);if(Hc(c))return new W(null,2,5,Y,[b,d],null);b=zf.Dh(b,c);c=d}}
function NC(a){return new W(null,2,5,Y,[ki.Dh(V,function(){return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);var t=P(n,0,null);P(n,1,null);k.add(new W(null,2,5,Y,[r,t],null));m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);h=P(f,0,null);P(f,1,null);return rf(new W(null,2,5,Y,[k,h],null),d(Oe(e)))}return null}},null,null)}(a)}()),
ki.Dh(V,function(){return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);P(n,0,null);n=P(n,1,null);k.add(new W(null,2,5,Y,[r,n],null));m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);P(f,0,null);f=P(f,1,null);return rf(new W(null,2,5,Y,[k,f],null),d(Oe(e)))}return null}},null,null)}(a)}())],null)}
function OC(a,b){return ki.Dh(V,function(){return function e(d){return new Ug(null,function(){for(;;){var f=F(d);if(f){if(Rf(f)){var h=ke(f),k=M(h),m=Yg(k);a:for(var n=0;;)if(n<k){var r=x(h,n),t=P(r,0,null);r=P(r,1,null);m.add(new W(null,2,5,Y,[t,new W(null,2,5,Y,[r,b],null)],null));n+=1}else{h=!0;break a}return h?$g(ch(m),e(le(f))):$g(ch(m),null)}h=H(f);m=P(h,0,null);h=P(h,1,null);return rf(new W(null,2,5,Y,[m,new W(null,2,5,Y,[h,b],null)],null),e(Oe(f)))}return null}},null,null)}(a)}())}
function PC(){var a=rc;if(null!=a&&null!=a.vf)a.vf(a);else{var b=PC[pa(null==a?null:a)];if(null!=b)b.Eh?b.Eh(a):b.call(null,a);else if(b=PC._,null!=b)b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IPrettyFlush.-ppflush",a);}}function QC(a,b){a=z(z(a));return b.Eh?b.Eh(a):b.call(null,a)}function RC(a,b,c){Oh.Oh(z(a),Q,b,c)}function SC(a,b){D.Dh(b,"\n")?(RC(a,As,0),RC(a,Jm,QC(a,Jm)+1)):RC(a,As,QC(a,As)+1);return Ud(QC(a,Cp),b)}
function TC(a,b){var c=Mh(new p(null,4,[ey,b,As,0,Jm,0,Cp,a],null));if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof zF)zF=function(d,e,f,h){this.Wa=d;this.Ef=e;this.fields=f;this.Ii=h;this.Lh=1074167808;this.Qh=0},zF.prototype.da=function(d,e){return new zF(this.Wa,this.Ef,this.fields,e)},zF.prototype.ca=function(){return this.Ii},zF.prototype.wb=function(){return this.fields},zF.prototype.Rc=function(){return Vd(this.Wa)},zF.prototype.vd=function(d,e){d=Lc(e);if(q(D.Dh?
D.Dh(String,d):D.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?RC(this,As,QC(this,As)+M(e)):(RC(this,As,M(e)-d-1),RC(this,Jm,QC(this,Jm)+M(ii(function(f){return D.Dh(f,"\n")},e)))),Ud(QC(this,Cp),e);if(q(D.Dh?D.Dh(Number,d):D.call(null,Number,d)))return SC(this,e);throw Error(["No matching clause: ",u.Eh(d)].join(""));},zF.Lb=!0,zF.ub="cljs.pprint/t_cljs$pprint21081",zF.Vb=function(d){return Ud(d,"cljs.pprint/t_cljs$pprint21081")};return new zF(a,b,c,V)}
function UC(a,b,c,d,e,f,h,k,m,n,r,t,w){this.parent=a;this.Rb=b;this.xb=c;this.indent=d;this.Mb=e;this.Nb=f;this.prefix=h;this.Qb=k;this.suffix=m;this.Ob=n;this.Jh=r;this.Hh=t;this.Kh=w;this.Lh=2230716170;this.Qh=139264}g=UC.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "parent":return this.parent;case "section":return this.Rb;case "start-col":return this.xb;case "indent":return this.indent;case "done-nl":return this.Mb;case "intra-block-nl":return this.Nb;case "prefix":return this.prefix;case "per-line-prefix":return this.Qb;case "suffix":return this.suffix;case "logical-block-callback":return this.Ob;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,T.Dh(new W(null,10,5,Y,[new W(null,2,5,Y,[ur,this.parent],null),new W(null,2,5,Y,[tz,this.Rb],null),new W(null,2,5,Y,[pr,this.xb],null),new W(null,2,5,Y,[jB,this.indent],null),new W(null,2,5,Y,[on,this.Mb],null),new W(null,2,5,Y,[xq,this.Nb],null),new W(null,2,5,Y,[Jp,this.prefix],null),new W(null,2,5,Y,[Sm,this.Qb],null),new W(null,2,5,Y,[Jz,this.suffix],null),new W(null,2,5,Y,[yA,this.Ob],
null)],null),this.Hh))};g.ma=function(){return new hj(this,10,new W(null,10,5,Y,[ur,tz,pr,jB,on,xq,Jp,Sm,Jz,yA],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 10+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1977012399^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.parent,b.parent)&&D.Dh(this.Rb,b.Rb)&&D.Dh(this.xb,b.xb)&&D.Dh(this.indent,b.indent)&&D.Dh(this.Mb,b.Mb)&&D.Dh(this.Nb,b.Nb)&&D.Dh(this.prefix,b.prefix)&&D.Dh(this.Qb,b.Qb)&&D.Dh(this.suffix,b.suffix)&&D.Dh(this.Ob,b.Ob)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,10,[Jz,null,jB,null,ur,null,tz,null,on,null,pr,null,Jp,null,Sm,null,yA,null,xq,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(ur,b):S.call(null,ur,b))?new UC(c,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(tz,b):S.call(null,tz,b))?new UC(this.parent,c,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(pr,b):S.call(null,pr,b))?new UC(this.parent,this.Rb,c,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(jB,
b):S.call(null,jB,b))?new UC(this.parent,this.Rb,this.xb,c,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(on,b):S.call(null,on,b))?new UC(this.parent,this.Rb,this.xb,this.indent,c,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xq,b):S.call(null,xq,b))?new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,c,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Jp,b):S.call(null,Jp,b))?new UC(this.parent,
this.Rb,this.xb,this.indent,this.Mb,this.Nb,c,this.Qb,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Sm,b):S.call(null,Sm,b))?new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,c,this.suffix,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Jz,b):S.call(null,Jz,b))?new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,c,this.Ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(yA,b):S.call(null,yA,b))?new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,
this.prefix,this.Qb,this.suffix,c,this.Jh,this.Hh,null):new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,10,5,Y,[new X(ur,this.parent),new X(tz,this.Rb),new X(pr,this.xb),new X(jB,this.indent),new X(on,this.Mb),new X(xq,this.Nb),new X(Jp,this.prefix),new X(Sm,this.Qb),new X(Jz,this.suffix),new X(yA,this.Ob)],null),this.Hh))};
g.da=function(a,b){return new UC(this.parent,this.Rb,this.xb,this.indent,this.Mb,this.Nb,this.prefix,this.Qb,this.suffix,this.Ob,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function VC(a,b){for(b=ur.Eh(b);;){if(null==b)return!1;if(a===b)return!0;b=ur.Eh(b)}}function WC(a,b,c,d,e,f,h,k){this.sa=a;this.data=b;this.Ac=c;this.ra=d;this.qa=e;this.Jh=f;this.Hh=h;this.Kh=k;this.Lh=2230716170;this.Qh=139264}g=WC.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type-tag":return this.sa;case "data":return this.data;case "trailing-white-space":return this.Ac;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,T.Dh(new W(null,5,5,Y,[new W(null,2,5,Y,[Dm,this.sa],null),new W(null,2,5,Y,[an,this.data],null),new W(null,2,5,Y,[Gp,this.Ac],null),new W(null,2,5,Y,[Op,this.ra],null),new W(null,2,5,Y,[uu,this.qa],null)],null),this.Hh))};g.ma=function(){return new hj(this,5,new W(null,5,5,Y,[Dm,an,Gp,Op,uu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 5+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1809113693^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sa,b.sa)&&D.Dh(this.data,b.data)&&D.Dh(this.Ac,b.Ac)&&D.Dh(this.ra,b.ra)&&D.Dh(this.qa,b.qa)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,5,[uu,null,Gp,null,Dm,null,Op,null,an,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new WC(this.sa,this.data,this.Ac,this.ra,this.qa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Dm,b):S.call(null,Dm,b))?new WC(c,this.data,this.Ac,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(an,b):S.call(null,an,b))?new WC(this.sa,c,this.Ac,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Gp,b):S.call(null,Gp,b))?new WC(this.sa,this.data,c,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Op,b):S.call(null,Op,b))?new WC(this.sa,this.data,this.Ac,c,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(uu,b):S.call(null,uu,b))?new WC(this.sa,this.data,this.Ac,
this.ra,c,this.Jh,this.Hh,null):new WC(this.sa,this.data,this.Ac,this.ra,this.qa,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,5,5,Y,[new X(Dm,this.sa),new X(an,this.data),new X(Gp,this.Ac),new X(Op,this.ra),new X(uu,this.qa)],null),this.Hh))};g.da=function(a,b){return new WC(this.sa,this.data,this.Ac,this.ra,this.qa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function XC(a,b,c,d,e,f,h,k){this.sa=a;this.type=b;this.ya=c;this.ra=d;this.qa=e;this.Jh=f;this.Hh=h;this.Kh=k;this.Lh=2230716170;this.Qh=139264}g=XC.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type-tag":return this.sa;case "type":return this.type;case "logical-block":return this.ya;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,T.Dh(new W(null,5,5,Y,[new W(null,2,5,Y,[Dm,this.sa],null),new W(null,2,5,Y,[eq,this.type],null),new W(null,2,5,Y,[cr,this.ya],null),new W(null,2,5,Y,[Op,this.ra],null),new W(null,2,5,Y,[uu,this.qa],null)],null),this.Hh))};
g.ma=function(){return new hj(this,5,new W(null,5,5,Y,[Dm,eq,cr,Op,uu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 5+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1640656800^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sa,b.sa)&&D.Dh(this.type,b.type)&&D.Dh(this.ya,b.ya)&&D.Dh(this.ra,b.ra)&&D.Dh(this.qa,b.qa)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,5,[uu,null,eq,null,cr,null,Dm,null,Op,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new XC(this.sa,this.type,this.ya,this.ra,this.qa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Dm,b):S.call(null,Dm,b))?new XC(c,this.type,this.ya,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(eq,b):S.call(null,eq,b))?new XC(this.sa,c,this.ya,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(cr,b):S.call(null,cr,b))?new XC(this.sa,this.type,c,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Op,b):S.call(null,Op,b))?new XC(this.sa,this.type,this.ya,c,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(uu,b):S.call(null,uu,b))?new XC(this.sa,this.type,this.ya,
this.ra,c,this.Jh,this.Hh,null):new XC(this.sa,this.type,this.ya,this.ra,this.qa,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,5,5,Y,[new X(Dm,this.sa),new X(eq,this.type),new X(cr,this.ya),new X(Op,this.ra),new X(uu,this.qa)],null),this.Hh))};g.da=function(a,b){return new XC(this.sa,this.type,this.ya,this.ra,this.qa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function YC(a,b,c,d,e,f,h){this.sa=a;this.ya=b;this.ra=c;this.qa=d;this.Jh=e;this.Hh=f;this.Kh=h;this.Lh=2230716170;this.Qh=139264}g=YC.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type-tag":return this.sa;case "logical-block":return this.ya;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,T.Dh(new W(null,4,5,Y,[new W(null,2,5,Y,[Dm,this.sa],null),new W(null,2,5,Y,[cr,this.ya],null),new W(null,2,5,Y,[Op,this.ra],null),new W(null,2,5,Y,[uu,this.qa],null)],null),this.Hh))};
g.ma=function(){return new hj(this,4,new W(null,4,5,Y,[Dm,cr,Op,uu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 4+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-414877272^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sa,b.sa)&&D.Dh(this.ya,b.ya)&&D.Dh(this.ra,b.ra)&&D.Dh(this.qa,b.qa)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,4,[uu,null,cr,null,Dm,null,Op,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new YC(this.sa,this.ya,this.ra,this.qa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Dm,b):S.call(null,Dm,b))?new YC(c,this.ya,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(cr,b):S.call(null,cr,b))?new YC(this.sa,c,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Op,b):S.call(null,Op,b))?new YC(this.sa,this.ya,c,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(uu,b):S.call(null,uu,b))?new YC(this.sa,this.ya,this.ra,c,this.Jh,this.Hh,null):new YC(this.sa,this.ya,this.ra,this.qa,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,4,5,Y,[new X(Dm,this.sa),new X(cr,this.ya),new X(Op,this.ra),new X(uu,this.qa)],null),this.Hh))};g.da=function(a,b){return new YC(this.sa,this.ya,this.ra,this.qa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function ZC(a,b,c,d,e,f,h){this.sa=a;this.ya=b;this.ra=c;this.qa=d;this.Jh=e;this.Hh=f;this.Kh=h;this.Lh=2230716170;this.Qh=139264}g=ZC.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type-tag":return this.sa;case "logical-block":return this.ya;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,T.Dh(new W(null,4,5,Y,[new W(null,2,5,Y,[Dm,this.sa],null),new W(null,2,5,Y,[cr,this.ya],null),new W(null,2,5,Y,[Op,this.ra],null),new W(null,2,5,Y,[uu,this.qa],null)],null),this.Hh))};g.ma=function(){return new hj(this,4,new W(null,4,5,Y,[Dm,cr,Op,uu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 4+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1365867980^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sa,b.sa)&&D.Dh(this.ya,b.ya)&&D.Dh(this.ra,b.ra)&&D.Dh(this.qa,b.qa)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,4,[uu,null,cr,null,Dm,null,Op,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new ZC(this.sa,this.ya,this.ra,this.qa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Dm,b):S.call(null,Dm,b))?new ZC(c,this.ya,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(cr,b):S.call(null,cr,b))?new ZC(this.sa,c,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Op,b):S.call(null,Op,b))?new ZC(this.sa,this.ya,c,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(uu,b):S.call(null,uu,b))?new ZC(this.sa,this.ya,this.ra,c,this.Jh,this.Hh,null):new ZC(this.sa,this.ya,this.ra,this.qa,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,4,5,Y,[new X(Dm,this.sa),new X(cr,this.ya),new X(Op,this.ra),new X(uu,this.qa)],null),this.Hh))};g.da=function(a,b){return new ZC(this.sa,this.ya,this.ra,this.qa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function $C(a,b,c,d,e,f,h,k,m){this.sa=a;this.ya=b;this.oc=c;this.offset=d;this.ra=e;this.qa=f;this.Jh=h;this.Hh=k;this.Kh=m;this.Lh=2230716170;this.Qh=139264}g=$C.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type-tag":return this.sa;case "logical-block":return this.ya;case "relative-to":return this.oc;case "offset":return this.offset;case "start-pos":return this.ra;case "end-pos":return this.qa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,T.Dh(new W(null,6,5,Y,[new W(null,2,5,Y,[Dm,this.sa],null),new W(null,2,5,Y,[cr,this.ya],null),new W(null,2,5,Y,[lx,this.oc],null),new W(null,2,5,Y,[gu,this.offset],null),new W(null,2,5,Y,[Op,this.ra],null),new W(null,2,5,Y,[uu,this.qa],null)],null),this.Hh))};g.ma=function(){return new hj(this,6,new W(null,6,5,Y,[Dm,cr,lx,gu,Op,uu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};
g.ga=function(){return 6+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1602780238^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sa,b.sa)&&D.Dh(this.ya,b.ya)&&D.Dh(this.oc,b.oc)&&D.Dh(this.offset,b.offset)&&D.Dh(this.ra,b.ra)&&D.Dh(this.qa,b.qa)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,6,[gu,null,uu,null,lx,null,cr,null,Dm,null,Op,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new $C(this.sa,this.ya,this.oc,this.offset,this.ra,this.qa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Dm,b):S.call(null,Dm,b))?new $C(c,this.ya,this.oc,this.offset,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(cr,b):S.call(null,cr,b))?new $C(this.sa,c,this.oc,this.offset,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(lx,b):S.call(null,lx,b))?new $C(this.sa,this.ya,c,this.offset,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(gu,b):S.call(null,gu,b))?new $C(this.sa,this.ya,this.oc,c,this.ra,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Op,b):S.call(null,
Op,b))?new $C(this.sa,this.ya,this.oc,this.offset,c,this.qa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(uu,b):S.call(null,uu,b))?new $C(this.sa,this.ya,this.oc,this.offset,this.ra,c,this.Jh,this.Hh,null):new $C(this.sa,this.ya,this.oc,this.offset,this.ra,this.qa,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,6,5,Y,[new X(Dm,this.sa),new X(cr,this.ya),new X(lx,this.oc),new X(gu,this.offset),new X(Op,this.ra),new X(uu,this.qa)],null),this.Hh))};
g.da=function(a,b){return new $C(this.sa,this.ya,this.oc,this.offset,this.ra,this.qa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};var aD=function(){var a=Mh(V),b=Mh(V),c=Mh(V),d=Mh(V),e=B.Gh(V,gw,Vl.Nh?Vl.Nh():Vl.call(null));return new im(Ie.Dh(ba,"write-token"),function(f,h){return Dm.Eh(h)},e,a,b,c,d)}();
aD.hb(null,Qm,function(a,b){var c=yA.Eh(z(z(a)));q(c)&&(c.Eh?c.Eh(zn):c.call(null,zn));b=cr.Eh(b);c=Jp.Eh(b);q(c)&&Ud(Cp.Eh(z(z(a))),c);a=QC(Cp.Eh(z(z(a))),As);Nh(pr.Eh(b),a);return Nh(jB.Eh(b),a)});aD.hb(null,wB,function(a,b){var c=yA.Eh(z(z(a)));q(c)&&(c.Eh?c.Eh(Tw):c.call(null,Tw));b=Jz.Eh(cr.Eh(b));return q(b)?Ud(Cp.Eh(z(z(a))),b):null});
aD.hb(null,Cw,function(a,b){var c=cr.Eh(b),d=jB.Eh(c),e=gu.Eh(b);b=lx.Eh(b);if(q(D.Dh?D.Dh(St,b):D.call(null,St,b)))a=z(pr.Eh(c));else if(q(D.Dh?D.Dh(mr,b):D.call(null,mr,b)))a=QC(Cp.Eh(z(z(a))),As);else throw Error(["No matching clause: ",u.Eh(b)].join(""));return Nh(d,e+a)});aD.hb(null,Zw,function(a,b){return Ud(Cp.Eh(z(z(a))),an.Eh(b))});
aD.hb(null,Ax,function(a,b){var c=(c=D.Dh(eq.Eh(b),Qn))?c:D.Dh(eq.Eh(b),yt)?!1:z(on.Eh(cr.Eh(b)));q(c)?bD.Dh?bD.Dh(a,b):bD.call(null,a,b):(b=Gp.Eh(z(z(a))),q(b)&&Ud(Cp.Eh(z(z(a))),b));return Oh.Oh(z(a),Q,Gp,null)});
function cD(a,b,c){b=F(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f);if(!D.Dh(Dm.Eh(h),Ax)){var k=Gp.Eh(z(z(a)));q(k)&&Ud(Cp.Eh(z(z(a))),k)}aD.Dh(a,h);Oh.Oh(z(a),Q,Gp,Gp.Eh(h));h=Gp.Eh(z(z(a)));q(q(c)?h:c)&&(Ud(Cp.Eh(z(z(a))),h),Oh.Oh(z(a),Q,Gp,null));f+=1}else if(b=F(b))Rf(b)?(d=ke(b),b=le(b),h=d,e=M(d),d=h):(h=H(b),D.Dh(Dm.Eh(h),Ax)||(d=Gp.Eh(z(z(a))),q(d)&&Ud(Cp.Eh(z(z(a))),d)),aD.Dh(a,h),Oh.Oh(z(a),Q,Gp,Gp.Eh(h)),h=Gp.Eh(z(z(a))),q(q(c)?h:c)&&(Ud(Cp.Eh(z(z(a))),h),Oh.Oh(z(a),Q,Gp,null)),
b=K(b),d=null,e=0),f=0;else break}function dD(a,b){var c=QC(Cp.Eh(z(z(a))),ey),d;(d=null==c)||(a=QC(Cp.Eh(z(z(a))),As),b=(b=F(b))?uu.Eh(yf(b))-Op.Eh(H(b)):0,d=a+b<c);return d}function eD(a,b,c){b=z(on.Eh(b));return q(b)?b:!dD(a,c)}function fD(a,b,c){var d=ty.Eh(z(z(a))),e=QC(Cp.Eh(z(z(a))),ey);return q(d)?q(e)?z(pr.Eh(b))>=e-d?eD(a,b,c):!1:e:d}
var gD=function(){var a=Mh(V),b=Mh(V),c=Mh(V),d=Mh(V),e=B.Gh(V,gw,Vl.Nh?Vl.Nh():Vl.call(null));return new im(Ie.Dh(ba,"emit-nl?"),function(f){return eq.Eh(f)},e,a,b,c,d)}();gD.hb(null,Zu,function(a,b,c){a=cr.Eh(a);return eD(b,a,c)});gD.hb(null,jz,function(a,b,c){a=cr.Eh(a);return fD(b,a,c)});gD.hb(null,yt,function(a,b,c,d){a=cr.Eh(a);var e=z(xq.Eh(a));return q(e)?e:(d=!dD(b,d))?d:fD(b,a,c)});gD.hb(null,Qn,function(){return!0});
function hD(a){var b=H(a),c=cr.Eh(b);b=F(Mk(function(d){return!(D.Dh(Dm.Eh(d),Ax)&&VC(cr.Eh(d),c))},K(a)));return new W(null,2,5,Y,[b,F(Xh(M(b)+1,a))],null)}function iD(a){var b=H(a),c=cr.Eh(b);return F(Mk(function(d){var e=cr.Eh(d);return!(D.Dh(Dm.Eh(d),Ax)&&(D.Dh(e,c)||VC(e,c)))},K(a)))}
function bD(a,b){Ud(Cp.Eh(z(z(a))),"\n");Oh.Oh(z(a),Q,Gp,null);b=cr.Eh(b);var c=Sm.Eh(b);q(c)&&Ud(Cp.Eh(z(z(a))),c);c=qh(u,bi(z(jB.Eh(b))-M(c)," "));Ud(Cp.Eh(z(z(a))),c);a:for(Nh(xq.Eh(b),!0),Nh(on.Eh(b),!0),a=ur.Eh(b);;)if(q(a))Nh(on.Eh(a),!0),Nh(xq.Eh(a),!0),a=ur.Eh(a);else break a;return null}function jD(a){var b=F(Mk(function(c){return!D.Dh(Dm.Eh(c),Ax)},a));return new W(null,2,5,Y,[b,F(Xh(M(b),a))],null)}
var kD=function kD(a,b){var d=jD(b);b=P(d,0,null);var e=P(d,1,null);q(b)&&cD(a,b,!1);if(q(e)){d=hD(e);b=P(d,0,null);d=P(d,1,null);var f=H(e),h=gD.Oh(f,a,b,iD(e));q(h)&&(bD(a,f),e=K(e));dD(a,e)?a=e:(e=kD.Dh?kD.Dh(a,b):kD.call(null,a,b),D.Dh(e,b)?(cD(a,b,!1),a=d):a=ki.Dh(Af,T.Dh(e,d)));return a}return null};function lD(a){for(var b=Qz.Eh(z(z(a)));;){Oh.Oh(z(a),Q,Qz,ki.Dh(Af,b));if(dD(a,b))return null;var c=kD(a,b);if(b!==c)b=c;else return null}}
function mD(a,b){Oh.Oh(z(a),Q,Qz,zf.Dh(Qz.Eh(z(z(a))),b));return dD(a,Qz.Eh(z(z(a))))?null:lD(a)}function nD(a){var b=Gp.Eh(z(z(a)));return q(b)?(Ud(Cp.Eh(z(z(a))),b),Oh.Oh(z(a),Q,Gp,null)):null}
function oD(a,b){var c=JB(b,"\n",-1);if(D.Dh(M(c),1))return b;b=Sm.Eh(H(Vq.Eh(z(z(a)))));var d=H(c);if(D.Dh(Io,by.Eh(z(z(a))))){var e=Is.Eh(z(z(a))),f=e+M(d);Oh.Oh(z(a),Q,Is,f);mD(a,new WC(Zw,d,null,e,f,null,null,null));lD(a);d=Qz.Eh(z(z(a)));q(d)&&(cD(a,d,!0),Oh.Oh(z(a),Q,Qz,Af))}else nD(a),Ud(Cp.Eh(z(z(a))),d);Ud(Cp.Eh(z(z(a))),"\n");d=F(K(Hk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.wa(null,h);Ud(Cp.Eh(z(z(a))),k);Ud(Cp.Eh(z(z(a))),"\n");q(b)&&Ud(Cp.Eh(z(z(a))),b);h+=1}else if(d=F(d))e=d,Rf(e)?
(d=ke(e),h=le(e),e=d,f=M(d),d=h):(d=H(e),Ud(Cp.Eh(z(z(a))),d),Ud(Cp.Eh(z(z(a))),"\n"),q(b)&&Ud(Cp.Eh(z(z(a))),b),d=K(e),e=null,f=0),h=0;else break;Oh.Oh(z(a),Q,Io,nr);return yf(c)}
function pD(a){var b=qD,c=rD,d=new UC(null,null,Mh(0),Mh(0),Mh(!1),Mh(!1),null,null,null,null,null,null,null),e=Mh(Zj([Vq,ty,qs,bt,ev,by,Is,Gp,Cp,jt,Qz],[d,c,d,!0,null,nr,0,null,TC(a,b),1,Af]));if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof AF)AF=function(f,h,k,m,n,r){this.Wa=f;this.Ef=h;this.Xh=k;this.Ch=m;this.fields=n;this.Ji=r;this.Lh=1074167808;this.Qh=0},AF.prototype.da=function(f,h){return new AF(this.Wa,this.Ef,this.Xh,this.Ch,this.fields,h)},AF.prototype.ca=function(){return this.Ji},
AF.prototype.wb=function(){return this.fields},AF.prototype.vd=function(f,h){f=Lc(h);if(q(D.Dh?D.Dh(String,f):D.call(null,String,f))){var k=oD(this,h);h=k.replace(/\s+$/,"");f=Jg.Dh(k,h.length);var m=by.Eh(z(z(this)));if(D.Dh(m,nr))return nD(this),Ud(Cp.Eh(z(z(this))),h),Oh.Oh(z(this),Q,Gp,f);m=Is.Eh(z(z(this)));k=m+M(k);Oh.Oh(z(this),Q,Is,k);return mD(this,new WC(Zw,h,f,m,k,null,null,null))}if(q(D.Dh?D.Dh(Number,f):D.call(null,Number,f)))return D.Dh(by.Eh(z(z(this))),nr)?(nD(this),h=Ud(Cp.Eh(z(z(this))),
h)):D.Dh(h,"\n")?h=oD(this,"\n"):(f=Is.Eh(z(z(this))),k=f+1,Oh.Oh(z(this),Q,Is,k),h=Cg(h),h=mD(this,new WC(Zw,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",u.Eh(f)].join(""));},AF.prototype.Rc=function(){this.vf(null);return Vd(Cp.Eh(z(z(this))))},AF.prototype.vf=function(){return D.Dh(by.Eh(z(z(this))),Io)?(cD(this,Qz.Eh(z(z(this))),!0),Oh.Oh(z(this),Q,Qz,Af)):nD(this)},AF.Lb=!0,AF.ub="cljs.pprint/t_cljs$pprint21880",AF.Vb=function(f){return Ud(f,"cljs.pprint/t_cljs$pprint21880")};
return new AF(a,b,c,d,e,V)}function sD(a,b){var c=rc;b=new UC(Vq.Eh(z(z(c))),null,Mh(0),Mh(0),Mh(!1),Mh(!1),a,null,b,null,null,null,null);Oh.Oh(z(c),Q,Vq,b);if(D.Dh(by.Eh(z(z(c))),nr)){nD(c);var d=yA.Eh(z(z(c)));q(d)&&(d.Eh?d.Eh(zn):d.call(null,zn));q(a)&&Ud(Cp.Eh(z(z(c))),a);c=QC(Cp.Eh(z(z(c))),As);Nh(b.xb,c);Nh(b.indent,c)}else d=Is.Eh(z(z(c))),a=d+(q(a)?M(a):0),Oh.Oh(z(c),Q,Is,a),mD(c,new YC(Qm,b,d,a,null,null,null))}
function tD(){var a=rc,b=Vq.Eh(z(z(a))),c=Jz.Eh(b);if(D.Dh(by.Eh(z(z(a))),nr)){nD(a);q(c)&&Ud(Cp.Eh(z(z(a))),c);var d=yA.Eh(z(z(a)));q(d)&&(d.Eh?d.Eh(Tw):d.call(null,Tw))}else d=Is.Eh(z(z(a))),c=d+(q(c)?M(c):0),Oh.Oh(z(a),Q,Is,c),mD(a,new ZC(wB,b,d,c,null,null,null));Oh.Oh(z(a),Q,Vq,ur.Eh(b))}var uD=!0,vD=null,qD=72,rD=40,wD=null,xD=null,yD=null,zD=null,AD=10,BD=0,CD=null;function DD(a){return(null!=a?a.Lh&32768||l===a.gg||(a.Lh?0:Kc(zd,a)):Kc(zd,a))?bt.Eh(z(z(a))):!1}
function ED(a){var b=CD;q(b)&&(b=vc,b=q(b)?CD>=vc:b);Hc(uD)?IC.call(null,a):q(b)?Ud(rc,"..."):(q(CD)&&(CD+=1),vD.call(null,a));return b}var FD=function FD(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Me(c.slice(1),0,null):null;return FD.Ih(arguments[0],c)};
FD.Ih=function(a,b){var c=wk.Ih(O([new p(null,1,[cB,!0],null),qh(sk,b)]));b=AD;var d=xD,e=vc,f=wc,h=wD,k=rD,m=vD,n=uD,r=zD,t=uc,w=qD,y=yD,E=Cp.Dh(c,AD),I=wn.Dh(c,xD),G=Un.Dh(c,vc),J=Bm.Dh(c,wc),N=fv.Dh(c,wD),U=ty.Dh(c,rD),da=Iy.Dh(c,vD),wa=ht.Dh(c,uD),ma=Et.Dh(c,zD),xa=zc.Dh(c,uc),Na=Xo.Dh(c,qD),fa=rr.Dh(c,yD);AD=E;xD=I;vc=G;wc=J;wD=N;rD=U;vD=da;uD=wa;zD=ma;uc=xa;qD=Na;yD=fa;try{var na=new nc,Ba=Yf(c,cB)?cB.Eh(c):!0,ta=!0===Ba||null==Ba?new ve(na):Ba;if(q(uD)){var Da=Hc(DD(ta));c=rc;rc=Da?pD(ta):
ta;try{ED(a),PC()}finally{rc=c}}else{Da=rc;rc=ta;try{IC.call(null,a)}finally{rc=Da}}!0===Ba&&el(u.Eh(na));return null==Ba?u.Eh(na):null}finally{yD=y,qD=w,uc=t,zD=r,uD=n,vD=m,rD=k,wD=h,wc=f,vc=e,xD=d,AD=b}};FD.Sh=1;FD.ba=function(a){var b=H(a);a=K(a);return this.Ih(b,a)};
function GD(){var a=new W(null,6,5,Y,[$q,new W(null,2,5,Y,[Ng(ow,aB,new W(null,1,5,Y,[ks],null)),Ru],null),SA,Lp,op,new W(null,2,5,Y,[aB,CC],null)],null);var b=z(mO);a=iO.Dh?iO.Dh(a,b):iO.call(null,a,b);b=new nc;var c=rc;rc=new ve(b);try{var d=rc,e=Hc(DD(d)),f=rc;rc=e?pD(d):d;try{e=uD;uD=!0;try{ED(a)}finally{uD=e}D.Dh(0,QC(rc,As))||Ud(rc,"\n");PC()}finally{rc=f}el(u.Eh(b))}finally{rc=c}}
function ID(a,b){if(Hc(b.Eh?b.Eh(a):b.call(null,a)))throw Error(["Bad argument: ",u.Eh(a),". It must be one of ",u.Eh(b)].join(""));}function JD(){var a=wc;return q(a)?BD>=wc:a}function KD(a){ID(a,new Bk(null,new p(null,4,[Qn,null,jz,null,yt,null,Zu,null],null),null));var b=rc;Oh.Oh(z(b),Q,by,Io);var c=Is.Eh(z(z(b))),d=Vq.Eh(z(z(b)));mD(b,new XC(Ax,a,d,c,c,null,null,null))}
function LD(a,b){ID(a,new Bk(null,new p(null,2,[St,null,mr,null],null),null));var c=rc,d=Vq.Eh(z(z(c)));if(D.Dh(by.Eh(z(z(c))),nr)){nD(c);var e=jB.Eh(d);if(q(D.Dh?D.Dh(St,a):D.call(null,St,a)))a=z(pr.Eh(d));else if(q(D.Dh?D.Dh(mr,a):D.call(null,mr,a)))a=QC(Cp.Eh(z(z(c))),As);else throw Error(["No matching clause: ",u.Eh(a)].join(""));Nh(e,b+a)}else e=Is.Eh(z(z(c))),mD(c,new $C(Cw,d,a,b,e,e,null,null,null))}
function MD(a,b,c){b="string"===typeof b?ND(b):b;c=OD(c);a:{var d=new nc,e=Hc(a)||!0===a?new ve(d):a,f=PD(b)&&Hc(DD(e))?q(DD(e))?e:pD(e):e,h=rc;rc=f;try{try{QD(b,c)}finally{e!==f&&Vd(f)}var k=Hc(a)?u.Eh(d):!0===a?el(u.Eh(d)):null;break a}finally{rc=h}k=void 0}return k}var RD=null;function SD(a,b){a=[u.Eh(a),"\n",u.Eh(RD),"\n",u.Eh(qh(u,bi(b," "))),"^\n"].join("");throw Error(a);}
function TD(a,b,c,d,e,f){this.Xc=a;this.rest=b;this.pos=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=TD.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "seq":return this.Xc;case "rest":return this.rest;case "pos":return this.pos;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[mp,this.Xc],null),new W(null,2,5,Y,[du,this.rest],null),new W(null,2,5,Y,[Is,this.pos],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[mp,du,Is],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-402038447^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Xc,b.Xc)&&D.Dh(this.rest,b.rest)&&D.Dh(this.pos,b.pos)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[Is,null,mp,null,du,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new TD(this.Xc,this.rest,this.pos,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(mp,b):S.call(null,mp,b))?new TD(c,this.rest,this.pos,this.Jh,this.Hh,null):q(S.Dh?S.Dh(du,b):S.call(null,du,b))?new TD(this.Xc,c,this.pos,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Is,b):S.call(null,Is,b))?new TD(this.Xc,this.rest,c,this.Jh,this.Hh,null):new TD(this.Xc,this.rest,this.pos,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(mp,this.Xc),new X(du,this.rest),new X(Is,this.pos)],null),this.Hh))};
g.da=function(a,b){return new TD(this.Xc,this.rest,this.pos,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function OD(a){a=F(a);return new TD(a,a,0,null,null,null)}function UD(a){var b=du.Eh(a);if(q(b))return new W(null,2,5,Y,[H(b),new TD(mp.Eh(a),K(b),Is.Eh(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}
function VD(a){var b=UD(a);a=P(b,0,null);b=P(b,1,null);a="string"===typeof a?ND(a):a;return new W(null,2,5,Y,[a,b],null)}function WD(a,b){return b>=Is.Eh(a)?(b=Is.Eh(a)-b,XD.Dh?XD.Dh(a,b):XD.call(null,a,b)):new TD(mp.Eh(a),Xh(b,mp.Eh(a)),b,null,null,null)}function XD(a,b){var c=Is.Eh(a)+b;return 0>b?WD(a,c):new TD(mp.Eh(a),Xh(b,du.Eh(a)),c,null,null,null)}function YD(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.Jh=e;this.Hh=f;this.Kh=h;this.Lh=2230716170;this.Qh=139264}
g=YD.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,T.Dh(new W(null,4,5,Y,[new W(null,2,5,Y,[yw,this.func],null),new W(null,2,5,Y,[xo,this.def],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[gu,this.offset],null)],null),this.Hh))};g.ma=function(){return new hj(this,4,new W(null,4,5,Y,[yw,xo,Wt,gu],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 4+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-829256337^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.func,b.func)&&D.Dh(this.def,b.def)&&D.Dh(this.params,b.params)&&D.Dh(this.offset,b.offset)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,4,[gu,null,yw,null,Wt,null,xo,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new YD(this.func,this.def,this.params,this.offset,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(yw,b):S.call(null,yw,b))?new YD(c,this.def,this.params,this.offset,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xo,b):S.call(null,xo,b))?new YD(this.func,c,this.params,this.offset,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Wt,b):S.call(null,Wt,b))?new YD(this.func,this.def,c,this.offset,this.Jh,this.Hh,null):q(S.Dh?S.Dh(gu,b):S.call(null,gu,b))?new YD(this.func,this.def,this.params,c,this.Jh,this.Hh,null):new YD(this.func,this.def,this.params,this.offset,this.Jh,Q.Gh(this.Hh,b,
c),null)};g.fa=function(){return F(T.Dh(new W(null,4,5,Y,[new X(yw,this.func),new X(xo,this.def),new X(Wt,this.params),new X(gu,this.offset)],null),this.Hh))};g.da=function(a,b){return new YD(this.func,this.def,this.params,this.offset,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function ZD(a,b){var c=P(a,0,null);a=P(a,1,null);var d=P(a,0,null);a=P(a,1,null);d=Yf(new Bk(null,new p(null,2,[hv,null,Fy,null],null),null),c)?new W(null,2,5,Y,[d,b],null):D.Dh(d,iz)?UD(b):D.Dh(d,ss)?new W(null,2,5,Y,[M(du.Eh(b)),b],null):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);return new W(null,2,5,Y,[new W(null,2,5,Y,[c,new W(null,2,5,Y,[b,a],null)],null),d],null)}function $D(a,b){b=LC(ZD,b,a);a=P(b,0,null);b=P(b,1,null);return new W(null,2,5,Y,[ki.Dh(V,a),b],null)}
var aE=new p(null,3,[2,"#b",8,"#o",16,"#x"],null);function bE(a){return Xf(a)?D.Dh(AD,10)?[u.Eh(a),q(zD)?".":null].join(""):[u.Eh(q(zD)?function(){var b=B.Dh(aE,AD);return q(b)?b:["#",u.Eh(AD),"r"].join("")}():null),u.Eh(cE(AD,a))].join(""):null}
function dE(a,b,c){c=UD(c);var d=P(c,0,null);c=P(c,1,null);var e=bE(d);a=q(e)?e:a.Eh?a.Eh(d):a.call(null,d);d=a.length;e=d+nv.Eh(b);e=e>=JA.Eh(b)?e:e+(Fg(JA.Eh(b)-e-1,Yq.Eh(b))+1)*Yq.Eh(b);d=qh(u,bi(e-d,ds.Eh(b)));q(Fy.Eh(b))?HC.Ih(O([[u.Eh(d),u.Eh(a)].join("")])):HC.Ih(O([[u.Eh(a),u.Eh(d)].join("")]));return c}function eE(a,b){return Mg(H(MC(function(c){return 0<c?new W(null,2,5,Y,[Gg(c,a),Fg(c,a)],null):new W(null,2,5,Y,[null,null],null)},b)))}
function cE(a,b){return 0===b?"0":qh(u,Vh.Dh(function(c){return 10>c?Cg(KC("0")+c):Cg(KC("a")+(c-10))},eE(a,b)))}function fE(a,b){return Mg(H(MC(function(c){return new W(null,2,5,Y,[F(Mg(Wh.Dh(a,c))),F(Xh(a,c))],null)},Mg(b))))}
function gE(a,b,c){c=UD(c);var d=P(c,0,null);c=P(c,1,null);if(Xf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&D.Dh(d,Math.floor(d))){var e=0>d,f=cE(a,e?-d:d);a=q(hv.Eh(b))?function(){var h=Vh.Dh(function(m){return qh(u,m)},fE(Qs.Eh(b),f)),k=bi(M(h),iu.Eh(b));return qh(u,K(ei.Dh(k,h)))}():f;a=e?["-",u.Eh(a)].join(""):q(Fy.Eh(b))?["+",u.Eh(a)].join(""):a;a=a.length<JA.Eh(b)?[u.Eh(qh(u,bi(JA.Eh(b)-a.length,ds.Eh(b)))),u.Eh(a)].join(""):a;HC.Ih(O([a]))}else dE(sl,
new p(null,5,[JA,JA.Eh(b),Yq,1,nv,0,ds,ds.Eh(b),Fy,!0],null),OD(new W(null,1,5,Y,[d],null)));return c}
var hE=new W(null,20,5,Y,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),iE=new W(null,20,5,Y,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),jE=new W(null,10,5,Y,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),kE=new W(null,10,5,Y,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),lE=new W(null,22,5,Y," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function mE(a){var b=Fg(a,100),c=Gg(a,100);return[0<b?[u.Eh(lf(hE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,u.Eh(0<c?20>c?lf(hE,c):function(){var d=Fg(c,10),e=Gg(c,10);return[u.Eh(0<d?lf(jE,d):null),0<d&&0<e?"-":null,u.Eh(0<e?lf(hE,e):null)].join("")}():null)].join("")}
function nE(a,b){var c=M(a),d=Af;--c;var e=H(a);for(a=K(a);;){if(null==a)return[u.Eh(qh(u,Xh(1,ei.Dh(ai(", "),d)))),Kf(e)||Kf(d)?null:", ",u.Eh(e),!Kf(e)&&0<c+b?[" ",u.Eh(lf(lE,c+b))].join(""):null].join("");d=Kf(e)?d:zf.Dh(d,[u.Eh(e)," ",u.Eh(lf(lE,c+b))].join(""));--c;e=H(a);a=K(a)}}
function oE(a){var b=Fg(a,100),c=Gg(a,100);return[0<b?[u.Eh(lf(hE,b))," hundred"].join(""):null,0<b&&0<c?" ":null,u.Eh(0<c?20>c?lf(iE,c):function(){var d=Fg(c,10),e=Gg(c,10);return 0<d&&!(0<e)?lf(kE,d):[u.Eh(0<d?lf(jE,d):null),0<d&&0<e?"-":null,u.Eh(0<e?lf(iE,e):null)].join("")}():0<b?"th":null)].join("")}
var pE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IIII V VI VII VIII VIIII".split(" "),null),new W(null,9,5,Y,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new W(null,9,5,Y,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new W(null,3,5,Y,["M","MM","MMM"],null)],null),qE=new W(null,4,5,Y,[new W(null,9,5,Y,"I II III IV V VI VII VIII IX".split(" "),null),new W(null,9,5,Y,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new W(null,9,5,Y,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new W(null,
3,5,Y,["M","MM","MMM"],null)],null);function rE(a,b){b=UD(b);var c=P(b,0,null);b=P(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=eE(10,c);c=Af;for(var e=M(d)-1;;)if(Kf(d)){HC.Ih(O([qh(u,c)]));break}else{var f=H(d);c=D.Dh(0,f)?c:zf.Dh(c,lf(lf(a,e),f-1));--e;d=K(d)}}else gE(10,new p(null,5,[JA,0,ds," ",iu,",",Qs,3,hv,!0],null),OD(new W(null,1,5,Y,[c],null)));return b}var sE=new p(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function tE(a,b){a=UD(b);b=P(a,0,null);a=P(a,1,null);var c=KC(b);b=c&127;c&=128;var d=B.Dh(sE,b);0<c&&HC.Ih(O(["Meta-"]));HC.Ih(O([q(d)?d:32>b?["Control-",u.Eh(Cg(b+64))].join(""):D.Dh(b,127)?"Control-?":Cg(b)]));return a}
function uE(a,b){var c=UD(b);b=P(c,0,null);c=P(c,1,null);a=Zx.Eh(a);if(q(D.Dh?D.Dh("o",a):D.call(null,"o",a)))MD(!0,"\\o~3, '0o",O([KC(b)]));else if(q(D.Dh?D.Dh("u",a):D.call(null,"u",a)))MD(!0,"\\u~4, '0x",O([KC(b)]));else if(q(D.Dh?D.Dh(null,a):D.call(null,null,a)))Ud(rc,q(D.Dh?D.Dh("\b",b):D.call(null,"\b",b))?"\\backspace":q(D.Dh?D.Dh(" ",b):D.call(null," ",b))?"\\space":q(D.Dh?D.Dh("\t",b):D.call(null,"\t",b))?"\\tab":q(D.Dh?D.Dh("\n",b):D.call(null,"\n",b))?"\\newline":q(D.Dh?D.Dh("\f",b):D.call(null,
"\f",b))?"\\formfeed":q(D.Dh?D.Dh("\r",b):D.call(null,"\r",b))?"\\return":q(D.Dh?D.Dh('"',b):D.call(null,'"',b))?'\\"':q(D.Dh?D.Dh("\\",b):D.call(null,"\\",b))?"\\\\":["\\",u.Eh(b)].join(""));else throw Error(["No matching clause: ",u.Eh(a)].join(""));return c}function vE(a,b){b=UD(b);a=P(b,0,null);b=P(b,1,null);HC.Ih(O([a]));return b}function wE(a){a=H(a);return D.Dh(rA,a)||D.Dh(cx,a)}
function xE(a,b,c){return wf(LC(function(d,e){if(wE(e))return new W(null,2,5,Y,[null,e],null);e=$D(Wt.Eh(d),e);var f=P(e,0,null);e=P(e,1,null);var h=NC(f);f=P(h,0,null);h=P(h,1,null);f=Q.Gh(f,io,c);return new W(null,2,5,Y,[null,qh(yw.Eh(d),new W(null,3,5,Y,[f,e,h],null))],null)},b,a))}
function yE(a){a=u.Eh(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new W(null,2,5,Y,[a,u.Eh(a.length-1)],null):new W(null,2,5,Y,[[Jg.Gh(a,0,c),Jg.Dh(a,c+1)].join(""),u.Eh(c-1)],null):0>c?new W(null,2,5,Y,[Jg.Gh(a,0,b),Jg.Dh(a,b+1)],null):new W(null,2,5,Y,[[Jg.Gh(a,0,1),Jg.Gh(a,2,b)].join(""),Jg.Dh(a,b+1)],null);b=P(a,0,null);a=P(a,1,null);a:if(c=M(b),0<c&&D.Dh(lf(b,M(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(D.Dh(lf(b,c),"0"))--c;else{b=Jg.Gh(b,0,c+1);break a}}a:{c=b;var d=
M(c);if(0<d&&D.Dh(lf(c,0),"0"))for(var e=0;;){if(D.Dh(e,d)||!D.Dh(lf(c,e),"0")){c=Jg.Dh(c,e);break a}e+=1}}b=M(b)-M(c);a=0<M(a)&&D.Dh(lf(a,0),"+")?Jg.Dh(a,1):a;return Kf(c)?new W(null,2,5,Y,["0",0],null):new W(null,2,5,Y,[c,parseInt(a,10)-b],null)}
function zE(a,b,c,d){if(q(q(c)?c:d)){var e=M(a);d=q(d)?2>d?2:d:0;q(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=D.Dh(c,0)?new W(null,4,5,Y,[["0",u.Eh(a)].join(""),b+1,1,e+1],null):new W(null,4,5,Y,[a,b,c,e],null);c=P(f,0,null);e=P(f,1,null);d=P(f,2,null);f=P(f,3,null);if(q(d)){if(0>d)return new W(null,3,5,Y,["0",0,!1],null);if(f>d){b=lf(c,d);a=Jg.Gh(c,0,d);if(KC(b)>=KC("5")){a:for(b=M(a)-1,c=b|0;;){if(0>c){b=rh(u,"1",bi(b+1,"0"));break a}if(D.Dh("9",a.charAt(c)))--c;else{b=sh(u,Jg.Gh(a,0,c),
Cg(KC(a.charAt(c))+1),bi(b-c,"0"));break a}}a=M(b)>a.length;return new W(null,3,5,Y,[a?Jg.Gh(b,0,M(b)-1):b,e,a],null)}return new W(null,3,5,Y,[a,e,!1],null)}}}return new W(null,3,5,Y,[a,b,!1],null)}
function AE(a,b,c){var d=0>b?new W(null,2,5,Y,[[u.Eh(qh(u,bi(-b-1,"0"))),u.Eh(a)].join(""),-1],null):new W(null,2,5,Y,[a,b],null);a=P(d,0,null);var e=P(d,1,null);d=M(a);c=q(c)?e+c+1:e+1;c=d<c?[u.Eh(a),u.Eh(qh(u,bi(c-d,"0")))].join(""):a;0>b?b=[".",u.Eh(c)].join(""):(b+=1,b=[Jg.Gh(c,0,b),".",Jg.Dh(c,b)].join(""));return b}function BE(a,b){return 0>b?[".",u.Eh(a)].join(""):[Jg.Gh(a,0,b),".",Jg.Dh(a,b)].join("")}
function CE(a,b){var c=rw.Eh(a),d=lw.Eh(a);b=UD(b);var e=P(b,0,null);b=P(b,1,null);var f=0>e?new W(null,2,5,Y,["-",-e],null):new W(null,2,5,Y,["+",e],null),h=P(f,0,null);f=P(f,1,null);f=yE(f);var k=P(f,0,null),m=P(f,1,null)+fw.Eh(a);f=Fy.Eh(a);e=q(f)?f:0>e;f=Hc(d)&&M(k)-1<=m;var n=zE(k,m,d,q(c)?c-(q(e)?1:0):null);k=P(n,0,null);m=P(n,1,null);n=P(n,2,null);k=AE(k,q(n)?m+1:m,d);d=q(q(c)?q(d)?1<=d&&D.Dh(k.charAt(0),"0")&&D.Dh(k.charAt(1),".")&&k.length>c-(q(e)?1:0):d:c)?Jg.Dh(k,1):k;m=D.Dh(H(d),".");
q(c)?(k=d.length,k=q(e)?k+1:k,m=m&&!(k>=c),f=f&&!(k>=c),k=m||f?k+1:k,q(k>c?CA.Eh(a):!1)?HC.Ih(O([qh(u,bi(c,CA.Eh(a)))])):HC.Ih(O([[u.Eh(qh(u,bi(c-k,ds.Eh(a)))),u.Eh(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]))):HC.Ih(O([[u.Eh(q(e)?h:null),m?"0":null,d,f?"0":null].join("")]));return b}
function DE(a,b){b=UD(b);var c=P(b,0,null);b=P(b,1,null);var d=yE(0>c?-c:c);P(d,0,null);for(P(d,1,null);;){var e=P(d,0,null),f=P(d,1,null),h=rw.Eh(a),k=lw.Eh(a),m=iw.Eh(a),n=fw.Eh(a),r=function(){var G=bp.Eh(a);return q(G)?G:"E"}();d=function(){var G=Fy.Eh(a);return q(G)?G:0>c}();var t=0>=n,w=f-(n-1),y=u.Eh(Math.abs(w));r=[u.Eh(r),0>w?"-":"+",u.Eh(q(m)?qh(u,bi(m-y.length,"0")):null),y].join("");var E=r.length;w=M(e);e=[u.Eh(qh(u,bi(-n,"0"))),u.Eh(e),u.Eh(q(k)?qh(u,bi(k-(w-1)-(0>n?-n:0),"0")):null)].join("");
w=q(h)?h-E:null;e=zE(e,0,D.Dh(n,0)?k-1:0<n?k:0>n?k-1:null,q(w)?w-(q(d)?1:0):null);w=P(e,0,null);P(e,1,null);y=P(e,2,null);e=BE(w,n);k=D.Dh(n,M(w))&&null==k;if(Hc(y)){if(q(h)){f=e.length+E;f=q(d)?f+1:f;var I=(t=t&&!D.Dh(f,h))?f+1:f;f=k&&I<h;q(function(){var G=I>h;G||(G=m,G=q(G)?E-2>m:G);return q(G)?CA.Eh(a):G}())?HC.Ih(O([qh(u,bi(h,CA.Eh(a)))])):HC.Ih(O([[u.Eh(qh(u,bi(h-I-(f?1:0),ds.Eh(a)))),q(d)?0>c?"-":"+":null,t?"0":null,e,f?"0":null,r].join("")]))}else HC.Ih(O([[q(d)?0>c?"-":"+":null,t?"0":null,
e,k?"0":null,r].join("")]));break}else d=new W(null,2,5,Y,[w,f+1],null)}return b}function EE(a,b,c){var d=UD(b),e=P(d,0,null);P(d,1,null);d=yE(0>e?-e:e);var f=P(d,0,null);d=P(d,1,null);var h=rw.Eh(a),k=lw.Eh(a),m=iw.Eh(a);d=D.Dh(e,0)?0:d+1;e=q(m)?m+2:4;h=q(h)?h-e:null;q(k)?f=k:(f=M(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=CE(new p(null,6,[rw,h,lw,d,fw,0,CA,CA.Eh(a),ds,ds.Eh(a),Fy,Fy.Eh(a)],null),b,c),HC.Ih(O([qh(u,bi(e," "))])),a):DE(a,b,c)}
function FE(a,b){b=UD(b);var c=P(b,0,null);b=P(b,1,null);var d=yE(Math.abs(c)),e=P(d,0,null),f=P(d,1,null),h=lw.Eh(a),k=xw.Eh(a);d=rw.Eh(a);var m=function(){var r=Fy.Eh(a);return q(r)?r:0>c}(),n=zE(e,f,h,null);e=P(n,0,null);f=P(n,1,null);n=P(n,2,null);h=AE(e,q(n)?f+1:f,h);k=[u.Eh(qh(u,bi(k-h.indexOf("."),"0"))),h].join("");h=k.length+(q(m)?1:0);HC.Ih(O([[q(function(){var r=hv.Eh(a);return q(r)?m:r}())?0>c?"-":"+":null,u.Eh(qh(u,bi(d-h,ds.Eh(a)))),q(Hc(hv.Eh(a))?m:!1)?0>c?"-":"+":null,k].join("")]));
return b}function GE(a,b){var c=fz.Eh(a);c=q(c)?new W(null,2,5,Y,[c,b],null):UD(b);b=P(c,0,null);c=P(c,1,null);var d=ny.Eh(a);b=0>b||b>=M(d)?H(Tt.Eh(a)):lf(d,b);return q(b)?xE(b,c,io.Eh(a)):c}function HE(a,b){var c=UD(b);b=P(c,0,null);c=P(c,1,null);var d=ny.Eh(a);b=q(b)?wf(d):H(d);return q(b)?xE(b,c,io.Eh(a)):c}function IE(a,b){var c=UD(b),d=P(c,0,null);c=P(c,1,null);var e=ny.Eh(a);e=q(d)?H(e):null;return q(d)?q(e)?xE(e,b,io.Eh(a)):b:c}
function JE(a,b){var c=UA.Eh(a),d=H(ny.Eh(a));d=Kf(d)?VD(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=UD(d);var e=P(d,0,null);d=P(d,1,null);var f=0;e=OD(e);for(var h=-1;;){if(Hc(c)&&D.Dh(Is.Eh(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=Kf(du.Eh(e))&&(Hc(hv.Eh(Np.Eh(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=xE(b,e,io.Eh(a));if(D.Dh(rA,H(h)))return d;f+=1;var k=Is.Eh(e);e=h;h=k}}
function KE(a,b){var c=UA.Eh(a),d=H(ny.Eh(a));d=Kf(d)?VD(b):new W(null,2,5,Y,[d,b],null);b=P(d,0,null);d=P(d,1,null);d=UD(d);var e=P(d,0,null);d=P(d,1,null);for(var f=0;;){var h=Kf(e)&&(Hc(hv.Eh(Np.Eh(a)))||0<f);if(q(h?h:q(c)?f>=c:c))return d;h=xE(b,OD(H(e)),OD(K(e)));if(D.Dh(cx,H(h)))return d;f+=1;e=K(e)}}
function LE(a,b){var c=UA.Eh(a),d=H(ny.Eh(a)),e=Kf(d)?VD(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;e=P(e,1,null);for(var f=-1;;){if(Hc(c)&&D.Dh(Is.Eh(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=Kf(du.Eh(e))&&(Hc(hv.Eh(Np.Eh(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=xE(b,e,io.Eh(a));if(D.Dh(rA,H(f)))return wf(f);d+=1;var h=Is.Eh(e);e=f;f=h}}
function ME(a,b){var c=UA.Eh(a),d=H(ny.Eh(a)),e=Kf(d)?VD(b):new W(null,2,5,Y,[d,b],null);b=P(e,0,null);d=0;for(e=P(e,1,null);;){var f=Kf(du.Eh(e))&&(Hc(hv.Eh(Np.Eh(a)))||0<d);if(q(f?f:q(c)?d>=c:c))return e;f=du.Eh(e);f=q(f)?new W(null,2,5,Y,[H(f),new TD(mp.Eh(e),K(f),Is.Eh(e)+1,null,null,null)],null):new W(null,2,5,Y,[null,e],null);e=P(f,0,null);f=P(f,1,null);e=xE(b,OD(e),f);if(D.Dh(cx,H(e)))return f;e=f;d+=1}}
function NE(a,b){if(q(hv.Eh(Np.Eh(a)))){var c=ny.Eh(a),d=M(c),e=1<d?Zm.Eh(Wt.Eh(H(H(c)))):q(hv.Eh(a))?"(":null,f=lf(c,1<d?1:0);c=2<d?Zm.Eh(Wt.Eh(H(lf(c,2)))):q(hv.Eh(a))?")":null;d=UD(b);b=P(d,0,null);d=P(d,1,null);if(q(JD()))Ud(rc,"#");else{var h=BD,k=CD;BD+=1;CD=0;try{sD(e,c),xE(f,OD(b),io.Eh(a)),tD()}finally{CD=k,BD=h}}a=d}else a=OE(a,b);return a}
function PE(a,b,c){for(var d=Af;;){if(Kf(a))return new W(null,2,5,Y,[d,b],null);var e=H(a);a:{var f=new nc,h=rc;rc=new ve(f);try{var k=new W(null,2,5,Y,[xE(e,b,c),u.Eh(f)],null);break a}finally{rc=h}k=void 0}b=P(k,0,null);e=P(k,1,null);if(D.Dh(rA,H(b)))return new W(null,2,5,Y,[d,wf(b)],null);a=K(a);d=zf.Dh(d,e)}}
function OE(a,b){var c=function(){var N=Tt.Eh(a);return q(N)?PE(N,b,io.Eh(a)):null}(),d=P(c,0,null);d=P(d,0,null);c=P(c,1,null);var e=q(c)?c:b;c=function(){var N=tB.Eh(a);return q(N)?$D(N,e):null}();var f=P(c,0,null);c=P(c,1,null);var h=q(c)?c:e;c=function(){var N=H(eu.Eh(f));return q(N)?N:0}();var k=function(){var N=H(cy.Eh(f));return q(N)?N:QC(rc,ey)}(),m=ny.Eh(a);h=PE(m,h,io.Eh(a));var n=P(h,0,null);h=P(h,1,null);var r=function(){var N=M(n)-1+(q(hv.Eh(a))?1:0)+(q(Fy.Eh(a))?1:0);return 1>N?1:N}();
m=v.Dh(sg,Vh.Dh(M,n));var t=JA.Eh(a),w=nv.Eh(a),y=Yq.Eh(a),E=m+r*w;t=E<=t?t:t+y*(1+Fg(E-t-1,y));var I=t-m;m=function(){var N=Fg(I,r);return w>N?w:N}();y=I-m*r;m=qh(u,bi(m,ds.Eh(a)));q(q(d)?QC(Cp.Eh(z(z(rc))),As)+c+t>k:d)&&HC.Ih(O([d]));c=y;for(var G=n,J=function(){var N=hv.Eh(a);return q(N)?N:D.Dh(M(G),1)&&Hc(Fy.Eh(a))}();;)if(F(G))HC.Ih(O([[u.Eh(Hc(J)?H(G):null),u.Eh(q(function(){var N=J;return q(N)?N:(N=K(G))?N:Fy.Eh(a)}())?m:null),u.Eh(0<c?ds.Eh(a):null)].join("")])),--c,G=d=q(J)?G:K(G),J=!1;else break;
return h}
function QE(a){if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof BF)BF=function(b,c){this.Wa=b;this.Ni=c;this.Lh=1074135040;this.Qh=0},BF.prototype.da=function(b,c){return new BF(this.Wa,c)},BF.prototype.ca=function(){return this.Ni},BF.prototype.Rc=function(){return Vd(this.Wa)},BF.prototype.vd=function(b,c){b=Lc(c);if(q(D.Dh?D.Dh(String,b):D.call(null,String,b)))return Ud(this.Wa,c.toLowerCase());if(q(D.Dh?D.Dh(Number,b):D.call(null,Number,b)))return Ud(this.Wa,Cg(c).toLowerCase());
throw Error(["No matching clause: ",u.Eh(b)].join(""));},BF.Lb=!0,BF.ub="cljs.pprint/t_cljs$pprint23445",BF.Vb=function(b){return Ud(b,"cljs.pprint/t_cljs$pprint23445")};return new BF(a,V)}
function RE(a){if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof PF)PF=function(b,c){this.Wa=b;this.Oi=c;this.Lh=1074135040;this.Qh=0},PF.prototype.da=function(b,c){return new PF(this.Wa,c)},PF.prototype.ca=function(){return this.Oi},PF.prototype.Rc=function(){return Vd(this.Wa)},PF.prototype.vd=function(b,c){b=Lc(c);if(q(D.Dh?D.Dh(String,b):D.call(null,String,b)))return Ud(this.Wa,c.toUpperCase());if(q(D.Dh?D.Dh(Number,b):D.call(null,Number,b)))return Ud(this.Wa,Cg(c).toUpperCase());
throw Error(["No matching clause: ",u.Eh(b)].join(""));},PF.Lb=!0,PF.ub="cljs.pprint/t_cljs$pprint23491",PF.Vb=function(b){return Ud(b,"cljs.pprint/t_cljs$pprint23491")};return new PF(a,V)}
function SE(a,b){var c=H(a);a=q(q(b)?q(c)?Wb(c):c:b)?[c.toUpperCase(),Jg.Dh(a,1)].join(""):a;return qh(u,H(MC(function(d){if(Kf(d))return new W(null,2,5,Y,[null,null],null);var e=/\W\w/g.exec(d);e=q(e)?e.index+1:e;return q(e)?new W(null,2,5,Y,[[Jg.Gh(d,0,e),lf(d,e).toUpperCase()].join(""),Jg.Dh(d,e+1)],null):new W(null,2,5,Y,[d,null],null)},a)))}
function TE(a){var b=Mh(!0);if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof QF)QF=function(c,d,e){this.Wa=c;this.Be=d;this.Pi=e;this.Lh=1074135040;this.Qh=0},QF.prototype.da=function(c,d){return new QF(this.Wa,this.Be,d)},QF.prototype.ca=function(){return this.Pi},QF.prototype.Rc=function(){return Vd(this.Wa)},QF.prototype.vd=function(c,d){c=Lc(d);if(q(D.Dh?D.Dh(String,c):D.call(null,String,c)))return Ud(this.Wa,SE(d.toLowerCase(),z(this.Be))),0<d.length?Nh(this.Be,Gb(lf(d,
M(d)-1))):null;if(q(D.Dh?D.Dh(Number,c):D.call(null,Number,c)))return d=Cg(d),c=q(z(this.Be))?d.toUpperCase():d,Ud(this.Wa,c),Nh(this.Be,Gb(d));throw Error(["No matching clause: ",u.Eh(c)].join(""));},QF.Lb=!0,QF.ub="cljs.pprint/t_cljs$pprint23537",QF.Vb=function(c){return Ud(c,"cljs.pprint/t_cljs$pprint23537")};return new QF(a,b,V)}
function UE(a){var b=Mh(!1);if("undefined"===typeof oc||"undefined"===typeof AC||"undefined"===typeof RF)RF=function(c,d,e){this.Wa=c;this.ae=d;this.Qi=e;this.Lh=1074135040;this.Qh=0},RF.prototype.da=function(c,d){return new RF(this.Wa,this.ae,d)},RF.prototype.ca=function(){return this.Qi},RF.prototype.Rc=function(){return Vd(this.Wa)},RF.prototype.vd=function(c,d){c=Lc(d);if(q(D.Dh?D.Dh(String,c):D.call(null,String,c)))return d=d.toLowerCase(),Hc(z(this.ae))?(c=/\S/g.exec(d),c=q(c)?c.index:c,q(c)?
(Ud(this.Wa,[Jg.Gh(d,0,c),lf(d,c).toUpperCase(),Jg.Dh(d,c+1).toLowerCase()].join("")),Nh(this.ae,!0)):Ud(this.Wa,d)):Ud(this.Wa,d.toLowerCase());if(q(D.Dh?D.Dh(Number,c):D.call(null,Number,c)))return d=Cg(d),q(Hc(z(this.ae))?Wb(d):!1)?(Nh(this.ae,!0),Ud(this.Wa,d.toUpperCase())):Ud(this.Wa,d.toLowerCase());throw Error(["No matching clause: ",u.Eh(c)].join(""));},RF.Lb=!0,RF.ub="cljs.pprint/t_cljs$pprint23597",RF.Vb=function(c){return Ud(c,"cljs.pprint/t_cljs$pprint23597")};return new RF(a,b,V)}
function VE(a,b){var c=q(hv.Eh(a))?mr:St;LD(c,xw.Eh(a));return b}function WE(a,b){a=q(hv.Eh(a))?q(Fy.Eh(a))?Qn:yt:q(Fy.Eh(a))?jz:Zu;KD(a);return b}
var XE=Zj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new p(null,5,[jp,"A",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),Yq,new W(null,2,5,Y,[1,Number],null),nv,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){return dE(sl,a,b)}}],null),new p(null,5,[jp,"S",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),Yq,new W(null,2,5,Y,[1,Number],
null),nv,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){return dE(ql,a,b)}}],null),new p(null,5,[jp,"D",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Qs,new W(null,2,5,Y,[3,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,
b){return gE(10,a,b)}}],null),new p(null,5,[jp,"B",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Qs,new W(null,2,5,Y,[3,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){return gE(2,a,b)}}],null),new p(null,5,[jp,"O",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],
null),Qs,new W(null,2,5,Y,[3,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){return gE(8,a,b)}}],null),new p(null,5,[jp,"X",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Qs,new W(null,2,5,Y,[3,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){return gE(16,a,b)}}],
null),new p(null,5,[jp,"R",Wt,new p(null,5,[Cp,new W(null,2,5,Y,[null,Number],null),JA,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null),iu,new W(null,2,5,Y,[",",String],null),Qs,new W(null,2,5,Y,[3,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(a){return q(H(Cp.Eh(a)))?function(b,c){return gE(Cp.Eh(b),b,c)}:q(function(){var b=Fy.Eh(a);return q(b)?hv.Eh(a):b}())?function(b,c){return rE(pE,c)}:q(Fy.Eh(a))?function(b,c){return rE(qE,
c)}:q(hv.Eh(a))?function(b,c){b=UD(c);c=P(b,0,null);b=P(b,1,null);if(D.Dh(0,c))HC.Ih(O(["zeroth"]));else{var d=eE(1E3,0>c?-c:c);if(M(d)<=M(lE)){var e=Vh.Dh(mE,Yh(1,d));e=nE(e,1);d=oE(yf(d));HC.Ih(O([[0>c?"minus ":null,Kf(e)||Kf(d)?Kf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else gE(10,new p(null,5,[JA,0,ds," ",iu,",",Qs,3,hv,!0],null),OD(new W(null,1,5,Y,[c],null))),d=Gg(c,100),c=11<d||19>d,d=Gg(d,10),HC.Ih(O([1===d&&c?"st":2===d&&c?"nd":3===d&&c?"rd":"th"]))}return b}:function(b,c){c=
UD(c);b=P(c,0,null);c=P(c,1,null);if(D.Dh(0,b))HC.Ih(O(["zero"]));else{var d=eE(1E3,0>b?-b:b);M(d)<=M(lE)?(d=Vh.Dh(mE,d),d=nE(d,0),HC.Ih(O([[0>b?"minus ":null,d].join("")]))):gE(10,new p(null,5,[JA,0,ds," ",iu,",",Qs,3,hv,!0],null),OD(new W(null,1,5,Y,[b],null)))}return c}}],null),new p(null,5,[jp,"P",Wt,V,fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return function(a,b){b=q(hv.Eh(a))?XD(b,-1):b;a=q(Fy.Eh(a))?new W(null,2,5,Y,["y","ies"],null):new W(null,2,
5,Y,["","s"],null);var c=UD(b);b=P(c,0,null);c=P(c,1,null);HC.Ih(O([D.Dh(b,1)?H(a):wf(a)]));return c}}],null),new p(null,5,[jp,"C",Wt,new p(null,1,[Zx,new W(null,2,5,Y,[null,String],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(a){return q(hv.Eh(a))?tE:q(Fy.Eh(a))?uE:vE}],null),new p(null,5,[jp,"F",Wt,new p(null,5,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[0,Number],null),CA,new W(null,2,5,
Y,[null,String],null),ds,new W(null,2,5,Y,[" ",String],null)],null),fx,new Bk(null,new p(null,1,[Fy,null],null),null),uz,V,wA,function(){return CE}],null),new p(null,5,[jp,"E",Wt,new p(null,7,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),iw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[1,Number],null),CA,new W(null,2,5,Y,[null,String],null),ds,new W(null,2,5,Y,[" ",String],null),bp,new W(null,2,5,Y,[null,String],null)],null),fx,new Bk(null,new p(null,
1,[Fy,null],null),null),uz,V,wA,function(){return DE}],null),new p(null,5,[jp,"G",Wt,new p(null,7,[rw,new W(null,2,5,Y,[null,Number],null),lw,new W(null,2,5,Y,[null,Number],null),iw,new W(null,2,5,Y,[null,Number],null),fw,new W(null,2,5,Y,[1,Number],null),CA,new W(null,2,5,Y,[null,String],null),ds,new W(null,2,5,Y,[" ",String],null),bp,new W(null,2,5,Y,[null,String],null)],null),fx,new Bk(null,new p(null,1,[Fy,null],null),null),uz,V,wA,function(){return EE}],null),new p(null,5,[jp,"$",Wt,new p(null,
4,[lw,new W(null,2,5,Y,[2,Number],null),xw,new W(null,2,5,Y,[1,Number],null),rw,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,V,wA,function(){return FE}],null),new p(null,5,[jp,"%",Wt,new p(null,1,[my,new W(null,2,5,Y,[1,Number],null)],null),fx,Ek,uz,V,wA,function(){return function(a,b){a=my.Eh(a);for(var c=0;;)if(c<a)JC(),c+=1;else break;return b}}],null),new p(null,5,[jp,"\x26",Wt,new p(null,1,
[my,new W(null,2,5,Y,[1,Number],null)],null),fx,new Bk(null,new p(null,1,[ht,null],null),null),uz,V,wA,function(){return function(a,b){a=my.Eh(a);0<a&&((null!=rc?rc.Lh&32768||l===rc.gg||(rc.Lh?0:Kc(zd,rc)):Kc(zd,rc))?D.Dh(0,QC(Cp.Eh(z(z(rc))),As))||JC():JC());--a;for(var c=0;;)if(c<a)JC(),c+=1;else break;return b}}],null),new p(null,5,[jp,"|",Wt,new p(null,1,[my,new W(null,2,5,Y,[1,Number],null)],null),fx,Ek,uz,V,wA,function(){return function(a,b){a=my.Eh(a);for(var c=0;;)if(c<a)HC.Ih(O(["\f"])),
c+=1;else break;return b}}],null),new p(null,5,[jp,"~",Wt,new p(null,1,[xw,new W(null,2,5,Y,[1,Number],null)],null),fx,Ek,uz,V,wA,function(){return function(a,b){a=xw.Eh(a);HC.Ih(O([qh(u,bi(a,"~"))]));return b}}],null),new p(null,5,[jp,"\n",Wt,V,fx,new Bk(null,new p(null,2,[hv,null,Fy,null],null),null),uz,V,wA,function(){return function(a,b){q(Fy.Eh(a))&&JC();return b}}],null),new p(null,5,[jp,"T",Wt,new p(null,2,[rz,new W(null,2,5,Y,[1,Number],null),Yq,new W(null,2,5,Y,[1,Number],null)],null),fx,
new Bk(null,new p(null,2,[Fy,null,ht,null],null),null),uz,V,wA,function(a){return q(Fy.Eh(a))?function(b,c){var d=rz.Eh(b);b=Yq.Eh(b);var e=d+QC(Cp.Eh(z(z(rc))),As);e=0<b?Gg(e,b):0;d+=D.Dh(0,e)?0:b-e;HC.Ih(O([qh(u,bi(d," "))]));return c}:function(b,c){var d=rz.Eh(b);b=Yq.Eh(b);var e=QC(Cp.Eh(z(z(rc))),As);d=e<d?d-e:D.Dh(b,0)?0:b-Gg(e-d,b);HC.Ih(O([qh(u,bi(d," "))]));return c}}],null),new p(null,5,[jp,"*",Wt,new p(null,1,[xw,new W(null,2,5,Y,[1,Number],null)],null),fx,new Bk(null,new p(null,2,[hv,
null,Fy,null],null),null),uz,V,wA,function(){return function(a,b){var c=xw.Eh(a);return q(Fy.Eh(a))?WD(b,c):XD(b,q(hv.Eh(a))?-c:c)}}],null),new p(null,5,[jp,"?",Wt,V,fx,new Bk(null,new p(null,1,[Fy,null],null),null),uz,V,wA,function(a){return q(Fy.Eh(a))?function(b,c){var d=VD(c);c=P(d,0,null);d=P(d,1,null);return xE(c,d,io.Eh(b))}:function(b,c){var d=VD(c);c=P(d,0,null);d=P(d,1,null);var e=UD(d);d=P(e,0,null);e=P(e,1,null);d=OD(d);xE(c,d,io.Eh(b));return e}}],null),new p(null,5,[jp,"(",Wt,V,fx,new Bk(null,
new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,new p(null,3,[Gq,")",$w,null,Tt,null],null),wA,function(a){var b=q(function(){var c=Fy.Eh(a);return q(c)?hv.Eh(a):c}())?RE:q(hv.Eh(a))?TE:q(Fy.Eh(a))?UE:QE;return function(c,d){a:{var e=H(ny.Eh(c)),f=rc;rc=b.Eh?b.Eh(rc):b.call(null,rc);try{var h=xE(e,d,io.Eh(c));break a}finally{rc=f}h=void 0}return h}}],null),new p(null,5,[jp,")",Wt,V,fx,Ek,uz,V,wA,function(){return null}],null),new p(null,5,[jp,"[",Wt,new p(null,1,[fz,new W(null,2,5,Y,[null,Number],
null)],null),fx,new Bk(null,new p(null,2,[hv,null,Fy,null],null),null),uz,new p(null,3,[Gq,"]",$w,!0,Tt,bw],null),wA,function(a){return q(hv.Eh(a))?HE:q(Fy.Eh(a))?IE:GE}],null),new p(null,5,[jp,";",Wt,new p(null,2,[eu,new W(null,2,5,Y,[null,Number],null),cy,new W(null,2,5,Y,[null,Number],null)],null),fx,new Bk(null,new p(null,1,[hv,null],null),null),uz,new p(null,1,[Ws,!0],null),wA,function(){return null}],null),new p(null,5,[jp,"]",Wt,V,fx,Ek,uz,V,wA,function(){return null}],null),new p(null,5,[jp,
"{",Wt,new p(null,1,[UA,new W(null,2,5,Y,[null,Number],null)],null),fx,new Bk(null,new p(null,3,[hv,null,Fy,null,Pw,null],null),null),uz,new p(null,2,[Gq,"}",$w,!1],null),wA,function(a){var b=Fy.Eh(a);b=q(b)?hv.Eh(a):b;return q(b)?ME:q(hv.Eh(a))?KE:q(Fy.Eh(a))?LE:JE}],null),new p(null,5,[jp,"}",Wt,V,fx,new Bk(null,new p(null,1,[hv,null],null),null),uz,V,wA,function(){return null}],null),new p(null,5,[jp,"\x3c",Wt,new p(null,4,[JA,new W(null,2,5,Y,[0,Number],null),Yq,new W(null,2,5,Y,[1,Number],null),
nv,new W(null,2,5,Y,[0,Number],null),ds,new W(null,2,5,Y,[" ",String],null)],null),fx,new Bk(null,new p(null,4,[hv,null,Fy,null,Pw,null,ht,null],null),null),uz,new p(null,3,[Gq,"\x3e",$w,!0,Tt,Pp],null),wA,function(){return NE}],null),new p(null,5,[jp,"\x3e",Wt,V,fx,new Bk(null,new p(null,1,[hv,null],null),null),uz,V,wA,function(){return null}],null),new p(null,5,[jp,"^",Wt,new p(null,3,[eA,new W(null,2,5,Y,[null,Number],null),gA,new W(null,2,5,Y,[null,Number],null),cA,new W(null,2,5,Y,[null,Number],
null)],null),fx,new Bk(null,new p(null,1,[hv,null],null),null),uz,V,wA,function(){return function(a,b){var c=eA.Eh(a),d=gA.Eh(a),e=cA.Eh(a),f=q(hv.Eh(a))?cx:rA;return q(q(c)?q(d)?e:d:c)?c<=d&&d<=e?new W(null,2,5,Y,[f,b],null):b:q(q(c)?d:c)?D.Dh(c,d)?new W(null,2,5,Y,[f,b],null):b:q(c)?D.Dh(c,0)?new W(null,2,5,Y,[f,b],null):b:(q(hv.Eh(a))?Kf(du.Eh(io.Eh(a))):Kf(du.Eh(b)))?new W(null,2,5,Y,[f,b],null):b}}],null),new p(null,5,[jp,"W",Wt,V,fx,new Bk(null,new p(null,4,[hv,null,Fy,null,Pw,null,ht,null],
null),null),uz,V,wA,function(a){if(q(function(){var c=Fy.Eh(a);return q(c)?c:hv.Eh(a)}())){var b=T.Dh(q(Fy.Eh(a))?new W(null,4,5,Y,[Bm,null,Un,null],null):Af,q(hv.Eh(a))?new W(null,2,5,Y,[ht,!0],null):Af);return function(c,d){d=UD(d);c=P(d,0,null);d=P(d,1,null);return q(rh(FD,c,b))?new W(null,2,5,Y,[rA,d],null):d}}return function(c,d){d=UD(d);c=P(d,0,null);d=P(d,1,null);return q(ED(c))?new W(null,2,5,Y,[rA,d],null):d}}],null),new p(null,5,[jp,"_",Wt,V,fx,new Bk(null,new p(null,3,[hv,null,Fy,null,
Pw,null],null),null),uz,V,wA,function(){return WE}],null),new p(null,5,[jp,"I",Wt,new p(null,1,[xw,new W(null,2,5,Y,[0,Number],null)],null),fx,new Bk(null,new p(null,1,[hv,null],null),null),uz,V,wA,function(){return VE}],null)]),YE=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,ZE=new Bk(null,new p(null,2,[ss,null,iz,null],null),null);
function $E(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);a=new RegExp(YE.source,"g");var e=a.exec(b);return q(e)?(d=H(e),b=Jg.Dh(b,a.lastIndex),a=c+a.lastIndex,D.Dh(",",lf(b,0))?new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[Jg.Dh(b,1),a+1,!0],null)],null):new W(null,2,5,Y,[new W(null,2,5,Y,[d,c],null),new W(null,3,5,Y,[b,a,!1],null)],null)):q(d)?SD("Badly formed parameters in format directive",c):new W(null,2,5,Y,[null,new W(null,2,5,Y,[b,c],null)],null)}
function aF(a){var b=P(a,0,null);a=P(a,1,null);return new W(null,2,5,Y,[D.Dh(b.length,0)?null:D.Dh(b.length,1)&&Yf(new Bk(null,new p(null,2,["V",null,"v",null],null),null),lf(b,0))?iz:D.Dh(b.length,1)&&D.Dh("#",lf(b,0))?ss:D.Dh(b.length,2)&&D.Dh("'",lf(b,0))?lf(b,1):parseInt(b,10),a],null)}var bF=new p(null,2,[":",hv,"@",Fy],null);
function cF(a,b){return MC(function(c){var d=P(c,0,null),e=P(c,1,null);c=P(c,2,null);if(Kf(d))return new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null);var f=B.Dh(bF,H(d));return q(f)?Yf(c,f)?SD(['Flag "',u.Eh(H(d)),'" appears more than once in a directive'].join(""),e):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[Jg.Dh(d,1),e+1,Q.Gh(c,f,new W(null,2,5,Y,[!0,e],null))],null)],null):new W(null,2,5,Y,[null,new W(null,3,5,Y,[d,e,c],null)],null)},new W(null,3,5,Y,[a,b,V],null))}
function dF(a,b){var c=fx.Eh(a);q(Hc(Fy.Eh(c))?Fy.Eh(b):!1)&&SD(['"@" is an illegal flag for format directive "',u.Eh(jp.Eh(a)),'"'].join(""),lf(Fy.Eh(b),1));q(Hc(hv.Eh(c))?hv.Eh(b):!1)&&SD(['":" is an illegal flag for format directive "',u.Eh(jp.Eh(a)),'"'].join(""),lf(hv.Eh(b),1));q(Hc(Pw.Eh(c))?function(){var d=Fy.Eh(b);return q(d)?hv.Eh(b):d}():!1)&&SD(['Cannot combine "@" and ":" flags for format directive "',u.Eh(jp.Eh(a)),'"'].join(""),function(){var d=lf(hv.Eh(b),1),e=lf(Fy.Eh(b),1);return d<
e?d:e}())}
function eF(a,b,c,d){dF(a,c);M(b)>M(Wt.Eh(a))&&SD(MD(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',O([jp.Eh(a),M(b),M(Wt.Eh(a))])),wf(H(b)));Xk(Vh.Gh(function(e,f){var h=H(e);return null==h||Yf(ZE,h)||D.Dh(wf(wf(f)),Lc(h))?null:SD(["Parameter ",Tg(H(f)),' has bad type in directive "',u.Eh(jp.Eh(a)),'": ',u.Eh(Lc(h))].join(""),wf(e))},b,Wt.Eh(a)));return wk.Ih(O([ki.Dh(V,Mg(function(){return function h(f){return new Ug(null,function(){for(;;){var k=
F(f);if(k){if(Rf(k)){var m=ke(k),n=M(m),r=Yg(n);a:for(var t=0;;)if(t<n){var w=x(m,t),y=P(w,0,null);w=P(w,1,null);w=P(w,0,null);r.add(new W(null,2,5,Y,[y,new W(null,2,5,Y,[w,d],null)],null));t+=1}else{m=!0;break a}return m?$g(ch(r),h(le(k))):$g(ch(r),null)}m=H(k);r=P(m,0,null);m=P(m,1,null);m=P(m,0,null);return rf(new W(null,2,5,Y,[r,new W(null,2,5,Y,[m,d],null)],null),h(Oe(k)))}return null}},null,null)}(Wt.Eh(a))}())),v.Gh(function(e,f){return rh(Q,e,f)},V,ii(function(e){return H(lf(e,1))},Ik(qj(Wt.Eh(a)),
b))),c]))}
function fF(a,b){b=MC($E,new W(null,3,5,Y,[a,b,!1],null));a=P(b,0,null);var c=P(b,1,null);b=P(c,0,null);c=P(c,1,null);b=cF(b,c);P(b,0,null);b=P(b,1,null);var d=P(b,0,null),e=P(b,1,null);b=P(b,2,null);c=H(d);var f=B.Dh(XE,c.toUpperCase()),h=q(f)?eF(f,Vh.Dh(aF,a),b,e):null;Hc(c)&&SD("Format string ended in the middle of a directive",e);Hc(f)&&SD(['Directive "',u.Eh(c),'" is undefined'].join(""),e);return new W(null,2,5,Y,[new YD(function(){var k=wA.Eh(f);return k.Dh?k.Dh(h,e):k.call(null,h,e)}(),f,
h,e,null,null,null),function(){var k=Jg.Dh(d,1),m=e+1;if(D.Dh("\n",jp.Eh(f))&&Hc(hv.Eh(h)))a:{var n=new W(null,2,5,Y,[" ","\t"],null);n=Lf(n)?Fk(n):dg([n]);for(var r=0;;){var t;(t=D.Dh(r,M(k)))||(t=lf(k,r),t=n.Eh?n.Eh(t):n.call(null,t),t=Hc(t));if(t){n=r;break a}r+=1}}else n=0;k=Jg.Dh(k,n);return new W(null,2,5,Y,[k,m+n],null)}()],null)}function gF(a,b){return new YD(function(c,d){HC.Ih(O([a]));return d},null,new p(null,1,[Zm,a],null),b,null,null,null)}
function hF(a,b){var c=iF(uz.Eh(xo.Eh(a)),gu.Eh(a),b);b=P(c,0,null);c=P(c,1,null);return new W(null,2,5,Y,[new YD(yw.Eh(a),xo.Eh(a),wk.Ih(O([Wt.Eh(a),OC(b,gu.Eh(a))])),gu.Eh(a),null,null,null),c],null)}
function jF(a,b,c){return MC(function(d){if(Kf(d))return SD("No closing bracket found.",b);var e=H(d);d=K(d);if(q(Gq.Eh(uz.Eh(xo.Eh(e)))))e=hF(e,d);else if(D.Dh(Gq.Eh(a),jp.Eh(xo.Eh(e))))e=new W(null,2,5,Y,[null,new W(null,4,5,Y,[Ir,Wt.Eh(e),null,d],null)],null);else{var f=Ws.Eh(uz.Eh(xo.Eh(e)));f=q(f)?hv.Eh(Wt.Eh(e)):f;e=q(f)?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Tt,null,Wt.Eh(e),d],null)],null):q(Ws.Eh(uz.Eh(xo.Eh(e))))?new W(null,2,5,Y,[null,new W(null,4,5,Y,[Ws,null,null,d],null)],null):new W(null,
2,5,Y,[e,d],null)}return e},c)}
function iF(a,b,c){return wf(MC(function(d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);var h=jF(a,b,d);d=P(h,0,null);var k=P(h,1,null);h=P(k,0,null);var m=P(k,1,null),n=P(k,2,null);k=P(k,3,null);return D.Dh(h,Ir)?new W(null,2,5,Y,[null,new W(null,2,5,Y,[xk.Ih(T,O([e,Ef([q(f)?Tt:ny,new W(null,1,5,Y,[d],null),Np,m])])),k],null)],null):D.Dh(h,Tt)?q(Tt.Eh(e))?SD('Two else clauses ("~:;") inside bracket construction.',b):Hc(Tt.Eh(a))?SD('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
D.Dh(Pp,Tt.Eh(a))&&F(ny.Eh(e))?SD('The else clause ("~:;") is only allowed in the first position for this directive.',b):D.Dh(Pp,Tt.Eh(a))?new W(null,2,5,Y,[!0,new W(null,3,5,Y,[xk.Ih(T,O([e,new p(null,2,[Tt,new W(null,1,5,Y,[d],null),tB,n],null)])),!1,k],null)],null):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[xk.Ih(T,O([e,new p(null,1,[ny,new W(null,1,5,Y,[d],null)],null)])),!0,k],null)],null):D.Dh(h,Ws)?q(f)?SD('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',
b):Hc($w.Eh(a))?SD('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new W(null,2,5,Y,[!0,new W(null,3,5,Y,[xk.Ih(T,O([e,new p(null,1,[ny,new W(null,1,5,Y,[d],null)],null)])),!1,k],null)],null):null},new W(null,3,5,Y,[new p(null,1,[ny,Af],null),!1,c],null)))}function kF(a){return H(MC(function(b){var c=H(b);b=K(b);var d=uz.Eh(xo.Eh(c));return q(Gq.Eh(d))?hF(c,b):new W(null,2,5,Y,[c,b],null)},a))}
function ND(a){var b=RD;RD=a;try{return kF(H(MC(function(c){var d=P(c,0,null);c=P(c,1,null);if(Kf(d))return new W(null,2,5,Y,[null,d],null);var e=d.indexOf("~");return 0>e?new W(null,2,5,Y,[gF(d,c),new W(null,2,5,Y,["",c+d.length],null)],null):0===e?fF(Jg.Dh(d,1),c+1):new W(null,2,5,Y,[gF(Jg.Gh(d,0,e),c),new W(null,2,5,Y,[Jg.Dh(d,e),e+c],null)],null)},new W(null,2,5,Y,[a,0],null))))}finally{RD=b}}
var PD=function PD(a){for(;;){if(Kf(a))return!1;var c=ht.Eh(fx.Eh(xo.Eh(H(a))));q(c)||(c=Ch(PD,H(ny.Eh(Wt.Eh(H(a))))),c=q(c)?c:Ch(PD,H(Tt.Eh(Wt.Eh(H(a))))));if(q(c))return!0;a=K(a)}};function QD(a,b){LC(function(c,d){if(wE(d))return new W(null,2,5,Y,[null,d],null);d=$D(Wt.Eh(c),d);var e=P(d,0,null);d=P(d,1,null);var f=NC(e);e=P(f,0,null);f=P(f,1,null);e=Q.Gh(e,io,d);return new W(null,2,5,Y,[null,qh(yw.Eh(c),new W(null,3,5,Y,[e,d,f],null))],null)},b,a);return null}
var lF=Ql(ND),mF=new p(null,6,[cw,"'",Cx,"#'",cs,"@",ax,"~",En,"@",lo,"~"],null);function nF(a){var b=H(a);b=mF.Eh?mF.Eh(b):mF.call(null,b);return q(q(b)?D.Dh(2,M(a)):b)?(Ud(rc,b),ED(wf(a)),!0):null}function oF(a){if(q(JD()))Ud(rc,"#");else{var b=BD,c=CD;BD+=1;CD=0;try{sD("[","]");for(var d=0,e=F(a);;){if(Hc(vc)||d<vc){if(e&&(ED(H(e)),K(e))){Ud(rc," ");KD(Zu);a=d+1;var f=K(e);d=a;e=f;continue}}else Ud(rc,"...");break}tD()}finally{CD=c,BD=b}}return null}
(function(){var a=lF("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=OD(d);return QD(a,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()})();
function pF(a){var b=Pf(a)?null:function(){var m=new Je(function(){return wl},ew,Zj([pn,rm,Vy,ut,Vn,nA,Jm,fn,su,Gx,lv],[!0,wm,Dw,"cljs/core.cljs",15,1,10307,10307,Ng(new W(null,1,5,Y,[mq],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",q(wl)?wl.Fi:null]));return m.Eh?m.Eh(a):m.call(null,a)}(),c=P(b,0,null);b=P(b,1,null);var d=q(b)?b:a,e=q(c)?["#:",u.Eh(c),"{"].join(""):"{";if(q(JD()))Ud(rc,"#");else{c=BD;b=CD;BD+=1;CD=0;try{sD(e,"}");e=0;for(var f=F(d);;){if(Hc(vc)||e<vc){if(f){if(q(JD()))Ud(rc,
"#");else{d=BD;var h=CD;BD+=1;CD=0;try{sD(null,null),ED(xf(f)),Ud(rc," "),KD(Zu),CD=0,ED(H(K(H(f)))),tD()}finally{CD=h,BD=d}}if(K(f)){Ud(rc,", ");KD(Zu);d=e+1;var k=K(f);e=d;f=k;continue}}}else Ud(rc,"...");break}tD()}finally{CD=b,BD=c}}return null}function qF(a){return Ud(rc,ql.Ih(O([a])))}
var rF=function(){var a=lF("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=OD(d);return QD(a,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()}(),sF=new p(null,2,["core$future_call","Future","core$promise","Promise"],null);
function tF(a){var b=Zk(/^[^$]+\$[^$]+/,a);b=q(b)?sF.Eh?sF.Eh(b):sF.call(null,b):null;return q(b)?b:a}var uF=function(){var a=lF("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=OD(d);return QD(a,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()}();
function vF(a){return a instanceof cj?$y:(null!=a?a.Lh&32768||l===a.gg||(a.Lh?0:Kc(zd,a)):Kc(zd,a))?RA:a instanceof A?zw:Uf(a)?hA:Of(a)?Wx:Qf(a)?Rw:Mf(a)?qp:null==a?null:jm}var wF,jG=Mh(V),kG=Mh(V),lG=Mh(V),mG=Mh(V),nG=B.Gh(V,gw,Vl.Nh?Vl.Nh():Vl.call(null));wF=new im(Ie.Dh(ba,"simple-dispatch"),vF,nG,jG,kG,lG,mG);
gm(wF,hA,function(a){if(Hc(nF(a)))if(q(JD()))Ud(rc,"#");else{var b=BD,c=CD;BD+=1;CD=0;try{sD("(",")");for(var d=0,e=F(a);;){if(Hc(vc)||d<vc){if(e&&(ED(H(e)),K(e))){Ud(rc," ");KD(Zu);a=d+1;var f=K(e);d=a;e=f;continue}}else Ud(rc,"...");break}tD()}finally{CD=c,BD=b}}return null});gm(wF,Rw,oF);gm(wF,Wx,pF);gm(wF,qp,rF);gm(wF,null,function(){return Ud(rc,ql.Ih(O([null])))});gm(wF,jm,qF);vD=wF;function CF(a){return Qf(a)?new W(null,2,5,Y,["[","]"],null):new W(null,2,5,Y,["(",")"],null)}
function DF(a){if(Nf(a)){var b=CF(a),c=P(b,0,null),d=P(b,1,null),e=F(a),f=H(e),h=K(e);if(q(JD()))Ud(rc,"#");else{var k=BD,m=CD,n=BD+1;BD=n;CD=0;try{sD(c,d);(function(){var ma=lF("~w~:i");return function(){function xa(fa){var na=null;if(0<arguments.length){na=0;for(var Ba=Array(arguments.length-0);na<Ba.length;)Ba[na]=arguments[na+0],++na;na=new Me(Ba,0,null)}return Na.call(this,na)}function Na(fa){fa=OD(fa);return QD(ma,fa)}xa.Sh=0;xa.ba=function(fa){fa=F(fa);return Na(fa)};xa.Ih=Na;return xa}()})()(f);
for(var r=h;;)if(F(r)){(function(){var ma=lF(" ");return function(xa,Na,fa){return function(){function na(ta){var Da=null;if(0<arguments.length){Da=0;for(var Ta=Array(arguments.length-0);Da<Ta.length;)Ta[Da]=arguments[Da+0],++Da;Da=new Me(Ta,0,null)}return Ba.call(this,Da)}function Ba(ta){ta=OD(ta);return QD(fa,ta)}na.Sh=0;na.ba=function(ta){ta=F(ta);return Ba(ta)};na.Ih=Ba;return na}()}(r," ",ma,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var t=H(r);if(Nf(t)){var w=CF(t),y=P(w,0,null),E=P(w,1,null);if(q(JD()))Ud(rc,
"#");else{var I=BD,G=CD,J=BD+1;BD=J;CD=0;try{sD(y,E);if(D.Dh(M(t),3)&&wf(t)instanceof C){var N=t,U=P(N,0,null),da=P(N,1,null),wa=P(N,2,null);(function(){var ma=lF("~w ~w ");return function(xa,Na,fa){return function(){function na(ta){var Da=null;if(0<arguments.length){Da=0;for(var Ta=Array(arguments.length-0);Da<Ta.length;)Ta[Da]=arguments[Da+0],++Da;Da=new Me(Ta,0,null)}return Ba.call(this,Da)}function Ba(ta){ta=OD(ta);return QD(fa,ta)}na.Sh=0;na.ba=function(ta){ta=F(ta);return Ba(ta)};na.Ih=Ba;return na}()}(r,
"~w ~w ",ma,N,U,da,wa,I,G,J,0,w,y,E,t,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(U,da);Nf(wa)?function(){var ma=Qf(wa)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",xa="string"===typeof ma?lF(ma):ma;return function(Na,fa,na){return function(){function Ba(Da){var Ta=null;if(0<arguments.length){Ta=0;for(var Hb=Array(arguments.length-0);Ta<Hb.length;)Hb[Ta]=arguments[Ta+0],++Ta;Ta=new Me(Hb,0,null)}return ta.call(this,Ta)}function ta(Da){Da=OD(Da);return QD(na,Da)}Ba.Sh=0;Ba.ba=function(Da){Da=
F(Da);return ta(Da)};Ba.Ih=ta;return Ba}()}(r,ma,xa,N,U,da,wa,I,G,J,0,w,y,E,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(wa):ED(wa)}else qh(function(){var ma=lF("~w ~:i~@{~w~^ ~:_~}");return function(xa,Na,fa){return function(){function na(ta){var Da=null;if(0<arguments.length){Da=0;for(var Ta=Array(arguments.length-0);Da<Ta.length;)Ta[Da]=arguments[Da+0],++Da;Da=new Me(Ta,0,null)}return Ba.call(this,Da)}function Ba(ta){ta=OD(ta);return QD(fa,ta)}na.Sh=0;na.ba=function(ta){ta=F(ta);return Ba(ta)};na.Ih=Ba;return na}()}(r,
"~w ~:i~@{~w~^ ~:_~}",ma,I,G,J,0,w,y,E,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),t);tD()}finally{CD=G,BD=I}}K(r)&&function(){var ma=lF("~_");return function(xa,Na,fa){return function(){function na(ta){var Da=null;if(0<arguments.length){Da=0;for(var Ta=Array(arguments.length-0);Da<Ta.length;)Ta[Da]=arguments[Da+0],++Da;Da=new Me(Ta,0,null)}return Ba.call(this,Da)}function Ba(ta){ta=OD(ta);return QD(fa,ta)}na.Sh=0;na.ba=function(ta){ta=F(ta);return Ba(ta)};na.Ih=Ba;return na}()}(r,"~_",ma,w,y,E,t,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else ED(t),K(r)&&function(){var ma=lF("~:_");return function(xa,Na,fa){return function(){function na(ta){var Da=null;if(0<arguments.length){Da=0;for(var Ta=Array(arguments.length-0);Da<Ta.length;)Ta[Da]=arguments[Da+0],++Da;Da=new Me(Ta,0,null)}return Ba.call(this,Da)}function Ba(ta){ta=OD(ta);return QD(fa,ta)}na.Sh=0;na.ba=function(ta){ta=F(ta);return Ba(ta)};na.Ih=Ba;return na}()}(r,"~:_",ma,t,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();r=K(r)}else break;tD()}finally{CD=m,BD=k}}}else ED(a)}
var EF=function(){var a=lF("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=OD(d);return QD(a,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()}();
function FF(a,b){F(a)&&(q(b)?function(){var c=lF(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Me(k,0,null)}return e.call(this,h)}function e(f){f=OD(f);return QD(c,f)}d.Sh=0;d.ba=function(f){f=F(f);return e(f)};d.Ih=e;return d}()}()():function(){var c=lF(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new Me(k,0,null)}return e.call(this,h)}function e(f){f=OD(f);return QD(c,f)}d.Sh=0;d.ba=function(f){f=F(f);return e(f)};d.Ih=e;return d}()}()(),function(){var c=lF("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Me(k,0,null)}return e.call(this,h)}function e(f){f=OD(f);return QD(c,f)}d.Sh=0;d.ba=function(f){f=F(f);return e(f)};d.Ih=e;return d}()}()(a))}
function GF(a){F(a)&&function(){var b=lF(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new Me(h,0,null)}return d.call(this,f)}function d(e){e=OD(e);return QD(b,e)}c.Sh=0;c.ba=function(e){e=F(e);return d(e)};c.Ih=d;return c}()}()(a)}
function HF(a){if(K(a)){var b=F(a);a=H(b);var c=K(b);b=H(c);c=K(c);var d="string"===typeof H(c)?new W(null,2,5,Y,[H(c),K(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);var e=Of(H(d))?new W(null,2,5,Y,[H(d),K(d)],null):new W(null,2,5,Y,[null,d],null);d=P(e,0,null);e=P(e,1,null);if(q(JD()))Ud(rc,"#");else{var f=BD,h=CD;BD+=1;CD=0;try{sD("(",")"),function(){var k=lF("~w ~1I~@_~w");return function(){function m(r){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-
0);t<w.length;)w[t]=arguments[t+0],++t;t=new Me(w,0,null)}return n.call(this,t)}function n(r){r=OD(r);return QD(k,r)}m.Sh=0;m.ba=function(r){r=F(r);return n(r)};m.Ih=n;return m}()}()(a,b),q(c)&&function(){var k=lF(" ~_~w");return function(){function m(r){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new Me(w,0,null)}return n.call(this,t)}function n(r){r=OD(r);return QD(k,r)}m.Sh=0;m.ba=function(r){r=F(r);return n(r)};m.Ih=n;return m}()}()(c),
q(d)&&function(){var k=lF(" ~_~w");return function(){function m(r){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new Me(w,0,null)}return n.call(this,t)}function n(r){r=OD(r);return QD(k,r)}m.Sh=0;m.ba=function(r){r=F(r);return n(r)};m.Ih=n;return m}()}()(d),Qf(H(e))?FF(e,q(c)?c:d):GF(e),tD()}finally{CD=h,BD=f}}return null}return IF(a)}
function JF(a){if(q(JD()))Ud(rc,"#");else{var b=BD,c=CD;BD+=1;CD=0;try{sD("[","]");for(var d=0;;){if(Hc(vc)||d<vc){if(F(a)){if(q(JD()))Ud(rc,"#");else{var e=BD,f=CD;BD+=1;CD=0;try{sD(null,null),ED(H(a)),K(a)&&(Ud(rc," "),KD(jz),ED(wf(a))),tD()}finally{CD=f,BD=e}}if(K(Oe(a))){Ud(rc," ");KD(Zu);e=d+1;var h=K(Oe(a));d=e;a=h;continue}}}else Ud(rc,"...");break}tD()}finally{CD=c,BD=b}}}
function KF(a){var b=H(a);if(q(JD()))Ud(rc,"#");else{var c=BD,d=CD;BD+=1;CD=0;try{sD("(",")"),K(a)&&Qf(wf(a))?(function(){var e=lF("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){k=OD(k);return QD(e,k)}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}()}()(b),JF(wf(a)),function(){var e=lF(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){k=OD(k);return QD(e,k)}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}()}()(K(Oe(a)))):IF(a),tD()}finally{CD=d,BD=c}}return null}
var LF=function(){var a=lF("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new Me(f,0,null)}return c.call(this,e)}function c(d){d=OD(d);return QD(a,d)}b.Sh=0;b.ba=function(d){d=F(d);return c(d)};b.Ih=c;return b}()}(),MF=V;
function IF(a){if(q(JD()))Ud(rc,"#");else{var b=BD,c=CD;BD+=1;CD=0;try{sD("(",")");LD(St,1);for(var d=0,e=F(a);;){if(Hc(vc)||d<vc){if(e&&(ED(H(e)),K(e))){Ud(rc," ");KD(Zu);a=d+1;var f=K(e);d=a;e=f;continue}}else Ud(rc,"...");break}tD()}finally{CD=c,BD=b}}return null}
var NF=function(a){return ki.Dh(V,gi(og,O([function(){return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new W(null,2,5,Y,[n,new W(null,2,5,Y,[Ie.Eh(Tg(H(n))),wf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}k=H(e);return rf(new W(null,2,5,Y,[k,new W(null,2,5,Y,[Ie.Eh(Tg(H(k))),wf(k)],null)],null),d(Oe(e)))}return null}},null,null)}(a)}()])))}(function(a){return ki.Dh(V,
Vh.Dh(function(b){var c=P(b,0,null),d=P(b,1,null);var e=Qg(c);e=q(e)?e:Yf(new Bk(null,new p(null,24,[Fr,"null",Vt,"null",zm,"null",Cv,"null",Om,"null",Eo,"null",$v,"null",gv,"null",Hp,"null",Rv,"null",$u,"null",Jw,"null",fB,"null",Qp,"null",tu,"null",gn,"null",cq,"null",sr,"null",Ey,"null",Cx,"null",cw,"null",zu,"null",Fv,"null",Ds,"null"],null),null),c);return Hc(e)?new W(null,2,5,Y,[Ie.Dh("clojure.core",Tg(c)),d],null):b},a))}(Zj([Ey,gn,Vp,Rv,PA,ct,mB,Iu,cz,Ku,mx,eo,Uz,Ds,Sq,Xn,xv,Ys,hy,Jw,yo,Ux,
Jv,sw,Mz,hp,ou,MA,vy,au],[EF,function(a){var b=wf(a),c=H(Oe(Oe(a)));if(Qf(b)){a=MF;MF=D.Dh(1,M(b))?Ef([H(b),"%"]):ki.Dh(V,Vh.Gh(function(d,e){return new W(null,2,5,Y,[d,["%",u.Eh(e)].join("")],null)},b,Rk.Dh(1,M(b)+1)));try{return function(){var d=lF("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new Me(m,0,null)}return f.call(this,k)}function f(h){h=OD(h);return QD(d,
h)}e.Sh=0;e.ba=function(h){h=F(h);return f(h)};e.Ih=f;return e}()}()(c)}finally{MF=a}}else return IF(a)},KF,LF,function(a){if(3<M(a)){if(q(JD()))Ud(rc,"#");else{var b=BD,c=CD;BD+=1;CD=0;try{sD("(",")");LD(St,1);qh(function(){var k=lF("~w ~@_~w ~@_~w ~_");return function(){function m(r){var t=null;if(0<arguments.length){t=0;for(var w=Array(arguments.length-0);t<w.length;)w[t]=arguments[t+0],++t;t=new Me(w,0,null)}return n.call(this,t)}function n(r){r=OD(r);return QD(k,r)}m.Sh=0;m.ba=function(r){r=
F(r);return n(r)};m.Ih=n;return m}()}(),a);for(var d=0,e=F(Xh(3,a));;){if(Hc(vc)||d<vc){if(e){if(q(JD()))Ud(rc,"#");else{a=BD;var f=CD;BD+=1;CD=0;try{sD(null,null),ED(H(e)),K(e)&&(Ud(rc," "),KD(jz),ED(wf(e))),tD()}finally{CD=f,BD=a}}if(K(Oe(e))){Ud(rc," ");KD(Zu);a=d+1;var h=K(Oe(e));d=a;e=h;continue}}}else Ud(rc,"...");break}tD()}finally{CD=c,BD=b}}return null}return IF(a)},EF,HF,HF,KF,EF,KF,LF,LF,EF,LF,KF,KF,EF,KF,function(a){if(K(a)){var b=F(a);a=H(b);var c=K(b);b=H(c);c=K(c);var d="string"===
typeof H(c)?new W(null,2,5,Y,[H(c),K(c)],null):new W(null,2,5,Y,[null,c],null);c=P(d,0,null);d=P(d,1,null);d=Of(H(d))?new W(null,2,5,Y,[H(d),K(d)],null):new W(null,2,5,Y,[null,d],null);var e=P(d,0,null),f=P(d,1,null);if(q(JD()))Ud(rc,"#");else{d=BD;var h=CD;BD+=1;CD=0;try{sD("(",")");(function(){var m=lF("~w ~1I~@_~w");return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var y=Array(arguments.length-0);w<y.length;)y[w]=arguments[w+0],++w;w=new Me(y,0,null)}return r.call(this,
w)}function r(t){t=OD(t);return QD(m,t)}n.Sh=0;n.ba=function(t){t=F(t);return r(t)};n.Ih=r;return n}()})()(a,b);q(q(c)?c:q(e)?e:F(f))&&function(){var m=lF("~@:_");return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var y=Array(arguments.length-0);w<y.length;)y[w]=arguments[w+0],++w;w=new Me(y,0,null)}return r.call(this,w)}function r(t){t=OD(t);return QD(m,t)}n.Sh=0;n.ba=function(t){t=F(t);return r(t)};n.Ih=r;return n}()}()();q(c)&&MD(!0,'"~a"~:[~;~:@_~]',O([c,q(e)?e:F(f)]));
q(e)&&function(){var m=lF("~w~:[~;~:@_~]");return function(){function n(t){var w=null;if(0<arguments.length){w=0;for(var y=Array(arguments.length-0);w<y.length;)y[w]=arguments[w+0],++w;w=new Me(y,0,null)}return r.call(this,w)}function r(t){t=OD(t);return QD(m,t)}n.Sh=0;n.ba=function(t){t=F(t);return r(t)};n.Ih=r;return n}()}()(e,F(f));for(a=f;;){DF(H(a));var k=K(a);if(k)b=k,KD(Zu),a=b;else break}tD()}finally{CD=h,BD=d}}return null}return ED(a)},KF,function(a){if(q(JD()))Ud(rc,"#");else{var b=BD,c=
CD;BD+=1;CD=0;try{sD("(",")");LD(St,1);ED(H(a));if(K(a)){Ud(rc," ");KD(Zu);for(var d=0,e=K(a);;){if(Hc(vc)||d<vc){if(e){if(q(JD()))Ud(rc,"#");else{a=BD;var f=CD;BD+=1;CD=0;try{sD(null,null),ED(H(e)),K(e)&&(Ud(rc," "),KD(jz),ED(wf(e))),tD()}finally{CD=f,BD=a}}if(K(Oe(e))){Ud(rc," ");KD(Zu);a=d+1;var h=K(Oe(e));d=a;e=h;continue}}}else Ud(rc,"...");break}}tD()}finally{CD=c,BD=b}}return null},KF,HF,HF,EF,EF,KF,KF,EF]))),OF,MK=Mh(V),oO=Mh(V),pO=Mh(V),qO=Mh(V),rO=B.Gh(V,gw,Vl.Nh?Vl.Nh():Vl.call(null));
OF=new im(Ie.Dh(ba,"code-dispatch"),vF,rO,MK,oO,pO,qO);gm(OF,hA,function(a){if(Hc(nF(a))){var b=NF.call(null,H(a));return q(b)?b.Eh?b.Eh(a):b.call(null,a):IF(a)}return null});gm(OF,zw,function(a){var b=a.Eh?a.Eh(MF):a.call(null,MF);return q(b)?HC.Ih(O([b])):q(yD)?HC.Ih(O([Tg(a)])):IC.call(null,a)});gm(OF,Rw,oF);gm(OF,Wx,pF);gm(OF,qp,rF);gm(OF,$y,uF);
gm(OF,RA,function(a){var b=["#\x3c",u.Eh(tF(Lc(a).name)),"@",u.Eh(va(a)),": "].join("");if(q(JD()))Ud(rc,"#");else{var c=BD,d=CD;BD+=1;CD=0;try{sD(b,"\x3e"),LD(St,-(b.length-2)),KD(Zu),ED((null!=a?a.Qh&1||l===a.Bi||(a.Qh?0:Kc(Yd,a)):Kc(Yd,a))&&!Zd(a)?co:z(a)),tD()}finally{CD=d,BD=c}}return null});gm(OF,null,IC);gm(OF,jm,qF);vD=wF;var UF=/[\s]/;function VF(a){return null==a?null:","===a?!0:UF.test(a)}function WF(a){return null==a?null:!/[^0-9]/.test(a)}
function XF(a,b){return function e(d){return new Ug(null,function(){for(;;){var f=F(d);if(f){if(Rf(f)){var h=ke(f),k=M(h),m=Yg(k);return function(){for(var r=0;;)if(r<k){var t=x(h,r),w=m;if(t instanceof A||t instanceof C){var y=Wk(Qg,Tg)(t),E=P(y,0,null);y=P(y,1,null);var I=t instanceof A?Ie:Sg;t=null==E?I.Dh?I.Dh(a,y):I.call(null,a,y):D.Dh("_",E)?I.Eh?I.Eh(y):I.call(null,y):t}w.add(t);r+=1}else return!0}()?$g(ch(m),e(le(f))):$g(ch(m),null)}var n=H(f);return rf(n instanceof A||n instanceof C?function(){var r=
Wk(Qg,Tg)(n),t=P(r,0,null);r=P(r,1,null);var w=n instanceof A?Ie:Sg;return null==t?w.Dh?w.Dh(a,r):w.call(null,a,r):D.Dh("_",t)?w.Eh?w.Eh(r):w.call(null,r):n}():n,e(Oe(f)))}return null}},null,null)}(b)}function YF(a,b){a=parseInt(a,b);return q(isNaN(a))?-1:a};function ZF(a){if(null!=a&&null!=a.Dd)a=a.Dd(a);else{var b=ZF[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ZF._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("Reader.read-char",a);}return a}function $F(a){if(null!=a&&null!=a.oe)a=a.oe(a);else{var b=$F[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=$F._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("Reader.peek-char",a);}return a}
function aG(a,b){if(null!=a&&null!=a.og)a.og(a,b);else{var c=aG[pa(null==a?null:a)];if(null!=c)c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=aG._,null!=c)c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IPushbackReader.unread",a);}}function bG(a){if(null!=a&&null!=a.oh)a=a.oh(a);else{var b=bG[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=bG._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IndexingReader.get-line-number",a);}return a}
function cG(a){if(null!=a&&null!=a.mh)a=a.mh(a);else{var b=cG[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=cG._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IndexingReader.get-column-number",a);}return a}function dG(a){if(null!=a&&null!=a.nh)a=a.nh(a);else{var b=dG[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=dG._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IndexingReader.get-file-name",a);}return a}
function eG(a,b){this.s=a;this.Mg=b;this.Vd=0}eG.prototype.Dd=function(){if(this.Mg>this.Vd){var a=this.s.charAt(this.Vd);this.Vd+=1;return a}return null};eG.prototype.oe=function(){return this.Mg>this.Vd?this.s.charAt(this.Vd):null};function fG(a,b){this.Ig=a;this.Ca=b;this.Fc=this.kf=1}fG.prototype.Dd=function(){var a=this.Fc<this.kf?this.Ca[this.Fc]:this.Ig.Dd(null);this.Fc<this.kf&&(this.Fc+=1);return null==a?null:Cg(a)};
fG.prototype.oe=function(){var a=this.Fc<this.kf?this.Ca[this.Fc]:this.Ig.oe(null);return null==a?null:Cg(a)};fG.prototype.og=function(a,b){if(q(b)){if(0===this.Fc)throw Error("Pushback buffer is full");--this.Fc;return this.Ca[this.Fc]=b}return null};function gG(a){return null!=a?l===a.Gi?!0:!1:!1};function hG(a,b,c,d){var e=M(b);a=q(a)?0:10<e?10:e;b=Vh.Dh(Hh(iG,!0),Wh.Dh(a,b));b=qh(u,Xh(1,ei.Dh(ai(" "),b)));e=a<e?"...":null;return[u.Eh(c),u.Eh(b),e,u.Eh(d)].join("")}var iG,sO=Mh(V),tO=Mh(V),uO=Mh(V),EO=Mh(V),FO=B.Gh(V,gw,Vl.Nh?Vl.Nh():Vl.call(null));
iG=new im(Ie.Dh("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?hs:"string"===typeof b?Zm:b instanceof C?vw:"number"===typeof b?vw:b instanceof A?vw:Qf(b)?Rw:Kg(b)?hA:Of(b)?Wx:Mf(b)?qp:D.Dh(b,!0)?vw:D.Dh(b,!1)?vw:Lc(b)},FO,sO,tO,uO,EO);iG.hb(null,Zm,function(a,b){a=q(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',u.Eh(b.substring(0,a<d?a:d)),c].join("")});iG.hb(null,vw,function(a,b){return u.Eh(b)});iG.hb(null,Me,function(){return"\x3cindexed seq\x3e"});
iG.hb(null,lj,function(){return"\x3cmap seq\x3e"});iG.hb(null,Sj,function(){return"\x3cmap seq\x3e"});iG.hb(null,Og,function(){return"\x3ccons\x3e"});iG.hb(null,Ug,function(){return"\x3clazy seq\x3e"});iG.hb(null,hs,function(){return"nil"});iG.hb(null,hA,function(a,b){return hG(a,b,"(",")")});iG.hb(null,Wx,function(a,b){var c=M(b),d=q(a)?0:c;b=qh(T,Wh.Dh(d,b));return hG(a,b,"{",c>d?"...}":"}")});iG.hb(null,qp,function(a,b){return hG(a,b,"#{","}")});iG.hb(null,Rw,function(a,b){return hG(a,b,"[","]")});
iG.hb(null,jm,function(a,b){return ql.Ih(O([Lc(b)]))});function oG(a,b,c){b=new p(null,2,[eq,rs,Gr,b],null);a=gG(a)?Q.Ih(b,ut,dG(a),O([Jm,bG(a),ir,cG(a)])):b;var d=ut.Eh(a);b=Jm.Eh(a);var e=ir.Eh(a);d=q(d)?[u.Eh(d)," "].join(""):null;b=q(b)?["[line ",u.Eh(b),", col ",u.Eh(e),"]"].join(""):null;c=th(u,d,b,q(q(d)?d:b)?" ":null,c);throw om(c,a);}function pG(a,b){return oG(a,jq,O([qh(u,b)]))}function qG(a,b){return oG(a,Po,O([qh(u,b)]))}function rG(a,b){return oG(a,hx,O([qh(u,b)]))}
function sG(a,b,c,d){pG(a,O(["The map literal starting with ",iG.Dh(!1,H(d)),q(b)?[" on line ",u.Eh(b)," column ",u.Eh(c)].join(""):null," contains ",M(d)," form(s). Map literals must contain an even number of forms."]))}function tG(a,b,c){return pG(a,O(["Invalid ",Tg(b),": ",c,"."]))}function uG(a,b,c){return pG(a,O(["Invalid character: ",c," found while reading ",Tg(b),"."]))}
function vG(a,b){a:{var c=Zm instanceof C?Zm.la:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",u.Eh(c)].join(""));}}return rG(a,O(["Unexpected EOF reading ",Tg(Zm)," starting ",rh(u,c,b),"."]))}function wG(a,b){return qG(a,O(["Invalid digit ",b," in unicode character."]))}function xG(a){return pG(a,O(["Octal escape sequence must be in range [0, 377]."]))}
function yG(a,b){b=function(c){return function f(e){return new Ug(null,function(){for(var h=e;;)if(h=F(h)){if(Rf(h)){var k=ke(h),m=M(k),n=Yg(m);a:for(var r=0;;)if(r<m){var t=x(k,r),w=P(t,0,null);1<P(t,1,null)&&n.add(w);r+=1}else{k=!0;break a}return k?$g(ch(n),f(le(h))):$g(ch(n),null)}n=H(h);k=P(n,0,null);if(1<P(n,1,null))return rf(k,f(Oe(h)));h=Oe(h)}else return null},null,null)}(Vk(c))}(b);return th(u,a,1<M(b)?"s":null,": ",Xh(1,ei.Dh(ai(", "),b)))}
function zG(a,b,c){pG(a,O([yG([hb(Tg(b))," literal contains duplicate key"].join(""),c)]))};function AG(a){for(var b=a.Dd(null);;)if(VF.Eh?VF.Eh(b):VF.call(null,b))b=a.Dd(null);else return b}var BG=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,CG=/([-+]?[0-9]+)\/([0-9]+)/,DG=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function JG(a,b){a=Zk(a,b);return P(a,0,null)===b}
function KG(a){if(JG(BG,a)){var b=kg(Zk(BG,a));if(null!=(b.Eh?b.Eh(2):b.call(null,2)))a=0;else{a="-"===(b.Eh?b.Eh(1):b.call(null,1));b=null!=(b.Eh?b.Eh(3):b.call(null,3))?new W(null,2,5,Y,[b.Eh?b.Eh(3):b.call(null,3),10],null):null!=(b.Eh?b.Eh(4):b.call(null,4))?new W(null,2,5,Y,[b.Eh?b.Eh(4):b.call(null,4),16],null):null!=(b.Eh?b.Eh(5):b.call(null,5))?new W(null,2,5,Y,[b.Eh?b.Eh(5):b.call(null,5),8],null):null!=(b.Eh?b.Eh(7):b.call(null,7))?new W(null,2,5,Y,[b.Eh?b.Eh(7):b.call(null,7),parseInt(b.Eh?
b.Eh(6):b.call(null,6))],null):new W(null,2,5,Y,[null,null],null);var c=b.Eh?b.Eh(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.Eh?b.Eh(1):b.call(null,1)),a=a?-1*b:b,a=q(isNaN(a))?null:a)}}else JG(DG,a)?(b=kg(Zk(DG,a)),a=null!=(b.Eh?b.Eh(4):b.call(null,4))?parseFloat(b.Eh?b.Eh(1):b.call(null,1)):parseFloat(a)):JG(CG,a)?(b=kg(Zk(CG,a)),a=b.Eh?b.Eh(1):b.call(null,1),b=b.Eh?b.Eh(2):b.call(null,2),a=q(Zk(/^\+/,a))?Jg.Dh(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function LG(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?Jg.Gh(a,0,b):null;if(null!=c){b+=1;if(b===M(a))return null;a=Jg.Dh(a,b);return WF(lf(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new W(null,2,5,Y,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new W(null,2,5,Y,[null,a],null):null}
var MG=function MG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new Me(c.slice(1),0,null):null;return MG.Ih(arguments[0],c)};MG.Ih=function(a){for(;;){var b=a.Dd(null);if("\n"===b||"\n"===b||null==b)break}return a};MG.Sh=1;MG.ba=function(a){var b=H(a);a=K(a);return this.Ih(b,a)};
function NG(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new Me(f,0,null)}return b.call(this,c,e)}function b(c){return pG(c,O(["Unreadable form"]))}a.Sh=1;a.ba=function(c){var d=H(c);c=Oe(c);return b(d,c)};a.Ih=b;return a}()};new nc;function OG(a){return"#"!==a?"'"!==a?":"!==a?PG.Eh?PG.Eh(a):PG.call(null,a):!1:!1:!1}function QG(a){return"@"===a||"`"===a||"~"===a}function RG(a,b,c,d){if(Hc(c))return rG(a,O(["Unexpected EOF while reading start of ",Tg(b),"."]));if(q(q(d)?QG(c):d))return uG(a,b,c);d=new nc;for(aG(a,c);;){if(VF(c)||OG(c)||null==c)return u.Eh(d);if(QG(c))return uG(a,b,c);d.append(ZF(a));c=$F(a)}}
function SG(a,b,c){b=ZF(a);if(q(b)){var d=TG.Eh?TG.Eh(b):TG.call(null,b);if(q(d))return d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);aG(a,b);return UG.Gh?UG.Gh(a,b,c):UG.call(null,a,b,c)}return rG(a,O(["Unexpected EOF while reading dispatch character."]))}function VG(a,b){return pG(a,O(["Unmatched delimiter ",b,"."]))}
function WG(a,b,c){b=1+b;if(M(a)!==b)throw qG(null,O(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=YF(lf(a,d),c);if(-1===f)return c=lf(a,d),qG(null,O(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function XG(a,b,c,d,e){for(var f=1,h=YF(b,c);;){if(-1===h)return wG(a,b);if(f!==d){var k=$F(a);var m=VF(k);m||(m=PG.Eh?PG.Eh(k):PG.call(null,k),m=q(m)?m:null==k);if(q(m))return q(e)?qG(a,O(["Invalid unicode literal. Unicode literals should be ",d,"characters long.  ","value suppled is ",f,"characters long."])):String.fromCharCode(h);m=YF(k,c);ZF(a);if(-1===m)return wG(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function YG(a){var b=ZF(a);if(null!=b){b=OG(b)||QG(b)||VF(b)?u.Eh(b):RG(a,Vv,b,!1);var c=b.length;if(1===c)return lf(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(q(0==b.lastIndexOf("u",0)))return b=WG(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=pG(a,O(["Invalid character literal \\u",b,"."]))):a=b,a;if(q(0==b.lastIndexOf("o",0))){--c;if(3<c)return pG(a,O(["Invalid octal escape sequence in a character literal:",
b,". Octal escape sequences must be 3 or fewer digits."]));b=WG(b,c,8);return 255<(b|0)?xG(a):b}return pG(a,O(["Unsupported character: ",b,"."]))}return rG(a,O(["Unexpected EOF while reading character."]))}function ZG(a){return gG(a)?new W(null,2,5,Y,[bG(a),(cG(a)|0)-1|0],null):null}
function $G(a,b,c,d){var e=ZG(c),f=P(e,0,null);e=P(e,1,null);b=null==b?null:Cg(b);for(var h=ce(Af);;){var k=AG(c);if(!q(k)){var m=a,n=f,r=e,t=M(h);rG(c,O(["Unexpected EOF while reading ",q(t)?["item ",u.Eh(t)," of "].join(""):null,Tg(m),q(n)?[", starting at line ",u.Eh(n)," and column ",u.Eh(r)].join(""):null,"."]))}if(D.Dh(b,null==k?null:Cg(k)))return ee(h);m=PG.Eh?PG.Eh(k):PG.call(null,k);q(m)?(k=m.Gh?m.Gh(c,k,d):m.call(null,c,k,d),h=k!==c?ih.Dh(h,k):h):(aG(c,k),k=aH?aH(c,!0,null,d):bH.call(null,
c,!0,null,d),h=k!==c?ih.Dh(h,k):h)}}function cH(a,b,c){a=$G(hA,")",a,c);return Kf(a)?Pe:qh(Ng,a)}function dH(a,b,c){return $G(Rw,"]",a,c)}function eH(a,b,c){var d=ZG(a);b=P(d,0,null);d=P(d,1,null);c=$G(Wx,"}",a,c);var e=M(c),f=Sk(2,c),h=Fk(f);!Dh(e)&&sG(a,b,d,c);D.Dh(M(h),M(f))||zG(a,Wx,f);if(e<=2*tj)a=ig(c),a=new p(null,a.length/2,a,null);else a:for(a=ig(c),b=a.length,d=0,e=ce(uj);;)if(d<b)c=d+2,e=fe(e,a[d],a[d+1]),d=c;else{a=ee(e);break a}return a}
function fH(a,b){for(var c=function(){var h=new nc;h.append(b);return h}(),d=ZF(a);;){if(q(function(){var h=VF(d);if(h)return h;h=PG.Eh?PG.Eh(d):PG.call(null,d);return q(h)?h:null==d}())){var e=u.Eh(c);aG(a,d);var f=KG(e);return q(f)?f:pG(a,O(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=ZF(a);c=e;d=f}}
function gH(a){var b=ZF(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=ZF(a),-1===parseInt(b|0,16)?pG(a,O(["Invalid unicode escape: \\u",b,"."])):XG(a,b,16,4,!0);default:return WF(b)?(b=XG(a,b,8,3,!1),255<(b|0)?xG(a):b):pG(a,O(["Unsupported escape character: \\",b,"."]))}}
function hH(a){for(var b=new nc,c=ZF(a);;){var d=c;if(D.Dh(null,d))return vG(a,O(['"',b]));if(D.Dh("\\",d)){d=function(){var f=b;f.append(gH(a));return f}();var e=ZF(a);b=d;c=e}else{if(D.Dh('"',d))return u.Eh(b);d=function(){var f=b;f.append(c);return f}();e=ZF(a);b=d;c=e}}}
function iH(a,b){b=RG(a,zw,b,!0);if(q(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Go;default:var c=LG(b);c=q(c)?Ie.Dh(c.Eh?c.Eh(0):c.call(null,0),c.Eh?c.Eh(1):c.call(null,1)):null;return q(c)?c:tG(a,zw,b)}else return null}
function jH(a){var b=ZF(a);if(VF(b))return pG(a,O(["A single colon is not a valid keyword."]));b=RG(a,uB,b,!0);var c=LG(b);if(q(q(c)?-1===b.indexOf("::"):c)){var d=c.Eh?c.Eh(0):c.call(null,0);c=c.Eh?c.Eh(1):c.call(null,1);return":"===lf(b,0)?tG(a,uB,b):Sg.Dh(d,c)}return tG(a,uB,b)}
function kH(a,b,c){b=aH?aH(a,!0,null,c):bH.call(null,a,!0,null,c);b=b instanceof C?Ef([b,!0]):b instanceof A?new p(null,1,[Wu,b],null):"string"===typeof b?new p(null,1,[Wu,b],null):b;Of(b)||pG(a,O(["Metadata cannot be ",iG.Dh(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=aH?aH(a,!0,null,c):bH.call(null,a,!0,null,c);return null!=c&&(c.Lh&131072||l===c.ge)?Hf(c,wk.Ih(O([If(c),b]))):pG(a,O(["Metadata can not be applied to ",iG.Dh(!1,c),". ","Metadata can only be applied to IMetas."]))}
function lH(a,b,c){b=$G(qp,"}",a,c);c=Fk(b);D.Dh(M(b),M(c))||zG(a,qp,b);return c}function mH(a){aH?aH(a,!0,null,!0):bH.call(null,a,!0,null,!0);return a}
function nH(a,b,c){b=ZF(a);b=RG(a,Ou,b,!0);var d=null==b?null:LG(b);if(null==d)var e=null;else e=P(d,0,null),d=P(d,1,null),e=q(e)?null:d;return q(e)?"{"===AG(a)?(c=$G(Ou,"}",a,c),!Dh(M(c))&&sG(a,null,null,c),b=XF(u.Eh(e),Sk(2,c)),c=Sk(2,Oe(c)),D.Dh(M(Fk(b)),M(b))||zG(a,Ou,b),Ik(b,c)):pG(a,O(["Namespaced map with namespace ",b," does not specify a map."])):pG(a,O(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function oH(a,b,c){b=aH?aH(a,!0,null,c):bH.call(null,a,!0,null,c);return D.Dh(iB,b)?Number.NaN:D.Dh(Tr,b)?Number.NEGATIVE_INFINITY:D.Dh(wz,b)?Number.POSITIVE_INFINITY:pG(a,O([["Invalid token: ##",u.Eh(b)].join("")]))}function PG(a){switch(a){case '"':return hH;case ":":return jH;case ";":return MG;case "^":return kH;case "(":return cH;case ")":return VG;case "[":return dH;case "]":return VG;case "{":return eH;case "}":return VG;case "\\":return YG;case "#":return SG;default:return null}}
function TG(a){switch(a){case "^":return kH;case "{":return lH;case "\x3c":return NG();case "!":return MG;case "_":return mH;case ":":return nH;case "#":return oH;default:return null}}
function UG(a,b,c){b=aH?aH(a,!0,null,c):bH.call(null,a,!0,null,c);var d=aH?aH(a,!0,null,c):bH.call(null,a,!0,null,c);b instanceof A||pG(a,O(["Invalid reader tag: ",iG.Dh(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.Dh(Im.Eh(c),b);e=q(e)?e:V.Eh?V.Eh(b):V.call(null,b);if(q(e))return e.Eh?e.Eh(d):e.call(null,d);c=jm.Eh(c);return q(c)?c.Dh?c.Dh(b,d):c.call(null,b,d):pG(a,O(["No reader function for tag ",iG.Dh(!1,b),"."]))}
function bH(a){switch(arguments.length){case 1:return pH(V,arguments[0]);case 2:return pH(arguments[0],arguments[1]);case 4:return aH(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function pH(a,b){a=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;var c=B.Dh(a,hx),d=!Yf(a,hx);return aH(b,d,c,a)}
function aH(a,b,c,d){try{for(;;){var e=ZF(a);if(!VF(e)){if(null==e){if(q(b)){b=a;var f=q(null)?rG(b,O(["EOF while reading, starting at line ",null,"."])):rG(b,O(["EOF while reading."]))}else f=c;return f}if(WF(e)||("+"===e||"-"===e)&&WF(a.oe(null)))return fH(a,e);var h=PG(e);if(q(h)){var k=h.Gh?h.Gh(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return iH(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof nm){b=f instanceof nm?f.data:null;if(D.Dh(rs,eq.Eh(b)))throw f;a=wk.Ih(O([new p(null,
1,[eq,rs],null),b,gG(a)?new p(null,3,[Jm,bG(a),nA,cG(a),ut,dG(a)],null):null]));throw new nm(f.message,a,f);}a=wk.Ih(O([new p(null,1,[eq,rs],null),gG(a)?new p(null,3,[Jm,bG(a),nA,cG(a),ut,dG(a)],null):null]));throw new nm(f.message,a,f);}throw m;}}function qH(a,b){if(q(q(b)?vh.Dh(b,""):b)){b=new eG(b,M(b));a:{var c=Array(1);if(Uf(null))for(var d=0,e=F(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=K(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=pH(a,new fG(b,c))}else a=null;return a};var rH=function(){var a=new W(null,13,5,Y,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new W(null,13,5,Y,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.Dh(q(d)?b:a,c)}}(),sH=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function tH(a){a=parseInt(a,10);return Hc(isNaN(a))?a:null}
function uH(a,b,c,d){if(!(a<=b&&b<=c))throw Error([u.Eh(d)," Failed:  ",u.Eh(a),"\x3c\x3d",u.Eh(b),"\x3c\x3d",u.Eh(c)].join(""));return b}
function vH(a){var b=Yk(sH,a);P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null),m=P(b,7,null),n=P(b,8,null),r=P(b,9,null),t=P(b,10,null);if(Hc(b))throw Error(["Unrecognized date/time syntax: ",u.Eh(a)].join(""));a=tH(c);b=function(){var G=tH(d);return q(G)?G:1}();c=function(){var G=tH(e);return q(G)?G:1}();var w=function(){var G=tH(f);return q(G)?G:0}(),y=function(){var G=tH(h);return q(G)?G:0}(),E=function(){var G=tH(k);return q(G)?G:0}(),I=function(){a:if(D.Dh(3,
M(m)))var G=m;else if(3<M(m))G=Jg.Gh(m,0,3);else for(G=new nc(m);;)if(3>G.getLength())G=G.append("0");else{G=G.toString();break a}G=tH(G);return q(G)?G:0}();n=(D.Dh(n,"-")?-1:1)*(60*function(){var G=tH(r);return q(G)?G:0}()+function(){var G=tH(t);return q(G)?G:0}());return new W(null,8,5,Y,[a,uH(1,b,12,"timestamp month field must be in range 1..12"),uH(1,c,rH(b,0===Eg(a,4)&&(0!==Eg(a,100)||0===Eg(a,400))),"timestamp day field must be in range 1..last day in month"),uH(0,w,23,"timestamp hour field must be in range 0..23"),
uH(0,y,59,"timestamp minute field must be in range 0..59"),uH(0,E,D.Dh(y,59)?60:59,"timestamp second field must be in range 0..60"),uH(0,I,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var wH=Mh(null),xH=Mh(wk.Ih(O([new p(null,4,[Jy,function(a){if("string"===typeof a){var b=vH(a);if(q(b)){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null),h=P(b,5,null),k=P(b,6,null);b=P(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",u.Eh(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},Mt,function(a){if("string"===typeof a)return new lm(a.toLowerCase());throw Error("UUID literal expects a string as its representation.");
},Rt,function(a){if(Qf(a))return ki.Dh(dj,a);throw Error("Queue literal expects a vector for its elements.");},kx,function(a){if(Qf(a)){var b=[];a=F(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);b.push(f);e+=1}else if(a=F(a))c=a,Rf(c)?(a=ke(c),e=le(c),c=a,d=M(a),a=e):(a=H(c),b.push(a),a=K(c),c=null,d=0),e=0;else break;return b}if(Of(a)){b={};a=F(a);c=null;for(e=d=0;;)if(e<d){var h=c.wa(null,e);f=P(h,0,null);h=P(h,1,null);f=Tg(f);b[f]=h;e+=1}else if(a=F(a))Rf(a)?(d=ke(a),a=le(a),c=d,d=M(d)):
(d=H(a),c=P(d,0,null),d=P(d,1,null),c=Tg(c),b[c]=d,a=K(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),V])));function yH(a,b){var c=rh(Jk,a,b);return rf(c,ji(function(d){return c===d},b))}function zH(a,b){return M(a)<M(b)?v.Gh(zf,b,a):v.Gh(zf,a,b)}var AH=function AH(a){switch(arguments.length){case 1:return AH.Eh(arguments[0]);case 2:return AH.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return AH.Ih(arguments[0],arguments[1],c)}};AH.Eh=function(a){return a};
AH.Dh=function(a,b){for(;;)if(M(b)<M(a)){var c=a;a=b;b=c}else return v.Gh(function(d,e){return function(f,h){return Yf(e,h)?f:Jf.Dh(f,h)}}(a,b),a,a)};AH.Ih=function(a,b,c){a=yH(function(d){return-M(d)},zf.Ih(c,b,O([a])));return v.Gh(AH,H(a),Oe(a))};AH.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};AH.Sh=2;
var BH=function BH(a){switch(arguments.length){case 1:return BH.Eh(arguments[0]);case 2:return BH.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(2),0,null);return BH.Ih(arguments[0],arguments[1],c)}};BH.Eh=function(a){return a};BH.Dh=function(a,b){return M(a)<M(b)?v.Gh(function(c,d){return Yf(b,d)?Jf.Dh(c,d):c},a,a):v.Gh(Jf,a,b)};BH.Ih=function(a,b,c){return v.Gh(BH,a,zf.Dh(c,b))};
BH.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};BH.Sh=2;function vO(a){var b=new p(null,2,[OB,qB,dd,vb],null);return v.Gh(function(c,d){var e=P(d,0,null);d=P(d,1,null);return Yf(a,e)?Q.Gh(c,d,B.Dh(a,e)):c},rh(R,a,qj(b)),b)}function CH(a,b){return M(a)<=M(b)&&Bh(function(c){return Yf(b,c)},a)}function DH(a,b){return M(a)>=M(b)&&Bh(function(c){return Yf(a,c)},b)};function EH(a){return v.Gh(function(b,c){b.push(c);return b},[],a)}function FH(a){return a instanceof Array};var GH=H(ii(function(a){return 0!=(32&1<<a)},Rk.Gh(31,-1,-1)))+1,HH=(1<<GH)-1;function IH(a,b,c,d){for(var e=0,f=Dg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.Dh?a.Dh(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function JH(a,b,c,d){for(var e=0,f=Dg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.Dh?a.Dh(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function KH(a,b,c){var d=b.length,e=IH(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.Dh?a.Dh(b,c):a.call(null,b,c));return d?e:-1}
function LH(a,b,c){var d=b.length;a=IH(a,b,d-1,c);return a===d?-1:a}function MH(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var r=0;;)if(r<d)n[r+0]=a[r+b],r+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function NH(a,b,c,d){return MH(a,0,a.length,b,c,d)}
function OH(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function PH(a,b,c,d,e,f){d-=c;if(d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.Dh?a.Dh(h,k):a.call(null,h,k)))return!1;f+=1}else return!1}function QH(a,b){return q(a)?q(b)?[a,b]:[a]:[b]}function RH(a,b,c){return q(a)?q(b)?q(c)?[a,b,c]:[a,b]:q(c)?[a,c]:[a]:q(b)?q(c)?[b,c]:[b]:[c]}
function SH(a){if(null!=a&&null!=a.Hf)a=a.Hf(a);else{var b=SH[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=SH._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("INode.node-lim-key",a);}return a}function TH(a){if(null!=a&&null!=a.Cg)a=a.keys.length;else{var b=TH[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=TH._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("INode.node-len",a);}return a}
function UH(a,b){if(null!=a&&null!=a.Jf)a=a.Jf(a,b);else{var c=UH[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=UH._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("INode.node-merge",a);}return a}function VH(a,b){if(null!=a&&null!=a.Kf)a=a.Kf(a,b);else{var c=VH[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=VH._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("INode.node-merge-n-split",a);}return a}
function WH(a,b,c){if(null!=a&&null!=a.If)a=a.If(a,b,c);else{var d=WH[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=WH._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("INode.node-lookup",a);}return a}function XH(a,b,c){if(null!=a&&null!=a.Ff)a=a.Ff(a,b,c);else{var d=XH[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=XH._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("INode.node-conj",a);}return a}
function YH(a,b,c,d,e,f){if(null!=a&&null!=a.Gf)a=a.Gf(a,b,c,d,e,f);else{var h=YH[pa(null==a?null:a)];if(null!=h)a=h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=YH._,null!=h)a=h.Ya?h.Ya(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw Mc("INode.node-disj",a);}return a}
function ZH(a,b,c,d){if(q(b))return[a];if(16<TH(a))return RH(c,a,d);if(q(q(c)?16>=TH(c):c))return QH(UH(c,a),d);if(q(q(d)?16>=TH(d):d))return QH(c,UH(a,d));if(q(q(c)?null==d||TH(c)<TH(d):c))return a=VH(c,a),RH(a[0],a[1],d);a=VH(a,d);return RH(c,a[0],a[1])}function $H(a,b){this.keys=a;this.jb=b}g=$H.prototype;g.Hf=function(){var a=this.keys;return a[a.length-1]};g.Cg=function(){return this.keys.length};g.Jf=function(a,b){return new $H(this.keys.concat(b.keys),this.jb.concat(b.jb))};
g.Kf=function(a,b){a=OH(this.keys,b.keys);b=OH(this.jb,b.jb);return QH(new $H(a[0],b[0]),new $H(a[1],b[1]))};g.If=function(a,b,c){a=LH(b,this.keys,c);return-1===a?null:WH(this.jb[a],b,c)};g.Ff=function(a,b,c){a=IH(b,this.keys,this.keys.length-2,c);c=XH(this.jb[a],b,c);if(q(c)){var d=this.keys,e=a+1,f=c.map(SH);b=PH(b,d,a,e,f,f.length)?d:NH(d,a,e,f);a=NH(this.jb,a,a+1,c);if(32>=a.length)return[new $H(b,a)];c=a.length>>>1;return[new $H(b.slice(0,c),a.slice(0,c)),new $H(b.slice(c),a.slice(c))]}return null};
g.Gf=function(a,b,c,d,e,f){var h=LH(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.jb[h-1]:null;var k=h+1<this.jb.length?this.jb[h+1]:null;c=YH(this.jb[h],b,c,!1,a,k);if(q(c)){a=q(a)?h-1:h;h=q(k)?2+h:1+h;k=this.keys;var m=c.map(SH);b=PH(b,k,a,h,m,m.length)?k:NH(k,a,h,m);c=NH(this.jb,a,h,c);return ZH(new $H(b,c),d,e,f)}return null};function aI(a){this.keys=a}g=aI.prototype;g.Hf=function(){var a=this.keys;return a[a.length-1]};g.Cg=function(){return this.keys.length};g.Jf=function(a,b){return new aI(this.keys.concat(b.keys))};
g.Kf=function(a,b){a=OH(this.keys,b.keys);return QH(new aI(a[0]),new aI(a[1]))};g.If=function(a,b,c){a=KH(b,this.keys,c);return-1===a?null:this.keys[a]};g.Ff=function(a,b,c){a=IH(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.Dh?b.Dh(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new aI(this.keys.slice(0,b)),new aI(MH(this.keys,b,d,a,a,[c]))]:[new aI(MH(this.keys,0,b,a,a,[c])),new aI(this.keys.slice(b,d))]):[new aI(NH(this.keys,a,a,[c]))]};
g.Gf=function(a,b,c,d,e,f){a=KH(b,this.keys,c);if(-1===a)return null;a=NH(this.keys,a,a+1,[]);return ZH(new aI(a),d,e,f)};function bI(a,b,c,d,e,f){this.root=a;this.shift=b;this.Rh=c;this.Th=d;this.meta=e;this._hash=f;this.Lh=2297303311;this.Qh=8332}g=bI.prototype;g.toString=function(){return we(this)};g.ja=function(a,b){return WH(this.root,this.Th,b)};g.Ph=function(a,b,c){a=WH(this.root,this.Th,b);return q(a)?a:c};g.ea=function(a,b,c){return Z(b,jl,"#{"," ","}",c,F(this))};g.ca=function(){return this.meta};
g.ga=function(){return this.Rh};g.tc=function(){return Td(cI.Eh?cI.Eh(this):cI.call(null,this))};g.ha=function(){var a=this._hash;return null!=a?a:this._hash=a=Ve(this)};g.$=function(a,b){var c=this;return Mf(b)&&this.Rh===M(b)&&Bh(function(d){return Yf(c,d)},b)};g.td=function(){return this};g.Ja=function(){return new bI(new aI([]),0,0,this.Th,this.meta,null)};g.rf=function(a,b){return dI.Gh?dI.Gh(this,b,this.Th):dI.call(null,this,b,this.Th)};
g.Sa=function(a,b){a=cI.Eh?cI.Eh(this):cI.call(null,this);return q(a)?Hd(a,b):b.Nh?b.Nh():b.call(null)};g.Ta=function(a,b,c){a=cI.Eh?cI.Eh(this):cI.call(null,this);return q(a)?Hd(a,b,c):c};g.ud=function(a,b){return eI.Gh?eI.Gh(this,b,this.Th):eI.call(null,this,b,this.Th)};g.Cd=function(){return this};g.fa=function(){return cI.Eh?cI.Eh(this):cI.call(null,this)};g.da=function(a,b){return new bI(this.root,this.shift,this.Rh,this.Th,b,this._hash)};
g.ia=function(a,b){return eI.Gh?eI.Gh(this,b,this.Th):eI.call(null,this,b,this.Th)};g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return this.ja(null,a)};g.Dh=function(a,b){return this.Ph(null,a,b)};
function fI(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.jb[HH&b>>>c],c-=GH;else return a.keys}function gI(a,b,c,d){return new bI(b,c,d,a.Th,a.meta,null)}var hI=function hI(a,b,c){var e=HH&b>>>c;if(0<c){var f=a.jb[e],h=c-GH;b=hI.Gh?hI.Gh(f,b,h):hI.call(null,f,b,h);return-1===b?e+1<a.jb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function iI(a,b){return hI(a.root,b,a.shift)}
function jI(a,b){for(var c=0;;)if(0<b)c|=a.jb.length-1<<b,b-=GH,a=a.jb,a=a[a.length-1];else return c|a.keys.length-1<<0}var kI=function kI(a,b,c){var e=HH&b>>>c;if(0<c){var f=c-GH,h=a.jb[e];b=kI.Gh?kI.Gh(h,b,f):kI.call(null,h,b,f);return-1===b?0<=e-1?(--e,jI(a.jb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function lI(a,b){return kI(a.root,b,a.shift)}function cI(a){if(0<TH(a.root)){var b=jI(a.root,a.shift)+1;return mI.Gh?mI.Gh(a,0,b):mI.call(null,a,0,b)}return null}
function nI(a,b,c){this.Mh=a;this.off=b;this.end=c;this.Lh=524306;this.Qh=0}g=nI.prototype;g.ga=function(){return this.end-this.off};g.wa=function(a,b){return this.Mh[this.off+b]};g.Ra=function(a,b,c){return 0<=b&&b<this.end-this.off?this.Mh[this.off+b]:c};g.ce=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new Xg(this.Mh,this.off+1,this.end)};g.Sa=function(a,b){return this.off===this.end?b.Nh?b.Nh():b.call(null):Hd(this.ce(null),b,this.Mh[this.off])};
g.Ta=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.Mh[a];c=b.Dh?b.Dh(c,d):b.call(null,c,d);if($e(c))return z(c);a+=1}else return c};function oI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.Lh=2309488832;this.Qh=1536}g=oI.prototype;g.toString=function(){return we(this)};g.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,F(this))};
g.Na=function(){if(q(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new oI(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=iI(this.set,this.left);return vh.Dh(-1,a)&&a<this.right?this.Ze(a,this.right):null}return null};g.tc=function(){if(q(this.keys)){var a=this.set,b=lI(this.set,this.left),c=lI(this.set,this.right);return pI.Gh?pI.Gh(a,b,c):pI.call(null,a,b,c)}return null};g.$=function(a,b){return qf(this,b)};
g.Sa=function(a,b){if(null==this.keys)return b.Nh?b.Nh():b.call(null);a=this.Ua(null);var c=this.Na(null);return null==c?a:Hd(c,b,a)};g.Ta=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.Dh?b.Dh(c,f):b.call(null,c,f);if($e(c))return z(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=iI(this.set,a),-1!==a&&a<this.right)d=fI(this.set,a),e=HH&a>>>0;else return c}};g.Ua=function(){return q(this.keys)?this.keys[this.idx]:null};
g.cb=function(){var a=this.Na(null);return q(a)?a:Pe};g.fa=function(){return q(this.keys)?this:null};g.ee=function(){var a=D.Dh(this.left|HH,this.right|HH)?this.right&HH:this.keys.length;return new nI(this.keys,this.idx,a)};g.Bd=function(){var a=this.de();return q(a)?a:Pe};g.Ze=function(a,b){return new oI(this.set,a,b,fI(this.set,a),HH&a>>>0)};g.de=function(){var a=iI(this.set,this.left+(this.keys.length-this.idx-1));return vh.Dh(-1,a)&&a<this.right?this.Ze(a,this.right):null};
function mI(a,b,c){return new oI(a,b,c,fI(a,b),HH&b>>>0)}function qI(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.Lh=2308964544;this.Qh=0}g=qI.prototype;g.toString=function(){return we(this)};g.ea=function(a,b,c){return Z(b,jl,"("," ",")",c,F(this))};
g.Na=function(){if(q(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new qI(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=lI(this.set,this.right);return vh.Dh(-1,a)&&a>this.left?this.Ze(this.left,a):null}return null};g.tc=function(){if(q(this.keys)){var a=-1===this.left?0:iI(this.set,this.left),b=iI(this.set,this.right);return mI(this.set,a,-1===b?this.right+1:b)}return null};g.$=function(a,b){return qf(this,b)};
g.Ua=function(){return q(this.keys)?this.keys[this.idx]:null};g.cb=function(){var a=this.Na(null);return q(a)?a:Pe};g.fa=function(){return q(this.keys)?this:null};g.Ze=function(a,b){return new qI(this.set,a,b,fI(this.set,b),HH&b>>>0)};function pI(a,b,c){return new qI(a,b,c,fI(a,c),HH&c>>>0)}
function rI(a,b,c,d){a:for(var e=a.root,f=0,h=a.shift;;){var k=TH(e);if(0===h){var m=e.keys;m=IH(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=IH(d,m,k-2,b);f|=m<<h;h-=GH;e=e.jb[m]}if(0>b)return null;a:for(e=a.root,f=0,h=a.shift;;){m=TH(e);if(0===h){k=e.keys;m=JH(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=JH(d,k,m-2,c);f|=m<<h;h-=GH;e=e.jb[m]}return c>b?new oI(a,b,c,fI(a,b),HH&b>>>0):null}
function sI(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.Eh?a.Eh(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function tI(a){var b=a.length,c=ce(Af);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){ih.Dh(c,a.slice(d));break}else 40<=e?(ih.Dh(c,a.slice(d,d+24)),d+=24):(e>>>=1,ih.Dh(c,a.slice(d,d+e)),d+=e)}return ig(ee(c))}function eI(a,b,c){b=XH(a.root,c,b);return null==b?a:1===b.length?gI(a,b[0],a.shift,a.Rh+1):gI(a,new $H(b.map(SH),b),a.shift+GH,a.Rh+1)}
function dI(a,b,c){b=YH(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof $H&&1===b.jb.length?gI(a,b.jb[0],a.shift-GH,a.Rh-1):gI(a,b,a.shift,a.Rh-1)}function uI(a,b,c){return rI(a,b,c,a.Th)}function vI(a){var b=wI.Oh(536870911,null,null,2147483647),c=wI.Oh(0,null,null,536870912);a=rI(a,c,b,a.Th);return null==a?null:Td(a)}
function xI(a,b){for(var c=sI(function(h){return new aI(h)},tI(b)),d=c,e=0;;){var f=M(d);switch(f){case 0:return new bI(new aI([]),0,0,a,null,null);case 1:return new bI(H(d),e,b.length,a,null,null);default:d=sI(function(){return function(h){return new $H(h.map(SH),h)}}(d,e,f,c),tI(d)),e+=GH}}}function yI(a){return new bI(new aI([]),0,0,a,null,null)};var zI=Error;function AI(a){var b;if(b="string"!==typeof a)b=null==a,b||(b=(b=null!=a?a.Lh&8388608||l===a.qf?!0:a.Lh?!1:Kc(Nd,a):Kc(Nd,a))?b:Fc(a)||"string"===typeof a),b=b||FH(a);return b}var BI=Ih(zf,Af),CI=Ih(zf,Ek);function DI(a,b,c){return H(v.Gh(function(d,e){var f=P(d,0,null);d=P(d,1,null);e=a.Gh?a.Gh(f,e,d):a.call(null,f,e,d);return $e(e)?Ze(new W(null,2,5,Y,[e,d],null)):new W(null,2,5,Y,[e,d+1],null)},new W(null,2,5,Y,[b,0],null),c))}function EI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function FI(a){if(null!=a&&null!=a.La)a=a.La(a);else{var b=FI[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=FI._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IDatom.datom-tx",a);}return a}function GI(a){if(null!=a&&null!=a.dc)a=a.dc(a);else{var b=GI[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=GI._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IDatom.datom-added",a);}return a}
function HI(a,b,c,d,e){this.e=a;this.a=b;this.v=c;this.ef=d;this._hash=e;this.Lh=2162164496;this.Qh=0}g=HI.prototype;g.La=function(){return 0<this.ef?this.ef:-this.ef};g.dc=function(){return 0<this.ef};g.ha=function(){return 0===this._hash?this._hash=II.Eh?II.Eh(this):II.call(null,this):this._hash};g.$=function(a,b){return b instanceof HI?JI.Dh?JI.Dh(this,b):JI.call(null,this,b):!1};g.fa=function(){return KI.Eh?KI.Eh(this):KI.call(null,this)};
g.ja=function(a,b){return LI.Gh?LI.Gh(this,b,null):LI.call(null,this,b,null)};g.Ph=function(a,b,c){return LI.Gh?LI.Gh(this,b,c):LI.call(null,this,b,c)};g.wa=function(a,b){return MI?MI(this,b):NI.call(null,this,b)};g.Ra=function(a,b,c){return OI?OI(this,b,c):NI.call(null,this,b,c)};g.aa=function(a,b,c){return PI.Gh?PI.Gh(this,b,c):PI.call(null,this,b,c)};g.ea=function(a,b,c){return Z(b,jl,"#datascript/Datom ["," ","]",c,new W(null,5,5,Y,[this.e,this.a,this.v,this.La(null),this.dc(null)],null))};
Ga("datascript.db.Datom",HI);var wI=function wI(a){switch(arguments.length){case 3:return wI.Gh(arguments[0],arguments[1],arguments[2]);case 4:return wI.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return wI.ka(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};wI.Gh=function(a,b,c){return new HI(a,b,c,536870912,0)};wI.Oh=function(a,b,c,d){return new HI(a,b,c,d,0)};
wI.ka=function(a,b,c,d,e){return new HI(a,b,c,q(e)?d:-d,0)};wI.Sh=5;function QI(a){return a instanceof HI}function II(a){return EI(EI(Ee(a.e),Ee(a.a)),Ee(a.v))}function JI(a,b){return a.e===b.e&&D.Dh(a.a,b.a)&&D.Dh(a.v,b.v)}function KI(a){return new Bf(null,a.e,new Bf(null,a.a,new Bf(null,a.v,new Bf(null,a.La(null),new Bf(null,a.dc(null),null,1,null),2,null),3,null),4,null),5,null)}
function LI(a,b,c){return D.Dh(tw,b)?a.v:D.Dh("e",b)?a.e:D.Dh(Qx,b)?a.dc(null):D.Dh("v",b)?a.v:D.Dh(iw,b)?a.e:D.Dh("a",b)?a.a:D.Dh(fp,b)?a.La(null):D.Dh("added",b)?a.dc(null):D.Dh("tx",b)?a.La(null):D.Dh(mw,b)?a.a:c}function NI(a){switch(arguments.length){case 2:return MI(arguments[0],arguments[1]);case 3:return OI(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}
function MI(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.La(null);case 4:return a.dc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",u.Eh(b)].join(""));}}function OI(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.La(null);case 4:return a.dc(null);default:return c}}
function PI(a,b,c){switch(b instanceof C?b.la:null){case "e":return wI.ka(c,a.a,a.v,a.La(null),a.dc(null));case "a":return wI.ka(a.e,c,a.v,a.La(null),a.dc(null));case "v":return wI.ka(a.e,a.a,c,a.La(null),a.dc(null));case "tx":return wI.ka(a.e,a.a,a.v,c,a.dc(null));case "added":return wI.ka(a.e,a.a,a.v,a.La(null),c);default:throw new zI(["invalid key for #datascript/Datom: ",u.Eh(b)].join(""));}}function RI(a,b){return null==a?0:null==b?0:eg(a,b)}
function SI(a,b){return D.Dh(a,b)?0:(null!=a?a.Qh&2048||l===a.$c||(a.Qh?0:Kc(he,a)):Kc(he,a))?ie(a,b):"string"!==typeof a&&!Fc(a)&&!0!==a&&!1!==a||Lc(a)!==Lc(b)?Ee(a)-Ee(b):$a(a,b)}function TI(a,b){return null==a?0:null==b?0:SI(a,b)}function UI(a,b){var c=a.e-b.e;return 0===c?(c=RI(a.a,b.a),0===c?(c=TI(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function VI(a,b){var c=RI(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=TI(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}
function WI(a,b){var c=RI(a.a,b.a);return 0===c?(c=TI(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function XI(a,b){return a instanceof C?ie(a,b):$a(a,b)}function YI(a,b){var c=a.e-b.e;return 0===c?(c=XI(a.a,b.a),0===c?(c=SI(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function ZI(a,b){var c=XI(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=SI(a.v,b.v),0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}
function $I(a,b){var c=XI(a.a,b.a);return 0===c?(c=SI(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.La(null)-b.La(null),0===a?0:a):c):c):c}function aJ(){}function bJ(a,b){if(null!=a&&null!=a.tg)a=a.tg(a,b);else{var c=bJ[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=bJ._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ISearch.-search",a);}return a}function cJ(a,b){return H(bJ(a,b))}
function dJ(a,b,c){if(null!=a&&null!=a.sg)a=a.sg(a,b,c);else{var d=dJ[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=dJ._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IIndexAccess.-datoms",a);}return a}function eJ(){}function fJ(a){if(null!=a&&null!=a.rh)a=a.vb;else{var b=fJ[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=fJ._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IDB.-schema",a);}return a}
function gJ(a,b){if(null!=a&&null!=a.rg)a=a.rg(a,b);else{var c=gJ[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=gJ._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IDB.-attrs-by",a);}return a}function hJ(a,b,c,d,e,f,h,k,m,n,r){this.vb=a;this.pb=b;this.Sb=c;this.Tb=d;this.ac=e;this.bc=f;this.Zb=h;this.hash=k;this.Jh=m;this.Hh=n;this.Kh=r;this.Lh=2230716170;this.Qh=139264}g=hJ.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "schema":return this.vb;case "eavt":return this.pb;case "aevt":return this.Sb;case "avet":return this.Tb;case "max-eid":return this.ac;case "max-tx":return this.bc;case "rschema":return this.Zb;case "hash":return this.hash;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,T.Dh(new W(null,8,5,Y,[new W(null,2,5,Y,[Lr,this.vb],null),new W(null,2,5,Y,[Uu,this.pb],null),new W(null,2,5,Y,[yx,this.Sb],null),new W(null,2,5,Y,[$m,this.Tb],null),new W(null,2,5,Y,[sx,this.ac],null),new W(null,2,5,Y,[My,this.bc],null),new W(null,2,5,Y,[wt,this.Zb],null),new W(null,2,5,Y,[Yz,this.hash],null)],null),this.Hh))};
g.ma=function(){return new hj(this,8,new W(null,8,5,Y,[Lr,Uu,yx,$m,sx,My,wt,Yz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 8+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1515640948^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.vb,b.vb)&&D.Dh(this.pb,b.pb)&&D.Dh(this.Sb,b.Sb)&&D.Dh(this.Tb,b.Tb)&&D.Dh(this.ac,b.ac)&&D.Dh(this.bc,b.bc)&&D.Dh(this.Zb,b.Zb)&&D.Dh(this.hash,b.hash)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,8,[Lr,null,My,null,Yz,null,yx,null,$m,null,sx,null,Uu,null,wt,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,this.bc,this.Zb,this.hash,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Lr,b):S.call(null,Lr,b))?new hJ(c,this.pb,this.Sb,this.Tb,this.ac,this.bc,this.Zb,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Uu,b):S.call(null,Uu,b))?new hJ(this.vb,c,this.Sb,this.Tb,this.ac,this.bc,this.Zb,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh(yx,b):S.call(null,yx,b))?new hJ(this.vb,this.pb,c,this.Tb,this.ac,this.bc,this.Zb,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh($m,b):S.call(null,$m,b))?new hJ(this.vb,this.pb,this.Sb,c,this.ac,this.bc,this.Zb,this.hash,
this.Jh,this.Hh,null):q(S.Dh?S.Dh(sx,b):S.call(null,sx,b))?new hJ(this.vb,this.pb,this.Sb,this.Tb,c,this.bc,this.Zb,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh(My,b):S.call(null,My,b))?new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,c,this.Zb,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh(wt,b):S.call(null,wt,b))?new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,this.bc,c,this.hash,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Yz,b):S.call(null,Yz,b))?new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,this.bc,this.Zb,c,
this.Jh,this.Hh,null):new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,this.bc,this.Zb,this.hash,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,8,5,Y,[new X(Lr,this.vb),new X(Uu,this.pb),new X(yx,this.Sb),new X($m,this.Tb),new X(sx,this.ac),new X(My,this.bc),new X(wt,this.Zb),new X(Yz,this.hash)],null),this.Hh))};g.da=function(a,b){return new hJ(this.vb,this.pb,this.Sb,this.Tb,this.ac,this.bc,this.Zb,this.hash,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function iJ(a){var b=R.Ih(a,Lr,O([Uu,yx,$m,sx,My,wt,Yz]));b=Pf(a)?ki.Dh(V,b):b;return new hJ(Lr.Eh(a),Uu.Eh(a),yx.Eh(a),$m.Eh(a),sx.Eh(a),My.Eh(a),wt.Eh(a),Yz.Eh(a),null,wh(b),null)}g.Ka=l;g.ea=function(a,b,c){return jJ.Gh?jJ.Gh(this,b,c):jJ.call(null,this,b,c)};g.fg=l;g.ga=function(){return M(this.pb)};g.hh=l;g.tc=function(){return Td(this.pb)};g.dh=l;g.ha=function(){return kJ.Eh?kJ.Eh(this):kJ.call(null,this)};
g.$=function(a,b){return lJ.Dh?lJ.Dh(this,b):lJ.call(null,this,b)};g.hg=l;g.td=function(){return si.Gh(si.Gh(si.Gh(this,Uu,gh),yx,gh),$m,gh)};g.ig=l;g.Ja=function(){var a=this.vb;a=mJ?mJ(a):nJ.call(null,a);return Hf(a,If(this))};g.ud=function(){throw om("datascript.DB/conj! is not supported",V);};g.Cd=function(){return si.Gh(si.Gh(si.Gh(this,Uu,hh),yx,hh),$m,hh)};g.qf=l;g.fa=function(){return Od(this.pb)};
g.sg=function(a,b,c){if(D.Dh(b,$m)&&(a=H(c),null!=a&&!q(oJ.Dh?oJ.Dh(this,a):oJ.call(null,this,a))))throw om(["Attribute ",ql.Ih(O([a]))," should be marked as :db/index true"].join(""),new p(null,3,[Ap,vx,zy,$m,tm,c],null));return uI(B.Dh(this,b),pJ.ka?pJ.ka(this,b,c,0,536870912):pJ.call(null,this,b,c,0,536870912),pJ.ka?pJ.ka(this,b,c,2147483647,2147483647):pJ.call(null,this,b,c,2147483647,2147483647))};g.qg=l;g.rh=function(){return this.vb};
g.rg=function(a,b){a=this.Zb;return a.Eh?a.Eh(b):a.call(null,b)};g.sh=l;
g.tg=function(a,b){a=P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null);b=this.pb;var f=this.Sb,h=this.Tb;Yf(gJ(this,AA),c);return q(a)?q(c)?null!=d?q(e)?uI(b,wI.Oh(a,c,d,e),wI.Oh(a,c,d,e)):uI(b,wI.Oh(a,c,d,536870912),wI.Oh(a,c,d,2147483647)):q(e)?ii(function(k){return D.Dh(e,k.La(null))},uI(b,wI.Oh(a,c,null,536870912),wI.Oh(a,c,null,2147483647))):uI(b,wI.Oh(a,c,null,536870912),wI.Oh(a,c,null,2147483647)):null!=d?q(e)?ii(function(k){return D.Dh(d,k.v)&&D.Dh(e,k.La(null))},uI(b,wI.Oh(a,null,
null,536870912),wI.Oh(a,null,null,2147483647))):ii(function(k){return D.Dh(d,k.v)},uI(b,wI.Oh(a,null,null,536870912),wI.Oh(a,null,null,2147483647))):q(e)?ii(function(k){return D.Dh(e,k.La(null))},uI(b,wI.Oh(a,null,null,536870912),wI.Oh(a,null,null,2147483647))):uI(b,wI.Oh(a,null,null,536870912),wI.Oh(a,null,null,2147483647)):q(c)?null!=d?q(e)?q(oJ.Dh?oJ.Dh(this,c):oJ.call(null,this,c))?ii(function(k){return D.Dh(e,k.La(null))},uI(h,wI.Oh(0,c,d,536870912),wI.Oh(2147483647,c,d,2147483647))):ii(function(k){return D.Dh(d,
k.v)&&D.Dh(e,k.La(null))},uI(f,wI.Oh(0,c,null,536870912),wI.Oh(2147483647,c,null,2147483647))):q(oJ.Dh?oJ.Dh(this,c):oJ.call(null,this,c))?uI(h,wI.Oh(0,c,d,536870912),wI.Oh(2147483647,c,d,2147483647)):ii(function(k){return D.Dh(d,k.v)},uI(f,wI.Oh(0,c,null,536870912),wI.Oh(2147483647,c,null,2147483647))):q(e)?ii(function(k){return D.Dh(e,k.La(null))},uI(f,wI.Oh(0,c,null,536870912),wI.Oh(2147483647,c,null,2147483647))):uI(f,wI.Oh(0,c,null,536870912),wI.Oh(2147483647,c,null,2147483647)):null!=d?q(e)?
ii(function(k){return D.Dh(d,k.v)&&D.Dh(e,k.La(null))},b):ii(function(k){return D.Dh(d,k.v)},b):q(e)?ii(function(k){return D.Dh(e,k.La(null))},b):b};
function qJ(a,b){switch(b instanceof C?b.la:null){case "db.unique/identity":return new W(null,3,5,Y,[Lm,By,iy],null);case "db.unique/value":return new W(null,3,5,Y,[Lm,Or,iy],null);case "db.cardinality/many":return new W(null,1,5,Y,[AA],null);case "db.type/ref":return new W(null,2,5,Y,[Zy,iy],null);default:return D.Dh(Mm,a)&&!0===b?new W(null,1,5,Y,[Mm],null):D.Dh(iy,a)&&!0===b?new W(null,1,5,Y,[iy],null):D.Dh(Lo,a)?new W(null,2,5,Y,[Um,iy],null):Af}}
function rJ(a,b){return v.Gh(function(c,d){return DI(function(e,f,h){return si.ka(e,f,Q,d,h)},c,Lo.Eh(d.Eh?d.Eh(a):d.call(null,a)))},V,Um.Eh(b))}function sJ(a){var b=ng(function(c,d,e){return ng(function(f,h,k){return v.Gh(function(m,n){return si.Oh(m,n,CI,d)},f,qJ(h,k))},c,e)},V,a);return Q.Gh(b,zs,rJ(a,b))}
function tJ(a,b,c,d){if(null!=c&&!Yf(d,c))throw om(["Bad attribute specification for ",ql.Ih(O([Ef([a,Ef([b,c])])])),", expected one of ",u.Eh(d)].join(""),new p(null,4,[Ap,Wo,cp,a,oA,b,Fw,c],null));}
function uJ(a){for(var b=F(a),c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null),k=P(f,1,null),m=Mm.Dh(k,!1);tJ(h,Mm,Mm.Eh(k),new Bk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var G=m;return q(G)?vh.Dh(fA.Eh(k),Zy):G}()))throw om(["Bad attribute specification for ",ql.Ih(O([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Ap,Wo,cp,h,oA,Mm],null));tJ(h,Lm,Lm.Eh(k),new Bk(null,new p(null,2,[By,null,Or,null],null),null));
tJ(h,fA,fA.Eh(k),new Bk(null,new p(null,1,[Zy,null],null),null));tJ(h,$t,$t.Eh(k),new Bk(null,new p(null,2,[AA,null,Mx,null],null),null));if(Yf(k,Lo)){f=new p(null,3,[Ap,Wo,cp,h,oA,Lo],null);if(D.Dh(AA,$t.Eh(k)))throw om([ql.Ih(O([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=Lo.Eh(k);if(!Nf(n))throw om([ql.Ih(O([h]))," :db/tupleAttrs must be a sequential collection, got: ",ql.Ih(O([n]))].join(""),f);if(Kf(n))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant be empty"].join(""),
f);n=F(n);for(var r=null,t=0,w=0;;)if(w<t){var y=r.wa(null,w),E=Q.Gh(f,Fw,y);if(Yf(B.Dh(a,y),Lo))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.Ih(O([y]))].join(""),E);if(D.Dh(AA,$t.Eh(B.Dh(a,y))))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.Ih(O([y]))].join(""),E);w+=1}else if(n=F(n)){if(Rf(n))t=ke(n),n=le(n),r=t,t=M(t);else{r=H(n);t=Q.Gh(f,Fw,r);if(Yf(B.Dh(a,r),Lo))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",
ql.Ih(O([r]))].join(""),t);if(D.Dh(AA,$t.Eh(B.Dh(a,r))))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.Ih(O([r]))].join(""),t);n=K(n);r=null;t=0}w=0}else break}e+=1}else if(h=F(b)){b=h;if(Rf(b))c=ke(b),b=le(b),h=c,d=M(c),c=h;else{c=H(b);h=P(c,0,null);k=P(c,1,null);var I=Mm.Dh(k,!1);tJ(h,Mm,Mm.Eh(k),new Bk(null,new p(null,2,[!0,null,!1,null],null),null));if(q(function(){var G=I;return q(G)?vh.Dh(fA.Eh(k),Zy):G}()))throw om(["Bad attribute specification for ",
ql.Ih(O([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new p(null,3,[Ap,Wo,cp,h,oA,Mm],null));tJ(h,Lm,Lm.Eh(k),new Bk(null,new p(null,2,[By,null,Or,null],null),null));tJ(h,fA,fA.Eh(k),new Bk(null,new p(null,1,[Zy,null],null),null));tJ(h,$t,$t.Eh(k),new Bk(null,new p(null,2,[AA,null,Mx,null],null),null));if(Yf(k,Lo)){c=new p(null,3,[Ap,Wo,cp,h,oA,Lo],null);if(D.Dh(AA,$t.Eh(k)))throw om([ql.Ih(O([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),
c);d=Lo.Eh(k);if(!Nf(d))throw om([ql.Ih(O([h]))," :db/tupleAttrs must be a sequential collection, got: ",ql.Ih(O([d]))].join(""),c);if(Kf(d))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant be empty"].join(""),c);d=F(d);e=null;for(n=f=0;;)if(n<f){r=e.wa(null,n);t=Q.Gh(c,Fw,r);if(Yf(B.Dh(a,r),Lo))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.Ih(O([r]))].join(""),t);if(D.Dh(AA,$t.Eh(B.Dh(a,r))))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",
ql.Ih(O([r]))].join(""),t);n+=1}else if(d=F(d)){if(Rf(d))f=ke(d),d=le(d),e=f,f=M(f);else{e=H(d);f=Q.Gh(c,Fw,e);if(Yf(B.Dh(a,e),Lo))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on another tuple attribute: ",ql.Ih(O([e]))].join(""),f);if(D.Dh(AA,$t.Eh(B.Dh(a,e))))throw om([ql.Ih(O([h]))," :db/tupleAttrs cant depend on :db.cardinality/many attribute: ",ql.Ih(O([e]))].join(""),f);d=K(d);e=null;f=0}n=0}else break}b=K(b);c=null;d=0}e=0}else break}
function nJ(a){switch(arguments.length){case 0:return mJ(null);case 1:return mJ(arguments[0]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function mJ(a){uJ(a);return iJ(new p(null,8,[Lr,a,wt,sJ(wk.Ih(O([new p(null,1,[iA,new p(null,1,[Lm,By],null)],null),a]))),Uu,yI(UI),yx,yI(VI),$m,yI(WI),sx,0,My,536870912,Yz,Mh(0)],null))}function vJ(a){a=iw.Eh(H(vI(a)));return q(a)?a:0}
function wJ(a,b){var c=H(Zh(QI,a));if(null!=c)throw om(["init-db expects list of Datoms, got ",ql.Ih(O([Lc(c)]))].join(""),new p(null,1,[Ap,Az],null));uJ(b);c=sJ(wk.Ih(O([new p(null,1,[iA,new p(null,1,[Lm,By],null)],null),b])));var d=iy.Eh(c),e=FH(a)?a:EH(a);e.sort(YI);var f=xI(UI,e);e.sort(ZI);e=xI(VI,e);a=ig(ii(function(m){return Yf(d,m.a)},a));a.sort($I);a=xI(WI,a);var h=vJ(f),k=rg(Vh.Eh(function(m){return m.La(null)}),Ag,536870912,f);return iJ(new p(null,8,[Lr,b,wt,c,Uu,f,yx,e,$m,a,sx,h,My,k,
Yz,Mh(0)],null))}function kJ(a){var b=z(a.hash);return 0===b?Nh(a.hash,EI(Ee(a.vb),Ee(a.pb))):b}function lJ(a,b){var c;if(c=(b instanceof hJ||!1)&&D.Dh(fJ(a),fJ(b)))a:for(a=dJ(a,Uu,Af),c=dJ(b,Uu,Af),b=F(a),a=F(c);;){if(null==b){c=null==a;break a}if(D.Dh(H(b),H(a)))b=K(b),a=K(a);else{c=!1;break a}}return c}
function jJ(a,b,c){Ud(b,"#datascript/DB {");Ud(b,":schema ");jl(fJ(a),b,c);Ud(b,", :datoms ");Z(b,function(d,e,f){return Z(e,jl,"["," ","]",f,new W(null,4,5,Y,[d.e,d.a,d.v,FI(d)],null))},"["," ","]",c,dJ(a,Uu,Af));return Ud(b,"}")}
function xJ(a,b,c,d,e,f,h){if(q(c)){var k=new Bf(null,Rn,new Bf(null,wv,new Bf(null,b,new Bf(null,c,new Bf(null,d,new Bf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);yJ.Dh?yJ.Dh(c,k):yJ.call(null,c,k)}return wI.Oh(function(){var m=zJ.Dh?zJ.Dh(a,b):zJ.call(null,a,b);return q(m)?m:f}(),c,q(null!=d?AJ.Dh?AJ.Dh(a,c):AJ.call(null,a,c):!1)?BJ.Dh?BJ.Dh(a,d):BJ.call(null,a,d):d,function(){var m=zJ.Dh?zJ.Dh(a,e):zJ.call(null,a,e);return q(m)?m:h}())}
function pJ(a,b,c,d,e){var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);b=b instanceof C?b.la:null;switch(b){case "eavt":return xJ(a,f,h,k,c,d,e);case "aevt":return xJ(a,h,f,k,c,d,e);case "avet":return xJ(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",u.Eh(b)].join(""));}}function CJ(a,b,c,d,e,f,h,k){this.wc=a;this.vc=b;this.Bc=c;this.zc=d;this.Cc=e;this.Jh=f;this.Hh=h;this.Kh=k;this.Lh=2230716170;this.Qh=139264}g=CJ.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "db-before":return this.wc;case "db-after":return this.vc;case "tx-data":return this.Bc;case "tempids":return this.zc;case "tx-meta":return this.Cc;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,T.Dh(new W(null,5,5,Y,[new W(null,2,5,Y,[jo,this.wc],null),new W(null,2,5,Y,[pu,this.vc],null),new W(null,2,5,Y,[Mr,this.Bc],null),new W(null,2,5,Y,[xB,this.zc],null),new W(null,2,5,Y,[No,this.Cc],null)],null),this.Hh))};g.ma=function(){return new hj(this,5,new W(null,5,5,Y,[jo,pu,Mr,xB,No],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 5+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-2022644885^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.wc,b.wc)&&D.Dh(this.vc,b.vc)&&D.Dh(this.Bc,b.Bc)&&D.Dh(this.zc,b.zc)&&D.Dh(this.Cc,b.Cc)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,5,[xB,null,pu,null,jo,null,Mr,null,No,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new CJ(this.wc,this.vc,this.Bc,this.zc,this.Cc,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(jo,b):S.call(null,jo,b))?new CJ(c,this.vc,this.Bc,this.zc,this.Cc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(pu,b):S.call(null,pu,b))?new CJ(this.wc,c,this.Bc,this.zc,this.Cc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Mr,b):S.call(null,Mr,b))?new CJ(this.wc,this.vc,c,this.zc,this.Cc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xB,b):S.call(null,xB,b))?new CJ(this.wc,this.vc,this.Bc,c,this.Cc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(No,b):S.call(null,No,b))?new CJ(this.wc,this.vc,this.Bc,this.zc,
c,this.Jh,this.Hh,null):new CJ(this.wc,this.vc,this.Bc,this.zc,this.Cc,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,5,5,Y,[new X(jo,this.wc),new X(pu,this.vc),new X(Mr,this.Bc),new X(xB,this.zc),new X(No,this.Cc)],null),this.Hh))};g.da=function(a,b){return new CJ(this.wc,this.vc,this.Bc,this.zc,this.Cc,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function DJ(a,b,c){return Yf(gJ(a,c),b)}
function AJ(a,b){return DJ(a,b,Zy)}function oJ(a,b){return DJ(a,b,iy)}
function EJ(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw om(["Highest supported entity id is ",ql.Ih(O([2147483647])),", got ",ql.Ih(O([b]))].join(""),new p(null,2,[Ap,Pt,Fw,b],null));return b}if(Nf(b)){var c=b,d=P(c,0,null);c=P(c,1,null);if(vh.Dh(M(b),2))throw om(["Lookup ref should contain 2 elements: ",ql.Ih(O([b]))].join(""),new p(null,2,[Ap,Sy,Pt,b],null));if(DJ(a,d,Lm))return null==c?null:iw.Eh(H(dJ(a,$m,b)));throw om(["Lookup ref attribute should be marked as :db/unique: ",
ql.Ih(O([b]))].join(""),new p(null,2,[Ap,Vm,Pt,b],null));}if(Fc(b))b=O(b);else{if(b instanceof C)return iw.Eh(H(dJ(a,$m,new W(null,2,5,Y,[iA,b],null))));throw om(["Expected number or lookup ref for entity id, got ",ql.Ih(O([b]))].join(""),new p(null,2,[Ap,lr,Pt,b],null));}}}function BJ(a,b){a=EJ(a,b);if(q(a))return a;throw om(["Nothing found for entity id ",ql.Ih(O([b]))].join(""),new p(null,2,[Ap,qq,Pt,b],null));}function zJ(a,b){return q(b)?BJ(a,b):null}
function yJ(a,b){if(a instanceof C||"string"===typeof a)return null;throw om(["Bad entity attribute ",ql.Ih(O([a]))," at ",ql.Ih(O([b])),", expected keyword or string"].join(""),new p(null,3,[Ap,kn,cp,a,pz,b],null));}function FJ(a,b){if(null==a)throw om(["Cannot store nil as a value at ",ql.Ih(O([b]))].join(""),new p(null,3,[Ap,kn,Fw,a,pz,b],null));return null}function GJ(a){return oi(a,new W(null,2,5,Y,[jo,My],null))+1}
function HJ(a){return D.Dh(a,Cm)||D.Dh(a,":db/current-tx")||D.Dh(a,"datomic.tx")||D.Dh(a,"datascript.tx")}function IJ(a){return"number"===typeof a&&0>a||"string"===typeof a}function JJ(a,b){return b>sx.Eh(a)&&536870912>b?Q.Gh(a,sx,b):a}function KJ(a,b,c){var d=HJ(b)?si.ka(a,xB,Q,b,c):a;d=IJ(b)?si.ka(d,xB,Q,b,c):d;if(b=!IJ(b))a=pu.Eh(a),b=c>sx.Eh(a)&&536870912>c;a=b?si.ka(d,xB,Q,c,c):d;return si.Oh(a,pu,JJ,c)}
function LJ(a,b){var c=b.dc(null);c=q(c)?DJ(a,b.a,Lm):c;if(q(c)&&(c=wh(dJ(a,$m,new W(null,2,5,Y,[b.a,b.v],null))),null!=c))throw om(["Cannot add ",ql.Ih(O([b]))," because of unique constraint: ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,Gy,cp,b.a,sv,b],null));c=oJ(a,b.a);if(q(b.dc(null)))return a=si.ka(a,Uu,eI,b,YI),a=si.ka(a,yx,eI,b,ZI),c=c?si.ka(a,$m,eI,b,$I):a,b=JJ(c,b.e),Q.Gh(b,Yz,Mh(0));b=cJ(a,new W(null,3,5,Y,[b.e,b.a,b.v],null));if(null==b)return a;a=si.ka(a,Uu,dI,b,YI);a=si.ka(a,yx,dI,b,ZI);
b=c?si.ka(a,$m,dI,b,$I):a;return Q.Gh(b,Yz,Mh(0))}function MJ(a,b,c,d,e){return ng(function(f,h,k){var m=B.Dh(f,h);q(m)||(m=tw.Eh(H(dJ(c,Uu,new W(null,2,5,Y,[d,h],null)))),m=q(m)?m:kg(bi(M(Lo.Eh(B.Dh(fJ(c),h))),null)));k=Q.Gh(m,k,e);return Q.Gh(f,h,k)},a,b)}function NJ(a,b){var c=pu.Eh(a),d=mw.Eh(b);a=si.Oh(Q.Gh(a,pu,LJ(c,b)),Mr,zf,b);if(DJ(c,d,zs)){var e=iw.Eh(b);b=q(GI(b))?tw.Eh(b):null;var f=B.Dh(Dy.Eh(a),e);f=q(f)?f:V;d=B.Dh(gJ(c,zs),d);c=MJ(f,d,c,e,b);return si.ka(a,Dy,Q,e,c)}return a}
function OJ(a){if(a instanceof C)return D.Dh("_",lf(Tg(a),0));if("string"===typeof a)return Vf(Yk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw om(["Bad attribute type: ",ql.Ih(O([a])),", expected keyword or string"].join(""),new p(null,2,[Ap,kn,cp,a],null));}
function PJ(a){if(a instanceof C)return OJ(a)?Sg.Dh(Qg(a),Jg.Dh(Tg(a),1)):Sg.Dh(Qg(a),["_",Tg(a)].join(""));if("string"===typeof a){var b=Yk(/(?:([^\/]+)\/)?([^\/]+)/,a);P(b,0,null);a=P(b,1,null);b=P(b,2,null);return D.Dh("_",lf(b,0))?q(a)?[u.Eh(a),"/",Jg.Dh(b,1)].join(""):Jg.Dh(b,1):q(a)?[u.Eh(a),"/_",u.Eh(b)].join(""):["_",u.Eh(b)].join("")}throw om(["Bad attribute type: ",ql.Ih(O([a])),", expected keyword or string"].join(""),new p(null,2,[Ap,kn,cp,a],null));}
function QJ(a,b){function c(f,h){return v.Gh(function(k,m){var n=d(f,m);return null==n?si.Oh(k,0,zf,m):si.ka(k,1,Q,m,n)},new W(null,2,5,Y,[Af,V],null),h)}function d(f,h){return iw.Eh(H(dJ(a,$m,new W(null,2,5,Y,[f,h],null))))}var e=wh(gJ(a,By));return null==e?new W(null,2,5,Y,[b,null],null):ng(function(f,h,k){var m=P(f,0,null);f=P(f,1,null);if(Yf(e,h)){if(DJ(a,h,AA)&&(FH(k)||Lf(k)&&!Of(k))){var n=c(h,k);k=P(n,0,null);n=P(n,1,null);return new W(null,2,5,Y,[Kf(k)?m:Q.Gh(m,h,k),Kf(n)?f:Q.Gh(f,h,n)],null)}n=
d(h,k);return null==n?new W(null,2,5,Y,[Q.Gh(m,h,k),f],null):new W(null,2,5,Y,[m,Q.Gh(f,h,Ef([k,n]))],null)}return new W(null,2,5,Y,[Q.Gh(m,h,k),f],null)},new W(null,2,5,Y,[V,V],null),b)}
function RJ(a,b){var c=ng(function(h,k,m){return ng(function(n,r,t){return Q.Gh(n,t,new W(null,2,5,Y,[k,r],null))},h,m)},V,b);if(2<=M(c)){b=H(c);a=P(b,0,null);var d=P(b,1,null);b=P(d,0,null);d=P(d,1,null);var e=wf(c);c=P(e,0,null);var f=P(e,1,null);e=P(f,0,null);f=P(f,1,null);throw om(["Conflicting upserts: ",ql.Ih(O([new W(null,2,5,Y,[b,d],null)]))," resolves to ",ql.Ih(O([a])),", but ",ql.Ih(O([new W(null,2,5,Y,[e,f],null)]))," resolves to ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,Ks,YA,new W(null,
3,5,Y,[a,b,d],null),rv,new W(null,3,5,Y,[c,e,f],null)],null));}d=H(c);b=P(d,0,null);c=P(d,1,null);d=P(c,0,null);c=P(c,1,null);a=Ur.Eh(a);if(null!=b&&null!=a&&!IJ(a)&&vh.Dh(b,a))throw om(["Conflicting upsert: ",ql.Ih(O([new W(null,2,5,Y,[d,c],null)]))," resolves to ",ql.Ih(O([b])),", but entity already has :db/id ",ql.Ih(O([a]))].join(""),new p(null,3,[Ap,Ks,YA,new W(null,3,5,Y,[b,d,c],null),rv,new p(null,1,[Ur,a],null)],null));return b}
function SJ(a,b,c){return OJ(b)||DJ(a,b,AA)?FH(c)||Lf(c)&&!Of(c)?D.Dh(M(c),2)&&DJ(a,H(c),By)?new W(null,1,5,Y,[c],null):c:new W(null,1,5,Y,[c],null):new W(null,1,5,Y,[c],null)}
function TJ(a,b){var c=Ur.Eh(b);return function f(e){return new Ug(null,function(){for(var h=e;;){var k=F(h);if(k){var m=k,n=H(m),r=P(n,0,null),t=P(n,1,null);if(vh.Dh(r,Ur)){var w=yJ(r,Ef([Ur,c,r,t])),y=OJ(r),E=y?PJ(r):r;if(y&&!AJ(a,E))throw om(["Bad attribute ",ql.Ih(O([r])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),new p(null,3,[Ap,kn,cp,r,pz,Ef([Ur,c,r,t])],null));if(k=F(function(I,G,J,N,U,da,wa,ma,xa,Na,fa){return function ta(Ba){return new Ug(null,function(Da,
Ta,Hb,hc,zb,ed,$b,Zf,$f,ag,Zc){return function(){for(;;){var Cd=F(Ba);if(Cd){if(Rf(Cd)){var re=ke(Cd),bg=M(re),Dd=Yg(bg);a:for(var vf=0;;)if(vf<bg){var Ed=x(re,vf);Ed=AJ(a,hc)&&Of(Ed)?Q.Gh(Ed,PJ($b),Zc):Hb?new W(null,4,5,Y,[nB,Ed,hc,Zc],null):new W(null,4,5,Y,[nB,Zc,hc,Ed],null);Dd.add(Ed);vf+=1}else{re=!0;break a}return re?$g(ch(Dd),ta(le(Cd))):$g(ch(Dd),null)}Dd=H(Cd);return rf(AJ(a,hc)&&Of(Dd)?Q.Gh(Dd,PJ($b),Zc):Hb?new W(null,4,5,Y,[nB,Dd,hc,Zc],null):new W(null,4,5,Y,[nB,Zc,hc,Dd],null),ta(Oe(Cd)))}return null}}}(I,
G,J,N,U,da,wa,ma,xa,Na,fa),null,null)}}(h,w,y,E,null,n,r,t,m,k,c)(SJ(a,r,t))))return T.Dh(k,f(Oe(h)))}h=Oe(h)}else return null}},null,null)}(b)}function UJ(a,b){P(b,0,null);var c=P(b,1,null),d=P(b,2,null),e=P(b,3,null),f=P(b,4,null);yJ(d,b);FJ(e,b);b=q(f)?f:GJ(a);f=pu.Eh(a);c=BJ(f,c);e=AJ(f,d)?BJ(f,e):e;var h=wI.Oh(c,d,e,b);f=DJ(f,d,AA)?cJ(f,new W(null,3,5,Y,[c,d,e],null)):cJ(f,new W(null,2,5,Y,[c,d],null));return null==f?NJ(a,h):D.Dh(f.v,e)?si.Oh(a,dt,BI,h):NJ(NJ(a,wI.ka(c,d,f.v,b,!1)),h)}
function VJ(a,b){var c=GJ(a);return NJ(a,wI.ka(b.e,b.a,b.v,c,!1))}function WJ(a,b){return ki.Gh(Ek,Gh.Dh(hi(function(c){return DJ(a,c.a,Mm)}),Vh.Eh(function(c){return new W(null,2,5,Y,[Tp,c.v],null)})),b)}function XJ(a,b,c,d,e){if(Yf(xB.Eh(a),d))throw om(["Conflicting upsert: ",ql.Ih(O([d]))," resolves both to ",ql.Ih(O([e]))," and ",ql.Ih(O([oi(a,new W(null,2,5,Y,[xB,d],null))]))].join(""),new p(null,1,[Ap,Ks],null));b=Q.Gh(xB.Eh(b),d,e);a=Q.Gh(a,xB,b);return YJ.Dh?YJ.Dh(a,c):YJ.call(null,a,c)}
var ZJ=new Bk(null,new p(null,8,[Lu,null,av,null,Tp,null,ns,null,yr,null,Ss,null,Jn,null,nB,null],null),null);function $J(a){var b=pu.Eh(a);fJ(b);gJ(b,zs);return ng(function(c,d,e){return ng(function(f,h,k){k=Bh(Ec,k)?null:k;var m=tw.Eh(H(dJ(b,Uu,new W(null,2,5,Y,[d,h],null))));return D.Dh(k,m)?f:null==k?zf.Dh(f,Hf(new W(null,4,5,Y,[yr,d,h,m],null),new p(null,1,[Fs,!0],null))):zf.Dh(f,Hf(new W(null,4,5,Y,[nB,d,h,k],null),new p(null,1,[Fs,!0],null)))},c,e)},Af,Dy.Eh(a))}
function aK(a){var b=Wm.Eh(a);b=v.Gh(function(c,d){return q(GI(d))?R.Dh(c,iw.Eh(d)):c},b,T.Dh(Mr.Eh(a),dt.Eh(a)));if(Kf(b))return R.Ih(a,Wm,O([dt]));throw om(["Tempids used only as value in transaction: ",ql.Ih(O([hg(eg,rj(b))]))].join(""),new p(null,2,[Ap,kn,xB,b],null));}
function YJ(a,b){if(null!=b&&!Nf(b))throw om(["Bad transaction data ",ql.Ih(O([b])),", expected sequential collection"].join(""),new p(null,2,[Ap,kn,Mr,b],null));for(var c=!Kf(gJ(pu.Eh(a),Um)),d=c?ei.Dh(b,ai(Nm)):b,e=a,f=d;;){if(Kf(f))return si.ka(si.ka(aK(e),xB,Q,Cm,GJ(e)),pu,si,My,Xe);var h=f,k=F(h),m=H(k),n=K(k),r=m,t=n;if(null==r)f=t;else if(D.Dh(Nm,r))if(Yf(e,Dy)){var w=R.Dh(e,Dy);t=T.Dh($J(e),t);e=w;f=t}else f=t;else{var y=pu.Eh(e),E=xB.Eh(e);if(Of(r)){var I=Ur.Eh(r);if(HJ(I))w=GJ(e),e=KJ(e,
I,w),f=t=rf(Q.Gh(r,Ur,w),t);else if(Nf(I))w=BJ(y,I),f=t=rf(Q.Gh(r,Ur,w),t);else{var G=QJ(y,r);w=P(G,0,null);G=P(G,1,null);var J=RJ(w,G);if(null!=J){if(IJ(I)&&Yf(E,I)&&vh.Dh(J,B.Dh(E,I)))return XJ(a,e,b,I,J);e=KJ(e,I,J);f=t=T.Dh(TJ(y,Q.Gh(w,Ur,J)),t)}else if("number"===typeof I||null==I||"string"===typeof I)w=null==I?sx.Eh(y)+1:IJ(I)?function(){var ed=B.Dh(E,I);return q(ed)?ed:sx.Eh(y)+1}():I,r=Q.Gh(r,Ur,w),e=KJ(e,I,w),f=t=T.Dh(TJ(y,r),t);else throw om(["Expected number, string or lookup ref for :db/id, got ",
ql.Ih(O([I]))].join(""),new p(null,2,[Ap,lr,qu,r],null));}}else if(Nf(r)){var N=r;G=P(N,0,null);var U=P(N,1,null);w=P(N,2,null);var da=P(N,3,null);if(D.Dh(G,Lu)){w=F(r);r=H(w);w=K(w);var wa=r;r=H(w);w=K(w);f=t=T.Dh(rh(r,y,w),t)}else if(G instanceof C&&Hc(ZJ.Eh?ZJ.Eh(G):ZJ.call(null,G))){wa=EJ(y,G);if(null==wa)throw om(["Cant find entity for transaction fn ",ql.Ih(O([G]))].join(""),new p(null,3,[Ap,kn,$r,Lu,Mr,r],null));U=tw.Eh(cJ(y,new W(null,2,5,Y,[wa,jr],null)));w=K(r);if(Ff(U))f=t=T.Dh(rh(U,y,
w),t);else throw om(["Entity ",ql.Ih(O([G]))," expected to have :db/fn attribute with fn? value"].join(""),new p(null,3,[Ap,kn,$r,Lu,Mr,r],null));}else{if(IJ(U)&&vh.Dh(G,nB))throw om(["Can't use tempid in '",ql.Ih(O([r])),"'. Tempids are allowed in :db/add only"].join(""),new p(null,2,[Ap,kn,Do,r],null));if(D.Dh(G,Jn)||D.Dh(G,av)){var ma=r;wa=P(ma,0,null);var xa=P(ma,1,null),Na=P(ma,2,null),fa=P(ma,3,null),na=P(ma,4,null),Ba=BJ(y,xa),ta=yJ(Na,r),Da=AJ(y,Na)?BJ(y,fa):fa,Ta=AJ(y,Na)?BJ(y,na):na,Hb=
FJ(Ta,r),hc=kg(bJ(y,new W(null,2,5,Y,[Ba,Na],null)));if(DJ(y,Na,AA))if(q(Ch(function(ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf){return function(Ed){return D.Dh(Ed.v,vf)}}(e,f,ma,wa,xa,Na,fa,na,Ba,ta,Da,Ta,Hb,hc,N,G,U,w,da,y,E,h,k,m,n,r,t,a,c,d),hc)))e=UJ(e,new W(null,4,5,Y,[nB,Ba,Na,Ta],null)),f=t;else throw om([":db.fn/cas failed on datom [",ql.Ih(O([Ba]))," ",ql.Ih(O([Na]))," ",ql.Ih(O([Vh.Dh(tw,hc)])),"], expected ",ql.Ih(O([Da]))].join(""),new p(null,4,[Ap,Fn,Kz,hc,sm,Da,wr,Ta],null));else if(G=tw.Eh(H(hc)),
D.Dh(G,Da))e=UJ(e,new W(null,4,5,Y,[nB,Ba,Na,Ta],null)),f=t;else throw om([":db.fn/cas failed on datom [",ql.Ih(O([Ba]))," ",ql.Ih(O([Na]))," ",ql.Ih(O([G])),"], expected ",ql.Ih(O([Da]))].join(""),new p(null,4,[Ap,Fn,Kz,H(hc),sm,Da,wr,Ta],null));}else if(HJ(U))r=KJ(e,U,GJ(e)),t=rf(new W(null,4,5,Y,[G,GJ(e),w,da],null),t),e=r,f=t;else if(AJ(y,w)&&HJ(da))r=KJ(e,da,GJ(e)),t=rf(new W(null,4,5,Y,[G,U,w,GJ(e)],null),t),e=r,f=t;else if(AJ(y,w)&&IJ(da))wa=B.Dh(E,da),null==wa?(r=sx.Eh(y)+1,e=si.ka(KJ(e,da,
r),Wm,Q,r,da),f=t=f):(r=wa,e=si.ka(e,Wm,Q,r,da),f=t=rf(new W(null,4,5,Y,[G,U,w,r],null),t));else if(IJ(U)){J=DJ(y,w,By)?iw.Eh(H(dJ(y,$m,new W(null,2,5,Y,[w,da],null)))):null;var zb=B.Dh(E,U);if(q(function(){var ed=J;return q(ed)?(ed=zb,q(ed)?vh.Dh(J,zb):ed):ed}()))return XJ(a,e,b,U,J);r=function(){var ed=J;if(q(ed))return ed;ed=zb;return q(ed)?ed:sx.Eh(y)+1}();e=KJ(e,U,r);f=t=rf(new W(null,4,5,Y,[G,r,w,da],null),t)}else{if(Hc(Fs.Eh(If(r)))&&DJ(y,w,Um))throw om(["Cant modify tuple attrs directly: ",
ql.Ih(O([r]))].join(""),new p(null,2,[Ap,kn,Mr,r],null));if(D.Dh(G,nB))e=UJ(e,r),f=t;else if(D.Dh(G,yr)&&null!=da)wa=EJ(y,U),null==wa?f=t:(xa=wa,G=AJ(y,w)?BJ(y,da):da,yJ(w,r),FJ(G,r),w=cJ(y,new W(null,3,5,Y,[xa,w,G],null)),null==w?f=t:(e=VJ(e,w),f=t));else if(D.Dh(G,Ss)||D.Dh(G,yr))wa=EJ(y,U),null==wa?f=t:(xa=wa,wa=yJ(w,r),hc=kg(bJ(y,new W(null,2,5,Y,[xa,w],null))),e=v.Gh(VJ,e,hc),f=t=T.Dh(WJ(y,hc),t));else if(D.Dh(G,Tp)||D.Dh(G,ns))wa=EJ(y,U),null==wa?f=t:(xa=wa,hc=kg(bJ(y,new W(null,1,5,Y,[xa],
null))),w=kg(gi(function(ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf){return function(Ed){return bJ(vf,new W(null,3,5,Y,[null,Ed,$f],null))}}(e,f,hc,xa,wa,N,G,U,w,da,y,E,h,k,m,n,r,t,a,c,d),O([gJ(y,Zy)]))),e=v.Gh(VJ,e,T.Dh(hc,w)),f=t=T.Dh(WJ(y,hc),t));else throw om(["Unknown operation at ",ql.Ih(O([r])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),
new p(null,3,[Ap,kn,$r,G,Mr,r],null));}}}else if(QI(r))G=r,U=P(G,0,null),w=P(G,1,null),da=P(G,2,null),r=P(G,3,null),G=P(G,4,null),q(G)?(e=UJ(e,new W(null,5,5,Y,[nB,U,w,da,r],null)),f=t):f=t=rf(new W(null,4,5,Y,[yr,U,w,da],null),t);else throw om(["Bad entity type at ",ql.Ih(O([r])),", expected map or vector"].join(""),new p(null,2,[Ap,kn,Mr,r],null));}}};function bK(a,b,c,d,e){this.qd=a;this.sb=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=bK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "wildcard?":return this.qd;case "attrs":return this.sb;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullSpec{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Yo,this.qd],null),new W(null,2,5,Y,[At,this.sb],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Yo,At],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=90253489^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.qd,b.qd)&&D.Dh(this.sb,b.sb)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[At,null,Yo,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new bK(this.qd,this.sb,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Yo,b):S.call(null,Yo,b))?new bK(c,this.sb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(At,b):S.call(null,At,b))?new bK(this.qd,c,this.Jh,this.Hh,null):new bK(this.qd,this.sb,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Yo,this.qd),new X(At,this.sb)],null),this.Hh))};g.da=function(a,b){return new bK(this.qd,this.sb,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function cK(a){if(null!=a&&null!=a.ed)a=a.ed(a);else{var b=cK[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=cK._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IPullSpecComponent.-as-spec",a);}return a}function dK(a,b,c,d){this.attr=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=dK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullAttrName{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Ex],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-838771693^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return new W(null,2,5,Y,[this.attr,new p(null,1,[Ex,this.attr],null)],null)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new dK(this.attr,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new dK(c,this.Jh,this.Hh,null):new dK(this.attr,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Ex,this.attr)],null),this.Hh))};g.da=function(a,b){return new dK(this.attr,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function eK(a,b,c,d,e){this.attr=a;this.Vc=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=eK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;case "rattr":return this.Vc;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullReverseAttrName{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null),new W(null,2,5,Y,[ky,this.Vc],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Ex,ky],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};
g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=158820207^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.Vc,b.Vc)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return new W(null,2,5,Y,[this.Vc,new p(null,1,[Ex,this.attr],null)],null)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[ky,null,Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new eK(this.attr,this.Vc,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new eK(c,this.Vc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(ky,b):S.call(null,ky,b))?new eK(this.attr,c,this.Jh,this.Hh,null):new eK(this.attr,this.Vc,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Ex,this.attr),new X(ky,this.Vc)],null),this.Hh))};g.da=function(a,b){return new eK(this.attr,this.Vc,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function fK(a,b,c,d,e){this.attr=a;this.limit=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=fK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;case "limit":return this.limit;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullLimitExpr{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null),new W(null,2,5,Y,[Rm,this.limit],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Ex,Rm],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=2109320956^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.limit,b.limit)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return qi(cK(this.attr),new W(null,2,5,Y,[1,Rm],null),this.limit)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Rm,null,Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new fK(this.attr,this.limit,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new fK(c,this.limit,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Rm,b):S.call(null,Rm,b))?new fK(this.attr,c,this.Jh,this.Hh,null):new fK(this.attr,this.limit,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Ex,this.attr),new X(Rm,this.limit)],null),this.Hh))};g.da=function(a,b){return new fK(this.attr,this.limit,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function gK(a,b,c,d,e){this.attr=a;this.value=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=gK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;case "value":return this.value;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullDefaultExpr{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null),new W(null,2,5,Y,[Fw,this.value],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Ex,Fw],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1499761615^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.value,b.value)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return qi(cK(this.attr),new W(null,2,5,Y,[1,jm],null),this.value)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Fw,null,Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new gK(this.attr,this.value,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new gK(c,this.value,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Fw,b):S.call(null,Fw,b))?new gK(this.attr,c,this.Jh,this.Hh,null):new gK(this.attr,this.value,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Ex,this.attr),new X(Fw,this.value)],null),this.Hh))};g.da=function(a,b){return new gK(this.attr,this.value,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function hK(a,b,c){this.Jh=a;this.Hh=b;this.Kh=c;this.Lh=2230716170;this.Qh=139264}g=hK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return B.Gh(this.Hh,b,c)};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullWildcard{",", ","}",c,T.Dh(Af,this.Hh))};
g.ma=function(){return new hj(this,0,Af,q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 0+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-163917799^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(Ek,b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new hK(this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return new hK(this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(Af,this.Hh))};g.da=function(a,b){return new hK(b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function iK(a,b,c,d){this.limit=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=iK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "limit":return this.limit;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullRecursionLimit{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Rm,this.limit],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Rm],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1552688154^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.limit,b.limit)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return new W(null,2,5,Y,[us,this.limit],null)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Rm,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new iK(this.limit,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Rm,b):S.call(null,Rm,b))?new iK(c,this.Jh,this.Hh,null):new iK(this.limit,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Rm,this.limit)],null),this.Hh))};g.da=function(a,b){return new iK(this.limit,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function jK(a,b,c,d,e){this.attr=a;this.Uc=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=jK.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;case "porrl":return this.Uc;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullMapSpecEntry{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null),new W(null,2,5,Y,[rB,this.Uc],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Ex,rB],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=152088668^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.Uc,b.Uc)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return si.Oh(cK(this.attr),1,zf,cK(this.Uc))};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[rB,null,Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new jK(this.attr,this.Uc,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new jK(c,this.Uc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(rB,b):S.call(null,rB,b))?new jK(this.attr,c,this.Jh,this.Hh,null):new jK(this.attr,this.Uc,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Ex,this.attr),new X(rB,this.Uc)],null),this.Hh))};g.da=function(a,b){return new jK(this.attr,this.Uc,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function kK(a,b,c,d,e){this.attr=a;this.nc=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=kK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attr":return this.attr;case "opts":return this.nc;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullAttrWithOpts{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Ex,this.attr],null),new W(null,2,5,Y,[$n,this.nc],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Ex,$n],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-429987476^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.attr,b.attr)&&D.Dh(this.nc,b.nc)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){return si.Oh(cK(this.attr),1,wk,this.nc)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[$n,null,Ex,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new kK(this.attr,this.nc,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ex,b):S.call(null,Ex,b))?new kK(c,this.nc,this.Jh,this.Hh,null):q(S.Dh?S.Dh($n,b):S.call(null,$n,b))?new kK(this.attr,c,this.Jh,this.Hh,null):new kK(this.attr,this.nc,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Ex,this.attr),new X($n,this.nc)],null),this.Hh))};g.da=function(a,b){return new kK(this.attr,this.nc,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function lK(a,b){return b instanceof hK?Q.Gh(a,Yo,!0):si.Oh(a,At,ih,cK(b))}function mK(a,b,c,d){this.nd=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=mK.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "specs":return this.nd;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Ju,this.nd],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Ju],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-795554044^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.nd,b.nd)&&D.Dh(this.Hh,b.Hh)};g.ed=function(){var a=new bK(!1,ce(V),null,null,null);a=v.Gh(lK,a,this.nd);return new W(null,2,5,Y,[Dq,si.Gh(a,At,hh)],null)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Ju,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new mK(this.nd,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ju,b):S.call(null,Ju,b))?new mK(c,this.Jh,this.Hh,null):new mK(this.nd,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Ju,this.nd)],null),this.Hh))};g.da=function(a,b){return new mK(this.nd,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};var nK=new Bk(null,new p(null,3,[ks,null,"*",null,dx,null],null),null);
function oK(a){return a instanceof C||"string"===typeof a?OJ(a)?new eK(PJ(a),a,null,null,null):new dK(a,null,null,null):null}var pK=new Bk(null,new p(null,2,["...",null,Ru,null],null),null);function qK(a){return Nf(a)&&D.Dh(3,M(a))}var rK=new Bk(null,new p(null,3,[Sp,null,Rm,null,"limit",null],null),null);
function sK(a){var b=P(a,0,null),c=P(a,1,null),d=P(a,2,null);if(q(rK.Eh?rK.Eh(b):rK.call(null,b))){b=null==d||"number"===typeof d&&0<d?oK(c):!1;if(q(b))return new fK(b,d,null,null,null);throw om('Expected ["limit" attr-name (positive-number | nil)]',new p(null,2,[Ap,ay,ot,a],null));}return null}var tK=new Bk(null,new p(null,3,[dp,null,jm,null,"default",null],null),null);
function uK(a){if(Nf(a)){a=F(a);var b=H(a);a=K(a);b=oK(b);if(null==b)a=null;else{var c;if(c=Dh(M(a)))c=Bh(new Bk(null,new p(null,3,[Rm,null,jm,null,Ty,null],null),null),Vh.Dh(H,ni(2,2,a)));a=c?new kK(b,qh(tk,a),null,null,null):null}return a}return null}
function vK(a){var b=P(a,0,null),c=P(a,1,null);a=function(){var e=oK(b);if(q(e))return e;e=uK(b);return q(e)?e:qK(b)?sK(b):null}();if(q(a)){var d=function(){var e=q(pK.Eh?pK.Eh(c):pK.call(null,c))?new iK(null,null,null,null):"number"===typeof c&&0<c?new iK(c,null,null,null):null;return q(e)?e:wK.Eh?wK.Eh(c):wK.call(null,c)}();if(q(d))return new jK(a,d,null,null,null);throw om("Expected (pattern | recursion-limit)",new p(null,2,[Ap,ay,ot,new W(null,2,5,Y,[b,c],null)],null));}throw om("Expected (attr-name | limit-expr)",
new p(null,2,[Ap,ay,ot,new W(null,2,5,Y,[b,c],null)],null));}
function xK(a){var b=oK(a);if(q(b))return b;b=q(nK.Eh?nK.Eh(a):nK.call(null,a))?new hK(null,null,null):null;if(q(b))return b;b=Of(a)?vK(H(a)):null;if(q(b))return b;b=uK(a);if(q(b))return b;if(qK(a)){if(b=sK(a),!q(b))b:{var c=P(a,0,null),d=P(a,1,null);b=P(a,2,null);if(q(tK.Eh?tK.Eh(c):tK.call(null,c))){c=oK(d);if(q(c)){b=new gK(c,b,null,null,null);break b}throw om('Expected ["default" attr-name any-value]',new p(null,2,[Ap,ay,ot,a],null));}b=null}}else b=null;if(q(b))return b;throw om("Cannot parse attr-spec, expected: (attr-name | wildcard | map-spec | attr-expr)",
new p(null,2,[Ap,ay,ot,a],null));}function yK(a){return Of(a)?Wx:q(nK.Eh?nK.Eh(a):nK.call(null,a))?Qt:bv}function zK(a){return ki.Gh(Af,Vh.Eh(function(b){return zf.Dh(V,b)}),a)}function AK(a){a=Tl(yK,a);var b=q(wh(B.Dh(a,Qt)))?new W(null,1,5,Y,[dx],null):Af;return ki.Gh(ki.Dh(b,B.Dh(a,bv)),Gh.Dh(Vh.Eh(zK),Gl),B.Dh(a,Wx))}function wK(a){return Nf(a)?new mK(ki.Gh(Af,Vh.Eh(xK),AK(a)),null,null,null):null}
function BK(a){var b=null==a?null:wK(a);b=null==b?null:wf(cK(b));if(q(b))return b;throw om("Cannot parse pull pattern, expected: [attr-spec+]",new p(null,2,[Ap,ay,ot,a],null));};function CK(a,b){return v.Gh(ih,a,b)}function DK(a,b,c){return Zj([Zp,so,ho,us,Ju,Yo,Ms,Nz,dB],[c,b,Nz,new p(null,2,[Yp,V,Cr,Ek],null),F(At.Eh(a)),Yo.Eh(a),ce(V),a,ce(Af)])}function EK(a,b,c,d){return Q.Gh(DK(a,b,c),Ex,d)}function FK(a,b,c){var d=Nz.Eh(a);return Q.Ih(a,so,b,O([Ju,F(At.Eh(d)),Yo,Yo.Eh(d),Ms,ce(V),dB,function(){var e=dB.Eh(a);return F(c)?ih.Dh(e,c):e}()]))}
function GK(a,b,c){var d=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,e=B.Dh(d,Yp);d=B.Dh(d,Cr);return Q.Ih(a,Yp,si.Gh(e,b,Ih(Xe,0)),O([Cr,zf.Dh(d,c)]))}function HK(a,b,c){return Yf(pi(a,new W(null,2,5,Y,[us,Cr],null),Ek),c)?zf.Dh(b,si.Oh(a,dB,ih,new p(null,1,[Ur,c],null))):null}function IK(a,b){b=Ms.Eh(b);b=null==b?null:ee(b);return null==b?null:B.Dh(b,a)}function JK(a,b){var c=Ex.Eh(a);c=GK(us.Eh(a),c,b);return Q.Gh(EK(Nz.Eh(a),new W(null,1,5,Y,[b],null),!1,Bt),us,c)}
function KK(a){a=F(a);var b=H(a);a=K(a);var c=F(so.Eh(b));if(c){b=FK(b,Oe(c),IK(Bt,b));c=H(c);var d=HK(b,a,c);return q(d)?d:zf.Ih(a,b,O([JK(b,c)]))}c=IK(Bt,b);d=dB.Eh(b);c=F(c)?ih.Dh(d,c):d;return zf.Dh(a,Q.Ih(b,ho,Nw,O([dB,c])))}function LK(a,b,c,d,e){var f=null!=d&&(d.Lh&64||l===d.va)?qh(sk,d):d,h=B.Dh(f,us);f=B.Dh(f,Nz);var k=B.Gh(B.Dh(h,Yp),a,0);return D.Dh(us.Eh(B.Dh(At.Eh(f),a)),k)?zf.Dh(e,d):KK(zf.Ih(e,d,O([new p(null,7,[ho,us,Nz,f,Ex,a,Zp,b,so,c,us,h,dB,ce(Af)],null)])))}
var wO=new bK(!0,V,null,null,null);function NK(a,b,c,d,e){a=GK(us.Eh(a),c,b);return Q.Gh(EK(wO,e,d,c),us,a)}
function OK(a,b,c,d,e,f,h,k){var m=F(k);k=H(m);m=K(m);var n=B.Gh(h,Rm,1E3),r=function(){var G=Ty.Eh(h);return q(G)?G:b}(),t=wh(q(n)?ki.Gh(Af,Wh.Eh(n),f):f);if(q(t)){var w=AJ(a,c);f=w&&DJ(a,c,Mm);a=q(e)?DJ(a,c,AA):!f;var y=q(e)?function(G){return G.v}:function(G){return G.e};if(Yf(h,Dq))return zf.Ih(m,k,O([EK(Dq.Eh(h),li.Dh(y,t),a,r)]));if(Yf(h,us))return LK(r,a,li.Dh(y,t),k,m);if(q(f?e:!1))return zf.Ih(m,k,O([NK(k,d,r,a,li.Dh(y,t))]));var E=function(){return w?Gh.Dh(function(G){return Zj([Ur],[G])},
y):y}(),I=!a;return zf.Dh(m,si.ka(k,Ms,jh,r,function(){var G=ki.Gh(Af,Vh.Eh(E),t);return I?H(G):G}()))}return zf.Dh(m,Yf(h,jm)?si.ka(k,Ms,jh,r,jm.Eh(h)):k)}var PK=hi(function(a){var b=P(a,0,null);a=P(a,1,null);return vh.Dh(b,Ex.Eh(a))});function QK(a,b,c){return EK(Q.Ih(Nz.Eh(a),At,c,O([Yo,!1])),new W(null,1,5,Y,[b],null),!1,go)}function RK(a,b){return zf.Dh(Oe(a),si.Oh(H(a),Ms,CK,ee(b)))}function SK(a){var b=F(a);a=H(b);b=K(b);var c=tx.Eh(a);a=IK(go,a);return RK(b,CK(c,q(a)?a:V))}
function TK(a,b){var c=F(b);b=H(c);c=K(c);var d=F(Eq.Eh(b));if(d){var e=H(d);d=P(e,0,null);e=P(e,1,null);var f=B.Gh(oi(b,new W(null,2,5,Y,[Nz,At],null)),d,V);return OK(a,d,d,Xv.Eh(b),!0,e,f,zf.Dh(c,si.Gh(b,Eq,Oe)))}a=wh(ki.Gh(V,PK,oi(b,new W(null,2,5,Y,[Nz,At],null))));return q(a)?(b=Q.Ih(b,ho,wo,O([tx,Ms.Eh(b),Ms,ce(V)])),zf.Ih(c,b,O([QK(b,Xv.Eh(b),a)]))):RK(c,Ms.Eh(b))}
function UK(a,b,c,d,e){var f=Tl(function(m){return m.a},dJ(a,Uu,new W(null,1,5,Y,[d],null))),h=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b,k=B.Dh(h,Ex);h=B.Dh(h,us);k=null!=k?GK(h,k,d):h;return TK(a,zf.Ih(c,b,O([new p(null,6,[ho,uy,Ms,ce(new p(null,1,[Ur,d],null)),Xv,d,Nz,e,Eq,F(f),us,k],null)])))}
function VK(a,b){for(;;){var c=F(b);b=H(c);var d=K(c);c=b;if(b=F(so.Eh(c))){if(q(Yo.Eh(c))){b=Q.Ih(c,Ju,Af,O([Xv,H(b),Yo,!1]));c=d;var e=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;d=B.Dh(e,Xv);e=B.Dh(e,Nz);var f=HK(b,c,d);return q(f)?f:UK(a,b,c,d,e)}if(e=F(Ju.Eh(c))){f=e;e=H(f);Nz.Eh(c);c=zf.Dh(d,Q.Gh(c,Ju,Oe(f)));b=H(b);d=P(e,0,null);e=P(e,1,null);if(D.Dh(Ur,d))a=q(wh(dJ(a,Uu,new W(null,1,5,Y,[b],null))))?zf.Dh(Oe(c),si.ka(H(c),Ms,jh,Ur,b)):c;else{f=Ex.Eh(e);var h=D.Dh(d,f),k=h?dJ(a,Uu,new W(null,2,
5,Y,[b,f],null)):dJ(a,$m,new W(null,2,5,Y,[f,b],null));a=OK(a,d,f,b,h,k,e,c)}return a}b=zf.Dh(d,FK(c,Oe(b),wh(ee(Ms.Eh(c)))))}else return zf.Dh(d,Q.Gh(c,ho,Nw))}}
function WK(a,b){for(;;){var c=ho.Eh(H(b));c=c instanceof C?c.la:null;switch(c){case "expand":c=a;b=TK(a,b);a=c;continue;case "expand-rev":b=SK(b);continue;case "pattern":c=a;b=VK(a,b);a=c;continue;case "recursion":b=KK(b);continue;case "done":c=F(b);b=H(c);c=K(c);var d=b,e=c,f=function(){var h=ee(dB.Eh(d));return Hc(Zp.Eh(d))?H(h):h}();if(F(e)){b=zf.Dh(Oe(e),function(){var h=H(e);return q(f)?si.ka(h,Ms,jh,Ex.Eh(d),f):h}());continue}else return f;default:throw Error(["No matching clause: ",u.Eh(c)].join(""));
}}}function XK(a,b,c){c=ki.Gh(Af,Vh.Eh(function(d){return BJ(a,d)}),c);return WK(a,new Bf(null,DK(b,c,!1),null,1,null))};function YK(a,b,c,d,e){this.Sd=a;this.yg=b;this.Bg=c;this.xg=d;this.limit=e;this.Lh=2147484416;this.Qh=0}YK.prototype.aa=function(a,b,c){return ZK.Gh?ZK.Gh(this,b,c):ZK.call(null,this,b,c)};YK.prototype.ja=function(a,b){return ld(this.Sd,b,null)};YK.prototype.Ph=function(a,b,c){return ld(this.Sd,b,c)};YK.prototype.ea=function(a,b,c){return Xd(this.Sd,b,c)};function $K(a,b,c,d,e){return new YK(a,b,c,d,e)}
function ZK(a,b,c){var d=a.Sd,e=a.yg,f=a.Bg,h=a.xg;a=a.limit;var k=f.Dh?f.Dh(b,null):f.call(null,b,null);if(q(k))return $K(d,Q.Gh(R.Dh(e,k),h,b),Q.Gh(f,b,h),h+1,a);b=$K(Q.Gh(d,b,c),Q.Gh(e,h,b),Q.Gh(f,b,h),h+1,a);return aL.Eh?aL.Eh(b):aL.call(null,b)}function aL(a){if(M(a.Sd)>a.limit){var b=a.Sd,c=a.yg,d=a.Bg,e=a.xg;a=a.limit;var f=H(c),h=P(f,0,null);f=P(f,1,null);return $K(R.Dh(b,f),R.Dh(c,h),R.Dh(d,f),e,a)}return a};function bL(a,b){b="number"===typeof b||Nf(b)||b instanceof C?EJ(a,b):null;if(q(b)){var c=Rh(!1),d=Rh(V);return cL.Oh?cL.Oh(a,b,c,d):cL.call(null,a,b,c,d)}return null}function dL(a,b,c){return DJ(a,b,AA)?AJ(a,b)?v.Gh(function(d,e){return zf.Dh(d,bL(a,tw.Eh(e)))},Ek,c):v.Gh(function(d,e){return zf.Dh(d,tw.Eh(e))},Ek,c):AJ(a,b)?bL(a,tw.Eh(H(c))):tw.Eh(H(c))}
function eL(a,b,c,d){b=wh(bJ(a,new W(null,3,5,Y,[null,c,b],null)));return q(b)?DJ(a,c,Mm)?bL(a,iw.Eh(H(b))):v.Gh(function(e,f){return zf.Dh(e,bL(a,iw.Eh(f)))},Ek,b):d}function fL(a){return q(a)?ig(a):null}
function gL(a){hL.Eh?hL.Eh(a):hL.call(null,a);return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m),r=P(n,0,null);n=P(n,1,null);r=DJ(a.db,r,AA)?new W(null,2,5,Y,[r,fL(n)],null):new W(null,2,5,Y,[r,n],null);k.add(r);m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}f=H(e);k=P(f,0,null);f=P(f,1,null);return rf(DJ(a.db,k,AA)?new W(null,2,5,Y,[k,fL(f)],null):new W(null,2,5,Y,[k,f],null),d(Oe(e)))}return null}},
null,null)}(z(a.cache))}function iL(a,b,c,d){this.db=a;this.Sc=b;this.Rf=c;this.cache=d;this.Lh=2162164483;this.Qh=0}g=iL.prototype;g.entry_set=function(){return ig(Vh.Dh(ig,gL(this)))};
g.forEach=function(){function a(d,e){for(var f=F(gL(this)),h=null,k=0,m=0;;)if(m<k){var n=h.wa(null,m),r=P(n,0,null);n=P(n,1,null);d.call(e,n,r,this);m+=1}else if(f=F(f))Rf(f)?(h=ke(f),f=le(f),r=h,k=M(h),h=r):(h=H(f),r=P(h,0,null),n=P(h,1,null),d.call(e,n,r,this),f=K(f),h=null,k=0),m=0;else return null}function b(d){for(var e=F(gL(this)),f=null,h=0,k=0;;)if(k<h){var m=f.wa(null,k),n=P(m,0,null);m=P(m,1,null);d.Gh?d.Gh(m,n,this):d.call(null,m,n,this);k+=1}else if(e=F(e))Rf(e)?(f=ke(e),e=le(e),n=f,
h=M(f),f=n):(f=H(e),n=P(f,0,null),m=P(f,1,null),d.Gh?d.Gh(m,n,this):d.call(null,m,n,this),e=K(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.Eh=b;c.Dh=a;return c}();g.get=function(a){if(D.Dh(a,":db/id"))return this.Sc;if(OJ(a))return fL(eL(this.db,this.Sc,PJ(a),null));var b=jL?jL(this,a):kL.call(null,this,a);return DJ(this.db,a,AA)?fL(b):b};
g.key_set=function(){return ig(qj(this))};g.entries=function(){return new ij(F(gL(this)))};g.value_set=function(){return ig(Vh.Dh(wf,gL(this)))};g.toString=function(){return we(this)};g.keys=function(){return Re(qj(this))};g.values=function(){return Re(Vh.Dh(wf,gL(this)))};g.equiv=function(a){return lL.Dh?lL.Dh(this,a):lL.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.ja=function(a,b){return mL?mL(this,b,null):kL.call(null,this,b,null)};
g.Ph=function(a,b,c){return mL?mL(this,b,c):kL.call(null,this,b,c)};g.ea=function(a,b,c){return Xd(Q.Gh(z(this.cache),Ur,this.Sc),b,c)};g.ga=function(){hL.Eh?hL.Eh(this):hL.call(null,this);return M(z(this.cache))};g.ha=function(){return Ee(this.Sc)};g.$=function(a,b){return lL.Dh?lL.Dh(this,b):lL.call(null,this,b)};g.fa=function(){hL.Eh?hL.Eh(this):hL.call(null,this);return F(z(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.Eh(arguments[1]);case 2:return this.Dh(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(Rc(b)))};g.Eh=function(a){return jL?jL(this,a):kL.call(null,this,a)};g.Dh=function(a,b){return mL?mL(this,a,b):kL.call(null,this,a,b)};function cL(a,b,c,d){return new iL(a,b,c,d)}
function lL(a,b){return b instanceof iL&&D.Dh(a.Sc,b.Sc)}function kL(a){switch(arguments.length){case 2:return jL(arguments[0],arguments[1]);case 3:return mL(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function jL(a,b){return mL(a,b,null)}
function mL(a,b,c){if(D.Dh(b,Ur))return a.Sc;if(OJ(b))return eL(a.db,a.Sc,PJ(b),c);var d=z(a.cache);d=d.Eh?d.Eh(b):d.call(null,b);if(null==d){if(q(z(a.Rf)))return c;d=wh(bJ(a.db,new W(null,2,5,Y,[a.Sc,b],null)));if(null==d)return c;c=dL(a.db,b,d);b=Q.Gh(z(a.cache),b,c);se(a.cache,b);return c}return d}function nL(a,b){return ng(function(c,d,e){return Q.Gh(c,d,DJ(a,d,Mm)?DJ(a,d,AA)?Fk(Vh.Dh(hL,e)):hL.Eh?hL.Eh(e):hL.call(null,e):e)},V,b)}
function oL(a,b){return v.Gh(function(c,d){var e=mw.Eh(H(d));return Q.Gh(c,e,dL(a,e,d))},V,Uk(mw,b))}function hL(a){if(!q(z(a.Rf))){var b=wh(bJ(a.db,new W(null,1,5,Y,[a.Sc],null)));q(b)&&(b=nL(a.db,oL(a.db,b)),se(a.cache,b),se(a.Rf,!0))}return a}Ga("datascript.impl.entity.Entity",iL);function pL(){}function qL(a,b,c){if(null!=a&&null!=a.Pa)a=a.Pa(a,b,c);else{var d=qL[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=qL._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("ITraversable.-collect",a);}return a}
function rL(a,b){if(null!=a&&null!=a.Qa)a=a.Qa(a,b);else{var c=rL[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=rL._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ITraversable.-collect-vars",a);}return a}function sL(a,b){return Nf(a)&&D.Dh(M(a),b)}function tL(a,b){return Nf(b)?v.Gh(function(c,d){d=a.Eh?a.Eh(d):a.call(null,d);return q(d)?zf.Dh(c,d):Ze(null)},Af,b):null}function uL(a,b){return vL(a,b,Af)}
function vL(a,b,c){return q(a.Eh?a.Eh(b):a.call(null,b))?zf.Dh(c,b):(null!=b?l===b.Oa||(b.wd?0:Kc(pL,b)):Kc(pL,b))?qL(b,a,c):AI(b)?v.Gh(function(d,e){return vL(a,e,d)},c,b):c}function wL(a){var b=Kf(a);return b?b:qh(cg,a)}function xL(a,b){return Hf(a,new p(null,1,[nn,b],null))}function yL(a){var b=nn.Eh(If(a));return q(b)?b:a}function zL(a,b,c){this.Jh=a;this.Hh=b;this.Kh=c;this.Lh=2230716170;this.Qh=139264}g=zL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){return B.Gh(this.Hh,b,c)};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,T.Dh(Af,this.Hh))};g.ma=function(){return new hj(this,0,Af,q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 0+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-528488587^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(Ek,b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new zL(this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return new zL(this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(Af,this.Hh))};g.da=function(a,b){return new zL(b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return c};g.Qa=function(a,b){return b};function AL(a,b,c,d){this.symbol=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=AL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "symbol":return this.symbol;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[zw,this.symbol],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[zw],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=736891289^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.symbol,b.symbol)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[zw,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new AL(this.symbol,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(zw,b):S.call(null,zw,b))?new AL(c,this.Jh,this.Hh,null):new AL(this.symbol,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(zw,this.symbol)],null),this.Hh))};g.da=function(a,b){return new AL(this.symbol,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.symbol,c)};
g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.symbol):BL.call(null,b,this.symbol)};function CL(a,b,c,d){this.symbol=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=CL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "symbol":return this.symbol;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[zw,this.symbol],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[zw],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1648766309^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.symbol,b.symbol)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[zw,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new CL(this.symbol,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(zw,b):S.call(null,zw,b))?new CL(c,this.Jh,this.Hh,null):new CL(this.symbol,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(zw,this.symbol)],null),this.Hh))};g.da=function(a,b){return new CL(this.symbol,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.symbol,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.symbol):BL.call(null,b,this.symbol)};function DL(a,b,c){this.Jh=a;this.Hh=b;this.Kh=c;this.Lh=2230716170;this.Qh=139264}g=DL.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return B.Gh(this.Hh,b,c)};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,T.Dh(Af,this.Hh))};g.ma=function(){return new hj(this,0,Af,q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 0+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-350962559^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(Ek,b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new DL(this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return new DL(this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(Af,this.Hh))};g.da=function(a,b){return new DL(b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return c};g.Qa=function(a,b){return b};function EL(a,b,c){this.Jh=a;this.Hh=b;this.Kh=c;this.Lh=2230716170;this.Qh=139264}g=EL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return B.Gh(this.Hh,b,c)};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,T.Dh(Af,this.Hh))};g.ma=function(){return new hj(this,0,Af,q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 0+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1504050517^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(Ek,b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new EL(this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return new EL(this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(Af,this.Hh))};g.da=function(a,b){return new EL(b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return c};g.Qa=function(a,b){return b};
function FL(a,b,c,d){this.value=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=FL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "value":return this.value;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Fw,this.value],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Fw],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-812884714^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.value,b.value)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Fw,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new FL(this.value,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Fw,b):S.call(null,Fw,b))?new FL(c,this.Jh,this.Hh,null):new FL(this.value,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Fw,this.value)],null),this.Hh))};g.da=function(a,b){return new FL(this.value,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.value,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.value):BL.call(null,b,this.value)};function GL(a,b,c,d){this.symbol=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=GL.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "symbol":return this.symbol;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[zw,this.symbol],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[zw],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1509921913^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.symbol,b.symbol)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[zw,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new GL(this.symbol,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(zw,b):S.call(null,zw,b))?new GL(c,this.Jh,this.Hh,null):new GL(this.symbol,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(zw,this.symbol)],null),this.Hh))};g.da=function(a,b){return new GL(this.symbol,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.symbol,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.symbol):BL.call(null,b,this.symbol)};function HL(a){return a instanceof A&&D.Dh(H(Tg(a)),"?")?new AL(a,null,null,null):null}function IL(a){var b=HL(a);if(q(b))return b;throw om(["Cannot parse var, expected symbol starting with ?, got: ",ql.Ih(O([a]))].join(""),new p(null,2,[Ap,iq,at,a],null));}
function JL(a){return a instanceof A&&D.Dh(H(Tg(a)),"$")?new CL(a,null,null,null):null}function KL(a){return a instanceof A?null:new FL(a,null,null,null)}function LL(a){return a instanceof A&&Hc(HL(a))&&Hc(JL(a))&&Hc(D.Dh($s,a)?new EL(null,null,null):null)&&Hc(D.Dh(gq,a)?new zL(null,null,null):null)?new GL(a,null,null,null):null}function ML(a){return q(LL(a))?new AL(a,null,null,null):null}function NL(a){var b=HL(a);if(q(b))return b;b=KL(a);return q(b)?b:JL(a)}
function OL(a,b,c,d,e){this.required=a;this.Hc=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=OL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "required":return this.required;case "free":return this.Hc;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Oz,this.required],null),new W(null,2,5,Y,[zr,this.Hc],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Oz,zr],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=892963297^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.required,b.required)&&D.Dh(this.Hc,b.Hc)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[zr,null,Oz,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new OL(this.required,this.Hc,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Oz,b):S.call(null,Oz,b))?new OL(c,this.Hc,this.Jh,this.Hh,null):q(S.Dh?S.Dh(zr,b):S.call(null,zr,b))?new OL(this.required,c,this.Jh,this.Hh,null):new OL(this.required,this.Hc,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Oz,this.required),new X(zr,this.Hc)],null),this.Hh))};g.da=function(a,b){return new OL(this.required,this.Hc,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.Hc,vL(b,this.required,c))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.required):BL.call(null,b,this.required);b=this.Hc;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function PL(a){if(Nf(a)){var b=Nf(H(a))?new W(null,2,5,Y,[H(a),K(a)],null):new W(null,2,5,Y,[null,a],null),c=P(b,0,null);b=P(b,1,null);c=tL(IL,c);b=tL(IL,b);if(Kf(c)&&Kf(b))throw om("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new p(null,2,[Ap,yq,at,a],null));if(!q(wL(T.Dh(c,b))))throw om("Rule variables should be distinct",new p(null,2,[Ap,yq,at,a],null));return new OL(c,b,null,null,null)}throw om("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new p(null,2,[Ap,yq,at,a],null));}function QL(a){return T.Eh(q(Oz.Eh(a))?function(){li.Dh(zw,Oz.Eh(a));return li.Dh(zw,zr.Eh(a))}():null)}function RL(a){return new W(null,2,5,Y,[M(Oz.Eh(a)),M(zr.Eh(a))],null)}function SL(a,b,c){this.Jh=a;this.Hh=b;this.Kh=c;this.Lh=2230716170;this.Qh=139264}g=SL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){return B.Gh(this.Hh,b,c)};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,T.Dh(Af,this.Hh))};g.ma=function(){return new hj(this,0,Af,q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 0+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-890522983^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(Ek,b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new SL(this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return new SL(this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(Af,this.Hh))};g.da=function(a,b){return new SL(b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return c};g.Qa=function(a,b){return b};
function TL(a,b,c,d){this.Va=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=TL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "variable":return this.Va;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Ut,this.Va],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Ut],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1522792445^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Va,b.Va)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Ut,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new TL(this.Va,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ut,b):S.call(null,Ut,b))?new TL(c,this.Jh,this.Hh,null):new TL(this.Va,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Ut,this.Va)],null),this.Hh))};
g.da=function(a,b){return new TL(this.Va,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.Va,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.Va):BL.call(null,b,this.Va)};function UL(a,b,c,d){this.bindings=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=UL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "bindings":return this.bindings;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[qn,this.bindings],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[qn],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1637239347^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.bindings,b.bindings)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[qn,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new UL(this.bindings,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(qn,b):S.call(null,qn,b))?new UL(c,this.Jh,this.Hh,null):new UL(this.bindings,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(qn,this.bindings)],null),this.Hh))};g.da=function(a,b){return new UL(this.bindings,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.bindings,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.bindings):BL.call(null,b,this.bindings)};function VL(a,b,c,d){this.binding=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=VL.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "binding":return this.binding;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Uv,this.binding],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Uv],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1930368089^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.binding,b.binding)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Uv,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new VL(this.binding,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Uv,b):S.call(null,Uv,b))?new VL(c,this.Jh,this.Hh,null):new VL(this.binding,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Uv,this.binding)],null),this.Hh))};g.da=function(a,b){return new VL(this.binding,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.binding,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.binding):BL.call(null,b,this.binding)};function WL(a){return D.Dh(gq,a)?xL(new SL(null,null,null),a):null}function XL(a){var b=WL(a);return q(b)?b:YL.Eh?YL.Eh(a):YL.call(null,a)}
function ZL(a){var b=tL(XL,a);if(q(b)){if(Kf(b))throw om("Tuple binding cannot be empty",new p(null,2,[Ap,Kp,at,a],null));return xL(new UL(b,null,null,null),a)}return null}
function YL(a){a:{if(sL(a,2)&&D.Dh(wf(a),Ru)){var b=H(a);b=YL.Eh?YL.Eh(b):YL.call(null,b);if(q(b)){b=xL(new VL(b,null,null,null),a);break a}throw om("Cannot parse collection binding",new p(null,2,[Ap,Kp,at,a],null));}b=null}if(q(b))return b;b=sL(a,1)&&Nf(H(a))?xL(new VL(ZL(H(a)),null,null,null),a):null;if(q(b))return b;b=ZL(a);if(q(b))return b;b=WL(a);if(q(b))return b;b=HL(a);b=q(b)?xL(new TL(b,null,null,null),a):null;if(q(b))return b;throw om("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new p(null,2,[Ap,Kp,at,a],null));}function $L(a){if(null!=a&&null!=a.Re)a=a.Re(a);else{var b=$L[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=$L._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IFindVars.-find-vars",a);}return a}AL.prototype.Re=function(){return new W(null,1,5,Y,[this.symbol],null)};function aM(a,b,c,d,e){this.fn=a;this.xa=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=aM.prototype;g.Re=function(){return $L(yf(this.xa))};
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "fn":return this.fn;case "args":return this.xa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Hz,this.fn],null),new W(null,2,5,Y,[Iz,this.xa],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Hz,Iz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-91097383^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.fn,b.fn)&&D.Dh(this.xa,b.xa)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Iz,null,Hz,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new aM(this.fn,this.xa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Hz,b):S.call(null,Hz,b))?new aM(c,this.xa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Iz,b):S.call(null,Iz,b))?new aM(this.fn,c,this.Jh,this.Hh,null):new aM(this.fn,this.xa,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Hz,this.fn),new X(Iz,this.xa)],null),this.Hh))};g.da=function(a,b){return new aM(this.fn,this.xa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;
g.Pa=function(a,b,c){return vL(b,this.xa,vL(b,this.fn,c))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.fn):BL.call(null,b,this.fn);b=this.xa;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};function bM(a,b,c,d,e,f){this.source=a;this.Va=b;this.pattern=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=bM.prototype;g.Re=function(){return $L(this.Va)};g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "source":return this.source;case "variable":return this.Va;case "pattern":return this.pattern;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[nn,this.source],null),new W(null,2,5,Y,[Ut,this.Va],null),new W(null,2,5,Y,[Nz,this.pattern],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[nn,Ut,Nz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-2108867663^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.source,b.source)&&D.Dh(this.Va,b.Va)&&D.Dh(this.pattern,b.pattern)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[Ut,null,nn,null,Nz,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new bM(this.source,this.Va,this.pattern,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(nn,b):S.call(null,nn,b))?new bM(c,this.Va,this.pattern,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ut,b):S.call(null,Ut,b))?new bM(this.source,c,this.pattern,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Nz,b):S.call(null,Nz,b))?new bM(this.source,this.Va,c,this.Jh,this.Hh,null):new bM(this.source,this.Va,this.pattern,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(nn,this.source),new X(Ut,this.Va),new X(Nz,this.pattern)],null),this.Hh))};
g.da=function(a,b){return new bM(this.source,this.Va,this.pattern,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.pattern,vL(b,this.Va,vL(b,this.source,c)))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.source):BL.call(null,b,this.source);b=this.Va;a=BL.Dh?BL.Dh(a,b):BL.call(null,a,b);b=this.pattern;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function cM(a){if(null!=a&&null!=a.qe)a=a.qe(a);else{var b=cM[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=cM._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IFindElements.find-elements",a);}return a}function dM(a,b,c,d){this.elements=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=dM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "elements":return this.elements;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Ts,this.elements],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Ts],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=744809563^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.elements,b.elements)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Ts,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new dM(this.elements,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.qe=function(){return this.elements};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ts,b):S.call(null,Ts,b))?new dM(c,this.Jh,this.Hh,null):new dM(this.elements,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Ts,this.elements)],null),this.Hh))};
g.da=function(a,b){return new dM(this.elements,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.elements,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.elements):BL.call(null,b,this.elements)};function eM(a,b,c,d){this.element=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=eM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "element":return this.element;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Yx,this.element],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Yx],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=124241361^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.element,b.element)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Yx,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new eM(this.element,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.qe=function(){return new W(null,1,5,Y,[this.element],null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Yx,b):S.call(null,Yx,b))?new eM(c,this.Jh,this.Hh,null):new eM(this.element,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Yx,this.element)],null),this.Hh))};
g.da=function(a,b){return new eM(this.element,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.element,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.element):BL.call(null,b,this.element)};function fM(a,b,c,d){this.element=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=fM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "element":return this.element;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Yx,this.element],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Yx],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-661542332^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.element,b.element)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Yx,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new fM(this.element,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.qe=function(){return new W(null,1,5,Y,[this.element],null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Yx,b):S.call(null,Yx,b))?new fM(c,this.Jh,this.Hh,null):new fM(this.element,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Yx,this.element)],null),this.Hh))};
g.da=function(a,b){return new fM(this.element,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.element,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.element):BL.call(null,b,this.element)};function gM(a,b,c,d){this.elements=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=gM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "elements":return this.elements;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[Ts,this.elements],null)],null),this.Hh))};
g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[Ts],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=681530371^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.elements,b.elements)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[Ts,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new gM(this.elements,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.qe=function(){return this.elements};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Ts,b):S.call(null,Ts,b))?new gM(c,this.Jh,this.Hh,null):new gM(this.elements,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(Ts,this.elements)],null),this.Hh))};
g.da=function(a,b){return new gM(this.elements,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.elements,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.elements):BL.call(null,b,this.elements)};function hM(a){return a instanceof aM}function iM(a){return a instanceof bM}
function jM(a){var b=HL(a);if(q(b))return b;a:{if(Nf(a)&&D.Dh(H(a),ow)){if(3<=M(a)&&4>=M(a)){var c=(b=D.Dh(M(a),4))?lf(a,1):Lp;b=b?K(K(a)):K(a);var d=P(b,0,null);b=P(b,1,null);c=JL(c);d=HL(d);var e=HL(b);q(e)?b=e:(e=ML(b),b=q(e)?e:KL(b));if(q(q(c)?q(d)?b:d:c)){b=new bM(c,d,b,null,null,null);break a}}throw om("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new p(null,2,[Ap,dz,ot,a],null));}b=null}if(q(b))return b;a:{if(Nf(a)&&D.Dh(H(a),zv)){if(3<=
M(a)&&(b=F(a),H(b),c=K(b),b=H(c),c=K(c),b=HL(b),c=tL(NL,c),q(q(b)?c:b))){b=new aM(b,c,null,null,null);break a}throw om("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new p(null,2,[Ap,dz,ot,a],null));}b=null}q(b)?a=b:Nf(a)&&2<=M(a)?(b=F(a),a=H(b),b=K(b),a=LL(a),b=tL(NL,b),a=q(q(a)?b:a)?new aM(a,b,null,null,null):null):a=null;return a}
function kM(a){var b=tL(jM,a);b=null==b?null:new dM(b,null,null,null);if(q(b))return b;a:{if(Nf(a)&&D.Dh(M(a),1)&&(b=H(a),Nf(b)&&D.Dh(M(b),2)&&D.Dh(wf(b),Ru))){b=jM(H(b));b=null==b?null:new eM(b,null,null,null);break a}b=null}if(q(b))return b;Nf(a)&&D.Dh(M(a),2)&&D.Dh(wf(a),Ey)?(b=jM(H(a)),b=null==b?null:new fM(b,null,null,null)):b=null;if(q(b))return b;Nf(a)&&D.Dh(M(a),1)?(b=H(a),b=tL(jM,b),b=null==b?null:new gM(b,null,null,null)):b=null;if(q(b))return b;throw om("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new p(null,2,[Ap,dz,ot,a],null));}function lM(a,b,c,d,e){this.type=a;this.symbols=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=lM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[eq,this.type],null),new W(null,2,5,Y,[Bx,this.symbols],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[eq,Bx],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-2025547471^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.type,b.type)&&D.Dh(this.symbols,b.symbols)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[eq,null,Bx,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new lM(this.type,this.symbols,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(eq,b):S.call(null,eq,b))?new lM(c,this.symbols,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Bx,b):S.call(null,Bx,b))?new lM(this.type,c,this.Jh,this.Hh,null):new lM(this.type,this.symbols,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(eq,this.type),new X(Bx,this.symbols)],null),this.Hh))};g.da=function(a,b){return new lM(this.type,this.symbols,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.symbols,vL(b,this.type,c))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.type):BL.call(null,b,this.type);b=this.symbols;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function mM(a,b){if(!Kf(b)&&Bh(Fe,b))switch(a instanceof C?a.la:null){case "keys":return new lM(a,li.Dh(Sg,b),null,null,null);case "syms":return new lM(a,kg(b),null,null,null);case "strs":return new lM(a,li.Dh(u,b),null,null,null);default:return null}else return null}function nM(a){var b=JL(a);q(b)||(b=D.Dh($s,a)?new EL(null,null,null):null,b=q(b)?b:ML(a));return q(b)?xL(new TL(b,null,null,null),a):YL(a)}
function oM(a){var b=tL(nM,a);if(q(b))return b;throw om("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new p(null,2,[Ap,Xz,at,a],null));}function pM(a,b,c,d,e){this.source=a;this.pattern=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=pM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[nn,this.source],null),new W(null,2,5,Y,[Nz,this.pattern],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[nn,Nz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=575220587^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.source,b.source)&&D.Dh(this.pattern,b.pattern)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[nn,null,Nz,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new pM(this.source,this.pattern,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(nn,b):S.call(null,nn,b))?new pM(c,this.pattern,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Nz,b):S.call(null,Nz,b))?new pM(this.source,c,this.Jh,this.Hh,null):new pM(this.source,this.pattern,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(nn,this.source),new X(Nz,this.pattern)],null),this.Hh))};g.da=function(a,b){return new pM(this.source,this.pattern,b,this.Hh,this.Kh)};
g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.pattern,vL(b,this.source,c))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.source):BL.call(null,b,this.source);b=this.pattern;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};function qM(a,b,c,d,e){this.fn=a;this.xa=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=qM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "fn":return this.fn;case "args":return this.xa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Hz,this.fn],null),new W(null,2,5,Y,[Iz,this.xa],null)],null),this.Hh))};
g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Hz,Iz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1523376880^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.fn,b.fn)&&D.Dh(this.xa,b.xa)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Iz,null,Hz,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new qM(this.fn,this.xa,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(Hz,b):S.call(null,Hz,b))?new qM(c,this.xa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Iz,b):S.call(null,Iz,b))?new qM(this.fn,c,this.Jh,this.Hh,null):new qM(this.fn,this.xa,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Hz,this.fn),new X(Iz,this.xa)],null),this.Hh))};g.da=function(a,b){return new qM(this.fn,this.xa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.xa,vL(b,this.fn,c))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.fn):BL.call(null,b,this.fn);b=this.xa;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function rM(a,b,c,d,e,f){this.fn=a;this.xa=b;this.binding=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=rM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "fn":return this.fn;case "args":return this.xa;case "binding":return this.binding;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[Hz,this.fn],null),new W(null,2,5,Y,[Iz,this.xa],null),new W(null,2,5,Y,[Uv,this.binding],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[Hz,Iz,Uv],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=589494199^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.fn,b.fn)&&D.Dh(this.xa,b.xa)&&D.Dh(this.binding,b.binding)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[Iz,null,Hz,null,Uv,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new rM(this.fn,this.xa,this.binding,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Hz,b):S.call(null,Hz,b))?new rM(c,this.xa,this.binding,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Iz,b):S.call(null,Iz,b))?new rM(this.fn,c,this.binding,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Uv,b):S.call(null,Uv,b))?new rM(this.fn,this.xa,c,this.Jh,this.Hh,null):new rM(this.fn,this.xa,this.binding,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(Hz,this.fn),new X(Iz,this.xa),new X(Uv,this.binding)],null),this.Hh))};
g.da=function(a,b){return new rM(this.fn,this.xa,this.binding,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.binding,vL(b,this.xa,vL(b,this.fn,c)))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.fn):BL.call(null,b,this.fn);b=this.xa;a=BL.Dh?BL.Dh(a,b):BL.call(null,a,b);b=this.binding;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function sM(a,b,c,d,e,f){this.source=a;this.name=b;this.xa=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=sM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "source":return this.source;case "name":return this.name;case "args":return this.xa;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[nn,this.source],null),new W(null,2,5,Y,[Vy,this.name],null),new W(null,2,5,Y,[Iz,this.xa],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[nn,Vy,Iz],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-444662011^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.source,b.source)&&D.Dh(this.name,b.name)&&D.Dh(this.xa,b.xa)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[Iz,null,Vy,null,nn,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new sM(this.source,this.name,this.xa,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(nn,b):S.call(null,nn,b))?new sM(c,this.name,this.xa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Vy,b):S.call(null,Vy,b))?new sM(this.source,c,this.xa,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Iz,b):S.call(null,Iz,b))?new sM(this.source,this.name,c,this.Jh,this.Hh,null):new sM(this.source,this.name,this.xa,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(nn,this.source),new X(Vy,this.name),new X(Iz,this.xa)],null),this.Hh))};
g.da=function(a,b){return new sM(this.source,this.name,this.xa,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.xa,vL(b,this.name,vL(b,this.source,c)))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.source):BL.call(null,b,this.source);b=this.name;a=BL.Dh?BL.Dh(a,b):BL.call(null,a,b);b=this.xa;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function tM(a,b,c,d,e,f){this.source=a;this.fb=b;this.za=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=tM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "source":return this.source;case "vars":return this.fb;case "clauses":return this.za;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[nn,this.source],null),new W(null,2,5,Y,[Vr,this.fb],null),new W(null,2,5,Y,[ny,this.za],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[nn,Vr,ny],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1394671061^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.source,b.source)&&D.Dh(this.fb,b.fb)&&D.Dh(this.za,b.za)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[nn,null,ny,null,Vr,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new tM(this.source,this.fb,this.za,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(nn,b):S.call(null,nn,b))?new tM(c,this.fb,this.za,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Vr,b):S.call(null,Vr,b))?new tM(this.source,c,this.za,this.Jh,this.Hh,null):q(S.Dh?S.Dh(ny,b):S.call(null,ny,b))?new tM(this.source,this.fb,c,this.Jh,this.Hh,null):new tM(this.source,this.fb,this.za,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(nn,this.source),new X(Vr,this.fb),new X(ny,this.za)],null),this.Hh))};
g.da=function(a,b){return new tM(this.source,this.fb,this.za,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.za,vL(b,this.fb,vL(b,this.source,c)))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.source):BL.call(null,b,this.source);b=this.fb;a=BL.Dh?BL.Dh(a,b):BL.call(null,a,b);b=this.za;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function uM(a,b,c,d,e,f){this.source=a;this.pc=b;this.za=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=uM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "source":return this.source;case "rule-vars":return this.pc;case "clauses":return this.za;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[nn,this.source],null),new W(null,2,5,Y,[nz,this.pc],null),new W(null,2,5,Y,[ny,this.za],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[nn,nz,ny],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1461934571^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.source,b.source)&&D.Dh(this.pc,b.pc)&&D.Dh(this.za,b.za)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[nz,null,nn,null,ny,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new uM(this.source,this.pc,this.za,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(nn,b):S.call(null,nn,b))?new uM(c,this.pc,this.za,this.Jh,this.Hh,null):q(S.Dh?S.Dh(nz,b):S.call(null,nz,b))?new uM(this.source,c,this.za,this.Jh,this.Hh,null):q(S.Dh?S.Dh(ny,b):S.call(null,ny,b))?new uM(this.source,this.pc,c,this.Jh,this.Hh,null):new uM(this.source,this.pc,this.za,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(nn,this.source),new X(nz,this.pc),new X(ny,this.za)],null),this.Hh))};
g.da=function(a,b){return new uM(this.source,this.pc,this.za,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.za,vL(b,this.pc,vL(b,this.source,c)))};g.Qa=function(a,b){a=BL.Dh?BL.Dh(b,this.source):BL.call(null,b,this.source);b=this.pc;a=BL.Dh?BL.Dh(a,b):BL.call(null,a,b);b=this.za;return BL.Dh?BL.Dh(a,b):BL.call(null,a,b)};
function vM(a,b,c,d){this.za=a;this.Jh=b;this.Hh=c;this.Kh=d;this.Lh=2230716170;this.Qh=139264}g=vM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "clauses":return this.za;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,T.Dh(new W(null,1,5,Y,[new W(null,2,5,Y,[ny,this.za],null)],null),this.Hh))};g.ma=function(){return new hj(this,1,new W(null,1,5,Y,[ny],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 1+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-131856804^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.za,b.za)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,1,[ny,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new vM(this.za,this.Jh,wh(R.Dh(this.Hh,b)),null)};g.aa=function(a,b,c){return q(S.Dh?S.Dh(ny,b):S.call(null,ny,b))?new vM(c,this.Jh,this.Hh,null):new vM(this.za,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,1,5,Y,[new X(ny,this.za)],null),this.Hh))};
g.da=function(a,b){return new vM(this.za,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;g.Pa=function(a,b,c){return vL(b,this.za,c)};g.Qa=function(a,b){return BL.Dh?BL.Dh(b,this.za):BL.call(null,b,this.za)};function wM(a){var b=D.Dh(gq,a)?new zL(null,null,null):null;if(q(b))return b;b=HL(a);return q(b)?b:KL(a)}
function xM(a){if(Nf(a)){var b=JL(H(a));return q(b)?new W(null,2,5,Y,[b,K(a)],null):new W(null,2,5,Y,[new DL(null,null,null),a],null)}return null}function yM(a){if(Nf(a)){var b=F(a);a=H(b);b=K(b);b=null==b?Af:b;var c=LL(a);a=q(c)?c:HL(a);b=tL(NL,b);return q(q(a)?b:a)?new W(null,2,5,Y,[a,b],null):null}return null}
var BL=function BL(a,b){return b instanceof AL?zf.Dh(a,b):b instanceof tM?ki.Dh(a,b.fb):b instanceof uM?(b=b.pc,BL.Dh?BL.Dh(a,b):BL.call(null,a,b)):(null!=b?l===b.Oa||(b.wd?0:Kc(pL,b)):Kc(pL,b))?rL(b,a):Nf(b)?v.Gh(BL,a,b):a};function zM(a,b,c){if(Kf(a)&&Kf(b))throw om("Join variables should not be empty",new p(null,2,[Ap,xx,at,c],null));}function AM(a,b){zM(null,Vr.Eh(a),b);return a}
function BM(a,b){var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;c=B.Dh(c,nz);var d=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c;c=B.Dh(d,Oz);d=B.Dh(d,zr);zM(c,d,b);return a}function Th(a){if(Nf(a)&&D.Dh(Bv,H(a))){var b=K(a);b=CM.Eh?CM.Eh(b):CM.call(null,b);if(q(wh(b)))return new vM(b,null,null,null);throw om("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new p(null,2,[Ap,xx,at,a],null));}return null}
function Uh(a){a:{var b=xM(a);if(q(b)){var c=P(b,0,null);b=P(b,1,null);var d=F(b);b=H(d);d=K(d);if(D.Dh(qx,b)){b=CM.Eh?CM.Eh(d):CM.call(null,d);if(q(b)){c=AM(xL(new tM(c,kg(Gk(BL(Af,b))),b,null,null,null),a),a);break a}throw om("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new p(null,2,[Ap,xx,at,a],null));}}c=null}if(q(c))return c;a:{b=xM(a);if(q(b)){c=P(b,0,null);b=P(b,1,null);d=F(b);b=H(d);var e=K(d);d=H(e);e=K(e);if(D.Dh(Aq,b)){b=tL(HL,d);d=CM.Eh?CM.Eh(e):CM.call(null,e);if(q(q(b)?
d:b)){c=AM(xL(new tM(c,b,d,null,null,null),a),a);break a}throw om("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new p(null,2,[Ap,xx,at,a],null));}}c=null}if(q(c))return c;a:{b=xM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=F(b),b=H(d),d=K(d),D.Dh(hr,b))){b=tL(Sh(),d);if(q(b)){c=BM(xL(new uM(c,new OL(null,kg(Gk(BL(Af,b))),null,null,null),b,null,null,null),a),a);break a}throw om("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new p(null,2,[Ap,xx,
at,a],null));}c=null}if(q(c))return c;a:{b=xM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),d=F(b),b=H(d),e=K(d),d=H(e),e=K(e),D.Dh(sp,b))){b=PL(d);d=tL(Sh(),e);if(q(q(b)?d:b)){c=BM(xL(new uM(c,b,d,null,null,null),a),a);break a}throw om("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new p(null,2,[Ap,xx,at,a],null));}c=null}if(q(c))return c;a:{if(sL(a,1)&&(b=yM(H(a)),q(b))){c=P(b,0,null);b=P(b,1,null);c=xL(new qM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;
a:{if(sL(a,2)&&(b=P(a,0,null),c=P(a,1,null),d=yM(b),q(d))){b=P(d,0,null);d=P(d,1,null);c=YL(c);c=q(c)?xL(new rM(b,d,c,null,null,null),a):null;break a}c=null}if(q(c))return c;a:{b=xM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=F(b),d=H(b),b=K(b),d=LL(d),e=tL(wM,b),q(d))){if(Kf(b))throw om("rule-expr requires at least one argument",new p(null,2,[Ap,xx,at,a],null));if(null==e)throw om("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new p(null,2,[Ap,xx,at,a],null));c=new sM(c,
d,e,null,null,null);break a}c=null}if(q(c))return c;a:{b=xM(a);if(q(b)&&(c=P(b,0,null),b=P(b,1,null),b=tL(wM,b),q(b))){if(Kf(b))throw om("Pattern could not be empty",new p(null,2,[Ap,xx,at,a],null));c=xL(new pM(c,b,null,null,null),a);break a}c=null}if(q(c))return c;throw om("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new p(null,2,[Ap,xx,at,a],null));}function CM(a){return tL(Uh,a)}
function DM(a){var b=CM(a);if(q(b))return b;throw om("Cannot parse :where clause, expected [clause+]",new p(null,2,[Ap,xx,at,a],null));}function EM(a,b,c,d,e){this.fb=a;this.za=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=EM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "vars":return this.fb;case "clauses":return this.za;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Vr,this.fb],null),new W(null,2,5,Y,[ny,this.za],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Vr,ny],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};
g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1024755006^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.fb,b.fb)&&D.Dh(this.za,b.za)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[ny,null,Vr,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new EM(this.fb,this.za,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Vr,b):S.call(null,Vr,b))?new EM(c,this.za,this.Jh,this.Hh,null):q(S.Dh?S.Dh(ny,b):S.call(null,ny,b))?new EM(this.fb,c,this.Jh,this.Hh,null):new EM(this.fb,this.za,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Vr,this.fb),new X(ny,this.za)],null),this.Hh))};g.da=function(a,b){return new EM(this.fb,this.za,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;
g.Pa=function(a,b,c){return vL(b,this.za,vL(b,this.fb,c))};g.Qa=function(a,b){return BL(BL(b,this.fb),this.za)};function FM(a,b,c,d,e){this.name=a;this.Ec=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=FM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "name":return this.name;case "branches":return this.Ec;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[Vy,this.name],null),new W(null,2,5,Y,[Cs,this.Ec],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[Vy,Cs],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};
g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-900273052^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.name,b.name)&&D.Dh(this.Ec,b.Ec)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Vy,null,Cs,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new FM(this.name,this.Ec,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Vy,b):S.call(null,Vy,b))?new FM(c,this.Ec,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Cs,b):S.call(null,Cs,b))?new FM(this.name,c,this.Jh,this.Hh,null):new FM(this.name,this.Ec,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(Vy,this.name),new X(Cs,this.Ec)],null),this.Hh))};g.da=function(a,b){return new FM(this.name,this.Ec,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;
g.Pa=function(a,b,c){return vL(b,this.Ec,vL(b,this.name,c))};g.Qa=function(a,b){return BL(BL(b,this.name),this.Ec)};
function GM(a){if(Nf(a)){var b=F(a),c=H(b),d=K(b);if(Nf(c)){b=F(c);var e=H(b);c=K(b);b=function(){var h=LL(e);if(q(h))return h;throw om("Cannot parse rule name, expected plain-symbol",new p(null,2,[Ap,Mw,at,a],null));}();c=PL(c);var f=function(){var h=wh(CM(d));if(q(h))return h;throw om("Rule branch should have clauses",new p(null,2,[Ap,Mw,at,a],null));}();return new p(null,3,[Vy,b,Vr,c,ny,f],null)}throw om(["Cannot parse rule head, expected [rule-name rule-vars], got: ",ql.Ih(O([c]))].join(""),new p(null,
2,[Ap,Mw,at,a],null));}throw om("Cannot parse rule, expected [rule-head clause+]",new p(null,2,[Ap,Mw,at,a],null));}
function HM(a,b){var c=Vr.Eh(H(b)),d=RL(c);b=F(K(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.wa(null,h);k=Vr.Eh(k);if(vh.Dh(d,RL(k)))throw om(["Arity mismatch for rule '",ql.Ih(O([zw.Eh(a)])),"': ",ql.Ih(O([QL(c)]))," vs. ",ql.Ih(O([QL(k)]))].join(""),new p(null,2,[Ap,Mw,Uo,a],null));h+=1}else if(b=F(b)){if(Rf(b))f=ke(b),b=le(b),e=f,f=M(f);else{k=H(b);e=Vr.Eh(k);if(vh.Dh(d,RL(e)))throw om(["Arity mismatch for rule '",ql.Ih(O([zw.Eh(a)])),"': ",ql.Ih(O([QL(c)]))," vs. ",ql.Ih(O([QL(e)]))].join(""),
new p(null,2,[Ap,Mw,Uo,a],null));b=K(b);e=null;f=0}h=0}else break}
function IM(a){kg(function(){return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){var f=e;if(Rf(f)){var h=ke(f),k=M(h),m=Yg(k);return function(){for(var w=0;;)if(w<k){var y=x(h,w),E=P(y,0,null),I=P(y,1,null);y=li.Dh(function(){return function(G){return new EM(Vr.Eh(G),ny.Eh(G),null,null,null)}}(w,y,E,I,h,k,m,f,e),I);I=m;HM(E,y);I.add(new FM(E,y,null,null,null));w+=1}else return!0}()?$g(ch(m),d(le(f))):$g(ch(m),null)}var n=H(f),r=P(n,0,null),t=P(n,1,null);n=li.Dh(function(){return function(w){return new EM(Vr.Eh(w),
ny.Eh(w),null,null,null)}}(n,r,t,f,e),t);HM(r,n);return rf(new FM(r,n,null,null,null),d(Oe(f)))}return null}},null,null)}(Tl(Vy,tL(GM,a)))}())}function JM(a,b,c,d,e,f,h,k){this.ec=a;this.jc=b;this.hc=c;this.fc=d;this.ic=e;this.Jh=f;this.Hh=h;this.Kh=k;this.Lh=2230716170;this.Qh=139264}g=JM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "qfind":return this.ec;case "qwith":return this.jc;case "qreturn-map":return this.hc;case "qin":return this.fc;case "qwhere":return this.ic;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,T.Dh(new W(null,5,5,Y,[new W(null,2,5,Y,[wq,this.ec],null),new W(null,2,5,Y,[Lz,this.jc],null),new W(null,2,5,Y,[hw,this.hc],null),new W(null,2,5,Y,[Tx,this.fc],null),new W(null,2,5,Y,[ly,this.ic],null)],null),this.Hh))};g.ma=function(){return new hj(this,5,new W(null,5,5,Y,[wq,Lz,hw,Tx,ly],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 5+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=181307977^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.ec,b.ec)&&D.Dh(this.jc,b.jc)&&D.Dh(this.hc,b.hc)&&D.Dh(this.fc,b.fc)&&D.Dh(this.ic,b.ic)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,5,[wq,null,ly,null,Tx,null,Lz,null,hw,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new JM(this.ec,this.jc,this.hc,this.fc,this.ic,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(wq,b):S.call(null,wq,b))?new JM(c,this.jc,this.hc,this.fc,this.ic,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Lz,b):S.call(null,Lz,b))?new JM(this.ec,c,this.hc,this.fc,this.ic,this.Jh,this.Hh,null):q(S.Dh?S.Dh(hw,b):S.call(null,hw,b))?new JM(this.ec,this.jc,c,this.fc,this.ic,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Tx,b):S.call(null,Tx,b))?new JM(this.ec,this.jc,this.hc,c,this.ic,this.Jh,this.Hh,null):q(S.Dh?S.Dh(ly,b):S.call(null,ly,b))?new JM(this.ec,this.jc,this.hc,this.fc,
c,this.Jh,this.Hh,null):new JM(this.ec,this.jc,this.hc,this.fc,this.ic,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,5,5,Y,[new X(wq,this.ec),new X(Lz,this.jc),new X(hw,this.hc),new X(Tx,this.fc),new X(ly,this.ic)],null),this.Hh))};g.da=function(a,b){return new JM(this.ec,this.jc,this.hc,this.fc,this.ic,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.Oa=l;
g.Pa=function(a,b,c){return vL(b,this.ic,vL(b,this.fc,vL(b,this.hc,vL(b,this.jc,vL(b,this.ec,c)))))};g.Qa=function(a,b){return BL(BL(BL(BL(BL(b,this.ec),this.jc),this.hc),this.fc),this.ic)};function KM(a){var b=R.Ih(a,wq,O([Lz,hw,Tx,ly]));b=Pf(a)?ki.Dh(V,b):b;return new JM(wq.Eh(a),Lz.Eh(a),hw.Eh(a),Tx.Eh(a),ly.Eh(a),null,wh(b),null)}function LM(a){for(var b=V,c=null;;){var d=H(a);if(q(d))d instanceof C?(c=d,a=K(a)):(b=ri.Oh(b,new W(null,1,5,Y,[c],null),Ih(zf,Af),d),a=K(a));else return b}}
function MM(a){var b=nn.Eh(a);return a instanceof pM?b:null!=b?b instanceof DL?null:b:null}
function NM(a,b,c){var d=Fk(BL(Af,wq.Eh(a))),e=Fk(Lz.Eh(a)),f=Fk(BL(Af,Tx.Eh(a))),h=Fk(BL(Af,ly.Eh(a)));f=BH.Dh(zH(d,e),zH(h,f));d=AH.Dh(d,e);if(!Kf(f))throw om(["Query for unknown vars: ",ql.Ih(O([li.Dh(zw,f)]))].join(""),new p(null,3,[Ap,Ox,Vr,f,at,b],null));if(!Kf(d))throw om([":find and :with should not use same variables: ",ql.Ih(O([li.Dh(zw,d)]))].join(""),new p(null,3,[Ap,Ox,Vr,d,at,b],null));d=hw.Eh(a);if(null!=d){if(wq.Eh(a)instanceof fM)throw om([ql.Ih(O([eq.Eh(d)]))," does not work with single-scalar :find"].join(""),
new p(null,2,[Ap,Ox,at,b],null));if(wq.Eh(a)instanceof eM)throw om([ql.Ih(O([eq.Eh(d)]))," does not work with collection :find"].join(""),new p(null,2,[Ap,Ox,at,b],null));}d=Bx.Eh(hw.Eh(a));if(null!=d&&(e=cM(wq.Eh(a)),!D.Dh(M(d),M(e))))throw om(["Count of ",ql.Ih(O([eq.Eh(hw.Eh(a))]))," must match count of :find"].join(""),new p(null,4,[Ap,Ox,ro,rf(eq.Eh(hw.Eh(a)),d),$q,e,at,b],null));if(1<M(ii(Ic,new W(null,3,5,Y,[vq.Eh(c),Wy.Eh(c),yn.Eh(c)],null))))throw om("Only one of :keys/:syms/:strs must be present",
new p(null,2,[Ap,Ox,at,b],null));var k=BL(Af,Tx.Eh(a)),m=uL(function(r){return r instanceof CL},Tx.Eh(a)),n=uL(function(r){return r instanceof EL},Tx.Eh(a));if(!q(function(){var r=wL(k);return q(r)?(r=wL(m),q(r)?wL(n):r):r}()))throw om("Vars used in :in should be distinct",new p(null,2,[Ap,Ox,at,b],null));c=BL(Af,Lz.Eh(a));if(!q(wL(c)))throw om("Vars used in :with should be distinct",new p(null,2,[Ap,Ox,at,b],null));c=vL(function(r){return r instanceof CL},Tx.Eh(a),Ek);d=vL(function(r){return r instanceof
CL},ly.Eh(a),Ek);c=BH.Dh(d,c);if(!Kf(c))throw om(["Where uses unknown source vars: ",ql.Ih(O([li.Dh(zw,c)]))].join(""),new p(null,3,[Ap,Ox,Vr,c,at,b],null));c=uL(function(r){return r instanceof sM},ly.Eh(a));a=uL(function(r){return r instanceof EL},Tx.Eh(a));if(!Kf(c)&&Kf(a))throw om("Missing rules var '%' in :in",new p(null,2,[Ap,Ox,at,b],null));}
function OM(a){if(Of(a))var b=a;else if(Nf(a))b=LM(a);else throw om("Query should be a vector or a map",new p(null,2,[Ap,Ox,at,a],null));var c=b,d=DM(op.Dh(c,Af));b=KM(new p(null,5,[wq,kM($q.Eh(c)),Lz,function(){var e=DA.Eh(c);if(q(e)){var f=tL(HL,e);if(q(f))e=f;else throw om("Cannot parse :with clause, expected [ variable+ ]",new p(null,2,[Ap,Gt,at,e],null));}else e=null;return e}(),hw,function(){var e=mM(vq,vq.Eh(c));if(q(e))return e;e=mM(Wy,Wy.Eh(c));return q(e)?e:mM(yn,yn.Eh(c))}(),Tx,oM(function(){var e=
SA.Eh(c);return q(e)?e:Kf(uL(MM,d))?Af:new W(null,1,5,Y,[Lp],null)}()),ly,d],null));NM(b,a,c);return b};function PM(a,b,c,d,e,f){this.Wc=a;this.sources=b;this.rules=c;this.Jh=d;this.Hh=e;this.Kh=f;this.Lh=2230716170;this.Qh=139264}g=PM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "rels":return this.Wc;case "sources":return this.sources;case "rules":return this.rules;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,T.Dh(new W(null,3,5,Y,[new W(null,2,5,Y,[Pv,this.Wc],null),new W(null,2,5,Y,[Hw,this.sources],null),new W(null,2,5,Y,[Ov,this.rules],null)],null),this.Hh))};g.ma=function(){return new hj(this,3,new W(null,3,5,Y,[Pv,Hw,Ov],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 3+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1014232958^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Wc,b.Wc)&&D.Dh(this.sources,b.sources)&&D.Dh(this.rules,b.rules)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,3,[Hw,null,Ov,null,Pv,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new PM(this.Wc,this.sources,this.rules,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Pv,b):S.call(null,Pv,b))?new PM(c,this.sources,this.rules,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Hw,b):S.call(null,Hw,b))?new PM(this.Wc,c,this.rules,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ov,b):S.call(null,Ov,b))?new PM(this.Wc,this.sources,c,this.Jh,this.Hh,null):new PM(this.Wc,this.sources,this.rules,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,3,5,Y,[new X(Pv,this.Wc),new X(Hw,this.sources),new X(Ov,this.rules)],null),this.Hh))};
g.da=function(a,b){return new PM(this.Wc,this.sources,this.rules,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};function QM(a,b,c,d,e){this.sb=a;this.pd=b;this.Jh=c;this.Hh=d;this.Kh=e;this.Lh=2230716170;this.Qh=139264}g=QM.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "attrs":return this.sb;case "tuples":return this.pd;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,T.Dh(new W(null,2,5,Y,[new W(null,2,5,Y,[At,this.sb],null),new W(null,2,5,Y,[Xt,this.pd],null)],null),this.Hh))};g.ma=function(){return new hj(this,2,new W(null,2,5,Y,[At,Xt],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};
g.ga=function(){return 2+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1107093117^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.sb,b.sb)&&D.Dh(this.pd,b.pd)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,2,[Xt,null,At,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new QM(this.sb,this.pd,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(At,b):S.call(null,At,b))?new QM(c,this.pd,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Xt,b):S.call(null,Xt,b))?new QM(this.sb,c,this.Jh,this.Hh,null):new QM(this.sb,this.pd,this.Jh,Q.Gh(this.Hh,b,c),null)};g.fa=function(){return F(T.Dh(new W(null,2,5,Y,[new X(At,this.sb),new X(Xt,this.pd)],null),this.Hh))};g.da=function(a,b){return new QM(this.sb,this.pd,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
function RM(a,b){return AH.Dh(Fk(qj(a)),Fk(qj(b)))}function SM(a,b){return D.Dh(M(a),M(b))&&Bh(function(c){return Yf(b,c)},qj(a))&&Bh(function(c){return Yf(b,c)},qj(a))}
var TM=function TM(a,b){return D.Dh(gq,a)?!0:D.Dh(new W(null,1,5,Y,[dx],null),a)?Nf(b):a instanceof A?D.Dh(b,a):Nf(a)?D.Dh(yf(a),dx)?Nf(b)&&Bh(function(d){var e=P(d,0,null);d=P(d,1,null);return TM.Dh?TM.Dh(e,d):TM.call(null,e,d)},Vh.Gh(Ri,Hk(a),b)):Nf(b)&&D.Dh(M(b),M(a))&&Bh(function(d){var e=P(d,0,null);d=P(d,1,null);return TM.Dh?TM.Dh(e,d):TM.call(null,e,d)},Vh.Gh(Ri,a,b)):a.Eh?a.Eh(b):a.call(null,b)};function UM(a){return a instanceof A&&D.Dh("$",H(Tg(a)))}
function VM(a){return a instanceof A&&D.Dh("?",H(Tg(a)))}function WM(a){return a instanceof C||"string"===typeof a}function XM(a){return TM(new W(null,2,5,Y,[WM,gq],null),a)}function YM(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var ZM=function ZM(a,b){var d=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,e=B.Dh(d,At);d=B.Dh(d,Xt);var f=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b,h=B.Dh(f,At);f=B.Dh(f,Xt);if(D.Dh(e,h))return new QM(e,ki.Dh(kg(d),f),null,null,null);if(SM(e,h)){if(Bh(Gc,rj(e))){var k=kg(function(){return function w(t){return new Ug(null,function(){for(;;){var y=F(t);if(y){if(Rf(y)){var E=ke(y),I=M(E),G=Yg(I);a:for(var J=0;;)if(J<I){var N=x(E,J),U=P(N,0,null);N=P(N,1,null);U=new W(null,2,5,Y,[N,e.Eh?e.Eh(U):e.call(null,
U)],null);G.add(U);J+=1}else{E=!0;break a}return E?$g(ch(G),w(le(y))):$g(ch(G),null)}E=H(y);G=P(E,0,null);E=P(E,1,null);return rf(new W(null,2,5,Y,[E,e.Eh?e.Eh(G):e.call(null,G)],null),w(Oe(y)))}return null}},null,null)}(h)}()),m=v.Dh(Ag,rj(e))+1;b=ee(v.Gh(function(r,t){for(var w=Array(m),y=F(k),E=null,I=0,G=0;;)if(G<I){var J=E.wa(null,G),N=P(J,0,null);J=P(J,1,null);w[J]=t[N];G+=1}else if(y=F(y))Rf(y)?(I=ke(y),y=le(y),E=I,I=M(I)):(I=H(y),E=P(I,0,null),I=P(I,1,null),w[I]=t[E],y=K(y),E=null,I=0),G=
0;else break;return ih.Dh(r,w)},ce(kg(d)),f));return new QM(e,b,null,null,null)}var n=Ik(qj(wk.Ih(O([e,h]))),Rk.Nh());d=function(){var r=new QM(n,Af,null,null,null);return ZM.Dh?ZM.Dh(r,a):ZM.call(null,r,a)}();return ZM.Dh?ZM.Dh(d,b):ZM.call(null,d,b)}throw om(["Cant sum relations with different attrs: ",ql.Ih(O([e]))," and ",ql.Ih(O([h]))].join(""),new p(null,1,[Ap,xr],null));},$M=function $M(a){switch(arguments.length){case 0:return $M.Nh();case 2:return $M.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",
u.Eh(arguments.length)].join(""));}};$M.Nh=function(){return new QM(V,new W(null,1,5,Y,[[]],null),null,null,null)};$M.Dh=function(a,b){var c=qj(At.Eh(a)),d=qj(At.Eh(b)),e=ig(Vh.Dh(At.Eh(a),c)),f=ig(Vh.Dh(At.Eh(b),d));return new QM(Ik(T.Dh(c,d),Rk.Nh()),ee(v.Gh(function(h,k){return v.Gh(function(m,n){return ih.Dh(m,YM(k,e,n,f))},h,Xt.Eh(b))},ce(Af),Xt.Eh(a))),null,null,null)};$M.Sh=2;
var aN=function aN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return aN.Ih(c)};aN.Ih=function(a){var b=M(a);return vh.Dh(Wh.Dh(b/2,a),Xh(b/2,a))};aN.Sh=0;aN.ba=function(a){return this.Ih(F(a))};var bN=function bN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new Me(c.slice(2),0,null):null;return bN.Ih(arguments[0],arguments[1],c)};
bN.Ih=function(a,b,c){return v.Gh(function(d,e){d=H(bJ(a,new W(null,2,5,Y,[b,e],null)));return null==d?null:Ze(new W(null,2,5,Y,[mw.Eh(d),tw.Eh(d)],null))},null,c)};bN.Sh=2;bN.ba=function(a){var b=H(a),c=K(a);a=H(c);c=K(c);return this.Ih(b,a,c)};var cN=function cN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return cN.Ih(c)};cN.Ih=function(a){return v.Gh(function(b,c){return q(c)?c:Ze(c)},!0,a)};cN.Sh=0;cN.ba=function(a){return this.Ih(F(a))};
var dN=function dN(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return dN.Ih(c)};dN.Ih=function(a){return v.Gh(function(b,c){return q(c)?Ze(c):c},null,a)};dN.Sh=0;dN.ba=function(a){return this.Ih(F(a))};
var eN=Zj([tA,Bv,is,Yw,ar,Kv,cv,sq,Sv,er,Nx,mz,Go,Xq,eB,qx,cn,ix,Au,Up,Er,qw,mv,yp,vA,Zr,Ar,wy,pA,Dn,ko,Zv,to,kt,dn,oy,dx,pp,Oq,Mv,ps,Km,Pu,Es,mA,oB,ft,Fo,Vx,Zz,xs,vs,wp,Zo,Gs,py,ao,sA,Xm,kp,Sx,ep,Hv,QA,vz,$x,Jx,lt,qv,hr,Cn,Ps,mu],[function(a){return!0===a},cN,function(a){return!Dh(a)},function(a,b,c,d){if(null==d)throw om("get-else: nil default value is not supported",new p(null,1,[Ap,xr],null));a=H(bJ(a,new W(null,2,5,Y,[b,c],null)));return null==a?d:tw.Eh(a)},zg,sl,yg,M,bN,Ec,og,Xe,vg,Fg,function(a){return!1===
a},Hc,og,aN,Ri,al,xg,function(a,b){return 0==a.lastIndexOf(b,0)},D,Bg,sg,Tg,function(a,b,c){return null==B.Dh(bL(a,b),c)},og,Sl,Eh,Ig,sk,eg,Rk,Ag,Kf,ug,ql,tl,If,function(a){return 0===a},vh,rl,function(a){return a-1},bl,Ri,vh,u,wg,Qg,Sg,tg,Ic,function(a){return 0<a},Rl,Yk,Ng,Yf,function(a,b){return Fb(a,b)},Jg,Eg,function(a,b){return-1!=a.indexOf(b)},tk,Gg,Dh,Lc,function(a){return 0>a},KB,wh,dN,function(a,b){return a===b},Fk,Zk]),fN=function(){function a(d){var e=b(d);return c(function(){return function k(h){return new Ug(null,
function(){for(;;){var m=F(h);if(m){if(Rf(m)){var n=ke(m),r=M(n),t=Yg(r);a:for(var w=0;;)if(w<r){var y=x(n,w)-e;t.add(y*y);w+=1}else{n=!0;break a}return n?$g(ch(t),k(le(m))):$g(ch(t),null)}t=H(m)-e;return rf(t*t,k(Oe(m)))}return null}},null,null)}(d)}())/M(d)}function b(d){return c(d)/M(d)}function c(d){return v.Gh(sg,0,d)}return Zj([dq,sq,un,vp,yp,dn,Bu,Xw,ox,Ho,Gs,Ly],[a,M,function(d){var e=hg(eg,d);d=M(d);var f=d>>1,h=lf(e,f);return Dh(d)?(h+lf(e,f-1))/2:h},c,function(){function d(h,k){return kg(v.Gh(function(m,
n){return M(m)<h?hg(eg,zf.Dh(m,n)):0>eg(n,yf(m))?hg(eg,zf.Dh(Hk(m),n)):m},Af,k))}function e(h){return v.Gh(function(k,m){return 0>eg(m,k)?m:k},H(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Eh=e;f.Dh=d;return f}(),function(){function d(h,k){return kg(v.Gh(function(m,n){return M(m)<h?hg(eg,zf.Dh(m,n)):0<eg(n,H(m))?hg(eg,zf.Dh(K(m),n)):m},Af,k))}function e(h){return v.Gh(function(k,
m){return 0<eg(m,k)?m:k},H(h),K(h))}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Eh=e;f.Dh=d;return f}(),function(d){return M(Gk(d))},Fk,b,function(d){return Math.sqrt(a(d))},function(){function d(f,h){return kg(di(f,function(){return lf(h,Sl(M(h)))}))}var e=null;e=function(f,h){switch(arguments.length){case 1:return lf(f,Sl(M(f)));case 2:return d.call(this,f,h)}throw Error("Invalid arity: "+
arguments.length);};e.Eh=function(f){return lf(f,Sl(M(f)))};e.Dh=d;return e}(),function(d,e){return kg(Wh.Dh(d,jg(e)))}])}();function gN(a){a="string"===typeof a?qH(new p(null,3,[Im,z(xH),jm,z(wH),hx,null],null),a):a;IM(a);return Tl(xf,a)}function hN(a){a=Vh.Dh(zw,kg(Gk(BL(Af,a))));return new QM(Ik(a,Rk.Nh()),Af,null,null,null)}
function iN(a,b){if(null!=a&&null!=a.se)a=a.se(a,b);else{var c=iN[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=iN._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IBinding.in-\x3erel",a);}return a}SL.prototype.se=function(){return $M.Nh()};TL.prototype.se=function(a,b){return new QM(Ef([oi(this,new W(null,2,5,Y,[Ut,zw],null)),0]),new W(null,1,5,Y,[Sc(new W(null,1,5,Y,[b],null))],null),null,null,null)};
VL.prototype.se=function(a,b){var c=this;if(AI(b))return Kf(b)?hN(c):v.Dh(ZM,Vh.Dh(function(d){return iN(c.binding,d)},b));throw om(["Cannot bind value ",ql.Ih(O([b]))," to collection ",ql.Ih(O([yL(c)]))].join(""),new p(null,3,[Ap,Mp,Fw,b,Uv,yL(c)],null));};
UL.prototype.se=function(a,b){if(AI(b)){if(M(b)<M(this.bindings))throw om(["Not enough elements in a collection ",ql.Ih(O([b]))," to bind tuple ",ql.Ih(O([yL(this)]))].join(""),new p(null,3,[Ap,Mp,Fw,b,Uv,yL(this)],null));return v.Dh($M,Vh.Gh(function(c,d){return iN(c,d)},this.bindings,b))}throw om(["Cannot bind value ",ql.Ih(O([b]))," to tuple ",ql.Ih(O([yL(this)]))].join(""),new p(null,3,[Ap,Mp,Fw,b,Uv,yL(this)],null));};
function jN(a,b){var c=P(b,0,null);b=P(b,1,null);return c instanceof TL&&c.Va instanceof CL?si.ka(a,Hw,Q,oi(c,new W(null,2,5,Y,[Ut,zw],null)),b):c instanceof TL&&c.Va instanceof EL?Q.Gh(a,Ov,gN(b)):si.Oh(a,Pv,zf,iN(c,b))}
function kN(a,b,c){var d=M(b),e=M(c);if(d<e)throw om(["Extra inputs passed, expected: ",ql.Ih(O([li.Dh(function(f){return nn.Eh(If(f))},b)])),", got: ",ql.Ih(O([e]))].join(""),new p(null,3,[Ap,$o,sm,b,Aw,c],null));if(d>e)throw om(["Too few inputs passed, expected: ",ql.Ih(O([li.Dh(function(f){return nn.Eh(If(f))},b)])),", got: ",ql.Ih(O([e]))].join(""),new p(null,3,[Ap,$o,sm,b,Aw,c],null));return v.Gh(jN,a,Ik(b,c))}var lN=null,mN=null;
function nN(a,b){var c=a.Eh?a.Eh(b):a.call(null,b);return Yf(lN,b)?function(d){d=d[c];return"number"===typeof d?d:Nf(d)?EJ(mN,d):FH(d)?EJ(mN,d):d}:function(d){return d[c]}}function oN(a){if(1===M(a))return H(a);var b=ig(a);return function(c){return F(b.map(function(d){return d.Eh?d.Eh(c):d.call(null,c)}))}}function pN(a,b){for(var c=ce(V);;){var d=H(b);if(null==d)return ee(c);var e=a.Eh?a.Eh(d):a.call(null,d);b=K(b);c=jh.Gh(c,e,zf.Dh(B.Gh(c,e,Pe),d))}}
function qN(a,b){var c=Xt.Eh(a),d=Xt.Eh(b),e=At.Eh(a),f=At.Eh(b);a=kg(RM(At.Eh(a),At.Eh(b)));var h=Vh.Dh(function(w){return nN(e,w)},a),k=Vh.Dh(function(w){return nN(f,w)},a);a=qj(e);b=kg(BH.Dh(Fk(qj(f)),Fk(qj(e))));var m=ig(Vh.Dh(e,a)),n=ig(Vh.Dh(f,b));h=oN(h);var r=pN(h,c),t=oN(k);c=ee(v.Gh(function(w,y){var E=t.Eh?t.Eh(y):t.call(null,y);E=B.Dh(r,E);return null==E?w:v.Gh(function(I,G){return ih.Dh(I,YM(G,m,y,n))},w,E)},ce(Af),d));return new QM(Ik(T.Dh(a,b),Rk.Nh()),c,null,null,null)}
function rN(a,b){var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,d=B.Dh(c,At);c=B.Dh(c,Xt);b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;var e=B.Dh(b,At);b=B.Dh(b,Xt);var f=RM(d,e),h=Vh.Dh(function(n){return nN(e,n)},f);h=oN(h);var k=pN(h,b);b=Vh.Dh(function(n){return nN(d,n)},f);var m=oN(b);return Q.Gh(a,Xt,mi(function(n){n=m.Eh?m.Eh(n):m.call(null,n);return null==(k.Eh?k.Eh(n):k.call(null,n))},c))}
function sN(a,b){var c=li.Dh(function(d){return d instanceof A?null:d},b);a=bJ(a,c);b=ki.Dh(V,ii(function(d){var e=P(d,0,null);P(d,1,null);return VM(e)},Vh.Gh(Ri,b,new W(null,4,5,Y,["e","a","v","tx"],null))));return new QM(b,a,null,null,null)}
function tN(a,b){a=ii(function(d){a:for(var e=b;;){var f=d;if(q(q(f)?e:f)){f=H(d);var h=H(e);if(h instanceof A||D.Dh(f,h))d=K(d),e=K(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=ki.Dh(V,ii(function(d){var e=P(d,0,null);P(d,1,null);return VM(e)},Vh.Gh(Ri,b,Rk.Nh())));return new QM(c,li.Dh(ig,a),null,null,null)}function uN(a,b){return(null!=a?l===a.sh||(a.wd?0:Kc(aJ,a)):Kc(aJ,a))?sN(a,b):tN(a,b)}
function vN(a,b){for(var c=Af;;){var d=H(a);if(null==d)return zf.Dh(c,b);q(wh(RM(At.Eh(b),At.Eh(d))))?(a=K(a),b=qN(d,b)):(a=K(a),c=zf.Dh(c,d))}}function wN(a,b){return Ch(function(c){return Yf(At.Eh(c),b)?c:null},Pv.Eh(a))}function xN(a,b){var c=wN(a,b);if(null==c)return null;a=H(Xt.Eh(c));null==a?b=null:(c=At.Eh(c),b=c.Eh?c.Eh(b):c.call(null,b),b=a[b]);return b}function yN(a,b){return Ch(function(c){return Yf(At.Eh(a),c)},b)}
function zN(a,b){var c=ii(function(e){return yN(e,b)},Pv.Eh(a)),d=v.Dh($M,c);return new W(null,2,5,Y,[si.Gh(a,Pv,function(e){return ji(Fk(c),e)}),d],null)}
function AN(a,b,c,d){a=Hw.Eh(a);b=At.Eh(b);for(var e=M(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=lf(d,k);if(m instanceof A){var n=B.Dh(a,m);null==n?h[k]=B.Dh(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Ri?function(r){for(var t=f.slice(0),w=0;;)if(w<e){var y=h[w];null!=y&&(t[w]=r[y]);w+=1}else break;return qh(c,t)}:function(r){for(var t=0;;)if(t<e){var w=h[t];null!=w&&(f[t]=r[w]);t+=1}else break;return qh(c,f)}}
function BN(a,b){var c=P(b,0,null);c=F(c);var d=H(c),e=K(c),f=function(){var m=B.Dh(eN,d);if(q(m))return m;m=xN(a,d);if(q(m))return m;if(q(null))return null;if(null==wN(a,d))throw om(["Unknown predicate '",ql.Ih(O([d]))," in ",ql.Ih(O([b]))].join(""),new p(null,3,[Ap,xr,at,b,hu,d],null));return null}();c=zN(a,ii(Fe,e));var h=P(c,0,null),k=P(c,1,null);c=q(f)?function(){var m=AN(h,k,f,e);return si.Gh(k,Xt,function(n){return ii(m,n)})}():Q.Gh(k,Xt,Af);return si.Oh(h,Pv,zf,c)}
function CN(a,b){var c=P(b,0,null);c=F(c);var d=H(c),e=K(c);c=P(b,1,null);var f=YL(c),h=function(){var n=B.Dh(eN,d);if(q(n))return n;n=xN(a,d);if(q(n))return n;if(q(null))return null;if(null==wN(a,d))throw om(["Unknown function '",ql.Ih(O([d]))," in ",ql.Ih(O([b]))].join(""),new p(null,3,[Ap,xr,at,b,hu,d],null));return null}();c=zN(a,ii(Fe,e));var k=P(c,0,null),m=P(c,1,null);c=q(h)?function(){var n=AN(k,m,h,e),r=function(){return function y(w){return new Ug(null,function(){for(var E=w;;)if(E=F(E)){if(Rf(E)){var I=
ke(E),G=M(I),J=Yg(G);a:for(var N=0;;)if(N<G){var U=x(I,N),da=n(U);null!=da&&(U=$M.Dh(new QM(At.Eh(m),new W(null,1,5,Y,[U],null),null,null,null),iN(f,da)),J.add(U));N+=1}else{I=!0;break a}return I?$g(ch(J),y(le(E))):$g(ch(J),null)}J=H(E);I=n(J);if(null!=I)return rf($M.Dh(new QM(At.Eh(m),new W(null,1,5,Y,[J],null),null,null,null),iN(f,I)),y(Oe(E)));E=Oe(E)}else return null},null,null)}(Xt.Eh(m))}();return Kf(r)?$M.Dh(m,hN(f)):v.Dh(ZM,r)}():$M.Dh(Q.Gh(m,Xt,Af),hN(f));return si.Oh(k,Pv,vN,c)}
function DN(a,b){if(Nf(b)){var c=UM(H(b))?wf(b):H(b);if(c instanceof A){if(VM(c)||Yf(new Bk(null,new p(null,6,[Bv,null,qx,null,Aq,null,sp,null,hr,null,gq,null],null),null),c))return!1;if(Yf(Ov.Eh(a),c))return!0;throw om(["Unknown rule '",ql.Ih(O([c]))," in ",ql.Ih(O([b]))].join(""),new p(null,2,[Ap,xr,at,b],null));}}return!1}var EN=Mh(0);
function FN(a,b){var c=F(a),d=H(c),e=K(c),f=Oh.Dh(EN,Xe),h=B.Dh(Ov.Eh(b),d);return function n(m){return new Ug(null,function(){for(;;){var r=F(m);if(r){var t=r;if(Rf(t)){var w=ke(t),y=M(w),E=Yg(y);return function(){for(var ta=0;;)if(ta<y){var Da=x(w,ta),Ta=Da,Hb=F(Ta),hc=H(Hb),zb=K(Hb),ed=hc,$b=F(ed),Zf=H($b),$f=K($b),ag=Zf,Zc=$f,Cd=zb,re=Ik(Zc,e);bh(E,BB(function(bg,Dd,vf,Ed,Vi,Hq,mo,Iq,mj,no,Ny,Jq,oo,Oy,Kq,Lq,nj,Mq,Nq,po,Kt,Zl,oj,Ck,Lt,$l){return function(ah){if(VM(ah)){var Py=oo.Eh?oo.Eh(ah):oo.call(null,
ah);return null==Py?Ie.Eh([Tg(ah),"__auto__",u.Eh($l)].join("")):Py}return ah}}(ta,Ta,Hb,hc,zb,ed,$b,Zf,$f,ag,Zc,Cd,re,Da,w,y,E,t,r,a,c,d,e,d,e,f,h),Cd));ta+=1}else return!0}()?$g(ch(E),n(le(t))):$g(ch(E),null)}var I=H(t),G=I,J=F(G),N=H(J),U=K(J),da=N,wa=F(da),ma=H(wa),xa=K(wa),Na=ma,fa=xa,na=U,Ba=Ik(fa,e);return rf(BB(function(ta,Da,Ta,Hb,hc,zb,ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed,Vi,Hq,mo,Iq){return function(mj){if(VM(mj)){var no=Zc.Eh?Zc.Eh(mj):Zc.call(null,mj);return null==no?Ie.Eh([Tg(mj),"__auto__",
u.Eh(Iq)].join("")):no}return mj}}(G,J,N,U,da,wa,ma,xa,Na,fa,na,Ba,I,t,r,a,c,d,e,d,e,f,h),na),n(Oe(t)))}return null}},null,null)}(h)}function GN(a,b){a=ji(function(c){var d=P(c,0,null);c=P(c,1,null);return D.Dh(d,c)},Vh.Gh(Ri,a,b));return new W(null,2,5,Y,[Vh.Dh(H,a),Vh.Dh(wf,a)],null)}
function HN(a,b){a=F(a);var c=H(a),d=K(a);return function h(f){return new Ug(null,function(){for(;;){var k=F(f);if(k){if(Rf(k)){var m=ke(k),n=M(m),r=Yg(n);a:for(var t=0;;)if(t<n){var w=x(m,t),y=GN(d,w);w=P(y,0,null);y=P(y,1,null);w=new W(null,1,5,Y,[T.Ih(new W(null,1,5,Y,[ix],null),w,O([y]))],null);r.add(w);t+=1}else{m=!0;break a}return m?$g(ch(r),h(le(k))):$g(ch(r),null)}r=H(k);m=GN(d,r);r=P(m,0,null);m=P(m,1,null);return rf(new W(null,1,5,Y,[T.Ih(new W(null,1,5,Y,[ix],null),r,O([m]))],null),h(Oe(k)))}return null}},
null,null)}(B.Dh(b,c))}function IN(a){var b=Mh(Af);BB(function(c){q(VM.Eh?VM.Eh(c):VM.call(null,c))&&Oh.Gh(b,zf,c);return c},a);return z(b)}function JN(a,b){function c(e){e=P(e,0,null);e=F(e);H(e);e=K(e);return Bh(d,e)}var d=Fk(IN(a));return new W(null,2,5,Y,[ii(c,b),ji(c,b)],null)}
function KN(a,b){function c(zb){return Ch(function(ed){return Kf(Xt.Eh(ed))},Pv.Eh(zb))}function d(zb,ed){return v.Gh(LN,zb,ed)}for(var e=ii(VM,b),f=Ik(e,Rk.Nh()),h=new Bf(null,new p(null,5,[Oo,Af,zz,a,ny,new W(null,1,5,Y,[b],null),zx,V,fy,V],null),null,1,null),k=new QM(f,Af,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,r=Tk(function(){return function(zb){return!DN(a,zb)}}(h,k,n,m,e,f,d,c),ny.Eh(n)),t=P(r,0,null),w=P(r,1,null),y=F(w),E=H(y),I=K(y),G=E,J=I;if(null==G){b=d(zz.Eh(n),t);b=
MN?MN(b,e):NN.call(null,b,e);var N=new QM(f,b,null,null,null);b=K(h);N=ZM(k,N);h=b;k=N}else{var U=G,da=F(U),wa=H(da),ma=K(da),xa=wa,Na=ma,fa=HN(G,zx.Eh(n)),na=JN(T.Dh(Oo.Eh(n),t),T.Dh(fa,fy.Eh(n))),Ba=P(na,0,null),ta=P(na,1,null);if(q(Ch(function(){return function(zb){return D.Dh(zb,new W(null,1,5,Y,[Ng(ix)],null))}}(h,k,U,da,wa,ma,xa,Na,fa,na,Ba,ta,r,t,w,y,E,I,G,J,n,m,e,f,d,c),Ba)))b=K(h),N=k,h=b,k=N;else{var Da=T.Dh(t,Ba),Ta=d(zz.Eh(n),Da);if(q(c(Ta)))b=K(h),N=k,h=b,k=N;else{var Hb=Q.Gh(zx.Eh(n),
xa,zf.Dh(B.Gh(zx.Eh(n),xa,Af),Na)),hc=FN(G,a);b=T.Dh(function(){return function(zb,ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed,Vi,Hq,mo,Iq,mj,no,Ny,Jq,oo,Oy,Kq,Lq,nj,Mq,Nq,po,Kt){return function Ck(oj){return new Ug(null,function(Lt,$l,ah,Py,EG,FG,QU,RU,SU,TU,UU,VU,WU,XU,YU,GG,ZU,$U,aV,bV,cV,dV,eV,HG){return function(){for(;;){var qo=F(oj);if(qo){if(Rf(qo)){var Nt=ke(qo),IG=M(Nt),Pq=Yg(IG);a:for(var Qy=0;;)if(Qy<IG){var Ry=x(Nt,Qy);Ry=new p(null,5,[Oo,EG,zz,FG,ny,ki.Gh(Af,Gl,O([Ry,HG])),zx,ah,fy,GG],null);
Pq.add(Ry);Qy+=1}else{Nt=!0;break a}return Nt?$g(ch(Pq),Ck(le(qo))):$g(ch(Pq),null)}Pq=H(qo);return rf(new p(null,5,[Oo,EG,zz,FG,ny,ki.Gh(Af,Gl,O([Pq,HG])),zx,ah,fy,GG],null),Ck(Oe(qo)))}return null}}}(zb,ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed,Vi,Hq,mo,Iq,mj,no,Ny,Jq,oo,Oy,Kq,Lq,nj,Mq,Nq,po,Kt),null,null)}}(h,k,Hb,hc,Da,Ta,U,da,wa,ma,xa,Na,fa,na,Ba,ta,r,t,w,y,E,I,G,J,n,m,e,f,d,c)(hc)}(),K(h));N=k;h=b;k=N}}}}}
function ON(a,b){if(null!=a?l===a.qg||(a.wd?0:Kc(eJ,a)):Kc(eJ,a)){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null),f=P(b,3,null);return Xi(new W(null,4,5,Y,[q(function(){var h=XM(c);return q(h)?h:WM(c)}())?BJ(a,c):c,d,q(function(){if(q(e)){if(WM(d)&&AJ(a,d)){var h=XM(e);return q(h)?h:WM(e)}return!1}return e}())?BJ(a,e):e,q(XM(f))?BJ(a,f):f],null),0,M(b))}return b}
function PN(a,b){var c=P(b,0,null),d=P(b,1,null),e=P(b,2,null);b=P(b,3,null);c=VM(c)?zf.Dh(Ek,c):Ek;c=VM(b)?zf.Dh(c,b):c;return VM(e)&&!VM(d)&&AJ(a,d)?zf.Dh(c,e):c}function QN(a,b){return Q.Gh(a,Pv,Kh(function(c){var d=wh(yk(At.Eh(c),b));return null==d?null:Q.Gh(c,At,d)},Pv.Eh(a)))}function RN(a){return ki.Dh(Ek,gi(function(b){return qj(At.Eh(b))},O([Pv.Eh(a)])))}
function SN(a,b,c){if(CH(b,a))return null;a=BH.Dh(Fk(b),a);throw om(["Insufficient bindings: ",ql.Ih(O([a]))," not bound in ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,xr,at,c,Vr,a],null));}function TN(a,b,c){b=li.Dh(function(d){return BH.Dh(Fk(IN(d)),a)},b);if(q(qh(D,b)))return null;throw om(["All clauses in 'or' must use same set of free vars, had ",ql.Ih(O([b]))," in ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,xr,at,c,Vr,b],null));}
function UN(a,b,c){for(var d=Fk(ji(a,b)),e=F(c),f=null,h=0,k=0;;)if(k<h){c=f.wa(null,k);var m=wh(BH.Dh(d,Fk(IN(c))));if(null!=m)throw e=m,ul(O([c,a,b,d])),om(["All clauses in 'or' must use same set of free vars, had ",ql.Ih(O([e]))," not bound in ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,xr,at,c,Vr,e],null));k+=1}else if(c=F(e)){e=c;if(Rf(e))f=ke(e),e=le(e),c=f,h=M(f),f=c;else{c=H(e);f=wh(BH.Dh(d,Fk(IN(c))));if(null!=f)throw e=f,ul(O([c,a,b,d])),om(["All clauses in 'or' must use same set of free vars, had ",
ql.Ih(O([e]))," not bound in ",ql.Ih(O([c]))].join(""),new p(null,3,[Ap,xr,at,c,Vr,e],null));e=K(e);f=null;h=0}k=0}else return null}var LN=function LN(a){switch(arguments.length){case 2:return LN.Dh(arguments[0],arguments[1]);case 3:return LN.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};LN.Dh=function(a,b){return LN.Gh(a,b,b)};
LN.Gh=function(a,b,c){for(;;){var d=TM,e=b;if(q(function(){var N=new W(null,1,5,Y,[new W(null,2,5,Y,[Fe,dx],null)],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}()))return SN(RN(a),ii(VM,K(H(b))),b),BN(a,b);if(q(function(){var N=new W(null,2,5,Y,[new W(null,2,5,Y,[Fe,dx],null),gq],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}()))return SN(RN(a),ii(VM,K(H(b))),b),CN(a,b);if(q(function(){var N=new W(null,2,5,Y,[UM,dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){var f=F(b);c=H(f);f=
K(f);var h=mN;mN=B.Dh(Hw.Eh(a),c);try{return LN.Gh(a,f,b)}finally{mN=h}}else{if(q(function(){var N=new W(null,2,5,Y,[hr,dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){var k=b,m=F(k),n=H(m),r=K(m);f=n;h=r;var t=TN(RN(a),h,b),w=Vh.Dh(function(N){return function(U){return VN.Dh?VN.Dh(N,U):VN.call(null,N,U)}}(a,b,c,k,m,n,r,f,h,t,d,e),h);b=Vh.Dh(function(){return function(N){return v.Dh(qN,Pv.Eh(N))}}(a,b,c,k,m,n,r,f,h,t,w,d,e),w);return Q.Gh(H(w),Pv,new W(null,1,5,Y,[v.Dh(ZM,b)],null))}if(q(function(){var N=
new W(null,3,5,Y,[sp,new W(null,2,5,Y,[new W(null,1,5,Y,[dx],null),dx],null),dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){h=F(b);f=H(h);h=K(h);k=H(h);f=K(h);k=F(k);h=H(k);k=K(k);t=h;h=f;f=RN(a);SN(f,t,c);UN(f,k,h);c=fh(sp,T.Dh(t,k),h);f=b;b=c;c=f;continue}else{if(q(function(){var N=new W(null,3,5,Y,[sp,new W(null,1,5,Y,[dx],null),dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){n=b;r=F(n);var y=H(r),E=K(r);f=y;var I=H(E),G=K(E);k=I;h=G;var J=Fk(k);t=UN(RN(a),J,h);m=QN(a,J);w=
Vh.Dh(function(N,U,da,wa,ma,xa,Na,fa,na,Ba,ta,Da,Ta,Hb,hc){return function(zb){return QN(VN.Dh?VN.Dh(hc,zb):VN.call(null,hc,zb),Ta)}}(a,b,c,n,r,y,E,f,I,G,k,h,J,t,m,d,e),h);b=Vh.Dh(function(){return function(N){return v.Dh(qN,Pv.Eh(N))}}(a,b,c,n,r,y,E,f,I,G,k,h,J,t,m,w,d,e),w);b=v.Dh(ZM,b);return si.Oh(a,Pv,vN,b)}if(q(function(){var N=new W(null,2,5,Y,[Bv,dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}()))return c=F(b),b=H(c),c=K(c),f=b,b=c,v.Gh(VN,a,b);if(q(function(){var N=new W(null,2,5,Y,
[qx,dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){f=F(b);b=H(f);h=K(f);f=b;b=h;f=RN(a);h=Fk(IN(b));if(Kf(AH.Dh(f,h)))throw om(["Insufficient bindings: none of ",ql.Ih(O([h]))," is bound in ",ql.Ih(O([c]))].join(""),new p(null,2,[Ap,xr,at,c],null));t=null;a=Q.Gh(a,Pv,new W(null,1,5,Y,[v.Dh(qN,Pv.Eh(a))],null));b=v.Gh(VN,a,b);b=rN(H(Pv.Eh(a)),v.Dh(qN,Pv.Eh(b)));return Q.Gh(a,Pv,new W(null,1,5,Y,[b],null))}if(q(function(){var N=new W(null,3,5,Y,[Aq,new W(null,1,5,Y,[dx],null),dx],null),U=
e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}()))return b=F(b),f=H(b),b=K(b),f=H(b),b=K(b),k=f,f=RN(a),t=SN(f,k,c),a=Q.Gh(a,Pv,new W(null,1,5,Y,[v.Dh(qN,Pv.Eh(a))],null)),m=QN(a,k),b=QN(v.Gh(VN,m,b),k),b=rN(H(Pv.Eh(a)),v.Dh(qN,Pv.Eh(b))),Q.Gh(a,Pv,new W(null,1,5,Y,[b],null));if(q(function(){var N=new W(null,1,5,Y,[dx],null),U=e;return d.Dh?d.Dh(N,U):d.call(null,N,U)}())){c=mN;b=ON(c,b);f=uN(c,b);h=lN;lN=(null!=c?l===c.qg||(c.wd?0:Kc(eJ,c)):Kc(eJ,c))?PN(c,b):lN;try{return si.Oh(a,Pv,vN,f)}finally{lN=h}}else throw Error(["No matching clause: ",
u.Eh(e)].join(""));}}break}};LN.Sh=3;var VN=function VN(a,b){if(DN(a,b))if(UM(H(b))){var d=mN;mN=B.Dh(Hw.Eh(a),H(b));try{var e=K(b);return VN.Dh?VN.Dh(a,e):VN.call(null,a,e)}finally{mN=d}}else return si.Oh(a,Pv,vN,KN(a,b));else return LN.Dh(a,b)};function WN(a,b){var c=mN;mN=B.Dh(Hw.Eh(a),Lp);try{return v.Gh(VN,a,b)}finally{mN=c}}
function NN(a){switch(arguments.length){case 2:return MN(arguments[0],arguments[1]);case 3:return XN(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function MN(a,b){a=Pv.Eh(a);return XN(new W(null,1,5,Y,[Array(M(b))],null),a,b)}
function XN(a,b,c){for(;;){var d=H(b);if(null==d)return a;var e=d,f=yk(At.Eh(e),c);if(Kf(f)){var h=a,k=K(b),m=c;a=h;b=k;c=m}else{var n=ig(Vh.Dh(function(t,w,y,E){return function(I){return B.Dh(E,I)}}(a,b,c,f,e,d),c)),r=M(c);h=function(){return function(t,w,y,E,I,G,J,N){return function wa(da){return new Ug(null,function(ma,xa,Na,fa,na,Ba,ta,Da){return function(){for(var Ta=da;;){var Hb=F(Ta);if(Hb){var hc=Hb,zb=H(hc);if(Hb=F(function(ed,$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed){return function mo(Hq){return new Ug(null,
function(Iq,mj,no,Ny,Jq,oo,Oy,Kq,Lq){return function(){for(;;){var nj=F(Hq);if(nj){if(Rf(nj)){var Mq=ke(nj),Nq=M(Mq),po=Yg(Nq);return function(){for(var Zl=0;;)if(Zl<Nq){for(var oj=x(Mq,Zl),Ck=po,Lt=Rc(Jq),$l=0;;)if($l<Lq){var ah=Kq[$l];null!=ah&&(Lt[$l]=oj[ah]);$l+=1}else break;Ck.add(Lt);Zl+=1}else return!0}()?$g(ch(po),mo(le(nj))):$g(ch(po),null)}var Kt=H(nj);return rf(function(){for(var Zl=Rc(Jq),oj=0;;)if(oj<Lq){var Ck=Kq[oj];null!=Ck&&(Zl[oj]=Kt[Ck]);oj+=1}else break;return Zl}(),mo(Oe(nj)))}return null}}}(ed,
$b,Zf,$f,ag,Zc,Cd,re,bg,Dd,vf,Ed),null,null)}}(Ta,ma,xa,Na,zb,hc,Hb,fa,na,Ba,ta,Da)(Xt.Eh(ta))))return T.Dh(Hb,wa(Oe(Ta)));Ta=Oe(Ta)}else return null}}}(t,w,y,E,I,G,J,N),null,null)}}(a,b,c,n,r,f,e,d)(a)}();k=K(b);m=c;a=h;b=k;c=m}}}function YN(a,b){return Fk(Vh.Dh(kg,MN(a,b)))}
function ZN(a,b){if(null!=a&&null!=a.te)a=a.te(a,b);else{var c=ZN[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=ZN._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IContextResolve.-context-resolve",a);}return a}AL.prototype.te=function(a,b){return xN(b,this.symbol)};CL.prototype.te=function(a,b){return oi(b,new W(null,2,5,Y,[Hw,this.symbol],null))};GL.prototype.te=function(){var a=B.Dh(fN,this.symbol);return q(a)?a:null};FL.prototype.te=function(){return this.value};
function $N(a,b,c){return li.Oh(function(d,e,f){if(hM(d)){e=ZN(Hz.Eh(d),b);d=Vh.Dh(function(k){return ZN(k,b)},Hk(Iz.Eh(d)));var h=Vh.Dh(function(k){return lf(k,f)},c);return qh(e,T.Dh(d,new W(null,1,5,Y,[h],null)))}return e},a,H(c),Rk.Nh())}function aO(a){var b=Eh(hM);return ji(Ec,Vh.Gh(function(c,d){return q(b.Eh?b.Eh(c):b.call(null,c))?d:null},a,Rk.Nh()))}
function bO(a,b,c){var d=aO(a);return function h(f){return new Ug(null,function(){for(;;){var k=F(f);if(k){if(Rf(k)){var m=ke(k),n=M(m),r=Yg(n);a:for(var t=0;;)if(t<n){var w=x(m,t);P(w,0,null);w=P(w,1,null);w=$N(a,b,w);r.add(w);t+=1}else{m=!0;break a}return m?$g(ch(r),h(le(k))):$g(ch(r),null)}r=H(k);P(r,0,null);r=P(r,1,null);return rf($N(a,b,r),h(Oe(k)))}return null}},null,null)}(Tl(function(f){return Vh.Dh(function(h){return lf(f,h)},d)},c))}
function cO(a,b){return v.Gh(function(c,d){return zf.Dh(c,a.Eh?a.Eh(d):a.call(null,d))},Cf(b),b)}function dO(a,b){var c=Bx.Eh(a),d=Rk.Dh(0,M(c));return cO(function(e){return v.Gh(function(f,h){return Q.Gh(f,lf(c,h),lf(e,h))},V,d)},b)}function eO(a,b,c){if(null!=a&&null!=a.ue)a=a.ue(a,b,c);else{var d=eO[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=eO._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IPostProcess.-post-process",a);}return a}
dM.prototype.ue=function(a,b,c){return null==b?c:dO(b,c)};eM.prototype.ue=function(a,b,c){return ki.Gh(Af,Vh.Eh(H),c)};fM.prototype.ue=function(a,b,c){return xf(c)};gM.prototype.ue=function(a,b,c){return null!=b?H(dO(b,new W(null,1,5,Y,[H(c)],null))):H(c)};
function fO(a,b,c){var d=function(){return function h(f){return new Ug(null,function(){for(;;){var k=F(f);if(k){if(Rf(k)){var m=ke(k),n=M(m),r=Yg(n);a:for(var t=0;;)if(t<n){var w=x(m,t);w=iM(w)?new W(null,2,5,Y,[ZN(nn.Eh(w),b),BK(ZN(Nz.Eh(w),b))],null):null;r.add(w);t+=1}else{m=!0;break a}return m?$g(ch(r),h(le(k))):$g(ch(r),null)}r=H(k);return rf(iM(r)?new W(null,2,5,Y,[ZN(nn.Eh(r),b),BK(ZN(Nz.Eh(r),b))],null):null,h(Oe(k)))}return null}},null,null)}(a)}();return function h(f){return new Ug(null,
function(){for(;;){var k=F(f);if(k){var m=k;if(Rf(m)){var n=ke(m),r=M(n),t=Yg(r);return function(){for(var y=0;;)if(y<r){var E=x(n,y);bh(t,li.Gh(function(){return function(I,G){if(q(I)){var J=P(I,0,null);I=P(I,1,null);return XK(J,I,new W(null,1,5,Y,[G],null))}return G}}(y,E,n,r,t,m,k,d),d,E));y+=1}else return!0}()?$g(ch(t),h(le(m))):$g(ch(t),null)}var w=H(m);return rf(li.Gh(function(){return function(y,E){if(q(y)){var I=P(y,0,null);y=P(y,1,null);return XK(I,y,new W(null,1,5,Y,[E],null))}return E}}(w,
m,k,d),d,w),h(Oe(m)))}return null}},null,null)}(c)}var gO=Rh($K(V,function(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Me(b.slice(0),0,null):null;a:for(b=F(b),d=rk;;)if(b)c=K(K(b)),d=Q.Gh(d,H(b),wf(b)),b=c;else break a;return d}(),V,0,100));function hO(a){var b=B.Gh(z(gO),a,null);return null==b?(b=OM(a),gO.Qc(null,Q.Gh(gO.wb(null),a,b)),b):b}
function iO(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Me(b.slice(1),0,null):null;return jO(arguments[0],b)}function jO(a,b){var c=hO(a),d=wq.Eh(c),e=cM(d),f=gi($L,O([cM(d)])),h=M(e),k=Lz.Eh(c);f=T.Dh(f,Vh.Dh(zw,k));a=Nf(a)?LM(a):a;k=op.Eh(a);b=kN(new PM(Af,V,V,null,null,null),Tx.Eh(c),b);f=YN(WN(b,k),f);f=q(DA.Eh(a))?li.Dh(function(m){return kg(Xi(m,0,h))},f):f;f=q(Ch(hM,e))?bO(e,b,f):f;e=q(Ch(iM,e))?fO(e,b,f):f;return eO(d,hw.Eh(c),e)};function kO(a,b){var c=Mh(null);Oh.Dh(a,function(d){var e=YJ;d=new p(null,5,[jo,d,pu,d,Mr,Af,xB,V,No,null],null);var f=R.Ih(d,jo,O([pu,Mr,xB,No]));f=Pf(d)?ki.Dh(V,f):f;d=new CJ(jo.Eh(d),pu.Eh(d),Mr.Eh(d),xB.Eh(d),No.Eh(d),null,wh(f),null);e=e(d,b);Nh(c,e);return pu.Eh(e)});return z(c)}
function lO(a){var b=mO;a=kO(b,a);b=Yt.Eh(If(b));b=null==b?null:z(b);b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e);P(f,0,null);f=P(f,1,null);f.Eh?f.Eh(a):f.call(null,a);e+=1}else if(b=F(b))Rf(b)?(d=ke(b),b=le(b),c=d,d=M(d)):(c=H(b),P(c,0,null),c=P(c,1,null),c.Eh?c.Eh(a):c.call(null,a),b=K(b),c=null,d=0),e=0;else break;return a}function nO(a){var b=mO,c=Rl.Nh();Oh.Oh(Yt.Eh(If(b)),Q,c,a)}
for(var xO=F(new p(null,2,[Xs,function(a){return qh(wI,a)},ov,function(a){var b=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;a=B.Dh(b,Lr);b=B.Dh(b,Eq);return wJ(Vh.Dh(function(c){var d=P(c,0,null),e=P(c,1,null),f=P(c,2,null);c=P(c,3,null);return wI.Oh(d,e,f,c)},b),a)}],null)),yO=null,zO=0,AO=0;;)if(AO<zO){var BO=yO.wa(null,AO),CO=P(BO,0,null),DO=P(BO,1,null),RO=CO,SO=DO;B.Dh(z(xH),RO);Oh.Oh(xH,Q,RO,SO);AO+=1}else{var GO=F(xO);if(GO){var HO=GO;if(Rf(HO)){var IO=ke(HO),JO=le(HO),KO=IO,LO=M(IO);xO=JO;yO=
KO;zO=LO}else{var MO=H(HO),NO=P(MO,0,null),QO=P(MO,1,null),mP=NO,pP=QO;B.Dh(z(xH),mP);Oh.Oh(xH,Q,mP,pP);xO=K(HO);yO=null;zO=0}AO=0}else break};var mO,qP=new p(null,3,[CC,new p(null,1,[Lm,By],null),MB,new p(null,2,[fA,Zy,$t,Mx],null),md,new p(null,2,[fA,Zy,$t,AA],null)],null),rP=mJ?mJ(qP):nJ.call(null,qP),tP=O([Ac,new p(null,1,[Yt,Mh(V)],null)]),FP=null!=tP&&(tP.Lh&64||l===tP.va)?qh(sk,tP):tP,VP=B.Dh(FP,Ac),US=B.Dh(FP,gt);mO=new Lh(rP,VP,US);function OO(a){return lO(new W(null,1,5,Y,[new W(null,2,5,Y,[Tp,a],null)],null))};hC(CC,Jo,function(a){return"string"==typeof a});hC(st,new Bk(null,new p(null,7,[Jc,"null",qc,"null",Id,"null",gx,"null",Xu,"null",Pb,"null",js,"null"],null),null),new Bk(null,new p(null,7,[Jc,null,qc,null,Id,null,gx,null,Xu,null,Pb,null,js,null],null),null));
hC(ts,Ng(tv,Kw,new W(null,2,5,Y,[CC,st],null)),function kC(a){var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,d=B.Dh(c,WA),e=B.Dh(c,ws),f=B.Dh(c,Ro),h=B.Dh(c,Mu),k=B.Dh(c,Qv),m=B.Dh(c,jv),n=B.Dh(c,Tz),r=B.Dh(c,Sw),t=B.Dh(c,Kw),w=B.Dh(c,xA),y=B.Dh(c,Lv),E=B.Dh(c,wu),I=Ik(T.Dh(w,n),T.Dh(r,y)),G=mm();if("undefined"===typeof oc||"undefined"===typeof CB||"undefined"===typeof LB||"undefined"===typeof FC)FC=function(J,N,U,da,wa,ma,xa,Na,fa,na,Ba,ta,Da,Ta,Hb,hc,zb,ed,$b){this.We=J;this.Zh=N;this.mi=U;this.bi=
da;this.Hd=wa;this.fi=ma;this.Xe=xa;this.Vh=Na;this.Xf=fa;this.$h=na;this.li=Ba;this.Xi=ta;this.req=Da;this.id=Ta;this.ki=Hb;this.ai=hc;this.zh=zb;this.gi=ed;this.Ki=$b;this.Lh=393216;this.Qh=0},FC.prototype.da=function(J,N){return new FC(this.We,this.Zh,this.mi,this.bi,this.Hd,this.fi,this.Xe,this.Vh,this.Xf,this.$h,this.li,this.Xi,this.req,this.id,this.ki,this.ai,this.zh,this.gi,N)},FC.prototype.ca=function(){return this.Ki},FC.prototype.xd=function(){return this},FC.prototype.yd=function(){return this},
FC.prototype.Pe=l,FC.prototype.me=function(J,N){if(q(this.Xe.Eh?this.Xe.Eh(N):this.Xe.call(null,N))){J=z(SB);var U=F(N),da=H(U);K(U);P(da,0,null);P(da,1,null);for(da=U=N;;){N=U;var wa=da;da=F(wa);U=H(da);var ma=K(da);da=U;U=P(da,0,null);da=P(da,1,null);if(q(wa))if(wa=this.We.Eh?this.We.Eh(U):this.We.call(null,U),wa=B.Dh(J,wa),q(wa)){var xa=da;wa=QB(fC.Eh(wa),xa);if(S(pt,wa))return pt;N=wa===da?N:Q.Gh(N,U,wa);da=ma;U=N}else da=ma,U=N;else return N}}else return pt},FC.prototype.ne=function(J,N){J=Q.Gh(this.Xf,
Mu,N);return kC.Eh?kC.Eh(J):kC.call(null,J)},FC.Lb=!0,FC.ub="cljs.spec.alpha/t_cljs$spec$alpha21953",FC.Vb=function(J){return Ud(J,"cljs.spec.alpha/t_cljs$spec$alpha21953")};return new FC(function(J){var N=I.Eh?I.Eh(J):I.call(null,J);return q(N)?N:J},d,e,f,h,k,m,c,c,n,r,a,t,G,w,y,I,E,V)}(Zj([ws,Ro,Mu,Qv,jv,Tz,Sw,Kw,xA,Lv,wu,WA],[null,null,null,new W(null,3,5,Y,[function(a){return Of(a)},function(a){return Yf(a,CC)},function(a){return Yf(a,st)}],null),function(a){return Of(a)&&Yf(a,CC)&&Yf(a,st)},
Af,new W(null,2,5,Y,[CC,st],null),new W(null,2,5,Y,[CC,st],null),new W(null,2,5,Y,[CC,st],null),Af,new W(null,3,5,Y,[Ng(tn,new W(null,1,5,Y,[$s],null),Ng(Br,$s)),Ng(tn,new W(null,1,5,Y,[$s],null),Ng(Bw,$s,CC)),Ng(tn,new W(null,1,5,Y,[$s],null),Ng(Bw,$s,st))],null),null])));hC(Ww,Ng(Tq,ts),nC(ts,ts,new p(null,4,[In,null,Qr,function(a){return Lf(a)},sB,!0,Ky,Ng(Tq,ts)],null),null));var PO={},fS,mS,pS,TO={};function UO(a,b){if(null!=a&&null!=a.uf)a=a.uf(a,b);else{var c=UO[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=UO._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("ReadPort.take!",a);}return a}
function VO(a,b,c){if(null!=a&&null!=a.Oe)a=a.Oe(a,b,c);else{var d=VO[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=VO._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("WritePort.put!",a);}return a}function WO(a){if(null!=a&&null!=a.ke)a=a.ke(a);else{var b=WO[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=WO._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("Channel.close!",a);}return a}
function XO(a){if(null!=a&&null!=a.cc)a=a.cc(a);else{var b=XO[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=XO._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("Handler.active?",a);}return a}function YO(a){if(null!=a&&null!=a.Ub)a=a.Ub(a);else{var b=YO[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=YO._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("Handler.commit",a);}return a}
function ZO(a,b){if(null!=a&&null!=a.tf)a=a.tf(a,b);else{var c=ZO[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=ZO._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("Buffer.add!*",a);}return a}var $O=function $O(a){switch(arguments.length){case 1:return $O.Eh(arguments[0]);case 2:return $O.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};$O.Eh=function(a){return a};$O.Dh=function(a,b){return ZO(a,b)};
$O.Sh=2;function aP(a,b,c,d,e){for(var f=0;;)if(f<e)c[d+f]=a[b+f],f+=1;else break}function bP(a){this.length=this.tail=this.head=0;this.Mh=a}g=bP.prototype;g.pop=function(){if(0===this.length)return null;var a=this.Mh[this.tail];this.Mh[this.tail]=null;this.tail=(this.tail+1)%this.Mh.length;--this.length;return a};g.unshift=function(a){this.Mh[this.head]=a;this.head=(this.head+1)%this.Mh.length;this.length+=1;return null};g.unbounded_unshift=function(a){this.length+1===this.Mh.length&&this.resize();return this.unshift(a)};
g.resize=function(){var a=Array(2*this.Mh.length);return this.tail<this.head?(aP(this.Mh,this.tail,a,0,this.length),this.tail=0,this.head=this.length,this.Mh=a):this.tail>this.head?(aP(this.Mh,this.tail,a,0,this.Mh.length-this.tail),aP(this.Mh,0,a,this.Mh.length-this.tail,this.head),this.tail=0,this.head=this.length,this.Mh=a):this.tail===this.head?(this.head=this.tail=0,this.Mh=a):null};
g.cleanup=function(a){for(var b=this.length,c=0;;)if(c<b){var d=this.pop();(a.Eh?a.Eh(d):a.call(null,d))&&this.unshift(d);c+=1}else return null};function cP(a){return new bP(Array(a))}function dP(a,b){this.Ca=a;this.n=b;this.Lh=2;this.Qh=0}dP.prototype.Ne=function(){return this.Ca.length>=this.n};dP.prototype.tf=function(a,b){this.Ca.unbounded_unshift(b);return this};dP.prototype.ga=function(){return this.Ca.length};function eP(a,b){this.Ca=a;this.n=b;this.Lh=2;this.Qh=0}eP.prototype.Ne=function(){return!1};
eP.prototype.tf=function(a,b){this.Ca.length===this.n&&this.Ca.pop();this.Ca.unshift(b);return this};eP.prototype.ga=function(){return this.Ca.length};function fP(a){return new eP(cP(a),a)};function gP(){return Qb("iPhone")&&!Qb("iPod")&&!Qb("iPad")};var hP=Qb("Opera"),iP=Qb("Trident")||Qb("MSIE"),jP=Qb("Edge"),kP=Qb("Gecko")&&!(Jb("WebKit")&&!Qb("Edge"))&&!(Qb("Trident")||Qb("MSIE"))&&!Qb("Edge"),lP=Jb("WebKit")&&!Qb("Edge");lP&&Qb("Mobile");Qb("Macintosh");Qb("Windows");Qb("Linux")||Qb("CrOS");var VS=la.navigator||null;VS&&(VS.appVersion||"").indexOf("X11");Qb("Android");gP();Qb("iPad");Qb("iPod");gP()||Qb("iPad")||Qb("iPod");Jb("KaiOS");Jb("GAFP");function nP(){var a=la.document;return a?a.documentMode:void 0}var oP;
a:{var WS="",XS=function(){var a=Kb;if(kP)return/rv:([^\);]+)(\)|;)/.exec(a);if(jP)return/Edge\/([\d\.]+)/.exec(a);if(iP)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(lP)return/WebKit\/(\S+)/.exec(a);if(hP)return/(?:Version)[ \/]?(\S+)/.exec(a)}();XS&&(WS=XS?XS[1]:"");if(iP){var oV=nP();if(null!=oV&&oV>parseFloat(WS)){oP=String(oV);break a}}oP=WS}var Ka={};
function sP(a){return Ja(a,function(){{var b=0;const e=Ib(String(oP)).split("."),f=Ib(String(a)).split("."),h=Math.max(e.length,f.length);for(let k=0;0==b&&k<h;k++){var c=e[k]||"",d=f[k]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""];if(0==c[0].length&&0==d[0].length)break;b=Lb(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||Lb(0==c[2].length,0==d[2].length)||Lb(c[2],d[2]);c=c[3];d=d[3]}while(0==b)}}return 0<=b})}var ZS;
ZS=la.document&&iP?nP():void 0;!kP&&!iP||iP&&9<=Number(ZS)||kP&&sP("1.9.1");iP&&sP("9");function uP(a){var b=document;a=String(a);"application/xhtml+xml"===b.contentType&&(a=a.toLowerCase());return b.createElement(a)};var vP;
function wP(){var a=la.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Qb("Presto")&&(a=function(){var e=uP(gb);e.style.display="none";Vb(e);document.documentElement.appendChild(e);var f=e.contentWindow;e=f.document;e.open();e.write(Tb());e.close();var h="callImmediate"+Math.random(),k="file:"==f.location.protocol?"*":f.location.protocol+"//"+f.location.host;e=Ea(function(m){if(("*"==k||m.origin==k)&&m.data==h)this.port1.onmessage()},this);
f.addEventListener("message",e,!1);this.port1={};this.port2={postMessage:function(){f.postMessage(h,k)}}});if("undefined"!==typeof a&&!Qb("Trident")&&!Qb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var e=c.be;c.be=null;e()}};return function(e){d.next={be:e};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in uP(lb)?function(e){var f=uP(lb);f.onreadystatechange=function(){f.onreadystatechange=null;f.parentNode.removeChild(f);
f=null;e();e=null};document.documentElement.appendChild(f)}:function(e){la.setTimeout(e,0)}};var xP=cP(32),yP=!1,zP=!1;function AP(){yP=!0;zP=!1;for(var a=0;;){var b=xP.pop();if(null!=b&&(b.Nh?b.Nh():b.call(null),1024>a)){a+=1;continue}break}yP=!1;return 0<xP.length?BP.Nh?BP.Nh():BP.call(null):null}function BP(){if(zP&&yP)return null;zP=!0;!sa(la.setImmediate)||la.Window&&la.Window.prototype&&!Qb("Edge")&&la.Window.prototype.setImmediate==la.setImmediate?(vP||(vP=wP()),vP(AP)):la.setImmediate(AP)}function CP(a){xP.unbounded_unshift(a);BP()}function DP(a,b){setTimeout(a,b)};var EP={},ZT;
function GP(a){if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof PO||"undefined"===typeof TO||"undefined"===typeof EP||"undefined"===typeof ZT)ZT=function(b,c){this.val=b;this.Si=c;this.Lh=425984;this.Qh=0},ZT.prototype.da=function(b,c){return new ZT(this.val,c)},ZT.prototype.ca=function(){return this.Si},ZT.prototype.wb=function(){return this.val},ZT.Lb=!0,ZT.ub="cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25198",ZT.Vb=function(b){return Ud(b,"cljs.core.async.impl.channels/t_cljs$core$async$impl$channels25198")};
return new ZT(a,V)}function HP(a,b){this.handler=a;this.val=b}function IP(a){return XO(a.handler)}function JP(a,b,c,d){this.Wd=a;this.Te=0;this.md=b;this.Se=0;this.Ca=c;this.closed=!1;this.rc=d}function KP(a){for(;;){var b=a.md.pop();if(null!=b){var c=b.handler,d=b.val;if(c.cc(null)){var e=c.Ub(null);CP(function(f){return function(){return f.Eh?f.Eh(!0):f.call(null,!0)}}(e,c,d,b,a))}else continue}break}a.md.cleanup(Fh(!1));a.ke(null)}
JP.prototype.Oe=function(a,b,c){var d=this,e=this,f=d.closed;if(f||!c.cc(null))return GP(!f);if(q(function(){var t=d.Ca;return q(t)?Hc(d.Ca.Ne()):t}())){c.Ub(null);var h=$e(d.rc.Dh?d.rc.Dh(d.Ca,b):d.rc.call(null,d.Ca,b));c=function(){for(var t=Af;;)if(0<d.Wd.length&&0<M(d.Ca)){var w=d.Wd.pop();if(w.cc(null)){var y=w.Ub(null),E=d.Ca.Ca.pop();t=zf.Dh(t,function(I,G,J){return function(){return G.Eh?G.Eh(J):G.call(null,J)}}(t,y,E,w,h,f,e))}}else return t}();h&&KP(e);if(F(c)){c=F(c);a=null;for(var k=0,
m=0;;)if(m<k){var n=a.wa(null,m);CP(n);m+=1}else if(c=F(c))a=c,Rf(a)?(c=ke(a),m=le(a),a=c,k=M(c),c=m):(c=H(a),CP(c),c=K(a),a=null,k=0),m=0;else break}return GP(!0)}a=function(){for(;;){var t=d.Wd.pop();if(q(t)){if(q(t.cc(null)))return t}else return null}}();if(q(a)){var r=a.Ub(null);c.Ub(null);CP(function(){return r.Eh?r.Eh(b):r.call(null,b)});return GP(!0)}64<d.Se?(d.Se=0,d.md.cleanup(IP)):d.Se+=1;q(c.le())&&d.md.unbounded_unshift(new HP(c,b));return null};
JP.prototype.uf=function(a,b){var c=this;if(b.cc(null)){if(null!=c.Ca&&0<M(c.Ca)){a=b.Ub(null);if(q(a)){var d=c.Ca.Ca.pop(),e=Hc(c.Ca.Ne())&&0<c.md.length?function(){for(var I=Af;;){var G=c.md.pop(),J=G.handler;G=G.val;J=J.cc(null)?J.Ub(null):!1;I=q(J)?zf.Dh(I,J):I;G=q(J)?$e(c.rc.Dh?c.rc.Dh(c.Ca,G):c.rc.call(null,c.Ca,G)):null;if(!(Hc(G)&&Hc(c.Ca.Ne())&&0<c.md.length))return new W(null,2,5,Y,[G,I],null)}}():null,f=P(e,0,null),h=P(e,1,null);q(f)&&KP(this);for(var k=F(h),m=null,n=0,r=0;;)if(r<n){var t=
m.wa(null,r);CP(function(I,G,J,N,U){return function(){return U.Eh?U.Eh(!0):U.call(null,!0)}}(k,m,n,r,t,d,e,f,h,a,a,this));r+=1}else{var w=F(k);if(w){t=w;if(Rf(t))k=ke(t),r=le(t),m=k,n=M(k),k=r;else{var y=H(t);CP(function(I,G,J,N,U){return function(){return U.Eh?U.Eh(!0):U.call(null,!0)}}(k,m,n,r,y,t,w,d,e,f,h,a,a,this));k=K(t);m=null;n=0}r=0}else break}return GP(d)}return null}a=function(){for(;;){var I=c.md.pop();if(q(I)){if(XO(I.handler))return I}else return null}}();if(q(a)){var E=YO(a.handler);
b.Ub(null);CP(function(){return E.Eh?E.Eh(!0):E.call(null,!0)});return GP(a.val)}if(q(c.closed))return q(c.Ca)&&(c.rc.Eh?c.rc.Eh(c.Ca):c.rc.call(null,c.Ca)),q(function(){var I=b.cc(null);return q(I)?b.Ub(null):I}())?(a=function(){var I=c.Ca;return q(I)?0<M(c.Ca):I}(),d=q(a)?c.Ca.Ca.pop():null,GP(d)):null;64<c.Te?(c.Te=0,c.Wd.cleanup(XO)):c.Te+=1;q(b.le())&&c.Wd.unbounded_unshift(b)}return null};
JP.prototype.ke=function(){var a=this;if(!a.closed)for(a.closed=!0,q(function(){var e=a.Ca;return q(e)?0===a.md.length:e}())&&(a.rc.Eh?a.rc.Eh(a.Ca):a.rc.call(null,a.Ca));;){var b=a.Wd.pop();if(null!=b){if(b.cc(null)){var c=b.Ub(null),d=q(function(){var e=a.Ca;return q(e)?0<M(a.Ca):e}())?a.Ca.Ca.pop():null;CP(function(e,f){return function(){return e.Eh?e.Eh(f):e.call(null,f)}}(c,d,b,this))}}else break}return null};function LP(a){console.log(a);return null}
function MP(a,b){var c=q(null)?null:LP;b=c.Eh?c.Eh(b):c.call(null,b);return null==b?a:$O.Dh(a,b)}
function NP(a,b){return new JP(cP(32),cP(32),a,function(){var c=q(b)?b.Eh?b.Eh($O):b.call(null,$O):$O;return function(){function d(h,k){try{return c.Dh?c.Dh(h,k):c.call(null,h,k)}catch(m){return MP(h,m)}}function e(h){try{return c.Eh?c.Eh(h):c.call(null,h)}catch(k){return MP(h,k)}}var f=null;f=function(h,k){switch(arguments.length){case 1:return e.call(this,h);case 2:return d.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.Eh=e;f.Dh=d;return f}()}())};function OP(a,b,c){this.key=a;this.val=b;this.forward=c;this.Lh=2155872256;this.Qh=0}OP.prototype.fa=function(){return new Bf(null,this.key,new Bf(null,this.val,null,1,null),2,null)};OP.prototype.ea=function(a,b,c){return Z(b,jl,"["," ","]",c,this)};function PP(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new OP(a,b,c)}
function QP(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(q(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function RP(){this.header=PP(null,null,0);this.level=0;this.Lh=2155872256;this.Qh=0}g=RP.prototype;
g.put=function(a,b){var c=Array(15),d=QP(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=PP(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,a.forward[b]=d[b],d[b]=a,b+=1;else return null};
g.remove=function(a){var b=Array(15),c=QP(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return D.Dh(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}q(d)?(--c,b=d):--c}};
g.fa=function(){return function c(b){return new Ug(null,function(){return null==b?null:rf(new W(null,2,5,Y,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"{",", ","}",c,this)};var SP=new RP;function TP(a){var b=(new Date).valueOf()+a,c=SP.ceilingEntry(b);c=q(q(c)?c.key<b+10:c)?c.val:null;if(q(c))return c;var d=NP(null,null);SP.put(b,d);DP(function(){SP.remove(b);return WO(d)},a);return d};var UP={},$T;
function WP(a){if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof PO||"undefined"===typeof TO||"undefined"===typeof UP||"undefined"===typeof $T)$T=function(b,c){this.f=b;this.Ti=c;this.Lh=393216;this.Qh=0},$T.prototype.da=function(b,c){return new $T(this.f,c)},$T.prototype.ca=function(){return this.Ti},$T.prototype.cc=function(){return!0},$T.prototype.le=function(){return!0},$T.prototype.Ub=function(){return this.f},$T.Lb=!0,$T.ub="cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29896",$T.Vb=
function(b){return Ud(b,"cljs.core.async.impl.ioc-helpers/t_cljs$core$async$impl$ioc_helpers29896")};return new $T(a,V)}function XP(a){try{var b=a[0];return b.Eh?b.Eh(a):b.call(null,a)}catch(c){if(c instanceof Object)throw b=c,a[6].ke(null),b;throw c;}}function YP(a,b,c){c=c.uf(null,WP(function(d){a[2]=d;a[1]=b;return XP(a)}));return q(c)?(a[2]=z(c),a[1]=b,Gn):null}function ZP(a,b,c){b=b.Oe(null,c,WP(function(d){a[2]=d;a[1]=11;return XP(a)}));return q(b)?(a[2]=z(b),a[1]=11,Gn):null}
function $P(a,b){a=a[6];null!=b&&a.Oe(null,b,WP(function(){return null}));a.ke(null);return a};function aQ(a,b){return bQ(a,b)}function bQ(a,b){a=D.Dh(a,0)?null:a;return NP("number"===typeof a?new dP(cP(a),a):a,b)}
var cQ=function(a){if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof PO||"undefined"===typeof fS)fS=function(b,c,d){this.f=b;this.ag=c;this.Ui=d;this.Lh=393216;this.Qh=0},fS.prototype.da=function(b,c){return new fS(this.f,this.ag,c)},fS.prototype.ca=function(){return this.Ui},fS.prototype.cc=function(){return!0},fS.prototype.le=function(){return this.ag},fS.prototype.Ub=function(){return this.f},fS.Lb=!0,fS.ub="cljs.core.async/t_cljs$core$async30015",fS.Vb=function(b){return Ud(b,
"cljs.core.async/t_cljs$core$async30015")};return new fS(a,!0,V)}(function(){return null});function dQ(a,b){a=VO(a,b,cQ);return q(a)?z(a):!0}function eQ(a){for(var b=Array(a),c=0;;)if(c<a)b[c]=c,c+=1;else break;bb(b);return b}
function fQ(){var a=Mh(!0);if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof PO||"undefined"===typeof mS)mS=function(b,c){this.Gd=b;this.Vi=c;this.Lh=393216;this.Qh=0},mS.prototype.da=function(b,c){return new mS(this.Gd,c)},mS.prototype.ca=function(){return this.Vi},mS.prototype.cc=function(){return z(this.Gd)},mS.prototype.le=function(){return!0},mS.prototype.Ub=function(){Nh(this.Gd,null);return!0},mS.Lb=!0,mS.ub="cljs.core.async/t_cljs$core$async30085",mS.Vb=function(b){return Ud(b,
"cljs.core.async/t_cljs$core$async30085")};return new mS(a,V)}
function gQ(a,b){if("undefined"===typeof oc||"undefined"===typeof pc||"undefined"===typeof PO||"undefined"===typeof pS)pS=function(c,d,e){this.Gd=c;this.be=d;this.Wi=e;this.Lh=393216;this.Qh=0},pS.prototype.da=function(c,d){return new pS(this.Gd,this.be,d)},pS.prototype.ca=function(){return this.Wi},pS.prototype.cc=function(){return XO(this.Gd)},pS.prototype.le=function(){return!0},pS.prototype.Ub=function(){YO(this.Gd);return this.be},pS.Lb=!0,pS.ub="cljs.core.async/t_cljs$core$async30091",pS.Vb=
function(c){return Ud(c,"cljs.core.async/t_cljs$core$async30091")};return new pS(a,b,V)}
function hQ(a,b,c){var d=fQ(),e=M(b),f=eQ(e),h=Pz.Eh(c),k=function(){for(var m=0;;)if(m<e){var n=q(h)?m:f[m],r=lf(b,n),t=Qf(r)?r.Eh?r.Eh(0):r.call(null,0):null,w=q(t)?function(){var y=r.Eh?r.Eh(1):r.call(null,1);return VO(t,y,gQ(d,function(E,I,G,J,N){return function(U){U=new W(null,2,5,Y,[U,N],null);return a.Eh?a.Eh(U):a.call(null,U)}}(m,y,n,r,t,d,e,f,h)))}():UO(r,gQ(d,function(y,E,I){return function(G){G=new W(null,2,5,Y,[G,I],null);return a.Eh?a.Eh(G):a.call(null,G)}}(m,n,r,t,d,e,f,h)));if(q(w))return GP(new W(null,
2,5,Y,[z(w),function(){var y=t;return q(y)?y:r}()],null));m+=1}else return null}();return q(k)?k:Yf(c,jm)?(k=function(){var m=d.cc(null);return q(m)?d.Ub(null):m}(),q(k)?GP(new W(null,2,5,Y,[jm.Eh(c),jm],null)):null):null}
function iQ(a,b){var c=bQ(1,null);CP(function(){var d=function(){function f(h){var k=h[1];return 7===k?(h[2]=h[2],h[1]=3,Gn):1===k?(h[2]=null,h[1]=2,Gn):4===k?(k=h[2],h[7]=k,h[1]=q(null==k)?5:6,Gn):13===k?(h[2]=null,h[1]=14,Gn):6===k?(k=h[7],ZP(h,b,k)):3===k?$P(h,h[2]):12===k?(h[2]=null,h[1]=2,Gn):2===k?YP(h,4,a):11===k?(h[1]=q(h[2])?12:13,Gn):9===k?(h[2]=null,h[1]=10,Gn):5===k?(h[1]=q(!0)?8:9,Gn):14===k||10===k?(h[2]=h[2],h[1]=7,Gn):8===k?(k=WO(b),h[2]=k,h[1]=10,Gn):null}return function(){function h(n){for(;;){a:try{for(;;){var r=
f(n);if(!S(r,Gn)){var t=r;break a}}}catch(w){t=w;n[2]=t;if(F(n[4]))n[1]=H(n[4]);else throw t;t=Gn}if(!S(t,Gn))return t}}function k(){var n=[null,null,null,null,null,null,null,null];n[0]=m;n[1]=1;return n}var m=null;m=function(n){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n)}throw Error("Invalid arity: "+arguments.length);};m.Nh=k;m.Eh=h;return m}()}(),e=function(){var f=d();f[6]=c;return f}();return XP(e)})}
function jQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=3<b.length?new Me(b.slice(3),0,null):null;return kQ(arguments[0],arguments[1],arguments[2],b)}function kQ(a,b,c,d){d=null!=d&&(d.Lh&64||l===d.va)?qh(sk,d):d;a[1]=b;b=hQ(function(e){a[2]=e;return XP(a)},c,d);return q(b)?(a[2]=z(b),Gn):null}
function lQ(a,b){var c=bQ(b,null),d=bQ(1,null);CP(function(){var e=function(){function h(k){var m=k[1];if(7===m){m=k[7];m=k[2];var n=P(m,0,null),r=P(m,1,null);k[7]=n;k[8]=m;k[9]=r;k[1]=q(null==n)?8:9;return Gn}return 1===m?(m=kg(a),k[10]=m,k[2]=null,k[1]=2,Gn):4===m?(m=k[10],jQ(k,7,m)):6===m?(k[2]=k[2],k[1]=3,Gn):3===m?$P(k,k[2]):2===m?(m=k[10],m=0<M(m),k[1]=q(m)?4:5,Gn):11===m?(m=k[10],k[11]=k[2],k[10]=m,k[2]=null,k[1]=2,Gn):9===m?(m=k[7],ZP(k,c,m)):5===m?(m=WO(c),k[2]=m,k[1]=6,Gn):10===m?(k[2]=
k[2],k[1]=6,Gn):8===m?(m=k[7],m=k[10],r=k[9],m=mi(function(){var t=r;return function(w){return vh.Dh(t,w)}}(),m),k[10]=m,k[2]=null,k[1]=2,Gn):null}return function(){function k(r){for(;;){a:try{for(;;){var t=h(r);if(!S(t,Gn)){var w=t;break a}}}catch(y){w=y;r[2]=w;if(F(r[4]))r[1]=H(r[4]);else throw w;w=Gn}if(!S(w,Gn))return w}}function m(){var r=[null,null,null,null,null,null,null,null,null,null,null,null];r[0]=n;r[1]=1;return r}var n=null;n=function(r){switch(arguments.length){case 0:return m.call(this);
case 1:return k.call(this,r)}throw Error("Invalid arity: "+arguments.length);};n.Nh=m;n.Eh=k;return n}()}(),f=function(){var h=e();h[6]=d;return h}();return XP(f)});return c};function mQ(a,b){var c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,r,t){if("%"==n)return"%";var w=c.shift();if("undefined"==typeof w)throw Error("[goog.string.format] Not enough arguments");arguments[0]=w;return mQ.fd[n].apply(null,arguments)})}mQ.fd={};
mQ.fd.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+Xb(" ",Number(c)-a.length):Xb(" ",Number(c)-a.length)+a};
mQ.fd.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));var f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+Xb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+Xb(b,a)+d);return d};mQ.fd.d=function(a,b,c,d,e,f,h,k){return mQ.fd.f(parseInt(a,10),b,c,d,0,f,h,k)};
mQ.fd.i=mQ.fd.d;mQ.fd.u=mQ.fd.d;var nQ=!iP||9<=Number(ZS),oQ=iP&&!sP("9");!lP||sP("528");kP&&sP("1.9b")||iP&&sP("8")||hP&&sP("9.5")||lP&&sP("528");kP&&!sP("8")||iP&&sP("9");var pQ=function(){if(!la.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{la.addEventListener("test",oa,b),la.removeEventListener("test",oa,b)}catch(c){}return a}();function qQ(){0!=rQ&&(sQ[va(this)]=this);this.Qd=this.Qd;this.Ud=this.Ud}var rQ=0,sQ={};qQ.prototype.Qd=!1;qQ.prototype.vg=function(){if(!this.Qd&&(this.Qd=!0,this.gd(),0!=rQ)){var a=va(this);if(0!=rQ&&this.Ud&&0<this.Ud.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete sQ[a]}};qQ.prototype.gd=function(){if(this.Ud)for(;this.Ud.length;)this.Ud.shift()()};function tQ(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.Ld=!1;this.Kg=!0}tQ.prototype.stopPropagation=function(){this.Ld=!0};tQ.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Kg=!1};function uQ(a,b){tQ.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.we=null;a&&this.init(a,b)}Ha(uQ,tQ);var vQ={2:"touch",3:"pen",4:"mouse"};
uQ.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(kP){a:{try{Ia(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=lP||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=lP||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:vQ[a.pointerType]||"";this.state=a.state;this.we=a;a.defaultPrevented&&this.preventDefault()};uQ.prototype.stopPropagation=function(){uQ.od.stopPropagation.call(this);this.we.stopPropagation?this.we.stopPropagation():this.we.cancelBubble=!0};
uQ.prototype.preventDefault=function(){uQ.od.preventDefault.call(this);var a=this.we;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,oQ)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var wQ="closure_listenable_"+(1E6*Math.random()|0),xQ=0;function yQ(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++xQ;this.removed=this.Je=!1}function zQ(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function AQ(a){this.src=a;this.listeners={};this.Ge=0}AQ.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Ge++);var h=BQ(a,b,d,e);-1<h?(b=a[h],c||(b.Je=!1)):(b=new yQ(b,this.src,f,!!d,e),b.Je=c,a.push(b));return b};
AQ.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=BQ(e,b,c,d);return-1<b?(zQ(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Ge--),!0):!1};function CQ(a,b){var c=b.type;c in a.listeners&&Wa(a.listeners[c],b)&&(zQ(b),0==a.listeners[c].length&&(delete a.listeners[c],a.Ge--))}
AQ.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,zQ(d[e]);delete this.listeners[c];this.Ge--}return b};AQ.prototype.zf=function(a,b,c,d){a=this.listeners[a.toString()];var e=-1;a&&(e=BQ(a,b,c,d));return-1<e?a[e]:null};function BQ(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var DQ="closure_lm_"+(1E6*Math.random()|0),EQ={},FQ=0;function GQ(a,b,c,d,e){if(d&&d.once)return HQ(a,b,c,d,e);if(qa(b)){for(var f=0;f<b.length;f++)GQ(a,b[f],c,d,e);return null}c=IQ(c);return a&&a[wQ]?a.jd.add(String(b),c,!1,ua(d)?!!d.capture:!!d,e):JQ(a,b,c,!1,d,e)}
function JQ(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ua(e)?!!e.capture:!!e,k=KQ(a);k||(a[DQ]=k=new AQ(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=LQ();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)pQ||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(MQ(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");FQ++;return c}
function LQ(){var a=NQ,b=nQ?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function HQ(a,b,c,d,e){if(qa(b)){for(var f=0;f<b.length;f++)HQ(a,b[f],c,d,e);return null}c=IQ(c);return a&&a[wQ]?a.jd.add(String(b),c,!0,ua(d)?!!d.capture:!!d,e):JQ(a,b,c,!0,d,e)}
function OQ(a,b,c,d,e){if(qa(b))for(var f=0;f<b.length;f++)OQ(a,b[f],c,d,e);else d=ua(d)?!!d.capture:!!d,c=IQ(c),a&&a[wQ]?a.jd.remove(String(b),c,d,e):a&&(a=KQ(a))&&(b=a.zf(b,c,d,e))&&PQ(b)}
function PQ(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[wQ])CQ(b.jd,a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(MQ(c),d):b.addListener&&b.removeListener&&b.removeListener(d);FQ--;(c=KQ(b))?(CQ(c,a),0==c.Ge&&(c.src=null,b[DQ]=null)):zQ(a)}}}function MQ(a){return a in EQ?EQ[a]:EQ[a]="on"+a}
function QQ(a,b,c,d){var e=!0;if(a=KQ(a))if(b=a.listeners[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.removed&&(f=RQ(f,d),e=e&&!1!==f)}return e}function RQ(a,b){var c=a.listener,d=a.handler||a.src;a.Je&&PQ(a);return c.call(d,b)}
function NQ(a,b){if(a.removed)return!0;if(!nQ){if(!b)a:{b=["window","event"];for(var c=la,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new uQ(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(h){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.Ld&&0<=e;e--){b.currentTarget=d[e];var f=QQ(d[e],a,!0,b);c=c&&f}for(e=0;!b.Ld&&e<d.length;e++)b.currentTarget=
d[e],f=QQ(d[e],a,!1,b),c=c&&f}return c}return RQ(a,new uQ(b,this))}function KQ(a){a=a[DQ];return a instanceof AQ?a:null}var SQ="__closure_events_fn_"+(1E9*Math.random()>>>0);function IQ(a){if(sa(a))return a;a[SQ]||(a[SQ]=function(b){return a.handleEvent(b)});return a[SQ]};function TQ(){qQ.call(this);this.jd=new AQ(this);this.Wg=this;this.Of=null}Ha(TQ,qQ);TQ.prototype[wQ]=!0;g=TQ.prototype;g.addEventListener=function(a,b,c,d){GQ(this,a,b,c,d)};g.removeEventListener=function(a,b,c,d){OQ(this,a,b,c,d)};
g.dispatchEvent=function(a){var b,c=this.Of;if(c)for(b=[];c;c=c.Of)b.push(c);c=this.Wg;var d=a.type||a;if("string"===typeof a)a=new tQ(a,c);else if(a instanceof tQ)a.target=a.target||c;else{var e=a;a=new tQ(d,c);ub(a,e)}e=!0;if(b)for(var f=b.length-1;!a.Ld&&0<=f;f--){var h=a.currentTarget=b[f];e=UQ(h,d,!0,a)&&e}a.Ld||(h=a.currentTarget=c,e=UQ(h,d,!0,a)&&e,a.Ld||(e=UQ(h,d,!1,a)&&e));if(b)for(f=0;!a.Ld&&f<b.length;f++)h=a.currentTarget=b[f],e=UQ(h,d,!1,a)&&e;return e};
g.gd=function(){TQ.od.gd.call(this);this.removeAllListeners();this.Of=null};g.removeAllListeners=function(a){return this.jd?this.jd.removeAll(a):0};function UQ(a,b,c,d){b=a.jd.listeners[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var h=b[f];if(h&&!h.removed&&h.capture==c){var k=h.listener,m=h.handler||h.src;h.Je&&CQ(a.jd,h);e=!1!==k.call(m,d)&&e}}return e&&0!=d.Kg}g.zf=function(a,b,c,d){return this.jd.zf(String(a),b,c,d)};function VQ(a,b,c){if(sa(a))c&&(a=Ea(a,c));else if(a&&"function"==typeof a.handleEvent)a=Ea(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:la.setTimeout(a,b||0)};function WQ(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};function XQ(){}XQ.prototype.cg=null;function YQ(a){var b;(b=a.cg)||(b={},ZQ(a)&&(b[0]=!0,b[1]=!0),b=a.cg=b);return b};var $Q;function aR(){}Ha(aR,XQ);function bR(a){return(a=ZQ(a))?new ActiveXObject(a):new XMLHttpRequest}function ZQ(a){if(!a.zg&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.zg=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.zg}$Q=new aR;function cR(a){TQ.call(this);this.headers=new dc;this.gf=a||null;this.rd=!1;this.ff=this.Ga=null;this.Df="";this.Td=0;this.Id=this.Bf=this.Ve=this.yf=!1;this.df=0;this.cf=null;this.Jg=dR;this.Tf=this.Hg=this.Zd=!1}Ha(cR,TQ);var dR="",eR=/^https?$/i,fR=["POST","PUT"];g=cR.prototype;
g.send=function(a,b,c,d){if(this.Ga)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.Df+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.Df=a;this.Td=0;this.yf=!1;this.rd=!0;this.Ga=this.gf?bR(this.gf):bR($Q);this.ff=this.gf?YQ(this.gf):YQ($Q);this.Ga.onreadystatechange=Ea(this.Fg,this);this.Hg&&"onprogress"in this.Ga&&(this.Ga.onprogress=Ea(function(f){this.Eg(f,!0)},this),this.Ga.upload&&(this.Ga.upload.onprogress=Ea(this.Eg,this)));try{this.Bf=!0,this.Ga.open(b,String(a),
!0),this.Bf=!1}catch(f){gR(this);return}a=c||"";var e=this.headers.clone();d&&bc(d,function(f,h){e.set(h,f)});d=Sa(e.Ic());c=la.FormData&&a instanceof la.FormData;!(0<=Ma(fR,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");e.forEach(function(f,h){this.Ga.setRequestHeader(h,f)},this);this.Jg&&(this.Ga.responseType=this.Jg);"withCredentials"in this.Ga&&this.Ga.withCredentials!==this.Zd&&(this.Ga.withCredentials=this.Zd);try{hR(this),0<this.df&&((this.Tf=iR(this.Ga))?
(this.Ga.timeout=this.df,this.Ga.ontimeout=Ea(this.Pg,this)):this.cf=VQ(this.Pg,this.df,this)),this.Ve=!0,this.Ga.send(a),this.Ve=!1}catch(f){gR(this)}};function iR(a){return iP&&sP(9)&&"number"===typeof a.timeout&&void 0!==a.ontimeout}function Ua(a){return"content-type"==a.toLowerCase()}g.Pg=function(){"undefined"!=typeof ka&&this.Ga&&(this.Td=8,this.dispatchEvent("timeout"),this.abort(8))};function gR(a){a.rd=!1;a.Ga&&(a.Id=!0,a.Ga.abort(),a.Id=!1);a.Td=5;jR(a);kR(a)}
function jR(a){a.yf||(a.yf=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}g.abort=function(a){this.Ga&&this.rd&&(this.rd=!1,this.Id=!0,this.Ga.abort(),this.Id=!1,this.Td=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),kR(this))};g.gd=function(){this.Ga&&(this.rd&&(this.rd=!1,this.Id=!0,this.Ga.abort(),this.Id=!1),kR(this,!0));cR.od.gd.call(this)};g.Fg=function(){this.Qd||(this.Bf||this.Ve||this.Id?lR(this):this.Yh())};g.Yh=function(){lR(this)};
function lR(a){if(a.rd&&"undefined"!=typeof ka&&(!a.ff[1]||4!=mR(a)||2!=nR(a)))if(a.Ve&&4==mR(a))VQ(a.Fg,0,a);else if(a.dispatchEvent("readystatechange"),4==mR(a)){a.rd=!1;try{oR(a)?(a.dispatchEvent("complete"),a.dispatchEvent("success")):(a.Td=6,jR(a))}finally{kR(a)}}}g.Eg=function(a,b){this.dispatchEvent(pR(a,"progress"));this.dispatchEvent(pR(a,b?"downloadprogress":"uploadprogress"))};function pR(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}}
function kR(a,b){if(a.Ga){hR(a);var c=a.Ga,d=a.ff[0]?oa:null;a.Ga=null;a.ff=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}function hR(a){a.Ga&&a.Tf&&(a.Ga.ontimeout=null);a.cf&&(la.clearTimeout(a.cf),a.cf=null)}
function oR(a){var b=nR(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=String(a.Df).match(ic)[1]||null,!a&&la.self&&la.self.location&&(a=la.self.location.protocol,a=a.substr(0,a.length-1)),b=!eR.test(a?a.toLowerCase():"");c=b}return c}function mR(a){return a.Ga?a.Ga.readyState:0}function nR(a){try{return 2<mR(a)?a.Ga.status:-1}catch(b){return-1}}
function qR(a){try{return a.Ga?a.Ga.responseText:""}catch(b){return""}}g.getResponseHeader=function(a){if(this.Ga&&4==mR(this))return a=this.Ga.getResponseHeader(a),null===a?void 0:a};g.getAllResponseHeaders=function(){return this.Ga&&4==mR(this)?this.Ga.getAllResponseHeaders()||"":""};function rR(){this.yc=[];this.Oc=[]}function sR(a){0==a.yc.length&&(a.yc=a.Oc,a.yc.reverse(),a.Oc=[])}g=rR.prototype;g.enqueue=function(a){this.Oc.push(a)};g.ve=function(){sR(this);return this.yc.pop()};g.peek=function(){sR(this);var a=this.yc;return a[a.length-1]};g.ib=function(){return this.yc.length+this.Oc.length};g.isEmpty=function(){return 0==this.yc.length&&0==this.Oc.length};g.clear=function(){this.yc=[];this.Oc=[]};g.contains=function(a){return 0<=Ma(this.yc,a)||0<=Ma(this.Oc,a)};
g.remove=function(a){var b=this.yc;var c=Oa(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Wa(this.Oc,a)};g.Xb=function(){for(var a=[],b=this.yc.length-1;0<=b;--b)a.push(this.yc[b]);var c=this.Oc.length;for(b=0;b<c;++b)a.push(this.Oc[b]);return a};function tR(a){this.nb=new dc;a&&this.addAll(a)}function uR(a){var b=typeof a;return"object"==b&&a||"function"==b?"o"+va(a):b.substr(0,1)+a}g=tR.prototype;g.ib=function(){return this.nb.ib()};g.add=function(a){this.nb.set(uR(a),a)};g.addAll=function(a){a=Zb(a);for(var b=a.length,c=0;c<b;c++)this.add(a[c])};g.removeAll=function(a){a=Zb(a);for(var b=a.length,c=0;c<b;c++)this.remove(a[c])};g.remove=function(a){return this.nb.remove(uR(a))};g.clear=function(){this.nb.clear()};g.isEmpty=function(){return this.nb.isEmpty()};
g.contains=function(a){return this.nb.Ed(uR(a))};g.intersection=function(a){var b=new tR;a=Zb(a);for(var c=0;c<a.length;c++){var d=a[c];this.contains(d)&&b.add(d)}return b};g.difference=function(a){var b=this.clone();b.removeAll(a);return b};g.Xb=function(){return this.nb.Xb()};g.clone=function(){return new tR(this)};g.equals=function(a){return this.ib()==Yb(a)&&vR(this,a)};
function vR(a,b){var c=Yb(b);if(a.ib()>c)return!1;!(b instanceof tR)&&5<c&&(b=new tR(b));return cc(a,function(d){var e=b;if(e.contains&&"function"==typeof e.contains)d=e.contains(d);else if(e.pe&&"function"==typeof e.pe)d=e.pe(d);else if(ra(e)||"string"===typeof e)d=0<=Ma(e,d);else a:{for(const f in e)if(e[f]==d){d=!0;break a}d=!1}return d})};function wR(a,b){qQ.call(this);this.Dg=a||0;this.Ye=b||10;if(this.Dg>this.Ye)throw Error(xR);this.Tc=new rR;this.zd=new tR;this.delay=0;this.Cf=null;this.He()}Ha(wR,qQ);var xR="[goog.structs.Pool] Min can not be greater than max";g=wR.prototype;g.Ue=function(){var a=Fa();if(!(null!=this.Cf&&a-this.Cf<this.delay)){for(var b;0<this.Tc.ib()&&(b=this.Tc.ve(),!this.Nf(b));)this.He();!b&&this.ib()<this.Ye&&(b=this.xf());b&&(this.Cf=a,this.zd.add(b));return b}};
function yR(a,b){return a.zd.remove(b)?(a.jf(b),!0):!1}g.jf=function(a){this.zd.remove(a);this.Nf(a)&&this.ib()<this.Ye?this.Tc.enqueue(a):zR(a)};g.He=function(){for(var a=this.Tc;this.ib()<this.Dg;)a.enqueue(this.xf());for(;this.ib()>this.Ye&&0<this.Tc.ib();)zR(a.ve())};g.xf=function(){return{}};function zR(a){if("function"==typeof a.vg)a.vg();else for(var b in a)a[b]=null}g.Nf=function(a){return"function"==typeof a.Yg?a.Yg():!0};g.contains=function(a){return this.Tc.contains(a)||this.zd.contains(a)};
g.ib=function(){return this.Tc.ib()+this.zd.ib()};g.isEmpty=function(){return this.Tc.isEmpty()&&this.zd.isEmpty()};g.gd=function(){wR.od.gd.call(this);if(0<this.zd.ib())throw Error("[goog.structs.Pool] Objects not released");delete this.zd;for(var a=this.Tc;!a.isEmpty();)zR(a.ve());delete this.Tc};function AR(a,b){this.Ag=a;this.Rg=b}AR.prototype.getKey=function(){return this.Ag};AR.prototype.getValue=function(){return this.Rg};AR.prototype.clone=function(){return new AR(this.Ag,this.Rg)};function BR(a){this.mc=[];if(a)a:{if(a instanceof BR){var b=a.Ic();a=a.Xb();if(0>=this.ib()){for(var c=this.mc,d=0;d<b.length;d++)c.push(new AR(b[d],a[d]));break a}}else b=qb(a),a=pb(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}}g=BR.prototype;g.insert=function(a,b){var c=this.mc;c.push(new AR(a,b));a=c.length-1;b=this.mc;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
g.remove=function(){var a=this.mc,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Va(a);else{a[0]=a.pop();a=0;b=this.mc;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};g.peek=function(){var a=this.mc;if(0!=a.length)return a[0].getValue()};g.Xb=function(){for(var a=this.mc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
g.Ic=function(){for(var a=this.mc,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};g.pe=function(a){return Qa(this.mc,function(b){return b.getValue()==a})};g.Ed=function(a){return Qa(this.mc,function(b){return b.getKey()==a})};g.clone=function(){return new BR(this)};g.ib=function(){return this.mc.length};g.isEmpty=function(){return 0==this.mc.length};g.clear=function(){Va(this.mc)};function CR(){BR.call(this)}Ha(CR,BR);CR.prototype.enqueue=function(a,b){this.insert(a,b)};CR.prototype.ve=function(){return this.remove()};function DR(a,b){this.ug=void 0;this.Pf=new CR;wR.call(this,a,b)}Ha(DR,wR);g=DR.prototype;g.Ue=function(){var a=DR.od.Ue.call(this);a&&this.delay&&(this.ug=la.setTimeout(Ea(this.Af,this),this.delay));return a};g.Af=function(){for(var a=this.Pf;0<a.ib();){var b=this.Ue();if(b)a.ve().apply(this,[b]);else break}};g.jf=function(a){DR.od.jf.call(this,a);this.Af()};g.He=function(){DR.od.He.call(this);this.Af()};g.gd=function(){DR.od.gd.call(this);la.clearTimeout(this.ug);this.Pf.clear();this.Pf=null};function ER(a,b,c,d){this.xh=a;this.Zd=!!d;DR.call(this,b,c)}Ha(ER,DR);ER.prototype.xf=function(){var a=new cR,b=this.xh;b&&b.forEach(function(c,d){a.headers.set(d,c)});this.Zd&&(a.Zd=!0);return a};ER.prototype.Nf=function(a){return!a.Qd&&!a.Ga};function FR(a){a=z(a);throw om(z(Sz.Eh(a)),R.Dh(a,Sz));}var GR={};
function HR(a,b,c,d){if(q(FR)){var e=new Al(function(){var f=new Date,h=q(a)?a:"?",k=u.Eh(b),m=null==c?"\x3ctruss/nil\x3e":ql.Ih(O([c])),n=GR===d?null:d,r=new Al(function(){var w=q(n)?u.Eh(n):null;var y=["Invariant violation in `",u.Eh(ja),":",u.Eh(h),"`. Test form `",u.Eh(k),"` failed against input val `",u.Eh(m),"`."].join("");return Hc(n)?y:[y," An error was thrown while evaluating test form: [",w,"]."].join("")}),t=function(){if(q(null))try{return null.Nh?null.Nh():null.call(null)}catch(w){if(w instanceof
Error)return new p(null,1,[um,w],null);throw w;}else return null}();return Zj([Nn,Sz,fs,jA,yl,Jt,Hu,Xp,NA,fu,kv,Tm],[null,r,null,f,c,ja,Lc(c),n,!0,t,a,k])});return FR.Eh?FR.Eh(e):FR.call(null,e)}return null};var IR=new W(null,3,5,Y,[3,1,0],null);function JR(a){if(null==a||""===a)return null;if("string"===typeof a){var b=B.Gh(null,Im,gp),c=B.Gh(null,jm,gp);q(S.Dh?S.Dh(b,gp):S.call(null,b,gp))&&(b=z(xH),b=KR.Dh?KR.Dh(Ie,b):KR.call(null,Ie,b));c=q(S.Dh?S.Dh(c,gp):S.call(null,c,gp))?z(wH):c;c=Q.Ih(null,Im,b,O([jm,c]));return qH(c,a)}throw om("`read-edn` attempt against non-nil, non-string arg",new p(null,2,[uv,a,eq,Lc(a)],null));}
function LR(a){if(null!=a&&(a.Qh&4096||l===a.kg)){var b=Tg(a);a=Qg(a);return q(a)?[a,"/",b].join(""):b}return"string"===typeof a?a:null}function MR(a){return"string"===typeof a?D.Dh(a,"")?null:a:null}function NR(a){return"number"===typeof a?Dg(a):"string"===typeof a?(a=parseInt(a,10),q(isNaN(a))?null:a):null}function OR(a){var b=LR(a);if(!q(b))throw om(["`as-",Tg(np),"` failed against: `",ql.Ih(O([a])),"`"].join(""),new p(null,2,[uv,a,eq,Lc(a)],null));return b}
function PR(a,b,c){return rg(Lk(),pg(function(d,e){var f=P(e,0,null);e=P(e,1,null);return a.Gh?a.Gh(d,f,e):a.call(null,d,f,e)},og),b,c)}function QR(a,b){return v.Gh(function(c,d){c=a.Eh?a.Eh(d):a.call(null,d);return q(c)?Ze(c):null},null,b)}
function RR(){var a=Rh(-1);return function(){function b(e){return a.Qc(null,a.wb(null)+e)}function c(){return a.Qc(null,a.wb(null)+1)}var d=null;d=function(e){switch(arguments.length){case 0:return c.call(this);case 1:return b.call(this,e)}throw Error("Invalid arity: "+arguments.length);};d.Nh=c;d.Eh=b;return d}()}
var SR=function SR(a){switch(arguments.length){case 1:return SR.Eh(arguments[0]);case 2:return SR.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};SR.Eh=function(a){return SR.Dh(a,null)};SR.Dh=function(a,b){var c=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b,d=B.Dh(c,kA);b=B.Dh(c,ey);c=B.Gh(c,bn,1E3);a=Math.pow(2,36<a?36:a);a=Dg(.5*(a+Rl.Eh(a))*c);d=Dg(q(d)?a<d?d:a:a);return Dg(q(b)?d>b?b:d:d)};SR.Sh=2;D.Dh("default","nodejs");
var TR="undefined"!==typeof window?window:null;function UR(a){a=JB(u.Eh(a),/-/,2);var b=P(a,0,null);a=P(a,1,null);b=al(/\d+/,b);b=q(b)?li.Dh(NR,b):null;return new p(null,2,[vn,b,Dx,q(a)?a.toLowerCase():null],null)}
function VR(a){var b=P(IR,0,null),c=P(IR,1,null),d=P(IR,2,null),e=Qf(a)?a:vn.Eh(UR(a));a=P(e,0,null);var f=P(e,1,null);e=P(e,2,null);e=li.Dh(function(h){return q(h)?h:0},new W(null,3,5,Y,[a,f,e],null));a=P(e,0,null);f=P(e,1,null);e=P(e,2,null);if(!(b>a||D.Dh(b,a)&&(c>f||D.Dh(c,f)&&d>=e)))throw om("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new p(null,2,[vu,GB(".",new W(null,3,5,Y,[a,f,e],null)),gr,GB(".",new W(null,3,5,
Y,[b,c,d],null))],null));}function WR(a,b){return rb(a,Tg(b),null)}function YR(a,b){return null==b?null==a?V:a:Q.Gh(a,"x-requested-with",b)}var ZR=function ZR(a){switch(arguments.length){case 3:return ZR.Gh(arguments[0],arguments[1],arguments[2]);case 2:return ZR.Dh(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new Me(c.slice(3),0,null);return ZR.Ih(arguments[0],arguments[1],arguments[2],c)}};
ZR.Gh=function(a,b,c){return Yf(a,b)?a:Q.Gh(a,b,c)};ZR.Ih=function(a,b,c,d){return PR(ZR,ZR.Gh(a,b,c),d)};ZR.ba=function(a){var b=H(a),c=K(a);a=H(c);var d=K(c);c=H(d);d=K(d);return this.Ih(b,a,c,d)};ZR.Dh=function(a,b){return ng(function(c,d,e){return Yf(c,d)?c:Q.Gh(c,d,e)},null==a?V:a,b)};ZR.Sh=3;
var $R=function $R(a){switch(arguments.length){case 2:return $R.Dh(arguments[0],arguments[1]);case 3:return $R.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};$R.Dh=function(a,b){b=0>b?0:b;var c=M(a);return b>=c?Af:Xi(a,b,c)};$R.Gh=function(a,b,c){b=0>b?0:b;var d=Dg(M(a));c=c>d?d:c;return b>=c?Af:Xi(a,b,c)};$R.Sh=3;
var aS=function aS(a){switch(arguments.length){case 2:return aS.Dh(arguments[0],arguments[1]);case 3:return aS.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};aS.Dh=function(a,b){var c=M(a);return 0>b?(b+=c,Xi(a,0>b?0:b,c)):b>=c?Af:Xi(a,b,c)};aS.Gh=function(a,b,c){if(0>=c)return Af;var d=Dg(M(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Xi(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?Af:Xi(a,b,d)};aS.Sh=3;
function bS(a,b){for(var c=Af;;){var d=F(b);b=H(d);if(d=K(d))c=zf.Dh(c,b),b=d;else return a.Dh?a.Dh(c,b):a.call(null,c,b)}}function KR(a,b){b=ng(function(c,d,e){return jh.Gh(c,a.Eh?a.Eh(d):a.call(null,d),e)},gh.Eh?gh.Eh(V):gh.call(null,V),b);return hh.Eh?hh.Eh(b):hh.call(null,b)}function cS(a,b){b=Fk(qj(b));a=Mf(a)?a:Fk(a);return DH(b,a)}
function dS(a,b,c,d){var e=F(b);if(e){b=lf(b,0);if(e=K(e))return Q.Gh(a,b,dS(B.Dh(a,b),e,c,d));if(q(S.Dh?S.Dh(d,FA):S.call(null,d,FA)))return R.Dh(a,b);c=B.Gh(a,b,c);d=d.Eh?d.Eh(c):d.call(null,c);return q(S.Dh?S.Dh(d,FA):S.call(null,d,FA))?R.Dh(a,b):Q.Gh(a,b,d)}return d.Eh?d.Eh(a):d.call(null,a)}function eS(a,b,c){return dS(a,b,null,function(d){return R.Dh(d,c)})}var yU={};
function gS(a,b){return v.Gh(function(c,d){return null==d?c:ng(function m(f,h,k){var n=B.Gh(f,h,yU);if(n===yU)return Q.Gh(f,h,k);if(q(S.Dh?S.Dh(k,FA):S.call(null,k,FA)))return R.Dh(f,h);if(q(q(!1)?Of(k)&&Of(n):!1))return Q.Gh(f,h,ng(m,n,k));k=a.Dh?a.Dh(n,k):a.call(null,n,k);return q(S.Dh?S.Dh(k,FA):S.call(null,k,FA))?R.Dh(f,h):Q.Gh(f,h,k)},q(c)?c:V,d)},null,b)}function hS(a){return gS(function(b,c){return c},a)}function iS(a,b){this.Mf=a;this.Qf=b}
function jS(a,b,c){for(;;){var d=z(b);c=c.Eh?c.Eh(d):c.call(null,d);var e=c instanceof iS,f=e?c.Mf:c;Nh(b,f);return e?c.Qf:a.Dh?a.Dh(d,f):a.call(null,d,f)}}
function kS(a,b,c,d){if(q(S.Dh?S.Dh(d,FA):S.call(null,d,FA)))for(;;){var e=z(b);d=R.Dh(e,c);Nh(b,d);b=B.Gh(e,c,null);c=FA;return a.Dh?a.Dh(b,c):a.call(null,b,c)}else for(;;){e=z(b);var f=B.Gh(e,c,null),h=d.Eh?d.Eh(f):d.call(null,f),k=h instanceof iS,m=k?h.Mf:h;d=q(S.Dh?S.Dh(m,FA):S.call(null,m,FA))?R.Dh(e,c):Q.Gh(e,c,m);Nh(b,d);return k?h.Qf:a.Dh?a.Dh(f,m):a.call(null,f,m)}}
function lS(a,b,c){var d=CU,e=F(b);if(e)if(K(e))if(q(S.Dh?S.Dh(c,FA):S.call(null,c,FA)))for(;;){var f=z(a);e=bS(function(n){return function(r,t){return eS(n,r,t)}}(f,e,e),b);Nh(a,e);a=pi(f,b,null);b=FA;return d.Dh?d.Dh(a,b):d.call(null,a,b)}else for(;;){f=z(a);var h=pi(f,b,null);c=c.Eh?c.Eh(h):c.call(null,h);var k=c instanceof iS,m=k?c.Mf:c;e=q(S.Dh?S.Dh(m,FA):S.call(null,m,FA))?bS(function(n){return function(r,t){return eS(n,r,t)}}(f,h,c,k,m,e,e),b):qi(f,b,m);Nh(a,e);return k?c.Qf:d.Dh?d.Dh(h,m):
d.call(null,h,m)}else return kS(d,a,lf(b,0),c);else return jS(d,a,c)}function CU(a,b){return b}function nS(a,b){return jS(CU,a,b)}function oS(a,b,c){return lS(a,b,c)}function DU(a){return a}
function qS(a,b,c){a:{var d=F(b);if(d)if(K(d))for(;;){d=z(a);var e=qi(d,b,c);Nh(a,e);a=pi(d,b,null);DU.Dh?DU.Dh(a,c):DU.call(null,a,c);break a}else b:for(b=lf(b,0);;){d=z(a);e=Q.Gh(d,b,c);Nh(a,e);a=B.Gh(d,b,null);DU.Dh?DU.Dh(a,c):DU.call(null,a,c);break b}else b:for(;;){b=z(a);Nh(a,c);DU.Dh?DU.Dh(b,c):DU.call(null,b,c);break b}}}function rS(){return(new Date).getTime()}
(function(){var a=WR(TR,"performance");if(q(a)){var b=function(){var c=WR(a,"now");if(q(c))return c;c=WR(a,"mozNow");if(q(c))return c;c=WR(a,"msNow");if(q(c))return c;c=WR(a,"oNow");return q(c)?c:WR(a,"webkitNow")}();return q(b)?function(){return 1E6*Dg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
function sS(a){var b=Rh(V),c={};return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new Me(k,0,null)}return e.call(this,h)}function e(f){var h=H(f);if(q(S.Dh?S.Dh(h,Rs):S.call(null,h,Rs)))return f=K(f),h=H(f),q(S.Dh?S.Dh(h,Qo):S.call(null,h,Qo))?se(b,V):b.Qc(null,R.Dh(b.wb(null),f)),null;if(q(S.Dh?S.Dh(h,kz):S.call(null,h,kz)))return f=K(f),h=qh(a,f),b.Qc(null,Q.Gh(b.wb(null),f,h)),h;h=B.Gh(z(b),f,c);return h===
c?(h=qh(a,f),b.Qc(null,Q.Gh(b.wb(null),f,h)),h):h}d.Sh=0;d.ba=function(f){f=F(f);return e(f)};d.Ih=e;return d}()}function tS(a,b){this.n=a;this.Lf=b}function uS(a,b){this.n=a;this.Sf=b}function vS(a,b,c){this.m=a;this.Sg=b;this.Uf=c}
function wS(a){if(Of(a))return ng(function(c,d,e){var f=P(e,0,null);e=P(e,1,null);return Q.Gh(c,d,new tS(f,e))},V,a);if(Qf(a)){var b=Rh(-1);return v.Gh(function(c,d){var e=P(d,0,null),f=P(d,1,null);d=P(d,2,null);return Q.Gh(c,q(d)?d:b.Qc(null,b.wb(null)+1),new tS(e,f))},V,a)}throw om("No matching `encore/cond!` clause",V);}
function xS(a){function b(f,h){var k=(new Date).getTime();Hc(h)&&6.25E-5>=Math.random()&&(Nh(c,null),Oh.Dh(d,function(t){return ee(ng(function(w,y,E){E=ng(function(I,G,J){var N=B.Dh(e,G);return q(N)?k>=J.Sf+N.Lf?R.Dh(I,G):I:R.Dh(I,G)},E,E);return Kf(E)?ge(w,y):jh.Gh(w,y,E)},ce(q(t)?t:V),t))}));for(;;){var m=z(d),n=B.Dh(m,f),r=null==n?null:ng(function(t,w,y,E,I,G){return function(J,N,U){var da=B.Dh(G,N);if(q(da)){if(U.n<da.n)return J;U=U.Sf+da.Lf-y;return 0>=U?J:null==J?new vS(Ef([N,U]),N,U):U>J.Uf?
new vS(Q.Gh(J.m,N,U),N,U):new vS(Q.Gh(J.m,N,U),J.Sg,J.Uf)}return J}}(m,n,k,c,d,e),null,n);if(q(q(h)?h:r))return h=r,q(h)?(f=h,new W(null,3,5,Y,[f.Sg,f.Uf,f.m],null)):null;h=z(c);q(h)||(n=ng(function(t,w,y,E,I){return function(G,J,N){return Q.Gh(G,J,function(){var U=B.Dh(y,J);if(q(U)){var da=U.Sf;return I>=da+N.Lf?new uS(1,I):new uS(U.n+1,da)}return new uS(1,I)}())}}(h,m,n,r,k,c,d,e),n,e),Nh(d,Q.Gh(m,f,n)));return null}}if(Kf(a))return new W(null,2,5,Y,[null,Fh(null)],null);var c=Mh(null),d=Mh(null),
e=wS(a);return new W(null,2,5,Y,[d,function(){function f(n,r){if(q(S.Dh?S.Dh(n,nw):S.call(null,n,nw)))return q(S.Dh?S.Dh(r,mt):S.call(null,r,mt))?Nh(d,null):Oh.Gh(d,R,r),null;if(q(S.Dh?S.Dh(n,ex):S.call(null,n,ex)))return b(r,!0);throw om("Unrecognized rate limiter command",new p(null,2,[uv,n,Kr,r],null));}function h(n){return b(n,!1)}function k(){return b(null,!1)}var m=null;m=function(n,r){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,n);case 2:return f.call(this,
n,r)}throw Error("Invalid arity: "+arguments.length);};m.Nh=k;m.Eh=h;m.Dh=f;return m}()],null)}
var yS=function(){function a(d){return new nc(d)}function b(){return new nc}var c=null;c=function(d){switch(arguments.length){case 0:return b.call(this);case 1:return a.call(this,d)}throw Error("Invalid arity: "+arguments.length);};c.Nh=b;c.Eh=a;return c}(),zS=function(){function a(e,f){e=e instanceof nc?e:yS.Eh(u.Eh(e));f=u.Eh(f);return e.append(f)}function b(e){return e instanceof nc?e:yS.Eh(u.Eh(e))}function c(){return yS.Nh()}var d=null;d=function(e,f){switch(arguments.length){case 0:return c.call(this);
case 1:return b.call(this,e);case 2:return a.call(this,e,f)}throw Error("Invalid arity: "+arguments.length);};d.Nh=c;d.Eh=b;d.Dh=a;return d}();function AS(a,b){if(q(q(" ")?vh.Dh(" ",""):" ")){var c=fi(),d=pg(zS,u);return q(a)?qg(Gh.Dh(a,c),d,b):qg(c,d,b)}return q(a)?qg(a,pg(zS,u),b):u.Eh(v.Dh(zS,b))}
var BS=function BS(a){switch(arguments.length){case 2:return BS.Dh(arguments[0],arguments[1]);case 3:return BS.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};BS.Dh=function(a,b){return a.substring(b)};BS.Gh=function(a,b,c){return b>=c?"":a.substring(b,c)};BS.Sh=3;
var CS=function CS(a){switch(arguments.length){case 2:return CS.Dh(arguments[0],arguments[1]);case 3:return CS.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};CS.Dh=function(a,b){return MR(a.substr(b))};CS.Gh=function(a,b,c){return MR(a.substr(b,c))};CS.Sh=3;function DS(a){return void 0===a||null==a?"nil":a}
function ES(a){if(KB("/"))return u.Eh(v.Gh(zS,"",a));var b=Rh(!1),c=Rh(!0);return u.Eh(v.Gh(function(d,e){e=u.Eh(e);var f=D.Dh(e,""),h=0===e.indexOf("/");var k=e.length;k=1<=k?vh.Dh(-1,e.indexOf("/",k-1)):null;var m=z(b),n=z(c);se(b,k);q(n)&&se(c,f);if(q(m))return h?(e=e.substring(1),d=d.append(e)):d=d.append(e),d;h||q(q(n)?n:f)||d.append("/");return d.append(e)},yS.Nh(),a))}
function FS(){function a(){return Sl(16).toString(16)}var b=(8|3&Sl(16)).toString(16);return[u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-4",u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(b),u.Eh(a()),u.Eh(a()),u.Eh(a()),"-",u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a()),u.Eh(a())].join("")}li.Dh(u,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var GS=function GS(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new Me(c.slice(0),0,null):null;return GS.Ih(c)};
GS.Ih=function(a){var b=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;a=B.Dh(b,Fm);var c=B.Dh(b,BA),d=B.Dh(b,lB),e=B.Dh(b,Ct),f=B.Dh(b,bs),h=B.Dh(b,Vu),k=B.Dh(b,An),m=B.Dh(b,xu);b=B.Dh(b,Nu);return Math.round((q(b)?31536E6*b:0)+(q(e)?2551392E3*e:0)+(q(c)?6048E5*c:0)+(q(k)?864E5*k:0)+(q(m)?36E5*m:0)+(q(h)?6E4*h:0)+(q(f)?1E3*f:0)+(q(d)?d:0)+(q(a)?a:0))};GS.Sh=0;GS.ba=function(a){return this.Ih(F(a))};Gh.Dh(function(a){return Fg(Dg(a),1E3)},GS);var HS=new Al(function(){return new ER});
function IS(){var a=z(HS).Ue();return void 0===a?null:a}
var JS="undefined"!==typeof FormData?function(a){return a instanceof FormData}:function(){return null},KS="undefined"!==typeof File?function(a){return a instanceof File}:function(){return null},LS=function(){function a(c,d){if(q(JS(d)))return new W(null,2,5,Y,[c,d],null);if(q("undefined"!==typeof FormData?QR(KS,rj(d)):!1)){var e=new FormData;d=F(d);for(var f=null,h=0,k=0;;)if(k<h){var m=f.wa(null,k),n=P(m,0,null);m=P(m,1,null);e.append(Tg(n),m);k+=1}else if(d=F(d))Rf(d)?(h=ke(d),d=le(d),f=h,h=M(h)):
(h=H(d),f=P(h,0,null),h=P(h,1,null),e.append(Tg(f),h),d=K(d),f=null,h=0),k=0;else break;return new W(null,2,5,Y,[c,e],null)}return new W(null,2,5,Y,[c,b(d)],null)}var b=function(){function c(f,h){h=e.Eh(h);f=KB(h)?f:[u.Eh(f),"?",u.Eh(h)].join("");return new W(null,2,5,Y,[f,null],null)}function d(f){if(F(f)){var h=Kl(f);f=ac(h);if("undefined"==typeof f)throw Error("Keys are undefined");var k=new kc(null,void 0);h=Zb(h);for(var m=0;m<f.length;m++){var n=f[m],r=h[m];if(qa(r)){var t=k;t.remove(n);0<r.length&&
(t.xc=null,t.lb.set(mc(t,n),Ya(r)),t.Za+=r.length)}else k.add(n,r)}f=k.toString()}else f=null;return f}var e=null;e=function(f,h){switch(arguments.length){case 1:return d.call(this,f);case 2:return c.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.Eh=d;e.Dh=c;return e}();return function(c,d,e){d=d instanceof C?d.la:null;switch(d){case "get":return b(c,e);case "post":return a(c,e);case "put":return a(c,e);default:throw Error(["No matching clause: ",u.Eh(d)].join(""));}}}();
function MS(a,b,c){var d=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b,e=B.Gh(d,Gu,Cu);b=B.Dh(d,Wt);var f=B.Dh(d,Ym),h=B.Gh(d,Yn,1E4),k=B.Gh(d,zA,Zq),m=B.Dh(d,IA),n=IS();if(q(n))try{var r=function(){var J=ru.Eh(d);return q(J)?J:h}(),t=function(){var J=e instanceof C?e.la:null;switch(J){case "get":return"GET";case "post":return"POST";case "put":return"PUT";default:throw Error(["No matching clause: ",u.Eh(J)].join(""));}}(),w=LS(a,e,b),y=P(w,0,null),E=P(w,1,null),I=function(){var J=KR(function(N){return Tg(N).toLowerCase()},
f);J=YR(J,B.Gh(J,"x-requested-with","XMLHTTPRequest"));return Kl(J)}(),G=function(){var J=xt.Eh(d);return q(J)?(n.Hg=!0,GQ(n,"progress",function(N){var U=N.lengthComputable,da=N.loaded,wa=N.total,ma=q(q(U)?vh.Dh(wa,0):U)?da/wa:null;N=new p(null,5,[uA,ma,et,U,lu,da,Vs,wa,Vz,N],null);return J.Eh?J.Eh(N):J.call(null,N)})):null}();HQ(n,"ready",function(){return yR(z(HS),n)});HQ(n,"complete",function(J){var N=oR(n),U=nR(n),da=vh.Dh(U,-1)?function(){var xa=n.getResponseHeader("content-type"),Na=function(){if(vh.Dh(k,
Zq))var fa=k;else null==xa?fa=Ht:(fa=u.Eh(xa).toLowerCase(),fa=vh.Dh(-1,fa.indexOf("/edn"))?iv:vh.Dh(-1,fa.indexOf("/json"))?ls:vh.Dh(-1,fa.indexOf("/xml"))?Ev:Ht);try{var na=fa instanceof C?fa.la:null;switch(na){case "edn":return JR(qR(n));case "json":if(n.Ga){b:{var Ba=n.Ga.responseText;if(la.JSON)try{var ta=la.JSON.parse(Ba);break b}catch(Hb){}ta=WQ(Ba)}var Da=ta}else Da=void 0;return Da;case "xml":try{var Ta=n.Ga?n.Ga.responseXML:null}catch(Hb){Ta=null}return Ta;case "text":return qR(n);default:throw Error(["No matching clause: ",
u.Eh(na)].join(""));}}catch(Hb){return new p(null,2,[Ko,fa,Dz,qR(n)],null)}}();return new W(null,3,5,Y,[U,xa,Na],null)}():null,wa=P(da,0,null),ma=P(da,1,null);da=P(da,2,null);q(G)&&PQ(G);J=new p(null,7,[sz,J,Tu,n,Cy,N,sn,wa,$z,ma,Zs,da,aq,q(N)?null:q(wa)?wa:B.Gh(Ef([0,null,5,Bo,6,Lx,7,ln,8,ru]),n.Td,ux)],null);return c.Eh?c.Eh(J):c.call(null,J)});n.df=Math.max(0,q(r)?r:0);q(m)&&(n.Zd=!0);n.send(y,t,E,I);return n}catch(J){return a=J,yR(z(HS),n),a=new p(null,1,[aq,a],null),c.Eh?c.Eh(a):c.call(null,
a),null}else return a=new p(null,1,[aq,Bp],null),c.Eh?c.Eh(a):c.call(null,a),null}function NS(a){return q(a)?FB(encodeURIComponent(u.Eh(a),a),"*","%2A"):null}function OS(a,b){P(b,0,null);return q(a)?decodeURIComponent(u.Eh(a)):null}
function PS(a){function b(c,d){return[NS(OR(c)),"\x3d",NS(function(){var e=LR(d);return q(e)?e:u.Eh(d)}())].join("")}return Kf(a)?"":GB("\x26",function(){return function e(d){return new Ug(null,function(){for(var f=d;;)if(f=F(f)){if(Rf(f)){var h=ke(f),k=M(h),m=Yg(k);return function(){for(var w=0;;)if(w<k){var y=x(h,w),E=P(y,0,null),I=P(y,1,null);null!=I&&bh(m,Nf(I)?GB("\x26",li.Dh(Hh(b,E),function(){var G=F(I);return G?G:new W(null,1,5,Y,[""],null)}())):b(E,I));w+=1}else return!0}()?$g(ch(m),e(le(f))):
$g(ch(m),null)}var n=H(f),r=P(n,0,null),t=P(n,1,null);if(null!=t)return rf(Nf(t)?GB("\x26",li.Dh(Hh(b,r),function(){var w=F(t);return w?w:new W(null,1,5,Y,[""],null)}())):b(r,t),e(Oe(f)));f=Oe(f)}else return null},null,null)}(a)}())}function QS(a,b,c){return Q.Gh(a,b,function(){var d=B.Dh(a,b);return q(d)?Qf(d)?zf.Dh(d,c):new W(null,2,5,Y,[d,c],null):c}())}
function RS(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new Me(b.slice(1),0,null):null;return SS(arguments[0],b)}function SS(a,b){var c=P(b,0,null),d=P(b,1,null);if(KB(a)||!vh.Dh(-1,a.indexOf("\x3d")))return V;a=0===a.indexOf("?")?Jg.Dh(a,1):a;a=v.Gh(function(e,f){var h=JB(f,/=/,2);return q(h)?(f=P(h,0,null),h=P(h,1,null),QS(e,OS(f,O([d])),OS(h,O([d])))):e},V,IB(a,/&/));return q(c)?KR(Sg,a):a}
function TS(a,b){var c=JB(u.Eh(a),/\?/,2);a=P(c,0,null);c=P(c,1,null);b=hS(O([q(c)?KR(Sg,RS(c)):null,KR(Sg,b)]));b=PS(b);b="string"===typeof b?KB(b)?null:b:null;return q(b)?[u.Eh(a),"?",b].join(""):a}function EU(){return!0}function FU(){return!1}function GU(a){return vh.Dh(-1,a.indexOf("*"))?bl(FB(FB(["^",u.Eh(a),"$"].join(""),".","\\."),"*","(.*)")):null}
function HU(a,b){for(;;){if(q(function(){var n=new Bk(null,new p(null,2,["*",null,Wr,null],null),null);return n.Eh?n.Eh(a):n.call(null,a)}()))return EU;if(q(function(){var n=dg([Af,Ek,fq]);return n.Eh?n.Eh(a):n.call(null,a)}()))return FU;if(a instanceof RegExp)return function(n){return function(r){return Zk(n,r)}}(a,b,EU,FU,GU);if("string"===typeof a){var c=GU(a);if(q(c)){var d=b;a=c;b=d}else return function(n){return function(r){return D.Dh(r,n)}}(a,b,c,EU,FU,GU)}else if(Qf(a)||Mf(a)){if(q(function(){var n=
Fk(a);return n.Eh?n.Eh("*"):n.call(null,"*")}()))return EU;if(D.Dh(M(a),1))c=H(a),d=b,a=c,b=d;else{var e=v.Gh(function(n,r,t,w,y){return function(E,I){var G=P(E,0,null);E=P(E,1,null);var J=I instanceof RegExp?I:y(I);return q(J)?new W(null,2,5,Y,[G,zf.Dh(E,J)],null):new W(null,2,5,Y,[zf.Dh(G,I),E],null)}}(a,b,EU,FU,GU),new W(null,2,5,Y,[Ek,Af],null),a),f=P(e,0,null),h=P(e,1,null),k=wh(f),m=function(){var n=wh(h);return q(n)?(n=function(r,t,w,y,E,I,G,J,N,U,da){return function(wa){return QR(function(){return function(ma){return Zk(ma,
wa)}}(r,t,w,y,E,I,G,J,N,U,da),w)}}(a,b,n,n,e,f,h,k,EU,FU,GU),q(b)?Ql(n):n):null}();if(q(function(){var n=k;return q(n)?m:n}()))return function(n,r,t,w,y,E,I){return function(G){var J=E.Eh?E.Eh(G):E.call(null,G);return q(J)?J:I.Eh?I.Eh(G):I.call(null,G)}}(a,b,e,f,h,k,m,EU,FU,GU);if(q(k))return k;if(q(m))return m;throw om("No matching `encore/cond!` clause",V);}}else throw om("Unexpected compile spec type",new p(null,2,[uv,a,eq,Lc(a)],null));}}
function YS(a){for(;;){if(Of(a)){var b=B.Dh(a,gs),c=function(){var h=B.Dh(a,mn);return q(h)?h:B.Dh(a,vB)}(),d=function(){var h=B.Dh(a,Bq);return q(h)?h:B.Dh(a,fo)}(),e=function(){var h=c;return q(h)?HU(h,b):null}(),f=function(){var h=d;return q(h)?HU(h,b):null}();if(D.Dh(f,EU)||D.Dh(e,FU))return FU;if(q(function(){var h=e;return q(h)?f:h}()))return function(h,k,m,n,r,t){return function(w){w=u.Eh(w);return q(r.Eh?r.Eh(w):r.call(null,w))?q(t.Eh?t.Eh(w):t.call(null,w))?!1:!0:!1}}(a,b,c,d,e,f,EU,FU,GU,
HU);if(q(e))return D.Dh(e,EU)?EU:function(h,k,m,n,r){return function(t){t=u.Eh(t);t=r.Eh?r.Eh(t):r.call(null,t);return q(t)?!0:!1}}(a,b,c,d,e,f,EU,FU,GU,HU);if(q(f))return D.Dh(f,FU)?EU:function(h,k,m,n,r,t){return function(w){w=u.Eh(w);w=t.Eh?t.Eh(w):t.call(null,w);return q(w)?!0:!1}}(a,b,c,d,e,f,EU,FU,GU,HU);throw om("compile-str-filter: `allow-spec` and `deny-spec` cannot both be nil",new p(null,2,[ms,c,Kn,d],null));}a=new p(null,2,[mn,a,Bq,null],null)}}Gh.Dh(wh,$R);Gh.Dh(wh,aS);Gh.Dh(MR,BS);
Gh.Dh(MR,CS);function IU(a){return Yf(dg([null,Af,Ek]),a)}var $S=function $S(a){switch(arguments.length){case 1:return $S.Eh(arguments[0]);case 2:return $S.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};$S.Eh=function(a){return $S.Dh(a,null)};$S.Dh=function(a,b){return IU(a)&&IU(b)?function(){return!0}:YS(new p(null,2,[mn,a,Bq,b],null))};$S.Sh=2;function aT(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new Me(b.slice(0),0,null):null;return bT(b)}
function bT(a){P(a,0,null);return new p(null,6,[Iw,!0,pq,!1,dA,null,dr,null,Os,Rz,Hz,"undefined"!==typeof console?function(){function b(c){var d=function(){var e=c instanceof C?c.la:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",u.Eh(e)].join(""));}}();return q(d)?
d:console.log}return function(c){var d=b(Bm.Eh(c));if(q(d)){if(q(function(){var h=zo.Eh(c);return q(h)?h:oi(c,new W(null,2,5,Y,[Uy,zo],null))}())){var e=function(){var h=Q.Ih(c,Sz,"",O([Xp,null])),k=Os.Eh(c);return k.Eh?k.Eh(h):k.call(null,h)}(),f=function(){var h=Xy.Eh(c),k=Xp.Eh(c);return q(k)?rf(e,rf(k,h)):rf(e,h)}();return d.apply(console,Sc(f))}return d.call(console,El(VA.Eh(c)))}return null}}():function(){return null}],null)};Qf(IR)?VR(new W(null,3,5,Y,[2,87,0],null)):VR(2.87);var cT=function cT(a){switch(arguments.length){case 1:return cT.Eh(arguments[0]);case 2:return cT.Dh(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};cT.Eh=function(a){return cT.Dh(null,a)};
cT.Dh=function(a,b){var c=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,d=B.Dh(c,tq);B.Dh(c,az);var e=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;b=B.Dh(e,Bm);c=B.Dh(e,Xp);var f=B.Dh(e,Sz),h=B.Dh(e,kr),k=B.Dh(e,Rx);B.Dh(e,Yu);B.Dh(e,Cz);e=B.Dh(e,kv);return[Tg(b).toUpperCase()," [",u.Eh(q(h)?h:q(k)?k:"?"),":",u.Eh(q(e)?e:"?"),"] - ",u.Eh(El(f)),q(d)?null:q(c)?["\n",u.Eh(dT?dT(c,a):eT.call(null,c,a))].join(""):null].join("")};cT.Sh=2;
var fT=new p(null,6,[Bm,Qw,Bn,Af,Wp,Af,Ew,Af,Os,cT,bx,new p(null,1,[Wz,aT.Eh?aT.Eh(V):aT.call(null,V)],null)],null),gT=Fk(new W(null,7,5,Y,[kw,Qw,Ns,bz,Ap,br,xn],null)),hT=Ik(new W(null,7,5,Y,[kw,Qw,Ns,bz,Ap,br,xn],null),K(Rk.Nh()));function iT(a){var b=gT.Eh?gT.Eh(a):gT.call(null,a);if(q(b))return b;throw om("Invalid Timbre logging level",new p(null,1,[uv,a],null));}
function jT(a,b){return function(){var c=iT(a);return hT.Eh?hT.Eh(c):hT.call(null,c)}()>=function(){var c=iT(b);return hT.Eh?hT.Eh(c):hT.call(null,c)}()}var kT=sS($S),lT=sS(function(a,b,c){a=kT(a,b);return a.Eh?a.Eh(c):a.call(null,c)});function mT(a){var b=B.Gh(fT,Bm,xn);return jT(a,b)&&Vf(lT(B.Dh(fT,Bn),B.Dh(fT,Wp),ja))&&!0}function nT(a){return AS(Vh.Eh(function(b){b=DS(b);return Pf(b)?ql.Ih(O([b])):b}),a)}var oT=sS(function(a,b){a=xS(b);P(a,0,null);return P(a,1,null)});
function pT(a){return 1<M(a)?Xi(a,1,M(a)):Af}function qT(a){var b=S.Dh?S.Dh(Zq,Zq):S.call(null,Zq,Zq),c=S.Dh?S.Dh(jw,jw):S.call(null,jw,jw),d=P(a,0,null);if(q(q(b)?d instanceof Error:b)){b=d;d=null;var e=pT(a);a=q(c)?P(e,0,null):null;c=q(c)?pT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}d=q(Of(d)?Ac.Eh(If(d)):!1)?d:null;e=Rq.Eh(d);b=q(e)?e:q(b)?null:Zq;d=R.Dh(d,Rq);e=q(d)?pT(a):a;a=q(c)?P(e,0,null):null;c=q(c)?pT(e):e;return new W(null,4,5,Y,[b,d,a,c],null)}
function rT(a,b,c,d){if(mT(a)){var e=new Date;c=z(c);c=qT(c);var f=P(c,0,null),h=P(c,1,null),k=P(c,2,null);c=P(c,3,null);e=zf.Dh(q(null)?null:V,Zj([Dr,ZA,Xy,Rx,ju,kr,Bm,Xp,pz,kv,Em,Uy,dv],[e,fT,c,null,function(){var t=new Bk(null,new p(null,2,[br,null,Ap,null],null),null);return t.Eh?t.Eh(a):t.call(null,a)}(),ja,a,f,null,b,new Al(function(){return f}),h,k]));e=v.Gh(function(t,w){t=w.Eh?w.Eh(t):w.call(null,t);return null==t?Ze(null):t},e,Ew.Eh(fT));if(q(e)){c=null!=e&&(e.Lh&64||l===e.va)?qh(sk,e):
e;var m=B.Dh(c,Xy);e=Q.Gh(e,uo,new Al(function(){return m}));var n=ZR.Ih(e,Sz,new Al(function(){if(D.Dh(null,jw))return"";if(D.Dh(ww,jw))return nT(m);if(D.Dh(jw,jw)){if("string"!==typeof k)throw om("Timbre format-style logging call without a format pattern (string)",new p(null,2,[Bm,a,Dv,[u.Eh(q(ja)?ja:q(null)?null:"?"),":",u.Eh(q(b)?b:"?")].join("")],null));var t=q(k)?k:"",w=li.Dh(DS,m);return rh(mQ,t,w)}throw Error(["No matching clause: ",u.Eh(jw)].join(""));}),O([Kx,new Al(function(){return Ee(new W(null,
3,5,Y,[d,k,B.Gh(h,Yz,m)],null))})])),r=sS(B.Gh(fT,Os,cT));ng(function(t,w,y){if(q(function(){var N=Iw.Eh(y);q(N)&&(N=dA.Eh(y),N=jT(a,q(N)?N:kw));return N}())&&q(lT(Bn.Eh(y),Wp.Eh(y),ja))){var E=dr.Eh(y);if(function(){var N=Kf(E);if(N)return N;N=oT(w,E);var U=El(Kx.Eh(n));N=N.Eh?N.Eh(U):N.call(null,U);return Hc(N)}()){var I=null!=y&&(y.Lh&64||l===y.va)?qh(sk,y):y;t=B.Dh(I,Hz);B.Dh(I,pq);var G=function(){var N=Os.Eh(y);var U=(U=null==N)?U:S.Dh?S.Dh(N,Rz):S.call(null,N,Rz);return q(U)?r:N}(),J=zf.Dh(n,
new p(null,4,[Wn,w,ez,y,Os,G,VA,new Al(function(){return G.Eh?G.Eh(n):G.call(null,n)})],null));I=function(){var N=Gm.Eh(y);return q(N)?N.Eh?N.Eh(J):N.call(null,J):J}();return q(I)?t.Eh?t.Eh(I):t.call(null,I):null}}return null},null,bx.Eh(fT))}}return null}function eT(a){switch(arguments.length){case 1:return dT(arguments[0],null);case 2:return dT(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}}function dT(a){return u.Eh(a)};function sT(a,b){if(null!=a&&null!=a.Ng)a=a.Ng(a,b);else{var c=sT[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=sT._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IPacker.pack",a);}return a}function tT(a,b){if(null!=a&&null!=a.Og)a=a.Og(a,b);else{var c=tT[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=tT._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IPacker.unpack",a);}return a};Qf(IR)?VR(new W(null,3,5,Y,[2,105,0],null)):VR(2.105);var uT=D.Dh("default","nodejs"),vT=Mh(!1);function wT(a,b){return new p(null,2,[sm,a,Dp,new p(null,2,[eq,Lc(b),Fw,b],null)],null)}
function xT(a){if(Qf(a)){var b=M(a);var c=new Bk(null,new p(null,2,[1,null,2,null],null),null);b=c.Eh?c.Eh(b):c.call(null,b);if(Hc(b))return new p(null,1,[Nv,wT(new Bk(null,new p(null,2,[1,null,2,null],null),null),a)],null);b=P(a,0,null);P(a,1,null);return b instanceof C?Hc(Qg(b))?new p(null,1,[it,wT(fr,b)],null):null:new p(null,1,[ap,wT(uB,b)],null)}return new p(null,1,[Uw,wT(Rw,a)],null)}function yT(a){var b=xT(a);if(q(b))throw om("Invalid event",new p(null,2,[uv,a,yB,b],null));}
function zT(a,b){var c=0===b.indexOf("+"),d=Jg.Dh(b,1),e=function(){try{return tT(a,d)}catch(m){var k=m;rT(Qw,215,new Al(function(){return new W(null,3,5,Y,["Bad package: %s (%s)",d,k],null)}),895048774);return new W(null,2,5,Y,[Hx,d],null)}}();c=c?e:new W(null,2,5,Y,[e,null],null);var f=P(c,0,null);c=P(c,1,null);var h=D.Dh(0,c)?pw:c;rT(kw,221,new Al(function(){return new W(null,3,5,Y,["Unpacking: %s -\x3e %s",b,new W(null,2,5,Y,[f,h],null)],null)}),1550953540);return new W(null,2,5,Y,[f,h],null)}
function AT(a,b,c){c=D.Dh(c,pw)?0:c;var d=q(c)?new W(null,2,5,Y,[b,c],null):new W(null,1,5,Y,[b],null),e=["+",u.Eh(sT(a,d))].join("");rT(kw,237,new Al(function(){return new W(null,3,5,Y,["Packing (wrapped): %s -\x3e %s",d,e],null)}),-1603192328);return e}function BT(){}BT.prototype.Ng=function(a,b){a:{a=wc;var c=vc;vc=wc=null;try{var d=ql.Ih(O([b]));break a}finally{vc=c,wc=a}d=void 0}return d};BT.prototype.Og=function(a,b){return JR(b)};var CT=new BT;function DT(a){return D.Dh(a,iv)?CT:a}RR.Nh&&RR.Nh();
function ET(a){if(null!=a&&null!=a.Xd)a=a.Xd(a);else{var b=ET[pa(null==a?null:a)];if(null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else if(b=ET._,null!=b)a=b.Eh?b.Eh(a):b.call(null,a);else throw Mc("IChSocket.-chsk-connect!",a);}return a}function FT(a,b){if(null!=a&&null!=a.bf)a=a.bf(a,b);else{var c=FT[pa(null==a?null:a)];if(null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else if(c=FT._,null!=c)a=c.Dh?c.Dh(a,b):c.call(null,a,b);else throw Mc("IChSocket.-chsk-disconnect!",a);}return a}
function GT(a,b,c){if(null!=a&&null!=a.Fe)a=a.Fe(a,b,c);else{var d=GT[pa(null==a?null:a)];if(null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else if(d=GT._,null!=d)a=d.Gh?d.Gh(a,b,c):d.call(null,a,b,c);else throw Mc("IChSocket.-chsk-send!",a);}return a}
var HT=function HT(a){switch(arguments.length){case 2:return HT.Dh(arguments[0],arguments[1]);case 4:return HT.Oh(arguments[0],arguments[1],arguments[2],arguments[3]);case 3:return HT.Gh(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",u.Eh(arguments.length)].join(""));}};HT.Dh=function(a,b){return HT.Gh(a,b,V)};HT.Oh=function(a,b,c,d){return HT.Gh(a,b,new p(null,2,[Yn,c,EA,d],null))};
HT.Gh=function(a,b,c){rT(kw,877,new Al(function(){return new W(null,3,5,Y,["Chsk send: (%s) %s",Q.Gh(c,EA,Vf(EA.Eh(c))),b],null)}),473992325);return GT(a,b,c)};HT.Sh=4;function IT(a){rT(bz,881,new Al(function(){return new W(null,1,5,Y,["Chsk send against closed chsk."],null)}),-1877017368);q(a)&&(a.Eh?a.Eh(kB):a.call(null,kB));return!1}function JT(a,b){return q(b)?oS(a,new W(null,1,5,Y,[b],null),function(c){return new iS(FA,c)}):null}
function KT(a,b){var c=nS(xy.Eh(a),function(e){var f=b.Eh?b.Eh(e):b.call(null,e);f=q(So.Eh(e))?Q.Gh(f,So,!1):f;f=q(Xx.Eh(f))?R.Dh(f,Av):f;return new iS(f,new W(null,2,5,Y,[e,f],null))}),d=P(c,0,null);c=P(c,1,null);return vh.Dh(d,c)?(d=new W(null,2,5,Y,[d,c],null),dQ(oi(a,new W(null,2,5,Y,[Ow,ho],null)),new W(null,2,5,Y,[Sr,d],null)),d):null}function LT(a,b){var c=Xx.Eh(a);c=q(c)?c:vh.Dh(b,es);return q(c)?Q.Ih(R.Dh(a,Av),Xx,!1,O([uw,new p(null,2,[Tn,rS(),XA,b],null)])):a}
function MT(a,b){if(null==a||Wf(a))return a;yT(b);var c=P(b,0,null);P(b,1,null);return function(d){return dQ(a,new W(null,2,5,Y,[Sg.Eh([OR(c),".cb"].join("")),d],null))}}
function NT(a,b){rT(kw,955,new Al(function(){return new W(null,2,5,Y,["receive-buffered-evs!: %s",b],null)}),-11234897);for(var c=F(b),d=null,e=0,f=0;;)if(f<e){var h=d.wa(null,f);yT(h);P(h,0,null);dQ(Wq.Eh(a),h);f+=1}else if(c=F(c))d=c,Rf(d)?(c=ke(d),e=le(d),d=c,h=M(c),c=e,e=h):(h=H(d),yT(h),P(h,0,null),dQ(Wq.Eh(a),h),c=K(d),d=null,e=0),f=0;else return null}function OT(a){return Qf(a)?(a=P(a,0,null),D.Dh(a,HA)):!1}
function PT(a,b,c){rT(kw,970,new Al(function(){return new W(null,3,5,Y,["receive-handshake! (%s): %s",a,c],null)}),-1946831070);P(c,0,null);var d=P(c,1,null),e=P(d,0,null);P(d,1,null);var f=P(d,2,null),h=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;d=B.Dh(h,Ow);h=B.Dh(h,sy);h=Ph(h);var k=new p(null,6,[eq,a,Xx,!0,nt,!0,ip,e,Ip,f,So,h],null);e=new W(null,2,5,Y,[HA,new W(null,4,5,Y,[e,null,f,h],null)],null);yT(e);KT(b,function(m){return wk.Ih(O([m,k]))});dQ(Hr.Eh(d),e)}
var QT=function(){var a="undefined"!==typeof require?require:Fh(os);return new Al(function(){if(uT&&"undefined"!==typeof require)try{var b=[u.Eh("web"),"socket"].join("");return a.Eh?a.Eh(b):a.call(null,b)}catch(c){return null}else return null})}();
function RT(a){a=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;B.Dh(a,Su);B.Dh(a,$p);B.Dh(a,bB);B.Dh(a,tr);B.Dh(a,Ym);var b=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;a=B.Dh(b,Su);var c=B.Dh(b,$p),d=B.Dh(b,bB),e=B.Dh(b,tr);B.Dh(b,Ym);b=WR(la,"WebSocket");q(b)||(b=WR(la,"MozWebSocket"),b=q(b)?b:WR(z(QT),"w3cwebsocket"));q(b)?(e=new b(e),e.onerror=a,e.onmessage=c,e.onclose=d,a=e):a=null;return a}
function ST(a,b,c,d,e,f,h,k,m,n,r,t,w,y,E,I,G,J){this.Fa=a;this.Ea=b;this.params=c;this.headers=d;this.Da=e;this.url=f;this.kb=h;this.oa=k;this.Aa=m;this.eb=n;this.Ha=r;this.Ba=t;this.Xa=w;this.ab=y;this.bb=E;this.Jh=I;this.Hh=G;this.Kh=J;this.Lh=2230716170;this.Qh=139264}g=ST.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "client-id":return this.Fa;case "chs":return this.Ea;case "params":return this.params;case "headers":return this.headers;case "packer":return this.Da;case "url":return this.url;case "ws-kalive-ms":return this.kb;case "state_":return this.oa;case "instance-handle_":return this.Aa;case "retry-count_":return this.eb;case "ever-opened?_":return this.Ha;case "backoff-ms-fn":return this.Ba;case "cbs-waiting_":return this.Xa;case "socket_":return this.ab;
case "udt-last-comms_":return this.bb;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#taoensso.sente.ChWebSocket{",", ","}",c,T.Dh(new W(null,15,5,Y,[new W(null,2,5,Y,[zt,this.Fa],null),new W(null,2,5,Y,[Ow,this.Ea],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[Ym,this.headers],null),new W(null,2,5,Y,[Ay,this.Da],null),new W(null,2,5,Y,[jy,this.url],null),new W(null,2,5,Y,[jx,this.kb],null),new W(null,2,5,Y,[xy,this.oa],null),new W(null,2,5,Y,[vr,this.Aa],null),new W(null,2,5,Y,[Zt,this.eb],
null),new W(null,2,5,Y,[sy,this.Ha],null),new W(null,2,5,Y,[oz,this.Ba],null),new W(null,2,5,Y,[Ix,this.Xa],null),new W(null,2,5,Y,[Ez,this.ab],null),new W(null,2,5,Y,[Ot,this.bb],null)],null),this.Hh))};g.ma=function(){return new hj(this,15,new W(null,15,5,Y,[zt,Ow,Wt,Ym,Ay,jy,jx,xy,vr,Zt,sy,oz,Ix,Ez,Ot],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 15+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=1998688700^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Fa,b.Fa)&&D.Dh(this.Ea,b.Ea)&&D.Dh(this.params,b.params)&&D.Dh(this.headers,b.headers)&&D.Dh(this.Da,b.Da)&&D.Dh(this.url,b.url)&&D.Dh(this.kb,b.kb)&&D.Dh(this.oa,b.oa)&&D.Dh(this.Aa,b.Aa)&&D.Dh(this.eb,b.eb)&&D.Dh(this.Ha,b.Ha)&&D.Dh(this.Ba,b.Ba)&&D.Dh(this.Xa,b.Xa)&&D.Dh(this.ab,b.ab)&&D.Dh(this.bb,b.bb)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,15,[jx,null,sy,null,zt,null,Ay,null,Ow,null,Ot,null,Wt,null,Zt,null,Ym,null,oz,null,Ez,null,jy,null,vr,null,Ix,null,xy,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(zt,b):S.call(null,zt,b))?new ST(c,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ow,b):S.call(null,Ow,b))?new ST(this.Fa,c,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Wt,b):S.call(null,Wt,b))?new ST(this.Fa,this.Ea,c,this.headers,this.Da,this.url,this.kb,
this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ym,b):S.call(null,Ym,b))?new ST(this.Fa,this.Ea,this.params,c,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ay,b):S.call(null,Ay,b))?new ST(this.Fa,this.Ea,this.params,this.headers,c,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(jy,b):S.call(null,jy,b))?new ST(this.Fa,
this.Ea,this.params,this.headers,this.Da,c,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(jx,b):S.call(null,jx,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,c,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xy,b):S.call(null,xy,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,c,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,
this.Hh,null):q(S.Dh?S.Dh(vr,b):S.call(null,vr,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,c,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Zt,b):S.call(null,Zt,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,c,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(sy,b):S.call(null,sy,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,
this.oa,this.Aa,this.eb,c,this.Ba,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(oz,b):S.call(null,oz,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,c,this.Xa,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ix,b):S.call(null,Ix,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,c,this.ab,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ez,b):S.call(null,Ez,b))?new ST(this.Fa,
this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,c,this.bb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ot,b):S.call(null,Ot,b))?new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,c,this.Jh,this.Hh,null):new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,15,5,Y,[new X(zt,this.Fa),new X(Ow,this.Ea),new X(Wt,this.params),new X(Ym,this.headers),new X(Ay,this.Da),new X(jy,this.url),new X(jx,this.kb),new X(xy,this.oa),new X(vr,this.Aa),new X(Zt,this.eb),new X(sy,this.Ha),new X(oz,this.Ba),new X(Ix,this.Xa),new X(Ez,this.ab),new X(Ot,this.bb)],null),this.Hh))};
g.da=function(a,b){return new ST(this.Fa,this.Ea,this.params,this.headers,this.Da,this.url,this.kb,this.oa,this.Aa,this.eb,this.Ha,this.Ba,this.Xa,this.ab,this.bb,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.bf=function(a,b){Nh(this.Aa,null);KT(this,function(c){return LT(c,b)});a=z(this.ab);return q(a)?a.close(1E3,"CLOSE_NORMAL"):null};
g.Fe=function(a,b,c){var d=this;a=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c;var e=B.Dh(a,Yn);c=B.Dh(a,EA);B.Dh(a,rp);yT(b);var f=MT(c,b);if(Hc(Xx.Eh(z(d.oa))))return IT(f);var h=q(f)?CS.Gh(FS(),0,6):null;b=AT(d.Da,b,h);if(q(h)&&(qS(d.Xa,new W(null,1,5,Y,[h],null),f),q(e))){var k=bQ(1,null);CP(function(){var n=function(){function t(w){var y=w[1];if(1===y)return y=TP(e),YP(w,2,y);if(2===y){y=w[2];var E=JT(d.Xa,h);w[8]=y;w[7]=E;w[1]=q(E)?3:4;return Gn}return 3===y?(y=w[7],y=y.Eh?y.Eh(Mn):y.call(null,Mn),
w[2]=y,w[1]=5,Gn):4===y?(w[2]=null,w[1]=5,Gn):5===y?$P(w,w[2]):null}return function(){function w(I){for(;;){a:try{for(;;){var G=t(I);if(!S(G,Gn)){var J=G;break a}}}catch(N){J=N;I[2]=J;if(F(I[4]))I[1]=H(I[4]);else throw J;J=Gn}if(!S(J,Gn))return J}}function y(){var I=[null,null,null,null,null,null,null,null,null];I[0]=E;I[1]=1;return I}var E=null;E=function(I){switch(arguments.length){case 0:return y.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);};E.Nh=y;E.Eh=
w;return E}()}(),r=function(){var t=n();t[6]=k;return t}();return XP(r)})}try{return z(d.ab).send(b),Nh(d.bb,rS()),vm}catch(n){var m=n;rT(Ap,1128,new Al(function(){return new W(null,2,5,Y,[m,"Chsk send error"],null)}),-948335513);q(h)&&(b=function(){var r=JT(d.Xa,h);return q(r)?r:f}(),b.Eh?b.Eh(xm):b.call(null,xm));return!1}};
g.Xd=function(){function a(){return D.Dh(z(b.Aa),d)}var b=this,c=this,d=Nh(b.Aa,FS()),e=b.kb;if(q(e)){var f=bQ(1,null);CP(function(){var h=function(){function m(n){var r=n[1];if(7===r)return n[2]=n[2],n[1]=3,Gn;if(1===r)return n[2]=null,n[1]=2,Gn;if(4===r){r=n[2];var t=a();n[7]=r;n[1]=t?5:6;return Gn}return 6===r?(n[2]=null,n[1]=7,Gn):3===r?$P(n,n[2]):2===r?(r=z(b.bb),t=TP(e),n[8]=r,YP(n,4,t)):9===r?(n[2]=null,n[1]=10,Gn):5===r?(r=n[8],t=z(b.bb),r=D.Dh(r,t),n[1]=r?8:9,Gn):10===r?(n[9]=n[2],n[2]=null,
n[1]=2,Gn):8===r?(r=new W(null,1,5,Y,[To],null),t=Zj([rp],[!0]),r=c.Fe(null,r,t),n[2]=r,n[1]=10,Gn):null}return function(){function n(w){for(;;){a:try{for(;;){var y=m(w);if(!S(y,Gn)){var E=y;break a}}}catch(I){E=I;w[2]=E;if(F(w[4]))w[1]=H(w[4]);else throw E;E=Gn}if(!S(E,Gn))return E}}function r(){var w=[null,null,null,null,null,null,null,null,null,null];w[0]=t;w[1]=1;return w}var t=null;t=function(w){switch(arguments.length){case 0:return r.call(this);case 1:return n.call(this,w)}throw Error("Invalid arity: "+
arguments.length);};t.Nh=r;t.Eh=n;return t}()}(),k=function(){var m=h();m[6]=f;return m}();return XP(k)})}Nh(b.eb,0);(function k(){if(a()){var m=function(){if(a()){var E=Oh.Dh(b.eb,Xe),I=b.Ba.Eh?b.Ba.Eh(E):b.Ba.call(null,E),G=rS()+I;rT(bz,1147,new Al(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",E,I],null)}),-1574870280);la.setTimeout(k,I);return KT(c,function(J){return Q.Gh(J,Av,G)})}return null},n=function(E){rT(Ap,1160,new Al(function(){var I=Y;
try{var G=Ol(E)}catch(J){G=E}return new W(null,2,5,I,["WebSocket error: %s",G],null)}),-325092696);return KT(c,function(I){return Q.Gh(I,Jr,new p(null,2,[Tn,rS(),Vz,E],null))})},r=function(E){E=WR(E,"data");E=zT(b.Da,E);var I=P(E,0,null);E=P(E,1,null);Nh(b.bb,rS());if(OT(I)){PT(oq,c,I);Nh(b.eb,0);var G=zp}else G=null;if(q(G))return G;D.Dh(I,To)?(dQ(Wq.Eh(b.Ea),new W(null,1,5,Y,[To],null)),G=Fp):G=null;return q(G)?G:q(E)?(E=JT(b.Xa,E),q(E)?E.Eh?E.Eh(I):E.call(null,I):rT(bz,1204,new Al(function(){return new W(null,
2,5,Y,["Cb reply w/o local cb-fn: %s",I],null)}),-1002999308)):NT(b.Ea,I)},t=function(E){var I=new p(null,5,[Tn,rS(),Vz,E,Mo,WR(E,"wasClean"),uq,WR(E,"code"),XA,WR(E,"reason")],null);if(q(Mo.Eh(I)))return rT(Qw,1230,new Al(function(){return new W(null,1,5,Y,["Clean WebSocket close, will not attempt reconnect"],null)}),1108729928),KT(c,function(G){return Q.Gh(G,gy,I)});KT(c,function(G){return Q.Gh(LT(G,es),gy,I)});return m()},w=function(){try{return RT(new p(null,5,[Su,n,$p,r,bB,t,Ym,b.headers,tr,
TS(b.url,wk.Ih(O([b.params,new p(null,2,[zt,b.Fa,Pr,Pr.Eh(z(b.oa))],null)])))],null))}catch(I){var E=I;rT(Ap,1253,new Al(function(){return new W(null,2,5,Y,[E,"WebSocket error"],null)}),1962082981);return null}}();if(Hc(w))return m();var y=z(b.ab);q(y)&&y.close();return Nh(b.ab,w)}return null})();return c};
function TT(a,b){a=wk.Ih(O([new p(null,7,[xy,Mh(new p(null,4,[eq,oq,Xx,!1,nt,!1,Pr,b],null)),vr,Mh(null),Zt,Mh(0),sy,Mh(!1),Ix,Mh(V),Ez,Mh(null),Ot,Mh(null)],null),a]));b=R.Ih(a,zt,O([Ow,Wt,Ym,Ay,jy,jx,xy,vr,Zt,sy,oz,Ix,Ez,Ot]));b=Pf(a)?ki.Dh(V,b):b;return new ST(zt.Eh(a),Ow.Eh(a),Wt.Eh(a),Ym.Eh(a),Ay.Eh(a),jy.Eh(a),jx.Eh(a),xy.Eh(a),vr.Eh(a),Zt.Eh(a),sy.Eh(a),oz.Eh(a),Ix.Eh(a),Ez.Eh(a),Ot.Eh(a),null,wh(b),null)}var UT=GS.Ih(O([bs,60]));
function VT(a,b,c,d,e,f,h,k,m,n,r,t,w,y){this.Fa=a;this.Ea=b;this.params=c;this.Da=d;this.url=e;this.oa=f;this.Aa=h;this.Ha=k;this.Ba=m;this.gb=n;this.ob=r;this.Jh=t;this.Hh=w;this.Kh=y;this.Lh=2230716170;this.Qh=139264}g=VT.prototype;g.ja=function(a,b){return this.Ph(null,b,null)};
g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "client-id":return this.Fa;case "chs":return this.Ea;case "params":return this.params;case "packer":return this.Da;case "url":return this.url;case "state_":return this.oa;case "instance-handle_":return this.Aa;case "ever-opened?_":return this.Ha;case "backoff-ms-fn":return this.Ba;case "ajax-opts":return this.gb;case "curr-xhr_":return this.ob;default:return B.Gh(this.Hh,b,c)}};
g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#taoensso.sente.ChAjaxSocket{",", ","}",c,T.Dh(new W(null,11,5,Y,[new W(null,2,5,Y,[zt,this.Fa],null),new W(null,2,5,Y,[Ow,this.Ea],null),new W(null,2,5,Y,[Wt,this.params],null),new W(null,2,5,Y,[Ay,this.Da],null),new W(null,2,5,Y,[jy,this.url],null),new W(null,2,5,Y,[xy,this.oa],null),new W(null,2,5,Y,[vr,this.Aa],null),new W(null,2,5,Y,[sy,this.Ha],null),new W(null,2,5,Y,[oz,this.Ba],null),new W(null,2,5,Y,[hB,this.gb],null),
new W(null,2,5,Y,[LA,this.ob],null)],null),this.Hh))};g.ma=function(){return new hj(this,11,new W(null,11,5,Y,[zt,Ow,Wt,Ay,jy,xy,vr,sy,oz,hB,LA],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 11+M(this.Hh)};g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-266770752^Ve(this)};
g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Fa,b.Fa)&&D.Dh(this.Ea,b.Ea)&&D.Dh(this.params,b.params)&&D.Dh(this.Da,b.Da)&&D.Dh(this.url,b.url)&&D.Dh(this.oa,b.oa)&&D.Dh(this.Aa,b.Aa)&&D.Dh(this.Ha,b.Ha)&&D.Dh(this.Ba,b.Ba)&&D.Dh(this.gb,b.gb)&&D.Dh(this.ob,b.ob)&&D.Dh(this.Hh,b.Hh)};
g.ua=function(a,b){return Yf(new Bk(null,new p(null,11,[LA,null,sy,null,zt,null,Ay,null,Ow,null,Wt,null,oz,null,jy,null,vr,null,hB,null,xy,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(zt,b):S.call(null,zt,b))?new VT(c,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ow,b):S.call(null,Ow,b))?new VT(this.Fa,c,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Wt,b):S.call(null,Wt,b))?new VT(this.Fa,this.Ea,c,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Ay,b):
S.call(null,Ay,b))?new VT(this.Fa,this.Ea,this.params,c,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(jy,b):S.call(null,jy,b))?new VT(this.Fa,this.Ea,this.params,this.Da,c,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xy,b):S.call(null,xy,b))?new VT(this.Fa,this.Ea,this.params,this.Da,this.url,c,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(vr,b):S.call(null,vr,b))?new VT(this.Fa,this.Ea,this.params,
this.Da,this.url,this.oa,c,this.Ha,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(sy,b):S.call(null,sy,b))?new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,c,this.Ba,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(oz,b):S.call(null,oz,b))?new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,c,this.gb,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(hB,b):S.call(null,hB,b))?new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,
c,this.ob,this.Jh,this.Hh,null):q(S.Dh?S.Dh(LA,b):S.call(null,LA,b))?new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,c,this.Jh,this.Hh,null):new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,11,5,Y,[new X(zt,this.Fa),new X(Ow,this.Ea),new X(Wt,this.params),new X(Ay,this.Da),new X(jy,this.url),new X(xy,this.oa),new X(vr,this.Aa),new X(sy,this.Ha),new X(oz,this.Ba),new X(hB,this.gb),new X(LA,this.ob)],null),this.Hh))};g.da=function(a,b){return new VT(this.Fa,this.Ea,this.params,this.Da,this.url,this.oa,this.Aa,this.Ha,this.Ba,this.gb,this.ob,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};
g.bf=function(a,b){Nh(this.Aa,null);KT(this,function(c){return LT(c,b)});a=z(this.ob);return q(a)?a.abort():null};
g.Fe=function(a,b,c){function d(n){var r=null!=n&&(n.Lh&64||l===n.va)?qh(sk,n):n;n=B.Dh(r,aq);r=B.Dh(r,Zs);if(q(n)){if(D.Dh(n,ru))return q(k)?k.Eh?k.Eh(Mn):k.call(null,Mn):null;KT(f,function(w){return LT(w,es)});return q(k)?k.Eh?k.Eh(xm):k.call(null,xm):null}n=zT(e.Da,r);var t=P(n,0,null);P(n,1,null);q(k)?k.Eh?k.Eh(t):k.call(null,t):vh.Dh(t,OA)&&rT(bz,1377,new Al(function(){return new W(null,2,5,Y,["Cb reply w/o local cb-fn: %s",t],null)}),-1203440316);return KT(f,function(w){return Q.Gh(w,Xx,!0)})}
var e=this,f=this;a=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c;var h=B.Dh(a,Yn);c=B.Dh(a,EA);B.Dh(a,rp);yT(b);var k=MT(c,b);if(Hc(Xx.Eh(z(e.oa))))return IT(k);var m=Pr.Eh(z(e.oa));a=e.url;c=wk.Ih(O([e.gb,new p(null,5,[Gu,aA,Yn,function(){if(q(h))return h;var n=Yn.Eh(e.gb);return q(n)?n:UT}(),zA,Ht,Ym,wk.Ih(O([Ym.Eh(e.gb),new p(null,1,[wx,m],null)])),Wt,function(){var n=AT(e.Da,b,q(k)?pw:null);return wk.Ih(O([e.params,new p(null,4,[Tn,rS(),Pr,m,zt,e.Fa,GA,n],null)]))}()],null)]));MS.Gh?MS.Gh(a,c,d):MS.call(null,
a,c,d);return vm};
g.Xd=function(){var a=this,b=this,c=Nh(a.Aa,FS());(function f(e){rT(kw,1387,new Al(function(){return new W(null,1,5,Y,["async-poll-for-update!"],null)}),1220208415);if(D.Dh(z(a.Aa),c)){var h=function(){if(D.Dh(z(a.Aa),c)){var k=e+1,m=a.Ba.Eh?a.Ba.Eh(k):a.Ba.call(null,k),n=rS()+m;rT(bz,1395,new Al(function(){return new W(null,3,5,Y,["Chsk is closed: will try reconnect attempt (%s) in %s ms",k,m],null)}),368250375);la.setTimeout(function(){return f(k)},m);return KT(b,function(r){return Q.Gh(r,Av,n)})}return null};
return Nh(a.ob,function(){function k(r){var t=null!=r&&(r.Lh&64||l===r.va)?qh(sk,r):r;r=B.Dh(t,aq);t=B.Dh(t,Zs);if(q(r)){if(D.Dh(r,ru))return f(0);KT(b,function(w){return LT(w,es)});return h()}r=zT(a.Da,t);r=P(r,0,null);(t=OT(r))&&PT(lz,b,r);KT(b,function(w){return Q.Gh(w,Xx,!0)});f(0);if(t)return null;D.Dh(r,Mn)?(q(z(vT))&&NT(a.Ea,new W(null,1,5,Y,[new W(null,1,5,Y,[Vo],null)],null)),t=Fp):t=null;return q(t)?t:NT(a.Ea,r)}var m=a.url,n=wk.Ih(O([a.gb,new p(null,5,[Gu,Cu,Yn,function(){var r=Yn.Eh(a.gb);
return q(r)?r:UT}(),zA,Ht,Wt,wk.Ih(O([a.params,new p(null,2,[Tn,rS(),zt,a.Fa],null),q(Xx.Eh(z(a.oa)))?null:new p(null,1,[tp,!0],null)])),Ym,wk.Ih(O([Ym.Eh(a.gb),new p(null,1,[wx,Pr.Eh(z(a.oa))],null)]))],null)]));return MS.Gh?MS.Gh(m,n,k):MS.call(null,m,n,k)}())}return null})(0);return b};
function WT(a,b){a=wk.Ih(O([new p(null,4,[xy,Mh(new p(null,4,[eq,lz,Xx,!1,nt,!1,Pr,b],null)),vr,Mh(null),sy,Mh(!1),LA,Mh(null)],null),a]));b=R.Ih(a,zt,O([Ow,Wt,Ay,jy,xy,vr,sy,oz,hB,LA]));b=Pf(a)?ki.Dh(V,b):b;return new VT(zt.Eh(a),Ow.Eh(a),Wt.Eh(a),Ay.Eh(a),jy.Eh(a),xy.Eh(a),vr.Eh(a),sy.Eh(a),oz.Eh(a),hB.Eh(a),LA.Eh(a),null,wh(b),null)}function XT(a,b,c,d,e,f,h){this.Dc=a;this.sc=b;this.oa=c;this.Yb=d;this.Jh=e;this.Hh=f;this.Kh=h;this.Lh=2230716170;this.Qh=139264}g=XT.prototype;
g.ja=function(a,b){return this.Ph(null,b,null)};g.Ph=function(a,b,c){switch(b instanceof C?b.la:null){case "ws-chsk-opts":return this.Dc;case "ajax-chsk-opts":return this.sc;case "state_":return this.oa;case "impl_":return this.Yb;default:return B.Gh(this.Hh,b,c)}};g.ta=function(a,b,c){return v.Gh(function(d,e){var f=P(e,0,null);e=P(e,1,null);return b.Gh?b.Gh(d,f,e):b.call(null,d,f,e)},c,this)};
g.ea=function(a,b,c){return Z(b,function(d){return Z(b,jl,""," ","",c,d)},"#taoensso.sente.ChAutoSocket{",", ","}",c,T.Dh(new W(null,4,5,Y,[new W(null,2,5,Y,[Gw,this.Dc],null),new W(null,2,5,Y,[Sn,this.sc],null),new W(null,2,5,Y,[xy,this.oa],null),new W(null,2,5,Y,[hq,this.Yb],null)],null),this.Hh))};g.ma=function(){return new hj(this,4,new W(null,4,5,Y,[Gw,Sn,xy,hq],null),q(this.Hh)?ue(this.Hh):xh())};g.ca=function(){return this.Jh};g.ga=function(){return 4+M(this.Hh)};
g.ha=function(){var a=this.Kh;return null!=a?a:this.Kh=a=-1193508708^Ve(this)};g.$=function(a,b){return null!=b&&this.constructor===b.constructor&&D.Dh(this.Dc,b.Dc)&&D.Dh(this.sc,b.sc)&&D.Dh(this.oa,b.oa)&&D.Dh(this.Yb,b.Yb)&&D.Dh(this.Hh,b.Hh)};g.ua=function(a,b){return Yf(new Bk(null,new p(null,4,[hq,null,Gw,null,xy,null,Sn,null],null),null),b)?R.Dh(Fd(ki.Dh(V,this),this.Jh),b):new XT(this.Dc,this.sc,this.oa,this.Yb,this.Jh,wh(R.Dh(this.Hh,b)),null)};
g.aa=function(a,b,c){return q(S.Dh?S.Dh(Gw,b):S.call(null,Gw,b))?new XT(c,this.sc,this.oa,this.Yb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(Sn,b):S.call(null,Sn,b))?new XT(this.Dc,c,this.oa,this.Yb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(xy,b):S.call(null,xy,b))?new XT(this.Dc,this.sc,c,this.Yb,this.Jh,this.Hh,null):q(S.Dh?S.Dh(hq,b):S.call(null,hq,b))?new XT(this.Dc,this.sc,this.oa,c,this.Jh,this.Hh,null):new XT(this.Dc,this.sc,this.oa,this.Yb,this.Jh,Q.Gh(this.Hh,b,c),null)};
g.fa=function(){return F(T.Dh(new W(null,4,5,Y,[new X(Gw,this.Dc),new X(Sn,this.sc),new X(xy,this.oa),new X(hq,this.Yb)],null),this.Hh))};g.da=function(a,b){return new XT(this.Dc,this.sc,this.oa,this.Yb,b,this.Hh,this.Kh)};g.ia=function(a,b){return Qf(b)?this.aa(null,x(b,0),x(b,1)):v.Gh(bd,this,b)};g.bf=function(a,b){a=z(this.Yb);return q(a)?FT(a,b):null};g.Fe=function(a,b,c){a=z(this.Yb);if(q(a))return GT(a,b,c);c=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c;c=B.Dh(c,EA);b=MT(c,b);return IT(b)};
g.Xd=function(){function a(){var f=Mh(!1);zl(c.oa,function(h,k,m,n){h=z(c.Yb);if(q(h)&&(k=sy.Eh(h),q(k))){if(q(z(k)))return null;if(q(Jr.Eh(n))&&Ph(f))return rT(bz,1528,new Al(function(){return new W(null,1,5,Y,["Permanently downgrading :auto chsk -\x3e :ajax"],null)}),1899171339),FT(h,bo),Nh(c.Yb,b())}return null});return TT(e,Pr.Eh(z(c.oa))).Xd(null)}function b(){be(c.oa);return WT(d,Pr.Eh(z(c.oa))).Xd(null)}var c=this,d=Q.Gh(c.sc,xy,c.oa),e=Q.Gh(c.Dc,xy,c.oa);Nh(c.Yb,function(){var f=a();return q(f)?
f:b()}());return this};function YT(a,b,c,d){var e=function(){switch(a instanceof C?a.la:null){case "http":return"http:";case "https":return"https:";default:return a}}(),f=function(){var h=d instanceof C?d.la:null;switch(h){case "ajax":return e;case "ws":switch(e){case "https:":return"wss:";case "http:":return"ws:";default:throw Error(["No matching clause: ",u.Eh(e)].join(""));}default:throw Error(["No matching clause: ",u.Eh(h)].join(""));}}();return[u.Eh(f),"//",ES(O([b,c]))].join("")}
function aU(a,b,c){function d(n){return n.Nh?n.Nh():n.call(null)}var e=Hc(vo);c=null!=c&&(c.Lh&64||l===c.va)?qh(sk,c):c;var f=B.Dh(c,yu),h=B.Dh(c,vt);B.Dh(c,bA);var k=bQ(null,null),m=bQ(1,null);CP(function(){var n=function(){function t(w){var y=w[1];if(7===y)return w[2]=w[2],w[1]=3,Gn;if(1===y)return w[2]=null,w[1]=2,Gn;if(4===y){y=w[9];y=w[2];var E=P(y,0,null),I=P(y,1,null),G=D.Dh(I,k)||null==E;w[7]=G;w[8]=y;w[9]=E;w[10]=I;w[1]=q(G)?5:6;return Gn}if(15===y)return y=w[9],w[2]=y,w[1]=16,Gn;if(13===
y)return w[2]=w[2],w[1]=10,Gn;if(6===y)return y=w[9],w[1]=Hc(null==y)?8:9,Gn;if(3===y)return $P(w,w[2]);if(12===y)return w[2]=!1,w[1]=13,Gn;if(2===y)return jQ(w,4,new W(null,2,5,Y,[a,k],null));if(11===y)return w[2]=!0,w[1]=13,Gn;if(9===y)return w[2]=!1,w[1]=10,Gn;if(5===y)return w[2]=null,w[1]=7,Gn;if(14===y)return y=w[9],y=qh(sk,y),w[2]=y,w[1]=16,Gn;if(16===y){y=w[9];var J=w[2],N=B.Dh(J,Ep);y=d(function(){return function(){try{q(f)&&rT(kw,1727,new Al(function(){return new W(null,2,5,Y,["Pre-handler event: %s",
N],null)}),-2095676649);var U=q(e)?function(){try{if(Of(J)&&cS(new Bk(null,new p(null,11,[Iv,null,or,null,zt,null,Vw,null,ip,null,Ep,null,$A,null,Us,null,ku,null,fu,null,Ft,null],null),null),J)){var ma=null!=J&&(J.Lh&64||l===J.va)?qh(sk,J):J,xa=B.Dh(ma,or),Na=B.Dh(ma,Ft),fa=B.Dh(ma,Vw),na=B.Dh(ma,Us),Ba=B.Dh(ma,ku),ta=B.Dh(ma,zt),Da=B.Dh(ma,Ep),Ta=B.Dh(ma,Iv);var Hb=xa instanceof JP&&Wf(Na)&&fa instanceof Lh&&na instanceof Lh&&Of(Ba)&&"string"===typeof ta&&!KB(ta)&&null==xT(Da)&&(null==Ta||Wf(Ta))}else Hb=
!1;var hc=Hb?null:GR}catch(zb){if(zb instanceof Error)hc=zb;else throw zb;}return null==hc?J:HR(1730,"(server-event-msg? event-msg)",J,hc)}():function(){try{if(Of(J)&&cS(new Bk(null,new p(null,6,[or,null,ho,null,Ep,null,$A,null,fu,null,Ft,null],null),null),J)){var ma=null!=J&&(J.Lh&64||l===J.va)?qh(sk,J):J,xa=B.Dh(ma,or),Na=B.Dh(ma,Ft),fa=B.Dh(ma,ho),na=B.Dh(ma,Ep);var Ba=xa instanceof JP&&Wf(Na)&&fa instanceof Lh&&null==xT(na)}else Ba=!1;var ta=Ba?null:GR}catch(Da){if(Da instanceof Error)ta=Da;else throw Da;
}return null==ta?J:HR(1731,"(client-event-msg? event-msg)",J,ta)}();return b.Eh?b.Eh(U):b.call(null,U)}catch(ma){var da=ma;try{return q(h)?h.Dh?h.Dh(da,J):h.call(null,da,J):rT(Ap,1736,new Al(function(){return new W(null,3,5,Y,[da,"Chsk router `event-msg-handler` error: %s",N],null)}),-796422484)}catch(xa){var wa=xa;return rT(Ap,1737,new Al(function(){return new W(null,3,5,Y,[wa,"Chsk router `error-handler` error: %s",N],null)}),838752732)}}}}());w[11]=y;w[2]=null;w[1]=2;return Gn}return 10===y?(w[1]=
q(w[2])?14:15,Gn):8===y?(y=w[9],E=l===y.va,w[1]=q(y.Lh&64||E)?11:12,Gn):null}return function(){function w(I){for(;;){a:try{for(;;){var G=t(I);if(!S(G,Gn)){var J=G;break a}}}catch(N){J=N;I[2]=J;if(F(I[4]))I[1]=H(I[4]);else throw J;J=Gn}if(!S(J,Gn))return J}}function y(){var I=[null,null,null,null,null,null,null,null,null,null,null,null];I[0]=E;I[1]=1;return I}var E=null;E=function(I){switch(arguments.length){case 0:return y.call(this);case 1:return w.call(this,I)}throw Error("Invalid arity: "+arguments.length);
};E.Nh=y;E.Eh=w;return E}()}(),r=function(){var t=n();t[6]=m;return t}();return XP(r)});return function(){return WO(k)}}function bU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;d=2<b.length?new Me(b.slice(2),0,null):null;b=arguments[0];c=arguments[1];d=P(d,0,null);d=null!=d&&(d.Lh&64||l===d.va)?qh(sk,d):d;B.Dh(d,yu);B.Dh(d,vt);return aU(b,c,d)};var cU={},dU={},eU=[];function fU(a,b){var c=dU[a];if(void 0!==c)return c;try{eU.push(a);var d=cU[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};cU[a]=d}if(e){delete shadow$provide[a];try{e.call(d,la,fU,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{eU.pop()}return d.exports}fU.cache={};fU.resolve=function(a){return a};var gU=fU(5,{});Ga("React",gU);var hU=fU(14,{});gU.DOM=hU;Ga("ReactDOM",hU);var JU=Rh(V);function KU(a){if(a instanceof C||"string"===typeof a||a instanceof A){var b=B.Dh(z(JU),a);if(q(b))return b;if("string"===typeof a)b=a;else{b=Tg(a).split("-");var c=F(b);b=H(c);c=K(c);b=Kf(c)||D.Dh("aria",b)||D.Dh("data",b)?a:Sg.Eh(DC(zf.Dh(Vh.Dh(EC,c),b)))}JU.Qc(null,Q.Gh(JU.wb(null),a,b));return b}return a}var LU=function LU(a){return Of(a)?(a=ee(ng(function(c,d,e){return jh.Gh(c,KU(d),e)},ce(V),a)),Of(qe.Eh(a))?si.Gh(a,qe,LU):a):a};
function MU(a){return Qf(a)&&P(a,0,null)instanceof C};function NU(a){return"string"===typeof a?a:a instanceof C?Tg(a):a}function OU(a){return Kg(a)&&H(a)instanceof C}function PU(a){return null==a?null:OU(a)?new W(null,1,5,Y,[a],null):Kg(a)?H(a)instanceof A?new W(null,1,5,Y,[a],null):Vh.Dh(NU,a):a instanceof A?new W(null,1,5,Y,[a],null):"string"===typeof a?new W(null,1,5,Y,[a],null):a instanceof C?new W(null,1,5,Y,[NU(a)],null):(Mf(a)||Nf(a))&&Bh(function(b){return b instanceof C||"string"===typeof b},a)?li.Dh(NU,a):Mf(a)||Nf(a)?li.Dh(NU,a):a}
function fV(a){return q(OB.Eh(a))?si.Gh(a,OB,PU):a}function gV(a){return q(a)?FB(a,/^[.#]/,""):null}
function hV(a){var b=al(/[#.]?[^#.]+/,Tg(a));if(Kf(b))throw om(["Can't match CSS tag: ",u.Eh(a)].join(""),new p(null,1,[Wu,a],null));b=Yf(new Bk(null,new p(null,2,["#",null,".",null],null),null),xf(b))?new W(null,2,5,Y,["div",b],null):new W(null,2,5,Y,[H(b),Oe(b)],null);a=P(b,0,null);b=P(b,1,null);return new W(null,3,5,Y,[a,gV(Ch(function(c){return D.Dh("#",H(c))?c:null},b)),ki.Gh(Af,Jh(function(c){return D.Dh(".",H(c))?gV(c):null}),b)],null)}
var iV=function iV(a){null==a?a=Pe:"string"===typeof a?a=new Bf(null,a,null,1,null):MU(a)?a=new Bf(null,a,null,1,null):Kg(a)&&H(a)instanceof A?a=new Bf(null,a,null,1,null):Kg(a)||(Nf(a)&&D.Dh(M(a),1)&&Nf(H(a))&&"string"!==typeof H(a)&&!MU(H(a))?(a=H(a),a=iV.Eh?iV.Eh(a):iV.call(null,a)):a=Nf(a)?a:new Bf(null,a,null,1,null));return ji(Ec,a)};function jV(a){return v.Gh(function(b,c){b.push(kV.Eh?kV.Eh(c):kV.call(null,c));return b},[],a)}
function kV(a){if(Qf(a))if(MU(a)){a=F(a);var b=H(a);a=K(a);if(!(b instanceof C||b instanceof A||"string"===typeof b))throw om([u.Eh(b)," is not a valid element name."].join(""),new p(null,2,[Wu,b,Fu,a],null));var c=hV(b);b=P(c,0,null);var d=P(c,1,null);c=P(c,2,null);d=Kf(d)?V:Q.Gh(V,$A,d);c=Kf(c)?d:Q.Gh(d,OB,c);var e=H(a);Of(e)?(d=Y,e=Vh.Dh(fV,O([c,e])),c=gi(OB,O([e])),F(e)?(e=v.Gh(ki,V,e),c=Kf(c)?e:Q.Gh(e,OB,kg(c))):c=null,a=new W(null,3,5,d,[b,c,iV(K(a))],null)):a=new W(null,3,5,Y,[b,fV(c),iV(a)],
null);b=a;a=P(b,0,null);d=P(b,1,null);b=P(b,2,null);d=Kl(vO(LU(d)));q(d)?(c=d.className,c=Fc(c)?GB(" ",c):c,KB(c)?delete d.className:d.className=c):d=null;b=jV(b);a=React.createElement.apply(null,[a,d].concat(b))}else a=jV(a);else a=Uf(a)?jV(a):a;return a};function iU(a,b,c){return c?React.createElement.apply(null,[a,b].concat(c)):React.createElement(a,b)};function jU(a,b){return ki.Gh(Af,Jh(function(c){return B.Dh(c,a)}),b)}function kU(a,b){return ki.Gh(Af,Gh.Dh(Vh.Eh(function(c){return Kh(function(d){return B.Dh(c,d)},a)}),Gl),b)}function lU(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=2<b.length?new Me(b.slice(2),0,null):null;return mU(arguments[0],arguments[1],b)}function mU(a,b,c){return v.Gh(function(d,e){return rh(e,d,c)},a,b)};function nU(a){return rb(a.state,":rum/state")}function oU(a,b){b=F(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.wa(null,e),h=P(f,0,null);f=P(f,1,null);null!=f&&(h=Tg(h),f=Kl(f),a[h]=f);e+=1}else if(b=F(b))Rf(b)?(d=ke(b),b=le(b),c=d,d=M(d)):(c=H(b),h=P(c,0,null),f=P(c,1,null),null!=f&&(c=Tg(h),d=Kl(f),a[c]=d),b=K(b),c=null,d=0),e=0;else break}
function pU(a,b,c){function d(G){this.state={":rum/state":Rh(mU(Q.Gh(rb(G,":rum/initial-state"),Co,this),e,O([G])))};return React.Component.call(this,G)}Fk(gi(qj,O([b])));var e=jU(Bs,b),f=kU(new W(null,2,5,Y,[dy,Gv],null),b),h=jU(Cq,b),k=v.Gh(function(G,J){return J.Eh?J.Eh(G):J.call(null,G)},a,h),m=kU(new W(null,2,5,Y,[yz,as],null),b),n=jU(vv,b),r=jU(Bz,b),t=kU(new W(null,2,5,Y,[Rr,Gv],null),b),w=kU(new W(null,2,5,Y,[en,as],null),b),y=jU(yv,b),E=jU(Yr,b),I=jU(On,b);a=v.Dh(wk,jU(Hm,b));b=v.Dh(wk,jU(qy,
b));Ha(d,React.Component);h=rb(d,"prototype");Kf(f)||sb(h,"componentWillMount",function(){return se(nU(this),lU(z(nU(this)),f))});Kf(m)||sb(h,"componentDidMount",function(){return se(nU(this),lU(z(nU(this)),m))});sb(h,"componentWillReceiveProps",function(G){var J=z(nU(this));G=wk.Ih(O([J,rb(G,":rum/initial-state")]));G=v.Gh(function(N,U){return U.Dh?U.Dh(J,N):U.call(null,J,N)},G,n);return this.setState({":rum/state":Rh(G)})});Kf(r)||sb(h,"shouldComponentUpdate",function(G,J){var N=z(nU(this)),U=z(rb(J,
":rum/state"));G=Ch(function(da){return da.Dh?da.Dh(N,U):da.call(null,N,U)},r);return q(G)?G:!1});Kf(t)||sb(h,"componentWillUpdate",function(G,J){G=rb(J,":rum/state");return se(G,lU(z(G),t))});sb(h,"render",function(){var G=nU(this),J=z(G);var N=k.Eh?k.Eh(J):k.call(null,J);J=P(N,0,null);N=P(N,1,null);se(G,N);return J});Kf(w)||sb(h,"componentDidUpdate",function(){return se(nU(this),lU(z(nU(this)),w))});Kf(y)||sb(h,"componentDidCatch",function(G,J){se(nU(this),mU(z(nU(this)),y,O([G,new p(null,1,[yy,
rb(J,"componentStack")],null)])));return this.forceUpdate()});sb(h,"componentWillUnmount",function(){Kf(E)||se(nU(this),lU(z(nU(this)),E));this[":rum/unmounted?"]=!0});Kf(I)||sb(h,"getChildContext",function(){var G=z(nU(this));return Kl(rg(Vh.Eh(function(J){return J.Eh?J.Eh(G):J.call(null,G)}),wk,V,I))});oU(h,a);d.displayName=c;oU(d,b);return d}
function qU(a){function b(){var c=a.Nh?a.Nh():a.call(null);return c.apply(c,arguments)}b.ge=l;b.ca=function(){return If(a.Nh?a.Nh():a.call(null))};return b}function rU(a,b,c){var d=sU;return qU(La(function(){return d.Gh?d.Gh(a,b,c):d.call(null,a,b,c)}))}
function tU(a,b,c){var d=pU(a,b,c),e=H(jU(hz,b));return Hf(null!=e?function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){k={":rum/initial-state":new p(null,1,[Tv,k],null),key:qh(e,k)};return React.createElement(d,k)}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}():function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-
0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/initial-state":new p(null,1,[Tv,k],null)})}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}(),new p(null,1,[Hs,d],null))}function uU(a,b){return D.Dh(a[":rum/args"],b[":rum/args"])}function vU(a){var b=React.memo;return null==b?a:b.Dh?b.Dh(a,uU):b.call(null,a,uU)}
function sU(a,b,c){if(D.Dh(b,new W(null,1,5,Y,[wU],null))){var d=function(f){return qh(a,f[":rum/args"])};d.displayName=c;var e=vU(d);b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(e,{":rum/args":k})}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}();return Hf(b,new p(null,1,[Hs,e],null))}return Kf(b)?(d=function(f){return qh(a,
f[":rum/args"])},d.displayName=c,b=function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new Me(n,0,null)}return h.call(this,m)}function h(k){return React.createElement(d,{":rum/args":k})}f.Sh=0;f.ba=function(k){k=F(k);return h(k)};f.Ih=h;return f}(),Hf(b,new p(null,1,[Hs,d],null))):tU(function(f){return new W(null,2,5,Y,[qh(a,Tv.Eh(f)),f],null)},b,c)}
function xU(){var a=lV();ReactDOM.render(a,document.getElementById("app"));return null}var wU=new p(null,1,[Bz,function(a,b){return vh.Dh(Tv.Eh(a),Tv.Eh(b))}],null);var mV=fU(15,{});var zU=fU(16,{});var AU=fU(69,{});var nV=fU(70,{});var BU=fU(71,{});fU(72,{});var pV=function(a,b,c){var d=P(c,0,null),e=null!=d&&(d.Lh&64||l===d.va)?qh(sk,d):d,f=B.Dh(e,hB),h=B.Gh(e,jx,GS.Ih(O([bs,20]))),k=B.Gh(e,zt,function(){var fa=Xr.Eh(e);return q(fa)?fa:FS()}()),m=B.Dh(e,KA),n=B.Gh(e,Ay,iv),r=B.Dh(e,Wt),t=B.Gh(e,eq,Zq),w=B.Dh(e,Ln),y=B.Dh(e,Ym),E=B.Dh(e,Qq);d=B.Gh(e,pB,fP(2048));var I=B.Gh(e,oz,SR),G=B.Gh(e,Yv,!0);null!=P(c,1,null)&&rT(bz,1594,new Al(function(){return new W(null,1,5,Y,["`make-channel-socket-client!` fn signature CHANGED with Sente v0.10.0."],null)}),
2086758034);Yf(e,Pm)&&rT(bz,1595,new Al(function(){return new W(null,1,5,Y,[":lp-timeout opt has CHANGED; please use :lp-timout-ms."],null)}),965687827);("string"!==typeof b||KB(b))&&rT(bz,1598,new Al(function(){return new W(null,1,5,Y,["WARNING: no CSRF token provided. Connections will FAIL if server-side CSRF check is enabled (as it is by default)."],null)}),864307142);var J=DT(n);n=function(){if(q(TR)){var fa=TR.location;var na=q(fa)?new p(null,7,[bq,fa.href,KA,fa.protocol,bu,fa.hostname,Qq,fa.host,
Rp,fa.pathname,Fq,fa.search,Yz,fa.hash],null):null}else na=null;fa=q(a)?a:Rp.Eh(na);var Ba=qz.Eh(e);if(q(Ba))return new W(null,2,5,Y,[Ba.Gh?Ba.Gh(fa,na,oq):Ba.call(null,fa,na,oq),Ba.Gh?Ba.Gh(fa,na,lz):Ba.call(null,fa,na,lz)],null);q(m)?Ba=m:(Ba=KA.Eh(na),Ba=q(Ba)?Ba:Pn);na=q(E)?q(w)?[u.Eh(E),":",u.Eh(w)].join(""):E:q(w)?[u.Eh(bu.Eh(na)),":",u.Eh(w)].join(""):Qq.Eh(na);return new W(null,2,5,Y,[YT(Ba,na,fa,oq),YT(Ba,na,fa,lz)],null)}();c=P(n,0,null);var N=P(n,1,null);n=new p(null,3,[Hr,bQ(fP(128),null),
ho,bQ(fP(10),null),Wq,function(){var fa=fP(512);return q(G)?aQ(fa,Vh.Eh(function(na){return new W(null,2,5,Y,[qA,na],null)})):bQ(fa,null)}()],null);h=new p(null,6,[zt,k,Ow,n,Wt,r,Ym,y,Ay,J,jx,h],null);var U=wk.Ih(O([h,new p(null,2,[jy,c,oz,I],null)])),da=wk.Ih(O([h,new p(null,3,[jy,N,hB,f,oz,I],null)])),wa=new p(null,2,[Gw,U,Sn,da],null);f=ET(function(){var fa=t instanceof C?t.la:null;switch(fa){case "ws":return TT(U,b);case "ajax":return WT(da,b);case "auto":fa=wk.Ih(O([new p(null,2,[xy,Mh(new p(null,
4,[eq,Zq,Xx,!1,nt,!1,Pr,b],null)),hq,Mh(null)],null),wa]));var na=R.Ih(fa,Gw,O([Sn,xy,hq]));na=Pf(fa)?ki.Dh(V,na):na;return new XT(Gw.Eh(fa),Sn.Eh(fa),xy.Eh(fa),hq.Eh(fa),null,wh(na),null);default:throw Error(["No matching clause: ",u.Eh(fa)].join(""));}}());if(q(f)){var ma=xy.Eh(f),xa=Hr.Eh(n),Na=Hh(HT,f);d=lQ(new W(null,3,5,Y,[Hr.Eh(n),ho.Eh(n),Wq.Eh(n)],null),d);I=aQ(1,Vh.Eh(function(fa){var na=xT(fa);fa=q(na)?new W(null,2,5,Y,[Yy,fa],null):fa;na=P(fa,0,null);var Ba=P(fa,1,null);return new p(null,
6,[or,xa,Ft,Na,ho,ma,Ep,fa,$A,na,fu,Ba],null)}));iQ(d,I);return new p(null,4,[tt,f,or,I,Ft,Na,ho,xy.Eh(f)],null)}return rT(bz,1700,new Al(function(){return new W(null,1,5,Y,["Failed to create channel socket"],null)}),-1785833403)}("/chsk",null,O([new p(null,1,[eq,Zq],null)])),qV=null!=pV&&(pV.Lh&64||l===pV.va)?qh(sk,pV):pV;B.Dh(qV,tt);var DV=B.Dh(qV,or);B.Dh(qV,Ft);B.Dh(qV,ho);
var rV=Mh(function(){return null}),sV=rU(function(){return iU("div",{className:"w-full"},null)},new W(null,1,5,Y,[new p(null,1,[yz,function(a){var b=H(Tv.Eh(a));b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;b=B.Dh(b,xp);BU(ReactDOM.findDOMNode(Co.Eh(a)),{value:b,mode:"clojure",lineNumbers:!1});return a}],null)],null),"literate.app/Code"),tV=rU(function(){return iU("div",null,null)},new W(null,1,5,Y,[new p(null,1,[yz,function(a){var b=H(Tv.Eh(a));b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;b=B.Dh(b,BC);
AU(ReactDOM.findDOMNode(Co.Eh(a)),Kl(b));return a}],null)],null),"literate.app/VegaLite"),uV=rU(function(a){return iU("div",{dangerouslySetInnerHTML:{__html:zU(PB.Eh(a))},className:"flex-1 bg-white px-3 py-1 font-thin"},[])},null,"literate.app/Markdown"),vV=rU(function(a){return iU("div",{dangerouslySetInnerHTML:{__html:cu.Eh(a)},className:"flex-1"},[])},null,"literate.app/Html"),wV=rU(function(a){return iU("div",{dangerouslySetInnerHTML:{__html:mV.toSvg(Fx.Eh(a),NB.Dh(a,30))}},[])},null,"literate.app/Identicon"),
xV=rU(function(a){a=oi(a,new W(null,2,5,Y,[pv,Fz],null));return iU("div",{style:{height:q(a)?a:"320px"},className:"flex-1"},[])},new W(null,1,5,Y,[new p(null,2,[yz,function(a){var b=Tv.Eh(a);b=P(b,0,null);b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;var c=B.Dh(b,Dt),d=B.Dh(b,ob);b=B.Dh(b,rq);c=nV.map(ReactDOM.findDOMNode(Co.Eh(a))).setView(Kl(c),d);d=nV.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'\x26copy; \x3ca href\x3d"https://www.openstreetmap.org/copyright"\x3eOpenStreetMap\x3c/a\x3e contributors'});
b=q(b)?nV.geoJSON(Kl(b)):null;d.addTo(c);q(b)&&b.addTo(c);return Q.Ih(a,Ob,c,O([gz,d,ry,b]))},en,function(a){var b=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,c=B.Dh(b,Ob),d=B.Dh(b,ry);b=B.Dh(b,Tv);b=H(b);b=null!=b&&(b.Lh&64||l===b.va)?qh(sk,b):b;B.Dh(b,Dt);B.Dh(b,ob);b=B.Dh(b,rq);b=q(b)?nV.geoJSON(Kl(b)):null;q(d)&&c.removeLayer(d);q(b)&&b.addTo(c);return Q.Gh(a,ry,b)}],null)],null),"literate.app/Leaflet"),zV=rU(function(a){return iU("div",{className:"flex flex-1 space-x-2"},[Sc(function(){return function d(c){return new Ug(null,
function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=iU("div",{key:CC.Eh(n),className:"flex-1"},[kV(yV.Eh?yV.Eh(n):yV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}k=H(e);return rf(iU("div",{key:CC.Eh(k),className:"flex-1"},[kV(yV.Eh?yV.Eh(k):yV.call(null,k))]),d(Oe(e)))}return null}},null,null)}(md.Eh(a))}())])},null,"literate.app/Row"),AV=rU(function(a){return iU("div",{className:"flex flex-col flex-1 space-y-2"},
[Sc(function(){return function d(c){return new Ug(null,function(){for(;;){var e=F(c);if(e){if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=iU("div",{key:CC.Eh(n),className:"flex-1"},[kV(yV.Eh?yV.Eh(n):yV.call(null,n))]);k.add(n);m+=1}else{f=!0;break a}return f?$g(ch(k),d(le(e))):$g(ch(k),null)}k=H(e);return rf(iU("div",{key:CC.Eh(k),className:"flex-1"},[kV(yV.Eh?yV.Eh(k):yV.call(null,k))]),d(Oe(e)))}return null}},null,null)}(md.Eh(a))}())])},null,"literate.app/Column"),
yV=rU(function(a){var b=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a,c=B.Dh(b,CC),d=B.Dh(b,st);b=function(){switch(d instanceof C?d.la:null){case "widget.type/row":return zV(a);case "widget.type/column":return AV(a);case "widget.type/vega-lite":return tV(a);case "widget.type/code":return sV(a);case "widget.type/markdown":return uV(a);case "widget.type/hiccup":return vV(a);case "widget.type/html":return vV(a);case "widget.type/leaflet":return xV(a);case "widget.type/identicon":return wV(a);default:return new W(null,
2,5,Y,[dC,new W(null,3,5,Y,[lp,"Unknown Widget type ",new W(null,2,5,Y,[uq,u.Eh(d)],null)],null)],null)}}();return React.cloneElement(b,{key:c},null)},null,"literate.app/Widget"),lV=rU(function(){return iU("div",{className:"flex flex-col"},[iU("span",{style:{fontFamily:"Cinzel"},className:"text-lg text-gray-700 py-6"},["Literate"]),Sc(function(){return function c(b){return new Ug(null,function(){for(;;){var d=F(b);if(d){var e=d;if(Rf(e)){var f=ke(e),h=M(f),k=Yg(h);return function(){for(var w=0;;)if(w<
h){var y=x(f,w),E=null!=y&&(y.Lh&64||l===y.va)?qh(sk,y):y,I=E,G=B.Dh(E,Ur);bh(k,iU("div",{key:G,className:"flex flex-col p-1 mb-6 hover:shadow"},[iU("div",{onClick:function(J,N,U,da,wa){return function(){return OO(wa)}}(w,y,E,I,G,f,h,k,e,d),className:"text-gray-600 rounded bg-gray-200 hover:bg-gray-300 h-5 w-5 flex items-center justify-center mb-1 cursor-pointer"},[iU("i",{className:"zmdi zmdi-close"},null)]),iU("div",{className:"flex flex-1 overflow-x-auto"},[yV(I)])]));w+=1}else return!0}()?$g(ch(k),
c(le(e))):$g(ch(k),null)}var m=H(e),n=null!=m&&(m.Lh&64||l===m.va)?qh(sk,m):m,r=n,t=B.Dh(n,Ur);return rf(iU("div",{key:t,className:"flex flex-col p-1 mb-6 hover:shadow"},[iU("div",{onClick:function(w,y,E,I){return function(){return OO(I)}}(m,n,r,t,e,d),className:"text-gray-600 rounded bg-gray-200 hover:bg-gray-300 h-5 w-5 flex items-center justify-center mb-1 cursor-pointer"},[iU("i",{className:"zmdi zmdi-close"},null)]),iU("div",{className:"flex flex-1 overflow-x-auto"},[yV(r)])]),c(Oe(e)))}return null}},
null,null)}(SF())}()),iU("div",{className:"fixed bottom-0 right-0 mr-4 mb-4"},[iU("div",{onClick:function(){return lO(new W(null,1,5,Y,[new p(null,3,[CC,u.Eh(mm()),st,Xu,xp,function(){var a=new nc,b=tc,c=sc;tc=!0;sc=function(d){return a.append(d)};try{GD()}finally{sc=c,tc=b}return u.Eh(a)}()],null)],null))},className:"rounded-full h-8 w-8 flex items-center justify-center text-2xl hover:bg-green-200"},[iU("i",{className:"zmdi zmdi-bug text-green-500"},null)])])])},null,"literate.app/App");
function BV(a){a=null!=a&&(a.Lh&64||l===a.va)?qh(sk,a):a;var b=B.Dh(a,fu),c=P(b,0,null);b=P(b,1,null);console.group("Sente");console.log(yk(a,new W(null,2,5,Y,[$A,fu],null)));console.groupEnd();return D.Dh(lA,c)?lO(b):null}function CV(){Nh(rV,bU(DV,BV));nO(function(){console.log("Will re-render...");return xU()});return xU()}Ga("literate.app.init",CV);try{CV()}catch(a){throw console.error("An error occurred when calling (literate.app/init)"),a;};
}).call(this);