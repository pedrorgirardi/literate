var shadow$provide = {};
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
$jscomp.getGlobal=function(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(a,b){var c=$jscomp.propertyToPolyfillSymbol[b];if(null==c)return a[b];c=a[c];return void 0!==c?c:a[b]};$jscomp.polyfill=function(a,b,c,d){b&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(a,b,c,d):$jscomp.polyfillUnisolated(a,b,c,d))};
$jscomp.polyfillUnisolated=function(a,b,c,d){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))return;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})};
$jscomp.polyfillIsolated=function(a,b,c,d){var e=a.split(".");a=1===e.length;d=e[0];d=!a&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;b=b(c);null!=b&&(a?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:b}):b!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:b})))};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(c){}return!1};
$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(a){this.abruptCompletion_={return:a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){a=$jscomp.makeIterator(a);var c=a.next();$jscomp.generator.ensureIteratorResultIsObject_(c);if(c.done)this.yieldResult=c.value,this.nextAddress=b;else return this.yieldAllIterator_=a,this.yield(c.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,c){c?this.finallyContexts_[c]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){b=this.finallyContexts_.splice(b||0)[0];if(b=this.abruptCompletion_=this.abruptCompletion_||b){if(b.isException)return this.jumpToErrorHandler_();void 0!=b.jumpTo&&this.finallyAddress_<b.jumpTo?(this.nextAddress=b.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(c){return{value:c,done:!0}},a,this.context_.return);this.context_.return(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,c){try{var d=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(d);if(!d.done)return this.context_.stop_(),d;var e=d.value}catch(f){return this.context_.yieldAllIterator_=null,this.context_.throw_(f),this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,e);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this.throw=function(b){return a.throw_(b)};this.return=function(b){return a.return_(b)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){b=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&a.prototype&&$jscomp.setPrototypeOf(b,a.prototype);return b};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(d){return a.next(d)}function c(d){return a.throw(d)}return new Promise(function(d,e){function f(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(f,e)}f(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(a){if(a)return a;var b=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};b.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new b(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var b="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<b.length;c++){var d=$jscomp.global[b[c]];"function"===typeof d&&"function"!=typeof d.prototype[a]&&$jscomp.defineProperty(d.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return a},"es6",
"es3");$jscomp.polyfill("Symbol.asyncIterator",function(a){return a?a:Symbol("Symbol.asyncIterator")},"es9","es3");$jscomp.iteratorPrototype=function(a){a={next:a};a[Symbol.iterator]=function(){return this};return a};
(function(){
shadow$provide[0]=function(Ka,L,sb,A){var w=Object.getOwnPropertySymbols,k=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;sb.exports=function(){try{if(!Object.assign)return!1;var q=new String("abc");q[5]="de";if("5"===Object.getOwnPropertyNames(q)[0])return!1;var t={};for(q=0;10>q;q++)t["_"+String.fromCharCode(q)]=q;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(f){return t[f]}).join(""))return!1;var n={};"abcdefghijklmnopqrst".split("").forEach(function(f){n[f]=
f});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?!1:!0}catch(f){return!1}}()?Object.assign:function(q,t){if(null===q||void 0===q)throw new TypeError("Object.assign cannot be called with null or undefined");var n=Object(q);for(var f,b=1;b<arguments.length;b++){var c=Object(arguments[b]);for(var e in c)k.call(c,e)&&(n[e]=c[e]);if(w){f=w(c);for(var g=0;g<f.length;g++)p.call(c,f[g])&&(n[f[g]]=c[f[g]])}}return n}};
shadow$provide[1]=function(Ka,L,sb,A){function w(X){if(null===X||"object"!==typeof X)return null;X=R&&X[R]||X["@@iterator"];return"function"===typeof X?X:null}function k(X){for(var D="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+X,B=1;B<arguments.length;B++)D+="\x26args[]\x3d"+encodeURIComponent(arguments[B]);return"Minified React error #"+X+"; visit "+D+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function p(X,D,B){this.props=
X;this.context=D;this.refs=ca;this.updater=B||S}function q(){}function t(X,D,B){this.props=X;this.context=D;this.refs=ca;this.updater=B||S}function n(X,D,B){var N,Z={},Aa=null,qa=null;if(null!=D)for(N in void 0!==D.ref&&(qa=D.ref),void 0!==D.key&&(Aa=""+D.key),D)aa.call(D,N)&&!Y.hasOwnProperty(N)&&(Z[N]=D[N]);var la=arguments.length-2;if(1===la)Z.children=B;else if(1<la){for(var Ja=Array(la),bb=0;bb<la;bb++)Ja[bb]=arguments[bb+2];Z.children=Ja}if(X&&X.defaultProps)for(N in la=X.defaultProps,la)void 0===
Z[N]&&(Z[N]=la[N]);return{$$typeof:G,type:X,key:Aa,ref:qa,props:Z,_owner:M.current}}function f(X,D){return{$$typeof:G,type:X.type,key:D,ref:X.ref,props:X.props,_owner:X._owner}}function b(X){return"object"===typeof X&&null!==X&&X.$$typeof===G}function c(X){var D={"\x3d":"\x3d0",":":"\x3d2"};return"$"+X.replace(/[=:]/g,function(B){return D[B]})}function e(X,D){return"object"===typeof X&&null!==X&&null!=X.key?c(""+X.key):D.toString(36)}function g(X,D,B,N,Z){var Aa=typeof X;if("undefined"===Aa||"boolean"===
Aa)X=null;var qa=!1;if(null===X)qa=!0;else switch(Aa){case "string":case "number":qa=!0;break;case "object":switch(X.$$typeof){case G:case I:qa=!0}}if(qa)return qa=X,Z=Z(qa),X=""===N?"."+e(qa,0):N,Array.isArray(Z)?(B="",null!=X&&(B=X.replace(ea,"$\x26/")+"/"),g(Z,D,B,"",function(bb){return bb})):null!=Z&&(b(Z)&&(Z=f(Z,B+(!Z.key||qa&&qa.key===Z.key?"":(""+Z.key).replace(ea,"$\x26/")+"/")+X)),D.push(Z)),1;qa=0;N=""===N?".":N+":";if(Array.isArray(X))for(var la=0;la<X.length;la++){Aa=X[la];var Ja=N+e(Aa,
la);qa+=g(Aa,D,B,Ja,Z)}else if(Ja=w(X),"function"===typeof Ja)for(X=Ja.call(X),la=0;!(Aa=X.next()).done;)Aa=Aa.value,Ja=N+e(Aa,la++),qa+=g(Aa,D,B,Ja,Z);else if("object"===Aa)throw D=""+X,Error(k(31,"[object Object]"===D?"object with keys {"+Object.keys(X).join(", ")+"}":D));return qa}function m(X,D,B){if(null==X)return X;var N=[],Z=0;g(X,N,"","",function(Aa){return D.call(B,Aa,Z++)});return N}function h(X){if(-1===X._status){var D=X._result;D=D();X._status=0;X._result=D;D.then(function(B){0===X._status&&
(B=B.default,X._status=1,X._result=B)},function(B){0===X._status&&(X._status=2,X._result=B)})}if(1===X._status)return X._result;throw X._result;}function x(){var X=Ga.current;if(null===X)throw Error(k(321));return X}var O=L(0),G=60103,I=60106;A.Fragment=60107;A.StrictMode=60108;A.Profiler=60114;var F=60109,C=60110,r=60112;A.Suspense=60113;var y=60115,K=60116;"function"===typeof Symbol&&Symbol.for&&(Ka=Symbol.for,G=Ka("react.element"),I=Ka("react.portal"),A.Fragment=Ka("react.fragment"),A.StrictMode=
Ka("react.strict_mode"),A.Profiler=Ka("react.profiler"),F=Ka("react.provider"),C=Ka("react.context"),r=Ka("react.forward_ref"),A.Suspense=Ka("react.suspense"),y=Ka("react.memo"),K=Ka("react.lazy"));var R="function"===typeof Symbol&&Symbol.iterator,S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ca={};p.prototype.isReactComponent={};p.prototype.setState=function(X,D){if("object"!==typeof X&&"function"!==typeof X&&null!=
X)throw Error(k(85));this.updater.enqueueSetState(this,X,D,"setState")};p.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};q.prototype=p.prototype;Ka=t.prototype=new q;Ka.constructor=t;O(Ka,p.prototype);Ka.isPureReactComponent=!0;var M={current:null},aa=Object.prototype.hasOwnProperty,Y={key:!0,ref:!0,__self:!0,__source:!0},ea=/\/+/g,Ga={current:null};Ka={ReactCurrentDispatcher:Ga,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},
assign:O};A.Children={map:m,forEach:function(X,D,B){m(X,function(){D.apply(this,arguments)},B)},count:function(X){var D=0;m(X,function(){D++});return D},toArray:function(X){return m(X,function(D){return D})||[]},only:function(X){if(!b(X))throw Error(k(143));return X}};A.Component=p;A.PureComponent=t;A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ka;A.cloneElement=function(X,D,B){if(null===X||void 0===X)throw Error(k(267,X));var N=O({},X.props),Z=X.key,Aa=X.ref,qa=X._owner;if(null!=D){void 0!==
D.ref&&(Aa=D.ref,qa=M.current);void 0!==D.key&&(Z=""+D.key);if(X.type&&X.type.defaultProps)var la=X.type.defaultProps;for(Ja in D)aa.call(D,Ja)&&!Y.hasOwnProperty(Ja)&&(N[Ja]=void 0===D[Ja]&&void 0!==la?la[Ja]:D[Ja])}var Ja=arguments.length-2;if(1===Ja)N.children=B;else if(1<Ja){la=Array(Ja);for(var bb=0;bb<Ja;bb++)la[bb]=arguments[bb+2];N.children=la}return{$$typeof:G,type:X.type,key:Z,ref:Aa,props:N,_owner:qa}};A.createContext=function(X,D){void 0===D&&(D=null);X={$$typeof:C,_calculateChangedBits:D,
_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null};X.Provider={$$typeof:F,_context:X};return X.Consumer=X};A.createElement=n;A.createFactory=function(X){var D=n.bind(null,X);D.type=X;return D};A.createRef=function(){return{current:null}};A.forwardRef=function(X){return{$$typeof:r,render:X}};A.isValidElement=b;A.lazy=function(X){return{$$typeof:K,_payload:{_status:-1,_result:X},_init:h}};A.memo=function(X,D){return{$$typeof:y,type:X,compare:void 0===D?null:D}};A.useCallback=
function(X,D){return x().useCallback(X,D)};A.useContext=function(X,D){return x().useContext(X,D)};A.useDebugValue=function(){};A.useEffect=function(X,D){return x().useEffect(X,D)};A.useImperativeHandle=function(X,D,B){return x().useImperativeHandle(X,D,B)};A.useLayoutEffect=function(X,D){return x().useLayoutEffect(X,D)};A.useMemo=function(X,D){return x().useMemo(X,D)};A.useReducer=function(X,D,B){return x().useReducer(X,D,B)};A.useRef=function(X){return x().useRef(X)};A.useState=function(X){return x().useState(X)};
A.version="17.0.2"};
shadow$provide[3]=function(Ka,L,sb,A){sb.exports=L(1)};
shadow$provide[4]=function(Ka,L,sb,A){function w(B,N){var Z=B.length;B.push(N);a:for(;;){var Aa=Z-1>>>1,qa=B[Aa];if(void 0!==qa&&0<q(qa,N))B[Aa]=N,B[Z]=qa,Z=Aa;else break a}}function k(B){B=B[0];return void 0===B?null:B}function p(B){var N=B[0];if(void 0!==N){var Z=B.pop();if(Z!==N){B[0]=Z;var Aa=0,qa=B.length;a:for(;Aa<qa;){var la=2*(Aa+1)-1,Ja=B[la],bb=la+1,ib=B[bb];if(void 0!==Ja&&0>q(Ja,Z))void 0!==ib&&0>q(ib,Ja)?(B[Aa]=ib,B[bb]=Z,Aa=bb):(B[Aa]=Ja,B[la]=Z,Aa=la);else if(void 0!==ib&&0>q(ib,Z))B[Aa]=
ib,B[bb]=Z,Aa=bb;else break a}}return N}return null}function q(B,N){var Z=B.sortIndex-N.sortIndex;return 0!==Z?Z:B.id-N.id}function t(B){for(var N=k(M);null!==N;){if(null===N.callback)p(M);else if(N.startTime<=B)p(M),N.sortIndex=N.expirationTime,w(ca,N);else break;N=k(M)}}function n(B){D=!1;t(B);if(!X)if(null!==k(ca))X=!0,x(f);else{var N=k(M);null!==N&&O(n,N.startTime-B)}}function f(B,N){X=!1;D&&(D=!1,G());Ga=!0;var Z=ea;try{t(N);for(Y=k(ca);null!==Y&&(!(Y.expirationTime>N)||B&&!A.unstable_shouldYield());){var Aa=
Y.callback;if("function"===typeof Aa){Y.callback=null;ea=Y.priorityLevel;var qa=Aa(Y.expirationTime<=N);N=A.unstable_now();"function"===typeof qa?Y.callback=qa:Y===k(ca)&&p(ca);t(N)}else p(ca);Y=k(ca)}if(null!==Y)var la=!0;else{var Ja=k(M);null!==Ja&&O(n,Ja.startTime-N);la=!1}return la}finally{Y=null,ea=Z,Ga=!1}}if("object"===typeof performance&&"function"===typeof performance.now){var b=performance;A.unstable_now=function(){return b.now()}}else{var c=Date,e=c.now();A.unstable_now=function(){return c.now()-
e}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var g=null,m=null,h=function(){if(null!==g)try{var B=A.unstable_now();g(!0,B);g=null}catch(N){throw setTimeout(h,0),N;}};var x=function(B){null!==g?setTimeout(x,0,B):(g=B,setTimeout(h,0))};var O=function(B,N){m=setTimeout(B,N)};var G=function(){clearTimeout(m)};A.unstable_shouldYield=function(){return!1};Ka=A.unstable_forceFrameRate=function(){}}else{var I=window.setTimeout,F=window.clearTimeout;"undefined"!==typeof console&&(Ka=
window.cancelAnimationFrame,"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof Ka&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"));var C=!1,r=null,y=-1,K=5,R=0;A.unstable_shouldYield=function(){return A.unstable_now()>=
R};Ka=function(){};A.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1E3/B):5};L=new MessageChannel;var S=L.port2;L.port1.onmessage=function(){if(null!==r){var B=A.unstable_now();R=B+K;try{r(!0,B)?S.postMessage(null):(C=!1,r=null)}catch(N){throw S.postMessage(null),N;}}else C=!1};x=function(B){r=B;C||(C=!0,S.postMessage(null))};O=function(B,N){y=I(function(){B(A.unstable_now())},
N)};G=function(){F(y);y=-1}}var ca=[],M=[],aa=1,Y=null,ea=3,Ga=!1,X=!1,D=!1;A.unstable_IdlePriority=5;A.unstable_ImmediatePriority=1;A.unstable_LowPriority=4;A.unstable_NormalPriority=3;A.unstable_Profiling=null;A.unstable_UserBlockingPriority=2;A.unstable_cancelCallback=function(B){B.callback=null};A.unstable_continueExecution=function(){X||Ga||(X=!0,x(f))};A.unstable_getCurrentPriorityLevel=function(){return ea};A.unstable_getFirstCallbackNode=function(){return k(ca)};A.unstable_next=function(B){switch(ea){case 1:case 2:case 3:var N=
3;break;default:N=ea}var Z=ea;ea=N;try{return B()}finally{ea=Z}};A.unstable_pauseExecution=function(){};A.unstable_requestPaint=Ka;A.unstable_runWithPriority=function(B,N){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=ea;ea=B;try{return N()}finally{ea=Z}};A.unstable_scheduleCallback=function(B,N,Z){var Aa=A.unstable_now();"object"===typeof Z&&null!==Z?(Z=Z.delay,Z="number"===typeof Z&&0<Z?Aa+Z:Aa):Z=Aa;switch(B){case 1:var qa=-1;break;case 2:qa=250;break;case 5:qa=1073741823;
break;case 4:qa=1E4;break;default:qa=5E3}qa=Z+qa;B={id:aa++,callback:N,priorityLevel:B,startTime:Z,expirationTime:qa,sortIndex:-1};Z>Aa?(B.sortIndex=Z,w(M,B),null===k(ca)&&B===k(M)&&(D?G():D=!0,O(n,Z-Aa))):(B.sortIndex=qa,w(ca,B),X||Ga||(X=!0,x(f)));return B};A.unstable_wrapCallback=function(B){var N=ea;return function(){var Z=ea;ea=N;try{return B.apply(this,arguments)}finally{ea=Z}}}};
shadow$provide[6]=function(Ka,L,sb,A){sb.exports=L(4)};
shadow$provide[7]=function(Ka,L,sb,A){function w(v){for(var E="https://reactjs.org/docs/error-decoder.html?invariant\x3d"+v,V=1;V<arguments.length;V++)E+="\x26args[]\x3d"+encodeURIComponent(arguments[V]);return"Minified React error #"+v+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function k(v,E){p(v,E);p(v+"Capture",E)}function p(v,E){Rg[v]=E;for(v=0;v<E.length;v++)ci.add(E[v])}function q(v){if(xg.call(Lg,v))return!0;
if(xg.call(Ah,v))return!1;if(li.test(v))return Lg[v]=!0;Ah[v]=!0;return!1}function t(v,E,V,Pa){if(null!==V&&0===V.type)return!1;switch(typeof E){case "function":case "symbol":return!0;case "boolean":if(Pa)return!1;if(null!==V)return!V.acceptsBooleans;v=v.toLowerCase().slice(0,5);return"data-"!==v&&"aria-"!==v;default:return!1}}function n(v,E,V,Pa){if(null===E||"undefined"===typeof E||t(v,E,V,Pa))return!0;if(Pa)return!1;if(null!==V)switch(V.type){case 3:return!E;case 4:return!1===E;case 5:return isNaN(E);
case 6:return isNaN(E)||1>E}return!1}function f(v,E,V,Pa,hb,Eb,cc){this.acceptsBooleans=2===E||3===E||4===E;this.attributeName=Pa;this.attributeNamespace=hb;this.mustUseProperty=V;this.propertyName=v;this.type=E;this.sanitizeURL=Eb;this.removeEmptyString=cc}function b(v){return v[1].toUpperCase()}function c(v,E,V,Pa){var hb=eh.hasOwnProperty(E)?eh[E]:null;(null!==hb?0===hb.type:Pa?0:2<E.length&&("o"===E[0]||"O"===E[0])&&("n"===E[1]||"N"===E[1]))||(n(E,V,hb,Pa)&&(V=null),Pa||null===hb?q(E)&&(null===
V?v.removeAttribute(E):v.setAttribute(E,""+V)):hb.mustUseProperty?v[hb.propertyName]=null===V?3===hb.type?!1:"":V:(E=hb.attributeName,Pa=hb.attributeNamespace,null===V?v.removeAttribute(E):(hb=hb.type,V=3===hb||4===hb&&!0===V?"":""+V,Pa?v.setAttributeNS(Pa,E,V):v.setAttribute(E,V))))}function e(v){if(null===v||"object"!==typeof v)return null;v=Oi&&v[Oi]||v["@@iterator"];return"function"===typeof v?v:null}function g(v){if(void 0===ia)try{throw Error();}catch(V){var E=V.stack.trim().match(/\n( *(at )?)/);
ia=E&&E[1]||""}return"\n"+ia+v}function m(v,E){if(!v||Na)return"";Na=!0;var V=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error();},Object.defineProperty(E.prototype,"props",{set:function(){throw Error();}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(E,[])}catch(cd){var Pa=cd}Reflect.construct(v,[],E)}else{try{E.call()}catch(cd){Pa=cd}v.call(E.prototype)}else{try{throw Error();}catch(cd){Pa=cd}v()}}catch(cd){if(cd&&Pa&&"string"===
typeof cd.stack){for(var hb=cd.stack.split("\n"),Eb=Pa.stack.split("\n"),cc=hb.length-1,vc=Eb.length-1;1<=cc&&0<=vc&&hb[cc]!==Eb[vc];)vc--;for(;1<=cc&&0<=vc;cc--,vc--)if(hb[cc]!==Eb[vc]){if(1!==cc||1!==vc){do if(cc--,vc--,0>vc||hb[cc]!==Eb[vc])return"\n"+hb[cc].replace(" at new "," at ");while(1<=cc&&0<=vc)}break}}}finally{Na=!1,Error.prepareStackTrace=V}return(v=v?v.displayName||v.name:"")?g(v):""}function h(v){switch(v.tag){case 5:return g(v.type);case 16:return g("Lazy");case 13:return g("Suspense");
case 19:return g("SuspenseList");case 0:case 2:case 15:return v=m(v.type,!1),v;case 11:return v=m(v.type.render,!1),v;case 22:return v=m(v.type._render,!1),v;case 1:return v=m(v.type,!0),v;default:return""}}function x(v){if(null==v)return null;if("function"===typeof v)return v.displayName||v.name||null;if("string"===typeof v)return v;switch(v){case xh:return"Fragment";case Yg:return"Portal";case yi:return"Profiler";case Ih:return"StrictMode";case Zg:return"Suspense";case Zi:return"SuspenseList"}if("object"===
typeof v)switch(v.$$typeof){case Zf:return(v.displayName||"Context")+".Consumer";case di:return(v._context.displayName||"Context")+".Provider";case yg:var E=v.render;E=E.displayName||E.name||"";return v.displayName||(""!==E?"ForwardRef("+E+")":"ForwardRef");case ei:return x(v.type);case Oh:return x(v._render);case lj:E=v._payload;v=v._init;try{return x(v(E))}catch(V){}}return null}function O(v){switch(typeof v){case "boolean":case "number":case "object":case "string":case "undefined":return v;default:return""}}
function G(v){var E=v.type;return(v=v.nodeName)&&"input"===v.toLowerCase()&&("checkbox"===E||"radio"===E)}function I(v){var E=G(v)?"checked":"value",V=Object.getOwnPropertyDescriptor(v.constructor.prototype,E),Pa=""+v[E];if(!v.hasOwnProperty(E)&&"undefined"!==typeof V&&"function"===typeof V.get&&"function"===typeof V.set){var hb=V.get,Eb=V.set;Object.defineProperty(v,E,{configurable:!0,get:function(){return hb.call(this)},set:function(cc){Pa=""+cc;Eb.call(this,cc)}});Object.defineProperty(v,E,{enumerable:V.enumerable});
return{getValue:function(){return Pa},setValue:function(cc){Pa=""+cc},stopTracking:function(){v._valueTracker=null;delete v[E]}}}}function F(v){v._valueTracker||(v._valueTracker=I(v))}function C(v){if(!v)return!1;var E=v._valueTracker;if(!E)return!0;var V=E.getValue(),Pa="";v&&(Pa=G(v)?v.checked?"true":"false":v.value);v=Pa;return v!==V?(E.setValue(v),!0):!1}function r(v){v=v||("undefined"!==typeof document?document:void 0);if("undefined"===typeof v)return null;try{return v.activeElement||v.body}catch(E){return v.body}}
function y(v,E){var V=E.checked;return Hf({},E,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=V?V:v._wrapperState.initialChecked})}function K(v,E){var V=null==E.defaultValue?"":E.defaultValue,Pa=null!=E.checked?E.checked:E.defaultChecked;V=O(null!=E.value?E.value:V);v._wrapperState={initialChecked:Pa,initialValue:V,controlled:"checkbox"===E.type||"radio"===E.type?null!=E.checked:null!=E.value}}function R(v,E){E=E.checked;null!=E&&c(v,"checked",E,!1)}function S(v,E){R(v,E);var V=
O(E.value),Pa=E.type;if(null!=V)if("number"===Pa){if(0===V&&""===v.value||v.value!=V)v.value=""+V}else v.value!==""+V&&(v.value=""+V);else if("submit"===Pa||"reset"===Pa){v.removeAttribute("value");return}E.hasOwnProperty("value")?M(v,E.type,V):E.hasOwnProperty("defaultValue")&&M(v,E.type,O(E.defaultValue));null==E.checked&&null!=E.defaultChecked&&(v.defaultChecked=!!E.defaultChecked)}function ca(v,E,V){if(E.hasOwnProperty("value")||E.hasOwnProperty("defaultValue")){var Pa=E.type;if(!("submit"!==
Pa&&"reset"!==Pa||void 0!==E.value&&null!==E.value))return;E=""+v._wrapperState.initialValue;V||E===v.value||(v.value=E);v.defaultValue=E}V=v.name;""!==V&&(v.name="");v.defaultChecked=!!v._wrapperState.initialChecked;""!==V&&(v.name=V)}function M(v,E,V){if("number"!==E||r(v.ownerDocument)!==v)null==V?v.defaultValue=""+v._wrapperState.initialValue:v.defaultValue!==""+V&&(v.defaultValue=""+V)}function aa(v){var E="";pf.Children.forEach(v,function(V){null!=V&&(E+=V)});return E}function Y(v,E){v=Hf({children:void 0},
E);if(E=aa(E.children))v.children=E;return v}function ea(v,E,V,Pa){v=v.options;if(E){E={};for(var hb=0;hb<V.length;hb++)E["$"+V[hb]]=!0;for(V=0;V<v.length;V++)hb=E.hasOwnProperty("$"+v[V].value),v[V].selected!==hb&&(v[V].selected=hb),hb&&Pa&&(v[V].defaultSelected=!0)}else{V=""+O(V);E=null;for(hb=0;hb<v.length;hb++){if(v[hb].value===V){v[hb].selected=!0;Pa&&(v[hb].defaultSelected=!0);return}null!==E||v[hb].disabled||(E=v[hb])}null!==E&&(E.selected=!0)}}function Ga(v,E){if(null!=E.dangerouslySetInnerHTML)throw Error(w(91));
return Hf({},E,{value:void 0,defaultValue:void 0,children:""+v._wrapperState.initialValue})}function X(v,E){var V=E.value;if(null==V){V=E.children;E=E.defaultValue;if(null!=V){if(null!=E)throw Error(w(92));if(Array.isArray(V)){if(!(1>=V.length))throw Error(w(93));V=V[0]}E=V}null==E&&(E="");V=E}v._wrapperState={initialValue:O(V)}}function D(v,E){var V=O(E.value),Pa=O(E.defaultValue);null!=V&&(V=""+V,V!==v.value&&(v.value=V),null==E.defaultValue&&v.defaultValue!==V&&(v.defaultValue=V));null!=Pa&&(v.defaultValue=
""+Pa)}function B(v){var E=v.textContent;E===v._wrapperState.initialValue&&""!==E&&null!==E&&(v.value=E)}function N(v){switch(v){case "svg":return"http://www.w3.org/2000/svg";case "math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(v,E){return null==v||"http://www.w3.org/1999/xhtml"===v?N(E):"http://www.w3.org/2000/svg"===v&&"foreignObject"===E?"http://www.w3.org/1999/xhtml":v}function Aa(v,E){if(E){var V=v.firstChild;if(V&&V===v.lastChild&&3===
V.nodeType){V.nodeValue=E;return}}v.textContent=E}function qa(v,E,V){return null==E||"boolean"===typeof E||""===E?"":V||"number"!==typeof E||0===E||ac.hasOwnProperty(v)&&ac[v]?(""+E).trim():E+"px"}function la(v,E){v=v.style;for(var V in E)if(E.hasOwnProperty(V)){var Pa=0===V.indexOf("--"),hb=qa(V,E[V],Pa);"float"===V&&(V="cssFloat");Pa?v.setProperty(V,hb):v[V]=hb}}function Ja(v,E){if(E){if(Ac[v]&&(null!=E.children||null!=E.dangerouslySetInnerHTML))throw Error(w(137,v));if(null!=E.dangerouslySetInnerHTML){if(null!=
E.children)throw Error(w(60));if(!("object"===typeof E.dangerouslySetInnerHTML&&"__html"in E.dangerouslySetInnerHTML))throw Error(w(61));}if(null!=E.style&&"object"!==typeof E.style)throw Error(w(62));}}function bb(v,E){if(-1===v.indexOf("-"))return"string"===typeof E.is;switch(v){case "annotation-xml":case "color-profile":case "font-face":case "font-face-src":case "font-face-uri":case "font-face-format":case "font-face-name":case "missing-glyph":return!1;default:return!0}}function ib(v){v=v.target||
v.srcElement||window;v.correspondingUseElement&&(v=v.correspondingUseElement);return 3===v.nodeType?v.parentNode:v}function Ma(v){if(v=Bb(v)){if("function"!==typeof hd)throw Error(w(280));var E=v.stateNode;E&&(E=Uc(E),hd(v.stateNode,v.type,E))}}function ma(v){Ld?be?be.push(v):be=[v]:Ld=v}function Fa(){if(Ld){var v=Ld,E=be;be=Ld=null;Ma(v);if(E)for(v=0;v<E.length;v++)Ma(E[v])}}function Ra(v,E){return v(E)}function ra(v,E,V,Pa,hb){return v(E,V,Pa,hb)}function ya(){}function oa(){if(null!==Ld||null!==
be)ya(),Fa()}function xa(v,E,V){if(Qe)return v(E,V);Qe=!0;try{return kd(v,E,V)}finally{Qe=!1,oa()}}function Ua(v,E){var V=v.stateNode;if(null===V)return null;var Pa=Uc(V);if(null===Pa)return null;V=Pa[E];a:switch(E){case "onClick":case "onClickCapture":case "onDoubleClick":case "onDoubleClickCapture":case "onMouseDown":case "onMouseDownCapture":case "onMouseMove":case "onMouseMoveCapture":case "onMouseUp":case "onMouseUpCapture":case "onMouseEnter":(Pa=!Pa.disabled)||(v=v.type,Pa=!("button"===v||
"input"===v||"select"===v||"textarea"===v));v=!Pa;break a;default:v=!1}if(v)return null;if(V&&"function"!==typeof V)throw Error(w(231,E,typeof V));return V}function fb(v,E,V,Pa,hb,Eb,cc,vc,cd){var Qd=Array.prototype.slice.call(arguments,3);try{E.apply(V,Qd)}catch(Xe){this.onError(Xe)}}function sa(v,E,V,Pa,hb,Eb,cc,vc,cd){$f=!1;Dg=null;fb.apply($e,arguments)}function Oa(v,E,V,Pa,hb,Eb,cc,vc,cd){sa.apply(this,arguments);if($f){if($f){var Qd=Dg;$f=!1;Dg=null}else throw Error(w(198));fh||(fh=!0,mh=Qd)}}
function ja(v){var E=v,V=v;if(v.alternate)for(;E.return;)E=E.return;else{v=E;do E=v,0!==(E.flags&1026)&&(V=E.return),v=E.return;while(v)}return 3===E.tag?V:null}function U(v){if(13===v.tag){var E=v.memoizedState;null===E&&(v=v.alternate,null!==v&&(E=v.memoizedState));if(null!==E)return E.dehydrated}return null}function ka(v){if(ja(v)!==v)throw Error(w(188));}function ua(v){var E=v.alternate;if(!E){E=ja(v);if(null===E)throw Error(w(188));return E!==v?null:v}for(var V=v,Pa=E;;){var hb=V.return;if(null===
hb)break;var Eb=hb.alternate;if(null===Eb){Pa=hb.return;if(null!==Pa){V=Pa;continue}break}if(hb.child===Eb.child){for(Eb=hb.child;Eb;){if(Eb===V)return ka(hb),v;if(Eb===Pa)return ka(hb),E;Eb=Eb.sibling}throw Error(w(188));}if(V.return!==Pa.return)V=hb,Pa=Eb;else{for(var cc=!1,vc=hb.child;vc;){if(vc===V){cc=!0;V=hb;Pa=Eb;break}if(vc===Pa){cc=!0;Pa=hb;V=Eb;break}vc=vc.sibling}if(!cc){for(vc=Eb.child;vc;){if(vc===V){cc=!0;V=Eb;Pa=hb;break}if(vc===Pa){cc=!0;Pa=Eb;V=hb;break}vc=vc.sibling}if(!cc)throw Error(w(189));
}}if(V.alternate!==Pa)throw Error(w(190));}if(3!==V.tag)throw Error(w(188));return V.stateNode.current===V?v:E}function Ta(v){v=ua(v);if(!v)return null;for(var E=v;;){if(5===E.tag||6===E.tag)return E;if(E.child)E.child.return=E,E=E.child;else{if(E===v)break;for(;!E.sibling;){if(!E.return||E.return===v)return null;E=E.return}E.sibling.return=E.return;E=E.sibling}}return null}function eb(v,E){for(var V=v.alternate;null!==E;){if(E===v||E===V)return!0;E=E.return}return!1}function lb(v,E,V,Pa,hb){return{blockedOn:v,
domEventName:E,eventSystemFlags:V|16,nativeEvent:hb,targetContainers:[Pa]}}function nb(v,E){switch(v){case "focusin":case "focusout":sg=null;break;case "dragenter":case "dragleave":Jh=null;break;case "mouseover":case "mouseout":Ne=null;break;case "pointerover":case "pointerout":ve.delete(E.pointerId);break;case "gotpointercapture":case "lostpointercapture":Ve.delete(E.pointerId)}}function Mb(v,E,V,Pa,hb,Eb){if(null===v||v.nativeEvent!==Eb)return v=lb(E,V,Pa,hb,Eb),null!==E&&(E=Bb(E),null!==E&&hl(E)),
v;v.eventSystemFlags|=Pa;E=v.targetContainers;null!==hb&&-1===E.indexOf(hb)&&E.push(hb);return v}function $b(v,E,V,Pa,hb){switch(E){case "focusin":return sg=Mb(sg,v,E,V,Pa,hb),!0;case "dragenter":return Jh=Mb(Jh,v,E,V,Pa,hb),!0;case "mouseover":return Ne=Mb(Ne,v,E,V,Pa,hb),!0;case "pointerover":var Eb=hb.pointerId;ve.set(Eb,Mb(ve.get(Eb)||null,v,E,V,Pa,hb));return!0;case "gotpointercapture":return Eb=hb.pointerId,Ve.set(Eb,Mb(Ve.get(Eb)||null,v,E,V,Pa,hb)),!0}return!1}function Gc(v){var E=rb(v.target);
if(null!==E){var V=ja(E);if(null!==V)if(E=V.tag,13===E){if(E=U(V),null!==E){v.blockedOn=E;yl(v.lanePriority,function(){mg.unstable_runWithPriority(v.priority,function(){il(V)})});return}}else if(3===E&&V.stateNode.hydrate){v.blockedOn=3===V.tag?V.stateNode.containerInfo:null;return}}v.blockedOn=null}function zc(v){if(null!==v.blockedOn)return!1;for(var E=v.targetContainers;0<E.length;){var V=Tb(v.domEventName,v.eventSystemFlags,E[0],v.nativeEvent);if(null!==V)return E=Bb(V),null!==E&&hl(E),v.blockedOn=
V,!1;E.shift()}return!0}function Bc(v,E,V){zc(v)&&V.delete(E)}function uc(){for(gh=!1;0<nf.length;){var v=nf[0];if(null!==v.blockedOn){v=Bb(v.blockedOn);null!==v&&zl(v);break}for(var E=v.targetContainers;0<E.length;){var V=Tb(v.domEventName,v.eventSystemFlags,E[0],v.nativeEvent);if(null!==V){v.blockedOn=V;break}E.shift()}null===v.blockedOn&&nf.shift()}null!==sg&&zc(sg)&&(sg=null);null!==Jh&&zc(Jh)&&(Jh=null);null!==Ne&&zc(Ne)&&(Ne=null);ve.forEach(Bc);Ve.forEach(Bc)}function id(v,E){v.blockedOn===
E&&(v.blockedOn=null,gh||(gh=!0,mg.unstable_scheduleCallback(mg.unstable_NormalPriority,uc)))}function Hb(v){function E(hb){return id(hb,v)}if(0<nf.length){id(nf[0],v);for(var V=1;V<nf.length;V++){var Pa=nf[V];Pa.blockedOn===v&&(Pa.blockedOn=null)}}null!==sg&&id(sg,v);null!==Jh&&id(Jh,v);null!==Ne&&id(Ne,v);ve.forEach(E);Ve.forEach(E);for(V=0;V<ye.length;V++)Pa=ye[V],Pa.blockedOn===v&&(Pa.blockedOn=null);for(;0<ye.length&&(V=ye[0],null===V.blockedOn);)Gc(V),null===V.blockedOn&&ye.shift()}function Ab(v,
E){var V={};V[v.toLowerCase()]=E.toLowerCase();V["Webkit"+v]="webkit"+E;V["Moz"+v]="moz"+E;return V}function dc(v){if(yf[v])return yf[v];if(!Eg[v])return v;var E=Eg[v],V;for(V in E)if(E.hasOwnProperty(V)&&V in nh)return yf[v]=E[V];return v}function Wb(v,E){for(var V=0;V<v.length;V+=2){var Pa=v[V],hb=v[V+1];hb="on"+(hb[0].toUpperCase()+hb.slice(1));Kj.set(Pa,E);$i.set(Pa,hb);k(hb,[Pa])}}function mc(v){if(0!==(1&v))return Fg=15,1;if(0!==(2&v))return Fg=14,2;if(0!==(4&v))return Fg=13,4;var E=24&v;if(0!==
E)return Fg=12,E;if(0!==(v&32))return Fg=11,32;E=192&v;if(0!==E)return Fg=10,E;if(0!==(v&256))return Fg=9,256;E=3584&v;if(0!==E)return Fg=8,E;if(0!==(v&4096))return Fg=7,4096;E=4186112&v;if(0!==E)return Fg=6,E;E=62914560&v;if(0!==E)return Fg=5,E;if(v&67108864)return Fg=4,67108864;if(0!==(v&134217728))return Fg=3,134217728;E=805306368&v;if(0!==E)return Fg=2,E;if(0!==(1073741824&v))return Fg=1,1073741824;Fg=8;return v}function Kc(v){switch(v){case 99:return 15;case 98:return 10;case 97:case 96:return 8;
case 95:return 2;default:return 0}}function Fc(v){switch(v){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(w(358,v));}}function Sc(v,E){var V=v.pendingLanes;if(0===V)return Fg=0;var Pa=0,hb=0,Eb=v.expiredLanes,cc=v.suspendedLanes,vc=v.pingedLanes;if(0!==Eb)Pa=Eb,hb=Fg=15;else if(Eb=V&134217727,0!==Eb){var cd=Eb&~cc;0!==cd?(Pa=mc(cd),hb=Fg):(vc&=Eb,0!==vc&&(Pa=
mc(vc),hb=Fg))}else Eb=V&~cc,0!==Eb?(Pa=mc(Eb),hb=Fg):0!==vc&&(Pa=mc(vc),hb=Fg);if(0===Pa)return 0;Pa=31-Gi(Pa);Pa=V&((0>Pa?0:1<<Pa)<<1)-1;if(0!==E&&E!==Pa&&0===(E&cc)){mc(E);if(hb<=Fg)return E;Fg=hb}E=v.entangledLanes;if(0!==E)for(v=v.entanglements,E&=Pa;0<E;)V=31-Gi(E),hb=1<<V,Pa|=v[V],E&=~hb;return Pa}function jd(v){v=v.pendingLanes&-1073741825;return 0!==v?v:v&1073741824?1073741824:0}function $d(v,E){switch(v){case 15:return 1;case 14:return 2;case 12:return v=Ba(24&~E),0===v?$d(10,E):v;case 10:return v=
Ba(192&~E),0===v?$d(8,E):v;case 8:return v=Ba(3584&~E),0===v&&(v=Ba(4186112&~E),0===v&&(v=512)),v;case 2:return E=Ba(805306368&~E),0===E&&(E=268435456),E}throw Error(w(358,v));}function Ba(v){return v&-v}function va(v){for(var E=[],V=0;31>V;V++)E.push(v);return E}function Ca(v,E,V){v.pendingLanes|=E;var Pa=E-1;v.suspendedLanes&=Pa;v.pingedLanes&=Pa;v=v.eventTimes;E=31-Gi(E);v[E]=V}function $a(v){return 0===v?32:31-(aj(v)/bj|0)|0}function jb(v,E,V,Pa){oe||ya();var hb=Ub,Eb=oe;oe=!0;try{ra(hb,v,E,V,
Pa)}finally{(oe=Eb)||oa()}}function yb(v,E,V,Pa){xk(cj,Ub.bind(null,v,E,V,Pa))}function Ub(v,E,V,Pa){if(Lj){var hb;if((hb=0===(E&4))&&0<nf.length&&-1<lg.indexOf(v))v=lb(null,v,E,V,Pa),nf.push(v);else{var Eb=Tb(v,E,V,Pa);if(null===Eb)hb&&nb(v,Pa);else{if(hb){if(-1<lg.indexOf(v)){v=lb(Eb,v,E,V,Pa);nf.push(v);return}if($b(Eb,v,E,V,Pa))return;nb(v,Pa)}af(v,E,Pa,null,V)}}}}function Tb(v,E,V,Pa){var hb=ib(Pa);hb=rb(hb);if(null!==hb){var Eb=ja(hb);if(null===Eb)hb=null;else{var cc=Eb.tag;if(13===cc){hb=U(Eb);
if(null!==hb)return hb;hb=null}else if(3===cc){if(Eb.stateNode.hydrate)return 3===Eb.tag?Eb.stateNode.containerInfo:null;hb=null}else Eb!==hb&&(hb=null)}}af(v,E,Pa,hb,V);return null}function Vb(){if(mi)return mi;var v,E=Pi,V=E.length,Pa,hb="value"in si?si.value:si.textContent,Eb=hb.length;for(v=0;v<V&&E[v]===hb[v];v++);var cc=V-v;for(Pa=1;Pa<=cc&&E[V-Pa]===hb[Eb-Pa];Pa++);return mi=hb.slice(v,1<Pa?1-Pa:void 0)}function Ic(v){var E=v.keyCode;"charCode"in v?(v=v.charCode,0===v&&13===E&&(v=13)):v=E;
10===v&&(v=13);return 32<=v||13===v?v:0}function $c(){return!0}function dd(){return!1}function nd(v){function E(V,Pa,hb,Eb,cc){this._reactName=V;this._targetInst=hb;this.type=Pa;this.nativeEvent=Eb;this.target=cc;this.currentTarget=null;for(var vc in v)v.hasOwnProperty(vc)&&(V=v[vc],this[vc]=V?V(Eb):Eb[vc]);this.isDefaultPrevented=(null!=Eb.defaultPrevented?Eb.defaultPrevented:!1===Eb.returnValue)?$c:dd;this.isPropagationStopped=dd;return this}Hf(E.prototype,{preventDefault:function(){this.defaultPrevented=
!0;var V=this.nativeEvent;V&&(V.preventDefault?V.preventDefault():"unknown"!==typeof V.returnValue&&(V.returnValue=!1),this.isDefaultPrevented=$c)},stopPropagation:function(){var V=this.nativeEvent;V&&(V.stopPropagation?V.stopPropagation():"unknown"!==typeof V.cancelBubble&&(V.cancelBubble=!0),this.isPropagationStopped=$c)},persist:function(){},isPersistent:$c});return E}function xd(v){var E=this.nativeEvent;return E.getModifierState?E.getModifierState(v):(v=dj[v])?!!E[v]:!1}function Nd(){return xd}
function Xd(v,E){switch(v){case "keyup":return-1!==T.indexOf(E.keyCode);case "keydown":return 229!==E.keyCode;case "keypress":case "mousedown":case "focusout":return!0;default:return!1}}function ge(v){v=v.detail;return"object"===typeof v&&"data"in v?v.data:null}function le(v,E){switch(v){case "compositionend":return ge(E);case "keypress":if(32!==E.which)return null;wb=!0;return Ya;case "textInput":return v=E.data,v===Ya&&wb?null:v;default:return null}}function qe(v,E){if(Rb)return"compositionend"===
v||!Q&&Xd(v,E)?(v=Vb(),mi=Pi=si=null,Rb=!1,v):null;switch(v){case "paste":return null;case "keypress":if(!(E.ctrlKey||E.altKey||E.metaKey)||E.ctrlKey&&E.altKey){if(E.char&&1<E.char.length)return E.char;if(E.which)return String.fromCharCode(E.which)}return null;case "compositionend":return Va&&"ko"!==E.locale?null:E.data;default:return null}}function wd(v){var E=v&&v.nodeName&&v.nodeName.toLowerCase();return"input"===E?!!ec[v.type]:"textarea"===E?!0:!1}function qf(v,E,V,Pa){ma(Pa);E=rc(E,"onChange");
0<E.length&&(V=new Jf("onChange","change",null,V,Pa),v.push({event:V,listeners:E}))}function gf(v){Ce(v,0)}function te(v){var E=ic(v);if(C(E))return v}function We(v,E){if("change"===v)return E}function za(){Mc&&(Mc.detachEvent("onpropertychange",Za),Wc=Mc=null)}function Za(v){if("value"===v.propertyName&&te(Wc)){var E=[];qf(E,Wc,v,ib(v));v=gf;if(oe)v(E);else{oe=!0;try{Ra(v,E)}finally{oe=!1,oa()}}}}function tb(v,E,V){"focusin"===v?(za(),Mc=E,Wc=V,Mc.attachEvent("onpropertychange",Za)):"focusout"===
v&&za()}function Jb(v){if("selectionchange"===v||"keyup"===v||"keydown"===v)return te(Wc)}function fc(v,E){if("click"===v)return te(E)}function nc(v,E){if("input"===v||"change"===v)return te(E)}function Hc(v,E){return v===E&&(0!==v||1/v===1/E)||v!==v&&E!==E}function Dc(v,E){if(zg(v,E))return!0;if("object"!==typeof v||null===v||"object"!==typeof E||null===E)return!1;var V=Object.keys(v),Pa=Object.keys(E);if(V.length!==Pa.length)return!1;for(Pa=0;Pa<V.length;Pa++)if(!lf.call(E,V[Pa])||!zg(v[V[Pa]],
E[V[Pa]]))return!1;return!0}function lc(v){for(;v&&v.firstChild;)v=v.firstChild;return v}function ld(v,E){var V=lc(v);v=0;for(var Pa;V;){if(3===V.nodeType){Pa=v+V.textContent.length;if(v<=E&&Pa>=E)return{node:V,offset:E-v};v=Pa}a:{for(;V;){if(V.nextSibling){V=V.nextSibling;break a}V=V.parentNode}V=void 0}V=lc(V)}}function rd(v,E){return v&&E?v===E?!0:v&&3===v.nodeType?!1:E&&3===E.nodeType?rd(v,E.parentNode):"contains"in v?v.contains(E):v.compareDocumentPosition?!!(v.compareDocumentPosition(E)&16):
!1:!1}function Hd(){for(var v=window,E=r();E instanceof v.HTMLIFrameElement;){try{var V="string"===typeof E.contentWindow.location.href}catch(Pa){V=!1}if(V)v=E.contentWindow;else break;E=r(v.document)}return E}function Vd(v){var E=v&&v.nodeName&&v.nodeName.toLowerCase();return E&&("input"===E&&("text"===v.type||"search"===v.type||"tel"===v.type||"url"===v.type||"password"===v.type)||"textarea"===E||"true"===v.contentEditable)}function ce(v,E,V){var Pa=V.window===V?V.document:9===V.nodeType?V:V.ownerDocument;
Of||null==cg||cg!==r(Pa)||(Pa=cg,"selectionStart"in Pa&&Vd(Pa)?Pa={start:Pa.selectionStart,end:Pa.selectionEnd}:(Pa=(Pa.ownerDocument&&Pa.ownerDocument.defaultView||window).getSelection(),Pa={anchorNode:Pa.anchorNode,anchorOffset:Pa.anchorOffset,focusNode:Pa.focusNode,focusOffset:Pa.focusOffset}),tg&&Dc(tg,Pa)||(tg=Pa,Pa=rc(Mg,"onSelect"),0<Pa.length&&(E=new Jf("onSelect","select",null,E,V),v.push({event:E,listeners:Pa}),E.target=cg)))}function he(v,E,V){var Pa=v.type||"unknown-event";v.currentTarget=
V;Oa(Pa,E,void 0,v);v.currentTarget=null}function Ce(v,E){E=0!==(E&4);for(var V=0;V<v.length;V++){var Pa=v[V],hb=Pa.event;Pa=Pa.listeners;a:{var Eb=void 0;if(E)for(var cc=Pa.length-1;0<=cc;cc--){var vc=Pa[cc],cd=vc.instance,Qd=vc.currentTarget;vc=vc.listener;if(cd!==Eb&&hb.isPropagationStopped())break a;he(hb,vc,Qd);Eb=cd}else for(cc=0;cc<Pa.length;cc++){vc=Pa[cc];cd=vc.instance;Qd=vc.currentTarget;vc=vc.listener;if(cd!==Eb&&hb.isPropagationStopped())break a;he(hb,vc,Qd);Eb=cd}}}if(fh)throw v=mh,
fh=!1,mh=null,v;}function re(v,E){var V=Rd(E),Pa=v+"__bubble";V.has(Pa)||(Re(E,v,2,!1),V.add(Pa))}function vf(v){v[Ph]||(v[Ph]=!0,ci.forEach(function(E){Kh.has(E)||Ge(E,!1,v,null);Ge(E,!0,v,null)}))}function Ge(v,E,V,Pa){var hb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,Eb=V;"selectionchange"===v&&9!==V.nodeType&&(Eb=V.ownerDocument);if(null!==Pa&&!E&&Kh.has(v)){if("scroll"!==v)return;hb|=2;Eb=Pa}var cc=Rd(Eb),vc=v+"__"+(E?"capture":"bubble");cc.has(vc)||(E&&(hb|=4),Re(Eb,v,hb,E),cc.add(vc))}
function Re(v,E,V,Pa){var hb=Kj.get(E);switch(void 0===hb?2:hb){case 0:hb=jb;break;case 1:hb=yb;break;default:hb=Ub}V=hb.bind(null,E,V,v);hb=void 0;!xf||"touchstart"!==E&&"touchmove"!==E&&"wheel"!==E||(hb=!0);Pa?void 0!==hb?v.addEventListener(E,V,{capture:!0,passive:hb}):v.addEventListener(E,V,!0):void 0!==hb?v.addEventListener(E,V,{passive:hb}):v.addEventListener(E,V,!1)}function af(v,E,V,Pa,hb){var Eb=Pa;if(0===(E&1)&&0===(E&2)&&null!==Pa)a:for(;;){if(null===Pa)return;var cc=Pa.tag;if(3===cc||4===
cc){var vc=Pa.stateNode.containerInfo;if(vc===hb||8===vc.nodeType&&vc.parentNode===hb)break;if(4===cc)for(cc=Pa.return;null!==cc;){var cd=cc.tag;if(3===cd||4===cd)if(cd=cc.stateNode.containerInfo,cd===hb||8===cd.nodeType&&cd.parentNode===hb)return;cc=cc.return}for(;null!==vc;){cc=rb(vc);if(null===cc)return;cd=cc.tag;if(5===cd||6===cd){Pa=Eb=cc;continue a}vc=vc.parentNode}}Pa=Pa.return}xa(function(){var Qd=Eb,Xe=ib(V),If=[];a:{var me=$i.get(v);if(void 0!==me){var rf=Jf,Kf=v;switch(v){case "keypress":if(0===
Ic(V))break a;case "keydown":case "keyup":rf=Mj;break;case "focusin":Kf="focus";rf=mj;break;case "focusout":Kf="blur";rf=mj;break;case "beforeblur":case "afterblur":rf=mj;break;case "click":if(2===V.button)break a;case "auxclick":case "dblclick":case "mousedown":case "mousemove":case "mouseup":case "mouseout":case "mouseover":case "contextmenu":rf=yj;break;case "drag":case "dragend":case "dragenter":case "dragexit":case "dragleave":case "dragover":case "dragstart":case "drop":rf=Hi;break;case "touchcancel":case "touchend":case "touchmove":case "touchstart":rf=
th;break;case yh:case oi:case Nj:rf=Qi;break;case zi:rf=nj;break;case "scroll":rf=hk;break;case "wheel":rf=u;break;case "copy":case "cut":case "paste":rf=yk;break;case "gotpointercapture":case "lostpointercapture":case "pointercancel":case "pointerdown":case "pointermove":case "pointerout":case "pointerover":case "pointerup":rf=Vh}var Ef=0!==(E&4),Cd=!Ef&&"scroll"===v,md=Ef?null!==me?me+"Capture":null:me;Ef=[];for(var zd=Qd,de;null!==zd;){de=zd;var ke=de.stateNode;5===de.tag&&null!==ke&&(de=ke,null!==
md&&(ke=Ua(zd,md),null!=ke&&Ef.push(Qb(zd,ke,de))));if(Cd)break;zd=zd.return}0<Ef.length&&(me=new rf(me,Kf,null,V,Xe),If.push({event:me,listeners:Ef}))}}if(0===(E&7)){me="mouseover"===v||"pointerover"===v;rf="mouseout"===v||"pointerout"===v;if(!me||0!==(E&16)||!(Kf=V.relatedTarget||V.fromElement)||!rb(Kf)&&!Kf[Oj])if(rf||me){me=Xe.window===Xe?Xe:(me=Xe.ownerDocument)?me.defaultView||me.parentWindow:window;if(rf){if(Kf=V.relatedTarget||V.toElement,rf=Qd,Kf=Kf?rb(Kf):null,null!==Kf&&(Cd=ja(Kf),Kf!==
Cd||5!==Kf.tag&&6!==Kf.tag))Kf=null}else rf=null,Kf=Qd;if(rf!==Kf){Ef=yj;ke="onMouseLeave";md="onMouseEnter";zd="mouse";if("pointerout"===v||"pointerover"===v)Ef=Vh,ke="onPointerLeave",md="onPointerEnter",zd="pointer";Cd=null==rf?me:ic(rf);de=null==Kf?me:ic(Kf);me=new Ef(ke,zd+"leave",rf,V,Xe);me.target=Cd;me.relatedTarget=de;ke=null;rb(Xe)===Qd&&(Ef=new Ef(md,zd+"enter",Kf,V,Xe),Ef.target=de,Ef.relatedTarget=Cd,ke=Ef);Cd=ke;if(rf&&Kf)b:{Ef=rf;md=Kf;zd=0;for(de=Ef;de;de=bd(de))zd++;de=0;for(ke=md;ke;ke=
bd(ke))de++;for(;0<zd-de;)Ef=bd(Ef),zd--;for(;0<de-zd;)md=bd(md),de--;for(;zd--;){if(Ef===md||null!==md&&Ef===md.alternate)break b;Ef=bd(Ef);md=bd(md)}Ef=null}else Ef=null;null!==rf&&Ad(If,me,rf,Ef,!1);null!==Kf&&null!==Cd&&Ad(If,Cd,Kf,Ef,!0)}}me=Qd?ic(Qd):window;rf=me.nodeName&&me.nodeName.toLowerCase();if("select"===rf||"input"===rf&&"file"===me.type)var Rf=We;else if(wd(me))if(ad)Rf=nc;else{Rf=Jb;var kf=tb}else(rf=me.nodeName)&&"input"===rf.toLowerCase()&&("checkbox"===me.type||"radio"===me.type)&&
(Rf=fc);Rf&&(Rf=Rf(v,Qd))?qf(If,Rf,V,Xe):(kf&&kf(v,me,Qd),"focusout"===v&&(kf=me._wrapperState)&&kf.controlled&&"number"===me.type&&M(me,"number",me.value));kf=Qd?ic(Qd):window;switch(v){case "focusin":if(wd(kf)||"true"===kf.contentEditable)cg=kf,Mg=Qd,tg=null;break;case "focusout":tg=Mg=cg=null;break;case "mousedown":Of=!0;break;case "contextmenu":case "mouseup":case "dragend":Of=!1;ce(If,V,Xe);break;case "selectionchange":if(Gg)break;case "keydown":case "keyup":ce(If,V,Xe)}var Sf;if(Q)a:{switch(v){case "compositionstart":var Pf=
"onCompositionStart";break a;case "compositionend":Pf="onCompositionEnd";break a;case "compositionupdate":Pf="onCompositionUpdate";break a}Pf=void 0}else Rb?Xd(v,V)&&(Pf="onCompositionEnd"):"keydown"===v&&229===V.keyCode&&(Pf="onCompositionStart");Pf&&(Va&&"ko"!==V.locale&&(Rb||"onCompositionStart"!==Pf?"onCompositionEnd"===Pf&&Rb&&(Sf=Vb()):(si=Xe,Pi="value"in si?si.value:si.textContent,Rb=!0)),kf=rc(Qd,Pf),0<kf.length&&(Pf=new Pj(Pf,v,null,V,Xe),If.push({event:Pf,listeners:kf}),Sf?Pf.data=Sf:(Sf=
ge(V),null!==Sf&&(Pf.data=Sf))));if(Sf=Ha?le(v,V):qe(v,V))Qd=rc(Qd,"onBeforeInput"),0<Qd.length&&(Xe=new Pj("onBeforeInput","beforeinput",null,V,Xe),If.push({event:Xe,listeners:Qd}),Xe.data=Sf)}Ce(If,E)})}function Qb(v,E,V){return{instance:v,listener:E,currentTarget:V}}function rc(v,E){for(var V=E+"Capture",Pa=[];null!==v;){var hb=v,Eb=hb.stateNode;5===hb.tag&&null!==Eb&&(hb=Eb,Eb=Ua(v,V),null!=Eb&&Pa.unshift(Qb(v,Eb,hb)),Eb=Ua(v,E),null!=Eb&&Pa.push(Qb(v,Eb,hb)));v=v.return}return Pa}function bd(v){if(null===
v)return null;do v=v.return;while(v&&5!==v.tag);return v?v:null}function Ad(v,E,V,Pa,hb){for(var Eb=E._reactName,cc=[];null!==V&&V!==Pa;){var vc=V,cd=vc.alternate,Qd=vc.stateNode;if(null!==cd&&cd===Pa)break;5===vc.tag&&null!==Qd&&(vc=Qd,hb?(cd=Ua(V,Eb),null!=cd&&cc.unshift(Qb(V,cd,vc))):hb||(cd=Ua(V,Eb),null!=cd&&cc.push(Qb(V,cd,vc))));V=V.return}0!==cc.length&&v.push({event:E,listeners:cc})}function wa(){}function Xa(v,E){switch(v){case "button":case "input":case "select":case "textarea":return!!E.autoFocus}return!1}
function zb(v,E){return"textarea"===v||"option"===v||"noscript"===v||"string"===typeof E.children||"number"===typeof E.children||"object"===typeof E.dangerouslySetInnerHTML&&null!==E.dangerouslySetInnerHTML&&null!=E.dangerouslySetInnerHTML.__html}function Xb(v){1===v.nodeType?v.textContent="":9===v.nodeType&&(v=v.body,null!=v&&(v.textContent=""))}function tc(v){for(;null!=v;v=v.nextSibling){var E=v.nodeType;if(1===E||3===E)break}return v}function gd(v){v=v.previousSibling;for(var E=0;v;){if(8===v.nodeType){var V=
v.data;if("$"===V||"$!"===V||"$?"===V){if(0===E)return v;E--}else"/$"===V&&E++}v=v.previousSibling}return null}function qc(v){return{$$typeof:ti,toString:v,valueOf:v}}function rb(v){var E=v[oj];if(E)return E;for(var V=v.parentNode;V;){if(E=V[Oj]||V[oj]){V=E.alternate;if(null!==E.child||null!==V&&null!==V.child)for(v=gd(v);null!==v;){if(V=v[oj])return V;v=gd(v)}return E}v=V;V=v.parentNode}return null}function Bb(v){v=v[oj]||v[Oj];return!v||5!==v.tag&&6!==v.tag&&13!==v.tag&&3!==v.tag?null:v}function ic(v){if(5===
v.tag||6===v.tag)return v.stateNode;throw Error(w(33));}function Uc(v){return v[Qj]||null}function Rd(v){var E=v[jl];void 0===E&&(E=v[jl]=new Set);return E}function Md(v){return{current:v}}function Gd(v){0>Rj||(v.current=Pk[Rj],Pk[Rj]=null,Rj--)}function Pd(v,E){Rj++;Pk[Rj]=v.current;v.current=E}function Le(v,E){var V=v.type.contextTypes;if(!V)return Ri;var Pa=v.stateNode;if(Pa&&Pa.__reactInternalMemoizedUnmaskedChildContext===E)return Pa.__reactInternalMemoizedMaskedChildContext;var hb={},Eb;for(Eb in V)hb[Eb]=
E[Eb];Pa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=E,v.__reactInternalMemoizedMaskedChildContext=hb);return hb}function Se(v){v=v.childContextTypes;return null!==v&&void 0!==v}function ha(){Gd(pi);Gd(Qh)}function ob(v,E,V){if(Qh.current!==Ri)throw Error(w(168));Pd(Qh,E);Pd(pi,V)}function Ea(v,E,V){var Pa=v.stateNode;v=E.childContextTypes;if("function"!==typeof Pa.getChildContext)return V;Pa=Pa.getChildContext();for(var hb in Pa)if(!(hb in v))throw Error(w(108,x(E)||"Unknown",hb));
return Hf({},V,Pa)}function Ib(v){v=(v=v.stateNode)&&v.__reactInternalMemoizedMergedChildContext||Ri;pj=Qh.current;Pd(Qh,v);Pd(pi,pi.current);return!0}function Yb(v,E,V){var Pa=v.stateNode;if(!Pa)throw Error(w(169));V?(v=Ea(v,E,pj),Pa.__reactInternalMemoizedMergedChildContext=v,Gd(pi),Gd(Qh),Pd(Qh,v)):Gd(pi);Pd(pi,V)}function kc(){switch(Qk()){case Sj:return 99;case kl:return 98;case zk:return 97;case Rk:return 96;case ui:return 95;default:throw Error(w(332));}}function Nc(v){switch(v){case 99:return Sj;
case 98:return kl;case 97:return zk;case 96:return Rk;case 95:return ui;default:throw Error(w(332));}}function Jc(v,E){v=Nc(v);return Wf(v,E)}function pd(v,E,V){v=Nc(v);return hh(v,E,V)}function qd(){if(null!==Ak){var v=Ak;Ak=null;se(v)}Yd()}function Yd(){if(!Tj&&null!==Ai){Tj=!0;var v=0;try{var E=Ai;Jc(99,function(){for(;v<E.length;v++){var V=E[v];do V=V(!0);while(null!==V)}});Ai=null}catch(V){throw null!==Ai&&(Ai=Ai.slice(v+1)),hh(Sj,qd),V;}finally{Tj=!1}}}function Od(v,E){if(v&&v.defaultProps){E=
Hf({},E);v=v.defaultProps;for(var V in v)void 0===E[V]&&(E[V]=v[V])}return E}function Jd(v){var E=Rh.current;Gd(Rh);v.type._context._currentValue=E}function ed(v,E){for(;null!==v;){var V=v.alternate;if((v.childLanes&E)===E)if(null===V||(V.childLanes&E)===E)break;else V.childLanes|=E;else v.childLanes|=E,null!==V&&(V.childLanes|=E);v=v.return}}function sd(v,E){qj=v;rj=sj=null;v=v.dependencies;null!==v&&null!==v.firstContext&&(0!==(v.lanes&E)&&(Ii=!0),v.firstContext=null)}function wc(v,E){if(rj!==v&&
!1!==E&&0!==E){if("number"!==typeof E||1073741823===E)rj=v,E=1073741823;E={context:v,observedBits:E,next:null};if(null===sj){if(null===qj)throw Error(w(308));sj=E;qj.dependencies={lanes:0,firstContext:E,responders:null}}else sj=sj.next=E}return v._currentValue}function Rc(v){v.updateQueue={baseState:v.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Lc(v,E){v=v.updateQueue;E.updateQueue===v&&(E.updateQueue={baseState:v.baseState,firstBaseUpdate:v.firstBaseUpdate,
lastBaseUpdate:v.lastBaseUpdate,shared:v.shared,effects:v.effects})}function ud(v,E){return{eventTime:v,lane:E,tag:0,payload:null,callback:null,next:null}}function kb(v,E){v=v.updateQueue;if(null!==v){v=v.shared;var V=v.pending;null===V?E.next=E:(E.next=V.next,V.next=E);v.pending=E}}function Gb(v,E){var V=v.updateQueue,Pa=v.alternate;if(null!==Pa&&(Pa=Pa.updateQueue,V===Pa)){var hb=null,Eb=null;V=V.firstBaseUpdate;if(null!==V){do{var cc={eventTime:V.eventTime,lane:V.lane,tag:V.tag,payload:V.payload,
callback:V.callback,next:null};null===Eb?hb=Eb=cc:Eb=Eb.next=cc;V=V.next}while(null!==V);null===Eb?hb=Eb=E:Eb=Eb.next=E}else hb=Eb=E;V={baseState:Pa.baseState,firstBaseUpdate:hb,lastBaseUpdate:Eb,shared:Pa.shared,effects:Pa.effects};v.updateQueue=V}else v=V.lastBaseUpdate,null===v?V.firstBaseUpdate=E:v.next=E,V.lastBaseUpdate=E}function Pb(v,E,V,Pa){var hb=v.updateQueue;Wh=!1;var Eb=hb.firstBaseUpdate,cc=hb.lastBaseUpdate,vc=hb.shared.pending;if(null!==vc){hb.shared.pending=null;var cd=vc,Qd=cd.next;
cd.next=null;null===cc?Eb=Qd:cc.next=Qd;cc=cd;var Xe=v.alternate;if(null!==Xe){Xe=Xe.updateQueue;var If=Xe.lastBaseUpdate;If!==cc&&(null===If?Xe.firstBaseUpdate=Qd:If.next=Qd,Xe.lastBaseUpdate=cd)}}if(null!==Eb){If=hb.baseState;cc=0;Xe=Qd=cd=null;do{vc=Eb.lane;var me=Eb.eventTime;if((Pa&vc)===vc){null!==Xe&&(Xe=Xe.next={eventTime:me,lane:0,tag:Eb.tag,payload:Eb.payload,callback:Eb.callback,next:null});a:{var rf=v,Kf=Eb;vc=E;me=V;switch(Kf.tag){case 1:rf=Kf.payload;if("function"===typeof rf){If=rf.call(me,
If,vc);break a}If=rf;break a;case 3:rf.flags=rf.flags&-4097|64;case 0:rf=Kf.payload;vc="function"===typeof rf?rf.call(me,If,vc):rf;if(null===vc||void 0===vc)break a;If=Hf({},If,vc);break a;case 2:Wh=!0}}null!==Eb.callback&&(v.flags|=32,vc=hb.effects,null===vc?hb.effects=[Eb]:vc.push(Eb))}else me={eventTime:me,lane:vc,tag:Eb.tag,payload:Eb.payload,callback:Eb.callback,next:null},null===Xe?(Qd=Xe=me,cd=If):Xe=Xe.next=me,cc|=vc;Eb=Eb.next;if(null===Eb)if(vc=hb.shared.pending,null===vc)break;else Eb=
vc.next,vc.next=null,hb.lastBaseUpdate=vc,hb.shared.pending=null}while(1);null===Xe&&(cd=If);hb.baseState=cd;hb.firstBaseUpdate=Qd;hb.lastBaseUpdate=Xe;tj|=cc;v.lanes=cc;v.memoizedState=If}}function bc(v,E,V){v=E.effects;E.effects=null;if(null!==v)for(E=0;E<v.length;E++){var Pa=v[E],hb=Pa.callback;if(null!==hb){Pa.callback=null;Pa=V;if("function"!==typeof hb)throw Error(w(191,hb));hb.call(Pa)}}}function fa(v,E,V,Pa){E=v.memoizedState;V=V(Pa,E);V=null===V||void 0===V?E:Hf({},E,V);v.memoizedState=V;
0===v.lanes&&(v.updateQueue.baseState=V)}function Ia(v,E,V,Pa,hb,Eb,cc){v=v.stateNode;return"function"===typeof v.shouldComponentUpdate?v.shouldComponentUpdate(Pa,Eb,cc):E.prototype&&E.prototype.isPureReactComponent?!Dc(V,Pa)||!Dc(hb,Eb):!0}function gb(v,E,V){var Pa=!1,hb=Ri,Eb=E.contextType;"object"===typeof Eb&&null!==Eb?Eb=wc(Eb):(hb=Se(E)?pj:Qh.current,Pa=E.contextTypes,Eb=(Pa=null!==Pa&&void 0!==Pa)?Le(v,hb):Ri);E=new E(V,Eb);v.memoizedState=null!==E.state&&void 0!==E.state?E.state:null;E.updater=
Bk;v.stateNode=E;E._reactInternals=v;Pa&&(v=v.stateNode,v.__reactInternalMemoizedUnmaskedChildContext=hb,v.__reactInternalMemoizedMaskedChildContext=Eb);return E}function Fb(v,E,V,Pa){v=E.state;"function"===typeof E.componentWillReceiveProps&&E.componentWillReceiveProps(V,Pa);"function"===typeof E.UNSAFE_componentWillReceiveProps&&E.UNSAFE_componentWillReceiveProps(V,Pa);E.state!==v&&Bk.enqueueReplaceState(E,E.state,null)}function Kb(v,E,V,Pa){var hb=v.stateNode;hb.props=V;hb.state=v.memoizedState;
hb.refs=Ck;Rc(v);var Eb=E.contextType;"object"===typeof Eb&&null!==Eb?hb.context=wc(Eb):(Eb=Se(E)?pj:Qh.current,hb.context=Le(v,Eb));Pb(v,V,hb,Pa);hb.state=v.memoizedState;Eb=E.getDerivedStateFromProps;"function"===typeof Eb&&(fa(v,E,Eb,V),hb.state=v.memoizedState);"function"===typeof E.getDerivedStateFromProps||"function"===typeof hb.getSnapshotBeforeUpdate||"function"!==typeof hb.UNSAFE_componentWillMount&&"function"!==typeof hb.componentWillMount||(E=hb.state,"function"===typeof hb.componentWillMount&&
hb.componentWillMount(),"function"===typeof hb.UNSAFE_componentWillMount&&hb.UNSAFE_componentWillMount(),E!==hb.state&&Bk.enqueueReplaceState(hb,hb.state,null),Pb(v,V,hb,Pa),hb.state=v.memoizedState);"function"===typeof hb.componentDidMount&&(v.flags|=4)}function Ob(v,E,V){v=V.ref;if(null!==v&&"function"!==typeof v&&"object"!==typeof v){if(V._owner){if(V=V._owner){if(1!==V.tag)throw Error(w(309));var Pa=V.stateNode}if(!Pa)throw Error(w(147,v));var hb=""+v;if(null!==E&&null!==E.ref&&"function"===typeof E.ref&&
E.ref._stringRef===hb)return E.ref;E=function(Eb){var cc=Pa.refs;cc===Ck&&(cc=Pa.refs={});null===Eb?delete cc[hb]:cc[hb]=Eb};E._stringRef=hb;return E}if("string"!==typeof v)throw Error(w(284));if(!V._owner)throw Error(w(290,v));}return v}function oc(v,E){if("textarea"!==v.type)throw Error(w(31,"[object Object]"===Object.prototype.toString.call(E)?"object with keys {"+Object.keys(E).join(", ")+"}":E));}function Oc(v){function E(Cd,md){if(v){var zd=Cd.lastEffect;null!==zd?(zd.nextEffect=md,Cd.lastEffect=
md):Cd.firstEffect=Cd.lastEffect=md;md.nextEffect=null;md.flags=8}}function V(Cd,md){if(!v)return null;for(;null!==md;)E(Cd,md),md=md.sibling;return null}function Pa(Cd,md){for(Cd=new Map;null!==md;)null!==md.key?Cd.set(md.key,md):Cd.set(md.index,md),md=md.sibling;return Cd}function hb(Cd,md){Cd=pa(Cd,md);Cd.index=0;Cd.sibling=null;return Cd}function Eb(Cd,md,zd){Cd.index=zd;if(!v)return md;zd=Cd.alternate;if(null!==zd)return zd=zd.index,zd<md?(Cd.flags=2,md):zd;Cd.flags=2;return md}function cc(Cd){v&&
null===Cd.alternate&&(Cd.flags=2);return Cd}function vc(Cd,md,zd,de){if(null===md||6!==md.tag)return md=gc(zd,Cd.mode,de),md.return=Cd,md;md=hb(md,zd);md.return=Cd;return md}function cd(Cd,md,zd,de){if(null!==md&&md.elementType===zd.type)return de=hb(md,zd.props),de.ref=Ob(Cd,md,zd),de.return=Cd,de;de=Qa(zd.type,zd.key,zd.props,null,Cd.mode,de);de.ref=Ob(Cd,md,zd);de.return=Cd;return de}function Qd(Cd,md,zd,de){if(null===md||4!==md.tag||md.stateNode.containerInfo!==zd.containerInfo||md.stateNode.implementation!==
zd.implementation)return md=Qc(zd,Cd.mode,de),md.return=Cd,md;md=hb(md,zd.children||[]);md.return=Cd;return md}function Xe(Cd,md,zd,de,ke){if(null===md||7!==md.tag)return md=mb(zd,Cd.mode,de,ke),md.return=Cd,md;md=hb(md,zd);md.return=Cd;return md}function If(Cd,md,zd){if("string"===typeof md||"number"===typeof md)return md=gc(""+md,Cd.mode,zd),md.return=Cd,md;if("object"===typeof md&&null!==md){switch(md.$$typeof){case Lf:return zd=Qa(md.type,md.key,md.props,null,Cd.mode,zd),zd.ref=Ob(Cd,null,md),
zd.return=Cd,zd;case Yg:return md=Qc(md,Cd.mode,zd),md.return=Cd,md}if(Si(md)||e(md))return md=mb(md,Cd.mode,zd,null),md.return=Cd,md;oc(Cd,md)}return null}function me(Cd,md,zd,de){var ke=null!==md?md.key:null;if("string"===typeof zd||"number"===typeof zd)return null!==ke?null:vc(Cd,md,""+zd,de);if("object"===typeof zd&&null!==zd){switch(zd.$$typeof){case Lf:return zd.key===ke?zd.type===xh?Xe(Cd,md,zd.props.children,de,ke):cd(Cd,md,zd,de):null;case Yg:return zd.key===ke?Qd(Cd,md,zd,de):null}if(Si(zd)||
e(zd))return null!==ke?null:Xe(Cd,md,zd,de,null);oc(Cd,zd)}return null}function rf(Cd,md,zd,de,ke){if("string"===typeof de||"number"===typeof de)return Cd=Cd.get(zd)||null,vc(md,Cd,""+de,ke);if("object"===typeof de&&null!==de){switch(de.$$typeof){case Lf:return Cd=Cd.get(null===de.key?zd:de.key)||null,de.type===xh?Xe(md,Cd,de.props.children,ke,de.key):cd(md,Cd,de,ke);case Yg:return Cd=Cd.get(null===de.key?zd:de.key)||null,Qd(md,Cd,de,ke)}if(Si(de)||e(de))return Cd=Cd.get(zd)||null,Xe(md,Cd,de,ke,
null);oc(md,de)}return null}function Kf(Cd,md,zd,de){for(var ke=null,Rf=null,kf=md,Sf=md=0,Pf=null;null!==kf&&Sf<zd.length;Sf++){kf.index>Sf?(Pf=kf,kf=null):Pf=kf.sibling;var ag=me(Cd,kf,zd[Sf],de);if(null===ag){null===kf&&(kf=Pf);break}v&&kf&&null===ag.alternate&&E(Cd,kf);md=Eb(ag,md,Sf);null===Rf?ke=ag:Rf.sibling=ag;Rf=ag;kf=Pf}if(Sf===zd.length)return V(Cd,kf),ke;if(null===kf){for(;Sf<zd.length;Sf++)kf=If(Cd,zd[Sf],de),null!==kf&&(md=Eb(kf,md,Sf),null===Rf?ke=kf:Rf.sibling=kf,Rf=kf);return ke}for(kf=
Pa(Cd,kf);Sf<zd.length;Sf++)Pf=rf(kf,Cd,Sf,zd[Sf],de),null!==Pf&&(v&&null!==Pf.alternate&&kf.delete(null===Pf.key?Sf:Pf.key),md=Eb(Pf,md,Sf),null===Rf?ke=Pf:Rf.sibling=Pf,Rf=Pf);v&&kf.forEach(function(Hg){return E(Cd,Hg)});return ke}function Ef(Cd,md,zd,de){var ke=e(zd);if("function"!==typeof ke)throw Error(w(150));zd=ke.call(zd);if(null==zd)throw Error(w(151));for(var Rf=ke=null,kf=md,Sf=md=0,Pf=null,ag=zd.next();null!==kf&&!ag.done;Sf++,ag=zd.next()){kf.index>Sf?(Pf=kf,kf=null):Pf=kf.sibling;var Hg=
me(Cd,kf,ag.value,de);if(null===Hg){null===kf&&(kf=Pf);break}v&&kf&&null===Hg.alternate&&E(Cd,kf);md=Eb(Hg,md,Sf);null===Rf?ke=Hg:Rf.sibling=Hg;Rf=Hg;kf=Pf}if(ag.done)return V(Cd,kf),ke;if(null===kf){for(;!ag.done;Sf++,ag=zd.next())ag=If(Cd,ag.value,de),null!==ag&&(md=Eb(ag,md,Sf),null===Rf?ke=ag:Rf.sibling=ag,Rf=ag);return ke}for(kf=Pa(Cd,kf);!ag.done;Sf++,ag=zd.next())ag=rf(kf,Cd,Sf,ag.value,de),null!==ag&&(v&&null!==ag.alternate&&kf.delete(null===ag.key?Sf:ag.key),md=Eb(ag,md,Sf),null===Rf?ke=
ag:Rf.sibling=ag,Rf=ag);v&&kf.forEach(function(ih){return E(Cd,ih)});return ke}return function(Cd,md,zd,de){var ke="object"===typeof zd&&null!==zd&&zd.type===xh&&null===zd.key;ke&&(zd=zd.props.children);var Rf="object"===typeof zd&&null!==zd;if(Rf)switch(zd.$$typeof){case Lf:a:{Rf=zd.key;for(ke=md;null!==ke;){if(ke.key===Rf){switch(ke.tag){case 7:if(zd.type===xh){V(Cd,ke.sibling);md=hb(ke,zd.props.children);md.return=Cd;Cd=md;break a}break;default:if(ke.elementType===zd.type){V(Cd,ke.sibling);md=
hb(ke,zd.props);md.ref=Ob(Cd,ke,zd);md.return=Cd;Cd=md;break a}}V(Cd,ke);break}else E(Cd,ke);ke=ke.sibling}zd.type===xh?(md=mb(zd.props.children,Cd.mode,de,zd.key),md.return=Cd,Cd=md):(de=Qa(zd.type,zd.key,zd.props,null,Cd.mode,de),de.ref=Ob(Cd,md,zd),de.return=Cd,Cd=de)}return cc(Cd);case Yg:a:{for(ke=zd.key;null!==md;){if(md.key===ke)if(4===md.tag&&md.stateNode.containerInfo===zd.containerInfo&&md.stateNode.implementation===zd.implementation){V(Cd,md.sibling);md=hb(md,zd.children||[]);md.return=
Cd;Cd=md;break a}else{V(Cd,md);break}else E(Cd,md);md=md.sibling}md=Qc(zd,Cd.mode,de);md.return=Cd;Cd=md}return cc(Cd)}if("string"===typeof zd||"number"===typeof zd)return zd=""+zd,null!==md&&6===md.tag?(V(Cd,md.sibling),md=hb(md,zd),md.return=Cd,Cd=md):(V(Cd,md),md=gc(zd,Cd.mode,de),md.return=Cd,Cd=md),cc(Cd);if(Si(zd))return Kf(Cd,md,zd,de);if(e(zd))return Ef(Cd,md,zd,de);Rf&&oc(Cd,zd);if("undefined"===typeof zd&&!ke)switch(Cd.tag){case 1:case 22:case 0:case 11:case 15:throw Error(w(152,x(Cd.type)||
"Component"));}return V(Cd,md)}}function yc(v){if(v===ik)throw Error(w(174));return v}function fd(v,E){Pd(Uj,E);Pd(uj,v);Pd(Sh,ik);v=E.nodeType;switch(v){case 9:case 11:E=(E=E.documentElement)?E.namespaceURI:Z(null,"");break;default:v=8===v?E.parentNode:E,E=v.namespaceURI||null,v=v.tagName,E=Z(E,v)}Gd(Sh);Pd(Sh,E)}function Ec(){Gd(Sh);Gd(uj);Gd(Uj)}function Fd(v){yc(Uj.current);var E=yc(Sh.current),V=Z(E,v.type);E!==V&&(Pd(uj,v),Pd(Sh,V))}function Be(v){uj.current===v&&(Gd(Sh),Gd(uj))}function fe(v){for(var E=
v;null!==E;){if(13===E.tag){var V=E.memoizedState;if(null!==V&&(V=V.dehydrated,null===V||"$?"===V.data||"$!"===V.data))return E}else if(19===E.tag&&void 0!==E.memoizedProps.revealOrder){if(0!==(E.flags&64))return E}else if(null!==E.child){E.child.return=E;E=E.child;continue}if(E===v)break;for(;null===E.sibling;){if(null===E.return||E.return===v)return null;E=E.return}E.sibling.return=E.return;E=E.sibling}return null}function Ae(v,E){var V=pc(5,null,null,0);V.elementType="DELETED";V.type="DELETED";
V.stateNode=E;V.return=v;V.flags=8;null!==v.lastEffect?(v.lastEffect.nextEffect=V,v.lastEffect=V):v.firstEffect=v.lastEffect=V}function Zd(v,E){switch(v.tag){case 5:var V=v.type;E=1!==E.nodeType||V.toLowerCase()!==E.nodeName.toLowerCase()?null:E;return null!==E?(v.stateNode=E,!0):!1;case 6:return E=""===v.pendingProps||3!==E.nodeType?null:E,null!==E?(v.stateNode=E,!0):!1;case 13:return!1;default:return!1}}function vd(v){if(Bi){var E=Ti;if(E){var V=E;if(!Zd(v,E)){E=tc(V.nextSibling);if(!E||!Zd(v,E)){v.flags=
v.flags&-1025|2;Bi=!1;Ji=v;return}Ae(Ji,V)}Ji=v;Ti=tc(E.firstChild)}else v.flags=v.flags&-1025|2,Bi=!1,Ji=v}}function Kd(v){for(v=v.return;null!==v&&5!==v.tag&&3!==v.tag&&13!==v.tag;)v=v.return;Ji=v}function ee(v){if(v!==Ji)return!1;if(!Bi)return Kd(v),Bi=!0,!1;var E=v.type;if(5!==v.tag||"head"!==E&&"body"!==E&&!zb(E,v.memoizedProps))for(E=Ti;E;)Ae(v,E),E=tc(E.nextSibling);Kd(v);if(13===v.tag){v=v.memoizedState;v=null!==v?v.dehydrated:null;if(!v)throw Error(w(317));a:{v=v.nextSibling;for(E=0;v;){if(8===
v.nodeType){var V=v.data;if("/$"===V){if(0===E){Ti=tc(v.nextSibling);break a}E--}else"$"!==V&&"$!"!==V&&"$?"!==V||E++}v=v.nextSibling}Ti=null}}else Ti=Ji?tc(v.stateNode.nextSibling):null;return!0}function xe(){for(var v=0;v<Vj.length;v++)Vj[v]._workInProgressVersionPrimary=null;Vj.length=0}function ze(){throw Error(w(321));}function Te(v,E){if(null===E)return!1;for(var V=0;V<E.length&&V<v.length;V++)if(!zg(v[V],E[V]))return!1;return!0}function Id(v,E,V,Pa,hb,Eb){jk=Eb;uh=E;E.memoizedState=null;E.updateQueue=
null;E.lanes=0;kk.current=null===v||null===v.memoizedState?ll:Al;v=V(Pa,hb);if(Wj){Eb=0;do{Wj=!1;if(!(25>Eb))throw Error(w(301));Eb+=1;Th=Uh=null;E.updateQueue=null;kk.current=ml;v=V(Pa,hb)}while(Wj)}kk.current=Dk;E=null!==Uh&&null!==Uh.next;jk=0;Th=Uh=uh=null;zj=!1;if(E)throw Error(w(300));return v}function sf(){var v={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};null===Th?uh.memoizedState=Th=v:Th=Th.next=v;return Th}function Af(){if(null===Uh){var v=uh.alternate;v=null!==
v?v.memoizedState:null}else v=Uh.next;var E=null===Th?uh.memoizedState:Th.next;if(null!==E)Th=E,Uh=v;else{if(null===v)throw Error(w(310));Uh=v;v={memoizedState:Uh.memoizedState,baseState:Uh.baseState,baseQueue:Uh.baseQueue,queue:Uh.queue,next:null};null===Th?uh.memoizedState=Th=v:Th=Th.next=v}return Th}function Ff(v,E){return"function"===typeof E?E(v):E}function $g(v){var E=Af(),V=E.queue;if(null===V)throw Error(w(311));V.lastRenderedReducer=v;var Pa=Uh,hb=Pa.baseQueue,Eb=V.pending;if(null!==Eb){if(null!==
hb){var cc=hb.next;hb.next=Eb.next;Eb.next=cc}Pa.baseQueue=hb=Eb;V.pending=null}if(null!==hb){hb=hb.next;Pa=Pa.baseState;var vc=cc=Eb=null,cd=hb;do{var Qd=cd.lane;if((jk&Qd)===Qd)null!==vc&&(vc=vc.next={lane:0,action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null}),Pa=cd.eagerReducer===v?cd.eagerState:v(Pa,cd.action);else{var Xe={lane:Qd,action:cd.action,eagerReducer:cd.eagerReducer,eagerState:cd.eagerState,next:null};null===vc?(cc=vc=Xe,Eb=Pa):vc=vc.next=Xe;uh.lanes|=Qd;
tj|=Qd}cd=cd.next}while(null!==cd&&cd!==hb);null===vc?Eb=Pa:vc.next=cc;zg(Pa,E.memoizedState)||(Ii=!0);E.memoizedState=Pa;E.baseState=Eb;E.baseQueue=vc;V.lastRenderedState=Pa}return[E.memoizedState,V.dispatch]}function ie(v){var E=Af(),V=E.queue;if(null===V)throw Error(w(311));V.lastRenderedReducer=v;var Pa=V.dispatch,hb=V.pending,Eb=E.memoizedState;if(null!==hb){V.pending=null;var cc=hb=hb.next;do Eb=v(Eb,cc.action),cc=cc.next;while(cc!==hb);zg(Eb,E.memoizedState)||(Ii=!0);E.memoizedState=Eb;null===
E.baseQueue&&(E.baseState=Eb);V.lastRenderedState=Eb}return[Eb,Pa]}function mf(v,E,V){var Pa=E._getVersion;Pa=Pa(E._source);var hb=E._workInProgressVersionPrimary;if(null!==hb)v=hb===Pa;else if(v=v.mutableReadLanes,v=(jk&v)===v)E._workInProgressVersionPrimary=Pa,Vj.push(E);if(v)return V(E._source);Vj.push(E);throw Error(w(350));}function Tf(v,E,V,Pa){var hb=ah;if(null===hb)throw Error(w(349));var Eb=E._getVersion,cc=Eb(E._source),vc=kk.current,cd=vc.useState(function(){return mf(hb,E,V)}),Qd=cd[1],
Xe=cd[0];cd=Th;var If=v.memoizedState,me=If.refs,rf=me.getSnapshot,Kf=If.source;If=If.subscribe;var Ef=uh;v.memoizedState={refs:me,source:E,subscribe:Pa};vc.useEffect(function(){me.getSnapshot=V;me.setSnapshot=Qd;var Cd=Eb(E._source);if(!zg(cc,Cd)){Cd=V(E._source);zg(Xe,Cd)||(Qd(Cd),Cd=Bf(Ef),hb.mutableReadLanes|=Cd&hb.pendingLanes);Cd=hb.mutableReadLanes;hb.entangledLanes|=Cd;for(var md=hb.entanglements,zd=Cd;0<zd;){var de=31-Gi(zd),ke=1<<de;md[de]|=Cd;zd&=~ke}}},[V,E,Pa]);vc.useEffect(function(){return Pa(E._source,
function(){var Cd=me.getSnapshot,md=me.setSnapshot;try{md(Cd(E._source));var zd=Bf(Ef);hb.mutableReadLanes|=zd&hb.pendingLanes}catch(de){md(function(){throw de;})}})},[E,Pa]);zg(rf,V)&&zg(Kf,E)&&zg(If,Pa)||(v={pending:null,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:Xe},v.dispatch=Qd=Wa.bind(null,uh,v),cd.queue=v,cd.baseQueue=null,Xe=mf(hb,E,V),cd.memoizedState=cd.baseState=Xe);return Xe}function Gf(v,E,V){var Pa=Af();return Tf(Pa,v,E,V)}function Ag(v){var E=sf();"function"===typeof v&&
(v=v());E.memoizedState=E.baseState=v;v=E.queue={pending:null,dispatch:null,lastRenderedReducer:Ff,lastRenderedState:v};v=v.dispatch=Wa.bind(null,uh,v);return[E.memoizedState,v]}function ng(v,E,V,Pa){v={tag:v,create:E,destroy:V,deps:Pa,next:null};E=uh.updateQueue;null===E?(E={lastEffect:null},uh.updateQueue=E,E.lastEffect=v.next=v):(V=E.lastEffect,null===V?E.lastEffect=v.next=v:(Pa=V.next,V.next=v,v.next=Pa,E.lastEffect=v));return v}function ug(v){var E=sf();v={current:v};return E.memoizedState=v}
function Sg(){return Af().memoizedState}function ig(v,E,V,Pa){var hb=sf();uh.flags|=v;hb.memoizedState=ng(1|E,V,void 0,void 0===Pa?null:Pa)}function Cf(v,E,V,Pa){var hb=Af();Pa=void 0===Pa?null:Pa;var Eb=void 0;if(null!==Uh){var cc=Uh.memoizedState;Eb=cc.destroy;if(null!==Pa&&Te(Pa,cc.deps)){ng(E,V,Eb,Pa);return}}uh.flags|=v;hb.memoizedState=ng(1|E,V,Eb,Pa)}function vg(v,E){return ig(516,4,v,E)}function og(v,E){return Cf(516,4,v,E)}function Uf(v,E){return Cf(4,2,v,E)}function Xf(v,E){if("function"===
typeof E)return v=v(),E(v),function(){E(null)};if(null!==E&&void 0!==E)return v=v(),E.current=v,function(){E.current=null}}function Tg(v,E,V){V=null!==V&&void 0!==V?V.concat([v]):null;return Cf(4,2,Xf.bind(null,E,v),V)}function bh(){}function Ng(v,E){var V=Af();E=void 0===E?null:E;var Pa=V.memoizedState;if(null!==Pa&&null!==E&&Te(E,Pa[1]))return Pa[0];V.memoizedState=[v,E];return v}function Ig(v,E){var V=Af();E=void 0===E?null:E;var Pa=V.memoizedState;if(null!==Pa&&null!==E&&Te(E,Pa[1]))return Pa[0];
v=v();V.memoizedState=[v,E];return v}function Jg(v,E){var V=kc();Jc(98>V?98:V,function(){v(!0)});Jc(97<V?97:V,function(){var Pa=Ci.transition;Ci.transition=1;try{v(!1),E()}finally{Ci.transition=Pa}})}function Wa(v,E,V){var Pa=dg(),hb=Bf(v),Eb={lane:hb,action:V,eagerReducer:null,eagerState:null,next:null},cc=E.pending;null===cc?Eb.next=Eb:(Eb.next=cc.next,cc.next=Eb);E.pending=Eb;cc=v.alternate;if(v===uh||null!==cc&&cc===uh)Wj=zj=!0;else{if(0===v.lanes&&(null===cc||0===cc.lanes)&&(cc=E.lastRenderedReducer,
null!==cc))try{var vc=E.lastRenderedState,cd=cc(vc,V);Eb.eagerReducer=cc;Eb.eagerState=cd;if(zg(cd,vc))return}catch(Qd){}finally{}jg(v,hb,Pa)}}function Cb(v,E,V,Pa){E.child=null===v?Sk(E,null,V,Pa):Di(E,v.child,V,Pa)}function hc(v,E,V,Pa,hb){V=V.render;var Eb=E.ref;sd(E,hb);Pa=Id(v,E,V,Pa,Eb,hb);if(null!==v&&!Ii)return E.updateQueue=v.updateQueue,E.flags&=-517,v.lanes&=~hb,vh(v,E,hb);E.flags|=1;Cb(v,E,Pa,hb);return E.child}function yd(v,E,V,Pa,hb,Eb){if(null===v){var cc=V.type;if("function"===typeof cc&&
!sc(cc)&&void 0===cc.defaultProps&&null===V.compare&&void 0===V.defaultProps)return E.tag=15,E.type=cc,Dd(v,E,cc,Pa,hb,Eb);v=Qa(V.type,null,Pa,E,E.mode,Eb);v.ref=E.ref;v.return=E;return E.child=v}cc=v.child;if(0===(hb&Eb)&&(hb=cc.memoizedProps,V=V.compare,V=null!==V?V:Dc,V(hb,Pa)&&v.ref===E.ref))return vh(v,E,Eb);E.flags|=1;v=pa(cc,Pa);v.ref=E.ref;v.return=E;return E.child=v}function Dd(v,E,V,Pa,hb,Eb){if(null!==v&&Dc(v.memoizedProps,Pa)&&v.ref===E.ref)if(Ii=!1,0!==(Eb&hb))0!==(v.flags&16384)&&(Ii=
!0);else return E.lanes=v.lanes,vh(v,E,Eb);return uf(v,E,V,Pa,Eb)}function ne(v,E,V){var Pa=E.pendingProps,hb=Pa.children,Eb=null!==v?v.memoizedState:null;if("hidden"===Pa.mode||"unstable-defer-without-hiding"===Pa.mode)if(0===(E.mode&4))E.memoizedState={baseLanes:0},ef(E,V);else if(0!==(V&1073741824))E.memoizedState={baseLanes:0},ef(E,null!==Eb?Eb.baseLanes:V);else return v=null!==Eb?Eb.baseLanes|V:V,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:v},ef(E,v),null;else null!==Eb?(Pa=Eb.baseLanes|
V,E.memoizedState=null):Pa=V,ef(E,Pa);Cb(v,E,hb,V);return E.child}function of(v,E){var V=E.ref;if(null===v&&null!==V||null!==v&&v.ref!==V)E.flags|=128}function uf(v,E,V,Pa,hb){var Eb=Se(V)?pj:Qh.current;Eb=Le(E,Eb);sd(E,hb);V=Id(v,E,V,Pa,Eb,hb);if(null!==v&&!Ii)return E.updateQueue=v.updateQueue,E.flags&=-517,v.lanes&=~hb,vh(v,E,hb);E.flags|=1;Cb(v,E,V,hb);return E.child}function Wg(v,E,V,Pa,hb){if(Se(V)){var Eb=!0;Ib(E)}else Eb=!1;sd(E,hb);if(null===E.stateNode)null!==v&&(v.alternate=null,E.alternate=
null,E.flags|=2),gb(E,V,Pa),Kb(E,V,Pa,hb),Pa=!0;else if(null===v){var cc=E.stateNode,vc=E.memoizedProps;cc.props=vc;var cd=cc.context,Qd=V.contextType;"object"===typeof Qd&&null!==Qd?Qd=wc(Qd):(Qd=Se(V)?pj:Qh.current,Qd=Le(E,Qd));var Xe=V.getDerivedStateFromProps,If="function"===typeof Xe||"function"===typeof cc.getSnapshotBeforeUpdate;If||"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||(vc!==Pa||cd!==Qd)&&Fb(E,cc,Pa,Qd);Wh=!1;var me=E.memoizedState;
cc.state=me;Pb(E,Pa,cc,hb);cd=E.memoizedState;vc!==Pa||me!==cd||pi.current||Wh?("function"===typeof Xe&&(fa(E,V,Xe,Pa),cd=E.memoizedState),(vc=Wh||Ia(E,V,vc,Pa,me,cd,Qd))?(If||"function"!==typeof cc.UNSAFE_componentWillMount&&"function"!==typeof cc.componentWillMount||("function"===typeof cc.componentWillMount&&cc.componentWillMount(),"function"===typeof cc.UNSAFE_componentWillMount&&cc.UNSAFE_componentWillMount()),"function"===typeof cc.componentDidMount&&(E.flags|=4)):("function"===typeof cc.componentDidMount&&
(E.flags|=4),E.memoizedProps=Pa,E.memoizedState=cd),cc.props=Pa,cc.state=cd,cc.context=Qd,Pa=vc):("function"===typeof cc.componentDidMount&&(E.flags|=4),Pa=!1)}else{cc=E.stateNode;Lc(v,E);vc=E.memoizedProps;Qd=E.type===E.elementType?vc:Od(E.type,vc);cc.props=Qd;If=E.pendingProps;me=cc.context;cd=V.contextType;"object"===typeof cd&&null!==cd?cd=wc(cd):(cd=Se(V)?pj:Qh.current,cd=Le(E,cd));var rf=V.getDerivedStateFromProps;(Xe="function"===typeof rf||"function"===typeof cc.getSnapshotBeforeUpdate)||
"function"!==typeof cc.UNSAFE_componentWillReceiveProps&&"function"!==typeof cc.componentWillReceiveProps||(vc!==If||me!==cd)&&Fb(E,cc,Pa,cd);Wh=!1;me=E.memoizedState;cc.state=me;Pb(E,Pa,cc,hb);var Kf=E.memoizedState;vc!==If||me!==Kf||pi.current||Wh?("function"===typeof rf&&(fa(E,V,rf,Pa),Kf=E.memoizedState),(Qd=Wh||Ia(E,V,Qd,Pa,me,Kf,cd))?(Xe||"function"!==typeof cc.UNSAFE_componentWillUpdate&&"function"!==typeof cc.componentWillUpdate||("function"===typeof cc.componentWillUpdate&&cc.componentWillUpdate(Pa,
Kf,cd),"function"===typeof cc.UNSAFE_componentWillUpdate&&cc.UNSAFE_componentWillUpdate(Pa,Kf,cd)),"function"===typeof cc.componentDidUpdate&&(E.flags|=4),"function"===typeof cc.getSnapshotBeforeUpdate&&(E.flags|=256)):("function"!==typeof cc.componentDidUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=256),E.memoizedProps=Pa,E.memoizedState=Kf),cc.props=Pa,cc.state=Kf,cc.context=
cd,Pa=Qd):("function"!==typeof cc.componentDidUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=4),"function"!==typeof cc.getSnapshotBeforeUpdate||vc===v.memoizedProps&&me===v.memoizedState||(E.flags|=256),Pa=!1)}return Vf(v,E,V,Pa,Eb,hb)}function Vf(v,E,V,Pa,hb,Eb){of(v,E);var cc=0!==(E.flags&64);if(!Pa&&!cc)return hb&&Yb(E,V,!1),vh(v,E,Eb);Pa=E.stateNode;Tk.current=E;var vc=cc&&"function"!==typeof V.getDerivedStateFromError?null:Pa.render();E.flags|=1;null!==v&&cc?(E.child=Di(E,v.child,
null,Eb),E.child=Di(E,null,vc,Eb)):Cb(v,E,vc,Eb);E.memoizedState=Pa.state;hb&&Yb(E,V,!0);return E.child}function Xg(v){var E=v.stateNode;E.pendingContext?ob(v,E.pendingContext,E.pendingContext!==E.context):E.context&&ob(v,E.context,!1);fd(v,E.containerInfo)}function Fh(v,E,V){var Pa=E.pendingProps,hb=Bh.current,Eb=!1,cc;(cc=0!==(E.flags&64))||(cc=null!==v&&null===v.memoizedState?!1:0!==(hb&2));cc?(Eb=!0,E.flags&=-65):null!==v&&null===v.memoizedState||void 0===Pa.fallback||!0===Pa.unstable_avoidThisFallback||
(hb|=1);Pd(Bh,hb&1);if(null===v){void 0!==Pa.fallback&&vd(E);v=Pa.children;hb=Pa.fallback;if(Eb)return v=qh(E,v,hb,V),E.child.memoizedState={baseLanes:V},E.memoizedState=Xh,v;if("number"===typeof Pa.unstable_expectedLoadTime)return v=qh(E,v,hb,V),E.child.memoizedState={baseLanes:V},E.memoizedState=Xh,E.lanes=33554432,v;V=pb({mode:"visible",children:v},E.mode,V,null);V.return=E;return E.child=V}if(null!==v.memoizedState){if(Eb)return Pa=Ug(v,E,Pa.children,Pa.fallback,V),Eb=E.child,hb=v.child.memoizedState,
Eb.memoizedState=null===hb?{baseLanes:V}:{baseLanes:hb.baseLanes|V},Eb.childLanes=v.childLanes&~V,E.memoizedState=Xh,Pa;V=wg(v,E,Pa.children,V);E.memoizedState=null;return V}if(Eb)return Pa=Ug(v,E,Pa.children,Pa.fallback,V),Eb=E.child,hb=v.child.memoizedState,Eb.memoizedState=null===hb?{baseLanes:V}:{baseLanes:hb.baseLanes|V},Eb.childLanes=v.childLanes&~V,E.memoizedState=Xh,Pa;V=wg(v,E,Pa.children,V);E.memoizedState=null;return V}function qh(v,E,V,Pa){var hb=v.mode,Eb=v.child;E={mode:"hidden",children:E};
0===(hb&2)&&null!==Eb?(Eb.childLanes=0,Eb.pendingProps=E):Eb=pb(E,hb,0,null);V=mb(V,hb,Pa,null);Eb.return=v;V.return=v;Eb.sibling=V;v.child=Eb;return V}function wg(v,E,V,Pa){var hb=v.child;v=hb.sibling;V=pa(hb,{mode:"visible",children:V});0===(E.mode&2)&&(V.lanes=Pa);V.return=E;V.sibling=null;null!==v&&(v.nextEffect=null,v.flags=8,E.firstEffect=E.lastEffect=v);return E.child=V}function Ug(v,E,V,Pa,hb){var Eb=E.mode,cc=v.child;v=cc.sibling;var vc={mode:"hidden",children:V};0===(Eb&2)&&E.child!==cc?
(V=E.child,V.childLanes=0,V.pendingProps=vc,cc=V.lastEffect,null!==cc?(E.firstEffect=V.firstEffect,E.lastEffect=cc,cc.nextEffect=null):E.firstEffect=E.lastEffect=null):V=pa(cc,vc);null!==v?Pa=pa(v,Pa):(Pa=mb(Pa,Eb,hb,null),Pa.flags|=2);Pa.return=E;V.return=E;V.sibling=Pa;E.child=V;return Pa}function oh(v,E){v.lanes|=E;var V=v.alternate;null!==V&&(V.lanes|=E);ed(v.return,E)}function rh(v,E,V,Pa,hb,Eb){var cc=v.memoizedState;null===cc?v.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,
last:Pa,tail:V,tailMode:hb,lastEffect:Eb}:(cc.isBackwards=E,cc.rendering=null,cc.renderingStartTime=0,cc.last=Pa,cc.tail=V,cc.tailMode=hb,cc.lastEffect=Eb)}function Lh(v,E,V){var Pa=E.pendingProps,hb=Pa.revealOrder,Eb=Pa.tail;Cb(v,E,Pa.children,V);Pa=Bh.current;if(0!==(Pa&2))Pa=Pa&1|2,E.flags|=64;else{if(null!==v&&0!==(v.flags&64))a:for(v=E.child;null!==v;){if(13===v.tag)null!==v.memoizedState&&oh(v,V);else if(19===v.tag)oh(v,V);else if(null!==v.child){v.child.return=v;v=v.child;continue}if(v===E)break a;
for(;null===v.sibling;){if(null===v.return||v.return===E)break a;v=v.return}v.sibling.return=v.return;v=v.sibling}Pa&=1}Pd(Bh,Pa);if(0===(E.mode&2))E.memoizedState=null;else switch(hb){case "forwards":V=E.child;for(hb=null;null!==V;)v=V.alternate,null!==v&&null===fe(v)&&(hb=V),V=V.sibling;V=hb;null===V?(hb=E.child,E.child=null):(hb=V.sibling,V.sibling=null);rh(E,!1,hb,V,Eb,E.lastEffect);break;case "backwards":V=null;hb=E.child;for(E.child=null;null!==hb;){v=hb.alternate;if(null!==v&&null===fe(v)){E.child=
hb;break}v=hb.sibling;hb.sibling=V;V=hb;hb=v}rh(E,!0,V,null,Eb,E.lastEffect);break;case "together":rh(E,!1,null,null,void 0,E.lastEffect);break;default:E.memoizedState=null}return E.child}function vh(v,E,V){null!==v&&(E.dependencies=v.dependencies);tj|=E.lanes;if(0!==(V&E.childLanes)){if(null!==v&&E.child!==v.child)throw Error(w(153));if(null!==E.child){v=E.child;V=pa(v,v.pendingProps);E.child=V;for(V.return=E;null!==v.sibling;)v=v.sibling,V=V.sibling=pa(v,v.pendingProps),V.return=E;V.sibling=null}return E.child}return null}
function Eh(v,E){if(!Bi)switch(v.tailMode){case "hidden":E=v.tail;for(var V=null;null!==E;)null!==E.alternate&&(V=E),E=E.sibling;null===V?v.tail=null:V.sibling=null;break;case "collapsed":V=v.tail;for(var Pa=null;null!==V;)null!==V.alternate&&(Pa=V),V=V.sibling;null===Pa?E||null===v.tail?v.tail=null:v.tail.sibling=null:Pa.sibling=null}}function Kg(v,E,V){var Pa=E.pendingProps;switch(E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Se(E.type)&&
ha(),null;case 3:Ec();Gd(pi);Gd(Qh);xe();Pa=E.stateNode;Pa.pendingContext&&(Pa.context=Pa.pendingContext,Pa.pendingContext=null);if(null===v||null===v.child)ee(E)?E.flags|=4:Pa.hydrate||(E.flags|=256);Uk(E);return null;case 5:Be(E);var hb=yc(Uj.current);V=E.type;if(null!==v&&null!=E.stateNode)Vk(v,E,V,Pa,hb),v.ref!==E.ref&&(E.flags|=128);else{if(!Pa){if(null===E.stateNode)throw Error(w(166));return null}v=yc(Sh.current);if(ee(E)){Pa=E.stateNode;V=E.type;var Eb=E.memoizedProps;Pa[oj]=E;Pa[Qj]=Eb;switch(V){case "dialog":re("cancel",
Pa);re("close",Pa);break;case "iframe":case "object":case "embed":re("load",Pa);break;case "video":case "audio":for(v=0;v<pg.length;v++)re(pg[v],Pa);break;case "source":re("error",Pa);break;case "img":case "image":case "link":re("error",Pa);re("load",Pa);break;case "details":re("toggle",Pa);break;case "input":K(Pa,Eb);re("invalid",Pa);break;case "select":Pa._wrapperState={wasMultiple:!!Eb.multiple};re("invalid",Pa);break;case "textarea":X(Pa,Eb),re("invalid",Pa)}Ja(V,Eb);v=null;for(var cc in Eb)Eb.hasOwnProperty(cc)&&
(hb=Eb[cc],"children"===cc?"string"===typeof hb?Pa.textContent!==hb&&(v=["children",hb]):"number"===typeof hb&&Pa.textContent!==""+hb&&(v=["children",""+hb]):Rg.hasOwnProperty(cc)&&null!=hb&&"onScroll"===cc&&re("scroll",Pa));switch(V){case "input":F(Pa);ca(Pa,Eb,!0);break;case "textarea":F(Pa);B(Pa);break;case "select":case "option":break;default:"function"===typeof Eb.onClick&&(Pa.onclick=wa)}Pa=v;E.updateQueue=Pa;null!==Pa&&(E.flags|=4)}else{cc=9===hb.nodeType?hb:hb.ownerDocument;v===Sa.html&&(v=
N(V));v===Sa.html?"script"===V?(v=cc.createElement("div"),v.innerHTML="\x3cscript\x3e\x3c/script\x3e",v=v.removeChild(v.firstChild)):"string"===typeof Pa.is?v=cc.createElement(V,{is:Pa.is}):(v=cc.createElement(V),"select"===V&&(cc=v,Pa.multiple?cc.multiple=!0:Pa.size&&(cc.size=Pa.size))):v=cc.createElementNS(v,V);v[oj]=E;v[Qj]=Pa;Wk(v,E,!1,!1);E.stateNode=v;cc=bb(V,Pa);switch(V){case "dialog":re("cancel",v);re("close",v);hb=Pa;break;case "iframe":case "object":case "embed":re("load",v);hb=Pa;break;
case "video":case "audio":for(hb=0;hb<pg.length;hb++)re(pg[hb],v);hb=Pa;break;case "source":re("error",v);hb=Pa;break;case "img":case "image":case "link":re("error",v);re("load",v);hb=Pa;break;case "details":re("toggle",v);hb=Pa;break;case "input":K(v,Pa);hb=y(v,Pa);re("invalid",v);break;case "option":hb=Y(v,Pa);break;case "select":v._wrapperState={wasMultiple:!!Pa.multiple};hb=Hf({},Pa,{value:void 0});re("invalid",v);break;case "textarea":X(v,Pa);hb=Ga(v,Pa);re("invalid",v);break;default:hb=Pa}Ja(V,
hb);var vc=hb;for(Eb in vc)if(vc.hasOwnProperty(Eb)){var cd=vc[Eb];"style"===Eb?la(v,cd):"dangerouslySetInnerHTML"===Eb?(cd=cd?cd.__html:void 0,null!=cd&&Zb(v,cd)):"children"===Eb?"string"===typeof cd?("textarea"!==V||""!==cd)&&Aa(v,cd):"number"===typeof cd&&Aa(v,""+cd):"suppressContentEditableWarning"!==Eb&&"suppressHydrationWarning"!==Eb&&"autoFocus"!==Eb&&(Rg.hasOwnProperty(Eb)?null!=cd&&"onScroll"===Eb&&re("scroll",v):null!=cd&&c(v,Eb,cd,cc))}switch(V){case "input":F(v);ca(v,Pa,!1);break;case "textarea":F(v);
B(v);break;case "option":null!=Pa.value&&v.setAttribute("value",""+O(Pa.value));break;case "select":v.multiple=!!Pa.multiple;Eb=Pa.value;null!=Eb?ea(v,!!Pa.multiple,Eb,!1):null!=Pa.defaultValue&&ea(v,!!Pa.multiple,Pa.defaultValue,!0);break;default:"function"===typeof hb.onClick&&(v.onclick=wa)}Xa(V,Pa)&&(E.flags|=4)}null!==E.ref&&(E.flags|=128)}return null;case 6:if(v&&null!=E.stateNode)Ei(v,E,v.memoizedProps,Pa);else{if("string"!==typeof Pa&&null===E.stateNode)throw Error(w(166));V=yc(Uj.current);
yc(Sh.current);ee(E)?(Pa=E.stateNode,V=E.memoizedProps,Pa[oj]=E,Pa.nodeValue!==V&&(E.flags|=4)):(Pa=(9===V.nodeType?V:V.ownerDocument).createTextNode(Pa),Pa[oj]=E,E.stateNode=Pa)}return null;case 13:Gd(Bh);Pa=E.memoizedState;if(0!==(E.flags&64))return E.lanes=V,E;Pa=null!==Pa;V=!1;null===v?void 0!==E.memoizedProps.fallback&&ee(E):V=null!==v.memoizedState;if(Pa&&!V&&0!==(E.mode&2))if(null===v&&!0!==E.memoizedProps.unstable_avoidThisFallback||0!==(Bh.current&1))0===Gh&&(Gh=3);else{if(0===Gh||3===Gh)Gh=
4;null===ah||0===(tj&134217727)&&0===(Aj&134217727)||Og(ah,Mh)}if(Pa||V)E.flags|=4;return null;case 4:return Ec(),Uk(E),null===v&&vf(E.stateNode.containerInfo),null;case 10:return Jd(E),null;case 17:return Se(E.type)&&ha(),null;case 19:Gd(Bh);Pa=E.memoizedState;if(null===Pa)return null;Eb=0!==(E.flags&64);cc=Pa.rendering;if(null===cc)if(Eb)Eh(Pa,!1);else{if(0!==Gh||null!==v&&0!==(v.flags&64))for(v=E.child;null!==v;){cc=fe(v);if(null!==cc){E.flags|=64;Eh(Pa,!1);Eb=cc.updateQueue;null!==Eb&&(E.updateQueue=
Eb,E.flags|=4);null===Pa.lastEffect&&(E.firstEffect=null);E.lastEffect=Pa.lastEffect;Pa=V;for(V=E.child;null!==V;)Eb=V,v=Pa,Eb.flags&=2,Eb.nextEffect=null,Eb.firstEffect=null,Eb.lastEffect=null,cc=Eb.alternate,null===cc?(Eb.childLanes=0,Eb.lanes=v,Eb.child=null,Eb.memoizedProps=null,Eb.memoizedState=null,Eb.updateQueue=null,Eb.dependencies=null,Eb.stateNode=null):(Eb.childLanes=cc.childLanes,Eb.lanes=cc.lanes,Eb.child=cc.child,Eb.memoizedProps=cc.memoizedProps,Eb.memoizedState=cc.memoizedState,Eb.updateQueue=
cc.updateQueue,Eb.type=cc.type,v=cc.dependencies,Eb.dependencies=null===v?null:{lanes:v.lanes,firstContext:v.firstContext}),V=V.sibling;Pd(Bh,Bh.current&1|2);return E.child}v=v.sibling}null!==Pa.tail&&fi()>lk&&(E.flags|=64,Eb=!0,Eh(Pa,!1),E.lanes=33554432)}else{if(!Eb)if(v=fe(cc),null!==v){if(E.flags|=64,Eb=!0,V=v.updateQueue,null!==V&&(E.updateQueue=V,E.flags|=4),Eh(Pa,!0),null===Pa.tail&&"hidden"===Pa.tailMode&&!cc.alternate&&!Bi)return E=E.lastEffect=Pa.lastEffect,null!==E&&(E.nextEffect=null),
null}else 2*fi()-Pa.renderingStartTime>lk&&1073741824!==V&&(E.flags|=64,Eb=!0,Eh(Pa,!1),E.lanes=33554432);Pa.isBackwards?(cc.sibling=E.child,E.child=cc):(V=Pa.last,null!==V?V.sibling=cc:E.child=cc,Pa.last=cc)}return null!==Pa.tail?(V=Pa.tail,Pa.rendering=V,Pa.tail=V.sibling,Pa.lastEffect=E.lastEffect,Pa.renderingStartTime=fi(),V.sibling=null,E=Bh.current,Pd(Bh,Eb?E&1|2:E&1),V):null;case 23:case 24:return Ch(),null!==v&&null!==v.memoizedState!==(null!==E.memoizedState)&&"unstable-defer-without-hiding"!==
Pa.mode&&(E.flags|=4),null}throw Error(w(156,E.tag));}function J(v){switch(v.tag){case 1:Se(v.type)&&ha();var E=v.flags;return E&4096?(v.flags=E&-4097|64,v):null;case 3:Ec();Gd(pi);Gd(Qh);xe();E=v.flags;if(0!==(E&64))throw Error(w(285));v.flags=E&-4097|64;return v;case 5:return Be(v),null;case 13:return Gd(Bh),E=v.flags,E&4096?(v.flags=E&-4097|64,v):null;case 19:return Gd(Bh),null;case 4:return Ec(),null;case 10:return Jd(v),null;case 23:case 24:return Ch(),null;default:return null}}function da(v,
E){try{var V="",Pa=E;do V+=h(Pa),Pa=Pa.return;while(Pa)}catch(hb){V="\nError generating stack: "+hb.message+"\n"+hb.stack}return{value:v,source:E,stack:V}}function La(v,E){try{console.error(E.value)}catch(V){setTimeout(function(){throw V;})}}function db(v,E,V){V=ud(-1,V);V.tag=3;V.payload={element:null};var Pa=E.value;V.callback=function(){Ek||(Ek=!0,Xk=Pa);La(v,E)};return V}function Db(v,E,V){V=ud(-1,V);V.tag=3;var Pa=v.type.getDerivedStateFromError;if("function"===typeof Pa){var hb=E.value;V.payload=
function(){La(v,E);return Pa(hb)}}var Eb=v.stateNode;null!==Eb&&"function"===typeof Eb.componentDidCatch&&(V.callback=function(){"function"!==typeof Pa&&(null===Ki?Ki=new Set([this]):Ki.add(this),La(v,E));var cc=E.stack;this.componentDidCatch(E.value,{componentStack:null!==cc?cc:""})});return V}function Sb(v){var E=v.ref;if(null!==E)if("function"===typeof E)try{E(null)}catch(V){Da(v,V)}else E.current=null}function Cc(v,E){switch(E.tag){case 0:case 11:case 15:case 22:return;case 1:if(E.flags&256&&
null!==v){var V=v.memoizedProps,Pa=v.memoizedState;v=E.stateNode;E=v.getSnapshotBeforeUpdate(E.elementType===E.type?V:Od(E.type,V),Pa);v.__reactInternalSnapshotBeforeUpdate=E}return;case 3:E.flags&256&&Xb(E.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(w(163));}function Zc(v,E,V){switch(V.tag){case 0:case 11:case 15:case 22:E=V.updateQueue;E=null!==E?E.lastEffect:null;if(null!==E){v=E=E.next;do{if(3===(v.tag&3)){var Pa=v.create;v.destroy=Pa()}v=v.next}while(v!==E)}E=
V.updateQueue;E=null!==E?E.lastEffect:null;if(null!==E){v=E=E.next;do{var hb=v;Pa=hb.next;hb=hb.tag;0!==(hb&4)&&0!==(hb&1)&&(eg(V,v),Pe(V,v));v=Pa}while(v!==E)}return;case 1:v=V.stateNode;V.flags&4&&(null===E?v.componentDidMount():(Pa=V.elementType===V.type?E.memoizedProps:Od(V.type,E.memoizedProps),v.componentDidUpdate(Pa,E.memoizedState,v.__reactInternalSnapshotBeforeUpdate)));E=V.updateQueue;null!==E&&bc(V,E,v);return;case 3:E=V.updateQueue;if(null!==E){v=null;if(null!==V.child)switch(V.child.tag){case 5:v=
V.child.stateNode;break;case 1:v=V.child.stateNode}bc(V,E,v)}return;case 5:v=V.stateNode;null===E&&V.flags&4&&Xa(V.type,V.memoizedProps)&&v.focus();return;case 6:return;case 4:return;case 12:return;case 13:null===V.memoizedState&&(V=V.alternate,null!==V&&(V=V.memoizedState,null!==V&&(V=V.dehydrated,null!==V&&Hb(V))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(w(163));}function Xc(v,E){for(var V=v;;){if(5===V.tag){var Pa=V.stateNode;if(E)Pa=Pa.style,"function"===typeof Pa.setProperty?
Pa.setProperty("display","none","important"):Pa.display="none";else{Pa=V.stateNode;var hb=V.memoizedProps.style;hb=void 0!==hb&&null!==hb&&hb.hasOwnProperty("display")?hb.display:null;Pa.style.display=qa("display",hb)}}else if(6===V.tag)V.stateNode.nodeValue=E?"":V.memoizedProps;else if((23!==V.tag&&24!==V.tag||null===V.memoizedState||V===v)&&null!==V.child){V.child.return=V;V=V.child;continue}if(V===v)break;for(;null===V.sibling;){if(null===V.return||V.return===v)return;V=V.return}V.sibling.return=
V.return;V=V.sibling}}function td(v,E){if(gi&&"function"===typeof gi.onCommitFiberUnmount)try{gi.onCommitFiberUnmount(mk,E)}catch(Eb){}switch(E.tag){case 0:case 11:case 14:case 15:case 22:v=E.updateQueue;if(null!==v&&(v=v.lastEffect,null!==v)){var V=v=v.next;do{var Pa=V,hb=Pa.destroy;Pa=Pa.tag;if(void 0!==hb)if(0!==(Pa&4))eg(E,V);else{Pa=E;try{hb()}catch(Eb){Da(Pa,Eb)}}V=V.next}while(V!==v)}break;case 1:Sb(E);v=E.stateNode;if("function"===typeof v.componentWillUnmount)try{v.props=E.memoizedProps,
v.state=E.memoizedState,v.componentWillUnmount()}catch(Eb){Da(E,Eb)}break;case 5:Sb(E);break;case 4:Oe(v,E)}}function ae(v){v.alternate=null;v.child=null;v.dependencies=null;v.firstEffect=null;v.lastEffect=null;v.memoizedProps=null;v.memoizedState=null;v.pendingProps=null;v.return=null;v.updateQueue=null}function we(v){return 5===v.tag||3===v.tag||4===v.tag}function bf(v){a:{for(var E=v.return;null!==E;){if(we(E))break a;E=E.return}throw Error(w(160));}var V=E;E=V.stateNode;switch(V.tag){case 5:var Pa=
!1;break;case 3:E=E.containerInfo;Pa=!0;break;case 4:E=E.containerInfo;Pa=!0;break;default:throw Error(w(161));}V.flags&16&&(Aa(E,""),V.flags&=-17);V=v;a:b:for(;;){for(;null===V.sibling;){if(null===V.return||we(V.return)){V=null;break a}V=V.return}V.sibling.return=V.return;for(V=V.sibling;5!==V.tag&&6!==V.tag&&18!==V.tag;){if(V.flags&2)continue b;if(null===V.child||4===V.tag)continue b;else V.child.return=V,V=V.child}if(!(V.flags&2)){V=V.stateNode;break a}}Pa?zf(v,V,E):Mf(v,V,E)}function zf(v,E,V){var Pa=
v.tag,hb=5===Pa||6===Pa;if(hb)v=hb?v.stateNode:v.stateNode.instance,E?8===V.nodeType?V.parentNode.insertBefore(v,E):V.insertBefore(v,E):(8===V.nodeType?(E=V.parentNode,E.insertBefore(v,V)):(E=V,E.appendChild(v)),V=V._reactRootContainer,null!==V&&void 0!==V||null!==E.onclick||(E.onclick=wa));else if(4!==Pa&&(v=v.child,null!==v))for(zf(v,E,V),v=v.sibling;null!==v;)zf(v,E,V),v=v.sibling}function Mf(v,E,V){var Pa=v.tag,hb=5===Pa||6===Pa;if(hb)v=hb?v.stateNode:v.stateNode.instance,E?V.insertBefore(v,E):
V.appendChild(v);else if(4!==Pa&&(v=v.child,null!==v))for(Mf(v,E,V),v=v.sibling;null!==v;)Mf(v,E,V),v=v.sibling}function Oe(v,E){for(var V=E,Pa=!1,hb,Eb;;){if(!Pa){Pa=V.return;a:for(;;){if(null===Pa)throw Error(w(160));hb=Pa.stateNode;switch(Pa.tag){case 5:Eb=!1;break a;case 3:hb=hb.containerInfo;Eb=!0;break a;case 4:hb=hb.containerInfo;Eb=!0;break a}Pa=Pa.return}Pa=!0}if(5===V.tag||6===V.tag){var cc=v,vc=V,cd=vc;a:for(;;)if(td(cc,cd),null!==cd.child&&4!==cd.tag)cd.child.return=cd,cd=cd.child;else{if(cd===
vc)break a;for(;null===cd.sibling;){if(null===cd.return||cd.return===vc)break a;cd=cd.return}cd.sibling.return=cd.return;cd=cd.sibling}Eb?(cc=hb,vc=V.stateNode,8===cc.nodeType?cc.parentNode.removeChild(vc):cc.removeChild(vc)):hb.removeChild(V.stateNode)}else if(4===V.tag){if(null!==V.child){hb=V.stateNode.containerInfo;Eb=!0;V.child.return=V;V=V.child;continue}}else if(td(v,V),null!==V.child){V.child.return=V;V=V.child;continue}if(V===E)break;for(;null===V.sibling;){if(null===V.return||V.return===
E)return;V=V.return;4===V.tag&&(Pa=!1)}V.sibling.return=V.return;V=V.sibling}}function Qf(v,E){switch(E.tag){case 0:case 11:case 14:case 15:case 22:var V=E.updateQueue;V=null!==V?V.lastEffect:null;if(null!==V){var Pa=V=V.next;do 3===(Pa.tag&3)&&(v=Pa.destroy,Pa.destroy=void 0,void 0!==v&&v()),Pa=Pa.next;while(Pa!==V)}return;case 1:return;case 5:V=E.stateNode;if(null!=V){Pa=E.memoizedProps;var hb=null!==v?v.memoizedProps:Pa;v=E.type;var Eb=E.updateQueue;E.updateQueue=null;if(null!==Eb){V[Qj]=Pa;"input"===
v&&"radio"===Pa.type&&null!=Pa.name&&R(V,Pa);bb(v,hb);E=bb(v,Pa);for(hb=0;hb<Eb.length;hb+=2){var cc=Eb[hb],vc=Eb[hb+1];"style"===cc?la(V,vc):"dangerouslySetInnerHTML"===cc?Zb(V,vc):"children"===cc?Aa(V,vc):c(V,cc,vc,E)}switch(v){case "input":S(V,Pa);break;case "textarea":D(V,Pa);break;case "select":v=V._wrapperState.wasMultiple,V._wrapperState.wasMultiple=!!Pa.multiple,Eb=Pa.value,null!=Eb?ea(V,!!Pa.multiple,Eb,!1):v!==!!Pa.multiple&&(null!=Pa.defaultValue?ea(V,!!Pa.multiple,Pa.defaultValue,!0):
ea(V,!!Pa.multiple,Pa.multiple?[]:"",!1))}}}return;case 6:if(null===E.stateNode)throw Error(w(162));E.stateNode.nodeValue=E.memoizedProps;return;case 3:V=E.stateNode;V.hydrate&&(V.hydrate=!1,Hb(V.containerInfo));return;case 12:return;case 13:null!==E.memoizedState&&(nk=fi(),Xc(E.child,!0));qg(E);return;case 19:qg(E);return;case 17:return;case 23:case 24:Xc(E,null!==E.memoizedState);return}throw Error(w(163));}function qg(v){var E=v.updateQueue;if(null!==E){v.updateQueue=null;var V=v.stateNode;null===
V&&(V=v.stateNode=new Bl);E.forEach(function(Pa){var hb=xb.bind(null,v,Pa);V.has(Pa)||(V.add(Pa),Pa.then(hb,hb))})}}function jh(v,E){return null!==v&&(v=v.memoizedState,null===v||null!==v.dehydrated)?(E=E.memoizedState,null!==E&&null===E.dehydrated):!1}function ch(){lk=fi()+500}function dg(){return 0!==(Nf&48)?fi():-1!==Fk?Fk:Fk=fi()}function Bf(v){v=v.mode;if(0===(v&2))return 1;if(0===(v&4))return 99===kc()?1:2;0===Ui&&(Ui=Xj);if(0!==Cl.transition){0!==ok&&(ok=null!==Yk?Yk.pendingLanes:0);v=Ui;var E=
4186112&~ok;E&=-E;0===E&&(v=4186112&~v,E=v&-v,0===E&&(E=8192));return E}v=kc();0!==(Nf&4)&&98===v?v=$d(12,Ui):(v=Kc(v),v=$d(v,Ui));return v}function jg(v,E,V){if(50<Yj)throw Yj=0,Gk=null,Error(w(185));v=bg(v,E);if(null===v)return null;Ca(v,E,V);v===ah&&(Aj|=E,4===Gh&&Og(v,Mh));var Pa=kc();1===E?0!==(Nf&8)&&0===(Nf&48)?zh(v):(rg(v,V),0===Nf&&(ch(),qd())):(0===(Nf&4)||98!==Pa&&99!==Pa||(null===qi?qi=new Set([v]):qi.add(v)),rg(v,V));Yk=v}function bg(v,E){v.lanes|=E;var V=v.alternate;null!==V&&(V.lanes|=
E);V=v;for(v=v.return;null!==v;)v.childLanes|=E,V=v.alternate,null!==V&&(V.childLanes|=E),V=v,v=v.return;return 3===V.tag?V.stateNode:null}function rg(v,E){for(var V=v.callbackNode,Pa=v.suspendedLanes,hb=v.pingedLanes,Eb=v.expirationTimes,cc=v.pendingLanes;0<cc;){var vc=31-Gi(cc),cd=1<<vc,Qd=Eb[vc];if(-1===Qd){if(0===(cd&Pa)||0!==(cd&hb)){Qd=E;mc(cd);var Xe=Fg;Eb[vc]=10<=Xe?Qd+250:6<=Xe?Qd+5E3:-1}}else Qd<=E&&(v.expiredLanes|=cd);cc&=~cd}Pa=Sc(v,v===ah?Mh:0);E=Fg;if(0===Pa)null!==V&&(V!==Zj&&se(V),
v.callbackNode=null,v.callbackPriority=0);else{if(null!==V){if(v.callbackPriority===E)return;V!==Zj&&se(V)}15===E?(V=zh.bind(null,v),null===Ai?(Ai=[V],Ak=hh(Sj,Yd)):Ai.push(V),V=Zj):14===E?V=pd(99,zh.bind(null,v)):(V=Fc(E),V=pd(V,wh.bind(null,v)));v.callbackPriority=E;v.callbackNode=V}}function wh(v){Fk=-1;ok=Ui=0;if(0!==(Nf&48))throw Error(w(327));var E=v.callbackNode;if(Df()&&v.callbackNode!==E)return null;var V=Sc(v,v===ah?Mh:0);if(0===V)return null;var Pa=V,hb=Nf;Nf|=16;var Eb=Pg();if(ah!==v||
Mh!==Pa)ch(),hf(v,Pa);do try{for(;null!==Hh&&!hi();)Yh(Hh);break}catch(vc){jf(v,vc)}while(1);rj=sj=qj=null;Vi.current=Eb;Nf=hb;null!==Hh?Pa=0:(ah=null,Mh=0,Pa=Gh);if(0!==(Xj&Aj))hf(v,0);else if(0!==Pa){2===Pa&&(Nf|=64,v.hydrate&&(v.hydrate=!1,Xb(v.containerInfo)),V=jd(v),0!==V&&(Pa=Nh(v,V)));if(1===Pa)throw E=Bj,hf(v,0),Og(v,V),rg(v,fi()),E;v.finishedWork=v.current.alternate;v.finishedLanes=V;switch(Pa){case 0:case 1:throw Error(w(345));case 2:dh(v);break;case 3:Og(v,V);if((V&62914560)===V&&(Pa=nk+
500-fi(),10<Pa)){if(0!==Sc(v,0))break;hb=v.suspendedLanes;if((hb&V)!==V){dg();v.pingedLanes|=v.suspendedLanes&hb;break}v.timeoutHandle=Wi(dh.bind(null,v),Pa);break}dh(v);break;case 4:Og(v,V);if((V&4186112)===V)break;Pa=v.eventTimes;for(hb=-1;0<V;){var cc=31-Gi(V);Eb=1<<cc;cc=Pa[cc];cc>hb&&(hb=cc);V&=~Eb}V=hb;V=fi()-V;V=(120>V?120:480>V?480:1080>V?1080:1920>V?1920:3E3>V?3E3:4320>V?4320:1960*Dl(V/1960))-V;if(10<V){v.timeoutHandle=Wi(dh.bind(null,v),V);break}dh(v);break;case 5:dh(v);break;default:throw Error(w(329));
}}rg(v,fi());return v.callbackNode===E?wh.bind(null,v):null}function Og(v,E){E&=~pk;E&=~Aj;v.suspendedLanes|=E;v.pingedLanes&=~E;for(v=v.expirationTimes;0<E;){var V=31-Gi(E),Pa=1<<V;v[V]=-1;E&=~Pa}}function zh(v){if(0!==(Nf&48))throw Error(w(327));Df();if(v===ah&&0!==(v.expiredLanes&Mh)){var E=Mh,V=Nh(v,E);0!==(Xj&Aj)&&(E=Sc(v,E),V=Nh(v,E))}else E=Sc(v,0),V=Nh(v,E);0!==v.tag&&2===V&&(Nf|=64,v.hydrate&&(v.hydrate=!1,Xb(v.containerInfo)),E=jd(v),0!==E&&(V=Nh(v,E)));if(1===V)throw V=Bj,hf(v,0),Og(v,
E),rg(v,fi()),V;v.finishedWork=v.current.alternate;v.finishedLanes=E;dh(v);rg(v,fi());return null}function ri(){if(null!==qi){var v=qi;qi=null;v.forEach(function(E){E.expiredLanes|=24&E.pendingLanes;rg(E,fi())})}qd()}function Zh(v,E){var V=Nf;Nf|=1;try{return v(E)}finally{Nf=V,0===Nf&&(ch(),qd())}}function $h(v,E){var V=Nf;Nf&=-2;Nf|=8;try{return v(E)}finally{Nf=V,0===Nf&&(ch(),qd())}}function ef(v,E){Pd(Zk,Xi);Xi|=E;Xj|=E}function Ch(){Xi=Zk.current;Gd(Zk)}function hf(v,E){v.finishedWork=null;v.finishedLanes=
0;var V=v.timeoutHandle;-1!==V&&(v.timeoutHandle=-1,qk(V));if(null!==Hh)for(V=Hh.return;null!==V;){var Pa=V;switch(Pa.tag){case 1:Pa=Pa.type.childContextTypes;null!==Pa&&void 0!==Pa&&ha();break;case 3:Ec();Gd(pi);Gd(Qh);xe();break;case 5:Be(Pa);break;case 4:Ec();break;case 13:Gd(Bh);break;case 19:Gd(Bh);break;case 10:Jd(Pa);break;case 23:case 24:Ch()}V=V.return}ah=v;Hh=pa(v.current,null);Mh=Xi=Xj=E;Gh=0;Bj=null;pk=Aj=tj=0}function jf(v,E){do{var V=Hh;try{rj=sj=qj=null;kk.current=Dk;if(zj){for(var Pa=
uh.memoizedState;null!==Pa;){var hb=Pa.queue;null!==hb&&(hb.pending=null);Pa=Pa.next}zj=!1}jk=0;Th=Uh=uh=null;Wj=!1;$k.current=null;if(null===V||null===V.return){Gh=1;Bj=E;Hh=null;break}a:{var Eb=v,cc=V.return,vc=V,cd=E;E=Mh;vc.flags|=2048;vc.firstEffect=vc.lastEffect=null;if(null!==cd&&"object"===typeof cd&&"function"===typeof cd.then){var Qd=cd;if(0===(vc.mode&2)){var Xe=vc.alternate;Xe?(vc.updateQueue=Xe.updateQueue,vc.memoizedState=Xe.memoizedState,vc.lanes=Xe.lanes):(vc.updateQueue=null,vc.memoizedState=
null)}var If=0!==(Bh.current&1),me=cc;do{var rf;if(rf=13===me.tag){var Kf=me.memoizedState;if(null!==Kf)rf=null!==Kf.dehydrated?!0:!1;else{var Ef=me.memoizedProps;rf=void 0===Ef.fallback?!1:!0!==Ef.unstable_avoidThisFallback?!0:If?!1:!0}}if(rf){var Cd=me.updateQueue;if(null===Cd){var md=new Set;md.add(Qd);me.updateQueue=md}else Cd.add(Qd);if(0===(me.mode&2)){me.flags|=64;vc.flags|=16384;vc.flags&=-2981;if(1===vc.tag)if(null===vc.alternate)vc.tag=17;else{var zd=ud(-1,1);zd.tag=2;kb(vc,zd)}vc.lanes|=
1;break a}cd=void 0;vc=E;var de=Eb.pingCache;null===de?(de=Eb.pingCache=new Cj,cd=new Set,de.set(Qd,cd)):(cd=de.get(Qd),void 0===cd&&(cd=new Set,de.set(Qd,cd)));if(!cd.has(vc)){cd.add(vc);var ke=ab.bind(null,Eb,Qd,vc);Qd.then(ke,ke)}me.flags|=4096;me.lanes=E;break a}me=me.return}while(null!==me);cd=Error((x(vc.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a \x3cSuspense fallback\x3d...\x3e component higher in the tree to provide a loading indicator or placeholder to display.")}5!==
Gh&&(Gh=2);cd=da(cd,vc);me=cc;do{switch(me.tag){case 3:Eb=cd;me.flags|=4096;E&=-E;me.lanes|=E;var Rf=db(me,Eb,E);Gb(me,Rf);break a;case 1:Eb=cd;var kf=me.type,Sf=me.stateNode;if(0===(me.flags&64)&&("function"===typeof kf.getDerivedStateFromError||null!==Sf&&"function"===typeof Sf.componentDidCatch&&(null===Ki||!Ki.has(Sf)))){me.flags|=4096;E&=-E;me.lanes|=E;var Pf=Db(me,Eb,E);Gb(me,Pf);break a}}me=me.return}while(null!==me)}ai(V)}catch(ag){E=ag;Hh===V&&null!==V&&(Hh=V.return);continue}break}while(1)}
function Pg(){var v=Vi.current;Vi.current=Dk;return null===v?Dk:v}function Nh(v,E){var V=Nf;Nf|=16;var Pa=Pg();ah===v&&Mh===E||hf(v,E);do try{for(;null!==Hh;)Yh(Hh);break}catch(hb){jf(v,hb)}while(1);rj=sj=qj=null;Nf=V;Vi.current=Pa;if(null!==Hh)throw Error(w(261));ah=null;Mh=0;return Gh}function Yh(v){var E=El(v.alternate,v,Xi);v.memoizedProps=v.pendingProps;null===E?ai(v):Hh=E;$k.current=null}function ai(v){var E=v;do{var V=E.alternate;v=E.return;if(0===(E.flags&2048)){V=Kg(V,E,Xi);if(null!==V){Hh=
V;return}V=E;if(24!==V.tag&&23!==V.tag||null===V.memoizedState||0!==(Xi&1073741824)||0===(V.mode&4)){for(var Pa=0,hb=V.child;null!==hb;)Pa|=hb.lanes|hb.childLanes,hb=hb.sibling;V.childLanes=Pa}null!==v&&0===(v.flags&2048)&&(null===v.firstEffect&&(v.firstEffect=E.firstEffect),null!==E.lastEffect&&(null!==v.lastEffect&&(v.lastEffect.nextEffect=E.firstEffect),v.lastEffect=E.lastEffect),1<E.flags&&(null!==v.lastEffect?v.lastEffect.nextEffect=E:v.firstEffect=E,v.lastEffect=E))}else{V=J(E);if(null!==V){V.flags&=
2047;Hh=V;return}null!==v&&(v.firstEffect=v.lastEffect=null,v.flags|=2048)}E=E.sibling;if(null!==E){Hh=E;return}Hh=E=v}while(null!==E);0===Gh&&(Gh=5)}function dh(v){var E=kc();Jc(99,ue.bind(null,v,E));return null}function ue(v,E){do Df();while(null!==rk);if(0!==(Nf&48))throw Error(w(327));var V=v.finishedWork;if(null===V)return null;v.finishedWork=null;v.finishedLanes=0;if(V===v.current)throw Error(w(177));v.callbackNode=null;var Pa=V.lanes|V.childLanes,hb=Pa,Eb=v.pendingLanes&~hb;v.pendingLanes=
hb;v.suspendedLanes=0;v.pingedLanes=0;v.expiredLanes&=hb;v.mutableReadLanes&=hb;v.entangledLanes&=hb;hb=v.entanglements;for(var cc=v.eventTimes,vc=v.expirationTimes;0<Eb;){var cd=31-Gi(Eb),Qd=1<<cd;hb[cd]=0;cc[cd]=-1;vc[cd]=-1;Eb&=~Qd}null!==qi&&0===(Pa&24)&&qi.has(v)&&qi.delete(v);v===ah&&(Hh=ah=null,Mh=0);1<V.flags?null!==V.lastEffect?(V.lastEffect.nextEffect=V,Pa=V.firstEffect):Pa=V:Pa=V.firstEffect;if(null!==Pa){hb=Nf;Nf|=32;$k.current=null;bi=Lj;cc=Hd();if(Vd(cc)){if("selectionStart"in cc)vc=
{start:cc.selectionStart,end:cc.selectionEnd};else a:if(vc=(vc=cc.ownerDocument)&&vc.defaultView||window,(Qd=vc.getSelection&&vc.getSelection())&&0!==Qd.rangeCount){vc=Qd.anchorNode;Eb=Qd.anchorOffset;cd=Qd.focusNode;Qd=Qd.focusOffset;try{vc.nodeType,cd.nodeType}catch(ag){vc=null;break a}var Xe=0,If=-1,me=-1,rf=0,Kf=0,Ef=cc,Cd=null;b:for(;;){for(var md;;){Ef!==vc||0!==Eb&&3!==Ef.nodeType||(If=Xe+Eb);Ef!==cd||0!==Qd&&3!==Ef.nodeType||(me=Xe+Qd);3===Ef.nodeType&&(Xe+=Ef.nodeValue.length);if(null===
(md=Ef.firstChild))break;Cd=Ef;Ef=md}for(;;){if(Ef===cc)break b;Cd===vc&&++rf===Eb&&(If=Xe);Cd===cd&&++Kf===Qd&&(me=Xe);if(null!==(md=Ef.nextSibling))break;Ef=Cd;Cd=Ef.parentNode}Ef=md}vc=-1===If||-1===me?null:{start:If,end:me}}else vc=null;vc=vc||{start:0,end:0}}else vc=null;Li={focusedElem:cc,selectionRange:vc};Lj=!1;ak=null;Dj=!1;Ye=Pa;do try{Je()}catch(ag){if(null===Ye)throw Error(w(330));Da(Ye,ag);Ye=Ye.nextEffect}while(null!==Ye);ak=null;Ye=Pa;do try{for(cc=v;null!==Ye;){var zd=Ye.flags;zd&
16&&Aa(Ye.stateNode,"");if(zd&128){var de=Ye.alternate;if(null!==de){var ke=de.ref;null!==ke&&("function"===typeof ke?ke(null):ke.current=null)}}switch(zd&1038){case 2:bf(Ye);Ye.flags&=-3;break;case 6:bf(Ye);Ye.flags&=-3;Qf(Ye.alternate,Ye);break;case 1024:Ye.flags&=-1025;break;case 1028:Ye.flags&=-1025;Qf(Ye.alternate,Ye);break;case 4:Qf(Ye.alternate,Ye);break;case 8:vc=Ye;Oe(cc,vc);var Rf=vc.alternate;ae(vc);null!==Rf&&ae(Rf)}Ye=Ye.nextEffect}}catch(ag){if(null===Ye)throw Error(w(330));Da(Ye,ag);
Ye=Ye.nextEffect}while(null!==Ye);ke=Li;de=Hd();zd=ke.focusedElem;cc=ke.selectionRange;if(de!==zd&&zd&&zd.ownerDocument&&rd(zd.ownerDocument.documentElement,zd)){null!==cc&&Vd(zd)&&(de=cc.start,ke=cc.end,void 0===ke&&(ke=de),"selectionStart"in zd?(zd.selectionStart=de,zd.selectionEnd=Math.min(ke,zd.value.length)):(ke=(de=zd.ownerDocument||document)&&de.defaultView||window,ke.getSelection&&(ke=ke.getSelection(),vc=zd.textContent.length,Rf=Math.min(cc.start,vc),cc=void 0===cc.end?Rf:Math.min(cc.end,
vc),!ke.extend&&Rf>cc&&(vc=cc,cc=Rf,Rf=vc),vc=ld(zd,Rf),Eb=ld(zd,cc),vc&&Eb&&(1!==ke.rangeCount||ke.anchorNode!==vc.node||ke.anchorOffset!==vc.offset||ke.focusNode!==Eb.node||ke.focusOffset!==Eb.offset)&&(de=de.createRange(),de.setStart(vc.node,vc.offset),ke.removeAllRanges(),Rf>cc?(ke.addRange(de),ke.extend(Eb.node,Eb.offset)):(de.setEnd(Eb.node,Eb.offset),ke.addRange(de))))));de=[];for(ke=zd;ke=ke.parentNode;)1===ke.nodeType&&de.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});"function"===
typeof zd.focus&&zd.focus();for(zd=0;zd<de.length;zd++)ke=de[zd],ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}Lj=!!bi;Li=bi=null;v.current=V;Ye=Pa;do try{for(zd=v;null!==Ye;){var kf=Ye.flags;kf&36&&Zc(zd,Ye.alternate,Ye);if(kf&128){de=void 0;var Sf=Ye.ref;if(null!==Sf){var Pf=Ye.stateNode;switch(Ye.tag){case 5:de=Pf;break;default:de=Pf}"function"===typeof Sf?Sf(de):Sf.current=de}}Ye=Ye.nextEffect}}catch(ag){if(null===Ye)throw Error(w(330));Da(Ye,ag);Ye=Ye.nextEffect}while(null!==Ye);
Ye=null;Fl();Nf=hb}else v.current=V;if(ej)ej=!1,rk=v,bk=E;else for(Ye=Pa;null!==Ye;)E=Ye.nextEffect,Ye.nextEffect=null,Ye.flags&8&&(kf=Ye,kf.sibling=null,kf.stateNode=null),Ye=E;Pa=v.pendingLanes;0===Pa&&(Ki=null);1===Pa?v===Gk?Yj++:(Yj=0,Gk=v):Yj=0;V=V.stateNode;if(gi&&"function"===typeof gi.onCommitFiberRoot)try{gi.onCommitFiberRoot(mk,V,void 0,64===(V.current.flags&64))}catch(ag){}rg(v,fi());if(Ek)throw Ek=!1,v=Xk,Xk=null,v;if(0!==(Nf&8))return null;qd();return null}function Je(){for(;null!==Ye;){var v=
Ye.alternate;Dj||null===ak||(0!==(Ye.flags&8)?eb(Ye,ak)&&(Dj=!0):13===Ye.tag&&jh(v,Ye)&&eb(Ye,ak)&&(Dj=!0));var E=Ye.flags;0!==(E&256)&&Cc(v,Ye);0===(E&512)||ej||(ej=!0,pd(97,function(){Df();return null}));Ye=Ye.nextEffect}}function Df(){if(90!==bk){var v=97<bk?97:bk;bk=90;return Jc(v,fg)}return!1}function Pe(v,E){Hk.push(E,v);ej||(ej=!0,pd(97,function(){Df();return null}))}function eg(v,E){Ej.push(E,v);ej||(ej=!0,pd(97,function(){Df();return null}))}function fg(){if(null===rk)return!1;var v=rk;rk=
null;if(0!==(Nf&48))throw Error(w(331));var E=Nf;Nf|=32;var V=Ej;Ej=[];for(var Pa=0;Pa<V.length;Pa+=2){var hb=V[Pa],Eb=V[Pa+1],cc=hb.destroy;hb.destroy=void 0;if("function"===typeof cc)try{cc()}catch(cd){if(null===Eb)throw Error(w(330));Da(Eb,cd)}}V=Hk;Hk=[];for(Pa=0;Pa<V.length;Pa+=2){hb=V[Pa];Eb=V[Pa+1];try{var vc=hb.create;hb.destroy=vc()}catch(cd){if(null===Eb)throw Error(w(330));Da(Eb,cd)}}for(vc=v.current.firstEffect;null!==vc;)v=vc.nextEffect,vc.nextEffect=null,vc.flags&8&&(vc.sibling=null,
vc.stateNode=null),vc=v;Nf=E;qd();return!0}function ff(v,E,V){E=da(V,E);E=db(v,E,1);kb(v,E);E=dg();v=bg(v,1);null!==v&&(Ca(v,1,E),rg(v,E))}function Da(v,E){if(3===v.tag)ff(v,v,E);else for(var V=v.return;null!==V;){if(3===V.tag){ff(V,v,E);break}else if(1===V.tag){var Pa=V.stateNode;if("function"===typeof V.type.getDerivedStateFromError||"function"===typeof Pa.componentDidCatch&&(null===Ki||!Ki.has(Pa))){v=da(E,v);var hb=Db(V,v,1);kb(V,hb);hb=dg();V=bg(V,1);if(null!==V)Ca(V,1,hb),rg(V,hb);else if("function"===
typeof Pa.componentDidCatch&&(null===Ki||!Ki.has(Pa)))try{Pa.componentDidCatch(E,v)}catch(Eb){}break}}V=V.return}}function ab(v,E,V){var Pa=v.pingCache;null!==Pa&&Pa.delete(E);E=dg();v.pingedLanes|=v.suspendedLanes&V;ah===v&&(Mh&V)===V&&(4===Gh||3===Gh&&(Mh&62914560)===Mh&&500>fi()-nk?hf(v,0):pk|=V);rg(v,E)}function xb(v,E){var V=v.stateNode;null!==V&&V.delete(E);E=0;0===E&&(E=v.mode,0===(E&2)?E=1:0===(E&4)?E=99===kc()?1:2:(0===Ui&&(Ui=Xj),E=Ba(62914560&~Ui),0===E&&(E=4194304)));V=dg();v=bg(v,E);
null!==v&&(Ca(v,E,V),rg(v,V))}function Lb(v,E,V,Pa){this.tag=v;this.key=V;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=E;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=Pa;this.flags=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childLanes=this.lanes=0;this.alternate=null}function pc(v,E,V,Pa){return new Lb(v,E,V,Pa)}function sc(v){v=v.prototype;return!(!v||!v.isReactComponent)}
function Vc(v){if("function"===typeof v)return sc(v)?1:0;if(void 0!==v&&null!==v){v=v.$$typeof;if(v===yg)return 11;if(v===ei)return 14}return 2}function pa(v,E){var V=v.alternate;null===V?(V=pc(v.tag,E,v.key,v.mode),V.elementType=v.elementType,V.type=v.type,V.stateNode=v.stateNode,V.alternate=v,v.alternate=V):(V.pendingProps=E,V.type=v.type,V.flags=0,V.nextEffect=null,V.firstEffect=null,V.lastEffect=null);V.childLanes=v.childLanes;V.lanes=v.lanes;V.child=v.child;V.memoizedProps=v.memoizedProps;V.memoizedState=
v.memoizedState;V.updateQueue=v.updateQueue;E=v.dependencies;V.dependencies=null===E?null:{lanes:E.lanes,firstContext:E.firstContext};V.sibling=v.sibling;V.index=v.index;V.ref=v.ref;return V}function Qa(v,E,V,Pa,hb,Eb){var cc=2;Pa=v;if("function"===typeof v)sc(v)&&(cc=1);else if("string"===typeof v)cc=5;else a:switch(v){case xh:return mb(V.children,hb,Eb,E);case vj:cc=8;hb|=16;break;case Ih:cc=8;hb|=1;break;case yi:return v=pc(12,V,E,hb|8),v.elementType=yi,v.type=yi,v.lanes=Eb,v;case Zg:return v=
pc(13,V,E,hb),v.type=Zg,v.elementType=Zg,v.lanes=Eb,v;case Zi:return v=pc(19,V,E,hb),v.elementType=Zi,v.lanes=Eb,v;case Yi:return pb(V,hb,Eb,E);case ni:return v=pc(24,V,E,hb),v.elementType=ni,v.lanes=Eb,v;default:if("object"===typeof v&&null!==v)switch(v.$$typeof){case di:cc=10;break a;case Zf:cc=9;break a;case yg:cc=11;break a;case ei:cc=14;break a;case lj:cc=16;Pa=null;break a;case Oh:cc=22;break a}throw Error(w(130,null==v?v:typeof v,""));}E=pc(cc,V,E,hb);E.elementType=v;E.type=Pa;E.lanes=Eb;return E}
function mb(v,E,V,Pa){v=pc(7,v,Pa,E);v.lanes=V;return v}function pb(v,E,V,Pa){v=pc(23,v,Pa,E);v.elementType=Yi;v.lanes=V;return v}function gc(v,E,V){v=pc(6,v,null,E);v.lanes=V;return v}function Qc(v,E,V){E=pc(4,null!==v.children?v.children:[],v.key,E);E.lanes=V;E.stateNode={containerInfo:v.containerInfo,pendingChildren:null,implementation:v.implementation};return E}function Yc(v,E,V){this.tag=E;this.containerInfo=v;this.finishedWork=this.pingCache=this.current=this.pendingChildren=null;this.timeoutHandle=
-1;this.pendingContext=this.context=null;this.hydrate=V;this.callbackNode=null;this.callbackPriority=0;this.eventTimes=va(0);this.expirationTimes=va(-1);this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0;this.entanglements=va(0);this.mutableSourceEagerHydrationData=null}function Bd(v,E,V){var Pa=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Yg,key:null==Pa?null:""+Pa,children:v,containerInfo:E,
implementation:V}}function Tc(v,E,V,Pa){var hb=E.current,Eb=dg(),cc=Bf(hb);a:if(V){V=V._reactInternals;b:{if(ja(V)!==V||1!==V.tag)throw Error(w(170));var vc=V;do{switch(vc.tag){case 3:vc=vc.stateNode.context;break b;case 1:if(Se(vc.type)){vc=vc.stateNode.__reactInternalMemoizedMergedChildContext;break b}}vc=vc.return}while(null!==vc);throw Error(w(171));}if(1===V.tag){var cd=V.type;if(Se(cd)){V=Ea(V,cd,vc);break a}}V=vc}else V=Ri;null===E.context?E.context=V:E.pendingContext=V;E=ud(Eb,cc);E.payload=
{element:v};Pa=void 0===Pa?null:Pa;null!==Pa&&(E.callback=Pa);kb(hb,E);jg(hb,cc,Eb);return cc}function Sd(v){v=v.current;if(!v.child)return null;switch(v.child.tag){case 5:return v.child.stateNode;default:return v.child.stateNode}}function Td(v,E){v=v.memoizedState;if(null!==v&&null!==v.dehydrated){var V=v.retryLane;v.retryLane=0!==V&&V<E?V:E}}function De(v,E){Td(v,E);(v=v.alternate)&&Td(v,E)}function tf(){return null}function Ze(v,E,V){var Pa=null!=V&&null!=V.hydrationOptions&&V.hydrationOptions.mutableSources||
null;V=new Yc(v,E,null!=V&&!0===V.hydrate);E=pc(3,null,null,2===E?7:1===E?3:0);V.current=E;E.stateNode=V;Rc(E);v[Oj]=V.current;vf(8===v.nodeType?v.parentNode:v);if(Pa)for(v=0;v<Pa.length;v++){E=Pa[v];var hb=E._getVersion;hb=hb(E._source);null==V.mutableSourceEagerHydrationData?V.mutableSourceEagerHydrationData=[E,hb]:V.mutableSourceEagerHydrationData.push(E,hb)}this._internalRoot=V}function df(v){return!(!v||1!==v.nodeType&&9!==v.nodeType&&11!==v.nodeType&&(8!==v.nodeType||" react-mount-point-unstable "!==
v.nodeValue))}function Bg(v,E){E||(E=v?9===v.nodeType?v.documentElement:v.firstChild:null,E=!(!E||1!==E.nodeType||!E.hasAttribute("data-reactroot")));if(!E)for(var V;V=v.lastChild;)v.removeChild(V);return new Ze(v,0,E?{hydrate:!0}:void 0)}function gg(v,E,V,Pa,hb){var Eb=V._reactRootContainer;if(Eb){var cc=Eb._internalRoot;if("function"===typeof hb){var vc=hb;hb=function(){var Qd=Sd(cc);vc.call(Qd)}}Tc(E,cc,v,hb)}else{Eb=V._reactRootContainer=Bg(V,Pa);cc=Eb._internalRoot;if("function"===typeof hb){var cd=
hb;hb=function(){var Qd=Sd(cc);cd.call(Qd)}}$h(function(){Tc(E,cc,v,hb)})}return Sd(cc)}function He(v,E){var V=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!df(E))throw Error(w(200));return Bd(v,E,null,V)}var pf=L(3),Hf=L(0),mg=L(6);if(!pf)throw Error(w(227));var ci=new Set,Rg={},Cg=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),li=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,
xg=Object.prototype.hasOwnProperty,Ah={},Lg={},eh={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(v){eh[v]=new f(v,0,!1,v,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(v){var E=v[0];eh[E]=new f(E,1,!1,v[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(v){eh[v]=
new f(v,2,!1,v.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(v){eh[v]=new f(v,2,!1,v,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(v){eh[v]=new f(v,3,!1,v.toLowerCase(),null,!1,!1)});["checked","multiple",
"muted","selected"].forEach(function(v){eh[v]=new f(v,3,!0,v,null,!1,!1)});["capture","download"].forEach(function(v){eh[v]=new f(v,4,!1,v,null,!1,!1)});["cols","rows","size","span"].forEach(function(v){eh[v]=new f(v,6,!1,v,null,!1,!1)});["rowSpan","start"].forEach(function(v){eh[v]=new f(v,5,!1,v.toLowerCase(),null,!1,!1)});var ii=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(v){var E=
v.replace(ii,b);eh[E]=new f(E,1,!1,v,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(v){var E=v.replace(ii,b);eh[E]=new f(E,1,!1,v,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(v){var E=v.replace(ii,b);eh[E]=new f(E,1,!1,v,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(v){eh[v]=new f(v,1,!1,v.toLowerCase(),null,!1,!1)});eh.xlinkHref=new f("xlinkHref",
1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(v){eh[v]=new f(v,1,!1,v.toLowerCase(),null,!0,!0)});var ji=pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lf=60103,Yg=60106,xh=60107,Ih=60108,yi=60114,di=60109,Zf=60110,yg=60112,Zg=60113,Zi=60120,ei=60115,lj=60116,Oh=60121,ti=60128,vj=60129,Yi=60130,ni=60131;if("function"===typeof Symbol&&Symbol.for){var sh=Symbol.for;Lf=sh("react.element");Yg=sh("react.portal");xh=sh("react.fragment");
Ih=sh("react.strict_mode");yi=sh("react.profiler");di=sh("react.provider");Zf=sh("react.context");yg=sh("react.forward_ref");Zg=sh("react.suspense");Zi=sh("react.suspense_list");ei=sh("react.memo");lj=sh("react.lazy");Oh=sh("react.block");sh("react.scope");ti=sh("react.opaque.id");vj=sh("react.debug_trace_mode");Yi=sh("react.offscreen");ni=sh("react.legacy_hidden")}var Oi="function"===typeof Symbol&&Symbol.iterator,ia,Na=!1,Sa={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",
svg:"http://www.w3.org/2000/svg"},ub,Zb=function(v){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(E,V,Pa,hb){MSApp.execUnsafeLocalFunction(function(){return v(E,V,Pa,hb)})}:v}(function(v,E){if(v.namespaceURI!==Sa.svg||"innerHTML"in v)v.innerHTML=E;else{ub=ub||document.createElement("div");ub.innerHTML="\x3csvg\x3e"+E.valueOf().toString()+"\x3c/svg\x3e";for(E=ub.firstChild;v.firstChild;)v.removeChild(v.firstChild);for(;E.firstChild;)v.appendChild(E.firstChild)}}),ac={animationIterationCount:!0,
borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,
strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jc=["Webkit","ms","Moz","O"];Object.keys(ac).forEach(function(v){jc.forEach(function(E){E=E+v.charAt(0).toUpperCase()+v.substring(1);ac[E]=ac[v]})});var Ac=Hf({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),hd=null,Ld=null,be=null,kd=Ra,oe=!1,Qe=!1,xf=!1;if(Cg)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){xf=
!0}});window.addEventListener("test",Me,Me);window.removeEventListener("test",Me,Me)}catch(v){xf=!1}var $f=!1,Dg=null,fh=!1,mh=null,$e={onError:function(v){$f=!0;Dg=v}},gh=!1,nf=[],sg=null,Jh=null,Ne=null,ve=new Map,Ve=new Map,ye=[],lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" "),Eg=
{animationend:Ab("Animation","AnimationEnd"),animationiteration:Ab("Animation","AnimationIteration"),animationstart:Ab("Animation","AnimationStart"),transitionend:Ab("Transition","TransitionEnd")},yf={},nh={};Cg&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Eg.animationend.animation,delete Eg.animationiteration.animation,delete Eg.animationstart.animation),"TransitionEvent"in window||delete Eg.transitionend.transition);var yh=dc("animationend"),oi=dc("animationiteration"),
Nj=dc("animationstart"),zi=dc("transitionend"),$i=new Map,Kj=new Map,sk=["abort","abort",yh,"animationEnd",oi,"animationIteration",Nj,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing",
"playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",zi,"transitionEnd","waiting","waiting"],fj=mg.unstable_now;fj();var Fg=8,Gi=Math.clz32?Math.clz32:$a,aj=Math.log,bj=Math.LN2,cj=mg.unstable_UserBlockingPriority,xk=mg.unstable_runWithPriority,Lj=!0,si=null,Pi=null,mi=null,Dh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(v){return v.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jf=nd(Dh),Fi=Hf({},Dh,{view:0,detail:0}),
hk=nd(Fi),vi,gj,hj,ph=Hf({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nd,button:0,buttons:0,relatedTarget:function(v){return void 0===v.relatedTarget?v.fromElement===v.srcElement?v.toElement:v.fromElement:v.relatedTarget},movementX:function(v){if("movementX"in v)return v.movementX;v!==hj&&(hj&&"mousemove"===v.type?(vi=v.screenX-hj.screenX,gj=v.screenY-hj.screenY):gj=vi=0,hj=v);return vi},movementY:function(v){return"movementY"in
v?v.movementY:gj}}),yj=nd(ph),Ik=Hf({},ph,{dataTransfer:0}),Hi=nd(Ik),ij=Hf({},Fi,{relatedTarget:0}),mj=nd(ij),jj=Hf({},Dh,{animationName:0,elapsedTime:0,pseudoElement:0}),Qi=nd(jj),wj=Hf({},Dh,{clipboardData:function(v){return"clipboardData"in v?v.clipboardData:window.clipboardData}}),yk=nd(wj),ck=Hf({},Dh,{data:0}),Pj=nd(ck),Fj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",
MozPrintableKey:"Unidentified"},Gj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},
tk=Hf({},Fi,{key:function(v){if(v.key){var E=Fj[v.key]||v.key;if("Unidentified"!==E)return E}return"keypress"===v.type?(v=Ic(v),13===v?"Enter":String.fromCharCode(v)):"keydown"===v.type||"keyup"===v.type?Gj[v.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nd,charCode:function(v){return"keypress"===v.type?Ic(v):0},keyCode:function(v){return"keydown"===v.type||"keyup"===v.type?v.keyCode:0},which:function(v){return"keypress"===
v.type?Ic(v):"keydown"===v.type||"keyup"===v.type?v.keyCode:0}}),Mj=nd(tk),dk=Hf({},ph,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vh=nd(dk),Qg=Hf({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nd}),th=nd(Qg),al=Hf({},Dh,{propertyName:0,elapsedTime:0,pseudoElement:0}),nj=nd(al),a=Hf({},ph,{deltaX:function(v){return"deltaX"in v?v.deltaX:"wheelDeltaX"in v?-v.wheelDeltaX:
0},deltaY:function(v){return"deltaY"in v?v.deltaY:"wheelDeltaY"in v?-v.wheelDeltaY:"wheelDelta"in v?-v.wheelDelta:0},deltaZ:0,deltaMode:0}),u=nd(a),T=[9,13,27,32],Q=Cg&&"CompositionEvent"in window,ba=null;Cg&&"documentMode"in document&&(ba=document.documentMode);var Ha=Cg&&"TextEvent"in window&&!ba,Va=Cg&&(!Q||ba&&8<ba&&11>=ba),Ya=String.fromCharCode(32),wb=!1,Rb=!1,ec={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,
url:!0,week:!0},Mc=null,Wc=null,ad=!1;if(Cg){if(Cg){var Wd="oninput"in document;if(!Wd){var Ee=document.createElement("div");Ee.setAttribute("oninput","return;");Wd="function"===typeof Ee.oninput}var wf=Wd}else wf=!1;ad=wf&&(!document.documentMode||9<document.documentMode)}var zg="function"===typeof Object.is?Object.is:Hc,lf=Object.prototype.hasOwnProperty,Gg=Cg&&"documentMode"in document&&11>=document.documentMode,cg=null,Mg=null,tg=null,Of=!1;Wb("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),
0);Wb("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Wb(sk,2);for(var Vg="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),hg=0;hg<Vg.length;hg++)Kj.set(Vg[hg],0);p("onMouseEnter",["mouseout","mouseover"]);p("onMouseLeave",
["mouseout","mouseover"]);p("onPointerEnter",["pointerout","pointerover"]);p("onPointerLeave",["pointerout","pointerover"]);k("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));k("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));k("onBeforeInput",["compositionend","keypress","textInput","paste"]);k("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));k("onCompositionStart",
"compositionstart focusout keydown keypress keyup mousedown".split(" "));k("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(pg)),Ph="_reactListening"+Math.random().toString(36).slice(2),
bi=null,Li=null,Wi="function"===typeof setTimeout?setTimeout:void 0,qk="function"===typeof clearTimeout?clearTimeout:void 0,bl=0,Jk=Math.random().toString(36).slice(2),oj="__reactFiber$"+Jk,Qj="__reactProps$"+Jk,Oj="__reactContainer$"+Jk,jl="__reactEvents$"+Jk,Pk=[],Rj=-1,Ri={},Qh=Md(Ri),pi=Md(!1),pj=Ri,mk=null,gi=null,Wf=mg.unstable_runWithPriority,hh=mg.unstable_scheduleCallback,se=mg.unstable_cancelCallback,hi=mg.unstable_shouldYield,kj=mg.unstable_requestPaint,Kk=mg.unstable_now,Qk=mg.unstable_getCurrentPriorityLevel,
Sj=mg.unstable_ImmediatePriority,kl=mg.unstable_UserBlockingPriority,zk=mg.unstable_NormalPriority,Rk=mg.unstable_LowPriority,ui=mg.unstable_IdlePriority,Zj={},Fl=void 0!==kj?kj:function(){},Ai=null,Ak=null,Tj=!1,nl=Kk(),fi=1E4>nl?Kk:function(){return Kk()-nl},Cl=ji.ReactCurrentBatchConfig,Rh=Md(null),qj=null,sj=null,rj=null,Wh=!1,Ck=(new pf.Component).refs,Bk={isMounted:function(v){return(v=v._reactInternals)?ja(v)===v:!1},enqueueSetState:function(v,E,V){v=v._reactInternals;var Pa=dg(),hb=Bf(v),
Eb=ud(Pa,hb);Eb.payload=E;void 0!==V&&null!==V&&(Eb.callback=V);kb(v,Eb);jg(v,hb,Pa)},enqueueReplaceState:function(v,E,V){v=v._reactInternals;var Pa=dg(),hb=Bf(v),Eb=ud(Pa,hb);Eb.tag=1;Eb.payload=E;void 0!==V&&null!==V&&(Eb.callback=V);kb(v,Eb);jg(v,hb,Pa)},enqueueForceUpdate:function(v,E){v=v._reactInternals;var V=dg(),Pa=Bf(v),hb=ud(V,Pa);hb.tag=2;void 0!==E&&null!==E&&(hb.callback=E);kb(v,hb);jg(v,Pa,V)}},Si=Array.isArray,Di=Oc(!0),Sk=Oc(!1),ik={},Sh=Md(ik),uj=Md(ik),Uj=Md(ik),Bh=Md(0),Ji=null,
Ti=null,Bi=!1,Vj=[],kk=ji.ReactCurrentDispatcher,Ci=ji.ReactCurrentBatchConfig,jk=0,uh=null,Uh=null,Th=null,zj=!1,Wj=!1,Dk={readContext:wc,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useOpaqueIdentifier:ze,unstable_isNewReconciler:!1},ll={readContext:wc,useCallback:function(v,E){sf().memoizedState=[v,void 0===E?null:E];return v},useContext:wc,
useEffect:vg,useImperativeHandle:function(v,E,V){V=null!==V&&void 0!==V?V.concat([v]):null;return ig(4,2,Xf.bind(null,E,v),V)},useLayoutEffect:function(v,E){return ig(4,2,v,E)},useMemo:function(v,E){var V=sf();E=void 0===E?null:E;v=v();V.memoizedState=[v,E];return v},useReducer:function(v,E,V){var Pa=sf();E=void 0!==V?V(E):E;Pa.memoizedState=Pa.baseState=E;v=Pa.queue={pending:null,dispatch:null,lastRenderedReducer:v,lastRenderedState:E};v=v.dispatch=Wa.bind(null,uh,v);return[Pa.memoizedState,v]},
useRef:ug,useState:Ag,useDebugValue:bh,useDeferredValue:function(v){var E=Ag(v),V=E[0],Pa=E[1];vg(function(){var hb=Ci.transition;Ci.transition=1;try{Pa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=Ag(!1),E=v[0];v=Jg.bind(null,v[1]);ug(v);return[v,E]},useMutableSource:function(v,E,V){var Pa=sf();Pa.memoizedState={refs:{getSnapshot:E,setSnapshot:null},source:v,subscribe:V};return Tf(Pa,v,E,V)},useOpaqueIdentifier:function(){if(Bi){var v=!1,E=qc(function(){v||(v=!0,V("r:"+
(bl++).toString(36)));throw Error(w(355));}),V=Ag(E)[1];0===(uh.mode&2)&&(uh.flags|=516,ng(5,function(){V("r:"+(bl++).toString(36))},void 0,null));return E}E="r:"+(bl++).toString(36);Ag(E);return E},unstable_isNewReconciler:!1},Al={readContext:wc,useCallback:Ng,useContext:wc,useEffect:og,useImperativeHandle:Tg,useLayoutEffect:Uf,useMemo:Ig,useReducer:$g,useRef:Sg,useState:function(){return $g(Ff)},useDebugValue:bh,useDeferredValue:function(v){var E=$g(Ff),V=E[0],Pa=E[1];og(function(){var hb=Ci.transition;
Ci.transition=1;try{Pa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=$g(Ff)[0];return[Sg().current,v]},useMutableSource:Gf,useOpaqueIdentifier:function(){return $g(Ff)[0]},unstable_isNewReconciler:!1},ml={readContext:wc,useCallback:Ng,useContext:wc,useEffect:og,useImperativeHandle:Tg,useLayoutEffect:Uf,useMemo:Ig,useReducer:ie,useRef:Sg,useState:function(){return ie(Ff)},useDebugValue:bh,useDeferredValue:function(v){var E=ie(Ff),V=E[0],Pa=E[1];og(function(){var hb=Ci.transition;
Ci.transition=1;try{Pa(v)}finally{Ci.transition=hb}},[v]);return V},useTransition:function(){var v=ie(Ff)[0];return[Sg().current,v]},useMutableSource:Gf,useOpaqueIdentifier:function(){return ie(Ff)[0]},unstable_isNewReconciler:!1},Tk=ji.ReactCurrentOwner,Ii=!1,Xh={dehydrated:null,retryLane:0};var Wk=function(v,E){for(var V=E.child;null!==V;){if(5===V.tag||6===V.tag)v.appendChild(V.stateNode);else if(4!==V.tag&&null!==V.child){V.child.return=V;V=V.child;continue}if(V===E)break;for(;null===V.sibling;){if(null===
V.return||V.return===E)return;V=V.return}V.sibling.return=V.return;V=V.sibling}};var Uk=function(){};var Vk=function(v,E,V,Pa){var hb=v.memoizedProps;if(hb!==Pa){v=E.stateNode;yc(Sh.current);var Eb=null;switch(V){case "input":hb=y(v,hb);Pa=y(v,Pa);Eb=[];break;case "option":hb=Y(v,hb);Pa=Y(v,Pa);Eb=[];break;case "select":hb=Hf({},hb,{value:void 0});Pa=Hf({},Pa,{value:void 0});Eb=[];break;case "textarea":hb=Ga(v,hb);Pa=Ga(v,Pa);Eb=[];break;default:"function"!==typeof hb.onClick&&"function"===typeof Pa.onClick&&
(v.onclick=wa)}Ja(V,Pa);var cc;V=null;for(Qd in hb)if(!Pa.hasOwnProperty(Qd)&&hb.hasOwnProperty(Qd)&&null!=hb[Qd])if("style"===Qd){var vc=hb[Qd];for(cc in vc)vc.hasOwnProperty(cc)&&(V||(V={}),V[cc]="")}else"dangerouslySetInnerHTML"!==Qd&&"children"!==Qd&&"suppressContentEditableWarning"!==Qd&&"suppressHydrationWarning"!==Qd&&"autoFocus"!==Qd&&(Rg.hasOwnProperty(Qd)?Eb||(Eb=[]):(Eb=Eb||[]).push(Qd,null));for(Qd in Pa){var cd=Pa[Qd];vc=null!=hb?hb[Qd]:void 0;if(Pa.hasOwnProperty(Qd)&&cd!==vc&&(null!=
cd||null!=vc))if("style"===Qd)if(vc){for(cc in vc)!vc.hasOwnProperty(cc)||cd&&cd.hasOwnProperty(cc)||(V||(V={}),V[cc]="");for(cc in cd)cd.hasOwnProperty(cc)&&vc[cc]!==cd[cc]&&(V||(V={}),V[cc]=cd[cc])}else V||(Eb||(Eb=[]),Eb.push(Qd,V)),V=cd;else"dangerouslySetInnerHTML"===Qd?(cd=cd?cd.__html:void 0,vc=vc?vc.__html:void 0,null!=cd&&vc!==cd&&(Eb=Eb||[]).push(Qd,cd)):"children"===Qd?"string"!==typeof cd&&"number"!==typeof cd||(Eb=Eb||[]).push(Qd,""+cd):"suppressContentEditableWarning"!==Qd&&"suppressHydrationWarning"!==
Qd&&(Rg.hasOwnProperty(Qd)?(null!=cd&&"onScroll"===Qd&&re("scroll",v),Eb||vc===cd||(Eb=[])):"object"===typeof cd&&null!==cd&&cd.$$typeof===ti?cd.toString():(Eb=Eb||[]).push(Qd,cd))}V&&(Eb=Eb||[]).push("style",V);var Qd;if(E.updateQueue=Eb)E.flags|=4}};var Ei=function(v,E,V,Pa){V!==Pa&&(E.flags|=4)};var Cj="function"===typeof WeakMap?WeakMap:Map,Bl="function"===typeof WeakSet?WeakSet:Set,Dl=Math.ceil,Vi=ji.ReactCurrentDispatcher,$k=ji.ReactCurrentOwner,Nf=0,ah=null,Hh=null,Mh=0,Xi=0,Zk=Md(0),Gh=0,
Bj=null,Xj=0,tj=0,Aj=0,pk=0,Yk=null,nk=0,lk=Infinity,Ye=null,Ek=!1,Xk=null,Ki=null,ej=!1,rk=null,bk=90,Hk=[],Ej=[],qi=null,Yj=0,Gk=null,Fk=-1,Ui=0,ok=0,ak=null,Dj=!1;var El=function(v,E,V){var Pa=E.lanes;if(null!==v)if(v.memoizedProps!==E.pendingProps||pi.current)Ii=!0;else if(0!==(V&Pa))Ii=0!==(v.flags&16384)?!0:!1;else{Ii=!1;switch(E.tag){case 3:Xg(E);Ti=Ji=null;Bi=!1;break;case 5:Fd(E);break;case 1:Se(E.type)&&Ib(E);break;case 4:fd(E,E.stateNode.containerInfo);break;case 10:Pa=E.memoizedProps.value;
var hb=E.type._context;Pd(Rh,hb._currentValue);hb._currentValue=Pa;break;case 13:if(null!==E.memoizedState){if(0!==(V&E.child.childLanes))return Fh(v,E,V);Pd(Bh,Bh.current&1);E=vh(v,E,V);return null!==E?E.sibling:null}Pd(Bh,Bh.current&1);break;case 19:Pa=0!==(V&E.childLanes);if(0!==(v.flags&64)){if(Pa)return Lh(v,E,V);E.flags|=64}hb=E.memoizedState;null!==hb&&(hb.rendering=null,hb.tail=null,hb.lastEffect=null);Pd(Bh,Bh.current);if(Pa)break;else return null;case 23:case 24:return E.lanes=0,ne(v,E,
V)}return vh(v,E,V)}else Ii=!1;E.lanes=0;switch(E.tag){case 2:Pa=E.type;null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2);v=E.pendingProps;hb=Le(E,Qh.current);sd(E,V);hb=Id(null,E,Pa,v,hb,V);E.flags|=1;if("object"===typeof hb&&null!==hb&&"function"===typeof hb.render&&void 0===hb.$$typeof){E.tag=1;E.memoizedState=null;E.updateQueue=null;if(Se(Pa)){var Eb=!0;Ib(E)}else Eb=!1;E.memoizedState=null!==hb.state&&void 0!==hb.state?hb.state:null;Rc(E);var cc=Pa.getDerivedStateFromProps;"function"===
typeof cc&&fa(E,Pa,cc,v);hb.updater=Bk;E.stateNode=hb;hb._reactInternals=E;Kb(E,Pa,v,V);E=Vf(null,E,Pa,!0,Eb,V)}else E.tag=0,Cb(null,E,hb,V),E=E.child;return E;case 16:hb=E.elementType;a:{null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2);v=E.pendingProps;Eb=hb._init;hb=Eb(hb._payload);E.type=hb;Eb=E.tag=Vc(hb);v=Od(hb,v);switch(Eb){case 0:E=uf(null,E,hb,v,V);break a;case 1:E=Wg(null,E,hb,v,V);break a;case 11:E=hc(null,E,hb,v,V);break a;case 14:E=yd(null,E,hb,Od(hb.type,v),Pa,V);break a}throw Error(w(306,
hb,""));}return E;case 0:return Pa=E.type,hb=E.pendingProps,hb=E.elementType===Pa?hb:Od(Pa,hb),uf(v,E,Pa,hb,V);case 1:return Pa=E.type,hb=E.pendingProps,hb=E.elementType===Pa?hb:Od(Pa,hb),Wg(v,E,Pa,hb,V);case 3:Xg(E);Pa=E.updateQueue;if(null===v||null===Pa)throw Error(w(282));Pa=E.pendingProps;hb=E.memoizedState;hb=null!==hb?hb.element:null;Lc(v,E);Pb(E,Pa,null,V);Pa=E.memoizedState.element;if(Pa===hb)Ti=Ji=null,Bi=!1,E=vh(v,E,V);else{hb=E.stateNode;if(Eb=hb.hydrate)Ti=tc(E.stateNode.containerInfo.firstChild),
Ji=E,Eb=Bi=!0;if(Eb){v=hb.mutableSourceEagerHydrationData;if(null!=v)for(hb=0;hb<v.length;hb+=2)Eb=v[hb],Eb._workInProgressVersionPrimary=v[hb+1],Vj.push(Eb);V=Sk(E,null,Pa,V);for(E.child=V;V;)V.flags=V.flags&-3|1024,V=V.sibling}else Cb(v,E,Pa,V),Ti=Ji=null,Bi=!1;E=E.child}return E;case 5:return Fd(E),null===v&&vd(E),Pa=E.type,hb=E.pendingProps,Eb=null!==v?v.memoizedProps:null,cc=hb.children,zb(Pa,hb)?cc=null:null!==Eb&&zb(Pa,Eb)&&(E.flags|=16),of(v,E),Cb(v,E,cc,V),E.child;case 6:return null===v&&
vd(E),null;case 13:return Fh(v,E,V);case 4:return fd(E,E.stateNode.containerInfo),Pa=E.pendingProps,null===v?E.child=Di(E,null,Pa,V):Cb(v,E,Pa,V),E.child;case 11:return Pa=E.type,hb=E.pendingProps,hb=E.elementType===Pa?hb:Od(Pa,hb),hc(v,E,Pa,hb,V);case 7:return Cb(v,E,E.pendingProps,V),E.child;case 8:return Cb(v,E,E.pendingProps.children,V),E.child;case 12:return Cb(v,E,E.pendingProps.children,V),E.child;case 10:a:{Pa=E.type._context;hb=E.pendingProps;cc=E.memoizedProps;Eb=hb.value;var vc=E.type._context;
Pd(Rh,vc._currentValue);vc._currentValue=Eb;if(null!==cc)if(vc=cc.value,Eb=zg(vc,Eb)?0:("function"===typeof Pa._calculateChangedBits?Pa._calculateChangedBits(vc,Eb):1073741823)|0,0===Eb){if(cc.children===hb.children&&!pi.current){E=vh(v,E,V);break a}}else for(vc=E.child,null!==vc&&(vc.return=E);null!==vc;){var cd=vc.dependencies;if(null!==cd){cc=vc.child;for(var Qd=cd.firstContext;null!==Qd;){if(Qd.context===Pa&&0!==(Qd.observedBits&Eb)){1===vc.tag&&(Qd=ud(-1,V&-V),Qd.tag=2,kb(vc,Qd));vc.lanes|=V;
Qd=vc.alternate;null!==Qd&&(Qd.lanes|=V);ed(vc.return,V);cd.lanes|=V;break}Qd=Qd.next}}else cc=10===vc.tag?vc.type===E.type?null:vc.child:vc.child;if(null!==cc)cc.return=vc;else for(cc=vc;null!==cc;){if(cc===E){cc=null;break}vc=cc.sibling;if(null!==vc){vc.return=cc.return;cc=vc;break}cc=cc.return}vc=cc}Cb(v,E,hb.children,V);E=E.child}return E;case 9:return hb=E.type,Eb=E.pendingProps,Pa=Eb.children,sd(E,V),hb=wc(hb,Eb.unstable_observedBits),Pa=Pa(hb),E.flags|=1,Cb(v,E,Pa,V),E.child;case 14:return hb=
E.type,Eb=Od(hb,E.pendingProps),Eb=Od(hb.type,Eb),yd(v,E,hb,Eb,Pa,V);case 15:return Dd(v,E,E.type,E.pendingProps,Pa,V);case 17:return Pa=E.type,hb=E.pendingProps,hb=E.elementType===Pa?hb:Od(Pa,hb),null!==v&&(v.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,Se(Pa)?(v=!0,Ib(E)):v=!1,sd(E,V),gb(E,Pa,hb),Kb(E,Pa,hb,V),Vf(null,E,Pa,!0,v,V);case 19:return Lh(v,E,V);case 23:return ne(v,E,V);case 24:return ne(v,E,V)}throw Error(w(156,E.tag));};Ze.prototype.render=function(v){Tc(v,this._internalRoot,
null,null)};Ze.prototype.unmount=function(){var v=this._internalRoot,E=v.containerInfo;Tc(null,v,null,function(){E[Oj]=null})};var zl=function(v){if(13===v.tag){var E=dg();jg(v,4,E);De(v,4)}};var hl=function(v){if(13===v.tag){var E=dg();jg(v,67108864,E);De(v,67108864)}};var il=function(v){if(13===v.tag){var E=dg(),V=Bf(v);jg(v,V,E);De(v,V)}};var yl=function(v,E){return E()};hd=function(v,E,V){switch(E){case "input":S(v,V);E=V.name;if("radio"===V.type&&null!=E){for(V=v;V.parentNode;)V=V.parentNode;
V=V.querySelectorAll("input[name\x3d"+JSON.stringify(""+E)+'][type\x3d"radio"]');for(E=0;E<V.length;E++){var Pa=V[E];if(Pa!==v&&Pa.form===v.form){var hb=Uc(Pa);if(!hb)throw Error(w(90));C(Pa);S(Pa,hb)}}}break;case "textarea":D(v,V);break;case "select":E=V.value,null!=E&&ea(v,!!V.multiple,E,!1)}};Ra=Zh;ra=function(v,E,V,Pa,hb){var Eb=Nf;Nf|=4;try{return Jc(98,v.bind(null,E,V,Pa,hb))}finally{Nf=Eb,0===Nf&&(ch(),qd())}};ya=function(){0===(Nf&49)&&(ri(),Df())};kd=function(v,E){var V=Nf;Nf|=2;try{return v(E)}finally{Nf=
V,0===Nf&&(ch(),qd())}};var ol={Events:[Bb,ic,Uc,ma,Fa,Df,{current:!1}]},ek={findFiberByHostInstance:rb,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Gl={bundleType:ek.bundleType,version:ek.version,rendererPackageName:ek.rendererPackageName,rendererConfig:ek.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,
currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(v){v=Ta(v);return null===v?null:v.stateNode},findFiberByHostInstance:ek.findFiberByHostInstance||tf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Lk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lk.isDisabled&&Lk.supportsFiber)try{mk=Lk.inject(Gl),gi=Lk}catch(v){}}A.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=
ol;A.createPortal=He;A.findDOMNode=function(v){if(null==v)return null;if(1===v.nodeType)return v;var E=v._reactInternals;if(void 0===E){if("function"===typeof v.render)throw Error(w(188));throw Error(w(268,Object.keys(v)));}v=Ta(E);return v=null===v?null:v.stateNode};A.flushSync=function(v,E){var V=Nf;if(0!==(V&48))return v(E);Nf|=1;try{if(v)return Jc(99,v.bind(null,E))}finally{Nf=V,qd()}};A.hydrate=function(v,E,V){if(!df(E))throw Error(w(200));return gg(null,v,E,!0,V)};A.render=function(v,E,V){if(!df(E))throw Error(w(200));
return gg(null,v,E,!1,V)};A.unmountComponentAtNode=function(v){if(!df(v))throw Error(w(40));return v._reactRootContainer?($h(function(){gg(null,null,v,!1,function(){v._reactRootContainer=null;v[Oj]=null})}),!0):!1};A.unstable_batchedUpdates=Zh;A.unstable_createPortal=function(v,E){return He(v,E,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};A.unstable_renderSubtreeIntoContainer=function(v,E,V,Pa){if(!df(V))throw Error(w(200));if(null==v||void 0===v._reactInternals)throw Error(w(38));
return gg(v,E,V,!1,Pa)};A.version="17.0.2"};
shadow$provide[12]=function(Ka,L,sb,A){function w(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w)}catch(k){console.error(k)}}w();sb.exports=L(7)};
shadow$provide[13]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):(w="undefined"!==typeof globalThis?globalThis:w||self,w.marked=k())})(this,function(){function w(sa,Oa){for(var ja=0;ja<Oa.length;ja++){var U=Oa[ja];U.enumerable=U.enumerable||!1;U.configurable=!0;"value"in U&&(U.writable=!0);Object.defineProperty(sa,U.key,U)}}function k(sa,Oa,ja){Oa&&w(sa.prototype,Oa);ja&&w(sa,ja);return sa}function p(sa,
Oa){if(sa){if("string"===typeof sa)return q(sa,Oa);var ja=Object.prototype.toString.call(sa).slice(8,-1);"Object"===ja&&sa.constructor&&(ja=sa.constructor.name);if("Map"===ja||"Set"===ja)return Array.from(sa);if("Arguments"===ja||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ja))return q(sa,Oa)}}function q(sa,Oa){if(null==Oa||Oa>sa.length)Oa=sa.length;for(var ja=0,U=Array(Oa);ja<Oa;ja++)U[ja]=sa[ja];return U}function t(sa,Oa){var ja="undefined"!==typeof Symbol&&sa[Symbol.iterator]||sa["@@iterator"];
if(ja)return(ja=ja.call(sa)).next.bind(ja);if(Array.isArray(sa)||(ja=p(sa))||Oa&&sa&&"number"===typeof sa.length){ja&&(sa=ja);var U=0;return function(){return U>=sa.length?{done:!0}:{done:!1,value:sa[U++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function n(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,
pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function f(sa){return sa.replace(y,function(Oa,ja){ja=ja.toLowerCase();return"colon"===ja?":":"#"===ja.charAt(0)?"x"===ja.charAt(1)?String.fromCharCode(parseInt(ja.substring(2),16)):String.fromCharCode(+ja.substring(1)):""})}function b(sa,Oa,ja){var U=sa.length;if(0===U)return"";for(var ka=0;ka<U;){var ua=sa.charAt(U-ka-1);if(ua!==Oa||ja)if(ua!==Oa&&ja)ka++;else break;
else ka++}return sa.substr(0,U-ka)}function c(sa,Oa,ja,U){var ka=Oa.href;Oa=Oa.title?B(Oa.title):null;var ua=sa[1].replace(/\\([\[\]])/g,"$1");return"!"!==sa[0].charAt(0)?(U.state.inLink=!0,sa={type:"link",raw:ja,href:ka,title:Oa,text:ua,tokens:U.inlineTokens(ua,[])},U.state.inLink=!1,sa):{type:"image",raw:ja,href:ka,title:Oa,text:B(ua)}}function e(sa,Oa){sa=sa.match(/^(\s+)(?:```)/);if(null===sa)return Oa;var ja=sa[1];return Oa.split("\n").map(function(U){var ka=U.match(/^\s+/);return null===ka?
U:ka[0].length>=ja.length?U.slice(ja.length):U}).join("\n")}function g(sa){return sa.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function m(sa){var Oa="",ja,U=sa.length;for(ja=0;ja<U;ja++){var ka=sa.charCodeAt(ja);.5<Math.random()&&(ka="x"+ka.toString(16));Oa+="\x26#"+ka+";"}return Oa}function h(sa,Oa,ja){if("undefined"===typeof sa||null===sa)throw Error("marked(): input parameter is undefined or null");
if("string"!==typeof sa)throw Error("marked(): input parameter is of type "+Object.prototype.toString.call(sa)+", string expected");"function"===typeof Oa&&(ja=Oa,Oa=null);Oa=xa({},h.defaults,Oa||{});Ua(Oa);if(ja){var U=Oa.highlight;try{var ka=ya.lex(sa,Oa)}catch(lb){return ja(lb)}var ua=function(lb){if(!lb)try{Oa.walkTokens&&h.walkTokens(ka,Oa.walkTokens);var nb=oa.parse(ka,Oa)}catch(Mb){lb=Mb}Oa.highlight=U;return lb?ja(lb):ja(null,nb)};if(!U||3>U.length)return ua();delete Oa.highlight;if(!ka.length)return ua();
var Ta=0;h.walkTokens(ka,function(lb){"code"===lb.type&&(Ta++,setTimeout(function(){U(lb.text,lb.lang,function(nb,Mb){if(nb)return ua(nb);null!=Mb&&Mb!==lb.text&&(lb.text=Mb,lb.escaped=!0);Ta--;0===Ta&&ua()})},0))});0===Ta&&ua()}else try{var eb=ya.lex(sa,Oa);Oa.walkTokens&&h.walkTokens(eb,Oa.walkTokens);return oa.parse(eb,Oa)}catch(lb){lb.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+fb(lb.message+"",!0)+
"\x3c/pre\x3e";throw lb;}}var x=n();var O=/[&<>"']/,G=/[&<>"']/g,I=/[<>"']|&(?!#?\w+;)/,F=/[<>"']|&(?!#?\w+;)/g,C={"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"},r=function(sa){return C[sa]},y=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,K=/(^|[^\[])\^/g,R=/[^\w:]/g,S=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,ca={},M=/^[^:]+:\/*[^/]*$/,aa=/^([^:]+:)[\s\S]*$/,Y=/^([^:]+:\/*[^/]*)[\s\S]*$/,ea=function(sa,Oa){if(Oa){if(O.test(sa))return sa.replace(G,r)}else if(I.test(sa))return sa.replace(F,
r);return sa},Ga=function(sa){for(var Oa=1,ja,U;Oa<arguments.length;Oa++)for(U in ja=arguments[Oa],ja)Object.prototype.hasOwnProperty.call(ja,U)&&(sa[U]=ja[U]);return sa},X=x,D=function(sa,Oa){sa=sa.replace(/\|/g,function(U,ka,ua){for(U=!1;0<=--ka&&"\\"===ua[ka];)U=!U;return U?"|":" |"}).split(/ \|/);var ja=0;sa[0].trim()||sa.shift();sa[sa.length-1].trim()||sa.pop();if(sa.length>Oa)sa.splice(Oa);else for(;sa.length<Oa;)sa.push("");for(;ja<sa.length;ja++)sa[ja]=sa[ja].trim().replace(/\\\|/g,"|");return sa},
B=ea,N=function(){function sa(ja){this.options=ja||X}var Oa=sa.prototype;Oa.space=function(ja){if(ja=this.rules.block.newline.exec(ja))return 1<ja[0].length?{type:"space",raw:ja[0]}:{raw:"\n"}};Oa.code=function(ja){if(ja=this.rules.block.code.exec(ja)){var U=ja[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:ja[0],codeBlockStyle:"indented",text:this.options.pedantic?U:b(U,"\n")}}};Oa.fences=function(ja){if(ja=this.rules.block.fences.exec(ja)){var U=ja[0],ka=e(U,ja[3]||"");return{type:"code",raw:U,
lang:ja[2]?ja[2].trim():ja[2],text:ka}}};Oa.heading=function(ja){if(ja=this.rules.block.heading.exec(ja)){var U=ja[2].trim();if(/#$/.test(U)){var ka=b(U,"#");if(this.options.pedantic)U=ka.trim();else if(!ka||/ $/.test(ka))U=ka.trim()}ja={type:"heading",raw:ja[0],depth:ja[1].length,text:U,tokens:[]};this.lexer.inline(ja.text,ja.tokens);return ja}};Oa.hr=function(ja){if(ja=this.rules.block.hr.exec(ja))return{type:"hr",raw:ja[0]}};Oa.blockquote=function(ja){if(ja=this.rules.block.blockquote.exec(ja)){var U=
ja[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:ja[0],tokens:this.lexer.blockTokens(U,[]),text:U}}};Oa.list=function(ja){var U=this.rules.block.list.exec(ja);if(U){var ka,ua;var Ta=U[1].trim();U=1<Ta.length;var eb={type:"list",raw:"",ordered:U,start:U?+Ta.slice(0,-1):"",loose:!1,items:[]};Ta=U?"\\d{1,9}\\"+Ta.slice(-1):"\\"+Ta;this.options.pedantic&&(Ta=U?Ta:"[*+-]");for(var lb=new RegExp("^( {0,3}"+Ta+")((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))");ja&&!this.rules.block.hr.test(ja)&&(U=lb.exec(ja));){var nb=
U[2].split("\n");if(this.options.pedantic){var Mb=2;var $b=nb[0].trimLeft()}else Mb=U[2].search(/[^ ]/),Mb=U[1].length+(4<Mb?1:Mb),$b=nb[0].slice(Mb-U[1].length);var Gc=!1;var zc=U[0];!nb[0]&&/^ *$/.test(nb[1])&&(zc=U[1]+nb.slice(0,2).join("\n")+"\n",eb.loose=!0,nb=[]);var Bc=new RegExp("^ {0,"+Math.min(3,Mb-1)+"}(?:[*+-]|\\d{1,9}[.)])");for(Ta=1;Ta<nb.length;Ta++){var uc=nb[Ta];this.options.pedantic&&(uc=uc.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "));if(Bc.test(uc)){zc=U[1]+nb.slice(0,Ta).join("\n")+
"\n";break}if(Gc)if(uc.search(/[^ ]/)>=Mb||!uc.trim())$b+="\n"+uc.slice(Mb);else{zc=U[1]+nb.slice(0,Ta).join("\n")+"\n";break}else uc.trim()||(Gc=!0),$b=uc.search(/[^ ]/)>=Mb?$b+("\n"+uc.slice(Mb)):$b+("\n"+uc)}eb.loose||(ua?eb.loose=!0:/\n *\n *$/.test(zc)&&(ua=!0));if(this.options.gfm&&(ka=/^\[[ xX]\] /.exec($b))){var id="[ ] "!==ka[0];$b=$b.replace(/^\[[ xX]\] +/,"")}eb.items.push({type:"list_item",raw:zc,task:!!ka,checked:id,loose:!1,text:$b});eb.raw+=zc;ja=ja.slice(zc.length)}eb.items[eb.items.length-
1].raw=zc.trimRight();eb.items[eb.items.length-1].text=$b.trimRight();eb.raw=eb.raw.trimRight();ja=eb.items.length;for(Ta=0;Ta<ja;Ta++)this.lexer.state.top=!1,eb.items[Ta].tokens=this.lexer.blockTokens(eb.items[Ta].text,[]),eb.items[Ta].tokens.some(function(Hb){return"space"===Hb.type})&&(eb.loose=!0,eb.items[Ta].loose=!0);return eb}};Oa.html=function(ja){if(ja=this.rules.block.html.exec(ja)){var U={type:"html",raw:ja[0],pre:!this.options.sanitizer&&("pre"===ja[1]||"script"===ja[1]||"style"===ja[1]),
text:ja[0]};this.options.sanitize&&(U.type="paragraph",U.text=this.options.sanitizer?this.options.sanitizer(ja[0]):B(ja[0]),U.tokens=[],this.lexer.inline(U.text,U.tokens));return U}};Oa.def=function(ja){if(ja=this.rules.block.def.exec(ja))return ja[3]&&(ja[3]=ja[3].substring(1,ja[3].length-1)),{type:"def",tag:ja[1].toLowerCase().replace(/\s+/g," "),raw:ja[0],href:ja[2],title:ja[3]}};Oa.table=function(ja){var U=this.rules.block.table.exec(ja);if(U&&(ja={type:"table",header:D(U[1]).map(function(eb){return{text:eb}}),
align:U[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:U[3]?U[3].replace(/\n$/,"").split("\n"):[]},ja.header.length===ja.align.length)){ja.raw=U[0];U=ja.align.length;var ka,ua;for(ka=0;ka<U;ka++)/^ *-+: *$/.test(ja.align[ka])?ja.align[ka]="right":/^ *:-+: *$/.test(ja.align[ka])?ja.align[ka]="center":/^ *:-+ *$/.test(ja.align[ka])?ja.align[ka]="left":ja.align[ka]=null;U=ja.rows.length;for(ka=0;ka<U;ka++)ja.rows[ka]=D(ja.rows[ka],ja.header.length).map(function(eb){return{text:eb}});U=ja.header.length;
for(ka=0;ka<U;ka++)ja.header[ka].tokens=[],this.lexer.inlineTokens(ja.header[ka].text,ja.header[ka].tokens);U=ja.rows.length;for(ka=0;ka<U;ka++){var Ta=ja.rows[ka];for(ua=0;ua<Ta.length;ua++)Ta[ua].tokens=[],this.lexer.inlineTokens(Ta[ua].text,Ta[ua].tokens)}return ja}};Oa.lheading=function(ja){if(ja=this.rules.block.lheading.exec(ja))return ja={type:"heading",raw:ja[0],depth:"\x3d"===ja[2].charAt(0)?1:2,text:ja[1],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.paragraph=function(ja){if(ja=
this.rules.block.paragraph.exec(ja))return ja={type:"paragraph",raw:ja[0],text:"\n"===ja[1].charAt(ja[1].length-1)?ja[1].slice(0,-1):ja[1],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.text=function(ja){if(ja=this.rules.block.text.exec(ja))return ja={type:"text",raw:ja[0],text:ja[0],tokens:[]},this.lexer.inline(ja.text,ja.tokens),ja};Oa.escape=function(ja){if(ja=this.rules.inline.escape.exec(ja))return{type:"escape",raw:ja[0],text:B(ja[1])}};Oa.tag=function(ja){if(ja=this.rules.inline.tag.exec(ja))return!this.lexer.state.inLink&&
/^<a /i.test(ja[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(ja[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(ja[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(ja[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:ja[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?
this.options.sanitizer(ja[0]):B(ja[0]):ja[0]}};Oa.link=function(ja){if(ja=this.rules.inline.link.exec(ja)){var U=ja[2].trim();if(!this.options.pedantic&&/^</.test(U)){if(!/>$/.test(U))return;var ka=b(U.slice(0,-1),"\\");if(0===(U.length-ka.length)%2)return}else{a:{ka=ja[2];if(-1!==ka.indexOf(")"))for(var ua=ka.length,Ta=0,eb=0;eb<ua;eb++)if("\\"===ka[eb])eb++;else if("("===ka[eb])Ta++;else if(")"===ka[eb]&&(Ta--,0>Ta)){ka=eb;break a}ka=-1}-1<ka&&(ua=(0===ja[0].indexOf("!")?5:4)+ja[1].length+ka,ja[2]=
ja[2].substring(0,ka),ja[0]=ja[0].substring(0,ua).trim(),ja[3]="")}ka=ja[2];ua="";if(this.options.pedantic){if(Ta=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ka))ka=Ta[1],ua=Ta[3]}else ua=ja[3]?ja[3].slice(1,-1):"";ka=ka.trim();/^</.test(ka)&&(ka=this.options.pedantic&&!/>$/.test(U)?ka.slice(1):ka.slice(1,-1));return c(ja,{href:ka?ka.replace(this.rules.inline._escapes,"$1"):ka,title:ua?ua.replace(this.rules.inline._escapes,"$1"):ua},ja[0],this.lexer)}};Oa.reflink=function(ja,U){var ka;if((ka=this.rules.inline.reflink.exec(ja))||
(ka=this.rules.inline.nolink.exec(ja)))return ja=(ka[2]||ka[1]).replace(/\s+/g," "),ja=U[ja.toLowerCase()],ja&&ja.href?c(ka,ja,ka[0],this.lexer):(U=ka[0].charAt(0),{type:"text",raw:U,text:U})};Oa.emStrong=function(ja,U,ka){void 0===ka&&(ka="");var ua=this.rules.inline.emStrong.lDelim.exec(ja);if(ua&&(!ua[3]||!ka.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDD\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Ta=
ua[1]||ua[2]||"";if(!Ta||Ta&&(""===ka||this.rules.inline.punctuation.exec(ka))){var eb=ka=ua[0].length-1,lb=0,nb="*"===ua[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;nb.lastIndex=0;for(U=U.slice(-1*ja.length+ka);null!=(ua=nb.exec(U));)if(Ta=ua[1]||ua[2]||ua[3]||ua[4]||ua[5]||ua[6])if(Ta=Ta.length,ua[3]||ua[4])eb+=Ta;else if((ua[5]||ua[6])&&ka%3&&!((ka+Ta)%3))lb+=Ta;else if(eb-=Ta,!(0<eb)){Ta=Math.min(Ta,Ta+eb+lb);if(Math.min(ka,Ta)%2)return U=ja.slice(1,ka+ua.index+
Ta),{type:"em",raw:ja.slice(0,ka+ua.index+Ta+1),text:U,tokens:this.lexer.inlineTokens(U,[])};U=ja.slice(2,ka+ua.index+Ta-1);return{type:"strong",raw:ja.slice(0,ka+ua.index+Ta+1),text:U,tokens:this.lexer.inlineTokens(U,[])}}}}};Oa.codespan=function(ja){if(ja=this.rules.inline.code.exec(ja)){var U=ja[2].replace(/\n/g," "),ka=/[^ ]/.test(U),ua=/^ /.test(U)&&/ $/.test(U);ka&&ua&&(U=U.substring(1,U.length-1));U=B(U,!0);return{type:"codespan",raw:ja[0],text:U}}};Oa.br=function(ja){if(ja=this.rules.inline.br.exec(ja))return{type:"br",
raw:ja[0]}};Oa.del=function(ja){if(ja=this.rules.inline.del.exec(ja))return{type:"del",raw:ja[0],text:ja[2],tokens:this.lexer.inlineTokens(ja[2],[])}};Oa.autolink=function(ja,U){if(ja=this.rules.inline.autolink.exec(ja)){if("@"===ja[2]){U=B(this.options.mangle?U(ja[1]):ja[1]);var ka="mailto:"+U}else ka=U=B(ja[1]);return{type:"link",raw:ja[0],text:U,href:ka,tokens:[{type:"text",raw:U,text:U}]}}};Oa.url=function(ja,U){if(ja=this.rules.inline.url.exec(ja)){if("@"===ja[2]){U=B(this.options.mangle?U(ja[0]):
ja[0]);var ka="mailto:"+U}else{do U=ja[0],ja[0]=this.rules.inline._backpedal.exec(ja[0])[0];while(U!==ja[0]);U=B(ja[0]);ka="www."===ja[1]?"http://"+U:U}return{type:"link",raw:ja[0],text:U,href:ka,tokens:[{type:"text",raw:U,text:U}]}}};Oa.inlineText=function(ja,U){if(ja=this.rules.inline.text.exec(ja))return U=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ja[0]):B(ja[0]):ja[0]:B(this.options.smartypants?U(ja[0]):ja[0]),{type:"text",raw:ja[0],text:U}};
return sa}(),Z={exec:function(){}},Aa=function(sa,Oa){sa=sa.source||sa;Oa=Oa||"";var ja={replace:function(U,ka){ka=ka.source||ka;ka=ka.replace(K,"$1");sa=sa.replace(U,ka);return ja},getRegex:function(){return new RegExp(sa,Oa)}};return ja},qa={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,
blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:\x3c(script|pre|style|textarea)[\\s\x3e][\\s\\S]*?(?:\x3c/\\1\x3e[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|\x3c\\?[\\s\\S]*?(?:\\?\x3e\\n*|$)|\x3c![A-Z][\\s\\S]*?(?:\x3e\\n*|$)|\x3c!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]\x3e\\n*|$)|\x3c/?(tag)(?: +|\\n|/?\x3e)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|\x3c/(?!script|pre|style|textarea)[a-z][\\w-]*\\s*\x3e(?\x3d[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",
def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:Z,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};qa.def=Aa(qa.def).replace("label",qa._label).replace("title",qa._title).getRegex();qa.bullet=/(?:[*+-]|\d{1,9}[.)])/;qa.listItemStart=Aa(/^( *)(bull) */).replace("bull",
qa.bullet).getRegex();qa.list=Aa(qa.list).replace(/bull/g,qa.bullet).replace("hr","\\n+(?\x3d\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?\x3d"+qa.def.source+")").getRegex();qa._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";
qa._comment=/\x3c!--(?!-?>)[\s\S]*?(?:--\x3e|$)/;qa.html=Aa(qa.html,"i").replace("comment",qa._comment).replace("tag",qa._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();qa.paragraph=Aa(qa._paragraph).replace("hr",qa.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}\x3e").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html",
"\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",qa._tag).getRegex();qa.blockquote=Aa(qa.blockquote).replace("paragraph",qa.paragraph).getRegex();qa.normal=Ga({},qa);qa.gfm=Ga({},qa.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});qa.gfm.table=Aa(qa.gfm.table).replace("hr",qa.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote",
" {0,3}\x3e").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?\x3d[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","\x3c/?(?:tag)(?: +|\\n|/?\x3e)|\x3c(?:script|pre|style|textarea|!--)").replace("tag",qa._tag).getRegex();qa.pedantic=Ga({},qa.normal,{html:Aa("^ *(?:comment *(?:\\n|\\s*$)|\x3c(tag)[\\s\\S]+?\x3c/\\1\x3e *(?:\\n{2,}|\\s*$)|\x3ctag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/\x3e\\s]*)*?/?\x3e *(?:\\n{2,}|\\s*$))").replace("comment",qa._comment).replace(/tag/g,
"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Z,paragraph:Aa(qa.normal._paragraph).replace("hr",qa.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",qa.lheading).replace("blockquote"," {0,3}\x3e").replace("|fences","").replace("|list","").replace("|html",
"").getRegex()});var la={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Z,tag:"^comment|^\x3c/[a-zA-Z][\\w:-]*\\s*\x3e|^\x3c[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?\x3e|^\x3c\\?[\\s\\S]*?\\?\x3e|^\x3c![a-zA-Z]+\\s[\\s\\S]*?\x3e|^\x3c!\\[CDATA\\[[\\s\\S]*?\\]\\]\x3e",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,
reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[punct*](_+)(?=[\s]|$)|[^punct*_\s](_+)(?=[punct*\s]|$)|[punct*\s](_+)(?=[^punct*_\s])|[\s](_+)(?=[punct*])|[punct*](_+)(?=[punct*])/},
code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Z,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/,_punctuation:"!\"#$%\x26'()+\\-.,/:;\x3c\x3d\x3e?@\\[\\]`^{|}~"};la.punctuation=Aa(la.punctuation).replace(/punctuation/g,la._punctuation).getRegex();la.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;la.escapedEmSt=/\\\*|\\_/g;la._comment=Aa(qa._comment).replace("(?:--\x3e|$)","--\x3e").getRegex();la.emStrong.lDelim=
Aa(la.emStrong.lDelim).replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimAst=Aa(la.emStrong.rDelimAst,"g").replace(/punct/g,la._punctuation).getRegex();la.emStrong.rDelimUnd=Aa(la.emStrong.rDelimUnd,"g").replace(/punct/g,la._punctuation).getRegex();la._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;la._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;la._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;
la.autolink=Aa(la.autolink).replace("scheme",la._scheme).replace("email",la._email).getRegex();la._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;la.tag=Aa(la.tag).replace("comment",la._comment).replace("attribute",la._attribute).getRegex();la._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;la._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;la._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;la.link=Aa(la.link).replace("label",
la._label).replace("href",la._href).replace("title",la._title).getRegex();la.reflink=Aa(la.reflink).replace("label",la._label).getRegex();la.reflinkSearch=Aa(la.reflinkSearch,"g").replace("reflink",la.reflink).replace("nolink",la.nolink).getRegex();la.normal=Ga({},la);la.pedantic=Ga({},la.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,
endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Aa(/^!?\[(label)\]\((.*?)\)/).replace("label",la._label).getRegex(),reflink:Aa(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",la._label).getRegex()});la.gfm=Ga({},la.normal,{escape:Aa(la.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,
del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});la.gfm.url=Aa(la.gfm.url,"i").replace("email",la.gfm._extended_email).getRegex();la.breaks=Ga({},la.gfm,{br:Aa(la.br).replace("{2,}","*").getRegex(),text:Aa(la.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});
var Ja=x,bb=function(sa,Oa){if(1>Oa)return"";for(var ja="";1<Oa;)Oa&1&&(ja+=sa),Oa>>=1,sa+=sa;return ja+sa};Z=function(){function sa(ja){this.tokens=[];this.tokens.links=Object.create(null);this.options=ja||Ja;this.options.tokenizer=this.options.tokenizer||new N;this.tokenizer=this.options.tokenizer;this.tokenizer.options=this.options;this.tokenizer.lexer=this;this.inlineQueue=[];this.state={inLink:!1,inRawBlock:!1,top:!0};ja={block:qa.normal,inline:la.normal};this.options.pedantic?(ja.block=qa.pedantic,
ja.inline=la.pedantic):this.options.gfm&&(ja.block=qa.gfm,ja.inline=this.options.breaks?la.breaks:la.gfm);this.tokenizer.rules=ja}sa.lex=function(ja,U){return(new sa(U)).lex(ja)};sa.lexInline=function(ja,U){return(new sa(U)).inlineTokens(ja)};var Oa=sa.prototype;Oa.lex=function(ja){ja=ja.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ");for(this.blockTokens(ja,this.tokens);ja=this.inlineQueue.shift();)this.inlineTokens(ja.src,ja.tokens);return this.tokens};Oa.blockTokens=function(ja,U){var ka=this;void 0===
U&&(U=[]);this.options.pedantic&&(ja=ja.replace(/^ +$/gm,""));for(var ua,Ta,eb,lb;ja;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(nb){return(ua=nb.call({lexer:ka},ja,U))?(ja=ja.substring(ua.raw.length),U.push(ua),!0):!1})))if(ua=this.tokenizer.space(ja))ja=ja.substring(ua.raw.length),ua.type&&U.push(ua);else if(ua=this.tokenizer.code(ja))ja=ja.substring(ua.raw.length),Ta=U[U.length-1],!Ta||"paragraph"!==Ta.type&&"text"!==Ta.type?U.push(ua):
(Ta.raw+="\n"+ua.raw,Ta.text+="\n"+ua.text,this.inlineQueue[this.inlineQueue.length-1].src=Ta.text);else if(ua=this.tokenizer.fences(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.heading(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.hr(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.blockquote(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.list(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=
this.tokenizer.html(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.def(ja))ja=ja.substring(ua.raw.length),Ta=U[U.length-1],!Ta||"paragraph"!==Ta.type&&"text"!==Ta.type?this.tokens.links[ua.tag]||(this.tokens.links[ua.tag]={href:ua.href,title:ua.title}):(Ta.raw+="\n"+ua.raw,Ta.text+="\n"+ua.raw,this.inlineQueue[this.inlineQueue.length-1].src=Ta.text);else if(ua=this.tokenizer.table(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.lheading(ja))ja=ja.substring(ua.raw.length),
U.push(ua);else if(eb=ja,this.options.extensions&&this.options.extensions.startBlock&&function(){var nb=Infinity,Mb=ja.slice(1),$b=void 0;ka.options.extensions.startBlock.forEach(function(Gc){$b=Gc.call({lexer:this},Mb);"number"===typeof $b&&0<=$b&&(nb=Math.min(nb,$b))});Infinity>nb&&0<=nb&&(eb=ja.substring(0,nb+1))}(),this.state.top&&(ua=this.tokenizer.paragraph(eb)))Ta=U[U.length-1],lb&&"paragraph"===Ta.type?(Ta.raw+="\n"+ua.raw,Ta.text+="\n"+ua.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-
1].src=Ta.text):U.push(ua),lb=eb.length!==ja.length,ja=ja.substring(ua.raw.length);else if(ua=this.tokenizer.text(ja))ja=ja.substring(ua.raw.length),(Ta=U[U.length-1])&&"text"===Ta.type?(Ta.raw+="\n"+ua.raw,Ta.text+="\n"+ua.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Ta.text):U.push(ua);else if(ja)if(Ta="Infinite loop on byte: "+ja.charCodeAt(0),this.options.silent){console.error(Ta);break}else throw Error(Ta);this.state.top=!0;return U};Oa.inline=function(ja,U){this.inlineQueue.push({src:ja,
tokens:U})};Oa.inlineTokens=function(ja,U){var ka=this;void 0===U&&(U=[]);var ua,Ta,eb=ja,lb;if(this.tokens.links){var nb=Object.keys(this.tokens.links);if(0<nb.length)for(;null!=(Ta=this.tokenizer.rules.inline.reflinkSearch.exec(eb));)nb.includes(Ta[0].slice(Ta[0].lastIndexOf("[")+1,-1))&&(eb=eb.slice(0,Ta.index)+"["+bb("a",Ta[0].length-2)+"]"+eb.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(Ta=this.tokenizer.rules.inline.blockSkip.exec(eb));)eb=eb.slice(0,Ta.index)+"["+
bb("a",Ta[0].length-2)+"]"+eb.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(Ta=this.tokenizer.rules.inline.escapedEmSt.exec(eb));)eb=eb.slice(0,Ta.index)+"++"+eb.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ja;){Mb||(lb="");var Mb=!1;if(!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Gc){return(ua=Gc.call({lexer:ka},ja,U))?(ja=ja.substring(ua.raw.length),U.push(ua),!0):!1})))if(ua=this.tokenizer.escape(ja))ja=
ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.tag(ja))ja=ja.substring(ua.raw.length),(Ta=U[U.length-1])&&"text"===ua.type&&"text"===Ta.type?(Ta.raw+=ua.raw,Ta.text+=ua.text):U.push(ua);else if(ua=this.tokenizer.link(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.reflink(ja,this.tokens.links))ja=ja.substring(ua.raw.length),(Ta=U[U.length-1])&&"text"===ua.type&&"text"===Ta.type?(Ta.raw+=ua.raw,Ta.text+=ua.text):U.push(ua);else if(ua=this.tokenizer.emStrong(ja,
eb,lb))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.codespan(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.br(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.del(ja))ja=ja.substring(ua.raw.length),U.push(ua);else if(ua=this.tokenizer.autolink(ja,m))ja=ja.substring(ua.raw.length),U.push(ua);else if(!this.state.inLink&&(ua=this.tokenizer.url(ja,m)))ja=ja.substring(ua.raw.length),U.push(ua);else{var $b=ja;this.options.extensions&&
this.options.extensions.startInline&&function(){var Gc=Infinity,zc=ja.slice(1),Bc=void 0;ka.options.extensions.startInline.forEach(function(uc){Bc=uc.call({lexer:this},zc);"number"===typeof Bc&&0<=Bc&&(Gc=Math.min(Gc,Bc))});Infinity>Gc&&0<=Gc&&($b=ja.substring(0,Gc+1))}();if(ua=this.tokenizer.inlineText($b,g))ja=ja.substring(ua.raw.length),"_"!==ua.raw.slice(-1)&&(lb=ua.raw.slice(-1)),Mb=!0,(Ta=U[U.length-1])&&"text"===Ta.type?(Ta.raw+=ua.raw,Ta.text+=ua.text):U.push(ua);else if(ja)if(eb="Infinite loop on byte: "+
ja.charCodeAt(0),this.options.silent){console.error(eb);break}else throw Error(eb);}}return U};k(sa,null,[{key:"rules",get:function(){return{block:qa,inline:la}}}]);return sa}();var ib=x,Ma=function(sa,Oa,ja){if(sa){try{var U=decodeURIComponent(f(ja)).replace(R,"").toLowerCase()}catch(ka){return null}if(0===U.indexOf("javascript:")||0===U.indexOf("vbscript:")||0===U.indexOf("data:"))return null}Oa&&!S.test(ja)&&(sa=Oa,ca[" "+sa]||(M.test(sa)?ca[" "+sa]=sa+"/":ca[" "+sa]=b(sa,"/",!0)),sa=ca[" "+sa],
Oa=-1===sa.indexOf(":"),ja="//"===ja.substring(0,2)?Oa?ja:sa.replace(aa,"$1")+ja:"/"===ja.charAt(0)?Oa?ja:sa.replace(Y,"$1")+ja:sa+ja);try{ja=encodeURI(ja).replace(/%25/g,"%")}catch(ka){return null}return ja},ma=function(){function sa(ja){this.options=ja||ib}var Oa=sa.prototype;Oa.code=function(ja,U,ka){U=(U||"").match(/\S*/)[0];if(this.options.highlight){var ua=this.options.highlight(ja,U);null!=ua&&ua!==ja&&(ka=!0,ja=ua)}ja=ja.replace(/\n$/,"")+"\n";return U?'\x3cpre\x3e\x3ccode class\x3d"'+this.options.langPrefix+
ea(U,!0)+'"\x3e'+(ka?ja:ea(ja,!0))+"\x3c/code\x3e\x3c/pre\x3e\n":"\x3cpre\x3e\x3ccode\x3e"+(ka?ja:ea(ja,!0))+"\x3c/code\x3e\x3c/pre\x3e\n"};Oa.blockquote=function(ja){return"\x3cblockquote\x3e\n"+ja+"\x3c/blockquote\x3e\n"};Oa.html=function(ja){return ja};Oa.heading=function(ja,U,ka,ua){return this.options.headerIds?"\x3ch"+U+' id\x3d"'+this.options.headerPrefix+ua.slug(ka)+'"\x3e'+ja+"\x3c/h"+U+"\x3e\n":"\x3ch"+U+"\x3e"+ja+"\x3c/h"+U+"\x3e\n"};Oa.hr=function(){return this.options.xhtml?"\x3chr/\x3e\n":
"\x3chr\x3e\n"};Oa.list=function(ja,U,ka){var ua=U?"ol":"ul";return"\x3c"+ua+(U&&1!==ka?' start\x3d"'+ka+'"':"")+"\x3e\n"+ja+"\x3c/"+ua+"\x3e\n"};Oa.listitem=function(ja){return"\x3cli\x3e"+ja+"\x3c/li\x3e\n"};Oa.checkbox=function(ja){return"\x3cinput "+(ja?'checked\x3d"" ':"")+'disabled\x3d"" type\x3d"checkbox"'+(this.options.xhtml?" /":"")+"\x3e "};Oa.paragraph=function(ja){return"\x3cp\x3e"+ja+"\x3c/p\x3e\n"};Oa.table=function(ja,U){U&&(U="\x3ctbody\x3e"+U+"\x3c/tbody\x3e");return"\x3ctable\x3e\n\x3cthead\x3e\n"+
ja+"\x3c/thead\x3e\n"+U+"\x3c/table\x3e\n"};Oa.tablerow=function(ja){return"\x3ctr\x3e\n"+ja+"\x3c/tr\x3e\n"};Oa.tablecell=function(ja,U){var ka=U.header?"th":"td";return(U.align?"\x3c"+ka+' align\x3d"'+U.align+'"\x3e':"\x3c"+ka+"\x3e")+ja+"\x3c/"+ka+"\x3e\n"};Oa.strong=function(ja){return"\x3cstrong\x3e"+ja+"\x3c/strong\x3e"};Oa.em=function(ja){return"\x3cem\x3e"+ja+"\x3c/em\x3e"};Oa.codespan=function(ja){return"\x3ccode\x3e"+ja+"\x3c/code\x3e"};Oa.br=function(){return this.options.xhtml?"\x3cbr/\x3e":
"\x3cbr\x3e"};Oa.del=function(ja){return"\x3cdel\x3e"+ja+"\x3c/del\x3e"};Oa.link=function(ja,U,ka){ja=Ma(this.options.sanitize,this.options.baseUrl,ja);if(null===ja)return ka;ja='\x3ca href\x3d"'+ea(ja)+'"';U&&(ja+=' title\x3d"'+U+'"');return ja+("\x3e"+ka+"\x3c/a\x3e")};Oa.image=function(ja,U,ka){ja=Ma(this.options.sanitize,this.options.baseUrl,ja);if(null===ja)return ka;ja='\x3cimg src\x3d"'+ja+'" alt\x3d"'+ka+'"';U&&(ja+=' title\x3d"'+U+'"');return ja+=this.options.xhtml?"/\x3e":"\x3e"};Oa.text=
function(ja){return ja};return sa}(),Fa=function(){function sa(){}var Oa=sa.prototype;Oa.strong=function(ja){return ja};Oa.em=function(ja){return ja};Oa.codespan=function(ja){return ja};Oa.del=function(ja){return ja};Oa.html=function(ja){return ja};Oa.text=function(ja){return ja};Oa.link=function(ja,U,ka){return""+ka};Oa.image=function(ja,U,ka){return""+ka};Oa.br=function(){return""};return sa}(),Ra=function(){function sa(){this.seen={}}var Oa=sa.prototype;Oa.serialize=function(ja){return ja.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,
"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")};Oa.getNextSafeSlug=function(ja,U){var ka=ja,ua=0;if(this.seen.hasOwnProperty(ka)){ua=this.seen[ja];do ua++,ka=ja+"-"+ua;while(this.seen.hasOwnProperty(ka))}U||(this.seen[ja]=ua,this.seen[ka]=0);return ka};Oa.slug=function(ja,U){void 0===U&&(U={});ja=this.serialize(ja);return this.getNextSafeSlug(ja,U.dryrun)};return sa}(),ra=x;Aa=function(){function sa(ja){this.options=ja||ra;this.options.renderer=
this.options.renderer||new ma;this.renderer=this.options.renderer;this.renderer.options=this.options;this.textRenderer=new Fa;this.slugger=new Ra}sa.parse=function(ja,U){return(new sa(U)).parse(ja)};sa.parseInline=function(ja,U){return(new sa(U)).parseInline(ja)};var Oa=sa.prototype;Oa.parse=function(ja,U){void 0===U&&(U=!0);var ka="",ua,Ta,eb,lb=ja.length;for(ua=0;ua<lb;ua++){var nb=ja[ua];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[nb.type]){var Mb=
this.options.extensions.renderers[nb.type].call({parser:this},nb);if(!1!==Mb||!"space hr heading code table blockquote list html paragraph text".split(" ").includes(nb.type)){ka+=Mb||"";continue}}switch(nb.type){case "space":continue;case "hr":ka+=this.renderer.hr();continue;case "heading":ka+=this.renderer.heading(this.parseInline(nb.tokens),nb.depth,f(this.parseInline(nb.tokens,this.textRenderer)),this.slugger);continue;case "code":ka+=this.renderer.code(nb.text,nb.lang,nb.escaped);continue;case "table":var $b=
eb="";var Gc=nb.header.length;for(Mb=0;Mb<Gc;Mb++)$b+=this.renderer.tablecell(this.parseInline(nb.header[Mb].tokens),{header:!0,align:nb.align[Mb]});eb+=this.renderer.tablerow($b);var zc="";Gc=nb.rows.length;for(Mb=0;Mb<Gc;Mb++){var Bc=nb.rows[Mb];$b="";var uc=Bc.length;for(Ta=0;Ta<uc;Ta++)$b+=this.renderer.tablecell(this.parseInline(Bc[Ta].tokens),{header:!1,align:nb.align[Ta]});zc+=this.renderer.tablerow($b)}ka+=this.renderer.table(eb,zc);continue;case "blockquote":zc=this.parse(nb.tokens);ka+=
this.renderer.blockquote(zc);continue;case "list":Ta=nb.ordered;uc=nb.start;Bc=nb.loose;Gc=nb.items.length;zc="";for(Mb=0;Mb<Gc;Mb++){eb=nb.items[Mb];var id=eb.checked;var Hb=eb.task;$b="";if(eb.task){var Ab=this.renderer.checkbox(id);Bc?0<eb.tokens.length&&"paragraph"===eb.tokens[0].type?(eb.tokens[0].text=Ab+" "+eb.tokens[0].text,eb.tokens[0].tokens&&0<eb.tokens[0].tokens.length&&"text"===eb.tokens[0].tokens[0].type&&(eb.tokens[0].tokens[0].text=Ab+" "+eb.tokens[0].tokens[0].text)):eb.tokens.unshift({type:"text",
text:Ab}):$b+=Ab}$b+=this.parse(eb.tokens,Bc);zc+=this.renderer.listitem($b,Hb,id)}ka+=this.renderer.list(zc,Ta,uc);continue;case "html":ka+=this.renderer.html(nb.text);continue;case "paragraph":ka+=this.renderer.paragraph(this.parseInline(nb.tokens));continue;case "text":for(zc=nb.tokens?this.parseInline(nb.tokens):nb.text;ua+1<lb&&"text"===ja[ua+1].type;)nb=ja[++ua],zc+="\n"+(nb.tokens?this.parseInline(nb.tokens):nb.text);ka+=U?this.renderer.paragraph(zc):zc;continue;default:ja='Token with "'+nb.type+
'" type was not found.';if(this.options.silent){console.error(ja);return}throw Error(ja);}}return ka};Oa.parseInline=function(ja,U){U=U||this.renderer;var ka="",ua,Ta=ja.length;for(ua=0;ua<Ta;ua++){var eb=ja[ua];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[eb.type]){var lb=this.options.extensions.renderers[eb.type].call({parser:this},eb);if(!1!==lb||!"escape html link image strong em codespan br del text".split(" ").includes(eb.type)){ka+=lb||"";
continue}}switch(eb.type){case "escape":ka+=U.text(eb.text);break;case "html":ka+=U.html(eb.text);break;case "link":ka+=U.link(eb.href,eb.title,this.parseInline(eb.tokens,U));break;case "image":ka+=U.image(eb.href,eb.title,eb.text);break;case "strong":ka+=U.strong(this.parseInline(eb.tokens,U));break;case "em":ka+=U.em(this.parseInline(eb.tokens,U));break;case "codespan":ka+=U.codespan(eb.text);break;case "br":ka+=U.br();break;case "del":ka+=U.del(this.parseInline(eb.tokens,U));break;case "text":ka+=
U.text(eb.text);break;default:ja='Token with "'+eb.type+'" type was not found.';if(this.options.silent){console.error(ja);return}throw Error(ja);}}return ka};return sa}();var ya=Z,oa=Aa,xa=Ga,Ua=function(sa){sa&&sa.sanitize&&!sa.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")},fb=ea;h.options=h.setOptions=function(sa){xa(h.defaults,
sa);x=h.defaults;return h};h.getDefaults=n;h.defaults=x;h.use=function(){for(var sa=arguments.length,Oa=Array(sa),ja=0;ja<sa;ja++)Oa[ja]=arguments[ja];var U=xa.apply(void 0,[{}].concat(Oa)),ka=h.defaults.extensions||{renderers:{},childTokens:{}},ua;Oa.forEach(function(Ta){Ta.extensions&&(ua=!0,Ta.extensions.forEach(function(lb){if(!lb.name)throw Error("extension name required");if(lb.renderer){var nb=ka.renderers?ka.renderers[lb.name]:null;ka.renderers[lb.name]=nb?function(){for(var Mb=arguments.length,
$b=Array(Mb),Gc=0;Gc<Mb;Gc++)$b[Gc]=arguments[Gc];Mb=lb.renderer.apply(this,$b);!1===Mb&&(Mb=nb.apply(this,$b));return Mb}:lb.renderer}if(lb.tokenizer){if(!lb.level||"block"!==lb.level&&"inline"!==lb.level)throw Error("extension level must be 'block' or 'inline'");ka[lb.level]?ka[lb.level].unshift(lb.tokenizer):ka[lb.level]=[lb.tokenizer];lb.start&&("block"===lb.level?ka.startBlock?ka.startBlock.push(lb.start):ka.startBlock=[lb.start]:"inline"===lb.level&&(ka.startInline?ka.startInline.push(lb.start):
ka.startInline=[lb.start]))}lb.childTokens&&(ka.childTokens[lb.name]=lb.childTokens)}));Ta.renderer&&function(){var lb=h.defaults.renderer||new ma,nb=function($b){var Gc=lb[$b];lb[$b]=function(){for(var zc=arguments.length,Bc=Array(zc),uc=0;uc<zc;uc++)Bc[uc]=arguments[uc];zc=Ta.renderer[$b].apply(lb,Bc);!1===zc&&(zc=Gc.apply(lb,Bc));return zc}},Mb;for(Mb in Ta.renderer)nb(Mb);U.renderer=lb}();Ta.tokenizer&&function(){var lb=h.defaults.tokenizer||new N,nb=function($b){var Gc=lb[$b];lb[$b]=function(){for(var zc=
arguments.length,Bc=Array(zc),uc=0;uc<zc;uc++)Bc[uc]=arguments[uc];zc=Ta.tokenizer[$b].apply(lb,Bc);!1===zc&&(zc=Gc.apply(lb,Bc));return zc}},Mb;for(Mb in Ta.tokenizer)nb(Mb);U.tokenizer=lb}();if(Ta.walkTokens){var eb=h.defaults.walkTokens;U.walkTokens=function(lb){Ta.walkTokens.call(this,lb);eb&&eb.call(this,lb)}}ua&&(U.extensions=ka);h.setOptions(U)})};h.walkTokens=function(sa,Oa){var ja=function(){var ka=U.value;Oa.call(h,ka);switch(ka.type){case "table":for(var ua=t(ka.header),Ta;!(Ta=ua()).done;)h.walkTokens(Ta.value.tokens,
Oa);for(ua=t(ka.rows);!(Ta=ua()).done;){Ta=t(Ta.value);for(var eb;!(eb=Ta()).done;)h.walkTokens(eb.value.tokens,Oa)}break;case "list":h.walkTokens(ka.items,Oa);break;default:h.defaults.extensions&&h.defaults.extensions.childTokens&&h.defaults.extensions.childTokens[ka.type]?h.defaults.extensions.childTokens[ka.type].forEach(function(lb){h.walkTokens(ka[lb],Oa)}):ka.tokens&&h.walkTokens(ka.tokens,Oa)}};sa=t(sa);for(var U;!(U=sa()).done;)ja()};h.parseInline=function(sa,Oa){if("undefined"===typeof sa||
null===sa)throw Error("marked.parseInline(): input parameter is undefined or null");if("string"!==typeof sa)throw Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(sa)+", string expected");Oa=xa({},h.defaults,Oa||{});Ua(Oa);try{var ja=ya.lexInline(sa,Oa);Oa.walkTokens&&h.walkTokens(ja,Oa.walkTokens);return oa.parseInline(ja,Oa)}catch(U){U.message+="\nPlease report this to https://github.com/markedjs/marked.";if(Oa.silent)return"\x3cp\x3eAn error occurred:\x3c/p\x3e\x3cpre\x3e"+
fb(U.message+"",!0)+"\x3c/pre\x3e";throw U;}};h.Parser=oa;h.parser=oa.parse;h.Renderer=ma;h.TextRenderer=Fa;h.Lexer=ya;h.lexer=ya.lex;h.Tokenizer=N;h.Slugger=Ra;return h.parse=h})};
shadow$provide[14]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function k(ra,ya,oa){ra.fields=ya||[];ra.fname=oa;return ra}function p(ra){return null==ra?null:ra.fields}function q(ra){return 1===ra.length?ca(ra[0]):M(ra)}function t(ra){throw Error(ra);}function n(ra){function ya(){oa.push(sa+ra.substring(Oa,ja));
sa="";Oa=ja+1}const oa=[],xa=ra.length;let Ua=null,fb=0,sa="",Oa,ja,U;ra+="";for(Oa=ja=0;ja<xa;++ja)(U=ra[ja],"\\"===U)?(sa+=ra.substring(Oa,ja),sa+=ra.substring(++ja,++ja),Oa=ja):U===Ua?(ya(),Ua=null,fb=-1):Ua||(Oa===fb&&'"'===U?(Oa=ja+1,Ua=U):Oa===fb&&"'"===U?(Oa=ja+1,Ua=U):"."!==U||fb?"["===U?(ja>Oa&&ya(),fb=Oa=ja+1):"]"===U&&(fb||t("Access path missing open bracket: "+ra),0<fb&&ya(),fb=0,Oa=ja+1):ja>Oa?ya():Oa=ja+1);fb&&t("Access path missing closing bracket: "+ra);Ua&&t("Access path missing closing quote: "+
ra);ja>Oa&&(ja++,ya());return oa}function f(ra,ya,oa){const xa=n(ra);ra=1===xa.length?xa[0]:ra;return k((oa&&oa.get||q)(xa),[ra],ya||ra)}function b(ra,ya,oa){ya=[ya].concat([].slice.call(oa));console[ra].apply(console,ya)}function c(ra){return ra===Object(ra)}function e(ra,ya,oa,xa){if("__proto__"!==ya){var Ua;if(c(oa)&&!B(oa))for(Ua in ra=c(ra[ya])?ra[ya]:ra[ya]={},oa)xa&&(!0===xa||xa[Ua])?e(ra,Ua,oa[Ua]):"__proto__"!==Ua&&(ra[Ua]=oa[Ua]);else ra[ya]=oa}}function g(ra,ya){function oa(fb){xa[fb.name]||
(xa[fb.name]=1,Ua.push(fb))}if(null==ra)return ya;const xa={},Ua=[];ya.forEach(oa);ra.forEach(oa);return Ua}function m(ra){return ra[ra.length-1]}function h(ra){return null==ra||""===ra?null:+ra}function x(ra,ya,oa,xa){const Ua=oa(ra[0]);ra=oa(m(ra));ya*=ra-Ua;return[xa(Ua-ya),xa(ra-ya)]}function O(ra,ya,oa,xa,Ua){const fb=xa(ra[0]);ra=xa(m(ra));ya=null!=ya?xa(ya):(fb+ra)/2;return[Ua(ya+(fb-ya)*oa),Ua(ya+(ra-ya)*oa)]}function G(ra){return null!=ra?B(ra)?ra:[ra]:[]}function I(ra){return"function"===
typeof ra}function F(ra){for(let ya,oa,xa=1,Ua=arguments.length;xa<Ua;++xa)for(oa in ya=arguments[xa],ya)ra[oa]=ya[oa];return ra}function C(ra,ya){return ma.call(ra,ya)}function r(ra){return"[object Date]"===Object.prototype.toString.call(ra)}function y(ra){return"number"===typeof ra}function K(ra){return"string"===typeof ra}function R(ra,ya){let oa="";for(;0<=--ya;)oa+=ra;return oa}function S(ra){return B(ra)?"["+ra.map(S)+"]":c(ra)||K(ra)?JSON.stringify(ra).replace("\u2028","\\u2028").replace("\u2029",
"\\u2029"):ra}const ca=ra=>function(ya){return ya[ra]},M=ra=>{const ya=ra.length;return function(oa){for(let xa=0;xa<ya;++xa)oa=oa[ra[xa]];return oa}},aa=f("id"),Y=k(ra=>ra,[],"identity"),ea=k(()=>0,[],"zero"),Ga=k(()=>1,[],"one"),X=k(()=>!0,[],"true"),D=k(()=>!1,[],"false");var B=Array.isArray;const N=ra=>ya=>ra*Math.exp(ya),Z=ra=>ya=>Math.log(ra*ya),Aa=ra=>ya=>Math.sign(ya)*Math.log1p(Math.abs(ya/ra)),qa=ra=>ya=>Math.sign(ya)*Math.expm1(Math.abs(ya))*ra,la=ra=>ya=>0>ya?-Math.pow(-ya,ra):Math.pow(ya,
ra),Ja=(ra,ya)=>(ra<ya||null==ra)&&null!=ya?-1:(ra>ya||null==ya)&&null!=ra?1:(ya=ya instanceof Date?+ya:ya,ra=ra instanceof Date?+ra:ra)!==ra&&ya===ya?-1:ya!==ya&&ra===ra?1:0,bb=(ra,ya)=>1===ra.length?ib(ra[0],ya[0]):Ma(ra,ya,ra.length),ib=(ra,ya)=>function(oa,xa){return Ja(ra(oa),ra(xa))*ya},Ma=(ra,ya,oa)=>{ya.push(0);return function(xa,Ua){var fb=0;let sa=-1;for(;0===fb&&++sa<oa;)fb=ra[sa],fb=Ja(fb(xa),fb(Ua));return fb*ya[sa]}},ma=Object.prototype.hasOwnProperty,Fa={},Ra=ra=>y(ra)?ra:r(ra)?ra:
Date.parse(ra);w.Debug=4;w.Error=1;w.Info=3;w.None=0;w.Warn=2;w.accessor=k;w.accessorFields=p;w.accessorName=function(ra){return null==ra?null:ra.fname};w.array=G;w.ascending=Ja;w.clampRange=function(ra,ya,oa){let xa=ra[0];ra=ra[1];let Ua;ra<xa&&(Ua=ra,ra=xa,xa=Ua);Ua=ra-xa;return Ua>=oa-ya?[ya,oa]:[xa=Math.min(Math.max(xa,ya),oa-Ua),xa+Ua]};w.compare=function(ra,ya,oa){oa=oa||{};ya=G(ya)||[];const xa=[],Ua=[],fb={},sa=oa.comparator||bb;G(ra).forEach((Oa,ja)=>{null!=Oa&&(xa.push("descending"===ya[ja]?
-1:1),Ua.push(Oa=I(Oa)?Oa:f(Oa,null,oa)),(p(Oa)||[]).forEach(U=>fb[U]=1))});return 0===Ua.length?null:k(sa(Ua,xa),Object.keys(fb))};w.constant=function(ra){return I(ra)?ra:()=>ra};w.debounce=function(ra,ya){let oa;return xa=>{oa&&clearTimeout(oa);oa=setTimeout(()=>(ya(xa),oa=null),ra)}};w.error=t;w.extend=F;w.extent=function(ra,ya){let oa=0,xa,Ua,fb,sa;if(ra&&(xa=ra.length))if(null==ya){for(Ua=ra[oa];oa<xa&&(null==Ua||Ua!==Ua);Ua=ra[++oa]);for(fb=sa=Ua;oa<xa;++oa)Ua=ra[oa],null!=Ua&&(Ua<fb&&(fb=Ua),
Ua>sa&&(sa=Ua))}else{for(Ua=ya(ra[oa]);oa<xa&&(null==Ua||Ua!==Ua);Ua=ya(ra[++oa]));for(fb=sa=Ua;oa<xa;++oa)Ua=ya(ra[oa]),null!=Ua&&(Ua<fb&&(fb=Ua),Ua>sa&&(sa=Ua))}return[fb,sa]};w.extentIndex=function(ra,ya){const oa=ra.length;let xa=-1,Ua,fb,sa,Oa,ja;if(null==ya){for(;++xa<oa;)if(fb=ra[xa],null!=fb&&fb>=fb){Ua=sa=fb;break}if(xa===oa)return[-1,-1];for(Oa=ja=xa;++xa<oa;)fb=ra[xa],null!=fb&&(Ua>fb&&(Ua=fb,Oa=xa),sa<fb&&(sa=fb,ja=xa))}else{for(;++xa<oa;)if(fb=ya(ra[xa],xa,ra),null!=fb&&fb>=fb){Ua=sa=
fb;break}if(xa===oa)return[-1,-1];for(Oa=ja=xa;++xa<oa;)fb=ya(ra[xa],xa,ra),null!=fb&&(Ua>fb&&(Ua=fb,Oa=xa),sa<fb&&(sa=fb,ja=xa))}return[Oa,ja]};w.falsy=D;w.fastmap=function(ra){function ya(fb){return C(oa,fb)&&oa[fb]!==Fa}let oa={},xa;const Ua={size:0,empty:0,object:oa,has:ya,get(fb){return ya(fb)?oa[fb]:void 0},set(fb,sa){ya(fb)||(++Ua.size,oa[fb]===Fa&&--Ua.empty);oa[fb]=sa;return this},delete(fb){ya(fb)&&(--Ua.size,++Ua.empty,oa[fb]=Fa);return this},clear(){Ua.size=Ua.empty=0;Ua.object=oa={}},
test(fb){return arguments.length?(xa=fb,Ua):xa},clean(){const fb={};let sa=0;for(const Oa in oa){const ja=oa[Oa];ja===Fa||xa&&xa(ja)||(fb[Oa]=ja,++sa)}Ua.size=sa;Ua.empty=0;Ua.object=oa=fb}};ra&&Object.keys(ra).forEach(fb=>{Ua.set(fb,ra[fb])});return Ua};w.field=f;w.flush=function(ra,ya,oa,xa,Ua,fb){if(!oa&&0!==oa)return fb;oa=+oa;let sa=ra[0],Oa=m(ra);Oa<sa&&(ra=sa,sa=Oa,Oa=ra);ra=Math.abs(ya-sa);ya=Math.abs(Oa-ya);return ra<ya&&ra<=oa?xa:ya<=oa?Ua:fb};w.hasOwnProperty=C;w.id=aa;w.identity=Y;w.inherits=
function(ra,ya,oa){ya=ra.prototype=Object.create(ya.prototype);Object.defineProperty(ya,"constructor",{value:ra,writable:!0,enumerable:!0,configurable:!0});return F(ya,oa)};w.inrange=function(ra,ya,oa,xa){let Ua=ya[0];ya=ya[ya.length-1];let fb;Ua>ya&&(fb=Ua,Ua=ya,ya=fb);return(void 0===oa||oa?Ua<=ra:Ua<ra)&&(void 0===xa||xa?ra<=ya:ra<ya)};w.isArray=B;w.isBoolean=function(ra){return"boolean"===typeof ra};w.isDate=r;w.isFunction=I;w.isIterable=function(ra){return ra&&I(ra[Symbol.iterator])};w.isNumber=
y;w.isObject=c;w.isRegExp=function(ra){return"[object RegExp]"===Object.prototype.toString.call(ra)};w.isString=K;w.key=function(ra,ya,oa){ra&&(ra=ya?G(ra).map(fb=>fb.replace(/\\(.)/g,"$1")):G(ra));const xa=ra&&ra.length,Ua=oa&&oa.get||q;oa=fb=>Ua(ya?[fb]:n(fb));if(xa)if(1===xa){const fb=oa(ra[0]);oa=function(sa){return""+fb(sa)}}else{const fb=ra.map(oa);oa=function(sa){let Oa=""+fb[0](sa),ja=0;for(;++ja<xa;)Oa+="|"+fb[ja](sa);return Oa}}else oa=function(){return""};return k(oa,ra,"key")};w.lerp=
function(ra,ya){const oa=ra[0];ra=m(ra);return(ya=+ya)?1===ya?ra:oa+ya*(ra-oa):oa};w.logger=function(ra,ya,oa=b){let xa=ra||0;return{level(Ua){return arguments.length?(xa=+Ua,this):xa},error(){1<=xa&&oa(ya||"error","ERROR",arguments);return this},warn(){2<=xa&&oa(ya||"warn","WARN",arguments);return this},info(){3<=xa&&oa(ya||"log","INFO",arguments);return this},debug(){4<=xa&&oa(ya||"log","DEBUG",arguments);return this}}};w.lruCache=function(ra){ra=+ra||1E4;let ya,oa,xa;const Ua=()=>{ya={};oa={};
xa=0},fb=(sa,Oa)=>{++xa>ra&&(oa=ya,ya={},xa=1);return ya[sa]=Oa};Ua();return{clear:Ua,has:sa=>C(ya,sa)||C(oa,sa),get:sa=>C(ya,sa)?ya[sa]:C(oa,sa)?fb(sa,oa[sa]):void 0,set:(sa,Oa)=>C(ya,sa)?ya[sa]=Oa:fb(sa,Oa)}};w.merge=function(ra,ya,oa,xa){const Ua=ya.length,fb=oa.length;if(!fb)return ya;if(!Ua)return oa;xa=xa||new ya.constructor(Ua+fb);let sa=0,Oa=0,ja=0;for(;sa<Ua&&Oa<fb;++ja)xa[ja]=0<ra(ya[sa],oa[Oa])?oa[Oa++]:ya[sa++];for(;sa<Ua;++sa,++ja)xa[ja]=ya[sa];for(;Oa<fb;++Oa,++ja)xa[ja]=oa[Oa];return xa};
w.mergeConfig=function(...ra){return ra.reduce((ya,oa)=>{for(const xa in oa)"signals"===xa?ya.signals=g(ya.signals,oa.signals):e(ya,xa,oa[xa],"legend"===xa?{layout:1}:"style"===xa?!0:null);return ya},{})};w.one=Ga;w.pad=function(ra,ya,oa,xa){oa=oa||" ";ra+="";ya-=ra.length;return 0>=ya?ra:"left"===xa?R(oa,ya)+ra:"center"===xa?R(oa,~~(ya/2))+ra+R(oa,Math.ceil(ya/2)):ra+R(oa,ya)};w.panLinear=function(ra,ya){return x(ra,ya,h,Y)};w.panLog=function(ra,ya){var oa=Math.sign(ra[0]);return x(ra,ya,Z(oa),N(oa))};
w.panPow=function(ra,ya,oa){return x(ra,ya,la(oa),la(1/oa))};w.panSymlog=function(ra,ya,oa){return x(ra,ya,Aa(oa),qa(oa))};w.peek=m;w.quarter=function(ra){return 1+~~((new Date(ra)).getMonth()/3)};w.repeat=R;w.span=function(ra){return ra&&m(ra)-ra[0]||0};w.splitAccessPath=n;w.stringValue=S;w.toBoolean=function(ra){return null==ra||""===ra?null:ra&&"false"!==ra&&"0"!==ra?!!ra:!1};w.toDate=function(ra,ya){ya=ya||Ra;return null==ra||""===ra?null:ya(ra)};w.toNumber=h;w.toSet=function(ra){const ya={},
oa=ra.length;for(let xa=0;xa<oa;++xa)ya[ra[xa]]=!0;return ya};w.toString=function(ra){return null==ra||""===ra?null:ra+""};w.truncate=function(ra,ya,oa,xa){xa=null!=xa?xa:"…";ra+="";const Ua=ra.length,fb=Math.max(0,ya-xa.length);return Ua<=ya?ra:"left"===oa?xa+ra.slice(Ua-fb):"center"===oa?ra.slice(0,Math.ceil(fb/2))+xa+ra.slice(Ua-~~(fb/2)):ra.slice(0,fb)+xa};w.truthy=X;w.utcquarter=function(ra){return 1+~~((new Date(ra)).getUTCMonth()/3)};w.visitArray=function(ra,ya,oa){if(ra)if(ya){const xa=ra.length;
for(let Ua=0;Ua<xa;++Ua){const fb=ya(ra[Ua]);fb&&oa(fb,Ua,ra)}}else ra.forEach(oa)};w.writeConfig=e;w.zero=ea;w.zoomLinear=function(ra,ya,oa){return O(ra,ya,oa,h,Y)};w.zoomLog=function(ra,ya,oa){const xa=Math.sign(ra[0]);return O(ra,ya,oa,Z(xa),N(xa))};w.zoomPow=function(ra,ya,oa,xa){return O(ra,ya,oa,la(xa),la(1/xa))};w.zoomSymlog=function(ra,ya,oa,xa){return O(ra,ya,oa,Aa(xa),qa(xa))};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[15]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w=w||self,k(w.topojson=w.topojson||{}))})(this,function(w){function k(h){return h}function p(h){if(null==h)return k;var x,O,G=h.scale[0],I=h.scale[1],F=h.translate[0],C=h.translate[1];return function(r,y){y||(x=O=0);y=2;var K=r.length,R=Array(K);R[0]=(x+=r[0])*G+F;for(R[1]=(O+=r[1])*I+C;y<K;)R[y]=r[y],++y;return R}}function q(h){function x(K){K=
G(K);K[0]<F&&(F=K[0]);K[0]>r&&(r=K[0]);K[1]<C&&(C=K[1]);K[1]>y&&(y=K[1])}function O(K){switch(K.type){case "GeometryCollection":K.geometries.forEach(O);break;case "Point":x(K.coordinates);break;case "MultiPoint":K.coordinates.forEach(x)}}var G=p(h.transform),I,F=Infinity,C=F,r=-F,y=-F;h.arcs.forEach(function(K){for(var R=-1,S=K.length,ca;++R<S;)ca=G(K[R],R),ca[0]<F&&(F=ca[0]),ca[0]>r&&(r=ca[0]),ca[1]<C&&(C=ca[1]),ca[1]>y&&(y=ca[1])});for(I in h.objects)O(h.objects[I]);return[F,C,r,y]}function t(h,
x){var O=x.id,G=x.bbox,I=null==x.properties?{}:x.properties;h=n(h,x);return null==O&&null==G?{type:"Feature",properties:I,geometry:h}:null==G?{type:"Feature",id:O,properties:I,geometry:h}:{type:"Feature",id:O,bbox:G,properties:I,geometry:h}}function n(h,x){function O(K){return r(K)}function G(K){for(var R=[],S=0,ca=K.length;S<ca;++S){var M=K[S],aa=R;aa.length&&aa.pop();for(var Y=y[0>M?~M:M],ea=0,Ga=Y.length;ea<Ga;++ea)aa.push(r(Y[ea],ea));if(0>M)for(M=aa,aa=M.length,Y=aa-Ga;Y<--aa;)Ga=M[Y],M[Y++]=
M[aa],M[aa]=Ga}2>R.length&&R.push(R[0]);return R}function I(K){for(K=G(K);4>K.length;)K.push(K[0]);return K}function F(K){return K.map(I)}function C(K){var R=K.type;switch(R){case "GeometryCollection":return{type:R,geometries:K.geometries.map(C)};case "Point":K=r(K.coordinates);break;case "MultiPoint":K=K.coordinates.map(O);break;case "LineString":K=G(K.arcs);break;case "MultiLineString":K=K.arcs.map(G);break;case "Polygon":K=F(K.arcs);break;case "MultiPolygon":K=K.arcs.map(F);break;default:return null}return{type:R,
coordinates:K}}var r=p(h.transform),y=h.arcs;return C(x)}function f(h,x){function O(K){var R=h.arcs[0>K?~K:K],S=R[0];if(h.transform){var ca=[0,0];R.forEach(function(M){ca[0]+=M[0];ca[1]+=M[1]})}else ca=R[R.length-1];return 0>K?[ca,S]:[S,ca]}function G(K,R){for(var S in K){var ca=K[S];delete R[ca.start];delete ca.start;delete ca.end;ca.forEach(function(M){I[0>M?~M:M]=1});r.push(ca)}}var I={},F={},C={},r=[],y=-1;x.forEach(function(K,R){var S=h.arcs[0>K?~K:K];3>S.length&&!S[1][0]&&!S[1][1]&&(S=x[++y],
x[y]=K,x[R]=S)});x.forEach(function(K){var R=O(K),S=R[0],ca=R[1];(R=C[S])?(delete C[R.end],R.push(K),R.end=ca,(K=F[ca])?(delete F[K.start],S=K===R?R:R.concat(K),F[S.start=R.start]=C[S.end=K.end]=S):F[R.start]=C[R.end]=R):(R=F[ca])?(delete F[R.start],R.unshift(K),R.start=S,(K=C[S])?(delete C[K.end],S=K===R?R:K.concat(R),F[S.start=K.start]=C[S.end=R.end]=S):F[R.start]=C[R.end]=R):(R=[K],F[R.start=S]=C[R.end=ca]=R)});G(C,F);G(F,C);x.forEach(function(K){I[0>K?~K:K]||r.push([K])});return r}function b(h,
x,O){var G;if(1<arguments.length)var I=c(h,x,O);else{var F=0;for(I=Array(G=h.arcs.length);F<G;++F)I[F]=F}return{type:"MultiLineString",arcs:f(h,I)}}function c(h,x,O){function G(R){var S=0>R?~R:R;(y[S]||(y[S]=[])).push({i:R,g:K})}function I(R){R.forEach(G)}function F(R){R.forEach(I)}function C(R){switch(K=R,R.type){case "GeometryCollection":R.geometries.forEach(C);break;case "LineString":I(R.arcs);break;case "MultiLineString":case "Polygon":F(R.arcs);break;case "MultiPolygon":R.arcs.forEach(F)}}var r=
[],y=[],K;C(x);y.forEach(null==O?function(R){r.push(R[0].i)}:function(R){O(R[0].g,R[R.length-1].g)&&r.push(R[0].i)});return r}function e(h,x){function O(y){switch(y.type){case "GeometryCollection":y.geometries.forEach(O);break;case "Polygon":G(y.arcs);break;case "MultiPolygon":y.arcs.forEach(G)}}function G(y){y.forEach(function(K){K.forEach(function(R){(F[R=0>R?~R:R]||(F[R]=[])).push(y)})});C.push(y)}function I(y){y=n(h,{type:"Polygon",arcs:[y]}).coordinates[0];for(var K=-1,R=y.length,S,ca=y[R-1],
M=0;++K<R;)S=ca,ca=y[K],M+=S[0]*ca[1]-S[1]*ca[0];return Math.abs(M)}var F={},C=[],r=[];x.forEach(O);C.forEach(function(y){if(!y._){var K=[],R=[y];y._=1;for(r.push(K);y=R.pop();)K.push(y),y.forEach(function(S){S.forEach(function(ca){F[0>ca?~ca:ca].forEach(function(M){M._||(M._=1,R.push(M))})})})}});C.forEach(function(y){delete y._});return{type:"MultiPolygon",arcs:r.map(function(y){var K=[];y.forEach(function(M){M.forEach(function(aa){aa.forEach(function(Y){2>F[0>Y?~Y:Y].length&&K.push(Y)})})});K=
f(h,K);if(1<(y=K.length))for(var R=1,S=I(K[0]),ca;R<y;++R)(ca=I(K[R]))>S&&(S=K[0],K[0]=K[R],K[R]=S,S=ca);return K}).filter(function(y){return 0<y.length})}}function g(h,x){for(var O=0,G=h.length;O<G;){var I=O+G>>>1;h[I]<x?O=I+1:G=I}return O}function m(h){if(null==h)return k;var x,O,G=h.scale[0],I=h.scale[1],F=h.translate[0],C=h.translate[1];return function(r,y){y||(x=O=0);y=2;var K=r.length,R=Array(K),S=Math.round((r[0]-F)/G),ca=Math.round((r[1]-C)/I);R[0]=S-x;x=S;R[1]=ca-O;for(O=ca;y<K;)R[y]=r[y],
++y;return R}}w.bbox=q;w.feature=function(h,x){"string"===typeof x&&(x=h.objects[x]);return"GeometryCollection"===x.type?{type:"FeatureCollection",features:x.geometries.map(function(O){return t(h,O)})}:t(h,x)};w.merge=function(h){return n(h,e.apply(this,arguments))};w.mergeArcs=e;w.mesh=function(h){return n(h,b.apply(this,arguments))};w.meshArcs=b;w.neighbors=function(h){function x(aa,Y){aa.forEach(function(ea){0>ea&&(ea=~ea);var Ga=I[ea];Ga?Ga.push(Y):I[ea]=[Y]})}function O(aa,Y){aa.forEach(function(ea){x(ea,
Y)})}function G(aa,Y){if("GeometryCollection"===aa.type)aa.geometries.forEach(function(ea){G(ea,Y)});else if(aa.type in C)C[aa.type](aa.arcs,Y)}var I={},F=h.map(function(){return[]}),C={LineString:x,MultiLineString:O,Polygon:O,MultiPolygon:function(aa,Y){aa.forEach(function(ea){O(ea,Y)})}};h.forEach(G);for(var r in I){h=I[r];for(var y=h.length,K=0;K<y;++K)for(var R=K+1;R<y;++R){var S=h[K],ca=h[R],M;(M=F[S])[r=g(M,ca)]!==ca&&M.splice(r,0,ca);(M=F[ca])[r=g(M,S)]!==S&&M.splice(r,0,S)}}return F};w.quantize=
function(h,x){function O(S){return K(S)}function G(S){switch(S.type){case "GeometryCollection":var ca={type:"GeometryCollection",geometries:S.geometries.map(G)};break;case "Point":ca={type:"Point",coordinates:K(S.coordinates)};break;case "MultiPoint":ca={type:"MultiPoint",coordinates:S.coordinates.map(O)};break;default:return S}null!=S.id&&(ca.id=S.id);null!=S.bbox&&(ca.bbox=S.bbox);null!=S.properties&&(ca.properties=S.properties);return ca}if(h.transform)throw Error("already quantized");if(x&&x.scale)var I=
h.bbox;else{if(!(2<=(y=Math.floor(x))))throw Error("n must be ≥2");I=h.bbox||q(h);x=I[0];var F=I[1],C=I[2],r=I[3],y;x={scale:[C-x?(C-x)/(y-1):1,r-F?(r-F)/(y-1):1],translate:[x,F]}}var K=m(x),R;F=h.objects;C={};for(R in F)C[R]=G(F[R]);return{type:"Topology",bbox:I,transform:x,objects:C,arcs:h.arcs.map(function(S){var ca=0,M=1,aa=S.length,Y,ea=Array(aa);for(ea[0]=K(S[0],0);++ca<aa;)if((Y=K(S[ca],ca))[0]||Y[1])ea[M++]=Y;1===M&&(ea[M++]=[0,0]);ea.length=M;return ea})}};w.transform=p;w.untransform=m;Object.defineProperty(w,
"__esModule",{value:!0})})};
shadow$provide[16]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega))})(this,function(w,k){function p(U){const ka=k.array(U).slice(),ua={};ka.length||k.error("Missing time unit.");ka.forEach(Ta=>{k.hasOwnProperty(K,Ta)?ua[Ta]=1:k.error(`Invalid time unit: ${Ta}.`)});1<(ua.week||ua.day?1:0)+(ua.quarter||ua.month||
ua.date?1:0)+(ua.dayofyear?1:0)&&k.error(`Incompatible time units: ${U}`);ka.sort((Ta,eb)=>K[Ta]-K[eb]);return ka}function q(U,ka,ua,Ta){function eb(lb){return U(lb=0===arguments.length?new Date:new Date(+lb)),lb}eb.floor=function(lb){return U(lb=new Date(+lb)),lb};eb.ceil=function(lb){return U(lb=new Date(lb-1)),ka(lb,1),U(lb),lb};eb.round=function(lb){var nb=eb(lb),Mb=eb.ceil(lb);return lb-nb<Mb-lb?nb:Mb};eb.offset=function(lb,nb){return ka(lb=new Date(+lb),null==nb?1:Math.floor(nb)),lb};eb.range=
function(lb,nb,Mb){var $b=[],Gc;lb=eb.ceil(lb);Mb=null==Mb?1:Math.floor(Mb);if(!(lb<nb&&0<Mb))return $b;do $b.push(Gc=new Date(+lb)),ka(lb,Mb),U(lb);while(Gc<lb&&lb<nb);return $b};eb.filter=function(lb){return q(function(nb){if(nb>=nb)for(;U(nb),!lb(nb);)nb.setTime(nb-1)},function(nb,Mb){if(nb>=nb)if(0>Mb)for(;0>=++Mb;)for(;ka(nb,-1),!lb(nb););else for(;0<=--Mb;)for(;ka(nb,1),!lb(nb););})};ua&&(eb.count=function(lb,nb){S.setTime(+lb);ca.setTime(+nb);U(S);U(ca);return Math.floor(ua(S,ca))},eb.every=
function(lb){lb=Math.floor(lb);return isFinite(lb)&&0<lb?1<lb?eb.filter(Ta?function(nb){return 0===Ta(nb)%lb}:function(nb){return 0===eb.count(0,nb)%lb}):eb:null});return eb}function t(U){return q(function(ka){ka.setDate(ka.getDate()-(ka.getDay()+7-U)%7);ka.setHours(0,0,0,0)},function(ka,ua){ka.setDate(ka.getDate()+7*ua)},function(ka,ua){return(ua-ka-6E4*(ua.getTimezoneOffset()-ka.getTimezoneOffset()))/aa})}function n(U){return q(function(ka){ka.setUTCDate(ka.getUTCDate()-(ka.getUTCDay()+7-U)%7);
ka.setUTCHours(0,0,0,0)},function(ka,ua){ka.setUTCDate(ka.getUTCDate()+7*ua)},function(ka,ua){return(ua-ka)/aa})}function f(U,ka){return null==U||null==ka?NaN:U<ka?-1:U>ka?1:U>=ka?0:NaN}function b(U){function ka(lb,nb,Mb=0,$b=lb.length){if(Mb<$b){if(0!==Ta(nb,nb))return $b;do{const Gc=Mb+$b>>>1;0>eb(lb[Gc],nb)?Mb=Gc+1:$b=Gc}while(Mb<$b)}return Mb}let ua=U,Ta=U,eb=U;2!==U.length&&(ua=(lb,nb)=>U(lb)-nb,Ta=f,eb=(lb,nb)=>f(U(lb),nb));return{left:ka,center:function(lb,nb,Mb=0,$b=lb.length){$b=ka(lb,nb,
Mb,$b-1);return $b>Mb&&ua(lb[$b-1],nb)>-ua(lb[$b],nb)?$b-1:$b},right:function(lb,nb,Mb=0,$b=lb.length){if(Mb<$b){if(0!==Ta(nb,nb))return $b;do{const Gc=Mb+$b>>>1;0>=eb(lb[Gc],nb)?Mb=Gc+1:$b=Gc}while(Mb<$b)}return Mb}}}function c(U,ka,ua){var Ta=Math.abs(ka-U)/Math.max(0,ua);ua=Math.pow(10,Math.floor(Math.log(Ta)/Math.LN10));Ta/=ua;Ta>=ib?ua*=10:Ta>=Ma?ua*=5:Ta>=ma&&(ua*=2);return ka<U?-ua:ua}function e(U){Fa.setFullYear(U);Fa.setMonth(0);Fa.setDate(1);Fa.setHours(0,0,0,0);return Fa}function g(U){return X.count(e(U.getFullYear())-
1,U)}function m(U){return D.count(e(U.getFullYear())-1,U)}function h(U,ka,ua,Ta,eb,lb,nb){return 0<=U&&100>U?(ka=new Date(-1,ka,ua,Ta,eb,lb,nb),ka.setFullYear(U),ka):new Date(U,ka,ua,Ta,eb,lb,nb)}function x(U){const ka=Date.UTC(U.getUTCFullYear(),0,1);return qa.count(ka-1,U)}function O(U){const ka=Date.UTC(U.getUTCFullYear(),0,1);return la.count(ka-1,U)}function G(U){Fa.setTime(Date.UTC(U,0,1));return Fa.getUTCDay()}function I(U,ka,ua,Ta,eb,lb,nb){return 0<=U&&100>U?(U=new Date(Date.UTC(-1,ka,ua,
Ta,eb,lb,nb)),U.setUTCFullYear(ua.y),U):new Date(Date.UTC(U,ka,ua,Ta,eb,lb,nb))}function F(U,ka,ua,Ta,eb){const lb=ka||1,nb=k.peek(U);ka=(Ab,dc,Wb)=>{Wb=Wb||Ab;return C(ua[Wb],Ta[Wb],Ab===nb&&lb,dc)};const Mb=new Date;U=k.toSet(U);const $b=U.year?ka("year"):k.constant(2012),Gc=U.month?ka("month"):U.quarter?ka("quarter"):k.zero,zc=U.week&&U.day?ka("day",1,"weekday"):U.week?ka("week",1):U.day?ka("day",1):U.date?ka("date",1):U.dayofyear?ka("dayofyear",1):k.one,Bc=U.hours?ka("hours"):k.zero,uc=U.minutes?
ka("minutes"):k.zero,id=U.seconds?ka("seconds"):k.zero,Hb=U.milliseconds?ka("milliseconds"):k.zero;return function(Ab){Mb.setTime(+Ab);Ab=$b(Mb);return eb(Ab,Gc(Mb),zc(Mb,Ab),Bc(Mb),uc(Mb),id(Mb),Hb(Mb))}}function C(U,ka,ua,Ta){const eb=1>=ua?U:Ta?(lb,nb)=>Ta+ua*Math.floor((U(lb,nb)-Ta)/ua):(lb,nb)=>ua*Math.floor(U(lb,nb)/ua);return ka?(lb,nb)=>ka(eb(lb,nb),nb):eb}function r(U,ka,ua){return ka+7*U-(ua+6)%7}const y="year quarter month week date day dayofyear hours minutes seconds milliseconds".split(" "),
K=y.reduce((U,ka,ua)=>(U[ka]=1+ua,U),{}),R={year:"%Y ",quarter:"Q%q ",month:"%b ",date:"%d ",week:"W%U ",day:"%a ",dayofyear:"%j ",hours:"%H:00",minutes:"00:%M",seconds:":%S",milliseconds:".%L",["year-month"]:"%Y-%m ",["year-month-date"]:"%Y-%m-%d ",["hours-minutes"]:"%H:%M"};var S=new Date,ca=new Date,M=q(function(){},function(U,ka){U.setTime(+U+ka)},function(U,ka){return ka-U});M.every=function(U){U=Math.floor(U);return isFinite(U)&&0<U?1<U?q(function(ka){ka.setTime(Math.floor(ka/U)*U)},function(ka,
ua){ka.setTime(+ka+ua*U)},function(ka,ua){return(ua-ka)/U}):M:null};const aa=6048E5;var Y=q(function(U){U.setTime(U-U.getMilliseconds())},function(U,ka){U.setTime(+U+1E3*ka)},function(U,ka){return(ka-U)/1E3},function(U){return U.getUTCSeconds()}),ea=q(function(U){U.setTime(U-U.getMilliseconds()-1E3*U.getSeconds())},function(U,ka){U.setTime(+U+6E4*ka)},function(U,ka){return(ka-U)/6E4},function(U){return U.getMinutes()}),Ga=q(function(U){U.setTime(U-U.getMilliseconds()-1E3*U.getSeconds()-6E4*U.getMinutes())},
function(U,ka){U.setTime(+U+36E5*ka)},function(U,ka){return(ka-U)/36E5},function(U){return U.getHours()}),X=q(U=>U.setHours(0,0,0,0),(U,ka)=>U.setDate(U.getDate()+ka),(U,ka)=>(ka-U-6E4*(ka.getTimezoneOffset()-U.getTimezoneOffset()))/864E5,U=>U.getDate()-1),D=t(0);t(1);t(2);t(3);t(4);t(5);t(6);var B=q(function(U){U.setDate(1);U.setHours(0,0,0,0)},function(U,ka){U.setMonth(U.getMonth()+ka)},function(U,ka){return ka.getMonth()-U.getMonth()+12*(ka.getFullYear()-U.getFullYear())},function(U){return U.getMonth()}),
N=q(function(U){U.setMonth(0,1);U.setHours(0,0,0,0)},function(U,ka){U.setFullYear(U.getFullYear()+ka)},function(U,ka){return ka.getFullYear()-U.getFullYear()},function(U){return U.getFullYear()});N.every=function(U){return isFinite(U=Math.floor(U))&&0<U?q(function(ka){ka.setFullYear(Math.floor(ka.getFullYear()/U)*U);ka.setMonth(0,1);ka.setHours(0,0,0,0)},function(ka,ua){ka.setFullYear(ka.getFullYear()+ua*U)}):null};var Z=q(function(U){U.setUTCSeconds(0,0)},function(U,ka){U.setTime(+U+6E4*ka)},function(U,
ka){return(ka-U)/6E4},function(U){return U.getUTCMinutes()}),Aa=q(function(U){U.setUTCMinutes(0,0,0)},function(U,ka){U.setTime(+U+36E5*ka)},function(U,ka){return(ka-U)/36E5},function(U){return U.getUTCHours()}),qa=q(function(U){U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCDate(U.getUTCDate()+ka)},function(U,ka){return(ka-U)/864E5},function(U){return U.getUTCDate()-1}),la=n(0);n(1);n(2);n(3);n(4);n(5);n(6);var Ja=q(function(U){U.setUTCDate(1);U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCMonth(U.getUTCMonth()+
ka)},function(U,ka){return ka.getUTCMonth()-U.getUTCMonth()+12*(ka.getUTCFullYear()-U.getUTCFullYear())},function(U){return U.getUTCMonth()}),bb=q(function(U){U.setUTCMonth(0,1);U.setUTCHours(0,0,0,0)},function(U,ka){U.setUTCFullYear(U.getUTCFullYear()+ka)},function(U,ka){return ka.getUTCFullYear()-U.getUTCFullYear()},function(U){return U.getUTCFullYear()});bb.every=function(U){return isFinite(U=Math.floor(U))&&0<U?q(function(ka){ka.setUTCFullYear(Math.floor(ka.getUTCFullYear()/U)*U);ka.setUTCMonth(0,
1);ka.setUTCHours(0,0,0,0)},function(ka,ua){ka.setUTCFullYear(ka.getUTCFullYear()+ua*U)}):null};var ib=Math.sqrt(50),Ma=Math.sqrt(10),ma=Math.sqrt(2);const Fa=new Date,Ra={year:U=>U.getFullYear(),quarter:U=>Math.floor(U.getMonth()/3),month:U=>U.getMonth(),date:U=>U.getDate(),hours:U=>U.getHours(),minutes:U=>U.getMinutes(),seconds:U=>U.getSeconds(),milliseconds:U=>U.getMilliseconds(),dayofyear:U=>g(U),week:U=>m(U),weekday:(U,ka)=>r(m(U),U.getDay(),e(ka).getDay()),day:(U,ka)=>r(1,U.getDay(),e(ka).getDay())},
ra={quarter:U=>3*U,week:(U,ka)=>r(U,0,e(ka).getDay())},ya={year:U=>U.getUTCFullYear(),quarter:U=>Math.floor(U.getUTCMonth()/3),month:U=>U.getUTCMonth(),date:U=>U.getUTCDate(),hours:U=>U.getUTCHours(),minutes:U=>U.getUTCMinutes(),seconds:U=>U.getUTCSeconds(),milliseconds:U=>U.getUTCMilliseconds(),dayofyear:U=>x(U),week:U=>O(U),day:(U,ka)=>r(1,U.getUTCDay(),G(ka)),weekday:(U,ka)=>r(O(U),U.getUTCDay(),G(ka))},oa={quarter:U=>3*U,week:(U,ka)=>r(U,0,G(ka))},xa={year:N,quarter:B.every(3),month:B,week:D,
date:X,day:X,dayofyear:X,hours:Ga,minutes:ea,seconds:Y,milliseconds:M},Ua={year:bb,quarter:Ja.every(3),month:Ja,week:la,date:qa,day:qa,dayofyear:qa,hours:Aa,minutes:Z,seconds:Y,milliseconds:M};Y=6048E5;ea=2592E6;const fb=31536E6,sa="year month date hours minutes seconds milliseconds".split(" ");Ga=sa.slice(0,-1);B=Ga.slice(0,-1);N=B.slice(0,-1);Z=N.slice(0,-1);Aa=["year","month"];const Oa=["year"],ja=[[Ga,1,1E3],[Ga,5,5E3],[Ga,15,15E3],[Ga,30,3E4],[B,1,6E4],[B,5,3E5],[B,15,9E5],[B,30,18E5],[N,1,36E5],
[N,3,108E5],[N,6,216E5],[N,12,432E5],[Z,1,864E5],[["year","week"],1,Y],[Aa,1,ea],[Aa,3,3*ea],[Oa,1,fb]];w.DATE="date";w.DAY="day";w.DAYOFYEAR="dayofyear";w.HOURS="hours";w.MILLISECONDS="milliseconds";w.MINUTES="minutes";w.MONTH="month";w.QUARTER="quarter";w.SECONDS="seconds";w.TIME_UNITS=y;w.WEEK="week";w.YEAR="year";w.dayofyear=function(U){return g(new Date(U))};w.timeBin=function(U){var ka=U.extent;U=U.maxbins||40;var ua=Math.abs(k.span(ka))/U;let Ta=b(eb=>eb[2]).right(ja,ua);Ta===ja.length?(ua=
Oa,ka=c(ka[0]/fb,ka[1]/fb,U)):Ta?(Ta=ja[ua/ja[Ta-1][2]<ja[Ta][2]/ua?Ta-1:Ta],ua=Ta[0],ka=Ta[1]):(ua=sa,ka=Math.max(c(ka[0],ka[1],U),1));return{units:ua,step:ka}};w.timeFloor=function(U,ka){return F(U,ka||1,Ra,ra,h)};w.timeInterval=function(U){return xa[U]};w.timeOffset=function(U,ka,ua){return(U=xa[U])?U.offset(ka,ua):void 0};w.timeSequence=function(U,ka,ua,Ta){return(U=xa[U])?U.range(ka,ua,Ta):void 0};w.timeUnitSpecifier=function(U,ka){ka=k.extend({},R,ka);U=p(U);const ua=U.length;let Ta="",eb,lb,
nb;for(eb=0;eb<ua;)for(lb=U.length;lb>eb;--lb)if(nb=U.slice(eb,lb).join("-"),null!=ka[nb]){Ta+=ka[nb];eb=lb;break}return Ta.trim()};w.timeUnits=p;w.utcFloor=function(U,ka){return F(U,ka||1,ya,oa,I)};w.utcInterval=function(U){return Ua[U]};w.utcOffset=function(U,ka,ua){return(U=Ua[U])?U.offset(ka,ua):void 0};w.utcSequence=function(U,ka,ua,Ta){return(U=Ua[U])?U.range(ka,ua,Ta):void 0};w.utcdayofyear=function(U){return x(new Date(U))};w.utcweek=function(U){return O(new Date(U))};w.week=function(U){return m(new Date(U))};
Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[17]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(16),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-time","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(rb){const Bb={};return ic=>Bb[ic]||(Bb[ic]=rb(ic))}function t(rb,Bb){if(0>(Bb=(rb=Bb?rb.toExponential(Bb-1):rb.toExponential()).indexOf("e")))return null;var ic=rb.slice(0,Bb);return[1<
ic.length?ic[0]+ic.slice(2):ic,+rb.slice(Bb+1)]}function n(rb){return rb=t(Math.abs(rb)),rb?rb[1]:NaN}function f(rb,Bb){return function(ic,Uc){for(var Rd=ic.length,Md=[],Gd=0,Pd=rb[0],Le=0;0<Rd&&0<Pd;){Le+Pd+1>Uc&&(Pd=Math.max(1,Uc-Le));Md.push(ic.substring(Rd-=Pd,Rd+Pd));if((Le+=Pd+1)>Uc)break;Pd=rb[Gd=(Gd+1)%rb.length]}return Md.reverse().join(Bb)}}function b(rb){return function(Bb){return Bb.replace(/[0-9]/g,function(ic){return rb[+ic]})}}function c(rb){if(!(Bb=We.exec(rb)))throw Error("invalid format: "+
rb);var Bb;return new e({fill:Bb[1],align:Bb[2],sign:Bb[3],symbol:Bb[4],zero:Bb[5],width:Bb[6],comma:Bb[7],precision:Bb[8]&&Bb[8].slice(1),trim:Bb[9],type:Bb[10]})}function e(rb){this.fill=void 0===rb.fill?" ":rb.fill+"";this.align=void 0===rb.align?"\x3e":rb.align+"";this.sign=void 0===rb.sign?"-":rb.sign+"";this.symbol=void 0===rb.symbol?"":rb.symbol+"";this.zero=!!rb.zero;this.width=void 0===rb.width?void 0:+rb.width;this.comma=!!rb.comma;this.precision=void 0===rb.precision?void 0:+rb.precision;
this.trim=!!rb.trim;this.type=void 0===rb.type?"":rb.type+""}function g(rb,Bb){Bb=t(rb,Bb);if(!Bb)return rb+"";rb=Bb[0];Bb=Bb[1];return 0>Bb?"0."+Array(-Bb).join("0")+rb:rb.length>Bb+1?rb.slice(0,Bb+1)+"."+rb.slice(Bb+1):rb+Array(Bb-rb.length+2).join("0")}function m(rb){return rb}function h(rb){function Bb(ha){function ob(Rc){var Lc=Jd,ud=ed,kb,Gb;if("c"===Od)ud=sd(Rc)+ud,Rc="";else{Rc=+Rc;var Pb=0>Rc||0>1/Rc;Rc=isNaN(Rc)?Se:sd(Math.abs(Rc),qd);if(Yd){var bc=Rc.length,fa=1,Ia=-1;a:for(;fa<bc;++fa)switch(Rc[fa]){case ".":Ia=
kb=fa;break;case "0":0===Ia&&(Ia=fa);kb=fa;break;default:if(!+Rc[fa])break a;0<Ia&&(Ia=0)}Rc=0<Ia?Rc.slice(0,Ia)+Rc.slice(kb+1):Rc}Pb&&0===+Rc&&"+"!==Yb&&(Pb=!1);Lc=(Pb?"("===Yb?Yb:Le:"-"===Yb||"("===Yb?"":Yb)+Lc;ud=("s"===Od?Jb[8+za/3]:"")+ud+(Pb&&"("===Yb?")":"");if(wc)for(Pb=-1,kb=Rc.length;++Pb<kb;)if(Gb=Rc.charCodeAt(Pb),48>Gb||57<Gb){ud=(46===Gb?Md+Rc.slice(Pb+1):Rc.slice(Pb))+ud;Rc=Rc.slice(0,Pb);break}}pd&&!Nc&&(Rc=ic(Rc,Infinity));Gb=Lc.length+Rc.length+ud.length;Pb=Gb<Jc?Array(Jc-Gb+1).join(Ea):
"";pd&&Nc&&(Rc=ic(Pb+Rc,Pb.length?Jc-ud.length:Infinity),Pb="");switch(Ib){case "\x3c":Rc=Lc+Rc+ud+Pb;break;case "\x3d":Rc=Lc+Pb+Rc+ud;break;case "^":Rc=Pb.slice(0,Gb=Pb.length>>1)+Lc+Rc+ud+Pb.slice(Gb);break;default:Rc=Pb+Lc+Rc+ud}return Gd(Rc)}ha=c(ha);var Ea=ha.fill,Ib=ha.align,Yb=ha.sign,kc=ha.symbol,Nc=ha.zero,Jc=ha.width,pd=ha.comma,qd=ha.precision,Yd=ha.trim,Od=ha.type;"n"===Od?(pd=!0,Od="g"):Za[Od]||(void 0===qd&&(qd=12),Yd=!0,Od="g");if(Nc||"0"===Ea&&"\x3d"===Ib)Nc=!0,Ea="0",Ib="\x3d";var Jd=
"$"===kc?Uc:"#"===kc&&/[boxX]/.test(Od)?"0"+Od.toLowerCase():"",ed="$"===kc?Rd:/[%p]/.test(Od)?Pd:"",sd=Za[Od],wc=/[defgprs%]/.test(Od);qd=void 0===qd?6:/[gprs]/.test(Od)?Math.max(1,Math.min(21,qd)):Math.max(0,Math.min(20,qd));ob.toString=function(){return ha+""};return ob}var ic=void 0===rb.grouping||void 0===rb.thousands?m:f(tb.call(rb.grouping,Number),rb.thousands+""),Uc=void 0===rb.currency?"":rb.currency[0]+"",Rd=void 0===rb.currency?"":rb.currency[1]+"",Md=void 0===rb.decimal?".":rb.decimal+
"",Gd=void 0===rb.numerals?m:b(tb.call(rb.numerals,String)),Pd=void 0===rb.percent?"%":rb.percent+"",Le=void 0===rb.minus?"−":rb.minus+"",Se=void 0===rb.nan?"NaN":rb.nan+"";return{format:Bb,formatPrefix:function(ha,ob){var Ea=Bb((ha=c(ha),ha.type="f",ha));ha=3*Math.max(-8,Math.min(8,Math.floor(n(ob)/3)));var Ib=Math.pow(10,-ha),Yb=Jb[8+ha/3];return function(kc){return Ea(Ib*kc)+Yb}}}}function x(rb,Bb){return ic=>{ic=rb(ic);const Uc=ic.indexOf(Bb);if(0>Uc)return ic;a:{var Rd=ic.lastIndexOf("e");if(!(0<
Rd)){for(Rd=ic.length;--Rd>Uc;){var Md=ic.charCodeAt(Rd);if(48<=Md&&57>=Md){Rd+=1;break a}}Rd=void 0}}for(Md=Rd<ic.length?ic.slice(Rd):"";--Rd>Uc;)if("0"!==ic[Rd]){++Rd;break}return ic.slice(0,Rd)+Md}}function O(rb){const Bb=q(rb.format),ic=rb.formatPrefix;return{format:Bb,formatPrefix:ic,formatFloat(Uc){Uc=c(Uc||",");if(null==Uc.precision){Uc.precision=12;switch(Uc.type){case "%":Uc.precision-=2;break;case "e":--Uc.precision}return x(Bb(Uc),Bb(".1f")(1)[1])}return Bb(Uc)},formatSpan(Uc,Rd,Md,Gd){Gd=
c(null==Gd?",f":Gd);var Pd=Math.abs(Rd-Uc)/Math.max(0,Md);Md=Math.pow(10,Math.floor(Math.log(Pd)/Math.LN10));Pd/=Md;Pd>=qf?Md*=10:Pd>=gf?Md*=5:Pd>=te&&(Md*=2);Md=Rd<Uc?-Md:Md;Uc=Math.max(Math.abs(Uc),Math.abs(Rd));if(null==Gd.precision)switch(Gd.type){case "s":return Rd=isNaN,Md=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(Uc)/3)))-n(Math.abs(Md))),Rd(Rd=Md)||(Gd.precision=Rd),ic(Gd,Uc);case "":case "e":case "g":case "p":case "r":Rd=isNaN;Md=Math.abs(Md);Uc=Math.abs(Uc)-Md;Uc=Math.max(0,n(Uc)-
n(Md))+1;Rd(Rd=Uc)||(Gd.precision=Rd-("e"===Gd.type));break;case "f":case "%":isNaN(Rd=Math.max(0,-n(Math.abs(Md))))||(Gd.precision=Rd-2*("%"===Gd.type))}return Bb(Gd)}}}function G(){return Dc=O({format:nc,formatPrefix:Hc})}function I(rb){return O(h(rb))}function F(rb){return arguments.length?Dc=I(rb):Dc}function C(rb,Bb,ic,Uc){function Rd(Md){return rb(Md=0===arguments.length?new Date:new Date(+Md)),Md}Rd.floor=function(Md){return rb(Md=new Date(+Md)),Md};Rd.ceil=function(Md){return rb(Md=new Date(Md-
1)),Bb(Md,1),rb(Md),Md};Rd.round=function(Md){var Gd=Rd(Md),Pd=Rd.ceil(Md);return Md-Gd<Pd-Md?Gd:Pd};Rd.offset=function(Md,Gd){return Bb(Md=new Date(+Md),null==Gd?1:Math.floor(Gd)),Md};Rd.range=function(Md,Gd,Pd){var Le=[],Se;Md=Rd.ceil(Md);Pd=null==Pd?1:Math.floor(Pd);if(!(Md<Gd&&0<Pd))return Le;do Le.push(Se=new Date(+Md)),Bb(Md,Pd),rb(Md);while(Se<Md&&Md<Gd);return Le};Rd.filter=function(Md){return C(function(Gd){if(Gd>=Gd)for(;rb(Gd),!Md(Gd);)Gd.setTime(Gd-1)},function(Gd,Pd){if(Gd>=Gd)if(0>Pd)for(;0>=
++Pd;)for(;Bb(Gd,-1),!Md(Gd););else for(;0<=--Pd;)for(;Bb(Gd,1),!Md(Gd););})};ic&&(Rd.count=function(Md,Gd){lc.setTime(+Md);ld.setTime(+Gd);rb(lc);rb(ld);return Math.floor(ic(lc,ld))},Rd.every=function(Md){Md=Math.floor(Md);return isFinite(Md)&&0<Md?1<Md?Rd.filter(Uc?function(Gd){return 0===Uc(Gd)%Md}:function(Gd){return 0===Rd.count(0,Gd)%Md}):Rd:null});return Rd}function r(rb){return C(function(Bb){Bb.setDate(Bb.getDate()-(Bb.getDay()+7-rb)%7);Bb.setHours(0,0,0,0)},function(Bb,ic){Bb.setDate(Bb.getDate()+
7*ic)},function(Bb,ic){return(ic-Bb-6E4*(ic.getTimezoneOffset()-Bb.getTimezoneOffset()))/6048E5})}function y(rb){return C(function(Bb){Bb.setUTCDate(Bb.getUTCDate()-(Bb.getUTCDay()+7-rb)%7);Bb.setUTCHours(0,0,0,0)},function(Bb,ic){Bb.setUTCDate(Bb.getUTCDate()+7*ic)},function(Bb,ic){return(ic-Bb)/6048E5})}function K(rb){if(0<=rb.y&&100>rb.y){var Bb=new Date(-1,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L);Bb.setFullYear(rb.y);return Bb}return new Date(rb.y,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L)}function R(rb){if(0<=rb.y&&
100>rb.y){var Bb=new Date(Date.UTC(-1,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L));Bb.setUTCFullYear(rb.y);return Bb}return new Date(Date.UTC(rb.y,rb.m,rb.d,rb.H,rb.M,rb.S,rb.L))}function S(rb,Bb,ic){return{y:rb,m:Bb,d:ic,H:0,M:0,S:0,L:0}}function ca(rb){function Bb(wc,Rc){return function(Lc){var ud=[],kb=-1,Gb=0,Pb=wc.length,bc,fa;for(Lc instanceof Date||(Lc=new Date(+Lc));++kb<Pb;)if(37===wc.charCodeAt(kb)){ud.push(wc.slice(Gb,kb));null!=(Gb=rc[bc=wc.charAt(++kb)])?bc=wc.charAt(++kb):Gb="e"===bc?" ":"0";if(fa=
Rc[bc])bc=fa(Lc,Gb);ud.push(bc);Gb=kb+1}ud.push(wc.slice(Gb,kb));return ud.join("")}}function ic(wc,Rc){return function(Lc){var ud=S(1900,void 0,1);if(Uc(ud,wc,Lc+="",0)!=Lc.length)return null;if("Q"in ud)return new Date(ud.Q);if("s"in ud)return new Date(1E3*ud.s+("L"in ud?ud.L:0));!Rc||"Z"in ud||(ud.Z=0);"p"in ud&&(ud.H=ud.H%12+12*ud.p);void 0===ud.m&&(ud.m="q"in ud?ud.q:0);if("V"in ud){if(1>ud.V||53<ud.V)return null;"w"in ud||(ud.w=1);if("Z"in ud){Lc=R(S(ud.y,0,1));var kb=Lc.getUTCDay();Lc=4<kb||
0===kb?Ge.ceil(Lc):Ge(Lc);Lc=re.offset(Lc,7*(ud.V-1));ud.y=Lc.getUTCFullYear();ud.m=Lc.getUTCMonth();ud.d=Lc.getUTCDate()+(ud.w+6)%7}else Lc=K(S(ud.y,0,1)),kb=Lc.getDay(),Lc=4<kb||0===kb?Vd.ceil(Lc):Vd(Lc),Lc=rd.offset(Lc,7*(ud.V-1)),ud.y=Lc.getFullYear(),ud.m=Lc.getMonth(),ud.d=Lc.getDate()+(ud.w+6)%7}else if("W"in ud||"U"in ud)"w"in ud||(ud.w="u"in ud?ud.u%7:"W"in ud?1:0),kb="Z"in ud?R(S(ud.y,0,1)).getUTCDay():K(S(ud.y,0,1)).getDay(),ud.m=0,ud.d="W"in ud?(ud.w+6)%7+7*ud.W-(kb+5)%7:ud.w+7*ud.U-(kb+
6)%7;return"Z"in ud?(ud.H+=ud.Z/100|0,ud.M+=ud.Z%100,R(ud)):K(ud)}}function Uc(wc,Rc,Lc,ud){for(var kb=0,Gb=Rc.length,Pb=Lc.length,bc;kb<Gb;){if(ud>=Pb)return-1;bc=Rc.charCodeAt(kb++);if(37===bc){if(bc=Rc.charAt(kb++),bc=sd[bc in rc?Rc.charAt(kb++):bc],!bc||0>(ud=bc(wc,Lc,ud)))return-1}else if(bc!=Lc.charCodeAt(ud++))return-1}return ud}var Rd=rb.dateTime,Md=rb.date,Gd=rb.time,Pd=rb.periods,Le=rb.days,Se=rb.shortDays,ha=rb.months,ob=rb.shortMonths,Ea=Y(Pd),Ib=ea(Pd),Yb=Y(Le),kc=ea(Le),Nc=Y(Se),Jc=
ea(Se),pd=Y(ha),qd=ea(ha),Yd=Y(ob),Od=ea(ob),Jd={a:function(wc){return Se[wc.getDay()]},A:function(wc){return Le[wc.getDay()]},b:function(wc){return ob[wc.getMonth()]},B:function(wc){return ha[wc.getMonth()]},c:null,d:Ua,e:Ua,f:U,g:Bc,G:id,H:fb,I:sa,j:Oa,L:ja,m:ka,M:ua,p:function(wc){return Pd[+(12<=wc.getHours())]},q:function(wc){return 1+~~(wc.getMonth()/3)},Q:nd,s:xd,S:Ta,u:eb,U:lb,V:Mb,w:$b,W:Gc,x:null,X:null,y:zc,Y:uc,Z:Hb,"%":dd},ed={a:function(wc){return Se[wc.getUTCDay()]},A:function(wc){return Le[wc.getUTCDay()]},
b:function(wc){return ob[wc.getUTCMonth()]},B:function(wc){return ha[wc.getUTCMonth()]},c:null,d:Ab,e:Ab,f:Fc,g:Tb,G:Ic,H:dc,I:Wb,j:mc,L:Kc,m:Sc,M:jd,p:function(wc){return Pd[+(12<=wc.getUTCHours())]},q:function(wc){return 1+~~(wc.getUTCMonth()/3)},Q:nd,s:xd,S:$d,u:Ba,U:va,V:$a,w:jb,W:yb,x:null,X:null,y:Ub,Y:Vb,Z:$c,"%":dd},sd={a:function(wc,Rc,Lc){return(Rc=Nc.exec(Rc.slice(Lc)))?(wc.w=Jc.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},A:function(wc,Rc,Lc){return(Rc=Yb.exec(Rc.slice(Lc)))?(wc.w=kc.get(Rc[0].toLowerCase()),
Lc+Rc[0].length):-1},b:function(wc,Rc,Lc){return(Rc=Yd.exec(Rc.slice(Lc)))?(wc.m=Od.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},B:function(wc,Rc,Lc){return(Rc=pd.exec(Rc.slice(Lc)))?(wc.m=qd.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},c:function(wc,Rc,Lc){return Uc(wc,Rd,Rc,Lc)},d:bb,e:bb,f:ra,g:Aa,G:Z,H:Ma,I:Ma,j:ib,L:Ra,m:Ja,M:ma,p:function(wc,Rc,Lc){return(Rc=Ea.exec(Rc.slice(Lc)))?(wc.p=Ib.get(Rc[0].toLowerCase()),Lc+Rc[0].length):-1},q:la,Q:oa,s:xa,S:Fa,u:X,U:D,V:B,w:Ga,W:N,x:function(wc,
Rc,Lc){return Uc(wc,Md,Rc,Lc)},X:function(wc,Rc,Lc){return Uc(wc,Gd,Rc,Lc)},y:Aa,Y:Z,Z:qa,"%":ya};Jd.x=Bb(Md,Jd);Jd.X=Bb(Gd,Jd);Jd.c=Bb(Rd,Jd);ed.x=Bb(Md,ed);ed.X=Bb(Gd,ed);ed.c=Bb(Rd,ed);return{format:function(wc){var Rc=Bb(wc+="",Jd);Rc.toString=function(){return wc};return Rc},parse:function(wc){var Rc=ic(wc+="",!1);Rc.toString=function(){return wc};return Rc},utcFormat:function(wc){var Rc=Bb(wc+="",ed);Rc.toString=function(){return wc};return Rc},utcParse:function(wc){var Rc=ic(wc+="",!0);Rc.toString=
function(){return wc};return Rc}}}function M(rb,Bb,ic){var Uc=0>rb?"-":"";rb=(Uc?-rb:rb)+"";var Rd=rb.length;return Uc+(Rd<ic?Array(ic-Rd+1).join(Bb)+rb:rb)}function aa(rb){return rb.replace(wa,"\\$\x26")}function Y(rb){return new RegExp("^(?:"+rb.map(aa).join("|")+")","i")}function ea(rb){return new Map(rb.map((Bb,ic)=>[Bb.toLowerCase(),ic]))}function Ga(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.w=+Bb[0],ic+Bb[0].length):-1}function X(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.u=
+Bb[0],ic+Bb[0].length):-1}function D(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.U=+Bb[0],ic+Bb[0].length):-1}function B(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.V=+Bb[0],ic+Bb[0].length):-1}function N(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.W=+Bb[0],ic+Bb[0].length):-1}function Z(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+4)))?(rb.y=+Bb[0],ic+Bb[0].length):-1}function Aa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.y=+Bb[0]+(68<+Bb[0]?1900:2E3),ic+Bb[0].length):
-1}function qa(rb,Bb,ic){return(Bb=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Bb.slice(ic,ic+6)))?(rb.Z=Bb[1]?0:-(Bb[2]+(Bb[3]||"00")),ic+Bb[0].length):-1}function la(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+1)))?(rb.q=3*Bb[0]-3,ic+Bb[0].length):-1}function Ja(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.m=Bb[0]-1,ic+Bb[0].length):-1}function bb(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.d=+Bb[0],ic+Bb[0].length):-1}function ib(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+3)))?(rb.m=0,rb.d=
+Bb[0],ic+Bb[0].length):-1}function Ma(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.H=+Bb[0],ic+Bb[0].length):-1}function ma(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.M=+Bb[0],ic+Bb[0].length):-1}function Fa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+2)))?(rb.S=+Bb[0],ic+Bb[0].length):-1}function Ra(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+3)))?(rb.L=+Bb[0],ic+Bb[0].length):-1}function ra(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic,ic+6)))?(rb.L=Math.floor(Bb[0]/1E3),ic+Bb[0].length):
-1}function ya(rb,Bb,ic){return(rb=Ad.exec(Bb.slice(ic,ic+1)))?ic+rb[0].length:-1}function oa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic)))?(rb.Q=+Bb[0],ic+Bb[0].length):-1}function xa(rb,Bb,ic){return(Bb=bd.exec(Bb.slice(ic)))?(rb.s=+Bb[0],ic+Bb[0].length):-1}function Ua(rb,Bb){return M(rb.getDate(),Bb,2)}function fb(rb,Bb){return M(rb.getHours(),Bb,2)}function sa(rb,Bb){return M(rb.getHours()%12||12,Bb,2)}function Oa(rb,Bb){return M(1+rd.count(Ce(rb),rb),Bb,3)}function ja(rb,Bb){return M(rb.getMilliseconds(),
Bb,3)}function U(rb,Bb){return ja(rb,Bb)+"000"}function ka(rb,Bb){return M(rb.getMonth()+1,Bb,2)}function ua(rb,Bb){return M(rb.getMinutes(),Bb,2)}function Ta(rb,Bb){return M(rb.getSeconds(),Bb,2)}function eb(rb){rb=rb.getDay();return 0===rb?7:rb}function lb(rb,Bb){return M(Hd.count(Ce(rb)-1,rb),Bb,2)}function nb(rb){var Bb=rb.getDay();return 4<=Bb||0===Bb?ce(rb):ce.ceil(rb)}function Mb(rb,Bb){rb=nb(rb);return M(ce.count(Ce(rb),rb)+(4===Ce(rb).getDay()),Bb,2)}function $b(rb){return rb.getDay()}function Gc(rb,
Bb){return M(Vd.count(Ce(rb)-1,rb),Bb,2)}function zc(rb,Bb){return M(rb.getFullYear()%100,Bb,2)}function Bc(rb,Bb){rb=nb(rb);return M(rb.getFullYear()%100,Bb,2)}function uc(rb,Bb){return M(rb.getFullYear()%1E4,Bb,4)}function id(rb,Bb){var ic=rb.getDay();rb=4<=ic||0===ic?ce(rb):ce.ceil(rb);return M(rb.getFullYear()%1E4,Bb,4)}function Hb(rb){rb=rb.getTimezoneOffset();return(0<rb?"-":(rb*=-1,"+"))+M(rb/60|0,"0",2)+M(rb%60,"0",2)}function Ab(rb,Bb){return M(rb.getUTCDate(),Bb,2)}function dc(rb,Bb){return M(rb.getUTCHours(),
Bb,2)}function Wb(rb,Bb){return M(rb.getUTCHours()%12||12,Bb,2)}function mc(rb,Bb){return M(1+re.count(Qb(rb),rb),Bb,3)}function Kc(rb,Bb){return M(rb.getUTCMilliseconds(),Bb,3)}function Fc(rb,Bb){return Kc(rb,Bb)+"000"}function Sc(rb,Bb){return M(rb.getUTCMonth()+1,Bb,2)}function jd(rb,Bb){return M(rb.getUTCMinutes(),Bb,2)}function $d(rb,Bb){return M(rb.getUTCSeconds(),Bb,2)}function Ba(rb){rb=rb.getUTCDay();return 0===rb?7:rb}function va(rb,Bb){return M(vf.count(Qb(rb)-1,rb),Bb,2)}function Ca(rb){var Bb=
rb.getUTCDay();return 4<=Bb||0===Bb?Re(rb):Re.ceil(rb)}function $a(rb,Bb){rb=Ca(rb);return M(Re.count(Qb(rb),rb)+(4===Qb(rb).getUTCDay()),Bb,2)}function jb(rb){return rb.getUTCDay()}function yb(rb,Bb){return M(Ge.count(Qb(rb)-1,rb),Bb,2)}function Ub(rb,Bb){return M(rb.getUTCFullYear()%100,Bb,2)}function Tb(rb,Bb){rb=Ca(rb);return M(rb.getUTCFullYear()%100,Bb,2)}function Vb(rb,Bb){return M(rb.getUTCFullYear()%1E4,Bb,4)}function Ic(rb,Bb){var ic=rb.getUTCDay();rb=4<=ic||0===ic?Re(rb):Re.ceil(rb);return M(rb.getUTCFullYear()%
1E4,Bb,4)}function $c(){return"+0000"}function dd(){return"%"}function nd(rb){return+rb}function xd(rb){return Math.floor(+rb/1E3)}function Nd(rb,Bb,ic){ic=ic||{};p.isObject(ic)||p.error(`Invalid time multi-format specifier: ${ic}`);const Uc=Bb(k.SECONDS),Rd=Bb(k.MINUTES),Md=Bb(k.HOURS),Gd=Bb(k.DATE),Pd=Bb(k.WEEK),Le=Bb(k.MONTH),Se=Bb(k.QUARTER),ha=Bb(k.YEAR),ob=rb(ic[k.MILLISECONDS]||".%L"),Ea=rb(ic[k.SECONDS]||":%S"),Ib=rb(ic[k.MINUTES]||"%I:%M"),Yb=rb(ic[k.HOURS]||"%I %p"),kc=rb(ic[k.DATE]||ic[k.DAY]||
"%a %d"),Nc=rb(ic[k.WEEK]||"%b %d"),Jc=rb(ic[k.MONTH]||"%B"),pd=rb(ic[k.QUARTER]||"%B"),qd=rb(ic[k.YEAR]||"%Y");return Yd=>(Uc(Yd)<Yd?ob:Rd(Yd)<Yd?Ea:Md(Yd)<Yd?Ib:Gd(Yd)<Yd?Yb:Le(Yd)<Yd?Pd(Yd)<Yd?kc:Nc:ha(Yd)<Yd?Se(Yd)<Yd?Jc:pd:qd)(Yd)}function Xd(rb){const Bb=q(rb.format),ic=q(rb.utcFormat);return{timeFormat:Uc=>p.isString(Uc)?Bb(Uc):Nd(Bb,k.timeInterval,Uc),utcFormat:Uc=>p.isString(Uc)?ic(Uc):Nd(ic,k.utcInterval,Uc),timeParse:q(rb.parse),utcParse:q(rb.utcParse)}}function ge(){return qc=Xd({format:zb,
parse:Xb,utcFormat:tc,utcParse:gd})}function le(rb){return Xd(ca(rb))}function qe(rb){return arguments.length?qc=le(rb):qc}function wd(rb,Bb){var ic=arguments.length;ic&&2!==ic&&p.error("defaultLocale expects either zero or two arguments.");if(ic){ic=F(rb);var Uc=qe(Bb);ic=p.extend({},ic,Uc)}else ic=F(),Uc=qe(),ic=p.extend({},ic,Uc);return ic}var qf=Math.sqrt(50),gf=Math.sqrt(10),te=Math.sqrt(2),We=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;c.prototype=e.prototype;
e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var za,Za={"%":(rb,Bb)=>(100*rb).toFixed(Bb),b:rb=>Math.round(rb).toString(2),c:rb=>rb+"",d:function(rb){return 1E21<=Math.abs(rb=Math.round(rb))?rb.toLocaleString("en").replace(/,/g,""):rb.toString(10)},e:(rb,Bb)=>rb.toExponential(Bb),f:(rb,
Bb)=>rb.toFixed(Bb),g:(rb,Bb)=>rb.toPrecision(Bb),o:rb=>Math.round(rb).toString(8),p:(rb,Bb)=>g(100*rb,Bb),r:g,s:function(rb,Bb){var ic=t(rb,Bb);if(!ic)return rb+"";var Uc=ic[0];ic=ic[1];ic=ic-(za=3*Math.max(-8,Math.min(8,Math.floor(ic/3))))+1;var Rd=Uc.length;return ic===Rd?Uc:ic>Rd?Uc+Array(ic-Rd+1).join("0"):0<ic?Uc.slice(0,ic)+"."+Uc.slice(ic):"0."+Array(1-ic).join("0")+t(rb,Math.max(0,Bb+ic-1))[0]},X:rb=>Math.round(rb).toString(16).toUpperCase(),x:rb=>Math.round(rb).toString(16)},tb=Array.prototype.map,
Jb="y z a f p n µ m  k M G T P E Z Y".split(" "),fc,nc,Hc;(function(rb){fc=h(rb);nc=fc.format;Hc=fc.formatPrefix;return fc})({thousands:",",grouping:[3],currency:["$",""]});let Dc;G();var lc=new Date,ld=new Date,rd=C(rb=>rb.setHours(0,0,0,0),(rb,Bb)=>rb.setDate(rb.getDate()+Bb),(rb,Bb)=>(Bb-rb-6E4*(Bb.getTimezoneOffset()-rb.getTimezoneOffset()))/864E5,rb=>rb.getDate()-1),Hd=r(0),Vd=r(1);r(2);r(3);var ce=r(4);r(5);r(6);var he=C(function(rb){rb.setMonth(0,1);rb.setHours(0,0,0,0)},function(rb,Bb){rb.setFullYear(rb.getFullYear()+
Bb)},function(rb,Bb){return Bb.getFullYear()-rb.getFullYear()},function(rb){return rb.getFullYear()});he.every=function(rb){return isFinite(rb=Math.floor(rb))&&0<rb?C(function(Bb){Bb.setFullYear(Math.floor(Bb.getFullYear()/rb)*rb);Bb.setMonth(0,1);Bb.setHours(0,0,0,0)},function(Bb,ic){Bb.setFullYear(Bb.getFullYear()+ic*rb)}):null};var Ce=he,re=C(function(rb){rb.setUTCHours(0,0,0,0)},function(rb,Bb){rb.setUTCDate(rb.getUTCDate()+Bb)},function(rb,Bb){return(Bb-rb)/864E5},function(rb){return rb.getUTCDate()-
1}),vf=y(0),Ge=y(1);y(2);y(3);var Re=y(4);y(5);y(6);var af=C(function(rb){rb.setUTCMonth(0,1);rb.setUTCHours(0,0,0,0)},function(rb,Bb){rb.setUTCFullYear(rb.getUTCFullYear()+Bb)},function(rb,Bb){return Bb.getUTCFullYear()-rb.getUTCFullYear()},function(rb){return rb.getUTCFullYear()});af.every=function(rb){return isFinite(rb=Math.floor(rb))&&0<rb?C(function(Bb){Bb.setUTCFullYear(Math.floor(Bb.getUTCFullYear()/rb)*rb);Bb.setUTCMonth(0,1);Bb.setUTCHours(0,0,0,0)},function(Bb,ic){Bb.setUTCFullYear(Bb.getUTCFullYear()+
ic*rb)}):null};var Qb=af,rc={"-":"",_:" ",0:"0"},bd=/^\s*\d+/,Ad=/^%/,wa=/[\\^$*+?|[\]().{}]/g,Xa,zb,Xb,tc,gd;(function(rb){Xa=ca(rb);zb=Xa.format;Xb=Xa.parse;tc=Xa.utcFormat;gd=Xa.utcParse;return Xa})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),
shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});let qc;ge();w.defaultLocale=wd;w.locale=function(rb,Bb){rb=rb?I(rb):F();Bb=Bb?le(Bb):qe();return p.extend({},rb,Bb)};w.numberFormatDefaultLocale=F;w.numberFormatLocale=I;w.resetDefaultLocale=function(){G();ge();return wd()};w.resetNumberFormatDefaultLocale=G;w.resetTimeFormatDefaultLocale=ge;w.timeFormatDefaultLocale=qe;w.timeFormatLocale=le;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[18]=function(Ka,L,sb,A){function w(t){var n=t.length;if(0<n%4)throw Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("\x3d");-1===t&&(t=n);return[t,t===n?0:4-t%4]}A.byteLength=function(t){t=w(t);var n=t[1];return 3*(t[0]+n)/4-n};A.toByteArray=function(t){var n=w(t);var f=n[0];n=n[1];var b=new q(3*(f+n)/4-n),c=0,e=0<n?f-4:f,g;for(g=0;g<e;g+=4)f=p[t.charCodeAt(g)]<<18|p[t.charCodeAt(g+1)]<<12|p[t.charCodeAt(g+2)]<<6|p[t.charCodeAt(g+3)],b[c++]=f>>16&255,b[c++]=f>>8&
255,b[c++]=f&255;2===n&&(f=p[t.charCodeAt(g)]<<2|p[t.charCodeAt(g+1)]>>4,b[c++]=f&255);1===n&&(f=p[t.charCodeAt(g)]<<10|p[t.charCodeAt(g+1)]<<4|p[t.charCodeAt(g+2)]>>2,b[c++]=f>>8&255,b[c++]=f&255);return b};A.fromByteArray=function(t){for(var n=t.length,f=n%3,b=[],c=0,e=n-f;c<e;c+=16383){for(var g=b,m=g.push,h,x=t,O=c+16383>e?e:c+16383,G=[],I=c;I<O;I+=3)h=(x[I]<<16&16711680)+(x[I+1]<<8&65280)+(x[I+2]&255),G.push(k[h>>18&63]+k[h>>12&63]+k[h>>6&63]+k[h&63]);h=G.join("");m.call(g,h)}1===f?(t=t[n-1],
b.push(k[t>>2]+k[t<<4&63]+"\x3d\x3d")):2===f&&(t=(t[n-2]<<8)+t[n-1],b.push(k[t>>10]+k[t>>4&63]+k[t<<2&63]+"\x3d"));return b.join("")};var k=[],p=[],q="undefined"!==typeof Uint8Array?Uint8Array:Array;for(Ka=0;64>Ka;++Ka)k[Ka]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[Ka],p["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(Ka)]=Ka;p[45]=62;p[95]=63};
shadow$provide[19]=function(Ka,L,sb,A){A.read=function(w,k,p,q,t){var n=8*t-q-1;var f=(1<<n)-1,b=f>>1,c=-7;t=p?t-1:0;var e=p?-1:1,g=w[k+t];t+=e;p=g&(1<<-c)-1;g>>=-c;for(c+=n;0<c;p=256*p+w[k+t],t+=e,c-=8);n=p&(1<<-c)-1;p>>=-c;for(c+=q;0<c;n=256*n+w[k+t],t+=e,c-=8);if(0===p)p=1-b;else{if(p===f)return n?NaN:Infinity*(g?-1:1);n+=Math.pow(2,q);p-=b}return(g?-1:1)*n*Math.pow(2,p-q)};A.write=function(w,k,p,q,t,n){var f,b=8*n-t-1,c=(1<<b)-1,e=c>>1,g=23===t?Math.pow(2,-24)-Math.pow(2,-77):0;n=q?0:n-1;var m=
q?1:-1,h=0>k||0===k&&0>1/k?1:0;k=Math.abs(k);isNaN(k)||Infinity===k?(k=isNaN(k)?1:0,q=c):(q=Math.floor(Math.log(k)/Math.LN2),1>k*(f=Math.pow(2,-q))&&(q--,f*=2),k=1<=q+e?k+g/f:k+g*Math.pow(2,1-e),2<=k*f&&(q++,f/=2),q+e>=c?(k=0,q=c):1<=q+e?(k=(k*f-1)*Math.pow(2,t),q+=e):(k=k*Math.pow(2,e-1)*Math.pow(2,t),q=0));for(;8<=t;w[p+n]=k&255,n+=m,k/=256,t-=8);q=q<<t|k;for(b+=t;0<b;w[p+n]=q&255,n+=m,q/=256,b-=8);w[p+n-m]|=128*h}};
shadow$provide[20]=function(Ka,L,sb,A){var w={}.toString;sb.exports=Array.isArray||function(k){return"[object Array]"==w.call(k)}};
shadow$provide[21]=function(Ka,L,sb,A){function w(){try{var D=new Uint8Array(1);D.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===D.foo()&&"function"===typeof D.subarray&&0===D.subarray(1,1).byteLength}catch(B){return!1}}function k(D,B){if((p.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<B)throw new RangeError("Invalid typed array length");p.TYPED_ARRAY_SUPPORT?(D=new Uint8Array(B),D.__proto__=p.prototype):(null===D&&(D=new p(B)),D.length=B);return D}function p(D,B,N){if(!(p.TYPED_ARRAY_SUPPORT||
this instanceof p))return new p(D,B,N);if("number"===typeof D){if("string"===typeof B)throw Error("If encoding is specified then the first argument must be a string");return n(this,D)}return q(this,D,B,N)}function q(D,B,N,Z){if("number"===typeof B)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&B instanceof ArrayBuffer){B.byteLength;if(0>N||B.byteLength<N)throw new RangeError("'offset' is out of bounds");if(B.byteLength<N+(Z||0))throw new RangeError("'length' is out of bounds");
B=void 0===N&&void 0===Z?new Uint8Array(B):void 0===Z?new Uint8Array(B,N):new Uint8Array(B,N,Z);p.TYPED_ARRAY_SUPPORT?(D=B,D.__proto__=p.prototype):D=f(D,B);return D}if("string"===typeof B){Z=D;D=N;if("string"!==typeof D||""===D)D="utf8";if(!p.isEncoding(D))throw new TypeError('"encoding" must be a valid string encoding');N=e(B,D)|0;Z=k(Z,N);B=Z.write(B,D);B!==N&&(Z=Z.slice(0,B));return Z}return b(D,B)}function t(D){if("number"!==typeof D)throw new TypeError('"size" argument must be a number');if(0>
D)throw new RangeError('"size" argument must not be negative');}function n(D,B){t(B);D=k(D,0>B?0:c(B)|0);if(!p.TYPED_ARRAY_SUPPORT)for(var N=0;N<B;++N)D[N]=0;return D}function f(D,B){var N=0>B.length?0:c(B.length)|0;D=k(D,N);for(var Z=0;Z<N;Z+=1)D[Z]=B[Z]&255;return D}function b(D,B){if(p.isBuffer(B)){var N=c(B.length)|0;D=k(D,N);if(0===D.length)return D;B.copy(D,0,0,N);return D}if(B){if("undefined"!==typeof ArrayBuffer&&B.buffer instanceof ArrayBuffer||"length"in B)return(N="number"!==typeof B.length)||
(N=B.length,N=N!==N),N?k(D,0):f(D,B);if("Buffer"===B.type&&ea(B.data))return f(D,B.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function c(D){if(D>=(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(p.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return D|0}function e(D,B){if(p.isBuffer(D))return D.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(D)||D instanceof ArrayBuffer))return D.byteLength;"string"!==typeof D&&(D=""+D);var N=D.length;if(0===N)return 0;for(var Z=!1;;)switch(B){case "ascii":case "latin1":case "binary":return N;case "utf8":case "utf-8":case void 0:return R(D).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*N;case "hex":return N>>>1;case "base64":return ca(D).length;default:if(Z)return R(D).length;B=(""+B).toLowerCase();Z=!0}}function g(D,
B,N){var Z=!1;if(void 0===B||0>B)B=0;if(B>this.length)return"";if(void 0===N||N>this.length)N=this.length;if(0>=N)return"";N>>>=0;B>>>=0;if(N<=B)return"";for(D||(D="utf8");;)switch(D){case "hex":D=B;B=N;N=this.length;if(!D||0>D)D=0;if(!B||0>B||B>N)B=N;Z="";for(N=D;N<B;++N)D=Z,Z=this[N],Z=16>Z?"0"+Z.toString(16):Z.toString(16),Z=D+Z;return Z;case "utf8":case "utf-8":return O(this,B,N);case "ascii":D="";for(N=Math.min(this.length,N);B<N;++B)D+=String.fromCharCode(this[B]&127);return D;case "latin1":case "binary":D=
"";for(N=Math.min(this.length,N);B<N;++B)D+=String.fromCharCode(this[B]);return D;case "base64":return B=0===B&&N===this.length?aa.fromByteArray(this):aa.fromByteArray(this.slice(B,N)),B;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":B=this.slice(B,N);N="";for(D=0;D<B.length;D+=2)N+=String.fromCharCode(B[D]+256*B[D+1]);return N;default:if(Z)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase();Z=!0}}function m(D,B,N){var Z=D[B];D[B]=D[N];D[N]=Z}function h(D,B,N,Z,Aa){if(0===
D.length)return-1;"string"===typeof N?(Z=N,N=0):2147483647<N?N=2147483647:-2147483648>N&&(N=-2147483648);N=+N;isNaN(N)&&(N=Aa?0:D.length-1);0>N&&(N=D.length+N);if(N>=D.length){if(Aa)return-1;N=D.length-1}else if(0>N)if(Aa)N=0;else return-1;"string"===typeof B&&(B=p.from(B,Z));if(p.isBuffer(B))return 0===B.length?-1:x(D,B,N,Z,Aa);if("number"===typeof B)return B&=255,p.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?Aa?Uint8Array.prototype.indexOf.call(D,B,N):Uint8Array.prototype.lastIndexOf.call(D,
B,N):x(D,[B],N,Z,Aa);throw new TypeError("val must be string, number or Buffer");}function x(D,B,N,Z,Aa){function qa(ib,Ma){return 1===la?ib[Ma]:ib.readUInt16BE(Ma*la)}var la=1,Ja=D.length,bb=B.length;if(void 0!==Z&&(Z=String(Z).toLowerCase(),"ucs2"===Z||"ucs-2"===Z||"utf16le"===Z||"utf-16le"===Z)){if(2>D.length||2>B.length)return-1;la=2;Ja/=2;bb/=2;N/=2}if(Aa)for(Z=-1;N<Ja;N++)if(qa(D,N)===qa(B,-1===Z?0:N-Z)){if(-1===Z&&(Z=N),N-Z+1===bb)return Z*la}else-1!==Z&&(N-=N-Z),Z=-1;else for(N+bb>Ja&&(N=
Ja-bb);0<=N;N--){Ja=!0;for(Z=0;Z<bb;Z++)if(qa(D,N+Z)!==qa(B,Z)){Ja=!1;break}if(Ja)return N}return-1}function O(D,B,N){N=Math.min(D.length,N);for(var Z=[];B<N;){var Aa=D[B],qa=null,la=239<Aa?4:223<Aa?3:191<Aa?2:1;if(B+la<=N)switch(la){case 1:128>Aa&&(qa=Aa);break;case 2:var Ja=D[B+1];128===(Ja&192)&&(Aa=(Aa&31)<<6|Ja&63,127<Aa&&(qa=Aa));break;case 3:Ja=D[B+1];var bb=D[B+2];128===(Ja&192)&&128===(bb&192)&&(Aa=(Aa&15)<<12|(Ja&63)<<6|bb&63,2047<Aa&&(55296>Aa||57343<Aa)&&(qa=Aa));break;case 4:Ja=D[B+1];
bb=D[B+2];var ib=D[B+3];128===(Ja&192)&&128===(bb&192)&&128===(ib&192)&&(Aa=(Aa&15)<<18|(Ja&63)<<12|(bb&63)<<6|ib&63,65535<Aa&&1114112>Aa&&(qa=Aa))}null===qa?(qa=65533,la=1):65535<qa&&(qa-=65536,Z.push(qa>>>10&1023|55296),qa=56320|qa&1023);Z.push(qa);B+=la}D=Z.length;if(D<=Ga)Z=String.fromCharCode.apply(String,Z);else{N="";for(B=0;B<D;)N+=String.fromCharCode.apply(String,Z.slice(B,B+=Ga));Z=N}return Z}function G(D,B,N){if(0!==D%1||0>D)throw new RangeError("offset is not uint");if(D+B>N)throw new RangeError("Trying to access beyond buffer length");
}function I(D,B,N,Z,Aa,qa){if(!p.isBuffer(D))throw new TypeError('"buffer" argument must be a Buffer instance');if(B>Aa||B<qa)throw new RangeError('"value" argument is out of bounds');if(N+Z>D.length)throw new RangeError("Index out of range");}function F(D,B,N,Z){0>B&&(B=65535+B+1);for(var Aa=0,qa=Math.min(D.length-N,2);Aa<qa;++Aa)D[N+Aa]=(B&255<<8*(Z?Aa:1-Aa))>>>8*(Z?Aa:1-Aa)}function C(D,B,N,Z){0>B&&(B=4294967295+B+1);for(var Aa=0,qa=Math.min(D.length-N,4);Aa<qa;++Aa)D[N+Aa]=B>>>8*(Z?Aa:3-Aa)&255}
function r(D,B,N,Z,Aa,qa){if(N+Z>D.length)throw new RangeError("Index out of range");if(0>N)throw new RangeError("Index out of range");}function y(D,B,N,Z,Aa){Aa||r(D,B,N,4,3.4028234663852886E38,-3.4028234663852886E38);Y.write(D,B,N,Z,23,4);return N+4}function K(D,B,N,Z,Aa){Aa||r(D,B,N,8,1.7976931348623157E308,-1.7976931348623157E308);Y.write(D,B,N,Z,52,8);return N+8}function R(D,B){B=B||Infinity;for(var N,Z=D.length,Aa=null,qa=[],la=0;la<Z;++la){N=D.charCodeAt(la);if(55295<N&&57344>N){if(!Aa){if(56319<
N){-1<(B-=3)&&qa.push(239,191,189);continue}else if(la+1===Z){-1<(B-=3)&&qa.push(239,191,189);continue}Aa=N;continue}if(56320>N){-1<(B-=3)&&qa.push(239,191,189);Aa=N;continue}N=(Aa-55296<<10|N-56320)+65536}else Aa&&-1<(B-=3)&&qa.push(239,191,189);Aa=null;if(128>N){if(0>--B)break;qa.push(N)}else if(2048>N){if(0>(B-=2))break;qa.push(N>>6|192,N&63|128)}else if(65536>N){if(0>(B-=3))break;qa.push(N>>12|224,N>>6&63|128,N&63|128)}else if(1114112>N){if(0>(B-=4))break;qa.push(N>>18|240,N>>12&63|128,N>>6&63|
128,N&63|128)}else throw Error("Invalid code point");}return qa}function S(D){for(var B=[],N=0;N<D.length;++N)B.push(D.charCodeAt(N)&255);return B}function ca(D){var B=aa,N=B.toByteArray;D=(D.trim?D.trim():D.replace(/^\s+|\s+$/g,"")).replace(X,"");if(2>D.length)D="";else for(;0!==D.length%4;)D+="\x3d";return N.call(B,D)}function M(D,B,N,Z){for(var Aa=0;Aa<Z&&!(Aa+N>=B.length||Aa>=D.length);++Aa)B[Aa+N]=D[Aa];return Aa}var aa=L(18),Y=L(19),ea=L(20);A.Buffer=p;A.SlowBuffer=function(D){+D!=D&&(D=0);
return p.alloc(+D)};A.INSPECT_MAX_BYTES=50;p.TYPED_ARRAY_SUPPORT=void 0!==Ka.TYPED_ARRAY_SUPPORT?Ka.TYPED_ARRAY_SUPPORT:w();A.kMaxLength=p.TYPED_ARRAY_SUPPORT?2147483647:1073741823;p.poolSize=8192;p._augment=function(D){D.__proto__=p.prototype;return D};p.from=function(D,B,N){return q(null,D,B,N)};p.TYPED_ARRAY_SUPPORT&&(p.prototype.__proto__=Uint8Array.prototype,p.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&p[Symbol.species]===p&&Object.defineProperty(p,Symbol.species,{value:null,
configurable:!0}));p.alloc=function(D,B,N){t(D);D=0>=D?k(null,D):void 0!==B?"string"===typeof N?k(null,D).fill(B,N):k(null,D).fill(B):k(null,D);return D};p.allocUnsafe=function(D){return n(null,D)};p.allocUnsafeSlow=function(D){return n(null,D)};p.isBuffer=function(D){return!(null==D||!D._isBuffer)};p.compare=function(D,B){if(!p.isBuffer(D)||!p.isBuffer(B))throw new TypeError("Arguments must be Buffers");if(D===B)return 0;for(var N=D.length,Z=B.length,Aa=0,qa=Math.min(N,Z);Aa<qa;++Aa)if(D[Aa]!==B[Aa]){N=
D[Aa];Z=B[Aa];break}return N<Z?-1:Z<N?1:0};p.isEncoding=function(D){switch(String(D).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};p.concat=function(D,B){if(!ea(D))throw new TypeError('"list" argument must be an Array of Buffers');if(0===D.length)return p.alloc(0);var N;if(void 0===B)for(N=B=0;N<D.length;++N)B+=D[N].length;B=p.allocUnsafe(B);var Z=0;for(N=
0;N<D.length;++N){var Aa=D[N];if(!p.isBuffer(Aa))throw new TypeError('"list" argument must be an Array of Buffers');Aa.copy(B,Z);Z+=Aa.length}return B};p.byteLength=e;p.prototype._isBuffer=!0;p.prototype.swap16=function(){var D=this.length;if(0!==D%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var B=0;B<D;B+=2)m(this,B,B+1);return this};p.prototype.swap32=function(){var D=this.length;if(0!==D%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var B=0;B<
D;B+=4)m(this,B,B+3),m(this,B+1,B+2);return this};p.prototype.swap64=function(){var D=this.length;if(0!==D%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var B=0;B<D;B+=8)m(this,B,B+7),m(this,B+1,B+6),m(this,B+2,B+5),m(this,B+3,B+4);return this};p.prototype.toString=function(){var D=this.length|0;return 0===D?"":0===arguments.length?O(this,0,D):g.apply(this,arguments)};p.prototype.equals=function(D){if(!p.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===
D?!0:0===p.compare(this,D)};p.prototype.inspect=function(){var D="",B=A.INSPECT_MAX_BYTES;0<this.length&&(D=this.toString("hex",0,B).match(/.{2}/g).join(" "),this.length>B&&(D+=" ... "));return"\x3cBuffer "+D+"\x3e"};p.prototype.compare=function(D,B,N,Z,Aa){if(!p.isBuffer(D))throw new TypeError("Argument must be a Buffer");void 0===B&&(B=0);void 0===N&&(N=D?D.length:0);void 0===Z&&(Z=0);void 0===Aa&&(Aa=this.length);if(0>B||N>D.length||0>Z||Aa>this.length)throw new RangeError("out of range index");
if(Z>=Aa&&B>=N)return 0;if(Z>=Aa)return-1;if(B>=N)return 1;B>>>=0;N>>>=0;Z>>>=0;Aa>>>=0;if(this===D)return 0;var qa=Aa-Z,la=N-B,Ja=Math.min(qa,la);Z=this.slice(Z,Aa);D=D.slice(B,N);for(B=0;B<Ja;++B)if(Z[B]!==D[B]){qa=Z[B];la=D[B];break}return qa<la?-1:la<qa?1:0};p.prototype.includes=function(D,B,N){return-1!==this.indexOf(D,B,N)};p.prototype.indexOf=function(D,B,N){return h(this,D,B,N,!0)};p.prototype.lastIndexOf=function(D,B,N){return h(this,D,B,N,!1)};p.prototype.write=function(D,B,N,Z){if(void 0===
B)Z="utf8",N=this.length,B=0;else if(void 0===N&&"string"===typeof B)Z=B,N=this.length,B=0;else if(isFinite(B))B|=0,isFinite(N)?(N|=0,void 0===Z&&(Z="utf8")):(Z=N,N=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Aa=this.length-B;if(void 0===N||N>Aa)N=Aa;if(0<D.length&&(0>N||0>B)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z||(Z="utf8");for(Aa=!1;;)switch(Z){case "hex":a:{B=Number(B)||0;Z=this.length-B;N?(N=
Number(N),N>Z&&(N=Z)):N=Z;Z=D.length;if(0!==Z%2)throw new TypeError("Invalid hex string");N>Z/2&&(N=Z/2);for(Z=0;Z<N;++Z){Aa=parseInt(D.substr(2*Z,2),16);if(isNaN(Aa)){D=Z;break a}this[B+Z]=Aa}D=Z}return D;case "utf8":case "utf-8":return M(R(D,this.length-B),this,B,N);case "ascii":return M(S(D),this,B,N);case "latin1":case "binary":return M(S(D),this,B,N);case "base64":return M(ca(D),this,B,N);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":Z=D;Aa=this.length-B;for(var qa=[],la=0;la<Z.length&&
!(0>(Aa-=2));++la){var Ja=Z.charCodeAt(la);D=Ja>>8;Ja%=256;qa.push(Ja);qa.push(D)}return M(qa,this,B,N);default:if(Aa)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase();Aa=!0}};p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ga=4096;p.prototype.slice=function(D,B){var N=this.length;D=~~D;B=void 0===B?N:~~B;0>D?(D+=N,0>D&&(D=0)):D>N&&(D=N);0>B?(B+=N,0>B&&(B=0)):B>N&&(B=N);B<D&&(B=D);if(p.TYPED_ARRAY_SUPPORT)B=this.subarray(D,
B),B.__proto__=p.prototype;else{N=B-D;B=new p(N,void 0);for(var Z=0;Z<N;++Z)B[Z]=this[Z+D]}return B};p.prototype.readUIntLE=function(D,B,N){D|=0;B|=0;N||G(D,B,this.length);N=this[D];for(var Z=1,Aa=0;++Aa<B&&(Z*=256);)N+=this[D+Aa]*Z;return N};p.prototype.readUIntBE=function(D,B,N){D|=0;B|=0;N||G(D,B,this.length);N=this[D+--B];for(var Z=1;0<B&&(Z*=256);)N+=this[D+--B]*Z;return N};p.prototype.readUInt8=function(D,B){B||G(D,1,this.length);return this[D]};p.prototype.readUInt16LE=function(D,B){B||G(D,
2,this.length);return this[D]|this[D+1]<<8};p.prototype.readUInt16BE=function(D,B){B||G(D,2,this.length);return this[D]<<8|this[D+1]};p.prototype.readUInt32LE=function(D,B){B||G(D,4,this.length);return(this[D]|this[D+1]<<8|this[D+2]<<16)+16777216*this[D+3]};p.prototype.readUInt32BE=function(D,B){B||G(D,4,this.length);return 16777216*this[D]+(this[D+1]<<16|this[D+2]<<8|this[D+3])};p.prototype.readIntLE=function(D,B,N){D|=0;B|=0;N||G(D,B,this.length);N=this[D];for(var Z=1,Aa=0;++Aa<B&&(Z*=256);)N+=
this[D+Aa]*Z;N>=128*Z&&(N-=Math.pow(2,8*B));return N};p.prototype.readIntBE=function(D,B,N){D|=0;B|=0;N||G(D,B,this.length);N=B;for(var Z=1,Aa=this[D+--N];0<N&&(Z*=256);)Aa+=this[D+--N]*Z;Aa>=128*Z&&(Aa-=Math.pow(2,8*B));return Aa};p.prototype.readInt8=function(D,B){B||G(D,1,this.length);return this[D]&128?-1*(255-this[D]+1):this[D]};p.prototype.readInt16LE=function(D,B){B||G(D,2,this.length);D=this[D]|this[D+1]<<8;return D&32768?D|4294901760:D};p.prototype.readInt16BE=function(D,B){B||G(D,2,this.length);
D=this[D+1]|this[D]<<8;return D&32768?D|4294901760:D};p.prototype.readInt32LE=function(D,B){B||G(D,4,this.length);return this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24};p.prototype.readInt32BE=function(D,B){B||G(D,4,this.length);return this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]};p.prototype.readFloatLE=function(D,B){B||G(D,4,this.length);return Y.read(this,D,!0,23,4)};p.prototype.readFloatBE=function(D,B){B||G(D,4,this.length);return Y.read(this,D,!1,23,4)};p.prototype.readDoubleLE=function(D,
B){B||G(D,8,this.length);return Y.read(this,D,!0,52,8)};p.prototype.readDoubleBE=function(D,B){B||G(D,8,this.length);return Y.read(this,D,!1,52,8)};p.prototype.writeUIntLE=function(D,B,N,Z){D=+D;B|=0;N|=0;Z||I(this,D,B,N,Math.pow(2,8*N)-1,0);Z=1;var Aa=0;for(this[B]=D&255;++Aa<N&&(Z*=256);)this[B+Aa]=D/Z&255;return B+N};p.prototype.writeUIntBE=function(D,B,N,Z){D=+D;B|=0;N|=0;Z||I(this,D,B,N,Math.pow(2,8*N)-1,0);Z=N-1;var Aa=1;for(this[B+Z]=D&255;0<=--Z&&(Aa*=256);)this[B+Z]=D/Aa&255;return B+N};
p.prototype.writeUInt8=function(D,B,N){D=+D;B|=0;N||I(this,D,B,1,255,0);p.TYPED_ARRAY_SUPPORT||(D=Math.floor(D));this[B]=D&255;return B+1};p.prototype.writeUInt16LE=function(D,B,N){D=+D;B|=0;N||I(this,D,B,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[B]=D&255,this[B+1]=D>>>8):F(this,D,B,!0);return B+2};p.prototype.writeUInt16BE=function(D,B,N){D=+D;B|=0;N||I(this,D,B,2,65535,0);p.TYPED_ARRAY_SUPPORT?(this[B]=D>>>8,this[B+1]=D&255):F(this,D,B,!1);return B+2};p.prototype.writeUInt32LE=function(D,B,N){D=+D;
B|=0;N||I(this,D,B,4,4294967295,0);p.TYPED_ARRAY_SUPPORT?(this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255):C(this,D,B,!0);return B+4};p.prototype.writeUInt32BE=function(D,B,N){D=+D;B|=0;N||I(this,D,B,4,4294967295,0);p.TYPED_ARRAY_SUPPORT?(this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255):C(this,D,B,!1);return B+4};p.prototype.writeIntLE=function(D,B,N,Z){D=+D;B|=0;Z||(Z=Math.pow(2,8*N-1),I(this,D,B,N,Z-1,-Z));Z=0;var Aa=1,qa=0;for(this[B]=D&255;++Z<N&&(Aa*=256);)0>D&&
0===qa&&0!==this[B+Z-1]&&(qa=1),this[B+Z]=(D/Aa>>0)-qa&255;return B+N};p.prototype.writeIntBE=function(D,B,N,Z){D=+D;B|=0;Z||(Z=Math.pow(2,8*N-1),I(this,D,B,N,Z-1,-Z));Z=N-1;var Aa=1,qa=0;for(this[B+Z]=D&255;0<=--Z&&(Aa*=256);)0>D&&0===qa&&0!==this[B+Z+1]&&(qa=1),this[B+Z]=(D/Aa>>0)-qa&255;return B+N};p.prototype.writeInt8=function(D,B,N){D=+D;B|=0;N||I(this,D,B,1,127,-128);p.TYPED_ARRAY_SUPPORT||(D=Math.floor(D));0>D&&(D=255+D+1);this[B]=D&255;return B+1};p.prototype.writeInt16LE=function(D,B,N){D=
+D;B|=0;N||I(this,D,B,2,32767,-32768);p.TYPED_ARRAY_SUPPORT?(this[B]=D&255,this[B+1]=D>>>8):F(this,D,B,!0);return B+2};p.prototype.writeInt16BE=function(D,B,N){D=+D;B|=0;N||I(this,D,B,2,32767,-32768);p.TYPED_ARRAY_SUPPORT?(this[B]=D>>>8,this[B+1]=D&255):F(this,D,B,!1);return B+2};p.prototype.writeInt32LE=function(D,B,N){D=+D;B|=0;N||I(this,D,B,4,2147483647,-2147483648);p.TYPED_ARRAY_SUPPORT?(this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24):C(this,D,B,!0);return B+4};p.prototype.writeInt32BE=
function(D,B,N){D=+D;B|=0;N||I(this,D,B,4,2147483647,-2147483648);0>D&&(D=4294967295+D+1);p.TYPED_ARRAY_SUPPORT?(this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255):C(this,D,B,!1);return B+4};p.prototype.writeFloatLE=function(D,B,N){return y(this,D,B,!0,N)};p.prototype.writeFloatBE=function(D,B,N){return y(this,D,B,!1,N)};p.prototype.writeDoubleLE=function(D,B,N){return K(this,D,B,!0,N)};p.prototype.writeDoubleBE=function(D,B,N){return K(this,D,B,!1,N)};p.prototype.copy=function(D,B,
N,Z){N||(N=0);Z||0===Z||(Z=this.length);B>=D.length&&(B=D.length);B||(B=0);0<Z&&Z<N&&(Z=N);if(Z===N||0===D.length||0===this.length)return 0;if(0>B)throw new RangeError("targetStart out of bounds");if(0>N||N>=this.length)throw new RangeError("sourceStart out of bounds");if(0>Z)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length);D.length-B<Z-N&&(Z=D.length-B+N);var Aa=Z-N;if(this===D&&N<B&&B<Z)for(Z=Aa-1;0<=Z;--Z)D[Z+B]=this[Z+N];else if(1E3>Aa||!p.TYPED_ARRAY_SUPPORT)for(Z=
0;Z<Aa;++Z)D[Z+B]=this[Z+N];else Uint8Array.prototype.set.call(D,this.subarray(N,N+Aa),B);return Aa};p.prototype.fill=function(D,B,N,Z){if("string"===typeof D){"string"===typeof B?(Z=B,B=0,N=this.length):"string"===typeof N&&(Z=N,N=this.length);if(1===D.length){var Aa=D.charCodeAt(0);256>Aa&&(D=Aa)}if(void 0!==Z&&"string"!==typeof Z)throw new TypeError("encoding must be a string");if("string"===typeof Z&&!p.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);}else"number"===typeof D&&(D&=255);
if(0>B||this.length<B||this.length<N)throw new RangeError("Out of range index");if(N<=B)return this;B>>>=0;N=void 0===N?this.length:N>>>0;D||(D=0);if("number"===typeof D)for(Z=B;Z<N;++Z)this[Z]=D;else for(D=p.isBuffer(D)?D:R((new p(D,Z)).toString()),Aa=D.length,Z=0;Z<N-B;++Z)this[Z+B]=D[Z%Aa];return this};var X=/[^+\/0-9A-Za-z-_]/g};
shadow$provide[22]=function(Ka,L,sb,A){var w=L(21).Buffer;(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?p(A,L(14),L(15),L(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","topojson-client","vega-format"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vega={},k.vega,k.topojson,k.vega))})(this,function(k,p,q,t){function n(qa,la){const Ja=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const bb=yield Ja.sanitize(qa,la),ib=bb.href;
return bb.localFile?Ja.file(ib):Ja.http(ib,la)})}function f(qa,la){const Ja=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){la=p.extend({},Ja.options,la);const bb=Ja.fileAccess,ib={href:null};var Ma;let ma;var Fa=M.test(qa.replace(aa,""));null!=qa&&"string"===typeof qa&&Fa||p.error("Sanitize failure, invalid URI: "+p.stringValue(qa));Fa=ca.test(qa);(Ma=la.baseURL)&&!Fa&&(qa.startsWith("/")||Ma.endsWith("/")||(qa="/"+qa),qa=Ma+qa);ma=(Ma=qa.startsWith("file://"))||"file"===la.mode||
"http"!==la.mode&&!Fa&&bb;Ma?qa=qa.slice(7):qa.startsWith("//")&&("file"===la.defaultProtocol?(qa=qa.slice(2),ma=!0):qa=(la.defaultProtocol||"http")+":"+qa);Object.defineProperty(ib,"localFile",{value:!!ma});ib.href=qa;la.target&&(ib.target=la.target+"");la.rel&&(ib.rel=la.rel+"");"image"===la.context&&la.crossOrigin&&(ib.crossOrigin=la.crossOrigin+"");return ib})}function b(qa){return qa?la=>new Promise((Ja,bb)=>{qa.readFile(la,(ib,Ma)=>{ib?bb(ib):Ja(Ma)})}):c}function c(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No file system access.")})}
function e(qa){return qa?function(la,Ja){const bb=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var ib=p.extend({},bb.options.http,Ja);const Ma=Ja&&Ja.response;ib=yield qa(la,ib);return ib.ok?p.isFunction(ib[Ma])?ib[Ma]():ib.text():p.error(ib.status+""+ib.statusText)})}:g}function g(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){p.error("No HTTP fetch method available.")})}function m(qa,la){if(!qa||!qa.length)return"unknown";const Ja=qa.length,bb=Ga.length,
ib=Ga.map((Ma,ma)=>ma+1);for(let Ma=0,ma=0,Fa,Ra;Ma<Ja;++Ma)for(Ra=la?qa[Ma][la]:qa[Ma],Fa=0;Fa<bb;++Fa)if(ib[Fa]&&null!=Ra&&Ra===Ra&&!Ga[Fa](Ra)&&(ib[Fa]=0,++ma,ma===Ga.length))return"string";return X[ib.reduce((Ma,ma)=>0===Ma?ma:Ma,0)-1]}function h(qa,la){return la.reduce((Ja,bb)=>{Ja[bb]=m(qa,bb);return Ja},{})}function x(qa){return new Function("d","return {"+qa.map(function(la,Ja){return JSON.stringify(la)+": d["+Ja+'] || ""'}).join(",")+"}")}function O(qa,la){var Ja=x(qa);return function(bb,
ib){return la(Ja(bb),ib,qa)}}function G(qa){var la=Object.create(null),Ja=[];qa.forEach(function(bb){for(var ib in bb)ib in la||Ja.push(la[ib]=ib)});return Ja}function I(qa,la){qa+="";var Ja=qa.length;return Ja<la?Array(la-Ja+1).join(0)+qa:qa}function F(qa){function la(Fa,Ra){function ra(){if(sa)return B;if(Oa)return Oa=!1,D;var U,ka=xa,ua;if(34===Fa.charCodeAt(ka)){for(;xa++<oa&&34!==Fa.charCodeAt(xa)||34===Fa.charCodeAt(++xa););(U=xa)>=oa?sa=!0:10===(ua=Fa.charCodeAt(xa++))?Oa=!0:13===ua&&(Oa=!0,
10===Fa.charCodeAt(xa)&&++xa);return Fa.slice(ka+1,U-1).replace(/""/g,'"')}for(;xa<oa;){if(10===(ua=Fa.charCodeAt(U=xa++)))Oa=!0;else if(13===ua)Oa=!0,10===Fa.charCodeAt(xa)&&++xa;else if(ua!==ma)continue;return Fa.slice(ka,U)}return sa=!0,Fa.slice(ka,oa)}var ya=[],oa=Fa.length,xa=0,Ua=0,fb,sa=0>=oa,Oa=!1;10===Fa.charCodeAt(oa-1)&&--oa;for(13===Fa.charCodeAt(oa-1)&&--oa;(fb=ra())!==B;){for(var ja=[];fb!==D&&fb!==B;)ja.push(fb),fb=ra();Ra&&null==(ja=Ra(ja,Ua++))||ya.push(ja)}return ya}function Ja(Fa,
Ra){return Fa.map(function(ra){return Ra.map(function(ya){return ib(ra[ya])}).join(qa)})}function bb(Fa){return Fa.map(ib).join(qa)}function ib(Fa){if(null==Fa)Fa="";else{if(Fa instanceof Date){var Ra=Fa.getUTCHours();var ra=Fa.getUTCMinutes(),ya=Fa.getUTCSeconds(),oa=Fa.getUTCMilliseconds();if(isNaN(Fa))Fa="Invalid Date";else{var xa=Fa.getUTCFullYear();Fa=(0>xa?"-"+I(-xa,6):9999<xa?"+"+I(xa,6):I(xa,4))+"-"+I(Fa.getUTCMonth()+1,2)+"-"+I(Fa.getUTCDate(),2)+(oa?"T"+I(Ra,2)+":"+I(ra,2)+":"+I(ya,2)+"."+
I(oa,3)+"Z":ya?"T"+I(Ra,2)+":"+I(ra,2)+":"+I(ya,2)+"Z":ra||Ra?"T"+I(Ra,2)+":"+I(ra,2)+"Z":"")}Ra=Fa}else Ra=Ma.test(Fa+="")?'"'+Fa.replace(/"/g,'""')+'"':Fa;Fa=Ra}return Fa}var Ma=new RegExp('["'+qa+"\n\r]"),ma=qa.charCodeAt(0);return{parse:function(Fa,Ra){var ra,ya;Fa=la(Fa,function(oa,xa){if(ra)return ra(oa,xa-1);ya=oa;ra=Ra?O(oa,Ra):x(oa)});Fa.columns=ya||[];return Fa},parseRows:la,format:function(Fa,Ra){null==Ra&&(Ra=G(Fa));return[Ra.map(ib).join(qa)].concat(Ja(Fa,Ra)).join("\n")},formatBody:function(Fa,
Ra){null==Ra&&(Ra=G(Fa));return Ja(Fa,Ra).join("\n")},formatRows:function(Fa){return Fa.map(bb).join("\n")},formatRow:bb,formatValue:ib}}function C(qa){const la=function(Ja,bb){const ib={delimiter:qa};return r(Ja,bb?p.extend(bb,ib):ib)};la.responseType="text";return la}function r(qa,la){la.header&&(qa=la.header.map(p.stringValue).join(la.delimiter)+"\n"+qa);return F(la.delimiter).parse(qa+"")}function y(qa,la){const Ja=la&&la.property?p.field(la.property):p.identity;var bb;if(bb=p.isObject(qa))bb=
!("function"===typeof w&&p.isFunction(w.isBuffer)&&w.isBuffer(qa));bb?(qa=Ja(qa),!p.isArray(qa)&&p.isIterable(qa)&&(qa=[...qa]),la=la&&la.copy?JSON.parse(JSON.stringify(qa)):qa):la=Ja(JSON.parse(qa));return la}function K(qa,la){let Ja,bb,ib,Ma;qa=y(qa,la);la&&la.feature?(Ja=q.feature,ib=la.feature):la&&la.mesh?(Ja=q.mesh,ib=la.mesh,Ma=N[la.filter]):p.error("Missing TopoJSON feature or mesh parameter.");return(bb=(bb=qa.objects[ib])?Ja(qa,bb,Ma):p.error("Invalid TopoJSON object: "+ib))&&bb.features||
[bb]}function R(qa,la){return 1<arguments.length?(Z[qa]=la,this):p.hasOwnProperty(Z,qa)?Z[qa]:null}function S(qa,la,Ja,bb){if(qa.length){var ib=t.timeFormatDefaultLocale();Ja=Ja||ib.timeParse;bb=bb||ib.utcParse;ib=qa.columns||Object.keys(qa[0]);var Ma,ma;"auto"===la&&(la=h(qa,ib));ib=Object.keys(la);var Fa=ib.map(xa=>{var Ua=la[xa];if(Ua&&(Ua.startsWith("date:")||Ua.startsWith("utc:"))){xa=Ua.split(/:(.+)?/,2);Ua=xa[1];if("'"===Ua[0]&&"'"===Ua[Ua.length-1]||'"'===Ua[0]&&'"'===Ua[Ua.length-1])Ua=Ua.slice(1,
-1);return("utc"===xa[0]?bb:Ja)(Ua)}if(!ea[Ua])throw Error("Illegal format pattern: "+xa+":"+Ua);return ea[Ua]});var Ra=0;var ra=qa.length;for(ma=ib.length;Ra<ra;++Ra){var ya=qa[Ra];for(Ma=0;Ma<ma;++Ma){var oa=ib[Ma];ya[oa]=Fa[Ma](ya[oa])}}}}const ca=/^(data:|([A-Za-z]+:)?\/\/)/,M=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,aa=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Y=qa=>!Number.isNaN(+qa)&&!(qa instanceof Date),ea={boolean:p.toBoolean,
integer:p.toNumber,number:p.toNumber,date:p.toDate,string:p.toString,unknown:p.identity},Ga=[qa=>"true"===qa||"false"===qa||!0===qa||!1===qa,qa=>Y(qa)&&Number.isInteger(+qa),Y,qa=>!Number.isNaN(Date.parse(qa))],X=["boolean","integer","number","date"];var D={},B={};r.responseType="text";y.responseType="json";const N={interior:(qa,la)=>qa!==la,exterior:(qa,la)=>qa===la};K.responseType="json";const Z={dsv:r,csv:C(","),tsv:C("\t"),json:y,topojson:K},Aa=function(qa,la){return Ja=>({options:Ja||{},sanitize:f,
load:n,fileAccess:!!la,file:b(la),http:e(qa)})}("undefined"!==typeof fetch&&fetch,null);k.format=Z;k.formats=R;k.inferType=m;k.inferTypes=h;k.loader=Aa;k.read=function(qa,la,Ja,bb){la=la||{};const ib=R(la.type||"json");ib||p.error("Unknown data format type: "+la.type);qa=ib(qa,la);la.parse&&S(qa,la.parse,Ja,bb);p.hasOwnProperty(qa,"columns")&&delete qa.columns;return qa};k.responseType=function(qa){return(qa=R(qa))&&qa.responseType||"text"};k.typeParsers=ea;Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[23]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(22),L(17)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-loader","vega-format"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(Ma){const ma=Ma||k.identity,Fa=[],Ra={};Fa.add=ra=>{const ya=ma(ra);Ra[ya]||(Ra[ya]=1,Fa.push(ra));return Fa};Fa.remove=ra=>{const ya=ma(ra);Ra[ya]&&(Ra[ya]=
0,ra=Fa.indexOf(ra),0<=ra&&Fa.splice(ra,1));return Fa};return Fa}function n(Ma,ma){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{yield ma(Ma)}catch(Fa){Ma.error(Fa)}})}function f(Ma){Ma=Ma===Object(Ma)?Ma:{data:Ma};if(!Ma[B]){var ma=N++;Ma[B]=ma}return Ma}function b(Ma,ma){for(const Fa in Ma)ma[Fa]=Ma[Fa];return ma}function c(Ma){return Ma&&Ma.constructor===e}function e(){const Ma=[],ma=[],Fa=[],Ra=[],ra=[];let ya=null,oa=!1;return{constructor:e,insert(xa){xa=k.array(xa);const Ua=
xa.length;for(let fb=0;fb<Ua;++fb)Ma.push(xa[fb]);return this},remove(xa){const Ua=k.isFunction(xa)?Ra:ma;xa=k.array(xa);const fb=xa.length;for(let sa=0;sa<fb;++sa)Ua.push(xa[sa]);return this},modify(xa,Ua,fb){Ua={field:Ua,value:k.constant(fb)};k.isFunction(xa)?(Ua.filter=xa,ra.push(Ua)):(Ua.tuple=xa,Fa.push(Ua));return this},encode(xa,Ua){k.isFunction(xa)?ra.push({filter:xa,field:Ua}):Fa.push({tuple:xa,field:Ua});return this},clean(xa){ya=xa;return this},reflow(){oa=!0;return this},pulse(xa,Ua){function fb(lb,
nb,Mb){Mb?lb[nb]=Mb(lb):xa.encode=nb;oa||(Oa[lb[B]]=lb)}const sa={},Oa={};let ja,U,ka,ua,Ta,eb;ja=0;for(U=Ua.length;ja<U;++ja)sa[Ua[ja][B]]=1;ja=0;for(U=ma.length;ja<U;++ja)Ta=ma[ja],sa[Ta[B]]=-1;ja=0;for(U=Ra.length;ja<U;++ja)ua=Ra[ja],Ua.forEach(lb=>{ua(lb)&&(sa[lb[B]]=-1)});ja=0;for(U=Ma.length;ja<U;++ja)Ta=Ma[ja],eb=Ta[B],sa[eb]?sa[eb]=1:xa.add.push(f(Ma[ja]));ja=0;for(U=Ua.length;ja<U;++ja)Ta=Ua[ja],0>sa[Ta[B]]&&xa.rem.push(Ta);ja=0;for(U=Fa.length;ja<U;++ja)ka=Fa[ja],Ta=ka.tuple,ua=ka.field,
eb=sa[Ta[B]],0<eb&&(fb(Ta,ua,ka.value),xa.modifies(ua));ja=0;for(U=ra.length;ja<U;++ja)ka=ra[ja],ua=ka.filter,Ua.forEach(lb=>{ua(lb)&&0<sa[lb[B]]&&fb(lb,ka.field,ka.value)}),xa.modifies(ka.field);if(oa)xa.mod=ma.length||Ra.length?Ua.filter(lb=>0<sa[lb[B]]):Ua.slice();else for(eb in Oa)xa.mod.push(Oa[eb]);(ya||null==ya&&(ma.length||Ra.length))&&xa.clean(!0);return xa}}}function g(){Object.defineProperty(this,"_:mod:_",{writable:!0,value:{}})}function m(Ma,ma,Fa,Ra){this.id=++Z;this.value=Ma;this.qrank=
this.rank=this.stamp=-1;this.flags=0;ma&&(this._update=ma);Fa&&this.parameters(Fa,Ra)}function h(Ma){return function(ma){const Fa=this.flags;if(0===arguments.length)return!!(Fa&Ma);this.flags=ma?Fa|Ma:Fa&~Ma;return this}}function x(Ma,ma,Fa){this.id=++qa;this.value=null;Fa&&(this.receive=Fa);Ma&&(this._filter=Ma);ma&&(this._apply=ma)}function O(Ma,ma,Fa){return new x(Ma,ma,Fa)}function G(Ma){let ma;const Fa=new Promise(Ra=>ma=Ra);Fa.requests=0;Fa.done=()=>{0===--Fa.requests&&(Ma._pending=null,ma(Ma))};
return Ma._pending=Fa}function I(Ma,ma,Fa,Ra,ra,ya){const oa=k.extend({},ya,la);let xa;k.isFunction(Fa)||(Fa=k.constant(Fa));void 0===Ra?ra=Ua=>Ma.touch(Fa(Ua)):k.isFunction(Ra)?(xa=new m(null,Ra,ra,!1),ra=Ua=>{xa.evaluate(Ua);Ua=Fa(Ua);const fb=xa.value;c(fb)?Ma.pulse(Ua,fb,ya):Ma.update(Ua,fb,oa)}):ra=Ua=>Ma.update(Fa(Ua),Ra,oa);ma.apply(ra)}function F(Ma,ma,Fa,Ra,ra,ya){void 0===Ra?ma.targets().add(Fa):(ya=ya||{},Ra=new m(null,C(Fa,Ra),ra,!1),Ra.modified(ya.force),Ra.rank=ma.rank,ma.targets().add(Ra),
Fa&&(Ra.skip(!0),Ra.value=Fa.value,Ra.targets().add(Fa),Ma.connect(Fa,[Ra])))}function C(Ma,ma){ma=k.isFunction(ma)?ma:k.constant(ma);return Ma?function(Fa,Ra){Fa=ma(Fa,Ra);Ma.skip()||(Ma.skip(Fa!==this.value).value=Fa);return Fa}:ma}function r(Ma,ma,Fa){this.dataflow=Ma;this.stamp=null==ma?-1:ma;this.add=[];this.rem=[];this.mod=[];this.fields=null;this.encode=Fa||null}function y(Ma,ma){const Fa=[];k.visitArray(Ma,ma,Ra=>Fa.push(Ra));return Fa}function K(Ma,ma){const Fa={};Ma.visit(ma,Ra=>{Fa[Ra[B]]=
1});return Ra=>Fa[Ra[B]]?null:Ra}function R(Ma,ma){return Ma?(Fa,Ra)=>Ma(Fa,Ra)&&ma(Fa,Ra):ma}function S(Ma,ma,Fa,Ra){const ra=Fa.length;let ya=0;this.dataflow=Ma;this.stamp=ma;this.fields=null;this.encode=Ra||null;this.pulses=Fa;for(Ma=0;Ma<ra;++Ma)if(Ra=Fa[Ma],Ra.stamp===ma){if(Ra.fields){const oa=this.fields||(this.fields={});for(const xa in Ra.fields)oa[xa]=1}Ra.changed(this.ADD)&&(ya|=this.ADD);Ra.changed(this.REM)&&(ya|=this.REM);Ra.changed(this.MOD)&&(ya|=this.MOD)}this.changes=ya}function ca(Ma){Ma.error("Dataflow already running. Use runAsync() to chain invocations.");
return Ma}function M(Ma,ma){if(ma&&ma.stamp===Ma.stamp)return ma;Ma=Ma.fork();ma&&ma!==Ja&&(Ma.source=ma.source);return Ma}function aa(Ma){let ma=[];return{clear:()=>ma=[],size:()=>ma.length,peek:()=>ma[0],push:Fa=>{ma.push(Fa);return Y(ma,0,ma.length-1,Ma)},pop:()=>{var Fa=ma.pop();let Ra;if(ma.length){Ra=ma[0];ma[0]=Fa;Fa=ma;var ra=0;const ya=ra,oa=Fa.length,xa=Fa[ra];let Ua=(ra<<1)+1,fb;for(;Ua<oa;)fb=Ua+1,fb<oa&&0<=Ma(Fa[Ua],Fa[fb])&&(Ua=fb),Fa[ra]=Fa[Ua],ra=Ua,Ua=(ra<<1)+1;Fa[ra]=xa;Y(Fa,ya,
ra,Ma)}else Ra=Fa;return Ra}}}function Y(Ma,ma,Fa,Ra){let ra,ya;const oa=Ma[Fa];for(;Fa>ma;)if(ya=Fa-1>>1,ra=Ma[ya],0>Ra(oa,ra))Ma[Fa]=ra,Fa=ya;else break;return Ma[Fa]=oa}function ea(){this.logger(k.logger());this.logLevel(k.Error);this._rank=this._clock=0;this._locale=q.defaultLocale();try{this._loader=p.loader()}catch(Ma){}this._touched=t(k.id);this._input={};this._pulse=null;this._heap=aa((Ma,ma)=>Ma.qrank-ma.qrank);this._postrun=[]}function Ga(Ma){return function(){return this._log[Ma].apply(this,
arguments)}}function X(Ma,ma){m.call(this,Ma,null,ma)}function D(Ma){Ma=Ma&&Ma.toLowerCase();return k.hasOwnProperty(ib,Ma)?ib[Ma]:null}const B=Symbol("vega_id");let N=1;g.prototype={set(Ma,ma,Fa,Ra){const ra=this[Ma],ya=this["_:mod:_"];if(null!=ma&&0<=ma){if(ra[ma]!==Fa||Ra)ra[ma]=Fa,ya[ma+":"+Ma]=-1,ya[Ma]=-1}else if(ra!==Fa||Ra)this[Ma]=Fa,ya[Ma]=k.isArray(Fa)?1+Fa.length:-1;return this},modified(Ma,ma){const Fa=this["_:mod:_"];if(!arguments.length){for(var Ra in Fa)if(Fa[Ra])return!0;return!1}if(k.isArray(Ma)){for(Ra=
0;Ra<Ma.length;++Ra)if(Fa[Ma[Ra]])return!0;return!1}return null!=ma&&0<=ma?ma+1<Fa[Ma]||!!Fa[ma+":"+Ma]:!!Fa[Ma]},clear(){this["_:mod:_"]={};return this}};let Z=0;const Aa=new g;m.prototype={targets(){return this._targets||(this._targets=t(k.id))},set(Ma){return this.value!==Ma?(this.value=Ma,1):0},skip:h(1),modified:h(2),parameters(Ma,ma,Fa){ma=!1!==ma;const Ra=this._argval=this._argval||new g,ra=this._argops=this._argops||[],ya=[];let oa,xa,Ua,fb;const sa=(Oa,ja,U)=>{U instanceof m?(U!==this&&(ma&&
U.targets().add(this),ya.push(U)),ra.push({op:U,name:Oa,index:ja})):Ra.set(Oa,ja,U)};for(oa in Ma)if(xa=Ma[oa],"pulse"===oa)k.array(xa).forEach(Oa=>{Oa instanceof m?Oa!==this&&(Oa.targets().add(this),ya.push(Oa)):k.error("Pulse parameters must be operator instances.")}),this.source=xa;else if(k.isArray(xa))for(Ra.set(oa,-1,Array(Ua=xa.length)),fb=0;fb<Ua;++fb)sa(oa,fb,xa[fb]);else sa(oa,-1,xa);this.marshall().clear();Fa&&(ra.initonly=!0);return ya},marshall(Ma){const ma=this._argval||Aa,Fa=this._argops;
let Ra,ra,ya,oa;if(Fa){const xa=Fa.length;for(ra=0;ra<xa;++ra)Ra=Fa[ra],ya=Ra.op,oa=ya.modified()&&ya.stamp===Ma,ma.set(Ra.name,Ra.index,ya.value,oa);if(Fa.initonly){for(ra=0;ra<xa;++ra)Ra=Fa[ra],Ra.op.targets().remove(this);this._update=this._argops=null}}return ma},detach(){const Ma=this._argops;let ma,Fa;if(Ma)for(ma=0,Fa=Ma.length;ma<Fa;++ma){var Ra=Ma[ma];Ra=Ra.op;Ra._targets&&Ra._targets.remove(this)}this.source=this.pulse=null},evaluate(Ma){var ma=this._update;if(ma){const Fa=this.marshall(Ma.stamp);
ma=ma.call(this,Fa,Ma);Fa.clear();if(ma!==this.value)this.value=ma;else if(!this.modified())return Ma.StopPropagation}},run(Ma){if(Ma.stamp<this.stamp)return Ma.StopPropagation;let ma;this.skip()?(this.skip(!1),ma=0):ma=this.evaluate(Ma);return this.pulse=ma||Ma}};let qa=0;x.prototype={_filter:k.truthy,_apply:k.identity,targets(){return this._targets||(this._targets=t(k.id))},consume(Ma){if(!arguments.length)return!!this._consume;this._consume=!!Ma;return this},receive(Ma){if(this._filter(Ma)){const ma=
this.value=this._apply(Ma),Fa=this._targets,Ra=Fa?Fa.length:0;for(let ra=0;ra<Ra;++ra)Fa[ra].receive(ma);this._consume&&(Ma.preventDefault(),Ma.stopPropagation())}},filter(Ma){Ma=O(Ma);this.targets().add(Ma);return Ma},apply(Ma){Ma=O(null,Ma);this.targets().add(Ma);return Ma},merge(){const Ma=O();this.targets().add(Ma);for(let ma=0,Fa=arguments.length;ma<Fa;++ma)arguments[ma].targets().add(Ma);return Ma},throttle(Ma){let ma=-1;return this.filter(()=>{const Fa=Date.now();return Fa-ma>Ma?(ma=Fa,1):
0})},debounce(Ma){const ma=O();this.targets().add(O(null,null,k.debounce(Ma,Fa=>{const Ra=Fa.dataflow;ma.receive(Fa);Ra&&Ra.run&&Ra.run()})));return ma},between(Ma,ma){let Fa=!1;Ma.targets().add(O(null,null,()=>Fa=!0));ma.targets().add(O(null,null,()=>Fa=!1));return this.filter(()=>Fa)},detach(){this._filter=k.truthy;this._targets=null}};const la={skip:!0},Ja={};r.prototype={StopPropagation:Ja,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(Ma){return(new r(this.dataflow)).init(this,
Ma)},clone(){const Ma=this.fork(7);Ma.add=Ma.add.slice();Ma.rem=Ma.rem.slice();Ma.mod=Ma.mod.slice();Ma.source&&(Ma.source=Ma.source.slice());return Ma.materialize(23)},addAll(){let Ma=this;Ma.source&&Ma.add!==Ma.rem&&(Ma.rem.length||Ma.source.length!==Ma.add.length)&&(Ma=(new r(this.dataflow)).init(this),Ma.add=Ma.source,Ma.rem=[]);return Ma},init(Ma,ma){this.stamp=Ma.stamp;this.encode=Ma.encode;!Ma.fields||ma&64||(this.fields=Ma.fields);ma&1?(this.addF=Ma.addF,this.add=Ma.add):(this.addF=null,this.add=
[]);ma&2?(this.remF=Ma.remF,this.rem=Ma.rem):(this.remF=null,this.rem=[]);ma&4?(this.modF=Ma.modF,this.mod=Ma.mod):(this.modF=null,this.mod=[]);ma&32?this.source=this.srcF=null:(this.srcF=Ma.srcF,this.source=Ma.source,Ma.cleans&&(this.cleans=Ma.cleans));return this},runAfter(Ma){this.dataflow.runAfter(Ma)},changed(Ma){Ma=Ma||7;return Ma&1&&this.add.length||Ma&2&&this.rem.length||Ma&4&&this.mod.length},reflow(Ma){if(Ma)return this.fork(7).reflow();Ma=this.add.length;const ma=this.source&&this.source.length;
ma&&ma!==Ma&&(this.mod=this.source,Ma&&this.filter(4,K(this,1)));return this},clean(Ma){return arguments.length?(this.cleans=!!Ma,this):this.cleans},modifies(Ma){const ma=this.fields||(this.fields={});k.isArray(Ma)?Ma.forEach(Fa=>ma[Fa]=!0):ma[Ma]=!0;return this},modified(Ma,ma){const Fa=this.fields;return(ma||this.mod.length)&&Fa?arguments.length?k.isArray(Ma)?Ma.some(Ra=>Fa[Ra]):Fa[Ma]:!!Fa:!1},filter(Ma,ma){Ma&1&&(this.addF=R(this.addF,ma));Ma&2&&(this.remF=R(this.remF,ma));Ma&4&&(this.modF=R(this.modF,
ma));Ma&16&&(this.srcF=R(this.srcF,ma));return this},materialize(Ma){Ma=Ma||7;Ma&1&&this.addF&&(this.add=y(this.add,this.addF),this.addF=null);Ma&2&&this.remF&&(this.rem=y(this.rem,this.remF),this.remF=null);Ma&4&&this.modF&&(this.mod=y(this.mod,this.modF),this.modF=null);Ma&16&&this.srcF&&(this.source=this.source.filter(this.srcF),this.srcF=null);return this},visit(Ma,ma){if(Ma&16)return k.visitArray(this.source,this.srcF,ma),this;Ma&1&&k.visitArray(this.add,this.addF,ma);Ma&2&&k.visitArray(this.rem,
this.remF,ma);Ma&4&&k.visitArray(this.mod,this.modF,ma);const Fa=this.source;Ma&8&&Fa&&(Ma=this.add.length+this.mod.length,Ma!==Fa.length&&(Ma?k.visitArray(Fa,K(this,5),ma):k.visitArray(Fa,this.srcF,ma)));return this}};k.inherits(S,r,{fork(Ma){const ma=(new r(this.dataflow)).init(this,Ma&this.NO_FIELDS);void 0!==Ma&&(Ma&ma.ADD&&this.visit(ma.ADD,Fa=>ma.add.push(Fa)),Ma&ma.REM&&this.visit(ma.REM,Fa=>ma.rem.push(Fa)),Ma&ma.MOD&&this.visit(ma.MOD,Fa=>ma.mod.push(Fa)));return ma},changed(Ma){return this.changes&
Ma},modified(Ma){const ma=this.fields;return ma&&this.changes&this.MOD?k.isArray(Ma)?Ma.some(Fa=>ma[Fa]):ma[Ma]:0},filter(){k.error("MultiPulse does not support filtering.")},materialize(){k.error("MultiPulse does not support materialization.")},visit(Ma,ma){const Fa=this.pulses,Ra=Fa.length;let ra=0;if(Ma&this.SOURCE)for(;ra<Ra;++ra)Fa[ra].visit(Ma,ma);else for(;ra<Ra;++ra)Fa[ra].stamp===this.stamp&&Fa[ra].visit(Ma,ma);return this}});const bb={skip:!1,force:!1};ea.prototype={stamp(){return this._clock},
loader(Ma){return arguments.length?(this._loader=Ma,this):this._loader},locale(Ma){return arguments.length?(this._locale=Ma,this):this._locale},logger(Ma){return arguments.length?(this._log=Ma,this):this._log},error:Ga("error"),warn:Ga("warn"),info:Ga("info"),debug:Ga("debug"),logLevel:Ga("level"),cleanThreshold:1E4,add:function(Ma,ma,Fa,Ra){let ra=1;Ma instanceof m||(Ma&&Ma.prototype instanceof m?Ma=new Ma:k.isFunction(Ma)?Ma=new m(null,Ma):(ra=0,Ma=new m(Ma,ma)));this.rank(Ma);ra&&(Ra=Fa,Fa=ma);
Fa&&this.connect(Ma,Ma.parameters(Fa,Ra));this.touch(Ma);return Ma},connect:function(Ma,ma){const Fa=Ma.rank,Ra=ma.length;for(let ra=0;ra<Ra;++ra)if(Fa<ma[ra].rank){this.rerank(Ma);break}},rank:function(Ma){Ma.rank=++this._rank},rerank:function(Ma){const ma=[Ma];let Fa,Ra,ra;for(;ma.length;)if(this.rank(Fa=ma.pop()),Ra=Fa._targets)for(ra=Ra.length;0<=--ra;)ma.push(Fa=Ra[ra]),Fa===Ma&&k.error("Cycle detected in dataflow graph.")},pulse:function(Ma,ma,Fa){this.touch(Ma,Fa||bb);Fa=new r(this,this._clock+
(this._pulse?0:1));const Ra=Ma.pulse&&Ma.pulse.source||[];Fa.target=Ma;this._input[Ma.id]=ma.pulse(Fa,Ra);return this},touch:function(Ma,ma){ma=ma||bb;this._pulse?this._enqueue(Ma):this._touched.add(Ma);ma.skip&&Ma.skip(!0);return this},update:function(Ma,ma,Fa){Fa=Fa||bb;(Ma.set(ma)||Fa.force)&&this.touch(Ma,Fa);return this},changeset:e,ingest:function(Ma,ma,Fa){ma=this.parse(ma,Fa);return this.pulse(Ma,this.changeset().insert(ma))},parse:function(Ma,ma){const Fa=this.locale();return p.read(Ma,ma,
Fa.timeParse,Fa.utcParse)},preload:function(Ma,ma,Fa){const Ra=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ra=Ra._pending||G(Ra);ra.requests+=1;const ya=yield Ra.request(ma,Fa);Ra.pulse(Ma,Ra.changeset().remove(k.truthy).insert(ya.data||[]));ra.done();return ya})},request:function(Ma,ma){const Fa=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let Ra=0,ra;try{ra=yield Fa.loader().load(Ma,{context:"dataflow",response:p.responseType(ma&&ma.type)});
try{ra=Fa.parse(ra,ma)}catch(ya){Ra=-2,Fa.warn("Data ingestion failed",Ma,ya)}}catch(ya){Ra=-1,Fa.warn("Loading failed",Ma,ya)}return{data:ra,status:Ra}})},events:function(Ma,ma,Fa,Ra){const ra=this,ya=O(Fa,Ra);Fa=function(oa){oa.dataflow=ra;try{ya.receive(oa)}catch(xa){ra.error(xa)}finally{ra.run()}};Ma="string"===typeof Ma&&"undefined"!==typeof document?document.querySelectorAll(Ma):k.array(Ma);Ra=Ma.length;for(let oa=0;oa<Ra;++oa)Ma[oa].addEventListener(ma,Fa);return ya},on:function(Ma,ma,Fa,Ra,
ra){(Ma instanceof m?F:I)(this,Ma,ma,Fa,Ra,ra);return this},evaluate:function(Ma,ma,Fa){const Ra=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ra=[];if(Ra._pulse)return ca(Ra);Ra._pending&&(yield Ra._pending);ma&&(yield n(Ra,ma));if(!Ra._touched.length)return Ra.debug("Dataflow invoked, but nothing to do."),Ra;var ya=++Ra._clock;Ra._pulse=new r(Ra,ya,Ma);Ra._touched.forEach(sa=>Ra._enqueue(sa,!0));Ra._touched=t(k.id);var oa=0;let xa,Ua,fb;try{for(;0<Ra._heap.size();)xa=
Ra._heap.pop(),xa.rank!==xa.qrank?Ra._enqueue(xa,!0):(Ua=xa.run(Ra._getPulse(xa,Ma)),Ua.then?Ua=yield Ua:Ua.async&&(ra.push(Ua.async),Ua=Ja),Ua!==Ja&&xa._targets&&xa._targets.forEach(sa=>Ra._enqueue(sa)),++oa)}catch(sa){Ra._heap.clear(),fb=sa}Ra._input={};Ra._pulse=null;Ra.debug(`Pulse ${ya}: ${oa} operators`);fb&&(Ra._postrun=[],Ra.error(fb));if(Ra._postrun.length)for(ya=Ra._postrun.sort((sa,Oa)=>Oa.priority-sa.priority),Ra._postrun=[],oa=0;oa<ya.length;++oa)yield n(Ra,ya[oa].callback);Fa&&(yield n(Ra,
Fa));ra.length&&Promise.all(ra).then(sa=>Ra.runAsync(null,()=>{sa.forEach(Oa=>{try{Oa(Ra)}catch(ja){Ra.error(ja)}})}));return Ra})},run:function(Ma,ma,Fa){return this._pulse?ca(this):(this.evaluate(Ma,ma,Fa),this)},runAsync:function(Ma,ma,Fa){const Ra=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){for(;Ra._running;)yield Ra._running;const ra=()=>Ra._running=null;(Ra._running=Ra.evaluate(Ma,ma,Fa)).then(ra,ra);return Ra._running})},runAfter:function(Ma,ma,Fa){if(this._pulse||
ma)this._postrun.push({priority:Fa||0,callback:Ma});else try{Ma(this)}catch(Ra){this.error(Ra)}},_enqueue:function(Ma,ma){const Fa=Ma.stamp<this._clock;Fa&&(Ma.stamp=this._clock);if(Fa||ma)Ma.qrank=Ma.rank,this._heap.push(Ma)},_getPulse:function(Ma,ma){const Fa=Ma.source,Ra=this._clock;return Fa&&k.isArray(Fa)?new S(this,Ra,Fa.map(ra=>ra.pulse),ma):this._input[Ma.id]||M(this._pulse,Fa&&Fa.pulse)}};k.inherits(X,m,{run(Ma){if(Ma.stamp<this.stamp)return Ma.StopPropagation;let ma;this.skip()?this.skip(!1):
ma=this.evaluate(Ma);ma=ma||Ma;ma.then?ma=ma.then(Fa=>this.pulse=Fa):ma!==Ma.StopPropagation&&(this.pulse=ma);return ma},evaluate(Ma){const ma=this.marshall(Ma.stamp);Ma=this.transform(ma,Ma);ma.clear();return Ma},transform(){}});const ib={};w.Dataflow=ea;w.EventStream=x;w.MultiPulse=S;w.Operator=m;w.Parameters=g;w.Pulse=r;w.Transform=X;w.UniqueList=t;w.asyncCallback=n;w.changeset=e;w.definition=function(Ma){return(Ma=D(Ma))&&Ma.Definition||null};w.derive=function(Ma){return b(Ma,f({}))};w.ingest=
f;w.isChangeSet=c;w.isTuple=function(Ma){return!(!Ma||!Ma[B])};w.rederive=b;w.replace=function(Ma,ma){ma[B]=Ma[B];return ma};w.stableCompare=function(Ma,ma){return Ma?ma?(Fa,Ra)=>Ma(Fa,Ra)||ma(Fa)[B]-ma(Ra)[B]:(Fa,Ra)=>Ma(Fa,Ra)||Fa[B]-Ra[B]:null};w.transform=D;w.transforms=ib;w.tupleid=function(Ma){return Ma[B]};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[24]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function*k(ma,Fa){if(null==Fa)for(var Ra of ma)null!=Ra&&""!==Ra&&(Ra=+Ra)>=Ra&&(yield Ra);else{Ra=-1;for(let ra of ma)ra=Fa(ra,++Ra,ma),null!=ra&&""!==ra&&(ra=+ra)>=ra&&(yield ra)}}function p(ma,Fa){return null==ma||null==Fa?NaN:ma<Fa?-1:ma>Fa?1:ma>=
Fa?0:NaN}function q(ma){return null===ma?NaN:+ma}function*t(ma,Fa){if(void 0===Fa)for(var Ra of ma)null!=Ra&&(Ra=+Ra)>=Ra&&(yield Ra);else{Ra=-1;for(let ra of ma)null!=(ra=Fa(ra,++Ra,ma))&&(ra=+ra)>=ra&&(yield ra)}}function n(ma=p){if(ma===p)return f;if("function"!==typeof ma)throw new TypeError("compare is not a function");return(Fa,Ra)=>{const ra=ma(Fa,Ra);return ra||0===ra?ra:(0===ma(Ra,Ra))-(0===ma(Fa,Fa))}}function f(ma,Fa){return(null==ma||!(ma>=ma))-(null==Fa||!(Fa>=Fa))||(ma<Fa?-1:ma>Fa?1:
0)}function b(ma,Fa){let Ra;if(void 0===Fa)for(var ra of ma)null!=ra&&(Ra<ra||void 0===Ra&&ra>=ra)&&(Ra=ra);else{ra=-1;for(let ya of ma)null!=(ya=Fa(ya,++ra,ma))&&(Ra<ya||void 0===Ra&&ya>=ya)&&(Ra=ya)}return Ra}function c(ma,Fa){let Ra;if(void 0===Fa)for(var ra of ma)null!=ra&&(Ra>ra||void 0===Ra&&ra>=ra)&&(Ra=ra);else{ra=-1;for(let ya of ma)null!=(ya=Fa(ya,++ra,ma))&&(Ra>ya||void 0===Ra&&ya>=ya)&&(Ra=ya)}return Ra}function e(ma,Fa,Ra=0,ra=ma.length-1,ya){for(ya=void 0===ya?f:n(ya);ra>Ra;){if(600<
ra-Ra){var oa=ra-Ra+1,xa=Fa-Ra+1,Ua=Math.log(oa),fb=.5*Math.exp(2*Ua/3);Ua=.5*Math.sqrt(Ua*fb*(oa-fb)/oa)*(0>xa-oa/2?-1:1);e(ma,Fa,Math.max(Ra,Math.floor(Fa-xa*fb/oa+Ua)),Math.min(ra,Math.floor(Fa+(oa-xa)*fb/oa+Ua)),ya)}oa=ma[Fa];xa=Ra;fb=ra;g(ma,Ra,Fa);for(0<ya(ma[ra],oa)&&g(ma,Ra,ra);xa<fb;){g(ma,xa,fb);++xa;for(--fb;0>ya(ma[xa],oa);)++xa;for(;0<ya(ma[fb],oa);)--fb}0===ya(ma[Ra],oa)?g(ma,Ra,fb):(++fb,g(ma,fb,ra));fb<=Fa&&(Ra=fb+1);Fa<=fb&&(ra=fb-1)}return ma}function g(ma,Fa,Ra){const ra=ma[Fa];
ma[Fa]=ma[Ra];ma[Ra]=ra}function m(ma,Fa,Ra){ma=Float64Array.from(t(ma,Ra));if(Ra=ma.length){if(0>=(Fa=+Fa)||2>Ra)return c(ma);if(1<=Fa)return b(ma);Fa*=Ra-1;Ra=Math.floor(Fa);var ra=b(e(ma,Ra).subarray(0,Ra+1));ma=c(ma.subarray(Ra+1));return ra+(ma-ra)*(Fa-Ra)}}function h(ma,Fa,Ra=q){if(ra=ma.length){if(0>=(Fa=+Fa)||2>ra)return+Ra(ma[0],0,ma);if(1<=Fa)return+Ra(ma[ra-1],ra-1,ma);var ra;Fa*=ra-1;ra=Math.floor(Fa);var ya=+Ra(ma[ra],ra,ma);ma=+Ra(ma[ra+1],ra+1,ma);return ya+(ma-ya)*(Fa-ra)}}function x(ma,
Fa,Ra){const ra=Float64Array.from(k(ma,Ra));ra.sort(p);return Fa.map(ya=>h(ra,ya))}function O(ma,Fa){return x(ma,[.25,.5,.75],Fa)}function G(ma,Fa){const Ra=ma.length;{var ra=0;let oa,xa=0,Ua=0;if(void 0===Fa)for(var ya of ma)null!=ya&&(ya=+ya)>=ya&&(oa=ya-xa,xa+=oa/++ra,Ua+=oa*(ya-xa));else{ya=-1;for(let fb of ma)null!=(fb=Fa(fb,++ya,ma))&&(fb=+fb)>=fb&&(oa=fb-xa,xa+=oa/++ra,Ua+=oa*(fb-xa))}ra=1<ra?Ua/(ra-1):void 0}ra=ra?Math.sqrt(ra):ra;ma=O(ma,Fa);return 1.06*(Math.min(ra,(ma[2]-ma[0])/1.34)||
ra||Math.abs(ma[0])||1)*Math.pow(Ra,-.2)}function I(ma,Fa){const Ra=ma.length;let ra=0,ya=1,oa,xa;for(;ma[ra]===ma[ya];)++ya;for(;ya<Ra;){for(oa=ya+1;ma[ya]===ma[oa];)++oa;if(ma[ya]-ma[ya-1]<Fa){for(xa=ya+(ra+oa-ya-ya>>1);xa<ya;)ma[xa++]=ma[ya];for(;xa>ya;)ma[xa--]=ma[ra]}ra=ya;ya=oa}return ma}function F(ma,Fa){ma=ma||0;Fa=null==Fa?1:Fa;let Ra,ra;if(ib===ib)Ra=ib,ib=NaN;else{do{Ra=2*w.random()-1;ra=2*w.random()-1;var ya=Ra*Ra+ra*ra}while(0===ya||1<ya);ya=Math.sqrt(-2*Math.log(ya)/ya);Ra*=ya;ib=ra*
ya}return ma+Ra*Fa}function C(ma,Fa,Ra){Ra=null==Ra?1:Ra;ma=(ma-(Fa||0))/Ra;return Math.exp(-.5*ma*ma)/(Ra*Ja)}function r(ma,Fa,Ra){ma=(ma-(Fa||0))/(null==Ra?1:Ra);Fa=Math.abs(ma);37<Fa?Ra=0:(Ra=Math.exp(-Fa*Fa/2),7.07106781186547>Fa?(Ra*=(((((.0352624965998911*Fa+.700383064443688)*Fa+6.37396220353165)*Fa+33.912866078383)*Fa+112.079291497871)*Fa+221.213596169931)*Fa+220.206867912376,Ra/=((((((.0883883476483184*Fa+1.75566716318264)*Fa+16.064177579207)*Fa+86.7807322029461)*Fa+296.564248779674)*Fa+637.333633378831)*
Fa+793.826512519948)*Fa+440.413735824752):Ra=Ra/(Fa+1/(Fa+2/(Fa+3/(Fa+4/(Fa+.65)))))/2.506628274631);return 0<ma?1-Ra:Ra}function y(ma,Fa,Ra){if(0>ma||1<ma)return NaN;ma=2*ma-1;var ra=-Math.log((1-ma)*(1+ma));6.25>ra?(ra-=3.125,ra=1.6536545626831027+(.24015818242558962+(-.006033670871430149+(-7.40702534166267E-4+(1.8673420803405714E-4+(-1.3882523362786469E-5+(-1.3654692000834679E-6+(4.2347877827932404E-7+(-2.9070369957882005E-8+(-4.112633980346984E-9+(1.0512122733215323E-9+(-5.415412054294628E-11+
(-1.2975133253453532E-11+(2.6335093153082323E-12+(-8.151934197605472E-14+(-4.054566272975207E-14+(6.637638134358324E-15+(2.0972767875968562E-17+(-1.333171662854621E-16+(1.1157877678025181E-17+(1.28584807152564E-18+(-1.6850591381820166E-19+-3.64441206401782E-21*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra):16>ra?(ra=Math.sqrt(ra)-3.25,ra=3.0838856104922208+(1.0052589676941592+(.005370914553590064+(-.003751208507569241+(.002491442096107851+(-.0016882755560235047+
(9.532893797373805E-4+(-3.550375203628475E-4+(2.4031110387097894E-5+(6.828485145957318E-5+(-4.7318229009055734E-5+(1.2475304481671779E-5+(2.9234449089955446E-6+(-4.013867526981546E-6+(1.5027403968909828E-6+(1.8239629214389228E-8+(-2.7517406297064545E-7+(9.075656193888539E-8+2.2137376921775787E-9*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra):Number.isFinite(ra)?(ra=Math.sqrt(ra)-5,ra=4.849906401408584+(1.0103004648645344+(-1.3871931833623122E-4+(-2.1503011930044477E-4+(7.599527703001776E-5+
(-1.968177810553167E-5+(4.526062597223154E-6+(-9.9298272942317E-7+(2.2900482228026655E-7+(-6.771199775845234E-8+(2.914795345090108E-8+(-1.496002662714924E-8+(7.61570120807834E-9+(-3.789465440126737E-9+(1.5076572693500548E-9+(-2.555641816996525E-10+-2.7109920616438573E-11*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra)*ra):ra=Infinity;return(Fa||0)+(null==Ra?1:Ra)*bb*ra*ma}function K(ma,Fa){let Ra,ra;const ya={mean(oa){return arguments.length?(Ra=oa||0,ya):Ra},stdev(oa){return arguments.length?
(ra=null==oa?1:oa,ya):ra},sample:()=>F(Ra,ra),pdf:oa=>C(oa,Ra,ra),cdf:oa=>r(oa,Ra,ra),icdf:oa=>y(oa,Ra,ra)};return ya.mean(ma).stdev(Fa)}function R(ma,Fa){Fa=null==Fa?1:Fa;return Math.exp((ma||0)+F()*Fa)}function S(ma,Fa,Ra){if(0>=ma)return 0;Ra=null==Ra?1:Ra;Fa=(Math.log(ma)-(Fa||0))/Ra;return Math.exp(-.5*Fa*Fa)/(Ra*Ja*ma)}function ca(ma,Fa,Ra){return r(Math.log(ma),Fa,Ra)}function M(ma,Fa,Ra){return Math.exp(y(ma,Fa,Ra))}function aa(ma,Fa){null==Fa&&(Fa=null==ma?1:ma,ma=0);return ma+(Fa-ma)*w.random()}
function Y(ma,Fa,Ra){null==Ra&&(Ra=null==Fa?1:Fa,Fa=0);return ma>=Fa&&ma<=Ra?1/(Ra-Fa):0}function ea(ma,Fa,Ra){null==Ra&&(Ra=null==Fa?1:Fa,Fa=0);return ma<Fa?0:ma>Ra?1:(ma-Fa)/(Ra-Fa)}function Ga(ma,Fa,Ra){null==Ra&&(Ra=null==Fa?1:Fa,Fa=0);return 0<=ma&&1>=ma?Fa+ma*(Ra-Fa):NaN}function X(ma,Fa,Ra,ra){ra-=ma*ma;Ra=1E-24>Math.abs(ra)?0:(Ra-ma*Fa)/ra;return[Fa-Ra*ma,Ra]}function D(ma,Fa,Ra,ra){ma=ma.filter(ja=>{let U=Fa(ja);ja=Ra(ja);return null!=U&&(U=+U)>=U&&null!=ja&&(ja=+ja)>=ja});ra&&ma.sort((ja,
U)=>Fa(ja)-Fa(U));ra=ma.length;const ya=new Float64Array(ra),oa=new Float64Array(ra);let xa=0,Ua=0,fb=0,sa,Oa;for(Oa of ma)ya[xa]=ma=+Fa(Oa),oa[xa]=sa=+Ra(Oa),++xa,Ua+=(ma-Ua)/xa,fb+=(sa-fb)/xa;for(xa=0;xa<ra;++xa)ya[xa]-=Ua,oa[xa]-=fb;return[ya,oa,Ua,fb]}function B(ma,Fa,Ra,ra){let ya=-1,oa;for(const xa of ma)ma=Fa(xa),oa=Ra(xa),null!=ma&&(ma=+ma)>=ma&&null!=oa&&(oa=+oa)>=oa&&ra(ma,oa,++ya)}function N(ma,Fa,Ra,ra,ya){let oa=0,xa=0;B(ma,Fa,Ra,(Ua,fb)=>{Ua=fb-ya(Ua);fb-=ra;oa+=Ua*Ua;xa+=fb*fb});return 1-
oa/xa}function Z(ma,Fa,Ra){let ra=0,ya=0,oa=0,xa=0,Ua=0;B(ma,Fa,Ra,(Oa,ja)=>{++Ua;ra+=(Oa-ra)/Ua;ya+=(ja-ya)/Ua;oa+=(Oa*ja-oa)/Ua;xa+=(Oa*Oa-xa)/Ua});const fb=X(ra,ya,oa,xa),sa=Oa=>fb[0]+fb[1]*Oa;return{coef:fb,predict:sa,rSquared:N(ma,Fa,Ra,ya,sa)}}function Aa(ma,Fa,Ra){const [ra,ya,oa,xa]=D(ma,Fa,Ra);var Ua=ra.length,fb=0;let sa=0;var Oa=0;let ja=0,U=0,ka,ua,Ta,eb;for(ka=0;ka<Ua;)ua=ra[ka],Ta=ya[ka++],eb=ua*ua,fb+=(eb-fb)/ka,sa+=(eb*ua-sa)/ka,Oa+=(eb*eb-Oa)/ka,ja+=(ua*Ta-ja)/ka,U+=(eb*Ta-U)/ka;
Ua=Oa-fb*fb;Oa=fb*Ua-sa*sa;const lb=(U*fb-ja*sa)/Oa,nb=(ja*Ua-U*sa)/Oa,Mb=-lb*fb;fb=$b=>{$b-=oa;return lb*$b*$b+nb*$b+Mb+xa};return{coef:[Mb-nb*oa+lb*oa*oa+xa,nb-2*lb*oa,lb],predict:fb,rSquared:N(ma,Fa,Ra,xa,fb)}}function qa(ma,Fa,Ra,ra){const ya=Array(ma);let oa,xa,Ua;for(oa=0;oa<ma;++oa)ya[oa]=0;for(oa=ma-1;0<=oa;--oa)for(xa=Fa[oa],Ua=1,ya[oa]+=xa,ma=1;ma<=oa;++ma)Ua*=(oa+1-ma)/ma,ya[oa-ma]+=xa*Math.pow(Ra,ma)*Ua;ya[0]+=ra;return ya}function la(ma){const Fa=ma.length-1,Ra=[];let ra,ya,oa,xa,Ua;
for(ra=0;ra<Fa;++ra){xa=ra;for(ya=ra+1;ya<Fa;++ya)Math.abs(ma[ra][ya])>Math.abs(ma[ra][xa])&&(xa=ya);for(oa=ra;oa<Fa+1;++oa)Ua=ma[oa][ra],ma[oa][ra]=ma[oa][xa],ma[oa][xa]=Ua;for(ya=ra+1;ya<Fa;++ya)for(oa=Fa;oa>=ra;oa--)ma[oa][ya]-=ma[oa][ra]*ma[ra][ya]/ma[ra][ra]}for(ya=Fa-1;0<=ya;--ya){Ua=0;for(oa=ya+1;oa<Fa;++oa)Ua+=ma[oa][ya]*Ra[oa];Ra[ya]=(ma[Fa][ya]-Ua)/ma[ya][ya]}return Ra}w.random=Math.random;const Ja=Math.sqrt(2*Math.PI),bb=Math.SQRT2;let ib=NaN;const Ma=.5*Math.PI/180;w.bandwidthNRD=G;w.bin=
function(ma){var Fa=ma.maxbins||20;const Ra=ma.base||10,ra=Math.log(Ra),ya=ma.divide||[5,2];let oa=ma.extent[0],xa=ma.extent[1];let Ua,fb,sa,Oa;const ja=ma.span||xa-oa||Math.abs(oa)||1;if(ma.step)var U=ma.step;else if(ma.steps){fb=ja/Fa;sa=0;for(Oa=ma.steps.length;sa<Oa&&ma.steps[sa]<fb;++sa);U=ma.steps[Math.max(0,sa-1)]}else{U=Math.ceil(Math.log(Fa)/ra);Ua=ma.minstep||0;for(U=Math.max(Ua,Math.pow(Ra,Math.round(Math.log(ja)/ra)-U));Math.ceil(ja/U)>Fa;)U*=Ra;sa=0;for(Oa=ya.length;sa<Oa;++sa)fb=U/ya[sa],
fb>=Ua&&ja/fb<=Fa&&(U=fb)}fb=Math.log(U);Fa=Math.pow(Ra,-(0<=fb?0:~~(-fb/ra)+1)-1);if(ma.nice||void 0===ma.nice)fb=Math.floor(oa/U+Fa)*U,oa=oa<fb?fb-U:fb,xa=Math.ceil(xa/U)*U;return{start:oa,stop:xa===oa?oa+U:xa,step:U}};w.bootstrapCI=function(ma,Fa,Ra,ra){if(!ma.length)return[void 0,void 0];ma=Float64Array.from(k(ma,ra));ra=ma.length;let ya,oa,xa,Ua;xa=0;for(Ua=Array(Fa);xa<Fa;++xa){for(oa=ya=0;oa<ra;++oa)ya+=ma[~~(w.random()*ra)];Ua[xa]=ya/ra}Ua.sort(p);return[m(Ua,Ra/2),m(Ua,1-Ra/2)]};w.cumulativeLogNormal=
ca;w.cumulativeNormal=r;w.cumulativeUniform=ea;w.densityLogNormal=S;w.densityNormal=C;w.densityUniform=Y;w.dotbin=function(ma,Fa,Ra,ra){ra=ra||(U=>U);const ya=ma.length,oa=new Float64Array(ya);let xa=0,Ua=1,fb=ra(ma[0]),sa=fb,Oa=fb+Fa,ja;for(;Ua<ya;++Ua){ja=ra(ma[Ua]);if(ja>=Oa){for(sa=(fb+sa)/2;xa<Ua;++xa)oa[xa]=sa;Oa=ja+Fa;fb=ja}sa=ja}for(sa=(fb+sa)/2;xa<Ua;++xa)oa[xa]=sa;return Ra?I(oa,Fa+Fa/4):oa};w.quantileLogNormal=M;w.quantileNormal=y;w.quantileUniform=Ga;w.quantiles=x;w.quartiles=O;w.randomInteger=
function(ma,Fa){null==Fa&&(Fa=ma,ma=0);let Ra,ra,ya;const oa={min(xa){return arguments.length?(Ra=xa||0,ya=ra-Ra,oa):Ra},max(xa){return arguments.length?(ra=xa||0,ya=ra-Ra,oa):ra},sample(){return Ra+Math.floor(ya*w.random())},pdf(xa){return xa===Math.floor(xa)&&xa>=Ra&&xa<ra?1/ya:0},cdf(xa){xa=Math.floor(xa);return xa<Ra?0:xa>=ra?1:(xa-Ra+1)/ya},icdf(xa){return 0<=xa&&1>=xa?Ra-1+Math.floor(xa*ya):NaN}};return oa.min(ma).max(Fa)};w.randomKDE=function(ma,Fa){const Ra=K();let ra=0;const ya={data(oa){return arguments.length?
(ra=(ma=oa)?oa.length:0,ya.bandwidth(Fa)):ma},bandwidth(oa){if(!arguments.length)return Fa;Fa=oa;!Fa&&ma&&(Fa=G(ma));return ya},sample(){return ma[~~(w.random()*ra)]+Fa*Ra.sample()},pdf(oa){let xa=0,Ua=0;for(;Ua<ra;++Ua)xa+=Ra.pdf((oa-ma[Ua])/Fa);return xa/Fa/ra},cdf(oa){let xa=0,Ua=0;for(;Ua<ra;++Ua)xa+=Ra.cdf((oa-ma[Ua])/Fa);return xa/ra},icdf(){throw Error("KDE icdf not supported.");}};return ya.data(ma)};w.randomLCG=function(ma){return function(){ma=(1103515245*ma+12345)%2147483647;return ma/
2147483647}};w.randomLogNormal=function(ma,Fa){let Ra,ra;const ya={mean(oa){return arguments.length?(Ra=oa||0,ya):Ra},stdev(oa){return arguments.length?(ra=null==oa?1:oa,ya):ra},sample:()=>R(Ra,ra),pdf:oa=>S(oa,Ra,ra),cdf:oa=>ca(oa,Ra,ra),icdf:oa=>M(oa,Ra,ra)};return ya.mean(ma).stdev(Fa)};w.randomMixture=function(ma,Fa){let Ra=0,ra;const ya={weights(oa){if(arguments.length){var xa=Fa=oa||[];const Ua=[];let fb=0,sa;for(sa=0;sa<Ra;++sa)fb+=Ua[sa]=null==xa[sa]?1:+xa[sa];for(sa=0;sa<Ra;++sa)Ua[sa]/=
fb;ra=Ua;return ya}return Fa},distributions(oa){return arguments.length?(oa?(Ra=oa.length,ma=oa):(Ra=0,ma=[]),ya.weights(Fa)):ma},sample(){const oa=w.random();let xa=ma[Ra-1],Ua=ra[0],fb=0;for(;fb<Ra-1;Ua+=ra[++fb])if(oa<Ua){xa=ma[fb];break}return xa.sample()},pdf(oa){let xa=0,Ua=0;for(;Ua<Ra;++Ua)xa+=ra[Ua]*ma[Ua].pdf(oa);return xa},cdf(oa){let xa=0,Ua=0;for(;Ua<Ra;++Ua)xa+=ra[Ua]*ma[Ua].cdf(oa);return xa},icdf(){throw Error("Mixture icdf not supported.");}};return ya.distributions(ma).weights(Fa)};
w.randomNormal=K;w.randomUniform=function(ma,Fa){let Ra,ra;const ya={min(oa){return arguments.length?(Ra=oa||0,ya):Ra},max(oa){return arguments.length?(ra=null==oa?1:oa,ya):ra},sample:()=>aa(Ra,ra),pdf:oa=>Y(oa,Ra,ra),cdf:oa=>ea(oa,Ra,ra),icdf:oa=>Ga(oa,Ra,ra)};null==Fa&&(Fa=null==ma?1:ma,ma=0);return ya.min(ma).max(Fa)};w.regressionExp=function(ma,Fa,Ra){const [ra,,ya,oa]=D(ma,Fa,Ra);let xa=0,Ua=0,fb=0,sa=0,Oa=0,ja,U,ka;B(ma,Fa,Ra,(lb,nb)=>{ja=ra[Oa++];U=Math.log(nb);ka=ja*nb;xa+=(nb*U-xa)/Oa;Ua+=
(ka-Ua)/Oa;fb+=(ka*U-fb)/Oa;sa+=(ja*ka-sa)/Oa});const [ua,Ta]=X(Ua/oa,xa/oa,fb/oa,sa/oa),eb=lb=>Math.exp(ua+Ta*(lb-ya));return{coef:[Math.exp(ua-Ta*ya),Ta],predict:eb,rSquared:N(ma,Fa,Ra,oa,eb)}};w.regressionLinear=Z;w.regressionLoess=function(ma,Fa,Ra,ra){const [ya,oa,xa,Ua]=D(ma,Fa,Ra,!0);ma=ya.length;Fa=Math.max(2,~~(ra*ma));ra=new Float64Array(ma);Ra=new Float64Array(ma);var fb=(new Float64Array(ma)).fill(1);for(var sa=-1;2>=++sa;){var Oa=[0,Fa-1];for(let Mb=0;Mb<ma;++Mb){var ja=ya[Mb],U=Oa[0],
ka=Oa[1],ua=0,Ta=0,eb=0,lb=0;let $b=0;const Gc=1/Math.abs(ya[ja-ya[U]>ya[ka]-ja?U:ka]-ja||1);for(;U<=ka;++U){const uc=ya[U],id=oa[U];var nb=Math.abs(ja-uc)*Gc;const Hb=(nb=1-nb*nb*nb)*nb*nb*fb[U];nb=uc*Hb;ua+=Hb;Ta+=nb;eb+=id*Hb;lb+=id*nb;$b+=uc*nb}const [zc,Bc]=X(Ta/ua,eb/ua,lb/ua,$b/ua);ra[Mb]=zc+Bc*ja;Ra[Mb]=Math.abs(oa[Mb]-ra[Mb]);ja=ya;ka=Mb+1;ua=Oa;Ta=ja[ka];eb=ua[0];lb=ua[1]+1;if(!(lb>=ja.length))for(;ka>eb&&ja[lb]-Ta<=Ta-ja[eb];)ua[0]=++eb,ua[1]=lb,++lb}if(2===sa)break;Oa=m(Ra,.5,void 0);
if(1E-12>Math.abs(Oa))break;for(let Mb=0,$b,Gc;Mb<ma;++Mb)$b=Ra[Mb]/(6*Oa),fb[Mb]=1<=$b?1E-12:(Gc=1-$b*$b)*Gc}ma=ya.length;Fa=[];fb=Ra=0;for(sa=[];Ra<ma;++Ra)Oa=ya[Ra]+xa,sa[0]===Oa?sa[1]+=(ra[Ra]-sa[1])/++fb:(fb=0,sa[1]+=Ua,sa=[Oa,ra[Ra]],Fa.push(sa));sa[1]+=Ua;return Fa};w.regressionLog=function(ma,Fa,Ra){let ra=0,ya=0,oa=0,xa=0,Ua=0;B(ma,Fa,Ra,(Oa,ja)=>{++Ua;Oa=Math.log(Oa);ra+=(Oa-ra)/Ua;ya+=(ja-ya)/Ua;oa+=(Oa*ja-oa)/Ua;xa+=(Oa*Oa-xa)/Ua});const fb=X(ra,ya,oa,xa),sa=Oa=>fb[0]+fb[1]*Math.log(Oa);
return{coef:fb,predict:sa,rSquared:N(ma,Fa,Ra,ya,sa)}};w.regressionPoly=function(ma,Fa,Ra,ra){if(1===ra)return Z(ma,Fa,Ra);if(2===ra)return Aa(ma,Fa,Ra);const [ya,oa,xa,Ua]=D(ma,Fa,Ra);var fb=ya.length;const sa=[],Oa=[],ja=ra+1;let U,ka,ua,Ta;for(U=0;U<ja;++U){for(ua=ka=0;ka<fb;++ka)ua+=Math.pow(ya[ka],U)*oa[ka];sa.push(ua);Ta=new Float64Array(ja);for(ra=0;ra<ja;++ra){for(ua=ka=0;ka<fb;++ka)ua+=Math.pow(ya[ka],U+ra);Ta[ra]=ua}Oa.push(Ta)}Oa.push(sa);const eb=la(Oa);fb=lb=>{lb-=xa;let nb=Ua+eb[0]+
eb[1]*lb+eb[2]*lb*lb;for(U=3;U<ja;++U)nb+=eb[U]*Math.pow(lb,U);return nb};return{coef:qa(ja,eb,-xa,Ua),predict:fb,rSquared:N(ma,Fa,Ra,Ua,fb)}};w.regressionPow=function(ma,Fa,Ra){let ra=0,ya=0,oa=0,xa=0,Ua=0,fb=0;B(ma,Fa,Ra,(ja,U)=>{ja=Math.log(ja);const ka=Math.log(U);++fb;ra+=(ja-ra)/fb;ya+=(ka-ya)/fb;oa+=(ja*ka-oa)/fb;xa+=(ja*ja-xa)/fb;Ua+=(U-Ua)/fb});const sa=X(ra,ya,oa,xa),Oa=ja=>sa[0]*Math.pow(ja,sa[1]);sa[0]=Math.exp(sa[0]);return{coef:sa,predict:Oa,rSquared:N(ma,Fa,Ra,Ua,Oa)}};w.regressionQuad=
Aa;w.sampleCurve=function(ma,Fa,Ra,ra){Ra=Ra||25;ra=Math.max(Ra,ra||200);var ya=Fa[0],oa=Fa[1],xa=oa-ya,Ua=xa/ra;Fa=[[ya,ma(ya)]];var fb=[];if(Ra===ra){for(var sa=1;sa<ra;++sa){Ua=Fa;fb=Ua.push;var Oa=ya+sa/Ra*xa;Oa=[Oa,ma(Oa)];fb.call(Ua,Oa)}Fa.push([oa,ma(oa)]);return Fa}fb.push([oa,ma(oa)]);for(sa=Ra;0<--sa;)ra=fb,oa=ra.push,Oa=ya+sa/Ra*xa,Oa=[Oa,ma(Oa)],oa.call(ra,Oa);Ra=Fa[0];ya=fb[fb.length-1];xa=1/xa;ra=oa=Ra[1];sa=fb.length;for(Oa=0;Oa<sa;++Oa){const ja=fb[Oa][1];ja<ra&&(ra=ja);ja>oa&&(oa=
ja)}for(ra=1/(oa-ra);ya;)oa=(Ra[0]+ya[0])/2,oa=[oa,ma(oa)],oa[0]-Ra[0]>=Ua&&Math.abs(Math.atan2(ra*(ya[1]-Ra[1]),xa*(ya[0]-Ra[0]))-Math.atan2(ra*(oa[1]-Ra[1]),xa*(oa[0]-Ra[0])))>Ma?fb.push(oa):(Ra=ya,Fa.push(ya),fb.pop()),ya=fb[fb.length-1];return Fa};w.sampleLogNormal=R;w.sampleNormal=F;w.sampleUniform=aa;w.setRandom=function(ma){w.random=ma};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[25]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23),L(24),L(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow","vega-statistics","vega-time"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function n(za){return Za=>{const tb=za.length;let Jb=1,fc=String(za[0](Za));for(;Jb<tb;++Jb)fc+="|"+za[Jb](Za);return fc}}function f(za){return za&&
za.length?1===za.length?za[0]:n(za):function(){return""}}function b(za,Za){return tb=>k.extend({name:za,out:tb||za},nd,Za)}function c(za,Za){return za.idx-Za.idx}function e(za){const Za={};za.forEach(Jb=>Za[Jb.name]=Jb);const tb=Jb=>{Jb.req&&Jb.req.forEach(fc=>{Za[fc]||tb(Za[fc]=xd[fc]())})};za.forEach(tb);return Object.values(Za).sort(c)}function g(){this.missing=this.valid=0;this._ops.forEach(za=>za.init(this))}function m(za,Za){null==za||""===za?++this.missing:za===za&&(++this.valid,this._ops.forEach(tb=>
tb.add(this,za,Za)))}function h(za,Za){null==za||""===za?--this.missing:za===za&&(--this.valid,this._ops.forEach(tb=>tb.rem(this,za,Za)))}function x(za){this._out.forEach(Za=>za[Za.out]=Za.value(this));return za}function O(za,Za){function tb(nc){this._ops=Jb;this._out=fc;this.cell=nc;this.init()}Za=Za||k.identity;const Jb=e(za),fc=za.slice().sort(c);tb.prototype.init=g;tb.prototype.add=m;tb.prototype.rem=h;tb.prototype.set=x;tb.prototype.get=Za;tb.fields=za.map(nc=>nc.out);return tb}function G(za){this._key=
za?k.field(za):p.tupleid;this.reset()}function I(za){p.Transform.call(this,null,za);this._adds=[];this._mods=[];this._mlen=this._alen=0;this._drop=!0;this._cross=!1;this._dims=[];this._dnames=[];this._measures=[];this._countOnly=!1;this._outputs=this._inputs=this._prev=this._counts=null}function F(za){p.Transform.call(this,null,za)}function C(za,Za,tb){let Jb=Za||[],fc=tb||[],nc={},Hc=0;return{add:Dc=>fc.push(Dc),remove:Dc=>nc[za(Dc)]=++Hc,size:()=>Jb.length,data:(Dc,lc)=>{Hc&&(Jb=Jb.filter(ld=>!nc[za(ld)]),
nc={},Hc=0);lc&&Dc&&Jb.sort(Dc);fc.length&&(Jb=Dc?k.merge(Dc,Jb,fc.sort(Dc)):Jb.concat(fc),fc=[]);return Jb}}}function r(za){p.Transform.call(this,[],za)}function y(za){p.Operator.call(this,null,K,za)}function K(za){return this.value&&!za.modified()?this.value:k.compare(za.fields,za.orders)}function R(za){p.Transform.call(this,null,za)}function S(za){p.Transform.call(this,null,za)}function ca(za,Za){var tb=za["function"];k.hasOwnProperty(ge,tb)||k.error("Unknown distribution function: "+tb);tb=ge[tb]();
for(const Jb in za)if("field"===Jb)tb.data((za.from||Za()).map(za[Jb]));else if("distributions"===Jb)tb[Jb](za[Jb].map(fc=>ca(fc,Za)));else if("function"===typeof tb[Jb])tb[Jb](za[Jb]);return tb}function M(za){p.Transform.call(this,null,za)}function aa(za){return()=>za.materialize(za.SOURCE).source}function Y(za,Za){return za?za.map((tb,Jb)=>Za[Jb]||k.accessorName(tb)):null}function ea(za,Za,tb){const Jb=[],fc=Hd=>Hd(lc);let nc,Hc,Dc,lc,ld,rd;if(null==Za)Jb.push(za.map(tb));else for(nc={},Hc=0,Dc=
za.length;Hc<Dc;++Hc)lc=za[Hc],ld=Za.map(fc),rd=nc[ld],rd||(nc[ld]=rd=[],rd.dims=ld,Jb.push(rd)),rd.push(tb(lc));return Jb}function Ga(za){p.Transform.call(this,null,za)}function X(za){p.Operator.call(this,null,D,za);this.modified(!0)}function D(za){const Za=za.expr;return this.value&&!za.modified("expr")?this.value:k.accessor(tb=>Za(tb,za),k.accessorFields(Za),k.accessorName(Za))}function B(za){p.Transform.call(this,[void 0,void 0],za)}function N(za,Za){p.Operator.call(this,za);this.parent=Za;this.count=
0}function Z(za){p.Transform.call(this,{},za);this._keys=k.fastmap();const Za=this._targets=[];Za.active=0;Za.forEach=tb=>{for(let Jb=0,fc=Za.active;Jb<fc;++Jb)tb(Za[Jb],Jb,Za)}}function Aa(za){p.Operator.call(this,null,qa,za)}function qa(za){return this.value&&!za.modified()?this.value:k.isArray(za.name)?k.array(za.name).map(Za=>k.field(Za)):k.field(za.name,za.as)}function la(za){p.Transform.call(this,k.fastmap(),za)}function Ja(za){p.Transform.call(this,[],za)}function bb(za){p.Transform.call(this,
[],za)}function ib(za){p.Transform.call(this,null,za)}function Ma(za){p.Transform.call(this,[],za)}function ma(za,Za){return null==za||null==Za?NaN:za<Za?-1:za>Za?1:za>=Za?0:NaN}function Fa(za){function Za(nc,Hc,Dc=0,lc=nc.length){if(Dc<lc){if(0!==Jb(Hc,Hc))return lc;do{const ld=Dc+lc>>>1;0>fc(nc[ld],Hc)?Dc=ld+1:lc=ld}while(Dc<lc)}return Dc}let tb=za,Jb=za,fc=za;2!==za.length&&(tb=(nc,Hc)=>za(nc)-Hc,Jb=ma,fc=(nc,Hc)=>ma(za(nc),Hc));return{left:Za,center:function(nc,Hc,Dc=0,lc=nc.length){lc=Za(nc,
Hc,Dc,lc-1);return lc>Dc&&tb(nc[lc-1],Hc)>-tb(nc[lc],Hc)?lc-1:lc},right:function(nc,Hc,Dc=0,lc=nc.length){if(Dc<lc){if(0!==Jb(Hc,Hc))return lc;do{const ld=Dc+lc>>>1;0>=fc(nc[ld],Hc)?Dc=ld+1:lc=ld}while(Dc<lc)}return Dc}}}function*Ra(za,Za){if(void 0===Za)for(var tb of za)null!=tb&&(tb=+tb)>=tb&&(yield tb);else{tb=-1;for(let Jb of za)null!=(Jb=Za(Jb,++tb,za))&&(Jb=+Jb)>=Jb&&(yield Jb)}}function ra(za=ma){if(za===ma)return ya;if("function"!==typeof za)throw new TypeError("compare is not a function");
return(Za,tb)=>{const Jb=za(Za,tb);return Jb||0===Jb?Jb:(0===za(tb,tb))-(0===za(Za,Za))}}function ya(za,Za){return(null==za||!(za>=za))-(null==Za||!(Za>=Za))||(za<Za?-1:za>Za?1:0)}function oa(za,Za){let tb;if(void 0===Za)for(var Jb of za)null!=Jb&&(tb<Jb||void 0===tb&&Jb>=Jb)&&(tb=Jb);else{Jb=-1;for(let fc of za)null!=(fc=Za(fc,++Jb,za))&&(tb<fc||void 0===tb&&fc>=fc)&&(tb=fc)}return tb}function xa(za,Za){let tb;if(void 0===Za)for(var Jb of za)null!=Jb&&(tb>Jb||void 0===tb&&Jb>=Jb)&&(tb=Jb);else{Jb=
-1;for(let fc of za)null!=(fc=Za(fc,++Jb,za))&&(tb>fc||void 0===tb&&fc>=fc)&&(tb=fc)}return tb}function Ua(za,Za,tb=0,Jb=za.length-1,fc){for(fc=void 0===fc?ya:ra(fc);Jb>tb;){if(600<Jb-tb){var nc=Jb-tb+1,Hc=Za-tb+1,Dc=Math.log(nc),lc=.5*Math.exp(2*Dc/3);Dc=.5*Math.sqrt(Dc*lc*(nc-lc)/nc)*(0>Hc-nc/2?-1:1);Ua(za,Za,Math.max(tb,Math.floor(Za-Hc*lc/nc+Dc)),Math.min(Jb,Math.floor(Za+(nc-Hc)*lc/nc+Dc)),fc)}nc=za[Za];Hc=tb;lc=Jb;fb(za,tb,Za);for(0<fc(za[Jb],nc)&&fb(za,tb,Jb);Hc<lc;){fb(za,Hc,lc);++Hc;for(--lc;0>
fc(za[Hc],nc);)++Hc;for(;0<fc(za[lc],nc);)--lc}0===fc(za[tb],nc)?fb(za,tb,lc):(++lc,fb(za,lc,Jb));lc<=Za&&(tb=lc+1);Za<=lc&&(Jb=lc-1)}return za}function fb(za,Za,tb){const Jb=za[Za];za[Za]=za[tb];za[tb]=Jb}function sa(za,Za,tb){za=+za;Za=+Za;tb=2>(fc=arguments.length)?(Za=za,za=0,1):3>fc?1:+tb;for(var Jb=-1,fc=Math.max(0,Math.ceil((Za-za)/tb))|0,nc=Array(fc);++Jb<fc;)nc[Jb]=za+Jb*tb;return nc}function Oa(za){p.Transform.call(this,[],za)}function ja(za){var Za=za.method||qe.value;if(null==qe[Za])k.error("Unrecognized imputation method: "+
Za);else{if(Za===qe.value){var tb=void 0!==za.value?za.value:0;return()=>tb}return qe[Za]}}function U(za){const Za=za.field;return tb=>tb?Za(tb):NaN}function ka(za,Za,tb,Jb){var fc=Ce=>Ce(Hd),nc=[];Jb=Jb?Jb.slice():[];var Hc={},Dc={},lc,ld;Jb.forEach((Ce,re)=>Hc[Ce]=re+1);var rd=0;for(ld=za.length;rd<ld;++rd){var Hd=za[rd];var Vd=tb(Hd);var ce=Hc[Vd]||(Hc[Vd]=Jb.push(Vd));var he=(Vd=Za?Za.map(fc):wd)+"";(lc=Dc[he])||(lc=Dc[he]=[],nc.push(lc),lc.values=Vd);lc[ce-1]=Hd}nc.domain=Jb;return nc}function ua(za){I.call(this,
za)}function Ta(za){p.Transform.call(this,null,za)}function eb(za){p.Operator.call(this,null,lb,za)}function lb(za){return this.value&&!za.modified()?this.value:k.key(za.fields,za.flat)}function nb(za){p.Transform.call(this,[],za);this._pending=null}function Mb(za){return za.modified("async")&&!(za.modified("values")||za.modified("url")||za.modified("format"))}function $b(za,Za,tb){tb.forEach(p.ingest);Za=Za.fork(Za.NO_FIELDS&Za.NO_SOURCE);Za.rem=za.value;za.value=Za.source=Za.add=tb;za._pending=
null;Za.rem.length&&Za.clean(!0);return Za}function Gc(za){p.Transform.call(this,{},za)}function zc(za){p.Operator.call(this,null,Bc,za)}function Bc(za){if(this.value&&!za.modified())return this.value;za=za.extents;const Za=za.length;let tb=Infinity,Jb=-Infinity,fc,nc;for(fc=0;fc<Za;++fc)nc=za[fc],nc[0]<tb&&(tb=nc[0]),nc[1]>Jb&&(Jb=nc[1]);return[tb,Jb]}function uc(za){p.Operator.call(this,null,id,za)}function id(za){return this.value&&!za.modified()?this.value:za.values.reduce((Za,tb)=>Za.concat(tb),
[])}function Hb(za){p.Transform.call(this,null,za)}function Ab(za){I.call(this,za)}function dc(za,Za){const tb=za.field,Jb=za.value,fc=("count"===za.op?"__count__":za.op)||"sum",nc=k.accessorFields(tb).concat(k.accessorFields(Jb)),Hc=mc(tb,za.limit||0,Za);Za.changed()&&za.set("__pivot__",null,null,!0);return{key:za.key,groupby:za.groupby,ops:Hc.map(()=>fc),fields:Hc.map(Dc=>Wb(Dc,tb,Jb,nc)),as:Hc.map(Dc=>Dc+""),modified:za.modified.bind(za)}}function Wb(za,Za,tb,Jb){return k.accessor(fc=>Za(fc)===
za?tb(fc):NaN,Jb,za+"")}function mc(za,Za,tb){const Jb={},fc=[];tb.visit(tb.SOURCE,nc=>{nc=za(nc);Jb[nc]||(Jb[nc]=1,fc.push(nc))});fc.sort(k.ascending);return Za?fc.slice(0,Za):fc}function Kc(za){Z.call(this,za)}function Fc(za){p.Transform.call(this,null,za)}function Sc(za){p.Transform.call(this,null,za)}function jd(za){p.Transform.call(this,null,za)}function $d(za){p.Transform.call(this,null,za)}function Ba(za){p.Transform.call(this,[],za);this.count=0}function va(za){p.Transform.call(this,null,
za)}function Ca(za){p.Transform.call(this,null,za);this.modified(!0)}function $a(za){p.Transform.call(this,null,za)}function jb(za){p.Transform.call(this,k.fastmap(),za)}function yb(za){p.Transform.call(this,null,za)}function Ub(za,Za,tb,Jb){const fc=gf[za](Za,tb);return{init:fc.init||k.zero,update:function(nc,Hc){Hc[Jb]=fc.next(nc)}}}function Tb(za){function Za(ce){k.array(k.accessorFields(ce)).forEach(he=>lc[he]=1)}const tb=k.array(za.ops),Jb=k.array(za.fields),fc=k.array(za.params),nc=k.array(za.as),
Hc=this.outputs=[],Dc=this.windows=[],lc={},ld={},rd=[],Hd=[];let Vd=!0;Za(za.sort);tb.forEach((ce,he)=>{const Ce=Jb[he],re=k.accessorName(Ce),vf=nc[he]||ce+(re?"_"+re:"");Za(Ce);Hc.push(vf);k.hasOwnProperty(gf,ce)?Dc.push(Ub(ce,Jb[he],fc[he],vf)):(null==Ce&&"count"!==ce&&k.error("Null aggregate field specified."),"count"===ce?rd.push(vf):(Vd=!1,he=ld[re],he||(he=ld[re]=[],he.field=Ce,Hd.push(he)),he.push(xd[ce](vf))))});if(rd.length||Hd.length)this.cell=Vb(Hd,rd,Vd);this.inputs=Object.keys(lc)}function Vb(za,
Za,tb){za=za.map(lc=>O(lc,lc.field));const Jb={num:0,agg:null,store:!1,count:Za};if(!tb)for(var fc=za.length,nc=Jb.agg=Array(fc),Hc=0;Hc<fc;++Hc)nc[Hc]=new za[Hc](Jb);if(Jb.store)var Dc=Jb.data=new G;Jb.add=function(lc){Jb.num+=1;if(!tb){Dc&&Dc.add(lc);for(let ld=0;ld<fc;++ld)nc[ld].add(nc[ld].get(lc),lc)}};Jb.rem=function(lc){--Jb.num;if(!tb){Dc&&Dc.rem(lc);for(let ld=0;ld<fc;++ld)nc[ld].rem(nc[ld].get(lc),lc)}};Jb.set=function(lc){let ld,rd;Dc&&Dc.values();ld=0;for(rd=Za.length;ld<rd;++ld)lc[Za[ld]]=
Jb.num;if(!tb)for(ld=0,rd=nc.length;ld<rd;++ld)nc[ld].set(lc)};Jb.init=function(){Jb.num=0;Dc&&Dc.reset();for(let lc=0;lc<fc;++lc)nc[lc].init()};return Jb}function Ic(za){p.Transform.call(this,{},za);this._mlen=0;this._mods=[]}function $c(za,Za,tb,Jb){var fc=Jb.sort;const nc=fc&&!Jb.ignorePeers;Jb=Jb.frame||[null,0];za=za.data(tb);tb=za.length;const Hc=nc?Fa(fc):null;fc={i0:0,i1:0,p0:0,p1:0,index:0,data:za,compare:fc||k.constant(-1)};Za.init();for(let Hd=0;Hd<tb;++Hd){var Dc=fc,lc=Jb,ld=Hd,rd=tb;
Dc.p0=Dc.i0;Dc.p1=Dc.i1;Dc.i0=null==lc[0]?0:Math.max(0,ld-Math.abs(lc[0]));Dc.i1=null==lc[1]?rd:Math.min(rd,ld+Math.abs(lc[1])+1);Dc.index=ld;if(nc){Dc=fc;lc=Hc;ld=Dc.i0;rd=Dc.i1-1;const Vd=Dc.compare,ce=Dc.data,he=ce.length-1;0<ld&&!Vd(ce[ld],ce[ld-1])&&(Dc.i0=lc.left(ce,ce[ld]));rd<he&&!Vd(ce[rd],ce[rd+1])&&(Dc.i1=lc.right(ce,ce[rd]))}Za.update(fc,za[Hd])}}const dd=()=>{},nd={init:dd,add:dd,rem:dd,idx:0},xd={values:{init:za=>za.cell.store=!0,value:za=>za.cell.data.values(),idx:-1},count:{value:za=>
za.cell.num},__count__:{value:za=>za.missing+za.valid},missing:{value:za=>za.missing},valid:{value:za=>za.valid},sum:{init:za=>za.sum=0,value:za=>za.sum,add:(za,Za)=>za.sum+=+Za,rem:(za,Za)=>za.sum-=Za},product:{init:za=>za.product=1,value:za=>za.valid?za.product:void 0,add:(za,Za)=>za.product*=Za,rem:(za,Za)=>za.product/=Za},mean:{init:za=>za.mean=0,value:za=>za.valid?za.mean:void 0,add:(za,Za)=>(za.mean_d=Za-za.mean,za.mean+=za.mean_d/za.valid),rem:(za,Za)=>(za.mean_d=Za-za.mean,za.mean-=za.valid?
za.mean_d/za.valid:za.mean)},average:{value:za=>za.valid?za.mean:void 0,req:["mean"],idx:1},variance:{init:za=>za.dev=0,value:za=>1<za.valid?za.dev/(za.valid-1):void 0,add:(za,Za)=>za.dev+=za.mean_d*(Za-za.mean),rem:(za,Za)=>za.dev-=za.mean_d*(Za-za.mean),req:["mean"],idx:1},variancep:{value:za=>1<za.valid?za.dev/za.valid:void 0,req:["variance"],idx:2},stdev:{value:za=>1<za.valid?Math.sqrt(za.dev/(za.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:za=>1<za.valid?Math.sqrt(za.dev/za.valid):
void 0,req:["variance"],idx:2},stderr:{value:za=>1<za.valid?Math.sqrt(za.dev/(za.valid*(za.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:za=>za.cell.data.distinct(za.get),req:["values"],idx:3},ci0:{value:za=>za.cell.data.ci0(za.get),req:["values"],idx:3},ci1:{value:za=>za.cell.data.ci1(za.get),req:["values"],idx:3},median:{value:za=>za.cell.data.q2(za.get),req:["values"],idx:3},q1:{value:za=>za.cell.data.q1(za.get),req:["values"],idx:3},q3:{value:za=>za.cell.data.q3(za.get),req:["values"],
idx:3},min:{init:za=>za.min=void 0,value:za=>za.min=Number.isNaN(za.min)?za.cell.data.min(za.get):za.min,add:(za,Za)=>{if(Za<za.min||void 0===za.min)za.min=Za},rem:(za,Za)=>{Za<=za.min&&(za.min=NaN)},req:["values"],idx:4},max:{init:za=>za.max=void 0,value:za=>za.max=Number.isNaN(za.max)?za.cell.data.max(za.get):za.max,add:(za,Za)=>{if(Za>za.max||void 0===za.max)za.max=Za},rem:(za,Za)=>{Za>=za.max&&(za.max=NaN)},req:["values"],idx:4},argmin:{init:za=>za.argmin=void 0,value:za=>za.argmin||za.cell.data.argmin(za.get),
add:(za,Za,tb)=>{Za<za.min&&(za.argmin=tb)},rem:(za,Za)=>{Za<=za.min&&(za.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:za=>za.argmax=void 0,value:za=>za.argmax||za.cell.data.argmax(za.get),add:(za,Za,tb)=>{Za>za.max&&(za.argmax=tb)},rem:(za,Za)=>{Za>=za.max&&(za.argmax=void 0)},req:["max","values"],idx:3}},Nd=Object.keys(xd);Nd.forEach(za=>{xd[za]=b(za,xd[za])});const Xd=G.prototype;Xd.reset=function(){this._add=[];this._rem=[];this._q=this._get=this._ext=null};Xd.add=function(za){this._add.push(za)};
Xd.rem=function(za){this._rem.push(za)};Xd.values=function(){this._get=null;if(0===this._rem.length)return this._add;const za=this._add;var Za=this._rem;const tb=this._key,Jb=za.length,fc=Za.length,nc=Array(Jb-fc),Hc={};let Dc,lc;for(Dc=0;Dc<fc;++Dc)Hc[tb(Za[Dc])]=1;for(Za=Dc=0;Dc<Jb;++Dc)Hc[tb(lc=za[Dc])]?Hc[tb(lc)]=0:nc[Za++]=lc;this._rem=[];return this._add=nc};Xd.distinct=function(za){const Za=this.values(),tb={};let Jb=Za.length,fc=0,nc;for(;0<=--Jb;)nc=za(Za[Jb])+"",k.hasOwnProperty(tb,nc)||
(tb[nc]=1,++fc);return fc};Xd.extent=function(za){if(this._get!==za||!this._ext){const Za=this.values(),tb=k.extentIndex(Za,za);this._ext=[Za[tb[0]],Za[tb[1]]];this._get=za}return this._ext};Xd.argmin=function(za){return this.extent(za)[0]||{}};Xd.argmax=function(za){return this.extent(za)[1]||{}};Xd.min=function(za){const Za=this.extent(za)[0];return null!=Za?za(Za):void 0};Xd.max=function(za){const Za=this.extent(za)[1];return null!=Za?za(Za):void 0};Xd.quartile=function(za){this._get===za&&this._q||
(this._q=q.quartiles(this.values(),za),this._get=za);return this._q};Xd.q1=function(za){return this.quartile(za)[0]};Xd.q2=function(za){return this.quartile(za)[1]};Xd.q3=function(za){return this.quartile(za)[2]};Xd.ci=function(za){this._get===za&&this._ci||(this._ci=q.bootstrapCI(this.values(),1E3,.05,za),this._get=za);return this._ci};Xd.ci0=function(za){return this.ci(za)[0]};Xd.ci1=function(za){return this.ci(za)[1]};I.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",
type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Nd},{name:"fields",type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"drop",type:"boolean","default":!0},{name:"cross",type:"boolean","default":!1},{name:"key",type:"field"}]};k.inherits(I,p.Transform,{transform(za,Za){const tb=this,Jb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS),fc=za.modified();tb.stamp=Jb.stamp;tb.value&&(fc||Za.modified(tb._inputs,!0))?(tb._prev=tb.value,tb.value=fc?tb.init(za):{},Za.visit(Za.SOURCE,
nc=>tb.add(nc))):(tb.value=tb.value||tb.init(za),Za.visit(Za.REM,nc=>tb.rem(nc)),Za.visit(Za.ADD,nc=>tb.add(nc)));Jb.modifies(tb._outputs);tb._drop=!1!==za.drop;za.cross&&1<tb._dims.length&&(tb._drop=!1,tb.cross());Za.clean()&&tb._drop&&Jb.clean(!0).runAfter(()=>this.clean());return tb.changes(Jb)},cross(){function za(Dc){let lc,ld,rd,Hd;for(lc in Dc)for(rd=Dc[lc].tuple,ld=0;ld<Hc;++ld)nc[ld][Hd=rd[fc[ld]]]=Hd}function Za(Dc,lc,ld){const rd=fc[ld],Hd=nc[ld++];for(const Vd in Hd){const ce=Dc?Dc+"|"+
Vd:Vd;lc[rd]=Hd[Vd];ld<Hc?Za(ce,lc,ld):Jb[ce]||tb.cell(ce,lc)}}const tb=this,Jb=tb.value,fc=tb._dnames,nc=fc.map(()=>({})),Hc=fc.length;za(tb._prev);za(Jb);Za("",{},0)},init(za){function Za(Ce){Ce=k.array(k.accessorFields(Ce));const re=Ce.length;let vf=0,Ge;for(;vf<re;++vf)fc[Ge=Ce[vf]]||(fc[Ge]=1,tb.push(Ge))}const tb=this._inputs=[],Jb=this._outputs=[],fc={};this._dims=k.array(za.groupby);this._dnames=this._dims.map(Ce=>{const re=k.accessorName(Ce);Za(Ce);Jb.push(re);return re});this.cellkey=za.key?
za.key:f(this._dims);this._countOnly=!0;this._counts=[];this._measures=[];const nc=za.fields||[null],Hc=za.ops||["count"];za=za.as||[];const Dc=nc.length,lc={};let ld,rd,Hd,Vd,ce,he;Dc!==Hc.length&&k.error("Unmatched number of fields and aggregate ops.");for(he=0;he<Dc;++he)ld=nc[he],rd=Hc[he],null==ld&&"count"!==rd&&k.error("Null aggregate field specified."),Vd=k.accessorName(ld),ce=za[he]||rd+(Vd?"_"+Vd:""),Jb.push(ce),"count"===rd?this._counts.push(ce):(Hd=lc[Vd],Hd||(Za(ld),Hd=lc[Vd]=[],Hd.field=
ld,this._measures.push(Hd)),"count"!==rd&&(this._countOnly=!1),Hd.push(xd[rd](ce)));this._measures=this._measures.map(Ce=>O(Ce,Ce.field));return{}},cellkey:f(),cell(za,Za){let tb=this.value[za];tb?0===tb.num&&this._drop&&tb.stamp<this.stamp?(tb.stamp=this.stamp,this._adds[this._alen++]=tb):tb.stamp<this.stamp&&(tb.stamp=this.stamp,this._mods[this._mlen++]=tb):(tb=this.value[za]=this.newcell(za,Za),this._adds[this._alen++]=tb);return tb},newcell(za,Za){za={key:za,num:0,agg:null,tuple:this.newtuple(Za,
this._prev&&this._prev[za]),stamp:this.stamp,store:!1};if(!this._countOnly){Za=this._measures;const tb=Za.length;za.agg=Array(tb);for(let Jb=0;Jb<tb;++Jb)za.agg[Jb]=new Za[Jb](za)}za.store&&(za.data=new G);return za},newtuple(za,Za){const tb=this._dnames,Jb=this._dims,fc=Jb.length,nc={};for(let Hc=0;Hc<fc;++Hc)nc[tb[Hc]]=Jb[Hc](za);return Za?p.replace(Za.tuple,nc):p.ingest(nc)},clean(){const za=this.value;for(const Za in za)0===za[Za].num&&delete za[Za]},add(za){var Za=this.cellkey(za);Za=this.cell(Za,
za);Za.num+=1;if(!this._countOnly){Za.store&&Za.data.add(za);Za=Za.agg;for(let tb=0,Jb=Za.length;tb<Jb;++tb)Za[tb].add(Za[tb].get(za),za)}},rem(za){var Za=this.cellkey(za);Za=this.cell(Za,za);--Za.num;if(!this._countOnly){Za.store&&Za.data.rem(za);Za=Za.agg;for(let tb=0,Jb=Za.length;tb<Jb;++tb)Za[tb].rem(Za[tb].get(za),za)}},celltuple(za){const Za=za.tuple,tb=this._counts;za.store&&za.data.values();for(let Jb=0,fc=tb.length;Jb<fc;++Jb)Za[tb[Jb]]=za.num;if(!this._countOnly){za=za.agg;for(let Jb=0,
fc=za.length;Jb<fc;++Jb)za[Jb].set(Za)}return Za},changes(za){const Za=this._adds,tb=this._mods;var Jb=this._prev;const fc=this._drop,nc=za.add,Hc=za.rem,Dc=za.mod;let lc;var ld;if(Jb)for(ld in Jb)lc=Jb[ld],fc&&!lc.num||Hc.push(lc.tuple);Jb=0;for(ld=this._alen;Jb<ld;++Jb)nc.push(this.celltuple(Za[Jb])),Za[Jb]=null;Jb=0;for(ld=this._mlen;Jb<ld;++Jb)lc=tb[Jb],(0===lc.num&&fc?Hc:Dc).push(this.celltuple(lc)),tb[Jb]=null;this._alen=this._mlen=0;this._prev=null;return za}});F.Definition={type:"Bin",metadata:{modifies:!0},
params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number","default":20},{name:"base",type:"number","default":10},{name:"divide",type:"number",array:!0,"default":[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number","default":0},{name:"nice",type:"boolean","default":!0},
{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,"default":["bin0","bin1"]}]};k.inherits(F,p.Transform,{transform(za,Za){const tb=!1!==za.interval,Jb=this._bins(za),fc=Jb.start,nc=Jb.step,Hc=za.as||["bin0","bin1"],Dc=Hc[0],lc=Hc[1];za.modified()?(Za=Za.reflow(!0),za=Za.SOURCE):za=Za.modified(k.accessorFields(za.field))?Za.ADD_MOD:Za.ADD;Za.visit(za,tb?ld=>{const rd=Jb(ld);ld[Dc]=rd;ld[lc]=null==rd?null:fc+nc*(1+(rd-fc)/nc)}:ld=>ld[Dc]=Jb(ld));return Za.modifies(tb?Hc:Dc)},_bins(za){if(this.value&&
!za.modified())return this.value;const Za=za.field,tb=q.bin(za),Jb=tb.step;let fc=tb.start,nc=fc+Math.ceil((tb.stop-fc)/Jb)*Jb;var Hc;null!=(Hc=za.anchor)&&(Hc-=fc+Jb*Math.floor((Hc-fc)/Jb),fc+=Hc,nc+=Hc);Hc=function(Dc){Dc=k.toNumber(Za(Dc));return null==Dc?null:Dc<fc?-Infinity:Dc>nc?Infinity:(Dc=Math.max(fc,Math.min(Dc,nc-Jb)),fc+Jb*Math.floor(1E-14+(Dc-fc)/Jb))};Hc.start=fc;Hc.stop=tb.stop;Hc.step=Jb;return this.value=k.accessor(Hc,k.accessorFields(Za),za.name||"bin_"+k.accessorName(Za))}});r.Definition=
{type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};k.inherits(r,p.Transform,{transform(za,Za){const tb=Za.fork(Za.ALL),Jb=C(p.tupleid,this.value,tb.materialize(tb.ADD).add),fc=za.sort;za=Za.changed()||fc&&(za.modified("sort")||Za.modified(fc.fields));tb.visit(tb.REM,Jb.remove);this.modified(za);this.value=tb.source=Jb.data(p.stableCompare(fc),za);Za.source&&Za.source.root&&(this.value.root=Za.source.root);return tb}});k.inherits(y,p.Operator);R.Definition={type:"CountPattern",
metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],"default":"mixed"},{name:"pattern",type:"string","default":'[\\w"]+'},{name:"stopwords",type:"string","default":""},{name:"as",type:"string",array:!0,length:2,"default":["text","count"]}]};k.inherits(R,p.Transform,{transform(za,Za){var tb=rd=>Hd=>{Hd=Dc(Hd);var Vd=nc;switch(za.case){case "upper":Hd=Hd.toUpperCase();break;case "lower":Hd=Hd.toLowerCase()}Hd=Hd.match(Vd)||
[];var ce;Vd=0;for(var he=Hd.length;Vd<he;++Vd)Hc.test(ce=Hd[Vd])||rd(ce)};const Jb=this._parameterCheck(za,Za),fc=this._counts,nc=this._match,Hc=this._stop,Dc=za.field,lc=za.as||["text","count"],ld=tb(rd=>fc[rd]=1+(fc[rd]||0));tb=tb(rd=>--fc[rd]);Jb?Za.visit(Za.SOURCE,ld):(Za.visit(Za.ADD,ld),Za.visit(Za.REM,tb));return this._finish(Za,lc)},_parameterCheck(za,Za){let tb=!1;if(za.modified("stopwords")||!this._stop)this._stop=new RegExp("^"+(za.stopwords||"")+"$","i"),tb=!0;if(za.modified("pattern")||
!this._match)this._match=new RegExp(za.pattern||"[\\w']+","g"),tb=!0;if(za.modified("field")||Za.modified(za.field.fields))tb=!0;tb&&(this._counts={});return tb},_finish(za,Za){const tb=this._counts,Jb=this._tuples||(this._tuples={}),fc=Za[0],nc=Za[1];za=za.fork(za.NO_SOURCE|za.NO_FIELDS);let Hc,Dc,lc;for(Hc in tb)Dc=Jb[Hc],lc=tb[Hc]||0,!Dc&&lc?(Jb[Hc]=Dc=p.ingest({}),Dc[fc]=Hc,Dc[nc]=lc,za.add.push(Dc)):0===lc?(Dc&&za.rem.push(Dc),tb[Hc]=null,Jb[Hc]=null):Dc[nc]!==lc&&(Dc[nc]=lc,za.mod.push(Dc));
return za.modifies(Za)}});S.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,"default":["a","b"]}]};k.inherits(S,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.as||["a","b"],fc=Jb[0],nc=Jb[1];var Hc=!this.value||Za.changed(Za.ADD_REM)||za.modified("as")||za.modified("filter"),Dc=this.value;if(Hc){Dc&&(tb.rem=Dc);Za=Dc=Za.materialize(Za.SOURCE).source;za=za.filter||k.truthy;Hc=[];Dc={};for(var lc=Za.length,
ld=0,rd,Hd;ld<lc;++ld)for(Dc[fc]=Hd=Za[ld],rd=0;rd<lc;++rd)Dc[nc]=Za[rd],za(Dc)&&(Hc.push(p.ingest(Dc)),Dc={},Dc[fc]=Hd);tb.add=this.value=Hc}else tb.mod=Dc;tb.source=this.value;return tb.modifies(Jb)}});const ge={kde:q.randomKDE,mixture:q.randomMixture,normal:q.randomNormal,lognormal:q.randomLogNormal,uniform:q.randomUniform},le=[{key:{"function":"normal"},params:[{name:"mean",type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"lognormal"},params:[{name:"mean",
type:"number","default":0},{name:"stdev",type:"number","default":1}]},{key:{"function":"uniform"},params:[{name:"min",type:"number","default":0},{name:"max",type:"number","default":1}]},{key:{"function":"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number","default":0}]}];M.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",
"default":25},{name:"maxsteps",type:"number","default":200},{name:"method",type:"string","default":"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:le.concat({key:{"function":"mixture"},params:[{name:"distributions",type:"param",array:!0,params:le},{name:"weights",type:"number",array:!0}]})},{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(M,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS);if(!this.value||Za.changed()||za.modified()){const Jb=
ca(za.distribution,aa(Za));Za=za.steps||za.minsteps||25;const fc=za.steps||za.maxsteps||200;let nc=za.method||"pdf";"pdf"!==nc&&"cdf"!==nc&&k.error("Invalid density method: "+nc);za.extent||Jb.data||k.error("Missing density extent parameter.");nc=Jb[nc];const Hc=za.as||["value","density"];za=za.extent||k.extent(Jb.data());za=q.sampleCurve(nc,za,Za,fc).map(Dc=>{const lc={};lc[Hc[0]]=Dc[0];lc[Hc[1]]=Dc[1];return p.ingest(lc)});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=za}return tb}});
Ga.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean","default":!1},{name:"as",type:"string","default":"bin"}]};k.inherits(Ga,p.Transform,{transform(za,Za){if(this.value&&!za.modified()&&!Za.changed())return Za;var tb=Za.materialize(Za.SOURCE).source;const Jb=ea(Za.source,za.groupby,k.identity),fc=za.smooth||!1,nc=za.field;tb=za.step||k.span(k.extent(tb,nc))/
30;const Hc=p.stableCompare((Vd,ce)=>nc(Vd)-nc(ce));za=za.as||"bin";const Dc=Jb.length;let lc=Infinity,ld=-Infinity,rd=0,Hd;for(;rd<Dc;++rd){const Vd=Jb[rd].sort(Hc);Hd=-1;for(const ce of q.dotbin(Vd,tb,fc,nc))ce<lc&&(lc=ce),ce>ld&&(ld=ce),Vd[++Hd][za]=ce}this.value={start:lc,stop:ld,step:tb};return Za.reflow(!0).modifies(za)}});k.inherits(X,p.Operator);B.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};k.inherits(B,p.Transform,{transform(za,Za){var tb=this.value;
const Jb=za.field;za=Za.changed()||Za.modified(Jb.fields)||za.modified("field");let fc=tb[0],nc=tb[1];if(za||null==fc)fc=Infinity,nc=-Infinity;Za.visit(za?Za.SOURCE:Za.ADD,Hc=>{Hc=k.toNumber(Jb(Hc));null!=Hc&&(Hc<fc&&(fc=Hc),Hc>nc&&(nc=Hc))});Number.isFinite(fc)&&Number.isFinite(nc)||((tb=k.accessorName(Jb))&&(tb=` for field "${tb}"`),Za.dataflow.warn(`Infinite extent${tb}: [${fc}, ${nc}]`),fc=nc=void 0);this.value=[fc,nc]}});k.inherits(N,p.Operator,{connect(za){this.detachSubflow=za.detachSubflow;
this.targets().add(za);return za.source=this},add(za){this.count+=1;this.value.add.push(za)},rem(za){--this.count;this.value.rem.push(za)},mod(za){this.value.mod.push(za)},init(za){this.value.init(za,za.NO_SOURCE)},evaluate(){return this.value}});k.inherits(Z,p.Transform,{activate(za){this._targets[this._targets.active++]=za},subflow(za,Za,tb,Jb){const fc=this.value;let nc=k.hasOwnProperty(fc,za)&&fc[za],Hc;nc?nc.value.stamp<tb.stamp&&(nc.init(tb),this.activate(nc)):(Hc=Jb||(Hc=this._group[za])&&
Hc.tuple,Jb=tb.dataflow,nc=new N(tb.fork(tb.NO_SOURCE),this),Jb.add(nc).connect(Za(Jb,za,Hc)),fc[za]=nc,this.activate(nc));return nc},clean(){var za=this.value;let Za=0;for(const tb in za)if(0===za[tb].count){const Jb=za[tb].detachSubflow;Jb&&Jb();delete za[tb];++Za}Za&&(za=this._targets.filter(tb=>tb&&0<tb.count),this.initTargets(za))},initTargets(za){const Za=this._targets,tb=Za.length,Jb=za?za.length:0;let fc=0;for(;fc<Jb;++fc)Za[fc]=za[fc];for(;fc<tb&&null!=Za[fc];++fc)Za[fc]=null;Za.active=Jb},
transform(za,Za){const tb=Za.dataflow,Jb=za.key,fc=za.subflow,nc=this._keys,Hc=za.modified("key"),Dc=lc=>this.subflow(lc,fc,Za);this._group=za.group||{};this.initTargets();Za.visit(Za.REM,lc=>{const ld=p.tupleid(lc),rd=nc.get(ld);void 0!==rd&&(nc.delete(ld),Dc(rd).rem(lc))});Za.visit(Za.ADD,lc=>{const ld=Jb(lc);nc.set(p.tupleid(lc),ld);Dc(ld).add(lc)});Hc||Za.modified(Jb.fields)?Za.visit(Za.MOD,lc=>{const ld=p.tupleid(lc),rd=nc.get(ld),Hd=Jb(lc);rd===Hd?Dc(Hd).mod(lc):(nc.set(ld,Hd),Dc(rd).rem(lc),
Dc(Hd).add(lc))}):Za.changed(Za.MOD)&&Za.visit(Za.MOD,lc=>{Dc(nc.get(p.tupleid(lc))).mod(lc)});Hc&&Za.visit(Za.REFLOW,lc=>{const ld=p.tupleid(lc),rd=nc.get(ld),Hd=Jb(lc);rd!==Hd&&(nc.set(ld,Hd),Dc(rd).rem(lc),Dc(Hd).add(lc))});Za.clean()?tb.runAfter(()=>{this.clean();nc.clean()}):nc.empty>tb.cleanThreshold&&tb.runAfter(nc.clean);return Za}});k.inherits(Aa,p.Operator);la.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};k.inherits(la,p.Transform,{transform(za,
Za){function tb(Hd){const Vd=p.tupleid(Hd),ce=ld(Hd,za),he=fc.get(Vd);ce&&he?(fc.delete(Vd),Hc.push(Hd)):ce||he?rd&&ce&&!he&&lc.push(Hd):(fc.set(Vd,1),Dc.push(Hd))}const Jb=Za.dataflow,fc=this.value,nc=Za.fork(),Hc=nc.add,Dc=nc.rem,lc=nc.mod,ld=za.expr;let rd=!0;Za.visit(Za.REM,Hd=>{const Vd=p.tupleid(Hd);fc.has(Vd)?fc.delete(Vd):Dc.push(Hd)});Za.visit(Za.ADD,Hd=>{ld(Hd,za)?Hc.push(Hd):fc.set(p.tupleid(Hd),1)});Za.visit(Za.MOD,tb);za.modified()&&(rd=!1,Za.visit(Za.REFLOW,tb));fc.empty>Jb.cleanThreshold&&
Jb.runAfter(fc.clean);return nc}});Ja.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};k.inherits(Ja,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=Y(Jb,za.as||[]),nc=za.index||null,Hc=fc.length;tb.rem=this.value;Za.visit(Za.SOURCE,Dc=>{const lc=Jb.map(he=>he(Dc)),ld=lc.reduce((he,Ce)=>Math.max(he,Ce.length),0);let rd=0,Hd,Vd,ce;for(;rd<ld;++rd){Vd=
p.derive(Dc);for(Hd=0;Hd<Hc;++Hd)Vd[fc[Hd]]=null==(ce=lc[Hd][rd])?null:ce;nc&&(Vd[nc]=rd);tb.add.push(Vd)}});this.value=tb.source=tb.add;nc&&tb.modifies(nc);return tb.modifies(fc)}});bb.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,"default":["key","value"]}]};k.inherits(bb,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=Jb.map(k.accessorName);za=za.as||["key","value"];
const nc=za[0],Hc=za[1],Dc=Jb.length;tb.rem=this.value;Za.visit(Za.SOURCE,lc=>{for(let ld=0,rd;ld<Dc;++ld)rd=p.derive(lc),rd[nc]=fc[ld],rd[Hc]=Jb[ld](lc),tb.add.push(rd)});this.value=tb.source=tb.add;return tb.modifies(za)}});ib.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};k.inherits(ib,p.Transform,{transform(za,Za){const tb=za.expr,Jb=za.as,fc=za.modified(),nc=za.initonly?Za.ADD:
fc?Za.SOURCE:Za.modified(tb.fields)||Za.modified(Jb)?Za.ADD_MOD:Za.ADD;fc&&(Za=Za.materialize().reflow(!0));za.initonly||Za.modifies(Jb);return Za.visit(nc,Hc=>Hc[Jb]=tb(Hc,za))}});k.inherits(Ma,p.Transform,{transform(za,Za){Za=Za.fork(Za.ALL);const tb=za.generator;let Jb=this.value,fc=za.size-Jb.length,nc,Hc;if(0<fc){for(nc=[];0<=--fc;)nc.push(Hc=p.ingest(tb(za))),Jb.push(Hc);Za.add=Za.add.length?Za.materialize(Za.ADD).add.concat(nc):nc}else za=Jb.slice(0,-fc),Za.rem=Za.rem.length?Za.materialize(Za.REM).rem.concat(za):
za,Jb=Jb.slice(-fc);Za.source=this.value=Jb;return Za}});const qe={value:"value",median:function(za,Za){var tb=.5;za=Float64Array.from(Ra(za,Za));if(Za=za.length)if(0>=(tb=+tb)||2>Za)za=xa(za);else if(1<=tb)za=oa(za);else{tb*=Za-1;Za=Math.floor(tb);var Jb=oa(Ua(za,Za).subarray(0,Za+1));za=xa(za.subarray(Za+1));za=Jb+(za-Jb)*(tb-Za)}else za=void 0;return za},mean:function(za,Za){let tb=0,Jb=0;if(void 0===Za)for(var fc of za)null!=fc&&(fc=+fc)>=fc&&(++tb,Jb+=fc);else{fc=-1;for(let nc of za)null!=(nc=
Za(nc,++fc,za))&&(nc=+nc)>=nc&&(++tb,Jb+=nc)}if(tb)return Jb/tb},min:xa,max:oa},wd=[];Oa.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum","default":"value",values:["value","mean","median","max","min"]},{name:"value","default":0}]};k.inherits(Oa,p.Transform,{transform(za,Za){var tb=Za.fork(Za.ALL),Jb=ja(za),fc=U(za),nc=k.accessorName(za.field),
Hc=k.accessorName(za.key),Dc=(za.groupby||[]).map(k.accessorName);za=ka(Za.source,za.groupby,za.key,za.keyvals);Za=[];var lc=this.value,ld=za.domain.length,rd,Hd,Vd;var ce=0;for(Hd=za.length;ce<Hd;++ce){var he=za[ce];var Ce=he.values;var re=NaN;for(rd=0;rd<ld;++rd)if(null==he[rd]){var vf=za.domain[rd];var Ge={_impute:!0};var Re=0;for(Vd=Ce.length;Re<Vd;++Re)Ge[Dc[Re]]=Ce[Re];Ge[Hc]=vf;Ge[nc]=Number.isNaN(re)?re=Jb(he,fc):re;Za.push(p.ingest(Ge))}}Za.length&&(tb.add=tb.materialize(tb.ADD).add.concat(Za));
lc.length&&(tb.rem=tb.materialize(tb.REM).rem.concat(lc));this.value=Za;return tb}});ua.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field","null":!0,array:!0},{name:"ops",type:"enum",array:!0,values:Nd},{name:"as",type:"string","null":!0,array:!0},{name:"key",type:"field"}]};k.inherits(ua,I,{transform(za,Za){const tb=this,Jb=za.modified();let fc;tb.value&&(Jb||Za.modified(tb._inputs,!0))?(fc=tb.value=Jb?tb.init(za):{},
Za.visit(Za.SOURCE,nc=>tb.add(nc))):(fc=tb.value=tb.value||this.init(za),Za.visit(Za.REM,nc=>tb.rem(nc)),Za.visit(Za.ADD,nc=>tb.add(nc)));tb.changes();Za.visit(Za.SOURCE,nc=>{k.extend(nc,fc[tb.cellkey(nc)].tuple)});return Za.reflow(Jb).modifies(this._outputs)},changes(){const za=this._adds,Za=this._mods;let tb,Jb;tb=0;for(Jb=this._alen;tb<Jb;++tb)this.celltuple(za[tb]),za[tb]=null;tb=0;for(Jb=this._mlen;tb<Jb;++tb)this.celltuple(Za[tb]),Za[tb]=null;this._alen=this._mlen=0}});Ta.Definition={type:"KDE",
metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean","default":!1},{name:"counts",type:"boolean","default":!1},{name:"bandwidth",type:"number","default":0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number","default":25},{name:"maxsteps",type:"number","default":200},
{name:"as",type:"string",array:!0,"default":["value","density"]}]};k.inherits(Ta,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS);if(!this.value||Za.changed()||za.modified()){Za=Za.materialize(Za.SOURCE).source;const Jb=ea(Za,za.groupby,za.field),fc=(za.groupby||[]).map(k.accessorName),nc=za.bandwidth,Hc=za.cumulative?"cdf":"pdf",Dc=za.as||["value","density"],lc=[];let ld=za.extent,rd=za.steps||za.minsteps||25,Hd=za.steps||za.maxsteps||200;"pdf"!==Hc&&"cdf"!==Hc&&k.error("Invalid density method: "+
Hc);"shared"===za.resolve&&(ld||(ld=k.extent(Za,za.field)),rd=Hd=za.steps||Hd);Jb.forEach(Vd=>{const ce=q.randomKDE(Vd,nc)[Hc],he=za.counts?Vd.length:1,Ce=ld||k.extent(Vd);q.sampleCurve(ce,Ce,rd,Hd).forEach(re=>{const vf={};for(let Ge=0;Ge<fc.length;++Ge)vf[fc[Ge]]=Vd.dims[Ge];vf[Dc[0]]=re[0];vf[Dc[1]]=re[1]*he;lc.push(p.ingest(vf))})});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=lc}return tb}});k.inherits(eb,p.Operator);k.inherits(nb,p.Transform,{transform(za,Za){const tb=Za.dataflow;
return this._pending?$b(this,Za,this._pending):Mb(za)?Za.StopPropagation:za.values?$b(this,Za,tb.parse(za.values,za.format)):za.async?{async:tb.request(za.url,za.format).then(Jb=>{this._pending=k.array(Jb.data);return fc=>fc.touch(this)})}:tb.request(za.url,za.format).then(Jb=>$b(this,Za,k.array(Jb.data)))}});Gc.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",
array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default","default":null}]};k.inherits(Gc,p.Transform,{transform(za,Za){const tb=za.fields,Jb=za.index,fc=za.values,nc=null==za.default?null:za.default;var Hc=za.modified();const Dc=tb.length;let lc=Hc?Za.SOURCE:Za.ADD,ld=Za,rd=za.as,Hd;fc?(Hd=fc.length,1<Dc&&!rd&&k.error('Multi-field lookup requires explicit "as" parameter.'),rd&&rd.length!==Dc*Hd&&k.error('The "as" parameter has too few output field names.'),
rd=rd||fc.map(k.accessorName),za=function(Vd){for(var ce=0,he=0,Ce,re;ce<Dc;++ce)if(re=Jb.get(tb[ce](Vd)),null==re)for(Ce=0;Ce<Hd;++Ce,++he)Vd[rd[he]]=nc;else for(Ce=0;Ce<Hd;++Ce,++he)Vd[rd[he]]=fc[Ce](re)}):(rd||k.error("Missing output field names."),za=function(Vd){for(var ce=0,he;ce<Dc;++ce)he=Jb.get(tb[ce](Vd)),Vd[rd[ce]]=null==he?nc:he});Hc?ld=Za.reflow(!0):(Hc=tb.some(Vd=>Za.modified(Vd.fields)),lc|=Hc?Za.MOD:0);Za.visit(lc,za);return ld.modifies(rd)}});k.inherits(zc,p.Operator);k.inherits(uc,
p.Operator);k.inherits(Hb,p.Transform,{transform(za,Za){this.modified(za.modified());this.value=za;return Za.fork(Za.NO_SOURCE|Za.NO_FIELDS)}});Ab.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:Nd,"default":"sum"},{name:"limit",type:"number","default":0},{name:"key",type:"field"}]};k.inherits(Ab,I,{_transform:I.prototype.transform,
transform(za,Za){return this._transform(dc(za,Za),Za)}});k.inherits(Kc,Z,{transform(za,Za){const tb=za.subflow,Jb=za.field,fc=nc=>this.subflow(p.tupleid(nc),tb,Za,nc);(za.modified("field")||Jb&&Za.modified(k.accessorFields(Jb)))&&k.error("PreFacet does not support field modification.");this.initTargets();Jb?(Za.visit(Za.MOD,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>Hc.mod(Dc))}),Za.visit(Za.ADD,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>Hc.add(p.ingest(Dc)))}),Za.visit(Za.REM,nc=>{const Hc=fc(nc);Jb(nc).forEach(Dc=>
Hc.rem(Dc))})):(Za.visit(Za.MOD,nc=>fc(nc).mod(nc)),Za.visit(Za.ADD,nc=>fc(nc).add(nc)),Za.visit(Za.REM,nc=>fc(nc).rem(nc)));Za.clean()&&Za.runAfter(()=>this.clean());return Za}});Fc.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string","null":!0,array:!0}]};k.inherits(Fc,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE),Jb=za.fields,fc=Y(za.fields,za.as||[]),nc=Jb?(Dc,lc)=>{for(let ld=0,rd=Jb.length;ld<rd;++ld)lc[fc[ld]]=
Jb[ld](Dc);return lc}:p.rederive;let Hc;this.value?Hc=this.value:(Za=Za.addAll(),Hc=this.value={});Za.visit(Za.REM,Dc=>{Dc=p.tupleid(Dc);tb.rem.push(Hc[Dc]);Hc[Dc]=null});Za.visit(Za.ADD,Dc=>{const lc=nc(Dc,p.ingest({}));Hc[p.tupleid(Dc)]=lc;tb.add.push(lc)});Za.visit(Za.MOD,Dc=>{tb.mod.push(nc(Dc,Hc[p.tupleid(Dc)]))});return tb}});k.inherits(Sc,p.Transform,{transform(za,Za){this.value=za.value;return za.modified("value")?Za.fork(Za.NO_SOURCE|Za.NO_FIELDS):Za.StopPropagation}});jd.Definition={type:"Quantile",
metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number","default":.01},{name:"as",type:"string",array:!0,"default":["prob","value"]}]};k.inherits(jd,p.Transform,{transform(za,Za){const tb=Za.fork(Za.NO_SOURCE|Za.NO_FIELDS),Jb=za.as||["prob","value"];if(this.value&&!za.modified()&&!Za.changed())return tb.source=this.value,tb;Za=Za.materialize(Za.SOURCE).source;Za=ea(Za,
za.groupby,za.field);const fc=(za.groupby||[]).map(k.accessorName),nc=[],Hc=za.step||.01,Dc=za.probs||sa(Hc/2,1-1E-14,Hc),lc=Dc.length;Za.forEach(ld=>{const rd=q.quantiles(ld,Dc);for(let Hd=0;Hd<lc;++Hd){const Vd={};for(let ce=0;ce<fc.length;++ce)Vd[fc[ce]]=ld.dims[ce];Vd[Jb[0]]=Dc[Hd];Vd[Jb[1]]=rd[Hd];nc.push(p.ingest(Vd))}});this.value&&(tb.rem=this.value);this.value=tb.add=tb.source=nc;return tb}});k.inherits($d,p.Transform,{transform(za,Za){let tb,Jb;this.value?Jb=this.value:(tb=Za=Za.addAll(),
Jb=this.value={});za.derive&&(tb=Za.fork(Za.NO_SOURCE),Za.visit(Za.REM,fc=>{fc=p.tupleid(fc);tb.rem.push(Jb[fc]);Jb[fc]=null}),Za.visit(Za.ADD,fc=>{const nc=p.derive(fc);Jb[p.tupleid(fc)]=nc;tb.add.push(nc)}),Za.visit(Za.MOD,fc=>{const nc=Jb[p.tupleid(fc)];for(const Hc in fc)nc[Hc]=fc[Hc],tb.modifies(Hc);tb.mod.push(nc)}));return tb}});Ba.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number","default":1E3}]};k.inherits(Ba,p.Transform,{transform(za,Za){function tb(rd){let Hd,Vd;
Dc.length<nc?Dc.push(rd):(Vd=~~((lc+1)*q.random()),Vd<Dc.length&&Vd>=ld&&(Hd=Dc[Vd],Hc[p.tupleid(Hd)]&&Jb.rem.push(Hd),Dc[Vd]=rd));++lc}const Jb=Za.fork(Za.NO_SOURCE);var fc=za.modified("size");const nc=za.size,Hc=this.value.reduce((rd,Hd)=>(rd[p.tupleid(Hd)]=1,rd),{});let Dc=this.value,lc=this.count,ld=0;Za.rem.length&&(Za.visit(Za.REM,rd=>{const Hd=p.tupleid(rd);Hc[Hd]&&(Hc[Hd]=-1,Jb.rem.push(rd));--lc}),Dc=Dc.filter(rd=>-1!==Hc[p.tupleid(rd)]));(Za.rem.length||fc)&&Dc.length<nc&&Za.source&&(ld=
lc=Dc.length,Za.visit(Za.SOURCE,rd=>{Hc[p.tupleid(rd)]||tb(rd)}),ld=-1);if(fc&&Dc.length>nc){za=Dc.length-nc;for(fc=0;fc<za;++fc)Hc[p.tupleid(Dc[fc])]=-1,Jb.rem.push(Dc[fc]);Dc=Dc.slice(za)}Za.mod.length&&Za.visit(Za.MOD,rd=>{Hc[p.tupleid(rd)]&&Jb.mod.push(rd)});Za.add.length&&Za.visit(Za.ADD,tb);if(Za.add.length||0>ld)Jb.add=Dc.filter(rd=>!Hc[p.tupleid(rd)]);this.count=lc;this.value=Jb.source=Dc;return Jb}});va.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",
type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number","default":1},{name:"as",type:"string","default":"data"}]};k.inherits(va,p.Transform,{transform(za,Za){if(!this.value||za.modified()){var tb=Za.materialize().fork(Za.MOD),Jb=za.as||"data";tb.rem=this.value?Za.rem.concat(this.value):Za.rem;this.value=sa(za.start,za.stop,za.step||1).map(fc=>{const nc={};nc[Jb]=fc;return p.ingest(nc)});tb.add=Za.add.concat(this.value);return tb}}});k.inherits(Ca,p.Transform,
{transform(za,Za){this.value=Za.source;return Za.changed()?Za.fork(Za.NO_SOURCE|Za.NO_FIELDS):Za.StopPropagation}});const qf=["unit0","unit1"];$a.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean","default":!0},{name:"units",type:"enum",values:t.TIME_UNITS,array:!0},{name:"step",type:"number","default":1},{name:"maxbins",type:"number","default":40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum","default":"local",
values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,"default":qf}]};k.inherits($a,p.Transform,{transform(za,Za){const tb=za.field,Jb=!1!==za.interval;var fc="utc"===za.timezone;const nc=this._floor(za,Za),Hc=(fc?t.utcInterval:t.timeInterval)(nc.unit).offset;fc=za.as||qf;const Dc=fc[0],lc=fc[1],ld=nc.step;let rd=nc.start||Infinity,Hd=nc.stop||-Infinity,Vd=Za.ADD;if(za.modified()||Za.changed(Za.REM)||Za.modified(k.accessorFields(tb)))Za=Za.reflow(!0),Vd=Za.SOURCE,rd=Infinity,Hd=-Infinity;
Za.visit(Vd,ce=>{var he=tb(ce);let Ce;null==he?(ce[Dc]=null,Jb&&(ce[lc]=null)):(ce[Dc]=he=Ce=nc(he),Jb&&(ce[lc]=Ce=Hc(he,ld)),he<rd&&(rd=he),Ce>Hd&&(Hd=Ce))});nc.start=rd;nc.stop=Hd;return Za.modifies(Jb?fc:Dc)},_floor(za,Za){var tb="utc"===za.timezone;const {units:Jb,step:fc}=za.units?{units:za.units,step:za.step||1}:t.timeBin({extent:za.extent||k.extent(Za.materialize(Za.SOURCE).source,za.field),maxbins:za.maxbins});za=t.timeUnits(Jb);Za=this.value||{};tb=(tb?t.utcFloor:t.timeFloor)(za,fc);tb.unit=
k.peek(za);tb.units=za;tb.step=fc;tb.start=Za.start;tb.stop=Za.stop;return this.value=tb}});k.inherits(jb,p.Transform,{transform(za,Za){const tb=Za.dataflow,Jb=za.field,fc=this.value,nc=Dc=>fc.set(Jb(Dc),Dc);let Hc=!0;za.modified("field")||Za.modified(Jb.fields)?(fc.clear(),Za.visit(Za.SOURCE,nc)):Za.changed()?(Za.visit(Za.REM,Dc=>fc.delete(Jb(Dc))),Za.visit(Za.ADD,nc)):Hc=!1;this.modified(Hc);fc.empty>tb.cleanThreshold&&tb.runAfter(fc.clean);return Za.fork()}});k.inherits(yb,p.Transform,{transform(za,
Za){if(!this.value||za.modified("field")||za.modified("sort")||Za.changed()||za.sort&&Za.modified(za.sort.fields))this.value=(za.sort?Za.source.slice().sort(p.stableCompare(za.sort)):Za.source).map(za.field)}});const gf={row_number:function(){return{next:za=>za.index+1}},rank:function(){let za;return{init:()=>za=1,next:Za=>{const tb=Za.index,Jb=Za.data;return tb&&Za.compare(Jb[tb-1],Jb[tb])?za=tb+1:za}}},dense_rank:function(){let za;return{init:()=>za=1,next:Za=>{const tb=Za.index,Jb=Za.data;return tb&&
Za.compare(Jb[tb-1],Jb[tb])?++za:za}}},percent_rank:function(){const za=gf.rank(),Za=za.next;return{init:za.init,next:tb=>(Za(tb)-1)/(tb.data.length-1)}},cume_dist:function(){let za;return{init:()=>za=0,next:Za=>{const tb=Za.data,Jb=Za.compare;Za=Za.index;if(za<Za){for(;Za+1<tb.length&&!Jb(tb[Za],tb[Za+1]);)++Za;za=Za}return(1+za)/tb.length}}},ntile:function(za,Za){Za=+Za;0<Za||k.error("ntile num must be greater than zero.");za=gf.cume_dist();const tb=za.next;return{init:za.init,next:Jb=>Math.ceil(Za*
tb(Jb))}},lag:function(za,Za){Za=+Za||1;return{next:tb=>{const Jb=tb.index-Za;return 0<=Jb?za(tb.data[Jb]):null}}},lead:function(za,Za){Za=+Za||1;return{next:tb=>{const Jb=tb.index+Za;tb=tb.data;return Jb<tb.length?za(tb[Jb]):null}}},first_value:function(za){return{next:Za=>za(Za.data[Za.i0])}},last_value:function(za){return{next:Za=>za(Za.data[Za.i1-1])}},nth_value:function(za,Za){Za=+Za;0<Za||k.error("nth_value nth must be greater than zero.");return{next:tb=>{const Jb=tb.i0+(Za-1);return Jb<tb.i1?
za(tb.data[Jb]):null}}},prev_value:function(za){let Za;return{init:()=>Za=null,next:tb=>{tb=za(tb.data[tb.index]);return null!=tb?Za=tb:Za}}},next_value:function(za){let Za,tb;return{init:()=>(Za=null,tb=-1),next:Jb=>{var fc=Jb.data;if(Jb.index<=tb)fc=Za;else{a:{Jb=Jb.index;for(let nc=fc.length;Jb<nc;++Jb)if(null!=za(fc[Jb]))break a;Jb=-1}fc=0>(tb=Jb)?(tb=fc.length,Za=null):Za=za(fc[tb])}return fc}}}},te=Object.keys(gf),We=Tb.prototype;We.init=function(){this.windows.forEach(za=>za.init());this.cell&&
this.cell.init()};We.update=function(za,Za){const tb=this.cell,Jb=this.windows,fc=za.data,nc=Jb&&Jb.length;let Hc;if(tb){for(Hc=za.p0;Hc<za.i0;++Hc)tb.rem(fc[Hc]);for(Hc=za.p1;Hc<za.i1;++Hc)tb.add(fc[Hc]);tb.set(Za)}for(Hc=0;Hc<nc;++Hc)Jb[Hc].update(za,Za)};Ic.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:te.concat(Nd)},{name:"params",type:"number","null":!0,array:!0},{name:"fields",
type:"field","null":!0,array:!0},{name:"as",type:"string","null":!0,array:!0},{name:"frame",type:"number","null":!0,array:!0,length:2,"default":[null,0]},{name:"ignorePeers",type:"boolean","default":!1}]};k.inherits(Ic,p.Transform,{transform(za,Za){this.stamp=Za.stamp;const tb=za.modified(),Jb=p.stableCompare(za.sort),fc=f(za.groupby),nc=Dc=>this.group(fc(Dc));let Hc=this.state;if(!Hc||tb)Hc=this.state=new Tb(za);tb||Za.modified(Hc.inputs)?(this.value={},Za.visit(Za.SOURCE,Dc=>nc(Dc).add(Dc))):(Za.visit(Za.REM,
Dc=>nc(Dc).remove(Dc)),Za.visit(Za.ADD,Dc=>nc(Dc).add(Dc)));for(let Dc=0,lc=this._mlen;Dc<lc;++Dc)$c(this._mods[Dc],Hc,Jb,za);this._mlen=0;this._mods=[];return Za.reflow(tb).modifies(Hc.outputs)},group(za){let Za=this.value[za];Za||(Za=this.value[za]=C(p.tupleid),Za.stamp=-1);Za.stamp<this.stamp&&(Za.stamp=this.stamp,this._mods[this._mlen++]=Za);return Za}});w.aggregate=I;w.bin=F;w.collect=r;w.compare=y;w.countpattern=R;w.cross=S;w.density=M;w.dotbin=Ga;w.expression=X;w.extent=B;w.facet=Z;w.field=
Aa;w.filter=la;w.flatten=Ja;w.fold=bb;w.formula=ib;w.generate=Ma;w.impute=Oa;w.joinaggregate=ua;w.kde=Ta;w.key=eb;w.load=nb;w.lookup=Gc;w.multiextent=zc;w.multivalues=uc;w.params=Hb;w.pivot=Ab;w.prefacet=Kc;w.project=Fc;w.proxy=Sc;w.quantile=jd;w.relay=$d;w.sample=Ba;w.sequence=va;w.sieve=Ca;w.subflow=N;w.timeunit=$a;w.tupleindex=jb;w.values=yb;w.window=Ic;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[26]=function(Ka,L,sb,A){!function(w,k){"object"==typeof A&&"undefined"!=typeof sb?k(A):"function"==typeof define&&define.amd?define(["exports"],k):k((w="undefined"!=typeof globalThis?globalThis:w||self).vega={})}(this,function(w){function k(p,q){if("undefined"!=typeof document&&document.createElement){const t=document.createElement("canvas");if(t&&t.getContext)return t.width=p,t.height=q,t}return null}w.canvas=k;w.domCanvas=k;w.image=()=>"undefined"!=typeof Image?Image:null;Object.defineProperty(w,
"__esModule",{value:!0})})};
shadow$provide[27]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(16)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-time"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(ia,Na,Sa){Na=ia-Na+2*Sa;return ia?0<Na?Na:1:0}function t(ia){return function(Na){let Sa=Na[0];Na=Na[1];let ub;Na<Sa&&(ub=Sa,Sa=Na,Na=ub);return[ia.invert(Sa),ia.invert(Na)]}}function n(ia){return function(Na){const Sa=
ia.range();let ub=Na[0];Na=Na[1];let Zb=-1,ac;let jc;if(Na<ub){var Ac=ub;ub=Na;Na=Ac}Ac=0;for(jc=Sa.length;Ac<jc;++Ac)Sa[Ac]>=ub&&Sa[Ac]<=Na&&(0>Zb&&(Zb=Ac),ac=Ac);if(!(0>Zb))return ub=ia.invertExtent(Sa[Zb]),Na=ia.invertExtent(Sa[ac]),[void 0===ub[0]?ub[1]:ub[0],void 0===Na[1]?Na[0]:Na[1]]}}function f(ia,Na){return null==ia||null==Na?NaN:ia<Na?-1:ia>Na?1:ia>=Na?0:NaN}function b(ia){function Na(ac,jc,Ac=0,hd=ac.length){if(Ac<hd){if(0!==ub(jc,jc))return hd;do{const Ld=Ac+hd>>>1;0>Zb(ac[Ld],jc)?Ac=
Ld+1:hd=Ld}while(Ac<hd)}return Ac}let Sa=ia,ub=ia,Zb=ia;2!==ia.length&&(Sa=(ac,jc)=>ia(ac)-jc,ub=f,Zb=(ac,jc)=>f(ia(ac),jc));return{left:Na,center:function(ac,jc,Ac=0,hd=ac.length){hd=Na(ac,jc,Ac,hd-1);return hd>Ac&&Sa(ac[hd-1],jc)>-Sa(ac[hd],jc)?hd-1:hd},right:function(ac,jc,Ac=0,hd=ac.length){if(Ac<hd){if(0!==ub(jc,jc))return hd;do{const Ld=Ac+hd>>>1;0>=Zb(ac[Ld],jc)?Ac=Ld+1:hd=Ld}while(Ac<hd)}return Ac}}}function c(ia){return null===ia?NaN:+ia}function e({_intern:ia,_key:Na},Sa){Na=Na(Sa);return ia.has(Na)?
ia.get(Na):Sa}function g({_intern:ia,_key:Na},Sa){Na=Na(Sa);if(ia.has(Na))return ia.get(Na);ia.set(Na,Sa);return Sa}function m({_intern:ia,_key:Na},Sa){Na=Na(Sa);ia.has(Na)&&(Sa=ia.get(Na),ia.delete(Na));return Sa}function h(ia){return null!==ia&&"object"===typeof ia?ia.valueOf():ia}function x(ia,Na,Sa){var ub,Zb=-1,ac;Na=+Na;ia=+ia;Sa=+Sa;if(ia===Na&&0<Sa)return[ia];if(ub=Na<ia){var jc=ia;ia=Na;Na=jc}if(0===(ac=O(ia,Na,Sa))||!isFinite(ac))return[];if(0<ac)for(Sa=Math.round(ia/ac),jc=Math.round(Na/
ac),Sa*ac<ia&&++Sa,jc*ac>Na&&--jc,ia=Array(jc=jc-Sa+1);++Zb<jc;)ia[Zb]=(Sa+Zb)*ac;else for(ac=-ac,Sa=Math.round(ia*ac),jc=Math.round(Na*ac),Sa/ac<ia&&++Sa,jc/ac>Na&&--jc,ia=Array(jc=jc-Sa+1);++Zb<jc;)ia[Zb]=(Sa+Zb)/ac;ub&&ia.reverse();return ia}function O(ia,Na,Sa){Na=(Na-ia)/Math.max(0,Sa);ia=Math.floor(Math.log(Na)/Math.LN10);Na/=Math.pow(10,ia);return 0<=ia?(Na>=Cc?10:Na>=Zc?5:Na>=Xc?2:1)*Math.pow(10,ia):-Math.pow(10,-ia)/(Na>=Cc?10:Na>=Zc?5:Na>=Xc?2:1)}function G(ia,Na,Sa){var ub=Math.abs(Na-
ia)/Math.max(0,Sa);Sa=Math.pow(10,Math.floor(Math.log(ub)/Math.LN10));ub/=Sa;ub>=Cc?Sa*=10:ub>=Zc?Sa*=5:ub>=Xc&&(Sa*=2);return Na<ia?-Sa:Sa}function I(ia,Na,Sa=c){if(ub=ia.length){if(0>=(Na=+Na)||2>ub)return+Sa(ia[0],0,ia);if(1<=Na)return+Sa(ia[ub-1],ub-1,ia);var ub;Na*=ub-1;ub=Math.floor(Na);var Zb=+Sa(ia[ub],ub,ia);ia=+Sa(ia[ub+1],ub+1,ia);return Zb+(ia-Zb)*(Na-ub)}}function F(ia,Na,Sa){ia=+ia;Na=+Na;Sa=2>(Zb=arguments.length)?(Na=ia,ia=0,1):3>Zb?1:+Sa;for(var ub=-1,Zb=Math.max(0,Math.ceil((Na-
ia)/Sa))|0,ac=Array(Zb);++ub<Zb;)ac[ub]=ia+ub*Sa;return ac}function C(ia,Na){switch(arguments.length){case 0:break;case 1:this.range(ia);break;default:this.range(Na).domain(ia)}return this}function r(ia,Na){switch(arguments.length){case 0:break;case 1:"function"===typeof ia?this.interpolator(ia):this.range(ia);break;default:this.domain(ia),"function"===typeof Na?this.interpolator(Na):this.range(Na)}return this}function y(){function ia(ac){let jc=Na.get(ac);if(void 0===jc){if(Zb!==td)return Zb;Na.set(ac,
jc=Sa.push(ac)-1)}return ub[jc%ub.length]}var Na=new Sb,Sa=[],ub=[],Zb=td;ia.domain=function(ac){if(!arguments.length)return Sa.slice();Sa=[];Na=new Sb;for(const jc of ac)Na.has(jc)||Na.set(jc,Sa.push(jc)-1);return ia};ia.range=function(ac){return arguments.length?(ub=Array.from(ac),ia):ub.slice()};ia.unknown=function(ac){return arguments.length?(Zb=ac,ia):Zb};ia.copy=function(){return y(Sa,ub).unknown(Zb)};C.apply(ia,arguments);return ia}function K(ia,Na,Sa){ia.prototype=Na.prototype=Sa;Sa.constructor=
ia}function R(ia,Na){ia=Object.create(ia.prototype);for(var Sa in Na)ia[Sa]=Na[Sa];return ia}function S(){}function ca(){return this.rgb().formatHex()}function M(){return this.rgb().formatRgb()}function aa(ia){var Na,Sa;ia=(ia+"").trim().toLowerCase();return(Na=we.exec(ia))?(Sa=Na[1].length,Na=parseInt(Na[1],16),6===Sa?Y(Na):3===Sa?new D(Na>>8&15|Na>>4&240,Na>>4&15|Na&240,(Na&15)<<4|Na&15,1):8===Sa?ea(Na>>24&255,Na>>16&255,Na>>8&255,(Na&255)/255):4===Sa?ea(Na>>12&15|Na>>8&240,Na>>8&15|Na>>4&240,Na>>
4&15|Na&240,((Na&15)<<4|Na&15)/255):null):(Na=bf.exec(ia))?new D(Na[1],Na[2],Na[3],1):(Na=zf.exec(ia))?new D(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,1):(Na=Mf.exec(ia))?ea(Na[1],Na[2],Na[3],Na[4]):(Na=Oe.exec(ia))?ea(255*Na[1]/100,255*Na[2]/100,255*Na[3]/100,Na[4]):(Na=Qf.exec(ia))?Aa(Na[1],Na[2]/100,Na[3]/100,1):(Na=qg.exec(ia))?Aa(Na[1],Na[2]/100,Na[3]/100,Na[4]):jh.hasOwnProperty(ia)?Y(jh[ia]):"transparent"===ia?new D(NaN,NaN,NaN,0):null}function Y(ia){return new D(ia>>16&255,ia>>8&255,ia&255,
1)}function ea(ia,Na,Sa,ub){0>=ub&&(ia=Na=Sa=NaN);return new D(ia,Na,Sa,ub)}function Ga(ia){ia instanceof S||(ia=aa(ia));if(!ia)return new D;ia=ia.rgb();return new D(ia.r,ia.g,ia.b,ia.opacity)}function X(ia,Na,Sa,ub){return 1===arguments.length?Ga(ia):new D(ia,Na,Sa,null==ub?1:ub)}function D(ia,Na,Sa,ub){this.r=+ia;this.g=+Na;this.b=+Sa;this.opacity=+ub}function B(){return"#"+Z(this.r)+Z(this.g)+Z(this.b)}function N(){var ia=this.opacity;ia=isNaN(ia)?1:Math.max(0,Math.min(1,ia));return(1===ia?"rgb(":
"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===ia?")":", "+ia+")")}function Z(ia){ia=Math.max(0,Math.min(255,Math.round(ia)||0));return(16>ia?"0":"")+ia.toString(16)}function Aa(ia,Na,Sa,ub){0>=ub?ia=Na=Sa=NaN:0>=Sa||1<=Sa?ia=Na=NaN:0>=Na&&(ia=NaN);return new Ja(ia,Na,Sa,ub)}function qa(ia){if(ia instanceof Ja)return new Ja(ia.h,ia.s,ia.l,ia.opacity);ia instanceof S||(ia=aa(ia));
if(!ia)return new Ja;if(ia instanceof Ja)return ia;ia=ia.rgb();var Na=ia.r/255,Sa=ia.g/255,ub=ia.b/255,Zb=Math.min(Na,Sa,ub),ac=Math.max(Na,Sa,ub),jc=NaN,Ac=ac-Zb,hd=(ac+Zb)/2;Ac?(jc=Na===ac?(Sa-ub)/Ac+6*(Sa<ub):Sa===ac?(ub-Na)/Ac+2:(Na-Sa)/Ac+4,Ac/=.5>hd?ac+Zb:2-ac-Zb,jc*=60):Ac=0<hd&&1>hd?0:jc;return new Ja(jc,Ac,hd,ia.opacity)}function la(ia,Na,Sa,ub){return 1===arguments.length?qa(ia):new Ja(ia,Na,Sa,null==ub?1:ub)}function Ja(ia,Na,Sa,ub){this.h=+ia;this.s=+Na;this.l=+Sa;this.opacity=+ub}function bb(ia,
Na,Sa){return 255*(60>ia?Na+(Sa-Na)*ia/60:180>ia?Sa:240>ia?Na+(Sa-Na)*(240-ia)/60:Na)}function ib(ia){if(ia instanceof ma)return new ma(ia.l,ia.a,ia.b,ia.opacity);if(ia instanceof Ua)return fb(ia);ia instanceof D||(ia=Ga(ia));var Na=ya(ia.r),Sa=ya(ia.g),ub=ya(ia.b),Zb=Fa(.2225045*Na+.7168786*Sa+.0606169*ub);if(Na===Sa&&Sa===ub)var ac=Na=Zb;else ac=Fa((.4360747*Na+.3850649*Sa+.1430804*ub)/.96422),Na=Fa((.0139322*Na+.0971045*Sa+.7141733*ub)/.82521);return new ma(116*Zb-16,500*(ac-Zb),200*(Zb-Na),ia.opacity)}
function Ma(ia,Na,Sa,ub){return 1===arguments.length?ib(ia):new ma(ia,Na,Sa,null==ub?1:ub)}function ma(ia,Na,Sa,ub){this.l=+ia;this.a=+Na;this.b=+Sa;this.opacity=+ub}function Fa(ia){return ia>rg?Math.pow(ia,1/3):ia/bg+Bf}function Ra(ia){return ia>jg?ia*ia*ia:bg*(ia-Bf)}function ra(ia){return 255*(.0031308>=ia?12.92*ia:1.055*Math.pow(ia,1/2.4)-.055)}function ya(ia){return.04045>=(ia/=255)?ia/12.92:Math.pow((ia+.055)/1.055,2.4)}function oa(ia){if(ia instanceof Ua)return new Ua(ia.h,ia.c,ia.l,ia.opacity);
ia instanceof ma||(ia=ib(ia));if(0===ia.a&&0===ia.b)return new Ua(NaN,0<ia.l&&100>ia.l?0:NaN,ia.l,ia.opacity);var Na=Math.atan2(ia.b,ia.a)*dg;return new Ua(0>Na?Na+360:Na,Math.sqrt(ia.a*ia.a+ia.b*ia.b),ia.l,ia.opacity)}function xa(ia,Na,Sa,ub){return 1===arguments.length?oa(ia):new Ua(ia,Na,Sa,null==ub?1:ub)}function Ua(ia,Na,Sa,ub){this.h=+ia;this.c=+Na;this.l=+Sa;this.opacity=+ub}function fb(ia){if(isNaN(ia.h))return new ma(ia.l,0,0,ia.opacity);var Na=ia.h*ch;return new ma(ia.l,Math.cos(Na)*ia.c,
Math.sin(Na)*ia.c,ia.opacity)}function sa(ia,Na,Sa,ub){if(1===arguments.length){var Zb=ia;if(Zb instanceof Oa)Zb=new Oa(Zb.h,Zb.s,Zb.l,Zb.opacity);else{Zb instanceof D||(Zb=Ga(Zb));var ac=Zb.g/255,jc=Zb.b/255,Ac=(wh*jc+Zb.r/255*-1.7884503806-3.5172982438*ac)/(wh+-1.7884503806-3.5172982438);jc-=Ac;var hd=(1.97294*(ac-Ac)- -.29227*jc)/-.90649;jc=(ac=Math.sqrt(hd*hd+jc*jc)/(1.97294*Ac*(1-Ac)))?Math.atan2(hd,jc)*dg-120:NaN;Zb=new Oa(0>jc?jc+360:jc,ac,Ac,Zb.opacity)}}else Zb=new Oa(ia,Na,Sa,null==ub?1:
ub);return Zb}function Oa(ia,Na,Sa,ub){this.h=+ia;this.s=+Na;this.l=+Sa;this.opacity=+ub}function ja(ia,Na,Sa,ub,Zb){var ac=ia*ia,jc=ac*ia;return((1-3*ia+3*ac-jc)*Na+(4-6*ac+3*jc)*Sa+(1+3*ia+3*ac-3*jc)*ub+jc*Zb)/6}function U(ia){var Na=ia.length-1;return function(Sa){var ub=0>=Sa?Sa=0:1<=Sa?(Sa=1,Na-1):Math.floor(Sa*Na),Zb=ia[ub],ac=ia[ub+1];return ja((Sa-ub/Na)*Na,0<ub?ia[ub-1]:2*Zb-ac,Zb,ac,ub<Na-1?ia[ub+2]:2*ac-Zb)}}function ka(ia){var Na=ia.length;return function(Sa){var ub=Math.floor((0>(Sa%=
1)?++Sa:Sa)*Na);return ja((Sa-ub/Na)*Na,ia[(ub+Na-1)%Na],ia[ub%Na],ia[(ub+1)%Na],ia[(ub+2)%Na])}}function ua(ia,Na){return function(Sa){return ia+Sa*Na}}function Ta(ia,Na,Sa){return ia=Math.pow(ia,Sa),Na=Math.pow(Na,Sa)-ia,Sa=1/Sa,function(ub){return Math.pow(ia+ub*Na,Sa)}}function eb(ia,Na){var Sa=Na-ia;return Sa?ua(ia,180<Sa||-180>Sa?Sa-360*Math.round(Sa/360):Sa):Og(isNaN(ia)?Na:ia)}function lb(ia){return 1===(ia=+ia)?nb:function(Na,Sa){return Sa-Na?Ta(Na,Sa,ia):Og(isNaN(Na)?Sa:Na)}}function nb(ia,
Na){var Sa=Na-ia;return Sa?ua(ia,Sa):Og(isNaN(ia)?Na:ia)}function Mb(ia){return function(Na){var Sa=Na.length,ub=Array(Sa),Zb=Array(Sa),ac=Array(Sa),jc;for(jc=0;jc<Sa;++jc){var Ac=X(Na[jc]);ub[jc]=Ac.r||0;Zb[jc]=Ac.g||0;ac[jc]=Ac.b||0}ub=ia(ub);Zb=ia(Zb);ac=ia(ac);Ac.opacity=1;return function(hd){Ac.r=ub(hd);Ac.g=Zb(hd);Ac.b=ac(hd);return Ac+""}}}function $b(ia,Na){Na||(Na=[]);var Sa=ia?Math.min(Na.length,ia.length):0,ub=Na.slice(),Zb;return function(ac){for(Zb=0;Zb<Sa;++Zb)ub[Zb]=ia[Zb]*(1-ac)+Na[Zb]*
ac;return ub}}function Gc(ia){return ArrayBuffer.isView(ia)&&!(ia instanceof DataView)}function zc(ia,Na){var Sa=Na?Na.length:0,ub=ia?Math.min(Sa,ia.length):0,Zb=Array(ub),ac=Array(Sa),jc;for(jc=0;jc<ub;++jc)Zb[jc]=Wb(ia[jc],Na[jc]);for(;jc<Sa;++jc)ac[jc]=Na[jc];return function(Ac){for(jc=0;jc<ub;++jc)ac[jc]=Zb[jc](Ac);return ac}}function Bc(ia,Na){var Sa=new Date;return ia=+ia,Na=+Na,function(ub){return Sa.setTime(ia*(1-ub)+Na*ub),Sa}}function uc(ia,Na){return ia=+ia,Na=+Na,function(Sa){return ia*
(1-Sa)+Na*Sa}}function id(ia,Na){var Sa={},ub={},Zb;if(null===ia||"object"!==typeof ia)ia={};if(null===Na||"object"!==typeof Na)Na={};for(Zb in Na)Zb in ia?Sa[Zb]=Wb(ia[Zb],Na[Zb]):ub[Zb]=Na[Zb];return function(ac){for(Zb in Sa)ub[Zb]=Sa[Zb](ac);return ub}}function Hb(ia){return function(){return ia}}function Ab(ia){return function(Na){return ia(Na)+""}}function dc(ia,Na){var Sa=$h.lastIndex=ef.lastIndex=0,ub,Zb,ac,jc=-1,Ac=[],hd=[];ia+="";for(Na+="";(ub=$h.exec(ia))&&(Zb=ef.exec(Na));)(ac=Zb.index)>
Sa&&(ac=Na.slice(Sa,ac),Ac[jc]?Ac[jc]+=ac:Ac[++jc]=ac),(ub=ub[0])===(Zb=Zb[0])?Ac[jc]?Ac[jc]+=Zb:Ac[++jc]=Zb:(Ac[++jc]=null,hd.push({i:jc,x:uc(ub,Zb)})),Sa=ef.lastIndex;Sa<Na.length&&(ac=Na.slice(Sa),Ac[jc]?Ac[jc]+=ac:Ac[++jc]=ac);return 2>Ac.length?hd[0]?Ab(hd[0].x):Hb(Na):(Na=hd.length,function(Ld){for(var be=0,kd;be<Na;++be)Ac[(kd=hd[be]).i]=kd.x(Ld);return Ac.join("")})}function Wb(ia,Na){var Sa=typeof Na,ub;return null==Na||"boolean"===Sa?Og(Na):("number"===Sa?uc:"string"===Sa?(ub=aa(Na))?(Na=
ub,zh):dc:Na instanceof aa?zh:Na instanceof Date?Bc:Gc(Na)?$b:Array.isArray(Na)?zc:"function"!==typeof Na.valueOf&&"function"!==typeof Na.toString||isNaN(Na)?id:uc)(ia,Na)}function mc(ia,Na){return ia=+ia,Na=+Na,function(Sa){return Math.round(ia*(1-Sa)+Na*Sa)}}function Kc(ia,Na,Sa,ub,Zb,ac){var jc,Ac,hd;if(jc=Math.sqrt(ia*ia+Na*Na))ia/=jc,Na/=jc;if(hd=ia*Sa+Na*ub)Sa-=ia*hd,ub-=Na*hd;if(Ac=Math.sqrt(Sa*Sa+ub*ub))Sa/=Ac,ub/=Ac,hd/=Ac;ia*ub<Na*Sa&&(ia=-ia,Na=-Na,hd=-hd,jc=-jc);return{translateX:Zb,translateY:ac,
rotate:Math.atan2(Na,ia)*Ch,skewX:Math.atan(hd)*Ch,scaleX:jc,scaleY:Ac}}function Fc(ia,Na,Sa,ub){function Zb(Ld){return Ld.length?Ld.pop()+" ":""}function ac(Ld,be,kd,oe,Qe,xf){Ld!==kd||be!==oe?(Qe=Qe.push("translate(",null,Na,null,Sa),xf.push({i:Qe-4,x:uc(Ld,kd)},{i:Qe-2,x:uc(be,oe)})):(kd||oe)&&Qe.push("translate("+kd+Na+oe+Sa)}function jc(Ld,be,kd,oe){Ld!==be?(180<Ld-be?be+=360:180<be-Ld&&(Ld+=360),oe.push({i:kd.push(Zb(kd)+"rotate(",null,ub)-2,x:uc(Ld,be)})):be&&kd.push(Zb(kd)+"rotate("+be+ub)}
function Ac(Ld,be,kd,oe){Ld!==be?oe.push({i:kd.push(Zb(kd)+"skewX(",null,ub)-2,x:uc(Ld,be)}):be&&kd.push(Zb(kd)+"skewX("+be+ub)}function hd(Ld,be,kd,oe,Qe,xf){Ld!==kd||be!==oe?(Qe=Qe.push(Zb(Qe)+"scale(",null,",",null,")"),xf.push({i:Qe-4,x:uc(Ld,kd)},{i:Qe-2,x:uc(be,oe)})):1===kd&&1===oe||Qe.push(Zb(Qe)+"scale("+kd+","+oe+")")}return function(Ld,be){var kd=[],oe=[];Ld=ia(Ld);be=ia(be);ac(Ld.translateX,Ld.translateY,be.translateX,be.translateY,kd,oe);jc(Ld.rotate,be.rotate,kd,oe);Ac(Ld.skewX,be.skewX,
kd,oe);hd(Ld.scaleX,Ld.scaleY,be.scaleX,be.scaleY,kd,oe);Ld=be=null;return function(Qe){for(var xf=-1,Me=oe.length,$f;++xf<Me;)kd[($f=oe[xf]).i]=$f.x(Qe);return kd.join("")}}}function Sc(ia){return((ia=Math.exp(ia))+1/ia)/2}function jd(ia){return function(Na,Sa){var ub=ia((Na=la(Na)).h,(Sa=la(Sa)).h),Zb=nb(Na.s,Sa.s),ac=nb(Na.l,Sa.l),jc=nb(Na.opacity,Sa.opacity);return function(Ac){Na.h=ub(Ac);Na.s=Zb(Ac);Na.l=ac(Ac);Na.opacity=jc(Ac);return Na+""}}}function $d(ia){return function(Na,Sa){var ub=ia((Na=
xa(Na)).h,(Sa=xa(Sa)).h),Zb=nb(Na.c,Sa.c),ac=nb(Na.l,Sa.l),jc=nb(Na.opacity,Sa.opacity);return function(Ac){Na.h=ub(Ac);Na.c=Zb(Ac);Na.l=ac(Ac);Na.opacity=jc(Ac);return Na+""}}}function Ba(ia){return function ub(Sa){function Zb(ac,jc){var Ac=ia((ac=sa(ac)).h,(jc=sa(jc)).h),hd=nb(ac.s,jc.s),Ld=nb(ac.l,jc.l),be=nb(ac.opacity,jc.opacity);return function(kd){ac.h=Ac(kd);ac.s=hd(kd);ac.l=Ld(Math.pow(kd,Sa));ac.opacity=be(kd);return ac+""}}Sa=+Sa;Zb.gamma=ub;return Zb}(1)}function va(ia,Na){void 0===Na&&
(Na=ia,ia=Wb);for(var Sa=0,ub=Na.length-1,Zb=Na[0],ac=Array(0>ub?0:ub);Sa<ub;)ac[Sa]=ia(Zb,Zb=Na[++Sa]);return function(jc){var Ac=Math.max(0,Math.min(ub-1,Math.floor(jc*=ub)));return ac[Ac](jc-Ac)}}function Ca(ia){return function(){return ia}}function $a(ia){return+ia}function jb(ia){return ia}function yb(ia,Na){return(Na-=ia=+ia)?function(Sa){return(Sa-ia)/Na}:Ca(isNaN(Na)?NaN:.5)}function Ub(ia,Na){if(ia>Na){var Sa=ia;ia=Na;Na=Sa}return function(ub){return Math.max(ia,Math.min(Na,ub))}}function Tb(ia,
Na,Sa){var ub=ia[0];ia=ia[1];var Zb=Na[0];Na=Na[1];ia<ub?(ub=yb(ia,ub),Zb=Sa(Na,Zb)):(ub=yb(ub,ia),Zb=Sa(Zb,Na));return function(ac){return Zb(ub(ac))}}function Vb(ia,Na,Sa){var ub=Math.min(ia.length,Na.length)-1,Zb=Array(ub),ac=Array(ub),jc=-1;ia[ub]<ia[0]&&(ia=ia.slice().reverse(),Na=Na.slice().reverse());for(;++jc<ub;)Zb[jc]=yb(ia[jc],ia[jc+1]),ac[jc]=Sa(Na[jc],Na[jc+1]);return function(Ac){var hd=Db(ia,Ac,1,ub)-1;return ac[hd](Zb[hd](Ac))}}function Ic(ia,Na){return Na.domain(ia.domain()).range(ia.range()).interpolate(ia.interpolate()).clamp(ia.clamp()).unknown(ia.unknown())}
function $c(){function ia(){var oe=Math.min(Sa.length,ub.length);hd!==jb&&(hd=Ub(Sa[0],Sa[oe-1]));Ld=2<oe?Vb:Tb;be=kd=null;return Na}function Na(oe){return null==oe||isNaN(oe=+oe)?Ac:(be||(be=Ld(Sa.map(ac),ub,Zb)))(ac(hd(oe)))}var Sa=fg,ub=fg,Zb=Wb,ac,jc,Ac,hd=jb,Ld,be,kd;Na.invert=function(oe){return hd(jc((kd||(kd=Ld(ub,Sa.map(ac),uc)))(oe)))};Na.domain=function(oe){return arguments.length?(Sa=Array.from(oe,$a),ia()):Sa.slice()};Na.range=function(oe){return arguments.length?(ub=Array.from(oe),ia()):
ub.slice()};Na.rangeRound=function(oe){return ub=Array.from(oe),Zb=mc,ia()};Na.clamp=function(oe){return arguments.length?(hd=oe?!0:jb,ia()):hd!==jb};Na.interpolate=function(oe){return arguments.length?(Zb=oe,ia()):Zb};Na.unknown=function(oe){return arguments.length?(Ac=oe,Na):Ac};return function(oe,Qe){ac=oe;jc=Qe;return ia()}}function dd(ia,Na){if(0>(Na=(ia=Na?ia.toExponential(Na-1):ia.toExponential()).indexOf("e")))return null;var Sa=ia.slice(0,Na);return[1<Sa.length?Sa[0]+Sa.slice(2):Sa,+ia.slice(Na+
1)]}function nd(ia){return ia=dd(Math.abs(ia)),ia?ia[1]:NaN}function xd(ia,Na){return function(Sa,ub){for(var Zb=Sa.length,ac=[],jc=0,Ac=ia[0],hd=0;0<Zb&&0<Ac;){hd+Ac+1>ub&&(Ac=Math.max(1,ub-hd));ac.push(Sa.substring(Zb-=Ac,Zb+Ac));if((hd+=Ac+1)>ub)break;Ac=ia[jc=(jc+1)%ia.length]}return ac.reverse().join(Na)}}function Nd(ia){return function(Na){return Na.replace(/[0-9]/g,function(Sa){return ia[+Sa]})}}function Xd(ia){if(!(Na=ff.exec(ia)))throw Error("invalid format: "+ia);var Na;return new ge({fill:Na[1],
align:Na[2],sign:Na[3],symbol:Na[4],zero:Na[5],width:Na[6],comma:Na[7],precision:Na[8]&&Na[8].slice(1),trim:Na[9],type:Na[10]})}function ge(ia){this.fill=void 0===ia.fill?" ":ia.fill+"";this.align=void 0===ia.align?"\x3e":ia.align+"";this.sign=void 0===ia.sign?"-":ia.sign+"";this.symbol=void 0===ia.symbol?"":ia.symbol+"";this.zero=!!ia.zero;this.width=void 0===ia.width?void 0:+ia.width;this.comma=!!ia.comma;this.precision=void 0===ia.precision?void 0:+ia.precision;this.trim=!!ia.trim;this.type=void 0===
ia.type?"":ia.type+""}function le(ia,Na){Na=dd(ia,Na);if(!Na)return ia+"";ia=Na[0];Na=Na[1];return 0>Na?"0."+Array(-Na).join("0")+ia:ia.length>Na+1?ia.slice(0,Na+1)+"."+ia.slice(Na+1):ia+Array(Na-ia.length+2).join("0")}function qe(ia){return ia}function wd(ia){function Na(be){function kd(ve){var Ve=nf,ye=sg,lg,Eg;if("c"===gh)ye=Jh(ve)+ye,ve="";else{ve=+ve;var yf=0>ve||0>1/ve;ve=isNaN(ve)?Ld:Jh(Math.abs(ve),mh);if($e){var nh=ve.length,yh=1,oi=-1;a:for(;yh<nh;++yh)switch(ve[yh]){case ".":oi=lg=yh;break;
case "0":0===oi&&(oi=yh);lg=yh;break;default:if(!+ve[yh])break a;0<oi&&(oi=0)}ve=0<oi?ve.slice(0,oi)+ve.slice(lg+1):ve}yf&&0===+ve&&"+"!==xf&&(yf=!1);Ve=(yf?"("===xf?xf:hd:"-"===xf||"("===xf?"":xf)+Ve;ye=("s"===gh?Lb[8+Da/3]:"")+ye+(yf&&"("===xf?")":"");if(Ne)for(yf=-1,lg=ve.length;++yf<lg;)if(Eg=ve.charCodeAt(yf),48>Eg||57<Eg){ye=(46===Eg?ac+ve.slice(yf+1):ve.slice(yf))+ye;ve=ve.slice(0,yf);break}}fh&&!$f&&(ve=Sa(ve,Infinity));Eg=Ve.length+ve.length+ye.length;yf=Eg<Dg?Array(Dg-Eg+1).join(oe):"";
fh&&$f&&(ve=Sa(yf+ve,yf.length?Dg-ye.length:Infinity),yf="");switch(Qe){case "\x3c":ve=Ve+ve+ye+yf;break;case "\x3d":ve=Ve+yf+ve+ye;break;case "^":ve=yf.slice(0,Eg=yf.length>>1)+Ve+ve+ye+yf.slice(Eg);break;default:ve=yf+Ve+ve+ye}return jc(ve)}be=Xd(be);var oe=be.fill,Qe=be.align,xf=be.sign,Me=be.symbol,$f=be.zero,Dg=be.width,fh=be.comma,mh=be.precision,$e=be.trim,gh=be.type;"n"===gh?(fh=!0,gh="g"):ab[gh]||(void 0===mh&&(mh=12),$e=!0,gh="g");if($f||"0"===oe&&"\x3d"===Qe)$f=!0,oe="0",Qe="\x3d";var nf=
"$"===Me?ub:"#"===Me&&/[boxX]/.test(gh)?"0"+gh.toLowerCase():"",sg="$"===Me?Zb:/[%p]/.test(gh)?Ac:"",Jh=ab[gh],Ne=/[defgprs%]/.test(gh);mh=void 0===mh?6:/[gprs]/.test(gh)?Math.max(1,Math.min(21,mh)):Math.max(0,Math.min(20,mh));kd.toString=function(){return be+""};return kd}var Sa=void 0===ia.grouping||void 0===ia.thousands?qe:xd(xb.call(ia.grouping,Number),ia.thousands+""),ub=void 0===ia.currency?"":ia.currency[0]+"",Zb=void 0===ia.currency?"":ia.currency[1]+"",ac=void 0===ia.decimal?".":ia.decimal+
"",jc=void 0===ia.numerals?qe:Nd(xb.call(ia.numerals,String)),Ac=void 0===ia.percent?"%":ia.percent+"",hd=void 0===ia.minus?"−":ia.minus+"",Ld=void 0===ia.nan?"NaN":ia.nan+"";return{format:Na,formatPrefix:function(be,kd){var oe=Na((be=Xd(be),be.type="f",be));be=3*Math.max(-8,Math.min(8,Math.floor(nd(kd)/3)));var Qe=Math.pow(10,-be),xf=Lb[8+be/3];return function(Me){return oe(Qe*Me)+xf}}}}function qf(ia,Na,Sa,ub){Sa=G(ia,Na,Sa);ub=Xd(null==ub?",f":ub);switch(ub.type){case "s":ia=Math.max(Math.abs(ia),
Math.abs(Na));if(Na=null==ub.precision){var Zb=isNaN;Sa=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(nd(ia)/3)))-nd(Math.abs(Sa)));Na=!Zb(Zb=Sa)}Na&&(ub.precision=Zb);return Vc(ub,ia);case "":case "e":case "g":case "p":case "r":var ac;if(ac=null==ub.precision)Zb=isNaN,ia=Math.max(Math.abs(ia),Math.abs(Na)),Sa=Math.abs(Sa),ia=Math.abs(ia)-Sa,Sa=Math.max(0,nd(ia)-nd(Sa))+1,ac=!Zb(Zb=Sa);ac&&(ub.precision=Zb-("e"===ub.type));break;case "f":case "%":null!=ub.precision||isNaN(Zb=Math.max(0,-nd(Math.abs(Sa))))||
(ub.precision=Zb-2*("%"===ub.type))}return sc(ub)}function gf(ia){var Na=ia.domain;ia.ticks=function(Sa){var ub=Na();return x(ub[0],ub[ub.length-1],null==Sa?10:Sa)};ia.tickFormat=function(Sa,ub){var Zb=Na();return qf(Zb[0],Zb[Zb.length-1],null==Sa?10:Sa,ub)};ia.nice=function(Sa){null==Sa&&(Sa=10);var ub=Na(),Zb=0,ac=ub.length-1,jc=ub[Zb],Ac=ub[ac],hd=10;if(Ac<jc){var Ld=jc;jc=Ac;Ac=Ld;Ld=Zb;Zb=ac;ac=Ld}for(;0<hd--;){Ld=O(jc,Ac,Sa);if(Ld===be)return ub[Zb]=jc,ub[ac]=Ac,Na(ub);if(0<Ld)jc=Math.floor(jc/
Ld)*Ld,Ac=Math.ceil(Ac/Ld)*Ld;else if(0>Ld)jc=Math.ceil(jc*Ld)/Ld,Ac=Math.floor(Ac*Ld)/Ld;else break;var be=Ld}return ia};return ia}function te(){var ia=$c()(jb,jb);ia.copy=function(){return Ic(ia,te())};C.apply(ia,arguments);return gf(ia)}function We(ia){function Na(ub){return null==ub||isNaN(ub=+ub)?Sa:ub}var Sa;Na.invert=Na;Na.domain=Na.range=function(ub){return arguments.length?(ia=Array.from(ub,$a),Na):ia.slice()};Na.unknown=function(ub){return arguments.length?(Sa=ub,Na):Sa};Na.copy=function(){return We(ia).unknown(Sa)};
ia=arguments.length?Array.from(ia,$a):[0,1];return gf(Na)}function za(ia,Na){ia=ia.slice();var Sa=0,ub=ia.length-1,Zb=ia[Sa],ac=ia[ub];if(ac<Zb){var jc=Sa;Sa=ub;ub=jc;jc=Zb;Zb=ac;ac=jc}ia[Sa]=Na.floor(Zb);ia[ub]=Na.ceil(ac);return ia}function Za(ia){return Math.log(ia)}function tb(ia){return Math.exp(ia)}function Jb(ia){return-Math.log(-ia)}function fc(ia){return-Math.exp(-ia)}function nc(ia){return isFinite(ia)?+("1e"+ia):0>ia?0:ia}function Hc(ia){return 10===ia?nc:ia===Math.E?Math.exp:Na=>Math.pow(ia,
Na)}function Dc(ia){return ia===Math.E?Math.log:10===ia&&Math.log10||2===ia&&Math.log2||(ia=Math.log(ia),Na=>Math.log(Na)/ia)}function lc(ia){return(Na,Sa)=>-ia(-Na,Sa)}function ld(ia){function Na(){ac=Dc(Zb);jc=Hc(Zb);0>ub()[0]?(ac=lc(ac),jc=lc(jc),ia(Jb,fc)):ia(Za,tb);return Sa}const Sa=ia(Za,tb),ub=Sa.domain;let Zb=10,ac,jc;Sa.base=function(Ac){return arguments.length?(Zb=+Ac,Na()):Zb};Sa.domain=function(Ac){return arguments.length?(ub(Ac),Na()):ub()};Sa.ticks=Ac=>{var hd=ub();let Ld=hd[0];hd=
hd[hd.length-1];const be=hd<Ld;be&&([Ld,hd]=[hd,Ld]);let kd=ac(Ld),oe=ac(hd),Qe;const xf=null==Ac?10:+Ac;let Me=[];if(!(Zb%1)&&oe-kd<xf){kd=Math.floor(kd);oe=Math.ceil(oe);if(0<Ld)for(;kd<=oe;++kd)for(Ac=1;Ac<Zb;++Ac){if(Qe=0>kd?Ac/jc(-kd):Ac*jc(kd),!(Qe<Ld)){if(Qe>hd)break;Me.push(Qe)}}else for(;kd<=oe;++kd)for(Ac=Zb-1;1<=Ac;--Ac)if(Qe=0<kd?Ac/jc(-kd):Ac*jc(kd),!(Qe<Ld)){if(Qe>hd)break;Me.push(Qe)}2*Me.length<xf&&(Me=x(Ld,hd,xf))}else Me=x(kd,oe,Math.min(oe-kd,xf)).map(jc);return be?Me.reverse():
Me};Sa.tickFormat=(Ac,hd)=>{null==Ac&&(Ac=10);null==hd&&(hd=10===Zb?"s":",");"function"!==typeof hd&&(Zb%1||null!=(hd=Xd(hd)).precision||(hd.trim=!0),hd=sc(hd));if(Infinity===Ac)return hd;const Ld=Math.max(1,Zb*Ac/Sa.ticks().length);return be=>{let kd=be/jc(Math.round(ac(be)));kd*Zb<Zb-.5&&(kd*=Zb);return kd<=Ld?hd(be):""}};Sa.nice=()=>ub(za(ub(),{floor:Ac=>jc(Math.floor(ac(Ac))),ceil:Ac=>jc(Math.ceil(ac(Ac)))}));return Sa}function rd(){const ia=ld($c()).domain([1,10]);ia.copy=()=>Ic(ia,rd()).base(ia.base());
C.apply(ia,arguments);return ia}function Hd(ia){return function(Na){return Math.sign(Na)*Math.log1p(Math.abs(Na/ia))}}function Vd(ia){return function(Na){return Math.sign(Na)*Math.expm1(Math.abs(Na))*ia}}function ce(ia){var Na=1,Sa=ia(Hd(Na),Vd(Na));Sa.constant=function(ub){return arguments.length?ia(Hd(Na=+ub),Vd(Na)):Na};return gf(Sa)}function he(){var ia=ce($c());ia.copy=function(){return Ic(ia,he()).constant(ia.constant())};return C.apply(ia,arguments)}function Ce(ia){return function(Na){return 0>
Na?-Math.pow(-Na,ia):Math.pow(Na,ia)}}function re(ia){return 0>ia?-Math.sqrt(-ia):Math.sqrt(ia)}function vf(ia){return 0>ia?-ia*ia:ia*ia}function Ge(ia){var Na=ia(jb,jb),Sa=1;Na.exponent=function(ub){return arguments.length?(Sa=+ub,1===Sa?ia(jb,jb):.5===Sa?ia(re,vf):ia(Ce(Sa),Ce(1/Sa))):Sa};return gf(Na)}function Re(){var ia=Ge($c());ia.copy=function(){return Ic(ia,Re()).exponent(ia.exponent())};C.apply(ia,arguments);return ia}function af(){function ia(){var jc=0,Ac=Math.max(1,ub.length);for(Zb=Array(Ac-
1);++jc<Ac;)Zb[jc-1]=I(Sa,jc/Ac);return Na}function Na(jc){return null==jc||isNaN(jc=+jc)?ac:ub[Db(Zb,jc)]}var Sa=[],ub=[],Zb=[],ac;Na.invertExtent=function(jc){jc=ub.indexOf(jc);return 0>jc?[NaN,NaN]:[0<jc?Zb[jc-1]:Sa[0],jc<Zb.length?Zb[jc]:Sa[Sa.length-1]]};Na.domain=function(jc){if(!arguments.length)return Sa.slice();Sa=[];for(let Ac of jc)null==Ac||isNaN(Ac=+Ac)||Sa.push(Ac);Sa.sort(f);return ia()};Na.range=function(jc){return arguments.length?(ub=Array.from(jc),ia()):ub.slice()};Na.unknown=function(jc){return arguments.length?
(ac=jc,Na):ac};Na.quantiles=function(){return Zb.slice()};Na.copy=function(){return af().domain(Sa).range(ub).unknown(ac)};return C.apply(Na,arguments)}function Qb(){function ia(hd){return null!=hd&&hd<=hd?jc[Db(ac,hd,0,Zb)]:Ac}function Na(){var hd=-1;for(ac=Array(Zb);++hd<Zb;)ac[hd]=((hd+1)*ub-(hd-Zb)*Sa)/(Zb+1);return ia}var Sa=0,ub=1,Zb=1,ac=[.5],jc=[0,1],Ac;ia.domain=function(hd){return arguments.length?([Sa,ub]=hd,Sa=+Sa,ub=+ub,Na()):[Sa,ub]};ia.range=function(hd){return arguments.length?(Zb=
(jc=Array.from(hd)).length-1,Na()):jc.slice()};ia.invertExtent=function(hd){hd=jc.indexOf(hd);return 0>hd?[NaN,NaN]:1>hd?[Sa,ac[0]]:hd>=Zb?[ac[Zb-1],ub]:[ac[hd-1],ac[hd]]};ia.unknown=function(hd){return arguments.length?(Ac=hd,ia):ia};ia.thresholds=function(){return ac.slice()};ia.copy=function(){return Qb().domain([Sa,ub]).range(jc).unknown(Ac)};return C.apply(gf(ia),arguments)}function rc(){function ia(ac){return null!=ac&&ac<=ac?Sa[Db(Na,ac,0,Zb)]:ub}var Na=[.5],Sa=[0,1],ub,Zb=1;ia.domain=function(ac){return arguments.length?
(Na=Array.from(ac),Zb=Math.min(Na.length,Sa.length-1),ia):Na.slice()};ia.range=function(ac){return arguments.length?(Sa=Array.from(ac),Zb=Math.min(Na.length,Sa.length-1),ia):Sa.slice()};ia.invertExtent=function(ac){ac=Sa.indexOf(ac);return[Na[ac-1],Na[ac]]};ia.unknown=function(ac){return arguments.length?(ub=ac,ia):ub};ia.copy=function(){return rc().domain(Na).range(Sa).unknown(ub)};return C.apply(ia,arguments)}function bd(ia,Na,Sa,ub){function Zb(ac){return ia(ac=0===arguments.length?new Date:new Date(+ac)),
ac}Zb.floor=function(ac){return ia(ac=new Date(+ac)),ac};Zb.ceil=function(ac){return ia(ac=new Date(ac-1)),Na(ac,1),ia(ac),ac};Zb.round=function(ac){var jc=Zb(ac),Ac=Zb.ceil(ac);return ac-jc<Ac-ac?jc:Ac};Zb.offset=function(ac,jc){return Na(ac=new Date(+ac),null==jc?1:Math.floor(jc)),ac};Zb.range=function(ac,jc,Ac){var hd=[],Ld;ac=Zb.ceil(ac);Ac=null==Ac?1:Math.floor(Ac);if(!(ac<jc&&0<Ac))return hd;do hd.push(Ld=new Date(+ac)),Na(ac,Ac),ia(ac);while(Ld<ac&&ac<jc);return hd};Zb.filter=function(ac){return bd(function(jc){if(jc>=
jc)for(;ia(jc),!ac(jc);)jc.setTime(jc-1)},function(jc,Ac){if(jc>=jc)if(0>Ac)for(;0>=++Ac;)for(;Na(jc,-1),!ac(jc););else for(;0<=--Ac;)for(;Na(jc,1),!ac(jc););})};Sa&&(Zb.count=function(ac,jc){pa.setTime(+ac);Qa.setTime(+jc);ia(pa);ia(Qa);return Math.floor(Sa(pa,Qa))},Zb.every=function(ac){ac=Math.floor(ac);return isFinite(ac)&&0<ac?1<ac?Zb.filter(ub?function(jc){return 0===ub(jc)%ac}:function(jc){return 0===Zb.count(0,jc)%ac}):Zb:null});return Zb}function Ad(ia){return bd(function(Na){Na.setDate(Na.getDate()-
(Na.getDay()+7-ia)%7);Na.setHours(0,0,0,0)},function(Na,Sa){Na.setDate(Na.getDate()+7*Sa)},function(Na,Sa){return(Sa-Na-6E4*(Sa.getTimezoneOffset()-Na.getTimezoneOffset()))/gc})}function wa(ia){return bd(function(Na){Na.setUTCDate(Na.getUTCDate()-(Na.getUTCDay()+7-ia)%7);Na.setUTCHours(0,0,0,0)},function(Na,Sa){Na.setUTCDate(Na.getUTCDate()+7*Sa)},function(Na,Sa){return(Sa-Na)/gc})}function Xa(ia,Na,Sa,ub,Zb,ac){function jc(hd,Ld,be){const kd=Math.abs(Ld-hd)/be,oe=b(([,,Me])=>Me).right(Ac,kd);if(oe===
Ac.length)return ia.every(G(hd/Yc,Ld/Yc,be));if(0===oe)return pb.every(Math.max(G(hd,Ld,be),1));const [Qe,xf]=Ac[kd/Ac[oe-1][2]<Ac[oe][2]/kd?oe-1:oe];return Qe.every(xf)}const Ac=[[Bd,1,1E3],[Bd,5,5E3],[Bd,15,15E3],[Bd,30,3E4],[ac,1,6E4],[ac,5,3E5],[ac,15,9E5],[ac,30,18E5],[Zb,1,36E5],[Zb,3,108E5],[Zb,6,216E5],[Zb,12,432E5],[ub,1,864E5],[ub,2,1728E5],[Sa,1,gc],[Na,1,Qc],[Na,3,3*Qc],[ia,1,Yc]];return[function(hd,Ld,be){const kd=Ld<hd;kd&&([hd,Ld]=[Ld,hd]);hd=(be=be&&"function"===typeof be.range?be:
jc(hd,Ld,be))?be.range(hd,+Ld+1):[];return kd?hd.reverse():hd},jc]}function zb(ia){if(0<=ia.y&&100>ia.y){var Na=new Date(-1,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L);Na.setFullYear(ia.y);return Na}return new Date(ia.y,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L)}function Xb(ia){if(0<=ia.y&&100>ia.y){var Na=new Date(Date.UTC(-1,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L));Na.setUTCFullYear(ia.y);return Na}return new Date(Date.UTC(ia.y,ia.m,ia.d,ia.H,ia.M,ia.S,ia.L))}function tc(ia,Na,Sa){return{y:ia,m:Na,d:Sa,H:0,M:0,S:0,L:0}}function gd(ia){function Na(Ne,
ve){return function(Ve){var ye=[],lg=-1,Eg=0,yf=Ne.length,nh,yh;for(Ve instanceof Date||(Ve=new Date(+Ve));++lg<yf;)if(37===Ne.charCodeAt(lg)){ye.push(Ne.slice(Eg,lg));null!=(Eg=ji[nh=Ne.charAt(++lg)])?nh=Ne.charAt(++lg):Eg="e"===nh?" ":"0";if(yh=ve[nh])nh=yh(Ve,Eg);ye.push(nh);Eg=lg+1}ye.push(Ne.slice(Eg,lg));return ye.join("")}}function Sa(Ne,ve){return function(Ve){var ye=tc(1900,void 0,1);if(ub(ye,Ne,Ve+="",0)!=Ve.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(1E3*
ye.s+("L"in ye?ye.L:0));!ve||"Z"in ye||(ye.Z=0);"p"in ye&&(ye.H=ye.H%12+12*ye.p);void 0===ye.m&&(ye.m="q"in ye?ye.q:0);if("V"in ye){if(1>ye.V||53<ye.V)return null;"w"in ye||(ye.w=1);if("Z"in ye){Ve=Xb(tc(ye.y,0,1));var lg=Ve.getUTCDay();Ve=4<lg||0===lg?ci.ceil(Ve):ci(Ve);Ve=Hf.offset(Ve,7*(ye.V-1));ye.y=Ve.getUTCFullYear();ye.m=Ve.getUTCMonth();ye.d=Ve.getUTCDate()+(ye.w+6)%7}else Ve=zb(tc(ye.y,0,1)),lg=Ve.getDay(),Ve=4<lg||0===lg?tf.ceil(Ve):tf(Ve),Ve=Td.offset(Ve,7*(ye.V-1)),ye.y=Ve.getFullYear(),
ye.m=Ve.getMonth(),ye.d=Ve.getDate()+(ye.w+6)%7}else if("W"in ye||"U"in ye)"w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),lg="Z"in ye?Xb(tc(ye.y,0,1)).getUTCDay():zb(tc(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+7*ye.W-(lg+5)%7:ye.w+7*ye.U-(lg+6)%7;return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,Xb(ye)):zb(ye)}}function ub(Ne,ve,Ve,ye){for(var lg=0,Eg=ve.length,yf=Ve.length,nh;lg<Eg;){if(ye>=yf)return-1;nh=ve.charCodeAt(lg++);if(37===nh){if(nh=ve.charAt(lg++),nh=Jh[nh in ji?ve.charAt(lg++):
nh],!nh||0>(ye=nh(Ne,Ve,ye)))return-1}else if(nh!=Ve.charCodeAt(ye++))return-1}return ye}var Zb=ia.dateTime,ac=ia.date,jc=ia.time,Ac=ia.periods,hd=ia.days,Ld=ia.shortDays,be=ia.months,kd=ia.shortMonths,oe=Bb(Ac),Qe=ic(Ac),xf=Bb(hd),Me=ic(hd),$f=Bb(Ld),Dg=ic(Ld),fh=Bb(be),mh=ic(be),$e=Bb(kd),gh=ic(kd),nf={a:function(Ne){return Ld[Ne.getDay()]},A:function(Ne){return hd[Ne.getDay()]},b:function(Ne){return kd[Ne.getMonth()]},B:function(Ne){return be[Ne.getMonth()]},c:null,d:ed,e:ed,f:ud,g:oc,G:yc,H:sd,
I:wc,j:Rc,L:Lc,m:kb,M:Gb,p:function(Ne){return Ac[+(12<=Ne.getHours())]},q:function(Ne){return 1+~~(Ne.getMonth()/3)},Q:Ag,s:ng,S:Pb,u:bc,U:fa,V:gb,w:Fb,W:Kb,x:null,X:null,y:Ob,Y:Oc,Z:fd,"%":Gf},sg={a:function(Ne){return Ld[Ne.getUTCDay()]},A:function(Ne){return hd[Ne.getUTCDay()]},b:function(Ne){return kd[Ne.getUTCMonth()]},B:function(Ne){return be[Ne.getUTCMonth()]},c:null,d:Ec,e:Ec,f:Zd,g:$g,G:mf,H:Fd,I:Be,j:fe,L:Ae,m:vd,M:Kd,p:function(Ne){return Ac[+(12<=Ne.getUTCHours())]},q:function(Ne){return 1+
~~(Ne.getUTCMonth()/3)},Q:Ag,s:ng,S:ee,u:xe,U:ze,V:Id,w:sf,W:Af,x:null,X:null,y:Ff,Y:ie,Z:Tf,"%":Gf},Jh={a:function(Ne,ve,Ve){return(ve=$f.exec(ve.slice(Ve)))?(Ne.w=Dg.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},A:function(Ne,ve,Ve){return(ve=xf.exec(ve.slice(Ve)))?(Ne.w=Me.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},b:function(Ne,ve,Ve){return(ve=$e.exec(ve.slice(Ve)))?(Ne.m=gh.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},B:function(Ne,ve,Ve){return(ve=fh.exec(ve.slice(Ve)))?(Ne.m=mh.get(ve[0].toLowerCase()),
Ve+ve[0].length):-1},c:function(Ne,ve,Ve){return ub(Ne,Zb,ve,Ve)},d:Ib,e:Ib,f:qd,g:Se,G:Le,H:kc,I:kc,j:Yb,L:pd,m:Ea,M:Nc,p:function(Ne,ve,Ve){return(ve=oe.exec(ve.slice(Ve)))?(Ne.p=Qe.get(ve[0].toLowerCase()),Ve+ve[0].length):-1},q:ob,Q:Od,s:Jd,S:Jc,u:Rd,U:Md,V:Gd,w:Uc,W:Pd,x:function(Ne,ve,Ve){return ub(Ne,ac,ve,Ve)},X:function(Ne,ve,Ve){return ub(Ne,jc,ve,Ve)},y:Se,Y:Le,Z:ha,"%":Yd};nf.x=Na(ac,nf);nf.X=Na(jc,nf);nf.c=Na(Zb,nf);sg.x=Na(ac,sg);sg.X=Na(jc,sg);sg.c=Na(Zb,sg);return{format:function(Ne){var ve=
Na(Ne+="",nf);ve.toString=function(){return Ne};return ve},parse:function(Ne){var ve=Sa(Ne+="",!1);ve.toString=function(){return Ne};return ve},utcFormat:function(Ne){var ve=Na(Ne+="",sg);ve.toString=function(){return Ne};return ve},utcParse:function(Ne){var ve=Sa(Ne+="",!0);ve.toString=function(){return Ne};return ve}}}function qc(ia,Na,Sa){var ub=0>ia?"-":"";ia=(ub?-ia:ia)+"";var Zb=ia.length;return ub+(Zb<Sa?Array(Sa-Zb+1).join(Na)+ia:ia)}function rb(ia){return ia.replace(xh,"\\$\x26")}function Bb(ia){return new RegExp("^(?:"+
ia.map(rb).join("|")+")","i")}function ic(ia){return new Map(ia.map((Na,Sa)=>[Na.toLowerCase(),Sa]))}function Uc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.w=+Na[0],Sa+Na[0].length):-1}function Rd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.u=+Na[0],Sa+Na[0].length):-1}function Md(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.U=+Na[0],Sa+Na[0].length):-1}function Gd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.V=+Na[0],Sa+Na[0].length):-1}function Pd(ia,Na,Sa){return(Na=
Lf.exec(Na.slice(Sa,Sa+2)))?(ia.W=+Na[0],Sa+Na[0].length):-1}function Le(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+4)))?(ia.y=+Na[0],Sa+Na[0].length):-1}function Se(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.y=+Na[0]+(68<+Na[0]?1900:2E3),Sa+Na[0].length):-1}function ha(ia,Na,Sa){return(Na=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Na.slice(Sa,Sa+6)))?(ia.Z=Na[1]?0:-(Na[2]+(Na[3]||"00")),Sa+Na[0].length):-1}function ob(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+1)))?(ia.q=3*Na[0]-3,Sa+Na[0].length):
-1}function Ea(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.m=Na[0]-1,Sa+Na[0].length):-1}function Ib(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.d=+Na[0],Sa+Na[0].length):-1}function Yb(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+3)))?(ia.m=0,ia.d=+Na[0],Sa+Na[0].length):-1}function kc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.H=+Na[0],Sa+Na[0].length):-1}function Nc(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+2)))?(ia.M=+Na[0],Sa+Na[0].length):-1}function Jc(ia,Na,Sa){return(Na=
Lf.exec(Na.slice(Sa,Sa+2)))?(ia.S=+Na[0],Sa+Na[0].length):-1}function pd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+3)))?(ia.L=+Na[0],Sa+Na[0].length):-1}function qd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa,Sa+6)))?(ia.L=Math.floor(Na[0]/1E3),Sa+Na[0].length):-1}function Yd(ia,Na,Sa){return(ia=Yg.exec(Na.slice(Sa,Sa+1)))?Sa+ia[0].length:-1}function Od(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa)))?(ia.Q=+Na[0],Sa+Na[0].length):-1}function Jd(ia,Na,Sa){return(Na=Lf.exec(Na.slice(Sa)))?(ia.s=+Na[0],Sa+Na[0].length):
-1}function ed(ia,Na){return qc(ia.getDate(),Na,2)}function sd(ia,Na){return qc(ia.getHours(),Na,2)}function wc(ia,Na){return qc(ia.getHours()%12||12,Na,2)}function Rc(ia,Na){return qc(1+Td.count(gg(ia),ia),Na,3)}function Lc(ia,Na){return qc(ia.getMilliseconds(),Na,3)}function ud(ia,Na){return Lc(ia,Na)+"000"}function kb(ia,Na){return qc(ia.getMonth()+1,Na,2)}function Gb(ia,Na){return qc(ia.getMinutes(),Na,2)}function Pb(ia,Na){return qc(ia.getSeconds(),Na,2)}function bc(ia){ia=ia.getDay();return 0===
ia?7:ia}function fa(ia,Na){return qc(De.count(gg(ia)-1,ia),Na,2)}function Ia(ia){var Na=ia.getDay();return 4<=Na||0===Na?Ze(ia):Ze.ceil(ia)}function gb(ia,Na){ia=Ia(ia);return qc(Ze.count(gg(ia),ia)+(4===gg(ia).getDay()),Na,2)}function Fb(ia){return ia.getDay()}function Kb(ia,Na){return qc(tf.count(gg(ia)-1,ia),Na,2)}function Ob(ia,Na){return qc(ia.getFullYear()%100,Na,2)}function oc(ia,Na){ia=Ia(ia);return qc(ia.getFullYear()%100,Na,2)}function Oc(ia,Na){return qc(ia.getFullYear()%1E4,Na,4)}function yc(ia,
Na){var Sa=ia.getDay();ia=4<=Sa||0===Sa?Ze(ia):Ze.ceil(ia);return qc(ia.getFullYear()%1E4,Na,4)}function fd(ia){ia=ia.getTimezoneOffset();return(0<ia?"-":(ia*=-1,"+"))+qc(ia/60|0,"0",2)+qc(ia%60,"0",2)}function Ec(ia,Na){return qc(ia.getUTCDate(),Na,2)}function Fd(ia,Na){return qc(ia.getUTCHours(),Na,2)}function Be(ia,Na){return qc(ia.getUTCHours()%12||12,Na,2)}function fe(ia,Na){return qc(1+Hf.count(xg(ia),ia),Na,3)}function Ae(ia,Na){return qc(ia.getUTCMilliseconds(),Na,3)}function Zd(ia,Na){return Ae(ia,
Na)+"000"}function vd(ia,Na){return qc(ia.getUTCMonth()+1,Na,2)}function Kd(ia,Na){return qc(ia.getUTCMinutes(),Na,2)}function ee(ia,Na){return qc(ia.getUTCSeconds(),Na,2)}function xe(ia){ia=ia.getUTCDay();return 0===ia?7:ia}function ze(ia,Na){return qc(mg.count(xg(ia)-1,ia),Na,2)}function Te(ia){var Na=ia.getUTCDay();return 4<=Na||0===Na?Rg(ia):Rg.ceil(ia)}function Id(ia,Na){ia=Te(ia);return qc(Rg.count(xg(ia),ia)+(4===xg(ia).getUTCDay()),Na,2)}function sf(ia){return ia.getUTCDay()}function Af(ia,
Na){return qc(ci.count(xg(ia)-1,ia),Na,2)}function Ff(ia,Na){return qc(ia.getUTCFullYear()%100,Na,2)}function $g(ia,Na){ia=Te(ia);return qc(ia.getUTCFullYear()%100,Na,2)}function ie(ia,Na){return qc(ia.getUTCFullYear()%1E4,Na,4)}function mf(ia,Na){var Sa=ia.getUTCDay();ia=4<=Sa||0===Sa?Rg(ia):Rg.ceil(ia);return qc(ia.getUTCFullYear()%1E4,Na,4)}function Tf(){return"+0000"}function Gf(){return"%"}function Ag(ia){return+ia}function ng(ia){return Math.floor(+ia/1E3)}function ug(ia){return new Date(ia)}
function Sg(ia){return ia instanceof Date?+ia:+new Date(+ia)}function ig(ia,Na,Sa,ub,Zb,ac,jc,Ac,hd,Ld){function be(nf){return(hd(nf)<nf?xf:Ac(nf)<nf?Me:jc(nf)<nf?$f:ac(nf)<nf?Dg:ub(nf)<nf?Zb(nf)<nf?fh:mh:Sa(nf)<nf?$e:gh)(nf)}var kd=$c()(jb,jb),oe=kd.invert,Qe=kd.domain,xf=Ld(".%L"),Me=Ld(":%S"),$f=Ld("%I:%M"),Dg=Ld("%I %p"),fh=Ld("%a %d"),mh=Ld("%b %d"),$e=Ld("%B"),gh=Ld("%Y");kd.invert=function(nf){return new Date(oe(nf))};kd.domain=function(nf){return arguments.length?Qe(Array.from(nf,Sg)):Qe().map(ug)};
kd.ticks=function(nf){var sg=Qe();return ia(sg[0],sg[sg.length-1],null==nf?10:nf)};kd.tickFormat=function(nf,sg){return null==sg?be:Ld(sg)};kd.nice=function(nf){var sg=Qe();nf&&"function"===typeof nf.range||(nf=Na(sg[0],sg[sg.length-1],null==nf?10:nf));return nf?Qe(za(sg,nf)):kd};kd.copy=function(){return Ic(kd,ig(ia,Na,Sa,ub,Zb,ac,jc,Ac,hd,Ld))};return kd}function Cf(){function ia(kd){return null==kd||isNaN(kd=+kd)?be:hd(0===jc?.5:(kd=(Ac(kd)-Zb)*jc,Ld?Math.max(0,Math.min(1,kd)):kd))}function Na(kd){return function(oe){var Qe,
xf;return arguments.length?([Qe,xf]=oe,hd=kd(Qe,xf),ia):[hd(0),hd(1)]}}var Sa=0,ub=1,Zb,ac,jc,Ac,hd=jb,Ld=!1,be;ia.domain=function(kd){return arguments.length?([Sa,ub]=kd,Zb=Ac(Sa=+Sa),ac=Ac(ub=+ub),jc=Zb===ac?0:1/(ac-Zb),ia):[Sa,ub]};ia.clamp=function(kd){return arguments.length?(Ld=!!kd,ia):Ld};ia.interpolator=function(kd){return arguments.length?(hd=kd,ia):hd};ia.range=Na(Wb);ia.rangeRound=Na(mc);ia.unknown=function(kd){return arguments.length?(be=kd,ia):be};return function(kd){Ac=kd;Zb=kd(Sa);
ac=kd(ub);jc=Zb===ac?0:1/(ac-Zb);return ia}}function vg(ia,Na){return Na.domain(ia.domain()).interpolator(ia.interpolator()).clamp(ia.clamp()).unknown(ia.unknown())}function og(){var ia=gf(Cf()(jb));ia.copy=function(){return vg(ia,og())};return r.apply(ia,arguments)}function Uf(){var ia=ld(Cf()).domain([1,10]);ia.copy=function(){return vg(ia,Uf()).base(ia.base())};return r.apply(ia,arguments)}function Xf(){var ia=ce(Cf());ia.copy=function(){return vg(ia,Xf()).constant(ia.constant())};return r.apply(ia,
arguments)}function Tg(){var ia=Ge(Cf());ia.copy=function(){return vg(ia,Tg()).exponent(ia.exponent())};return r.apply(ia,arguments)}function bh(){function ia(Me){return isNaN(Me=+Me)?xf:(Me=.5+((Me=+oe(Me))-Ac)*(ac*Me<ac*Ac?Ld:be),kd(Qe?Math.max(0,Math.min(1,Me)):Me))}function Na(Me){return function($f){var Dg,fh,mh;return arguments.length?([Dg,fh,mh]=$f,kd=va(Me,[Dg,fh,mh]),ia):[kd(0),kd(.5),kd(1)]}}var Sa=0,ub=.5,Zb=1,ac=1,jc,Ac,hd,Ld,be,kd=jb,oe,Qe=!1,xf;ia.domain=function(Me){return arguments.length?
([Sa,ub,Zb]=Me,jc=oe(Sa=+Sa),Ac=oe(ub=+ub),hd=oe(Zb=+Zb),Ld=jc===Ac?0:.5/(Ac-jc),be=Ac===hd?0:.5/(hd-Ac),ac=Ac<jc?-1:1,ia):[Sa,ub,Zb]};ia.clamp=function(Me){return arguments.length?(Qe=!!Me,ia):Qe};ia.interpolator=function(Me){return arguments.length?(kd=Me,ia):kd};ia.range=Na(Wb);ia.rangeRound=Na(mc);ia.unknown=function(Me){return arguments.length?(xf=Me,ia):xf};return function(Me){oe=Me;jc=Me(Sa);Ac=Me(ub);hd=Me(Zb);Ld=jc===Ac?0:.5/(Ac-jc);be=Ac===hd?0:.5/(hd-Ac);ac=Ac<jc?-1:1;return ia}}function Ng(){var ia=
gf(bh()(jb));ia.copy=function(){return vg(ia,Ng())};return r.apply(ia,arguments)}function Ig(){var ia=ld(bh()).domain([.1,1,10]);ia.copy=function(){return vg(ia,Ig()).base(ia.base())};return r.apply(ia,arguments)}function Jg(){var ia=ce(bh());ia.copy=function(){return vg(ia,Jg()).constant(ia.constant())};return r.apply(ia,arguments)}function Wa(){var ia=Ge(bh());ia.copy=function(){return vg(ia,Wa()).exponent(ia.exponent())};return r.apply(ia,arguments)}function Cb(){function ia(){var kd=Sa().length;
const oe=Zb[1]<Zb[0],Qe=Zb[1-oe],xf=q(kd,hd,Ld);let Me=Zb[oe-0];ac=(Qe-Me)/(xf||1);Ac&&(ac=Math.floor(ac));Me+=(Qe-Me-ac*(kd-hd))*be;jc=ac*(1-hd);Ac&&(Me=Math.round(Me),jc=Math.round(jc));kd=F(kd).map($f=>Me+ac*$f);return ub(oe?kd.reverse():kd)}const Na=y().unknown(void 0),Sa=Na.domain,ub=Na.range;let Zb=[0,1],ac,jc,Ac=!1,hd=0,Ld=0,be=.5;delete Na.unknown;Na.domain=function(kd){return arguments.length?(Sa(kd),ia()):Sa()};Na.range=function(kd){return arguments.length?(Zb=[+kd[0],+kd[1]],ia()):Zb.slice()};
Na.rangeRound=function(kd){Zb=[+kd[0],+kd[1]];Ac=!0;return ia()};Na.bandwidth=function(){return jc};Na.step=function(){return ac};Na.round=function(kd){return arguments.length?(Ac=!!kd,ia()):Ac};Na.padding=function(kd){return arguments.length?(hd=Ld=Math.max(0,Math.min(1,kd)),ia()):hd};Na.paddingInner=function(kd){return arguments.length?(hd=Math.max(0,Math.min(1,kd)),ia()):hd};Na.paddingOuter=function(kd){return arguments.length?(Ld=Math.max(0,Math.min(1,kd)),ia()):Ld};Na.align=function(kd){return arguments.length?
(be=Math.max(0,Math.min(1,kd)),ia()):be};Na.invertRange=function(kd){if(null!=kd[0]&&null!=kd[1]){var oe=Zb[1]<Zb[0],Qe=oe?ub().reverse():ub(),xf=Qe.length-1,Me=+kd[0],$f=+kd[1];if(Me===Me&&$f===$f){if($f<Me){var Dg=Me;Me=$f;$f=Dg}if(!($f<Qe[0]||Me>Zb[1-oe]))return kd=Math.max(0,db(Qe,Me)-1),$f=Me===$f?kd:db(Qe,$f)-1,Me-Qe[kd]>jc+1E-10&&++kd,oe&&(Dg=kd,kd=xf-$f,$f=xf-Dg),kd>$f?void 0:Sa().slice(kd,$f+1)}}};Na.invert=function(kd){return(kd=Na.invertRange([kd,kd]))?kd[0]:kd};Na.copy=function(){return Cb().domain(Sa()).range(Zb).round(Ac).paddingInner(hd).paddingOuter(Ld).align(be)};
return ia()}function hc(ia){const Na=ia.copy;ia.padding=ia.paddingOuter;delete ia.paddingInner;ia.copy=function(){return hc(Na())};return ia}function yd(){function ia(ub){return null==ub||ub!==ub?void 0:Sa[(Db(Na,ub)-1)%Sa.length]}let Na=[],Sa=[];ia.domain=function(ub){return arguments.length?(Na=Zf.call(ub,k.toNumber),ia):Na.slice()};ia.range=function(ub){return arguments.length?(Sa=yg.call(ub),ia):Sa.slice()};ia.tickFormat=function(ub,Zb){return qf(Na[0],k.peek(Na),null==ub?10:ub,Zb)};ia.copy=function(){return yd().domain(ia.domain()).range(ia.range())};
return ia}function Dd(ia,Na,Sa){const ub=function(){const Zb=Na();Zb.invertRange||(Zb.invertRange=Zb.invert?t(Zb):Zb.invertExtent?n(Zb):void 0);Zb.type=ia;return Zb};ub.metadata=k.toSet(k.array(Sa));return ub}function ne(ia,Na,Sa){return 1<arguments.length?(Zg[ia]=Dd(ia,Na,Sa),this):of(ia)?Zg[ia]:void 0}function of(ia){return k.hasOwnProperty(Zg,ia)}function uf(ia,Na){return(ia=Zg[ia])&&ia.metadata[Na]}function Wg(ia){return uf(ia,"discrete")}function Vf(ia){return uf(ia,"discretizing")}function Xg(ia){return uf(ia,
"log")}function Fh(ia){return uf(ia,"temporal")}function qh(ia,Na,Sa){return va(wg(Na||"rgb",Sa),ia)}function wg(ia,Na){ia=eg[Ug(ia)];return null!=Na&&ia&&ia.gamma?ia.gamma(Na):ia}function Ug(ia){return"interpolate"+ia.toLowerCase().split("-").map(Na=>Na[0].toUpperCase()+Na.slice(1)).join("")}function oh(ia){const Na=ia.length/6|0,Sa=Array(Na);for(let ub=0;ub<Na;)Sa[ub]="#"+ia.slice(6*ub,6*++ub);return Sa}function rh(ia,Na){for(const Sa in ia)Lh(Sa,Na(ia[Sa]))}function Lh(ia,Na){ia=ia&&ia.toLowerCase();
return 1<arguments.length?(ei[ia]=Na,this):ei[ia]}function vh(ia,Na,Sa){var ub=ia.range();let Zb=ub[0],ac=k.peek(ub);ub=Oh;Zb>ac&&(ub=ac,ac=Zb,Zb=ub,ub=ti);Zb=Math.floor(Zb);ac=Math.ceil(ac);Na=Na.map(jc=>[jc,ia(jc)]).filter(jc=>Zb<=jc[1]&&jc[1]<=ac).sort(ub).map(jc=>jc[0]);if(0<Sa&&1<Na.length){for(ub=[Na[0],k.peek(Na)];Na.length>Sa&&3<=Na.length;)Na=Na.filter((jc,Ac)=>!(Ac%2));3>Na.length&&(Na=ub)}return Na}function Eh(ia,Na){return ia.bins?vh(ia,ia.bins):ia.ticks?ia.ticks(Na):ia.domain()}function Kg(ia,
Na,Sa,ub,Zb,ac){const jc=Na.type;let Ac=lj;if("time"===jc||"time"===Zb)Ac=ia.timeFormat(ub);else if("utc"===jc||"utc"===Zb)Ac=ia.utcFormat(ub);else if(Xg(jc)){const hd=ia.formatFloat(ub);if(ac||Na.bins)Ac=hd;else{const Ld=J(Na,Sa,!1);Ac=be=>Ld(be)?hd(be):""}}else Na.tickFormat?(Na=Na.domain(),Ac=ia.formatSpan(Na[0],Na[Na.length-1],Sa,ub)):ub&&(Ac=ia.format(ub));return Ac}function J(ia,Na,Sa){const ub=Eh(ia,Na),Zb=ia.base(),ac=Math.log(Zb),jc=Math.max(1,Zb*Na/ub.length);ia=Ac=>{Ac/=Math.pow(Zb,Math.round(Math.log(Ac)/
ac));Ac*Zb<Zb-.5&&(Ac*=Zb);return Ac<=jc};return Sa?ub.filter(ia):ia}function da(ia,Na){ia.bins?(ia=ia.bins,Na=ia.slice(0,-1),Na.max=k.peek(ia),ia=Na):"log"===ia.type?ia=J(ia,Na,!0):vj[ia.type]?(ia=ia[vj[ia.type]](),ia=[-Infinity].concat(ia),ia.max=Infinity):ia=Eh(ia,Na);return ia}function La(ia,Na,Sa,ub,Zb,ac,jc){if(Yi[Na.type]&&"time"!==ac&&"utc"!==ac){Sa=Na[Yi[Na.type]]();ac=Sa.length;jc=1<ac?Sa[1]-Sa[0]:Sa[0];let Ac;for(Ac=1;Ac<ac;++Ac)jc=Math.min(jc,Sa[Ac]-Sa[Ac-1]);ia=ia.formatSpan(0,jc,30,
Zb)}else ia=Kg(ia,Na,Sa,Zb,ac,jc);return"symbol"===ub&&(vj[Na.type]||Na.bins)?ni(ia):"discrete"===ub?sh(ia):Oi(ia)}const db=b(f).right;b(c).center;var Db=db;class Sb extends Map{constructor(ia,Na=h){super();Object.defineProperties(this,{_intern:{value:new Map},_key:{value:Na}});if(null!=ia)for(const [Sa,ub]of ia)this.set(Sa,ub)}get(ia){return super.get(e(this,ia))}has(ia){return super.has(e(this,ia))}set(ia,Na){return super.set(g(this,ia),Na)}delete(ia){return super.delete(m(this,ia))}}var Cc=Math.sqrt(50),
Zc=Math.sqrt(10),Xc=Math.sqrt(2);const td=Symbol("implicit");var ae=1/.7,we=/^#([0-9a-f]{3,8})$/,bf=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),zf=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Mf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Oe=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Qf=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),qg=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),jh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
K(S,aa,{copy:function(ia){return Object.assign(new this.constructor,this,ia)},displayable:function(){return this.rgb().displayable()},hex:ca,formatHex:ca,formatHsl:function(){return qa(this).formatHsl()},formatRgb:M,toString:M});K(D,X,R(S,{brighter:function(ia){ia=null==ia?ae:Math.pow(ae,ia);return new D(this.r*ia,this.g*ia,this.b*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new D(this.r*ia,this.g*ia,this.b*ia,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:B,formatHex:B,formatRgb:N,toString:N}));K(Ja,la,R(S,{brighter:function(ia){ia=null==ia?ae:Math.pow(ae,ia);return new Ja(this.h,this.s,this.l*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new Ja(this.h,this.s,this.l*ia,this.opacity)},rgb:function(){var ia=this.h%360+360*(0>this.h),Na=isNaN(ia)||isNaN(this.s)?0:this.s,Sa=this.l;Na=Sa+(.5>Sa?Sa:1-Sa)*Na;Sa=2*
Sa-Na;return new D(bb(240<=ia?ia-240:ia+120,Sa,Na),bb(ia,Sa,Na),bb(120>ia?ia+240:ia-120,Sa,Na),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var ia=this.opacity;ia=isNaN(ia)?1:Math.max(0,Math.min(1,ia));return(1===ia?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===ia?")":", "+ia+")")}}));const ch=Math.PI/180,dg=180/Math.PI,Bf=4/29,jg=6/29,bg=3*jg*jg,rg=
jg*jg*jg;K(ma,Ma,R(S,{brighter:function(ia){return new ma(this.l+18*(null==ia?1:ia),this.a,this.b,this.opacity)},darker:function(ia){return new ma(this.l-18*(null==ia?1:ia),this.a,this.b,this.opacity)},rgb:function(){var ia=(this.l+16)/116,Na=isNaN(this.a)?ia:ia+this.a/500,Sa=isNaN(this.b)?ia:ia-this.b/200;Na=.96422*Ra(Na);ia=1*Ra(ia);Sa=.82521*Ra(Sa);return new D(ra(3.1338561*Na-1.6168667*ia-.4906146*Sa),ra(-.9787684*Na+1.9161415*ia+.033454*Sa),ra(.0719453*Na-.2289914*ia+1.4052427*Sa),this.opacity)}}));
K(Ua,xa,R(S,{brighter:function(ia){return new Ua(this.h,this.c,this.l+18*(null==ia?1:ia),this.opacity)},darker:function(ia){return new Ua(this.h,this.c,this.l-18*(null==ia?1:ia),this.opacity)},rgb:function(){return fb(this).rgb()}}));var wh=1.78277*-.29227-.1347134789;K(Oa,sa,R(S,{brighter:function(ia){ia=null==ia?ae:Math.pow(ae,ia);return new Oa(this.h,this.s,this.l*ia,this.opacity)},darker:function(ia){ia=null==ia?.7:Math.pow(.7,ia);return new Oa(this.h,this.s,this.l*ia,this.opacity)},rgb:function(){var ia=
isNaN(this.h)?0:(this.h+120)*ch,Na=+this.l,Sa=isNaN(this.s)?0:this.s*Na*(1-Na),ub=Math.cos(ia);ia=Math.sin(ia);return new D(255*(Na+Sa*(-.14861*ub+1.78277*ia)),255*(Na+Sa*(-.29227*ub+-.90649*ia)),255*(Na+1.97294*Sa*ub),this.opacity)}}));var Og=ia=>()=>ia,zh=function Sa(Na){function ub(ac,jc){var Ac=Zb((ac=X(ac)).r,(jc=X(jc)).r),hd=Zb(ac.g,jc.g),Ld=Zb(ac.b,jc.b),be=nb(ac.opacity,jc.opacity);return function(kd){ac.r=Ac(kd);ac.g=hd(kd);ac.b=Ld(kd);ac.opacity=be(kd);return ac+""}}var Zb=lb(Na);ub.gamma=
Sa;return ub}(1),ri=Mb(U),Zh=Mb(ka),$h=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ef=new RegExp($h.source,"g"),Ch=180/Math.PI,hf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},jf,Pg=Fc(function(Na){Na=new ("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(Na+"");return Na.isIdentity?hf:Kc(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},"px, ","px)","deg)"),Nh=Fc(function(Na){if(null==Na)return hf;jf||(jf=document.createElementNS("http://www.w3.org/2000/svg","g"));jf.setAttribute("transform",
Na);if(!(Na=jf.transform.baseVal.consolidate()))return hf;Na=Na.matrix;return Kc(Na.a,Na.b,Na.c,Na.d,Na.e,Na.f)},", ",")",")"),Yh=function ac(Sa,ub,Zb){function jc(Ac,hd){var Ld=Ac[0],be=Ac[1],kd=Ac[2];Ac=hd[2];var oe=hd[0]-Ld,Qe=hd[1]-be,xf=oe*oe+Qe*Qe;if(1E-12>xf){var Me=Math.log(Ac/kd)/Sa;Ac=function(fh){return[Ld+fh*oe,be+fh*Qe,kd*Math.exp(Sa*fh*Me)]}}else{var $f=Math.sqrt(xf);hd=(Ac*Ac-kd*kd+Zb*xf)/(2*kd*ub*$f);Ac=(Ac*Ac-kd*kd-Zb*xf)/(2*Ac*ub*$f);var Dg=Math.log(Math.sqrt(hd*hd+1)-hd);Me=(Math.log(Math.sqrt(Ac*
Ac+1)-Ac)-Dg)/Sa;Ac=function(fh){fh*=Me;var mh=Sc(Dg),$e=Sa*fh+Dg;var gh=(($e=Math.exp(2*$e))-1)/($e+1);var nf=Dg;$e=((nf=Math.exp(nf))-1/nf)/2;gh=kd/(ub*$f)*(mh*gh-$e);return[Ld+gh*oe,be+gh*Qe,kd*mh/Sc(Sa*fh+Dg)]}}Ac.duration=1E3*Me*Sa/Math.SQRT2;return Ac}jc.rho=function(Ac){Ac=Math.max(.001,+Ac);var hd=Ac*Ac;return ac(Ac,hd,hd*hd)};return jc}(Math.SQRT2,2,4),ai=jd(eb),dh=jd(nb),ue=$d(eb),Je=$d(nb),Df=Ba(eb),Pe=Ba(nb),eg=Object.freeze({__proto__:null,interpolate:Wb,interpolateArray:function(Sa,
ub){return(Gc(ub)?$b:zc)(Sa,ub)},interpolateBasis:U,interpolateBasisClosed:ka,interpolateDate:Bc,interpolateDiscrete:function(Sa){var ub=Sa.length;return function(Zb){return Sa[Math.max(0,Math.min(ub-1,Math.floor(Zb*ub)))]}},interpolateHue:function(Sa,ub){var Zb=eb(+Sa,+ub);return function(ac){ac=Zb(ac);return ac-360*Math.floor(ac/360)}},interpolateNumber:uc,interpolateNumberArray:$b,interpolateObject:id,interpolateRound:mc,interpolateString:dc,interpolateTransformCss:Pg,interpolateTransformSvg:Nh,
interpolateZoom:Yh,interpolateRgb:zh,interpolateRgbBasis:ri,interpolateRgbBasisClosed:Zh,interpolateHsl:ai,interpolateHslLong:dh,interpolateLab:function(Sa,ub){var Zb=nb((Sa=Ma(Sa)).l,(ub=Ma(ub)).l),ac=nb(Sa.a,ub.a),jc=nb(Sa.b,ub.b),Ac=nb(Sa.opacity,ub.opacity);return function(hd){Sa.l=Zb(hd);Sa.a=ac(hd);Sa.b=jc(hd);Sa.opacity=Ac(hd);return Sa+""}},interpolateHcl:ue,interpolateHclLong:Je,interpolateCubehelix:Df,interpolateCubehelixLong:Pe,piecewise:va,quantize:function(Sa,ub){for(var Zb=Array(ub),
ac=0;ac<ub;++ac)Zb[ac]=Sa(ac/(ub-1));return Zb}}),fg=[0,1],ff=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;Xd.prototype=ge.prototype;ge.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,this.width|0))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};var Da,ab={"%":(Sa,ub)=>(100*Sa).toFixed(ub),b:Sa=>Math.round(Sa).toString(2),
c:Sa=>Sa+"",d:function(Sa){return 1E21<=Math.abs(Sa=Math.round(Sa))?Sa.toLocaleString("en").replace(/,/g,""):Sa.toString(10)},e:(Sa,ub)=>Sa.toExponential(ub),f:(Sa,ub)=>Sa.toFixed(ub),g:(Sa,ub)=>Sa.toPrecision(ub),o:Sa=>Math.round(Sa).toString(8),p:(Sa,ub)=>le(100*Sa,ub),r:le,s:function(Sa,ub){var Zb=dd(Sa,ub);if(!Zb)return Sa+"";var ac=Zb[0];Zb=Zb[1];Zb=Zb-(Da=3*Math.max(-8,Math.min(8,Math.floor(Zb/3))))+1;var jc=ac.length;return Zb===jc?ac:Zb>jc?ac+Array(Zb-jc+1).join("0"):0<Zb?ac.slice(0,Zb)+"."+
ac.slice(Zb):"0."+Array(1-Zb).join("0")+dd(Sa,Math.max(0,ub+Zb-1))[0]},X:Sa=>Math.round(Sa).toString(16).toUpperCase(),x:Sa=>Math.round(Sa).toString(16)},xb=Array.prototype.map,Lb="y z a f p n µ m  k M G T P E Z Y".split(" "),pc,sc,Vc;(function(Sa){pc=wd(Sa);sc=pc.format;Vc=pc.formatPrefix;return pc})({thousands:",",grouping:[3],currency:["$",""]});var pa=new Date,Qa=new Date,mb=bd(function(){},function(Sa,ub){Sa.setTime(+Sa+ub)},function(Sa,ub){return ub-Sa});mb.every=function(Sa){Sa=Math.floor(Sa);
return isFinite(Sa)&&0<Sa?1<Sa?bd(function(ub){ub.setTime(Math.floor(ub/Sa)*Sa)},function(ub,Zb){ub.setTime(+ub+Zb*Sa)},function(ub,Zb){return(Zb-ub)/Sa}):mb:null};var pb=mb;const gc=6048E5,Qc=2592E6,Yc=31536E6;var Bd=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds())},function(Sa,ub){Sa.setTime(+Sa+1E3*ub)},function(Sa,ub){return(ub-Sa)/1E3},function(Sa){return Sa.getUTCSeconds()}),Tc=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds()-1E3*Sa.getSeconds())},function(Sa,ub){Sa.setTime(+Sa+6E4*ub)},
function(Sa,ub){return(ub-Sa)/6E4},function(Sa){return Sa.getMinutes()}),Sd=bd(function(Sa){Sa.setTime(Sa-Sa.getMilliseconds()-1E3*Sa.getSeconds()-6E4*Sa.getMinutes())},function(Sa,ub){Sa.setTime(+Sa+36E5*ub)},function(Sa,ub){return(ub-Sa)/36E5},function(Sa){return Sa.getHours()}),Td=bd(Sa=>Sa.setHours(0,0,0,0),(Sa,ub)=>Sa.setDate(Sa.getDate()+ub),(Sa,ub)=>(ub-Sa-6E4*(ub.getTimezoneOffset()-Sa.getTimezoneOffset()))/864E5,Sa=>Sa.getDate()-1),De=Ad(0),tf=Ad(1);Ad(2);Ad(3);var Ze=Ad(4);Ad(5);Ad(6);var df=
bd(function(Sa){Sa.setDate(1);Sa.setHours(0,0,0,0)},function(Sa,ub){Sa.setMonth(Sa.getMonth()+ub)},function(Sa,ub){return ub.getMonth()-Sa.getMonth()+12*(ub.getFullYear()-Sa.getFullYear())},function(Sa){return Sa.getMonth()}),Bg=bd(function(Sa){Sa.setMonth(0,1);Sa.setHours(0,0,0,0)},function(Sa,ub){Sa.setFullYear(Sa.getFullYear()+ub)},function(Sa,ub){return ub.getFullYear()-Sa.getFullYear()},function(Sa){return Sa.getFullYear()});Bg.every=function(Sa){return isFinite(Sa=Math.floor(Sa))&&0<Sa?bd(function(ub){ub.setFullYear(Math.floor(ub.getFullYear()/
Sa)*Sa);ub.setMonth(0,1);ub.setHours(0,0,0,0)},function(ub,Zb){ub.setFullYear(ub.getFullYear()+Zb*Sa)}):null};var gg=Bg,He=bd(function(Sa){Sa.setUTCSeconds(0,0)},function(Sa,ub){Sa.setTime(+Sa+6E4*ub)},function(Sa,ub){return(ub-Sa)/6E4},function(Sa){return Sa.getUTCMinutes()}),pf=bd(function(Sa){Sa.setUTCMinutes(0,0,0)},function(Sa,ub){Sa.setTime(+Sa+36E5*ub)},function(Sa,ub){return(ub-Sa)/36E5},function(Sa){return Sa.getUTCHours()}),Hf=bd(function(Sa){Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCDate(Sa.getUTCDate()+
ub)},function(Sa,ub){return(ub-Sa)/864E5},function(Sa){return Sa.getUTCDate()-1}),mg=wa(0),ci=wa(1);wa(2);wa(3);var Rg=wa(4);wa(5);wa(6);var Cg=bd(function(Sa){Sa.setUTCDate(1);Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCMonth(Sa.getUTCMonth()+ub)},function(Sa,ub){return ub.getUTCMonth()-Sa.getUTCMonth()+12*(ub.getUTCFullYear()-Sa.getUTCFullYear())},function(Sa){return Sa.getUTCMonth()}),li=bd(function(Sa){Sa.setUTCMonth(0,1);Sa.setUTCHours(0,0,0,0)},function(Sa,ub){Sa.setUTCFullYear(Sa.getUTCFullYear()+
ub)},function(Sa,ub){return ub.getUTCFullYear()-Sa.getUTCFullYear()},function(Sa){return Sa.getUTCFullYear()});li.every=function(Sa){return isFinite(Sa=Math.floor(Sa))&&0<Sa?bd(function(ub){ub.setUTCFullYear(Math.floor(ub.getUTCFullYear()/Sa)*Sa);ub.setUTCMonth(0,1);ub.setUTCHours(0,0,0,0)},function(ub,Zb){ub.setUTCFullYear(ub.getUTCFullYear()+Zb*Sa)}):null};var xg=li;const [Ah,Lg]=Xa(xg,Cg,mg,Hf,pf,He),[eh,ii]=Xa(gg,df,De,Td,Sd,Tc);var ji={"-":"",_:" ",0:"0"},Lf=/^\s*\d+/,Yg=/^%/,xh=/[\\^$*+?|[\]().{}]/g,
Ih,yi,di;(function(Sa){Ih=gd(Sa);yi=Ih.format;di=Ih.utcFormat;return Ih})({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});var Zf=Array.prototype.map;const yg=Array.prototype.slice,
Zg={};ne("identity",We);ne("linear",te,"continuous");ne("log",rd,["continuous","log"]);ne("pow",Re,"continuous");ne("sqrt",function(){return Re.apply(null,arguments).exponent(.5)},"continuous");ne("symlog",he,"continuous");ne("time",function(){return C.apply(ig(eh,ii,gg,df,De,Td,Sd,Tc,Bd,yi).domain([new Date(2E3,0,1),new Date(2E3,0,2)]),arguments)},["continuous","temporal"]);ne("utc",function(){return C.apply(ig(Ah,Lg,xg,Cg,mg,Hf,pf,He,Bd,di).domain([Date.UTC(2E3,0,1),Date.UTC(2E3,0,2)]),arguments)},
["continuous","temporal"]);ne("sequential",og,["continuous","interpolating"]);ne("sequential-linear",og,["continuous","interpolating"]);ne("sequential-log",Uf,["continuous","interpolating","log"]);ne("sequential-pow",Tg,["continuous","interpolating"]);ne("sequential-sqrt",function(){return Tg.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ne("sequential-symlog",Xf,["continuous","interpolating"]);ne("diverging-linear",Ng,["continuous","interpolating"]);ne("diverging-log",Ig,["continuous",
"interpolating","log"]);ne("diverging-pow",Wa,["continuous","interpolating"]);ne("diverging-sqrt",function(){return Wa.apply(null,arguments).exponent(.5)},["continuous","interpolating"]);ne("diverging-symlog",Jg,["continuous","interpolating"]);ne("quantile",af,["discretizing","quantile"]);ne("quantize",Qb,"discretizing");ne("threshold",rc,"discretizing");ne("bin-ordinal",yd,["discrete","discretizing"]);ne("ordinal",y,"discrete");ne("band",Cb,"discrete");ne("point",function(){return hc(Cb().paddingInner(1))},
"discrete");const Zi=["clamp","base","constant","exponent"],ei={};rh({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",
tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",
set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},oh);rh({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",
purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",
purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",
brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",
redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",
inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",
rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",
browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",
lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",
darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},Sa=>qh(oh(Sa)));const lj=Sa=>k.isArray(Sa)?Sa.map(ub=>String(ub)):String(Sa),Oh=(Sa,ub)=>Sa[1]-ub[1],ti=(Sa,ub)=>ub[1]-Sa[1],vj={quantile:"quantiles",quantize:"thresholds",threshold:"domain"},Yi={quantile:"quantiles",quantize:"domain"},ni=Sa=>(ub,Zb,ac)=>{Zb=ac[Zb+1];ac=ac.max;ac=null!=ac?ac:Infinity;Zb=null!=
Zb?Zb:ac;ub=Number.isFinite(ub)?Sa(ub):null;Zb=Number.isFinite(Zb)?Sa(Zb):null;return ub&&Zb?ub+" – "+Zb:Zb?"\x3c "+Zb:"≥ "+ub},sh=Sa=>(ub,Zb)=>Zb?Sa(ub):null,Oi=Sa=>ub=>Sa(ub);w.Band="band";w.BinOrdinal="bin-ordinal";w.DiscreteLegend="discrete";w.Diverging="diverging";w.GradientLegend="gradient";w.Identity="identity";w.Linear="linear";w.Log="log";w.Ordinal="ordinal";w.Point="point";w.Pow="pow";w.Quantile="quantile";w.Quantize="quantize";w.Sequential="sequential";w.Sqrt="sqrt";w.SymbolLegend="symbol";
w.Symlog="symlog";w.Threshold="threshold";w.Time="time";w.UTC="utc";w.bandSpace=q;w.domainCaption=function(Sa,ub,Zb){Zb=Zb||{};var ac=Math.max(3,Zb.maxlen||7),jc=Zb.format;const Ac=(Zb=Zb.formatType)||ub.type;k.isString(jc)&&Fh(Ac)&&(jc=jc.replace(/%a/g,"%A").replace(/%b/g,"%B"));Sa=jc||"time"!==Ac?jc||"utc"!==Ac?La(Sa,ub,5,null,jc,Zb,!0):Sa.utcFormat("%A, %d %B %Y, %X UTC"):Sa.timeFormat("%A, %d %B %Y, %X");if(Vf(ub.type))return ac=da(ub).slice(1).map(Sa),ub=ac.length,`${ub} boundar${1===ub?"y":
"ies"}: ${ac.join(", ")}`;if(Wg(ub.type))return jc=ub.domain(),ub=jc.length,ac=ub>ac?jc.slice(0,ac-2).map(Sa).join(", ")+", ending with "+jc.slice(-1).map(Sa):jc.map(Sa).join(", "),`${ub} value${1===ub?"":"s"}: ${ac}`;ac=ub.domain();return`values from ${Sa(ac[0])} to ${Sa(k.peek(ac))}`};w.interpolate=wg;w.interpolateColors=qh;w.interpolateRange=function(Sa,ub){const Zb=ub[0],ac=k.peek(ub)-Zb;return function(jc){return Sa(Zb+jc*ac)}};w.isContinuous=function(Sa){return uf(Sa,"continuous")};w.isDiscrete=
Wg;w.isDiscretizing=Vf;w.isInterpolating=function(Sa){return uf(Sa,"interpolating")};w.isLogarithmic=Xg;w.isQuantile=function(Sa){return uf(Sa,"quantile")};w.isTemporal=Fh;w.isValidScaleType=of;w.labelFormat=La;w.labelFraction=function(Sa){var ub=Sa.domain();const Zb=ub.length-1;let ac=+ub[0];ub=+k.peek(ub);let jc=ub-ac;"threshold"===Sa.type&&(Sa=Zb?jc/Zb:.1,ac-=Sa,ub+=Sa,jc=ub-ac);return Ac=>(Ac-ac)/jc};w.labelValues=da;w.quantizeInterpolator=function(Sa,ub){const Zb=Array(ub),ac=ub+1;for(let jc=
0;jc<ub;)Zb[jc]=Sa(++jc/ac);return Zb};w.scale=ne;w.scaleCopy=function(Sa){const ub=Sa.type;Sa=Sa.copy();Sa.type=ub;return Sa};w.scaleFraction=function(Sa,ub,Zb){var ac=Zb-ub;let jc,Ac;return ac&&Number.isFinite(ac)?(ac=(jc=Sa.type).indexOf("-"),jc=0>ac?jc:jc.slice(ac+1),Ac=ne(jc)().domain([ub,Zb]).range([0,1]),Zi.forEach(hd=>Sa[hd]?Ac[hd](Sa[hd]()):0),Ac):k.constant(.5)};w.scaleImplicit=td;w.scheme=Lh;w.tickCount=function(Sa,ub,Zb){let ac;k.isNumber(ub)&&(Sa.bins&&(ub=Math.max(ub,Sa.bins.length)),
null!=Zb&&(ub=Math.min(ub,Math.floor(k.span(Sa.domain())/Zb||1))));k.isObject(ub)&&(ac=ub.step,ub=ub.interval);k.isString(ub)&&(ub="time"===Sa.type?p.timeInterval(ub):"utc"==Sa.type?p.utcInterval(ub):k.error("Only time and utc scales accept interval strings."),ac&&(ub=ub.every(ac)));return ub};w.tickFormat=Kg;w.tickValues=Eh;w.validTicks=vh;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[28]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(26),L(22),L(27)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-canvas","vega-loader","vega-scale"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function n(Da,ab,xb){const Lb=Da.gradient;let pc=Da.id,sc="radial"===Lb?"p_":"";pc||(pc=Da.id="gradient_"+Ob++,"radial"===Lb?(Da.x1=f(Da.x1,
.5),Da.y1=f(Da.y1,.5),Da.r1=f(Da.r1,0),Da.x2=f(Da.x2,.5),Da.y2=f(Da.y2,.5),Da.r2=f(Da.r2,.5),sc="p_"):(Da.x1=f(Da.x1,0),Da.y1=f(Da.y1,0),Da.x2=f(Da.x2,1),Da.y2=f(Da.y2,0)));ab[pc]=Da;return"url("+(xb||"")+"#"+sc+pc+")"}function f(Da,ab){return null!=Da?Da:ab}function b(){this._x0=this._y0=this._x1=this._y1=null;this._=""}function c(){return new b}function e(Da){return function(){return Da}}function g(Da){return 1<=Da?Kd:-1>=Da?-Kd:Math.asin(Da)}function m(Da){return Da.innerRadius}function h(Da){return Da.outerRadius}
function x(Da){return Da.startAngle}function O(Da){return Da.endAngle}function G(Da){return Da&&Da.padAngle}function I(Da,ab,xb,Lb,pc,sc,Vc){var pa=Da-xb,Qa=ab-Lb;Vc=(Vc?sc:-sc)/Zd(pa*pa+Qa*Qa);Qa*=Vc;pa*=-Vc;var mb=Da+Qa,pb=ab+pa,gc=xb+Qa,Qc=Lb+pa;xb=(mb+gc)/2;Lb=(pb+Qc)/2;ab=gc-mb;Da=Qc-pb;Vc=ab*ab+Da*Da;sc=pc-sc;Qc=mb*Qc-gc*pb;var Yc=(0>Da?-1:1)*Zd(Be(0,sc*sc*Vc-Qc*Qc));mb=(Qc*Da-ab*Yc)/Vc;pb=(-Qc*ab-Da*Yc)/Vc;gc=(Qc*Da+ab*Yc)/Vc;ab=(-Qc*ab+Da*Yc)/Vc;Da=mb-xb;Vc=pb-Lb;xb=gc-xb;Lb=ab-Lb;Da*Da+Vc*
Vc>xb*xb+Lb*Lb&&(mb=gc,pb=ab);return{cx:mb,cy:pb,x01:-Qa,y01:-pa,x11:mb*(pc/sc-1),y11:pb*(pc/sc-1)}}function F(Da){return"object"===typeof Da&&"length"in Da?Da:Array.from(Da)}function C(Da){this._context=Da}function r(Da){return new C(Da)}function y(Da){return Da[0]}function K(Da){return Da[1]}function R(Da,ab){function xb(pa){var Qa,mb=(pa=F(pa)).length,pb,gc=!1,Qc;null==pc&&(Vc=sc(Qc=c()));for(Qa=0;Qa<=mb;++Qa)!(Qa<mb&&Lb(pb=pa[Qa],Qa,pa))===gc&&((gc=!gc)?Vc.lineStart():Vc.lineEnd()),gc&&Vc.point(+Da(pb,
Qa,pa),+ab(pb,Qa,pa));if(Qc)return Vc=null,Qc+""||null}var Lb=e(!0),pc=null,sc=r,Vc=null;Da="function"===typeof Da?Da:void 0===Da?y:e(Da);ab="function"===typeof ab?ab:void 0===ab?K:e(ab);xb.x=function(pa){return arguments.length?(Da="function"===typeof pa?pa:e(+pa),xb):Da};xb.y=function(pa){return arguments.length?(ab="function"===typeof pa?pa:e(+pa),xb):ab};xb.defined=function(pa){return arguments.length?(Lb="function"===typeof pa?pa:e(!!pa),xb):Lb};xb.curve=function(pa){return arguments.length?
(sc=pa,null!=pc&&(Vc=sc(pc)),xb):sc};xb.context=function(pa){return arguments.length?(null==pa?pc=Vc=null:Vc=sc(pc=pa),xb):pc};return xb}function S(Da,ab,xb){function Lb(pb){var gc,Qc,Yc=(pb=F(pb)).length,Bd,Tc=!1,Sd,Td=Array(Yc),De=Array(Yc);null==pa&&(mb=Qa(Sd=c()));for(gc=0;gc<=Yc;++gc){if(!(gc<Yc&&Vc(Bd=pb[gc],gc,pb))===Tc)if(Tc=!Tc){var tf=gc;mb.areaStart();mb.lineStart()}else{mb.lineEnd();mb.lineStart();for(Qc=gc-1;Qc>=tf;--Qc)mb.point(Td[Qc],De[Qc]);mb.lineEnd();mb.areaEnd()}Tc&&(Td[gc]=+Da(Bd,
gc,pb),De[gc]=+ab(Bd,gc,pb),mb.point(sc?+sc(Bd,gc,pb):Td[gc],xb?+xb(Bd,gc,pb):De[gc]))}if(Sd)return mb=null,Sd+""||null}function pc(){return R().defined(Vc).curve(Qa).context(pa)}var sc=null,Vc=e(!0),pa=null,Qa=r,mb=null;Da="function"===typeof Da?Da:void 0===Da?y:e(+Da);ab="function"===typeof ab?ab:void 0===ab?e(0):e(+ab);xb="function"===typeof xb?xb:void 0===xb?K:e(+xb);Lb.x=function(pb){return arguments.length?(Da="function"===typeof pb?pb:e(+pb),sc=null,Lb):Da};Lb.x0=function(pb){return arguments.length?
(Da="function"===typeof pb?pb:e(+pb),Lb):Da};Lb.x1=function(pb){return arguments.length?(sc=null==pb?null:"function"===typeof pb?pb:e(+pb),Lb):sc};Lb.y=function(pb){return arguments.length?(ab="function"===typeof pb?pb:e(+pb),xb=null,Lb):ab};Lb.y0=function(pb){return arguments.length?(ab="function"===typeof pb?pb:e(+pb),Lb):ab};Lb.y1=function(pb){return arguments.length?(xb=null==pb?null:"function"===typeof pb?pb:e(+pb),Lb):xb};Lb.lineX0=Lb.lineY0=function(){return pc().x(Da).y(ab)};Lb.lineY1=function(){return pc().x(Da).y(xb)};
Lb.lineX1=function(){return pc().x(sc).y(ab)};Lb.defined=function(pb){return arguments.length?(Vc="function"===typeof pb?pb:e(!!pb),Lb):Vc};Lb.curve=function(pb){return arguments.length?(Qa=pb,null!=pa&&(mb=Qa(pa)),Lb):Qa};Lb.context=function(pb){return arguments.length?(null==pb?pa=mb=null:mb=Qa(pa=pb),Lb):pa};return Lb}function ca(){}function M(Da,ab,xb){Da._context.bezierCurveTo((2*Da._x0+Da._x1)/3,(2*Da._y0+Da._y1)/3,(Da._x0+2*Da._x1)/3,(Da._y0+2*Da._y1)/3,(Da._x0+4*Da._x1+ab)/6,(Da._y0+4*Da._y1+
xb)/6)}function aa(Da){this._context=Da}function Y(Da){this._context=Da}function ea(Da){this._context=Da}function Ga(Da,ab){this._basis=new aa(Da);this._beta=ab}function X(Da,ab,xb){Da._context.bezierCurveTo(Da._x1+Da._k*(Da._x2-Da._x0),Da._y1+Da._k*(Da._y2-Da._y0),Da._x2+Da._k*(Da._x1-ab),Da._y2+Da._k*(Da._y1-xb),Da._x2,Da._y2)}function D(Da,ab){this._context=Da;this._k=(1-ab)/6}function B(Da,ab){this._context=Da;this._k=(1-ab)/6}function N(Da,ab){this._context=Da;this._k=(1-ab)/6}function Z(Da,
ab,xb){var Lb=Da._x1,pc=Da._y1,sc=Da._x2,Vc=Da._y2;if(1E-12<Da._l01_a){var pa=2*Da._l01_2a+3*Da._l01_a*Da._l12_a+Da._l12_2a,Qa=3*Da._l01_a*(Da._l01_a+Da._l12_a);Lb=(Lb*pa-Da._x0*Da._l12_2a+Da._x2*Da._l01_2a)/Qa;pc=(pc*pa-Da._y0*Da._l12_2a+Da._y2*Da._l01_2a)/Qa}1E-12<Da._l23_a&&(pa=2*Da._l23_2a+3*Da._l23_a*Da._l12_a+Da._l12_2a,Qa=3*Da._l23_a*(Da._l23_a+Da._l12_a),sc=(sc*pa+Da._x1*Da._l23_2a-ab*Da._l12_2a)/Qa,Vc=(Vc*pa+Da._y1*Da._l23_2a-xb*Da._l12_2a)/Qa);Da._context.bezierCurveTo(Lb,pc,sc,Vc,Da._x2,
Da._y2)}function Aa(Da,ab){this._context=Da;this._alpha=ab}function qa(Da,ab){this._context=Da;this._alpha=ab}function la(Da,ab){this._context=Da;this._alpha=ab}function Ja(Da){this._context=Da}function bb(Da,ab,xb){var Lb=Da._x1-Da._x0;ab-=Da._x1;var pc=(Da._y1-Da._y0)/(Lb||0>ab&&-0);Da=(xb-Da._y1)/(ab||0>Lb&&-0);return((0>pc?-1:1)+(0>Da?-1:1))*Math.min(Math.abs(pc),Math.abs(Da),.5*Math.abs((pc*ab+Da*Lb)/(Lb+ab)))||0}function ib(Da,ab){var xb=Da._x1-Da._x0;return xb?(3*(Da._y1-Da._y0)/xb-ab)/2:ab}
function Ma(Da,ab,xb){var Lb=Da._x0,pc=Da._x1,sc=Da._y1,Vc=(pc-Lb)/3;Da._context.bezierCurveTo(Lb+Vc,Da._y0+Vc*ab,pc-Vc,sc-Vc*xb,pc,sc)}function ma(Da){this._context=Da}function Fa(Da){this._context=new Ra(Da)}function Ra(Da){this._context=Da}function ra(Da){this._context=Da}function ya(Da){var ab,xb=Da.length-1,Lb=Array(xb),pc=Array(xb),sc=Array(xb);Lb[0]=0;pc[0]=2;sc[0]=Da[0]+2*Da[1];for(ab=1;ab<xb-1;++ab)Lb[ab]=1,pc[ab]=4,sc[ab]=4*Da[ab]+2*Da[ab+1];Lb[xb-1]=2;pc[xb-1]=7;sc[xb-1]=8*Da[xb-1]+Da[xb];
for(ab=1;ab<xb;++ab){var Vc=Lb[ab]/pc[ab-1];pc[ab]-=Vc;sc[ab]-=Vc*sc[ab-1]}Lb[xb-1]=sc[xb-1]/pc[xb-1];for(ab=xb-2;0<=ab;--ab)Lb[ab]=(sc[ab]-Lb[ab+1])/pc[ab];pc[xb-1]=(Da[xb]+Lb[xb-1])/2;for(ab=0;ab<xb-1;++ab)pc[ab]=2*Da[ab+1]-Lb[ab+1];return[Lb,pc]}function oa(Da,ab){this._context=Da;this._t=ab}function xa(Da,ab,xb){Da=k.hasOwnProperty(ie,Da)&&ie[Da];var Lb=null;Da&&(Lb=Da.curve||Da[ab||"vertical"],Da.tension&&null!=xb&&(Lb=Lb[Da.tension](xb)));return Lb}function Ua(Da){const ab=[];(Da.match(Tf)||
[]).forEach(xb=>{let Lb=xb[0];var pc=Lb.toLowerCase();const sc=mf[pc];var Vc=xb.slice(1).trim();xb=[];for(let Qa=0;sc&&Qa<Vc.length;)for(let mb=0;mb<sc;++mb){var pa="a"!==pc||3!==mb&&4!==mb?Gf:ng;pa=Vc.slice(Qa).match(pa);if(null===pa)throw Error("Invalid SVG path, incorrect parameter type");Qa+=pa[0].length;xb.push(+pa[0]);pa=Vc.slice(Qa).match(Ag);null!==pa&&(Qa+=pa[0].length)}Vc=xb.length;if(Vc<sc||Vc&&0!==Vc%sc)throw Error("Invalid SVG path, incorrect parameter count");ab.push([Lb,...xb.slice(0,
sc)]);if(Vc!==sc)for("m"===pc&&(Lb="M"===Lb?"L":"l"),pc=sc;pc<Vc;pc+=sc)ab.push([Lb,...xb.slice(pc,pc+sc)])});return ab}function fb(Da,ab,xb,Lb,pc,sc,Vc,pa,Qa){const mb=Uf.call(arguments);if(vg[mb])return vg[mb];var pb=Vc*ug;const gc=Math.sin(pb);pb=Math.cos(pb);xb=Math.abs(xb);Lb=Math.abs(Lb);var Qc=pb*(pa-Da)*.5+gc*(Qa-ab)*.5,Yc=pb*(Qa-ab)*.5-gc*(pa-Da)*.5;Qc=Qc*Qc/(xb*xb)+Yc*Yc/(Lb*Lb);1<Qc&&(Qc=Math.sqrt(Qc),xb*=Qc,Lb*=Qc);var Bd=pb/xb,Tc=gc/xb,Sd=-gc/Lb,Td=pb/Lb;Qc=Bd*pa+Tc*Qa;Yc=Sd*pa+Td*Qa;
Bd=Bd*Da+Tc*ab;Tc=Sd*Da+Td*ab;Sd=1/((Bd-Qc)*(Bd-Qc)+(Tc-Yc)*(Tc-Yc))-.25;0>Sd&&(Sd=0);Td=Math.sqrt(Sd);sc==pc&&(Td=-Td);Sd=.5*(Qc+Bd)-Td*(Tc-Yc);Td=.5*(Yc+Tc)+Td*(Bd-Qc);Qc=Math.atan2(Yc-Td,Qc-Sd);Yc=Math.atan2(Tc-Td,Bd-Sd)-Qc;0>Yc&&1===sc?Yc+=ig:0<Yc&&0===sc&&(Yc-=ig);Bd=Math.ceil(Math.abs(Yc/(Sg+.001)));Tc=[];for(let De=0;De<Bd;++De)Tc[De]=[Sd,Td,Qc+De*Yc/Bd,Qc+(De+1)*Yc/Bd,xb,Lb,gc,pb];return vg[mb]=Tc}function sa(Da,ab,xb,Lb,pc,sc){var Vc=null,pa=0,Qa=0,mb=0,pb=0,gc=0,Qc=0;null==xb&&(xb=0);null==
Lb&&(Lb=0);null==pc&&(pc=1);null==sc&&(sc=pc);Da.beginPath&&Da.beginPath();for(var Yc=0,Bd=ab.length;Yc<Bd;++Yc){var Tc=ab[Yc];if(1!==pc||1!==sc){var Sd=pc;var Td=sc;var De=Xf[0]=Tc[0];if("a"===De||"A"===De)Xf[1]=Sd*Tc[1],Xf[2]=Td*Tc[2],Xf[3]=Tc[3],Xf[4]=Tc[4],Xf[5]=Tc[5],Xf[6]=Sd*Tc[6],Xf[7]=Td*Tc[7];else if("h"===De||"H"===De)Xf[1]=Sd*Tc[1];else if("v"===De||"V"===De)Xf[1]=Td*Tc[1];else{De=1;for(var tf=Tc.length;De<tf;++De)Xf[De]=(1==De%2?Sd:Td)*Tc[De]}Tc=Xf}switch(Tc[0]){case "l":pa+=Tc[1];Qa+=
Tc[2];Da.lineTo(pa+xb,Qa+Lb);break;case "L":pa=Tc[1];Qa=Tc[2];Da.lineTo(pa+xb,Qa+Lb);break;case "h":pa+=Tc[1];Da.lineTo(pa+xb,Qa+Lb);break;case "H":pa=Tc[1];Da.lineTo(pa+xb,Qa+Lb);break;case "v":Qa+=Tc[1];Da.lineTo(pa+xb,Qa+Lb);break;case "V":Qa=Tc[1];Da.lineTo(pa+xb,Qa+Lb);break;case "m":pa+=Tc[1];Qa+=Tc[2];gc=pa;Qc=Qa;Da.moveTo(pa+xb,Qa+Lb);break;case "M":pa=Tc[1];Qa=Tc[2];gc=pa;Qc=Qa;Da.moveTo(pa+xb,Qa+Lb);break;case "c":Sd=pa+Tc[5];Td=Qa+Tc[6];mb=pa+Tc[3];pb=Qa+Tc[4];Da.bezierCurveTo(pa+Tc[1]+
xb,Qa+Tc[2]+Lb,mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;break;case "C":pa=Tc[5];Qa=Tc[6];mb=Tc[3];pb=Tc[4];Da.bezierCurveTo(Tc[1]+xb,Tc[2]+Lb,mb+xb,pb+Lb,pa+xb,Qa+Lb);break;case "s":Sd=pa+Tc[3];Td=Qa+Tc[4];mb=2*pa-mb;pb=2*Qa-pb;Da.bezierCurveTo(mb+xb,pb+Lb,pa+Tc[1]+xb,Qa+Tc[2]+Lb,Sd+xb,Td+Lb);mb=pa+Tc[1];pb=Qa+Tc[2];pa=Sd;Qa=Td;break;case "S":Sd=Tc[3];Td=Tc[4];mb=2*pa-mb;pb=2*Qa-pb;Da.bezierCurveTo(mb+xb,pb+Lb,Tc[1]+xb,Tc[2]+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;mb=Tc[1];pb=Tc[2];break;case "q":Sd=pa+Tc[3];Td=
Qa+Tc[4];mb=pa+Tc[1];pb=Qa+Tc[2];Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;break;case "Q":Sd=Tc[3];Td=Tc[4];Da.quadraticCurveTo(Tc[1]+xb,Tc[2]+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;mb=Tc[1];pb=Tc[2];break;case "t":Sd=pa+Tc[1];Td=Qa+Tc[2];null===Vc[0].match(/[QqTt]/)?(mb=pa,pb=Qa):"t"===Vc[0]?(mb=2*pa-Ze,pb=2*Qa-df):"q"===Vc[0]&&(mb=2*pa-mb,pb=2*Qa-pb);var Ze=mb;var df=pb;Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;mb=pa+Tc[1];pb=Qa+Tc[2];break;case "T":Sd=Tc[1];Td=Tc[2];mb=2*pa-
mb;pb=2*Qa-pb;Da.quadraticCurveTo(mb+xb,pb+Lb,Sd+xb,Td+Lb);pa=Sd;Qa=Td;break;case "a":Oa(Da,pa+xb,Qa+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+pa+xb,Tc[7]+Qa+Lb]);pa+=Tc[6];Qa+=Tc[7];break;case "A":Oa(Da,pa+xb,Qa+Lb,[Tc[1],Tc[2],Tc[3],Tc[4],Tc[5],Tc[6]+xb,Tc[7]+Lb]);pa=Tc[6];Qa=Tc[7];break;case "z":case "Z":pa=gc,Qa=Qc,Da.closePath()}Vc=Tc}}function Oa(Da,ab,xb,Lb){ab=fb(Lb[5],Lb[6],Lb[0],Lb[1],Lb[3],Lb[4],Lb[2],ab,xb);for(xb=0;xb<ab.length;++xb){a:{var pc=ab[xb];Lb=Uf.call(pc);if(og[Lb]){Lb=og[Lb];
break a}var sc=pc[0],Vc=pc[1],pa=pc[2],Qa=pc[3],mb=pc[4],pb=pc[5],gc=pc[6],Qc=pc[7];pc=Qc*mb;const Bd=-gc*pb;mb*=gc;pb*=Qc;var Yc=Math.cos(pa);const Tc=Math.sin(pa);gc=Math.cos(Qa);Qc=Math.sin(Qa);pa=.5*(Qa-pa);Qa=Math.sin(.5*pa);Qa=8/3*Qa*Qa/Math.sin(pa);pa=sc+Yc-Qa*Tc;Yc=Vc+Tc+Qa*Yc;sc+=gc;Vc+=Qc;Qc=sc+Qa*Qc;gc=Vc-Qa*gc;Lb=og[Lb]=[pc*pa+Bd*Yc,mb*pa+pb*Yc,pc*Qc+Bd*gc,mb*Qc+pb*gc,pc*sc+Bd*Vc,mb*sc+pb*Vc]}Da.bezierCurveTo(Lb[0],Lb[1],Lb[2],Lb[3],Lb[4],Lb[5])}}function ja(Da){return k.hasOwnProperty(Tg,
Da)?Tg[Da]:U(Da)}function U(Da){if(!k.hasOwnProperty(bh,Da)){const ab=Ua(Da);bh[Da]={draw:function(xb,Lb){sa(xb,ab,0,0,Math.sqrt(Lb)/2)}}}return bh[Da]}function ka(Da){return Da.x}function ua(Da){return Da.y}function Ta(Da){return Da.width}function eb(Da){return Da.height}function lb(Da){return"function"===typeof Da?Da:()=>+Da}function nb(Da,ab,xb){return Math.max(ab,Math.min(Da,xb))}function Mb(){function Da(pb,gc,Qc){var Yc;gc=null!=gc?gc:+ab.call(this,pb);Qc=null!=Qc?Qc:+xb.call(this,pb);var Bd=
+Lb.call(this,pb),Tc=+pc.call(this,pb),Sd=Math.min(Bd,Tc)/2,Td=nb(+sc.call(this,pb),0,Sd),De=nb(+Vc.call(this,pb),0,Sd),tf=nb(+pa.call(this,pb),0,Sd);pb=nb(+Qa.call(this,pb),0,Sd);mb||(mb=Yc=c());0>=Td&&0>=De&&0>=tf&&0>=pb?mb.rect(gc,Qc,Bd,Tc):(Bd=gc+Bd,Tc=Qc+Tc,mb.moveTo(gc+Td,Qc),mb.lineTo(Bd-De,Qc),mb.bezierCurveTo(Bd-.448084975506*De,Qc,Bd,Qc+.448084975506*De,Bd,Qc+De),mb.lineTo(Bd,Tc-pb),mb.bezierCurveTo(Bd,Tc-.448084975506*pb,Bd-.448084975506*pb,Tc,Bd-pb,Tc),mb.lineTo(gc+tf,Tc),mb.bezierCurveTo(gc+
.448084975506*tf,Tc,gc,Tc-.448084975506*tf,gc,Tc-tf),mb.lineTo(gc,Qc+Td),mb.bezierCurveTo(gc,Qc+.448084975506*Td,gc+.448084975506*Td,Qc,gc+Td,Qc),mb.closePath());if(Yc)return mb=null,Yc+""||null}var ab=ka,xb=ua,Lb=Ta,pc=eb,sc=lb(0),Vc=sc,pa=sc,Qa=sc,mb=null;Da.x=function(pb){return arguments.length?(ab=lb(pb),Da):ab};Da.y=function(pb){return arguments.length?(xb=lb(pb),Da):xb};Da.width=function(pb){return arguments.length?(Lb=lb(pb),Da):Lb};Da.height=function(pb){return arguments.length?(pc=lb(pb),
Da):pc};Da.cornerRadius=function(pb,gc,Qc,Yc){return arguments.length?(sc=lb(pb),Vc=null!=gc?lb(gc):sc,Qa=null!=Qc?lb(Qc):sc,pa=null!=Yc?lb(Yc):Vc,Da):sc};Da.context=function(pb){return arguments.length?(mb=null==pb?null:pb,Da):mb};return Da}function $b(){function Da(pb){var gc,Qc=pb.length,Yc,Bd=!1,Tc;null==sc&&(sc=Tc=c());for(gc=0;gc<=Qc;++gc)if(!(gc<Qc&&pc(Yc=pb[gc],gc,pb))===Bd&&(Bd=!Bd)&&(Vc=0),Bd){var Sd=+ab(Yc,gc,pb),Td=+xb(Yc,gc,pb);const gg=+Lb(Yc,gc,pb)/2;if(Vc){var De=Qa-Td,tf=Sd-pa;if(De||
tf){var Ze=Math.sqrt(De*De+tf*tf),df=(De/=Ze)*mb;Ze=(tf/=Ze)*mb;var Bg=Math.atan2(tf,De);sc.moveTo(pa-df,Qa-Ze);sc.lineTo(Sd-De*gg,Td-tf*gg);sc.arc(Sd,Td,gg,Bg-Math.PI,Bg);sc.lineTo(pa+df,Qa+Ze);sc.arc(pa,Qa,mb,Bg,Bg+Math.PI)}else sc.arc(Sd,Td,gg,0,ig);sc.closePath()}else Vc=1;pa=Sd;Qa=Td;mb=gg}if(Tc)return sc=null,Tc+""||null}var ab,xb,Lb,pc,sc=null,Vc,pa,Qa,mb;Da.x=function(pb){return arguments.length?(ab=pb,Da):ab};Da.y=function(pb){return arguments.length?(xb=pb,Da):xb};Da.size=function(pb){return arguments.length?
(Lb=pb,Da):Lb};Da.defined=function(pb){return arguments.length?(pc=pb,Da):pc};Da.context=function(pb){return arguments.length?(sc=null==pb?null:pb,Da):sc};return Da}function Gc(Da,ab){return null!=Da?Da:ab}function zc(Da){return Da.cornerRadius||Da.cornerRadiusTopLeft||Da.cornerRadiusTopRight||Da.cornerRadiusBottomRight||Da.cornerRadiusBottomLeft}function Bc(Da,ab,xb,Lb){return Dd.context(Da)(ab,xb,Lb)}function uc(Da,ab,xb){var Lb=ab.clip;Da=Da._defs;ab=ab.clip_id||(ab.clip_id="clip"+uf++);Da=Da.clipping[ab]||
(Da.clipping[ab]={id:ab});k.isFunction(Lb)?Da.path=Lb(null):zc(xb)?Da.path=Bc(null,xb,0,0):(Da.width=xb.width||0,Da.height=xb.height||0);return"url(#"+ab+")"}function id(Da){this.clear();Da&&this.union(Da)}function Hb(Da){this.mark=Da;this.bounds=this.bounds||new id}function Ab(Da){Hb.call(this,Da);this.items=this.items||[]}function dc(Da){this._pending=0;this._loader=Da||q.loader()}function Wb(Da,ab,xb){if(ab.stroke&&0!==ab.opacity&&0!==ab.strokeOpacity){const Lb=null!=ab.strokeWidth?+ab.strokeWidth:
1;Da.expand(Lb+(xb?ab.strokeJoin&&"miter"!==ab.strokeJoin?0:Lb:0))}return Da}function mc(Da,ab){Vf=Da;ab?(qh=ab*ug,wg=rh=Math.cos(qh),Ug=Math.sin(qh),oh=-Ug):(wg=rh=1,qh=Ug=oh=0);return da}function Kc(Da,ab,xb,Lb){xb=(Da-ab)/(Da+xb-2*ab);0<xb&&1>xb&&Lb(Da+(ab-Da)*xb)}function Fc(Da,ab,xb,Lb,pc){const sc=Lb-Da+3*ab-3*xb,Vc=Da+xb-2*ab;var pa=Da-ab;let Qa=0,mb=0;1E-14<Math.abs(sc)?(pa=Vc*Vc+pa*sc,0<=pa&&(pa=Math.sqrt(pa),Qa=(-Vc+pa)/sc,mb=(-Vc-pa)/sc)):Qa=.5*pa/Vc;0<Qa&&1>Qa&&pc(Sc(Qa,Da,ab,xb,Lb));
0<mb&&1>mb&&pc(Sc(mb,Da,ab,xb,Lb))}function Sc(Da,ab,xb,Lb,pc){const sc=1-Da,Vc=sc*sc,pa=Da*Da;return Vc*sc*ab+3*Vc*Da*xb+3*sc*pa*Lb+pa*Da*pc}function jd(Da){return function(ab,xb){if(!La)return!0;Da(La,ab);db.clear().union(ab.bounds).intersect(xb).round();const {x1:Lb,y1:pc,x2:sc,y2:Vc}=db;for(ab=pc;ab<=Vc;++ab)for(xb=Lb;xb<=sc;++xb)if(La.isPointInPath(xb,ab))return!0;return!1}}function $d(Da,ab){return ab.contains(Da.x||0,Da.y||0)}function Ba(Da,ab){const xb=Da.x||0,Lb=Da.y||0;return ab.intersects(db.set(xb,
Lb,xb+(Da.width||0),Lb+(Da.height||0)))}function va(Da,ab){const xb=Da.x||0,Lb=Da.y||0;return Ca(ab,xb,Lb,null!=Da.x2?Da.x2:xb,null!=Da.y2?Da.y2:Lb)}function Ca(Da,ab,xb,Lb,pc){const {x1:sc,y1:Vc,x2:pa,y2:Qa}=Da;Da=Lb-ab;pc-=xb;Lb=0;let mb=1,pb,gc,Qc,Yc;for(Yc=0;4>Yc;++Yc){0===Yc&&(pb=-Da,gc=-(sc-ab));1===Yc&&(pb=Da,gc=pa-ab);2===Yc&&(pb=-pc,gc=-(Vc-xb));3===Yc&&(pb=pc,gc=Qa-xb);if(1E-10>Math.abs(pb)&&0>gc)return!1;Qc=gc/pb;if(0>pb){if(Qc>mb)return!1;Qc>Lb&&(Lb=Qc)}else if(0<pb){if(Qc<Lb)return!1;
Qc<mb&&(mb=Qc)}}return!0}function $a(Da,ab){Da.globalCompositeOperation=ab.blend||"source-over"}function jb(Da,ab){return null==Da?ab:Da}function yb(Da,ab){const xb=ab.length;for(let Lb=0;Lb<xb;++Lb)Da.addColorStop(ab[Lb].offset,ab[Lb].color);return Da}function Ub(Da,ab,xb){const Lb=xb.width(),pc=xb.height();if("radial"===ab.gradient)Da=Da.createRadialGradient(xb.x1+jb(ab.x1,.5)*Lb,xb.y1+jb(ab.y1,.5)*pc,Math.max(Lb,pc)*jb(ab.r1,0),xb.x1+jb(ab.x2,.5)*Lb,xb.y1+jb(ab.y2,.5)*pc,Math.max(Lb,pc)*jb(ab.r2,
.5));else{const sc=jb(ab.x1,0),Vc=jb(ab.y1,0),pa=jb(ab.x2,1),Qa=jb(ab.y2,0);if(sc===pa||Vc===Qa||Lb===pc)Da=Da.createLinearGradient(xb.x1+sc*Lb,xb.y1+Vc*pc,xb.x1+pa*Lb,xb.y1+Qa*pc);else{xb=p.canvas(Math.ceil(Lb),Math.ceil(pc));const mb=xb.getContext("2d");mb.scale(Lb,pc);mb.fillStyle=yb(mb.createLinearGradient(sc,Vc,pa,Qa),ab.stops);mb.fillRect(0,0,Lb,pc);return Da.createPattern(xb,"no-repeat")}}return yb(Da,ab.stops)}function Tb(Da,ab,xb){xb*=null==ab.fillOpacity?1:ab.fillOpacity;return 0<xb?(Da.globalAlpha=
xb,ab=(xb=ab.fill)&&xb.gradient?Ub(Da,xb,ab.bounds):xb,Da.fillStyle=ab,!0):!1}function Vb(Da,ab,xb){var Lb=null!=(Lb=ab.strokeWidth)?Lb:1;if(0>=Lb)return!1;xb*=null==ab.strokeOpacity?1:ab.strokeOpacity;return 0<xb?(Da.globalAlpha=xb,xb=(xb=ab.stroke)&&xb.gradient?Ub(Da,xb,ab.bounds):xb,Da.strokeStyle=xb,Da.lineWidth=Lb,Da.lineCap=ab.strokeCap||"butt",Da.lineJoin=ab.strokeJoin||"miter",Da.miterLimit=ab.strokeMiterLimit||10,Da.setLineDash&&(Da.setLineDash(ab.strokeDash||Db),Da.lineDashOffset=ab.strokeDashOffset||
0),!0):!1}function Ic(Da,ab){return Da.zindex-ab.zindex||Da.index-ab.index}function $c(Da){if(!Da.zdirty)return Da.zitems;var ab=Da.items,xb=[],Lb;var pc=0;for(Lb=ab.length;pc<Lb;++pc){var sc=ab[pc];sc.index=pc;sc.zindex&&xb.push(sc)}Da.zdirty=!1;return Da.zitems=xb.sort(Ic)}function dd(Da,ab){var xb=Da.items,Lb;if(xb&&xb.length){var pc=$c(Da);if(pc&&pc.length){Da=0;for(Lb=xb.length;Da<Lb;++Da)xb[Da].zindex||ab(xb[Da]);xb=pc}Da=0;for(Lb=xb.length;Da<Lb;++Da)ab(xb[Da])}}function nd(Da,ab){var xb=Da.items,
Lb,pc;if(!xb||!xb.length)return null;const sc=$c(Da);sc&&sc.length&&(xb=sc);for(pc=xb.length;0<=--pc;)if(Lb=ab(xb[pc]))return Lb;if(xb===sc)for(xb=Da.items,pc=xb.length;0<=--pc;)if(!xb[pc].zindex&&(Lb=ab(xb[pc])))return Lb;return null}function xd(Da){return function(ab,xb,Lb){dd(xb,pc=>{Lb&&!Lb.intersects(pc.bounds)||Xd(Da,ab,pc,pc)})}}function Nd(Da){return function(ab,xb,Lb){!xb.items.length||Lb&&!Lb.intersects(xb.bounds)||Xd(Da,ab,xb.items[0],xb.items)}}function Xd(Da,ab,xb,Lb){var pc=null==xb.opacity?
1:xb.opacity;0===pc||Da(ab,Lb)||($a(ab,xb),xb.fill&&Tb(ab,xb,pc)&&ab.fill(),xb.stroke&&Vb(ab,xb,pc)&&ab.stroke())}function ge(Da){Da=Da||k.truthy;return function(ab,xb,Lb,pc,sc,Vc){Lb*=ab.pixelRatio;pc*=ab.pixelRatio;return nd(xb,pa=>{const Qa=pa.bounds;if((!Qa||Qa.contains(sc,Vc))&&Qa&&Da(ab,pa,Lb,pc,sc,Vc))return pa})}}function le(Da,ab){return function(xb,Lb,pc,sc){var Vc=Array.isArray(Lb)?Lb[0]:Lb,pa=null==ab?Vc.fill:ab,Qa=Vc.stroke&&xb.isPointInStroke;if(Qa){var mb=Vc.strokeWidth;Vc=Vc.strokeCap;
xb.lineWidth=null!=mb?mb:1;xb.lineCap=null!=Vc?Vc:"butt"}return Da(xb,Lb)?!1:pa&&xb.isPointInPath(pc,sc)||Qa&&xb.isPointInStroke(pc,sc)}}function qe(Da,ab){return"translate("+Da+","+ab+")"}function wd(Da,ab,xb){function Lb(pc,sc){var Vc=sc.x||0,pa=sc.y||0,Qa=sc.angle||0;pc.translate(Vc,pa);Qa&&pc.rotate(Qa*=ug);pc.beginPath();ab(pc,sc);Qa&&pc.rotate(-Qa);pc.translate(-Vc,-pa)}return{type:Da,tag:"path",nested:!1,attr:function(pc,sc){var Vc=qe(sc.x||0,sc.y||0)+(sc.angle?" rotate("+(sc.angle+")"):"");
pc("transform",Vc);pc("d",ab(null,sc))},bound:function(pc,sc){ab(mc(pc,sc.angle),sc);return Wb(pc,sc).translate(sc.x||0,sc.y||0)},draw:xd(Lb),pick:ge(le(Lb)),isect:xb||jd(Lb)}}function qf(Da,ab,xb){function Lb(sc,Vc){sc.beginPath();ab(sc,Vc)}const pc=le(Lb);return{type:Da,tag:"path",nested:!0,attr:function(sc,Vc){Vc=Vc.mark.items;Vc.length&&sc("d",ab(null,Vc))},bound:function(sc,Vc){Vc=Vc.items;if(0===Vc.length)return sc;ab(mc(sc),Vc);return Wb(sc,Vc[0])},draw:Nd(Lb),pick:function(sc,Vc,pa,Qa,mb,
pb){var gc=Vc.items;Vc=Vc.bounds;if(!gc||!gc.length||Vc&&!Vc.contains(mb,pb))return null;pa*=sc.pixelRatio;Qa*=sc.pixelRatio;return pc(sc,gc,pa,Qa)?gc[0]:null},isect:$d,tip:xb}}function gf(Da,ab){Da.beginPath();zc(ab)?Bc(Da,ab,0,0):Da.rect(0,0,ab.width||0,ab.height||0);Da.clip()}function te(Da){const ab=jb(Da.strokeWidth,1);return null!=Da.strokeOffset?Da.strokeOffset:Da.stroke&&.5<ab&&1.5>ab?.5-Math.abs(ab-1):0}function We(Da,ab,xb,Lb){const pc=te(ab);Da.beginPath();Bc(Da,ab,(xb||0)+pc,(Lb||0)+pc)}
function za(Da,ab){var xb=Da.image;if(!xb||Da.url&&Da.url!==xb.url)xb={complete:!1,width:0,height:0},ab.loadImage(Da.url).then(Lb=>{Da.image=Lb;Da.image.url=Da.url});return xb}function Za(Da,ab){return null!=Da.width?Da.width:ab&&ab.width?!1!==Da.aspect&&Da.height?Da.height*ab.width/ab.height:ab.width:0}function tb(Da,ab){return null!=Da.height?Da.height:ab&&ab.height?!1!==Da.aspect&&Da.width?Da.width*ab.height/ab.width:ab.height:0}function Jb(Da,ab){return"center"===Da?ab/2:"right"===Da?ab:0}function fc(Da,
ab){return"middle"===Da?ab/2:"bottom"===Da?ab:0}function nc(Da,ab){var xb=ab.path;if(null==xb)return!0;var Lb=ab.x||0,pc=ab.y||0,sc=ab.scaleX||1,Vc=ab.scaleY||1,pa=(ab.angle||0)*ug,Qa=ab.pathCache;Qa&&Qa.path===xb||((ab.pathCache=Qa=Ua(xb)).path=xb);pa&&Da.rotate&&Da.translate?(Da.translate(Lb,pc),Da.rotate(pa),sa(Da,Qa,0,0,sc,Vc),Da.rotate(-pa),Da.translate(-Lb,-pc)):sa(Da,Qa,Lb,pc,sc,Vc)}function Hc(Da,ab){Da.beginPath();Bc(Da,ab)}function Dc(Da,ab,xb){if(ab.stroke&&Vb(Da,ab,xb)){xb=ab.x||0;var Lb=
ab.y||0;var pc=null!=ab.x2?ab.x2:xb;ab=null!=ab.y2?ab.y2:Lb;Da.beginPath();Da.moveTo(xb,Lb);Da.lineTo(pc,ab);return!0}return!1}function lc(Da){dg.width=Da&&La?rd:ld}function ld(Da,ab){ab=Ce(Da,ab);Da=Vd(Da);return~~(.8*ab.length*Da)}function rd(Da,ab){return 0>=Vd(Da)||!(ab=Ce(Da,ab))?0:Hd(ab,Ge(Da))}function Hd(Da,ab){const xb=`(${ab}) ${Da}`;let Lb=ch.get(xb);void 0===Lb&&(La.font=ab,Lb=La.measureText(Da).width,ch.set(xb,Lb));return Lb}function Vd(Da){return null!=Da.fontSize?+Da.fontSize||0:11}
function ce(Da){return null!=Da.lineHeight?Da.lineHeight:Vd(Da)+2}function he(Da){Da=Da.lineBreak&&Da.text&&!k.isArray(Da.text)?Da.text.split(Da.lineBreak):Da.text;return k.isArray(Da)?1<Da.length?Da:Da[0]:Da}function Ce(Da,ab){ab=null==ab?"":(ab+"").trim();if(0<Da.limit&&ab.length){var xb=+Da.limit,Lb=re(Da);if(!(Lb(ab)<xb)){var pc=Da.ellipsis||"…",sc="rtl"===Da.dir;Da=0;var Vc=ab.length;xb-=Lb(pc);if(sc){for(;Da<Vc;)sc=Da+Vc>>>1,Lb(ab.slice(sc))>xb?Da=sc+1:Vc=sc;ab=pc+ab.slice(Da)}else{for(;Da<
Vc;)sc=1+(Da+Vc>>>1),Lb(ab.slice(0,sc))<xb?Da=sc:Vc=sc-1;ab=ab.slice(0,Da)+pc}}}return ab}function re(Da){if(dg.width===rd){const xb=Ge(Da);return Lb=>Hd(Lb,xb)}const ab=Vd(Da);return xb=>~~(.8*xb.length*ab)}function vf(Da,ab){Da=Da.font;return(ab&&Da?String(Da).replace(/"/g,"'"):Da)||"sans-serif"}function Ge(Da,ab){return(Da.fontStyle?Da.fontStyle+" ":"")+(Da.fontVariant?Da.fontVariant+" ":"")+(Da.fontWeight?Da.fontWeight+" ":"")+Vd(Da)+"px "+vf(Da,ab)}function Re(Da){var ab=Da.baseline,xb=Vd(Da);
return Math.round("top"===ab?.79*xb:"middle"===ab?.3*xb:"bottom"===ab?-.21*xb:"line-top"===ab?.29*xb+.5*ce(Da):"line-bottom"===ab?.29*xb-.5*ce(Da):0)}function af(Da){var ab=Da.x||0,xb=Da.y||0,Lb=Da.radius||0;Lb&&(Da=(Da.theta||0)-Sg,ab+=Lb*Math.cos(Da),xb+=Lb*Math.sin(Da));jg.x1=ab;jg.y1=xb;return jg}function Qb(Da,ab,xb){var Lb=dg.height(ab),pc=ab.align,sc=af(ab),Vc=sc.x1;sc=sc.y1;var pa=ab.dx||0,Qa=(ab.dy||0)+Re(ab)-Math.round(.8*Lb),mb=he(ab);k.isArray(mb)?(Lb+=ce(ab)*(mb.length-1),mb=mb.reduce((pb,
gc)=>Math.max(pb,dg.width(ab,gc)),0)):mb=dg.width(ab,mb);"center"===pc?pa-=mb/2:"right"===pc&&(pa-=mb);Da.set(pa+=Vc,Qa+=sc,pa+mb,Qa+Lb);if(ab.angle&&!xb)Da.rotate(ab.angle*ug,Vc,sc);else if(2===xb)return Da.rotatedPoints(ab.angle*ug,Vc,sc);return Da}function rc(Da,ab,xb){var Lb=wh[Da.mark.marktype];ab=ab||Lb.bound;Lb.nested&&(Da=Da.mark);return ab(Da.bounds||(Da.bounds=new id),Da,xb)}function bd(Da,ab,xb){var Lb=wh[Da.marktype],pc=Lb.bound,sc=Da.items,Vc=sc&&sc.length;if(Lb.nested)return Vc?Da=sc[0]:
(Og.mark=Da,Da=Og),xb=rc(Da,pc,xb),ab=ab&&ab.union(xb)||xb;ab=ab||Da.bounds&&Da.bounds.clear()||new id;if(Vc)for(Lb=0,Vc=sc.length;Lb<Vc;++Lb)ab.union(rc(sc[Lb],pc,xb));return Da.bounds=ab}function Ad(Da,ab){return JSON.stringify(Da,zh,ab)}function wa(Da){Da="string"===typeof Da?JSON.parse(Da):Da;return Xa(Da)}function Xa(Da){var ab=Da.marktype,xb=Da.items,Lb;if(xb){var pc=0;for(Lb=xb.length;pc<Lb;++pc){var sc=ab?"mark":"group";xb[pc][sc]=Da;xb[pc].zindex&&(xb[pc][sc].zdirty=!0);"group"===(ab||sc)&&
Xa(xb[pc])}}ab&&bd(Da);return Da}function zb(Da){arguments.length?this.root=wa(Da):(this.root=Xb({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ab(this.root)])}function Xb(Da,ab){ab={bounds:new id,clip:!!Da.clip,group:ab,interactive:!1===Da.interactive?!1:!0,items:[],marktype:Da.marktype,name:Da.name||void 0,role:Da.role||void 0,zindex:Da.zindex||0};null!=Da.aria&&(ab.aria=Da.aria);Da.description&&(ab.description=Da.description);return ab}function tc(Da,ab,xb){!Da&&"undefined"!==
typeof document&&document.createElement&&(Da=document);return Da?xb?Da.createElementNS(xb,ab):Da.createElement(ab):null}function gd(Da,ab){ab=ab.toLowerCase();Da=Da.childNodes;for(var xb=0,Lb=Da.length;xb<Lb;++xb)if(Da[xb].tagName.toLowerCase()===ab)return Da[xb]}function qc(Da,ab,xb,Lb){ab=Da.childNodes[ab];if(!ab||ab.tagName.toLowerCase()!==xb.toLowerCase()){var pc=ab||null;ab=tc(Da.ownerDocument,xb,Lb);Da.insertBefore(ab,pc)}return ab}function rb(Da,ab){for(var xb=Da.childNodes,Lb=xb.length;Lb>
ab;)Da.removeChild(xb[--Lb]);return Da}function Bb(Da){return"mark-"+Da.marktype+(Da.role?" role-"+Da.role:"")+(Da.name?" "+Da.name:"")}function ic(Da,ab){const xb=ab.getBoundingClientRect();return[Da.clientX-xb.left-(ab.clientLeft||0),Da.clientY-xb.top-(ab.clientTop||0)]}function Uc(Da,ab){this._active=null;this._handlers={};this._loader=Da||q.loader();this._tooltip=ab||Rd}function Rd(Da,ab,xb,Lb){Da.element().setAttribute("title",Lb||"")}function Md(Da){this._bgcolor=this._el=null;this._loader=
new dc(Da)}function Gd(Da,ab){Uc.call(this,Da,ab);this._touch=this._down=null;this._first=!0;this._events={}}function Pd(Da,ab){("touchstart"===ab||"touchmove"===ab||"touchend"===ab?["touchstart","touchmove","touchend"]:[ab]).forEach(xb=>Le(Da,xb))}function Le(Da,ab){const xb=Da.canvas();xb&&!Da._events[ab]&&(Da._events[ab]=1,xb.addEventListener(ab,Da[ab]?Lb=>Da[ab](Lb):Lb=>Da.fire(ab,Lb)))}function Se(Da,ab,xb){return function(Lb){const pc=this._active,sc=this.pickEvent(Lb);sc!==pc&&(pc&&pc.exit||
this.fire(xb,Lb),this._active=sc,this.fire(ab,Lb));this.fire(Da,Lb)}}function ha(Da){return function(ab){this.fire(Da,ab);this._active=null}}function ob(Da){Md.call(this,Da);this._options={};this._redraw=!1;this._dirty=new id;this._tempb=new id}function Ea(Da,ab){Uc.call(this,Da,ab);const xb=this;xb._hrefHandler=$h(xb,(Lb,pc)=>{pc&&pc.href&&xb.handleHref(Lb,pc,pc.href)});xb._tooltipHandler=$h(xb,(Lb,pc)=>{xb.handleTooltip(Lb,pc,"mouseout"!==Lb.type)})}function Ib(Da,ab){var xb=!1===ab.aria;Da("aria-hidden",
xb||void 0);if(xb||null==ab.description)for(const Lb in jf)Da(jf[Lb],void 0);else xb=ab.mark.marktype,Da("aria-label",ab.description),Da("role",ab.ariaRole||("group"===xb?"graphics-object":"graphics-symbol")),Da("aria-roledescription",ab.ariaRoleDescription||`${xb} mark`)}function Yb(Da){return!1===Da.aria?{["aria-hidden"]:!0}:Ch[Da.role]?null:hf[Da.role]?Nc(Da,hf[Da.role]):kc(Da)}function kc(Da){const ab=Da.marktype,xb="group"===ab||"text"===ab||Da.items.some(Lb=>null!=Lb.description&&!1!==Lb.aria);
return ef(xb?"graphics-object":"graphics-symbol",`${ab} mark container`,Da.description)}function Nc(Da,ab){try{const xb=Da.items[0],Lb=ab.caption||(()=>"");return ef(ab.role||"graphics-symbol",ab.desc,xb.description||Lb(xb))}catch(xb){return null}}function Jc(Da){try{return k.array(k.peek(Da.items).items[0].text).join(" ")}catch(ab){return null}}function pd(Da){Da=Da.map(ab=>ab+("fill"===ab||"stroke"===ab?" color":""));return 2>Da.length?Da[0]:Da.slice(0,-1).join(", ")+" and "+k.peek(Da)}function qd(){let Da=
"",ab="",xb="";const Lb=[],pc=(Vc,pa)=>{null!=pa&&(ab+=` ${Vc}="${Pg(pa).replace(/"/g,"\x26quot;").replace(/\t/g,"\x26#x9;").replace(/\n/g,"\x26#xA;").replace(/\r/g,"\x26#xD;")}"`);return sc},sc={open(Vc,...pa){ab&&(Da+=`${ab}>${xb}`,ab=xb="");Lb.push(Vc);ab="\x3c"+Vc;for(const Qa of pa)for(const mb in Qa)pc(mb,Qa[mb]);return sc},close(){const Vc=Lb.pop();Da=ab?Da+(ab+(xb?`>${xb}</${Vc}>`:"/\x3e")):Da+`</${Vc}>`;ab=xb="";return sc},attr:pc,text:Vc=>(xb+=Pg(Vc),sc),toString:()=>Da};return sc}function Yd(Da,
ab){Da.open(ab.tagName);if(ab.hasAttributes()){const xb=ab.attributes,Lb=xb.length;for(let pc=0;pc<Lb;++pc)Da.attr(xb[pc].name,xb[pc].value)}if(ab.hasChildNodes()){ab=ab.childNodes;for(const xb of ab)3===xb.nodeType?Da.text(xb.nodeValue):Yd(Da,xb)}return Da.close()}function Od(Da){Md.call(this,Da);this._dirtyID=0;this._dirty=[];this._defs=this._root=this._svg=null}function Jd(Da,ab){for(;Da&&Da.dirty!==ab;Da=Da.mark.group)if(Da.dirty=ab,Da.mark&&Da.mark.dirty!==ab)Da.mark.dirty=ab;else break}function ed(Da,
ab,xb){ab=ab.lastChild.previousSibling;let Lb,pc=0;dd(xb,sc=>{Lb=Da.mark(ab,sc,Lb);++pc});rb(ab,1+pc)}function sd(Da,ab,xb,Lb,pc){let sc=Da._svg;if(!sc){var Vc=ab.ownerDocument;sc=tc(Vc,Lb,ue);Da._svg=sc;Da.mark&&(sc.__data__=Da,sc.__values__={fill:"default"},"g"===Lb&&(Lb=tc(Vc,"path",ue),sc.appendChild(Lb),Lb.__data__=Da,Lb=tc(Vc,"g",ue),sc.appendChild(Lb),Lb.__data__=Da,Vc=tc(Vc,"path",ue),sc.appendChild(Vc),Vc.__data__=Da,Vc.__values__={fill:"default"}))}(sc.ownerSVGElement!==pc||sc.parentNode&&
1<sc.parentNode.childNodes.length&&sc.previousSibling!=xb)&&ab.insertBefore(sc,xb?xb.nextSibling:ab.firstChild);return sc}function wc(Da,ab,xb){if(ab!==Pe[Da]){if(xb){var Lb=Df;null!=ab?Lb.setAttributeNS(xb,Da,ab):Lb.removeAttributeNS(xb,Da)}else ud(Df,Da,ab);Pe[Da]=ab}}function Rc(Da,ab,xb){xb!==Pe[ab]&&(null==xb?Da.style.removeProperty(ab):Da.style.setProperty(ab,xb+""),Pe[ab]=xb)}function Lc(Da,ab){for(const xb in ab)ud(Da,xb,ab[xb])}function ud(Da,ab,xb){null!=xb?Da.setAttribute(ab,xb):Da.removeAttribute(ab)}
function kb(){let Da;return"undefined"===typeof window?"":(Da=window.location).hash?Da.href.slice(0,-Da.hash.length):Da.href}function Gb(Da){Md.call(this,Da);this._text=null;this._defs={gradient:{},clipping:{}}}function Pb(Da,ab,xb,Lb,pc){let sc;if(null==ab)return Da;"bgrect"===Lb&&!1===xb.interactive&&(Da["pointer-events"]="none");if("bgfore"===Lb&&(!1===xb.interactive&&(Da["pointer-events"]="none"),Da.display="none",null!==ab.fill))return Da;"image"===Lb&&!1===ab.smooth&&(sc=["image-rendering: optimizeSpeed;",
"image-rendering: pixelated;"]);"text"===Lb&&(Da["font-family"]=vf(ab),Da["font-size"]=Vd(ab)+"px",Da["font-style"]=ab.fontStyle,Da["font-variant"]=ab.fontVariant,Da["font-weight"]=ab.fontWeight);for(const Vc in Yh)xb=ab[Vc],Lb=Yh[Vc],("transparent"!==xb||"fill"!==Lb&&"stroke"!==Lb)&&null!=xb&&(xb&&xb.gradient&&(xb=n(xb,pc.gradient,"")),Da[Lb]=xb);for(const Vc in ai)pc=ab[Vc],null!=pc&&(sc=sc||[],sc.push(`${ai[Vc]}: ${pc};`));sc&&(Da.style=sc.join(" "));return Da}function bc(Da,ab,xb,Lb){if(Da.bounds&&
ab.intersects(Da.bounds)&&("group"===Da.marktype||!1!==Da.interactive&&(!xb||xb(Da)))){const sc=Da.items;var pc=Da.marktype;Da=sc.length;let Vc=0;if("group"===pc)for(;Vc<Da;++Vc)fa(sc[Vc],ab,xb,Lb);else for(xb=wh[pc].isect;Vc<Da;++Vc)pc=sc[Vc],Ia(pc,ab,xb)&&Lb.push(pc)}return Lb}function fa(Da,ab,xb,Lb){xb&&xb(Da.mark)&&Ia(Da,ab,wh.group.isect)&&Lb.push(Da);const pc=Da.items,sc=pc&&pc.length;if(sc){const Vc=Da.x||0;Da=Da.y||0;ab.translate(-Vc,-Da);for(let pa=0;pa<sc;++pa)bc(pc[pa],ab,xb,Lb);ab.translate(Vc,
Da)}return Lb}function Ia(Da,ab,xb){const Lb=Da.bounds;return ab.encloses(Lb)||ab.intersects(Lb)&&xb(Da,ab)}function gb(Da,ab,xb){return Da===ab?!0:"path"===xb?Fb(Da,ab):Da instanceof Date&&ab instanceof Date?+Da===+ab:k.isNumber(Da)&&k.isNumber(ab)?1E-9>=Math.abs(Da-ab):Da&&ab&&(k.isObject(Da)||k.isObject(ab))?Kb(Da,ab):Da==ab}function Fb(Da,ab){return gb(Ua(Da),Ua(ab))}function Kb(Da,ab){var xb=Object.keys(Da),Lb=Object.keys(ab),pc;if(xb.length!==Lb.length)return!1;xb.sort();Lb.sort();for(pc=xb.length-
1;0<=pc;pc--)if(xb[pc]!=Lb[pc])return!1;for(pc=xb.length-1;0<=pc;pc--)if(Lb=xb[pc],!gb(Da[Lb],ab[Lb],Lb))return!1;return typeof Da===typeof ab}let Ob=0;const oc=Math.PI,Oc=2*oc,yc=Oc-1E-6;b.prototype=c.prototype={constructor:b,moveTo:function(Da,ab){this._+="M"+(this._x0=this._x1=+Da)+","+(this._y0=this._y1=+ab)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(Da,ab){this._+="L"+(this._x1=+Da)+","+(this._y1=+ab)},quadraticCurveTo:function(Da,
ab,xb,Lb){this._+="Q"+ +Da+","+ +ab+","+(this._x1=+xb)+","+(this._y1=+Lb)},bezierCurveTo:function(Da,ab,xb,Lb,pc,sc){this._+="C"+ +Da+","+ +ab+","+ +xb+","+ +Lb+","+(this._x1=+pc)+","+(this._y1=+sc)},arcTo:function(Da,ab,xb,Lb,pc){Da=+Da;ab=+ab;xb=+xb;Lb=+Lb;pc=+pc;var sc=this._x1,Vc=this._y1,pa=xb-Da,Qa=Lb-ab,mb=sc-Da,pb=Vc-ab,gc=mb*mb+pb*pb;if(0>pc)throw Error("negative radius: "+pc);if(null===this._x1)this._+="M"+(this._x1=Da)+","+(this._y1=ab);else if(1E-6<gc)if(1E-6<Math.abs(pb*pa-Qa*mb)&&pc){xb-=
sc;Lb-=Vc;var Qc=pa*pa+Qa*Qa;Vc=Math.sqrt(Qc);sc=Math.sqrt(gc);gc=pc*Math.tan((oc-Math.acos((Qc+gc-(xb*xb+Lb*Lb))/(2*Vc*sc)))/2);sc=gc/sc;gc/=Vc;1E-6<Math.abs(sc-1)&&(this._+="L"+(Da+sc*mb)+","+(ab+sc*pb));this._+="A"+pc+","+pc+",0,0,"+ +(pb*xb>mb*Lb)+","+(this._x1=Da+gc*pa)+","+(this._y1=ab+gc*Qa)}else this._+="L"+(this._x1=Da)+","+(this._y1=ab)},arc:function(Da,ab,xb,Lb,pc,sc){Da=+Da;ab=+ab;xb=+xb;sc=!!sc;var Vc=xb*Math.cos(Lb),pa=xb*Math.sin(Lb),Qa=Da+Vc,mb=ab+pa,pb=1^sc;Lb=sc?Lb-pc:pc-Lb;if(0>
xb)throw Error("negative radius: "+xb);if(null===this._x1)this._+="M"+Qa+","+mb;else if(1E-6<Math.abs(this._x1-Qa)||1E-6<Math.abs(this._y1-mb))this._+="L"+Qa+","+mb;xb&&(0>Lb&&(Lb=Lb%Oc+Oc),Lb>yc?this._+="A"+xb+","+xb+",0,1,"+pb+","+(Da-Vc)+","+(ab-pa)+"A"+xb+","+xb+",0,1,"+pb+","+(this._x1=Qa)+","+(this._y1=mb):1E-6<Lb&&(this._+="A"+xb+","+xb+",0,"+ +(Lb>=oc)+","+pb+","+(this._x1=Da+xb*Math.cos(pc))+","+(this._y1=ab+xb*Math.sin(pc))))},rect:function(Da,ab,xb,Lb){this._+="M"+(this._x0=this._x1=+Da)+
","+(this._y0=this._y1=+ab)+"h"+ +xb+"v"+ +Lb+"h"+-xb+"Z"},toString:function(){return this._}};const fd=Math.abs,Ec=Math.atan2,Fd=Math.cos,Be=Math.max,fe=Math.min,Ae=Math.sin,Zd=Math.sqrt,vd=Math.PI,Kd=vd/2,ee=2*vd;C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(Da,ab):this._context.moveTo(Da,ab);break;case 1:this._point=2;default:this._context.lineTo(Da,ab)}}};var xe={draw(Da,ab){ab=Zd(ab/vd);Da.moveTo(ab,0);Da.arc(0,0,ab,0,ee)}};aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=0},lineEnd:function(){switch(this._point){case 3:M(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==
this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(Da,ab):this._context.moveTo(Da,ab);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};Y.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=
this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2);this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3);this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3);this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(Da,
ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;this._x2=Da;this._y2=ab;break;case 1:this._point=2;this._x3=Da;this._y3=ab;break;case 2:this._point=3;this._x4=Da;this._y4=ab;this._context.moveTo((this._x0+4*this._x1+Da)/6,(this._y0+4*this._y1+ab)/6);break;default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN;this._point=
0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Da,ab){Da=+Da;ab=+ab;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var xb=(this._x0+4*this._x1+Da)/6,Lb=(this._y0+4*this._y1+ab)/6;this._line?this._context.lineTo(xb,Lb):this._context.moveTo(xb,Lb);break;case 3:this._point=4;default:M(this,Da,ab)}this._x0=this._x1;this._x1=Da;this._y0=this._y1;this._y1=ab}};Ga.prototype=
{lineStart:function(){this._x=[];this._y=[];this._basis.lineStart()},lineEnd:function(){var Da=this._x,ab=this._y,xb=Da.length-1;if(0<xb)for(var Lb=Da[0],pc=ab[0],sc=Da[xb]-Lb,Vc=ab[xb]-pc,pa=-1,Qa;++pa<=xb;)Qa=pa/xb,this._basis.point(this._beta*Da[pa]+(1-this._beta)*(Lb+Qa*sc),this._beta*ab[pa]+(1-this._beta)*(pc+Qa*Vc));this._x=this._y=null;this._basis.lineEnd()},point:function(Da,ab){this._x.push(+Da);this._y.push(+ab)}};var ze=function xb(ab){function Lb(pc){return 1===ab?new aa(pc):new Ga(pc,
ab)}Lb.beta=function(pc){return xb(+pc)};return Lb}(.85);D.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:X(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(ab,xb){ab=+ab;xb=+xb;switch(this._point){case 0:this._point=
1;this._line?this._context.lineTo(ab,xb):this._context.moveTo(ab,xb);break;case 1:this._point=2;this._x1=ab;this._y1=xb;break;case 2:this._point=3;default:X(this,ab,xb)}this._x0=this._x1;this._x1=this._x2;this._x2=ab;this._y0=this._y1;this._y1=this._y2;this._y2=xb}};var Te=function Lb(xb){function pc(sc){return new D(sc,xb)}pc.tension=function(sc){return Lb(+sc)};return pc}(0);B.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=
this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(xb,Lb){xb=+xb;Lb=+Lb;switch(this._point){case 0:this._point=1;this._x3=xb;this._y3=Lb;break;case 1:this._point=2;this._context.moveTo(this._x4=
xb,this._y4=Lb);break;case 2:this._point=3;this._x5=xb;this._y5=Lb;break;default:X(this,xb,Lb)}this._x0=this._x1;this._x1=this._x2;this._x2=xb;this._y0=this._y1;this._y1=this._y2;this._y2=Lb}};var Id=function pc(Lb){function sc(Vc){return new B(Vc,Lb)}sc.tension=function(Vc){return pc(+Vc)};return sc}(0);N.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){(this._line||
0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Lb,pc){Lb=+Lb;pc=+pc;switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:X(this,Lb,pc)}this._x0=this._x1;this._x1=this._x2;this._x2=Lb;this._y0=this._y1;this._y1=this._y2;this._y2=pc}};var sf=function sc(pc){function Vc(pa){return new N(pa,
pc)}Vc.tension=function(pa){return sc(+pa)};return Vc}(0);Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();
this._line=1-this._line},point:function(pc,sc){pc=+pc;sc=+sc;if(this._point){var Vc=this._x2-pc,pa=this._y2-sc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Vc*Vc+pa*pa,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pc,sc):this._context.moveTo(pc,sc);break;case 1:this._point=2;break;case 2:this._point=3;default:Z(this,pc,sc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;
this._x2=pc;this._y0=this._y1;this._y1=this._y2;this._y2=sc}};var Af=function Vc(sc){function pa(Qa){return sc?new Aa(Qa,sc):new D(Qa,0)}pa.alpha=function(Qa){return Vc(+Qa)};return pa}(.5);qa.prototype={areaStart:ca,areaEnd:ca,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,
this._y3);this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3);this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(sc,Vc){sc=+sc;Vc=+Vc;if(this._point){var pa=this._x2-sc,Qa=this._y2-Vc;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(pa*pa+Qa*Qa,this._alpha))}switch(this._point){case 0:this._point=1;this._x3=sc;this._y3=Vc;break;case 1:this._point=2;this._context.moveTo(this._x4=sc,
this._y4=Vc);break;case 2:this._point=3;this._x5=sc;this._y5=Vc;break;default:Z(this,sc,Vc)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=sc;this._y0=this._y1;this._y1=this._y2;this._y2=Vc}};var Ff=function pa(Vc){function Qa(mb){return Vc?new qa(mb,Vc):new B(mb,0)}Qa.alpha=function(mb){return pa(+mb)};return Qa}(.5);la.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},
lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath();this._line=1-this._line},point:function(Vc,pa){Vc=+Vc;pa=+pa;if(this._point){var Qa=this._x2-Vc,mb=this._y2-pa;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(Qa*Qa+mb*mb,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=
2;break;case 2:this._point=3;this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Z(this,Vc,pa)}this._l01_a=this._l12_a;this._l12_a=this._l23_a;this._l01_2a=this._l12_2a;this._l12_2a=this._l23_2a;this._x0=this._x1;this._x1=this._x2;this._x2=Vc;this._y0=this._y1;this._y1=this._y2;this._y2=pa}};var $g=function Qa(pa){function mb(pb){return pa?new la(pb,pa):new N(pb,0)}mb.alpha=function(pb){return Qa(+pb)};return mb}(.5);Ja.prototype=
{areaStart:ca,areaEnd:ca,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(pa,Qa){pa=+pa;Qa=+Qa;this._point?this._context.lineTo(pa,Qa):(this._point=1,this._context.moveTo(pa,Qa))}};ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;
case 3:Ma(this,this._t0,ib(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath();this._line=1-this._line},point:function(pa,Qa){var mb=NaN;pa=+pa;Qa=+Qa;if(pa!==this._x1||Qa!==this._y1){switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pa,Qa):this._context.moveTo(pa,Qa);break;case 1:this._point=2;break;case 2:this._point=3;Ma(this,ib(this,mb=bb(this,pa,Qa)),mb);break;default:Ma(this,this._t0,mb=bb(this,pa,Qa))}this._x0=this._x1;this._x1=pa;
this._y0=this._y1;this._y1=Qa;this._t0=mb}}};(Fa.prototype=Object.create(ma.prototype)).point=function(pa,Qa){ma.prototype.point.call(this,Qa,pa)};Ra.prototype={moveTo:function(pa,Qa){this._context.moveTo(Qa,pa)},closePath:function(){this._context.closePath()},lineTo:function(pa,Qa){this._context.lineTo(Qa,pa)},bezierCurveTo:function(pa,Qa,mb,pb,gc,Qc){this._context.bezierCurveTo(Qa,pa,pb,mb,Qc,gc)}};ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=
[];this._y=[]},lineEnd:function(){var pa=this._x,Qa=this._y,mb=pa.length;if(mb)if(this._line?this._context.lineTo(pa[0],Qa[0]):this._context.moveTo(pa[0],Qa[0]),2===mb)this._context.lineTo(pa[1],Qa[1]);else for(var pb=ya(pa),gc=ya(Qa),Qc=0,Yc=1;Yc<mb;++Qc,++Yc)this._context.bezierCurveTo(pb[0][Qc],gc[0][Qc],pb[1][Qc],gc[1][Qc],pa[Yc],Qa[Yc]);(this._line||0!==this._line&&1===mb)&&this._context.closePath();this._line=1-this._line;this._x=this._y=null},point:function(pa,Qa){this._x.push(+pa);this._y.push(+Qa)}};
oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN;this._point=0},lineEnd:function(){0<this._t&&1>this._t&&2===this._point&&this._context.lineTo(this._x,this._y);(this._line||0!==this._line&&1===this._point)&&this._context.closePath();0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(pa,Qa){pa=+pa;Qa=+Qa;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(pa,Qa):this._context.moveTo(pa,
Qa);break;case 1:this._point=2;default:if(0>=this._t)this._context.lineTo(this._x,Qa),this._context.lineTo(pa,Qa);else{var mb=this._x*(1-this._t)+pa*this._t;this._context.lineTo(mb,this._y);this._context.lineTo(mb,Qa)}}this._x=pa;this._y=Qa}};const ie={basis:{curve:function(pa){return new aa(pa)}},"basis-closed":{curve:function(pa){return new Y(pa)}},"basis-open":{curve:function(pa){return new ea(pa)}},bundle:{curve:ze,tension:"beta",value:.85},cardinal:{curve:Te,tension:"tension",value:0},"cardinal-open":{curve:sf,
tension:"tension",value:0},"cardinal-closed":{curve:Id,tension:"tension",value:0},"catmull-rom":{curve:Af,tension:"alpha",value:.5},"catmull-rom-closed":{curve:Ff,tension:"alpha",value:.5},"catmull-rom-open":{curve:$g,tension:"alpha",value:.5},linear:{curve:r},"linear-closed":{curve:function(pa){return new Ja(pa)}},monotone:{horizontal:function(pa){return new Fa(pa)},vertical:function(pa){return new ma(pa)}},natural:{curve:function(pa){return new ra(pa)}},step:{curve:function(pa){return new oa(pa,
.5)}},"step-after":{curve:function(pa){return new oa(pa,1)}},"step-before":{curve:function(pa){return new oa(pa,0)}}},mf={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},Tf=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,Gf=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,Ag=/^((\s+,?\s*)|(,\s*))/,ng=/^[01]/,ug=Math.PI/180,Sg=Math.PI/2,ig=2*Math.PI,Cf=Math.sqrt(3)/2;var vg={},og={},Uf=[].join;const Xf=["l",0,0,0,0,0,0,0],Tg={circle:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;pa.moveTo(Qa,0);pa.arc(0,0,Qa,
0,ig)}},cross:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Qa/2.5;pa.moveTo(-Qa,-mb);pa.lineTo(-Qa,mb);pa.lineTo(-mb,mb);pa.lineTo(-mb,Qa);pa.lineTo(mb,Qa);pa.lineTo(mb,mb);pa.lineTo(Qa,mb);pa.lineTo(Qa,-mb);pa.lineTo(mb,-mb);pa.lineTo(mb,-Qa);pa.lineTo(-mb,-Qa);pa.lineTo(-mb,-mb);pa.closePath()}},diamond:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;pa.moveTo(-Qa,0);pa.lineTo(0,-Qa);pa.lineTo(Qa,0);pa.lineTo(0,Qa);pa.closePath()}},square:{draw:function(pa,Qa){Qa=Math.sqrt(Qa);var mb=-Qa/2;pa.rect(mb,
mb,Qa,Qa)}},arrow:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Qa/7,pb=Qa/2.5,gc=Qa/8;pa.moveTo(-mb,Qa);pa.lineTo(mb,Qa);pa.lineTo(mb,-gc);pa.lineTo(pb,-gc);pa.lineTo(0,-Qa);pa.lineTo(-pb,-gc);pa.lineTo(-mb,-gc);pa.closePath()}},wedge:{draw:function(pa,Qa){var mb=Math.sqrt(Qa)/2;Qa=Cf*mb;var pb=Qa-.5773502691896257*mb;mb/=4;pa.moveTo(0,-Qa-pb);pa.lineTo(-mb,Qa-pb);pa.lineTo(mb,Qa-pb);pa.closePath()}},triangle:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Cf*Qa,pb=mb-.5773502691896257*Qa;pa.moveTo(0,
-mb-pb);pa.lineTo(-Qa,mb-pb);pa.lineTo(Qa,mb-pb);pa.closePath()}},"triangle-up":{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Cf*Qa;pa.moveTo(0,-mb);pa.lineTo(-Qa,mb);pa.lineTo(Qa,mb);pa.closePath()}},"triangle-down":{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Cf*Qa;pa.moveTo(0,mb);pa.lineTo(-Qa,-mb);pa.lineTo(Qa,-mb);pa.closePath()}},"triangle-right":{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;var mb=Cf*Qa;pa.moveTo(mb,0);pa.lineTo(-mb,-Qa);pa.lineTo(-mb,Qa);pa.closePath()}},"triangle-left":{draw:function(pa,
Qa){Qa=Math.sqrt(Qa)/2;var mb=Cf*Qa;pa.moveTo(-mb,0);pa.lineTo(mb,-Qa);pa.lineTo(mb,Qa);pa.closePath()}},stroke:{draw:function(pa,Qa){Qa=Math.sqrt(Qa)/2;pa.moveTo(-Qa,0);pa.lineTo(Qa,0)}}};var bh={};const Ng=pa=>pa.x||0,Ig=pa=>pa.y||0,Jg=pa=>!1!==pa.defined,Wa=function(){function pa(){var Sd,Td=+Qa.apply(this,arguments),De=+mb.apply(this,arguments),tf=Qc.apply(this,arguments)-Kd,Ze=Yc.apply(this,arguments)-Kd,df=fd(Ze-tf),Bg=Ze>tf;Tc||(Tc=Sd=c());if(De<Td){var gg=De;De=Td;Td=gg}if(1E-12<De)if(df>
ee-1E-12)Tc.moveTo(De*Fd(tf),De*Ae(tf)),Tc.arc(0,0,De,tf,Ze,!Bg),1E-12<Td&&(Tc.moveTo(Td*Fd(Ze),Td*Ae(Ze)),Tc.arc(0,0,Td,Ze,tf,Bg));else{var He=tf,pf=Ze;gg=tf;var Hf=Ze,mg=df,ci=df,Rg=Bd.apply(this,arguments)/2,Cg=1E-12<Rg&&(gc?+gc.apply(this,arguments):Zd(Td*Td+De*De)),li=fe(fd(De-Td)/2,+pb.apply(this,arguments)),xg=li,Ah=li;if(1E-12<Cg){var Lg=g(Cg/Td*Ae(Rg));Rg=g(Cg/De*Ae(Rg));1E-12<(mg-=2*Lg)?(Lg*=Bg?1:-1,gg+=Lg,Hf-=Lg):(mg=0,gg=Hf=(tf+Ze)/2);1E-12<(ci-=2*Rg)?(Rg*=Bg?1:-1,He+=Rg,pf-=Rg):(ci=0,
He=pf=(tf+Ze)/2)}tf=De*Fd(He);Ze=De*Ae(He);Lg=Td*Fd(Hf);Rg=Td*Ae(Hf);if(1E-12<li){var eh=De*Fd(pf),ii=De*Ae(pf),ji=Td*Fd(gg),Lf=Td*Ae(gg);if(df=df<vd){var Yg=ji-tf;df=Lf-Ze;Cg=Lg-eh;var xh=Rg-ii,Ih=xh*Yg-Cg*df;1E-12>Ih*Ih?Yg=void 0:(Ih=(Cg*(Ze-ii)-xh*(tf-eh))/Ih,Yg=[tf+Ih*Yg,Ze+Ih*df]);df=Yg}df&&(xg=tf-Yg[0],Ah=Ze-Yg[1],df=eh-Yg[0],Cg=ii-Yg[1],xg=(xg*df+Ah*Cg)/(Zd(xg*xg+Ah*Ah)*Zd(df*df+Cg*Cg)),Ah=1/Ae((1<xg?0:-1>xg?vd:Math.acos(xg))/2),Yg=Zd(Yg[0]*Yg[0]+Yg[1]*Yg[1]),xg=fe(li,(Td-Yg)/(Ah-1)),Ah=fe(li,
(De-Yg)/(Ah+1)))}1E-12<ci?1E-12<Ah?(He=I(ji,Lf,tf,Ze,De,Ah,Bg),pf=I(eh,ii,Lg,Rg,De,Ah,Bg),Tc.moveTo(He.cx+He.x01,He.cy+He.y01),Ah<li?Tc.arc(He.cx,He.cy,Ah,Ec(He.y01,He.x01),Ec(pf.y01,pf.x01),!Bg):(Tc.arc(He.cx,He.cy,Ah,Ec(He.y01,He.x01),Ec(He.y11,He.x11),!Bg),Tc.arc(0,0,De,Ec(He.cy+He.y11,He.cx+He.x11),Ec(pf.cy+pf.y11,pf.cx+pf.x11),!Bg),Tc.arc(pf.cx,pf.cy,Ah,Ec(pf.y11,pf.x11),Ec(pf.y01,pf.x01),!Bg))):(Tc.moveTo(tf,Ze),Tc.arc(0,0,De,He,pf,!Bg)):Tc.moveTo(tf,Ze);1E-12<Td&&1E-12<mg?1E-12<xg?(He=I(Lg,
Rg,eh,ii,Td,-xg,Bg),pf=I(tf,Ze,ji,Lf,Td,-xg,Bg),Tc.lineTo(He.cx+He.x01,He.cy+He.y01),xg<li?Tc.arc(He.cx,He.cy,xg,Ec(He.y01,He.x01),Ec(pf.y01,pf.x01),!Bg):(Tc.arc(He.cx,He.cy,xg,Ec(He.y01,He.x01),Ec(He.y11,He.x11),!Bg),Tc.arc(0,0,Td,Ec(He.cy+He.y11,He.cx+He.x11),Ec(pf.cy+pf.y11,pf.cx+pf.x11),Bg),Tc.arc(pf.cx,pf.cy,xg,Ec(pf.y11,pf.x11),Ec(pf.y01,pf.x01),!Bg))):Tc.arc(0,0,Td,Hf,gg,Bg):Tc.lineTo(Lg,Rg)}else Tc.moveTo(0,0);Tc.closePath();if(Sd)return Tc=null,Sd+""||null}var Qa=m,mb=h,pb=e(0),gc=null,Qc=
x,Yc=O,Bd=G,Tc=null;pa.centroid=function(){var Sd=(+Qa.apply(this,arguments)+ +mb.apply(this,arguments))/2,Td=(+Qc.apply(this,arguments)+ +Yc.apply(this,arguments))/2-vd/2;return[Fd(Td)*Sd,Ae(Td)*Sd]};pa.innerRadius=function(Sd){return arguments.length?(Qa="function"===typeof Sd?Sd:e(+Sd),pa):Qa};pa.outerRadius=function(Sd){return arguments.length?(mb="function"===typeof Sd?Sd:e(+Sd),pa):mb};pa.cornerRadius=function(Sd){return arguments.length?(pb="function"===typeof Sd?Sd:e(+Sd),pa):pb};pa.padRadius=
function(Sd){return arguments.length?(gc=null==Sd?null:"function"===typeof Sd?Sd:e(+Sd),pa):gc};pa.startAngle=function(Sd){return arguments.length?(Qc="function"===typeof Sd?Sd:e(+Sd),pa):Qc};pa.endAngle=function(Sd){return arguments.length?(Yc="function"===typeof Sd?Sd:e(+Sd),pa):Yc};pa.padAngle=function(Sd){return arguments.length?(Bd="function"===typeof Sd?Sd:e(+Sd),pa):Bd};pa.context=function(Sd){return arguments.length?(Tc=null==Sd?null:Sd,pa):Tc};return pa}().startAngle(pa=>pa.startAngle||0).endAngle(pa=>
pa.endAngle||0).padAngle(pa=>pa.padAngle||0).innerRadius(pa=>pa.innerRadius||0).outerRadius(pa=>pa.outerRadius||0).cornerRadius(pa=>pa.cornerRadius||0),Cb=S().x(Ng).y1(Ig).y0(pa=>(pa.y||0)+(pa.height||0)).defined(Jg),hc=S().y(Ig).x1(Ng).x0(pa=>(pa.x||0)+(pa.width||0)).defined(Jg),yd=R().x(Ng).y(Ig).defined(Jg),Dd=Mb().x(Ng).y(Ig).width(pa=>pa.width||0).height(pa=>pa.height||0).cornerRadius(pa=>Gc(pa.cornerRadiusTopLeft,pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusTopRight,pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusBottomRight,
pa.cornerRadius)||0,pa=>Gc(pa.cornerRadiusBottomLeft,pa.cornerRadius)||0),ne=function(pa,Qa){function mb(){let gc;pb||(pb=gc=c());pa.apply(this,arguments).draw(pb,+Qa.apply(this,arguments));if(gc)return pb=null,gc+""||null}let pb=null;pa="function"===typeof pa?pa:e(pa||xe);Qa="function"===typeof Qa?Qa:e(void 0===Qa?64:+Qa);mb.type=function(gc){return arguments.length?(pa="function"===typeof gc?gc:e(gc),mb):pa};mb.size=function(gc){return arguments.length?(Qa="function"===typeof gc?gc:e(+gc),mb):Qa};
mb.context=function(gc){return arguments.length?(pb=null==gc?null:gc,mb):pb};return mb}().type(pa=>ja(pa.shape||"circle")).size(pa=>Gc(pa.size,64)),of=$b().x(Ng).y(Ig).defined(Jg).size(pa=>pa.size||1);var uf=1;id.prototype={clone(){return new id(this)},clear(){this.x1=+Number.MAX_VALUE;this.y1=+Number.MAX_VALUE;this.x2=-Number.MAX_VALUE;this.y2=-Number.MAX_VALUE;return this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},
equals(pa){return this.x1===pa.x1&&this.y1===pa.y1&&this.x2===pa.x2&&this.y2===pa.y2},set(pa,Qa,mb,pb){mb<pa?(this.x2=pa,this.x1=mb):(this.x1=pa,this.x2=mb);pb<Qa?(this.y2=Qa,this.y1=pb):(this.y1=Qa,this.y2=pb);return this},add(pa,Qa){pa<this.x1&&(this.x1=pa);Qa<this.y1&&(this.y1=Qa);pa>this.x2&&(this.x2=pa);Qa>this.y2&&(this.y2=Qa);return this},expand(pa){this.x1-=pa;this.y1-=pa;this.x2+=pa;this.y2+=pa;return this},round(){this.x1=Math.floor(this.x1);this.y1=Math.floor(this.y1);this.x2=Math.ceil(this.x2);
this.y2=Math.ceil(this.y2);return this},scale(pa){this.x1*=pa;this.y1*=pa;this.x2*=pa;this.y2*=pa;return this},translate(pa,Qa){this.x1+=pa;this.x2+=pa;this.y1+=Qa;this.y2+=Qa;return this},rotate(pa,Qa,mb){pa=this.rotatedPoints(pa,Qa,mb);return this.clear().add(pa[0],pa[1]).add(pa[2],pa[3]).add(pa[4],pa[5]).add(pa[6],pa[7])},rotatedPoints(pa,Qa,mb){var {x1:pb,y1:gc,x2:Qc,y2:Yc}=this,Bd=Math.cos(pa);pa=Math.sin(pa);var Tc=Qa-Qa*Bd+mb*pa;Qa=mb-Qa*pa-mb*Bd;return[Bd*pb-pa*gc+Tc,pa*pb+Bd*gc+Qa,Bd*pb-
pa*Yc+Tc,pa*pb+Bd*Yc+Qa,Bd*Qc-pa*gc+Tc,pa*Qc+Bd*gc+Qa,Bd*Qc-pa*Yc+Tc,pa*Qc+Bd*Yc+Qa]},union(pa){pa.x1<this.x1&&(this.x1=pa.x1);pa.y1<this.y1&&(this.y1=pa.y1);pa.x2>this.x2&&(this.x2=pa.x2);pa.y2>this.y2&&(this.y2=pa.y2);return this},intersect(pa){pa.x1>this.x1&&(this.x1=pa.x1);pa.y1>this.y1&&(this.y1=pa.y1);pa.x2<this.x2&&(this.x2=pa.x2);pa.y2<this.y2&&(this.y2=pa.y2);return this},encloses(pa){return pa&&this.x1<=pa.x1&&this.x2>=pa.x2&&this.y1<=pa.y1&&this.y2>=pa.y2},alignsWith(pa){return pa&&(this.x1==
pa.x1||this.x2==pa.x2||this.y1==pa.y1||this.y2==pa.y2)},intersects(pa){return pa&&!(this.x2<pa.x1||this.x1>pa.x2||this.y2<pa.y1||this.y1>pa.y2)},contains(pa,Qa){return!(pa<this.x1||pa>this.x2||Qa<this.y1||Qa>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};k.inherits(Ab,Hb);dc.prototype={pending(){return this._pending},sanitizeURL(pa){const Qa=this;Qa._pending+=1;return Qa._loader.sanitize(pa,{context:"href"}).then(mb=>{--Qa._pending;return mb}).catch(()=>{--Qa._pending;
return null})},loadImage(pa){const Qa=this,mb=p.image();Qa._pending+=1;return Qa._loader.sanitize(pa,{context:"image"}).then(pb=>{const gc=pb.href;if(!gc||!mb)throw{url:gc};const Qc=new mb;pb=k.hasOwnProperty(pb,"crossOrigin")?pb.crossOrigin:"anonymous";null!=pb&&(Qc.crossOrigin=pb);Qc.onload=()=>{--Qa._pending};Qc.onerror=()=>{--Qa._pending};Qc.src=gc;return Qc}).catch(pb=>{--Qa._pending;return{complete:!1,width:0,height:0,src:pb&&pb.url||""}})},ready(){const pa=this;return new Promise(Qa=>{function mb(pb){pa.pending()?
setTimeout(()=>{mb(!0)},10):Qa(pb)}mb(!1)})}};const Wg=ig-1E-8;let Vf,Xg,Fh,qh,wg,Ug,oh,rh;const Lh=(pa,Qa)=>{pa=Xg=pa;Qa=Fh=Qa;return Vf.add(pa,Qa)},vh=pa=>Vf.add(pa,Vf.y1),Eh=pa=>Vf.add(Vf.x1,pa),Kg=(pa,Qa)=>Vf.add(wg*pa+oh*Qa,Ug*pa+rh*Qa),J=(pa,Qa)=>Lh(wg*pa+oh*Qa,Ug*pa+rh*Qa),da={beginPath(){},closePath(){},moveTo:J,lineTo:J,rect(pa,Qa,mb,pb){qh?(Kg(pa+mb,Qa),Kg(pa+mb,Qa+pb),Kg(pa,Qa+pb),J(pa,Qa)):(Vf.add(pa+mb,Qa+pb),Lh(pa,Qa))},quadraticCurveTo(pa,Qa,mb,pb){const gc=Ug*pa+rh*Qa,Qc=wg*mb+oh*
pb;mb=Ug*mb+rh*pb;Kc(Xg,wg*pa+oh*Qa,Qc,vh);Kc(Fh,gc,mb,Eh);Lh(Qc,mb)},bezierCurveTo(pa,Qa,mb,pb,gc,Qc){const Yc=Ug*pa+rh*Qa,Bd=Ug*mb+rh*pb,Tc=wg*gc+oh*Qc;gc=Ug*gc+rh*Qc;Fc(Xg,wg*pa+oh*Qa,wg*mb+oh*pb,Tc,vh);Fc(Fh,Yc,Bd,gc,Eh);Lh(Tc,gc)},arc(pa,Qa,mb,pb,gc,Qc){pb+=qh;gc+=qh;Xg=mb*Math.cos(gc)+pa;Fh=mb*Math.sin(gc)+Qa;if(Math.abs(gc-pb)>Wg)Vf.add(pa-mb,Qa-mb),Vf.add(pa+mb,Qa+mb);else{const Yc=Tc=>Vf.add(mb*Math.cos(Tc)+pa,mb*Math.sin(Tc)+Qa);let Bd;Yc(pb);Yc(gc);if(gc!==pb)if(pb%=ig,0>pb&&(pb+=ig),gc%=
ig,0>gc&&(gc+=ig),gc<pb&&(Qc=!Qc,Bd=pb,pb=gc,gc=Bd),Qc)for(gc-=ig,Bd=pb-pb%Sg,pb=0;4>pb&&Bd>gc;++pb,Bd-=Sg)Yc(Bd);else for(Bd=pb-pb%Sg+Sg,pb=0;4>pb&&Bd<gc;++pb,Bd+=Sg)Yc(Bd)}}};var La=(La=p.canvas(1,1))?La.getContext("2d"):null;const db=new id;var Db=[],Sb=wd("arc",function(pa,Qa){return Wa.context(pa)(Qa)}),Cc=qf("area",function(pa,Qa){const mb=Qa[0];return("horizontal"===mb.orient?hc:Cb).curve(xa(mb.interpolate||"linear",mb.orient,mb.tension)).context(pa)(Qa)},function(pa,Qa){Qa="horizontal"===
pa[0].orient?Qa[1]:Qa[0];for(var mb="horizontal"===pa[0].orient?"y":"x",pb=pa.length,gc=Infinity,Qc,Yc;0<=--pb;)!1!==pa[pb].defined&&(Yc=Math.abs(pa[pb][mb]-Qa),Yc<gc&&(gc=Yc,Qc=pa[pb]));return Qc});const Zc=le(We),Xc=le(We,!1),td=le(We,!0);var ae={type:"group",tag:"g",nested:!1,attr:function(pa,Qa){pa("transform",qe(Qa.x||0,Qa.y||0))},bound:function(pa,Qa){if(!Qa.clip&&Qa.items){const mb=Qa.items,pb=mb.length;for(let gc=0;gc<pb;++gc)pa.union(mb[gc].bounds)}(Qa.clip||Qa.width||Qa.height)&&!Qa.noBound&&
pa.add(0,0).add(Qa.width||0,Qa.height||0);Wb(pa,Qa);return pa.translate(Qa.x||0,Qa.y||0)},draw:function(pa,Qa,mb){dd(Qa,pb=>{const gc=pb.x||0,Qc=pb.y||0,Yc=pb.strokeForeground,Bd=null==pb.opacity?1:pb.opacity;(pb.stroke||pb.fill)&&Bd&&(We(pa,pb,gc,Qc),$a(pa,pb),pb.fill&&Tb(pa,pb,Bd)&&pa.fill(),pb.stroke&&!Yc&&Vb(pa,pb,Bd)&&pa.stroke());pa.save();pa.translate(gc,Qc);pb.clip&&gf(pa,pb);mb&&mb.translate(-gc,-Qc);dd(pb,Tc=>{this.draw(pa,Tc,mb)});mb&&mb.translate(gc,Qc);pa.restore();Yc&&pb.stroke&&Bd&&
(We(pa,pb,gc,Qc),$a(pa,pb),Vb(pa,pb,Bd)&&pa.stroke())})},pick:function(pa,Qa,mb,pb,gc,Qc){if(Qa.bounds&&!Qa.bounds.contains(gc,Qc)||!Qa.items)return null;const Yc=mb*pa.pixelRatio,Bd=pb*pa.pixelRatio;return nd(Qa,Tc=>{let Sd,Td;var De=Tc.bounds;if(!De||De.contains(gc,Qc)){Sd=Tc.x||0;Td=Tc.y||0;De=Sd+(Tc.width||0);var tf=Td+(Tc.height||0),Ze=Tc.clip;if(!Ze||!(gc<Sd||gc>De||Qc<Td||Qc>tf)){pa.save();pa.translate(Sd,Td);Sd=gc-Sd;Td=Qc-Td;if(Ze&&zc(Tc)&&!td(pa,Tc,Yc,Bd))return pa.restore(),null;tf=Tc.strokeForeground;
if((Ze=!1!==Qa.interactive)&&tf&&Tc.stroke&&Xc(pa,Tc,Yc,Bd))return pa.restore(),Tc;De=nd(Tc,df=>(!1!==df.interactive||"group"===df.marktype)&&df.bounds&&df.bounds.contains(Sd,Td)?this.pick(df,mb,pb,Sd,Td):null);!De&&Ze&&(Tc.fill||!tf&&Tc.stroke)&&Zc(pa,Tc,Yc,Bd)&&(De=Tc);pa.restore();return De||null}}})},isect:Ba,content:function(pa,Qa,mb){Qa=Qa.clip?uc(mb,Qa,Qa):null;pa("clip-path",Qa)},background:function(pa,Qa){pa("class","background");pa("aria-hidden",!0);const mb=te(Qa);pa("d",Bc(null,Qa,mb,
mb))},foreground:function(pa,Qa){pa("class","foreground");pa("aria-hidden",!0);if(Qa.strokeForeground){const mb=te(Qa);pa("d",Bc(null,Qa,mb,mb))}else pa("d","")}},we={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"},bf={type:"image",tag:"image",nested:!1,attr:function(pa,Qa,mb){var pb=za(Qa,mb);mb=Za(Qa,pb);const gc=tb(Qa,pb),Qc=(Qa.x||0)-Jb(Qa.align,mb),Yc=(Qa.y||0)-fc(Qa.baseline,gc);pb=!pb.src&&pb.toDataURL?pb.toDataURL():pb.src||"";pa("href",pb,we["xmlns:xlink"],
"xlink:href");pa("transform",qe(Qc,Yc));pa("width",mb);pa("height",gc);pa("preserveAspectRatio",!1===Qa.aspect?"none":"xMidYMid")},bound:function(pa,Qa){var mb=Qa.image;const pb=Za(Qa,mb);mb=tb(Qa,mb);const gc=(Qa.x||0)-Jb(Qa.align,pb);Qa=(Qa.y||0)-fc(Qa.baseline,mb);return pa.set(gc,Qa,gc+pb,Qa+mb)},draw:function(pa,Qa,mb){dd(Qa,pb=>{if(!mb||mb.intersects(pb.bounds)){var gc=za(pb,this),Qc=Za(pb,gc),Yc=tb(pb,gc);if(0!==Qc&&0!==Yc){var Bd=(pb.x||0)-Jb(pb.align,Qc),Tc=(pb.y||0)-fc(pb.baseline,Yc),Sd;
if(!1!==pb.aspect){var Td=gc.width/gc.height;var De=pb.width/pb.height;Td===Td&&De===De&&Td!==De&&(De<Td?(Td=Qc/Td,Tc+=(Yc-Td)/2,Yc=Td):(Td*=Yc,Bd+=(Qc-Td)/2,Qc=Td))}if(gc.complete||gc.toDataURL)$a(pa,pb),pa.globalAlpha=null!=(Sd=pb.opacity)?Sd:1,pa.imageSmoothingEnabled=!1!==pb.smooth,pa.drawImage(gc,Bd,Tc,Qc,Yc)}}})},pick:ge(),isect:k.truthy,get:za,xOffset:Jb,yOffset:fc},zf=qf("line",function(pa,Qa){const mb=Qa[0];return yd.curve(xa(mb.interpolate||"linear",mb.orient,mb.tension)).context(pa)(Qa)},
function(pa,Qa){for(var mb=Math.pow(pa[0].strokeWidth||1,2),pb=pa.length,gc,Qc;0<=--pb;)if(!1!==pa[pb].defined&&(gc=pa[pb].x-Qa[0],Qc=pa[pb].y-Qa[1],gc=gc*gc+Qc*Qc,gc<mb))return pa[pb];return null}),Mf={type:"path",tag:"path",nested:!1,attr:function(pa,Qa){var mb=Qa.scaleY||1;1===(Qa.scaleX||1)&&1===mb||pa("vector-effect","non-scaling-stroke");mb=qe(Qa.x||0,Qa.y||0)+(Qa.angle?" rotate("+(Qa.angle+")"):"")+(Qa.scaleX||Qa.scaleY?" scale("+((Qa.scaleX||1)+","+(Qa.scaleY||1)+")"):"");pa("transform",mb);
pa("d",Qa.path)},bound:function(pa,Qa){return nc(mc(pa,Qa.angle),Qa)?pa.set(0,0,0,0):Wb(pa,Qa,!0)},draw:xd(nc),pick:ge(le(nc)),isect:jd(nc)},Oe={type:"rect",tag:"path",nested:!1,attr:function(pa,Qa){pa("d",Bc(null,Qa))},bound:function(pa,Qa){var mb,pb;return Wb(pa.set(mb=Qa.x||0,pb=Qa.y||0,mb+Qa.width||0,pb+Qa.height||0),Qa)},draw:xd(Hc),pick:ge(le(Hc)),isect:Ba},Qf={type:"rule",tag:"line",nested:!1,attr:function(pa,Qa){pa("transform",qe(Qa.x||0,Qa.y||0));pa("x2",null!=Qa.x2?Qa.x2-(Qa.x||0):0);pa("y2",
null!=Qa.y2?Qa.y2-(Qa.y||0):0)},bound:function(pa,Qa){var mb,pb;return Wb(pa.set(mb=Qa.x||0,pb=Qa.y||0,null!=Qa.x2?Qa.x2:mb,null!=Qa.y2?Qa.y2:pb),Qa)},draw:function(pa,Qa,mb){dd(Qa,pb=>{if(!mb||mb.intersects(pb.bounds)){var gc=null==pb.opacity?1:pb.opacity;gc&&Dc(pa,pb,gc)&&($a(pa,pb),pa.stroke())}})},pick:ge(function(pa,Qa,mb,pb){return pa.isPointInStroke?Dc(pa,Qa,1)&&pa.isPointInStroke(mb,pb):!1}),isect:va},qg=wd("shape",function(pa,Qa){return(Qa.mark.shape||Qa.shape).context(pa)(Qa)}),jh=wd("symbol",
function(pa,Qa){return ne.context(pa)(Qa)},$d);const ch=k.lruCache();var dg={height:Vd,measureWidth:rd,estimateWidth:ld,width:ld,canvas:lc};lc(!0);const Bf={left:"start",center:"middle",right:"end"},jg=new id;var bg={type:"text",tag:"text",nested:!1,attr:function(pa,Qa){var mb=Qa.dx||0,pb=(Qa.dy||0)+Re(Qa),gc=af(Qa),Qc=gc.x1;gc=gc.y1;var Yc=Qa.angle||0;pa("text-anchor",Bf[Qa.align]||"start");if(Yc){if(Qa=qe(Qc,gc)+" rotate("+(Yc+")"),mb||pb)Qa+=" "+qe(mb,pb)}else Qa=qe(Qc+mb,gc+pb);pa("transform",
Qa)},bound:Qb,draw:function(pa,Qa,mb){dd(Qa,pb=>{var gc=null==pb.opacity?1:pb.opacity,Qc;if(!(mb&&!mb.intersects(pb.bounds)||0===gc||0>=pb.fontSize||null==pb.text||0===pb.text.length)){pa.font=Ge(pb);pa.textAlign=pb.align||"left";var Yc=af(pb);var Bd=Yc.x1;Yc=Yc.y1;pb.angle&&(pa.save(),pa.translate(Bd,Yc),pa.rotate(pb.angle*ug),Bd=Yc=0);Bd+=pb.dx||0;Yc+=(pb.dy||0)+Re(pb);var Tc=he(pb);$a(pa,pb);if(k.isArray(Tc)){var Sd=ce(pb);for(Qc=0;Qc<Tc.length;++Qc){var Td=Ce(pb,Tc[Qc]);pb.fill&&Tb(pa,pb,gc)&&
pa.fillText(Td,Bd,Yc);pb.stroke&&Vb(pa,pb,gc)&&pa.strokeText(Td,Bd,Yc);Yc+=Sd}}else Td=Ce(pb,Tc),pb.fill&&Tb(pa,pb,gc)&&pa.fillText(Td,Bd,Yc),pb.stroke&&Vb(pa,pb,gc)&&pa.strokeText(Td,Bd,Yc);pb.angle&&pa.restore()}})},pick:ge(function(pa,Qa,mb,pb,gc,Qc){if(0>=Qa.fontSize)return!1;if(!Qa.angle)return!0;mb=af(Qa);pa=mb.x1;mb=mb.y1;pb=Qb(jg,Qa,1);var Yc=-Qa.angle*ug;Qa=Math.cos(Yc);Yc=Math.sin(Yc);return pb.contains(Qa*gc-Yc*Qc+(pa-Qa*pa+Yc*mb),Yc*gc+Qa*Qc+(mb-Yc*pa-Qa*mb))}),isect:function(pa,Qa){pa=
Qb(jg,pa,2);return Ca(Qa,pa[0],pa[1],pa[2],pa[3])||Ca(Qa,pa[0],pa[1],pa[4],pa[5])||Ca(Qa,pa[4],pa[5],pa[6],pa[7])||Ca(Qa,pa[2],pa[3],pa[6],pa[7])}},rg=qf("trail",function(pa,Qa){return of.context(pa)(Qa)},function(pa,Qa){for(var mb=pa.length,pb,gc;0<=--mb;)if(!1!==pa[mb].defined&&(pb=pa[mb].x-Qa[0],gc=pa[mb].y-Qa[1],gc=pb*pb+gc*gc,pb=pa[mb].size||1,gc<pb*pb))return pa[mb];return null}),wh={arc:Sb,area:Cc,group:ae,image:bf,line:zf,path:Mf,rect:Oe,rule:Qf,shape:qg,symbol:jh,text:bg,trail:rg},Og={mark:null};
const zh="marktype name role interactive clip items zindex x y width height align baseline fill fillOpacity opacity blend stroke strokeOpacity strokeWidth strokeCap strokeDash strokeDashOffset strokeForeground strokeOffset startAngle endAngle innerRadius outerRadius cornerRadius padAngle cornerRadiusTopLeft cornerRadiusTopRight cornerRadiusBottomLeft cornerRadiusBottomRight interpolate tension orient defined url aspect smooth path scaleX scaleY x2 y2 size shape text angle theta radius dir dx dy ellipsis limit lineBreak lineHeight font fontSize fontWeight fontStyle fontVariant description aria ariaRole ariaRoleDescription".split(" ");
zb.prototype={toJSON(pa){return Ad(this.root,pa||0)},mark(pa,Qa,mb){Qa=Qa||this.root.items[0];pa=Xb(pa,Qa);Qa.items[mb]=pa;pa.zindex&&(pa.group.zdirty=!0);return pa}};Uc.prototype={initialize(pa,Qa,mb){this._el=pa;this._obj=mb||null;return this.origin(Qa)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(pa){return arguments.length?(this._origin=pa||[0,0],this):this._origin.slice()},scene(pa){if(!arguments.length)return this._scene;this._scene=pa;return this},on(){},
off(){},_handlerIndex(pa,Qa,mb){for(let pb=pa?pa.length:0;0<=--pb;)if(pa[pb].type===Qa&&(!mb||pa[pb].handler===mb))return pb;return-1},handlers(pa){const Qa=this._handlers,mb=[];if(pa)mb.push(...Qa[this.eventName(pa)]);else for(const pb in Qa)mb.push(...Qa[pb]);return mb},eventName(pa){const Qa=pa.indexOf(".");return 0>Qa?pa:pa.slice(0,Qa)},handleHref(pa,Qa,mb){this._loader.sanitize(mb,{context:"href"}).then(pb=>{const gc=new MouseEvent(pa.type,pa),Qc=tc(null,"a");for(const Yc in pb)Qc.setAttribute(Yc,
pb[Yc]);Qc.dispatchEvent(gc)}).catch(()=>{})},handleTooltip(pa,Qa,mb){if(Qa&&null!=Qa.tooltip){var pb=this.canvas(),gc=this._origin,Qc=Qa&&Qa.mark,Yc;if(Qc&&(Yc=wh[Qc.marktype]).tip){pb=ic(pa,pb);pb[0]-=gc[0];for(pb[1]-=gc[1];Qa=Qa.mark.group;)pb[0]-=Qa.x||0,pb[1]-=Qa.y||0;Qa=Yc.tip(Qc.items,pb)}this._tooltip.call(this._obj,this,pa,Qa,mb&&Qa&&Qa.tooltip||null)}},getItemBoundingClientRect(pa){var Qa=this.canvas();if(Qa){var mb=Qa.getBoundingClientRect(),pb=this._origin,gc=pa.bounds;Qa=gc.width();var Qc=
gc.height(),Yc=gc.x1+pb[0]+mb.left;for(mb=gc.y1+pb[1]+mb.top;pa.mark&&(pa=pa.mark.group);)Yc+=pa.x||0,mb+=pa.y||0;return{x:Yc,y:mb,width:Qa,height:Qc,left:Yc,top:mb,right:Yc+Qa,bottom:mb+Qc}}}};Md.prototype={initialize(pa,Qa,mb,pb,gc){this._el=pa;return this.resize(Qa,mb,pb,gc)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(pa){if(0===arguments.length)return this._bgcolor;this._bgcolor=pa;return this},resize(pa,Qa,mb,pb){this._width=pa;this._height=Qa;this._origin=
mb||[0,0];this._scale=pb||1;return this},dirty(){},render(pa){const Qa=this;Qa._call=function(){Qa._render(pa)};Qa._call();Qa._call=null;return Qa},_render(){},renderAsync(pa){const Qa=this.render(pa);return this._ready?this._ready.then(()=>Qa):Promise.resolve(Qa)},_load(pa,Qa){var mb=this;pa=mb._loader[pa](Qa);if(!mb._ready){const pb=mb._call;mb._ready=mb._loader.ready().then(gc=>{gc&&pb();mb._ready=null})}return pa},sanitizeURL(pa){return this._load("sanitizeURL",pa)},loadImage(pa){return this._load("loadImage",
pa)}};k.inherits(Gd,Uc,{initialize(pa,Qa,mb){this._canvas=pa&&gd(pa,"canvas");["click","mousedown","mousemove","mouseout","dragleave"].forEach(pb=>Pd(this,pb));return Uc.prototype.initialize.call(this,pa,Qa,mb)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:"keydown keypress keyup dragenter dragleave dragover mousedown mouseup mousemove mouseout mouseover click dblclick wheel mousewheel touchstart touchmove touchend".split(" "),DOMMouseScroll(pa){this.fire("mousewheel",
pa)},mousemove:Se("mousemove","mouseover","mouseout"),dragover:Se("dragover","dragenter","dragleave"),mouseout:ha("mouseout"),dragleave:ha("dragleave"),mousedown(pa){this._down=this._active;this.fire("mousedown",pa)},click(pa){this._down===this._active&&(this.fire("click",pa),this._down=null)},touchstart(pa){this._touch=this.pickEvent(pa.changedTouches[0]);this._first&&(this._active=this._touch,this._first=!1);this.fire("touchstart",pa,!0)},touchmove(pa){this.fire("touchmove",pa,!0)},touchend(pa){this.fire("touchend",
pa,!0);this._touch=null},fire(pa,Qa,mb){mb=mb?this._touch:this._active;const pb=this._handlers[pa];Qa.vegaType=pa;"click"===pa&&mb&&mb.href?this.handleHref(Qa,mb,mb.href):("mousemove"===pa||"mouseout"===pa)&&this.handleTooltip(Qa,mb,"mouseout"!==pa);if(pb)for(let gc=0,Qc=pb.length;gc<Qc;++gc)pb[gc].handler.call(this._obj,Qa,mb)},on(pa,Qa){const mb=this.eventName(pa),pb=this._handlers;0>this._handlerIndex(pb[mb],pa,Qa)&&(Pd(this,pa),(pb[mb]||(pb[mb]=[])).push({type:pa,handler:Qa}));return this},off(pa,
Qa){var mb=this.eventName(pa);mb=this._handlers[mb];pa=this._handlerIndex(mb,pa,Qa);0<=pa&&mb.splice(pa,1);return this},pickEvent(pa){pa=ic(pa,this._canvas);const Qa=this._origin;return this.pick(this._scene,pa[0],pa[1],pa[0]-Qa[0],pa[1]-Qa[1])},pick(pa,Qa,mb,pb,gc){const Qc=this.context();return wh[pa.marktype].pick.call(this,Qc,pa,Qa,mb,pb,gc)}});var ri="undefined"!==typeof window?window.devicePixelRatio||1:1;const Zh=Md.prototype;k.inherits(ob,Md,{initialize(pa,Qa,mb,pb,gc,Qc){this._options=Qc||
{};this._canvas=this._options.externalContext?null:p.canvas(1,1,this._options.type);pa&&this._canvas&&(rb(pa,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks"));return Zh.initialize.call(this,pa,Qa,mb,pb,gc)},resize(pa,Qa,mb,pb){Zh.resize.call(this,pa,Qa,mb,pb);if(this._canvas){pa=this._canvas;Qa=this._width;mb=this._height;pb=this._origin;var gc=this._scale,Qc=this._options.context;const Bd="undefined"!==typeof HTMLElement&&pa instanceof HTMLElement&&null!=pa.parentNode,Tc=pa.getContext("2d");
gc=Bd?ri:gc;pa.width=Qa*gc;pa.height=mb*gc;for(var Yc in Qc)Tc[Yc]=Qc[Yc];Bd&&1!==gc&&(pa.style.width=Qa+"px",pa.style.height=mb+"px");Tc.pixelRatio=gc;Tc.setTransform(gc,0,0,gc,gc*pb[0],gc*pb[1])}else(Yc=this._options.externalContext)||k.error("CanvasRenderer is missing a valid canvas or context"),Yc.scale(this._scale,this._scale),Yc.translate(this._origin[0],this._origin[1]);this._redraw=!0;return this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?
this._canvas.getContext("2d"):null)},dirty(pa){const Qa=this._tempb.clear().union(pa.bounds);for(pa=pa.mark.group;pa;)Qa.translate(pa.x||0,pa.y||0),pa=pa.mark.group;this._dirty.union(Qa)},_render(pa){const Qa=this.context(),mb=this._origin,pb=this._width,gc=this._height,Qc=this._dirty;var Yc=(new id).set(0,0,pb,gc).translate(-mb[0],-mb[1]);Qa.save();this._redraw||Qc.empty()?Yc=(this._redraw=!1,Yc.expand(1)):(Yc=Yc.intersect(Qc),Yc.expand(1).round(),Qa.pixelRatio%1&&Yc.scale(Qa.pixelRatio).round().scale(1/
Qa.pixelRatio),Yc.translate(-(mb[0]%1),-(mb[1]%1)),Qa.beginPath(),Qa.rect(Yc.x1,Yc.y1,Yc.width(),Yc.height()),Qa.clip());this.clear(-mb[0],-mb[1],pb,gc);this.draw(Qa,pa,Yc);Qa.restore();Qc.clear();return this},draw(pa,Qa,mb){const pb=wh[Qa.marktype];if(Qa.clip){var gc=Qa.clip;pa.save();k.isFunction(gc)?(pa.beginPath(),gc(pa),pa.clip()):gf(pa,Qa.group)}pb.draw.call(this,pa,Qa,mb);Qa.clip&&pa.restore()},clear(pa,Qa,mb,pb){const gc=this._options,Qc=this.context();"pdf"===gc.type||gc.externalContext||
Qc.clearRect(pa,Qa,mb,pb);null!=this._bgcolor&&(Qc.fillStyle=this._bgcolor,Qc.fillRect(pa,Qa,mb,pb))}});const $h=(pa,Qa)=>mb=>{let pb=mb.target.__data__;pb=Array.isArray(pb)?pb[0]:pb;mb.vegaType=mb.type;Qa.call(pa._obj,mb,pb)};k.inherits(Ea,Uc,{initialize(pa,Qa,mb){let pb=this._svg;pb&&(pb.removeEventListener("click",this._hrefHandler),pb.removeEventListener("mousemove",this._tooltipHandler),pb.removeEventListener("mouseout",this._tooltipHandler));if(this._svg=pb=pa&&gd(pa,"svg"))pb.addEventListener("click",
this._hrefHandler),pb.addEventListener("mousemove",this._tooltipHandler),pb.addEventListener("mouseout",this._tooltipHandler);return Uc.prototype.initialize.call(this,pa,Qa,mb)},canvas(){return this._svg},on(pa,Qa){const mb=this.eventName(pa),pb=this._handlers;0>this._handlerIndex(pb[mb],pa,Qa)&&(pa={type:pa,handler:Qa,listener:$h(this,Qa)},(pb[mb]||(pb[mb]=[])).push(pa),this._svg&&this._svg.addEventListener(mb,pa.listener));return this},off(pa,Qa){const mb=this.eventName(pa),pb=this._handlers[mb];
pa=this._handlerIndex(pb,pa,Qa);0<=pa&&(this._svg&&this._svg.removeEventListener(mb,pb[pa].listener),pb.splice(pa,1));return this}});const ef=(pa,Qa,mb)=>({role:pa,["aria-roledescription"]:Qa,["aria-label"]:mb||void 0}),Ch=k.toSet("axis-domain axis-grid axis-label axis-tick axis-title legend-band legend-entry legend-gradient legend-label legend-title legend-symbol title".split(" ")),hf={axis:{desc:"axis",caption:function(pa){var Qa=pa.datum;const mb=pa.orient,pb=Qa.title?Jc(pa):null;var gc=pa.context;
Qa=gc.scales[Qa.scale].value;gc=gc.dataflow.locale();const Qc=Qa.type;return`${"left"===mb||"right"===mb?"Y":"X"}-axis`+(pb?` titled '${pb}'`:"")+` for a ${t.isDiscrete(Qc)?"discrete":Qc} scale`+` with ${t.domainCaption(gc,Qa,pa)}`}},legend:{desc:"legend",caption:function(pa){var Qa=pa.datum;const mb=Qa.title?Jc(pa):null,pb=`${Qa.type||""} legend`.trim();var gc=Qa.scales;Qa=Object.keys(gc);var Qc=pa.context;gc=Qc.scales[gc[Qa[0]]].value;Qc=Qc.dataflow.locale();return(pb.length?pb[0].toUpperCase()+
pb.slice(1):pb)+(mb?` titled '${mb}'`:"")+` for ${pd(Qa)}`+` with ${t.domainCaption(Qc,gc,pa)}`}},"title-text":{desc:"title",caption:pa=>`Title text '${k.array(pa.text).join(" ")}'`},"title-subtitle":{desc:"subtitle",caption:pa=>`Subtitle text '${k.array(pa.text).join(" ")}'`}},jf={ariaRole:"role",ariaRoleDescription:"aria-roledescription",description:"aria-label"},Pg=pa=>(pa+"").replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"),Nh=pa=>Yd(qd(),pa)+"",Yh={fill:"fill",fillOpacity:"fill-opacity",
stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},ai={blend:"mix-blend-mode"},dh={fill:"none","stroke-miterlimit":10},ue=we.xmlns,Je=Md.prototype;k.inherits(Od,Md,{initialize(pa,Qa,mb,pb,gc){this._defs={};this._clearDefs();pa&&(this._svg=qc(pa,0,"svg",ue),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/",
"xmlns",ue),this._svg.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink",we["xmlns:xlink"]),this._svg.setAttribute("version",we.version),this._svg.setAttribute("class","marks"),rb(pa,1),this._root=qc(this._svg,0,"g",ue),Lc(this._root,dh),rb(this._svg,1));this.background(this._bgcolor);return Je.initialize.call(this,pa,Qa,mb,pb,gc)},background(pa){arguments.length&&this._svg&&this._svg.style.setProperty("background-color",pa);return Je.background.apply(this,arguments)},resize(pa,Qa,mb,pb){Je.resize.call(this,
pa,Qa,mb,pb);this._svg&&(Lc(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`));this._dirty=[];return this},canvas(){return this._svg},svg(){const pa=this._svg,Qa=this._bgcolor;if(!pa)return null;let mb;Qa&&(pa.removeAttribute("style"),mb=qc(pa,0,"rect",ue),Lc(mb,{width:this._width,height:this._height,fill:Qa}));const pb=Nh(pa);Qa&&(pa.removeChild(mb),this._svg.style.setProperty("background-color",
Qa));return pb},_render(pa){this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,pa),rb(this._root,1));this.defs();this._dirty=[];++this._dirtyID;return this},dirty(pa){pa.dirty!==this._dirtyID&&(pa.dirty=this._dirtyID,this._dirty.push(pa))},isDirty(pa){return this._dirtyAll||!pa._svg||!pa._svg.ownerSVGElement||pa.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const pa=this._dirty;if(!pa.length||!this._dirtyID)return!0;const Qa=++this._dirtyID;let mb;let pb,gc,Qc,Yc;
Qc=0;for(Yc=pa.length;Qc<Yc;++Qc){mb=pa[Qc];var Bd=mb.mark;Bd.marktype!==pb&&(pb=Bd.marktype,gc=wh[pb]);Bd.zdirty&&Bd.dirty!==Qa&&(this._dirtyAll=!1,Jd(mb,Qa),Bd.items.forEach(Tc=>{Tc.dirty=Qa}));Bd.zdirty||(mb.exit?(gc.nested&&Bd.items.length?(Bd=Bd.items[0],Bd._svg&&this._update(gc,Bd._svg,Bd)):mb._svg&&(Bd=mb._svg.parentNode)&&Bd.removeChild(mb._svg),mb._svg=null):(mb=gc.nested?Bd.items[0]:mb,mb._update!==Qa&&(mb._svg&&mb._svg.ownerSVGElement?this._update(gc,mb._svg,mb):(this._dirtyAll=!1,Jd(mb,
Qa)),mb._update=Qa)))}return!this._dirtyAll},mark(pa,Qa,mb){if(!this.isDirty(Qa))return Qa._svg;const pb=this._svg,gc=wh[Qa.marktype];var Qc=!1===Qa.interactive?"none":null;const Yc="g"===gc.tag,Bd=sd(Qa,pa,mb,"g",pb);Bd.setAttribute("class",Bb(Qa));pa=Yb(Qa);for(const Td in pa)ud(Bd,Td,pa[Td]);Yc||ud(Bd,"pointer-events",Qc);ud(Bd,"clip-path",Qa.clip?uc(this,Qa,Qa.group):null);let Tc=null,Sd=0;Qc=Td=>{const De=this.isDirty(Td),tf=sd(Td,Bd,Tc,gc.tag,pb);De&&(this._update(gc,tf,Td),Yc&&ed(this,tf,Td));
Tc=tf;++Sd};gc.nested?Qa.items.length&&Qc(Qa.items[0]):dd(Qa,Qc);rb(Bd,Sd);return Bd},_update(pa,Qa,mb){Df=Qa;Pe=Qa.__values__;Ib(wc,mb);pa.attr(wc,mb,this);const pb=eg[pa.type];pb&&pb.call(this,pa,Qa,mb);Df&&this.style(Df,mb)},style(pa,Qa){if(null!=Qa){for(const mb in Yh){let pb="font"===mb?vf(Qa):Qa[mb];if(pb===Pe[mb])continue;const gc=Yh[mb];null==pb?pa.removeAttribute(gc):(pb&&pb.gradient&&(pb=n(pb,this._defs.gradient,kb())),pa.setAttribute(gc,pb+""));Pe[mb]=pb}for(const mb in ai)Rc(pa,ai[mb],
Qa[mb])}},defs(){const pa=this._svg,Qa=this._defs;let mb=Qa.el;var pb=0;for(var gc in Qa.gradient){mb||(Qa.el=mb=qc(pa,1,"defs",ue));var Qc=void 0;let Tc,Sd;var Yc=mb,Bd=Qa.gradient[gc];"radial"===Bd.gradient?(Qc=qc(Yc,pb++,"pattern",ue),Lc(Qc,{id:"p_"+Bd.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),Qc=qc(Qc,0,"rect",ue),Lc(Qc,{width:1,height:1,fill:`url(${kb()}#${Bd.id})`}),Yc=qc(Yc,pb++,"radialGradient",ue),Lc(Yc,{id:Bd.id,fx:Bd.x1,fy:Bd.y1,fr:Bd.r1,cx:Bd.x2,
cy:Bd.y2,r:Bd.r2})):(Yc=qc(Yc,pb++,"linearGradient",ue),Lc(Yc,{id:Bd.id,x1:Bd.x1,x2:Bd.x2,y1:Bd.y1,y2:Bd.y2}));Sd=0;for(Tc=Bd.stops.length;Sd<Tc;++Sd)Qc=qc(Yc,Sd,"stop",ue),Qc.setAttribute("offset",Bd.stops[Sd].offset),Qc.setAttribute("stop-color",Bd.stops[Sd].color);rb(Yc,Sd)}for(const Tc in Qa.clipping)mb||(Qa.el=mb=qc(pa,1,"defs",ue)),Yc=mb,Bd=Qa.clipping[Tc],gc=pb,Yc=qc(Yc,gc,"clipPath",ue),Yc.setAttribute("id",Bd.id),Bd.path?(pb=qc(Yc,0,"path",ue),pb.setAttribute("d",Bd.path)):(pb=qc(Yc,0,"rect",
ue),Lc(pb,{x:0,y:0,width:Bd.width,height:Bd.height})),rb(Yc,1),pb=gc+1;mb&&(0===pb?(pa.removeChild(mb),Qa.el=null):rb(mb,pb))},_clearDefs(){const pa=this._defs;pa.gradient={};pa.clipping={}}});let Df=null,Pe=null;const eg={group(pa,Qa,mb){const pb=Df=Qa.childNodes[2];Pe=pb.__values__;pa.foreground(wc,mb,this);Pe=Qa.__values__;Df=Qa.childNodes[1];pa.content(wc,mb,this);Qa=Df=Qa.childNodes[0];pa.background(wc,mb,this);pa=!1===mb.mark.interactive?"none":null;pa!==Pe.events&&(ud(pb,"pointer-events",pa),
ud(Qa,"pointer-events",pa),Pe.events=pa);mb.strokeForeground&&mb.stroke?(pa=mb.fill,ud(pb,"display",null),this.style(Qa,mb),ud(Qa,"stroke",null),pa&&(mb.fill=null),Pe=pb.__values__,this.style(pb,mb),pa&&(mb.fill=pa),Df=null):ud(pb,"display","none")},image(pa,Qa,mb){!1===mb.smooth?(Rc(Qa,"image-rendering","optimizeSpeed"),Rc(Qa,"image-rendering","pixelated")):Rc(Qa,"image-rendering",null)},text(pa,Qa,mb){pa=he(mb);let pb,gc,Qc;k.isArray(pa)?(pb=pa.map(Yc=>Ce(mb,Yc)),pa=pb.join("\n"),pa!==Pe.text&&
(rb(Qa,0),gc=Qa.ownerDocument,Qc=ce(mb),pb.forEach((Yc,Bd)=>{const Tc=tc(gc,"tspan",ue);Tc.__data__=mb;Tc.textContent=Yc;Bd&&(Tc.setAttribute("x",0),Tc.setAttribute("dy",Qc));Qa.appendChild(Tc)}),Pe.text=pa)):(pb=Ce(mb,pa),pb!==Pe.text&&(Qa.textContent=pb,Pe.text=pb));ud(Qa,"font-family",vf(mb));ud(Qa,"font-size",Vd(mb)+"px");ud(Qa,"font-style",mb.fontStyle);ud(Qa,"font-variant",mb.fontVariant);ud(Qa,"font-weight",mb.fontWeight)}};k.inherits(Gb,Md,{svg(){return this._text},_render(pa){const Qa=qd();
Qa.open("svg",k.extend({},we,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const mb=this._bgcolor;mb&&"transparent"!==mb&&"none"!==mb&&Qa.open("rect",{width:this._width,height:this._height,fill:mb}).close();Qa.open("g",dh,{transform:"translate("+this._origin+")"});this.mark(Qa,pa);Qa.close();this.defs(Qa);this._text=Qa.close()+"";return this},mark(pa,Qa){const mb=wh[Qa.marktype],pb=mb.tag,gc=[Ib,mb.attr];pa.open("g",{"class":Bb(Qa),
"clip-path":Qa.clip?uc(this,Qa,Qa.group):null},Yb(Qa),{"pointer-events":"g"!==pb&&!1===Qa.interactive?"none":null});const Qc=Yc=>{const Bd=this.href(Yc);Bd&&pa.open("a",Bd);pa.open(pb,this.attr(Qa,Yc,gc,"g"!==pb?pb:null));if("text"===pb){var Tc=he(Yc);if(k.isArray(Tc)){var Sd={x:0,dy:ce(Yc)};for(var Td=0;Td<Tc.length;++Td)pa.open("tspan",Td?Sd:null).text(Ce(Yc,Tc[Td])).close()}else pa.text(Ce(Yc,Tc))}else"g"===pb&&(Tc=Yc.strokeForeground,Sd=Yc.fill,Td=Yc.stroke,Tc&&Td&&(Yc.stroke=null),pa.open("path",
this.attr(Qa,Yc,mb.background,"bgrect")).close(),pa.open("g",this.attr(Qa,Yc,mb.content)),dd(Yc,De=>this.mark(pa,De)),pa.close(),Tc&&Td?(Sd&&(Yc.fill=null),Yc.stroke=Td,pa.open("path",this.attr(Qa,Yc,mb.foreground,"bgrect")).close(),Sd&&(Yc.fill=Sd)):pa.open("path",this.attr(Qa,Yc,mb.foreground,"bgfore")).close());pa.close();Bd&&pa.close()};mb.nested?Qa.items&&Qa.items.length&&Qc(Qa.items[0]):dd(Qa,Qc);return pa.close()},href(pa){const Qa=pa.href;if(Qa){if(pa=this._hrefs&&this._hrefs[Qa])return pa;
this.sanitizeURL(Qa).then(mb=>{mb["xlink:href"]=mb.href;mb.href=null;(this._hrefs||(this._hrefs={}))[Qa]=mb})}return null},attr(pa,Qa,mb,pb){const gc={},Qc=(Yc,Bd,Tc,Sd)=>{gc[Sd||Yc]=Bd};Array.isArray(mb)?mb.forEach(Yc=>Yc(Qc,Qa,this)):mb(Qc,Qa,this);pb&&Pb(gc,Qa,pa,pb,this._defs);return gc},defs(pa){var Qa=this._defs.gradient;const mb=this._defs.clipping;if(0!==Object.keys(Qa).length+Object.keys(mb).length){pa.open("defs");for(const gc in Qa){var pb=Qa[gc];const Qc=pb.stops;"radial"===pb.gradient?
(pa.open("pattern",{id:"p_"+gc,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),pa.open("rect",{width:"1",height:"1",fill:"url(#"+gc+")"}).close(),pa.close(),pa.open("radialGradient",{id:gc,fx:pb.x1,fy:pb.y1,fr:pb.r1,cx:pb.x2,cy:pb.y2,r:pb.r2})):pa.open("linearGradient",{id:gc,x1:pb.x1,x2:pb.x2,y1:pb.y1,y2:pb.y2});for(pb=0;pb<Qc.length;++pb)pa.open("stop",{offset:Qc[pb].offset,"stop-color":Qc[pb].color}).close();pa.close()}for(const gc in mb)Qa=mb[gc],pa.open("clipPath",
{id:gc}),Qa.path?pa.open("path",{d:Qa.path}).close():pa.open("rect",{x:0,y:0,width:Qa.width,height:Qa.height}).close(),pa.close();pa.close()}}});const fg={};fg.canvas=fg.png={renderer:ob,headless:ob,handler:Gd};fg.svg={renderer:Od,headless:Gb,handler:Ea};fg.none={};const ff=new id;w.Bounds=id;w.CanvasHandler=Gd;w.CanvasRenderer=ob;w.Gradient=function(pa,Qa){var mb=[],pb;return pb={gradient:"linear",x1:pa?pa[0]:0,y1:pa?pa[1]:0,x2:Qa?Qa[0]:1,y2:Qa?Qa[1]:0,stops:mb,stop:function(gc,Qc){mb.push({offset:gc,
color:Qc});return pb}}};w.GroupItem=Ab;w.Handler=Uc;w.Item=Hb;w.Marks=wh;w.RenderType={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"};w.Renderer=Md;w.ResourceLoader=dc;w.SVGHandler=Ea;w.SVGRenderer=Od;w.SVGStringRenderer=Gb;w.Scenegraph=zb;w.boundClip=function(pa){const Qa=pa.clip;if(k.isFunction(Qa))Qa(mc(ff.clear()));else if(Qa)ff.set(0,0,pa.group.width,pa.group.height);else return;pa.bounds.intersect(ff)};w.boundContext=mc;w.boundItem=rc;w.boundMark=bd;w.boundStroke=Wb;w.domChild=qc;w.domClear=
rb;w.domCreate=tc;w.domFind=gd;w.font=Ge;w.fontFamily=vf;w.fontSize=Vd;w.intersect=function(pa,Qa,mb){const pb=[];Qa=(new id).union(Qa);const gc=pa.marktype;return gc?bc(pa,Qa,mb,pb):"group"===gc?fa(pa,Qa,mb,pb):k.error("Intersect scene must be mark node or group item.")};w.intersectBoxLine=Ca;w.intersectPath=jd;w.intersectPoint=$d;w.intersectRule=va;w.lineHeight=ce;w.markup=qd;w.multiLineOffset=function(pa){const Qa=he(pa);return(k.isArray(Qa)?Qa.length-1:0)*ce(pa)};w.path=c;w.pathCurves=xa;w.pathEqual=
Fb;w.pathParse=Ua;w.pathRectangle=Mb;w.pathRender=sa;w.pathSymbols=ja;w.pathTrail=$b;w.point=ic;w.renderModule=function(pa,Qa){pa=String(pa||"").toLowerCase();return 1<arguments.length?(fg[pa]=Qa,this):fg[pa]};w.resetSVGClipId=function(){uf=1};w.resetSVGDefIds=function(){uf=1;Ob=0};w.sceneEqual=gb;w.sceneFromJSON=wa;w.scenePickVisit=nd;w.sceneToJSON=Ad;w.sceneVisit=dd;w.sceneZOrder=$c;w.serializeXML=Nh;w.textMetrics=dg;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[29]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(28),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scenegraph","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(oa){k.Transform.call(this,null,oa)}function n(oa,xa,Ua){return xa(oa.bounds.clear(),oa,Ua)}function f(oa){k.Transform.call(this,
0,oa)}function b(oa){return oa._signals[":vega_identifier:"]||(oa._signals[":vega_identifier:"]=oa.add(0))}function c(oa){k.Transform.call(this,null,oa)}function e(oa){const xa=oa.groups;oa=oa.parent;return xa&&1===xa.size?xa.get(Object.keys(xa.object)[0]):xa&&oa?xa.lookup(oa):null}function g(oa){k.Transform.call(this,null,oa)}function m(oa){k.Transform.call(this,null,oa)}function h(oa,xa,Ua){return oa[xa]===Ua?0:(oa[xa]=Ua,1)}function x(oa){oa=oa.items[0].orient;return"left"===oa||"right"===oa}function O(oa,
xa,Ua,fb){xa=xa.items[0];var sa=xa.datum,Oa=null!=xa.translate?xa.translate:.5,ja=xa.orient,U=+sa.grid;var ka=[sa.ticks?U++:-1,sa.labels?U++:-1,U+ +sa.domain];U=xa.range;var ua=xa.offset,Ta=xa.position,eb=xa.minExtent,lb=xa.maxExtent;sa=sa.title&&xa.items[ka[2]].items[0];var nb=xa.titlePadding,Mb=xa.bounds,$b=sa&&p.multiLineOffset(sa),Gc;Ra.clear().union(Mb);Mb.clear();-1<(Gc=ka[0])&&Mb.union(xa.items[Gc].bounds);-1<(Gc=ka[1])&&Mb.union(xa.items[Gc].bounds);switch(ja){case "top":Ua=Ta||0;fb=-ua;eb=
Math.max(eb,Math.min(lb,-Mb.y1));Mb.add(0,-eb).add(U,0);sa&&G(oa,sa,eb,nb,$b,0,-1,Mb);break;case "left":Ua=-ua;fb=Ta||0;eb=Math.max(eb,Math.min(lb,-Mb.x1));Mb.add(-eb,0).add(0,U);sa&&G(oa,sa,eb,nb,$b,1,-1,Mb);break;case "right":Ua+=ua;fb=Ta||0;eb=Math.max(eb,Math.min(lb,Mb.x2));Mb.add(0,0).add(eb,U);sa&&G(oa,sa,eb,nb,$b,1,1,Mb);break;case "bottom":Ua=Ta||0;fb+=ua;eb=Math.max(eb,Math.min(lb,Mb.y2));Mb.add(0,0).add(U,eb);sa&&G(oa,sa,eb,nb,0,0,1,Mb);break;default:Ua=xa.x,fb=xa.y}p.boundStroke(Mb.translate(Ua,
fb),xa);h(xa,"x",Ua+Oa)|h(xa,"y",fb+Oa)&&(xa.bounds=Ra,oa.dirty(xa),xa.bounds=Mb,oa.dirty(xa));return xa.mark.bounds.clear().union(Mb)}function G(oa,xa,Ua,fb,sa,Oa,ja,U){const ka=xa.bounds;xa.auto&&(Ua=ja*(Ua+sa+fb),sa=fb=0,oa.dirty(xa),Oa?fb=(xa.x||0)-(xa.x=Ua):sa=(xa.y||0)-(xa.y=Ua),xa.mark.bounds.clear().union(ka.translate(-fb,-sa)),oa.dirty(xa));U.union(ka)}function I(oa){return(new p.Bounds).set(0,0,oa.width||0,oa.height||0)}function F(oa){const xa=oa.bounds.clone();return xa.empty()?xa.set(0,
0,0,0):xa.translate(-(oa.x||0),-(oa.y||0))}function C(oa,xa,Ua){oa=q.isObject(oa)?oa[xa]:oa;return null!=oa?oa:void 0!==Ua?Ua:0}function r(oa){return 0>oa?Math.ceil(-oa):0}function y(oa,xa,Ua){var fb=!Ua.nodirty,sa="flush"===Ua.bounds?I:F,Oa=Ra.set(0,0,0,0),ja=C(Ua.align,"column"),U=C(Ua.align,"row"),ka=C(Ua.padding,"column"),ua=C(Ua.padding,"row"),Ta=Ua.columns||xa.length,eb=0>=Ta?1:Math.ceil(xa.length/Ta),lb=xa.length,nb=Array(lb),Mb=Array(Ta),$b=0,Gc=Array(lb),zc=Array(eb),Bc=0,uc=Array(lb),id=
Array(lb),Hb=Array(lb),Ab,dc,Wb;for(Ab=0;Ab<Ta;++Ab)Mb[Ab]=0;for(Ab=0;Ab<eb;++Ab)zc[Ab]=0;for(Ab=0;Ab<lb;++Ab){var mc=xa[Ab];var Kc=Hb[Ab]=sa(mc);mc.x=mc.x||0;uc[Ab]=0;mc.y=mc.y||0;id[Ab]=0;mc=Ab%Ta;var Fc=~~(Ab/Ta);$b=Math.max($b,dc=Math.ceil(Kc.x2));Bc=Math.max(Bc,Wb=Math.ceil(Kc.y2));Mb[mc]=Math.max(Mb[mc],dc);zc[Fc]=Math.max(zc[Fc],Wb);nb[Ab]=ka+r(Kc.x1);Gc[Ab]=ua+r(Kc.y1);fb&&oa.dirty(xa[Ab])}for(Ab=0;Ab<lb;++Ab)0===Ab%Ta&&(nb[Ab]=0),Ab<Ta&&(Gc[Ab]=0);if("each"===ja)for(mc=1;mc<Ta;++mc){sa=0;
for(Ab=mc;Ab<lb;Ab+=Ta)sa<nb[Ab]&&(sa=nb[Ab]);for(Ab=mc;Ab<lb;Ab+=Ta)nb[Ab]=sa+Mb[mc-1]}else if("all"===ja){for(Ab=sa=0;Ab<lb;++Ab)Ab%Ta&&sa<nb[Ab]&&(sa=nb[Ab]);for(Ab=0;Ab<lb;++Ab)Ab%Ta&&(nb[Ab]=sa+$b)}else for(ja=!1,mc=1;mc<Ta;++mc)for(Ab=mc;Ab<lb;Ab+=Ta)nb[Ab]+=Mb[mc-1];if("each"===U)for(Fc=1;Fc<eb;++Fc){sa=0;Ab=Fc*Ta;for(mc=Ab+Ta;Ab<mc;++Ab)sa<Gc[Ab]&&(sa=Gc[Ab]);for(Ab=Fc*Ta;Ab<mc;++Ab)Gc[Ab]=sa+zc[Fc-1]}else if("all"===U){sa=0;for(Ab=Ta;Ab<lb;++Ab)sa<Gc[Ab]&&(sa=Gc[Ab]);for(Ab=Ta;Ab<lb;++Ab)Gc[Ab]=
sa+Bc}else for(U=!1,Fc=1;Fc<eb;++Fc)for(Ab=Fc*Ta,mc=Ab+Ta;Ab<mc;++Ab)Gc[Ab]+=zc[Fc-1];for(Ab=Fc=0;Ab<lb;++Ab)Fc=nb[Ab]+(Ab%Ta?Fc:0),uc[Ab]+=Fc-xa[Ab].x;for(mc=0;mc<Ta;++mc)for(nb=0,Ab=mc;Ab<lb;Ab+=Ta)nb+=Gc[Ab],id[Ab]+=nb-xa[Ab].y;if(ja&&C(Ua.center,"column")&&1<eb)for(Ab=0;Ab<lb;++Ab)Kc="all"===ja?$b:Mb[Ab%Ta],Fc=Kc-Hb[Ab].x2-xa[Ab].x-uc[Ab],0<Fc&&(uc[Ab]+=Fc/2);if(U&&C(Ua.center,"row")&&1!==Ta)for(Ab=0;Ab<lb;++Ab)Kc="all"===U?Bc:zc[~~(Ab/Ta)],nb=Kc-Hb[Ab].y2-xa[Ab].y-id[Ab],0<nb&&(id[Ab]+=nb/2);
for(Ab=0;Ab<lb;++Ab)Oa.union(Hb[Ab].translate(uc[Ab],id[Ab]));Fc=C(Ua.anchor,"x");nb=C(Ua.anchor,"y");switch(C(Ua.anchor,"column")){case "end":Fc-=Oa.width();break;case "middle":Fc-=Oa.width()/2}switch(C(Ua.anchor,"row")){case "end":nb-=Oa.height();break;case "middle":nb-=Oa.height()/2}Fc=Math.round(Fc);nb=Math.round(nb);Oa.clear();for(Ab=0;Ab<lb;++Ab)xa[Ab].mark.bounds.clear();for(Ab=0;Ab<lb;++Ab)mc=xa[Ab],mc.x+=uc[Ab]+=Fc,mc.y+=id[Ab]+=nb,Oa.union(mc.mark.bounds.union(mc.bounds.translate(uc[Ab],
id[Ab]))),fb&&oa.dirty(mc);return Oa}function K(oa,xa){return"x1"===xa?oa.x||0:"y1"===xa?oa.y||0:"x2"===xa?(oa.x||0)+(oa.width||0):"y2"===xa?(oa.y||0)+(oa.height||0):void 0}function R(oa,xa){return oa.bounds[xa]}function S(oa,xa,Ua,fb,sa,Oa,ja,U,ka,ua,Ta,eb,lb,nb){var Mb=Ua.length,$b=fb=0,Gc,zc;if(!Mb)return fb;for(Gc=Ta;Gc<Mb;Gc+=eb)Ua[Gc]&&(fb=ja(fb,ka(Ua[Gc],ua)));if(!xa.length)return fb;xa.length>sa&&(oa.warn("Grid headers exceed limit: "+sa),xa=xa.slice(0,sa));fb+=Oa;sa=0;for(Oa=xa.length;sa<
Oa;++sa)oa.dirty(xa[sa]),xa[sa].mark.bounds.clear();Gc=Ta;sa=0;for(Oa=xa.length;sa<Oa;++sa,Gc+=eb){ka=xa[sa];Ta=ka.mark.bounds;for(Mb=Gc;0<=Mb&&null==(zc=Ua[Mb]);Mb-=lb);if(U){Mb=null==nb?zc.x:Math.round(zc.bounds.x1+nb*zc.bounds.width());var Bc=fb}else Mb=fb,Bc=null==nb?zc.y:Math.round(zc.bounds.y1+nb*zc.bounds.height());Ta.union(ka.bounds.translate(Mb-(ka.x||0),Bc-(ka.y||0)));ka.x=Mb;ka.y=Bc;oa.dirty(ka);$b=ja($b,Ta[ua])}return $b}function ca(oa,xa,Ua,fb,sa,Oa){if(xa){oa.dirty(xa);var ja=Ua;fb?
ja=Math.round(sa.x1+Oa*sa.width()):Ua=Math.round(sa.y1+Oa*sa.height());xa.bounds.translate(ja-(xa.x||0),Ua-(xa.y||0));xa.mark.bounds.clear().union(xa.bounds);xa.x=ja;xa.y=Ua;oa.dirty(xa)}}function M(oa,xa){const Ua=oa[xa]||{};return(fb,sa)=>null!=Ua[fb]?Ua[fb]:null!=oa[fb]?oa[fb]:sa}function aa(oa,xa){let Ua=-Infinity;oa.forEach(fb=>{null!=fb.offset&&(Ua=Math.max(Ua,fb.offset))});return-Infinity<Ua?Ua:xa}function Y(oa,xa,Ua,fb,sa,Oa,ja){const U=M(Ua,xa);Ua=aa(oa,U("offset",0));const ka=U("anchor",
"start"),ua="end"===ka?1:"middle"===ka?.5:0;oa={align:"each",bounds:U("bounds","flush"),columns:"vertical"===U("direction")?1:oa.length,padding:U("margin",8),center:U("center"),nodirty:!0};switch(xa){case "left":oa.anchor={x:Math.floor(fb.x1)-Ua,column:"end",y:ua*(ja||fb.height()+2*fb.y1),row:ka};break;case "right":oa.anchor={x:Math.ceil(fb.x2)+Ua,y:ua*(ja||fb.height()+2*fb.y1),row:ka};break;case "top":oa.anchor={y:Math.floor(sa.y1)-Ua,row:"end",x:ua*(Oa||sa.width()+2*sa.x1),column:ka};break;case "bottom":oa.anchor=
{y:Math.ceil(sa.y2)+Ua,x:ua*(Oa||sa.width()+2*sa.x1),column:ka};break;case "top-left":oa.anchor={x:Ua,y:Ua};break;case "top-right":oa.anchor={x:Oa-Ua,y:Ua,column:"end"};break;case "bottom-left":oa.anchor={x:Ua,y:ja-Ua,row:"end"};break;case "bottom-right":oa.anchor={x:Oa-Ua,y:ja-Ua,column:"end",row:"end"}}return oa}function ea(oa,xa){xa=xa.items[0];var Ua=xa.datum,fb=xa.orient,sa=xa.bounds,Oa=xa.x,ja=xa.y;xa._bounds?xa._bounds.clear().union(sa):xa._bounds=sa.clone();sa.clear();var U=xa.items[0].items[0];
var ka=xa.padding,ua=ka-U.x,Ta=ka-U.y;if(xa.datum.title){var eb=xa.items[1].items[0],lb=eb.anchor,nb=xa.titlePadding||0,Mb=ka-eb.x,$b=ka-eb.y;switch(eb.orient){case "left":ua+=Math.ceil(eb.bounds.width())+nb;break;case "right":case "bottom":break;default:Ta+=eb.bounds.height()+nb}(ua||Ta)&&D(oa,U,ua,Ta);switch(eb.orient){case "left":$b+=X(xa,U,eb,lb,1,1);break;case "right":Mb+=X(xa,U,eb,"end",0,0)+nb;$b+=X(xa,U,eb,lb,1,1);break;case "bottom":Mb+=X(xa,U,eb,lb,0,0);$b+=X(xa,U,eb,"end",-1,0,1)+nb;break;
default:Mb+=X(xa,U,eb,lb,0,0)}(Mb||$b)&&D(oa,eb,Mb,$b);0>(Mb=Math.round(eb.bounds.x1-ka))&&(D(oa,U,-Mb,0),D(oa,eb,-Mb,0))}else(ua||Ta)&&D(oa,U,ua,Ta);sa=Ga(xa,sa);oa=2*xa.padding;U=2*xa.padding;sa.empty()||(oa=Math.ceil(sa.width()+oa),U=Math.ceil(sa.height()+U));"symbol"===Ua.type&&B(xa.items[0].items[0].items[0].items);"none"!==fb&&(xa.x=Oa=0,xa.y=ja=0);xa.width=oa;xa.height=U;p.boundStroke(sa.set(Oa,ja,Oa+oa,ja+U),xa);xa.mark.bounds.clear().union(sa);return xa}function Ga(oa,xa){oa.items.forEach(Ua=>
xa.union(Ua.bounds));xa.x1=oa.padding;xa.y1=oa.padding;return xa}function X(oa,xa,Ua,fb,sa,Oa,ja){const U=Ua.datum.vgrad;oa=("symbol"===oa.datum.type||!Oa&&U||ja?xa:xa.items[0]).bounds[sa?"y2":"x2"]-oa.padding;xa=U&&Oa?oa:0;Oa=U&&Oa?0:oa;Ua=0>=sa?0:p.multiLineOffset(Ua);return Math.round("start"===fb?xa:"end"===fb?Oa-Ua:.5*(oa-Ua))}function D(oa,xa,Ua,fb){xa.x+=Ua;xa.y+=fb;xa.bounds.translate(Ua,fb);xa.mark.bounds.translate(Ua,fb);oa.dirty(xa)}function B(oa){const xa=oa.reduce((Ua,fb)=>{Ua[fb.column]=
Math.max(fb.bounds.x2-fb.x,Ua[fb.column]||0);return Ua},{});oa.forEach(Ua=>{Ua.width=xa[Ua.column];Ua.height=Ua.bounds.y2-Ua.y})}function N(oa,xa,Ua,fb,sa){var Oa=xa.items[0],ja=Oa.orient,U=Oa.anchor,ka=Oa.offset,ua=Oa.padding,Ta=Oa.items[0].items[0],eb=Oa.items[1]&&Oa.items[1].items[0],lb="left"===ja||"right"===ja?fb:Ua,nb=0,Mb=Ua=0;"group"!==Oa.frame?"left"===ja?(nb=sa.y2,lb=sa.y1):"right"===ja?(nb=sa.y1,lb=sa.y2):(nb=sa.x1,lb=sa.x2):"left"===ja&&(nb=fb,lb=0);fb="start"===U?nb:"end"===U?lb:(nb+
lb)/2;if(eb&&eb.text){switch(ja){case "top":case "bottom":Mb=Ta.bounds.height()+ua;break;case "left":Ua=Ta.bounds.width()+ua;break;case "right":Ua=-Ta.bounds.width()-ua}Ra.clear().union(eb.bounds);Ra.translate(Ua-(eb.x||0),Mb-(eb.y||0));h(eb,"x",Ua)|h(eb,"y",Mb)&&(oa.dirty(eb),eb.bounds.clear().union(Ra),eb.mark.bounds.clear().union(Ra),oa.dirty(eb));Ra.clear().union(eb.bounds)}else Ra.clear();Ra.union(Ta.bounds);switch(ja){case "top":ja=fb;sa=sa.y1-Ra.height()-ka;break;case "left":ja=sa.x1-Ra.width()-
ka;sa=fb;break;case "right":ja=sa.x2+Ra.width()+ka;sa=fb;break;case "bottom":ja=fb;sa=sa.y2+ka;break;default:ja=Oa.x,sa=Oa.y}h(Oa,"x",ja)|h(Oa,"y",sa)&&(Ra.translate(ja,sa),oa.dirty(Oa),Oa.bounds.clear().union(Ra),xa.bounds.clear().union(Ra),oa.dirty(Oa));return Oa.bounds}function Z(oa){k.Transform.call(this,null,oa)}function Aa(oa){return oa&&"legend-entry"!==oa.mark.role}function qa(oa,xa,Ua){var fb=xa.items,sa=Math.max(0,xa.width||0),Oa=Math.max(0,xa.height||0),ja=(new p.Bounds).set(0,0,sa,Oa),
U=ja.clone(),ka=ja.clone(),ua=[],Ta,eb;var lb=0;for(eb=fb.length;lb<eb;++lb){var nb=fb[lb];switch(nb.role){case "axis":var Mb=x(nb)?U:ka;Mb.union(O(oa,nb,sa,Oa));break;case "title":var $b=nb;break;case "legend":ua.push(ea(oa,nb));break;case "frame":case "scope":case "row-header":case "row-footer":case "row-title":case "column-header":case "column-footer":case "column-title":U.union(nb.bounds);ka.union(nb.bounds);break;default:ja.union(nb.bounds)}}if(ua.length){const Gc={};ua.forEach(zc=>{Ta=zc.orient||
"right";"none"!==Ta&&(Gc[Ta]||(Gc[Ta]=[])).push(zc)});for(const zc in Gc)fb=Gc[zc],y(oa,fb,Y(fb,zc,Ua.legends,U,ka,sa,Oa));ua.forEach(zc=>{const Bc=zc.bounds;Bc.equals(zc._bounds)||(zc.bounds=zc._bounds,oa.dirty(zc),zc.bounds=Bc,oa.dirty(zc));if(Ua.autosize&&"fit"===Ua.autosize.type)switch(zc.orient){case "left":case "right":ja.add(Bc.x1,0).add(Bc.x2,0);break;case "top":case "bottom":ja.add(0,Bc.y1).add(0,Bc.y2)}else ja.union(Bc)})}ja.union(U).union(ka);$b&&ja.union(N(oa,$b,sa,Oa,ja));xa.clip&&ja.set(0,
0,xa.width||0,xa.height||0);la(oa,xa,ja,Ua)}function la(oa,xa,Ua,fb){fb=fb.autosize||{};const sa=fb.type;if(!(1>oa._autosize)&&sa){var Oa=oa._width,ja=oa._height,U=Math.max(0,xa.width||0),ka=Math.max(0,Math.ceil(-Ua.x1));xa=Math.max(0,xa.height||0);var ua=Math.max(0,Math.ceil(-Ua.y1)),Ta=Math.max(0,Math.ceil(Ua.x2-U));Ua=Math.max(0,Math.ceil(Ua.y2-xa));if("padding"===fb.contains){const eb=oa.padding();Oa-=eb.left+eb.right;ja-=eb.top+eb.bottom}"none"===sa?(ua=ka=0,U=Oa,xa=ja):"fit"===sa?(U=Math.max(0,
Oa-ka-Ta),xa=Math.max(0,ja-ua-Ua)):"fit-x"===sa?(U=Math.max(0,Oa-ka-Ta),ja=xa+ua+Ua):"fit-y"===sa?(Oa=U+ka+Ta,xa=Math.max(0,ja-ua-Ua)):"pad"===sa&&(Oa=U+ka+Ta,ja=xa+ua+Ua);oa._resizeView(Oa,ja,U,xa,[ka,ua],fb.resize)}}q.inherits(t,k.Transform,{transform(oa,xa){const Ua=xa.dataflow,fb=oa.mark,sa=fb.marktype,Oa=p.Marks[sa],ja=Oa.bound;let U=fb.bounds,ka;if(Oa.nested)fb.items.length&&Ua.dirty(fb.items[0]),U=n(fb,ja),fb.items.forEach(ua=>{ua.bounds.clear().union(U)});else if("group"===sa||oa.modified())switch(xa.visit(xa.MOD,
ua=>Ua.dirty(ua)),U.clear(),fb.items.forEach(ua=>U.union(n(ua,ja))),fb.role){case "axis":case "legend":case "title":xa.reflow()}else ka=xa.changed(xa.REM),xa.visit(xa.ADD,ua=>{U.union(n(ua,ja))}),xa.visit(xa.MOD,ua=>{ka=ka||U.alignsWith(ua.bounds);Ua.dirty(ua);U.union(n(ua,ja))}),ka&&(U.clear(),fb.items.forEach(ua=>U.union(ua.bounds)));p.boundClip(fb);return xa.modifies("bounds")}});f.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};q.inherits(f,
k.Transform,{transform(oa,xa){const Ua=b(xa.dataflow),fb=oa.as;let sa=Ua.value;xa.visit(xa.ADD,Oa=>Oa[fb]=Oa[fb]||++sa);Ua.set(this.value=sa);return xa}});q.inherits(c,k.Transform,{transform(oa,xa){let Ua=this.value;Ua||(Ua=xa.dataflow.scenegraph().mark(oa.markdef,e(oa),oa.index),Ua.group.context=oa.context,oa.context.group||(oa.context.group=Ua.group),Ua.source=this.source,Ua.clip=oa.clip,Ua.interactive=oa.interactive,this.value=Ua);const fb="group"===Ua.marktype?p.GroupItem:p.Item;xa.visit(xa.ADD,
sa=>fb.call(sa,Ua));if(oa.modified("clip")||oa.modified("interactive"))Ua.clip=oa.clip,Ua.interactive=!!oa.interactive,Ua.zdirty=!0,xa.reflow();Ua.items=xa.source;return xa}});const Ja={parity:oa=>oa.filter((xa,Ua)=>Ua%2?xa.opacity=0:1),greedy:(oa,xa)=>{let Ua;return oa.filter((fb,sa)=>sa&&bb(Ua.bounds,fb.bounds,xa)?fb.opacity=0:(Ua=fb,1))}},bb=(oa,xa,Ua)=>Ua>Math.max(xa.x1-oa.x2,oa.x1-xa.x2,xa.y1-oa.y2,oa.y1-xa.y2),ib=(oa,xa)=>{for(var Ua=1,fb=oa.length,sa=oa[0].bounds;Ua<fb;++Ua)if(bb(sa,sa=oa[Ua].bounds,
xa))return!0},Ma=oa=>{oa=oa.bounds;return 1<oa.width()&&1<oa.height()},ma=(oa,xa,Ua)=>{oa=oa.range();var fb=new p.Bounds;"top"===xa||"bottom"===xa?fb.set(oa[0],-Infinity,oa[1],Infinity):fb.set(-Infinity,oa[0],Infinity,oa[1]);fb.expand(Ua||1);return sa=>fb.encloses(sa.bounds)},Fa=oa=>{oa.forEach(xa=>xa.opacity=1);return oa};q.inherits(g,k.Transform,{transform(oa,xa){const Ua=Ja[oa.method]||Ja.parity,fb=oa.separation||0;let sa=xa.materialize(xa.SOURCE).source,Oa,ja;if(sa&&sa.length){if(!oa.method)return oa.modified("method")&&
(Fa(sa),xa=xa.reflow(oa.modified()).modifies("opacity")),xa;sa=sa.filter(Ma);if(sa.length){oa.sort&&(sa=sa.slice().sort(oa.sort));Oa=Fa(sa);xa=xa.reflow(oa.modified()).modifies("opacity");if(3<=Oa.length&&ib(Oa,fb)){do Oa=Ua(Oa,fb);while(3<=Oa.length&&ib(Oa,fb));3>Oa.length&&!q.peek(sa).opacity&&(1<Oa.length&&(q.peek(Oa).opacity=0),q.peek(sa).opacity=1)}oa.boundScale&&0<=oa.boundTolerance&&(ja=ma(oa.boundScale,oa.boundOrient,+oa.boundTolerance),sa.forEach(ka=>{ja(ka)||(ka.opacity=0)}));var U=Oa[0].mark.bounds.clear();
sa.forEach(ka=>{ka.opacity&&U.union(ka.bounds)});return xa}}}});q.inherits(m,k.Transform,{transform(oa,xa){const Ua=xa.dataflow;xa.visit(xa.ALL,fb=>Ua.dirty(fb));xa.fields&&xa.fields.zindex&&(oa=xa.source&&xa.source[0])&&(oa.mark.zdirty=!0)}});const Ra=new p.Bounds,ra=(oa,xa)=>Math.floor(Math.min(oa,xa)),ya=(oa,xa)=>Math.ceil(Math.max(oa,xa));q.inherits(Z,k.Transform,{transform(oa,xa){const Ua=xa.dataflow;oa.mark.items.forEach(fb=>{if(oa.layout){var sa=oa.layout;var Oa=fb.items;for(var ja=Oa.length,
U=0,ka,ua,Ta={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};U<ja;++U)if(ka=Oa[U],ua=ka.items,"group"===ka.marktype)switch(ka.role){case "axis":case "legend":case "title":break;case "row-header":Ta.rowheaders.push(...ua);break;case "row-footer":Ta.rowfooters.push(...ua);break;case "column-header":Ta.colheaders.push(...ua);break;case "column-footer":Ta.colfooters.push(...ua);break;case "row-title":Ta.rowtitle=ua[0];break;case "column-title":Ta.coltitle=
ua[0];break;default:Ta.marks.push(...ua)}Oa=Ta;ua=Oa.marks;Ta="flush"===sa.bounds?K:R;ja=sa.offset;var eb=sa.columns||ua.length,lb=0>=eb?1:Math.ceil(ua.length/eb),nb=lb*eb;U=y(Ua,ua,sa);U.empty()&&U.set(0,0,0,0);if(Oa.rowheaders){ka=C(sa.headerBand,"row",null);var Mb=S(Ua,Oa.rowheaders,ua,eb,lb,-C(ja,"rowHeader"),ra,0,Ta,"x1",0,eb,1,ka)}if(Oa.colheaders){ka=C(sa.headerBand,"column",null);var $b=S(Ua,Oa.colheaders,ua,eb,eb,-C(ja,"columnHeader"),ra,1,Ta,"y1",0,1,eb,ka)}if(Oa.rowfooters){ka=C(sa.footerBand,
"row",null);var Gc=S(Ua,Oa.rowfooters,ua,eb,lb,C(ja,"rowFooter"),ya,0,Ta,"x2",eb-1,eb,1,ka)}if(Oa.colfooters){ka=C(sa.footerBand,"column",null);var zc=S(Ua,Oa.colfooters,ua,eb,eb,C(ja,"columnFooter"),ya,1,Ta,"y2",nb-eb,1,eb,ka)}Oa.rowtitle&&(ka=C(sa.titleAnchor,"row"),ua=C(ja,"rowTitle"),ua="end"===ka?Gc+ua:Mb-ua,ka=C(sa.titleBand,"row",.5),ca(Ua,Oa.rowtitle,ua,0,U,ka));Oa.coltitle&&(ka=C(sa.titleAnchor,"column"),ua=C(ja,"columnTitle"),ua="end"===ka?zc+ua:$b-ua,ka=C(sa.titleBand,"column",.5),ca(Ua,
Oa.coltitle,ua,1,U,ka))}qa(Ua,fb,oa)});return Aa(oa.mark.group)?xa.reflow():xa}});w.bound=t;w.identifier=f;w.mark=c;w.overlap=g;w.render=m;w.viewlayout=Z;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[30]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(27),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-scale","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(va){k.Transform.call(this,null,va)}function n(va){k.Transform.call(this,null,va)}function f(){return k.ingest({})}function b(va){const Ca=q.fastmap().test($a=>
$a.exit);Ca.lookup=$a=>Ca.get(va($a));return Ca}function c(va){k.Transform.call(this,null,va)}function e(va){k.Transform.call(this,[],va)}function g(va){k.Transform.call(this,{},va)}function m(va,Ca,$a){va=+va;Ca=+Ca;$a=2>(yb=arguments.length)?(Ca=va,va=0,1):3>yb?1:+$a;for(var jb=-1,yb=Math.max(0,Math.ceil((Ca-va)/$a))|0,Ub=Array(yb);++jb<yb;)Ub[jb]=va+jb*$a;return Ub}function h(va,Ca){let $a=0;if(void 0===Ca)for(var jb of va){if(jb=+jb)$a+=jb}else{jb=-1;for(let yb of va)if(yb=+Ca(yb,++jb,va))$a+=
yb}return $a}function x(va){k.Transform.call(this,null,va)}function O(va,Ca,$a){va.prototype=Ca.prototype=$a;$a.constructor=va}function G(va,Ca){va=Object.create(va.prototype);for(var $a in Ca)va[$a]=Ca[$a];return va}function I(){}function F(){return this.rgb().formatHex()}function C(){return this.rgb().formatRgb()}function r(va){var Ca,$a;va=(va+"").trim().toLowerCase();return(Ca=Bc.exec(va))?($a=Ca[1].length,Ca=parseInt(Ca[1],16),6===$a?y(Ca):3===$a?new S(Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,(Ca&
15)<<4|Ca&15,1):8===$a?K(Ca>>24&255,Ca>>16&255,Ca>>8&255,(Ca&255)/255):4===$a?K(Ca>>12&15|Ca>>8&240,Ca>>8&15|Ca>>4&240,Ca>>4&15|Ca&240,((Ca&15)<<4|Ca&15)/255):null):(Ca=uc.exec(va))?new S(Ca[1],Ca[2],Ca[3],1):(Ca=id.exec(va))?new S(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,1):(Ca=Hb.exec(va))?K(Ca[1],Ca[2],Ca[3],Ca[4]):(Ca=Ab.exec(va))?K(255*Ca[1]/100,255*Ca[2]/100,255*Ca[3]/100,Ca[4]):(Ca=dc.exec(va))?Y(Ca[1],Ca[2]/100,Ca[3]/100,1):(Ca=Wb.exec(va))?Y(Ca[1],Ca[2]/100,Ca[3]/100,Ca[4]):mc.hasOwnProperty(va)?
y(mc[va]):"transparent"===va?new S(NaN,NaN,NaN,0):null}function y(va){return new S(va>>16&255,va>>8&255,va&255,1)}function K(va,Ca,$a,jb){0>=jb&&(va=Ca=$a=NaN);return new S(va,Ca,$a,jb)}function R(va,Ca,$a,jb){if(1===arguments.length){var yb=va;yb instanceof I||(yb=r(yb));yb?(yb=yb.rgb(),yb=new S(yb.r,yb.g,yb.b,yb.opacity)):yb=new S}else yb=new S(va,Ca,$a,null==jb?1:jb);return yb}function S(va,Ca,$a,jb){this.r=+va;this.g=+Ca;this.b=+$a;this.opacity=+jb}function ca(){return"#"+aa(this.r)+aa(this.g)+
aa(this.b)}function M(){var va=this.opacity;va=isNaN(va)?1:Math.max(0,Math.min(1,va));return(1===va?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===va?")":", "+va+")")}function aa(va){va=Math.max(0,Math.min(255,Math.round(va)||0));return(16>va?"0":"")+va.toString(16)}function Y(va,Ca,$a,jb){0>=jb?va=Ca=$a=NaN:0>=$a||1<=$a?va=Ca=NaN:0>=Ca&&(va=NaN);return new Ga(va,Ca,$a,jb)}
function ea(va){if(va instanceof Ga)return new Ga(va.h,va.s,va.l,va.opacity);va instanceof I||(va=r(va));if(!va)return new Ga;if(va instanceof Ga)return va;va=va.rgb();var Ca=va.r/255,$a=va.g/255,jb=va.b/255,yb=Math.min(Ca,$a,jb),Ub=Math.max(Ca,$a,jb),Tb=NaN,Vb=Ub-yb,Ic=(Ub+yb)/2;Vb?(Tb=Ca===Ub?($a-jb)/Vb+6*($a<jb):$a===Ub?(jb-Ca)/Vb+2:(Ca-$a)/Vb+4,Vb/=.5>Ic?Ub+yb:2-Ub-yb,Tb*=60):Vb=0<Ic&&1>Ic?0:Tb;return new Ga(Tb,Vb,Ic,va.opacity)}function Ga(va,Ca,$a,jb){this.h=+va;this.s=+Ca;this.l=+$a;this.opacity=
+jb}function X(va,Ca,$a){return 255*(60>va?Ca+($a-Ca)*va/60:180>va?$a:240>va?Ca+($a-Ca)*(240-va)/60:Ca)}function D(va,Ca){return function($a){return va+$a*Ca}}function B(va,Ca,$a){return va=Math.pow(va,$a),Ca=Math.pow(Ca,$a)-va,$a=1/$a,function(jb){return Math.pow(va+jb*Ca,$a)}}function N(va){return 1===(va=+va)?Z:function(Ca,$a){return $a-Ca?B(Ca,$a,va):Kc(isNaN(Ca)?$a:Ca)}}function Z(va,Ca){var $a=Ca-va;return $a?D(va,$a):Kc(isNaN(va)?Ca:va)}function Aa(va,Ca){Ca||(Ca=[]);var $a=va?Math.min(Ca.length,
va.length):0,jb=Ca.slice(),yb;return function(Ub){for(yb=0;yb<$a;++yb)jb[yb]=va[yb]*(1-Ub)+Ca[yb]*Ub;return jb}}function qa(va,Ca){var $a=Ca?Ca.length:0,jb=va?Math.min($a,va.length):0,yb=Array(jb),Ub=Array($a),Tb;for(Tb=0;Tb<jb;++Tb)yb[Tb]=Fa(va[Tb],Ca[Tb]);for(;Tb<$a;++Tb)Ub[Tb]=Ca[Tb];return function(Vb){for(Tb=0;Tb<jb;++Tb)Ub[Tb]=yb[Tb](Vb);return Ub}}function la(va,Ca){var $a=new Date;return va=+va,Ca=+Ca,function(jb){return $a.setTime(va*(1-jb)+Ca*jb),$a}}function Ja(va,Ca){return va=+va,Ca=
+Ca,function($a){return va*(1-$a)+Ca*$a}}function bb(va,Ca){var $a={},jb={},yb;if(null===va||"object"!==typeof va)va={};if(null===Ca||"object"!==typeof Ca)Ca={};for(yb in Ca)yb in va?$a[yb]=Fa(va[yb],Ca[yb]):jb[yb]=Ca[yb];return function(Ub){for(yb in $a)jb[yb]=$a[yb](Ub);return jb}}function ib(va){return function(){return va}}function Ma(va){return function(Ca){return va(Ca)+""}}function ma(va,Ca){var $a=Sc.lastIndex=jd.lastIndex=0,jb,yb,Ub,Tb=-1,Vb=[],Ic=[];va+="";for(Ca+="";(jb=Sc.exec(va))&&(yb=
jd.exec(Ca));)(Ub=yb.index)>$a&&(Ub=Ca.slice($a,Ub),Vb[Tb]?Vb[Tb]+=Ub:Vb[++Tb]=Ub),(jb=jb[0])===(yb=yb[0])?Vb[Tb]?Vb[Tb]+=yb:Vb[++Tb]=yb:(Vb[++Tb]=null,Ic.push({i:Tb,x:Ja(jb,yb)})),$a=jd.lastIndex;$a<Ca.length&&(Ub=Ca.slice($a),Vb[Tb]?Vb[Tb]+=Ub:Vb[++Tb]=Ub);return 2>Vb.length?Ic[0]?Ma(Ic[0].x):ib(Ca):(Ca=Ic.length,function($c){for(var dd=0,nd;dd<Ca;++dd)Vb[(nd=Ic[dd]).i]=nd.x($c);return Vb.join("")})}function Fa(va,Ca){var $a=typeof Ca;if(null==Ca||"boolean"===$a)va=Kc(Ca);else{if("number"===$a)var jb=
Ja;else"string"===$a?$a=(jb=r(Ca))?(Ca=jb,Fc):ma:(Ca instanceof r?jb=Fc:Ca instanceof Date?jb=la:(jb=Ca,jb=!ArrayBuffer.isView(jb)||jb instanceof DataView?Array.isArray(Ca)?qa:"function"!==typeof Ca.valueOf&&"function"!==typeof Ca.toString||isNaN(Ca)?bb:Ja:Aa),$a=jb),jb=$a;va=jb(va,Ca)}return va}function Ra(va,Ca){return va=+va,Ca=+Ca,function($a){return Math.round(va*(1-$a)+Ca*$a)}}function ra(va){return p.isContinuous(va)&&va!==p.Sequential}function ya(va){k.Transform.call(this,null,va);this.modified(!0)}
function oa(va,Ca,$a){p.isLogarithmic(va)&&Math.abs(Ca.reduce((jb,yb)=>jb+(0>yb?-1:0<yb?1:0),0))!==Ca.length&&$a.warn("Log scale domain includes zero: "+q.stringValue(Ca));return Ca}function xa(va,Ca,$a){return q.isFunction(va)&&(Ca||$a)?p.interpolateRange(va,Ua(Ca||[0,1],$a)):va}function Ua(va,Ca){return Ca?va.slice().reverse():va}function fb(va){k.Transform.call(this,null,va)}function sa(va){k.Transform.call(this,null,va)}function Oa(va,Ca,$a,jb,yb){Ca=(Ca-va.sum)/2;for(var Ub=va.length,Tb=0,Vb;Tb<
Ub;++Tb)Vb=va[Tb],Vb[jb]=Ca,Vb[yb]=Ca+=Math.abs($a(Vb))}function ja(va,Ca,$a,jb,yb){Ca=1/va.sum;for(var Ub=0,Tb=va.length,Vb=0,Ic=0,$c;Vb<Tb;++Vb)$c=va[Vb],$c[jb]=Ub,$c[yb]=Ub=Ca*(Ic+=Math.abs($a($c)))}function U(va,Ca,$a,jb,yb){for(var Ub=Ca=0,Tb=va.length,Vb=0,Ic,$c;Vb<Tb;++Vb)$c=va[Vb],Ic=+$a($c),0>Ic?($c[jb]=Ub,$c[yb]=Ub+=Ic):($c[jb]=Ca,$c[yb]=Ca+=Ic)}function ka(va,Ca,$a,jb){var yb=[],Ub=xd=>xd($c),Tb;if(null==Ca)yb.push(va.slice());else{var Vb={};var Ic=0;for(Tb=va.length;Ic<Tb;++Ic){var $c=
va[Ic];var dd=Ca.map(Ub);var nd=Vb[dd];nd||(Vb[dd]=nd=[],yb.push(nd));nd.push($c)}}Ub=dd=0;for(va=yb.length;dd<va;++dd){nd=yb[dd];Ca=Ic=0;for(Tb=nd.length;Ic<Tb;++Ic)Ca+=Math.abs(jb(nd[Ic]));nd.sum=Ca;Ca>Ub&&(Ub=Ca);$a&&nd.sort($a)}yb.max=Ub;return yb}q.inherits(t,k.Transform,{transform(va,Ca){if(this.value&&!va.modified())return Ca.StopPropagation;var $a=Ca.dataflow.locale();Ca=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS);var jb=this.value,yb=va.scale,Ub=p.tickCount(yb,null==va.count?va.values?va.values.length:
10:va.count,va.minstep),Tb=va.format||p.tickFormat($a,yb,Ub,va.formatSpecifier,va.formatType,!!va.values),Vb=va.values?p.validTicks(yb,va.values,Ub):p.tickValues(yb,Ub);jb&&(Ca.rem=jb);jb=Vb.map((Ic,$c)=>k.ingest({index:$c/(Vb.length-1||1),value:Ic,label:Tb(Ic)}));va.extra&&jb.length&&jb.push(k.ingest({index:-1,extra:{value:jb[0].value},label:""}));Ca.source=jb;this.value=Ca.add=jb;return Ca}});q.inherits(n,k.Transform,{transform(va,Ca){var $a=Ca.dataflow,jb=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS),yb=
va.item||f,Ub=va.key||k.tupleid,Tb=this.value;q.isArray(jb.encode)&&(jb.encode=null);Tb&&(va.modified("key")||Ca.modified(Ub))&&q.error("DataJoin does not support modified key function or fields.");Tb||(Ca=Ca.addAll(),this.value=Tb=b(Ub));Ca.visit(Ca.ADD,Vb=>{const Ic=Ub(Vb);let $c=Tb.get(Ic);$c?$c.exit?(Tb.empty--,jb.add.push($c)):jb.mod.push($c):($c=yb(Vb),Tb.set(Ic,$c),jb.add.push($c));$c.datum=Vb;$c.exit=!1});Ca.visit(Ca.MOD,Vb=>{var Ic=Ub(Vb);if(Ic=Tb.get(Ic))Ic.datum=Vb,jb.mod.push(Ic)});Ca.visit(Ca.REM,
Vb=>{var Ic=Ub(Vb);Ic=Tb.get(Ic);Vb!==Ic.datum||Ic.exit||(jb.rem.push(Ic),Ic.exit=!0,++Tb.empty)});Ca.changed(Ca.ADD_MOD)&&jb.modifies("datum");(Ca.clean()||va.clean&&Tb.empty>$a.cleanThreshold)&&$a.runAfter(Tb.clean);return jb}});q.inherits(c,k.Transform,{transform(va,Ca){var $a=Ca.fork(Ca.ADD_REM),jb=va.mod||!1,yb=va.encoders,Ub=Ca.encode;if(q.isArray(Ub))if($a.changed()||Ub.every(nd=>yb[nd]))Ub=Ub[0],$a.encode=null;else return Ca.StopPropagation;var Tb="enter"===Ub,Vb=yb.update||q.falsy,Ic=yb.enter||
q.falsy,$c=yb.exit||q.falsy,dd=(Ub&&!Tb?yb[Ub]:Vb)||q.falsy;Ca.changed(Ca.ADD)&&(Ca.visit(Ca.ADD,nd=>{Ic(nd,va);Vb(nd,va)}),$a.modifies(Ic.output),$a.modifies(Vb.output),dd!==q.falsy&&dd!==Vb&&(Ca.visit(Ca.ADD,nd=>{dd(nd,va)}),$a.modifies(dd.output)));Ca.changed(Ca.REM)&&$c!==q.falsy&&(Ca.visit(Ca.REM,nd=>{$c(nd,va)}),$a.modifies($c.output));if(Tb||dd!==q.falsy)Ub=Ca.MOD|(va.modified()?Ca.REFLOW:0),Tb?(Ca.visit(Ub,nd=>{const xd=Ic(nd,va)||jb;(dd(nd,va)||xd)&&$a.mod.push(nd)}),$a.mod.length&&$a.modifies(Ic.output)):
Ca.visit(Ub,nd=>{(dd(nd,va)||jb)&&$a.mod.push(nd)}),$a.mod.length&&$a.modifies(dd.output);return $a.changed()?$a:Ca.StopPropagation}});q.inherits(e,k.Transform,{transform(va,Ca){if(null!=this.value&&!va.modified())return Ca.StopPropagation;var $a=Ca.dataflow.locale(),jb=Ca.fork(Ca.NO_SOURCE|Ca.NO_FIELDS),yb=this.value,Ub=va.type||p.SymbolLegend,Tb=va.scale,Vb=+va.limit,Ic=p.tickCount(Tb,null==va.count?5:va.count,va.minstep),$c=!!va.values||Ub===p.SymbolLegend,dd=va.format||p.labelFormat($a,Tb,Ic,
Ub,va.formatSpecifier,va.formatType,$c),nd=va.values||p.labelValues(Tb,Ic),xd;yb&&(jb.rem=yb);if(Ub===p.SymbolLegend){if(Vb&&nd.length>Vb){Ca.dataflow.warn("Symbol legend count exceeds limit, filtering items.");yb=nd.slice(0,Vb-1);var Nd=!0}else yb=nd;if(q.isFunction(xd=va.size)){va.values||0!==Tb(yb[0])||(yb=yb.slice(1));var Xd=yb.reduce((le,qe)=>Math.max(le,xd(qe,va)),0)}else xd=q.constant(Xd=xd||8);yb=yb.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,yb),value:le,offset:Xd,size:xd(le,va)}));Nd&&
(Nd=nd[yb.length],yb.push(k.ingest({index:yb.length,label:`\u2026${nd.length-yb.length} entries`,value:Nd,offset:Xd,size:xd(Nd,va)})))}else if(Ub===p.GradientLegend){Ca=Tb.domain();var ge=p.scaleFraction(Tb,Ca[0],q.peek(Ca));3>nd.length&&!va.values&&Ca[0]!==q.peek(Ca)&&(nd=[Ca[0],q.peek(Ca)]);yb=nd.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,nd),value:le,perc:ge(le)}))}else xd=nd.length-1,ge=p.labelFraction(Tb),yb=nd.map((le,qe)=>k.ingest({index:qe,label:dd(le,qe,nd),value:le,perc:qe?ge(le):0,
perc2:qe===xd?1:ge(nd[qe+1])}));jb.source=yb;this.value=jb.add=yb;return jb}});const ua=va=>va.source.x,Ta=va=>va.source.y,eb=va=>va.target.x,lb=va=>va.target.y;g.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field","default":"source.x"},{name:"sourceY",type:"field","default":"source.y"},{name:"targetX",type:"field","default":"target.x"},{name:"targetY",type:"field","default":"target.y"},{name:"orient",type:"enum","default":"vertical",values:["horizontal","vertical",
"radial"]},{name:"shape",type:"enum","default":"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string","default":"path"}]};q.inherits(g,k.Transform,{transform(va,Ca){var $a=va.sourceX||ua,jb=va.sourceY||Ta,yb=va.targetX||eb,Ub=va.targetY||lb,Tb=va.as||"path",Vb=va.shape||"line",Ic=Gc.get(Vb+"-"+(va.orient||"vertical"))||Gc.get(Vb);Ic||q.error("LinkPath unsupported type: "+va.shape+(va.orient?"-"+va.orient:""));Ca.visit(Ca.SOURCE,$c=>{$c[Tb]=
Ic($a($c),jb($c),yb($c),Ub($c))});return Ca.reflow(va.modified()).modifies(Tb)}});const nb=(va,Ca,$a,jb)=>"M"+va+","+Ca+"L"+$a+","+jb,Mb=(va,Ca,$a,jb)=>{var yb=$a-va,Ub=jb-Ca,Tb=Math.sqrt(yb*yb+Ub*Ub)/2;return"M"+va+","+Ca+"A"+Tb+","+Tb+" "+180*Math.atan2(Ub,yb)/Math.PI+" 0 1 "+$a+","+jb},$b=(va,Ca,$a,jb)=>{var yb=$a-va;const Ub=jb-Ca,Tb=.2*(yb+Ub);yb=.2*(Ub-yb);return"M"+va+","+Ca+"C"+(va+Tb)+","+(Ca+yb)+" "+($a+yb)+","+(jb-Tb)+" "+$a+","+jb},Gc=q.fastmap({line:nb,"line-radial":(va,Ca,$a,jb)=>nb(Ca*
Math.cos(va),Ca*Math.sin(va),jb*Math.cos($a),jb*Math.sin($a)),arc:Mb,"arc-radial":(va,Ca,$a,jb)=>Mb(Ca*Math.cos(va),Ca*Math.sin(va),jb*Math.cos($a),jb*Math.sin($a)),curve:$b,"curve-radial":(va,Ca,$a,jb)=>$b(Ca*Math.cos(va),Ca*Math.sin(va),jb*Math.cos($a),jb*Math.sin($a)),"orthogonal-horizontal":(va,Ca,$a,jb)=>"M"+va+","+Ca+"V"+jb+"H"+$a,"orthogonal-vertical":(va,Ca,$a,jb)=>"M"+va+","+Ca+"H"+$a+"V"+jb,"orthogonal-radial":(va,Ca,$a,jb)=>{const yb=Math.cos($a),Ub=Math.sin($a);return"M"+Ca*Math.cos(va)+
","+Ca*Math.sin(va)+"A"+Ca+","+Ca+" 0 0,"+((Math.abs($a-va)>Math.PI?$a<=va:$a>va)?1:0)+" "+Ca*yb+","+Ca*Ub+"L"+jb*yb+","+jb*Ub},"diagonal-horizontal":(va,Ca,$a,jb)=>{const yb=(va+$a)/2;return"M"+va+","+Ca+"C"+yb+","+Ca+" "+yb+","+jb+" "+$a+","+jb},"diagonal-vertical":(va,Ca,$a,jb)=>{const yb=(Ca+jb)/2;return"M"+va+","+Ca+"C"+va+","+yb+" "+$a+","+yb+" "+$a+","+jb},"diagonal-radial":(va,Ca,$a,jb)=>{const yb=Math.cos(va);va=Math.sin(va);const Ub=Math.cos($a);$a=Math.sin($a);const Tb=(Ca+jb)/2;return"M"+
Ca*yb+","+Ca*va+"C"+Tb*yb+","+Tb*va+" "+Tb*Ub+","+Tb*$a+" "+jb*Ub+","+jb*$a}});x.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number","default":0},{name:"endAngle",type:"number","default":6.283185307179586},{name:"sort",type:"boolean","default":!1},{name:"as",type:"string",array:!0,length:2,"default":["startAngle","endAngle"]}]};q.inherits(x,k.Transform,{transform(va,Ca){var $a=va.as||["startAngle","endAngle"],jb=$a[0],yb=$a[1],Ub=va.startAngle||
0,Tb=null!=va.endAngle?va.endAngle:2*Math.PI,Vb=Ca.source,Ic=Vb.map(va.field||q.one),$c=Ic.length,dd=Ub;Ub=(Tb-Ub)/h(Ic);Tb=m($c);var nd;va.sort&&Tb.sort((Xd,ge)=>Ic[Xd]-Ic[ge]);for(nd=0;nd<$c;++nd){var xd=Ic[Tb[nd]];var Nd=Vb[Tb[nd]];Nd[jb]=dd;Nd[yb]=dd+=xd*Ub}this.value=Ic;return Ca.reflow(va.modified()).modifies($a)}});var zc=1/.7,Bc=/^#([0-9a-f]{3,8})$/,uc=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),id=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Hb=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Ab=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),dc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Wb=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),mc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};O(I,r,{copy:function(va){return Object.assign(new this.constructor,this,va)},displayable:function(){return this.rgb().displayable()},hex:F,formatHex:F,formatHsl:function(){return ea(this).formatHsl()},
formatRgb:C,toString:C});O(S,R,G(I,{brighter:function(va){va=null==va?zc:Math.pow(zc,va);return new S(this.r*va,this.g*va,this.b*va,this.opacity)},darker:function(va){va=null==va?.7:Math.pow(.7,va);return new S(this.r*va,this.g*va,this.b*va,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:ca,formatHex:ca,formatRgb:M,toString:M}));O(Ga,function(va,Ca,$a,jb){return 1===
arguments.length?ea(va):new Ga(va,Ca,$a,null==jb?1:jb)},G(I,{brighter:function(va){va=null==va?zc:Math.pow(zc,va);return new Ga(this.h,this.s,this.l*va,this.opacity)},darker:function(va){va=null==va?.7:Math.pow(.7,va);return new Ga(this.h,this.s,this.l*va,this.opacity)},rgb:function(){var va=this.h%360+360*(0>this.h),Ca=isNaN(va)||isNaN(this.s)?0:this.s,$a=this.l;Ca=$a+(.5>$a?$a:1-$a)*Ca;$a=2*$a-Ca;return new S(X(240<=va?va-240:va+120,$a,Ca),X(va,$a,Ca),X(120>va?va+240:va-120,$a,Ca),this.opacity)},
displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var va=this.opacity;va=isNaN(va)?1:Math.max(0,Math.min(1,va));return(1===va?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===va?")":", "+va+")")}}));var Kc=va=>()=>va,Fc=function $a(Ca){function jb(Ub,Tb){var Vb=yb((Ub=R(Ub)).r,(Tb=R(Tb)).r),Ic=yb(Ub.g,Tb.g),$c=yb(Ub.b,Tb.b),dd=Z(Ub.opacity,Tb.opacity);return function(nd){Ub.r=
Vb(nd);Ub.g=Ic(nd);Ub.b=$c(nd);Ub.opacity=dd(nd);return Ub+""}}var yb=N(Ca);jb.gamma=$a;return jb}(1),Sc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jd=new RegExp(Sc.source,"g");const $d=q.toSet("set modified clear type scheme schemeExtent schemeCount domain domainMin domainMid domainMax domainRaw domainImplicit nice zero bins range rangeStep round reverse interpolate interpolateGamma".split(" "));q.inherits(ya,k.Transform,{transform(Ca,$a){var jb=$a.dataflow,yb=this.value;var Ub=Ca.type;var Tb=
"";if(Ub===p.Sequential)Ub=p.Sequential+"-"+p.Linear;else{var Vb=Ca.type;p.isContinuous(Vb)&&Vb!==p.Time&&Vb!==p.UTC&&(Ca.scheme||Ca.range&&Ca.range.length&&Ca.range.every(q.isString))&&(Tb=Ca.rawDomain?Ca.rawDomain.length:Ca.domain?Ca.domain.length+ +(null!=Ca.domainMid):0,Tb=2===Tb?p.Sequential+"-":3===Tb?p.Diverging+"-":"");Ub=(Tb+Ub||p.Linear).toLowerCase()}yb&&Ub===yb.type||(this.value=yb=p.scale(Ub)());for(Ub in Ca)$d[Ub]||"padding"===Ub&&ra(yb.type)||(q.isFunction(yb[Ub])?yb[Ub](Ca[Ub]):jb.warn("Unsupported scale property: "+
Ub));Tb=Ub=yb;(Vb=Ca.domainRaw)?(yb.domain(oa(yb.type,Vb,jb)),Vb=Vb.length):Vb=-1;if(-1<Vb)jb=Vb;else{var Ic=Ca.domain;Vb=yb.type;var $c;!($c=Ca.zero)&&($c=void 0===Ca.zero)&&($c=yb.type,$c=!yb.bins&&($c===p.Linear||$c===p.Pow||$c===p.Sqrt));if(Ic){if(ra(Vb)&&Ca.padding&&Ic[0]!==q.peek(Ic)){var dd=Ca.range,nd=Ca.padding;var xd=Ca.exponent;var Nd=Ca.constant;dd=Math.abs(q.peek(dd)-dd[0]);nd=dd/(dd-2*nd);xd=Vb===p.Log?q.zoomLog(Ic,null,nd):Vb===p.Sqrt?q.zoomPow(Ic,null,nd,.5):Vb===p.Pow?q.zoomPow(Ic,
null,nd,xd||1):Vb===p.Symlog?q.zoomSymlog(Ic,null,nd,Nd||1):q.zoomLinear(Ic,null,nd);Ic=Ic.slice();Ic[0]=xd[0];Ic[Ic.length-1]=xd[1]}if($c||null!=Ca.domainMin||null!=Ca.domainMax||null!=Ca.domainMid)xd=(Ic=Ic.slice()).length-1||1,$c&&(0<Ic[0]&&(Ic[0]=0),0>Ic[xd]&&(Ic[xd]=0)),null!=Ca.domainMin&&(Ic[0]=Ca.domainMin),null!=Ca.domainMax&&(Ic[xd]=Ca.domainMax),null!=Ca.domainMid&&($c=Ca.domainMid,Nd=$c>Ic[xd]?xd+1:$c<Ic[0]?0:xd,Nd!==xd&&jb.warn("Scale domainMid exceeds domain min or max.",$c),Ic.splice(Nd,
0,$c));yb.domain(oa(Vb,Ic,jb));Vb===p.Ordinal&&yb.unknown(Ca.domainImplicit?p.scaleImplicit:void 0);Ca.nice&&yb.nice&&yb.nice(!0!==Ca.nice&&p.tickCount(yb,Ca.nice)||null);jb=Ic.length}else jb=0}(Vb=Ca.bins)&&!q.isArray(Vb)&&($c=Tb.domain(),yb=$c[0],$c=q.peek($c),Ic=Vb.step,xd=null==Vb.start?yb:Vb.start,Vb=null==Vb.stop?$c:Vb.stop,Ic||q.error("Scale bins parameter missing step property."),xd<yb&&(xd=Ic*Math.ceil(yb/Ic)),Vb>$c&&(Vb=Ic*Math.floor($c/Ic)),Vb=m(xd,Vb+Ic/2,Ic));Vb?Tb.bins=Vb:Tb.bins&&delete Tb.bins;
Tb.type===p.BinOrdinal&&(Vb?Ca.domain||Ca.domainRaw||(Tb.domain(Vb),jb=Vb.length):Tb.bins=Tb.domain());yb=jb;a:{Tb=Ub.type;jb=Ca.round||!1;Vb=Ca.range;if(null!=Ca.rangeStep)Tb!==p.Band&&Tb!==p.Point&&q.error("Only band and point scales support rangeStep."),Vb=[0,Ca.rangeStep*p.bandSpace(yb,Tb===p.Point?1:(null!=Ca.paddingInner?Ca.paddingInner:Ca.padding)||0,(null!=Ca.paddingOuter?Ca.paddingOuter:Ca.padding)||0)];else if(Ca.scheme&&(Vb=Ca.schemeExtent,q.isArray(Ca.scheme)?$c=p.interpolateColors(Ca.scheme,
Ca.interpolate,Ca.interpolateGamma):($c=Ca.scheme.toLowerCase(),($c=p.scheme($c))||q.error(`Unrecognized scheme name: ${Ca.scheme}`)),yb=Tb===p.Threshold?yb+1:Tb===p.BinOrdinal?yb-1:Tb===p.Quantile||Tb===p.Quantize?+Ca.schemeCount||5:yb,Vb=p.isInterpolating(Tb)?xa($c,Vb,Ca.reverse):q.isFunction($c)?p.quantizeInterpolator(xa($c,Vb),yb):Tb===p.Ordinal?$c:$c.slice(0,yb),q.isFunction(Vb)))if(Ub.interpolator){Ub.interpolator(Vb);break a}else q.error(`Scale type ${Tb} does not support interpolating color schemes.`);
Vb&&p.isInterpolating(Tb)?Ub.interpolator(p.interpolateColors(Ua(Vb,Ca.reverse),Ca.interpolate,Ca.interpolateGamma)):(Vb&&Ca.interpolate&&Ub.interpolate?Ub.interpolate(p.interpolate(Ca.interpolate,Ca.interpolateGamma)):q.isFunction(Ub.round)?Ub.round(jb):q.isFunction(Ub.rangeRound)&&Ub.interpolate(jb?Ra:Fa),Vb&&Ub.range(Ua(Vb,Ca.reverse)))}return $a.fork($a.NO_SOURCE|$a.NO_FIELDS)}});q.inherits(fb,k.Transform,{transform(Ca,$a){const jb=Ca.modified("sort")||$a.changed($a.ADD)||$a.modified(Ca.sort.fields)||
$a.modified("datum");jb&&$a.source.sort(k.stableCompare(Ca.sort));this.modified(jb);return $a}});const Ba=["y0","y1"];sa.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum","default":"zero",values:["zero","center","normalize"]},{name:"as",type:"string",array:!0,length:2,"default":Ba}]};q.inherits(sa,k.Transform,{transform(Ca,$a){var jb=Ca.as||Ba,yb=jb[0],Ub=jb[1],Tb=k.stableCompare(Ca.sort),
Vb=Ca.field||q.one,Ic="center"===Ca.offset?Oa:"normalize"===Ca.offset?ja:U,$c;Tb=ka($a.source,Ca.groupby,Tb,Vb);var dd=0;var nd=Tb.length;for($c=Tb.max;dd<nd;++dd)Ic(Tb[dd],$c,Vb,yb,Ub);return $a.reflow(Ca.modified()).modifies(jb)}});w.axisticks=t;w.datajoin=n;w.encode=c;w.legendentries=e;w.linkpath=g;w.pie=x;w.scale=ya;w.sortitems=fb;w.stack=sa;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[31]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function*k(kb){for(const Gb of kb)yield*Gb}function p(kb){return 1<kb?0:-1>kb?xd:Math.acos(kb)}function q(kb){return 1<kb?Nd:-1>kb?-Nd:Math.asin(kb)}function t(){}function n(kb,Gb){if(kb&&Dc.hasOwnProperty(kb.type))Dc[kb.type](kb,Gb)}function f(kb,Gb,
Pb){var bc=-1;Pb=kb.length-Pb;for(Gb.lineStart();++bc<Pb;){var fa=kb[bc];Gb.point(fa[0],fa[1],fa[2])}Gb.lineEnd()}function b(kb,Gb){var Pb=-1,bc=kb.length;for(Gb.polygonStart();++Pb<bc;)f(kb[Pb],Gb,1);Gb.polygonEnd()}function c(kb,Gb){if(kb&&Hc.hasOwnProperty(kb.type))Hc[kb.type](kb,Gb);else n(kb,Gb)}function e(kb){return[gf(kb[1],kb[0]),q(kb[2])]}function g(kb){var Gb=kb[0];kb=kb[1];var Pb=te(kb);return[Pb*te(Gb),Pb*tb(Gb),tb(kb)]}function m(kb,Gb){return kb[0]*Gb[0]+kb[1]*Gb[1]+kb[2]*Gb[2]}function h(kb,
Gb){return[kb[1]*Gb[2]-kb[2]*Gb[1],kb[2]*Gb[0]-kb[0]*Gb[2],kb[0]*Gb[1]-kb[1]*Gb[0]]}function x(kb,Gb){kb[0]+=Gb[0];kb[1]+=Gb[1];kb[2]+=Gb[2]}function O(kb,Gb){return[kb[0]*Gb,kb[1]*Gb,kb[2]*Gb]}function G(kb){var Gb=fc(kb[0]*kb[0]+kb[1]*kb[1]+kb[2]*kb[2]);kb[0]/=Gb;kb[1]/=Gb;kb[2]/=Gb}function I(kb,Gb){function Pb(bc,fa){return bc=kb(bc,fa),Gb(bc[0],bc[1])}kb.invert&&Gb.invert&&(Pb.invert=function(bc,fa){return bc=Gb.invert(bc,fa),bc&&kb.invert(bc[0],bc[1])});return Pb}function F(kb,Gb){return[wd(kb)>
xd?kb+Math.round(-kb/ge)*ge:kb,Gb]}function C(kb,Gb,Pb){return(kb%=ge)?Gb||Pb?I(y(kb),K(Gb,Pb)):y(kb):Gb||Pb?K(Gb,Pb):F}function r(kb){return function(Gb,Pb){return Gb+=kb,[Gb>xd?Gb-ge:Gb<-xd?Gb+ge:Gb,Pb]}}function y(kb){var Gb=r(kb);Gb.invert=r(-kb);return Gb}function K(kb,Gb){function Pb(Fb,Kb){var Ob=te(Kb),oc=te(Fb)*Ob;Fb=tb(Fb)*Ob;Kb=tb(Kb);Ob=Kb*bc+oc*fa;return[gf(Fb*Ia-Ob*gb,oc*bc-Kb*fa),q(Ob*Ia+Fb*gb)]}var bc=te(kb),fa=tb(kb),Ia=te(Gb),gb=tb(Gb);Pb.invert=function(Fb,Kb){var Ob=te(Kb),oc=
te(Fb)*Ob;Fb=tb(Fb)*Ob;Kb=tb(Kb);Ob=Kb*Ia-Fb*gb;return[gf(Fb*Ia+Kb*gb,oc*bc+Ob*fa),q(Ob*bc-oc*fa)]};return Pb}function R(kb){function Gb(Pb){Pb=kb(Pb[0]*qe,Pb[1]*qe);return Pb[0]*=le,Pb[1]*=le,Pb}kb=C(kb[0]*qe,kb[1]*qe,2<kb.length?kb[2]*qe:0);Gb.invert=function(Pb){Pb=kb.invert(Pb[0]*qe,Pb[1]*qe);return Pb[0]*=le,Pb[1]*=le,Pb};return Gb}function S(kb,Gb){Gb=g(Gb);Gb[0]-=kb;G(Gb);kb=p(-Gb[1]);return((0>-Gb[2]?-kb:kb)+ge-1E-6)%ge}function ca(){var kb=[],Gb;return{point:function(Pb,bc,fa){Gb.push([Pb,
bc,fa])},lineStart:function(){kb.push(Gb=[])},lineEnd:t,rejoin:function(){1<kb.length&&kb.push(kb.pop().concat(kb.shift()))},result:function(){var Pb=kb;kb=[];Gb=null;return Pb}}}function M(kb,Gb){return 1E-6>wd(kb[0]-Gb[0])&&1E-6>wd(kb[1]-Gb[1])}function aa(kb,Gb,Pb,bc){this.x=kb;this.z=Gb;this.o=Pb;this.e=bc;this.v=!1;this.n=this.p=null}function Y(kb,Gb,Pb,bc,fa){var Ia=[],gb=[];kb.forEach(function(Oc){if(!(0>=(yc=Oc.length-1))){var yc,fd=Oc[0],Ec=Oc[yc];if(M(fd,Ec)){if(!fd[2]&&!Ec[2]){fa.lineStart();
for(Fb=0;Fb<yc;++Fb)fa.point((fd=Oc[Fb])[0],fd[1]);fa.lineEnd();return}Ec[0]+=2E-6}Ia.push(yc=new aa(fd,Oc,null,!0));gb.push(yc.o=new aa(fd,null,yc,!1));Ia.push(yc=new aa(Ec,Oc,null,!1));gb.push(yc.o=new aa(Ec,null,yc,!0))}});if(Ia.length){gb.sort(Gb);ea(Ia);ea(gb);var Fb=0;for(kb=gb.length;Fb<kb;++Fb)gb[Fb].e=Pb=!Pb;Pb=Ia[0];for(var Kb;;){for(var Ob=Pb,oc=!0;Ob.v;)if((Ob=Ob.n)===Pb)return;Gb=Ob.z;fa.lineStart();do{Ob.v=Ob.o.v=!0;if(Ob.e){if(oc)for(Fb=0,kb=Gb.length;Fb<kb;++Fb)fa.point((Kb=Gb[Fb])[0],
Kb[1]);else bc(Ob.x,Ob.n.x,1,fa);Ob=Ob.n}else{if(oc)for(Gb=Ob.p.z,Fb=Gb.length-1;0<=Fb;--Fb)fa.point((Kb=Gb[Fb])[0],Kb[1]);else bc(Ob.x,Ob.p.x,-1,fa);Ob=Ob.p}Ob=Ob.o;Gb=Ob.z;oc=!oc}while(!Ob.v);fa.lineEnd()}}}function ea(kb){if(Gb=kb.length){for(var Gb,Pb=0,bc=kb[0],fa;++Pb<Gb;)bc.n=fa=kb[Pb],fa.p=bc,bc=fa;bc.n=fa=kb[0];fa.p=bc}}function Ga(kb){return wd(kb[0])<=xd?kb[0]:Jb(kb[0])*((wd(kb[0])+xd)%ge-xd)}function X(kb,Gb,Pb,bc){return function(fa){function Ia(vd,Kd){kb(vd,Kd)&&fa.point(vd,Kd)}function gb(vd,
Kd){yc.point(vd,Kd)}function Fb(){Zd.point=gb;yc.lineStart()}function Kb(){Zd.point=Ia;yc.lineEnd()}function Ob(vd,Kd){Ae.push([vd,Kd]);Ec.point(vd,Kd)}function oc(){Ec.lineStart();Ae=[]}function Oc(){Ob(Ae[0][0],Ae[0][1]);Ec.lineEnd();var vd=Ec.clean(),Kd=fd.result(),ee=Kd.length,xe;Ae.pop();Be.push(Ae);Ae=null;if(ee)if(vd&1){if(ee=Kd[0],0<(Kd=ee.length-1)){Fd||(fa.polygonStart(),Fd=!0);fa.lineStart();for(vd=0;vd<Kd;++vd)fa.point((xe=ee[vd])[0],xe[1]);fa.lineEnd()}}else 1<ee&&vd&2&&Kd.push(Kd.pop().concat(Kd.shift())),
fe.push(Kd.filter(D))}var yc=Gb(fa),fd=ca(),Ec=Gb(fd),Fd=!1,Be,fe,Ae,Zd={point:Ia,lineStart:Fb,lineEnd:Kb,polygonStart:function(){Zd.point=Ob;Zd.lineStart=oc;Zd.lineEnd=Oc;fe=[];Be=[]},polygonEnd:function(){Zd.point=Ia;Zd.lineStart=Fb;Zd.lineEnd=Kb;fe=Array.from(k(fe));var vd=Be;var Kd=Ga(bc),ee=bc[1],xe=tb(ee),ze=[tb(Kd),-te(Kd),0],Te=0,Id=0,sf=new nd;1===xe?ee=Nd+1E-6:-1===xe&&(ee=-Nd-1E-6);xe=0;for(var Af=vd.length;xe<Af;++xe)if($g=(Ff=vd[xe]).length){var Ff,$g,ie=Ff[$g-1],mf=Ga(ie),Tf=ie[1]/2+
Xd,Gf=tb(Tf),Ag=te(Tf);for(Tf=0;Tf<$g;++Tf,mf=ug,Gf=Sg,Ag=ig,ie=ng){var ng=Ff[Tf],ug=Ga(ng);ig=ng[1]/2+Xd;var Sg=tb(ig),ig=te(ig),Cf=ug-mf,vg=0<=Cf?1:-1,og=vg*Cf,Uf=og>xd;Gf*=Sg;sf.add(gf(Gf*vg*tb(og),Ag*ig+Gf*te(og)));Te+=Uf?Cf+vg*ge:Cf;Uf^mf>=Kd^ug>=Kd&&(ie=h(g(ie),g(ng)),G(ie),mf=h(ze,ie),G(mf),mf=(Uf^0<=Cf?-1:1)*q(mf[2]),ee>mf||ee===mf&&(ie[0]||ie[1]))&&(Id+=Uf^0<=Cf?1:-1)}}vd=(-1E-6>Te||1E-6>Te&&-1E-12>sf)^Id&1;fe.length?(Fd||(fa.polygonStart(),Fd=!0),Y(fe,B,vd,Pb,fa)):vd&&(Fd||(fa.polygonStart(),
Fd=!0),fa.lineStart(),Pb(null,null,1,fa),fa.lineEnd());Fd&&(fa.polygonEnd(),Fd=!1);fe=Be=null},sphere:function(){fa.polygonStart();fa.lineStart();Pb(null,null,1,fa);fa.lineEnd();fa.polygonEnd()}};return Zd}}function D(kb){return 1<kb.length}function B(kb,Gb){return(0>(kb=kb.x)[0]?kb[1]-Nd-1E-6:Nd-kb[1])-(0>(Gb=Gb.x)[0]?Gb[1]-Nd-1E-6:Nd-Gb[1])}function N(kb){function Gb(Kb,Ob){return te(Kb)*te(Ob)>fa}function Pb(Kb,Ob,oc){var Oc=g(Kb),yc=g(Ob),fd=[1,0,0];yc=h(Oc,yc);var Ec=m(yc,yc);Oc=yc[0];var Fd=
Ec-Oc*Oc;if(!Fd)return!oc&&Kb;Ec=fa*Ec/Fd;Fd=-fa*Oc/Fd;Oc=h(fd,yc);fd=O(fd,Ec);yc=O(yc,Fd);x(fd,yc);yc=m(fd,Oc);Ec=m(Oc,Oc);Fd=yc*yc-Ec*(m(fd,fd)-1);if(!(0>Fd)){var Be=fc(Fd);Fd=O(Oc,(-yc-Be)/Ec);x(Fd,fd);Fd=e(Fd);if(!oc)return Fd;oc=Kb[0];var fe=Ob[0];Kb=Kb[1];Ob=Ob[1];if(fe<oc){var Ae=oc;oc=fe;fe=Ae}var Zd=fe-oc,vd=1E-6>wd(Zd-xd);!vd&&Ob<Kb&&(Ae=Kb,Kb=Ob,Ob=Ae);if(vd||1E-6>Zd?vd?0<Kb+Ob^Fd[1]<(1E-6>wd(Fd[0]-oc)?Kb:Ob):Kb<=Fd[1]&&Fd[1]<=Ob:Zd>xd^(oc<=Fd[0]&&Fd[0]<=fe))return Ob=O(Oc,(-yc+Be)/Ec),
x(Ob,fd),[Fd,e(Ob)]}}function bc(Kb,Ob){var oc=gb?kb:xd-kb,Oc=0;Kb<-oc?Oc|=1:Kb>oc&&(Oc|=2);Ob<-oc?Oc|=4:Ob>oc&&(Oc|=8);return Oc}var fa=te(kb),Ia=6*qe,gb=0<fa,Fb=1E-6<wd(fa);return X(Gb,function(Kb){var Ob,oc,Oc,yc,fd;return{lineStart:function(){yc=Oc=!1;fd=1},point:function(Ec,Fd){var Be=[Ec,Fd],fe=Gb(Ec,Fd);Fd=gb?fe?0:bc(Ec,Fd):fe?bc(Ec+(0>Ec?xd:-xd),Fd):0;!Ob&&(yc=Oc=fe)&&Kb.lineStart();fe!==Oc&&(Ec=Pb(Ob,Be),!Ec||M(Ob,Ec)||M(Be,Ec))&&(Be[2]=1);if(fe!==Oc)fd=0,fe?(Kb.lineStart(),Ec=Pb(Be,Ob),
Kb.point(Ec[0],Ec[1])):(Ec=Pb(Ob,Be),Kb.point(Ec[0],Ec[1],2),Kb.lineEnd()),Ob=Ec;else if(Fb&&Ob&&gb^fe){var Ae;Fd&oc||!(Ae=Pb(Be,Ob,!0))||(fd=0,gb?(Kb.lineStart(),Kb.point(Ae[0][0],Ae[0][1]),Kb.point(Ae[1][0],Ae[1][1]),Kb.lineEnd()):(Kb.point(Ae[1][0],Ae[1][1]),Kb.lineEnd(),Kb.lineStart(),Kb.point(Ae[0][0],Ae[0][1],3)))}!fe||Ob&&M(Ob,Be)||Kb.point(Be[0],Be[1]);Ob=Be;Oc=fe;oc=Fd},lineEnd:function(){Oc&&Kb.lineEnd();Ob=null},clean:function(){return fd|(yc&&Oc)<<1}}},function(Kb,Ob,oc,Oc){var yc=Kb;
if(Ia){Kb=te(kb);var fd=tb(kb),Ec=oc*Ia;if(null==yc)yc=kb+oc*ge,Ob=kb-Ec/2;else if(yc=S(Kb,yc),Ob=S(Kb,Ob),0<oc?yc<Ob:yc>Ob)yc+=oc*ge;for(var Fd=yc;0<oc?Fd>Ob:Fd<Ob;Fd-=Ec)yc=e([Kb,-fd*te(Fd),-fd*tb(Fd)]),Oc.point(yc[0],yc[1])}},gb?[0,-kb]:[-xd,kb-xd])}function Z(kb,Gb,Pb,bc,fa,Ia){var gb=kb[0],Fb=kb[1],Kb=0,Ob=1,oc=Gb[0]-gb,Oc=Gb[1]-Fb;Pb-=gb;if(oc||!(0<Pb)){Pb/=oc;if(0>oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}else if(0<oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}Pb=fa-gb;if(oc||!(0>Pb)){Pb/=oc;if(0>oc){if(Pb>
Ob)return;Pb>Kb&&(Kb=Pb)}else if(0<oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}Pb=bc-Fb;if(Oc||!(0<Pb)){Pb/=Oc;if(0>Oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}else if(0<Oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}Pb=Ia-Fb;if(Oc||!(0>Pb)){Pb/=Oc;if(0>Oc){if(Pb>Ob)return;Pb>Kb&&(Kb=Pb)}else if(0<Oc){if(Pb<Kb)return;Pb<Ob&&(Ob=Pb)}0<Kb&&(kb[0]=gb+Kb*oc,kb[1]=Fb+Kb*Oc);1>Ob&&(Gb[0]=gb+Ob*oc,Gb[1]=Fb+Ob*Oc);return!0}}}}}function Aa(kb,Gb,Pb,bc){function fa(Kb,Ob,oc,Oc){var yc=0,fd=0;if(null==Kb||(yc=Ia(Kb,oc))!==(fd=Ia(Ob,oc))||
0>Fb(Kb,Ob)^0<oc){do Oc.point(0===yc||3===yc?kb:Pb,1<yc?bc:Gb);while((yc=(yc+oc+4)%4)!==fd)}else Oc.point(Ob[0],Ob[1])}function Ia(Kb,Ob){return 1E-6>wd(Kb[0]-kb)?0<Ob?0:3:1E-6>wd(Kb[0]-Pb)?0<Ob?2:1:1E-6>wd(Kb[1]-Gb)?0<Ob?1:0:0<Ob?3:2}function gb(Kb,Ob){return Fb(Kb.x,Ob.x)}function Fb(Kb,Ob){var oc=Ia(Kb,1),Oc=Ia(Ob,1);return oc!==Oc?oc-Oc:0===oc?Ob[1]-Kb[1]:1===oc?Kb[0]-Ob[0]:2===oc?Kb[1]-Ob[1]:Ob[0]-Kb[0]}return function(Kb){function Ob(Te,Id){kb<=Te&&Te<=Pb&&Gb<=Id&&Id<=bc&&Oc.point(Te,Id)}function oc(Te,
Id){var sf=kb<=Te&&Te<=Pb&&Gb<=Id&&Id<=bc;Ec&&Fd.push([Te,Id]);if(ee)Be=Te,fe=Id,Ae=sf,ee=!1,sf&&(Oc.lineStart(),Oc.point(Te,Id));else if(sf&&Kd)Oc.point(Te,Id);else{var Af=[Zd=Math.max(-1E9,Math.min(1E9,Zd)),vd=Math.max(-1E9,Math.min(1E9,vd))],Ff=[Te=Math.max(-1E9,Math.min(1E9,Te)),Id=Math.max(-1E9,Math.min(1E9,Id))];Z(Af,Ff,kb,Gb,Pb,bc)?(Kd||(Oc.lineStart(),Oc.point(Af[0],Af[1])),Oc.point(Ff[0],Ff[1]),sf||Oc.lineEnd(),xe=!1):sf&&(Oc.lineStart(),Oc.point(Te,Id),xe=!1)}Zd=Te;vd=Id;Kd=sf}var Oc=Kb,
yc=ca(),fd,Ec,Fd,Be,fe,Ae,Zd,vd,Kd,ee,xe,ze={point:Ob,lineStart:function(){ze.point=oc;Ec&&Ec.push(Fd=[]);ee=!0;Kd=!1;Zd=vd=NaN},lineEnd:function(){fd&&(oc(Be,fe),Ae&&Kd&&yc.rejoin(),fd.push(yc.result()));ze.point=Ob;Kd&&Oc.lineEnd()},polygonStart:function(){Oc=yc;fd=[];Ec=[];xe=!0},polygonEnd:function(){for(var Te,Id=Te=0,sf=Ec.length;Id<sf;++Id){var Af=Ec[Id],Ff=1,$g=Af.length,ie=Af[0],mf=ie[0];for(ie=ie[1];Ff<$g;++Ff){var Tf=mf;var Gf=ie;ie=Af[Ff];mf=ie[0];ie=ie[1];Gf<=bc?ie>bc&&(mf-Tf)*(bc-Gf)>
(ie-Gf)*(kb-Tf)&&++Te:ie<=bc&&(mf-Tf)*(bc-Gf)<(ie-Gf)*(kb-Tf)&&--Te}}Id=xe&&Te;sf=(fd=Array.from(k(fd))).length;if(Id||sf)Kb.polygonStart(),Id&&(Kb.lineStart(),fa(null,null,1,Kb),Kb.lineEnd()),sf&&Y(fd,gb,Te,fa,Kb),Kb.polygonEnd();Oc=Kb;fd=Ec=Fd=null}};return ze}}function qa(){re.point=la}function la(kb,Gb){re.point=Ja;Vd=he=kb;ce=Ce=Gb}function Ja(kb,Gb){Hd.add(Ce*kb-he*Gb);he=kb;Ce=Gb}function bb(){Ja(Vd,ce)}function ib(kb,Gb){bd+=kb;Ad+=Gb;++wa}function Ma(){Rd.point=ma}function ma(kb,Gb){Rd.point=
Fa;ib(ic=kb,Uc=Gb)}function Fa(kb,Gb){var Pb=kb-ic,bc=Gb-Uc;Pb=fc(Pb*Pb+bc*bc);Xa+=Pb*(ic+kb)/2;zb+=Pb*(Uc+Gb)/2;Xb+=Pb;ib(ic=kb,Uc=Gb)}function Ra(){Rd.point=ib}function ra(){Rd.point=oa}function ya(){xa(rb,Bb)}function oa(kb,Gb){Rd.point=xa;ib(rb=ic=kb,Bb=Uc=Gb)}function xa(kb,Gb){var Pb=kb-ic,bc=Gb-Uc;Pb=fc(Pb*Pb+bc*bc);Xa+=Pb*(ic+kb)/2;zb+=Pb*(Uc+Gb)/2;Xb+=Pb;Pb=Uc*kb-ic*Gb;tc+=Pb*(ic+kb);gd+=Pb*(Uc+Gb);qc+=3*Pb;ib(ic=kb,Uc=Gb)}function Ua(kb){this._context=kb}function fb(kb,Gb){Ea.point=sa;Le=
ha=kb;Se=ob=Gb}function sa(kb,Gb){ha-=kb;ob-=Gb;Gd.add(fc(ha*ha+ob*ob));ha=kb;ob=Gb}function Oa(){this._string=[]}function ja(kb){return"m0,"+kb+"a"+kb+","+kb+" 0 1,1 0,"+-2*kb+"a"+kb+","+kb+" 0 1,1 0,"+2*kb+"z"}function U(kb,Gb){function Pb(gb){gb&&("function"===typeof bc&&Ia.pointRadius(+bc.apply(this,arguments)),c(gb,fa(Ia)));return Ia.result()}var bc=4.5,fa,Ia;Pb.area=function(gb){c(gb,fa(vf));return vf.result()};Pb.measure=function(gb){c(gb,fa(Ib));return Ib.result()};Pb.bounds=function(gb){c(gb,
fa(rc));return rc.result()};Pb.centroid=function(gb){c(gb,fa(Md));return Md.result()};Pb.projection=function(gb){return arguments.length?(fa=null==gb?(kb=null,ld):(kb=gb).stream,Pb):kb};Pb.context=function(gb){if(!arguments.length)return Gb;Ia=null==gb?(Gb=null,new Oa):new Ua(Gb=gb);"function"!==typeof bc&&Ia.pointRadius(bc);return Pb};Pb.pointRadius=function(gb){if(!arguments.length)return bc;bc="function"===typeof gb?gb:(Ia.pointRadius(+gb),+gb);return Pb};return Pb.projection(kb).context(Gb)}function ka(kb){return function(Gb){var Pb=
new ua,bc;for(bc in kb)Pb[bc]=kb[bc];Pb.stream=Gb;return Pb}}function ua(){}function Ta(kb,Gb,Pb){var bc=kb.clipExtent&&kb.clipExtent();kb.scale(150).translate([0,0]);null!=bc&&kb.clipExtent(null);c(Pb,kb.stream(rc));Gb(rc.result());null!=bc&&kb.clipExtent(bc);return kb}function eb(kb,Gb,Pb){return Ta(kb,function(bc){var fa=Gb[1][0]-Gb[0][0],Ia=Gb[1][1]-Gb[0][1],gb=Math.min(fa/(bc[1][0]-bc[0][0]),Ia/(bc[1][1]-bc[0][1]));fa=+Gb[0][0]+(fa-gb*(bc[1][0]+bc[0][0]))/2;bc=+Gb[0][1]+(Ia-gb*(bc[1][1]+bc[0][1]))/
2;kb.scale(150*gb).translate([fa,bc])},Pb)}function lb(kb,Gb,Pb){return Ta(kb,function(bc){var fa=+Gb,Ia=fa/(bc[1][0]-bc[0][0]);fa=(fa-Ia*(bc[1][0]+bc[0][0]))/2;bc=-Ia*bc[0][1];kb.scale(150*Ia).translate([fa,bc])},Pb)}function nb(kb,Gb,Pb){return Ta(kb,function(bc){var fa=+Gb,Ia=fa/(bc[1][1]-bc[0][1]),gb=-Ia*bc[0][0];bc=(fa-Ia*(bc[1][1]+bc[0][1]))/2;kb.scale(150*Ia).translate([gb,bc])},Pb)}function Mb(kb){return ka({point:function(Gb,Pb){Gb=kb(Gb,Pb);this.stream.point(Gb[0],Gb[1])}})}function $b(kb,
Gb){function Pb(bc,fa,Ia,gb,Fb,Kb,Ob,oc,Oc,yc,fd,Ec,Fd,Be){var fe=Ob-bc,Ae=oc-fa,Zd=fe*fe+Ae*Ae;if(Zd>4*Gb&&Fd--){var vd=gb+yc,Kd=Fb+fd,ee=Kb+Ec,xe=fc(vd*vd+Kd*Kd+ee*ee),ze=q(ee/=xe),Te=1E-6>wd(wd(ee)-1)||1E-6>wd(Ia-Oc)?(Ia+Oc)/2:gf(Kd,vd),Id=kb(Te,ze);ze=Id[0];Id=Id[1];var sf=ze-bc,Af=Id-fa,Ff=Ae*sf-fe*Af;if(Ff*Ff/Zd>Gb||.3<wd((fe*sf+Ae*Af)/Zd-.5)||gb*yc+Fb*fd+Kb*Ec<Yb)Pb(bc,fa,Ia,gb,Fb,Kb,ze,Id,Te,vd/=xe,Kd/=xe,ee,Fd,Be),Be.point(ze,Id),Pb(ze,Id,Te,vd,Kd,ee,Ob,oc,Oc,yc,fd,Ec,Fd,Be)}}return function(bc){function fa(ze,
Te){ze=kb(ze,Te);bc.point(ze[0],ze[1])}function Ia(){Ae=NaN;xe.point=gb;bc.lineStart()}function gb(ze,Te){var Id=g([ze,Te]);Te=kb(ze,Te);Pb(Ae,Zd,fe,vd,Kd,ee,Ae=Te[0],Zd=Te[1],fe=ze,vd=Id[0],Kd=Id[1],ee=Id[2],16,bc);bc.point(Ae,Zd)}function Fb(){xe.point=fa;bc.lineEnd()}function Kb(){Ia();xe.point=Ob;xe.lineEnd=oc}function Ob(ze,Te){gb(Oc=ze,Te);yc=Ae;fd=Zd;Ec=vd;Fd=Kd;Be=ee;xe.point=gb}function oc(){Pb(Ae,Zd,fe,vd,Kd,ee,yc,fd,Oc,Ec,Fd,Be,16,bc);xe.lineEnd=Fb;Fb()}var Oc,yc,fd,Ec,Fd,Be,fe,Ae,Zd,vd,
Kd,ee,xe={point:fa,lineStart:Ia,lineEnd:Fb,polygonStart:function(){bc.polygonStart();xe.lineStart=Kb},polygonEnd:function(){bc.polygonEnd();xe.lineStart=Ia}};return xe}}function Gc(kb){return ka({point:function(Gb,Pb){Gb=kb(Gb,Pb);return this.stream.point(Gb[0],Gb[1])}})}function zc(kb,Gb,Pb,bc,fa){function Ia(gb,Fb){gb*=bc;Fb*=fa;return[Gb+kb*gb,Pb-kb*Fb]}Ia.invert=function(gb,Fb){return[(gb-Gb)/kb*bc,(Pb-Fb)/kb*fa]};return Ia}function Bc(kb,Gb,Pb,bc,fa,Ia){function gb(Ec,Fd){Ec*=bc;Fd*=fa;return[Kb*
Ec-Ob*Fd+Gb,Pb-Ob*Ec-Kb*Fd]}if(!Ia)return zc(kb,Gb,Pb,bc,fa);var Fb=te(Ia);Ia=tb(Ia);var Kb=Fb*kb,Ob=Ia*kb,oc=Fb/kb,Oc=Ia/kb,yc=(Ia*Pb-Fb*Gb)/kb,fd=(Ia*Gb+Fb*Pb)/kb;gb.invert=function(Ec,Fd){return[bc*(oc*Ec-Oc*Fd+yc),fa*(fd-Oc*Ec-oc*Fd)]};return gb}function uc(kb){return id(function(){return kb})()}function id(kb){function Gb(ie){return Af(ie[0]*qe,ie[1]*qe)}function Pb(ie){return(ie=Af.invert(ie[0],ie[1]))&&[ie[0]*le,ie[1]*le]}function bc(){var ie=Bc(gb,0,0,Be,fe,Fd).apply(null,Ia(Ob,oc));ie=Bc(gb,
Fb-ie[0],Kb-ie[1],Be,fe,Fd);Ec=C(Oc,yc,fd);sf=I(Ia,ie);Af=I(Ec,sf);ie=sf;Id=+Te?$b(ie,Te):Mb(ie);return fa()}function fa(){Ff=$g=null;return Gb}var Ia,gb=150,Fb=480,Kb=250,Ob=0,oc=0,Oc=0,yc=0,fd=0,Ec,Fd=0,Be=1,fe=1,Ae=null,Zd=lc,vd=null,Kd,ee,xe,ze=ld,Te=.5,Id,sf,Af,Ff,$g;Gb.stream=function(ie){return Ff&&$g===ie?Ff:Ff=kc(Gc(Ec)(Zd(Id(ze($g=ie)))))};Gb.preclip=function(ie){return arguments.length?(Zd=ie,Ae=void 0,fa()):Zd};Gb.postclip=function(ie){return arguments.length?(ze=ie,vd=Kd=ee=xe=null,fa()):
ze};Gb.clipAngle=function(ie){return arguments.length?(Zd=+ie?N(Ae=ie*qe):(Ae=null,lc),fa()):Ae*le};Gb.clipExtent=function(ie){return arguments.length?(ze=null==ie?(vd=Kd=ee=xe=null,ld):Aa(vd=+ie[0][0],Kd=+ie[0][1],ee=+ie[1][0],xe=+ie[1][1]),fa()):null==vd?null:[[vd,Kd],[ee,xe]]};Gb.scale=function(ie){return arguments.length?(gb=+ie,bc()):gb};Gb.translate=function(ie){return arguments.length?(Fb=+ie[0],Kb=+ie[1],bc()):[Fb,Kb]};Gb.center=function(ie){return arguments.length?(Ob=ie[0]%360*qe,oc=ie[1]%
360*qe,bc()):[Ob*le,oc*le]};Gb.rotate=function(ie){return arguments.length?(Oc=ie[0]%360*qe,yc=ie[1]%360*qe,fd=2<ie.length?ie[2]%360*qe:0,bc()):[Oc*le,yc*le,fd*le]};Gb.angle=function(ie){return arguments.length?(Fd=ie%360*qe,bc()):Fd*le};Gb.reflectX=function(ie){return arguments.length?(Be=ie?-1:1,bc()):0>Be};Gb.reflectY=function(ie){return arguments.length?(fe=ie?-1:1,bc()):0>fe};Gb.precision=function(ie){if(arguments.length){var mf=sf;var Tf=Te=ie*ie;mf=(Id=+Tf?$b(mf,Tf):Mb(mf),fa())}else mf=fc(Te);
return mf};Gb.fitExtent=function(ie,mf){return eb(Gb,ie,mf)};Gb.fitSize=function(ie,mf){return eb(Gb,[[0,0],ie],mf)};Gb.fitWidth=function(ie,mf){return lb(Gb,ie,mf)};Gb.fitHeight=function(ie,mf){return nb(Gb,ie,mf)};return function(){Ia=kb.apply(this,arguments);Gb.invert=Ia.invert&&Pb;return bc()}}function Hb(kb){var Gb=0,Pb=xd/3,bc=id(kb);kb=bc(Gb,Pb);kb.parallels=function(fa){return arguments.length?bc(Gb=fa[0]*qe,Pb=fa[1]*qe):[Gb*le,Pb*le]};return kb}function Ab(kb){function Gb(bc,fa){return[bc*
Pb,tb(fa)/Pb]}var Pb=te(kb);Gb.invert=function(bc,fa){return[bc/Pb,q(fa*Pb)]};return Gb}function dc(kb,Gb){function Pb(Fb,Kb){Kb=fc(Ia-2*fa*tb(Kb))/fa;return[Kb*tb(Fb*=fa),gb-Kb*te(Fb)]}var bc=tb(kb),fa=(bc+tb(Gb))/2;if(1E-6>wd(fa))return Ab(kb);var Ia=1+bc*(2*fa-bc),gb=fc(Ia)/fa;Pb.invert=function(Fb,Kb){Kb=gb-Kb;var Ob=gf(Fb,wd(Kb))*Jb(Kb);0>Kb*fa&&(Ob-=xd*Jb(Fb)*Jb(Kb));return[Ob/fa,q((Ia-(Fb*Fb+Kb*Kb)*fa*fa)/(2*fa))]};return Pb}function Wb(){return Hb(dc).scale(155.424).center([0,33.6442])}function mc(){return Wb().parallels([29.5,
45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Kc(kb){var Gb=kb.length;return{point:function(Pb,bc){for(var fa=-1;++fa<Gb;)kb[fa].point(Pb,bc)},sphere:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].sphere()},lineStart:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].lineStart()},lineEnd:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].lineEnd()},polygonStart:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].polygonStart()},polygonEnd:function(){for(var Pb=-1;++Pb<Gb;)kb[Pb].polygonEnd()}}}function Fc(kb){return function(Gb,
Pb){var bc=te(Gb),fa=te(Pb);bc=kb(bc*fa);return Infinity===bc?[2,0]:[bc*fa*tb(Gb),bc*tb(Pb)]}}function Sc(kb){return function(Gb,Pb){var bc=fc(Gb*Gb+Pb*Pb),fa=kb(bc),Ia=tb(fa);fa=te(fa);return[gf(Gb*Ia,bc*fa),q(bc&&Pb*Ia/bc)]}}function jd(kb,Gb){return[kb,za(nc((Nd+Gb)/2))]}function $d(kb){function Gb(){var Oc=xd*fa(),yc=Pb(R(Pb.rotate()).invert([0,0]));return gb(null==Fb?[[yc[0]-Oc,yc[1]-Oc],[yc[0]+Oc,yc[1]+Oc]]:kb===jd?[[Math.max(yc[0]-Oc,Fb),Kb],[Math.min(yc[0]+Oc,Ob),oc]]:[[Fb,Math.max(yc[1]-
Oc,Kb)],[Ob,Math.min(yc[1]+Oc,oc)]])}var Pb=uc(kb),bc=Pb.center,fa=Pb.scale,Ia=Pb.translate,gb=Pb.clipExtent,Fb=null,Kb,Ob,oc;Pb.scale=function(Oc){return arguments.length?(fa(Oc),Gb()):fa()};Pb.translate=function(Oc){return arguments.length?(Ia(Oc),Gb()):Ia()};Pb.center=function(Oc){return arguments.length?(bc(Oc),Gb()):bc()};Pb.clipExtent=function(Oc){return arguments.length?(null==Oc?Fb=Kb=Ob=oc=null:(Fb=+Oc[0][0],Kb=+Oc[0][1],Ob=+Oc[1][0],oc=+Oc[1][1]),Gb()):null==Fb?null:[[Fb,Kb],[Ob,oc]]};return Gb()}
function Ba(kb,Gb){function Pb(gb,Fb){0<Ia?Fb<-Nd+1E-6&&(Fb=-Nd+1E-6):Fb>Nd-1E-6&&(Fb=Nd-1E-6);Fb=Ia/Za(nc((Nd+Fb)/2),fa);return[Fb*tb(fa*gb),Ia-Fb*te(fa*gb)]}var bc=te(kb),fa=kb===Gb?tb(kb):za(bc/te(Gb))/za(nc((Nd+Gb)/2)/nc((Nd+kb)/2)),Ia=bc*Za(nc((Nd+kb)/2),fa)/fa;if(!fa)return jd;Pb.invert=function(gb,Fb){Fb=Ia-Fb;var Kb=Jb(fa)*fc(gb*gb+Fb*Fb),Ob=gf(gb,wd(Fb))*Jb(Fb);0>Fb*fa&&(Ob-=xd*Jb(gb)*Jb(Fb));return[Ob/fa,2*qf(Za(Ia/Kb,1/fa))-Nd]};return Pb}function va(kb,Gb){return[kb,Gb]}function Ca(kb,
Gb){function Pb(gb,Fb){Fb=Ia-Fb;gb*=fa;return[Fb*tb(gb),Ia-Fb*te(gb)]}var bc=te(kb),fa=kb===Gb?tb(kb):(bc-te(Gb))/(Gb-kb),Ia=bc/fa+kb;if(1E-6>wd(fa))return va;Pb.invert=function(gb,Fb){Fb=Ia-Fb;var Kb=gf(gb,wd(Fb))*Jb(Fb);0>Fb*fa&&(Kb-=xd*Jb(gb)*Jb(Fb));return[Kb/fa,Ia-Jb(fa)*fc(gb*gb+Fb*Fb)]};return Pb}function $a(kb,Gb){Gb=q(pd*tb(Gb));var Pb=Gb*Gb,bc=Pb*Pb*Pb;return[kb*te(Gb)/(pd*(1.340264+3*-.081106*Pb+bc*(7*8.93E-4+.034164*Pb))),Gb*(1.340264+-.081106*Pb+bc*(8.93E-4+.003796*Pb))]}function jb(kb,
Gb){var Pb=te(Gb),bc=te(kb)*Pb;return[Pb*tb(kb)/bc,tb(Gb)/bc]}function yb(kb,Gb){var Pb=Gb*Gb,bc=Pb*Pb;return[kb*(.8707-.131979*Pb+bc*(-.013791+bc*(.003971*Pb-.001529*bc))),Gb*(1.007226+Pb*(.015085+bc*(-.044475+.028874*Pb-.005916*bc)))]}function Ub(kb,Gb){return[te(Gb)*tb(kb),tb(Gb)]}function Tb(kb,Gb){var Pb=te(Gb),bc=1+te(kb)*Pb;return[Pb*tb(kb)/bc,tb(Gb)/bc]}function Vb(kb,Gb){return[za(nc((Nd+Gb)/2)),-kb]}function Ic(kb){return 1<kb?ed:-1>kb?-ed:Math.asin(kb)}function $c(kb,Gb){return function bc(){const fa=
Gb();fa.type=kb;fa.path=U().projection(fa);fa.copy=fa.copy||function(){const Ia=bc();Lc.forEach(gb=>{if(fa[gb])Ia[gb](fa[gb]())});Ia.path.pointRadius(fa.path.pointRadius());return Ia};return fa}}function dd(kb,Gb){if(!kb||"string"!==typeof kb)throw Error("Projection type must be a name string.");kb=kb.toLowerCase();return 1<arguments.length?(ud[kb]=$c(kb,Gb),this):ud[kb]||null}class nd{constructor(){this._partials=new Float64Array(32);this._n=0}add(kb){const Gb=this._partials;let Pb=0;for(let bc=
0;bc<this._n&&32>bc;bc++){const fa=Gb[bc],Ia=kb+fa;(kb=Math.abs(kb)<Math.abs(fa)?kb-(Ia-fa):fa-(Ia-kb))&&(Gb[Pb++]=kb);kb=Ia}Gb[Pb]=kb;this._n=Pb+1;return this}valueOf(){const kb=this._partials;let Gb=this._n;let Pb,bc=0;if(0<Gb){for(bc=kb[--Gb];0<Gb;){var fa=bc;Pb=kb[--Gb];bc=fa+Pb;if(fa=Pb-(bc-fa))break}0<Gb&&(0>fa&&0>kb[Gb-1]||0<fa&&0<kb[Gb-1])&&(Pb=2*fa,fa=bc+Pb,Pb==fa-bc&&(bc=fa))}return bc}}var xd=Math.PI,Nd=xd/2,Xd=xd/4,ge=2*xd,le=180/xd,qe=xd/180,wd=Math.abs,qf=Math.atan,gf=Math.atan2,te=
Math.cos,We=Math.exp,za=Math.log,Za=Math.pow,tb=Math.sin,Jb=Math.sign||function(kb){return 0<kb?1:0>kb?-1:0},fc=Math.sqrt,nc=Math.tan,Hc={Feature:function(kb,Gb){n(kb.geometry,Gb)},FeatureCollection:function(kb,Gb){kb=kb.features;for(var Pb=-1,bc=kb.length;++Pb<bc;)n(kb[Pb].geometry,Gb)}},Dc={Sphere:function(kb,Gb){Gb.sphere()},Point:function(kb,Gb){kb=kb.coordinates;Gb.point(kb[0],kb[1],kb[2])},MultiPoint:function(kb,Gb){for(var Pb=kb.coordinates,bc=-1,fa=Pb.length;++bc<fa;)kb=Pb[bc],Gb.point(kb[0],
kb[1],kb[2])},LineString:function(kb,Gb){f(kb.coordinates,Gb,0)},MultiLineString:function(kb,Gb){kb=kb.coordinates;for(var Pb=-1,bc=kb.length;++Pb<bc;)f(kb[Pb],Gb,0)},Polygon:function(kb,Gb){b(kb.coordinates,Gb)},MultiPolygon:function(kb,Gb){kb=kb.coordinates;for(var Pb=-1,bc=kb.length;++Pb<bc;)b(kb[Pb],Gb)},GeometryCollection:function(kb,Gb){kb=kb.geometries;for(var Pb=-1,bc=kb.length;++Pb<bc;)n(kb[Pb],Gb)}};F.invert=F;var lc=X(function(){return!0},function(kb){var Gb=NaN,Pb=NaN,bc=NaN,fa;return{lineStart:function(){kb.lineStart();
fa=1},point:function(Ia,gb){var Fb=0<Ia?xd:-xd,Kb=wd(Ia-Gb);if(1E-6>wd(Kb-xd))kb.point(Gb,Pb=0<(Pb+gb)/2?Nd:-Nd),kb.point(bc,Pb),kb.lineEnd(),kb.lineStart(),kb.point(Fb,Pb),kb.point(Ia,Pb),fa=0;else if(bc!==Fb&&Kb>=xd){1E-6>wd(Gb-bc)&&(Gb-=1E-6*bc);1E-6>wd(Ia-Fb)&&(Ia-=1E-6*Fb);Kb=Gb;var Ob=Pb,oc=Ia,Oc,yc,fd=tb(Kb-oc);Pb=1E-6<wd(fd)?qf((tb(Ob)*(yc=te(gb))*tb(oc)-tb(gb)*(Oc=te(Ob))*tb(Kb))/(Oc*yc*fd)):(Ob+gb)/2;kb.point(bc,Pb);kb.lineEnd();kb.lineStart();kb.point(Fb,Pb);fa=0}kb.point(Gb=Ia,Pb=gb);
bc=Fb},lineEnd:function(){kb.lineEnd();Gb=Pb=NaN},clean:function(){return 2-fa}}},function(kb,Gb,Pb,bc){null==kb?(Pb*=Nd,bc.point(-xd,Pb),bc.point(0,Pb),bc.point(xd,Pb),bc.point(xd,0),bc.point(xd,-Pb),bc.point(0,-Pb),bc.point(-xd,-Pb),bc.point(-xd,0),bc.point(-xd,Pb)):1E-6<wd(kb[0]-Gb[0])?(kb=kb[0]<Gb[0]?xd:-xd,Pb=Pb*kb/2,bc.point(-kb,Pb),bc.point(0,Pb),bc.point(kb,Pb)):bc.point(Gb[0],Gb[1])},[-xd,-Nd]),ld=kb=>kb,rd=new nd,Hd=new nd,Vd,ce,he,Ce,re={point:t,lineStart:t,lineEnd:t,polygonStart:function(){re.lineStart=
qa;re.lineEnd=bb},polygonEnd:function(){re.lineStart=re.lineEnd=re.point=t;rd.add(wd(Hd));Hd=new nd},result:function(){var kb=rd/2;rd=new nd;return kb}},vf=re,Ge=Infinity,Re=Ge,af=-Ge,Qb=af,rc={point:function(kb,Gb){kb<Ge&&(Ge=kb);kb>af&&(af=kb);Gb<Re&&(Re=Gb);Gb>Qb&&(Qb=Gb)},lineStart:t,lineEnd:t,polygonStart:t,polygonEnd:t,result:function(){var kb=[[Ge,Re],[af,Qb]];af=Qb=-(Re=Ge=Infinity);return kb}},bd=0,Ad=0,wa=0,Xa=0,zb=0,Xb=0,tc=0,gd=0,qc=0,rb,Bb,ic,Uc,Rd={point:ib,lineStart:Ma,lineEnd:Ra,polygonStart:function(){Rd.lineStart=
ra;Rd.lineEnd=ya},polygonEnd:function(){Rd.point=ib;Rd.lineStart=Ma;Rd.lineEnd=Ra},result:function(){var kb=qc?[tc/qc,gd/qc]:Xb?[Xa/Xb,zb/Xb]:wa?[bd/wa,Ad/wa]:[NaN,NaN];bd=Ad=wa=Xa=zb=Xb=tc=gd=qc=0;return kb}},Md=Rd;Ua.prototype={_radius:4.5,pointRadius:function(kb){return this._radius=kb,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath();this._point=NaN},point:function(kb,
Gb){switch(this._point){case 0:this._context.moveTo(kb,Gb);this._point=1;break;case 1:this._context.lineTo(kb,Gb);break;default:this._context.moveTo(kb+this._radius,Gb),this._context.arc(kb,Gb,this._radius,0,ge)}},result:t};var Gd=new nd,Pd,Le,Se,ha,ob,Ea={point:t,lineStart:function(){Ea.point=fb},lineEnd:function(){Pd&&sa(Le,Se);Ea.point=t},polygonStart:function(){Pd=!0},polygonEnd:function(){Pd=null},result:function(){var kb=+Gd;Gd=new nd;return kb}},Ib=Ea;Oa.prototype={_radius:4.5,_circle:ja(4.5),
pointRadius:function(kb){(kb=+kb)!==this._radius&&(this._radius=kb,this._circle=null);return this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z");this._point=NaN},point:function(kb,Gb){switch(this._point){case 0:this._string.push("M",kb,",",Gb);this._point=1;break;case 1:this._string.push("L",kb,",",Gb);break;default:null==this._circle&&(this._circle=ja(this._radius)),this._string.push("M",
kb,",",Gb,this._circle)}},result:function(){if(this._string.length){var kb=this._string.join("");this._string=[];return kb}return null}};ua.prototype={constructor:ua,point:function(kb,Gb){this.stream.point(kb,Gb)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yb=te(30*qe),kc=ka({point:function(kb,Gb){this.stream.point(kb*
qe,Gb*qe)}}),Nc=Fc(function(kb){return fc(2/(1+kb))});Nc.invert=Sc(function(kb){return 2*q(kb/2)});var Jc=Fc(function(kb){return(kb=p(kb))&&kb/tb(kb)});Jc.invert=Sc(function(kb){return kb});jd.invert=function(kb,Gb){return[kb,2*qf(We(Gb))-Nd]};va.invert=va;var pd=fc(3)/2;$a.invert=function(kb,Gb){for(var Pb=Gb,bc=Pb*Pb,fa=bc*bc*bc,Ia=0,gb;12>Ia&&!(gb=Pb*(1.340264+-.081106*bc+fa*(8.93E-4+.003796*bc))-Gb,bc=1.340264+3*-.081106*bc+fa*(7*8.93E-4+.034164*bc),Pb-=gb/=bc,bc=Pb*Pb,fa=bc*bc*bc,1E-12>wd(gb));++Ia);
return[pd*kb*(1.340264+3*-.081106*bc+fa*(7*8.93E-4+.034164*bc))/te(Pb),q(tb(Pb)/pd)]};jb.invert=Sc(qf);yb.invert=function(kb,Gb){var Pb=Gb,bc=25;do{var fa=Pb*Pb;var Ia=fa*fa;Pb-=Ia=(Pb*(1.007226+fa*(.015085+Ia*(-.044475+.028874*fa-.005916*Ia)))-Gb)/(1.007226+fa*(.045255+Ia*(-.311325+.259866*fa-.005916*11*Ia)))}while(1E-6<wd(Ia)&&0<--bc);return[kb/(.8707+(fa=Pb*Pb)*(-.131979+fa*(-.013791+fa*fa*fa*(.003971-.001529*fa)))),Pb]};Ub.invert=Sc(q);Tb.invert=Sc(function(kb){return 2*qf(kb)});Vb.invert=function(kb,
Gb){return[-Gb,2*qf(We(kb))-Nd]};var qd=Math.abs,Yd=Math.cos,Od=Math.sin,Jd=Math.PI,ed=Jd/2,sd=Math.sqrt(2),wc=function(kb,Gb,Pb){function bc(fa,Ia){var gb=Ia,Fb=Pb*Od(gb),Kb=30,Ob;do gb-=Ob=(gb+Od(gb)-Fb)/(1+Yd(gb));while(1E-6<qd(Ob)&&0<--Kb);return[kb*fa*Yd(Ia=gb/2),Gb*Od(Ia)]}bc.invert=function(fa,Ia){return Ia=Ic(Ia/Gb),[fa/(kb*Yd(Ia)),Ic((2*Ia+Od(2*Ia))/Pb)]};return bc}(sd/ed,sd,Jd);const Rc=U(),Lc="clipAngle clipExtent scale translate center rotate parallels precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" "),
ud={albers:mc,albersusa:function(){function kb(yc){var fd=yc[0];yc=yc[1];return oc=null,(Ia.point(fd,yc),oc)||(Fb.point(fd,yc),oc)||(Ob.point(fd,yc),oc)}function Gb(){Pb=bc=null;return kb}var Pb,bc,fa=mc(),Ia,gb=Wb().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Fb,Kb=Wb().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Ob,oc,Oc={point:function(yc,fd){oc=[yc,fd]}};kb.invert=function(yc){var fd=fa.scale(),Ec=fa.translate(),Fd=(yc[0]-Ec[0])/fd;fd=(yc[1]-Ec[1])/fd;return(.12<=fd&&.234>fd&&
-.425<=Fd&&-.214>Fd?gb:.166<=fd&&.234>fd&&-.214<=Fd&&-.115>Fd?Kb:fa).invert(yc)};kb.stream=function(yc){return Pb&&bc===yc?Pb:Pb=Kc([fa.stream(bc=yc),gb.stream(yc),Kb.stream(yc)])};kb.precision=function(yc){if(!arguments.length)return fa.precision();fa.precision(yc);gb.precision(yc);Kb.precision(yc);return Gb()};kb.scale=function(yc){if(!arguments.length)return fa.scale();fa.scale(yc);gb.scale(.35*yc);Kb.scale(yc);return kb.translate(fa.translate())};kb.translate=function(yc){if(!arguments.length)return fa.translate();
var fd=fa.scale(),Ec=+yc[0],Fd=+yc[1];Ia=fa.translate(yc).clipExtent([[Ec-.455*fd,Fd-.238*fd],[Ec+.455*fd,Fd+.238*fd]]).stream(Oc);Fb=gb.translate([Ec-.307*fd,Fd+.201*fd]).clipExtent([[Ec-.425*fd+1E-6,Fd+.12*fd+1E-6],[Ec-.214*fd-1E-6,Fd+.234*fd-1E-6]]).stream(Oc);Ob=Kb.translate([Ec-.205*fd,Fd+.212*fd]).clipExtent([[Ec-.214*fd+1E-6,Fd+.166*fd+1E-6],[Ec-.115*fd-1E-6,Fd+.234*fd-1E-6]]).stream(Oc);return Gb()};kb.fitExtent=function(yc,fd){return eb(kb,yc,fd)};kb.fitSize=function(yc,fd){return eb(kb,
[[0,0],yc],fd)};kb.fitWidth=function(yc,fd){return lb(kb,yc,fd)};kb.fitHeight=function(yc,fd){return nb(kb,yc,fd)};return kb.scale(1070)},azimuthalequalarea:function(){return uc(Nc).scale(124.75).clipAngle(179.999)},azimuthalequidistant:function(){return uc(Jc).scale(79.4188).clipAngle(179.999)},conicconformal:function(){return Hb(Ba).scale(109.5).parallels([30,30])},conicequalarea:Wb,conicequidistant:function(){return Hb(Ca).scale(131.154).center([0,13.9389])},equalEarth:function(){return uc($a).scale(177.158)},
equirectangular:function(){return uc(va).scale(152.63)},gnomonic:function(){return uc(jb).scale(144.049).clipAngle(60)},identity:function(){function kb(){Ec=Pb*Ia;Fd=Pb*gb;Ae=Zd=null;return Gb}function Gb(vd){var Kd=vd[0]*Ec;vd=vd[1]*Fd;if(Fb){var ee=vd*Kb-Kd*Ob;Kd=Kd*Kb+vd*Ob;vd=ee}return[Kd+bc,vd+fa]}var Pb=1,bc=0,fa=0,Ia=1,gb=1,Fb=0,Kb,Ob,oc=null,Oc,yc,fd,Ec=1,Fd=1,Be=ka({point:function(vd,Kd){vd=Gb([vd,Kd]);this.stream.point(vd[0],vd[1])}}),fe=ld,Ae,Zd;Gb.invert=function(vd){var Kd=vd[0]-bc;vd=
vd[1]-fa;if(Fb){var ee=vd*Kb+Kd*Ob;Kd=Kd*Kb-vd*Ob;vd=ee}return[Kd/Ec,vd/Fd]};Gb.stream=function(vd){return Ae&&Zd===vd?Ae:Ae=Be(fe(Zd=vd))};Gb.postclip=function(vd){return arguments.length?(fe=vd,oc=Oc=yc=fd=null,kb()):fe};Gb.clipExtent=function(vd){return arguments.length?(fe=null==vd?(oc=Oc=yc=fd=null,ld):Aa(oc=+vd[0][0],Oc=+vd[0][1],yc=+vd[1][0],fd=+vd[1][1]),kb()):null==oc?null:[[oc,Oc],[yc,fd]]};Gb.scale=function(vd){return arguments.length?(Pb=+vd,kb()):Pb};Gb.translate=function(vd){return arguments.length?
(bc=+vd[0],fa=+vd[1],kb()):[bc,fa]};Gb.angle=function(vd){return arguments.length?(Fb=vd%360*qe,Ob=tb(Fb),Kb=te(Fb),kb()):Fb*le};Gb.reflectX=function(vd){return arguments.length?(Ia=vd?-1:1,kb()):0>Ia};Gb.reflectY=function(vd){return arguments.length?(gb=vd?-1:1,kb()):0>gb};Gb.fitExtent=function(vd,Kd){return eb(Gb,vd,Kd)};Gb.fitSize=function(vd,Kd){return eb(Gb,[[0,0],vd],Kd)};Gb.fitWidth=function(vd,Kd){return lb(Gb,vd,Kd)};Gb.fitHeight=function(vd,Kd){return nb(Gb,vd,Kd)};return Gb},mercator:function(){return $d(jd).scale(961/
ge)},mollweide:function(){return uc(wc).scale(169.529)},naturalEarth1:function(){return uc(yb).scale(175.295)},orthographic:function(){return uc(Ub).scale(249.5).clipAngle(90.000001)},stereographic:function(){return uc(Tb).scale(250).clipAngle(142)},transversemercator:function(){var kb=$d(Vb),Gb=kb.center,Pb=kb.rotate;kb.center=function(bc){return arguments.length?Gb([-bc[1],bc[0]]):(bc=Gb(),[bc[1],-bc[0]])};kb.rotate=function(bc){return arguments.length?Pb([bc[0],bc[1],2<bc.length?bc[2]+90:90]):
(bc=Pb(),[bc[0],bc[1],bc[2]-90])};return Pb([0,0,90]).scale(159.155)}};for(const kb in ud)dd(kb,ud[kb]);w.getProjectionPath=function(kb){return kb&&kb.path||Rc};w.projection=dd;w.projectionProperties=Lc;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[32]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14),L(24),L(31),L(26)):"function"===typeof define&&define.amd?define("exports vega-dataflow vega-util vega-statistics vega-projection vega-canvas".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,n){function f(Ba,va){let Ca;if(void 0===va)for(var $a of Ba)null!=$a&&
(Ca<$a||void 0===Ca&&$a>=$a)&&(Ca=$a);else{$a=-1;for(let jb of Ba)null!=(jb=va(jb,++$a,Ba))&&(Ca<jb||void 0===Ca&&jb>=jb)&&(Ca=jb)}return Ca}function b(Ba,va,Ca){Ba=+Ba;va=+va;Ca=2>(jb=arguments.length)?(va=Ba,Ba=0,1):3>jb?1:+Ca;for(var $a=-1,jb=Math.max(0,Math.ceil((va-Ba)/Ca))|0,yb=Array(jb);++$a<jb;)yb[$a]=Ba+$a*Ca;return yb}function c(Ba,va){let Ca=0;if(void 0===va)for(var $a of Ba){if($a=+$a)Ca+=$a}else{$a=-1;for(let jb of Ba)if(jb=+va(jb,++$a,Ba))Ca+=jb}return Ca}function e(){}function g(){function Ba(Tb,
Vb){return Vb.map(Ic=>va(Tb,Ic))}function va(Tb,Vb){var Ic=[],$c=[];Ca(Tb,Vb,dd=>{Ub(dd,Tb,Vb);for(var nd=0,xd=dd.length,Nd=dd[xd-1][1]*dd[0][0]-dd[xd-1][0]*dd[0][1];++nd<xd;)Nd+=dd[nd-1][1]*dd[nd][0]-dd[nd-1][0]*dd[nd][1];0<Nd?Ic.push([dd]):$c.push(dd)});$c.forEach(dd=>{for(var nd=0,xd=Ic.length,Nd;nd<xd;++nd){a:{var Xd=(Nd=Ic[nd])[0];for(var ge=dd,le=-1,qe=ge.length;++le<qe;){b:{var wd=Xd;for(var qf=ge[le],gf=qf[0],te=qf[1],We=-1,za=0,Za=wd.length,tb=Za-1;za<Za;tb=za++){var Jb=wd[za],fc=Jb[0],nc=
Jb[1],Hc=wd[tb];tb=Hc[0];var Dc=Hc[1],lc,ld=Jb;Jb=Hc;Hc=qf;if(lc=(Jb[0]-ld[0])*(Hc[1]-ld[1])===(Hc[0]-ld[0])*(Jb[1]-ld[1]))ld=ld[lc=+(ld[0]===Jb[0])],Hc=Hc[lc],Jb=Jb[lc],lc=ld<=Hc&&Hc<=Jb||Jb<=Hc&&Hc<=ld;if(lc){wd=0;break b}nc>te!==Dc>te&&gf<(tb-fc)*(te-nc)/(Dc-nc)+fc&&(We=-We)}wd=We}if(wd){Xd=wd;break a}}Xd=0}if(-1!==Xd){Nd.push(dd);break}}});return{type:"MultiPolygon",value:Vb,coordinates:Ic}}function Ca(Tb,Vb,Ic){function $c(wd){var qf=[wd[0][0]+Nd,wd[0][1]+xd];wd=[wd[1][0]+Nd,wd[1][1]+xd];var gf=
2*qf[0]+qf[1]*(jb+1)*4,te=2*wd[0]+wd[1]*(jb+1)*4,We,za;(We=nd[gf])?(za=dd[te])?(delete nd[We.end],delete dd[za.start],We===za?(We.ring.push(wd),Ic(We.ring)):dd[We.start]=nd[za.end]={start:We.start,end:za.end,ring:We.ring.concat(za.ring)}):(delete nd[We.end],We.ring.push(wd),nd[We.end=te]=We):(We=dd[te])?(za=nd[gf])?(delete dd[We.start],delete nd[za.end],We===za?(We.ring.push(wd),Ic(We.ring)):dd[za.start]=nd[We.end]={start:za.start,end:We.end,ring:za.ring.concat(We.ring)}):(delete dd[We.start],We.ring.unshift(qf),
dd[We.start=gf]=We):dd[gf]=nd[te]={start:gf,end:te,ring:[qf,wd]}}var dd=[],nd=[],xd;var Nd=xd=-1;var Xd=Tb[0]>=Vb;for(Bc[Xd<<1].forEach($c);++Nd<jb-1;){var ge=Xd;Xd=Tb[Nd+1]>=Vb;Bc[ge|Xd<<1].forEach($c)}for(Bc[Xd<<0].forEach($c);++xd<yb-1;){Nd=-1;Xd=Tb[xd*jb+jb]>=Vb;var le=Tb[xd*jb]>=Vb;for(Bc[Xd<<1|le<<2].forEach($c);++Nd<jb-1;){ge=Xd;Xd=Tb[xd*jb+jb+Nd+1]>=Vb;var qe=le;le=Tb[xd*jb+Nd+1]>=Vb;Bc[ge|Xd<<1|le<<2|qe<<3].forEach($c)}Bc[Xd|le<<3].forEach($c)}Nd=-1;le=Tb[xd*jb]>=Vb;for(Bc[le<<2].forEach($c);++Nd<
jb-1;)qe=le,le=Tb[xd*jb+Nd+1]>=Vb,Bc[le<<2|qe<<3].forEach($c);Bc[le<<3].forEach($c)}function $a(Tb,Vb,Ic){Tb.forEach($c=>{var dd=$c[0],nd=$c[1],xd=dd|0,Nd=nd|0,Xd=Vb[Nd*jb+xd];if(0<dd&&dd<jb&&xd===dd){var ge=Vb[Nd*jb+xd-1];$c[0]=dd+(Ic-ge)/(Xd-ge)-.5}0<nd&&nd<yb&&Nd===nd&&(ge=Vb[(Nd-1)*jb+xd],$c[1]=nd+(Ic-ge)/(Xd-ge)-.5)})}var jb=1,yb=1,Ub=$a;Ba.contour=va;Ba.size=function(Tb){if(!arguments.length)return[jb,yb];var Vb=Math.floor(Tb[0]),Ic=Math.floor(Tb[1]);0<=Vb&&0<=Ic||p.error("invalid size");return jb=
Vb,yb=Ic,Ba};Ba.smooth=function(Tb){return arguments.length?(Ub=Tb?$a:e,Ba):Ub===$a};return Ba}function m(Ba,va,Ca){return function($a){var jb=p.extent($a);$a=Ca?Math.min(jb[0],0):jb[0];jb=jb[1];var yb=jb-$a;if(va){var Ub=Math.abs(jb-$a)/Math.max(0,Ba);yb=Math.pow(10,Math.floor(Math.log(Ub)/Math.LN10));Ub/=yb;Ub>=$b?yb*=10:Ub>=Gc?yb*=5:Ub>=zc&&(yb*=2);yb=jb<$a?-yb:yb}else yb/=Ba+1;return b($a+yb,jb,yb)}}function h(Ba){k.Transform.call(this,null,Ba)}function x(Ba,va,Ca){const $a=m(Ca.levels||10,Ca.nice,
!1!==Ca.zero);return"shared"!==Ca.resolve?$a:$a(Ba.map(jb=>f(va(jb).values)))}function O(Ba,va,Ca,$a){var jb=$a.scale||va.scale;let yb=$a.translate||va.translate;p.isFunction(jb)&&(jb=jb(Ca,$a));p.isFunction(yb)&&(yb=yb(Ca,$a));if(1!==jb&&null!=jb||yb)Ca=(p.isNumber(jb)?jb:jb[0])||1,jb=(p.isNumber(jb)?jb:jb[1])||1,Ba.forEach(G(va,Ca,jb,yb&&yb[0]||0,yb&&yb[1]||0))}function G(Ba,va,Ca,$a,jb){function yb(dd){dd.forEach(Ub)}function Ub(dd){$c&&dd.reverse();dd.forEach(Tb)}function Tb(dd){dd[0]=(dd[0]-
Vb)*va+$a;dd[1]=(dd[1]-Ic)*Ca+jb}const Vb=Ba.x1||0,Ic=Ba.y1||0,$c=0>va*Ca;return function(dd){dd.coordinates.forEach(yb);return dd}}function I(Ba,va,Ca){Ba=0<=Ba?Ba:q.bandwidthNRD(va,Ca);return Math.round((Math.sqrt(4*Ba*Ba+1)-1)/2)}function F(Ba){return p.isFunction(Ba)?Ba:p.constant(+Ba)}function C(){function Ba(Vb,Ic){const $c=I(jb[0],Vb,va)>>Tb,dd=I(jb[1],Vb,Ca)>>Tb,nd=$c?$c+2:0,xd=dd?dd+2:0,Nd=2*nd+(yb>>Tb),Xd=2*xd+(Ub>>Tb),ge=new Float32Array(Nd*Xd),le=new Float32Array(Nd*Xd);let qe=ge;Vb.forEach(wd=>
{const qf=nd+(+va(wd)>>Tb),gf=xd+(+Ca(wd)>>Tb);0<=qf&&qf<Nd&&0<=gf&&gf<Xd&&(ge[qf+gf*Nd]+=+$a(wd))});0<$c&&0<dd?(r(Nd,Xd,ge,le,$c),y(Nd,Xd,le,ge,dd),r(Nd,Xd,ge,le,$c),y(Nd,Xd,le,ge,dd),r(Nd,Xd,ge,le,$c),y(Nd,Xd,le,ge,dd)):0<$c?(r(Nd,Xd,ge,le,$c),r(Nd,Xd,le,ge,$c),r(Nd,Xd,ge,le,$c),qe=le):0<dd&&(y(Nd,Xd,ge,le,dd),y(Nd,Xd,le,ge,dd),y(Nd,Xd,ge,le,dd),qe=le);Vb=Ic?Math.pow(2,-2*Tb):1/c(qe);for(let wd=0,qf=Nd*Xd;wd<qf;++wd)qe[wd]*=Vb;return{values:qe,scale:1<<Tb,width:Nd,height:Xd,x1:nd,y1:xd,x2:nd+(yb>>
Tb),y2:xd+(Ub>>Tb)}}var va=Vb=>Vb[0],Ca=Vb=>Vb[1],$a=p.one,jb=[-1,-1],yb=960,Ub=500,Tb=2;Ba.x=function(Vb){return arguments.length?(va=F(Vb),Ba):va};Ba.y=function(Vb){return arguments.length?(Ca=F(Vb),Ba):Ca};Ba.weight=function(Vb){return arguments.length?($a=F(Vb),Ba):$a};Ba.size=function(Vb){if(!arguments.length)return[yb,Ub];var Ic=+Vb[0],$c=+Vb[1];0<=Ic&&0<=$c||p.error("invalid size");return yb=Ic,Ub=$c,Ba};Ba.cellSize=function(Vb){if(!arguments.length)return 1<<Tb;1<=(Vb=+Vb)||p.error("invalid cell size");
Tb=Math.floor(Math.log(Vb)/Math.LN2);return Ba};Ba.bandwidth=function(Vb){if(!arguments.length)return jb;Vb=p.array(Vb);1===Vb.length&&(Vb=[+Vb[0],+Vb[0]]);2!==Vb.length&&p.error("invalid bandwidth");return jb=Vb,Ba};return Ba}function r(Ba,va,Ca,$a,jb){const yb=(jb<<1)+1;for(let Ub=0;Ub<va;++Ub)for(let Tb=0,Vb=0;Tb<Ba+jb;++Tb)Tb<Ba&&(Vb+=Ca[Tb+Ub*Ba]),Tb>=jb&&(Tb>=yb&&(Vb-=Ca[Tb-yb+Ub*Ba]),$a[Tb-jb+Ub*Ba]=Vb/Math.min(Tb+1,Ba-1+yb-Tb,yb))}function y(Ba,va,Ca,$a,jb){const yb=(jb<<1)+1;for(let Ub=0;Ub<
Ba;++Ub)for(let Tb=0,Vb=0;Tb<va+jb;++Tb)Tb<va&&(Vb+=Ca[Ub+Tb*Ba]),Tb>=jb&&(Tb>=yb&&(Vb-=Ca[Ub+(Tb-yb)*Ba]),$a[Ub+(Tb-jb)*Ba]=Vb/Math.min(Tb+1,va-1+yb-Tb,yb))}function K(Ba){k.Transform.call(this,null,Ba)}function R(Ba,va){uc.forEach(Ca=>null!=va[Ca]?Ba[Ca](va[Ca]):0);return Ba}function S(Ba,va){var Ca=[],$a=$c=>$c(Tb),jb;if(null==va)Ca.push(Ba);else{var yb={};var Ub=0;for(jb=Ba.length;Ub<jb;++Ub){var Tb=Ba[Ub];var Vb=va.map($a);var Ic=yb[Vb];Ic||(yb[Vb]=Ic=[],Ic.dims=Vb,Ca.push(Ic));Ic.push(Tb)}}return Ca}
function ca(Ba){k.Transform.call(this,null,Ba)}function M(Ba){k.Transform.call(this,null,Ba)}function aa(Ba){k.Transform.call(this,null,Ba)}function Y(Ba,va){const Ca=Ba.pointRadius();Ba.context(null);null!=va&&Ba.pointRadius(va);return Ca}function ea(Ba){k.Transform.call(this,null,Ba)}function Ga(Ba){k.Transform.call(this,null,Ba)}function X(Ba,va,Ca){const $a=null==Ca?jb=>Ba(va(jb)):jb=>{var yb=Ba.pointRadius();jb=Ba.pointRadius(Ca)(va(jb));Ba.pointRadius(yb);return jb};$a.context=jb=>{Ba.context(jb);
return $a};return $a}function D(Ba,va,Ca){var $a=b(Ba,va-1E-6,Ca).concat(va);return function(jb){return $a.map(function(yb){return[jb,yb]})}}function B(Ba,va,Ca){var $a=b(Ba,va-1E-6,Ca).concat(va);return function(jb){return $a.map(function(yb){return[yb,jb]})}}function N(){function Ba(){return{type:"MultiLineString",coordinates:va()}}function va(){return b(Hb(yb/nd)*nd,jb,nd).map(ge).concat(b(Hb(Ic/xd)*xd,Vb,xd).map(le)).concat(b(Hb($a/$c)*$c,Ca,$c).filter(function(wd){return 1E-6<id(wd%nd)}).map(Nd)).concat(b(Hb(Tb/
dd)*dd,Ub,dd).filter(function(wd){return 1E-6<id(wd%xd)}).map(Xd))}var Ca,$a,jb,yb,Ub,Tb,Vb,Ic,$c=10,dd=$c,nd=90,xd=360,Nd,Xd,ge,le,qe=2.5;Ba.lines=function(){return va().map(function(wd){return{type:"LineString",coordinates:wd}})};Ba.outline=function(){return{type:"Polygon",coordinates:[ge(yb).concat(le(Vb).slice(1),ge(jb).reverse().slice(1),le(Ic).reverse().slice(1))]}};Ba.extent=function(wd){return arguments.length?Ba.extentMajor(wd).extentMinor(wd):Ba.extentMinor()};Ba.extentMajor=function(wd){if(!arguments.length)return[[yb,
Ic],[jb,Vb]];yb=+wd[0][0];jb=+wd[1][0];Ic=+wd[0][1];Vb=+wd[1][1];yb>jb&&(wd=yb,yb=jb,jb=wd);Ic>Vb&&(wd=Ic,Ic=Vb,Vb=wd);return Ba.precision(qe)};Ba.extentMinor=function(wd){if(!arguments.length)return[[$a,Tb],[Ca,Ub]];$a=+wd[0][0];Ca=+wd[1][0];Tb=+wd[0][1];Ub=+wd[1][1];$a>Ca&&(wd=$a,$a=Ca,Ca=wd);Tb>Ub&&(wd=Tb,Tb=Ub,Ub=wd);return Ba.precision(qe)};Ba.step=function(wd){return arguments.length?Ba.stepMajor(wd).stepMinor(wd):Ba.stepMinor()};Ba.stepMajor=function(wd){if(!arguments.length)return[nd,xd];
nd=+wd[0];xd=+wd[1];return Ba};Ba.stepMinor=function(wd){if(!arguments.length)return[$c,dd];$c=+wd[0];dd=+wd[1];return Ba};Ba.precision=function(wd){if(!arguments.length)return qe;qe=+wd;Nd=D(Tb,Ub,90);Xd=B($a,Ca,qe);ge=D(Ic,Vb,90);le=B(yb,jb,qe);return Ba};return Ba.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Z(Ba){k.Transform.call(this,[],Ba);this.generator=N()}function Aa(Ba,va,Ca){Ba.prototype=va.prototype=Ca;Ca.constructor=Ba}function qa(Ba,
va){Ba=Object.create(Ba.prototype);for(var Ca in va)Ba[Ca]=va[Ca];return Ba}function la(){}function Ja(){return this.rgb().formatHex()}function bb(){return this.rgb().formatRgb()}function ib(Ba){var va,Ca;Ba=(Ba+"").trim().toLowerCase();return(va=dc.exec(Ba))?(Ca=va[1].length,va=parseInt(va[1],16),6===Ca?Ma(va):3===Ca?new Ra(va>>8&15|va>>4&240,va>>4&15|va&240,(va&15)<<4|va&15,1):8===Ca?ma(va>>24&255,va>>16&255,va>>8&255,(va&255)/255):4===Ca?ma(va>>12&15|va>>8&240,va>>8&15|va>>4&240,va>>4&15|va&240,
((va&15)<<4|va&15)/255):null):(va=Wb.exec(Ba))?new Ra(va[1],va[2],va[3],1):(va=mc.exec(Ba))?new Ra(255*va[1]/100,255*va[2]/100,255*va[3]/100,1):(va=Kc.exec(Ba))?ma(va[1],va[2],va[3],va[4]):(va=Fc.exec(Ba))?ma(255*va[1]/100,255*va[2]/100,255*va[3]/100,va[4]):(va=Sc.exec(Ba))?xa(va[1],va[2]/100,va[3]/100,1):(va=jd.exec(Ba))?xa(va[1],va[2]/100,va[3]/100,va[4]):$d.hasOwnProperty(Ba)?Ma($d[Ba]):"transparent"===Ba?new Ra(NaN,NaN,NaN,0):null}function Ma(Ba){return new Ra(Ba>>16&255,Ba>>8&255,Ba&255,1)}function ma(Ba,
va,Ca,$a){0>=$a&&(Ba=va=Ca=NaN);return new Ra(Ba,va,Ca,$a)}function Fa(Ba,va,Ca,$a){if(1===arguments.length){var jb=Ba;jb instanceof la||(jb=ib(jb));jb?(jb=jb.rgb(),jb=new Ra(jb.r,jb.g,jb.b,jb.opacity)):jb=new Ra}else jb=new Ra(Ba,va,Ca,null==$a?1:$a);return jb}function Ra(Ba,va,Ca,$a){this.r=+Ba;this.g=+va;this.b=+Ca;this.opacity=+$a}function ra(){return"#"+oa(this.r)+oa(this.g)+oa(this.b)}function ya(){var Ba=this.opacity;Ba=isNaN(Ba)?1:Math.max(0,Math.min(1,Ba));return(1===Ba?"rgb(":"rgba(")+Math.max(0,
Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Ba?")":", "+Ba+")")}function oa(Ba){Ba=Math.max(0,Math.min(255,Math.round(Ba)||0));return(16>Ba?"0":"")+Ba.toString(16)}function xa(Ba,va,Ca,$a){0>=$a?Ba=va=Ca=NaN:0>=Ca||1<=Ca?Ba=va=NaN:0>=va&&(Ba=NaN);return new fb(Ba,va,Ca,$a)}function Ua(Ba){if(Ba instanceof fb)return new fb(Ba.h,Ba.s,Ba.l,Ba.opacity);Ba instanceof la||(Ba=ib(Ba));if(!Ba)return new fb;
if(Ba instanceof fb)return Ba;Ba=Ba.rgb();var va=Ba.r/255,Ca=Ba.g/255,$a=Ba.b/255,jb=Math.min(va,Ca,$a),yb=Math.max(va,Ca,$a),Ub=NaN,Tb=yb-jb,Vb=(yb+jb)/2;Tb?(Ub=va===yb?(Ca-$a)/Tb+6*(Ca<$a):Ca===yb?($a-va)/Tb+2:(va-Ca)/Tb+4,Tb/=.5>Vb?yb+jb:2-yb-jb,Ub*=60):Tb=0<Vb&&1>Vb?0:Ub;return new fb(Ub,Tb,Vb,Ba.opacity)}function fb(Ba,va,Ca,$a){this.h=+Ba;this.s=+va;this.l=+Ca;this.opacity=+$a}function sa(Ba,va,Ca){return 255*(60>Ba?va+(Ca-va)*Ba/60:180>Ba?Ca:240>Ba?va+(Ca-va)*(240-Ba)/60:va)}function Oa(Ba){k.Transform.call(this,
null,Ba)}function ja(Ba,va){let Ca;p.isFunction(Ba)?(Ca=$a=>Fa(Ba($a,va)),Ca.dep=ka(Ba)):Ca=p.constant(Fa(Ba||"#888"));return Ca}function U(Ba,va){let Ca;p.isFunction(Ba)?(Ca=$a=>Ba($a,va),Ca.dep=ka(Ba)):Ba?Ca=p.constant(Ba):(Ca=$a=>$a.$value/$a.$max||0,Ca.dep=!0);return Ca}function ka(Ba){if(!p.isFunction(Ba))return!1;Ba=p.toSet(p.accessorFields(Ba));return Ba.$x||Ba.$y||Ba.$value||Ba.$max}function ua(Ba,va,Ca,$a){const jb=Ba.width;var yb=Ba.height;const Ub=Ba.x1||0,Tb=Ba.y1||0,Vb=Ba.x2||jb;yb=Ba.y2||
yb;const Ic=Ba.values;Ba=Ic?Nd=>Ic[Nd]:p.zero;const $c=n.canvas(Vb-Ub,yb-Tb),dd=$c.getContext("2d"),nd=dd.getImageData(0,0,Vb-Ub,yb-Tb),xd=nd.data;for(let Nd=Tb,Xd=0;Nd<yb;++Nd){va.$y=Nd-Tb;for(let ge=Ub,le=Nd*jb;ge<Vb;++ge,Xd+=4){va.$x=ge-Ub;va.$value=Ba(ge+le);const qe=Ca(va);xd[Xd+0]=qe.r;xd[Xd+1]=qe.g;xd[Xd+2]=qe.b;xd[Xd+3]=~~(255*$a(va))}}dd.putImageData(nd,0,0);return $c}function Ta(Ba){k.Transform.call(this,null,Ba);this.modified(!0)}function eb(Ba,va){const Ca=nb(va.fit);va.extent?Ba.fitExtent(va.extent,
Ca):va.size?Ba.fitSize(va.size,Ca):0}function lb(Ba){const va=t.projection((Ba||"mercator").toLowerCase());va||p.error("Unrecognized projection type: "+Ba);return va()}function nb(Ba){Ba=p.array(Ba);return 1===Ba.length?Ba[0]:{type:"FeatureCollection",features:Ba.reduce((va,Ca)=>va.concat(Mb(Ca)),[])}}function Mb(Ba){return"FeatureCollection"===Ba.type?Ba.features:p.array(Ba).filter(va=>null!=va).map(va=>"Feature"===va.type?va:{type:"Feature",geometry:va})}var $b=Math.sqrt(50),Gc=Math.sqrt(10),zc=
Math.sqrt(2);const Bc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];h.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",
type:"boolean","default":!1},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"zero",type:"boolean","default":!0},{name:"smooth",type:"boolean","default":!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string","null":!0,"default":"contour"}]};p.inherits(h,k.Transform,{transform(Ba,va){if(this.value&&!va.changed()&&!Ba.modified())return va.StopPropagation;var Ca=va.fork(va.NO_SOURCE|va.NO_FIELDS);
va=va.materialize(va.SOURCE).source;var $a=Ba.field||p.identity,jb=g().smooth(!1!==Ba.smooth),yb=Ba.thresholds||x(va,$a,Ba),Ub=null===Ba.as?null:Ba.as||"contour",Tb=[];va.forEach(Vb=>{const Ic=$a(Vb),$c=jb.size([Ic.width,Ic.height])(Ic.values,p.isArray(yb)?yb:yb(Ic.values));O($c,Ic,Vb,Ba);$c.forEach(dd=>{Tb.push(k.rederive(Vb,k.ingest(null!=Ub?{[Ub]:dd}:dd)))})});this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=Tb;return Ca}});K.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",
type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean","default":!1},{name:"as",type:"string","default":"grid"}]};const uc="x y weight size cellSize bandwidth".split(" ");p.inherits(K,k.Transform,{transform(Ba,va){if(this.value&&!va.changed()&&!Ba.modified())return va.StopPropagation;
var Ca=va.fork(va.NO_SOURCE|va.NO_FIELDS);va=va.materialize(va.SOURCE).source;va=S(va,Ba.groupby);var $a=(Ba.groupby||[]).map(p.accessorName),jb=R(C(),Ba),yb=Ba.as||"grid",Ub=[];Ub=va.map(Tb=>{var Vb=k.ingest,Ic={[yb]:jb(Tb,Ba.counts)};Tb=Tb.dims;for(let $c=0;$c<$a.length;++$c)Ic[$a[$c]]=Tb[$c];return Vb.call(k,Ic)});this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=Ub;return Ca}});ca.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean","default":!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean","default":!0}]};p.inherits(ca,k.Transform,{transform(Ba,va){if(this.value&&!va.changed()&&!Ba.modified())return va.StopPropagation;var Ca=va.fork(va.NO_SOURCE|va.NO_FIELDS),
$a=g().smooth(!1!==Ba.smooth),jb=Ba.values,yb=Ba.thresholds||m(Ba.count||10,Ba.nice,!!jb),Ub=Ba.size;if(!jb){jb=va.materialize(va.SOURCE).source;Ba=R(C(),Ba)(jb,!0);var Tb=G(Ba,Ba.scale||1,Ba.scale||1,0,0);Ub=[Ba.width,Ba.height];jb=Ba.values}yb=p.isArray(yb)?yb:yb(jb);jb=$a.size(Ub)(jb,yb);Tb&&jb.forEach(Tb);this.value&&(Ca.rem=this.value);this.value=Ca.source=Ca.add=(jb||[]).map(k.ingest);return Ca}});M.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},
{name:"geojson",type:"field"}]};p.inherits(M,k.Transform,{transform(Ba,va){var Ca=this._features,$a=this._points,jb=Ba.fields,yb=jb&&jb[0],Ub=jb&&jb[1],Tb=Ba.geojson||!jb&&p.identity;jb=va.ADD;Ba=Ba.modified()||va.changed(va.REM)||va.modified(p.accessorFields(Tb))||yb&&va.modified(p.accessorFields(yb))||Ub&&va.modified(p.accessorFields(Ub));if(!this.value||Ba)jb=va.SOURCE,this._features=Ca=[],this._points=$a=[];Tb&&va.visit(jb,Vb=>Ca.push(Tb(Vb)));yb&&Ub&&(va.visit(jb,Vb=>{var Ic=yb(Vb);Vb=Ub(Vb);
null!=Ic&&null!=Vb&&(Ic=+Ic)===Ic&&(Vb=+Vb)===Vb&&$a.push([Ic,Vb])}),Ca=Ca.concat({type:"Feature",geometry:{type:"MultiPoint",coordinates:$a}}));this.value={type:"FeatureCollection",features:Ca}}});aa.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"path"}]};p.inherits(aa,k.Transform,{transform(Ba,va){var Ca=va.fork(va.ALL),$a=this.value,jb=Ba.field||
p.identity,yb=Ba.as||"path",Ub=Ca.SOURCE;!$a||Ba.modified()?(this.value=$a=t.getProjectionPath(Ba.projection),Ca.materialize().reflow()):Ub=jb===p.identity||va.modified(jb.fields)?Ca.ADD_MOD:Ca.ADD;Ba=Y($a,Ba.pointRadius);Ca.visit(Ub,Tb=>Tb[yb]=$a(jb(Tb)));$a.pointRadius(Ba);return Ca.modifies(yb)}});ea.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,
length:2,"default":["x","y"]}]};p.inherits(ea,k.Transform,{transform(Ba,va){function Ca(Ic){const $c=$a([jb(Ic),yb(Ic)]);$c?(Ic[Tb]=$c[0],Ic[Vb]=$c[1]):(Ic[Tb]=void 0,Ic[Vb]=void 0)}var $a=Ba.projection,jb=Ba.fields[0],yb=Ba.fields[1],Ub=Ba.as||["x","y"],Tb=Ub[0],Vb=Ub[1];Ba.modified()?va=va.materialize().reflow(!0).visit(va.SOURCE,Ca):(Ba=va.modified(jb.fields)||va.modified(yb.fields),va.visit(Ba?va.ADD_MOD:va.ADD,Ca));return va.modifies(Ub)}});Ga.Definition={type:"GeoShape",metadata:{modifies:!0,
nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field","default":"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string","default":"shape"}]};p.inherits(Ga,k.Transform,{transform(Ba,va){va=va.fork(va.ALL);var Ca=this.value,$a=Ba.as||"shape",jb=va.ADD;if(!Ca||Ba.modified())this.value=Ca=X(t.getProjectionPath(Ba.projection),Ba.field||p.field("datum"),Ba.pointRadius),va.materialize().reflow(),jb=va.SOURCE;va.visit(jb,yb=>yb[$a]=Ca);return va.modifies($a)}});
var id=Math.abs,Hb=Math.ceil;Z.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,"default":[90,360]},{name:"stepMinor",
type:"number",array:!0,length:2,"default":[10,10]},{name:"precision",type:"number","default":2.5}]};p.inherits(Z,k.Transform,{transform(Ba,va){var Ca=this.value,$a=this.generator;if(!Ca.length||Ba.modified())for(const jb in Ba)if(p.isFunction($a[jb]))$a[jb](Ba[jb]);Ba=$a();Ca.length?va.mod.push(k.replace(Ca[0],Ba)):va.add.push(k.ingest(Ba));Ca[0]=Ba;return va}});var Ab=1/.7,dc=/^#([0-9a-f]{3,8})$/,Wb=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),mc=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
Kc=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Fc=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Sc=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),
jd=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),$d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,
cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,
floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,
lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,
moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,
sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Aa(la,ib,{copy:function(Ba){return Object.assign(new this.constructor,this,Ba)},displayable:function(){return this.rgb().displayable()},hex:Ja,formatHex:Ja,formatHsl:function(){return Ua(this).formatHsl()},
formatRgb:bb,toString:bb});Aa(Ra,Fa,qa(la,{brighter:function(Ba){Ba=null==Ba?Ab:Math.pow(Ab,Ba);return new Ra(this.r*Ba,this.g*Ba,this.b*Ba,this.opacity)},darker:function(Ba){Ba=null==Ba?.7:Math.pow(.7,Ba);return new Ra(this.r*Ba,this.g*Ba,this.b*Ba,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:ra,formatHex:ra,formatRgb:ya,toString:ya}));Aa(fb,function(Ba,
va,Ca,$a){return 1===arguments.length?Ua(Ba):new fb(Ba,va,Ca,null==$a?1:$a)},qa(la,{brighter:function(Ba){Ba=null==Ba?Ab:Math.pow(Ab,Ba);return new fb(this.h,this.s,this.l*Ba,this.opacity)},darker:function(Ba){Ba=null==Ba?.7:Math.pow(.7,Ba);return new fb(this.h,this.s,this.l*Ba,this.opacity)},rgb:function(){var Ba=this.h%360+360*(0>this.h),va=isNaN(Ba)||isNaN(this.s)?0:this.s,Ca=this.l;va=Ca+(.5>Ca?Ca:1-Ca)*va;Ca=2*Ca-va;return new Ra(sa(240<=Ba?Ba-240:Ba+120,Ca,va),sa(Ba,Ca,va),sa(120>Ba?Ba+240:
Ba-120,Ca,va),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Ba=this.opacity;Ba=isNaN(Ba)?1:Math.max(0,Math.min(1,Ba));return(1===Ba?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Ba?")":", "+Ba+")")}}));Oa.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",
expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],"default":"independent"},{name:"as",type:"string","default":"image"}]};p.inherits(Oa,k.Transform,{transform(Ba,va){if(!va.changed()&&!Ba.modified())return va.StopPropagation;var Ca=va.materialize(va.SOURCE).source,$a="shared"===Ba.resolve,jb=Ba.field||p.identity,yb=U(Ba.opacity,Ba),Ub=ja(Ba.color,Ba),Tb=Ba.as||"image",Vb={$x:0,$y:0,$value:0,$max:$a?f(Ca.map(Ic=>f(jb(Ic).values))):0};Ca.forEach(Ic=>{const $c=jb(Ic),dd=p.extend({},
Ic,Vb);$a||(dd.$max=f($c.values||[]));Ic[Tb]=ua($c,dd,Ub.dep?Ub:p.constant(Ub(dd)),yb.dep?yb:p.constant(yb(dd)))});return va.reflow(!0).modifies(Tb)}});p.inherits(Ta,k.Transform,{transform(Ba,va){let Ca=this.value;!Ca||Ba.modified("type")?(this.value=Ca=lb(Ba.type),t.projectionProperties.forEach($a=>{if(null!=Ba[$a]){var jb=Ca,yb=Ba[$a];if(p.isFunction(jb[$a]))jb[$a](yb)}})):t.projectionProperties.forEach($a=>{if(Ba.modified($a)){var jb=Ca,yb=Ba[$a];if(p.isFunction(jb[$a]))jb[$a](yb)}});null!=Ba.pointRadius&&
Ca.path.pointRadius(Ba.pointRadius);Ba.fit&&eb(Ca,Ba);return va.fork(va.NO_SOURCE|va.NO_FIELDS)}});w.contour=ca;w.geojson=M;w.geopath=aa;w.geopoint=ea;w.geoshape=Ga;w.graticule=Z;w.heatmap=Oa;w.isocontour=h;w.kde2d=K;w.projection=Ta;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[33]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(sa,Oa,ja,U){if(isNaN(Oa)||isNaN(ja))return sa;var ka,ua=sa._root;U={data:U};var Ta=sa._x0,eb=sa._y0,lb=sa._x1,nb=sa._y1,Mb,$b,Gc,zc,Bc;if(!ua)return sa._root=
U,sa;for(;ua.length;)if((Gc=Oa>=(Mb=(Ta+lb)/2))?Ta=Mb:lb=Mb,(zc=ja>=($b=(eb+nb)/2))?eb=$b:nb=$b,ka=ua,!(ua=ua[Bc=zc<<1|Gc]))return ka[Bc]=U,sa;var uc=+sa._x.call(null,ua.data);var id=+sa._y.call(null,ua.data);if(Oa===uc&&ja===id)return U.next=ua,ka?ka[Bc]=U:sa._root=U,sa;do ka=ka?ka[Bc]=Array(4):sa._root=Array(4),(Gc=Oa>=(Mb=(Ta+lb)/2))?Ta=Mb:lb=Mb,(zc=ja>=($b=(eb+nb)/2))?eb=$b:nb=$b;while((Bc=zc<<1|Gc)===(Gc=(id>=$b)<<1|uc>=Mb));return ka[Gc]=ua,ka[Bc]=U,sa}function t(sa,Oa,ja,U,ka){this.node=sa;
this.x0=Oa;this.y0=ja;this.x1=U;this.y1=ka}function n(sa){return sa[0]}function f(sa){return sa[1]}function b(sa,Oa,ja){Oa=new c(null==Oa?n:Oa,null==ja?f:ja,NaN,NaN,NaN,NaN);return null==sa?Oa:Oa.addAll(sa)}function c(sa,Oa,ja,U,ka,ua){this._x=sa;this._y=Oa;this._x0=ja;this._y0=U;this._x1=ka;this._y1=ua;this._root=void 0}function e(sa){for(var Oa={data:sa.data},ja=Oa;sa=sa.next;)ja=ja.next={data:sa.data};return Oa}function g(sa){return function(){return sa}}function m(sa){return sa.x+sa.vx}function h(sa){return sa.y+
sa.vy}function x(sa){return sa.index}function O(sa,Oa){sa=sa.get(Oa);if(!sa)throw Error("node not found: "+Oa);return sa}function G(){for(var sa=0,Oa=arguments.length,ja={},U;sa<Oa;++sa){if(!(U=arguments[sa]+"")||U in ja||/[\s.]/.test(U))throw Error("illegal type: "+U);ja[U]=[]}return new I(ja)}function I(sa){this._=sa}function F(sa,Oa){return sa.trim().split(/^|\s+/).map(function(ja){var U="",ka=ja.indexOf(".");0<=ka&&(U=ja.slice(ka+1),ja=ja.slice(0,ka));if(ja&&!Oa.hasOwnProperty(ja))throw Error("unknown type: "+
ja);return{type:ja,name:U}})}function C(sa,Oa,ja){for(var U=0,ka=sa.length;U<ka;++U)if(sa[U].name===Oa){sa[U]=Aa;sa=sa.slice(0,U).concat(sa.slice(U+1));break}null!=ja&&sa.push({name:Oa,value:ja});return sa}function r(){ma=0}function y(){this._call=this._time=this._next=null}function K(sa,Oa,ja){var U=new y;U.restart(sa,Oa,ja);return U}function R(){ma=(Ma=Ra.now())+Fa;qa=la=0;try{ma||(ra(r),ma=Ra.now()+Fa);++qa;for(var sa=bb,Oa;sa;)0<=(Oa=ma-sa._time)&&sa._call.call(void 0,Oa),sa=sa._next;--qa}finally{qa=
0;sa=bb;for(var ja=Infinity;sa;)if(sa._call){ja>sa._time&&(ja=sa._time);var U=sa;sa=sa._next}else Oa=sa._next,sa._next=null,sa=U?U._next=Oa:bb=Oa;ib=U;ca(ja);ma=0}}function S(){var sa=Ra.now(),Oa=sa-Ma;1E3<Oa&&(Fa-=Oa,Ma=sa)}function ca(sa){qa||(la&&(la=clearTimeout(la)),24<sa-ma?(Infinity>sa&&(la=setTimeout(R,sa-Ra.now()-Fa)),Ja&&(Ja=clearInterval(Ja))):(Ja||(Ma=Ra.now(),Ja=setInterval(S,1E3)),qa=1,ra(R)))}function M(){let sa=1;return()=>(sa=(1664525*sa+1013904223)%4294967296)/4294967296}function aa(sa){return sa.x}
function Y(sa){return sa.y}function ea(sa){function Oa(){ja();zc.call("tick",ua);Ta<eb&&(Gc.stop(),zc.call("end",ua))}function ja(uc){var id,Hb=sa.length;void 0===uc&&(uc=1);for(var Ab=0;Ab<uc;++Ab)for(Ta+=(nb-Ta)*lb,$b.forEach(function(Wb){Wb(Ta)}),id=0;id<Hb;++id){var dc=sa[id];null==dc.fx?dc.x+=dc.vx*=Mb:(dc.x=dc.fx,dc.vx=0);null==dc.fy?dc.y+=dc.vy*=Mb:(dc.y=dc.fy,dc.vy=0)}return ua}function U(){for(var uc=0,id=sa.length,Hb;uc<id;++uc){Hb=sa[uc];Hb.index=uc;null!=Hb.fx&&(Hb.x=Hb.fx);null!=Hb.fy&&
(Hb.y=Hb.fy);if(isNaN(Hb.x)||isNaN(Hb.y)){var Ab=10*Math.sqrt(.5+uc),dc=uc*ya;Hb.x=Ab*Math.cos(dc);Hb.y=Ab*Math.sin(dc)}if(isNaN(Hb.vx)||isNaN(Hb.vy))Hb.vx=Hb.vy=0}}function ka(uc){uc.initialize&&uc.initialize(sa,Bc);return uc}var ua,Ta=1,eb=.001,lb=1-Math.pow(eb,1/300),nb=0,Mb=.6,$b=new Map,Gc=K(Oa),zc=G("tick","end"),Bc=M();null==sa&&(sa=[]);U();return ua={tick:ja,restart:function(){return Gc.restart(Oa),ua},stop:function(){return Gc.stop(),ua},nodes:function(uc){return arguments.length?(sa=uc,
U(),$b.forEach(ka),ua):sa},alpha:function(uc){return arguments.length?(Ta=+uc,ua):Ta},alphaMin:function(uc){return arguments.length?(eb=+uc,ua):eb},alphaDecay:function(uc){return arguments.length?(lb=+uc,ua):+lb},alphaTarget:function(uc){return arguments.length?(nb=+uc,ua):nb},velocityDecay:function(uc){return arguments.length?(Mb=1-uc,ua):1-Mb},randomSource:function(uc){return arguments.length?(Bc=uc,$b.forEach(ka),ua):Bc},force:function(uc,id){return 1<arguments.length?(null==id?$b.delete(uc):$b.set(uc,
ka(id)),ua):$b.get(uc)},find:function(uc,id,Hb){var Ab,dc=sa.length;Hb=null==Hb?Infinity:Hb*Hb;for(Ab=0;Ab<dc;++Ab){var Wb=sa[Ab];var mc=uc-Wb.x;var Kc=id-Wb.y;mc=mc*mc+Kc*Kc;if(mc<Hb){var Fc=Wb;Hb=mc}}return Fc},on:function(uc,id){return 1<arguments.length?(zc.on(uc,id),ua):zc.on(uc)}}}function Ga(sa){k.Transform.call(this,null,sa)}function X(sa,Oa){return()=>sa.touch(Oa).run()}function D(sa,Oa){sa=ea(sa);const ja=sa.stop,U=sa.restart;let ka=!1;sa.stopped=()=>ka;sa.restart=()=>(ka=!1,U());sa.stop=
()=>(ka=!0,ja());return B(sa,Oa,!0).on("end",()=>ka=!0)}function B(sa,Oa,ja,U){var ka=p.array(Oa.forces),ua;var Ta=0;for(ua=xa.length;Ta<ua;++Ta){var eb=xa[Ta];if("forces"!==eb&&Oa.modified(eb))sa[eb](Oa[eb])}Ta=0;for(ua=ka.length;Ta<ua;++Ta){var lb="forces"+Ta;if(ja||Oa.modified("forces",Ta)){eb=void 0;var nb=ka[Ta];p.hasOwnProperty(oa,nb.force)||p.error("Unrecognized force: "+nb.force);var Mb=oa[nb.force]();for(eb in nb)p.isFunction(Mb[eb])&&N(Mb[eb],nb[eb],nb);eb=Mb}else{if(eb=U)a:{Mb=eb=void 0;
nb=ka[Ta];var $b=U;for(Mb in nb)if(p.isFunction(eb=nb[Mb])&&$b.modified(p.accessorFields(eb))){eb=1;break a}eb=0}eb=eb?sa.force(lb):null}eb&&sa.force(lb,eb)}for(ua=sa.numForces||0;Ta<ua;++Ta)sa.force("forces"+Ta,null);sa.numForces=ka.length;return sa}function N(sa,Oa,ja){sa(p.isFunction(Oa)?U=>Oa(U,ja):Oa)}var Z=b.prototype=c.prototype;Z.copy=function(){var sa=new c(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Oa=this._root,ja,U;if(!Oa)return sa;if(!Oa.length)return sa._root=e(Oa),sa;for(ja=
[{source:Oa,target:sa._root=Array(4)}];Oa=ja.pop();)for(var ka=0;4>ka;++ka)if(U=Oa.source[ka])U.length?ja.push({source:U,target:Oa.target[ka]=Array(4)}):Oa.target[ka]=e(U);return sa};Z.add=function(sa){const Oa=+this._x.call(null,sa),ja=+this._y.call(null,sa);return q(this.cover(Oa,ja),Oa,ja,sa)};Z.addAll=function(sa){var Oa,ja,U=sa.length,ka,ua,Ta=Array(U),eb=Array(U),lb=Infinity,nb=Infinity,Mb=-Infinity,$b=-Infinity;for(ja=0;ja<U;++ja)isNaN(ka=+this._x.call(null,Oa=sa[ja]))||isNaN(ua=+this._y.call(null,
Oa))||(Ta[ja]=ka,eb[ja]=ua,ka<lb&&(lb=ka),ka>Mb&&(Mb=ka),ua<nb&&(nb=ua),ua>$b&&($b=ua));if(lb>Mb||nb>$b)return this;this.cover(lb,nb).cover(Mb,$b);for(ja=0;ja<U;++ja)q(this,Ta[ja],eb[ja],sa[ja]);return this};Z.cover=function(sa,Oa){if(isNaN(sa=+sa)||isNaN(Oa=+Oa))return this;var ja=this._x0,U=this._y0,ka=this._x1,ua=this._y1;if(isNaN(ja))ka=(ja=Math.floor(sa))+1,ua=(U=Math.floor(Oa))+1;else{for(var Ta=ka-ja||1,eb=this._root,lb,nb;ja>sa||sa>=ka||U>Oa||Oa>=ua;)switch(nb=(Oa<U)<<1|sa<ja,lb=Array(4),
lb[nb]=eb,eb=lb,Ta*=2,nb){case 0:ka=ja+Ta;ua=U+Ta;break;case 1:ja=ka-Ta;ua=U+Ta;break;case 2:ka=ja+Ta;U=ua-Ta;break;case 3:ja=ka-Ta,U=ua-Ta}this._root&&this._root.length&&(this._root=eb)}this._x0=ja;this._y0=U;this._x1=ka;this._y1=ua;return this};Z.data=function(){var sa=[];this.visit(function(Oa){if(!Oa.length){do sa.push(Oa.data);while(Oa=Oa.next)}});return sa};Z.extent=function(sa){return arguments.length?this.cover(+sa[0][0],+sa[0][1]).cover(+sa[1][0],+sa[1][1]):isNaN(this._x0)?void 0:[[this._x0,
this._y0],[this._x1,this._y1]]};Z.find=function(sa,Oa,ja){var U=this._x0,ka=this._y0,ua,Ta,eb,lb,nb=this._x1,Mb=this._y1,$b=[],Gc=this._root,zc;Gc&&$b.push(new t(Gc,U,ka,nb,Mb));null==ja?ja=Infinity:(U=sa-ja,ka=Oa-ja,nb=sa+ja,Mb=Oa+ja,ja*=ja);for(;zc=$b.pop();)if(!(!(Gc=zc.node)||(ua=zc.x0)>nb||(Ta=zc.y0)>Mb||(eb=zc.x1)<U||(lb=zc.y1)<ka))if(Gc.length){zc=(ua+eb)/2;var Bc=(Ta+lb)/2;$b.push(new t(Gc[3],zc,Bc,eb,lb),new t(Gc[2],ua,Bc,zc,lb),new t(Gc[1],zc,Ta,eb,Bc),new t(Gc[0],ua,Ta,zc,Bc));if(Gc=(Oa>=
Bc)<<1|sa>=zc)zc=$b[$b.length-1],$b[$b.length-1]=$b[$b.length-1-Gc],$b[$b.length-1-Gc]=zc}else if(zc=sa-+this._x.call(null,Gc.data),Bc=Oa-+this._y.call(null,Gc.data),zc=zc*zc+Bc*Bc,zc<ja){var uc=Math.sqrt(ja=zc);U=sa-uc;ka=Oa-uc;nb=sa+uc;Mb=Oa+uc;uc=Gc.data}return uc};Z.remove=function(sa){if(isNaN(lb=+this._x.call(null,sa))||isNaN(nb=+this._y.call(null,sa)))return this;var Oa,ja=this._root,U,ka=this._x0,ua=this._y0,Ta=this._x1,eb=this._y1,lb,nb,Mb,$b,Gc,zc,Bc;if(!ja)return this;if(ja.length)for(;;){(Gc=
lb>=(Mb=(ka+Ta)/2))?ka=Mb:Ta=Mb;(zc=nb>=($b=(ua+eb)/2))?ua=$b:eb=$b;if(!(Oa=ja,ja=ja[Bc=zc<<1|Gc]))return this;if(!ja.length)break;if(Oa[Bc+1&3]||Oa[Bc+2&3]||Oa[Bc+3&3]){var uc=Oa;var id=Bc}}for(;ja.data!==sa;)if(!(U=ja,ja=ja.next))return this;(sa=ja.next)&&delete ja.next;if(U)return sa?U.next=sa:delete U.next,this;if(!Oa)return this._root=sa,this;sa?Oa[Bc]=sa:delete Oa[Bc];(ja=Oa[0]||Oa[1]||Oa[2]||Oa[3])&&ja===(Oa[3]||Oa[2]||Oa[1]||Oa[0])&&!ja.length&&(uc?uc[id]=ja:this._root=ja);return this};Z.removeAll=
function(sa){for(var Oa=0,ja=sa.length;Oa<ja;++Oa)this.remove(sa[Oa]);return this};Z.root=function(){return this._root};Z.size=function(){var sa=0;this.visit(function(Oa){if(!Oa.length){do++sa;while(Oa=Oa.next)}});return sa};Z.visit=function(sa){var Oa=[],ja,U=this._root,ka,ua,Ta,eb,lb;for(U&&Oa.push(new t(U,this._x0,this._y0,this._x1,this._y1));ja=Oa.pop();)if(!sa(U=ja.node,ua=ja.x0,Ta=ja.y0,eb=ja.x1,lb=ja.y1)&&U.length){ja=(ua+eb)/2;var nb=(Ta+lb)/2;(ka=U[3])&&Oa.push(new t(ka,ja,nb,eb,lb));(ka=
U[2])&&Oa.push(new t(ka,ua,nb,ja,lb));(ka=U[1])&&Oa.push(new t(ka,ja,Ta,eb,nb));(ka=U[0])&&Oa.push(new t(ka,ua,Ta,ja,nb))}return this};Z.visitAfter=function(sa){var Oa=[],ja=[],U;for(this._root&&Oa.push(new t(this._root,this._x0,this._y0,this._x1,this._y1));U=Oa.pop();){var ka=U.node;if(ka.length){var ua,Ta=U.x0,eb=U.y0,lb=U.x1,nb=U.y1,Mb=(Ta+lb)/2,$b=(eb+nb)/2;(ua=ka[0])&&Oa.push(new t(ua,Ta,eb,Mb,$b));(ua=ka[1])&&Oa.push(new t(ua,Mb,eb,lb,$b));(ua=ka[2])&&Oa.push(new t(ua,Ta,$b,Mb,nb));(ua=ka[3])&&
Oa.push(new t(ua,Mb,$b,lb,nb))}ja.push(U)}for(;U=ja.pop();)sa(U.node,U.x0,U.y0,U.x1,U.y1);return this};Z.x=function(sa){return arguments.length?(this._x=sa,this):this._x};Z.y=function(sa){return arguments.length?(this._y=sa,this):this._y};var Aa={value:()=>{}};I.prototype=G.prototype={constructor:I,on:function(sa,Oa){var ja=this._,U=F(sa+"",ja),ka,ua=-1,Ta=U.length;if(2>arguments.length)for(;++ua<Ta;){var eb;if(eb=ka=(sa=U[ua]).type){a:{eb=ja[ka];for(var lb=0,nb=eb.length;lb<nb;++lb)if((ka=eb[lb]).name===
sa.name){ka=ka.value;break a}ka=void 0}eb=ka}if(eb)return ka}else{if(null!=Oa&&"function"!==typeof Oa)throw Error("invalid callback: "+Oa);for(;++ua<Ta;)if(ka=(sa=U[ua]).type)ja[ka]=C(ja[ka],sa.name,Oa);else if(null==Oa)for(ka in ja)ja[ka]=C(ja[ka],sa.name,null);return this}},copy:function(){var sa={},Oa=this._,ja;for(ja in Oa)sa[ja]=Oa[ja].slice();return new I(sa)},call:function(sa,Oa){if(0<(ka=arguments.length-2))for(var ja=Array(ka),U=0,ka,ua;U<ka;++U)ja[U]=arguments[U+2];if(!this._.hasOwnProperty(sa))throw Error("unknown type: "+
sa);ua=this._[sa];U=0;for(ka=ua.length;U<ka;++U)ua[U].value.apply(Oa,ja)},apply:function(sa,Oa,ja){if(!this._.hasOwnProperty(sa))throw Error("unknown type: "+sa);sa=this._[sa];for(var U=0,ka=sa.length;U<ka;++U)sa[U].value.apply(Oa,ja)}};var qa=0,la=0,Ja=0,bb,ib,Ma=0,ma=0,Fa=0,Ra="object"===typeof performance&&performance.now?performance:Date,ra="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(sa){setTimeout(sa,17)};y.prototype=K.prototype={constructor:y,
restart:function(sa,Oa,ja){if("function"!==typeof sa)throw new TypeError("callback is not a function");ja=(null==ja?ma||(ra(r),ma=Ra.now()+Fa):+ja)+(null==Oa?0:+Oa);this._next||ib===this||(ib?ib._next=this:bb=this,ib=this);this._call=sa;this._time=ja;ca()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ca())}};var ya=Math.PI*(3-Math.sqrt(5));const oa={center:function(sa,Oa){function ja(){var ua,Ta=U.length,eb=0,lb=0;for(ua=0;ua<Ta;++ua){var nb=U[ua];eb+=nb.x;lb+=nb.y}eb=(eb/Ta-sa)*
ka;lb=(lb/Ta-Oa)*ka;for(ua=0;ua<Ta;++ua)nb=U[ua],nb.x-=eb,nb.y-=lb}var U,ka=1;null==sa&&(sa=0);null==Oa&&(Oa=0);ja.initialize=function(ua){U=ua};ja.x=function(ua){return arguments.length?(sa=+ua,ja):sa};ja.y=function(ua){return arguments.length?(Oa=+ua,ja):Oa};ja.strength=function(ua){return arguments.length?(ka=+ua,ja):ka};return ja},collide:function(sa){function Oa(){function nb(dc,Wb,mc,Kc,Fc){var Sc=dc.data;dc=dc.r;var jd=id+dc;if(Sc)Sc.index>zc.index&&(Wb=Bc-Sc.x-Sc.vx,mc=uc-Sc.y-Sc.vy,Kc=Wb*
Wb+mc*mc,Kc<jd*jd&&(0===Wb&&(Wb=1E-6*(Ta()-.5),Kc+=Wb*Wb),0===mc&&(mc=1E-6*(Ta()-.5),Kc+=mc*mc),Kc=(jd-(Kc=Math.sqrt(Kc)))/Kc*eb,zc.vx+=(Wb*=Kc)*(jd=(dc*=dc)/(Hb+dc)),zc.vy+=(mc*=Kc)*jd,Sc.vx-=Wb*(jd=1-jd),Sc.vy-=mc*jd));else return Wb>Bc+jd||Kc<Bc-jd||mc>uc+jd||Fc<uc-jd}for(var Mb,$b=ka.length,Gc,zc,Bc,uc,id,Hb,Ab=0;Ab<lb;++Ab)for(Gc=b(ka,m,h).visitAfter(ja),Mb=0;Mb<$b;++Mb)zc=ka[Mb],id=ua[zc.index],Hb=id*id,Bc=zc.x+zc.vx,uc=zc.y+zc.vy,Gc.visit(nb)}function ja(nb){if(nb.data)return nb.r=ua[nb.data.index];
for(var Mb=nb.r=0;4>Mb;++Mb)nb[Mb]&&nb[Mb].r>nb.r&&(nb.r=nb[Mb].r)}function U(){if(ka){var nb,Mb=ka.length;ua=Array(Mb);for(nb=0;nb<Mb;++nb){var $b=ka[nb];ua[$b.index]=+sa($b,nb,ka)}}}var ka,ua,Ta,eb=1,lb=1;"function"!==typeof sa&&(sa=g(null==sa?1:+sa));Oa.initialize=function(nb,Mb){ka=nb;Ta=Mb;U()};Oa.iterations=function(nb){return arguments.length?(lb=+nb,Oa):lb};Oa.strength=function(nb){return arguments.length?(eb=+nb,Oa):eb};Oa.radius=function(nb){return arguments.length?(sa="function"===typeof nb?
nb:g(+nb),U(),Oa):sa};return Oa},nbody:function(){function sa(zc){var Bc=ka.length,uc=b(ka,aa,Y).visitAfter(ja);eb=zc;for(zc=0;zc<Bc;++zc)ua=ka[zc],uc.visit(U)}function Oa(){if(ka){var zc,Bc=ka.length;nb=Array(Bc);for(zc=0;zc<Bc;++zc){var uc=ka[zc];nb[uc.index]=+lb(uc,zc,ka)}}}function ja(zc){var Bc=0,uc,id,Hb=0,Ab,dc,Wb;if(zc.length){for(Ab=dc=Wb=0;4>Wb;++Wb)(uc=zc[Wb])&&(id=Math.abs(uc.value))&&(Bc+=uc.value,Hb+=id,Ab+=id*uc.x,dc+=id*uc.y);zc.x=Ab/Hb;zc.y=dc/Hb}else{uc=zc;uc.x=uc.data.x;uc.y=uc.data.y;
do Bc+=nb[uc.data.index];while(uc=uc.next)}zc.value=Bc}function U(zc,Bc,uc,id){if(!zc.value)return!0;uc=zc.x-ua.x;var Hb=zc.y-ua.y;Bc=id-Bc;id=uc*uc+Hb*Hb;if(Bc*Bc/Gc<id)return id<$b&&(0===uc&&(uc=1E-6*(Ta()-.5),id+=uc*uc),0===Hb&&(Hb=1E-6*(Ta()-.5),id+=Hb*Hb),id<Mb&&(id=Math.sqrt(Mb*id)),ua.vx+=uc*zc.value*eb/id,ua.vy+=Hb*zc.value*eb/id),!0;if(!(zc.length||id>=$b)){if(zc.data!==ua||zc.next)0===uc&&(uc=1E-6*(Ta()-.5),id+=uc*uc),0===Hb&&(Hb=1E-6*(Ta()-.5),id+=Hb*Hb),id<Mb&&(id=Math.sqrt(Mb*id));do zc.data!==
ua&&(Bc=nb[zc.data.index]*eb/id,ua.vx+=uc*Bc,ua.vy+=Hb*Bc);while(zc=zc.next)}}var ka,ua,Ta,eb,lb=g(-30),nb,Mb=1,$b=Infinity,Gc=.81;sa.initialize=function(zc,Bc){ka=zc;Ta=Bc;Oa()};sa.strength=function(zc){return arguments.length?(lb="function"===typeof zc?zc:g(+zc),Oa(),sa):lb};sa.distanceMin=function(zc){return arguments.length?(Mb=zc*zc,sa):Math.sqrt(Mb)};sa.distanceMax=function(zc){return arguments.length?($b=zc*zc,sa):Math.sqrt($b)};sa.theta=function(zc){return arguments.length?(Gc=zc*zc,sa):Math.sqrt(Gc)};
return sa},link:function(sa){function Oa(uc){for(var id=0,Hb=sa.length;id<Bc;++id)for(var Ab=0,dc,Wb,mc,Kc,Fc;Ab<Hb;++Ab)dc=sa[Ab],Wb=dc.source,dc=dc.target,mc=dc.x+dc.vx-Wb.x-Wb.vx||1E-6*(zc()-.5),Kc=dc.y+dc.vy-Wb.y-Wb.vy||1E-6*(zc()-.5),Fc=Math.sqrt(mc*mc+Kc*Kc),Fc=(Fc-nb[Ab])/Fc*uc*eb[Ab],mc*=Fc,Kc*=Fc,dc.vx-=mc*(Fc=Gc[Ab]),dc.vy-=Kc*Fc,Wb.vx+=mc*(Fc=1-Fc),Wb.vy+=Kc*Fc}function ja(){if(Mb){var uc=Mb.length,id=sa.length,Hb=new Map(Mb.map((dc,Wb)=>[ua(dc,Wb,Mb),dc]));var Ab=0;for($b=Array(uc);Ab<
id;++Ab)uc=sa[Ab],uc.index=Ab,"object"!==typeof uc.source&&(uc.source=O(Hb,uc.source)),"object"!==typeof uc.target&&(uc.target=O(Hb,uc.target)),$b[uc.source.index]=($b[uc.source.index]||0)+1,$b[uc.target.index]=($b[uc.target.index]||0)+1;Ab=0;for(Gc=Array(id);Ab<id;++Ab)uc=sa[Ab],Gc[Ab]=$b[uc.source.index]/($b[uc.source.index]+$b[uc.target.index]);eb=Array(id);U();nb=Array(id);ka()}}function U(){if(Mb)for(var uc=0,id=sa.length;uc<id;++uc)eb[uc]=+Ta(sa[uc],uc,sa)}function ka(){if(Mb)for(var uc=0,id=
sa.length;uc<id;++uc)nb[uc]=+lb(sa[uc],uc,sa)}var ua=x,Ta=function(uc){return 1/Math.min($b[uc.source.index],$b[uc.target.index])},eb,lb=g(30),nb,Mb,$b,Gc,zc,Bc=1;null==sa&&(sa=[]);Oa.initialize=function(uc,id){Mb=uc;zc=id;ja()};Oa.links=function(uc){return arguments.length?(sa=uc,ja(),Oa):sa};Oa.id=function(uc){return arguments.length?(ua=uc,Oa):ua};Oa.iterations=function(uc){return arguments.length?(Bc=+uc,Oa):Bc};Oa.strength=function(uc){return arguments.length?(Ta="function"===typeof uc?uc:g(+uc),
U(),Oa):Ta};Oa.distance=function(uc){return arguments.length?(lb="function"===typeof uc?uc:g(+uc),ka(),Oa):lb};return Oa},x:function(sa){function Oa(eb){for(var lb=0,nb=ka.length,Mb;lb<nb;++lb)Mb=ka[lb],Mb.vx+=(Ta[lb]-Mb.x)*ua[lb]*eb}function ja(){if(ka){var eb,lb=ka.length;ua=Array(lb);Ta=Array(lb);for(eb=0;eb<lb;++eb)ua[eb]=isNaN(Ta[eb]=+sa(ka[eb],eb,ka))?0:+U(ka[eb],eb,ka)}}var U=g(.1),ka,ua,Ta;"function"!==typeof sa&&(sa=g(null==sa?0:+sa));Oa.initialize=function(eb){ka=eb;ja()};Oa.strength=function(eb){return arguments.length?
(U="function"===typeof eb?eb:g(+eb),ja(),Oa):U};Oa.x=function(eb){return arguments.length?(sa="function"===typeof eb?eb:g(+eb),ja(),Oa):sa};return Oa},y:function(sa){function Oa(eb){for(var lb=0,nb=ka.length,Mb;lb<nb;++lb)Mb=ka[lb],Mb.vy+=(Ta[lb]-Mb.y)*ua[lb]*eb}function ja(){if(ka){var eb,lb=ka.length;ua=Array(lb);Ta=Array(lb);for(eb=0;eb<lb;++eb)ua[eb]=isNaN(Ta[eb]=+sa(ka[eb],eb,ka))?0:+U(ka[eb],eb,ka)}}var U=g(.1),ka,ua,Ta;"function"!==typeof sa&&(sa=g(null==sa?0:+sa));Oa.initialize=function(eb){ka=
eb;ja()};Oa.strength=function(eb){return arguments.length?(U="function"===typeof eb?eb:g(+eb),ja(),Oa):U};Oa.y=function(eb){return arguments.length?(sa="function"===typeof eb?eb:g(+eb),ja(),Oa):sa};return Oa}},xa=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Ua=["static","iterations"],fb=["x","y","vx","vy"];Ga.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean","default":!1},{name:"restart",type:"boolean","default":!1},{name:"iterations",type:"number",
"default":300},{name:"alpha",type:"number","default":1},{name:"alphaMin",type:"number","default":.001},{name:"alphaTarget",type:"number","default":0},{name:"velocityDecay",type:"number","default":.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number","default":0},{name:"y",type:"number","default":0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number","default":.7},{name:"iterations",type:"number","default":1}]},
{key:{force:"nbody"},params:[{name:"strength",type:"number","default":-30},{name:"theta",type:"number","default":.9},{name:"distanceMin",type:"number","default":1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number","default":30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number","default":1}]},{key:{force:"x"},params:[{name:"strength",type:"number","default":.1},{name:"x",
type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number","default":.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,"default":fb}]};p.inherits(Ga,k.Transform,{transform(sa,Oa){var ja=this.value,U=Oa.changed(Oa.ADD_REM),ka=sa.modified(xa),ua=sa.iterations||300;ja?(U&&(Oa.modifies("index"),ja.nodes(Oa.source)),(ka||Oa.changed(Oa.MOD))&&B(ja,sa,0,Oa)):(this.value=ja=D(Oa.source,sa),ja.on("tick",X(Oa.dataflow,this)),sa.static||(U=!0,ja.tick()),Oa.modifies("index"));
if(ka||U||sa.modified(Ua)||Oa.changed()&&sa.restart)if(ja.alpha(Math.max(ja.alpha(),sa.alpha||1)).alphaDecay(1-Math.pow(ja.alphaMin(),1/ua)),sa.static)for(ja.stop();0<=--ua;)ja.tick();else if(ja.stopped()&&ja.restart(),!U)return Oa.StopPropagation;return this.finish(sa,Oa)},finish(sa,Oa){const ja=Oa.dataflow;for(let eb=this._argops,lb=0,nb=eb.length,Mb;lb<nb;++lb)if(Mb=eb[lb],"forces"===Mb.name&&"link"===Mb.op._argval.force)for(var U=Mb.op._argops,ka=0,ua=U.length,Ta;ka<ua;++ka)if("links"===U[ka].name&&
(Ta=U[ka].op.source)){ja.pulse(Ta,ja.changeset().reflow());break}return Oa.reflow(sa.modified()).modifies(fb)}});w.force=Ga;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[34]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(Hb,Ab,dc){const Wb={};Hb.each(mc=>{const Kc=mc.data;dc(Kc)&&(Wb[Ab(Kc)]=mc)});Hb.lookup=Wb;return Hb}function t(Hb,Ab){return Hb.parent===Ab.parent?1:2}function n(Hb,Ab){return Hb+
Ab.x}function f(Hb,Ab){return Math.max(Hb,Ab.y)}function b(Hb){for(var Ab;Ab=Hb.children;)Hb=Ab[0];return Hb}function c(Hb){for(var Ab;Ab=Hb.children;)Hb=Ab[Ab.length-1];return Hb}function e(Hb){var Ab=0,dc=Hb.children,Wb=dc&&dc.length;if(Wb)for(;0<=--Wb;)Ab+=dc[Wb].value;else Ab=1;Hb.value=Ab}function g(Hb,Ab){Hb instanceof Map?(Hb=[void 0,Hb],void 0===Ab&&(Ab=h)):void 0===Ab&&(Ab=m);Hb=new G(Hb);for(var dc,Wb=[Hb],mc,Kc,Fc,Sc;dc=Wb.pop();)if((Kc=Ab(dc.data))&&(Sc=(Kc=Array.from(Kc)).length))for(dc.children=
Kc,Fc=Sc-1;0<=Fc;--Fc)Wb.push(mc=Kc[Fc]=new G(Kc[Fc])),mc.parent=dc,mc.depth=dc.depth+1;return Hb.eachBefore(O)}function m(Hb){return Hb.children}function h(Hb){return Array.isArray(Hb)?Hb[1]:null}function x(Hb){void 0!==Hb.data.value&&(Hb.value=Hb.data.value);Hb.data=Hb.data.data}function O(Hb){var Ab=0;do Hb.height=Ab;while((Hb=Hb.parent)&&Hb.height<++Ab)}function G(Hb){this.data=Hb;this.depth=this.height=0;this.parent=null}function I(Hb,Ab){var dc=Hb.r-Ab.r,Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0>dc||
dc*dc<Wb*Wb+Hb*Hb}function F(Hb,Ab){var dc=Hb.r-Ab.r+1E-9*Math.max(Hb.r,Ab.r,1),Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0<dc&&dc*dc>Wb*Wb+Hb*Hb}function C(Hb,Ab){for(var dc=0;dc<Ab.length;++dc)if(!F(Hb,Ab[dc]))return!1;return!0}function r(Hb,Ab){var dc=Hb.x,Wb=Hb.y;Hb=Hb.r;var mc=Ab.x,Kc=Ab.y;Ab=Ab.r;var Fc=mc-dc,Sc=Kc-Wb,jd=Ab-Hb,$d=Math.sqrt(Fc*Fc+Sc*Sc);return{x:(dc+mc+Fc/$d*jd)/2,y:(Wb+Kc+Sc/$d*jd)/2,r:($d+Hb+Ab)/2}}function y(Hb,Ab,dc){var Wb=Hb.x,mc=Hb.y;Hb=Hb.r;var Kc=Ab.x,Fc=Ab.y,Sc=Ab.r,jd=dc.x,
$d=dc.y,Ba=dc.r;dc=Wb-Kc;Ab=Wb-jd;var va=mc-Fc,Ca=mc-$d,$a=Sc-Hb,jb=Ba-Hb,yb=Wb*Wb+mc*mc-Hb*Hb;Fc=yb-Kc*Kc-Fc*Fc+Sc*Sc;$d=yb-jd*jd-$d*$d+Ba*Ba;jd=Ab*va-dc*Ca;Kc=(va*$d-Ca*Fc)/(2*jd)-Wb;va=(Ca*$a-va*jb)/jd;Ca=(Ab*Fc-dc*$d)/(2*jd)-mc;dc=(dc*jb-Ab*$a)/jd;Ab=va*va+dc*dc-1;$a=2*(Hb+Kc*va+Ca*dc);Hb=Kc*Kc+Ca*Ca-Hb*Hb;Hb=-(Ab?($a+Math.sqrt($a*$a-4*Ab*Hb))/(2*Ab):Hb/$a);return{x:Wb+Kc+va*Hb,y:mc+Ca+dc*Hb,r:Hb}}function K(Hb,Ab,dc){var Wb=Hb.x-Ab.x,mc=Hb.y-Ab.y,Kc=Wb*Wb+mc*mc;if(Kc){var Fc=Ab.r+dc.r;Fc*=Fc;
var Sc=Hb.r+dc.r;Sc*=Sc;if(Fc>Sc){var jd=(Kc+Sc-Fc)/(2*Kc);Fc=Math.sqrt(Math.max(0,Sc/Kc-jd*jd));dc.x=Hb.x-jd*Wb-Fc*mc;dc.y=Hb.y-jd*mc+Fc*Wb}else jd=(Kc+Fc-Sc)/(2*Kc),Fc=Math.sqrt(Math.max(0,Fc/Kc-jd*jd)),dc.x=Ab.x+jd*Wb-Fc*mc,dc.y=Ab.y+jd*mc+Fc*Wb}else dc.x=Ab.x+dc.r,dc.y=Ab.y}function R(Hb,Ab){var dc=Hb.r+Ab.r-1E-6,Wb=Ab.x-Hb.x;Hb=Ab.y-Hb.y;return 0<dc&&dc*dc>Wb*Wb+Hb*Hb}function S(Hb){var Ab=Hb._,dc=Hb.next._,Wb=Ab.r+dc.r;Hb=(Ab.x*dc.r+dc.x*Ab.r)/Wb;Ab=(Ab.y*dc.r+dc.y*Ab.r)/Wb;return Hb*Hb+Ab*
Ab}function ca(Hb){this._=Hb;this.previous=this.next=null}function M(Hb){if(!(dc=(Hb="object"===typeof Hb&&"length"in Hb?Hb:Array.from(Hb)).length))return 0;var Ab,dc;var Wb=Hb[0];Wb.x=0;Wb.y=0;if(!(1<dc))return Wb.r;var mc=Hb[1];Wb.x=-mc.r;mc.x=Wb.r;mc.y=0;if(!(2<dc))return Wb.r+mc.r;K(mc,Wb,Ab=Hb[2]);Wb=new ca(Wb);mc=new ca(mc);Ab=new ca(Ab);Wb.next=Ab.previous=mc;mc.next=Wb.previous=Ab;Ab.next=mc.previous=Wb;var Kc=3;a:for(;Kc<dc;++Kc){K(Wb._,mc._,Ab=Hb[Kc]);Ab=new ca(Ab);var Fc=mc.next;var Sc=
Wb.previous;var jd=mc._.r;var $d=Wb._.r;do if(jd<=$d){if(R(Fc._,Ab._)){mc=Fc;Wb.next=mc;mc.previous=Wb;--Kc;continue a}jd+=Fc._.r;Fc=Fc.next}else{if(R(Sc._,Ab._)){Wb=Sc;Wb.next=mc;mc.previous=Wb;--Kc;continue a}$d+=Sc._.r;Sc=Sc.previous}while(Fc!==Sc.next);Ab.previous=Wb;Ab.next=mc;Wb.next=mc.previous=mc=Ab;for(Fc=S(Wb);(Ab=Ab.next)!==mc;)(Sc=S(Ab))<Fc&&(Wb=Ab,Fc=Sc);mc=Wb.next}Wb=[mc._];for(Ab=mc;(Ab=Ab.next)!==mc;)Wb.push(Ab._);Ab=0;Wb=Array.from(Wb);for(mc=Wb.length;mc;)Fc=Math.random()*mc--|0,
Kc=Wb[mc],Wb[mc]=Wb[Fc],Wb[Fc]=Kc;mc=Wb.length;Kc=[];for(var Ba;Ab<mc;)if(Fc=Wb[Ab],Ba&&F(Ba,Fc))++Ab;else{a:if(Ba=Kc,C(Fc,Ba))Ba=[Fc];else{for(Kc=0;Kc<Ba.length;++Kc)if(I(Fc,Ba[Kc])&&C(r(Ba[Kc],Fc),Ba)){Ba=[Ba[Kc],Fc];break a}for(Kc=0;Kc<Ba.length-1;++Kc)for(Ab=Kc+1;Ab<Ba.length;++Ab)if(I(r(Ba[Kc],Ba[Ab]),Fc)&&I(r(Ba[Kc],Fc),Ba[Ab])&&I(r(Ba[Ab],Fc),Ba[Kc])&&C(y(Ba[Kc],Ba[Ab],Fc),Ba)){Ba=[Ba[Kc],Ba[Ab],Fc];break a}throw Error();}a:{Ba=Kc=Ba;switch(Ba.length){case 1:Ba=Ba[0];Ba={x:Ba.x,y:Ba.y,r:Ba.r};
break a;case 2:Ba=r(Ba[0],Ba[1]);break a;case 3:Ba=y(Ba[0],Ba[1],Ba[2]);break a}Ba=void 0}Ab=0}Ab=Ba;for(Kc=0;Kc<dc;++Kc)Wb=Hb[Kc],Wb.x-=Ab.x,Wb.y-=Ab.y;return Ab.r}function aa(Hb){if("function"!==typeof Hb)throw Error();return Hb}function Y(){return 0}function ea(Hb){return function(){return Hb}}function Ga(Hb){return Math.sqrt(Hb.value)}function X(Hb){return function(Ab){Ab.children||(Ab.r=Math.max(0,+Hb(Ab)||0))}}function D(Hb,Ab){return function(dc){if(Wb=dc.children){var Wb,mc,Kc=Wb.length,Fc=
Hb(dc)*Ab||0;if(Fc)for(mc=0;mc<Kc;++mc)Wb[mc].r+=Fc;var Sc=M(Wb);if(Fc)for(mc=0;mc<Kc;++mc)Wb[mc].r-=Fc;dc.r=Sc+Fc}}}function B(Hb){return function(Ab){var dc=Ab.parent;Ab.r*=Hb;dc&&(Ab.x=dc.x+Hb*Ab.x,Ab.y=dc.y+Hb*Ab.y)}}function N(Hb){Hb.x0=Math.round(Hb.x0);Hb.y0=Math.round(Hb.y0);Hb.x1=Math.round(Hb.x1);Hb.y1=Math.round(Hb.y1)}function Z(Hb,Ab,dc,Wb,mc){var Kc=Hb.children,Fc=-1,Sc=Kc.length;for(Wb=Hb.value&&(Wb-Ab)/Hb.value;++Fc<Sc;)Hb=Kc[Fc],Hb.y0=dc,Hb.y1=mc,Hb.x0=Ab,Hb.x1=Ab+=Hb.value*Wb}function Aa(Hb){return Hb.id}
function qa(Hb){return Hb.parentId}function la(){function Hb(mc){var Kc=Array.from(mc),Fc=Ab,Sc=dc,jd,$d,Ba=new Map;if(null!=Wb){const Ub=Kc.map((Vb,Ic)=>{Vb=Wb(Vb,Ic,mc);Vb=`${Vb}`;Ic=Vb.length;bb(Vb,Ic-1)&&!bb(Vb,Ic-2)&&(Vb=Vb.slice(0,-1));return"/"===Vb[0]?Vb:`/${Vb}`}),Tb=Ub.map(Ja);Fc=(new Set(Ub)).add("");for($a of Tb)Fc.has($a)||(Fc.add($a),Ub.push($a),Tb.push(Ja($a)),Kc.push(nb));Fc=(Vb,Ic)=>Ub[Ic];Sc=(Vb,Ic)=>Tb[Ic]}var va=0;for(jd=Kc.length;va<jd;++va){var Ca=Kc[va];var $a=Kc[va]=new G(Ca);
if(null!=($d=Fc(Ca,va,mc))&&($d+="")){var jb=$a.id=$d;Ba.set(jb,Ba.has(jb)?lb:$a)}null!=($d=Sc(Ca,va,mc))&&($d+="")&&($a.parent=$d)}for(va=0;va<jd;++va)if($a=Kc[va],$d=$a.parent){Fc=Ba.get($d);if(!Fc)throw Error("missing: "+$d);if(Fc===lb)throw Error("ambiguous: "+$d);Fc.children?Fc.children.push($a):Fc.children=[$a];$a.parent=Fc}else{if(yb)throw Error("multiple roots");var yb=$a}if(!yb)throw Error("no root");if(null!=Wb){for(;yb.data===nb&&1===yb.children.length;)yb=yb.children[0],--jd;for($d=Kc.length-
1;0<=$d;--$d){$a=Kc[$d];if($a.data!==nb)break;$a.data=null}}yb.parent=eb;yb.eachBefore(function(Ub){Ub.depth=Ub.parent.depth+1;--jd}).eachBefore(O);yb.parent=null;if(0<jd)throw Error("cycle");return yb}var Ab=Aa,dc=qa,Wb;Hb.id=function(mc){return arguments.length?(Ab=null==mc?null:aa(mc),Hb):Ab};Hb.parentId=function(mc){return arguments.length?(dc=null==mc?null:aa(mc),Hb):dc};Hb.path=function(mc){return arguments.length?(Wb=null==mc?null:aa(mc),Hb):Wb};return Hb}function Ja(Hb){let Ab=Hb.length;if(2>
Ab)return"";for(;1<--Ab&&!bb(Hb,Ab););return Hb.slice(0,Ab)}function bb(Hb,Ab){if("/"===Hb[Ab]){let dc=0;for(;0<Ab&&"\\"===Hb[--Ab];)++dc;if(0===(dc&1))return!0}return!1}function ib(Hb,Ab){return Hb.parent===Ab.parent?1:2}function Ma(Hb){var Ab=Hb.children;return Ab?Ab[0]:Hb.t}function ma(Hb){var Ab=Hb.children;return Ab?Ab[Ab.length-1]:Hb.t}function Fa(Hb,Ab){this._=Hb;this.A=this.children=this.parent=null;this.a=this;this.s=this.c=this.m=this.z=0;this.t=null;this.i=Ab}function Ra(Hb){Hb=new Fa(Hb,
0);for(var Ab,dc=[Hb],Wb,mc,Kc;Ab=dc.pop();)if(mc=Ab._.children)for(Ab.children=Array(Wb=mc.length),Kc=Wb-1;0<=Kc;--Kc)dc.push(Wb=Ab.children[Kc]=new Fa(mc[Kc],Kc)),Wb.parent=Ab;(Hb.parent=new Fa(null,0)).children=[Hb];return Hb}function ra(Hb,Ab,dc,Wb,mc){var Kc=Hb.children,Fc=-1,Sc=Kc.length;for(mc=Hb.value&&(mc-dc)/Hb.value;++Fc<Sc;)Hb=Kc[Fc],Hb.x0=Ab,Hb.x1=Wb,Hb.y0=dc,Hb.y1=dc+=Hb.value*mc}function ya(Hb,Ab,dc,Wb,mc,Kc){for(var Fc=[],Sc=Ab.children,jd,$d,Ba=jd=0,va=Sc.length,Ca,$a=Ab.value,jb,
yb,Ub,Tb,Vb,Ic;jd<va;){Ab=mc-dc;Ca=Kc-Wb;do jb=Sc[Ba++].value;while(!jb&&Ba<va);yb=Ub=jb;Ic=Math.max(Ca/Ab,Ab/Ca)/($a*Hb);Tb=jb*jb*Ic;for(Vb=Math.max(Ub/Tb,Tb/yb);Ba<va;++Ba){jb+=$d=Sc[Ba].value;$d<yb&&(yb=$d);$d>Ub&&(Ub=$d);Tb=jb*jb*Ic;Tb=Math.max(Ub/Tb,Tb/yb);if(Tb>Vb){jb-=$d;break}Vb=Tb}Fc.push(jd={value:jb,dice:Ab<Ca,children:Sc.slice(jd,Ba)});jd.dice?Z(jd,dc,Wb,mc,$a?Wb+=Ca*jb/$a:Kc):ra(jd,dc,Wb,$a?dc+=Ab*jb/$a:mc,Kc);$a-=jb;jd=Ba}return Fc}function oa(){function Hb(Ca){Ca.x0=Ca.y0=0;Ca.x1=mc;
Ca.y1=Kc;Ca.eachBefore(Ab);Fc=[0];Wb&&Ca.eachBefore(N);return Ca}function Ab(Ca){var $a=Fc[Ca.depth],jb=Ca.x0+$a,yb=Ca.y0+$a,Ub=Ca.x1-$a,Tb=Ca.y1-$a;Ub<jb&&(jb=Ub=(jb+Ub)/2);Tb<yb&&(yb=Tb=(yb+Tb)/2);Ca.x0=jb;Ca.y0=yb;Ca.x1=Ub;Ca.y1=Tb;Ca.children&&($a=Fc[Ca.depth+1]=Sc(Ca)/2,jb+=va(Ca)-$a,yb+=jd(Ca)-$a,Ub-=$d(Ca)-$a,Tb-=Ba(Ca)-$a,Ub<jb&&(jb=Ub=(jb+Ub)/2),Tb<yb&&(yb=Tb=(yb+Tb)/2),dc(Ca,jb,yb,Ub,Tb))}var dc=$b,Wb=!1,mc=1,Kc=1,Fc=[0],Sc=Y,jd=Y,$d=Y,Ba=Y,va=Y;Hb.round=function(Ca){return arguments.length?
(Wb=!!Ca,Hb):Wb};Hb.size=function(Ca){return arguments.length?(mc=+Ca[0],Kc=+Ca[1],Hb):[mc,Kc]};Hb.tile=function(Ca){return arguments.length?(dc=aa(Ca),Hb):dc};Hb.padding=function(Ca){return arguments.length?Hb.paddingInner(Ca).paddingOuter(Ca):Hb.paddingInner()};Hb.paddingInner=function(Ca){return arguments.length?(Sc="function"===typeof Ca?Ca:ea(+Ca),Hb):Sc};Hb.paddingOuter=function(Ca){return arguments.length?Hb.paddingTop(Ca).paddingRight(Ca).paddingBottom(Ca).paddingLeft(Ca):Hb.paddingTop()};
Hb.paddingTop=function(Ca){return arguments.length?(jd="function"===typeof Ca?Ca:ea(+Ca),Hb):jd};Hb.paddingRight=function(Ca){return arguments.length?($d="function"===typeof Ca?Ca:ea(+Ca),Hb):$d};Hb.paddingBottom=function(Ca){return arguments.length?(Ba="function"===typeof Ca?Ca:ea(+Ca),Hb):Ba};Hb.paddingLeft=function(Ca){return arguments.length?(va="function"===typeof Ca?Ca:ea(+Ca),Hb):va};return Hb}function xa(Hb){k.Transform.call(this,null,Hb)}function Ua(){function Hb(mc,Kc){if(Kc>=dc.length)return mc;
const Fc=mc.length,Sc=dc[Kc++],jd={},$d={};let Ba=-1,va,Ca,$a;for(;++Ba<Fc;)va=Sc(Ca=mc[Ba])+"",($a=jd[va])?$a.push(Ca):jd[va]=[Ca];for(va in jd)$d[va]=Hb(jd[va],Kc);return $d}function Ab(mc,Kc){if(++Kc>dc.length)return mc;const Fc=[];for(const Sc in mc)Fc.push({key:Sc,values:Ab(mc[Sc],Kc)});return Fc}const dc=[],Wb={entries:mc=>Ab(Hb(mc,0),0),key:mc=>(dc.push(mc),Wb)};return Wb}function fb(Hb){k.Transform.call(this,null,Hb)}function sa(Hb,Ab,dc){for(let Wb,mc=0,Kc=Ab.length;mc<Kc;++mc)if(Wb=Ab[mc],
Wb in dc)Hb[Wb](dc[Wb])}function Oa(Hb){fb.call(this,Hb)}function ja(Hb){fb.call(this,Hb)}function U(Hb){k.Transform.call(this,null,Hb)}function ka(Hb){fb.call(this,Hb)}function ua(Hb){k.Transform.call(this,[],Hb)}function Ta(Hb){fb.call(this,Hb)}G.prototype=g.prototype={constructor:G,count:function(){return this.eachAfter(e)},each:function(Hb,Ab){let dc=-1;for(const Wb of this)Hb.call(Ab,Wb,++dc,this);return this},eachAfter:function(Hb,Ab){for(var dc,Wb=[this],mc=[],Kc,Fc,Sc=-1;dc=Wb.pop();)if(mc.push(dc),
dc=dc.children)for(Kc=0,Fc=dc.length;Kc<Fc;++Kc)Wb.push(dc[Kc]);for(;dc=mc.pop();)Hb.call(Ab,dc,++Sc,this);return this},eachBefore:function(Hb,Ab){for(var dc,Wb=[this],mc,Kc=-1;dc=Wb.pop();)if(Hb.call(Ab,dc,++Kc,this),dc=dc.children)for(mc=dc.length-1;0<=mc;--mc)Wb.push(dc[mc]);return this},find:function(Hb,Ab){let dc=-1;for(const Wb of this)if(Hb.call(Ab,Wb,++dc,this))return Wb},sum:function(Hb){return this.eachAfter(function(Ab){for(var dc=+Hb(Ab.data)||0,Wb=Ab.children,mc=Wb&&Wb.length;0<=--mc;)dc+=
Wb[mc].value;Ab.value=dc})},sort:function(Hb){return this.eachBefore(function(Ab){Ab.children&&Ab.children.sort(Hb)})},path:function(Hb){var Ab=this;var dc=Ab;var Wb=Hb;if(dc!==Wb){var mc=dc.ancestors(),Kc=Wb.ancestors(),Fc=null;dc=mc.pop();for(Wb=Kc.pop();dc===Wb;)Fc=dc,dc=mc.pop(),Wb=Kc.pop();dc=Fc}for(Wb=[Ab];Ab!==dc;)Ab=Ab.parent,Wb.push(Ab);for(Ab=Wb.length;Hb!==dc;)Wb.splice(Ab,0,Hb),Hb=Hb.parent;return Wb},ancestors:function(){for(var Hb=this,Ab=[Hb];Hb=Hb.parent;)Ab.push(Hb);return Ab},descendants:function(){return Array.from(this)},
leaves:function(){var Hb=[];this.eachBefore(function(Ab){Ab.children||Hb.push(Ab)});return Hb},links:function(){var Hb=this,Ab=[];Hb.each(function(dc){dc!==Hb&&Ab.push({source:dc.parent,target:dc})});return Ab},copy:function(){return g(this).eachBefore(x)},[Symbol.iterator]:function*(){var Hb,Ab=[this],dc;do{var Wb=Ab.reverse();for(Ab=[];Hb=Wb.pop();)if(yield Hb,Hb=Hb.children){var mc=0;for(dc=Hb.length;mc<dc;++mc)Ab.push(Hb[mc])}}while(Ab.length)}};var eb={depth:-1},lb={},nb={};Fa.prototype=Object.create(G.prototype);
var Mb=(1+Math.sqrt(5))/2,$b=function dc(Ab){function Wb(mc,Kc,Fc,Sc,jd){ya(Ab,mc,Kc,Fc,Sc,jd)}Wb.ratio=function(mc){return dc(1<(mc=+mc)?mc:1)};return Wb}(Mb);Mb=function Wb(dc){function mc(Kc,Fc,Sc,jd,$d){if((Ba=Kc._squarify)&&Ba.ratio===dc)for(var Ba,va,Ca,$a=-1,jb,yb=Ba.length,Ub=Kc.value;++$a<yb;){Kc=Ba[$a];va=Kc.children;Ca=Kc.value=0;for(jb=va.length;Ca<jb;++Ca)Kc.value+=va[Ca].value;Kc.dice?Z(Kc,Fc,Sc,jd,Ub?Sc+=($d-Sc)*Kc.value/Ub:$d):ra(Kc,Fc,Sc,Ub?Fc+=(jd-Fc)*Kc.value/Ub:jd,$d);Ub-=Kc.value}else Kc._squarify=
Ba=ya(dc,Kc,Fc,Sc,jd,$d),Ba.ratio=dc}mc.ratio=function(Kc){return Wb(1<(Kc=+Kc)?Kc:1)};return mc}(Mb);xa.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Gc=dc=>dc.values;p.inherits(xa,k.Transform,{transform(dc,Wb){Wb.source||p.error("Nest transform requires an upstream data source.");var mc=dc.generate,Kc=dc.modified(),Fc=Wb.clone(),Sc=this.value;if(!Sc||Kc||Wb.changed())Sc&&Sc.each(jd=>{jd.children&&
k.isTuple(jd.data)&&Fc.rem.push(jd.data)}),this.value=Sc=g({values:p.array(dc.keys).reduce((jd,$d)=>{jd.key($d);return jd},Ua()).entries(Fc.source)},Gc),mc&&Sc.each(jd=>{jd.children&&(jd=k.ingest(jd.data),Fc.add.push(jd),Fc.source.push(jd))}),q(Sc,k.tupleid,k.tupleid);Fc.source.root=Sc;return Fc}});const zc=(dc,Wb)=>dc.parent===Wb.parent?1:2;p.inherits(fb,k.Transform,{transform(dc,Wb){Wb.source&&Wb.source.root||p.error(this.constructor.name+" transform requires a backing tree data source.");const mc=
this.layout(dc.method),Kc=this.fields,Fc=Wb.source.root,Sc=dc.as||Kc;dc.field?Fc.sum(dc.field):Fc.count();dc.sort&&Fc.sort(k.stableCompare(dc.sort,jd=>jd.data));sa(mc,this.params,dc);mc.separation&&mc.separation(!1!==dc.separation?zc:p.one);try{this.value=mc(Fc)}catch(jd){p.error(jd)}Fc.each(jd=>{const $d=jd.data,Ba=Kc.length-1;for(let va=0;va<Ba;++va)$d[Sc[va]]=jd[Kc[va]];$d[Sc[Ba]]=jd.children?jd.children.length:0});return Wb.reflow(dc.modified()).modifies(Sc).modifies("leaf")}});var Bc=["x","y",
"r","depth","children"];Oa.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"radius",type:"field","default":null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(Oa,fb,{layout:function(){function dc(Sc){Sc.x=mc/2;Sc.y=Kc/2;Wb?Sc.eachBefore(X(Wb)).eachAfter(D(Fc,.5)).eachBefore(B(1)):Sc.eachBefore(X(Ga)).eachAfter(D(Y,
1)).eachAfter(D(Fc,Sc.r/Math.min(mc,Kc))).eachBefore(B(Math.min(mc,Kc)/(2*Sc.r)));return Sc}var Wb=null,mc=1,Kc=1,Fc=Y;dc.radius=function(Sc){return arguments.length?(Wb=null==Sc?null:aa(Sc),dc):Wb};dc.size=function(Sc){return arguments.length?(mc=+Sc[0],Kc=+Sc[1],dc):[mc,Kc]};dc.padding=function(Sc){return arguments.length?(Fc="function"===typeof Sc?Sc:ea(+Sc),dc):Fc};return dc},params:["radius","size","padding"],fields:Bc});Bc="x0 y0 x1 y1 depth children".split(" ");ja.Definition={type:"Partition",
metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number","default":0},{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(ja,fb,{layout:function(){function dc(jd){var $d=jd.height+1;jd.x0=jd.y0=Fc;jd.x1=mc;jd.y1=Kc/$d;jd.eachBefore(Wb(Kc,$d));Sc&&jd.eachBefore(N);return jd}function Wb(jd,$d){return function(Ba){Ba.children&&
Z(Ba,Ba.x0,jd*(Ba.depth+1)/$d,Ba.x1,jd*(Ba.depth+2)/$d);var va=Ba.x0,Ca=Ba.y0,$a=Ba.x1-Fc,jb=Ba.y1-Fc;$a<va&&(va=$a=(va+$a)/2);jb<Ca&&(Ca=jb=(Ca+jb)/2);Ba.x0=va;Ba.y0=Ca;Ba.x1=$a;Ba.y1=jb}}var mc=1,Kc=1,Fc=0,Sc=!1;dc.round=function(jd){return arguments.length?(Sc=!!jd,dc):Sc};dc.size=function(jd){return arguments.length?(mc=+jd[0],Kc=+jd[1],dc):[mc,Kc]};dc.padding=function(jd){return arguments.length?(Fc=+jd,dc):Fc};return dc},params:["size","round","padding"],fields:Bc});U.Definition={type:"Stratify",
metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};p.inherits(U,k.Transform,{transform(dc,Wb){Wb.source||p.error("Stratify transform requires an upstream data source.");let mc=this.value;const Kc=dc.modified(),Fc=Wb.fork(Wb.ALL).materialize(Wb.SOURCE);Wb=!mc||Kc||Wb.changed(Wb.ADD_REM)||Wb.modified(dc.key.fields)||Wb.modified(dc.parentKey.fields);Fc.source=Fc.source.slice();Wb&&(mc=Fc.source.length?q(la().id(dc.key).parentId(dc.parentKey)(Fc.source),
dc.key,p.truthy):q(la()([{}]),dc.key,dc.key));Fc.source.root=this.value=mc;return Fc}});const uc={tidy:function(){function dc(Ba){var va=Ra(Ba);va.eachAfter(Wb);va.parent.m=-va.z;va.eachBefore(mc);if($d)Ba.eachBefore(Kc);else{var Ca=Ba,$a=Ba,jb=Ba;Ba.eachBefore(function(Vb){Vb.x<Ca.x&&(Ca=Vb);Vb.x>$a.x&&($a=Vb);Vb.depth>jb.depth&&(jb=Vb)});va=Ca===$a?1:Fc(Ca,$a)/2;var yb=va-Ca.x,Ub=Sc/($a.x+va+yb),Tb=jd/(jb.depth||1);Ba.eachBefore(function(Vb){Vb.x=(Vb.x+yb)*Ub;Vb.y=Vb.depth*Tb})}return Ba}function Wb(Ba){var va=
Ba.children,Ca=Ba.parent.children,$a=Ba.i?Ca[Ba.i-1]:null;if(va){for(var jb=0,yb=0,Ub=Ba.children,Tb=Ub.length,Vb;0<=--Tb;)Vb=Ub[Tb],Vb.z+=jb,Vb.m+=jb,jb+=Vb.s+(yb+=Vb.c);va=(va[0].z+va[va.length-1].z)/2;$a?(Ba.z=$a.z+Fc(Ba._,$a._),Ba.m=Ba.z-va):Ba.z=va}else $a&&(Ba.z=$a.z+Fc(Ba._,$a._));va=Ba.parent;Ca=Ba.parent.A||Ca[0];if($a){yb=jb=Ba;Ub=jb.parent.children[0];Tb=jb.m;Vb=yb.m;for(var Ic=$a.m,$c=Ub.m,dd;$a=ma($a),jb=Ma(jb),$a&&jb;){Ub=Ma(Ub);yb=ma(yb);yb.a=Ba;dd=$a.z+Ic-jb.z-Tb+Fc($a._,jb._);if(0<
dd){var nd=$a.a.parent===Ba.parent?$a.a:Ca,xd=Ba,Nd=dd,Xd=Nd/(xd.i-nd.i);xd.c-=Xd;xd.s+=Nd;nd.c+=Xd;xd.z+=Nd;xd.m+=Nd;Tb+=dd;Vb+=dd}Ic+=$a.m;Tb+=jb.m;$c+=Ub.m;Vb+=yb.m}$a&&!ma(yb)&&(yb.t=$a,yb.m+=Ic-Vb);jb&&!Ma(Ub)&&(Ub.t=jb,Ub.m+=Tb-$c,Ca=Ba)}va.A=Ca}function mc(Ba){Ba._.x=Ba.z+Ba.parent.m;Ba.m+=Ba.parent.m}function Kc(Ba){Ba.x*=Sc;Ba.y=Ba.depth*jd}var Fc=ib,Sc=1,jd=1,$d=null;dc.separation=function(Ba){return arguments.length?(Fc=Ba,dc):Fc};dc.size=function(Ba){return arguments.length?($d=!1,Sc=
+Ba[0],jd=+Ba[1],dc):$d?null:[Sc,jd]};dc.nodeSize=function(Ba){return arguments.length?($d=!0,Sc=+Ba[0],jd=+Ba[1],dc):$d?[Sc,jd]:null};return dc},cluster:function(){function dc(Sc){var jd,$d=0;Sc.eachAfter(function(jb){var yb=jb.children;if(yb){var Ub=yb.reduce(n,0)/yb.length;jb.x=Ub;jb.y=1+yb.reduce(f,0)}else jb.x=jd?$d+=Wb(jb,jd):0,jb.y=0,jd=jb});var Ba=b(Sc),va=c(Sc),Ca=Ba.x-Wb(Ba,va)/2,$a=va.x+Wb(va,Ba)/2;return Sc.eachAfter(Fc?function(jb){jb.x=(jb.x-Sc.x)*mc;jb.y=(Sc.y-jb.y)*Kc}:function(jb){jb.x=
(jb.x-Ca)/($a-Ca)*mc;jb.y=(1-(Sc.y?jb.y/Sc.y:1))*Kc})}var Wb=t,mc=1,Kc=1,Fc=!1;dc.separation=function(Sc){return arguments.length?(Wb=Sc,dc):Wb};dc.size=function(Sc){return arguments.length?(Fc=!1,mc=+Sc[0],Kc=+Sc[1],dc):Fc?null:[mc,Kc]};dc.nodeSize=function(Sc){return arguments.length?(Fc=!0,mc=+Sc[0],Kc=+Sc[1],dc):Fc?[mc,Kc]:null};return dc}};Bc=["x","y","depth","children"];ka.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean","default":!0},{name:"as",type:"string",array:!0,length:Bc.length,"default":Bc}]};p.inherits(ka,fb,{layout(dc){dc=dc||"tidy";if(p.hasOwnProperty(uc,dc))return uc[dc]();p.error("Unrecognized Tree layout method: "+dc)},params:["size","nodeSize"],fields:Bc});ua.Definition={type:"TreeLinks",metadata:{tree:!0,
generates:!0,changes:!0},params:[]};p.inherits(ua,k.Transform,{transform(dc,Wb){dc=this.value;const mc=Wb.source&&Wb.source.root,Kc=Wb.fork(Wb.NO_SOURCE),Fc={};mc||p.error("TreeLinks transform requires a tree data source.");Wb.changed(Wb.ADD_REM)?(Kc.rem=dc,Wb.visit(Wb.SOURCE,Sc=>Fc[k.tupleid(Sc)]=1),mc.each(Sc=>{const jd=Sc.data;(Sc=Sc.parent&&Sc.parent.data)&&Fc[k.tupleid(jd)]&&Fc[k.tupleid(Sc)]&&Kc.add.push(k.ingest({source:Sc,target:jd}))}),this.value=Kc.add):Wb.changed(Wb.MOD)&&(Wb.visit(Wb.MOD,
Sc=>Fc[k.tupleid(Sc)]=1),dc.forEach(Sc=>{(Fc[k.tupleid(Sc.source)]||Fc[k.tupleid(Sc.target)])&&Kc.mod.push(Sc)}));return Kc}});const id={binary:function(dc,Wb,mc,Kc,Fc){function Sc($a,jb,yb,Ub,Tb,Vb,Ic){if($a>=jb-1)$a=jd[$a],$a.x0=Ub,$a.y0=Tb,$a.x1=Vb,$a.y1=Ic;else{for(var $c=Ca[$a],dd=yb/2+$c,nd=$a+1,xd=jb-1;nd<xd;){var Nd=nd+xd>>>1;Ca[Nd]<dd?nd=Nd+1:xd=Nd}dd-Ca[nd-1]<Ca[nd]-dd&&$a+1<nd&&--nd;$c=Ca[nd]-$c;dd=yb-$c;Vb-Ub>Ic-Tb?(yb=yb?(Ub*dd+Vb*$c)/yb:Vb,Sc($a,nd,$c,Ub,Tb,yb,Ic),Sc(nd,jb,dd,yb,Tb,
Vb,Ic)):(yb=yb?(Tb*dd+Ic*$c)/yb:Ic,Sc($a,nd,$c,Ub,Tb,Vb,yb),Sc(nd,jb,dd,Ub,yb,Vb,Ic))}}var jd=dc.children,$d,Ba=jd.length,va,Ca=Array(Ba+1);for(Ca[0]=va=$d=0;$d<Ba;++$d)Ca[$d+1]=va+=jd[$d].value;Sc(0,Ba,dc.value,Wb,mc,Kc,Fc)},dice:Z,slice:ra,slicedice:function(dc,Wb,mc,Kc,Fc){(dc.depth&1?ra:Z)(dc,Wb,mc,Kc,Fc)},squarify:$b,resquarify:Mb};Mb="x0 y0 x1 y1 depth children".split(" ");Ta.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},
{name:"method",type:"enum","default":"squarify",values:"squarify resquarify binary dice slice slicedice".split(" ")},{name:"padding",type:"number","default":0},{name:"paddingInner",type:"number","default":0},{name:"paddingOuter",type:"number","default":0},{name:"paddingTop",type:"number","default":0},{name:"paddingRight",type:"number","default":0},{name:"paddingBottom",type:"number","default":0},{name:"paddingLeft",type:"number","default":0},{name:"ratio",type:"number","default":1.618033988749895},
{name:"round",type:"boolean","default":!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:Mb.length,"default":Mb}]};p.inherits(Ta,fb,{layout(){const dc=oa();dc.ratio=Wb=>{const mc=dc.tile();mc.ratio&&dc.tile(mc.ratio(Wb))};dc.method=Wb=>{p.hasOwnProperty(id,Wb)?dc.tile(id[Wb]):p.error("Unrecognized Treemap layout method: "+Wb)};return dc},params:"method ratio size round padding paddingInner paddingOuter paddingTop paddingRight paddingBottom paddingLeft".split(" "),
fields:Mb});w.nest=xa;w.pack=Oa;w.partition=ja;w.stratify=U;w.tree=ka;w.treelinks=ua;w.treemap=Ta;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[35]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(28),L(26),L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-scenegraph","vega-canvas","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t){function n(X,D){const B=X.bitmap();(D||[]).forEach(N=>B.set(X(N.boundary[0]),X(N.boundary[3])));return[B,
void 0]}function f(X,D,B,N,Z){const Aa=X.width,qa=X.height;N=N||Z;const la=p.canvas(Aa,qa).getContext("2d");var Ja=p.canvas(Aa,qa).getContext("2d"),bb=N&&p.canvas(Aa,qa).getContext("2d");B.forEach(xa=>b(la,xa,!1));b(Ja,D,!1);N&&b(bb,D,!0);D=new Uint32Array(la.getImageData(0,0,Aa,qa).data.buffer);B=new Uint32Array(Ja.getImageData(0,0,Aa,qa).data.buffer);bb=N&&new Uint32Array(bb.getImageData(0,0,Aa,qa).data.buffer);Ja=X.bitmap();const ib=N&&X.bitmap();let Ma,ma;let Fa,Ra,ra,ya;for(ma=0;ma<qa;++ma)for(Ma=
0;Ma<Aa;++Ma){var oa=ma*Aa+Ma;Ra=D[oa]&4278190080;ya=B[oa]&4278190080;ra=N&&bb[oa]&4278190080;if(Ra||ra||ya)oa=X(Ma),Fa=X(ma),Z||!Ra&&!ya||Ja.set(oa,Fa),N&&(Ra||ra)&&ib.set(oa,Fa)}return[Ja,ib]}function b(X,D,B){if(D.length){var N=D[0].mark.marktype;"group"===N?D.forEach(Z=>{Z.items.forEach(Aa=>b(X,Aa.items,B))}):k.Marks[N].draw(X,{items:B?D.map(c):D})}}function c(X){X=q.rederive(X,{});return X.stroke&&0!==X.strokeOpacity||X.fill&&0!==X.fillOpacity?Object.assign({},X,{strokeOpacity:1,stroke:"#000",
fillOpacity:0}):X}function e(X,D){const B=new Uint32Array(~~((X*D+32)/32));return{array:B,get:(N,Z)=>{N=Z*X+N;return B[N>>>5]&1<<(N&31)},set:(N,Z)=>{N=Z*X+N;B[N>>>5]|=1<<(N&31)},clear:(N,Z)=>{N=Z*X+N;B[N>>>5]&=~(1<<(N&31))},getRange:(N,Z,Aa,qa)=>{let la,Ja,bb;for(;qa>=Z;--qa){var ib=qa*X+N;la=qa*X+Aa;Ja=ib>>>5;bb=la>>>5;if(Ja===bb){if(B[Ja]&y[ib&31]&K[(la&31)+1])return!0}else{if(B[Ja]&y[ib&31]||B[bb]&K[(la&31)+1])return!0;for(ib=Ja+1;ib<bb;++ib)if(B[ib])return!0}}return!1},setRange:(N,Z,Aa,qa)=>{let la,
Ja,bb;for(;Z<=qa;++Z){var ib=Z*X+N;la=Z*X+Aa;Ja=ib>>>5;bb=la>>>5;if(Ja===bb)B[Ja]|=y[ib&31]&K[(la&31)+1];else for(B[Ja]|=y[ib&31],B[bb]|=K[(la&31)+1],ib=Ja+1;ib<bb;++ib)B[ib]|=4294967295}},clearRange:(N,Z,Aa,qa)=>{let la,Ja,bb;for(;Z<=qa;++Z){var ib=Z*X+N;la=Z*X+Aa;Ja=ib>>>5;bb=la>>>5;if(Ja===bb)B[Ja]&=K[ib&31]|y[(la&31)+1];else for(B[Ja]&=K[ib&31],B[bb]&=y[(la&31)+1],ib=Ja+1;ib<bb;++ib)B[ib]&=0}},outOfBounds:(N,Z,Aa,qa)=>0>N||0>Z||qa>=D||Aa>=X}}function g(X,D,B){const N=Math.max(1,Math.sqrt(X*D/
1E6)),Z=~~((X+2*B+N)/N),Aa=~~((D+2*B+N)/N),qa=la=>~~((la+B)/N);qa.invert=la=>la*N-B;qa.bitmap=()=>e(Z,Aa);qa.ratio=N;qa.padding=B;qa.width=X;qa.height=D;return qa}function m(X,D,B,N,Z,Aa){B/=2;return 0>X-B||X+B>Z||0>D-(B=N/2)||D+B>Aa}function h(X,D,B,N,Z,Aa,qa,la){Z=Z*Aa/(2*N);N=X(D-Z);D=X(D+Z);Z=X(B-(Aa/=2));X=X(B+Aa);return qa.outOfBounds(N,Z,D,X)||qa.getRange(N,Z,D,X)||la&&la.getRange(N,Z,D,X)}function x(X,D,B,N){const Z=X.width,Aa=X.height,qa=D[0],la=D[1],Ja=N.length;return function(bb){const ib=
bb.boundary,Ma=bb.datum.fontSize;if(0>ib[2]||0>ib[5]||ib[0]>Z||ib[3]>Aa)return!1;var ma;let Fa=null!=(ma=bb.textWidth)?ma:0,Ra;let ra,ya;let oa;let xa;let Ua,fb;for(let Gc=0;Gc<Ja;++Gc){ma=(B[Gc]&3)-1;Ra=(B[Gc]>>>2&3)-1;var sa=0===ma&&0===Ra||0>N[Gc];var Oa=ma&&Ra?Math.SQRT1_2:1;ra=0>N[Gc]?-1:1;ya=ib[1+ma]+N[Gc]*ma*Oa;xa=ib[4+Ra]+ra*Ma*Ra/2+N[Gc]*Ra*Oa;Oa=xa-Ma/2;oa=xa+Ma/2;var ja=X(ya);Ua=X(Oa);fb=X(oa);if(!Fa){var U=ja;var ka=Ua;var ua=fb;var Ta=qa,eb=la,lb=sa;if(Ta.outOfBounds(U,ka,ja,ua)||(lb&&
eb||Ta).getRange(U,ka,ja,ua))continue;else Fa=k.textMetrics.width(bb.datum,bb.datum.text)}ka=ya+ra*Fa*ma/2;ya=ka-Fa/2;U=ka+Fa/2;ja=X(ya);ua=X(U);Ta=ja;eb=ua;lb=Ua;var nb=fb,Mb=qa,$b=la;if(!Mb.outOfBounds(Ta,lb,eb,nb)&&!(sa&&$b||Mb).getRange(Ta,lb,eb,nb))return bb.x=ma?0>ma*ra?U:ya:ka,bb.y=Ra?0>Ra*ra?oa:Oa:xa,bb.align=ca[ma*ra+1],bb.baseline=M[Ra*ra+1],qa.setRange(ja,Ua,ua,fb),!0}return!1}}function O(X,D,B,N,Z,Aa,qa,la,Ja,bb,ib){if(!X.length)return X;var Ma=Math.max(N.length,Z.length);const ma=G(N,
Ma);Z=I(Z,Ma);const Fa=F(X[0].datum);var Ra="group"===Fa&&X[0].datum.items[Ja].marktype;Ma="area"===Ra;const ra=C(Fa,Ra,la,Ja),ya=null===bb||Infinity===bb;Ra=Ma&&"naive"===ib;let oa=-1,xa=-1;la=X.map(sa=>{const Oa=ya?k.textMetrics.width(sa,sa.text):void 0;oa=Math.max(oa,Oa);xa=Math.max(xa,sa.fontSize);return{datum:sa,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:ra(sa),textWidth:Oa}});bb=null===bb||Infinity===bb?Math.max(oa,xa)+Math.max(...N):bb;D=g(D[0],D[1],bb);if(!Ra){B&&la.sort((sa,
Oa)=>B(sa.datum,Oa.datum));var Ua=!1;for(N=0;N<Z.length&&!Ua;++N)Ua=5===Z[N]||0>ma[N];X=(Fa&&qa||Ma)&&X.map(sa=>sa.datum);Ua=Aa.length||X?f(D,X||[],Aa,Ua,Ma):n(D,qa&&la)}const fb=Ma?Y[ib](D,Ua,qa,Ja):x(D,Ua,Z,ma);la.forEach(sa=>sa.opacity=+fb(sa));return la}function G(X,D){const B=new Float64Array(D),N=X.length;for(let Z=0;Z<N;++Z)B[Z]=X[Z]||0;for(X=N;X<D;++X)B[X]=B[N-1];return B}function I(X,D){const B=new Int8Array(D),N=X.length;for(let Z=0;Z<N;++Z)B[Z]|=aa[X[Z]];for(X=N;X<D;++X)B[X]=B[N-1];return B}
function F(X){return X&&X.mark&&X.mark.marktype}function C(X,D,B,N){const Z=Aa=>[Aa.x,Aa.x,Aa.x,Aa.y,Aa.y,Aa.y];return X?"line"===X||"area"===X?Aa=>Z(Aa.datum):"line"===D?Aa=>{Aa=Aa.datum.items[N].items;return Z(Aa.length?Aa["start"===B?0:Aa.length-1]:{x:NaN,y:NaN})}:Aa=>{Aa=Aa.datum.bounds;return[Aa.x1,(Aa.x1+Aa.x2)/2,Aa.x2,Aa.y1,(Aa.y1+Aa.y2)/2,Aa.y2]}:Z}function r(X){q.Transform.call(this,null,X)}const y=new Uint32Array(33),K=new Uint32Array(33);K[0]=0;y[0]=~K[0];for(let X=1;32>=X;++X)K[X]=K[X-
1]<<1|1,y[X]=~K[X];const R=[-1,-1,1,1],S=[-1,1,-1,1],ca=["right","center","left"],M=["bottom","middle","top"],aa={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},Y={naive:function(X,D,B,N){const Z=X.width,Aa=X.height;return function(qa){const la=qa.datum.datum.items[N].items,Ja=la.length,bb=qa.datum.fontSize,ib=k.textMetrics.width(qa.datum,qa.datum.text);let Ma=0;let ma,Fa,Ra,ra,ya;for(let xa=0;xa<Ja;++xa){var oa=la[xa].x;Fa=la[xa].y;ma=void 0===
la[xa].x2?oa:la[xa].x2;Ra=void 0===la[xa].y2?Fa:la[xa].y2;ra=(oa+ma)/2;ya=(Fa+Ra)/2;oa=Math.abs(ma-oa+Ra-Fa);oa>=Ma&&(Ma=oa,qa.x=ra,qa.y=ya)}ra=ib/2;ya=bb/2;oa=qa.x-ra;ma=qa.x+ra;Fa=qa.y-ya;Ra=qa.y+ya;qa.align="center";0>oa&&ma<=Z?qa.align="left":0<=oa&&Z<ma&&(qa.align="right");qa.baseline="middle";0>Fa&&Ra<=Aa?qa.baseline="top":0<=Fa&&Aa<Ra&&(qa.baseline="bottom");return!0}},"reduced-search":function(X,D,B,N){function Z(bb,ib,Ma,ma,Fa){bb=X.invert(bb);ib=X.invert(ib);let Ra=Ma,ra=qa,ya;if(!m(bb,
ib,ma,Fa,Aa,qa)&&!h(X,bb,ib,Fa,ma,Ra,la,Ja)&&!h(X,bb,ib,Fa,ma,Fa,la,null)){for(;1<=ra-Ra;)ya=(Ra+ra)/2,h(X,bb,ib,Fa,ma,ya,la,Ja)?ra=ya:Ra=ya;if(Ra>Ma)return[bb,ib,Ra,!0]}}const Aa=X.width,qa=X.height,la=D[0],Ja=D[1];return function(bb){const ib=bb.datum.datum.items[N].items,Ma=ib.length,ma=bb.datum.fontSize,Fa=k.textMetrics.width(bb.datum,bb.datum.text);let Ra=B?ma:0,ra=!1,ya=!1,oa=0;let xa;let Ua;let fb,sa,Oa,ja,U,ka,ua,Ta;for(let Mb=0;Mb<Ma;++Mb){var eb=ib[Mb].x;var lb=ib[Mb].y;xa=void 0===ib[Mb].x2?
eb:ib[Mb].x2;Ua=void 0===ib[Mb].y2?lb:ib[Mb].y2;if(eb>xa){var nb=eb;eb=xa;xa=nb}lb>Ua&&(nb=lb,lb=Ua,Ua=nb);sa=X(eb);ja=X(xa);Oa=~~((sa+ja)/2);U=X(lb);ua=X(Ua);ka=~~((U+ua)/2);for(nb=Oa;nb>=sa;--nb)for(fb=ka;fb>=U;--fb)(Ta=Z(nb,fb,Ra,Fa,ma))&&([bb.x,bb.y,Ra,ra]=Ta);for(nb=Oa;nb<=ja;++nb)for(fb=ka;fb<=ua;++fb)(Ta=Z(nb,fb,Ra,Fa,ma))&&([bb.x,bb.y,Ra,ra]=Ta);ra||B||(nb=Math.abs(xa-eb+Ua-lb),eb=(eb+xa)/2,lb=(lb+Ua)/2,nb>=oa&&!m(eb,lb,Fa,ma,Aa,qa)&&!h(X,eb,lb,ma,Fa,ma,la,null)&&(oa=nb,bb.x=eb,bb.y=lb,ya=
!0))}return ra||ya?(eb=Fa/2,lb=ma/2,la.setRange(X(bb.x-eb),X(bb.y-lb),X(bb.x+eb),X(bb.y+lb)),bb.align="center",bb.baseline="middle",!0):!1}},floodfill:function(X,D,B,N){const Z=X.width,Aa=X.height,qa=D[0],la=D[1],Ja=X.bitmap();return function(bb){const ib=bb.datum.datum.items[N].items,Ma=ib.length,ma=bb.datum.fontSize,Fa=k.textMetrics.width(bb.datum,bb.datum.text),Ra=[];let ra=B?ma:0,ya=!1,oa=!1,xa=0,Ua,fb,sa,Oa,ja,U;var ka;for(let eb=0;eb<Ma;++eb){Ua=ib[eb].x;sa=ib[eb].y;fb=void 0===ib[eb].x2?Ua:
ib[eb].x2;Oa=void 0===ib[eb].y2?sa:ib[eb].y2;for(Ra.push([X((Ua+fb)/2),X((sa+Oa)/2)]);Ra.length;)if([ua,Ta]=Ra.pop(),!(qa.get(ua,Ta)||la.get(ua,Ta)||Ja.get(ua,Ta))){Ja.set(ua,Ta);for(ka=0;4>ka;++ka)ja=ua+R[ka],U=Ta+S[ka],Ja.outOfBounds(ja,U,ja,U)||Ra.push([ja,U]);ja=X.invert(ua);U=X.invert(Ta);var ua=ra;var Ta=Aa;if(!m(ja,U,Fa,ma,Z,Aa)&&!h(X,ja,U,ma,Fa,ua,qa,la)&&!h(X,ja,U,ma,Fa,ma,qa,null)){for(;1<=Ta-ua;)ka=(ua+Ta)/2,h(X,ja,U,ma,Fa,ka,qa,la)?Ta=ka:ua=ka;ua>ra&&(bb.x=ja,bb.y=U,ra=ua,ya=!0)}}ya||
B||(ua=Math.abs(fb-Ua+Oa-sa),ja=(Ua+fb)/2,U=(sa+Oa)/2,ua>=xa&&!m(ja,U,Fa,ma,Z,Aa)&&!h(X,ja,U,ma,Fa,ma,qa,null)&&(xa=ua,bb.x=ja,bb.y=U,oa=!0))}return ya||oa?(ja=Fa/2,U=ma/2,qa.setRange(X(bb.x-ja),X(bb.y-U),X(bb.x+ja),X(bb.y+U)),bb.align="center",bb.baseline="middle",!0):!1}}},ea=["x","y","opacity","align","baseline"],Ga="top-left left bottom-left top bottom top-right right bottom-right".split(" ");r.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,
required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:Ga},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:ea.length,default:ea}]};
t.inherits(r,q.Transform,{transform(X,D){function B(Aa){Aa=X[Aa];return t.isFunction(Aa)&&D.modified(Aa.fields)}const N=X.modified();if(N||D.changed(D.ADD_REM)||B("sort")){X.size&&2===X.size.length||t.error("Size parameter should be specified as a [width, height] array.");var Z=X.as||ea;O(D.materialize(D.SOURCE).source||[],X.size,X.sort,t.array(null==X.offset?1:X.offset),t.array(X.anchor||Ga),X.avoidMarks||[],!1!==X.avoidBaseMark,X.lineAnchor||"end",X.markIndex||0,void 0===X.padding?0:X.padding,X.method||
"naive").forEach(Aa=>{const qa=Aa.datum;qa[Z[0]]=Aa.x;qa[Z[1]]=Aa.y;qa[Z[2]]=Aa.opacity;qa[Z[3]]=Aa.align;qa[Z[4]]=Aa.baseline});return D.reflow(N).modifies(Z)}}});w.label=r;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[36]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(24),L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-statistics","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega))})(this,function(w,k,p,q){function t(c,e){var g=[],m=function(C){return C(G)},h;if(null==e)g.push(c);else{var x={};var O=0;for(h=c.length;O<h;++O){var G=c[O];var I=e.map(m);var F=x[I];
F||(x[I]=F=[],F.dims=I,g.push(F));F.push(G)}}return g}function n(c){p.Transform.call(this,null,c)}function f(c){p.Transform.call(this,null,c)}n.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number","default":.3},{name:"as",type:"string",array:!0}]};q.inherits(n,p.Transform,{transform(c,e){const g=e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||
c.modified()){e=e.materialize(e.SOURCE).source;e=t(e,c.groupby);const m=(c.groupby||[]).map(q.accessorName),h=m.length,x=c.as||[q.accessorName(c.x),q.accessorName(c.y)],O=[];e.forEach(G=>{k.regressionLoess(G,c.x,c.y,c.bandwidth||.3).forEach(I=>{const F={};for(let C=0;C<h;++C)F[m[C]]=G.dims[C];F[x[0]]=I[0];F[x[1]]=I[1];O.push(p.ingest(F))})});this.value&&(g.rem=this.value);this.value=g.add=g.source=O}return g}});const b={linear:k.regressionLinear,log:k.regressionLog,exp:k.regressionExp,pow:k.regressionPow,
quad:k.regressionQuad,poly:k.regressionPoly};f.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string","default":"linear",values:Object.keys(b)},{name:"order",type:"number","default":3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean","default":!1},{name:"as",type:"string",array:!0}]};q.inherits(f,p.Transform,{transform(c,e){const g=
e.fork(e.NO_SOURCE|e.NO_FIELDS);if(!this.value||e.changed()||c.modified()){var m=e.materialize(e.SOURCE).source;m=t(m,c.groupby);const h=(c.groupby||[]).map(q.accessorName),x=c.method||"linear",O=c.order||3,G="poly"===x?O:"quad"===x?2:1,I=c.as||[q.accessorName(c.x),q.accessorName(c.y)],F=b[x],C=[];let r=c.extent;q.hasOwnProperty(b,x)||q.error("Invalid regression method: "+x);null!=r&&"log"===x&&0>=r[0]&&(e.dataflow.warn("Ignoring extent with values \x3c\x3d 0 for log regression."),r=null);m.forEach(y=>
{if(y.length<=G)e.dataflow.warn("Skipping regression with more parameters than data points.");else{var K=F(y,c.x,c.y,O);if(c.params)C.push(p.ingest({keys:y.dims,coef:K.coef,rSquared:K.rSquared}));else{var R=r||q.extent(y,c.x),S=ca=>{const M={};for(let aa=0;aa<h.length;++aa)M[h[aa]]=y.dims[aa];M[I[0]]=ca[0];M[I[1]]=ca[1];C.push(p.ingest(M))};"linear"===x?R.forEach(ca=>S([ca,K.predict(ca)])):k.sampleCurve(K.predict,R,25,200).forEach(S)}}});this.value&&(g.rem=this.value);this.value=g.add=g.source=C}return g}});
w.loess=n;w.regression=f;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[37]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(D,B,N,Z,Aa){let qa,la;let Ja=B[0],bb=Z[0],ib=0,Ma=0;bb>Ja===bb>-Ja?(qa=Ja,Ja=B[++ib]):(qa=bb,bb=Z[++Ma]);let ma=0;if(ib<D&&Ma<N){if(bb>Ja===bb>-Ja){la=
Ja+qa;var Fa=qa-(la-Ja);Ja=B[++ib]}else la=bb+qa,Fa=qa-(la-bb),bb=Z[++Ma];qa=la;for(0!==Fa&&(Aa[ma++]=Fa);ib<D&&Ma<N;)bb>Ja===bb>-Ja?(la=qa+Ja,Fa=la-qa,Fa=qa-(la-Fa)+(Ja-Fa),Ja=B[++ib]):(la=qa+bb,Fa=la-qa,Fa=qa-(la-Fa)+(bb-Fa),bb=Z[++Ma]),qa=la,0!==Fa&&(Aa[ma++]=Fa)}for(;ib<D;)la=qa+Ja,Fa=la-qa,Fa=qa-(la-Fa)+(Ja-Fa),Ja=B[++ib],qa=la,0!==Fa&&(Aa[ma++]=Fa);for(;Ma<N;)la=qa+bb,Fa=la-qa,Fa=qa-(la-Fa)+(bb-Fa),bb=Z[++Ma],qa=la,0!==Fa&&(Aa[ma++]=Fa);if(0!==qa||0===ma)Aa[ma++]=qa;return ma}function t(D,B,
N,Z,Aa,qa){var la=(B-qa)*(N-Aa),Ja=(D-Aa)*(Z-qa),bb=la-Ja;if(0===la||0===Ja||0<la!==0<Ja)return bb;la=Math.abs(la+Ja);if(Math.abs(bb)>=3.3306690738754716E-16*la)return bb;{let ya;bb=D-Aa;const oa=N-Aa;Ja=B-qa;const xa=Z-qa;var ib=bb*xa;var Ma=134217729*bb;var ma=Ma-(Ma-bb);var Fa=bb-ma;Ma=134217729*xa;Ma-=Ma-xa;ya=xa-Ma;var Ra=Fa*ya-(ib-ma*Ma-Fa*Ma-ma*ya);var ra=Ja*oa;Ma=134217729*Ja;ma=Ma-(Ma-Ja);Fa=Ja-ma;Ma=134217729*oa;Ma-=Ma-oa;ya=oa-Ma;Ma=Fa*ya-(ra-ma*Ma-Fa*Ma-ma*ya);Fa=Ra-Ma;ma=Ra-Fa;I[0]=Ra-
(Fa+ma)+(ma-Ma);Ra=ib+Fa;ma=Ra-ib;ib=ib-(Ra-ma)+(Fa-ma);Fa=ib-ra;ma=ib-Fa;I[1]=ib-(Fa+ma)+(ma-ra);ra=Ra+Fa;ma=ra-Ra;I[2]=Ra-(ra-ma)+(Fa-ma);I[3]=ra;ra=I[0];for(ib=1;4>ib;ib++)ra+=I[ib];ib=2.2204460492503146E-16*la;ra>=ib||-ra>=ib?Z=ra:(ma=D-bb,D=D-(bb+ma)+(ma-Aa),ma=N-oa,N=N-(oa+ma)+(ma-Aa),ma=B-Ja,B=B-(Ja+ma)+(ma-qa),ma=Z-xa,Z=Z-(xa+ma)+(ma-qa),0===D&&0===B&&0===N&&0===Z?Z=ra:(ib=1.1093356479670487E-31*la+3.3306690738754706E-16*Math.abs(ra),ra+=bb*Z+xa*D-(Ja*N+oa*B),ra>=ib||-ra>=ib?Z=ra:(ib=D*xa,
Ma=134217729*D,ma=Ma-(Ma-D),Fa=D-ma,Ma=134217729*xa,Ma-=Ma-xa,ya=xa-Ma,Ra=Fa*ya-(ib-ma*Ma-Fa*Ma-ma*ya),ra=B*oa,Ma=134217729*B,ma=Ma-(Ma-B),Fa=B-ma,Ma=134217729*oa,Ma-=Ma-oa,ya=oa-Ma,Ma=Fa*ya-(ra-ma*Ma-Fa*Ma-ma*ya),Fa=Ra-Ma,ma=Ra-Fa,y[0]=Ra-(Fa+ma)+(ma-Ma),Ra=ib+Fa,ma=Ra-ib,ib=ib-(Ra-ma)+(Fa-ma),Fa=ib-ra,ma=ib-Fa,y[1]=ib-(Fa+ma)+(ma-ra),ra=Ra+Fa,ma=ra-Ra,y[2]=Ra-(ra-ma)+(Fa-ma),y[3]=ra,qa=q(4,I,4,y,F),ib=bb*Z,Ma=134217729*bb,ma=Ma-(Ma-bb),Fa=bb-ma,Ma=134217729*Z,Ma-=Ma-Z,ya=Z-Ma,Ra=Fa*ya-(ib-ma*Ma-
Fa*Ma-ma*ya),ra=Ja*N,Ma=134217729*Ja,ma=Ma-(Ma-Ja),Fa=Ja-ma,Ma=134217729*N,Ma-=Ma-N,ya=N-Ma,Ma=Fa*ya-(ra-ma*Ma-Fa*Ma-ma*ya),Fa=Ra-Ma,ma=Ra-Fa,y[0]=Ra-(Fa+ma)+(ma-Ma),Ra=ib+Fa,ma=Ra-ib,ib=ib-(Ra-ma)+(Fa-ma),Fa=ib-ra,ma=ib-Fa,y[1]=ib-(Fa+ma)+(ma-ra),ra=Ra+Fa,ma=ra-Ra,y[2]=Ra-(ra-ma)+(Fa-ma),y[3]=ra,qa=q(qa,F,4,y,C),ib=D*Z,Ma=134217729*D,ma=Ma-(Ma-D),Fa=D-ma,Ma=134217729*Z,Ma-=Ma-Z,ya=Z-Ma,Ra=Fa*ya-(ib-ma*Ma-Fa*Ma-ma*ya),ra=B*N,Ma=134217729*B,ma=Ma-(Ma-B),Fa=B-ma,Ma=134217729*N,Ma-=Ma-N,ya=N-Ma,Ma=Fa*
ya-(ra-ma*Ma-Fa*Ma-ma*ya),Fa=Ra-Ma,ma=Ra-Fa,y[0]=Ra-(Fa+ma)+(ma-Ma),Ra=ib+Fa,ma=Ra-ib,ib=ib-(Ra-ma)+(Fa-ma),Fa=ib-ra,ma=ib-Fa,y[1]=ib-(Fa+ma)+(ma-ra),ra=Ra+Fa,ma=ra-Ra,y[2]=Ra-(ra-ma)+(Fa-ma),y[3]=ra,Z=q(qa,C,4,y,r),Z=r[Z-1])))}return-Z}function n(D,B,N,Z){D-=N;B-=Z;return D*D+B*B}function f(D,B,N,Z){if(20>=Z-N)for(var Aa=N+1;Aa<=Z;Aa++){for(var qa=D[Aa],la=B[qa],Ja=Aa-1;Ja>=N&&B[D[Ja]]>la;)D[Ja+1]=D[Ja--];D[Ja+1]=qa}else{Aa=N+1;qa=Z;b(D,N+Z>>1,Aa);B[D[N]]>B[D[Z]]&&b(D,N,Z);B[D[Aa]]>B[D[Z]]&&b(D,
Aa,Z);B[D[N]]>B[D[Aa]]&&b(D,N,Aa);la=D[Aa];for(Ja=B[la];;){do Aa++;while(B[D[Aa]]<Ja);do qa--;while(B[D[qa]]>Ja);if(qa<Aa)break;b(D,Aa,qa)}D[N+1]=D[qa];D[qa]=la;Z-Aa+1>=qa-N?(f(D,B,Aa,Z),f(D,B,N,qa-1)):(f(D,B,N,qa-1),f(D,B,Aa,Z))}}function b(D,B,N){const Z=D[B];D[B]=D[N];D[N]=Z}function c(D){return D[0]}function e(D){return D[1]}function g(D){return D[0]}function m(D){return D[1]}function h(D){const {triangles:B,coords:N}=D;for(D=0;D<B.length;D+=3){const Z=2*B[D],Aa=2*B[D+1],qa=2*B[D+2];if(1E-10<
(N[qa]-N[Z])*(N[Aa+1]-N[Z+1])-(N[Aa]-N[Z])*(N[qa+1]-N[Z+1]))return!1}return!0}function x(D,B,N){return[D+Math.sin(D+B)*N,B+Math.cos(D-B)*N]}function*O(D,B,N,Z){let Aa=0;for(const qa of D)yield B.call(Z,qa,Aa,D),yield N.call(Z,qa,Aa,D),++Aa}function G(D){k.Transform.call(this,null,D)}const I=new Float64Array(4),F=new Float64Array(8),C=new Float64Array(12),r=new Float64Array(16),y=new Float64Array(4),K=Math.pow(2,-52),R=new Uint32Array(512);class S{static from(D,B=c,N=e){const Z=D.length,Aa=new Float64Array(2*
Z);for(let qa=0;qa<Z;qa++){const la=D[qa];Aa[2*qa]=B(la);Aa[2*qa+1]=N(la)}return new S(Aa)}constructor(D){const B=D.length>>1;if(0<B&&"number"!==typeof D[0])throw Error("Expected coords to contain numbers.");this.coords=D;D=Math.max(2*B-5,0);this._triangles=new Uint32Array(3*D);this._halfedges=new Int32Array(3*D);this._hashSize=Math.ceil(Math.sqrt(B));this._hullPrev=new Uint32Array(B);this._hullNext=new Uint32Array(B);this._hullTri=new Uint32Array(B);this._hullHash=(new Int32Array(this._hashSize)).fill(-1);
this._ids=new Uint32Array(B);this._dists=new Float64Array(B);this.update()}update(){const {coords:D,_hullPrev:B,_hullNext:N,_hullTri:Z,_hullHash:Aa}=this;var qa=D.length>>1,la=Infinity,Ja=Infinity,bb=-Infinity,ib=-Infinity;for(var Ma=0;Ma<qa;Ma++){var ma=D[2*Ma];var Fa=D[2*Ma+1];ma<la&&(la=ma);Fa<Ja&&(Ja=Fa);ma>bb&&(bb=ma);Fa>ib&&(ib=Fa);this._ids[Ma]=Ma}bb=(la+bb)/2;Ja=(Ja+ib)/2;la=Infinity;for(ib=0;ib<qa;ib++)if(Ma=n(bb,Ja,D[2*ib],D[2*ib+1]),Ma<la){var Ra=ib;la=Ma}Ja=D[2*Ra];ib=D[2*Ra+1];la=Infinity;
for(bb=0;bb<qa;bb++)if(bb!==Ra&&(Ma=n(Ja,ib,D[2*bb],D[2*bb+1]),Ma<la&&0<Ma)){var ra=bb;la=Ma}la=D[2*ra];bb=D[2*ra+1];Fa=Infinity;for(Ma=0;Ma<qa;Ma++)if(Ma!==Ra&&Ma!==ra){ma=la-Ja;var ya=bb-ib;var oa=D[2*Ma]-Ja;var xa=D[2*Ma+1]-ib,Ua=ma*ma+ya*ya,fb=oa*oa+xa*xa,sa=.5/(ma*xa-ya*oa);ya=(xa*Ua-ya*fb)*sa;ma=(ma*fb-oa*Ua)*sa;ma=ya*ya+ma*ma;if(ma<Fa){var Oa=Ma;Fa=ma}}Ma=D[2*Oa];ma=D[2*Oa+1];if(Infinity===Fa){for(Ra=0;Ra<qa;Ra++)this._dists[Ra]=D[2*Ra]-D[0]||D[2*Ra+1]-D[1];f(this._ids,this._dists,0,qa-1);
Ra=new Uint32Array(qa);ra=0;for(let ja=0,U=-Infinity;ja<qa;ja++)Oa=this._ids[ja],this._dists[Oa]>U&&(Ra[ra++]=Oa,U=this._dists[Oa]);this.hull=Ra.subarray(0,ra);this.triangles=new Uint32Array(0);this.halfedges=new Uint32Array(0)}else{0>t(Ja,ib,la,bb,Ma,ma)&&(Fa=ra,oa=la,Ua=bb,ra=Oa,la=Ma,bb=ma,Oa=Fa,Ma=oa,ma=Ua);oa=la-Ja;Fa=bb-ib;Ua=Ma-Ja;xa=ma-ib;fb=oa*oa+Fa*Fa;sa=Ua*Ua+xa*xa;ya=.5/(oa*xa-Fa*Ua);Fa=Ja+(xa*fb-Fa*sa)*ya;oa=ib+(oa*sa-Ua*fb)*ya;this._cx=Fa;this._cy=oa;for(Ua=0;Ua<qa;Ua++)this._dists[Ua]=
n(D[2*Ua],D[2*Ua+1],Fa,oa);f(this._ids,this._dists,0,qa-1);this._hullStart=Ra;qa=3;N[Ra]=B[Oa]=ra;N[ra]=B[Ra]=Oa;N[Oa]=B[ra]=Ra;Z[Ra]=0;Z[ra]=1;Z[Oa]=2;Aa.fill(-1);Aa[this._hashKey(Ja,ib)]=Ra;Aa[this._hashKey(la,bb)]=ra;Aa[this._hashKey(Ma,ma)]=Oa;this.trianglesLen=0;this._addTriangle(Ra,ra,Oa,-1,-1,-1);for(let ja=0,U,ka;ja<this._ids.length;ja++){Ja=this._ids[ja];ib=D[2*Ja];la=D[2*Ja+1];if(0<ja&&Math.abs(ib-U)<=K&&Math.abs(la-ka)<=K)continue;U=ib;ka=la;if(Ja===Ra||Ja===ra||Ja===Oa)continue;bb=0;for(let Ta=
0,eb=this._hashKey(ib,la);Ta<this._hashSize&&(bb=Aa[(eb+Ta)%this._hashSize],-1===bb||bb===N[bb]);Ta++);Ma=bb=B[bb];let ua;for(;ua=N[Ma],0<=t(ib,la,D[2*Ma],D[2*Ma+1],D[2*ua],D[2*ua+1]);)if(Ma=ua,Ma===bb){Ma=-1;break}if(-1!==Ma){ma=this._addTriangle(Ma,Ja,N[Ma],-1,-1,Z[Ma]);Z[Ja]=this._legalize(ma+2);Z[Ma]=ma;qa++;for(Fa=N[Ma];ua=N[Fa],0>t(ib,la,D[2*Fa],D[2*Fa+1],D[2*ua],D[2*ua+1]);)ma=this._addTriangle(Fa,Ja,ua,Z[Ja],-1,Z[Fa]),Z[Ja]=this._legalize(ma+2),N[Fa]=Fa,qa--,Fa=ua;if(Ma===bb)for(;ua=B[Ma],
0>t(ib,la,D[2*ua],D[2*ua+1],D[2*Ma],D[2*Ma+1]);)ma=this._addTriangle(ua,Ja,Ma,-1,Z[Ma],Z[ua]),this._legalize(ma+2),Z[ua]=ma,N[Ma]=Ma,qa--,Ma=ua;this._hullStart=B[Ja]=Ma;N[Ma]=B[Fa]=Ja;N[Ja]=Fa;Aa[this._hashKey(ib,la)]=Ja;Aa[this._hashKey(D[2*Ma],D[2*Ma+1])]=Ma}}this.hull=new Uint32Array(qa);for(let ja=0,U=this._hullStart;ja<qa;ja++)this.hull[ja]=U,U=N[U];this.triangles=this._triangles.subarray(0,this.trianglesLen);this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}}_hashKey(D,B){var N=Math;
D-=this._cx;B-=this._cy;D/=Math.abs(D)+Math.abs(B);return N.floor.call(N,(0<B?3-D:1+D)/4*this._hashSize)%this._hashSize}_legalize(D){const {_triangles:B,_halfedges:N,coords:Z}=this;let Aa=0;for(var qa;;){const Fa=N[D];var la=D-D%3;qa=la+(D+2)%3;if(-1===Fa){if(0===Aa)break;D=R[--Aa];continue}const Ra=Fa-Fa%3,ra=Ra+(Fa+2)%3;var Ja=B[qa],bb=B[D],ib=B[la+(D+1)%3];la=B[ra];var Ma=Z[2*la],ma=Z[2*la+1];const ya=Z[2*Ja]-Ma,oa=Z[2*Ja+1]-ma,xa=Z[2*bb]-Ma;bb=Z[2*bb+1]-ma;Ma=Z[2*ib]-Ma;ma=Z[2*ib+1]-ma;ib=xa*
xa+bb*bb;const Ua=Ma*Ma+ma*ma;if(0>ya*(bb*Ua-ib*ma)-oa*(xa*Ua-ib*Ma)+(ya*ya+oa*oa)*(xa*ma-bb*Ma)){B[D]=la;B[Fa]=Ja;Ja=N[ra];if(-1===Ja){la=this._hullStart;do{if(this._hullTri[la]===ra){this._hullTri[la]=D;break}la=this._hullPrev[la]}while(la!==this._hullStart)}this._link(D,Ja);this._link(Fa,N[qa]);this._link(qa,ra);qa=Ra+(Fa+1)%3;Aa<R.length&&(R[Aa++]=qa)}else{if(0===Aa)break;D=R[--Aa]}}return qa}_link(D,B){this._halfedges[D]=B;-1!==B&&(this._halfedges[B]=D)}_addTriangle(D,B,N,Z,Aa,qa){const la=this.trianglesLen;
this._triangles[la]=D;this._triangles[la+1]=B;this._triangles[la+2]=N;this._link(la,Z);this._link(la+1,Aa);this._link(la+2,qa);this.trianglesLen+=3;return la}}class ca{constructor(){this._x0=this._y0=this._x1=this._y1=null;this._=""}moveTo(D,B){this._+=`M${this._x0=this._x1=+D},${this._y0=this._y1=+B}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(D,B){this._+=`L${this._x1=+D},${this._y1=+B}`}arc(D,B,N){D=+D;B=+B;N=+N;const Z=D+N,Aa=B;if(0>N)throw Error("negative radius");
if(null===this._x1)this._+=`M${Z},${Aa}`;else if(1E-6<Math.abs(this._x1-Z)||1E-6<Math.abs(this._y1-Aa))this._+="L"+Z+","+Aa;N&&(this._+=`A${N},${N},0,1,1,${D-N},${B}A${N},${N},0,1,1,${this._x1=Z},${this._y1=Aa}`)}rect(D,B,N,Z){this._+=`M${this._x0=this._x1=+D},${this._y0=this._y1=+B}h${+N}v${+Z}h${-N}Z`}value(){return this._||null}}class M{constructor(){this._=[]}moveTo(D,B){this._.push([D,B])}closePath(){this._.push(this._[0].slice())}lineTo(D,B){this._.push([D,B])}value(){return this._.length?this._:
null}}class aa{constructor(D,[B,N,Z,Aa]=[0,0,960,500]){if(!((Z=+Z)>=(B=+B)&&(Aa=+Aa)>=(N=+N)))throw Error("invalid bounds");this.delaunay=D;this._circumcenters=new Float64Array(2*D.points.length);this.vectors=new Float64Array(2*D.points.length);this.xmax=Z;this.xmin=B;this.ymax=Aa;this.ymin=N;this._init()}update(){this.delaunay.update();this._init();return this}_init(){const {delaunay:{points:D,hull:B,triangles:N},vectors:Z}=this;var Aa=this.circumcenters=this._circumcenters.subarray(0,N.length/3*
2);for(let ra=0,ya=0,oa=N.length,xa,Ua;ra<oa;ra+=3,ya+=2){var qa=2*N[ra],la=2*N[ra+1],Ja=2*N[ra+2],bb=D[qa];qa=D[qa+1];var ib=D[Ja],Ma=D[Ja+1],ma=D[la]-bb,Fa=D[la+1]-qa;la=ib-bb;Ja=Ma-qa;var Ra=2*(ma*Ja-Fa*la);1E-9>Math.abs(Ra)?(ma=1E9,Fa=2*N[0],ma*=Math.sign((D[Fa]-bb)*Ja-(D[Fa+1]-qa)*la),xa=(bb+ib)/2-ma*Ja,Ua=(qa+Ma)/2+ma*la):(ib=1/Ra,Ma=ma*ma+Fa*Fa,Ra=la*la+Ja*Ja,xa=bb+(Ja*Ma-Fa*Ra)*ib,Ua=qa+(ma*Ra-la*Ma)*ib);Aa[ya]=xa;Aa[ya+1]=Ua}Aa=B[B.length-1];qa=4*Aa;Ja=D[2*Aa];ma=D[2*Aa+1];Z.fill(0);for(Ma=
0;Ma<B.length;++Ma)Aa=B[Ma],bb=qa,la=Ja,ib=ma,qa=4*Aa,Ja=D[2*Aa],ma=D[2*Aa+1],Z[bb+2]=Z[qa]=ib-ma,Z[bb+3]=Z[qa+1]=Ja-la}render(D){const B=null==D?D=new ca:void 0,{delaunay:{halfedges:N,inedges:Z,hull:Aa},circumcenters:qa,vectors:la}=this;if(1>=Aa.length)return null;for(let ma=0,Fa=N.length;ma<Fa;++ma){var Ja=N[ma];if(!(Ja<ma)){var bb=2*Math.floor(ma/3);Ja=2*Math.floor(Ja/3);this._renderSegment(qa[bb],qa[bb+1],qa[Ja],qa[Ja+1],D)}}bb=Aa[Aa.length-1];for(Ja=0;Ja<Aa.length;++Ja){var ib=bb;bb=Aa[Ja];var Ma=
2*Math.floor(Z[bb]/3);const ma=qa[Ma];Ma=qa[Ma+1];ib*=4;(ib=this._project(ma,Ma,la[ib+2],la[ib+3]))&&this._renderSegment(ma,Ma,ib[0],ib[1],D)}return B&&B.value()}renderBounds(D){const B=null==D?D=new ca:void 0;D.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin);return B&&B.value()}renderCell(D,B){const N=null==B?B=new ca:void 0;D=this._clip(D);if(null!==D&&D.length){B.moveTo(D[0],D[1]);for(var Z=D.length;D[0]===D[Z-2]&&D[1]===D[Z-1]&&1<Z;)Z-=2;for(let Aa=2;Aa<Z;Aa+=2)D[Aa]===D[Aa-
2]&&D[Aa+1]===D[Aa-1]||B.lineTo(D[Aa],D[Aa+1]);B.closePath();return N&&N.value()}}*cellPolygons(){var {delaunay:{points:D}}=this;for(let B=0,N=D.length/2;B<N;++B)if(D=this.cellPolygon(B))D.index=B,yield D}cellPolygon(D){const B=new M;this.renderCell(D,B);return B.value()}_renderSegment(D,B,N,Z,Aa){const qa=this._regioncode(D,B),la=this._regioncode(N,Z);if(0===qa&&0===la)Aa.moveTo(D,B),Aa.lineTo(N,Z);else if(D=this._clipSegment(D,B,N,Z,qa,la))Aa.moveTo(D[0],D[1]),Aa.lineTo(D[2],D[3])}contains(D,B,
N){return(B=+B,B!==B)||(N=+N,N!==N)?!1:this.delaunay._step(D,B,N)===D}*neighbors(D){const B=this._clip(D);if(B)for(const N of this.delaunay.neighbors(D))if(D=this._clip(N))a:for(let Z=0,Aa=B.length;Z<Aa;Z+=2)for(let qa=0,la=D.length;qa<la;qa+=2)if(B[Z]==D[qa]&&B[Z+1]==D[qa+1]&&B[(Z+2)%Aa]==D[(qa+la-2)%la]&&B[(Z+3)%Aa]==D[(qa+la-1)%la]){yield N;break a}}_cell(D){const {circumcenters:B,delaunay:{inedges:N,halfedges:Z,triangles:Aa}}=this,qa=N[D];if(-1===qa)return null;const la=[];let Ja=qa;do{const bb=
Math.floor(Ja/3);la.push(B[2*bb],B[2*bb+1]);Ja=2===Ja%3?Ja-2:Ja+1;if(Aa[Ja]!==D)break;Ja=Z[Ja]}while(Ja!==qa&&-1!==Ja);return la}_clip(D){if(0===D&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const B=this._cell(D);if(null===B)return null;const {vectors:N}=this,Z=4*D;return N[Z]||N[Z+1]?this._clipInfinite(D,B,N[Z],N[Z+1],N[Z+2],N[Z+3]):this._clipFinite(D,B)}_clipFinite(D,B){const N=B.length;let Z=null;let Aa=B[N-2],qa=B[N-1];
let la=this._regioncode(Aa,qa),Ja=0;for(let ma=0;ma<N;ma+=2){var bb=Aa;var ib=qa;Aa=B[ma];qa=B[ma+1];var Ma=la;la=this._regioncode(Aa,qa);if(0===Ma&&0===la)Ja=0,Z?Z.push(Aa,qa):Z=[Aa,qa];else{let Fa,Ra;if(0===Ma){if(null===(bb=this._clipSegment(bb,ib,Aa,qa,Ma,la)))continue;[ib,Ma,Fa,Ra]=bb}else{if(null===(bb=this._clipSegment(Aa,qa,bb,ib,la,Ma)))continue;[Fa,Ra,ib,Ma]=bb;bb=Ja;Ja=this._edgecode(ib,Ma);bb&&Ja&&this._edge(D,bb,Ja,Z,Z.length);Z?Z.push(ib,Ma):Z=[ib,Ma]}bb=Ja;Ja=this._edgecode(Fa,Ra);
bb&&Ja&&this._edge(D,bb,Ja,Z,Z.length);Z?Z.push(Fa,Ra):Z=[Fa,Ra]}}if(Z)bb=Ja,Ja=this._edgecode(Z[0],Z[1]),bb&&Ja&&this._edge(D,bb,Ja,Z,Z.length);else if(this.contains(D,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return Z}_clipSegment(D,B,N,Z,Aa,qa){for(;;){if(0===Aa&&0===qa)return[D,B,N,Z];if(Aa&qa)return null;var la=void 0;let Ja;la=Aa||qa;la&8?(la=D+(N-D)*(this.ymax-B)/(Z-B),Ja=this.ymax):la&4?(la=D+(N-
D)*(this.ymin-B)/(Z-B),Ja=this.ymin):la&2?(Ja=B+(Z-B)*(this.xmax-D)/(N-D),la=this.xmax):(Ja=B+(Z-B)*(this.xmin-D)/(N-D),la=this.xmin);Aa?(D=la,B=Ja,Aa=this._regioncode(D,B)):(N=la,Z=Ja,qa=this._regioncode(N,Z))}}_clipInfinite(D,B,N,Z,Aa,qa){B=Array.from(B);let la;(la=this._project(B[0],B[1],N,Z))&&B.unshift(la[0],la[1]);(la=this._project(B[B.length-2],B[B.length-1],Aa,qa))&&B.push(la[0],la[1]);if(B=this._clipFinite(D,B))for(let Ja=0,bb=B.length,ib,Ma=this._edgecode(B[bb-2],B[bb-1]);Ja<bb;Ja+=2)ib=
Ma,Ma=this._edgecode(B[Ja],B[Ja+1]),ib&&Ma&&(Ja=this._edge(D,ib,Ma,B,Ja),bb=B.length);else this.contains(D,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(B=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return B}_edge(D,B,N,Z,Aa){for(;B!==N;){let qa,la;switch(B){case 5:B=4;continue;case 4:B=6;qa=this.xmax;la=this.ymin;break;case 6:B=2;continue;case 2:B=10;qa=this.xmax;la=this.ymax;break;case 10:B=8;continue;case 8:B=9;qa=this.xmin;la=this.ymax;break;case 9:B=
1;continue;case 1:B=5,qa=this.xmin,la=this.ymin}Z[Aa]===qa&&Z[Aa+1]===la||!this.contains(D,qa,la)||(Z.splice(Aa,0,qa,la),Aa+=2)}if(4<Z.length)for(D=0;D<Z.length;D+=2)if(B=(D+2)%Z.length,N=(D+4)%Z.length,Z[D]===Z[B]&&Z[B]===Z[N]||Z[D+1]===Z[B+1]&&Z[B+1]===Z[N+1])Z.splice(B,2),D-=2;return Aa}_project(D,B,N,Z){let Aa=Infinity,qa,la,Ja;if(0>Z){if(B<=this.ymin)return null;(qa=(this.ymin-B)/Z)<Aa&&(Ja=this.ymin,la=D+(Aa=qa)*N)}else if(0<Z){if(B>=this.ymax)return null;(qa=(this.ymax-B)/Z)<Aa&&(Ja=this.ymax,
la=D+(Aa=qa)*N)}if(0<N){if(D>=this.xmax)return null;(qa=(this.xmax-D)/N)<Aa&&(la=this.xmax,Ja=B+qa*Z)}else if(0>N){if(D<=this.xmin)return null;(qa=(this.xmin-D)/N)<Aa&&(la=this.xmin,Ja=B+qa*Z)}return[la,Ja]}_edgecode(D,B){return(D===this.xmin?1:D===this.xmax?2:0)|(B===this.ymin?4:B===this.ymax?8:0)}_regioncode(D,B){return(D<this.xmin?1:D>this.xmax?2:0)|(B<this.ymin?4:B>this.ymax?8:0)}}const Y=2*Math.PI,ea=Math.pow;class Ga{static from(D,B=g,N=m,Z){if("length"in D){const Aa=D.length,qa=new Float64Array(2*
Aa);for(let la=0;la<Aa;++la){const Ja=D[la];qa[2*la]=B.call(Z,Ja,la,D);qa[2*la+1]=N.call(Z,Ja,la,D)}D=qa}else D=Float64Array.from(O(D,B,N,Z));return new Ga(D)}constructor(D){this._delaunator=new S(D);this.inedges=new Int32Array(D.length/2);this._hullIndex=new Int32Array(D.length/2);this.points=this._delaunator.coords;this._init()}update(){this._delaunator.update();this._init();return this}_init(){var D=this._delaunator;const B=this.points;if(D.hull&&2<D.hull.length&&h(D)){this.collinear=Int32Array.from({length:B.length/
2},(la,Ja)=>Ja).sort((la,Ja)=>B[2*la]-B[2*Ja]||B[2*la+1]-B[2*Ja+1]);D=this.collinear[0];var N=this.collinear[this.collinear.length-1];D=[B[2*D],B[2*D+1],B[2*N],B[2*N+1]];D=1E-8*Math.hypot(D[3]-D[1],D[2]-D[0]);for(let la=0,Ja=B.length/2;la<Ja;++la)N=x(B[2*la],B[2*la+1],D),B[2*la]=N[0],B[2*la+1]=N[1];this._delaunator=new S(B)}else delete this.collinear;D=this.halfedges=this._delaunator.halfedges;N=this.hull=this._delaunator.hull;const Z=this.triangles=this._delaunator.triangles,Aa=this.inedges.fill(-1),
qa=this._hullIndex.fill(-1);for(let la=0,Ja=D.length;la<Ja;++la){const bb=Z[2===la%3?la-2:la+1];if(-1===D[la]||-1===Aa[bb])Aa[bb]=la}for(let la=0,Ja=N.length;la<Ja;++la)qa[N[la]]=la;2>=N.length&&0<N.length&&(this.triangles=(new Int32Array(3)).fill(-1),this.halfedges=(new Int32Array(3)).fill(-1),this.triangles[0]=N[0],Aa[N[0]]=1,2===N.length&&(Aa[N[1]]=0,this.triangles[1]=N[1],this.triangles[2]=N[1]))}voronoi(D){return new aa(this,D)}*neighbors(D){const {inedges:B,hull:N,_hullIndex:Z,halfedges:Aa,
triangles:qa,collinear:la}=this;if(la){var Ja=la.indexOf(D);0<Ja&&(yield la[Ja-1]);Ja<la.length-1&&(yield la[Ja+1])}else{var bb=B[D];if(-1!==bb){var ib=bb;do{yield(Ja=qa[ib]);ib=2===ib%3?ib-2:ib+1;if(qa[ib]!==D)break;ib=Aa[ib];if(-1===ib){D=N[(Z[D]+1)%N.length];D!==Ja&&(yield D);break}}while(ib!==bb)}}}find(D,B,N=0){if((D=+D,D!==D)||(B=+B,B!==B))return-1;const Z=N;let Aa;for(;0<=(Aa=this._step(N,D,B))&&Aa!==N&&Aa!==Z;)N=Aa;return Aa}_step(D,B,N){const {inedges:Z,hull:Aa,_hullIndex:qa,halfedges:la,
triangles:Ja,points:bb}=this;if(-1===Z[D]||!bb.length)return(D+1)%(bb.length>>1);let ib=D,Ma=ea(B-bb[2*D],2)+ea(N-bb[2*D+1],2);const ma=Z[D];let Fa=ma;do{let Ra=Ja[Fa];const ra=ea(B-bb[2*Ra],2)+ea(N-bb[2*Ra+1],2);ra<Ma&&(Ma=ra,ib=Ra);Fa=2===Fa%3?Fa-2:Fa+1;if(Ja[Fa]!==D)break;Fa=la[Fa];if(-1===Fa){Fa=Aa[(qa[D]+1)%Aa.length];if(Fa!==Ra&&ea(B-bb[2*Fa],2)+ea(N-bb[2*Fa+1],2)<Ma)return Fa;break}}while(Fa!==ma);return ib}render(D){const B=null==D?D=new ca:void 0,{points:N,halfedges:Z,triangles:Aa}=this;
for(let la=0,Ja=Z.length;la<Ja;++la){var qa=Z[la];if(qa<la)continue;const bb=2*Aa[la];qa=2*Aa[qa];D.moveTo(N[bb],N[bb+1]);D.lineTo(N[qa],N[qa+1])}this.renderHull(D);return B&&B.value()}renderPoints(D,B){void 0!==B||D&&"function"===typeof D.moveTo||(B=D,D=null);B=void 0==B?2:+B;const N=null==D?D=new ca:void 0,{points:Z}=this;for(let Aa=0,qa=Z.length;Aa<qa;Aa+=2){const la=Z[Aa],Ja=Z[Aa+1];D.moveTo(la+B,Ja);D.arc(la,Ja,B,0,Y)}return N&&N.value()}renderHull(D){const B=null==D?D=new ca:void 0,{hull:N,
points:Z}=this;var Aa=2*N[0];const qa=N.length;D.moveTo(Z[Aa],Z[Aa+1]);for(Aa=1;Aa<qa;++Aa){const la=2*N[Aa];D.lineTo(Z[la],Z[la+1])}D.closePath();return B&&B.value()}hullPolygon(){const D=new M;this.renderHull(D);return D.value()}renderTriangle(D,B){const N=null==B?B=new ca:void 0,{points:Z,triangles:Aa}=this,qa=2*Aa[D*=3],la=2*Aa[D+1];D=2*Aa[D+2];B.moveTo(Z[qa],Z[qa+1]);B.lineTo(Z[la],Z[la+1]);B.lineTo(Z[D],Z[D+1]);B.closePath();return N&&N.value()}*trianglePolygons(){const {triangles:D}=this;for(let B=
0,N=D.length/3;B<N;++B)yield this.trianglePolygon(B)}trianglePolygon(D){const B=new M;this.renderTriangle(D,B);return B.value()}}G.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,"default":[[-1E5,-1E5],[1E5,1E5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string","default":"path"}]};const X=[-1E5,-1E5,1E5,1E5];
p.inherits(G,k.Transform,{transform(D,B){const N=D.as||"path",Z=B.source;if(!Z||!Z.length)return B;var Aa=D.size;Aa=Aa?[0,0,Aa[0],Aa[1]]:(Aa=D.extent)?[Aa[0][0],Aa[0][1],Aa[1][0],Aa[1][1]]:X;Aa=this.value=Ga.from(Z,D.x,D.y).voronoi(Aa);for(let Ja=0,bb=Z.length;Ja<bb;++Ja){var qa=Aa.cellPolygon(Ja),la=Z[Ja];if(qa){const ib=qa[0][0],Ma=qa[0][1];let ma=qa.length-1;for(;qa[ma][0]===ib&&qa[ma][1]===Ma;--ma);qa="M"+qa.slice(0,ma+1).join("L")+"Z"}else qa=null;la[N]=qa}return B.reflow(D.modified()).modifies(N)}});
w.voronoi=G;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[38]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(26),L(23),L(14),L(27),L(24)):"function"===typeof define&&define.amd?define("exports vega-canvas vega-dataflow vega-util vega-scale vega-statistics".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,n){function f(){function F(D){D.width=D.height=1;var B=Math.sqrt(D.getContext("2d").getImageData(0,
0,1,1).data.length>>2);D.width=2048/B;D.height=2048/B;D=D.getContext("2d");D.fillStyle=D.strokeStyle="red";D.textAlign="center";return{context:D,ratio:B}}function C(D,B,N){for(var Z=B.x,Aa=B.y,qa=Math.sqrt(r[0]*r[0]+r[1]*r[1]),la=Y(r),Ja=.5>Ga()?1:-1,bb=-Ja,ib,Ma;ib=la(bb+=Ja);){Ma=~~ib[0];ib=~~ib[1];if(Math.min(Math.abs(Ma),Math.abs(ib))>=qa)break;B.x=Z+Ma;B.y=Aa+ib;if(!(0>B.x+B.x0||0>B.y+B.y0||B.x+B.x1>r[0]||B.y+B.y1>r[1])){if(!(Ma=!N)){a:{Ma=r[0];Ma>>=5;ib=B.sprite;var ma=B.width>>5;var Fa=B.x-
(ma<<4);for(var Ra=Fa&127,ra=32-Ra,ya=B.y1-B.y0,oa=(B.y+B.y0)*Ma+(Fa>>5),xa=0;xa<ya;xa++){for(var Ua=Fa=0;Ua<=ma;Ua++)if((Fa<<ra|(Ua<ma?(Fa=ib[xa*ma+Ua])>>>Ra:0))&D[oa+Ua]){Ma=!0;break a}oa+=Ma}Ma=!1}Ma=!Ma}if(Ma&&(!N||B.x+B.x1>N[0].x&&B.x+B.x0<N[1].x&&B.y+B.y1>N[0].y&&B.y+B.y0<N[1].y)){N=B.sprite;Z=B.width>>5;Aa=r[0]>>5;bb=B.x-(Z<<4);qa=bb&127;la=32-qa;Ja=B.y1-B.y0;bb=(B.y+B.y0)*Aa+(bb>>5);for(ib=0;ib<Ja;ib++){for(ma=Ma=0;ma<=Z;ma++)D[bb+ma]=D[bb+ma]|Ma<<la|(ma<Z?(Ma=N[ib*Z+ma])>>>qa:0);bb+=Aa}B.sprite=
null;return!0}}}return!1}var r=[256,256],y,K,R,S,ca,M,aa,Y=e,ea=[],Ga=Math.random,X={layout:function(){for(var D=F(k.canvas()),B=g((r[0]>>5)*r[1]),N=null,Z=ea.length,Aa=-1,qa=[],la=ea.map(bb=>({text:y(bb),font:K(bb),style:S(bb),weight:ca(bb),rotate:M(bb),size:~~(R(bb)+1E-14),padding:aa(bb),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:bb})).sort((bb,ib)=>ib.size-bb.size);++Aa<Z;){var Ja=la[Aa];Ja.x=r[0]*(Ga()+.5)>>1;Ja.y=r[1]*(Ga()+.5)>>1;b(D,Ja,la,Aa);Ja.hasText&&C(B,Ja,N)&&(qa.push(Ja),
N?c(N,Ja):N=[{x:Ja.x+Ja.x0,y:Ja.y+Ja.y0},{x:Ja.x+Ja.x1,y:Ja.y+Ja.y1}],Ja.x-=r[0]>>1,Ja.y-=r[1]>>1)}return qa},words:function(D){return arguments.length?(ea=D,X):ea},size:function(D){return arguments.length?(r=[+D[0],+D[1]],X):r},font:function(D){return arguments.length?(K=m(D),X):K},fontStyle:function(D){return arguments.length?(S=m(D),X):S},fontWeight:function(D){return arguments.length?(ca=m(D),X):ca},rotate:function(D){return arguments.length?(M=m(D),X):M},text:function(D){return arguments.length?
(y=m(D),X):y},spiral:function(D){return arguments.length?(Y=O[D]||D,X):Y},fontSize:function(D){return arguments.length?(R=m(D),X):R},padding:function(D){return arguments.length?(aa=m(D),X):aa},random:function(D){return arguments.length?(Ga=D,X):Ga}};return X}function b(F,C,r,y){if(!C.sprite){var K=F.context,R=F.ratio;K.clearRect(0,0,2048/R,2048/R);var S=F=0,ca=0,M=r.length;for(--y;++y<M;){C=r[y];K.save();K.font=C.style+" "+C.weight+" "+~~((C.size+1)/R)+"px "+C.font;var aa=K.measureText(C.text+"m").width*
R;var Y=C.size<<1;if(C.rotate){var ea=Math.sin(C.rotate*x),Ga=Math.cos(C.rotate*x),X=aa*Ga,D=aa*ea;Ga*=Y;aa=Y*ea;aa=Math.max(Math.abs(X+aa),Math.abs(X-aa))+31>>5<<5;Y=~~Math.max(Math.abs(D+Ga),Math.abs(D-Ga))}else aa=aa+31>>5<<5;Y>ca&&(ca=Y);2048<=F+aa&&(F=0,S+=ca,ca=0);if(2048<=S+Y)break;K.translate((F+(aa>>1))/R,(S+(Y>>1))/R);C.rotate&&K.rotate(C.rotate*x);K.fillText(C.text,0,0);C.padding&&(K.lineWidth=2*C.padding,K.strokeText(C.text,0,0));K.restore();C.width=aa;C.height=Y;C.xoff=F;C.yoff=S;C.x1=
aa>>1;C.y1=Y>>1;C.x0=-C.x1;C.y0=-C.y1;C.hasText=!0;F+=aa}M=K.getImageData(0,0,2048/R,2048/R).data;for(X=[];0<=--y;)if(C=r[y],C.hasText){aa=C.width;K=aa>>5;Y=C.y1-C.y0;for(R=0;R<Y*K;R++)X[R]=0;F=C.xoff;if(null==F)break;S=C.yoff;D=0;ea=-1;for(ca=0;ca<Y;ca++){for(R=0;R<aa;R++)Ga=M[2048*(S+ca)+(F+R)<<2]?1<<31-R%32:0,X[K*ca+(R>>5)]|=Ga,D|=Ga;D?ea=ca:(C.y0++,Y--,ca--,S++)}C.y1=C.y0+ea;C.sprite=X.slice(0,(C.y1-C.y0)*K)}}}function c(F,C){var r=F[0];F=F[1];C.x+C.x0<r.x&&(r.x=C.x+C.x0);C.y+C.y0<r.y&&(r.y=C.y+
C.y0);C.x+C.x1>F.x&&(F.x=C.x+C.x1);C.y+C.y1>F.y&&(F.y=C.y+C.y1)}function e(F){var C=F[0]/F[1];return function(r){return[C*(r*=.1)*Math.cos(r),r*Math.sin(r)]}}function g(F){for(var C=[],r=-1;++r<F;)C[r]=0;return C}function m(F){return"function"===typeof F?F:function(){return F}}function h(F){p.Transform.call(this,f(),F)}var x=Math.PI/180,O={archimedean:e,rectangular:function(F){var C=4*F[0]/F[1],r=0,y=0;return function(K){var R=0>K?-1:1;switch(Math.sqrt(1+4*R*K)-R&3){case 0:r+=C;break;case 1:y+=4;
break;case 2:r-=C;break;default:y-=4}return[r,y]}}};const G="x y font fontSize fontStyle fontWeight angle".split(" "),I="text font rotate fontSize fontStyle fontWeight".split(" ");h.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,"default":"sans-serif"},{name:"fontStyle",type:"string",expr:!0,"default":"normal"},{name:"fontWeight",type:"string",expr:!0,"default":"normal"},{name:"fontSize",type:"number",expr:!0,
"default":14},{name:"fontSizeRange",type:"number",array:"nullable","default":[10,50]},{name:"rotate",type:"number",expr:!0,"default":0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,"default":G}]};q.inherits(h,p.Transform,{transform(F,C){function r(aa){aa=F[aa];return q.isFunction(aa)&&C.modified(aa.fields)}!F.size||F.size[0]&&F.size[1]||q.error("Wordcloud size dimensions must be non-zero.");
const y=F.modified();if(y||C.changed(C.ADD_REM)||I.some(r)){var K=C.materialize(C.SOURCE).source,R=this.value,S=F.as||G,ca=F.fontSize||14,M;q.isFunction(ca)?M=F.fontSizeRange:ca=q.constant(ca);if(M){const aa=ca,Y=t.scale("sqrt")().domain(q.extent(K,aa)).range(M);ca=ea=>Y(aa(ea))}K.forEach(aa=>{aa[S[0]]=NaN;aa[S[1]]=NaN;aa[S[3]]=0});K=R.words(K).text(F.text).size(F.size||[500,500]).padding(F.padding||1).spiral(F.spiral||"archimedean").rotate(F.rotate||0).font(F.font||"sans-serif").fontStyle(F.fontStyle||
"normal").fontWeight(F.fontWeight||"normal").fontSize(ca).random(n.random).layout();ca=R.size();R=ca[0]>>1;ca=ca[1]>>1;M=K.length;for(let aa=0,Y,ea;aa<M;++aa)Y=K[aa],ea=Y.datum,ea[S[0]]=Y.x+R,ea[S[1]]=Y.y+ca,ea[S[2]]=Y.font,ea[S[3]]=Y.size,ea[S[4]]=Y.style,ea[S[5]]=Y.weight,ea[S[6]]=Y.rotate;return C.reflow(y).modifies(S)}}});w.wordcloud=h;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[39]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(23),L(14)):"function"===typeof define&&define.amd?define(["exports","vega-dataflow","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k((w.vega=w.vega||{},w.vega.transforms={}),w.vega,w.vega))})(this,function(w,k,p){function q(){let r=8,y=[],K=new Uint32Array(0),R=t(0,r),S=t(0,r);return{data:()=>y,seen:()=>{var ca=K;var M=y.length;ca.length>=M||(M=new ca.constructor(M),M.set(ca),
ca=M);return K=ca},add(ca){for(let M=0,aa=y.length,Y=ca.length,ea;M<Y;++M)ea=ca[M],ea._index=aa++,y.push(ea)},remove(ca,M){const aa=y.length;ca=Array(aa-ca);const Y=y;let ea,Ga,X;for(Ga=0;!M[Ga]&&Ga<aa;++Ga)ca[Ga]=y[Ga],Y[Ga]=Ga;for(X=Ga;Ga<aa;++Ga)ea=y[Ga],M[Ga]?Y[Ga]=-1:(Y[Ga]=X,R[X]=R[Ga],S[X]=S[Ga],ca[X]=ea,ea._index=X++),R[Ga]=0;y=ca;return Y},size:()=>y.length,curr:()=>R,prev:()=>S,reset:ca=>S[ca]=R[ca],all:()=>257>r?255:65537>r?65535:4294967295,set(ca,M){R[ca]|=M},clear(ca,M){R[ca]&=~M},resize(ca,
M){if(ca>R.length||M>r)r=Math.max(M,r),R=t(ca,r,R),S=t(ca,r)}}}function t(r,y,K){r=(257>y?x:65537>y?O:G)(r);K&&r.set(K);return r}function n(r,y,K){const R=1<<y;return{one:R,zero:~R,range:K.slice(),bisect:r.bisect,index:r.index,size:r.size,onAdd(S,ca){var M=this.bisect(this.range,S.value);S=S.index;const aa=M[0];M=M[1];const Y=S.length;let ea;for(ea=0;ea<aa;++ea)ca[S[ea]]|=R;for(ea=M;ea<Y;++ea)ca[S[ea]]|=R;return this}}}function f(r,y){return null==r||null==y?NaN:r<y?-1:r>y?1:r>=y?0:NaN}function b(r){function y(ca,
M,aa=0,Y=ca.length){if(aa<Y){if(0!==R(M,M))return Y;do{const ea=aa+Y>>>1;0>S(ca[ea],M)?aa=ea+1:Y=ea}while(aa<Y)}return aa}let K=r,R=r,S=r;2!==r.length&&(K=(ca,M)=>r(ca)-M,R=f,S=(ca,M)=>f(r(ca),M));return{left:y,center:function(ca,M,aa=0,Y=ca.length){Y=y(ca,M,aa,Y-1);return Y>aa&&K(ca[Y-1],M)>-K(ca[Y],M)?Y-1:Y},right:function(ca,M,aa=0,Y=ca.length){if(aa<Y){if(0!==R(M,M))return Y;do{const ea=aa+Y>>>1;0>=S(ca[ea],M)?aa=ea+1:Y=ea}while(aa<Y)}return aa}}}function c(r,y){return Array.from(y,K=>r[K])}function e(){let r=
new Uint32Array(0),y=[],K=0;return{insert:function(R,S,ca){if(!S.length)return[];const M=K,aa=S.length,Y=new Uint32Array(aa);let ea=Array(aa);var Ga;for(Ga=0;Ga<aa;++Ga)ea[Ga]=R(S[Ga]),Y[Ga]=Ga;ea=g(ea,Y);if(M){R=y;S=r;y=Array(M+aa);r=new Uint32Array(M+aa);Ga=ea;var X=y,D=r;let B=0,N=0,Z;for(Z=0;B<M&&N<aa;++Z)R[B]<Ga[N]?(X[Z]=R[B],D[Z]=S[B++]):(X[Z]=Ga[N],D[Z]=Y[N++]+ca);for(;B<M;++B,++Z)X[Z]=R[B],D[Z]=S[B];for(;N<aa;++N,++Z)X[Z]=Ga[N],D[Z]=Y[N]+ca}else{if(0<ca)for(Ga=0;Ga<aa;++Ga)Y[Ga]+=ca;y=ea;
r=Y}K=M+aa;return{index:Y,value:ea}},remove:function(R,S){const ca=K;let M,aa,Y;for(aa=0;!S[r[aa]]&&aa<ca;++aa);for(Y=aa;aa<ca;++aa)S[M=r[aa]]||(r[Y]=M,y[Y]=y[aa],++Y);K=ca-R},bisect:function(R,S){let ca;S?ca=S.length:(S=y,ca=K);return[C(S,R[0],0,ca),F(S,R[1],0,ca)]},reindex:function(R){for(let S=0,ca=K;S<ca;++S)r[S]=R[r[S]]},index:()=>r,size:()=>K}}function g(r,y){r.sort.call(y,(K,R)=>{K=r[K];R=r[R];return K<R?-1:K>R?1:0});return c(r,y)}function m(r){k.Transform.call(this,q(),r);this._dims=this._indices=
null}function h(r){k.Transform.call(this,null,r)}const x=r=>new Uint8Array(r),O=r=>new Uint16Array(r),G=r=>new Uint32Array(r),I=b(f),F=I.right,C=I.left;b(function(r){return null===r?NaN:+r}).center;m.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};p.inherits(m,k.Transform,{transform(r,y){return this._dims?r.modified("fields")||r.fields.some(K=>y.modified(K.fields))?
this.reinit(r,y):this.eval(r,y):this.init(r,y)},init(r,y){const K=r.fields,R=r.query,S=this._indices={},ca=this._dims=[],M=R.length;let aa=0;for(var Y;aa<M;++aa)Y=K[aa].fname,Y=S[Y]||(S[Y]=e()),ca.push(n(Y,aa,R[aa]));return this.eval(r,y)},reinit(r,y){const K=y.materialize().fork(),R=r.fields,S=r.query,ca=this._indices,M=this._dims,aa=this.value,Y=aa.curr(),ea=aa.prev(),Ga=aa.all(),X=K.rem=K.add,D=K.mod,B=S.length,N={};let Z;var Aa;let qa,la,Ja,bb;ea.set(Y);y.rem.length&&(qa=this.remove(r,y,K));y.add.length&&
aa.add(y.add);if(y.mod.length){la={};var ib=y.mod;Ja=0;for(Aa=ib.length;Ja<Aa;++Ja)la[ib[Ja]._index]=1}for(Ja=0;Ja<B;++Ja)if(bb=R[Ja],!M[Ja]||r.modified("fields",Ja)||y.modified(bb.fields))Aa=bb.fname,(ib=N[Aa])||(ca[Aa]=Z=e(),N[Aa]=ib=Z.insert(bb,y.source,0)),M[Ja]=n(Z,Ja,S[Ja]).onAdd(ib,Y);Ja=0;for(Aa=aa.data().length;Ja<Aa;++Ja)qa[Ja]||(ea[Ja]!==Y[Ja]?X.push(Ja):la[Ja]&&Y[Ja]!==Ga&&D.push(Ja));aa.mask=(1<<B)-1;return K},eval(r,y){const K=y.materialize().fork(),R=this._dims.length;let S=0;y.rem.length&&
(this.remove(r,y,K),S|=(1<<R)-1);r.modified("query")&&!r.modified("fields")&&(S|=this.update(r,y,K));y.add.length&&(this.insert(r,y,K),S|=(1<<R)-1);y.mod.length&&(this.modify(y,K),S|=(1<<R)-1);this.value.mask=S;return K},insert(r,y,K){y=y.add;var R=this.value;const S=this._dims,ca=this._indices;r=r.fields;const M={};K=K.add;const aa=R.size()+y.length,Y=S.length;let ea=R.size();R.resize(aa,Y);R.add(y);const Ga=R.curr(),X=R.prev(),D=R.all();for(R=0;R<Y;++R){var B=r[R].fname;B=M[B]||(M[B]=ca[B].insert(r[R],
y,ea));S[R].onAdd(B,Ga)}for(;ea<aa;++ea)X[ea]=D,Ga[ea]!==D&&K.push(ea)},modify(r,y){y=y.mod;var K=this.value;const R=K.curr();K=K.all();r=r.mod;let S,ca,M;S=0;for(ca=r.length;S<ca;++S)M=r[S]._index,R[M]!==K&&y.push(M)},remove(r,y,K){r=this._indices;var R=this.value;const S=R.curr(),ca=R.prev();R=R.all();const M={};K=K.rem;const aa=y.rem;let Y,ea,Ga,X;Y=0;for(ea=aa.length;Y<ea;++Y)Ga=aa[Y]._index,M[Ga]=1,ca[Ga]=X=S[Ga],S[Ga]=R,X!==R&&K.push(Ga);for(Ga in r)r[Ga].remove(ea,M);this.reindex(y,ea,M);return M},
reindex(r,y,K){const R=this._indices,S=this.value;r.runAfter(()=>{const ca=S.remove(y,K);for(const M in R)R[M].reindex(ca)})},update(r,y,K){const R=this._dims,S=r.query;y=y.stamp;const ca=R.length;let M=0,aa,Y;for(Y=K.filters=0;Y<ca;++Y)r.modified("query",Y)&&(aa=Y,++M);if(1===M)M=R[aa].one,this.incrementOne(R[aa],S[aa],K.add,K.rem);else for(M=Y=0;Y<ca;++Y)r.modified("query",Y)&&(M|=R[Y].one,this.incrementAll(R[Y],S[Y],y,K.add),K.rem=K.add);return M},incrementAll(r,y,K,R){var S=this.value;const ca=
S.seen(),M=S.curr();S=S.prev();const aa=r.index();var Y=r.bisect(r.range),ea=r.bisect(y);const Ga=ea[0];ea=ea[1];const X=Y[0];Y=Y[1];const D=r.one;let B,N,Z;if(Ga<X)for(B=Ga,N=Math.min(X,ea);B<N;++B)Z=aa[B],ca[Z]!==K&&(S[Z]=M[Z],ca[Z]=K,R.push(Z)),M[Z]^=D;else if(Ga>X)for(B=X,N=Math.min(Ga,Y);B<N;++B)Z=aa[B],ca[Z]!==K&&(S[Z]=M[Z],ca[Z]=K,R.push(Z)),M[Z]^=D;if(ea>Y)for(B=Math.max(Ga,Y),N=ea;B<N;++B)Z=aa[B],ca[Z]!==K&&(S[Z]=M[Z],ca[Z]=K,R.push(Z)),M[Z]^=D;else if(ea<Y)for(B=Math.max(X,ea),N=Y;B<N;++B)Z=
aa[B],ca[Z]!==K&&(S[Z]=M[Z],ca[Z]=K,R.push(Z)),M[Z]^=D;r.range=y.slice()},incrementOne(r,y,K,R){const S=this.value.curr(),ca=r.index();var M=r.bisect(r.range),aa=r.bisect(y);const Y=aa[0];aa=aa[1];const ea=M[0];M=M[1];const Ga=r.one;let X,D,B;if(Y<ea)for(X=Y,D=Math.min(ea,aa);X<D;++X)B=ca[X],S[B]^=Ga,K.push(B);else if(Y>ea)for(X=ea,D=Math.min(Y,M);X<D;++X)B=ca[X],S[B]^=Ga,R.push(B);if(aa>M)for(X=Math.max(Y,M),D=aa;X<D;++X)B=ca[X],S[B]^=Ga,K.push(B);else if(aa<M)for(X=Math.max(ea,aa),D=M;X<D;++X)B=
ca[X],S[B]^=Ga,R.push(B);r.range=y.slice()}});h.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};p.inherits(h,k.Transform,{transform(r,y){const K=~(r.ignore||0);r=r.filter;const R=r.mask;if(0===(R&K))return y.StopPropagation;y=y.fork(y.ALL);const S=r.data(),ca=r.curr(),M=r.prev(),
aa=Y=>ca[Y]&K?null:S[Y];y.filter(y.MOD,aa);R&R-1?(y.filter(y.ADD,Y=>{const ea=ca[Y]&K;return!ea&&ea^M[Y]&K?S[Y]:null}),y.filter(y.REM,Y=>{const ea=ca[Y]&K;return!ea||ea^ea^M[Y]&K?null:S[Y]})):(y.filter(y.ADD,aa),y.filter(y.REM,Y=>(ca[Y]&K)===R?S[Y]:null));return y.filter(y.SOURCE,Y=>aa(Y._index))}});w.crossfilter=m;w.resolvefilter=h;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[40]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14)):"function"===typeof define&&define.amd?define(["exports","vega-util"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega))})(this,function(w,k){function p(ya){this.type=ya}function q(ya){switch(ya.type){case "ArrayExpression":return ya.elements;case "BinaryExpression":case "LogicalExpression":return[ya.left,ya.right];case "CallExpression":return[ya.callee].concat(ya.arguments);
case "ConditionalExpression":return[ya.test,ya.consequent,ya.alternate];case "MemberExpression":return[ya.object,ya.property];case "ObjectExpression":return ya.properties;case "Property":return[ya.key,ya.value];case "UnaryExpression":return[ya.argument];default:return[]}}function t(ya,oa){if(!ya)throw Error("ASSERT: "+oa);}function n(ya){return 48<=ya&&57>=ya}function f(ya){return 0<="0123456789abcdefABCDEF".indexOf(ya)}function b(ya){return 0<="01234567".indexOf(ya)}function c(ya){return 10===ya||
13===ya||8232===ya||8233===ya}function e(ya){return 36===ya||95===ya||65<=ya&&90>=ya||97<=ya&&122>=ya||92===ya||128<=ya&&Ma.test(String.fromCharCode(ya))}function g(ya){return 36===ya||95===ya||65<=ya&&90>=ya||97<=ya&&122>=ya||48<=ya&&57>=ya||92===ya||128<=ya&&ma.test(String.fromCharCode(ya))}function m(){for(;Ja<bb;){const ya=la.charCodeAt(Ja);if(32===ya||9===ya||11===ya||12===ya||160===ya||5760<=ya&&0<=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(ya)||
c(ya))++Ja;else break}}function h(ya){var oa=0;var xa="u"===ya?4:2;for(ya=0;ya<xa;++ya)if(Ja<bb&&f(la[Ja])){var Ua=la[Ja++];oa=16*oa+"0123456789abcdef".indexOf(Ua.toLowerCase())}else M({},"Unexpected token %0","ILLEGAL");return String.fromCharCode(oa)}function x(){var ya=la.charCodeAt(Ja++);var oa=String.fromCharCode(ya);92===ya&&(117!==la.charCodeAt(Ja)&&M({},"Unexpected token %0","ILLEGAL"),++Ja,(ya=h("u"))&&"\\"!==ya&&e(ya.charCodeAt(0))||M({},"Unexpected token %0","ILLEGAL"),oa=ya);for(;Ja<bb;){ya=
la.charCodeAt(Ja);if(!g(ya))break;++Ja;oa+=String.fromCharCode(ya);92===ya&&(oa=oa.substr(0,oa.length-1),117!==la.charCodeAt(Ja)&&M({},"Unexpected token %0","ILLEGAL"),++Ja,(ya=h("u"))&&"\\"!==ya&&g(ya.charCodeAt(0))||M({},"Unexpected token %0","ILLEGAL"),oa+=ya)}return oa}function O(){var ya=Ja,oa=la.charCodeAt(Ja),xa=la[Ja];switch(oa){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ja,{type:7,value:String.fromCharCode(oa),start:ya,end:Ja};
default:var Ua=la.charCodeAt(Ja+1);if(61===Ua)switch(oa){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ja+=2,{type:7,value:String.fromCharCode(oa)+String.fromCharCode(Ua),start:ya,end:Ja};case 33:case 61:return Ja+=2,61===la.charCodeAt(Ja)&&++Ja,{type:7,value:la.slice(ya,Ja),start:ya,end:Ja}}}oa=la.substr(Ja,4);if("\x3e\x3e\x3e\x3d"===oa)return Ja+=4,{type:7,value:oa,start:ya,end:Ja};oa=oa.substr(0,3);if("\x3e\x3e\x3e"===oa||"\x3c\x3c\x3d"===oa||"\x3e\x3e\x3d"===
oa)return Ja+=3,{type:7,value:oa,start:ya,end:Ja};oa=oa.substr(0,2);if(xa===oa[1]&&0<="+-\x3c\x3e\x26|".indexOf(xa)||"\x3d\x3e"===oa)return Ja+=2,{type:7,value:oa,start:ya,end:Ja};"//"===oa&&M({},"Unexpected token %0","ILLEGAL");if(0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(xa))return++Ja,{type:7,value:xa,start:ya,end:Ja};M({},"Unexpected token %0","ILLEGAL")}function G(){var ya=la[Ja];t(n(ya.charCodeAt(0))||"."===ya,"Numeric literal must start with a decimal digit or a decimal point");var oa=Ja;var xa=
"";if("."!==ya){xa=la[Ja++];ya=la[Ja];if("0"===xa){if("x"===ya||"X"===ya){++Ja;for(xa="";Ja<bb&&f(la[Ja]);)xa+=la[Ja++];0===xa.length&&M({},"Unexpected token %0","ILLEGAL");e(la.charCodeAt(Ja))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt("0x"+xa,16),start:oa,end:Ja}}if(b(ya)){for(xa="0"+la[Ja++];Ja<bb&&b(la[Ja]);)xa+=la[Ja++];(e(la.charCodeAt(Ja))||n(la.charCodeAt(Ja)))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseInt(xa,8),octal:!0,start:oa,end:Ja}}ya&&
n(ya.charCodeAt(0))&&M({},"Unexpected token %0","ILLEGAL")}for(;n(la.charCodeAt(Ja));)xa+=la[Ja++];ya=la[Ja]}if("."===ya){for(xa+=la[Ja++];n(la.charCodeAt(Ja));)xa+=la[Ja++];ya=la[Ja]}if("e"===ya||"E"===ya){xa+=la[Ja++];ya=la[Ja];if("+"===ya||"-"===ya)xa+=la[Ja++];if(n(la.charCodeAt(Ja)))for(;n(la.charCodeAt(Ja));)xa+=la[Ja++];else M({},"Unexpected token %0","ILLEGAL")}e(la.charCodeAt(Ja))&&M({},"Unexpected token %0","ILLEGAL");return{type:6,value:parseFloat(xa),start:oa,end:Ja}}function I(ya,oa){let xa=
ya;0<=oa.indexOf("u")&&(xa=xa.replace(/\\u\{([0-9a-fA-F]+)\}/g,(Ua,fb)=>{if(1114111>=parseInt(fb,16))return"x";M({},"Invalid regular expression")}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(xa)}catch(Ua){M({},"Invalid regular expression")}try{return new RegExp(ya,oa)}catch(Ua){return null}}function F(){m();if(Ja>=bb)return{type:2,start:Ja,end:Ja};var ya=la.charCodeAt(Ja);if(e(ya)){ya=Ja;if(92===la.charCodeAt(Ja))var oa=x();else a:{for(oa=Ja++;Ja<bb;){var xa=la.charCodeAt(Ja);
if(92===xa){Ja=oa;oa=x();break a}if(g(xa))++Ja;else break}oa=la.slice(oa,Ja)}return{type:1===oa.length?3:Fa.hasOwnProperty(oa)?4:"null"===oa?5:"true"===oa||"false"===oa?1:3,value:oa,start:ya,end:Ja}}if(40===ya||41===ya||59===ya)return O();if(39===ya||34===ya){var Ua="";xa=!1;ya=la[Ja];t("'"===ya||'"'===ya,"String literal must starts with a quote");oa=Ja;for(++Ja;Ja<bb;){var fb=la[Ja++];if(fb===ya){ya="";break}else if("\\"===fb)if((fb=la[Ja++])&&c(fb.charCodeAt(0)))"\r"===fb&&"\n"===la[Ja]&&++Ja;else switch(fb){case "u":case "x":if("{"===
la[Ja]){++Ja;var sa=la[Ja];fb=0;for("}"===sa&&M({},"Unexpected token %0","ILLEGAL");Ja<bb;){sa=la[Ja++];if(!f(sa))break;fb=16*fb+"0123456789abcdef".indexOf(sa.toLowerCase())}(1114111<fb||"}"!==sa)&&M({},"Unexpected token %0","ILLEGAL");fb=65535>=fb?String.fromCharCode(fb):String.fromCharCode((fb-65536>>10)+55296,(fb-65536&1023)+56320);Ua+=fb}else Ua+=h(fb);break;case "n":Ua+="\n";break;case "r":Ua+="\r";break;case "t":Ua+="\t";break;case "b":Ua+="\b";break;case "f":Ua+="\f";break;case "v":Ua+="\v";
break;default:b(fb)?(sa="01234567".indexOf(fb),0!==sa&&(xa=!0),Ja<bb&&b(la[Ja])&&(xa=!0,sa=8*sa+"01234567".indexOf(la[Ja++]),0<="0123".indexOf(fb)&&Ja<bb&&b(la[Ja])&&(sa=8*sa+"01234567".indexOf(la[Ja++]))),Ua+=String.fromCharCode(sa)):Ua+=fb}else if(c(fb.charCodeAt(0)))break;else Ua+=fb}""!==ya&&M({},"Unexpected token %0","ILLEGAL");return{type:8,value:Ua,octal:xa,start:oa,end:Ja}}return 46===ya?n(la.charCodeAt(Ja+1))?G():O():n(ya)?G():O()}function C(){const ya=ib;Ja=ya.end;ib=F();Ja=ya.end;return ya}
function r(){const ya=Ja;ib=F();Ja=ya}function y(ya,oa,xa){const Ua=new p("||"===ya||"\x26\x26"===ya?"LogicalExpression":"BinaryExpression");Ua.operator=ya;Ua.left=oa;Ua.right=xa;return Ua}function K(ya){const oa=new p("Identifier");oa.name=ya;return oa}function R(ya){const oa=new p("Literal");oa.value=ya.value;oa.raw=la.slice(ya.start,ya.end);ya.regex&&("//"===oa.raw&&(oa.raw="/(?:)/"),oa.regex=ya.regex);return oa}function S(ya,oa,xa){const Ua=new p("MemberExpression");Ua.computed="["===ya;Ua.object=
oa;Ua.property=xa;Ua.computed||(xa.member=!0);return Ua}function ca(ya,oa,xa){const Ua=new p("Property");Ua.key=oa;Ua.value=xa;Ua.kind=ya;return Ua}function M(ya,oa){var xa=Array.prototype.slice.call(arguments,2),Ua=oa.replace(/%(\d)/g,(sa,Oa)=>{t(Oa<xa.length,"Message reference must be in range");return xa[Oa]});var fb=Error(Ua);fb.index=Ja;fb.description=Ua;throw fb;}function aa(ya){2===ya.type&&M(ya,"Unexpected end of input");6===ya.type&&M(ya,"Unexpected number");8===ya.type&&M(ya,"Unexpected string");
3===ya.type&&M(ya,"Unexpected identifier");4===ya.type&&M(ya,"Unexpected reserved word");M(ya,"Unexpected token %0",ya.value)}function Y(ya){const oa=C();7===oa.type&&oa.value===ya||aa(oa)}function ea(ya){return 7===ib.type&&ib.value===ya}function Ga(){Ja=ib.start;const ya=C();return 8===ya.type||6===ya.type?(ya.octal&&M(ya,"Octal literals are not allowed in strict mode."),R(ya)):K(ya.value)}function X(){if(ea("(")){Y("(");var ya=Aa();Y(")");return ya}if(ea("[")){ya=[];Ja=ib.start;for(Y("[");!ea("]");)ea(",")?
(C(),ya.push(null)):(ya.push(Z()),ea("]")||Y(","));C();var oa=new p("ArrayExpression");oa.elements=ya;return oa}if(ea("{")){ya=[];oa={};var xa=String;Ja=ib.start;for(Y("{");!ea("}");){Ja=ib.start;var Ua=ib;if(3===Ua.type){var fb=Ga();Y(":");Ua=Z();Ua=ca("init",fb,Ua)}else 2===Ua.type||7===Ua.type?(aa(Ua),Ua=void 0):(fb=Ga(),Y(":"),Ua=Z(),Ua=ca("init",fb,Ua));fb="Identifier"===Ua.key.type?Ua.key.name:xa(Ua.key.value);fb="$"+fb;Object.prototype.hasOwnProperty.call(oa,fb)?M({},"Duplicate data property in object literal not allowed in strict mode"):
oa[fb]=!0;ya.push(Ua);ea("}")||Y(",")}Y("}");oa=new p("ObjectExpression");oa.properties=ya;return oa}ya=ib.type;Ja=ib.start;if(3===ya||Ra[ib.value])oa=K(C().value);else if(8===ya||6===ya)ib.octal&&M(ib,"Octal literals are not allowed in strict mode."),oa=R(C());else{if(4===ya)throw Error("Disabled.");if(1===ya)ya=C(),ya.value="true"===ya.value,oa=R(ya);else if(5===ya)ya=C(),ya.value=null,oa=R(ya);else if(ea("/")||ea("/\x3d")){var sa;ib=null;m();ya=Ja;oa=la[Ja];t("/"===oa,"Regular expression literal must start with a slash");
xa=la[Ja++];for(fb=Ua=!1;Ja<bb;)if(oa=la[Ja++],xa+=oa,"\\"===oa)oa=la[Ja++],c(oa.charCodeAt(0))&&M({},"Invalid regular expression: missing /"),xa+=oa;else if(c(oa.charCodeAt(0)))M({},"Invalid regular expression: missing /");else if(Ua)"]"===oa&&(Ua=!1);else if("/"===oa){fb=!0;break}else"["===oa&&(Ua=!0);fb||M({},"Invalid regular expression: missing /");oa=xa.substr(1,xa.length-2);for(sa=fb="";Ja<bb;){Ua=la[Ja];if(!g(Ua.charCodeAt(0)))break;++Ja;"\\"===Ua&&Ja<bb?M({},"Unexpected token %0","ILLEGAL"):
(sa+=Ua,fb+=Ua)}0<=sa.search(/[^gimuy]/g)&&M({},"Invalid regular expression",sa);Ua=sa;sa=I(oa,Ua);oa=R({literal:xa+fb,value:sa,regex:{pattern:oa,flags:Ua},start:ya,end:Ja});r()}else aa(C())}return oa}function D(){var ya;for(ya=X();;)if(ea(".")){Y(".");Ja=ib.start;var oa=C();3===oa.type||4===oa.type||1===oa.type||5===oa.type||aa(oa);oa=K(oa.value);ya=S(".",ya,oa)}else if(ea("(")){oa=[];Y("(");if(!ea(")"))for(;Ja<bb;){oa.push(Z());if(ea(")"))break;Y(",")}Y(")");const xa=new p("CallExpression");xa.callee=
ya;xa.arguments=oa;ya=xa}else if(ea("["))Y("["),oa=Aa(),Y("]"),ya=S("[",ya,oa);else break;if(7===ib.type&&(ea("++")||ea("--")))throw Error("Disabled.");return ya}function B(){if(7!==ib.type&&4!==ib.type)var ya=D();else{if(ea("++")||ea("--"))throw Error("Disabled.");if(ea("+")||ea("-")||ea("~")||ea("!")){var oa=C();ya=B();oa=oa.value;const xa=new p("UnaryExpression");xa.operator=oa;xa.argument=ya;xa.prefix=!0;ya=xa}else{if(4===ib.type&&"delete"===ib.value||4===ib.type&&"void"===ib.value||4===ib.type&&
"typeof"===ib.value)throw Error("Disabled.");ya=D()}}return ya}function N(ya){let oa=0;if(7!==ya.type&&4!==ya.type)return 0;switch(ya.value){case "||":oa=1;break;case "\x26\x26":oa=2;break;case "|":oa=3;break;case "^":oa=4;break;case "\x26":oa=5;break;case "\x3d\x3d":case "!\x3d":case "\x3d\x3d\x3d":case "!\x3d\x3d":oa=6;break;case "\x3c":case "\x3e":case "\x3c\x3d":case "\x3e\x3d":case "instanceof":case "in":oa=7;break;case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":oa=8;break;case "+":case "-":oa=
9;break;case "*":case "/":case "%":oa=11}return oa}function Z(){var ya=ib;var oa=B();var xa=ib;var Ua=N(xa);if(0===Ua)var fb=oa;else{xa.prec=Ua;C();ya=[ya,ib];var sa=B();for(fb=[oa,xa,sa];0<(Ua=N(ib));){for(;2<fb.length&&Ua<=fb[fb.length-2].prec;)sa=fb.pop(),xa=fb.pop().value,oa=fb.pop(),ya.pop(),oa=y(xa,oa,sa),fb.push(oa);xa=C();xa.prec=Ua;fb.push(xa);ya.push(ib);oa=B();fb.push(oa)}Ua=fb.length-1;oa=fb[Ua];for(ya.pop();1<Ua;)ya.pop(),oa=y(fb[Ua-1].value,fb[Ua-2],oa),Ua-=2;fb=oa}ea("?")&&(C(),ya=
Z(),Y(":"),Ua=Z(),oa=new p("ConditionalExpression"),oa.test=fb,oa.consequent=ya,oa.alternate=Ua,fb=oa);return fb}function Aa(){const ya=Z();if(ea(","))throw Error("Disabled.");return ya}function qa(ya){function oa(xa,Ua,fb){return sa=>{let Oa=ya(sa[0]);Ua&&(Oa=Ua+"("+Oa+")",0===Ua.lastIndexOf("new ",0)&&(Oa="("+Oa+")"));return Oa+"."+xa+(0>fb?"":0===fb?"()":"("+sa.slice(1).map(ya).join(",")+")")}}return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",
atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(xa){3>xa.length&&k.error("Missing arguments to clamp function.");3<xa.length&&k.error("Too many arguments to clamp function.");xa=xa.map(ya);return"Math.max("+xa[1]+", Math.min("+xa[2]+","+xa[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:"new Date",
date:oa("getDate","new Date",0),day:oa("getDay","new Date",0),year:oa("getFullYear","new Date",0),month:oa("getMonth","new Date",0),hours:oa("getHours","new Date",0),minutes:oa("getMinutes","new Date",0),seconds:oa("getSeconds","new Date",0),milliseconds:oa("getMilliseconds","new Date",0),time:oa("getTime","new Date",0),timezoneoffset:oa("getTimezoneOffset","new Date",0),utcdate:oa("getUTCDate","new Date",0),utcday:oa("getUTCDay","new Date",0),utcyear:oa("getUTCFullYear","new Date",0),utcmonth:oa("getUTCMonth",
"new Date",0),utchours:oa("getUTCHours","new Date",0),utcminutes:oa("getUTCMinutes","new Date",0),utcseconds:oa("getUTCSeconds","new Date",0),utcmilliseconds:oa("getUTCMilliseconds","new Date",0),length:oa("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:oa("toUpperCase","String",0),lower:oa("toLowerCase","String",0),substring:oa("substring","String"),split:oa("split","String"),trim:oa("trim","String",0),regexp:"RegExp",test:oa("test","RegExp"),if:function(xa){3>xa.length&&k.error("Missing arguments to if function.");
3<xa.length&&k.error("Too many arguments to if function.");xa=xa.map(ya);return"("+xa[0]+"?"+xa[1]+":"+xa[2]+")"}}}p.prototype.visit=function(ya){let oa,xa,Ua;if(ya(this))return 1;oa=q(this);xa=0;for(Ua=oa.length;xa<Ua;++xa)if(oa[xa].visit(ya))return 1};var la,Ja,bb,ib,Ma=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),
ma=RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");
const Fa={"if":1,"in":1,"do":1,"var":1,"for":1,"new":1,"try":1,let:1,"this":1,"else":1,"case":1,"void":1,"with":1,"enum":1,"while":1,"break":1,"catch":1,"throw":1,"const":1,yield:1,"class":1,"super":1,"return":1,"typeof":1,"delete":1,"switch":1,"export":1,"import":1,"public":1,"static":1,"default":1,"finally":1,"extends":1,"package":1,"private":1,"function":1,"continue":1,"debugger":1,"interface":1,"protected":1,"instanceof":1,"implements":1},Ra={"if":1};var ra={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",
LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};w.ASTNode=p;w.ArrayExpression="ArrayExpression";w.BinaryExpression="BinaryExpression";w.CallExpression="CallExpression";w.ConditionalExpression="ConditionalExpression";w.Identifier="Identifier";w.Literal="Literal";w.LogicalExpression="LogicalExpression";w.MemberExpression="MemberExpression";w.ObjectExpression="ObjectExpression";
w.Property="Property";w.RawCode="RawCode";w.UnaryExpression="UnaryExpression";w.codegenExpression=function(ya){function oa(nb){if(k.isString(nb))return nb;const Mb=lb[nb.type];null==Mb&&k.error("Unsupported type: "+nb.type);return Mb(nb)}function xa(nb){nb={code:oa(nb),globals:Object.keys(ua),fields:Object.keys(Ta)};ua={};Ta={};return nb}ya=ya||{};const Ua=ya.allowed?k.toSet(ya.allowed):{},fb=ya.forbidden?k.toSet(ya.forbidden):{},sa=ya.constants||ra,Oa=(ya.functions||qa)(oa),ja=ya.globalvar,U=ya.fieldvar,
ka=k.isFunction(ja)?ja:nb=>`${ja}["${nb}"]`;let ua={},Ta={},eb=0;const lb={Literal:nb=>nb.raw,Identifier:nb=>{nb=nb.name;if(0<eb)return nb;if(k.hasOwnProperty(fb,nb))return k.error("Illegal identifier: "+nb);if(k.hasOwnProperty(sa,nb))return sa[nb];if(k.hasOwnProperty(Ua,nb))return nb;ua[nb]=1;return ka(nb)},MemberExpression:nb=>{const Mb=!nb.computed,$b=oa(nb.object);Mb&&(eb+=1);nb=oa(nb.property);if($b===U){var Gc=Ta;var zc=(zc=nb&&nb.length-1)&&('"'===nb[0]&&'"'===nb[zc]||"'"===nb[0]&&"'"===nb[zc])?
nb.slice(1,-1):nb;Gc[zc]=1}Mb&&--eb;return $b+(Mb?"."+nb:"["+nb+"]")},CallExpression:nb=>{"Identifier"!==nb.callee.type&&k.error("Illegal callee type: "+nb.callee.type);const Mb=nb.callee.name;nb=nb.arguments;const $b=k.hasOwnProperty(Oa,Mb)&&Oa[Mb];$b||k.error("Unrecognized function: "+Mb);return k.isFunction($b)?$b(nb):$b+"("+nb.map(oa).join(",")+")"},ArrayExpression:nb=>"["+nb.elements.map(oa).join(",")+"]",BinaryExpression:nb=>"("+oa(nb.left)+" "+nb.operator+" "+oa(nb.right)+")",UnaryExpression:nb=>
"("+nb.operator+oa(nb.argument)+")",ConditionalExpression:nb=>"("+oa(nb.test)+"?"+oa(nb.consequent)+":"+oa(nb.alternate)+")",LogicalExpression:nb=>"("+oa(nb.left)+nb.operator+oa(nb.right)+")",ObjectExpression:nb=>"{"+nb.properties.map(oa).join(",")+"}",Property:nb=>{eb+=1;const Mb=oa(nb.key);--eb;return Mb+":"+oa(nb.value)}};xa.functions=Oa;xa.constants=sa;return xa};w.constants=ra;w.functions=qa;w.parseExpression=function(ya){la=ya;Ja=0;bb=la.length;ib=null;r();ya=Aa();if(2!==ib.type)throw Error("Unexpect token after expression.");
return ya};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[41]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(40)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-expression"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(g){return(m,h)=>{m=g(m);return m<h?-1:m>h?1:m>=h?0:NaN}}function t(g,m){var h=m.fields;m=m.values;for(var x=h.length,O=0,G,I;O<x;++O)if(I=h[O],I.getter=k.field.getter||k.field(I.field),
G=I.getter(g),k.isDate(G)&&(G=k.toNumber(G)),k.isDate(m[O])&&(m[O]=k.toNumber(m[O])),k.isDate(m[O][0])&&(m[O]=m[O].map(k.toNumber)),"E"===I.type){if(k.isArray(m[O])?0>m[O].indexOf(G):G!==m[O])return!1}else if("R"===I.type){if(!k.inrange(G,m[O]))return!1}else if("R-RE"===I.type){if(!k.inrange(G,m[O],!0,!1))return!1}else if("R-E"===I.type){if(!k.inrange(G,m[O],!1,!1))return!1}else if("R-LE"===I.type&&!k.inrange(G,m[O],!1,!0))return!1;return!0}const n=k.field("_vgsid_"),f=function(g){function m(O,G,
I,F){null==I&&(I=0);null==F&&(F=O.length);for(;I<F;){const C=I+F>>>1;0>x(O[C],G)?I=C+1:F=C}return I}let h=g,x=g;1===g.length&&(h=(O,G)=>g(O)-G,x=q(g));return{left:m,center:function(O,G,I,F){null==I&&(I=0);null==F&&(F=O.length);F=m(O,G,I,F-1);return F>I&&h(O[F-1],G)>-h(O[F],G)?F-1:F},right:function(O,G,I,F){null==I&&(I=0);null==F&&(F=O.length);for(;I<F;){const C=I+F>>>1;0<x(O[C],G)?F=C:I=C+1}return I}}}(n),b=f.left,c=f.right;var e={E_union:function(g,m){if(!g.length)return m;for(var h=0,x=m.length;h<
x;++h)0>g.indexOf(m[h])&&g.push(m[h]);return g},E_intersect:function(g,m){return g.length?g.filter(h=>0<=m.indexOf(h)):m},R_union:function(g,m){var h=k.toNumber(m[0]),x=k.toNumber(m[1]);h>x&&(h=m[1],x=m[0]);if(!g.length)return[h,x];g[0]>h&&(g[0]=h);g[1]<x&&(g[1]=x);return g},R_intersect:function(g,m){var h=k.toNumber(m[0]),x=k.toNumber(m[1]);h>x&&(h=m[1],x=m[0]);if(!g.length)return[h,x];if(x<g[0]||g[1]<h)return[];g[0]<h&&(g[0]=h);g[1]>x&&(g[1]=x);return g}};w.selectionIdTest=function(g,m,h){var x=
this.context.data[g];g=x?x.values.value:[];x=x?x["index:unit"]&&x["index:unit"].value:void 0;h="intersect"===h;m=n(m);const O=b(g,m);if(O===g.length||n(g[O])!==m)return!1;if(x&&h){if(1===x.size)return!0;if(c(g,m)-O<x.size)return!1}return!0};w.selectionResolve=function(g,m,h,x){g=(g=this.context.data[g])?g.values.value:[];for(var O={},G={},I={},F,C,r,y,K,R,S=g.length,ca=0,M,aa;ca<S;++ca){F=g[ca];r=F.unit;C=F.fields;F=F.values;M=0;for(aa=C.length;M<aa;++M)y=C[M],K=O[y.field]||(O[y.field]={}),R=K[r]||
(K[r]=[]),I[y.field]=y=y.type.charAt(0),y=e[y+"_union"],K[r]=y(R,k.array(F[M]));h&&(R=G[r]||(G[r]=[]),R.push(k.array(F).reduce((Y,ea,Ga)=>(Y[C[Ga].field]=ea,Y),{})))}m=m||"union";Object.keys(O).forEach(Y=>{O[Y]=Object.keys(O[Y]).map(ea=>O[Y][ea]).reduce((ea,Ga)=>void 0===ea?Ga:e[I[Y]+"_"+m](ea,Ga))});g=Object.keys(G);h&&g.length&&(O[x?"vlPoint":"vlMulti"]="union"===m?{or:g.reduce((Y,ea)=>(Y.push(...G[ea]),Y),[])}:{and:g.map(Y=>({or:G[Y]}))});return O};w.selectionTest=function(g,m,h){var x=this.context.data[g];
g=x?x.values.value:[];x=x?x["index:unit"]&&x["index:unit"].value:void 0;h="intersect"===h;for(var O=g.length,G=0,I,F,C,r;G<O;++G)if(I=g[G],x&&h){if(F=F||{},C=F[r=I.unit]||0,-1!==C){I=t(m,I);F[r]=I?-1:++C;if(I&&1===x.size)return!0;if(!I&&C===x.get(r).count)return!1}}else if(I=t(m,I),h^I)return I;return O&&h};w.selectionTuples=function(g,m){return g.map(h=>k.extend({values:m.fields.map(x=>(x.getter||(x.getter=k.field(x.field)))(h.datum))},m))};w.selectionVisitor=function(g,m,h,x){m[0].type!==p.Literal&&
k.error("First argument to selection functions must be a string literal.");g=m[0].value;m=2<=m.length&&k.peek(m).value;const O=":"+g;"intersect"!==m||k.hasOwnProperty(x,"@unit")||(x["@unit"]=h.getData(g).indataRef(h,"unit"));k.hasOwnProperty(x,O)||(x[O]=h.getData(g).tuplesRef())};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[42]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(40),L(23),L(27),L(28),L(41),L(24),L(16)):"function"===typeof define&&define.amd?define("exports vega-util vega-expression vega-dataflow vega-scale vega-scenegraph vega-selections vega-statistics vega-time".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,n,f,b,c){function e(Wa){return(Wa=
this.context.data[Wa])?Wa.values.value:[]}function g(Wa,Cb,hc){return(hc=(Wa=this.context.data[Wa]["index:"+Cb])?Wa.value.get(hc):void 0)?hc.count:hc}function m(Wa,Cb){const hc=this.context.dataflow;hc.pulse(this.context.data[Wa].input,hc.changeset().remove(k.truthy).insert(Cb));return 1}function h(Wa,Cb,hc){if(Wa){const yd=this.context.dataflow;yd.pulse(Wa.mark.source,yd.changeset().encode(Wa,Cb))}return void 0!==hc?hc:Wa}function x(Wa,Cb,hc){if(!Number.isInteger(Wa)||!Number.isInteger(Cb))return"";
Bb.setYear(2E3);Bb.setMonth(Wa);Bb.setDate(Cb);return tc.call(this,Bb,hc)}function O(Wa){return x.call(this,Wa,1,"%B")}function G(Wa){return x.call(this,Wa,1,"%b")}function I(Wa){return x.call(this,0,2+Wa,"%A")}function F(Wa){return x.call(this,0,2+Wa,"%a")}function C(Wa,Cb,hc,yd){Cb[0].type!==p.Literal&&k.error("First argument to data functions must be a string literal.");Wa=Cb[0].value;Cb=":"+Wa;if(!k.hasOwnProperty(Cb,yd))try{yd[Cb]=hc.getData(Wa).tuplesRef()}catch(Dd){}}function r(Wa,Cb,hc,yd){Cb[0].type!==
p.Literal&&k.error("First argument to indata must be a string literal.");Cb[1].type!==p.Literal&&k.error("Second argument to indata must be a string literal.");Wa=Cb[0].value;Cb=Cb[1].value;const Dd="@"+Cb;k.hasOwnProperty(Dd,yd)||(yd[Dd]=hc.getData(Wa).indataRef(hc,Cb))}function y(Wa,Cb,hc,yd){if(Cb[0].type===p.Literal)K(hc,yd,Cb[0].value);else for(Wa in hc.scales)K(hc,yd,Wa)}function K(Wa,Cb,hc){const yd="%"+hc;if(!k.hasOwnProperty(Cb,yd))try{Cb[yd]=Wa.scaleRef(hc)}catch(Dd){}}function R(Wa,Cb){let hc;
return k.isFunction(Wa)?Wa:k.isString(Wa)?(hc=Cb.scales[Wa])&&hc.value:void 0}function S(Wa,Cb,hc){Cb.__bandwidth=Dd=>Dd&&Dd.bandwidth?Dd.bandwidth():0;hc._bandwidth=y;hc._range=y;hc._scale=y;const yd=Dd=>"_["+(Dd.type===p.Literal?k.stringValue("%"+Dd.value):k.stringValue("%")+"+"+Wa(Dd))+"]";return{_bandwidth:Dd=>`this.__bandwidth(${yd(Dd[0])})`,_range:Dd=>`${yd(Dd[0])}.range()`,_scale:Dd=>`${yd(Dd[0])}(${Wa(Dd[1])})`}}function ca(Wa){return 1<Wa?Rd:-1>Wa?-Rd:Math.asin(Wa)}function M(){}function aa(Wa,
Cb){if(Wa&&Nc.hasOwnProperty(Wa.type))Nc[Wa.type](Wa,Cb)}function Y(Wa,Cb,hc){var yd=-1;hc=Wa.length-hc;for(Cb.lineStart();++yd<hc;){var Dd=Wa[yd];Cb.point(Dd[0],Dd[1],Dd[2])}Cb.lineEnd()}function ea(Wa,Cb){var hc=-1,yd=Wa.length;for(Cb.polygonStart();++hc<yd;)Y(Wa[hc],Cb,1);Cb.polygonEnd()}function Ga(Wa,Cb){if(Wa&&kc.hasOwnProperty(Wa.type))kc[Wa.type](Wa,Cb);else aa(Wa,Cb)}function X(){sd.point=B}function D(){N(qd,Yd)}function B(Wa,Cb){sd.point=N;qd=Wa;Yd=Cb;Wa*=Le;Cb*=Le;Od=Wa;Jd=ob(Cb=Cb/2+Md);
ed=Ib(Cb)}function N(Wa,Cb){Wa*=Le;Cb*=Le;Cb=Cb/2+Md;var hc=Wa-Od,yd=0<=hc?1:-1,Dd=yd*hc;hc=ob(Cb);Cb=Ib(Cb);var ne=ed*Cb,of=Jd*hc+ne*ob(Dd);yd=ne*yd*Ib(Dd);Jc.add(ha(yd,of));Od=Wa;Jd=hc;ed=Cb}function Z(Wa,Cb){return[Wa[1]*Cb[2]-Wa[2]*Cb[1],Wa[2]*Cb[0]-Wa[0]*Cb[2],Wa[0]*Cb[1]-Wa[1]*Cb[0]]}function Aa(Wa,Cb){Ia.push(gb=[wc=Wa,Lc=Wa]);Cb<Rc&&(Rc=Cb);Cb>ud&&(ud=Cb)}function qa(Wa,Cb){var hc=[Wa*Le,Cb*Le];var yd=hc[0];hc=hc[1];var Dd=ob(hc);yd=[Dd*ob(yd),Dd*Ib(yd),Ib(hc)];if(bc){hc=Z(bc,yd);Dd=hc=Z([hc[1],
-hc[0],0],hc);var ne=Yb(Dd[0]*Dd[0]+Dd[1]*Dd[1]+Dd[2]*Dd[2]);Dd[0]/=ne;Dd[1]/=ne;Dd[2]/=ne;hc=[ha(hc[1],hc[0]),ca(hc[2])];var of=Wa-kb;Dd=0<of?1:-1;ne=hc[0]*Pd*Dd;of=180<Se(of);of^(Dd*kb<ne&&ne<Dd*Wa)?(hc=hc[1]*Pd,hc>ud&&(ud=hc)):(ne=(ne+360)%360-180,of^(Dd*kb<ne&&ne<Dd*Wa))?(hc=-hc[1]*Pd,hc<Rc&&(Rc=hc)):(Cb<Rc&&(Rc=Cb),Cb>ud&&(ud=Cb));of?Wa<kb?ma(wc,Wa)>ma(wc,Lc)&&(Lc=Wa):ma(Wa,Lc)>ma(wc,Lc)&&(wc=Wa):Lc>=wc?(Wa<wc&&(wc=Wa),Wa>Lc&&(Lc=Wa)):Wa>kb?ma(wc,Wa)>ma(wc,Lc)&&(Lc=Wa):ma(Wa,Lc)>ma(wc,Lc)&&(wc=
Wa)}else Ia.push(gb=[wc=Wa,Lc=Wa]);Cb<Rc&&(Rc=Cb);Cb>ud&&(ud=Cb);bc=yd;kb=Wa}function la(){Fb.point=qa}function Ja(){gb[0]=wc;gb[1]=Lc;Fb.point=Aa;bc=null}function bb(Wa,Cb){if(bc){var hc=Wa-kb;fa.add(180<Se(hc)?hc+(0<hc?360:-360):hc)}else Gb=Wa,Pb=Cb;sd.point(Wa,Cb);qa(Wa,Cb)}function ib(){sd.lineStart()}function Ma(){bb(Gb,Pb);sd.lineEnd();1E-6<Se(fa)&&(wc=-(Lc=180));gb[0]=wc;gb[1]=Lc;bc=null}function ma(Wa,Cb){return 0>(Cb-=Wa)?Cb+360:Cb}function Fa(Wa,Cb){return Wa[0]-Cb[0]}function Ra(Wa,Cb){return Wa[0]<=
Wa[1]?Wa[0]<=Cb&&Cb<=Wa[1]:Cb<Wa[0]||Wa[1]<Cb}function ra(Wa,Cb){Wa*=Le;Cb*=Le;var hc=ob(Cb);ya(hc*ob(Wa),hc*Ib(Wa),Ib(Cb))}function ya(Wa,Cb,hc){++Kb;oc+=(Wa-oc)/Kb;Oc+=(Cb-Oc)/Kb;yc+=(hc-yc)/Kb}function oa(){ze.point=xa}function xa(Wa,Cb){Wa*=Le;Cb*=Le;var hc=ob(Cb);Kd=hc*ob(Wa);ee=hc*Ib(Wa);xe=Ib(Cb);ze.point=Ua;ya(Kd,ee,xe)}function Ua(Wa,Cb){Wa*=Le;Cb*=Le;var hc=ob(Cb),yd=hc*ob(Wa);Wa=hc*Ib(Wa);Cb=Ib(Cb);var Dd=ha(Yb((Dd=ee*Cb-xe*Wa)*Dd+(Dd=xe*yd-Kd*Cb)*Dd+(Dd=Kd*Wa-ee*yd)*Dd),Kd*yd+ee*Wa+xe*
Cb);Ob+=Dd;fd+=Dd*(Kd+(Kd=yd));Ec+=Dd*(ee+(ee=Wa));Fd+=Dd*(xe+(xe=Cb));ya(Kd,ee,xe)}function fb(){ze.point=ra}function sa(){ze.point=ja}function Oa(){U(Zd,vd);ze.point=ra}function ja(Wa,Cb){Zd=Wa;vd=Cb;Wa*=Le;Cb*=Le;ze.point=U;var hc=ob(Cb);Kd=hc*ob(Wa);ee=hc*Ib(Wa);xe=Ib(Cb);ya(Kd,ee,xe)}function U(Wa,Cb){Wa*=Le;Cb*=Le;var hc=ob(Cb),yd=hc*ob(Wa);Wa=hc*Ib(Wa);Cb=Ib(Cb);hc=ee*Cb-xe*Wa;var Dd=xe*yd-Kd*Cb,ne=Kd*Wa-ee*yd,of=Ea(hc,Dd,ne),uf=ca(of);of=of&&-uf/of;Be.add(of*hc);fe.add(of*Dd);Ae.add(of*ne);
Ob+=uf;fd+=uf*(Kd+(Kd=yd));Ec+=uf*(ee+(ee=Wa));Fd+=uf*(xe+(xe=Cb));ya(Kd,ee,xe)}function ka(Wa,Cb){return function(hc,yd,Dd){return hc?(hc=R(hc,(Dd||this).context))&&hc.path[Wa](yd):Cb(yd)}}function ua(Wa){const Cb=this.context.group;let hc=!1;if(Cb)for(;Wa;){if(Wa===Cb){hc=!0;break}Wa=Wa.mark.group}return hc}function Ta(Wa,Cb,hc){try{Wa[Cb].apply(Wa,["EXPRESSION"].concat([].slice.call(hc)))}catch(yd){Wa.warn(yd)}return hc[hc.length-1]}function eb(){return Ta(this.context.dataflow,"warn",arguments)}
function lb(){return Ta(this.context.dataflow,"info",arguments)}function nb(){return Ta(this.context.dataflow,"debug",arguments)}function Mb(Wa,Cb,hc){Wa.prototype=Cb.prototype=hc;hc.constructor=Wa}function $b(Wa,Cb){Wa=Object.create(Wa.prototype);for(var hc in Cb)Wa[hc]=Cb[hc];return Wa}function Gc(){}function zc(){return this.rgb().formatHex()}function Bc(){return this.rgb().formatRgb()}function uc(Wa){var Cb,hc;Wa=(Wa+"").trim().toLowerCase();return(Cb=Ff.exec(Wa))?(hc=Cb[1].length,Cb=parseInt(Cb[1],
16),6===hc?id(Cb):3===hc?new Wb(Cb>>8&15|Cb>>4&240,Cb>>4&15|Cb&240,(Cb&15)<<4|Cb&15,1):8===hc?Hb(Cb>>24&255,Cb>>16&255,Cb>>8&255,(Cb&255)/255):4===hc?Hb(Cb>>12&15|Cb>>8&240,Cb>>8&15|Cb>>4&240,Cb>>4&15|Cb&240,((Cb&15)<<4|Cb&15)/255):null):(Cb=$g.exec(Wa))?new Wb(Cb[1],Cb[2],Cb[3],1):(Cb=ie.exec(Wa))?new Wb(255*Cb[1]/100,255*Cb[2]/100,255*Cb[3]/100,1):(Cb=mf.exec(Wa))?Hb(Cb[1],Cb[2],Cb[3],Cb[4]):(Cb=Tf.exec(Wa))?Hb(255*Cb[1]/100,255*Cb[2]/100,255*Cb[3]/100,Cb[4]):(Cb=Gf.exec(Wa))?Sc(Cb[1],Cb[2]/100,
Cb[3]/100,1):(Cb=Ag.exec(Wa))?Sc(Cb[1],Cb[2]/100,Cb[3]/100,Cb[4]):ng.hasOwnProperty(Wa)?id(ng[Wa]):"transparent"===Wa?new Wb(NaN,NaN,NaN,0):null}function id(Wa){return new Wb(Wa>>16&255,Wa>>8&255,Wa&255,1)}function Hb(Wa,Cb,hc,yd){0>=yd&&(Wa=Cb=hc=NaN);return new Wb(Wa,Cb,hc,yd)}function Ab(Wa){Wa instanceof Gc||(Wa=uc(Wa));if(!Wa)return new Wb;Wa=Wa.rgb();return new Wb(Wa.r,Wa.g,Wa.b,Wa.opacity)}function dc(Wa,Cb,hc,yd){return 1===arguments.length?Ab(Wa):new Wb(Wa,Cb,hc,null==yd?1:yd)}function Wb(Wa,
Cb,hc,yd){this.r=+Wa;this.g=+Cb;this.b=+hc;this.opacity=+yd}function mc(){return"#"+Fc(this.r)+Fc(this.g)+Fc(this.b)}function Kc(){var Wa=this.opacity;Wa=isNaN(Wa)?1:Math.max(0,Math.min(1,Wa));return(1===Wa?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===Wa?")":", "+Wa+")")}function Fc(Wa){Wa=Math.max(0,Math.min(255,Math.round(Wa)||0));return(16>Wa?"0":"")+Wa.toString(16)}
function Sc(Wa,Cb,hc,yd){0>=yd?Wa=Cb=hc=NaN:0>=hc||1<=hc?Wa=Cb=NaN:0>=Cb&&(Wa=NaN);return new Ba(Wa,Cb,hc,yd)}function jd(Wa){if(Wa instanceof Ba)return new Ba(Wa.h,Wa.s,Wa.l,Wa.opacity);Wa instanceof Gc||(Wa=uc(Wa));if(!Wa)return new Ba;if(Wa instanceof Ba)return Wa;Wa=Wa.rgb();var Cb=Wa.r/255,hc=Wa.g/255,yd=Wa.b/255,Dd=Math.min(Cb,hc,yd),ne=Math.max(Cb,hc,yd),of=NaN,uf=ne-Dd,Wg=(ne+Dd)/2;uf?(of=Cb===ne?(hc-yd)/uf+6*(hc<yd):hc===ne?(yd-Cb)/uf+2:(Cb-hc)/uf+4,uf/=.5>Wg?ne+Dd:2-ne-Dd,of*=60):uf=0<Wg&&
1>Wg?0:of;return new Ba(of,uf,Wg,Wa.opacity)}function $d(Wa,Cb,hc,yd){return 1===arguments.length?jd(Wa):new Ba(Wa,Cb,hc,null==yd?1:yd)}function Ba(Wa,Cb,hc,yd){this.h=+Wa;this.s=+Cb;this.l=+hc;this.opacity=+yd}function va(Wa,Cb,hc){return 255*(60>Wa?Cb+(hc-Cb)*Wa/60:180>Wa?hc:240>Wa?Cb+(hc-Cb)*(240-Wa)/60:Cb)}function Ca(Wa){if(Wa instanceof jb)return new jb(Wa.l,Wa.a,Wa.b,Wa.opacity);if(Wa instanceof dd)return nd(Wa);Wa instanceof Wb||(Wa=Ab(Wa));var Cb=Vb(Wa.r),hc=Vb(Wa.g),yd=Vb(Wa.b),Dd=yb(.2225045*
Cb+.7168786*hc+.0606169*yd);if(Cb===hc&&hc===yd)var ne=Cb=Dd;else ne=yb((.4360747*Cb+.3850649*hc+.1430804*yd)/.96422),Cb=yb((.0139322*Cb+.0971045*hc+.7141733*yd)/.82521);return new jb(116*Dd-16,500*(ne-Dd),200*(Dd-Cb),Wa.opacity)}function $a(Wa,Cb,hc,yd){return 1===arguments.length?Ca(Wa):new jb(Wa,Cb,hc,null==yd?1:yd)}function jb(Wa,Cb,hc,yd){this.l=+Wa;this.a=+Cb;this.b=+hc;this.opacity=+yd}function yb(Wa){return Wa>og?Math.pow(Wa,1/3):Wa/vg+ig}function Ub(Wa){return Wa>Cf?Wa*Wa*Wa:vg*(Wa-ig)}function Tb(Wa){return 255*
(.0031308>=Wa?12.92*Wa:1.055*Math.pow(Wa,1/2.4)-.055)}function Vb(Wa){return.04045>=(Wa/=255)?Wa/12.92:Math.pow((Wa+.055)/1.055,2.4)}function Ic(Wa){if(Wa instanceof dd)return new dd(Wa.h,Wa.c,Wa.l,Wa.opacity);Wa instanceof jb||(Wa=Ca(Wa));if(0===Wa.a&&0===Wa.b)return new dd(NaN,0<Wa.l&&100>Wa.l?0:NaN,Wa.l,Wa.opacity);var Cb=Math.atan2(Wa.b,Wa.a)*Sg;return new dd(0>Cb?Cb+360:Cb,Math.sqrt(Wa.a*Wa.a+Wa.b*Wa.b),Wa.l,Wa.opacity)}function $c(Wa,Cb,hc,yd){return 1===arguments.length?Ic(Wa):new dd(Wa,Cb,
hc,null==yd?1:yd)}function dd(Wa,Cb,hc,yd){this.h=+Wa;this.c=+Cb;this.l=+hc;this.opacity=+yd}function nd(Wa){if(isNaN(Wa.h))return new jb(Wa.l,0,0,Wa.opacity);var Cb=Wa.h*ug;return new jb(Wa.l,Math.cos(Cb)*Wa.c,Math.sin(Cb)*Wa.c,Wa.opacity)}function xd(Wa){Wa/=255;return.03928>=Wa?Wa/12.92:Math.pow((Wa+.055)/1.055,2.4)}function Nd(Wa){var Cb=dc(Wa);Wa=xd(Cb.r);const hc=xd(Cb.g);Cb=xd(Cb.b);return.2126*Wa+.7152*hc+.0722*Cb}function Xd(Wa,Cb){Wa=Nd(Wa);Cb=Nd(Cb);return(Math.max(Wa,Cb)+.05)/(Math.min(Wa,
Cb)+.05)}function ge(){const Wa=[].slice.call(arguments);Wa.unshift({});return k.extend(...Wa)}function le(Wa,Cb){if(Wa===Cb||Wa!==Wa&&Cb!==Cb)Wa=!0;else if(k.isArray(Wa))if(k.isArray(Cb)&&Wa.length===Cb.length)a:{for(let hc=0,yd=Wa.length;hc<yd;++hc)if(!le(Wa[hc],Cb[hc])){Wa=!1;break a}Wa=!0}else Wa=!1;else Wa=k.isObject(Wa)&&k.isObject(Cb)?qe(Wa,Cb):!1;return Wa}function qe(Wa,Cb){for(const hc in Wa)if(!le(Wa[hc],Cb[hc]))return!1;return!0}function wd(Wa){return Cb=>qe(Wa,Cb)}function qf(Wa,Cb,hc,
yd,Dd,ne){const of=this.context.dataflow,uf=this.context.data[Wa],Wg=uf.input;Wa=of.stamp();let Vf=uf.changes,Xg;if(!1===of._trigger||!(Wg.value.length||Cb||yd))return 0;if(!Vf||Vf.stamp<Wa)uf.changes=Vf=of.changeset(),Vf.stamp=Wa,of.runAfter(()=>{uf.modified=!0;of.pulse(Wg,Vf).run()},!0,1);hc&&(hc=!0===hc?k.truthy:k.isArray(hc)||q.isTuple(hc)?hc:wd(hc),Vf.remove(hc));Cb&&Vf.insert(Cb);yd&&(hc=wd(yd),Wg.value.some(hc)?Vf.remove(hc):Vf.insert(yd));if(Dd)for(Xg in ne)Vf.modify(Dd,Xg,ne[Xg]);return 1}
function gf(Wa){var Cb=Wa.touches;Wa=Cb[0].clientX-Cb[1].clientX;Cb=Cb[0].clientY-Cb[1].clientY;return Math.sqrt(Wa*Wa+Cb*Cb)}function te(Wa){Wa=Wa.touches;return Math.atan2(Wa[0].clientY-Wa[1].clientY,Wa[0].clientX-Wa[1].clientX)}function We(Wa,Cb){Cb=Uf[Cb]||(Uf[Cb]=k.field(Cb));return k.isArray(Wa)?Wa.map(Cb):Cb(Wa)}function za(Wa){return k.isArray(Wa)||ArrayBuffer.isView(Wa)?Wa:null}function Za(Wa){return za(Wa)||(k.isString(Wa)?Wa:null)}function tb(Wa,...Cb){return za(Wa).join(...Cb)}function Jb(Wa,
...Cb){return Za(Wa).indexOf(...Cb)}function fc(Wa,...Cb){return Za(Wa).lastIndexOf(...Cb)}function nc(Wa,...Cb){return Za(Wa).slice(...Cb)}function Hc(Wa,Cb,hc){k.isFunction(hc)&&k.error("Function argument passed to replace.");return String(Wa).replace(Cb,hc)}function Dc(Wa){return za(Wa).slice().reverse()}function lc(Wa,Cb,hc){return t.bandSpace(Wa||0,Cb||0,hc||0)}function ld(Wa,Cb){return(Wa=R(Wa,(Cb||this).context))&&Wa.bandwidth?Wa.bandwidth():0}function rd(Wa,Cb){return(Wa=R(Wa,(Cb||this).context))?
Wa.copy():void 0}function Hd(Wa,Cb){return(Wa=R(Wa,(Cb||this).context))?Wa.domain():[]}function Vd(Wa,Cb,hc){return(Wa=R(Wa,(hc||this).context))?k.isArray(Cb)?(Wa.invertRange||Wa.invert)(Cb):(Wa.invert||Wa.invertExtent)(Cb):void 0}function ce(Wa,Cb){return(Wa=R(Wa,(Cb||this).context))&&Wa.range?Wa.range():[]}function he(Wa,Cb,hc){return(Wa=R(Wa,(hc||this).context))?Wa(Cb):void 0}function Ce(Wa,Cb,hc,yd,Dd){Wa=R(Wa,(Dd||this).context);const ne=n.Gradient(Cb,hc);Cb=Wa.domain();hc=Cb[0];Dd=k.peek(Cb);
let of=k.identity;Dd-hc?of=t.scaleFraction(Wa,hc,Dd):Wa=(Wa.interpolator?t.scale("sequential")().interpolator(Wa.interpolator()):t.scale("linear")().interpolate(Wa.interpolate()).range(Wa.range())).domain([hc=0,Dd=1]);Wa.ticks&&(Cb=Wa.ticks(+yd||15),hc!==Cb[0]&&Cb.unshift(hc),Dd!==k.peek(Cb)&&Cb.push(Dd));Cb.forEach(uf=>ne.stop(of(uf),Wa(uf)));return ne}function re(Wa,Cb,hc){const yd=R(Wa,(hc||this).context);return function(Dd){return yd?yd.path.context(Dd)(Cb):""}}function vf(Wa){let Cb=null;return function(hc){return hc?
n.pathRender(hc,Cb=Cb||n.pathParse(Wa)):Wa}}function Ge(Wa,Cb){Wa=e.call(Cb,Wa);return Wa.root&&Wa.root.lookup||{}}function Re(Wa,Cb,hc){Wa=Ge(Wa,this);Cb=Wa[Cb];hc=Wa[hc];return Cb&&hc?Cb.path(hc).map(Xf):void 0}function af(Wa,Cb){return(Wa=Ge(Wa,this)[Cb])?Wa.ancestors().map(Xf):void 0}function Qb(){const Wa="undefined"!==typeof window&&window||null;return Wa?Wa.screen:{}}function rc(){const Wa="undefined"!==typeof window&&window||null;return Wa?[Wa.innerWidth,Wa.innerHeight]:[void 0,void 0]}function bd(){var Wa=
this.context.dataflow;return(Wa=Wa.container&&Wa.container())?[Wa.clientWidth,Wa.clientHeight]:[void 0,void 0]}function Ad(Wa,Cb,hc){if(!Wa)return[];const [yd,Dd]=Wa;Wa=(new n.Bounds).set(yd[0],yd[1],Dd[0],Dd[1]);hc=hc||this.context.dataflow.scenegraph().root;return n.intersect(hc,Wa,wa(Cb))}function wa(Wa){let Cb=null;if(Wa){const hc=k.array(Wa.marktype),yd=k.array(Wa.markname);Cb=Dd=>(!hc.length||hc.some(ne=>Dd.marktype===ne))&&(!yd.length||yd.some(ne=>Dd.name===ne))}return Cb}function Xa(Wa,Cb,
hc){if(1===arguments.length)return Tg[Wa];Tg[Wa]=Cb;hc&&(Ng[Wa]=hc);Jg&&(Jg.functions[Wa]="this."+Wa);return this}const zb=Wa=>function(Cb,hc){return this.context.dataflow.locale()[Wa](hc)(Cb)},Xb=zb("format"),tc=zb("timeFormat"),gd=zb("utcFormat"),qc=zb("timeParse"),rb=zb("utcParse"),Bb=new Date(2E3,0,1);class ic{constructor(){this._partials=new Float64Array(32);this._n=0}add(Wa){const Cb=this._partials;let hc=0;for(let yd=0;yd<this._n&&32>yd;yd++){const Dd=Cb[yd],ne=Wa+Dd;(Wa=Math.abs(Wa)<Math.abs(Dd)?
Wa-(ne-Dd):Dd-(ne-Wa))&&(Cb[hc++]=Wa);Wa=ne}Cb[hc]=Wa;this._n=hc+1;return this}valueOf(){const Wa=this._partials;let Cb=this._n;let hc,yd=0;if(0<Cb){for(yd=Wa[--Cb];0<Cb;){var Dd=yd;hc=Wa[--Cb];yd=Dd+hc;if(Dd=hc-(yd-Dd))break}0<Cb&&(0>Dd&&0>Wa[Cb-1]||0<Dd&&0<Wa[Cb-1])&&(hc=2*Dd,Dd=yd+hc,hc==Dd-yd&&(yd=Dd))}return yd}}var Uc=Math.PI,Rd=Uc/2,Md=Uc/4,Gd=2*Uc,Pd=180/Uc,Le=Uc/180,Se=Math.abs,ha=Math.atan2,ob=Math.cos,Ea=Math.hypot,Ib=Math.sin,Yb=Math.sqrt,kc={Feature:function(Wa,Cb){aa(Wa.geometry,Cb)},
FeatureCollection:function(Wa,Cb){Wa=Wa.features;for(var hc=-1,yd=Wa.length;++hc<yd;)aa(Wa[hc].geometry,Cb)}},Nc={Sphere:function(Wa,Cb){Cb.sphere()},Point:function(Wa,Cb){Wa=Wa.coordinates;Cb.point(Wa[0],Wa[1],Wa[2])},MultiPoint:function(Wa,Cb){for(var hc=Wa.coordinates,yd=-1,Dd=hc.length;++yd<Dd;)Wa=hc[yd],Cb.point(Wa[0],Wa[1],Wa[2])},LineString:function(Wa,Cb){Y(Wa.coordinates,Cb,0)},MultiLineString:function(Wa,Cb){Wa=Wa.coordinates;for(var hc=-1,yd=Wa.length;++hc<yd;)Y(Wa[hc],Cb,0)},Polygon:function(Wa,
Cb){ea(Wa.coordinates,Cb)},MultiPolygon:function(Wa,Cb){Wa=Wa.coordinates;for(var hc=-1,yd=Wa.length;++hc<yd;)ea(Wa[hc],Cb)},GeometryCollection:function(Wa,Cb){Wa=Wa.geometries;for(var hc=-1,yd=Wa.length;++hc<yd;)aa(Wa[hc],Cb)}},Jc=new ic,pd=new ic,qd,Yd,Od,Jd,ed,sd={point:M,lineStart:M,lineEnd:M,polygonStart:function(){Jc=new ic;sd.lineStart=X;sd.lineEnd=D},polygonEnd:function(){var Wa=+Jc;pd.add(0>Wa?Gd+Wa:Wa);this.lineStart=this.lineEnd=this.point=M},sphere:function(){pd.add(Gd)}},wc,Rc,Lc,ud,
kb,Gb,Pb,bc,fa,Ia,gb,Fb={point:Aa,lineStart:la,lineEnd:Ja,polygonStart:function(){Fb.point=bb;Fb.lineStart=ib;Fb.lineEnd=Ma;fa=new ic;sd.polygonStart()},polygonEnd:function(){sd.polygonEnd();Fb.point=Aa;Fb.lineStart=la;Fb.lineEnd=Ja;0>Jc?(wc=-(Lc=180),Rc=-(ud=90)):1E-6<fa?ud=90:-1E-6>fa&&(Rc=-90);gb[0]=wc;gb[1]=Lc},sphere:function(){wc=-(Lc=180);Rc=-(ud=90)}},Kb,Ob,oc,Oc,yc,fd,Ec,Fd,Be,fe,Ae,Zd,vd,Kd,ee,xe,ze={sphere:M,point:ra,lineStart:oa,lineEnd:fb,polygonStart:function(){ze.lineStart=sa;ze.lineEnd=
Oa},polygonEnd:function(){ze.lineStart=oa;ze.lineEnd=fb}};const Te=ka("area",function(Wa){pd=new ic;Ga(Wa,sd);return 2*pd}),Id=ka("bounds",function(Wa){var Cb,hc,yd;ud=Lc=-(wc=Rc=Infinity);Ia=[];Ga(Wa,Fb);if(Cb=Ia.length){Ia.sort(Fa);Wa=1;var Dd=Ia[0];for(hc=[Dd];Wa<Cb;++Wa){var ne=Ia[Wa];Ra(Dd,ne[0])||Ra(Dd,ne[1])?(ma(Dd[0],ne[1])>ma(Dd[0],Dd[1])&&(Dd[1]=ne[1]),ma(ne[0],Dd[1])>ma(Dd[0],Dd[1])&&(Dd[0]=ne[0])):hc.push(Dd=ne)}var of=-Infinity;Cb=hc.length-1;Wa=0;for(Dd=hc[Cb];Wa<=Cb;Dd=ne,++Wa)ne=hc[Wa],
(yd=ma(Dd[1],ne[0]))>of&&(of=yd,wc=ne[0],Lc=Dd[1])}Ia=gb=null;return Infinity===wc||Infinity===Rc?[[NaN,NaN],[NaN,NaN]]:[[wc,Rc],[Lc,ud]]}),sf=ka("centroid",function(Wa){Kb=Ob=oc=Oc=yc=fd=Ec=Fd=0;Be=new ic;fe=new ic;Ae=new ic;Ga(Wa,ze);Wa=+Be;var Cb=+fe,hc=+Ae,yd=Ea(Wa,Cb,hc);return 1E-12>yd&&(Wa=fd,Cb=Ec,hc=Fd,1E-6>Ob&&(Wa=oc,Cb=Oc,hc=yc),yd=Ea(Wa,Cb,hc),1E-12>yd)?[NaN,NaN]:[ha(Cb,Wa)*Pd,ca(hc/yd)*Pd]});var Af=1/.7,Ff=/^#([0-9a-f]{3,8})$/,$g=RegExp("^rgb\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*\\)$"),
ie=RegExp("^rgb\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),mf=RegExp("^rgba\\(\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d+)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),Tf=RegExp("^rgba\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),
Gf=RegExp("^hsl\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*\\)$"),Ag=RegExp("^hsla\\(\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*,\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*\\)$"),ng={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,
blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,
darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,
lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,
mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,
purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};
Mb(Gc,uc,{copy:function(Wa){return Object.assign(new this.constructor,this,Wa)},displayable:function(){return this.rgb().displayable()},hex:zc,formatHex:zc,formatHsl:function(){return jd(this).formatHsl()},formatRgb:Bc,toString:Bc});Mb(Wb,dc,$b(Gc,{brighter:function(Wa){Wa=null==Wa?Af:Math.pow(Af,Wa);return new Wb(this.r*Wa,this.g*Wa,this.b*Wa,this.opacity)},darker:function(Wa){Wa=null==Wa?.7:Math.pow(.7,Wa);return new Wb(this.r*Wa,this.g*Wa,this.b*Wa,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=
this.r&&255.5>this.r&&-.5<=this.g&&255.5>this.g&&-.5<=this.b&&255.5>this.b&&0<=this.opacity&&1>=this.opacity},hex:mc,formatHex:mc,formatRgb:Kc,toString:Kc}));Mb(Ba,$d,$b(Gc,{brighter:function(Wa){Wa=null==Wa?Af:Math.pow(Af,Wa);return new Ba(this.h,this.s,this.l*Wa,this.opacity)},darker:function(Wa){Wa=null==Wa?.7:Math.pow(.7,Wa);return new Ba(this.h,this.s,this.l*Wa,this.opacity)},rgb:function(){var Wa=this.h%360+360*(0>this.h),Cb=isNaN(Wa)||isNaN(this.s)?0:this.s,hc=this.l;Cb=hc+(.5>hc?hc:1-hc)*
Cb;hc=2*hc-Cb;return new Wb(va(240<=Wa?Wa-240:Wa+120,hc,Cb),va(Wa,hc,Cb),va(120>Wa?Wa+240:Wa-120,hc,Cb),this.opacity)},displayable:function(){return(0<=this.s&&1>=this.s||isNaN(this.s))&&0<=this.l&&1>=this.l&&0<=this.opacity&&1>=this.opacity},formatHsl:function(){var Wa=this.opacity;Wa=isNaN(Wa)?1:Math.max(0,Math.min(1,Wa));return(1===Wa?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===Wa?")":", "+Wa+")")}}));const ug=Math.PI/180,Sg=180/Math.PI,ig=4/29,Cf=6/29,vg=3*
Cf*Cf,og=Cf*Cf*Cf;Mb(jb,$a,$b(Gc,{brighter:function(Wa){return new jb(this.l+18*(null==Wa?1:Wa),this.a,this.b,this.opacity)},darker:function(Wa){return new jb(this.l-18*(null==Wa?1:Wa),this.a,this.b,this.opacity)},rgb:function(){var Wa=(this.l+16)/116,Cb=isNaN(this.a)?Wa:Wa+this.a/500,hc=isNaN(this.b)?Wa:Wa-this.b/200;Cb=.96422*Ub(Cb);Wa=1*Ub(Wa);hc=.82521*Ub(hc);return new Wb(Tb(3.1338561*Cb-1.6168667*Wa-.4906146*hc),Tb(-.9787684*Cb+1.9161415*Wa+.033454*hc),Tb(.0719453*Cb-.2289914*Wa+1.4052427*hc),
this.opacity)}}));Mb(dd,$c,$b(Gc,{brighter:function(Wa){return new dd(this.h,this.c,this.l+18*(null==Wa?1:Wa),this.opacity)},darker:function(Wa){return new dd(this.h,this.c,this.l-18*(null==Wa?1:Wa),this.opacity)},rgb:function(){return nd(this).rgb()}}));const Uf={},Xf=Wa=>Wa.data,Tg={random(){return b.random()},cumulativeNormal:b.cumulativeNormal,cumulativeLogNormal:b.cumulativeLogNormal,cumulativeUniform:b.cumulativeUniform,densityNormal:b.densityNormal,densityLogNormal:b.densityLogNormal,densityUniform:b.densityUniform,
quantileNormal:b.quantileNormal,quantileLogNormal:b.quantileLogNormal,quantileUniform:b.quantileUniform,sampleNormal:b.sampleNormal,sampleLogNormal:b.sampleLogNormal,sampleUniform:b.sampleUniform,isArray:k.isArray,isBoolean:k.isBoolean,isDate:k.isDate,isDefined(Wa){return void 0!==Wa},isNumber:k.isNumber,isObject:k.isObject,isRegExp:k.isRegExp,isString:k.isString,isTuple:q.isTuple,isValid(Wa){return null!=Wa&&Wa===Wa},toBoolean:k.toBoolean,toDate(Wa){return k.toDate(Wa)},toNumber:k.toNumber,toString:k.toString,
indexof:Jb,join:tb,lastindexof:fc,replace:Hc,reverse:Dc,slice:nc,flush:k.flush,lerp:k.lerp,merge:ge,pad:k.pad,peek:k.peek,pluck:We,span:k.span,inrange:k.inrange,truncate:k.truncate,rgb:dc,lab:$a,hcl:$c,hsl:$d,luminance:Nd,contrast:Xd,sequence:function(Wa,Cb,hc){Wa=+Wa;Cb=+Cb;hc=2>(Dd=arguments.length)?(Cb=Wa,Wa=0,1):3>Dd?1:+hc;for(var yd=-1,Dd=Math.max(0,Math.ceil((Cb-Wa)/hc))|0,ne=Array(Dd);++yd<Dd;)ne[yd]=Wa+yd*hc;return ne},format:Xb,utcFormat:gd,utcParse:rb,utcOffset:c.utcOffset,utcSequence:c.utcSequence,
timeFormat:tc,timeParse:qc,timeOffset:c.timeOffset,timeSequence:c.timeSequence,timeUnitSpecifier:c.timeUnitSpecifier,monthFormat:O,monthAbbrevFormat:G,dayFormat:I,dayAbbrevFormat:F,quarter:k.quarter,utcquarter:k.utcquarter,week:c.week,utcweek:c.utcweek,dayofyear:c.dayofyear,utcdayofyear:c.utcdayofyear,warn:eb,info:lb,debug:nb,extent(Wa){return k.extent(Wa)},inScope:ua,intersect:Ad,clampRange:k.clampRange,pinchDistance:gf,pinchAngle:te,screen:Qb,containerSize:bd,windowSize:rc,bandspace:lc,setdata:m,
pathShape:vf,panLinear:k.panLinear,panLog:k.panLog,panPow:k.panPow,panSymlog:k.panSymlog,zoomLinear:k.zoomLinear,zoomLog:k.zoomLog,zoomPow:k.zoomPow,zoomSymlog:k.zoomSymlog,encode:h,modify:qf,lassoAppend:function(Wa,Cb,hc,yd=5){const Dd=Wa[Wa.length-1];return void 0===Dd||Math.sqrt(Math.pow(Dd[0]-Cb,2)+Math.pow(Dd[1]-hc,2))>yd?(Wa.push([Cb,hc]),[...Wa]):Wa},lassoPath:function(Wa){return(null!=Wa?Wa:[]).reduce((Cb,[hc,yd],Dd)=>Cb+(0==Dd?`M ${hc},${yd} `:Dd===Wa.length-1?" Z":`L ${hc},${yd} `),"")},
intersectLasso:function(Wa,Cb,hc){const {x:yd,y:Dd,mark:ne}=hc;hc=(new n.Bounds).set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const [of,uf]of Cb)of<hc.x1&&(hc.x1=of),of>hc.x2&&(hc.x2=of),uf<hc.y1&&(hc.y1=uf),uf>hc.y2&&(hc.y2=uf);hc.translate(yd,Dd);return Ad([[hc.x1,hc.y1],[hc.x2,hc.y2]],Wa,ne).filter(of=>{var uf=of.y;let Wg=0;for(let Vf=0,Xg=Cb.length-1;Vf<Cb.length;Xg=Vf++){const [Fh,qh]=Cb[Xg],[wg,Ug]=Cb[Vf];Ug>uf!=qh>uf&&of.x<(Fh-wg)*
(uf-Ug)/(qh-Ug)+wg&&Wg++}return Wg&1})}},bh="view item group xy x y".split(" "),Ng={},Ig={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:Wa=>`_[${k.stringValue("$"+Wa)}]`,functions:function(Wa){const Cb=p.functions(Wa);bh.forEach(hc=>Cb[hc]="event.vega."+hc);for(const hc in Tg)Cb[hc]="this."+hc;k.extend(Cb,S(Wa,Tg,Ng));return Cb},constants:p.constants,visitors:Ng},Jg=p.codegenExpression(Ig);Xa("bandwidth",ld,y);Xa("copy",rd,y);Xa("domain",Hd,y);Xa("range",ce,y);Xa("invert",
Vd,y);Xa("scale",he,y);Xa("gradient",Ce,y);Xa("geoArea",Te,y);Xa("geoBounds",Id,y);Xa("geoCentroid",sf,y);Xa("geoShape",re,y);Xa("indata",g,r);Xa("data",e,C);Xa("treePath",Re,C);Xa("treeAncestors",af,C);Xa("vlSelectionTest",f.selectionTest,f.selectionVisitor);Xa("vlSelectionIdTest",f.selectionIdTest,f.selectionVisitor);Xa("vlSelectionResolve",f.selectionResolve,f.selectionVisitor);Xa("vlSelectionTuples",f.selectionTuples);w.DataPrefix=":";w.IndexPrefix="@";w.ScalePrefix="%";w.SignalPrefix="$";w.bandspace=
lc;w.bandwidth=ld;w.codeGenerator=Jg;w.codegenParams=Ig;w.containerSize=bd;w.contrast=Xd;w.copy=rd;w.data=e;w.dataVisitor=C;w.dayAbbrevFormat=F;w.dayFormat=I;w.debug=nb;w.domain=Hd;w.encode=h;w.expressionFunction=Xa;w.format=Xb;w.functionContext=Tg;w.geoArea=Te;w.geoBounds=Id;w.geoCentroid=sf;w.geoShape=re;w.inScope=ua;w.indata=g;w.indataVisitor=r;w.indexof=Jb;w.info=lb;w.invert=Vd;w.join=tb;w.lastindexof=fc;w.luminance=Nd;w.merge=ge;w.modify=qf;w.monthAbbrevFormat=G;w.monthFormat=O;w.parseExpression=
function(Wa,Cb){const hc={};let yd;try{Wa=k.isString(Wa)?Wa:k.stringValue(Wa)+"",yd=p.parseExpression(Wa)}catch(Dd){k.error("Expression parse error: "+Wa)}yd.visit(Dd=>{if(Dd.type===p.CallExpression){var ne=Dd.callee.name,of=Ig.visitors[ne];of&&of(ne,Dd.arguments,Cb,hc)}});Wa=Jg(yd);Wa.globals.forEach(Dd=>{const ne="$"+Dd;!k.hasOwnProperty(hc,ne)&&Cb.getSignal(Dd)&&(hc[ne]=Cb.signalRef(Dd))});return{$expr:k.extend({code:Wa.code},Cb.options.ast?{ast:yd}:null),$fields:Wa.fields,$params:hc}};w.pathShape=
vf;w.pinchAngle=te;w.pinchDistance=gf;w.pluck=We;w.range=ce;w.replace=Hc;w.reverse=Dc;w.scale=he;w.scaleGradient=Ce;w.scaleVisitor=y;w.screen=Qb;w.setdata=m;w.slice=nc;w.timeFormat=tc;w.timeParse=qc;w.treeAncestors=af;w.treePath=Re;w.utcFormat=gd;w.utcParse=rb;w.warn=eb;w.windowSize=rc;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[43]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23)):"function"===typeof define&&define.amd?define(["exports","vega-util","vega-dataflow"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega))})(this,function(w,k,p){function q(h,x,O){";"!==O[O.length-1]&&(O="return("+O+");");x=Function(...x.concat(O));return h&&h.functions?x.bind(h.functions):x}function t(h,x,O){if(!h||!k.isObject(h))return h;for(let G=0,
I=g.length,F;G<I;++G)if(F=g[G],k.hasOwnProperty(h,F.key))return F.parse(h,x,O);return h}function n(h,x,O,G){this.dataflow=h;this.transforms=x;this.events=h.events.bind(h);this.expr=G||e;this.signals={};this.scales={};this.nodes={};this.data={};this.fn={};O&&(this.functions=Object.create(O),this.functions.context=this)}function f(h){this.dataflow=h.dataflow;this.transforms=h.transforms;this.events=h.events;this.expr=h.expr;this.signals=Object.create(h.signals);this.scales=Object.create(h.scales);this.nodes=
Object.create(h.nodes);this.data=Object.create(h.data);this.fn=Object.create(h.fn);h.functions&&(this.functions=Object.create(h.functions),this.functions.context=this)}const b=k.toSet(["rule"]),c=k.toSet(["group","image","rect"]);var e={operator:(h,x)=>q(h,["_"],x.code),parameter:(h,x)=>q(h,["datum","_"],x.code),event:(h,x)=>q(h,["event"],x.code),handler:(h,x)=>q(h,["_","event"],`var datum=event.item&&event.item.datum;return ${x.code};`),encode:(h,x)=>{const {marktype:O,channels:G}=x;x="var o\x3ditem,datum\x3do.datum,m\x3d0,$;";
for(var I in G){const F="o["+k.stringValue(I)+"]";x+=`$=${G[I].code};if(${F}!==$)${F}=$,m=1;`}I="";b[O]||(G.x2&&(G.x?(c[O]&&(I+="if(o.x\x3eo.x2)$\x3do.x,o.x\x3do.x2,o.x2\x3d$;"),I+="o.width\x3do.x2-o.x;"):I+="o.x\x3do.x2-(o.width||0);"),G.xc&&(I+="o.x\x3do.xc-(o.width||0)/2;"),G.y2&&(G.y?(c[O]&&(I+="if(o.y\x3eo.y2)$\x3do.y,o.y\x3do.y2,o.y2\x3d$;"),I+="o.height\x3do.y2-o.y;"):I+="o.y\x3do.y2-(o.height||0);"),G.yc&&(I+="o.y\x3do.yc-(o.height||0)/2;"));x+=I;return q(h,["item","_"],x+"return m;")},codegen:{get(h){h=
`[${h.map(k.stringValue).join("][")}]`;const x=Function("_",`return _${h};`);x.path=h;return x},comparator(h,x){let O;h=Function("a","b","var u, v; return "+h.map((G,I)=>{const F=x[I];let C;G.path?(C=`a${G.path}`,G=`b${G.path}`):((O=O||{})["f"+I]=G,C=`this.f${I}(a)`,G=`this.f${I}(b)`);I=-F;return`((u = ${C}) < (v = ${G}) || u == null) && v != null ? ${I}
  : (u > v || v == null) && u != null ? ${F}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${I}
  : v !== v && u === u ? ${F} : `}).join("")+"0;");return O?h.bind(O):h}}},g=[{key:"$ref",parse:function(h,x){return x.get(h.$ref)||k.error("Operator not defined: "+h.$ref)}},{key:"$key",parse:function(h,x){const O="k:"+h.$key+"_"+!!h.$flat;return x.fn[O]||(x.fn[O]=k.key(h.$key,h.$flat,x.expr.codegen))}},{key:"$expr",parse:function(h,x,O){h.$params&&x.parseParameters(h.$params,O);O="e:"+h.$expr.code+"_"+h.$name;return x.fn[O]||(x.fn[O]=k.accessor(x.parameterExpression(h.$expr),h.$fields,h.$name))}},
{key:"$field",parse:function(h,x){if(!h.$field)return null;const O="f:"+h.$field+"_"+h.$name;return x.fn[O]||(x.fn[O]=k.field(h.$field,h.$name,x.expr.codegen))}},{key:"$encode",parse:function(h,x){h=h.$encode;const O={};for(const G in h){const I=h[G];O[G]=k.accessor(x.encodeExpression(I.$expr),I.$fields);O[G].output=I.$output}return O}},{key:"$compare",parse:function(h,x){const O="c:"+h.$compare+"_"+h.$order,G=k.array(h.$compare).map(I=>I&&I.$tupleid?p.tupleid:I);return x.fn[O]||(x.fn[O]=k.compare(G,
h.$order,x.expr.codegen))}},{key:"$context",parse:function(h,x){return x}},{key:"$subflow",parse:function(h,x){const O=h.$subflow;return function(G,I,F){const C=x.fork().parse(O);G=C.get(O.operators[0].id);(I=C.signals.parent)&&I.set(F);G.detachSubflow=()=>x.detach(C);return G}}},{key:"$tupleid",parse:function(){return p.tupleid}}];const m={skip:!0};n.prototype=f.prototype={fork(){const h=new f(this);(this.subcontext||(this.subcontext=[])).push(h);return h},detach(h){this.subcontext=this.subcontext.filter(O=>
O!==h);const x=Object.keys(h.nodes);for(const O of x)h.nodes[O]._targets=null;for(const O of x)h.nodes[O].detach();h.nodes=null},get(h){return this.nodes[h]},set(h,x){return this.nodes[h]=x},add(h,x){const O=this,G=O.dataflow,I=h.value;O.set(h.id,x);"collect"===(h.type+"").toLowerCase()&&I&&(I.$ingest?G.ingest(x,I.$ingest,I.$format):I.$request?G.preload(x,I.$request,I.$format):G.pulse(x,G.changeset().insert(I)));h.root&&(O.root=x);if(h.parent){let F=O.get(h.parent.$ref);F?(G.connect(F,[x]),x.targets().add(F)):
(O.unresolved=O.unresolved||[]).push(()=>{F=O.get(h.parent.$ref);G.connect(F,[x]);x.targets().add(F)})}h.signal&&(O.signals[h.signal]=x);h.scale&&(O.scales[h.scale]=x);if(h.data)for(const F in h.data){const C=O.data[F]||(O.data[F]={});h.data[F].forEach(r=>C[r]=x)}},resolve(){(this.unresolved||[]).forEach(h=>h());delete this.unresolved;return this},operator(h,x){this.add(h,this.dataflow.add(h.value,x))},transform(h,x){this.add(h,this.dataflow.add(this.transforms[(x+"").toLowerCase()]))},stream(h,x){this.set(h.id,
x)},update(h,x,O,G,I){this.dataflow.on(x,O,G,I,h.options)},operatorExpression(h){return this.expr.operator(this,h)},parameterExpression(h){return this.expr.parameter(this,h)},eventExpression(h){return this.expr.event(this,h)},handlerExpression(h){return this.expr.handler(this,h)},encodeExpression(h){return this.expr.encode(this,h)},parse:function(h){const x=this,O=h.operators||[];h.background&&(x.background=h.background);h.eventConfig&&(x.eventConfig=h.eventConfig);h.locale&&(x.locale=h.locale);O.forEach(G=>
x.parseOperator(G));O.forEach(G=>x.parseOperatorParameters(G));(h.streams||[]).forEach(G=>x.parseStream(G));(h.updates||[]).forEach(G=>x.parseUpdate(G));return x.resolve()},parseOperator:function(h){"operator"!==(h.type+"").toLowerCase()&&h.type?this.transform(h,h.type):this.operator(h,h.update?this.operatorExpression(h.update):null)},parseOperatorParameters:function(h){if(h.params){const x=this.get(h.id);x||k.error("Invalid operator id: "+h.id);this.dataflow.connect(x,x.parameters(this.parseParameters(h.params),
h.react,h.initonly))}},parseParameters:function(h,x){x=x||{};const O=this;for(const G in h){const I=h[G];x[G]=k.isArray(I)?I.map(F=>t(F,O,x)):t(I,O,x)}return x},parseStream:function(h){var x=this,O=null!=h.filter?x.eventExpression(h.filter):void 0,G=null!=h.stream?x.get(h.stream):void 0;if(h.source)G=x.events(h.source,h.type,O);else if(h.merge){var I=h.merge.map(F=>x.get(F));G=I[0].merge.apply(I[0],I.slice(1))}h.between&&(I=h.between.map(F=>x.get(F)),G=G.between(I[0],I[1]));h.filter&&(G=G.filter(O));
null!=h.throttle&&(G=G.throttle(+h.throttle));null!=h.debounce&&(G=G.debounce(+h.debounce));null==G&&k.error("Invalid stream definition: "+JSON.stringify(h));h.consume&&G.consume(!0);x.stream(h,G)},parseUpdate:function(h){var x=k.isObject(x=h.source)?x.$ref:x;x=this.get(x);var O=h.update,G=void 0;x||k.error("Source not defined: "+h.source);var I=h.target&&h.target.$expr?this.eventExpression(h.target.$expr):this.get(h.target);O&&O.$expr&&(O.$params&&(G=this.parseParameters(O.$params)),O=this.handlerExpression(O.$expr));
this.update(h,x,I,O,G)},getState:function(h){var x=this,O={};if(h.signals){var G=O.signals={};Object.keys(x.signals).forEach(F=>{const C=x.signals[F];h.signals(F,C)&&(G[F]=C.value)})}if(h.data){var I=O.data={};Object.keys(x.data).forEach(F=>{const C=x.data[F];h.data(F,C)&&(I[F]=C.input.value)})}x.subcontext&&!1!==h.recurse&&(O.subcontext=x.subcontext.map(F=>F.getState(h)));return O},setState:function(h){var x=this,O=x.dataflow,G=h.data,I=h.signals;Object.keys(I||{}).forEach(F=>{O.update(x.signals[F],
I[F],m)});Object.keys(G||{}).forEach(F=>{O.pulse(x.data[F].input,O.changeset().remove(k.truthy).insert(G[F]))});(h.subcontext||[]).forEach((F,C)=>{(C=x.subcontext[C])&&C.setState(F)})}};w.context=function(h,x,O,G){return new n(h,x,O,G)};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[44]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(23),L(28),L(42),L(43),L(17)):"function"===typeof define&&define.amd?define("exports vega-util vega-dataflow vega-scenegraph vega-functions vega-runtime vega-format".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,n,f){function b(Ba){const va=Ba.container();va&&(va.setAttribute("role","graphics-document"),
va.setAttribute("aria-roleDescription","visualization"),c(va,Ba.description()))}function c(Ba,va){Ba&&(null==va?Ba.removeAttribute("aria-label"):Ba.setAttribute("aria-label",va))}function e(Ba){Ba.add(null,va=>{Ba._background=va.bg;Ba._resize=1;return va.bg},{bg:Ba._signals.background})}function g(Ba){const va=Ba._signals.cursor||(Ba._signals.cursor=Ba.add({user:"default",item:null}));Ba.on(Ba.events("view","mousemove"),va,(Ca,$a)=>{const jb=(Ca=va.value)?k.isString(Ca)?Ca:Ca.user:"default";$a=$a.item&&
$a.item.cursor||null;return Ca&&jb===Ca.user&&$a==Ca.item?Ca:{user:jb,item:$a}});Ba.add(null,function(Ca){Ca=Ca.cursor;let $a=this.value;k.isString(Ca)||($a=Ca.item,Ca=Ca.user);m(Ba,Ca&&"default"!==Ca?Ca:$a||Ca);return $a},{cursor:va})}function m(Ba,va){if(Ba=Ba.globalCursor()?"undefined"!==typeof document&&document.body:Ba.container())return null==va?Ba.style.removeProperty("cursor"):Ba.style.cursor=va}function h(Ba,va){Ba=Ba._runtime.data;k.hasOwnProperty(Ba,va)||k.error("Unrecognized data set: "+
va);return Ba[va]}function x(Ba,va){p.isChangeSet(va)||k.error("Second argument to changes must be a changeset.");Ba=h(this,Ba);Ba.modified=!0;return this.pulse(Ba.input,va)}function O(Ba){var va=Ba.padding();return Math.max(0,Ba._viewWidth+va.left+va.right)}function G(Ba){var va=Ba.padding();return Math.max(0,Ba._viewHeight+va.top+va.bottom)}function I(Ba){var va=Ba.padding();Ba=Ba._origin;return[va.left+Ba[0],va.top+Ba[1]]}function F(Ba){var va=I(Ba),Ca=O(Ba),$a=G(Ba);Ba._renderer.background(Ba.background());
Ba._renderer.resize(Ca,$a,va);Ba._handler.origin(va);Ba._resizeListeners.forEach(jb=>{try{jb(Ca,$a)}catch(yb){Ba.error(yb)}})}function C(Ba,va,Ca){function $a(Ub){var Tb=yb,Vb;if(Ub)for(Vb=va;Vb;Vb=Vb.mark.group)if(Vb.mark.name===Ub){Tb=Vb;break}return Tb&&Tb.mark&&Tb.mark.interactive?Tb:{}}function jb(Ub){if(!Ub)return Ca;k.isString(Ub)&&(Ub=$a(Ub));const Tb=Ca.slice();for(;Ub;)Tb[0]-=Ub.x||0,Tb[1]-=Ub.y||0,Ub=Ub.mark&&Ub.mark.group;return Tb}const yb=va?"group"===va.mark.marktype?va:va.mark.group:
null;return{view:k.constant(Ba),item:k.constant(va||{}),group:$a,xy:jb,x:Ub=>jb(Ub)[0],y:Ub=>jb(Ub)[1]}}function r(Ba){Ba=k.extend({defaults:{}},Ba);const va=(Ca,$a)=>{$a.forEach(jb=>{k.isArray(Ca[jb])&&(Ca[jb]=k.toSet(Ca[jb]))})};va(Ba.defaults,["prevent","allow"]);va(Ba,["view","window","selector"]);return Ba}function y(Ba,va,Ca,$a){Ba._eventListeners.push({type:Ca,sources:k.array(va),handler:$a})}function K(Ba,va,Ca){const $a=Ba._eventConfig&&Ba._eventConfig[va];return!1===$a||k.isObject($a)&&
!$a[Ca]?(Ba.warn(`Blocked ${va} ${Ca} event listener.`),!1):!0}function R(Ba){return Ba.item}function S(Ba){return Ba.item.mark.source}function ca(Ba){return function(va,Ca){return Ca.vega.view().changeset().encode(Ca.item,Ba)}}function M(Ba,va,Ca){Ba=document.createElement(Ba);for(const $a in va)Ba.setAttribute($a,va[$a]);null!=Ca&&(Ba.textContent=Ca);return Ba}function aa(Ba,va,Ca){var $a=Math.abs(va-Ba)/Math.max(0,Ca);Ca=Math.pow(10,Math.floor(Math.log($a)/Math.LN10));$a/=Ca;$a>=zc?Ca*=10:$a>=
Bc?Ca*=5:$a>=uc&&(Ca*=2);return va<Ba?-Ca:Ca}function Y(Ba,va,Ca){if(va){var $a=Ca.param,jb=Ca.state;jb||(jb=Ca.state={elements:null,active:!1,set:null,update:yb=>{yb!=Ba.signal($a.signal)&&Ba.runAsync(null,()=>{jb.source=!0;Ba.signal($a.signal,yb)})}},$a.debounce&&(jb.update=k.debounce($a.debounce,jb.update)));(null==$a.input&&$a.element?ea:Ga)(jb,va,$a,Ba);jb.active||(Ba.on(Ba._signals[$a.signal],null,()=>{jb.source?jb.source=!1:jb.set(Ba.signal($a.signal))}),jb.active=!0);return jb}}function ea(Ba,
va,Ca,$a){const jb=Ca.event||"input",yb=()=>Ba.update(va.value);$a.signal(Ca.signal,va.value);va.addEventListener(jb,yb);y($a,va,jb,yb);Ba.set=Ub=>{va.value=Ub;Ub=va.dispatchEvent;var Tb="undefined"!==typeof Event?new Event(jb):{type:jb};Ub.call(va,Tb)}}function Ga(Ba,va,Ca,$a){$a=$a.signal(Ca.signal);const jb=M("div",{"class":"vega-bind"}),yb="radio"===Ca.input?jb:jb.appendChild(M("label"));yb.appendChild(M("span",{"class":"vega-bind-name"},Ca.name||Ca.signal));va.appendChild(jb);va=X;switch(Ca.input){case "checkbox":va=
D;break;case "select":va=B;break;case "radio":va=N;break;case "range":va=Z}va(Ba,yb,Ca,$a)}function X(Ba,va,Ca,$a){const jb=M("input");for(const yb in Ca)"signal"!==yb&&"element"!==yb&&jb.setAttribute("input"===yb?"type":yb,Ca[yb]);jb.setAttribute("name",Ca.signal);jb.value=$a;va.appendChild(jb);jb.addEventListener("input",()=>Ba.update(jb.value));Ba.elements=[jb];Ba.set=yb=>jb.value=yb}function D(Ba,va,Ca,$a){Ca={type:"checkbox",name:Ca.signal};$a&&(Ca.checked=!0);const jb=M("input",Ca);va.appendChild(jb);
jb.addEventListener("change",()=>Ba.update(jb.checked));Ba.elements=[jb];Ba.set=yb=>jb.checked=!!yb||null}function B(Ba,va,Ca,$a){const jb=M("select",{name:Ca.signal}),yb=Ca.labels||[];Ca.options.forEach((Ub,Tb)=>{const Vb={value:Ub};Aa(Ub,$a)&&(Vb.selected=!0);jb.appendChild(M("option",Vb,(yb[Tb]||Ub)+""))});va.appendChild(jb);jb.addEventListener("change",()=>{Ba.update(Ca.options[jb.selectedIndex])});Ba.elements=[jb];Ba.set=Ub=>{for(let Tb=0,Vb=Ca.options.length;Tb<Vb;++Tb)if(Aa(Ca.options[Tb],
Ub)){jb.selectedIndex=Tb;break}}}function N(Ba,va,Ca,$a){const jb=M("span",{"class":"vega-bind-radio"}),yb=Ca.labels||[];va.appendChild(jb);Ba.elements=Ca.options.map((Ub,Tb)=>{var Vb={type:"radio",name:Ca.signal,value:Ub};Aa(Ub,$a)&&(Vb.checked=!0);Vb=M("input",Vb);Vb.addEventListener("change",()=>Ba.update(Ub));Tb=M("label",{},(yb[Tb]||Ub)+"");Tb.prepend(Vb);jb.appendChild(Tb);return Vb});Ba.set=Ub=>{const Tb=Ba.elements,Vb=Tb.length;for(let Ic=0;Ic<Vb;++Ic)Aa(Tb[Ic].value,Ub)&&(Tb[Ic].checked=
!0)}}function Z(Ba,va,Ca,$a){$a=void 0!==$a?$a:(+Ca.max+ +Ca.min)/2;const jb=null!=Ca.max?Ca.max:Math.max(100,+$a)||100,yb=Ca.min||Math.min(0,jb,+$a)||0,Ub=Ca.step||aa(yb,jb,100),Tb=M("input",{type:"range",name:Ca.signal,min:yb,max:jb,step:Ub});Tb.value=$a;const Vb=M("span",{},+$a);va.appendChild(Tb);va.appendChild(Vb);va=()=>{Vb.textContent=Tb.value;Ba.update(+Tb.value)};Tb.addEventListener("input",va);Tb.addEventListener("change",va);Ba.elements=[Tb];Ba.set=Ic=>{Tb.value=Ic;Vb.textContent=Ic}}function Aa(Ba,
va){return Ba===va||Ba+""===va+""}function qa(Ba,va,Ca,$a,jb,yb){va=va||new $a(Ba.loader());return va.initialize(Ca,O(Ba),G(Ba),I(Ba),jb,yb).background(Ba.background())}function la(Ba,va){return va?function(){try{va.apply(this,arguments)}catch(Ca){Ba.error(Ca)}}:null}function Ja(Ba,va,Ca,$a){const jb=(new $a(Ba.loader(),la(Ba,Ba.tooltip()))).scene(Ba.scenegraph().root).initialize(Ca,I(Ba),Ba);va&&va.handlers().forEach(yb=>{jb.on(yb.type,yb.handler)});return jb}function bb(Ba,va,Ca){if("string"===
typeof va)if("undefined"!==typeof document){if(va=document.querySelector(va),!va)return Ba.error("Signal bind element not found: "+va),null}else return Ba.error("DOM document instance not found."),null;if(va&&Ca)try{va.textContent=""}catch($a){va=null,Ba.error($a)}return va}function ib(Ba){k.isObject(Ba)?Ba={top:+Ba.top||0,bottom:+Ba.bottom||0,left:+Ba.left||0,right:+Ba.right||0}:(Ba=+Ba||0,Ba={top:Ba,bottom:Ba,left:Ba,right:Ba});return Ba}function Ma(Ba,va,Ca,$a){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var jb=
q.renderModule(va);(jb=jb&&jb.headless)||k.error("Unrecognized renderer type: "+va);yield Ba.runAsync();return qa(Ba,null,null,jb,Ca,$a).renderAsync(Ba._scenegraph.root)})}function ma(Ba,va,Ca){return n.context(Ba,p.transforms,t.functionContext,Ca).parse(va)}function Fa(Ba,va){var Ca=Ba.autosize();Ba=Ba.padding();return va-(Ca&&"padding"===Ca.contains?Ba.left+Ba.right:0)}function Ra(Ba,va){var Ca=Ba.autosize();Ba=Ba.padding();return va-(Ca&&"padding"===Ca.contains?Ba.top+Ba.bottom:0)}function ra(Ba){function va(){Ba._autosize=
Ba._resize=1}var Ca=Ba._signals,$a=Ca.width,jb=Ca.height;Ca=Ca.padding;Ba._resizeWidth=Ba.add(null,Ub=>{Ba._width=Ub.size;Ba._viewWidth=Fa(Ba,Ub.size);va()},{size:$a});Ba._resizeHeight=Ba.add(null,Ub=>{Ba._height=Ub.size;Ba._viewHeight=Ra(Ba,Ub.size);va()},{size:jb});const yb=Ba.add(null,va,{pad:Ca});Ba._resizeWidth.rank=$a.rank+1;Ba._resizeHeight.rank=jb.rank+1;yb.rank=Ca.rank+1}function ya(Ba,va){return va.modified&&k.isArray(va.input.value)&&Ba.indexOf("_:vega:_")}function oa(Ba,va){return!("parent"===
Ba||va instanceof p.transforms.proxy)}function xa(){return Fc||($d(Ua),Fc=jd.now()+Sc)}function Ua(){Fc=0}function fb(){this._call=this._time=this._next=null}function sa(){Fc=(Kc=jd.now())+Sc;Hb=Ab=0;try{xa();++Hb;for(var Ba=Wb,va;Ba;)0<=(va=Fc-Ba._time)&&Ba._call.call(void 0,va),Ba=Ba._next;--Hb}finally{Hb=0;Ba=Wb;for(var Ca=Infinity;Ba;)if(Ba._call){Ca>Ba._time&&(Ca=Ba._time);var $a=Ba;Ba=Ba._next}else va=Ba._next,Ba._next=null,Ba=$a?$a._next=va:Wb=va;mc=$a;ja(Ca);Fc=0}}function Oa(){var Ba=jd.now(),
va=Ba-Kc;1E3<va&&(Sc-=va,Kc=Ba)}function ja(Ba){Hb||(Ab&&(Ab=clearTimeout(Ab)),24<Ba-Fc?(Infinity>Ba&&(Ab=setTimeout(sa,Ba-jd.now()-Sc)),dc&&(dc=clearInterval(dc))):(dc||(Kc=jd.now(),dc=setInterval(Oa,1E3)),Hb=1,$d(sa)))}function U(Ba,va,Ca){var $a=new fb,jb=va;if(null==va)return $a.restart(Ba,va,Ca),$a;$a._restart=$a.restart;$a.restart=function(yb,Ub,Tb){Ub=+Ub;Tb=null==Tb?xa():+Tb;$a._restart(function $c(Ic){Ic+=jb;$a._restart($c,jb+=Ub,Tb);yb(Ic)},Ub,Tb)};$a.restart(Ba,va,Ca);return $a}function ka(Ba,
va,Ca,$a){if(Ba=Ba.element())va=Ba.setAttribute,$a=null==$a?"":k.isArray($a)?"["+$a.map(Ta).join(", ")+"]":k.isObject($a)&&!k.isDate($a)?ua($a):$a+"",va.call(Ba,"title",$a)}function ua(Ba){return Object.keys(Ba).map(va=>{const Ca=Ba[va];return va+": "+(k.isArray(Ca)?"["+Ca.map(Ta).join(", ")+"]":Ta(Ca))}).join("\n")}function Ta(Ba){return k.isArray(Ba)?"[…]":k.isObject(Ba)&&!k.isDate(Ba)?"{…}":Ba}function eb(Ba,va){va=va||{};p.Dataflow.call(this);va.loader&&this.loader(va.loader);va.logger&&this.logger(va.logger);
null!=va.logLevel&&this.logLevel(va.logLevel);if(va.locale||Ba.locale){var Ca=k.extend({},Ba.locale,va.locale);this.locale(f.locale(Ca.number,Ca.time))}this._elBind=this._el=null;this._renderType=va.renderer||q.RenderType.Canvas;this._scenegraph=new q.Scenegraph;Ca=this._scenegraph.root;this._renderer=null;this._tooltip=va.tooltip||ka;this._redraw=!0;this._handler=(new q.CanvasHandler).scene(Ca);this._preventDefault=this._globalCursor=!1;this._timers=[];this._eventListeners=[];this._resizeListeners=
[];this._eventConfig=r(Ba.eventConfig);this.globalCursor(this._eventConfig.globalCursor);const $a=ma(this,Ba,va.expr);this._runtime=$a;this._signals=$a.signals;this._bind=(Ba.bindings||[]).map(jb=>({state:null,param:k.extend({},jb)}));$a.root&&$a.root.set(Ca);Ca.source=$a.data.root.input;this.pulse($a.data.root.input,this.changeset().insert(Ca.items));this._width=this.width();this._height=this.height();this._viewWidth=Fa(this,this._width);this._viewHeight=Ra(this,this._height);this._origin=[0,0];
this._resize=0;this._autosize=1;ra(this);e(this);g(this);this.description(Ba.description);va.hover&&this.hover();va.container&&this.initialize(va.container,va.bind)}function lb(Ba,va){return k.hasOwnProperty(Ba._signals,va)?Ba._signals[va]:k.error("Unrecognized signal name: "+k.stringValue(va))}function nb(Ba,va){Ba=(Ba._targets||[]).filter(Ca=>Ca._update&&Ca._update.handler===va);return Ba.length?Ba[0]:null}function Mb(Ba,va,Ca,$a){let jb=nb(Ca,$a);jb||(jb=la(Ba,()=>$a(va,Ca.value)),jb.handler=$a,
Ba.on(Ca,null,jb));return Ba}function $b(Ba,va,Ca){(Ca=nb(va,Ca))&&va._targets.remove(Ca);return Ba}const Gc={trap:!1};var zc=Math.sqrt(50),Bc=Math.sqrt(10),uc=Math.sqrt(2),id={skip:!0},Hb=0,Ab=0,dc=0,Wb,mc,Kc=0,Fc=0,Sc=0,jd="object"===typeof performance&&performance.now?performance:Date,$d="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(Ba){setTimeout(Ba,17)};fb.prototype={constructor:fb,restart:function(Ba,va,Ca){if("function"!==typeof Ba)throw new TypeError("callback is not a function");
Ca=(null==Ca?xa():+Ca)+(null==va?0:+va);this._next||mc===this||(mc?mc._next=this:Wb=this,mc=this);this._call=Ba;this._time=Ca;ja()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ja())}};k.inherits(eb,p.Dataflow,{evaluate(Ba,va,Ca){const $a=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield p.Dataflow.prototype.evaluate.call($a,Ba,va);if($a._redraw||$a._resize)try{$a._renderer&&($a._resize&&($a._resize=0,F($a)),yield $a._renderer.renderAsync($a._scenegraph.root)),
$a._redraw=!1}catch(jb){$a.error(jb)}Ca&&p.asyncCallback($a,Ca);return $a})},dirty(Ba){this._redraw=!0;this._renderer&&this._renderer.dirty(Ba)},description(Ba){if(arguments.length){const va=null!=Ba?Ba+"":null;va!==this._desc&&c(this._el,this._desc=va);return this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(Ba,va,Ca){const $a=lb(this,Ba);return 1===arguments.length?$a.value:this.update($a,va,Ca)},width(Ba){return arguments.length?
this.signal("width",Ba):this.signal("width")},height(Ba){return arguments.length?this.signal("height",Ba):this.signal("height")},padding(Ba){return arguments.length?this.signal("padding",ib(Ba)):ib(this.signal("padding"))},autosize(Ba){return arguments.length?this.signal("autosize",Ba):this.signal("autosize")},background(Ba){return arguments.length?this.signal("background",Ba):this.signal("background")},renderer(Ba){if(!arguments.length)return this._renderType;q.renderModule(Ba)||k.error("Unrecognized renderer type: "+
Ba);Ba!==this._renderType&&(this._renderType=Ba,this._resetRenderer());return this},tooltip(Ba){if(!arguments.length)return this._tooltip;Ba!==this._tooltip&&(this._tooltip=Ba,this._resetRenderer());return this},loader(Ba){if(!arguments.length)return this._loader;Ba!==this._loader&&(p.Dataflow.prototype.loader.call(this,Ba),this._resetRenderer());return this},resize(){this._autosize=1;return this.touch(lb(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,
this._elBind))},_resizeView:function(Ba,va,Ca,$a,jb,yb){this.runAfter(Ub=>{let Tb=0;Ub._autosize=0;Ub.width()!==Ca&&(Tb=1,Ub.signal("width",Ca,id),Ub._resizeWidth.skip(!0));Ub.height()!==$a&&(Tb=1,Ub.signal("height",$a,id),Ub._resizeHeight.skip(!0));Ub._viewWidth!==Ba&&(Ub._resize=1,Ub._viewWidth=Ba);Ub._viewHeight!==va&&(Ub._resize=1,Ub._viewHeight=va);if(Ub._origin[0]!==jb[0]||Ub._origin[1]!==jb[1])Ub._resize=1,Ub._origin=jb;Tb&&Ub.run("enter");yb&&Ub.runAfter(Vb=>Vb.resize())},!1,1)},addEventListener(Ba,
va,Ca){let $a=va;Ca&&!1===Ca.trap||($a=la(this,va),$a.raw=va);this._handler.on(Ba,$a);return this},removeEventListener(Ba,va){for(var Ca=this._handler.handlers(Ba),$a=Ca.length,jb,yb;0<=--$a;)if(yb=Ca[$a].type,jb=Ca[$a].handler,Ba===yb&&(va===jb||va===jb.raw)){this._handler.off(yb,jb);break}return this},addResizeListener(Ba){const va=this._resizeListeners;0>va.indexOf(Ba)&&va.push(Ba);return this},removeResizeListener(Ba){var va=this._resizeListeners;Ba=va.indexOf(Ba);0<=Ba&&va.splice(Ba,1);return this},
addSignalListener(Ba,va){return Mb(this,Ba,lb(this,Ba),va)},removeSignalListener(Ba,va){return $b(this,lb(this,Ba),va)},addDataListener(Ba,va){return Mb(this,Ba,h(this,Ba).values,va)},removeDataListener(Ba,va){return $b(this,h(this,Ba).values,va)},globalCursor(Ba){if(arguments.length){if(this._globalCursor!==!!Ba){const va=m(this,null);this._globalCursor=!!Ba;va&&m(this,va)}return this}return this._globalCursor},preventDefault(Ba){return arguments.length?(this._preventDefault=Ba,this):this._preventDefault},
timer:function(Ba,va){this._timers.push(U(function(Ca){Ba({timestamp:Date.now(),elapsed:Ca})},va))},events:function(Ba,va,Ca){var $a=this,jb=new p.EventStream(Ca);Ca=function(Vb,Ic){$a.runAsync(null,()=>{var $c;if($c="view"===Ba){var dd=$a._eventConfig.defaults;$c=dd.prevent;dd=dd.allow;$c=!1===$c||!0===dd?!1:!0===$c||!1===dd?!0:$c?$c[va]:dd?!dd[va]:$a.preventDefault()}$c&&Vb.preventDefault();$c=jb.receive;dd=(dd=$a._renderer)&&dd.canvas();if(dd){var nd=I($a);var xd=Vb.changedTouches?Vb.changedTouches[0]:
Vb;xd=q.point(xd,dd);xd[0]-=nd[0];xd[1]-=nd[1]}Vb.dataflow=$a;Vb.item=Ic;Vb.vega=C($a,Ic,xd);$c.call(jb,Vb)})};var yb;if("timer"===Ba)K($a,"timer",va)&&$a.timer(Ca,va);else if("view"===Ba)K($a,"view",va)&&$a.addEventListener(va,Ca,Gc);else if("window"===Ba?K($a,"window",va)&&"undefined"!==typeof window&&(yb=[window]):"undefined"!==typeof document&&K($a,"selector",va)&&(yb=document.querySelectorAll(Ba)),yb){for(var Ub=0,Tb=yb.length;Ub<Tb;++Ub)yb[Ub].addEventListener(va,Ca);y($a,yb,va,Ca)}else $a.warn("Can not resolve event source: "+
Ba);return jb},finalize:function(){var Ba=this._tooltip,va=this._timers,Ca=this._eventListeners,$a;for($a=va.length;0<=--$a;)va[$a].stop();for($a=Ca.length;0<=--$a;){var jb=Ca[$a];for(va=jb.sources.length;0<=--va;)jb.sources[va].removeEventListener(jb.type,jb.handler)}Ba&&Ba.call(this,this._handler,null,null,null);return this},hover:function(Ba,va){Ba=[Ba||"hover"];va=[va||"update",Ba[0]];this.on(this.events("view","mouseover",R),S,ca(Ba));this.on(this.events("view","mouseout",R),S,ca(va));return this},
data:function(Ba,va){return 2>arguments.length?h(this,Ba).values.value:x.call(this,Ba,p.changeset().remove(k.truthy).insert(va))},change:x,insert:function(Ba,va){return x.call(this,Ba,p.changeset().insert(va))},remove:function(Ba,va){return x.call(this,Ba,p.changeset().remove(va))},scale:function(Ba){var va=this._runtime.scales;k.hasOwnProperty(va,Ba)||k.error("Unrecognized scale or projection: "+Ba);return va[Ba].value},initialize:function(Ba,va){const Ca=this;var $a=Ca._renderType;const jb=Ca._eventConfig.bind;
var yb=q.renderModule($a);Ba=Ca._el=Ba?bb(Ca,Ba,!0):null;b(Ca);yb||Ca.error("Unrecognized renderer type: "+$a);$a=yb.handler||q.CanvasHandler;yb=Ba?yb.renderer:yb.headless;Ca._renderer=yb?qa(Ca,Ca._renderer,Ba,yb):null;Ca._handler=Ja(Ca,Ca._handler,Ba,$a);Ca._redraw=!0;Ba&&"none"!==jb&&(va=va?Ca._elBind=bb(Ca,va,!0):Ba.appendChild(M("form",{"class":"vega-bindings"})),Ca._bind.forEach(Ub=>{Ub.param.element&&"container"!==jb&&(Ub.element=bb(Ca,Ub.param.element,!!Ub.param.input))}),Ca._bind.forEach(Ub=>
{Y(Ca,Ub.element||va,Ub)}));return Ca},toImageURL:function(Ba,va){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Ba!==q.RenderType.Canvas&&Ba!==q.RenderType.SVG&&Ba!==q.RenderType.PNG&&k.error("Unrecognized image type: "+Ba);var $a=yield Ma(Ca,Ba,va);Ba===q.RenderType.SVG?($a=$a.svg(),$a=new Blob([$a],{type:"image/svg+xml"}),$a=window.URL.createObjectURL($a)):$a=$a.canvas().toDataURL("image/png");return $a})},toCanvas:function(Ba,va){const Ca=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ma(Ca,
q.RenderType.Canvas,Ba,va)).canvas()})},toSVG:function(Ba){const va=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return(yield Ma(va,q.RenderType.SVG,Ba)).svg()})},getState:function(Ba){return this._runtime.getState(Ba||{data:ya,signals:oa,recurse:!0})},setState:function(Ba){this.runAsync(null,va=>{va._trigger=!1;va._runtime.setState(Ba)},va=>{va._trigger=!0});return this}});w.View=eb;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[45]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A):"function"===typeof define&&define.amd?define(["exports"],k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={}))})(this,function(w){function k(e,g,m,h,x){const O=e.length;let G=0,I;for(;g<O;++g)if(I=e[g],G||I!==m)x&&0<=x.indexOf(I)?--G:h&&0<=h.indexOf(I)&&++G;else break;return g}function p(e){const g=[],m=e.length;let h=0,x=0;for(;x<m;)x=k(e,x,",","[{","]}"),g.push(e.substring(h,
x).trim()),h=++x;if(0===g.length)throw"Empty event selector: "+e;return g}function q(e){if("["===e[0]){var g=e;var m=g.length;e=k(g,1,"]","[","]");if(e===m)throw"Empty between selector: "+g;m=p(g.substring(1,e));if(2!==m.length)throw"Between selector must have two elements: "+g;g=g.slice(e+1).trim();if("\x3e"!==g[0])throw"Expected '\x3e' after between selector: "+g;m=m.map(q);g=q(g.slice(1).trim());g.between?g={between:m,stream:g}:g.between=m}else{m={source:b};const h=[];let x=[0,0],O=0,G=0,I=e.length,
F=0,C;if("}"===e[I-1]){F=e.lastIndexOf("{");if(0<=F){try{x=t(e.substring(F+1,I-1))}catch(r){throw"Invalid throttle specification: "+e;}e=e.slice(0,F).trim();I=e.length}else throw"Unmatched right brace: "+e;F=0}if(!I)throw e;"@"===e[0]&&(O=++F);C=k(e,F,":");C<I&&(h.push(e.substring(G,C).trim()),G=F=++C);F=k(e,F,"[");if(F===I)h.push(e.substring(G,I).trim());else if(h.push(e.substring(G,F).trim()),g=[],G=++F,G===I)throw"Unmatched left bracket: "+e;for(;F<I;){F=k(e,F,"]");if(F===I)throw"Unmatched left bracket: "+
e;g.push(e.substring(G,F).trim());if(F<I-1&&"["!==e[++F])throw"Expected left bracket: "+e;G=++F}if(!(I=h.length)||n.test(h[I-1]))throw"Invalid event selector: "+e;1<I?(m.type=h[1],O?m.markname=h[0].slice(1):c[h[0]]?m.marktype=h[0]:m.source=h[0]):m.type=h[0];"!"===m.type.slice(-1)&&(m.consume=!0,m.type=m.type.slice(0,-1));null!=g&&(m.filter=g);x[0]&&(m.throttle=x[0]);x[1]&&(m.debounce=x[1]);g=m}return g}function t(e){const g=e.split(",");if(!e.length||2<g.length)throw e;return g.map(m=>{m=+m;if(m!==
m)throw e;return m})}const n=/[[\]{}]/,f={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let b,c;w.parseSelector=function(e,g,m){b=g||"view";c=m||f;return p(e.trim()).map(q)};Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[46]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?k(A,L(14),L(42),L(45),L(27),L(23)):"function"===typeof define&&define.amd?define("exports vega-util vega-functions vega-event-selector vega-scale vega-dataflow".split(" "),k):(w="undefined"!==typeof globalThis?globalThis:w||self,k(w.vega={},w.vega,w.vega,w.vega,w.vega,w.vega))})(this,function(w,k,p,q,t,n){function f(fa){return k.isObject(fa)?fa:{type:fa||"pad"}}function b(fa){k.isObject(fa)?fa=fa.signal?
fa:{top:+fa.top||0,bottom:+fa.bottom||0,left:+fa.left||0,right:+fa.right||0}:(fa=+fa||0,fa={top:fa,bottom:fa,left:fa,right:fa});return fa}function c(fa,Ia,gb,Fb){return null!=gb?(k.isObject(gb)&&!k.isArray(gb)||k.isArray(gb)&&gb.length&&k.isObject(gb[0])?fa.update[Ia]=gb:fa[Fb||"enter"][Ia]={value:gb},1):0}function e(fa,Ia,gb){for(const Fb in Ia)c(fa,Fb,Ia[Fb]);for(const Fb in gb)c(fa,Fb,gb[Fb],"update")}function g(fa,Ia,gb){for(const Fb in Ia)gb&&k.hasOwnProperty(gb,Fb)||(fa[Fb]=k.extend(fa[Fb]||
{},Ia[Fb]));return fa}function m(fa,Ia){return Ia&&(Ia.enter&&Ia.enter[fa]||Ia.update&&Ia.update[fa])}function h(fa,Ia,gb,Fb,Kb){const Ob={},oc={};let Oc,yc;yc="lineBreak";"text"!==Ia||null==Kb[yc]||m(yc,fa)||x(Ob,yc,Kb[yc]);if("legend"==gb||String(gb).startsWith("axis"))gb=null;gb="frame"===gb?Kb.group:"mark"===gb?k.extend({},Kb.mark,Kb[Ia]):null;for(yc in gb)(Ia=m(yc,fa)||("fill"===yc||"stroke"===yc)&&(m("fill",fa)||m("stroke",fa)))||x(Ob,yc,gb[yc]);k.array(Fb).forEach(fd=>{fd=Kb.style&&Kb.style[fd];
for(const Ec in fd)m(Ec,fa)||x(Ob,Ec,fd[Ec])});fa=k.extend({},fa);for(yc in Ob)gb=Ob[yc],gb.signal?(Oc=Oc||{})[yc]=gb:oc[yc]=gb;fa.enter=k.extend(oc,fa.enter);Oc&&(fa.update=k.extend(Oc,fa.update));return fa}function x(fa,Ia,gb){fa[Ia]=gb&&gb.signal?{signal:gb.signal}:{value:gb}}function O(fa){if(null!=fa.gradient)return G(fa);if(fa.signal)var Ia=`(${fa.signal})`;else fa.color?(Ia=fa.color,Ia=Ia.c?he("hcl",Ia.h,Ia.c,Ia.l):Ia.h||Ia.s?he("hsl",Ia.h,Ia.s,Ia.l):Ia.l||Ia.a?he("lab",Ia.l,Ia.a,Ia.b):Ia.r||
Ia.g||Ia.b?he("rgb",Ia.r,Ia.g,Ia.b):null):Ia=null!=fa.field?F(fa.field):void 0!==fa.value?k.stringValue(fa.value):void 0;if(null!=fa.scale){const gb=ce(fa.scale);null!=fa.range?Ia=`lerp(_range(${gb}), ${+fa.range})`:(void 0!==Ia&&(Ia=`_scale(${gb}, ${Ia})`),fa.band&&(Ia=(Ia?Ia+"+":"")+`_bandwidth(${gb})`+(1===+fa.band?"":"*"+I(fa.band)),fa.extra&&(Ia=`(datum.extra ? _scale(${gb}, datum.extra.value) : ${Ia})`)),null==Ia&&(Ia="0"))}void 0===Ia&&(Ia=null);null!=fa.exponent&&(Ia=`pow(${Ia},${I(fa.exponent)})`);
null!=fa.mult&&(Ia+=`*${I(fa.mult)}`);null!=fa.offset&&(Ia+=`+${I(fa.offset)}`);fa.round&&(Ia=`round(${Ia})`);return Ia}function G(fa){const Ia=[fa.start,fa.stop,fa.count].map(gb=>null==gb?null:k.stringValue(gb));for(;Ia.length&&null==k.peek(Ia);)Ia.pop();Ia.unshift(ce(fa.gradient));return`gradient(${Ia.join(",")})`}function I(fa){return k.isObject(fa)?"("+O(fa)+")":fa}function F(fa){return C(k.isObject(fa)?fa:{datum:fa})}function C(fa){let Ia;if(fa.signal){Ia="datum";var gb=fa.signal}else if(fa.group||
fa.parent){gb=Math.max(1,fa.level||1);for(Ia="item";0<gb--;)Ia+=".mark.group";fa.parent?(gb=fa.parent,Ia+=".datum"):gb=fa.group}else fa.datum?(Ia="datum",gb=fa.datum):k.error("Invalid field reference: "+k.stringValue(fa));fa.signal||(gb=k.isString(gb)?k.splitAccessPath(gb).map(k.stringValue).join("]["):C(gb));return Ia+"["+gb+"]"}function r(fa){let Ia="";fa.forEach(gb=>{const Fb=O(gb);Ia+=gb.test?`(${gb.test})?${Fb}:`:Fb});":"===k.peek(Ia)&&(Ia+="null");return Ia}function y(fa,Ia,gb,Fb,Kb,Ob){const oc=
{};Ob=Ob||{};Ob.encoders={$encode:oc};fa=h(fa,Ia,gb,Fb,Kb.config);for(const Fd in fa){gb=fa[Fd];Fb=Ia;var Oc=Ob,yc=Kb;const Be={},fe={};for(const Ae in gb)if(null!=gb[Ae]){var fd=K;var Ec=gb[Ae];Ec=k.isArray(Ec)?r(Ec):O(Ec);Be[Ae]=fd(Ec,yc,Oc,fe)}gb={$expr:{marktype:Fb,channels:Be},$fields:Object.keys(fe),$output:Object.keys(gb)};oc[Fd]=gb}return Ob}function K(fa,Ia,gb,Fb){fa=p.parseExpression(fa,Ia);fa.$fields.forEach(Kb=>Fb[Kb]=1);k.extend(gb,fa.$params);return fa.$expr}function R(fa,Ia){k.error(fa+
' for "outer" push: '+k.stringValue(Ia))}function S(fa,Ia){const gb=fa.name;if("outer"===fa.push)Ia.signals[gb]||R("No prior signal definition",gb),Ce.forEach(Fb=>{void 0!==fa[Fb]&&R("Invalid property ",Fb)});else{const Fb=Ia.addSignal(gb,fa.value);!1===fa.react&&(Fb.react=!1);fa.bind&&Ia.addBinding(gb,fa.bind)}}function ca(fa,Ia,gb,Fb){this.id=-1;this.type=fa;this.value=Ia;this.params=gb;Fb&&(this.parent=Fb)}function M(fa){const Ia={$ref:fa.id};0>fa.id&&(fa.refs=fa.refs||[]).push(Ia);return Ia}function aa(fa,
Ia){return Ia?{$field:fa,$name:Ia}:{$field:fa}}function Y(fa,Ia){fa={$key:fa};Ia&&(fa.$flat=!0);return fa}function ea(fa,Ia){return(fa&&fa.signal?"$"+fa.signal:fa||"")+(fa&&Ia?"_":"")+(Ia&&Ia.signal?"$"+Ia.signal:Ia||"")}function Ga(fa){return fa&&fa.signal}function X(fa){if(Ga(fa))return!0;if(k.isObject(fa))for(const Ia in fa)if(X(fa[Ia]))return!0;return!1}function D(fa,Ia){return null!=fa?fa:Ia}function B(fa){return fa&&fa.signal||fa}function N(fa,Ia){return(fa.merge?Z:fa.stream?Aa:fa.type?qa:k.error("Invalid stream specification: "+
k.stringValue(fa)))(fa,Ia)}function Z(fa,Ia){const gb=fa.merge.map(Fb=>N(Fb,Ia));fa=la({merge:gb},fa,Ia);return Ia.addStream(fa).id}function Aa(fa,Ia){const gb=N(fa.stream,Ia);fa=la({stream:gb},fa,Ia);return Ia.addStream(fa).id}function qa(fa,Ia){if("timer"===fa.type){var gb=Ia.event("timer",fa.throttle);fa={between:fa.between,filter:fa.filter}}else gb=fa.source,gb=Ia.event.call(Ia,"scope"===gb?"view":gb||"view",fa.type);fa=la({stream:gb},fa,Ia);return 1===Object.keys(fa).length?gb:Ia.addStream(fa).id}
function la(fa,Ia,gb){let Fb=Ia.between;Fb&&(2!==Fb.length&&k.error('Stream "between" parameter must have 2 entries: '+k.stringValue(Ia)),fa.between=[N(Fb[0],gb),N(Fb[1],gb)]);Fb=Ia.filter?[].concat(Ia.filter):[];if(Ia.marktype||Ia.markname||Ia.markrole){var Kb=Fb,Ob=Ia.marktype,oc=Ia.markname,Oc=Ia.markrole;Kb.push.call(Kb,"event.item"+(Ob&&"*"!==Ob?"\x26\x26event.item.mark.marktype\x3d\x3d\x3d'"+Ob+"'":"")+(Oc?"\x26\x26event.item.mark.role\x3d\x3d\x3d'"+Oc+"'":"")+(oc?"\x26\x26event.item.mark.name\x3d\x3d\x3d'"+
oc+"'":""))}"scope"===Ia.source&&Fb.push("inScope(event.item)");Fb.length&&(fa.filter=p.parseExpression("("+Fb.join(")\x26\x26(")+")",gb).$expr);null!=(Fb=Ia.throttle)&&(fa.throttle=+Fb);null!=(Fb=Ia.debounce)&&(fa.debounce=+Fb);Ia.consume&&(fa.consume=!0);return fa}function Ja(fa,Ia,gb){const Fb=fa.encode,Kb={target:gb};gb=fa.events;let Ob=fa.update,oc=[];gb||k.error("Signal update missing events specification.");k.isString(gb)&&(gb=q.parseSelector(gb,Ia.isSubscope()?"scope":"view"));gb=k.array(gb).filter(Oc=>
Oc.signal||Oc.scale?(oc.push(Oc),0):1);1<oc.length&&(oc=[bb(oc)]);gb.length&&oc.push(1<gb.length?{merge:gb}:gb[0]);null!=Fb&&(Ob&&k.error("Signal encode and update are mutually exclusive."),Ob="encode(item(),"+k.stringValue(Fb)+")");Kb.update=k.isString(Ob)?p.parseExpression(Ob,Ia):null!=Ob.expr?p.parseExpression(Ob.expr,Ia):null!=Ob.value?Ob.value:null!=Ob.signal?{$expr:vf,$params:{$value:Ia.signalRef(Ob.signal)}}:k.error("Invalid signal update specification.");fa.force&&(Kb.options={force:!0});
oc.forEach(Oc=>{var yc=Ia.addUpdate,fd=k.extend;Oc={source:Oc.signal?Ia.signalRef(Oc.signal):Oc.scale?Ia.scaleRef(Oc.scale):N(Oc,Ia)};return yc.call(Ia,fd.call(k,Oc,Kb))})}function bb(fa){return{signal:"["+fa.map(Ia=>Ia.scale?'scale("'+Ia.scale+'")':Ia.signal)+"]"}}function ib(fa,Ia){const gb=Ia.getSignal(fa.name);let Fb=fa.update;fa.init&&(Fb?k.error("Signals can not include both init and update expressions."):(Fb=fa.init,gb.initonly=!0));Fb&&(Fb=p.parseExpression(Fb,Ia),gb.update=Fb.$expr,gb.params=
Fb.$params);fa.on&&fa.on.forEach(Kb=>Ja(Kb,Ia,gb.id))}function Ma(fa,Ia){return k.isObject(fa)?fa.signal?Ia.signalRef(fa.signal):k.error("Unsupported object: "+k.stringValue(fa)):fa}function ma(fa,Ia){return fa.signal?Ia.signalRef(fa.signal):fa.map(gb=>Ma(gb,Ia))}function Fa(fa){k.error("Can not find data set: "+k.stringValue(fa))}function Ra(fa,Ia,gb){if(fa)return fa.signal?gb.signalRef(fa.signal):(k.isArray(fa)?ra:fa.fields?oa:ya)(fa,Ia,gb);null==Ia.domainMin&&null==Ia.domainMax||k.error("No scale domain defined for domainMin/domainMax to override.")}
function ra(fa,Ia,gb){return fa.map(Fb=>Ma(Fb,gb))}function ya(fa,Ia,gb){const Fb=gb.getData(fa.data);Fb||Fa(fa.data);return t.isDiscrete(Ia.type)?Fb.valuesRef(gb,fa.field,Ua(fa.sort,!1)):t.isQuantile(Ia.type)?Fb.domainRef(gb,fa.field):Fb.extentRef(gb,fa.field)}function oa(fa,Ia,gb){const Fb=fa.data,Kb=fa.fields.reduce((Ob,oc)=>{if(k.isString(oc))oc={data:Fb,field:oc};else if(k.isArray(oc)||oc.signal){var Oc=oc;oc="_:vega:_"+kc++;const yc=rc({});k.isArray(Oc)?yc.value={$ingest:Oc}:Oc.signal&&(Oc=
"setdata("+k.stringValue(oc)+","+Oc.signal+")",yc.params.input=gb.signalRef(Oc));gb.addDataPipeline(oc,[yc,ob({})]);oc={data:oc,field:"data"}}Ob.push(oc);return Ob},[]);return(t.isDiscrete(Ia.type)?xa:t.isQuantile(Ia.type)?fb:sa)(fa,gb,Kb)}function xa(fa,Ia,gb){const Fb=Ua(fa.sort,!0);fa=gb.map(Ob=>{const oc=Ia.getData(Ob.data);oc||Fa(Ob.data);return oc.countsRef(Ia,Ob.field,Fb)});const Kb={groupby:re,pulse:fa};Fb&&(fa=Fb.op||"count",gb=Fb.field?ea(fa,Fb.field):"count",Kb.ops=[Nc[fa]],Kb.fields=[Ia.fieldRef(gb)],
Kb.as=[gb]);fa=Ia.add(Re(Kb));fa=Ia.add(rc({pulse:M(fa)}));gb=Ia.add(Yb({field:re,sort:Ia.sortRef(Fb),pulse:M(fa)}));return M(gb)}function Ua(fa,Ia){fa&&(fa.field||fa.op?fa.field||"count"===fa.op?Ia&&fa.field&&fa.op&&!Nc[fa.op]&&k.error("Multiple domain scales can not be sorted using "+fa.op):k.error("No field provided for sort aggregate op: "+fa.op):k.isObject(fa)?fa.field="key":fa={field:"key"});return fa}function fb(fa,Ia,gb){fa=gb.map(Fb=>{const Kb=Ia.getData(Fb.data);Kb||Fa(Fb.data);return Kb.domainRef(Ia,
Fb.field)});return M(Ia.add(ic({values:fa})))}function sa(fa,Ia,gb){fa=gb.map(Fb=>{const Kb=Ia.getData(Fb.data);Kb||Fa(Fb.data);return Kb.extentRef(Ia,Fb.field)});return M(Ia.add(Bb({extents:fa})))}function Oa(fa,Ia,gb){const Fb=Ia.config.range;let Kb=fa.range;if(Kb.signal)return Ia.signalRef(Kb.signal);if(k.isString(Kb)){if(Fb&&k.hasOwnProperty(Fb,Kb))return fa=k.extend({},fa,{range:Fb[Kb]}),Oa(fa,Ia,gb);"width"===Kb?Kb=[0,{signal:"width"}]:"height"===Kb?Kb=t.isDiscrete(fa.type)?[0,{signal:"height"}]:
[{signal:"height"},0]:k.error("Unrecognized scale range value: "+k.stringValue(Kb))}else{if(Kb.scheme){gb.scheme=k.isArray(Kb.scheme)?ma(Kb.scheme,Ia):Ma(Kb.scheme,Ia);Kb.extent&&(gb.schemeExtent=ma(Kb.extent,Ia));Kb.count&&(gb.schemeCount=Ma(Kb.count,Ia));return}if(Kb.step){gb.rangeStep=Ma(Kb.step,Ia);return}if(t.isDiscrete(fa.type)&&!k.isArray(Kb))return Ra(Kb,fa,Ia);k.isArray(Kb)||k.error("Unsupported range type: "+k.stringValue(Kb))}return Kb.map(Ob=>(k.isArray(Ob)?ma:Ma)(Ob,Ia))}function ja(fa,
Ia,gb){return k.isArray(fa)?fa.map(Fb=>ja(Fb,Ia,gb)):k.isObject(fa)?fa.signal?gb.signalRef(fa.signal):"fit"===Ia?fa:k.error("Unsupported parameter object: "+k.stringValue(fa)):fa}function U(fa){fa.type="group";fa.interactive=fa.interactive||!1;return fa}function ka(fa,Ia){const gb=(Fb,Kb)=>D(fa[Fb],D(Ia[Fb],Kb));gb.isVertical=Fb=>"vertical"===D(fa.direction,Ia.direction||(Fb?Ia.symbolDirection:Ia.gradientDirection));gb.gradientLength=()=>D(fa.gradientLength,Ia.gradientLength||Ia.gradientWidth);gb.gradientThickness=
()=>D(fa.gradientThickness,Ia.gradientThickness||Ia.gradientHeight);gb.entryColumns=()=>D(fa.columns,D(Ia.columns,+gb.isVertical(!0)));return gb}function ua(fa,Ia){return(fa=Ia&&(Ia.update&&Ia.update[fa]||Ia.enter&&Ia.enter[fa]))&&fa.signal?fa:fa?fa.value:null}function Ta(fa,Ia,gb){return`item.anchor === '${"start"}' ? ${fa} : item.anchor === '${"end"}' ? ${Ia} : ${gb}`}function eb(fa,Ia){return Ia?fa?k.isObject(fa)?Object.assign({},fa,{offset:eb(fa.offset,Ia)}):{value:fa,offset:Ia}:Ia:fa}function lb(fa,
Ia){Ia?(fa.name=Ia.name,fa.style=Ia.style||fa.style,fa.interactive=!!Ia.interactive,fa.encode=g(fa.encode,Ia,pd)):fa.interactive=!1;return fa}function nb(fa,Ia,gb,Fb){fa=ka(fa,gb);gb=fa.isVertical();var Kb=fa.gradientThickness();const Ob=fa.gradientLength();let oc,Oc,yc;gb?(gb=[0,1],Oc=[0,0],yc=Kb,Kb=Ob):(gb=[0,0],Oc=[1,0],yc=Ob);Kb={enter:oc={opacity:qd,x:qd,y:qd,width:Vd(yc),height:Vd(Kb)},update:k.extend({},oc,{opacity:Yd,fill:{gradient:Ia,start:gb,stop:Oc}}),exit:{opacity:qd}};e(Kb,{stroke:fa("gradientStrokeColor"),
strokeWidth:fa("gradientStrokeWidth")},{opacity:fa("gradientOpacity")});return lb({type:"rect",role:"legend-gradient",encode:Kb},Fb)}function Mb(fa,Ia,gb,Fb,Kb){fa=ka(fa,gb);const Ob=fa.isVertical();gb=fa.gradientThickness();const oc=fa.gradientLength();var Oc;let yc,fd,Ec,Fd="";Ob?(Oc="y",fd="y2",yc="x",Ec="width",Fd="1-"):(Oc="x",fd="x2",yc="y",Ec="height");Ia={opacity:qd,fill:{scale:Ia,field:"value"}};Ia[Oc]={signal:Fd+"datum.perc",mult:oc};Ia[yc]=qd;Ia[fd]={signal:Fd+"datum.perc2",mult:oc};Ia[Ec]=
Vd(gb);Oc={enter:Ia,update:k.extend({},Ia,{opacity:Yd}),exit:{opacity:qd}};e(Oc,{stroke:fa("gradientStrokeColor"),strokeWidth:fa("gradientStrokeWidth")},{opacity:fa("gradientOpacity")});return lb({type:"rect",role:"legend-band",key:"value",from:Kb,encode:Oc},Fb)}function $b(fa,Ia,gb,Fb){const Kb=ka(fa,Ia);var Ob=Kb.isVertical();const oc=Vd(Kb.gradientThickness()),Oc=Kb.gradientLength();let yc=Kb("labelOverlap"),fd,Ec,Fd,Be="";const fe={enter:fd={opacity:qd},update:Ec={opacity:Yd,text:{field:"label"}},
exit:{opacity:qd}};e(fe,{fill:Kb("labelColor"),fillOpacity:Kb("labelOpacity"),font:Kb("labelFont"),fontSize:Kb("labelFontSize"),fontStyle:Kb("labelFontStyle"),fontWeight:Kb("labelFontWeight"),limit:D(fa.labelLimit,Ia.gradientLabelLimit)});Ob?(fd.align={value:"left"},fd.baseline=Ec.baseline={signal:'datum.perc\x3c\x3d0?"bottom":datum.perc\x3e\x3d1?"top":"middle"'},Ob="y",Fd="x",Be="1-"):(fd.align=Ec.align={signal:'datum.perc\x3c\x3d0?"left":datum.perc\x3e\x3d1?"right":"center"'},fd.baseline={value:"top"},
Ob="x",Fd="y");fd[Ob]=Ec[Ob]={signal:Be+"datum.perc",mult:Oc};fd[Fd]=Ec[Fd]=oc;oc.offset=D(fa.labelOffset,Ia.gradientLabelOffset)||0;yc=yc?{separation:Kb("labelSeparation"),method:yc,order:"datum.index"}:void 0;return lb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Fb,encode:fe,overlap:yc},gb)}function Gc(fa,Ia,gb,Fb,Kb){var Ob=ka(fa,Ia);const oc=gb.entries,Oc=!(!oc||!oc.interactive),yc=oc?oc.name:void 0,fd=Ob("clipHeight"),Ec=Ob("symbolOffset"),Fd={data:"value"},Be=`(${Kb}) ? datum.${"offset"} : datum.${"size"}`,
fe=fd?Vd(fd):{field:"size"},Ae=`max(1, ${Kb})`;let Zd,vd;fe.mult=.5;var Kd={enter:Zd={opacity:qd,x:{signal:Be,mult:.5,offset:Ec},y:fe},update:vd={opacity:Yd,x:Zd.x,y:Zd.y},exit:{opacity:qd}};let ee=null,xe=null;fa.fill||(ee=Ia.symbolBaseFillColor,xe=Ia.symbolBaseStrokeColor);e(Kd,{fill:Ob("symbolFillColor",ee),shape:Ob("symbolType"),size:Ob("symbolSize"),stroke:Ob("symbolStrokeColor",xe),strokeDash:Ob("symbolDash"),strokeDashOffset:Ob("symbolDashOffset"),strokeWidth:Ob("symbolStrokeWidth")},{opacity:Ob("symbolOpacity")});
Jc.forEach(ze=>{fa[ze]&&(vd[ze]=Zd[ze]={scale:fa[ze],field:"value"})});Ia=lb({type:"symbol",role:"legend-symbol",key:"value",from:Fd,clip:fd?!0:void 0,encode:Kd},gb.symbols);Kd=Vd(Ec);Kd.offset=Ob("labelOffset");Kd={enter:Zd={opacity:qd,x:{signal:Be,offset:Kd},y:fe},update:vd={opacity:Yd,text:{field:"label"},x:Zd.x,y:Zd.y},exit:{opacity:qd}};e(Kd,{align:Ob("labelAlign"),baseline:Ob("labelBaseline"),fill:Ob("labelColor"),fillOpacity:Ob("labelOpacity"),font:Ob("labelFont"),fontSize:Ob("labelFontSize"),
fontStyle:Ob("labelFontStyle"),fontWeight:Ob("labelFontWeight"),limit:Ob("labelLimit")});gb=lb({type:"text",role:"legend-label",style:"guide-label",key:"value",from:Fd,encode:Kd},gb.labels);Kd={enter:{noBound:{value:!fd},width:qd,height:fd?Vd(fd):qd,opacity:qd},exit:{opacity:qd},update:vd={opacity:Yd,row:{signal:null},column:{signal:null}}};Ob.isVertical(!0)?(Ob=`ceil(item.mark.items.length / ${Ae})`,vd.row.signal=`${"datum.index"}%${Ob}`,vd.column.signal=`floor(${"datum.index"} / ${Ob})`,Ob={field:["row",
"datum.index"]}):(vd.row.signal=`floor(${"datum.index"} / ${Ae})`,vd.column.signal=`${"datum.index"} % ${Ae}`,Ob={field:"datum.index"});vd.column.signal=`(${Kb})?${vd.column.signal}:${"datum.index"}`;Fb={facet:{data:Fb,name:"value",groupby:"index"}};return U({role:"scope",from:Fb,encode:g(Kd,oc,pd),marks:[Ia,gb],name:yc,interactive:Oc,sort:Ob})}function zc(fa,Ia){fa=ka(fa,Ia);return{align:fa("gridAlign"),columns:fa.entryColumns(),center:{row:!0,column:!1},padding:{row:fa("rowPadding"),column:fa("columnPadding")}}}
function Bc(fa,Ia,gb,Fb){Ia=ka(fa,Ia);const Kb={enter:{opacity:qd},update:{opacity:Yd,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:qd}};e(Kb,{orient:Ia("titleOrient"),_anchor:Ia("titleAnchor"),anchor:{signal:'item._anchor || ((item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? "middle" : "start")'},angle:{signal:'datum.vgrad \x26\x26 (item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right") ? (item.orient \x3d\x3d\x3d "left" ? -90 : 90) : 0'},
align:{signal:ed},baseline:{signal:sd},text:fa.title,fill:Ia("titleColor"),fillOpacity:Ia("titleOpacity"),font:Ia("titleFont"),fontSize:Ia("titleFontSize"),fontStyle:Ia("titleFontStyle"),fontWeight:Ia("titleFontWeight"),limit:Ia("titleLimit"),lineHeight:Ia("titleLineHeight")},{align:Ia("titleAlign"),baseline:Ia("titleBaseline")});return lb({type:"text",role:"legend-title",style:"guide-title",from:Fb,encode:Kb},gb)}function uc(fa,Ia){let gb;k.isObject(fa)&&(fa.signal?gb=fa.signal:fa.path?gb="pathShape("+
id(fa.path)+")":fa.sphere&&(gb="geoShape("+id(fa.sphere)+', {type: "Sphere"})'));return gb?Ia.signalRef(gb):!!fa}function id(fa){return k.isObject(fa)&&fa.signal?fa.signal:k.stringValue(fa)}function Hb(fa){const Ia=fa.role||"";return Ia.indexOf("axis")&&Ia.indexOf("legend")&&Ia.indexOf("title")?"group"===fa.type?"scope":Ia||"mark":Ia}function Ab(fa){return{marktype:fa.type,name:fa.name||void 0,role:fa.role||Hb(fa),zindex:+fa.zindex||void 0,aria:fa.aria,description:fa.description}}function dc(fa,Ia){return fa&&
fa.signal?Ia.signalRef(fa.signal):!1===fa?!1:!0}function Wb(fa,Ia){const gb=n.definition(fa.type);gb||k.error("Unrecognized transform type: "+k.stringValue(fa.type));var Fb=gb.type.toLowerCase();var Kb=mc(gb,fa,Ia);Fb=new ca(Fb,null,Kb,void 0);fa.signal&&Ia.addSignal(fa.signal,Ia.proxy(Fb));Fb.metadata=gb.metadata||{};return Fb}function mc(fa,Ia,gb){const Fb={},Kb=fa.params.length;for(let Ob=0;Ob<Kb;++Ob){const oc=fa.params[Ob];Fb[oc.name]=Kc(oc,Ia,gb)}return Fb}function Kc(fa,Ia,gb){const Fb=fa.type,
Kb=Ia[fa.name];if("index"===Fb)return Sc(fa,Ia,gb);if(void 0===Kb)fa.required&&k.error("Missing required "+k.stringValue(Ia.type)+" parameter: "+k.stringValue(fa.name));else return"param"===Fb?jd(fa,Ia,gb):"projection"===Fb?gb.projectionRef(Ia[fa.name]):fa.array&&!Ga(Kb)?Kb.map(Ob=>Fc(fa,Ob,gb)):Fc(fa,Kb,gb)}function Fc(fa,Ia,gb){const Fb=fa.type;return Ga(Ia)?"expr"===Fb?k.error("Expression references can not be signals."):"field"===Fb?gb.fieldRef(Ia):"compare"===Fb?gb.compareRef(Ia):gb.signalRef(Ia.signal):
(fa=fa.expr||"field"===Fb)&&Ia&&Ia.expr?gb.exprRef(Ia.expr,Ia.as):fa&&Ia&&Ia.field?aa(Ia.field,Ia.as):"expr"===Fb?p.parseExpression(Ia,gb):"data"===Fb?M(gb.getData(Ia).values):"field"===Fb?aa(Ia):"compare"===Fb?gb.compareRef(Ia):Ia}function Sc(fa,Ia,gb){k.isString(Ia.from)||k.error('Lookup "from" parameter must be a string literal.');return gb.getData(Ia.from).lookupRef(gb,Ia.key)}function jd(fa,Ia,gb){Ia=Ia[fa.name];return fa.array?(k.isArray(Ia)||k.error("Expected an array of sub-parameters. Instead: "+
k.stringValue(Ia)),Ia.map(Fb=>$d(fa,Fb,gb))):$d(fa,Ia,gb)}function $d(fa,Ia,gb){const Fb=fa.params.length;let Kb;for(let Ob=0;Ob<Fb;++Ob){Kb=fa.params[Ob];for(const oc in Kb.key)if(Kb.key[oc]!==Ia[oc]){Kb=null;break}if(Kb)break}Kb||k.error("Unsupported parameter: "+k.stringValue(Ia));fa=k.extend(mc(Kb,Ia,gb),Kb.key);return M(gb.add(Rd(fa)))}function Ba(fa,Ia,gb){let Fb,Kb,Ob,oc;if(!fa)Ob=M(gb.add(rc(null,[{}])));else if(Fb=fa.facet)Ia||k.error("Only group marks can be faceted."),null!=Fb.field?Ob=
oc=va(Fb,gb):(fa.data?oc=M(gb.getData(fa.data).aggregate):(Ia=Wb(k.extend({type:"aggregate",groupby:k.array(Fb.groupby)},Fb.aggregate),gb),Ia.params.key=gb.keyRef(Fb.groupby),Ia.params.pulse=va(Fb,gb),Ob=oc=M(gb.add(Ia))),Kb=gb.keyRef(Fb.groupby,!0));Ob||(Ob=va(fa,gb));return{key:Kb,pulse:Ob,parent:oc}}function va(fa,Ia){return fa.$ref?fa:fa.data&&fa.data.$ref?fa.data:M(Ia.getData(fa.data).output)}function Ca(fa,Ia,gb,Fb,Kb){this.scope=fa;this.input=Ia;this.output=gb;this.values=Fb;this.aggregate=
Kb;this.index={}}function $a(fa){return k.isString(fa)?fa:null}function jb(fa,Ia,gb){const Fb=ea(gb.op,gb.field);let Kb;if(Ia.ops)for(let Ob=0,oc=Ia.as.length;Ob<oc;++Ob){if(Ia.as[Ob]===Fb)return}else Ia.ops=["count"],Ia.fields=[null],Ia.as=["count"];gb.op&&(Ia.ops.push((Kb=gb.op.signal)?fa.signalRef(Kb):gb.op),Ia.fields.push(fa.fieldRef(gb.field)),Ia.as.push(Fb))}function yb(fa,Ia,gb,Fb,Kb,Ob,oc){gb=Ia[gb]||(Ia[gb]={});var Oc=k.isObject(Ob)?("descending"===Ob.order?"-":"+")+ea(Ob.op,Ob.field):"";
let yc=$a(Kb);if(null!=yc){fa=Ia.scope;yc+=Oc?"|"+Oc:"";var fd=gb[yc]}fd||(fd=Ob?{field:re,pulse:Ia.countsRef(fa,Kb,Ob)}:{field:fa.fieldRef(Kb),pulse:M(Ia.output)},Oc&&(fd.sort=fa.sortRef(Ob)),fa=fa.add(new ca(Fb,void 0,fd,void 0)),oc&&(Ia.index[Kb]=fa),fd=M(fa),null!=yc&&(gb[yc]=fd));return fd}function Ub(fa,Ia,gb){var Fb=fa.from.facet;const Kb=Fb.name,Ob=va(Fb,Ia);let oc;Fb.name||k.error("Facet must have a name: "+k.stringValue(Fb));Fb.data||k.error("Facet must reference a data set: "+k.stringValue(Fb));
Fb.field?oc=Ia.add(Md({field:Ia.fieldRef(Fb.field),pulse:Ob})):Fb.groupby?oc=Ia.add(zb({key:Ia.keyRef(Fb.groupby),group:M(Ia.proxy(gb.parent)),pulse:Ob})):k.error("Facet must specify groupby or field: "+k.stringValue(Fb));Ia=Ia.fork();gb=Ia.add(rc());Fb=Ia.add(ob({pulse:M(gb)}));Ia.addData(Kb,new Ca(Ia,gb,gb,Fb));Ia.addSignal("parent",null);oc.params.subflow={$subflow:Ia.parse(fa).toRuntime()}}function Tb(fa,Ia,gb){gb=Ia.add(Md({pulse:gb.pulse}));Ia=Ia.fork();Ia.add(ob());Ia.addSignal("parent",null);
gb.params.subflow={$subflow:Ia.parse(fa).toRuntime()}}function Vb(fa,Ia,gb){const Fb=fa.remove,Kb=fa.insert,Ob=fa.toggle,oc=fa.modify,Oc=fa.values,yc=Ia.add(new ca("operator",void 0,void 0,void 0));fa="if("+fa.trigger+',modify("'+gb+'",'+[Kb,Fb,Ob,oc,Oc].map(fd=>null==fd?"null":fd).join(",")+"),0)";Ia=p.parseExpression(fa,Ia);yc.update=Ia.$expr;yc.params=Ia.$params}function Ic(fa,Ia){var gb=Hb(fa),Fb="group"===fa.type,Kb=fa.from&&fa.from.facet;const Ob=fa.overlap;let oc=fa.layout||"scope"===gb||"frame"===
gb,Oc,yc,fd,Ec,Fd,Be;const fe="mark"===gb||oc||Kb,Ae=Ba(fa.from,Fb,Ia);yc=Ia.add(Ad({key:Ae.key||(fa.key?aa(fa.key):void 0),pulse:Ae.pulse,clean:!Fb}));const Zd=M(yc);yc=fd=Ia.add(rc({pulse:Zd}));yc=Ia.add(rb({markdef:Ab(fa),interactive:dc(fa.interactive,Ia),clip:uc(fa.clip,Ia),context:{$context:!0},groups:Ia.lookup(),parent:Ia.signals.parent?Ia.signalRef("parent"):null,index:Ia.markpath(),pulse:M(yc)}));var vd=M(yc);yc=Ec=Ia.add(wa(y(fa.encode,fa.type,gb,fa.style,Ia,{mod:!1,pulse:vd})));yc.params.parent=
Ia.encode();fa.transform&&fa.transform.forEach(ee=>{ee=Wb(ee,Ia);const xe=ee.metadata;(xe.generates||xe.changes)&&k.error("Mark transforms should not generate new data.");xe.nomod||(Ec.params.mod=!0);ee.params.pulse=M(yc);Ia.add(yc=ee)});fa.sort&&(yc=Ia.add(Ea({sort:Ia.compareRef(fa.sort),pulse:M(yc)})));gb=M(yc);if(Kb||oc)oc=Ia.add(Ib({layout:Ia.objectProperty(fa.layout),legends:Ia.legends,mark:vd,pulse:gb})),Be=M(oc);const Kd=Ia.add(Qb({mark:vd,pulse:Be||gb}));vd=M(Kd);Fb&&(fe&&(Oc=Ia.operators,
Oc.pop(),oc&&Oc.pop()),Ia.pushState(gb,Be||vd,Zd),Kb?Ub(fa,Ia,Ae):fe?Tb(fa,Ia,Ae):Ia.parse(fa),Ia.popState(),fe&&(oc&&Oc.push(oc),Oc.push(Kd)));Ob&&(vd=$c(Ob,vd,Ia));Fb=Ia.add(Se({pulse:vd}));Kb=Ia.add(ob({pulse:M(Fb)},void 0,Ia.parent()));null!=fa.name&&(Fd=fa.name,Ia.addData(Fd,new Ca(Ia,fd,Fb,Kb)),fa.on&&fa.on.forEach(ee=>{(ee.insert||ee.remove||ee.toggle)&&k.error("Marks only support modify triggers.");Vb(ee,Ia,Fd)}))}function $c(fa,Ia,gb){const Fb=fa.method,Kb=fa.bound,Ob=fa.separation;Ia={separation:Ga(Ob)?
gb.signalRef(Ob.signal):Ob,method:Ga(Fb)?gb.signalRef(Fb.signal):Fb,pulse:Ia};fa.order&&(Ia.sort=gb.compareRef({field:fa.order}));Kb&&(fa=Kb.tolerance,Ia.boundTolerance=Ga(fa)?gb.signalRef(fa.signal):+fa,Ia.boundScale=gb.scaleRef(Kb.scale),Ia.boundOrient=Kb.orient);return M(gb.add(Uc(Ia)))}function dd(fa,Ia){const gb=Ia.config.legend,Fb=fa.encode||{},Kb=ka(fa,gb),Ob=Fb.legend||{},oc=Ob.name||void 0,Oc=Ob.interactive,yc=Ob.style,fd={};let Ec=0,Fd,Be;Jc.forEach(Kd=>fa[Kd]?(fd[Kd]=fa[Kd],Ec=Ec||fa[Kd]):
0);Ec||k.error("Missing valid scale for legend.");var fe=nd(fa,Ia.scaleType(Ec));const Ae={title:null!=fa.title,scales:fd,type:fe,vgrad:"symbol"!==fe&&Kb.isVertical()},Zd=M(Ia.add(rc(null,[Ae]))),vd=M(Ia.add(gd(Be={type:fe,scale:Ia.scaleRef(Ec),count:Ia.objectProperty(Kb("tickCount")),limit:Ia.property(Kb("symbolLimit")),values:Ia.objectProperty(fa.values),minstep:Ia.property(fa.tickMinStep),formatType:Ia.property(fa.formatType),formatSpecifier:Ia.property(fa.format)})));"gradient"===fe?(fe=[nb(fa,
Ec,gb,Fb.gradient),$b(fa,gb,Fb.labels,vd)],Be.count=Be.count||Ia.signalRef(`max(2,2*floor((${B(Kb.gradientLength())})/100))`)):"discrete"===fe?fe=[Mb(fa,Ec,gb,Fb.gradient,vd),$b(fa,gb,Fb.labels,vd)]:(Fd=zc(fa,gb),fe=[Gc(fa,gb,Fb,vd,B(Fd.columns))],Be.size=Xd(fa,Ia,fe[0].marks));fe=[U({role:"legend-entry",from:Zd,encode:{enter:{x:{value:0},y:{value:0}}},marks:fe,layout:Fd,interactive:Oc})];Ae.title&&fe.push(Bc(fa,gb,Fb.title,Zd));return Ic(U({role:"legend",from:Zd,encode:g(Nd(Kb,fa,gb),Ob,pd),marks:fe,
aria:Kb("aria"),description:Kb("description"),zindex:Kb("zindex"),name:oc,interactive:Oc,style:yc}),Ia)}function nd(fa,Ia){let gb=fa.type||"symbol";fa.type||1!==xd(fa)||!fa.fill&&!fa.stroke||(gb=t.isContinuous(Ia)?"gradient":t.isDiscretizing(Ia)?"discrete":"symbol");return"gradient"!==gb?gb:t.isDiscretizing(Ia)?"discrete":"gradient"}function xd(fa){return Jc.reduce((Ia,gb)=>Ia+(fa[gb]?1:0),0)}function Nd(fa,Ia,gb){const Fb={enter:{},update:{}};e(Fb,{orient:fa("orient"),offset:fa("offset"),padding:fa("padding"),
titlePadding:fa("titlePadding"),cornerRadius:fa("cornerRadius"),fill:fa("fillColor"),stroke:fa("strokeColor"),strokeWidth:gb.strokeWidth,strokeDash:gb.strokeDash,x:fa("legendX"),y:fa("legendY"),format:Ia.format,formatType:Ia.formatType});return Fb}function Xd(fa,Ia,gb){const Fb=B(ge("size",fa,gb));fa=B(ge("strokeWidth",fa,gb));(gb=ua("fontSize",gb[1].encode))||(gb=(gb=Ia.config.style["guide-label"])&&gb.fontSize);gb=B(gb);return p.parseExpression(`max(ceil(sqrt(${Fb})+${fa}),${gb})`,Ia)}function ge(fa,
Ia,gb){return Ia[fa]?`scale("${Ia[fa]}",datum)`:ua(fa,gb[0].encode)}function le(fa,Ia){fa=k.isString(fa)?{text:fa}:fa;const gb=ka(fa,Ia.config.title);var Fb=fa.encode||{},Kb=Fb.group||{};const Ob=Kb.name||void 0,oc=Kb.interactive,Oc=Kb.style,yc=[],fd=M(Ia.add(rc(null,[{}])));var Ec=yc.push,Fd=fa;var Be=(Be=fa.encode)&&Be.title||k.extend({name:fa.name,interactive:fa.interactive,style:fa.style},Be);var fe={value:0};fe={enter:{opacity:fe},update:{opacity:{value:1}},exit:{opacity:fe}};e(fe,{text:Fd.text,
align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:gb("dx"),dy:gb("dy"),fill:gb("color"),font:gb("font"),fontSize:gb("fontSize"),fontStyle:gb("fontStyle"),fontWeight:gb("fontWeight"),lineHeight:gb("lineHeight")},{align:gb("align"),angle:gb("angle"),baseline:gb("baseline")});Fd=lb({type:"text",role:"title-text",style:"group-title",from:fd,encode:fe},Be);Ec.call(yc,Fd);fa.subtitle&&(Ec=yc.push,Fb=Fb.subtitle,Fd={value:0},
Fd={enter:{opacity:Fd},update:{opacity:{value:1}},exit:{opacity:Fd}},e(Fd,{text:fa.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:gb("dx"),dy:gb("dy"),fill:gb("subtitleColor"),font:gb("subtitleFont"),fontSize:gb("subtitleFontSize"),fontStyle:gb("subtitleFontStyle"),fontWeight:gb("subtitleFontWeight"),lineHeight:gb("subtitleLineHeight")},{align:gb("align"),angle:gb("angle"),baseline:gb("baseline")}),fa=
lb({type:"text",role:"title-subtitle",style:"group-subtitle",from:fd,encode:Fd},Fb),Ec.call(yc,fa));fa={enter:{},update:{}};e(fa,{orient:gb("orient"),anchor:gb("anchor"),align:{signal:Od},angle:{signal:'item.orient\x3d\x3d\x3d"left"?-90:item.orient\x3d\x3d\x3d"right"?90:0'},limit:gb("limit"),frame:gb("frame"),offset:gb("offset")||0,padding:gb("subtitlePadding")});Kb=g(fa,Kb,pd);return Ic(U({role:"title",from:fd,encode:Kb,marks:yc,aria:gb("aria"),description:gb("description"),zindex:gb("zindex"),name:Ob,
interactive:oc,style:Oc}),Ia)}function qe(fa,Ia){const gb=[];fa.transform&&fa.transform.forEach(Fb=>{gb.push(Wb(Fb,Ia))});fa.on&&fa.on.forEach(Fb=>{Vb(Fb,Ia,fa.name)});Ia.addDataPipeline(fa.name,wd(fa,Ia,gb))}function wd(fa,Ia,gb){const Fb=[];let Kb=null,Ob=!1,oc=!1,Oc,yc,fd,Ec;fa.values?Ga(fa.values)||X(fa.format)?(Fb.push(gf(Ia,fa)),Fb.push(Kb=qf())):Fb.push(Kb=qf({$ingest:fa.values,$format:fa.format})):fa.url?X(fa.url)||X(fa.format)?(Fb.push(gf(Ia,fa)),Fb.push(Kb=qf())):Fb.push(Kb=qf({$request:fa.url,
$format:fa.format})):fa.source&&(Kb=Oc=k.array(fa.source).map(Fd=>M(Ia.getData(Fd).output)),Fb.push(null));fa=0;for(yc=gb.length;fa<yc;++fa)fd=gb[fa],Ec=fd.metadata,Kb||Ec.source||Fb.push(Kb=qf()),Fb.push(fd),Ec.generates&&(oc=!0),Ec.modifies&&!oc&&(Ob=!0),Ec.source?Kb=fd:Ec.changes&&(Kb=null);Oc&&(yc=Oc.length-1,Fb[0]=Le({derive:Ob,pulse:yc?Oc:Oc[0]}),(Ob||yc)&&Fb.splice(1,0,qf()));Kb||Fb.push(qf());Fb.push(ob({}));return Fb}function qf(fa){fa=rc({},fa);fa.metadata={source:!0};return fa}function gf(fa,
Ia){return qc({url:Ia.url?fa.property(Ia.url):void 0,async:Ia.async?fa.property(Ia.async):void 0,values:Ia.values?fa.property(Ia.values):void 0,format:fa.objectProperty(Ia.format)})}function te(fa,Ia,gb,Fb){let Kb;if(Ia&&k.hasOwnProperty(Ia,fa))return Ia[fa];if(k.hasOwnProperty(gb,fa))return gb[fa];if(fa.startsWith("title")){switch(fa){case "titleColor":Kb="fill";break;case "titleFont":case "titleFontSize":case "titleFontWeight":Kb=fa[5].toLowerCase()+fa.slice(6)}return Fb["guide-title"][Kb]}if(fa.startsWith("label")){switch(fa){case "labelColor":Kb=
"fill";break;case "labelFont":case "labelFontSize":Kb=fa[5].toLowerCase()+fa.slice(6)}return Fb["guide-label"][Kb]}return null}function We(fa){const Ia={};for(const gb of fa)if(gb)for(const Fb in gb)Ia[Fb]=1;return Object.keys(Ia)}function za(fa,Ia,gb,Fb,Kb){return{signal:'flush(range("'+fa+'"), scale("'+fa+'", datum.value), '+Ia+","+gb+","+Fb+","+Kb+")"}}function Za(fa,Ia,gb,Fb){const Kb=(oc,Oc)=>null!=oc?(gb.update[Oc]=bc(Vd(oc),gb.update[Oc]),!1):m(Oc,Fb)?!1:!0,Ob=Kb(fa("titleX"),"x");fa=Kb(fa("titleY"),
"y");gb.enter.auto=fa===Ob?Vd(fa):Rc(Ia,Vd(fa),Vd(Ob))}function tb(fa,Ia,gb){const Fb=k.array(fa.signals),Kb=k.array(fa.scales);gb||Fb.forEach(Ob=>S(Ob,Ia));k.array(fa.projections).forEach(Ob=>{const oc=Ia.config.projection||{},Oc={};for(const yc in Ob)"name"!==yc&&(Oc[yc]=ja(Ob[yc],yc,Ia));for(const yc in oc)null==Oc[yc]&&(Oc[yc]=ja(oc[yc],yc,Ia));Ia.addProjection(Ob.name,Oc)});Kb.forEach(Ob=>{const oc=Ob.type||"linear";t.isValidScaleType(oc)||k.error("Unrecognized scale type: "+k.stringValue(oc));
Ia.addScale(Ob.name,{type:oc,domain:void 0})});k.array(fa.data).forEach(Ob=>qe(Ob,Ia));Kb.forEach(Ob=>{const oc=Ia.getScale(Ob.name).params;let Oc;oc.domain=Ra(Ob.domain,Ob,Ia);null!=Ob.range&&(oc.range=Oa(Ob,Ia,oc));if(null!=Ob.interpolate){var yc=Ob.interpolate;oc.interpolate=Ma(yc.type||yc);null!=yc.gamma&&(oc.interpolateGamma=Ma(yc.gamma))}null!=Ob.nice&&(yc=Ob.nice,yc=k.isObject(yc)?{interval:Ma(yc.interval),step:Ma(yc.step)}:Ma(yc),oc.nice=yc);null!=Ob.bins&&(yc=Ob.bins,yc=yc.signal||k.isArray(yc)?
ma(yc,Ia):Ia.objectProperty(yc),oc.bins=yc);for(Oc in Ob)k.hasOwnProperty(oc,Oc)||"name"===Oc||(oc[Oc]=Ma(Ob[Oc],Ia))});(gb||Fb).forEach(Ob=>ib(Ob,Ia));k.array(fa.axes).forEach(Ob=>{var oc=Ia.config,Oc=oc.style,yc=oc.axis,fd="band"===Ia.scaleType(Ob.scale)&&oc.axisBand,Ec=Ob.orient,Fd;if(Ga(Ec)){const da=We([oc.axisX,oc.axisY]),La=We([oc.axisTop,oc.axisBottom,oc.axisLeft,oc.axisRight]);var Be={};for(Fd of da)Be[Fd]=Rc(Ec,te(Fd,oc.axisX,yc,Oc),te(Fd,oc.axisY,yc,Oc));var fe={};for(Fd of La){var Ae=
fe,Zd=Fd,vd=Ec.signal,Kd=te(Fd,oc.axisTop,yc,Oc),ee=te(Fd,oc.axisBottom,yc,Oc),xe=te(Fd,oc.axisLeft,yc,Oc),ze=te(Fd,oc.axisRight,yc,Oc);var Te={signal:(null!=xe?`${vd} === '${"left"}' ? (${Pb(xe)}) : `:"")+(null!=ee?`${vd} === '${"bottom"}' ? (${Pb(ee)}) : `:"")+(null!=ze?`${vd} === '${"right"}' ? (${Pb(ze)}) : `:"")+(null!=Kd?`${vd} === '${"top"}' ? (${Pb(Kd)}) : `:"")+"(null)"};Ae[Zd]=Te}}else Be="top"===Ec||"bottom"===Ec?oc.axisX:oc.axisY,fe=oc["axis"+Ec[0].toUpperCase()+Ec.slice(1)];var Id=Be||
fe||fd?k.extend({},yc,Be,fe,fd):yc;const sf=Ob.encode||{},Af=sf.axis||{},Ff=Af.name||void 0,$g=Af.interactive,ie=Af.style,mf=ka(Ob,Id),Tf=mf("tickBand");let Gf=mf("tickOffset"),Ag,ng;Tf?Tf.signal?(Ag={signal:`(${Tf.signal}) === 'extent' ? 1 : 0.5`},ng={signal:`(${Tf.signal}) === 'extent'`},k.isObject(Gf)||(Gf={signal:`(${Tf.signal}) === 'extent' ? 0 : ${Gf}`})):"extent"===Tf?(Ag=1,ng=!0,Gf=0):(Ag=.5,ng=!1):(Ag=mf("bandPosition"),ng=mf("tickExtra"));var ug=ng;var Sg=Ag;var ig=Gf;const Cf={scale:Ob.scale,
ticks:!!mf("ticks"),labels:!!mf("labels"),grid:!!mf("grid"),domain:!!mf("domain"),title:null!=Ob.title},vg=M(Ia.add(rc({},[Cf]))),og=M(Ia.add(af({scale:Ia.scaleRef(Ob.scale),extra:Ia.property(ug),count:Ia.objectProperty(Ob.tickCount),values:Ia.objectProperty(Ob.values),minstep:Ia.property(Ob.tickMinStep),formatType:Ia.property(Ob.formatType),formatSpecifier:Ia.property(Ob.format)}))),Uf=[];let Xf;if(Cf.grid){var Tg=Uf.push,bh=sf.grid;const da=ka(Ob,Id),La=Ob.orient,db=Ob.gridScale,Db=wc(La,1,-1);
a:{var Ng=Ob.offset,Ig=Db;if(1!==Ig)if(k.isObject(Ng)){let Mf=Ng=k.extend({},Ng);for(;null!=Mf.mult;)if(k.isObject(Mf.mult))Mf=Mf.mult=k.extend({},Mf.mult);else{Mf.mult=Ga(Ig)?{signal:`(${Mf.mult}) * (${Ig.signal})`}:Mf.mult*Ig;var Jg=Ng;break a}Mf.mult=Ig}else Ng=Ga(Ig)?{signal:`(${Ig.signal}) * (${Ng||0})`}:Ig*(Ng||0);Jg=Ng}const Sb=Jg;let Cc,Zc,Xc;const td={enter:Cc={opacity:qd},update:Xc={opacity:Yd},exit:Zc={opacity:qd}};e(td,{stroke:da("gridColor"),strokeCap:da("gridCap"),strokeDash:da("gridDash"),
strokeDashOffset:da("gridDashOffset"),strokeOpacity:da("gridOpacity"),strokeWidth:da("gridWidth")});const ae={scale:Ob.scale,field:"value",band:Sg,extra:ug,offset:ig,round:da("tickRound")},we=Rc(La,{signal:"height"},{signal:"width"}),bf=db?{scale:db,range:0,mult:Db,offset:Sb}:{value:0,offset:Sb},zf=db?{scale:db,range:1,mult:Db,offset:Sb}:k.extend(we,{mult:Db,offset:Sb});Cc.x=Xc.x=Rc(La,ae,bf);Cc.y=Xc.y=Lc(La,ae,bf);Cc.x2=Xc.x2=Lc(La,zf);Cc.y2=Xc.y2=Rc(La,zf);Zc.x=Rc(La,ae);Zc.y=Lc(La,ae);var Wa=lb({type:"rule",
role:"axis-grid",key:"value",from:og,encode:td},bh);Tg.call(Uf,Wa)}if(Cf.ticks){Xf=mf("tickSize");var Cb=Uf.push,hc=sf.ticks,yd=Xf;const da=ka(Ob,Id),La=Ob.orient,db=wc(La,-1,1);let Db,Sb,Cc;const Zc={enter:Db={opacity:qd},update:Cc={opacity:Yd},exit:Sb={opacity:qd}};e(Zc,{stroke:da("tickColor"),strokeCap:da("tickCap"),strokeDash:da("tickDash"),strokeDashOffset:da("tickDashOffset"),strokeOpacity:da("tickOpacity"),strokeWidth:da("tickWidth")});const Xc=Vd(yd);Xc.mult=db;const td={scale:Ob.scale,field:"value",
band:Sg,extra:ug,offset:ig,round:da("tickRound")};Cc.y=Db.y=Rc(La,qd,td);Cc.y2=Db.y2=Rc(La,Xc);Sb.x=Rc(La,td);Cc.x=Db.x=Lc(La,qd,td);Cc.x2=Db.x2=Lc(La,Xc);Sb.y=Lc(La,td);var Dd=lb({type:"rule",role:"axis-tick",key:"value",from:og,encode:Zc},hc);Cb.call(Uf,Dd)}if(Cf.labels){Xf=Cf.ticks?Xf:0;var ne=Uf.push,of=sf.labels,uf=Xf;const da=ka(Ob,Id),La=Ob.orient,db=Ob.scale,Db=wc(La,-1,1),Sb=B(da("labelFlush")),Cc=B(da("labelFlushOffset")),Zc=da("labelAlign"),Xc=da("labelBaseline");let td=0===Sb||!!Sb,ae;
const we=Vd(uf);we.mult=Db;we.offset=Vd(da("labelPadding")||0);we.offset.mult=Db;const bf={scale:db,field:"value",band:.5,offset:eb(ig,da("labelOffset"))};var Wg=td?za(db,Sb,'"left"','"right"','"center"'):{value:"center"},Vf=La;var Xg=Ga(Vf)?Gb(`${Vf.signal} === '${"right"}'`,"left","right"):"right"===Vf?{value:"left"}:{value:"right"};const zf=Rc(La,Wg,Xg),Mf=Rc(La,ud(La,"bottom","top"),td?za(db,Sb,'"top"','"bottom"','"middle"'):{value:"middle"}),Oe=za(db,Sb,`-(${Cc})`,Cc,0);td=td&&Cc;const Qf={opacity:qd,
x:Rc(La,bf,we),y:Lc(La,bf,we)},qg={enter:Qf,update:ae={opacity:Yd,text:{field:"label"},x:Qf.x,y:Qf.y,align:zf,baseline:Mf},exit:{opacity:qd,x:Qf.x,y:Qf.y}};e(qg,{dx:!Zc&&td?Rc(La,Oe):null,dy:!Xc&&td?Lc(La,Oe):null});e(qg,{angle:da("labelAngle"),fill:da("labelColor"),fillOpacity:da("labelOpacity"),font:da("labelFont"),fontSize:da("labelFontSize"),fontWeight:da("labelFontWeight"),fontStyle:da("labelFontStyle"),limit:da("labelLimit"),lineHeight:da("labelLineHeight")},{align:Zc,baseline:Xc});const jh=
da("labelBound");let ch=da("labelOverlap");ch=ch||jh?{separation:da("labelSeparation"),method:ch,order:"datum.index",bound:jh?{scale:db,orient:La,tolerance:jh}:null}:void 0;ae.align!==zf&&(ae.align=bc(ae.align,zf));ae.baseline!==Mf&&(ae.baseline=bc(ae.baseline,Mf));var Fh=lb({type:"text",role:"axis-label",style:"guide-label",key:"value",from:og,encode:qg,overlap:ch},of);ne.call(Uf,Fh)}if(Cf.domain){var qh=Uf.push,wg=sf.domain;const da=ka(Ob,Id),La=Ob.orient;let db,Db;const Sb={enter:db={opacity:qd},
update:Db={opacity:Yd},exit:{opacity:qd}};e(Sb,{stroke:da("domainColor"),strokeCap:da("domainCap"),strokeDash:da("domainDash"),strokeDashOffset:da("domainDashOffset"),strokeWidth:da("domainWidth"),strokeOpacity:da("domainOpacity")});const Cc={scale:Ob.scale,range:0},Zc={scale:Ob.scale,range:1};db.x=Db.x=Rc(La,Cc,qd);db.x2=Db.x2=Rc(La,Zc);db.y=Db.y=Lc(La,Cc,qd);db.y2=Db.y2=Lc(La,Zc);var Ug=lb({type:"rule",role:"axis-domain",from:vg,encode:Sb},wg);qh.call(Uf,Ug)}if(Cf.title){var oh=Uf.push,rh=sf.title;
const da=ka(Ob,Id),La=Ob.orient,db=wc(La,-1,1);let Db,Sb;const Cc={enter:Db={opacity:qd,anchor:Vd(da("titleAnchor",null)),align:{signal:Od}},update:Sb=k.extend({},Db,{opacity:Yd,text:Vd(Ob.title)}),exit:{opacity:qd}},Zc={signal:`lerp(range("${Ob.scale}"), ${Ta(0,1,.5)})`};Sb.x=Rc(La,Zc);Sb.y=Lc(La,Zc);var Lh=Db,vh=db;var Eh=Ga(vh)?{signal:`(${vh.signal}) * ${90}`}:{value:90*vh};Lh.angle=Rc(La,qd,Eh);Db.baseline=Rc(La,ud(La,"bottom","top"),{value:"bottom"});Sb.angle=Db.angle;Sb.baseline=Db.baseline;
e(Cc,{fill:da("titleColor"),fillOpacity:da("titleOpacity"),font:da("titleFont"),fontSize:da("titleFontSize"),fontStyle:da("titleFontStyle"),fontWeight:da("titleFontWeight"),limit:da("titleLimit"),lineHeight:da("titleLineHeight")},{align:da("titleAlign"),angle:da("titleAngle"),baseline:da("titleBaseline")});Za(da,La,Cc,rh);Cc.update.align=bc(Cc.update.align,Db.align);Cc.update.angle=bc(Cc.update.angle,Db.angle);Cc.update.baseline=bc(Cc.update.baseline,Db.baseline);var Kg=lb({type:"text",role:"axis-title",
style:"guide-title",from:vg,encode:Cc},rh);oh.call(Uf,Kg)}const J={enter:{},update:{}};e(J,{orient:mf("orient"),offset:mf("offset")||0,position:D(Ob.position,0),titlePadding:mf("titlePadding"),minExtent:mf("minExtent"),maxExtent:mf("maxExtent"),range:{signal:`abs(span(range("${Ob.scale}")))`},translate:mf("translate"),format:Ob.format,formatType:Ob.formatType});return Ic(U({role:"axis",from:vg,encode:g(J,Af,pd),marks:Uf,aria:mf("aria"),description:mf("description"),zindex:mf("zindex"),name:Ff,interactive:$g,
style:ie}),Ia)});k.array(fa.marks).forEach(Ob=>Ic(Ob,Ia));k.array(fa.legends).forEach(Ob=>dd(Ob,Ia));fa.title&&le(fa.title,Ia);Ia.parseLambdas();return Ia}function Jb(fa,Ia){var gb=Ia.config;const Fb=M(Ia.root=Ia.add(new ca("operator",void 0,void 0,void 0))),Kb=nc(fa,gb);Kb.forEach(Oc=>S(Oc,Ia));Ia.description=fa.description||gb.description;Ia.eventConfig=gb.events;Ia.legends=Ia.objectProperty(gb.legend&&gb.legend.layout);Ia.locale=gb.locale;gb=Ia.add(rc());const Ob=Ia.add(wa(y(g({enter:{x:{value:0},
y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},fa.encode),"group","frame",fa.style,Ia,{pulse:M(gb)}))),oc=Ia.add(Ib({layout:Ia.objectProperty(fa.layout),legends:Ia.legends,autosize:Ia.signalRef("autosize"),mark:Fb,pulse:M(Ob)}));Ia.operators.pop();Ia.pushState(M(Ob),M(oc),null);tb(fa,Ia,Kb);Ia.operators.push(oc);fa=Ia.add(Qb({mark:Fb,pulse:M(oc)}));fa=Ia.add(Se({pulse:M(fa)}));fa=Ia.add(ob({pulse:M(fa)}));Ia.addData("root",new Ca(Ia,gb,gb,fa));return Ia}function fc(fa,Ia){return Ia&&
Ia.signal?{name:fa,update:Ia.signal}:{name:fa,value:Ia}}function nc(fa,Ia){const gb=oc=>D(fa[oc],Ia[oc]),Fb=[fc("background",gb("background")),fc("autosize",f(gb("autosize"))),fc("padding",b(gb("padding"))),fc("width",gb("width")||0),fc("height",gb("height")||0)],Kb=Fb.reduce((oc,Oc)=>(oc[Oc.name]=Oc,oc),{}),Ob={};k.array(fa.signals).forEach(oc=>{k.hasOwnProperty(Kb,oc.name)?oc=k.extend(Kb[oc.name],oc):Fb.push(oc);Ob[oc.name]=oc});k.array(Ia.signals).forEach(oc=>{k.hasOwnProperty(Ob,oc.name)||k.hasOwnProperty(Kb,
oc.name)||Fb.push(oc)});return Fb}function Hc(fa,Ia){this.config=fa||{};this.options=Ia||{};this.bindings=[];this.field={};this.signals={};this.lambdas={};this.scales={};this.events={};this.data={};this.streams=[];this.updates=[];this.operators=[];this.locale=this.eventConfig=null;this._subid=this._id=0;this._nextsub=[0];this._parent=[];this._encode=[];this._lookup=[];this._markpath=[]}function Dc(fa){this.config=fa.config;this.options=fa.options;this.legends=fa.legends;this.field=Object.create(fa.field);
this.signals=Object.create(fa.signals);this.lambdas=Object.create(fa.lambdas);this.scales=Object.create(fa.scales);this.events=Object.create(fa.events);this.data=Object.create(fa.data);this.streams=[];this.updates=[];this.operators=[];this._id=0;this._subid=++fa._nextsub[0];this._nextsub=fa._nextsub;this._parent=fa._parent.slice();this._encode=fa._encode.slice();this._lookup=fa._lookup.slice();this._markpath=fa._markpath}function lc(fa){return(k.isArray(fa)?ld:rd)(fa)}function ld(fa){const Ia=fa.length;
let gb="[";for(let Fb=0;Fb<Ia;++Fb){const Kb=fa[Fb];gb+=(0<Fb?",":"")+(k.isObject(Kb)?Kb.signal||lc(Kb):k.stringValue(Kb))}return gb+"]"}function rd(fa){let Ia="{",gb=0,Fb,Kb;for(Fb in fa)Kb=fa[Fb],Ia+=(1<++gb?",":"")+k.stringValue(Fb)+":"+(k.isObject(Kb)?Kb.signal||lc(Kb):k.stringValue(Kb));return Ia+"}"}function Hd(){return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:"#4c78a8"},area:{fill:"#4c78a8"},
image:null,line:{stroke:"#4c78a8",strokeWidth:2},path:{stroke:"#4c78a8"},rect:{fill:"#4c78a8"},rule:{stroke:"#000"},shape:{stroke:"#4c78a8"},symbol:{fill:"#4c78a8",size:64},text:{fill:"#000",font:"sans-serif",fontSize:11},trail:{fill:"#4c78a8",size:2},style:{"guide-label":{fill:"#000",font:"sans-serif",fontSize:10},"guide-title":{fill:"#000",font:"sans-serif",fontSize:11,fontWeight:"bold"},"group-title":{fill:"#000",font:"sans-serif",fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:"#000",font:"sans-serif",
fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:"#ddd"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:"#888",grid:!1,gridWidth:1,gridColor:"#ddd",labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:"#888",tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,
titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:"#ddd",gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",
symbolBaseStrokeColor:"#888",titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:"circle square triangle-up cross diamond triangle-right triangle-down triangle-left".split(" ")}}}const Vd=fa=>k.isObject(fa)&&!k.isArray(fa)?k.extend({},
fa):{value:fa},ce=fa=>k.isString(fa)?k.stringValue(fa):fa.signal?`(${fa.signal})`:F(fa),he=(fa,Ia,gb,Fb)=>`(${fa}(${[Ia,gb,Fb].map(O).join(",")})+'')`,Ce=["value","update","init","react","bind"],re=aa("key"),vf={code:"_.$value",ast:{type:"Identifier",value:"value"}},Ge=fa=>(Ia,gb,Fb)=>new ca(fa,gb,Ia||void 0,Fb),Re=Ge("aggregate"),af=Ge("axisticks"),Qb=Ge("bound"),rc=Ge("collect"),bd=Ge("compare"),Ad=Ge("datajoin"),wa=Ge("encode"),Xa=Ge("expression"),zb=Ge("facet"),Xb=Ge("field"),tc=Ge("key"),gd=
Ge("legendentries"),qc=Ge("load"),rb=Ge("mark"),Bb=Ge("multiextent"),ic=Ge("multivalues"),Uc=Ge("overlap"),Rd=Ge("params"),Md=Ge("prefacet"),Gd=Ge("projection"),Pd=Ge("proxy"),Le=Ge("relay"),Se=Ge("render"),ha=Ge("scale"),ob=Ge("sieve"),Ea=Ge("sortitems"),Ib=Ge("viewlayout"),Yb=Ge("values");let kc=0;const Nc={min:"min",max:"max",count:"sum"},Jc="size shape fill stroke strokeWidth strokeDash opacity".split(" "),pd={name:1,style:1,interactive:1},qd={value:0},Yd={value:1},Od=Ta(k.stringValue("left"),
k.stringValue("right"),k.stringValue("center")),Jd=Ta('"top"','"bottom"','"middle"'),ed=`datum.vgrad && ${'item.orient \x3d\x3d\x3d "right"'} ? (${Ta('"right"','"left"','"center"')}) : (${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} && !(datum.vgrad && ${'item.orient \x3d\x3d\x3d "left"'})) ? "left" : ${Od}`,sd=`${'(item.orient \x3d\x3d\x3d "left" || item.orient \x3d\x3d\x3d "right")'} ? (datum.vgrad ? (${'item.orient \x3d\x3d\x3d "right"'} ? "bottom" : "top") : ${Jd}) : "top"`;
Ca.fromEntries=function(fa,Ia){const gb=Ia.length,Fb=Ia[gb-1],Kb=Ia[gb-2];let Ob=Ia[0],oc=null,Oc=1;Ob&&"load"===Ob.type&&(Ob=Ia[1]);for(fa.add(Ia[0]);Oc<gb;++Oc)Ia[Oc].params.pulse=M(Ia[Oc-1]),fa.add(Ia[Oc]),"aggregate"===Ia[Oc].type&&(oc=Ia[Oc]);return new Ca(fa,Ob,Kb,Fb,oc)};Ca.prototype={countsRef(fa,Ia,gb){const Fb=this.counts||(this.counts={}),Kb=$a(Ia);if(null!=Kb){fa=this.scope;var Ob=Fb[Kb]}Ob?gb&&gb.field&&jb(fa,Ob.agg.params,gb):(Ob={groupby:fa.fieldRef(Ia,"key"),pulse:M(this.output)},
gb&&gb.field&&jb(fa,Ob,gb),gb=fa.add(Re(Ob)),Ob=fa.add(rc({pulse:M(gb)})),Ob={agg:gb,ref:M(Ob)},null!=Kb&&(Fb[Kb]=Ob));return Ob.ref},tuplesRef(){return M(this.values)},extentRef(fa,Ia){return yb(fa,this,"extent","extent",Ia,!1)},domainRef(fa,Ia){return yb(fa,this,"domain","values",Ia,!1)},valuesRef(fa,Ia,gb){return yb(fa,this,"vals","values",Ia,gb||!0)},lookupRef(fa,Ia){return yb(fa,this,"lookup","tupleindex",Ia,!1)},indataRef(fa,Ia){return yb(fa,this,"indata","tupleindex",Ia,!0,!0)}};const wc=(fa,
Ia,gb)=>{Ga(fa)?(fa=fa.signal,Ia=Gb(`${fa} === '${"left"}' || ${fa} === '${"top"}'`,Ia,gb)):Ia="left"===fa||"top"===fa?Ia:gb;return Ia},Rc=(fa,Ia,gb)=>{Ga(fa)?(fa=fa.signal,Ia=kb(`${fa} === '${"top"}' || ${fa} === '${"bottom"}'`,Ia,gb)):Ia="bottom"===fa||"top"===fa?Ia:gb;return Ia},Lc=(fa,Ia,gb)=>{Ga(fa)?(fa=fa.signal,Ia=kb(`${fa} !== '${"top"}' && ${fa} !== '${"bottom"}'`,Ia,gb)):Ia="bottom"===fa||"top"===fa?gb:Ia;return Ia},ud=(fa,Ia,gb)=>Ga(fa)?Gb(`${fa.signal} === '${"top"}'`,Ia,gb):"top"===fa?
{value:Ia}:{value:gb},kb=(fa,Ia,gb)=>{Ia=null!=Ia?Vd(Ia):Ia;gb=null!=gb?Vd(gb):gb;if(null!=Ia&&1!==Object.keys(Ia).length||null!=gb&&1!==Object.keys(gb).length)return[k.extend({test:fa},Ia)].concat(gb||[]);Ia=Ia?Ia.signal||k.stringValue(Ia.value):null;gb=gb?gb.signal||k.stringValue(gb.value):null;return{signal:`${fa} ? (${Ia}) : (${gb})`}},Gb=(fa,Ia,gb)=>({signal:`${fa} ? (${Pb(Ia)}) : (${Pb(gb)})`}),Pb=fa=>Ga(fa)?fa.signal:null==fa?null:k.stringValue(fa),bc=(fa,Ia)=>{const gb=fa.signal;return gb&&
gb.endsWith("(null)")?{signal:gb.slice(0,-6)+Ia.signal}:fa};Hc.prototype=Dc.prototype={parse(fa){return tb(fa,this)},fork(){return new Dc(this)},isSubscope(){return 0<this._subid},toRuntime(){this.finish();return{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(fa){this.operators.push(fa);fa.id=this.id();fa.refs&&(fa.refs.forEach(Ia=>
{Ia.$ref=fa.id}),fa.refs=null);return fa},proxy(fa){fa=fa instanceof ca?M(fa):fa;return this.add(Pd({value:fa}))},addStream(fa){this.streams.push(fa);fa.id=this.id();return fa},addUpdate(fa){this.updates.push(fa);return fa},finish(){function fa(Fb,Kb,Ob){Fb&&(Fb=Fb.data||(Fb.data={}),Kb=Fb[Kb]||(Fb[Kb]=[]),Kb.push(Ob))}let Ia,gb;this.root&&(this.root.root=!0);for(Ia in this.signals)this.signals[Ia].signal=Ia;for(Ia in this.scales)this.scales[Ia].scale=Ia;for(Ia in this.data){gb=this.data[Ia];fa(gb.input,
Ia,"input");fa(gb.output,Ia,"output");fa(gb.values,Ia,"values");for(const Fb in gb.index)fa(gb.index[Fb],Ia,"index:"+Fb)}return this},pushState(fa,Ia,gb){this._encode.push(M(this.add(ob({pulse:fa}))));this._parent.push(Ia);this._lookup.push(gb?M(this.proxy(gb)):null);this._markpath.push(-1)},popState(){this._encode.pop();this._parent.pop();this._lookup.pop();this._markpath.pop()},parent(){return k.peek(this._parent)},encode(){return k.peek(this._encode)},lookup(){return k.peek(this._lookup)},markpath(){const fa=
this._markpath;return++fa[fa.length-1]},fieldRef(fa,Ia){if(k.isString(fa))return aa(fa,Ia);fa.signal||k.error("Unsupported field reference: "+k.stringValue(fa));fa=fa.signal;var gb=this.field[fa];gb||(gb={name:this.signalRef(fa)},Ia&&(gb.as=Ia),this.field[fa]=gb=M(this.add(Xb(gb))));return gb},compareRef(fa){let Ia=!1;const gb=Kb=>Ga(Kb)?(Ia=!0,this.signalRef(Kb.signal)):Kb&&Kb.expr?(Ia=!0,this.exprRef(Kb.expr)):Kb,Fb=k.array(fa.field).map(gb);fa=k.array(fa.order).map(gb);return Ia?M(this.add(bd({fields:Fb,
orders:fa}))):{$compare:Fb,$order:fa}},keyRef(fa,Ia){let gb=!1;const Fb=this.signals;fa=k.array(fa).map(Kb=>Ga(Kb)?(gb=!0,M(Fb[Kb.signal])):Kb);return gb?M(this.add(tc({fields:fa,flat:Ia}))):Y(fa,Ia)},sortRef(fa){if(!fa)return fa;const Ia=ea(fa.op,fa.field);fa=fa.order||"ascending";return fa.signal?M(this.add(bd({fields:Ia,orders:this.signalRef(fa.signal)}))):{$compare:Ia,$order:fa}},event(fa,Ia){const gb=fa+":"+Ia;if(!this.events[gb]){const Fb=this.id();this.streams.push({id:Fb,source:fa,type:Ia});
this.events[gb]=Fb}return this.events[gb]},hasOwnSignal(fa){return k.hasOwnProperty(this.signals,fa)},addSignal(fa,Ia){this.hasOwnSignal(fa)&&k.error("Duplicate signal name: "+k.stringValue(fa));Ia=Ia instanceof ca?Ia:this.add(new ca("operator",Ia,void 0,void 0));return this.signals[fa]=Ia},getSignal(fa){this.signals[fa]||k.error("Unrecognized signal name: "+k.stringValue(fa));return this.signals[fa]},signalRef(fa){if(this.signals[fa])return M(this.signals[fa]);k.hasOwnProperty(this.lambdas,fa)||
(this.lambdas[fa]=this.add(new ca("operator",null,void 0,void 0)));return M(this.lambdas[fa])},parseLambdas(){const fa=Object.keys(this.lambdas);for(let gb=0,Fb=fa.length;gb<Fb;++gb){var Ia=fa[gb];const Kb=p.parseExpression(Ia,this);Ia=this.lambdas[Ia];Ia.params=Kb.$params;Ia.update=Kb.$expr}},property(fa){return fa&&fa.signal?this.signalRef(fa.signal):fa},objectProperty(fa){return fa&&k.isObject(fa)?this.signalRef(fa.signal||lc(fa)):fa},exprRef(fa,Ia){fa={expr:p.parseExpression(fa,this)};Ia&&(fa.expr.$name=
Ia);return M(this.add(Xa(fa)))},addBinding(fa,Ia){this.bindings||k.error("Nested signals do not support binding: "+k.stringValue(fa));this.bindings.push(k.extend({signal:fa},Ia))},addScaleProj(fa,Ia){k.hasOwnProperty(this.scales,fa)&&k.error("Duplicate scale or projection name: "+k.stringValue(fa));this.scales[fa]=this.add(Ia)},addScale(fa,Ia){this.addScaleProj(fa,ha(Ia))},addProjection(fa,Ia){this.addScaleProj(fa,Gd(Ia))},getScale(fa){this.scales[fa]||k.error("Unrecognized scale name: "+k.stringValue(fa));
return this.scales[fa]},scaleRef(fa){return M(this.getScale(fa))},scaleType(fa){return this.getScale(fa).params.type},projectionRef(fa){return this.scaleRef(fa)},projectionType(fa){return this.scaleType(fa)},addData(fa,Ia){k.hasOwnProperty(this.data,fa)&&k.error("Duplicate data set name: "+k.stringValue(fa));return this.data[fa]=Ia},getData(fa){this.data[fa]||k.error("Undefined data set name: "+k.stringValue(fa));return this.data[fa]},addDataPipeline(fa,Ia){k.hasOwnProperty(this.data,fa)&&k.error("Duplicate data set name: "+
k.stringValue(fa));return this.addData(fa,Ca.fromEntries(this,Ia))}};w.AxisDomainRole="axis-domain";w.AxisGridRole="axis-grid";w.AxisLabelRole="axis-label";w.AxisRole="axis";w.AxisTickRole="axis-tick";w.AxisTitleRole="axis-title";w.DataScope=Ca;w.FrameRole="frame";w.LegendEntryRole="legend-entry";w.LegendLabelRole="legend-label";w.LegendRole="legend";w.LegendSymbolRole="legend-symbol";w.LegendTitleRole="legend-title";w.MarkRole="mark";w.Scope=Hc;w.ScopeRole="scope";w.config=Hd;w.parse=function(fa,
Ia,gb){k.isObject(fa)||k.error("Input Vega specification must be an object.");Ia=k.mergeConfig(Hd(),Ia,fa.config);return Jb(fa,new Hc(Ia,gb)).toRuntime()};w.signal=S;w.signalUpdates=ib;w.stream=N;Object.defineProperty(w,"__esModule",{value:!0})})};
shadow$provide[47]=function(Ka,L,sb,A){function w(M){if(M&&M.__esModule)return M;var aa=Object.create(null);M&&Object.keys(M).forEach(function(Y){if("default"!==Y){var ea=Object.getOwnPropertyDescriptor(M,Y);Object.defineProperty(aa,Y,ea.get?ea:{enumerable:!0,get:function(){return M[Y]}})}});aa["default"]=M;return Object.freeze(aa)}Object.defineProperty(A,"__esModule",{value:!0});var k=L(14),p=L(23),q=L(25),t=L(29),n=L(30),f=L(32),b=L(33),c=L(34),e=L(35),g=L(36),m=L(37);sb=L(38);Ka=L(39);var h=L(24),
x=L(16),O=L(22),G=L(28),I=L(27),F=L(31),C=L(44),r=L(17),y=L(42),K=L(46),R=L(43),S=L(40),ca=L(45);L=w(q);t=w(t);n=w(n);f=w(f);b=w(b);c=w(c);e=w(e);g=w(g);m=w(m);sb=w(sb);Ka=w(Ka);k.extend(p.transforms,L,t,n,f,b,e,c,g,m,sb,Ka);Object.defineProperty(A,"Dataflow",{enumerable:!0,get:function(){return p.Dataflow}});Object.defineProperty(A,"EventStream",{enumerable:!0,get:function(){return p.EventStream}});Object.defineProperty(A,"MultiPulse",{enumerable:!0,get:function(){return p.MultiPulse}});Object.defineProperty(A,
"Operator",{enumerable:!0,get:function(){return p.Operator}});Object.defineProperty(A,"Parameters",{enumerable:!0,get:function(){return p.Parameters}});Object.defineProperty(A,"Pulse",{enumerable:!0,get:function(){return p.Pulse}});Object.defineProperty(A,"Transform",{enumerable:!0,get:function(){return p.Transform}});Object.defineProperty(A,"changeset",{enumerable:!0,get:function(){return p.changeset}});Object.defineProperty(A,"definition",{enumerable:!0,get:function(){return p.definition}});Object.defineProperty(A,
"ingest",{enumerable:!0,get:function(){return p.ingest}});Object.defineProperty(A,"isTuple",{enumerable:!0,get:function(){return p.isTuple}});Object.defineProperty(A,"transform",{enumerable:!0,get:function(){return p.transform}});Object.defineProperty(A,"transforms",{enumerable:!0,get:function(){return p.transforms}});Object.defineProperty(A,"tupleid",{enumerable:!0,get:function(){return p.tupleid}});Object.defineProperty(A,"interpolate",{enumerable:!0,get:function(){return I.interpolate}});Object.defineProperty(A,
"interpolateColors",{enumerable:!0,get:function(){return I.interpolateColors}});Object.defineProperty(A,"interpolateRange",{enumerable:!0,get:function(){return I.interpolateRange}});Object.defineProperty(A,"quantizeInterpolator",{enumerable:!0,get:function(){return I.quantizeInterpolator}});Object.defineProperty(A,"scale",{enumerable:!0,get:function(){return I.scale}});Object.defineProperty(A,"scheme",{enumerable:!0,get:function(){return I.scheme}});Object.defineProperty(A,"projection",{enumerable:!0,
get:function(){return F.projection}});Object.defineProperty(A,"View",{enumerable:!0,get:function(){return C.View}});Object.defineProperty(A,"defaultLocale",{enumerable:!0,get:function(){return r.defaultLocale}});Object.defineProperty(A,"formatLocale",{enumerable:!0,get:function(){return r.numberFormatDefaultLocale}});Object.defineProperty(A,"locale",{enumerable:!0,get:function(){return r.locale}});Object.defineProperty(A,"resetDefaultLocale",{enumerable:!0,get:function(){return r.resetDefaultLocale}});
Object.defineProperty(A,"timeFormatLocale",{enumerable:!0,get:function(){return r.timeFormatDefaultLocale}});Object.defineProperty(A,"expressionFunction",{enumerable:!0,get:function(){return y.expressionFunction}});Object.defineProperty(A,"parse",{enumerable:!0,get:function(){return K.parse}});Object.defineProperty(A,"runtimeContext",{enumerable:!0,get:function(){return R.context}});Object.defineProperty(A,"codegenExpression",{enumerable:!0,get:function(){return S.codegenExpression}});Object.defineProperty(A,
"parseExpression",{enumerable:!0,get:function(){return S.parseExpression}});Object.defineProperty(A,"parseSelector",{enumerable:!0,get:function(){return ca.parseSelector}});A.version="5.22.1";Object.keys(k).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return k[M]}})});Object.keys(h).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return h[M]}})});Object.keys(x).forEach(function(M){"default"===
M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return x[M]}})});Object.keys(O).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return O[M]}})});Object.keys(G).forEach(function(M){"default"===M||A.hasOwnProperty(M)||Object.defineProperty(A,M,{enumerable:!0,get:function(){return G[M]}})})};
shadow$provide[48]=function(Ka,L,sb,A){var w=L(21).Buffer;(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?p(A,L(47)):"function"===typeof define&&define.amd?define(["exports","vega"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,p(k.vegaLite={},k.vega))})(this,function(k,p){function q(l,P){if(l.not)q(l.not,P);else if(l.and)for(const d of l.and)q(d,P);else if(l.or)for(const d of l.or)q(d,P);else P(l)}function t(l,P){return l.not?{not:t(l.not,P)}:l.and?{and:l.and.map(d=>t(d,P))}:
l.or?{or:l.or.map(d=>t(d,P))}:P(l)}function n(l){throw Error(l);}function f(l,P){const d={};for(const z of P)p.hasOwnProperty(l,z)&&(d[z]=l[z]);return d}function b(l,P){l=Object.assign({},l);for(const d of P)delete l[d];return l}function c(l){if(p.isNumber(l))return l;l=p.isString(l)?l:mk(l);if(250>l.length)return l;let P=0;for(let d=0;d<l.length;d++){const z=l.charCodeAt(d);P=(P<<5)-P+z;P&=P}return P}function e(l){return!1===l||null===l}function g(l,P){return l.includes(P)}function m(l,P){let d=
0;for(const z of l.entries()){const [H,W]=z;if(P(W,H,d++))return!0}return!1}function h(l,P){let d=0;for(const z of l.entries()){const [H,W]=z;if(!P(W,H,d++))return!1}return!0}function x(l){for(var P=arguments.length,d=Array(1<P?P-1:0),z=1;z<P;z++)d[z-1]=arguments[z];for(const H of d){P=l;d=null!==H&&void 0!==H?H:{};for(const W of se(d))p.writeConfig(P,W,d[W],!0)}return l}function O(l,P){const d=[],z={};for(const H of l)l=P(H),l in z||(z[l]=1,d.push(H));return d}function G(l,P){if(l.size!==P.size)return!1;
for(const d of l)if(!P.has(d))return!1;return!0}function I(l,P){for(const d of l)if(P.has(d))return!0;return!1}function F(l){const P=new Set;for(const d of l){const z=p.splitAccessPath(d).map((H,W)=>0===W?H:"[".concat(H,"]"));l=z.map((H,W)=>z.slice(0,W+1).join(""));for(const H of l)P.add(H)}return P}function C(l,P){return void 0===l||void 0===P?!0:I(F(l),F(P))}function r(l){return 0===se(l).length}function y(l){return!0===l||!1===l}function K(l){const P=l.replace(/\W/g,"_");return(l.match(/^\d+/)?
"_":"")+P}function R(l,P){return l.not?"!(".concat(R(l.not,P),")"):l.and?"(".concat(l.and.map(d=>R(d,P)).join(") \x26\x26 ("),")"):l.or?"(".concat(l.or.map(d=>R(d,P)).join(") || ("),")"):P(l)}function S(l,P){if(0===P.length)return!0;const d=P.shift();d in l&&S(l[d],P)&&delete l[d];return r(l)}function ca(l){return l.charAt(0).toUpperCase()+l.substr(1)}function M(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum";const d=p.splitAccessPath(l),z=[];for(let H=1;H<=d.length;H++){const W=
"[".concat(d.slice(0,H).map(p.stringValue).join("]["),"]");z.push("".concat(P).concat(W))}return z.join(" \x26\x26 ")}function aa(l){return"".concat(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"datum","[").concat(p.stringValue(p.splitAccessPath(l).join(".")),"]")}function Y(l){return l.replace(/(\[|\]|\.|'|")/g,"\\$1")}function ea(l){return"".concat(p.splitAccessPath(l).map(Y).join("\\."))}function Ga(l,P,d){return l.replace(new RegExp(P.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$\x26"),"g"),
d)}function X(l){return"".concat(p.splitAccessPath(l).join("."))}function D(l){return l?p.splitAccessPath(l).length:0}function B(){for(var l=arguments.length,P=Array(l),d=0;d<l;d++)P[d]=arguments[d];for(const z of P)if(void 0!==z)return z}function N(l){const P=++Kk;return l?String(l)+P:P}function Z(l){return Aa(l)?l:"__".concat(l)}function Aa(l){return l.startsWith("__")}function qa(l){if(void 0!==l)return(l%360+360)%360}function la(l){return p.isNumber(l)?!0:!isNaN(l)&&!isNaN(parseFloat(l))}function Ja(l){switch(l){case "latitude":return"y";
case "latitude2":return"y2";case "longitude":return"x";case "longitude2":return"x2"}}function bb(l){return"color"===l||"fill"===l||"stroke"===l}function ib(l){return Ma(l)!==l}function Ma(l){switch(l){case "x2":return"x";case "y2":return"y";case "latitude2":return"latitude";case "longitude2":return"longitude";case "theta2":return"theta";case "radius2":return"radius"}return l}function ma(l){if(l in Qk)switch(l){case "theta":return"startAngle";case "theta2":return"endAngle";case "radius":return"outerRadius";
case "radius2":return"innerRadius"}return l}function Fa(l){switch(l){case "x":return"x2";case "y":return"y2";case "latitude":return"latitude2";case "longitude":return"longitude2";case "theta":return"theta2";case "radius":return"radius2"}}function Ra(l){switch(l){case "x":case "x2":return"width";case "y":case "y2":return"height"}}function ra(l){switch(l){case "x":return"xOffset";case "y":return"yOffset";case "x2":return"x2Offset";case "y2":return"y2Offset";case "theta":return"thetaOffset";case "radius":return"radiusOffset";
case "theta2":return"theta2Offset";case "radius2":return"radius2Offset"}}function ya(l){switch(l){case "x":return"xOffset";case "y":return"yOffset"}}function oa(l){switch(l){case "xOffset":return"x";case "yOffset":return"y"}}function xa(l){return l in rj}function Ua(l){return"width"===l?"x":"y"}function fb(l){switch(l){case "color":case "fill":case "stroke":case "description":case "detail":case "key":case "tooltip":case "href":case "order":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "facet":case "row":case "column":return Uj;
case "x":case "y":case "xOffset":case "yOffset":case "latitude":case "longitude":return Ji;case "x2":case "y2":case "latitude2":case "longitude2":return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case "size":return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case "strokeDash":return{line:"always",
point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case "shape":return{point:"always",geoshape:"always"};case "text":return{text:"always"};case "angle":return{point:"always",square:"always",text:"always"};case "url":return{image:"always"};case "theta":return{text:"always",arc:"always"};case "radius":return{text:"always",arc:"always"};case "theta2":case "radius2":return{arc:"always"}}}function sa(l){switch(l){case "facet":case "row":case "column":case "shape":case "strokeDash":case "text":case "tooltip":case "href":case "url":case "description":return"discrete";
case "color":case "fill":case "stroke":return"flexible"}}function Oa(l){return!!l&&!!l.argmin}function ja(l){return!!l&&!!l.argmax}function U(l){return p.isString(l)&&!!Ti[l]}function ka(l){return p.isString(l)&&Vj.has(l)}function ua(l){p.isBoolean(l)&&(l=Sg(l,void 0));return"bin"+se(l).map(P=>lb(l[P])?K("_".concat(P,"_").concat(kj(l[P]))):K("_".concat(P,"_").concat(l[P]))).join("")}function Ta(l){return!0===l||p.isObject(l)&&!l.binned}function eb(l){return"binned"===l||p.isObject(l)&&!0===l.binned}
function lb(l){return null===l||void 0===l?void 0:l.param}function nb(l){switch(l){case "row":case "column":case "size":case "color":case "fill":case "stroke":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "shape":return 6;case "strokeDash":return 4;default:return 10}}function Mb(l){return!(null===l||void 0===l||!l.expr)}function $b(l){const P=se(l||{}),d={};for(const z of P)d[z]=Ab(l[z]);return d}function Gc(l){var P=Object.assign({},l),d=l.anchor;const z=l.frame,
H=l.offset,W=l.orient,na=l.angle,ta=l.limit;var cb=l.color,qb=l.subtitleColor;const vb=l.subtitleFont,Nb=l.subtitleFontSize,xc=l.subtitleFontStyle,od=l.subtitleFontWeight,Pc=l.subtitleLineHeight,Ed=l.subtitlePadding;P=(delete P.anchor,delete P.frame,delete P.offset,delete P.orient,delete P.angle,delete P.limit,delete P.color,delete P.subtitleColor,delete P.subtitleFont,delete P.subtitleFontSize,delete P.subtitleFontStyle,delete P.subtitleFontWeight,delete P.subtitleLineHeight,delete P.subtitlePadding,
P);cb=Object.assign({},P,cb?{fill:cb}:{});d=Object.assign({},d?{anchor:d}:{},z?{frame:z}:{},H?{offset:H}:{},W?{orient:W}:{},void 0!==na?{angle:na}:{},void 0!==ta?{limit:ta}:{});qb=Object.assign({},qb?{subtitleColor:qb}:{},vb?{subtitleFont:vb}:{},Nb?{subtitleFontSize:Nb}:{},xc?{subtitleFontStyle:xc}:{},od?{subtitleFontWeight:od}:{},Pc?{subtitleLineHeight:Pc}:{},Ed?{subtitlePadding:Ed}:{});l=f(l,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:cb,subtitleMarkConfig:l,nonMarkTitleProperties:d,
subtitle:qb}}function zc(l){return p.isString(l)||p.isArray(l)&&p.isString(l[0])}function Bc(l){return!(null===l||void 0===l||!l.signal)}function uc(l){return!!l.step}function id(l){return p.isArray(l)?!1:"field"in l&&"data"in l}function Hb(l){const P=p.isArray(l.condition)?l.condition.map(dc):dc(l.condition);return Object.assign({},Ab(l),{condition:P})}function Ab(l){if(Mb(l)){var P=Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return l}function dc(l){if(Mb(l)){var P=
Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return l}function Wb(l){if(Mb(l)){var P=Object.assign({},l);l=l.expr;P=(delete P.expr,P);return Object.assign({},{signal:l},P)}return Bc(l)?l:void 0!==l?{value:l}:void 0}function mc(l){return Bc(l)?l.signal:p.stringValue(l.value)}function Kc(l){return Bc(l)?l.signal:null==l?null:p.stringValue(l)}function Fc(l){var P;return[].concat(l.type,null!==(P=l.style)&&void 0!==P?P:[])}function Sc(l,P,d){let z=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:{};const {vgChannel:H,ignoreVgConfig:W}=z;if(H&&void 0!==P[H])return P[H];if(void 0!==P[l])return P[l];if(!W||H&&H!==l)return jd(l,P,d,z)}function jd(l,P,d){let {vgChannel:z}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return B(z?$d(l,P,d.style):void 0,$d(l,P,d.style),z?d[P.type][z]:void 0,d[P.type][l],z?d.mark[z]:d.mark[l])}function $d(l,P,d){return Ba(l,Fc(P),d)}function Ba(l,P,d){P=p.array(P);let z;for(const H of P)(P=d[H])&&void 0!==P[l]&&(z=P[l]);
return z}function va(l,P){return p.array(l).reduce((d,z)=>{var H;d.field.push(Id(z,P));d.order.push(null!==(H=z.sort)&&void 0!==H?H:"ascending");return d},{field:[],order:[]})}function Ca(l,P){const d=[...l];P.forEach(z=>{for(const H of d)if(gi(H,z))return;d.push(z)});return d}function $a(l,P){return gi(l,P)||!P?l:l?[...p.array(l),...p.array(P)].join(", "):P}function jb(l,P){const d=l.value;P=P.value;if(null==d||null===P)return{explicit:l.explicit,value:null};if((zc(d)||Bc(d))&&(zc(P)||Bc(P)))return{explicit:l.explicit,
value:$a(d,P)};if(zc(d)||Bc(d))return{explicit:l.explicit,value:d};if(zc(P)||Bc(P))return{explicit:l.explicit,value:P};if(!(zc(d)||Bc(d)||zc(P)||Bc(P)))return{explicit:l.explicit,value:Ca(d,P)};throw Error("It should never reach here");}function yb(l,P,d){P in l?Object.defineProperty(l,P,{value:d,enumerable:!0,configurable:!0,writable:!0}):l[P]=d;return l}function Ub(l,P,d){P=Tb(l,P,"set");if(P.set)P.set.call(l,d);else{if(!P.writable)throw new TypeError("attempted to set read only private field");
P.value=d}return d}function Tb(l,P,d){if(!P.has(l))throw new TypeError("attempted to "+d+" private field on non-instance");return P.get(l)}function Vb(l){return"Invalid specification ".concat(hh(l),'. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".')}function Ic(l){return"".concat("width"==l?"Width":"Height",' "container" only works for single views and layered views.')}function $c(l){const P="width"==
l?"x":"y";return"".concat("width"==l?"Width":"Height",' "container" only works well with autosize "fit" or "fit-').concat(P,'".')}function dd(l){return l?'Dropping "fit-'.concat(l,'" because spec has discrete ').concat(Ra(l),"."):'Dropping "fit" because spec has discrete size.'}function nd(l){return"Unknown field for ".concat(l,". Cannot calculate view size.")}function xd(l){return'Cannot project a selection on encoding channel "'.concat(l,'", which has no field.')}function Nd(l,P){return'Cannot project a selection on encoding channel "'.concat(l,
'" as it uses an aggregate function ("').concat(P,'").')}function Xd(l){return"Selection not supported for ".concat(l," yet.")}function ge(l){return'The "columns" property cannot be used when "'.concat(l,'" has nested row/column.')}function le(l,P,d){return'An ancestor parsed field "'.concat(l,'" as ').concat(d," but a child wants to parse the field as ").concat(P,".")}function qe(l){return"Config.customFormatTypes is not true, thus custom format type and format for channel ".concat(l," are dropped.")}
function wd(l){return"".concat(l,"Offset dropped because ").concat(l," is continuous")}function qf(l){return"There is no ".concat(l," encoding. Replacing ").concat(l,"Offset encoding as ").concat(l,".")}function gf(l,P){const {fill:d,stroke:z}=P;return"Dropping color ".concat(l," as the plot also has ").concat(d&&z?"fill and stroke":d?"fill":"stroke",".")}function te(l,P){return"Dropping ".concat(hh(l),' from channel "').concat(P,'" since it does not contain any data field, datum, value, or signal.')}
function We(l,P,d){return"".concat(l,' dropped as it is incompatible with "').concat(P,'"').concat(d?" when ".concat(d):"",".")}function za(l){return"".concat(l,"-encoding is dropped as ").concat(l," is not a valid encoding channel.")}function Za(l,P){return'Using discrete channel "'.concat(l,'" to encode "').concat(P,'" field can be misleading as it does not encode ').concat("ordinal"===P?"order":"magnitude",".")}function tb(l,P,d){return"".concat(d,"-scale's \"").concat(P,'" is dropped as it does not work with ').concat(l,
" scale.")}function Jb(l){return'The step for "'.concat(l,'" is dropped because the ').concat("width"===l?"x":"y"," is continuous.")}function fc(l){return'Cannot stack "'.concat(l,'" if there is already "').concat(l,'2".')}function nc(l,P){return"Invalid ".concat(l,": ").concat(hh(P),".")}function Hc(l){return"1D error band does not support ".concat(l,".")}function Dc(l){return"Channel ".concat(l,' is required for "binned" bin.')}function lc(){zj.warn(...arguments)}function ld(){zj.debug(...arguments)}
function rd(l){if(l&&p.isObject(l))for(const P of Tk)if(P in l)return!0;return!1}function Hd(l){la(l)&&(l=+l);if(p.isNumber(l))return l-1;var P=l.toLowerCase();const d=Wj.indexOf(P);if(-1!==d)return d;P=P.substr(0,3);P=Dk.indexOf(P);if(-1!==P)return P;throw Error(nc("month",l));}function Vd(l){la(l)&&(l=+l);if(p.isNumber(l))return l%7;var P=l.toLowerCase();const d=ll.indexOf(P);if(-1!==d)return d;P=P.substr(0,3);P=Al.indexOf(P);if(-1!==P)return P;throw Error(nc("day",l));}function ce(l,P){const d=
[];P&&void 0!==l.day&&1<se(l).length&&(lc("Dropping day from datetime ".concat(hh(l)," as day cannot be combined with other units.")),l=Wf(l),delete l.day);void 0!==l.year?d.push(l.year):d.push(2012);if(void 0!==l.month){var z=P?Hd(l.month):l.month;d.push(z)}else if(void 0!==l.quarter){if(P)if(z=l.quarter,la(z)&&(z=+z),p.isNumber(z))4<z&&lc(nc("quarter",z)),--z;else throw Error(nc("quarter",z));else z=l.quarter;d.push(p.isNumber(z)?3*z:"".concat(z,"*3"))}else d.push(0);void 0!==l.date?d.push(l.date):
void 0!==l.day?(P=P?Vd(l.day):l.day,d.push(p.isNumber(P)?P+1:"".concat(P,"+1"))):d.push(1);for(const H of["hours","minutes","seconds","milliseconds"])P=l[H],d.push("undefined"===typeof P?0:P);return d}function he(l){const P=ce(l,!0).join(", ");return l.utc?"utc(".concat(P,")"):"datetime(".concat(P,")")}function Ce(l){const P=ce(l,!0);return l.utc?+new Date(Date.UTC(...P)):+new Date(...P)}function re(l){return Tk.filter(P=>vf(l,P))}function vf(l,P){const d=l.indexOf(P);return 0>d||0<d&&"seconds"===
P&&"i"===l.charAt(d-1)||l.length>d+3&&"day"===P&&"o"===l.charAt(d+3)||0<d&&"year"===P&&"f"===l.charAt(d-1)?!1:!0}function Ge(l,P){var {end:d}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{end:!1};const z=M(P),H=l.startsWith("utc")?"utc":"";const W={};for(const ta of Tk)if(vf(l,ta)){var na=ta;na="quarter"===na?"(".concat(H,"quarter(").concat(z,")-1)"):"".concat(H).concat(na,"(").concat(z,")");W[ta]=na;na=ta}d&&(W[na]+="+1");d=ce(W,!1).join(", ");return W.utc?"utc(".concat(d,")"):"datetime(".concat(d,
")")}function Re(l){if(l)return l=re(l),"timeUnitSpecifier(".concat(hh(l),", ").concat(hh(Ii),")")}function af(l){if(l){var P;p.isString(l)?P={unit:l}:p.isObject(l)&&(P=Object.assign({},l,l.unit?{unit:l.unit}:{}));P.unit.startsWith("utc")&&(P.utc=!0,P.unit=P.unit.substr(3));return P}}function Qb(l){var P=af(l);l=Object.assign({},P);P=P.utc;const d=(delete l.utc,l);return d.unit?(P?"utc":"")+se(d).map(z=>K("".concat("unit"===z?"":"_".concat(z,"_")).concat(d[z]))).join(""):(P?"utc":"")+"timeunit"+se(d).map(z=>
K("_".concat(z,"_").concat(d[z]))).join("")}function rc(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.equal}function bd(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.lt}function Ad(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.lte}function wa(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.gt}function Xa(l){return!(null===l||void 0===l||!l.field)&&void 0!==l.gte}function zb(l){return null!==l&&void 0!==l&&l.field&&(p.isArray(l.range)&&2===l.range.length||Bc(l.range))?
!0:!1}function Xb(l){return!(null===l||void 0===l||!l.field)&&(p.isArray(l.oneOf)||p.isArray(l.in))}function tc(l){return Xb(l)||rc(l)||zb(l)||bd(l)||wa(l)||Ad(l)||Xa(l)}function gd(l,P){return vg(l,{timeUnit:P,wrapTime:!0})}function qc(l,P){return l.map(d=>gd(d,P))}function rb(l){var P,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,{field:z}=l;const H=null===(P=af(l.timeUnit))||void 0===P?void 0:P.unit;P=H?"time(".concat(Ge(H,z),")"):Id(l,{expr:"datum"});if(rc(l))return"".concat(P,"\x3d\x3d\x3d").concat(gd(l.equal,
H));if(bd(l))return d=l.lt,"".concat(P,"\x3c").concat(gd(d,H));if(wa(l))return d=l.gt,"".concat(P,"\x3e").concat(gd(d,H));if(Ad(l))return d=l.lte,"".concat(P,"\x3c\x3d").concat(gd(d,H));if(Xa(l))return d=l.gte,"".concat(P,"\x3e\x3d").concat(gd(d,H));if(Xb(l))return"indexof([".concat(qc(l.oneOf,H).join(","),"], ").concat(P,") !\x3d\x3d -1");if(null!==l&&void 0!==l&&l.field&&void 0!==l.valid)return Bb(P,l.valid);if(zb(l)){var {range:W}=l;z=Bc(W)?{signal:"".concat(W.signal,"[0]")}:W[0];W=Bc(W)?{signal:"".concat(W.signal,
"[1]")}:W[1];if(null!==z&&null!==W&&d)return"inrange("+P+", ["+gd(z,H)+", "+gd(W,H)+"])";d=[];null!==z&&d.push("".concat(P," \x3e\x3d ").concat(gd(z,H)));null!==W&&d.push("".concat(P," \x3c\x3d ").concat(gd(W,H)));return 0<d.length?d.join(" \x26\x26 "):"true"}throw Error("Invalid field predicate: ".concat(hh(l)));}function Bb(l){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:1)?"isValid(".concat(l,") \x26\x26 isFinite(+").concat(l,")"):"!isValid(".concat(l,") || !isFinite(+").concat(l,
")")}function ic(l){if(tc(l)&&l.timeUnit){var P;return Object.assign({},l,{timeUnit:null===(P=af(l.timeUnit))||void 0===P?void 0:P.unit})}return l}function Uc(l){return"quantitative"===l||"temporal"===l}function Rd(l){return"ordinal"===l||"nominal"===l}function Md(l){if(l)switch(l=l.toLowerCase(),l){case "q":case "quantitative":return"quantitative";case "t":case "temporal":return"temporal";case "o":case "ordinal":return"ordinal";case "n":case "nominal":return"nominal";case "geojson":return"geojson"}}
function Gd(l){return Dl.has(l)}function Pd(l){return Bl.has(l)}function Le(l){return null===l||void 0===l?void 0:l.param}function Se(l,P){switch(P){case "type":case "domain":case "reverse":case "range":return!0;case "scheme":case "interpolate":return!["point","band","identity"].includes(l);case "bins":return!["point","band","identity","ordinal"].includes(l);case "round":return Ei.has(l)||"band"===l||"point"===l;case "padding":case "rangeMin":case "rangeMax":return Ei.has(l)||["point","band"].includes(l);
case "paddingOuter":case "align":return["point","band"].includes(l);case "paddingInner":return"band"===l;case "domainMax":case "domainMid":case "domainMin":case "clamp":return Ei.has(l);case "nice":return Ei.has(l)||"quantize"===l||"threshold"===l;case "exponent":return"pow"===l;case "base":return"log"===l;case "constant":return"symlog"===l;case "zero":return Pd(l)&&!g(["log","time","utc","threshold","quantile"],l)}}function ha(l,P){switch(P){case "interpolate":case "scheme":case "domainMid":if(!bb(l))return'Cannot use the scale property "'.concat(P,
'" with non-color channel.')}}function ob(l,P){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;if(!Sh[l])return!1;switch(l){case "x":case "y":case "xOffset":case "yOffset":case "theta":case "radius":return Ei.has(P)||"band"===P?!0:"point"===P?!d:!1;case "size":case "strokeWidth":case "opacity":case "fillOpacity":case "strokeOpacity":case "angle":return Ei.has(P)||Cj.has(P)||g(["band","point","ordinal"],P);case "color":case "fill":case "stroke":return"band"!==P;case "strokeDash":case "shape":return"ordinal"===
P||Cj.has(P)}}function Ea(l){return["line","area","trail"].includes(l)}function Ib(l){return l.type}function Yb(l){return l&&void 0!=l.band}function kc(l){const {channel:P,channelDef:d,markDef:z,scale:H,config:W}=l;l=qd(l);if(Ec(d)&&!ka(d.aggregate)&&H&&Ei.has(H.get("type"))){{let {fieldDef:ta,channel:cb,markDef:qb,ref:vb,config:Nb}={fieldDef:d,channel:P,markDef:z,ref:l,config:W};if(Ea(qb.type))l=vb;else if(null===Sc("invalid",qb,Nb)){var na=cb;l=Nc(ta,!0);na="y"===Ma(na)?{field:{group:"height"}}:
{value:0};l=[Object.assign({},{test:l},na),vb]}else l=vb}return l}return l}function Nc(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0;return Bb(p.isString(l)?l:Id(l,{expr:"datum"}),!P)}function Jc(l,P,d,z){const H={};P&&(H.scale=P);Be(l)?({datum:l}=l,rd(l)?H.signal=he(l):Bc(l)?H.signal=l.signal:Mb(l)?H.signal=l.expr:H.value=l):H.field=Id(l,d);if(z){const {offset:W,band:na}=z;W&&(H.offset=W);na&&(H.band=na)}return H}function pd(l){let {scaleName:P,fieldOrDatumDef:d,fieldOrDatumDef2:z,
offset:H,startSuffix:W,bandPosition:na=.5}=l;var ta=0<na&&1>na?"datum":void 0;l=Id(d,{expr:ta,suffix:W});const cb=void 0!==z?Id(z,{expr:ta}):Id(d,{suffix:"end",expr:ta});ta={};0===na||1===na?(ta.scale=P,ta.field=0===na?l:cb):(l=Bc(na)?"".concat(na.signal," * ").concat(l," + (1-").concat(na.signal,") * ").concat(cb):"".concat(na," * ").concat(l," + ").concat(1-na," * ").concat(cb),ta.signal='scale("'.concat(P,'", ').concat(l,")"));H&&(ta.offset=H);return ta}function qd(l){let {channel:P,channelDef:d,
channel2Def:z,markDef:H,config:W,scaleName:na,scale:ta,stack:cb,offset:qb,defaultRef:vb,bandPosition:Nb}=l;if(d){if(Zd(d)){var xc,od;l=null===ta||void 0===ta?void 0:ta.get("type");if(vd(d)){var Pc;null!==(Pc=Nb)&&void 0!==Pc?Pc:Nb=Kb({fieldDef:d,fieldDef2:z,markDef:H,config:W});const {bin:Ed,timeUnit:Ud,type:pe}=d;if(Ta(Ed)||Nb&&Ud&&"temporal"===pe)return null!==cb&&void 0!==cb&&cb.impute?Jc(d,na,{binSuffix:"mid"},{offset:qb}):Nb&&!Gd(l)?pd({scaleName:na,fieldOrDatumDef:d,bandPosition:Nb,offset:qb}):
Jc(d,na,Uf(d,P)?{binSuffix:"range"}:{},{offset:qb});if(eb(Ed)){if(Ec(z))return pd({scaleName:na,fieldOrDatumDef:d,fieldOrDatumDef2:z,bandPosition:Nb,offset:qb});lc(Dc("x"===P?"x2":"y2"))}}return Jc(d,na,Gd(l)?{binSuffix:"range"}:{},{offset:qb,band:"band"===l?null!==(xc=null!==(od=Nb)&&void 0!==od?od:d.bandPosition)&&void 0!==xc?xc:.5:void 0})}if(Kd(d))return xc=qb?{offset:qb}:{},Object.assign({},Yd(P,d.value),xc)}p.isFunction(vb)&&(vb=vb());return vb?Object.assign({},vb,qb?{offset:qb}:{}):vb}function Yd(l,
P){return g(["x","x2"],l)&&"width"===P?{field:{group:"width"}}:g(["y","y2"],l)&&"height"===P?{field:{group:"height"}}:Wb(P)}function Od(l){return l&&"number"!==l&&"time"!==l}function Jd(l,P,d){return"".concat(l,"(").concat(P).concat(d?", ".concat(hh(d)):"",")")}function ed(l){let {fieldOrDatumDef:P,format:d,formatType:z,expr:H,normalizeStack:W,config:na}=l;if(Od(z))return wc({fieldOrDatumDef:P,format:d,formatType:z,expr:H,config:na});l=sd(P,H,W);var ta=Fd(P);if(void 0===d&&void 0===z&&na.customFormatTypes){if("quantitative"===
ta){if(W&&na.normalizedNumberFormatType)return wc({fieldOrDatumDef:P,format:na.normalizedNumberFormat,formatType:na.normalizedNumberFormatType,expr:H,config:na});if(na.numberFormatType)return wc({fieldOrDatumDef:P,format:na.numberFormat,formatType:na.numberFormatType,expr:H,config:na})}if("temporal"===ta&&na.timeFormatType&&Ec(P)&&void 0===P.timeUnit)return wc({fieldOrDatumDef:P,format:na.timeFormat,formatType:na.timeFormatType,expr:H,config:na})}if(Cf(P)){var cb,qb;{l={field:l,timeUnit:Ec(P)?null===
(cb=af(P.timeUnit))||void 0===cb?void 0:cb.unit:void 0,format:d,formatType:na.timeFormatType,rawTimeFormat:na.timeFormat,isUTCScale:ee(P)&&(null===(qb=P.scale)||void 0===qb?void 0:qb.type)===Xh.UTC};let {field:vb,timeUnit:Nb,format:xc,formatType:od,rawTimeFormat:Pc,isUTCScale:Ed}=l;!Nb||xc?!Nb&&od?cb="".concat(od,"(").concat(vb,", '").concat(xc,"')"):(xc=p.isString(xc)?xc:Pc,cb="".concat(Ed?"utc":"time","Format(").concat(vb,", '").concat(xc,"')")):(l=Nb,cb=vb,ta=Ed,l?(qb=Re(l),l=ta||l.startsWith("utc"),
cb="".concat(l?"utc":"time","Format(").concat(cb,", ").concat(qb,")")):cb=void 0)}return cb?{signal:cb}:void 0}d=ud({type:ta,specifiedFormat:d,config:na,normalizeStack:W});return Ec(P)&&Ta(P.bin)?(cb=Id(P,{expr:H,binSuffix:"end"}),{signal:Pb(l,cb,d,z,na)}):d||"quantitative"===Fd(P)?{signal:"".concat(kb(l,d))}:{signal:"isValid(".concat(l,") ? ").concat(l,' : ""+').concat(l)}}function sd(l,P,d){if(Ec(l))return d?"".concat(Id(l,{expr:P,suffix:"end"}),"-").concat(Id(l,{expr:P,suffix:"start"})):Id(l,{expr:P});
({datum:l}=l);l=rd(l)?he(l):"".concat(hh(l));return l}function wc(l){var P;let {fieldOrDatumDef:d,format:z,formatType:H,expr:W,normalizeStack:na,config:ta,field:cb}=l;null!==(P=cb)&&void 0!==P?P:cb=sd(d,W,na);return"datum.value"!==cb&&Ec(d)&&Ta(d.bin)?(l=Id(d,{expr:W,binSuffix:"end"}),{signal:Pb(cb,l,z,H,ta)}):{signal:Jd(H,cb,z)}}function Rc(l,P,d,z,H,W){if(!(Od(z)||void 0===d&&void 0===z&&H.customFormatTypes&&"quantitative"===Fd(l)&&(H.normalizedNumberFormatType&&xe(l)&&"normalize"===l.stack||H.numberFormatType))){if(xe(l)&&
"normalize"===l.stack&&H.normalizedNumberFormat)return ud({type:"quantitative",config:H,normalizeStack:!0});if(Cf(l)){var na;l=Ec(l)?null===(na=af(l.timeUnit))||void 0===na?void 0:na.unit:void 0;if(void 0===l&&H.customFormatTypes&&H.timeFormatType)return;{let {specifiedFormat:ta,timeUnit:cb,config:qb,omitTimeFormatConfig:vb}={specifiedFormat:d,timeUnit:l,config:H,omitTimeFormatConfig:W};d=ta?ta:cb?{signal:Re(cb)}:vb?void 0:qb.timeFormat}return d}return ud({type:P,specifiedFormat:d,config:H})}}function Lc(l,
P,d){if(l&&(Bc(l)||"number"===l||"time"===l))return l;if(Cf(P)&&"time"!==d&&"utc"!==d){var z;return Ec(P)&&null!==(z=af(null===P||void 0===P?void 0:P.timeUnit))&&void 0!==z&&z.utc?"utc":"time"}}function ud(l){let {type:P,specifiedFormat:d,config:z,normalizeStack:H}=l;if(p.isString(d))return d;if("quantitative"===P)return H?z.normalizedNumberFormat:z.numberFormat}function kb(l,P){return"format(".concat(l,', "').concat(P||"",'")')}function Gb(l,P,d,z){var H;return Od(d)?Jd(d,l,P):kb(l,null!==(H=p.isString(P)?
P:void 0)&&void 0!==H?H:z.numberFormat)}function Pb(l,P,d,z,H){if(void 0===d&&void 0===z&&H.customFormatTypes&&H.numberFormatType)return Pb(l,P,H.numberFormat,H.numberFormatType,H);const W=Gb(l,d,z,H);P=Gb(P,d,z,H);return"".concat(Bb(l,!1),' ? "null" : ').concat(W,' + "').concat(" – ",'" + ').concat(P)}function bc(l){return!(null===l||void 0===l||!l.encoding)}function fa(l){return l&&("count"===l.op||!!l.field)}function Ia(l){return l&&p.isArray(l)}function gb(l){return"row"in l||"column"in l}function Fb(l){const {field:P,
timeUnit:d,bin:z,aggregate:H}=l;return Object.assign({},d?{timeUnit:d}:{},z?{bin:z}:{},H?{aggregate:H}:{},{field:P})}function Kb(l){let {fieldDef:P,fieldDef2:d,markDef:z,config:H}=l;if(Zd(P)&&void 0!==P.bandPosition)return P.bandPosition;if(Ec(P)){const {timeUnit:W,bin:na}=P;if(W&&!d)return["rect","bar","image","arc"].includes(z.type)?0:jd("timeUnitBandPosition",z,H);if(Ta(na))return.5}}function Ob(l){let {channel:P,fieldDef:d,fieldDef2:z,markDef:H,config:W,scaleType:na,useVlSizeChannel:ta}=l;l=Ra(P);
l=Sc(ta?"size":l,H,W,{vgChannel:l});if(void 0!==l)return l;if(Ec(d)){const {timeUnit:Nb,bin:xc}=d;if(Nb&&!z)return{band:jd("timeUnitBandSize",H,W)};if(Ta(xc)&&!Gd(na))return{band:1}}if(["rect","bar","image","arc"].includes(H.type)){var cb;if(na){if(Gd(na)){var qb;return(null===(qb=W[H.type])||void 0===qb?void 0:qb.discreteBandSize)||{band:1}}var vb;return null===(vb=W[H.type])||void 0===vb?void 0:vb.continuousBandSize}return null===(cb=W[H.type])||void 0===cb?void 0:cb.discreteBandSize}}function oc(l,
P,d,z){return Ta(l.bin)||l.timeUnit&&vd(l)&&"temporal"===l.type?void 0!==Kb({fieldDef:l,fieldDef2:P,markDef:d,config:z}):!1}function Oc(l){return l&&"condition"in l}function yc(l){l=null===l||void 0===l?void 0:l.condition;return!!l&&!p.isArray(l)&&Ec(l)}function fd(l){l=null===l||void 0===l?void 0:l.condition;return!!l&&!p.isArray(l)&&Zd(l)}function Ec(l){return l&&(!!l.field||"count"===l.aggregate)}function Fd(l){return null===l||void 0===l?void 0:l.type}function Be(l){return l&&"datum"in l}function fe(l){return vd(l)&&
!sf(l)||Ae(l)}function Ae(l){return Be(l)&&p.isNumber(l.datum)}function Zd(l){return Ec(l)||Be(l)}function vd(l){return l&&("field"in l||"count"===l.aggregate)&&"type"in l}function Kd(l){return l&&"value"in l&&"value"in l}function ee(l){return l&&("scale"in l||"sort"in l)}function xe(l){return l&&("axis"in l||"stack"in l||"impute"in l)}function ze(l){return l&&("format"in l||"formatType"in l)}function Te(l){return b(l,["legend","axis","header","scale"])}function Id(l){let P=1<arguments.length&&void 0!==
arguments[1]?arguments[1]:{},d=l.field;const z=P.prefix;let H=P.suffix,W="";if("count"===l.aggregate)d=Z("count");else{let qb;if(!P.nofn)if("op"in l)qb=l.op;else{const {bin:vb,aggregate:Nb,timeUnit:xc}=l;if(Ta(vb)){var na,ta;qb=ua(vb);H=(null!==(na=P.binSuffix)&&void 0!==na?na:"")+(null!==(ta=P.suffix)&&void 0!==ta?ta:"")}else if(Nb)ja(Nb)?(W='["'.concat(d,'"]'),d="argmax_".concat(Nb.argmax)):Oa(Nb)?(W='["'.concat(d,'"]'),d="argmin_".concat(Nb.argmin)):qb=String(Nb);else if(xc){var cb;qb=Qb(xc);H=
(!["range","mid"].includes(P.binSuffix)&&P.binSuffix||"")+(null!==(cb=P.suffix)&&void 0!==cb?cb:"")}}qb&&(d=d?"".concat(qb,"_").concat(d):qb)}H&&(d="".concat(d,"_").concat(H));z&&(d="".concat(z,"_").concat(d));return P.forAs?X(d):P.expr?aa(d,P.expr)+W:ea(d)+W}function sf(l){switch(l.type){case "nominal":case "ordinal":case "geojson":return!0;case "quantitative":return Ec(l)&&!!l.bin;case "temporal":return!1}throw Error('Invalid field type "'.concat(l.type,'".'));}function Af(l,P){const {field:d,bin:z,
timeUnit:H,aggregate:W}=l;if("count"===W)return P.countTitle;if(Ta(z))return"".concat(d," (binned)");if(H){var na;if(l=null===(na=af(H))||void 0===na?void 0:na.unit)return"".concat(d," (").concat(re(l).join("-"),")")}else if(W)return ja(W)?"".concat(d," for max ").concat(W.argmax):Oa(W)?"".concat(d," for min ").concat(W.argmin):"".concat(ca(W)," of ").concat(d);return d}function Ff(l,P,d){var z;let {allowDisabling:H,includeDefault:W=!0}=d;d=null===(z=$g(l))||void 0===z?void 0:z.title;if(!Ec(l))return null!==
d&&void 0!==d?d:l.title;P=W?Ej(l,P):void 0;if(H)return B(d,l.title,P);var na;return null!==(na=null!==d&&void 0!==d?d:l.title)&&void 0!==na?na:P}function $g(l){if(xe(l)&&l.axis)return l.axis;if(l&&"legend"in l&&l.legend)return l.legend;if(l&&"header"in l&&l.header)return l.header}function ie(l){if(ze(l)){const {format:H,formatType:W}=l;return{format:H,formatType:W}}var P;l=null!==(P=$g(l))&&void 0!==P?P:{};const {format:d,formatType:z}=l;return{format:d,formatType:z}}function mf(l,P){var d;switch(P){case "latitude":case "longitude":return"quantitative";
case "row":case "column":case "facet":case "shape":case "strokeDash":return"nominal";case "order":return"ordinal"}if("sort"in l&&p.isArray(l.sort))return"ordinal";const {aggregate:z,bin:H,timeUnit:W}=l;if(W)return"temporal";if(H||z&&!ja(z)&&!Oa(z))return"quantitative";if(ee(l)&&null!==(d=l.scale)&&void 0!==d&&d.type)switch(Wk[l.scale.type]){case "numeric":case "discretizing":return"quantitative";case "time":return"temporal"}return"nominal"}function Tf(l){if(Ec(l))return l;if(yc(l))return l.condition}
function Gf(l){if(Zd(l))return l;if(fd(l))return l.condition}function Ag(l,P,d){var z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return p.isString(l)||p.isNumber(l)||p.isBoolean(l)?(z=p.isString(l)?"string":p.isNumber(l)?"number":"boolean",z="Channel ".concat(P," is a ").concat(z,". Converted to {value: ").concat(hh(l),"}."),lc(z),{value:l}):Zd(l)?ng(l,P,d,z):fd(l)?Object.assign({},l,{condition:ng(l.condition,P,d,z)}):l}function ng(l,P,d,z){if(ze(l)){var H=Object.assign({},l),W=l.formatType;
H=(delete H.format,delete H.formatType,H);if(Od(W)&&!d.customFormatTypes)return lc(qe(P)),ng(H,P,d,z)}else if((W=xe(l)?"axis":l&&"legend"in l?"legend":l&&"header"in l?"header":null)&&l[W]){var na=l[W];H=Object.assign({},na);na=na.formatType;H=(delete H.format,delete H.formatType,H);if(Od(na)&&!d.customFormatTypes)return lc(qe(P)),ng(Object.assign({},l,{[W]:H}),P,d,z)}if(Ec(l))return ug(l,P,z);P=l.type;P||({datum:P}=l,P=p.isNumber(P)?"quantitative":p.isString(P)?"nominal":rd(P)?"temporal":void 0,l=
Object.assign({},l,{type:P}));return l}function ug(l,P){var {compositeMark:d=!1}=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};const {aggregate:z,timeUnit:H,bin:W,field:na}=l,ta=Object.assign({},l);d||!z||U(z)||ja(z)||Oa(z)||(lc('Invalid aggregation operator "'.concat(z,'".')),delete ta.aggregate);H&&(ta.timeUnit=af(H));na&&(ta.field="".concat(na));Ta(W)&&(ta.bin=Sg(W,P));eb(W)&&!xa(P)&&lc("Channel ".concat(P,' should not be used with "binned" bin.'));if(vd(ta)){({type:d}=ta);var cb=Md(d);
d!==cb&&(ta.type=cb);"quantitative"!==d&&ka(z)&&(d='Invalid field type "'.concat(d,'" for aggregate: "').concat(z,'", using "quantitative" instead.'),lc(d),ta.type="quantitative")}else ib(P)||(d=mf(ta,P),ta.type=d);if(vd(ta)){const {compatible:vb,warning:Nb}=ig(ta,P)||{};!1===vb&&lc(Nb)}if("sort"in ta&&p.isString(ta.sort)){({sort:d}=ta);if(d in bk)return Object.assign({},ta,{sort:{encoding:d}});cb=d.substr(1);if("-"===d.charAt(0)&&cb in bk)return Object.assign({},ta,{sort:{encoding:cb,order:"descending"}})}if(ta&&
"header"in ta&&({header:d}=ta,d)){var qb=d;cb=Object.assign({},qb);qb=qb.orient;cb=(delete cb.orient,cb);if(qb)return Object.assign({},ta,{header:Object.assign({},cb,{labelOrient:d.labelOrient||qb,titleOrient:d.titleOrient||qb})})}return ta}function Sg(l,P){return p.isBoolean(l)?{maxbins:nb(P)}:"binned"===l?{binned:!0}:l.maxbins||l.step?l:Object.assign({},l,{maxbins:nb(P)})}function ig(l,P){var d=l.type;if("geojson"===d&&"shape"!==P)return{compatible:!1,warning:"Channel ".concat(P," should not be used with a geojson data.")};
switch(P){case "row":case "column":case "facet":return sf(l)?qi:{compatible:!1,warning:"".concat(P," encoding should be discrete (ordinal / nominal / binned).")};case "x":case "y":case "xOffset":case "yOffset":case "color":case "fill":case "stroke":case "text":case "detail":case "key":case "tooltip":case "href":case "url":case "angle":case "theta":case "radius":case "description":return qi;case "longitude":case "longitude2":case "latitude":case "latitude2":return"quantitative"!==d?{compatible:!1,
warning:"Channel ".concat(P," should be used with a quantitative field only, not ").concat(l.type," field.")}:qi;case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeWidth":case "size":case "theta2":case "radius2":case "x2":case "y2":return"nominal"!==d||l.sort?qi:{compatible:!1,warning:"Channel ".concat(P," should not be used with an unsorted discrete field.")};case "shape":case "strokeDash":if(d=!sf(l)){var z;d=!(ee(l)&&Cj.has(null===(z=l.scale)||void 0===z?void 0:z.type))}return d?
{compatible:!1,warning:"".concat(P," encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).")}:qi;case "order":return"nominal"!==l.type||"sort"in l?qi:{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}}}function Cf(l){var {formatType:P}=ie(l),d;if(!(d="time"===P)){if(P=!P)P=l&&("temporal"===l.type||Ec(l)&&!!l.timeUnit);d=P}return d}function vg(l,P){let {timeUnit:d,type:z,wrapTime:H,undefinedIfExprNotRequired:W}=
P;var na=(P=d&&(null===(na=af(d))||void 0===na?void 0:na.unit))||"temporal"===z;let ta;Mb(l)?ta=l.expr:Bc(l)?ta=l.signal:rd(l)?(na=!0,ta=he(l)):(p.isString(l)||p.isNumber(l))&&na&&(ta="datetime(".concat(hh(l),")"),ml[P]&&(p.isNumber(l)&&1E4>l||p.isString(l)&&isNaN(Date.parse(l)))&&(ta=he({[P]:l})));return ta?H&&na?"time(".concat(ta,")"):ta:W?void 0:hh(l)}function og(l,P){const {type:d}=l;return P.map(z=>{const H=vg(z,{timeUnit:Ec(l)?l.timeUnit:void 0,type:d,undefinedIfExprNotRequired:!0});return void 0!==
H?{signal:H}:z})}function Uf(l,P){return Ta(l.bin)?!!Sh[P]&&["ordinal","nominal"].includes(l.type):(console.warn("Only call this method for binned field defs."),!1)}function Xf(l){return null===l||void 0===l?void 0:l.condition}function Tg(l){return"mark"in l}function bh(l,P){return(l=l&&l[P])?p.isArray(l)?m(l,d=>!!d.field):Ec(l)||yc(l):!1}function Ng(l,P){return(l=l&&l[P])?p.isArray(l)?m(l,d=>!!d.field):Ec(l)||Be(l)||fd(l):!1}function Ig(l,P){if(xa(P)){const d=l[P];if((Ec(d)||Be(d))&&Rd(d.type))return P=
ya(P),Ng(l,P)}return!1}function Jg(l){return m(Fl,P=>bh(l,P)?(P=l[P],p.isArray(P)?m(P,d=>!!d.aggregate):(P=Tf(P))&&!!P.aggregate):!1)}function Wa(l,P){const d=[],z=[],H=[],W=[],na={};ne(l,(ta,cb)=>{if(Ec(ta)){var qb=Object.assign({},ta),vb=ta.field;const xc=ta.aggregate,od=ta.bin,Pc=ta.timeUnit;qb=(delete qb.field,delete qb.aggregate,delete qb.bin,delete qb.timeUnit,qb);if(xc||Pc||od){var Nb=$g(ta);const Ed=null===Nb||void 0===Nb?void 0:Nb.title;Nb=Id(ta,{forAs:!0});qb=Object.assign({},Ed?[]:{title:Ff(ta,
P,{allowDisabling:!0})},qb,{field:Nb});if(xc){let Ud;ja(xc)?(Ud="argmax",Nb=Id({op:"argmax",field:xc.argmax},{forAs:!0}),qb.field="".concat(Nb,".").concat(vb)):Oa(xc)?(Ud="argmin",Nb=Id({op:"argmin",field:xc.argmin},{forAs:!0}),qb.field="".concat(Nb,".").concat(vb)):"boxplot"!==xc&&"errorbar"!==xc&&"errorband"!==xc&&(Ud=xc);Ud&&(ta={op:Ud,as:Nb},vb&&(ta.field=vb),W.push(ta))}else d.push(Nb),vd(ta)&&Ta(od)?(z.push({bin:od,field:vb,as:Nb}),d.push(Id(ta,{binSuffix:"end"})),Uf(ta,cb)&&d.push(Id(ta,{binSuffix:"range"})),
xa(cb)&&(vb={field:"".concat(Nb,"_end")},na["".concat(cb,"2")]=vb),qb.bin="binned",ib(cb)||(qb.type="quantitative")):Pc&&(H.push({timeUnit:Pc,field:vb,as:Nb}),(vb=vd(ta)&&"temporal"!==ta.type&&"time")&&("text"===cb||"tooltip"===cb?qb.formatType=vb:qj[cb]?qb.legend=Object.assign({},{formatType:vb},qb.legend):xa(cb)&&(qb.axis=Object.assign({},{formatType:vb},qb.axis))));na[cb]=qb}else d.push(vb),na[cb]=l[cb]}else na[cb]=l[cb]});return{bins:z,timeUnits:H,aggregate:W,groupby:d,encoding:na}}function Cb(l,
P,d){d=fb(P)[d];return d&&("binned"!==d||(d=l["x2"===P?"x":"y"],Ec(d)&&Ec(l[P])&&eb(d.bin)))?!0:!1}function hc(l,P,d,z){const H={};for(var W of se(l))Zj[W]||lc(za(W));for(let ta of Cl)if(l[ta]){W=l[ta];if(ta in Si){var na=oa(ta);const cb=H[na];if(Ec(cb)){if(Uc(cb.type)&&Ec(W)){lc(wd(na));continue}}else ta=na,lc(qf(na))}"angle"!==ta||"arc"!==P||l.theta||(lc("Arc marks uses theta channel rather than angle, replacing angle with theta."),ta="theta");if(Cb(l,ta,P)){if("size"===ta&&"line"===P&&(na=Tf(l[ta]),
null!==na&&void 0!==na&&na.aggregate)){lc("Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.");continue}if("color"===ta&&(d?"fill"in l:"stroke"in l))lc(gf("encoding",{fill:"fill"in l,stroke:"stroke"in l}));else if("detail"===ta||"order"===ta&&!p.isArray(W)&&!Kd(W)||"tooltip"===ta&&p.isArray(W))W&&(H[ta]=p.array(W).reduce((cb,qb)=>{Ec(qb)?cb.push(ug(qb,ta)):lc(te(qb,ta));return cb},[]));else{if("tooltip"===ta&&null===W)H[ta]=null;else if(!(Ec(W)||Be(W)||
Kd(W)||Oc(W)||Bc(W))){lc(te(W,ta));continue}H[ta]=Ag(W,ta,z)}}else lc(We(ta,P))}return H}function yd(l,P){const d={};for(const z of se(l)){const H=Ag(l[z],z,P,{compositeMark:!0});d[z]=H}return d}function Dd(l){const P=[];for(const d of se(l))if(bh(l,d)){const z=p.array(l[d]);for(const H of z)Ec(H)?P.push(H):yc(H)&&P.push(H.condition)}return P}function ne(l,P,d){if(l)for(const z of se(l)){const H=l[z];if(p.isArray(H))for(const W of H)P.call(d,W,z);else P.call(d,H,z)}}function of(l,P,d,z){return l?
se(l).reduce((H,W)=>{const na=l[W];return p.isArray(na)?na.reduce((ta,cb)=>P.call(z,ta,cb,W),H):P.call(z,H,na,W)},d):d}function uf(l,P){return se(P).reduce((d,z)=>{switch(z){case "x":case "y":case "href":case "description":case "url":case "x2":case "y2":case "xOffset":case "yOffset":case "theta":case "theta2":case "radius":case "radius2":case "latitude":case "longitude":case "latitude2":case "longitude2":case "text":case "shape":case "angle":case "tooltip":return d;case "order":if("line"===l||"trail"===
l)return d;case "detail":case "key":z=P[z];if(p.isArray(z)||Ec(z))for(var H of p.array(z))H.aggregate||d.push(Id(H,{}));return d;case "size":if("trail"===l)return d;case "color":case "fill":case "stroke":case "opacity":case "fillOpacity":case "strokeOpacity":case "strokeDash":case "strokeWidth":return(H=Tf(P[z]))&&!H.aggregate&&d.push(Id(H,{})),d}},[])}function Wg(l,P,d){let z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!0;if("tooltip"in d)return{tooltip:d.tooltip};const H=l.map(na=>{let {fieldPrefix:ta,
titlePrefix:cb}=na;na=z?" of ".concat(Vf(P)):"";return{field:ta+P.field,type:P.type,title:Bc(cb)?{signal:"".concat(cb,'"').concat(escape(na),'"')}:cb+na}}),W=Dd(d).map(Te);return{tooltip:[...H,...O(W,c)]}}function Vf(l){const {title:P,field:d}=l;return B(P,d)}function Xg(l,P,d,z,H){const {scale:W,axis:na}=d;return ta=>{let {partName:cb,mark:qb,positionPrefix:vb,endPositionPrefix:Nb,extraEncoding:xc={}}=ta;ta=Vf(d);return Fh(l,cb,H,{mark:qb,encoding:Object.assign({},{[P]:Object.assign({},{field:"".concat(vb,
"_").concat(d.field),type:d.type},void 0!==ta?{title:ta}:{},void 0!==W?{scale:W}:{},void 0!==na?{axis:na}:{})},p.isString(Nb)?{["".concat(P,"2")]:{field:"".concat(Nb,"_").concat(d.field)}}:{},z,xc)})}}function Fh(l,P,d,z){const {clip:H,color:W,opacity:na}=l,ta=l.type;return l[P]||void 0===l[P]&&d[P]?[Object.assign({},z,{mark:Object.assign({},d[P],H?{clip:H}:{},W?{color:W}:{},na?{opacity:na}:{},Ib(z.mark)?z.mark:{type:z.mark},{style:"".concat(ta,"-").concat(String(P))},p.isBoolean(l[P])?{}:l[P])})]:
[]}function qh(l,P,d){({encoding:l}=l);P="vertical"===P?"y":"x";const z=l[P],H=l["".concat(P,"2")],W=l["".concat(P,"Error")];l=l["".concat(P,"Error2")];return{continuousAxisChannelDef:wg(z,d),continuousAxisChannelDef2:wg(H,d),continuousAxisChannelDefError:wg(W,d),continuousAxisChannelDefError2:wg(l,d),continuousAxis:P}}function wg(l,P){if(null!==l&&void 0!==l&&l.aggregate){var d=Object.assign({},l);l=l.aggregate;d=(delete d.aggregate,d);l!==P&&(P="Continuous axis should not have customized aggregation function ".concat(l,
"; ").concat(P," already agregates the axis."),lc(P));return d}return l}function Ug(l,P){const {mark:d,encoding:z}=l,{x:H,y:W}=z;if(Ib(d)&&d.orient)return d.orient;if(fe(H)){if(fe(W)){l=Ec(H)&&H.aggregate;const na=Ec(W)&&W.aggregate;if(!l&&na===P)return"vertical";if(na||l!==P){if(l===P&&na===P)throw Error("Both x and y cannot have aggregate");return Cf(W)&&!Cf(H)?"horizontal":"vertical"}}return"horizontal"}if(fe(W))return"vertical";throw Error("Need a valid continuous axis for ".concat(P,"s"));}function oh(l){return p.isNumber(l)?
"tukey":l}function rh(l,P){var d,{config:z}=P,H=l=Object.assign({},l,{encoding:yd(l.encoding,z)});P=Object.assign({},H);var W=H.mark;H=H.params;P=(delete P.mark,delete P.encoding,delete P.params,delete P.projection,P);W=Ib(W)?W:{type:W};H&&lc(Xd("boxplot"));H=null!==(d=W.extent)&&void 0!==d?d:z.boxplot.extent;var na=Sc("size",W,z);d=oh(H);var ta=l;l=Ug(ta,"boxplot");const {continuousAxisChannelDef:cb,continuousAxis:qb}=qh(ta,l,"boxplot");var vb=cb.field,Nb=oh(H),xc=[...Lh(vb),{op:"median",field:vb,
as:"mid_box_".concat(vb)},{op:"min",field:vb,as:("min-max"===Nb?"lower_whisker_":"min_")+vb},{op:"max",field:vb,as:("min-max"===Nb?"upper_whisker_":"max_")+vb}];vb="min-max"===Nb||"tukey"===Nb?[]:[{calculate:'datum["upper_box_'.concat(vb,'"] - datum["lower_box_').concat(vb,'"]'),as:"iqr_".concat(vb)},{calculate:'min(datum["upper_box_'.concat(vb,'"] + datum["iqr_').concat(vb,'"] * ').concat(H,', datum["max_').concat(vb,'"])'),as:"upper_whisker_".concat(vb)},{calculate:'max(datum["lower_box_'.concat(vb,
'"] - datum["iqr_').concat(vb,'"] * ').concat(H,', datum["min_').concat(vb,'"])'),as:"lower_whisker_".concat(vb)}];ta=Object.assign({},ta.encoding);var od;Nb=(delete ta[qb],ta);ta=Object.assign({},Nb);Nb=Nb.tooltip;ta=(delete ta.tooltip,ta);if(Nb){var Pc;if(p.isArray(Nb)){for(var Ed of Nb)Ed.aggregate?(od||(od=[]),od.push(Ed)):(Pc||(Pc=[]),Pc.push(Ed));od&&(ta.tooltip=od)}else Nb.aggregate?ta.tooltip=Nb:Pc=Nb;p.isArray(Pc)&&1===Pc.length&&(Pc=Pc[0]);od={customTooltipWithoutAggregatedField:Pc,filteredEncoding:ta}}else od=
{filteredEncoding:ta};const {customTooltipWithoutAggregatedField:Ud,filteredEncoding:pe}=od,{bins:Ie,timeUnits:je,aggregate:Fe,groupby:cf,encoding:Ue}=Wa(pe,z);od=[...Ie,...je,{aggregate:[...Fe,...xc],groupby:cf},...vb];const {bins:Ke,timeUnits:Yf,transform:kh,continuousAxisChannelDef:kg,continuousAxis:ki,groupby:Mi,aggregate:Hl,encodingWithoutContinuousAxis:lh,ticksOrient:pl,boxOrient:Il,customTooltipWithoutAggregatedField:Xl}={bins:Ie,timeUnits:je,transform:od,groupby:cf,aggregate:Fe,continuousAxisChannelDef:cb,
continuousAxis:qb,encodingWithoutContinuousAxis:Ue,ticksOrient:"vertical"===l?"horizontal":"vertical",boxOrient:l,customTooltipWithoutAggregatedField:Ud};Pc=Object.assign({},lh);od=lh.color;xc=lh.size;Pc=(delete Pc.color,delete Pc.size,Pc);Ed=Xg(W,ki,kg,Pc,z.boxplot);l=Xg(W,ki,kg,lh,z.boxplot);xc=Xg(W,ki,kg,Object.assign({},Pc,xc?{size:xc}:{}),z.boxplot);vb=Wg([{fieldPrefix:"min-max"===d?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",
titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:"min-max"===d?"lower_whisker_":"min_",titlePrefix:"Min"}],kg,lh);ta={type:"tick",color:"black",opacity:1,orient:pl,invalid:null,aria:!1};Nb="min-max"===d?vb:Wg([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],kg,lh);Ed=[...Ed({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:Nb}),
...Ed({partName:"rule",mark:{type:"rule",invalid:null,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:Nb}),...Ed({partName:"ticks",mark:ta,positionPrefix:"lower_whisker",extraEncoding:Nb}),...Ed({partName:"ticks",mark:ta,positionPrefix:"upper_whisker",extraEncoding:Nb})];na=[...("tukey"!==d?Ed:[]),...l({partName:"box",mark:Object.assign({},{type:"bar"},na?{size:na}:{},{orient:Il,invalid:null,ariaRoleDescription:"box"}),positionPrefix:"lower_box",endPositionPrefix:"upper_box",
extraEncoding:vb}),...xc({partName:"median",mark:Object.assign({},{type:"tick",invalid:null},p.isObject(z.boxplot.median)&&z.boxplot.median.color?{color:z.boxplot.median.color}:{},na?{size:na}:{},{orient:pl,aria:!1}),positionPrefix:"mid_box",extraEncoding:vb})];if("min-max"===d){var Hj;return Object.assign({},P,{transform:(null!==(Hj=P.transform)&&void 0!==Hj?Hj:[]).concat(kh),layer:na})}Hj='datum["lower_box_'.concat(kg.field,'"]');d='datum["upper_box_'.concat(kg.field,'"]');l="(".concat(d," - ").concat(Hj,
")");Hj="".concat(Hj," - ").concat(H," * ").concat(l);l="".concat(d," + ").concat(H," * ").concat(l);xc='datum["'.concat(kg.field,'"]');H={joinaggregate:Lh(kg.field),groupby:Mi};d={transform:[{filter:"(".concat(Hj," \x3c\x3d ").concat(xc,") \x26\x26 (").concat(xc," \x3c\x3d ").concat(l,")")},{aggregate:[{op:"min",field:kg.field,as:"lower_whisker_".concat(kg.field)},{op:"max",field:kg.field,as:"upper_whisker_".concat(kg.field)},{op:"min",field:"lower_box_".concat(kg.field),as:"lower_box_".concat(kg.field)},
{op:"max",field:"upper_box_".concat(kg.field),as:"upper_box_".concat(kg.field)},...Hl],groupby:Mi}],layer:Ed};Pc=Object.assign({},Pc);Pc=(delete Pc.tooltip,Pc);const {scale:Yl,axis:om}=kg;Ed=Vf(kg);vb=b(om,["title"]);z=Fh(W,"outliers",z.boxplot,{transform:[{filter:"(".concat(xc," \x3c ").concat(Hj,") || (").concat(xc," \x3e ").concat(l,")")}],mark:"point",encoding:Object.assign({},{[ki]:Object.assign({},{field:kg.field,type:kg.type},void 0!==Ed?{title:Ed}:{},void 0!==Yl?{scale:Yl}:{},r(vb)?{}:{axis:vb})},
Pc,od?{color:od}:{},Xl?{tooltip:Xl}:{})})[0];W=[...Ke,...Yf,H];z?z={transform:W,layer:[z,d]}:(z=d,z.transform.unshift(...W));return Object.assign({},P,{layer:[z,{transform:kh,layer:na}]})}function Lh(l){return[{op:"q1",field:l,as:"lower_box_".concat(l)},{op:"q3",field:l,as:"upper_box_".concat(l)}]}function vh(l,P){({config:P}=P);l=Object.assign({},l,{encoding:yd(l.encoding,P)});const {transform:d,continuousAxisChannelDef:z,continuousAxis:H,encodingWithoutContinuousAxis:W,ticksOrient:na,markDef:ta,
outerSpec:cb,tooltipEncoding:qb}=Kg(l,"errorbar",P);delete W.size;l=Xg(ta,H,z,W,P.errorbar);P=ta.thickness;var vb=ta.size;vb=Object.assign({},{type:"tick",orient:na,aria:!1},void 0!==P?{thickness:P}:{},void 0!==vb?{size:vb}:{});l=[...l({partName:"ticks",mark:vb,positionPrefix:"lower",extraEncoding:qb}),...l({partName:"ticks",mark:vb,positionPrefix:"upper",extraEncoding:qb}),...l({partName:"rule",mark:Object.assign({},{type:"rule",ariaRoleDescription:"errorbar"},void 0!==P?{size:P}:{}),positionPrefix:"lower",
endPositionPrefix:"upper",extraEncoding:qb})];return Object.assign({},cb,{transform:d},1<l.length?{layer:l}:Object.assign({},l[0]))}function Eh(l,P){var {encoding:d}=l;if(!(!Zd(d.x)&&!Zd(d.y)||Zd(d.x2)||Zd(d.y2)||Zd(d.xError)||Zd(d.xError2)||Zd(d.yError)||Zd(d.yError2)))return{orient:Ug(l,P),inputType:"raw"};var z=Zd(d.x2)||Zd(d.y2);var H=Zd(d.xError)||Zd(d.xError2)||Zd(d.yError)||Zd(d.yError2);l=d.x;const W=d.y;if(z){if(H)throw Error("".concat(P," cannot be both type aggregated-upper-lower and aggregated-error"));
z=d.x2;d=d.y2;if(Zd(z)&&Zd(d))throw Error("".concat(P," cannot have both x2 and y2"));if(Zd(z)){if(fe(l))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw Error("Both x and x2 have to be quantitative in ".concat(P));}if(Zd(d)){if(fe(W))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw Error("Both y and y2 have to be quantitative in ".concat(P));}}else{z=d.xError;H=d.yError;const na=d.yError2;if(Zd(d.xError2)&&!Zd(z))throw Error("".concat(P," cannot have xError2 without xError"));
if(Zd(na)&&!Zd(H))throw Error("".concat(P," cannot have yError2 without yError"));if(Zd(z)&&Zd(H))throw Error("".concat(P," cannot have both xError and yError with both are quantiative"));if(Zd(z)){if(fe(l))return{orient:"horizontal",inputType:"aggregated-error"};throw Error("All x, xError, and xError2 (if exist) have to be quantitative");}if(Zd(H)){if(fe(W))return{orient:"vertical",inputType:"aggregated-error"};throw Error("All y, yError, and yError2 (if exist) have to be quantitative");}}throw Error("No ranged axis");
}function Kg(l,P,d){var z,H=Object.assign({},l),W=l.mark,na=l.encoding,ta=l.params;H=(delete H.mark,delete H.encoding,delete H.params,delete H.projection,H);W=Ib(W)?W:{type:W};ta&&lc(Xd(P));const {orient:cb,inputType:qb}=Eh(l,P),{continuousAxisChannelDef:vb,continuousAxisChannelDef2:Nb,continuousAxisChannelDefError:xc,continuousAxisChannelDefError2:od,continuousAxis:Pc}=qh(l,cb,P);var Ed=[];l=[];ta=vb.field;var Ud=!1;if("raw"===qb){var pe=W.center?W.center:W.extent?"iqr"===W.extent?"median":"mean":
d.errorbar.center;var Ie=W.extent?W.extent:"mean"===pe?"stderr":"iqr";"median"===pe!==("iqr"===Ie)&&(Ed=Ie,Ed="".concat(pe," is not usually used with ").concat(Ed," for ").concat(P,"."),lc(Ed));"stderr"===Ie||"stdev"===Ie?(Ed=[{op:Ie,field:ta,as:"extent_".concat(ta)},{op:pe,field:ta,as:"center_".concat(ta)}],l=[{calculate:'datum["center_'.concat(ta,'"] + datum["extent_').concat(ta,'"]'),as:"upper_".concat(ta)},{calculate:'datum["center_'.concat(ta,'"] - datum["extent_').concat(ta,'"]'),as:"lower_".concat(ta)}],
pe=[{fieldPrefix:"center_",titlePrefix:ca(pe)},{fieldPrefix:"upper_",titlePrefix:J(pe,Ie,"+")},{fieldPrefix:"lower_",titlePrefix:J(pe,Ie,"-")}],Ud=!0):("ci"===Ie?(P="mean",pe="ci0",Ie="ci1"):(P="median",pe="q1",Ie="q3"),Ed=[{op:pe,field:ta,as:"lower_".concat(ta)},{op:Ie,field:ta,as:"upper_".concat(ta)},{op:P,field:ta,as:"center_".concat(ta)}],pe=[{fieldPrefix:"upper_",titlePrefix:Ff({field:ta,aggregate:Ie,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:Ff({field:ta,
aggregate:pe,type:"quantitative"},d,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:Ff({field:ta,aggregate:P,type:"quantitative"},d,{allowDisabling:!1})}])}else{if(W.center||W.extent){P=W.center;var je=W.extent;P="".concat(je?"extent ":"").concat(je&&P?"and ":"").concat(P?"center ":"").concat(je&&P?"are ":"is ","not needed when data are aggregated.");lc(P)}"aggregated-upper-lower"===qb?(pe=[],l=[{calculate:'datum["'.concat(Nb.field,'"]'),as:"upper_".concat(ta)},{calculate:'datum["'.concat(ta,
'"]'),as:"lower_".concat(ta)}]):"aggregated-error"===qb&&(pe=[{fieldPrefix:"",titlePrefix:ta}],l=[{calculate:'datum["'.concat(ta,'"] + datum["').concat(xc.field,'"]'),as:"upper_".concat(ta)}],od?l.push({calculate:'datum["'.concat(ta,'"] + datum["').concat(od.field,'"]'),as:"lower_".concat(ta)}):l.push({calculate:'datum["'.concat(ta,'"] - datum["').concat(xc.field,'"]'),as:"lower_".concat(ta)}));for(Ie of l)pe.push({fieldPrefix:Ie.as.substring(0,6),titlePrefix:Ga(Ga(Ie.calculate,'datum["',""),'"]',
"")})}const {errorBarSpecificAggregate:Fe,postAggregateCalculates:cf,tooltipSummary:Ue,tooltipTitleWithFieldName:Ke}={postAggregateCalculates:l,errorBarSpecificAggregate:Ed,tooltipSummary:pe,tooltipTitleWithFieldName:Ud};na=Object.assign({},na);l="x"===Pc?"x2":"y2";ta="x"===Pc?"xError":"yError";Ud="x"===Pc?"xError2":"yError2";na=(delete na[Pc],delete na[l],delete na[ta],delete na[Ud],na);const {bins:Yf,timeUnits:kh,aggregate:kg,groupby:ki,encoding:Mi}=Wa(na,d);d=[...kg,...Fe];na="raw"!==qb?[]:ki;
l=Wg(Ue,vb,Mi,Ke);return{transform:[...(null!==(z=H.transform)&&void 0!==z?z:[]),...Yf,...kh,...(0===d.length?[]:[{aggregate:d,groupby:na}]),...cf],groupby:na,continuousAxisChannelDef:vb,continuousAxis:Pc,encodingWithoutContinuousAxis:Mi,ticksOrient:"vertical"===cb?"horizontal":"vertical",markDef:W,outerSpec:H,tooltipEncoding:l}}function J(l,P,d){return"".concat(ca(l)," ").concat(d," ").concat(P)}function da(l,P){({config:P}=P);l=Object.assign({},l,{encoding:yd(l.encoding,P)});const {transform:d,
continuousAxisChannelDef:z,continuousAxis:H,encodingWithoutContinuousAxis:W,markDef:na,outerSpec:ta,tooltipEncoding:cb}=Kg(l,"errorband",P);P=Xg(na,H,z,W,P.errorband);l=void 0!==l.encoding.x&&void 0!==l.encoding.y;let qb={type:l?"area":"rect"},vb={type:l?"line":"rule"};const Nb=Object.assign({},na.interpolate?{interpolate:na.interpolate}:{},na.tension&&na.interpolate?{tension:na.tension}:{});l?(qb=Object.assign({},qb,Nb,{ariaRoleDescription:"errorband"}),vb=Object.assign({},vb,Nb,{aria:!1})):na.interpolate?
lc(Hc("interpolate")):na.tension&&lc(Hc("tension"));return Object.assign({},ta,{transform:d,layer:[...P({partName:"band",mark:qb,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:cb}),...P({partName:"borders",mark:vb,positionPrefix:"lower",extraEncoding:cb}),...P({partName:"borders",mark:vb,positionPrefix:"upper",extraEncoding:cb})]})}function La(l,P,d){P=new Dj(l,P);il[l]={normalizer:P,parts:d}}function db(l){return"legend"===l||!(null===l||void 0===l||!l.legend)}function Db(l){return db(l)&&
p.isObject(l)}function Sb(l){return!(null===l||void 0===l||!l.select)}function Cc(l){const P=[];for(const H of l||[])if(!Sb(H)){var d=H,z=Object.assign({},d);l=d.expr;d=d.bind;z=(delete z.expr,delete z.bind,z);d&&l?(l=Object.assign({},z,{bind:d,init:l}),P.push(l)):(l=Object.assign({},z,l?{update:l}:{},d?{bind:d}:{}),P.push(l))}return P}function Zc(l){let {step:P,offsetIsDiscrete:d}=l;if(d){var z;return null!==(z=P.for)&&void 0!==z?z:"offset"}return"position"}function Xc(l){return p.isObject(l)&&void 0!==
l.step}function td(l){return l.view||l.width||l.height}function ae(l,P,d){const z={},{spacing:H,columns:W}=d[P];void 0!==H&&(z.spacing=H);void 0!==W&&("facet"in l&&!gb(l.facet)||"concat"in l)&&(z.columns=W);"vconcat"in l&&(z.columns=1);for(const cb of V)if(void 0!==l[cb])if("spacing"===cb){var na,ta;P=l[cb];z[cb]=p.isNumber(P)?P:{row:null!==(na=P.row)&&void 0!==na?na:H,column:null!==(ta=P.column)&&void 0!==ta?ta:H}}else z[cb]=l[cb];return z}function we(l,P){var d;return null!==(d=l[P])&&void 0!==
d?d:l["width"===P?"continuousWidth":"continuousHeight"]}function bf(l,P){l=zf(l,P);return Xc(l)?l.step:20}function zf(l,P){var d;const z=null!==(d=l[P])&&void 0!==d?d:l["width"===P?"discreteWidth":"discreteHeight"];return B(z,{step:l.step})}function Mf(){let l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return{signals:[{name:"color",value:p.isObject(l)?Object.assign({},cc,l):cc}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},
style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},
{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function Oe(l){var P=se(l||{});const d={};for(const z of P)P=l[z],d[z]=Xf(P)?Hb(P):Ab(P);return d}function Qf(){var l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},P=Object.assign({},l),d=l.color,z=l.font,H=l.fontSize;l=l.selection;P=(delete P.color,delete P.font,delete P.fontSize,delete P.selection,P);var W=p.mergeConfig,na=Wf(Pa);z=z?{text:{font:z},style:{"guide-label":{font:z},"guide-title":{font:z},"group-title":{font:z},
"group-subtitle":{font:z}}}:{};d=d?Mf(d):{};H=H?{signals:[{name:"fontSize",value:p.isObject(H)?Object.assign({},Eb,H):Eb}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}:{};H=W.call(p,{},na,z,d,H,P||{});l&&p.writeConfig(H,"selection",l,!0);l=b(H,vc);for(var ta of["background",
"lineBreak","padding"])H[ta]&&(l[ta]=Ab(H[ta]));for(var cb of ej)H[cb]&&(l[cb]=$b(H[cb]));for(var qb of ak)H[qb]&&(l[qb]=Oe(H[qb]));for(const vb of v)H[vb]&&(l[vb]=$b(H[vb]));H.legend&&(l.legend=$b(H.legend));H.scale&&(l.scale=$b(H.scale));if(H.style){ta=H.style;cb=se(ta);qb={};for(const vb of cb)qb[vb]=Oe(ta[vb]);l.style=qb}H.title&&(l.title=$b(H.title));H.view&&(l.view=$b(H.view));return l}function qg(l){l=Wf(l);for(var P of Qd)delete l[P];if(l.axis)for(var d in l.axis)Xf(l.axis[d])&&delete l.axis[d];
if(l.legend)for(var z of yl)delete l.legend[z];if(l.mark){for(var H of Ki)delete l.mark[H];l.mark.tooltip&&p.isObject(l.mark.tooltip)&&delete l.mark.tooltip}l.params&&(l.signals=(l.signals||[]).concat(Cc(l.params)),delete l.params);for(var W of cd){for(const Nb of Ki)delete l[W][Nb];if(P=Xe[W])for(const Nb of P)delete l[W][Nb];d=P=void 0;z=l;H=W;var na=void 0,ta=z[H];"view"===H&&(na="cell");ta=Object.assign({},ta,z.style[null!==(d=na)&&void 0!==d?d:H]);r(ta)||(z.style[null!==(P=na)&&void 0!==P?P:
H]=ta);delete z[H]}for(const Nb of se(il))delete l[Nb];W=l;const {titleMarkConfig:cb,subtitleMarkConfig:qb,subtitle:vb}=Gc(W.title);r(cb)||(W.style["group-title"]=Object.assign({},W.style["group-title"],cb));r(qb)||(W.style["group-subtitle"]=Object.assign({},W.style["group-subtitle"],qb));r(vb)?delete W.title:W.title=vb;for(const Nb in l)p.isObject(l[Nb])&&r(l[Nb])&&delete l[Nb];return r(l)?void 0:l}function jh(l){return Ec(l)&&"quantitative"===Fd(l)&&!l.bin}function ch(l,P){const d="x"===P?"y":"radius";
var z=l[P];l=l[d];if(Ec(z)&&Ec(l))if(jh(z)&&jh(l)){if(z.stack)return P;if(l.stack)return d;const na=Ec(z)&&!!z.aggregate,ta=Ec(l)&&!!l.aggregate;if(na!==ta)return na?P:d;var H,W;z=null===(H=z.scale)||void 0===H?void 0:H.type;H=null===(W=l.scale)||void 0===W?void 0:W.type;if(z&&"linear"!==z)return d;if(H&&"linear"!==H)return P}else{if(jh(z))return P;if(jh(l))return d}else{if(jh(z))return P;if(jh(l))return d}}function dg(l){switch(l){case "x":return"y";case "y":return"x";case "theta":return"radius";
case "radius":return"theta"}}function Bf(l,P){var d,z;l=Ib(l)?l.type:l;if(!rf.has(l))return null;const H=ch(P,"x")||ch(P,"theta");if(!H)return null;const W=P[H];var na=Ec(W)?Id(W,{}):void 0,ta=dg(H);const cb=[],qb=new Set;if(P[ta]){var vb=P[ta];(vb=Ec(vb)?Id(vb,{}):void 0)&&vb!==na&&(cb.push(ta),qb.add(vb));ta="x"===ta?"xOffset":"yOffset";vb=P[ta];(vb=Ec(vb)?Id(vb,{}):void 0)&&vb!==na&&(cb.push(ta),qb.add(vb))}na=sj.reduce((xc,od)=>{if("tooltip"!==od&&bh(P,od)){var Pc=P[od];for(const Ed of p.array(Pc)){Pc=
Tf(Ed);if(Pc.aggregate)continue;const Ud=Id(Pc,{});Ud&&qb.has(Ud)||xc.push({channel:od,fieldDef:Pc})}}return xc},[]);let Nb;void 0!==W.stack?Nb=p.isBoolean(W.stack)?W.stack?"zero":null:W.stack:Kf.has(l)&&(Nb="zero");if(!(Nb&&Nb in me)||Jg(P)&&0===na.length)return null;if(null!==W&&void 0!==W&&null!==(d=W.scale)&&void 0!==d&&d.type&&(null===W||void 0===W?void 0:null===(z=W.scale)||void 0===z?void 0:z.type)!==Xh.LINEAR)return lc("Cannot stack non-linear scale (".concat(W.scale.type,").")),null;if(Zd(P[Fa(H)]))return void 0!==
W.stack&&lc(fc(H)),null;Ec(W)&&W.aggregate&&!kk.has(W.aggregate)&&lc('Stacking is applied even though the aggregate function is non-summative ("'.concat(W.aggregate,'").'));return{groupbyChannels:cb,groupbyFields:qb,fieldChannel:H,impute:null===W.impute?!1:Ea(l),stackBy:na,offset:Nb}}function jg(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},d=2<arguments.length?arguments[2]:void 0;if("transparent"===l.point)return{opacity:0};if(l.point)return p.isObject(l.point)?l.point:{};if(void 0!==
l.point)return null;if(P.point||d.shape)return p.isObject(P.point)?P.point:{}}function bg(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(l.line)return!0===l.line?{}:l.line;if(void 0!==l.line)return null;if(P.line)return!0===P.line?{}:P.line}function rg(l,P){return P?Zh(l,P):l}function wh(l,P,d){const z=P[l];if(z&&!p.isString(z)&&"repeat"in z){if(z.repeat in d)return Object.assign({},P,{[l]:d[z.repeat]});lc('Unknown repeated value "'.concat(z.repeat,'".'))}else return P}function Og(l,
P){l=wh("field",l,P);if(void 0!==l){if(null===l)return null;"sort"in l&&fa(l.sort)&&(P=wh("field",l.sort,P),l=Object.assign({},l,P?{sort:P}:{}));return l}}function zh(l,P){if(Ec(l))return Og(l,P);P=wh("datum",l,P);P===l||P.type||(P.type="nominal");return P}function ri(l,P){if(Zd(l)){if(P=zh(l,P))return P;if(Oc(l))return{condition:l.condition}}else{if(fd(l)){if(P=zh(l.condition,P))return Object.assign({},l,{condition:P});l=Object.assign({},l);return delete l.condition,l}return l}}function Zh(l,P){const d=
{};for(const H in l)if(p.hasOwnProperty(l,H)){var z=l[H];p.isArray(z)?d[H]=z.map(W=>ri(W,P)).filter(W=>W):(z=ri(z,P),void 0!==z&&(d[H]=z))}return d}function $h(l){let {parentEncoding:P,encoding:d={},layer:z}=l;l={};if(P){var H=new Set([...se(P),...se(d)]);for(const W of H){H=d[W];const na=P[W];if(Zd(H))H=Object.assign({},na,H),l[W]=H;else if(fd(H))l[W]=Object.assign({},H,{condition:Object.assign({},na,H.condition)});else if(H||null===H)l[W]=H;else if(z||Kd(na)||Bc(na)||Zd(na)||p.isArray(na))l[W]=
na}}else l=d;return!l||r(l)?void 0:l}function ef(l){const {parentProjection:P,projection:d}=l;if(P&&d){const {parentProjection:z,projection:H}={parentProjection:P,projection:d};l="Layer's shared projection ".concat(hh(z)," is overridden by a child projection ").concat(hh(H),".");lc(l)}return null!==d&&void 0!==d?d:P}function Ch(l){return l.map(P=>"filter"in P?{filter:t(P.filter,ic)}:P)}function hf(l,P){var d=Object.assign({},l);const z=l.transform;d=(delete d.transform,d);return z?(l=z.map(H=>{if("filter"in
H)return{filter:Nh(H,P)};if("bin"in H&&p.isObject(H.bin))return Object.assign({},H,{bin:Pg(H.bin)});if("lookup"in H){var W=H.from,na=Object.assign({},W);W=W.selection;na=(delete na.selection,na);return W?Object.assign({},H,{from:Object.assign({},{param:W},na)}):H}return H}),Object.assign({},d,{transform:l})):l}function jf(l,P){var d,z;l=Wf(l);Ec(l)&&p.isObject(l.bin)&&(l.bin=Pg(l.bin));ee(l)&&null!==(d=l.scale)&&void 0!==d&&null!==(z=d.domain)&&void 0!==z&&z.selection&&(z=l.scale.domain,d=Object.assign({},
z),z=z.selection,d=(delete d.selection,d),l.scale.domain=Object.assign({},d,z?{param:z}:{}));Oc(l)&&(p.isArray(l.condition)?l.condition=l.condition.map(H=>{var W=Object.assign({},H);const na=H.param;W=(delete W.selection,delete W.param,delete W.test,W);return na?H:Object.assign({},W,{test:Nh(H,P)})}):(z=jf(l.condition,P),d=Object.assign({},z),z=z.param,d=(delete d.selection,delete d.param,delete d.test,d),l.condition=z?l.condition:Object.assign({},d,{test:Nh(l.condition,P)})));return l}function Pg(l){var P=
l.extent;if(null!==P&&void 0!==P&&P.selection){var d=Object.assign({},P);P=P.selection;d=(delete d.selection,d);return Object.assign({},l,{extent:Object.assign({},d,{param:P})})}return l}function Nh(l,P){const d=z=>t(z,H=>{var W,na,ta;const cb=null!==(W=P.emptySelections[H])&&void 0!==W?W:!0;W={param:H,empty:cb};null!==(ta=(na=P.selectionPredicates)[H])&&void 0!==ta?ta:na[H]=[];P.selectionPredicates[H].push(W);return W});return l.selection?d(l.selection):t(l.test||l.filter,z=>z.selection?d(z.selection):
z)}function Yh(l,P){var d;return l.name?Object.assign({},P,{path:(null!==(d=P.path)&&void 0!==d?d:[]).concat(l.name)}):P}function ai(l,P){void 0===P&&(P=Qf(l.config));const d=dh(l,P),{width:z,height:H}=l;{let {width:W,height:na}={width:z,height:H,autosize:l.autosize};l=Tg(d)||"layer"in d;const ta={};l?"container"==W&&"container"==na?(ta.type="fit",ta.contains="padding"):"container"==W?(ta.type="fit-x",ta.contains="padding"):"container"==na&&(ta.type="fit-y",ta.contains="padding"):("container"==W&&
(lc(Ic("width")),W=void 0),"container"==na&&(lc(Ic("height")),na=void 0));P=Object.assign({},{type:"pad"},ta,P?ue(P.autosize):{},ue(d.autosize));"fit"!==P.type||l||(lc('Autosize "fit" only works for single views and layered views.'),P.type="pad");"container"==W&&"fit"!=P.type&&"fit-x"!=P.type&&lc($c("width"));"container"==na&&"fit"!=P.type&&"fit-y"!=P.type&&lc($c("height"));P=gi(P,{type:"pad"})?void 0:P}return Object.assign({},d,P?{autosize:P}:{})}function dh(l){const P={config:1<arguments.length&&
void 0!==arguments[1]?arguments[1]:{}};return kf.map(ke.map(Rf.map(l,P),P),P)}function ue(l){return p.isString(l)?{type:l}:null!==l&&void 0!==l?l:{}}function Je(l,P){const d={};for(const z of Sf)l&&void 0!==l[z]&&(d[z]=Ab(l[z]));P&&(d.params=l.params);return d}function Df(l){return{explicit:!0,value:l}}function Pe(l){return{explicit:!1,value:l}}function eg(l){return(P,d,z,H)=>{const W=l(P.value,d.value);return 0<W?P:0>W?d:fg(P,d,z,H)}}function fg(l,P,d,z){if(l.explicit&&P.explicit){var H=l.value;
P=P.value;d="Conflicting ".concat(z.toString(),' property "').concat(d.toString(),'" (').concat(hh(H)," and ").concat(hh(P),"). Using ").concat(hh(H),".");lc(d)}return l}function ff(l,P,d,z){let H=4<arguments.length&&void 0!==arguments[4]?arguments[4]:fg;return void 0===l||void 0===l.value?P:l.explicit&&!P.explicit?l:P.explicit&&!l.explicit?P:gi(l.value,P.value)?l:H(l,P,d,z)}function Da(l){return"name"in l&&!("url"in l)&&!("values"in l)&&!ab(l)}function ab(l){return l&&("sequence"in l||"sphere"in
l||"graticule"in l)}function xb(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.identity;if(p.isArray(l)){const z=l.map(H=>xb(H,P,d));return P?"[".concat(z.join(", "),"]"):z}return rd(l)?P?d(he(l)):d(Ce(l)):P?d(hh(l)):l}function Lb(l,P){l.component.selection&&se(l.component.selection).length&&(l=p.stringValue(l.getName("cell")),P.unshift({name:"facet",value:{},on:[{events:p.parseSelector("mousemove","scope"),update:"isTuple(facet) ? facet : group(".concat(l,
").datum")}]}));return Qa(P)}function pc(l,P){var d=!1;for(const H of hi(null!==(z=l.component.selection)&&void 0!==z?z:{})){var z;const W=H.name;d=p.stringValue(W+"_store");if(0===P.filter(na=>na.name===W).length){z="global"===H.resolve?"union":H.resolve;const na="point"===H.type?", true, true)":")";P.push({name:H.name,update:"".concat("vlSelectionResolve","(").concat(d,", ").concat(p.stringValue(z)).concat(na)})}d=!0;for(const na of ql)na.defined(H)&&na.topLevelSignals&&(P=na.topLevelSignals(l,
H,P))}d&&0===P.filter(H=>"unit"===H.name).length&&P.unshift({name:"unit",value:{},on:[{events:"mousemove",update:"isTuple(group()) ? group() : unit"}]});return Qa(P)}function sc(l,P){P=[...P];const d=di(l,{escape:!1});for(const H of hi(null!==(z=l.component.selection)&&void 0!==z?z:{})){var z;l={name:H.name+"_store"};H.project.hasSelectionId&&(l.transform=[{type:"collect",sort:{field:"_vgsid_"}}]);if(H.init){const W=H.project.items.map(na=>{na=Object.assign({},na);return delete na.signals,na});l.values=
H.project.hasSelectionId?H.init.map(na=>({unit:d,_vgsid_:xb(na,!1)[0]})):H.init.map(na=>({unit:d,fields:W,values:xb(na,!1)}))}P.filter(W=>W.name===H.name+"_store").length||P.push(l)}return P}function Vc(l,P){for(const z of hi(null!==(d=l.component.selection)&&void 0!==d?d:{})){var d;for(const H of ql)H.defined(z)&&H.marks&&(P=H.marks(l,z,P))}return P}function pa(l,P){for(const d of l.children)ec(d)&&(P=Vc(d,P));return P}function Qa(l){return l.map(P=>{P.on&&!P.on.length&&delete P.on;return P})}function mb(l,
P){l=p.stringValue(l.scaleName(P));return"domain(".concat(l,")")}function pb(l){var P;return l.parent&&ad(l.parent)&&(null!==(P=!l.parent.parent)&&void 0!==P?P:pb(l.parent.parent))}function gc(l,P,d,z){const H=d.channel,W=d.signals.visual;d=d.signals.data;const na=fk.defined(P),ta=p.stringValue(l.scaleName(H));var cb=l.getScaleComponent(H);cb=cb?cb.get("type"):void 0;const qb=xc=>"scale(".concat(ta,", ").concat(xc,")"),vb=l.getSizeSignalRef("x"===H?"width":"height").signal,Nb="".concat(H,"(unit)");
l=Qc(P,(xc,od)=>[...xc,{events:od.between[0],update:"[".concat(Nb,", ").concat(Nb,"]")},{events:od,update:"[".concat(W,"[0], clamp(").concat(Nb,", 0, ").concat(vb,")]")}]);l.push({events:{signal:P.name+"_scale_trigger"},update:Pd(cb)?"[".concat(qb("".concat(d,"[0]")),", ").concat(qb("".concat(d,"[1]")),"]"):"[0, 0]"});return na?[{name:d,on:[]}]:[Object.assign({},{name:W},z?{init:xb(z,!0,qb)}:{value:[]},{on:l}),Object.assign({},{name:d},z?{init:xb(z)}:{},{on:[{events:{signal:W},update:"".concat(W,
"[0] \x3d\x3d\x3d ").concat(W,"[1] ? null : invert(").concat(ta,", ").concat(W,")")}]})]}function Qc(l,P){return l.events.reduce((d,z)=>z.between?P(d,z):(lc("".concat(z," is not an ordered event stream for interval selections.")),d),[])}function Yc(l,P,d,z){var H=Oc(P)&&P.condition;P=z(P);return H?(H=p.array(H).map(W=>{const na=z(W);if(W.param){const {param:ta,empty:cb}=W;W=lj(l,{param:ta,empty:cb});return Object.assign({},{test:W},na)}W=ti(l,W.test);return Object.assign({},{test:W},na)}),{[d]:[...H,
...(void 0!==P?[P]:[])]}):void 0!==P?{[d]:P}:{}}function Bd(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return Yc(l,l.encoding[P],P,d=>Tc(d,l.config))}function Tc(l,P){let d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"datum";if(l){if(Kd(l))return Wb(l.value);if(Zd(l)){const {format:z,formatType:H}=ie(l);return ed({fieldOrDatumDef:l,format:z,formatType:H,expr:d,config:P})}}}function Sd(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const {encoding:d,
markDef:z,config:H,stack:W}=l,na=d.tooltip;if(p.isArray(na))return{tooltip:De({tooltip:na},W,H,P)};const ta=P.reactiveGeom?"datum.datum":"datum";return Yc(l,na,"tooltip",cb=>{const qb=Tc(cb,H,ta);if(qb)return qb;if(null!==cb){cb=Sc("tooltip",z,H);!0===cb&&(cb={content:"encoding"});if(p.isString(cb))return{value:cb};if(p.isObject(cb))return Bc(cb)?cb:"encoding"===cb.content?De(d,W,H,P):{signal:ta}}})}function Td(l,P,d){function z(cb,qb){var vb,Nb=Ma(qb);cb=vd(cb)?cb:Object.assign({},cb,{type:l[Nb].type});
Nb=cb.title||Ej(cb,d);Nb=p.array(Nb).join(", ");if(xa(qb)){const Pc="x"===qb?"x2":"y2";var xc=Tf(l[Pc]);if(eb(cb.bin)&&xc){var od=Id(cb,{expr:na});xc=Id(xc,{expr:na});const {format:Ed,formatType:Ud}=ie(cb);od=Pb(od,xc,Ed,Ud,d);W[Pc]=!0}}if((xa(qb)||"theta"===qb||"radius"===qb)&&P&&P.fieldChannel===qb&&"normalize"===P.offset){const {format:Pc,formatType:Ed}=ie(cb);od=ed({fieldOrDatumDef:cb,format:Pc,formatType:Ed,expr:na,config:d,normalizeStack:!0}).signal}null!==(vb=od)&&void 0!==vb?vb:od=Tc(cb,d,
na).signal;ta.push({channel:qb,key:Nb,value:od})}var {reactiveGeom:H}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const W={},na=H?"datum.datum":"datum",ta=[];ne(l,(cb,qb)=>{Ec(cb)?z(cb,qb):yc(cb)&&z(cb.condition,qb)});H={};for(const cb of ta){const {channel:qb,key:vb,value:Nb}=cb;W[qb]||H[vb]||(H[vb]=Nb)}return H}function De(l,P,d){var {reactiveGeom:z}=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};z=Td(l,P,d,{reactiveGeom:z});z=kj(z).map(H=>{let [W,na]=H;return'"'.concat(W,
'": ').concat(na)});return 0<z.length?{signal:"{".concat(z.join(", "),"}")}:void 0}function tf(l){const {encoding:P,markDef:d,config:z,stack:H}=l;var W=P.description;if(W)return Yc(l,W,"description",na=>Tc(na,l.config));W=Sc("description",d,z);if(null!=W)return{description:Wb(W)};if(!1===z.aria)return{};W=Td(P,H,z);if(!r(W))return{description:{signal:kj(W).map((na,ta)=>{let [cb,qb]=na;return'"'.concat(0<ta?"; ":"").concat(cb,': " + (').concat(qb,")")}).join(" + ")}}}function Ze(l,P){let d=2<arguments.length&&
void 0!==arguments[2]?arguments[2]:{};const {markDef:z,encoding:H,config:W}=P,{vgChannel:na}=d;let {defaultRef:ta,defaultValue:cb}=d;if(void 0===ta){var qb;null!==(qb=cb)&&void 0!==qb?qb:cb=Sc(l,z,W,{vgChannel:na,ignoreVgConfig:!0});void 0!==cb&&(ta=Wb(cb))}return Yc(P,H[l],null!==na&&void 0!==na?na:l,vb=>qd({channel:l,channelDef:vb,markDef:z,config:W,scaleName:P.scaleName(l),scale:P.getScaleComponent(l),stack:null,defaultRef:ta}))}function df(l){var P,d,z,H,W=1<arguments.length&&void 0!==arguments[1]?
arguments[1]:{filled:void 0};const {markDef:na,encoding:ta,config:cb}=l;var {type:qb}=na;W=null!==(P=W.filled)&&void 0!==P?P:Sc("filled",na,cb);qb=g(["bar","point","circle","square","geoshape"],qb)?"transparent":void 0;P=null!==(d=null!==(z=Sc(!0===W?"color":void 0,na,cb,{vgChannel:"fill"}))&&void 0!==z?z:cb.mark[!0===W&&"color"])&&void 0!==d?d:qb;d=null!==(H=Sc(!1===W?"color":void 0,na,cb,{vgChannel:"stroke"}))&&void 0!==H?H:cb.mark[!1===W&&"color"];H=W?"fill":"stroke";z=Object.assign({},P?{fill:Wb(P)}:
{},d?{stroke:Wb(d)}:{});na.color&&(W?na.fill:na.stroke)&&lc(gf("property",{fill:"fill"in na,stroke:"stroke"in na}));return Object.assign({},z,Ze("color",l,{vgChannel:H,defaultValue:W?P:d}),Ze("fill",l,{defaultValue:ta.fill?P:void 0}),Ze("stroke",l,{defaultValue:ta.stroke?d:void 0}))}function Bg(l){const {encoding:P,mark:d}=l,z=P.order;return!Ea(d)&&Kd(z)?Yc(l,z,"zindex",H=>Wb(H.value)):{}}function gg(l){let {channel:P,markDef:d,encoding:z={},model:H,bandPosition:W}=l;l="".concat(P,"Offset");const na=
d[l],ta=z[l];return"xOffset"!==l&&"yOffset"!==l||!ta?(l=d[l])?{offsetType:"visual",offset:l}:{}:{offsetType:"encoding",offset:qd({channel:l,channelDef:ta,markDef:d,config:null===H||void 0===H?void 0:H.config,scaleName:H.scaleName(l),scale:H.getScaleComponent(l),stack:null,defaultRef:Wb(na),bandPosition:W})}}function He(l,P,d){let {defaultPos:z,vgChannel:H}=d;const {encoding:W,markDef:na,config:ta,stack:cb}=P;d=W[l];const qb=W[Fa(l)],vb=P.scaleName(l),Nb=P.getScaleComponent(l),{offset:xc,offsetType:od}=
gg({channel:l,markDef:na,encoding:W,model:P,bandPosition:.5}),Pc=pf({model:P,defaultPos:z,channel:l,scaleName:vb,scale:Nb});if(!d&&xa(l)&&(W.latitude||W.longitude))P={field:P.getName(l)};else a:{P={channel:l,channelDef:d,channel2Def:qb,markDef:na,config:ta,scaleName:vb,scale:Nb,stack:cb,offset:xc,defaultRef:Pc,bandPosition:"encoding"===od?0:void 0};const {channel:Ed,channelDef:Ud,scaleName:pe,stack:Ie,offset:je,markDef:Fe}=P;if(Zd(Ud)&&Ie&&Ed===Ie.fieldChannel){if(Ec(Ud)&&(P=Ud.bandPosition,void 0!==
P||"text"!==Fe.type||"radius"!==Ed&&"theta"!==Ed||(P=.5),void 0!==P)){P=pd({scaleName:pe,fieldOrDatumDef:Ud,startSuffix:"start",bandPosition:P,offset:je});break a}P=Jc(Ud,pe,{suffix:"end"},{offset:je})}else P=kc(P)}return P?{[H||l]:P}:void 0}function pf(l){let {model:P,defaultPos:d,channel:z,scaleName:H,scale:W}=l;const {markDef:na,config:ta}=P;return()=>{var cb=Ma(z),qb=ma(z);qb=Sc(z,na,ta,{vgChannel:qb});if(void 0!==qb)return Yd(z,qb);switch(d){case "zeroOrMin":case "zeroOrMax":if(H&&(qb=W.get("type"),
!g([Xh.LOG,Xh.TIME,Xh.UTC],qb)&&W.domainDefinitelyIncludesZero()))return{scale:H,value:0};if("zeroOrMin"===d)return"y"===cb?{field:{group:"height"}}:{value:0};switch(cb){case "radius":return{signal:"min(".concat(P.width.signal,",").concat(P.height.signal,")/2")};case "theta":return{signal:"2*PI"};case "x":return{field:{group:"width"}};case "y":return{value:0}}break;case "mid":return cb=P[Ra(z)],Object.assign({},cb,{mult:.5})}}}function Hf(l,P,d){let z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:
"middle";if("radius"===l||"theta"===l)return ma(l);var H="x"===l?"align":"baseline";const W=Sc(H,P,d);Bc(W)?(lc("The ".concat(H," for range marks cannot be an expression")),H=void 0):H=W;return"x"===l?pm[H||("top"===z?"left":"center")]:qm[H||z]}function mg(l,P,d){let {defaultPos:z,defaultPos2:H,range:W}=d;return W?ci(l,P,{defaultPos:z,defaultPos2:H}):He(l,P,{defaultPos:z})}function ci(l,P,d){let {defaultPos:z,defaultPos2:H}=d;const {markDef:W,config:na}=P;var ta=Fa(l);d=Ra(l);{const {encoding:xc,
mark:od,markDef:Pc,stack:Ed,config:Ud}=P;var cb=Ma(ta),qb=Ra(ta);const pe=ma(ta);var vb=xc[cb],Nb=P.scaleName(cb);const Ie=P.getScaleComponent(cb);({offset:cb}=ta in xc||ta in Pc?gg({channel:ta,markDef:Pc,encoding:xc,model:P}):gg({channel:cb,markDef:Pc,encoding:xc,model:P}));if(vb||"x2"!==ta&&"y2"!==ta||!xc.latitude&&!xc.longitude){let {channel:je,channelDef:Fe,channel2Def:cf,markDef:Ue,config:Ke,scaleName:Yf,scale:kh,stack:kg,offset:ki,defaultRef:Mi}={channel:ta,channelDef:vb,channel2Def:xc[ta],
markDef:Pc,config:Ud,scaleName:Nb,scale:Ie,stack:Ed,offset:cb,defaultRef:void 0};vb=Zd(Fe)&&kg&&je.charAt(0)===kg.fieldChannel.charAt(0)?Jc(Fe,Yf,{suffix:"start"},{offset:ki}):kc({channel:je,channelDef:cf,scaleName:Yf,scale:kh,stack:kg,markDef:Ue,config:Ke,offset:ki,defaultRef:Mi});ta=void 0!==vb?{[pe]:vb}:Rg(ta,Pc)||Rg(ta,{[ta]:$d(ta,Pc,Ud.style),[qb]:$d(qb,Pc,Ud.style)})||Rg(ta,Ud[od])||Rg(ta,Ud.mark)||{[pe]:pf({model:P,defaultPos:H,channel:ta,scaleName:Nb,scale:Ie})()}}else qb=Ra(ta),Nb=P.markDef[qb],
ta=null!=Nb?{[qb]:{value:Nb}}:{[pe]:{field:P.getName(ta)}}}d=ta[d]?Hf(l,W,na):ma(l);return Object.assign({},He(l,P,{defaultPos:z,vgChannel:d}),ta)}function Rg(l,P){const d=Ra(l),z=ma(l);if(void 0!==P[z])return{[z]:Yd(l,P[z])};if(void 0!==P[l])return{[z]:Yd(l,P[l])};if(P[d])if(P=P[d],Yb(P))lc("Position range does not support relative band size for ".concat(d,"."));else return{[d]:Yd(l,P)}}function Cg(l,P){var d,z;const {config:H,encoding:W,markDef:na}=l;var ta=na.type,cb=Fa(P),qb=Ra(P),vb=W[P];cb=
W[cb];var Nb=l.getScaleComponent(P);Nb=Nb?Nb.get("type"):void 0;const xc=na.orient,od=null!==(d=null!==(z=W[qb])&&void 0!==z?z:W.size)&&void 0!==d?d:Sc("size",na,H,{vgChannel:qb});d="bar"===ta&&("x"===P?"vertical"===xc:"horizontal"===xc);if(!Ec(vb)||!(Ta(vb.bin)||eb(vb.bin)||vb.timeUnit&&!cb)||od&&!Yb(od)||Gd(Nb)){if((Zd(vb)&&Gd(Nb)||d)&&!cb){var Pc;{const {markDef:Ie,encoding:je,config:Fe,stack:cf}=l;ta=Ie.orient;var Ed=l.scaleName(P);d=l.getScaleComponent(P);var Ud=Ra(P),pe=Fa(P);z=ra(P);z=l.scaleName(z);
ta="horizontal"===ta&&"y"===P||"vertical"===ta&&"x"===P;if(je.size||Ie.size)ta?Pc=Ze("size",l,{vgChannel:Ud,defaultRef:Wb(Ie.size)}):lc('Cannot apply size to non-oriented mark "'.concat(Ie.type,'".'));qb=!!Pc;ta=Ob({channel:P,fieldDef:vb,markDef:Ie,config:Fe,scaleType:null===d||void 0===d?void 0:d.get("type"),useVlSizeChannel:ta});Pc=Pc||{[Ud]:li(Ud,z||Ed,d,Fe,ta)};z="band"===(null===d||void 0===d?void 0:d.get("type"))&&Yb(ta)&&!qb?"top":"middle";z=Hf(P,Ie,Fe,z);qb="xc"===z||"yc"===z;const {offset:Ue,
offsetType:Ke}=gg({channel:P,markDef:Ie,encoding:je,model:l,bandPosition:qb?.5:0});l=kc({channel:P,channelDef:vb,markDef:Ie,config:Fe,scaleName:Ed,scale:d,stack:cf,offset:Ue,defaultRef:pf({model:l,defaultPos:"mid",channel:P,scaleName:Ed,scale:d}),bandPosition:qb?"encoding"===Ke?0:.5:Bc(ta)?{signal:"(1-".concat(ta,")/2")}:Yb(ta)?(1-ta.band)/2:0});Ud?Pc=Object.assign({},{[z]:l},Pc):(P=ma(pe),Pc=Pc[Ud],Pc=Ue?Object.assign({},Pc,{offset:Ue}):Pc,Pc={[z]:l,[P]:p.isArray(l)?[l[0],Object.assign({},l[1],{offset:Pc})]:
Object.assign({},l,{offset:Pc})})}return Pc}return ci(P,l,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}a:{let {fieldDef:Ie,fieldDef2:je,channel:Fe,model:cf}={fieldDef:vb,fieldDef2:cb,channel:P,model:l};const {config:Ue,markDef:Ke,encoding:Yf}=cf;l=cf.getScaleComponent(Fe);Pc=cf.scaleName(Fe);P=l?l.get("type"):void 0;l=l.get("reverse");P=Ob({channel:Fe,fieldDef:Ie,markDef:Ke,config:Ue,scaleType:P});vb=null===(Ed=cf.component.axes[Fe])||void 0===Ed?void 0:Ed[0];vb=null!==(pe=null===vb||void 0===
vb?void 0:vb.get("translate"))&&void 0!==pe?pe:.5;pe=xa(Fe)?null!==(Ud=Sc("binSpacing",Ke,Ue))&&void 0!==Ud?Ud:0:0;Ud=Fa(Fe);Ed=ma(Fe);d=ma(Ud);({offset:z}=gg({channel:Fe,markDef:Ke,encoding:Yf,model:cf,bandPosition:0}));P=Bc(P)?{signal:"(1-".concat(P.signal,")/2")}:Yb(P)?(1-P.band)/2:.5;if(Ta(Ie.bin)||Ie.timeUnit)Pc={[d]:Ah({fieldDef:Ie,scaleName:Pc,bandPosition:P,offset:xg(Ud,pe,l,vb,z)}),[Ed]:Ah({fieldDef:Ie,scaleName:Pc,bandPosition:Bc(P)?{signal:"1-".concat(P.signal)}:1-P,offset:xg(Fe,pe,l,vb,
z)})};else{if(eb(Ie.bin)){P=Jc(Ie,Pc,{},{offset:xg(Ud,pe,l,vb,z)});if(Ec(je)){Pc={[d]:P,[Ed]:Jc(je,Pc,{},{offset:xg(Fe,pe,l,vb,z)})};break a}if(p.isObject(Ie.bin)&&Ie.bin.step){Pc={[d]:P,[Ed]:{signal:'scale("'.concat(Pc,'", ').concat(Id(Ie,{expr:"datum"})," + ").concat(Ie.bin.step,")"),offset:xg(Fe,pe,l,vb,z)}};break a}}lc(Dc(Ud));Pc=void 0}}return Pc}function li(l,P,d,z,H){if(Yb(H))if(d){const W=d.get("type");if("band"===W)return l="bandwidth('".concat(P,"')"),1!==H.band&&(l="".concat(H.band," * ").concat(l)),
{signal:"max(0.25, ".concat(l,")")};1!==H.band&&lc("Cannot use the relative band size with ".concat(W," scale."))}else return{mult:H.band,field:{group:l}};else{if(Bc(H))return H;if(H)return{value:H}}return d&&(H=d.get("range"),uc(H)&&p.isNumber(H.step))?{value:H.step-2}:{value:bf(z.view,l)-2}}function xg(l,P,d,z,H){if(l in Qk)return 0;l="x"===l||"y2"===l?-P/2:P/2;if(Bc(d)||Bc(H)||Bc(z))return d=Kc(d),H=Kc(H),z=(z=Kc(z))?"".concat(z," + "):"",d=d?"(".concat(d," ? -1 : 1) * "):"",l=H?"(".concat(H," + ").concat(l,
")"):l,{signal:z+d+l};H=H||0;return z+(d?-H-l:+H+l)}function Ah(l){let {fieldDef:P,scaleName:d,bandPosition:z,offset:H}=l;return pd({scaleName:d,fieldOrDatumDef:P,bandPosition:z,offset:H})}function Lg(l,P){const {fill:d,stroke:z}="include"===P.color?df(l):{};var H=Object,W=H.assign;P=ii(l.markDef,P);var na=eh(l,"fill",d),ta=eh(l,"stroke",z),cb=Ze("opacity",l),qb=Ze("fillOpacity",l),vb=Ze("strokeOpacity",l),Nb=Ze("strokeWidth",l),xc=Ze("strokeDash",l),od=Bg(l),Pc=Sd(l),Ed=Bd(l,"href");{const {markDef:je,
config:Fe}=l,cf=Sc("aria",je,Fe);if(!1===cf)l={};else{var Ud=Object,pe=Ud.assign;{const {mark:Ue,markDef:Ke,config:Yf}=l;if(!1===Yf.aria)var Ie={};else Ie=Sc("ariaRoleDescription",Ke,Yf),Ie=null!=Ie?{ariaRoleDescription:{value:Ie}}:Ue in uh?{}:{ariaRoleDescription:{value:Ue}}}l=pe.call(Ud,{},cf?{aria:cf}:{},Ie,tf(l))}}return W.call(H,{},P,na,ta,cb,qb,vb,Nb,xc,od,Pc,Ed,l)}function eh(l,P,d){const {config:z,mark:H,markDef:W}=l;return"hide"===Sc("invalid",W,z)&&d&&!Ea(H)&&(l=ji(l,{invalid:!0,channels:uj}))?
{[P]:[{test:l,value:null},...p.array(d)]}:d?{[P]:d}:{}}function ii(l,P){return jk.reduce((d,z)=>{rm.has(z)||void 0===l[z]||"ignore"===P[z]||(d[z]=Wb(l[z]));return d},{})}function ji(l,P){let {invalid:d=!1,channels:z}=P;P=z.reduce((H,W)=>{var na=l.getScaleComponent(W);na&&(na=na.get("type"),(W=l.vgField(W,{expr:"datum"}))&&Pd(na)&&(H[W]=!0));return H},{});P=se(P);if(0<P.length){const H=d?"||":"\x26\x26";return P.map(W=>Nc(W,d)).join(" ".concat(H," "))}}function Lf(l){const {config:P,markDef:d}=l;return Sc("invalid",
d,P)&&(l=Yg(l,{channels:Wh}))?{defined:{signal:l}}:{}}function Yg(l,P){let {invalid:d=!1,channels:z}=P;P=z.reduce((H,W)=>{var na=l.getScaleComponent(W);if(na){var ta;na=na.get("type");(W=l.vgField(W,{expr:"datum",binSuffix:null!==(ta=l.stack)&&void 0!==ta&&ta.impute?"mid":void 0}))&&Pd(na)&&(H[W]=!0)}return H},{});P=se(P);if(0<P.length){const H=d?"||":"\x26\x26";return P.map(W=>Nc(W,d)).join(" ".concat(H," "))}}function xh(l,P){if(void 0!==P)return{[l]:Wb(P)}}function Ih(l,P,d,z,H){var W,na,ta=P.name,
cb=ta+"_translate_anchor";ta+="_translate_delta";var qb=d.channel;const vb=fk.defined(P);P=H.filter(od=>od.name===d.signals[vb?"data":"visual"])[0];z=l.getSizeSignalRef(z).signal;l=l.getScaleComponent(qb);H=l.get("type");var Nb=l.get("reverse");Nb=vb?"x"===qb?Nb?"":"-":Nb?"-":"":"";cb="".concat(cb,".extent_").concat(qb);qb="".concat(Nb).concat(ta,".").concat(qb," / ").concat(vb?"".concat(z):"span(".concat(cb,")"));Nb=vb?"log"===H?"panLog":"symlog"===H?"panSymlog":"pow"===H?"panPow":"panLinear":"panLinear";
const xc=vb?"pow"===H?", ".concat(null!==(W=l.get("exponent"))&&void 0!==W?W:1):"symlog"===H?", ".concat(null!==(na=l.get("constant"))&&void 0!==na?na:1):"":"";W="".concat(Nb,"(").concat(cb,", ").concat(qb).concat(xc,")");P.on.push({events:{signal:ta},update:vb?W:"clampRange(".concat(W,", 0, ").concat(z,")")})}function yi(l,P,d,z,H){var W,na,ta=P.name,cb=d.channel;const qb=fk.defined(P);P=H.filter(od=>od.name===d.signals[qb?"data":"visual"])[0];z=l.getSizeSignalRef(z).signal;H=l.getScaleComponent(cb);
const vb=H.get("type"),Nb=qb?mb(l,cb):P.name;l=ta+"_zoom_delta";ta="".concat(ta).concat("_zoom_anchor",".").concat(cb);cb=qb?"log"===vb?"zoomLog":"symlog"===vb?"zoomSymlog":"pow"===vb?"zoomPow":"zoomLinear":"zoomLinear";const xc=qb?"pow"===vb?", ".concat(null!==(W=H.get("exponent"))&&void 0!==W?W:1):"symlog"===vb?", ".concat(null!==(na=H.get("constant"))&&void 0!==na?na:1):"":"";W="".concat(cb,"(").concat(Nb,", ").concat(ta,", ").concat(l).concat(xc,")");P.on.push({events:{signal:l},update:qb?W:"clampRange(".concat(W,
", 0, ").concat(z,")")})}function di(l){var {escape:P}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{escape:!0};P=P?p.stringValue(l.name):l.name;var d;for(d=l.parent;d&&!Mc(d);)d=d.parent;if(d){const {facet:z}=d;for(const H of ui)z[H]&&(P+=" + '__facet_".concat(H,"_' + (facet[").concat(p.stringValue(d.vgField(H)),"])"))}return P}function Zf(l){var P;return hi(null!==(P=l.component.selection)&&void 0!==P?P:{}).reduce((d,z)=>d||z.project.hasSelectionId,!1)}function yg(l,P){!p.isString(P.select)&&
P.select.on||delete l.events;!p.isString(P.select)&&P.select.clear||delete l.clear;!p.isString(P.select)&&P.select.toggle||delete l.toggle}function Zg(l){const P=[];if("Identifier"===l.type)return[l.name];if("Literal"===l.type)return[l.value];"MemberExpression"===l.type&&(P.push(...Zg(l.object)),P.push(...Zg(l.property)));return P}function Zi(l){return"MemberExpression"===l.object.type?Zi(l.object):"datum"===l.object.name}function ei(l){l=p.parseExpression(l);const P=new Set;l.visit(d=>{"MemberExpression"===
d.type&&Zi(d)&&P.add(Zg(d).slice(1).join("."))});return P}function lj(l,P,d){var z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"datum",H=p.isString(P)?P:P.param,W=K(H),na=p.stringValue(W+"_store");try{var ta=l.getSelectionComponent(W,H)}catch(cb){return"!!".concat(W)}ta.project.timeUnit&&(H=null!==d&&void 0!==d?d:l.component.data.raw,W=ta.project.timeUnit.clone(),H.parent?W.insertAsParentOf(H):H.parent=W);H=ta.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(";ta="global"===
ta.resolve?")":", ".concat(p.stringValue(ta.resolve),")");z="".concat(H).concat(na,", ").concat(z).concat(ta);na="length(data(".concat(na,"))");return!1===P.empty?"".concat(na," \x26\x26 ").concat(z):"!".concat(na," || ").concat(z)}function Oh(l,P,d){const z=K(P),H=d.encoding;let W=d.field,na;try{na=l.getSelectionComponent(z,P)}catch(ta){return z}H||W?H&&!W&&(l=na.project.items.filter(ta=>ta.channel===H),!l.length||1<l.length?(W=na.project.items[0].field,lc((l.length?"Multiple ":"No ")+"matching ".concat(p.stringValue(H),
" encoding found for selection ").concat(p.stringValue(d.param),". ")+'Using "field": '.concat(p.stringValue(W),"."))):W=l[0].field):(W=na.project.items[0].field,1<na.project.items.length&&lc('A "field" or "encoding" must be specified when using a selection as a scale domain. '+'Using "field": '.concat(p.stringValue(W),".")));return"".concat(na.name,"[").concat(p.stringValue(ea(W)),"]")}function ti(l,P,d){return R(P,z=>p.isString(z)?z:(null===z||void 0===z?0:z.param)?lj(l,z,d):rb(z))}function vj(l,
P){if(l)return p.isArray(l)&&!zc(l)?l.map(d=>Ej(d,P)).join(", "):l}function Yi(l,P,d,z){var H,W,na,ta,cb;null!==(H=l.encode)&&void 0!==H?H:l.encode={};null!==(na=(W=l.encode)[P])&&void 0!==na?na:W[P]={};null!==(cb=(ta=l.encode[P]).update)&&void 0!==cb?cb:ta.update={};l.encode[P].update[d]=z}function ni(l,P,d){var z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{header:!1},H=l.combine(),W=Object.assign({},H),na=H.disable;const ta=H.orient,cb=H.scale;var qb=H.labelExpr;const vb=H.title;H=H.zindex;
W=(delete W.disable,delete W.orient,delete W.scale,delete W.labelExpr,delete W.title,delete W.zindex,W);if(!na){for(const Pc in W){var Nb=Fk[Pc];na=W[Pc];if(Nb&&Nb!==P&&"both"!==Nb)delete W[Pc];else if(Xf(na)){Nb=na;na=Object.assign({},Nb);Nb=Nb.condition;na=(delete na.condition,na);Nb=p.array(Nb);const Ed=Yj[Pc];if(Ed){const {vgProp:Ud,part:pe}=Ed;na=[...Nb.map(Ie=>{var je=Object.assign({},Ie);Ie=Ie.test;je=(delete je.test,je);return Object.assign({},{test:ti(null,Ie)},je)}),na];Yi(W,pe,Ud,na);delete W[Pc]}else null===
Ed&&(na={signal:Nb.map(Ud=>{var pe=Object.assign({},Ud);Ud=Ud.test;pe=(delete pe.test,pe);return"".concat(ti(null,Ud)," ? ").concat(mc(pe)," : ")}).join("")+mc(na)},W[Pc]=na)}else if(Bc(na)&&(Nb=Yj[Pc])){const {vgProp:Ed,part:Ud}=Nb;Yi(W,Ud,Ed,na);delete W[Pc]}g(["labelAlign","labelBaseline"],Pc)&&null===W[Pc]&&delete W[Pc]}if("grid"===P){if(W.grid)return W.encode&&({grid:qb}=W.encode,W.encode=Object.assign({},qb?{grid:qb}:{}),r(W.encode)&&delete W.encode),Object.assign({},{scale:cb,orient:ta},W,
{domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:B(H,0)})}else if(z.header||!l.mainExtracted){if(void 0!==qb){var xc,od;z=qb;null!==(xc=W.encode)&&void 0!==xc&&null!==(od=xc.labels)&&void 0!==od&&od.update&&Bc(W.encode.labels.update.text)&&(z=Ga(qb,"datum.label",W.encode.labels.update.text.signal));Yi(W,"labels","text",{signal:z})}null===W.labelAlign&&delete W.labelAlign;if(W.encode){for(const Pc of Gk)l.hasAxisPart(Pc)||delete W.encode[Pc];r(W.encode)&&delete W.encode}qb=vj(vb,
d);return Object.assign({},{scale:cb,orient:ta,grid:!1},qb?{title:qb}:{},W,!1===d.aria?{aria:!1}:{},{zindex:B(H,0)})}}}function sh(l){const {axes:P}=l.component,d=[];for(const z of Wh)if(P[z])for(const H of P[z])if(!H.get("disable")&&!H.get("gridScale")){const W="x"===z?"height":"width",na=l.getSizeSignalRef(W).signal;W!==na&&d.push({name:W,update:na})}return d}function Oi(l,P){const {x:d=[],y:z=[]}=l;return[...d.map(H=>ni(H,"grid",P)),...z.map(H=>ni(H,"grid",P)),...d.map(H=>ni(H,"main",P)),...z.map(H=>
ni(H,"main",P))].filter(H=>H)}function ia(l,P,d,z){return Object.assign.apply(null,[{},...l.map(H=>{if("axisOrient"===H){H="x"===d?"bottom":"left";const W=P["x"===d?"axisBottom":"axisLeft"]||{},na=P["x"===d?"axisTop":"axisRight"]||{},ta=new Set([...se(W),...se(na)]),cb={};for(const qb of ta.values())cb[qb]={signal:"".concat(z.signal,' \x3d\x3d\x3d "').concat(H,'" ? ').concat(Kc(W[qb])," : ").concat(Kc(na[qb]))};return cb}return P[H]})])}function Na(l,P,d,z){var H="band"===P?["axisDiscrete","axisBand"]:
"point"===P?["axisDiscrete","axisPoint"]:Vk.has(P)?["axisQuantitative"]:"time"===P||"utc"===P?["axisTemporal"]:[];const W="x"===l?"axisX":"axisY";P=Bc(d)?"axisOrient":"axis".concat(ca(d));H=[...H,...H.map(na=>W+na.substr(4))];P=["axis",P,W];return{vlOnlyAxisConfig:ia(H,z,l,d),vgAxisConfig:ia(P,z,l,d),axisConfigStyle:Sa([...P,...H],z)}}function Sa(l,P){const d=[{}];for(const H of l){var z;if(l=null===(z=P[H])||void 0===z?void 0:z.style){l=p.array(l);for(const W of l)d.push(P.style[W])}}return Object.assign.apply(null,
d)}function ub(l,P,d){let z=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};const H=Ba(l,d,P);if(void 0!==H)return{configFrom:"style",configValue:H};for(const na of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"]){var W;if(void 0!==(null===(W=z[na])||void 0===W?void 0:W[l]))return{configFrom:na,configValue:z[na][l]}}return{}}function Zb(l,P,d,z,H){const W=null===P||void 0===P?void 0:P.labelAngle;if(void 0!==W)return Bc(W)?W:qa(W);({configValue:P}=ub("labelAngle",z,null===P||void 0===
P?void 0:P.style,H));if(void 0!==P)return qa(P);if("x"===d&&g(["nominal","ordinal"],l.type)&&(!Ec(l)||!l.timeUnit))return 270}function ac(l){return"(((".concat(l.signal," % 360) + 360) % 360)")}function jc(l,P,d,z){if(void 0!==l)return"x"===d?Bc(l)?(z=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "top")'):"top"===P,{signal:"(45 \x3c ".concat(z," \x26\x26 ").concat(z," \x3c 135) || (225 \x3c ").concat(z," \x26\x26 ").concat(z,' \x3c 315) ? "middle" :')+"(".concat(z," \x3c\x3d 45 || 315 \x3c\x3d ").concat(z,
") \x3d\x3d\x3d ").concat(P,' ? "bottom" : "top"')}):45<l&&135>l||225<l&&315>l?"middle":Bc(P)?(z=45>=l||315<=l?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(P.signal," ").concat(z,' "top" ? "bottom" : "top"')}):(45>=l||315<=l)===("top"===P)?"bottom":"top":Bc(l)?(l=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "left")'):"left"===P,z=z?'"middle"':"null",{signal:"".concat(l," \x3c\x3d 45 || 315 \x3c\x3d ").concat(l," || (135 \x3c\x3d ").concat(l," \x26\x26 ").concat(l," \x3c\x3d 225) ? ").concat(z,
" : (45 \x3c\x3d ").concat(l," \x26\x26 ").concat(l," \x3c\x3d 135) \x3d\x3d\x3d ").concat(P,' ? "top" : "bottom"')}):45>=l||315<=l||135<=l&&225>=l?z?"middle":null:Bc(P)?(z=45<=l&&135>=l?"\x3d\x3d\x3d":"!\x3d\x3d",{signal:"".concat(P.signal," ").concat(z,' "left" ? "top" : "bottom"')}):(45<=l&&135>=l)===("left"===P)?"top":"bottom"}function Ac(l,P,d){if(void 0!==l){var z=(d="x"===d)?0:90,H=d?"bottom":"left";return Bc(l)?(l=ac(l),P=Bc(P)?"(".concat(P.signal,' \x3d\x3d\x3d "').concat(H,'")'):P===H,{signal:"(".concat(z?
"(".concat(l," + 90)"):l," % 180 \x3d\x3d\x3d 0) ? ").concat(d?null:'"center"'," :")+"(".concat(z," \x3c ").concat(l," \x26\x26 ").concat(l," \x3c ").concat(180+z,") \x3d\x3d\x3d ").concat(P,' ? "left" : "right"')}):0===(l+z)%180?d?null:"center":Bc(P)?(d=z<l&&l<180+z?"\x3d\x3d\x3d":"!\x3d\x3d",P="".concat(P.signal," ").concat(d,' "').concat(H,'"'),{signal:"".concat(P,' ? "left" : "right"')}):(z<l&&l<180+z)===(P===H)?"left":"right"}}function hd(l,P){var d="x"===P?"x2":"y2";P=l.fieldDef(P);l=l.fieldDef(d);
d=P?P.title:void 0;l=l?l.title:void 0;if(d&&l)return $a(d,l);if(d)return d;if(l)return l;if(void 0!==d)return d;if(void 0!==l)return l}function Ld(l,P,d){return Id(l,Object.assign({},{prefix:P,suffix:"sort_index"},null!==d&&void 0!==d?d:{}))}function be(l,P){return g(["top","bottom"],P)?"column":g(["left","right"],P)?"row":"row"===l?"row":"column"}function kd(l,P,d,z){return B((P||{})[l],("row"===z?d.headerRow:"column"===z?d.headerColumn:d.headerFacet)[l],d.header[l])}function oe(l,P,d,z){const H=
{};for(const W of l)l=kd(W,P||{},d,z),void 0!==l&&(H[W]=l);return H}function Qe(l,P){switch(2<arguments.length&&void 0!==arguments[2]?arguments[2]:"middle"){case "start":return{align:"left"};case "end":return{align:"right"}}const d=Ac(P,"row"===l?"left":"top","row"===l?"y":"x");return d?{align:d}:{}}function xf(l,P){return(l=jc(l,"row"===P?"left":"top","row"===P?"y":"x",!0))?{baseline:l}:{}}function Me(l,P,d){const {format:z,formatType:H,labelAngle:W,labelAnchor:na,labelOrient:ta,labelExpr:cb}=oe("format formatType labelAngle labelAnchor labelOrient labelExpr".split(" "),
l.header,d,P),qb=ed({fieldOrDatumDef:l,format:z,formatType:H,expr:"parent",config:d}).signal,vb=be(P,ta);return Object.assign({},{text:{signal:cb?Ga(Ga(cb,"datum.label",qb),"datum.value",Id(l,{expr:"parent"})):qb}},"row"===P?{orient:"left"}:{},{style:"guide-label",frame:"group"},xf(W,vb),Qe(vb,W,na),$f(d,l,P,Lk,ek))}function $f(l,P,d,z,H){const W={};for(const na of z)H[na]&&(z=kd(na,null===P||void 0===P?void 0:P.header,l,d),void 0!==z&&(W[H[na]]=z));return W}function Dg(l){return[...fh(l,"width"),
...fh(l,"height"),...fh(l,"childWidth"),...fh(l,"childHeight")]}function fh(l,P){var d="width"===P?"x":"y",z=l.component.layoutSize.get(P);if(!z||"merged"===z)return[];P=l.getSizeSignalRef(P).signal;if("step"===z){if(z=l.getScaleComponent(d)){var H=z.get("type");const W=z.get("range");if(Gd(H)&&uc(W))return H=l.scaleName(d),Mc(l.parent)&&"independent"===l.parent.component.resolve.scale[d]?[mh(H,W)]:[mh(H,W),{name:P,update:$e(H,z,"domain('".concat(H,"').length"))}]}throw Error("layout size is step although width/height is not step.");
}return"container"==z?(d=(z=P.endsWith("width"))?"containerSize()[0]":"containerSize()[1]",l=we(l.config.view,z?"width":"height"),l="isFinite(".concat(d,") ? ").concat(d," : ").concat(l),[{name:P,init:l,on:[{update:l,events:"window:resize"}]}]):[{name:P,value:z}]}function mh(l,P){l="".concat(l,"_step");return Bc(P.step)?{name:l,update:P.step.signal}:{name:l,value:P.step}}function $e(l,P,d){const z=P.get("type"),H=P.get("padding"),W=B(P.get("paddingOuter"),H);P=P.get("paddingInner");P="band"===z?void 0!==
P?P:H:1;return"bandspace(".concat(d,", ").concat(Kc(P),", ").concat(Kc(W),") * ").concat(l,"_step")}function gh(l){return"childWidth"===l?"width":"childHeight"===l?"height":l}function nf(l,P){return se(l).reduce((d,z)=>Object.assign({},d,Yc(P,l[z],z,H=>Wb(H.value))),{})}function sg(l,P){if(Mc(P))return"theta"===l?"independent":"shared";if(ad(P))return"shared";if(Wc(P))return xa(l)||"theta"===l||"radius"===l?"independent":"shared";throw Error("invalid model type for resolve");}function Jh(l,P){const d=
l.scale[P],z=xa(P)?"axis":"legend";return"independent"===d?("shared"===l[z][P]&&lc('Setting the scale to be independent for "'.concat(P,'" means we also have to set the guide (axis or legend) to be independent.')),"independent"):l[z][P]||"shared"}function Ne(l){return Ve(l,(P,d)=>Math.max(P,d.value))}function ve(l){return Ve(l,(P,d)=>B(P,d.value))}function Ve(l,P){const d=null===l||void 0===l?void 0:l.condition;if(d&&(p.isArray(d)||Kd(d)))return p.array(l.condition).reduce(P,l.value);if(Kd(l))return l.value}
function ye(l,P,d){l=P.get("selections");if(null!==l&&void 0!==l&&l.length){var z=p.stringValue(d.field);return l.map(H=>{const W=p.stringValue(K(H)+"_store");return"(!length(data(".concat(W,")) || (").concat(H,"[").concat(z,"] \x26\x26 indexof(").concat(H,"[").concat(z,"], datum.value) \x3e\x3d 0))")}).join(" || ")}}function lg(l,P,d,z){l=l.getSizeSignalRef(P).signal;return{signal:"clamp(".concat(l,", ").concat(d,", ").concat(z,")")}}function Eg(l){var P;if(ec(l)){var {encoding:d}=l,z={};for(const cf of["color",
...E]){var H=Gf(d[cf]);if(H&&l.getScaleComponent(cf)&&("shape"!==cf||!Ec(H)||"geojson"!==H.type)){a:{var W=H=void 0,na=void 0,ta=void 0,cb=void 0,qb=void 0;var vb=void 0;var Nb=l,xc=cf;let Ue=Nb.legend(xc);const {markDef:Ke,encoding:Yf,config:kh}=Nb;var od=kh.legend;b:{var Pc=Nb;var Ed=xc,Ud=Pc.scaleName(Ed);if("trail"===Pc.mark){if("color"===Ed){Pc={stroke:Ud};break b}if("size"===Ed){Pc={strokeWidth:Ud};break b}}Pc="color"===Ed?Pc.markDef.filled?{fill:Ud}:{stroke:Ud}:{[Ed]:Ud}}Pc=new sm({},Pc);Ed=
null===(ta=Nb.fieldDef(xc))||void 0===ta?void 0:ta.field;for(const lh of hi(null!==(P=Nb.component.selection)&&void 0!==P?P:{})){var pe;if((ta=null!==(pe=lh.project.hasField[Ed])&&void 0!==pe?pe:lh.project.hasChannel[xc])&&Zl.defined(lh)){var Ie;Ud=null!==(Ie=Pc.get("selections"))&&void 0!==Ie?Ie:[];Ud.push(lh.name);Pc.set("selections",Ud,!1);ta.hasLegend=!0}}ta=void 0!==Ue?!Ue:od.disable;Pc.set("disable",ta,void 0!==Ue);if(ta){H=Pc;break a}Ue=Ue||{};Ed=Nb.getScaleComponent(xc).get("type");ta=Gf(Yf[xc]);
var je=Ec(ta)?null===(vb=af(ta.timeUnit))||void 0===vb?void 0:vb.unit:void 0;Ud=Ue.orient||kh.legend.orient||"right";vb={legend:Ue,channel:xc,timeUnit:je,scaleType:Ed};({legend:je}=vb);je=je.type;b:{let {channel:lh,timeUnit:pl,scaleType:Il}=vb;if(bb(lh)){if(g(["quarter","month","day"],pl)){vb="symbol";break b}if(Ei.has(Il)){vb="gradient";break b}}vb="symbol"}vb=B(je,vb);let {legendConfig:kg,legendType:ki,orient:Mi,legend:Hl}={legend:Ue,legendType:vb,orient:Ud,legendConfig:od};if(null!==(na=null!==
(W=Hl.direction)&&void 0!==W?W:kg[ki?"gradientDirection":"symbolDirection"])&&void 0!==na)W=na;else b:{switch(Mi){case "top":case "bottom":W="horizontal";break b;case "left":case "right":case "none":case void 0:break;default:W="gradient"===ki?"horizontal":void 0;break b}W=void 0}od={legend:Ue,channel:xc,model:Nb,markDef:Ke,encoding:Yf,fieldOrDatumDef:ta,legendConfig:od,config:kh,scaleType:Ed,orient:Ud,legendType:vb,direction:W};for(const lh of $l)if(!("gradient"===vb&&lh.startsWith("symbol")||"symbol"===
vb&&lh.startsWith("gradient"))&&(W=lh in am?am[lh](od):Ue[lh],void 0!==W)){b:{na=Nb.fieldDef(xc);switch(lh){case "disable":na=void 0!==Ue;break b;case "values":na=!(null===Ue||void 0===Ue||!Ue.values);break b;case "title":if("title"===lh&&W===(null===na||void 0===na?void 0:na.title)){na=!0;break b}}na=W===(Ue||{})[lh]}(na||void 0===kh.legend[lh])&&Pc.set(lh,W,na)}od=null!==(qb=null===(cb=Ue)||void 0===cb?void 0:cb.encoding)&&void 0!==qb?qb:{};cb=Pc.get("selections");qb={};xc={fieldOrDatumDef:ta,model:Nb,
channel:xc,legendCmpt:Pc,legendType:vb};for(const lh of"labels legend title symbols gradient entries".split(" ")){var Fe;W=nf(null!==(Fe=od[lh])&&void 0!==Fe?Fe:{},Nb);W=lh in bm?bm[lh](W,xc):W;void 0===W||r(W)||(qb[lh]=Object.assign({},null!==cb&&void 0!==cb&&cb.length&&Ec(ta)?{name:"".concat(K(ta.field),"_legend_").concat(lh)}:{},null!==cb&&void 0!==cb&&cb.length?{interactive:!!cb}:{},{update:W}))}r(qb)||Pc.set("encode",qb,!(null===(H=Ue)||void 0===H||!H.encoding));H=Pc}z[cf]=H}}P=z}else{const {legends:cf,
resolve:Ue}=l.component;for(d of l.children){Eg(d);for(z of se(d.component.legends))Ue.legend[z]=Jh(l.component.resolve,z),"shared"===Ue.legend[z]&&(cf[z]=yf(cf[z],d.component.legends[z]),cf[z]||(Ue.legend[z]="independent",delete cf[z]))}for(H of se(cf))for(Nb of l.children)Nb.component.legends[H]&&"shared"===Ue.legend[H]&&delete Nb.component.legends[H];P=cf}return l.component.legends=P}function yf(l,P){if(!l)return P.clone();var d=l.getWithExplicit("orient");const z=P.getWithExplicit("orient");if(!d.explicit||
!z.explicit||d.value===z.value){var H=!1;for(const qb of $l)d=ff(l.getWithExplicit(qb),P.getWithExplicit(qb),qb,"legend",(vb,Nb)=>{switch(qb){case "symbolType":return vb="circle"===Nb.value?Nb:vb,vb;case "title":return jb(vb,Nb);case "type":return H=!0,Pe("symbol")}return fg(vb,Nb,qb,"legend")}),l.setWithExplicit(qb,d);if(H){var W,na,ta,cb;null!==(W=l.implicit)&&void 0!==W&&null!==(na=W.encode)&&void 0!==na&&na.gradient&&S(l.implicit,["encode","gradient"]);null!==(ta=l.explicit)&&void 0!==ta&&null!==
(cb=ta.encode)&&void 0!==cb&&cb.gradient&&S(l.explicit,["encode","gradient"])}return l}}function nh(l){const P=l.component.legends,d={};for(const H of se(P)){var z=l.getScaleComponent(H);z=hh(z.get("domains"));if(d[z])for(const W of d[z])yf(W,P[H])||d[z].push(P[H]);else d[z]=[P[H].clone()]}return hi(d).flat().map(H=>{{var W=l.config,na,ta=H.combine();H=Object.assign({},ta);const Ud=ta.disable;ta=ta.labelExpr;H=(delete H.disable,delete H.labelExpr,delete H.selections,H);if(Ud)var cb=void 0;else{!1===
W.aria&&void 0==H.aria&&(H.aria=!1);if(null!==(na=H.encode)&&void 0!==na&&na.symbols){W=H.encode.symbols.update;!W.fill||"transparent"===W.fill.value||W.stroke||H.stroke||(W.stroke={value:"transparent"});for(var qb of E)H[qb]&&delete W[qb]}H.title||delete H.title;if(void 0!==ta){var vb,Nb;qb=ta;null!==(vb=H.encode)&&void 0!==vb&&null!==(Nb=vb.labels)&&void 0!==Nb&&Nb.update&&Bc(H.encode.labels.update.text)&&(qb=Ga(ta,"datum.label",H.encode.labels.update.text.signal));vb=H;Nb={signal:qb};var xc,od,
Pc,Ed;null!==(cb=vb.encode)&&void 0!==cb?cb:vb.encode={};null!==(od=(xc=vb.encode).labels)&&void 0!==od?od:xc.labels={};null!==(Ed=(Pc=vb.encode.labels).update)&&void 0!==Ed?Ed:Pc.update={};vb.encode.labels.update.text=Nb}cb=H}}return cb}).filter(H=>void 0!==H)}function yh(l){return l.children.reduce((P,d)=>P.concat(d.assembleProjections()),oi(l))}function oi(l){var P=l.component.projection;if(!P||P.merged)return[];const d=P.combine(),{name:z}=d;if(P.data){const H={signal:"[".concat(P.size.map(W=>
W.signal).join(", "),"]")};P=P.data.reduce((W,na)=>{na=Bc(na)?na.signal:"data('".concat(l.lookupDataSource(na),"')");W.includes(na)||W.push(na);return W},[]);if(0>=P.length)throw Error("Projection's fit didn't find any data sources");return[Object.assign({},{name:z,size:H,fit:{signal:1<P.length?"[".concat(P.join(", "),"]"):P[0]}},d)]}return[Object.assign({},{name:z},{translate:{signal:"[width / 2, height / 2]"}},d)]}function Nj(l){var P=l.component,d;if(ec(l))if(l.hasProjection){const W=$b(l.specifiedProjection);
var z=!(W&&(null!=W.scale||null!=W.translate));const na=z?[l.getSizeSignalRef("width"),l.getSizeSignalRef("height")]:void 0;if(z){z=[];const {encoding:ta}=l;for(H of[["longitude","latitude"],["longitude2","latitude2"]])(Gf(ta[H[0]])||Gf(ta[H[1]]))&&z.push({signal:l.getName("geojson_".concat(z.length))});l.channelHasField("shape")&&"geojson"===l.typedFieldDef("shape").type&&z.push({signal:l.getName("geojson_".concat(z.length))});0===z.length&&z.push(l.requestDataName(Hg.Main));var H=z}else H=void 0;
l=new cm(l.projectionName(!0),Object.assign({},null!==(d=$b(l.config.projection))&&void 0!==d?d:{},null!==W&&void 0!==W?W:{}),na,H);l.get("type")||l.set("type","equalEarth",!1);d=l}else d=void 0;else d=$i(l);P.projection=d}function zi(l,P){const d=h(tm,z=>!p.hasOwnProperty(l.explicit,z)&&!p.hasOwnProperty(P.explicit,z)||p.hasOwnProperty(l.explicit,z)&&p.hasOwnProperty(P.explicit,z)&&gi(l.get(z),P.get(z))?!0:!1);if(gi(l.size,P.size)){if(d)return l;if(gi(l.explicit,{}))return P;if(gi(P.explicit,{}))return l}return null}
function $i(l){if(0!==l.children.length){var P;for(var d of l.children)Nj(d);d=h(l.children,z=>{if(z=z.component.projection){if(P)return(z=zi(P,z))&&(P=z),!!z;P=z}return!0});if(P&&d){d=l.projectionName(!0);const z=new cm(d,P.specifiedProjection,P.size,Wf(P.data));for(const H of l.children)if(l=H.component.projection)l.isFit&&z.data.push(...H.component.projection.data),H.renameProjection(l.get("name"),d),l.merged=!0;return z}}}function Kj(l,P){return"".concat(ua(l),"_").concat(P)}function sk(l,P,d){var z;
d=null!==(z=Sg(d,void 0))&&void 0!==z?z:{};P=Kj(d,P);return l.getName("".concat(P,"_bins"))}function fj(l,P,d){let z;z="as"in l?p.isString(l.as)?[l.as,"".concat(l.as,"_end")]:[l.as[0],l.as[1]]:[Id(l,{forAs:!0}),Id(l,{binSuffix:"end",forAs:!0})];const H=Object.assign({},Sg(P,void 0));P=Kj(H,l.field);var W={signal:d.getName("".concat(P,"_bins")),extentSignal:d.getName("".concat(P,"_extent"))};const {signal:na,extentSignal:ta}=W;if(lb(H.extent)){var cb=H.extent;cb=Oh(d,cb.param,cb);delete H.extent}l=
Object.assign({},{bin:H,field:l.field,as:[z]},na?{signal:na}:{},ta?{extentSignal:ta}:{},cb?{span:cb}:{});return{key:P,binComponent:l}}function Fg(l){return l.startsWith("'")&&l.endsWith("'")||l.startsWith('"')&&l.endsWith('"')?l.slice(1,-1):l}function Gi(l,P){l=M(l);if("number"===P)return"toNumber(".concat(l,")");if("boolean"===P)return"toBoolean(".concat(l,")");if("string"===P)return"toString(".concat(l,")");if("date"===P)return"toDate(".concat(l,")");if("flatten"===P)return l;if(P.startsWith("date:"))return P=
Fg(P.slice(5,P.length)),"timeParse(".concat(l,",'").concat(P,"')");if(P.startsWith("utc:"))return P=Fg(P.slice(4,P.length)),"utcParse(".concat(l,",'").concat(P,"')");lc('Unrecognized parse "'.concat(P,'".'));return null}function aj(l){const P={};q(l.filter,d=>{if(tc(d)){let H=null;if(rc(d))H=Ab(d.equal);else if(Ad(d))H=Ab(d.lte);else if(bd(d))H=Ab(d.lt);else if(wa(d))H=Ab(d.gt);else if(Xa(d))H=Ab(d.gte);else if(zb(d))H=d.range[0];else if(Xb(d)){var z;H=(null!==(z=d.oneOf)&&void 0!==z?z:d["in"])[0]}H&&
(rd(H)?P[d.field]="date":p.isNumber(H)?P[d.field]="number":p.isString(H)&&(P[d.field]="string"));d.timeUnit&&(P[d.field]="date")}});return P}function bj(l){function P(z){if(Cf(z))d[z.field]="date";else{var H;if(H="quantitative"===z.type)H=z.aggregate,H=p.isString(H)&&g(["min","max"],H);H?d[z.field]="number":1<D(z.field)?z.field in d||(d[z.field]="flatten"):ee(z)&&fa(z.sort)&&1<D(z.sort.field)&&(z.sort.field in d||(d[z.sort.field]="flatten"))}}const d={};(ec(l)||Mc(l))&&l.forEachFieldDef((z,H)=>{vd(z)?
P(z):(H=Ma(H),H=l.fieldDef(H),P(Object.assign({},z,{type:H.type})))});if(ec(l)){const {mark:z,markDef:H,encoding:W}=l;if(Ea(z)&&!l.encoding.order){const na=W["horizontal"===H.orient?"y":"x"];!Ec(na)||"quantitative"!==na.type||na.field in d||(d[na.field]="number")}}return d}function cj(l){return l instanceof uk||l instanceof rl||l instanceof sl}function xk(l){return l.stack.stackBy.reduce((P,d)=>{(d=Id(d.fieldDef))&&P.push(d);return P},[])}function Lj(l){return p.isArray(l)&&l.every(P=>p.isString(P))&&
1<l.length}function si(l){function P(d){if(!(d instanceof Mk)){const z=d.clone();if(z instanceof wi){const H="scale_"+z.getSource();z.setSource(H);l.model.component.data.outputNodes[H]=z}else(z instanceof xj||z instanceof gk||z instanceof cl||z instanceof Nk)&&z.addDimensions(l.fields);for(const H of d.children.flatMap(P))H.parent=z;return[z]}return d.children.flatMap(P)}return P}function Pi(l){if(l instanceof Mk)if(1!==l.numChildren()||l.children[0]instanceof wi){var P=l.model.component.data.main;
mi(P);const d=si(l);l=l.children.map(d).flat();for(const z of l)z.parent=P}else P=l.children[0],(P instanceof xj||P instanceof gk||P instanceof cl||P instanceof Nk)&&P.addDimensions(l.fields),P.swapWithParent(),Pi(l);else l.children.map(Pi)}function mi(l){if(l instanceof wi&&l.type===Hg.Main&&1===l.numChildren()){const P=l.children[0];P instanceof Mk||(P.swapWithParent(),mi(l))}}function Dh(l){for(const P of l){for(const d of P.children)if(d.parent!==P)return!1;if(!Dh(P.children))return!1}return!0}
function Jf(l,P){let d=!1;for(const z of P)d=l.optimize(z)||d;return d}function Fi(l,P,d){let z=l.sources,H=!1;H=Jf(new um,z)||H;H=Jf(new vm(P),z)||H;z=z.filter(W=>0<W.numChildren());H=Jf(new wm,z)||H;z=z.filter(W=>0<W.numChildren());d||(H=Jf(new xm,z)||H,H=Jf(new ym(P),z)||H,H=Jf(new zm,z)||H,H=Jf(new Am,z)||H,H=Jf(new Bm,z)||H,H=Jf(new Cm,z)||H,H=Jf(new Dm,z)||H,H=Jf(new Em,z)||H);l.sources=z;return H}function hk(l){const P=l.component.scales;for(const qb of se(P)){var d=l,z=qb,H=d.getScaleComponent(z).get("type"),
{encoding:W}=d;var na=d.scaleDomain(z);var ta=d.typedFieldDef(z),cb=d.config.scale;if("unaggregated"===na){const {valid:vb,reason:Nb}=Hi(ta,H);vb||(lc(Nb),na=void 0)}else void 0===na&&cb.useUnaggregatedDomain&&({valid:ta}=Hi(ta,H),ta&&(na="unaggregated"));na!==d.scaleDomain(z)&&(d.specifiedScales[z]=Object.assign({},d.specifiedScales[z],{domain:na}));d="x"===z&&Gf(W.x2)?Gf(W.x)?ff(ph(H,na,d,"x"),ph(H,na,d,"x2"),"domain","scale",ij):ph(H,na,d,"x2"):"y"===z&&Gf(W.y2)?Gf(W.y)?ff(ph(H,na,d,"y"),ph(H,
na,d,"y2"),"domain","scale",ij):ph(H,na,d,"y2"):ph(H,na,d,z);P[qb].setWithExplicit("domains",d);W=void 0;z=l.component.scales[qb];na=l.specifiedScales[qb].domain;H=null===(W=l.fieldDef(qb))||void 0===W?void 0:W.bin;W=Le(na)&&na;H=p.isObject(H)&&lb(H.extent)&&H.extent;(W||H)&&z.set("selectionExtent",null!==W&&void 0!==W?W:H,!0);if(l.component.data.isFaceted){for(z=l;!Mc(z)&&z.parent;)z=z.parent;if("shared"===z.component.resolve.scale[qb])for(const vb of d.value)id(vb)&&(vb.data="scale_"+vb.data.replace("scale_",
""))}}}function vi(l){for(var P of l.children){var d=P;ec(d)?hk(d):vi(d)}d=l.component.scales;for(const H of se(d)){let W;P=null;for(const na of l.children){var z=na.component.scales[H];z&&(W=void 0===W?z.getWithExplicit("domains"):ff(W,z.getWithExplicit("domains"),"domains","scale",ij),z=z.get("selectionExtent"),P&&z&&P.param!==z.param&&lc("The same selection must be used to override scale domains in a layered view."),P=z)}d[H].setWithExplicit("domains",W);P&&d[H].set("selectionExtent",P,!0)}}function gj(l,
P,d){return l.map(z=>{z=vg(z,{timeUnit:d,type:P});return{signal:"{data: ".concat(z,"}")}})}function hj(l,P,d){var z;d=null===(z=af(d))||void 0===z?void 0:z.unit;return"temporal"===P||d?gj(l,P,d):[l]}function ph(l,P,d,z){var {encoding:H}=d;H=Gf(H[z]);const {type:W}=H,na=H.timeUnit;if(null===P||void 0===P?0:P.unionWith)return z=ph(l,void 0,d,z),P=hj(P.unionWith,W,na),Df([...z.value,...P]);if(Bc(P))return Df([P]);if(P&&"unaggregated"!==P&&!Le(P))return Df(hj(P,W,na));var ta=d.stack;if(ta&&z===ta.fieldChannel){if("normalize"===
ta.offset)return Pe([[0,1]]);P=d.requestDataName(Hg.Main);return Pe([{data:P,field:d.vgField(z,{suffix:"start"})},{data:P,field:d.vgField(z,{suffix:"end"})}])}ta=Sh[z]&&Ec(H)?Ik(d,z,l):void 0;if(Be(H))return z=hj([H.datum],W,na),Pe(z);if("unaggregated"===P)return z=d.requestDataName(Hg.Main),{field:P}=H,Pe([{data:z,field:Id({field:P,aggregate:"min"})},{data:z,field:Id({field:P,aggregate:"max"})}]);if(Ta(H.bin)){if(Gd(l))return"bin-ordinal"===l?Pe([]):Pe([{data:y(ta)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),
field:d.vgField(z,Uf(H,z)?{binSuffix:"range"}:{}),sort:!0!==ta&&p.isObject(ta)?ta:{field:d.vgField(z,{}),op:"min"}}]);({bin:P}=H);if(Ta(P)){const cb=sk(d,H.field,P);return Pe([new Ni(()=>{const qb=d.getSignalName(cb);return"[".concat(qb,".start, ").concat(qb,".stop]")})])}return Pe([{data:d.requestDataName(Hg.Main),field:d.vgField(z,{})}])}return H.timeUnit&&g(["time","utc"],l)&&oc(H,ec(d)?d.encoding[Fa(z)]:void 0,d.markDef,d.config)?(P=d.requestDataName(Hg.Main),Pe([{data:P,field:d.vgField(z)},{data:P,
field:d.vgField(z,{suffix:"end"})}])):ta?Pe([{data:y(ta)?d.requestDataName(Hg.Main):d.requestDataName(Hg.Raw),field:d.vgField(z),sort:ta}]):Pe([{data:d.requestDataName(Hg.Main),field:d.vgField(z)}])}function yj(l,P){const {op:d,field:z,order:H}=l;return Object.assign({},{op:null!==d&&void 0!==d?d:P?"sum":"min"},z?{field:ea(z)}:{},H?{order:H}:{})}function Ik(l,P,d){if(Gd(d)){var z=l.fieldDef(P);d=z.sort;if(Ia(d))return{op:"min",field:Ld(z,P),order:"ascending"};({stack:z}=l);var H=z?new Set([...z.groupbyFields,
...z.stackBy.map(W=>W.fieldDef.field)]):void 0;if(fa(d))return l=z&&!H.has(d.field),yj(d,l);if(bc(d)){const {encoding:W,order:na}=d;l=l.fieldDef(W);const {aggregate:ta,field:cb}=l;P=z&&!H.has(cb);if(Oa(ta)||ja(ta))return yj({field:Id(l),order:na},P);if(U(ta)||!ta)return yj({op:ta,field:cb,order:na},P)}else{if("descending"===d)return{op:"min",field:l.vgField(P),order:"descending"};if(g(["ascending",void 0],d))return!0}}}function Hi(l,P){const {aggregate:d,type:z}=l;return d?p.isString(d)&&!Ci.has(d)?
{valid:!1,reason:'Unaggregated domain not applicable for "'.concat(d,'" since it produces values outside the origin domain of the source data.')}:"quantitative"===z&&"log"===P?{valid:!1,reason:"Unaggregated domain is currently unsupported for log scale (".concat(hh(l),").")}:{valid:!0}:{valid:!1,reason:"Using unaggregated domain with raw field has no effect (".concat(hh(l),").")}}function ij(l,P,d,z){if(l.explicit&&P.explicit){var H=l.value,W=P.value;d="Conflicting ".concat(z.toString(),' property "').concat(d.toString(),
'" (').concat(hh(H)," and ").concat(hh(W),"). Using the union of the two domains.");lc(d)}return{explicit:l.explicit,value:[...l.value,...P.value]}}function mj(l){var P=O(l.map(H=>id(H)?(H=Object.assign({},H),delete H.sort,H):H),c),d=O(l.map(H=>{if(id(H))return H=H.sort,void 0===H||y(H)||("op"in H&&"count"===H.op&&delete H.field,"ascending"===H.order&&delete H.order),H}).filter(H=>void 0!==H),c);if(0!==P.length){if(1===P.length){P=l[0];if(id(P)&&0<d.length){var z=d[0];1<d.length?(lc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),
z=!0):p.isObject(z)&&"field"in z&&P.field===z.field&&(z=z.order?{order:z.order}:!0);return Object.assign({},P,{sort:z})}return P}d=O(d.map(H=>{if(y(H)||!("op"in H)||p.isString(H.op)&&H.op in Bi)return H;lc("Dropping sort property ".concat(hh(H),' as unioned domains only support boolean or op "count", "min", and "max".'));return!0}),c);1===d.length?z=d[0]:1<d.length&&(lc("Domains that should be unioned has conflicting sort properties. Sort will be set to true."),z=!0);d=O(l.map(H=>id(H)?H.data:null),
H=>H);return 1===d.length&&null!==d[0]?Object.assign({},{data:d[0],fields:P.map(H=>H.field)},z?{sort:z}:{}):Object.assign({},{fields:P},z?{sort:z}:{})}}function jj(l){if(id(l)&&p.isString(l.field))return l.field;var P=p.isArray(l)?!1:"fields"in l&&!("data"in l);if(P){let d;for(const z of l.fields)if(id(z)&&p.isString(z.field))if(!d)d=z.field;else if(d!==z.field)return lc("Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect."),
d;lc("Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.");return d}P=p.isArray(l)?!1:"fields"in l&&"data"in l;if(P)return lc("Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect."),
l=l.fields[0],p.isString(l)?l:void 0}function Qi(l,P){P=l.component.scales[P].get("domains").map(d=>{id(d)&&(d.data=l.lookupDataSource(d.data));return d});return mj(P)}function wj(l){return ad(l)||Wc(l)?l.children.reduce((P,d)=>P.concat(wj(d)),yk(l)):yk(l)}function yk(l){return se(l.component.scales).reduce((P,d)=>{var z=l.component.scales[d];if(z.merged)return P;var H=z.combine(),W=Object.assign({},H);const na=H.name,ta=H.type;var cb=H.selectionExtent;const qb=H.reverse;W=(delete W.name,delete W.type,
delete W.selectionExtent,delete W.domains,delete W.range,delete W.reverse,W);H=H.range;xa(d)?uc(H)&&(H={step:{signal:"".concat(na,"_step")}}):p.isObject(H)&&id(H)&&(H=Object.assign({},H,{data:l.lookupDataSource(H.data)}));d=Qi(l,d);cb?(cb=Oh(l,cb.param,cb),z={signal:Pd(z.get("type"))&&p.isArray(d)&&d[0]>d[1]?"isValid(".concat(cb,") \x26\x26 reverse(").concat(cb,")"):cb}):z=null;P.push(Object.assign({},{name:na,type:ta},d?{domain:d}:{},z?{domainRaw:z}:{},{range:H},void 0!==qb?{reverse:qb}:{},W));return P},
[])}function ck(l,P){var d=l.fieldDef(P);if(null!==d&&void 0!==d&&d.bin){const {bin:z,field:H}=d;d=Ra(P);const W=l.getName(d);if(p.isObject(z)&&z.binned&&void 0!==z.step)return new Ni(()=>{var na=l.scaleName(P);na='(domain("'.concat(na,'")[1] - domain("').concat(na,'")[0]) / ').concat(z.step);return"".concat(l.getSignalName(W)," / (").concat(na,")")});if(Ta(z)){const na=sk(l,H,z);return new Ni(()=>{var ta=l.getSignalName(na);ta="(".concat(ta,".stop - ").concat(ta,".start) / ").concat(ta,".step");
return"".concat(l.getSignalName(W)," / (").concat(ta,")")})}}}function Pj(l,P){const d=P.specifiedScales[l];var {size:z}=P,H=P.getScaleComponent(l).get("type");for(var W of Fm)if(void 0!==d[W]){const cb=Se(H,W),qb=ha(l,W);if(cb)if(qb)lc(qb);else switch(W){case "range":H=d.range;if(p.isArray(H)){if(xa(l))return Df(H.map(vb=>{if("width"===vb||"height"===vb){vb=P.getName(vb);const Nb=P.getSignalName.bind(P);return Ni.fromName(Nb,vb)}return vb}))}else if(p.isObject(H))return Df({data:P.requestDataName(Hg.Main),
field:H.field,sort:{op:"min",field:P.vgField(l)}});return Df(H);case "scheme":return Df(Fj(d[W]))}else lc(tb(H,W,l))}W="x"===l||"xOffset"===l?"width":"height";z=z[W];if(Xc(z))if(xa(l))if(Gd(H)){if(z=dj(z,P,l))return Df({step:z})}else lc(Jb(W));else if(l in Si&&"band"===P.getScaleComponent("xOffset"===l?"x":"y").get("type")&&(z=tk(z,H)))return Df(z);const {rangeMin:na,rangeMax:ta}=d;l=Gj(l,P);return(void 0!==na||void 0!==ta)&&Se(H,"rangeMin")&&p.isArray(l)&&2===l.length?Df([null!==na&&void 0!==na?
na:l[0],null!==ta&&void 0!==ta?ta:l[1]]):Pe(l)}function Fj(l){return!p.isString(l)&&l.name?Object.assign({},{scheme:l.name},b(l,["name"])):{scheme:l}}function Gj(l,P){const {size:d,config:z,mark:H,encoding:W}=P;var na=P.getSignalName.bind(P),{type:ta}=Gf(W[l]);const cb=P.getScaleComponent(l).get("type"),{domain:qb,domainMid:vb}=P.specifiedScales[l];switch(l){case "x":case "y":if(g(["point","band"],cb)&&(ta=dk(l,d,z.view),Xc(ta)))return{step:dj(ta,P,l)};ta=Ra(l);ta=P.getName(ta);return"y"===l&&Pd(cb)?
[Ni.fromName(na,ta),0]:[0,Ni.fromName(na,ta)];case "xOffset":case "yOffset":return Mj(l,P,cb);case "size":return na=P.component.scales[l].get("zero"),na=th(H,na,z),ta=al(H,d,P,z),Cj.has(cb)?Qg(na,ta,Vh(cb,z,qb,l)):[na,ta];case "theta":return[0,2*Math.PI];case "angle":return[0,360];case "radius":return[0,new Ni(()=>{const Nb=P.getSignalName("width"),xc=P.getSignalName("height");return"min(".concat(Nb,",").concat(xc,")/2")})];case "strokeWidth":return[z.scale.minStrokeWidth,z.scale.maxStrokeWidth];
case "strokeDash":return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case "shape":return"symbol";case "color":case "fill":case "stroke":return"ordinal"===cb?"nominal"===ta?"category":"ordinal":void 0!==vb?"diverging":"rect"===H||"geoshape"===H?"heatmap":"ramp";case "opacity":case "fillOpacity":case "strokeOpacity":return[z.scale.minOpacity,z.scale.maxOpacity]}}function dj(l,P,d){var {encoding:z}=P,H=P.getScaleComponent(d);d=ya(d);const W=z[d];if("offset"===Zc({step:l,offsetIsDiscrete:Zd(W)&&Rd(W.type)})&&
Ng(z,d)){var na;z=P.getScaleComponent(d);P=P.scaleName(d);P="domain('".concat(P,"').length");if("band"===z.get("type")){var ta,cb,qb,vb;d=null!==(ta=null!==(cb=z.get("paddingInner"))&&void 0!==cb?cb:z.get("padding"))&&void 0!==ta?ta:0;ta=null!==(qb=null!==(vb=z.get("paddingOuter"))&&void 0!==vb?vb:z.get("padding"))&&void 0!==qb?qb:0;P="bandspace(".concat(P,", ").concat(d,", ").concat(ta,")")}qb=null!==(na=H.get("paddingInner"))&&void 0!==na?na:H.get("padding");l="".concat(l.step," * ").concat(P," / (1-");
H=l.concat;na=qb;na=Bc(na)?na.signal:p.stringValue(na);return{signal:H.call(l,na,")")}}return l.step}function tk(l,P){if("offset"===Zc({step:l,offsetIsDiscrete:Gd(P)}))return{step:l.step}}function Mj(l,P,d){const z="xOffset"===l?"x":"y",H=P.getScaleComponent(z).get("type"),W=P.scaleName(z);return"band"===H?(l=dk(z,P.size,P.config.view),Xc(l)&&(d=tk(l,d))?d:[0,{signal:"bandwidth('".concat(W,"')")}]):n("Cannot use ".concat(l," scale if ").concat(z," scale is not discrete."))}function dk(l,P,d){l="x"===
l?"width":"height";return(P=P[l])?P:zf(d,l)}function Vh(l,P,d,z){switch(l){case "quantile":return P.scale.quantileCount;case "quantize":return P.scale.quantizeCount;case "threshold":if(void 0!==d&&p.isArray(d))return d.length+1;lc("Domain for ".concat(z," is required for threshold scale."));return 3}}function Qg(l,P,d){const z=()=>{const H=Kc(P),W=Kc(l),na="(".concat(H," - ").concat(W,") / (").concat(d," - 1)");return"sequence(".concat(W,", ").concat(H," + ").concat(na,", ").concat(na,")")};return Bc(P)?
new Ni(z):{signal:z()}}function th(l,P,d){if(P)return Bc(P)?{signal:"".concat(P.signal," ? 0 : ").concat(th(l,!1,d))}:0;switch(l){case "bar":case "tick":return d.scale.minBandSize;case "line":case "trail":case "rule":return d.scale.minStrokeWidth;case "text":return d.scale.minFontSize;case "point":case "square":case "circle":return d.scale.minSize}throw Error(We("size",l));}function al(l,P,d,z){d={x:ck(d,"x"),y:ck(d,"y")};switch(l){case "bar":case "tick":if(void 0!==z.scale.maxBandSize)return z.scale.maxBandSize;
const H=nj(P,d,z.view);return p.isNumber(H)?H-1:new Ni(()=>"".concat(H.signal," - 1"));case "line":case "trail":case "rule":return z.scale.maxStrokeWidth;case "text":return z.scale.maxFontSize;case "point":case "square":case "circle":if(z.scale.maxSize)return z.scale.maxSize;const W=nj(P,d,z.view);return p.isNumber(W)?Math.pow(.95*W,2):new Ni(()=>"pow(".concat(.95," * ").concat(W.signal,", 2)"))}throw Error(We("size",l));}function nj(l,P,d){const z=Xc(l.width)?l.width.step:bf(d,"width"),H=Xc(l.height)?
l.height.step:bf(d,"height");return P.x||P.y?new Ni(()=>"min(".concat([P.x?P.x.signal:z,P.y?P.y.signal:H].join(", "),")")):Math.min(z,H)}function a(l,P){if(ec(l)){const na=l.component.scales,{config:ta,encoding:cb,markDef:qb,specifiedScales:vb}=l;for(const Nb of se(na)){var d=vb[Nb];const xc=na[Nb];var z=l.getScaleComponent(Nb),H=Gf(cb[Nb]),W=d[P];const od=z.get("type"),Pc=z.get("padding");z=z.get("paddingInner");const Ed=Se(od,P),Ud=ha(Nb,P);void 0!==W&&(Ed?Ud&&lc(Ud):lc(tb(od,P,Nb)));if(Ed&&void 0===
Ud)if(void 0!==W)switch(W=H.timeUnit,H=H.type,P){case "domainMax":case "domainMin":rd(d[P])||"temporal"===H||W?xc.set(P,{signal:vg(d[P],{type:H,timeUnit:W})},!0):xc.set(P,d[P],!0);break;default:xc.copyKeyFromObject(P,d)}else d=P in dm?dm[P]({model:l,channel:Nb,fieldOrDatumDef:H,scaleType:od,scalePadding:Pc,scalePaddingInner:z,domain:d.domain,domainMin:d.domainMin,domainMax:d.domainMax,markDef:qb,config:ta,hasNestedOffsetScale:Ig(cb,Nb)}):ta.scale[P],void 0!==d&&xc.set(P,d,!1)}}else T(l,P)}function u(l){if(ec(l)){const P=
l.component.scales;for(const d of uj){const z=P[d];if(!z)continue;const H=Pj(d,l);z.setWithExplicit("range",H)}}else T(l,"range")}function T(l,P){const d=l.component.scales;for(var z of l.children)"range"===P?u(z):a(z,P);for(const H of se(d)){let W;for(const na of l.children)if(z=na.component.scales[H])z=z.getWithExplicit(P),W=ff(W,z,P,"scale",eg((ta,cb)=>{switch(P){case "range":if(ta.step&&cb.step)return ta.step-cb.step}return 0}));d[H].setWithExplicit(P,W)}}function Q(l,P){const d=P.bin;if(Ta(d)){const z=
sk(l,P.field,d);return new Ni(()=>l.getSignalName(z))}if(eb(d)&&p.isObject(d)&&void 0!==d.step)return{step:d.step}}function ba(l,P,d,z,H){let W=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1;if(void 0===l){if(xa(P)){const {bandPaddingInner:na,barBandPaddingInner:ta,rectBandPaddingInner:cb,bandWithNestedOffsetPaddingInner:qb}=H;return W?qb:B(na,"bar"===d?ta:cb)}if(P in Si&&z===Xh.BAND)return H.offsetBandPaddingInner}}function Ha(l,P,d,z,H){let W=5<arguments.length&&void 0!==arguments[5]?
arguments[5]:!1;if(void 0===l)if(xa(P)){const {bandPaddingOuter:na,bandWithNestedOffsetPaddingOuter:ta}=H;if(W)return ta;if(d===Xh.BAND)return B(na,Bc(z)?{signal:"".concat(z.signal,"/2")}:z/2)}else if(P in Si){if(d===Xh.POINT)return.5;if(d===Xh.BAND)return H.offsetBandPaddingOuter}}function Va(l,P,d,z){const H=Ya(P,d,z,4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1);var {type:W}=l;if(!Sh[P])return null;if(void 0!==W){if(!ob(P,W))return W='Channel "'.concat(P,'" does not work with "').concat(W,
'" scale. We are using "').concat(H,'" scale instead.'),lc(W),H;var na;if(na=Ec(d))na=d.type,na=!(g(["ordinal","nominal"],na)?void 0===W||Gd(W):"temporal"===na?g([Xh.TIME,Xh.UTC,void 0],W):"quantitative"===na?Vk.has(W)||Cj.has(W)||void 0===W:1);return na?(W='FieldDef does not work with "'.concat(W,'" scale. We are using "').concat(H,'" scale instead.'),lc(W),H):W}return H}function Ya(l,P,d,z){switch(P.type){case "nominal":case "ordinal":var H;if(bb(l)||"discrete"===sa(l))return"shape"===l&&"ordinal"===
P.type&&lc(Za(l,"ordinal")),"ordinal";if(xa(l)||l in Si){if(g(["rect","bar","image","rule"],d.type)||z)return"band"}else if("arc"===d.type&&l in Ck)return"band";l=d[Ra(l)];return Yb(l)||xe(P)&&null!==(H=P.axis)&&void 0!==H&&H.tickBand?"band":"point";case "temporal":if(!bb(l)){if("discrete"===sa(l))return lc(Za(l,"temporal")),"ordinal";if(Ec(P)&&P.timeUnit&&af(P.timeUnit).utc)return"utc"}return"time";case "quantitative":if(bb(l)){if(Ec(P)&&Ta(P.bin))return"bin-ordinal"}else if("discrete"===sa(l))return lc(Za(l,
"quantitative")),"ordinal";return"linear";case "geojson":return}throw Error('Invalid field type "'.concat(P.type,'".'));}function wb(l){let {ignoreRange:P}=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};Rb(l);ec(l)?hk(l):vi(l);for(const d of Nf)a(l,d);P||u(l)}function Rb(l){if(ec(l)){var P=l.component;const {encoding:cb,mark:qb,markDef:vb}=l;var d={};for(var z of uj){var H=Gf(cb[z]);if(!H||qb!==Ye||"shape"!==z||"geojson"!==H.type){var W=H&&H.scale;if(z in Si){var na=oa(z);if(!Ig(cb,na)){W&&
lc("".concat(z," encoding has no scale, so specified scale is ignored."));continue}}if(H&&null!==W&&!1!==W){var ta;null!==(ta=W)&&void 0!==ta?ta:W={};na=Ig(cb,z);H=Va(W,z,H,vb,na);d[z]=new em(l.scaleName("".concat(z),!0),{value:H,explicit:W.type===H})}}}P.scales=d}else{ta=l.component;z=l.component.scales={};na={};const cb=l.component.resolve;for(const qb of l.children){Rb(qb);for(const vb of se(qb.component.scales))if(null!==(H=(W=cb.scale)[vb])&&void 0!==H?H:W[vb]=sg(vb,l),"shared"===cb.scale[vb]){const Nb=
na[vb],xc=qb.component.scales[vb].getWithExplicit("type");if(Nb){const od=Wk[Nb.value],Pc=Wk[xc.value];od===Pc||"ordinal-position"===od&&"time"===Pc||"ordinal-position"===Pc&&"time"===od?na[vb]=ff(Nb,xc,"type","scale",Gm):(cb.scale[vb]="independent",delete na[vb])}else na[vb]=xc}}for(P of se(na)){W=l.scaleName(P,!0);z[P]=new em(W,na[P]);for(d of l.children)if(H=d.component.scales[P])d.renameScale(H.get("name"),W),H.merged=!0}ta.scales=z}}function ec(l){return"unit"===(null===l||void 0===l?void 0:
l.type)}function Mc(l){return"facet"===(null===l||void 0===l?void 0:l.type)}function Wc(l){return"concat"===(null===l||void 0===l?void 0:l.type)}function ad(l){return"layer"===(null===l||void 0===l?void 0:l.type)}function Wd(l){function P(z,H){z instanceof uk&&!(z.isGenerator||"url"in z.data)&&(l.push(H),H={name:null,source:H.name,transform:[]});if(z instanceof xi)if(z.parent instanceof uk&&!H.source){var W;H.format=Object.assign({},null!==(W=H.format)&&void 0!==W?W:{},{parse:z.assembleFormatParse()});
H.transform.push(...z.assembleTransforms(!0))}else H.transform.push(...z.assembleTransforms());if(z instanceof Mk)H.name||(H.name="data_".concat(d++)),!H.source||0<H.transform.length?(l.push(H),z.data=H.name):z.data=H.source,l.push(...z.assemble());else switch((z instanceof rl||z instanceof sl||z instanceof tl||z instanceof dl||z instanceof el||z instanceof ul||z instanceof xj||z instanceof vl||z instanceof cl||z instanceof Nk||z instanceof Jl||z instanceof Kl||z instanceof Ll||z instanceof Ml||z instanceof
Nl||z instanceof Ol||z instanceof vk||z instanceof Pl||z instanceof Ql)&&H.transform.push(z.assemble()),(z instanceof Ij||z instanceof Jj||z instanceof Ok||z instanceof gk||z instanceof fl)&&H.transform.push(...z.assemble()),z instanceof wi&&(H.source&&0===H.transform.length?z.setSource(H.source):z.parent instanceof wi?z.setSource(H.name):(H.name||(H.name="data_".concat(d++)),z.setSource(H.name),1===z.numChildren()&&(l.push(H),H={name:null,source:H.name,transform:[]}))),z.numChildren()){case 0:z instanceof
wi&&(!H.source||0<H.transform.length)&&l.push(H);break;case 1:P(z.children[0],H);break;default:H.name||(H.name="data_".concat(d++));W=H.name;!H.source||0<H.transform.length?l.push(H):W=H.source;for(const na of z.children)P(na,{name:null,source:W,transform:[]})}}let d=0;return P}function Ee(l){const P=[],d=Wd(P);for(const z of l.children)d(z,{source:l.name,name:null,transform:[]});return P}function wf(l,P){const d=[];var z=Wd(d);let H=0;for(const ta of l.sources){ta.hasName()||(ta.dataName="source_".concat(H++));
const cb=ta.assemble();z(ta,cb)}for(const ta of d)0===ta.transform.length&&delete ta.transform;z=0;for(const ta of d.entries()){const [cb,qb]=ta;var W;0!==(null!==(W=qb.transform)&&void 0!==W?W:[]).length||qb.source||d.splice(z++,0,d.splice(cb,1)[0])}for(const ta of d)for(const cb of null!==(na=ta.transform)&&void 0!==na?na:[]){var na;"lookup"===cb.type&&(cb.from=l.outputNodes[cb.from].getSource())}for(const ta of d)ta.name in P&&(ta.values=P[ta.name]);return d}function zg(l,P,d){P="row"===P?"height":
"width";return{labels:d,sizeSignal:l.child.component.layoutSize.get(P)?l.child.getSizeSignalRef(P):void 0,axes:[]}}function lf(l,P){var {child:d}=l;if(d.component.axes[P]){const {layoutHeaders:H,resolve:W}=l.component;W.axis[P]=Jh(W,P);if("shared"===W.axis[P]){const na="x"===P?"column":"row",ta=H[na];for(const cb of d.component.axes[P]){var z;P=cb.get("orient");P="top"===P||"left"===P||Bc(P)?"header":"footer";null!==(z=ta[P])&&void 0!==z?z:ta[P]=[zg(l,na,!1)];(d=ni(cb,"main",l.config,{header:!0}))&&
ta[P][0].axes.push(d);cb.mainExtracted=!0}}}}function Gg(l){for(const P of l.children)P.parseLayoutSize()}function cg(l,P){const d=gh(P),z=Ua(d),H=l.component.resolve,W=l.component.layoutSize;let na;for(const cb of l.children){var ta;const qb=cb.component.layoutSize.getWithExplicit(d),vb=null!==(ta=H.scale[z])&&void 0!==ta?ta:sg(z,l);if("independent"===vb&&"step"===qb.value){na=void 0;break}if(na){if("independent"===vb&&na.value!==qb.value){na=void 0;break}na=ff(na,qb,d,"")}else na=qb}if(na){for(const cb of l.children)l.renameSignal(cb.getName(d),
l.getName(P)),cb.component.layoutSize.set(d,"merged",!1);W.setWithExplicit(P,na)}else W.setWithExplicit(P,{explicit:!1,value:void 0})}function Mg(l,P){const d=l.config;var z=l.getScaleComponent("width"===P?"x":"y");if(z)return l=z.get("type"),z=z.get("range"),Gd(l)?(P=zf(d.view,P),uc(z)||Xc(P)?"step":P):we(d.view,P);if(l.hasProjection||"arc"===l.mark)return we(d.view,P);P=zf(d.view,P);return Xc(P)?P.step:P}function tg(l,P,d){return Id(P,Object.assign({},{suffix:"by_".concat(Id(l))},null!==d&&void 0!==
d?d:{}))}function Of(l,P){for(const ta of P){var d,z,H,W;P=ta.data;if(l.name&&ta.hasName()&&l.name!==ta.dataName)continue;const cb=null===(d=l.format)||void 0===d?void 0:d.mesh;var na=null===(z=P.format)||void 0===z?void 0:z.feature;if(cb&&na)continue;const qb=null===(H=l.format)||void 0===H?void 0:H.feature;if(!qb&&!na||qb===na)if(na=null===(W=P.format)||void 0===W?void 0:W.mesh,!cb&&!na||cb===na)if("values"in l&&"values"in P){if(gi(l.values,P.values))return ta}else if("url"in l&&"url"in P){if(l.url===
P.url)return ta}else if(Da(l)&&l.name===ta.dataName)return ta}return null}function Vg(l,P){if(l.data||!l.parent){if(null===l.data)return l=new uk({values:[]}),P.push(l),l;const d=Of(l.data,P);if(d)return ab(l.data)||(d.data.format=x({},l.data.format,d.data.format)),!d.hasName()&&l.data.name&&(d.dataName=l.data.name),d;l=new uk(l.data);P.push(l);return l}return l.parent.component.data.facetRoot?l.parent.component.data.facetRoot:l.parent.component.data.main}function hg(l){var P,d,z,H=Vg(l,l.component.data.sources);
const {outputNodes:W,outputNodeRefCounts:na}=l.component.data,ta=l.data,cb=ta&&(ab(ta)||"url"in ta||"values"in ta)||!l.parent?new ag:l.parent.component.data.ancestorParse.clone();ab(ta)?("sequence"in ta?H=new sl(H,ta.sequence):"graticule"in ta&&(H=new rl(H,ta.graticule)),cb.parseNothing=!0):null===(null===ta||void 0===ta?void 0:null===(P=ta.format)||void 0===P?void 0:P.parse)&&(cb.parseNothing=!0);H=null!==(d=xi.makeExplicit(H,l,cb))&&void 0!==d?d:H;H=new vk(H);P=l.parent&&ad(l.parent);if((ec(l)||
Mc(l))&&P){var qb;H=null!==(qb=Ij.makeFromEncoding(H,l))&&void 0!==qb?qb:H}if(0<l.transforms.length){qb=0;for(const Ke of l.transforms){var vb=d=void 0;if("calculate"in Ke)vb=H=new el(H,Ke),d="derived";else if("filter"in Ke){var Nb;vb=aj(Ke);vb=H=null!==(Nb=xi.makeWithAncestors(H,{},vb,cb))&&void 0!==Nb?Nb:H;H=new dl(H,l,Ke.filter)}else if("bin"in Ke)vb=H=Ij.makeFromTransform(H,Ke,l),d="number";else if("timeUnit"in Ke)d="date",void 0===cb.getWithExplicit(Ke.field).value&&(H=new xi(H,{[Ke.field]:d}),
cb.set(Ke.field,d,!1)),vb=H=Jj.makeFromTransform(H,Ke);else if("aggregate"in Ke)vb=H=xj.makeFromTransform(H,Ke),d="number",Zf(l)&&(H=new vk(H));else if("lookup"in Ke)vb=H=vl.make(H,l,Ke,qb++),d="derived";else if("window"in Ke)vb=H=new cl(H,Ke),d="number";else if("joinaggregate"in Ke)vb=H=new Nk(H,Ke),d="number";else if("stack"in Ke)vb=H=gk.makeFromTransform(H,Ke),d="derived";else if("fold"in Ke)vb=H=new Jl(H,Ke),d="derived";else if("flatten"in Ke)vb=H=new Kl(H,Ke),d="derived";else if("pivot"in Ke)vb=
H=new Ql(H,Ke),d="derived";else if("sample"in Ke)H=new Pl(H,Ke);else if("impute"in Ke)vb=H=Ok.makeFromTransform(H,Ke),d="derived";else if("density"in Ke)vb=H=new Ll(H,Ke),d="derived";else if("quantile"in Ke)vb=H=new Nl(H,Ke),d="derived";else if("regression"in Ke)vb=H=new Ol(H,Ke),d="derived";else if("loess"in Ke)vb=H=new Ml(H,Ke),d="derived";else{lc("Ignoring an invalid transform: ".concat(hh(Ke),"."));continue}if(vb&&void 0!==d)for(const Yf of null!==(xc=vb.producedFields())&&void 0!==xc?xc:[]){var xc;
cb.set(Yf,d,!1)}}}Nb={};if(ec(l)&&l.component.selection)for(var od of se(l.component.selection)){xc=l.component.selection[od];for(const Ke of xc.project.items)!Ke.channel&&1<D(Ke.field)&&(Nb[Ke.field]="flatten")}od=bj(l);H=null!==(z=xi.makeWithAncestors(H,{},Object.assign({},Nb,od),cb))&&void 0!==z?z:H;ec(l)&&(H=fl.parseAll(H,l),H=ul.parseAll(H,l));if(ec(l)||Mc(l)){var Pc;if(!P){var Ed;H=null!==(Ed=Ij.makeFromEncoding(H,l))&&void 0!==Ed?Ed:H}H=null!==(Pc=Jj.makeFromEncoding(H,l))&&void 0!==Pc?Pc:
H;H=el.parseAllForSortIndex(H,l)}Pc=l.getDataName(Hg.Raw);z=new wi(H,Pc,Hg.Raw,na);H=W[Pc]=z;if(ec(l)){var Ud,pe;if(Pc=xj.makeFromEncoding(H,l))H=Pc,Zf(l)&&(H=new vk(H));H=null!==(Ud=Ok.makeFromEncoding(H,l))&&void 0!==Ud?Ud:H;H=null!==(pe=gk.makeFromEncoding(H,l))&&void 0!==pe?pe:H}if(ec(l)){var Ie;H=null!==(Ie=tl.make(H,l))&&void 0!==Ie?Ie:H}pe=l.getDataName(Hg.Main);Ud=new wi(H,pe,Hg.Main,na);H=W[pe]=Ud;if(ec(l))for(var je of kj(null!==(Fe=l.component.selection)&&void 0!==Fe?Fe:{})){const [Ke,
Yf]=je;var Fe;Fe=l.getName("lookup_".concat(Ke));l.component.data.outputNodes[Fe]=Yf.materialized=new wi(new dl(Ud,l,{param:Ke}),Fe,Hg.Lookup,l.component.data.outputNodeRefCounts)}Fe=null;if(Mc(l)){var cf;je=l.getName("facet");{Fe=H;const {row:Ke,column:Yf}=l.facet;if(Ke&&Yf){pe=null;for(Ue of[Ke,Yf])if(fa(Ue.sort)){const {field:kh,op:kg="min"}=Ue.sort;Fe=pe=new Nk(Fe,{joinaggregate:[{op:kg,field:kh,as:tg(Ue,Ue.sort,{forAs:!0})}],groupby:[Id(Ue)]})}var Ue=pe}else Ue=null}H=null!==(cf=Ue)&&void 0!==
cf?cf:H;Fe=new Mk(H,l,je,Ud.getSource());W[je]=Fe}return Object.assign({},l.component.data,{outputNodes:W,outputNodeRefCounts:na,raw:z,main:Ud,facetRoot:Fe,ancestorParse:cb})}function pg(l,P,d){var z;const {encoding:H,config:W}=l,na=null!==(z=Gf(H[P]))&&void 0!==z?z:Gf(H[Fa(P)]);l=l.axis(P)||{};const {format:ta,formatType:cb}=l;if(Od(cb))return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:ta,formatType:cb,config:W})},d);if(void 0===ta&&void 0===cb&&W.customFormatTypes){if("quantitative"===
Fd(na)){if(xe(na)&&"normalize"===na.stack&&W.normalizedNumberFormatType)return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:W.normalizedNumberFormat,formatType:W.normalizedNumberFormatType,config:W})},d);if(W.numberFormatType)return Object.assign({},{text:wc({fieldOrDatumDef:na,field:"datum.value",format:W.numberFormat,formatType:W.numberFormatType,config:W})},d)}if("temporal"===Fd(na)&&W.timeFormatType&&Ec(na)&&!na.timeUnit)return Object.assign({},{text:wc({fieldOrDatumDef:na,
field:"datum.value",format:W.timeFormat,formatType:W.timeFormatType,config:W})},d)}return d}function Kh(l){return Wh.reduce((P,d)=>{l.component.scales[d]&&(P[d]=[Wi(d,l)]);return P},{})}function Ph(l,P){if(l){if(l.length!==P.length)return;const d=l.length;for(let z=0;z<d;z++){const H=l[z],W=P[z];if(!!H!==!!W)return;if(H&&W){const na=H.getWithExplicit("orient"),ta=W.getWithExplicit("orient");if(na.explicit&&ta.explicit&&na.value!==ta.value)return;l[z]=bi(H,W)}}}else return P.map(d=>d.clone());return l}
function bi(l,P){for(const d of fm){const z=ff(l.getWithExplicit(d),P.getWithExplicit(d),d,"axis",(H,W)=>{switch(d){case "title":return jb(H,W);case "gridScale":return{explicit:H.explicit,value:B(H.value,W.value)}}return fg(H,W,d,"axis")});l.setWithExplicit(d,z)}return l}function Li(l,P,d,z,H){if("disable"===P)return void 0!==d;d=d||{};switch(P){case "titleAngle":case "labelAngle":return l===(Bc(d.labelAngle)?d.labelAngle:qa(d.labelAngle));case "values":return!!d.values;case "encode":return!!d.encoding||
!!d.labelAngle;case "title":if(l===hd(z,H))return!0}return l===d[P]}function Wi(l,P){var d,z,H,W,na;let ta=P.axis(l);const cb=new gm;var qb=Gf(P.encoding[l]);const {mark:vb,config:Nb}=P;var xc=(null===(d=ta)||void 0===d?void 0:d.orient)||(null===(z=Nb["x"===l?"axisX":"axisY"])||void 0===z?void 0:z.orient)||(null===(H=Nb.axis)||void 0===H?void 0:H.orient)||("x"===l?"bottom":"left");z=P.getScaleComponent(l).get("type");d=Na(l,z,xc,P.config);H=void 0!==ta?!ta:ub("disable",Nb.style,null===(W=ta)||void 0===
W?void 0:W.style,d).configValue;cb.set("disable",H,void 0!==ta);if(H)return cb;ta=ta||{};W=Zb(qb,ta,l,Nb.style,d);qb={fieldOrDatumDef:qb,axis:ta,channel:l,model:P,scaleType:z,orient:xc,labelAngle:W,mark:vb,config:Nb};for(const Pc of fm)if(xc=Pc in hm?hm[Pc](qb):ok[Pc]?ta[Pc]:void 0,W=void 0!==xc,z=Li(xc,Pc,ta,P,l),W&&z)cb.set(Pc,xc,z);else{const {configValue:Ed,configFrom:Ud}=ok[Pc]&&"values"!==Pc?ub(Pc,Nb.style,ta.style,d):{};H=void 0!==Ed;W&&!H?cb.set(Pc,xc,z):("vgAxisConfig"!==Ud||Hm.has(Pc)&&
H||Xf(Ed)||Bc(Ed))&&cb.set(Pc,Ed,!1)}const od=null!==(na=ta.encoding)&&void 0!==na?na:{};na=Gk.reduce((Pc,Ed)=>{var Ud;if(!cb.hasAxisPart(Ed))return Pc;const pe=nf(null!==(Ud=od[Ed])&&void 0!==Ud?Ud:{},P);Ud="labels"===Ed?pg(P,l,pe):pe;void 0===Ud||r(Ud)||(Pc[Ed]={update:Ud});return Pc},{});r(na)||cb.set("encode",na,!!ta.encoding||void 0!==ta.labelAngle);return cb}function qk(l){let {encoding:P,size:d}=l;for(const z of Wh)l=Ra(z),Xc(d[l])&&fe(P[z])&&(delete d[l],lc(Jb(l)));return d}function bl(l,
P,d){l=$b(l);var z=Sc("orient",l,d);l.orient=oj(l.type,P,z);void 0!==z&&z!==l.orient&&(z='Specified orient "'.concat(l.orient,'" overridden with "').concat(z,'".'),lc(z));if("bar"===l.type&&l.orient&&(z=Sc("cornerRadiusEnd",l,d),void 0!==z)){const W="horizontal"===l.orient&&P.x2||"vertical"===l.orient&&P.y2?["cornerRadius"]:rk[l.orient];for(var H of W)l[H]=z;void 0!==l.cornerRadiusEnd&&delete l.cornerRadiusEnd}void 0===Sc("opacity",l,d)&&(H=g([Bj,pk,nk,lk],l.type)&&!Jg(P)?.7:void 0,l.opacity=H);void 0===
Sc("cursor",l,d)&&(P=P.href||l.href||Sc("href",l,d)?"pointer":l.cursor,l.cursor=P);return l}function Jk(l,P,d){({graticule:d}=d);if(d)return!1;P=jd("filled",l,P);l=l.type;return B(P,l!==Bj&&l!==Gh&&l!==tj)}function oj(l,P,d){switch(l){case Bj:case nk:case lk:case Aj:case Xj:case Zk:return}const {x:z,y:H,x2:W,y2:na}=P;switch(l){case Xi:if(Ec(z)&&(eb(z.bin)||Ec(H)&&H.aggregate&&!z.aggregate))break;if(Ec(H)&&(eb(H.bin)||Ec(z)&&z.aggregate&&!H.aggregate))return"horizontal";if(na||W){if(d)return d;if(!W&&
(Ec(z)&&"quantitative"===z.type&&!Ta(z.bin)||Ae(z)))return"horizontal";if(!na&&(Ec(H)&&"quantitative"===H.type&&!Ta(H.bin)||Ae(H)))break}case tj:if(!(!W||Ec(z)&&eb(z.bin)||!na||Ec(H)&&eb(H.bin)))return;case Mh:if(na){if(Ec(H)&&eb(H.bin))return"horizontal";break}else if(W)if(Ec(z)&&eb(z.bin))break;else return"horizontal";else if(l===tj)if(z&&!H)break;else if(H&&!z)return"horizontal";case Gh:case pk:P=fe(z);const ta=fe(H);if(d)return d;if(P&&!ta)return"tick"!==l?"horizontal":"vertical";if(!P&&ta)return"tick"!==
l?"vertical":"horizontal";if(P&&ta){d="temporal"===z.type;P="temporal"===H.type;if(d&&!P)return"tick"!==l?"vertical":"horizontal";if(!d&&P)return"tick"!==l?"horizontal":"vertical";if(!z.aggregate&&H.aggregate)return"tick"!==l?"vertical":"horizontal";if(z.aggregate&&!H.aggregate)return"tick"!==l?"horizontal":"vertical"}else return}return"vertical"}function Qj(l,P){var d=Object,z=d.assign,H=Lg(l,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),W=He("x",
l,{defaultPos:"mid"}),na=He("y",l,{defaultPos:"mid"}),ta=Ze("size",l),cb=Ze("angle",l);l=P?{shape:{value:P}}:Ze("shape",l);return z.call(d,{},H,W,na,ta,cb,l)}function Oj(l){if(g([Gh,Mh,Yk],l.mark)){var P=uf(l.mark,l.encoding);if(0<P.length)return jl(l,P)}else if(l.mark===Xi&&(P=Uh.some(d=>Sc(d,l.markDef,l.config)),l.stack&&!l.fieldDef("size")&&P))return Pk(l);return Ri(l)}function jl(l,P){return[{name:l.getName("pathgroup"),type:"group",from:{facet:{name:"faceted_path_"+l.requestDataName(Hg.Main),
data:l.requestDataName(Hg.Main),groupby:P}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:Ri(l,{fromPrefix:"faceted_path_"})}]}function Pk(l){var P;const [d]=Ri(l,{fromPrefix:"stack_group_"}),z=l.scaleName(l.stack.fieldChannel),H=function(){return l.vgField(l.stack.fieldChannel,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})};var W=(qb,vb)=>{vb=[H({prefix:"min",suffix:"start",expr:vb}),H({prefix:"max",suffix:"start",expr:vb}),H({prefix:"min",suffix:"end",
expr:vb}),H({prefix:"max",suffix:"end",expr:vb})];return"".concat(qb,"(").concat(vb.map(Nb=>"scale('".concat(z,"',").concat(Nb,")")).join(","),")")};let na;"x"===l.stack.fieldChannel?(W=Object.assign({},f(d.encode.update,["y","yc","y2","height",...Uh]),{x:{signal:W("min","datum")},x2:{signal:W("max","datum")},clip:{value:!0}}),na={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},d.encode.update=Object.assign({},b(d.encode.update,["y","yc","y2"]),{height:{field:{group:"height"}}})):(W=
Object.assign({},f(d.encode.update,["x","xc","x2","width"]),{y:{signal:W("min","datum")},y2:{signal:W("max","datum")},clip:{value:!0}}),na={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},d.encode.update=Object.assign({},b(d.encode.update,["x","xc","x2"]),{width:{field:{group:"width"}}}));for(var ta of Uh){var cb=jd(ta,l.markDef,l.config);d.encode.update[ta]?(W[ta]=d.encode.update[ta],delete d.encode.update[ta]):cb&&(W[ta]=Wb(cb));cb&&(d.encode.update[ta]={value:0})}ta=[];if(0<(null===
(P=l.stack.groupbyChannels)||void 0===P?void 0:P.length))for(const qb of l.stack.groupbyChannels)P=l.fieldDef(qb),(cb=Id(P))&&ta.push(cb),(null!==P&&void 0!==P&&P.bin||null!==P&&void 0!==P&&P.timeUnit)&&ta.push(Id(P,{binSuffix:"end"}));W="stroke strokeWidth strokeJoin strokeCap strokeDash strokeDashOffset strokeMiterLimit strokeOpacity".split(" ").reduce((qb,vb)=>{if(d.encode.update[vb])return Object.assign({},qb,{[vb]:d.encode.update[vb]});const Nb=jd(vb,l.markDef,l.config);return void 0!==Nb?Object.assign({},
qb,{[vb]:Wb(Nb)}):qb},W);W.stroke&&(W.strokeForeground={value:!0},W.strokeOffset={value:0});return[{type:"group",from:{facet:{data:l.requestDataName(Hg.Main),name:"stack_group_"+l.requestDataName(Hg.Main),groupby:ta,aggregate:{fields:[H({suffix:"start"}),H({suffix:"start"}),H({suffix:"end"}),H({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:W},marks:[{type:"group",encode:{update:na},marks:[d]}]}]}function Rj(l){const {encoding:P,stack:d,mark:z,markDef:H,config:W}=l;var na=P.order;
if(!(!p.isArray(na)&&Kd(na)&&e(na.value)||!na&&e(Sc("order",H,W)))){if((p.isArray(na)||Ec(na))&&!d)return va(na,{expr:"datum"});if(Ea(z)){const cb="horizontal"===H.orient?"y":"x",qb=P[cb];if(Ec(qb)){na=qb.sort;if(p.isArray(na))return{field:Id(qb,{prefix:cb,suffix:"sort_index",expr:"datum"})};if(fa(na))return{field:Id({aggregate:Jg(l.encoding)?na.op:void 0,field:na.field},{expr:"datum"})};if(bc(na))return l=l.fieldDef(na.encoding),{field:Id(l,{expr:"datum"}),order:na.order};if(null!==na){var ta;return{field:Id(qb,
{binSuffix:null!==(ta=l.stack)&&void 0!==ta&&ta.impute?"mid":void 0,expr:"datum"})}}}}}}function Ri(l){let P=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{fromPrefix:""};const {mark:d,markDef:z,encoding:H,config:W}=l;var na=z.clip;var ta=l.getScaleComponent("x");var cb=l.getScaleComponent("y");ta=null!==ta&&void 0!==ta&&ta.get("selectionExtent")||null!==cb&&void 0!==cb&&cb.get("selectionExtent")?!0:void 0;cb=l.component.projection;na=B(na,ta,cb&&!cb.isFit?!0:void 0);ta=Fc(z);cb=H.key;const qb=
Rj(l);var vb;if(l.component.selection){for(var Nb=vb=se(l.component.selection).length,xc=l.parent;xc&&0===Nb;)Nb=se(xc.component.selection).length,xc=xc.parent;vb=Nb?{interactive:0<vb||!!l.encoding.tooltip}:null}else vb=null;Nb=Sc("aria",z,W);xc=wl[d].postEncodingTransform?wl[d].postEncodingTransform(l):null;return[Object.assign({},{name:l.getName("marks"),type:wl[d].vgMark},na?{clip:!0}:{},ta?{style:ta}:{},cb?{key:cb.field}:{},qb?{sort:qb}:{},vb?vb:{},!1===Nb?{aria:Nb}:{},{from:{data:P.fromPrefix+
l.requestDataName(Hg.Main)},encode:{update:wl[d].encodeEntry(l)}},xc?{transform:xc}:{})]}function Qh(l,P,d,z,H){if("facet"in l)return new xl(l,P,d,H);if("layer"in l)return new im(l,P,d,z,H);if(Tg(l))return new jm(l,P,d,z,H);if("vconcat"in l||"hconcat"in l||"concat"in l)return new Im(l,P,d,H);throw Error(Vb(l));}function pi(l,P){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};let z=3<arguments.length?arguments[3]:void 0;const H=l.config?qg(l.config):void 0;d=[].concat(l.assembleSelectionData([]),
wf(l.component.data,d));const W=l.assembleProjections(),na=l.assembleTitle(),ta=l.assembleGroupStyle(),cb=l.assembleGroupEncodeEntry(!0);let qb=l.assembleLayoutSignals();qb=qb.filter(xc=>"width"!==xc.name&&"height"!==xc.name||void 0===xc.value?!0:(P[xc.name]=+xc.value,!1));var vb=Object.assign({},P);const Nb=P.params;vb=(delete vb.params,vb);return Object.assign({},{$schema:"https://vega.github.io/schema/vega/v5.json"},l.description?{description:l.description}:{},vb,na?{title:na}:{},ta?{style:ta}:
{},cb?{encode:{update:cb}}:{},{data:d},0<W.length?{projections:W}:{},l.assembleGroup([...qb,...l.assembleSelectionTopLevelSignals([]),...Cc(Nb)]),H?{config:H}:{},z?{usermeta:z}:{})}Array.prototype.flat||Object.defineProperty(Array.prototype,"flat",{configurable:!0,value:function d(P){var z=isNaN(P)?1:Number(P);return z?Array.prototype.reduce.call(this,function(H,W){return Array.isArray(W)?H.push.apply(H,d.call(W,z-1)):H.push(W),H},[]):Array.prototype.slice.call(this)},writable:!0});Array.prototype.flatMap||
Object.defineProperty(Array.prototype,"flatMap",{configurable:!0,value:function(P){return Array.prototype.map.apply(this,arguments).flat()},writable:!0});var pj={exports:{}};(function(P){var d=function(){function z(vb,Nb){return null!=Nb&&vb instanceof Nb}function H(vb,Nb,xc,od,Pc){function Ed(je,Fe){if(null===je)return null;if(0===Fe||"object"!=typeof je)return je;if(z(je,ta))var cf=new ta;else if(z(je,cb))cf=new cb;else if(z(je,qb))cf=new qb(function(kg,ki){je.then(function(Mi){kg(Ed(Mi,Fe-1))},
function(Mi){ki(Ed(Mi,Fe-1))})});else if(H.__isArray(je))cf=[];else if(H.__isRegExp(je))cf=new RegExp(je.source,na(je)),je.lastIndex&&(cf.lastIndex=je.lastIndex);else if(H.__isDate(je))cf=new Date(je.getTime());else{if(Ie&&w.isBuffer(je))return cf=w.allocUnsafe?w.allocUnsafe(je.length):new w(je.length),je.copy(cf),cf;if(z(je,Error))cf=Object.create(je);else if("undefined"==typeof od){var Ue=Object.getPrototypeOf(je);cf=Object.create(Ue)}else cf=Object.create(od),Ue=od}if(Nb){var Ke=Ud.indexOf(je);
if(-1!=Ke)return pe[Ke];Ud.push(je);pe.push(cf)}z(je,ta)&&je.forEach(function(kg,ki){ki=Ed(ki,Fe-1);kg=Ed(kg,Fe-1);cf.set(ki,kg)});z(je,cb)&&je.forEach(function(kg){kg=Ed(kg,Fe-1);cf.add(kg)});for(var Yf in je){var kh;Ue&&(kh=Object.getOwnPropertyDescriptor(Ue,Yf));kh&&null==kh.set||(cf[Yf]=Ed(je[Yf],Fe-1))}if(Object.getOwnPropertySymbols)for(Ke=Object.getOwnPropertySymbols(je),Yf=0;Yf<Ke.length;Yf++)if(kh=Ke[Yf],Ue=Object.getOwnPropertyDescriptor(je,kh),!Ue||Ue.enumerable||Pc)cf[kh]=Ed(je[kh],Fe-
1),Ue.enumerable||Object.defineProperty(cf,kh,{enumerable:!1});if(Pc)for(Ke=Object.getOwnPropertyNames(je),Yf=0;Yf<Ke.length;Yf++)kh=Ke[Yf],Ue=Object.getOwnPropertyDescriptor(je,kh),Ue&&Ue.enumerable||(cf[kh]=Ed(je[kh],Fe-1),Object.defineProperty(cf,kh,{enumerable:!1}));return cf}"object"===typeof Nb&&(xc=Nb.depth,od=Nb.prototype,Pc=Nb.includeNonEnumerable,Nb=Nb.circular);var Ud=[],pe=[],Ie="undefined"!=typeof w;"undefined"==typeof Nb&&(Nb=!0);"undefined"==typeof xc&&(xc=Infinity);return Ed(vb,xc)}
function W(vb){return Object.prototype.toString.call(vb)}function na(vb){var Nb="";vb.global&&(Nb+="g");vb.ignoreCase&&(Nb+="i");vb.multiline&&(Nb+="m");return Nb}try{var ta=Map}catch(vb){ta=function(){}}try{var cb=Set}catch(vb){cb=function(){}}try{var qb=Promise}catch(vb){qb=function(){}}H.clonePrototype=function(vb){if(null===vb)return null;var Nb=function(){};Nb.prototype=vb;return new Nb};H.__objToStr=W;H.__isDate=function(vb){return"object"===typeof vb&&"[object Date]"===W(vb)};H.__isArray=function(vb){return"object"===
typeof vb&&"[object Array]"===W(vb)};H.__isRegExp=function(vb){return"object"===typeof vb&&"[object RegExp]"===W(vb)};H.__getRegExpFlags=na;return H}();P.exports&&(P.exports=d)})(pj);var mk=function(P,d){d||(d={});"function"===typeof d&&(d={cmp:d});var z="boolean"===typeof d.cycles?d.cycles:!1,H=d.cmp&&function(na){return function(ta){return function(cb,qb){return na({key:cb,value:ta[cb]},{key:qb,value:ta[qb]})}}}(d.cmp),W=[];return function cb(ta){ta&&ta.toJSON&&"function"===typeof ta.toJSON&&(ta=
ta.toJSON());if(void 0!==ta){if("number"==typeof ta)return isFinite(ta)?""+ta:"null";if("object"!==typeof ta)return JSON.stringify(ta);var qb;if(Array.isArray(ta)){var vb="[";for(qb=0;qb<ta.length;qb++)qb&&(vb+=","),vb+=cb(ta[qb])||"null";return vb+"]"}if(null===ta)return"null";if(-1!==W.indexOf(ta)){if(z)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Nb=W.push(ta)-1,xc=Object.keys(ta).sort(H&&H(ta));vb="";for(qb=0;qb<xc.length;qb++){var od=xc[qb],
Pc=cb(ta[od]);Pc&&(vb&&(vb+=","),vb+=JSON.stringify(od)+":"+Pc)}W.splice(Nb,1);return"{"+vb+"}"}}(P)};const gi=function H(d,z){if(d===z)return!0;if(d&&z&&"object"==typeof d&&"object"==typeof z){if(d.constructor!==z.constructor)return!1;var W;if(Array.isArray(d)){var na=d.length;if(na!=z.length)return!1;for(W=na;0!==W--;)if(!H(d[W],z[W]))return!1;return!0}if(d.constructor===RegExp)return d.source===z.source&&d.flags===z.flags;if(d.valueOf!==Object.prototype.valueOf)return d.valueOf()===z.valueOf();
if(d.toString!==Object.prototype.toString)return d.toString()===z.toString();var ta=Object.keys(d);na=ta.length;if(na!==Object.keys(z).length)return!1;for(W=na;0!==W--;)if(!Object.prototype.hasOwnProperty.call(z,ta[W]))return!1;for(W=na;0!==W--;)if(na=ta[W],!H(d[na],z[na]))return!1;return!0}return d!==d&&z!==z},Wf=pj.exports;Set.prototype.toJSON=function(){return"Set(".concat([...this].map(d=>mk(d)).join(","),")")};const hh=mk,se=Object.keys,hi=Object.values,kj=Object.entries;let Kk=42;const Qk={theta:1,
theta2:1,radius:1,radius2:1},Sj={longitude:1,longitude2:1,latitude:1,latitude2:1},kl=se(Sj),zk=Object.assign({},{x:1,y:1,x2:1,y2:1},Qk,Sj,{xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1}),Rk={row:1,column:1,facet:1},ui=se(Rk),Zj=Object.assign({},zk,Rk),Fl=se(Zj);var Ai=Object.assign({},Zj),Ak=(delete Ai.order,delete Ai.detail,delete Ai.tooltip,Ai),
Tj=Object.assign({},Ak);const nl=(delete Tj.row,delete Tj.column,delete Tj.facet,Tj),fi="x2 y2 latitude2 longitude2 theta2 radius2".split(" "),Cl=se(zk);var Rh=Object.assign({},zk);const qj=(delete Rh.x,delete Rh.y,delete Rh.x2,delete Rh.y2,delete Rh.xOffset,delete Rh.yOffset,delete Rh.latitude,delete Rh.longitude,delete Rh.latitude2,delete Rh.longitude2,delete Rh.theta,delete Rh.theta2,delete Rh.radius,delete Rh.radius2,Rh),sj=se(qj),rj={x:1,y:1},Wh=se(rj),Ck={theta:1,radius:1},Bk=se(Ck),Si={xOffset:1,
yOffset:1};var Di=Object.assign({},qj);const Sk=(delete Di.text,delete Di.tooltip,delete Di.href,delete Di.url,delete Di.description,delete Di.detail,delete Di.key,delete Di.order,Di),ik=se(Sk),Sh=Object.assign({},rj,Ck,Si,Sk),uj=se(Sh),Uj={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"};var Bh=Object.assign({},Uj);const Ji=(delete Bh.geoshape,
Bh),Ti={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Bi={count:1,min:1,max:1},Vj=new Set(["count","valid","missing","distinct"]),kk=new Set(["count","sum","distinct","valid","missing"]),Ci=new Set("mean average median q1 q3 min max".split(" ")),jk=se({aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,
strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,
aspect:1,width:1,height:1,url:1,smooth:1}),uh={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},Uh=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],Th=p.logger(p.Warn);let zj=Th;const Wj="january february march april may june july august september october november december".split(" "),Dk=Wj.map(d=>d.substr(0,3)),ll="sunday monday tuesday wednesday thursday friday saturday".split(" "),Al=ll.map(d=>
d.substr(0,3)),ml={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},Tk=se(ml),Ii={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "},Xh={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},Wk={linear:"numeric",log:"numeric",pow:"numeric",
sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},Uk={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0},Vk=new Set(["linear","log","pow","sqrt","symlog"]),Ei=new Set([...Vk,"time","utc"]),
Cj=new Set(["quantile","quantize","threshold"]),Bl=new Set([...Ei,...Cj,"sequential","identity"]),Dl=new Set(["ordinal","bin-ordinal","point","band"]);var Vi=Object.assign({},{type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1});const $k=(delete Vi.type,delete Vi.domain,delete Vi.range,delete Vi.rangeMax,delete Vi.rangeMin,
delete Vi.scheme,Vi),Nf=se($k),ah={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Hh=ah.arc,Mh=ah.area,Xi=ah.bar,Zk=ah.image,Gh=ah.line,Bj=ah.point,Xj=ah.rect,tj=ah.rule,Aj=ah.text,pk=ah.tick,Yk=ah.trail,nk=ah.circle,lk=ah.square,Ye=ah.geoshape,Ek=new Set(se(ah)),Xk="stroke strokeWidth strokeDash strokeDashOffset strokeOpacity strokeJoin strokeMiterLimit fill fillOpacity".split(" "),
Ki=se({color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1}),ej=se({mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1}),rk={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},bk={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1},Hk=(d,z)=>{switch(z.fieldTitle){case "plain":return d.field;
case "functional":{const {aggregate:H,bin:W,timeUnit:na,field:ta}=d;ja(H)?d="".concat(ta," for argmax(").concat(H.argmax,")"):Oa(H)?d="".concat(ta," for argmin(").concat(H.argmin,")"):(d=af(na),d=(d=H||(null===d||void 0===d?void 0:d.unit)||(null===d||void 0===d?void 0:d.maxbins)&&"timeunit"||Ta(W)&&"bin")?"".concat(d.toUpperCase(),"(").concat(ta,")"):ta)}return d;default:return Af(d,z)}};let Ej=Hk;const qi={compatible:!0},Yj={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",
vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},
gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}},Gk=["domain","grid","labels","ticks","title"],Fk={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",
aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",
labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",
titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},Ui={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,
labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,
titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},ok=Object.assign({},Ui,{style:1,labelExpr:1,encoding:1}),ak=se({axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,
axisYQuantitative:1,axisYTemporal:1});class Dj{constructor(d,z){this.name=d;this.run=z}hasMatchingType(d){return Tg(d)?(d=d.mark,(Ib(d)?d.type:d)===this.name):!1}}const El=new Dj("boxplot",rh),zl=new Dj("errorbar",vh),hl=new Dj("errorband",da),il={};La("boxplot",rh,["box","median","outliers","rule","ticks"]);La("errorbar",vh,["ticks","rule"]);La("errorband",da,["band","borders"]);const yl=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength",
"unselectedOpacity"],ol={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},ek={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",
labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},Gl=se(ol),Lk=se(ek),v=se({header:1,headerRow:1,headerColumn:1,headerFacet:1}),E="size shape fill stroke strokeDash strokeWidth opacity".split(" "),V=se({align:1,bounds:1,center:1,columns:1,spacing:1}),Pa={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:{continuousWidth:200,continuousHeight:200,step:20},mark:{color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},arc:{},
area:{},bar:{binSpacing:1,continuousBandSize:5,timeUnitBandPosition:.5},circle:{},geoshape:{},image:{},line:{},point:{},rect:{binSpacing:0,continuousBandSize:5,timeUnitBandPosition:.5},rule:{color:"black"},square:{},text:{color:"black"},tick:{thickness:1},trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:{pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,
bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4},projection:{},legend:{gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:{point:{on:"click",
fields:["_vgsid_"],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[mousedown, window:mouseup] \x3e window:mousemove!",encodings:["x","y"],translate:"[mousedown, window:mouseup] \x3e window:mousemove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}},style:{},title:{},facet:{spacing:20},concat:{spacing:20},normalizedNumberFormat:".0%"},hb="#4c78a8 #f58518 #e45756 #72b7b2 #54a24b #eeca3b #b279a2 #ff9da6 #9d755d #bab0ac".split(" "),
Eb={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},cc={blue:hb[0],orange:hb[1],red:hb[2],teal:hb[3],green:hb[4],yellow:hb[5],purple:hb[6],pink:hb[7],brown:hb[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"},vc=[...ej,...ak,...v,"background","padding","legend","lineBreak","scale","style","title","view"],cd=new Set(["view",
...Ek]),Qd="color fontSize background padding facet concat numberFormat numberFormatType normalizedNumberFormat normalizedNumberFormatType timeFormat countTitle header axisQuantitative axisTemporal axisDiscrete axisPoint axisXBand axisXPoint axisXDiscrete axisXQuantitative axisXTemporal axisYBand axisYPoint axisYDiscrete axisYQuantitative axisYTemporal scale selection overlay".split(" "),Xe=Object.assign({},{view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"]},{area:["line",
"point"],bar:["binSpacing","continuousBandSize","discreteBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize"],line:["point"],tick:["bandSize","thickness"]});class If{map(d,z){return"facet"in d?this.mapFacet(d,z):"repeat"in d?this.mapRepeat(d,z):"hconcat"in d?this.mapHConcat(d,z):"vconcat"in d?this.mapVConcat(d,z):"concat"in d?this.mapConcat(d,z):this.mapLayerOrUnit(d,z)}mapLayerOrUnit(d,z){if("layer"in d)return this.mapLayer(d,z);if(Tg(d))return this.mapUnit(d,z);throw Error(Vb(d));
}mapLayer(d,z){return Object.assign({},d,{layer:d.layer.map(H=>this.mapLayerOrUnit(H,z))})}mapHConcat(d,z){return Object.assign({},d,{hconcat:d.hconcat.map(H=>this.map(H,z))})}mapVConcat(d,z){return Object.assign({},d,{vconcat:d.vconcat.map(H=>this.map(H,z))})}mapConcat(d,z){var H=Object.assign({},d);d=d.concat;H=(delete H.concat,H);return Object.assign({},H,{concat:d.map(W=>this.map(W,z))})}mapFacet(d,z){return Object.assign({},d,{spec:this.map(d.spec,z)})}mapRepeat(d,z){return Object.assign({},
d,{spec:this.map(d.spec,z)})}}const me={zero:1,center:1,normalize:1},rf=new Set([Hh,Xi,Mh,tj,Bj,nk,lk,Gh,Aj,pk]),Kf=new Set([Xi,Mh,Hh]);class Ef{constructor(){yb(this,"name","path-overlay")}hasMatchingType(d,z){if(Tg(d)){const {mark:H,encoding:W}=d;d=Ib(H)?H:{type:H};switch(d.type){case "line":case "rule":case "trail":return!!jg(d,z[d.type],W);case "area":return!!jg(d,z[d.type],W)||!!bg(d,z[d.type])}}return!1}run(d,z,H){var {config:W}=z,na=Object.assign({},d),ta=d.params,cb=d.projection,qb=d.mark;
d=d.encoding;na=(delete na.params,delete na.projection,delete na.mark,delete na.encoding,na);d=yd(d,W);qb=Ib(qb)?qb:{type:qb};const vb=jg(qb,W[qb.type],d),Nb="area"===qb.type&&bg(qb,W[qb.type]);var xc=Object,od=xc.assign;var Pc=Object.assign({},"area"===qb.type&&void 0===qb.opacity&&void 0===qb.fillOpacity?{opacity:.7}:{},qb);Pc=Object.assign({},Pc);Pc=(delete Pc.point,delete Pc.line,Pc);Pc=1<se(Pc).length?Pc:Pc.type;ta=[od.call(xc,{},ta?{params:ta}:{},{mark:Pc,encoding:b(d,["shape"])})];xc=Bf(qb,
d);od=d;if(xc){const {fieldChannel:Ed,offset:Ud}=xc;od=Object.assign({},d,{[Ed]:Object.assign({},d[Ed],Ud?{stack:Ud}:{})})}Nb&&ta.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"line"},f(qb,["clip","interpolate","tension","tooltip"]),Nb),encoding:od}));vb&&ta.push(Object.assign({},cb?{projection:cb}:{},{mark:Object.assign({},{type:"point",opacity:1,filled:!0},f(qb,["clip","tooltip"]),vb),encoding:od}));cb=Object.assign({},na,{layer:ta});na=Object;ta=na.assign;for(const Ed of["line",
"area","rule","trail"])W[Ed]&&(W=Object.assign({},W,{[Ed]:b(W[Ed],["point","line"])}));return H(cb,ta.call(na,{},z,{config:W}))}}class Cd{constructor(){yb(this,"name","RuleForRangedLine")}hasMatchingType(d){if(Tg(d)){const {encoding:z,mark:H}=d;if("line"===H||Ib(H)&&"line"===H.type)for(const W of fi)if(d=Ma(W),d=z[d],z[W]&&(Ec(d)&&!eb(d.bin)||Be(d)))return!0}return!1}run(d,z,H){const {encoding:W,mark:na}=d;var ta=!!W.x2;ta="Line mark is for continuous lines and thus cannot be used with ".concat(ta&&
W.y2?"x2 and y2":ta?"x2":"y2",". We will use the rule mark (line segments) instead.");lc(ta);return H(Object.assign({},d,{mark:p.isObject(na)?Object.assign({},na,{type:"rule"}):"rule"}),z)}}class md extends If{constructor(){super(...arguments);yb(this,"nonFacetUnitNormalizers",[El,zl,hl,new Ef,new Cd])}map(d,z){if(Tg(d)){const H=bh(d.encoding,"row"),W=bh(d.encoding,"column"),na=bh(d.encoding,"facet");if(H||W||na)return this.mapFacetedUnit(d,z)}return super.map(d,z)}mapUnit(d,z){const {parentEncoding:H,
parentProjection:W}=z;var na=rg(d.encoding,z.repeater);d=Object.assign({},d,na?{encoding:na}:{});if(H||W)return this.mapUnitWithParentEncodingOrProjection(d,z);na=this.mapLayerOrUnit.bind(this);for(const ta of this.nonFacetUnitNormalizers)if(ta.hasMatchingType(d,z.config))return ta.run(d,z,na);return d}mapRepeat(d,z){return!p.isArray(d.repeat)&&d.repeat.layer?this.mapLayerRepeat(d,z):this.mapNonLayerRepeat(d,z)}mapLayerRepeat(d,z){var H=Object.assign({},d);const W=d.repeat,na=d.spec;H=(delete H.repeat,
delete H.spec,H);const {row:ta,column:cb,layer:qb}=W,{repeater:vb={},repeaterPrefix:Nb=""}=z;return ta||cb?this.mapRepeat(Object.assign({},d,{repeat:Object.assign({},ta?{row:ta}:{},cb?{column:cb}:{}),spec:{repeat:{layer:qb},spec:na}}),z):Object.assign({},H,{layer:qb.map(xc=>{var od=Object.assign({},vb,{layer:xc});xc="".concat((na.name||"")+Nb,"child__layer_").concat(K(xc));od=this.mapLayerOrUnit(na,Object.assign({},z,{repeater:od,repeaterPrefix:xc}));od.name=xc;return od})})}mapNonLayerRepeat(d,z){var H,
W=d,na=Object.assign({},W);const ta=W.repeat,cb=W.spec;W=W.data;na=(delete na.repeat,delete na.spec,delete na.data,na);!p.isArray(ta)&&d.columns&&(d=b(d,["columns"]),lc(ge("repeat")));const qb=[],{repeater:vb={},repeaterPrefix:Nb=""}=z,xc=!p.isArray(ta)&&ta.row||[vb?vb.row:null],od=!p.isArray(ta)&&ta.column||[vb?vb.column:null];var Pc=p.isArray(ta)&&ta||[vb?vb.repeat:null];for(const Ud of Pc)for(const pe of xc)for(const Ie of od){var Ed={repeat:Ud,row:pe,column:Ie,layer:vb.layer};Pc=(cb.name||"")+
Nb+"child__"+(p.isArray(ta)?"".concat(K(Ud)):(ta.row?"row_".concat(K(pe)):"")+(ta.column?"column_".concat(K(Ie)):""));Ed=this.map(cb,Object.assign({},z,{repeater:Ed,repeaterPrefix:Pc}));Ed.name=Pc;qb.push(b(Ed,["data"]))}d=p.isArray(ta)?d.columns:ta.column?ta.column.length:1;return Object.assign({},{data:null!==(H=cb.data)&&void 0!==H?H:W,align:"all"},na,{columns:d,concat:qb})}mapFacet(d,z){const {facet:H}=d;gb(H)&&d.columns&&(d=b(d,["columns"]),lc(ge("facet")));return super.mapFacet(d,z)}mapUnitWithParentEncodingOrProjection(d,
z){const {encoding:H,projection:W}=d,{parentEncoding:na,parentProjection:ta,config:cb}=z,qb=ef({parentProjection:ta,projection:W});z=$h({parentEncoding:na,encoding:rg(H,z.repeater)});return this.mapUnit(Object.assign({},d,qb?{projection:qb}:{},z?{encoding:z}:{}),{config:cb})}mapFacetedUnit(d,z){var H=d.encoding,W=Object.assign({},H),na=H.row;const ta=H.column;H=H.facet;const cb=(delete W.row,delete W.column,delete W.facet,W);var qb=Object.assign({},d);W=d.mark;const vb=d.width,Nb=d.projection,xc=
d.height,od=d.view;d=d.params;qb=(delete qb.mark,delete qb.width,delete qb.projection,delete qb.height,delete qb.view,delete qb.params,delete qb.encoding,qb);const {facetMapping:Pc,layout:Ed}=this.getFacetMappingAndLayout({row:na,column:ta,facet:H},z);na=rg(cb,z.repeater);return this.mapFacet(Object.assign({},qb,Ed,{facet:Pc,spec:Object.assign({},vb?{width:vb}:{},xc?{height:xc}:{},od?{view:od}:{},Nb?{projection:Nb}:{},{mark:W,encoding:na},d?{params:d}:{})}),z)}getFacetMappingAndLayout(d,z){const {row:H,
column:W,facet:na}=d;if(H||W){na&&(z=[...(H?["row"]:[]),...(W?["column"]:[])],z="Facet encoding dropped as ".concat(z.join(" and ")," ").concat(1<z.length?"are":"is"," also specified."),lc(z));z={};var ta={};for(var cb of["row","column"]){const xc=d[cb];if(xc){var qb=Object.assign({},xc);qb=(delete qb.align,delete qb.center,delete qb.spacing,delete qb.columns,qb);z[cb]=qb;for(var vb of["align","center","spacing"])if(void 0!==xc[vb]){var Nb;null!==(Nb=ta[vb])&&void 0!==Nb?Nb:ta[vb]={};ta[vb][cb]=xc[vb]}}}return{facetMapping:z,
layout:ta}}ta=Object.assign({},na);d=na.align;Nb=na.center;cb=na.spacing;vb=na.columns;ta=(delete ta.align,delete ta.center,delete ta.spacing,delete ta.columns,ta);z=(z=z.repeater)?gb(ta)?Zh(ta,z):Og(ta,z):ta;return{facetMapping:z,layout:Object.assign({},d?{align:d}:{},Nb?{center:Nb}:{},cb?{spacing:cb}:{},vb?{columns:vb}:{})}}mapLayer(d,z){var H=Object.assign({},z),W=z.parentEncoding;z=z.parentProjection;H=(delete H.parentEncoding,delete H.parentProjection,H);var na=Object.assign({},d);const ta=d.encoding;
d=d.projection;na=(delete na.encoding,delete na.projection,na);W=Object.assign({},H,{parentEncoding:$h({parentEncoding:W,encoding:ta,layer:!0}),parentProjection:ef({parentProjection:z,projection:d})});return super.mapLayer(na,W)}}class zd extends If{map(d,z){var H,W;null!==(H=z.emptySelections)&&void 0!==H?H:z.emptySelections={};null!==(W=z.selectionPredicates)&&void 0!==W?W:z.selectionPredicates={};d=hf(d,z);return super.map(d,z)}mapLayerOrUnit(d,z){d=hf(d,z);if(d.encoding){const H={};for(const W of kj(d.encoding)){const [na,
ta]=W;H[na]=jf(ta,z)}d=Object.assign({},d,{encoding:H})}return super.mapLayerOrUnit(d,z)}mapUnit(d,z){var H=Object.assign({},d);const W=d.selection;H=(delete H.selection,H);return W?Object.assign({},H,{params:kj(W).map(na=>{let [ta,cb]=na;var qb=Object.assign({},cb);na=cb.init;const vb=cb.bind,Nb=cb.empty;qb=(delete qb.init,delete qb.bind,delete qb.empty,qb);"single"===qb.type?(qb.type="point",qb.toggle=!1):"multi"===qb.type&&(qb.type="point");z.emptySelections[ta]="none"!==Nb;for(const od of hi(null!==
(xc=z.selectionPredicates[ta])&&void 0!==xc?xc:{})){var xc;od.empty="none"!==Nb}return{name:ta,value:na,select:qb,bind:vb}})}):d}}class de extends If{map(d,z){var H;const W=null!==(H=z.selections)&&void 0!==H?H:[];if(d.params&&!Tg(d)){H=[];for(const na of d.params)Sb(na)?W.push(na):H.push(na);d.params=H}z.selections=W;return super.map(d,Yh(d,z))}mapUnit(d,z){var H;const W=z.selections;if(!W||!W.length)return d;const na=(null!==(H=z.path)&&void 0!==H?H:[]).concat(d.name);z=[];for(const ta of W)if(ta.views&&
ta.views.length)for(const cb of ta.views)(p.isString(cb)&&(cb===d.name||0<=na.indexOf(cb))||p.isArray(cb)&&cb.map(qb=>na.indexOf(qb)).every((qb,vb,Nb)=>-1!==qb&&(0===vb||qb>Nb[vb-1])))&&z.push(ta);else z.push(ta);z.length&&(d.params=z);return d}}for(const d of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const z=de.prototype[d];de.prototype[d]=function(H,W){return z.call(this,H,Yh(H,W))}}const ke=new md,Rf=new zd,kf=new de,Sf=["background","padding"];class Pf{constructor(){let d=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.explicit=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.implicit=d}clone(){return new Pf(Wf(this.explicit),Wf(this.implicit))}combine(){return Object.assign({},this.explicit,this.implicit)}get(d){return B(this.explicit[d],this.implicit[d])}getWithExplicit(d){return void 0!==this.explicit[d]?{explicit:!0,value:this.explicit[d]}:void 0!==this.implicit[d]?{explicit:!1,value:this.implicit[d]}:{explicit:!1,value:void 0}}setWithExplicit(d,
z){let {value:H,explicit:W}=z;void 0!==H&&this.set(d,H,W)}set(d,z,H){delete this[H?"implicit":"explicit"][d];this[H?"explicit":"implicit"][d]=z;return this}copyKeyFromSplit(d,z){let {explicit:H,implicit:W}=z;void 0!==H[d]?this.set(d,H[d],!0):void 0!==W[d]&&this.set(d,W[d],!1)}copyKeyFromObject(d,z){void 0!==z[d]&&this.set(d,z[d],!0)}copyAll(d){for(const z of se(d.combine())){const H=d.getWithExplicit(z);this.setWithExplicit(z,H)}}}class ag extends Pf{constructor(){let d=0<arguments.length&&void 0!==
arguments[0]?arguments[0]:{},z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super(d,z);this.explicit=d;this.implicit=z;this.parseNothing=H}clone(){const d=super.clone();d.parseNothing=this.parseNothing;return d}}let Hg;(function(d){d[d.Raw=0]="Raw";d[d.Main=1]="Main";d[d.Row=2]="Row";d[d.Column=3]="Column";d[d.Lookup=4]="Lookup"})(Hg||(Hg={}));class ih{constructor(d,z){this.debugName=z;yb(this,"_children",[]);yb(this,"_parent",
null);yb(this,"_hash",void 0);d&&(this.parent=d)}clone(){throw Error("Cannot clone node");}get parent(){return this._parent}set parent(d){(this._parent=d)&&d.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(d,z){this._children.includes(d)?lc("Attempt to add the same child twice."):void 0!==z?this._children.splice(z,0,d):this._children.push(d)}removeChild(d){d=this._children.indexOf(d);this._children.splice(d,1);return d}remove(){let d=this._parent.removeChild(this);
for(const z of this._children)z._parent=this._parent,this._parent.addChild(z,d++)}insertAsParentOf(d){const z=d.parent;z.removeChild(this);this.parent=z;d.parent=this}swapWithParent(){const d=this._parent,z=d.parent;for(var H of this._children)H.parent=d;this._children=[];d.removeChild(this);H=d.parent.removeChild(d);this._parent=z;z.addChild(this,H);d.parent=this}}class wi extends ih{clone(){const d=new this.constructor;d.debugName="clone_".concat(this.debugName);d._source=this._source;d._name="clone_".concat(this._name);
d.type=this.type;d.refCounts=this.refCounts;d.refCounts[d._name]=0;return d}constructor(d,z,H,W){super(d,z);this.type=H;this.refCounts=W;yb(this,"_source",void 0);yb(this,"_name",void 0);this._source=this._name=z;!this.refCounts||this._name in this.refCounts||(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){void 0===this._hash&&(this._hash="Output ".concat(N()));return this._hash}getSource(){this.refCounts[this._name]++;return this._source}isRequired(){return!!this.refCounts[this._name]}setSource(d){this._source=
d}}class Jj extends ih{clone(){return new Jj(null,Wf(this.formula))}constructor(d,z){super(d);this.formula=z}static makeFromEncoding(d,z){z=z.reduceFieldDef((H,W)=>{const {field:na,timeUnit:ta}=W;ta&&(W=Id(W,{forAs:!0}),H[c({as:W,field:na,timeUnit:ta})]={as:W,field:na,timeUnit:ta});return H},{});return r(z)?null:new Jj(d,z)}static makeFromTransform(d,z){var H=Object.assign({},z);z=Object.assign({},H);H=H.timeUnit;z=(delete z.timeUnit,z);H=af(H);z=Object.assign({},z,{timeUnit:H});return new Jj(d,{[c(z)]:z})}merge(d){this.formula=
Object.assign({},this.formula);for(const z in d.formula)this.formula[z]||(this.formula[z]=d.formula[z]);for(const z of d.children)d.removeChild(z),z.parent=this;d.remove()}removeFormulas(d){const z={};for(const H of kj(this.formula)){const [W,na]=H;d.has(na.as)||(z[W]=na)}this.formula=z}producedFields(){return new Set(hi(this.formula).map(d=>d.as))}dependentFields(){return new Set(hi(this.formula).map(d=>d.field))}hash(){return"TimeUnit ".concat(c(this.formula))}assemble(){const d=[];for(const W of hi(this.formula)){const {field:na,
as:ta,timeUnit:cb}=W;var z=af(cb),H=Object.assign({},z);const qb=z.unit;z=z.utc;H=(delete H.unit,delete H.utc,H);d.push(Object.assign({},{field:ea(na),type:"timeunit"},qb?{units:re(qb)}:{},z?{timezone:"utc"}:{},H,{as:[ta,"".concat(ta,"_end")]}))}return d}}class Jm{constructor(){yb(this,"hasChannel",void 0);yb(this,"hasField",void 0);yb(this,"hasSelectionId",void 0);yb(this,"timeUnit",void 0);yb(this,"items",void 0);for(var d=arguments.length,z=Array(d),H=0;H<d;H++)z[H]=arguments[H];this.items=z;this.hasChannel=
{};this.hasField={};this.hasSelectionId=!1}}const fk={defined:d=>"interval"===d.type&&"global"===d.resolve&&d.bind&&"scales"===d.bind,parse:(d,z)=>{const H=z.scales=[];for(const na of z.project.items){var W=na.channel;if(!Sh[W])continue;const ta=(W=d.getScaleComponent(W))?W.get("type"):void 0;W&&Pd(ta)?(W.set("selectionExtent",{param:z.name,field:na.field},!0),H.push(na)):lc("Scale bindings are currently only supported for scales with unbinned, continuous domains.")}},topLevelSignals:(d,z,H)=>{const W=
z.scales.filter(ta=>0===H.filter(cb=>cb.name===ta.signals.data).length);if(!d.parent||pb(d)||0===W.length)return H;d=H.filter(ta=>ta.name===z.name)[0];let na=d.update;if(0<=na.indexOf("vlSelectionResolve"))d.update="{".concat(W.map(ta=>"".concat(p.stringValue(ea(ta.field)),": ").concat(ta.signals.data)).join(", "),"}");else{for(const ta of W){const cb="".concat(p.stringValue(ea(ta.field)),": ").concat(ta.signals.data);na.includes(cb)||(na="".concat(na.substring(0,na.length-1),", ").concat(cb,"}"))}d.update=
na}return H.concat(W.map(ta=>({name:ta.signals.data})))},signals:(d,z,H)=>{if(d.parent&&!pb(d))for(const W of z.scales)d=H.filter(na=>na.name===W.signals.data)[0],d.push="outer",delete d.value,delete d.update;return H}},pm={left:"x",center:"xc",right:"x2"},qm={top:"y",middle:"yc",bottom:"y2"},rm=new Set(["aria","width","height"]),km={defined:d=>"point"===d.type&&d.nearest,parse:(d,z)=>{if(z.events)for(const H of z.events)H.markname=d.getName("voronoi")},marks:(d,z,H)=>{const {x:W,y:na}=z.project.hasChannel;
z=d.mark;if(Ea(z))return lc('The "nearest" transform is not supported for '.concat(z," marks.")),H;z={name:d.getName("voronoi"),type:"path",interactive:!0,from:{data:d.getName("marks")},encode:{update:Object.assign({},{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0}},Sd(d,{reactiveGeom:!0}))},transform:[{type:"voronoi",x:{expr:W||!na?"datum.datum.x || 0":"0"},y:{expr:na||!W?"datum.datum.y || 0":"0"},size:[d.getSizeSignalRef("width"),d.getSizeSignalRef("height")]}]};
let ta=0,cb=!1;H.forEach((qb,vb)=>{var Nb;qb=null!==(Nb=qb.name)&&void 0!==Nb?Nb:"";qb===d.component.mark[0].name?ta=vb:0<=qb.indexOf("voronoi")&&(cb=!0)});cb||H.splice(ta+1,0,z);return H}},lm={defined:d=>"point"===d.type&&"global"===d.resolve&&d.bind&&"scales"!==d.bind&&!db(d.bind),parse:(d,z,H)=>yg(z,H),topLevelSignals:(d,z,H)=>{const W=z.name;d=z.project;const na=z.bind,ta=z.init&&z.init[0],cb=km.defined(z)?"(item().isVoronoi ? datum.datum : datum)":"datum";d.items.forEach((qb,vb)=>{const Nb=K("".concat(W,
"_").concat(qb.field));if(!H.filter(Pc=>Pc.name===Nb).length){var xc,od;H.unshift(Object.assign({},{name:Nb},ta?{init:xb(ta[vb])}:{value:null},{on:z.events?[{events:z.events,update:"datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' ? ".concat(cb,"[").concat(p.stringValue(qb.field),"] : null")}]:[],bind:null!==(xc=null!==(od=na[qb.field])&&void 0!==od?od:na[qb.channel])&&void 0!==xc?xc:na}))}});return H},signals:(d,z,H)=>{const W=z.name;var na=z.project;d=H.filter(cb=>cb.name===W+"_tuple")[0];
z=W+"_tuple_fields";na=na.items.map(cb=>K("".concat(W,"_").concat(cb.field)));const ta=na.map(cb=>"".concat(cb," !\x3d\x3d null")).join(" \x26\x26 ");na.length&&(d.update="".concat(ta," ? {fields: ").concat(z,", values: [").concat(na.join(", "),"]} : null"));delete d.value;delete d.on;return H}},mm={defined:d=>"point"===d.type&&!!d.toggle,signals:(d,z,H)=>H.concat({name:z.name+"_toggle",value:!1,on:[{events:z.events,update:z.toggle}]}),modifyExpr:(d,z)=>{const H=z.name+"_tuple",W=z.name+"_toggle";
return"".concat(W," ? null : ").concat(H,", ")+("global"===z.resolve?"".concat(W," ? null : true, "):"".concat(W," ? null : {unit: ").concat(di(d),"}, "))+"".concat(W," ? ").concat(H," : null")}},Zl={defined:d=>{const z="global"===d.resolve&&d.bind&&db(d.bind);d=1===d.project.items.length&&"_vgsid_"!==d.project.items[0].field;z&&!d&&lc("Legend bindings are only supported for selections over an individual field or encoding channel.");return z&&d},parse:(d,z,H)=>{d=Wf(H);d.select=p.isString(d.select)?
{type:d.select,toggle:z.toggle}:Object.assign({},d.select,{toggle:z.toggle});yg(z,d);if(p.isObject(H.select)&&(H.select.on||H.select.clear))for(const na of z.events){var W;na.filter=p.array(null!==(W=na.filter)&&void 0!==W?W:[]);na.filter.includes('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')||na.filter.push('event.item \x26\x26 indexof(event.item.mark.role, "legend") \x3c 0')}H=Db(z.bind)?z.bind.legend:"click";H=p.isString(H)?p.parseSelector(H,"view"):p.array(H);z.bind={legend:{merge:H}}},
topLevelSignals:(d,z,H)=>{d=z.name;const W=Db(z.bind)&&z.bind.legend,na=cb=>qb=>{qb=Wf(qb);qb.markname=cb;return qb};for(const cb of z.project.items){if(!cb.hasLegend)continue;var ta="".concat(K(cb.field),"_legend");const qb="".concat(d,"_").concat(ta);0===H.filter(vb=>vb.name===qb).length&&(ta=W.merge.map(na("".concat(ta,"_symbols"))).concat(W.merge.map(na("".concat(ta,"_labels")))).concat(W.merge.map(na("".concat(ta,"_entries")))),H.unshift(Object.assign({},{name:qb},z.init?{}:{value:null},{on:[{events:ta,
update:"datum.value || item().items[0].items[0].datum.value",force:!0},{events:W.merge,update:"!event.item || !datum ? null : ".concat(qb),force:!0}]})))}return H},signals:(d,z,H)=>{const W=z.name;var na=z.project;d=H.find(qb=>qb.name===W+"_tuple");var ta=W+"_tuple_fields";na=na.items.filter(qb=>qb.hasLegend).map(qb=>K("".concat(W,"_").concat(K(qb.field),"_legend")));const cb=na.map(qb=>"".concat(qb," !\x3d\x3d null")).join(" \x26\x26 ");ta="".concat(cb," ? {fields: ").concat(ta,", values: [").concat(na.join(", "),
"]} : null");z.events&&0<na.length?d.on.push({events:na.map(qb=>({signal:qb})),update:ta}):0<na.length&&(d.update=ta,delete d.value,delete d.on);d=H.find(qb=>qb.name===W+"_toggle");ta=Db(z.bind)&&z.bind.legend;d&&(z.events?d.on.push(Object.assign({},d.on[0],{events:ta})):d.on[0].events=ta);return H}},ql=[{defined:d=>"point"===d.type,signals:(d,z,H)=>{var W;const na=z.name,ta=na+"_tuple_fields";var cb=z.project,qb=hi(null!==(W=d.component.selection)&&void 0!==W?W:{}).reduce((vb,Nb)=>"interval"===Nb.type?
vb.concat(Nb.name+"_brush"):vb,[]).map(vb=>"indexof(item().mark.name, '".concat(vb,"') \x3c 0")).join(" \x26\x26 ");W="datum \x26\x26 item().mark.marktype !\x3d\x3d 'group' \x26\x26 indexof(item().mark.role, 'legend') \x3c 0".concat(qb?" \x26\x26 ".concat(qb):"");qb="unit: ".concat(di(d),", ");z.project.hasSelectionId?qb+="".concat("_vgsid_",": ").concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue("_vgsid_"),"]"):(cb=cb.items.map(vb=>{const Nb=d.fieldDef(vb.channel);return null!==
Nb&&void 0!==Nb&&Nb.bin?"[".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(d.vgField(vb.channel,{})),"], ")+"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(d.vgField(vb.channel,{binSuffix:"end"})),"]]"):"".concat("(item().isVoronoi ? datum.datum : datum)","[").concat(p.stringValue(vb.field),"]")}).join(", "),qb+="fields: ".concat(ta,", values: [").concat(cb,"]"));z=z.events;return H.concat([{name:na+"_tuple",on:z?[{events:z,update:"".concat(W,
" ? {").concat(qb,"} : null"),force:!0}]:[]}])}},{defined:d=>"interval"===d.type,signals:(d,z,H)=>{const W=z.name;var na=W+"_tuple_fields";const ta=fk.defined(z),cb=z.init?z.init[0]:null,qb=[],vb=[];if(z.translate&&!ta){const Nb="!event.item || event.item.mark.name !\x3d\x3d ".concat(p.stringValue(W+"_brush"));Qc(z,(xc,od)=>{var Pc,Ed;od=p.array(null!==(Ed=(Pc=od.between[0]).filter)&&void 0!==Ed?Ed:Pc.filter=[]);od.includes(Nb)||od.push(Nb);return xc})}z.project.items.forEach((Nb,xc)=>{const od=Nb.channel;
if("x"!==od&&"y"!==od)lc("Interval selections only support x and y encoding channels.");else{xc=gc(d,z,Nb,cb?cb[xc]:null);var Pc=Nb.signals.data;Nb=Nb.signals.visual;var Ed=p.stringValue(d.scaleName(od)),Ud=d.getScaleComponent(od).get("type");Ud=Pd(Ud)?"+":"";H.push(...xc);qb.push(Pc);vb.push({scaleName:d.scaleName(od),expr:"(!isArray(".concat(Pc,") || ")+"(".concat(Ud,"invert(").concat(Ed,", ").concat(Nb,")[0] \x3d\x3d\x3d ").concat(Ud).concat(Pc,"[0] \x26\x26 ")+"".concat(Ud,"invert(").concat(Ed,
", ").concat(Nb,")[1] \x3d\x3d\x3d ").concat(Ud).concat(Pc,"[1]))")})}});!ta&&vb.length&&H.push({name:W+"_scale_trigger",value:{},on:[{events:vb.map(Nb=>({scale:Nb.scaleName})),update:"".concat(vb.map(Nb=>Nb.expr).join(" \x26\x26 ")," ? ").concat(W+"_scale_trigger"," : {}")}]});na="unit: ".concat(di(d),", fields: ").concat(na,", values");return H.concat(Object.assign({},{name:W+"_tuple"},cb?{init:"{".concat(na,": ").concat(xb(cb),"}")}:{},qb.length?{on:[{events:[{signal:qb.join(" || ")}],update:"".concat(qb.join(" \x26\x26 "),
" ? {").concat(na,": [").concat(qb,"]} : null")}]}:{}))},marks:(d,z,H)=>{const W=z.name,{x:na,y:ta}=z.project.hasChannel,cb=null===na||void 0===na?void 0:na.signals.visual,qb=null===ta||void 0===ta?void 0:ta.signals.visual;var vb="data(".concat(p.stringValue(z.name+"_store"),")");if(fk.defined(z)||!na&&!ta)return H;const Nb={x:void 0!==na?{signal:"".concat(cb,"[0]")}:{value:0},y:void 0!==ta?{signal:"".concat(qb,"[0]")}:{value:0},x2:void 0!==na?{signal:"".concat(cb,"[1]")}:{field:{group:"width"}},
y2:void 0!==ta?{signal:"".concat(qb,"[1]")}:{field:{group:"height"}}};if("global"===z.resolve)for(var xc of se(Nb))Nb[xc]=[Object.assign({},{test:"".concat(vb,".length \x26\x26 ").concat(vb,"[0].unit \x3d\x3d\x3d ").concat(di(d))},Nb[xc]),{value:0}];xc=z.mark;vb=Object.assign({},xc);d=xc.fill;z=xc.fillOpacity;xc=xc.cursor;const od=(delete vb.fill,delete vb.fillOpacity,delete vb.cursor,vb);vb=se(od).reduce((Pc,Ed)=>{Pc[Ed]=[{test:[void 0!==na&&"".concat(cb,"[0] !\x3d\x3d ").concat(cb,"[1]"),void 0!==
ta&&"".concat(qb,"[0] !\x3d\x3d ").concat(qb,"[1]")].filter(Ud=>Ud).join(" \x26\x26 "),value:od[Ed]},{value:null}];return Pc},{});return[{name:"".concat(W+"_brush","_bg"),type:"rect",clip:!0,encode:{enter:{fill:{value:d},fillOpacity:{value:z}},update:Nb}},...H,{name:W+"_brush",type:"rect",clip:!0,encode:{enter:Object.assign({},xc?{cursor:{value:xc}}:{},{fill:{value:"transparent"}}),update:Object.assign({},Nb,vb)}}]}},{defined:()=>!0,parse:(d,z,H)=>{var W;const na=z.name,ta=null!==(W=z.project)&&void 0!==
W?W:z.project=new Jm,cb={};W={};const qb=new Set,vb=(je,Fe)=>{je="visual"===Fe?je.channel:je.field;let cf=K("".concat(na,"_").concat(je));for(let Ue=1;qb.has(cf);Ue++)cf=K("".concat(na,"_").concat(je,"_").concat(Ue));qb.add(cf);return{[Fe]:cf}},Nb=z.type,xc=d.config.selection[Nb],od=void 0!==H.value?p.array(H.value):null;let {fields:Pc,encodings:Ed}=p.isObject(H.select)?H.select:{};if(!Pc&&!Ed&&od)for(var Ud of od)if(p.isObject(Ud))for(const je of se(Ud))nl[je]?(Ed||(Ed=[])).push(je):"interval"===
Nb?(lc('Interval selections should be initialized using "x" and/or "y" keys.'),Ed=xc.encodings):(Pc||(Pc=[])).push(je);Pc||Ed||(Ed=xc.encodings,"fields"in xc&&(Pc=xc.fields));for(const je of null!==(pe=Ed)&&void 0!==pe?pe:[]){var pe;(pe=d.fieldDef(je))?(H=pe.field,pe.aggregate?lc(Nd(je,pe.aggregate)):H?(pe.timeUnit&&(H=d.vgField(je),Ud={timeUnit:pe.timeUnit,as:H,field:pe.field},W[c(Ud)]=Ud),cb[H]||(Ud="E","interval"===Nb?(pe=d.getScaleComponent(je).get("type"),Pd(pe)&&(Ud="R")):pe.bin&&(Ud="R-RE"),
pe={field:H,channel:je,type:Ud},pe.signals=Object.assign({},vb(pe,"data"),vb(pe,"visual")),ta.items.push(cb[H]=pe),ta.hasField[H]=ta.hasChannel[je]=cb[H],ta.hasSelectionId=ta.hasSelectionId||"_vgsid_"===H)):lc(xd(je))):lc(xd(je))}for(const je of null!==(Ie=Pc)&&void 0!==Ie?Ie:[]){var Ie;ta.hasField[je]||(d={type:"E",field:je},d.signals=Object.assign({},vb(d,"data")),ta.items.push(d),ta.hasField[je]=d,ta.hasSelectionId=ta.hasSelectionId||"_vgsid_"===je)}od&&(z.init=od.map(je=>ta.items.map(Fe=>p.isObject(je)?
void 0!==je[Fe.channel]?je[Fe.channel]:je[Fe.field]:je)));r(W)||(ta.timeUnit=new Jj(null,W))},signals:(d,z,H)=>{const W=z.name+"_tuple_fields";return 0<H.filter(na=>na.name===W).length||z.project.hasSelectionId?H:H.concat({name:W,value:z.project.items.map(na=>{na=Object.assign({},na);na=(delete na.signals,delete na.hasLegend,na);na.field=ea(na.field);return na})})}},mm,lm,fk,Zl,{defined:d=>void 0!==d.clear&&!1!==d.clear,parse:(d,z)=>{z.clear&&(z.clear=p.isString(z.clear)?p.parseSelector(z.clear,"view"):
z.clear)},topLevelSignals:(d,z,H)=>{if(lm.defined(z))for(const W of z.project.items)d=H.findIndex(na=>na.name===K("".concat(z.name,"_").concat(W.field))),-1!==d&&H[d].on.push({events:z.clear,update:"null"});return H},signals:(d,z,H)=>{function W(na,ta){-1!==na&&H[na].on&&H[na].on.push({events:z.clear,update:ta})}if("interval"===z.type)for(const na of z.project.items)d=H.findIndex(ta=>ta.name===na.signals.visual),W(d,"[0, 0]"),-1===d&&(d=H.findIndex(ta=>ta.name===na.signals.data),W(d,"null"));else d=
H.findIndex(na=>na.name===z.name+"_tuple"),W(d,"null"),mm.defined(z)&&(d=H.findIndex(na=>na.name===z.name+"_toggle"),W(d,"false"));return H}},{defined:d=>"interval"===d.type&&d.translate,signals:(d,z,H)=>{const W=z.name,na=fk.defined(z),ta=W+"_translate_anchor",{x:cb,y:qb}=z.project.hasChannel;let vb=p.parseSelector(z.translate,"scope");na||(vb=vb.map(Nb=>(Nb.between[0].markname=W+"_brush",Nb)));H.push({name:ta,value:{},on:[{events:vb.map(Nb=>Nb.between[0]),update:"{x: x(unit), y: y(unit)"+(void 0!==
cb?", extent_x: ".concat(na?mb(d,"x"):"slice(".concat(cb.signals.visual,")")):"")+(void 0!==qb?", extent_y: ".concat(na?mb(d,"y"):"slice(".concat(qb.signals.visual,")")):"")+"}"}]},{name:W+"_translate_delta",value:{},on:[{events:vb,update:"{x: ".concat(ta,".x - x(unit), y: ").concat(ta,".y - y(unit)}")}]});void 0!==cb&&Ih(d,z,cb,"width",H);void 0!==qb&&Ih(d,z,qb,"height",H);return H}},{defined:d=>"interval"===d.type&&d.zoom,signals:(d,z,H)=>{const W=z.name,na=fk.defined(z),ta=W+"_zoom_delta",{x:cb,
y:qb}=z.project.hasChannel,vb=p.stringValue(d.scaleName("x")),Nb=p.stringValue(d.scaleName("y"));let xc=p.parseSelector(z.zoom,"scope");na||(xc=xc.map(od=>(od.markname=W+"_brush",od)));H.push({name:W+"_zoom_anchor",on:[{events:xc,update:na?"{"+[vb?"x: invert(".concat(vb,", x(unit))"):"",Nb?"y: invert(".concat(Nb,", y(unit))"):""].filter(od=>!!od).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:ta,on:[{events:xc,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]});void 0!==
cb&&yi(d,z,cb,"width",H);void 0!==qb&&yi(d,z,qb,"height",H);return H}},km];class dl extends ih{clone(){return new dl(null,this.model,Wf(this.filter))}constructor(d,z,H){super(d);this.model=z;this.filter=H;yb(this,"expr",void 0);yb(this,"_dependentFields",void 0);this.expr=ti(this.model,this.filter,this);this._dependentFields=ei(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return"Filter ".concat(this.expr)}}
const hm={scale:d=>{let {model:z,channel:H}=d;return z.scaleName(H)},format:d=>{let {fieldOrDatumDef:z,config:H,axis:W}=d;const {format:na,formatType:ta}=W;return Rc(z,z.type,na,ta,H,!0)},formatType:d=>{let {axis:z,fieldOrDatumDef:H,scaleType:W}=d;({formatType:d}=z);return Lc(d,H,W)},grid:d=>{var z;let {fieldOrDatumDef:H,axis:W,scaleType:na}=d;return null!==(z=W.grid)&&void 0!==z?z:!Gd(na)&&Ec(H)&&!Ta(null===H||void 0===H?void 0:H.bin)&&!eb(null===H||void 0===H?void 0:H.bin)},gridScale:d=>{let {model:z,
channel:H}=d;d="x"===H?"y":"x";d=z.getScaleComponent(d)?z.scaleName(d):void 0;return d},labelAlign:d=>{let {axis:z,labelAngle:H,orient:W,channel:na}=d;return z.labelAlign||Ac(H,W,na)},labelAngle:d=>{({labelAngle:d}=d);return d},labelBaseline:d=>{let {axis:z,labelAngle:H,orient:W,channel:na}=d;return z.labelBaseline||jc(H,W,na)},labelFlush:d=>{var z;let {axis:H,fieldOrDatumDef:W,channel:na}=d;d=null!==(z=H.labelFlush)&&void 0!==z?z:"x"===na&&g(["quantitative","temporal"],W.type)?!0:void 0;return d},
labelOverlap:d=>{var z;let {axis:H,fieldOrDatumDef:W,scaleType:na}=d;if(null!==(z=H.labelOverlap)&&void 0!==z)d=z;else{d=W.type;z=Ec(W)&&!!W.timeUnit;var ta=Ec(W)?W.sort:void 0;d=z&&!p.isObject(ta)||"nominal"!==d&&"ordinal"!==d?"log"===na||"symlog"===na?"greedy":!0:void 0}return d},orient:d=>{({orient:d}=d);return d},tickCount:d=>{var z;let {channel:H,model:W,axis:na,fieldOrDatumDef:ta,scaleType:cb}=d;d=(d="x"===H?"width":"y"===H?"height":void 0)?W.getSizeSignalRef(d):void 0;if(null===(z=na.tickCount)||
void 0===z)a:{let {fieldOrDatumDef:vb,scaleType:Nb,size:xc,values:od}={fieldOrDatumDef:ta,scaleType:cb,size:d,values:na.values};if(od||Gd(Nb)||"log"===Nb)z=void 0;else{if(Ec(vb)){var qb;if(Ta(vb.bin)){z={signal:"ceil(".concat(xc.signal,"/10)")};break a}if(vb.timeUnit&&g(["month","hours","day","quarter"],null===(qb=af(vb.timeUnit))||void 0===qb?void 0:qb.unit)){z=void 0;break a}}z={signal:"ceil(".concat(xc.signal,"/40)")}}}return z},title:d=>{let {axis:z,model:H,channel:W}=d;if(void 0!==z.title)return z.title;
d=hd(H,W);if(void 0!==d)return d;d=H.typedFieldDef(W);const na=H.fieldDef("x"===W?"x2":"y2");return Ca(d?[Fb(d)]:[],Ec(na)?[Fb(na)]:[])},values:d=>{let {axis:z,fieldOrDatumDef:H}=d;d=z.values;d=p.isArray(d)?og(H,d):Bc(d)?d:void 0;return d},zindex:d=>{var z;let {axis:H,fieldOrDatumDef:W,mark:na}=d;d=null!==(z=H.zindex)&&void 0!==z?z:"rect"===na&&sf(W)?1:0;return d}};class el extends ih{clone(){return new el(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z;yb(this,"_dependentFields",
void 0);this._dependentFields=ei(this.transform.calculate)}static parseAllForSortIndex(d,z){z.forEachFieldDef((H,W)=>{if(ee(H)&&Ia(H.sort)){const {field:ta,timeUnit:cb}=H;var na=H.sort;na=na.map((qb,vb)=>"".concat(rb({field:ta,timeUnit:cb,equal:qb})," ? ").concat(vb," : ")).join("")+na.length;d=new el(d,{calculate:na,as:Ld(H,W,{forAs:!0})})}});return d}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,
as:this.transform.as}}hash(){return"Calculate ".concat(c(this.transform))}}const Rl=["row","column"],Sl=["header","footer"],Km={column:{start:0,end:1},row:{start:1,end:0}},Lm=Object.assign({},{aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,
labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,
titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},{disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1}),$l=se(Lm);class sm extends Pf{}const bm={symbols:function(d,z){var H,W,na,ta;let {fieldOrDatumDef:cb,model:qb,channel:vb,legendCmpt:Nb,legendType:xc}=z;if("symbol"===xc){var {markDef:od,encoding:Pc,config:Ed,mark:Ud}=qb;z=od.filled&&"trail"!==Ud;var pe=Object,Ie=pe.assign,je={};for(var Fe of Xk){const kh=
jd(Fe,qb.markDef,qb.config);void 0!==kh&&(je[Fe]=Wb(kh))}Fe=Ie.call(pe,{},je,df(qb,{filled:z}));pe=null!==(H=Nb.get("symbolOpacity"))&&void 0!==H?H:Ed.legend.symbolOpacity;H=null!==(W=Nb.get("symbolFillColor"))&&void 0!==W?W:Ed.legend.symbolFillColor;W=null!==(na=Nb.get("symbolStrokeColor"))&&void 0!==na?na:Ed.legend.symbolStrokeColor;na=void 0===pe?null!==(ta=Ne(Pc.opacity))&&void 0!==ta?ta:od.opacity:void 0;if(Fe.fill)if("fill"===vb||z&&"color"===vb)delete Fe.fill;else if(Fe.fill.field)if(H)delete Fe.fill;
else{var cf;Fe.fill=Wb(null!==(cf=Ed.legend.symbolBaseFillColor)&&void 0!==cf?cf:"black");Fe.fillOpacity=Wb(null!==na&&void 0!==na?na:1)}else if(p.isArray(Fe.fill)){var Ue,Ke,Yf;if(ta=null!==(Ue=null!==(Ke=ve(null!==(Yf=Pc.fill)&&void 0!==Yf?Yf:Pc.color))&&void 0!==Ke?Ke:od.fill)&&void 0!==Ue?Ue:z&&od.color)Fe.fill=Wb(ta)}Fe.stroke&&("stroke"===vb||!z&&"color"===vb?delete Fe.stroke:Fe.stroke.field||W?delete Fe.stroke:p.isArray(Fe.stroke)&&(Ue=B(ve(Pc.stroke||Pc.color),od.stroke,z?od.color:void 0))&&
(Fe.stroke={value:Ue}));"opacity"!==vb&&((Ue=Ec(cb)&&ye(qb,Nb,cb))?Fe.opacity=[Object.assign({},{test:Ue},Wb(null!==na&&void 0!==na?na:1)),Wb(Ed.legend.unselectedOpacity)]:na&&(Fe.opacity=Wb(na)));Fe=Object.assign({},Fe,d);return r(Fe)?void 0:Fe}},gradient:function(d,z){var H;let {model:W,legendType:na,legendCmpt:ta}=z;if("gradient"===na){var {config:cb,markDef:qb,encoding:vb}=W;z={};var Nb=void 0===(null!==(H=ta.get("gradientOpacity"))&&void 0!==H?H:cb.legend.gradientOpacity)?Ne(vb.opacity)||qb.opacity:
void 0;Nb&&(z.opacity=Wb(Nb));z=Object.assign({},z,d);return r(z)?void 0:z}},labels:function(d,z){let {fieldOrDatumDef:H,model:W,channel:na,legendCmpt:ta}=z;var cb=W.legend(na)||{};z=W.config;var qb=Ec(H)?ye(W,ta,H):void 0;qb=qb?[{test:qb,value:1},{value:z.legend.unselectedOpacity}]:void 0;const {format:vb,formatType:Nb}=cb;cb=void 0;Od(Nb)?cb=wc({fieldOrDatumDef:H,field:"datum.value",format:vb,formatType:Nb,config:z}):void 0===vb&&void 0===Nb&&z.customFormatTypes&&("quantitative"===H.type&&z.numberFormatType?
cb=wc({fieldOrDatumDef:H,field:"datum.value",format:z.numberFormat,formatType:z.numberFormatType,config:z}):"temporal"===H.type&&z.timeFormatType&&Ec(H)&&void 0===H.timeUnit&&(cb=wc({fieldOrDatumDef:H,field:"datum.value",format:z.timeFormat,formatType:z.timeFormatType,config:z})));d=Object.assign({},qb?{opacity:qb}:{},cb?{text:cb}:{},d);return r(d)?void 0:d},entries:function(d,z){({legendCmpt:z}=z);z=z.get("selections");return null!==z&&void 0!==z&&z.length?Object.assign({},d,{fill:{value:"transparent"}}):
d}},am={direction:d=>{({direction:d}=d);return d},format:d=>{let {fieldOrDatumDef:z,legend:H,config:W}=d;const {format:na,formatType:ta}=H;return Rc(z,z.type,na,ta,W,!1)},formatType:d=>{let {legend:z,fieldOrDatumDef:H,scaleType:W}=d;({formatType:d}=z);return Lc(d,H,W)},gradientLength:d=>{var z,H;const {legend:W,legendConfig:na}=d;if(null!==(z=null!==(H=W.gradientLength)&&void 0!==H?H:na.gradientLength)&&void 0!==z)d=z;else{{let {legendConfig:ta,model:cb,direction:qb,orient:vb,scaleType:Nb}=d;const {gradientHorizontalMaxLength:xc,
gradientHorizontalMinLength:od,gradientVerticalMaxLength:Pc,gradientVerticalMinLength:Ed}=ta;d=Ei.has(Nb)?"horizontal"===qb?"top"===vb||"bottom"===vb?lg(cb,"width",od,xc):od:lg(cb,"height",Ed,Pc):void 0}}return d},labelOverlap:d=>{var z,H;let {legend:W,legendConfig:na,scaleType:ta}=d;d=null!==(z=null!==(H=W.labelOverlap)&&void 0!==H?H:na.labelOverlap)&&void 0!==z?z:g(["quantile","threshold","log","symlog"],ta)?"greedy":void 0;return d},symbolType:d=>{var z;let {legend:H,markDef:W,channel:na,encoding:ta}=
d;if(null!==(z=H.symbolType)&&void 0!==z)var cb=z;else a:{d=W.type;z=W.shape;if("shape"!==na){const qb=null!==(cb=ve(ta.shape))&&void 0!==cb?cb:z;if(qb){cb=qb;break a}}switch(d){case "bar":case "rect":case "image":case "square":cb="square";break a;case "line":case "trail":case "rule":cb="stroke";break a;case "arc":case "point":case "circle":case "tick":case "geoshape":case "area":case "text":cb="circle";break a}cb=void 0}return cb},title:d=>{let {fieldOrDatumDef:z,config:H}=d;return Ff(z,H,{allowDisabling:!0})},
type:d=>{let {legendType:z,scaleType:H,channel:W}=d;if(bb(W)&&Ei.has(H)){if("gradient"===z)return}else if("symbol"===z)return;return z},values:d=>{let {fieldOrDatumDef:z,legend:H}=d;d=H.values;d=p.isArray(d)?og(z,d):Bc(d)?d:void 0;return d}},tm="type clipAngle clipExtent center rotate precision reflectX reflectY coefficient distance fraction lobes parallel radius ratio spacing tilt".split(" ");class cm extends Pf{constructor(d,z,H,W){super(Object.assign({},z),{name:d});this.specifiedProjection=z;
this.size=H;this.data=W;yb(this,"merged",!1)}get isFit(){return!!this.data}}class Ij extends ih{clone(){return new Ij(null,Wf(this.bins))}constructor(d,z){super(d);this.bins=z}static makeFromEncoding(d,z){const H=z.reduceFieldDef((W,na,ta)=>{if(vd(na)&&Ta(na.bin)){const {key:Pc,binComponent:Ed}=fj(na,na.bin,z);var cb=Object,qb=cb.assign,vb=W[Pc];var Nb=z.config;if(Uf(na,ta)){var xc,od;const Ud=ec(z)?null!==(xc=null!==(od=z.axis(ta))&&void 0!==od?od:z.legend(ta))&&void 0!==xc?xc:{}:{};ta=Id(na,{expr:"datum"});
xc=Id(na,{expr:"datum",binSuffix:"end"});na={formulaAs:Id(na,{binSuffix:"range",forAs:!0}),formula:Pb(ta,xc,Ud.format,Ud.formatType,Nb)}}else na={};W[Pc]=qb.call(cb,{},Ed,vb,na)}return W},{});return r(H)?null:new Ij(d,H)}static makeFromTransform(d,z,H){const {key:W,binComponent:na}=fj(z,z.bin,H);return new Ij(d,{[W]:na})}merge(d,z){for(const H of se(d.bins))H in this.bins?(z(d.bins[H].signal,this.bins[H].signal),this.bins[H].as=O([...this.bins[H].as,...d.bins[H].as],c)):this.bins[H]=d.bins[H];for(const H of d.children)d.removeChild(H),
H.parent=this;d.remove()}producedFields(){return new Set(hi(this.bins).map(d=>d.as).flat(2))}dependentFields(){return new Set(hi(this.bins).map(d=>d.field))}hash(){return"Bin ".concat(c(this.bins))}assemble(){return hi(this.bins).flatMap(d=>{const z=[],[H,...W]=d.as;var na=d.bin,ta=Object.assign({},na);na=na.extent;ta=(delete ta.extent,ta);ta=Object.assign({},{type:"bin",field:ea(d.field),as:H,signal:d.signal},lb(na)?{extent:null}:{extent:na},d.span?{span:{signal:"span(".concat(d.span,")")}}:{},ta);
!na&&d.extentSignal&&(z.push({type:"extent",field:ea(d.field),signal:d.extentSignal}),ta.extent={signal:d.extentSignal});z.push(ta);for(const cb of W)for(na=0;2>na;na++)z.push({type:"formula",expr:Id({field:H[na]},{expr:"datum"}),as:cb[na]});d.formula&&z.push({type:"formula",expr:d.formula,as:d.formulaAs});return z})}}class xj extends ih{clone(){return new xj(null,new Set(this.dimensions),Wf(this.measures))}constructor(d,z,H){super(d);this.dimensions=z;this.measures=H}get groupBy(){return this.dimensions}static makeFromEncoding(d,
z){let H=!1;z.forEachFieldDef(ta=>{ta.aggregate&&(H=!0)});const W={},na=new Set;if(!H)return null;z.forEachFieldDef((ta,cb)=>{const {aggregate:qb,field:vb}=ta;if(qb)if("count"===qb){var Nb;null!==(Nb=W["*"])&&void 0!==Nb?Nb:W["*"]={};W["*"].count=new Set([Id(ta,{forAs:!0})])}else{if(Oa(qb)||ja(qb)){var xc;ta=Oa(qb)?"argmin":"argmax";var od=qb[ta];null!==(xc=W[od])&&void 0!==xc?xc:W[od]={};W[od][ta]=new Set([Id({op:ta,field:od},{forAs:!0})])}else{var Pc;null!==(Pc=W[vb])&&void 0!==Pc?Pc:W[vb]={};W[vb][qb]=
new Set([Id(ta,{forAs:!0})])}if(Sh[cb]&&"unaggregated"===z.scaleDomain(cb)){var Ed;null!==(Ed=W[vb])&&void 0!==Ed?Ed:W[vb]={};W[vb].min=new Set([Id({field:vb,aggregate:"min"},{forAs:!0})]);W[vb].max=new Set([Id({field:vb,aggregate:"max"},{forAs:!0})])}}else{xc=ec(z)?z.encoding[Fa(cb)]:void 0;vd(ta)&&ec(z)&&oc(ta,xc,z.markDef,z.config)?(na.add(Id(ta,{})),na.add(Id(ta,{suffix:"end"})),ta.bin&&Uf(ta,cb)&&na.add(Id(ta,{binSuffix:"range"}))):cb in Sj?(cb=Ja(cb),na.add(z.getName(cb))):na.add(Id(ta));if(cb=
ee(ta))cb=null===(od=ta.scale)||void 0===od?void 0:od.range,cb=p.isObject(cb)&&"field"in cb;cb&&na.add(ta.scale.range.field)}});return 0===na.size+se(W).length?null:new xj(d,na,W)}static makeFromTransform(d,z){const H=new Set,W={};for(const qb of z.aggregate){const {op:vb,field:Nb,as:xc}=qb;if(vb)if("count"===vb){var na;null!==(na=W["*"])&&void 0!==na?na:W["*"]={};W["*"].count=new Set([xc?xc:Id(qb,{forAs:!0})])}else{var ta;null!==(ta=W[Nb])&&void 0!==ta?ta:W[Nb]={};W[Nb][vb]=new Set([xc?xc:Id(qb,
{forAs:!0})])}}for(const qb of null!==(cb=z.groupby)&&void 0!==cb?cb:[]){var cb;H.add(qb)}return 0===H.size+se(W).length?null:new xj(d,H,W)}merge(d){if(G(this.dimensions,d.dimensions)){var z=this.measures;d=d.measures;for(const W of se(d)){const na=d[W];for(const ta of se(na))if(W in z){var H;z[W][ta]=new Set([...(null!==(H=z[W][ta])&&void 0!==H?H:[]),...na[ta]])}else z[W]={[ta]:na[ta]}}return!0}ld("different dimensions, cannot merge");return!1}addDimensions(d){d.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,
...se(this.measures)])}producedFields(){const d=new Set;for(const z of se(this.measures))for(const H of se(this.measures[z])){const W=this.measures[z][H];0===W.size?d.add("".concat(H,"_").concat(z)):W.forEach(d.add,d)}return d}hash(){return"Aggregate ".concat(c({dimensions:this.dimensions,measures:this.measures}))}assemble(){const d=[],z=[],H=[];for(const W of se(this.measures))for(const na of se(this.measures[W]))for(const ta of this.measures[W][na])H.push(ta),d.push(na),z.push("*"===W?null:ea(W));
return{type:"aggregate",groupby:[...this.dimensions].map(ea),ops:d,fields:z,as:H}}}class Mk extends ih{constructor(d,z,H,W){super(d);this.model=z;this.name=H;this.data=W;yb(this,"column",void 0);yb(this,"row",void 0);yb(this,"facet",void 0);yb(this,"childModel",void 0);for(const na of ui)if(d=z.facet[na]){const {bin:ta,sort:cb}=d;this[na]=Object.assign({},{name:z.getName("".concat(na,"_domain")),fields:[Id(d),...(Ta(ta)?[Id(d,{binSuffix:"end"})]:[])]},fa(cb)?{sortField:cb}:p.isArray(cb)?{sortIndexField:Ld(d,
na)}:{})}this.childModel=z.child}hash(){let d="Facet";for(const z of ui)this[z]&&(d+=" ".concat(z.charAt(0),":").concat(c(this[z])));return d}get fields(){const d=[];for(const H of ui){var z;null!==(z=this[H])&&void 0!==z&&z.fields&&d.push(...this[H].fields)}return d}dependentFields(){const d=new Set(this.fields);for(const z of ui)this[z]&&(this[z].sortField&&d.add(this[z].sortField.field),this[z].sortIndexField&&d.add(this[z].sortIndexField));return d}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const d=
{};for(const W of Wh){var z=this.childModel.component.scales[W];if(z&&!z.merged){var H=z.get("type");z=z.get("range");Gd(H)&&uc(z)&&(H=Qi(this.childModel,W),(H=jj(H))?d[W]=H:lc(nd(W)))}}return d}assembleRowColumnHeaderData(d,z,H){const W={row:"y",column:"x",facet:void 0}[d],na=[],ta=[],cb=[];W&&H&&H[W]&&(z?(na.push("distinct_".concat(H[W])),ta.push("max")):(na.push(H[W]),ta.push("distinct")),cb.push("distinct_".concat(H[W])));const {sortField:qb,sortIndexField:vb}=this[d];if(qb){const {op:Nb="min",
field:xc}=qb;na.push(xc);ta.push(Nb);cb.push(Id(qb,{forAs:!0}))}else vb&&(na.push(vb),ta.push("max"),cb.push(vb));return{name:this[d].name,source:null!==z&&void 0!==z?z:this.data,transform:[Object.assign({},{type:"aggregate",groupby:this[d].fields},na.length?{fields:na,ops:ta,as:cb}:{})]}}assembleFacetHeaderData(d){const {columns:z}=this.model.layout,{layoutHeaders:H}=this.model.component,W=[],na={};for(const xc of Rl){for(const od of Sl){var ta,cb=null!==(ta=H[xc]&&H[xc][od])&&void 0!==ta?ta:[];
for(const Pc of cb){var qb;if(0<(null===(qb=Pc.axes)||void 0===qb?void 0:qb.length)){na[xc]=!0;break}}}na[xc]&&(cb='length(data("'.concat(this.facet.name,'"))'),cb="row"===xc?z?{signal:"ceil(".concat(cb," / ").concat(z,")")}:1:z?{signal:"min(".concat(cb,", ").concat(z,")")}:{signal:cb},W.push({name:"".concat(this.facet.name,"_").concat(xc),transform:[{type:"sequence",start:0,stop:cb}]}))}const {row:vb,column:Nb}=na;(vb||Nb)&&W.unshift(this.assembleRowColumnHeaderData("facet",null,d));return W}assemble(){const d=
[];var z=null;const H=this.getChildIndependentFieldsWithStep(),{column:W,row:na,facet:ta}=this;if(W&&na&&(H.x||H.y)){var cb,qb;z="cross_".concat(this.column.name,"_").concat(this.row.name);const vb=[].concat(null!==(cb=H.x)&&void 0!==cb?cb:[],null!==(qb=H.y)&&void 0!==qb?qb:[]);cb=vb.map(()=>"distinct");d.push({name:z,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:vb,ops:cb}]})}for(const vb of["column","row"])this[vb]&&d.push(this.assembleRowColumnHeaderData(vb,z,H));ta&&
(z=this.assembleFacetHeaderData(H))&&d.push(...z);return d}}class xi extends ih{clone(){return new xi(null,Wf(this._parse))}constructor(d,z){super(d);yb(this,"_parse",void 0);this._parse=z}hash(){return"Parse ".concat(c(this._parse))}static makeExplicit(d,z,H){var W;let na={};z=z.data;!ab(z)&&null!==z&&void 0!==z&&null!==(W=z.format)&&void 0!==W&&W.parse&&(na=z.format.parse);return this.makeWithAncestors(d,na,{},H)}static makeWithAncestors(d,z,H,W){for(var na of se(H)){const cb=W.getWithExplicit(na);
void 0!==cb.value&&(cb.explicit||cb.value===H[na]||"derived"===cb.value||"flatten"===H[na]?delete H[na]:lc(le(na,H[na],cb.value)))}for(var ta of se(z))na=W.get(ta),void 0!==na&&(na===z[ta]?delete z[ta]:lc(le(ta,z[ta],na)));z=new Pf(z,H);W.copyAll(z);H={};for(const cb of se(z.combine()))ta=z.get(cb),null!==ta&&(H[cb]=ta);return 0===se(H).length||W.parseNothing?null:new xi(d,H)}get parse(){return this._parse}merge(d){this._parse=Object.assign({},this._parse,d.parse);d.remove()}assembleFormatParse(){const d=
{};for(const z of se(this._parse)){const H=this._parse[z];1===D(z)&&(d[z]=H)}return d}producedFields(){return new Set(se(this._parse))}dependentFields(){return new Set(se(this._parse))}assembleTransforms(){let d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;return se(this._parse).filter(z=>d?1<D(z):!0).map(z=>{const H=Gi(z,this._parse[z]);return H?{type:"formula",expr:H,as:X(z)}:null}).filter(z=>null!==z)}}class vk extends ih{clone(){return new vk(null)}constructor(d){super(d)}dependentFields(){return new Set}producedFields(){return new Set(["_vgsid_"])}hash(){return"Identifier"}assemble(){return{type:"identifier",
as:"_vgsid_"}}}class rl extends ih{clone(){return new rl(null,this.params)}constructor(d,z){super(d);this.params=z}dependentFields(){return new Set}producedFields(){}hash(){return"Graticule ".concat(c(this.params))}assemble(){return Object.assign({},{type:"graticule"},!0===this.params?{}:this.params)}}class sl extends ih{clone(){return new sl(null,this.params)}constructor(d,z){super(d);this.params=z}dependentFields(){return new Set}producedFields(){var d;return new Set([null!==(d=this.params.as)&&
void 0!==d?d:"data"])}hash(){return"Hash ".concat(c(this.params))}assemble(){return Object.assign({},{type:"sequence"},this.params)}}class uk extends ih{constructor(d){var z;super(null);yb(this,"_data",void 0);yb(this,"_name",void 0);yb(this,"_generator",void 0);null!==(z=d)&&void 0!==z?z:d={name:"source"};let H;ab(d)||(H=d.format?Object.assign({},b(d.format,["parse"])):{});if("values"in d)this._data={values:d.values};else if("url"in d)this._data={url:d.url},H.type||(z=/(?:\.([^.]+))?$/.exec(d.url)[1],
g(["json","csv","tsv","dsv","topojson"],z)||(z="json"),H.type=z);else if("sphere"in d)this._data={values:[{type:"Sphere"}]};else if(Da(d)||ab(d))this._data={};this._generator=ab(d);d.name&&(this._name=d.name);H&&!r(H)&&(this._data.format=H)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(d){this._name=d}set parent(d){throw Error("Source nodes have to be roots.");
}remove(){throw Error("Source nodes are roots and cannot be removed.");}hash(){throw Error("Cannot hash sources");}assemble(){return Object.assign({},{name:this._name},this._data,{transform:[]})}}var gl=new WeakMap;class Tl{constructor(){if(gl.has(this))throw new TypeError("Cannot initialize the same private elements twice on an object");gl.set(this,{writable:!0,value:void 0});Ub(this,gl,!1)}setModified(){Ub(this,gl,!0)}get modifiedFlag(){var d=Tb(this,gl,"get");return d.get?d.get.call(this):d.value}}
class wk extends Tl{getNodeDepths(d,z,H){H.set(d,z);for(const W of d.children)this.getNodeDepths(W,z+1,H);return H}optimize(d){d=[...this.getNodeDepths(d,0,new Map).entries()].sort((z,H)=>H[1]-z[1]);for(const z of d)this.run(z[0]);return this.modifiedFlag}}class Ul extends Tl{optimize(d){this.run(d);for(const z of d.children)this.optimize(z);return this.modifiedFlag}}class Dm extends Ul{mergeNodes(d,z){const H=z.shift();for(const W of z)d.removeChild(W),W.parent=H,W.remove()}run(d){const z=d.children.map(W=>
W.hash()),H={};for(let W=0;W<z.length;W++)void 0===H[z[W]]?H[z[W]]=[d.children[W]]:H[z[W]].push(d.children[W]);for(const W of se(H))1<H[W].length&&(this.setModified(),this.mergeNodes(d,H[W]))}}class vm extends Ul{constructor(d){super();yb(this,"requiresSelectionId",void 0);this.requiresSelectionId=d&&Zf(d)}run(d){!(d instanceof vk)||this.requiresSelectionId&&(cj(d.parent)||d.parent instanceof xj||d.parent instanceof xi)||(this.setModified(),d.remove())}}class zm extends Tl{optimize(d){this.run(d,
new Set);return this.modifiedFlag}run(d,z){let H=new Set;d instanceof Jj&&(H=d.producedFields(),I(H,z)&&(this.setModified(),d.removeFormulas(z),0===d.producedFields.length&&d.remove()));for(const W of d.children)this.run(W,new Set([...z,...H]))}}class um extends Ul{constructor(){super()}run(d){d instanceof wi&&!d.isRequired()&&(this.setModified(),d.remove())}}class xm extends wk{run(d){if(!(cj(d)||1<d.numChildren()))for(const z of d.children)z instanceof xi&&(d instanceof xi?(this.setModified(),d.merge(z)):
C(d.producedFields(),z.dependentFields())||(this.setModified(),z.swapWithParent()))}}class Am extends wk{run(d){const z=[...d.children];var H=d.children.filter(na=>na instanceof xi);if(1<d.numChildren()&&1<=H.length){const na={};var W=new Set;for(const ta of H){H=ta.parse;for(const cb of se(H))cb in na?na[cb]!==H[cb]&&W.add(cb):na[cb]=H[cb]}for(const ta of W)delete na[ta];if(!r(na)){this.setModified();W=new xi(d,na);for(const ta of z){if(ta instanceof xi)for(const cb of se(na))delete ta.parse[cb];
d.removeChild(ta);ta.parent=W;ta instanceof xi&&0===se(ta.parse).length&&ta.remove()}}}}}class wm extends wk{run(d){d instanceof wi||0<d.numChildren()||d instanceof Mk||d instanceof uk||(this.setModified(),d.remove())}}class Cm extends wk{run(d){d=d.children.filter(H=>H instanceof Jj);const z=d.pop();for(const H of d)this.setModified(),z.merge(H)}}class Bm extends wk{run(d){var z=d.children.filter(na=>na instanceof xj);const H={};for(var W of z)z=c(W.groupBy),z in H||(H[z]=[]),H[z].push(W);for(const na of se(H))if(W=
H[na],1<W.length){z=W.pop();for(const ta of W)z.merge(ta)&&(d.removeChild(ta),ta.parent=z,ta.remove(),this.setModified())}}}class ym extends wk{constructor(d){super();this.model=d}run(d){var z=!(cj(d)||d instanceof dl||d instanceof xi||d instanceof vk);const H=[],W=[];for(const na of d.children)na instanceof Ij&&(z&&!C(d.producedFields(),na.dependentFields())?H.push(na):W.push(na));if(0<H.length){z=H.pop();for(const na of H)z.merge(na,this.model.renameSignal.bind(this.model));this.setModified();d instanceof
Ij?d.merge(z,this.model.renameSignal.bind(this.model)):z.swapWithParent()}if(1<W.length){d=W.pop();for(const na of W)d.merge(na,this.model.renameSignal.bind(this.model));this.setModified()}}}class Em extends wk{run(d){var z=[...d.children];if(m(z,na=>na instanceof wi)&&!(1>=d.numChildren())){var H=[];for(const na of z)if(na instanceof wi){for(z=na;1===z.numChildren();){const [ta]=z.children;if(ta instanceof wi)z=ta;else break}H.push(...z.children);if(W)d.removeChild(na),na.parent=W.parent,W.parent.removeChild(W),
W.parent=z,this.setModified();else var W=z}else H.push(na);if(H.length){this.setModified();for(const na of H)na.parent.removeChild(na),na.parent=W}}}}class Nk extends ih{clone(){return new Nk(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z}addDimensions(d){this.transform.groupby=O(this.transform.groupby.concat(d),z=>z)}dependentFields(){const d=new Set;this.transform.groupby&&this.transform.groupby.forEach(d.add,d);this.transform.joinaggregate.map(z=>z.field).filter(z=>void 0!==
z).forEach(d.add,d);return d}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(d){var z;return null!==(z=d.as)&&void 0!==z?z:Id(d)}hash(){return"JoinAggregateTransform ".concat(c(this.transform))}assemble(){const d=[],z=[],H=[];for(var W of this.transform.joinaggregate)z.push(W.op),H.push(this.getDefaultName(W)),d.push(void 0===W.field?null:W.field);W=this.transform.groupby;return Object.assign({},{type:"joinaggregate",as:H,ops:z,fields:d},void 0!==
W?{groupby:W}:{})}}class gk extends ih{clone(){return new gk(null,Wf(this._stack))}constructor(d,z){super(d);yb(this,"_stack",void 0);this._stack=z}static makeFromTransform(d,z){const {stack:H,groupby:W,as:na,offset:ta="zero"}=z;var cb=[];const qb=[];if(void 0!==z.sort)for(const vb of z.sort)cb.push(vb.field),qb.push(B(vb.order,"ascending"));cb={field:cb,order:qb};z=Lj(na)?na:p.isString(na)?[na,"".concat(na,"_end")]:["".concat(z.stack,"_start"),"".concat(z.stack,"_end")];return new gk(d,{dimensionFieldDefs:[],
stackField:H,groupby:W,offset:ta,sort:cb,facetby:[],as:z})}static makeFromEncoding(d,z){var H=z.stack;const {encoding:W}=z;if(!H)return null;const {groupbyChannels:na,fieldChannel:ta,offset:cb,impute:qb}=H;H=na.map(xc=>Tf(W[xc])).filter(xc=>!!xc);const vb=xk(z);var Nb=z.encoding.order;Nb=p.isArray(Nb)||Ec(Nb)?va(Nb):vb.reduce((xc,od)=>{xc.field.push(od);xc.order.push("y"===ta?"descending":"ascending");return xc},{field:[],order:[]});return new gk(d,{dimensionFieldDefs:H,stackField:z.vgField(ta),facetby:[],
stackby:vb,sort:Nb,offset:cb,impute:qb,as:[z.vgField(ta,{suffix:"start",forAs:!0}),z.vgField(ta,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(d){this._stack.facetby.push(...d)}dependentFields(){const d=new Set;d.add(this._stack.stackField);this.getGroupbyFields().forEach(d.add,d);this._stack.facetby.forEach(d.add,d);this._stack.sort.field.forEach(d.add,d);return d}producedFields(){return new Set(this._stack.as)}hash(){return"Stack ".concat(c(this._stack))}getGroupbyFields(){const {dimensionFieldDefs:d,
impute:z,groupby:H}=this._stack;return 0<d.length?d.map(W=>W.bin?z?[Id(W,{binSuffix:"mid"})]:[Id(W,{}),Id(W,{binSuffix:"end"})]:[Id(W)]).flat():null!==H&&void 0!==H?H:[]}assemble(){const d=[],{facetby:z,dimensionFieldDefs:H,stackField:W,stackby:na,sort:ta,offset:cb,impute:qb,as:vb}=this._stack;if(qb)for(const Nb of H){const {bandPosition:xc=.5,bin:od}=Nb;if(od){const Pc=Id(Nb,{expr:"datum"}),Ed=Id(Nb,{expr:"datum",binSuffix:"end"});d.push({type:"formula",expr:"".concat(xc,"*").concat(Pc,"+").concat(1-
xc,"*").concat(Ed),as:Id(Nb,{binSuffix:"mid",forAs:!0})})}d.push({type:"impute",field:W,groupby:[...na,...z],key:Id(Nb,{binSuffix:"mid"}),method:"value",value:0})}d.push({type:"stack",groupby:[...this.getGroupbyFields(),...z],field:W,sort:ta,as:vb,offset:cb});return d}}class cl extends ih{clone(){return new cl(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z}addDimensions(d){this.transform.groupby=O(this.transform.groupby.concat(d),z=>z)}dependentFields(){var d,z;const H=new Set;
(null!==(d=this.transform.groupby)&&void 0!==d?d:[]).forEach(H.add,H);(null!==(z=this.transform.sort)&&void 0!==z?z:[]).forEach(W=>H.add(W.field));this.transform.window.map(W=>W.field).filter(W=>void 0!==W).forEach(H.add,H);return H}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(d){var z;return null!==(z=d.as)&&void 0!==z?z:Id(d)}hash(){return"WindowTransform ".concat(c(this.transform))}assemble(){const d=[],z=[],H=[],W=[];for(var na of this.transform.window)z.push(na.op),
H.push(this.getDefaultName(na)),W.push(void 0===na.param?null:na.param),d.push(void 0===na.field?null:na.field);na=this.transform.frame;const ta=this.transform.groupby;if(na&&null===na[0]&&null===na[1]&&z.every(Nb=>U(Nb)))return Object.assign({},{type:"joinaggregate",as:H,ops:z,fields:d},void 0!==ta?{groupby:ta}:{});const cb=[],qb=[];if(void 0!==this.transform.sort)for(const Nb of this.transform.sort){var vb;cb.push(Nb.field);qb.push(null!==(vb=Nb.order)&&void 0!==vb?vb:"ascending")}vb=this.transform.ignorePeers;
return Object.assign({},{type:"window",params:W,as:H,ops:z,fields:d,sort:{field:cb,order:qb}},void 0!==vb?{ignorePeers:vb}:{},void 0!==ta?{groupby:ta}:{},void 0!==na?{frame:na}:{})}}class Ni{constructor(d){yb(this,"signal",void 0);Object.defineProperty(this,"signal",{enumerable:!0,get:d})}static fromName(d,z){return new Ni(()=>d(z))}}class em extends Pf{constructor(d,z){super({},{name:d});yb(this,"merged",!1);this.setWithExplicit("type",z)}domainDefinitelyIncludesZero(){return!1!==this.get("zero")?
!0:m(this.get("domains"),d=>p.isArray(d)&&2===d.length&&0>=d[0]&&0<=d[1])}}const Fm=["range","scheme"],dm={bins:d=>{let {model:z,fieldOrDatumDef:H}=d;return Ec(H)?Q(z,H):void 0},interpolate:d=>{let {channel:z,fieldOrDatumDef:H}=d;d=H.type;d=g(["color","fill","stroke"],z)&&"nominal"!==d?"hcl":void 0;return d},nice:d=>{let {scaleType:z,channel:H,domain:W,domainMin:na,domainMax:ta,fieldOrDatumDef:cb}=d;var qb;d=null!==(qb=Tf(cb))&&void 0!==qb&&qb.bin||p.isArray(W)||null!=ta||null!=na||g([Xh.TIME,Xh.UTC],
z)?void 0:xa(H)?!0:void 0;return d},padding:d=>{let {channel:z,scaleType:H,fieldOrDatumDef:W,markDef:na,config:ta}=d;a:{d=ta.scale;var cb=ta.bar;if(xa(z)){if(Ei.has(H)){if(void 0!==d.continuousPadding){d=d.continuousPadding;break a}const {type:qb,orient:vb}=na;if("bar"===qb&&(!Ec(W)||!W.bin&&!W.timeUnit)&&("vertical"===vb&&"x"===z||"horizontal"===vb&&"y"===z)){d=cb.continuousBandSize;break a}}if(H===Xh.POINT){d=d.pointPadding;break a}}d=void 0}return d},paddingInner:d=>{let {scalePadding:z,channel:H,
markDef:W,scaleType:na,config:ta,hasNestedOffsetScale:cb}=d;return ba(z,H,W.type,na,ta.scale,cb)},paddingOuter:d=>{let {scalePadding:z,channel:H,scaleType:W,scalePaddingInner:na,config:ta,hasNestedOffsetScale:cb}=d;return Ha(z,H,W,na,ta.scale,cb)},reverse:d=>{let {fieldOrDatumDef:z,scaleType:H,channel:W,config:na}=d;d=Ec(z)?z.sort:void 0;var ta=na.scale;d="x"===W&&void 0!==ta.xReverse?Pd(H)&&"descending"===d?Bc(ta.xReverse)?{signal:"!".concat(ta.xReverse.signal)}:!ta.xReverse:ta.xReverse:Pd(H)&&"descending"===
d?!0:void 0;return d},zero:d=>{let {channel:z,fieldOrDatumDef:H,domain:W,markDef:na,scaleType:ta}=d;a:if(W&&"unaggregated"!==W&&Pd(ta)){if(p.isArray(W)&&(d=W[W.length-1],0>=W[0]&&0<=d)){d=!0;break a}d=!1}else if("size"!==z||"quantitative"!==H.type||Cj.has(ta))if(Ec(H)&&H.bin||!g([...Wh,...Bk],z))d=!1;else{const {orient:cb,type:qb}=na;d=g(["bar","area","line","trail"],qb)&&("horizontal"===cb&&"y"===z||"vertical"===cb&&"x"===z)?!1:!0}else d=!0;return d}},Gm=eg((d,z)=>Uk[d]-Uk[z]);class Vl{constructor(){yb(this,
"nameMap",void 0);this.nameMap={}}rename(d,z){this.nameMap[d]=z}has(d){return void 0!==this.nameMap[d]}get(d){for(;this.nameMap[d]&&d!==this.nameMap[d];)d=this.nameMap[d];return d}}class Wl{constructor(d,z,H,W,na,ta,cb){var qb,vb;this.type=z;this.parent=H;this.config=na;yb(this,"name",void 0);yb(this,"size",void 0);yb(this,"title",void 0);yb(this,"description",void 0);yb(this,"data",void 0);yb(this,"transforms",void 0);yb(this,"layout",void 0);yb(this,"scaleNameMap",void 0);yb(this,"projectionNameMap",
void 0);yb(this,"signalNameMap",void 0);yb(this,"component",void 0);yb(this,"view",void 0);yb(this,"children",void 0);yb(this,"correctDataNames",Nb=>{var xc,od,Pc;null!==(xc=Nb.from)&&void 0!==xc&&xc.data&&(Nb.from.data=this.lookupDataSource(Nb.from.data));null!==(od=Nb.from)&&void 0!==od&&null!==(Pc=od.facet)&&void 0!==Pc&&Pc.data&&(Nb.from.facet.data=this.lookupDataSource(Nb.from.facet.data));return Nb});this.parent=H;this.config=na;this.view=$b(cb);this.name=null!==(qb=d.name)&&void 0!==qb?qb:
W;this.title=zc(d.title)?{text:d.title}:d.title?$b(d.title):void 0;this.scaleNameMap=H?H.scaleNameMap:new Vl;this.projectionNameMap=H?H.projectionNameMap:new Vl;this.signalNameMap=H?H.signalNameMap:new Vl;this.data=d.data;this.description=d.description;this.transforms=Ch(null!==(vb=d.transform)&&void 0!==vb?vb:[]);this.layout="layer"===z||"unit"===z?{}:ae(d,z,na);this.component={data:{sources:H?H.component.data.sources:[],outputNodes:H?H.component.data.outputNodes:{},outputNodeRefCounts:H?H.component.data.outputNodeRefCounts:
{},isFaceted:"facet"in d||(null===H||void 0===H?void 0:H.component.data.isFaceted)&&void 0===d.data},layoutSize:new Pf,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:Object.assign({},{scale:{},axis:{},legend:{}},ta?Wf(ta):{}),selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale();this.parseLayoutSize();this.renameTopLevelLayoutSizeSignal();this.parseSelections();
this.parseProjection();this.parseData();this.parseAxesAndHeaders();this.parseLegends();this.parseMarkGroup()}parseScale(){wb(this)}parseProjection(){Nj(this)}renameTopLevelLayoutSizeSignal(){"width"!==this.getName("width")&&this.renameSignal(this.getName("width"),"width");"height"!==this.getName("height")&&this.renameSignal(this.getName("height"),"height")}parseLegends(){Eg(this)}assembleEncodeFromView(d){d=Object.assign({},d);d=(delete d.style,d);const z={};for(const H of se(d)){const W=d[H];void 0!==
W&&(z[H]=Wb(W))}return z}assembleGroupEncodeEntry(d){let z={};this.view&&(z=this.assembleEncodeFromView(this.view));if(!d&&(this.description&&(z.description=Wb(this.description)),"unit"===this.type||"layer"===this.type)){var H;return Object.assign({},{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height")},null!==(H=z)&&void 0!==H?H:{})}return r(z)?void 0:z}assembleLayout(){if(this.layout){var d=this.layout,z=Object.assign({},d);d=d.spacing;z=(delete z.spacing,z);var {component:H,
config:W}=this,na=H.layoutHeaders,ta={};for(qb of ui){var cb=na[qb];if(null!==cb&&void 0!==cb&&cb.facetFieldDef){const {titleAnchor:vb,titleOrient:Nb}=oe(["titleAnchor","titleOrient"],cb.facetFieldDef.header,W,qb);cb=be(qb,Nb);const xc=Km[cb][vb];void 0!==xc&&(ta[cb]=xc)}}var qb=r(ta)?void 0:ta;return Object.assign({},{padding:d},this.assembleDefaultLayout(),z,qb?{titleBand:qb}:{})}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){var {layoutHeaders:d}=this.component,z=[];for(var H of ui)if(d[H].title){var W=
z,na=W.push;var ta=H;var cb=this.component.layoutHeaders[ta].title,qb=this.config?this.config:void 0,vb=this.component.layoutHeaders[ta].facetFieldDef?this.component.layoutHeaders[ta].facetFieldDef:void 0;const {titleAnchor:pe,titleAngle:Ie,titleOrient:je}=oe(["titleAnchor","titleAngle","titleOrient"],vb.header,qb,ta);var Nb=be(ta,je),xc=qa(Ie);ta={name:"".concat(ta,"-title"),type:"group",role:"".concat(Nb,"-title"),title:Object.assign({},{text:cb},"row"===ta?{orient:"left"}:{},{style:"guide-title"},
xf(xc,Nb),Qe(Nb,xc,pe),$f(qb,vb,ta,Gl,ol))};na.call(W,ta)}for(const pe of Rl){d=z;z=d.concat;W=pe;na=this.component.layoutHeaders[W];H=[];for(const Ie of Sl)if(na[Ie])for(const je of na[Ie]){a:{vb=void 0;ta=W;var od=Ie,Pc=na;if(cb=je){qb=null;({facetFieldDef:Ud}=Pc);Nb=this.config?this.config:void 0;Ud&&cb.labels&&({labelOrient:xc}=oe(["labelOrient"],Ud.header,Nb,ta),"row"===ta&&!g(["top","bottom"],xc)||"column"===ta&&!g(["left","right"],xc))&&(qb=Me(Ud,ta,Nb));const Fe=Mc(this)&&!gb(this.facet),
cf=cb.axes,Ue=0<(null===cf||void 0===cf?void 0:cf.length);if(qb||Ue){const Ke="row"===ta?"height":"width";Nb=Object;xc=Nb.assign;od={name:this.getName("".concat(ta,"_").concat(od)),type:"group",role:"".concat(ta,"-").concat(od)};if(Pc.facetFieldDef){Pc={data:this.getName("".concat(ta,"_domain"))};{var Ed=Ud;const {sort:Yf}=Ed;var Ud=fa(Yf)?{field:Id(Yf,{expr:"datum"}),order:null!==(vb=Yf.order)&&void 0!==vb?vb:"ascending"}:p.isArray(Yf)?{field:Ld(Ed,ta,{expr:"datum"}),order:"ascending"}:{field:Id(Ed,
{expr:"datum"}),order:null!==Yf&&void 0!==Yf?Yf:"ascending"}}vb={from:Pc,sort:Ud}}else vb={};ta=xc.call(Nb,{},od,vb,Ue&&Fe?{from:{data:this.getName("facet_domain_".concat(ta))}}:{},qb?{title:qb}:{},cb.sizeSignal?{encode:{update:{[Ke]:cb.sizeSignal}}}:{},Ue?{axes:cf}:{});break a}}ta=null}null!=ta&&H.push(ta)}z=z.call(d,H)}return z}assembleAxes(){return Oi(this.component.axes,this.config)}assembleLegends(){return nh(this)}assembleProjections(){var d=ad(this)||Wc(this)?yh(this):oi(this);return d}assembleTitle(){var d,
z=null!==(d=this.title)&&void 0!==d?d:{};d=Object.assign({},z);z=z.encoding;d=(delete d.encoding,d);z=Object.assign({},Gc(this.config.title).nonMarkTitleProperties,d,z?{encode:{update:z}}:{});if(z.text){if(g(["unit","layer"],this.type)){if(g(["middle",void 0],z.anchor)){var H;null!==(H=z.frame)&&void 0!==H?H:z.frame="group"}}else{var W;null!==(W=z.anchor)&&void 0!==W?W:z.anchor="start"}return r(z)?void 0:z}}assembleGroup(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];const z={};
d=d.concat(this.assembleSignals());0<d.length&&(z.signals=d);if(d=this.assembleLayout())z.layout=d;z.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());d=!this.parent||Mc(this.parent)?wj(this):[];0<d.length&&(z.scales=d);d=this.assembleAxes();0<d.length&&(z.axes=d);d=this.assembleLegends();0<d.length&&(z.legends=d);return z}getName(d){return K((this.name?"".concat(this.name,"_"):"")+d)}getDataName(d){return this.getName(Hg[d].toLowerCase())}requestDataName(d){d=this.getDataName(d);const z=
this.component.data.outputNodeRefCounts;z[d]=(z[d]||0)+1;return d}getSizeSignalRef(d){if(Mc(this.parent)){var z=gh(d),H=Ua(z);if((z=this.component.scales[H])&&!z.merged){var W=z.get("type");const na=z.get("range");if(Gd(W)&&uc(na)){d=z.get("name");W=Qi(this,H);if(W=jj(W))return H=Id({aggregate:"distinct",field:W},{expr:"datum"}),{signal:$e(d,z,H)};lc(nd(H));return null}}}return{signal:this.signalNameMap.get(this.getName(d))}}lookupDataSource(d){const z=this.component.data.outputNodes[d];return z?
z.getSource():d}getSignalName(d){return this.signalNameMap.get(d)}renameSignal(d,z){this.signalNameMap.rename(d,z)}renameScale(d,z){this.scaleNameMap.rename(d,z)}renameProjection(d,z){this.projectionNameMap.rename(d,z)}scaleName(d,z){if(z)return this.getName(d);if(Zj[d]&&Sh[d]&&this.component.scales[d]||this.scaleNameMap.has(this.getName(d)))return this.scaleNameMap.get(this.getName(d))}projectionName(d){if(d)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||
this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(d){if(!this.component.scales)throw Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const z=this.component.scales[d];return z&&!z.merged?z:this.parent?this.parent.getScaleComponent(d):void 0}getSelectionComponent(d,z){let H=this.component.selection[d];!H&&this.parent&&(H=this.parent.getSelectionComponent(d,
z));if(!H)throw Error('Cannot find a selection named "'.concat(z,'".'));return H}hasAxisOrientSignalRef(){var d,z;return(null===(d=this.component.axes.x)||void 0===d?void 0:d.some(H=>H.hasOrientSignalRef()))||(null===(z=this.component.axes.y)||void 0===z?void 0:z.some(H=>H.hasOrientSignalRef()))}}class nm extends Wl{vgField(d){let z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};const H=this.fieldDef(d);if(H)return Id(H,z)}reduceFieldDef(d,z){return of(this.getMapping(),(H,W,na)=>(W=Tf(W))?
d(H,W,na):H,z)}forEachFieldDef(d,z){ne(this.getMapping(),(H,W)=>{(H=Tf(H))&&d(H,W)},z)}}class Ll extends ih{clone(){return new Ll(null,Wf(this.transform))}constructor(d,z){var H,W,na;super(d);this.transform=z;this.transform=Wf(z);d=null!==(H=this.transform.as)&&void 0!==H?H:[void 0,void 0];this.transform.as=[null!==(W=d[0])&&void 0!==W?W:"value",null!==(na=d[1])&&void 0!==na?na:"density"];z.groupby&&null==z.minsteps&&null==z.maxsteps&&null==z.steps&&(this.transform.steps=200)}dependentFields(){var d;
return new Set([this.transform.density,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"DensityTransform ".concat(c(this.transform))}assemble(){var d=this.transform,z=Object.assign({},d);d=d.density;z=(delete z.density,z);return Object.assign({},{type:"kde",field:d},z)}}class tl extends ih{clone(){return new tl(null,Object.assign({},this.filter))}constructor(d,z){super(d);this.filter=z}static make(d,z){const {config:H,mark:W,
markDef:na}=z;if("filter"!==Sc("invalid",na,H))return null;const ta=z.reduceFieldDef((cb,qb,vb)=>{if(vb=!!Sh[vb]&&z.getScaleComponent(vb))vb=vb.get("type"),Pd(vb)&&"count"!==qb.aggregate&&!Ea(W)&&(cb[qb.field]=qb);return cb},{});return se(ta).length?new tl(d,ta):null}dependentFields(){return new Set(se(this.filter))}producedFields(){return new Set}hash(){return"FilterInvalid ".concat(c(this.filter))}assemble(){const d=se(this.filter).reduce((z,H)=>{H=this.filter[H];const W=Id(H,{expr:"datum"});null!==
H&&("temporal"===H.type?z.push("(isDate(".concat(W,") || (isValid(").concat(W,") \x26\x26 isFinite(+").concat(W,")))")):"quantitative"===H.type&&(z.push("isValid(".concat(W,")")),z.push("isFinite(+".concat(W,")"))));return z},[]);return 0<d.length?{type:"filter",expr:d.join(" \x26\x26 ")}:null}}class Kl extends ih{clone(){return new Kl(this.parent,Wf(this.transform))}constructor(d,z){super(d);this.transform=z;this.transform=Wf(z);const {flatten:H,as:W=[]}=this.transform;this.transform.as=H.map((na,
ta)=>{var cb;return null!==(cb=W[ta])&&void 0!==cb?cb:na})}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return"FlattenTransform ".concat(c(this.transform))}assemble(){const {flatten:d,as:z}=this.transform;return{type:"flatten",fields:d,as:z}}}class Jl extends ih{clone(){return new Jl(null,Wf(this.transform))}constructor(d,z){var H,W,na;super(d);this.transform=z;this.transform=Wf(z);d=null!==(H=this.transform.as)&&void 0!==H?H:[void 0,
void 0];this.transform.as=[null!==(W=d[0])&&void 0!==W?W:"key",null!==(na=d[1])&&void 0!==na?na:"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return"FoldTransform ".concat(c(this.transform))}assemble(){const {fold:d,as:z}=this.transform;return{type:"fold",fields:d,as:z}}}class fl extends ih{clone(){return new fl(null,Wf(this.fields),this.geojson,this.signal)}static parseAll(d,z){if(z.component.projection&&!z.component.projection.isFit)return d;
let H=0;for(var W of[["longitude","latitude"],["longitude2","latitude2"]]){const na=W.map(ta=>{ta=Gf(z.encoding[ta]);return Ec(ta)?ta.field:Be(ta)?{expr:"".concat(ta.datum)}:Kd(ta)?{expr:"".concat(ta.value)}:void 0});if(na[0]||na[1])d=new fl(d,na,null,z.getName("geojson_".concat(H++)))}z.channelHasField("shape")&&(W=z.typedFieldDef("shape"),"geojson"===W.type&&(d=new fl(d,null,W.field,z.getName("geojson_".concat(H++)))));return d}constructor(d,z,H,W){super(d);this.fields=z;this.geojson=H;this.signal=
W}dependentFields(){var d;const z=(null!==(d=this.fields)&&void 0!==d?d:[]).filter(p.isString);return new Set([...(this.geojson?[this.geojson]:[]),...z])}producedFields(){return new Set}hash(){return"GeoJSON ".concat(this.geojson," ").concat(this.signal," ").concat(c(this.fields))}assemble(){return[...(this.geojson?[{type:"filter",expr:'isValid(datum["'.concat(this.geojson,'"])')}]:[]),Object.assign({},{type:"geojson"},this.fields?{fields:this.fields}:{},this.geojson?{geojson:this.geojson}:{},{signal:this.signal})]}}
class ul extends ih{clone(){return new ul(null,this.projection,Wf(this.fields),Wf(this.as))}constructor(d,z,H,W){super(d);this.projection=z;this.fields=H;this.as=W}static parseAll(d,z){if(!z.projectionName())return d;for(const H of[["longitude","latitude"],["longitude2","latitude2"]]){const W=H.map(ta=>{ta=Gf(z.encoding[ta]);return Ec(ta)?ta.field:Be(ta)?{expr:"".concat(ta.datum)}:Kd(ta)?{expr:"".concat(ta.value)}:void 0}),na="longitude2"===H[0]?"2":"";if(W[0]||W[1])d=new ul(d,z.projectionName(),
W,[z.getName("x".concat(na)),z.getName("y".concat(na))])}return d}dependentFields(){return new Set(this.fields.filter(p.isString))}producedFields(){return new Set(this.as)}hash(){return"Geopoint ".concat(this.projection," ").concat(c(this.fields)," ").concat(c(this.as))}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Ok extends ih{clone(){return new Ok(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z}dependentFields(){var d;return new Set([this.transform.impute,
this.transform.key,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set([this.transform.impute])}processSequence(d){const {start:z=0,stop:H,step:W}=d;d=[z,H,...(W?[W]:[])].join();return{signal:"sequence(".concat(d,")")}}static makeFromTransform(d,z){return new Ok(d,z)}static makeFromEncoding(d,z){const H=z.encoding;var W=H.x;const na=H.y;if(Ec(W)&&Ec(na)){const ta=W.impute?W:na.impute?na:void 0;if(void 0===ta)return;W=W.impute?na:na.impute?W:void 0;const {method:cb,
value:qb,frame:vb,keyvals:Nb}=ta.impute;z=uf(z.mark,H);return new Ok(d,Object.assign({},{impute:ta.field,key:W.field},cb?{method:cb}:{},void 0!==qb?{value:qb}:{},vb?{frame:vb}:{},void 0!==Nb?{keyvals:Nb}:{},z.length?{groupby:z}:{}))}return null}hash(){return"Impute ".concat(c(this.transform))}assemble(){const {impute:d,key:z,keyvals:H,method:W,groupby:na,value:ta,frame:cb=[null,null]}=this.transform,qb=Object.assign({},{type:"impute",field:d,key:z},H?{keyvals:void 0!==(null===H||void 0===H?void 0:
H.stop)?this.processSequence(H):H}:{},{method:"value"},na?{groupby:na}:{},{value:W&&"value"!==W?null:ta});if(W&&"value"!==W){const vb=Object.assign({},{type:"window",as:["imputed_".concat(d,"_value")],ops:[W],fields:[d],frame:cb,ignorePeers:!1},na?{groupby:na}:{}),Nb={type:"formula",expr:"datum.".concat(d," \x3d\x3d\x3d null ? datum.imputed_").concat(d,"_value : datum.").concat(d),as:d};return[qb,vb,Nb]}return[qb]}}class Ml extends ih{clone(){return new Ml(null,Wf(this.transform))}constructor(d,z){var H,
W,na;super(d);this.transform=z;this.transform=Wf(z);d=null!==(H=this.transform.as)&&void 0!==H?H:[void 0,void 0];this.transform.as=[null!==(W=d[0])&&void 0!==W?W:z.on,null!==(na=d[1])&&void 0!==na?na:z.loess]}dependentFields(){var d;return new Set([this.transform.loess,this.transform.on,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"LoessTransform ".concat(c(this.transform))}assemble(){var d=this.transform,z=Object.assign({},
d);const H=d.loess;d=d.on;z=(delete z.loess,delete z.on,z);return Object.assign({},{type:"loess",x:d,y:H},z)}}class vl extends ih{clone(){return new vl(null,Wf(this.transform),this.secondary)}constructor(d,z,H){super(d);this.transform=z;this.secondary=H}static make(d,z,H,W){const na=z.component.data.sources,{from:ta}=H;var cb=null;if("data"in ta)cb=Of(ta.data,na),cb||(cb=new uk(ta.data),na.push(cb)),W=z.getName("lookup_".concat(W)),cb=new wi(cb,W,Hg.Lookup,z.component.data.outputNodeRefCounts),z.component.data.outputNodes[W]=
cb;else if("param"in ta){W=ta.param;H=Object.assign({},{as:W},H);let qb;try{qb=z.getSelectionComponent(K(W),W)}catch(vb){throw Error('Lookups can only be performed on selection parameters. "'.concat(W,'" is a variable parameter.'));}cb=qb.materialized;if(!cb)throw Error('Cannot define and lookup the "'.concat(W,'" selection in the same view. ')+"Try moving the lookup into a second, layered view?");}return new vl(d,H,cb.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?
p.array(this.transform.as):this.transform.from.fields)}hash(){return"Lookup ".concat(c({transform:this.transform,secondary:this.secondary}))}assemble(){if(this.transform.from.fields)var d=Object.assign({},{values:this.transform.from.fields},this.transform.as?{as:p.array(this.transform.as)}:{});else d=this.transform.as,p.isString(d)||(lc('If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.'),d="_lookup"),d={as:[d]};return Object.assign({},
{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup]},d,this.transform.default?{default:this.transform.default}:{})}}class Nl extends ih{clone(){return new Nl(null,Wf(this.transform))}constructor(d,z){var H,W,na;super(d);this.transform=z;this.transform=Wf(z);d=null!==(H=this.transform.as)&&void 0!==H?H:[void 0,void 0];this.transform.as=[null!==(W=d[0])&&void 0!==W?W:"prob",null!==(na=d[1])&&void 0!==na?na:"value"]}dependentFields(){var d;return new Set([this.transform.quantile,
...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"QuantileTransform ".concat(c(this.transform))}assemble(){var d=this.transform,z=Object.assign({},d);d=d.quantile;z=(delete z.quantile,z);return Object.assign({},{type:"quantile",field:d},z)}}class Ol extends ih{clone(){return new Ol(null,Wf(this.transform))}constructor(d,z){var H,W,na;super(d);this.transform=z;this.transform=Wf(z);d=null!==(H=this.transform.as)&&void 0!==H?H:
[void 0,void 0];this.transform.as=[null!==(W=d[0])&&void 0!==W?W:z.on,null!==(na=d[1])&&void 0!==na?na:z.regression]}dependentFields(){var d;return new Set([this.transform.regression,this.transform.on,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}producedFields(){return new Set(this.transform.as)}hash(){return"RegressionTransform ".concat(c(this.transform))}assemble(){var d=this.transform,z=Object.assign({},d);const H=d.regression;d=d.on;z=(delete z.regression,delete z.on,z);return Object.assign({},
{type:"regression",x:d,y:H},z)}}class Ql extends ih{clone(){return new Ql(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z}addDimensions(d){var z;this.transform.groupby=O((null!==(z=this.transform.groupby)&&void 0!==z?z:[]).concat(d),H=>H)}producedFields(){}dependentFields(){var d;return new Set([this.transform.pivot,this.transform.value,...(null!==(d=this.transform.groupby)&&void 0!==d?d:[])])}hash(){return"PivotTransform ".concat(c(this.transform))}assemble(){const {pivot:d,value:z,
groupby:H,limit:W,op:na}=this.transform;return Object.assign({},{type:"pivot",field:d,value:z},void 0!==W?{limit:W}:{},void 0!==na?{op:na}:{},void 0!==H?{groupby:H}:{})}}class Pl extends ih{clone(){return new Pl(null,Wf(this.transform))}constructor(d,z){super(d);this.transform=z}dependentFields(){return new Set}producedFields(){return new Set}hash(){return"SampleTransform ".concat(c(this.transform))}assemble(){return{type:"sample",size:this.transform.sample}}}class xl extends nm{constructor(d,z,H,
W){super(d,"facet",z,H,W,d.resolve);yb(this,"facet",void 0);yb(this,"child",void 0);yb(this,"children",void 0);this.child=Qh(d.spec,this,this.getName("child"),void 0,W);this.children=[this.child];this.facet=this.initFacet(d.facet)}initFacet(d){if(!gb(d))return{facet:this.initFacetFieldDef(d,"facet")};var z=se(d);const H={};for(const W of z){if(!["row","column"].includes(W)){lc(We(W,"facet"));break}z=d[W];if(void 0===z.field){lc(te(z,W));break}H[W]=this.initFacetFieldDef(z,W)}return H}initFacetFieldDef(d,
z){d=ug(d,z);d.header?d.header=$b(d.header):null===d.header&&(d.header=null);return d}channelHasField(d){return!!this.facet[d]}fieldDef(d){return this.facet[d]}parseData(){this.component.data=hg(this);this.child.parseData()}parseLayoutSize(){Gg(this)}parseSelections(){this.child.parseSelections();this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders();for(const W of ui){var d=void 0,z=W;const {facet:na,
config:ta,child:cb,component:qb}=this;if(this.channelHasField(z)){const vb=na[z];var H=kd("title",null,ta,z);H=Ff(vb,ta,{allowDisabling:!0,includeDefault:void 0===H||!!H});cb.component.layoutHeaders[z].title&&(H=p.isArray(H)?H.join(", "):H,H+=" / ".concat(cb.component.layoutHeaders[z].title),cb.component.layoutHeaders[z].title=null);const Nb=kd("labelOrient",vb.header,ta,z),xc=null!==vb.header?B(null===(d=vb.header)||void 0===d?void 0:d.labels,ta.header.labels,!0):!1;d=g(["bottom","right"],Nb)?"footer":
"header";qb.layoutHeaders[z]={title:null!==vb.header?H:null,facetFieldDef:vb,[d]:"facet"===z?[]:[zg(this,z,xc)]}}}lf(this,"x");lf(this,"y")}assembleSelectionTopLevelSignals(d){return this.child.assembleSelectionTopLevelSignals(d)}assembleSignals(){this.child.assembleSignals();return[]}assembleSelectionData(d){return this.child.assembleSelectionData(d)}getHeaderLayoutMixins(){const d={};for(const cb of ui)for(const qb of Sl){const vb=this.component.layoutHeaders[cb];var z=vb[qb],{facetFieldDef:H}=
vb;if(H&&(H=kd("titleOrient",H.header,this.config,cb),["right","bottom"].includes(H))){var W;H=be(cb,H);null!==(W=d.titleAnchor)&&void 0!==W?W:d.titleAnchor={};d.titleAnchor[H]="end"}if(null!==z&&void 0!==z&&z[0]){z="row"===cb?"height":"width";H="header"===qb?"headerBand":"footerBand";if("facet"!==cb&&!this.child.component.layoutSize.get(z)){var na;null!==(na=d[H])&&void 0!==na?na:d[H]={};d[H][cb]=.5}if(vb.title){var ta;null!==(ta=d.offset)&&void 0!==ta?ta:d.offset={};d.offset["row"===cb?"rowTitle":
"columnTitle"]=10}}}return d}assembleDefaultLayout(){const {column:d,row:z}=this.facet,H=d?this.columnDistinctSignal():z?1:void 0;let W="all";z||"independent"!==this.component.resolve.scale.x?d||"independent"!==this.component.resolve.scale.y||(W="none"):W="none";return Object.assign({},this.getHeaderLayoutMixins(),H?{columns:H}:{},{bounds:"full",align:W})}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof xl)){const d=
this.getName("column_domain");return{signal:"length(data('".concat(d,"'))")}}}assembleGroupStyle(){}assembleGroup(d){return this.parent&&this.parent instanceof xl?Object.assign({},this.channelHasField("column")?{encode:{update:{columns:{field:Id(this.facet.column,{prefix:"distinct"})}}}}:{},super.assembleGroup(d)):super.assembleGroup(d)}getCardinalityAggregateForChild(){const d=[],z=[],H=[];if(this.child instanceof xl){if(this.child.channelHasField("column")){var W=Id(this.child.facet.column);d.push(W);
z.push("distinct");H.push("distinct_".concat(W))}}else for(W of Wh){var na=this.child.component.scales[W];if(na&&!na.merged){var ta=na.get("type");na=na.get("range");Gd(ta)&&uc(na)&&(ta=Qi(this.child,W),(ta=jj(ta))?(d.push(ta),z.push("distinct"),H.push("distinct_".concat(ta))):lc(nd(W)))}}return{fields:d,ops:z,as:H}}assembleFacet(){const {name:d,data:z}=this.component.data.facetRoot,{row:H,column:W}=this.facet,{fields:na,ops:ta,as:cb}=this.getCardinalityAggregateForChild(),qb=[];for(var vb of ui){var Nb=
this.facet[vb];if(Nb){qb.push(Id(Nb));const {bin:xc,sort:od}=Nb;Ta(xc)&&qb.push(Id(Nb,{binSuffix:"end"}));if(fa(od)){const {field:Pc,op:Ed="min"}=od;Nb=tg(Nb,od);H&&W?(na.push(Nb),ta.push("max")):(na.push(Pc),ta.push(Ed));cb.push(Nb)}else p.isArray(od)&&(Nb=Ld(Nb,vb),na.push(Nb),ta.push("max"),cb.push(Nb))}}vb=!!H&&!!W;return Object.assign({},{name:d,data:z,groupby:qb},vb||0<na.length?{aggregate:Object.assign({},vb?{cross:vb}:{},na.length?{fields:na,ops:ta,as:cb}:{})}:{})}facetSortFields(d){var {facet:z}=
this;return(z=z[d])?fa(z.sort)?[tg(z,z.sort,{expr:"datum"})]:p.isArray(z.sort)?[Ld(z,d,{expr:"datum"})]:[Id(z,{expr:"datum"})]:[]}facetSortOrder(d){const {facet:z}=this;return(d=z[d])?({sort:d}=d,[(fa(d)?d.order:!p.isArray(d)&&d)||"ascending"]):[]}assembleLabelTitle(){const {facet:d,config:z}=this;if(d.facet)return Me(d.facet,"facet",z);const H={row:["top","bottom"],column:["left","right"]};for(const na of Rl)if(d[na]){var W;const ta=kd("labelOrient",null===(W=d[na])||void 0===W?void 0:W.header,z,
na);if(H[na].includes(ta))return Me(d[na],na,z)}}assembleMarks(){const {child:d}=this,z=Ee(this.component.data.facetRoot),H=d.assembleGroupEncodeEntry(!1),W=this.assembleLabelTitle()||d.assembleTitle(),na=d.assembleGroupStyle();return[Object.assign({},{name:this.getName("cell"),type:"group"},W?{title:W}:{},na?{style:na}:{},{from:{facet:this.assembleFacet()},sort:{field:ui.map(ta=>this.facetSortFields(ta)).flat(),order:ui.map(ta=>this.facetSortOrder(ta)).flat()}},0<z.length?{data:z}:{},H?{encode:{update:H}}:
{},d.assembleGroup(Lb(this,[])))]}getMapping(){return this.facet}}class Im extends Wl{constructor(d,z,H,W){var na,ta,cb,qb;super(d,"concat",z,H,W,d.resolve);yb(this,"children",void 0);"shared"!==(null===(na=d.resolve)||void 0===na?void 0:null===(ta=na.axis)||void 0===ta?void 0:ta.x)&&"shared"!==(null===(cb=d.resolve)||void 0===cb?void 0:null===(qb=cb.axis)||void 0===qb?void 0:qb.y)||lc("Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).");
this.children=this.getChildren(d).map((vb,Nb)=>Qh(vb,this,this.getName("concat_".concat(Nb)),void 0,W))}parseData(){this.component.data=hg(this);for(const d of this.children)d.parseData()}parseSelections(){this.component.selection={};for(const d of this.children){d.parseSelections();for(const z of se(d.component.selection))this.component.selection[z]=d.component.selection[z]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){for(const d of this.children)d.parseAxesAndHeaders()}getChildren(d){return"vconcat"in
d?d.vconcat:"hconcat"in d?d.hconcat:d.concat}parseLayoutSize(){Gg(this);const d=void 0===this.layout.columns?"height":"childHeight";cg(this,1===this.layout.columns?"width":"childWidth");cg(this,d)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(d){return this.children.reduce((z,H)=>H.assembleSelectionTopLevelSignals(z),d)}assembleSignals(){this.children.forEach(d=>d.assembleSignals());return[]}assembleLayoutSignals(){const d=Dg(this);for(const z of this.children)d.push(...z.assembleLayoutSignals());
return d}assembleSelectionData(d){return this.children.reduce((z,H)=>H.assembleSelectionData(z),d)}assembleMarks(){return this.children.map(d=>{const z=d.assembleTitle(),H=d.assembleGroupStyle(),W=d.assembleGroupEncodeEntry(!1);return Object.assign({},{type:"group",name:d.getName("group")},z?{title:z}:{},H?{style:H}:{},W?{encode:{update:W}}:{},d.assembleGroup())})}assembleGroupStyle(){}assembleDefaultLayout(){const d=this.layout.columns;return Object.assign({},null!=d?{columns:d}:{},{bounds:"full",
align:"each"})}}const Mm=Object.assign({},{disable:1,gridScale:1,scale:1},Ui,{labelExpr:1,encode:1}),fm=se(Mm);class gm extends Pf{constructor(){let d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},H=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;super();this.explicit=d;this.implicit=z;this.mainExtracted=H}clone(){return new gm(Wf(this.explicit),Wf(this.implicit),this.mainExtracted)}hasAxisPart(d){if("axis"===d)return!0;
if("grid"===d||"title"===d)return!!this.get(d);d=this.get(d);return!(!1===d||null===d)}hasOrientSignalRef(){return Bc(this.explicit.orient)}}const Nm={bottom:"top",top:"bottom",left:"right",right:"left"},Hm=new Set("grid translate format formatType orient labelExpr tickCount position tickMinStep".split(" ")),wl={arc:{vgMark:"arc",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",
d,{defaultPos:"mid"}),Cg(d,"radius"),Cg(d,"theta"))},area:{vgMark:"area",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),mg("x",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"horizontal"===d.markDef.orient}),mg("y",d,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:"vertical"===d.markDef.orient}),Lf(d))},bar:{vgMark:"rect",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",
orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"))},circle:{vgMark:"symbol",encodeEntry:d=>Qj(d,"circle")},geoshape:{vgMark:"shape",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})),postEncodingTransform:d=>{var {encoding:z}=d;z=z.shape;return[Object.assign({},{type:"geoshape",projection:d.projectionName()},z&&Ec(z)&&"geojson"===z.type?{field:Id(z,{expr:"datum"})}:{})]}},image:{vgMark:"image",encodeEntry:d=>
Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"),Bd(d,"url"))},line:{vgMark:"line",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",d,{defaultPos:"mid"}),Ze("size",d,{vgChannel:"strokeWidth"}),Lf(d))},point:{vgMark:"symbol",encodeEntry:d=>Qj(d)},rect:{vgMark:"rect",encodeEntry:d=>Object.assign({},
Lg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),Cg(d,"x"),Cg(d,"y"))},rule:{vgMark:"rule",encodeEntry:d=>{var {markDef:z}=d;z=z.orient;return d.encoding.x||d.encoding.y||d.encoding.latitude||d.encoding.longitude?Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),mg("x",d,{defaultPos:"horizontal"===z?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"vertical"!==z}),mg("y",d,{defaultPos:"vertical"===
z?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:"horizontal"!==z}),Ze("size",d,{vgChannel:"strokeWidth"})):{}}},square:{vgMark:"symbol",encodeEntry:d=>Qj(d,"square")},text:{vgMark:"text",encodeEntry:d=>{var {config:z}=d,H=Object,W=H.assign,na=Lg(d,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),ta=He("x",d,{defaultPos:"mid"}),cb=He("y",d,{defaultPos:"mid"}),qb=Bd(d),vb=Ze("size",d,{vgChannel:"fontSize"}),Nb=Ze("angle",d);var xc=void 0===Sc("align",
d.markDef,z)?"center":void 0;xc=xh("align",xc);z=void 0===Sc("baseline",d.markDef,z)?"middle":void 0;return W.call(H,{},na,ta,cb,qb,vb,Nb,xc,xh("baseline",z),He("radius",d,{defaultPos:null}),He("theta",d,{defaultPos:null}))}},tick:{vgMark:"rect",encodeEntry:d=>{const {config:z,markDef:H}=d;var W=H.orient;const na="horizontal"===W?"width":"height";W="horizontal"===W?"height":"width";var ta=Object,cb=ta.assign,qb=Lg(d,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),
vb=He("x",d,{defaultPos:"mid",vgChannel:"xc"}),Nb=He("y",d,{defaultPos:"mid",vgChannel:"yc"}),xc;{const {config:Pc,markDef:Ed}=d;var {orient:od}=Ed;const Ud="horizontal"===od?"width":"height";od=d.getScaleComponent("horizontal"===od?"x":"y");const pe=null!==(xc=Sc("size",Ed,Pc,{vgChannel:Ud}))&&void 0!==xc?xc:Pc.tick.bandSize;xc=void 0!==pe?pe:(xc=od?od.get("range"):void 0)&&uc(xc)&&p.isNumber(xc.step)?3*xc.step/4:3*bf(Pc.view,Ud)/4}return cb.call(ta,{},qb,vb,Nb,Ze("size",d,{defaultValue:xc,vgChannel:na}),
{[W]:Wb(Sc("thickness",H,z))})}},trail:{vgMark:"trail",encodeEntry:d=>Object.assign({},Lg(d,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),He("x",d,{defaultPos:"mid"}),He("y",d,{defaultPos:"mid"}),Ze("size",d),Lf(d))}};class jm extends nm{constructor(d,z,H){var W;let na=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},ta=4<arguments.length?arguments[4]:void 0;super(d,"unit",z,H,ta,void 0,td(d)?d.view:void 0);yb(this,"markDef",void 0);yb(this,
"encoding",void 0);yb(this,"specifiedScales",{});yb(this,"stack",void 0);yb(this,"specifiedAxes",{});yb(this,"specifiedLegends",{});yb(this,"specifiedProjection",{});yb(this,"selection",[]);yb(this,"children",[]);const cb=Ib(d.mark)?Object.assign({},d.mark):{type:d.mark},qb=cb.type;void 0===cb.filled&&(cb.filled=Jk(cb,ta,{graticule:d.data&&"graticule"in d.data}));const vb=this.encoding=hc(d.encoding||{},qb,cb.filled,ta);this.markDef=bl(cb,vb,ta);this.size=qk({encoding:vb,size:td(d)?Object.assign({},
na,d.width?{width:d.width}:{},d.height?{height:d.height}:{}):na});this.stack=Bf(qb,vb);this.specifiedScales=this.initScales(qb,vb);this.specifiedAxes=this.initAxes(vb);this.specifiedLegends=this.initLegends(vb);this.specifiedProjection=d.projection;this.selection=(null!==(W=d.params)&&void 0!==W?W:[]).filter(Nb=>Sb(Nb))}get hasProjection(){const {encoding:d}=this,z=this.mark===Ye,H=d&&kl.some(W=>Zd(d[W]));return z||H}scaleDomain(d){return(d=this.specifiedScales[d])?d.domain:void 0}axis(d){return this.specifiedAxes[d]}legend(d){return this.specifiedLegends[d]}initScales(d,
z){return uj.reduce((H,W)=>{const na=Gf(z[W]);if(na){var ta;H[W]=this.initScale(null!==(ta=na.scale)&&void 0!==ta?ta:{})}return H},{})}initScale(d){const {domain:z,range:H}=d;d=$b(d);p.isArray(z)&&(d.domain=z.map(Ab));p.isArray(H)&&(d.range=H.map(Ab));return d}initAxes(d){return Wh.reduce((z,H)=>{var W=d[H];if(Zd(W)||"x"===H&&Zd(d.x2)||"y"===H&&Zd(d.y2))W=Zd(W)?W.axis:void 0,z[H]=W?this.initAxis(Object.assign({},W)):W;return z},{})}initAxis(d){var z=se(d);const H={};for(const W of z)z=d[W],H[W]=Xf(z)?
Hb(z):Ab(z);return H}initLegends(d){return ik.reduce((z,H)=>{var W=Gf(d[H]),na;if(na=W)a:{switch(H){case "color":case "fill":case "stroke":case "size":case "shape":case "opacity":case "strokeWidth":case "strokeDash":na=!0;break a;case "fillOpacity":case "strokeOpacity":case "angle":na=!1;break a}na=void 0}na&&(W=W.legend,z[H]=W?$b(W):W);return z},{})}parseData(){this.component.data=hg(this)}parseLayoutSize(){const {size:d,component:z}=this;for(const W of Wh){const na=Ra(W);if(d[na]){var H=d[na];z.layoutSize.set(na,
Xc(H)?"step":H,!0)}else H=Mg(this,na),z.layoutSize.set(na,H,!1)}}parseSelections(){var d=this.component,z;{var H=this.selection;const na={},ta=this.config.selection;if(H&&H.length)for(const cb of H){H=K(cb.name);var W=cb.select;const qb=p.isString(W)?W:W.type;W=p.isObject(W)?Wf(W):{type:qb};const vb=ta[qb];for(const Nb in vb)"fields"!==Nb&&"encodings"!==Nb&&("mark"===Nb&&(W[Nb]=Object.assign({},vb[Nb],W[Nb])),void 0===W[Nb]||!0===W[Nb])&&(W[Nb]=null!==(z=vb[Nb])&&void 0!==z?z:W[Nb]);H=na[H]=Object.assign({},
W,{name:H,type:qb,init:cb.value,bind:cb.bind,events:p.isString(W.on)?p.parseSelector(W.on,"scope"):p.array(Wf(W.on))});for(const Nb of ql)Nb.defined(H)&&Nb.parse&&Nb.parse(this,H,cb)}z=na}d.selection=z}parseMarkGroup(){this.component.mark=Oj(this)}parseAxesAndHeaders(){this.component.axes=Kh(this)}assembleSelectionTopLevelSignals(d){return pc(this,d)}assembleSignals(){var d=[...sh(this)];var z=[];for(const W of hi(null!==(H=this.component.selection)&&void 0!==H?H:{})){var H;H=W.name;let na="".concat(H).concat("_tuple",
", ").concat("global"===W.resolve?"true":"{unit: ".concat(di(this),"}"));for(const ta of ql)ta.defined(W)&&(ta.signals&&(z=ta.signals(this,W,z)),ta.modifyExpr&&(na=ta.modifyExpr(this,W,na)));z.push({name:H+"_modify",on:[{events:{signal:W.name+"_tuple"},update:"modify(".concat(p.stringValue(W.name+"_store"),", ").concat(na,")")}]})}z=Qa(z);return[...d,...z]}assembleSelectionData(d){return sc(this,d)}assembleLayout(){return null}assembleLayoutSignals(){return Dg(this)}assembleMarks(){var d;let z=null!==
(d=this.component.mark)&&void 0!==d?d:[];this.parent&&ad(this.parent)||(z=Vc(this,z));return z.map(this.correctDataNames)}assembleGroupStyle(){const {style:d}=this.view||{};if(void 0!==d)return d;if(this.encoding.x||this.encoding.y)return"cell"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(d){return bh(this.encoding,d)}fieldDef(d){return Tf(this.encoding[d])}typedFieldDef(d){d=this.fieldDef(d);return vd(d)?d:null}}class im extends Wl{constructor(d,z,H,W,na){super(d,
"layer",z,H,na,d.resolve,d.view);yb(this,"children",void 0);const ta=Object.assign({},W,d.width?{width:d.width}:{},d.height?{height:d.height}:{});this.children=d.layer.map((cb,qb)=>{if("layer"in cb)return new im(cb,this,this.getName("layer_".concat(qb)),ta,na);if(Tg(cb))return new jm(cb,this,this.getName("layer_".concat(qb)),ta,na);throw Error(Vb(cb));})}parseData(){this.component.data=hg(this);for(const d of this.children)d.parseData()}parseLayoutSize(){Gg(this);cg(this,"width");cg(this,"height")}parseSelections(){this.component.selection=
{};for(const d of this.children){d.parseSelections();for(const z of se(d.component.selection))this.component.selection[z]=d.component.selection[z]}}parseMarkGroup(){for(const d of this.children)d.parseMarkGroup()}parseAxesAndHeaders(){const {axes:d,resolve:z}=this.component,H={top:0,bottom:0,right:0,left:0};for(var W of this.children){W.parseAxesAndHeaders();for(const ta of se(W.component.axes))z.axis[ta]=Jh(this.component.resolve,ta),"shared"===z.axis[ta]&&(d[ta]=Ph(d[ta],W.component.axes[ta]),d[ta]||
(z.axis[ta]="independent",delete d[ta]))}for(const ta of Wh){for(const cb of this.children)if(cb.component.axes[ta]){if("independent"===z.axis[ta]){var na;d[ta]=(null!==(na=d[ta])&&void 0!==na?na:[]).concat(cb.component.axes[ta]);for(const qb of cb.component.axes[ta]){const {value:vb,explicit:Nb}=qb.getWithExplicit("orient");Bc(vb)||(0<H[vb]&&!Nb&&(W=Nm[vb],H[vb]>H[W]&&qb.set("orient",W,!1)),H[vb]++)}}delete cb.component.axes[ta]}if("independent"===z.axis[ta]&&d[ta]&&1<d[ta].length)for(const cb of d[ta])cb.get("grid")&&
!cb.explicit.grid&&(cb.implicit.grid=!1)}}assembleSelectionTopLevelSignals(d){return this.children.reduce((z,H)=>H.assembleSelectionTopLevelSignals(z),d)}assembleSignals(){return this.children.reduce((d,z)=>d.concat(z.assembleSignals()),sh(this))}assembleLayoutSignals(){return this.children.reduce((d,z)=>d.concat(z.assembleLayoutSignals()),Dg(this))}assembleSelectionData(d){return this.children.reduce((z,H)=>H.assembleSelectionData(z),d)}assembleGroupStyle(){var d=new Set;for(const z of this.children)for(const H of p.array(z.assembleGroupStyle()))d.add(H);
d=Array.from(d);return 1<d.length?d:1===d.length?d[0]:void 0}assembleTitle(){let d=super.assembleTitle();if(d)return d;for(const z of this.children)if(d=z.assembleTitle())return d}assembleLayout(){return null}assembleMarks(){return pa(this,this.children.flatMap(d=>d.assembleMarks()))}assembleLegends(){return this.children.reduce((d,z)=>d.concat(z.assembleLegends()),nh(this))}}k.accessPathDepth=D;k.accessPathWithDatum=M;k.compile=function(d){let z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:
{};z.logger&&(zj=z.logger);z.fieldTitle&&(Ej=z.fieldTitle);try{const xc=Qf(p.mergeConfig(z.config,d.config)),od=ai(d,xc),Pc=Qh(od,null,"",void 0,xc);Pc.parse();var H=Pc.component.data,W=Pc;Dh(H.sources);let Ed=0,Ud=0;for(var na=0;5>na&&Fi(H,W,!0);na++)Ed++;H.sources.map(Pi);for(na=0;5>na&&Fi(H,W,!1);na++)Ud++;Dh(H.sources);5===Math.max(Ed,Ud)&&lc("Maximum optimization runs(".concat(5,") reached."));var ta=od.autosize;H=xc;W=Pc;const pe=W.component.layoutSize.get("width"),Ie=W.component.layoutSize.get("height");
void 0===ta?(ta={type:"pad"},W.hasAxisOrientSignalRef()&&(ta.resize=!0)):p.isString(ta)&&(ta={type:ta});var cb;if(cb=pe&&Ie){var qb=ta.type;cb="fit"===qb||"fit-x"===qb||"fit-y"===qb}if(cb)if("step"===pe&&"step"===Ie)lc(dd()),ta.type="pad";else if("step"===pe||"step"===Ie){qb="step"===pe?"width":"height";lc(dd(Ua(qb)));cb=ta;var vb=(qb="width"===qb?"height":"width","fit-".concat(Ua(qb)));cb.type=vb}var Nb=Object.assign({},1===se(ta).length&&ta.type?"pad"===ta.type?{}:{autosize:ta.type}:{autosize:ta},
Je(H,!1),Je(d,!0));return{spec:pi(Pc,Nb,d.datasets,d.usermeta),normalized:od}}finally{z.logger&&(zj=Th),z.fieldTitle&&(Ej=Hk)}};k.contains=g;k.deepEqual=gi;k.deleteNestedProperty=S;k.duplicate=Wf;k.entries=kj;k.every=h;k.fieldIntersection=C;k.flatAccessWithDatum=aa;k.getFirstDefined=B;k.hasIntersection=I;k.hash=c;k.internalField=Z;k.isBoolean=y;k.isEmpty=r;k.isEqual=function(d,z){const H=se(d),W=se(z);if(H.length!==W.length)return!1;for(const na of H)if(d[na]!==z[na])return!1;return!0};k.isInternalField=
Aa;k.isNullOrFalse=e;k.isNumeric=la;k.keys=se;k.logicalExpr=R;k.mergeDeep=x;k.never=n;k.normalize=ai;k.normalizeAngle=qa;k.omit=b;k.pick=f;k.prefixGenerator=F;k.removePathFromField=X;k.replaceAll=Ga;k.replacePathInField=ea;k.resetIdCounter=function(){Kk=42};k.setEqual=G;k.some=m;k.stringify=hh;k.titleCase=ca;k.unique=O;k.uniqueId=N;k.vals=hi;k.varName=K;k.version="5.2.0";Object.defineProperty(k,"__esModule",{value:!0})})};
shadow$provide[49]=function(Ka,L,sb,A){function w(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function p(O){if(c===setTimeout)return setTimeout(O,0);if((c===w||!c)&&setTimeout)return c=setTimeout,setTimeout(O,0);try{return c(O,0)}catch(G){try{return c.call(null,O,0)}catch(I){return c.call(this,O,0)}}}function q(O){if(e===clearTimeout)return clearTimeout(O);if((e===k||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(O);try{return e(O)}catch(G){try{return e.call(null,
O)}catch(I){return e.call(this,O)}}}function t(){m&&h&&(m=!1,h.length?g=h.concat(g):x=-1,g.length&&n())}function n(){if(!m){var O=p(t);m=!0;for(var G=g.length;G;){h=g;for(g=[];++x<G;)h&&h[x].run();x=-1;G=g.length}h=null;m=!1;q(O)}}function f(O,G){this.fun=O;this.array=G}function b(){}Ka=sb.exports={};try{var c="function"===typeof setTimeout?setTimeout:w}catch(O){c=w}try{var e="function"===typeof clearTimeout?clearTimeout:k}catch(O){e=k}var g=[],m=!1,h,x=-1;Ka.nextTick=function(O){var G=Array(arguments.length-
1);if(1<arguments.length)for(var I=1;I<arguments.length;I++)G[I-1]=arguments[I];g.push(new f(O,G));1!==g.length||m||p(n)};f.prototype.run=function(){this.fun.apply(null,this.array)};Ka.title="browser";Ka.browser=!0;Ka.env={};Ka.argv=[];Ka.version="";Ka.versions={};Ka.on=b;Ka.addListener=b;Ka.once=b;Ka.off=b;Ka.removeListener=b;Ka.removeAllListeners=b;Ka.emit=b;Ka.prependListener=b;Ka.prependOnceListener=b;Ka.listeners=function(O){return[]};Ka.binding=function(O){throw Error("process.binding is not supported");
};Ka.cwd=function(){return"/"};Ka.chdir=function(O){throw Error("process.chdir is not supported");};Ka.umask=function(){return 0}};
shadow$provide[50]=function(Ka,L,sb,A){var w=L(49);(function(k,p){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=p(L(47),L(48)):"function"===typeof define&&define.amd?define(["vega","vega-lite"],p):(k="undefined"!==typeof globalThis?globalThis:k||self,k.vegaEmbed=p(k.vega,k.vegaLite))})(this,function(k,p){function q(wa){if(wa&&wa.__esModule)return wa;var Xa=Object.create(null);wa&&Object.keys(wa).forEach(function(zb){if("default"!==zb){var Xb=Object.getOwnPropertyDescriptor(wa,zb);Object.defineProperty(Xa,
zb,Xb.get?Xb:{enumerable:!0,get:function(){return wa[zb]}})}});Xa["default"]=wa;return Object.freeze(Xa)}function t(wa){if(Array.isArray(wa)){wa=Array(wa.length);for(var Xa=0;Xa<wa.length;Xa++)wa[Xa]=""+Xa;return wa}if(Object.keys)return Object.keys(wa);Xa=[];for(var zb in wa)Fa.call(wa,zb)&&Xa.push(zb);return Xa}function n(wa){switch(typeof wa){case "object":return JSON.parse(JSON.stringify(wa));case "undefined":return null;default:return wa}}function f(wa){for(var Xa=0,zb=wa.length,Xb;Xa<zb;)if(Xb=
wa.charCodeAt(Xa),48<=Xb&&57>=Xb)Xa++;else return!1;return!0}function b(wa){return-1===wa.indexOf("/")&&-1===wa.indexOf("~")?wa:wa.replace(/~/g,"~0").replace(/\//g,"~1")}function c(wa){return wa.replace(/~1/g,"/").replace(/~0/g,"~")}function e(wa){if(void 0===wa)return!0;if(wa)if(Array.isArray(wa))for(var Xa=0,zb=wa.length;Xa<zb;Xa++){if(e(wa[Xa]))return!0}else if("object"===typeof wa){Xa=t(wa);zb=Xa.length;for(var Xb=0;Xb<zb;Xb++)if(e(wa[Xa[Xb]]))return!0}return!1}function g(wa,Xa){wa=[wa];for(var zb in Xa){var Xb=
"object"===typeof Xa[zb]?JSON.stringify(Xa[zb],null,2):Xa[zb];"undefined"!==typeof Xb&&wa.push(zb+": "+Xb)}return wa.join("\n")}function m(wa,Xa){if(""==Xa)return wa;Xa={op:"_get",path:Xa};h(wa,Xa);return Xa.value}function h(wa,Xa,zb,Xb,tc,gd){void 0===zb&&(zb=!1);void 0===Xb&&(Xb=!0);void 0===tc&&(tc=!0);void 0===gd&&(gd=0);zb&&("function"==typeof zb?zb(Xa,0,wa,Xa.path):O(Xa,0));if(""===Xa.path){tc={newDocument:wa};if("add"===Xa.op)return tc.newDocument=Xa.value,tc;if("replace"===Xa.op)return tc.newDocument=
Xa.value,tc.removed=wa,tc;if("move"===Xa.op||"copy"===Xa.op)return tc.newDocument=m(wa,Xa.from),"move"===Xa.op&&(tc.removed=wa),tc;if("test"===Xa.op){tc.test=I(wa,Xa.value);if(!1===tc.test)throw new ra("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,wa);tc.newDocument=wa;return tc}if("remove"===Xa.op)return tc.removed=wa,tc.newDocument=null,tc;if("_get"===Xa.op)return Xa.value=wa,tc;if(zb)throw new ra("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",
gd,Xa,wa);return tc}Xb||(wa=n(wa));Xb=(Xa.path||"").split("/");var qc=wa,rb=1,Bb=Xb.length,ic=void 0,Uc,Rd;for(Rd="function"==typeof zb?zb:O;;){(Uc=Xb[rb])&&-1!=Uc.indexOf("~")&&(Uc=c(Uc));if(tc&&("__proto__"==Uc||"prototype"==Uc&&0<rb&&"constructor"==Xb[rb-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");
zb&&void 0===ic&&(void 0===qc[Uc]?ic=Xb.slice(0,rb).join("/"):rb==Bb-1&&(ic=Xa.path),void 0!==ic&&Rd(Xa,0,wa,ic));rb++;if(Array.isArray(qc)){if("-"===Uc)Uc=qc.length;else{if(zb&&!f(Uc))throw new ra("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",gd,Xa,wa);f(Uc)&&(Uc=~~Uc)}if(rb>=Bb){if(zb&&"add"===Xa.op&&Uc>qc.length)throw new ra("The specified index MUST NOT be greater than the number of elements in the array",
"OPERATION_VALUE_OUT_OF_BOUNDS",gd,Xa,wa);tc=oa[Xa.op].call(Xa,qc,Uc,wa);if(!1===tc.test)throw new ra("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,wa);return tc}}else if(rb>=Bb){tc=ya[Xa.op].call(Xa,qc,Uc,wa);if(!1===tc.test)throw new ra("Test operation failed","TEST_OPERATION_FAILED",gd,Xa,wa);return tc}qc=qc[Uc];if(zb&&rb<Bb&&(!qc||"object"!==typeof qc))throw new ra("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",gd,Xa,wa);}}function x(wa,Xa,zb,Xb,tc){void 0===
Xb&&(Xb=!0);void 0===tc&&(tc=!0);if(zb&&!Array.isArray(Xa))throw new ra("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");Xb||(wa=n(wa));Xb=Array(Xa.length);for(var gd=0,qc=Xa.length;gd<qc;gd++)Xb[gd]=h(wa,Xa[gd],zb,!0,tc,gd),wa=Xb[gd].newDocument;Xb.newDocument=wa;return Xb}function O(wa,Xa,zb,Xb){if("object"!==typeof wa||null===wa||Array.isArray(wa))throw new ra("Operation is not an object","OPERATION_NOT_AN_OBJECT",Xa,wa,zb);if(ya[wa.op]){if("string"!==typeof wa.path)throw new ra("Operation `path` property is not a string",
"OPERATION_PATH_INVALID",Xa,wa,zb);if(0!==wa.path.indexOf("/")&&0<wa.path.length)throw new ra('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",Xa,wa,zb);if("move"!==wa.op&&"copy"!==wa.op||"string"===typeof wa.from)if("add"!==wa.op&&"replace"!==wa.op&&"test"!==wa.op||void 0!==wa.value){if(("add"===wa.op||"replace"===wa.op||"test"===wa.op)&&e(wa.value))throw new ra("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",
Xa,wa,zb);if(zb)if("add"==wa.op){var tc=wa.path.split("/").length;Xb=Xb.split("/").length;if(tc!==Xb+1&&tc!==Xb)throw new ra("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",Xa,wa,zb);}else if("replace"===wa.op||"remove"===wa.op||"_get"===wa.op){if(wa.path!==Xb)throw new ra("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",Xa,wa,zb);}else if(("move"===wa.op||"copy"===wa.op)&&(tc=G([{op:"_get",path:wa.from,value:void 0}],zb))&&
"OPERATION_PATH_UNRESOLVABLE"===tc.name)throw new ra("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",Xa,wa,zb);}else throw new ra("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",Xa,wa,zb);else throw new ra("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",Xa,wa,zb);}else throw new ra("Operation `op` property is not one of operations defined in RFC-6902",
"OPERATION_OP_INVALID",Xa,wa,zb);}function G(wa,Xa,zb){try{if(!Array.isArray(wa))throw new ra("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(Xa)x(n(Xa),n(wa),zb||!0);else{zb=zb||O;for(var Xb=0;Xb<wa.length;Xb++)zb(wa[Xb],Xb,Xa,void 0)}}catch(tc){if(tc instanceof ra)return tc;throw tc;}}function I(wa,Xa){if(wa===Xa)return!0;if(wa&&Xa&&"object"==typeof wa&&"object"==typeof Xa){var zb=Array.isArray(wa),Xb=Array.isArray(Xa);if(zb&&Xb){var tc=wa.length;if(tc!=Xa.length)return!1;for(zb=tc;0!==
zb--;)if(!I(wa[zb],Xa[zb]))return!1;return!0}if(zb!=Xb)return!1;Xb=Object.keys(wa);tc=Xb.length;if(tc!==Object.keys(Xa).length)return!1;for(zb=tc;0!==zb--;)if(!Xa.hasOwnProperty(Xb[zb]))return!1;for(zb=tc;0!==zb--;)if(tc=Xb[zb],!I(wa[tc],Xa[tc]))return!1;return!0}return wa!==wa&&Xa!==Xa}function F(wa,Xa){void 0===Xa&&(Xa=!1);var zb=Ua.get(wa.object);C(zb.value,wa.object,wa.patches,"",Xa);wa.patches.length&&x(zb.value,wa.patches);Xa=wa.patches;0<Xa.length&&(wa.patches=[],wa.callback&&wa.callback(Xa));
return Xa}function C(wa,Xa,zb,Xb,tc){if(Xa!==wa){"function"===typeof Xa.toJSON&&(Xa=Xa.toJSON());for(var gd=t(Xa),qc=t(wa),rb=!1,Bb=qc.length-1;0<=Bb;Bb--){var ic=qc[Bb],Uc=wa[ic];if(!Fa.call(Xa,ic)||void 0===Xa[ic]&&void 0!==Uc&&!1===Array.isArray(Xa))Array.isArray(wa)===Array.isArray(Xa)?(tc&&zb.push({op:"test",path:Xb+"/"+b(ic),value:n(Uc)}),zb.push({op:"remove",path:Xb+"/"+b(ic)}),rb=!0):(tc&&zb.push({op:"test",path:Xb,value:wa}),zb.push({op:"replace",path:Xb,value:Xa}));else{var Rd=Xa[ic];"object"==
typeof Uc&&null!=Uc&&"object"==typeof Rd&&null!=Rd&&Array.isArray(Uc)===Array.isArray(Rd)?C(Uc,Rd,zb,Xb+"/"+b(ic),tc):Uc!==Rd&&(tc&&zb.push({op:"test",path:Xb+"/"+b(ic),value:n(Uc)}),zb.push({op:"replace",path:Xb+"/"+b(ic),value:n(Rd)}))}}if(rb||gd.length!=qc.length)for(Bb=0;Bb<gd.length;Bb++)ic=gd[Bb],Fa.call(wa,ic)||void 0===Xa[ic]||zb.push({op:"add",path:Xb+"/"+b(ic),value:n(Xa[ic])})}}function r(wa){var Xa=this;Xa instanceof r||(Xa=new r);Xa.tail=null;Xa.head=null;Xa.length=0;if(wa&&"function"===
typeof wa.forEach)wa.forEach(function(tc){Xa.push(tc)});else if(0<arguments.length)for(var zb=0,Xb=arguments.length;zb<Xb;zb++)Xa.push(arguments[zb]);return Xa}function y(wa,Xa,zb,Xb){if(!(this instanceof y))return new y(wa,Xa,zb,Xb);this.list=Xb;this.value=wa;Xa?(Xa.next=this,this.prev=Xa):this.prev=null;zb?(zb.prev=this,this.next=zb):this.next=null}function K(){if(le)return ge;le=1;const wa=Symbol("SemVer ANY");class Xa{static get ANY(){return wa}constructor(ic,Uc){Uc=zb(Uc);if(ic instanceof Xa){if(ic.loose===
!!Uc.loose)return ic;ic=ic.value}qc("comparator",ic,Uc);this.options=Uc;this.loose=!!Uc.loose;this.parse(ic);this.value=this.semver===wa?"":this.operator+this.semver.version;qc("comp",this)}parse(ic){const Uc=ic.match(this.options.loose?Xb[tc.COMPARATORLOOSE]:Xb[tc.COMPARATOR]);if(!Uc)throw new TypeError("Invalid comparator: ".concat(ic));this.operator=void 0!==Uc[1]?Uc[1]:"";"\x3d"===this.operator&&(this.operator="");this.semver=Uc[2]?new rb(Uc[2],this.options.loose):wa}toString(){return this.value}test(ic){qc("Comparator.test",
ic,this.options.loose);if(this.semver===wa||ic===wa)return!0;if("string"===typeof ic)try{ic=new rb(ic,this.options)}catch(Uc){return!1}return gd(ic,this.operator,this.semver,this.options)}intersects(ic,Uc){if(!(ic instanceof Xa))throw new TypeError("a Comparator is required");Uc&&"object"===typeof Uc||(Uc={loose:!!Uc,includePrerelease:!1});if(""===this.operator)return""===this.value?!0:(new Bb(ic.value,Uc)).test(this.value);if(""===ic.operator)return""===ic.value?!0:(new Bb(this.value,Uc)).test(ic.semver);
const Rd=("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3e"===ic.operator),Md=("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3c\x3d"===ic.operator||"\x3c"===ic.operator),Gd=this.semver.version===ic.semver.version,Pd=("\x3e\x3d"===this.operator||"\x3c\x3d"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3c\x3d"===ic.operator),Le=gd(this.semver,"\x3c",ic.semver,Uc)&&("\x3e\x3d"===this.operator||"\x3e"===this.operator)&&("\x3c\x3d"===ic.operator||"\x3c"===
ic.operator);ic=gd(this.semver,"\x3e",ic.semver,Uc)&&("\x3c\x3d"===this.operator||"\x3c"===this.operator)&&("\x3e\x3d"===ic.operator||"\x3e"===ic.operator);return Rd||Md||Gd&&Pd||Le||ic}}ge=Xa;const zb=Sc,{re:Xb,t:tc}=jd.exports,gd=Xd,qc=Ba,rb=nd,Bb=R();return ge}function R(){if(wd)return qe;wd=1;class wa{constructor(Ib,Yb){Yb=zb(Yb);if(Ib instanceof wa)return Ib.loose===!!Yb.loose&&Ib.includePrerelease===!!Yb.includePrerelease?Ib:new wa(Ib.raw,Yb);if(Ib instanceof Xb)return this.raw=Ib.value,this.set=
[[Ib]],this.format(),this;this.options=Yb;this.loose=!!Yb.loose;this.includePrerelease=!!Yb.includePrerelease;this.raw=Ib;this.set=Ib.split("||").map(kc=>this.parseRange(kc.trim())).filter(kc=>kc.length);if(!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(Ib));if(1<this.set.length)if(Ib=this.set[0],this.set=this.set.filter(kc=>"\x3c0.0.0-0"!==kc[0].value),0===this.set.length)this.set=[Ib];else if(1<this.set.length)for(const kc of this.set)if(1===kc.length&&""===kc[0].value){this.set=
[kc];break}this.format()}format(){return this.range=this.set.map(Ib=>Ib.join(" ").trim()).join("||").trim()}toString(){return this.range}parseRange(Ib){Ib=Ib.trim();var Yb=Object.keys(this.options).join(",");Yb="parseRange:".concat(Yb,":").concat(Ib);var kc=Xa.get(Yb);if(kc)return kc;kc=this.options.loose;Ib=Ib.replace(kc?qc[rb.HYPHENRANGELOOSE]:qc[rb.HYPHENRANGE],Ea(this.options.includePrerelease));tc("hyphen replace",Ib);Ib=Ib.replace(qc[rb.COMPARATORTRIM],Bb);tc("comparator trim",Ib);Ib=Ib.replace(qc[rb.TILDETRIM],
ic);Ib=Ib.replace(qc[rb.CARETTRIM],Uc);Ib=Ib.split(/\s+/).join(" ");Ib=Ib.split(" ").map(Jc=>{var pd=Jc;Jc=this.options;tc("comp",pd,Jc);pd=Le(pd,Jc);tc("caret",pd);pd=Gd(pd,Jc);tc("tildes",pd);pd=ha(pd,Jc);tc("xrange",pd);tc("replaceStars",pd,Jc);pd=pd.trim().replace(qc[rb.STAR],"");tc("stars",pd);return pd}).join(" ").split(/\s+/).map(Jc=>{var pd=this.options;tc("replaceGTE0",Jc,pd);return Jc.trim().replace(qc[pd.includePrerelease?rb.GTE0PRE:rb.GTE0],"")});kc&&(Ib=Ib.filter(Jc=>{tc("loose invalid filter",
Jc,this.options);return!!Jc.match(qc[rb.COMPARATORLOOSE])}));tc("range list",Ib);kc=new Map;Ib=Ib.map(Jc=>new Xb(Jc,this.options));for(var Nc of Ib){if("\x3c0.0.0-0"===Nc.value)return[Nc];kc.set(Nc.value,Nc)}1<kc.size&&kc.has("")&&kc.delete("");Nc=[...kc.values()];Xa.set(Yb,Nc);return Nc}intersects(Ib,Yb){if(!(Ib instanceof wa))throw new TypeError("a Range is required");return this.set.some(kc=>Rd(kc,Yb)&&Ib.set.some(Nc=>Rd(Nc,Yb)&&kc.every(Jc=>Nc.every(pd=>Jc.intersects(pd,Yb)))))}test(Ib){if(!Ib)return!1;
if("string"===typeof Ib)try{Ib=new gd(Ib,this.options)}catch(pd){return!1}for(let pd=0;pd<this.set.length;pd++){a:{var Yb=this.set[pd];var kc=Ib,Nc=this.options;for(var Jc=0;Jc<Yb.length;Jc++)if(!Yb[Jc].test(kc)){Yb=!1;break a}if(kc.prerelease.length&&!Nc.includePrerelease){for(Nc=0;Nc<Yb.length;Nc++)if(tc(Yb[Nc].semver),Yb[Nc].semver!==Xb.ANY&&0<Yb[Nc].semver.prerelease.length&&(Jc=Yb[Nc].semver,Jc.major===kc.major&&Jc.minor===kc.minor&&Jc.patch===kc.patch)){Yb=!0;break a}Yb=!1}else Yb=!0}if(Yb)return!0}return!1}}
qe=wa;const Xa=new Kc({max:1E3}),zb=Sc,Xb=K(),tc=Ba,gd=nd,{re:qc,t:rb,comparatorTrimReplace:Bb,tildeTrimReplace:ic,caretTrimReplace:Uc}=jd.exports,Rd=(Ib,Yb)=>{let kc=!0;Ib=Ib.slice();let Nc=Ib.pop();for(;kc&&Ib.length;)kc=Ib.every(Jc=>Nc.intersects(Jc,Yb)),Nc=Ib.pop();return kc},Md=Ib=>!Ib||"x"===Ib.toLowerCase()||"*"===Ib,Gd=(Ib,Yb)=>Ib.trim().split(/\s+/).map(kc=>Pd(kc,Yb)).join(" "),Pd=(Ib,Yb)=>Ib.replace(Yb.loose?qc[rb.TILDELOOSE]:qc[rb.TILDE],(kc,Nc,Jc,pd,qd)=>{tc("tilde",Ib,kc,Nc,Jc,pd,qd);
Md(Nc)?kc="":Md(Jc)?kc="\x3e\x3d".concat(Nc,".0.0 \x3c").concat(+Nc+1,".0.0-0"):Md(pd)?kc="\x3e\x3d".concat(Nc,".").concat(Jc,".0 \x3c").concat(Nc,".").concat(+Jc+1,".0-0"):qd?(tc("replaceTilde pr",qd),kc="\x3e\x3d".concat(Nc,".").concat(Jc,".").concat(pd,"-").concat(qd," \x3c").concat(Nc,".").concat(+Jc+1,".0-0")):kc="\x3e\x3d".concat(Nc,".").concat(Jc,".").concat(pd," \x3c").concat(Nc,".").concat(+Jc+1,".0-0");tc("tilde return",kc);return kc}),Le=(Ib,Yb)=>Ib.trim().split(/\s+/).map(kc=>Se(kc,Yb)).join(" "),
Se=(Ib,Yb)=>{tc("caret",Ib,Yb);const kc=Yb.includePrerelease?"-0":"";return Ib.replace(Yb.loose?qc[rb.CARETLOOSE]:qc[rb.CARET],(Nc,Jc,pd,qd,Yd)=>{tc("caret",Ib,Nc,Jc,pd,qd,Yd);Md(Jc)?Nc="":Md(pd)?Nc="\x3e\x3d".concat(Jc,".0.0").concat(kc," \x3c").concat(+Jc+1,".0.0-0"):Md(qd)?Nc="0"===Jc?"\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(kc," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(kc," \x3c").concat(+Jc+1,".0.0-0"):Yd?(tc("replaceCaret pr",Yd),Nc=
"0"===Jc?"0"===pd?"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(Jc,".").concat(pd,".").concat(+qd+1,"-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd,"-").concat(Yd," \x3c").concat(+Jc+1,".0.0-0")):(tc("no pr"),Nc="0"===Jc?"0"===pd?"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd).concat(kc," \x3c").concat(Jc,".").concat(pd,".").concat(+qd+1,"-0"):
"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd).concat(kc," \x3c").concat(Jc,".").concat(+pd+1,".0-0"):"\x3e\x3d".concat(Jc,".").concat(pd,".").concat(qd," \x3c").concat(+Jc+1,".0.0-0"));tc("caret return",Nc);return Nc})},ha=(Ib,Yb)=>{tc("replaceXRanges",Ib,Yb);return Ib.split(/\s+/).map(kc=>ob(kc,Yb)).join(" ")},ob=(Ib,Yb)=>{Ib=Ib.trim();return Ib.replace(Yb.loose?qc[rb.XRANGELOOSE]:qc[rb.XRANGE],(kc,Nc,Jc,pd,qd,Yd)=>{tc("xRange",Ib,kc,Nc,Jc,pd,qd,Yd);const Od=Md(Jc),Jd=Od||Md(pd);qd=Jd||Md(qd);
"\x3d"===Nc&&qd&&(Nc="");Yd=Yb.includePrerelease?"-0":"";Od?kc="\x3e"===Nc||"\x3c"===Nc?"\x3c0.0.0-0":"*":Nc&&qd?(Jd&&(pd=0),qd=0,"\x3e"===Nc?(Nc="\x3e\x3d",Jd?(Jc=+Jc+1,pd=0):pd=+pd+1,qd=0):"\x3c\x3d"===Nc&&(Nc="\x3c",Jd?Jc=+Jc+1:pd=+pd+1),"\x3c"===Nc&&(Yd="-0"),kc="".concat(Nc+Jc,".").concat(pd,".").concat(qd).concat(Yd)):Jd?kc="\x3e\x3d".concat(Jc,".0.0").concat(Yd," \x3c").concat(+Jc+1,".0.0-0"):qd&&(kc="\x3e\x3d".concat(Jc,".").concat(pd,".0").concat(Yd," \x3c").concat(Jc,".").concat(+pd+1,".0-0"));
tc("xRange return",kc);return kc})},Ea=Ib=>(Yb,kc,Nc,Jc,pd,qd,Yd,Od,Jd,ed,sd,wc,Rc)=>{kc=Md(Nc)?"":Md(Jc)?"\x3e\x3d".concat(Nc,".0.0").concat(Ib?"-0":""):Md(pd)?"\x3e\x3d".concat(Nc,".").concat(Jc,".0").concat(Ib?"-0":""):qd?"\x3e\x3d".concat(kc):"\x3e\x3d".concat(kc).concat(Ib?"-0":"");Od=Md(Jd)?"":Md(ed)?"\x3c".concat(+Jd+1,".0.0-0"):Md(sd)?"\x3c".concat(Jd,".").concat(+ed+1,".0-0"):wc?"\x3c\x3d".concat(Jd,".").concat(ed,".").concat(sd,"-").concat(wc):Ib?"\x3c".concat(Jd,".").concat(ed,".").concat(+sd+
1,"-0"):"\x3c\x3d".concat(Od);return"".concat(kc," ").concat(Od).trim()};return qe}function S(wa,Xa,zb,Xb,tc,gd){const qc=rb=>nc[rb.type](qc,rb);qc.memberDepth=0;qc.fn=Object.create(Xa);qc.params=zb;qc.datum=Xb;qc.event=tc;qc.item=gd;fc.forEach(rb=>qc.fn[rb]=function(){return tc.vega[rb](...arguments)});return qc(wa)}function ca(wa){const [Xa,zb]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(wa).slice(1,3);return{library:Xa,version:zb}}function M(wa,Xa,zb){wa.fields=Xa||[];wa.fname=zb;return wa}function aa(wa){return 1===
wa.length?rd(wa[0]):Hd(wa)}function Y(wa){function Xa(){zb.push(qc+wa.substring(rb,Bb));qc="";rb=Bb+1}const zb=[],Xb=wa.length;let tc=null,gd=0,qc="",rb,Bb,ic;wa+="";for(rb=Bb=0;Bb<Xb;++Bb)if(ic=wa[Bb],"\\"===ic)qc+=wa.substring(rb,Bb),qc+=wa.substring(++Bb,++Bb),rb=Bb;else if(ic===tc)Xa(),tc=null,gd=-1;else if(!tc)if(rb===gd&&'"'===ic)rb=Bb+1,tc=ic;else if(rb===gd&&"'"===ic)rb=Bb+1,tc=ic;else if("."===ic&&!gd)Bb>rb?Xa():rb=Bb+1;else if("["===ic)Bb>rb&&Xa(),gd=rb=Bb+1;else if("]"===ic){if(!gd)throw Error("Access path missing open bracket: "+
wa);0<gd&&Xa();gd=0;rb=Bb+1}if(gd)throw Error("Access path missing closing bracket: "+wa);if(tc)throw Error("Access path missing closing quote: "+wa);Bb>rb&&(Bb++,Xa());return zb}function ea(wa,Xa){var zb={},Xb;for(Xb in wa)Object.prototype.hasOwnProperty.call(wa,Xb)&&0>Xa.indexOf(Xb)&&(zb[Xb]=wa[Xb]);if(null!=wa&&"function"===typeof Object.getOwnPropertySymbols){var tc=0;for(Xb=Object.getOwnPropertySymbols(wa);tc<Xb.length;tc++)0>Xa.indexOf(Xb[tc])&&Object.prototype.propertyIsEnumerable.call(wa,
Xb[tc])&&(zb[Xb[tc]]=wa[Xb[tc]])}return zb}function Ga(wa){const Xa=[];return function(zb,Xb){if("object"!==typeof Xb||null===Xb)return Xb;zb=Xa.indexOf(this)+1;Xa.length=zb;if(Xa.length>wa)return"[Object]";if(0<=Xa.indexOf(Xb))return"[Circular]";Xa.push(Xb);return Xb}}function X(wa,Xa,zb){function Xb(Bb){Bb.source===gd&&(rb=0,wa.removeEventListener("message",Xb,!1))}function tc(){0>=rb||(gd.postMessage(zb,qc),setTimeout(tc,250),--rb)}const gd=wa.open(Xa),{origin:qc}=new URL(Xa);let rb=40;wa.addEventListener("message",
Xb,!1);setTimeout(tc,250)}function D(wa){for(var Xa=arguments.length,zb=Array(1<Xa?Xa-1:0),Xb=1;Xb<Xa;Xb++)zb[Xb-1]=arguments[Xb];for(const tc of zb){Xa=wa;zb=tc;for(const gd of Object.keys(zb))k.writeConfig(Xa,gd,zb[gd],!0)}return wa}function B(wa,Xa,zb,Xb){Xa="\x3chtml\x3e\x3chead\x3e".concat(Xa,'\x3c/head\x3e\x3cbody\x3e\x3cpre\x3e\x3ccode class\x3d"json"\x3e');zb="\x3c/code\x3e\x3c/pre\x3e".concat(zb,"\x3c/body\x3e\x3c/html\x3e");const tc=window.open("");tc.document.write(Xa+wa+zb);tc.document.title=
"".concat(Qb[Xb]," JSON Source")}function N(wa,Xa){if(wa.$schema){wa=ca(wa.$schema);if(Xa&&Xa!==wa.library){var zb;console.warn("The given visualization spec is written in ".concat(Qb[wa.library],", but mode argument sets ").concat(null!==(zb=Qb[Xa])&&void 0!==zb?zb:Xa,"."))}Xa=wa.library;gf(rc[Xa],"^".concat(wa.version.slice(1)))||console.warn("The input spec uses ".concat(Qb[Xa]," ").concat(wa.version,", but the current version of ").concat(Qb[Xa]," is v").concat(rc[Xa],"."));return Xa}return"mark"in
wa||"encoding"in wa||"layer"in wa||"hconcat"in wa||"vconcat"in wa||"facet"in wa||"repeat"in wa?"vega-lite":"marks"in wa||"signals"in wa||"scales"in wa||"axes"in wa?"vega":null!==Xa&&void 0!==Xa?Xa:"vega"}function Z(wa){return wa&&"load"in wa?wa:re.loader(wa)}function Aa(wa,Xa){const zb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Xb,tc,gd=2<zb.length&&void 0!==zb[2]?zb[2]:{};let qc,rb;k.isString(Xa)?(rb=Z(gd.loader),qc=JSON.parse(yield rb.load(Xa))):qc=Xa;var Bb,ic,
Uc=null!==(Bb=null===(ic=qc.usermeta)||void 0===ic?void 0:ic.embedOptions)&&void 0!==Bb?Bb:{};k.isString(Uc.defaultStyle)&&(Uc.defaultStyle=!1);Bb=Uc.loader;if(!rb||Bb){var Rd;rb=Z(null!==(Rd=gd.loader)&&void 0!==Rd?Rd:Bb)}Uc=yield qa(Uc,rb);gd=yield qa(gd,rb);gd=Object.assign({},D(gd,Uc),{config:k.mergeConfig(null!==(Xb=gd.config)&&void 0!==Xb?Xb:{},null!==(tc=Uc.config)&&void 0!==tc?tc:{})});return yield Ja(wa,qc,gd,rb)})}function qa(wa,Xa){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb;
const Xb=k.isString(wa.config)?JSON.parse(yield Xa.load(wa.config)):null!==(zb=wa.config)&&void 0!==zb?zb:{};zb=k.isString(wa.patch)?JSON.parse(yield Xa.load(wa.patch)):wa.patch;return Object.assign({},wa,zb?{patch:zb}:{},Xb?{config:Xb}:{})})}function la(wa){var Xa;wa=wa.getRootNode?wa.getRootNode():document;return wa instanceof ShadowRoot?{root:wa,rootContainer:wa}:{root:document,rootContainer:null!==(Xa=document.head)&&void 0!==Xa?Xa:document.body}}function Ja(wa,Xa){const zb=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var Xb,
tc,gd,qc,rb,Bb,ic;let Uc=2<zb.length&&void 0!==zb[2]?zb[2]:{};var Rd=3<zb.length?zb[3]:void 0;const Md=Uc.theme?k.mergeConfig(ld[Uc.theme],null!==(Xb=Uc.config)&&void 0!==Xb?Xb:{}):Uc.config;Xb=k.isBoolean(Uc.actions)?Uc.actions:D({},Re,null!==(tc=Uc.actions)&&void 0!==tc?tc:{});tc=Object.assign({},af,Uc.i18n);const Gd=null!==(gd=Uc.renderer)&&void 0!==gd?gd:"canvas";gd=null!==(qc=Uc.logLevel)&&void 0!==qc?qc:re.Warn;qc=null!==(rb=Uc.downloadFileName)&&void 0!==rb?rb:"visualization";rb="string"===
typeof wa?document.querySelector(wa):wa;if(!rb)throw Error("".concat(wa," does not exist"));if(!1!==Uc.defaultStyle){const {root:kc,rootContainer:Nc}=la(rb);if(!kc.getElementById("vega-embed-style")){var Pd=document.createElement("style");Pd.id="vega-embed-style";Pd.innerHTML=void 0===Uc.defaultStyle||!0===Uc.defaultStyle?'.vega-embed {\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n}\n.vega-embed.has-actions {\n  padding-right: 38px;\n}\n.vega-embed details:not([open]) \x3e :not(summary) {\n  display: none !important;\n}\n.vega-embed summary {\n  list-style: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  padding: 6px;\n  z-index: 1000;\n  background: white;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);\n  color: #1b1e23;\n  border: 1px solid #aaa;\n  border-radius: 999px;\n  opacity: 0.2;\n  transition: opacity 0.4s ease-in;\n  cursor: pointer;\n  line-height: 0px;\n}\n.vega-embed summary::-webkit-details-marker {\n  display: none;\n}\n.vega-embed summary:active {\n  box-shadow: #aaa 0px 0px 0px 1px inset;\n}\n.vega-embed summary svg {\n  width: 14px;\n  height: 14px;\n}\n.vega-embed details[open] summary {\n  opacity: 0.7;\n}\n.vega-embed:hover summary, .vega-embed:focus-within summary {\n  opacity: 1 !important;\n  transition: opacity 0.2s ease;\n}\n.vega-embed .vega-actions {\n  position: absolute;\n  z-index: 1001;\n  top: 35px;\n  right: -9px;\n  display: flex;\n  flex-direction: column;\n  padding-bottom: 8px;\n  padding-top: 8px;\n  border-radius: 4px;\n  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);\n  border: 1px solid #d9d9d9;\n  background: white;\n  animation-duration: 0.15s;\n  animation-name: scale-in;\n  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);\n  text-align: left;\n}\n.vega-embed .vega-actions a {\n  padding: 8px 16px;\n  font-family: sans-serif;\n  font-size: 14px;\n  font-weight: 600;\n  white-space: nowrap;\n  color: #434a56;\n  text-decoration: none;\n}\n.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {\n  background-color: #f7f7f9;\n  color: black;\n}\n.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {\n  content: "";\n  display: inline-block;\n  position: absolute;\n}\n.vega-embed .vega-actions::before {\n  left: auto;\n  right: 14px;\n  top: -16px;\n  border: 8px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #d9d9d9;\n}\n.vega-embed .vega-actions::after {\n  left: auto;\n  right: 15px;\n  top: -14px;\n  border: 7px solid rgba(0, 0, 0, 0);\n  border-bottom-color: #fff;\n}\n.vega-embed .chart-wrapper.fit-x {\n  width: 100%;\n}\n.vega-embed .chart-wrapper.fit-y {\n  height: 100%;\n}\n\n.vega-embed-wrapper {\n  max-width: 100%;\n  overflow: auto;\n  padding-right: 14px;\n}\n\n@keyframes scale-in {\n  from {\n    opacity: 0;\n    transform: scale(0.6);\n  }\n  to {\n    opacity: 1;\n    transform: scale(1);\n  }\n}\n'.toString():
Uc.defaultStyle;Nc.appendChild(Pd)}}const Le=N(Xa,Uc.mode);let Se=bd[Le](Xa,Md);"vega-lite"===Le&&Se.$schema&&(Pd=ca(Se.$schema),gf(rc.vega,"^".concat(Pd.version.slice(1)))||console.warn("The compiled spec uses Vega ".concat(Pd.version,", but current version is v").concat(rc.vega,".")));rb.classList.add("vega-embed");Xb&&rb.classList.add("has-actions");rb.innerHTML="";let ha=rb;Xb&&(Pd=document.createElement("div"),Pd.classList.add("chart-wrapper"),rb.appendChild(Pd),ha=Pd);(Pd=Uc.patch)&&(Se=Pd instanceof
Function?Pd(Se):x(Se,Pd,!0,!1).newDocument);Uc.formatLocale&&re.formatLocale(Uc.formatLocale);Uc.timeFormatLocale&&re.timeFormatLocale(Uc.timeFormatLocale);if(Uc.expressionFunctions)for(var ob in Uc.expressionFunctions)Pd=Uc.expressionFunctions[ob],"fn"in Pd?re.expressionFunction(ob,Pd.fn,Pd.visitor):Pd instanceof Function&&re.expressionFunction(ob,Pd);({ast:ob}=Uc);Pd=re.parse(Se,"vega-lite"===Le?{}:Md,{ast:ob});const Ea=new (Uc.viewClass||re.View)(Pd,Object.assign({},{loader:Rd,logLevel:gd,renderer:Gd},
ob?{expr:null!==(Bb=null!==(ic=re.expressionInterpreter)&&void 0!==ic?ic:Uc.expr)&&void 0!==Bb?Bb:Hc}:{}));Ea.addSignalListener("autosize",(kc,Nc)=>{({type:kc}=Nc);"fit-x"==kc?(ha.classList.add("fit-x"),ha.classList.remove("fit-y")):"fit-y"==kc?(ha.classList.remove("fit-x"),ha.classList.add("fit-y")):"fit"==kc?ha.classList.add("fit-x","fit-y"):ha.classList.remove("fit-x","fit-y")});!1!==Uc.tooltip&&(Bb="function"===typeof Uc.tooltip?Uc.tooltip:(new he(!0===Uc.tooltip?{}:Uc.tooltip)).call,Ea.tooltip(Bb));
({hover:Bb}=Uc);void 0===Bb&&(Bb="vega"===Le);if(Bb){const {hoverSet:kc,updateSet:Nc}="boolean"===typeof Bb?{}:Bb;Ea.hover(kc,Nc)}Uc&&(null!=Uc.width&&Ea.width(Uc.width),null!=Uc.height&&Ea.height(Uc.height),null!=Uc.padding&&Ea.padding(Uc.padding));yield Ea.initialize(ha,Uc.bind).runAsync();let Ib;if(!1!==Xb){ic=rb;if(!1!==Uc.defaultStyle){const kc=document.createElement("details");kc.title=tc.CLICK_TO_VIEW_ACTIONS;rb.append(kc);ic=kc;Bb=document.createElement("summary");Bb.innerHTML='\n\x3csvg viewBox\x3d"0 0 16 16" fill\x3d"currentColor" stroke\x3d"none" stroke-width\x3d"1" stroke-linecap\x3d"round" stroke-linejoin\x3d"round"\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"2"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"8"\x3e\x3c/circle\x3e\n  \x3ccircle r\x3d"2" cy\x3d"8" cx\x3d"14"\x3e\x3c/circle\x3e\n\x3c/svg\x3e';
kc.append(Bb);Ib=Nc=>{kc.contains(Nc.target)||kc.removeAttribute("open")};document.addEventListener("click",Ib)}Bb=document.createElement("div");ic.append(Bb);Bb.classList.add("vega-actions");if(!0===Xb||!1!==Xb.export)for(const kc of["svg","png"])if(!0===Xb||!0===Xb.export||Xb.export[kc])ic=tc["".concat(kc.toUpperCase(),"_ACTION")],Rd=document.createElement("a"),Rd.text=ic,Rd.href="#",Rd.target="_blank",Rd.download="".concat(qc,".").concat(kc),Rd.addEventListener("mousedown",function(Nc){const Jc=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){Nc.preventDefault();const pd=yield Ea.toImageURL(kc,Uc.scaleFactor);Jc.href=pd})}),Bb.append(Rd);if(!0===Xb||!1!==Xb.source)qc=document.createElement("a"),qc.text=tc.SOURCE_ACTION,qc.href="#",qc.addEventListener("click",function(kc){var Nc,Jc;B(U(Xa),null!==(Nc=Uc.sourceHeader)&&void 0!==Nc?Nc:"",null!==(Jc=Uc.sourceFooter)&&void 0!==Jc?Jc:"",Le);kc.preventDefault()}),Bb.append(qc);"vega-lite"!==Le||!0!==Xb&&!1===Xb.compiled||(qc=
document.createElement("a"),qc.text=tc.COMPILED_ACTION,qc.href="#",qc.addEventListener("click",function(kc){var Nc,Jc;B(U(Se),null!==(Nc=Uc.sourceHeader)&&void 0!==Nc?Nc:"",null!==(Jc=Uc.sourceFooter)&&void 0!==Jc?Jc:"","vega");kc.preventDefault()}),Bb.append(qc));if(!0===Xb||!1!==Xb.editor){var Yb;const kc=null!==(Yb=Uc.editorUrl)&&void 0!==Yb?Yb:"https://vega.github.io/editor/";Yb=document.createElement("a");Yb.text=tc.EDITOR_ACTION;Yb.href="#";Yb.addEventListener("click",function(Nc){X(window,
kc,{config:Md,mode:Le,renderer:Gd,spec:U(Xa)});Nc.preventDefault()});Bb.append(Yb)}}return{view:Ea,spec:Xa,vgSpec:Se,finalize:function(){Ib&&document.removeEventListener("click",Ib);Ea.finalize()},embedOptions:Uc}})}function bb(wa){const Xa=arguments;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var zb;let Xb=1<Xa.length&&void 0!==Xa[1]?Xa[1]:{};const tc=document.createElement("div");tc.classList.add("vega-embed-wrapper");const gd=document.createElement("div");tc.appendChild(gd);
const qc=!0===Xb.actions||!1===Xb.actions?Xb.actions:Object.assign({},{export:!0,source:!1,compiled:!0,editor:!0},null!==(zb=Xb.actions)&&void 0!==zb?zb:{});zb=yield Aa(gd,wa,Object.assign({},{actions:qc},null!==Xb&&void 0!==Xb?Xb:{}));tc.value=zb.view;return tc})}var ib=q(k),Ma=q(p),ma=function(){var wa=function(Xa,zb){wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Xb,tc){Xb.__proto__=tc}||function(Xb,tc){for(var gd in tc)tc.hasOwnProperty(gd)&&(Xb[gd]=tc[gd])};return wa(Xa,zb)};
return function(Xa,zb){function Xb(){this.constructor=Xa}wa(Xa,zb);Xa.prototype=null===zb?Object.create(zb):(Xb.prototype=zb.prototype,new Xb)}}(),Fa=Object.prototype.hasOwnProperty,Ra=function(wa){function Xa(zb,Xb,tc,gd,qc){var rb=this.constructor,Bb=wa.call(this,g(zb,{name:Xb,index:tc,operation:gd,tree:qc}))||this;Bb.name=Xb;Bb.index=tc;Bb.operation=gd;Bb.tree=qc;Object.setPrototypeOf(Bb,rb.prototype);Bb.message=g(zb,{name:Xb,index:tc,operation:gd,tree:qc});return Bb}ma(Xa,wa);return Xa}(Error),
ra=Ra,ya={add:function(wa,Xa,zb){wa[Xa]=this.value;return{newDocument:zb}},remove:function(wa,Xa,zb){var Xb=wa[Xa];delete wa[Xa];return{newDocument:zb,removed:Xb}},replace:function(wa,Xa,zb){var Xb=wa[Xa];wa[Xa]=this.value;return{newDocument:zb,removed:Xb}},move:function(wa,Xa,zb){(wa=m(zb,this.path))&&(wa=n(wa));Xa=h(zb,{op:"remove",path:this.from}).removed;h(zb,{op:"add",path:this.path,value:Xa});return{newDocument:zb,removed:wa}},copy:function(wa,Xa,zb){wa=m(zb,this.from);h(zb,{op:"add",path:this.path,
value:n(wa)});return{newDocument:zb}},test:function(wa,Xa,zb){return{newDocument:zb,test:I(wa[Xa],this.value)}},_get:function(wa,Xa,zb){this.value=wa[Xa];return{newDocument:zb}}},oa={add:function(wa,Xa,zb){f(Xa)?wa.splice(Xa,0,this.value):wa[Xa]=this.value;return{newDocument:zb,index:Xa}},remove:function(wa,Xa,zb){wa=wa.splice(Xa,1);return{newDocument:zb,removed:wa[0]}},replace:function(wa,Xa,zb){var Xb=wa[Xa];wa[Xa]=this.value;return{newDocument:zb,removed:Xb}},move:ya.move,copy:ya.copy,test:ya.test,
_get:ya._get},xa=Object.freeze({__proto__:null,JsonPatchError:ra,deepClone:n,getValueByPointer:m,applyOperation:h,applyPatch:x,applyReducer:function(wa,Xa,zb){var Xb=h(wa,Xa);if(!1===Xb.test)throw new ra("Test operation failed","TEST_OPERATION_FAILED",zb,Xa,wa);return Xb.newDocument},validator:O,validate:G,_areEquals:I}),Ua=new WeakMap,fb=function(){return function(wa){this.observers=new Map;this.obj=wa}}(),sa=function(){return function(wa,Xa){this.callback=wa;this.observer=Xa}}(),Oa=Object.freeze({__proto__:null,
unobserve:function(wa,Xa){Xa.unobserve()},observe:function(wa,Xa){var zb=Ua.get(wa);if(zb){var Xb=zb.observers.get(Xa);var tc=Xb&&Xb.observer}else zb=new fb(wa),Ua.set(wa,zb);if(tc)return tc;tc={};zb.value=n(wa);if(Xa){tc.callback=Xa;tc.next=null;var gd=function(){F(tc)},qc=function(){clearTimeout(tc.next);tc.next=setTimeout(gd)};"undefined"!==typeof window&&(window.addEventListener("mouseup",qc),window.addEventListener("keyup",qc),window.addEventListener("mousedown",qc),window.addEventListener("keydown",
qc),window.addEventListener("change",qc))}tc.patches=[];tc.object=wa;tc.unobserve=function(){F(tc);clearTimeout(tc.next);zb.observers.delete(tc.callback);"undefined"!==typeof window&&(window.removeEventListener("mouseup",qc),window.removeEventListener("keyup",qc),window.removeEventListener("mousedown",qc),window.removeEventListener("keydown",qc),window.removeEventListener("change",qc))};zb.observers.set(Xa,new sa(Xa,tc));return tc},generate:F,compare:function(wa,Xa,zb){void 0===zb&&(zb=!1);var Xb=
[];C(wa,Xa,Xb,"",zb);return Xb}});Object.assign({},xa,Oa,{JsonPatchError:Ra,deepClone:n,escapePathComponent:b,unescapePathComponent:c});var ja=/("(?:[^\\"]|\\.)*")|[:,]/g,U=function(wa,Xa){Xa=Xa||{};var zb=JSON.stringify([1],void 0,void 0===Xa.indent?2:Xa.indent).slice(2,-3);var Xb=""===zb?Infinity:void 0===Xa.maxLength?80:Xa.maxLength;var tc=Xa.replacer;return function ic(qc,rb,Bb){qc&&"function"===typeof qc.toJSON&&(qc=qc.toJSON());var Uc=JSON.stringify(qc,tc);if(void 0===Uc)return Uc;Bb=Xb-rb.length-
Bb;if(Uc.length<=Bb){var Rd=Uc.replace(ja,function(Ea,Ib){return Ib||Ea+" "});if(Rd.length<=Bb)return Rd}null!=tc&&(qc=JSON.parse(Uc),tc=void 0);if("object"===typeof qc&&null!==qc){var Md=rb+zb;var Gd=[];var Pd=0;if(Array.isArray(qc)){var Le="[";Rd="]";for(Bb=qc.length;Pd<Bb;Pd++)Gd.push(ic(qc[Pd],Md,Pd===Bb-1?0:1)||"null")}else{Le="{";Rd="}";var Se=Object.keys(qc);for(Bb=Se.length;Pd<Bb;Pd++){var ha=Se[Pd];var ob=JSON.stringify(ha)+": ";ha=ic(qc[ha],Md,ob.length+(Pd===Bb-1?0:1));void 0!==ha&&Gd.push(ob+
ha)}}if(0<Gd.length)return[Le,zb+Gd.join(",\n"+Md),Rd].join("\n"+rb)}return Uc}(wa,"",0)};r.Node=y;r.create=r;r.prototype.removeNode=function(wa){if(wa.list!==this)throw Error("removing node which does not belong to this list");var Xa=wa.next,zb=wa.prev;Xa&&(Xa.prev=zb);zb&&(zb.next=Xa);wa===this.head&&(this.head=Xa);wa===this.tail&&(this.tail=zb);wa.list.length--;wa.next=null;wa.prev=null;wa.list=null;return Xa};r.prototype.unshiftNode=function(wa){if(wa!==this.head){wa.list&&wa.list.removeNode(wa);
var Xa=this.head;wa.list=this;if(wa.next=Xa)Xa.prev=wa;this.head=wa;this.tail||(this.tail=wa);this.length++}};r.prototype.pushNode=function(wa){if(wa!==this.tail){wa.list&&wa.list.removeNode(wa);var Xa=this.tail;wa.list=this;if(wa.prev=Xa)Xa.next=wa;this.tail=wa;this.head||(this.head=wa);this.length++}};r.prototype.push=function(){for(var wa=0,Xa=arguments.length;wa<Xa;wa++)this.tail=new y(arguments[wa],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};r.prototype.unshift=
function(){for(var wa=0,Xa=arguments.length;wa<Xa;wa++)this.head=new y(arguments[wa],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};r.prototype.pop=function(){if(this.tail){var wa=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return wa}};r.prototype.shift=function(){if(this.head){var wa=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return wa}};r.prototype.forEach=function(wa,
Xa){Xa=Xa||this;for(var zb=this.head,Xb=0;null!==zb;Xb++)wa.call(Xa,zb.value,Xb,this),zb=zb.next};r.prototype.forEachReverse=function(wa,Xa){Xa=Xa||this;for(var zb=this.tail,Xb=this.length-1;null!==zb;Xb--)wa.call(Xa,zb.value,Xb,this),zb=zb.prev};r.prototype.get=function(wa){for(var Xa=0,zb=this.head;null!==zb&&Xa<wa;Xa++)zb=zb.next;if(Xa===wa&&null!==zb)return zb.value};r.prototype.getReverse=function(wa){for(var Xa=0,zb=this.tail;null!==zb&&Xa<wa;Xa++)zb=zb.prev;if(Xa===wa&&null!==zb)return zb.value};
r.prototype.map=function(wa,Xa){Xa=Xa||this;for(var zb=new r,Xb=this.head;null!==Xb;)zb.push(wa.call(Xa,Xb.value,this)),Xb=Xb.next;return zb};r.prototype.mapReverse=function(wa,Xa){Xa=Xa||this;for(var zb=new r,Xb=this.tail;null!==Xb;)zb.push(wa.call(Xa,Xb.value,this)),Xb=Xb.prev;return zb};r.prototype.reduce=function(wa,Xa){var zb=this.head;if(1<arguments.length)var Xb=Xa;else if(this.head)zb=this.head.next,Xb=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var tc=0;null!==zb;tc++)Xb=wa(Xb,zb.value,tc),zb=zb.next;return Xb};r.prototype.reduceReverse=function(wa,Xa){var zb=this.tail;if(1<arguments.length)var Xb=Xa;else if(this.tail)zb=this.tail.prev,Xb=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tc=this.length-1;null!==zb;tc--)Xb=wa(Xb,zb.value,tc),zb=zb.prev;return Xb};r.prototype.toArray=function(){for(var wa=Array(this.length),Xa=0,zb=this.head;null!==zb;Xa++)wa[Xa]=zb.value,zb=zb.next;return wa};
r.prototype.toArrayReverse=function(){for(var wa=Array(this.length),Xa=0,zb=this.tail;null!==zb;Xa++)wa[Xa]=zb.value,zb=zb.prev;return wa};r.prototype.slice=function(wa,Xa){Xa=Xa||this.length;0>Xa&&(Xa+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var zb=new r;if(Xa<wa||0>Xa)return zb;0>wa&&(wa=0);Xa>this.length&&(Xa=this.length);for(var Xb=0,tc=this.head;null!==tc&&Xb<wa;Xb++)tc=tc.next;for(;null!==tc&&Xb<Xa;Xb++,tc=tc.next)zb.push(tc.value);return zb};r.prototype.sliceReverse=function(wa,Xa){Xa=
Xa||this.length;0>Xa&&(Xa+=this.length);wa=wa||0;0>wa&&(wa+=this.length);var zb=new r;if(Xa<wa||0>Xa)return zb;0>wa&&(wa=0);Xa>this.length&&(Xa=this.length);for(var Xb=this.length,tc=this.tail;null!==tc&&Xb>Xa;Xb--)tc=tc.prev;for(;null!==tc&&Xb>wa;Xb--,tc=tc.prev)zb.push(tc.value);return zb};r.prototype.splice=function(wa,Xa){wa>this.length&&(wa=this.length-1);0>wa&&(wa=this.length+wa);for(var zb=0,Xb=this.head;null!==Xb&&zb<wa;zb++)Xb=Xb.next;var tc=[];for(zb=0;Xb&&zb<Xa;zb++)tc.push(Xb.value),Xb=
this.removeNode(Xb);null===Xb&&(Xb=this.tail);Xb!==this.head&&Xb!==this.tail&&(Xb=Xb.prev);for(zb=0;zb<(2>=arguments.length?0:arguments.length-2);zb++){var gd=2>zb+2||arguments.length<=zb+2?void 0:arguments[zb+2];Xb=Xb===this.head?new y(gd,null,Xb,this):new y(gd,Xb,Xb.next,this);null===Xb.next&&(this.tail=Xb);null===Xb.prev&&(this.head=Xb);this.length++}return tc};r.prototype.reverse=function(){for(var wa=this.head,Xa=this.tail,zb=wa;null!==zb;zb=zb.prev){var Xb=zb.prev;zb.prev=zb.next;zb.next=Xb}this.head=
Xa;this.tail=wa;return this};try{r.prototype[Symbol.iterator]=function*(){for(let wa=this.head;wa;wa=wa.next)yield wa.value}}catch(wa){}const ka=Symbol("max"),ua=Symbol("length"),Ta=Symbol("lengthCalculator"),eb=Symbol("allowStale"),lb=Symbol("maxAge"),nb=Symbol("dispose"),Mb=Symbol("noDisposeOnSet"),$b=Symbol("lruList"),Gc=Symbol("cache"),zc=Symbol("updateAgeOnGet"),Bc=()=>1;class uc{constructor(wa){"number"===typeof wa&&(wa={max:wa});wa||(wa={});if(wa.max&&("number"!==typeof wa.max||0>wa.max))throw new TypeError("max must be a non-negative number");
this[ka]=wa.max||Infinity;const Xa=wa.length||Bc;this[Ta]="function"!==typeof Xa?Bc:Xa;this[eb]=wa.stale||!1;if(wa.maxAge&&"number"!==typeof wa.maxAge)throw new TypeError("maxAge must be a number");this[lb]=wa.maxAge||0;this[nb]=wa.dispose;this[Mb]=wa.noDisposeOnSet||!1;this[zc]=wa.updateAgeOnGet||!1;this.reset()}set max(wa){if("number"!==typeof wa||0>wa)throw new TypeError("max must be a non-negative number");this[ka]=wa||Infinity;Ab(this)}get max(){return this[ka]}set allowStale(wa){this[eb]=!!wa}get allowStale(){return this[eb]}set maxAge(wa){if("number"!==
typeof wa)throw new TypeError("maxAge must be a non-negative number");this[lb]=wa;Ab(this)}get maxAge(){return this[lb]}set lengthCalculator(wa){"function"!==typeof wa&&(wa=Bc);wa!==this[Ta]&&(this[Ta]=wa,this[ua]=0,this[$b].forEach(Xa=>{Xa.length=this[Ta](Xa.value,Xa.key);this[ua]+=Xa.length}));Ab(this)}get lengthCalculator(){return this[Ta]}get length(){return this[ua]}get itemCount(){return this[$b].length}rforEach(wa,Xa){Xa=Xa||this;for(let zb=this[$b].tail;null!==zb;){const Xb=zb.prev;mc(this,
wa,zb,Xa);zb=Xb}}forEach(wa,Xa){Xa=Xa||this;for(let zb=this[$b].head;null!==zb;){const Xb=zb.next;mc(this,wa,zb,Xa);zb=Xb}}keys(){return this[$b].toArray().map(wa=>wa.key)}values(){return this[$b].toArray().map(wa=>wa.value)}reset(){this[nb]&&this[$b]&&this[$b].length&&this[$b].forEach(wa=>this[nb](wa.key,wa.value));this[Gc]=new Map;this[$b]=new r;this[ua]=0}dump(){return this[$b].map(wa=>Hb(this,wa)?!1:{k:wa.key,v:wa.value,e:wa.now+(wa.maxAge||0)}).toArray().filter(wa=>wa)}dumpLru(){return this[$b]}set(wa,
Xa,zb){if((zb=zb||this[lb])&&"number"!==typeof zb)throw new TypeError("maxAge must be a number");const Xb=zb?Date.now():0,tc=this[Ta](Xa,wa);if(this[Gc].has(wa)){if(tc>this[ka])return dc(this,this[Gc].get(wa)),!1;const gd=this[Gc].get(wa).value;if(this[nb]&&!this[Mb])this[nb](wa,gd.value);gd.now=Xb;gd.maxAge=zb;gd.value=Xa;this[ua]+=tc-gd.length;gd.length=tc;this.get(wa);Ab(this);return!0}zb=new Wb(wa,Xa,tc,Xb,zb);if(zb.length>this[ka]){if(this[nb])this[nb](wa,Xa);return!1}this[ua]+=zb.length;this[$b].unshift(zb);
this[Gc].set(wa,this[$b].head);Ab(this);return!0}has(wa){if(!this[Gc].has(wa))return!1;wa=this[Gc].get(wa).value;return!Hb(this,wa)}get(wa){return id(this,wa,!0)}peek(wa){return id(this,wa,!1)}pop(){const wa=this[$b].tail;if(!wa)return null;dc(this,wa);return wa.value}del(wa){dc(this,this[Gc].get(wa))}load(wa){this.reset();const Xa=Date.now();for(let Xb=wa.length-1;0<=Xb;Xb--){const tc=wa[Xb];var zb=tc.e||0;0===zb?this.set(tc.k,tc.v):(zb-=Xa,0<zb&&this.set(tc.k,tc.v,zb))}}prune(){this[Gc].forEach((wa,
Xa)=>id(this,Xa,!1))}}const id=(wa,Xa,zb)=>{if(Xa=wa[Gc].get(Xa)){const Xb=Xa.value;if(Hb(wa,Xb)){if(dc(wa,Xa),!wa[eb])return}else zb&&(wa[zc]&&(Xa.value.now=Date.now()),wa[$b].unshiftNode(Xa));return Xb.value}},Hb=(wa,Xa)=>{if(!Xa||!Xa.maxAge&&!wa[lb])return!1;const zb=Date.now()-Xa.now;return Xa.maxAge?zb>Xa.maxAge:wa[lb]&&zb>wa[lb]},Ab=wa=>{if(wa[ua]>wa[ka])for(let Xa=wa[$b].tail;wa[ua]>wa[ka]&&null!==Xa;){const zb=Xa.prev;dc(wa,Xa);Xa=zb}},dc=(wa,Xa)=>{if(Xa){const zb=Xa.value;if(wa[nb])wa[nb](zb.key,
zb.value);wa[ua]-=zb.length;wa[Gc].delete(zb.key);wa[$b].removeNode(Xa)}};class Wb{constructor(wa,Xa,zb,Xb,tc){this.key=wa;this.value=Xa;this.length=zb;this.now=Xb;this.maxAge=tc||0}}const mc=(wa,Xa,zb,Xb)=>{let tc=zb.value;Hb(wa,tc)&&(dc(wa,zb),wa[eb]||(tc=void 0));tc&&Xa.call(Xb,tc.value,tc.key,wa)};var Kc=uc;const Fc=["includePrerelease","loose","rtl"];var Sc=wa=>wa?"object"!==typeof wa?{loose:!0}:Fc.filter(Xa=>wa[Xa]).reduce((Xa,zb)=>{Xa[zb]=!0;return Xa},{}):{},jd={exports:{}},$d={SEMVER_SPEC_VERSION:"2.0.0",
MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16},Ba="object"===typeof w&&w.env&&w.env.NODE_DEBUG&&/\bsemver\b/i.test(w.env.NODE_DEBUG)?function(){for(var wa=arguments.length,Xa=Array(wa),zb=0;zb<wa;zb++)Xa[zb]=arguments[zb];return console.error("SEMVER",...Xa)}:()=>{};(function(wa,Xa){const {MAX_SAFE_COMPONENT_LENGTH:zb}=$d,Xb=Ba;Xa=wa.exports={};const tc=Xa.re=[],gd=Xa.src=[],qc=Xa.t={};let rb=0;wa=(Bb,ic,Uc)=>{const Rd=rb++;Xb(Bb,Rd,ic);qc[Bb]=
Rd;gd[Rd]=ic;tc[Rd]=new RegExp(ic,Uc?"g":void 0)};wa("NUMERICIDENTIFIER","0|[1-9]\\d*");wa("NUMERICIDENTIFIERLOOSE","[0-9]+");wa("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");wa("MAINVERSION","(".concat(gd[qc.NUMERICIDENTIFIER],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIER],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIER],")"));wa("MAINVERSIONLOOSE","(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(gd[qc.NUMERICIDENTIFIERLOOSE],")"));wa("PRERELEASEIDENTIFIER",
"(?:".concat(gd[qc.NUMERICIDENTIFIER],"|").concat(gd[qc.NONNUMERICIDENTIFIER],")"));wa("PRERELEASEIDENTIFIERLOOSE","(?:".concat(gd[qc.NUMERICIDENTIFIERLOOSE],"|").concat(gd[qc.NONNUMERICIDENTIFIER],")"));wa("PRERELEASE","(?:-(".concat(gd[qc.PRERELEASEIDENTIFIER],"(?:\\.").concat(gd[qc.PRERELEASEIDENTIFIER],")*))"));wa("PRERELEASELOOSE","(?:-?(".concat(gd[qc.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(gd[qc.PRERELEASEIDENTIFIERLOOSE],")*))"));wa("BUILDIDENTIFIER","[0-9A-Za-z-]+");wa("BUILD","(?:\\+(".concat(gd[qc.BUILDIDENTIFIER],
"(?:\\.").concat(gd[qc.BUILDIDENTIFIER],")*))"));wa("FULLPLAIN","v?".concat(gd[qc.MAINVERSION]).concat(gd[qc.PRERELEASE],"?").concat(gd[qc.BUILD],"?"));wa("FULL","^".concat(gd[qc.FULLPLAIN],"$"));wa("LOOSEPLAIN","[v\x3d\\s]*".concat(gd[qc.MAINVERSIONLOOSE]).concat(gd[qc.PRERELEASELOOSE],"?").concat(gd[qc.BUILD],"?"));wa("LOOSE","^".concat(gd[qc.LOOSEPLAIN],"$"));wa("GTLT","((?:\x3c|\x3e)?\x3d?)");wa("XRANGEIDENTIFIERLOOSE","".concat(gd[qc.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));wa("XRANGEIDENTIFIER",
"".concat(gd[qc.NUMERICIDENTIFIER],"|x|X|\\*"));wa("XRANGEPLAIN","[v\x3d\\s]*(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIER],")")+"(?:".concat(gd[qc.PRERELEASE],")?").concat(gd[qc.BUILD],"?")+")?)?");wa("XRANGEPLAINLOOSE","[v\x3d\\s]*(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(gd[qc.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(gd[qc.PRERELEASELOOSE],")?").concat(gd[qc.BUILD],
"?")+")?)?");wa("XRANGE","^".concat(gd[qc.GTLT],"\\s*").concat(gd[qc.XRANGEPLAIN],"$"));wa("XRANGELOOSE","^".concat(gd[qc.GTLT],"\\s*").concat(gd[qc.XRANGEPLAINLOOSE],"$"));wa("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(zb,"})")+"(?:\\.(\\d{1,".concat(zb,"}))?")+"(?:\\.(\\d{1,".concat(zb,"}))?")+"(?:$|[^\\d])");wa("COERCERTL",gd[qc.COERCE],!0);wa("LONETILDE","(?:~\x3e?)");wa("TILDETRIM","(\\s*)".concat(gd[qc.LONETILDE],"\\s+"),!0);Xa.tildeTrimReplace="$1~";wa("TILDE","^".concat(gd[qc.LONETILDE]).concat(gd[qc.XRANGEPLAIN],
"$"));wa("TILDELOOSE","^".concat(gd[qc.LONETILDE]).concat(gd[qc.XRANGEPLAINLOOSE],"$"));wa("LONECARET","(?:\\^)");wa("CARETTRIM","(\\s*)".concat(gd[qc.LONECARET],"\\s+"),!0);Xa.caretTrimReplace="$1^";wa("CARET","^".concat(gd[qc.LONECARET]).concat(gd[qc.XRANGEPLAIN],"$"));wa("CARETLOOSE","^".concat(gd[qc.LONECARET]).concat(gd[qc.XRANGEPLAINLOOSE],"$"));wa("COMPARATORLOOSE","^".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.LOOSEPLAIN],")$|^$"));wa("COMPARATOR","^".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.FULLPLAIN],
")$|^$"));wa("COMPARATORTRIM","(\\s*)".concat(gd[qc.GTLT],"\\s*(").concat(gd[qc.LOOSEPLAIN],"|").concat(gd[qc.XRANGEPLAIN],")"),!0);Xa.comparatorTrimReplace="$1$2$3";wa("HYPHENRANGE","^\\s*(".concat(gd[qc.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(gd[qc.XRANGEPLAIN],")")+"\\s*$");wa("HYPHENRANGELOOSE","^\\s*(".concat(gd[qc.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(gd[qc.XRANGEPLAINLOOSE],")")+"\\s*$");wa("STAR","(\x3c|\x3e)?\x3d?\\s*\\*");wa("GTE0","^\\s*\x3e\x3d\\s*0\\.0\\.0\\s*$");wa("GTE0PRE",
"^\\s*\x3e\x3d\\s*0\\.0\\.0-0\\s*$")})(jd,jd.exports);const va=/^[0-9]+$/,Ca=(wa,Xa)=>{const zb=va.test(wa),Xb=va.test(Xa);zb&&Xb&&(wa=+wa,Xa=+Xa);return wa===Xa?0:zb&&!Xb?-1:Xb&&!zb?1:wa<Xa?-1:1};var $a={compareIdentifiers:Ca,rcompareIdentifiers:(wa,Xa)=>Ca(Xa,wa)};const jb=Ba,{MAX_LENGTH:yb,MAX_SAFE_INTEGER:Ub}=$d,{re:Tb,t:Vb}=jd.exports,Ic=Sc,{compareIdentifiers:$c}=$a;class dd{constructor(wa,Xa){Xa=Ic(Xa);if(wa instanceof dd){if(wa.loose===!!Xa.loose&&wa.includePrerelease===!!Xa.includePrerelease)return wa;
wa=wa.version}else if("string"!==typeof wa)throw new TypeError("Invalid Version: ".concat(wa));if(wa.length>yb)throw new TypeError("version is longer than ".concat(yb," characters"));jb("SemVer",wa,Xa);this.options=Xa;this.loose=!!Xa.loose;this.includePrerelease=!!Xa.includePrerelease;Xa=wa.trim().match(Xa.loose?Tb[Vb.LOOSE]:Tb[Vb.FULL]);if(!Xa)throw new TypeError("Invalid Version: ".concat(wa));this.raw=wa;this.major=+Xa[1];this.minor=+Xa[2];this.patch=+Xa[3];if(this.major>Ub||0>this.major)throw new TypeError("Invalid major version");
if(this.minor>Ub||0>this.minor)throw new TypeError("Invalid minor version");if(this.patch>Ub||0>this.patch)throw new TypeError("Invalid patch version");this.prerelease=Xa[4]?Xa[4].split(".").map(zb=>{if(/^[0-9]+$/.test(zb)){const Xb=+zb;if(0<=Xb&&Xb<Ub)return Xb}return zb}):[];this.build=Xa[5]?Xa[5].split("."):[];this.format()}format(){this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch);this.prerelease.length&&(this.version+="-".concat(this.prerelease.join(".")));return this.version}toString(){return this.version}compare(wa){jb("SemVer.compare",
this.version,this.options,wa);if(!(wa instanceof dd)){if("string"===typeof wa&&wa===this.version)return 0;wa=new dd(wa,this.options)}return wa.version===this.version?0:this.compareMain(wa)||this.comparePre(wa)}compareMain(wa){wa instanceof dd||(wa=new dd(wa,this.options));return $c(this.major,wa.major)||$c(this.minor,wa.minor)||$c(this.patch,wa.patch)}comparePre(wa){wa instanceof dd||(wa=new dd(wa,this.options));if(this.prerelease.length&&!wa.prerelease.length)return-1;if(!this.prerelease.length&&
wa.prerelease.length)return 1;if(!this.prerelease.length&&!wa.prerelease.length)return 0;let Xa=0;do{const zb=this.prerelease[Xa],Xb=wa.prerelease[Xa];jb("prerelease compare",Xa,zb,Xb);if(void 0===zb&&void 0===Xb)return 0;if(void 0===Xb)return 1;if(void 0===zb)return-1;if(zb!==Xb)return $c(zb,Xb)}while(++Xa)}compareBuild(wa){wa instanceof dd||(wa=new dd(wa,this.options));let Xa=0;do{const zb=this.build[Xa],Xb=wa.build[Xa];jb("prerelease compare",Xa,zb,Xb);if(void 0===zb&&void 0===Xb)return 0;if(void 0===
Xb)return 1;if(void 0===zb)return-1;if(zb!==Xb)return $c(zb,Xb)}while(++Xa)}inc(wa,Xa){switch(wa){case "premajor":this.minor=this.patch=this.prerelease.length=0;this.major++;this.inc("pre",Xa);break;case "preminor":this.patch=this.prerelease.length=0;this.minor++;this.inc("pre",Xa);break;case "prepatch":this.prerelease.length=0;this.inc("patch",Xa);this.inc("pre",Xa);break;case "prerelease":0===this.prerelease.length&&this.inc("patch",Xa);this.inc("pre",Xa);break;case "major":0===this.minor&&0===
this.patch&&0!==this.prerelease.length||this.major++;this.patch=this.minor=0;this.prerelease=[];break;case "minor":0===this.patch&&0!==this.prerelease.length||this.minor++;this.patch=0;this.prerelease=[];break;case "patch":0===this.prerelease.length&&this.patch++;this.prerelease=[];break;case "pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(wa=this.prerelease.length;0<=--wa;)"number"===typeof this.prerelease[wa]&&(this.prerelease[wa]++,wa=-2);-1===wa&&this.prerelease.push(0)}Xa&&(0===
$c(this.prerelease[0],Xa)?isNaN(this.prerelease[1])&&(this.prerelease=[Xa,0]):this.prerelease=[Xa,0]);break;default:throw Error("invalid increment argument: ".concat(wa));}this.format();this.raw=this.version;return this}}var nd=dd;const xd=nd;var Nd=(wa,Xa,zb)=>(new xd(wa,zb)).compare(new xd(Xa,zb)),Xd=(wa,Xa,zb,Xb)=>{switch(Xa){case "\x3d\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),"object"===typeof zb&&(zb=zb.version),wa===zb;case "!\x3d\x3d":return"object"===typeof wa&&(wa=wa.version),
"object"===typeof zb&&(zb=zb.version),wa!==zb;case "":case "\x3d":case "\x3d\x3d":return 0===Nd(wa,zb,Xb);case "!\x3d":return 0!==Nd(wa,zb,Xb);case "\x3e":return 0<Nd(wa,zb,Xb);case "\x3e\x3d":return 0<=Nd(wa,zb,Xb);case "\x3c":return 0>Nd(wa,zb,Xb);case "\x3c\x3d":return 0>=Nd(wa,zb,Xb);default:throw new TypeError("Invalid operator: ".concat(Xa));}},ge,le,qe,wd;const qf=R();var gf=(wa,Xa,zb)=>{try{Xa=new qf(Xa,zb)}catch(Xb){return!1}return Xa.test(wa)},te={NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,
LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},We={"*":(wa,Xa)=>wa*Xa,"+":(wa,Xa)=>wa+Xa,"-":(wa,Xa)=>wa-Xa,"/":(wa,Xa)=>wa/Xa,"%":(wa,Xa)=>wa%Xa,"\x3e":(wa,Xa)=>wa>Xa,"\x3c":(wa,Xa)=>wa<Xa,"\x3c\x3d":(wa,Xa)=>wa<=Xa,"\x3e\x3d":(wa,Xa)=>wa>=Xa,"\x3d\x3d":(wa,Xa)=>wa==Xa,"!\x3d":(wa,Xa)=>wa!=Xa,"\x3d\x3d\x3d":(wa,Xa)=>wa===Xa,"!\x3d\x3d":(wa,Xa)=>wa!==Xa,"\x26":(wa,Xa)=>wa&Xa,"|":(wa,Xa)=>wa|Xa,"^":(wa,Xa)=>
wa^Xa,"\x3c\x3c":(wa,Xa)=>wa<<Xa,"\x3e\x3e":(wa,Xa)=>wa>>Xa,"\x3e\x3e\x3e":(wa,Xa)=>wa>>>Xa},za={"+":wa=>+wa,"-":wa=>-wa,"~":wa=>~wa,"!":wa=>!wa};const Za=Array.prototype.slice,tb=(wa,Xa,zb)=>{zb=zb?zb(Xa[0]):Xa[0];return zb[wa].apply(zb,Za.call(Xa,1))};var Jb={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,
round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(wa,Xa,zb)=>Math.max(Xa,Math.min(zb,wa)),now:Date.now,utc:Date.UTC,datetime:(wa,Xa,zb,Xb,tc,gd,qc)=>new Date(wa,Xa||0,null!=zb?zb:1,Xb||0,tc||0,gd||0,qc||0),date:wa=>(new Date(wa)).getDate(),day:wa=>(new Date(wa)).getDay(),year:wa=>(new Date(wa)).getFullYear(),month:wa=>(new Date(wa)).getMonth(),hours:wa=>(new Date(wa)).getHours(),minutes:wa=>(new Date(wa)).getMinutes(),seconds:wa=>(new Date(wa)).getSeconds(),milliseconds:wa=>(new Date(wa)).getMilliseconds(),
time:wa=>(new Date(wa)).getTime(),timezoneoffset:wa=>(new Date(wa)).getTimezoneOffset(),utcdate:wa=>(new Date(wa)).getUTCDate(),utcday:wa=>(new Date(wa)).getUTCDay(),utcyear:wa=>(new Date(wa)).getUTCFullYear(),utcmonth:wa=>(new Date(wa)).getUTCMonth(),utchours:wa=>(new Date(wa)).getUTCHours(),utcminutes:wa=>(new Date(wa)).getUTCMinutes(),utcseconds:wa=>(new Date(wa)).getUTCSeconds(),utcmilliseconds:wa=>(new Date(wa)).getUTCMilliseconds(),length:wa=>wa.length,join:function(){return tb("join",arguments)},
indexof:function(){return tb("indexOf",arguments)},lastindexof:function(){return tb("lastIndexOf",arguments)},slice:function(){return tb("slice",arguments)},reverse:wa=>wa.slice().reverse(),parseFloat,parseInt,upper:wa=>String(wa).toUpperCase(),lower:wa=>String(wa).toLowerCase(),substring:function(){return tb("substring",arguments,String)},split:function(){return tb("split",arguments,String)},replace:function(){return tb("replace",arguments,String)},trim:wa=>String(wa).trim(),regexp:RegExp,test:(wa,
Xa)=>RegExp(wa).test(Xa)};const fc="view item group xy x y".split(" "),nc={Literal:(wa,Xa)=>Xa.value,Identifier:(wa,Xa)=>{Xa=Xa.name;return 0<wa.memberDepth?Xa:"datum"===Xa?wa.datum:"event"===Xa?wa.event:"item"===Xa?wa.item:te[Xa]||wa.params["$"+Xa]},MemberExpression:(wa,Xa)=>{const zb=!Xa.computed,Xb=wa(Xa.object);zb&&(wa.memberDepth+=1);Xa=wa(Xa.property);zb&&--wa.memberDepth;return Xb[Xa]},CallExpression:(wa,Xa)=>{const zb=Xa.arguments;Xa=Xa.callee.name;Xa.startsWith("_")&&(Xa=Xa.slice(1));return"if"===
Xa?wa(zb[0])?wa(zb[1]):wa(zb[2]):(wa.fn[Xa]||Jb[Xa]).apply(wa.fn,zb.map(wa))},ArrayExpression:(wa,Xa)=>Xa.elements.map(wa),BinaryExpression:(wa,Xa)=>We[Xa.operator](wa(Xa.left),wa(Xa.right)),UnaryExpression:(wa,Xa)=>za[Xa.operator](wa(Xa.argument)),ConditionalExpression:(wa,Xa)=>wa(Xa.test)?wa(Xa.consequent):wa(Xa.alternate),LogicalExpression:(wa,Xa)=>"\x26\x26"===Xa.operator?wa(Xa.left)&&wa(Xa.right):wa(Xa.left)||wa(Xa.right),ObjectExpression:(wa,Xa)=>Xa.properties.reduce((zb,Xb)=>{wa.memberDepth+=
1;const tc=wa(Xb.key);--wa.memberDepth;zb[tc]=wa(Xb.value);return zb},{})};var Hc={operator(wa,Xa){const zb=Xa.ast,Xb=wa.functions;return tc=>S(zb,Xb,tc)},parameter(wa,Xa){const zb=Xa.ast,Xb=wa.functions;return(tc,gd)=>S(zb,Xb,gd,tc)},event(wa,Xa){const zb=Xa.ast,Xb=wa.functions;return tc=>S(zb,Xb,void 0,void 0,tc)},handler(wa,Xa){const zb=Xa.ast,Xb=wa.functions;return(tc,gd)=>S(zb,Xb,tc,gd.item&&gd.item.datum,gd)},encode(wa,Xa){const {marktype:zb,channels:Xb}=Xa,tc=wa.functions,gd="group"===zb||
"image"===zb||"rect"===zb;return(qc,rb)=>{const Bb=qc.datum;let ic=0,Uc;for(const Rd in Xb)Uc=S(Xb[Rd].ast,tc,rb,Bb,void 0,qc),qc[Rd]!==Uc&&(qc[Rd]=Uc,ic=1);"rule"!==zb&&(Xb.x2&&(Xb.x?(gd&&qc.x>qc.x2&&(rb=qc.x,qc.x=qc.x2,qc.x2=rb),qc.width=qc.x2-qc.x):qc.x=qc.x2-(qc.width||0)),Xb.xc&&(qc.x=qc.xc-(qc.width||0)/2),Xb.y2&&(Xb.y?(gd&&qc.y>qc.y2&&(rb=qc.y,qc.y=qc.y2,qc.y2=rb),qc.height=qc.y2-qc.y):qc.y=qc.y2-(qc.height||0)),Xb.yc&&(qc.y=qc.yc-(qc.height||0)/2));return ic}}};const Dc={"category-6":"#ec8431 #829eb1 #c89d29 #3580b1 #adc839 #ab7fb4".split(" "),
"fire-7":"#fbf2c7 #f9e39c #f8d36e #f4bb6a #e68a4f #d15a40 #ab4232".split(" "),"fireandice-6":"#e68a4f #f4bb6a #f9e39c #dadfe2 #a6b7c6 #849eae".split(" "),"ice-7":"#edefee #dadfe2 #c4ccd2 #a6b7c6 #849eae #607785 #47525d".split(" ")},lc={"main-colors":"#1696d2 #d2d2d2 #000000 #fdbf11 #ec008b #55b748 #5c5859 #db2b27".split(" "),"shades-blue":"#CFE8F3 #A2D4EC #73BFE2 #46ABDB #1696D2 #12719E #0A4C6A #062635".split(" "),"shades-gray":"#F5F5F5 #ECECEC #E3E3E3 #DCDBDB #D2D2D2 #9D9D9D #696969 #353535".split(" "),
"shades-yellow":"#FFF2CF #FCE39E #FDD870 #FCCB41 #FDBF11 #E88E2D #CA5800 #843215".split(" "),"shades-magenta":"#F5CBDF #EB99C2 #E46AA7 #E54096 #EC008B #AF1F6B #761548 #351123".split(" "),"shades-green":"#DCEDD9 #BCDEB4 #98CF90 #78C26D #55B748 #408941 #2C5C2D #1A2E19".split(" "),"shades-black":"#D5D5D4 #ADABAC #848081 #5C5859 #332D2F #262223 #1A1717 #0E0C0D".split(" "),"shades-red":"#F8D5D4 #F1AAA9 #E9807D #E25552 #DB2B27 #A4201D #6E1614 #370B0A".split(" "),"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2",
"#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2",
"#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":"#1696d2 #ec008b #fdbf11 #000000 #d2d2d2 #55b748".split(" "),"six-groups-cat-2":"#1696d2 #d2d2d2 #ec008b #fdbf11 #332d2f #0a4c6a".split(" "),"six-groups-seq":"#cfe8f3 #a2d4ec #73bfe2 #46abdb #1696d2 #12719e".split(" "),"diverging-colors":"#ca5800 #fdbf11 #fdd870 #fff2cf #cfe8f3 #73bfe2 #1696d2 #0a4c6a".split(" ")};var ld=Object.freeze({__proto__:null,dark:{background:"#333",
title:{color:"#fff",subtitleColor:"#fff"},style:{"guide-label":{fill:"#fff"},"guide-title":{fill:"#fff"}},axis:{domainColor:"#fff",gridColor:"#888",tickColor:"#fff"}},excel:{background:"#fff",arc:{fill:"#4572a7"},area:{fill:"#4572a7"},line:{stroke:"#4572a7",strokeWidth:2},path:{stroke:"#4572a7"},rect:{fill:"#4572a7"},shape:{stroke:"#4572a7"},symbol:{fill:"#4572a7",strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},
axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:"#4572a7 #aa4643 #8aa453 #71598e #4598ae #d98445 #94aace #d09393 #b9cc98 #a99cbc".split(" ")}},fivethirtyeight:{arc:{fill:"#30a2da"},area:{fill:"#30a2da"},axis:{domainColor:"#cbcbcb",grid:!0,gridColor:"#cbcbcb",gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:"#cbcbcb",tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},
background:"#f0f0f0",group:{fill:"#f0f0f0"},legend:{labelColor:"#333",labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:"#333",titleFontSize:14,titlePadding:10},line:{stroke:"#30a2da",strokeWidth:2},path:{stroke:"#30a2da",strokeWidth:.5},rect:{fill:"#30a2da"},range:{category:"#30a2da #fc4f30 #e5ae38 #6d904f #8b8b8b #b96db8 #ff9e27 #56cc60 #52d2ca #52689e #545454 #9fe4f8".split(" "),diverging:"#cc0020 #e77866 #f6e7e1 #d6e8ed #91bfd9 #1d78b5".split(" "),heatmap:["#d6e8ed","#cee0e5",
"#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:"#30a2da"},bar:{binSpacing:2,fill:"#30a2da",stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},ggplot2:{group:{fill:"#e5e5e5"},arc:{fill:"#000"},area:{fill:"#000"},line:{stroke:"#000"},path:{stroke:"#000"},rect:{fill:"#000"},shape:{stroke:"#000"},symbol:{fill:"#000",size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,
titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:"#000000 #7F7F7F #1A1A1A #999999 #333333 #B0B0B0 #4D4D4D #C9C9C9 #666666 #DCDCDC".split(" ")}},googlecharts:{arc:{fill:"#3366CC"},area:{fill:"#3366CC"},path:{stroke:"#3366CC"},rect:{fill:"#3366CC"},shape:{stroke:"#3366CC"},symbol:{stroke:"#3366CC"},circle:{fill:"#3366CC"},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:"Arial, sans-serif",
fontSize:12},"guide-title":{font:"Arial, sans-serif",fontSize:12},"group-title":{font:"Arial, sans-serif",fontSize:12}},title:{font:"Arial, sans-serif",fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:"#ccc",tickColor:"#ccc",domain:!1,grid:!0},range:{category:"#4285F4 #DB4437 #F4B400 #0F9D58 #AB47BC #00ACC1 #FF7043 #9E9D24 #5C6BC0 #F06292 #00796B #C2185B".split(" "),heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},latimes:{background:"#ffffff",title:{anchor:"start",color:"#000000",font:"Benton Gothic Bold, sans-serif",
fontSize:22,fontWeight:"normal"},arc:{fill:"#82c6df"},area:{fill:"#82c6df"},line:{stroke:"#82c6df",strokeWidth:2},path:{stroke:"#82c6df"},rect:{fill:"#82c6df"},shape:{stroke:"#82c6df"},symbol:{fill:"#82c6df",size:30},axis:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,labelFontWeight:"normal",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,
titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:"Benton Gothic, sans-serif",labelFontSize:11.5,symbolType:"square",titleFont:"Benton Gothic Bold, sans-serif",titleFontSize:13,titleFontWeight:"normal"},range:{category:Dc["category-6"],diverging:Dc["fireandice-6"],heatmap:Dc["fire-7"],ordinal:Dc["fire-7"],ramp:Dc["fire-7"]}},quartz:{background:"#f9f9f9",arc:{fill:"#ab5787"},area:{fill:"#ab5787"},line:{stroke:"#ab5787"},path:{stroke:"#ab5787"},rect:{fill:"#ab5787"},shape:{stroke:"#ab5787"},
symbol:{fill:"#ab5787",size:30},axis:{domainColor:"#979797",domainWidth:.5,gridWidth:.2,labelColor:"#979797",tickColor:"#979797",tickWidth:.2,titleColor:"#979797"},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:"#ab5787 #51b2e5 #703c5c #168dd9 #d190b6 #00609f #d365ba #154866 #666666 #c4c4c4".split(" ")}},urbaninstitute:{background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:"Lato"},
axisX:{domain:!0,domainColor:"#000000",domainWidth:1,grid:!1,labelFontSize:12,labelFont:"Lato",labelAngle:0,tickColor:"#000000",tickSize:5,titleFontSize:12,titlePadding:10,titleFont:"Lato"},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:"Lato",labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:"Lato",titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:"Lato",symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:"Lato",
orient:"right",offset:10},view:{stroke:"transparent"},range:{category:lc["six-groups-cat-1"],diverging:lc["diverging-colors"],heatmap:lc["diverging-colors"],ordinal:lc["six-groups-seq"],ramp:lc["shades-blue"]},area:{fill:"#1696d2"},rect:{fill:"#1696d2"},line:{color:"#1696d2",stroke:"#1696d2",strokeWidth:5},trail:{color:"#1696d2",stroke:"#1696d2",strokeWidth:0,size:1},path:{stroke:"#1696d2",strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:"#1696d2",fontSize:11,align:"center",fontWeight:400,
size:11},style:{bar:{fill:"#1696d2",stroke:null}},arc:{fill:"#1696d2"},shape:{stroke:"#1696d2"},symbol:{fill:"#1696d2",size:30}},version:"2.10.0",vox:{background:"#fff",arc:{fill:"#3e5c69"},area:{fill:"#3e5c69"},line:{stroke:"#3e5c69"},path:{stroke:"#3e5c69"},rect:{fill:"#3e5c69"},shape:{stroke:"#3e5c69"},symbol:{fill:"#3e5c69"},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,
padding:1,symbolType:"square"},range:{category:"#3e5c69 #6793a6 #182429 #0570b0 #3690c0 #74a9cf #a6bddb #e2ddf2".split(" ")}}});const rd=wa=>function(Xa){return Xa[wa]},Hd=wa=>{const Xa=wa.length;return function(zb){for(let Xb=0;Xb<Xa;++Xb)zb=zb[wa[Xb]];return zb}};(function(wa,Xa,zb){const Xb=Y(wa);wa=1===Xb.length?Xb[0]:wa;return M((zb&&zb.get||aa)(Xb),[wa],Xa||wa)})("id");M(wa=>wa,[],"identity");M(()=>0,[],"zero");M(()=>1,[],"one");M(()=>!0,[],"true");M(()=>!1,[],"false");var Vd=Array.isArray;
const ce={offsetX:10,offsetY:10,id:"vg-tooltip-element",styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(wa){return String(wa).replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;")},maxDepth:2,formatTooltip:function(wa,Xa,zb){if(Vd(wa))return"[".concat(wa.map(tc=>Xa("string"===typeof tc?tc:JSON.stringify(tc,Ga(zb)))).join(", "),"]");if(wa===Object(wa)){let tc="";const {title:gd,image:qc}=wa;wa=ea(wa,["title","image"]);gd&&(tc+="\x3ch2\x3e".concat(Xa(gd),"\x3c/h2\x3e"));
qc&&(tc+='\x3cimg src\x3d"'.concat(Xa(qc),'"\x3e'));var Xb=Object.keys(wa);if(0<Xb.length){tc+="\x3ctable\x3e";for(const rb of Xb)Xb=wa[rb],void 0!==Xb&&(Xb===Object(Xb)&&(Xb=JSON.stringify(Xb,Ga(zb))),tc+='\x3ctr\x3e\x3ctd class\x3d"key"\x3e'.concat(Xa(rb),':\x3c/td\x3e\x3ctd class\x3d"value"\x3e').concat(Xa(Xb),"\x3c/td\x3e\x3c/tr\x3e"));tc+="\x3c/table\x3e"}return tc||"{}"}return Xa(wa)}};class he{constructor(wa){this.options=Object.assign(Object.assign({},ce),wa);var Xa=this.options.id;this.el=
null;this.call=this.tooltipHandler.bind(this);if(!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){wa=document.createElement("style");wa.setAttribute("id",this.options.styleId);if(!/^[A-Za-z]+[-:.\w]*$/.test(Xa))throw Error("Invalid HTML ID");Xa="#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace("vg-tooltip-element",
Xa);wa.innerHTML=Xa;Xa=document.head;0<Xa.childNodes.length?Xa.insertBefore(wa,Xa.childNodes[0]):Xa.appendChild(wa)}}tooltipHandler(wa,Xa,zb,Xb){var tc;this.el=document.getElementById(this.options.id);this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(tc=document.fullscreenElement)&&void 0!==tc?tc:document.body).appendChild(this.el));if(null==Xb||""===Xb)this.el.classList.remove("visible","".concat(this.options.theme,
"-theme"));else{this.el.innerHTML=this.options.formatTooltip(Xb,this.options.sanitize,this.options.maxDepth);this.el.classList.add("visible","".concat(this.options.theme,"-theme"));wa=this.el.getBoundingClientRect();tc=this.options.offsetX;zb=this.options.offsetY;Xb=Xa.clientX+tc;Xb+wa.width>window.innerWidth&&(Xb=+Xa.clientX-tc-wa.width);tc=Xa.clientY+zb;tc+wa.height>window.innerHeight&&(tc=+Xa.clientY-zb-wa.height);var {x:gd,y:qc}={x:Xb,y:tc};this.el.setAttribute("style","top: ".concat(qc,"px; left: ").concat(gd,
"px"))}}}String.prototype.startsWith||(String.prototype.startsWith=function(wa,Xa){return this.substr(!Xa||0>Xa?0:+Xa,wa.length)===wa});var Ce;const re=ib;let vf=Ma;const Ge="undefined"!==typeof window?window:void 0;void 0===vf&&null!==Ge&&void 0!==Ge&&null!==(Ce=Ge.vl)&&void 0!==Ce&&Ce.compile&&(vf=Ge.vl);const Re={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},af={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",
SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},Qb={vega:"Vega","vega-lite":"Vega-Lite"},rc={vega:re.version,"vega-lite":vf?vf.version:"not available"},bd={vega:wa=>wa,"vega-lite":(wa,Xa)=>vf.compile(wa,{config:Xa}).spec},Ad=function(){var wa;if(wa=1<arguments.length){if(wa=k.isString(0>=arguments.length?void 0:arguments[0]))wa=0>=arguments.length?void 0:arguments[0],wa=!(wa.startsWith("http://")||wa.startsWith("https://")||wa.startsWith("//"));wa=wa||(0>=arguments.length?void 0:arguments[0])instanceof
HTMLElement||3===arguments.length}return wa?Aa(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1],2>=arguments.length?void 0:arguments[2]):bb(0>=arguments.length?void 0:arguments[0],1>=arguments.length?void 0:arguments[1])};Ad.vegaLite=vf;Ad.vl=vf;Ad.container=bb;Ad.embed=Aa;Ad.vega=re;Ad.default=Aa;Ad.version="6.21.0";return Ad})};
shadow$provide[51]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):(w=w||self,w.CodeMirror=k())})(this,function(){function w(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function k(a){for(var u=a.childNodes.length;0<u;--u)a.removeChild(a.firstChild);return a}function p(a,u){return k(a).appendChild(u)}function q(a,u,T,Q){a=document.createElement(a);T&&(a.className=T);Q&&(a.style.cssText=Q);if("string"==
typeof u)a.appendChild(document.createTextNode(u));else if(u)for(T=0;T<u.length;++T)a.appendChild(u[T]);return a}function t(a,u,T,Q){a=q(a,u,T,Q);a.setAttribute("role","presentation");return a}function n(a,u){3==u.nodeType&&(u=u.parentNode);if(a.contains)return a.contains(u);do if(11==u.nodeType&&(u=u.host),u==a)return!0;while(u=u.parentNode)}function f(a){try{var u=a.activeElement}catch(T){u=a.body||null}for(;u&&u.shadowRoot&&u.shadowRoot.activeElement;)u=u.shadowRoot.activeElement;return u}function b(a,
u){var T=a.className;w(u).test(T)||(a.className+=(T?" ":"")+u)}function c(a,u){a=a.split(" ");for(var T=0;T<a.length;T++)a[T]&&!w(a[T]).test(u)&&(u+=" "+a[T]);return u}function e(a){return a.display.wrapper.ownerDocument}function g(a){var u=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,u)}}function m(a,u,T){u||(u={});for(var Q in a)!a.hasOwnProperty(Q)||!1===T&&u.hasOwnProperty(Q)||(u[Q]=a[Q]);return u}function h(a,u,T,Q,ba){null==u&&(u=a.search(/[^\s\u00a0]/),-1==
u&&(u=a.length));Q=Q||0;for(ba=ba||0;;){var Ha=a.indexOf("\t",Q);if(0>Ha||Ha>=u)return ba+(u-Q);ba+=Ha-Q;ba+=T-ba%T;Q=Ha+1}}function x(a,u){for(var T=0;T<a.length;++T)if(a[T]==u)return T;return-1}function O(a,u,T){for(var Q=0,ba=0;;){var Ha=a.indexOf("\t",Q);-1==Ha&&(Ha=a.length);var Va=Ha-Q;if(Ha==a.length||ba+Va>=u)return Q+Math.min(Va,u-ba);ba+=Ha-Q;ba+=T-ba%T;Q=Ha+1;if(ba>=u)return Q}}function G(a){for(;xf.length<=a;)xf.push(I(xf)+" ");return xf[a]}function I(a){return a[a.length-1]}function F(a,
u){for(var T=[],Q=0;Q<a.length;Q++)T[Q]=u(a[Q],Q);return T}function C(a,u,T){for(var Q=0,ba=T(u);Q<a.length&&T(a[Q])<=ba;)Q++;a.splice(Q,0,u)}function r(){}function y(a,u){Object.create?a=Object.create(a):(r.prototype=a,a=new r);u&&m(u,a);return a}function K(a){return/\w/.test(a)||""<a&&(a.toUpperCase()!=a.toLowerCase()||Me.test(a))}function R(a,u){return u?-1<u.source.indexOf("\\w")&&K(a)?!0:u.test(a):K(a)}function S(a){for(var u in a)if(a.hasOwnProperty(u)&&a[u])return!1;return!0}function ca(a){return 768<=
a.charCodeAt(0)&&$f.test(a)}function M(a,u,T){for(;(0>T?0<u:u<a.length)&&ca(a.charAt(u));)u+=T;return u}function aa(a,u,T){for(var Q=u>T?-1:1;;){if(u==T)return u;var ba=(u+T)/2;ba=0>Q?Math.ceil(ba):Math.floor(ba);if(ba==u)return a(ba)?u:T;a(ba)?T=ba:u=ba+Q}}function Y(a,u,T,Q){if(!a)return Q(u,T,"ltr",0);for(var ba=!1,Ha=0;Ha<a.length;++Ha){var Va=a[Ha];if(Va.from<T&&Va.to>u||u==T&&Va.to==u)Q(Math.max(Va.from,u),Math.min(Va.to,T),1==Va.level?"rtl":"ltr",Ha),ba=!0}ba||Q(u,T,"ltr")}function ea(a,u,
T){var Q;Dg=null;for(var ba=0;ba<a.length;++ba){var Ha=a[ba];if(Ha.from<u&&Ha.to>u)return ba;Ha.to==u&&(Ha.from!=Ha.to&&"before"==T?Q=ba:Dg=ba);Ha.from==u&&(Ha.from!=Ha.to&&"before"!=T?Q=ba:Dg=ba)}return null!=Q?Q:Dg}function Ga(a,u){var T=a.order;null==T&&(T=a.order=fh(a.text,u));return T}function X(a,u,T){if(a.removeEventListener)a.removeEventListener(u,T,!1);else if(a.detachEvent)a.detachEvent("on"+u,T);else{var Q=(a=a._handlers)&&a[u];Q&&(T=x(Q,T),-1<T&&(a[u]=Q.slice(0,T).concat(Q.slice(T+1))))}}
function D(a,u){var T=a._handlers&&a._handlers[u]||mh;if(T.length)for(var Q=Array.prototype.slice.call(arguments,2),ba=0;ba<T.length;++ba)T[ba].apply(null,Q)}function B(a,u,T){"string"==typeof u&&(u={type:u,preventDefault:function(){this.defaultPrevented=!0}});D(a,T||u.type,a,u);return Ja(u)||u.codemirrorIgnore}function N(a){var u=a._handlers&&a._handlers.cursorActivity;if(u){a=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]);for(var T=0;T<u.length;++T)-1==x(a,u[T])&&a.push(u[T])}}
function Z(a,u){return 0<(a._handlers&&a._handlers[u]||mh).length}function Aa(a){a.prototype.on=function(u,T){$e(this,u,T)};a.prototype.off=function(u,T){X(this,u,T)}}function qa(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function la(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Ja(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function bb(a){qa(a);la(a)}function ib(a){var u=a.which;null==u&&(a.button&1?u=1:a.button&2?u=3:a.button&4&&(u=2));
ia&&a.ctrlKey&&1==u&&(u=3);return u}function Ma(a,u){2<arguments.length&&(u.dependencies=Array.prototype.slice.call(arguments,2));ye[a]=u}function ma(a){if("string"==typeof a&&lg.hasOwnProperty(a))a=lg[a];else if(a&&"string"==typeof a.name&&lg.hasOwnProperty(a.name)){var u=lg[a.name];"string"==typeof u&&(u={name:u});a=y(u,a);a.name=u.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return ma("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return ma("application/json")}return"string"==
typeof a?{name:a}:a||{name:"null"}}function Fa(a,u){u=ma(u);var T=ye[u.name];if(!T)return Fa(a,"text/plain");a=T(a,u);if(Eg.hasOwnProperty(u.name)){T=Eg[u.name];for(var Q in T)T.hasOwnProperty(Q)&&(a.hasOwnProperty(Q)&&(a["_"+Q]=a[Q]),a[Q]=T[Q])}a.name=u.name;u.helperType&&(a.helperType=u.helperType);if(u.modeProps)for(var ba in u.modeProps)a[ba]=u.modeProps[ba];return a}function Ra(a,u){a=Eg.hasOwnProperty(a)?Eg[a]:Eg[a]={};m(u,a)}function ra(a,u){if(!0===u)return u;if(a.copyState)return a.copyState(u);
a={};for(var T in u){var Q=u[T];Q instanceof Array&&(Q=Q.concat([]));a[T]=Q}return a}function ya(a,u){for(var T;a.innerMode;){T=a.innerMode(u);if(!T||T.mode==a)break;u=T.state;a=T.mode}return T||{mode:a,state:u}}function oa(a,u,T){return a.startState?a.startState(u,T):!0}function xa(a,u){u-=a.first;if(0>u||u>=a.size)throw Error("There is no line "+(u+a.first)+" in the document.");for(;!a.lines;)for(var T=0;;++T){var Q=a.children[T],ba=Q.chunkSize();if(u<ba){a=Q;break}u-=ba}return a.lines[u]}function Ua(a,
u,T){var Q=[],ba=u.line;a.iter(u.line,T.line+1,function(Ha){Ha=Ha.text;ba==T.line&&(Ha=Ha.slice(0,T.ch));ba==u.line&&(Ha=Ha.slice(u.ch));Q.push(Ha);++ba});return Q}function fb(a,u,T){var Q=[];a.iter(u,T,function(ba){Q.push(ba.text)});return Q}function sa(a,u){if(u-=a.height)for(;a;a=a.parent)a.height+=u}function Oa(a){if(null==a.parent)return null;var u=a.parent;a=x(u.lines,a);for(var T=u.parent;T;u=T,T=T.parent)for(var Q=0;T.children[Q]!=u;++Q)a+=T.children[Q].chunkSize();return a+u.first}function ja(a,
u){var T=a.first;a:do{for(var Q=0;Q<a.children.length;++Q){var ba=a.children[Q],Ha=ba.height;if(u<Ha){a=ba;continue a}u-=Ha;T+=ba.chunkSize()}return T}while(!a.lines);for(Q=0;Q<a.lines.length;++Q){ba=a.lines[Q].height;if(u<ba)break;u-=ba}return T+Q}function U(a,u){return u>=a.first&&u<a.first+a.size}function ka(a,u){return String(a.lineNumberFormatter(u+a.firstLineNumber))}function ua(a,u,T){void 0===T&&(T=null);if(!(this instanceof ua))return new ua(a,u,T);this.line=a;this.ch=u;this.sticky=T}function Ta(a,
u){return a.line-u.line||a.ch-u.ch}function eb(a,u){return a.sticky==u.sticky&&0==Ta(a,u)}function lb(a){return ua(a.line,a.ch)}function nb(a,u){return 0>Ta(a,u)?u:a}function Mb(a,u){return 0>Ta(a,u)?a:u}function $b(a,u){if(u.line<a.first)return ua(a.first,0);var T=a.first+a.size-1;if(u.line>T)return ua(T,xa(a,T).text.length);a=xa(a,u.line).text.length;T=u.ch;u=null==T||T>a?ua(u.line,a):0>T?ua(u.line,0):u;return u}function Gc(a,u){for(var T=[],Q=0;Q<u.length;Q++)T[Q]=$b(a,u[Q]);return T}function zc(a,
u,T,Q){var ba=[a.state.modeGen],Ha={};mc(a,u.text,a.doc.mode,T,function(wb,Rb){return ba.push(wb,Rb)},Ha,Q);var Va=T.state;Q=function(wb){T.baseTokens=ba;var Rb=a.state.overlays[wb],ec=1,Mc=0;T.state=!0;mc(a,u.text,Rb.mode,T,function(Wc,ad){for(var Wd=ec;Mc<Wc;){var Ee=ba[ec];Ee>Wc&&ba.splice(ec,1,Wc,ba[ec+1],Ee);ec+=2;Mc=Math.min(Wc,Ee)}if(ad)if(Rb.opaque)ba.splice(Wd,ec-Wd,Wc,"overlay "+ad),ec=Wd+2;else for(;Wd<ec;Wd+=2)Wc=ba[Wd+1],ba[Wd+1]=(Wc?Wc+" ":"")+"overlay "+ad},Ha);T.state=Va;T.baseTokens=
null;T.baseTokenPos=1};for(var Ya=0;Ya<a.state.overlays.length;++Ya)Q(Ya);return{styles:ba,classes:Ha.bgClass||Ha.textClass?Ha:null}}function Bc(a,u,T){if(!u.styles||u.styles[0]!=a.state.modeGen){var Q=uc(a,Oa(u)),ba=u.text.length>a.options.maxHighlightLength&&ra(a.doc.mode,Q.state),Ha=zc(a,u,Q);ba&&(Q.state=ba);u.stateAfter=Q.save(!ba);u.styles=Ha.styles;Ha.classes?u.styleClasses=Ha.classes:u.styleClasses&&(u.styleClasses=null);T===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,
++a.doc.highlightFrontier))}return u.styles}function uc(a,u,T){var Q=a.doc,ba=a.display;if(!Q.mode.startState)return new yh(Q,!0,u);var Ha=Kc(a,u,T),Va=Ha>Q.first&&xa(Q,Ha-1).stateAfter,Ya=Va?yh.fromSaved(Q,Va,Ha):new yh(Q,oa(Q.mode),Ha);Q.iter(Ha,u,function(wb){id(a,wb.text,Ya);var Rb=Ya.line;wb.stateAfter=Rb==u-1||0==Rb%5||Rb>=ba.viewFrom&&Rb<ba.viewTo?Ya.save():null;Ya.nextLine()});T&&(Q.modeFrontier=Ya.line);return Ya}function id(a,u,T,Q){var ba=a.doc.mode;a=new yf(u,a.options.tabSize,T);a.start=
a.pos=Q||0;for(""==u&&Hb(ba,T.state);!a.eol();)Ab(ba,a,T.state),a.start=a.pos}function Hb(a,u){if(a.blankLine)return a.blankLine(u);if(a.innerMode&&(a=ya(a,u),a.mode.blankLine))return a.mode.blankLine(a.state)}function Ab(a,u,T,Q){for(var ba=0;10>ba;ba++){Q&&(Q[0]=ya(a,T).mode);var Ha=a.token(u,T);if(u.pos>u.start)return Ha}throw Error("Mode "+a.name+" failed to advance stream.");}function dc(a,u,T,Q){var ba=a.doc,Ha=ba.mode;u=$b(ba,u);var Va=xa(ba,u.line);T=uc(a,u.line,T);a=new yf(Va.text,a.options.tabSize,
T);var Ya;for(Q&&(Ya=[]);(Q||a.pos<u.ch)&&!a.eol();){a.start=a.pos;var wb=Ab(Ha,a,T.state);Q&&Ya.push(new oi(a,wb,ra(ba.mode,T.state)))}return Q?Ya:new oi(a,wb,T.state)}function Wb(a,u){if(a)for(;;){var T=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!T)break;a=a.slice(0,T.index)+a.slice(T.index+T[0].length);var Q=T[1]?"bgClass":"textClass";null==u[Q]?u[Q]=T[2]:(new RegExp("(?:^|\\s)"+T[2]+"(?:$|\\s)")).test(u[Q])||(u[Q]+=" "+T[2])}return a}function mc(a,u,T,Q,ba,Ha,Va){var Ya=T.flattenSpans;null==
Ya&&(Ya=a.options.flattenSpans);var wb=0,Rb=null,ec=new yf(u,a.options.tabSize,Q),Mc=a.options.addModeClass&&[null];for(""==u&&Wb(Hb(T,Q.state),Ha);!ec.eol();){if(ec.pos>a.options.maxHighlightLength){Ya=!1;Va&&id(a,u,Q,ec.pos);ec.pos=u.length;var Wc=null}else Wc=Wb(Ab(T,ec,Q.state,Mc),Ha);if(Mc){var ad=Mc[0].name;ad&&(Wc="m-"+(Wc?ad+" "+Wc:ad))}if(!Ya||Rb!=Wc){for(;wb<ec.start;)wb=Math.min(ec.start,wb+5E3),ba(wb,Rb);Rb=Wc}ec.start=ec.pos}for(;wb<ec.pos;)a=Math.min(ec.pos,wb+5E3),ba(a,Rb),wb=a}function Kc(a,
u,T){for(var Q,ba,Ha=a.doc,Va=T?-1:u-(a.doc.mode.innerMode?1E3:100);u>Va;--u){if(u<=Ha.first)return Ha.first;var Ya=xa(Ha,u-1),wb=Ya.stateAfter;if(wb&&(!T||u+(wb instanceof nh?wb.lookAhead:0)<=Ha.modeFrontier))return u;Ya=h(Ya.text,null,a.options.tabSize);if(null==ba||Q>Ya)ba=u-1,Q=Ya}return ba}function Fc(a,u){a.modeFrontier=Math.min(a.modeFrontier,u);if(!(a.highlightFrontier<u-10)){for(var T=a.first,Q=u-1;Q>T;Q--){var ba=xa(a,Q).stateAfter;if(ba&&(!(ba instanceof nh)||Q+ba.lookAhead<u)){T=Q+1;break}}a.highlightFrontier=
Math.min(a.highlightFrontier,T)}}function Sc(a,u,T){this.marker=a;this.from=u;this.to=T}function jd(a,u){if(a)for(var T=0;T<a.length;++T){var Q=a[T];if(Q.marker==u)return Q}}function $d(a,u){if(u.full)return null;var T=U(a,u.from.line)&&xa(a,u.from.line).markedSpans,Q=U(a,u.to.line)&&xa(a,u.to.line).markedSpans;if(!T&&!Q)return null;a=u.from.ch;var ba=u.to.ch,Ha=0==Ta(u.from,u.to),Va;if(T)for(var Ya=0;Ya<T.length;++Ya){var wb=T[Ya],Rb=wb.marker;if(null==wb.from||(Rb.inclusiveLeft?wb.from<=a:wb.from<
a)||!(wb.from!=a||"bookmark"!=Rb.type||Ha&&wb.marker.insertLeft)){var ec=null==wb.to||(Rb.inclusiveRight?wb.to>=a:wb.to>a);(Va||(Va=[])).push(new Sc(Rb,wb.from,ec?null:wb.to))}}T=Va;var Mc;if(Q)for(Va=0;Va<Q.length;++Va)if(Ya=Q[Va],wb=Ya.marker,null==Ya.to||(wb.inclusiveRight?Ya.to>=ba:Ya.to>ba)||Ya.from==ba&&"bookmark"==wb.type&&(!Ha||Ya.marker.insertLeft))Rb=null==Ya.from||(wb.inclusiveLeft?Ya.from<=ba:Ya.from<ba),(Mc||(Mc=[])).push(new Sc(wb,Rb?null:Ya.from-ba,null==Ya.to?null:Ya.to-ba));Q=1==
u.text.length;ba=I(u.text).length+(Q?a:0);if(T)for(Ha=0;Ha<T.length;++Ha)if(Va=T[Ha],null==Va.to)(Ya=jd(Mc,Va.marker),Ya)?Q&&(Va.to=null==Ya.to?null:Ya.to+ba):Va.to=a;if(Mc)for(a=0;a<Mc.length;++a)Ha=Mc[a],null!=Ha.to&&(Ha.to+=ba),null==Ha.from?jd(T,Ha.marker)||(Ha.from=ba,Q&&(T||(T=[])).push(Ha)):(Ha.from+=ba,Q&&(T||(T=[])).push(Ha));T&&(T=Ba(T));Mc&&Mc!=T&&(Mc=Ba(Mc));a=[T];if(!Q){u=u.text.length-2;var Wc;if(0<u&&T)for(Q=0;Q<T.length;++Q)null==T[Q].to&&(Wc||(Wc=[])).push(new Sc(T[Q].marker,null,
null));for(T=0;T<u;++T)a.push(Wc);a.push(Mc)}return a}function Ba(a){for(var u=0;u<a.length;++u){var T=a[u];null!=T.from&&T.from==T.to&&!1!==T.marker.clearWhenEmpty&&a.splice(u--,1)}return a.length?a:null}function va(a,u,T){var Q=null;a.iter(u.line,T.line+1,function(ec){if(ec.markedSpans)for(var Mc=0;Mc<ec.markedSpans.length;++Mc){var Wc=ec.markedSpans[Mc].marker;!Wc.readOnly||Q&&-1!=x(Q,Wc)||(Q||(Q=[])).push(Wc)}});if(!Q)return null;a=[{from:u,to:T}];for(u=0;u<Q.length;++u){T=Q[u];for(var ba=T.find(0),
Ha=0;Ha<a.length;++Ha){var Va=a[Ha];if(!(0>Ta(Va.to,ba.from)||0<Ta(Va.from,ba.to))){var Ya=[Ha,1],wb=Ta(Va.from,ba.from),Rb=Ta(Va.to,ba.to);(0>wb||!T.inclusiveLeft&&!wb)&&Ya.push({from:Va.from,to:ba.from});(0<Rb||!T.inclusiveRight&&!Rb)&&Ya.push({from:ba.to,to:Va.to});a.splice.apply(a,Ya);Ha+=Ya.length-3}}}return a}function Ca(a){var u=a.markedSpans;if(u){for(var T=0;T<u.length;++T)u[T].marker.detachLine(a);a.markedSpans=null}}function $a(a,u){if(u){for(var T=0;T<u.length;++T)u[T].marker.attachLine(a);
a.markedSpans=u}}function jb(a,u){var T=a.lines.length-u.lines.length;if(0!=T)return T;T=a.find();var Q=u.find(),ba=Ta(T.from,Q.from)||(a.inclusiveLeft?-1:0)-(u.inclusiveLeft?-1:0);return ba?-ba:(T=Ta(T.to,Q.to)||(a.inclusiveRight?1:0)-(u.inclusiveRight?1:0))?T:u.id-a.id}function yb(a,u){a=zi&&a.markedSpans;if(a)for(var T,Q=0;Q<a.length;++Q)if(T=a[Q],T.marker.collapsed&&null==(u?T.from:T.to)&&(!ba||0>jb(ba,T.marker)))var ba=T.marker;return ba}function Ub(a,u,T,Q,ba){a=xa(a,u);if(a=zi&&a.markedSpans)for(u=
0;u<a.length;++u){var Ha=a[u];if(Ha.marker.collapsed){var Va=Ha.marker.find(0),Ya=Ta(Va.from,T)||(Ha.marker.inclusiveLeft?-1:0)-(ba.inclusiveLeft?-1:0),wb=Ta(Va.to,Q)||(Ha.marker.inclusiveRight?1:0)-(ba.inclusiveRight?1:0);if(!(0<=Ya&&0>=wb||0>=Ya&&0<=wb)&&(0>=Ya&&(Ha.marker.inclusiveRight&&ba.inclusiveLeft?0<=Ta(Va.to,T):0<Ta(Va.to,T))||0<=Ya&&(Ha.marker.inclusiveRight&&ba.inclusiveLeft?0>=Ta(Va.from,Q):0>Ta(Va.from,Q))))return!0}}}function Tb(a){for(var u;u=yb(a,!0);)a=u.find(-1,!0).line;return a}
function Vb(a,u){a=xa(a,u);var T=Tb(a);return a==T?u:Oa(T)}function Ic(a,u){if(u>a.lastLine())return u;var T=xa(a,u);if(!$c(a,T))return u;for(;a=yb(T,!1);)T=a.find(1,!0).line;return Oa(T)+1}function $c(a,u){var T=zi&&u.markedSpans;if(T)for(var Q,ba=0;ba<T.length;++ba)if(Q=T[ba],Q.marker.collapsed&&(null==Q.from||!Q.marker.widgetNode&&0==Q.from&&Q.marker.inclusiveLeft&&dd(a,u,Q)))return!0}function dd(a,u,T){if(null==T.to)return u=T.marker.find(1,!0),dd(a,u.line,jd(u.line.markedSpans,T.marker));if(T.marker.inclusiveRight&&
T.to==u.text.length)return!0;for(var Q,ba=0;ba<u.markedSpans.length;++ba)if(Q=u.markedSpans[ba],Q.marker.collapsed&&!Q.marker.widgetNode&&Q.from==T.to&&(null==Q.to||Q.to!=T.from)&&(Q.marker.inclusiveLeft||T.marker.inclusiveRight)&&dd(a,u,Q))return!0}function nd(a){a=Tb(a);for(var u=0,T=a.parent,Q=0;Q<T.lines.length;++Q){var ba=T.lines[Q];if(ba==a)break;else u+=ba.height}for(a=T.parent;a;T=a,a=T.parent)for(Q=0;Q<a.children.length&&(ba=a.children[Q],ba!=T);++Q)u+=ba.height;return u}function xd(a){if(0==
a.height)return 0;for(var u=a.text.length,T,Q=a;T=yb(Q,!0);)T=T.find(0,!0),Q=T.from.line,u+=T.from.ch-T.to.ch;for(Q=a;T=yb(Q,!1);)a=T.find(0,!0),u-=Q.text.length-a.from.ch,Q=a.to.line,u+=Q.text.length-a.to.ch;return u}function Nd(a){var u=a.display;a=a.doc;u.maxLine=xa(a,a.first);u.maxLineLength=xd(u.maxLine);u.maxLineChanged=!0;a.iter(function(T){var Q=xd(T);Q>u.maxLineLength&&(u.maxLineLength=Q,u.maxLine=T)})}function Xd(a,u){if(!a||/^\s*$/.test(a))return null;u=u.addModeClass?sk:Kj;return u[a]||
(u[a]=a.replace(/\S+/g,"cm-$\x26"))}function ge(a,u){var T=t("span",null,null,Zg?"padding-right: .1px":null);T={pre:t("pre",[T],"CodeMirror-line"),content:T,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};u.measure={};for(var Q=0;Q<=(u.rest?u.rest.length:0);Q++){var ba=Q?u.rest[Q-1]:u.line,Ha=void 0;T.pos=0;T.addToken=qe;var Va=a.display.measure;if(null!=sg)Va=sg;else{var Ya=p(Va,document.createTextNode("AخA")),wb=Ac(Ya,0,1).getBoundingClientRect();Ya=Ac(Ya,1,2).getBoundingClientRect();
k(Va);Va=wb&&wb.left!=wb.right?sg=3>Ya.right-wb.right:!1}Va&&(Ha=Ga(ba,a.doc.direction))&&(T.addToken=wd(T.addToken,Ha));T.map=[];var Rb=u!=a.display.externalMeasured&&Oa(ba);a:{var ec=Ya=wb=Va=void 0,Mc=void 0,Wc=void 0,ad=void 0;Ha=T;Rb=Bc(a,ba,Rb);var Wd=ba.markedSpans,Ee=ba.text,wf=0;if(Wd)for(var zg=Ee.length,lf=0,Gg=1,cg="",Mg=0;;){if(Mg==lf){Mc=ec=Ya=Wc="";wb=Va=null;Mg=Infinity;for(var tg=[],Of=void 0,Vg=0;Vg<Wd.length;++Vg){var hg=Wd[Vg],pg=hg.marker;if("bookmark"==pg.type&&hg.from==lf&&
pg.widgetNode)tg.push(pg);else if(hg.from<=lf&&(null==hg.to||hg.to>lf||pg.collapsed&&hg.to==lf&&hg.from==lf)){null!=hg.to&&hg.to!=lf&&Mg>hg.to&&(Mg=hg.to,ec="");pg.className&&(Mc+=" "+pg.className);pg.css&&(Wc=(Wc?Wc+";":"")+pg.css);pg.startStyle&&hg.from==lf&&(Ya+=" "+pg.startStyle);pg.endStyle&&hg.to==Mg&&(Of||(Of=[])).push(pg.endStyle,hg.to);pg.title&&((Va||(Va={})).title=pg.title);if(pg.attributes)for(var Kh in pg.attributes)(Va||(Va={}))[Kh]=pg.attributes[Kh];pg.collapsed&&(!wb||0>jb(wb.marker,
pg))&&(wb=hg)}else hg.from>lf&&Mg>hg.from&&(Mg=hg.from)}if(Of)for(Vg=0;Vg<Of.length;Vg+=2)Of[Vg+1]==Mg&&(ec+=" "+Of[Vg]);if(!wb||wb.from==lf)for(Of=0;Of<tg.length;++Of)qf(Ha,0,tg[Of]);if(wb&&(wb.from||0)==lf){qf(Ha,(null==wb.to?zg+1:wb.to)-lf,wb.marker,null==wb.from);if(null==wb.to)break a;wb.to==lf&&(wb=!1)}}if(lf>=zg)break;for(tg=Math.min(zg,Mg);;){if(cg){Of=lf+cg.length;wb||(Vg=Of>tg?cg.slice(0,tg-lf):cg,Ha.addToken(Ha,Vg,ad?ad+Mc:Mc,Ya,lf+Vg.length==Mg?ec:"",Wc,Va));if(Of>=tg){cg=cg.slice(tg-
lf);lf=tg;break}lf=Of;Ya=""}cg=Ee.slice(wf,wf=Rb[Gg++]);ad=Xd(Rb[Gg++],Ha.cm.options)}}else for(Va=1;Va<Rb.length;Va+=2)Ha.addToken(Ha,Ee.slice(wf,wf=Rb[Va]),Xd(Rb[Va+1],Ha.cm.options))}ba.styleClasses&&(ba.styleClasses.bgClass&&(T.bgClass=c(ba.styleClasses.bgClass,T.bgClass||"")),ba.styleClasses.textClass&&(T.textClass=c(ba.styleClasses.textClass,T.textClass||"")));0==T.map.length&&(ba=T.map,Ha=ba.push,Va=T.content,wb=Va.appendChild,Ya=a.display.measure,null==nf&&(ec=q("span","​"),p(Ya,q("span",
[ec,document.createTextNode("x")])),0!=Ya.firstChild.offsetHeight&&(nf=1>=ec.offsetWidth&&2<ec.offsetHeight&&!(Zf&&8>yg))),Ya=nf?q("span","​"):q("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px"),Ya.setAttribute("cm-text",""),Ha.call(ba,0,0,wb.call(Va,Ya)));0==Q?(u.measure.map=T.map,u.measure.cache={}):((u.measure.maps||(u.measure.maps=[])).push(T.map),(u.measure.caches||(u.measure.caches=[])).push({}))}Zg&&(Kh=T.content.lastChild,/\bcm-tab\b/.test(Kh.className)||Kh.querySelector&&
Kh.querySelector(".cm-tab"))&&(T.content.className="cm-tab-wrap-hack");D(a,"renderLine",a,u.line,T.pre);T.pre.className&&(T.textClass=c(T.pre.className,T.textClass||""));return T}function le(a){var u=q("span","•","cm-invalidchar");u.title="\\u"+a.charCodeAt(0).toString(16);u.setAttribute("aria-label",u.title);return u}function qe(a,u,T,Q,ba,Ha,Va){if(u){if(a.splitSpaces){var Ya=a.trailingSpace;if(1<u.length&&!/  /.test(u))Ya=u;else{for(var wb="",Rb=0;Rb<u.length;Rb++){var ec=u.charAt(Rb);" "!=ec||
!Ya||Rb!=u.length-1&&32!=u.charCodeAt(Rb+1)||(ec=" ");wb+=ec;Ya=" "==ec}Ya=wb}}else Ya=u;wb=Ya;Rb=a.cm.state.specialChars;ec=!1;if(Rb.test(u)){Ya=document.createDocumentFragment();for(var Mc=0;;){Rb.lastIndex=Mc;var Wc=Rb.exec(u),ad=Wc?Wc.index-Mc:u.length-Mc;if(ad){var Wd=document.createTextNode(wb.slice(Mc,Mc+ad));Zf&&9>yg?Ya.appendChild(q("span",[Wd])):Ya.appendChild(Wd);a.map.push(a.pos,a.pos+ad,Wd);a.col+=ad;a.pos+=ad}if(!Wc)break;Mc+=ad+1;"\t"==Wc[0]?(Wc=a.cm.options.tabSize,Wc-=a.col%Wc,ad=
Ya.appendChild(q("span",G(Wc),"cm-tab")),ad.setAttribute("role","presentation"),ad.setAttribute("cm-text","\t"),a.col+=Wc):("\r"==Wc[0]||"\n"==Wc[0]?(ad=Ya.appendChild(q("span","\r"==Wc[0]?"␍":"␤","cm-invalidchar")),ad.setAttribute("cm-text",Wc[0])):(ad=a.cm.options.specialCharPlaceholder(Wc[0]),ad.setAttribute("cm-text",Wc[0]),Zf&&9>yg?Ya.appendChild(q("span",[ad])):Ya.appendChild(ad)),a.col+=1);a.map.push(a.pos,a.pos+1,ad);a.pos++}}else a.col+=u.length,Ya=document.createTextNode(wb),a.map.push(a.pos,
a.pos+u.length,Ya),Zf&&9>yg&&(ec=!0),a.pos+=u.length;a.trailingSpace=32==wb.charCodeAt(u.length-1);if(T||Q||ba||ec||Ha||Va){u=T||"";Q&&(u+=Q);ba&&(u+=ba);Q=q("span",[Ya],u,Ha);if(Va)for(var Ee in Va)Va.hasOwnProperty(Ee)&&"style"!=Ee&&"class"!=Ee&&Q.setAttribute(Ee,Va[Ee]);return a.content.appendChild(Q)}a.content.appendChild(Ya)}}function wd(a,u){return function(T,Q,ba,Ha,Va,Ya,wb){ba=ba?ba+" cm-force-border":"cm-force-border";for(var Rb=T.pos,ec=Rb+Q.length;;){for(var Mc=void 0,Wc=0;Wc<u.length&&
!(Mc=u[Wc],Mc.to>Rb&&Mc.from<=Rb);Wc++);if(Mc.to>=ec)return a(T,Q,ba,Ha,Va,Ya,wb);a(T,Q.slice(0,Mc.to-Rb),ba,Ha,null,Ya,wb);Ha=null;Q=Q.slice(Mc.to-Rb);Rb=Mc.to}}}function qf(a,u,T,Q){var ba=!Q&&T.widgetNode;ba&&a.map.push(a.pos,a.pos+u,ba);!Q&&a.cm.display.input.needsContentAttribute&&(ba||(ba=a.content.appendChild(document.createElement("span"))),ba.setAttribute("cm-marker",T.id));ba&&(a.cm.display.input.setUneditable(ba),a.content.appendChild(ba));a.pos+=u;a.trailingSpace=!1}function gf(a,u,T){for(var Q=
this.line=u,ba;Q=yb(Q,!1);)Q=Q.find(1,!0).line,(ba||(ba=[])).push(Q);this.size=(this.rest=ba)?Oa(I(this.rest))-T+1:1;this.node=this.text=null;this.hidden=$c(a,u)}function te(a,u,T){var Q=[],ba;for(ba=u;ba<T;)u=new gf(a.doc,xa(a.doc,ba),ba),ba+=u.size,Q.push(u);return Q}function We(a,u){if(a=a.ownsGroup)try{var T=a.delayedCallbacks,Q=0;do{for(;Q<T.length;Q++)T[Q].call(null);for(var ba=0;ba<a.ops.length;ba++){var Ha=a.ops[ba];if(Ha.cursorActivityHandlers)for(;Ha.cursorActivityCalled<Ha.cursorActivityHandlers.length;)Ha.cursorActivityHandlers[Ha.cursorActivityCalled++].call(null,
Ha.cm)}}while(Q<T.length)}finally{fj=null,u(a)}}function za(a,u){var T=a._handlers&&a._handlers[u]||mh;if(T.length){var Q=Array.prototype.slice.call(arguments,2);if(fj)var ba=fj.delayedCallbacks;else Fg?ba=Fg:(ba=Fg=[],setTimeout(Za,0));for(var Ha=function(Ya){ba.push(function(){return T[Ya].apply(null,Q)})},Va=0;Va<T.length;++Va)Ha(Va)}}function Za(){var a=Fg;Fg=null;for(var u=0;u<a.length;++u)a[u]()}function tb(a,u,T,Q){for(var ba=0;ba<u.changes.length;ba++){var Ha=u.changes[ba];if("text"==Ha){Ha=
a;var Va=u,Ya=Va.text.className,wb=fc(Ha,Va);Va.text==Va.node&&(Va.node=wb.pre);Va.text.parentNode.replaceChild(wb.pre,Va.text);Va.text=wb.pre;wb.bgClass!=Va.bgClass||wb.textClass!=Va.textClass?(Va.bgClass=wb.bgClass,Va.textClass=wb.textClass,nc(Ha,Va)):Ya&&(Va.text.className=Ya)}else if("gutter"==Ha)Hc(a,u,T,Q);else if("class"==Ha)nc(a,u);else if("widget"==Ha){Ha=a;Va=u;Ya=Q;Va.alignable&&(Va.alignable=null);wb=w("CodeMirror-linewidget");for(var Rb=Va.node.firstChild,ec;Rb;Rb=ec)ec=Rb.nextSibling,
wb.test(Rb.className)&&Va.node.removeChild(Rb);lc(Ha,Va,Ya)}}u.changes=null}function Jb(a){a.node==a.text&&(a.node=q("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),Zf&&8>yg&&(a.node.style.zIndex=2));return a.node}function fc(a,u){var T=a.display.externalMeasured;return T&&T.line==u.line?(a.display.externalMeasured=null,u.measure=T.measure,T.built):ge(a,u)}function nc(a,u){var T=u.bgClass?u.bgClass+" "+(u.line.bgClass||
""):u.line.bgClass;T&&(T+=" CodeMirror-linebackground");if(u.background)T?u.background.className=T:(u.background.parentNode.removeChild(u.background),u.background=null);else if(T){var Q=Jb(u);u.background=Q.insertBefore(q("div",null,T),Q.firstChild);a.display.input.setUneditable(u.background)}u.line.wrapClass?Jb(u).className=u.line.wrapClass:u.node!=u.text&&(u.node.className="");u.text.className=(u.textClass?u.textClass+" "+(u.line.textClass||""):u.line.textClass)||""}function Hc(a,u,T,Q){u.gutter&&
(u.node.removeChild(u.gutter),u.gutter=null);u.gutterBackground&&(u.node.removeChild(u.gutterBackground),u.gutterBackground=null);if(u.line.gutterClass){var ba=Jb(u);u.gutterBackground=q("div",null,"CodeMirror-gutter-background "+u.line.gutterClass,"left: "+(a.options.fixedGutter?Q.fixedPos:-Q.gutterTotalWidth)+"px; width: "+Q.gutterTotalWidth+"px");a.display.input.setUneditable(u.gutterBackground);ba.insertBefore(u.gutterBackground,u.text)}ba=u.line.gutterMarkers;if(a.options.lineNumbers||ba){var Ha=
Jb(u),Va=u.gutter=q("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?Q.fixedPos:-Q.gutterTotalWidth)+"px");Va.setAttribute("aria-hidden","true");a.display.input.setUneditable(Va);Ha.insertBefore(Va,u.text);u.line.gutterClass&&(Va.className+=" "+u.line.gutterClass);!a.options.lineNumbers||ba&&ba["CodeMirror-linenumbers"]||(u.lineNumber=Va.appendChild(q("div",ka(a.options,T),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+Q.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+
a.display.lineNumInnerWidth+"px")));if(ba)for(u=0;u<a.display.gutterSpecs.length;++u)T=a.display.gutterSpecs[u].className,(Ha=ba.hasOwnProperty(T)&&ba[T])&&Va.appendChild(q("div",[Ha],"CodeMirror-gutter-elt","left: "+Q.gutterLeft[T]+"px; width: "+Q.gutterWidth[T]+"px"))}}function Dc(a,u,T,Q){var ba=fc(a,u);u.text=u.node=ba.pre;ba.bgClass&&(u.bgClass=ba.bgClass);ba.textClass&&(u.textClass=ba.textClass);nc(a,u);Hc(a,u,T,Q);lc(a,u,Q);return u.node}function lc(a,u,T){ld(a,u.line,u,T,!0);if(u.rest)for(var Q=
0;Q<u.rest.length;Q++)ld(a,u.rest[Q],u,T,!1)}function ld(a,u,T,Q,ba){if(u.widgets){var Ha=Jb(T),Va=0;for(u=u.widgets;Va<u.length;++Va){var Ya=u[Va],wb=q("div",[Ya.node],"CodeMirror-linewidget"+(Ya.className?" "+Ya.className:""));Ya.handleMouseEvents||wb.setAttribute("cm-ignore-events","true");var Rb=Ya,ec=wb,Mc=Q;if(Rb.noHScroll){(T.alignable||(T.alignable=[])).push(ec);var Wc=Mc.wrapperWidth;ec.style.left=Mc.fixedPos+"px";Rb.coverGutter||(Wc-=Mc.gutterTotalWidth,ec.style.paddingLeft=Mc.gutterTotalWidth+
"px");ec.style.width=Wc+"px"}Rb.coverGutter&&(ec.style.zIndex=5,ec.style.position="relative",Rb.noHScroll||(ec.style.marginLeft=-Mc.gutterTotalWidth+"px"));a.display.input.setUneditable(wb);ba&&Ya.above?Ha.insertBefore(wb,T.gutter||T.text):Ha.appendChild(wb);za(Ya,"redraw")}}}function rd(a){if(null!=a.height)return a.height;var u=a.doc.cm;if(!u)return 0;if(!n(document.body,a.node)){var T="position: relative;";a.coverGutter&&(T+="margin-left: -"+u.display.gutters.offsetWidth+"px;");a.noHScroll&&(T+=
"width: "+u.display.wrapper.clientWidth+"px;");p(u.display.measure,q("div",[a.node],null,T))}return a.height=a.node.parentNode.offsetHeight}function Hd(a,u){for(u=u.target||u.srcElement;u!=a.wrapper;u=u.parentNode)if(!u||1==u.nodeType&&"true"==u.getAttribute("cm-ignore-events")||u.parentNode==a.sizer&&u!=a.mover)return!0}function Vd(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function ce(a){if(a.cachedPaddingH)return a.cachedPaddingH;var u=p(a.measure,q("pre","x","CodeMirror-line-like"));
u=window.getComputedStyle?window.getComputedStyle(u):u.currentStyle;u={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight)};isNaN(u.left)||isNaN(u.right)||(a.cachedPaddingH=u);return u}function he(a){return 50-a.display.nativeBarWidth}function Ce(a){return a.display.scroller.clientWidth-he(a)-a.display.barWidth}function re(a){return a.display.scroller.clientHeight-he(a)-a.display.barHeight}function vf(a,u,T){if(a.line==u)return{map:a.measure.map,cache:a.measure.cache};if(a.rest){for(var Q=
0;Q<a.rest.length;Q++)if(a.rest[Q]==u)return{map:a.measure.maps[Q],cache:a.measure.caches[Q]};for(u=0;u<a.rest.length;u++)if(Oa(a.rest[u])>T)return{map:a.measure.maps[u],cache:a.measure.caches[u],before:!0}}}function Ge(a,u){if(u>=a.display.viewFrom&&u<a.display.viewTo)return a.display.view[Nc(a,u)];if((a=a.display.externalMeasured)&&u>=a.lineN&&u<a.lineN+a.size)return a}function Re(a,u){var T=Oa(u),Q=Ge(a,T);Q&&!Q.text?Q=null:Q&&Q.changes&&(tb(a,Q,T,ob(a)),a.curOp.forceUpdate=!0);if(!Q){var ba=Tb(u);
Q=Oa(ba);ba=a.display.externalMeasured=new gf(a.doc,ba,Q);ba.lineN=Q;Q=ba.built=ge(a,ba);ba.text=Q.pre;p(a.display.lineMeasure,Q.pre);Q=ba}a=vf(Q,u,T);return{line:u,view:Q,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function af(a,u,T,Q,ba){u.before&&(T=-1);var Ha=T+(Q||"");if(u.cache.hasOwnProperty(Ha))a=u.cache[Ha];else{u.rect||(u.rect=u.view.text.getBoundingClientRect());if(!u.hasHeights){var Va=u.view,Ya=u.rect,wb=a.options.lineWrapping,Rb=wb&&Ce(a);if(!Va.measure.heights||
wb&&Va.measure.width!=Rb){var ec=Va.measure.heights=[];if(wb)for(Va.measure.width=Rb,Va=Va.text.firstChild.getClientRects(),wb=0;wb<Va.length-1;wb++){Rb=Va[wb];var Mc=Va[wb+1];2<Math.abs(Rb.bottom-Mc.bottom)&&ec.push((Rb.bottom+Mc.top)/2-Ya.top)}ec.push(Ya.bottom-Ya.top)}u.hasHeights=!0}ec=Q;Va=Qb(u.map,T,ec);Q=Va.node;Ya=Va.start;wb=Va.end;T=Va.collapse;if(3==Q.nodeType){for(var Wc=0;4>Wc;Wc++){for(;Ya&&ca(u.line.text.charAt(Va.coverStart+Ya));)--Ya;for(;Va.coverStart+wb<Va.coverEnd&&ca(u.line.text.charAt(Va.coverStart+
wb));)++wb;if(Zf&&9>yg&&0==Ya&&wb==Va.coverEnd-Va.coverStart)var ad=Q.parentNode.getBoundingClientRect();else{ad=Ac(Q,Ya,wb).getClientRects();wb=Gi;if("left"==ec)for(Rb=0;Rb<ad.length&&(wb=ad[Rb]).left==wb.right;Rb++);else for(Rb=ad.length-1;0<=Rb&&(wb=ad[Rb]).left==wb.right;Rb--);ad=wb}if(ad.left||ad.right||0==Ya)break;wb=Ya;--Ya;T="right"}Zf&&11>yg&&((Wc=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=Ve?Wc=Ve:(ec=p(a.display.measure,q("span","x")),Wc=ec.getBoundingClientRect(),
ec=Ac(ec,0,1).getBoundingClientRect(),Wc=Ve=1<Math.abs(Wc.left-ec.left)),Wc=!Wc),Wc||(Wc=screen.logicalXDPI/screen.deviceXDPI,ec=screen.logicalYDPI/screen.deviceYDPI,ad={left:ad.left*Wc,right:ad.right*Wc,top:ad.top*ec,bottom:ad.bottom*ec}))}else 0<Ya&&(T=ec="right"),ad=a.options.lineWrapping&&1<(Wc=Q.getClientRects()).length?Wc["right"==ec?Wc.length-1:0]:Q.getBoundingClientRect();!(Zf&&9>yg)||Ya||ad&&(ad.left||ad.right)||(ad=(ad=Q.parentNode.getClientRects()[0])?{left:ad.left,right:ad.left+ha(a.display),
top:ad.top,bottom:ad.bottom}:Gi);Q=ad.top-u.rect.top;Ya=ad.bottom-u.rect.top;Wc=(Q+Ya)/2;ec=u.view.measure.heights;for(Va=0;Va<ec.length-1&&!(Wc<ec[Va]);Va++);T={left:("right"==T?ad.right:ad.left)-u.rect.left,right:("left"==T?ad.left:ad.right)-u.rect.left,top:Va?ec[Va-1]:0,bottom:ec[Va]};ad.left||ad.right||(T.bogus=!0);a.options.singleCursorHeightPerLine||(T.rtop=Q,T.rbottom=Ya);a=T;a.bogus||(u.cache[Ha]=a)}return{left:a.left,right:a.right,top:ba?a.rtop:a.top,bottom:ba?a.rbottom:a.bottom}}function Qb(a,
u,T){for(var Q,ba,Ha,Va,Ya,wb,Rb=0;Rb<a.length;Rb+=3){Ya=a[Rb];wb=a[Rb+1];if(u<Ya)ba=0,Ha=1,Va="left";else if(u<wb)ba=u-Ya,Ha=ba+1;else if(Rb==a.length-3||u==wb&&a[Rb+3]>u)Ha=wb-Ya,ba=Ha-1,u>=wb&&(Va="right");if(null!=ba){Q=a[Rb+2];Ya==wb&&T==(Q.insertLeft?"left":"right")&&(Va=T);if("left"==T&&0==ba)for(;Rb&&a[Rb-2]==a[Rb-3]&&a[Rb-1].insertLeft;)Q=a[(Rb-=3)+2],Va="left";if("right"==T&&ba==wb-Ya)for(;Rb<a.length-3&&a[Rb+3]==a[Rb+4]&&!a[Rb+5].insertLeft;)Q=a[(Rb+=3)+2],Va="right";break}}return{node:Q,
start:ba,end:Ha,collapse:Va,coverStart:Ya,coverEnd:wb}}function rc(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var u=0;u<a.rest.length;u++)a.measure.caches[u]={}}function bd(a){a.display.externalMeasure=null;k(a.display.lineMeasure);for(var u=0;u<a.display.view.length;u++)rc(a.display.view[u])}function Ad(a){bd(a);a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null;a.options.lineWrapping||(a.display.maxLineChanged=!0);a.display.lineNumChars=
null}function wa(a){return ei&&sh?-(a.body.getBoundingClientRect().left-parseInt(getComputedStyle(a.body).marginLeft)):a.defaultView.pageXOffset||(a.documentElement||a.body).scrollLeft}function Xa(a){return ei&&sh?-(a.body.getBoundingClientRect().top-parseInt(getComputedStyle(a.body).marginTop)):a.defaultView.pageYOffset||(a.documentElement||a.body).scrollTop}function zb(a){a=Tb(a).widgets;var u=0;if(a)for(var T=0;T<a.length;++T)a[T].above&&(u+=rd(a[T]));return u}function Xb(a,u,T,Q,ba){ba||(ba=zb(u),
T.top+=ba,T.bottom+=ba);if("line"==Q)return T;Q||(Q="local");u=nd(u);u="local"==Q?u+a.display.lineSpace.offsetTop:u-a.display.viewOffset;if("page"==Q||"window"==Q)ba=a.display.lineSpace.getBoundingClientRect(),u+=ba.top+("window"==Q?0:Xa(e(a))),a=ba.left+("window"==Q?0:wa(e(a))),T.left+=a,T.right+=a;T.top+=u;T.bottom+=u;return T}function tc(a,u,T){if("div"==T)return u;var Q=u.left;u=u.top;"page"==T?(Q-=wa(e(a)),u-=Xa(e(a))):"local"!=T&&T||(T=a.display.sizer.getBoundingClientRect(),Q+=T.left,u+=T.top);
a=a.display.lineSpace.getBoundingClientRect();return{left:Q-a.left,top:u-a.top}}function gd(a,u,T,Q,ba){Q||(Q=xa(a.doc,u.line));var Ha=Q;u=u.ch;Q=af(a,Re(a,Q),u,ba);return Xb(a,Ha,Q,T)}function qc(a,u,T,Q,ba,Ha){function Va(Wc,ad){Wc=af(a,ba,Wc,ad?"right":"left",Ha);ad?Wc.left=Wc.right:Wc.right=Wc.left;return Xb(a,Q,Wc,T)}function Ya(Wc,ad,Wd){return Va(Wd?Wc-1:Wc,1==wb[ad].level!=Wd)}Q=Q||xa(a.doc,u.line);ba||(ba=Re(a,Q));var wb=Ga(Q,a.doc.direction),Rb=u.ch;u=u.sticky;Rb>=Q.text.length?(Rb=Q.text.length,
u="before"):0>=Rb&&(Rb=0,u="after");if(!wb)return Va("before"==u?Rb-1:Rb,"before"==u);var ec=ea(wb,Rb,u),Mc=Dg;ec=Ya(Rb,ec,"before"==u);null!=Mc&&(ec.other=Ya(Rb,Mc,"before"!=u));return ec}function rb(a,u){var T=0;u=$b(a.doc,u);a.options.lineWrapping||(T=ha(a.display)*u.ch);u=xa(a.doc,u.line);a=nd(u)+a.display.lineSpace.offsetTop;return{left:T,right:T,top:a,bottom:a+u.height}}function Bb(a,u,T,Q,ba){a=ua(a,u,T);a.xRel=ba;Q&&(a.outside=Q);return a}function ic(a,u,T){var Q=a.doc;T+=a.display.viewOffset;
if(0>T)return Bb(Q.first,0,null,-1,-1);var ba=ja(Q,T),Ha=Q.first+Q.size-1;if(ba>Ha)return Bb(Q.first+Q.size-1,xa(Q,Ha).text.length,null,1,1);0>u&&(u=0);for(var Va=xa(Q,ba);;){Ha=Gd(a,Va,ba,u,T);var Ya=void 0;var wb=Ha.ch+(0<Ha.xRel||0<Ha.outside?1:0);if(Va=zi&&Va.markedSpans)for(var Rb=0;Rb<Va.length;++Rb){var ec=Va[Rb];ec.marker.collapsed&&(null==ec.from||ec.from<wb)&&(null==ec.to||ec.to>wb)&&(!Ya||0>jb(Ya,ec.marker))&&(Ya=ec.marker)}if(!Ya)return Ha;Ha=Ya.find(1);if(Ha.line==ba)return Ha;Va=xa(Q,
ba=Ha.line)}}function Uc(a,u,T,Q){Q-=zb(u);u=u.text.length;var ba=aa(function(Ha){return af(a,T,Ha-1).bottom<=Q},u,0);u=aa(function(Ha){return af(a,T,Ha).top>Q},ba,u);return{begin:ba,end:u}}function Rd(a,u,T,Q){T||(T=Re(a,u));Q=Xb(a,u,af(a,T,Q),"line").top;return Uc(a,u,T,Q)}function Md(a,u,T,Q){return a.bottom<=T?!1:a.top>T?!0:(Q?a.left:a.right)>u}function Gd(a,u,T,Q,ba){ba-=nd(u);var Ha=Re(a,u),Va=zb(u),Ya=0,wb=u.text.length,Rb=!0,ec=Ga(u,a.doc.direction);ec&&(ec=(a.options.lineWrapping?Le:Pd)(a,
u,T,Ha,ec,Q,ba),Ya=(Rb=1!=ec.level)?ec.from:ec.to-1,wb=Rb?ec.to:ec.from-1);var Mc=null,Wc=null;ec=aa(function(Wd){var Ee=af(a,Ha,Wd);Ee.top+=Va;Ee.bottom+=Va;if(!Md(Ee,Q,ba,!1))return!1;Ee.top<=ba&&Ee.left<=Q&&(Mc=Wd,Wc=Ee);return!0},Ya,wb);var ad=!1;Wc?(Ya=Q-Wc.left<Wc.right-Q,Rb=Ya==Rb,ec=Mc+(Rb?0:1),Rb=Rb?"after":"before",Ya=Ya?Wc.left:Wc.right):(Rb||ec!=wb&&ec!=Ya||ec++,Rb=0==ec?"after":ec==u.text.length?"before":af(a,Ha,ec-(Rb?1:0)).bottom+Va<=ba==Rb?"after":"before",ad=qc(a,ua(T,ec,Rb),"line",
u,Ha),Ya=ad.left,ad=ba<ad.top?-1:ba>=ad.bottom?1:0);ec=M(u.text,ec,1);return Bb(T,ec,Rb,ad,Q-Ya)}function Pd(a,u,T,Q,ba,Ha,Va){var Ya=aa(function(ec){ec=ba[ec];var Mc=1!=ec.level;return Md(qc(a,ua(T,Mc?ec.to:ec.from,Mc?"before":"after"),"line",u,Q),Ha,Va,!0)},0,ba.length-1),wb=ba[Ya];if(0<Ya){var Rb=1!=wb.level;Rb=qc(a,ua(T,Rb?wb.from:wb.to,Rb?"after":"before"),"line",u,Q);Md(Rb,Ha,Va,!0)&&Rb.top>Va&&(wb=ba[Ya-1])}return wb}function Le(a,u,T,Q,ba,Ha,Va){Va=Uc(a,u,Q,Va);T=Va.begin;Va=Va.end;/\s/.test(u.text.charAt(Va-
1))&&Va--;for(var Ya=u=null,wb=0;wb<ba.length;wb++){var Rb=ba[wb];if(!(Rb.from>=Va||Rb.to<=T)){var ec=af(a,Q,1!=Rb.level?Math.min(Va,Rb.to)-1:Math.max(T,Rb.from)).right;ec=ec<Ha?Ha-ec+1E9:ec-Ha;if(!u||Ya>ec)u=Rb,Ya=ec}}u||(u=ba[ba.length-1]);u.from<T&&(u={from:T,to:u.to,level:u.level});u.to>Va&&(u={from:u.from,to:Va,level:u.level});return u}function Se(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==aj){aj=q("pre",null,"CodeMirror-line-like");for(var u=0;49>u;++u)aj.appendChild(document.createTextNode("x")),
aj.appendChild(q("br"));aj.appendChild(document.createTextNode("x"))}p(a.measure,aj);u=aj.offsetHeight/50;3<u&&(a.cachedTextHeight=u);k(a.measure);return u||1}function ha(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var u=q("span","xxxxxxxxxx"),T=q("pre",[u],"CodeMirror-line-like");p(a.measure,T);u=u.getBoundingClientRect();u=(u.right-u.left)/10;2<u&&(a.cachedCharWidth=u);return u||10}function ob(a){for(var u=a.display,T={},Q={},ba=u.gutters.clientLeft,Ha=u.gutters.firstChild,Va=0;Ha;Ha=
Ha.nextSibling,++Va){var Ya=a.display.gutterSpecs[Va].className;T[Ya]=Ha.offsetLeft+Ha.clientLeft+ba;Q[Ya]=Ha.clientWidth}return{fixedPos:Ea(u),gutterTotalWidth:u.gutters.offsetWidth,gutterLeft:T,gutterWidth:Q,wrapperWidth:u.wrapper.clientWidth}}function Ea(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function Ib(a){var u=Se(a.display),T=a.options.lineWrapping,Q=T&&Math.max(5,a.display.scroller.clientWidth/ha(a.display)-3);return function(ba){if($c(a.doc,
ba))return 0;var Ha=0;if(ba.widgets)for(var Va=0;Va<ba.widgets.length;Va++)ba.widgets[Va].height&&(Ha+=ba.widgets[Va].height);return T?Ha+(Math.ceil(ba.text.length/Q)||1)*u:Ha+u}}function Yb(a){var u=a.doc,T=Ib(a);u.iter(function(Q){var ba=T(Q);ba!=Q.height&&sa(Q,ba)})}function kc(a,u,T,Q){var ba=a.display;if(!T&&"true"==(u.target||u.srcElement).getAttribute("cm-not-content"))return null;T=ba.lineSpace.getBoundingClientRect();try{var Ha=u.clientX-T.left;var Va=u.clientY-T.top}catch(wb){return null}u=
ic(a,Ha,Va);var Ya;Q&&0<u.xRel&&(Ya=xa(a.doc,u.line).text).length==u.ch&&(Q=h(Ya,Ya.length,a.options.tabSize)-Ya.length,u=ua(u.line,Math.max(0,Math.round((Ha-ce(a.display).left)/ha(a.display))-Q)));return u}function Nc(a,u){if(u>=a.display.viewTo)return null;u-=a.display.viewFrom;if(0>u)return null;a=a.display.view;for(var T=0;T<a.length;T++)if(u-=a[T].size,0>u)return T}function Jc(a,u,T,Q){null==u&&(u=a.doc.first);null==T&&(T=a.doc.first+a.doc.size);Q||(Q=0);var ba=a.display;Q&&T<ba.viewTo&&(null==
ba.updateLineNumbers||ba.updateLineNumbers>u)&&(ba.updateLineNumbers=u);a.curOp.viewChanged=!0;if(u>=ba.viewTo)zi&&Vb(a.doc,u)<ba.viewTo&&qd(a);else if(T<=ba.viewFrom)zi&&Ic(a.doc,T+Q)>ba.viewFrom?qd(a):(ba.viewFrom+=Q,ba.viewTo+=Q);else if(u<=ba.viewFrom&&T>=ba.viewTo)qd(a);else if(u<=ba.viewFrom){var Ha=Yd(a,T,T+Q,1);Ha?(ba.view=ba.view.slice(Ha.index),ba.viewFrom=Ha.lineN,ba.viewTo+=Q):qd(a)}else if(T>=ba.viewTo)(Ha=Yd(a,u,u,-1))?(ba.view=ba.view.slice(0,Ha.index),ba.viewTo=Ha.lineN):qd(a);else{Ha=
Yd(a,u,u,-1);var Va=Yd(a,T,T+Q,1);Ha&&Va?(ba.view=ba.view.slice(0,Ha.index).concat(te(a,Ha.lineN,Va.lineN)).concat(ba.view.slice(Va.index)),ba.viewTo+=Q):qd(a)}if(a=ba.externalMeasured)T<a.lineN?a.lineN+=Q:u<a.lineN+a.size&&(ba.externalMeasured=null)}function pd(a,u,T){a.curOp.viewChanged=!0;var Q=a.display,ba=a.display.externalMeasured;ba&&u>=ba.lineN&&u<ba.lineN+ba.size&&(Q.externalMeasured=null);u<Q.viewFrom||u>=Q.viewTo||(a=Q.view[Nc(a,u)],null!=a.node&&(a=a.changes||(a.changes=[]),-1==x(a,T)&&
a.push(T)))}function qd(a){a.display.viewFrom=a.display.viewTo=a.doc.first;a.display.view=[];a.display.viewOffset=0}function Yd(a,u,T,Q){var ba=Nc(a,u),Ha=a.display.view;if(!zi||T==a.doc.first+a.doc.size)return{index:ba,lineN:T};for(var Va=a.display.viewFrom,Ya=0;Ya<ba;Ya++)Va+=Ha[Ya].size;if(Va!=u){if(0<Q){if(ba==Ha.length-1)return null;u=Va+Ha[ba].size-u;ba++}else u=Va-u;T+=u}for(;Vb(a.doc,T)!=T;){if(ba==(0>Q?0:Ha.length-1))return null;T+=Q*Ha[ba-(0>Q?1:0)].size;ba+=Q}return{index:ba,lineN:T}}function Od(a){a=
a.display.view;for(var u=0,T=0;T<a.length;T++){var Q=a[T];Q.hidden||Q.node&&!Q.changes||++u}return u}function Jd(a){a.display.input.showSelection(a.display.input.prepareSelection())}function ed(a,u){void 0===u&&(u=!0);var T=a.doc,Q={},ba=Q.cursors=document.createDocumentFragment(),Ha=Q.selection=document.createDocumentFragment(),Va=a.options.$customCursor;Va&&(u=!0);for(var Ya=0;Ya<T.sel.ranges.length;Ya++)if(u||Ya!=T.sel.primIndex){var wb=T.sel.ranges[Ya];if(!(wb.from().line>=a.display.viewTo||wb.to().line<
a.display.viewFrom)){var Rb=wb.empty();if(Va){var ec=Va(a,wb);ec&&sd(a,ec,ba)}else(Rb||a.options.showCursorWhenSelecting)&&sd(a,wb.head,ba);Rb||Rc(a,wb,Ha)}}return Q}function sd(a,u,T){var Q=qc(a,u,"div",null,null,!a.options.singleCursorHeightPerLine),ba=T.appendChild(q("div"," ","CodeMirror-cursor"));ba.style.left=Q.left+"px";ba.style.top=Q.top+"px";ba.style.height=Math.max(0,Q.bottom-Q.top)*a.options.cursorHeight+"px";/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)&&(u=gd(a,u,"div",null,
null),u=u.right-u.left,ba.style.width=(0<u?u:a.defaultCharWidth())+"px");Q.other&&(a=T.appendChild(q("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),a.style.display="",a.style.left=Q.other.left+"px",a.style.top=Q.other.top+"px",a.style.height=.85*(Q.other.bottom-Q.other.top)+"px")}function wc(a,u){return a.top-u.top||a.left-u.left}function Rc(a,u,T){function Q(ad,Wd,Ee,wf){0>Wd&&(Wd=0);Wd=Math.round(Wd);wf=Math.round(wf);Ya.appendChild(q("div",null,"CodeMirror-selected","position: absolute; left: "+
ad+"px;\n                             top: "+Wd+"px; width: "+(null==Ee?ec-ad:Ee)+"px;\n                             height: "+(wf-Wd)+"px"))}function ba(ad,Wd,Ee){function wf(Of,Vg){return gd(a,ua(ad,Of),"div",lf,Vg)}function zg(Of,Vg,hg){Of=Rd(a,lf,null,Of);Vg="ltr"==Vg==("after"==hg)?"left":"right";hg="after"==hg?Of.begin:Of.end-(/\s/.test(lf.text.charAt(Of.end-1))?2:1);return wf(hg,Vg)[Vg]}var lf=xa(Va,ad),Gg=lf.text.length,cg,Mg,tg=Ga(lf,Va.direction);Y(tg,Wd||0,null==Ee?Gg:Ee,function(Of,Vg,
hg,pg){var Kh="ltr"==hg,Ph=wf(Of,Kh?"left":"right"),bi=wf(Vg-1,Kh?"right":"left"),Li=null==Wd&&0==Of,Wi=null==Ee&&Vg==Gg,qk=0==pg;pg=!tg||pg==tg.length-1;3>=bi.top-Ph.top?(Vg=(Mc?Li:Wi)&&qk?Rb:(Kh?Ph:bi).left,Q(Vg,Ph.top,((Mc?Wi:Li)&&pg?ec:(Kh?bi:Ph).right)-Vg,Ph.bottom)):(Kh?(Kh=Mc&&Li&&qk?Rb:Ph.left,Li=Mc?ec:zg(Of,hg,"before"),Of=Mc?Rb:zg(Vg,hg,"after"),Wi=Mc&&Wi&&pg?ec:bi.right):(Kh=Mc?zg(Of,hg,"before"):Rb,Li=!Mc&&Li&&qk?ec:Ph.right,Of=!Mc&&Wi&&pg?Rb:bi.left,Wi=Mc?zg(Vg,hg,"after"):ec),Q(Kh,Ph.top,
Li-Kh,Ph.bottom),Ph.bottom<bi.top&&Q(Rb,Ph.bottom,null,bi.top),Q(Of,bi.top,Wi-Of,bi.bottom));if(!cg||0>wc(Ph,cg))cg=Ph;0>wc(bi,cg)&&(cg=bi);if(!Mg||0>wc(Ph,Mg))Mg=Ph;0>wc(bi,Mg)&&(Mg=bi)});return{start:cg,end:Mg}}var Ha=a.display,Va=a.doc,Ya=document.createDocumentFragment(),wb=ce(a.display),Rb=wb.left,ec=Math.max(Ha.sizerWidth,Ce(a)-Ha.sizer.offsetLeft)-wb.right,Mc="ltr"==Va.direction;Ha=u.from();u=u.to();if(Ha.line==u.line)ba(Ha.line,Ha.ch,u.ch);else{var Wc=xa(Va,Ha.line);wb=xa(Va,u.line);wb=Tb(Wc)==
Tb(wb);Ha=ba(Ha.line,Ha.ch,wb?Wc.text.length+1:null).end;u=ba(u.line,wb?0:null,u.ch).start;wb&&(Ha.top<u.top-2?(Q(Ha.right,Ha.top,null,Ha.bottom),Q(Rb,u.top,u.left,u.bottom)):Q(Ha.right,Ha.top,u.left-Ha.right,Ha.bottom));Ha.bottom<u.top&&Q(Rb,Ha.bottom,null,u.top)}T.appendChild(Ya)}function Lc(a){if(a.state.focused){var u=a.display;clearInterval(u.blinker);var T=!0;u.cursorDiv.style.visibility="";0<a.options.cursorBlinkRate?u.blinker=setInterval(function(){a.hasFocus()||Pb(a);u.cursorDiv.style.visibility=
(T=!T)?"":"hidden"},a.options.cursorBlinkRate):0>a.options.cursorBlinkRate&&(u.cursorDiv.style.visibility="hidden")}}function ud(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Gb(a))}function kb(a){a.state.delayingBlurEvent=!0;setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&Pb(a))},100)}function Gb(a,u){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1);"nocursor"!=a.options.readOnly&&(a.state.focused||(D(a,
"focus",a,u),a.state.focused=!0,b(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),Zg&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Lc(a))}function Pb(a,u){a.state.delayingBlurEvent||(a.state.focused&&(D(a,"blur",a,u),a.state.focused=!1,jc(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function bc(a){for(var u=
a.display,T=u.lineDiv.offsetTop,Q=Math.max(0,u.scroller.getBoundingClientRect().top),ba=u.lineDiv.getBoundingClientRect().top,Ha=0,Va=0;Va<u.view.length;Va++){var Ya=u.view[Va],wb=a.options.lineWrapping,Rb=0;if(!Ya.hidden){ba+=Ya.line.height;if(Zf&&8>yg){wb=Ya.node.offsetTop+Ya.node.offsetHeight;var ec=wb-T;T=wb}else{var Mc=Ya.node.getBoundingClientRect();ec=Mc.bottom-Mc.top;!wb&&Ya.text.firstChild&&(Rb=Ya.text.firstChild.getBoundingClientRect().right-Mc.left-1)}wb=Ya.line.height-ec;if(.005<wb||-.005>
wb)if(ba<Q&&(Ha-=wb),sa(Ya.line,ec),fa(Ya.line),Ya.rest)for(ec=0;ec<Ya.rest.length;ec++)fa(Ya.rest[ec]);Rb>a.display.sizerWidth&&(Rb=Math.ceil(Rb/ha(a.display)),Rb>a.display.maxLineLength&&(a.display.maxLineLength=Rb,a.display.maxLine=Ya.line,a.display.maxLineChanged=!0))}}2<Math.abs(Ha)&&(u.scroller.scrollTop+=Ha)}function fa(a){if(a.widgets)for(var u=0;u<a.widgets.length;++u){var T=a.widgets[u],Q=T.node.parentNode;Q&&(T.height=Q.offsetHeight)}}function Ia(a,u,T){var Q=T&&null!=T.top?Math.max(0,
T.top):a.scroller.scrollTop;Q=Math.floor(Q-a.lineSpace.offsetTop);var ba=T&&null!=T.bottom?T.bottom:Q+a.wrapper.clientHeight;Q=ja(u,Q);ba=ja(u,ba);if(T&&T.ensure){var Ha=T.ensure.from.line;T=T.ensure.to.line;Ha<Q?(Q=Ha,ba=ja(u,nd(xa(u,Ha))+a.wrapper.clientHeight)):Math.min(T,u.lastLine())>=ba&&(Q=ja(u,nd(xa(u,T))-a.wrapper.clientHeight),ba=T)}return{from:Q,to:Math.max(ba,Q+1)}}function gb(a,u){var T=a.display,Q=Se(a.display);0>u.top&&(u.top=0);var ba=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:
T.scroller.scrollTop,Ha=re(a),Va={};u.bottom-u.top>Ha&&(u.bottom=u.top+Ha);var Ya=a.doc.height+Vd(T),wb=u.top<Q;Q=u.bottom>Ya-Q;u.top<ba?Va.scrollTop=wb?0:u.top:u.bottom>ba+Ha&&(Ha=Math.min(u.top,(Q?Ya:u.bottom)-Ha),Ha!=ba&&(Va.scrollTop=Ha));ba=a.options.fixedGutter?0:T.gutters.offsetWidth;Ha=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:T.scroller.scrollLeft-ba;a=Ce(a)-T.gutters.offsetWidth;if(T=u.right-u.left>a)u.right=u.left+a;10>u.left?Va.scrollLeft=0:u.left<Ha?Va.scrollLeft=Math.max(0,
u.left+ba-(T?0:10)):u.right>a+Ha-3&&(Va.scrollLeft=u.right+(T?0:10)-a);return Va}function Fb(a,u){null!=u&&(oc(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+u)}function Kb(a){oc(a);var u=a.getCursor();a.curOp.scrollToPos={from:u,to:u,margin:a.options.cursorScrollMargin}}function Ob(a,u,T){null==u&&null==T||oc(a);null!=u&&(a.curOp.scrollLeft=u);null!=T&&(a.curOp.scrollTop=T)}function oc(a){var u=a.curOp.scrollToPos;if(u){a.curOp.scrollToPos=null;var T=rb(a,u.from),
Q=rb(a,u.to);Oc(a,T,Q,u.margin)}}function Oc(a,u,T,Q){u=gb(a,{left:Math.min(u.left,T.left),top:Math.min(u.top,T.top)-Q,right:Math.max(u.right,T.right),bottom:Math.max(u.bottom,T.bottom)+Q});Ob(a,u.scrollLeft,u.scrollTop)}function yc(a,u){2>Math.abs(a.doc.scrollTop-u)||(xh||Ff(a,{top:u}),fd(a,u,!0),xh&&Ff(a),Te(a,100))}function fd(a,u,T){u=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,u));if(a.display.scroller.scrollTop!=u||T)a.doc.scrollTop=u,a.display.scrollbars.setScrollTop(u),
a.display.scroller.scrollTop!=u&&(a.display.scroller.scrollTop=u)}function Ec(a,u,T,Q){u=Math.max(0,Math.min(u,a.display.scroller.scrollWidth-a.display.scroller.clientWidth));(T?u==a.doc.scrollLeft:2>Math.abs(a.doc.scrollLeft-u))&&!Q||(a.doc.scrollLeft=u,Tf(a),a.display.scroller.scrollLeft!=u&&(a.display.scroller.scrollLeft=u),a.display.scrollbars.setScrollLeft(u))}function Fd(a){var u=a.display,T=u.gutters.offsetWidth,Q=Math.round(a.doc.height+Vd(a.display));return{clientHeight:u.scroller.clientHeight,
viewHeight:u.wrapper.clientHeight,scrollWidth:u.scroller.scrollWidth,clientWidth:u.scroller.clientWidth,viewWidth:u.wrapper.clientWidth,barLeft:a.options.fixedGutter?T:0,docHeight:Q,scrollHeight:Q+he(a)+u.barHeight,nativeBarWidth:u.nativeBarWidth,gutterWidth:T}}function Be(a,u){u||(u=Fd(a));var T=a.display.barWidth,Q=a.display.barHeight;fe(a,u);for(u=0;4>u&&T!=a.display.barWidth||Q!=a.display.barHeight;u++)T!=a.display.barWidth&&a.options.lineWrapping&&bc(a),fe(a,Fd(a)),T=a.display.barWidth,Q=a.display.barHeight}
function fe(a,u){var T=a.display,Q=T.scrollbars.update(u);T.sizer.style.paddingRight=(T.barWidth=Q.right)+"px";T.sizer.style.paddingBottom=(T.barHeight=Q.bottom)+"px";T.heightForcer.style.borderBottom=Q.bottom+"px solid transparent";Q.right&&Q.bottom?(T.scrollbarFiller.style.display="block",T.scrollbarFiller.style.height=Q.bottom+"px",T.scrollbarFiller.style.width=Q.right+"px"):T.scrollbarFiller.style.display="";Q.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(T.gutterFiller.style.display=
"block",T.gutterFiller.style.height=Q.bottom+"px",T.gutterFiller.style.width=u.gutterWidth+"px"):T.gutterFiller.style.display=""}function Ae(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&jc(a.display.wrapper,a.display.scrollbars.addClass));a.display.scrollbars=new xk[a.options.scrollbarStyle](function(u){a.display.wrapper.insertBefore(u,a.display.scrollbarFiller);$e(u,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},
0)});u.setAttribute("cm-not-content","true")},function(u,T){"horizontal"==T?Ec(a,u):yc(a,u)},a);a.display.scrollbars.addClass&&b(a.display.wrapper,a.display.scrollbars.addClass)}function Zd(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Lj,markArrays:null};a=a.curOp;fj?fj.ops.push(a):a.ownsGroup=
fj={ops:[a],delayedCallbacks:[]}}function vd(a){(a=a.curOp)&&We(a,function(u){for(var T=0;T<u.ops.length;T++)u.ops[T].cm.curOp=null;u=u.ops;for(T=0;T<u.length;T++){var Q=u[T],ba=Q.cm,Ha=ba.display,Va=ba.display;!Va.scrollbarsClipped&&Va.scroller.offsetWidth&&(Va.nativeBarWidth=Va.scroller.offsetWidth-Va.scroller.clientWidth,Va.heightForcer.style.height=he(ba)+"px",Va.sizer.style.marginBottom=-Va.nativeBarWidth+"px",Va.sizer.style.borderRightWidth=he(ba)+"px",Va.scrollbarsClipped=!0);Q.updateMaxLine&&
Nd(ba);Q.mustUpdate=Q.viewChanged||Q.forceUpdate||null!=Q.scrollTop||Q.scrollToPos&&(Q.scrollToPos.from.line<Ha.viewFrom||Q.scrollToPos.to.line>=Ha.viewTo)||Ha.maxLineChanged&&ba.options.lineWrapping;Q.update=Q.mustUpdate&&new si(ba,Q.mustUpdate&&{top:Q.scrollTop,ensure:Q.scrollToPos},Q.forceUpdate)}for(T=0;T<u.length;T++)Q=u[T],Q.updatedDisplay=Q.mustUpdate&&sf(Q.cm,Q.update);for(T=0;T<u.length;T++)if(Q=u[T],ba=Q.cm,Ha=ba.display,Q.updatedDisplay&&bc(ba),Q.barMeasure=Fd(ba),Ha.maxLineChanged&&!ba.options.lineWrapping&&
(Va=Ha.maxLine.text.length,Va=af(ba,Re(ba,Ha.maxLine),Va,void 0),Q.adjustWidthTo=Va.left+3,ba.display.sizerWidth=Q.adjustWidthTo,Q.barMeasure.scrollWidth=Math.max(Ha.scroller.clientWidth,Ha.sizer.offsetLeft+Q.adjustWidthTo+he(ba)+ba.display.barWidth),Q.maxScrollLeft=Math.max(0,Ha.sizer.offsetLeft+Q.adjustWidthTo-Ce(ba))),Q.updatedDisplay||Q.selectionChanged)Q.preparedSelection=Ha.input.prepareSelection();for(T=0;T<u.length;T++)Q=u[T],ba=Q.cm,null!=Q.adjustWidthTo&&(ba.display.sizer.style.minWidth=
Q.adjustWidthTo+"px",Q.maxScrollLeft<ba.doc.scrollLeft&&Ec(ba,Math.min(ba.display.scroller.scrollLeft,Q.maxScrollLeft),!0),ba.display.maxLineChanged=!1),Ha=Q.focus&&Q.focus==f(e(ba)),Q.preparedSelection&&ba.display.input.showSelection(Q.preparedSelection,Ha),(Q.updatedDisplay||Q.startHeight!=ba.doc.height)&&Be(ba,Q.barMeasure),Q.updatedDisplay&&mf(ba,Q.barMeasure),Q.selectionChanged&&Lc(ba),ba.state.focused&&Q.updateInput&&ba.display.input.reset(Q.typing),Ha&&ud(Q.cm);for(T=0;T<u.length;T++){var Ya=
void 0;Q=u[T];ba=Q.cm;Ha=ba.display;Va=ba.doc;Q.updatedDisplay&&Af(ba,Q.update);null==Ha.wheelStartX||null==Q.scrollTop&&null==Q.scrollLeft&&!Q.scrollToPos||(Ha.wheelStartX=Ha.wheelStartY=null);null!=Q.scrollTop&&fd(ba,Q.scrollTop,Q.forceScroll);null!=Q.scrollLeft&&Ec(ba,Q.scrollLeft,!0,!0);if(Q.scrollToPos){var wb=$b(Va,Q.scrollToPos.from);var Rb=$b(Va,Q.scrollToPos.to);var ec=Q.scrollToPos.margin;null==ec&&(ec=0);ba.options.lineWrapping||wb!=Rb||(Rb="before"==wb.sticky?ua(wb.line,wb.ch+1,"before"):
wb,wb=wb.ch?ua(wb.line,"before"==wb.sticky?wb.ch-1:wb.ch,"after"):wb);for(var Mc=0;5>Mc;Mc++){var Wc=!1;Ya=qc(ba,wb);var ad=Rb&&Rb!=wb?qc(ba,Rb):Ya;Ya={left:Math.min(Ya.left,ad.left),top:Math.min(Ya.top,ad.top)-ec,right:Math.max(Ya.left,ad.left),bottom:Math.max(Ya.bottom,ad.bottom)+ec};ad=gb(ba,Ya);var Wd=ba.doc.scrollTop,Ee=ba.doc.scrollLeft;null!=ad.scrollTop&&(yc(ba,ad.scrollTop),1<Math.abs(ba.doc.scrollTop-Wd)&&(Wc=!0));null!=ad.scrollLeft&&(Ec(ba,ad.scrollLeft),1<Math.abs(ba.doc.scrollLeft-Ee)&&
(Wc=!0));if(!Wc)break}Rb=Ya;B(ba,"scrollCursorIntoView")||(ec=ba.display,Mc=ec.sizer.getBoundingClientRect(),wb=null,Wc=ec.wrapper.ownerDocument,0>Rb.top+Mc.top?wb=!0:Rb.bottom+Mc.top>(Wc.defaultView.innerHeight||Wc.documentElement.clientHeight)&&(wb=!1),null==wb||Yi||(Rb=q("div","​",null,"position: absolute;\n                         top: "+(Rb.top-ec.viewOffset-ba.display.lineSpace.offsetTop)+"px;\n                         height: "+(Rb.bottom-Rb.top+he(ba)+ec.barHeight)+"px;\n                         left: "+
Rb.left+"px; width: "+Math.max(2,Rb.right-Rb.left)+"px;"),ba.display.lineSpace.appendChild(Rb),Rb.scrollIntoView(wb),ba.display.lineSpace.removeChild(Rb)))}Rb=Q.maybeHiddenMarkers;wb=Q.maybeUnhiddenMarkers;if(Rb)for(ec=0;ec<Rb.length;++ec)Rb[ec].lines.length||D(Rb[ec],"hide");if(wb)for(Rb=0;Rb<wb.length;++Rb)wb[Rb].lines.length&&D(wb[Rb],"unhide");Ha.wrapper.offsetHeight&&(Va.scrollTop=ba.display.scroller.scrollTop);Q.changeObjs&&D(ba,"changes",ba,Q.changeObjs);Q.update&&Q.update.finish()}})}function Kd(a,
u){if(a.curOp)return u();Zd(a);try{return u()}finally{vd(a)}}function ee(a,u){return function(){if(a.curOp)return u.apply(a,arguments);Zd(a);try{return u.apply(a,arguments)}finally{vd(a)}}}function xe(a){return function(){if(this.curOp)return a.apply(this,arguments);Zd(this);try{return a.apply(this,arguments)}finally{vd(this)}}}function ze(a){return function(){var u=this.cm;if(!u||u.curOp)return a.apply(this,arguments);Zd(u);try{return a.apply(this,arguments)}finally{vd(u)}}}function Te(a,u){a.doc.highlightFrontier<
a.display.viewTo&&a.state.highlight.set(u,g(Id,a))}function Id(a){var u=a.doc;if(!(u.highlightFrontier>=a.display.viewTo)){var T=+new Date+a.options.workTime,Q=uc(a,u.highlightFrontier),ba=[];u.iter(Q.line,Math.min(u.first+u.size,a.display.viewTo+500),function(Ha){if(Q.line>=a.display.viewFrom){var Va=Ha.styles,Ya=Ha.text.length>a.options.maxHighlightLength?ra(u.mode,Q.state):null,wb=zc(a,Ha,Q,!0);Ya&&(Q.state=Ya);Ha.styles=wb.styles;Ya=Ha.styleClasses;(wb=wb.classes)?Ha.styleClasses=wb:Ya&&(Ha.styleClasses=
null);wb=!Va||Va.length!=Ha.styles.length||Ya!=wb&&(!Ya||!wb||Ya.bgClass!=wb.bgClass||Ya.textClass!=wb.textClass);for(Ya=0;!wb&&Ya<Va.length;++Ya)wb=Va[Ya]!=Ha.styles[Ya];wb&&ba.push(Q.line);Ha.stateAfter=Q.save()}else Ha.text.length<=a.options.maxHighlightLength&&id(a,Ha.text,Q),Ha.stateAfter=0==Q.line%5?Q.save():null;Q.nextLine();if(+new Date>T)return Te(a,a.options.workDelay),!0});u.highlightFrontier=Q.line;u.modeFrontier=Math.max(u.modeFrontier,Q.line);ba.length&&Kd(a,function(){for(var Ha=0;Ha<
ba.length;Ha++)pd(a,ba[Ha],"text")})}}function sf(a,u){var T=a.display,Q=a.doc;if(u.editorIsHidden)return qd(a),!1;if(!u.force&&u.visible.from>=T.viewFrom&&u.visible.to<=T.viewTo&&(null==T.updateLineNumbers||T.updateLineNumbers>=T.viewTo)&&T.renderedView==T.view&&0==Od(a))return!1;Gf(a)&&(qd(a),u.dims=ob(a));var ba=Q.first+Q.size,Ha=Math.max(u.visible.from-a.options.viewportMargin,Q.first),Va=Math.min(ba,u.visible.to+a.options.viewportMargin);T.viewFrom<Ha&&20>Ha-T.viewFrom&&(Ha=Math.max(Q.first,
T.viewFrom));T.viewTo>Va&&20>T.viewTo-Va&&(Va=Math.min(ba,T.viewTo));zi&&(Ha=Vb(a.doc,Ha),Va=Ic(a.doc,Va));Q=Ha!=T.viewFrom||Va!=T.viewTo||T.lastWrapHeight!=u.wrapperHeight||T.lastWrapWidth!=u.wrapperWidth;ba=a.display;0==ba.view.length||Ha>=ba.viewTo||Va<=ba.viewFrom?(ba.view=te(a,Ha,Va),ba.viewFrom=Ha):(ba.viewFrom>Ha?ba.view=te(a,Ha,ba.viewFrom).concat(ba.view):ba.viewFrom<Ha&&(ba.view=ba.view.slice(Nc(a,Ha))),ba.viewFrom=Ha,ba.viewTo<Va?ba.view=ba.view.concat(te(a,ba.viewTo,Va)):ba.viewTo>Va&&
(ba.view=ba.view.slice(0,Nc(a,Va))));ba.viewTo=Va;T.viewOffset=nd(xa(a.doc,T.viewFrom));a.display.mover.style.top=T.viewOffset+"px";Va=Od(a);if(!Q&&0==Va&&!u.force&&T.renderedView==T.view&&(null==T.updateLineNumbers||T.updateLineNumbers>=T.viewTo))return!1;a.hasFocus()?Ha=null:(Ha=f(e(a)))&&n(a.display.lineDiv,Ha)?(Ha={activeElt:Ha},window.getSelection&&(ba=e(a).defaultView.getSelection(),ba.anchorNode&&ba.extend&&n(a.display.lineDiv,ba.anchorNode)&&(Ha.anchorNode=ba.anchorNode,Ha.anchorOffset=ba.anchorOffset,
Ha.focusNode=ba.focusNode,Ha.focusOffset=ba.focusOffset))):Ha=null;4<Va&&(T.lineDiv.style.display="none");$g(a,T.updateLineNumbers,u.dims);4<Va&&(T.lineDiv.style.display="");T.renderedView=T.view;(Va=Ha)&&Va.activeElt&&Va.activeElt!=f(Va.activeElt.ownerDocument)&&(Va.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Va.activeElt.nodeName)&&Va.anchorNode&&n(document.body,Va.anchorNode)&&n(document.body,Va.focusNode)&&(ba=Va.activeElt.ownerDocument,Ha=ba.defaultView.getSelection(),ba=ba.createRange(),ba.setEnd(Va.anchorNode,
Va.anchorOffset),ba.collapse(!1),Ha.removeAllRanges(),Ha.addRange(ba),Ha.extend(Va.focusNode,Va.focusOffset)));k(T.cursorDiv);k(T.selectionDiv);T.gutters.style.height=T.sizer.style.minHeight=0;Q&&(T.lastWrapHeight=u.wrapperHeight,T.lastWrapWidth=u.wrapperWidth,Te(a,400));T.updateLineNumbers=null;return!0}function Af(a,u){for(var T=u.viewport,Q=!0;;Q=!1){if(Q&&a.options.lineWrapping&&u.oldDisplayWidth!=Ce(a))Q&&(u.visible=Ia(a.display,a.doc,T));else if(T&&null!=T.top&&(T={top:Math.min(a.doc.height+
Vd(a.display)-re(a),T.top)}),u.visible=Ia(a.display,a.doc,T),u.visible.from>=a.display.viewFrom&&u.visible.to<=a.display.viewTo)break;if(!sf(a,u))break;bc(a);Q=Fd(a);Jd(a);Be(a,Q);mf(a,Q);u.force=!1}u.signal(a,"update",a);if(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)u.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo}function Ff(a,u){u=new si(a,u);
if(sf(a,u)){bc(a);Af(a,u);var T=Fd(a);Jd(a);Be(a,T);mf(a,T);u.finish()}}function $g(a,u,T){function Q(Wc){var ad=Wc.nextSibling;Zg&&ia&&a.display.currentWheelTarget==Wc?Wc.style.display="none":Wc.parentNode.removeChild(Wc);return ad}var ba=a.display,Ha=a.options.lineNumbers,Va=ba.lineDiv,Ya=Va.firstChild,wb=ba.view;ba=ba.viewFrom;for(var Rb=0;Rb<wb.length;Rb++){var ec=wb[Rb];if(!ec.hidden)if(ec.node&&ec.node.parentNode==Va){for(;Ya!=ec.node;)Ya=Q(Ya);Ya=Ha&&null!=u&&u<=ba&&ec.lineNumber;ec.changes&&
(-1<x(ec.changes,"gutter")&&(Ya=!1),tb(a,ec,ba,T));Ya&&(k(ec.lineNumber),ec.lineNumber.appendChild(document.createTextNode(ka(a.options,ba))));Ya=ec.node.nextSibling}else{var Mc=Dc(a,ec,ba,T);Va.insertBefore(Mc,Ya)}ba+=ec.size}for(;Ya;)Ya=Q(Ya)}function ie(a){a.sizer.style.marginLeft=a.gutters.offsetWidth+"px";za(a,"gutterChanged",a)}function mf(a,u){a.display.sizer.style.minHeight=u.docHeight+"px";a.display.heightForcer.style.top=u.docHeight+"px";a.display.gutters.style.height=u.docHeight+a.display.barHeight+
he(a)+"px"}function Tf(a){var u=a.display,T=u.view;if(u.alignWidgets||u.gutters.firstChild&&a.options.fixedGutter){for(var Q=Ea(u)-u.scroller.scrollLeft+a.doc.scrollLeft,ba=u.gutters.offsetWidth,Ha=Q+"px",Va=0;Va<T.length;Va++)if(!T[Va].hidden){a.options.fixedGutter&&(T[Va].gutter&&(T[Va].gutter.style.left=Ha),T[Va].gutterBackground&&(T[Va].gutterBackground.style.left=Ha));var Ya=T[Va].alignable;if(Ya)for(var wb=0;wb<Ya.length;wb++)Ya[wb].style.left=Ha}a.options.fixedGutter&&(u.gutters.style.left=
Q+ba+"px")}}function Gf(a){if(!a.options.lineNumbers)return!1;var u=a.doc;u=ka(a.options,u.first+u.size-1);var T=a.display;if(u.length!=T.lineNumChars){var Q=T.measure.appendChild(q("div",[q("div",u)],"CodeMirror-linenumber CodeMirror-gutter-elt")),ba=Q.firstChild.offsetWidth;Q=Q.offsetWidth-ba;T.lineGutter.style.width="";T.lineNumInnerWidth=Math.max(ba,T.lineGutter.offsetWidth-Q)+1;T.lineNumWidth=T.lineNumInnerWidth+Q;T.lineNumChars=T.lineNumInnerWidth?u.length:-1;T.lineGutter.style.width=T.lineNumWidth+
"px";ie(a.display);return!0}return!1}function Ag(a,u){for(var T=[],Q=!1,ba=0;ba<a.length;ba++){var Ha=a[ba],Va=null;"string"!=typeof Ha&&(Va=Ha.style,Ha=Ha.className);if("CodeMirror-linenumbers"==Ha)if(u)Q=!0;else continue;T.push({className:Ha,style:Va})}u&&!Q&&T.push({className:"CodeMirror-linenumbers",style:null});return T}function ng(a){var u=a.gutters,T=a.gutterSpecs;k(u);a.lineGutter=null;for(var Q=0;Q<T.length;++Q){var ba=T[Q],Ha=ba.className;ba=ba.style;var Va=u.appendChild(q("div",null,"CodeMirror-gutter "+
Ha));ba&&(Va.style.cssText=ba);"CodeMirror-linenumbers"==Ha&&(a.lineGutter=Va,Va.style.width=(a.lineNumWidth||1)+"px")}u.style.display=T.length?"":"none";ie(a)}function ug(a){ng(a.display);Jc(a);Tf(a)}function Sg(a,u,T,Q){this.input=T;this.scrollbarFiller=q("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=q("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=t("div",null,"CodeMirror-code");
this.selectionDiv=q("div",null,null,"position: relative; z-index: 1");this.cursorDiv=q("div",null,"CodeMirror-cursors");this.measure=q("div",null,"CodeMirror-measure");this.lineMeasure=q("div",null,"CodeMirror-measure");this.lineSpace=t("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var ba=t("div",[this.lineSpace],"CodeMirror-lines");this.mover=q("div",[ba],null,"position: relative");this.sizer=q("div",[this.mover],"CodeMirror-sizer");
this.sizerWidth=null;this.heightForcer=q("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=q("div",null,"CodeMirror-gutters");this.lineGutter=null;this.scroller=q("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=q("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");this.wrapper.setAttribute("translate","no");Zf&&8>yg&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=
0);Zg||xh&&Oi||(this.scroller.draggable=!0);a&&(a.appendChild?a.appendChild(this.wrapper):a(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=u.first;this.view=[];this.externalMeasured=this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=
this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=null;this.gutterSpecs=Ag(Q.gutters,Q.lineNumbers);ng(this);T.init(this)}function ig(a){var u=a.wheelDeltaX,T=a.wheelDeltaY;null==u&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(u=a.detail);null==T&&a.detail&&a.axis==a.VERTICAL_AXIS?T=a.detail:null==T&&(T=a.wheelDelta);return{x:u,
y:T}}function Cf(a){a=ig(a);a.x*=mi;a.y*=mi;return a}function vg(a,u){ei&&102==lj&&(null==a.display.chromeScrollHack?a.display.sizer.style.pointerEvents="none":clearTimeout(a.display.chromeScrollHack),a.display.chromeScrollHack=setTimeout(function(){a.display.chromeScrollHack=null;a.display.sizer.style.pointerEvents=""},100));var T=ig(u),Q=T.x;T=T.y;var ba=mi;0===u.deltaMode&&(Q=u.deltaX,T=u.deltaY,ba=1);var Ha=a.display,Va=Ha.scroller,Ya=Va.scrollWidth>Va.clientWidth,wb=Va.scrollHeight>Va.clientHeight;
if(Q&&Ya||T&&wb){if(T&&ia&&Zg){Ya=u.target;var Rb=Ha.view;a:for(;Ya!=Va;Ya=Ya.parentNode)for(var ec=0;ec<Rb.length;ec++)if(Rb[ec].node==Ya){a.display.currentWheelTarget=Ya;break a}}!Q||xh||Oh||null==ba?(T&&null!=ba&&(ba*=T,wb=a.doc.scrollTop,Ya=wb+Ha.wrapper.clientHeight,0>ba?wb=Math.max(0,wb+ba-50):Ya=Math.min(a.doc.height,Ya+ba+50),Ff(a,{top:wb,bottom:Ya})),20>Pi&&0!==u.deltaMode&&(null==Ha.wheelStartX?(Ha.wheelStartX=Va.scrollLeft,Ha.wheelStartY=Va.scrollTop,Ha.wheelDX=Q,Ha.wheelDY=T,setTimeout(function(){if(null!=
Ha.wheelStartX){var Mc=Va.scrollLeft-Ha.wheelStartX,Wc=Va.scrollTop-Ha.wheelStartY;Mc=Wc&&Ha.wheelDY&&Wc/Ha.wheelDY||Mc&&Ha.wheelDX&&Mc/Ha.wheelDX;Ha.wheelStartX=Ha.wheelStartY=null;Mc&&(mi=(mi*Pi+Mc)/(Pi+1),++Pi)}},200)):(Ha.wheelDX+=Q,Ha.wheelDY+=T))):(T&&wb&&yc(a,Math.max(0,Va.scrollTop+T*ba)),Ec(a,Math.max(0,Va.scrollLeft+Q*ba)),(!T||T&&wb)&&qa(u),Ha.wheelStartX=null)}}function og(a,u,T){a=a&&a.options.selectionsMayTouch;T=u[T];u.sort(function(wb,Rb){return Ta(wb.from(),Rb.from())});T=x(u,T);
for(var Q=1;Q<u.length;Q++){var ba=u[Q],Ha=u[Q-1],Va=Ta(Ha.to(),ba.from());if(a&&!ba.empty()?0<Va:0<=Va){Va=Mb(Ha.from(),ba.from());var Ya=nb(Ha.to(),ba.to());ba=Ha.empty()?ba.from()==ba.head:Ha.from()==Ha.head;Q<=T&&--T;u.splice(--Q,2,new Jf(ba?Ya:Va,ba?Va:Ya))}}return new Dh(u,T)}function Uf(a,u){return new Dh([new Jf(a,u||a)],0)}function Xf(a){return a.text?ua(a.from.line+a.text.length-1,I(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function Tg(a,u){if(0>Ta(a,u.from))return a;if(0>=Ta(a,
u.to))return Xf(u);var T=a.line+u.text.length-(u.to.line-u.from.line)-1,Q=a.ch;a.line==u.to.line&&(Q+=Xf(u).ch-u.to.ch);return ua(T,Q)}function bh(a,u){for(var T=[],Q=0;Q<a.sel.ranges.length;Q++){var ba=a.sel.ranges[Q];T.push(new Jf(Tg(ba.anchor,u),Tg(ba.head,u)))}return og(a.cm,T,a.sel.primIndex)}function Ng(a,u,T){return a.line==u.line?ua(T.line,a.ch-u.ch+T.ch):ua(T.line+(a.line-u.line),a.ch)}function Ig(a){a.doc.mode=Fa(a.options,a.doc.modeOption);Jg(a)}function Jg(a){a.doc.iter(function(u){u.stateAfter&&
(u.stateAfter=null);u.styles&&(u.styles=null)});a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first;Te(a,100);a.state.modeGen++;a.curOp&&Jc(a)}function Wa(a,u){return 0==u.from.ch&&0==u.to.ch&&""==I(u.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Cb(a,u,T,Q){function ba(Wd,Ee,wf){Wd.text=Ee;Wd.stateAfter&&(Wd.stateAfter=null);Wd.styles&&(Wd.styles=null);null!=Wd.order&&(Wd.order=null);Ca(Wd);$a(Wd,wf);Ee=Q?Q(Wd):1;Ee!=Wd.height&&sa(Wd,Ee);za(Wd,"change",Wd,u)}function Ha(Wd,Ee){for(var wf=
[];Wd<Ee;++Wd)wf.push(new $i(wb[Wd],T?T[Wd]:null,Q));return wf}var Va=u.from,Ya=u.to,wb=u.text,Rb=xa(a,Va.line),ec=xa(a,Ya.line),Mc=I(wb),Wc=T?T[wb.length-1]:null,ad=Ya.line-Va.line;u.full?(a.insert(0,Ha(0,wb.length)),a.remove(wb.length,a.size-wb.length)):Wa(a,u)?(Ya=Ha(0,wb.length-1),ba(ec,ec.text,Wc),ad&&a.remove(Va.line,ad),Ya.length&&a.insert(Va.line,Ya)):Rb==ec?1==wb.length?ba(Rb,Rb.text.slice(0,Va.ch)+Mc+Rb.text.slice(Ya.ch),Wc):(ad=Ha(1,wb.length-1),ad.push(new $i(Mc+Rb.text.slice(Ya.ch),Wc,
Q)),ba(Rb,Rb.text.slice(0,Va.ch)+wb[0],T?T[0]:null),a.insert(Va.line+1,ad)):1==wb.length?(ba(Rb,Rb.text.slice(0,Va.ch)+wb[0]+ec.text.slice(Ya.ch),T?T[0]:null),a.remove(Va.line+1,ad)):(ba(Rb,Rb.text.slice(0,Va.ch)+wb[0],T?T[0]:null),ba(ec,Mc+ec.text.slice(Ya.ch),Wc),Wc=Ha(1,wb.length-1),1<ad&&a.remove(Va.line+1,ad-1),a.insert(Va.line+1,Wc));za(a,"change",a,u)}function hc(a,u,T){function Q(ba,Ha,Va){if(ba.linked)for(var Ya=0;Ya<ba.linked.length;++Ya){var wb=ba.linked[Ya];if(wb.doc!=Ha){var Rb=Va&&wb.sharedHist;
if(!T||Rb)u(wb.doc,Rb),Q(wb.doc,ba,Rb)}}}Q(a,null,!0)}function yd(a,u){if(u.cm)throw Error("This document is already in use.");a.doc=u;u.cm=a;Yb(a);Ig(a);Dd(a);a.options.direction=u.direction;a.options.lineWrapping||Nd(a);a.options.mode=u.modeOption;Jc(a)}function Dd(a){("rtl"==a.doc.direction?b:jc)(a.display.lineDiv,"CodeMirror-rtl")}function ne(a){Kd(a,function(){Dd(a);Jc(a)})}function of(a){this.done=[];this.undone=[];this.undoDepth=a?a.undoDepth:Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=
this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=a?a.maxGeneration:1}function uf(a,u){var T={from:lb(u.from),to:Xf(u),text:Ua(a,u.from,u.to)};Fh(a,T,u.from.line,u.to.line+1);hc(a,function(Q){return Fh(Q,T,u.from.line,u.to.line+1)},!0);return T}function Wg(a){for(;a.length;)if(I(a).ranges)a.pop();else break}function Vf(a,u,T,Q){var ba=a.history;ba.undone.length=0;var Ha=+new Date,Va;if(Va=ba.lastOp==Q||ba.lastOrigin==u.origin&&u.origin&&("+"==u.origin.charAt(0)&&
ba.lastModTime>Ha-(a.cm?a.cm.options.historyEventDelay:500)||"*"==u.origin.charAt(0))){if(ba.lastOp==Q){Wg(ba.done);var Ya=I(ba.done)}else ba.done.length&&!I(ba.done).ranges?Ya=I(ba.done):1<ba.done.length&&!ba.done[ba.done.length-2].ranges?(ba.done.pop(),Ya=I(ba.done)):Ya=void 0;Va=Ya}if(Va){var wb=I(Ya.changes);0==Ta(u.from,u.to)&&0==Ta(u.from,wb.to)?wb.to=Xf(u):Ya.changes.push(uf(a,u))}else for((Ya=I(ba.done))&&Ya.ranges||Xg(a.sel,ba.done),Ya={changes:[uf(a,u)],generation:ba.generation},ba.done.push(Ya);ba.done.length>
ba.undoDepth;)ba.done.shift(),ba.done[0].ranges||ba.done.shift();ba.done.push(T);ba.generation=++ba.maxGeneration;ba.lastModTime=ba.lastSelTime=Ha;ba.lastOp=ba.lastSelOp=Q;ba.lastOrigin=ba.lastSelOrigin=u.origin;wb||D(a,"historyAdded")}function Xg(a,u){var T=I(u);T&&T.ranges&&T.equals(a)||u.push(a)}function Fh(a,u,T,Q){var ba=u["spans_"+a.id],Ha=0;a.iter(Math.max(a.first,T),Math.min(a.first+a.size,Q),function(Va){Va.markedSpans&&((ba||(ba=u["spans_"+a.id]={}))[Ha]=Va.markedSpans);++Ha})}function qh(a,
u){var T;if(T=u["spans_"+a.id]){for(var Q=[],ba=0;ba<u.text.length;++ba){var Ha=Q,Va=Ha.push;var Ya=void 0;var wb=T[ba];if(wb){for(var Rb=0;Rb<wb.length;++Rb)wb[Rb].marker.explicitlyCleared?Ya||(Ya=wb.slice(0,Rb)):Ya&&Ya.push(wb[Rb]);Ya=Ya?Ya.length?Ya:null:wb}else Ya=null;Va.call(Ha,Ya)}T=Q}else T=null;a=$d(a,u);if(!T)return a;if(!a)return T;for(u=0;u<T.length;++u)if(Q=T[u],ba=a[u],Q&&ba)a:for(Ha=0;Ha<ba.length;++Ha){Va=ba[Ha];for(Ya=0;Ya<Q.length;++Ya)if(Q[Ya].marker==Va.marker)continue a;Q.push(Va)}else ba&&
(T[u]=ba);return T}function wg(a,u,T){for(var Q=[],ba=0;ba<a.length;++ba){var Ha=a[ba];if(Ha.ranges)Q.push(T?Dh.prototype.deepCopy.call(Ha):Ha);else{Ha=Ha.changes;var Va=[];Q.push({changes:Va});for(var Ya=0;Ya<Ha.length;++Ya){var wb=Ha[Ya],Rb;Va.push({from:wb.from,to:wb.to,text:wb.text});if(u)for(var ec in wb)(Rb=ec.match(/^spans_(\d+)$/))&&-1<x(u,Number(Rb[1]))&&(I(Va)[ec]=wb[ec],delete wb[ec])}}}return Q}function Ug(a,u,T,Q){return Q?(a=a.anchor,T&&(Q=0>Ta(u,a),Q!=0>Ta(T,a)?(a=u,u=T):Q!=0>Ta(u,
T)&&(u=T)),new Jf(a,u)):new Jf(T||u,u)}function oh(a,u,T,Q,ba){null==ba&&(ba=a.cm&&(a.cm.display.shift||a.extend));Kg(a,new Dh([Ug(a.sel.primary(),u,T,ba)],0),Q)}function rh(a,u,T){for(var Q=[],ba=a.cm&&(a.cm.display.shift||a.extend),Ha=0;Ha<a.sel.ranges.length;Ha++)Q[Ha]=Ug(a.sel.ranges[Ha],u[Ha],null,ba);u=og(a.cm,Q,a.sel.primIndex);Kg(a,u,T)}function Lh(a,u,T,Q){var ba=a.sel.ranges.slice(0);ba[u]=T;Kg(a,og(a.cm,ba,a.sel.primIndex),Q)}function vh(a,u,T){T={ranges:u.ranges,update:function(Q){this.ranges=
[];for(var ba=0;ba<Q.length;ba++)this.ranges[ba]=new Jf($b(a,Q[ba].anchor),$b(a,Q[ba].head))},origin:T&&T.origin};D(a,"beforeSelectionChange",a,T);a.cm&&D(a.cm,"beforeSelectionChange",a.cm,T);return T.ranges!=u.ranges?og(a.cm,T.ranges,T.ranges.length-1):u}function Eh(a,u,T){var Q=a.history.done,ba=I(Q);ba&&ba.ranges?(Q[Q.length-1]=u,J(a,u,T)):Kg(a,u,T)}function Kg(a,u,T){J(a,u,T);u=a.sel;var Q=a.cm?a.cm.curOp.id:NaN,ba=a.history,Ha=T&&T.origin,Va;if(!(Va=Q==ba.lastSelOp)&&(Va=Ha&&ba.lastSelOrigin==
Ha)&&!(Va=ba.lastModTime==ba.lastSelTime&&ba.lastOrigin==Ha)){Va=I(ba.done);var Ya=Ha.charAt(0);Va="*"==Ya||"+"==Ya&&Va.ranges.length==u.ranges.length&&Va.somethingSelected()==u.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}Va?ba.done[ba.done.length-1]=u:Xg(u,ba.done);ba.lastSelTime=+new Date;ba.lastSelOrigin=Ha;ba.lastSelOp=Q;T&&!1!==T.clearRedo&&Wg(ba.undone)}function J(a,u,T){if(Z(a,"beforeSelectionChange")||a.cm&&Z(a.cm,"beforeSelectionChange"))u=
vh(a,u,T);var Q=T&&T.bias||(0>Ta(u.primary().head,a.sel.primary().head)?-1:1);da(a,db(a,u,Q,!0));T&&!1===T.scroll||!a.cm||"nocursor"==a.cm.getOption("readOnly")||Kb(a.cm)}function da(a,u){u.equals(a.sel)||(a.sel=u,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,N(a.cm)),za(a,"cursorActivity",a))}function La(a){da(a,db(a,a.sel,null,!1))}function db(a,u,T,Q){for(var ba,Ha=0;Ha<u.ranges.length;Ha++){var Va=u.ranges[Ha],Ya=u.ranges.length==a.sel.ranges.length&&a.sel.ranges[Ha],wb=Sb(a,
Va.anchor,Ya&&Ya.anchor,T,Q);Ya=Va.head==Va.anchor?wb:Sb(a,Va.head,Ya&&Ya.head,T,Q);if(ba||wb!=Va.anchor||Ya!=Va.head)ba||(ba=u.ranges.slice(0,Ha)),ba[Ha]=new Jf(wb,Ya)}return ba?og(a.cm,ba,u.primIndex):u}function Db(a,u,T,Q,ba){var Ha=xa(a,u.line);if(Ha.markedSpans)for(var Va=0;Va<Ha.markedSpans.length;++Va){var Ya=Ha.markedSpans[Va],wb=Ya.marker,Rb="selectLeft"in wb?!wb.selectLeft:wb.inclusiveLeft,ec="selectRight"in wb?!wb.selectRight:wb.inclusiveRight;if((null==Ya.from||(Rb?Ya.from<=u.ch:Ya.from<
u.ch))&&(null==Ya.to||(ec?Ya.to>=u.ch:Ya.to>u.ch))){if(ba&&(D(wb,"beforeCursorEnter"),wb.explicitlyCleared))if(Ha.markedSpans){--Va;continue}else break;if(wb.atomic){if(T){Va=wb.find(0>Q?1:-1);Ya=void 0;if(0>Q?ec:Rb)Va=Cc(a,Va,-Q,Va&&Va.line==u.line?Ha:null);if(Va&&Va.line==u.line&&(Ya=Ta(Va,T))&&(0>Q?0>Ya:0<Ya))return Db(a,Va,u,Q,ba)}T=wb.find(0>Q?-1:1);if(0>Q?Rb:ec)T=Cc(a,T,Q,T.line==u.line?Ha:null);return T?Db(a,T,u,Q,ba):null}}}return u}function Sb(a,u,T,Q,ba){Q=Q||1;u=Db(a,u,T,Q,ba)||!ba&&Db(a,
u,T,Q,!0)||Db(a,u,T,-Q,ba)||!ba&&Db(a,u,T,-Q,!0);return u?u:(a.cantEdit=!0,ua(a.first,0))}function Cc(a,u,T,Q){return 0>T&&0==u.ch?u.line>a.first?$b(a,ua(u.line-1)):null:0<T&&u.ch==(Q||xa(a,u.line)).text.length?u.line<a.first+a.size-1?ua(u.line+1,0):null:new ua(u.line,u.ch+T)}function Zc(a){a.setSelection(ua(a.firstLine(),0),ua(a.lastLine()),kd)}function Xc(a,u,T){var Q={canceled:!1,from:u.from,to:u.to,text:u.text,origin:u.origin,cancel:function(){return Q.canceled=!0}};T&&(Q.update=function(ba,Ha,
Va,Ya){ba&&(Q.from=$b(a,ba));Ha&&(Q.to=$b(a,Ha));Va&&(Q.text=Va);void 0!==Ya&&(Q.origin=Ya)});D(a,"beforeChange",a,Q);a.cm&&D(a.cm,"beforeChange",a.cm,Q);return Q.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:Q.from,to:Q.to,text:Q.text,origin:Q.origin}}function td(a,u,T){if(a.cm){if(!a.cm.curOp)return ee(a.cm,td)(a,u,T);if(a.cm.state.suppressEdits)return}if(Z(a,"beforeChange")||a.cm&&Z(a.cm,"beforeChange"))if(u=Xc(a,u,!0),!u)return;if(T=Nj&&!T&&va(a,u.from,u.to))for(var Q=T.length-1;0<=Q;--Q)ae(a,
{from:T[Q].from,to:T[Q].to,text:Q?[""]:u.text,origin:u.origin});else ae(a,u)}function ae(a,u){if(1!=u.text.length||""!=u.text[0]||0!=Ta(u.from,u.to)){var T=bh(a,u);Vf(a,u,T,a.cm?a.cm.curOp.id:NaN);zf(a,u,T,$d(a,u));var Q=[];hc(a,function(ba,Ha){Ha||-1!=x(Q,ba.history)||(jh(ba.history,u),Q.push(ba.history));zf(ba,u,null,$d(ba,u))})}}function we(a,u,T){var Q=a.cm&&a.cm.state.suppressEdits;if(!Q||T){for(var ba=a.history,Ha,Va=a.sel,Ya="undo"==u?ba.done:ba.undone,wb="undo"==u?ba.undone:ba.done,Rb=0;Rb<
Ya.length&&(Ha=Ya[Rb],T?!Ha.ranges||Ha.equals(a.sel):Ha.ranges);Rb++);if(Rb!=Ya.length){for(ba.lastOrigin=ba.lastSelOrigin=null;;)if(Ha=Ya.pop(),Ha.ranges){Xg(Ha,wb);if(T&&!Ha.equals(a.sel)){Kg(a,Ha,{clearRedo:!1});return}Va=Ha}else{if(Q){Ya.push(Ha);return}break}var ec=[];Xg(Va,wb);wb.push({changes:ec,generation:ba.generation});ba.generation=Ha.generation||++ba.maxGeneration;var Mc=Z(a,"beforeChange")||a.cm&&Z(a.cm,"beforeChange");T=function(Wc){var ad=Ha.changes[Wc];ad.origin=u;if(Mc&&!Xc(a,ad,
!1))return Ya.length=0,{};ec.push(uf(a,ad));var Wd=Wc?bh(a,ad):I(Ya);zf(a,ad,Wd,qh(a,ad));!Wc&&a.cm&&a.cm.scrollIntoView({from:ad.from,to:Xf(ad)});var Ee=[];hc(a,function(wf,zg){zg||-1!=x(Ee,wf.history)||(jh(wf.history,ad),Ee.push(wf.history));zf(wf,ad,null,qh(wf,ad))})};for(Q=Ha.changes.length-1;0<=Q;--Q)if(ba=T(Q))return ba.v}}}function bf(a,u){if(0!=u&&(a.first+=u,a.sel=new Dh(F(a.sel.ranges,function(ba){return new Jf(ua(ba.anchor.line+u,ba.anchor.ch),ua(ba.head.line+u,ba.head.ch))}),a.sel.primIndex),
a.cm)){Jc(a.cm,a.first,a.first-u,u);for(var T=a.cm.display,Q=T.viewFrom;Q<T.viewTo;Q++)pd(a.cm,Q,"gutter")}}function zf(a,u,T,Q){if(a.cm&&!a.cm.curOp)return ee(a.cm,zf)(a,u,T,Q);if(u.to.line<a.first)bf(a,u.text.length-1-(u.to.line-u.from.line));else if(!(u.from.line>a.lastLine())){if(u.from.line<a.first){var ba=u.text.length-1-(a.first-u.from.line);bf(a,ba);u={from:ua(a.first,0),to:ua(u.to.line+ba,u.to.ch),text:[I(u.text)],origin:u.origin}}ba=a.lastLine();u.to.line>ba&&(u={from:u.from,to:ua(ba,xa(a,
ba).text.length),text:[u.text[0]],origin:u.origin});u.removed=Ua(a,u.from,u.to);T||(T=bh(a,u));a.cm?Mf(a.cm,u,Q):Cb(a,u,Q);J(a,T,kd);a.cantEdit&&Sb(a,ua(a.firstLine(),0))&&(a.cantEdit=!1)}}function Mf(a,u,T){var Q=a.doc,ba=a.display,Ha=u.from,Va=u.to,Ya=!1,wb=Ha.line;a.options.lineWrapping||(wb=Oa(Tb(xa(Q,Ha.line))),Q.iter(wb,Va.line+1,function(Rb){if(Rb==ba.maxLine)return Ya=!0}));-1<Q.sel.contains(u.from,u.to)&&N(a);Cb(Q,u,T,Ib(a));a.options.lineWrapping||(Q.iter(wb,Ha.line+u.text.length,function(Rb){var ec=
xd(Rb);ec>ba.maxLineLength&&(ba.maxLine=Rb,ba.maxLineLength=ec,ba.maxLineChanged=!0,Ya=!1)}),Ya&&(a.curOp.updateMaxLine=!0));Fc(Q,Ha.line);Te(a,400);T=u.text.length-(Va.line-Ha.line)-1;u.full?Jc(a):Ha.line!=Va.line||1!=u.text.length||Wa(a.doc,u)?Jc(a,Ha.line,Va.line+1,T):pd(a,Ha.line,"text");T=Z(a,"changes");if((Q=Z(a,"change"))||T)u={from:Ha,to:Va,text:u.text,removed:u.removed,origin:u.origin},Q&&za(a,"change",a,u),T&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(u);a.display.selForContextMenu=
null}function Oe(a,u,T,Q,ba){Q||(Q=T);0>Ta(Q,T)&&(Q=[Q,T],T=Q[0],Q=Q[1]);"string"==typeof u&&(u=a.splitLines(u));td(a,{from:T,to:Q,text:u,origin:ba})}function Qf(a,u,T,Q){T<a.line?a.line+=Q:u<a.line&&(a.line=u,a.ch=0)}function qg(a,u,T,Q){for(var ba=0;ba<a.length;++ba){var Ha=a[ba],Va=!0;if(Ha.ranges)for(Ha.copied||(Ha=a[ba]=Ha.deepCopy(),Ha.copied=!0),Va=0;Va<Ha.ranges.length;Va++)Qf(Ha.ranges[Va].anchor,u,T,Q),Qf(Ha.ranges[Va].head,u,T,Q);else{for(var Ya=0;Ya<Ha.changes.length;++Ya){var wb=Ha.changes[Ya];
if(T<wb.from.line)wb.from=ua(wb.from.line+Q,wb.from.ch),wb.to=ua(wb.to.line+Q,wb.to.ch);else if(u<=wb.to.line){Va=!1;break}}Va||(a.splice(0,ba+1),ba=0)}}}function jh(a,u){var T=u.from.line,Q=u.to.line;u=u.text.length-(Q-T)-1;qg(a.done,T,Q,u);qg(a.undone,T,Q,u)}function ch(a,u,T,Q){var ba=u,Ha=u;"number"==typeof u?Ha=xa(a,Math.max(a.first,Math.min(u,a.first+a.size-1))):ba=Oa(u);if(null==ba)return null;Q(Ha,ba)&&a.cm&&pd(a.cm,ba,T);return Ha}function dg(a){this.lines=a;this.parent=null;for(var u=0,
T=0;T<a.length;++T)a[T].parent=this,u+=a[T].height;this.height=u}function Bf(a){this.children=a;for(var u=0,T=0,Q=0;Q<a.length;++Q){var ba=a[Q];u+=ba.chunkSize();T+=ba.height;ba.parent=this}this.size=u;this.height=T;this.parent=null}function jg(a,u,T,Q){var ba=new Fi(a,T,Q),Ha=a.cm;Ha&&ba.noHScroll&&(Ha.display.alignWidgets=!0);ch(a,u,"widget",function(Va){var Ya=Va.widgets||(Va.widgets=[]);null==ba.insertAt?Ya.push(ba):Ya.splice(Math.min(Ya.length,Math.max(0,ba.insertAt)),0,ba);ba.line=Va;Ha&&!$c(a,
Va)&&(Ya=nd(Va)<a.scrollTop,sa(Va,Va.height+rd(ba)),Ya&&Fb(Ha,ba.height),Ha.curOp.forceUpdate=!0);return!0});Ha&&za(Ha,"lineWidgetAdded",Ha,ba,"number"==typeof u?u:Oa(u));return ba}function bg(a,u,T,Q,ba){if(Q&&Q.shared)return rg(a,u,T,Q,ba);if(a.cm&&!a.cm.curOp)return ee(a.cm,bg)(a,u,T,Q,ba);var Ha=new vi(a,ba);ba=Ta(u,T);Q&&m(Q,Ha,!1);if(0<ba||0==ba&&!1!==Ha.clearWhenEmpty)return Ha;Ha.replacedWith&&(Ha.collapsed=!0,Ha.widgetNode=t("span",[Ha.replacedWith],"CodeMirror-widget"),Q.handleMouseEvents||
Ha.widgetNode.setAttribute("cm-ignore-events","true"),Q.insertLeft&&(Ha.widgetNode.insertLeft=!0));if(Ha.collapsed){if(Ub(a,u.line,u,T,Ha)||u.line!=T.line&&Ub(a,T.line,u,T,Ha))throw Error("Inserting collapsed marker partially overlapping an existing one");zi=!0}Ha.addToHistory&&Vf(a,{from:u,to:T,origin:"markText"},a.sel,NaN);var Va=u.line,Ya=a.cm,wb;a.iter(Va,T.line+1,function(Rb){Ya&&Ha.collapsed&&!Ya.options.lineWrapping&&Tb(Rb)==Ya.display.maxLine&&(wb=!0);Ha.collapsed&&Va!=u.line&&sa(Rb,0);var ec=
new Sc(Ha,Va==u.line?u.ch:null,Va==T.line?T.ch:null),Mc=a.cm&&a.cm.curOp;(Mc=Mc&&window.WeakSet&&(Mc.markedSpans||(Mc.markedSpans=new WeakSet)))&&Rb.markedSpans&&Mc.has(Rb.markedSpans)?Rb.markedSpans.push(ec):(Rb.markedSpans=Rb.markedSpans?Rb.markedSpans.concat([ec]):[ec],Mc&&Mc.add(Rb.markedSpans));ec.marker.attachLine(Rb);++Va});Ha.collapsed&&a.iter(u.line,T.line+1,function(Rb){$c(a,Rb)&&sa(Rb,0)});Ha.clearOnEnter&&$e(Ha,"beforeCursorEnter",function(){return Ha.clear()});Ha.readOnly&&(Nj=!0,(a.history.done.length||
a.history.undone.length)&&a.clearHistory());Ha.collapsed&&(Ha.id=++hk,Ha.atomic=!0);if(Ya){wb&&(Ya.curOp.updateMaxLine=!0);if(Ha.collapsed)Jc(Ya,u.line,T.line+1);else if(Ha.className||Ha.startStyle||Ha.endStyle||Ha.css||Ha.attributes||Ha.title)for(Q=u.line;Q<=T.line;Q++)pd(Ya,Q,"text");Ha.atomic&&La(Ya.doc);za(Ya,"markerAdded",Ya,Ha)}return Ha}function rg(a,u,T,Q,ba){Q=m(Q);Q.shared=!1;var Ha=[bg(a,u,T,Q,ba)],Va=Ha[0],Ya=Q.widgetNode;hc(a,function(wb){Ya&&(Q.widgetNode=Ya.cloneNode(!0));Ha.push(bg(wb,
$b(wb,u),$b(wb,T),Q,ba));for(var Rb=0;Rb<wb.linked.length;++Rb)if(wb.linked[Rb].isParent)return;Va=I(Ha)});return new gj(Ha,Va)}function wh(a){return a.findMarks(ua(a.first,0),a.clipPos(ua(a.lastLine())),function(u){return u.parent})}function Og(a){for(var u=function(Q){Q=a[Q];var ba=[Q.primary.doc];hc(Q.primary.doc,function(Ya){return ba.push(Ya)});for(var Ha=0;Ha<Q.markers.length;Ha++){var Va=Q.markers[Ha];-1==x(ba,Va.doc)&&(Va.parent=null,Q.markers.splice(Ha--,1))}},T=0;T<a.length;T++)u(T)}function zh(a){var u=
this;ri(u);if(!B(u,a)&&!Hd(u.display,a)){qa(a);Zf&&(yj=+new Date);var T=kc(u,a,!0),Q=a.dataTransfer.files;if(T&&!u.isReadOnly())if(Q&&Q.length&&window.FileReader&&window.File)for(var ba=Q.length,Ha=Array(ba),Va=0,Ya=function(){++Va==ba&&ee(u,function(){T=$b(u.doc,T);var ec={from:T,to:T,text:u.doc.splitLines(Ha.filter(function(Mc){return null!=Mc}).join(u.doc.lineSeparator())),origin:"paste"};td(u.doc,ec);Eh(u.doc,Uf($b(u.doc,T),$b(u.doc,Xf(ec))))})()},wb=function(ec,Mc){if(u.options.allowDropFileTypes&&
-1==x(u.options.allowDropFileTypes,ec.type))Ya();else{var Wc=new FileReader;Wc.onerror=function(){return Ya()};Wc.onload=function(){var ad=Wc.result;/[\x00-\x08\x0e-\x1f]{2}/.test(ad)||(Ha[Mc]=ad);Ya()};Wc.readAsText(ec)}},Rb=0;Rb<Q.length;Rb++)wb(Q[Rb],Rb);else if(u.state.draggingText&&-1<u.doc.sel.contains(T))u.state.draggingText(a),setTimeout(function(){return u.display.input.focus()},20);else try{if(wb=a.dataTransfer.getData("Text")){u.state.draggingText&&!u.state.draggingText.copy&&(Rb=u.listSelections());
J(u.doc,Uf(T,T));if(Rb)for(Q=0;Q<Rb.length;++Q)Oe(u.doc,"",Rb[Q].anchor,Rb[Q].head,"drag");u.replaceSelection(wb,"around","paste");u.display.input.focus()}}catch(ec){}}}function ri(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function Zh(a){if(document.getElementsByClassName){for(var u=document.getElementsByClassName("CodeMirror"),T=[],Q=0;Q<u.length;Q++){var ba=u[Q].CodeMirror;ba&&T.push(ba)}T.length&&T[0].operation(function(){for(var Ha=
0;Ha<T.length;Ha++)a(T[Ha])})}}function $h(){var a;$e(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null;Zh(ef)},100))});$e(window,"blur",function(){return Zh(Pb)})}function ef(a){var u=a.display;u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null;u.scrollbarsClipped=!1;a.setSize()}function Ch(a){var u=a.split(/-(?!$)/);a=u[u.length-1];for(var T,Q,ba,Ha,Va=0;Va<u.length-1;Va++){var Ya=u[Va];if(/^(cmd|meta|m)$/i.test(Ya))Ha=!0;else if(/^a(lt)?$/i.test(Ya))T=!0;else if(/^(c|ctrl|control)$/i.test(Ya))Q=
!0;else if(/^s(hift)?$/i.test(Ya))ba=!0;else throw Error("Unrecognized modifier name: "+Ya);}T&&(a="Alt-"+a);Q&&(a="Ctrl-"+a);Ha&&(a="Cmd-"+a);ba&&(a="Shift-"+a);return a}function hf(a){var u={},T;for(T in a)if(a.hasOwnProperty(T)){var Q=a[T];if(!/^(name|fallthrough|(de|at)tach)$/.test(T)){if("..."!=Q)for(var ba=F(T.split(" "),Ch),Ha=0;Ha<ba.length;Ha++){if(Ha==ba.length-1){var Va=ba.join(" ");var Ya=Q}else Va=ba.slice(0,Ha+1).join(" "),Ya="...";var wb=u[Va];if(!wb)u[Va]=Ya;else if(wb!=Ya)throw Error("Inconsistent bindings for "+
Va);}delete a[T]}}for(var Rb in u)a[Rb]=u[Rb];return a}function jf(a,u,T,Q){u=ai(u);var ba=u.call?u.call(a,Q):u[a];if(!1===ba)return"nothing";if("..."===ba)return"multi";if(null!=ba&&T(ba))return"handled";if(u.fallthrough){if("[object Array]"!=Object.prototype.toString.call(u.fallthrough))return jf(a,u.fallthrough,T,Q);for(ba=0;ba<u.fallthrough.length;ba++){var Ha=jf(a,u.fallthrough[ba],T,Q);if(Ha)return Ha}}}function Pg(a){a="string"==typeof a?a:Hi[a.keyCode];return"Ctrl"==a||"Alt"==a||"Shift"==
a||"Mod"==a}function Nh(a,u,T){var Q=a;u.altKey&&"Alt"!=Q&&(a="Alt-"+a);(Zb?u.metaKey:u.ctrlKey)&&"Ctrl"!=Q&&(a="Ctrl-"+a);(Zb?u.ctrlKey:u.metaKey)&&"Mod"!=Q&&(a="Cmd-"+a);!T&&u.shiftKey&&"Shift"!=Q&&(a="Shift-"+a);return a}function Yh(a,u){if(Oh&&34==a.keyCode&&a["char"])return!1;var T=Hi[a.keyCode];if(null==T||a.altGraphKey)return!1;3==a.keyCode&&a.code&&(T=a.code);return Nh(T,a,u)}function ai(a){return"string"==typeof a?Qi[a]:a}function dh(a,u){for(var T=a.doc.sel.ranges,Q=[],ba=0;ba<T.length;ba++){for(var Ha=
u(T[ba]);Q.length&&0>=Ta(Ha.from,I(Q).to);){var Va=Q.pop();if(0>Ta(Va.from,Ha.from)){Ha.from=Va.from;break}}Q.push(Ha)}Kd(a,function(){for(var Ya=Q.length-1;0<=Ya;Ya--)Oe(a.doc,"",Q[Ya].from,Q[Ya].to,"+delete");Kb(a)})}function ue(a,u,T){u=M(a.text,u+T,T);return 0>u||u>a.text.length?null:u}function Je(a,u,T){a=ue(a,u.ch,T);return null==a?null:new ua(u.line,a,0>T?"after":"before")}function Df(a,u,T,Q,ba){if(a&&("rtl"==u.doc.direction&&(ba=-ba),a=Ga(T,u.doc.direction))){a=0>ba?I(a):a[0];var Ha=0>ba==
(1==a.level)?"after":"before";if(0<a.level||"rtl"==u.doc.direction){var Va=Re(u,T);var Ya=0>ba?T.text.length-1:0;var wb=af(u,Va,Ya).top;Ya=aa(function(Rb){return af(u,Va,Rb).top==wb},0>ba==(1==a.level)?a.from:a.to-1,Ya);"before"==Ha&&(Ya=ue(T,Ya,1))}else Ya=0>ba?a.to:a.from;return new ua(Q,Ya,Ha)}return new ua(Q,0>ba?T.text.length:0,0>ba?"before":"after")}function Pe(a,u,T,Q){var ba=Ga(u,a.doc.direction);if(!ba)return Je(u,T,Q);T.ch>=u.text.length?(T.ch=u.text.length,T.sticky="before"):0>=T.ch&&(T.ch=
0,T.sticky="after");var Ha=ea(ba,T.ch,T.sticky),Va=ba[Ha];if("ltr"==a.doc.direction&&0==Va.level%2&&(0<Q?Va.to>T.ch:Va.from<T.ch))return Je(u,T,Q);var Ya=function(ad,Wd){return ue(u,ad instanceof ua?ad.ch:ad,Wd)},wb,Rb=function(ad){if(!a.options.lineWrapping)return{begin:0,end:u.text.length};wb=wb||Re(a,u);return Rd(a,u,wb,ad)},ec=Rb("before"==T.sticky?Ya(T,-1):T.ch);if("rtl"==a.doc.direction||1==Va.level){var Mc=1==Va.level==0>Q,Wc=Ya(T,Mc?1:-1);if(null!=Wc&&(Mc?Wc<=Va.to&&Wc<=ec.end:Wc>=Va.from&&
Wc>=ec.begin))return new ua(T.line,Wc,Mc?"before":"after")}Va=function(ad,Wd,Ee){for(var wf=function(cg,Mg){return Mg?new ua(T.line,Ya(cg,1),"before"):new ua(T.line,cg,"after")};0<=ad&&ad<ba.length;ad+=Wd){var zg=ba[ad],lf=0<Wd==(1!=zg.level),Gg=lf?Ee.begin:Ya(Ee.end,-1);if(zg.from<=Gg&&Gg<zg.to)return wf(Gg,lf);Gg=lf?zg.from:Ya(zg.to,-1);if(Ee.begin<=Gg&&Gg<Ee.end)return wf(Gg,lf)}};if(Ha=Va(Ha+Q,Q,ec))return Ha;ec=0<Q?ec.end:Ya(ec.begin,-1);return null==ec||0<Q&&ec==u.text.length||!(Ha=Va(0<Q?0:
ba.length-1,Q,Rb(ec)))?null:Ha}function eg(a,u){var T=xa(a.doc,u),Q=Tb(T);Q!=T&&(u=Oa(Q));return Df(!0,a,Q,u,1)}function fg(a,u){var T=eg(a,u.line),Q=xa(a.doc,T.line);a=Ga(Q,a.doc.direction);return a&&0!=a[0].level?T:(Q=Math.max(T.ch,Q.text.search(/\S/)),ua(T.line,u.line==T.line&&u.ch<=Q&&u.ch?0:Q,T.sticky))}function ff(a,u,T){if("string"==typeof u&&(u=wj[u],!u))return!1;a.display.input.ensurePolled();var Q=a.display.shift,ba=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),T&&(a.display.shift=!1),
ba=u(a)!=be}finally{a.display.shift=Q,a.state.suppressEdits=!1}return ba}function Da(a,u,T,Q){var ba=a.state.keySeq;if(ba){if(Pg(u))return"handled";/'$/.test(u)?a.state.keySeq=null:yk.set(50,function(){a.state.keySeq==ba&&(a.state.keySeq=null,a.display.input.reset())});if(ab(a,ba+" "+u,T,Q))return!0}return ab(a,u,T,Q)}function ab(a,u,T,Q){a:{for(var ba=0;ba<a.state.keyMaps.length;ba++){var Ha=jf(u,a.state.keyMaps[ba],Q,a);if(Ha){Q=Ha;break a}}Q=a.options.extraKeys&&jf(u,a.options.extraKeys,Q,a)||
jf(u,a.options.keyMap,Q,a)}"multi"==Q&&(a.state.keySeq=u);"handled"==Q&&za(a,"keyHandled",a,u,T);if("handled"==Q||"multi"==Q)qa(T),Lc(a);return!!Q}function xb(a,u){var T=Yh(u,!0);return T?u.shiftKey&&!a.state.keySeq?Da(a,"Shift-"+T,u,function(Q){return ff(a,Q,!0)})||Da(a,T,u,function(Q){if("string"==typeof Q?/^go[A-Z]/.test(Q):Q.motion)return ff(a,Q)}):Da(a,T,u,function(Q){return ff(a,Q)}):!1}function Lb(a,u,T){return Da(a,"'"+T+"'",u,function(Q){return ff(a,Q,!0)})}function pc(a){if(!a.target||a.target==
this.display.input.getField())if(this.curOp.focus=f(e(this)),!B(this,a)){Zf&&11>yg&&27==a.keyCode&&(a.returnValue=!1);var u=a.keyCode;this.display.shift=16==u||a.shiftKey;var T=xb(this,a);Oh&&(ck=T?u:null,!T&&88==u&&!ve&&(ia?a.metaKey:a.ctrlKey)&&this.replaceSelection("",null,"cut"));xh&&!ia&&!T&&46==u&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut");18!=u||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||sc(this)}}function sc(a){function u(Q){18!=Q.keyCode&&
Q.altKey||(jc(T,"CodeMirror-crosshair"),X(document,"keyup",u),X(document,"mouseover",u))}var T=a.display.lineDiv;b(T,"CodeMirror-crosshair");$e(document,"keyup",u);$e(document,"mouseover",u)}function Vc(a){16==a.keyCode&&(this.doc.sel.shift=!1);B(this,a)}function pa(a){if(!(a.target&&a.target!=this.display.input.getField()||Hd(this.display,a)||B(this,a)||a.ctrlKey&&!a.altKey||ia&&a.metaKey)){var u=a.keyCode,T=a.charCode;if(Oh&&u==ck)ck=null,qa(a);else if(!Oh||a.which&&!(10>a.which)||!xb(this,a))if(u=
String.fromCharCode(null==T?u:T),"\b"!=u&&!Lb(this,a,u))this.display.input.onKeyPress(a)}}function Qa(a,u){var T=+new Date;if(Gj&&Gj.compare(T,a,u))return Fj=Gj=null,"triple";if(Fj&&Fj.compare(T,a,u))return Gj=new Pj(T,a,u),Fj=null,"double";Fj=new Pj(T,a,u);Gj=null;return"single"}function mb(a){var u=this.display;if(!(B(this,a)||u.activeTouch&&u.input.supportsTouch()))if(u.input.ensurePolled(),u.shift=a.shiftKey,Hd(u,a))Zg||(u.scroller.draggable=!1,setTimeout(function(){return u.scroller.draggable=
!0},100));else if(!Sd(this,a,"gutterClick",!0)){var T=kc(this,a),Q=ib(a),ba=T?Qa(T,Q):"single";e(this).defaultView.focus();1==Q&&this.state.selectingText&&this.state.selectingText(a);if(!T||!pb(this,Q,T,ba,a))if(1==Q)T?gc(this,T,ba,a):(a.target||a.srcElement)==u.scroller&&qa(a);else if(2==Q)T&&oh(this.doc,T),setTimeout(function(){return u.input.focus()},20);else if(3==Q)if(ac)this.display.input.onContextMenu(a);else kb(this)}}function pb(a,u,T,Q,ba){var Ha="Click";"double"==Q?Ha="Double"+Ha:"triple"==
Q&&(Ha="Triple"+Ha);return Da(a,Nh((1==u?"Left":2==u?"Middle":"Right")+Ha,ba),ba,function(Va){"string"==typeof Va&&(Va=wj[Va]);if(!Va)return!1;var Ya=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),Ya=Va(a,T)!=be}finally{a.state.suppressEdits=!1}return Ya})}function gc(a,u,T,Q){Zf?setTimeout(g(ud,a),0):a.curOp.focus=f(e(a));var ba=a.getOption("configureMouse");ba=ba?ba(a,T,Q):{};null==ba.unit&&(ba.unit=(Na?Q.shiftKey&&Q.metaKey:Q.altKey)?"rectangle":"single"==T?"char":"double"==T?"word":"line");
if(null==ba.extend||a.doc.extend)ba.extend=a.doc.extend||Q.shiftKey;null==ba.addNew&&(ba.addNew=ia?Q.metaKey:Q.ctrlKey);null==ba.moveOnDrag&&(ba.moveOnDrag=!(ia?Q.altKey:Q.ctrlKey));var Ha=a.doc.sel,Va;a.options.dragDrop&&gh&&!a.isReadOnly()&&"single"==T&&-1<(Va=Ha.contains(u))&&(0>Ta((Va=Ha.ranges[Va]).from(),u)||0<u.xRel)&&(0<Ta(Va.to(),u)||0>u.xRel)?Qc(a,Q,u,ba):Bd(a,Q,u,ba)}function Qc(a,u,T,Q){var ba=a.display,Ha=!1,Va=ee(a,function(Rb){Zg&&(ba.scroller.draggable=!1);a.state.draggingText=!1;
a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:kb(a));X(ba.wrapper.ownerDocument,"mouseup",Va);X(ba.wrapper.ownerDocument,"mousemove",Ya);X(ba.scroller,"dragstart",wb);X(ba.scroller,"drop",Va);Ha||(qa(Rb),Q.addNew||oh(a.doc,T,null,null,Q.extend),Zg&&!ti||Zf&&9==yg?setTimeout(function(){ba.wrapper.ownerDocument.body.focus({preventScroll:!0});ba.input.focus()},20):ba.input.focus())}),Ya=function(Rb){Ha=Ha||10<=Math.abs(u.clientX-Rb.clientX)+Math.abs(u.clientY-Rb.clientY)},wb=
function(){return Ha=!0};Zg&&(ba.scroller.draggable=!0);a.state.draggingText=Va;Va.copy=!Q.moveOnDrag;$e(ba.wrapper.ownerDocument,"mouseup",Va);$e(ba.wrapper.ownerDocument,"mousemove",Ya);$e(ba.scroller,"dragstart",wb);$e(ba.scroller,"drop",Va);a.state.delayingBlurEvent=!0;setTimeout(function(){return ba.input.focus()},20);ba.scroller.dragDrop&&ba.scroller.dragDrop()}function Yc(a,u,T){if("char"==T)return new Jf(u,u);if("word"==T)return a.findWordAt(u);if("line"==T)return new Jf(ua(u.line,0),$b(a.doc,
ua(u.line+1,0)));a=T(a,u);return new Jf(a.from,a.to)}function Bd(a,u,T,Q){function ba(lf){if(0!=Ta(ad,lf))if(ad=lf,"rectangle"==Q.unit){var Gg=[],cg=a.options.tabSize,Mg=h(xa(wb,T.line).text,T.ch,cg),tg=h(xa(wb,lf.line).text,lf.ch,cg),Of=Math.min(Mg,tg);Mg=Math.max(Mg,tg);tg=Math.min(T.line,lf.line);for(var Vg=Math.min(a.lastLine(),Math.max(T.line,lf.line));tg<=Vg;tg++){var hg=xa(wb,tg).text,pg=O(hg,Of,cg);Of==Mg?Gg.push(new Jf(ua(tg,pg),ua(tg,pg))):hg.length>pg&&Gg.push(new Jf(ua(tg,pg),ua(tg,O(hg,
Mg,cg))))}Gg.length||Gg.push(new Jf(T,T));Kg(wb,og(a,Rb.ranges.slice(0,Mc).concat(Gg),Mc),{origin:"*mouse",scroll:!1});a.scrollIntoView(lf)}else Gg=Wc,Of=Yc(a,lf,Q.unit),lf=Gg.anchor,0<Ta(Of.anchor,lf)?(cg=Of.head,lf=Mb(Gg.from(),Of.anchor)):(cg=Of.anchor,lf=nb(Gg.to(),Of.head)),Gg=Rb.ranges.slice(0),Gg[Mc]=Tc(a,new Jf($b(wb,lf),cg)),Kg(wb,og(a,Gg,Mc),oe)}function Ha(lf){var Gg=++Ee,cg=kc(a,lf,!0,"rectangle"==Q.unit);if(cg)if(0!=Ta(cg,ad)){a.curOp.focus=f(e(a));ba(cg);var Mg=Ia(Ya,wb);(cg.line>=Mg.to||
cg.line<Mg.from)&&setTimeout(ee(a,function(){Ee==Gg&&Ha(lf)}),150)}else{var tg=lf.clientY<Wd.top?-20:lf.clientY>Wd.bottom?20:0;tg&&setTimeout(ee(a,function(){Ee==Gg&&(Ya.scroller.scrollTop+=tg,Ha(lf))}),50)}}function Va(lf){a.state.selectingText=!1;Ee=Infinity;lf&&(qa(lf),Ya.input.focus());X(Ya.wrapper.ownerDocument,"mousemove",wf);X(Ya.wrapper.ownerDocument,"mouseup",zg);wb.history.lastSelOrigin=null}Zf&&kb(a);var Ya=a.display,wb=a.doc;qa(u);var Rb=wb.sel,ec=Rb.ranges;if(Q.addNew&&!Q.extend){var Mc=
wb.sel.contains(T);var Wc=-1<Mc?ec[Mc]:new Jf(T,T)}else Wc=wb.sel.primary(),Mc=wb.sel.primIndex;"rectangle"==Q.unit?(Q.addNew||(Wc=new Jf(T,T)),T=kc(a,u,!0,!0),Mc=-1):(u=Yc(a,T,Q.unit),Wc=Q.extend?Ug(Wc,u.anchor,u.head,Q.extend):u);Q.addNew?-1==Mc?(Mc=ec.length,Kg(wb,og(a,ec.concat([Wc]),Mc),{scroll:!1,origin:"*mouse"})):1<ec.length&&ec[Mc].empty()&&"char"==Q.unit&&!Q.extend?(Kg(wb,og(a,ec.slice(0,Mc).concat(ec.slice(Mc+1)),0),{scroll:!1,origin:"*mouse"}),Rb=wb.sel):Lh(wb,Mc,Wc,oe):(Mc=0,Kg(wb,new Dh([Wc],
0),oe),Rb=wb.sel);var ad=T,Wd=Ya.wrapper.getBoundingClientRect(),Ee=0,wf=ee(a,function(lf){0!==lf.buttons&&ib(lf)?Ha(lf):Va(lf)}),zg=ee(a,Va);a.state.selectingText=zg;$e(Ya.wrapper.ownerDocument,"mousemove",wf);$e(Ya.wrapper.ownerDocument,"mouseup",zg)}function Tc(a,u){var T=u.anchor,Q=u.head,ba=xa(a.doc,T.line);if(0==Ta(T,Q)&&T.sticky==Q.sticky)return u;ba=Ga(ba);if(!ba)return u;var Ha=ea(ba,T.ch,T.sticky),Va=ba[Ha];if(Va.from!=T.ch&&Va.to!=T.ch)return u;var Ya=Ha+(Va.from==T.ch==(1!=Va.level)?0:
1);if(0==Ya||Ya==ba.length)return u;Q.line!=T.line?a=0<(Q.line-T.line)*("ltr"==a.doc.direction?1:-1):(a=ea(ba,Q.ch,Q.sticky),Ha=a-Ha||(Q.ch-T.ch)*(1==Va.level?-1:1),a=a==Ya-1||a==Ya?0>Ha:0<Ha);ba=ba[Ya+(a?-1:0)];ba=(Ya=a==(1==ba.level))?ba.from:ba.to;Ya=Ya?"after":"before";return T.ch==ba&&T.sticky==Ya?u:new Jf(new ua(T.line,ba,Ya),Q)}function Sd(a,u,T,Q){if(u.touches){var ba=u.touches[0].clientX;var Ha=u.touches[0].clientY}else try{ba=u.clientX,Ha=u.clientY}catch(wb){return!1}if(ba>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;
Q&&qa(u);Q=a.display;var Va=Q.lineDiv.getBoundingClientRect();if(Ha>Va.bottom||!Z(a,T))return Ja(u);Ha-=Va.top-Q.viewOffset;for(Va=0;Va<a.display.gutterSpecs.length;++Va){var Ya=Q.gutters.childNodes[Va];if(Ya&&Ya.getBoundingClientRect().right>=ba)return ba=ja(a.doc,Ha),D(a,T,a,ba,a.display.gutterSpecs[Va].className,u),Ja(u)}}function Td(a,u){var T;(T=Hd(a.display,u))||(T=Z(a,"gutterContextMenu")?Sd(a,u,"gutterContextMenu",!1):!1);if(!T&&!B(a,u,"contextmenu")&&!ac)a.display.input.onContextMenu(u)}
function De(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-");Ad(a)}function tf(a,u,T){!u!=!(T&&T!=dj)&&(T=a.display.dragFunctions,u=u?$e:X,u(a.display.scroller,"dragstart",T.start),u(a.display.scroller,"dragenter",T.enter),u(a.display.scroller,"dragover",T.over),u(a.display.scroller,"dragleave",T.leave),u(a.display.scroller,"drop",T.drop))}function Ze(a){a.options.lineWrapping?(b(a.display.wrapper,"CodeMirror-wrap"),
a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(jc(a.display.wrapper,"CodeMirror-wrap"),Nd(a));Yb(a);Jc(a);Ad(a);setTimeout(function(){return Be(a)},100)}function df(a,u){var T=this;if(!(this instanceof df))return new df(a,u);this.options=u=u?m(u):{};m(tk,u,!1);var Q=u.value;"string"==typeof Q?Q=new ph(Q,u.mode,null,u.lineSeparator,u.direction):u.mode&&(Q.modeOption=u.mode);this.doc=Q;var ba=new df.inputStyles[u.inputStyle](this);a=this.display=new Sg(a,Q,ba,u);a.wrapper.CodeMirror=
this;De(this);u.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Ae(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ld,keySeq:null,specialChars:null};u.autofocus&&!Oi&&a.input.focus();Zf&&11>yg&&setTimeout(function(){return T.display.input.reset(!0)},20);Bg(this);Ik||($h(),Ik=!0);Zd(this);this.curOp.forceUpdate=!0;yd(this,Q);u.autofocus&&
!Oi||this.hasFocus()?setTimeout(function(){T.hasFocus()&&!T.state.focused&&Gb(T)},20):Pb(this);for(var Ha in Mj)if(Mj.hasOwnProperty(Ha))Mj[Ha](this,u[Ha],dj);Gf(this);u.finishInit&&u.finishInit(this);for(Q=0;Q<dk.length;++Q)dk[Q](this);vd(this);Zg&&u.lineWrapping&&"optimizelegibility"==getComputedStyle(a.lineDiv).textRendering&&(a.lineDiv.style.textRendering="auto")}function Bg(a){function u(){Q.activeTouch&&(ba=setTimeout(function(){return Q.activeTouch=null},1E3),Ha=Q.activeTouch,Ha.end=+new Date)}
function T(Ya,wb){if(null==wb.left)return!0;var Rb=wb.left-Ya.left;Ya=wb.top-Ya.top;return 400<Rb*Rb+Ya*Ya}var Q=a.display;$e(Q.scroller,"mousedown",ee(a,mb));Zf&&11>yg?$e(Q.scroller,"dblclick",ee(a,function(Ya){if(!B(a,Ya)){var wb=kc(a,Ya);!wb||Sd(a,Ya,"gutterClick",!0)||Hd(a.display,Ya)||(qa(Ya),Ya=a.findWordAt(wb),oh(a.doc,Ya.anchor,Ya.head))}})):$e(Q.scroller,"dblclick",function(Ya){return B(a,Ya)||qa(Ya)});$e(Q.scroller,"contextmenu",function(Ya){return Td(a,Ya)});$e(Q.input.getField(),"contextmenu",
function(Ya){Q.scroller.contains(Ya.target)||Td(a,Ya)});var ba,Ha={end:0};$e(Q.scroller,"touchstart",function(Ya){var wb;if(wb=!B(a,Ya))1!=Ya.touches.length?wb=!1:(wb=Ya.touches[0],wb=1>=wb.radiusX&&1>=wb.radiusY),wb=!wb;wb&&!Sd(a,Ya,"gutterClick",!0)&&(Q.input.ensurePolled(),clearTimeout(ba),wb=+new Date,Q.activeTouch={start:wb,moved:!1,prev:300>=wb-Ha.end?Ha:null},1==Ya.touches.length&&(Q.activeTouch.left=Ya.touches[0].pageX,Q.activeTouch.top=Ya.touches[0].pageY))});$e(Q.scroller,"touchmove",function(){Q.activeTouch&&
(Q.activeTouch.moved=!0)});$e(Q.scroller,"touchend",function(Ya){var wb=Q.activeTouch;if(wb&&!Hd(Q,Ya)&&null!=wb.left&&!wb.moved&&300>new Date-wb.start){var Rb=a.coordsChar(Q.activeTouch,"page");wb=!wb.prev||T(wb,wb.prev)?new Jf(Rb,Rb):!wb.prev.prev||T(wb,wb.prev.prev)?a.findWordAt(Rb):new Jf(ua(Rb.line,0),$b(a.doc,ua(Rb.line+1,0)));a.setSelection(wb.anchor,wb.head);a.focus();qa(Ya)}u()});$e(Q.scroller,"touchcancel",u);$e(Q.scroller,"scroll",function(){Q.scroller.clientHeight&&(yc(a,Q.scroller.scrollTop),
Ec(a,Q.scroller.scrollLeft,!0),D(a,"scroll",a))});$e(Q.scroller,"mousewheel",function(Ya){return vg(a,Ya)});$e(Q.scroller,"DOMMouseScroll",function(Ya){return vg(a,Ya)});$e(Q.wrapper,"scroll",function(){return Q.wrapper.scrollTop=Q.wrapper.scrollLeft=0});Q.dragFunctions={enter:function(Ya){B(a,Ya)||bb(Ya)},over:function(Ya){if(!B(a,Ya)){var wb=kc(a,Ya);if(wb){var Rb=document.createDocumentFragment();sd(a,wb,Rb);a.display.dragCursor||(a.display.dragCursor=q("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),
a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv));p(a.display.dragCursor,Rb)}bb(Ya)}},start:function(Ya){if(Zf&&(!a.state.draggingText||100>+new Date-yj))bb(Ya);else if(!B(a,Ya)&&!Hd(a.display,Ya)&&(Ya.dataTransfer.setData("Text",a.getSelection()),Ya.dataTransfer.effectAllowed="copyMove",Ya.dataTransfer.setDragImage&&!ti)){var wb=q("img",null,null,"position: fixed; left: 0; top: 0;");wb.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";
Oh&&(wb.width=wb.height=1,a.display.wrapper.appendChild(wb),wb._top=wb.offsetTop);Ya.dataTransfer.setDragImage(wb,0,0);Oh&&wb.parentNode.removeChild(wb)}},drop:ee(a,zh),leave:function(Ya){B(a,Ya)||ri(a)}};var Va=Q.input.getField();$e(Va,"keyup",function(Ya){return Vc.call(a,Ya)});$e(Va,"keydown",ee(a,pc));$e(Va,"keypress",ee(a,pa));$e(Va,"focus",function(Ya){return Gb(a,Ya)});$e(Va,"blur",function(Ya){return Pb(a,Ya)})}function gg(a,u,T,Q){var ba=a.doc,Ha;null==T&&(T="add");"smart"==T&&(ba.mode.indent?
Ha=uc(a,u).state:T="prev");var Va=a.options.tabSize,Ya=xa(ba,u),wb=h(Ya.text,null,Va);Ya.stateAfter&&(Ya.stateAfter=null);var Rb=Ya.text.match(/^\s*/)[0];if(!Q&&!/\S/.test(Ya.text)){var ec=0;T="not"}else if("smart"==T&&(ec=ba.mode.indent(Ha,Ya.text.slice(Rb.length),Ya.text),ec==be||150<ec)){if(!Q)return;T="prev"}"prev"==T?ec=u>ba.first?h(xa(ba,u-1).text,null,Va):0:"add"==T?ec=wb+a.options.indentUnit:"subtract"==T?ec=wb-a.options.indentUnit:"number"==typeof T&&(ec=wb+T);ec=Math.max(0,ec);T="";Q=0;
if(a.options.indentWithTabs)for(a=Math.floor(ec/Va);a;--a)Q+=Va,T+="\t";Q<ec&&(T+=G(ec-Q));if(T!=Rb)return Oe(ba,T,ua(u,0),ua(u,Rb.length),"+input"),Ya.stateAfter=null,!0;for(Va=0;Va<ba.sel.ranges.length;Va++)if(Ya=ba.sel.ranges[Va],Ya.head.line==u&&Ya.head.ch<Rb.length){u=ua(u,Rb.length);Lh(ba,Va,new Jf(u,u));break}}function He(a,u,T,Q,ba){var Ha=a.doc;a.display.shift=!1;Q||(Q=Ha.sel);var Va=+new Date-200,Ya="paste"==ba||a.state.pasteIncoming>Va,wb=Jh(u),Rb=null;if(Ya&&1<Q.ranges.length)if(Vh&&Vh.text.join("\n")==
u){if(0==Q.ranges.length%Vh.text.length){Rb=[];for(var ec=0;ec<Vh.text.length;ec++)Rb.push(Ha.splitLines(Vh.text[ec]))}}else wb.length==Q.ranges.length&&a.options.pasteLinesPerSelection&&(Rb=F(wb,function(Ee){return[Ee]}));ec=a.curOp.updateInput;for(var Mc=Q.ranges.length-1;0<=Mc;Mc--){var Wc=Q.ranges[Mc],ad=Wc.from(),Wd=Wc.to();Wc.empty()&&(T&&0<T?ad=ua(ad.line,ad.ch-T):a.state.overwrite&&!Ya?Wd=ua(Wd.line,Math.min(xa(Ha,Wd.line).text.length,Wd.ch+I(wb).length)):Ya&&Vh&&Vh.lineWise&&Vh.text.join("\n")==
wb.join("\n")&&(ad=Wd=ua(ad.line,0)));Wc={from:ad,to:Wd,text:Rb?Rb[Mc%Rb.length]:wb,origin:ba||(Ya?"paste":a.state.cutIncoming>Va?"cut":"+input")};td(a.doc,Wc);za(a,"inputRead",a,Wc)}u&&!Ya&&Hf(a,u);Kb(a);2>a.curOp.updateInput&&(a.curOp.updateInput=ec);a.curOp.typing=!0;a.state.pasteIncoming=a.state.cutIncoming=-1}function pf(a,u){var T=a.clipboardData&&a.clipboardData.getData("Text");if(T)return a.preventDefault(),u.isReadOnly()||u.options.disableInput||!u.hasFocus()||Kd(u,function(){return He(u,
T,0,null,"paste")}),!0}function Hf(a,u){if(a.options.electricChars&&a.options.smartIndent)for(var T=a.doc.sel,Q=T.ranges.length-1;0<=Q;Q--){var ba=T.ranges[Q];if(!(100<ba.head.ch||Q&&T.ranges[Q-1].head.line==ba.head.line)){var Ha=a.getModeAt(ba.head),Va=!1;if(Ha.electricChars)for(var Ya=0;Ya<Ha.electricChars.length;Ya++){if(-1<u.indexOf(Ha.electricChars.charAt(Ya))){Va=gg(a,ba.head.line,"smart");break}}else Ha.electricInput&&Ha.electricInput.test(xa(a.doc,ba.head.line).text.slice(0,ba.head.ch))&&
(Va=gg(a,ba.head.line,"smart"));Va&&za(a,"electricInput",a,ba.head.line)}}}function mg(a){for(var u=[],T=[],Q=0;Q<a.doc.sel.ranges.length;Q++){var ba=a.doc.sel.ranges[Q].head.line;ba={anchor:ua(ba,0),head:ua(ba+1,0)};T.push(ba);u.push(a.getRange(ba.anchor,ba.head))}return{text:u,ranges:T}}function ci(a,u,T,Q){a.setAttribute("autocorrect",T?"":"off");a.setAttribute("autocapitalize",Q?"":"off");a.setAttribute("spellcheck",!!u)}function Rg(){var a=q("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),
u=q("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Zg?a.style.width="1000px":a.setAttribute("wrap","off");ni&&(a.style.border="1px solid black");ci(a);return u}function Cg(a,u,T,Q,ba){function Ha(Ee){if("codepoint"==Q){var wf=wb.text.charCodeAt(u.ch+(0<T?0:-1));wf=isNaN(wf)?null:new ua(u.line,Math.max(0,Math.min(wb.text.length,u.ch+T*((0<T?55296<=wf&&56320>wf:56320<=wf&&57343>wf)?2:1))),-T)}else wf=ba?Pe(a.cm,wb,u,T):Je(wb,u,T);if(null==wf){if(Ee=!Ee)Ee=u.line+Rb,
Ee<a.first||Ee>=a.first+a.size?Ee=!1:(u=new ua(Ee,u.ch,u.sticky),Ee=wb=xa(a,Ee));if(Ee)u=Df(ba,a.cm,wb,u.line,Rb);else return!1}else u=wf;return!0}var Va=u,Ya=T,wb=xa(a,u.line),Rb=ba&&"rtl"==a.direction?-T:T;if("char"==Q||"codepoint"==Q)Ha();else if("column"==Q)Ha(!0);else if("word"==Q||"group"==Q)for(var ec=null,Mc="group"==Q,Wc=a.cm&&a.cm.getHelper(u,"wordChars"),ad=!0;!(0>T)||Ha(!ad);ad=!1){var Wd=wb.text.charAt(u.ch)||"\n";Wd=R(Wd,Wc)?"w":Mc&&"\n"==Wd?"n":!Mc||/\s/.test(Wd)?null:"p";!Mc||ad||
Wd||(Wd="s");if(ec&&ec!=Wd){0>T&&(T=1,Ha(),u.sticky="after");break}Wd&&(ec=Wd);if(0<T&&!Ha(!ad))break}Ya=Sb(a,u,Va,Ya,!0);eb(Va,Ya)&&(Ya.hitSide=!0);return Ya}function li(a,u,T,Q){var ba=a.doc,Ha=u.left;if("page"==Q){var Va=Math.min(a.display.wrapper.clientHeight,e(a).defaultView.innerHeight||ba(a).documentElement.clientHeight);Va=Math.max(Va-.5*Se(a.display),3);Va=(0<T?u.bottom:u.top)+T*Va}else"line"==Q&&(Va=0<T?u.bottom+3:u.top-3);for(;;){u=ic(a,Ha,Va);if(!u.outside)break;if(0>T?0>=Va:Va>=ba.height){u.hitSide=
!0;break}Va+=5*T}return u}function xg(a,u){var T=Ge(a,u.line);if(!T||T.hidden)return null;var Q=xa(a.doc,u.line);T=vf(T,Q,u.line);a=Ga(Q,a.doc.direction);Q="left";a&&(Q=ea(a,u.ch)%2?"right":"left");u=Qb(T.map,u.ch,Q);u.offset="right"==u.collapse?u.end:u.start;return u}function Ah(a){for(;a;a=a.parentNode)if(/CodeMirror-gutter-wrapper/.test(a.className))return!0;return!1}function Lg(a,u){u&&(a.bad=!0);return a}function eh(a,u,T,Q,ba){function Ha(ad){return function(Wd){return Wd.id==ad}}function Va(){ec&&
(Rb+=Mc,Wc&&(Rb+=Mc),ec=Wc=!1)}function Ya(ad){ad&&(Va(),Rb+=ad)}function wb(ad){if(1==ad.nodeType){var Wd=ad.getAttribute("cm-text");if(Wd)Ya(Wd);else{Wd=ad.getAttribute("cm-marker");var Ee;if(Wd)ad=a.findMarks(ua(Q,0),ua(ba+1,0),Ha(+Wd)),ad.length&&(Ee=ad[0].find(0))&&Ya(Ua(a.doc,Ee.from,Ee.to).join(Mc));else if("false"!=ad.getAttribute("contenteditable")&&(Ee=/^(pre|div|p|li|table|br)$/i.test(ad.nodeName),/^br$/i.test(ad.nodeName)||0!=ad.textContent.length)){Ee&&Va();for(Wd=0;Wd<ad.childNodes.length;Wd++)wb(ad.childNodes[Wd]);
/^(pre|p)$/i.test(ad.nodeName)&&(Wc=!0);Ee&&(ec=!0)}}}else 3==ad.nodeType&&Ya(ad.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var Rb="",ec=!1,Mc=a.doc.lineSeparator(),Wc=!1;;){wb(u);if(u==T)break;u=u.nextSibling;Wc=!1}return Rb}function ii(a,u,T){if(u==a.display.lineDiv){var Q=a.display.lineDiv.childNodes[T];if(!Q)return Lg(a.clipPos(ua(a.display.viewTo-1)),!0);u=null;T=0}else for(Q=u;;Q=Q.parentNode){if(!Q||Q==a.display.lineDiv)return null;if(Q.parentNode&&Q.parentNode==a.display.lineDiv)break}for(var ba=
0;ba<a.display.view.length;ba++){var Ha=a.display.view[ba];if(Ha.node==Q)return ji(Ha,u,T)}}function ji(a,u,T){function Q(ec,Mc,Wc){for(var ad=-1;ad<(Rb?Rb.length:0);ad++)for(var Wd=0>ad?wb.map:Rb[ad],Ee=0;Ee<Wd.length;Ee+=3){var wf=Wd[Ee+2];if(wf==ec||wf==Mc){Mc=Oa(0>ad?a.line:a.rest[ad]);ad=Wd[Ee]+Wc;if(0>Wc||wf!=ec)ad=Wd[Ee+(Wc?1:0)];return ua(Mc,ad)}}}var ba=a.text.firstChild,Ha=!1;if(!u||!n(ba,u))return Lg(ua(Oa(a.line),0),!0);if(u==ba&&(Ha=!0,u=ba.childNodes[T],T=0,!u))return T=a.rest?I(a.rest):
a.line,Lg(ua(Oa(T),T.text.length),Ha);var Va=3==u.nodeType?u:null,Ya=u;Va||1!=u.childNodes.length||3!=u.firstChild.nodeType||(Va=u.firstChild,T&&(T=Va.nodeValue.length));for(;Ya.parentNode!=ba;)Ya=Ya.parentNode;var wb=a.measure,Rb=wb.maps;if(u=Q(Va,Ya,T))return Lg(u,Ha);ba=Ya.nextSibling;for(Va=Va?Va.nodeValue.length-T:0;ba;ba=ba.nextSibling){if(u=Q(ba,ba.firstChild,0))return Lg(ua(u.line,u.ch-Va),Ha);Va+=ba.textContent.length}for(Ya=Ya.previousSibling;Ya;Ya=Ya.previousSibling){if(u=Q(Ya,Ya.firstChild,
-1))return Lg(ua(u.line,u.ch+T),Ha);T+=Ya.textContent.length}}var Lf=navigator.userAgent,Yg=navigator.platform,xh=/gecko\/\d/i.test(Lf),Ih=/MSIE \d/.test(Lf),yi=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Lf),di=/Edge\/(\d+)/.exec(Lf),Zf=Ih||yi||di,yg=Zf&&(Ih?document.documentMode||6:+(di||yi)[1]),Zg=!di&&/WebKit\//.test(Lf),Zi=Zg&&/Qt\/\d+\.\d+/.test(Lf),ei=!di&&/Chrome\/(\d+)/.exec(Lf),lj=ei&&+ei[1],Oh=/Opera\//.test(Lf),ti=/Apple Computer/.test(navigator.vendor),vj=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Lf),
Yi=/PhantomJS/.test(Lf),ni=ti&&(/Mobile\/\w+/.test(Lf)||2<navigator.maxTouchPoints),sh=/Android/.test(Lf),Oi=ni||sh||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Lf),ia=ni||/Mac/.test(Yg),Na=/\bCrOS\b/.test(Lf),Sa=/win/i.test(Yg),ub=Oh&&Lf.match(/Version\/(\d*\.\d*)/);ub&&(ub=Number(ub[1]));ub&&15<=ub&&(Oh=!1,Zg=!0);var Zb=ia&&(Zi||Oh&&(null==ub||12.11>ub)),ac=xh||Zf&&9<=yg,jc=function(a,u){var T=a.className;if(u=w(u).exec(T)){var Q=T.slice(u.index+u[0].length);a.className=T.slice(0,u.index)+
(Q?u[1]+Q:"")}};var Ac=document.createRange?function(a,u,T,Q){var ba=document.createRange();ba.setEnd(Q||a,T);ba.setStart(a,u);return ba}:function(a,u,T){var Q=document.body.createTextRange();try{Q.moveToElementText(a.parentNode)}catch(ba){return Q}Q.collapse(!0);Q.moveEnd("character",T);Q.moveStart("character",u);return Q};var hd=function(a){a.select()};ni?hd=function(a){a.selectionStart=0;a.selectionEnd=a.value.length}:Zf&&(hd=function(a){try{a.select()}catch(u){}});var Ld=function(){this.f=this.id=
null;this.time=0;this.handler=g(this.onTimeout,this)};Ld.prototype.onTimeout=function(a){a.id=0;a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)};Ld.prototype.set=function(a,u){this.f=u;u=+new Date+a;if(!this.id||u<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=u};var be={toString:function(){return"CodeMirror.Pass"}},kd={scroll:!1},oe={origin:"*mouse"},Qe={origin:"+move"},xf=[""],Me=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
$f=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Dg=null,fh=function(){function a(Va,Ya,wb){this.level=Va;this.from=Ya;this.to=wb}var u=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,T=/[stwN]/,Q=/[LRr]/,ba=/[Lb1n]/,Ha=/[1n]/;return function(Va,Ya){var wb="ltr"==Ya?"L":"R";if(0==Va.length||"ltr"==Ya&&!u.test(Va))return!1;for(var Rb=Va.length,ec=[],Mc=0;Mc<Rb;++Mc){var Wc=ec,ad=Wc.push;var Wd=Va.charCodeAt(Mc);Wd=247>=Wd?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Wd):
1424<=Wd&&1524>=Wd?"R":1536<=Wd&&1785>=Wd?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Wd-1536):1774<=Wd&&2220>=Wd?"r":8192<=Wd&&8203>=Wd?"w":8204==Wd?"b":"L";ad.call(Wc,Wd)}Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"m"==ad?ec[Mc]=Wc:Wc=ad;Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"1"==ad&&"r"==Wc?
ec[Mc]="n":Q.test(ad)&&(Wc=ad,"r"==ad&&(ec[Mc]="R"));Mc=1;for(Wc=ec[0];Mc<Rb-1;++Mc)ad=ec[Mc],"+"==ad&&"1"==Wc&&"1"==ec[Mc+1]?ec[Mc]="1":","!=ad||Wc!=ec[Mc+1]||"1"!=Wc&&"n"!=Wc||(ec[Mc]=Wc),Wc=ad;for(Mc=0;Mc<Rb;++Mc)if(Wc=ec[Mc],","==Wc)ec[Mc]="N";else if("%"==Wc){for(Wc=Mc+1;Wc<Rb&&"%"==ec[Wc];++Wc);for(ad=Mc&&"!"==ec[Mc-1]||Wc<Rb&&"1"==ec[Wc]?"1":"N";Mc<Wc;++Mc)ec[Mc]=ad;Mc=Wc-1}Mc=0;for(Wc=wb;Mc<Rb;++Mc)ad=ec[Mc],"L"==Wc&&"1"==ad?ec[Mc]="L":Q.test(ad)&&(Wc=ad);for(Wc=0;Wc<Rb;++Wc)if(T.test(ec[Wc])){for(Mc=
Wc+1;Mc<Rb&&T.test(ec[Mc]);++Mc);ad="L"==(Wc?ec[Wc-1]:wb);for(ad=ad==("L"==(Mc<Rb?ec[Mc]:wb))?ad?"L":"R":wb;Wc<Mc;++Wc)ec[Wc]=ad;Wc=Mc-1}wb=[];var Ee;for(Mc=0;Mc<Rb;)if(ba.test(ec[Mc])){Wc=Mc;for(++Mc;Mc<Rb&&ba.test(ec[Mc]);++Mc);wb.push(new a(0,Wc,Mc))}else{var wf=Mc;Wc=wb.length;ad="rtl"==Ya?1:0;for(++Mc;Mc<Rb&&"L"!=ec[Mc];++Mc);for(Wd=wf;Wd<Mc;)if(Ha.test(ec[Wd])){wf<Wd&&(wb.splice(Wc,0,new a(1,wf,Wd)),Wc+=ad);wf=Wd;for(++Wd;Wd<Mc&&Ha.test(ec[Wd]);++Wd);wb.splice(Wc,0,new a(2,wf,Wd));Wc+=ad;wf=
Wd}else++Wd;wf<Mc&&wb.splice(Wc,0,new a(1,wf,Mc))}"ltr"==Ya&&(1==wb[0].level&&(Ee=Va.match(/^\s+/))&&(wb[0].from=Ee[0].length,wb.unshift(new a(0,0,Ee[0].length))),1==I(wb).level&&(Ee=Va.match(/\s+$/))&&(I(wb).to-=Ee[0].length,wb.push(new a(0,Rb-Ee[0].length,Rb))));return"rtl"==Ya?wb.reverse():wb}}(),mh=[],$e=function(a,u,T){a.addEventListener?a.addEventListener(u,T,!1):a.attachEvent?a.attachEvent("on"+u,T):(a=a._handlers||(a._handlers={}),a[u]=(a[u]||mh).concat(T))},gh=function(){if(Zf&&9>yg)return!1;
var a=q("div");return"draggable"in a||"dragDrop"in a}(),nf,sg,Jh=3!="\n\nb".split(/\n/).length?function(a){for(var u=0,T=[],Q=a.length;u<=Q;){var ba=a.indexOf("\n",u);-1==ba&&(ba=a.length);var Ha=a.slice(u,"\r"==a.charAt(ba-1)?ba-1:ba),Va=Ha.indexOf("\r");-1!=Va?(T.push(Ha.slice(0,Va)),u+=Va+1):(T.push(Ha),u=ba+1)}return T}:function(a){return a.split(/\r\n?|\n/)},Ne=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(u){return!1}}:function(a){try{var u=a.ownerDocument.selection.createRange()}catch(T){}return u&&
u.parentElement()==a?0!=u.compareEndPoints("StartToEnd",u):!1},ve=function(){var a=q("div");if("oncopy"in a)return!0;a.setAttribute("oncopy","return;");return"function"==typeof a.oncopy}(),Ve=null,ye={},lg={},Eg={},yf=function(a,u,T){this.pos=this.start=0;this.string=a;this.tabSize=u||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=T};yf.prototype.eol=function(){return this.pos>=this.string.length};yf.prototype.sol=function(){return this.pos==this.lineStart};yf.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};yf.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};yf.prototype.eat=function(a){var u=this.string.charAt(this.pos);if("string"==typeof a?u==a:u&&(a.test?a.test(u):a(u)))return++this.pos,u};yf.prototype.eatWhile=function(a){for(var u=this.pos;this.eat(a););return this.pos>u};yf.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
a};yf.prototype.skipToEnd=function(){this.pos=this.string.length};yf.prototype.skipTo=function(a){a=this.string.indexOf(a,this.pos);if(-1<a)return this.pos=a,!0};yf.prototype.backUp=function(a){this.pos-=a};yf.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)};yf.prototype.indentation=
function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)};yf.prototype.match=function(a,u,T){if("string"==typeof a){var Q=function(Ha){return T?Ha.toLowerCase():Ha},ba=this.string.substr(this.pos,a.length);if(Q(ba)==Q(a))return!1!==u&&(this.pos+=a.length),!0}else{if((a=this.string.slice(this.pos).match(a))&&0<a.index)return null;a&&!1!==u&&(this.pos+=a[0].length);return a}};yf.prototype.current=function(){return this.string.slice(this.start,
this.pos)};yf.prototype.hideFirstChars=function(a,u){this.lineStart+=a;try{return u()}finally{this.lineStart-=a}};yf.prototype.lookAhead=function(a){var u=this.lineOracle;return u&&u.lookAhead(a)};yf.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var nh=function(a,u){this.state=a;this.lookAhead=u},yh=function(a,u,T,Q){this.state=u;this.doc=a;this.line=T;this.maxLookAhead=Q||0;this.baseTokens=null;this.baseTokenPos=1};yh.prototype.lookAhead=function(a){var u=
this.doc.getLine(this.line+a);null!=u&&a>this.maxLookAhead&&(this.maxLookAhead=a);return u};yh.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var u=this.baseTokens[this.baseTokenPos+1];return{type:u&&u.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}};yh.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};yh.fromSaved=function(a,u,T){return u instanceof nh?new yh(a,
ra(a.mode,u.state),T,u.lookAhead):new yh(a,ra(a.mode,u),T)};yh.prototype.save=function(a){a=!1!==a?ra(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new nh(a,this.maxLookAhead):a};var oi=function(a,u,T){this.start=a.start;this.end=a.pos;this.string=a.current();this.type=u||null;this.state=T},Nj=!1,zi=!1,$i=function(a,u,T){this.text=a;$a(this,u);this.height=T?T(this):1};$i.prototype.lineNo=function(){return Oa(this)};Aa($i);var Kj={},sk={},fj=null,Fg=null,Gi={left:0,right:0,top:0,
bottom:0},aj,bj=function(a,u,T){this.cm=T;var Q=this.vert=q("div",[q("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),ba=this.horiz=q("div",[q("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");Q.tabIndex=ba.tabIndex=-1;a(Q);a(ba);$e(Q,"scroll",function(){Q.clientHeight&&u(Q.scrollTop,"vertical")});$e(ba,"scroll",function(){ba.clientWidth&&u(ba.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Zf&&8>yg&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};
bj.prototype.update=function(a){var u=a.scrollWidth>a.clientWidth+1,T=a.scrollHeight>a.clientHeight+1,Q=a.nativeBarWidth;T?(this.vert.style.display="block",this.vert.style.bottom=u?Q+"px":"0",this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+(a.viewHeight-(u?Q:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0");u?(this.horiz.style.display="block",this.horiz.style.right=T?Q+"px":"0",this.horiz.style.left=a.barLeft+"px",this.horiz.firstChild.style.width=
Math.max(0,a.scrollWidth-a.clientWidth+(a.viewWidth-a.barLeft-(T?Q:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<a.clientHeight&&(0==Q&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:T?Q:0,bottom:u?Q:0}};bj.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};bj.prototype.setScrollTop=function(a){this.vert.scrollTop!=
a&&(this.vert.scrollTop=a);this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};bj.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ia&&!vj?"12px":"18px";this.horiz.style.visibility=this.vert.style.visibility="hidden";this.disableHoriz=new Ld;this.disableVert=new Ld};bj.prototype.enableZeroWidthBar=function(a,u,T){function Q(){var ba=a.getBoundingClientRect();("vert"==T?document.elementFromPoint(ba.right-1,(ba.top+ba.bottom)/2):document.elementFromPoint((ba.right+
ba.left)/2,ba.bottom-1))!=a?a.style.visibility="hidden":u.set(1E3,Q)}a.style.visibility="";u.set(1E3,Q)};bj.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz);a.removeChild(this.vert)};var cj=function(){};cj.prototype.update=function(){return{bottom:0,right:0}};cj.prototype.setScrollLeft=function(){};cj.prototype.setScrollTop=function(){};cj.prototype.clear=function(){};var xk={"native":bj,"null":cj},Lj=0,si=function(a,u,T){var Q=a.display;this.viewport=u;this.visible=
Ia(Q,a.doc,u);this.editorIsHidden=!Q.wrapper.offsetWidth;this.wrapperHeight=Q.wrapper.clientHeight;this.wrapperWidth=Q.wrapper.clientWidth;this.oldDisplayWidth=Ce(a);this.force=T;this.dims=ob(a);this.events=[]};si.prototype.signal=function(a,u){Z(a,u)&&this.events.push(arguments)};si.prototype.finish=function(){for(var a=0;a<this.events.length;a++)D.apply(null,this.events[a])};var Pi=0,mi=null;Zf?mi=-.53:xh?mi=15:ei?mi=-.7:ti&&(mi=-1/3);var Dh=function(a,u){this.ranges=a;this.primIndex=u};Dh.prototype.primary=
function(){return this.ranges[this.primIndex]};Dh.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var u=0;u<this.ranges.length;u++){var T=this.ranges[u],Q=a.ranges[u];if(!eb(T.anchor,Q.anchor)||!eb(T.head,Q.head))return!1}return!0};Dh.prototype.deepCopy=function(){for(var a=[],u=0;u<this.ranges.length;u++)a[u]=new Jf(lb(this.ranges[u].anchor),lb(this.ranges[u].head));return new Dh(a,this.primIndex)};Dh.prototype.somethingSelected=
function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1};Dh.prototype.contains=function(a,u){u||(u=a);for(var T=0;T<this.ranges.length;T++){var Q=this.ranges[T];if(0<=Ta(u,Q.from())&&0>=Ta(a,Q.to()))return T}return-1};var Jf=function(a,u){this.anchor=a;this.head=u};Jf.prototype.from=function(){return Mb(this.anchor,this.head)};Jf.prototype.to=function(){return nb(this.anchor,this.head)};Jf.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==
this.anchor.ch};dg.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,u){for(var T=a,Q=a+u;T<Q;++T){var ba=this.lines[T];this.height-=ba.height;var Ha=ba;Ha.parent=null;Ca(Ha);za(ba,"delete")}this.lines.splice(a,u)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,u,T){this.height+=T;this.lines=this.lines.slice(0,a).concat(u).concat(this.lines.slice(a));for(a=0;a<u.length;++a)u[a].parent=this},iterN:function(a,u,T){for(u=a+u;a<u;++a)if(T(this.lines[a]))return!0}};
Bf.prototype={chunkSize:function(){return this.size},removeInner:function(a,u){this.size-=u;for(var T=0;T<this.children.length;++T){var Q=this.children[T],ba=Q.chunkSize();if(a<ba){var Ha=Math.min(u,ba-a),Va=Q.height;Q.removeInner(a,Ha);this.height-=Va-Q.height;ba==Ha&&(this.children.splice(T--,1),Q.parent=null);if(0==(u-=Ha))break;a=0}else a-=ba}25>this.size-u&&(1<this.children.length||!(this.children[0]instanceof dg))&&(a=[],this.collapse(a),this.children=[new dg(a)],this.children[0].parent=this)},
collapse:function(a){for(var u=0;u<this.children.length;++u)this.children[u].collapse(a)},insertInner:function(a,u,T){this.size+=u.length;this.height+=T;for(var Q=0;Q<this.children.length;++Q){var ba=this.children[Q],Ha=ba.chunkSize();if(a<=Ha){ba.insertInner(a,u,T);if(ba.lines&&50<ba.lines.length){for(u=a=ba.lines.length%25+25;u<ba.lines.length;)T=new dg(ba.lines.slice(u,u+=25)),ba.height-=T.height,this.children.splice(++Q,0,T),T.parent=this;ba.lines=ba.lines.slice(0,a);this.maybeSpill()}break}a-=
Ha}},maybeSpill:function(){if(!(10>=this.children.length)){var a=this;do{var u=a.children.splice(a.children.length-5,5);u=new Bf(u);if(a.parent){a.size-=u.size;a.height-=u.height;var T=x(a.parent.children,a);a.parent.children.splice(T+1,0,u)}else T=new Bf(a.children),T.parent=a,a.children=[T,u],a=T;u.parent=a.parent}while(10<a.children.length);a.parent.maybeSpill()}},iterN:function(a,u,T){for(var Q=0;Q<this.children.length;++Q){var ba=this.children[Q],Ha=ba.chunkSize();if(a<Ha){Ha=Math.min(u,Ha-a);
if(ba.iterN(a,Ha,T))return!0;if(0==(u-=Ha))break;a=0}else a-=Ha}}};var Fi=function(a,u,T){if(T)for(var Q in T)T.hasOwnProperty(Q)&&(this[Q]=T[Q]);this.doc=a;this.node=u};Fi.prototype.clear=function(){var a=this.doc.cm,u=this.line.widgets,T=this.line,Q=Oa(T);if(null!=Q&&u){for(var ba=0;ba<u.length;++ba)u[ba]==this&&u.splice(ba--,1);u.length||(T.widgets=null);var Ha=rd(this);sa(T,Math.max(0,T.height-Ha));a&&(Kd(a,function(){var Va=-Ha;nd(T)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Fb(a,Va);pd(a,
Q,"widget")}),za(a,"lineWidgetCleared",a,this,Q))}};Fi.prototype.changed=function(){var a=this,u=this.height,T=this.doc.cm,Q=this.line;this.height=null;var ba=rd(this)-u;ba&&($c(this.doc,Q)||sa(Q,Q.height+ba),T&&Kd(T,function(){T.curOp.forceUpdate=!0;nd(Q)<(T.curOp&&T.curOp.scrollTop||T.doc.scrollTop)&&Fb(T,ba);za(T,"lineWidgetChanged",T,a,Oa(Q))}))};Aa(Fi);var hk=0,vi=function(a,u){this.lines=[];this.type=u;this.doc=a;this.id=++hk};vi.prototype.clear=function(){if(!this.explicitlyCleared){var a=
this.doc.cm,u=a&&!a.curOp;u&&Zd(a);if(Z(this,"clear")){var T=this.find();T&&za(this,"clear",T.from,T.to)}for(var Q=T=null,ba=0;ba<this.lines.length;++ba){var Ha=this.lines[ba],Va=jd(Ha.markedSpans,this);a&&!this.collapsed?pd(a,Oa(Ha),"text"):a&&(null!=Va.to&&(Q=Oa(Ha)),null!=Va.from&&(T=Oa(Ha)));for(var Ya=Ha,wb=void 0,Rb=Ha.markedSpans,ec=Va,Mc=0;Mc<Rb.length;++Mc)Rb[Mc]!=ec&&(wb||(wb=[])).push(Rb[Mc]);Ya.markedSpans=wb;null==Va.from&&this.collapsed&&!$c(this.doc,Ha)&&a&&sa(Ha,Se(a.display))}if(a&&
this.collapsed&&!a.options.lineWrapping)for(ba=0;ba<this.lines.length;++ba)Ha=Tb(this.lines[ba]),Va=xd(Ha),Va>a.display.maxLineLength&&(a.display.maxLine=Ha,a.display.maxLineLength=Va,a.display.maxLineChanged=!0);null!=T&&a&&this.collapsed&&Jc(a,T,Q+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&La(a.doc));a&&za(a,"markerCleared",a,this,T,Q);u&&vd(a);this.parent&&this.parent.clear()}};vi.prototype.find=function(a,u){null==a&&"bookmark"==this.type&&
(a=1);for(var T,Q,ba=0;ba<this.lines.length;++ba){var Ha=this.lines[ba],Va=jd(Ha.markedSpans,this);if(null!=Va.from&&(T=ua(u?Ha:Oa(Ha),Va.from),-1==a))return T;if(null!=Va.to&&(Q=ua(u?Ha:Oa(Ha),Va.to),1==a))return Q}return T&&{from:T,to:Q}};vi.prototype.changed=function(){var a=this,u=this.find(-1,!0),T=this,Q=this.doc.cm;u&&Q&&Kd(Q,function(){var ba=u.line,Ha=Oa(u.line);if(Ha=Ge(Q,Ha))rc(Ha),Q.curOp.selectionChanged=Q.curOp.forceUpdate=!0;Q.curOp.updateMaxLine=!0;$c(T.doc,ba)||null==T.height||(Ha=
T.height,T.height=null,(Ha=rd(T)-Ha)&&sa(ba,ba.height+Ha));za(Q,"markerChanged",Q,a)})};vi.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var u=this.doc.cm.curOp;u.maybeHiddenMarkers&&-1!=x(u.maybeHiddenMarkers,this)||(u.maybeUnhiddenMarkers||(u.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)};vi.prototype.detachLine=function(a){this.lines.splice(x(this.lines,a),1);!this.lines.length&&this.doc.cm&&(a=this.doc.cm.curOp,(a.maybeHiddenMarkers||(a.maybeHiddenMarkers=[])).push(this))};
Aa(vi);var gj=function(a,u){this.markers=a;this.primary=u;for(u=0;u<a.length;++u)a[u].parent=this};gj.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();za(this,"clear")}};gj.prototype.find=function(a,u){return this.primary.find(a,u)};Aa(gj);var hj=0,ph=function(a,u,T,Q,ba){if(!(this instanceof ph))return new ph(a,u,T,Q,ba);null==T&&(T=0);Bf.call(this,[new dg([new $i("",null)])]);this.first=T;this.scrollTop=
this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=T;T=ua(T,0);this.sel=Uf(T);this.history=new of(null);this.id=++hj;this.modeOption=u;this.lineSep=Q;this.direction="rtl"==ba?"rtl":"ltr";this.extend=!1;"string"==typeof a&&(a=this.splitLines(a));Cb(this,{from:T,to:T,text:a});Kg(this,Uf(T),kd)};ph.prototype=y(Bf.prototype,{constructor:ph,iter:function(a,u,T){T?this.iterN(a-this.first,u-a,T):this.iterN(this.first,this.first+this.size,a)},insert:function(a,
u){for(var T=0,Q=0;Q<u.length;++Q)T+=u[Q].height;this.insertInner(a-this.first,u,T)},remove:function(a,u){this.removeInner(a-this.first,u)},getValue:function(a){var u=fb(this,this.first,this.first+this.size);return!1===a?u:u.join(a||this.lineSeparator())},setValue:ze(function(a){var u=ua(this.first,0),T=this.first+this.size-1;td(this,{from:u,to:ua(T,xa(this,T).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0);this.cm&&Ob(this.cm,0,0);Kg(this,Uf(u),kd)}),replaceRange:function(a,u,
T,Q){u=$b(this,u);T=T?$b(this,T):u;Oe(this,a,u,T,Q)},getRange:function(a,u,T){a=Ua(this,$b(this,a),$b(this,u));return!1===T?a:""===T?a.join(""):a.join(T||this.lineSeparator())},getLine:function(a){return(a=this.getLineHandle(a))&&a.text},getLineHandle:function(a){if(U(this,a))return xa(this,a)},getLineNumber:function(a){return Oa(a)},getLineHandleVisualStart:function(a){"number"==typeof a&&(a=xa(this,a));return Tb(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},
lastLine:function(){return this.first+this.size-1},clipPos:function(a){return $b(this,a)},getCursor:function(a){var u=this.sel.primary();return null==a||"head"==a?u.head:"anchor"==a?u.anchor:"end"==a||"to"==a||!1===a?u.to():u.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ze(function(a,u,T){a=$b(this,"number"==typeof a?ua(a,u||0):a);Kg(this,Uf(a,null),T)}),setSelection:ze(function(a,u,T){var Q=$b(this,a);a=$b(this,
u||a);Kg(this,Uf(Q,a),T)}),extendSelection:ze(function(a,u,T){oh(this,$b(this,a),u&&$b(this,u),T)}),extendSelections:ze(function(a,u){rh(this,Gc(this,a),u)}),extendSelectionsBy:ze(function(a,u){a=F(this.sel.ranges,a);rh(this,Gc(this,a),u)}),setSelections:ze(function(a,u,T){if(a.length){for(var Q=[],ba=0;ba<a.length;ba++)Q[ba]=new Jf($b(this,a[ba].anchor),$b(this,a[ba].head||a[ba].anchor));null==u&&(u=Math.min(a.length-1,this.sel.primIndex));Kg(this,og(this.cm,Q,u),T)}}),addSelection:ze(function(a,
u,T){var Q=this.sel.ranges.slice(0);Q.push(new Jf($b(this,a),$b(this,u||a)));Kg(this,og(this.cm,Q,Q.length-1),T)}),getSelection:function(a){for(var u=this.sel.ranges,T,Q=0;Q<u.length;Q++){var ba=Ua(this,u[Q].from(),u[Q].to());T=T?T.concat(ba):ba}return!1===a?T:T.join(a||this.lineSeparator())},getSelections:function(a){for(var u=[],T=this.sel.ranges,Q=0;Q<T.length;Q++){var ba=Ua(this,T[Q].from(),T[Q].to());!1!==a&&(ba=ba.join(a||this.lineSeparator()));u[Q]=ba}return u},replaceSelection:function(a,
u,T){for(var Q=[],ba=0;ba<this.sel.ranges.length;ba++)Q[ba]=a;this.replaceSelections(Q,u,T||"+input")},replaceSelections:ze(function(a,u,T){for(var Q=[],ba=this.sel,Ha=0;Ha<ba.ranges.length;Ha++){var Va=ba.ranges[Ha];Q[Ha]={from:Va.from(),to:Va.to(),text:this.splitLines(a[Ha]),origin:T}}if(a=u&&"end"!=u){a=[];ba=T=ua(this.first,0);for(Ha=0;Ha<Q.length;Ha++){var Ya=Q[Ha];Va=Ng(Ya.from,T,ba);var wb=Ng(Xf(Ya),T,ba);T=Ya.to;ba=wb;"around"==u?(Ya=this.sel.ranges[Ha],Ya=0>Ta(Ya.head,Ya.anchor),a[Ha]=new Jf(Ya?
wb:Va,Ya?Va:wb)):a[Ha]=new Jf(Va,Va)}a=new Dh(a,this.sel.primIndex)}u=a;for(a=Q.length-1;0<=a;a--)td(this,Q[a]);u?Eh(this,u):this.cm&&Kb(this.cm)}),undo:ze(function(){we(this,"undo")}),redo:ze(function(){we(this,"redo")}),undoSelection:ze(function(){we(this,"undo",!0)}),redoSelection:ze(function(){we(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,u=0,T=0,Q=0;Q<a.done.length;Q++)a.done[Q].ranges||++u;
for(Q=0;Q<a.undone.length;Q++)a.undone[Q].ranges||++T;return{undo:u,redo:T}},clearHistory:function(){var a=this;this.history=new of(this.history);hc(this,function(u){return u.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:wg(this.history.done),
undone:wg(this.history.undone)}},setHistory:function(a){var u=this.history=new of(this.history);u.done=wg(a.done.slice(0),null,!0);u.undone=wg(a.undone.slice(0),null,!0)},setGutterMarker:ze(function(a,u,T){return ch(this,a,"gutter",function(Q){var ba=Q.gutterMarkers||(Q.gutterMarkers={});ba[u]=T;!T&&S(ba)&&(Q.gutterMarkers=null);return!0})}),clearGutter:ze(function(a){var u=this;this.iter(function(T){T.gutterMarkers&&T.gutterMarkers[a]&&ch(u,T,"gutter",function(){T.gutterMarkers[a]=null;S(T.gutterMarkers)&&
(T.gutterMarkers=null);return!0})})}),lineInfo:function(a){if("number"==typeof a){if(!U(this,a))return null;var u=a;a=xa(this,a);if(!a)return null}else if(u=Oa(a),null==u)return null;return{line:u,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:ze(function(a,u,T){return ch(this,a,"gutter"==u?"gutter":"class",function(Q){var ba="text"==u?"textClass":"background"==u?"bgClass":"gutter"==u?"gutterClass":
"wrapClass";if(Q[ba]){if(w(T).test(Q[ba]))return!1;Q[ba]+=" "+T}else Q[ba]=T;return!0})}),removeLineClass:ze(function(a,u,T){return ch(this,a,"gutter"==u?"gutter":"class",function(Q){var ba="text"==u?"textClass":"background"==u?"bgClass":"gutter"==u?"gutterClass":"wrapClass",Ha=Q[ba];if(Ha)if(null==T)Q[ba]=null;else{var Va=Ha.match(w(T));if(!Va)return!1;var Ya=Va.index+Va[0].length;Q[ba]=Ha.slice(0,Va.index)+(Va.index&&Ya!=Ha.length?" ":"")+Ha.slice(Ya)||null}else return!1;return!0})}),addLineWidget:ze(function(a,
u,T){return jg(this,a,u,T)}),removeLineWidget:function(a){a.clear()},markText:function(a,u,T){return bg(this,$b(this,a),$b(this,u),T,T&&T.type||"range")},setBookmark:function(a,u){u={replacedWith:u&&(null==u.nodeType?u.widget:u),insertLeft:u&&u.insertLeft,clearWhenEmpty:!1,shared:u&&u.shared,handleMouseEvents:u&&u.handleMouseEvents};a=$b(this,a);return bg(this,a,a,u,"bookmark")},findMarksAt:function(a){a=$b(this,a);var u=[],T=xa(this,a.line).markedSpans;if(T)for(var Q=0;Q<T.length;++Q){var ba=T[Q];
(null==ba.from||ba.from<=a.ch)&&(null==ba.to||ba.to>=a.ch)&&u.push(ba.marker.parent||ba.marker)}return u},findMarks:function(a,u,T){a=$b(this,a);u=$b(this,u);var Q=[],ba=a.line;this.iter(a.line,u.line+1,function(Ha){if(Ha=Ha.markedSpans)for(var Va=0;Va<Ha.length;Va++){var Ya=Ha[Va];null!=Ya.to&&ba==a.line&&a.ch>=Ya.to||null==Ya.from&&ba!=a.line||null!=Ya.from&&ba==u.line&&Ya.from>=u.ch||T&&!T(Ya.marker)||Q.push(Ya.marker.parent||Ya.marker)}++ba});return Q},getAllMarks:function(){var a=[];this.iter(function(u){if(u=
u.markedSpans)for(var T=0;T<u.length;++T)null!=u[T].from&&a.push(u[T].marker)});return a},posFromIndex:function(a){var u,T=this.first,Q=this.lineSeparator().length;this.iter(function(ba){ba=ba.text.length+Q;if(ba>a)return u=a,!0;a-=ba;++T});return $b(this,ua(T,u))},indexFromPos:function(a){a=$b(this,a);var u=a.ch;if(a.line<this.first||0>a.ch)return 0;var T=this.lineSeparator().length;this.iter(this.first,a.line,function(Q){u+=Q.text.length+T});return u},copy:function(a){var u=new ph(fb(this,this.first,
this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);u.scrollTop=this.scrollTop;u.scrollLeft=this.scrollLeft;u.sel=this.sel;u.extend=!1;a&&(u.history.undoDepth=this.history.undoDepth,u.setHistory(this.getHistory()));return u},linkedDoc:function(a){a||(a={});var u=this.first,T=this.first+this.size;null!=a.from&&a.from>u&&(u=a.from);null!=a.to&&a.to<T&&(T=a.to);u=new ph(fb(this,u,T),a.mode||this.modeOption,u,this.lineSep,this.direction);a.sharedHist&&(u.history=this.history);
(this.linked||(this.linked=[])).push({doc:u,sharedHist:a.sharedHist});u.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}];a=wh(this);for(T=0;T<a.length;T++){var Q=a[T],ba=Q.find(),Ha=u.clipPos(ba.from);ba=u.clipPos(ba.to);Ta(Ha,ba)&&(Ha=bg(u,Ha,ba,Q.primary,Q.primary.type),Q.markers.push(Ha),Ha.parent=Q)}return u},unlinkDoc:function(a){a instanceof df&&(a=a.doc);if(this.linked)for(var u=0;u<this.linked.length;++u)if(this.linked[u].doc==a){this.linked.splice(u,1);a.unlinkDoc(this);Og(wh(this));
break}if(a.history==this.history){var T=[a.id];hc(a,function(Q){return T.push(Q.id)},!0);a.history=new of(null);a.history.done=wg(this.history.done,T);a.history.undone=wg(this.history.undone,T)}},iterLinkedDocs:function(a){hc(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):Jh(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ze(function(a){"rtl"!=a&&(a="ltr");a!=this.direction&&(this.direction=
a,this.iter(function(u){return u.order=null}),this.cm&&ne(this.cm))})});ph.prototype.eachLine=ph.prototype.iter;for(var yj=0,Ik=!1,Hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",
188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ij=0;10>ij;ij++)Hi[ij+48]=Hi[ij+96]=String(ij);for(var mj=65;90>=mj;mj++)Hi[mj]=String.fromCharCode(mj);for(var jj=1;12>=jj;jj++)Hi[jj+111]=Hi[jj+63235]="F"+jj;var Qi={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",
PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart",
"Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd",
"Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore",
"Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Qi["default"]=ia?Qi.macDefault:Qi.pcDefault;var wj={selectAll:Zc,
singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),kd)},killLine:function(a){return dh(a,function(u){if(u.empty()){var T=xa(a.doc,u.head.line).text.length;return u.head.ch==T&&u.head.line<a.lastLine()?{from:u.head,to:ua(u.head.line+1,0)}:{from:u.head,to:ua(u.head.line,T)}}return{from:u.from(),to:u.to()}})},deleteLine:function(a){return dh(a,function(u){return{from:ua(u.from().line,0),to:$b(a.doc,ua(u.to().line+1,0))}})},delLineLeft:function(a){return dh(a,
function(u){return{from:ua(u.from().line,0),to:u.from()}})},delWrappedLineLeft:function(a){return dh(a,function(u){var T=a.charCoords(u.head,"div").top+5;return{from:a.coordsChar({left:0,top:T},"div"),to:u.from()}})},delWrappedLineRight:function(a){return dh(a,function(u){var T=a.charCoords(u.head,"div").top+5;T=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:T},"div");return{from:u.from(),to:T}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},
redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(ua(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(ua(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(u){return eg(a,u.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(u){return fg(a,u.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(u){u=u.head.line;var T=
xa(a.doc,u);var Q=T;for(var ba;ba=yb(Q,!1);)Q=ba.find(1,!0).line;Q!=T&&(u=Oa(Q));return Df(!0,a,T,u,-1)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(u){u=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:u},"div")},Qe)},goLineLeft:function(a){return a.extendSelectionsBy(function(u){u=a.cursorCoords(u.head,"div").top+5;return a.coordsChar({left:0,top:u},"div")},Qe)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(u){var T=
a.cursorCoords(u.head,"div").top+5;T=a.coordsChar({left:0,top:T},"div");return T.ch<a.getLine(T.line).search(/\S/)?fg(a,u.head):T},Qe)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,
"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,
"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("\t")},insertSoftTab:function(a){for(var u=[],T=a.listSelections(),Q=a.options.tabSize,ba=0;ba<T.length;ba++){var Ha=T[ba].from();Ha=h(a.getLine(Ha.line),Ha.ch,Q);u.push(G(Q-Ha%Q))}a.replaceSelections(u)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):
a.execCommand("insertTab")},transposeChars:function(a){return Kd(a,function(){for(var u=a.listSelections(),T=[],Q=0;Q<u.length;Q++)if(u[Q].empty()){var ba=u[Q].head,Ha=xa(a.doc,ba.line).text;if(Ha)if(ba.ch==Ha.length&&(ba=new ua(ba.line,ba.ch-1)),0<ba.ch)ba=new ua(ba.line,ba.ch+1),a.replaceRange(Ha.charAt(ba.ch-1)+Ha.charAt(ba.ch-2),ua(ba.line,ba.ch-2),ba,"+transpose");else if(ba.line>a.doc.first){var Va=xa(a.doc,ba.line-1).text;Va&&(ba=new ua(ba.line,1),a.replaceRange(Ha.charAt(0)+a.doc.lineSeparator()+
Va.charAt(Va.length-1),ua(ba.line-1,Va.length-1),ba,"+transpose"))}T.push(new Jf(ba,ba))}a.setSelections(T)})},newlineAndIndent:function(a){return Kd(a,function(){for(var u=a.listSelections(),T=u.length-1;0<=T;T--)a.replaceRange(a.doc.lineSeparator(),u[T].anchor,u[T].head,"+input");u=a.listSelections();for(T=0;T<u.length;T++)a.indentLine(u[T].from().line,null,!0);Kb(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},yk=new Ld,
ck=null,Pj=function(a,u,T){this.time=a;this.pos=u;this.button=T};Pj.prototype.compare=function(a,u,T){return this.time+400>a&&0==Ta(u,this.pos)&&T==this.button};var Fj,Gj,dj={toString:function(){return"CodeMirror.Init"}},tk={},Mj={};df.defaults=tk;df.optionHandlers=Mj;var dk=[];df.defineInitHook=function(a){return dk.push(a)};var Vh=null,Qg=function(a){this.cm=a;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new Ld;this.composing=null;this.gracePeriod=
!1;this.readDOMTimeout=null};Qg.prototype.init=function(a){function u(Ya){for(Ya=Ya.target;Ya;Ya=Ya.parentNode){if(Ya==Va)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Ya.className))break}return!1}function T(Ya){if(u(Ya)&&!B(Ha,Ya)){if(Ha.somethingSelected())Vh={lineWise:!1,text:Ha.getSelections()},"cut"==Ya.type&&Ha.replaceSelection("",null,"cut");else if(Ha.options.lineWiseCopyCut){var wb=mg(Ha);Vh={lineWise:!0,text:wb.text};"cut"==Ya.type&&Ha.operation(function(){Ha.setSelections(wb.ranges,
0,kd);Ha.replaceSelection("",null,"cut")})}else return;if(Ya.clipboardData){Ya.clipboardData.clearData();var Rb=Vh.text.join("\n");Ya.clipboardData.setData("Text",Rb);if(Ya.clipboardData.getData("Text")==Rb){Ya.preventDefault();return}}var ec=Rg();Ya=ec.firstChild;Ha.display.lineSpace.insertBefore(ec,Ha.display.lineSpace.firstChild);Ya.value=Vh.text.join("\n");var Mc=f(Va.ownerDocument);hd(Ya);setTimeout(function(){Ha.display.lineSpace.removeChild(ec);Mc.focus();Mc==Va&&ba.showPrimarySelection()},
50)}}var Q=this,ba=this,Ha=ba.cm,Va=ba.div=a.lineDiv;Va.contentEditable=!0;ci(Va,Ha.options.spellcheck,Ha.options.autocorrect,Ha.options.autocapitalize);$e(Va,"paste",function(Ya){!u(Ya)||B(Ha,Ya)||pf(Ya,Ha)||11>=yg&&setTimeout(ee(Ha,function(){return Q.updateFromDOM()}),20)});$e(Va,"compositionstart",function(Ya){Q.composing={data:Ya.data,done:!1}});$e(Va,"compositionupdate",function(Ya){Q.composing||(Q.composing={data:Ya.data,done:!1})});$e(Va,"compositionend",function(Ya){Q.composing&&(Ya.data!=
Q.composing.data&&Q.readFromDOMSoon(),Q.composing.done=!0)});$e(Va,"touchstart",function(){return ba.forceCompositionEnd()});$e(Va,"input",function(){Q.composing||Q.readFromDOMSoon()});$e(Va,"copy",T);$e(Va,"cut",T)};Qg.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")};Qg.prototype.prepareSelection=function(){var a=ed(this.cm,!1);a.focus=f(this.div.ownerDocument)==this.div;return a};Qg.prototype.showSelection=function(a,
u){a&&this.cm.display.view.length&&((a.focus||u)&&this.showPrimarySelection(),this.showMultipleSelections(a))};Qg.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};Qg.prototype.showPrimarySelection=function(){var a=this.getSelection(),u=this.cm,T=u.doc.sel.primary(),Q=T.from();T=T.to();if(u.display.viewTo==u.display.viewFrom||Q.line>=u.display.viewTo||T.line<u.display.viewFrom)a.removeAllRanges();else{var ba=ii(u,a.anchorNode,a.anchorOffset),Ha=ii(u,a.focusNode,
a.focusOffset);if(!ba||ba.bad||!Ha||Ha.bad||0!=Ta(Mb(ba,Ha),Q)||0!=Ta(nb(ba,Ha),T))if(ba=u.display.view,Q=Q.line>=u.display.viewFrom&&xg(u,Q)||{node:ba[0].measure.map[2],offset:0},T=T.line<u.display.viewTo&&xg(u,T),T||(T=ba[ba.length-1].measure,T=T.maps?T.maps[T.maps.length-1]:T.map,T={node:T[T.length-1],offset:T[T.length-2]-T[T.length-3]}),Q&&T){ba=a.rangeCount&&a.getRangeAt(0);try{var Va=Ac(Q.node,Q.offset,T.offset,T.node)}catch(Ya){}Va&&(!xh&&u.state.focused?(a.collapse(Q.node,Q.offset),Va.collapsed||
(a.removeAllRanges(),a.addRange(Va))):(a.removeAllRanges(),a.addRange(Va)),ba&&null==a.anchorNode?a.addRange(ba):xh&&this.startGracePeriod());this.rememberSelection()}else a.removeAllRanges()}};Qg.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){a.gracePeriod=!1;a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)};Qg.prototype.showMultipleSelections=function(a){p(this.cm.display.cursorDiv,
a.cursors);p(this.cm.display.selectionDiv,a.selection)};Qg.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode;this.lastAnchorOffset=a.anchorOffset;this.lastFocusNode=a.focusNode;this.lastFocusOffset=a.focusOffset};Qg.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;a=a.getRangeAt(0).commonAncestorContainer;return n(this.div,a)};Qg.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&
f(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};Qg.prototype.blur=function(){this.div.blur()};Qg.prototype.getField=function(){return this.div};Qg.prototype.supportsTouch=function(){return!0};Qg.prototype.receivedFocus=function(){function a(){T.cm.state.focused&&(T.pollSelection(),T.polling.set(T.cm.options.pollInterval,a))}var u=this,T=this;this.selectionInEditor()?setTimeout(function(){return u.pollSelection()},20):Kd(this.cm,function(){return T.cm.curOp.selectionChanged=
!0});this.polling.set(this.cm.options.pollInterval,a)};Qg.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset};Qg.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),u=this.cm;if(sh&&ei&&this.cm.display.gutterSpecs.length&&Ah(a.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",
keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var T=ii(u,a.anchorNode,a.anchorOffset),Q=ii(u,a.focusNode,a.focusOffset);T&&Q&&Kd(u,function(){Kg(u.doc,Uf(T,Q),kd);if(T.bad||Q.bad)u.curOp.selectionChanged=!0})}}};Qg.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,u=a.display,T=a.doc.sel.primary(),Q=T.from(),ba=T.to();0==Q.ch&&Q.line>a.firstLine()&&
(Q=ua(Q.line-1,xa(a.doc,Q.line-1).length));ba.ch==xa(a.doc,ba.line).text.length&&ba.line<a.lastLine()&&(ba=ua(ba.line+1,0));if(Q.line<u.viewFrom||ba.line>u.viewTo-1)return!1;var Ha;Q.line==u.viewFrom||0==(Ha=Nc(a,Q.line))?(T=Oa(u.view[0].line),Ha=u.view[0].node):(T=Oa(u.view[Ha].line),Ha=u.view[Ha-1].node.nextSibling);var Va=Nc(a,ba.line);Va==u.view.length-1?(ba=u.viewTo-1,u=u.lineDiv.lastChild):(ba=Oa(u.view[Va+1].line)-1,u=u.view[Va+1].node.previousSibling);if(!Ha)return!1;u=a.doc.splitLines(eh(a,
Ha,u,T,ba));for(Ha=Ua(a.doc,ua(T,0),ua(ba,xa(a.doc,ba).text.length));1<u.length&&1<Ha.length;)if(I(u)==I(Ha))u.pop(),Ha.pop(),ba--;else if(u[0]==Ha[0])u.shift(),Ha.shift(),T++;else break;var Ya=0;Va=0;for(var wb=u[0],Rb=Ha[0],ec=Math.min(wb.length,Rb.length);Ya<ec&&wb.charCodeAt(Ya)==Rb.charCodeAt(Ya);)++Ya;wb=I(u);Rb=I(Ha);for(ec=Math.min(wb.length-(1==u.length?Ya:0),Rb.length-(1==Ha.length?Ya:0));Va<ec&&wb.charCodeAt(wb.length-Va-1)==Rb.charCodeAt(Rb.length-Va-1);)++Va;if(1==u.length&&1==Ha.length&&
T==Q.line)for(;Ya&&Ya>Q.ch&&wb.charCodeAt(wb.length-Va-1)==Rb.charCodeAt(Rb.length-Va-1);)Ya--,Va++;u[u.length-1]=wb.slice(0,wb.length-Va).replace(/^\u200b+/,"");u[0]=u[0].slice(Ya).replace(/\u200b+$/,"");Q=ua(T,Ya);T=ua(ba,Ha.length?I(Ha).length-Va:0);if(1<u.length||u[0]||Ta(Q,T))return Oe(a.doc,u,Q,T,"+input"),!0};Qg.prototype.ensurePolled=function(){this.forceCompositionEnd()};Qg.prototype.reset=function(){this.forceCompositionEnd()};Qg.prototype.forceCompositionEnd=function(){this.composing&&
(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};Qg.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){a.readDOMTimeout=null;if(a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))};Qg.prototype.updateFromDOM=function(){var a=this;!this.cm.isReadOnly()&&this.pollContent()||Kd(this.cm,function(){return Jc(a.cm)})};Qg.prototype.setUneditable=
function(a){a.contentEditable="false"};Qg.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||ee(this.cm,He)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))};Qg.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)};Qg.prototype.onContextMenu=function(){};Qg.prototype.resetPosition=function(){};Qg.prototype.needsContentAttribute=!0;var th=function(a){this.cm=a;this.prevInput="";this.pollingFast=
!1;this.polling=new Ld;this.hasSelection=!1;this.composing=null;this.resetting=!1};th.prototype.init=function(a){function u(Va){if(!B(ba,Va)){if(ba.somethingSelected())Vh={lineWise:!1,text:ba.getSelections()};else if(ba.options.lineWiseCopyCut){var Ya=mg(ba);Vh={lineWise:!0,text:Ya.text};"cut"==Va.type?ba.setSelections(Ya.ranges,null,kd):(Q.prevInput="",Ha.value=Ya.text.join("\n"),hd(Ha))}else return;"cut"==Va.type&&(ba.state.cutIncoming=+new Date)}}var T=this,Q=this,ba=this.cm;this.createField(a);
var Ha=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild);ni&&(Ha.style.width="0px");$e(Ha,"input",function(){Zf&&9<=yg&&T.hasSelection&&(T.hasSelection=null);Q.poll()});$e(Ha,"paste",function(Va){B(ba,Va)||pf(Va,ba)||(ba.state.pasteIncoming=+new Date,Q.fastPoll())});$e(Ha,"cut",u);$e(Ha,"copy",u);$e(a.scroller,"paste",function(Va){if(!Hd(a,Va)&&!B(ba,Va))if(Ha.dispatchEvent){var Ya=new Event("paste");Ya.clipboardData=Va.clipboardData;Ha.dispatchEvent(Ya)}else ba.state.pasteIncoming=
+new Date,Q.focus()});$e(a.lineSpace,"selectstart",function(Va){Hd(a,Va)||qa(Va)});$e(Ha,"compositionstart",function(){var Va=ba.getCursor("from");Q.composing&&Q.composing.range.clear();Q.composing={start:Va,range:ba.markText(Va,ba.getCursor("to"),{className:"CodeMirror-composing"})}});$e(Ha,"compositionend",function(){Q.composing&&(Q.poll(),Q.composing.range.clear(),Q.composing=null)})};th.prototype.createField=function(a){this.wrapper=Rg();this.textarea=this.wrapper.firstChild};th.prototype.screenReaderLabelChanged=
function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")};th.prototype.prepareSelection=function(){var a=this.cm,u=a.display,T=a.doc,Q=ed(a);if(a.options.moveInputWithCursor){a=qc(a,T.sel.primary().head,"div");T=u.wrapper.getBoundingClientRect();var ba=u.lineDiv.getBoundingClientRect();Q.teTop=Math.max(0,Math.min(u.wrapper.clientHeight-10,a.top+ba.top-T.top));Q.teLeft=Math.max(0,Math.min(u.wrapper.clientWidth-10,a.left+ba.left-T.left))}return Q};th.prototype.showSelection=
function(a){var u=this.cm.display;p(u.cursorDiv,a.cursors);p(u.selectionDiv,a.selection);null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")};th.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing&&a)){var u=this.cm;this.resetting=!0;u.somethingSelected()?(this.prevInput="",a=u.getSelection(),this.textarea.value=a,u.state.focused&&hd(this.textarea),Zf&&9<=yg&&(this.hasSelection=a)):a||(this.prevInput=this.textarea.value="",Zf&&9<=yg&&(this.hasSelection=
null));this.resetting=!1}};th.prototype.getField=function(){return this.textarea};th.prototype.supportsTouch=function(){return!1};th.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Oi||f(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(a){}};th.prototype.blur=function(){this.textarea.blur()};th.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};th.prototype.receivedFocus=function(){this.slowPoll()};th.prototype.slowPoll=
function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll();a.cm.state.focused&&a.slowPoll()})};th.prototype.fastPoll=function(){function a(){T.poll()||u?(T.pollingFast=!1,T.slowPoll()):(u=!0,T.polling.set(60,a))}var u=!1,T=this;T.pollingFast=!0;T.polling.set(20,a)};th.prototype.poll=function(){var a=this,u=this.cm,T=this.textarea,Q=this.prevInput;if(this.contextMenuPending||this.resetting||!u.state.focused||Ne(T)&&!Q&&!this.composing||u.isReadOnly()||
u.options.disableInput||u.state.keySeq)return!1;var ba=T.value;if(ba==Q&&!u.somethingSelected())return!1;if(Zf&&9<=yg&&this.hasSelection===ba||ia&&/[\uf700-\uf7ff]/.test(ba))return u.display.input.reset(),!1;if(u.doc.sel==u.display.selForContextMenu){var Ha=ba.charCodeAt(0);8203!=Ha||Q||(Q="​");if(8666==Ha)return this.reset(),this.cm.execCommand("undo")}var Va=0;for(Ha=Math.min(Q.length,ba.length);Va<Ha&&Q.charCodeAt(Va)==ba.charCodeAt(Va);)++Va;Kd(u,function(){He(u,ba.slice(Va),Q.length-Va,null,
a.composing?"*compose":null);1E3<ba.length||-1<ba.indexOf("\n")?T.value=a.prevInput="":a.prevInput=ba;a.composing&&(a.composing.range.clear(),a.composing.range=u.markText(a.composing.start,u.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};th.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};th.prototype.onKeyPress=function(){Zf&&9<=yg&&(this.hasSelection=null);this.fastPoll()};th.prototype.onContextMenu=function(a){function u(){if(null!=Va.selectionStart){var ad=
ba.somethingSelected(),Wd="​"+(ad?Va.value:"");Va.value="⇚";Va.value=Wd;Q.prevInput=ad?"":"​";Va.selectionStart=1;Va.selectionEnd=Wd.length;Ha.selForContextMenu=ba.doc.sel}}function T(){if(Q.contextMenuPending==T&&(Q.contextMenuPending=!1,Q.wrapper.style.cssText=ec,Va.style.cssText=Rb,Zf&&9>yg&&Ha.scrollbars.setScrollTop(Ha.scroller.scrollTop=wb),null!=Va.selectionStart)){(!Zf||Zf&&9>yg)&&u();var ad=0,Wd=function(){Ha.selForContextMenu==ba.doc.sel&&0==Va.selectionStart&&0<Va.selectionEnd&&"​"==Q.prevInput?
ee(ba,Zc)(ba):10>ad++?Ha.detectingSelectAll=setTimeout(Wd,500):(Ha.selForContextMenu=null,Ha.input.reset())};Ha.detectingSelectAll=setTimeout(Wd,200)}}var Q=this,ba=Q.cm,Ha=ba.display,Va=Q.textarea;Q.contextMenuPending&&Q.contextMenuPending();var Ya=kc(ba,a),wb=Ha.scroller.scrollTop;if(Ya&&!Oh){ba.options.resetSelectionOnContextMenu&&-1==ba.doc.sel.contains(Ya)&&ee(ba,Kg)(ba.doc,Uf(Ya),kd);var Rb=Va.style.cssText,ec=Q.wrapper.style.cssText;Ya=Q.wrapper.offsetParent.getBoundingClientRect();Q.wrapper.style.cssText=
"position: static";Va.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-Ya.top-5)+"px; left: "+(a.clientX-Ya.left-5)+"px;\n      z-index: 1000; background: "+(Zf?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Zg)var Mc=Va.ownerDocument.defaultView.scrollY;Ha.input.focus();Zg&&Va.ownerDocument.defaultView.scrollTo(null,Mc);Ha.input.reset();ba.somethingSelected()||
(Va.value=Q.prevInput=" ");Q.contextMenuPending=T;Ha.selForContextMenu=ba.doc.sel;clearTimeout(Ha.detectingSelectAll);Zf&&9<=yg&&u();if(ac){bb(a);var Wc=function(){X(window,"mouseup",Wc);setTimeout(T,20)};$e(window,"mouseup",Wc)}else setTimeout(T,50)}};th.prototype.readOnlyChanged=function(a){a||this.reset();this.textarea.disabled="nocursor"==a;this.textarea.readOnly=!!a};th.prototype.setUneditable=function(){};th.prototype.needsContentAttribute=!1;(function(a){function u(Q,ba,Ha,Va){a.defaults[Q]=
ba;Ha&&(T[Q]=Va?function(Ya,wb,Rb){Rb!=dj&&Ha(Ya,wb,Rb)}:Ha)}var T=a.optionHandlers;a.defineOption=u;a.Init=dj;u("value","",function(Q,ba){return Q.setValue(ba)},!0);u("mode",null,function(Q,ba){Q.doc.modeOption=ba;Ig(Q)},!0);u("indentUnit",2,Ig,!0);u("indentWithTabs",!1);u("smartIndent",!0);u("tabSize",4,function(Q){Jg(Q);Ad(Q);Jc(Q)},!0);u("lineSeparator",null,function(Q,ba){if(Q.doc.lineSep=ba){var Ha=[],Va=Q.doc.first;Q.doc.iter(function(wb){for(var Rb=0;;){var ec=wb.text.indexOf(ba,Rb);if(-1==
ec)break;Rb=ec+ba.length;Ha.push(ua(Va,ec))}Va++});for(var Ya=Ha.length-1;0<=Ya;Ya--)Oe(Q.doc,ba,Ha[Ya],ua(Ha[Ya].line,Ha[Ya].ch+ba.length))}});u("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(Q,ba,Ha){Q.state.specialChars=new RegExp(ba.source+(ba.test("\t")?"":"|\t"),"g");Ha!=dj&&Q.refresh()});u("specialCharPlaceholder",le,function(Q){return Q.refresh()},!0);u("electricChars",!0);u("inputStyle",Oi?
"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);u("spellcheck",!1,function(Q,ba){return Q.getInputField().spellcheck=ba},!0);u("autocorrect",!1,function(Q,ba){return Q.getInputField().autocorrect=ba},!0);u("autocapitalize",!1,function(Q,ba){return Q.getInputField().autocapitalize=ba},!0);u("rtlMoveVisually",!Sa);u("wholeLineUpdateBefore",!0);u("theme","default",function(Q){De(Q);ug(Q)},!0);u("keyMap","default",function(Q,ba,Ha){ba=
ai(ba);(Ha=Ha!=dj&&ai(Ha))&&Ha.detach&&Ha.detach(Q,ba);ba.attach&&ba.attach(Q,Ha||null)});u("extraKeys",null);u("configureMouse",null);u("lineWrapping",!1,Ze,!0);u("gutters",[],function(Q,ba){Q.display.gutterSpecs=Ag(ba,Q.options.lineNumbers);ug(Q)},!0);u("fixedGutter",!0,function(Q,ba){Q.display.gutters.style.left=ba?Ea(Q.display)+"px":"0";Q.refresh()},!0);u("coverGutterNextToScrollbar",!1,function(Q){return Be(Q)},!0);u("scrollbarStyle","native",function(Q){Ae(Q);Be(Q);Q.display.scrollbars.setScrollTop(Q.doc.scrollTop);
Q.display.scrollbars.setScrollLeft(Q.doc.scrollLeft)},!0);u("lineNumbers",!1,function(Q,ba){Q.display.gutterSpecs=Ag(Q.options.gutters,ba);ug(Q)},!0);u("firstLineNumber",1,ug,!0);u("lineNumberFormatter",function(Q){return Q},ug,!0);u("showCursorWhenSelecting",!1,Jd,!0);u("resetSelectionOnContextMenu",!0);u("lineWiseCopyCut",!0);u("pasteLinesPerSelection",!0);u("selectionsMayTouch",!1);u("readOnly",!1,function(Q,ba){"nocursor"==ba&&(Pb(Q),Q.display.input.blur());Q.display.input.readOnlyChanged(ba)});
u("screenReaderLabel",null,function(Q,ba){Q.display.input.screenReaderLabelChanged(""===ba?null:ba)});u("disableInput",!1,function(Q,ba){ba||Q.display.input.reset()},!0);u("dragDrop",!0,tf);u("allowDropFileTypes",null);u("cursorBlinkRate",530);u("cursorScrollMargin",0);u("cursorHeight",1,Jd,!0);u("singleCursorHeightPerLine",!0,Jd,!0);u("workTime",100);u("workDelay",100);u("flattenSpans",!0,Jg,!0);u("addModeClass",!1,Jg,!0);u("pollInterval",100);u("undoDepth",200,function(Q,ba){return Q.doc.history.undoDepth=
ba});u("historyEventDelay",1250);u("viewportMargin",10,function(Q){return Q.refresh()},!0);u("maxHighlightLength",1E4,Jg,!0);u("moveInputWithCursor",!0,function(Q,ba){ba||Q.display.input.resetPosition()});u("tabindex",null,function(Q,ba){return Q.display.input.getField().tabIndex=ba||""});u("autofocus",null);u("direction","ltr",function(Q,ba){return Q.doc.setDirection(ba)},!0);u("phrases",null)})(df);(function(a){var u=a.optionHandlers,T=a.helpers={};a.prototype={constructor:a,focus:function(){e(this).defaultView.focus();
this.display.input.focus()},setOption:function(Q,ba){var Ha=this.options,Va=Ha[Q];if(Ha[Q]!=ba||"mode"==Q)Ha[Q]=ba,u.hasOwnProperty(Q)&&ee(this,u[Q])(this,ba,Va),D(this,"optionChange",this,Q)},getOption:function(Q){return this.options[Q]},getDoc:function(){return this.doc},addKeyMap:function(Q,ba){this.state.keyMaps[ba?"push":"unshift"](ai(Q))},removeKeyMap:function(Q){for(var ba=this.state.keyMaps,Ha=0;Ha<ba.length;++Ha)if(ba[Ha]==Q||ba[Ha].name==Q)return ba.splice(Ha,1),!0},addOverlay:xe(function(Q,
ba){var Ha=Q.token?Q:a.getMode(this.options,Q);if(Ha.startState)throw Error("Overlays may not be stateful.");C(this.state.overlays,{mode:Ha,modeSpec:Q,opaque:ba&&ba.opaque,priority:ba&&ba.priority||0},function(Va){return Va.priority});this.state.modeGen++;Jc(this)}),removeOverlay:xe(function(Q){for(var ba=this.state.overlays,Ha=0;Ha<ba.length;++Ha){var Va=ba[Ha].modeSpec;if(Va==Q||"string"==typeof Q&&Va.name==Q){ba.splice(Ha,1);this.state.modeGen++;Jc(this);break}}}),indentLine:xe(function(Q,ba,Ha){"string"!=
typeof ba&&"number"!=typeof ba&&(ba=null==ba?this.options.smartIndent?"smart":"prev":ba?"add":"subtract");U(this.doc,Q)&&gg(this,Q,ba,Ha)}),indentSelection:xe(function(Q){for(var ba=this.doc.sel.ranges,Ha=-1,Va=0;Va<ba.length;Va++){var Ya=ba[Va];if(Ya.empty())Ya.head.line>Ha&&(gg(this,Ya.head.line,Q,!0),Ha=Ya.head.line,Va==this.doc.sel.primIndex&&Kb(this));else{var wb=Ya.from();Ya=Ya.to();var Rb=Math.max(Ha,wb.line);Ha=Math.min(this.lastLine(),Ya.line-(Ya.ch?0:1))+1;for(Ya=Rb;Ya<Ha;++Ya)gg(this,Ya,
Q);Ya=this.doc.sel.ranges;0==wb.ch&&ba.length==Ya.length&&0<Ya[Va].from().ch&&Lh(this.doc,Va,new Jf(wb,Ya[Va].to()),kd)}}}),getTokenAt:function(Q,ba){return dc(this,Q,ba)},getLineTokens:function(Q,ba){return dc(this,ua(Q),ba,!0)},getTokenTypeAt:function(Q){Q=$b(this.doc,Q);var ba=Bc(this,xa(this.doc,Q.line)),Ha=0,Va=(ba.length-1)/2;Q=Q.ch;if(0==Q)ba=ba[2];else for(;;){var Ya=Ha+Va>>1;if((Ya?ba[2*Ya-1]:0)>=Q)Va=Ya;else if(ba[2*Ya+1]<Q)Ha=Ya+1;else{ba=ba[2*Ya+2];break}}Ha=ba?ba.indexOf("overlay "):
-1;return 0>Ha?ba:0==Ha?null:ba.slice(0,Ha-1)},getModeAt:function(Q){var ba=this.doc.mode;return ba.innerMode?a.innerMode(ba,this.getTokenAt(Q).state).mode:ba},getHelper:function(Q,ba){return this.getHelpers(Q,ba)[0]},getHelpers:function(Q,ba){var Ha=[];if(!T.hasOwnProperty(ba))return Ha;var Va=T[ba];Q=this.getModeAt(Q);if("string"==typeof Q[ba])Va[Q[ba]]&&Ha.push(Va[Q[ba]]);else if(Q[ba])for(var Ya=0;Ya<Q[ba].length;Ya++){var wb=Va[Q[ba][Ya]];wb&&Ha.push(wb)}else Q.helperType&&Va[Q.helperType]?Ha.push(Va[Q.helperType]):
Va[Q.name]&&Ha.push(Va[Q.name]);for(ba=0;ba<Va._global.length;ba++)Ya=Va._global[ba],Ya.pred(Q,this)&&-1==x(Ha,Ya.val)&&Ha.push(Ya.val);return Ha},getStateAfter:function(Q,ba){var Ha=this.doc;Q=Math.max(Ha.first,Math.min(null==Q?Ha.first+Ha.size-1:Q,Ha.first+Ha.size-1));return uc(this,Q+1,ba).state},cursorCoords:function(Q,ba){var Ha=this.doc.sel.primary();Q=null==Q?Ha.head:"object"==typeof Q?$b(this.doc,Q):Q?Ha.from():Ha.to();return qc(this,Q,ba||"page")},charCoords:function(Q,ba){return gd(this,
$b(this.doc,Q),ba||"page")},coordsChar:function(Q,ba){Q=tc(this,Q,ba||"page");return ic(this,Q.left,Q.top)},lineAtHeight:function(Q,ba){Q=tc(this,{top:Q,left:0},ba||"page").top;return ja(this.doc,Q+this.display.viewOffset)},heightAtLine:function(Q,ba,Ha){var Va=!1;if("number"==typeof Q){var Ya=this.doc.first+this.doc.size-1;Q<this.doc.first?Q=this.doc.first:Q>Ya&&(Q=Ya,Va=!0);Q=xa(this.doc,Q)}return Xb(this,Q,{top:0,left:0},ba||"page",Ha||Va).top+(Va?this.doc.height-nd(Q):0)},defaultTextHeight:function(){return Se(this.display)},
defaultCharWidth:function(){return ha(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(Q,ba,Ha,Va,Ya){var wb=this.display;Q=qc(this,$b(this.doc,Q));var Rb=Q.bottom,ec=Q.left;ba.style.position="absolute";ba.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(ba);wb.sizer.appendChild(ba);if("over"==Va)Rb=Q.top;else if("above"==Va||"near"==Va){var Mc=Math.max(wb.wrapper.clientHeight,this.doc.height),Wc=Math.max(wb.sizer.clientWidth,
wb.lineSpace.clientWidth);("above"==Va||Q.bottom+ba.offsetHeight>Mc)&&Q.top>ba.offsetHeight?Rb=Q.top-ba.offsetHeight:Q.bottom+ba.offsetHeight<=Mc&&(Rb=Q.bottom);ec+ba.offsetWidth>Wc&&(ec=Wc-ba.offsetWidth)}ba.style.top=Rb+"px";ba.style.left=ba.style.right="";"right"==Ya?(ec=wb.sizer.clientWidth-ba.offsetWidth,ba.style.right="0px"):("left"==Ya?ec=0:"middle"==Ya&&(ec=(wb.sizer.clientWidth-ba.offsetWidth)/2),ba.style.left=ec+"px");Ha&&(Q=gb(this,{left:ec,top:Rb,right:ec+ba.offsetWidth,bottom:Rb+ba.offsetHeight}),
null!=Q.scrollTop&&yc(this,Q.scrollTop),null!=Q.scrollLeft&&Ec(this,Q.scrollLeft))},triggerOnKeyDown:xe(pc),triggerOnKeyPress:xe(pa),triggerOnKeyUp:Vc,triggerOnMouseDown:xe(mb),execCommand:function(Q){if(wj.hasOwnProperty(Q))return wj[Q].call(null,this)},triggerElectric:xe(function(Q){Hf(this,Q)}),findPosH:function(Q,ba,Ha,Va){var Ya=1;0>ba&&(Ya=-1,ba=-ba);Q=$b(this.doc,Q);for(var wb=0;wb<ba&&(Q=Cg(this.doc,Q,Ya,Ha,Va),!Q.hitSide);++wb);return Q},moveH:xe(function(Q,ba){var Ha=this;this.extendSelectionsBy(function(Va){return Ha.display.shift||
Ha.doc.extend||Va.empty()?Cg(Ha.doc,Va.head,Q,ba,Ha.options.rtlMoveVisually):0>Q?Va.from():Va.to()},Qe)}),deleteH:xe(function(Q,ba){var Ha=this.doc;this.doc.sel.somethingSelected()?Ha.replaceSelection("",null,"+delete"):dh(this,function(Va){var Ya=Cg(Ha,Va.head,Q,ba,!1);return 0>Q?{from:Ya,to:Va.head}:{from:Va.head,to:Ya}})}),findPosV:function(Q,ba,Ha,Va){var Ya=1;0>ba&&(Ya=-1,ba=-ba);var wb=$b(this.doc,Q);for(Q=0;Q<ba&&(wb=qc(this,wb,"div"),null==Va?Va=wb.left:wb.left=Va,wb=li(this,wb,Ya,Ha),!wb.hitSide);++Q);
return wb},moveV:xe(function(Q,ba){var Ha=this,Va=this.doc,Ya=[],wb=!this.display.shift&&!Va.extend&&Va.sel.somethingSelected();Va.extendSelectionsBy(function(ec){if(wb)return 0>Q?ec.from():ec.to();var Mc=qc(Ha,ec.head,"div");null!=ec.goalColumn&&(Mc.left=ec.goalColumn);Ya.push(Mc.left);var Wc=li(Ha,Mc,Q,ba);"page"==ba&&ec==Va.sel.primary()&&Fb(Ha,gd(Ha,Wc,"div").top-Mc.top);return Wc},Qe);if(Ya.length)for(var Rb=0;Rb<Va.sel.ranges.length;Rb++)Va.sel.ranges[Rb].goalColumn=Ya[Rb]}),findWordAt:function(Q){var ba=
xa(this.doc,Q.line).text,Ha=Q.ch,Va=Q.ch;if(ba){var Ya=this.getHelper(Q,"wordChars");"before"!=Q.sticky&&Va!=ba.length||!Ha?++Va:--Ha;var wb=ba.charAt(Ha);for(wb=R(wb,Ya)?function(Rb){return R(Rb,Ya)}:/\s/.test(wb)?function(Rb){return/\s/.test(Rb)}:function(Rb){return!/\s/.test(Rb)&&!R(Rb)};0<Ha&&wb(ba.charAt(Ha-1));)--Ha;for(;Va<ba.length&&wb(ba.charAt(Va));)++Va}return new Jf(ua(Q.line,Ha),ua(Q.line,Va))},toggleOverwrite:function(Q){if(null==Q||Q!=this.state.overwrite)(this.state.overwrite=!this.state.overwrite)?
b(this.display.cursorDiv,"CodeMirror-overwrite"):jc(this.display.cursorDiv,"CodeMirror-overwrite"),D(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==f(e(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:xe(function(Q,ba){Ob(this,Q,ba)}),getScrollInfo:function(){var Q=this.display.scroller;return{left:Q.scrollLeft,top:Q.scrollTop,height:Q.scrollHeight-he(this)-this.display.barHeight,width:Q.scrollWidth-
he(this)-this.display.barWidth,clientHeight:re(this),clientWidth:Ce(this)}},scrollIntoView:xe(function(Q,ba){null==Q?(Q={from:this.doc.sel.primary().head,to:null},null==ba&&(ba=this.options.cursorScrollMargin)):"number"==typeof Q?Q={from:ua(Q,0),to:null}:null==Q.from&&(Q={from:Q,to:null});Q.to||(Q.to=Q.from);Q.margin=ba||0;null!=Q.from.line?(oc(this),this.curOp.scrollToPos=Q):Oc(this,Q.from,Q.to,Q.margin)}),setSize:xe(function(Q,ba){var Ha=this,Va=function(wb){return"number"==typeof wb||/^\d+$/.test(String(wb))?
wb+"px":wb};null!=Q&&(this.display.wrapper.style.width=Va(Q));null!=ba&&(this.display.wrapper.style.height=Va(ba));this.options.lineWrapping&&bd(this);var Ya=this.display.viewFrom;this.doc.iter(Ya,this.display.viewTo,function(wb){if(wb.widgets)for(var Rb=0;Rb<wb.widgets.length;Rb++)if(wb.widgets[Rb].noHScroll){pd(Ha,Ya,"widget");break}++Ya});this.curOp.forceUpdate=!0;D(this,"refresh",this)}),operation:function(Q){return Kd(this,Q)},startOperation:function(){return Zd(this)},endOperation:function(){return vd(this)},
refresh:xe(function(){var Q=this.display.cachedTextHeight;Jc(this);this.curOp.forceUpdate=!0;Ad(this);Ob(this,this.doc.scrollLeft,this.doc.scrollTop);ie(this.display);(null==Q||.5<Math.abs(Q-Se(this.display))||this.options.lineWrapping)&&Yb(this);D(this,"refresh",this)}),swapDoc:xe(function(Q){var ba=this.doc;ba.cm=null;this.state.selectingText&&this.state.selectingText();yd(this,Q);Ad(this);this.display.input.reset();Ob(this,Q.scrollLeft,Q.scrollTop);this.curOp.forceScroll=!0;za(this,"swapDoc",this,
ba);return ba}),phrase:function(Q){var ba=this.options.phrases;return ba&&Object.prototype.hasOwnProperty.call(ba,Q)?ba[Q]:Q},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Aa(a);a.registerHelper=function(Q,ba,Ha){T.hasOwnProperty(Q)||(T[Q]=a[Q]={_global:[]});T[Q][ba]=Ha};a.registerGlobalHelper=function(Q,ba,
Ha,Va){a.registerHelper(Q,ba,Va);T[Q]._global.push({pred:Ha,val:Va})}})(df);var al="iter insert remove copy getEditor constructor".split(" "),nj;for(nj in ph.prototype)ph.prototype.hasOwnProperty(nj)&&0>x(al,nj)&&(df.prototype[nj]=function(a){return function(){return a.apply(this.doc,arguments)}}(ph.prototype[nj]));Aa(ph);df.inputStyles={textarea:th,contenteditable:Qg};df.defineMode=function(a){df.defaults.mode||"null"==a||(df.defaults.mode=a);Ma.apply(this,arguments)};df.defineMIME=function(a,u){lg[a]=
u};df.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}});df.defineMIME("text/plain","null");df.defineExtension=function(a,u){df.prototype[a]=u};df.defineDocExtension=function(a,u){ph.prototype[a]=u};df.fromTextArea=function(a,u){function T(){a.value=Ya.getValue()}u=u?m(u):{};u.value=a.value;!u.tabindex&&a.tabIndex&&(u.tabindex=a.tabIndex);!u.placeholder&&a.placeholder&&(u.placeholder=a.placeholder);if(null==u.autofocus){var Q=f(a.ownerDocument);u.autofocus=Q==a||null!=
a.getAttribute("autofocus")&&Q==document.body}if(a.form&&($e(a.form,"submit",T),!u.leaveSubmitMethodAlone)){var ba=a.form;var Ha=ba.submit;try{var Va=ba.submit=function(){T();ba.submit=Ha;ba.submit();ba.submit=Va}}catch(wb){}}u.finishInit=function(wb){wb.save=T;wb.getTextArea=function(){return a};wb.toTextArea=function(){wb.toTextArea=isNaN;T();a.parentNode.removeChild(wb.getWrapperElement());a.style.display="";a.form&&(X(a.form,"submit",T),u.leaveSubmitMethodAlone||"function"!=typeof a.form.submit||
(a.form.submit=Ha))}};a.style.display="none";var Ya=df(function(wb){return a.parentNode.insertBefore(wb,a.nextSibling)},u);return Ya};(function(a){a.off=X;a.on=$e;a.wheelEventPixels=Cf;a.Doc=ph;a.splitLines=Jh;a.countColumn=h;a.findColumn=O;a.isWordChar=K;a.Pass=be;a.signal=D;a.Line=$i;a.changeEnd=Xf;a.scrollbarModel=xk;a.Pos=ua;a.cmpPos=Ta;a.modes=ye;a.mimeModes=lg;a.resolveMode=ma;a.getMode=Fa;a.modeExtensions=Eg;a.extendMode=Ra;a.copyState=ra;a.startState=oa;a.innerMode=ya;a.commands=wj;a.keyMap=
Qi;a.keyName=Yh;a.isModifierKey=Pg;a.lookupKey=jf;a.normalizeKeyMap=hf;a.StringStream=yf;a.SharedTextMarker=gj;a.TextMarker=vi;a.LineWidget=Fi;a.e_preventDefault=qa;a.e_stopPropagation=la;a.e_stop=bb;a.addClass=b;a.contains=n;a.rmClass=jc;a.keyNames=Hi})(df);df.version="5.65.8";return df})};
shadow$provide[52]=function(Ka,L,sb,A){(function(w){"object"===typeof A&&"object"===typeof sb?w(L(51)):"function"===typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){w.defineMode("clojure",function(k){function p(C,r){if(C.eatSpace()||C.eat(","))return["space",null];if(C.match(G))return[null,"number"];if(C.match(I))return[null,"string-2"];if(C.eat(/^"/))return(r.tokenize=q)(C,r);if(C.eat(/^[(\[{]/))return["open","bracket"];if(C.eat(/^[)\]}]/))return["close","bracket"];
if(C.eat(/^;/))return C.skipToEnd(),["space","comment"];if(C.eat(/^[#'@^`~]/))return[null,"meta"];var y=C.match(F);y=y&&y[0];return y?"comment"===y&&"("===r.lastToken?(r.tokenize=t)(C,r):f(y,g)||":"===y.charAt(0)?["symbol","atom"]:f(y,m)||f(y,h)?["symbol","keyword"]:"("===r.lastToken?["symbol","builtin"]:["symbol","variable"]:(C.next(),C.eatWhile(function(K){return!f(K,O)}),[null,"error"])}function q(C,r){for(var y=!1,K;K=C.next();){if('"'===K&&!y){r.tokenize=p;break}y=!y&&"\\"===K}return[null,"string"]}
function t(C,r){for(var y=1,K;K=C.next();)if(")"===K&&y--,"("===K&&y++,0===y){C.backUp(1);r.tokenize=p;break}return["space","comment"]}function n(C){for(var r={},y=0;y<C.length;++y)r[C[y]]=!0;return r}function f(C,r){if(r instanceof RegExp)return r.test(C);if(r instanceof Object)return r.propertyIsEnumerable(C)}var b=["false","nil","true"],c=". catch def do if monitor-enter monitor-exit new quote recur set! throw try var".split(" "),e="* *' *1 *2 *3 *agent* *allow-unresolved-vars* *assert* *clojure-version* *command-line-args* *compile-files* *compile-path* *compiler-options* *data-readers* *default-data-reader-fn* *e *err* *file* *flush-on-newline* *fn-loader* *in* *math-context* *ns* *out* *print-dup* *print-length* *print-level* *print-meta* *print-namespace-maps* *print-readably* *read-eval* *reader-resolver* *source-path* *suppress-read* *unchecked-math* *use-context-classloader* *verbose-defrecords* *warn-on-reflection* + +' - -' -\x3e -\x3e\x3e -\x3eArrayChunk -\x3eEduction -\x3eVec -\x3eVecNode -\x3eVecSeq -cache-protocol-fn -reset-methods .. / \x3c \x3c\x3d \x3d \x3d\x3d \x3e \x3e\x3d EMPTY-NODE Inst StackTraceElement-\x3evec Throwable-\x3emap accessor aclone add-classpath add-watch agent agent-error agent-errors aget alength alias all-ns alter alter-meta! alter-var-root amap ancestors and any? apply areduce array-map as-\x3e aset aset-boolean aset-byte aset-char aset-double aset-float aset-int aset-long aset-short assert assoc assoc! assoc-in associative? atom await await-for await1 bases bean bigdec bigint biginteger binding bit-and bit-and-not bit-clear bit-flip bit-not bit-or bit-set bit-shift-left bit-shift-right bit-test bit-xor boolean boolean-array boolean? booleans bound-fn bound-fn* bound? bounded-count butlast byte byte-array bytes bytes? case cast cat char char-array char-escape-string char-name-string char? chars chunk chunk-append chunk-buffer chunk-cons chunk-first chunk-next chunk-rest chunked-seq? class class? clear-agent-errors clojure-version coll? comment commute comp comparator compare compare-and-set! compile complement completing concat cond cond-\x3e cond-\x3e\x3e condp conj conj! cons constantly construct-proxy contains? count counted? create-ns create-struct cycle dec dec' decimal? declare dedupe default-data-readers definline definterface defmacro defmethod defmulti defn defn- defonce defprotocol defrecord defstruct deftype delay delay? deliver denominator deref derive descendants destructure disj disj! dissoc dissoc! distinct distinct? doall dorun doseq dosync dotimes doto double double-array double? doubles drop drop-last drop-while eduction empty empty? ensure ensure-reduced enumeration-seq error-handler error-mode eval even? every-pred every? ex-data ex-info extend extend-protocol extend-type extenders extends? false? ffirst file-seq filter filterv find find-keyword find-ns find-protocol-impl find-protocol-method find-var first flatten float float-array float? floats flush fn fn? fnext fnil for force format frequencies future future-call future-cancel future-cancelled? future-done? future? gen-class gen-interface gensym get get-in get-method get-proxy-class get-thread-bindings get-validator group-by halt-when hash hash-combine hash-map hash-ordered-coll hash-set hash-unordered-coll ident? identical? identity if-let if-not if-some ifn? import in-ns inc inc' indexed? init-proxy inst-ms inst-ms* inst? instance? int int-array int? integer? interleave intern interpose into into-array ints io! isa? iterate iterator-seq juxt keep keep-indexed key keys keyword keyword? last lazy-cat lazy-seq let letfn line-seq list list* list? load load-file load-reader load-string loaded-libs locking long long-array longs loop macroexpand macroexpand-1 make-array make-hierarchy map map-entry? map-indexed map? mapcat mapv max max-key memfn memoize merge merge-with meta method-sig methods min min-key mix-collection-hash mod munge name namespace namespace-munge nat-int? neg-int? neg? newline next nfirst nil? nnext not not-any? not-empty not-every? not\x3d ns ns-aliases ns-imports ns-interns ns-map ns-name ns-publics ns-refers ns-resolve ns-unalias ns-unmap nth nthnext nthrest num number? numerator object-array odd? or parents partial partition partition-all partition-by pcalls peek persistent! pmap pop pop! pop-thread-bindings pos-int? pos? pr pr-str prefer-method prefers primitives-classnames print print-ctor print-dup print-method print-simple print-str printf println println-str prn prn-str promise proxy proxy-call-with-super proxy-mappings proxy-name proxy-super push-thread-bindings pvalues qualified-ident? qualified-keyword? qualified-symbol? quot rand rand-int rand-nth random-sample range ratio? rational? rationalize re-find re-groups re-matcher re-matches re-pattern re-seq read read-line read-string reader-conditional reader-conditional? realized? record? reduce reduce-kv reduced reduced? reductions ref ref-history-count ref-max-history ref-min-history ref-set refer refer-clojure reify release-pending-sends rem remove remove-all-methods remove-method remove-ns remove-watch repeat repeatedly replace replicate require reset! reset-meta! reset-vals! resolve rest restart-agent resultset-seq reverse reversible? rseq rsubseq run! satisfies? second select-keys send send-off send-via seq seq? seqable? seque sequence sequential? set set-agent-send-executor! set-agent-send-off-executor! set-error-handler! set-error-mode! set-validator! set? short short-array shorts shuffle shutdown-agents simple-ident? simple-keyword? simple-symbol? slurp some some-\x3e some-\x3e\x3e some-fn some? sort sort-by sorted-map sorted-map-by sorted-set sorted-set-by sorted? special-symbol? spit split-at split-with str string? struct struct-map subs subseq subvec supers swap! swap-vals! symbol symbol? sync tagged-literal tagged-literal? take take-last take-nth take-while test the-ns thread-bound? time to-array to-array-2d trampoline transduce transient tree-seq true? type unchecked-add unchecked-add-int unchecked-byte unchecked-char unchecked-dec unchecked-dec-int unchecked-divide-int unchecked-double unchecked-float unchecked-inc unchecked-inc-int unchecked-int unchecked-long unchecked-multiply unchecked-multiply-int unchecked-negate unchecked-negate-int unchecked-remainder-int unchecked-short unchecked-subtract unchecked-subtract-int underive unquote unquote-splicing unreduced unsigned-bit-shift-right update update-in update-proxy uri? use uuid? val vals var-get var-set var? vary-meta vec vector vector-of vector? volatile! volatile? vreset! vswap! when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn xml-seq zero? zipmap".split(" ");
w.registerHelper("hintWords","clojure",[].concat(b,c,e));var g=n(b),m=n(c),h=n(e),x=n("-\x3e -\x3e\x3e as-\x3e binding bound-fn case catch comment cond cond-\x3e cond-\x3e\x3e condp def definterface defmethod defn defmacro defprotocol defrecord defstruct deftype do doseq dotimes doto extend extend-protocol extend-type fn for future if if-let if-not if-some let letfn locking loop ns proxy reify struct-map some-\x3e some-\x3e\x3e try when when-first when-let when-not when-some while with-bindings with-bindings* with-in-str with-loading-context with-local-vars with-meta with-open with-out-str with-precision with-redefs with-redefs-fn".split(" ")),
O=/^(?:[\\\[\]\s"(),;@^`{}~]|$)/,G=/^(?:[+\-]?\d+(?:(?:N|(?:[eE][+\-]?\d+))|(?:\.?\d*(?:M|(?:[eE][+\-]?\d+))?)|\/\d+|[xX][0-9a-fA-F]+|r[0-9a-zA-Z]+)?(?=[\\\[\]\s"#'(),;@^`{}~]|$))/,I=/^(?:\\(?:backspace|formfeed|newline|return|space|tab|o[0-7]{3}|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{4}|.)?(?=[\\\[\]\s"(),;@^`{}~]|$))/,F=/^(?:(?:[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*(?:\.[^\\\/\[\]\d\s"#'(),;@^`{}~.][^\\\[\]\s"(),;@^`{}~.\/]*)*\/)?(?:\/|[^\\\/\[\]\d\s"#'(),;@^`{}~][^\\\[\]\s"(),;@^`{}~]*)*(?=[\\\[\]\s"(),;@^`{}~]|$))/;
return{startState:function(){return{ctx:{prev:null,start:0,indentTo:0},lastToken:null,tokenize:p}},token:function(C,r){C.sol()&&"number"!==typeof r.ctx.indentTo&&(r.ctx.indentTo=r.ctx.start+1);var y=r.tokenize(C,r),K=y[0];y=y[1];var R=C.current();"space"!==K&&("("===r.lastToken&&null===r.ctx.indentTo?"symbol"===K&&f(R,x)?r.ctx.indentTo=r.ctx.start+k.indentUnit:r.ctx.indentTo="next":"next"===r.ctx.indentTo&&(r.ctx.indentTo=C.column()),r.lastToken=R);"open"===K?r.ctx={prev:r.ctx,start:C.column(),indentTo:null}:
"close"===K&&(r.ctx=r.ctx.prev||r.ctx);return y},indent:function(C){var r=C.ctx.indentTo;return"number"===typeof r?r:C.ctx.start+1},closeBrackets:{pairs:'()[]{}""'},lineComment:";;"}});w.defineMIME("text/x-clojure","clojure");w.defineMIME("text/x-clojurescript","clojure");w.defineMIME("application/edn","clojure")})};
shadow$provide[53]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){var k={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,
dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,
caseFold:!0},p={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};w.defineMode("xml",function(q,t){function n(ea,Ga){function X(B){Ga.tokenize=B;return B(ea,Ga)}var D=ea.next();if("\x3c"==D){if(ea.eat("!"))return ea.eat("[")?ea.match("CDATA[")?X(c("atom","]]\x3e")):null:ea.match("--")?X(c("comment","--\x3e")):ea.match("DOCTYPE",!0,!0)?(ea.eatWhile(/[\w\._\-]/),X(e(1))):null;if(ea.eat("?"))return ea.eatWhile(/[\w\._\-]/),
Ga.tokenize=c("meta","?\x3e"),"meta";aa=ea.eat("/")?"closeTag":"openTag";Ga.tokenize=f;return"tag bracket"}if("\x26"==D)return(ea.eat("#")?ea.eat("x")?ea.eatWhile(/[a-fA-F\d]/)&&ea.eat(";"):ea.eatWhile(/[\d]/)&&ea.eat(";"):ea.eatWhile(/[\w\.\-:]/)&&ea.eat(";"))?"atom":"error";ea.eatWhile(/[^&<]/);return null}function f(ea,Ga){var X=ea.next();if("\x3e"==X||"/"==X&&ea.eat("\x3e"))return Ga.tokenize=n,aa="\x3e"==X?"endTag":"selfcloseTag","tag bracket";if("\x3d"==X)return aa="equals",null;if("\x3c"==
X)return Ga.tokenize=n,Ga.state=O,Ga.tagName=Ga.tagStart=null,(ea=Ga.tokenize(ea,Ga))?ea+" tag error":"tag error";if(/['"]/.test(X))return Ga.tokenize=b(X),Ga.stringStartCol=ea.column(),Ga.tokenize(ea,Ga);ea.match(/^[^\s\u00a0=<>"']*[^\s\u00a0=<>"'\/]/);return"word"}function b(ea){var Ga=function(X,D){for(;!X.eol();)if(X.next()==ea){D.tokenize=f;break}return"string"};Ga.isInAttribute=!0;return Ga}function c(ea,Ga){return function(X,D){for(;!X.eol();){if(X.match(Ga)){D.tokenize=n;break}X.next()}return ea}}
function e(ea){return function(Ga,X){for(var D;null!=(D=Ga.next());){if("\x3c"==D)return X.tokenize=e(ea+1),X.tokenize(Ga,X);if("\x3e"==D)if(1==ea){X.tokenize=n;break}else return X.tokenize=e(ea-1),X.tokenize(Ga,X)}return"meta"}}function g(ea){return ea&&ea.toLowerCase()}function m(ea,Ga,X){this.prev=ea.context;this.tagName=Ga||"";this.indent=ea.indented;this.startOfLine=X;if(ca.doNotIndent.hasOwnProperty(Ga)||ea.context&&ea.context.noIndent)this.noIndent=!0}function h(ea){ea.context&&(ea.context=
ea.context.prev)}function x(ea,Ga){for(var X;ea.context;){X=ea.context.tagName;if(!ca.contextGrabbers.hasOwnProperty(g(X))||!ca.contextGrabbers[g(X)].hasOwnProperty(g(Ga)))break;h(ea)}}function O(ea,Ga,X){return"openTag"==ea?(X.tagStart=Ga.column(),G):"closeTag"==ea?I:O}function G(ea,Ga,X){if("word"==ea)return X.tagName=Ga.current(),Y="tag",r;if(ca.allowMissingTagName&&"endTag"==ea)return Y="tag bracket",r(ea,Ga,X);Y="error";return G}function I(ea,Ga,X){if("word"==ea){ea=Ga.current();X.context&&X.context.tagName!=
ea&&ca.implicitlyClosed.hasOwnProperty(g(X.context.tagName))&&h(X);if(X.context&&X.context.tagName==ea||!1===ca.matchClosing)return Y="tag",F;Y="tag error";return C}if(ca.allowMissingTagName&&"endTag"==ea)return Y="tag bracket",F(ea,Ga,X);Y="error";return C}function F(ea,Ga,X){if("endTag"!=ea)return Y="error",F;h(X);return O}function C(ea,Ga,X){Y="error";return F(ea,Ga,X)}function r(ea,Ga,X){if("word"==ea)return Y="attribute",y;if("endTag"==ea||"selfcloseTag"==ea){Ga=X.tagName;var D=X.tagStart;X.tagName=
X.tagStart=null;"selfcloseTag"==ea||ca.autoSelfClosers.hasOwnProperty(g(Ga))?x(X,Ga):(x(X,Ga),X.context=new m(X,Ga,D==X.indented));return O}Y="error";return r}function y(ea,Ga,X){if("equals"==ea)return K;ca.allowMissing||(Y="error");return r(ea,Ga,X)}function K(ea,Ga,X){if("string"==ea)return R;if("word"==ea&&ca.allowUnquoted)return Y="string",r;Y="error";return r(ea,Ga,X)}function R(ea,Ga,X){return"string"==ea?R:r(ea,Ga,X)}var S=q.indentUnit,ca={};q=t.htmlMode?k:p;for(var M in q)ca[M]=q[M];for(M in t)ca[M]=
t[M];var aa,Y;n.isInText=!0;return{startState:function(ea){var Ga={tokenize:n,state:O,indented:ea||0,tagName:null,tagStart:null,context:null};null!=ea&&(Ga.baseIndent=ea);return Ga},token:function(ea,Ga){!Ga.tagName&&ea.sol()&&(Ga.indented=ea.indentation());if(ea.eatSpace())return null;aa=null;var X=Ga.tokenize(ea,Ga);(X||aa)&&"comment"!=X&&(Y=null,Ga.state=Ga.state(aa||X,ea,Ga),Y&&(X="error"==Y?X+" error":Y));return X},indent:function(ea,Ga,X){var D=ea.context;if(ea.tokenize.isInAttribute)return ea.tagStart==
ea.indented?ea.stringStartCol+1:ea.indented+S;if(D&&D.noIndent)return w.Pass;if(ea.tokenize!=f&&ea.tokenize!=n)return X?X.match(/^(\s*)/)[0].length:0;if(ea.tagName)return!1!==ca.multilineTagIndentPastTag?ea.tagStart+ea.tagName.length+2:ea.tagStart+S*(ca.multilineTagIndentFactor||1);if(ca.alignCDATA&&/<!\[CDATA\[/.test(Ga))return 0;if((Ga=Ga&&/^<(\/)?([\w_:\.-]*)/.exec(Ga))&&Ga[1])for(;D;)if(D.tagName==Ga[2]){D=D.prev;break}else if(ca.implicitlyClosed.hasOwnProperty(g(D.tagName)))D=D.prev;else break;
else if(Ga)for(;D;)if((X=ca.contextGrabbers[g(D.tagName)])&&X.hasOwnProperty(g(Ga[2])))D=D.prev;else break;for(;D&&D.prev&&!D.startOfLine;)D=D.prev;return D?D.indent+S:ea.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:ca.htmlMode?"html":"xml",helperType:ca.htmlMode?"html":"xml",skipAttribute:function(ea){ea.state==K&&(ea.state=r)},xmlCurrentTag:function(ea){return ea.tagName?{name:ea.tagName,close:"closeTag"==ea.type}:null},xmlCurrentContext:function(ea){var Ga=
[];for(ea=ea.context;ea;ea=ea.prev)Ga.push(ea.tagName);return Ga.reverse()}}});w.defineMIME("text/xml","xml");w.defineMIME("application/xml","xml");w.mimeModes.hasOwnProperty("text/html")||w.defineMIME("text/html",{name:"xml",htmlMode:!0})})};
shadow$provide[54]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../lib/codemirror"],w):w(CodeMirror)})(function(w){w.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},
{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:"cpp c++ cc cxx hpp h++ hh hxx".split(" "),alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",
mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",
mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",
ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",
ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},
{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",
ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",
ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript",
"text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",
mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",
mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",
mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",
mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:"php php3 php4 php5 php7 phtml".split(" ")},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:"txt text conf def list log".split(" ")},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",
ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",
ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",
mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",
mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},
{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},
{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:"123456789".split("")},
{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",
mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},
{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",
mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var k=0;k<w.modeInfo.length;k++){var p=w.modeInfo[k];p.mimes&&(p.mime=p.mimes[0])}w.findModeByMIME=function(q){q=q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var n=w.modeInfo[t];if(n.mime==q)return n;if(n.mimes)for(var f=0;f<n.mimes.length;f++)if(n.mimes[f]==q)return n}if(/\+xml$/.test(q))return w.findModeByMIME("application/xml");if(/\+json$/.test(q))return w.findModeByMIME("application/json")};w.findModeByExtension=function(q){q=
q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var n=w.modeInfo[t];if(n.ext)for(var f=0;f<n.ext.length;f++)if(n.ext[f]==q)return n}};w.findModeByFileName=function(q){for(var t=0;t<w.modeInfo.length;t++){var n=w.modeInfo[t];if(n.file&&n.file.test(q))return n}t=q.lastIndexOf(".");if(q=-1<t&&q.substring(t+1,q.length))return w.findModeByExtension(q)};w.findModeByName=function(q){q=q.toLowerCase();for(var t=0;t<w.modeInfo.length;t++){var n=w.modeInfo[t];if(n.name.toLowerCase()==q)return n;if(n.alias)for(var f=
0;f<n.alias.length;f++)if(n.alias[f].toLowerCase()==q)return n}}})};
shadow$provide[55]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51),L(53),L(54)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],w):w(CodeMirror)})(function(w){w.defineMode("markdown",function(k,p){function q(B,N,Z){N.f=N.inline=Z;return Z(B,N)}function t(B){B.linkTitle=!1;B.linkHref=!1;B.linkText=!1;B.em=!1;B.strong=!1;B.strikethrough=!1;B.quote=0;B.indentedCode=!1;if(B.f==f){var N=C;N||(N=w.innerMode(F,B.htmlState),N="xml"==
N.mode.name&&null===N.state.tagStart&&!N.state.context&&N.state.tokenize.isInText);N&&(B.f=g,B.block=n,B.htmlState=null)}B.trailingSpace=0;B.trailingSpaceNewLine=!1;B.prevLine=B.thisLine;B.thisLine={stream:null};return null}function n(B,N){var Z=B.column()===N.indentation,Aa=N.prevLine.stream;var qa=!Aa||!/\S/.test(Aa.string);var la=N.indentedCode,Ja=N.prevLine.hr,bb=!1!==N.list,ib=(N.listStack[N.listStack.length-1]||0)+3;N.indentedCode=!1;Aa=N.indentation;if(null===N.indentationDiff&&(N.indentationDiff=
N.indentation,bb)){for(N.list=null;Aa<N.listStack[N.listStack.length-1];)N.listStack.pop(),N.listStack.length?N.indentation=N.listStack[N.listStack.length-1]:N.list=!1;!1!==N.list&&(N.indentationDiff=Aa-N.listStack[N.listStack.length-1])}var Ma=!qa&&!Ja&&!N.prevLine.header&&(!bb||!la)&&!N.prevLine.fencedCodeEnd,ma=(!1===N.list||Ja||qa)&&N.indentation<=ib&&B.match(K);Ja=null;if(4<=N.indentationDiff&&(la||N.prevLine.fencedCodeEnd||N.prevLine.header||qa))return B.skipToEnd(),N.indentedCode=!0,r.code;
if(B.eatSpace())return null;if(Z&&N.indentation<=ib&&(Ja=B.match(ca))&&6>=Ja[1].length)return N.quote=0,N.header=Ja[1].length,N.thisLine.header=!0,p.highlightFormatting&&(N.formatting="header"),N.f=N.inline,c(N);if(N.indentation<=ib&&B.eat("\x3e"))return N.quote=Z?1:N.quote+1,p.highlightFormatting&&(N.formatting="quote"),B.eatSpace(),c(N);if(!ma&&!N.setext&&Z&&N.indentation<=ib&&(Ja=B.match(R)))return Z=Ja[1]?"ol":"ul",N.indentation=Aa+B.current().length,N.list=!0,N.quote=0,N.listStack.push(N.indentation),
N.em=!1,N.strong=!1,N.code=!1,N.strikethrough=!1,p.taskLists&&B.match(S,!1)&&(N.taskList=!0),N.f=N.inline,p.highlightFormatting&&(N.formatting=["list","list-"+Z]),c(N);if(Z&&N.indentation<=ib&&(Ja=B.match(Y,!0))){N.quote=0;N.fencedEndRE=new RegExp(Ja[1]+"+ *$");if(B=p.fencedCodeBlockHighlighting)B=Ja[2]||p.fencedCodeBlockDefaultMode,w.findModeByName&&(Z=w.findModeByName(B))&&(B=Z.mime||Z.mimes[0]),B=w.getMode(k,B),B="null"==B.name?null:B;N.localMode=B;N.localMode&&(N.localState=w.startState(N.localMode));
N.f=N.block=b;p.highlightFormatting&&(N.formatting="code-block");N.code=-1;return c(N)}return N.setext||!(Ma&&bb||N.quote||!1!==N.list||N.code||ma||ea.test(B.string))&&(Ja=B.lookAhead(1))&&(Ja=Ja.match(M))?(N.setext?(N.header=N.setext,N.setext=0,B.skipToEnd(),p.highlightFormatting&&(N.formatting="header")):(N.header="\x3d"==Ja[0].charAt(0)?1:2,N.setext=N.header),N.thisLine.header=!0,N.f=N.inline,c(N)):ma?(B.skipToEnd(),N.hr=!0,N.thisLine.hr=!0,r.hr):"["===B.peek()?q(B,N,O):q(B,N,N.inline)}function f(B,
N){var Z=F.token(B,N.htmlState);if(!C){var Aa=w.innerMode(F,N.htmlState);if("xml"==Aa.mode.name&&null===Aa.state.tagStart&&!Aa.state.context&&Aa.state.tokenize.isInText||N.md_inside&&-1<B.current().indexOf("\x3e"))N.f=g,N.block=n,N.htmlState=null}return Z}function b(B,N){var Z=N.listStack[N.listStack.length-1]||0,Aa=N.indentation<Z;if(N.fencedEndRE&&N.indentation<=Z+3&&(Aa||B.match(N.fencedEndRE))){p.highlightFormatting&&(N.formatting="code-block");var qa;Aa||(qa=c(N));N.localMode=N.localState=null;
N.block=n;N.f=g;N.fencedEndRE=null;N.code=0;N.thisLine.fencedCodeEnd=!0;return Aa?(Z=N.block,N.f=N.block=Z,Z(B,N)):qa}if(N.localMode)return N.localMode.token(B,N.localState);B.skipToEnd();return r.code}function c(B){var N=[];if(B.formatting){N.push(r.formatting);"string"===typeof B.formatting&&(B.formatting=[B.formatting]);for(var Z=0;Z<B.formatting.length;Z++)N.push(r.formatting+"-"+B.formatting[Z]),"header"===B.formatting[Z]&&N.push(r.formatting+"-"+B.formatting[Z]+"-"+B.header),"quote"===B.formatting[Z]&&
(!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=B.quote?N.push(r.formatting+"-"+B.formatting[Z]+"-"+B.quote):N.push("error"))}if(B.taskOpen)return N.push("meta"),N.length?N.join(" "):null;if(B.taskClosed)return N.push("property"),N.length?N.join(" "):null;B.linkHref?N.push(r.linkHref,"url"):(B.strong&&N.push(r.strong),B.em&&N.push(r.em),B.strikethrough&&N.push(r.strikethrough),B.emoji&&N.push(r.emoji),B.linkText&&N.push(r.linkText),B.code&&N.push(r.code),B.image&&N.push(r.image),B.imageAltText&&N.push(r.imageAltText,
"link"),B.imageMarker&&N.push(r.imageMarker));B.header&&N.push(r.header,r.header+"-"+B.header);B.quote&&(N.push(r.quote),!p.maxBlockquoteDepth||p.maxBlockquoteDepth>=B.quote?N.push(r.quote+"-"+B.quote):N.push(r.quote+"-"+p.maxBlockquoteDepth));!1!==B.list&&((Z=(B.listStack.length-1)%3)?1===Z?N.push(r.list2):N.push(r.list3):N.push(r.list1));B.trailingSpaceNewLine?N.push("trailing-space-new-line"):B.trailingSpace&&N.push("trailing-space-"+(B.trailingSpace%2?"a":"b"));return N.length?N.join(" "):null}
function e(B,N){if(B.match(aa,!0))return c(N)}function g(B,N){var Z=N.text(B,N);if("undefined"!==typeof Z)return Z;if(N.list)return N.list=null,c(N);if(N.taskList)return" "===B.match(S,!0)[1]?N.taskOpen=!0:N.taskClosed=!0,p.highlightFormatting&&(N.formatting="task"),N.taskList=!1,c(N);N.taskOpen=!1;N.taskClosed=!1;if(N.header&&B.match(/^#+$/,!0))return p.highlightFormatting&&(N.formatting="header"),c(N);Z=B.next();if(N.linkTitle){N.linkTitle=!1;var Aa=Z;"("===Z&&(Aa=")");Aa=(Aa+"").replace(/([.?*+^\[\]\\(){}|-])/g,
"\\$1");if(B.match(new RegExp("^\\s*(?:[^"+Aa+"\\\\]+|\\\\\\\\|\\\\.)"+Aa),!0))return r.linkHref}if("`"===Z){Z=N.formatting;p.highlightFormatting&&(N.formatting="code");B.eatWhile("`");B=B.current().length;if(0!=N.code||N.quote&&1!=B){if(B==N.code)return B=c(N),N.code=0,B;N.formatting=Z;return c(N)}N.code=B;return c(N)}if(N.code)return c(N);if("\\"===Z&&(B.next(),p.highlightFormatting))return Z=c(N),N=r.formatting+"-escape",Z?Z+" "+N:N;if("!"===Z&&B.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return N.imageMarker=
!0,N.image=!0,p.highlightFormatting&&(N.formatting="image"),c(N);if("["===Z&&N.imageMarker&&B.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return N.imageMarker=!1,N.imageAltText=!0,p.highlightFormatting&&(N.formatting="image"),c(N);if("]"===Z&&N.imageAltText)return p.highlightFormatting&&(N.formatting="image"),Z=c(N),N.imageAltText=!1,N.image=!1,N.inline=N.f=h,Z;if("["===Z&&!N.image){if(N.linkText&&B.match(/^.*?\]/))return c(N);N.linkText=!0;p.highlightFormatting&&(N.formatting="link");return c(N)}if("]"===
Z&&N.linkText)return p.highlightFormatting&&(N.formatting="link"),Z=c(N),N.linkText=!1,N.inline=N.f=B.match(/\(.*?\)| ?\[.*?\]/,!1)?h:g,Z;if("\x3c"===Z&&B.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=m,p.highlightFormatting&&(N.formatting="link"),Z=c(N),(Z?Z+" ":"")+r.linkInline;if("\x3c"===Z&&B.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return N.f=N.inline=m,p.highlightFormatting&&(N.formatting="link"),Z=c(N),(Z?Z+" ":"")+r.linkEmail;if(p.xml&&"\x3c"===Z&&B.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,
!1))return Z=B.string.indexOf("\x3e",B.pos),-1!=Z&&(Z=B.string.substring(B.start,Z),/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Z)&&(N.md_inside=!0)),B.backUp(1),N.htmlState=w.startState(F),Z=f,N.f=N.block=Z,Z(B,N);if(p.xml&&"\x3c"===Z&&B.match(/^\/\w*?>/))return N.md_inside=!1,"tag";if("*"===Z||"_"===Z){for(var qa=1,la=1==B.pos?" ":B.string.charAt(B.pos-2);3>qa&&B.eat(Z);)qa++;var Ja=B.peek()||" ",bb=!/\s/.test(Ja)&&(!Ga.test(Ja)||/\s/.test(la)||Ga.test(la)),ib=!/\s/.test(la)&&(!Ga.test(la)||/\s/.test(Ja)||
Ga.test(Ja)),Ma=Aa=null;qa%2&&(N.em||!bb||"*"!==Z&&ib&&!Ga.test(la)?N.em!=Z||!ib||"*"!==Z&&bb&&!Ga.test(Ja)||(Aa=!1):Aa=!0);1<qa&&(N.strong||!bb||"*"!==Z&&ib&&!Ga.test(la)?N.strong!=Z||!ib||"*"!==Z&&bb&&!Ga.test(Ja)||(Ma=!1):Ma=!0);if(null!=Ma||null!=Aa)return p.highlightFormatting&&(N.formatting=null==Aa?"strong":null==Ma?"em":"strong em"),!0===Aa&&(N.em=Z),!0===Ma&&(N.strong=Z),B=c(N),!1===Aa&&(N.em=!1),!1===Ma&&(N.strong=!1),B}else if(" "===Z&&(B.eat("*")||B.eat("_"))){if(" "===B.peek())return c(N);
B.backUp(1)}if(p.strikethrough)if("~"===Z&&B.eatWhile(Z)){if(N.strikethrough)return p.highlightFormatting&&(N.formatting="strikethrough"),B=c(N),N.strikethrough=!1,B;if(B.match(/^[^\s]/,!1))return N.strikethrough=!0,p.highlightFormatting&&(N.formatting="strikethrough"),c(N)}else if(" "===Z&&B.match("~~",!0)){if(" "===B.peek())return c(N);B.backUp(2)}if(p.emoji&&":"===Z&&B.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/))return N.emoji=!0,p.highlightFormatting&&(N.formatting="emoji"),B=c(N),
N.emoji=!1,B;" "===Z&&(B.match(/^ +$/,!1)?N.trailingSpace++:N.trailingSpace&&(N.trailingSpaceNewLine=!0));return c(N)}function m(B,N){if("\x3e"===B.next())return N.f=N.inline=g,p.highlightFormatting&&(N.formatting="link"),B=c(N),(B?B+" ":"")+r.linkInline;B.match(/^[^>]+/,!0);return r.linkInline}function h(B,N){if(B.eatSpace())return null;B=B.next();return"("===B||"["===B?(N.f=N.inline=x("("===B?")":"]"),p.highlightFormatting&&(N.formatting="link-string"),N.linkHref=!0,c(N)):"error"}function x(B){return function(N,
Z){if(N.next()===B)return Z.f=Z.inline=g,p.highlightFormatting&&(Z.formatting="link-string"),N=c(Z),Z.linkHref=!1,N;N.match(X[B]);Z.linkHref=!0;return c(Z)}}function O(B,N){return B.match(/^([^\]\\]|\\.)*\]:/,!1)?(N.f=G,B.next(),p.highlightFormatting&&(N.formatting="link"),N.linkText=!0,c(N)):q(B,N,g)}function G(B,N){if(B.match("]:",!0))return N.f=N.inline=I,p.highlightFormatting&&(N.formatting="link"),B=c(N),N.linkText=!1,B;B.match(/^([^\]\\]|\\.)+/,!0);return r.linkText}function I(B,N){if(B.eatSpace())return null;
B.match(/^[^\s]+/,!0);void 0===B.peek()?N.linkTitle=!0:B.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0);N.f=N.inline=g;return r.linkHref+" url"}var F=w.getMode(k,"text/html"),C="null"==F.name;void 0===p.highlightFormatting&&(p.highlightFormatting=!1);void 0===p.maxBlockquoteDepth&&(p.maxBlockquoteDepth=0);void 0===p.taskLists&&(p.taskLists=!1);void 0===p.strikethrough&&(p.strikethrough=!1);void 0===p.emoji&&(p.emoji=!1);void 0===p.fencedCodeBlockHighlighting&&(p.fencedCodeBlockHighlighting=
!0);void 0===p.fencedCodeBlockDefaultMode&&(p.fencedCodeBlockDefaultMode="text/plain");void 0===p.xml&&(p.xml=!0);void 0===p.tokenTypeOverrides&&(p.tokenTypeOverrides={});var r={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",
emoji:"builtin"},y;for(y in r)r.hasOwnProperty(y)&&p.tokenTypeOverrides[y]&&(r[y]=p.tokenTypeOverrides[y]);var K=/^([*\-_])(?:\s*\1){2,}\s*$/,R=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,S=/^\[(x| )\](?=\s)/i,ca=p.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,M=/^ {0,3}(?:={1,}|-{2,})\s*$/,aa=/^[^#!\[\]*_\\<>` "'(~:]+/,Y=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ea=/^\s*\[[^\]]+?\]:.*$/,Ga=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,
X={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/},D={startState:function(){return{f:n,prevLine:{stream:null},thisLine:{stream:null},block:n,htmlState:null,indentation:0,inline:g,text:e,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(B){return{f:B.f,
prevLine:B.prevLine,thisLine:B.thisLine,block:B.block,htmlState:B.htmlState&&w.copyState(F,B.htmlState),indentation:B.indentation,localMode:B.localMode,localState:B.localMode?w.copyState(B.localMode,B.localState):null,inline:B.inline,text:B.text,formatting:!1,linkText:B.linkText,linkTitle:B.linkTitle,linkHref:B.linkHref,code:B.code,em:B.em,strong:B.strong,strikethrough:B.strikethrough,emoji:B.emoji,header:B.header,setext:B.setext,hr:B.hr,taskList:B.taskList,list:B.list,listStack:B.listStack.slice(0),
quote:B.quote,indentedCode:B.indentedCode,trailingSpace:B.trailingSpace,trailingSpaceNewLine:B.trailingSpaceNewLine,md_inside:B.md_inside,fencedEndRE:B.fencedEndRE}},token:function(B,N){N.formatting=!1;if(B!=N.thisLine.stream){N.header=0;N.hr=!1;if(B.match(/^\s*$/,!0))return t(N),null;N.prevLine=N.thisLine;N.thisLine={stream:B};N.taskList=!1;N.trailingSpace=0;N.trailingSpaceNewLine=!1;if(!N.localState&&(N.f=N.block,N.f!=f)){var Z=B.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;N.indentation=Z;
N.indentationDiff=null;if(0<Z)return null}}return N.f(B,N)},innerMode:function(B){return B.block==f?{state:B.htmlState,mode:F}:B.localState?{state:B.localState,mode:B.localMode}:{state:B,mode:D}},indent:function(B,N,Z){return B.block==f&&F.indent?F.indent(B.htmlState,N,Z):B.localState&&B.localMode.indent?B.localMode.indent(B.localState,N,Z):w.Pass},blankLine:t,getType:c,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return D},"xml");w.defineMIME("text/markdown",
"markdown");w.defineMIME("text/x-markdown","markdown")})};
shadow$provide[56]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],w):w(CodeMirror)})(function(w){w.overlayMode=function(k,p,q){return{startState:function(){return{base:w.startState(k),overlay:w.startState(p),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(t){return{base:w.copyState(k,t.base),overlay:w.copyState(p,t.overlay),basePos:t.basePos,baseCur:null,
overlayPos:t.overlayPos,overlayCur:null}},token:function(t,n){if(t!=n.streamSeen||Math.min(n.basePos,n.overlayPos)<t.start)n.streamSeen=t,n.basePos=n.overlayPos=t.start;t.start==n.basePos&&(n.baseCur=k.token(t,n.base),n.basePos=t.pos);t.start==n.overlayPos&&(t.pos=t.start,n.overlayCur=p.token(t,n.overlay),n.overlayPos=t.pos);t.pos=Math.min(n.basePos,n.overlayPos);return null==n.overlayCur?n.baseCur:null!=n.baseCur&&n.overlay.combineTokens||q&&null==n.overlay.combineTokens?n.baseCur+" "+n.overlayCur:
n.overlayCur},indent:k.indent&&function(t,n,f){return k.indent(t.base,n,f)},electricChars:k.electricChars,innerMode:function(t){return{state:t.base,mode:k}},blankLine:function(t){var n,f;k.blankLine&&(n=k.blankLine(t.base));p.blankLine&&(f=p.blankLine(t.overlay));return null==f?n:q&&null!=n?n+" "+f:f}}}})};
shadow$provide[57]=function(Ka,L,sb,A){(function(w){"object"==typeof A&&"object"==typeof sb?w(L(51),L(55),L(56)):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],w):w(CodeMirror)})(function(w){var k=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;
w.defineMode("gfm",function(p,q){var t=0,n={taskLists:!0,strikethrough:!0,emoji:!0},f;for(f in q)n[f]=q[f];n.name="markdown";return w.overlayMode(w.getMode(p,n),{startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(b){return{code:b.code,codeBlock:b.codeBlock,ateSpace:b.ateSpace}},token:function(b,c){c.combineTokens=null;if(c.codeBlock){if(b.match(/^```+/))return c.codeBlock=!1,null;b.skipToEnd();return null}b.sol()&&(c.code=!1);if(b.sol()&&b.match(/^```+/))return b.skipToEnd(),
c.codeBlock=!0,null;if("`"===b.peek()){b.next();var e=b.pos;b.eatWhile("`");b=1+b.pos-e;c.code?b===t&&(c.code=!1):(t=b,c.code=!0);return null}if(c.code)return b.next(),null;if(b.eatSpace())return c.ateSpace=!0,null;if(b.sol()||c.ateSpace)if(c.ateSpace=!1,!1!==q.gitHubSpice&&(b.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/)||b.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/)))return c.combineTokens=!0,"link";if(b.match(k)&&"]("!=b.string.slice(b.start-
2,b.start)&&(0==b.start||/\W/.test(b.string.charAt(b.start-1))))return c.combineTokens=!0,"link";b.next();return null},blankLine:function(b){b.code=!1;return null}})},"markdown");w.defineMIME("text/x-gfm","gfm")})};
shadow$provide[58]=function(Ka,L,sb,A){function w(){sb.exports=w=Object.assign||function(k){for(var p=1;p<arguments.length;p++){var q=arguments[p],t;for(t in q)Object.prototype.hasOwnProperty.call(q,t)&&(k[t]=q[t])}return k};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0;return w.apply(this,arguments)}sb.exports=w;sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[59]=function(Ka,L,sb,A){sb.exports=function(w){if(void 0===w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[60]=function(Ka,L,sb,A){function w(k,p){sb.exports=w=Object.setPrototypeOf||function(q,t){q.__proto__=t;return q};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0;return w(k,p)}sb.exports=w;sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[61]=function(Ka,L,sb,A){var w=L(60);sb.exports=function(k,p){k.prototype=Object.create(p.prototype);k.prototype.constructor=k;w(k,p)};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[62]=function(Ka,L,sb,A){function w(k,p){if(k.length!==p.length)return!1;for(var q=0;q<k.length;q++)if(k[q]!==p[q])return!1;return!0}sb.exports=function(k,p){void 0===p&&(p=w);var q,t=[],n,f=!1;return function(){for(var b=[],c=0;c<arguments.length;c++)b[c]=arguments[c];if(f&&q===this&&p(b,t))return n;n=k.apply(this,b);f=!0;q=this;t=b;return n}}};
shadow$provide[63]=function(Ka,L,sb,A){sb.exports=function(w,k){if(null==w)return{};var p={},q=Object.keys(w),t;for(t=0;t<q.length;t++){var n=q[t];0<=k.indexOf(n)||(p[n]=w[n])}return p};sb.exports["default"]=sb.exports;sb.exports.__esModule=!0};
shadow$provide[64]=function(Ka,L,sb,A){function w(X){return X&&"object"===typeof X&&"default"in X?X["default"]:X}function k(X,D){function B(){x()-N>=D?X.call(null):Z.id=requestAnimationFrame(B)}var N=x(),Z={id:requestAnimationFrame(B)};return Z}function p(X){void 0===X&&(X=!1);if(null===G||X){X=document.createElement("div");var D=X.style;D.width="50px";D.height="50px";D.overflow="scroll";D.direction="rtl";D=document.createElement("div");var B=D.style;B.width="100px";B.height="100px";X.appendChild(D);
document.body.appendChild(X);0<X.scrollLeft?G="positive-descending":(X.scrollLeft=1,G=0===X.scrollLeft?"negative":"positive-ascending");document.body.removeChild(X)}return G}function q(X){var D,B=X.getColumnOffset,N=X.getColumnStartIndexForOffset,Z=X.getColumnStopIndexForStartIndex,Aa=X.getColumnWidth,qa=X.getEstimatedTotalHeight,la=X.getEstimatedTotalWidth,Ja=X.getOffsetForColumnAndAlignment,bb=X.getOffsetForRowAndAlignment,ib=X.getRowHeight,Ma=X.getRowOffset,ma=X.getRowStartIndexForOffset,Fa=X.getRowStopIndexForStartIndex,
Ra=X.initInstanceProps,ra=X.shouldResetStyleCacheOnItemSizeChange,ya=X.validateProps;return D=function(oa){function xa(fb){var sa=oa.call(this,fb)||this;sa._instanceProps=Ra(sa.props,c(sa));sa._resetIsScrollingTimeoutId=null;sa._outerRef=void 0;sa.state={instance:c(sa),isScrolling:!1,horizontalScrollDirection:"forward",scrollLeft:"number"===typeof sa.props.initialScrollLeft?sa.props.initialScrollLeft:0,scrollTop:"number"===typeof sa.props.initialScrollTop?sa.props.initialScrollTop:0,scrollUpdateWasRequested:!1,
verticalScrollDirection:"forward"};sa._callOnItemsRendered=void 0;sa._callOnItemsRendered=g(function(Oa,ja,U,ka,ua,Ta,eb,lb){return sa.props.onItemsRendered({overscanColumnStartIndex:Oa,overscanColumnStopIndex:ja,overscanRowStartIndex:U,overscanRowStopIndex:ka,visibleColumnStartIndex:ua,visibleColumnStopIndex:Ta,visibleRowStartIndex:eb,visibleRowStopIndex:lb})});sa._callOnScroll=void 0;sa._callOnScroll=g(function(Oa,ja,U,ka,ua){return sa.props.onScroll({horizontalScrollDirection:U,scrollLeft:Oa,scrollTop:ja,
verticalScrollDirection:ka,scrollUpdateWasRequested:ua})});sa._getItemStyle=void 0;sa._getItemStyle=function(Oa,ja){var U=sa.props,ka=U.columnWidth,ua=U.direction;U=U.rowHeight;ka=sa._getItemStyleCache(ra&&ka,ra&&ua,ra&&U);U=Oa+":"+ja;if(ka.hasOwnProperty(U))Oa=ka[U];else{var Ta=B(sa.props,ja,sa._instanceProps);ua="rtl"===ua;ka[U]=Oa={position:"absolute",left:ua?void 0:Ta,right:ua?Ta:void 0,top:Ma(sa.props,Oa,sa._instanceProps),height:ib(sa.props,Oa,sa._instanceProps),width:Aa(sa.props,ja,sa._instanceProps)}}return Oa};
sa._getItemStyleCache=void 0;sa._getItemStyleCache=g(function(Oa,ja,U){return{}});sa._onScroll=function(Oa){Oa=Oa.currentTarget;var ja=Oa.clientHeight,U=Oa.clientWidth,ka=Oa.scrollLeft,ua=Oa.scrollTop,Ta=Oa.scrollHeight,eb=Oa.scrollWidth;sa.setState(function(lb){if(lb.scrollLeft===ka&&lb.scrollTop===ua)return null;var nb=ka;if("rtl"===sa.props.direction)switch(p()){case "negative":nb=-ka;break;case "positive-descending":nb=eb-U-ka}nb=Math.max(0,Math.min(nb,eb-U));return{isScrolling:!0,horizontalScrollDirection:lb.scrollLeft<
ka?"forward":"backward",scrollLeft:nb,scrollTop:Math.max(0,Math.min(ua,Ta-ja)),verticalScrollDirection:lb.scrollTop<ua?"forward":"backward",scrollUpdateWasRequested:!1}},sa._resetIsScrollingDebounced)};sa._outerRefSetter=function(Oa){var ja=sa.props.outerRef;sa._outerRef=Oa;"function"===typeof ja?ja(Oa):null!=ja&&"object"===typeof ja&&ja.hasOwnProperty("current")&&(ja.current=Oa)};sa._resetIsScrollingDebounced=function(){null!==sa._resetIsScrollingTimeoutId&&cancelAnimationFrame(sa._resetIsScrollingTimeoutId.id);
sa._resetIsScrollingTimeoutId=k(sa._resetIsScrolling,150)};sa._resetIsScrolling=function(){sa._resetIsScrollingTimeoutId=null;sa.setState({isScrolling:!1},function(){sa._getItemStyleCache(-1)})};return sa}e(xa,oa);xa.getDerivedStateFromProps=function(fb,sa){ya(fb);return null};var Ua=xa.prototype;Ua.scrollTo=function(fb){var sa=fb.scrollLeft,Oa=fb.scrollTop;void 0!==sa&&(sa=Math.max(0,sa));void 0!==Oa&&(Oa=Math.max(0,Oa));this.setState(function(ja){void 0===sa&&(sa=ja.scrollLeft);void 0===Oa&&(Oa=
ja.scrollTop);return ja.scrollLeft===sa&&ja.scrollTop===Oa?null:{horizontalScrollDirection:ja.scrollLeft<sa?"forward":"backward",scrollLeft:sa,scrollTop:Oa,scrollUpdateWasRequested:!0,verticalScrollDirection:ja.scrollTop<Oa?"forward":"backward"}},this._resetIsScrollingDebounced)};Ua.scrollToItem=function(fb){var sa=fb.align;sa=void 0===sa?"auto":sa;var Oa=fb.columnIndex;fb=fb.rowIndex;var ja=this.props,U=ja.columnCount,ka=ja.height,ua=ja.rowCount,Ta=ja.width,eb=this.state;ja=eb.scrollLeft;eb=eb.scrollTop;
var lb=void 0;void 0===lb&&(lb=!1);if(-1===O||lb){lb=document.createElement("div");var nb=lb.style;nb.width="50px";nb.height="50px";nb.overflow="scroll";document.body.appendChild(lb);O=lb.offsetWidth-lb.clientWidth;document.body.removeChild(lb)}lb=O;void 0!==Oa&&(Oa=Math.max(0,Math.min(Oa,U-1)));void 0!==fb&&(fb=Math.max(0,Math.min(fb,ua-1)));U=qa(this.props,this._instanceProps);ua=la(this.props,this._instanceProps)>Ta?lb:0;this.scrollTo({scrollLeft:void 0!==Oa?Ja(this.props,Oa,sa,ja,this._instanceProps,
U>ka?lb:0):ja,scrollTop:void 0!==fb?bb(this.props,fb,sa,eb,this._instanceProps,ua):eb})};Ua.componentDidMount=function(){var fb=this.props,sa=fb.initialScrollLeft;fb=fb.initialScrollTop;if(null!=this._outerRef){var Oa=this._outerRef;"number"===typeof sa&&(Oa.scrollLeft=sa);"number"===typeof fb&&(Oa.scrollTop=fb)}this._callPropsCallbacks()};Ua.componentDidUpdate=function(){var fb=this.props.direction,sa=this.state,Oa=sa.scrollLeft,ja=sa.scrollTop;if(sa.scrollUpdateWasRequested&&null!=this._outerRef){sa=
this._outerRef;if("rtl"===fb)switch(p()){case "negative":sa.scrollLeft=-Oa;break;case "positive-ascending":sa.scrollLeft=Oa;break;default:sa.scrollLeft=sa.scrollWidth-sa.clientWidth-Oa}else sa.scrollLeft=Math.max(0,Oa);sa.scrollTop=Math.max(0,ja)}this._callPropsCallbacks()};Ua.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Ua.render=function(){var fb=this.props,sa=fb.children,Oa=fb.className,ja=fb.columnCount,U=fb.direction,
ka=fb.height,ua=fb.innerRef,Ta=fb.innerElementType,eb=fb.innerTagName,lb=fb.itemData,nb=fb.itemKey,Mb=void 0===nb?I:nb;nb=fb.outerElementType;var $b=fb.outerTagName,Gc=fb.rowCount,zc=fb.style,Bc=fb.useIsScrolling;fb=fb.width;var uc=this.state.isScrolling,id=this._getHorizontalRangeToRender(),Hb=id[0],Ab=id[1];id=this._getVerticalRangeToRender();var dc=id[0],Wb=id[1];id=[];if(0<ja&&Gc)for(ja=dc;ja<=Wb;ja++)for(Gc=Hb;Gc<=Ab;Gc++)id.push(m.createElement(sa,{columnIndex:Gc,data:lb,isScrolling:Bc?uc:void 0,
key:Mb({columnIndex:Gc,data:lb,rowIndex:ja}),rowIndex:ja,style:this._getItemStyle(ja,Gc)}));sa=qa(this.props,this._instanceProps);lb=la(this.props,this._instanceProps);return m.createElement(nb||$b||"div",{className:Oa,onScroll:this._onScroll,ref:this._outerRefSetter,style:b({position:"relative",height:ka,width:fb,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:U},zc)},m.createElement(Ta||eb||"div",{children:id,ref:ua,style:{height:sa,pointerEvents:uc?"none":void 0,
width:lb}}))};Ua._callPropsCallbacks=function(){var fb=this.props,sa=fb.columnCount,Oa=fb.onScroll,ja=fb.rowCount;if("function"===typeof fb.onItemsRendered&&0<sa&&0<ja){var U=this._getHorizontalRangeToRender();fb=U[0];sa=U[1];ja=U[2];U=U[3];var ka=this._getVerticalRangeToRender();this._callOnItemsRendered(fb,sa,ka[0],ka[1],ja,U,ka[2],ka[3])}"function"===typeof Oa&&(Oa=this.state,this._callOnScroll(Oa.scrollLeft,Oa.scrollTop,Oa.horizontalScrollDirection,Oa.verticalScrollDirection,Oa.scrollUpdateWasRequested))};
Ua._getHorizontalRangeToRender=function(){var fb=this.props,sa=fb.columnCount,Oa=fb.overscanColumnsCount,ja=fb.overscanCount,U=fb.rowCount,ka=this.state,ua=ka.horizontalScrollDirection,Ta=ka.isScrolling;ka=ka.scrollLeft;fb=fb.overscanColumnCount||Oa||ja||1;if(0===sa||0===U)return[0,0,0,0];U=N(this.props,ka,this._instanceProps);ka=Z(this.props,U,ka,this._instanceProps);return[Math.max(0,U-(Ta&&"backward"!==ua?1:Math.max(1,fb))),Math.max(0,Math.min(sa-1,ka+(Ta&&"forward"!==ua?1:Math.max(1,fb)))),U,
ka]};Ua._getVerticalRangeToRender=function(){var fb=this.props,sa=fb.overscanCount,Oa=fb.overscanRowsCount,ja=fb.rowCount,U=this.state,ka=U.isScrolling,ua=U.verticalScrollDirection;U=U.scrollTop;sa=fb.overscanRowCount||Oa||sa||1;if(0===fb.columnCount||0===ja)return[0,0,0,0];fb=ma(this.props,U,this._instanceProps);U=Fa(this.props,fb,U,this._instanceProps);return[Math.max(0,fb-(ka&&"backward"!==ua?1:Math.max(1,sa))),Math.max(0,Math.min(ja-1,U+(ka&&"forward"!==ua?1:Math.max(1,sa)))),fb,U]};return xa}(m.PureComponent),
D.defaultProps={direction:"ltr",itemData:void 0,useIsScrolling:!1},D}function t(X){var D,B=X.getItemOffset,N=X.getEstimatedTotalSize,Z=X.getItemSize,Aa=X.getOffsetForIndexAndAlignment,qa=X.getStartIndexForOffset,la=X.getStopIndexForStartIndex,Ja=X.initInstanceProps,bb=X.shouldResetStyleCacheOnItemSizeChange,ib=X.validateProps;return D=function(Ma){function ma(Ra){var ra=Ma.call(this,Ra)||this;ra._instanceProps=Ja(ra.props,c(ra));ra._outerRef=void 0;ra._resetIsScrollingTimeoutId=null;ra.state={instance:c(ra),
isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof ra.props.initialScrollOffset?ra.props.initialScrollOffset:0,scrollUpdateWasRequested:!1};ra._callOnItemsRendered=void 0;ra._callOnItemsRendered=g(function(ya,oa,xa,Ua){return ra.props.onItemsRendered({overscanStartIndex:ya,overscanStopIndex:oa,visibleStartIndex:xa,visibleStopIndex:Ua})});ra._callOnScroll=void 0;ra._callOnScroll=g(function(ya,oa,xa){return ra.props.onScroll({scrollDirection:ya,scrollOffset:oa,scrollUpdateWasRequested:xa})});
ra._getItemStyle=void 0;ra._getItemStyle=function(ya){var oa=ra.props,xa=oa.direction,Ua=oa.itemSize,fb=oa.layout;Ua=ra._getItemStyleCache(bb&&Ua,bb&&fb,bb&&xa);if(Ua.hasOwnProperty(ya))ya=Ua[ya];else{oa=B(ra.props,ya,ra._instanceProps);var sa=Z(ra.props,ya,ra._instanceProps);fb="horizontal"===xa||"horizontal"===fb;xa="rtl"===xa;var Oa=fb?oa:0;Ua[ya]=ya={position:"absolute",left:xa?void 0:Oa,right:xa?Oa:void 0,top:fb?0:oa,height:fb?"100%":sa,width:fb?sa:"100%"}}return ya};ra._getItemStyleCache=void 0;
ra._getItemStyleCache=g(function(ya,oa,xa){return{}});ra._onScrollHorizontal=function(ya){ya=ya.currentTarget;var oa=ya.clientWidth,xa=ya.scrollLeft,Ua=ya.scrollWidth;ra.setState(function(fb){if(fb.scrollOffset===xa)return null;var sa=xa;if("rtl"===ra.props.direction)switch(p()){case "negative":sa=-xa;break;case "positive-descending":sa=Ua-oa-xa}sa=Math.max(0,Math.min(sa,Ua-oa));return{isScrolling:!0,scrollDirection:fb.scrollOffset<xa?"forward":"backward",scrollOffset:sa,scrollUpdateWasRequested:!1}},
ra._resetIsScrollingDebounced)};ra._onScrollVertical=function(ya){ya=ya.currentTarget;var oa=ya.clientHeight,xa=ya.scrollHeight,Ua=ya.scrollTop;ra.setState(function(fb){if(fb.scrollOffset===Ua)return null;var sa=Math.max(0,Math.min(Ua,xa-oa));return{isScrolling:!0,scrollDirection:fb.scrollOffset<sa?"forward":"backward",scrollOffset:sa,scrollUpdateWasRequested:!1}},ra._resetIsScrollingDebounced)};ra._outerRefSetter=function(ya){var oa=ra.props.outerRef;ra._outerRef=ya;"function"===typeof oa?oa(ya):
null!=oa&&"object"===typeof oa&&oa.hasOwnProperty("current")&&(oa.current=ya)};ra._resetIsScrollingDebounced=function(){null!==ra._resetIsScrollingTimeoutId&&cancelAnimationFrame(ra._resetIsScrollingTimeoutId.id);ra._resetIsScrollingTimeoutId=k(ra._resetIsScrolling,150)};ra._resetIsScrolling=function(){ra._resetIsScrollingTimeoutId=null;ra.setState({isScrolling:!1},function(){ra._getItemStyleCache(-1,null)})};return ra}e(ma,Ma);ma.getDerivedStateFromProps=function(Ra,ra){ib(Ra);return null};var Fa=
ma.prototype;Fa.scrollTo=function(Ra){Ra=Math.max(0,Ra);this.setState(function(ra){return ra.scrollOffset===Ra?null:{scrollDirection:ra.scrollOffset<Ra?"forward":"backward",scrollOffset:Ra,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)};Fa.scrollToItem=function(Ra,ra){void 0===ra&&(ra="auto");var ya=this.state.scrollOffset;Ra=Math.max(0,Math.min(Ra,this.props.itemCount-1));this.scrollTo(Aa(this.props,Ra,ra,ya,this._instanceProps))};Fa.componentDidMount=function(){var Ra=this.props,
ra=Ra.direction,ya=Ra.initialScrollOffset;Ra=Ra.layout;if("number"===typeof ya&&null!=this._outerRef){var oa=this._outerRef;"horizontal"===ra||"horizontal"===Ra?oa.scrollLeft=ya:oa.scrollTop=ya}this._callPropsCallbacks()};Fa.componentDidUpdate=function(){var Ra=this.props,ra=Ra.direction;Ra=Ra.layout;var ya=this.state,oa=ya.scrollOffset;if(ya.scrollUpdateWasRequested&&null!=this._outerRef)if(ya=this._outerRef,"horizontal"===ra||"horizontal"===Ra)if("rtl"===ra)switch(p()){case "negative":ya.scrollLeft=
-oa;break;case "positive-ascending":ya.scrollLeft=oa;break;default:ya.scrollLeft=ya.scrollWidth-ya.clientWidth-oa}else ya.scrollLeft=oa;else ya.scrollTop=oa;this._callPropsCallbacks()};Fa.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&cancelAnimationFrame(this._resetIsScrollingTimeoutId.id)};Fa.render=function(){var Ra=this.props,ra=Ra.children,ya=Ra.className,oa=Ra.direction,xa=Ra.height,Ua=Ra.innerRef,fb=Ra.innerElementType,sa=Ra.innerTagName,Oa=Ra.itemCount,ja=Ra.itemData,
U=Ra.itemKey,ka=void 0===U?S:U,ua=Ra.layout;U=Ra.outerElementType;var Ta=Ra.outerTagName,eb=Ra.style,lb=Ra.useIsScrolling;Ra=Ra.width;var nb=this.state.isScrolling,Mb=(ua="horizontal"===oa||"horizontal"===ua)?this._onScrollHorizontal:this._onScrollVertical,$b=this._getRangeToRender(),Gc=$b[0],zc=$b[1];$b=[];if(0<Oa)for(Oa=Gc;Oa<=zc;Oa++)$b.push(m.createElement(ra,{data:ja,key:ka(Oa,ja),index:Oa,isScrolling:lb?nb:void 0,style:this._getItemStyle(Oa)}));ra=N(this.props,this._instanceProps);return m.createElement(U||
Ta||"div",{className:ya,onScroll:Mb,ref:this._outerRefSetter,style:b({position:"relative",height:xa,width:Ra,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:oa},eb)},m.createElement(fb||sa||"div",{children:$b,ref:Ua,style:{height:ua?"100%":ra,pointerEvents:nb?"none":void 0,width:ua?ra:"100%"}}))};Fa._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&0<this.props.itemCount){var Ra=this._getRangeToRender();this._callOnItemsRendered(Ra[0],
Ra[1],Ra[2],Ra[3])}"function"===typeof this.props.onScroll&&(Ra=this.state,this._callOnScroll(Ra.scrollDirection,Ra.scrollOffset,Ra.scrollUpdateWasRequested))};Fa._getRangeToRender=function(){var Ra=this.props,ra=Ra.itemCount;Ra=Ra.overscanCount;var ya=this.state,oa=ya.isScrolling,xa=ya.scrollDirection,Ua=ya.scrollOffset;if(0===ra)return[0,0,0,0];ya=qa(this.props,Ua,this._instanceProps);Ua=la(this.props,ya,Ua,this._instanceProps);return[Math.max(0,ya-(oa&&"backward"!==xa?1:Math.max(1,Ra))),Math.max(0,
Math.min(ra-1,Ua+(oa&&"forward"!==xa?1:Math.max(1,Ra)))),ya,Ua]};return ma}(m.PureComponent),D.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},D}function n(X,D){for(var B in X)if(!(B in D))return!0;for(var N in D)if(X[N]!==D[N])return!0;return!1}function f(X,D){var B=X.style;X=h(X,ea);var N=D.style;D=h(D,Ga);return!n(B,N)&&!n(X,D)}Object.defineProperty(A,"__esModule",{value:!0});var b=w(L(58)),c=w(L(59)),e=w(L(61)),g=w(L(62)),m=L(3),h=w(L(63)),x=
"object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()},O=-1,G=null,I=function(X){return X.rowIndex+":"+X.columnIndex},F=function(X,D){X=X.rowCount;var B=D.rowMetadataMap,N=D.estimatedRowHeight;D=D.lastMeasuredRowIndex;var Z=0;D>=X&&(D=X-1);0<=D&&(B=B[D],Z=B.offset+B.size);return Z+(X-D-1)*N},C=function(X,D){X=X.columnCount;var B=D.columnMetadataMap,N=D.estimatedColumnWidth;D=D.lastMeasuredColumnIndex;var Z=0;D>=X&&(D=X-
1);0<=D&&(B=B[D],Z=B.offset+B.size);return Z+(X-D-1)*N},r=function(X,D,B,N){if("column"===X){var Z=N.columnMetadataMap;D=D.columnWidth;var Aa=N.lastMeasuredColumnIndex}else Z=N.rowMetadataMap,D=D.rowHeight,Aa=N.lastMeasuredRowIndex;if(B>Aa){var qa=0;0<=Aa&&(qa=Z[Aa],qa=qa.offset+qa.size);for(Aa+=1;Aa<=B;Aa++){var la=D(Aa);Z[Aa]={offset:qa,size:la};qa+=la}"column"===X?N.lastMeasuredColumnIndex=B:N.lastMeasuredRowIndex=B}return Z[B]},y=function(X,D,B,N){if("column"===X){var Z=B.columnMetadataMap;var Aa=
B.lastMeasuredColumnIndex}else Z=B.rowMetadataMap,Aa=B.lastMeasuredRowIndex;if((0<Aa?Z[Aa].offset:0)>=N)return K(X,D,B,Aa,0,N);Z=Math.max(0,Aa);Aa="column"===X?D.columnCount:D.rowCount;for(var qa=1;Z<Aa&&r(X,D,Z,B).offset<N;)Z+=qa,qa*=2;return K(X,D,B,Math.min(Z,Aa-1),Math.floor(Z/2),N)},K=function(X,D,B,N,Z,Aa){for(;Z<=N;){var qa=Z+Math.floor((N-Z)/2),la=r(X,D,qa,B).offset;if(la===Aa)return qa;la<Aa?Z=qa+1:la>Aa&&(N=qa-1)}return 0<Z?Z-1:0},R=function(X,D,B,N,Z,Aa,qa){var la="column"===X?D.width:
D.height;B=r(X,D,B,Aa);X="column"===X?C(D,Aa):F(D,Aa);X=Math.max(0,Math.min(X-la,B.offset));qa=Math.max(0,B.offset-la+qa+B.size);"smart"===N&&(N=Z>=qa-la&&Z<=X+la?"auto":"center");switch(N){case "start":return X;case "end":return qa;case "center":return Math.round(qa+(X-qa)/2);default:return Z>=qa&&Z<=X?Z:qa>X?qa:Z<qa?qa:X}};Ka=q({getColumnOffset:function(X,D,B){return r("column",X,D,B).offset},getColumnStartIndexForOffset:function(X,D,B){return y("column",X,B,D)},getColumnStopIndexForStartIndex:function(X,
D,B,N){var Z=X.columnCount,Aa=X.width,qa=r("column",X,D,N);B+=Aa;for(qa=qa.offset+qa.size;D<Z-1&&qa<B;)D++,qa+=r("column",X,D,N).size;return D},getColumnWidth:function(X,D,B){return B.columnMetadataMap[D].size},getEstimatedTotalHeight:F,getEstimatedTotalWidth:C,getOffsetForColumnAndAlignment:function(X,D,B,N,Z,Aa){return R("column",X,D,B,N,Z,Aa)},getOffsetForRowAndAlignment:function(X,D,B,N,Z,Aa){return R("row",X,D,B,N,Z,Aa)},getRowOffset:function(X,D,B){return r("row",X,D,B).offset},getRowHeight:function(X,
D,B){return B.rowMetadataMap[D].size},getRowStartIndexForOffset:function(X,D,B){return y("row",X,B,D)},getRowStopIndexForStartIndex:function(X,D,B,N){var Z=X.rowCount,Aa=X.height,qa=r("row",X,D,N);B+=Aa;for(qa=qa.offset+qa.size;D<Z-1&&qa<B;)D++,qa+=r("row",X,D,N).size;return D},initInstanceProps:function(X,D){var B={columnMetadataMap:{},estimatedColumnWidth:X.estimatedColumnWidth||50,estimatedRowHeight:X.estimatedRowHeight||50,lastMeasuredColumnIndex:-1,lastMeasuredRowIndex:-1,rowMetadataMap:{}};
D.resetAfterColumnIndex=function(N,Z){void 0===Z&&(Z=!0);D.resetAfterIndices({columnIndex:N,shouldForceUpdate:Z})};D.resetAfterRowIndex=function(N,Z){void 0===Z&&(Z=!0);D.resetAfterIndices({rowIndex:N,shouldForceUpdate:Z})};D.resetAfterIndices=function(N){var Z=N.columnIndex,Aa=N.rowIndex;N=N.shouldForceUpdate;N=void 0===N?!0:N;"number"===typeof Z&&(B.lastMeasuredColumnIndex=Math.min(B.lastMeasuredColumnIndex,Z-1));"number"===typeof Aa&&(B.lastMeasuredRowIndex=Math.min(B.lastMeasuredRowIndex,Aa-1));
D._getItemStyleCache(-1);N&&D.forceUpdate()};return B},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(X){}});var S=function(X,D){return X},ca=function(X,D,B){X=X.itemSize;var N=B.itemMetadataMap,Z=B.lastMeasuredIndex;if(D>Z){var Aa=0;0<=Z&&(Aa=N[Z],Aa=Aa.offset+Aa.size);for(Z+=1;Z<=D;Z++){var qa=X(Z);N[Z]={offset:Aa,size:qa};Aa+=qa}B.lastMeasuredIndex=D}return N[D]},M=function(X,D,B,N,Z){for(;N<=B;){var Aa=N+Math.floor((B-N)/2),qa=ca(X,Aa,D).offset;if(qa===Z)return Aa;qa<Z?N=Aa+1:
qa>Z&&(B=Aa-1)}return 0<N?N-1:0},aa=function(X,D){X=X.itemCount;var B=D.itemMetadataMap,N=D.estimatedItemSize;D=D.lastMeasuredIndex;var Z=0;D>=X&&(D=X-1);0<=D&&(B=B[D],Z=B.offset+B.size);return Z+(X-D-1)*N};L=t({getItemOffset:function(X,D,B){return ca(X,D,B).offset},getItemSize:function(X,D,B){return B.itemMetadataMap[D].size},getEstimatedTotalSize:aa,getOffsetForIndexAndAlignment:function(X,D,B,N,Z){var Aa=X.height,qa=X.layout,la=X.width;Aa="horizontal"===X.direction||"horizontal"===qa?la:Aa;D=ca(X,
D,Z);X=aa(X,Z);X=Math.max(0,Math.min(X-Aa,D.offset));Z=Math.max(0,D.offset-Aa+D.size);"smart"===B&&(B=N>=Z-Aa&&N<=X+Aa?"auto":"center");switch(B){case "start":return X;case "end":return Z;case "center":return Math.round(Z+(X-Z)/2);default:return N>=Z&&N<=X?N:N<Z?Z:X}},getStartIndexForOffset:function(X,D,B){var N=B.itemMetadataMap,Z=B.lastMeasuredIndex;if((0<Z?N[Z].offset:0)>=D)X=M(X,B,Z,0,D);else{N=Math.max(0,Z);Z=X.itemCount;for(var Aa=1;N<Z&&ca(X,N,B).offset<D;)N+=Aa,Aa*=2;X=M(X,B,Math.min(N,Z-
1),Math.floor(N/2),D)}return X},getStopIndexForStartIndex:function(X,D,B,N){var Z=X.height,Aa=X.itemCount,qa=X.layout,la=X.width;qa="horizontal"===X.direction||"horizontal"===qa?la:Z;Z=ca(X,D,N);B+=qa;for(Z=Z.offset+Z.size;D<Aa-1&&Z<B;)D++,Z+=ca(X,D,N).size;return D},initInstanceProps:function(X,D){var B={itemMetadataMap:{},estimatedItemSize:X.estimatedItemSize||50,lastMeasuredIndex:-1};D.resetAfterIndex=function(N,Z){void 0===Z&&(Z=!0);B.lastMeasuredIndex=Math.min(B.lastMeasuredIndex,N-1);D._getItemStyleCache(-1);
Z&&D.forceUpdate()};return B},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(X){}});sb=q({getColumnOffset:function(X,D){return D*X.columnWidth},getColumnWidth:function(X,D){return X.columnWidth},getRowOffset:function(X,D){return D*X.rowHeight},getRowHeight:function(X,D){return X.rowHeight},getEstimatedTotalHeight:function(X){return X.rowHeight*X.rowCount},getEstimatedTotalWidth:function(X){return X.columnWidth*X.columnCount},getOffsetForColumnAndAlignment:function(X,D,B,N,Z,Aa){var qa=
X.columnWidth;Z=X.width;X=Math.max(0,X.columnCount*qa-Z);var la=Math.min(X,D*qa);D=Math.max(0,D*qa-Z+Aa+qa);"smart"===B&&(B=N>=D-Z&&N<=la+Z?"auto":"center");switch(B){case "start":return la;case "end":return D;case "center":return B=Math.round(D+(la-D)/2),B<Math.ceil(Z/2)?0:B>X+Math.floor(Z/2)?X:B;default:return N>=D&&N<=la?N:D>la?D:N<D?D:la}},getOffsetForRowAndAlignment:function(X,D,B,N,Z,Aa){var qa=X.rowHeight;Z=X.height;X=Math.max(0,X.rowCount*qa-Z);var la=Math.min(X,D*qa);D=Math.max(0,D*qa-Z+
Aa+qa);"smart"===B&&(B=N>=D-Z&&N<=la+Z?"auto":"center");switch(B){case "start":return la;case "end":return D;case "center":return B=Math.round(D+(la-D)/2),B<Math.ceil(Z/2)?0:B>X+Math.floor(Z/2)?X:B;default:return N>=D&&N<=la?N:D>la?D:N<D?D:la}},getColumnStartIndexForOffset:function(X,D){return Math.max(0,Math.min(X.columnCount-1,Math.floor(D/X.columnWidth)))},getColumnStopIndexForStartIndex:function(X,D,B){var N=X.columnWidth;return Math.max(0,Math.min(X.columnCount-1,D+Math.ceil((X.width+B-D*N)/
N)-1))},getRowStartIndexForOffset:function(X,D){return Math.max(0,Math.min(X.rowCount-1,Math.floor(D/X.rowHeight)))},getRowStopIndexForStartIndex:function(X,D,B){var N=X.rowHeight;return Math.max(0,Math.min(X.rowCount-1,D+Math.ceil((X.height+B-D*N)/N)-1))},initInstanceProps:function(X){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(X){}});var Y=t({getItemOffset:function(X,D){return D*X.itemSize},getItemSize:function(X,D){return X.itemSize},getEstimatedTotalSize:function(X){return X.itemSize*
X.itemCount},getOffsetForIndexAndAlignment:function(X,D,B,N){var Z=X.height,Aa=X.itemSize,qa=X.layout,la=X.width;Z="horizontal"===X.direction||"horizontal"===qa?la:Z;X=Math.max(0,X.itemCount*Aa-Z);qa=Math.min(X,D*Aa);D=Math.max(0,D*Aa-Z+Aa);"smart"===B&&(B=N>=D-Z&&N<=qa+Z?"auto":"center");switch(B){case "start":return qa;case "end":return D;case "center":return B=Math.round(D+(qa-D)/2),B<Math.ceil(Z/2)?0:B>X+Math.floor(Z/2)?X:B;default:return N>=D&&N<=qa?N:N<D?D:qa}},getStartIndexForOffset:function(X,
D){return Math.max(0,Math.min(X.itemCount-1,Math.floor(D/X.itemSize)))},getStopIndexForStartIndex:function(X,D,B){var N=X.height,Z=X.itemSize,Aa=X.layout,qa=X.width;return Math.max(0,Math.min(X.itemCount-1,D+Math.ceil((("horizontal"===X.direction||"horizontal"===Aa?qa:N)+B-D*Z)/Z)-1))},initInstanceProps:function(X){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(X){}}),ea=["style"],Ga=["style"];A.FixedSizeGrid=sb;A.FixedSizeList=Y;A.VariableSizeGrid=Ka;A.VariableSizeList=L;A.areEqual=
f;A.shouldComponentUpdate=function(X,D){return!f(this.props,X)||n(this.state,D)}};
shadow$provide[65]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.stopPropagation=function(k){k.stopPropagation()};A.preventDefault=function(k){k.preventDefault()};A.default=void 0;class w{constructor(k){this.type=k;this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}A.default=w};
shadow$provide[66]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PROPERTYCHANGE:"propertychange"}};
shadow$provide[67]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}A.default=w};
shadow$provide[68]=function(Ka,L,sb,A){function w(k,p){return k>p?1:k<p?-1:0}Object.defineProperty(A,"__esModule",{value:!0});A.binarySearch=function(k,p,q){let t,n;q=q||w;let f=0,b=k.length,c=!1;for(;f<b;)t=f+(b-f>>1),n=+q(k[t],p),0>n?f=t+1:(b=t,c=!n);return c?f:~f};A.numberSafeCompareFunction=w;A.linearFindNearest=function(k,p,q){const t=k.length;if(k[0]<=p)return 0;if(!(p<=k[t-1])){let n;if(0<q)for(n=1;n<t;++n){if(k[n]<p)return n-1}else if(0>q)for(n=1;n<t;++n){if(k[n]<=p)return n}else for(n=1;n<
t;++n){if(k[n]==p)return n;if(k[n]<p)return"function"===typeof q?0<q(p,k[n-1],k[n])?n-1:n:k[n-1]-p<p-k[n]?n-1:n}}return t-1};A.reverseSubArray=function(k,p,q){for(;p<q;){const t=k[p];k[p]=k[q];k[q]=t;++p;--q}};A.extend=function(k,p){p=Array.isArray(p)?p:[p];const q=p.length;for(let t=0;t<q;t++)k[k.length]=p[t]};A.remove=function(k,p){p=k.indexOf(p);const q=-1<p;q&&k.splice(p,1);return q};A.equals=function(k,p){const q=k.length;if(q!==p.length)return!1;for(let t=0;t<q;t++)if(k[t]!==p[t])return!1;return!0};
A.stableSort=function(k,p){const q=k.length,t=Array(k.length);let n;for(n=0;n<q;n++)t[n]={index:n,value:k[n]};t.sort(function(f,b){return p(f.value,b.value)||f.index-b.index});for(n=0;n<k.length;n++)k[n]=t[n].value};A.isSorted=function(k,p,q){const t=p||w;return k.every(function(n,f){if(0===f)return!0;n=t(k[f-1],n);return!(0<n||q&&0===n)})}};
shadow$provide[69]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.TRUE=function(){return!0};A.FALSE=function(){return!1};A.VOID=function(){};A.memoizeOne=function(k){let p=!1,q,t,n;return function(){const f=Array.prototype.slice.call(arguments);p&&this===n&&(0,w.equals)(f,t)||(p=!0,n=this,t=f,q=k.apply(this,arguments));return q}};A.toPromise=function(k){a:{let p;try{p=k()}catch(q){k=Promise.reject(q);break a}k=p instanceof Promise?p:Promise.resolve(p)}return k};var w=L(68)};
shadow$provide[70]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(w){for(const k in w)delete w[k]};A.isEmpty=function(w){let k;for(k in w)return!1;return!k}};
shadow$provide[71]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(67));var k=w(L(65)),p=L(69),q=L(70);class t extends Ka.default{constructor(n){super();this.eventTarget_=n;this.listeners_=this.dispatching_=this.pendingRemovals_=null}addEventListener(n,f){if(n&&f){var b=this.listeners_||(this.listeners_={});n=b[n]||(b[n]=[]);n.includes(f)||n.push(f)}}dispatchEvent(n){var f="string"===typeof n;const b=f?
n:n.type;var c=this.listeners_&&this.listeners_[b];if(c){var e=f?new k.default(n):n;e.target||(e.target=this.eventTarget_||this);n=this.dispatching_||(this.dispatching_={});f=this.pendingRemovals_||(this.pendingRemovals_={});b in n||(n[b]=0,f[b]=0);++n[b];for(let m=0,h=c.length;m<h;++m){var g="handleEvent"in c[m]?c[m].handleEvent(e):c[m].call(this,e);if(!1===g||e.propagationStopped){g=!1;break}}if(0===--n[b]){c=f[b];for(delete f[b];c--;)this.removeEventListener(b,p.VOID);delete n[b]}return g}}disposeInternal(){this.listeners_&&
(0,q.clear)(this.listeners_)}getListeners(n){return this.listeners_&&this.listeners_[n]||void 0}hasListener(n){return this.listeners_?n?n in this.listeners_:0<Object.keys(this.listeners_).length:!1}removeEventListener(n,f){const b=this.listeners_&&this.listeners_[n];b&&(f=b.indexOf(f),-1!==f&&(this.pendingRemovals_&&n in this.pendingRemovals_?(b[f]=p.VOID,++this.pendingRemovals_[n]):(b.splice(f,1),0===b.length&&delete this.listeners_[n])))}}A.default=t};
shadow$provide[72]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}};
shadow$provide[73]=function(Ka,L,sb,A){function w(p,q,t,n,f){n&&n!==p&&(t=t.bind(n));if(f){const b=t;t=function(){p.removeEventListener(q,t);b.apply(this,arguments)}}n={target:p,type:q,listener:t};p.addEventListener(q,t);return n}Object.defineProperty(A,"__esModule",{value:!0});A.listen=w;A.listenOnce=function(p,q,t,n){return w(p,q,t,n,!0)};A.unlistenByKey=function(p){p&&p.target&&(p.target.removeEventListener(p.type,p.listener),(0,k.clear)(p))};var k=L(70)};
shadow$provide[74]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}function k(n){if(Array.isArray(n))for(let f=0,b=n.length;f<b;++f)(0,q.unlistenByKey)(n[f]);else(0,q.unlistenByKey)(n)}Object.defineProperty(A,"__esModule",{value:!0});A.unByKey=k;A.default=void 0;Ka=w(L(71));var p=w(L(72)),q=L(73);class t extends Ka.default{constructor(){super();this.on=this.onInternal;this.once=this.onceInternal;this.un=this.unInternal;this.revision_=0}changed(){++this.revision_;this.dispatchEvent(p.default.CHANGE)}getRevision(){return this.revision_}onInternal(n,
f){if(Array.isArray(n)){const b=n.length,c=Array(b);for(let e=0;e<b;++e)c[e]=(0,q.listen)(this,n[e],f);return c}return(0,q.listen)(this,n,f)}onceInternal(n,f){let b;if(Array.isArray(n)){const c=n.length;b=Array(c);for(let e=0;e<c;++e)b[e]=(0,q.listenOnce)(this,n[e],f)}else b=(0,q.listenOnce)(this,n,f);return f.ol_key=b}unInternal(n,f){const b=f.ol_key;if(b)k(b);else if(Array.isArray(n))for(let c=0,e=n.length;c<e;++c)this.removeEventListener(n[c],f);else this.removeEventListener(n,f)}}A.default=t};
shadow$provide[75]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.abstract=function(){throw Error("Unimplemented abstract method.");};A.getUid=function(k){return k.ol_uid||(k.ol_uid=String(++w))};A.VERSION=void 0;let w=0;A.VERSION="7.1.0"};
shadow$provide[76]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.ObjectEvent=void 0;Ka=w(L(65));var k=w(L(66));sb=w(L(74));var p=L(75),q=L(70);class t extends Ka.default{constructor(f,b,c){super(f);this.key=b;this.oldValue=c}}A.ObjectEvent=t;class n extends sb.default{constructor(f){super();(0,p.getUid)(this);this.values_=null;void 0!==f&&this.setProperties(f)}get(f){let b;this.values_&&this.values_.hasOwnProperty(f)&&
(b=this.values_[f]);return b}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}hasProperties(){return!!this.values_}notify(f,b){let c;c=`change:${f}`;this.hasListener(c)&&this.dispatchEvent(new t(c,f,b));c=k.default.PROPERTYCHANGE;this.hasListener(c)&&this.dispatchEvent(new t(c,f,b))}addChangeListener(f,b){this.addEventListener(`change:${f}`,b)}removeChangeListener(f,b){this.removeEventListener(`change:${f}`,b)}set(f,
b,c){const e=this.values_||(this.values_={});c?e[f]=b:(c=e[f],e[f]=b,c!==b&&this.notify(f,c))}setProperties(f,b){for(const c in f)this.set(c,f[c],b)}applyProperties(f){f.values_&&Object.assign(this.values_||(this.values_={}),f.values_)}unset(f,b){if(this.values_&&f in this.values_){const c=this.values_[f];delete this.values_[f];(0,q.isEmpty)(this.values_)&&(this.values_=null);b||this.notify(f,c)}}}A.default=n};
shadow$provide[77]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;const w={1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",
11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",
22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:'`renderMode` must be `"hybrid"` or `"vector"`',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",
36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",
50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",
64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class k extends Error{constructor(p){const q=
w[p];super(q);this.code=p;this.name="AssertionError";this.message=q}}A.default=k};
shadow$provide[78]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ADD:"add",REMOVE:"remove"}};
shadow$provide[79]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CollectionEvent=void 0;var k=w(L(77));Ka=w(L(76));var p=w(L(78));L=w(L(65));class q extends L.default{constructor(n,f,b){super(n);this.element=f;this.index=b}}A.CollectionEvent=q;class t extends Ka.default{constructor(n,f){super();f=f||{};this.unique_=!!f.unique;this.array_=n?n:[];if(this.unique_)for(let b=0,c=this.array_.length;b<c;++b)this.assertUnique_(this.array_[b],
b);this.updateLength_()}clear(){for(;0<this.getLength();)this.pop()}extend(n){for(let f=0,b=n.length;f<b;++f)this.push(n[f]);return this}forEach(n){const f=this.array_;for(let b=0,c=f.length;b<c;++b)n(f[b],b,f)}getArray(){return this.array_}item(n){return this.array_[n]}getLength(){return this.get("length")}insertAt(n,f){if(0>n||n>this.getLength())throw Error("Index out of bounds: "+n);this.unique_&&this.assertUnique_(f);this.array_.splice(n,0,f);this.updateLength_();this.dispatchEvent(new q(p.default.ADD,
f,n))}pop(){return this.removeAt(this.getLength()-1)}push(n){this.unique_&&this.assertUnique_(n);const f=this.getLength();this.insertAt(f,n);return this.getLength()}remove(n){const f=this.array_;for(let b=0,c=f.length;b<c;++b)if(f[b]===n)return this.removeAt(b)}removeAt(n){if(!(0>n||n>=this.getLength())){var f=this.array_[n];this.array_.splice(n,1);this.updateLength_();this.dispatchEvent(new q(p.default.REMOVE,f,n));return f}}setAt(n,f){var b=this.getLength();if(n>=b)this.insertAt(n,f);else{if(0>
n)throw Error("Index out of bounds: "+n);this.unique_&&this.assertUnique_(f,n);b=this.array_[n];this.array_[n]=f;this.dispatchEvent(new q(p.default.REMOVE,b,n));this.dispatchEvent(new q(p.default.ADD,f,n))}}updateLength_(){this.set("length",this.array_.length)}assertUnique_(n,f){for(let b=0,c=this.array_.length;b<c;++b)if(this.array_[b]===n&&b!==f)throw new k.default(58);}}A.default=t};
shadow$provide[80]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.PASSIVE_EVENT_LISTENERS=A.IMAGE_DECODE=A.WORKER_OFFSCREEN_CANVAS=A.DEVICE_PIXEL_RATIO=A.MAC=A.WEBKIT=A.SAFARI_BUG_237906=A.SAFARI=A.FIREFOX=void 0;Ka="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"";L=Ka.includes("firefox");A.FIREFOX=L;L=Ka.includes("safari")&&!Ka.includes("chrom");L=(A.SAFARI=L)&&(Ka.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(Ka));
A.SAFARI_BUG_237906=L;L=Ka.includes("webkit")&&!Ka.includes("edge");A.WEBKIT=L;Ka=Ka.includes("macintosh");A.MAC=Ka;A.DEVICE_PIXEL_RATIO="undefined"!==typeof devicePixelRatio?devicePixelRatio:1;A.WORKER_OFFSCREEN_CANVAS="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope;A.IMAGE_DECODE="undefined"!==typeof Image&&Image.prototype.decode;Ka=function(){let w=!1;try{const k=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("_",
null,k);window.removeEventListener("_",null,k)}catch(k){}return w}();A.PASSIVE_EVENT_LISTENERS=Ka};
shadow$provide[81]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.assert=function(k,p){if(!k)throw new w.default(p);};var w=function(k){return k&&k.__esModule?k:{default:k}}(L(77))};
shadow$provide[82]=function(Ka,L,sb,A){function w(){return[1,0,0,1,0,0]}function k(m,h){const x=m[0],O=m[1],G=m[2],I=m[3],F=m[4],C=m[5],r=h[0],y=h[1],K=h[2],R=h[3],S=h[4];h=h[5];m[0]=x*r+G*y;m[1]=O*r+I*y;m[2]=x*K+G*R;m[3]=O*K+I*R;m[4]=x*S+G*h+F;m[5]=O*S+I*h+C;return m}function p(m,h,x,O,G,I,F){m[0]=h;m[1]=x;m[2]=O;m[3]=G;m[4]=I;m[5]=F;return m}function q(m,h,x,O,G,I,F,C){const r=Math.sin(I);I=Math.cos(I);m[0]=O*I;m[1]=G*r;m[2]=-O*r;m[3]=G*I;m[4]=F*O*I-C*O*r+h;m[5]=F*G*r+C*G*I+x;return m}function t(m,
h){const x=n(h);(0,c.assert)(0!==x,32);const O=h[0],G=h[1],I=h[2],F=h[3],C=h[4];h=h[5];m[0]=F/x;m[1]=-G/x;m[2]=-I/x;m[3]=O/x;m[4]=(I*h-F*C)/x;m[5]=-(O*h-G*C)/x;return m}function n(m){return m[0]*m[3]-m[1]*m[2]}function f(m){m="matrix("+m.join(", ")+")";if(b.WORKER_OFFSCREEN_CANVAS)return m;const h=g||(g=document.createElement("div"));h.style.transform=m;return h.style.transform}Object.defineProperty(A,"__esModule",{value:!0});A.create=w;A.reset=function(m){return p(m,1,0,0,1,0,0)};A.multiply=k;A.set=
p;A.setFromArray=function(m,h){m[0]=h[0];m[1]=h[1];m[2]=h[2];m[3]=h[3];m[4]=h[4];m[5]=h[5];return m};A.apply=function(m,h){const x=h[0],O=h[1];h[0]=m[0]*x+m[2]*O+m[4];h[1]=m[1]*x+m[3]*O+m[5];return h};A.rotate=function(m,h){const x=Math.cos(h);h=Math.sin(h);return k(m,p(e,x,h,-h,x,0,0))};A.scale=function(m,h,x){return k(m,p(e,h,0,0,x,0,0))};A.makeScale=function(m,h,x){return p(m,h,0,0,x,0,0)};A.translate=function(m,h,x){return k(m,p(e,1,0,0,1,h,x))};A.compose=q;A.composeCssTransform=function(m,h,
x,O,G,I,F){return f(q(w(),m,h,x,O,G,I,F))};A.invert=function(m){return t(m,m)};A.makeInverse=t;A.determinant=n;A.toString=f;var b=L(80),c=L(81);const e=Array(6);let g};
shadow$provide[83]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}};
shadow$provide[84]=function(Ka,L,sb,A){function w(M,aa,Y){return M[0]<=aa&&aa<=M[2]&&M[1]<=Y&&Y<=M[3]}function k(M,aa){const Y=M[1],ea=M[2],Ga=M[3],X=aa[0];aa=aa[1];let D=S.default.UNKNOWN;X<M[0]?D|=S.default.LEFT:X>ea&&(D|=S.default.RIGHT);aa<Y?D|=S.default.BELOW:aa>Ga&&(D|=S.default.ABOVE);D===S.default.UNKNOWN&&(D=S.default.INTERSECTING);return D}function p(){return[Infinity,Infinity,-Infinity,-Infinity]}function q(M,aa,Y,ea,Ga){return Ga?(Ga[0]=M,Ga[1]=aa,Ga[2]=Y,Ga[3]=ea,Ga):[M,aa,Y,ea]}function t(M){return q(Infinity,
Infinity,-Infinity,-Infinity,M)}function n(M,aa){aa[0]<M[0]&&(M[0]=aa[0]);aa[0]>M[2]&&(M[2]=aa[0]);aa[1]<M[1]&&(M[1]=aa[1]);aa[1]>M[3]&&(M[3]=aa[1])}function f(M,aa){for(let Y=0,ea=aa.length;Y<ea;++Y)n(M,aa[Y]);return M}function b(M,aa,Y,ea,Ga){for(;Y<ea;Y+=Ga)e(M,aa[Y],aa[Y+1]);return M}function c(M,aa){for(let Y=0,ea=aa.length;Y<ea;++Y)f(M,aa[Y]);return M}function e(M,aa,Y){M[0]=Math.min(M[0],aa);M[1]=Math.min(M[1],Y);M[2]=Math.max(M[2],aa);M[3]=Math.max(M[3],Y)}function g(M){let aa=0;K(M)||(aa=
r(M)*G(M));return aa}function m(M){return[M[0],M[1]]}function h(M){return[M[2],M[1]]}function x(M){return[(M[0]+M[2])/2,(M[1]+M[3])/2]}function O(M,aa,Y,ea){var Ga=aa*ea[0]/2;aa=aa*ea[1]/2;ea=Math.cos(Y);var X=Math.sin(Y);Y=Ga*ea;Ga*=X;ea*=aa;aa*=X;X=M[0];M=M[1];return[X-Y+aa,M-Ga-ea,X-Y-aa,M-Ga+ea,X+Y-aa,M+Ga+ea,X+Y+aa,M+Ga-ea,X-Y+aa,M-Ga-ea]}function G(M){return M[3]-M[1]}function I(M,aa,Y){Y=Y?Y:p();y(M,aa)?(Y[0]=M[0]>aa[0]?M[0]:aa[0],Y[1]=M[1]>aa[1]?M[1]:aa[1],Y[2]=M[2]<aa[2]?M[2]:aa[2],Y[3]=
M[3]<aa[3]?M[3]:aa[3]):t(Y);return Y}function F(M){return[M[0],M[3]]}function C(M){return[M[2],M[3]]}function r(M){return M[2]-M[0]}function y(M,aa){return M[0]<=aa[2]&&M[2]>=aa[0]&&M[1]<=aa[3]&&M[3]>=aa[1]}function K(M){return M[2]<M[0]||M[3]<M[1]}function R(M,aa){var Y=aa.getExtent();const ea=x(M);aa.canWrapX()&&(ea[0]<Y[0]||ea[0]>=Y[2])&&(aa=r(Y),Y=Math.floor((ea[0]-Y[0])/aa)*aa,M[0]-=Y,M[2]-=Y);return M}Object.defineProperty(A,"__esModule",{value:!0});A.boundingExtent=function(M){const aa=p();
for(let Y=0,ea=M.length;Y<ea;++Y)n(aa,M[Y]);return aa};A.buffer=function(M,aa,Y){return Y?(Y[0]=M[0]-aa,Y[1]=M[1]-aa,Y[2]=M[2]+aa,Y[3]=M[3]+aa,Y):[M[0]-aa,M[1]-aa,M[2]+aa,M[3]+aa]};A.clone=function(M,aa){return aa?(aa[0]=M[0],aa[1]=M[1],aa[2]=M[2],aa[3]=M[3],aa):M.slice()};A.closestSquaredDistanceXY=function(M,aa,Y){aa=aa<M[0]?M[0]-aa:M[2]<aa?aa-M[2]:0;M=Y<M[1]?M[1]-Y:M[3]<Y?Y-M[3]:0;return aa*aa+M*M};A.containsCoordinate=function(M,aa){return w(M,aa[0],aa[1])};A.containsExtent=function(M,aa){return M[0]<=
aa[0]&&aa[2]<=M[2]&&M[1]<=aa[1]&&aa[3]<=M[3]};A.containsXY=w;A.coordinateRelationship=k;A.createEmpty=p;A.createOrUpdate=q;A.createOrUpdateEmpty=t;A.createOrUpdateFromCoordinate=function(M,aa){const Y=M[0];M=M[1];return q(Y,M,Y,M,aa)};A.createOrUpdateFromCoordinates=function(M,aa){aa=t(aa);return f(aa,M)};A.createOrUpdateFromFlatCoordinates=function(M,aa,Y,ea,Ga){Ga=t(Ga);return b(Ga,M,aa,Y,ea)};A.createOrUpdateFromRings=function(M,aa){aa=t(aa);return c(aa,M)};A.equals=function(M,aa){return M[0]==
aa[0]&&M[2]==aa[2]&&M[1]==aa[1]&&M[3]==aa[3]};A.approximatelyEquals=function(M,aa,Y){return Math.abs(M[0]-aa[0])<Y&&Math.abs(M[2]-aa[2])<Y&&Math.abs(M[1]-aa[1])<Y&&Math.abs(M[3]-aa[3])<Y};A.extend=function(M,aa){aa[0]<M[0]&&(M[0]=aa[0]);aa[2]>M[2]&&(M[2]=aa[2]);aa[1]<M[1]&&(M[1]=aa[1]);aa[3]>M[3]&&(M[3]=aa[3]);return M};A.extendCoordinate=n;A.extendCoordinates=f;A.extendFlatCoordinates=b;A.extendRings=c;A.extendXY=e;A.forEachCorner=function(M,aa){let Y;return(Y=aa(m(M)))||(Y=aa(h(M)))||(Y=aa(C(M)))?
Y:(Y=aa(F(M)))?Y:!1};A.getArea=g;A.getBottomLeft=m;A.getBottomRight=h;A.getCenter=x;A.getCorner=function(M,aa){let Y;"bottom-left"===aa?Y=m(M):"bottom-right"===aa?Y=h(M):"top-left"===aa?Y=F(M):"top-right"===aa?Y=C(M):(0,ca.assert)(!1,13);return Y};A.getEnlargedArea=function(M,aa){return(Math.max(M[2],aa[2])-Math.min(M[0],aa[0]))*(Math.max(M[3],aa[3])-Math.min(M[1],aa[1]))};A.getForViewAndSize=function(M,aa,Y,ea,Ga){const [X,D,B,N,Z,Aa,qa,la]=O(M,aa,Y,ea);return q(Math.min(X,B,Z,qa),Math.min(D,N,Aa,
la),Math.max(X,B,Z,qa),Math.max(D,N,Aa,la),Ga)};A.getRotatedViewport=O;A.getHeight=G;A.getIntersectionArea=function(M,aa){M=I(M,aa);return g(M)};A.getIntersection=I;A.getMargin=function(M){return r(M)+G(M)};A.getSize=function(M){return[M[2]-M[0],M[3]-M[1]]};A.getTopLeft=F;A.getTopRight=C;A.getWidth=r;A.intersects=y;A.isEmpty=K;A.returnOrUpdate=function(M,aa){return aa?(aa[0]=M[0],aa[1]=M[1],aa[2]=M[2],aa[3]=M[3],aa):M};A.scaleFromCenter=function(M,aa){const Y=(M[2]-M[0])/2*(aa-1);aa=(M[3]-M[1])/2*
(aa-1);M[0]-=Y;M[2]+=Y;M[1]-=aa;M[3]+=aa};A.intersectsSegment=function(M,aa,Y){var ea=!1;const Ga=k(M,aa),X=k(M,Y);if(Ga===S.default.INTERSECTING||X===S.default.INTERSECTING)ea=!0;else{const D=M[0],B=M[1],N=M[2];M=M[3];const Z=Y[0];Y=Y[1];aa=(Y-aa[1])/(Z-aa[0]);X&S.default.ABOVE&&!(Ga&S.default.ABOVE)&&(ea=Z-(Y-M)/aa,ea=ea>=D&&ea<=N);ea||!(X&S.default.RIGHT)||Ga&S.default.RIGHT||(ea=Y-(Z-N)*aa,ea=ea>=B&&ea<=M);ea||!(X&S.default.BELOW)||Ga&S.default.BELOW||(ea=Z-(Y-B)/aa,ea=ea>=D&&ea<=N);ea||!(X&S.default.LEFT)||
Ga&S.default.LEFT||(ea=Y-(Z-D)*aa,ea=ea>=B&&ea<=M)}return ea};A.applyTransform=function(M,aa,Y,ea){var Ga=[];if(1<ea){const X=M[2]-M[0],D=M[3]-M[1];for(let B=0;B<ea;++B)Ga.push(M[0]+X*B/ea,M[1],M[2],M[1]+D*B/ea,M[2]-X*B/ea,M[3],M[0],M[3]-D*B/ea)}else Ga=[M[0],M[1],M[2],M[1],M[2],M[3],M[0],M[3]];aa(Ga,Ga,2);ea=[];M=[];for(let X=0,D=Ga.length;X<D;X+=2)ea.push(Ga[X]),M.push(Ga[X+1]);Ga=Math.min.apply(null,ea);aa=Math.min.apply(null,M);ea=Math.max.apply(null,ea);M=Math.max.apply(null,M);return q(Ga,aa,
ea,M,Y)};A.wrapX=R;A.wrapAndSliceX=function(M,aa){if(aa.canWrapX()){const Y=aa.getExtent();if(!isFinite(M[0])||!isFinite(M[2]))return[[Y[0],M[1],Y[2],M[3]]];R(M,aa);aa=r(Y);if(r(M)>aa)return[[Y[0],M[1],Y[2],M[3]]];if(M[0]<Y[0])return[[M[0]+aa,M[1],Y[2],M[3]],[Y[0],M[1],M[2],M[3]]];if(M[2]>Y[2])return[[M[0],M[1],Y[2],M[3]],[Y[0],M[1],M[2]-aa,M[3]]]}return[M]};var S=function(M){return M&&M.__esModule?M:{default:M}}(L(83)),ca=L(81)};
shadow$provide[85]=function(Ka,L,sb,A){function w(p,q,t,n){p=t-p;q=n-q;return p*p+q*q}function k(p,q){q=Math.pow(10,q);return Math.round(p*q)/q}Object.defineProperty(A,"__esModule",{value:!0});A.clamp=function(p,q,t){return Math.min(Math.max(p,q),t)};A.squaredSegmentDistance=function(p,q,t,n,f,b){const c=f-t,e=b-n;if(0!==c||0!==e){const g=((p-t)*c+(q-n)*e)/(c*c+e*e);1<g?(t=f,n=b):0<g&&(t+=c*g,n+=e*g)}return w(p,q,t,n)};A.squaredDistance=w;A.solveLinearSystem=function(p){const q=p.length;for(var t=
0;t<q;t++){var n=t,f=Math.abs(p[t][t]);for(var b=t+1;b<q;b++){const c=Math.abs(p[b][t]);c>f&&(f=c,n=b)}if(0===f)return null;f=p[n];p[n]=p[t];p[t]=f;for(n=t+1;n<q;n++)for(f=-p[n][t]/p[t][t],b=t;b<q+1;b++)p[n][b]=t==b?0:p[n][b]+f*p[t][b]}t=Array(q);for(n=q-1;0<=n;n--)for(t[n]=p[n][q]/p[n][n],f=n-1;0<=f;f--)p[f][q]-=p[f][n]*t[n];return t};A.toDegrees=function(p){return 180*p/Math.PI};A.toRadians=function(p){return p*Math.PI/180};A.modulo=function(p,q){p%=q;return 0>p*q?p+q:p};A.lerp=function(p,q,t){return p+
t*(q-p)};A.toFixed=k;A.round=function(p,q){return Math.round(k(p,q))};A.floor=function(p,q){return Math.floor(k(p,q))};A.ceil=function(p,q){return Math.ceil(k(p,q))}};
shadow$provide[86]=function(Ka,L,sb,A){function w(c){const e=document.createElement("div");e.style.color=c;return""!==e.style.color?(document.body.appendChild(e),c=getComputedStyle(e).color,document.body.removeChild(e),c):""}function k(c){c[0]=(0,t.clamp)(c[0]+.5|0,0,255);c[1]=(0,t.clamp)(c[1]+.5|0,0,255);c[2]=(0,t.clamp)(c[2]+.5|0,0,255);c[3]=(0,t.clamp)(c[3],0,1);return c}function p(c){let e=c[0];e!=(e|0)&&(e=e+.5|0);let g=c[1];g!=(g|0)&&(g=g+.5|0);let m=c[2];m!=(m|0)&&(m=m+.5|0);return"rgba("+
e+","+g+","+m+","+(void 0===c[3]?1:Math.round(100*c[3])/100)+")"}Object.defineProperty(A,"__esModule",{value:!0});A.asString=function(c){return"string"===typeof c?c:p(c)};A.asArray=function(c){return Array.isArray(c)?c:b(c)};A.normalize=k;A.toString=p;A.isStringColor=function(c){f.test(c)&&(c=w(c));return n.test(c)||c.startsWith("rgba(")||c.startsWith("rgb(")};A.fromString=void 0;var q=L(81),t=L(85);const n=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,f=/^([a-z]*)$|^hsla?\(.*\)$/i,b=function(){const c=
{};let e=0;return function(g){if(c.hasOwnProperty(g))var m=c[g];else{if(1024<=e){m=0;for(var h in c)0===(m++&3)&&(delete c[h],--e)}m=g;let O,G;f.exec(m)&&(m=w(m));if(n.exec(m)){h=m.length-1;var x=4>=h?1:2;const I=4===h||8===h;h=parseInt(m.substr(1+0*x,x),16);O=parseInt(m.substr(1+1*x,x),16);G=parseInt(m.substr(1+2*x,x),16);m=I?parseInt(m.substr(1+3*x,x),16):255;1==x&&(h=(h<<4)+h,O=(O<<4)+O,G=(G<<4)+G,I&&(m=(m<<4)+m));x=[h,O,G,m/255]}else m.startsWith("rgba(")?(x=m.slice(5,-1).split(",").map(Number),
k(x)):m.startsWith("rgb(")?(x=m.slice(4,-1).split(",").map(Number),x.push(1),k(x)):(0,q.assert)(!1,14);m=x;c[g]=m;++e}return m}}();A.fromString=b};
shadow$provide[87]=function(Ka,L,sb,A){function w(q,t,n){n=n?(0,k.asString)(n):"null";return t+":"+q+":"+n}Object.defineProperty(A,"__esModule",{value:!0});A.shared=A.default=void 0;var k=L(86);class p{constructor(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32}clear(){this.cache_={};this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let q=0;for(const t in this.cache_){const n=this.cache_[t];0!==(q++&3)||n.hasListener()||(delete this.cache_[t],
--this.cacheSize_)}}}get(q,t,n){q=w(q,t,n);return q in this.cache_?this.cache_[q]:null}set(q,t,n,f){q=w(q,t,n);this.cache_[q]=f;++this.cacheSize_}setSize(q){this.maxCacheSize_=q;this.expire()}}A.default=p;Ka=new p;A.shared=Ka};
shadow$provide[88]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"}};
shadow$provide[89]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(76));var k=w(L(88)),p=L(75),q=L(81),t=L(85);class n extends Ka.default{constructor(f){super();this.background_=f.background;const b=Object.assign({},f);"object"===typeof f.properties&&(delete b.properties,Object.assign(b,f.properties));b[k.default.OPACITY]=void 0!==f.opacity?f.opacity:1;(0,q.assert)("number"===typeof b[k.default.OPACITY],
64);b[k.default.VISIBLE]=void 0!==f.visible?f.visible:!0;b[k.default.Z_INDEX]=f.zIndex;b[k.default.MAX_RESOLUTION]=void 0!==f.maxResolution?f.maxResolution:Infinity;b[k.default.MIN_RESOLUTION]=void 0!==f.minResolution?f.minResolution:0;b[k.default.MIN_ZOOM]=void 0!==f.minZoom?f.minZoom:-Infinity;b[k.default.MAX_ZOOM]=void 0!==f.maxZoom?f.maxZoom:Infinity;this.className_=void 0!==b.className?b.className:"ol-layer";delete b.className;this.setProperties(b);this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(f){f=
this.state_||{layer:this,managed:void 0===f?!0:f};const b=this.getZIndex();f.opacity=(0,t.clamp)(Math.round(100*this.getOpacity())/100,0,1);f.visible=this.getVisible();f.extent=this.getExtent();f.zIndex=void 0!==b||f.managed?b:Infinity;f.maxResolution=this.getMaxResolution();f.minResolution=Math.max(this.getMinResolution(),0);f.minZoom=this.getMinZoom();f.maxZoom=this.getMaxZoom();return this.state_=f}getLayersArray(f){return(0,p.abstract)()}getLayerStatesArray(f){return(0,p.abstract)()}getExtent(){return this.get(k.default.EXTENT)}getMaxResolution(){return this.get(k.default.MAX_RESOLUTION)}getMinResolution(){return this.get(k.default.MIN_RESOLUTION)}getMinZoom(){return this.get(k.default.MIN_ZOOM)}getMaxZoom(){return this.get(k.default.MAX_ZOOM)}getOpacity(){return this.get(k.default.OPACITY)}getSourceState(){return(0,p.abstract)()}getVisible(){return this.get(k.default.VISIBLE)}getZIndex(){return this.get(k.default.Z_INDEX)}setBackground(f){this.background_=
f;this.changed()}setExtent(f){this.set(k.default.EXTENT,f)}setMaxResolution(f){this.set(k.default.MAX_RESOLUTION,f)}setMinResolution(f){this.set(k.default.MIN_RESOLUTION,f)}setMaxZoom(f){this.set(k.default.MAX_ZOOM,f)}setMinZoom(f){this.set(k.default.MIN_ZOOM,f)}setOpacity(f){(0,q.assert)("number"===typeof f,64);this.set(k.default.OPACITY,f)}setVisible(f){this.set(k.default.VISIBLE,f)}setZIndex(f){this.set(k.default.Z_INDEX,f)}disposeInternal(){this.state_&&(this.state_=this.state_.layer=null);super.disposeInternal()}}
A.default=n};
shadow$provide[90]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"}};
shadow$provide[91]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.inView=function(b,c){if(!b.visible)return!1;const e=c.resolution;if(e<b.minResolution||e>=b.maxResolution)return!1;c=c.zoom;return c>b.minZoom&&c<=b.maxZoom};A.default=void 0;Ka=w(L(89));var k=w(L(72)),p=w(L(88)),q=w(L(90)),t=L(81),n=L(73);class f extends Ka.default{constructor(b){const c=Object.assign({},b);delete c.source;super(c);this.renderer_=this.sourceChangeKey_=
this.mapRenderKey_=this.mapPrecomposeKey_=null;this.rendered=!1;b.render&&(this.render=b.render);b.map&&this.setMap(b.map);this.addChangeListener(p.default.SOURCE,this.handleSourcePropertyChange_);this.setSource(b.source?b.source:null)}getLayersArray(b){b=b?b:[];b.push(this);return b}getLayerStatesArray(b){b=b?b:[];b.push(this.getLayerState());return b}getSource(){return this.get(p.default.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const b=this.getSource();return b?b.getState():
"undefined"}handleSourceChange_(){this.changed()}handleSourcePropertyChange_(){this.sourceChangeKey_&&((0,n.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);const b=this.getSource();b&&(this.sourceChangeKey_=(0,n.listen)(b,k.default.CHANGE,this.handleSourceChange_,this));this.changed()}getFeatures(b){return this.renderer_?this.renderer_.getFeatures(b):new Promise(c=>c([]))}getData(b){return this.renderer_&&this.rendered?this.renderer_.getData(b):null}render(b,c){const e=this.getRenderer();
if(e.prepareFrame(b))return this.rendered=!0,e.renderFrame(b,c)}unrender(){this.rendered=!1}setMapInternal(b){b||this.unrender();this.set(p.default.MAP,b)}getMapInternal(){return this.get(p.default.MAP)}setMap(b){this.mapPrecomposeKey_&&((0,n.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null);b||this.changed();this.mapRenderKey_&&((0,n.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null);b&&(this.mapPrecomposeKey_=(0,n.listen)(b,q.default.PRECOMPOSE,function(c){c=c.frameState.layerStatesArray;
const e=this.getLayerState(!1);(0,t.assert)(!c.some(function(g){return g.layer===e.layer}),67);c.push(e)},this),this.mapRenderKey_=(0,n.listen)(this,k.default.CHANGE,b.render,b),this.changed())}setSource(b){this.set(p.default.SOURCE,b)}getRenderer(){this.renderer_||(this.renderer_=this.createRenderer());return this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_);this.setSource(null);super.disposeInternal()}}
A.default=f};
shadow$provide[92]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.padNumber=function(w,k,p){w=void 0!==p?w.toFixed(p):""+w;p=w.indexOf(".");p=-1===p?w.length:p;return p>k?w:Array(1+k-p).join("0")+w};A.compareVersions=function(w,k){w=(""+w).split(".");k=(""+k).split(".");for(let p=0;p<Math.max(w.length,k.length);p++){const q=parseInt(w[p]||"0",10),t=parseInt(k[p]||"0",10);if(q>t)return 1;if(t>q)return-1}return 0}};
shadow$provide[93]=function(Ka,L,sb,A){function w(e,g){var m=e[0];e=e[1];var h=g[0],x=g[1];g=h[0];h=h[1];const O=x[0];x=x[1];const G=O-g,I=x-h;m=0===G&&0===I?0:(G*(m-g)+I*(e-h))/(G*G+I*I||0);0>=m?(e=g,m=h):1<=m?(e=O,m=x):(e=g+m*G,m=h+m*I);return[e,m]}function k(e,g,m){g=(0,b.modulo)(g+180,360)-180;var h=Math.abs(3600*g);m=m||0;var x=Math.floor(h/3600);let O=Math.floor((h-3600*x)/60);h=(0,b.toFixed)(h-3600*x-60*O,m);60<=h&&(h=0,O+=1);60<=O&&(O=0,x+=1);x+="°";if(0!==O||0!==h)x+=" "+(0,c.padNumber)(O,
2)+"′";0!==h&&(x+=" "+(0,c.padNumber)(h,2,m)+"″");0!==g&&(x+=" "+e.charAt(0>g?1:0));return x}function p(e,g,m){return e?g.replace("{x}",e[0].toFixed(m)).replace("{y}",e[1].toFixed(m)):""}function q(e,g){const m=e[0]-g[0];e=e[1]-g[1];return m*m+e*e}function t(e,g){return p(e,"{x}, {y}",g)}function n(e,g,m){const h=g.getExtent();let x=0;g.canWrapX()&&(e[0]<h[0]||e[0]>h[2])&&(m=m||(0,f.getWidth)(h),x=Math.floor((e[0]-h[0])/m));return x}Object.defineProperty(A,"__esModule",{value:!0});A.add=function(e,
g){e[0]+=+g[0];e[1]+=+g[1];return e};A.closestOnCircle=function(e,g){const m=g.getRadius();var h=g.getCenter();g=h[0];h=h[1];let x=e[0]-g;e=e[1]-h;0===x&&0===e&&(x=1);const O=Math.sqrt(x*x+e*e);return[g+m*x/O,h+m*e/O]};A.closestOnSegment=w;A.createStringXY=function(e){return function(g){return t(g,e)}};A.degreesToStringHDMS=k;A.format=p;A.equals=function(e,g){let m=!0;for(let h=e.length-1;0<=h;--h)if(e[h]!=g[h]){m=!1;break}return m};A.rotate=function(e,g){const m=Math.cos(g);g=Math.sin(g);const h=
e[1]*m+e[0]*g;e[0]=e[0]*m-e[1]*g;e[1]=h;return e};A.scale=function(e,g){e[0]*=g;e[1]*=g;return e};A.squaredDistance=q;A.distance=function(e,g){return Math.sqrt(q(e,g))};A.squaredDistanceToSegment=function(e,g){return q(e,w(e,g))};A.toStringHDMS=function(e,g){return e?k("NS",e[1],g)+" "+k("EW",e[0],g):""};A.toStringXY=t;A.wrapX=function(e,g){if(g.canWrapX()){const m=(0,f.getWidth)(g.getExtent());(g=n(e,g,m))&&(e[0]-=g*m)}return e};A.getWorldsAway=n;var f=L(84),b=L(85),c=L(92)};
shadow$provide[94]=function(Ka,L,sb,A){function w(e,g){n.shared.expire()}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(e){return e&&e.__esModule?e:{default:e}}(L(67));var k=L(69),p=L(75),q=L(82),t=L(84),n=L(87),f=L(91),b=L(93);class c extends Ka.default{constructor(e){super();this.map_=e}dispatchRenderEvent(e,g){(0,p.abstract)()}calculateMatrices2D(e){const g=e.viewState,m=e.coordinateToPixelTransform,h=e.pixelToCoordinateTransform;(0,q.compose)(m,e.size[0]/2,e.size[1]/
2,1/g.resolution,-1/g.resolution,-g.rotation,-g.center[0],-g.center[1]);(0,q.makeInverse)(h,m)}forEachFeatureAtCoordinate(e,g,m,h,x,O,G,I){function F(ea,Ga,X,D){return x.call(O,Ga,ea?X:null,D)}let C;const r=g.viewState;var y=r.projection;const K=(0,b.wrapX)(e.slice(),y),R=[[0,0]];y.canWrapX()&&h&&(h=y.getExtent(),h=(0,t.getWidth)(h),R.push([-h,0],[h,0]));h=g.layerStatesArray;y=h.length;const S=[],ca=[];for(let ea=0;ea<R.length;ea++)for(let Ga=y-1;0<=Ga;--Ga){var M=h[Ga],aa=M.layer;if(aa.hasRenderer()&&
(0,f.inView)(M,r)&&G.call(I,aa)){const X=aa.getRenderer();aa=aa.getSource();X&&aa&&(aa=aa.getWrapX()?K:e,M=F.bind(null,M.managed),ca[0]=aa[0]+R[ea][0],ca[1]=aa[1]+R[ea][1],C=X.forEachFeatureAtCoordinate(ca,g,m,M,S));if(C)return C}}if(0!==S.length){var Y=1/S.length;S.forEach((ea,Ga)=>ea.distanceSq+=Ga*Y);S.sort((ea,Ga)=>ea.distanceSq-Ga.distanceSq);S.some(ea=>C=ea.callback(ea.feature,ea.layer,ea.geometry));return C}}hasFeatureAtCoordinate(e,g,m,h,x,O){return void 0!==this.forEachFeatureAtCoordinate(e,
g,m,h,k.TRUE,this,x,O)}getMap(){return this.map_}renderFrame(e){(0,p.abstract)()}scheduleExpireIconCache(e){n.shared.canExpireCache()&&e.postRenderFunctions.push(w)}}A.default=c};
shadow$provide[95]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(65));class w extends Ka.default{constructor(k,p,q,t){super(k);this.inversePixelTransform=p;this.frameState=q;this.context=t}}A.default=w};
shadow$provide[96]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.getFontParameters=A.CLASS_COLLAPSED=A.CLASS_CONTROL=A.CLASS_UNSUPPORTED=A.CLASS_UNSELECTABLE=A.CLASS_SELECTABLE=A.CLASS_HIDDEN=void 0;A.CLASS_HIDDEN="ol-hidden";A.CLASS_SELECTABLE="ol-selectable";A.CLASS_UNSELECTABLE="ol-unselectable";A.CLASS_UNSUPPORTED="ol-unsupported";A.CLASS_CONTROL="ol-control";A.CLASS_COLLAPSED="ol-collapsed";const w=RegExp("^\\s*(?\x3d(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)(?\x3d(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$",
"i"),k="style variant weight size lineHeight family".split(" ");A.getFontParameters=function(p){p=p.match(w);if(!p)return null;const q={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let t=0,n=k.length;t<n;++t){const f=p[t+1];void 0!==f&&(q[k[t]]=f)}q.families=q.family.split(/,\s?/);return q}};
shadow$provide[97]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createCanvasContext2D=function(k,p,q,t){q=q&&q.length?q.shift():w.WORKER_OFFSCREEN_CANVAS?new OffscreenCanvas(k||300,p||300):document.createElement("canvas");k&&(q.width=k);p&&(q.height=p);return q.getContext("2d",t)};A.releaseCanvas=function(k){const p=k.canvas;p.width=1;p.height=1;k.clearRect(0,0,1,1)};A.outerWidth=function(k){let p=k.offsetWidth;k=getComputedStyle(k);return p+=parseInt(k.marginLeft,10)+parseInt(k.marginRight,
10)};A.outerHeight=function(k){let p=k.offsetHeight;k=getComputedStyle(k);return p+=parseInt(k.marginTop,10)+parseInt(k.marginBottom,10)};A.replaceNode=function(k,p){const q=p.parentNode;q&&q.replaceChild(k,p)};A.removeNode=function(k){return k&&k.parentNode?k.parentNode.removeChild(k):null};A.removeChildren=function(k){for(;k.lastChild;)k.removeChild(k.lastChild)};A.replaceChildren=function(k,p){const q=k.childNodes;for(let t=0;;++t){const n=q[t],f=p[t];if(!n&&!f)break;n!==f&&(n?f?k.insertBefore(f,
n):(k.removeChild(n),--t):k.appendChild(f))}};var w=L(80)};
shadow$provide[98]=function(Ka,L,sb,A){function w(m,h){b||(b=(0,t.createCanvasContext2D)(1,1));m!=c&&(b.font=m,c=b.font);return b.measureText(h)}function k(m,h){return w(m,h).width}Object.defineProperty(A,"__esModule",{value:!0});A.measureTextWidth=k;A.measureAndCacheTextWidth=function(m,h,x){if(h in x)return x[h];const O=h.split("\n").reduce((G,I)=>Math.max(G,k(m,I)),0);return x[h]=O};A.getTextDimensions=function(m,h){const x=[],O=[],G=[];let I=0,F=0,C=0,r=0;for(let R=0,S=h.length;R<=S;R+=2){var y=
h[R];if("\n"===y||R===S)I=Math.max(I,F),G.push(F),F=0,C+=r;else{var K=h[R+1]||m.font;y=k(K,y);x.push(y);F+=y;K=g(K);O.push(K);r=Math.max(r,K)}}return{width:I,height:C,widths:x,heights:O,lineWidths:G}};A.rotateAtOffset=function(m,h,x,O){0!==h&&(m.translate(x,O),m.rotate(h),m.translate(-x,-O))};A.drawImageOrLabel=function(m,h,x,O,G,I,F,C,r,y,K){m.save();1!==x&&(m.globalAlpha*=x);h&&m.setTransform.apply(m,h);if(O.contextInstructions){m.translate(r,y);m.scale(K[0],K[1]);h=O.contextInstructions;for(let R=
0,S=h.length;R<S;R+=2)Array.isArray(h[R+1])?m[h[R]].apply(m,h[R+1]):m[h[R]]=h[R+1]}else 0>K[0]||0>K[1]?(m.translate(r,y),m.scale(K[0],K[1]),m.drawImage(O,G,I,F,C,0,0,F,C)):m.drawImage(O,G,I,F,C,r,y,F*K[0],C*K[1]);m.restore()};A.measureTextHeight=A.registerFont=A.textHeights=A.checkedFonts=A.defaultLineWidth=A.defaultPadding=A.defaultTextBaseline=A.defaultTextAlign=A.defaultStrokeStyle=A.defaultMiterLimit=A.defaultLineJoin=A.defaultLineDashOffset=A.defaultLineDash=A.defaultLineCap=A.defaultFillStyle=
A.defaultFont=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(76));var p=L(80),q=L(70),t=L(97),n=L(96);A.defaultFont="10px sans-serif";A.defaultFillStyle="#000";A.defaultLineCap="round";A.defaultLineDash=[];A.defaultLineDashOffset=0;A.defaultLineJoin="round";A.defaultMiterLimit=10;A.defaultStrokeStyle="#000";A.defaultTextAlign="center";A.defaultTextBaseline="middle";A.defaultPadding=[0,0,0,0];A.defaultLineWidth=1;const f=new Ka.default;A.checkedFonts=f;let b=null,c;const e={};A.textHeights=
e;L=function(){function m(F,C,r){let y=!0;for(let R=0;R<O;++R){var K=x[R];I=k(F+" "+C+" 32px "+K,"wmytzilWMYTZIL@#/\x26?$%10");r!=K&&(K=k(F+" "+C+" 32px "+r+","+K,"wmytzilWMYTZIL@#/\x26?$%10"),y=y&&K!=I)}return y?!0:!1}function h(){let F=!0;const C=f.getKeys();for(let r=0,y=C.length;r<y;++r){const K=C[r];100>f.get(K)&&(m.apply(this,K.split("\n"))?((0,q.clear)(e),b=null,c=void 0,f.set(K,100)):(f.set(K,f.get(K)+1,!0),F=!1))}F&&(clearInterval(G),G=void 0)}const x=["monospace","serif"],O=x.length;let G,
I;return function(F){if(F=(0,n.getFontParameters)(F)){var C=F.families;for(let r=0,y=C.length;r<y;++r){const K=C[r],R=F.style+"\n"+F.weight+"\n"+K;void 0===f.get(R)&&(f.set(R,100,!0),m(F.style,F.weight,K)||(f.set(R,0,!0),void 0===G&&(G=setInterval(h,32))))}}}}();A.registerFont=L;const g=function(){let m;return function(h){var x=e[h];if(void 0==x){if(p.WORKER_OFFSCREEN_CANVAS){x=(0,n.getFontParameters)(h);const O=w(h,"Žg");x=(isNaN(Number(x.lineHeight))?1.2:Number(x.lineHeight))*(O.actualBoundingBoxAscent+
O.actualBoundingBoxDescent)}else m||(m=document.createElement("div"),m.innerHTML="M",m.style.minHeight="0",m.style.maxHeight="none",m.style.height="auto",m.style.padding="0",m.style.border="none",m.style.position="absolute",m.style.display="block",m.style.left="-99999px"),m.style.font=h,document.body.appendChild(m),x=m.offsetHeight,document.body.removeChild(m);e[h]=x}return x}}();A.measureTextHeight=g};
shadow$provide[99]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(94));var k=w(L(66)),p=w(L(95)),q=w(L(90)),t=L(96),n=L(98),f=L(91),b=L(73),c=L(97);class e extends Ka.default{constructor(g){super(g);this.fontChangeListenerKey_=(0,b.listen)(n.checkedFonts,k.default.PROPERTYCHANGE,g.redrawText.bind(g));this.element_=document.createElement("div");const m=this.element_.style;m.position="absolute";m.width=
"100%";m.height="100%";m.zIndex="0";this.element_.className=t.CLASS_UNSELECTABLE+" ol-layers";g=g.getViewport();g.insertBefore(this.element_,g.firstChild||null);this.children_=[];this.renderedVisible_=!0}dispatchRenderEvent(g,m){const h=this.getMap();h.hasListener(g)&&(g=new p.default(g,void 0,m),h.dispatchEvent(g))}disposeInternal(){(0,b.unlistenByKey)(this.fontChangeListenerKey_);this.element_.parentNode.removeChild(this.element_);super.disposeInternal()}renderFrame(g){if(g){this.calculateMatrices2D(g);
this.dispatchRenderEvent(q.default.PRECOMPOSE,g);var m=g.layerStatesArray.sort(function(I,F){return I.zIndex-F.zIndex}),h=g.viewState;this.children_.length=0;var x=[],O=null;for(let I=0,F=m.length;I<F;++I){var G=m[I];g.layerIndex=I;const C=G.layer,r=C.getSourceState();if(!(0,f.inView)(G,h)||"ready"!=r&&"undefined"!=r)C.unrender();else if(G=C.render(g,O))G!==O&&(this.children_.push(G),O=G),"getDeclutter"in C&&x.push(C)}for(m=x.length-1;0<=m;--m)x[m].renderDeclutter(g);(0,c.replaceChildren)(this.element_,
this.children_);this.dispatchRenderEvent(q.default.POSTCOMPOSE,g);this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0);this.scheduleExpireIconCache(g)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}}A.default=e};
shadow$provide[100]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.GroupEvent=void 0;Ka=w(L(89));var k=w(L(79)),p=w(L(78));sb=w(L(65));var q=w(L(72)),t=w(L(66)),n=L(81),f=L(70),b=L(84),c=L(75),e=L(73);class g extends sb.default{constructor(h,x){super(h);this.layer=x}}A.GroupEvent=g;class m extends Ka.default{constructor(h){h=h||{};const x=Object.assign({},h);delete x.layers;h=h.layers;super(x);this.layersListenerKeys_=
[];this.listenerKeys_={};this.addChangeListener("layers",this.handleLayersChanged_);h?Array.isArray(h)?h=new k.default(h.slice(),{unique:!0}):(0,n.assert)("function"===typeof h.getArray,43):h=new k.default(void 0,{unique:!0});this.setLayers(h)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(e.unlistenByKey);this.layersListenerKeys_.length=0;var h=this.getLayers();this.layersListenerKeys_.push((0,e.listen)(h,p.default.ADD,this.handleLayersAdd_,this),(0,e.listen)(h,
p.default.REMOVE,this.handleLayersRemove_,this));for(var x in this.listenerKeys_)this.listenerKeys_[x].forEach(e.unlistenByKey);(0,f.clear)(this.listenerKeys_);h=h.getArray();for(let O=0,G=h.length;O<G;O++)x=h[O],this.registerLayerListeners_(x),this.dispatchEvent(new g("addlayer",x));this.changed()}registerLayerListeners_(h){const x=[(0,e.listen)(h,t.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,e.listen)(h,q.default.CHANGE,this.handleLayerChange_,this)];h instanceof m&&x.push((0,e.listen)(h,
"addlayer",this.handleLayerGroupAdd_,this),(0,e.listen)(h,"removelayer",this.handleLayerGroupRemove_,this));this.listenerKeys_[(0,c.getUid)(h)]=x}handleLayerGroupAdd_(h){this.dispatchEvent(new g("addlayer",h.layer))}handleLayerGroupRemove_(h){this.dispatchEvent(new g("removelayer",h.layer))}handleLayersAdd_(h){h=h.element;this.registerLayerListeners_(h);this.dispatchEvent(new g("addlayer",h));this.changed()}handleLayersRemove_(h){h=h.element;const x=(0,c.getUid)(h);this.listenerKeys_[x].forEach(e.unlistenByKey);
delete this.listenerKeys_[x];this.dispatchEvent(new g("removelayer",h));this.changed()}getLayers(){return this.get("layers")}setLayers(h){var x=this.getLayers();if(x){x=x.getArray();for(let O=0,G=x.length;O<G;++O)this.dispatchEvent(new g("removelayer",x[O]))}this.set("layers",h)}getLayersArray(h){h=void 0!==h?h:[];this.getLayers().forEach(function(x){x.getLayersArray(h)});return h}getLayerStatesArray(h){const x=void 0!==h?h:[],O=x.length;this.getLayers().forEach(function(F){F.getLayerStatesArray(x)});
const G=this.getLayerState();let I=G.zIndex;h||void 0!==G.zIndex||(I=0);for(let F=O,C=x.length;F<C;F++)h=x[F],h.opacity*=G.opacity,h.visible=h.visible&&G.visible,h.maxResolution=Math.min(h.maxResolution,G.maxResolution),h.minResolution=Math.max(h.minResolution,G.minResolution),h.minZoom=Math.max(h.minZoom,G.minZoom),h.maxZoom=Math.min(h.maxZoom,G.maxZoom),void 0!==G.extent&&(h.extent=void 0!==h.extent?(0,b.getIntersection)(h.extent,G.extent):G.extent),void 0===h.zIndex&&(h.zIndex=I);return x}getSourceState(){return"ready"}}
A.default=m};
shadow$provide[101]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(65));class w extends Ka.default{constructor(k,p,q){super(k);this.map=p;this.frameState=void 0!==q?q:null}}A.default=w};
shadow$provide[102]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(101));class w extends Ka.default{constructor(k,p,q,t,n,f){super(k,p,n);this.originalEvent=q;this.coordinate_=this.pixel_=null;this.dragging=void 0!==t?t:!1;this.activePointers=f}get pixel(){this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent));return this.pixel_}set pixel(k){this.pixel_=k}get coordinate(){this.coordinate_||
(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel));return this.coordinate_}set coordinate(k){this.coordinate_=k}preventDefault(){super.preventDefault();"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation();"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}A.default=w};
shadow$provide[103]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=(Ka=L(72))&&Ka.__esModule?Ka:{default:Ka};A.default={SINGLECLICK:"singleclick",CLICK:Ka.default.CLICK,DBLCLICK:Ka.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[104]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}};
shadow$provide[105]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(102)),q=w(L(103)),t=w(L(104));Ka=w(L(71));var n=L(80),f=L(69),b=L(73);class c extends Ka.default{constructor(e,g){super(e);this.map_=e;this.dragging_=this.emulateClicks_=!1;this.dragListenerKeys_=[];this.moveTolerance_=void 0===g?1:g;this.down_=null;e=this.map_.getViewport();this.activePointers_=[];this.trackedTouches_={};
this.element_=e;this.pointerdownListenerKey_=(0,b.listen)(e,t.default.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=(0,b.listen)(e,t.default.POINTERMOVE,this.relayMoveEvent_,this);this.boundHandleTouchMove_=this.handleTouchMove_.bind(this);this.element_.addEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_,n.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1)}emulateClick_(e){let g=new p.default(q.default.CLICK,this.map_,e);this.dispatchEvent(g);void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),
this.clickTimeoutId_=void 0,g=new p.default(q.default.DBLCLICK,this.map_,e),this.dispatchEvent(g)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;const m=new p.default(q.default.SINGLECLICK,this.map_,e);this.dispatchEvent(m)}.bind(this),250)}updateActivePointers_(e){const g=e.pointerId;if(e.type==q.default.POINTERUP||e.type==q.default.POINTERCANCEL){delete this.trackedTouches_[g];for(const m in this.trackedTouches_)if(this.trackedTouches_[m].target!==e.target){delete this.trackedTouches_[m];
break}}else if(e.type==q.default.POINTERDOWN||e.type==q.default.POINTERMOVE)this.trackedTouches_[g]=e;this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const g=new p.default(q.default.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.emulateClicks_&&!g.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_);0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(b.unlistenByKey),
this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return 0===e.button}handlePointerDown_(e){this.emulateClicks_=0===this.activePointers_.length;this.updateActivePointers_(e);var g=new p.default(q.default.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(g);this.down_={};for(const m in e)g=e[m],this.down_[m]="function"===typeof g?f.VOID:g;0===this.dragListenerKeys_.length&&(e=this.map_.getOwnerDocument(),this.dragListenerKeys_.push((0,b.listen)(e,
q.default.POINTERMOVE,this.handlePointerMove_,this),(0,b.listen)(e,q.default.POINTERUP,this.handlePointerUp_,this),(0,b.listen)(this.element_,q.default.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==e&&this.dragListenerKeys_.push((0,b.listen)(this.element_.getRootNode(),q.default.POINTERUP,this.handlePointerUp_,this)))}handlePointerMove_(e){this.isMoving_(e)&&(this.updateActivePointers_(e),this.dragging_=!0,e=new p.default(q.default.POINTERDRAG,
this.map_,e,this.dragging_,void 0,this.activePointers_),this.dispatchEvent(e))}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const g=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new p.default(q.default.POINTERMOVE,this.map_,e,g))}handleTouchMove_(e){const g=this.originalPointerMoveEvent_;g&&!g.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-
this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&((0,b.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null);this.element_.removeEventListener(k.default.TOUCHMOVE,this.boundHandleTouchMove_);this.pointerdownListenerKey_&&((0,b.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null);this.dragListenerKeys_.forEach(b.unlistenByKey);this.dragListenerKeys_.length=0;this.element_=null;super.disposeInternal()}}A.default=c};
shadow$provide[106]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"}};
shadow$provide[107]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"}};
shadow$provide[108]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.DROP=void 0;var w=L(81),k=L(70);A.DROP=Infinity;class p{constructor(q,t){this.priorityFunction_=q;this.keyFunction_=t;this.elements_=[];this.priorities_=[];this.queuedElements_={}}clear(){this.elements_.length=0;this.priorities_.length=0;(0,k.clear)(this.queuedElements_)}dequeue(){var q=this.elements_;const t=this.priorities_,n=q[0];1==q.length?(q.length=0,t.length=0):(q[0]=q.pop(),t[0]=t.pop(),this.siftUp_(0));
q=this.keyFunction_(n);delete this.queuedElements_[q];return n}enqueue(q){(0,w.assert)(!(this.keyFunction_(q)in this.queuedElements_),31);const t=this.priorityFunction_(q);return Infinity!=t?(this.elements_.push(q),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(q)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(q){return 2*q+1}getRightChildIndex_(q){return 2*q+2}getParentIndex_(q){return q-1>>1}heapify_(){let q;for(q=
(this.elements_.length>>1)-1;0<=q;q--)this.siftUp_(q)}isEmpty(){return 0===this.elements_.length}isKeyQueued(q){return q in this.queuedElements_}isQueued(q){return this.isKeyQueued(this.keyFunction_(q))}siftUp_(q){const t=this.elements_,n=this.priorities_,f=t.length,b=t[q],c=n[q],e=q;for(;q<f>>1;){var g=this.getLeftChildIndex_(q);const m=this.getRightChildIndex_(q);g=m<f&&n[m]<n[g]?m:g;t[q]=t[g];n[q]=n[g];q=g}t[q]=b;n[q]=c;this.siftDown_(e,q)}siftDown_(q,t){const n=this.elements_,f=this.priorities_,
b=n[t],c=f[t];for(;t>q;){const e=this.getParentIndex_(t);if(f[e]>c)n[t]=n[e],f[t]=f[e],t=e;else break}n[t]=b;f[t]=c}reprioritize(){const q=this.priorityFunction_,t=this.elements_,n=this.priorities_;let f=0;const b=t.length;let c,e,g;for(e=0;e<b;++e)c=t[e],g=q(c),Infinity==g?delete this.queuedElements_[this.keyFunction_(c)]:(n[f]=g,t[f++]=c);t.length=f;n.length=f;this.heapify_()}}A.default=p};
shadow$provide[109]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[110]=function(Ka,L,sb,A){function w(f){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(w=function(e){return e?c:b})(f)}function k(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.getTilePriority=function(f,b,c,e,g){if(!(f&&c in f.wantedTiles&&f.wantedTiles[c][b.getKey()]))return q.DROP;b=f.viewState.center;f=e[0]-b[0];e=e[1]-b[1];return 65536*Math.log(g)+Math.sqrt(f*f+e*e)/g};A.default=void 0;var p=k(L(72)),
q=function(f,b){if(!b&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((b=w(b))&&b.has(f))return b.get(f);var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor,g;for(g in f)if("default"!==g&&Object.prototype.hasOwnProperty.call(f,g)){var m=e?Object.getOwnPropertyDescriptor(f,g):null;m&&(m.get||m.set)?Object.defineProperty(c,g,m):c[g]=f[g]}c.default=f;b&&b.set(f,c);return c}(L(108)),t=k(L(109));class n extends q.default{constructor(f,
b){super(function(c){return f.apply(null,c)},function(c){return c[0].getKey()});this.boundHandleTileChange_=this.handleTileChange.bind(this);this.tileChangeCallback_=b;this.tilesLoading_=0;this.tilesLoadingKeys_={}}enqueue(f){const b=super.enqueue(f);b&&f[0].addEventListener(p.default.CHANGE,this.boundHandleTileChange_);return b}getTilesLoading(){return this.tilesLoading_}handleTileChange(f){f=f.target;const b=f.getState();if(b===t.default.LOADED||b===t.default.ERROR||b===t.default.EMPTY)b!==t.default.ERROR&&
f.removeEventListener(p.default.CHANGE,this.boundHandleTileChange_),f=f.getKey(),f in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[f],--this.tilesLoading_),this.tileChangeCallback_()}loadMoreTiles(f,b){let c=0,e,g,m;for(;this.tilesLoading_<f&&c<b&&0<this.getCount();)g=this.dequeue()[0],m=g.getKey(),e=g.getState(),e!==t.default.IDLE||m in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[m]=!0,++this.tilesLoading_,++c,g.load())}}A.default=n};
shadow$provide[111]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ANIMATING:0,INTERACTING:1}};
shadow$provide[112]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"}};
shadow$provide[113]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.DEFAULT_MAX_ZOOM=42;A.DEFAULT_TILE_SIZE=256};
shadow$provide[114]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromCode=function(k){return w[k]};A.METERS_PER_UNIT=void 0;const w={9001:"m",9002:"ft",9003:"us-ft",9101:"radians",9102:"degrees"};A.METERS_PER_UNIT={radians:6370997/(2*Math.PI),degrees:12741994*Math.PI/360,ft:.3048,m:1,"us-ft":1200/3937}};
shadow$provide[115]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(114);class k{constructor(p){this.code_=p.code;this.units_=p.units;this.extent_=void 0!==p.extent?p.extent:null;this.worldExtent_=void 0!==p.worldExtent?p.worldExtent:null;this.axisOrientation_=void 0!==p.axisOrientation?p.axisOrientation:"enu";this.global_=void 0!==p.global?p.global:!1;this.canWrapX_=!(!this.global_||!this.extent_);this.getPointResolutionFunc_=p.getPointResolution;this.defaultTileGrid_=
null;this.metersPerUnit_=p.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||w.METERS_PER_UNIT[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(p){this.global_=p;this.canWrapX_=!(!p||!this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(p){this.defaultTileGrid_=
p}setExtent(p){this.extent_=p;this.canWrapX_=!(!this.global_||!p)}setWorldExtent(p){this.worldExtent_=p}setGetPointResolution(p){this.getPointResolutionFunc_=p}getPointResolutionFunc(){return this.getPointResolutionFunc_}}A.default=k};
shadow$provide[116]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromEPSG4326=function(n,f,b){const c=n.length;b=1<b?b:2;void 0===f&&(f=2<b?n.slice():Array(c));for(let e=0;e<c;e+=b){f[e]=w*n[e]/180;let g=6378137*Math.log(Math.tan(Math.PI*(+n[e+1]+90)/360));g>q?g=q:g<-q&&(g=-q);f[e+1]=g}return f};A.toEPSG4326=function(n,f,b){const c=n.length;b=1<b?b:2;void 0===f&&(f=2<b?n.slice():Array(c));for(let e=0;e<c;e+=b)f[e]=180*n[e]/w,f[e+1]=360*Math.atan(Math.exp(n[e+1]/6378137))/
Math.PI-90;return f};A.PROJECTIONS=A.MAX_SAFE_Y=A.WORLD_EXTENT=A.EXTENT=A.HALF_SIZE=A.RADIUS=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(115));A.RADIUS=6378137;const w=6378137*Math.PI;A.HALF_SIZE=w;const k=[-w,-w,w,w];A.EXTENT=k;const p=[-180,-85,180,85];A.WORLD_EXTENT=p;const q=6378137*Math.log(Math.tan(Math.PI/2));A.MAX_SAFE_Y=q;class t extends Ka.default{constructor(n){super({code:n,units:"m",extent:k,global:!0,worldExtent:p,getPointResolution:function(f,b){return f/Math.cosh(b[1]/
6378137)}})}}Ka=[new t("EPSG:3857"),new t("EPSG:102100"),new t("EPSG:102113"),new t("EPSG:900913"),new t("http://www.opengis.net/def/crs/EPSG/0/3857"),new t("http://www.opengis.net/gml/srs/epsg.xml#3857")];A.PROJECTIONS=Ka};
shadow$provide[117]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.PROJECTIONS=A.METERS_PER_UNIT=A.EXTENT=A.RADIUS=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(115));A.RADIUS=6378137;const w=[-180,-90,180,90];A.EXTENT=w;const k=6378137*Math.PI/180;A.METERS_PER_UNIT=k;class p extends Ka.default{constructor(q,t){super({code:q,units:"degrees",extent:w,axisOrientation:t,global:!0,metersPerUnit:k,worldExtent:w})}}Ka=[new p("CRS:84"),new p("EPSG:4326","neu"),new p("urn:ogc:def:crs:OGC:1.3:CRS84"),
new p("urn:ogc:def:crs:OGC:2:84"),new p("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new p("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new p("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];A.PROJECTIONS=Ka};
shadow$provide[118]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(){w={}};A.get=function(k){return w[k]||w[k.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null};A.add=function(k,p){w[k]=p};let w={}};
shadow$provide[119]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.clear=function(){k={}};A.add=function(p,q,t){p=p.getCode();q=q.getCode();p in k||(k[p]={});k[p][q]=t};A.remove=function(p,q){p=p.getCode();q=q.getCode();const t=k[p][q];delete k[p][q];(0,w.isEmpty)(k[p])&&delete k[p];return t};A.get=function(p,q){let t;p in k&&q in k[p]&&(t=k[p][q]);return t};var w=L(70);let k={}};
shadow$provide[120]=function(Ka,L,sb,A){function w(f,b,c){c=c||6371008.8;var e=(0,n.toRadians)(f[1]);const g=(0,n.toRadians)(b[1]),m=(g-e)/2;f=(0,n.toRadians)(b[0]-f[0])/2;e=Math.sin(m)*Math.sin(m)+Math.sin(f)*Math.sin(f)*Math.cos(e)*Math.cos(g);return 2*c*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))}function k(f,b){let c=0;for(let e=0,g=f.length;e<g-1;++e)c+=w(f[e],f[e+1],b);return c}function p(f,b){b=b||{};var c=b.radius||6371008.8,e=b.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&
(f=f.clone().transform(e,"EPSG:4326"));e=0;let m,h,x;switch(g){case "Point":case "MultiPoint":break;case "LineString":case "LinearRing":b=f.getCoordinates();e=k(b,c);break;case "MultiLineString":case "Polygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)e+=k(b[f],c);break;case "MultiPolygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)for(m=b[f],h=0,x=m.length;h<x;++h)e+=k(m[h],c);break;case "GeometryCollection":c=f.getGeometries();f=0;for(g=c.length;f<g;++f)e+=p(c[f],b);break;default:throw Error("Unsupported geometry type: "+
g);}return e}function q(f,b){let c=0;const e=f.length;let g=f[e-1][0],m=f[e-1][1];for(let h=0;h<e;h++){const x=f[h][0],O=f[h][1];c+=(0,n.toRadians)(x-g)*(2+Math.sin((0,n.toRadians)(m))+Math.sin((0,n.toRadians)(O)));g=x;m=O}return c*b*b/2}function t(f,b){b=b||{};var c=b.radius||6371008.8,e=b.projection||"EPSG:3857",g=f.getType();"GeometryCollection"!==g&&(f=f.clone().transform(e,"EPSG:4326"));e=0;let m,h,x;switch(g){case "Point":case "MultiPoint":case "LineString":case "MultiLineString":case "LinearRing":break;
case "Polygon":b=f.getCoordinates();e=Math.abs(q(b[0],c));f=1;for(g=b.length;f<g;++f)e-=Math.abs(q(b[f],c));break;case "MultiPolygon":b=f.getCoordinates();f=0;for(g=b.length;f<g;++f)for(m=b[f],e+=Math.abs(q(m[0],c)),h=1,x=m.length;h<x;++h)e-=Math.abs(q(m[h],c));break;case "GeometryCollection":c=f.getGeometries();f=0;for(g=c.length;f<g;++f)e+=t(c[f],b);break;default:throw Error("Unsupported geometry type: "+g);}return e}Object.defineProperty(A,"__esModule",{value:!0});A.getDistance=w;A.getLength=p;
A.getArea=t;A.offset=function(f,b,c,e){e=e||6371008.8;const g=(0,n.toRadians)(f[1]);f=(0,n.toRadians)(f[0]);b/=e;e=Math.asin(Math.sin(g)*Math.cos(b)+Math.cos(g)*Math.sin(b)*Math.cos(c));return[(0,n.toDegrees)(f+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(g),Math.cos(b)-Math.sin(g)*Math.sin(e))),(0,n.toDegrees)(e)]};A.DEFAULT_RADIUS=void 0;var n=L(85);A.DEFAULT_RADIUS=6371008.8};
shadow$provide[121]=function(Ka,L,sb,A){function w(Y){M=!(void 0===Y||Y)}function k(Y,ea,Ga){if(void 0!==ea)for(let X=0,D=Y.length;X<D;++X)ea[X]=Y[X];else ea=Y.slice();return ea}function p(Y,ea,Ga){if(void 0!==ea&&Y!==ea){for(let X=0,D=Y.length;X<D;++X)ea[X]=Y[X];Y=ea}return Y}function q(Y){(0,r.add)(Y.getCode(),Y);(0,y.add)(Y,Y,k)}function t(Y){Y.forEach(q)}function n(Y){return"string"===typeof Y?(0,r.get)(Y):Y||null}function f(Y){t(Y);Y.forEach(function(ea){Y.forEach(function(Ga){ea!==Ga&&(0,y.add)(ea,
Ga,k)})})}function b(Y,ea,Ga,X){Y.forEach(function(D){ea.forEach(function(B){(0,y.add)(D,B,Ga);(0,y.add)(B,D,X)})})}function c(Y){return function(ea,Ga,X){const D=ea.length;X=void 0!==X?X:2;Ga=void 0!==Ga?Ga:Array(D);for(let B=0;B<D;B+=X){const N=Y(ea.slice(B,B+X)),Z=N.length;for(let Aa=0,qa=X;Aa<qa;++Aa)Ga[B+Aa]=Aa>=Z?ea[B+Aa]:N[Aa]}return Ga}}function e(Y,ea){Y=Y.getCode();ea=ea.getCode();(ea=(0,y.get)(Y,ea))||(ea=p);return ea}function g(Y,ea){Y=n(Y);ea=n(ea);return e(Y,ea)}function m(Y,ea,Ga){return g(ea,
Ga)(Y,void 0,Y.length)}function h(Y,ea,Ga,X){ea=g(ea,Ga);return(0,K.applyTransform)(Y,ea,void 0,X)}function x(Y){aa=n(Y)}function O(){f(I.PROJECTIONS);f(F.PROJECTIONS);b(F.PROJECTIONS,I.PROJECTIONS,I.fromEPSG4326,I.toEPSG4326)}Object.defineProperty(A,"__esModule",{value:!0});A.disableCoordinateWarning=w;A.cloneTransform=k;A.identityTransform=p;A.addProjection=q;A.addProjections=t;A.get=n;A.getPointResolution=function(Y,ea,Ga,X){Y=n(Y);var D=Y.getPointResolutionFunc();if(D)ea=D(ea,Ga),X&&X!==Y.getUnits()&&
(Y=Y.getMetersPerUnit())&&(ea=ea*Y/C.METERS_PER_UNIT[X]);else{const B=Y.getUnits();"degrees"==B&&!X||"degrees"==X||(D=e(Y,n("EPSG:4326")),D===p&&"degrees"!==B?ea*=Y.getMetersPerUnit():(ea=[Ga[0]-ea/2,Ga[1],Ga[0]+ea/2,Ga[1],Ga[0],Ga[1]-ea/2,Ga[0],Ga[1]+ea/2],ea=D(ea,ea,2),Ga=(0,ca.getDistance)(ea.slice(0,2),ea.slice(2,4)),ea=(0,ca.getDistance)(ea.slice(4,6),ea.slice(6,8)),ea=(Ga+ea)/2),X=X?C.METERS_PER_UNIT[X]:Y.getMetersPerUnit(),void 0!==X&&(ea/=X))}return ea};A.addEquivalentProjections=f;A.addEquivalentTransforms=
b;A.clearAllProjections=function(){(0,r.clear)();(0,y.clear)()};A.createProjection=function(Y,ea){return Y?"string"===typeof Y?n(Y):Y:n(ea)};A.createTransformFromCoordinateTransform=c;A.addCoordinateTransforms=function(Y,ea,Ga,X){Y=n(Y);ea=n(ea);(0,y.add)(Y,ea,c(Ga));(0,y.add)(ea,Y,c(X))};A.fromLonLat=function(Y,ea){w();return m(Y,"EPSG:4326",void 0!==ea?ea:"EPSG:3857")};A.toLonLat=function(Y,ea){Y=m(Y,void 0!==ea?ea:"EPSG:3857","EPSG:4326");ea=Y[0];if(-180>ea||180<ea)Y[0]=(0,R.modulo)(ea+180,360)-
180;return Y};A.equivalent=function(Y,ea){if(Y===ea)return!0;const Ga=Y.getUnits()===ea.getUnits();return Y.getCode()===ea.getCode()?Ga:e(Y,ea)===k&&Ga};A.getTransformFromProjections=e;A.getTransform=g;A.transform=m;A.transformExtent=h;A.transformWithProjections=function(Y,ea,Ga){return e(ea,Ga)(Y)};A.setUserProjection=x;A.clearUserProjection=function(){aa=null};A.getUserProjection=function(){return aa};A.useGeographic=function(){x("EPSG:4326")};A.toUserCoordinate=function(Y,ea){return aa?m(Y,ea,
aa):Y};A.fromUserCoordinate=function(Y,ea){return aa?m(Y,aa,ea):(M&&!(0,S.equals)(Y,[0,0])&&-180<=Y[0]&&180>=Y[0]&&-90<=Y[1]&&90>=Y[1]&&(M=!1,console.warn("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),Y)};A.toUserExtent=function(Y,ea){return aa?h(Y,ea,aa):Y};A.fromUserExtent=function(Y,ea){return aa?h(Y,aa,ea):Y};A.toUserResolution=function(Y,ea){if(!aa)return Y;ea=n(ea).getUnits();const Ga=aa.getUnits();return ea&&Ga?Y*C.METERS_PER_UNIT[ea]/C.METERS_PER_UNIT[Ga]:
Y};A.fromUserResolution=function(Y,ea){if(!aa)return Y;ea=n(ea).getUnits();const Ga=aa.getUnits();return ea&&Ga?Y*C.METERS_PER_UNIT[Ga]/C.METERS_PER_UNIT[ea]:Y};A.createSafeCoordinateTransform=function(Y,ea,Ga){return function(X){let D;if(Y.canWrapX()){const B=Y.getExtent(),N=(0,K.getWidth)(B);X=X.slice(0);(D=(0,S.getWorldsAway)(X,Y,N))&&(X[0]-=D*N);X[0]=(0,R.clamp)(X[0],B[0],B[2]);X[1]=(0,R.clamp)(X[1],B[1],B[3])}X=Ga(X);D&&ea.canWrapX()&&(X[0]+=D*(0,K.getWidth)(ea.getExtent()));return X}};A.addCommon=
O;Object.defineProperty(A,"Projection",{enumerable:!0,get:function(){return G.default}});Object.defineProperty(A,"METERS_PER_UNIT",{enumerable:!0,get:function(){return C.METERS_PER_UNIT}});var G=function(Y){return Y&&Y.__esModule?Y:{default:Y}}(L(115)),I=L(116),F=L(117),C=L(114),r=L(118),y=L(119),K=L(84),R=L(85),S=L(93),ca=L(120);let M=!0,aa=null;O()};
shadow$provide[122]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createExtent=function(k,p,q){return function(t,n,f,b,c){if(t){if(!n&&!p)return t;var e=p?0:f[0]*n,g=p?0:f[1]*n;f=c?c[0]:0;var m=c?c[1]:0;c=k[0]+e/2+f;e=k[2]-e/2+f;f=k[1]+g/2+m;g=k[3]-g/2+m;c>e&&(e=c=(e+c)/2);f>g&&(g=f=(g+f)/2);m=(0,w.clamp)(t[0],c,e);var h=(0,w.clamp)(t[1],f,g);b&&q&&n&&(n*=30,m+=-n*Math.log(1+Math.max(0,c-t[0])/n)+n*Math.log(1+Math.max(0,t[0]-e)/n),h+=-n*Math.log(1+Math.max(0,f-t[1])/n)+n*
Math.log(1+Math.max(0,t[1]-g)/n));return[m,h]}}};A.none=function(k){return k};var w=L(85)};
shadow$provide[123]=function(Ka,L,sb,A){function w(n,f,b,c){const e=(0,q.getWidth)(f)/b[0];f=(0,q.getHeight)(f)/b[1];return c?Math.min(n,Math.max(e,f)):Math.min(n,Math.min(e,f))}function k(n,f,b){let c=Math.min(n,f);c*=Math.log(1+50*Math.max(0,n/f-1))/50+1;b&&(c=Math.max(c,b),c/=Math.log(1+50*Math.max(0,b/n-1))/50+1);return(0,p.clamp)(c,b/2,2*f)}Object.defineProperty(A,"__esModule",{value:!0});A.createSnapToResolutions=function(n,f,b,c){f=void 0!==f?f:!0;return function(e,g,m,h){if(void 0!==e){const x=
n[0],O=n[n.length-1];m=b?w(x,b,m,c):x;if(h)return f?k(e,m,O):(0,p.clamp)(e,O,m);e=Math.floor((0,t.linearFindNearest)(n,Math.min(m,e),g));return n[e]>m&&e<n.length-1?n[e+1]:n[e]}}};A.createSnapToPower=function(n,f,b,c,e,g){c=void 0!==c?c:!0;b=void 0!==b?b:0;return function(m,h,x,O){if(void 0!==m)return x=e?w(f,e,x,g):f,O?c?k(m,x,b):(0,p.clamp)(m,b,x):(0,p.clamp)(f/Math.pow(n,Math.max(Math.ceil(Math.log(f/x)/Math.log(n)-1E-9),Math.floor(Math.log(f/Math.min(x,m))/Math.log(n)+(-h*(.5-1E-9)+.5)))),b,x)}};
A.createMinMaxResolution=function(n,f,b,c,e){b=void 0!==b?b:!0;return function(g,m,h,x){if(void 0!==g)return m=c?w(n,c,h,e):n,b&&x?k(g,m,f):(0,p.clamp)(g,f,m)}};var p=L(85),q=L(84),t=L(68)};
shadow$provide[124]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.disable=function(k){if(void 0!==k)return 0};A.none=function(k){if(void 0!==k)return k};A.createSnapToN=function(k){const p=2*Math.PI/k;return function(q,t){if(t)return q;if(void 0!==q)return q=Math.floor(q/p+.5)*p}};A.createSnapToZero=function(k){k=k||(0,w.toRadians)(5);return function(p,q){if(q)return p;if(void 0!==p)return Math.abs(p)<=k?0:p}};var w=L(85)};
shadow$provide[125]=function(Ka,L,sb,A){function w(p){return Math.pow(p,3)}function k(p){return 3*p*p-2*p*p*p}Object.defineProperty(A,"__esModule",{value:!0});A.easeIn=w;A.easeOut=function(p){return 1-w(1-p)};A.inAndOut=k;A.linear=function(p){return p};A.upAndDown=function(p){return.5>p?k(2*p):1-k(2*(p-.5))}};
shadow$provide[126]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.transform2D=function(w,k,p,q,t,n){n=n?n:[];let f=0;for(;k<p;k+=q){const b=w[k],c=w[k+1];n[f++]=t[0]*b+t[2]*c+t[4];n[f++]=t[1]*b+t[3]*c+t[5]}n&&n.length!=f&&(n.length=f);return n};A.rotate=function(w,k,p,q,t,n,f){f=f?f:[];const b=Math.cos(t);t=Math.sin(t);const c=n[0];n=n[1];let e=0;for(;k<p;k+=q){var g=w[k]-c;const m=w[k+1]-n;f[e++]=c+g*b-m*t;f[e++]=n+g*t+m*b;for(g=k+2;g<k+q;++g)f[e++]=w[g]}f&&f.length!=e&&
(f.length=e);return f};A.scale=function(w,k,p,q,t,n,f,b){b=b?b:[];const c=f[0];f=f[1];let e=0;for(;k<p;k+=q){var g=w[k]-c;const m=w[k+1]-f;b[e++]=c+t*g;b[e++]=f+n*m;for(g=k+2;g<k+q;++g)b[e++]=w[g]}b&&b.length!=e&&(b.length=e);return b};A.translate=function(w,k,p,q,t,n,f){f=f?f:[];let b=0;for(;k<p;k+=q){f[b++]=w[k]+t;f[b++]=w[k+1]+n;for(let c=k+2;c<k+q;++c)f[b++]=w[c]}f&&f.length!=b&&(f.length=b);return f}};
shadow$provide[127]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(76));var w=L(75),k=L(82),p=L(84),q=L(121),t=L(69),n=L(126);const f=(0,k.create)();class b extends Ka.default{constructor(){super();this.extent_=(0,p.createEmpty)();this.extentRevision_=-1;this.simplifiedGeometryRevision=this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifyTransformedInternal=(0,t.memoizeOne)(function(c,e,g){if(!g)return this.getSimplifiedGeometry(e);
c=this.clone();c.applyTransform(g);return c.getSimplifiedGeometry(e)})}simplifyTransformed(c,e){return this.simplifyTransformedInternal(this.getRevision(),c,e)}clone(){return(0,w.abstract)()}closestPointXY(c,e,g,m){return(0,w.abstract)()}containsXY(c,e){const g=this.getClosestPoint([c,e]);return g[0]===c&&g[1]===e}getClosestPoint(c,e){e=e?e:[NaN,NaN];this.closestPointXY(c[0],c[1],e,Infinity);return e}intersectsCoordinate(c){return this.containsXY(c[0],c[1])}computeExtent(c){return(0,w.abstract)()}getExtent(c){if(this.extentRevision_!=
this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&(0,p.createOrUpdateEmpty)(e);this.extentRevision_=this.getRevision()}return(0,p.returnOrUpdate)(this.extent_,c)}rotate(c,e){(0,w.abstract)()}scale(c,e,g){(0,w.abstract)()}simplify(c){return this.getSimplifiedGeometry(c*c)}getSimplifiedGeometry(c){return(0,w.abstract)()}getType(){return(0,w.abstract)()}applyTransform(c){(0,w.abstract)()}intersectsExtent(c){return(0,w.abstract)()}translate(c,e){(0,w.abstract)()}transform(c,
e){const g=(0,q.get)(c);c="tile-pixels"==g.getUnits()?function(m,h,x){var O=g.getExtent();const G=g.getWorldExtent();O=(0,p.getHeight)(G)/(0,p.getHeight)(O);(0,k.compose)(f,G[0],G[3],O,-O,0,0,0);(0,n.transform2D)(m,0,m.length,x,f,h);return(0,q.getTransform)(g,e)(m,h,x)}:(0,q.getTransform)(g,e);this.applyTransform(c);return this}}A.default=b};
shadow$provide[128]=function(Ka,L,sb,A){function w(n){let f;"XY"==n?f=2:"XYZ"==n||"XYM"==n?f=3:"XYZM"==n&&(f=4);return f}Object.defineProperty(A,"__esModule",{value:!0});A.getStrideForLayout=w;A.transformGeom2D=function(n,f,b){const c=n.getFlatCoordinates();return c?(n=n.getStride(),(0,q.transform2D)(c,0,c.length,n,f,b)):null};A.default=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(127));var k=L(75),p=L(84),q=L(126);class t extends Ka.default{constructor(){super();this.layout="XY";
this.stride=2;this.flatCoordinates=null}computeExtent(n){return(0,p.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,n)}getCoordinates(){return(0,k.abstract)()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(n){this.simplifiedGeometryRevision!==
this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>n||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&n<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const f=this.getSimplifiedGeometryInternal(n);if(f.getFlatCoordinates().length<this.flatCoordinates.length)return f;this.simplifiedGeometryMaxMinSquaredTolerance=n;return this}getSimplifiedGeometryInternal(n){return this}getStride(){return this.stride}setFlatCoordinates(n,
f){this.stride=w(n);this.layout=n;this.flatCoordinates=f}setCoordinates(n,f){(0,k.abstract)()}setLayout(n,f,b){if(n)f=w(n);else{for(n=0;n<b;++n){if(0===f.length){this.layout="XY";this.stride=2;return}f=f[0]}f=f.length;let c;2==f?c="XY":3==f?c="XYZ":4==f&&(c="XYZM");n=c}this.layout=n;this.stride=f}applyTransform(n){this.flatCoordinates&&(n(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())}rotate(n,f){const b=this.getFlatCoordinates();if(b){const c=this.getStride();(0,q.rotate)(b,
0,b.length,c,n,f,b);this.changed()}}scale(n,f,b){void 0===f&&(f=n);b||(b=(0,p.getCenter)(this.getExtent()));const c=this.getFlatCoordinates();if(c){const e=this.getStride();(0,q.scale)(c,0,c.length,e,n,f,b,c);this.changed()}}translate(n,f){const b=this.getFlatCoordinates();if(b){const c=this.getStride();(0,q.translate)(b,0,b.length,c,n,f,b);this.changed()}}}A.default=t};
shadow$provide[129]=function(Ka,L,sb,A){function w(f,b,c,e,g,m,h){const x=f[b],O=f[b+1],G=f[c]-x,I=f[c+1]-O;if(0!==G||0!==I)if(g=((g-x)*G+(m-O)*I)/(G*G+I*I),1<g)b=c;else if(0<g){for(m=0;m<e;++m)h[m]=(0,n.lerp)(f[b+m],f[c+m],g);h.length=e;return}for(c=0;c<e;++c)h[c]=f[b+c];h.length=e}function k(f,b,c,e,g){var m=f[b];let h=f[b+1];for(b+=e;b<c;b+=e){const x=f[b],O=f[b+1];m=(0,n.squaredDistance)(m,h,x,O);m>g&&(g=m);m=x;h=O}return g}function p(f,b,c,e,g){for(let m=0,h=c.length;m<h;++m){const x=c[m];g=
k(f,b,x,e,g);b=x}return g}function q(f,b,c,e,g,m,h,x,O,G,I){if(b==c)return G;let F,C;if(0===g){C=(0,n.squaredDistance)(h,x,f[b],f[b+1]);if(C<G){for(F=0;F<e;++F)O[F]=f[b+F];O.length=e;return C}return G}I=I?I:[NaN,NaN];let r=b+e;for(;r<c;)if(w(f,r-e,r,e,h,x,I),C=(0,n.squaredDistance)(h,x,I[0],I[1]),C<G){G=C;for(F=0;F<e;++F)O[F]=I[F];O.length=e;r+=e}else r+=e*Math.max((Math.sqrt(C)-Math.sqrt(G))/g|0,1);if(m&&(w(f,c-e,b,e,h,x,I),C=(0,n.squaredDistance)(h,x,I[0],I[1]),C<G)){G=C;for(F=0;F<e;++F)O[F]=I[F];
O.length=e}return G}function t(f,b,c,e,g,m,h,x,O,G,I){I=I?I:[NaN,NaN];for(let F=0,C=c.length;F<C;++F){const r=c[F];G=q(f,b,r,e,g,m,h,x,O,G,I);b=r}return G}Object.defineProperty(A,"__esModule",{value:!0});A.maxSquaredDelta=k;A.arrayMaxSquaredDelta=p;A.multiArrayMaxSquaredDelta=function(f,b,c,e,g){for(let m=0,h=c.length;m<h;++m){const x=c[m];g=p(f,b,x,e,g);b=x[x.length-1]}return g};A.assignClosestPoint=q;A.assignClosestArrayPoint=t;A.assignClosestMultiArrayPoint=function(f,b,c,e,g,m,h,x,O,G,I){I=I?
I:[NaN,NaN];for(let F=0,C=c.length;F<C;++F){const r=c[F];G=t(f,b,r,e,g,m,h,x,O,G,I);b=r[r.length-1]}return G};var n=L(85)};
shadow$provide[130]=function(Ka,L,sb,A){function w(p,q,t,n){for(let f=0,b=t.length;f<b;++f){const c=t[f];for(let e=0;e<n;++e)p[q++]=c[e]}return q}function k(p,q,t,n,f){f=f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c)q=w(p,q,t[c],n),f[b++]=q;f.length=b;return f}Object.defineProperty(A,"__esModule",{value:!0});A.deflateCoordinate=function(p,q,t,n){for(let f=0,b=t.length;f<b;++f)p[q++]=t[f];return q};A.deflateCoordinates=w;A.deflateCoordinatesArray=k;A.deflateMultiCoordinatesArray=function(p,q,t,n,f){f=
f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=k(p,q,t[c],n,f[b]);0===g.length&&(g[0]=q);f[b++]=g;q=g[g.length-1]}f.length=b;return f}};
shadow$provide[131]=function(Ka,L,sb,A){function w(b,c,e,g,m,h,x){const O=(e-c)/g;if(3>O){for(;c<e;c+=g)h[x++]=b[c],h[x++]=b[c+1];return x}const G=Array(O);G[0]=1;G[O-1]=1;e=[c,e-g];let I=0;for(;0<e.length;){const F=e.pop(),C=e.pop();let r=0;const y=b[C],K=b[C+1],R=b[F],S=b[F+1];for(let ca=C+g;ca<F;ca+=g){const M=(0,f.squaredSegmentDistance)(b[ca],b[ca+1],y,K,R,S);M>r&&(I=ca,r=M)}r>m&&(G[(I-c)/g]=1,C+g<I&&e.push(C,I),I+g<F&&e.push(I,F))}for(m=0;m<O;++m)G[m]&&(h[x++]=b[c+m*g],h[x++]=b[c+m*g+1]);return x}
function k(b,c,e,g,m,h,x,O){for(let G=0,I=e.length;G<I;++G){const F=e[G];x=w(b,c,F,g,m,h,x);O.push(x);c=F}return x}function p(b,c,e,g,m,h,x){if(e<=c+g){for(;c<e;c+=g)h[x++]=b[c],h[x++]=b[c+1];return x}let O=b[c],G=b[c+1];h[x++]=O;h[x++]=G;let I=O,F=G;for(c+=g;c<e;c+=g)I=b[c],F=b[c+1],(0,f.squaredDistance)(O,G,I,F)>m&&(h[x++]=I,h[x++]=F,O=I,G=F);if(I!=O||F!=G)h[x++]=I,h[x++]=F;return x}function q(b,c){return c*Math.round(b/c)}function t(b,c,e,g,m,h,x){if(c==e)return x;let O=q(b[c],m),G=q(b[c+1],m);
c+=g;h[x++]=O;h[x++]=G;let I,F;do if(I=q(b[c],m),F=q(b[c+1],m),c+=g,c==e)return h[x++]=I,h[x++]=F,x;while(I==O&&F==G);for(;c<e;){const C=q(b[c],m),r=q(b[c+1],m);c+=g;if(C==I&&r==F)continue;const y=I-O,K=F-G,R=C-O,S=r-G;y*S==K*R&&(0>y&&R<y||y==R||0<y&&R>y)&&(0>K&&S<K||K==S||0<K&&S>K)||(h[x++]=I,h[x++]=F,O=I,G=F);I=C;F=r}h[x++]=I;h[x++]=F;return x}function n(b,c,e,g,m,h,x,O){for(let G=0,I=e.length;G<I;++G){const F=e[G];x=t(b,c,F,g,m,h,x);O.push(x);c=F}return x}Object.defineProperty(A,"__esModule",{value:!0});
A.simplifyLineString=function(b,c,e,g,m,h,x){x=void 0!==x?x:[];h||(e=p(b,c,e,g,m,x,0),b=x,c=0,g=2);x.length=w(b,c,e,g,m,x,0);return x};A.douglasPeucker=w;A.douglasPeuckerArray=k;A.douglasPeuckerMultiArray=function(b,c,e,g,m,h,x,O){for(let G=0,I=e.length;G<I;++G){const F=e[G],C=[];x=k(b,c,F,g,m,h,x,C);O.push(C);c=F[F.length-1]}return x};A.radialDistance=p;A.snap=q;A.quantize=t;A.quantizeArray=n;A.quantizeMultiArray=function(b,c,e,g,m,h,x,O){for(let G=0,I=e.length;G<I;++G){const F=e[G],C=[];x=n(b,c,
F,g,m,h,x,C);O.push(C);c=F[F.length-1]}return x};var f=L(85)};
shadow$provide[132]=function(Ka,L,sb,A){function w(p,q,t,n,f){f=void 0!==f?f:[];let b=0;for(;q<t;q+=n)f[b++]=p.slice(q,q+n);f.length=b;return f}function k(p,q,t,n,f){f=void 0!==f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=t[c];f[b++]=w(p,q,g,n,f[b]);q=g}f.length=b;return f}Object.defineProperty(A,"__esModule",{value:!0});A.inflateCoordinates=w;A.inflateCoordinatesArray=k;A.inflateMultiCoordinatesArray=function(p,q,t,n,f){f=void 0!==f?f:[];let b=0;for(let c=0,e=t.length;c<e;++c){const g=
t[c];f[b++]=1===g.length&&g[0]===q?[]:k(p,q,g,n,f[b]);q=g[g.length-1]}f.length=b;return f}};
shadow$provide[133]=function(Ka,L,sb,A){function w(p,q,t,n){let f=0,b=p[t-n],c=p[t-n+1];for(;q<t;q+=n){const e=p[q],g=p[q+1];f+=c*e-b*g;b=e;c=g}return f/2}function k(p,q,t,n){let f=0;for(let b=0,c=t.length;b<c;++b){const e=t[b];f+=w(p,q,e,n);q=e}return f}Object.defineProperty(A,"__esModule",{value:!0});A.linearRing=w;A.linearRings=k;A.linearRingss=function(p,q,t,n){let f=0;for(let b=0,c=t.length;b<c;++b){const e=t[b];f+=k(p,q,e,n);q=e[e.length-1]}return f}};
shadow$provide[134]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(b){return b&&b.__esModule?b:{default:b}}(L(128));var w=L(129),k=L(84),p=L(130),q=L(131),t=L(132),n=L(133);class f extends Ka.default{constructor(b,c){super();this.maxDeltaRevision_=this.maxDelta_=-1;void 0===c||Array.isArray(b[0])?this.setCoordinates(b,c):this.setFlatCoordinates(c,b)}clone(){return new f(this.flatCoordinates.slice(),this.layout)}closestPointXY(b,c,e,g){if(g<(0,k.closestSquaredDistanceXY)(this.getExtent(),
b,c))return g;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,b,c,e,g)}getArea(){return(0,n.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return(0,t.inflateCoordinates)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(b){const c=[];c.length=(0,q.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,b,c,0);return new f(c,"XY")}getType(){return"LinearRing"}intersectsExtent(b){return!1}setCoordinates(b,c){this.setLayout(c,b,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,p.deflateCoordinates)(this.flatCoordinates,0,b,this.stride);this.changed()}}A.default=f};
shadow$provide[135]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(128));var w=L(84),k=L(130),p=L(85);class q extends Ka.default{constructor(t,n){super();this.setCoordinates(t,n)}clone(){const t=new q(this.flatCoordinates.slice(),this.layout);t.applyProperties(this);return t}closestPointXY(t,n,f,b){const c=this.flatCoordinates;t=(0,p.squaredDistance)(t,n,c[0],c[1]);if(t<b){b=this.stride;for(n=0;n<b;++n)f[n]=
c[n];f.length=b;return t}return b}getCoordinates(){return this.flatCoordinates?this.flatCoordinates.slice():[]}computeExtent(t){return(0,w.createOrUpdateFromCoordinate)(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return(0,w.containsXY)(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,n){this.setLayout(n,t,0);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,k.deflateCoordinate)(this.flatCoordinates,0,t,this.stride);this.changed()}}
A.default=q};
shadow$provide[136]=function(Ka,L,sb,A){function w(q,t,n,f,b,c){let e=0,g=q[n-f],m=q[n-f+1];for(;t<n;t+=f){const h=q[t],x=q[t+1];m<=c?x>c&&0<(h-g)*(c-m)-(b-g)*(x-m)&&e++:x<=c&&0>(h-g)*(c-m)-(b-g)*(x-m)&&e--;g=h;m=x}return 0!==e}function k(q,t,n,f,b,c){if(0===n.length||!w(q,t,n[0],f,b,c))return!1;for(let e=1,g=n.length;e<g;++e)if(w(q,n[e-1],n[e],f,b,c))return!1;return!0}Object.defineProperty(A,"__esModule",{value:!0});A.linearRingContainsExtent=function(q,t,n,f,b){return!(0,p.forEachCorner)(b,function(c){return!w(q,
t,n,f,c[0],c[1])})};A.linearRingContainsXY=w;A.linearRingsContainsXY=k;A.linearRingssContainsXY=function(q,t,n,f,b,c){if(0===n.length)return!1;for(let e=0,g=n.length;e<g;++e){const m=n[e];if(k(q,t,m,f,b,c))return!0;t=m[m.length-1]}return!1};var p=L(84)};
shadow$provide[137]=function(Ka,L,sb,A){function w(q,t,n,f,b,c,e){let g;let m;const h=b[c+1],x=[];for(let C=0,r=n.length;C<r;++C){var O=n[C];var G=q[O-f];var I=q[O-f+1];for(g=t;g<O;g+=f){m=q[g];var F=q[g+1];if(h<=I&&F<=h||I<=h&&h<=F)G=(h-I)/(F-I)*(m-G)+G,x.push(G);G=m;I=F}}O=NaN;I=-Infinity;x.sort(p.numberSafeCompareFunction);G=x[0];g=1;for(F=x.length;g<F;++g){m=x[g];const C=Math.abs(m-G);C>I&&(G=(G+m)/2,(0,k.linearRingsContainsXY)(q,t,n,f,G,h)&&(O=G,I=C));G=m}isNaN(O)&&(O=b[c]);return e?(e.push(O,
h,I),e):[O,h,I]}Object.defineProperty(A,"__esModule",{value:!0});A.getInteriorPointOfArray=w;A.getInteriorPointsOfMultiArray=function(q,t,n,f,b){let c=[];for(let e=0,g=n.length;e<g;++e){const m=n[e];c=w(q,t,m,f,b,2*e,c);t=m[m.length-1]}return c};var k=L(136),p=L(68)};
shadow$provide[138]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.forEach=function(w,k,p,q,t){let n;for(k+=q;k<p;k+=q)if(n=t(w.slice(k-q,k),w.slice(k,k+q)))return n;return!1}};
shadow$provide[139]=function(Ka,L,sb,A){function w(f,b,c,e,g){const m=(0,q.extendFlatCoordinates)((0,q.createEmpty)(),f,b,c,e);return(0,q.intersects)(g,m)?(0,q.containsExtent)(g,m)||m[0]>=g[0]&&m[2]<=g[2]||m[1]>=g[1]&&m[3]<=g[3]?!0:(0,t.forEach)(f,b,c,e,function(h,x){return(0,q.intersectsSegment)(g,h,x)}):!1}function k(f,b,c,e,g){return w(f,b,c,e,g)||(0,n.linearRingContainsXY)(f,b,c,e,g[0],g[1])||(0,n.linearRingContainsXY)(f,b,c,e,g[0],g[3])||(0,n.linearRingContainsXY)(f,b,c,e,g[2],g[1])||(0,n.linearRingContainsXY)(f,
b,c,e,g[2],g[3])?!0:!1}function p(f,b,c,e,g){if(!k(f,b,c[0],e,g))return!1;if(1===c.length)return!0;for(let m=1,h=c.length;m<h;++m)if((0,n.linearRingContainsExtent)(f,c[m-1],c[m],e,g)&&!w(f,c[m-1],c[m],e,g))return!1;return!0}Object.defineProperty(A,"__esModule",{value:!0});A.intersectsLineString=w;A.intersectsLineStringArray=function(f,b,c,e,g){for(let m=0,h=c.length;m<h;++m){if(w(f,b,c[m],e,g))return!0;b=c[m]}return!1};A.intersectsLinearRing=k;A.intersectsLinearRingArray=p;A.intersectsLinearRingMultiArray=
function(f,b,c,e,g){for(let m=0,h=c.length;m<h;++m){const x=c[m];if(p(f,b,x,e,g))return!0;b=x[x.length-1]}return!1};var q=L(84),t=L(138),n=L(136)};
shadow$provide[140]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.coordinates=function(w,k,p,q){for(;k<p-q;){for(let t=0;t<q;++t){const n=w[k+t];w[k+t]=w[p-q+t];w[p-q+t]=n}k+=q;p-=q}}};
shadow$provide[141]=function(Ka,L,sb,A){function w(t,n,f,b){let c=0,e=t[f-b],g=t[f-b+1];for(;n<f;n+=b){const m=t[n],h=t[n+1];c+=(m-e)*(h+g);e=m;g=h}return 0===c?void 0:0<c}function k(t,n,f,b,c){c=void 0!==c?c:!1;for(let e=0,g=f.length;e<g;++e){const m=f[e];n=w(t,n,m,b);if(0===e){if(c&&n||!c&&!n)return!1}else if(c&&!n||!c&&n)return!1;n=m}return!0}function p(t,n,f,b,c){c=void 0!==c?c:!1;for(let e=0,g=f.length;e<g;++e){const m=f[e],h=w(t,n,m,b);(0===e?c&&h||!c&&!h:c&&!h||!c&&h)&&(0,q.coordinates)(t,
n,m,b);n=m}return n}Object.defineProperty(A,"__esModule",{value:!0});A.linearRingIsClockwise=w;A.linearRingsAreOriented=k;A.linearRingssAreOriented=function(t,n,f,b,c){for(let e=0,g=f.length;e<g;++e){const m=f[e];if(!k(t,n,m,b,c))return!1;m.length&&(n=m[m.length-1])}return!0};A.orientLinearRings=p;A.orientLinearRingsArray=function(t,n,f,b,c){for(let e=0,g=f.length;e<g;++e)n=p(t,n,f[e],b,c);return n};A.inflateEnds=function(t,n){const f=[];let b=0,c=0;for(let e=0,g=n.length;e<g;++e){const m=n[e];if(w(t,
b,m,2)){if(0===f.length)continue;f[f.length-1].push(n[c])}else f.push(n.slice(c,e+1));c=e+1;b=m}return f};var q=L(140)};
shadow$provide[142]=function(Ka,L,sb,A){function w(C){return C&&C.__esModule?C:{default:C}}function k(C,r,y,K){const R=C.getFlatCoordinates(),S=C.getStride(),ca=R.length/S-1;K=K?K:0;for(let M=0;M<=ca;++M){const aa=M*S,Y=K+2*(0,O.modulo)(M,ca)*Math.PI/ca;R[aa]=r[0]+y*Math.cos(Y);R[aa+1]=r[1]+y*Math.sin(Y)}C.changed()}Object.defineProperty(A,"__esModule",{value:!0});A.circular=function(C,r,y,K){y=y?y:32;const R=[];for(let S=0;S<y;++S)(0,b.extend)(R,(0,I.offset)(C,r,2*Math.PI*S/y,K));R.push(R[0],R[1]);
return new F(R,"XY",[R.length])};A.fromExtent=function(C){var r=C[0];const y=C[1],K=C[2];C=C[3];r=[r,y,r,C,K,C,K,y,r,y];return new F(r,"XY",[r.length])};A.fromCircle=function(C,r,y){r=r?r:32;var K=C.getStride();const R=C.getLayout(),S=C.getCenter();r=K*(r+1);const ca=Array(r);for(let M=0;M<r;M+=K){ca[M]=0;ca[M+1]=0;for(let aa=2;aa<K;aa++)ca[M+aa]=S[aa]}K=new F(ca,R,[ca.length]);k(K,S,C.getRadius(),y);return K};A.makeRegular=k;A.default=void 0;var p=w(L(134)),q=w(L(135));Ka=w(L(128));var t=L(129),
n=L(84),f=L(130),b=L(68),c=L(137),e=L(132),g=L(139),m=L(141),h=L(133),x=L(136),O=L(85),G=L(131),I=L(120);class F extends Ka.default{constructor(C,r,y){super();this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=-1;this.orientedFlatCoordinates_=null;void 0!==r&&y?(this.setFlatCoordinates(r,C),this.ends_=y):this.setCoordinates(C,r)}appendLinearRing(C){this.flatCoordinates?(0,b.extend)(this.flatCoordinates,C.getFlatCoordinates()):
this.flatCoordinates=C.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const C=new F(this.flatCoordinates.slice(),this.layout,this.ends_.slice());C.applyProperties(this);return C}closestPointXY(C,r,y,K){if(K<(0,n.closestSquaredDistanceXY)(this.getExtent(),C,r))return K;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,t.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());
return(0,t.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,C,r,y,K)}containsXY(C,r){return(0,x.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,C,r)}getArea(){return(0,h.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(C){let r;void 0!==C?(r=this.getOrientedFlatCoordinates().slice(),(0,m.orientLinearRings)(r,0,this.ends_,this.stride,C)):r=this.flatCoordinates;return(0,e.inflateCoordinatesArray)(r,
0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const C=(0,n.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,c.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,C,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new q.default(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(C){return 0>
C||this.ends_.length<=C?null:new p.default(this.flatCoordinates.slice(0===C?0:this.ends_[C-1],this.ends_[C]),this.layout)}getLinearRings(){const C=this.layout,r=this.flatCoordinates,y=this.ends_,K=[];var R=0;for(let S=0,ca=y.length;S<ca;++S){const M=y[S];R=new p.default(r.slice(R,M),C);K.push(R);R=M}return K}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const C=this.flatCoordinates;(0,m.linearRingsAreOriented)(C,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=
C:(this.orientedFlatCoordinates_=C.slice(),this.orientedFlatCoordinates_.length=(0,m.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(C){const r=[],y=[];r.length=(0,G.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(C),r,0,y);return new F(r,"XY",y)}getType(){return"Polygon"}intersectsExtent(C){return(0,g.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),
0,this.ends_,this.stride,C)}setCoordinates(C,r){this.setLayout(r,C,2);this.flatCoordinates||(this.flatCoordinates=[]);C=(0,f.deflateCoordinatesArray)(this.flatCoordinates,0,C,this.stride,this.ends_);this.flatCoordinates.length=0===C.length?0:C[C.length-1];this.changed()}}A.default=F};
shadow$provide[143]=function(Ka,L,sb,A){function w(S){return S&&S.__esModule?S:{default:S}}function k(S,ca){setTimeout(function(){S(ca)},0)}function p(S){if(void 0!==S.extent)return(0,O.createExtent)(S.extent,S.constrainOnlyCenter,void 0!==S.smoothExtentConstraint?S.smoothExtentConstraint:!0);const ca=(0,g.createProjection)(S.projection,"EPSG:3857");return!0!==S.multiWorld&&ca.isGlobal()?(S=ca.getExtent().slice(),S[0]=-Infinity,S[2]=Infinity,(0,O.createExtent)(S,!1,!1)):O.none}function q(S){let ca=
void 0!==S.minZoom?S.minZoom:0,M=void 0!==S.maxZoom?S.maxZoom:28;const aa=void 0!==S.zoomFactor?S.zoomFactor:2;var Y=void 0!==S.multiWorld?S.multiWorld:!1;const ea=void 0!==S.smoothResolutionConstraint?S.smoothResolutionConstraint:!0,Ga=void 0!==S.showFullExtent?S.showFullExtent:!1;var X=(0,g.createProjection)(S.projection,"EPSG:3857");var D=X.getExtent();let B=S.constrainOnlyCenter,N=S.extent;Y||N||!X.isGlobal()||(B=!1,N=D);if(void 0!==S.resolutions)D=S.resolutions,Y=D[ca],X=void 0!==D[M]?D[M]:D[D.length-
1],S=S.constrainResolution?(0,I.createSnapToResolutions)(D,ea,!B&&N,Ga):(0,I.createMinMaxResolution)(Y,X,ea,!B&&N,Ga);else{D=(D?Math.max((0,r.getWidth)(D),(0,r.getHeight)(D)):360*g.METERS_PER_UNIT.degrees/X.getMetersPerUnit())/e.DEFAULT_TILE_SIZE/Math.pow(2,0);const Z=D/Math.pow(2,28);Y=S.maxResolution;void 0!==Y?ca=0:Y=D/Math.pow(aa,ca);X=S.minResolution;void 0===X&&(X=void 0!==S.maxZoom?void 0!==S.maxResolution?Y/Math.pow(aa,M):D/Math.pow(aa,M):Z);M=ca+Math.floor(Math.log(Y/X)/Math.log(aa));X=Y/
Math.pow(aa,M-ca);S=S.constrainResolution?(0,I.createSnapToPower)(aa,Y,X,ea,!B&&N,Ga):(0,I.createMinMaxResolution)(Y,X,ea,!B&&N,Ga)}return{constraint:S,maxResolution:Y,minResolution:X,minZoom:ca,zoomFactor:aa}}function t(S){return(void 0!==S.enableRotation?S.enableRotation:1)?(S=S.constrainRotation,void 0===S||!0===S?(0,F.createSnapToZero)():!1===S?F.none:"number"===typeof S?(0,F.createSnapToN)(S):F.none):F.disable}function n(S){return S.sourceCenter&&S.targetCenter&&!(0,h.equals)(S.sourceCenter,
S.targetCenter)||S.sourceResolution!==S.targetResolution||S.sourceRotation!==S.targetRotation?!1:!0}function f(S,ca,M,aa,Y){const ea=Math.cos(-Y);Y=Math.sin(-Y);let Ga=S[0]*ea-S[1]*Y;S=S[1]*ea+S[0]*Y;Ga+=(ca[0]/2-M[0])*aa;S+=(M[1]-ca[1]/2)*aa;Y=-Y;return[Ga*ea-S*Y,S*ea+Ga*Y]}Object.defineProperty(A,"__esModule",{value:!0});A.createCenterConstraint=p;A.createResolutionConstraint=q;A.createRotationConstraint=t;A.isNoopAnimation=n;A.default=void 0;Ka=w(L(76));var b=w(L(111)),c=w(L(112)),e=L(113),g=L(121),
m=L(69),h=L(93),x=L(81),O=L(122),G=L(85),I=L(123),F=L(124),C=L(125),r=L(84),y=L(68),K=L(142);class R extends Ka.default{constructor(S){super();S=Object.assign({},S);this.hints_=[0,0];this.animations_=[];this.projection_=(0,g.createProjection)(S.projection,"EPSG:3857");this.viewportSize_=[100,100];this.nextCenter_=this.targetCenter_=null;this.cancelAnchor_=void 0;S.projection&&(0,g.disableCoordinateWarning)();S.center&&(S.center=(0,g.fromUserCoordinate)(S.center,this.projection_));S.extent&&(S.extent=
(0,g.fromUserExtent)(S.extent,this.projection_));this.applyOptions_(S)}applyOptions_(S){var ca=Object.assign({},S);for(var M in c.default)delete ca[M];this.setProperties(ca,!0);M=q(S);this.maxResolution_=M.maxResolution;this.minResolution_=M.minResolution;this.zoomFactor_=M.zoomFactor;this.resolutions_=S.resolutions;this.padding_=S.padding;this.minZoom_=M.minZoom;ca=p(S);M=M.constraint;const aa=t(S);this.constraints_={center:ca,resolution:M,rotation:aa};this.setRotation(void 0!==S.rotation?S.rotation:
0);this.setCenterInternal(void 0!==S.center?S.center:null);void 0!==S.resolution?this.setResolution(S.resolution):void 0!==S.zoom&&this.setZoom(S.zoom)}get padding(){return this.padding_}set padding(S){let ca=this.padding_;this.padding_=S;const M=this.getCenter();if(M){S=S||[0,0,0,0];ca=ca||[0,0,0,0];const aa=this.getResolution();this.setCenterInternal([M[0]+aa/2*(S[3]-ca[3]+ca[1]-S[1]),M[1]-aa/2*(S[0]-ca[0]+ca[2]-S[2])])}}getUpdatedOptions_(S){const ca=this.getProperties();void 0!==ca.resolution?
ca.resolution=this.getResolution():ca.zoom=this.getZoom();ca.center=this.getCenterInternal();ca.rotation=this.getRotation();return Object.assign({},ca,S)}animate(S){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const ca=Array(arguments.length);for(let M=0;M<ca.length;++M){let aa=arguments[M];aa.center&&(aa=Object.assign({},aa),aa.center=(0,g.fromUserCoordinate)(aa.center,this.getProjection()));aa.anchor&&(aa=Object.assign({},aa),aa.anchor=(0,g.fromUserCoordinate)(aa.anchor,this.getProjection()));
ca[M]=aa}this.animateInternal.apply(this,ca)}animateInternal(S){let ca=arguments.length,M;1<ca&&"function"===typeof arguments[ca-1]&&(M=arguments[ca-1],--ca);let aa=0;for(;aa<ca&&!this.isDef();++aa){var Y=arguments[aa];Y.center&&this.setCenterInternal(Y.center);void 0!==Y.zoom?this.setZoom(Y.zoom):Y.resolution&&this.setResolution(Y.resolution);void 0!==Y.rotation&&this.setRotation(Y.rotation)}if(aa===ca)M&&k(M,!0);else{Y=Date.now();for(var ea=this.targetCenter_.slice(),Ga=this.targetResolution_,X=
this.targetRotation_,D=[];aa<ca;++aa){var B=arguments[aa];const N={start:Y,complete:!1,anchor:B.anchor,duration:void 0!==B.duration?B.duration:1E3,easing:B.easing||C.inAndOut,callback:M};B.center&&(N.sourceCenter=ea,N.targetCenter=B.center.slice(),ea=N.targetCenter);void 0!==B.zoom?(N.sourceResolution=Ga,N.targetResolution=this.getResolutionForZoom(B.zoom),Ga=N.targetResolution):B.resolution&&(N.sourceResolution=Ga,N.targetResolution=B.resolution,Ga=N.targetResolution);void 0!==B.rotation&&(N.sourceRotation=
X,B=(0,G.modulo)(B.rotation-X+Math.PI,2*Math.PI)-Math.PI,N.targetRotation=X+B,X=N.targetRotation);n(N)?N.complete=!0:Y+=N.duration;D.push(N)}this.animations_.push(D);this.setHint(b.default.ANIMATING,1);this.updateAnimations_()}}getAnimating(){return 0<this.hints_[b.default.ANIMATING]}getInteracting(){return 0<this.hints_[b.default.INTERACTING]}cancelAnimations(){this.setHint(b.default.ANIMATING,-this.hints_[b.default.ANIMATING]);let S;for(let ca=0,M=this.animations_.length;ca<M;++ca){const aa=this.animations_[ca];
aa[0].callback&&k(aa[0].callback,!1);if(!S)for(let Y=0,ea=aa.length;Y<ea;++Y){const Ga=aa[Y];if(!Ga.complete){S=Ga.anchor;break}}}this.animations_.length=0;this.cancelAnchor_=S;this.nextCenter_=null;this.nextRotation_=this.nextResolution_=NaN}updateAnimations_(){void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0);if(this.getAnimating()){var S=Date.now(),ca=!1;for(let ea=this.animations_.length-1;0<=ea;--ea){var M=this.animations_[ea];
let Ga=!0;for(let X=0,D=M.length;X<D;++X){const B=M[X];if(!B.complete){ca=S-B.start;ca=0<B.duration?ca/B.duration:1;1<=ca?(B.complete=!0,ca=1):Ga=!1;ca=B.easing(ca);if(B.sourceCenter){var aa=B.sourceCenter[0],Y=B.sourceCenter[1];const N=B.targetCenter[0],Z=B.targetCenter[1];this.nextCenter_=B.targetCenter;this.targetCenter_=[aa+ca*(N-aa),Y+ca*(Z-Y)]}B.sourceResolution&&B.targetResolution&&(aa=1===ca?B.targetResolution:B.sourceResolution+ca*(B.targetResolution-B.sourceResolution),B.anchor&&(Y=this.getViewportSize_(this.getRotation()),
Y=this.constraints_.resolution(aa,0,Y,!0),this.targetCenter_=this.calculateCenterZoom(Y,B.anchor)),this.nextResolution_=B.targetResolution,this.targetResolution_=aa,this.applyTargetState_(!0));void 0!==B.sourceRotation&&void 0!==B.targetRotation&&(ca=1===ca?(0,G.modulo)(B.targetRotation+Math.PI,2*Math.PI)-Math.PI:B.sourceRotation+ca*(B.targetRotation-B.sourceRotation),B.anchor&&(aa=this.constraints_.rotation(ca,!0),this.targetCenter_=this.calculateCenterRotate(aa,B.anchor)),this.nextRotation_=B.targetRotation,
this.targetRotation_=ca);this.applyTargetState_(!0);ca=!0;if(!B.complete)break}}Ga&&(this.animations_[ea]=null,this.setHint(b.default.ANIMATING,-1),this.nextCenter_=null,this.nextRotation_=this.nextResolution_=NaN,(M=M[0].callback)&&k(M,!0))}this.animations_=this.animations_.filter(Boolean);ca&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}calculateCenterRotate(S,ca){let M;const aa=this.getCenterInternal();void 0!==aa&&(M=[aa[0]-
ca[0],aa[1]-ca[1]],(0,h.rotate)(M,S-this.getRotation()),(0,h.add)(M,ca));return M}calculateCenterZoom(S,ca){let M;const aa=this.getCenterInternal(),Y=this.getResolution();void 0!==aa&&void 0!==Y&&(M=[ca[0]-S*(ca[0]-aa[0])/Y,ca[1]-S*(ca[1]-aa[1])/Y]);return M}getViewportSize_(S){var ca=this.viewportSize_;if(S){const M=ca[0];ca=ca[1];return[Math.abs(M*Math.cos(S))+Math.abs(ca*Math.sin(S)),Math.abs(M*Math.sin(S))+Math.abs(ca*Math.cos(S))]}return ca}setViewportSize(S){this.viewportSize_=Array.isArray(S)?
S.slice():[100,100];this.getAnimating()||this.resolveConstraints(0)}getCenter(){const S=this.getCenterInternal();return S?(0,g.toUserCoordinate)(S,this.getProjection()):S}getCenterInternal(){return this.get(c.default.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(S){return void 0!==S?(S[0]=this.hints_[0],S[1]=this.hints_[1],S):this.hints_.slice()}calculateExtent(S){S=this.calculateExtentInternal(S);return(0,g.toUserExtent)(S,
this.getProjection())}calculateExtentInternal(S){S=S||this.getViewportSizeMinusPadding_();const ca=this.getCenterInternal();(0,x.assert)(ca,1);const M=this.getResolution();(0,x.assert)(void 0!==M,2);const aa=this.getRotation();(0,x.assert)(void 0!==aa,3);return(0,r.getForViewAndSize)(ca,M,aa,S)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(S){this.applyOptions_(this.getUpdatedOptions_({maxZoom:S}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(S){this.applyOptions_(this.getUpdatedOptions_({minZoom:S}))}setConstrainResolution(S){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:S}))}getProjection(){return this.projection_}getResolution(){return this.get(c.default.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(S,
ca){return this.getResolutionForExtentInternal((0,g.fromUserExtent)(S,this.getProjection()),ca)}getResolutionForExtentInternal(S,ca){ca=ca||this.getViewportSizeMinusPadding_();const M=(0,r.getWidth)(S)/ca[0];S=(0,r.getHeight)(S)/ca[1];return Math.max(M,S)}getResolutionForValueFunction(S){S=S||2;const ca=this.getConstrainedResolution(this.maxResolution_),M=Math.log(ca/this.minResolution_)/Math.log(S);return function(aa){return ca/Math.pow(S,aa*M)}}getRotation(){return this.get(c.default.ROTATION)}getValueForResolutionFunction(S){const ca=
Math.log(S||2),M=this.getConstrainedResolution(this.maxResolution_),aa=Math.log(M/this.minResolution_)/ca;return function(Y){return Math.log(M/Y)/ca/aa}}getViewportSizeMinusPadding_(S){S=this.getViewportSize_(S);const ca=this.padding_;ca&&(S=[S[0]-ca[1]-ca[3],S[1]-ca[0]-ca[2]]);return S}getState(){const S=this.getProjection(),ca=this.getResolution(),M=this.getRotation();let aa=this.getCenterInternal();const Y=this.padding_;if(Y){const ea=this.getViewportSizeMinusPadding_();aa=f(aa,this.getViewportSize_(),
[ea[0]/2+Y[3],ea[1]/2+Y[0]],ca,M)}return{center:aa.slice(0),projection:void 0!==S?S:null,resolution:ca,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:M,zoom:this.getZoom()}}getZoom(){let S;const ca=this.getResolution();void 0!==ca&&(S=this.getZoomForResolution(ca));return S}getZoomForResolution(S){let ca=this.minZoom_||0,M;var aa;this.resolutions_?(ca=aa=(0,y.linearFindNearest)(this.resolutions_,S,1),M=this.resolutions_[aa],aa=aa==this.resolutions_.length-
1?2:M/this.resolutions_[aa+1]):(M=this.maxResolution_,aa=this.zoomFactor_);return ca+Math.log(M/S)/Math.log(aa)}getResolutionForZoom(S){if(this.resolutions_){if(1>=this.resolutions_.length)return 0;const ca=(0,G.clamp)(Math.floor(S),0,this.resolutions_.length-2);return this.resolutions_[ca]/Math.pow(this.resolutions_[ca]/this.resolutions_[ca+1],(0,G.clamp)(S-ca,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,S-this.minZoom_)}fit(S,ca){(0,x.assert)(Array.isArray(S)||"function"===typeof S.getSimplifiedGeometry,
24);if(Array.isArray(S))(0,x.assert)(!(0,r.isEmpty)(S),25),S=(0,g.fromUserExtent)(S,this.getProjection()),S=(0,K.fromExtent)(S);else if("Circle"===S.getType()){var M=(0,g.fromUserExtent)(S.getExtent(),this.getProjection());S=(0,K.fromExtent)(M);S.rotate(this.getRotation(),(0,r.getCenter)(M))}else S=(M=(0,g.getUserProjection)())?S.clone().transform(M,this.getProjection()):S;this.fitInternal(S,ca)}rotatedExtentForGeometry(S){var ca=this.getRotation();const M=Math.cos(ca);ca=Math.sin(-ca);const aa=S.getFlatCoordinates();
S=S.getStride();let Y=Infinity,ea=Infinity,Ga=-Infinity,X=-Infinity;for(let D=0,B=aa.length;D<B;D+=S){const N=aa[D]*M-aa[D+1]*ca,Z=aa[D]*ca+aa[D+1]*M;Y=Math.min(Y,N);ea=Math.min(ea,Z);Ga=Math.max(Ga,N);X=Math.max(X,Z)}return[Y,ea,Ga,X]}fitInternal(S,ca){ca=ca||{};var M=ca.size;M||(M=this.getViewportSizeMinusPadding_());var aa=void 0!==ca.padding?ca.padding:[0,0,0,0],Y=void 0!==ca.nearest?ca.nearest:!1;var ea=void 0!==ca.minResolution?ca.minResolution:void 0!==ca.maxZoom?this.getResolutionForZoom(ca.maxZoom):
0;S=this.rotatedExtentForGeometry(S);M=this.getResolutionForExtentInternal(S,[M[0]-aa[1]-aa[3],M[1]-aa[0]-aa[2]]);M=isNaN(M)?ea:Math.max(M,ea);M=this.getConstrainedResolution(M,Y?0:1);ea=this.getRotation();Y=Math.sin(ea);ea=Math.cos(ea);S=(0,r.getCenter)(S);S[0]+=(aa[1]-aa[3])/2*M;S[1]+=(aa[0]-aa[2])/2*M;aa=this.getConstrainedCenter([S[0]*ea-S[1]*Y,S[1]*ea+S[0]*Y],M);S=ca.callback?ca.callback:m.VOID;void 0!==ca.duration?this.animateInternal({resolution:M,center:aa,duration:ca.duration,easing:ca.easing},
S):(this.targetResolution_=M,this.targetCenter_=aa,this.applyTargetState_(!1,!0),k(S,!0))}centerOn(S,ca,M){this.centerOnInternal((0,g.fromUserCoordinate)(S,this.getProjection()),ca,M)}centerOnInternal(S,ca,M){this.setCenterInternal(f(S,ca,M,this.getResolution(),this.getRotation()))}calculateCenterShift(S,ca,M,aa){const Y=this.padding_;if(Y&&S){var ea=this.getViewportSizeMinusPadding_(-M);ca=f(S,aa,[ea[0]/2+Y[3],ea[1]/2+Y[0]],ca,M);ea=[S[0]-ca[0],S[1]-ca[1]]}return ea}isDef(){return!!this.getCenterInternal()&&
void 0!==this.getResolution()}adjustCenter(S){const ca=(0,g.toUserCoordinate)(this.targetCenter_,this.getProjection());this.setCenter([ca[0]+S[0],ca[1]+S[1]])}adjustCenterInternal(S){const ca=this.targetCenter_;this.setCenterInternal([ca[0]+S[0],ca[1]+S[1]])}adjustResolution(S,ca){ca=ca&&(0,g.fromUserCoordinate)(ca,this.getProjection());this.adjustResolutionInternal(S,ca)}adjustResolutionInternal(S,ca){var M=this.getAnimating()||this.getInteracting();const aa=this.getViewportSize_(this.getRotation());
M=this.constraints_.resolution(this.targetResolution_*S,0,aa,M);ca&&(this.targetCenter_=this.calculateCenterZoom(M,ca));this.targetResolution_*=S;this.applyTargetState_()}adjustZoom(S,ca){this.adjustResolution(Math.pow(this.zoomFactor_,-S),ca)}adjustRotation(S,ca){ca&&(ca=(0,g.fromUserCoordinate)(ca,this.getProjection()));this.adjustRotationInternal(S,ca)}adjustRotationInternal(S,ca){var M=this.getAnimating()||this.getInteracting();M=this.constraints_.rotation(this.targetRotation_+S,M);ca&&(this.targetCenter_=
this.calculateCenterRotate(M,ca));this.targetRotation_+=S;this.applyTargetState_()}setCenter(S){this.setCenterInternal(S?(0,g.fromUserCoordinate)(S,this.getProjection()):S)}setCenterInternal(S){this.targetCenter_=S;this.applyTargetState_()}setHint(S,ca){this.hints_[S]+=ca;this.changed();return this.hints_[S]}setResolution(S){this.targetResolution_=S;this.applyTargetState_()}setRotation(S){this.targetRotation_=S;this.applyTargetState_()}setZoom(S){this.setResolution(this.getResolutionForZoom(S))}applyTargetState_(S,
ca){var M=this.getAnimating()||this.getInteracting()||ca;ca=this.constraints_.rotation(this.targetRotation_,M);const aa=this.getViewportSize_(ca),Y=this.constraints_.resolution(this.targetResolution_,0,aa,M);M=this.constraints_.center(this.targetCenter_,Y,aa,M,this.calculateCenterShift(this.targetCenter_,Y,ca,aa));this.get(c.default.ROTATION)!==ca&&this.set(c.default.ROTATION,ca);this.get(c.default.RESOLUTION)!==Y&&(this.set(c.default.RESOLUTION,Y),this.set("zoom",this.getZoom(),!0));M&&this.get(c.default.CENTER)&&
(0,h.equals)(this.get(c.default.CENTER),M)||this.set(c.default.CENTER,M);this.getAnimating()&&!S&&this.cancelAnimations();this.cancelAnchor_=void 0}resolveConstraints(S,ca,M){S=void 0!==S?S:200;var aa=ca||0;ca=this.constraints_.rotation(this.targetRotation_);var Y=this.getViewportSize_(ca);aa=this.constraints_.resolution(this.targetResolution_,aa,Y);Y=this.constraints_.center(this.targetCenter_,aa,Y,!1,this.calculateCenterShift(this.targetCenter_,aa,ca,Y));0!==S||this.cancelAnchor_?(M=M||(0===S?this.cancelAnchor_:
void 0),this.cancelAnchor_=void 0,this.getResolution()===aa&&this.getRotation()===ca&&this.getCenterInternal()&&(0,h.equals)(this.getCenterInternal(),Y)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:ca,center:Y,resolution:aa,duration:S,easing:C.easeOut,anchor:M}))):(this.targetResolution_=aa,this.targetRotation_=ca,this.targetCenter_=Y,this.applyTargetState_())}beginInteraction(){this.resolveConstraints(0);this.setHint(b.default.INTERACTING,1)}endInteraction(S,ca,M){M=
M&&(0,g.fromUserCoordinate)(M,this.getProjection());this.endInteractionInternal(S,ca,M)}endInteractionInternal(S,ca,M){this.setHint(b.default.INTERACTING,-1);this.resolveConstraints(S,ca,M)}getConstrainedCenter(S,ca){const M=this.getViewportSize_(this.getRotation());return this.constraints_.center(S,ca||this.getResolution(),M)}getConstrainedZoom(S,ca){S=this.getResolutionForZoom(S);return this.getZoomForResolution(this.getConstrainedResolution(S,ca))}getConstrainedResolution(S,ca){ca=ca||0;const M=
this.getViewportSize_(this.getRotation());return this.constraints_.resolution(S,ca,M)}}A.default=R};
shadow$provide[144]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(76));var k=w(L(106)),p=L(69),q=L(73),t=L(97);class n extends Ka.default{constructor(f){super();const b=f.element;!b||f.target||b.style.pointerEvents||(b.style.pointerEvents="auto");this.element=b?b:null;this.map_=this.target_=null;this.listenerKeys=[];f.render&&(this.render=f.render);f.target&&this.setTarget(f.target)}disposeInternal(){(0,t.removeNode)(this.element);
super.disposeInternal()}getMap(){return this.map_}setMap(f){this.map_&&(0,t.removeNode)(this.element);for(let b=0,c=this.listenerKeys.length;b<c;++b)(0,q.unlistenByKey)(this.listenerKeys[b]);this.listenerKeys.length=0;if(this.map_=f)(this.target_?this.target_:f.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==p.VOID&&this.listenerKeys.push((0,q.listen)(f,k.default.POSTRENDER,this.render,this)),f.render()}render(f){}setTarget(f){this.target_="string"===typeof f?document.getElementById(f):
f}}A.default=n};
shadow$provide[145]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(68),t=L(91),n=L(97);class f extends Ka.default{constructor(b){b=b?b:{};super({element:document.createElement("div"),render:b.render,target:b.target});this.ulElement_=document.createElement("ul");this.userCollapsed_=this.collapsed_=void 0!==b.collapsed?b.collapsed:!0;this.overrideCollapsible_=void 0!==b.collapsible;
this.collapsible_=void 0!==b.collapsible?b.collapsible:!0;this.collapsible_||(this.collapsed_=!1);const c=void 0!==b.className?b.className:"ol-attribution";var e=void 0!==b.tipLabel?b.tipLabel:"Attributions",g=void 0!==b.expandClassName?b.expandClassName:c+"-expand";const m=void 0!==b.collapseLabel?b.collapseLabel:"›",h=void 0!==b.collapseClassName?b.collapseClassName:c+"-collapse";"string"===typeof m?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=m,this.collapseLabel_.className=
h):this.collapseLabel_=m;b=void 0!==b.label?b.label:"i";"string"===typeof b?(this.label_=document.createElement("span"),this.label_.textContent=b,this.label_.className=g):this.label_=b;g=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button");this.toggleButton_.setAttribute("type","button");this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_));this.toggleButton_.title=e;this.toggleButton_.appendChild(g);this.toggleButton_.addEventListener(k.default.CLICK,
this.handleClick_.bind(this),!1);e=this.element;e.className=c+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+p.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible");e.appendChild(this.toggleButton_);e.appendChild(this.ulElement_);this.renderedAttributions_=[];this.renderedVisible_=!0}collectSourceAttributions_(b){const c={},e=[];let g=!0;const m=b.layerStatesArray;for(let O=0,G=m.length;O<G;++O){var h=m[O];if((0,t.inView)(h,b.viewState)&&(h=h.layer.getSource())){var x=
h.getAttributions();if(x&&(x=x(b)))if(g=g&&!1!==h.getAttributionsCollapsible(),Array.isArray(x))for(let I=0,F=x.length;I<F;++I)x[I]in c||(e.push(x[I]),c[x[I]]=!0);else x in c||(e.push(x),c[x]=!0)}}this.overrideCollapsible_||this.setCollapsible(g);return e}updateElement_(b){if(b){b=this.collectSourceAttributions_(b);var c=0<b.length;this.renderedVisible_!=c&&(this.element.style.display=c?"":"none",this.renderedVisible_=c);if(!(0,q.equals)(b,this.renderedAttributions_)){(0,n.removeChildren)(this.ulElement_);
for(let e=0,g=b.length;e<g;++e)c=document.createElement("li"),c.innerHTML=b[e],this.ulElement_.appendChild(c);this.renderedAttributions_=b}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)}handleClick_(b){b.preventDefault();this.handleToggle_();this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(p.CLASS_COLLAPSED);this.collapsed_?(0,n.replaceNode)(this.collapseLabel_,this.label_):(0,n.replaceNode)(this.label_,this.collapseLabel_);
this.collapsed_=!this.collapsed_;this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(b){this.collapsible_!==b&&(this.collapsible_=b,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(b){this.userCollapsed_=b;this.collapsible_&&this.collapsed_!==b&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(b){this.updateElement_(b.frameState)}}A.default=f};
shadow$provide[146]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(125);class t extends Ka.default{constructor(n){n=n?n:{};super({element:document.createElement("div"),render:n.render,target:n.target});const f=void 0!==n.className?n.className:"ol-rotate";var b=void 0!==n.label?n.label:"⇧",c=void 0!==n.compassClassName?n.compassClassName:"ol-compass";this.label_=null;"string"===
typeof b?(this.label_=document.createElement("span"),this.label_.className=c,this.label_.textContent=b):(this.label_=b,this.label_.classList.add(c));c=n.tipLabel?n.tipLabel:"Reset rotation";b=document.createElement("button");b.className=f+"-reset";b.setAttribute("type","button");b.title=c;b.appendChild(this.label_);b.addEventListener(k.default.CLICK,this.handleClick_.bind(this),!1);c=this.element;c.className=f+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;c.appendChild(b);this.callResetNorth_=n.resetNorth?
n.resetNorth:void 0;this.duration_=void 0!==n.duration?n.duration:250;this.autoHide_=void 0!==n.autoHide?n.autoHide:!0;this.rotation_=void 0;this.autoHide_&&this.element.classList.add(p.CLASS_HIDDEN)}handleClick_(n){n.preventDefault();void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(n){var f=n.getRotation();void 0!==f&&(0<this.duration_&&0!==f%(2*Math.PI)?n.animate({rotation:0,duration:this.duration_,easing:q.easeOut}):n.setRotation(0))}}render(n){if(n=
n.frameState){n=n.viewState.rotation;if(n!=this.rotation_){const f="rotate("+n+"rad)";if(this.autoHide_){const b=this.element.classList.contains(p.CLASS_HIDDEN);b||0!==n?b&&0!==n&&this.element.classList.remove(p.CLASS_HIDDEN):this.element.classList.add(p.CLASS_HIDDEN)}this.label_.style.transform=f}this.rotation_=n}}}A.default=t};
shadow$provide[147]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(144));var k=w(L(72)),p=L(96),q=L(125);class t extends Ka.default{constructor(n){n=n?n:{};super({element:document.createElement("div"),target:n.target});const f=void 0!==n.className?n.className:"ol-zoom";var b=void 0!==n.delta?n.delta:1,c=void 0!==n.zoomInClassName?n.zoomInClassName:f+"-in";const e=void 0!==n.zoomOutClassName?n.zoomOutClassName:
f+"-out",g=void 0!==n.zoomInLabel?n.zoomInLabel:"+",m=void 0!==n.zoomOutLabel?n.zoomOutLabel:"–",h=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",x=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",O=document.createElement("button");O.className=c;O.setAttribute("type","button");O.title=h;O.appendChild("string"===typeof g?document.createTextNode(g):g);O.addEventListener(k.default.CLICK,this.handleClick_.bind(this,b),!1);c=document.createElement("button");c.className=e;c.setAttribute("type",
"button");c.title=x;c.appendChild("string"===typeof m?document.createTextNode(m):m);c.addEventListener(k.default.CLICK,this.handleClick_.bind(this,-b),!1);b=this.element;b.className=f+" "+p.CLASS_UNSELECTABLE+" "+p.CLASS_CONTROL;b.appendChild(O);b.appendChild(c);this.duration_=void 0!==n.duration?n.duration:250}handleClick_(n,f){f.preventDefault();this.zoomByDelta_(n)}zoomByDelta_(n){const f=this.getMap().getView();if(f){var b=f.getZoom();void 0!==b&&(n=f.getConstrainedZoom(b+n),0<this.duration_?
(f.getAnimating()&&f.cancelAnimations(),f.animate({zoom:n,duration:this.duration_,easing:q.easeOut})):f.setZoom(n))}}}A.default=t};
shadow$provide[148]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.defaults=function(n){n=n?n:{};const f=new p.default;(void 0!==n.zoom?n.zoom:1)&&f.push(new t.default(n.zoomOptions));(void 0!==n.rotate?n.rotate:1)&&f.push(new q.default(n.rotateOptions));(void 0!==n.attribution?n.attribution:1)&&f.push(new k.default(n.attributionOptions));return f};var k=w(L(145)),p=w(L(79)),q=w(L(146)),t=w(L(147))};
shadow$provide[149]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ACTIVE:"active"}};
shadow$provide[150]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.pan=function(t,n,f){const b=t.getCenterInternal();b&&t.animateInternal({duration:void 0!==f?f:250,easing:p.linear,center:t.getConstrainedCenter([b[0]+n[0],b[1]+n[1]])})};A.zoomByDelta=function(t,n,f,b){const c=t.getZoom();void 0!==c&&(n=t.getConstrainedZoom(c+n),n=t.getResolutionForZoom(n),t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:n,anchor:f,
duration:void 0!==b?b:250,easing:p.easeOut}))};A.default=void 0;Ka=w(L(76));var k=w(L(149)),p=L(125);class q extends Ka.default{constructor(t){super();t&&t.handleEvent&&(this.handleEvent=t.handleEvent);this.map_=null;this.setActive(!0)}getActive(){return this.get(k.default.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(k.default.ACTIVE,t)}setMap(t){this.map_=t}}A.default=q};
shadow$provide[151]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:n})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((n=w(n))&&n.has(t))return n.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,
c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;n&&n.set(t,f);return f}(L(150)),p=function(t){return t&&t.__esModule?t:{default:t}}(L(103));class q extends k.default{constructor(t){super();t=t?t:{};this.delta_=t.delta?t.delta:1;this.duration_=void 0!==t.duration?t.duration:250}handleEvent(t){var n=!1;if(t.type==p.default.DBLCLICK){n=t.originalEvent;const f=t.coordinate,b=n.shiftKey?-this.delta_:this.delta_;t=t.map.getView();
(0,k.zoomByDelta)(t,b,f,this.duration_);n.preventDefault();n=!0}return!n}}A.default=q};
shadow$provide[152]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.centroid=function(q){const t=q.length;let n=0,f=0;for(let b=0;b<t;b++)n+=q[b].clientX,f+=q[b].clientY;return[n/t,f/t]};A.default=void 0;Ka=w(L(150));var k=w(L(103));class p extends Ka.default{constructor(q){q=q?q:{};super(q);q.handleDownEvent&&(this.handleDownEvent=q.handleDownEvent);q.handleDragEvent&&(this.handleDragEvent=q.handleDragEvent);q.handleMoveEvent&&
(this.handleMoveEvent=q.handleMoveEvent);q.handleUpEvent&&(this.handleUpEvent=q.handleUpEvent);q.stopDown&&(this.stopDown=q.stopDown);this.handlingDownUpSequence=!1;this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(q){return!1}handleDragEvent(q){}handleEvent(q){if(!q.originalEvent)return!0;let t=!1;this.updateTrackedPointers_(q);this.handlingDownUpSequence?q.type==k.default.POINTERDRAG?(this.handleDragEvent(q),q.originalEvent.preventDefault()):q.type==k.default.POINTERUP&&
(this.handlingDownUpSequence=this.handleUpEvent(q)&&0<this.targetPointers.length):q.type==k.default.POINTERDOWN?(this.handlingDownUpSequence=q=this.handleDownEvent(q),t=this.stopDown(q)):q.type==k.default.POINTERMOVE&&this.handleMoveEvent(q);return!t}handleMoveEvent(q){}handleUpEvent(q){return!1}stopDown(q){return q}updateTrackedPointers_(q){q.activePointers&&(this.targetPointers=q.activePointers)}}A.default=p};
shadow$provide[153]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.all=function(t){const n=arguments;return function(f){let b=!0;for(let c=0,e=n.length;c<e&&(b=b&&n[c](f),b);++c);return b}};A.primaryAction=A.penOnly=A.touchOnly=A.mouseOnly=A.targetNotEditable=A.shiftKeyOnly=A.platformModifierKeyOnly=A.noModifierKeys=A.doubleClick=A.singleClick=A.pointerMove=A.never=A.mouseActionButton=A.click=A.always=A.focusWithTabindex=A.focus=A.altShiftKeysOnly=A.altKeyOnly=void 0;var w=
function(t){return t&&t.__esModule?t:{default:t}}(L(103));Ka=L(69);var k=L(80),p=L(81);A.altKeyOnly=function(t){t=t.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};A.altShiftKeysOnly=function(t){t=t.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};const q=function(t){const n=t.map.getTargetElement();t=t.map.getOwnerDocument().activeElement;return n.contains(t)};A.focus=q;A.focusWithTabindex=function(t){return t.map.getTargetElement().hasAttribute("tabindex")?
q(t):!0};A.always=Ka.TRUE;A.click=function(t){return t.type==w.default.CLICK};A.mouseActionButton=function(t){t=t.originalEvent;return 0==t.button&&!(k.WEBKIT&&k.MAC&&t.ctrlKey)};A.never=Ka.FALSE;A.pointerMove=function(t){return"pointermove"==t.type};A.singleClick=function(t){return t.type==w.default.SINGLECLICK};A.doubleClick=function(t){return t.type==w.default.DBLCLICK};A.noModifierKeys=function(t){t=t.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};A.platformModifierKeyOnly=
function(t){t=t.originalEvent;return!t.altKey&&(k.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};A.shiftKeyOnly=function(t){t=t.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};A.targetNotEditable=function(t){t=t.originalEvent;const n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable};A.mouseOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return"mouse"==t.pointerType};A.touchOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==
t,56);return"touch"===t.pointerType};A.penOnly=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return"pen"===t.pointerType};A.primaryAction=function(t){t=t.originalEvent;(0,p.assert)(void 0!==t,56);return t.isPrimary&&0===t.button}};
shadow$provide[154]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,m;for(m in b)if("default"!==m&&Object.prototype.hasOwnProperty.call(b,
m)){var h=g?Object.getOwnPropertyDescriptor(b,m):null;h&&(h.get||h.set)?Object.defineProperty(e,m,h):e[m]=b[m]}e.default=b;c&&c.set(b,e);return e}(L(152)),p=L(69),q=L(153),t=L(125),n=L(93);class f extends k.default{constructor(b){super({stopDown:p.FALSE});b=b?b:{};this.kinetic_=b.kinetic;this.lastCentroid=null;this.panning_=!1;const c=b.condition?b.condition:(0,q.all)(q.noModifierKeys,q.primaryAction);this.condition_=b.onFocusOnly?(0,q.all)(q.focusWithTabindex,c):c;this.noKinetic_=!1}handleDragEvent(b){this.panning_||
(this.panning_=!0,this.getMap().getView().beginInteraction());const c=this.targetPointers,e=(0,k.centroid)(c);if(c.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(e[0],e[1]),this.lastCentroid){const g=[this.lastCentroid[0]-e[0],e[1]-this.lastCentroid[1]],m=b.map.getView();(0,n.scale)(g,m.getResolution());(0,n.rotate)(g,m.getRotation());m.adjustCenterInternal(g)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=e;this.lastPointersCount_=c.length;b.originalEvent.preventDefault()}handleUpEvent(b){var c=
b.map;b=c.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const g=this.kinetic_.getDistance(),m=this.kinetic_.getAngle();var e=b.getCenterInternal();e=c.getPixelFromCoordinateInternal(e);c=c.getCoordinateFromPixelInternal([e[0]-g*Math.cos(m),e[1]-g*Math.sin(m)]);b.animateInternal({center:b.getConstrainedCenter(c),duration:500,easing:t.easeOut})}this.panning_&&(this.panning_=!1,b.endInteraction());return!1}this.kinetic_&&this.kinetic_.begin();this.lastCentroid=
null;return!0}handleDownEvent(b){return 0<this.targetPointers.length&&this.condition_(b)?(b=b.map.getView(),this.lastCentroid=null,b.getAnimating()&&b.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0):!1}}A.default=f};
shadow$provide[155]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(152));var w=L(69),k=L(153),p=L(124);class q extends Ka.default{constructor(t){t=t?t:{};super({stopDown:w.FALSE});this.condition_=t.condition?t.condition:k.altShiftKeysOnly;this.lastAngle_=void 0;this.duration_=void 0!==t.duration?t.duration:250}handleDragEvent(t){if((0,k.mouseOnly)(t)){var n=t.map,f=n.getView();f.getConstraints().rotation!==
p.disable&&(n=n.getSize(),t=t.pixel,t=Math.atan2(n[1]/2-t[1],t[0]-n[0]/2),void 0!==this.lastAngle_&&f.adjustRotationInternal(-(t-this.lastAngle_)),this.lastAngle_=t)}}handleUpEvent(t){if(!(0,k.mouseOnly)(t))return!0;t.map.getView().endInteraction(this.duration_);return!1}handleDownEvent(t){return(0,k.mouseOnly)(t)&&(0,k.mouseActionButton)(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}A.default=q};
shadow$provide[156]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(67));var k=w(L(142));class p extends Ka.default{constructor(q){super();this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.style.pointerEvents="auto";this.element_.className="ol-box "+q;this.endPixel_=this.startPixel_=this.map_=null}disposeInternal(){this.setMap(null)}render_(){const q=
this.startPixel_,t=this.endPixel_,n=this.element_.style;n.left=Math.min(q[0],t[0])+"px";n.top=Math.min(q[1],t[1])+"px";n.width=Math.abs(t[0]-q[0])+"px";n.height=Math.abs(t[1]-q[1])+"px"}setMap(q){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit";t.top="inherit";t.width="inherit";t.height="inherit"}(this.map_=q)&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(q,t){this.startPixel_=q;this.endPixel_=t;this.createOrUpdateGeometry();
this.render_()}createOrUpdateGeometry(){var q=this.startPixel_;const t=this.endPixel_;q=[q,[q[0],t[1]],t,[t[0],q[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);q[4]=q[0].slice();this.geometry_?this.geometry_.setCoordinates([q]):this.geometry_=new k.default([q])}getGeometry(){return this.geometry_}}A.default=p};
shadow$provide[157]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.DragBoxEvent=void 0;Ka=w(L(65));sb=w(L(152));var k=w(L(156)),p=L(153);class q extends Ka.default{constructor(n,f,b){super(n);this.coordinate=f;this.mapBrowserEvent=b}}A.DragBoxEvent=q;class t extends sb.default{constructor(n){super();n=n?n:{};this.box_=new k.default(n.className||"ol-dragbox");this.minArea_=void 0!==n.minArea?n.minArea:64;n.onBoxEnd&&
(this.onBoxEnd=n.onBoxEnd);this.startPixel_=null;this.condition_=n.condition?n.condition:p.mouseActionButton;this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}defaultBoxEndCondition(n,f,b){n=b[0]-f[0];f=b[1]-f[1];return n*n+f*f>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(n){this.box_.setPixels(this.startPixel_,n.pixel);this.dispatchEvent(new q("boxdrag",n.coordinate,n))}handleUpEvent(n){this.box_.setMap(null);const f=this.boxEndCondition_(n,
this.startPixel_,n.pixel);if(f)this.onBoxEnd(n);this.dispatchEvent(new q(f?"boxend":"boxcancel",n.coordinate,n));return!1}handleDownEvent(n){return this.condition_(n)?(this.startPixel_=n.pixel,this.box_.setMap(n.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new q("boxstart",n.coordinate,n)),!0):!1}onBoxEnd(n){}}A.default=t};
shadow$provide[158]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(157));var w=L(125),k=L(153);class p extends Ka.default{constructor(q){q=q?q:{};super({condition:q.condition?q.condition:k.shiftKeyOnly,className:q.className||"ol-dragzoom",minArea:q.minArea});this.duration_=void 0!==q.duration?q.duration:200;this.out_=void 0!==q.out?q.out:!1}onBoxEnd(q){q=this.getMap().getView();let t=this.getGeometry();if(this.out_){var n=
q.rotatedExtentForGeometry(t);n=q.getResolutionForExtentInternal(n);n=q.getResolution()/n;t=t.clone();t.scale(n*n)}q.fitInternal(t,{duration:this.duration_,easing:w.easeOut})}}A.default=p};
shadow$provide[159]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LEFT:37,UP:38,RIGHT:39,DOWN:40}};
shadow$provide[160]=function(Ka,L,sb,A){function w(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,g=new WeakMap;return(w=function(m){return m?g:e})(c)}function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=w(e))&&e.has(c))return e.get(c);var g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,
h;for(h in c)if("default"!==h&&Object.prototype.hasOwnProperty.call(c,h)){var x=m?Object.getOwnPropertyDescriptor(c,h):null;x&&(x.get||x.set)?Object.defineProperty(g,h,x):g[h]=c[h]}g.default=c;e&&e.set(c,g);return g}(L(150)),t=k(L(159)),n=L(153),f=L(93);class b extends q.default{constructor(c){super();c=c||{};this.defaultCondition_=function(e){return(0,n.noModifierKeys)(e)&&(0,n.targetNotEditable)(e)};this.condition_=void 0!==c.condition?c.condition:this.defaultCondition_;this.duration_=void 0!==
c.duration?c.duration:100;this.pixelDelta_=void 0!==c.pixelDelta?c.pixelDelta:128}handleEvent(c){var e=!1;if(c.type==p.default.KEYDOWN){const m=c.originalEvent;var g=m.keyCode;if(this.condition_(c)&&(g==t.default.DOWN||g==t.default.LEFT||g==t.default.RIGHT||g==t.default.UP)){c=c.map.getView();e=c.getResolution()*this.pixelDelta_;let h=0,x=0;g==t.default.DOWN?x=-e:g==t.default.LEFT?h=-e:g==t.default.RIGHT?h=e:x=e;g=[h,x];(0,f.rotate)(g,c.getRotation());(0,q.pan)(c,g,this.duration_);m.preventDefault();
e=!0}}return!e}}A.default=b};
shadow$provide[161]=function(Ka,L,sb,A){function w(n){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(n)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(n){return n&&n.__esModule?n:{default:n}}(L(72)),p=function(n,f){if(!f&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((f=w(f))&&f.has(n))return f.get(n);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in n)if("default"!==e&&Object.prototype.hasOwnProperty.call(n,e)){var g=c?Object.getOwnPropertyDescriptor(n,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=n[e]}b.default=n;f&&f.set(n,b);return b}(L(150)),q=L(153);class t extends p.default{constructor(n){super();n=n?n:{};this.condition_=n.condition?n.condition:q.targetNotEditable;this.delta_=n.delta?n.delta:1;this.duration_=void 0!==n.duration?n.duration:100}handleEvent(n){var f=!1;if(n.type==k.default.KEYDOWN||n.type==k.default.KEYPRESS){const b=
n.originalEvent,c=b.charCode;!this.condition_(n)||43!=c&&45!=c||(f=43==c?this.delta_:-this.delta_,n=n.map.getView(),(0,p.zoomByDelta)(n,f,void 0,this.duration_),b.preventDefault(),f=!0)}return!f}}A.default=t};
shadow$provide[162]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k,p,q){this.decay_=k;this.minVelocity_=p;this.delay_=q;this.points_=[];this.initialVelocity_=this.angle_=0}begin(){this.initialVelocity_=this.angle_=this.points_.length=0}update(k,p){this.points_.push(k,p,Date.now())}end(){if(6>this.points_.length)return!1;var k=Date.now()-this.delay_,p=this.points_.length-3;if(this.points_[p+2]<k)return!1;let q=p-3;for(;0<q&&this.points_[q+
2]>k;)q-=3;k=this.points_[p+2]-this.points_[q+2];if(k<1E3/60)return!1;const t=this.points_[p]-this.points_[q];p=this.points_[p+1]-this.points_[q+1];this.angle_=Math.atan2(p,t);this.initialVelocity_=Math.sqrt(t*t+p*p)/k;return this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}A.default=w};
shadow$provide[163]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(b){return b&&b.__esModule?b:{default:b}}(L(72)),p=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,
m;for(m in b)if("default"!==m&&Object.prototype.hasOwnProperty.call(b,m)){var h=g?Object.getOwnPropertyDescriptor(b,m):null;h&&(h.get||h.set)?Object.defineProperty(e,m,h):e[m]=b[m]}e.default=b;c&&c.set(b,e);return e}(L(150)),q=L(80),t=L(153),n=L(85);class f extends p.default{constructor(b){b=b?b:{};super(b);this.lastDelta_=this.totalDelta_=0;this.maxDelta_=void 0!==b.maxDelta?b.maxDelta:1;this.duration_=void 0!==b.duration?b.duration:250;this.timeout_=void 0!==b.timeout?b.timeout:80;this.useAnchor_=
void 0!==b.useAnchor?b.useAnchor:!0;this.constrainResolution_=void 0!==b.constrainResolution?b.constrainResolution:!1;const c=b.condition?b.condition:t.always;this.condition_=b.onFocusOnly?(0,t.all)(t.focusWithTabindex,c):c;this.lastAnchor_=null;this.mode_=this.startTime_=void 0;this.trackpadEventGap_=400;this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const b=this.getMap();b&&b.getView().endInteraction(void 0,this.lastDelta_?0<this.lastDelta_?1:-1:0,this.lastAnchor_)}handleEvent(b){if(!this.condition_(b)||
b.type!==k.default.WHEEL)return!0;const c=b.map;var e=b.originalEvent;e.preventDefault();this.useAnchor_&&(this.lastAnchor_=b.coordinate);if(b.type==k.default.WHEEL){var g=e.deltaY;q.FIREFOX&&e.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(g/=q.DEVICE_PIXEL_RATIO);e.deltaMode===WheelEvent.DOM_DELTA_LINE&&(g*=40)}if(0===g)return!1;this.lastDelta_=g;b=Date.now();void 0===this.startTime_&&(this.startTime_=b);if(!this.mode_||b-this.startTime_>this.trackpadEventGap_)this.mode_=4>Math.abs(g)?"trackpad":"wheel";
e=c.getView();if("trackpad"===this.mode_&&!e.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(e.getAnimating()&&e.cancelAnimations(),e.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),e.adjustZoom(-g/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=b,!1;this.totalDelta_+=g;g=Math.max(this.timeout_-(b-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,
c),g);return!1}handleWheelZoom_(b){b=b.getView();b.getAnimating()&&b.cancelAnimations();let c=-(0,n.clamp)(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;if(b.getConstrainResolution()||this.constrainResolution_)c=c?0<c?1:-1:0;(0,p.zoomByDelta)(b,c,this.lastAnchor_,this.duration_);this.mode_=void 0;this.totalDelta_=0;this.lastAnchor_=null;this.timeoutId_=this.startTime_=void 0}setMouseAnchor(b){this.useAnchor_=b;b||(this.lastAnchor_=null)}}
A.default=f};
shadow$provide[164]=function(Ka,L,sb,A){function w(n){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(n)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(n,f){if(!f&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((f=w(f))&&f.has(n))return f.get(n);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,e;for(e in n)if("default"!==e&&Object.prototype.hasOwnProperty.call(n,
e)){var g=c?Object.getOwnPropertyDescriptor(n,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=n[e]}b.default=n;f&&f.set(n,b);return b}(L(152)),p=L(69),q=L(124);class t extends k.default{constructor(n){const f=n=n?n:{};f.stopDown||(f.stopDown=p.FALSE);super(f);this.anchor_=null;this.lastAngle_=void 0;this.rotating_=!1;this.rotationDelta_=0;this.threshold_=void 0!==n.threshold?n.threshold:.3;this.duration_=void 0!==n.duration?n.duration:250}handleDragEvent(n){var f=0,b=this.targetPointers[0],
c=this.targetPointers[1];b=Math.atan2(c.clientY-b.clientY,c.clientX-b.clientX);void 0!==this.lastAngle_&&(f=b-this.lastAngle_,this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0));this.lastAngle_=b;n=n.map;b=n.getView();if(b.getConstraints().rotation!==q.disable){c=n.getViewport().getBoundingClientRect();var e=(0,k.centroid)(this.targetPointers);e[0]-=c.left;e[1]-=c.top;this.anchor_=n.getCoordinateFromPixelInternal(e);this.rotating_&&(n.render(),
b.adjustRotationInternal(f,this.anchor_))}}handleUpEvent(n){return 2>this.targetPointers.length?(n.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(n){return 2<=this.targetPointers.length?(n=n.map,this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0):!1}}A.default=t};
shadow$provide[165]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:n})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((n=w(n))&&n.has(t))return n.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,
c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;n&&n.set(t,f);return f}(L(152)),p=L(69);class q extends k.default{constructor(t){const n=t=t?t:{};n.stopDown||(n.stopDown=p.FALSE);super(n);this.anchor_=null;this.duration_=void 0!==t.duration?t.duration:400;this.lastDistance_=void 0;this.lastScaleDelta_=1}handleDragEvent(t){let n=1;var f=this.targetPointers[0],b=this.targetPointers[1],c=f.clientX-b.clientX;f=f.clientY-b.clientY;
c=Math.sqrt(c*c+f*f);void 0!==this.lastDistance_&&(n=this.lastDistance_/c);this.lastDistance_=c;t=t.map;c=t.getView();1!=n&&(this.lastScaleDelta_=n);f=t.getViewport().getBoundingClientRect();b=(0,k.centroid)(this.targetPointers);b[0]-=f.left;b[1]-=f.top;this.anchor_=t.getCoordinateFromPixelInternal(b);t.render();c.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(t){return 2>this.targetPointers.length?(t.map.getView().endInteraction(this.duration_,1<this.lastScaleDelta_?1:-1),!1):!0}handleDownEvent(t){return 2<=
this.targetPointers.length?(t=t.map,this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0):!1}}A.default=q};
shadow$provide[166]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.defaults=function(h){h=h?h:{};const x=new k.default,O=new c.default(-.005,.05,100);(void 0!==h.altShiftDragRotate?h.altShiftDragRotate:1)&&x.push(new t.default);(void 0!==h.doubleClickZoom?h.doubleClickZoom:1)&&x.push(new p.default({delta:h.zoomDelta,duration:h.zoomDuration}));(void 0!==h.dragPan?h.dragPan:1)&&x.push(new q.default({onFocusOnly:h.onFocusOnly,
kinetic:O}));(void 0!==h.pinchRotate?h.pinchRotate:1)&&x.push(new g.default);(void 0!==h.pinchZoom?h.pinchZoom:1)&&x.push(new m.default({duration:h.zoomDuration}));if(void 0!==h.keyboard?h.keyboard:1)x.push(new f.default),x.push(new b.default({delta:h.zoomDelta,duration:h.zoomDuration}));(void 0!==h.mouseWheelZoom?h.mouseWheelZoom:1)&&x.push(new e.default({onFocusOnly:h.onFocusOnly,duration:h.zoomDuration}));(void 0!==h.shiftDragZoom?h.shiftDragZoom:1)&&x.push(new n.default({duration:h.zoomDuration}));
return x};var k=w(L(79)),p=w(L(151)),q=w(L(154)),t=w(L(155)),n=w(L(158)),f=w(L(160)),b=w(L(161)),c=w(L(162)),e=w(L(163)),g=w(L(164)),m=w(L(165))};
shadow$provide[167]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.buffer=function(w,k,p){void 0===p&&(p=[0,0]);p[0]=w[0]+2*k;p[1]=w[1]+2*k;return p};A.hasArea=function(w){return 0<w[0]&&0<w[1]};A.scale=function(w,k,p){void 0===p&&(p=[0,0]);p[0]=w[0]*k+.5|0;p[1]=w[1]*k+.5|0;return p};A.toSize=function(w,k){if(Array.isArray(w))return w;void 0===k?k=[w,w]:(k[0]=w,k[1]=w);return k}};
shadow$provide[168]=function(Ka,L,sb,A){function w(la){if("function"!==typeof WeakMap)return null;var Ja=new WeakMap,bb=new WeakMap;return(w=function(ib){return ib?bb:Ja})(la)}function k(la,Ja){if(!Ja&&la&&la.__esModule)return la;if(null===la||"object"!==typeof la&&"function"!==typeof la)return{default:la};if((Ja=w(Ja))&&Ja.has(la))return Ja.get(la);var bb={},ib=Object.defineProperty&&Object.getOwnPropertyDescriptor,Ma;for(Ma in la)if("default"!==Ma&&Object.prototype.hasOwnProperty.call(la,Ma)){var ma=
ib?Object.getOwnPropertyDescriptor(la,Ma):null;ma&&(ma.get||ma.set)?Object.defineProperty(bb,Ma,ma):bb[Ma]=la[Ma]}bb.default=la;Ja&&Ja.set(la,bb);return bb}function p(la){return la&&la.__esModule?la:{default:la}}function q(la){la instanceof g.default?la.setMapInternal(null):la instanceof m.default&&la.getLayers().forEach(q)}function t(la,Ja){if(la instanceof g.default)la.setMapInternal(Ja);else if(la instanceof m.default){la=la.getLayers().getArray();for(let bb=0,ib=la.length;bb<ib;++bb)t(la[bb],
Ja)}}function n(la){let Ja=null;void 0!==la.keyboardEventTarget&&(Ja="string"===typeof la.keyboardEventTarget?document.getElementById(la.keyboardEventTarget):la.keyboardEventTarget);const bb={},ib=la.layers&&"function"===typeof la.layers.getLayers?la.layers:new m.default({layers:la.layers});bb[F.default.LAYERGROUP]=ib;bb[F.default.TARGET]=la.target;bb[F.default.VIEW]=la.view instanceof R.default?la.view:new R.default;let Ma;void 0!==la.controls&&(Array.isArray(la.controls)?Ma=new f.default(la.controls.slice()):
((0,Y.assert)("function"===typeof la.controls.getArray,47),Ma=la.controls));let ma;void 0!==la.interactions&&(Array.isArray(la.interactions)?ma=new f.default(la.interactions.slice()):((0,Y.assert)("function"===typeof la.interactions.getArray,48),ma=la.interactions));void 0!==la.overlays?Array.isArray(la.overlays)?la=new f.default(la.overlays.slice()):((0,Y.assert)("function"===typeof la.overlays.getArray,49),la=la.overlays):la=new f.default;return{controls:Ma,interactions:ma,keyboardEventTarget:Ja,
overlays:la,values:bb}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=p(L(76));var f=p(L(79)),b=p(L(78)),c=p(L(99)),e=p(L(72)),g=p(L(91)),m=k(L(100)),h=p(L(102)),x=p(L(105)),O=p(L(103)),G=p(L(101)),I=p(L(106)),F=p(L(107)),C=p(L(66)),r=p(L(104)),y=p(L(90)),K=k(L(110)),R=p(L(143)),S=p(L(111)),ca=L(80),M=L(69),aa=L(82),Y=L(81),ea=L(84),Ga=L(148),X=L(166),D=L(121),B=L(75),N=L(167),Z=L(73),Aa=L(97);class qa extends Ka.default{constructor(la){super();la=la||{};const Ja=n(la);this.loaded_=
!0;this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this);this.maxTilesLoading_=void 0!==la.maxTilesLoading?la.maxTilesLoading:16;this.pixelRatio_=void 0!==la.pixelRatio?la.pixelRatio:ca.DEVICE_PIXEL_RATIO;this.animationDelay_=this.animationDelay_.bind(this);this.coordinateToPixelTransform_=(0,aa.create)();this.pixelToCoordinateTransform_=(0,aa.create)();this.frameIndex_=0;this.layerGroupPropertyListenerKeys_=this.viewChangeListenerKey_=this.viewPropertyListenerKey_=this.previousExtent_=
this.frameState_=null;this.viewport_=document.createElement("div");this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.overlayContainer_=document.createElement("div");this.overlayContainer_.style.position="absolute";this.overlayContainer_.style.zIndex="0";this.overlayContainer_.style.width="100%";this.overlayContainer_.style.height=
"100%";this.overlayContainer_.style.pointerEvents="none";this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("div");this.overlayContainerStopEvent_.style.position="absolute";this.overlayContainerStopEvent_.style.zIndex="0";this.overlayContainerStopEvent_.style.width="100%";this.overlayContainerStopEvent_.style.height="100%";this.overlayContainerStopEvent_.style.pointerEvents="none";this.overlayContainerStopEvent_.className=
"ol-overlaycontainer-stopevent";this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=null;this.moveTolerance_=la.moveTolerance;this.keyboardEventTarget_=Ja.keyboardEventTarget;this.targetChangeHandlerKeys_=null;this.controls=Ja.controls||(0,Ga.defaults)();this.interactions=Ja.interactions||(0,X.defaults)({onFocusOnly:!0});this.overlays_=Ja.overlays;this.overlayIdIndex_={};this.renderer_=null;this.postRenderFunctions_=[];this.tileQueue_=new K.default(this.getTilePriority.bind(this),
this.handleTileChange_.bind(this));this.addChangeListener(F.default.LAYERGROUP,this.handleLayerGroupChanged_);this.addChangeListener(F.default.VIEW,this.handleViewChanged_);this.addChangeListener(F.default.SIZE,this.handleSizeChanged_);this.addChangeListener(F.default.TARGET,this.handleTargetChanged_);this.setProperties(Ja.values);const bb=this;!la.view||la.view instanceof R.default||la.view.then(function(ib){bb.setView(new R.default(ib))});this.controls.addEventListener(b.default.ADD,function(ib){ib.element.setMap(this)}.bind(this));
this.controls.addEventListener(b.default.REMOVE,function(ib){ib.element.setMap(null)}.bind(this));this.interactions.addEventListener(b.default.ADD,function(ib){ib.element.setMap(this)}.bind(this));this.interactions.addEventListener(b.default.REMOVE,function(ib){ib.element.setMap(null)}.bind(this));this.overlays_.addEventListener(b.default.ADD,function(ib){this.addOverlayInternal_(ib.element)}.bind(this));this.overlays_.addEventListener(b.default.REMOVE,function(ib){const Ma=ib.element.getId();void 0!==
Ma&&delete this.overlayIdIndex_[Ma.toString()];ib.element.setMap(null)}.bind(this));this.controls.forEach(function(ib){ib.setMap(this)}.bind(this));this.interactions.forEach(function(ib){ib.setMap(this)}.bind(this));this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(la){this.getControls().push(la)}addInteraction(la){this.getInteractions().push(la)}addLayer(la){this.getLayerGroup().getLayers().push(la)}handleLayerAdd_(la){t(la.layer,this)}addOverlay(la){this.getOverlays().push(la)}addOverlayInternal_(la){const Ja=
la.getId();void 0!==Ja&&(this.overlayIdIndex_[Ja.toString()]=la);la.setMap(this)}disposeInternal(){this.controls.clear();this.interactions.clear();this.overlays_.clear();this.setTarget(null);super.disposeInternal()}forEachFeatureAtPixel(la,Ja,bb){if(this.frameState_&&this.renderer_)return la=this.getCoordinateFromPixelInternal(la),bb=void 0!==bb?bb:{},this.renderer_.forEachFeatureAtCoordinate(la,this.frameState_,void 0!==bb.hitTolerance?bb.hitTolerance:0,!1!==bb.checkWrapped,Ja,null,void 0!==bb.layerFilter?
bb.layerFilter:M.TRUE,null)}getFeaturesAtPixel(la,Ja){const bb=[];this.forEachFeatureAtPixel(la,function(ib){bb.push(ib)},Ja);return bb}getAllLayers(){function la(bb){bb.forEach(function(ib){ib instanceof m.default?la(ib.getLayers()):Ja.push(ib)})}const Ja=[];la(this.getLayers());return Ja}hasFeatureAtPixel(la,Ja){if(!this.frameState_||!this.renderer_)return!1;la=this.getCoordinateFromPixelInternal(la);Ja=void 0!==Ja?Ja:{};return this.renderer_.hasFeatureAtCoordinate(la,this.frameState_,void 0!==
Ja.hitTolerance?Ja.hitTolerance:0,!1!==Ja.checkWrapped,void 0!==Ja.layerFilter?Ja.layerFilter:M.TRUE,null)}getEventCoordinate(la){return this.getCoordinateFromPixel(this.getEventPixel(la))}getEventCoordinateInternal(la){return this.getCoordinateFromPixelInternal(this.getEventPixel(la))}getEventPixel(la){const Ja=this.viewport_.getBoundingClientRect();la="changedTouches"in la?la.changedTouches[0]:la;return[la.clientX-Ja.left,la.clientY-Ja.top]}getTarget(){return this.get(F.default.TARGET)}getTargetElement(){const la=
this.getTarget();return void 0!==la?"string"===typeof la?document.getElementById(la):la:null}getCoordinateFromPixel(la){return(0,D.toUserCoordinate)(this.getCoordinateFromPixelInternal(la),this.getView().getProjection())}getCoordinateFromPixelInternal(la){const Ja=this.frameState_;return Ja?(0,aa.apply)(Ja.pixelToCoordinateTransform,la.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(la){la=this.overlayIdIndex_[la.toString()];return void 0!==la?la:
null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(F.default.LAYERGROUP)}setLayers(la){var Ja=this.getLayerGroup();la instanceof f.default?Ja.setLayers(la):(Ja=Ja.getLayers(),Ja.clear(),Ja.extend(la))}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const la=this.getLayerGroup().getLayerStatesArray();for(let bb=0,ib=la.length;bb<ib;++bb){var Ja=la[bb];if(!Ja.visible)continue;const Ma=Ja.layer.getRenderer();if(Ma&&!Ma.ready||(Ja=Ja.layer.getSource())&&
Ja.loading)return!0}return!1}getPixelFromCoordinate(la){la=(0,D.fromUserCoordinate)(la,this.getView().getProjection());return this.getPixelFromCoordinateInternal(la)}getPixelFromCoordinateInternal(la){const Ja=this.frameState_;return Ja?(0,aa.apply)(Ja.coordinateToPixelTransform,la.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(F.default.SIZE)}getView(){return this.get(F.default.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const la=
this.getTargetElement();return la?la.ownerDocument:document}getTilePriority(la,Ja,bb,ib){return(0,K.getTilePriority)(this.frameState_,la,Ja,bb,ib)}handleBrowserEvent(la,Ja){Ja=Ja||la.type;la=new h.default(Ja,this,la);this.handleMapBrowserEvent(la)}handleMapBrowserEvent(la){if(this.frameState_){var Ja=la.originalEvent,bb=Ja.type;if(bb===r.default.POINTERDOWN||bb===e.default.WHEEL||bb===e.default.KEYDOWN){bb=this.getOwnerDocument();var ib=this.viewport_.getRootNode?this.viewport_.getRootNode():bb;Ja=
Ja.target;if(this.overlayContainerStopEvent_.contains(Ja)||!(ib===bb?bb.documentElement:ib).contains(Ja))return}la.frameState=this.frameState_;if(!1!==this.dispatchEvent(la))for(Ja=this.getInteractions().getArray().slice(),bb=Ja.length-1;0<=bb&&(ib=Ja[bb],ib.getMap()!==this||!ib.getActive()||!this.getTargetElement()||ib.handleEvent(la)&&!la.propagationStopped);bb--);}}handlePostRender(){const la=this.frameState_;var Ja=this.tileQueue_;if(!Ja.isEmpty()){let ib=this.maxTilesLoading_;var bb=ib;if(la){const Ma=
la.viewHints;if(Ma[S.default.ANIMATING]||Ma[S.default.INTERACTING])ib=(bb=8<Date.now()-la.time)?0:8,bb=bb?0:2}Ja.getTilesLoading()<ib&&(Ja.reprioritize(),Ja.loadMoreTiles(ib,bb))}la&&this.renderer_&&!la.animate&&(!0===this.renderComplete_?(this.hasListener(y.default.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(y.default.RENDERCOMPLETE,la),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new G.default(I.default.LOADEND,this,la)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new G.default(I.default.LOADSTART,
this,la))));Ja=this.postRenderFunctions_;for(let ib=0,Ma=Ja.length;ib<Ma;++ib)Ja[ib](this,la);Ja.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0);this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let bb=0,ib=this.targetChangeHandlerKeys_.length;bb<ib;++bb)(0,Z.unlistenByKey)(this.targetChangeHandlerKeys_[bb]);this.targetChangeHandlerKeys_=null;this.viewport_.removeEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_);
this.viewport_.removeEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_);this.mapBrowserEventHandler_.dispose();this.mapBrowserEventHandler_=null;(0,Aa.removeNode)(this.viewport_)}var la=this.getTargetElement();if(la){la.appendChild(this.viewport_);this.renderer_||(this.renderer_=new c.default(this));this.mapBrowserEventHandler_=new x.default(this,this.moveTolerance_);for(var Ja in O.default)this.mapBrowserEventHandler_.addEventListener(O.default[Ja],this.handleMapBrowserEvent.bind(this));
this.viewport_.addEventListener(e.default.CONTEXTMENU,this.boundHandleBrowserEvent_,!1);this.viewport_.addEventListener(e.default.WHEEL,this.boundHandleBrowserEvent_,ca.PASSIVE_EVENT_LISTENERS?{passive:!1}:!1);Ja=this.getOwnerDocument().defaultView;la=this.keyboardEventTarget_?this.keyboardEventTarget_:la;this.targetChangeHandlerKeys_=[(0,Z.listen)(la,e.default.KEYDOWN,this.handleBrowserEvent,this),(0,Z.listen)(la,e.default.KEYPRESS,this.handleBrowserEvent,this),(0,Z.listen)(Ja,e.default.RESIZE,this.updateSize,
this)]}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&((0,Z.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=
null);this.viewChangeListenerKey_&&((0,Z.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const la=this.getView();la&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=(0,Z.listen)(la,C.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,Z.listen)(la,e.default.CHANGE,this.handleViewPropertyChanged_,this),la.resolveConstraints(0));this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Z.unlistenByKey),
this.layerGroupPropertyListenerKeys_=null);const la=this.getLayerGroup();la&&(this.handleLayerAdd_(new m.GroupEvent("addlayer",la)),this.layerGroupPropertyListenerKeys_=[(0,Z.listen)(la,C.default.PROPERTYCHANGE,this.render,this),(0,Z.listen)(la,e.default.CHANGE,this.render,this),(0,Z.listen)(la,"addlayer",this.handleLayerAdd_,this),(0,Z.listen)(la,"removelayer",this.handleLayerRemove_,this)]);this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0;this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&
cancelAnimationFrame(this.animationDelayKey_);this.animationDelay_()}redrawText(){const la=this.getLayerGroup().getLayerStatesArray();for(let Ja=0,bb=la.length;Ja<bb;++Ja){const ib=la[Ja].layer;ib.hasRenderer()&&ib.getRenderer().handleFontsChanged()}}render(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(la){return this.getControls().remove(la)}removeInteraction(la){return this.getInteractions().remove(la)}removeLayer(la){return this.getLayerGroup().getLayers().remove(la)}handleLayerRemove_(la){q(la.layer)}removeOverlay(la){return this.getOverlays().remove(la)}renderFrame_(la){const Ja=
this.getSize();var bb=this.getView();const ib=this.frameState_;var Ma=null;void 0!==Ja&&(0,N.hasArea)(Ja)&&bb&&bb.isDef()&&(Ma=bb.getHints(this.frameState_?this.frameState_.viewHints:void 0),bb=bb.getState(),Ma={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:(0,ea.getForViewAndSize)(bb.center,bb.resolution,bb.rotation,Ja),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,
postRenderFunctions:[],size:Ja,tileQueue:this.tileQueue_,time:la,usedTiles:{},viewState:bb,viewHints:Ma,wantedTiles:{},mapId:(0,B.getUid)(this),renderTargets:{}},bb.nextCenter&&bb.nextResolution&&(la=isNaN(bb.nextRotation)?bb.rotation:bb.nextRotation,Ma.nextExtent=(0,ea.getForViewAndSize)(bb.nextCenter,bb.nextResolution,la,Ja)));this.frameState_=Ma;this.renderer_.renderFrame(Ma);Ma&&(Ma.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,Ma.postRenderFunctions),!ib||this.previousExtent_&&
((0,ea.isEmpty)(this.previousExtent_)||(0,ea.equals)(Ma.extent,this.previousExtent_))||(this.dispatchEvent(new G.default(I.default.MOVESTART,this,ib)),this.previousExtent_=(0,ea.createOrUpdateEmpty)(this.previousExtent_)),!this.previousExtent_||Ma.viewHints[S.default.ANIMATING]||Ma.viewHints[S.default.INTERACTING]||(0,ea.equals)(Ma.extent,this.previousExtent_)||(this.dispatchEvent(new G.default(I.default.MOVEEND,this,Ma)),(0,ea.clone)(Ma.extent,this.previousExtent_)));this.dispatchEvent(new G.default(I.default.POSTRENDER,
this,Ma));this.renderComplete_=this.hasListener(I.default.LOADSTART)||this.hasListener(I.default.LOADEND)||this.hasListener(y.default.RENDERCOMPLETE)?!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady():void 0;this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0;this.handlePostRender()},0))}setLayerGroup(la){const Ja=this.getLayerGroup();Ja&&this.handleLayerRemove_(new m.GroupEvent("removelayer",
Ja));this.set(F.default.LAYERGROUP,la)}setSize(la){this.set(F.default.SIZE,la)}setTarget(la){this.set(F.default.TARGET,la)}setView(la){if(!la||la instanceof R.default)this.set(F.default.VIEW,la);else{this.set(F.default.VIEW,new R.default);var Ja=this;la.then(function(bb){Ja.setView(new R.default(bb))})}}updateSize(){const la=this.getTargetElement();let Ja=void 0;if(la){var bb=getComputedStyle(la);const ib=la.offsetWidth-parseFloat(bb.borderLeftWidth)-parseFloat(bb.paddingLeft)-parseFloat(bb.paddingRight)-
parseFloat(bb.borderRightWidth);bb=la.offsetHeight-parseFloat(bb.borderTopWidth)-parseFloat(bb.paddingTop)-parseFloat(bb.paddingBottom)-parseFloat(bb.borderBottomWidth);isNaN(ib)||isNaN(bb)||(Ja=[ib,bb],!(0,N.hasArea)(Ja)&&(la.offsetWidth||la.offsetHeight||la.getClientRects().length)&&console.warn("No map visible because the map container's width or height are 0."))}this.setSize(Ja);this.updateViewportSize_()}updateViewportSize_(){const la=this.getView();if(la){let Ja=void 0;const bb=getComputedStyle(this.viewport_);
bb.width&&bb.height&&(Ja=[parseInt(bb.width,10),parseInt(bb.height,10)]);la.setViewportSize(Ja)}}}A.default=qa};
shadow$provide[169]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}function k(f){if("function"===typeof f)return f;let b;Array.isArray(f)?b=f:((0,q.assert)("function"===typeof f.getZIndex,41),b=[f]);return function(){return b}}Object.defineProperty(A,"__esModule",{value:!0});A.createStyleFunction=k;A.default=void 0;Ka=w(L(76));var p=w(L(72)),q=L(81),t=L(73);class n extends Ka.default{constructor(f){super();this.id_=void 0;this.geometryName_="geometry";this.style_=null;this.styleFunction_=
void 0;this.geometryChangeKey_=null;this.addChangeListener(this.geometryName_,this.handleGeometryChanged_);f&&("function"===typeof f.getSimplifiedGeometry?this.setGeometry(f):this.setProperties(f))}clone(){const f=new n(this.hasProperties()?this.getProperties():null);f.setGeometryName(this.getGeometryName());var b=this.getGeometry();b&&f.setGeometry(b.clone());(b=this.getStyle())&&f.setStyle(b);return f}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&
((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);const f=this.getGeometry();f&&(this.geometryChangeKey_=(0,t.listen)(f,p.default.CHANGE,this.handleGeometryChange_,this));this.changed()}setGeometry(f){this.set(this.geometryName_,f)}setStyle(f){this.styleFunction_=(this.style_=f)?k(f):void 0;this.changed()}setId(f){this.id_=f;this.changed()}setGeometryName(f){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_);this.geometryName_=f;this.addChangeListener(this.geometryName_,
this.handleGeometryChanged_);this.handleGeometryChanged_()}}A.default=n};
shadow$provide[170]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}function k(f){const b=[];for(let c=0,e=f.length;c<e;++c)b.push(f[c].clone());return b}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(72));Ka=w(L(127));var q=L(84),t=L(73);class n extends Ka.default{constructor(f){super();this.geometries_=f?f:null;this.changeEventsKeys_=[];this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(t.unlistenByKey);this.changeEventsKeys_.length=
0}listenGeometriesChange_(){if(this.geometries_)for(let f=0,b=this.geometries_.length;f<b;++f)this.changeEventsKeys_.push((0,t.listen)(this.geometries_[f],p.default.CHANGE,this.changed,this))}clone(){const f=new n(null);f.setGeometries(this.geometries_);f.applyProperties(this);return f}closestPointXY(f,b,c,e){if(e<(0,q.closestSquaredDistanceXY)(this.getExtent(),f,b))return e;const g=this.geometries_;for(let m=0,h=g.length;m<h;++m)e=g[m].closestPointXY(f,b,c,e);return e}containsXY(f,b){const c=this.geometries_;
for(let e=0,g=c.length;e<g;++e)if(c[e].containsXY(f,b))return!0;return!1}computeExtent(f){(0,q.createOrUpdateEmpty)(f);const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)(0,q.extend)(f,b[c].getExtent());return f}getGeometries(){return k(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let f=[];const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)b[c].getType()===this.getType()?f=f.concat(b[c].getGeometriesArrayRecursive()):f.push(b[c]);return f}getSimplifiedGeometry(f){this.simplifiedGeometryRevision!==
this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision());if(0>f||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&f<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const b=[],c=this.geometries_;let e=!1;for(let g=0,m=c.length;g<m;++g){const h=c[g],x=h.getSimplifiedGeometry(f);b.push(x);x!==h&&(e=!0)}if(e)return f=new n(null),f.setGeometriesArray(b),f;this.simplifiedGeometryMaxMinSquaredTolerance=f;return this}getType(){return"GeometryCollection"}intersectsExtent(f){const b=
this.geometries_;for(let c=0,e=b.length;c<e;++c)if(b[c].intersectsExtent(f))return!0;return!1}isEmpty(){return 0===this.geometries_.length}rotate(f,b){const c=this.geometries_;for(let e=0,g=c.length;e<g;++e)c[e].rotate(f,b);this.changed()}scale(f,b,c){c||(c=(0,q.getCenter)(this.getExtent()));const e=this.geometries_;for(let g=0,m=e.length;g<m;++g)e[g].scale(f,b,c);this.changed()}setGeometries(f){this.setGeometriesArray(k(f))}setGeometriesArray(f){this.unlistenGeometriesChange_();this.geometries_=
f;this.listenGeometriesChange_();this.changed()}applyTransform(f){const b=this.geometries_;for(let c=0,e=b.length;c<e;++c)b[c].applyTransform(f);this.changed()}translate(f,b){const c=this.geometries_;for(let e=0,g=c.length;e<g;++e)c[e].translate(f,b);this.changed()}disposeInternal(){this.unlistenGeometriesChange_();super.disposeInternal()}}A.default=n};
shadow$provide[171]=function(Ka,L,sb,A){function w(q,t,n,f,b,c){if(n==t)return null;if(b<q[t+f-1])return c?(n=q.slice(t,t+f),n[f-1]=b,n):null;if(q[n-1]<b)return c?(n=q.slice(n-f,n),n[f-1]=b,n):null;if(b==q[t+f-1])return q.slice(t,t+f);t/=f;for(n/=f;t<n;)c=t+n>>1,b<q[(c+1)*f-1]?n=c:t=c+1;n=q[t*f-1];if(b==n)return q.slice((t-1)*f,(t-1)*f+f);c=(b-n)/(q[(t+1)*f-1]-n);n=[];for(let e=0;e<f-1;++e)n.push((0,p.lerp)(q[(t-1)*f+e],q[t*f+e],c));n.push(b);return n}Object.defineProperty(A,"__esModule",{value:!0});
A.interpolatePoint=function(q,t,n,f,b,c,e){let g;var m=(n-t)/f;if(1===m)var h=t;else if(2===m)h=t,g=b;else if(0!==m){m=q[t];let x=q[t+1],O=0;h=[0];for(let G=t+f;G<n;G+=f){const I=q[G],F=q[G+1];O+=Math.sqrt((I-m)*(I-m)+(F-x)*(F-x));h.push(O);m=I;x=F}n=b*O;b=(0,k.binarySearch)(h,n);0>b?(g=(n-h[-b-2])/(h[-b-1]-h[-b-2]),h=t+(-b-2)*f):h=t+b*f}e=1<e?e:2;c=c?c:Array(e);for(t=0;t<e;++t)c[t]=void 0===h?NaN:void 0===g?q[h+t]:(0,p.lerp)(q[h+t],q[h+f+t],g);return c};A.lineStringCoordinateAtM=w;A.lineStringsCoordinateAtM=
function(q,t,n,f,b,c,e){if(e)return w(q,t,n[n.length-1],f,b,c);if(b<q[f-1])return c?(q=q.slice(0,f),q[f-1]=b,q):null;if(q[q.length-1]<b)return c?(q=q.slice(q.length-f),q[f-1]=b,q):null;for(let g=0,m=n.length;g<m;++g)if(c=n[g],t!=c){if(b<q[t+f-1])break;else if(b<=q[c-1])return w(q,t,c,f,b,!1);t=c}return null};var k=L(68),p=L(85)};
shadow$provide[172]=function(Ka,L,sb,A){function w(k,p,q,t){let n=k[p],f=k[p+1],b=0;for(p+=t;p<q;p+=t){const c=k[p],e=k[p+1];b+=Math.sqrt((c-n)*(c-n)+(e-f)*(e-f));n=c;f=e}return b}Object.defineProperty(A,"__esModule",{value:!0});A.lineStringLength=w;A.linearRingLength=function(k,p,q,t){let n=w(k,p,q,t);const f=k[q-t]-k[p];k=k[q-t+1]-k[p+1];return n+=Math.sqrt(f*f+k*k)}};
shadow$provide[173]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(128));var w=L(129),k=L(84),p=L(130),q=L(131),t=L(68),n=L(138),f=L(132),b=L(171),c=L(139),e=L(172);class g extends Ka.default{constructor(m,h){super();this.flatMidpoint_=null;this.maxDeltaRevision_=this.maxDelta_=this.flatMidpointRevision_=-1;void 0===h||Array.isArray(m[0])?this.setCoordinates(m,h):this.setFlatCoordinates(h,m)}appendCoordinate(m){this.flatCoordinates?
(0,t.extend)(this.flatCoordinates,m):this.flatCoordinates=m.slice();this.changed()}clone(){const m=new g(this.flatCoordinates.slice(),this.layout);m.applyProperties(this);return m}closestPointXY(m,h,x,O){if(O<(0,k.closestSquaredDistanceXY)(this.getExtent(),m,h))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,w.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,w.assignClosestPoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,m,h,x,O)}forEachSegment(m){return(0,n.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m)}getCoordinateAtM(m,h){return"XYM"!=this.layout&&"XYZM"!=this.layout?null:(0,b.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m,void 0!==h?h:!1)}getCoordinates(){return(0,f.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(m,h){return(0,b.interpolatePoint)(this.flatCoordinates,
0,this.flatCoordinates.length,this.stride,m,h,this.stride)}getLength(){return(0,e.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision());return this.flatMidpoint_}getSimplifiedGeometryInternal(m){const h=[];h.length=(0,q.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,
m,h,0);return new g(h,"XY")}getType(){return"LineString"}intersectsExtent(m){return(0,c.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,m)}setCoordinates(m,h){this.setLayout(h,m,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,p.deflateCoordinates)(this.flatCoordinates,0,m,this.stride);this.changed()}}A.default=g};
shadow$provide[174]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(173));Ka=w(L(128));var p=L(129),q=L(84),t=L(130),n=L(131),f=L(68),b=L(132),c=L(171),e=L(139);class g extends Ka.default{constructor(m,h,x){super();this.ends_=[];this.maxDeltaRevision_=this.maxDelta_=-1;if(Array.isArray(m[0]))this.setCoordinates(m,h);else if(void 0!==h&&x)this.setFlatCoordinates(h,m),this.ends_=x;else{h=this.getLayout();
x=[];const O=[];for(let G=0,I=m.length;G<I;++G){const F=m[G];0===G&&(h=F.getLayout());(0,f.extend)(x,F.getFlatCoordinates());O.push(x.length)}this.setFlatCoordinates(h,x);this.ends_=O}}appendLineString(m){this.flatCoordinates?(0,f.extend)(this.flatCoordinates,m.getFlatCoordinates().slice()):this.flatCoordinates=m.getFlatCoordinates().slice();this.ends_.push(this.flatCoordinates.length);this.changed()}clone(){const m=new g(this.flatCoordinates.slice(),this.layout,this.ends_.slice());m.applyProperties(this);
return m}closestPointXY(m,h,x,O){if(O<(0,q.closestSquaredDistanceXY)(this.getExtent(),m,h))return O;this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,p.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,p.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,m,h,x,O)}getCoordinateAtM(m,h,x){return"XYM"!=this.layout&&"XYZM"!=this.layout||0===this.flatCoordinates.length?
null:(0,c.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,m,void 0!==h?h:!1,void 0!==x?x:!1)}getCoordinates(){return(0,b.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(m){return 0>m||this.ends_.length<=m?null:new k.default(this.flatCoordinates.slice(0===m?0:this.ends_[m-1],this.ends_[m]),this.layout)}getLineStrings(){const m=this.flatCoordinates,h=this.ends_,x=this.layout,O=[];var G=0;for(let I=0,F=h.length;I<
F;++I){const C=h[I];G=new k.default(m.slice(G,C),x);O.push(G);G=C}return O}getFlatMidpoints(){const m=[],h=this.flatCoordinates;var x=0;const O=this.ends_,G=this.stride;for(let I=0,F=O.length;I<F;++I){const C=O[I];x=(0,c.interpolatePoint)(h,x,C,G,.5);(0,f.extend)(m,x);x=C}return m}getSimplifiedGeometryInternal(m){const h=[],x=[];h.length=(0,n.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,m,h,0,x);return new g(h,"XY",x)}getType(){return"MultiLineString"}intersectsExtent(m){return(0,e.intersectsLineStringArray)(this.flatCoordinates,
0,this.ends_,this.stride,m)}setCoordinates(m,h){this.setLayout(h,m,2);this.flatCoordinates||(this.flatCoordinates=[]);m=(0,t.deflateCoordinatesArray)(this.flatCoordinates,0,m,this.stride,this.ends_);this.flatCoordinates.length=0===m.length?0:m[m.length-1];this.changed()}}A.default=g};
shadow$provide[175]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(135));Ka=w(L(128));var p=L(84),q=L(130),t=L(68),n=L(132),f=L(85);class b extends Ka.default{constructor(c,e){super();e&&!Array.isArray(c[0])?this.setFlatCoordinates(e,c):this.setCoordinates(c,e)}appendPoint(c){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,c.getFlatCoordinates()):this.flatCoordinates=c.getFlatCoordinates().slice();
this.changed()}clone(){const c=new b(this.flatCoordinates.slice(),this.layout);c.applyProperties(this);return c}closestPointXY(c,e,g,m){if(m<(0,p.closestSquaredDistanceXY)(this.getExtent(),c,e))return m;const h=this.flatCoordinates,x=this.stride;for(let G=0,I=h.length;G<I;G+=x){var O=(0,f.squaredDistance)(c,e,h[G],h[G+1]);if(O<m){m=O;for(O=0;O<x;++O)g[O]=h[G+O];g.length=x}}return m}getCoordinates(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(c){const e=
this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>c||e<=c?null:new k.default(this.flatCoordinates.slice(c*this.stride,(c+1)*this.stride),this.layout)}getPoints(){const c=this.flatCoordinates,e=this.layout,g=this.stride,m=[];for(let h=0,x=c.length;h<x;h+=g){const O=new k.default(c.slice(h,h+g),e);m.push(O)}return m}getType(){return"MultiPoint"}intersectsExtent(c){const e=this.flatCoordinates,g=this.stride;for(let m=0,h=e.length;m<h;m+=g)if((0,p.containsXY)(c,e[m],e[m+1]))return!0;
return!1}setCoordinates(c,e){this.setLayout(e,c,1);this.flatCoordinates||(this.flatCoordinates=[]);this.flatCoordinates.length=(0,q.deflateCoordinates)(this.flatCoordinates,0,c,this.stride);this.changed()}}A.default=b};
shadow$provide[176]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.linearRingss=function(k,p,q,t){const n=[];(0,w.createEmpty)();for(let f=0,b=q.length;f<b;++f){const c=q[f];p=(0,w.createOrUpdateFromFlatCoordinates)(k,p,c[0],t);n.push((p[0]+p[2])/2,(p[1]+p[3])/2);p=c[c.length-1]}return n};var w=L(84)};
shadow$provide[177]=function(Ka,L,sb,A){function w(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(175)),p=w(L(142));Ka=w(L(128));var q=L(129),t=L(84),n=L(130),f=L(68),b=L(137),c=L(132),e=L(139),g=L(141),m=L(133),h=L(176),x=L(136),O=L(131);class G extends Ka.default{constructor(I,F,C){super();this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.orientedRevision_=this.maxDeltaRevision_=this.maxDelta_=
-1;this.orientedFlatCoordinates_=null;if(!C&&!Array.isArray(I[0])){F=this.getLayout();const r=I;I=[];C=[];for(let y=0,K=r.length;y<K;++y){const R=r[y];0===y&&(F=R.getLayout());const S=I.length,ca=R.getEnds();for(let M=0,aa=ca.length;M<aa;++M)ca[M]+=S;(0,f.extend)(I,R.getFlatCoordinates());C.push(ca)}}void 0!==F&&C?(this.setFlatCoordinates(F,I),this.endss_=C):this.setCoordinates(I,F)}appendPolygon(I){if(this.flatCoordinates){const F=this.flatCoordinates.length;(0,f.extend)(this.flatCoordinates,I.getFlatCoordinates());
I=I.getEnds().slice();for(let C=0,r=I.length;C<r;++C)I[C]+=F}else this.flatCoordinates=I.getFlatCoordinates().slice(),I=I.getEnds().slice(),this.endss_.push();this.endss_.push(I);this.changed()}clone(){var I=this.endss_.length;const F=Array(I);for(let C=0;C<I;++C)F[C]=this.endss_[C].slice();I=new G(this.flatCoordinates.slice(),this.layout,F);I.applyProperties(this);return I}closestPointXY(I,F,C,r){if(r<(0,t.closestSquaredDistanceXY)(this.getExtent(),I,F))return r;this.maxDeltaRevision_!=this.getRevision()&&
(this.maxDelta_=Math.sqrt((0,q.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision());return(0,q.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,I,F,C,r)}containsXY(I,F){return(0,x.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,I,F)}getArea(){return(0,m.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(I){let F;
void 0!==I?(F=this.getOrientedFlatCoordinates().slice(),(0,g.orientLinearRingsArray)(F,0,this.endss_,this.stride,I)):F=this.flatCoordinates;return(0,c.inflateMultiCoordinatesArray)(F,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const I=(0,h.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,b.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,
this.stride,I);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new k.default(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const I=this.flatCoordinates;(0,g.linearRingssAreOriented)(I,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=I:(this.orientedFlatCoordinates_=I.slice(),this.orientedFlatCoordinates_.length=(0,g.orientLinearRingsArray)(this.orientedFlatCoordinates_,
0,this.endss_,this.stride));this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(I){const F=[],C=[];F.length=(0,O.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(I),F,0,C);return new G(F,"XY",C)}getPolygon(I){if(0>I||this.endss_.length<=I)return null;if(0===I)var F=0;else F=this.endss_[I-1],F=F[F.length-1];I=this.endss_[I].slice();const C=I[I.length-1];if(0!==F)for(let r=0,y=I.length;r<y;++r)I[r]-=F;return new p.default(this.flatCoordinates.slice(F,
C),this.layout,I)}getPolygons(){const I=this.layout,F=this.flatCoordinates,C=this.endss_,r=[];var y=0;for(let K=0,R=C.length;K<R;++K){const S=C[K].slice(),ca=S[S.length-1];if(0!==y)for(let M=0,aa=S.length;M<aa;++M)S[M]-=y;y=new p.default(F.slice(y,ca),I,S);r.push(y);y=ca}return r}getType(){return"MultiPolygon"}intersectsExtent(I){return(0,e.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,I)}setCoordinates(I,F){this.setLayout(F,I,3);this.flatCoordinates||
(this.flatCoordinates=[]);I=(0,n.deflateMultiCoordinatesArray)(this.flatCoordinates,0,I,this.stride,this.endss_);0===I.length?this.flatCoordinates.length=0:(I=I[I.length-1],this.flatCoordinates.length=0===I.length?0:I[I.length-1]);this.changed()}}A.default=G};
shadow$provide[178]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.transformGeometryWithOptions=function(q,t,n){var f=n?(0,k.get)(n.featureProjection):null;const b=n?(0,k.get)(n.dataProjection):null;f=f&&b&&!(0,k.equivalent)(f,b)?(t?q.clone():q).transform(t?f:b,t?b:f):q;if(t&&n&&void 0!==n.decimals){const c=Math.pow(10,n.decimals);f===q&&(f=q.clone());f.applyTransform(function(e){for(let g=0,m=e.length;g<m;++g)e[g]=Math.round(e[g]*c)/c;return e})}return f};A.transformExtentWithOptions=
function(q,t){const n=t?(0,k.get)(t.featureProjection):null;t=t?(0,k.get)(t.dataProjection):null;return n&&t&&!(0,k.equivalent)(n,t)?(0,k.transformExtent)(q,t,n):q};A.default=void 0;var w=L(75),k=L(121);class p{constructor(){this.defaultFeatureProjection=this.dataProjection=void 0;this.supportedMediaTypes=null}getReadOptions(q,t){t&&(q=t.dataProjection?(0,k.get)(t.dataProjection):this.readProjection(q),t.extent&&q&&"tile-pixels"===q.getUnits()&&(q=(0,k.get)(q),q.setWorldExtent(t.extent)),t={dataProjection:q,
featureProjection:t.featureProjection});return this.adaptOptions(t)}adaptOptions(q){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},q)}getType(){return(0,w.abstract)()}readFeature(q,t){return(0,w.abstract)()}readFeatures(q,t){return(0,w.abstract)()}readGeometry(q,t){return(0,w.abstract)()}readProjection(q){return(0,w.abstract)()}writeFeature(q,t){return(0,w.abstract)()}writeFeatures(q,t){return(0,w.abstract)()}writeGeometry(q,t){return(0,w.abstract)()}}
A.default=p};
shadow$provide[179]=function(Ka,L,sb,A){function w(q){return"string"===typeof q?q:""}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(178));var k=L(75);class p extends Ka.default{constructor(){super()}getType(){return"text"}readFeature(q,t){return this.readFeatureFromText(w(q),this.adaptOptions(t))}readFeatureFromText(q,t){return(0,k.abstract)()}readFeatures(q,t){return this.readFeaturesFromText(w(q),this.adaptOptions(t))}readFeaturesFromText(q,
t){return(0,k.abstract)()}readGeometry(q,t){return this.readGeometryFromText(w(q),this.adaptOptions(t))}readGeometryFromText(q,t){return(0,k.abstract)()}readProjection(q){return this.readProjectionFromText(w(q))}readProjectionFromText(q){return this.dataProjection}writeFeature(q,t){return this.writeFeatureText(q,this.adaptOptions(t))}writeFeatureText(q,t){return(0,k.abstract)()}writeFeatures(q,t){return this.writeFeaturesText(q,this.adaptOptions(t))}writeFeaturesText(q,t){return(0,k.abstract)()}writeGeometry(q,
t){return this.writeGeometryText(q,this.adaptOptions(t))}writeGeometryText(q,t){return(0,k.abstract)()}}A.default=p};
shadow$provide[180]=function(Ka,L,sb,A){function w(r){return r&&r.__esModule?r:{default:r}}function k(r){r=r.getCoordinates();return 0===r.length?"":r.join(" ")}function p(r){r=r.getCoordinates();const y=[];for(let K=0,R=r.length;K<R;++K)y.push(r[K].join(" "));return y.join(",")}function q(r){const y=[];r=r.getLinearRings();for(let K=0,R=r.length;K<R;++K)y.push("("+p(r[K])+")");return y.join(",")}function t(r){var y=r.getType();const K=(0,C[y])(r);y=O[y];if("function"===typeof r.getFlatCoordinates){r=
r.getLayout();let R="";if("XYZ"===r||"XYZM"===r)R+="Z";if("XYM"===r||"XYZM"===r)R+="M";r=R;0<r.length&&(y+=" "+r)}return 0===K.length?y+" EMPTY":y+"("+K+")"}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var n=w(L(169)),f=w(L(170));Ka=w(L(173));sb=w(L(174));var b=w(L(175)),c=w(L(177)),e=w(L(135)),g=w(L(142)),m=w(L(179)),h=L(178);const x={POINT:e.default,LINESTRING:Ka.default,POLYGON:g.default,MULTIPOINT:b.default,MULTILINESTRING:sb.default,MULTIPOLYGON:c.default},O={Point:"POINT",
LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION",Circle:"CIRCLE"};class G{constructor(r){this.wkt=r;this.index_=-1}isAlpha_(r){return"a"<=r&&"z">=r||"A"<=r&&"Z">=r}isNumeric_(r,y){return"0"<=r&&"9">=r||"."==r&&!(void 0!==y&&y)}isWhiteSpace_(r){return" "==r||"\t"==r||"\r"==r||"\n"==r}nextChar_(){return this.wkt.charAt(++this.index_)}nextToken(){var r=this.nextChar_();const y=this.index_;
let K=r;if("("==r)r=2;else if(","==r)r=5;else if(")"==r)r=3;else if(this.isNumeric_(r)||"-"==r)r=4,K=this.readNumber_();else if(this.isAlpha_(r))r=1,K=this.readText_();else{if(this.isWhiteSpace_(r))return this.nextToken();if(""===r)r=6;else throw Error("Unexpected character: "+r);}return{position:y,value:K,type:r}}readNumber_(){let r;const y=this.index_;let K=!1,R=!1;do{if("."==r)K=!0;else if("e"==r||"E"==r)R=!0;r=this.nextChar_()}while(this.isNumeric_(r,K)||!R&&("e"==r||"E"==r)||R&&("-"==r||"+"==
r));return parseFloat(this.wkt.substring(y,this.index_--))}readText_(){let r;const y=this.index_;do r=this.nextChar_();while(this.isAlpha_(r));return this.wkt.substring(y,this.index_--).toUpperCase()}}class I{constructor(r){this.lexer_=r;this.token_={position:0,type:0};this.layout_="XY"}consume_(){this.token_=this.lexer_.nextToken()}isTokenType(r){return this.token_.type==r}match(r){(r=this.isTokenType(r))&&this.consume_();return r}parse(){this.consume_();return this.parseGeometry_()}parseGeometryLayout_(){let r=
"XY";var y=this.token_;this.isTokenType(1)&&(y=y.value,"Z"===y?r="XYZ":"M"===y?r="XYM":"ZM"===y&&(r="XYZM"),"XY"!==r&&this.consume_());return r}parseGeometryCollectionText_(){if(this.match(2)){const r=[];do r.push(this.parseGeometry_());while(this.match(5));if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePointText_(){if(this.match(2)){const r=this.parsePoint_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseLineStringText_(){if(this.match(2)){const r=
this.parsePointList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePolygonText_(){if(this.match(2)){const r=this.parseLineStringTextList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiPointText_(){if(this.match(2)){let r;r=2==this.token_.type?this.parsePointTextList_():this.parsePointList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiLineStringText_(){if(this.match(2)){const r=this.parseLineStringTextList_();
if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parseMultiPolygonText_(){if(this.match(2)){const r=this.parsePolygonTextList_();if(this.match(3))return r}throw Error(this.formatErrorMessage_());}parsePoint_(){const r=[],y=this.layout_.length;for(let K=0;K<y;++K){const R=this.token_;if(this.match(4))r.push(R.value);else break}if(r.length==y)return r;throw Error(this.formatErrorMessage_());}parsePointList_(){const r=[this.parsePoint_()];for(;this.match(5);)r.push(this.parsePoint_());
return r}parsePointTextList_(){const r=[this.parsePointText_()];for(;this.match(5);)r.push(this.parsePointText_());return r}parseLineStringTextList_(){const r=[this.parseLineStringText_()];for(;this.match(5);)r.push(this.parseLineStringText_());return r}parsePolygonTextList_(){const r=[this.parsePolygonText_()];for(;this.match(5);)r.push(this.parsePolygonText_());return r}isEmptyGeometry_(){const r=this.isTokenType(1)&&"EMPTY"==this.token_.value;r&&this.consume_();return r}formatErrorMessage_(){return"Unexpected `"+
this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}parseGeometry_(){var r=this.token_;if(this.match(1)){r=r.value;this.layout_=this.parseGeometryLayout_();const K=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==r){if(K)return new f.default([]);var y=this.parseGeometryCollectionText_();return new f.default(y)}const R=x[r];if(!R)throw Error("Invalid geometry type: "+r);if(K)y="POINT"==r?[NaN,NaN]:[];else switch(r){case "POINT":y=this.parsePointText_();break;case "LINESTRING":y=
this.parseLineStringText_();break;case "POLYGON":y=this.parsePolygonText_();break;case "MULTIPOINT":y=this.parseMultiPointText_();break;case "MULTILINESTRING":y=this.parseMultiLineStringText_();break;case "MULTIPOLYGON":y=this.parseMultiPolygonText_()}return new R(y,this.layout_)}throw Error(this.formatErrorMessage_());}}class F extends m.default{constructor(r){super();r=r?r:{};this.splitCollection_=void 0!==r.splitCollection?r.splitCollection:!1}parse_(r){r=new G(r);return(new I(r)).parse()}readFeatureFromText(r,
y){r=this.readGeometryFromText(r,y);y=new n.default;y.setGeometry(r);return y}readFeaturesFromText(r,y){r=this.readGeometryFromText(r,y);r=this.splitCollection_&&"GeometryCollection"==r.getType()?r.getGeometriesArray():[r];y=[];for(let K=0,R=r.length;K<R;++K){const S=new n.default;S.setGeometry(r[K]);y.push(S)}return y}readGeometryFromText(r,y){r=this.parse_(r);return(0,h.transformGeometryWithOptions)(r,!1,y)}writeFeatureText(r,y){return(r=r.getGeometry())?this.writeGeometryText(r,y):""}writeFeaturesText(r,
y){if(1==r.length)return this.writeFeatureText(r[0],y);const K=[];for(let R=0,S=r.length;R<S;++R)K.push(r[R].getGeometry());r=new f.default(K);return this.writeGeometryText(r,y)}writeGeometryText(r,y){return t((0,h.transformGeometryWithOptions)(r,!0,y))}}const C={Point:k,LineString:p,Polygon:q,MultiPoint:function(r){const y=[];r=r.getPoints();for(let K=0,R=r.length;K<R;++K)y.push("("+k(r[K])+")");return y.join(",")},MultiLineString:function(r){const y=[];r=r.getLineStrings();for(let K=0,R=r.length;K<
R;++K)y.push("("+p(r[K])+")");return y.join(",")},MultiPolygon:function(r){const y=[];r=r.getPolygons();for(let K=0,R=r.length;K<R;++K)y.push("("+q(r[K])+")");return y.join(",")},GeometryCollection:function(r){const y=[];r=r.getGeometries();for(let K=0,R=r.length;K<R;++K)y.push(t(r[K]));return y.join(",")}};A.default=F};
shadow$provide[181]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(81);class k{constructor(p){this.highWaterMark=void 0!==p?p:2048;this.count_=0;this.entries_={};this.newest_=this.oldest_=null}canExpireCache(){return 0<this.highWaterMark&&this.getCount()>this.highWaterMark}expireCache(p){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0;this.entries_={};this.newest_=this.oldest_=null}containsKey(p){return this.entries_.hasOwnProperty(p)}forEach(p){let q=
this.oldest_;for(;q;)p(q.value_,q.key_,this),q=q.newer}get(p,q){p=this.entries_[p];(0,w.assert)(void 0!==p,15);if(p===this.newest_)return p.value_;p===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(p.newer.older=p.older,p.older.newer=p.newer);p.newer=null;p.older=this.newest_;this.newest_=this.newest_.newer=p;return p.value_}remove(p){const q=this.entries_[p];(0,w.assert)(void 0!==q,15);if(q===this.newest_){if(this.newest_=q.older)this.newest_.newer=null}else if(q===this.oldest_){if(this.oldest_=
q.newer)this.oldest_.older=null}else q.newer.older=q.older,q.older.newer=q.newer;delete this.entries_[p];--this.count_;return q.value_}getCount(){return this.count_}getKeys(){const p=Array(this.count_);let q=0,t;for(t=this.newest_;t;t=t.older)p[q++]=t.key_;return p}getValues(){const p=Array(this.count_);let q=0,t;for(t=this.newest_;t;t=t.older)p[q++]=t.value_;return p}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(p){if(this.containsKey(p))return this.entries_[p].value_}pop(){const p=
this.oldest_;delete this.entries_[p.key_];p.newer&&(p.newer.older=null);this.oldest_=p.newer;this.oldest_||(this.newest_=null);--this.count_;return p.value_}replace(p,q){this.get(p);this.entries_[p].value_=q}set(p,q){(0,w.assert)(!(p in this.entries_),16);q={key_:p,newer:null,older:this.newest_,value_:q};this.newest_?this.newest_.newer=q:this.oldest_=q;this.newest_=q;this.entries_[p]=q;++this.count_}setSize(p){this.highWaterMark=p}}A.default=k};
shadow$provide[182]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=w(L(109)),q=L(75),t=L(125);class n extends Ka.default{constructor(f,b,c){super();c=c?c:{};this.tileCoord=f;this.state=b;this.interimTile=null;this.key="";this.transition_=void 0===c.transition?250:c.transition;this.transitionStarts_={};this.interpolate=!!c.interpolate}changed(){this.dispatchEvent(k.default.CHANGE)}release(){this.state===
p.default.ERROR&&this.setState(p.default.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getInterimTile(){if(!this.interimTile)return this;let f=this.interimTile;do{if(f.getState()==p.default.LOADED)return this.transition_=0,f;f=f.interimTile}while(f);return this}refreshInterimChain(){if(this.interimTile){var f=this.interimTile,b=this;do{if(f.getState()==p.default.LOADED){f.interimTile=null;break}else f.getState()==p.default.LOADING?b=f:f.getState()==p.default.IDLE?b.interimTile=f.interimTile:
b=f;f=b.interimTile}while(f)}}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(f){if(this.state!==p.default.ERROR&&this.state>f)throw Error("Tile load sequence violation");this.state=f;this.changed()}load(){(0,q.abstract)()}getAlpha(f,b){if(!this.transition_)return 1;let c=this.transitionStarts_[f];if(!c)c=b,this.transitionStarts_[f]=c;else if(-1===c)return 1;f=b-c+1E3/60;return f>=this.transition_?1:(0,t.easeIn)(f/this.transition_)}inTransition(f){return this.transition_?
-1!==this.transitionStarts_[f]:!1}endTransition(f){this.transition_&&(this.transitionStarts_[f]=-1)}}A.default=n};
shadow$provide[183]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=L(75);class q extends Ka.default{constructor(t,n,f,b){super();this.extent=t;this.pixelRatio_=f;this.resolution=n;this.state=b}changed(){this.dispatchEvent(k.default.CHANGE)}getExtent(){return this.extent}getImage(){return(0,p.abstract)()}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){(0,p.abstract)()}}
A.default=q};
shadow$provide[184]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}};
shadow$provide[185]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}function k(c,e,g){let m=!0,h=!1,x=!1;const O=[(0,f.listenOnce)(c,p.default.LOAD,function(){x=!0;h||e()})];c.src&&t.IMAGE_DECODE?(h=!0,c.decode().then(function(){m&&e()}).catch(function(G){m&&(x?e():g())})):O.push((0,f.listenOnce)(c,p.default.ERROR,g));return function(){m=!1;O.forEach(f.unlistenByKey)}}Object.defineProperty(A,"__esModule",{value:!0});A.listenImage=k;A.default=void 0;var p=w(L(72));Ka=w(L(183));
var q=w(L(184)),t=L(80),n=L(84),f=L(73);class b extends Ka.default{constructor(c,e,g,m,h,x){super(c,e,g,q.default.IDLE);this.src_=m;this.image_=new Image;null!==h&&(this.image_.crossOrigin=h);this.unlisten_=null;this.state=q.default.IDLE;this.imageLoadFunction_=x}getImage(){return this.image_}handleImageError_(){this.state=q.default.ERROR;this.unlistenImage_();this.changed()}handleImageLoad_(){void 0===this.resolution&&(this.resolution=(0,n.getHeight)(this.extent)/this.image_.height);this.state=q.default.LOADED;
this.unlistenImage_();this.changed()}load(){if(this.state==q.default.IDLE||this.state==q.default.ERROR)this.state=q.default.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=k(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}setImage(c){this.image_=c;this.resolution=(0,n.getHeight)(this.extent)/this.image_.height}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=b};
shadow$provide[186]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109)),p=L(97),q=L(185);class t extends Ka.default{constructor(n,f,b,c,e,g){super(n,f,g);this.crossOrigin_=c;this.key=this.src_=b;this.image_=new Image;null!==c&&(this.image_.crossOrigin=c);this.unlisten_=null;this.tileLoadFunction_=e}getImage(){return this.image_}setImage(n){this.image_=n;this.state=k.default.LOADED;this.unlistenImage_();
this.changed()}handleImageError_(){this.state=k.default.ERROR;this.unlistenImage_();const n=(0,p.createCanvasContext2D)(1,1);n.fillStyle="rgba(0,0,0,0)";n.fillRect(0,0,1,1);this.image_=n.canvas;this.changed()}handleImageLoad_(){const n=this.image_;this.state=n.naturalWidth&&n.naturalHeight?k.default.LOADED:k.default.EMPTY;this.unlistenImage_();this.changed()}load(){this.state==k.default.ERROR&&(this.state=k.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_));
this.state==k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=(0,q.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=t};
shadow$provide[187]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.ERROR_THRESHOLD=.5};
shadow$provide[188]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(84),k=L(121),p=L(85);class q{constructor(t,n,f,b,c,e){this.sourceProj_=t;this.targetProj_=n;let g={};const m=(0,k.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(I){const F=I[0]+"/"+I[1];g[F]||(g[F]=m(I));return g[F]};this.maxSourceExtent_=b;this.errorThresholdSquared_=c*c;this.triangles_=[];this.wrapsXInSource_=!1;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&
!!b&&!!this.sourceProj_.getExtent()&&(0,w.getWidth)(b)==(0,w.getWidth)(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,w.getWidth)(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?(0,w.getWidth)(this.targetProj_.getExtent()):null;t=(0,w.getTopLeft)(f);n=(0,w.getTopRight)(f);b=(0,w.getBottomRight)(f);c=(0,w.getBottomLeft)(f);const h=this.transformInv_(t),x=this.transformInv_(n),O=this.transformInv_(b),G=this.transformInv_(c);
f=10+(e?Math.max(0,Math.ceil(Math.log2((0,w.getArea)(f)/(e*e*65536)))):0);this.addQuad_(t,n,b,c,h,x,O,G,f);if(this.wrapsXInSource_){let I=Infinity;this.triangles_.forEach(function(F,C,r){I=Math.min(I,F.source[0][0],F.source[1][0],F.source[2][0])});this.triangles_.forEach(function(F){if(Math.max(F.source[0][0],F.source[1][0],F.source[2][0])-I>this.sourceWorldWidth_/2){const C=[[F.source[0][0],F.source[0][1]],[F.source[1][0],F.source[1][1]],[F.source[2][0],F.source[2][1]]];C[0][0]-I>this.sourceWorldWidth_/
2&&(C[0][0]-=this.sourceWorldWidth_);C[1][0]-I>this.sourceWorldWidth_/2&&(C[1][0]-=this.sourceWorldWidth_);C[2][0]-I>this.sourceWorldWidth_/2&&(C[2][0]-=this.sourceWorldWidth_);Math.max(C[0][0],C[1][0],C[2][0])-Math.min(C[0][0],C[1][0],C[2][0])<this.sourceWorldWidth_/2&&(F.source=C)}}.bind(this))}g={}}addTriangle_(t,n,f,b,c,e){this.triangles_.push({source:[b,c,e],target:[t,n,f]})}addQuad_(t,n,f,b,c,e,g,m,h){var x=(0,w.boundingExtent)([c,e,g,m]);const O=this.sourceWorldWidth_?(0,w.getWidth)(x)/this.sourceWorldWidth_:
null;var G=this.sourceWorldWidth_,I=this.sourceProj_.canWrapX()&&.5<O&&1>O,F=!1;if(0<h){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const C=(0,w.boundingExtent)([t,n,f,b]);F=.25<(0,w.getWidth)(C)/this.targetWorldWidth_||F}!I&&this.sourceProj_.isGlobal()&&O&&(F=.25<O||F)}if(F||!this.maxSourceExtent_||!(isFinite(x[0])&&isFinite(x[1])&&isFinite(x[2])&&isFinite(x[3]))||(0,w.intersects)(x,this.maxSourceExtent_)){x=0;if(!(F||isFinite(c[0])&&isFinite(c[1])&&isFinite(e[0])&&isFinite(e[1])&&isFinite(g[0])&&
isFinite(g[1])&&isFinite(m[0])&&isFinite(m[1])))if(0<h)F=!0;else if(x=(isFinite(c[0])&&isFinite(c[1])?0:8)+(isFinite(e[0])&&isFinite(e[1])?0:4)+(isFinite(g[0])&&isFinite(g[1])?0:2)+(isFinite(m[0])&&isFinite(m[1])?0:1),1!=x&&2!=x&&4!=x&&8!=x)return;if(0<h&&(F||(F=this.transformInv_([(t[0]+f[0])/2,(t[1]+f[1])/2]),G=I?((0,p.modulo)(c[0],G)+(0,p.modulo)(g[0],G))/2-(0,p.modulo)(F[0],G):(c[0]+g[0])/2-F[0],F=(c[1]+g[1])/2-F[1],F=G*G+F*F>this.errorThresholdSquared_),F)){Math.abs(t[0]-f[0])<=Math.abs(t[1]-
f[1])?(I=[(n[0]+f[0])/2,(n[1]+f[1])/2],G=this.transformInv_(I),F=[(b[0]+t[0])/2,(b[1]+t[1])/2],x=this.transformInv_(F),this.addQuad_(t,n,I,F,c,e,G,x,h-1),this.addQuad_(F,I,f,b,x,G,g,m,h-1)):(I=[(t[0]+n[0])/2,(t[1]+n[1])/2],G=this.transformInv_(I),F=[(f[0]+b[0])/2,(f[1]+b[1])/2],x=this.transformInv_(F),this.addQuad_(t,I,F,b,c,G,x,m,h-1),this.addQuad_(I,n,f,F,G,e,g,x,h-1));return}if(I){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(x&11)&&this.addTriangle_(t,f,b,c,g,m);0==(x&14)&&this.addTriangle_(t,
f,n,c,g,e);x&&(0==(x&13)&&this.addTriangle_(n,b,t,e,m,c),0==(x&7)&&this.addTriangle_(n,b,f,e,m,g))}}calculateSourceExtent(){const t=(0,w.createEmpty)();this.triangles_.forEach(function(n,f,b){n=n.source;(0,w.extendCoordinate)(t,n[0]);(0,w.extendCoordinate)(t,n[1]);(0,w.extendCoordinate)(t,n[2])});return t}getTriangles(){return this.triangles_}}A.default=q};
shadow$provide[189]=function(Ka,L,sb,A){function w(e,g,m,h,x){e.beginPath();e.moveTo(0,0);e.lineTo(g,m);e.lineTo(h,x);e.closePath();e.save();e.clip();e.fillRect(0,0,Math.max(g,h)+1,Math.max(m,x));e.restore()}function k(e,g){return 2<Math.abs(e[4*g]-210)||2<Math.abs(e[4*g+3]-191.25)}function p(e,g,m,h){const x=(0,n.transform)(m,g,e);m=(0,n.getPointResolution)(g,h,m);g=g.getMetersPerUnit();void 0!==g&&(m*=g);g=e.getMetersPerUnit();void 0!==g&&(m/=g);g=e.getExtent();if(!g||(0,q.containsCoordinate)(g,
x))e=(0,n.getPointResolution)(e,m,x)/m,isFinite(e)&&0<e&&(m/=e);return m}Object.defineProperty(A,"__esModule",{value:!0});A.calculateSourceResolution=p;A.calculateSourceExtentResolution=function(e,g,m,h){const x=(0,q.getCenter)(m);let O=p(e,g,x,h);(!isFinite(O)||0>=O)&&(0,q.forEachCorner)(m,function(G){O=p(e,g,G,h);return isFinite(O)&&0<O});return O};A.render=function(e,g,m,h,x,O,G,I,F,C,r,y){function K(Y){return Math.round(Y*m)/m}const R=(0,t.createCanvasContext2D)(Math.round(m*e),Math.round(m*g),
c);y||(R.imageSmoothingEnabled=!1);if(0===F.length)return R.canvas;R.scale(m,m);R.globalCompositeOperation="lighter";const S=(0,q.createEmpty)();F.forEach(function(Y,ea,Ga){(0,q.extend)(S,Y.extent)});e=(0,q.getWidth)(S);g=(0,q.getHeight)(S);const ca=(0,t.createCanvasContext2D)(Math.round(m*e/h),Math.round(m*g/h));y||(ca.imageSmoothingEnabled=!1);const M=m/h;F.forEach(function(Y,ea,Ga){ea=Y.extent[0]-S[0];Ga=-(Y.extent[3]-S[3]);const X=(0,q.getWidth)(Y.extent),D=(0,q.getHeight)(Y.extent);0<Y.image.width&&
0<Y.image.height&&ca.drawImage(Y.image,C,C,Y.image.width-2*C,Y.image.height-2*C,ea*M,Ga*M,X*M,D*M)});const aa=(0,q.getTopLeft)(G);I.getTriangles().forEach(function(Y,ea,Ga){Ga=Y.source;var X=Y.target;Y=Ga[0][0];ea=Ga[0][1];var D=Ga[1][0],B=Ga[1][1],N=Ga[2][0],Z=Ga[2][1];Ga=K((X[0][0]-aa[0])/O);const Aa=K(-(X[0][1]-aa[1])/O),qa=K((X[1][0]-aa[0])/O),la=K(-(X[1][1]-aa[1])/O),Ja=K((X[2][0]-aa[0])/O);X=K(-(X[2][1]-aa[1])/O);D-=Y;B-=ea;N-=Y;Z-=ea;if(D=(0,f.solveLinearSystem)([[D,B,0,0,qa-Ga],[N,Z,0,0,Ja-
Ga],[0,0,D,B,la-Aa],[0,0,N,Z,X-Aa]])){R.save();R.beginPath();void 0===b&&(B=document.createElement("canvas").getContext("2d"),B.globalCompositeOperation="lighter",B.fillStyle="rgba(210, 0, 0, 0.75)",w(B,4,5,4,0),w(B,4,5,0,5),B=B.getImageData(0,0,3,3).data,b=k(B,0)||k(B,4)||k(B,8));if(b||!y)for(R.moveTo(qa,la),B=Ga-qa,N=Aa-la,Z=0;4>Z;Z++)R.lineTo(qa+K((Z+1)*B/4),la+K(Z*N/3)),3!=Z&&R.lineTo(qa+K((Z+1)*B/4),la+K((Z+1)*N/3));else R.moveTo(qa,la),R.lineTo(Ga,Aa);R.lineTo(Ja,X);R.clip();R.transform(D[0],
D[2],D[1],D[3],Ga,Aa);R.translate(S[0]-Y,S[3]-ea);R.scale(h/m,-h/m);R.drawImage(ca.canvas,0,0);R.restore()}});r&&(R.save(),R.globalCompositeOperation="source-over",R.strokeStyle="black",R.lineWidth=1,I.getTriangles().forEach(function(Y,ea,Ga){var X=Y.target;Y=(X[0][0]-aa[0])/O;ea=-(X[0][1]-aa[1])/O;Ga=(X[1][0]-aa[0])/O;const D=-(X[1][1]-aa[1])/O,B=(X[2][0]-aa[0])/O;X=-(X[2][1]-aa[1])/O;R.beginPath();R.moveTo(Ga,D);R.lineTo(Y,ea);R.lineTo(B,X);R.closePath();R.stroke()}),R.restore());return R.canvas};
A.canvasPool=void 0;var q=L(84),t=L(97),n=L(121),f=L(85);let b;const c=[];A.canvasPool=c};
shadow$provide[190]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=L(187),p=w(L(72));Ka=w(L(182));var q=w(L(109)),t=w(L(188)),n=L(189),f=L(85),b=L(84),c=L(73),e=L(97);class g extends Ka.default{constructor(m,h,x,O,G,I,F,C,r,y,K,R){super(G,q.default.IDLE,{interpolate:!!R});this.renderEdges_=void 0!==K?K:!1;this.pixelRatio_=F;this.gutter_=C;this.canvas_=null;this.sourceTileGrid_=h;this.targetTileGrid_=O;
this.wrappedTileCoord_=I?I:G;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;I=O.getTileCoordExtent(this.wrappedTileCoord_);C=this.targetTileGrid_.getExtent();G=this.sourceTileGrid_.getExtent();I=C?(0,b.getIntersection)(I,C):I;if(0===(0,b.getArea)(I))this.state=q.default.EMPTY;else if((C=m.getExtent())&&(G=G?(0,b.getIntersection)(G,C):C),O=O.getResolution(this.wrappedTileCoord_[0]),C=(0,n.calculateSourceExtentResolution)(m,x,I,O),!isFinite(C)||0>=C)this.state=q.default.EMPTY;else if(this.triangulation_=
new t.default(m,x,I,G,C*(void 0!==y?y:k.ERROR_THRESHOLD),O),0===this.triangulation_.getTriangles().length)this.state=q.default.EMPTY;else if(this.sourceZ_=h.getZForResolution(C),x=this.triangulation_.calculateSourceExtent(),G&&(m.canWrapX()?(x[1]=(0,f.clamp)(x[1],G[1],G[3]),x[3]=(0,f.clamp)(x[3],G[1],G[3])):x=(0,b.getIntersection)(x,G)),(0,b.getArea)(x)){m=h.getTileRangeForExtentAndZ(x,this.sourceZ_);for(h=m.minX;h<=m.maxX;h++)for(x=m.minY;x<=m.maxY;x++)(y=r(this.sourceZ_,h,x,F))&&this.sourceTiles_.push(y);
0===this.sourceTiles_.length&&(this.state=q.default.EMPTY)}else this.state=q.default.EMPTY}getImage(){return this.canvas_}reproject_(){const m=[];this.sourceTiles_.forEach(function(O,G,I){O&&O.getState()==q.default.LOADED&&m.push({extent:this.sourceTileGrid_.getTileCoordExtent(O.tileCoord),image:O.getImage()})}.bind(this));this.sourceTiles_.length=0;if(0===m.length)this.state=q.default.ERROR;else{var h=this.wrappedTileCoord_[0],x=this.targetTileGrid_.getTileSize(h);const O="number"===typeof x?x:x[0];
x="number"===typeof x?x:x[1];h=this.targetTileGrid_.getResolution(h);const G=this.sourceTileGrid_.getResolution(this.sourceZ_),I=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=(0,n.render)(O,x,this.pixelRatio_,G,this.sourceTileGrid_.getExtent(),h,I,this.triangulation_,m,this.gutter_,this.renderEdges_,this.interpolate);this.state=q.default.LOADED}this.changed()}load(){if(this.state==q.default.IDLE){this.state=q.default.LOADING;this.changed();let m=0;this.sourcesListenerKeys_=
[];this.sourceTiles_.forEach(function(h,x,O){x=h.getState();if(x==q.default.IDLE||x==q.default.LOADING){m++;const G=(0,c.listen)(h,p.default.CHANGE,function(I){I=h.getState();if(I==q.default.LOADED||I==q.default.ERROR||I==q.default.EMPTY)(0,c.unlistenByKey)(G),m--,0===m&&(this.unlistenSources_(),this.reproject_())},this);this.sourcesListenerKeys_.push(G)}}.bind(this));0===m?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function(h,x,O){h.getState()==q.default.IDLE&&h.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(c.unlistenByKey);
this.sourcesListenerKeys_=null}release(){this.canvas_&&((0,e.releaseCanvas)(this.canvas_.getContext("2d")),n.canvasPool.push(this.canvas_),this.canvas_=null);super.release()}}A.default=g};
shadow$provide[191]=function(Ka,L,sb,A){function w(k,p,q){return k+"/"+p+"/"+q}Object.defineProperty(A,"__esModule",{value:!0});A.createOrUpdate=function(k,p,q,t){return void 0!==t?(t[0]=k,t[1]=p,t[2]=q,t):[k,p,q]};A.getKeyZXY=w;A.getKey=function(k){return w(k[0],k[1],k[2])};A.getCacheKeyForTileKey=function(k){const [p,q,t]=k.substring(k.lastIndexOf("/")+1,k.length).split(",").map(Number);return w(p,q,t)};A.fromKey=function(k){return k.split("/").map(Number)};A.hash=function(k){return(k[1]<<k[0])+
k[2]};A.withinExtentAndZ=function(k,p){const q=k[0],t=k[1];k=k[2];return p.getMinZoom()>q||q>p.getMaxZoom()?!1:(p=p.getFullTileRange(q))?p.containsXY(t,k):!0}};
shadow$provide[192]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(181));var w=L(191);class k extends Ka.default{clear(){for(;0<this.getCount();)this.pop().release();super.clear()}expireCache(p){for(;this.canExpireCache()&&!(this.peekLast().getKey()in p);)this.pop().release()}pruneExceptNewestZ(){if(0!==this.getCount()){var p=this.peekFirstKey(),q=(0,w.fromKey)(p)[0];this.forEach(function(t){t.tileCoord[0]!==
q&&(this.remove((0,w.getKey)(t.tileCoord)),t.release())}.bind(this))}}}A.default=k};
shadow$provide[193]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}};
shadow$provide[194]=function(Ka,L,sb,A){function w(t){return t?Array.isArray(t)?function(n){return t}:"function"===typeof t?t:function(n){return[t]}:null}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(76));var k=L(75),p=L(121);class q extends Ka.default{constructor(t){super();this.projection=(0,p.get)(t.projection);this.attributions_=w(t.attributions);this.attributionsCollapsible_=void 0!==t.attributionsCollapsible?t.attributionsCollapsible:
!0;this.loading=!1;this.state_=void 0!==t.state?t.state:"ready";this.wrapX_=void 0!==t.wrapX?t.wrapX:!1;this.interpolate_=!!t.interpolate;this.viewRejector=this.viewResolver=null;const n=this;this.viewPromise_=new Promise(function(f,b){n.viewResolver=f;n.viewRejector=b})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(){return(0,k.abstract)()}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=
w(t);this.changed()}setState(t){this.state_=t;this.changed()}}A.default=q};
shadow$provide[195]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createOrUpdate=function(k,p,q,t,n){return void 0!==n?(n.minX=k,n.maxX=p,n.minY=q,n.maxY=t,n):new w(k,p,q,t)};A.default=void 0;class w{constructor(k,p,q,t){this.minX=k;this.maxX=p;this.minY=q;this.maxY=t}contains(k){return this.containsXY(k[1],k[2])}containsTileRange(k){return this.minX<=k.minX&&k.maxX<=this.maxX&&this.minY<=k.minY&&k.maxY<=this.maxY}containsXY(k,p){return this.minX<=k&&k<=this.maxX&&this.minY<=
p&&p<=this.maxY}equals(k){return this.minX==k.minX&&this.minY==k.minY&&this.maxX==k.maxX&&this.maxY==k.maxY}extend(k){k.minX<this.minX&&(this.minX=k.minX);k.maxX>this.maxX&&(this.maxX=k.maxX);k.minY<this.minY&&(this.minY=k.minY);k.maxY>this.maxY&&(this.maxY=k.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(k){return this.minX<=k.maxX&&this.maxX>=k.minX&&this.minY<=k.maxY&&this.maxY>=k.minY}}A.default=
w};
shadow$provide[196]=function(Ka,L,sb,A){function w(h){if("function"!==typeof WeakMap)return null;var x=new WeakMap,O=new WeakMap;return(w=function(G){return G?O:x})(h)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=function(h,x){if(!x&&h&&h.__esModule)return h;if(null===h||"object"!==typeof h&&"function"!==typeof h)return{default:h};if((x=w(x))&&x.has(h))return x.get(h);var O={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor,I;for(I in h)if("default"!==I&&Object.prototype.hasOwnProperty.call(h,
I)){var F=G?Object.getOwnPropertyDescriptor(h,I):null;F&&(F.get||F.set)?Object.defineProperty(O,I,F):O[I]=h[I]}O.default=h;x&&x.set(h,O);return O}(L(195)),p=L(113),q=L(81),t=L(85),n=L(84),f=L(191),b=L(139),c=L(68),e=L(167);const g=[0,0,0];class m{constructor(h){this.minZoom=void 0!==h.minZoom?h.minZoom:0;this.resolutions_=h.resolutions;(0,q.assert)((0,c.isSorted)(this.resolutions_,function(G,I){return I-G},!0),17);let x;if(!h.origins)for(let G=0,I=this.resolutions_.length-1;G<I;++G)if(!x)x=this.resolutions_[G]/
this.resolutions_[G+1];else if(this.resolutions_[G]/this.resolutions_[G+1]!==x){x=void 0;break}this.zoomFactor_=x;this.maxZoom=this.resolutions_.length-1;this.origin_=void 0!==h.origin?h.origin:null;this.origins_=null;void 0!==h.origins&&(this.origins_=h.origins,(0,q.assert)(this.origins_.length==this.resolutions_.length,20));const O=h.extent;void 0===O||this.origin_||this.origins_||(this.origin_=(0,n.getTopLeft)(O));(0,q.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=
null;void 0!==h.tileSizes&&(this.tileSizes_=h.tileSizes,(0,q.assert)(this.tileSizes_.length==this.resolutions_.length,19));this.tileSize_=void 0!==h.tileSize?h.tileSize:this.tileSizes_?null:p.DEFAULT_TILE_SIZE;(0,q.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=void 0!==O?O:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];this.tmpExtent_=[0,0,0,0];void 0!==h.sizes?this.fullTileRanges_=h.sizes.map(function(G,I){G=new k.default(Math.min(0,G[0]),Math.max(G[0]-
1,-1),Math.min(0,G[1]),Math.max(G[1]-1,-1));O&&(I=this.getTileRangeForExtentAndZ(O,I),G.minX=Math.max(I.minX,G.minX),G.maxX=Math.min(I.maxX,G.maxX),G.minY=Math.max(I.minY,G.minY),G.maxY=Math.min(I.maxY,G.maxY));return G},this):O&&this.calculateTileRanges_(O)}forEachTileCoord(h,x,O){h=this.getTileRangeForExtentAndZ(h,x);for(let G=h.minX,I=h.maxX;G<=I;++G)for(let F=h.minY,C=h.maxY;F<=C;++F)O([x,G,F])}forEachTileCoordParentTileRange(h,x,O,G){let I,F,C=null,r=h[0]-1;2===this.zoomFactor_?(I=h[1],F=h[2]):
C=this.getTileCoordExtent(h,G);for(;r>=this.minZoom;){2===this.zoomFactor_?(I=Math.floor(I/2),F=Math.floor(F/2),h=(0,k.createOrUpdate)(I,I,F,F,O)):h=this.getTileRangeForExtentAndZ(C,r,O);if(x(r,h))return!0;--r}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(h){return this.origin_?this.origin_:this.origins_[h]}getResolution(h){return this.resolutions_[h]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(h,x,O){if(h[0]<
this.maxZoom){if(2===this.zoomFactor_)return O=2*h[1],h=2*h[2],(0,k.createOrUpdate)(O,O+1,h,h+1,x);O=this.getTileCoordExtent(h,O||this.tmpExtent_);return this.getTileRangeForExtentAndZ(O,h[0]+1,x)}return null}getTileRangeForTileCoordAndZ(h,x,O){if(x>this.maxZoom||x<this.minZoom)return null;var G=h[0];const I=h[1],F=h[2];if(x===G)return(0,k.createOrUpdate)(I,F,I,F,O);if(this.zoomFactor_){h=Math.pow(this.zoomFactor_,x-G);const C=Math.floor(I*h),r=Math.floor(F*h);return x<G?(0,k.createOrUpdate)(C,C,
r,r,O):(0,k.createOrUpdate)(C,Math.floor(h*(I+1))-1,r,Math.floor(h*(F+1))-1,O)}G=this.getTileCoordExtent(h,this.tmpExtent_);return this.getTileRangeForExtentAndZ(G,x,O)}getTileRangeExtent(h,x,O){const G=this.getOrigin(h),I=this.getResolution(h);h=(0,e.toSize)(this.getTileSize(h),this.tmpSize_);return(0,n.createOrUpdate)(G[0]+x.minX*h[0]*I,G[1]+x.minY*h[1]*I,G[0]+(x.maxX+1)*h[0]*I,G[1]+(x.maxY+1)*h[1]*I,O)}getTileRangeForExtentAndZ(h,x,O){this.getTileCoordForXYAndZ_(h[0],h[3],x,!1,g);const G=g[1],
I=g[2];this.getTileCoordForXYAndZ_(h[2],h[1],x,!0,g);return(0,k.createOrUpdate)(G,g[1],I,g[2],O)}getTileCoordCenter(h){const x=this.getOrigin(h[0]),O=this.getResolution(h[0]),G=(0,e.toSize)(this.getTileSize(h[0]),this.tmpSize_);return[x[0]+(h[1]+.5)*G[0]*O,x[1]-(h[2]+.5)*G[1]*O]}getTileCoordExtent(h,x){const O=this.getOrigin(h[0]),G=this.getResolution(h[0]),I=(0,e.toSize)(this.getTileSize(h[0]),this.tmpSize_),F=O[0]+h[1]*I[0]*G;h=O[1]-(h[2]+1)*I[1]*G;return(0,n.createOrUpdate)(F,h,F+I[0]*G,h+I[1]*
G,x)}getTileCoordForCoordAndResolution(h,x,O){return this.getTileCoordForXYAndResolution_(h[0],h[1],x,!1,O)}getTileCoordForXYAndResolution_(h,x,O,G,I){const F=this.getZForResolution(O),C=O/this.getResolution(F),r=this.getOrigin(F),y=(0,e.toSize)(this.getTileSize(F),this.tmpSize_);h=C*(h-r[0])/O/y[0];x=C*(r[1]-x)/O/y[1];G?(h=(0,t.ceil)(h,5)-1,x=(0,t.ceil)(x,5)-1):(h=(0,t.floor)(h,5),x=(0,t.floor)(x,5));return(0,f.createOrUpdate)(F,h,x,I)}getTileCoordForXYAndZ_(h,x,O,G,I){const F=this.getOrigin(O),
C=this.getResolution(O),r=(0,e.toSize)(this.getTileSize(O),this.tmpSize_);h=(h-F[0])/C/r[0];x=(F[1]-x)/C/r[1];G?(h=(0,t.ceil)(h,5)-1,x=(0,t.ceil)(x,5)-1):(h=(0,t.floor)(h,5),x=(0,t.floor)(x,5));return(0,f.createOrUpdate)(O,h,x,I)}getTileCoordForCoordAndZ(h,x,O){return this.getTileCoordForXYAndZ_(h[0],h[1],x,!1,O)}getTileCoordResolution(h){return this.resolutions_[h[0]]}getTileSize(h){return this.tileSize_?this.tileSize_:this.tileSizes_[h]}getFullTileRange(h){return this.fullTileRanges_?this.fullTileRanges_[h]:
this.extent_?this.getTileRangeForExtentAndZ(this.extent_,h):null}getZForResolution(h,x){h=(0,c.linearFindNearest)(this.resolutions_,h,x||0);return(0,t.clamp)(h,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(h,x){return(0,b.intersectsLinearRing)(x,0,x.length,2,this.getTileCoordExtent(h))}calculateTileRanges_(h){const x=this.resolutions_.length,O=Array(x);for(let G=this.minZoom;G<x;++G)O[G]=this.getTileRangeForExtentAndZ(h,G);this.fullTileRanges_=O}}A.default=m};
shadow$provide[197]=function(Ka,L,sb,A){function w(e,g,m,h){h=void 0!==h?h:"top-left";g=k(e,g,m);return new t.default({extent:e,origin:(0,b.getCorner)(e,h),resolutions:g,tileSize:m})}function k(e,g,m,h){g=void 0!==g?g:n.DEFAULT_MAX_ZOOM;m=(0,c.toSize)(void 0!==m?m:n.DEFAULT_TILE_SIZE);var x=(0,b.getHeight)(e);e=(0,b.getWidth)(e);h=0<h?h:Math.max(e/m[0],x/m[1]);g+=1;m=Array(g);for(x=0;x<g;++x)m[x]=h/Math.pow(2,x);return m}function p(e,g,m,h){e=q(e);return w(e,g,m,h)}function q(e){e=(0,f.get)(e);let g=
e.getExtent();g||(e=180*f.METERS_PER_UNIT.degrees/e.getMetersPerUnit(),g=(0,b.createOrUpdate)(-e,-e,e,e));return g}Object.defineProperty(A,"__esModule",{value:!0});A.getForProjection=function(e){let g=e.getDefaultTileGrid();g||(g=p(e),e.setDefaultTileGrid(g));return g};A.wrapX=function(e,g,m){const h=g[0],x=e.getTileCoordCenter(g);m=q(m);if((0,b.containsCoordinate)(m,x))return g;g=(0,b.getWidth)(m);x[0]+=g*Math.ceil((m[0]-x[0])/g);return e.getTileCoordForCoordAndZ(x,h)};A.createForExtent=w;A.createXYZ=
function(e){e=e||{};const g=e.extent||(0,f.get)("EPSG:3857").getExtent();e={extent:g,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:k(g,e.maxZoom,e.tileSize,e.maxResolution)};return new t.default(e)};A.createForProjection=p;A.extentFromProjection=q;var t=function(e){return e&&e.__esModule?e:{default:e}}(L(196)),n=L(113),f=L(121),b=L(84),c=L(167)};
shadow$provide[198]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.TileSourceEvent=void 0;Ka=w(L(65));sb=w(L(194));var k=w(L(192)),p=w(L(109)),q=L(75),t=L(81),n=L(121),f=L(191),b=L(197),c=L(167);class e extends sb.default{constructor(m){super({attributions:m.attributions,attributionsCollapsible:m.attributionsCollapsible,projection:m.projection,state:m.state,wrapX:m.wrapX,interpolate:m.interpolate});this.opaque_=void 0!==
m.opaque?m.opaque:!1;this.tilePixelRatio_=void 0!==m.tilePixelRatio?m.tilePixelRatio:1;this.tileGrid=void 0!==m.tileGrid?m.tileGrid:null;const h=[256,256];this.tileGrid&&(0,c.toSize)(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),h);this.tileCache=new k.default(m.cacheSize||0);this.tmpSize=[0,0];this.key_=m.key||"";this.tileOptions={transition:m.transition,interpolate:m.interpolate};this.zDirection=m.zDirection?m.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(m,
h){(m=this.getTileCacheForProjection(m))&&m.expireCache(h)}forEachLoadedTile(m,h,x,O){m=this.getTileCacheForProjection(m);if(!m)return!1;let G=!0;let I;for(let C=x.minX;C<=x.maxX;++C)for(let r=x.minY;r<=x.maxY;++r){var F=(0,f.getKeyZXY)(h,C,r);I=!1;m.containsKey(F)&&(F=m.get(F),(I=F.getState()===p.default.LOADED)&&(I=!1!==O(F)));I||(G=!1)}return G}getGutterForProjection(m){return 0}getKey(){return this.key_}setKey(m){this.key_!==m&&(this.key_=m,this.changed())}getOpaque(m){return this.opaque_}getResolutions(){return this.tileGrid?
this.tileGrid.getResolutions():null}getTile(m,h,x,O,G){return(0,q.abstract)()}getTileGrid(){return this.tileGrid}getTileGridForProjection(m){return this.tileGrid?this.tileGrid:(0,b.getForProjection)(m)}getTileCacheForProjection(m){const h=this.getProjection();(0,t.assert)(null===h||(0,n.equivalent)(h,m),68);return this.tileCache}getTilePixelRatio(m){return this.tilePixelRatio_}getTilePixelSize(m,h,x){x=this.getTileGridForProjection(x);h=this.getTilePixelRatio(h);m=(0,c.toSize)(x.getTileSize(m),this.tmpSize);
return 1==h?m:(0,c.scale)(m,h,this.tmpSize)}getTileCoordForTileUrlFunction(m,h){h=void 0!==h?h:this.getProjection();const x=this.getTileGridForProjection(h);this.getWrapX()&&h.isGlobal()&&(m=(0,b.wrapX)(x,m,h));return(0,f.withinExtentAndZ)(m,x)?m:null}clear(){this.tileCache.clear()}refresh(){this.clear();super.refresh()}updateCacheSize(m,h){h=this.getTileCacheForProjection(h);m>h.highWaterMark&&(h.highWaterMark=m)}useTile(m,h,x,O){}}class g extends Ka.default{constructor(m,h){super(m);this.tile=h}}
A.TileSourceEvent=g;A.default=e};
shadow$provide[199]=function(Ka,L,sb,A){function w(n,f){const b=/\{z\}/g,c=/\{x\}/g,e=/\{y\}/g,g=/\{-y\}/g;return function(m,h,x){if(m)return n.replace(b,m[0].toString()).replace(c,m[1].toString()).replace(e,m[2].toString()).replace(g,function(){const O=f.getFullTileRange(m[0]);(0,p.assert)(O,55);return(O.getHeight()-m[2]-1).toString()})}}function k(n){return 1===n.length?n[0]:function(f,b,c){if(f){var e=(0,t.hash)(f);e=(0,q.modulo)(e,n.length);return n[e](f,b,c)}}}Object.defineProperty(A,"__esModule",
{value:!0});A.createFromTemplate=w;A.createFromTemplates=function(n,f){const b=n.length,c=Array(b);for(let e=0;e<b;++e)c[e]=w(n[e],f);return k(c)};A.createFromTileUrlFunctions=k;A.nullTileUrlFunction=function(n,f,b){};A.expandUrl=function(n){const f=[];let b=/\{([a-z])-([a-z])\}/.exec(n);if(b){for(var c=b[1].charCodeAt(0),e=b[2].charCodeAt(0);c<=e;++c)f.push(n.replace(b[0],String.fromCharCode(c)));return f}if(b=/\{(\d+)-(\d+)\}/.exec(n)){e=parseInt(b[2],10);for(c=parseInt(b[1],10);c<=e;c++)f.push(n.replace(b[0],
c.toString()));return f}f.push(n);return f};var p=L(81),q=L(85),t=L(191)};
shadow$provide[200]=function(Ka,L,sb,A){function w(e){if("function"!==typeof WeakMap)return null;var g=new WeakMap,m=new WeakMap;return(w=function(h){return h?m:g})(e)}function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(193)),q=function(e,g){if(!g&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((g=w(g))&&g.has(e))return g.get(e);var m={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in e)if("default"!==x&&Object.prototype.hasOwnProperty.call(e,x)){var O=h?Object.getOwnPropertyDescriptor(e,x):null;O&&(O.get||O.set)?Object.defineProperty(m,x,O):m[x]=e[x]}m.default=e;g&&g.set(e,m);return m}(L(198)),t=k(L(109)),n=L(199),f=L(191),b=L(75);class c extends q.default{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,
interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection});this.generateTileUrlFunction_=this.tileUrlFunction===c.prototype.tileUrlFunction;this.tileLoadFunction=e.tileLoadFunction;e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction);this.urls=null;e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url);this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===
this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){e=e.target;const g=(0,b.getUid)(e),m=e.getState();let h;m==t.default.LOADING?(this.tileLoadingKeys_[g]=!0,h=p.default.TILELOADSTART):g in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[g],h=m==t.default.ERROR?p.default.TILELOADERROR:m==t.default.LOADED?p.default.TILELOADEND:void 0);void 0!=h&&this.dispatchEvent(new q.TileSourceEvent(h,e))}setTileLoadFunction(e){this.tileCache.clear();
this.tileLoadFunction=e;this.changed()}setTileUrlFunction(e,g){this.tileUrlFunction=e;this.tileCache.pruneExceptNewestZ();"undefined"!==typeof g?this.setKey(g):this.changed()}setUrl(e){this.urls=e=(0,n.expandUrl)(e);this.setUrls(e)}setUrls(e){this.urls=e;const g=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.createFromTemplates)(e,this.tileGrid),g):this.setKey(g)}tileUrlFunction(e,g,m){}useTile(e,g,m){e=(0,f.getKeyZXY)(e,g,m);this.tileCache.containsKey(e)&&this.tileCache.get(e)}}
A.default=c};
shadow$provide[201]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}function k(h,x){h.getImage().src=x}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(72)),q=w(L(186)),t=w(L(190)),n=w(L(192)),f=w(L(109));Ka=w(L(200));var b=L(121),c=L(191),e=L(197),g=L(75);class m extends Ka.default{constructor(h){super({attributions:h.attributions,cacheSize:h.cacheSize,opaque:h.opaque,projection:h.projection,state:h.state,tileGrid:h.tileGrid,tileLoadFunction:h.tileLoadFunction?
h.tileLoadFunction:k,tilePixelRatio:h.tilePixelRatio,tileUrlFunction:h.tileUrlFunction,url:h.url,urls:h.urls,wrapX:h.wrapX,transition:h.transition,interpolate:void 0!==h.interpolate?h.interpolate:!0,key:h.key,attributionsCollapsible:h.attributionsCollapsible,zDirection:h.zDirection});this.crossOrigin=void 0!==h.crossOrigin?h.crossOrigin:null;this.tileClass=void 0!==h.tileClass?h.tileClass:q.default;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=h.reprojectionErrorThreshold;
this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const h in this.tileCacheForProjection)if(this.tileCacheForProjection[h].canExpireCache())return!0;return!1}expireCache(h,x){h=this.getTileCacheForProjection(h);this.tileCache.expireCache(this.tileCache==h?x:{});for(const O in this.tileCacheForProjection){const G=this.tileCacheForProjection[O];G.expireCache(G==h?x:{})}}getGutterForProjection(h){return this.getProjection()&&h&&!(0,b.equivalent)(this.getProjection(),
h)?0:this.getGutter()}getGutter(){return 0}getKey(){let h=super.getKey();this.getInterpolate()||(h+=":disable-interpolation");return h}getOpaque(h){return this.getProjection()&&h&&!(0,b.equivalent)(this.getProjection(),h)?!1:super.getOpaque(h)}getTileGridForProjection(h){var x=this.getProjection();return!this.tileGrid||x&&!(0,b.equivalent)(x,h)?(x=(0,g.getUid)(h),x in this.tileGridForProjection||(this.tileGridForProjection[x]=(0,e.getForProjection)(h)),this.tileGridForProjection[x]):this.tileGrid}getTileCacheForProjection(h){const x=
this.getProjection();if(!x||(0,b.equivalent)(x,h))return this.tileCache;h=(0,g.getUid)(h);h in this.tileCacheForProjection||(this.tileCacheForProjection[h]=new n.default(this.tileCache.highWaterMark));return this.tileCacheForProjection[h]}createTile_(h,x,O,G,I,F){h=[h,x,O];G=(x=this.getTileCoordForTileUrlFunction(h,I))?this.tileUrlFunction(x,G,I):void 0;G=new this.tileClass(h,void 0!==G?f.default.IDLE:f.default.EMPTY,void 0!==G?G:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);G.key=F;
G.addEventListener(p.default.CHANGE,this.handleTileChange.bind(this));return G}getTile(h,x,O,G,I){const F=this.getProjection();if(F&&I&&!(0,b.equivalent)(F,I)){const C=this.getTileCacheForProjection(I);O=[h,x,O];let r;h=(0,c.getKey)(O);C.containsKey(h)&&(r=C.get(h));x=this.getKey();if(r&&r.key==x)return r;const y=this.getTileGridForProjection(F),K=this.getTileGridForProjection(I),R=this.getTileCoordForTileUrlFunction(O,I);G=new t.default(F,y,I,K,O,R,this.getTilePixelRatio(G),this.getGutter(),function(S,
ca,M,aa){return this.getTileInternal(S,ca,M,aa,F)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.getInterpolate());G.key=x;r?(G.interimTile=r,G.refreshInterimChain(),C.replace(h,G)):C.set(h,G);return G}return this.getTileInternal(h,x,O,G,F||I)}getTileInternal(h,x,O,G,I){let F;const C=(0,c.getKeyZXY)(h,x,O),r=this.getKey();if(this.tileCache.containsKey(C)){if(F=this.tileCache.get(C),F.key!=r){const y=F;F=this.createTile_(h,x,O,G,I,r);y.getState()==f.default.IDLE?F.interimTile=
y.interimTile:F.interimTile=y;F.refreshInterimChain();this.tileCache.replace(C,F)}}else F=this.createTile_(h,x,O,G,I,r),this.tileCache.set(C,F);return F}setRenderReprojectionEdges(h){if(this.renderReprojectionEdges_!=h){this.renderReprojectionEdges_=h;for(const x in this.tileCacheForProjection)this.tileCacheForProjection[x].clear();this.changed()}}setTileGridForProjection(h,x){if(h=(0,b.get)(h))h=(0,g.getUid)(h),h in this.tileGridForProjection||(this.tileGridForProjection[h]=x)}clear(){super.clear();
for(const h in this.tileCacheForProjection)this.tileCacheForProjection[h].clear()}}A.default=m};
shadow$provide[202]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.jsonp=function(t,n,f,b){function c(){delete window[g];e.parentNode.removeChild(e)}const e=document.createElement("script"),g="olc_"+(0,w.getUid)(n);e.async=!0;e.src=t+(t.includes("?")?"\x26":"?")+(b||"callback")+"\x3d"+g;const m=setTimeout(function(){c();f&&f()},1E4);window[g]=function(h){clearTimeout(m);c();n(h)};document.head.appendChild(e)};A.getJSON=function(t){return new Promise(function(n,f){const b=new XMLHttpRequest;
b.addEventListener("load",function(c){c=c.target;if(!c.status||200<=c.status&&300>c.status){let e;try{e=JSON.parse(c.responseText)}catch(g){f(Error("Error parsing response text as JSON: "+g.message));return}n(e)}else f(new k(c))});b.addEventListener("error",function(c){f(new p(c.target))});b.open("GET",t);b.setRequestHeader("Accept","application/json");b.send()})};A.resolveUrl=function(t,n){return n.includes("://")?n:(new URL(n,t)).href};A.overrideXHR=function(t){"undefined"!==typeof XMLHttpRequest&&
(q=XMLHttpRequest);Ka.XMLHttpRequest=t};A.restoreXHR=function(){Ka.XMLHttpRequest=q};A.ClientError=A.ResponseError=void 0;var w=L(75);class k extends Error{constructor(t){super("Unexpected response status: "+t.status);this.name="ResponseError";this.response=t}}A.ResponseError=k;class p extends Error{constructor(t){super("Failed to issue request");this.name="ClientError";this.client=t}}A.ClientError=p;let q};
shadow$provide[203]=function(Ka,L,sb,A){function w(c){const e=c[0],g=Array(e);let m=1<<e-1,h,x;for(h=0;h<e;++h)x=48,c[1]&m&&(x+=1),c[2]&m&&(x+=2),g[h]=String.fromCharCode(x),m>>=1;return g.join("")}Object.defineProperty(A,"__esModule",{value:!0});A.quadKey=w;A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(201));var k=L(84),p=L(199),q=L(191),t=L(197),n=L(121),f=L(202);class b extends Ka.default{constructor(c){const e=void 0!==c.hidpi?c.hidpi:!1;super({cacheSize:c.cacheSize,
crossOrigin:"anonymous",interpolate:c.interpolate,opaque:!0,projection:(0,n.get)("EPSG:3857"),reprojectionErrorThreshold:c.reprojectionErrorThreshold,state:"loading",tileLoadFunction:c.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0!==c.wrapX?c.wrapX:!0,transition:c.transition,zDirection:c.zDirection});this.hidpi_=e;this.culture_=void 0!==c.culture?c.culture:"en-us";this.maxZoom_=void 0!==c.maxZoom?c.maxZoom:-1;this.apiKey_=c.key;this.imagerySet_=c.imagerySet;(0,f.jsonp)("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+
this.imagerySet_+"?uriScheme\x3dhttps\x26include\x3dImageryProviders\x26key\x3d"+this.apiKey_+"\x26c\x3d"+this.culture_,this.handleImageryMetadataResponse.bind(this),void 0,"jsonp")}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(c){if(200!=c.statusCode||"OK"!=c.statusDescription||"ValidCredentials"!=c.authenticationResultCode||1!=c.resourceSets.length||1!=c.resourceSets[0].resources.length)this.setState("error");else{var e=c.resourceSets[0].resources[0];
c=-1==this.maxZoom_?e.zoomMax:this.maxZoom_;var g=this.getProjection();g=(0,t.extentFromProjection)(g);var m=this.hidpi_?2:1;this.tileGrid=(0,t.createXYZ)({extent:g,minZoom:e.zoomMin,maxZoom:c,tileSize:e.imageWidth==e.imageHeight?e.imageWidth/m:[e.imageWidth/m,e.imageHeight/m]});var h=this.culture_,x=this.hidpi_;this.tileUrlFunction=(0,p.createFromTileUrlFunctions)(e.imageUrlSubdomains.map(function(O){const G=[0,0,0],I=e.imageUrl.replace("{subdomain}",O).replace("{culture}",h);return function(F,C,
r){if(F)return(0,q.createOrUpdate)(F[0],F[1],F[2],G),F=I,x&&(F+="\x26dpi\x3dd1\x26device\x3dmobile"),F.replace("{quadkey}",w(G))}}));if(e.imageryProviders){const O=(0,n.getTransformFromProjections)((0,n.get)("EPSG:4326"),this.getProjection());this.setAttributions(function(G){const I=[],F=G.viewState,C=this.getTileGrid(),r=C.getZForResolution(F.resolution,this.zDirection),y=C.getTileCoordForCoordAndZ(F.center,r)[0];e.imageryProviders.map(function(K){let R=!1;const S=K.coverageAreas;for(let M=0,aa=
S.length;M<aa;++M){var ca=S[M];if(y>=ca.zoomMin&&y<=ca.zoomMax&&(ca=ca.bbox,ca=(0,k.applyTransform)([ca[1],ca[0],ca[3],ca[2]],O),(0,k.intersects)(ca,G.extent))){R=!0;break}}R&&I.push(K.attribution)});I.push('\x3ca class\x3d"ol-attribution-bing-tos" href\x3d"https://www.microsoft.com/maps/product/terms.html" target\x3d"_blank"\x3eTerms of Use\x3c/a\x3e');return I}.bind(this))}this.setState("ready")}}}A.default=b};
shadow$provide[204]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(201));var w=L(197);class k extends Ka.default{constructor(p){p=p||{};const q=void 0!==p.projection?p.projection:"EPSG:3857",t=void 0!==p.tileGrid?p.tileGrid:(0,w.createXYZ)({extent:(0,w.extentFromProjection)(q),maxResolution:p.maxResolution,maxZoom:p.maxZoom,minZoom:p.minZoom,tileSize:p.tileSize});super({attributions:p.attributions,cacheSize:p.cacheSize,
crossOrigin:p.crossOrigin,interpolate:p.interpolate,opaque:p.opaque,projection:q,reprojectionErrorThreshold:p.reprojectionErrorThreshold,tileGrid:t,tileLoadFunction:p.tileLoadFunction,tilePixelRatio:p.tilePixelRatio,tileUrlFunction:p.tileUrlFunction,url:p.url,urls:p.urls,wrapX:void 0!==p.wrapX?p.wrapX:!0,transition:p.transition,attributionsCollapsible:p.attributionsCollapsible,zDirection:p.zDirection});this.gutter_=void 0!==p.gutter?p.gutter:0}getGutter(){return this.gutter_}}A.default=k};
shadow$provide[205]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(204));class w extends Ka.default{constructor(k){super({attributions:k.attributions,cacheSize:k.cacheSize,crossOrigin:k.crossOrigin,maxZoom:void 0!==k.maxZoom?k.maxZoom:18,minZoom:k.minZoom,projection:k.projection,transition:k.transition,wrapX:k.wrapX,zDirection:k.zDirection});this.account_=k.account;this.mapId_=k.map||"";this.config_=k.config||
{};this.templateCache_={};this.initializeMap_()}getConfig(){return this.config_}updateConfig(k){Object.assign(this.config_,k);this.initializeMap_()}setConfig(k){this.config_=k||{};this.initializeMap_()}initializeMap_(){const k=JSON.stringify(this.config_);if(this.templateCache_[k])this.applyTemplate_(this.templateCache_[k]);else{var p="https://"+this.account_+".carto.com/api/v1/map";this.mapId_&&(p+="/named/"+this.mapId_);var q=new XMLHttpRequest;q.addEventListener("load",this.handleInitResponse_.bind(this,
k));q.addEventListener("error",this.handleInitError_.bind(this));q.open("POST",p);q.setRequestHeader("Content-type","application/json");q.send(JSON.stringify(this.config_))}}handleInitResponse_(k,p){p=p.target;if(!p.status||200<=p.status&&300>p.status){let q;try{q=JSON.parse(p.responseText)}catch(t){this.setState("error");return}this.applyTemplate_(q);this.templateCache_[k]=q;this.setState("ready")}else this.setState("error")}handleInitError_(k){this.setState("error")}applyTemplate_(k){this.setUrl("https://"+
k.cdn_url.https+"/"+this.account_+"/api/v1/map/"+k.layergroupid+"/{z}/{x}/{y}.png")}}A.default=w};
shadow$provide[206]=function(Ka,L,sb,A){!function(w,k){"object"==typeof A&&"undefined"!=typeof sb?sb.exports=k():"function"==typeof define&&define.amd?define(k):(w=w||self).RBush=k()}(this,function(){function w(G,I,F,C,r){!function aa(K,R,S,ca,M){for(;ca>S;){if(600<ca-S){var Y=ca-S+1,ea=R-S+1,Ga=Math.log(Y),X=.5*Math.exp(2*Ga/3);Ga=.5*Math.sqrt(Ga*X*(Y-X)/Y)*(0>ea-Y/2?-1:1);aa(K,R,Math.max(S,Math.floor(R-ea*X/Y+Ga)),Math.min(ca,Math.floor(R+(Y-ea)*X/Y+Ga)),M)}Y=K[R];ea=S;X=ca;k(K,S,R);for(0<M(K[ca],
Y)&&k(K,S,ca);ea<X;){k(K,ea,X);ea++;for(X--;0>M(K[ea],Y);)ea++;for(;0<M(K[X],Y);)X--}0===M(K[S],Y)?k(K,S,X):k(K,++X,ca);X<=R&&(S=X+1);R<=X&&(ca=X-1)}}(G,I,F||0,C||G.length-1,r||p)}function k(G,I,F){var C=G[I];G[I]=G[F];G[F]=C}function p(G,I){return G<I?-1:G>I?1:0}function q(G,I){t(G,0,G.children.length,I,G)}function t(G,I,F,C,r){r||(r=h(null));r.minX=1/0;r.minY=1/0;r.maxX=-1/0;for(r.maxY=-1/0;I<F;I++){var y=G.children[I];n(r,G.leaf?C(y):y)}return r}function n(G,I){return G.minX=Math.min(G.minX,I.minX),
G.minY=Math.min(G.minY,I.minY),G.maxX=Math.max(G.maxX,I.maxX),G.maxY=Math.max(G.maxY,I.maxY),G}function f(G,I){return G.minX-I.minX}function b(G,I){return G.minY-I.minY}function c(G){return(G.maxX-G.minX)*(G.maxY-G.minY)}function e(G){return G.maxX-G.minX+(G.maxY-G.minY)}function g(G,I){return G.minX<=I.minX&&G.minY<=I.minY&&I.maxX<=G.maxX&&I.maxY<=G.maxY}function m(G,I){return I.minX<=G.maxX&&I.minY<=G.maxY&&I.maxX>=G.minX&&I.maxY>=G.minY}function h(G){return{children:G,height:1,leaf:!0,minX:1/0,
minY:1/0,maxX:-1/0,maxY:-1/0}}function x(G,I,F,C,r){for(var y=[I,F];y.length;)if(!((F=y.pop())-(I=y.pop())<=C)){var K=I+Math.ceil((F-I)/C/2)*C;w(G,K,I,F,r);y.push(I,K,K,F)}}var O=function(G){void 0===G&&(G=9);this._maxEntries=Math.max(4,G);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));this.clear()};return O.prototype.all=function(){return this._all(this.data,[])},O.prototype.search=function(G){var I=this.data,F=[];if(!m(G,I))return F;for(var C=this.toBBox,r=[];I;){for(var y=0;y<I.children.length;y++){var K=
I.children[y],R=I.leaf?C(K):K;m(G,R)&&(I.leaf?F.push(K):g(G,R)?this._all(K,F):r.push(K))}I=r.pop()}return F},O.prototype.collides=function(G){var I=this.data;if(!m(G,I))return!1;for(var F=[];I;){for(var C=0;C<I.children.length;C++){var r=I.children[C],y=I.leaf?this.toBBox(r):r;if(m(G,y)){if(I.leaf||g(G,y))return!0;F.push(r)}}I=F.pop()}return!1},O.prototype.load=function(G){if(!G||!G.length)return this;if(G.length<this._minEntries){for(var I=0;I<G.length;I++)this.insert(G[I]);return this}G=this._build(G.slice(),
0,G.length-1,0);this.data.children.length?this.data.height===G.height?this._splitRoot(this.data,G):(this.data.height<G.height&&(I=this.data,this.data=G,G=I),this._insert(G,this.data.height-G.height-1,!0)):this.data=G;return this},O.prototype.insert=function(G){return G&&this._insert(G,this.data.height-1),this},O.prototype.clear=function(){return this.data=h([]),this},O.prototype.remove=function(G,I){if(!G)return this;for(var F,C,r,y=this.data,K=this.toBBox(G),R=[],S=[];y||R.length;){if(y||(y=R.pop(),
C=R[R.length-1],F=S.pop(),r=!0),y.leaf){a:{var ca=G;var M=y.children,aa=I;if(aa){for(var Y=0;Y<M.length;Y++)if(aa(ca,M[Y])){ca=Y;break a}ca=-1}else ca=M.indexOf(ca)}if(-1!==ca)return y.children.splice(ca,1),R.push(y),this._condense(R),this}r||y.leaf||!g(y,K)?C?(F++,y=C.children[F],r=!1):y=null:(R.push(y),S.push(F),F=0,C=y,y=y.children[0])}return this},O.prototype.toBBox=function(G){return G},O.prototype.compareMinX=function(G,I){return G.minX-I.minX},O.prototype.compareMinY=function(G,I){return G.minY-
I.minY},O.prototype.toJSON=function(){return this.data},O.prototype.fromJSON=function(G){return this.data=G,this},O.prototype._all=function(G,I){for(var F=[];G;)G.leaf?I.push.apply(I,G.children):F.push.apply(F,G.children),G=F.pop();return I},O.prototype._build=function(G,I,F,C){var r,y=F-I+1,K=this._maxEntries;if(y<=K)return q(r=h(G.slice(I,F+1)),this.toBBox),r;C||(C=Math.ceil(Math.log(y)/Math.log(K)),K=Math.ceil(y/Math.pow(K,C-1)));(r=h([])).leaf=!1;r.height=C;y=Math.ceil(y/K);K=y*Math.ceil(Math.sqrt(K));
for(x(G,I,F,K,this.compareMinX);I<=F;I+=K){var R=Math.min(I+K-1,F);x(G,I,R,y,this.compareMinY);for(var S=I;S<=R;S+=y)r.children.push(this._build(G,S,Math.min(S+y-1,R),C-1))}return q(r,this.toBBox),r},O.prototype._chooseSubtree=function(G,I,F,C){for(;C.push(I),!I.leaf&&C.length-1!==F;){for(var r=1/0,y=1/0,K=void 0,R=0;R<I.children.length;R++){var S=I.children[R],ca=c(S),M=(aa=G,Y=S,(Math.max(Y.maxX,aa.maxX)-Math.min(Y.minX,aa.minX))*(Math.max(Y.maxY,aa.maxY)-Math.min(Y.minY,aa.minY))-ca);M<y?(y=M,
r=ca<r?ca:r,K=S):M===y&&ca<r&&(r=ca,K=S)}I=K||I.children[0]}var aa,Y;return I},O.prototype._insert=function(G,I,F){F=F?G:this.toBBox(G);var C=[],r=this._chooseSubtree(F,this.data,I,C);r.children.push(G);for(n(r,F);0<=I&&C[I].children.length>this._maxEntries;)this._split(C,I),I--;this._adjustParentBBoxes(F,C,I)},O.prototype._split=function(G,I){var F=G[I],C=F.children.length,r=this._minEntries;this._chooseSplitAxis(F,r,C);C=this._chooseSplitIndex(F,r,C);C=h(F.children.splice(C,F.children.length-C));
C.height=F.height;C.leaf=F.leaf;q(F,this.toBBox);q(C,this.toBBox);I?G[I-1].children.push(C):this._splitRoot(F,C)},O.prototype._splitRoot=function(G,I){this.data=h([G,I]);this.data.height=G.height+1;this.data.leaf=!1;q(this.data,this.toBBox)},O.prototype._chooseSplitIndex=function(G,I,F){for(var C,r,y,K,R,S,ca,M=1/0,aa=1/0,Y=I;Y<=F-I;Y++){var ea=t(G,0,Y,this.toBBox),Ga=t(G,Y,F,this.toBBox),X=(r=ea,y=Ga,K=void 0,R=void 0,S=void 0,ca=void 0,K=Math.max(r.minX,y.minX),R=Math.max(r.minY,y.minY),S=Math.min(r.maxX,
y.maxX),ca=Math.min(r.maxY,y.maxY),Math.max(0,S-K)*Math.max(0,ca-R));ea=c(ea)+c(Ga);X<M?(M=X,C=Y,aa=ea<aa?ea:aa):X===M&&ea<aa&&(aa=ea,C=Y)}return C||F-I},O.prototype._chooseSplitAxis=function(G,I,F){var C=G.leaf?this.compareMinX:f,r=G.leaf?this.compareMinY:b;this._allDistMargin(G,I,F,C)<this._allDistMargin(G,I,F,r)&&G.children.sort(C)},O.prototype._allDistMargin=function(G,I,F,C){G.children.sort(C);C=this.toBBox;for(var r=t(G,0,I,C),y=t(G,F-I,F,C),K=e(r)+e(y),R=I;R<F-I;R++){var S=G.children[R];n(r,
G.leaf?C(S):S);K+=e(r)}for(F=F-I-1;F>=I;F--)r=G.children[F],n(y,G.leaf?C(r):r),K+=e(y);return K},O.prototype._adjustParentBBoxes=function(G,I,F){for(;0<=F;F--)n(I[F],G)},O.prototype._condense=function(G){for(var I=G.length-1,F=void 0;0<=I;I--)0===G[I].children.length?0<I?(F=G[I-1].children).splice(F.indexOf(G[I]),1):this.clear():q(G[I],this.toBBox)},O})};
shadow$provide[207]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=function(n){return n&&n.__esModule?n:{default:n}}(L(206)),k=L(84),p=L(75),q=L(70);class t{constructor(n){this.rbush_=new w.default(n);this.items_={}}insert(n,f){n={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:f};this.rbush_.insert(n);this.items_[(0,p.getUid)(f)]=n}load(n,f){const b=Array(f.length);for(let e=0,g=f.length;e<g;e++){var c=n[e];const m=f[e];c={minX:c[0],minY:c[1],maxX:c[2],
maxY:c[3],value:m};b[e]=c;this.items_[(0,p.getUid)(m)]=c}this.rbush_.load(b)}remove(n){n=(0,p.getUid)(n);const f=this.items_[n];delete this.items_[n];return null!==this.rbush_.remove(f)}update(n,f){const b=this.items_[(0,p.getUid)(f)];(0,k.equals)([b.minX,b.minY,b.maxX,b.maxY],n)||(this.remove(f),this.insert(n,f))}getAll(){return this.rbush_.all().map(function(n){return n.value})}getInExtent(n){return this.rbush_.search({minX:n[0],minY:n[1],maxX:n[2],maxY:n[3]}).map(function(f){return f.value})}forEach(n){return this.forEach_(this.getAll(),
n)}forEachInExtent(n,f){return this.forEach_(this.getInExtent(n),f)}forEach_(n,f){let b;for(let c=0,e=n.length;c<e&&!(b=f(n[c]));c++);return b}isEmpty(){return(0,q.isEmpty)(this.items_)}clear(){this.rbush_.clear();this.items_={}}getExtent(n){const f=this.rbush_.toJSON();return(0,k.createOrUpdate)(f.minX,f.minY,f.maxX,f.maxY,n)}concat(n){this.rbush_.load(n.rbush_.all());for(const f in n.items_)this.items_[f]=n.items_[f]}}A.default=t};
shadow$provide[208]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"}};
shadow$provide[209]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.all=function(k,p){return[[-Infinity,-Infinity,Infinity,Infinity]]};A.bbox=function(k,p){return[k]};A.tile=function(k){return function(p,q,t){q=k.getZForResolution((0,w.fromUserResolution)(q,t));p=k.getTileRangeForExtentAndZ((0,w.fromUserExtent)(p,t),q);const n=[];q=[q,0,0];for(q[1]=p.minX;q[1]<=p.maxX;++q[1])for(q[2]=p.minY;q[2]<=p.maxY;++q[2])n.push((0,w.toUserExtent)(k.getTileCoordExtent(q),t));return n}};
var w=L(121)};
shadow$provide[210]=function(Ka,L,sb,A){function w(q,t,n,f,b,c,e){const g=new XMLHttpRequest;g.open("GET","function"===typeof q?q(n,f,b):q,!0);"arraybuffer"==t.getType()&&(g.responseType="arraybuffer");g.withCredentials=p;g.onload=function(m){if(!g.status||200<=g.status&&300>g.status){m=t.getType();let h;"json"==m||"text"==m?h=g.responseText:"xml"==m?(h=g.responseXML)||(h=(new DOMParser).parseFromString(g.responseText,"application/xml")):"arraybuffer"==m&&(h=g.response);h?c(t.readFeatures(h,{extent:n,
featureProjection:b}),t.readProjection(h)):e()}else e()};g.onerror=e;g.send()}Object.defineProperty(A,"__esModule",{value:!0});A.loadFeaturesXhr=w;A.xhr=function(q,t){return function(n,f,b,c,e){const g=this;w(q,t,n,f,b,function(m,h){g.addFeatures(m);void 0!==c&&c(m)},e?e:k.VOID)}};A.setWithCredentials=function(q){p=q};var k=L(69);let p=!1};
shadow$provide[211]=function(Ka,L,sb,A){function w(C){return C&&C.__esModule?C:{default:C}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.VectorSourceEvent=void 0;var k=w(L(79)),p=w(L(78));Ka=w(L(65));var q=w(L(72)),t=w(L(66)),n=w(L(207));sb=w(L(194));var f=w(L(208)),b=L(69),c=L(209),e=L(81),g=L(84),m=L(68),h=L(75),x=L(70),O=L(73),G=L(210);class I extends Ka.default{constructor(C,r,y){super(C);this.feature=r;this.features=y}}A.VectorSourceEvent=I;class F extends sb.default{constructor(C){C=
C||{};super({attributions:C.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:void 0!==C.wrapX?C.wrapX:!0});this.loader_=b.VOID;this.format_=C.format;this.overlaps_=void 0===C.overlaps?!0:C.overlaps;this.url_=C.url;void 0!==C.loader?this.loader_=C.loader:void 0!==this.url_&&((0,e.assert)(this.format_,7),this.loader_=(0,G.xhr)(this.url_,this.format_));this.strategy_=void 0!==C.strategy?C.strategy:c.all;const r=void 0!==C.useSpatialIndex?C.useSpatialIndex:!0;this.featuresRtree_=r?new n.default:
null;this.loadedExtentsRtree_=new n.default;this.loadingExtentsCount_=0;this.nullGeometryFeatures_={};this.idIndex_={};this.uidIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;let y,K;Array.isArray(C.features)?K=C.features:C.features&&(y=C.features,K=y.getArray());r||void 0!==y||(y=new k.default(K));void 0!==K&&this.addFeaturesInternal(K);void 0!==y&&this.bindFeaturesCollection_(y)}addFeature(C){this.addFeatureInternal(C);this.changed()}addFeatureInternal(C){var r=(0,h.getUid)(C);
if(this.addToIndex_(r,C)){this.setupChangeEvents_(r,C);var y=C.getGeometry();y?(r=y.getExtent(),this.featuresRtree_&&this.featuresRtree_.insert(r,C)):this.nullGeometryFeatures_[r]=C;this.dispatchEvent(new I(f.default.ADDFEATURE,C))}else this.featuresCollection_&&this.featuresCollection_.remove(C)}setupChangeEvents_(C,r){this.featureChangeKeys_[C]=[(0,O.listen)(r,q.default.CHANGE,this.handleFeatureChange_,this),(0,O.listen)(r,t.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]}addToIndex_(C,
r){let y=!0;const K=r.getId();void 0!==K&&(K.toString()in this.idIndex_?y=!1:this.idIndex_[K.toString()]=r);y&&((0,e.assert)(!(C in this.uidIndex_),30),this.uidIndex_[C]=r);return y}addFeatures(C){this.addFeaturesInternal(C);this.changed()}addFeaturesInternal(C){const r=[],y=[],K=[];for(let ca=0,M=C.length;ca<M;ca++){var R=C[ca],S=(0,h.getUid)(R);this.addToIndex_(S,R)&&y.push(R)}for(let ca=0,M=y.length;ca<M;ca++)C=y[ca],R=(0,h.getUid)(C),this.setupChangeEvents_(R,C),(S=C.getGeometry())?(R=S.getExtent(),
r.push(R),K.push(C)):this.nullGeometryFeatures_[R]=C;this.featuresRtree_&&this.featuresRtree_.load(r,K);if(this.hasListener(f.default.ADDFEATURE))for(let ca=0,M=y.length;ca<M;ca++)this.dispatchEvent(new I(f.default.ADDFEATURE,y[ca]))}bindFeaturesCollection_(C){let r=!1;this.addEventListener(f.default.ADDFEATURE,function(y){r||(r=!0,C.push(y.feature),r=!1)});this.addEventListener(f.default.REMOVEFEATURE,function(y){r||(r=!0,C.remove(y.feature),r=!1)});C.addEventListener(p.default.ADD,function(y){r||
(r=!0,this.addFeature(y.element),r=!1)}.bind(this));C.addEventListener(p.default.REMOVE,function(y){r||(r=!0,this.removeFeature(y.element),r=!1)}.bind(this));this.featuresCollection_=C}clear(C){if(C){for(const y in this.featureChangeKeys_)this.featureChangeKeys_[y].forEach(O.unlistenByKey);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){C=function(y){this.removeFeatureInternal(y)}.bind(this);this.featuresRtree_.forEach(C);for(var r in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r])}this.featuresCollection_&&
this.featuresCollection_.clear();this.featuresRtree_&&this.featuresRtree_.clear();this.nullGeometryFeatures_={};r=new I(f.default.CLEAR);this.dispatchEvent(r);this.changed()}forEachFeature(C){if(this.featuresRtree_)return this.featuresRtree_.forEach(C);this.featuresCollection_&&this.featuresCollection_.forEach(C)}forEachFeatureAtCoordinateDirect(C,r){return this.forEachFeatureInExtent([C[0],C[1],C[0],C[1]],function(y){if(y.getGeometry().intersectsCoordinate(C))return r(y)})}forEachFeatureInExtent(C,
r){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(C,r);this.featuresCollection_&&this.featuresCollection_.forEach(r)}forEachFeatureIntersectingExtent(C,r){return this.forEachFeatureInExtent(C,function(y){if(y.getGeometry().intersectsExtent(C)&&(y=r(y)))return y})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let C;this.featuresCollection_?C=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(C=this.featuresRtree_.getAll(),(0,x.isEmpty)(this.nullGeometryFeatures_)||
(0,m.extend)(C,Object.values(this.nullGeometryFeatures_)));return C}getFeaturesAtCoordinate(C){const r=[];this.forEachFeatureAtCoordinateDirect(C,function(y){r.push(y)});return r}getFeaturesInExtent(C,r){if(this.featuresRtree_){if(!(r&&r.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(C);C=(0,g.wrapAndSliceX)(C,r);return[].concat(...C.map(y=>this.featuresRtree_.getInExtent(y)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(C,
r){const y=C[0],K=C[1];let R=null;const S=[NaN,NaN];let ca=Infinity;const M=[-Infinity,-Infinity,Infinity,Infinity];r=r?r:b.TRUE;this.featuresRtree_.forEachInExtent(M,function(aa){if(r(aa)){const Y=aa.getGeometry(),ea=ca;ca=Y.closestPointXY(y,K,S,ca);ca<ea&&(R=aa,aa=Math.sqrt(ca),M[0]=y-aa,M[1]=K-aa,M[2]=y+aa,M[3]=K+aa)}});return R}getExtent(C){return this.featuresRtree_.getExtent(C)}getFeatureById(C){C=this.idIndex_[C.toString()];return void 0!==C?C:null}getFeatureByUid(C){C=this.uidIndex_[C];return void 0!==
C?C:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(C){C=C.target;var r=(0,h.getUid)(C),y=C.getGeometry();y?(y=y.getExtent(),r in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[r],this.featuresRtree_&&this.featuresRtree_.insert(y,C)):this.featuresRtree_&&this.featuresRtree_.update(y,C)):r in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(C),this.nullGeometryFeatures_[r]=C);y=C.getId();
void 0!==y?(r=y.toString(),this.idIndex_[r]!==C&&(this.removeFromIdIndex_(C),this.idIndex_[r]=C)):(this.removeFromIdIndex_(C),this.uidIndex_[r]=C);this.changed();this.dispatchEvent(new I(f.default.CHANGEFEATURE,C))}hasFeature(C){const r=C.getId();return void 0!==r?r in this.idIndex_:(0,h.getUid)(C)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&(0,x.isEmpty)(this.nullGeometryFeatures_):this.featuresCollection_?0===this.featuresCollection_.getLength():!0}loadFeatures(C,
r,y){const K=this.loadedExtentsRtree_;C=this.strategy_(C,r,y);for(let R=0,S=C.length;R<S;++R){const ca=C[R];K.forEachInExtent(ca,function(M){return(0,g.containsExtent)(M.extent,ca)})||(++this.loadingExtentsCount_,this.dispatchEvent(new I(f.default.FEATURESLOADSTART)),this.loader_.call(this,ca,r,y,function(M){--this.loadingExtentsCount_;this.dispatchEvent(new I(f.default.FEATURESLOADEND,void 0,M))}.bind(this),function(){--this.loadingExtentsCount_;this.dispatchEvent(new I(f.default.FEATURESLOADERROR))}.bind(this)),
K.insert(ca,{extent:ca.slice()}))}this.loading=4>this.loader_.length?!1:0<this.loadingExtentsCount_}refresh(){this.clear(!0);this.loadedExtentsRtree_.clear();super.refresh()}removeLoadedExtent(C){const r=this.loadedExtentsRtree_;let y;r.forEachInExtent(C,function(K){if((0,g.equals)(K.extent,C))return y=K,!0});y&&r.remove(y)}removeFeature(C){if(C){var r=(0,h.getUid)(C);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(C);this.removeFeatureInternal(C)&&
this.changed()}}removeFeatureInternal(C){const r=(0,h.getUid)(C);var y=this.featureChangeKeys_[r];if(y)return y.forEach(O.unlistenByKey),delete this.featureChangeKeys_[r],y=C.getId(),void 0!==y&&delete this.idIndex_[y.toString()],delete this.uidIndex_[r],this.dispatchEvent(new I(f.default.REMOVEFEATURE,C)),C}removeFromIdIndex_(C){let r=!1;for(const y in this.idIndex_)if(this.idIndex_[y]===C){delete this.idIndex_[y];r=!0;break}return r}setLoader(C){this.loader_=C}setUrl(C){(0,e.assert)(this.format_,
7);this.url_=C;this.setLoader((0,G.xhr)(C,this.format_))}}A.default=F};
shadow$provide[212]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(169)),q=w(L(135));Ka=w(L(211));var t=L(93),n=L(81),f=L(84),b=L(75);class c extends Ka.default{constructor(e){super({attributions:e.attributions,wrapX:e.wrapX});this.resolution=void 0;this.distance=void 0!==e.distance?e.distance:20;this.minDistance=e.minDistance||0;this.interpolationRatio=0;this.features=[];this.geometryFunction=
e.geometryFunction||function(g){g=g.getGeometry();(0,n.assert)("Point"==g.getType(),10);return g};this.createCustomCluster_=e.createCluster;this.source=null;this.boundRefresh_=this.refresh.bind(this);this.updateDistance(this.distance,this.minDistance);this.setSource(e.source||null)}clear(e){this.features.length=0;super.clear(e)}getDistance(){return this.distance}getSource(){return this.source}loadFeatures(e,g,m){this.source.loadFeatures(e,g,m);g!==this.resolution&&(this.resolution=g,this.refresh())}setDistance(e){this.updateDistance(e,
this.minDistance)}setMinDistance(e){this.updateDistance(this.distance,e)}getMinDistance(){return this.minDistance}setSource(e){this.source&&this.source.removeEventListener(k.default.CHANGE,this.boundRefresh_);(this.source=e)&&e.addEventListener(k.default.CHANGE,this.boundRefresh_);this.refresh()}refresh(){this.clear();this.cluster();this.addFeatures(this.features)}updateDistance(e,g){const m=0===e?0:Math.min(g,e)/e,h=e!==this.distance||this.interpolationRatio!==m;this.distance=e;this.minDistance=
g;this.interpolationRatio=m;h&&this.refresh()}cluster(){if(void 0!==this.resolution&&this.source){var e=(0,f.createEmpty)(),g=this.distance*this.resolution,m=this.source.getFeatures(),h={};for(let O=0,G=m.length;O<G;O++){var x=m[O];(0,b.getUid)(x)in h||!(x=this.geometryFunction(x))||(x=x.getCoordinates(),(0,f.createOrUpdateFromCoordinate)(x,e),(0,f.buffer)(e,g,e),x=this.source.getFeaturesInExtent(e).filter(function(I){I=(0,b.getUid)(I);return I in h?!1:h[I]=!0}),this.features.push(this.createCluster(x,
e)))}}}createCluster(e,g){var m=[0,0];for(var h=e.length-1;0<=h;--h){const x=this.geometryFunction(e[h]);x?(0,t.add)(m,x.getCoordinates()):e.splice(h,1)}(0,t.scale)(m,1/e.length);g=(0,f.getCenter)(g);h=this.interpolationRatio;m=new q.default([m[0]*(1-h)+g[0]*h,m[1]*(1-h)+g[1]*h]);return this.createCustomCluster_?this.createCustomCluster_(m,e):new p.default({geometry:m,features:e})}}A.default=c};
shadow$provide[213]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109));class p extends Ka.default{constructor(q){super(q.tileCoord,k.default.IDLE,{transition:q.transition,interpolate:q.interpolate});this.loader_=q.loader;this.error_=this.data_=null;this.size_=q.size||[256,256]}getSize(){return this.size_}getData(){return this.data_}getError(){return this.error_}load(){if(this.state===
k.default.IDLE||this.state===k.default.ERROR){this.state=k.default.LOADING;this.changed();var q=this;this.loader_().then(function(t){q.data_=t;q.state=k.default.LOADED;q.changed()}).catch(function(t){q.error_=t;q.state=k.default.ERROR;q.changed()})}}}A.default=p};
shadow$provide[214]=function(Ka,L,sb,A){function w(x){if("function"!==typeof WeakMap)return null;var O=new WeakMap,G=new WeakMap;return(w=function(I){return I?G:O})(x)}function k(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(213)),q=k(L(72)),t=k(L(193)),n=function(x,O){if(!O&&x&&x.__esModule)return x;if(null===x||"object"!==typeof x&&"function"!==typeof x)return{default:x};if((O=w(O))&&O.has(x))return O.get(x);var G={},I=Object.defineProperty&&
Object.getOwnPropertyDescriptor,F;for(F in x)if("default"!==F&&Object.prototype.hasOwnProperty.call(x,F)){var C=I?Object.getOwnPropertyDescriptor(x,F):null;C&&(C.get||C.set)?Object.defineProperty(G,F,C):G[F]=x[F]}G.default=x;O&&O.set(x,G);return G}(L(198)),f=k(L(109)),b=L(197),c=L(191),e=L(75),g=L(69),m=L(167);class h extends n.default{constructor(x){const O=void 0===x.projection?"EPSG:3857":x.projection;let G=x.tileGrid;void 0===G&&O&&(G=(0,b.createXYZ)({extent:(0,b.extentFromProjection)(O),maxResolution:x.maxResolution,
maxZoom:x.maxZoom,minZoom:x.minZoom,tileSize:x.tileSize}));super({cacheSize:.1,attributions:x.attributions,attributionsCollapsible:x.attributionsCollapsible,projection:O,tileGrid:G,opaque:x.opaque,state:x.state,wrapX:x.wrapX,transition:x.transition,interpolate:x.interpolate});this.gutter_=void 0!==x.gutter?x.gutter:0;this.tileSize_=x.tileSize?(0,m.toSize)(x.tileSize):null;this.tileSizes_=null;this.tileLoadingKeys_={};this.loader_=x.loader;this.handleTileChange_=this.handleTileChange_.bind(this);this.bandCount=
void 0===x.bandCount?4:x.bandCount}setTileSizes(x){this.tileSizes_=x}getTileSize(x){if(this.tileSizes_)return this.tileSizes_[x];if(this.tileSize_)return this.tileSize_;const O=this.getTileGrid();return O?(0,m.toSize)(O.getTileSize(x)):[256,256]}getGutterForProjection(x){return this.gutter_}setLoader(x){this.loader_=x}getTile(x,O,G,I,F){F=this.getTileSize(x);I=(0,c.getKeyZXY)(x,O,G);if(this.tileCache.containsKey(I))return this.tileCache.get(I);const C=this.loader_;F=Object.assign({tileCoord:[x,O,
G],loader:function(){return(0,g.toPromise)(function(){return C(x,O,G)})},size:F},this.tileOptions);F=new p.default(F);F.key=this.getKey();F.addEventListener(q.default.CHANGE,this.handleTileChange_);this.tileCache.set(I,F);return F}handleTileChange_(x){x=x.target;const O=(0,e.getUid)(x),G=x.getState();let I;G==f.default.LOADING?(this.tileLoadingKeys_[O]=!0,I=t.default.TILELOADSTART):O in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[O],I=G==f.default.ERROR?t.default.TILELOADERROR:G==f.default.LOADED?
t.default.TILELOADEND:void 0);I&&this.dispatchEvent(new n.TileSourceEvent(I,x))}}A.default=h};
shadow$provide[215]=function(Ka,L,sb,A){(function(w){function k(Qb){return(rc,...bd)=>S(Qb,rc,bd)}function p(Qb){if(Qb[la]===ka)return Qb;const rc=ma(Jb);Za(tb,rc,ua(Qb));return rc}function q(Qb){const rc=ma(nc);Za(fc,rc,Qb);return rc}function t(Qb){return null!==Qb&&"object"===typeof Qb||"function"===typeof Qb}function n(Qb){Qb=jb(Qb);return"BigInt64Array"===Qb||"BigUint64Array"===Qb}function f(Qb){if(null===Gc)return!1;try{return zc(Qb),!0}catch(rc){return!1}}function b(Qb){return fb(Qb)?Qb[la]===
ka?!0:"Array Iterator"===Qb[la]()[bb]:!1}function c(Qb){return void 0===jb(Qb)?!1:Qb[la]===Hb?!0:"Array Iterator"===Qb[la]()[bb]}function e(Qb){if("string"!==typeof Qb)return!1;const rc=Z(Qb);return Qb===rc+""&&Aa(rc)?rc===Ta(rc):!1}function g(Qb){if(null===Qb||"object"!==typeof Qb)return!1;Qb=ea(Qb);if(null===Qb||"object"!==typeof Qb)return!1;Qb=Qb.constructor;if(void 0===Qb)return!1;if(!t(Qb))throw Xd("The constructor property value is not an object");return Ga(Qb,Hc)}function m(Qb){lc[0]=Qb;Qb=
ld[0];const rc=Qb>>23&511;return rd[rc]+((Qb&8388607)>>Hd[rc])}function h(Qb){const rc=Qb>>10;ld[0]=Vd[he[rc]+(Qb&1023)]+ce[rc];return lc[0]}function x(Qb){if("bigint"===typeof Qb)throw Xd("Cannot convert a BigInt value to a number");Qb=Z(Qb);return qa(Qb)||0===Qb?0:Ta(Qb)}function O(Qb){Qb=x(Qb);return 0>Qb?0:Qb<Ce?Qb:Ce}function G(Qb,rc){if(!t(Qb))throw Xd("This is not an object");Qb=Qb.constructor;if(void 0===Qb)return rc;if(!t(Qb))throw Xd("The constructor property value is not an object");Qb=
Qb[Ja];return null==Qb?rc:Qb}function I(Qb){if(f(Qb))return!1;try{return Mb(Qb,0,0),!1}catch(rc){}return!0}function F(Qb,rc){const bd=qa(Qb),Ad=qa(rc);if(bd&&Ad)return 0;if(bd)return 1;if(Ad||Qb<rc)return-1;if(Qb>rc)return 1;if(0===Qb&&0===rc){Qb=ra(Qb,0);rc=ra(rc,0);if(!Qb&&rc)return-1;if(Qb&&!rc)return 1}return 0}function C(Qb){return za(re,Qb)||!lb(Qb)&&g(Qb)}function r(Qb){if(!C(Qb))throw Xd("This is not a Float16Array object");}function y(Qb,rc){var bd=C(Qb);const Ad=void 0!==jb(Qb);if(!bd&&
!Ad)throw Xd("Species constructor didn't return TypedArray object");if("number"===typeof rc&&(bd?(bd=K(Qb),bd=$a(bd)):bd=$a(Qb),bd<rc))throw Xd("Derived constructor created TypedArray object which was too small length");if(n(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");}function K(Qb){var rc=We(re,Qb);if(void 0!==rc){Qb=va(rc);if(I(Qb))throw Xd("Attempting to access detached ArrayBuffer");return rc}rc=Qb.buffer;if(I(rc))throw Xd("Attempting to access detached ArrayBuffer");
Qb=ca(Re,[rc,Qb.byteOffset,Qb.length],Qb.constructor);return We(re,Qb)}function R(Qb){const rc=$a(Qb),bd=[];for(let Ad=0;Ad<rc;++Ad)bd[Ad]=h(Qb[Ad]);return bd}const {apply:S,construct:ca,defineProperty:M,get:aa,getOwnPropertyDescriptor:Y,getPrototypeOf:ea,has:Ga,ownKeys:X,set:D,setPrototypeOf:B}=Reflect,N=Proxy,Z=Number,{isFinite:Aa,isNaN:qa}=Z,{iterator:la,species:Ja,toStringTag:bb,for:ib}=Symbol,Ma=Object,{create:ma,defineProperty:Fa,freeze:Ra,is:ra}=Ma,ya=Ma.prototype,oa=ya.__lookupGetter__?k(ya.__lookupGetter__):
(Qb,rc)=>{if(null==Qb)throw Xd("Cannot convert undefined or null to object");Qb=Ma(Qb);do{const bd=Y(Qb,rc);if(void 0!==bd){if(xa(bd,"get"))return bd.get;break}}while(null!==(Qb=ea(Qb)))},xa=Ma.hasOwn||k(ya.hasOwnProperty),Ua=Array,fb=Ua.isArray,sa=Ua.prototype,Oa=k(sa.join),ja=k(sa.push),U=k(sa.toLocaleString),ka=sa[la],ua=k(ka),Ta=Math.trunc,eb=ArrayBuffer,lb=eb.isView,nb=eb.prototype,Mb=k(nb.slice),$b=k(Y(nb,"byteLength").get),Gc="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null,zc=
Gc&&k(Y(Gc.prototype,"byteLength").get),Bc=ea(Uint8Array),uc=Bc.from,id=Bc.prototype,Hb=id[la],Ab=k(id.keys),dc=k(id.values),Wb=k(id.entries),mc=k(id.set),Kc=k(id.reverse),Fc=k(id.fill),Sc=k(id.copyWithin),jd=k(id.sort),$d=k(id.slice),Ba=k(id.subarray),va=k(Y(id,"buffer").get),Ca=k(Y(id,"byteOffset").get),$a=k(Y(id,"length").get),jb=k(Y(id,bb).get),yb=Uint16Array,Ub=Uint32Array,Tb=Float32Array,Vb=ea([][la]()),Ic=k(Vb.next),$c=k(function*(){}().next),dd=ea(Vb),nd=DataView.prototype,xd=k(nd.getUint16),
Nd=k(nd.setUint16),Xd=TypeError,ge=RangeError,le=WeakSet,qe=le.prototype,wd=k(qe.add),qf=k(qe.has),gf=WeakMap,te=gf.prototype,We=k(te.get),za=k(te.has),Za=k(te.set),tb=new gf,Jb=ma(null,{next:{value:function(){const Qb=We(tb,this);return Ic(Qb)}},[la]:{value:function(){return this}}}),fc=new gf,nc=ma(dd,{next:{value:function(){const Qb=We(fc,this);return $c(Qb)},writable:!0,configurable:!0}});for(const Qb of X(Vb))"next"!==Qb&&Fa(nc,Qb,Y(Vb,Qb));const Hc=ib("__Float16Array__"),Dc=new eb(4),lc=new Tb(Dc),
ld=new Ub(Dc),rd=new Ub(512),Hd=new Ub(512);for(let Qb=0;256>Qb;++Qb){const rc=Qb-127;-27>rc?(rd[Qb]=0,rd[Qb|256]=32768,Hd[Qb]=24,Hd[Qb|256]=24):-14>rc?(rd[Qb]=1024>>-rc-14,rd[Qb|256]=1024>>-rc-14|32768,Hd[Qb]=-rc-1,Hd[Qb|256]=-rc-1):15>=rc?(rd[Qb]=rc+15<<10,rd[Qb|256]=rc+15<<10|32768,Hd[Qb]=13,Hd[Qb|256]=13):128>rc?(rd[Qb]=31744,rd[Qb|256]=64512,Hd[Qb]=24,Hd[Qb|256]=24):(rd[Qb]=31744,rd[Qb|256]=64512,Hd[Qb]=13,Hd[Qb|256]=13)}const Vd=new Ub(2048),ce=new Ub(64),he=new Ub(64);for(let Qb=1;1024>Qb;++Qb){let rc=
Qb<<13,bd=0;for(;0===(rc&8388608);)rc<<=1,bd-=8388608;rc&=-8388609;bd+=947912704;Vd[Qb]=rc|bd}for(let Qb=1024;2048>Qb;++Qb)Vd[Qb]=939524096+(Qb-1024<<13);for(let Qb=1;31>Qb;++Qb)ce[Qb]=Qb<<23;ce[31]=1199570944;ce[32]=2147483648;for(let Qb=33;63>Qb;++Qb)ce[Qb]=2147483648+(Qb-32<<23);ce[63]=3347054592;for(let Qb=1;64>Qb;++Qb)32!==Qb&&(he[Qb]=1024);const Ce=Z.MAX_SAFE_INTEGER,re=new gf,vf=new le;for(const Qb of X(id)){if(Qb===bb)continue;const rc=Y(id,Qb);xa(rc,"get")&&"function"===typeof rc.get&&wd(vf,
rc.get)}const Ge=Ra({get(Qb,rc,bd){return e(rc)&&xa(Qb,rc)?h(aa(Qb,rc)):qf(vf,oa(Qb,rc))?aa(Qb,rc):aa(Qb,rc,bd)},set(Qb,rc,bd,Ad){return e(rc)&&xa(Qb,rc)?D(Qb,rc,m(bd)):D(Qb,rc,bd,Ad)},getOwnPropertyDescriptor(Qb,rc){return e(rc)&&xa(Qb,rc)?(Qb=Y(Qb,rc),Qb.value=h(Qb.value),Qb):Y(Qb,rc)},defineProperty(Qb,rc,bd){e(rc)&&xa(Qb,rc)&&xa(bd,"value")&&(bd.value=m(bd.value));return M(Qb,rc,bd)}});class Re{constructor(Qb,rc,bd){if(C(Qb))var Ad=ca(yb,[K(Qb)],new.target);else{var wa;if(wa=t(Qb)){try{$b(Qb);
var Xa=!0}catch(Xb){Xa=!1}wa=!Xa}if(wa){if(void 0!==jb(Qb)){wa=Qb;Xa=$a(Qb);Ad=va(Qb);var zb=f(Ad)?eb:G(Ad,eb);if(I(Ad))throw Xd("Attempting to access detached ArrayBuffer");if(n(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");Ad=new zb(2*Xa);Ad=ca(yb,[Ad],new.target)}else{wa=Qb[la];if(null!=wa&&"function"!==typeof wa)throw Xd("@@iterator property is not callable");null!=wa?b(Qb)?(wa=Qb,Xa=Qb.length):(wa=[...Qb],Xa=wa.length):(wa=Qb,Xa=O(wa.length));Ad=ca(yb,[Xa],new.target)}for(zb=
0;zb<Xa;++zb)Ad[zb]=m(wa[zb])}else Ad=ca(yb,arguments,new.target)}wa=new N(Ad,Ge);Za(re,wa,Ad);return wa}static from(Qb,...rc){if(!Ga(this,Hc))throw Xd("This constructor is not a subclass of Float16Array");if(this===Re){if(C(Qb)&&0===rc.length){var bd=K(Qb);bd=new yb(va(bd),Ca(bd),$a(bd));return new Re(va($d(bd)))}if(0===rc.length)return new Re(va(S(uc,yb,[Qb,m])));const wa=rc[0];return new Re(va(S(uc,yb,[Qb,function(Xa,...zb){return m(S(wa,this,[Xa,...p(zb)]))},rc[1]])))}bd=Qb[la];if(null!=bd&&"function"!==
typeof bd)throw Xd("@@iterator property is not callable");if(null!=bd)b(Qb)?(bd=Qb,Qb=Qb.length):c(Qb)?(bd=Qb,Qb=$a(Qb)):(bd=[...Qb],Qb=bd.length);else{if(null==Qb)throw Xd("Cannot convert undefined or null to object");bd=Ma(Qb);Qb=O(bd.length)}const Ad=new this(Qb);if(0===rc.length)for(rc=0;rc<Qb;++rc)Ad[rc]=bd[rc];else{const wa=rc[0];rc=rc[1];for(let Xa=0;Xa<Qb;++Xa)Ad[Xa]=S(wa,rc,[bd[Xa],Xa])}return Ad}static of(...Qb){if(!Ga(this,Hc))throw Xd("This constructor is not a subclass of Float16Array");
const rc=Qb.length;if(this===Re){var bd=new Re(rc),Ad=K(bd);for(let wa=0;wa<rc;++wa)Ad[wa]=m(Qb[wa]);return bd}bd=new this(rc);for(Ad=0;Ad<rc;++Ad)bd[Ad]=Qb[Ad];return bd}keys(){r(this);const Qb=K(this);return Ab(Qb)}values(){r(this);const Qb=K(this);return q(function*(){for(const rc of dc(Qb))yield h(rc)}())}entries(){r(this);const Qb=K(this);return q(function*(){for(const [rc,bd]of Wb(Qb))yield[rc,h(bd)]}())}at(Qb){r(this);const rc=K(this),bd=$a(rc);Qb=x(Qb);Qb=0<=Qb?Qb:bd+Qb;if(!(0>Qb||Qb>=bd))return h(rc[Qb])}map(Qb,
...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];var wa=G(bd,Re);if(wa===Re){wa=new Re(Ad);var Xa=K(wa);for(var zb=0;zb<Ad;++zb){const Xb=h(bd[zb]);Xa[zb]=m(S(Qb,rc,[Xb,zb,this]))}return wa}wa=new wa(Ad);y(wa,Ad);for(Xa=0;Xa<Ad;++Xa)zb=h(bd[Xa]),wa[Xa]=S(Qb,rc,[zb,Xa,this]);return wa}filter(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];const wa=[];for(let Xa=0;Xa<Ad;++Xa){const zb=h(bd[Xa]);S(Qb,rc,[zb,Xa,this])&&ja(wa,zb)}Qb=new (G(bd,Re))(wa);y(Qb);return Qb}reduce(Qb,...rc){r(this);const bd=
K(this),Ad=$a(bd);if(0===Ad&&0===rc.length)throw Xd("Reduce of empty array with no initial value");if(0===rc.length){rc=h(bd[0]);var wa=1}else rc=rc[0],wa=0;for(;wa<Ad;++wa)rc=Qb(rc,h(bd[wa]),wa,this);return rc}reduceRight(Qb,...rc){r(this);const bd=K(this);var Ad=$a(bd);if(0===Ad&&0===rc.length)throw Xd("Reduce of empty array with no initial value");0===rc.length?(rc=h(bd[Ad-1]),Ad-=2):(rc=rc[0],--Ad);for(;0<=Ad;--Ad)rc=Qb(rc,h(bd[Ad]),Ad,this);return rc}forEach(Qb,...rc){r(this);const bd=K(this),
Ad=$a(bd);rc=rc[0];for(let wa=0;wa<Ad;++wa)S(Qb,rc,[h(bd[wa]),wa,this])}find(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];for(let wa=0;wa<Ad;++wa){const Xa=h(bd[wa]);if(S(Qb,rc,[Xa,wa,this]))return Xa}}findIndex(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];for(let wa=0;wa<Ad;++wa){const Xa=h(bd[wa]);if(S(Qb,rc,[Xa,wa,this]))return wa}return-1}findLast(Qb,...rc){r(this);const bd=K(this);var Ad=$a(bd);rc=rc[0];for(--Ad;0<=Ad;--Ad){const wa=h(bd[Ad]);if(S(Qb,rc,[wa,Ad,this]))return wa}}findLastIndex(Qb,
...rc){r(this);const bd=K(this);var Ad=$a(bd);rc=rc[0];for(--Ad;0<=Ad;--Ad){const wa=h(bd[Ad]);if(S(Qb,rc,[wa,Ad,this]))return Ad}return-1}every(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];for(let wa=0;wa<Ad;++wa)if(!S(Qb,rc,[h(bd[wa]),wa,this]))return!1;return!0}some(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=rc[0];for(let wa=0;wa<Ad;++wa)if(S(Qb,rc,[h(bd[wa]),wa,this]))return!0;return!1}set(Qb,...rc){r(this);const bd=K(this);rc=x(rc[0]);if(0>rc)throw ge("Offset is out of bounds");
if(null==Qb)throw Xd("Cannot convert undefined or null to object");if(n(Qb))throw Xd("Cannot mix BigInt and other types, use explicit conversions");if(C(Qb))return mc(K(this),K(Qb),rc);if(void 0!==jb(Qb)){var Ad=va(Qb);if(I(Ad))throw Xd("Attempting to access detached ArrayBuffer");}Ad=$a(bd);Qb=Ma(Qb);const wa=O(Qb.length);if(Infinity===rc||wa+rc>Ad)throw ge("Offset is out of bounds");for(Ad=0;Ad<wa;++Ad)bd[Ad+rc]=m(Qb[Ad])}reverse(){r(this);const Qb=K(this);Kc(Qb);return this}fill(Qb,...rc){r(this);
const bd=K(this);Fc(bd,m(Qb),...p(rc));return this}copyWithin(Qb,rc,...bd){r(this);const Ad=K(this);Sc(Ad,Qb,rc,...p(bd));return this}sort(Qb){r(this);const rc=K(this),bd=void 0!==Qb?Qb:F;jd(rc,(Ad,wa)=>bd(h(Ad),h(wa)));return this}slice(Qb,rc){r(this);var bd=K(this),Ad=G(bd,Re);if(Ad===Re)return bd=new yb(va(bd),Ca(bd),$a(bd)),new Re(va($d(bd,Qb,rc)));var wa=$a(bd);Qb=x(Qb);const Xa=void 0===rc?wa:x(rc);rc=-Infinity===Qb?0:0>Qb?0<wa+Qb?wa+Qb:0:wa<Qb?wa:Qb;wa=-Infinity===Xa?0:0>Xa?0<wa+Xa?wa+Xa:0:
wa<Xa?wa:Xa;Qb=0<wa-rc?wa-rc:0;Ad=new Ad(Qb);y(Ad,Qb);if(0===Qb)return Ad;Qb=va(bd);if(I(Qb))throw Xd("Attempting to access detached ArrayBuffer");for(Qb=0;rc<wa;)Ad[Qb]=h(bd[rc]),++rc,++Qb;return Ad}subarray(Qb,rc){r(this);var bd=K(this),Ad=G(bd,Re);bd=new yb(va(bd),Ca(bd),$a(bd));Qb=Ba(bd,Qb,rc);Ad=new Ad(va(Qb),Ca(Qb),$a(Qb));y(Ad);return Ad}indexOf(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);rc=x(rc[0]);if(Infinity===rc)return-1;0>rc&&(rc+=Ad,0>rc&&(rc=0));for(;rc<Ad;++rc)if(xa(bd,rc)&&h(bd[rc])===
Qb)return rc;return-1}lastIndexOf(Qb,...rc){r(this);const bd=K(this);var Ad=$a(bd);rc=1<=rc.length?x(rc[0]):Ad-1;if(-Infinity===rc)return-1;rc=0<=rc?rc<Ad-1?rc:Ad-1:rc+Ad;for(Ad=rc;0<=Ad;--Ad)if(xa(bd,Ad)&&h(bd[Ad])===Qb)return Ad;return-1}includes(Qb,...rc){r(this);const bd=K(this),Ad=$a(bd);var wa=x(rc[0]);if(Infinity===wa)return!1;0>wa&&(wa+=Ad,0>wa&&(wa=0));for(rc=qa(Qb);wa<Ad;++wa){const Xa=h(bd[wa]);if(rc&&qa(Xa)||Xa===Qb)return!0}return!1}join(Qb){r(this);var rc=K(this);rc=R(rc);return Oa(rc,
Qb)}toLocaleString(...Qb){r(this);var rc=K(this);rc=R(rc);return U(rc,...p(Qb))}get [bb](){if(C(this))return"Float16Array"}}Fa(Re,"BYTES_PER_ELEMENT",{value:2});Fa(Re,Hc,{});B(Re,Bc);const af=Re.prototype;Fa(af,"BYTES_PER_ELEMENT",{value:2});Fa(af,la,{value:af.values,writable:!0,configurable:!0});B(af,id);w.Float16Array=Re;w.getFloat16=function(Qb,rc,...bd){return h(xd(Qb,rc,...p(bd)))};w.hfround=function(Qb){if("bigint"===typeof Qb)throw Xd("Cannot convert a BigInt value to a number");Qb=Z(Qb);if(!Aa(Qb)||
0===Qb)return Qb;Qb=m(Qb);return h(Qb)};w.isFloat16Array=C;w.isTypedArray=function(Qb){return void 0!==jb(Qb)||C(Qb)};w.setFloat16=function(Qb,rc,bd,...Ad){return Nd(Qb,rc,m(bd),...p(Ad))};Object.defineProperties(w,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});return w})({})};
shadow$provide[216]=function(Ka,L,sb,A){function w(k,p,q){(q=q&&q.debug||!1)&&console.log("getting "+p+" in "+k);k="object"===typeof k?k.outer:k;p=`${p}\\="\([^"]*\)"`;q&&console.log("pattern:",p);p=(new RegExp(p)).exec(k);q&&console.log("match:",p);if(p)return p[1]}sb.exports=w;sb.exports.default=w};
shadow$provide[217]=function(Ka,L,sb,A){function w(k,p,q){return(k=(new RegExp(p)).exec(k.slice(q)))?q+k.index:-1}sb.exports=w;sb.exports.default=w};
shadow$provide[218]=function(Ka,L,sb,A){function w(k,p,q){return(k=(new RegExp(p)).exec(k.slice(q)))?q+k.index+k[0].length-1:-1}sb.exports=w;sb.exports.default=w};
shadow$provide[219]=function(Ka,L,sb,A){function w(q,t,n){const f=n&&n.debug||!1;var b=n&&n.startIndex||0;f&&console.log("[xml-utils] starting findTagByName with",t," and ",n);n=k(q,`\<${t}[ \>\/]`,b);f&&console.log("[xml-utils] start:",n);if(-1!==n){var c=q.slice(n+t.length),e=p(c,"^[^\x3c]*[ /]\x3e",0);b=-1!==e&&"/"===c[e-1];f&&console.log("[xml-utils] selfClosing:",b);!1===b&&(e=p(c,"[ /]"+t+"\x3e",0));t=n+t.length+e+1;f&&console.log("[xml-utils] end:",t);if(-1!==t)return q=q.slice(n,t),{inner:b?
null:q.slice(q.indexOf("\x3e")+1,q.lastIndexOf("\x3c")),outer:q,start:n,end:t}}}const k=L(217),p=L(218);sb.exports=w;sb.exports.default=w};
shadow$provide[220]=function(Ka,L,sb,A){function w(p,q,t){const n=[],f=t&&t.debug||!1;t=t&&t.startIndex||0;let b;for(;b=k(p,q,{debug:f,startIndex:t});)t=b.end,n.push(b);f&&console.log("findTagsByName found",n.length,"tags");return n}const k=L(219);sb.exports=w;sb.exports.default=w};
shadow$provide[221]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.geoKeys=A.geoKeyNames=A.LercAddCompression=A.LercParameters=A.ExtraSamplesValues=A.photometricInterpretations=A.fieldTypes=A.fieldTypeNames=A.arrayFields=A.fieldTagTypes=void 0;A.fieldTagNames={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",
290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",
328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",
286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",
42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"};A.fieldTags={};for(const w in A.fieldTagNames)A.fieldTagNames.hasOwnProperty(w)&&(A.fieldTags[A.fieldTagNames[w]]=parseInt(w,10));A.fieldTagTypes={256:"SHORT",257:"SHORT",258:"SHORT",259:"SHORT",262:"SHORT",273:"LONG",274:"SHORT",277:"SHORT",278:"LONG",279:"LONG",282:"RATIONAL",283:"RATIONAL",
284:"SHORT",286:"SHORT",287:"RATIONAL",296:"SHORT",297:"SHORT",305:"ASCII",306:"ASCII",338:"SHORT",339:"SHORT",513:"LONG",514:"LONG",1024:"SHORT",1025:"SHORT",2048:"SHORT",2049:"ASCII",3072:"SHORT",3073:"ASCII",33550:"DOUBLE",33922:"DOUBLE",34665:"LONG",34735:"SHORT",34737:"ASCII",42113:"ASCII"};A.arrayFields=[A.fieldTags.BitsPerSample,A.fieldTags.ExtraSamples,A.fieldTags.SampleFormat,A.fieldTags.StripByteCounts,A.fieldTags.StripOffsets,A.fieldTags.StripRowCounts,A.fieldTags.TileByteCounts,A.fieldTags.TileOffsets,
A.fieldTags.SubIFDs];A.fieldTypeNames={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"};A.fieldTypes={};for(const w in A.fieldTypeNames)A.fieldTypeNames.hasOwnProperty(w)&&(A.fieldTypes[A.fieldTypeNames[w]]=parseInt(w,10));A.photometricInterpretations={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9};A.ExtraSamplesValues={Unspecified:0,
Assocalpha:1,Unassalpha:2};A.LercParameters={Version:0,AddCompression:1};A.LercAddCompression={None:0,Deflate:1};A.geoKeyNames={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",
2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",
3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",
4099:"VerticalUnitsGeoKey"};A.geoKeys={};for(const w in A.geoKeyNames)A.geoKeyNames.hasOwnProperty(w)&&(A.geoKeys[A.geoKeyNames[w]]=parseInt(w,10))};
shadow$provide[222]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.fromCIELab=A.fromYCbCr=A.fromCMYK=A.fromPalette=A.fromBlackIsZero=A.fromWhiteIsZero=void 0;A.fromWhiteIsZero=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3);let n;for(let f=0,b=0;f<w.length;++f,b+=3)n=256-w[f]/k*256,t[b]=n,t[b+1]=n,t[b+2]=n;return t};A.fromBlackIsZero=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3);let n;for(let f=0,b=0;f<w.length;++f,b+=3)n=w[f]/k*256,t[b]=
n,t[b+1]=n,t[b+2]=n;return t};A.fromPalette=function(w,k){const {width:p,height:q}=w,t=new Uint8Array(p*q*3),n=k.length/3,f=k.length/3*2;for(let b=0,c=0;b<w.length;++b,c+=3){const e=w[b];t[c]=k[e]/65536*256;t[c+1]=k[e+n]/65536*256;t[c+2]=k[e+f]/65536*256}return t};A.fromCMYK=function(w){const {width:k,height:p}=w,q=new Uint8Array(k*p*3);for(let t=0,n=0;t<w.length;t+=4,n+=3){const f=w[t+1],b=w[t+2],c=w[t+3];q[n]=(255-w[t])/256*255*((255-c)/256);q[n+1]=(255-f)/256*255*((255-c)/256);q[n+2]=(255-b)/256*
255*((255-c)/256)}return q};A.fromYCbCr=function(w){const {width:k,height:p}=w,q=new Uint8ClampedArray(k*p*3);for(let t=0,n=0;t<w.length;t+=3,n+=3){const f=w[t],b=w[t+1],c=w[t+2];q[n]=f+1.402*(c-128);q[n+1]=f-.34414*(b-128)-.71414*(c-128);q[n+2]=f+1.772*(b-128)}return q};A.fromCIELab=function(w){const {width:k,height:p}=w,q=new Uint8Array(k*p*3);for(let n=0,f=0;n<w.length;n+=3,f+=3){var t=(w[n+0]+16)/116;let b=(w[n+1]<<24>>24)/500+t,c=t-(w[n+2]<<24>>24)/200,e,g;b=.95047*(.008856<b*b*b?b*b*b:(b-16/
116)/7.787);t=.008856<t*t*t?t*t*t:(t-16/116)/7.787;c=1.08883*(.008856<c*c*c?c*c*c:(c-16/116)/7.787);e=3.2406*b+-1.5372*t+-.4986*c;g=-.9689*b+1.8758*t+.0415*c;t=.0557*b+-.204*t+1.057*c;e=.0031308<e?1.055*Math.pow(e,1/2.4)-.055:12.92*e;g=.0031308<g?1.055*Math.pow(g,1/2.4)-.055:12.92*g;t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t;q[f]=255*Math.max(0,Math.min(1,e));q[f+1]=255*Math.max(0,Math.min(1,g));q[f+2]=255*Math.max(0,Math.min(1,t))}return q}};
shadow$provide[223]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.applyPredictor=void 0;A.applyPredictor=function(w,k,p,q,t,n){if(!k||1===k)return w;for(var f=0;f<t.length;++f){if(0!==t[f]%8)throw Error("When decoding with predictor, only multiple of 8 bits are supported.");if(t[f]!==t[0])throw Error("When decoding with predictor, all samples must have the same size.");}f=t[0]/8;n=2===n?1:t.length;for(let x=0;x<q&&!(x*n*p*f>=w.byteLength);++x){var b=void 0;if(2===k){switch(t[0]){case 8:b=
new Uint8Array(w,x*n*p*f,n*p*f);break;case 16:b=new Uint16Array(w,x*n*p*f,n*p*f/2);break;case 32:b=new Uint32Array(w,x*n*p*f,n*p*f/4);break;default:throw Error(`Predictor 2 not allowed with ${t[0]} bits per sample.`);}var c=n,e=b.length-c,g=0;do{for(var m=c;0<m;m--)b[g+c]+=b[g],g++;e-=c}while(0<e)}else if(3===k){b=new Uint8Array(w,x*n*p*f,n*p*f);g=n;c=f;m=0;var h=b.length;for(e=h/c;h>g;){for(let O=g;0<O;--O)b[m+g]+=b[m],++m;h-=g}g=b.slice();for(m=0;m<e;++m)for(h=0;h<c;++h)b[c*m+h]=g[(c-h-1)*e+m]}}return w}};
shadow$provide[224]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});const w=L(223);class k{decode(p,q){const t=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const n=yield t.decodeBlock(q),f=p.Predictor||1;if(1!==f){const b=!p.StripOffsets;return(0,w.applyPredictor)(n,f,b?p.TileWidth:p.ImageWidth,b?p.TileLength:p.RowsPerStrip||p.ImageLength,p.BitsPerSample,p.PlanarConfiguration)}return n})}}A.default=k};
shadow$provide[225]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{decodeBlock(k){return k}}A.default=w};
shadow$provide[226]=function(Ka,L,sb,A){function w(q,t){for(let n=t.length-1;0<=n;n--)q.push(t[n]);return q}function k(q){function t(I){{var F=h,C=m,r=F%8;const K=Math.floor(F/8),R=8-r,S=F+C-8*(K+1);const ca=8*(K+2)-F;var y=Math.max(0,8*(K+2)-(F+C));K>=I.length?(console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),I=257):(r=(I[K]&Math.pow(2,8-r)-1)<<C-R,K+1<I.length&&(y=I[K+1]>>>y,y<<=Math.max(0,C-ca),r+=y),8<S&&K+2<I.length&&(r+=I[K+2]>>>8*(K+3)-(F+C)),I=r)}h+=
m;return I}function n(I,F){c[g]=F;b[g]=I;g++;return g-1}function f(I){const F=[];for(;4096!==I;I=b[I])F.push(c[I]);return F}const b=new Uint16Array(4093),c=new Uint8Array(4093);for(var e=0;257>=e;e++)b[e]=4096,c[e]=e;let g=258,m=9,h=0;e=[];g=258;m=9;q=new Uint8Array(q);let x=t(q);for(var O;257!==x;){if(256===x){g=258;m=9;for(x=t(q);256===x;)x=t(q);if(257===x)break;else{if(256<x)throw Error(`corrupted code at scanline ${x}`);O=f(x);w(e,O);O=x}}else{if(x<g){var G=f(x);w(e,G);n(O,G[G.length-1])}else{G=
f(O);if(!G)throw Error(`Bogus entry. Not in dictionary, ${O} / ${g}, position: ${h}`);w(e,G);e.push(G[G.length-1]);n(O,G[G.length-1])}O=x}g+1>=Math.pow(2,m)&&(12===m?O=void 0:m++);x=t(q)}return new Uint8Array(e)}Ka=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{"default":q}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class p extends L.default{decodeBlock(q){return k(q,!1).buffer}}A.default=p};
shadow$provide[227]=function(Ka,L,sb,A){function w(n,f){let b=0;const c=[];let e=16;for(;0<e&&!n[e-1];)--e;c.push({children:[],index:0});let g=c[0],m;for(let h=0;h<e;h++){for(let x=0;x<n[h];x++){g=c.pop();for(g.children[g.index]=f[b];0<g.index;)g=c.pop();g.index++;for(c.push(g);c.length<=h;)c.push(m={children:[],index:0}),g.children[g.index]=m.children,g=m;b++}h+1<e&&(c.push(m={children:[],index:0}),g.children[g.index]=m.children,g=m)}return c[0].children}function k(n,f,b,c,e,g,m,h,x){function O(){if(0<
Y)return Y--,aa>>Y&1;aa=n[M++];if(255===aa){const Ja=n[M++];if(Ja)throw Error(`unexpected marker: ${(aa<<8|Ja).toString(16)}`);}Y=7;return aa>>>7}function G(Ja){let bb;for(;null!==(bb=O());){Ja=Ja[bb];if("number"===typeof Ja)return Ja;if("object"!==typeof Ja)throw Error("invalid huffman sequence");}return null}function I(Ja){let bb=0;for(;0<Ja;){const ib=O();if(null===ib)return;bb=bb<<1|ib;--Ja}return bb}function F(Ja){const bb=I(Ja);return bb>=1<<Ja-1?bb:bb+(-1<<Ja)+1}function C(Ja,bb){var ib=G(Ja.huffmanTableDC);
ib=0===ib?0:F(ib);Ja.pred+=ib;bb[0]=Ja.pred;for(ib=1;64>ib;){var Ma=G(Ja.huffmanTableAC);const ma=Ma&15;Ma>>=4;if(0===ma){if(15>Ma)break;ib+=16}else ib+=Ma,bb[p[ib]]=F(ma),ib++}}function r(Ja,bb){var ib=G(Ja.huffmanTableDC);ib=0===ib?0:F(ib)<<x;Ja.pred+=ib;bb[0]=Ja.pred}function y(Ja,bb){bb[0]|=O()<<x}function K(Ja,bb){if(0<ea)ea--;else for(var ib=g;ib<=m;){var Ma=G(Ja.huffmanTableAC);const ma=Ma&15;Ma>>=4;if(0===ma){if(15>Ma){ea=I(Ma)+(1<<Ma)-1;break}ib+=16}else ib+=Ma,bb[p[ib]]=F(ma)*(1<<x),ib++}}
function R(Ja,bb){let ib=g;for(var Ma=0;ib<=m;){var ma=p[ib];const Fa=0>bb[ma]?-1:1;switch(Ga){case 0:Ma=G(Ja.huffmanTableAC);ma=Ma&15;Ma>>=4;if(0===ma)15>Ma?(ea=I(Ma)+(1<<Ma),Ga=4):(Ma=16,Ga=1);else{if(1!==ma)throw Error("invalid ACn encoding");X=F(ma);Ga=Ma?2:3}continue;case 1:case 2:bb[ma]?bb[ma]+=(O()<<x)*Fa:(Ma--,0===Ma&&(Ga=2===Ga?3:0));break;case 3:bb[ma]?bb[ma]+=(O()<<x)*Fa:(bb[ma]=X<<x,Ga=0);break;case 4:bb[ma]&&(bb[ma]+=(O()<<x)*Fa)}ib++}4===Ga&&(ea--,0===ea&&(Ga=0))}const {mcusPerLine:S,
progressive:ca}=b;let M=f,aa=0,Y=0,ea=0,Ga=0,X;const D=c.length;let B,N,Z,Aa;h=ca?0===g?0===h?r:y:0===h?K:R:C;let qa=0;b=1===D?c[0].blocksPerLine*c[0].blocksPerColumn:S*b.mcusPerColumn;for(e=e||b;qa<b;){for(B=0;B<D;B++)c[B].pred=0;ea=0;if(1===D){var la=c[0];for(Aa=0;Aa<e;Aa++)h(la,la.blocks[qa/la.blocksPerLine|0][qa%la.blocksPerLine]),qa++}else for(Aa=0;Aa<e;Aa++){for(B=0;B<D;B++){la=c[B];const {h:Ja,v:bb}=la;for(N=0;N<bb;N++)for(Z=0;Z<Ja;Z++)h(la,la.blocks[(qa/S|0)*la.v+N][qa%S*la.h+Z])}qa++;if(qa===
b)break}Y=0;la=n[M]<<8|n[M+1];if(65280>la)throw Error("marker was not found");if(65488<=la&&65495>=la)M+=2;else break}return M-f}Ka=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));const p=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);class q{constructor(){this.adobe=
this.jfif=null;this.quantizationTables=[];this.huffmanTablesAC=[];this.huffmanTablesDC=[];this.resetFrames()}resetFrames(){this.frames=[]}parse(n){function f(){const F=n[e]<<8|n[e+1];e+=2;return F}function b(){var F=f();F=n.subarray(e,e+F-2);e+=F.length;return F}function c(F){let C=0,r=0,y,K;for(K in F.components)F.components.hasOwnProperty(K)&&(y=F.components[K],C<y.h&&(C=y.h),r<y.v&&(r=y.v));const R=Math.ceil(F.samplesPerLine/8/C),S=Math.ceil(F.scanLines/8/r);for(K in F.components)if(F.components.hasOwnProperty(K)){y=
F.components[K];const ca=Math.ceil(Math.ceil(F.samplesPerLine/8)*y.h/C),M=Math.ceil(Math.ceil(F.scanLines/8)*y.v/r),aa=R*y.h,Y=S*y.v,ea=[];for(let Ga=0;Ga<Y;Ga++){const X=[];for(let D=0;D<aa;D++)X.push(new Int32Array(64));ea.push(X)}y.blocksPerLine=ca;y.blocksPerColumn=M;y.blocks=ea}F.maxH=C;F.maxV=r;F.mcusPerLine=R;F.mcusPerColumn=S}let e=0;var g=f();if(65496!==g)throw Error("SOI not found");for(g=f();65497!==g;){switch(g){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var m=
b();65504===g&&74===m[0]&&70===m[1]&&73===m[2]&&70===m[3]&&0===m[4]&&(this.jfif={version:{major:m[5],minor:m[6]},densityUnits:m[7],xDensity:m[8]<<8|m[9],yDensity:m[10]<<8|m[11],thumbWidth:m[12],thumbHeight:m[13],thumbData:m.subarray(14,14+3*m[12]*m[13])});65518===g&&65===m[0]&&100===m[1]&&111===m[2]&&98===m[3]&&101===m[4]&&0===m[5]&&(this.adobe={version:m[6],flags0:m[7]<<8|m[8],flags1:m[9]<<8|m[10],transformCode:m[11]});break;case 65499:for(g=f()+e-2;e<g;){m=n[e++];var h=new Int32Array(64);if(0===
m>>4)for(var x=0;64>x;x++)h[p[x]]=n[e++];else if(1===m>>4)for(x=0;64>x;x++)h[p[x]]=f();else throw Error("DQT: invalid table spec");this.quantizationTables[m&15]=h}break;case 65472:case 65473:case 65474:f();g={extended:65473===g,progressive:65474===g,precision:n[e++],scanLines:f(),samplesPerLine:f(),components:{},componentsOrder:[]};m=n[e++];for(x=0;x<m;x++){h=n[e];var O=n[e+1]>>4,G=n[e+1]&15,I=n[e+2];g.componentsOrder.push(h);g.components[h]={h:O,v:G,quantizationIdx:I};e+=3}c(g);this.frames.push(g);
break;case 65476:g=f();for(m=2;m<g;){h=n[e++];x=new Uint8Array(16);O=0;for(G=0;16>G;G++,e++)x[G]=n[e],O+=x[G];G=new Uint8Array(O);for(I=0;I<O;I++,e++)G[I]=n[e];m+=17+O;0===h>>4?this.huffmanTablesDC[h&15]=w(x,G):this.huffmanTablesAC[h&15]=w(x,G)}break;case 65501:f();this.resetInterval=f();break;case 65498:f();h=n[e++];g=[];m=this.frames[0];for(x=0;x<h;x++)O=m.components[n[e++]],G=n[e++],O.huffmanTableDC=this.huffmanTablesDC[G>>4],O.huffmanTableAC=this.huffmanTablesAC[G&15],g.push(O);h=n[e++];x=n[e++];
O=n[e++];g=k(n,e,m,g,this.resetInterval,h,x,O>>4,O&15);e+=g;break;case 65535:255!==n[e]&&e--;break;default:if(255===n[e-3]&&192<=n[e-2]&&254>=n[e-2])e-=3;else throw Error(`unknown JPEG marker ${g.toString(16)}`);}g=f()}}getResult(){var {frames:n}=this;if(0===this.frames.length)throw Error("no frames were decoded");1<this.frames.length&&console.warn("more than one frame is not supported");for(var f=0;f<this.frames.length;f++){var b=this.frames[f].components;for(var c of Object.keys(b))b[c].quantizationTable=
this.quantizationTables[b[c].quantizationIdx],delete b[c].quantizationIdx}c=n[0];const {components:e,componentsOrder:g}=c;n=[];f=c.samplesPerLine;b=c.scanLines;for(var m=0;m<g.length;m++){var h=e[g[m]],x=n,O=x.push,G=h;const ca=[],{blocksPerLine:M,blocksPerColumn:aa}=G,Y=M<<3,ea=new Int32Array(64),Ga=new Uint8Array(64);for(let X=0;X<aa;X++){const D=X<<3;for(var I=0;8>I;I++)ca.push(new Uint8Array(Y));for(I=0;I<M;I++){var F=void 0,C=void 0,r=void 0;let B,N,Z,Aa,qa,la,Ja;C=G.blocks[X][I];var y=Ga,K=
ea;r=G.quantizationTable;var R=K;for(F=0;64>F;F++)R[F]=C[F]*r[F];for(F=0;8>F;++F){var S=8*F;0===R[1+S]&&0===R[2+S]&&0===R[3+S]&&0===R[4+S]&&0===R[5+S]&&0===R[6+S]&&0===R[7+S]?(C=5793*R[0+S]+512>>10,R[0+S]=C,R[1+S]=C,R[2+S]=C,R[3+S]=C,R[4+S]=C,R[5+S]=C,R[6+S]=C,R[7+S]=C):(Ja=5793*R[0+S]+128>>8,la=5793*R[4+S]+128>>8,qa=R[2+S],Aa=R[6+S],Z=2896*(R[1+S]-R[7+S])+128>>8,r=2896*(R[1+S]+R[7+S])+128>>8,N=R[3+S]<<4,B=R[5+S]<<4,C=Ja-la+1>>1,Ja=Ja+la+1>>1,la=C,C=3784*qa+1567*Aa+128>>8,qa=1567*qa-3784*Aa+128>>
8,Aa=C,C=Z-B+1>>1,Z=Z+B+1>>1,B=C,C=r+N+1>>1,N=r-N+1>>1,r=C,C=Ja-Aa+1>>1,Ja=Ja+Aa+1>>1,Aa=C,C=la-qa+1>>1,la=la+qa+1>>1,qa=C,C=2276*Z+3406*r+2048>>12,Z=3406*Z-2276*r+2048>>12,r=C,C=799*N+4017*B+2048>>12,N=4017*N-799*B+2048>>12,B=C,R[0+S]=Ja+r,R[7+S]=Ja-r,R[1+S]=la+B,R[6+S]=la-B,R[2+S]=qa+N,R[5+S]=qa-N,R[3+S]=Aa+Z,R[4+S]=Aa-Z)}for(F=0;8>F;++F)S=F,0===R[8+S]&&0===R[16+S]&&0===R[24+S]&&0===R[32+S]&&0===R[40+S]&&0===R[48+S]&&0===R[56+S]?(C=5793*K[F+0]+8192>>14,R[0+S]=C,R[8+S]=C,R[16+S]=C,R[24+S]=C,R[32+
S]=C,R[40+S]=C,R[48+S]=C,R[56+S]=C):(Ja=5793*R[0+S]+2048>>12,la=5793*R[32+S]+2048>>12,qa=R[16+S],Aa=R[48+S],Z=2896*(R[8+S]-R[56+S])+2048>>12,r=2896*(R[8+S]+R[56+S])+2048>>12,N=R[24+S],B=R[40+S],C=Ja-la+1>>1,Ja=Ja+la+1>>1,la=C,C=3784*qa+1567*Aa+2048>>12,qa=1567*qa-3784*Aa+2048>>12,Aa=C,C=Z-B+1>>1,Z=Z+B+1>>1,B=C,C=r+N+1>>1,N=r-N+1>>1,r=C,C=Ja-Aa+1>>1,Ja=Ja+Aa+1>>1,Aa=C,C=la-qa+1>>1,la=la+qa+1>>1,qa=C,C=2276*Z+3406*r+2048>>12,Z=3406*Z-2276*r+2048>>12,r=C,C=799*N+4017*B+2048>>12,N=4017*N-799*B+2048>>
12,B=C,R[0+S]=Ja+r,R[56+S]=Ja-r,R[8+S]=la+B,R[48+S]=la-B,R[16+S]=qa+N,R[40+S]=qa-N,R[24+S]=Aa+Z,R[32+S]=Aa-Z);for(F=0;64>F;++F)K=128+(R[F]+8>>4),y[F]=0>K?0:255<K?255:K;y=0;F=I<<3;for(R=0;8>R;R++)for(K=ca[D+R],C=0;8>C;C++)K[F+C]=Ga[y++]}}O.call(x,{lines:ca,scaleX:h.h/c.maxH,scaleY:h.v/c.maxV})}c=new Uint8Array(f*b*n.length);x=0;for(O=0;O<b;++O)for(G=0;G<f;++G)for(m=0;m<n.length;++m)h=n[m],c[x]=h.lines[0|O*h.scaleY][0|G*h.scaleX],++x;return c}}class t extends L.default{constructor(n){super();this.reader=
new q;n.JPEGTables&&this.reader.parse(n.JPEGTables)}decodeBlock(n){this.reader.resetFrames();this.reader.parse(new Uint8Array(n));return this.reader.getResult().buffer}}A.default=t};
shadow$provide[228]=function(Ka,L,sb,A){function w(ha){let ob=ha.length;for(;0<=--ob;)ha[ob]=0}function k(ha,ob,Ea,Ib,Yb){this.static_tree=ha;this.extra_bits=ob;this.extra_base=Ea;this.elems=Ib;this.max_length=Yb;this.has_stree=ha&&ha.length}function p(ha,ob){this.dyn_tree=ha;this.max_code=0;this.stat_desc=ob}function q(ha,ob,Ea,Ib,Yb){this.good_length=ha;this.max_lazy=ob;this.nice_length=Ea;this.max_chain=Ib;this.func=Yb}function t(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=
this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=id;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=
this.ins_h=0;this.dyn_ltree=new Uint16Array(1146);this.dyn_dtree=new Uint16Array(122);this.bl_tree=new Uint16Array(78);Ab(this.dyn_ltree);Ab(this.dyn_dtree);Ab(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Uint16Array(16);this.heap=new Uint16Array(573);Ab(this.heap);this.heap_max=this.heap_len=0;this.depth=new Uint16Array(573);Ab(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=
0}function n(ha){ha=this.options=Ub.assign({level:qe,method:qf,chunkSize:16384,windowBits:15,memLevel:8,strategy:wd},ha||{});ha.raw&&0<ha.windowBits?ha.windowBits=-ha.windowBits:ha.gzip&&0<ha.windowBits&&16>ha.windowBits&&(ha.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new $c;this.strm.avail_out=0;let ob=yb.deflateInit2(this.strm,ha.level,ha.method,ha.windowBits,ha.memLevel,ha.strategy);if(ob!==ge)throw Error(Fa[ob]);ha.header&&yb.deflateSetHeader(this.strm,ha.header);
if(ha.dictionary){ha="string"===typeof ha.dictionary?Ic.string2buf(ha.dictionary):"[object ArrayBuffer]"===dd.call(ha.dictionary)?new Uint8Array(ha.dictionary):ha.dictionary;ob=yb.deflateSetDictionary(this.strm,ha);if(ob!==ge)throw Error(Fa[ob]);this._dict_set=!0}}function f(ha,ob){ob=new n(ob);ob.push(ha,!0);if(ob.err)throw ob.msg||Fa[ob.err];return ob.result}function b(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=
this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Uint16Array(320);this.work=new Uint16Array(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function c(ha){const ob=this.options=Ub.assign({chunkSize:65536,windowBits:15,to:""},ha||{});ob.raw&&0<=ob.windowBits&&16>ob.windowBits&&(ob.windowBits=
-ob.windowBits,0===ob.windowBits&&(ob.windowBits=-15));!(0<=ob.windowBits&&16>ob.windowBits)||ha&&ha.windowBits||(ob.windowBits+=32);15<ob.windowBits&&48>ob.windowBits&&0===(ob.windowBits&15)&&(ob.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new $c;this.strm.avail_out=0;ha=rc.inflateInit2(this.strm,ob.windowBits);if(ha!==zb)throw Error(Fa[ha]);this.header=new bd;rc.inflateGetHeader(this.strm,this.header);if(ob.dictionary&&("string"===typeof ob.dictionary?ob.dictionary=
Ic.string2buf(ob.dictionary):"[object ArrayBuffer]"===Ad.call(ob.dictionary)&&(ob.dictionary=new Uint8Array(ob.dictionary)),ob.raw&&(ha=rc.inflateSetDictionary(this.strm,ob.dictionary),ha!==zb)))throw Error(Fa[ha]);}function e(ha,ob){ob=new c(ob);ob.push(ha);if(ob.err)throw ob.msg||Fa[ob.err];return ob.result}Object.defineProperty(A,"__esModule",{value:!0});A.ungzip=A.inflateRaw=A.inflate=A.gzip=A.deflateRaw=A.deflate=A.default=A.constants=A.Inflate=A.Deflate=void 0;const g=new Uint8Array([0,0,0,
0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),m=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),x=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=Array(576);w(O);const G=Array(60);w(G);const I=Array(512);w(I);const F=Array(256);w(F);const C=Array(29);w(C);const r=Array(30);w(r);let y,K,R;const S=(ha,ob)=>{ha.pending_buf[ha.pending++]=ob&255;ha.pending_buf[ha.pending++]=ob>>>8&
255},ca=(ha,ob,Ea)=>{ha.bi_valid>16-Ea?(ha.bi_buf|=ob<<ha.bi_valid&65535,S(ha,ha.bi_buf),ha.bi_buf=ob>>16-ha.bi_valid,ha.bi_valid+=Ea-16):(ha.bi_buf|=ob<<ha.bi_valid&65535,ha.bi_valid+=Ea)},M=(ha,ob,Ea)=>{ca(ha,Ea[2*ob],Ea[2*ob+1])},aa=(ha,ob)=>{let Ea=0;do Ea|=ha&1,ha>>>=1,Ea<<=1;while(0<--ob);return Ea>>>1},Y=(ha,ob,Ea)=>{const Ib=Array(16);var Yb=0;let kc;for(kc=1;15>=kc;kc++)Ib[kc]=Yb=Yb+Ea[kc-1]<<1;for(Ea=0;Ea<=ob;Ea++)Yb=ha[2*Ea+1],0!==Yb&&(ha[2*Ea]=aa(Ib[Yb]++,Yb))},ea=ha=>{let ob;for(ob=0;286>
ob;ob++)ha.dyn_ltree[2*ob]=0;for(ob=0;30>ob;ob++)ha.dyn_dtree[2*ob]=0;for(ob=0;19>ob;ob++)ha.bl_tree[2*ob]=0;ha.dyn_ltree[512]=1;ha.opt_len=ha.static_len=0;ha.last_lit=ha.matches=0},Ga=ha=>{8<ha.bi_valid?S(ha,ha.bi_buf):0<ha.bi_valid&&(ha.pending_buf[ha.pending++]=ha.bi_buf);ha.bi_buf=0;ha.bi_valid=0},X=(ha,ob,Ea,Ib)=>{const Yb=2*ob,kc=2*Ea;return ha[Yb]<ha[kc]||ha[Yb]===ha[kc]&&Ib[ob]<=Ib[Ea]},D=(ha,ob,Ea)=>{const Ib=ha.heap[Ea];let Yb=Ea<<1;for(;Yb<=ha.heap_len;){Yb<ha.heap_len&&X(ob,ha.heap[Yb+
1],ha.heap[Yb],ha.depth)&&Yb++;if(X(ob,Ib,ha.heap[Yb],ha.depth))break;ha.heap[Ea]=ha.heap[Yb];Ea=Yb;Yb<<=1}ha.heap[Ea]=Ib},B=(ha,ob,Ea)=>{let Ib,Yb,kc=0,Nc,Jc;if(0!==ha.last_lit){do Ib=ha.pending_buf[ha.d_buf+2*kc]<<8|ha.pending_buf[ha.d_buf+2*kc+1],Yb=ha.pending_buf[ha.l_buf+kc],kc++,0===Ib?M(ha,Yb,ob):(Nc=F[Yb],M(ha,Nc+256+1,ob),Jc=g[Nc],0!==Jc&&(Yb-=C[Nc],ca(ha,Yb,Jc)),Ib--,Nc=256>Ib?I[Ib]:I[256+(Ib>>>7)],M(ha,Nc,Ea),Jc=m[Nc],0!==Jc&&(Ib-=r[Nc],ca(ha,Ib,Jc)));while(kc<ha.last_lit)}M(ha,256,ob)},
N=(ha,ob)=>{const Ea=ob.dyn_tree;var Ib=ob.stat_desc.static_tree,Yb=ob.stat_desc.has_stree,kc=ob.stat_desc.elems,Nc;let Jc=-1;ha.heap_len=0;ha.heap_max=573;for(Nc=0;Nc<kc;Nc++)0!==Ea[2*Nc]?(ha.heap[++ha.heap_len]=Jc=Nc,ha.depth[Nc]=0):Ea[2*Nc+1]=0;for(;2>ha.heap_len;){var pd=ha.heap[++ha.heap_len]=2>Jc?++Jc:0;Ea[2*pd]=1;ha.depth[pd]=0;ha.opt_len--;Yb&&(ha.static_len-=Ib[2*pd+1])}ob.max_code=Jc;for(Nc=ha.heap_len>>1;1<=Nc;Nc--)D(ha,Ea,Nc);pd=kc;do Nc=ha.heap[1],ha.heap[1]=ha.heap[ha.heap_len--],D(ha,
Ea,1),Ib=ha.heap[1],ha.heap[--ha.heap_max]=Nc,ha.heap[--ha.heap_max]=Ib,Ea[2*pd]=Ea[2*Nc]+Ea[2*Ib],ha.depth[pd]=(ha.depth[Nc]>=ha.depth[Ib]?ha.depth[Nc]:ha.depth[Ib])+1,Ea[2*Nc+1]=Ea[2*Ib+1]=pd,ha.heap[1]=pd++,D(ha,Ea,1);while(2<=ha.heap_len);ha.heap[--ha.heap_max]=ha.heap[1];{Nc=ob.dyn_tree;pd=ob.max_code;Ib=ob.stat_desc.static_tree;Yb=ob.stat_desc.has_stree;kc=ob.stat_desc.extra_bits;const qd=ob.stat_desc.extra_base,Yd=ob.stat_desc.max_length;let Od,Jd,ed,sd,wc=0;for(Jd=0;15>=Jd;Jd++)ha.bl_count[Jd]=
0;Nc[2*ha.heap[ha.heap_max]+1]=0;for(ob=ha.heap_max+1;573>ob;ob++)Od=ha.heap[ob],Jd=Nc[2*Nc[2*Od+1]+1]+1,Jd>Yd&&(Jd=Yd,wc++),Nc[2*Od+1]=Jd,Od>pd||(ha.bl_count[Jd]++,ed=0,Od>=qd&&(ed=kc[Od-qd]),sd=Nc[2*Od],ha.opt_len+=sd*(Jd+ed),Yb&&(ha.static_len+=sd*(Ib[2*Od+1]+ed)));if(0!==wc){do{for(Jd=Yd-1;0===ha.bl_count[Jd];)Jd--;ha.bl_count[Jd]--;ha.bl_count[Jd+1]+=2;ha.bl_count[Yd]--;wc-=2}while(0<wc);for(Jd=Yd;0!==Jd;Jd--)for(Od=ha.bl_count[Jd];0!==Od;)Ib=ha.heap[--ob],Ib>pd||(Nc[2*Ib+1]!==Jd&&(ha.opt_len+=
(Jd-Nc[2*Ib+1])*Nc[2*Ib],Nc[2*Ib+1]=Jd),Od--)}}Y(Ea,Jc,ha.bl_count)},Z=(ha,ob,Ea)=>{let Ib,Yb=-1,kc,Nc=ob[1],Jc=0,pd=7,qd=4;0===Nc&&(pd=138,qd=3);ob[2*(Ea+1)+1]=65535;for(Ib=0;Ib<=Ea;Ib++)kc=Nc,Nc=ob[2*(Ib+1)+1],++Jc<pd&&kc===Nc||(Jc<qd?ha.bl_tree[2*kc]+=Jc:0!==kc?(kc!==Yb&&ha.bl_tree[2*kc]++,ha.bl_tree[32]++):10>=Jc?ha.bl_tree[34]++:ha.bl_tree[36]++,Jc=0,Yb=kc,0===Nc?(pd=138,qd=3):kc===Nc?(pd=6,qd=3):(pd=7,qd=4))},Aa=(ha,ob,Ea)=>{let Ib,Yb=-1,kc,Nc=ob[1],Jc=0,pd=7,qd=4;0===Nc&&(pd=138,qd=3);for(Ib=
0;Ib<=Ea;Ib++)if(kc=Nc,Nc=ob[2*(Ib+1)+1],!(++Jc<pd&&kc===Nc)){if(Jc<qd){do M(ha,kc,ha.bl_tree);while(0!==--Jc)}else 0!==kc?(kc!==Yb&&(M(ha,kc,ha.bl_tree),Jc--),M(ha,16,ha.bl_tree),ca(ha,Jc-3,2)):10>=Jc?(M(ha,17,ha.bl_tree),ca(ha,Jc-3,3)):(M(ha,18,ha.bl_tree),ca(ha,Jc-11,7));Jc=0;Yb=kc;0===Nc?(pd=138,qd=3):kc===Nc?(pd=6,qd=3):(pd=7,qd=4)}},qa=ha=>{let ob=4093624447,Ea;for(Ea=0;31>=Ea;Ea++,ob>>>=1)if(ob&1&&0!==ha.dyn_ltree[2*Ea])return 0;if(0!==ha.dyn_ltree[18]||0!==ha.dyn_ltree[20]||0!==ha.dyn_ltree[26])return 1;
for(Ea=32;256>Ea;Ea++)if(0!==ha.dyn_ltree[2*Ea])return 1;return 0};let la=!1;const Ja=(ha,ob,Ea,Ib)=>{ca(ha,Ib?1:0,3);Ga(ha);S(ha,Ea);S(ha,~Ea);ha.pending_buf.set(ha.window.subarray(ob,ob+Ea),ha.pending);ha.pending+=Ea};var bb={_tr_init:ha=>{if(!la){var ob,Ea;let Ib;const Yb=Array(16);for(Ib=Ea=0;28>Ib;Ib++)for(C[Ib]=Ea,ob=0;ob<1<<g[Ib];ob++)F[Ea++]=Ib;F[Ea-1]=Ib;for(Ib=Ea=0;16>Ib;Ib++)for(r[Ib]=Ea,ob=0;ob<1<<m[Ib];ob++)I[Ea++]=Ib;for(Ea>>=7;30>Ib;Ib++)for(r[Ib]=Ea<<7,ob=0;ob<1<<m[Ib]-7;ob++)I[256+
Ea++]=Ib;for(ob=0;15>=ob;ob++)Yb[ob]=0;for(ob=0;143>=ob;)O[2*ob+1]=8,ob++,Yb[8]++;for(;255>=ob;)O[2*ob+1]=9,ob++,Yb[9]++;for(;279>=ob;)O[2*ob+1]=7,ob++,Yb[7]++;for(;287>=ob;)O[2*ob+1]=8,ob++,Yb[8]++;Y(O,287,Yb);for(ob=0;30>ob;ob++)G[2*ob+1]=5,G[2*ob]=aa(ob,5);y=new k(O,g,257,286,15);K=new k(G,m,0,30,15);R=new k([],h,0,19,7);la=!0}ha.l_desc=new p(ha.dyn_ltree,y);ha.d_desc=new p(ha.dyn_dtree,K);ha.bl_desc=new p(ha.bl_tree,R);ha.bi_buf=0;ha.bi_valid=0;ea(ha)},_tr_stored_block:Ja,_tr_flush_block:(ha,
ob,Ea,Ib)=>{let Yb;var kc=0;if(0<ha.level){2===ha.strm.data_type&&(ha.strm.data_type=qa(ha));N(ha,ha.l_desc);N(ha,ha.d_desc);Z(ha,ha.dyn_ltree,ha.l_desc.max_code);Z(ha,ha.dyn_dtree,ha.d_desc.max_code);N(ha,ha.bl_desc);for(kc=18;3<=kc&&0===ha.bl_tree[2*x[kc]+1];kc--);ha.opt_len+=3*(kc+1)+14;var Nc=ha.opt_len+3+7>>>3;Yb=ha.static_len+3+7>>>3;Yb<=Nc&&(Nc=Yb)}else Nc=Yb=Ea+5;if(Ea+4<=Nc&&-1!==ob)Ja(ha,ob,Ea,Ib);else if(4===ha.strategy||Yb===Nc)ca(ha,2+(Ib?1:0),3),B(ha,O,G);else{ca(ha,4+(Ib?1:0),3);ob=
ha.l_desc.max_code+1;Ea=ha.d_desc.max_code+1;kc+=1;ca(ha,ob-257,5);ca(ha,Ea-1,5);ca(ha,kc-4,4);for(Nc=0;Nc<kc;Nc++)ca(ha,ha.bl_tree[2*x[Nc]+1],3);Aa(ha,ha.dyn_ltree,ob-1);Aa(ha,ha.dyn_dtree,Ea-1);B(ha,ha.dyn_ltree,ha.dyn_dtree)}ea(ha);Ib&&Ga(ha)},_tr_tally:(ha,ob,Ea)=>{ha.pending_buf[ha.d_buf+2*ha.last_lit]=ob>>>8&255;ha.pending_buf[ha.d_buf+2*ha.last_lit+1]=ob&255;ha.pending_buf[ha.l_buf+ha.last_lit]=Ea&255;ha.last_lit++;0===ob?ha.dyn_ltree[2*Ea]++:(ha.matches++,ob--,ha.dyn_ltree[2*(F[Ea]+256+1)]++,
ha.dyn_dtree[2*(256>ob?I[ob]:I[256+(ob>>>7)])]++);return ha.last_lit===ha.lit_bufsize-1},_tr_align:ha=>{ca(ha,2,3);M(ha,256,O);16===ha.bi_valid?(S(ha,ha.bi_buf),ha.bi_buf=0,ha.bi_valid=0):8<=ha.bi_valid&&(ha.pending_buf[ha.pending++]=ha.bi_buf&255,ha.bi_buf>>=8,ha.bi_valid-=8)}},ib=(ha,ob,Ea,Ib)=>{let Yb=ha&65535|0;ha=ha>>>16&65535|0;let kc;for(;0!==Ea;){kc=2E3<Ea?2E3:Ea;Ea-=kc;do Yb=Yb+ob[Ib++]|0,ha=ha+Yb|0;while(--kc);Yb%=65521;ha%=65521}return Yb|ha<<16|0};const Ma=new Uint32Array((()=>{let ha,
ob=[];for(var Ea=0;256>Ea;Ea++){ha=Ea;for(var Ib=0;8>Ib;Ib++)ha=ha&1?3988292384^ha>>>1:ha>>>1;ob[Ea]=ha}return ob})());var ma=(ha,ob,Ea,Ib)=>{Ea=Ib+Ea;for(ha^=-1;Ib<Ea;Ib++)ha=ha>>>8^Ma[(ha^ob[Ib])&255];return ha^-1},Fa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ra={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,
Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const {_tr_init:ra,_tr_stored_block:ya,_tr_flush_block:oa,_tr_tally:xa,_tr_align:Ua}=bb,{Z_NO_FLUSH:fb,Z_PARTIAL_FLUSH:sa,Z_FULL_FLUSH:Oa,Z_FINISH:ja,Z_BLOCK:U,Z_OK:ka,Z_STREAM_END:ua,Z_STREAM_ERROR:Ta,Z_DATA_ERROR:eb,
Z_BUF_ERROR:lb,Z_DEFAULT_COMPRESSION:nb,Z_FILTERED:Mb,Z_HUFFMAN_ONLY:$b,Z_RLE:Gc,Z_FIXED:zc,Z_DEFAULT_STRATEGY:Bc,Z_UNKNOWN:uc,Z_DEFLATED:id}=Ra,Hb=(ha,ob)=>{ha.msg=Fa[ob];return ob},Ab=ha=>{let ob=ha.length;for(;0<=--ob;)ha[ob]=0},dc=ha=>{const ob=ha.state;let Ea=ob.pending;Ea>ha.avail_out&&(Ea=ha.avail_out);0!==Ea&&(ha.output.set(ob.pending_buf.subarray(ob.pending_out,ob.pending_out+Ea),ha.next_out),ha.next_out+=Ea,ob.pending_out+=Ea,ha.total_out+=Ea,ha.avail_out-=Ea,ob.pending-=Ea,0===ob.pending&&
(ob.pending_out=0))},Wb=(ha,ob)=>{oa(ha,0<=ha.block_start?ha.block_start:-1,ha.strstart-ha.block_start,ob);ha.block_start=ha.strstart;dc(ha.strm)},mc=(ha,ob)=>{ha.pending_buf[ha.pending++]=ob>>>8&255;ha.pending_buf[ha.pending++]=ob&255},Kc=(ha,ob)=>{let Ea=ha.max_chain_length,Ib=ha.strstart;let Yb=ha.prev_length,kc=ha.nice_match;const Nc=ha.strstart>ha.w_size-262?ha.strstart-(ha.w_size-262):0,Jc=ha.window,pd=ha.w_mask,qd=ha.prev,Yd=ha.strstart+258;let Od=Jc[Ib+Yb-1],Jd=Jc[Ib+Yb];ha.prev_length>=ha.good_match&&
(Ea>>=2);kc>ha.lookahead&&(kc=ha.lookahead);do{var ed=ob;if(Jc[ed+Yb]===Jd&&Jc[ed+Yb-1]===Od&&Jc[ed]===Jc[Ib]&&Jc[++ed]===Jc[Ib+1]){Ib+=2;for(ed++;Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Jc[++Ib]===Jc[++ed]&&Ib<Yd;);ed=258-(Yd-Ib);Ib=Yd-258;if(ed>Yb){ha.match_start=ob;Yb=ed;if(ed>=kc)break;Od=Jc[Ib+Yb-1];Jd=Jc[Ib+Yb]}}}while((ob=qd[ob&pd])>Nc&&0!==--Ea);return Yb<=ha.lookahead?Yb:ha.lookahead},
Fc=ha=>{const ob=ha.w_size;var Ea;do{var Ib=ha.window_size-ha.lookahead-ha.strstart;if(ha.strstart>=ob+(ob-262)){ha.window.set(ha.window.subarray(ob,ob+ob),0);ha.match_start-=ob;ha.strstart-=ob;ha.block_start-=ob;var Yb=Ea=ha.hash_size;do{var kc=ha.head[--Yb];ha.head[Yb]=kc>=ob?kc-ob:0}while(--Ea);Yb=Ea=ob;do kc=ha.prev[--Yb],ha.prev[Yb]=kc>=ob?kc-ob:0;while(--Ea);Ib+=ob}if(0===ha.strm.avail_in)break;{Yb=ha.strm;Ea=ha.window;kc=ha.strstart+ha.lookahead;let Nc=Yb.avail_in;Nc>Ib&&(Nc=Ib);0===Nc?Ea=
0:(Yb.avail_in-=Nc,Ea.set(Yb.input.subarray(Yb.next_in,Yb.next_in+Nc),kc),1===Yb.state.wrap?Yb.adler=ib(Yb.adler,Ea,Nc,kc):2===Yb.state.wrap&&(Yb.adler=ma(Yb.adler,Ea,Nc,kc)),Yb.next_in+=Nc,Yb.total_in+=Nc,Ea=Nc)}ha.lookahead+=Ea;if(3<=ha.lookahead+ha.insert)for(Ib=ha.strstart-ha.insert,ha.ins_h=ha.window[Ib],ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[Ib+1])&ha.hash_mask;ha.insert&&!(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[Ib+3-1])&ha.hash_mask,ha.prev[Ib&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=
Ib,Ib++,ha.insert--,3>ha.lookahead+ha.insert););}while(262>ha.lookahead&&0!==ha.strm.avail_in)},Sc=(ha,ob)=>{for(var Ea;;){if(262>ha.lookahead){Fc(ha);if(262>ha.lookahead&&ob===fb)return 1;if(0===ha.lookahead)break}Ea=0;3<=ha.lookahead&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,Ea=ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);0!==Ea&&ha.strstart-Ea<=ha.w_size-262&&(ha.match_length=Kc(ha,Ea));if(3<=ha.match_length)if(Ea=xa(ha,ha.strstart-
ha.match_start,ha.match_length-3),ha.lookahead-=ha.match_length,ha.match_length<=ha.max_lazy_match&&3<=ha.lookahead){ha.match_length--;do ha.strstart++,ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart;while(0!==--ha.match_length);ha.strstart++}else ha.strstart+=ha.match_length,ha.match_length=0,ha.ins_h=ha.window[ha.strstart],ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+1])&ha.hash_mask;
else Ea=xa(ha,0,ha.window[ha.strstart]),ha.lookahead--,ha.strstart++;if(Ea&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=2>ha.strstart?ha.strstart:2;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},jd=(ha,ob)=>{let Ea;for(;;){if(262>ha.lookahead){Fc(ha);if(262>ha.lookahead&&ob===fb)return 1;if(0===ha.lookahead)break}var Ib=0;3<=ha.lookahead&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,Ib=ha.prev[ha.strstart&
ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);ha.prev_length=ha.match_length;ha.prev_match=ha.match_start;ha.match_length=2;0!==Ib&&ha.prev_length<ha.max_lazy_match&&ha.strstart-Ib<=ha.w_size-262&&(ha.match_length=Kc(ha,Ib),5>=ha.match_length&&(ha.strategy===Mb||3===ha.match_length&&4096<ha.strstart-ha.match_start)&&(ha.match_length=2));if(3<=ha.prev_length&&ha.match_length<=ha.prev_length){Ea=ha.strstart+ha.lookahead-3;Ib=xa(ha,ha.strstart-1-ha.prev_match,ha.prev_length-3);ha.lookahead-=
ha.prev_length-1;ha.prev_length-=2;do++ha.strstart<=Ea&&(ha.ins_h=(ha.ins_h<<ha.hash_shift^ha.window[ha.strstart+3-1])&ha.hash_mask,ha.prev[ha.strstart&ha.w_mask]=ha.head[ha.ins_h],ha.head[ha.ins_h]=ha.strstart);while(0!==--ha.prev_length);ha.match_available=0;ha.match_length=2;ha.strstart++;if(Ib&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}else if(ha.match_available){if((Ib=xa(ha,0,ha.window[ha.strstart-1]))&&Wb(ha,!1),ha.strstart++,ha.lookahead--,0===ha.strm.avail_out)return 1}else ha.match_available=
1,ha.strstart++,ha.lookahead--}ha.match_available&&(xa(ha,0,ha.window[ha.strstart-1]),ha.match_available=0);ha.insert=2>ha.strstart?ha.strstart:2;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},$d=(ha,ob)=>{let Ea,Ib;const Yb=ha.window;for(;;){if(258>=ha.lookahead){Fc(ha);if(258>=ha.lookahead&&ob===fb)return 1;if(0===ha.lookahead)break}ha.match_length=0;if(3<=ha.lookahead&&0<ha.strstart){Ea=ha.strstart-1;var kc=Yb[Ea];if(kc===Yb[++Ea]&&kc===
Yb[++Ea]&&kc===Yb[++Ea]){for(Ib=ha.strstart+258;kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&kc===Yb[++Ea]&&Ea<Ib;);ha.match_length=258-(Ib-Ea);ha.match_length>ha.lookahead&&(ha.match_length=ha.lookahead)}}3<=ha.match_length?(kc=xa(ha,1,ha.match_length-3),ha.lookahead-=ha.match_length,ha.strstart+=ha.match_length,ha.match_length=0):(kc=xa(ha,0,ha.window[ha.strstart]),ha.lookahead--,ha.strstart++);if(kc&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=
0;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},Ba=(ha,ob)=>{let Ea;for(;;){if(0===ha.lookahead&&(Fc(ha),0===ha.lookahead)){if(ob===fb)return 1;break}ha.match_length=0;Ea=xa(ha,0,ha.window[ha.strstart]);ha.lookahead--;ha.strstart++;if(Ea&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=0;return ob===ja?(Wb(ha,!0),0===ha.strm.avail_out?3:4):ha.last_lit&&(Wb(ha,!1),0===ha.strm.avail_out)?1:2},va=[new q(0,0,0,0,(ha,ob)=>{let Ea=65535;for(Ea>
ha.pending_buf_size-5&&(Ea=ha.pending_buf_size-5);;){if(1>=ha.lookahead){Fc(ha);if(0===ha.lookahead&&ob===fb)return 1;if(0===ha.lookahead)break}ha.strstart+=ha.lookahead;ha.lookahead=0;const Ib=ha.block_start+Ea;if(0===ha.strstart||ha.strstart>=Ib)if(ha.lookahead=ha.strstart-Ib,ha.strstart=Ib,Wb(ha,!1),0===ha.strm.avail_out)return 1;if(ha.strstart-ha.block_start>=ha.w_size-262&&(Wb(ha,!1),0===ha.strm.avail_out))return 1}ha.insert=0;if(ob===ja)return Wb(ha,!0),0===ha.strm.avail_out?3:4;ha.strstart>
ha.block_start&&Wb(ha,!1);return 1}),new q(4,4,8,4,Sc),new q(4,5,16,8,Sc),new q(4,6,32,32,Sc),new q(4,4,16,16,jd),new q(8,16,32,32,jd),new q(8,16,128,128,jd),new q(8,32,128,256,jd),new q(32,128,258,1024,jd),new q(32,258,258,4096,jd)],Ca=ha=>{if(!ha||!ha.state)return Hb(ha,Ta);ha.total_in=ha.total_out=0;ha.data_type=uc;const ob=ha.state;ob.pending=0;ob.pending_out=0;0>ob.wrap&&(ob.wrap=-ob.wrap);ob.status=ob.wrap?42:113;ha.adler=2===ob.wrap?0:1;ob.last_flush=fb;ra(ob);return ka},$a=ha=>{const ob=Ca(ha);
ob===ka&&(ha=ha.state,ha.window_size=2*ha.w_size,Ab(ha.head),ha.max_lazy_match=va[ha.level].max_lazy,ha.good_match=va[ha.level].good_length,ha.nice_match=va[ha.level].nice_length,ha.max_chain_length=va[ha.level].max_chain,ha.strstart=0,ha.block_start=0,ha.lookahead=0,ha.insert=0,ha.match_length=ha.prev_length=2,ha.match_available=0,ha.ins_h=0);return ob},jb=(ha,ob,Ea,Ib,Yb,kc)=>{if(!ha)return Ta;let Nc=1;ob===nb&&(ob=6);0>Ib?(Nc=0,Ib=-Ib):15<Ib&&(Nc=2,Ib-=16);if(1>Yb||9<Yb||Ea!==id||8>Ib||15<Ib||
0>ob||9<ob||0>kc||kc>zc)return Hb(ha,Ta);8===Ib&&(Ib=9);const Jc=new t;ha.state=Jc;Jc.strm=ha;Jc.wrap=Nc;Jc.gzhead=null;Jc.w_bits=Ib;Jc.w_size=1<<Jc.w_bits;Jc.w_mask=Jc.w_size-1;Jc.hash_bits=Yb+7;Jc.hash_size=1<<Jc.hash_bits;Jc.hash_mask=Jc.hash_size-1;Jc.hash_shift=~~((Jc.hash_bits+3-1)/3);Jc.window=new Uint8Array(2*Jc.w_size);Jc.head=new Uint16Array(Jc.hash_size);Jc.prev=new Uint16Array(Jc.w_size);Jc.lit_bufsize=1<<Yb+6;Jc.pending_buf_size=4*Jc.lit_bufsize;Jc.pending_buf=new Uint8Array(Jc.pending_buf_size);
Jc.d_buf=1*Jc.lit_bufsize;Jc.l_buf=3*Jc.lit_bufsize;Jc.level=ob;Jc.strategy=kc;Jc.method=Ea;return $a(ha)};var yb={deflateInit:(ha,ob)=>jb(ha,ob,id,15,8,Bc),deflateInit2:jb,deflateReset:$a,deflateResetKeep:Ca,deflateSetHeader:(ha,ob)=>{if(!ha||!ha.state||2!==ha.state.wrap)return Ta;ha.state.gzhead=ob;return ka},deflate:(ha,ob)=>{if(!ha||!ha.state||ob>U||0>ob)return ha?Hb(ha,Ta):Ta;const Ea=ha.state;if(!ha.output||!ha.input&&0!==ha.avail_in||666===Ea.status&&ob!==ja)return Hb(ha,0===ha.avail_out?lb:
Ta);Ea.strm=ha;var Ib=Ea.last_flush;Ea.last_flush=ob;if(42===Ea.status)if(2===Ea.wrap)if(ha.adler=0,Ea.pending_buf[Ea.pending++]=31,Ea.pending_buf[Ea.pending++]=139,Ea.pending_buf[Ea.pending++]=8,Ea.gzhead){var Yb=(Ea.gzhead.text?1:0)+(Ea.gzhead.hcrc?2:0)+(Ea.gzhead.extra?4:0)+(Ea.gzhead.name?8:0)+(Ea.gzhead.comment?16:0);Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time>>8&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.time>>16&255;Ea.pending_buf[Ea.pending++]=
Yb;Yb=Ea.gzhead.time>>24&255;Ea.pending_buf[Ea.pending++]=Yb;Yb=9===Ea.level?2:Ea.strategy>=$b||2>Ea.level?4:0;Ea.pending_buf[Ea.pending++]=Yb;Yb=Ea.gzhead.os&255;Ea.pending_buf[Ea.pending++]=Yb;Ea.gzhead.extra&&Ea.gzhead.extra.length&&(Yb=Ea.gzhead.extra.length&255,Ea.pending_buf[Ea.pending++]=Yb,Yb=Ea.gzhead.extra.length>>8&255,Ea.pending_buf[Ea.pending++]=Yb);Ea.gzhead.hcrc&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending,0));Ea.gzindex=0;Ea.status=69}else Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=
0,Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=0,Ea.pending_buf[Ea.pending++]=0,Yb=9===Ea.level?2:Ea.strategy>=$b||2>Ea.level?4:0,Ea.pending_buf[Ea.pending++]=Yb,Ea.pending_buf[Ea.pending++]=3,Ea.status=113;else Yb=id+(Ea.w_bits-8<<4)<<8,Yb|=(Ea.strategy>=$b||2>Ea.level?0:6>Ea.level?1:6===Ea.level?2:3)<<6,0!==Ea.strstart&&(Yb|=32),Ea.status=113,mc(Ea,Yb+(31-Yb%31)),0!==Ea.strstart&&(mc(Ea,ha.adler>>>16),mc(Ea,ha.adler&65535)),ha.adler=1;if(69===Ea.status)if(Ea.gzhead.extra){for(Yb=
Ea.pending;Ea.gzindex<(Ea.gzhead.extra.length&65535)&&(Ea.pending!==Ea.pending_buf_size||(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending!==Ea.pending_buf_size));){var kc=Ea.gzhead.extra[Ea.gzindex]&255;Ea.pending_buf[Ea.pending++]=kc;Ea.gzindex++}Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));Ea.gzindex===Ea.gzhead.extra.length&&(Ea.gzindex=0,Ea.status=73)}else Ea.status=73;if(73===Ea.status)if(Ea.gzhead.name){Yb=
Ea.pending;do{if(Ea.pending===Ea.pending_buf_size&&(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending===Ea.pending_buf_size)){kc=1;break}var Nc=kc=Ea.gzindex<Ea.gzhead.name.length?Ea.gzhead.name.charCodeAt(Ea.gzindex++)&255:0;Ea.pending_buf[Ea.pending++]=Nc}while(0!==kc);Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));0===kc&&(Ea.gzindex=0,Ea.status=91)}else Ea.status=91;if(91===Ea.status)if(Ea.gzhead.comment){Yb=
Ea.pending;do{if(Ea.pending===Ea.pending_buf_size&&(Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb)),dc(ha),Yb=Ea.pending,Ea.pending===Ea.pending_buf_size)){kc=1;break}Nc=kc=Ea.gzindex<Ea.gzhead.comment.length?Ea.gzhead.comment.charCodeAt(Ea.gzindex++)&255:0;Ea.pending_buf[Ea.pending++]=Nc}while(0!==kc);Ea.gzhead.hcrc&&Ea.pending>Yb&&(ha.adler=ma(ha.adler,Ea.pending_buf,Ea.pending-Yb,Yb));0===kc&&(Ea.status=103)}else Ea.status=103;103===Ea.status&&(Ea.gzhead.hcrc?
(Ea.pending+2>Ea.pending_buf_size&&dc(ha),Ea.pending+2<=Ea.pending_buf_size&&(Yb=ha.adler&255,Ea.pending_buf[Ea.pending++]=Yb,Yb=ha.adler>>8&255,Ea.pending_buf[Ea.pending++]=Yb,ha.adler=0,Ea.status=113)):Ea.status=113);if(0!==Ea.pending){if(dc(ha),0===ha.avail_out)return Ea.last_flush=-1,ka}else if(0===ha.avail_in&&(ob<<1)-(4<ob?9:0)<=(Ib<<1)-(4<Ib?9:0)&&ob!==ja)return Hb(ha,lb);if(666===Ea.status&&0!==ha.avail_in)return Hb(ha,lb);if(0!==ha.avail_in||0!==Ea.lookahead||ob!==fb&&666!==Ea.status){Ib=
Ea.strategy===$b?Ba(Ea,ob):Ea.strategy===Gc?$d(Ea,ob):va[Ea.level].func(Ea,ob);if(3===Ib||4===Ib)Ea.status=666;if(1===Ib||3===Ib)return 0===ha.avail_out&&(Ea.last_flush=-1),ka;if(2===Ib&&(ob===sa?Ua(Ea):ob!==U&&(ya(Ea,0,0,!1),ob===Oa&&(Ab(Ea.head),0===Ea.lookahead&&(Ea.strstart=0,Ea.block_start=0,Ea.insert=0))),dc(ha),0===ha.avail_out))return Ea.last_flush=-1,ka}if(ob!==ja)return ka;if(0>=Ea.wrap)return ua;2===Ea.wrap?(ob=ha.adler&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.adler>>8&255,Ea.pending_buf[Ea.pending++]=
ob,ob=ha.adler>>16&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.adler>>24&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>8&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>16&255,Ea.pending_buf[Ea.pending++]=ob,ob=ha.total_in>>24&255,Ea.pending_buf[Ea.pending++]=ob):(mc(Ea,ha.adler>>>16),mc(Ea,ha.adler&65535));dc(ha);0<Ea.wrap&&(Ea.wrap=-Ea.wrap);return 0!==Ea.pending?ka:ua},deflateEnd:ha=>{if(!ha||!ha.state)return Ta;const ob=ha.state.status;
if(42!==ob&&69!==ob&&73!==ob&&91!==ob&&103!==ob&&113!==ob&&666!==ob)return Hb(ha,Ta);ha.state=null;return 113===ob?Hb(ha,eb):ka},deflateSetDictionary:(ha,ob)=>{var Ea=ob.length;if(!ha||!ha.state)return Ta;const Ib=ha.state,Yb=Ib.wrap;if(2===Yb||1===Yb&&42!==Ib.status||Ib.lookahead)return Ta;1===Yb&&(ha.adler=ib(ha.adler,ob,Ea,0));Ib.wrap=0;if(Ea>=Ib.w_size){0===Yb&&(Ab(Ib.head),Ib.strstart=0,Ib.block_start=0,Ib.insert=0);var kc=new Uint8Array(Ib.w_size);kc.set(ob.subarray(Ea-Ib.w_size,Ea),0);ob=kc;
Ea=Ib.w_size}kc=ha.avail_in;const Nc=ha.next_in,Jc=ha.input;ha.avail_in=Ea;ha.next_in=0;ha.input=ob;for(Fc(Ib);3<=Ib.lookahead;){ob=Ib.strstart;Ea=Ib.lookahead-2;do Ib.ins_h=(Ib.ins_h<<Ib.hash_shift^Ib.window[ob+3-1])&Ib.hash_mask,Ib.prev[ob&Ib.w_mask]=Ib.head[Ib.ins_h],Ib.head[Ib.ins_h]=ob,ob++;while(--Ea);Ib.strstart=ob;Ib.lookahead=2;Fc(Ib)}Ib.strstart+=Ib.lookahead;Ib.block_start=Ib.strstart;Ib.insert=Ib.lookahead;Ib.lookahead=0;Ib.match_length=Ib.prev_length=2;Ib.match_available=0;ha.next_in=
Nc;ha.input=Jc;ha.avail_in=kc;Ib.wrap=Yb;return ka},deflateInfo:"pako deflate (from Nodeca project)"},Ub={assign:function(ha){const ob=Array.prototype.slice.call(arguments,1);for(;ob.length;){const Ea=ob.shift();if(Ea){if("object"!==typeof Ea)throw new TypeError(Ea+"must be non-object");for(const Ib in Ea)Object.prototype.hasOwnProperty.call(Ea,Ib)&&(ha[Ib]=Ea[Ib])}}return ha},flattenChunks:ha=>{var ob=0;for(let Ea=0,Ib=ha.length;Ea<Ib;Ea++)ob+=ha[Ea].length;ob=new Uint8Array(ob);for(let Ea=0,Ib=
0,Yb=ha.length;Ea<Yb;Ea++){let kc=ha[Ea];ob.set(kc,Ib);Ib+=kc.length}return ob}};let Tb=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ha){Tb=!1}const Vb=new Uint8Array(256);for(let ha=0;256>ha;ha++)Vb[ha]=252<=ha?6:248<=ha?5:240<=ha?4:224<=ha?3:192<=ha?2:1;Vb[254]=Vb[254]=1;var Ic={string2buf:ha=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(ha);let ob,Ea,Ib,Yb,kc,Nc=ha.length,Jc=0;for(Yb=0;Yb<Nc;Yb++)Ea=ha.charCodeAt(Yb),55296===
(Ea&64512)&&Yb+1<Nc&&(Ib=ha.charCodeAt(Yb+1),56320===(Ib&64512)&&(Ea=65536+(Ea-55296<<10)+(Ib-56320),Yb++)),Jc+=128>Ea?1:2048>Ea?2:65536>Ea?3:4;ob=new Uint8Array(Jc);for(Yb=kc=0;kc<Jc;Yb++)Ea=ha.charCodeAt(Yb),55296===(Ea&64512)&&Yb+1<Nc&&(Ib=ha.charCodeAt(Yb+1),56320===(Ib&64512)&&(Ea=65536+(Ea-55296<<10)+(Ib-56320),Yb++)),128>Ea?ob[kc++]=Ea:(2048>Ea?ob[kc++]=192|Ea>>>6:(65536>Ea?ob[kc++]=224|Ea>>>12:(ob[kc++]=240|Ea>>>18,ob[kc++]=128|Ea>>>12&63),ob[kc++]=128|Ea>>>6&63),ob[kc++]=128|Ea&63);return ob},
buf2string:(ha,ob)=>{var Ea=ob||ha.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(ha.subarray(0,ob));var Ib;let Yb;ob=Array(2*Ea);for(Ib=Yb=0;Ib<Ea;){let kc=ha[Ib++];if(128>kc){ob[Yb++]=kc;continue}let Nc=Vb[kc];if(4<Nc)ob[Yb++]=65533,Ib+=Nc-1;else{for(kc&=2===Nc?31:3===Nc?15:7;1<Nc&&Ib<Ea;)kc=kc<<6|ha[Ib++]&63,Nc--;1<Nc?ob[Yb++]=65533:65536>kc?ob[Yb++]=kc:(kc-=65536,ob[Yb++]=55296|kc>>10&1023,ob[Yb++]=56320|kc&1023)}}ha=Yb;if(65534>ha&&ob.subarray&&
Tb)ob=String.fromCharCode.apply(null,ob.length===ha?ob:ob.subarray(0,ha));else{Ea="";for(Ib=0;Ib<ha;Ib++)Ea+=String.fromCharCode(ob[Ib]);ob=Ea}return ob},utf8border:(ha,ob)=>{ob=ob||ha.length;ob>ha.length&&(ob=ha.length);let Ea=ob-1;for(;0<=Ea&&128===(ha[Ea]&192);)Ea--;return 0>Ea||0===Ea?ob:Ea+Vb[ha[Ea]]>ob?Ea:ob}},$c=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=
0};const dd=Object.prototype.toString,{Z_NO_FLUSH:nd,Z_SYNC_FLUSH:xd,Z_FULL_FLUSH:Nd,Z_FINISH:Xd,Z_OK:ge,Z_STREAM_END:le,Z_DEFAULT_COMPRESSION:qe,Z_DEFAULT_STRATEGY:wd,Z_DEFLATED:qf}=Ra;n.prototype.push=function(ha,ob){const Ea=this.strm,Ib=this.options.chunkSize;if(this.ended)return!1;ob=ob===~~ob?ob:!0===ob?Xd:nd;"string"===typeof ha?Ea.input=Ic.string2buf(ha):"[object ArrayBuffer]"===dd.call(ha)?Ea.input=new Uint8Array(ha):Ea.input=ha;Ea.next_in=0;for(Ea.avail_in=Ea.input.length;;)if(0===Ea.avail_out&&
(Ea.output=new Uint8Array(Ib),Ea.next_out=0,Ea.avail_out=Ib),(ob===xd||ob===Nd)&&6>=Ea.avail_out)this.onData(Ea.output.subarray(0,Ea.next_out)),Ea.avail_out=0;else{ha=yb.deflate(Ea,ob);if(ha===le){if(0<Ea.next_out)this.onData(Ea.output.subarray(0,Ea.next_out));ha=yb.deflateEnd(this.strm);this.onEnd(ha);this.ended=!0;return ha===ge}if(0===Ea.avail_out)this.onData(Ea.output);else if(0<ob&&0<Ea.next_out)this.onData(Ea.output.subarray(0,Ea.next_out)),Ea.avail_out=0;else if(0===Ea.avail_in)break}return!0};
n.prototype.onData=function(ha){this.chunks.push(ha)};n.prototype.onEnd=function(ha){ha===ge&&(this.result=Ub.flattenChunks(this.chunks));this.chunks=[];this.err=ha;this.msg=this.strm.msg};var gf={Deflate:n,deflate:f,deflateRaw:function(ha,ob){ob=ob||{};ob.raw=!0;return f(ha,ob)},gzip:function(ha,ob){ob=ob||{};ob.gzip=!0;return f(ha,ob)},constants:Ra};const te=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),We=new Uint8Array([16,16,16,16,
16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),za=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Za=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var tb=(ha,ob,Ea,Ib,Yb,kc,Nc,Jc)=>{var pd=Jc.bits;let qd,Yd,Od,Jd;var ed;let sd,wc,Rc,Lc,ud,kb,Gb,Pb=0,bc;const fa=new Uint16Array(16);var Ia=new Uint16Array(16);let gb,
Fb=0,Kb,Ob,oc;for(qd=0;15>=qd;qd++)fa[qd]=0;for(Yd=0;Yd<Ib;Yd++)fa[ob[Ea+Yd]]++;Jd=pd;for(Od=15;1<=Od&&0===fa[Od];Od--);Jd>Od&&(Jd=Od);if(0===Od)return Yb[kc++]=20971520,Yb[kc++]=20971520,Jc.bits=1,0;for(pd=1;pd<Od&&0===fa[pd];pd++);Jd<pd&&(Jd=pd);for(qd=ed=1;15>=qd;qd++)if(ed<<=1,ed-=fa[qd],0>ed)return-1;if(0<ed&&(0===ha||1!==Od))return-1;Ia[1]=0;for(qd=1;15>qd;qd++)Ia[qd+1]=Ia[qd]+fa[qd];for(Yd=0;Yd<Ib;Yd++)0!==ob[Ea+Yd]&&(Nc[Ia[ob[Ea+Yd]]++]=Yd);0===ha?(Gb=gb=Nc,bc=19):1===ha?(Gb=te,Pb-=257,gb=
We,Fb-=257,bc=256):(Gb=za,gb=Za,bc=-1);Yd=wc=0;qd=pd;kb=kc;Ib=Jd;Ia=0;Lc=-1;sd=1<<Jd;ud=sd-1;if(1===ha&&852<sd||2===ha&&592<sd)return 1;for(;;){Kb=qd-Ia;Nc[Yd]<bc?(Ob=0,oc=Nc[Yd]):Nc[Yd]>bc?(Ob=gb[Fb+Nc[Yd]],oc=Gb[Pb+Nc[Yd]]):(Ob=96,oc=0);ed=1<<qd-Ia;pd=Rc=1<<Ib;do Rc-=ed,Yb[kb+(wc>>Ia)+Rc]=Kb<<24|Ob<<16|oc|0;while(0!==Rc);for(ed=1<<qd-1;wc&ed;)ed>>=1;0!==ed?(wc&=ed-1,wc+=ed):wc=0;Yd++;if(0===--fa[qd]){if(qd===Od)break;qd=ob[Ea+Nc[Yd]]}if(qd>Jd&&(wc&ud)!==Lc){0===Ia&&(Ia=Jd);kb+=pd;Ib=qd-Ia;for(ed=
1<<Ib;Ib+Ia<Od;){ed-=fa[Ib+Ia];if(0>=ed)break;Ib++;ed<<=1}sd+=1<<Ib;if(1===ha&&852<sd||2===ha&&592<sd)return 1;Lc=wc&ud;Yb[Lc]=Jd<<24|Ib<<16|kb-kc|0}}0!==wc&&(Yb[kb+wc]=qd-Ia<<24|4194304);Jc.bits=Jd;return 0};const {Z_FINISH:Jb,Z_BLOCK:fc,Z_TREES:nc,Z_OK:Hc,Z_STREAM_END:Dc,Z_NEED_DICT:lc,Z_STREAM_ERROR:ld,Z_DATA_ERROR:rd,Z_MEM_ERROR:Hd,Z_BUF_ERROR:Vd,Z_DEFLATED:ce}=Ra,he=ha=>{if(!ha||!ha.state)return ld;const ob=ha.state;ha.total_in=ha.total_out=ob.total=0;ha.msg="";ob.wrap&&(ha.adler=ob.wrap&1);
ob.mode=1;ob.last=0;ob.havedict=0;ob.dmax=32768;ob.head=null;ob.hold=0;ob.bits=0;ob.lencode=ob.lendyn=new Int32Array(852);ob.distcode=ob.distdyn=new Int32Array(592);ob.sane=1;ob.back=-1;return Hc},Ce=ha=>{if(!ha||!ha.state)return ld;const ob=ha.state;ob.wsize=0;ob.whave=0;ob.wnext=0;return he(ha)},re=(ha,ob)=>{let Ea;if(!ha||!ha.state)return ld;const Ib=ha.state;0>ob?(Ea=0,ob=-ob):(Ea=(ob>>4)+1,48>ob&&(ob&=15));if(ob&&(8>ob||15<ob))return ld;null!==Ib.window&&Ib.wbits!==ob&&(Ib.window=null);Ib.wrap=
Ea;Ib.wbits=ob;return Ce(ha)},vf=(ha,ob)=>{if(!ha)return ld;const Ea=new b;ha.state=Ea;Ea.window=null;ob=re(ha,ob);ob!==Hc&&(ha.state=null);return ob};let Ge=!0,Re,af;const Qb=(ha,ob,Ea,Ib)=>{const Yb=ha.state;null===Yb.window&&(Yb.wsize=1<<Yb.wbits,Yb.wnext=0,Yb.whave=0,Yb.window=new Uint8Array(Yb.wsize));Ib>=Yb.wsize?(Yb.window.set(ob.subarray(Ea-Yb.wsize,Ea),0),Yb.wnext=0,Yb.whave=Yb.wsize):(ha=Yb.wsize-Yb.wnext,ha>Ib&&(ha=Ib),Yb.window.set(ob.subarray(Ea-Ib,Ea-Ib+ha),Yb.wnext),(Ib-=ha)?(Yb.window.set(ob.subarray(Ea-
Ib,Ea),0),Yb.wnext=Ib,Yb.whave=Yb.wsize):(Yb.wnext+=ha,Yb.wnext===Yb.wsize&&(Yb.wnext=0),Yb.whave<Yb.wsize&&(Yb.whave+=ha)));return 0};var rc={inflateReset:Ce,inflateReset2:re,inflateResetKeep:he,inflateInit:ha=>vf(ha,15),inflateInit2:vf,inflate:(ha,ob)=>{let Ea;let Ib,Yb;let kc;const Nc=new Uint8Array(4),Jc=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!ha||!ha.state||!ha.output||!ha.input&&0!==ha.avail_in)return ld;Ea=ha.state;12===Ea.mode&&(Ea.mode=13);var pd=ha.next_out;
var qd=ha.output;var Yd=ha.avail_out;var Od=ha.next_in;var Jd=ha.input;var ed=ha.avail_in;var sd=Ea.hold;var wc=Ea.bits;Ib=ed;Yb=Yd;kc=Hc;a:for(;;)switch(Ea.mode){case 1:if(0===Ea.wrap){Ea.mode=13;break}for(;16>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(Ea.wrap&2&&35615===sd){Ea.check=0;Nc[0]=sd&255;Nc[1]=sd>>>8&255;Ea.check=ma(Ea.check,Nc,2,0);wc=sd=0;Ea.mode=2;break}Ea.flags=0;Ea.head&&(Ea.head.done=!1);if(!(Ea.wrap&1)||(((sd&255)<<8)+(sd>>8))%31){ha.msg="incorrect header check";Ea.mode=
30;break}if((sd&15)!==ce){ha.msg="unknown compression method";Ea.mode=30;break}sd>>>=4;wc-=4;var Rc=(sd&15)+8;if(0===Ea.wbits)Ea.wbits=Rc;else if(Rc>Ea.wbits){ha.msg="invalid window size";Ea.mode=30;break}Ea.dmax=1<<Ea.wbits;ha.adler=Ea.check=1;Ea.mode=sd&512?10:12;wc=sd=0;break;case 2:for(;16>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.flags=sd;if((Ea.flags&255)!==ce){ha.msg="unknown compression method";Ea.mode=30;break}if(Ea.flags&57344){ha.msg="unknown header flags set";Ea.mode=30;break}Ea.head&&
(Ea.head.text=sd>>8&1);Ea.flags&512&&(Nc[0]=sd&255,Nc[1]=sd>>>8&255,Ea.check=ma(Ea.check,Nc,2,0));wc=sd=0;Ea.mode=3;case 3:for(;32>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.head&&(Ea.head.time=sd);Ea.flags&512&&(Nc[0]=sd&255,Nc[1]=sd>>>8&255,Nc[2]=sd>>>16&255,Nc[3]=sd>>>24&255,Ea.check=ma(Ea.check,Nc,4,0));wc=sd=0;Ea.mode=4;case 4:for(;16>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.head&&(Ea.head.xflags=sd&255,Ea.head.os=sd>>8);Ea.flags&512&&(Nc[0]=sd&255,Nc[1]=sd>>>8&255,Ea.check=
ma(Ea.check,Nc,2,0));wc=sd=0;Ea.mode=5;case 5:if(Ea.flags&1024){for(;16>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.length=sd;Ea.head&&(Ea.head.extra_len=sd);Ea.flags&512&&(Nc[0]=sd&255,Nc[1]=sd>>>8&255,Ea.check=ma(Ea.check,Nc,2,0));wc=sd=0}else Ea.head&&(Ea.head.extra=null);Ea.mode=6;case 6:if(Ea.flags&1024){var Lc=Ea.length;Lc>ed&&(Lc=ed);Lc&&(Ea.head&&(Rc=Ea.head.extra_len-Ea.length,Ea.head.extra||(Ea.head.extra=new Uint8Array(Ea.head.extra_len)),Ea.head.extra.set(Jd.subarray(Od,Od+Lc),
Rc)),Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od)),ed-=Lc,Od+=Lc,Ea.length-=Lc);if(Ea.length)break a}Ea.length=0;Ea.mode=7;case 7:if(Ea.flags&2048){if(0===ed)break a;Lc=0;do Rc=Jd[Od+Lc++],Ea.head&&Rc&&65536>Ea.length&&(Ea.head.name+=String.fromCharCode(Rc));while(Rc&&Lc<ed);Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od));ed-=Lc;Od+=Lc;if(Rc)break a}else Ea.head&&(Ea.head.name=null);Ea.length=0;Ea.mode=8;case 8:if(Ea.flags&4096){if(0===ed)break a;Lc=0;do Rc=Jd[Od+Lc++],Ea.head&&Rc&&65536>Ea.length&&
(Ea.head.comment+=String.fromCharCode(Rc));while(Rc&&Lc<ed);Ea.flags&512&&(Ea.check=ma(Ea.check,Jd,Lc,Od));ed-=Lc;Od+=Lc;if(Rc)break a}else Ea.head&&(Ea.head.comment=null);Ea.mode=9;case 9:if(Ea.flags&512){for(;16>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(sd!==(Ea.check&65535)){ha.msg="header crc mismatch";Ea.mode=30;break}wc=sd=0}Ea.head&&(Ea.head.hcrc=Ea.flags>>9&1,Ea.head.done=!0);ha.adler=Ea.check=0;Ea.mode=12;break;case 10:for(;32>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=
8}ha.adler=Ea.check=(sd>>>24&255)+(sd>>>8&65280)+((sd&65280)<<8)+((sd&255)<<24);wc=sd=0;Ea.mode=11;case 11:if(0===Ea.havedict)return ha.next_out=pd,ha.avail_out=Yd,ha.next_in=Od,ha.avail_in=ed,Ea.hold=sd,Ea.bits=wc,lc;ha.adler=Ea.check=1;Ea.mode=12;case 12:if(ob===fc||ob===nc)break a;case 13:if(Ea.last){sd>>>=wc&7;wc-=wc&7;Ea.mode=27;break}for(;3>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.last=sd&1;sd>>>=1;--wc;switch(sd&3){case 0:Ea.mode=14;break;case 1:Lc=Ea;if(Ge){Re=new Int32Array(512);
af=new Int32Array(32);for(Rc=0;144>Rc;)Lc.lens[Rc++]=8;for(;256>Rc;)Lc.lens[Rc++]=9;for(;280>Rc;)Lc.lens[Rc++]=7;for(;288>Rc;)Lc.lens[Rc++]=8;tb(1,Lc.lens,0,288,Re,0,Lc.work,{bits:9});for(Rc=0;32>Rc;)Lc.lens[Rc++]=5;tb(2,Lc.lens,0,32,af,0,Lc.work,{bits:5});Ge=!1}Lc.lencode=Re;Lc.lenbits=9;Lc.distcode=af;Lc.distbits=5;Ea.mode=20;if(ob===nc){sd>>>=2;wc-=2;break a}break;case 2:Ea.mode=17;break;case 3:ha.msg="invalid block type",Ea.mode=30}sd>>>=2;wc-=2;break;case 14:sd>>>=wc&7;for(wc-=wc&7;32>wc;){if(0===
ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if((sd&65535)!==(sd>>>16^65535)){ha.msg="invalid stored block lengths";Ea.mode=30;break}Ea.length=sd&65535;wc=sd=0;Ea.mode=15;if(ob===nc)break a;case 15:Ea.mode=16;case 16:if(Lc=Ea.length){Lc>ed&&(Lc=ed);Lc>Yd&&(Lc=Yd);if(0===Lc)break a;qd.set(Jd.subarray(Od,Od+Lc),pd);ed-=Lc;Od+=Lc;Yd-=Lc;pd+=Lc;Ea.length-=Lc;break}Ea.mode=12;break;case 17:for(;14>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.nlen=(sd&31)+257;sd>>>=5;wc-=5;Ea.ndist=(sd&31)+1;sd>>>=5;
wc-=5;Ea.ncode=(sd&15)+4;sd>>>=4;wc-=4;if(286<Ea.nlen||30<Ea.ndist){ha.msg="too many length or distance symbols";Ea.mode=30;break}Ea.have=0;Ea.mode=18;case 18:for(;Ea.have<Ea.ncode;){for(;3>wc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.lens[Jc[Ea.have++]]=sd&7;sd>>>=3;wc-=3}for(;19>Ea.have;)Ea.lens[Jc[Ea.have++]]=0;Ea.lencode=Ea.lendyn;Ea.lenbits=7;Lc={bits:Ea.lenbits};kc=tb(0,Ea.lens,0,19,Ea.lencode,0,Ea.work,Lc);Ea.lenbits=Lc.bits;if(kc){ha.msg="invalid code lengths set";Ea.mode=30;break}Ea.have=
0;Ea.mode=19;case 19:for(;Ea.have<Ea.nlen+Ea.ndist;){for(;;){var ud=Ea.lencode[sd&(1<<Ea.lenbits)-1];Lc=ud>>>24;ud&=65535;if(Lc<=wc)break;if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(16>ud)sd>>>=Lc,wc-=Lc,Ea.lens[Ea.have++]=ud;else{if(16===ud){for(Rc=Lc+2;wc<Rc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}sd>>>=Lc;wc-=Lc;if(0===Ea.have){ha.msg="invalid bit length repeat";Ea.mode=30;break}Rc=Ea.lens[Ea.have-1];Lc=3+(sd&3);sd>>>=2;wc-=2}else if(17===ud){for(Rc=Lc+3;wc<Rc;){if(0===ed)break a;
ed--;sd+=Jd[Od++]<<wc;wc+=8}sd>>>=Lc;wc-=Lc;Rc=0;Lc=3+(sd&7);sd>>>=3;wc-=3}else{for(Rc=Lc+7;wc<Rc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}sd>>>=Lc;wc-=Lc;Rc=0;Lc=11+(sd&127);sd>>>=7;wc-=7}if(Ea.have+Lc>Ea.nlen+Ea.ndist){ha.msg="invalid bit length repeat";Ea.mode=30;break}for(;Lc--;)Ea.lens[Ea.have++]=Rc}}if(30===Ea.mode)break;if(0===Ea.lens[256]){ha.msg="invalid code -- missing end-of-block";Ea.mode=30;break}Ea.lenbits=9;Lc={bits:Ea.lenbits};kc=tb(1,Ea.lens,0,Ea.nlen,Ea.lencode,0,Ea.work,
Lc);Ea.lenbits=Lc.bits;if(kc){ha.msg="invalid literal/lengths set";Ea.mode=30;break}Ea.distbits=6;Ea.distcode=Ea.distdyn;Lc={bits:Ea.distbits};kc=tb(2,Ea.lens,Ea.nlen,Ea.ndist,Ea.distcode,0,Ea.work,Lc);Ea.distbits=Lc.bits;if(kc){ha.msg="invalid distances set";Ea.mode=30;break}Ea.mode=20;if(ob===nc)break a;case 20:Ea.mode=21;case 21:if(6<=ed&&258<=Yd){ha.next_out=pd;ha.avail_out=Yd;ha.next_in=Od;ha.avail_in=ed;Ea.hold=sd;Ea.bits=wc;var kb=void 0;let fa,Ia,gb,Fb,Kb,Ob,oc,Oc,yc;Jd=ha;const fd=Jd.state;
yc=Jd.next_in;Od=Jd.input;Oc=yc+(Jd.avail_in-5);oc=Jd.next_out;qd=Jd.output;Ob=oc-(Yb-Jd.avail_out);Kb=oc+(Jd.avail_out-257);Fb=fd.dmax;gb=fd.wsize;ud=fd.whave;var Gb=fd.wnext;var Pb=fd.window;var bc=fd.hold;Rc=fd.bits;Lc=fd.lencode;wc=fd.distcode;sd=(1<<fd.lenbits)-1;Yd=(1<<fd.distbits)-1;b:do c:for(15>Rc&&(bc+=Od[yc++]<<Rc,Rc+=8,bc+=Od[yc++]<<Rc,Rc+=8),kb=Lc[bc&sd];;){ed=kb>>>24;bc>>>=ed;Rc-=ed;ed=kb>>>16&255;if(0===ed)qd[oc++]=kb&65535;else if(ed&16){pd=kb&65535;if(ed&=15)Rc<ed&&(bc+=Od[yc++]<<
Rc,Rc+=8),pd+=bc&(1<<ed)-1,bc>>>=ed,Rc-=ed;15>Rc&&(bc+=Od[yc++]<<Rc,Rc+=8,bc+=Od[yc++]<<Rc,Rc+=8);kb=wc[bc&Yd];d:for(;;){ed=kb>>>24;bc>>>=ed;Rc-=ed;ed=kb>>>16&255;if(ed&16){Ia=kb&65535;ed&=15;Rc<ed&&(bc+=Od[yc++]<<Rc,Rc+=8,Rc<ed&&(bc+=Od[yc++]<<Rc,Rc+=8));Ia+=bc&(1<<ed)-1;if(Ia>Fb){Jd.msg="invalid distance too far back";fd.mode=30;break b}bc>>>=ed;Rc-=ed;ed=oc-Ob;if(Ia>ed){ed=Ia-ed;if(ed>ud&&fd.sane){Jd.msg="invalid distance too far back";fd.mode=30;break b}fa=0;kb=Pb;if(0===Gb){if(fa+=gb-ed,ed<pd){pd-=
ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ia;kb=qd}}else if(Gb<ed){if(fa+=gb+Gb-ed,ed-=Gb,ed<pd){pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=0;if(Gb<pd){ed=Gb;pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ia;kb=qd}}}else if(fa+=Gb-ed,ed<pd){pd-=ed;do qd[oc++]=Pb[fa++];while(--ed);fa=oc-Ia;kb=qd}for(;2<pd;)qd[oc++]=kb[fa++],qd[oc++]=kb[fa++],qd[oc++]=kb[fa++],pd-=3;pd&&(qd[oc++]=kb[fa++],1<pd&&(qd[oc++]=kb[fa++]))}else{fa=oc-Ia;do qd[oc++]=qd[fa++],qd[oc++]=qd[fa++],qd[oc++]=qd[fa++],pd-=3;while(2<
pd);pd&&(qd[oc++]=qd[fa++],1<pd&&(qd[oc++]=qd[fa++]))}}else if(0===(ed&64)){kb=wc[(kb&65535)+(bc&(1<<ed)-1)];continue d}else{Jd.msg="invalid distance code";fd.mode=30;break b}break}}else if(0===(ed&64)){kb=Lc[(kb&65535)+(bc&(1<<ed)-1)];continue c}else{ed&32?fd.mode=12:(Jd.msg="invalid literal/length code",fd.mode=30);break b}break}while(yc<Oc&&oc<Kb);pd=Rc>>3;yc-=pd;Rc-=pd<<3;Jd.next_in=yc;Jd.next_out=oc;Jd.avail_in=yc<Oc?5+(Oc-yc):5-(yc-Oc);Jd.avail_out=oc<Kb?257+(Kb-oc):257-(oc-Kb);fd.hold=bc&(1<<
Rc)-1;fd.bits=Rc;pd=ha.next_out;qd=ha.output;Yd=ha.avail_out;Od=ha.next_in;Jd=ha.input;ed=ha.avail_in;sd=Ea.hold;wc=Ea.bits;12===Ea.mode&&(Ea.back=-1);break}for(Ea.back=0;;){ud=Ea.lencode[sd&(1<<Ea.lenbits)-1];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(Lc<=wc)break;if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(Rc&&0===(Rc&240)){bc=Lc;Pb=Rc;for(Gb=ud;;){ud=Ea.lencode[Gb+((sd&(1<<bc+Pb)-1)>>bc)];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(bc+Lc<=wc)break;if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}sd>>>=
bc;wc-=bc;Ea.back+=bc}sd>>>=Lc;wc-=Lc;Ea.back+=Lc;Ea.length=ud;if(0===Rc){Ea.mode=26;break}if(Rc&32){Ea.back=-1;Ea.mode=12;break}if(Rc&64){ha.msg="invalid literal/length code";Ea.mode=30;break}Ea.extra=Rc&15;Ea.mode=22;case 22:if(Ea.extra){for(Rc=Ea.extra;wc<Rc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.length+=sd&(1<<Ea.extra)-1;sd>>>=Ea.extra;wc-=Ea.extra;Ea.back+=Ea.extra}Ea.was=Ea.length;Ea.mode=23;case 23:for(;;){ud=Ea.distcode[sd&(1<<Ea.distbits)-1];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;
if(Lc<=wc)break;if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(0===(Rc&240)){bc=Lc;Pb=Rc;for(Gb=ud;;){ud=Ea.distcode[Gb+((sd&(1<<bc+Pb)-1)>>bc)];Lc=ud>>>24;Rc=ud>>>16&255;ud&=65535;if(bc+Lc<=wc)break;if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}sd>>>=bc;wc-=bc;Ea.back+=bc}sd>>>=Lc;wc-=Lc;Ea.back+=Lc;if(Rc&64){ha.msg="invalid distance code";Ea.mode=30;break}Ea.offset=ud;Ea.extra=Rc&15;Ea.mode=24;case 24:if(Ea.extra){for(Rc=Ea.extra;wc<Rc;){if(0===ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}Ea.offset+=
sd&(1<<Ea.extra)-1;sd>>>=Ea.extra;wc-=Ea.extra;Ea.back+=Ea.extra}if(Ea.offset>Ea.dmax){ha.msg="invalid distance too far back";Ea.mode=30;break}Ea.mode=25;case 25:if(0===Yd)break a;Lc=Yb-Yd;if(Ea.offset>Lc){Lc=Ea.offset-Lc;if(Lc>Ea.whave&&Ea.sane){ha.msg="invalid distance too far back";Ea.mode=30;break}Lc>Ea.wnext?(Lc-=Ea.wnext,Rc=Ea.wsize-Lc):Rc=Ea.wnext-Lc;Lc>Ea.length&&(Lc=Ea.length);bc=Ea.window}else bc=qd,Rc=pd-Ea.offset,Lc=Ea.length;Lc>Yd&&(Lc=Yd);Yd-=Lc;Ea.length-=Lc;do qd[pd++]=bc[Rc++];while(--Lc);
0===Ea.length&&(Ea.mode=21);break;case 26:if(0===Yd)break a;qd[pd++]=Ea.length;Yd--;Ea.mode=21;break;case 27:if(Ea.wrap){for(;32>wc;){if(0===ed)break a;ed--;sd|=Jd[Od++]<<wc;wc+=8}Yb-=Yd;ha.total_out+=Yb;Ea.total+=Yb;Yb&&(ha.adler=Ea.check=Ea.flags?ma(Ea.check,qd,Yb,pd-Yb):ib(Ea.check,qd,Yb,pd-Yb));Yb=Yd;if((Ea.flags?sd:(sd>>>24&255)+(sd>>>8&65280)+((sd&65280)<<8)+((sd&255)<<24))!==Ea.check){ha.msg="incorrect data check";Ea.mode=30;break}wc=sd=0}Ea.mode=28;case 28:if(Ea.wrap&&Ea.flags){for(;32>wc;){if(0===
ed)break a;ed--;sd+=Jd[Od++]<<wc;wc+=8}if(sd!==(Ea.total&4294967295)){ha.msg="incorrect length check";Ea.mode=30;break}wc=sd=0}Ea.mode=29;case 29:kc=Dc;break a;case 30:kc=rd;break a;case 31:return Hd;default:return ld}ha.next_out=pd;ha.avail_out=Yd;ha.next_in=Od;ha.avail_in=ed;Ea.hold=sd;Ea.bits=wc;(Ea.wsize||Yb!==ha.avail_out&&30>Ea.mode&&(27>Ea.mode||ob!==Jb))&&Qb(ha,ha.output,ha.next_out,Yb-ha.avail_out);Ib-=ha.avail_in;Yb-=ha.avail_out;ha.total_in+=Ib;ha.total_out+=Yb;Ea.total+=Yb;Ea.wrap&&Yb&&
(ha.adler=Ea.check=Ea.flags?ma(Ea.check,qd,Yb,ha.next_out-Yb):ib(Ea.check,qd,Yb,ha.next_out-Yb));ha.data_type=Ea.bits+(Ea.last?64:0)+(12===Ea.mode?128:0)+(20===Ea.mode||15===Ea.mode?256:0);(0===Ib&&0===Yb||ob===Jb)&&kc===Hc&&(kc=Vd);return kc},inflateEnd:ha=>{if(!ha||!ha.state)return ld;let ob=ha.state;ob.window&&(ob.window=null);ha.state=null;return Hc},inflateGetHeader:(ha,ob)=>{if(!ha||!ha.state)return ld;ha=ha.state;if(0===(ha.wrap&2))return ld;ha.head=ob;ob.done=!1;return Hc},inflateSetDictionary:(ha,
ob)=>{const Ea=ob.length;let Ib,Yb;if(!ha||!ha.state)return ld;Ib=ha.state;if(0!==Ib.wrap&&11!==Ib.mode)return ld;if(11===Ib.mode&&(Yb=ib(1,ob,Ea,0),Yb!==Ib.check))return rd;if(Qb(ha,ob,Ea,Ea))return Ib.mode=31,Hd;Ib.havedict=1;return Hc},inflateInfo:"pako inflate (from Nodeca project)"},bd=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1};const Ad=Object.prototype.toString,{Z_NO_FLUSH:wa,Z_FINISH:Xa,Z_OK:zb,Z_STREAM_END:Xb,
Z_NEED_DICT:tc,Z_STREAM_ERROR:gd,Z_DATA_ERROR:qc,Z_MEM_ERROR:rb}=Ra;c.prototype.push=function(ha,ob){const Ea=this.strm,Ib=this.options.chunkSize,Yb=this.options.dictionary;let kc,Nc;if(this.ended)return!1;kc=ob===~~ob?ob:!0===ob?Xa:wa;"[object ArrayBuffer]"===Ad.call(ha)?Ea.input=new Uint8Array(ha):Ea.input=ha;Ea.next_in=0;for(Ea.avail_in=Ea.input.length;;){0===Ea.avail_out&&(Ea.output=new Uint8Array(Ib),Ea.next_out=0,Ea.avail_out=Ib);ob=rc.inflate(Ea,kc);ob===tc&&Yb&&(ob=rc.inflateSetDictionary(Ea,
Yb),ob===zb?ob=rc.inflate(Ea,kc):ob===qc&&(ob=tc));for(;0<Ea.avail_in&&ob===Xb&&0<Ea.state.wrap&&0!==ha[Ea.next_in];)rc.inflateReset(Ea),ob=rc.inflate(Ea,kc);switch(ob){case gd:case qc:case tc:case rb:return this.onEnd(ob),this.ended=!0,!1}Nc=Ea.avail_out;if(Ea.next_out&&(0===Ea.avail_out||ob===Xb))if("string"===this.options.to){let Jc=Ic.utf8border(Ea.output,Ea.next_out),pd=Ea.next_out-Jc,qd=Ic.buf2string(Ea.output,Jc);Ea.next_out=pd;Ea.avail_out=Ib-pd;pd&&Ea.output.set(Ea.output.subarray(Jc,Jc+
pd),0);this.onData(qd)}else this.onData(Ea.output.length===Ea.next_out?Ea.output:Ea.output.subarray(0,Ea.next_out));if(ob!==zb||0!==Nc){if(ob===Xb){ob=rc.inflateEnd(this.strm);this.onEnd(ob);this.ended=!0;break}if(0===Ea.avail_in)break}}return!0};c.prototype.onData=function(ha){this.chunks.push(ha)};c.prototype.onEnd=function(ha){ha===zb&&(this.result="string"===this.options.to?this.chunks.join(""):Ub.flattenChunks(this.chunks));this.chunks=[];this.err=ha;this.msg=this.strm.msg};var Bb={Inflate:c,
inflate:e,inflateRaw:function(ha,ob){ob=ob||{};ob.raw=!0;return e(ha,ob)},ungzip:e,constants:Ra};const {Deflate:ic,deflate:Uc,deflateRaw:Rd,gzip:Md}=gf,{Inflate:Gd,inflate:Pd,inflateRaw:Le,ungzip:Se}=Bb;A.Deflate=ic;A.deflate=Uc;A.deflateRaw=Rd;A.gzip=Md;A.Inflate=Gd;A.inflate=Pd;A.inflateRaw=Le;A.ungzip=Se;A.constants=Ra;A.default={Deflate:ic,deflate:Uc,deflateRaw:Rd,gzip:Md,Inflate:Gd,inflate:Pd,inflateRaw:Le,ungzip:Se,constants:Ra}};
shadow$provide[229]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(A,"__esModule",{value:!0});const w=L(228);L=Ka(L(224));class k extends L.default{decodeBlock(p){return(0,w.inflate)(new Uint8Array(p)).buffer}}A.default=k};
shadow$provide[230]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{decodeBlock(k){const p=new DataView(k),q=[];for(let n=0;n<k.byteLength;++n){let f=p.getInt8(n);if(0>f){var t=p.getUint8(n+1);f=-f;for(let b=0;b<=f;++b)q.push(t);n+=1}else{for(t=0;t<=f;++t)q.push(p.getUint8(n+t+1));n+=f+1}}return(new Uint8Array(q)).buffer}}A.default=w};
shadow$provide[231]=function(Ka,L,sb,A){(function(){var w=function(){var t={defaultNoDataValue:-3.4027999387901484E38,decode:function(n,f){f=f||{};var b=f.inputOffset||0,c=f.encodedMaskData||null===f.encodedMaskData,e={},g=new Uint8Array(n,b,10);e.fileIdentifierString=String.fromCharCode.apply(null,g);if("CntZImage"!==e.fileIdentifierString.trim())throw"Unexpected file identifier string: "+e.fileIdentifierString;b+=10;g=new DataView(n,b,24);e.fileVersion=g.getInt32(0,!0);e.imageType=g.getInt32(4,
!0);e.height=g.getUint32(8,!0);e.width=g.getUint32(12,!0);e.maxZError=g.getFloat64(16,!0);b+=24;if(!c)if(g=new DataView(n,b,16),e.mask={},e.mask.numBlocksY=g.getUint32(0,!0),e.mask.numBlocksX=g.getUint32(4,!0),e.mask.numBytes=g.getUint32(8,!0),e.mask.maxValue=g.getFloat32(12,!0),b+=16,0<e.mask.numBytes){c=new Uint8Array(Math.ceil(e.width*e.height/8));g=new DataView(n,b,e.mask.numBytes);var m=g.getInt16(0,!0),h=2,x=0;do{if(0<m)for(;m--;)c[x++]=g.getUint8(h++);else{var O=g.getUint8(h++);for(m=-m;m--;)c[x++]=
O}m=g.getInt16(h,!0);h+=2}while(h<e.mask.numBytes);if(-32768!==m||x<c.length)throw"Unexpected end of mask RLE encoding";e.mask.bitset=c;b+=e.mask.numBytes}else 0===(e.mask.numBytes|e.mask.numBlocksY|e.mask.maxValue)&&(e.mask.bitset=new Uint8Array(Math.ceil(e.width*e.height/8)));g=new DataView(n,b,16);e.pixels={};e.pixels.numBlocksY=g.getUint32(0,!0);e.pixels.numBlocksX=g.getUint32(4,!0);e.pixels.numBytes=g.getUint32(8,!0);e.pixels.maxValue=g.getFloat32(12,!0);b+=16;c=e.pixels.numBlocksX;g=e.pixels.numBlocksY;
c+=0<e.width%c?1:0;m=g+(0<e.height%g?1:0);e.pixels.blocks=Array(c*m);for(x=h=0;x<m;x++)for(O=0;O<c;O++){var G=0;g=new DataView(n,b,Math.min(10,n.byteLength-b));var I={};e.pixels.blocks[h++]=I;var F=g.getUint8(0);G++;I.encoding=F&63;if(3<I.encoding)throw"Invalid block encoding ("+I.encoding+")";if(2===I.encoding)b++;else{if(0!==F&&2!==F){F>>=6;I.offsetType=F;if(2===F)I.offset=g.getInt8(1),G++;else if(1===F)I.offset=g.getInt16(1,!0),G+=2;else if(0===F)I.offset=g.getFloat32(1,!0),G+=4;else throw"Invalid block offset type";
if(1===I.encoding)if(F=g.getUint8(G),G++,I.bitsPerPixel=F&63,F>>=6,I.numValidPixelsType=F,2===F)I.numValidPixels=g.getUint8(G),G++;else if(1===F)I.numValidPixels=g.getUint16(G,!0),G+=2;else if(0===F)I.numValidPixels=g.getUint32(G,!0),G+=4;else throw"Invalid valid pixel count type";}b+=G;if(3!==I.encoding)if(0===I.encoding){F=(e.pixels.numBytes-1)/4;if(F!==Math.floor(F))throw"uncompressed block has invalid length";g=new ArrayBuffer(4*F);G=new Uint8Array(g);G.set(new Uint8Array(n,b,4*F));g=new Float32Array(g);
I.rawData=g;b+=4*F}else 1===I.encoding&&(F=Math.ceil(I.numValidPixels*I.bitsPerPixel/8),g=new ArrayBuffer(4*Math.ceil(F/4)),G=new Uint8Array(g),G.set(new Uint8Array(n,b,F)),I.stuffedData=new Uint32Array(g),b+=F)}}e.eofOffset=b;n=null!==f.noDataValue?f.noDataValue:t.defaultNoDataValue;c=f.encodedMaskData;F=f.returnMask;m=0;h=e.pixels.numBlocksX;x=e.pixels.numBlocksY;O=Math.floor(e.width/h);I=Math.floor(e.height/x);G=2*e.maxZError;b=Number.MAX_VALUE;var C;c=c||(e.mask?e.mask.bitset:null);var r;g=new (f.pixelType||
Float32Array)(e.width*e.height);F&&c&&(r=new Uint8Array(e.width*e.height));F=new Float32Array(O*I);for(var y,K,R=0;R<=x;R++){var S=R!==x?I:e.height%x;if(0!==S)for(var ca=0;ca<=h;ca++){var M=ca!==h?O:e.width%h;if(0!==M){var aa=R*e.width*I+ca*O,Y=e.width-M,ea=e.pixels.blocks[m];if(2>ea.encoding){if(0===ea.encoding)var Ga=ea.rawData;else{Ga=void 0;y=ea.stuffedData;K=ea.bitsPerPixel;var X=ea.numValidPixels,D=ea.offset,B=G,N=F,Z=e.pixels.maxValue,Aa=(1<<K)-1,qa=0,la=0,Ja=Math.ceil((Z-D)/B);y[y.length-
1]<<=8*(4*y.length-Math.ceil(K*X/8));for(C=0;C<X;C++){0===la&&(Ga=y[qa++],la=32);if(la>=K){var bb=Ga>>>la-K&Aa;la-=K}else la=K-la,bb=(Ga&Aa)<<la&Aa,Ga=y[qa++],la=32-la,bb+=Ga>>>la;N[C]=bb<Ja?D+bb*B:Z}Ga=F}bb=0}else var ib=2===ea.encoding?0:ea.offset;if(c)for(K=0;K<S;K++){if(aa&7){var Ma=c[aa>>3];Ma<<=aa&7}for(y=0;y<M;y++)aa&7||(Ma=c[aa>>3]),Ma&128?(r&&(r[aa]=1),C=2>ea.encoding?Ga[bb++]:ib,b=b>C?C:b,g[aa++]=C):(r&&(r[aa]=0),g[aa++]=n),Ma<<=1;aa+=Y}else if(2>ea.encoding)for(K=0;K<S;K++){for(y=0;y<M;y++)C=
Ga[bb++],b=b>C?C:b,g[aa++]=C;aa+=Y}else for(b=b>ib?ib:b,K=0;K<S;K++){for(y=0;y<M;y++)g[aa++]=ib;aa+=Y}if(1===ea.encoding&&bb!==ea.numValidPixels)throw"Block and Mask do not match";m++}}}ib=r;r={width:e.width,height:e.height,pixelData:g,minValue:b,maxValue:e.pixels.maxValue,noDataValue:n};ib&&(r.maskData=ib);f.returnEncodedMask&&e.mask&&(r.encodedMaskData=e.mask.bitset?e.mask.bitset:null);if(f.returnFileInfo&&(r.fileInfo={fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,
height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}},f.computeUsedBitDepths)){f=r.fileInfo;ib=e.pixels.numBlocksX*e.pixels.numBlocksY;Ma={};for(Ga=0;Ga<ib;Ga++)bb=e.pixels.blocks[Ga],0===bb.encoding?Ma.float32=
!0:1===bb.encoding?Ma[bb.bitsPerPixel]=!0:Ma[0]=!0;e=Object.keys(Ma);f.bitDepths=e}return r}};return t}(),k=function(){var t={unstuff:function(b,c,e,g,m,h,x,O){var G=(1<<e)-1,I=0,F,C=0;b[b.length-1]<<=8*(4*b.length-Math.ceil(e*g/8));if(m)for(F=0;F<g;F++){if(0===C){var r=b[I++];C=32}if(C>=e){var y=r>>>C-e&G;C-=e}else C=e-C,y=(r&G)<<C&G,r=b[I++],C=32-C,y+=r>>>C;c[F]=m[y]}else for(m=Math.ceil((O-h)/x),F=0;F<g;F++)0===C&&(r=b[I++],C=32),C>=e?(y=r>>>C-e&G,C-=e):(C=e-C,y=(r&G)<<C&G,r=b[I++],C=32-C,y+=r>>>
C),c[F]=y<m?h+y*x:O},unstuffLUT:function(b,c,e,g,m,h){var x=(1<<c)-1,O=0,G;var I=0;var F=[];b[b.length-1]<<=8*(4*b.length-Math.ceil(c*e/8));var C=Math.ceil((h-g)/m);for(G=0;G<e;G++){if(0===I){var r=b[O++];I=32}if(I>=c){var y=r>>>I-c&x;I-=c}else I=c-I,y=(r&x)<<I&x,r=b[O++],I=32-I,y+=r>>>I;F[G]=y<C?g+y*m:h}F.unshift(g);return F},unstuff2:function(b,c,e,g,m,h,x,O){var G=(1<<e)-1,I=0,F,C=0,r=0;if(m)for(F=0;F<g;F++){if(0===C){var y=b[I++];C=32;r=0}if(C>=e){var K=y>>>r&G;C-=e;r+=e}else{var R=e-C;K=y>>>
r&G;y=b[I++];C=32-R;K|=(y&(1<<R)-1)<<e-R;r=R}c[F]=m[K]}else for(m=Math.ceil((O-h)/x),F=0;F<g;F++)0===C&&(y=b[I++],C=32,r=0),C>=e?(K=y>>>r&G,C-=e,r+=e):(R=e-C,K=y>>>r&G,y=b[I++],C=32-R,K|=(y&(1<<R)-1)<<e-R,r=R),c[F]=K<m?h+K*x:O;return c},unstuffLUT2:function(b,c,e,g,m,h){var x=(1<<c)-1,O=0,G,I=0,F=0,C=[],r=Math.ceil((h-g)/m);for(G=0;G<e;G++){if(0===I){var y=b[O++];I=32;F=0}if(I>=c){var K=y>>>F&x;I-=c;F+=c}else{var R=c-I;K=y>>>F&x;y=b[O++];I=32-R;K|=(y&(1<<R)-1)<<c-R;F=R}C[G]=K<r?g+K*m:h}C.unshift(g);
return C},originalUnstuff:function(b,c,e,g){var m=(1<<e)-1,h=0,x,O=0;b[b.length-1]<<=8*(4*b.length-Math.ceil(e*g/8));for(x=0;x<g;x++){if(0===O){var G=b[h++];O=32}if(O>=e){var I=G>>>O-e&m;O-=e}else O=e-O,I=(G&m)<<O&m,G=b[h++],O=32-O,I+=G>>>O;c[x]=I}return c},originalUnstuff2:function(b,c,e,g){var m=(1<<e)-1,h=0,x,O=0,G=0;for(x=0;x<g;x++){if(0===O){var I=b[h++];O=32;G=0}if(O>=e){var F=I>>>G&m;O-=e;G+=e}else{var C=e-O;F=I>>>G&m;I=b[h++];O=32-C;F|=(I&(1<<C)-1)<<e-C;G=C}c[x]=F}return c}},n={HUFFMAN_LUT_BITS_MAX:12,
computeChecksumFletcher32:function(b){for(var c=65535,e=65535,g=b.length,m=Math.floor(g/2),h=0;m;){var x=359<=m?359:m;m-=x;do c+=b[h++]<<8,e+=c+=b[h++];while(--x);c=(c&65535)+(c>>>16);e=(e&65535)+(e>>>16)}g&1&&(e+=c+=b[h]<<8);return((e&65535)+(e>>>16)<<16|(c&65535)+(c>>>16))>>>0},readHeaderInfo:function(b,c){var e=c.ptr,g=new Uint8Array(b,e,6),m={};m.fileIdentifierString=String.fromCharCode.apply(null,g);if(0!==m.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+
m.fileIdentifierString;e+=6;g=new DataView(b,e,8);var h=g.getInt32(0,!0);m.fileVersion=h;e+=4;3<=h&&(m.checksum=g.getUint32(4,!0),e+=4);g=new DataView(b,e,12);m.height=g.getUint32(0,!0);m.width=g.getUint32(4,!0);e+=8;4<=h?(m.numDims=g.getUint32(8,!0),e+=4):m.numDims=1;g=new DataView(b,e,40);m.numValidPixel=g.getUint32(0,!0);m.microBlockSize=g.getInt32(4,!0);m.blobSize=g.getInt32(8,!0);m.imageType=g.getInt32(12,!0);m.maxZError=g.getFloat64(16,!0);m.zMin=g.getFloat64(24,!0);m.zMax=g.getFloat64(32,!0);
e+=40;c.headerInfo=m;c.ptr=e;if(3<=h&&(b=this.computeChecksumFletcher32(new Uint8Array(b,e-(4<=h?52:48),m.blobSize-14)),b!==m.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(b,c){var e=c.headerInfo,g=this.getDataTypeArray(e.imageType),m=e.numDims*this.getDataTypeSize(e.imageType),h=this.readSubArray(b,c.ptr,g,m);b=this.readSubArray(b,c.ptr+m,g,m);c.ptr+=2*m;m=!0;for(c=0;c<e.numDims;c++)if(h[c]!==b[c]){m=!1;break}e.minValues=h;e.maxValues=b;return m},readSubArray:function(b,
c,e,g){if(e===Uint8Array)b=new Uint8Array(b,c,g);else{var m=new ArrayBuffer(g);(new Uint8Array(m)).set(new Uint8Array(b,c,g));b=new e(m)}return b},readMask:function(b,c){var e=c.ptr,g=c.headerInfo,m=g.width*g.height,h=g.numValidPixel,x=new DataView(b,e,4);g={};g.numBytes=x.getUint32(0,!0);e+=4;if((0===h||m===h)&&0!==g.numBytes)throw"invalid mask";if(0===h)h=new Uint8Array(Math.ceil(m/8)),g.bitset=h,x=new Uint8Array(m),c.pixels.resultMask=x,e+=g.numBytes;else if(0<g.numBytes){h=new Uint8Array(Math.ceil(m/
8));x=new DataView(b,e,g.numBytes);b=x.getInt16(0,!0);var O=2,G=0;do{if(0<b)for(;b--;)h[G++]=x.getUint8(O++);else{var I=x.getUint8(O++);for(b=-b;b--;)h[G++]=I}b=x.getInt16(O,!0);O+=2}while(O<g.numBytes);if(-32768!==b||G<h.length)throw"Unexpected end of mask RLE encoding";x=new Uint8Array(m);for(O=0;O<m;O++)O&7?(b=h[O>>3],b<<=O&7):b=h[O>>3],b&128&&(x[O]=1);c.pixels.resultMask=x;g.bitset=h;e+=g.numBytes}c.ptr=e;c.mask=g;return!0},readDataOneSweep:function(b,c,e,g){var m=c.ptr,h=c.headerInfo,x=h.numDims,
O=h.width*h.height;h=h.numValidPixel*n.getDataTypeSize(h.imageType)*x;var G=c.pixels.resultMask;if(e===Uint8Array)b=new Uint8Array(b,m,h);else{var I=new ArrayBuffer(h);(new Uint8Array(I)).set(new Uint8Array(b,m,h));b=new e(I)}if(b.length===O*x)c.pixels.resultPixels=g?n.swapDimensionOrder(b,O,x,e,!0):b;else if(c.pixels.resultPixels=new e(O*x),e=0,1<x)if(g)for(g=0;g<O;g++){if(G[g]){var F=g;for(I=0;I<x;I++,F+=O)c.pixels.resultPixels[F]=b[e++]}}else for(g=0;g<O;g++){if(G[g])for(F=g*x,I=0;I<x;I++)c.pixels.resultPixels[F+
I]=b[e++]}else for(g=0;g<O;g++)G[g]&&(c.pixels.resultPixels[g]=b[e++]);c.ptr=m+h;return!0},readHuffmanTree:function(b,c){var e=this.HUFFMAN_LUT_BITS_MAX,g=new DataView(b,c.ptr,16);c.ptr+=16;if(2>g.getInt32(0,!0))throw"unsupported Huffman version";var m=g.getInt32(4,!0),h=g.getInt32(8,!0);g=g.getInt32(12,!0);if(h>=g)return!1;var x=new Uint32Array(g-h);n.decodeBits(b,c,x);var O=[],G;for(G=h;G<g;G++){var I=G-(G<m?0:m);O[I]={first:x[G-h],second:null}}G=b.byteLength-c.ptr;x=new ArrayBuffer(4*Math.ceil(G/
4));(new Uint8Array(x)).set(new Uint8Array(b,c.ptr,G));b=new Uint32Array(x);c=0;x=0;var F=b[0];for(G=h;G<g;G++){I=G-(G<m?0:m);var C=O[I].first;0<C&&(O[I].second=F<<c>>>32-C,32-c>=C?(c+=C,32===c&&(c=0,x++,F=b[x])):(c+=C-32,x++,F=b[x],O[I].second|=F>>>32-c))}F=0;var r=new f;for(G=0;G<O.length;G++)void 0!==O[G]&&(F=Math.max(F,O[G].first));e=F>=e?e:F;var y=[],K;for(G=h;G<g;G++)if(I=G-(G<m?0:m),C=O[I].first,0<C)if(h=[C,I],C<=e){I=O[I].second<<e-C;var R=1<<e-C;for(C=0;C<R;C++)y[I|C]=h}else for(I=O[I].second,
R=r,--C;0<=C;C--)(K=I>>>C&1)?(R.right||(R.right=new f),R=R.right):(R.left||(R.left=new f),R=R.left),0!==C||R.val||(R.val=h[1]);return{decodeLut:y,numBitsLUTQick:e,numBitsLUT:F,tree:r,stuffedData:b,srcPtr:x,bitPos:c}},readHuffman:function(b,c,e,g){var m=c.headerInfo.numDims,h=c.headerInfo.height,x=c.headerInfo.width,O=x*h,G=this.readHuffmanTree(b,c);b=G.decodeLut;var I=G.tree,F=G.stuffedData,C=G.srcPtr,r=G.bitPos,y=G.numBitsLUTQick;G=G.numBitsLUT;var K=0===c.headerInfo.imageType?128:0,R=c.pixels.resultMask,
S,ca,M,aa,Y,ea,Ga=0;0<r&&(C++,r=0);var X=F[C],D=1===c.encodeMode,B=new e(O*m),N=B,Z;if(2>m||D)for(Z=0;Z<m;Z++)if(1<m&&(N=new e(B.buffer,O*Z,O),Ga=0),c.headerInfo.numValidPixel===x*h)for(M=Y=0;M<h;M++)for(aa=0;aa<x;aa++,Y++){var Aa=0;var qa=S=X<<r>>>32-y;32-r<y&&(qa=S|=F[C+1]>>>64-r-y);if(b[qa])Aa=b[qa][1],r+=b[qa][0];else for(S=X<<r>>>32-G,32-r<G&&(S|=F[C+1]>>>64-r-G),qa=I,ea=0;ea<G;ea++)if(qa=(ca=S>>>G-ea-1&1)?qa.right:qa.left,!qa.left&&!qa.right){Aa=qa.val;r=r+ea+1;break}32<=r&&(r-=32,C++,X=F[C]);
Aa-=K;D?(Aa=0<aa?Aa+Ga:0<M?Aa+N[Y-x]:Aa+Ga,Aa&=255,Ga=N[Y]=Aa):N[Y]=Aa}else for(M=Y=0;M<h;M++)for(aa=0;aa<x;aa++,Y++){if(R[Y]){Aa=0;qa=S=X<<r>>>32-y;32-r<y&&(qa=S|=F[C+1]>>>64-r-y);if(b[qa])Aa=b[qa][1],r+=b[qa][0];else for(S=X<<r>>>32-G,32-r<G&&(S|=F[C+1]>>>64-r-G),qa=I,ea=0;ea<G;ea++)if(qa=(ca=S>>>G-ea-1&1)?qa.right:qa.left,!qa.left&&!qa.right){Aa=qa.val;r=r+ea+1;break}32<=r&&(r-=32,C++,X=F[C]);Aa-=K;D?(Aa=0<aa&&R[Y-1]?Aa+Ga:0<M&&R[Y-x]?Aa+N[Y-x]:Aa+Ga,Aa&=255,Ga=N[Y]=Aa):N[Y]=Aa}}else for(M=0;M<
h;M++)for(aa=0;aa<x;aa++)if(Y=M*x+aa,!R||R[Y])for(Z=0;Z<m;Z++,Y+=O){Aa=0;qa=S=X<<r>>>32-y;32-r<y&&(qa=S|=F[C+1]>>>64-r-y);if(b[qa])Aa=b[qa][1],r+=b[qa][0];else for(S=X<<r>>>32-G,32-r<G&&(S|=F[C+1]>>>64-r-G),qa=I,ea=0;ea<G;ea++)if(qa=(ca=S>>>G-ea-1&1)?qa.right:qa.left,!qa.left&&!qa.right){Aa=qa.val;r=r+ea+1;break}32<=r&&(r-=32,C++,X=F[C]);Aa-=K;N[Y]=Aa}c.ptr=c.ptr+4*(C+1)+(0<r?4:0);c.pixels.resultPixels=B;1<m&&!g&&(c.pixels.resultPixels=n.swapDimensionOrder(B,O,m,e))},decodeBits:function(b,c,e,g,m){var h=
c.headerInfo,x=h.fileVersion,O=0,G=new DataView(b,c.ptr,5<=b.byteLength-c.ptr?5:b.byteLength-c.ptr),I=G.getUint8(0);O++;var F=I>>6;F=0===F?4:3-F;var C=0<(I&32)?!0:!1;I&=31;if(1===F)F=G.getUint8(O),O++;else if(2===F)F=G.getUint16(O,!0),O+=2;else if(4===F)F=G.getUint32(O,!0),O+=4;else throw"Invalid valid pixel count type";var r=2*h.maxZError;m=1<h.numDims?h.maxValues[m]:h.zMax;if(C){c.counter.lut++;C=G.getUint8(O);O++;h=Math.ceil((C-1)*I/8);var y=Math.ceil(h/4);y=new ArrayBuffer(4*y);var K=new Uint8Array(y);
c.ptr+=O;K.set(new Uint8Array(b,c.ptr,h));O=new Uint32Array(y);c.ptr+=h;for(G=0;C-1>>>G;)G++;h=Math.ceil(F*G/8);y=Math.ceil(h/4);y=new ArrayBuffer(4*y);K=new Uint8Array(y);K.set(new Uint8Array(b,c.ptr,h));b=new Uint32Array(y);c.ptr+=h;c=3<=x?t.unstuffLUT2(O,I,C-1,g,r,m):t.unstuffLUT(O,I,C-1,g,r,m);3<=x?t.unstuff2(b,e,G,F,c):t.unstuff(b,e,G,F,c)}else c.counter.bitstuffer++,G=I,c.ptr+=O,0<G&&(h=Math.ceil(F*G/8),y=Math.ceil(h/4),y=new ArrayBuffer(4*y),K=new Uint8Array(y),K.set(new Uint8Array(b,c.ptr,
h)),b=new Uint32Array(y),c.ptr+=h,3<=x?null==g?t.originalUnstuff2(b,e,G,F):t.unstuff2(b,e,G,F,!1,g,r,m):null==g?t.originalUnstuff(b,e,G,F):t.unstuff(b,e,G,F,!1,g,r,m))},readTiles:function(b,c,e,g){var m=c.headerInfo,h=m.width,x=m.height,O=h*x,G=m.microBlockSize,I=m.imageType,F=n.getDataTypeSize(I),C=Math.ceil(h/G),r=Math.ceil(x/G);c.pixels.numBlocksY=r;c.pixels.numBlocksX=C;c.pixels.ptr=0;var y,K=new e(G*G),R=x%G||G,S=h%G||G,ca=m.numDims,M,aa=c.pixels.resultMask,Y=c.pixels.resultPixels,ea=5<=m.fileVersion?
14:15,Ga=m.zMax;for(x=0;x<r;x++){var X=x!==r-1?G:R;for(y=0;y<C;y++){var D=y!==C-1?G:S;var B=x*h*G+y*G;var N=h-D;for(M=0;M<ca;M++){if(1<ca){var Z=Y;B=x*h*G+y*G;Y=new e(c.pixels.resultPixels.buffer,O*M*F,O);Ga=m.maxValues[M]}else Z=null;var Aa=b.byteLength-c.ptr;var qa=new DataView(b,c.ptr,Math.min(10,Aa));var la={};Aa=0;var Ja=qa.getUint8(0);Aa++;var bb=5<=m.fileVersion?Ja&4:0;var ib=Ja>>6&255;var Ma=Ja>>2&ea;if(Ma!==(y*G>>3&ea))throw"integrity issue";if(bb&&0===M)throw"integrity issue";Ja&=3;if(3<
Ja)throw c.ptr+=Aa,"Invalid block encoding ("+Ja+")";if(2===Ja){if(bb)if(aa)for(qa=0;qa<X;qa++)for(la=0;la<D;la++)aa[B]&&(Y[B]=Z[B]),B++;else for(qa=0;qa<X;qa++)for(la=0;la<D;la++)Y[B]=Z[B],B++;c.counter.constant++;c.ptr+=Aa}else if(0===Ja){if(bb)throw"integrity issue";c.counter.uncompressed++;c.ptr+=Aa;Z=X*D*F;Aa=b.byteLength-c.ptr;Z=Z<Aa?Z:Aa;Aa=new ArrayBuffer(0===Z%F?Z:Z+F-Z%F);bb=new Uint8Array(Aa);bb.set(new Uint8Array(b,c.ptr,Z));Aa=new e(Aa);Z=0;if(aa)for(qa=0;qa<X;qa++){for(la=0;la<D;la++)aa[B]&&
(Y[B]=Aa[Z++]),B++;B+=N}else for(qa=0;qa<X;qa++){for(la=0;la<D;la++)Y[B++]=Aa[Z++];B+=N}c.ptr+=Z*F}else if(ib=n.getDataTypeUsed(bb&&6>I?4:I,ib),Ma=n.getOnePixel(la,Aa,ib,qa),Aa+=n.getDataTypeSize(ib),3===Ja)if(c.ptr+=Aa,c.counter.constantoffset++,aa)for(qa=0;qa<X;qa++){for(la=0;la<D;la++)aa[B]&&(Y[B]=bb?Math.min(Ga,Z[B]+Ma):Ma),B++;B+=N}else for(qa=0;qa<X;qa++){for(la=0;la<D;la++)Y[B]=bb?Math.min(Ga,Z[B]+Ma):Ma,B++;B+=N}else if(c.ptr+=Aa,n.decodeBits(b,c,K,Ma,M),Aa=0,bb)if(aa)for(qa=0;qa<X;qa++){for(la=
0;la<D;la++)aa[B]&&(Y[B]=K[Aa++]+Z[B]),B++;B+=N}else for(qa=0;qa<X;qa++){for(la=0;la<D;la++)Y[B]=K[Aa++]+Z[B],B++;B+=N}else if(aa)for(qa=0;qa<X;qa++){for(la=0;la<D;la++)aa[B]&&(Y[B]=K[Aa++]),B++;B+=N}else for(qa=0;qa<X;qa++){for(la=0;la<D;la++)Y[B++]=K[Aa++];B+=N}}}}1<ca&&!g&&(c.pixels.resultPixels=n.swapDimensionOrder(c.pixels.resultPixels,O,ca,e))},formatFileInfo:function(b){return{fileIdentifierString:b.headerInfo.fileIdentifierString,fileVersion:b.headerInfo.fileVersion,imageType:b.headerInfo.imageType,
height:b.headerInfo.height,width:b.headerInfo.width,numValidPixel:b.headerInfo.numValidPixel,microBlockSize:b.headerInfo.microBlockSize,blobSize:b.headerInfo.blobSize,maxZError:b.headerInfo.maxZError,pixelType:n.getPixelType(b.headerInfo.imageType),eofOffset:b.eofOffset,mask:b.mask?{numBytes:b.mask.numBytes}:null,pixels:{numBlocksX:b.pixels.numBlocksX,numBlocksY:b.pixels.numBlocksY,maxValue:b.headerInfo.zMax,minValue:b.headerInfo.zMin,noDataValue:b.noDataValue}}},constructConstantSurface:function(b,
c){var e=b.headerInfo.zMax,g=b.headerInfo.zMin,m=b.headerInfo.maxValues,h=b.headerInfo.numDims,x=b.headerInfo.height*b.headerInfo.width,O=b.pixels.resultMask;b=b.pixels.resultPixels;if(O)if(1<h)if(c)for(c=0;c<h;c++){var G=c*x;e=m[c];for(g=0;g<x;g++)O[g]&&(b[G+g]=e)}else for(g=0;g<x;g++){if(O[g])for(G=g*h,c=0;c<h;c++)b[G+h]=m[c]}else for(g=0;g<x;g++)O[g]&&(b[g]=e);else if(1<h&&g!==e)if(c)for(c=0;c<h;c++)for(G=c*x,e=m[c],g=0;g<x;g++)b[G+g]=e;else for(g=0;g<x;g++)for(G=g*h,c=0;c<h;c++)b[G+c]=m[c];else for(g=
0;g<x*h;g++)b[g]=e},getDataTypeArray:function(b){switch(b){case 0:b=Int8Array;break;case 1:b=Uint8Array;break;case 2:b=Int16Array;break;case 3:b=Uint16Array;break;case 4:b=Int32Array;break;case 5:b=Uint32Array;break;case 6:b=Float32Array;break;case 7:b=Float64Array;break;default:b=Float32Array}return b},getPixelType:function(b){switch(b){case 0:b="S8";break;case 1:b="U8";break;case 2:b="S16";break;case 3:b="U16";break;case 4:b="S32";break;case 5:b="U32";break;case 6:b="F32";break;case 7:b="F64";break;
default:b="F32"}return b},isValidPixelValue:function(b,c){if(null==c)return!1;switch(b){case 0:b=-128<=c&&127>=c;break;case 1:b=0<=c&&255>=c;break;case 2:b=-32768<=c&&32767>=c;break;case 3:b=0<=c&&65536>=c;break;case 4:b=-2147483648<=c&&2147483647>=c;break;case 5:b=0<=c&&4294967296>=c;break;case 6:b=-3.4027999387901484E38<=c&&3.4027999387901484E38>=c;break;case 7:b=-1.7976931348623157E308<=c&&1.7976931348623157E308>=c;break;default:b=!1}return b},getDataTypeSize:function(b){switch(b){case 0:case 1:b=
1;break;case 2:case 3:b=2;break;case 4:case 5:case 6:b=4;break;case 7:b=8}return b},getDataTypeUsed:function(b,c){switch(b){case 2:case 4:b-=c;break;case 3:case 5:b-=2*c;break;case 6:b=0===c?b:1===c?2:1;break;case 7:b=0===c?b:b-2*c+1}return b},getOnePixel:function(b,c,e,g){switch(e){case 0:b=g.getInt8(c);break;case 1:b=g.getUint8(c);break;case 2:b=g.getInt16(c,!0);break;case 3:b=g.getUint16(c,!0);break;case 4:b=g.getInt32(c,!0);break;case 5:b=g.getUInt32(c,!0);break;case 6:b=g.getFloat32(c,!0);break;
case 7:b=g.getFloat64(c,!0);break;default:throw"the decoder does not understand this pixel type";}return b},swapDimensionOrder:function(b,c,e,g,m){var h=0,x=b;if(1<e)if(x=new g(c*e),m)for(g=0;g<c;g++){var O=g;for(m=0;m<e;m++,O+=c)x[O]=b[h++]}else for(g=0;g<c;g++)for(O=g,m=0;m<e;m++,O+=c)x[h++]=b[O];return x}},f=function(b,c,e){this.val=b;this.left=c;this.right=e};return{decode:function(b,c){c=c||{};var e=c.noDataValue,g={};g.ptr=c.inputOffset||0;g.pixels={};if(n.readHeaderInfo(b,g)){var m=g.headerInfo;
var h=m.fileVersion,x=n.getDataTypeArray(m.imageType);if(5<h)throw"unsupported lerc version 2."+h;n.readMask(b,g);m.numValidPixel===m.width*m.height||g.pixels.resultMask||(g.pixels.resultMask=c.maskData);var O=m.width*m.height;g.pixels.resultPixels=new x(O*m.numDims);g.counter={onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var G=!c.returnPixelInterleavedDims;if(0!==m.numValidPixel)if(m.zMax===m.zMin)n.constructConstantSurface(g,G);else if(4<=h&&n.checkMinMaxRanges(b,g))n.constructConstantSurface(g,
G);else{var I=new DataView(b,g.ptr,2),F=I.getUint8(0);g.ptr++;if(F)n.readDataOneSweep(b,g,x,G);else if(1<h&&1>=m.imageType&&1E-5>Math.abs(m.maxZError-.5)){I=I.getUint8(1);g.ptr++;g.encodeMode=I;if(2<I||4>h&&1<I)throw"Invalid Huffman flag "+I;I?n.readHuffman(b,g,x,G):n.readTiles(b,g,x,G)}else n.readTiles(b,g,x,G)}g.eofOffset=g.ptr;c.inputOffset?(b=g.headerInfo.blobSize+c.inputOffset-g.ptr,1<=Math.abs(b)&&(g.eofOffset=c.inputOffset+g.headerInfo.blobSize)):(b=g.headerInfo.blobSize-g.ptr,1<=Math.abs(b)&&
(g.eofOffset=g.headerInfo.blobSize));b={width:m.width,height:m.height,pixelData:g.pixels.resultPixels,minValue:m.zMin,maxValue:m.zMax,validPixelCount:m.numValidPixel,dimCount:m.numDims,dimStats:{minValues:m.minValues,maxValues:m.maxValues},maskData:g.pixels.resultMask};if(g.pixels.resultMask&&n.isValidPixelValue(m.imageType,e)){h=g.pixels.resultMask;for(m=0;m<O;m++)h[m]||(b.pixelData[m]=e);b.noDataValue=e}g.noDataValue=e;c.returnFileInfo&&(b.fileInfo=n.formatFileInfo(g));return b}},getBandCount:function(b){for(var c=
0,e=0,g={ptr:0,pixels:{}};e<b.byteLength-58;)n.readHeaderInfo(b,g),e+=g.headerInfo.blobSize,c++,g.ptr=e;return c}}}(),p=function(){var t=new ArrayBuffer(4),n=new Uint8Array(t);(new Uint32Array(t))[0]=1;return 1===n[0]}(),q={decode:function(t,n){if(!p)throw"Big endian system is not supported.";n=n||{};var f=n.inputOffset||0,b=new Uint8Array(t,f,10);b=String.fromCharCode.apply(null,b);if("CntZImage"===b.trim()){var c=w;var e=1}else if("Lerc2"===b.substring(0,5))c=k,e=2;else throw"Unexpected file identifier string: "+
b;var g=0,m=t.byteLength-10;b=[];for(var h,x={width:0,height:0,pixels:[],pixelType:n.pixelType,mask:null,statistics:[]},O=0;f<m;){var G=c.decode(t,{inputOffset:f,encodedMaskData:I,maskData:h,returnMask:0===g?!0:!1,returnEncodedMask:0===g?!0:!1,returnFileInfo:!0,returnPixelInterleavedDims:n.returnPixelInterleavedDims,pixelType:n.pixelType||null,noDataValue:n.noDataValue||null});f=G.fileInfo.eofOffset;h=G.maskData;if(0===g){var I=G.encodedMaskData;x.width=G.width;x.height=G.height;x.dimCount=G.dimCount||
1;x.pixelType=G.pixelType||G.fileInfo.pixelType;x.mask=h}1<e&&(h&&b.push(h),G.fileInfo.mask&&0<G.fileInfo.mask.numBytes&&O++);g++;x.pixels.push(G.pixelData);x.statistics.push({minValue:G.minValue,maxValue:G.maxValue,noDataValue:G.noDataValue,dimStats:G.dimStats})}if(1<e&&1<O){I=x.width*x.height;x.bandMasks=b;h=new Uint8Array(I);h.set(b[0]);for(n=1;n<b.length;n++)for(t=b[n],f=0;f<I;f++)h[f]&=t[f];x.maskData=h}return x}};"function"===typeof define&&define.amd?define([],function(){return q}):"undefined"!==
typeof sb&&sb.exports?sb.exports=q:this.Lerc=q})()};
shadow$provide[232]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(A,"__esModule",{value:!0});const w=L(228),k=Ka(L(231));Ka=Ka(L(224));const p=L(221);class q extends Ka.default{constructor(t){super();this.planarConfiguration="undefined"!==typeof t.PlanarConfiguration?t.PlanarConfiguration:1;this.samplesPerPixel="undefined"!==typeof t.SamplesPerPixel?t.SamplesPerPixel:1;this.addCompression=t.LercParameters[p.LercParameters.AddCompression]}decodeBlock(t){switch(this.addCompression){case p.LercAddCompression.None:break;
case p.LercAddCompression.Deflate:t=(0,w.inflate)(new Uint8Array(t)).buffer;break;default:throw Error(`Unsupported LERC additional compression method identifier: ${this.addCompression}`);}return k.default.decode(t,{returnPixelInterleavedDims:1===this.planarConfiguration}).pixels[0].buffer}}A.default=q};
shadow$provide[233]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{"default":k}};Object.defineProperty(A,"__esModule",{value:!0});L=Ka(L(224));class w extends L.default{constructor(){super();if("undefined"===typeof createImageBitmap)throw Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"===typeof document&&"undefined"===typeof OffscreenCanvas)throw Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");
}decode(k,p){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var q=new Blob([p]);q=yield createImageBitmap(q);if("undefined"!==typeof document){var t=document.createElement("canvas");t.width=q.width;t.height=q.height}else t=new OffscreenCanvas(q.width,q.height);t=t.getContext("2d");t.drawImage(q,0,0);return t.getImageData(0,0,q.width,q.height).data.buffer})}}A.default=w};
shadow$provide[234]=function(Ka,L,sb,A){function w(n,f){Array.isArray(n)||(n=[n]);n.forEach(b=>t.set(b,f))}var k=this&&this.__createBinding||(Object.create?function(n,f,b,c){void 0===c&&(c=b);Object.defineProperty(n,c,{enumerable:!0,get:function(){return f[b]}})}:function(n,f,b,c){void 0===c&&(c=b);n[c]=f[b]}),p=this&&this.__setModuleDefault||(Object.create?function(n,f){Object.defineProperty(n,"default",{enumerable:!0,value:f})}:function(n,f){n["default"]=f}),q=this&&this.__importStar||function(n){if(n&&
n.__esModule)return n;var f={};if(null!=n)for(var b in n)"default"!==b&&Object.prototype.hasOwnProperty.call(n,b)&&k(f,n,b);p(f,n);return f};Object.defineProperty(A,"__esModule",{value:!0});A.getDecoder=A.addDecoder=void 0;const t=new Map;A.addDecoder=w;A.getDecoder=function(n){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=t.get(n.Compression);if(!f)throw Error(`Unknown compression method identifier: ${n.Compression}`);return new (yield f())(n)})};w([void 0,1],()=>Promise.resolve().then(()=>
q(L(225))).then(n=>n.default));w(5,()=>Promise.resolve().then(()=>q(L(226))).then(n=>n.default));w(6,()=>{throw Error("old style JPEG compression is not supported.");});w(7,()=>Promise.resolve().then(()=>q(L(227))).then(n=>n.default));w([8,32946],()=>Promise.resolve().then(()=>q(L(229))).then(n=>n.default));w(32773,()=>Promise.resolve().then(()=>q(L(230))).then(n=>n.default));w(34887,()=>Promise.resolve().then(()=>q(L(232))).then(n=>n.default));w(50001,()=>Promise.resolve().then(()=>q(L(233))).then(n=>
n.default))};
shadow$provide[235]=function(Ka,L,sb,A){function w(n,f,b,c=1){return new (Object.getPrototypeOf(n).constructor)(f*b*c)}function k(n,f,b,c,e){const g=f/c,m=b/e;return n.map(h=>{const x=w(h,c,e);for(let O=0;O<e;++O){const G=Math.min(Math.round(m*O),b-1);for(let I=0;I<c;++I)x[O*c+I]=h[G*f+Math.min(Math.round(g*I),f-1)]}return x})}function p(n,f,b,c,e){const g=f/c,m=b/e;return n.map(h=>{const x=w(h,c,e);for(let G=0;G<e;++G){const I=m*G,F=Math.floor(I),C=Math.min(Math.ceil(I),b-1);for(let r=0;r<c;++r){var O=
g*r;const y=O%1,K=Math.floor(O),R=Math.min(Math.ceil(O),f-1);O=I%1;x[G*c+r]=(1-O)*((1-y)*h[F*f+K]+y*h[F*f+R])+O*((1-y)*h[C*f+K]+y*h[C*f+R])}}return x})}function q(n,f,b,c,e,g){const m=f/c,h=b/e,x=w(n,c,e,g);for(let O=0;O<e;++O){const G=Math.min(Math.round(h*O),b-1);for(let I=0;I<c;++I){const F=Math.min(Math.round(m*I),f-1);for(let C=0;C<g;++C)x[O*c*g+I*g+C]=n[G*f*g+F*g+C]}}return x}function t(n,f,b,c,e,g){const m=f/c,h=b/e,x=w(n,c,e,g);for(let G=0;G<e;++G){const I=h*G,F=Math.floor(I),C=Math.min(Math.ceil(I),
b-1);for(let r=0;r<c;++r){var O=m*r;const y=O%1,K=Math.floor(O),R=Math.min(Math.ceil(O),f-1);for(let S=0;S<g;++S)O=I%1,x[G*c*g+r*g+S]=(1-O)*((1-y)*n[F*f*g+K*g+S]+y*n[F*f*g+R*g+S])+O*((1-y)*n[C*f*g+K*g+S]+y*n[C*f*g+R*g+S])}}return x}Object.defineProperty(A,"__esModule",{value:!0});A.resampleInterleaved=A.resampleBilinearInterleaved=A.resampleNearestInterleaved=A.resample=A.resampleBilinear=A.resampleNearest=void 0;A.resampleNearest=k;A.resampleBilinear=p;A.resample=function(n,f,b,c,e,g="nearest"){switch(g.toLowerCase()){case "nearest":return k(n,
f,b,c,e);case "bilinear":case "linear":return p(n,f,b,c,e);default:throw Error(`Unsupported resampling method: '${g}'`);}};A.resampleNearestInterleaved=q;A.resampleBilinearInterleaved=t;A.resampleInterleaved=function(n,f,b,c,e,g,m="nearest"){switch(m.toLowerCase()){case "nearest":return q(n,f,b,c,e,g);case "bilinear":case "linear":return t(n,f,b,c,e,g);default:throw Error(`Unsupported resampling method: '${m}'`);}}};
shadow$provide[236]=function(Ka,L,sb,A){function w(g,m,h){let x=0;for(;m<h;++m)x+=g[m];return x}function k(g,m,h){switch(g){case 1:if(8>=m)return new Uint8Array(h);if(16>=m)return new Uint16Array(h);if(32>=m)return new Uint32Array(h);break;case 2:if(8===m)return new Int8Array(h);if(16===m)return new Int16Array(h);if(32===m)return new Int32Array(h);break;case 3:switch(m){case 16:case 32:return new Float32Array(h);case 64:return new Float64Array(h)}}throw Error("Unsupported data format/bitsPerSample");
}Ka=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{"default":g}};Object.defineProperty(A,"__esModule",{value:!0});const p=L(215),q=Ka(L(216)),t=Ka(L(220)),n=L(221),f=L(222),b=L(234),c=L(235);class e{constructor(g,m,h,x,O,G){this.fileDirectory=g;this.geoKeys=m;this.dataView=h;this.littleEndian=x;this.tiles=O?{}:null;this.isTiled=!g.StripOffsets;g=g.PlanarConfiguration;this.planarConfiguration="undefined"===typeof g?1:g;if(1!==this.planarConfiguration&&2!==this.planarConfiguration)throw Error("Invalid planar configuration.");
this.source=G}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?
Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(g){return this.isTiled||(g+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-g*this.getTileHeight()}getBytesPerPixel(){let g=0;for(let m=0;m<this.fileDirectory.BitsPerSample.length;++m)g+=this.getSampleByteSize(m);return g}getSampleByteSize(g){if(g>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${g} is out of range.`);
return Math.ceil(this.fileDirectory.BitsPerSample[g]/8)}getReaderForSample(g){const m=this.fileDirectory.BitsPerSample[g];switch(this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[g]:1){case 1:if(8>=m)return DataView.prototype.getUint8;if(16>=m)return DataView.prototype.getUint16;if(32>=m)return DataView.prototype.getUint32;break;case 2:if(8>=m)return DataView.prototype.getInt8;if(16>=m)return DataView.prototype.getInt16;if(32>=m)return DataView.prototype.getInt32;break;case 3:switch(m){case 16:return function(h,
x){return(0,p.getFloat16)(this,h,x)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64}}throw Error("Unsupported data format/bitsPerSample");}getSampleFormat(g=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[g]:1}getBitsPerSample(g=0){return this.fileDirectory.BitsPerSample[g]}getArrayForSample(g,m){const h=this.getSampleFormat(g);g=this.getBitsPerSample(g);return k(h,g,m)}getTileOrStrip(g,m,h,x,O){const G=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var I=
Math.ceil(G.getWidth()/G.getTileWidth()),F=Math.ceil(G.getHeight()/G.getTileHeight());let C;const {tiles:r}=G;1===G.planarConfiguration?C=m*I+g:2===G.planarConfiguration&&(C=h*I*F+m*I+g);G.isTiled?(I=G.fileDirectory.TileOffsets[C],F=G.fileDirectory.TileByteCounts[C]):(I=G.fileDirectory.StripOffsets[C],F=G.fileDirectory.StripByteCounts[C]);const y=(yield G.source.fetch([{offset:I,length:F}],O))[0];null!==r&&r[C]?I=r[C]:(I=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){var K=yield x.decode(G.fileDirectory,
y),R=G.getSampleFormat();const S=G.getBitsPerSample();if((1===R||2===R)&&32>=S&&0===S%8?0:3!==R||16!==S&&32!==S&&64!==S){var ca=G.planarConfiguration,M=G.getSamplesPerPixel(),aa=G.getTileWidth(),Y=G.getBlockHeight(m);K=new DataView(K);const X=2===ca?1:M,D=k(R,S,2===ca?Y*aa:Y*aa*M),B=parseInt("1".repeat(S),2);if(1===R)for(R=aa*(1===ca?M*S:S),0!==(R&7)&&(R=R+7&-8),ca=0;ca<Y;++ca){M=ca*R;for(let N=0;N<aa;++N){const Z=M+N*X*S;for(let Aa=0;Aa<X;++Aa){var ea=Z+Aa*S;const qa=(ca*aa+N)*X+Aa;var Ga=Math.floor(ea/
8);ea%=8;8>=ea+S?D[qa]=K.getUint8(Ga)>>8-S-ea&B:16>=ea+S?D[qa]=K.getUint16(Ga)>>16-S-ea&B:24>=ea+S?(Ga=K.getUint16(Ga)<<8|K.getUint8(Ga+2),D[qa]=Ga>>24-S-ea&B):D[qa]=K.getUint32(Ga)>>32-S-ea&B}}}K=D.buffer}return K}))(),null!==r&&(r[C]=I));return{x:g,y:m,sample:h,data:yield I}})}_readRaster(g,m,h,x,O,G,I,F,C){const r=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const y=r.getTileWidth(),K=r.getTileHeight(),R=r.getWidth(),S=r.getHeight();var ca=Math.max(Math.floor(g[0]/y),0);
const M=Math.min(Math.ceil(g[2]/y),Math.ceil(R/y));var aa=Math.max(Math.floor(g[1]/K),0);const Y=Math.min(Math.ceil(g[3]/K),Math.ceil(S/K)),ea=g[2]-g[0];let Ga=r.getBytesPerPixel();const X=[],D=[];for(var B=0;B<m.length;++B)1===r.planarConfiguration?X.push(w(r.fileDirectory.BitsPerSample,0,m[B])/8):X.push(0),D.push(r.getReaderForSample(m[B]));B=[];const {littleEndian:N}=r;for(;aa<Y;++aa)for(let Aa=ca;Aa<M;++Aa)for(let qa=0;qa<m.length;++qa){const la=qa;var Z=m[qa];2===r.planarConfiguration&&(Ga=r.getSampleByteSize(qa));
Z=r.getTileOrStrip(Aa,aa,Z,O,C);B.push(Z);Z.then(Ja=>{const bb=new DataView(Ja.data);var ib=r.getBlockHeight(Ja.y);const Ma=Ja.y*K,ma=Ja.x*y,Fa=D[la];ib=Math.min(ib,ib-(Ma+ib-g[3]),S-Ma);Ja=Math.min(y,y-((Ja.x+1)*y-g[2]),R-ma);for(let Ra=Math.max(0,g[1]-Ma);Ra<ib;++Ra)for(let ra=Math.max(0,g[0]-ma);ra<Ja;++ra){const ya=Fa.call(bb,(Ra*y+ra)*Ga+X[la],N);let oa;x?(oa=(Ra+Ma-g[1])*ea*m.length+(ra+ma-g[0])*m.length+la,h[oa]=ya):(oa=(Ra+Ma-g[1])*ea+ra+ma-g[0],h[la][oa]=ya)}})}yield Promise.all(B);if(G&&
g[2]-g[0]!==G||I&&g[3]-g[1]!==I)return ca=x?(0,c.resampleInterleaved)(h,g[2]-g[0],g[3]-g[1],G,I,m.length,F):(0,c.resample)(h,g[2]-g[0],g[3]-g[1],G,I,F),ca.width=G,ca.height=I,ca;h.width=G||g[2]-g[0];h.height=I||g[3]-g[1];return h})}readRasters({window:g,samples:m=[],interleave:h,pool:x=null,width:O,height:G,resampleMethod:I,fillValue:F,signal:C}={}){const r=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const y=g||[0,0,r.getWidth(),r.getHeight()];if(y[0]>y[2]||y[1]>y[3])throw Error("Invalid subsets");
var K=(y[2]-y[0])*(y[3]-y[1]),R=r.getSamplesPerPixel();if(!m||!m.length)for(var S=0;S<R;++S)m.push(S);else for(S=0;S<m.length;++S)if(m[S]>=R)return Promise.reject(new RangeError(`Invalid sample index '${m[S]}'.`));if(h)R=r.fileDirectory.SampleFormat?Math.max.apply(null,r.fileDirectory.SampleFormat):1,S=Math.max.apply(null,r.fileDirectory.BitsPerSample),R=k(R,S,K*m.length),F&&R.fill(F);else for(R=[],S=0;S<m.length;++S){const ca=r.getArrayForSample(m[S],K);Array.isArray(F)&&S<F.length?ca.fill(F[S]):
F&&!Array.isArray(F)&&ca.fill(F);R.push(ca)}K=x||(yield(0,b.getDecoder)(r.fileDirectory));return yield r._readRaster(y,m,R,h,K,O,G,I,C)})}readRGB({window:g,interleave:m=!0,pool:h=null,width:x,height:O,resampleMethod:G,enableAlpha:I=!1,signal:F}={}){const C=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var r=g||[0,0,C.getWidth(),C.getHeight()];if(r[0]>r[2]||r[1]>r[3])throw Error("Invalid subsets");var y=C.fileDirectory.PhotometricInterpretation;if(y===n.photometricInterpretations.RGB){r=
[0,1,2];if(C.fileDirectory.ExtraSamples!==n.ExtraSamplesValues.Unspecified&&I)for(r=[],y=0;y<C.fileDirectory.BitsPerSample.length;y+=1)r.push(y);return C.readRasters({window:g,interleave:m,samples:r,pool:h,width:x,height:O,resampleMethod:G,signal:F})}switch(y){case n.photometricInterpretations.WhiteIsZero:case n.photometricInterpretations.BlackIsZero:case n.photometricInterpretations.Palette:var K=[0];break;case n.photometricInterpretations.CMYK:K=[0,1,2,3];break;case n.photometricInterpretations.YCbCr:case n.photometricInterpretations.CIELab:K=
[0,1,2];break;default:throw Error("Invalid or unsupported photometric interpretation.");}r={window:r,interleave:!0,samples:K,pool:h,width:x,height:O,resampleMethod:G,signal:F};({fileDirectory:K}=C);r=yield C.readRasters(r);var R=Math.pow(2,C.fileDirectory.BitsPerSample[0]);switch(y){case n.photometricInterpretations.WhiteIsZero:y=(0,f.fromWhiteIsZero)(r,R);break;case n.photometricInterpretations.BlackIsZero:y=(0,f.fromBlackIsZero)(r,R);break;case n.photometricInterpretations.Palette:y=(0,f.fromPalette)(r,
K.ColorMap);break;case n.photometricInterpretations.CMYK:y=(0,f.fromCMYK)(r);break;case n.photometricInterpretations.YCbCr:y=(0,f.fromYCbCr)(r);break;case n.photometricInterpretations.CIELab:y=(0,f.fromCIELab)(r);break;default:throw Error("Unsupported photometric interpretation.");}if(!m){K=new Uint8Array(y.length/3);R=new Uint8Array(y.length/3);const S=new Uint8Array(y.length/3);for(let ca=0,M=0;ca<y.length;ca+=3,++M)K[M]=y[ca],R[M]=y[ca+1],S[M]=y[ca+2];y=[K,R,S]}y.width=r.width;y.height=r.height;
return y})}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const g=[];for(let m=0;m<this.fileDirectory.ModelTiepoint.length;m+=6)g.push({i:this.fileDirectory.ModelTiepoint[m],j:this.fileDirectory.ModelTiepoint[m+1],k:this.fileDirectory.ModelTiepoint[m+2],x:this.fileDirectory.ModelTiepoint[m+3],y:this.fileDirectory.ModelTiepoint[m+4],z:this.fileDirectory.ModelTiepoint[m+5]});return g}getGDALMetadata(g=null){const m={};if(!this.fileDirectory.GDAL_METADATA)return null;let h=(0,t.default)(this.fileDirectory.GDAL_METADATA,
"Item");h=null===g?h.filter(x=>void 0===(0,q.default)(x,"sample")):h.filter(x=>Number((0,q.default)(x,"sample"))===g);for(let x=0;x<h.length;++x){const O=h[x];m[(0,q.default)(O,"name")]=O.inner}return m}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const g=this.fileDirectory.GDAL_NODATA;return Number(g.substring(0,g.length-1))}getOrigin(){const g=this.fileDirectory.ModelTiepoint,m=this.fileDirectory.ModelTransformation;if(g&&6===g.length)return[g[3],g[4],g[5]];if(m)return[m[3],m[7],
m[11]];throw Error("The image does not have an affine transformation.");}getResolution(g=null){const m=this.fileDirectory.ModelPixelScale,h=this.fileDirectory.ModelTransformation;if(m)return[m[0],-m[1],m[2]];if(h)return[h[0],h[5],h[10]];if(g){const [x,O,G]=g.getResolution();return[x*g.getWidth()/this.getWidth(),O*g.getHeight()/this.getHeight(),G*g.getWidth()/this.getWidth()]}throw Error("The image does not have an affine transformation.");}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(){var g=
this.getOrigin(),m=this.getResolution();const h=g[0];g=g[1];const x=h+m[0]*this.getWidth();m=g+m[1]*this.getHeight();return[Math.min(h,x),Math.min(g,m),Math.max(h,x),Math.max(g,m)]}}A.default=e};
shadow$provide[237]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});const w=L(215);class k{constructor(p){this._dataView=new DataView(p)}get buffer(){return this._dataView.buffer}getUint64(p,q){const t=this.getUint32(p,q);p=this.getUint32(p+4,q);if(q){q=t+Math.pow(2,32)*p;if(!Number.isSafeInteger(q))throw Error(`${q} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return q}q=Math.pow(2,
32)*t+p;if(!Number.isSafeInteger(q))throw Error(`${q} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return q}getInt64(p,q){let t=0;const n=0<(this._dataView.getUint8(p+(q?7:0))&128);let f=!0;for(let b=0;8>b;b++){let c=this._dataView.getUint8(p+(q?b:7-b));n&&(f?0!==c&&(c=~(c-1)&255,f=!1):c=~c&255);t+=c*Math.pow(256,b)}n&&(t=-t);return t}getUint8(p,q){return this._dataView.getUint8(p,q)}getInt8(p,q){return this._dataView.getInt8(p,
q)}getUint16(p,q){return this._dataView.getUint16(p,q)}getInt16(p,q){return this._dataView.getInt16(p,q)}getUint32(p,q){return this._dataView.getUint32(p,q)}getInt32(p,q){return this._dataView.getInt32(p,q)}getFloat16(p,q){return(0,w.getFloat16)(this._dataView,p,q)}getFloat32(p,q){return this._dataView.getFloat32(p,q)}getFloat64(p,q){return this._dataView.getFloat64(p,q)}}A.default=k};
shadow$provide[238]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});class w{constructor(k,p,q,t){this._dataView=new DataView(k);this._sliceOffset=p;this._littleEndian=q;this._bigTiff=t}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(k,p){return this.sliceOffset<=k&&this.sliceTop>=k+p}readUint8(k){return this._dataView.getUint8(k-
this._sliceOffset,this._littleEndian)}readInt8(k){return this._dataView.getInt8(k-this._sliceOffset,this._littleEndian)}readUint16(k){return this._dataView.getUint16(k-this._sliceOffset,this._littleEndian)}readInt16(k){return this._dataView.getInt16(k-this._sliceOffset,this._littleEndian)}readUint32(k){return this._dataView.getUint32(k-this._sliceOffset,this._littleEndian)}readInt32(k){return this._dataView.getInt32(k-this._sliceOffset,this._littleEndian)}readFloat32(k){return this._dataView.getFloat32(k-
this._sliceOffset,this._littleEndian)}readFloat64(k){return this._dataView.getFloat64(k-this._sliceOffset,this._littleEndian)}readUint64(k){var p=this.readUint32(k);k=this.readUint32(k+4);if(this._littleEndian){p+=Math.pow(2,32)*k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}p=Math.pow(2,32)*p+k;if(!Number.isSafeInteger(p))throw Error(`${p} exceeds MAX_SAFE_INTEGER. `+
"Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues");return p}readInt64(k){let p=0;const q=0<(this._dataView.getUint8(k+(this._littleEndian?7:0))&128);let t=!0;for(let n=0;8>n;n++){let f=this._dataView.getUint8(k+(this._littleEndian?n:7-n));q&&(t?0!==f&&(f=~(f-1)&255,t=!1):f=~f&255);p+=f*Math.pow(256,n)}q&&(p=-p);return p}readOffset(k){return this._bigTiff?this.readUint64(k):this.readUint32(k)}}A.default=w};
shadow$provide[239]=function(Ka,L,sb,A){sb.exports=Worker};
shadow$provide[240]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{"default":p}};Object.defineProperty(A,"__esModule",{value:!0});A.create=void 0;const k=Ka(L(239));A.create=function(){return new k.default("undefined"===typeof Blob?"data:application/javascript;base64,"+w.from('function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});',
"binary").toString("base64"):URL.createObjectURL(new Blob(['function e(e,t,r,n,i,a,o){try{var s\x3de[a](o),f\x3ds.value}catch(e){return void r(e)}s.done?t(f):Promise.resolve(f).then(n,i)}function t(t){return function(){var r\x3dthis,n\x3darguments;return new Promise((function(i,a){var o\x3dt.apply(r,n);function s(t){e(o,i,a,s,f,"next",t)}function f(t){e(o,i,a,s,f,"throw",t)}s(void 0)}))}}function r(e){return r\x3d"function"\x3d\x3dtypeof Symbol\x26\x26"symbol"\x3d\x3dtypeof Symbol.iterator?function(e){return typeof e}:function(e){return e\x26\x26"function"\x3d\x3dtypeof Symbol\x26\x26e.constructor\x3d\x3d\x3dSymbol\x26\x26e!\x3d\x3dSymbol.prototype?"symbol":typeof e},r(e)}var n\x3d{exports:{}};!function(e){var t\x3dfunction(e){var t,n\x3dObject.prototype,i\x3dn.hasOwnProperty,a\x3d"function"\x3d\x3dtypeof Symbol?Symbol:{},o\x3da.iterator||"@@iterator",s\x3da.asyncIterator||"@@asyncIterator",f\x3da.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l\x3dfunction(e,t,r){return e[t]\x3dr}}function u(e,t,r,n){var i\x3dt\x26\x26t.prototype instanceof y?t:y,a\x3dObject.create(i.prototype),o\x3dnew T(n||[]);return a._invoke\x3dfunction(e,t,r){var n\x3dh;return function(i,a){if(n\x3d\x3d\x3dp)throw new Error("Generator is already running");if(n\x3d\x3d\x3dm){if("throw"\x3d\x3d\x3di)throw a;return E()}for(r.method\x3di,r.arg\x3da;;){var o\x3dr.delegate;if(o){var s\x3dI(o,r);if(s){if(s\x3d\x3d\x3dv)continue;return s}}if("next"\x3d\x3d\x3dr.method)r.sent\x3dr._sent\x3dr.arg;else if("throw"\x3d\x3d\x3dr.method){if(n\x3d\x3d\x3dh)throw n\x3dm,r.arg;r.dispatchException(r.arg)}else"return"\x3d\x3d\x3dr.method\x26\x26r.abrupt("return",r.arg);n\x3dp;var f\x3dc(e,t,r);if("normal"\x3d\x3d\x3df.type){if(n\x3dr.done?m:d,f.arg\x3d\x3d\x3dv)continue;return{value:f.arg,done:r.done}}"throw"\x3d\x3d\x3df.type\x26\x26(n\x3dm,r.method\x3d"throw",r.arg\x3df.arg)}}}(e,r,o),a}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap\x3du;var h\x3d"suspendedStart",d\x3d"suspendedYield",p\x3d"executing",m\x3d"completed",v\x3d{};function y(){}function w(){}function g(){}var b\x3d{};l(b,o,(function(){return this}));var k\x3dObject.getPrototypeOf,x\x3dk\x26\x26k(k(D([])));x\x26\x26x!\x3d\x3dn\x26\x26i.call(x,o)\x26\x26(b\x3dx);var _\x3dg.prototype\x3dy.prototype\x3dObject.create(b);function A(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(a,o,s,f){var l\x3dc(e[a],e,o);if("throw"!\x3d\x3dl.type){var u\x3dl.arg,h\x3du.value;return h\x26\x26"object"\x3d\x3d\x3dr(h)\x26\x26i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,f)}),(function(e){n("throw",e,s,f)})):t.resolve(h).then((function(e){u.value\x3de,s(u)}),(function(e){return n("throw",e,s,f)}))}f(l.arg)}var a;this._invoke\x3dfunction(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a\x3da?a.then(i,i):i()}}function I(e,r){var n\x3de.iterator[r.method];if(n\x3d\x3d\x3dt){if(r.delegate\x3dnull,"throw"\x3d\x3d\x3dr.method){if(e.iterator.return\x26\x26(r.method\x3d"return",r.arg\x3dt,I(e,r),"throw"\x3d\x3d\x3dr.method))return v;r.method\x3d"throw",r.arg\x3dnew TypeError("The iterator does not provide a \'throw\' method")}return v}var i\x3dc(n,e.iterator,r.arg);if("throw"\x3d\x3d\x3di.type)return r.method\x3d"throw",r.arg\x3di.arg,r.delegate\x3dnull,v;var a\x3di.arg;return a?a.done?(r[e.resultName]\x3da.value,r.next\x3de.nextLoc,"return"!\x3d\x3dr.method\x26\x26(r.method\x3d"next",r.arg\x3dt),r.delegate\x3dnull,v):a:(r.method\x3d"throw",r.arg\x3dnew TypeError("iterator result is not an object"),r.delegate\x3dnull,v)}function U(e){var t\x3d{tryLoc:e[0]};1 in e\x26\x26(t.catchLoc\x3de[1]),2 in e\x26\x26(t.finallyLoc\x3de[2],t.afterLoc\x3de[3]),this.tryEntries.push(t)}function S(e){var t\x3de.completion||{};t.type\x3d"normal",delete t.arg,e.completion\x3dt}function T(e){this.tryEntries\x3d[{tryLoc:"root"}],e.forEach(U,this),this.reset(!0)}function D(e){if(e){var r\x3de[o];if(r)return r.call(e);if("function"\x3d\x3dtypeof e.next)return e;if(!isNaN(e.length)){var n\x3d-1,a\x3dfunction r(){for(;++n\x3ce.length;)if(i.call(e,n))return r.value\x3de[n],r.done\x3d!1,r;return r.value\x3dt,r.done\x3d!0,r};return a.next\x3da}}return{next:E}}function E(){return{value:t,done:!0}}return w.prototype\x3dg,l(_,"constructor",g),l(g,"constructor",w),w.displayName\x3dl(g,f,"GeneratorFunction"),e.isGeneratorFunction\x3dfunction(e){var t\x3d"function"\x3d\x3dtypeof e\x26\x26e.constructor;return!!t\x26\x26(t\x3d\x3d\x3dw||"GeneratorFunction"\x3d\x3d\x3d(t.displayName||t.name))},e.mark\x3dfunction(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__\x3dg,l(e,f,"GeneratorFunction")),e.prototype\x3dObject.create(_),e},e.awrap\x3dfunction(e){return{__await:e}},A(P.prototype),l(P.prototype,s,(function(){return this})),e.AsyncIterator\x3dP,e.async\x3dfunction(t,r,n,i,a){void 0\x3d\x3d\x3da\x26\x26(a\x3dPromise);var o\x3dnew P(u(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},A(_),l(_,f,"Generator"),l(_,o,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys\x3dfunction(e){var t\x3d[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n\x3dt.pop();if(n in e)return r.value\x3dn,r.done\x3d!1,r}return r.done\x3d!0,r}},e.values\x3dD,T.prototype\x3d{constructor:T,reset:function(e){if(this.prev\x3d0,this.next\x3d0,this.sent\x3dthis._sent\x3dt,this.done\x3d!1,this.delegate\x3dnull,this.method\x3d"next",this.arg\x3dt,this.tryEntries.forEach(S),!e)for(var r in this)"t"\x3d\x3d\x3dr.charAt(0)\x26\x26i.call(this,r)\x26\x26!isNaN(+r.slice(1))\x26\x26(this[r]\x3dt)},stop:function(){this.done\x3d!0;var e\x3dthis.tryEntries[0].completion;if("throw"\x3d\x3d\x3de.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r\x3dthis;function n(n,i){return s.type\x3d"throw",s.arg\x3de,r.next\x3dn,i\x26\x26(r.method\x3d"next",r.arg\x3dt),!!i}for(var a\x3dthis.tryEntries.length-1;a\x3e\x3d0;--a){var o\x3dthis.tryEntries[a],s\x3do.completion;if("root"\x3d\x3d\x3do.tryLoc)return n("end");if(o.tryLoc\x3c\x3dthis.prev){var f\x3di.call(o,"catchLoc"),l\x3di.call(o,"finallyLoc");if(f\x26\x26l){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0);if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}else if(f){if(this.prev\x3co.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev\x3co.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r\x3dthis.tryEntries.length-1;r\x3e\x3d0;--r){var n\x3dthis.tryEntries[r];if(n.tryLoc\x3c\x3dthis.prev\x26\x26i.call(n,"finallyLoc")\x26\x26this.prev\x3cn.finallyLoc){var a\x3dn;break}}a\x26\x26("break"\x3d\x3d\x3de||"continue"\x3d\x3d\x3de)\x26\x26a.tryLoc\x3c\x3dt\x26\x26t\x3c\x3da.finallyLoc\x26\x26(a\x3dnull);var o\x3da?a.completion:{};return o.type\x3de,o.arg\x3dt,a?(this.method\x3d"next",this.next\x3da.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"\x3d\x3d\x3de.type)throw e.arg;return"break"\x3d\x3d\x3de.type||"continue"\x3d\x3d\x3de.type?this.next\x3de.arg:"return"\x3d\x3d\x3de.type?(this.rval\x3dthis.arg\x3de.arg,this.method\x3d"return",this.next\x3d"end"):"normal"\x3d\x3d\x3de.type\x26\x26t\x26\x26(this.next\x3dt),v},finish:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.finallyLoc\x3d\x3d\x3de)return this.complete(r.completion,r.afterLoc),S(r),v}},catch:function(e){for(var t\x3dthis.tryEntries.length-1;t\x3e\x3d0;--t){var r\x3dthis.tryEntries[t];if(r.tryLoc\x3d\x3d\x3de){var n\x3dr.completion;if("throw"\x3d\x3d\x3dn.type){var i\x3dn.arg;S(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate\x3d{iterator:D(e),resultName:r,nextLoc:n},"next"\x3d\x3d\x3dthis.method\x26\x26(this.arg\x3dt),v}},e}(e.exports);try{regeneratorRuntime\x3dt}catch(e){"object"\x3d\x3d\x3d("undefined"\x3d\x3dtypeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime\x3dt:Function("r","regeneratorRuntime \x3d r")(t)}}(n);var i\x3dn.exports,a\x3dnew Map;function o(e,t){Array.isArray(e)||(e\x3d[e]),e.forEach((function(e){return a.set(e,t)}))}function s(e){return f.apply(this,arguments)}function f(){return(f\x3dt(i.mark((function e(t){var r,n;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:if(r\x3da.get(t.Compression)){e.next\x3d3;break}throw new Error("Unknown compression method identifier: ".concat(t.Compression));case 3:return e.next\x3d5,r();case 5:return n\x3de.sent,e.abrupt("return",new n(t));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o([void 0,1],(function(){return Promise.resolve().then((function(){return _})).then((function(e){return e.default}))})),o(5,(function(){return Promise.resolve().then((function(){return S})).then((function(e){return e.default}))})),o(6,(function(){throw new Error("old style JPEG compression is not supported.")})),o(7,(function(){return Promise.resolve().then((function(){return L})).then((function(e){return e.default}))})),o([8,32946],(function(){return Promise.resolve().then((function(){return Ne})).then((function(e){return e.default}))})),o(32773,(function(){return Promise.resolve().then((function(){return Ye})).then((function(e){return e.default}))})),o(34887,(function(){return Promise.resolve().then((function(){return ut})).then((function(e){return e.default}))})),o(50001,(function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}));var l\x3dglobalThis;function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r\x3d0;r\x3ct.length;r++){var n\x3dt[r];n.enumerable\x3dn.enumerable||!1,n.configurable\x3d!0,"value"in n\x26\x26(n.writable\x3d!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t\x26\x26c(e.prototype,t),r\x26\x26c(e,r),e}function d(e,t){return d\x3dObject.setPrototypeOf||function(e,t){return e.__proto__\x3dt,e},d(e,t)}function p(e,t){if("function"!\x3dtypeof t\x26\x26null!\x3d\x3dt)throw new TypeError("Super expression must either be null or a function");e.prototype\x3dObject.create(t\x26\x26t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t\x26\x26d(e,t)}function m(e,t){if(t\x26\x26("object"\x3d\x3d\x3dr(t)||"function"\x3d\x3dtypeof t))return t;if(void 0!\x3d\x3dt)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0\x3d\x3d\x3de)throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called");return e}(e)}function v(e){return v\x3dObject.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function y(e,t){var r\x3de.length-t,n\x3d0;do{for(var i\x3dt;i\x3e0;i--)e[n+t]+\x3de[n],n++;r-\x3dt}while(r\x3e0)}function w(e,t,r){for(var n\x3d0,i\x3de.length,a\x3di/r;i\x3et;){for(var o\x3dt;o\x3e0;--o)e[n+t]+\x3de[n],++n;i-\x3dt}for(var s\x3de.slice(),f\x3d0;f\x3ca;++f)for(var l\x3d0;l\x3cr;++l)e[r*f+l]\x3ds[(r-l-1)*a+f]}function g(e,t,r,n,i,a){if(!t||1\x3d\x3d\x3dt)return e;for(var o\x3d0;o\x3ci.length;++o){if(i[o]%8!\x3d0)throw new Error("When decoding with predictor, only multiple of 8 bits are supported.");if(i[o]!\x3d\x3di[0])throw new Error("When decoding with predictor, all samples must have the same size.")}for(var s\x3di[0]/8,f\x3d2\x3d\x3d\x3da?1:i.length,l\x3d0;l\x3cn\x26\x26!(l*f*r*s\x3e\x3de.byteLength);++l){var u\x3dvoid 0;if(2\x3d\x3d\x3dt){switch(i[0]){case 8:u\x3dnew Uint8Array(e,l*f*r*s,f*r*s);break;case 16:u\x3dnew Uint16Array(e,l*f*r*s,f*r*s/2);break;case 32:u\x3dnew Uint32Array(e,l*f*r*s,f*r*s/4);break;default:throw new Error("Predictor 2 not allowed with ".concat(i[0]," bits per sample."))}y(u,f)}else 3\x3d\x3d\x3dt\x26\x26w(u\x3dnew Uint8Array(e,l*f*r*s,f*r*s),f,s)}return e}l.addEventListener("message",function(){var e\x3dt(i.mark((function e(t){var r,n,a,o,f,u;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return r\x3dt.data,n\x3dr.id,a\x3dr.fileDirectory,o\x3dr.buffer,e.next\x3d3,s(a);case 3:return f\x3de.sent,e.next\x3d6,f.decode(a,o);case 6:u\x3de.sent,l.postMessage({decoded:u,id:n},[u]);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b\x3dfunction(){function e(){u(this,e)}var r;return h(e,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s,f;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return e.next\x3d2,this.decodeBlock(r);case 2:if(n\x3de.sent,1\x3d\x3d\x3d(a\x3dt.Predictor||1)){e.next\x3d9;break}return o\x3d!t.StripOffsets,s\x3do?t.TileWidth:t.ImageWidth,f\x3do?t.TileLength:t.RowsPerStrip||t.ImageLength,e.abrupt("return",g(n,a,s,f,t.BitsPerSample,t.PlanarConfiguration));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),e}();function k(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var x\x3dfunction(e){p(r,b);var t\x3dk(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return e}}]),r}(),_\x3dObject.freeze({__proto__:null,default:x});function A(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}function P(e,t){for(var r\x3dt.length-1;r\x3e\x3d0;r--)e.push(t[r]);return e}function I(e){for(var t\x3dnew Uint16Array(4093),r\x3dnew Uint8Array(4093),n\x3d0;n\x3c\x3d257;n++)t[n]\x3d4096,r[n]\x3dn;var i\x3d258,a\x3d9,o\x3d0;function s(){i\x3d258,a\x3d9}function f(e){var t\x3dfunction(e,t,r){var n\x3dt%8,i\x3dMath.floor(t/8),a\x3d8-n,o\x3dt+r-8*(i+1),s\x3d8*(i+2)-(t+r),f\x3d8*(i+2)-t;if(s\x3dMath.max(0,s),i\x3e\x3de.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),257;var l\x3de[i]\x26Math.pow(2,8-n)-1,u\x3dl\x3c\x3c\x3dr-a;if(i+1\x3ce.length){var c\x3de[i+1]\x3e\x3e\x3es;u+\x3dc\x3c\x3c\x3dMath.max(0,r-f)}if(o\x3e8\x26\x26i+2\x3ce.length){var h\x3d8*(i+3)-(t+r);u+\x3de[i+2]\x3e\x3e\x3eh}return u}(e,o,a);return o+\x3da,t}function l(e,n){return r[i]\x3dn,t[i]\x3de,++i-1}function u(e){for(var n\x3d[],i\x3de;4096!\x3d\x3di;i\x3dt[i])n.push(r[i]);return n}var c\x3d[];s();for(var h,d\x3dnew Uint8Array(e),p\x3df(d);257!\x3d\x3dp;){if(256\x3d\x3d\x3dp){for(s(),p\x3df(d);256\x3d\x3d\x3dp;)p\x3df(d);if(257\x3d\x3d\x3dp)break;if(p\x3e256)throw new Error("corrupted code at scanline ".concat(p));P(c,u(p)),h\x3dp}else if(p\x3ci){var m\x3du(p);P(c,m),l(h,m[m.length-1]),h\x3dp}else{var v\x3du(h);if(!v)throw new Error("Bogus entry. Not in dictionary, ".concat(h," / ").concat(i,", position: ").concat(o));P(c,v),c.push(v[v.length-1]),l(h,v[v.length-1]),h\x3dp}i+1\x3e\x3dMath.pow(2,a)\x26\x26(12\x3d\x3d\x3da?h\x3dvoid 0:a++),p\x3df(d)}return new Uint8Array(c)}var U\x3dfunction(e){p(r,b);var t\x3dA(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return I(e).buffer}}]),r}(),S\x3dObject.freeze({__proto__:null,default:U});function T(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var D\x3dnew Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);function E(e,t){for(var r\x3d0,n\x3d[],i\x3d16;i\x3e0\x26\x26!e[i-1];)--i;n.push({children:[],index:0});for(var a,o\x3dn[0],s\x3d0;s\x3ci;s++){for(var f\x3d0;f\x3ce[s];f++){for((o\x3dn.pop()).children[o.index]\x3dt[r];o.index\x3e0;)o\x3dn.pop();for(o.index++,n.push(o);n.length\x3c\x3ds;)n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da;r++}s+1\x3ci\x26\x26(n.push(a\x3d{children:[],index:0}),o.children[o.index]\x3da.children,o\x3da)}return n[0].children}function B(e,t,n,i,a,o,s,f,l){var u\x3dn.mcusPerLine,c\x3dn.progressive,h\x3dt,d\x3dt,p\x3d0,m\x3d0;function v(){if(m\x3e0)return m--,p\x3e\x3em\x261;if(255\x3d\x3d\x3d(p\x3de[d++])){var t\x3de[d++];if(t)throw new Error("unexpected marker: ".concat((p\x3c\x3c8|t).toString(16)))}return m\x3d7,p\x3e\x3e\x3e7}function y(e){for(var t,n\x3de;null!\x3d\x3d(t\x3dv());){if("number"\x3d\x3dtypeof(n\x3dn[t]))return n;if("object"!\x3d\x3dr(n))throw new Error("invalid huffman sequence")}return null}function w(e){for(var t\x3de,r\x3d0;t\x3e0;){var n\x3dv();if(null\x3d\x3d\x3dn)return;r\x3dr\x3c\x3c1|n,--t}return r}function g(e){var t\x3dw(e);return t\x3e\x3d1\x3c\x3ce-1?t:t+(-1\x3c\x3ce)+1}var b\x3d0;var k,x\x3d0;function _(e,t,r,n,i){var a\x3dr%u,o\x3d(r/u|0)*e.v+n,s\x3da*e.h+i;t(e,e.blocks[o][s])}function A(e,t,r){var n\x3dr/e.blocksPerLine|0,i\x3dr%e.blocksPerLine;t(e,e.blocks[n][i])}var P,I,U,S,T,E,B\x3di.length;E\x3dc?0\x3d\x3d\x3do?0\x3d\x3d\x3df?function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r)\x3c\x3cl;e.pred+\x3dn,t[0]\x3de.pred}:function(e,t){t[0]|\x3dv()\x3c\x3cl}:0\x3d\x3d\x3df?function(e,t){if(b\x3e0)b--;else for(var r\x3do,n\x3ds;r\x3c\x3dn;){var i\x3dy(e.huffmanTableAC),a\x3d15\x26i,f\x3di\x3e\x3e4;if(0\x3d\x3d\x3da){if(f\x3c15){b\x3dw(f)+(1\x3c\x3cf)-1;break}r+\x3d16}else t[D[r+\x3df]]\x3dg(a)*(1\x3c\x3cl),r++}}:function(e,t){for(var r\x3do,n\x3ds,i\x3d0;r\x3c\x3dn;){var a\x3dD[r],f\x3dt[a]\x3c0?-1:1;switch(x){case 0:var u\x3dy(e.huffmanTableAC),c\x3d15\x26u;if(i\x3du\x3e\x3e4,0\x3d\x3d\x3dc)i\x3c15?(b\x3dw(i)+(1\x3c\x3ci),x\x3d4):(i\x3d16,x\x3d1);else{if(1!\x3d\x3dc)throw new Error("invalid ACn encoding");k\x3dg(c),x\x3di?2:3}continue;case 1:case 2:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:0\x3d\x3d--i\x26\x26(x\x3d2\x3d\x3d\x3dx?3:0);break;case 3:t[a]?t[a]+\x3d(v()\x3c\x3cl)*f:(t[a]\x3dk\x3c\x3cl,x\x3d0);break;case 4:t[a]\x26\x26(t[a]+\x3d(v()\x3c\x3cl)*f)}r++}4\x3d\x3d\x3dx\x26\x260\x3d\x3d--b\x26\x26(x\x3d0)}:function(e,t){var r\x3dy(e.huffmanTableDC),n\x3d0\x3d\x3d\x3dr?0:g(r);e.pred+\x3dn,t[0]\x3de.pred;for(var i\x3d1;i\x3c64;){var a\x3dy(e.huffmanTableAC),o\x3d15\x26a,s\x3da\x3e\x3e4;if(0\x3d\x3d\x3do){if(s\x3c15)break;i+\x3d16}else t[D[i+\x3ds]]\x3dg(o),i++}};var O,M,C\x3d0;M\x3d1\x3d\x3d\x3dB?i[0].blocksPerLine*i[0].blocksPerColumn:u*n.mcusPerColumn;for(var L\x3da||M;C\x3cM;){for(I\x3d0;I\x3cB;I++)i[I].pred\x3d0;if(b\x3d0,1\x3d\x3d\x3dB)for(P\x3di[0],T\x3d0;T\x3cL;T++)A(P,E,C),C++;else for(T\x3d0;T\x3cL;T++){for(I\x3d0;I\x3cB;I++){var R\x3dP\x3di[I],V\x3dR.h,G\x3dR.v;for(U\x3d0;U\x3cG;U++)for(S\x3d0;S\x3cV;S++)_(P,E,C,U,S)}if(++C\x3d\x3d\x3dM)break}if(m\x3d0,(O\x3de[d]\x3c\x3c8|e[d+1])\x3c65280)throw new Error("marker was not found");if(!(O\x3e\x3d65488\x26\x26O\x3c\x3d65495))break;d+\x3d2}return d-h}function O(e,t){var r\x3d[],n\x3dt.blocksPerLine,i\x3dt.blocksPerColumn,a\x3dn\x3c\x3c3,o\x3dnew Int32Array(64),s\x3dnew Uint8Array(64);function f(e,r,n){var i,a,o,s,f,l,u,c,h,d,p\x3dt.quantizationTable,m\x3dn;for(d\x3d0;d\x3c64;d++)m[d]\x3de[d]*p[d];for(d\x3d0;d\x3c8;++d){var v\x3d8*d;0!\x3d\x3dm[1+v]||0!\x3d\x3dm[2+v]||0!\x3d\x3dm[3+v]||0!\x3d\x3dm[4+v]||0!\x3d\x3dm[5+v]||0!\x3d\x3dm[6+v]||0!\x3d\x3dm[7+v]?(i\x3d5793*m[0+v]+128\x3e\x3e8,a\x3d5793*m[4+v]+128\x3e\x3e8,o\x3dm[2+v],s\x3dm[6+v],f\x3d2896*(m[1+v]-m[7+v])+128\x3e\x3e8,c\x3d2896*(m[1+v]+m[7+v])+128\x3e\x3e8,l\x3dm[3+v]\x3c\x3c4,h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+128\x3e\x3e8,o\x3d1567*o-3784*s+128\x3e\x3e8,s\x3dh,h\x3df-(u\x3dm[5+v]\x3c\x3c4)+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+v]\x3di+c,m[7+v]\x3di-c,m[1+v]\x3da+u,m[6+v]\x3da-u,m[2+v]\x3do+l,m[5+v]\x3do-l,m[3+v]\x3ds+f,m[4+v]\x3ds-f):(h\x3d5793*m[0+v]+512\x3e\x3e10,m[0+v]\x3dh,m[1+v]\x3dh,m[2+v]\x3dh,m[3+v]\x3dh,m[4+v]\x3dh,m[5+v]\x3dh,m[6+v]\x3dh,m[7+v]\x3dh)}for(d\x3d0;d\x3c8;++d){var y\x3dd;0!\x3d\x3dm[8+y]||0!\x3d\x3dm[16+y]||0!\x3d\x3dm[24+y]||0!\x3d\x3dm[32+y]||0!\x3d\x3dm[40+y]||0!\x3d\x3dm[48+y]||0!\x3d\x3dm[56+y]?(i\x3d5793*m[0+y]+2048\x3e\x3e12,a\x3d5793*m[32+y]+2048\x3e\x3e12,o\x3dm[16+y],s\x3dm[48+y],f\x3d2896*(m[8+y]-m[56+y])+2048\x3e\x3e12,c\x3d2896*(m[8+y]+m[56+y])+2048\x3e\x3e12,l\x3dm[24+y],h\x3di-a+1\x3e\x3e1,i\x3di+a+1\x3e\x3e1,a\x3dh,h\x3d3784*o+1567*s+2048\x3e\x3e12,o\x3d1567*o-3784*s+2048\x3e\x3e12,s\x3dh,h\x3df-(u\x3dm[40+y])+1\x3e\x3e1,f\x3df+u+1\x3e\x3e1,u\x3dh,h\x3dc+l+1\x3e\x3e1,l\x3dc-l+1\x3e\x3e1,c\x3dh,h\x3di-s+1\x3e\x3e1,i\x3di+s+1\x3e\x3e1,s\x3dh,h\x3da-o+1\x3e\x3e1,a\x3da+o+1\x3e\x3e1,o\x3dh,h\x3d2276*f+3406*c+2048\x3e\x3e12,f\x3d3406*f-2276*c+2048\x3e\x3e12,c\x3dh,h\x3d799*l+4017*u+2048\x3e\x3e12,l\x3d4017*l-799*u+2048\x3e\x3e12,u\x3dh,m[0+y]\x3di+c,m[56+y]\x3di-c,m[8+y]\x3da+u,m[48+y]\x3da-u,m[16+y]\x3do+l,m[40+y]\x3do-l,m[24+y]\x3ds+f,m[32+y]\x3ds-f):(h\x3d5793*n[d+0]+8192\x3e\x3e14,m[0+y]\x3dh,m[8+y]\x3dh,m[16+y]\x3dh,m[24+y]\x3dh,m[32+y]\x3dh,m[40+y]\x3dh,m[48+y]\x3dh,m[56+y]\x3dh)}for(d\x3d0;d\x3c64;++d){var w\x3d128+(m[d]+8\x3e\x3e4);r[d]\x3dw\x3c0?0:w\x3e255?255:w}}for(var l\x3d0;l\x3ci;l++){for(var u\x3dl\x3c\x3c3,c\x3d0;c\x3c8;c++)r.push(new Uint8Array(a));for(var h\x3d0;h\x3cn;h++){f(t.blocks[l][h],s,o);for(var d\x3d0,p\x3dh\x3c\x3c3,m\x3d0;m\x3c8;m++)for(var v\x3dr[u+m],y\x3d0;y\x3c8;y++)v[p+y]\x3ds[d++]}}return r}var M\x3dfunction(){function e(){u(this,e),this.jfif\x3dnull,this.adobe\x3dnull,this.quantizationTables\x3d[],this.huffmanTablesAC\x3d[],this.huffmanTablesDC\x3d[],this.resetFrames()}return h(e,[{key:"resetFrames",value:function(){this.frames\x3d[]}},{key:"parse",value:function(e){var t\x3d0;function r(){var r\x3de[t]\x3c\x3c8|e[t+1];return t+\x3d2,r}function n(e){var t,r,n\x3d0,i\x3d0;for(r in e.components)e.components.hasOwnProperty(r)\x26\x26(n\x3c(t\x3de.components[r]).h\x26\x26(n\x3dt.h),i\x3ct.v\x26\x26(i\x3dt.v));var a\x3dMath.ceil(e.samplesPerLine/8/n),o\x3dMath.ceil(e.scanLines/8/i);for(r in e.components)if(e.components.hasOwnProperty(r)){t\x3de.components[r];for(var s\x3dMath.ceil(Math.ceil(e.samplesPerLine/8)*t.h/n),f\x3dMath.ceil(Math.ceil(e.scanLines/8)*t.v/i),l\x3da*t.h,u\x3do*t.v,c\x3d[],h\x3d0;h\x3cu;h++){for(var d\x3d[],p\x3d0;p\x3cl;p++)d.push(new Int32Array(64));c.push(d)}t.blocksPerLine\x3ds,t.blocksPerColumn\x3df,t.blocks\x3dc}e.maxH\x3dn,e.maxV\x3di,e.mcusPerLine\x3da,e.mcusPerColumn\x3do}var i,a,o\x3dr();if(65496!\x3d\x3do)throw new Error("SOI not found");for(o\x3dr();65497!\x3d\x3do;){switch(o){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var s\x3d(i\x3dvoid 0,a\x3dvoid 0,i\x3dr(),a\x3de.subarray(t,t+i-2),t+\x3da.length,a);65504\x3d\x3d\x3do\x26\x2674\x3d\x3d\x3ds[0]\x26\x2670\x3d\x3d\x3ds[1]\x26\x2673\x3d\x3d\x3ds[2]\x26\x2670\x3d\x3d\x3ds[3]\x26\x260\x3d\x3d\x3ds[4]\x26\x26(this.jfif\x3d{version:{major:s[5],minor:s[6]},densityUnits:s[7],xDensity:s[8]\x3c\x3c8|s[9],yDensity:s[10]\x3c\x3c8|s[11],thumbWidth:s[12],thumbHeight:s[13],thumbData:s.subarray(14,14+3*s[12]*s[13])}),65518\x3d\x3d\x3do\x26\x2665\x3d\x3d\x3ds[0]\x26\x26100\x3d\x3d\x3ds[1]\x26\x26111\x3d\x3d\x3ds[2]\x26\x2698\x3d\x3d\x3ds[3]\x26\x26101\x3d\x3d\x3ds[4]\x26\x260\x3d\x3d\x3ds[5]\x26\x26(this.adobe\x3d{version:s[6],flags0:s[7]\x3c\x3c8|s[8],flags1:s[9]\x3c\x3c8|s[10],transformCode:s[11]});break;case 65499:for(var f\x3dr()+t-2;t\x3cf;){var l\x3de[t++],u\x3dnew Int32Array(64);if(l\x3e\x3e4\x3d\x3d0)for(var c\x3d0;c\x3c64;c++){u[D[c]]\x3de[t++]}else{if(l\x3e\x3e4!\x3d1)throw new Error("DQT: invalid table spec");for(var h\x3d0;h\x3c64;h++){u[D[h]]\x3dr()}}this.quantizationTables[15\x26l]\x3du}break;case 65472:case 65473:case 65474:r();for(var d\x3d{extended:65473\x3d\x3d\x3do,progressive:65474\x3d\x3d\x3do,precision:e[t++],scanLines:r(),samplesPerLine:r(),components:{},componentsOrder:[]},p\x3de[t++],m\x3dvoid 0,v\x3d0;v\x3cp;v++){m\x3de[t];var y\x3de[t+1]\x3e\x3e4,w\x3d15\x26e[t+1],g\x3de[t+2];d.componentsOrder.push(m),d.components[m]\x3d{h:y,v:w,quantizationIdx:g},t+\x3d3}n(d),this.frames.push(d);break;case 65476:for(var b\x3dr(),k\x3d2;k\x3cb;){for(var x\x3de[t++],_\x3dnew Uint8Array(16),A\x3d0,P\x3d0;P\x3c16;P++,t++)_[P]\x3de[t],A+\x3d_[P];for(var I\x3dnew Uint8Array(A),U\x3d0;U\x3cA;U++,t++)I[U]\x3de[t];k+\x3d17+A,x\x3e\x3e4\x3d\x3d0?this.huffmanTablesDC[15\x26x]\x3dE(_,I):this.huffmanTablesAC[15\x26x]\x3dE(_,I)}break;case 65501:r(),this.resetInterval\x3dr();break;case 65498:r();for(var S\x3de[t++],T\x3d[],O\x3dthis.frames[0],M\x3d0;M\x3cS;M++){var C\x3dO.components[e[t++]],L\x3de[t++];C.huffmanTableDC\x3dthis.huffmanTablesDC[L\x3e\x3e4],C.huffmanTableAC\x3dthis.huffmanTablesAC[15\x26L],T.push(C)}var R\x3de[t++],V\x3de[t++],G\x3de[t++],F\x3dB(e,t,O,T,this.resetInterval,R,V,G\x3e\x3e4,15\x26G);t+\x3dF;break;case 65535:255!\x3d\x3de[t]\x26\x26t--;break;default:if(255\x3d\x3d\x3de[t-3]\x26\x26e[t-2]\x3e\x3d192\x26\x26e[t-2]\x3c\x3d254){t-\x3d3;break}throw new Error("unknown JPEG marker ".concat(o.toString(16)))}o\x3dr()}}},{key:"getResult",value:function(){var e\x3dthis.frames;if(0\x3d\x3d\x3dthis.frames.length)throw new Error("no frames were decoded");this.frames.length\x3e1\x26\x26console.warn("more than one frame is not supported");for(var t\x3d0;t\x3cthis.frames.length;t++)for(var r\x3dthis.frames[t].components,n\x3d0,i\x3dObject.keys(r);n\x3ci.length;n++){var a\x3di[n];r[a].quantizationTable\x3dthis.quantizationTables[r[a].quantizationIdx],delete r[a].quantizationIdx}for(var o\x3de[0],s\x3do.components,f\x3do.componentsOrder,l\x3d[],u\x3do.samplesPerLine,c\x3do.scanLines,h\x3d0;h\x3cf.length;h++){var d\x3ds[f[h]];l.push({lines:O(0,d),scaleX:d.h/o.maxH,scaleY:d.v/o.maxV})}for(var p\x3dnew Uint8Array(u*c*l.length),m\x3d0,v\x3d0;v\x3cc;++v)for(var y\x3d0;y\x3cu;++y)for(var w\x3d0;w\x3cl.length;++w){var g\x3dl[w];p[m]\x3dg.lines[0|v*g.scaleY][0|y*g.scaleX],++m}return p}}]),e}(),C\x3dfunction(e){p(r,b);var t\x3dT(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).reader\x3dnew M,e.JPEGTables\x26\x26n.reader.parse(e.JPEGTables),n}return h(r,[{key:"decodeBlock",value:function(e){return this.reader.resetFrames(),this.reader.parse(new Uint8Array(e)),this.reader.getResult().buffer}}]),r}(),L\x3dObject.freeze({__proto__:null,default:C});function R(e){for(var t\x3de.length;--t\x3e\x3d0;)e[t]\x3d0}R(new Array(576)),R(new Array(60)),R(new Array(512)),R(new Array(256)),R(new Array(29)),R(new Array(30));var V\x3dfunction(e,t,r,n){for(var i\x3d65535\x26e|0,a\x3de\x3e\x3e\x3e16\x2665535|0,o\x3d0;0!\x3d\x3dr;){r-\x3do\x3dr\x3e2e3?2e3:r;do{a\x3da+(i\x3di+t[n++]|0)|0}while(--o);i%\x3d65521,a%\x3d65521}return i|a\x3c\x3c16|0},G\x3dnew Uint32Array(function(){for(var e,t\x3d[],r\x3d0;r\x3c256;r++){e\x3dr;for(var n\x3d0;n\x3c8;n++)e\x3d1\x26e?3988292384^e\x3e\x3e\x3e1:e\x3e\x3e\x3e1;t[r]\x3de}return t}()),F\x3dfunction(e,t,r,n){var i\x3dG,a\x3dn+r;e^\x3d-1;for(var o\x3dn;o\x3ca;o++)e\x3de\x3e\x3e\x3e8^i[255\x26(e^t[o])];return-1^e},z\x3d{2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},j\x3d{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},N\x3dfunction(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Z\x3dfunction(e){for(var t\x3dArray.prototype.slice.call(arguments,1);t.length;){var n\x3dt.shift();if(n){if("object"!\x3d\x3dr(n))throw new TypeError(n+"must be non-object");for(var i in n)N(n,i)\x26\x26(e[i]\x3dn[i])}}return e},K\x3dfunction(e){for(var t\x3d0,r\x3d0,n\x3de.length;r\x3cn;r++)t+\x3de[r].length;for(var i\x3dnew Uint8Array(t),a\x3d0,o\x3d0,s\x3de.length;a\x3cs;a++){var f\x3de[a];i.set(f,o),o+\x3df.length}return i},H\x3d!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){H\x3d!1}for(var Y\x3dnew Uint8Array(256),X\x3d0;X\x3c256;X++)Y[X]\x3dX\x3e\x3d252?6:X\x3e\x3d248?5:X\x3e\x3d240?4:X\x3e\x3d224?3:X\x3e\x3d192?2:1;Y[254]\x3dY[254]\x3d1;var W\x3dfunction(e){if("function"\x3d\x3dtypeof TextEncoder\x26\x26TextEncoder.prototype.encode)return(new TextEncoder).encode(e);var t,r,n,i,a,o\x3de.length,s\x3d0;for(i\x3d0;i\x3co;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),s+\x3dr\x3c128?1:r\x3c2048?2:r\x3c65536?3:4;for(t\x3dnew Uint8Array(s),a\x3d0,i\x3d0;a\x3cs;i++)55296\x3d\x3d(64512\x26(r\x3de.charCodeAt(i)))\x26\x26i+1\x3co\x26\x2656320\x3d\x3d(64512\x26(n\x3de.charCodeAt(i+1)))\x26\x26(r\x3d65536+(r-55296\x3c\x3c10)+(n-56320),i++),r\x3c128?t[a++]\x3dr:r\x3c2048?(t[a++]\x3d192|r\x3e\x3e\x3e6,t[a++]\x3d128|63\x26r):r\x3c65536?(t[a++]\x3d224|r\x3e\x3e\x3e12,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r):(t[a++]\x3d240|r\x3e\x3e\x3e18,t[a++]\x3d128|r\x3e\x3e\x3e12\x2663,t[a++]\x3d128|r\x3e\x3e\x3e6\x2663,t[a++]\x3d128|63\x26r);return t},q\x3dfunction(e,t){var r,n,i\x3dt||e.length;if("function"\x3d\x3dtypeof TextDecoder\x26\x26TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));var a\x3dnew Array(2*i);for(n\x3d0,r\x3d0;r\x3ci;){var o\x3de[r++];if(o\x3c128)a[n++]\x3do;else{var s\x3dY[o];if(s\x3e4)a[n++]\x3d65533,r+\x3ds-1;else{for(o\x26\x3d2\x3d\x3d\x3ds?31:3\x3d\x3d\x3ds?15:7;s\x3e1\x26\x26r\x3ci;)o\x3do\x3c\x3c6|63\x26e[r++],s--;s\x3e1?a[n++]\x3d65533:o\x3c65536?a[n++]\x3do:(o-\x3d65536,a[n++]\x3d55296|o\x3e\x3e10\x261023,a[n++]\x3d56320|1023\x26o)}}}return function(e,t){if(t\x3c65534\x26\x26e.subarray\x26\x26H)return String.fromCharCode.apply(null,e.length\x3d\x3d\x3dt?e:e.subarray(0,t));for(var r\x3d"",n\x3d0;n\x3ct;n++)r+\x3dString.fromCharCode(e[n]);return r}(a,n)},J\x3dfunction(e,t){(t\x3dt||e.length)\x3ee.length\x26\x26(t\x3de.length);for(var r\x3dt-1;r\x3e\x3d0\x26\x26128\x3d\x3d(192\x26e[r]);)r--;return r\x3c0||0\x3d\x3d\x3dr?t:r+Y[e[r]]\x3et?r:t};var Q\x3dfunction(){this.input\x3dnull,this.next_in\x3d0,this.avail_in\x3d0,this.total_in\x3d0,this.output\x3dnull,this.next_out\x3d0,this.avail_out\x3d0,this.total_out\x3d0,this.msg\x3d"",this.state\x3dnull,this.data_type\x3d2,this.adler\x3d0},$\x3dfunction(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3de.state;r\x3de.next_in,A\x3de.input,n\x3dr+(e.avail_in-5),i\x3de.next_out,P\x3de.output,a\x3di-(t-e.avail_out),o\x3di+(e.avail_out-257),s\x3dI.dmax,f\x3dI.wsize,l\x3dI.whave,u\x3dI.wnext,c\x3dI.window,h\x3dI.hold,d\x3dI.bits,p\x3dI.lencode,m\x3dI.distcode,v\x3d(1\x3c\x3cI.lenbits)-1,y\x3d(1\x3c\x3cI.distbits)-1;e:do{d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dp[h\x26v];t:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,0\x3d\x3d\x3d(g\x3dw\x3e\x3e\x3e16\x26255))P[i++]\x3d65535\x26w;else{if(!(16\x26g)){if(0\x3d\x3d(64\x26g)){w\x3dp[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue t}if(32\x26g){I.mode\x3d12;break e}e.msg\x3d"invalid literal/length code",I.mode\x3d30;break e}b\x3d65535\x26w,(g\x26\x3d15)\x26\x26(d\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8),b+\x3dh\x26(1\x3c\x3cg)-1,h\x3e\x3e\x3e\x3dg,d-\x3dg),d\x3c15\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8,h+\x3dA[r++]\x3c\x3cd,d+\x3d8),w\x3dm[h\x26y];r:for(;;){if(h\x3e\x3e\x3e\x3dg\x3dw\x3e\x3e\x3e24,d-\x3dg,!(16\x26(g\x3dw\x3e\x3e\x3e16\x26255))){if(0\x3d\x3d(64\x26g)){w\x3dm[(65535\x26w)+(h\x26(1\x3c\x3cg)-1)];continue r}e.msg\x3d"invalid distance code",I.mode\x3d30;break e}if(k\x3d65535\x26w,d\x3c(g\x26\x3d15)\x26\x26(h+\x3dA[r++]\x3c\x3cd,(d+\x3d8)\x3cg\x26\x26(h+\x3dA[r++]\x3c\x3cd,d+\x3d8)),(k+\x3dh\x26(1\x3c\x3cg)-1)\x3es){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(h\x3e\x3e\x3e\x3dg,d-\x3dg,k\x3e(g\x3di-a)){if((g\x3dk-g)\x3el\x26\x26I.sane){e.msg\x3d"invalid distance too far back",I.mode\x3d30;break e}if(x\x3d0,_\x3dc,0\x3d\x3d\x3du){if(x+\x3df-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}else if(u\x3cg){if(x+\x3df+u-g,(g-\x3du)\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);if(x\x3d0,u\x3cb){b-\x3dg\x3du;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}}}else if(x+\x3du-g,g\x3cb){b-\x3dg;do{P[i++]\x3dc[x++]}while(--g);x\x3di-k,_\x3dP}for(;b\x3e2;)P[i++]\x3d_[x++],P[i++]\x3d_[x++],P[i++]\x3d_[x++],b-\x3d3;b\x26\x26(P[i++]\x3d_[x++],b\x3e1\x26\x26(P[i++]\x3d_[x++]))}else{x\x3di-k;do{P[i++]\x3dP[x++],P[i++]\x3dP[x++],P[i++]\x3dP[x++],b-\x3d3}while(b\x3e2);b\x26\x26(P[i++]\x3dP[x++],b\x3e1\x26\x26(P[i++]\x3dP[x++]))}break}}break}}while(r\x3cn\x26\x26i\x3co);r-\x3db\x3dd\x3e\x3e3,h\x26\x3d(1\x3c\x3c(d-\x3db\x3c\x3c3))-1,e.next_in\x3dr,e.next_out\x3di,e.avail_in\x3dr\x3cn?n-r+5:5-(r-n),e.avail_out\x3di\x3co?o-i+257:257-(i-o),I.hold\x3dh,I.bits\x3dd},ee\x3dnew Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),te\x3dnew Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),re\x3dnew Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ne\x3dnew Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),ie\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d,p,m,v,y\x3ds.bits,w\x3d0,g\x3d0,b\x3d0,k\x3d0,x\x3d0,_\x3d0,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3dnull,T\x3d0,D\x3dnew Uint16Array(16),E\x3dnew Uint16Array(16),B\x3dnull,O\x3d0;for(w\x3d0;w\x3c\x3d15;w++)D[w]\x3d0;for(g\x3d0;g\x3cn;g++)D[t[r+g]]++;for(x\x3dy,k\x3d15;k\x3e\x3d1\x26\x260\x3d\x3d\x3dD[k];k--);if(x\x3ek\x26\x26(x\x3dk),0\x3d\x3d\x3dk)return i[a++]\x3d20971520,i[a++]\x3d20971520,s.bits\x3d1,0;for(b\x3d1;b\x3ck\x26\x260\x3d\x3d\x3dD[b];b++);for(x\x3cb\x26\x26(x\x3db),P\x3d1,w\x3d1;w\x3c\x3d15;w++)if(P\x3c\x3c\x3d1,(P-\x3dD[w])\x3c0)return-1;if(P\x3e0\x26\x26(0\x3d\x3d\x3de||1!\x3d\x3dk))return-1;for(E[1]\x3d0,w\x3d1;w\x3c15;w++)E[w+1]\x3dE[w]+D[w];for(g\x3d0;g\x3cn;g++)0!\x3d\x3dt[r+g]\x26\x26(o[E[t[r+g]]++]\x3dg);if(0\x3d\x3d\x3de?(S\x3dB\x3do,d\x3d19):1\x3d\x3d\x3de?(S\x3dee,T-\x3d257,B\x3dte,O-\x3d257,d\x3d256):(S\x3dre,B\x3dne,d\x3d-1),U\x3d0,g\x3d0,w\x3db,h\x3da,_\x3dx,A\x3d0,u\x3d-1,c\x3d(I\x3d1\x3c\x3cx)-1,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;for(;;){p\x3dw-A,o[g]\x3cd?(m\x3d0,v\x3do[g]):o[g]\x3ed?(m\x3dB[O+o[g]],v\x3dS[T+o[g]]):(m\x3d96,v\x3d0),f\x3d1\x3c\x3cw-A,b\x3dl\x3d1\x3c\x3c_;do{i[h+(U\x3e\x3eA)+(l-\x3df)]\x3dp\x3c\x3c24|m\x3c\x3c16|v|0}while(0!\x3d\x3dl);for(f\x3d1\x3c\x3cw-1;U\x26f;)f\x3e\x3e\x3d1;if(0!\x3d\x3df?(U\x26\x3df-1,U+\x3df):U\x3d0,g++,0\x3d\x3d--D[w]){if(w\x3d\x3d\x3dk)break;w\x3dt[r+o[g]]}if(w\x3ex\x26\x26(U\x26c)!\x3d\x3du){for(0\x3d\x3d\x3dA\x26\x26(A\x3dx),h+\x3db,P\x3d1\x3c\x3c(_\x3dw-A);_+A\x3ck\x26\x26!((P-\x3dD[_+A])\x3c\x3d0);)_++,P\x3c\x3c\x3d1;if(I+\x3d1\x3c\x3c_,1\x3d\x3d\x3de\x26\x26I\x3e852||2\x3d\x3d\x3de\x26\x26I\x3e592)return 1;i[u\x3dU\x26c]\x3dx\x3c\x3c24|_\x3c\x3c16|h-a|0}}return 0!\x3d\x3dU\x26\x26(i[h+U]\x3dw-A\x3c\x3c24|64\x3c\x3c16|0),s.bits\x3dx,0},ae\x3dj.Z_FINISH,oe\x3dj.Z_BLOCK,se\x3dj.Z_TREES,fe\x3dj.Z_OK,le\x3dj.Z_STREAM_END,ue\x3dj.Z_NEED_DICT,ce\x3dj.Z_STREAM_ERROR,he\x3dj.Z_DATA_ERROR,de\x3dj.Z_MEM_ERROR,pe\x3dj.Z_BUF_ERROR,me\x3dj.Z_DEFLATED,ve\x3dfunction(e){return(e\x3e\x3e\x3e24\x26255)+(e\x3e\x3e\x3e8\x2665280)+((65280\x26e)\x3c\x3c8)+((255\x26e)\x3c\x3c24)};function ye(){this.mode\x3d0,this.last\x3d!1,this.wrap\x3d0,this.havedict\x3d!1,this.flags\x3d0,this.dmax\x3d0,this.check\x3d0,this.total\x3d0,this.head\x3dnull,this.wbits\x3d0,this.wsize\x3d0,this.whave\x3d0,this.wnext\x3d0,this.window\x3dnull,this.hold\x3d0,this.bits\x3d0,this.length\x3d0,this.offset\x3d0,this.extra\x3d0,this.lencode\x3dnull,this.distcode\x3dnull,this.lenbits\x3d0,this.distbits\x3d0,this.ncode\x3d0,this.nlen\x3d0,this.ndist\x3d0,this.have\x3d0,this.next\x3dnull,this.lens\x3dnew Uint16Array(320),this.work\x3dnew Uint16Array(288),this.lendyn\x3dnull,this.distdyn\x3dnull,this.sane\x3d0,this.back\x3d0,this.was\x3d0}var we,ge,be\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return e.total_in\x3de.total_out\x3dt.total\x3d0,e.msg\x3d"",t.wrap\x26\x26(e.adler\x3d1\x26t.wrap),t.mode\x3d1,t.last\x3d0,t.havedict\x3d0,t.dmax\x3d32768,t.head\x3dnull,t.hold\x3d0,t.bits\x3d0,t.lencode\x3dt.lendyn\x3dnew Int32Array(852),t.distcode\x3dt.distdyn\x3dnew Int32Array(592),t.sane\x3d1,t.back\x3d-1,fe},ke\x3dfunction(e){if(!e||!e.state)return ce;var t\x3de.state;return t.wsize\x3d0,t.whave\x3d0,t.wnext\x3d0,be(e)},xe\x3dfunction(e,t){var r;if(!e||!e.state)return ce;var n\x3de.state;return t\x3c0?(r\x3d0,t\x3d-t):(r\x3d1+(t\x3e\x3e4),t\x3c48\x26\x26(t\x26\x3d15)),t\x26\x26(t\x3c8||t\x3e15)?ce:(null!\x3d\x3dn.window\x26\x26n.wbits!\x3d\x3dt\x26\x26(n.window\x3dnull),n.wrap\x3dr,n.wbits\x3dt,ke(e))},_e\x3dfunction(e,t){if(!e)return ce;var r\x3dnew ye;e.state\x3dr,r.window\x3dnull;var n\x3dxe(e,t);return n!\x3d\x3dfe\x26\x26(e.state\x3dnull),n},Ae\x3d!0,Pe\x3dfunction(e){if(Ae){we\x3dnew Int32Array(512),ge\x3dnew Int32Array(32);for(var t\x3d0;t\x3c144;)e.lens[t++]\x3d8;for(;t\x3c256;)e.lens[t++]\x3d9;for(;t\x3c280;)e.lens[t++]\x3d7;for(;t\x3c288;)e.lens[t++]\x3d8;for(ie(1,e.lens,0,288,we,0,e.work,{bits:9}),t\x3d0;t\x3c32;)e.lens[t++]\x3d5;ie(2,e.lens,0,32,ge,0,e.work,{bits:5}),Ae\x3d!1}e.lencode\x3dwe,e.lenbits\x3d9,e.distcode\x3dge,e.distbits\x3d5},Ie\x3dfunction(e,t,r,n){var i,a\x3de.state;return null\x3d\x3d\x3da.window\x26\x26(a.wsize\x3d1\x3c\x3ca.wbits,a.wnext\x3d0,a.whave\x3d0,a.window\x3dnew Uint8Array(a.wsize)),n\x3e\x3da.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext\x3d0,a.whave\x3da.wsize):((i\x3da.wsize-a.wnext)\x3en\x26\x26(i\x3dn),a.window.set(t.subarray(r-n,r-n+i),a.wnext),(n-\x3di)?(a.window.set(t.subarray(r-n,r),0),a.wnext\x3dn,a.whave\x3da.wsize):(a.wnext+\x3di,a.wnext\x3d\x3d\x3da.wsize\x26\x26(a.wnext\x3d0),a.whave\x3ca.wsize\x26\x26(a.whave+\x3di))),0},Ue\x3d{inflateReset:ke,inflateReset2:xe,inflateResetKeep:be,inflateInit:function(e){return _e(e,15)},inflateInit2:_e,inflate:function(e,t){var r,n,i,a,o,s,f,l,u,c,h,d,p,m,v,y,w,g,b,k,x,_,A,P,I\x3d0,U\x3dnew Uint8Array(4),S\x3dnew Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input\x26\x260!\x3d\x3de.avail_in)return ce;12\x3d\x3d\x3d(r\x3de.state).mode\x26\x26(r.mode\x3d13),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,c\x3ds,h\x3df,_\x3dfe;e:for(;;)switch(r.mode){case 1:if(0\x3d\x3d\x3dr.wrap){r.mode\x3d13;break}for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(2\x26r.wrap\x26\x2635615\x3d\x3d\x3dl){r.check\x3d0,U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0),l\x3d0,u\x3d0,r.mode\x3d2;break}if(r.flags\x3d0,r.head\x26\x26(r.head.done\x3d!1),!(1\x26r.wrap)||(((255\x26l)\x3c\x3c8)+(l\x3e\x3e8))%31){e.msg\x3d"incorrect header check",r.mode\x3d30;break}if((15\x26l)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(u-\x3d4,x\x3d8+(15\x26(l\x3e\x3e\x3e\x3d4)),0\x3d\x3d\x3dr.wbits)r.wbits\x3dx;else if(x\x3er.wbits){e.msg\x3d"invalid window size",r.mode\x3d30;break}r.dmax\x3d1\x3c\x3cr.wbits,e.adler\x3dr.check\x3d1,r.mode\x3d512\x26l?10:12,l\x3d0,u\x3d0;break;case 2:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.flags\x3dl,(255\x26r.flags)!\x3d\x3dme){e.msg\x3d"unknown compression method",r.mode\x3d30;break}if(57344\x26r.flags){e.msg\x3d"unknown header flags set",r.mode\x3d30;break}r.head\x26\x26(r.head.text\x3dl\x3e\x3e8\x261),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d3;case 3:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.time\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,U[2]\x3dl\x3e\x3e\x3e16\x26255,U[3]\x3dl\x3e\x3e\x3e24\x26255,r.check\x3dF(r.check,U,4,0)),l\x3d0,u\x3d0,r.mode\x3d4;case 4:for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.head\x26\x26(r.head.xflags\x3d255\x26l,r.head.os\x3dl\x3e\x3e8),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0,r.mode\x3d5;case 5:if(1024\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length\x3dl,r.head\x26\x26(r.head.extra_len\x3dl),512\x26r.flags\x26\x26(U[0]\x3d255\x26l,U[1]\x3dl\x3e\x3e\x3e8\x26255,r.check\x3dF(r.check,U,2,0)),l\x3d0,u\x3d0}else r.head\x26\x26(r.head.extra\x3dnull);r.mode\x3d6;case 6:if(1024\x26r.flags\x26\x26((d\x3dr.length)\x3es\x26\x26(d\x3ds),d\x26\x26(r.head\x26\x26(x\x3dr.head.extra_len-r.length,r.head.extra||(r.head.extra\x3dnew Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+d),x)),512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,r.length-\x3dd),r.length))break e;r.length\x3d0,r.mode\x3d7;case 7:if(2048\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.name+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.name\x3dnull);r.length\x3d0,r.mode\x3d8;case 8:if(4096\x26r.flags){if(0\x3d\x3d\x3ds)break e;d\x3d0;do{x\x3dn[a+d++],r.head\x26\x26x\x26\x26r.length\x3c65536\x26\x26(r.head.comment+\x3dString.fromCharCode(x))}while(x\x26\x26d\x3cs);if(512\x26r.flags\x26\x26(r.check\x3dF(r.check,n,d,a)),s-\x3dd,a+\x3dd,x)break e}else r.head\x26\x26(r.head.comment\x3dnull);r.mode\x3d9;case 9:if(512\x26r.flags){for(;u\x3c16;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(65535\x26r.check)){e.msg\x3d"header crc mismatch",r.mode\x3d30;break}l\x3d0,u\x3d0}r.head\x26\x26(r.head.hcrc\x3dr.flags\x3e\x3e9\x261,r.head.done\x3d!0),e.adler\x3dr.check\x3d0,r.mode\x3d12;break;case 10:for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}e.adler\x3dr.check\x3dve(l),l\x3d0,u\x3d0,r.mode\x3d11;case 11:if(0\x3d\x3d\x3dr.havedict)return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,ue;e.adler\x3dr.check\x3d1,r.mode\x3d12;case 12:if(t\x3d\x3d\x3doe||t\x3d\x3d\x3dse)break e;case 13:if(r.last){l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u,r.mode\x3d27;break}for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}switch(r.last\x3d1\x26l,u-\x3d1,3\x26(l\x3e\x3e\x3e\x3d1)){case 0:r.mode\x3d14;break;case 1:if(Pe(r),r.mode\x3d20,t\x3d\x3d\x3dse){l\x3e\x3e\x3e\x3d2,u-\x3d2;break e}break;case 2:r.mode\x3d17;break;case 3:e.msg\x3d"invalid block type",r.mode\x3d30}l\x3e\x3e\x3e\x3d2,u-\x3d2;break;case 14:for(l\x3e\x3e\x3e\x3d7\x26u,u-\x3d7\x26u;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if((65535\x26l)!\x3d(l\x3e\x3e\x3e16^65535)){e.msg\x3d"invalid stored block lengths",r.mode\x3d30;break}if(r.length\x3d65535\x26l,l\x3d0,u\x3d0,r.mode\x3d15,t\x3d\x3d\x3dse)break e;case 15:r.mode\x3d16;case 16:if(d\x3dr.length){if(d\x3es\x26\x26(d\x3ds),d\x3ef\x26\x26(d\x3df),0\x3d\x3d\x3dd)break e;i.set(n.subarray(a,a+d),o),s-\x3dd,a+\x3dd,f-\x3dd,o+\x3dd,r.length-\x3dd;break}r.mode\x3d12;break;case 17:for(;u\x3c14;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(r.nlen\x3d257+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ndist\x3d1+(31\x26l),l\x3e\x3e\x3e\x3d5,u-\x3d5,r.ncode\x3d4+(15\x26l),l\x3e\x3e\x3e\x3d4,u-\x3d4,r.nlen\x3e286||r.ndist\x3e30){e.msg\x3d"too many length or distance symbols",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d18;case 18:for(;r.have\x3cr.ncode;){for(;u\x3c3;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.lens[S[r.have++]]\x3d7\x26l,l\x3e\x3e\x3e\x3d3,u-\x3d3}for(;r.have\x3c19;)r.lens[S[r.have++]]\x3d0;if(r.lencode\x3dr.lendyn,r.lenbits\x3d7,A\x3d{bits:r.lenbits},_\x3die(0,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid code lengths set",r.mode\x3d30;break}r.have\x3d0,r.mode\x3d19;case 19:for(;r.have\x3cr.nlen+r.ndist;){for(;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(w\x3c16)l\x3e\x3e\x3e\x3dv,u-\x3dv,r.lens[r.have++]\x3dw;else{if(16\x3d\x3d\x3dw){for(P\x3dv+2;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,0\x3d\x3d\x3dr.have){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}x\x3dr.lens[r.have-1],d\x3d3+(3\x26l),l\x3e\x3e\x3e\x3d2,u-\x3d2}else if(17\x3d\x3d\x3dw){for(P\x3dv+3;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d3+(7\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d3,u-\x3d3}else{for(P\x3dv+7;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}u-\x3dv,x\x3d0,d\x3d11+(127\x26(l\x3e\x3e\x3e\x3dv)),l\x3e\x3e\x3e\x3d7,u-\x3d7}if(r.have+d\x3er.nlen+r.ndist){e.msg\x3d"invalid bit length repeat",r.mode\x3d30;break}for(;d--;)r.lens[r.have++]\x3dx}}if(30\x3d\x3d\x3dr.mode)break;if(0\x3d\x3d\x3dr.lens[256]){e.msg\x3d"invalid code -- missing end-of-block",r.mode\x3d30;break}if(r.lenbits\x3d9,A\x3d{bits:r.lenbits},_\x3die(1,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits\x3dA.bits,_){e.msg\x3d"invalid literal/lengths set",r.mode\x3d30;break}if(r.distbits\x3d6,r.distcode\x3dr.distdyn,A\x3d{bits:r.distbits},_\x3die(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits\x3dA.bits,_){e.msg\x3d"invalid distances set",r.mode\x3d30;break}if(r.mode\x3d20,t\x3d\x3d\x3dse)break e;case 20:r.mode\x3d21;case 21:if(s\x3e\x3d6\x26\x26f\x3e\x3d258){e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,$(e,h),o\x3de.next_out,i\x3de.output,f\x3de.avail_out,a\x3de.next_in,n\x3de.input,s\x3de.avail_in,l\x3dr.hold,u\x3dr.bits,12\x3d\x3d\x3dr.mode\x26\x26(r.back\x3d-1);break}for(r.back\x3d0;y\x3d(I\x3dr.lencode[l\x26(1\x3c\x3cr.lenbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(y\x26\x260\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.lencode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,r.length\x3dw,0\x3d\x3d\x3dy){r.mode\x3d26;break}if(32\x26y){r.back\x3d-1,r.mode\x3d12;break}if(64\x26y){e.msg\x3d"invalid literal/length code",r.mode\x3d30;break}r.extra\x3d15\x26y,r.mode\x3d22;case 22:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.length+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}r.was\x3dr.length,r.mode\x3d23;case 23:for(;y\x3d(I\x3dr.distcode[l\x26(1\x3c\x3cr.distbits)-1])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!((v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(0\x3d\x3d(240\x26y)){for(g\x3dv,b\x3dy,k\x3dw;y\x3d(I\x3dr.distcode[k+((l\x26(1\x3c\x3cg+b)-1)\x3e\x3eg)])\x3e\x3e\x3e16\x26255,w\x3d65535\x26I,!(g+(v\x3dI\x3e\x3e\x3e24)\x3c\x3du);){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}l\x3e\x3e\x3e\x3dg,u-\x3dg,r.back+\x3dg}if(l\x3e\x3e\x3e\x3dv,u-\x3dv,r.back+\x3dv,64\x26y){e.msg\x3d"invalid distance code",r.mode\x3d30;break}r.offset\x3dw,r.extra\x3d15\x26y,r.mode\x3d24;case 24:if(r.extra){for(P\x3dr.extra;u\x3cP;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}r.offset+\x3dl\x26(1\x3c\x3cr.extra)-1,l\x3e\x3e\x3e\x3dr.extra,u-\x3dr.extra,r.back+\x3dr.extra}if(r.offset\x3er.dmax){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}r.mode\x3d25;case 25:if(0\x3d\x3d\x3df)break e;if(d\x3dh-f,r.offset\x3ed){if((d\x3dr.offset-d)\x3er.whave\x26\x26r.sane){e.msg\x3d"invalid distance too far back",r.mode\x3d30;break}d\x3er.wnext?(d-\x3dr.wnext,p\x3dr.wsize-d):p\x3dr.wnext-d,d\x3er.length\x26\x26(d\x3dr.length),m\x3dr.window}else m\x3di,p\x3do-r.offset,d\x3dr.length;d\x3ef\x26\x26(d\x3df),f-\x3dd,r.length-\x3dd;do{i[o++]\x3dm[p++]}while(--d);0\x3d\x3d\x3dr.length\x26\x26(r.mode\x3d21);break;case 26:if(0\x3d\x3d\x3df)break e;i[o++]\x3dr.length,f--,r.mode\x3d21;break;case 27:if(r.wrap){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l|\x3dn[a++]\x3c\x3cu,u+\x3d8}if(h-\x3df,e.total_out+\x3dh,r.total+\x3dh,h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,o-h):V(r.check,i,h,o-h)),h\x3df,(r.flags?l:ve(l))!\x3d\x3dr.check){e.msg\x3d"incorrect data check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d28;case 28:if(r.wrap\x26\x26r.flags){for(;u\x3c32;){if(0\x3d\x3d\x3ds)break e;s--,l+\x3dn[a++]\x3c\x3cu,u+\x3d8}if(l!\x3d\x3d(4294967295\x26r.total)){e.msg\x3d"incorrect length check",r.mode\x3d30;break}l\x3d0,u\x3d0}r.mode\x3d29;case 29:_\x3dle;break e;case 30:_\x3dhe;break e;case 31:return de;default:return ce}return e.next_out\x3do,e.avail_out\x3df,e.next_in\x3da,e.avail_in\x3ds,r.hold\x3dl,r.bits\x3du,(r.wsize||h!\x3d\x3de.avail_out\x26\x26r.mode\x3c30\x26\x26(r.mode\x3c27||t!\x3d\x3dae))\x26\x26Ie(e,e.output,e.next_out,h-e.avail_out),c-\x3de.avail_in,h-\x3de.avail_out,e.total_in+\x3dc,e.total_out+\x3dh,r.total+\x3dh,r.wrap\x26\x26h\x26\x26(e.adler\x3dr.check\x3dr.flags?F(r.check,i,h,e.next_out-h):V(r.check,i,h,e.next_out-h)),e.data_type\x3dr.bits+(r.last?64:0)+(12\x3d\x3d\x3dr.mode?128:0)+(20\x3d\x3d\x3dr.mode||15\x3d\x3d\x3dr.mode?256:0),(0\x3d\x3d\x3dc\x26\x260\x3d\x3d\x3dh||t\x3d\x3d\x3dae)\x26\x26_\x3d\x3d\x3dfe\x26\x26(_\x3dpe),_},inflateEnd:function(e){if(!e||!e.state)return ce;var t\x3de.state;return t.window\x26\x26(t.window\x3dnull),e.state\x3dnull,fe},inflateGetHeader:function(e,t){if(!e||!e.state)return ce;var r\x3de.state;return 0\x3d\x3d(2\x26r.wrap)?ce:(r.head\x3dt,t.done\x3d!1,fe)},inflateSetDictionary:function(e,t){var r,n\x3dt.length;return e\x26\x26e.state?0!\x3d\x3d(r\x3de.state).wrap\x26\x2611!\x3d\x3dr.mode?ce:11\x3d\x3d\x3dr.mode\x26\x26V(1,t,n,0)!\x3d\x3dr.check?he:Ie(e,t,n,n)?(r.mode\x3d31,de):(r.havedict\x3d1,fe):ce},inflateInfo:"pako inflate (from Nodeca project)"};var Se\x3dfunction(){this.text\x3d0,this.time\x3d0,this.xflags\x3d0,this.os\x3d0,this.extra\x3dnull,this.extra_len\x3d0,this.name\x3d"",this.comment\x3d"",this.hcrc\x3d0,this.done\x3d!1},Te\x3dObject.prototype.toString,De\x3dj.Z_NO_FLUSH,Ee\x3dj.Z_FINISH,Be\x3dj.Z_OK,Oe\x3dj.Z_STREAM_END,Me\x3dj.Z_NEED_DICT,Ce\x3dj.Z_STREAM_ERROR,Le\x3dj.Z_DATA_ERROR,Re\x3dj.Z_MEM_ERROR;function Ve(e){this.options\x3dZ({chunkSize:65536,windowBits:15,to:""},e||{});var t\x3dthis.options;t.raw\x26\x26t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16\x26\x26(t.windowBits\x3d-t.windowBits,0\x3d\x3d\x3dt.windowBits\x26\x26(t.windowBits\x3d-15)),!(t.windowBits\x3e\x3d0\x26\x26t.windowBits\x3c16)||e\x26\x26e.windowBits||(t.windowBits+\x3d32),t.windowBits\x3e15\x26\x26t.windowBits\x3c48\x26\x260\x3d\x3d(15\x26t.windowBits)\x26\x26(t.windowBits|\x3d15),this.err\x3d0,this.msg\x3d"",this.ended\x3d!1,this.chunks\x3d[],this.strm\x3dnew Q,this.strm.avail_out\x3d0;var r\x3dUe.inflateInit2(this.strm,t.windowBits);if(r!\x3d\x3dBe)throw new Error(z[r]);if(this.header\x3dnew Se,Ue.inflateGetHeader(this.strm,this.header),t.dictionary\x26\x26("string"\x3d\x3dtypeof t.dictionary?t.dictionary\x3dW(t.dictionary):"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(t.dictionary)\x26\x26(t.dictionary\x3dnew Uint8Array(t.dictionary)),t.raw\x26\x26(r\x3dUe.inflateSetDictionary(this.strm,t.dictionary))!\x3d\x3dBe))throw new Error(z[r])}function Ge(e,t){var r\x3dnew Ve(t);if(r.push(e),r.err)throw r.msg||z[r.err];return r.result}Ve.prototype.push\x3dfunction(e,t){var r,n,i,a\x3dthis.strm,o\x3dthis.options.chunkSize,s\x3dthis.options.dictionary;if(this.ended)return!1;for(n\x3dt\x3d\x3d\x3d~~t?t:!0\x3d\x3d\x3dt?Ee:De,"[object ArrayBuffer]"\x3d\x3d\x3dTe.call(e)?a.input\x3dnew Uint8Array(e):a.input\x3de,a.next_in\x3d0,a.avail_in\x3da.input.length;;){for(0\x3d\x3d\x3da.avail_out\x26\x26(a.output\x3dnew Uint8Array(o),a.next_out\x3d0,a.avail_out\x3do),(r\x3dUe.inflate(a,n))\x3d\x3d\x3dMe\x26\x26s\x26\x26((r\x3dUe.inflateSetDictionary(a,s))\x3d\x3d\x3dBe?r\x3dUe.inflate(a,n):r\x3d\x3d\x3dLe\x26\x26(r\x3dMe));a.avail_in\x3e0\x26\x26r\x3d\x3d\x3dOe\x26\x26a.state.wrap\x3e0\x26\x260!\x3d\x3de[a.next_in];)Ue.inflateReset(a),r\x3dUe.inflate(a,n);switch(r){case Ce:case Le:case Me:case Re:return this.onEnd(r),this.ended\x3d!0,!1}if(i\x3da.avail_out,a.next_out\x26\x26(0\x3d\x3d\x3da.avail_out||r\x3d\x3d\x3dOe))if("string"\x3d\x3d\x3dthis.options.to){var f\x3dJ(a.output,a.next_out),l\x3da.next_out-f,u\x3dq(a.output,f);a.next_out\x3dl,a.avail_out\x3do-l,l\x26\x26a.output.set(a.output.subarray(f,f+l),0),this.onData(u)}else this.onData(a.output.length\x3d\x3d\x3da.next_out?a.output:a.output.subarray(0,a.next_out));if(r!\x3d\x3dBe||0!\x3d\x3di){if(r\x3d\x3d\x3dOe)return r\x3dUe.inflateEnd(this.strm),this.onEnd(r),this.ended\x3d!0,!0;if(0\x3d\x3d\x3da.avail_in)break}}return!0},Ve.prototype.onData\x3dfunction(e){this.chunks.push(e)},Ve.prototype.onEnd\x3dfunction(e){e\x3d\x3d\x3dBe\x26\x26("string"\x3d\x3d\x3dthis.options.to?this.result\x3dthis.chunks.join(""):this.result\x3dK(this.chunks)),this.chunks\x3d[],this.err\x3de,this.msg\x3dthis.strm.msg};var Fe\x3d{Inflate:Ve,inflate:Ge,inflateRaw:function(e,t){return(t\x3dt||{}).raw\x3d!0,Ge(e,t)},ungzip:Ge,constants:j}.inflate;function ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var je\x3dfunction(e){p(r,b);var t\x3dze(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){return Fe(new Uint8Array(e)).buffer}}]),r}(),Ne\x3dObject.freeze({__proto__:null,default:je});function Ze(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var Ke,He\x3dfunction(e){p(r,b);var t\x3dZe(r);function r(){return u(this,r),t.apply(this,arguments)}return h(r,[{key:"decodeBlock",value:function(e){for(var t\x3dnew DataView(e),r\x3d[],n\x3d0;n\x3ce.byteLength;++n){var i\x3dt.getInt8(n);if(i\x3c0){var a\x3dt.getUint8(n+1);i\x3d-i;for(var o\x3d0;o\x3c\x3di;++o)r.push(a);n+\x3d1}else{for(var s\x3d0;s\x3c\x3di;++s)r.push(t.getUint8(n+s+1));n+\x3di+1}}return new Uint8Array(r).buffer}}]),r}(),Ye\x3dObject.freeze({__proto__:null,default:He}),Xe\x3d{exports:{}};Ke\x3dXe,\n/* Copyright 2015-2021 Esri. Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 @preserve */\nfunction(){var e,t,r,n,i,a,o,s,f,l,u,c,h,d,p,m,v\x3d(e\x3d{defaultNoDataValue:-34027999387901484e22,decode:function(a,o){var s\x3d(o\x3do||{}).encodedMaskData||null\x3d\x3d\x3do.encodedMaskData,f\x3di(a,o.inputOffset||0,s),l\x3dnull!\x3d\x3do.noDataValue?o.noDataValue:e.defaultNoDataValue,u\x3dt(f,o.pixelType||Float32Array,o.encodedMaskData,l,o.returnMask),c\x3d{width:f.width,height:f.height,pixelData:u.resultPixels,minValue:u.minValue,maxValue:f.pixels.maxValue,noDataValue:l};return u.resultMask\x26\x26(c.maskData\x3du.resultMask),o.returnEncodedMask\x26\x26f.mask\x26\x26(c.encodedMaskData\x3df.mask.bitset?f.mask.bitset:null),o.returnFileInfo\x26\x26(c.fileInfo\x3dr(f),o.computeUsedBitDepths\x26\x26(c.fileInfo.bitDepths\x3dn(f))),c}},t\x3dfunction(e,t,r,n,i){var o,s,f,l\x3d0,u\x3de.pixels.numBlocksX,c\x3de.pixels.numBlocksY,h\x3dMath.floor(e.width/u),d\x3dMath.floor(e.height/c),p\x3d2*e.maxZError,m\x3dNumber.MAX_VALUE;r\x3dr||(e.mask?e.mask.bitset:null),s\x3dnew t(e.width*e.height),i\x26\x26r\x26\x26(f\x3dnew Uint8Array(e.width*e.height));for(var v,y,w\x3dnew Float32Array(h*d),g\x3d0;g\x3c\x3dc;g++){var b\x3dg!\x3d\x3dc?d:e.height%c;if(0!\x3d\x3db)for(var k\x3d0;k\x3c\x3du;k++){var x\x3dk!\x3d\x3du?h:e.width%u;if(0!\x3d\x3dx){var _,A,P,I,U\x3dg*e.width*d+k*h,S\x3de.width-x,T\x3de.pixels.blocks[l];if(T.encoding\x3c2?(0\x3d\x3d\x3dT.encoding?_\x3dT.rawData:(a(T.stuffedData,T.bitsPerPixel,T.numValidPixels,T.offset,p,w,e.pixels.maxValue),_\x3dw),A\x3d0):P\x3d2\x3d\x3d\x3dT.encoding?0:T.offset,r)for(y\x3d0;y\x3cb;y++){for(7\x26U\x26\x26(I\x3dr[U\x3e\x3e3],I\x3c\x3c\x3d7\x26U),v\x3d0;v\x3cx;v++)7\x26U||(I\x3dr[U\x3e\x3e3]),128\x26I?(f\x26\x26(f[U]\x3d1),m\x3dm\x3e(o\x3dT.encoding\x3c2?_[A++]:P)?o:m,s[U++]\x3do):(f\x26\x26(f[U]\x3d0),s[U++]\x3dn),I\x3c\x3c\x3d1;U+\x3dS}else if(T.encoding\x3c2)for(y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)m\x3dm\x3e(o\x3d_[A++])?o:m,s[U++]\x3do;U+\x3dS}else for(m\x3dm\x3eP?P:m,y\x3d0;y\x3cb;y++){for(v\x3d0;v\x3cx;v++)s[U++]\x3dP;U+\x3dS}if(1\x3d\x3d\x3dT.encoding\x26\x26A!\x3d\x3dT.numValidPixels)throw"Block and Mask do not match";l++}}}return{resultPixels:s,resultMask:f,minValue:m}},r\x3dfunction(e){return{fileIdentifierString:e.fileIdentifierString,fileVersion:e.fileVersion,imageType:e.imageType,height:e.height,width:e.width,maxZError:e.maxZError,eofOffset:e.eofOffset,mask:e.mask?{numBlocksX:e.mask.numBlocksX,numBlocksY:e.mask.numBlocksY,numBytes:e.mask.numBytes,maxValue:e.mask.maxValue}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,numBytes:e.pixels.numBytes,maxValue:e.pixels.maxValue,noDataValue:e.noDataValue}}},n\x3dfunction(e){for(var t\x3de.pixels.numBlocksX*e.pixels.numBlocksY,r\x3d{},n\x3d0;n\x3ct;n++){var i\x3de.pixels.blocks[n];0\x3d\x3d\x3di.encoding?r.float32\x3d!0:1\x3d\x3d\x3di.encoding?r[i.bitsPerPixel]\x3d!0:r[0]\x3d!0}return Object.keys(r)},i\x3dfunction(e,t,r){var n\x3d{},i\x3dnew Uint8Array(e,t,10);if(n.fileIdentifierString\x3dString.fromCharCode.apply(null,i),"CntZImage"!\x3d\x3dn.fileIdentifierString.trim())throw"Unexpected file identifier string: "+n.fileIdentifierString;t+\x3d10;var a\x3dnew DataView(e,t,24);if(n.fileVersion\x3da.getInt32(0,!0),n.imageType\x3da.getInt32(4,!0),n.height\x3da.getUint32(8,!0),n.width\x3da.getUint32(12,!0),n.maxZError\x3da.getFloat64(16,!0),t+\x3d24,!r)if(a\x3dnew DataView(e,t,16),n.mask\x3d{},n.mask.numBlocksY\x3da.getUint32(0,!0),n.mask.numBlocksX\x3da.getUint32(4,!0),n.mask.numBytes\x3da.getUint32(8,!0),n.mask.maxValue\x3da.getFloat32(12,!0),t+\x3d16,n.mask.numBytes\x3e0){var o\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)),s\x3d(a\x3dnew DataView(e,t,n.mask.numBytes)).getInt16(0,!0),f\x3d2,l\x3d0;do{if(s\x3e0)for(;s--;)o[l++]\x3da.getUint8(f++);else{var u\x3da.getUint8(f++);for(s\x3d-s;s--;)o[l++]\x3du}s\x3da.getInt16(f,!0),f+\x3d2}while(f\x3cn.mask.numBytes);if(-32768!\x3d\x3ds||l\x3co.length)throw"Unexpected end of mask RLE encoding";n.mask.bitset\x3do,t+\x3dn.mask.numBytes}else 0\x3d\x3d(n.mask.numBytes|n.mask.numBlocksY|n.mask.maxValue)\x26\x26(n.mask.bitset\x3dnew Uint8Array(Math.ceil(n.width*n.height/8)));a\x3dnew DataView(e,t,16),n.pixels\x3d{},n.pixels.numBlocksY\x3da.getUint32(0,!0),n.pixels.numBlocksX\x3da.getUint32(4,!0),n.pixels.numBytes\x3da.getUint32(8,!0),n.pixels.maxValue\x3da.getFloat32(12,!0),t+\x3d16;var c\x3dn.pixels.numBlocksX,h\x3dn.pixels.numBlocksY,d\x3dc+(n.width%c\x3e0?1:0),p\x3dh+(n.height%h\x3e0?1:0);n.pixels.blocks\x3dnew Array(d*p);for(var m\x3d0,v\x3d0;v\x3cp;v++)for(var y\x3d0;y\x3cd;y++){var w\x3d0,g\x3de.byteLength-t;a\x3dnew DataView(e,t,Math.min(10,g));var b\x3d{};n.pixels.blocks[m++]\x3db;var k\x3da.getUint8(0);if(w++,b.encoding\x3d63\x26k,b.encoding\x3e3)throw"Invalid block encoding ("+b.encoding+")";if(2!\x3d\x3db.encoding){if(0!\x3d\x3dk\x26\x262!\x3d\x3dk){if(k\x3e\x3e\x3d6,b.offsetType\x3dk,2\x3d\x3d\x3dk)b.offset\x3da.getInt8(1),w++;else if(1\x3d\x3d\x3dk)b.offset\x3da.getInt16(1,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid block offset type";b.offset\x3da.getFloat32(1,!0),w+\x3d4}if(1\x3d\x3d\x3db.encoding)if(k\x3da.getUint8(w),w++,b.bitsPerPixel\x3d63\x26k,k\x3e\x3e\x3d6,b.numValidPixelsType\x3dk,2\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint8(w),w++;else if(1\x3d\x3d\x3dk)b.numValidPixels\x3da.getUint16(w,!0),w+\x3d2;else{if(0!\x3d\x3dk)throw"Invalid valid pixel count type";b.numValidPixels\x3da.getUint32(w,!0),w+\x3d4}}var x;if(t+\x3dw,3!\x3d\x3db.encoding)if(0\x3d\x3d\x3db.encoding){var _\x3d(n.pixels.numBytes-1)/4;if(_!\x3d\x3dMath.floor(_))throw"uncompressed block has invalid length";x\x3dnew ArrayBuffer(4*_),new Uint8Array(x).set(new Uint8Array(e,t,4*_));var A\x3dnew Float32Array(x);b.rawData\x3dA,t+\x3d4*_}else if(1\x3d\x3d\x3db.encoding){var P\x3dMath.ceil(b.numValidPixels*b.bitsPerPixel/8),I\x3dMath.ceil(P/4);x\x3dnew ArrayBuffer(4*I),new Uint8Array(x).set(new Uint8Array(e,t,P)),b.stuffedData\x3dnew Uint32Array(x),t+\x3dP}}else t++}return n.eofOffset\x3dt,n},a\x3dfunction(e,t,r,n,i,a,o){var s,f,l,u\x3d(1\x3c\x3ct)-1,c\x3d0,h\x3d0,d\x3dMath.ceil((o-n)/i),p\x3d4*e.length-Math.ceil(t*r/8);for(e[e.length-1]\x3c\x3c\x3d8*p,s\x3d0;s\x3cr;s++){if(0\x3d\x3d\x3dh\x26\x26(l\x3de[c++],h\x3d32),h\x3e\x3dt)f\x3dl\x3e\x3e\x3eh-t\x26u,h-\x3dt;else{var m\x3dt-h;f\x3d(l\x26u)\x3c\x3cm\x26u,f+\x3d(l\x3de[c++])\x3e\x3e\x3e(h\x3d32-m)}a[s]\x3df\x3cd?n+f*i:o}return a},e),y\x3d(o\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h,d\x3d(1\x3c\x3cr)-1,p\x3d0,m\x3d0,v\x3d4*e.length-Math.ceil(r*n/8);if(e[e.length-1]\x3c\x3c\x3d8*v,i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3di[l];else for(h\x3dMath.ceil((s-a)/o),f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dm\x26\x26(u\x3de[p++],m\x3d32),m\x3e\x3dr?(l\x3du\x3e\x3e\x3em-r\x26d,m-\x3dr):(l\x3d(u\x26d)\x3c\x3c(c\x3dr-m)\x26d,l+\x3d(u\x3de[p++])\x3e\x3e\x3e(m\x3d32-c)),t[f]\x3dl\x3ch?a+l*o:s},s\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d[],p\x3d4*e.length-Math.ceil(t*r/8);e[e.length-1]\x3c\x3c\x3d8*p;var m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ec-t\x26s,c-\x3dt):(h\x3d(o\x26s)\x3c\x3c(u\x3dt-c)\x26s,h+\x3d(o\x3de[f++])\x3e\x3e\x3e(c\x3d32-u)),d[l]\x3dh\x3cm?n+h*i:a;return d.unshift(n),d},f\x3dfunction(e,t,r,n,i,a,o,s){var f,l,u,c,h\x3d(1\x3c\x3cr)-1,d\x3d0,p\x3d0,m\x3d0;if(i)for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3di[l];else{var v\x3dMath.ceil((s-a)/o);for(f\x3d0;f\x3cn;f++)0\x3d\x3d\x3dp\x26\x26(u\x3de[d++],p\x3d32,m\x3d0),p\x3e\x3dr?(l\x3du\x3e\x3e\x3em\x26h,p-\x3dr,m+\x3dr):(l\x3du\x3e\x3e\x3em\x26h,p\x3d32-(c\x3dr-p),l|\x3d((u\x3de[d++])\x26(1\x3c\x3cc)-1)\x3c\x3cr-c,m\x3dc),t[f]\x3dl\x3cv?a+l*o:s}return t},l\x3dfunction(e,t,r,n,i,a){var o,s\x3d(1\x3c\x3ct)-1,f\x3d0,l\x3d0,u\x3d0,c\x3d0,h\x3d0,d\x3d0,p\x3d[],m\x3dMath.ceil((a-n)/i);for(l\x3d0;l\x3cr;l++)0\x3d\x3d\x3dc\x26\x26(o\x3de[f++],c\x3d32,d\x3d0),c\x3e\x3dt?(h\x3do\x3e\x3e\x3ed\x26s,c-\x3dt,d+\x3dt):(h\x3do\x3e\x3e\x3ed\x26s,c\x3d32-(u\x3dt-c),h|\x3d((o\x3de[f++])\x26(1\x3c\x3cu)-1)\x3c\x3ct-u,d\x3du),p[l]\x3dh\x3cm?n+h*i:a;return p.unshift(n),p},u\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d4*e.length-Math.ceil(r*n/8);for(e[e.length-1]\x3c\x3c\x3d8*c,i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32),u\x3e\x3dr?(a\x3do\x3e\x3e\x3eu-r\x26f,u-\x3dr):(a\x3d(o\x26f)\x3c\x3c(s\x3dr-u)\x26f,a+\x3d(o\x3de[l++])\x3e\x3e\x3e(u\x3d32-s)),t[i]\x3da;return t},c\x3dfunction(e,t,r,n){var i,a,o,s,f\x3d(1\x3c\x3cr)-1,l\x3d0,u\x3d0,c\x3d0;for(i\x3d0;i\x3cn;i++)0\x3d\x3d\x3du\x26\x26(o\x3de[l++],u\x3d32,c\x3d0),u\x3e\x3dr?(a\x3do\x3e\x3e\x3ec\x26f,u-\x3dr,c+\x3dr):(a\x3do\x3e\x3e\x3ec\x26f,u\x3d32-(s\x3dr-u),a|\x3d((o\x3de[l++])\x26(1\x3c\x3cs)-1)\x3c\x3cr-s,c\x3ds),t[i]\x3da;return t},h\x3d{HUFFMAN_LUT_BITS_MAX:12,computeChecksumFletcher32:function(e){for(var t\x3d65535,r\x3d65535,n\x3de.length,i\x3dMath.floor(n/2),a\x3d0;i;){var o\x3di\x3e\x3d359?359:i;i-\x3do;do{t+\x3de[a++]\x3c\x3c8,r+\x3dt+\x3de[a++]}while(--o);t\x3d(65535\x26t)+(t\x3e\x3e\x3e16),r\x3d(65535\x26r)+(r\x3e\x3e\x3e16)}return 1\x26n\x26\x26(r+\x3dt+\x3de[a]\x3c\x3c8),((r\x3d(65535\x26r)+(r\x3e\x3e\x3e16))\x3c\x3c16|(t\x3d(65535\x26t)+(t\x3e\x3e\x3e16)))\x3e\x3e\x3e0},readHeaderInfo:function(e,t){var r\x3dt.ptr,n\x3dnew Uint8Array(e,r,6),i\x3d{};if(i.fileIdentifierString\x3dString.fromCharCode.apply(null,n),0!\x3d\x3di.fileIdentifierString.lastIndexOf("Lerc2",0))throw"Unexpected file identifier string (expect Lerc2 ): "+i.fileIdentifierString;r+\x3d6;var a,o\x3dnew DataView(e,r,8),s\x3do.getInt32(0,!0);if(i.fileVersion\x3ds,r+\x3d4,s\x3e\x3d3\x26\x26(i.checksum\x3do.getUint32(4,!0),r+\x3d4),o\x3dnew DataView(e,r,12),i.height\x3do.getUint32(0,!0),i.width\x3do.getUint32(4,!0),r+\x3d8,s\x3e\x3d4?(i.numDims\x3do.getUint32(8,!0),r+\x3d4):i.numDims\x3d1,o\x3dnew DataView(e,r,40),i.numValidPixel\x3do.getUint32(0,!0),i.microBlockSize\x3do.getInt32(4,!0),i.blobSize\x3do.getInt32(8,!0),i.imageType\x3do.getInt32(12,!0),i.maxZError\x3do.getFloat64(16,!0),i.zMin\x3do.getFloat64(24,!0),i.zMax\x3do.getFloat64(32,!0),r+\x3d40,t.headerInfo\x3di,t.ptr\x3dr,s\x3e\x3d3\x26\x26(a\x3ds\x3e\x3d4?52:48,this.computeChecksumFletcher32(new Uint8Array(e,r-a,i.blobSize-14))!\x3d\x3di.checksum))throw"Checksum failed.";return!0},checkMinMaxRanges:function(e,t){var r\x3dt.headerInfo,n\x3dthis.getDataTypeArray(r.imageType),i\x3dr.numDims*this.getDataTypeSize(r.imageType),a\x3dthis.readSubArray(e,t.ptr,n,i),o\x3dthis.readSubArray(e,t.ptr+i,n,i);t.ptr+\x3d2*i;var s,f\x3d!0;for(s\x3d0;s\x3cr.numDims;s++)if(a[s]!\x3d\x3do[s]){f\x3d!1;break}return r.minValues\x3da,r.maxValues\x3do,f},readSubArray:function(e,t,r,n){var i;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,t,n);else{var a\x3dnew ArrayBuffer(n);new Uint8Array(a).set(new Uint8Array(e,t,n)),i\x3dnew r(a)}return i},readMask:function(e,t){var r,n,i\x3dt.ptr,a\x3dt.headerInfo,o\x3da.width*a.height,s\x3da.numValidPixel,f\x3dnew DataView(e,i,4),l\x3d{};if(l.numBytes\x3df.getUint32(0,!0),i+\x3d4,(0\x3d\x3d\x3ds||o\x3d\x3d\x3ds)\x26\x260!\x3d\x3dl.numBytes)throw"invalid mask";if(0\x3d\x3d\x3ds)r\x3dnew Uint8Array(Math.ceil(o/8)),l.bitset\x3dr,n\x3dnew Uint8Array(o),t.pixels.resultMask\x3dn,i+\x3dl.numBytes;else if(l.numBytes\x3e0){r\x3dnew Uint8Array(Math.ceil(o/8));var u\x3d(f\x3dnew DataView(e,i,l.numBytes)).getInt16(0,!0),c\x3d2,h\x3d0,d\x3d0;do{if(u\x3e0)for(;u--;)r[h++]\x3df.getUint8(c++);else for(d\x3df.getUint8(c++),u\x3d-u;u--;)r[h++]\x3dd;u\x3df.getInt16(c,!0),c+\x3d2}while(c\x3cl.numBytes);if(-32768!\x3d\x3du||h\x3cr.length)throw"Unexpected end of mask RLE encoding";n\x3dnew Uint8Array(o);var p\x3d0,m\x3d0;for(m\x3d0;m\x3co;m++)7\x26m?(p\x3dr[m\x3e\x3e3],p\x3c\x3c\x3d7\x26m):p\x3dr[m\x3e\x3e3],128\x26p\x26\x26(n[m]\x3d1);t.pixels.resultMask\x3dn,l.bitset\x3dr,i+\x3dl.numBytes}return t.ptr\x3di,t.mask\x3dl,!0},readDataOneSweep:function(e,t,r,n){var i,a\x3dt.ptr,o\x3dt.headerInfo,s\x3do.numDims,f\x3do.width*o.height,l\x3do.imageType,u\x3do.numValidPixel*h.getDataTypeSize(l)*s,c\x3dt.pixels.resultMask;if(r\x3d\x3d\x3dUint8Array)i\x3dnew Uint8Array(e,a,u);else{var d\x3dnew ArrayBuffer(u);new Uint8Array(d).set(new Uint8Array(e,a,u)),i\x3dnew r(d)}if(i.length\x3d\x3d\x3df*s)t.pixels.resultPixels\x3dn?h.swapDimensionOrder(i,f,s,r,!0):i;else{t.pixels.resultPixels\x3dnew r(f*s);var p\x3d0,m\x3d0,v\x3d0,y\x3d0;if(s\x3e1){if(n){for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm,v\x3d0;v\x3cs;v++,y+\x3df)t.pixels.resultPixels[y]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)if(c[m])for(y\x3dm*s,v\x3d0;v\x3cs;v++)t.pixels.resultPixels[y+v]\x3di[p++]}else for(m\x3d0;m\x3cf;m++)c[m]\x26\x26(t.pixels.resultPixels[m]\x3di[p++])}return a+\x3du,t.ptr\x3da,!0},readHuffmanTree:function(e,t){var r\x3dthis.HUFFMAN_LUT_BITS_MAX,n\x3dnew DataView(e,t.ptr,16);if(t.ptr+\x3d16,n.getInt32(0,!0)\x3c2)throw"unsupported Huffman version";var i\x3dn.getInt32(4,!0),a\x3dn.getInt32(8,!0),o\x3dn.getInt32(12,!0);if(a\x3e\x3do)return!1;var s\x3dnew Uint32Array(o-a);h.decodeBits(e,t,s);var f,l,u,c,p\x3d[];for(f\x3da;f\x3co;f++)p[l\x3df-(f\x3ci?0:i)]\x3d{first:s[f-a],second:null};var m\x3de.byteLength-t.ptr,v\x3dMath.ceil(m/4),y\x3dnew ArrayBuffer(4*v);new Uint8Array(y).set(new Uint8Array(e,t.ptr,m));var w,g\x3dnew Uint32Array(y),b\x3d0,k\x3d0;for(w\x3dg[0],f\x3da;f\x3co;f++)(c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0\x26\x26(p[l].second\x3dw\x3c\x3cb\x3e\x3e\x3e32-c,32-b\x3e\x3dc?32\x3d\x3d\x3d(b+\x3dc)\x26\x26(b\x3d0,w\x3dg[++k]):(b+\x3dc-32,w\x3dg[++k],p[l].second|\x3dw\x3e\x3e\x3e32-b));var x\x3d0,_\x3d0,A\x3dnew d;for(f\x3d0;f\x3cp.length;f++)void 0!\x3d\x3dp[f]\x26\x26(x\x3dMath.max(x,p[f].first));_\x3dx\x3e\x3dr?r:x;var P,I,U,S,T,D\x3d[];for(f\x3da;f\x3co;f++)if((c\x3dp[l\x3df-(f\x3ci?0:i)].first)\x3e0)if(P\x3d[c,l],c\x3c\x3d_)for(I\x3dp[l].second\x3c\x3c_-c,U\x3d1\x3c\x3c_-c,u\x3d0;u\x3cU;u++)D[I|u]\x3dP;else for(I\x3dp[l].second,T\x3dA,S\x3dc-1;S\x3e\x3d0;S--)I\x3e\x3e\x3eS\x261?(T.right||(T.right\x3dnew d),T\x3dT.right):(T.left||(T.left\x3dnew d),T\x3dT.left),0!\x3d\x3dS||T.val||(T.val\x3dP[1]);return{decodeLut:D,numBitsLUTQick:_,numBitsLUT:x,tree:A,stuffedData:g,srcPtr:k,bitPos:b}},readHuffman:function(e,t,r,n){var i,a,o,s,f,l,u,c,d,p\x3dt.headerInfo.numDims,m\x3dt.headerInfo.height,v\x3dt.headerInfo.width,y\x3dv*m,w\x3dthis.readHuffmanTree(e,t),g\x3dw.decodeLut,b\x3dw.tree,k\x3dw.stuffedData,x\x3dw.srcPtr,_\x3dw.bitPos,A\x3dw.numBitsLUTQick,P\x3dw.numBitsLUT,I\x3d0\x3d\x3d\x3dt.headerInfo.imageType?128:0,U\x3dt.pixels.resultMask,S\x3d0;_\x3e0\x26\x26(x++,_\x3d0);var T,D\x3dk[x],E\x3d1\x3d\x3d\x3dt.encodeMode,B\x3dnew r(y*p),O\x3dB;if(p\x3c2||E){for(T\x3d0;T\x3cp;T++)if(p\x3e1\x26\x26(O\x3dnew r(B.buffer,y*T,y),S\x3d0),t.headerInfo.numValidPixel\x3d\x3d\x3dv*m)for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(o+\x3du\x3e0?S:l\x3e0?O[c-v]:S,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++,c++)if(U[c]){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,E?(u\x3e0\x26\x26U[c-1]?o+\x3dS:l\x3e0\x26\x26U[c-v]?o+\x3dO[c-v]:o+\x3dS,o\x26\x3d255,O[c]\x3do,S\x3do):O[c]\x3do}}else for(c\x3d0,l\x3d0;l\x3cm;l++)for(u\x3d0;u\x3cv;u++)if(c\x3dl*v+u,!U||U[c])for(T\x3d0;T\x3cp;T++,c+\x3dy){if(a\x3d0,f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-A,32-_\x3cA\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-A),g[f])a\x3dg[f][1],_+\x3dg[f][0];else for(f\x3ds\x3dD\x3c\x3c_\x3e\x3e\x3e32-P,32-_\x3cP\x26\x26(f\x3ds|\x3dk[x+1]\x3e\x3e\x3e64-_-P),i\x3db,d\x3d0;d\x3cP;d++)if(!(i\x3ds\x3e\x3e\x3eP-d-1\x261?i.right:i.left).left\x26\x26!i.right){a\x3di.val,_\x3d_+d+1;break}_\x3e\x3d32\x26\x26(_-\x3d32,D\x3dk[++x]),o\x3da-I,O[c]\x3do}t.ptr\x3dt.ptr+4*(x+1)+(_\x3e0?4:0),t.pixels.resultPixels\x3dB,p\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(B,y,p,r))},decodeBits:function(e,t,r,n,i){var a\x3dt.headerInfo,h\x3da.fileVersion,d\x3d0,p\x3de.byteLength-t.ptr\x3e\x3d5?5:e.byteLength-t.ptr,m\x3dnew DataView(e,t.ptr,p),v\x3dm.getUint8(0);d++;var y\x3dv\x3e\x3e6,w\x3d0\x3d\x3d\x3dy?4:3-y,g\x3d(32\x26v)\x3e0,b\x3d31\x26v,k\x3d0;if(1\x3d\x3d\x3dw)k\x3dm.getUint8(d),d++;else if(2\x3d\x3d\x3dw)k\x3dm.getUint16(d,!0),d+\x3d2;else{if(4!\x3d\x3dw)throw"Invalid valid pixel count type";k\x3dm.getUint32(d,!0),d+\x3d4}var x,_,A,P,I,U,S,T,D,E\x3d2*a.maxZError,B\x3da.numDims\x3e1?a.maxValues[i]:a.zMax;if(g){for(t.counter.lut++,T\x3dm.getUint8(d),d++,P\x3dMath.ceil((T-1)*b/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),A\x3dnew Uint8Array(_),t.ptr+\x3dd,A.set(new Uint8Array(e,t.ptr,P)),S\x3dnew Uint32Array(_),t.ptr+\x3dP,D\x3d0;T-1\x3e\x3e\x3eD;)D++;P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,U\x3dh\x3e\x3d3?l(S,b,T-1,n,E,B):s(S,b,T-1,n,E,B),h\x3e\x3d3?f(x,r,D,k,U):o(x,r,D,k,U)}else t.counter.bitstuffer++,D\x3db,t.ptr+\x3dd,D\x3e0\x26\x26(P\x3dMath.ceil(k*D/8),I\x3dMath.ceil(P/4),_\x3dnew ArrayBuffer(4*I),(A\x3dnew Uint8Array(_)).set(new Uint8Array(e,t.ptr,P)),x\x3dnew Uint32Array(_),t.ptr+\x3dP,h\x3e\x3d3?null\x3d\x3dn?c(x,r,D,k):f(x,r,D,k,!1,n,E,B):null\x3d\x3dn?u(x,r,D,k):o(x,r,D,k,!1,n,E,B))},readTiles:function(e,t,r,n){var i\x3dt.headerInfo,a\x3di.width,o\x3di.height,s\x3da*o,f\x3di.microBlockSize,l\x3di.imageType,u\x3dh.getDataTypeSize(l),c\x3dMath.ceil(a/f),d\x3dMath.ceil(o/f);t.pixels.numBlocksY\x3dd,t.pixels.numBlocksX\x3dc,t.pixels.ptr\x3d0;var p,m,v,y,w,g,b,k,x,_,A\x3d0,P\x3d0,I\x3d0,U\x3d0,S\x3d0,T\x3d0,D\x3d0,E\x3d0,B\x3d0,O\x3d0,M\x3d0,C\x3d0,L\x3d0,R\x3d0,V\x3d0,G\x3dnew r(f*f),F\x3do%f||f,z\x3da%f||f,j\x3di.numDims,N\x3dt.pixels.resultMask,Z\x3dt.pixels.resultPixels,K\x3di.fileVersion\x3e\x3d5?14:15,H\x3di.zMax;for(I\x3d0;I\x3cd;I++)for(S\x3dI!\x3d\x3dd-1?f:F,U\x3d0;U\x3cc;U++)for(O\x3dI*a*f+U*f,M\x3da-(T\x3dU!\x3d\x3dc-1?f:z),k\x3d0;k\x3cj;k++){if(j\x3e1?(_\x3dZ,O\x3dI*a*f+U*f,Z\x3dnew r(t.pixels.resultPixels.buffer,s*k*u,s),H\x3di.maxValues[k]):_\x3dnull,D\x3de.byteLength-t.ptr,m\x3d{},V\x3d0,E\x3d(p\x3dnew DataView(e,t.ptr,Math.min(10,D))).getUint8(0),V++,x\x3di.fileVersion\x3e\x3d5?4\x26E:0,B\x3dE\x3e\x3e6\x26255,(E\x3e\x3e2\x26K)!\x3d(U*f\x3e\x3e3\x26K))throw"integrity issue";if(x\x26\x260\x3d\x3d\x3dk)throw"integrity issue";if((w\x3d3\x26E)\x3e3)throw t.ptr+\x3dV,"Invalid block encoding ("+w+")";if(2!\x3d\x3dw)if(0\x3d\x3d\x3dw){if(x)throw"integrity issue";if(t.counter.uncompressed++,t.ptr+\x3dV,C\x3d(C\x3dS*T*u)\x3c(L\x3de.byteLength-t.ptr)?C:L,v\x3dnew ArrayBuffer(C%u\x3d\x3d0?C:C+u-C%u),new Uint8Array(v).set(new Uint8Array(e,t.ptr,C)),y\x3dnew r(v),R\x3d0,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dy[R++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dy[R++];O+\x3dM}t.ptr+\x3dR*u}else if(g\x3dh.getDataTypeUsed(x\x26\x26l\x3c6?4:l,B),b\x3dh.getOnePixel(m,V,g,p),V+\x3dh.getDataTypeSize(g),3\x3d\x3d\x3dw)if(t.ptr+\x3dV,t.counter.constantoffset++,N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dx?Math.min(H,_[O]+b):b),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dx?Math.min(H,_[O]+b):b,O++;O+\x3dM}else if(t.ptr+\x3dV,h.decodeBits(e,t,G,b,k),V\x3d0,x)if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]+_[O]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O]\x3dG[V++]+_[O],O++;O+\x3dM}else if(N)for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3dG[V++]),O++;O+\x3dM}else for(A\x3d0;A\x3cS;A++){for(P\x3d0;P\x3cT;P++)Z[O++]\x3dG[V++];O+\x3dM}else{if(x)if(N)for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)N[O]\x26\x26(Z[O]\x3d_[O]),O++;else for(A\x3d0;A\x3cS;A++)for(P\x3d0;P\x3cT;P++)Z[O]\x3d_[O],O++;t.counter.constant++,t.ptr+\x3dV}}j\x3e1\x26\x26!n\x26\x26(t.pixels.resultPixels\x3dh.swapDimensionOrder(t.pixels.resultPixels,s,j,r))},formatFileInfo:function(e){return{fileIdentifierString:e.headerInfo.fileIdentifierString,fileVersion:e.headerInfo.fileVersion,imageType:e.headerInfo.imageType,height:e.headerInfo.height,width:e.headerInfo.width,numValidPixel:e.headerInfo.numValidPixel,microBlockSize:e.headerInfo.microBlockSize,blobSize:e.headerInfo.blobSize,maxZError:e.headerInfo.maxZError,pixelType:h.getPixelType(e.headerInfo.imageType),eofOffset:e.eofOffset,mask:e.mask?{numBytes:e.mask.numBytes}:null,pixels:{numBlocksX:e.pixels.numBlocksX,numBlocksY:e.pixels.numBlocksY,maxValue:e.headerInfo.zMax,minValue:e.headerInfo.zMin,noDataValue:e.noDataValue}}},constructConstantSurface:function(e,t){var r\x3de.headerInfo.zMax,n\x3de.headerInfo.zMin,i\x3de.headerInfo.maxValues,a\x3de.headerInfo.numDims,o\x3de.headerInfo.height*e.headerInfo.width,s\x3d0,f\x3d0,l\x3d0,u\x3de.pixels.resultMask,c\x3de.pixels.resultPixels;if(u)if(a\x3e1){if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)u[f]\x26\x26(c[l+f]\x3dr);else for(f\x3d0;f\x3co;f++)if(u[f])for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+a]\x3di[s]}else for(f\x3d0;f\x3co;f++)u[f]\x26\x26(c[f]\x3dr);else if(a\x3e1\x26\x26n!\x3d\x3dr)if(t)for(s\x3d0;s\x3ca;s++)for(l\x3ds*o,r\x3di[s],f\x3d0;f\x3co;f++)c[l+f]\x3dr;else for(f\x3d0;f\x3co;f++)for(l\x3df*a,s\x3d0;s\x3ca;s++)c[l+s]\x3di[s];else for(f\x3d0;f\x3co*a;f++)c[f]\x3dr},getDataTypeArray:function(e){var t;switch(e){case 0:t\x3dInt8Array;break;case 1:t\x3dUint8Array;break;case 2:t\x3dInt16Array;break;case 3:t\x3dUint16Array;break;case 4:t\x3dInt32Array;break;case 5:t\x3dUint32Array;break;case 6:default:t\x3dFloat32Array;break;case 7:t\x3dFloat64Array}return t},getPixelType:function(e){var t;switch(e){case 0:t\x3d"S8";break;case 1:t\x3d"U8";break;case 2:t\x3d"S16";break;case 3:t\x3d"U16";break;case 4:t\x3d"S32";break;case 5:t\x3d"U32";break;case 6:default:t\x3d"F32";break;case 7:t\x3d"F64"}return t},isValidPixelValue:function(e,t){if(null\x3d\x3dt)return!1;var r;switch(e){case 0:r\x3dt\x3e\x3d-128\x26\x26t\x3c\x3d127;break;case 1:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d255;break;case 2:r\x3dt\x3e\x3d-32768\x26\x26t\x3c\x3d32767;break;case 3:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d65536;break;case 4:r\x3dt\x3e\x3d-2147483648\x26\x26t\x3c\x3d2147483647;break;case 5:r\x3dt\x3e\x3d0\x26\x26t\x3c\x3d4294967296;break;case 6:r\x3dt\x3e\x3d-34027999387901484e22\x26\x26t\x3c\x3d34027999387901484e22;break;case 7:r\x3dt\x3e\x3d-17976931348623157e292\x26\x26t\x3c\x3d17976931348623157e292;break;default:r\x3d!1}return r},getDataTypeSize:function(e){var t\x3d0;switch(e){case 0:case 1:t\x3d1;break;case 2:case 3:t\x3d2;break;case 4:case 5:case 6:t\x3d4;break;case 7:t\x3d8;break;default:t\x3de}return t},getDataTypeUsed:function(e,t){var r\x3de;switch(e){case 2:case 4:r\x3de-t;break;case 3:case 5:r\x3de-2*t;break;case 6:r\x3d0\x3d\x3d\x3dt?e:1\x3d\x3d\x3dt?2:1;break;case 7:r\x3d0\x3d\x3d\x3dt?e:e-2*t+1;break;default:r\x3de}return r},getOnePixel:function(e,t,r,n){var i\x3d0;switch(r){case 0:i\x3dn.getInt8(t);break;case 1:i\x3dn.getUint8(t);break;case 2:i\x3dn.getInt16(t,!0);break;case 3:i\x3dn.getUint16(t,!0);break;case 4:i\x3dn.getInt32(t,!0);break;case 5:i\x3dn.getUInt32(t,!0);break;case 6:i\x3dn.getFloat32(t,!0);break;case 7:i\x3dn.getFloat64(t,!0);break;default:throw"the decoder does not understand this pixel type"}return i},swapDimensionOrder:function(e,t,r,n,i){var a\x3d0,o\x3d0,s\x3d0,f\x3d0,l\x3de;if(r\x3e1)if(l\x3dnew n(t*r),i)for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[f]\x3de[o++];else for(a\x3d0;a\x3ct;a++)for(f\x3da,s\x3d0;s\x3cr;s++,f+\x3dt)l[o++]\x3de[f];return l}},d\x3dfunction(e,t,r){this.val\x3de,this.left\x3dt,this.right\x3dr},{decode:function(e,t){var r\x3d(t\x3dt||{}).noDataValue,n\x3d0,i\x3d{};i.ptr\x3dt.inputOffset||0,i.pixels\x3d{},h.readHeaderInfo(e,i);var a\x3di.headerInfo,o\x3da.fileVersion,s\x3dh.getDataTypeArray(a.imageType);if(o\x3e5)throw"unsupported lerc version 2."+o;h.readMask(e,i),a.numValidPixel\x3d\x3d\x3da.width*a.height||i.pixels.resultMask||(i.pixels.resultMask\x3dt.maskData);var f\x3da.width*a.height;i.pixels.resultPixels\x3dnew s(f*a.numDims),i.counter\x3d{onesweep:0,uncompressed:0,lut:0,bitstuffer:0,constant:0,constantoffset:0};var l,u\x3d!t.returnPixelInterleavedDims;if(0!\x3d\x3da.numValidPixel)if(a.zMax\x3d\x3d\x3da.zMin)h.constructConstantSurface(i,u);else if(o\x3e\x3d4\x26\x26h.checkMinMaxRanges(e,i))h.constructConstantSurface(i,u);else{var c\x3dnew DataView(e,i.ptr,2),d\x3dc.getUint8(0);if(i.ptr++,d)h.readDataOneSweep(e,i,s,u);else if(o\x3e1\x26\x26a.imageType\x3c\x3d1\x26\x26Math.abs(a.maxZError-.5)\x3c1e-5){var p\x3dc.getUint8(1);if(i.ptr++,i.encodeMode\x3dp,p\x3e2||o\x3c4\x26\x26p\x3e1)throw"Invalid Huffman flag "+p;p?h.readHuffman(e,i,s,u):h.readTiles(e,i,s,u)}else h.readTiles(e,i,s,u)}i.eofOffset\x3di.ptr,t.inputOffset?(l\x3di.headerInfo.blobSize+t.inputOffset-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3dt.inputOffset+i.headerInfo.blobSize)):(l\x3di.headerInfo.blobSize-i.ptr,Math.abs(l)\x3e\x3d1\x26\x26(i.eofOffset\x3di.headerInfo.blobSize));var m\x3d{width:a.width,height:a.height,pixelData:i.pixels.resultPixels,minValue:a.zMin,maxValue:a.zMax,validPixelCount:a.numValidPixel,dimCount:a.numDims,dimStats:{minValues:a.minValues,maxValues:a.maxValues},maskData:i.pixels.resultMask};if(i.pixels.resultMask\x26\x26h.isValidPixelValue(a.imageType,r)){var v\x3di.pixels.resultMask;for(n\x3d0;n\x3cf;n++)v[n]||(m.pixelData[n]\x3dr);m.noDataValue\x3dr}return i.noDataValue\x3dr,t.returnFileInfo\x26\x26(m.fileInfo\x3dh.formatFileInfo(i)),m},getBandCount:function(e){for(var t\x3d0,r\x3d0,n\x3d{ptr:0,pixels:{}};r\x3ce.byteLength-58;)h.readHeaderInfo(e,n),r+\x3dn.headerInfo.blobSize,t++,n.ptr\x3dr;return t}}),w\x3d(p\x3dnew ArrayBuffer(4),m\x3dnew Uint8Array(p),new Uint32Array(p)[0]\x3d1,1\x3d\x3d\x3dm[0]),g\x3d{decode:function(e,t){if(!w)throw"Big endian system is not supported.";var r,n,i\x3d(t\x3dt||{}).inputOffset||0,a\x3dnew Uint8Array(e,i,10),o\x3dString.fromCharCode.apply(null,a);if("CntZImage"\x3d\x3d\x3do.trim())r\x3dv,n\x3d1;else{if("Lerc2"!\x3d\x3do.substring(0,5))throw"Unexpected file identifier string: "+o;r\x3dy,n\x3d2}for(var s,f,l,u,c,h,d\x3d0,p\x3de.byteLength-10,m\x3d[],g\x3d{width:0,height:0,pixels:[],pixelType:t.pixelType,mask:null,statistics:[]},b\x3d0;i\x3cp;){var k\x3dr.decode(e,{inputOffset:i,encodedMaskData:s,maskData:l,returnMask:0\x3d\x3d\x3dd,returnEncodedMask:0\x3d\x3d\x3dd,returnFileInfo:!0,returnPixelInterleavedDims:t.returnPixelInterleavedDims,pixelType:t.pixelType||null,noDataValue:t.noDataValue||null});i\x3dk.fileInfo.eofOffset,l\x3dk.maskData,0\x3d\x3d\x3dd\x26\x26(s\x3dk.encodedMaskData,g.width\x3dk.width,g.height\x3dk.height,g.dimCount\x3dk.dimCount||1,g.pixelType\x3dk.pixelType||k.fileInfo.pixelType,g.mask\x3dl),n\x3e1\x26\x26(l\x26\x26m.push(l),k.fileInfo.mask\x26\x26k.fileInfo.mask.numBytes\x3e0\x26\x26b++),d++,g.pixels.push(k.pixelData),g.statistics.push({minValue:k.minValue,maxValue:k.maxValue,noDataValue:k.noDataValue,dimStats:k.dimStats})}if(n\x3e1\x26\x26b\x3e1){for(h\x3dg.width*g.height,g.bandMasks\x3dm,(l\x3dnew Uint8Array(h)).set(m[0]),u\x3d1;u\x3cm.length;u++)for(f\x3dm[u],c\x3d0;c\x3ch;c++)l[c]\x3dl[c]\x26f[c];g.maskData\x3dl}return g}};Ke.exports?Ke.exports\x3dg:this.Lerc\x3dg}();var We\x3dXe.exports,qe\x3d{315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},Je\x3d{};for(var Qe in qe)qe.hasOwnProperty(Qe)\x26\x26(Je[qe[Qe]]\x3dparseInt(Qe,10));Je.BitsPerSample,Je.ExtraSamples,Je.SampleFormat,Je.StripByteCounts,Je.StripOffsets,Je.StripRowCounts,Je.TileByteCounts,Je.TileOffsets,Je.SubIFDs;var $e\x3d{1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},et\x3d{};for(var tt in $e)$e.hasOwnProperty(tt)\x26\x26(et[$e[tt]]\x3dparseInt(tt,10));var rt\x3d1,nt\x3d0,it\x3d1,at\x3d{1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},ot\x3d{};for(var st in at)at.hasOwnProperty(st)\x26\x26(ot[at[st]]\x3dparseInt(st,10));function ft(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var lt\x3dfunction(e){p(r,b);var t\x3dft(r);function r(e){var n;return u(this,r),(n\x3dt.call(this)).planarConfiguration\x3dvoid 0!\x3d\x3de.PlanarConfiguration?e.PlanarConfiguration:1,n.samplesPerPixel\x3dvoid 0!\x3d\x3de.SamplesPerPixel?e.SamplesPerPixel:1,n.addCompression\x3de.LercParameters[rt],n}return h(r,[{key:"decodeBlock",value:function(e){switch(this.addCompression){case nt:break;case it:e\x3dFe(new Uint8Array(e)).buffer;break;default:throw new Error("Unsupported LERC additional compression method identifier: ".concat(this.addCompression))}return We.decode(e,{returnPixelInterleavedDims:1\x3d\x3d\x3dthis.planarConfiguration}).pixels[0].buffer}}]),r}(),ut\x3dObject.freeze({__proto__:null,default:lt});function ct(e){var t\x3dfunction(){if("undefined"\x3d\x3dtypeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"\x3d\x3dtypeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n\x3dv(e);if(t){var i\x3dv(this).constructor;r\x3dReflect.construct(n,arguments,i)}else r\x3dn.apply(this,arguments);return m(this,r)}}var ht\x3dfunction(e){p(a,b);var r,n\x3dct(a);function a(){var e;if(u(this,a),e\x3dn.call(this),"undefined"\x3d\x3dtypeof createImageBitmap)throw new Error("Cannot decode WebImage as `createImageBitmap` is not available");if("undefined"\x3d\x3dtypeof document\x26\x26"undefined"\x3d\x3dtypeof OffscreenCanvas)throw new Error("Cannot decode WebImage as neither `document` nor `OffscreenCanvas` is not available");return e}return h(a,[{key:"decode",value:(r\x3dt(i.mark((function e(t,r){var n,a,o,s;return i.wrap((function(e){for(;;)switch(e.prev\x3de.next){case 0:return n\x3dnew Blob([r]),e.next\x3d3,createImageBitmap(n);case 3:return a\x3de.sent,"undefined"!\x3dtypeof document?((o\x3ddocument.createElement("canvas")).width\x3da.width,o.height\x3da.height):o\x3dnew OffscreenCanvas(a.width,a.height),(s\x3do.getContext("2d")).drawImage(a,0,0),e.abrupt("return",s.getImageData(0,0,a.width,a.height).data.buffer);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})}]),a}(),dt\x3dObject.freeze({__proto__:null,default:ht});'],
{type:"application/javascript"})))}};
shadow$provide[241]=function(Ka,L,sb,A){var w=this&&this.__createBinding||(Object.create?function(f,b,c,e){void 0===e&&(e=c);Object.defineProperty(f,e,{enumerable:!0,get:function(){return b[c]}})}:function(f,b,c,e){void 0===e&&(e=c);f[e]=b[c]}),k=this&&this.__setModuleDefault||(Object.create?function(f,b){Object.defineProperty(f,"default",{enumerable:!0,value:b})}:function(f,b){f["default"]=b}),p=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var b={};if(null!=f)for(var c in f)"default"!==
c&&Object.prototype.hasOwnProperty.call(f,c)&&w(b,f,c);k(b,f);return b};Object.defineProperty(A,"__esModule",{value:!0});const q=L(234),t="undefined"!==typeof navigator?navigator.hardwareConcurrency||2:2;class n{constructor(f=t,b){this._awaitingDecoder=this.workers=null;this.size=f;this.messageId=0;f&&(this._awaitingDecoder=b?Promise.resolve(b):new Promise(c=>{Promise.resolve().then(()=>p(L(240))).then(e=>{c(e.create)})}),this._awaitingDecoder.then(c=>{this._awaitingDecoder=null;this.workers=[];for(let e=
0;e<f;e++)this.workers.push({worker:c(),idle:!0})}))}decode(f,b){const c=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){c._awaitingDecoder&&(yield c._awaitingDecoder);return 0===c.size?(0,q.getDecoder)(f).then(e=>e.decode(f,b)):new Promise(e=>{const g=c.workers.find(x=>x.idle)||c.workers[Math.floor(Math.random()*c.size)];g.idle=!1;const m=c.messageId++,h=x=>{x.data.id===m&&(g.idle=!0,e(x.data.decoded),g.worker.removeEventListener("message",h))};g.worker.addEventListener("message",
h);g.worker.postMessage({fileDirectory:f,buffer:b,id:m},[b])})})}destroy(){this.workers&&(this.workers.forEach(f=>{f.worker.terminate()}),this.workers=null)}}A.default=n};
shadow$provide[242]=function(Ka,L,sb,A){function w(q){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(q);const t={};for(const [n,f]of q)t[n.toLowerCase()]=f;return t}function k(q){q=q.split("\r\n").map(t=>{t=t.split(":").map(n=>n.trim());t[0]=t[0].toLowerCase();return t});return w(q)}function p(q){let t,n,f;q&&([,t,n,f]=q.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),n=parseInt(n,10),f=parseInt(f,10));return{start:t,end:n,total:f}}Object.defineProperty(A,"__esModule",{value:!0});
A.parseByteRanges=A.parseContentRange=A.parseContentType=void 0;A.parseContentType=function(q){const [t,...n]=q.split(";").map(f=>f.trim());q=n.map(f=>f.split("\x3d"));return{type:t,params:w(q)}};A.parseContentRange=p;A.parseByteRanges=function(q,t){var n=null;const f=new TextDecoder("ascii"),b=[];t=`--${t}`;const c=`${t}--`;for(var e=0;10>e;++e)f.decode(new Uint8Array(q,e,t.length))===t&&(n=e);if(null===n)throw Error("Could not find initial boundary");for(;n<q.byteLength;){e=f.decode(new Uint8Array(q,
n,Math.min(t.length+1024,q.byteLength-n)));if(0===e.length||e.startsWith(c))break;if(!e.startsWith(t))throw Error("Part does not start with boundary");e=e.substr(t.length+2);if(0===e.length)break;var g=e.indexOf("\r\n\r\n");e=k(e.substr(0,g));const {start:m,end:h,total:x}=p(e["content-range"]);n=n+t.length+g+4;g=parseInt(h,10)+1-parseInt(m,10);b.push({headers:e,data:q.slice(n,n+g),offset:m,length:g,fileSize:x});n=n+g+4}return b}};
shadow$provide[243]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.BaseSource=void 0;class w{fetch(k,p){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return Promise.all(k.map(t=>q.fetchSlice(t,p)))})}fetchSlice(k){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error(`fetching of slice ${k} not possible, not implemented`);})}get fileSize(){return null}close(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){})}}
A.BaseSource=w};
shadow$provide[244]=function(Ka,L,sb,A){sb.exports=function(w){w.prototype[Symbol.iterator]=function*(){for(let k=this.head;k;k=k.next)yield k.value}}};
shadow$provide[245]=function(Ka,L,sb,A){function w(p){var q=this;q instanceof w||(q=new w);q.tail=null;q.head=null;q.length=0;if(p&&"function"===typeof p.forEach)p.forEach(function(f){q.push(f)});else if(0<arguments.length)for(var t=0,n=arguments.length;t<n;t++)q.push(arguments[t]);return q}function k(p,q,t,n){if(!(this instanceof k))return new k(p,q,t,n);this.list=n;this.value=p;q?(q.next=this,this.prev=q):this.prev=null;t?(t.prev=this,this.next=t):this.next=null}sb.exports=w;w.Node=k;w.create=w;
w.prototype.removeNode=function(p){if(p.list!==this)throw Error("removing node which does not belong to this list");var q=p.next,t=p.prev;q&&(q.prev=t);t&&(t.next=q);p===this.head&&(this.head=q);p===this.tail&&(this.tail=t);p.list.length--;p.next=null;p.prev=null;p.list=null;return q};w.prototype.unshiftNode=function(p){if(p!==this.head){p.list&&p.list.removeNode(p);var q=this.head;p.list=this;if(p.next=q)q.prev=p;this.head=p;this.tail||(this.tail=p);this.length++}};w.prototype.pushNode=function(p){if(p!==
this.tail){p.list&&p.list.removeNode(p);var q=this.tail;p.list=this;if(p.prev=q)q.next=p;this.tail=p;this.head||(this.head=p);this.length++}};w.prototype.push=function(){for(var p=0,q=arguments.length;p<q;p++)this.tail=new k(arguments[p],this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length};w.prototype.unshift=function(){for(var p=0,q=arguments.length;p<q;p++)this.head=new k(arguments[p],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length};
w.prototype.pop=function(){if(this.tail){var p=this.tail.value;(this.tail=this.tail.prev)?this.tail.next=null:this.head=null;this.length--;return p}};w.prototype.shift=function(){if(this.head){var p=this.head.value;(this.head=this.head.next)?this.head.prev=null:this.tail=null;this.length--;return p}};w.prototype.forEach=function(p,q){q=q||this;for(var t=this.head,n=0;null!==t;n++)p.call(q,t.value,n,this),t=t.next};w.prototype.forEachReverse=function(p,q){q=q||this;for(var t=this.tail,n=this.length-
1;null!==t;n--)p.call(q,t.value,n,this),t=t.prev};w.prototype.get=function(p){for(var q=0,t=this.head;null!==t&&q<p;q++)t=t.next;if(q===p&&null!==t)return t.value};w.prototype.getReverse=function(p){for(var q=0,t=this.tail;null!==t&&q<p;q++)t=t.prev;if(q===p&&null!==t)return t.value};w.prototype.map=function(p,q){q=q||this;for(var t=new w,n=this.head;null!==n;)t.push(p.call(q,n.value,this)),n=n.next;return t};w.prototype.mapReverse=function(p,q){q=q||this;for(var t=new w,n=this.tail;null!==n;)t.push(p.call(q,
n.value,this)),n=n.prev;return t};w.prototype.reduce=function(p,q){var t=this.head;if(1<arguments.length)var n=q;else if(this.head)t=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;null!==t;f++)n=p(n,t.value,f),t=t.next;return n};w.prototype.reduceReverse=function(p,q){var t=this.tail;if(1<arguments.length)var n=q;else if(this.tail)t=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");
for(var f=this.length-1;null!==t;f--)n=p(n,t.value,f),t=t.prev;return n};w.prototype.toArray=function(){for(var p=Array(this.length),q=0,t=this.head;null!==t;q++)p[q]=t.value,t=t.next;return p};w.prototype.toArrayReverse=function(){for(var p=Array(this.length),q=0,t=this.tail;null!==t;q++)p[q]=t.value,t=t.prev;return p};w.prototype.slice=function(p,q){q=q||this.length;0>q&&(q+=this.length);p=p||0;0>p&&(p+=this.length);var t=new w;if(q<p||0>q)return t;0>p&&(p=0);q>this.length&&(q=this.length);for(var n=
0,f=this.head;null!==f&&n<p;n++)f=f.next;for(;null!==f&&n<q;n++,f=f.next)t.push(f.value);return t};w.prototype.sliceReverse=function(p,q){q=q||this.length;0>q&&(q+=this.length);p=p||0;0>p&&(p+=this.length);var t=new w;if(q<p||0>q)return t;0>p&&(p=0);q>this.length&&(q=this.length);for(var n=this.length,f=this.tail;null!==f&&n>q;n--)f=f.prev;for(;null!==f&&n>p;n--,f=f.prev)t.push(f.value);return t};w.prototype.splice=function(p,q,...t){p>this.length&&(p=this.length-1);0>p&&(p=this.length+p);for(var n=
0,f=this.head;null!==f&&n<p;n++)f=f.next;p=[];for(n=0;f&&n<q;n++)p.push(f.value),f=this.removeNode(f);null===f&&(f=this.tail);f!==this.head&&f!==this.tail&&(f=f.prev);for(n=0;n<t.length;n++)q=f,f=t[n],q=q===this.head?new k(f,null,q,this):new k(f,q,q.next,this),null===q.next&&(this.tail=q),null===q.prev&&(this.head=q),this.length++,f=q;return p};w.prototype.reverse=function(){for(var p=this.head,q=this.tail,t=p;null!==t;t=t.prev){var n=t.prev;t.prev=t.next;t.next=n}this.head=q;this.tail=p;return this};
try{L(244)(w)}catch(p){}};
shadow$provide[246]=function(Ka,L,sb,A){const w=L(245),k=Symbol("max"),p=Symbol("length"),q=Symbol("lengthCalculator"),t=Symbol("allowStale"),n=Symbol("maxAge"),f=Symbol("dispose"),b=Symbol("noDisposeOnSet"),c=Symbol("lruList"),e=Symbol("cache"),g=Symbol("updateAgeOnGet"),m=()=>1;class h{constructor(r){"number"===typeof r&&(r={max:r});r||(r={});if(r.max&&("number"!==typeof r.max||0>r.max))throw new TypeError("max must be a non-negative number");this[k]=r.max||Infinity;const y=r.length||m;this[q]=
"function"!==typeof y?m:y;this[t]=r.stale||!1;if(r.maxAge&&"number"!==typeof r.maxAge)throw new TypeError("maxAge must be a number");this[n]=r.maxAge||0;this[f]=r.dispose;this[b]=r.noDisposeOnSet||!1;this[g]=r.updateAgeOnGet||!1;this.reset()}set max(r){if("number"!==typeof r||0>r)throw new TypeError("max must be a non-negative number");this[k]=r||Infinity;G(this)}get max(){return this[k]}set allowStale(r){this[t]=!!r}get allowStale(){return this[t]}set maxAge(r){if("number"!==typeof r)throw new TypeError("maxAge must be a non-negative number");
this[n]=r;G(this)}get maxAge(){return this[n]}set lengthCalculator(r){"function"!==typeof r&&(r=m);r!==this[q]&&(this[q]=r,this[p]=0,this[c].forEach(y=>{y.length=this[q](y.value,y.key);this[p]+=y.length}));G(this)}get lengthCalculator(){return this[q]}get length(){return this[p]}get itemCount(){return this[c].length}rforEach(r,y){y=y||this;for(let K=this[c].tail;null!==K;){const R=K.prev;C(this,r,K,y);K=R}}forEach(r,y){y=y||this;for(let K=this[c].head;null!==K;){const R=K.next;C(this,r,K,y);K=R}}keys(){return this[c].toArray().map(r=>
r.key)}values(){return this[c].toArray().map(r=>r.value)}reset(){this[f]&&this[c]&&this[c].length&&this[c].forEach(r=>this[f](r.key,r.value));this[e]=new Map;this[c]=new w;this[p]=0}dump(){return this[c].map(r=>O(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[c]}set(r,y,K){if((K=K||this[n])&&"number"!==typeof K)throw new TypeError("maxAge must be a number");const R=K?Date.now():0,S=this[q](y,r);if(this[e].has(r)){if(S>this[k])return I(this,this[e].get(r)),
!1;const ca=this[e].get(r).value;if(this[f]&&!this[b])this[f](r,ca.value);ca.now=R;ca.maxAge=K;ca.value=y;this[p]+=S-ca.length;ca.length=S;this.get(r);G(this);return!0}K=new F(r,y,S,R,K);if(K.length>this[k]){if(this[f])this[f](r,y);return!1}this[p]+=K.length;this[c].unshift(K);this[e].set(r,this[c].head);G(this);return!0}has(r){if(!this[e].has(r))return!1;r=this[e].get(r).value;return!O(this,r)}get(r){return x(this,r,!0)}peek(r){return x(this,r,!1)}pop(){const r=this[c].tail;if(!r)return null;I(this,
r);return r.value}del(r){I(this,this[e].get(r))}load(r){this.reset();const y=Date.now();for(let R=r.length-1;0<=R;R--){const S=r[R];var K=S.e||0;0===K?this.set(S.k,S.v):(K-=y,0<K&&this.set(S.k,S.v,K))}}prune(){this[e].forEach((r,y)=>x(this,y,!1))}}const x=(r,y,K)=>{if(y=r[e].get(y)){const R=y.value;if(O(r,R)){if(I(r,y),!r[t])return}else K&&(r[g]&&(y.value.now=Date.now()),r[c].unshiftNode(y));return R.value}},O=(r,y)=>{if(!y||!y.maxAge&&!r[n])return!1;const K=Date.now()-y.now;return y.maxAge?K>y.maxAge:
r[n]&&K>r[n]},G=r=>{if(r[p]>r[k])for(let y=r[c].tail;r[p]>r[k]&&null!==y;){const K=y.prev;I(r,y);y=K}},I=(r,y)=>{if(y){const K=y.value;if(r[f])r[f](K.key,K.value);r[p]-=K.length;r[e].delete(K.key);r[c].removeNode(y)}};class F{constructor(r,y,K,R,S){this.key=r;this.value=y;this.length=K;this.now=R;this.maxAge=S||0}}const C=(r,y,K,R)=>{let S=K.value;O(r,S)&&(I(r,K),r[t]||(S=void 0));S&&y.call(R,S.value,S.key,r)};sb.exports=h};
shadow$provide[247]=function(Ka,L,sb,A){function w(t){const n=[],{length:f}=t;for(let b=0;b<f;b++)n.push(t[b]);return n}function k(t){return t.length?w(t).map(k):t}Object.defineProperty(A,"__esModule",{value:!0});A.AggregateError=A.CustomAggregateError=A.AbortError=A.zip=A.wait=A.parseContentRange=A.toArrayRecursively=A.toArray=A.times=A.range=A.invert=A.forEach=A.endsWith=A.chunk=A.assign=void 0;A.assign=function(t,n){for(const f in n)n.hasOwnProperty(f)&&(t[f]=n[f])};A.chunk=function(t,n){const f=
[],b=t.length;for(let c=0;c<b;c+=n){const e=[];for(let g=c;g<c+n;g++)e.push(t[g]);f.push(e)}return f};A.endsWith=function(t,n){return t.length<n.length?!1:t.substr(t.length-n.length)===n};A.forEach=function(t,n){const {length:f}=t;for(let b=0;b<f;b++)n(t[b],b)};A.invert=function(t){const n={};for(const f in t)t.hasOwnProperty(f)&&(n[t[f]]=f);return n};A.range=function(t){const n=[];for(let f=0;f<t;f++)n.push(f);return n};A.times=function(t,n){const f=[];for(let b=0;b<t;b++)f.push(n(b));return f};
A.toArray=w;A.toArrayRecursively=k;A.parseContentRange=function(t){if(!t)return null;if("string"!==typeof t)throw Error("invalid argument");let n=t.match(/^(\w*) /);const f=n&&n[1];return(n=t.match(/(\d+)-(\d+)\/(\d+|\*)/))?{unit:f,first:Number.parseInt(n[1],10),last:Number.parseInt(n[2],10),length:"*"===n[3]?null:Number.parseInt(n[3],10)}:(n=t.match(/(\d+|\*)/))?{unit:f,first:null,last:null,length:"*"===n[1]?null:Number.parseInt(n[1],10)}:null};A.wait=function(t){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise(n=>
setTimeout(n,t))})};A.zip=function(t,n){t=Array.isArray(t)?t:Array.from(t);const f=Array.isArray(n)?n:Array.from(n);return t.map((b,c)=>[b,f[c]])};class p extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,p);this.name="AbortError"}}A.AbortError=p;class q extends Error{constructor(t,n){super(n);this.errors=t;this.message=n;this.name="AggregateError"}}A.CustomAggregateError=q;A.AggregateError=q};
shadow$provide[248]=function(Ka,L,sb,A){Ka=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{"default":n}};Object.defineProperty(A,"__esModule",{value:!0});A.BlockedSource=void 0;const w=Ka(L(246));Ka=L(243);const k=L(247);class p{constructor(n,f,b=null){this.offset=n;this.length=f;this.data=b}get top(){return this.offset+this.length}}class q{constructor(n,f,b){this.offset=n;this.length=f;this.blockIds=b}}class t extends Ka.BaseSource{constructor(n,{blockSize:f=65536,cacheSize:b=100}=
{}){super();this.source=n;this.blockSize=f;this.blockCache=new w.default({max:b});this.blockRequests=new Map;this.blockIdsToFetch=new Set}get fileSize(){return this.source.fileSize}fetch(n,f){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const c=new Map;var e=new Map,g=new Set;for(const {offset:G,length:I}of n){var m=G+I,{fileSize:h}=b;null!==h&&(m=Math.min(m,h));for(h=Math.floor(G/b.blockSize)*b.blockSize;h<m;h+=b.blockSize){const F=Math.floor(h/b.blockSize);b.blockCache.has(F)?
c.set(F,b.blockCache.get(F)):b.blockRequests.has(F)?e.set(F,b.blockRequests.get(F)):(b.blockIdsToFetch.has(F)||b.blockIdsToFetch.add(F),g.add(F))}}yield(0,k.wait)();b.fetchBlocks(f);for(var x of g)if(g=b.blockRequests.get(x),m=b.blockCache.get(x),g)e.set(x,g);else if(m)c.set(x,m);else throw Error(`Block ${x} is not in the block requests`);x=yield Promise.allSettled(Array.from(e.values()));if(x.some(G=>"rejected"===G.status)){g=new Set;for(const [G,I]of(0,k.zip)(e.keys(),x)){const {rejected:F,reason:C}=
I;F&&"AbortError"===C.name&&C.signal!==f&&(b.blockIdsToFetch.add(G),g.add(G))}if(0<b.blockIdsToFetch.length){b.fetchBlocks(f);for(var O of g){x=b.blockRequests.get(O);if(!x)throw Error(`Block ${O} is not in the block requests`);e.set(O,x)}x=yield Promise.allSettled(Array.from(e.values()))}}if(x.some(G=>"rejected"===G.status)){if(f&&f.aborted)throw new k.AbortError("Request was aborted");throw new k.AggregateError(x.filter(G=>"rejected"===G.status).map(G=>G.reason),"Request failed");}O=x.map(G=>G.value);
e=new Map((0,k.zip)(Array.from(e.keys()),O));for(const [G,I]of c)e.set(G,I);return b.readSliceData(n,e)})}fetchBlocks(n){if(0<this.blockIdsToFetch.size){const b=this.groupBlocks(this.blockIdsToFetch),c=this.source.fetch(b,n);for(let e=0;e<b.length;++e){var f=b[e];for(const g of f.blockIds)f=(()=>{const m=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){try{const h=(yield c)[e],x=g*m.blockSize,O=x-h.offset,G=h.data.slice(O,Math.min(O+m.blockSize,h.data.byteLength)),I=new p(x,G.byteLength,
G);m.blockCache.set(g,I);return I}catch(h){throw"AbortError"===h.name&&(h.signal=n),h;}finally{m.blockRequests.delete(g)}})})(),this.blockRequests.set(g,f)}this.blockIdsToFetch.clear()}}groupBlocks(n){n=Array.from(n).sort((e,g)=>e-g);if(0===n.length)return[];let f=[],b=null;const c=[];for(const e of n)null===b||b+1===e?f.push(e):(c.push(new q(f[0]*this.blockSize,f.length*this.blockSize,f)),f=[e]),b=e;c.push(new q(f[0]*this.blockSize,f.length*this.blockSize,f));return c}readSliceData(n,f){return n.map(b=>
{const c=b.offset+b.length;var e=Math.floor(b.offset/this.blockSize);const g=Math.floor((b.offset+b.length)/this.blockSize),m=new ArrayBuffer(b.length),h=new Uint8Array(m);for(;e<=g;++e){var x=f.get(e);const O=x.offset-b.offset,G=x.top-c;let I=0,F=0;0>O?I=-O:0<O&&(F=O);x=new Uint8Array(x.data,I,0>G?x.length-I:c-x.offset-I);h.set(x,F)}return m})}}A.BlockedSource=t};
shadow$provide[249]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.BaseClient=A.BaseResponse=void 0;class w{get ok(){return 200<=this.status&&299>=this.status}get status(){throw Error("not implemented");}getHeader(p){throw Error("not implemented");}getData(){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("not implemented");})}}A.BaseResponse=w;class k{constructor(p){this.url=p}request({}={}){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){throw Error("request is not implemented");
})}}A.BaseClient=k};
shadow$provide[250]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.FetchClient=void 0;Ka=L(249);class w extends Ka.BaseResponse{constructor(p){super();this.response=p}get status(){return this.response.status}getHeader(p){return this.response.headers.get(p)}getData(){const p=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return p.response.arrayBuffer?yield p.response.arrayBuffer():(yield p.response.buffer()).buffer})}}class k extends Ka.BaseClient{constructor(p,
q){super(p);this.credentials=q}request({headers:p,credentials:q,signal:t}={}){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const f=yield fetch(n.url,{headers:p,credentials:q,signal:t});return new w(f)})}}A.FetchClient=k};
shadow$provide[251]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.XHRClient=void 0;Ka=L(249);const w=L(247);class k extends Ka.BaseResponse{constructor(q,t){super();this.xhr=q;this.data=t}get status(){return this.xhr.status}getHeader(q){return this.xhr.getResponseHeader(q)}getData(){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return q.data})}}class p extends Ka.BaseClient{constructRequest(q,t){return new Promise((n,f)=>{const b=new XMLHttpRequest;
b.open("GET",this.url);b.responseType="arraybuffer";for(const [c,e]of Object.entries(q))b.setRequestHeader(c,e);b.onload=()=>{n(new k(b,b.response))};b.onerror=f;b.onabort=()=>f(new w.AbortError("Request aborted"));b.send();t&&(t.aborted&&b.abort(),t.addEventListener("abort",()=>b.abort()))})}request({headers:q,signal:t}={}){const n=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield n.constructRequest(q,t)})}}A.XHRClient=p};
shadow$provide[252]=function(Ka,L,sb,A){};
shadow$provide[253]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{"default":b}};Object.defineProperty(A,"__esModule",{value:!0});A.HttpClient=void 0;const k=Ka(L(252)),p=Ka(L(252)),q=Ka(L(252));Ka=L(249);const t=L(247);class n extends Ka.BaseResponse{constructor(b,c){super();this.response=b;this.dataPromise=c}get status(){return this.response.statusCode}getHeader(b){return this.response.headers[b]}getData(){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield b.dataPromise})}}
class f extends Ka.BaseClient{constructor(b){super(b);this.parsedUrl=q.default.parse(this.url);this.httpApi="http:"===this.parsedUrl.protocol?k.default:p.default}constructRequest(b,c){return new Promise((e,g)=>{const m=this.httpApi.get(Object.assign({},this.parsedUrl,{headers:b}),h=>{const x=new Promise(O=>{const G=[];h.on("data",I=>{G.push(I)});h.on("end",()=>{const I=w.concat(G).buffer;O(I)});h.on("error",g)});e(new n(h,x))});m.on("error",g);c&&(c.aborted&&m.destroy(new t.AbortError("Request aborted")),
c.addEventListener("abort",()=>m.destroy(new t.AbortError("Request aborted"))))})}request({headers:b,signal:c}={}){const e=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return yield e.constructRequest(b,c)})}}A.HttpClient=f};
shadow$provide[254]=function(Ka,L,sb,A){function w(g,m){var {blockSize:h,cacheSize:x}=m;return null===h?g:new n.BlockedSource(g,h,x)}function k(g,m){var h=void 0===m?{}:m,x=Object.assign({},h);m=void 0===h.headers?{}:h.headers;var O=h.credentials,G=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.credentials,delete x.maxRanges,delete x.allowFullFile,x);g=new f.FetchClient(g,O);g=new e(g,m,G,h);return w(g,x)}function p(g,m){var h=void 0===
m?{}:m,x=Object.assign({},h);m=void 0===h.headers?{}:h.headers;var O=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.maxRanges,delete x.allowFullFile,x);g=new b.XHRClient(g);g=new e(g,m,O,h);return w(g,x)}function q(g,m){var h=void 0===m?{}:m,x=Object.assign({},h);m=void 0===h.headers?{}:h.headers;var O=void 0===h.maxRanges?0:h.maxRanges;h=void 0===h.allowFullFile?!1:h.allowFullFile;x=(delete x.headers,delete x.maxRanges,delete x.allowFullFile,
x);g=new c.HttpClient(g);g=new e(g,m,O,h);return w(g,x)}Object.defineProperty(A,"__esModule",{value:!0});A.makeRemoteSource=A.makeHttpSource=A.makeXHRSource=A.makeFetchSource=void 0;const t=L(242);Ka=L(243);const n=L(248),f=L(250),b=L(251),c=L(253);class e extends Ka.BaseSource{constructor(g,m,h,x){super();this.client=g;this.headers=m;this.maxRanges=h;this.allowFullFile=x;this._fileSize=null}fetch(g,m){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return h.maxRanges>=
g.length?h.fetchSlices(g,m):Promise.all(g.map(x=>h.fetchSlice(x,m)))})}fetchSlices(g,m){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var x=yield h.client.request({headers:Object.assign({},h.headers,{Range:`bytes=${g.map(G=>{var {offset:I,length:F}=G;return`${I}-${I+F}`}).join(",")}`}),signal:m});if(x.ok){if(206===x.status){const {type:G,params:I}=(0,t.parseContentType)(x.getHeader("content-type"));if("multipart/byteranges"===G)return x=(0,t.parseByteRanges)(yield x.getData(),
I.boundary),h._fileSize=x[0].fileSize||null,x;var O=yield x.getData();const {start:F,end:C,total:r}=(0,t.parseContentRange)(x.getHeader("content-range"));h._fileSize=r||null;x=[{data:O,offset:F,length:C-F}];return 1<g.length?(O=yield Promise.all(g.slice(1).map(y=>h.fetchSlice(y,m))),x.concat(O)):x}if(!h.allowFullFile)throw Error("Server responded with full file");x=yield x.getData();h._fileSize=x.byteLength;return[{data:x,offset:0,length:x.byteLength}]}throw Error("Error fetching data.");})}fetchSlice(g,
m){const h=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {offset:x,length:O}=g;var G=yield h.client.request({headers:Object.assign({},h.headers,{Range:`bytes=${x}-${x+O}`}),signal:m});if(G.ok){if(206===G.status){var I=yield G.getData();({total:G}=(0,t.parseContentRange)(G.getHeader("content-range")));h._fileSize=G||null;return{data:I,offset:x,length:O}}if(!h.allowFullFile)throw Error("Server responded with full file");I=yield G.getData();h._fileSize=I.byteLength;return{data:I,
offset:0,length:I.byteLength}}throw Error("Error fetching data.");})}get fileSize(){return this._fileSize}}A.makeFetchSource=k;A.makeXHRSource=p;A.makeHttpSource=q;A.makeRemoteSource=function(g,m){var h=void 0===m?{}:m;m=Object.assign({},h);h=void 0===h.forceXHR?!1:h.forceXHR;m=(delete m.forceXHR,m);return"function"!==typeof fetch||h?"undefined"!==typeof XMLHttpRequest?p(g,m):q(g,m):k(g,m)}};
shadow$provide[255]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.makeBufferSource=void 0;Ka=L(243);const w=L(247);class k extends Ka.BaseSource{constructor(p){super();this.arrayBuffer=p}fetchSlice(p,q){if(q&&q.aborted)throw new w.AbortError("Request aborted");return this.arrayBuffer.slice(p.offset,p.offset+p.length)}}A.makeBufferSource=function(p){return new k(p)}};
shadow$provide[256]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.makeFileReaderSource=void 0;Ka=L(243);class w extends Ka.BaseSource{constructor(k){super();this.file=k}fetchSlice(k,p){const q=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return new Promise((t,n)=>{const f=q.file.slice(k.offset,k.offset+k.length),b=new FileReader;b.onload=c=>t(c.target.result);b.onerror=n;b.onabort=n;b.readAsArrayBuffer(f);p&&p.addEventListener("abort",()=>b.abort())})})}}
A.makeFileReaderSource=function(k){return new w(k)}};
shadow$provide[257]=function(Ka,L,sb,A){function w(f){return new Promise((b,c)=>{t.default.close(f,e=>{e?c(e):b()})})}function k(f,b,c){return new Promise((e,g)=>{t.default.open(f,b,c,(m,h)=>{m?g(m):e(h)})})}function p(...f){return new Promise((b,c)=>{t.default.read(...f,(e,g,m)=>{e?c(e):b({bytesRead:g,buffer:m})})})}var q=L(21).Buffer;"use strict";Ka=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{"default":f}};Object.defineProperty(A,"__esModule",{value:!0});A.makeFileSource=void 0;
const t=Ka(L(252));L=L(243);class n extends L.BaseSource{constructor(f){super();this.path=f;this.openRequest=k(f,"r")}fetchSlice(f){const b=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var c=yield b.openRequest;({buffer:c}=yield p(c,q.alloc(f.length),0,f.length,f.offset));return c.buffer})}close(){const f=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const b=yield f.openRequest;yield w(b)})}}A.makeFileSource=function(f){return new n(f)}};
shadow$provide[258]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.writeGeotiff=void 0;const w=L(221),k=L(247);Ka=(0,k.invert)(w.fieldTagNames);L=(0,k.invert)(w.geoKeyNames);const p={};(0,k.assign)(p,Ka);(0,k.assign)(p,L);const q=(0,k.invert)(w.fieldTypeNames),t={nextZero:(g,m)=>{for(;0!==g[m];)m++;return m},readUshort:(g,m)=>g[m]<<8|g[m+1],readShort:(g,m)=>{const h=t.ui8;h[0]=g[m+1];h[1]=g[m+0];return t.i16[0]},readInt:(g,m)=>{const h=t.ui8;h[0]=g[m+3];h[1]=g[m+2];h[2]=g[m+
1];h[3]=g[m+0];return t.i32[0]},readUint:(g,m)=>{const h=t.ui8;h[0]=g[m+3];h[1]=g[m+2];h[2]=g[m+1];h[3]=g[m+0];return t.ui32[0]},readASCII:(g,m,h)=>h.map(x=>String.fromCharCode(g[m+x])).join(""),readFloat:(g,m)=>{const h=t.ui8;(0,k.times)(4,x=>{h[x]=g[m+3-x]});return t.fl32[0]},readDouble:(g,m)=>{const h=t.ui8;(0,k.times)(8,x=>{h[x]=g[m+7-x]});return t.fl64[0]},writeUshort:(g,m,h)=>{g[m]=h>>8&255;g[m+1]=h&255},writeUint:(g,m,h)=>{g[m]=h>>24&255;g[m+1]=h>>16&255;g[m+2]=h>>8&255;g[m+3]=h>>0&255},writeASCII:(g,
m,h)=>{(0,k.times)(h.length,x=>{g[m+x]=h.charCodeAt(x)})},ui8:new Uint8Array(8)};t.fl64=new Float64Array(t.ui8.buffer);t.writeDouble=(g,m,h)=>{t.fl64[0]=h;(0,k.times)(8,x=>{g[m+x]=t.ui8[7-x]})};const n=(g,m,h,x)=>{var O=Object.keys(x).filter(F=>void 0!==F&&null!==F&&"undefined"!==F);g.writeUshort(m,h,O.length);h+=2;let G=h+12*O.length+4;for(const F of O){var I=null;"number"===typeof F?I=F:"string"===typeof F&&(I=parseInt(F,10));O=w.fieldTagTypes[I];const C=q[O];if(null==O||void 0===O||"undefined"===
typeof O)throw Error(`unknown type of tag: ${I}`);let r=x[F];if(void 0===r)throw Error(`failed to get value for key ${F}`);"ASCII"===O&&"string"===typeof r&&!1===(0,k.endsWith)(r,"\x00")&&(r+="\x00");const y=r.length;g.writeUshort(m,h,I);h+=2;g.writeUshort(m,h,C);h+=2;g.writeUint(m,h,y);h+=4;I=[-1,1,1,2,4,8,0,0,0,0,0,0,8][C]*y;let K=h;4<I&&(g.writeUint(m,h,G),K=G);"ASCII"===O?g.writeASCII(m,K,r):"SHORT"===O?(0,k.times)(y,R=>{g.writeUshort(m,K+2*R,r[R])}):"LONG"===O?(0,k.times)(y,R=>{g.writeUint(m,
K+4*R,r[R])}):"RATIONAL"===O?(0,k.times)(y,R=>{g.writeUint(m,K+8*R,Math.round(1E4*r[R]));g.writeUint(m,K+8*R+4,1E4)}):"DOUBLE"===O&&(0,k.times)(y,R=>{g.writeDouble(m,K+8*R,r[R])});4<I&&(I+=I&1,G+=I);h+=4}return[h,G]},f=g=>{const m=new Uint8Array(1E3);var h=4;const x=t;m[0]=77;m[1]=77;m[3]=42;let O=8;x.writeUint(m,h,O);h+=4;g.forEach((G,I)=>{G=n(x,m,O,G);O=G[1];I<g.length-1&&x.writeUint(m,G[0],O)});if(m.slice)return m.slice(0,O).buffer;h=new Uint8Array(O);for(let G=0;G<O;G++)h[G]=m[G];return h.buffer},
b=(g,m,h,x)=>{if(void 0===h||null===h)throw Error(`you passed into encodeImage a width of type ${h}`);if(void 0===m||null===m)throw Error(`you passed into encodeImage a width of type ${m}`);const O={256:[m],257:[h],273:[1E3],278:[h],305:"geotiff.js"};if(x)for(const F in x)x.hasOwnProperty(F)&&(O[F]=x[F]);const G=new Uint8Array(f([O]));g=new Uint8Array(g);const I=new Uint8Array(1E3+m*h*O[277]);(0,k.times)(G.length,F=>{I[F]=G[F]});(0,k.forEach)(g,(F,C)=>{I[1E3+C]=F});return I.buffer},c=g=>{const m=
{};for(const h in g)"StripOffsets"!==h&&(p[h]||console.error(h,"not in name2code:",Object.keys(p)),m[p[h]]=g[h]);return m},e=[["Compression",1],["PlanarConfiguration",1],["ExtraSamples",0]];A.writeGeotiff=function(g,m){let h,x,O,G;"number"===typeof g[0]?(h=m.height||m.ImageLength,O=m.width||m.ImageWidth,x=g.length/(h*O),G=g):(x=g.length,h=g[0].length,O=g[0][0].length,G=[],(0,k.times)(h,F=>{(0,k.times)(O,C=>{(0,k.times)(x,r=>{G.push(g[r][F][C])})})}));m.ImageLength=h;delete m.height;m.ImageWidth=O;
delete m.width;m.BitsPerSample||(m.BitsPerSample=(0,k.times)(x,()=>8));e.forEach(F=>{const C=F[0];m[C]||(m[C]=F[1])});m.PhotometricInterpretation||(m.PhotometricInterpretation=3===m.BitsPerSample.length?2:1);m.SamplesPerPixel||(m.SamplesPerPixel=[x]);m.StripByteCounts||(m.StripByteCounts=[x*h*O]);m.ModelPixelScale||(m.ModelPixelScale=[360/O,180/h,0]);m.SampleFormat||(m.SampleFormat=(0,k.times)(x,()=>1));m.hasOwnProperty("GeographicTypeGeoKey")||m.hasOwnProperty("ProjectedCSTypeGeoKey")||(m.GeographicTypeGeoKey=
4326,m.ModelTiepoint=[0,0,0,-180,90,0],m.GeogCitationGeoKey="WGS 84",m.GTModelTypeGeoKey=2);var I=Object.keys(m).filter(F=>(0,k.endsWith)(F,"GeoKey")).sort((F,C)=>p[F]-p[C]);if(!m.GeoAsciiParams){let F="";I.forEach(C=>{"ASCII"===w.fieldTagTypes[Number(p[C])]&&(F+=`${m[C].toString()}\u0000`)});0<F.length&&(m.GeoAsciiParams=F)}if(!m.GeoKeyDirectory){const F=[1,1,0,I.length];I.forEach(C=>{const r=Number(p[C]);F.push(r);let y,K,R;"SHORT"===w.fieldTagTypes[r]?(y=1,K=0,R=m[C]):"GeogCitationGeoKey"===C?
(y=m.GeoAsciiParams.length,K=Number(p.GeoAsciiParams),R=0):console.log(`[geotiff.js] couldn't get TIFFTagLocation for ${C}`);F.push(K);F.push(y);F.push(R)});m.GeoKeyDirectory=F}for(const F in I)I.hasOwnProperty(F)&&delete m[F];"Compression ExtraSamples GeographicTypeGeoKey GTModelTypeGeoKey GTRasterTypeGeoKey ImageLength ImageWidth Orientation PhotometricInterpretation ProjectedCSTypeGeoKey PlanarConfiguration ResolutionUnit SamplesPerPixel XPosition YPosition".split(" ").forEach(F=>{if(m[F]){var C=
m[F];C=Array.isArray(C)?C:[C];m[F]=C}});I=c(m);return b(G,O,h,I)}};
shadow$provide[259]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.timeEnd=A.time=A.error=A.warn=A.info=A.log=A.debug=A.setLogger=void 0;class w{log(){}debug(){}info(){}warn(){}error(){}time(){}timeEnd(){}}let k=new w;A.setLogger=function(p=new w){k=p};A.debug=function(...p){return k.debug(...p)};A.log=function(...p){return k.log(...p)};A.info=function(...p){return k.info(...p)};A.warn=function(...p){return k.warn(...p)};A.error=function(...p){return k.error(...p)};A.time=
function(...p){return k.time(...p)};A.timeEnd=function(...p){return k.timeEnd(...p)}};
shadow$provide[260]=function(Ka,L,sb,A){function w(y){switch(y){case m.fieldTypes.BYTE:case m.fieldTypes.ASCII:case m.fieldTypes.SBYTE:case m.fieldTypes.UNDEFINED:return 1;case m.fieldTypes.SHORT:case m.fieldTypes.SSHORT:return 2;case m.fieldTypes.LONG:case m.fieldTypes.SLONG:case m.fieldTypes.FLOAT:case m.fieldTypes.IFD:return 4;case m.fieldTypes.RATIONAL:case m.fieldTypes.SRATIONAL:case m.fieldTypes.DOUBLE:case m.fieldTypes.LONG8:case m.fieldTypes.SLONG8:case m.fieldTypes.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${y}`);
}}function k(y,K,R,S){let ca,M;const aa=w(K);switch(K){case m.fieldTypes.BYTE:case m.fieldTypes.ASCII:case m.fieldTypes.UNDEFINED:ca=new Uint8Array(R);M=y.readUint8;break;case m.fieldTypes.SBYTE:ca=new Int8Array(R);M=y.readInt8;break;case m.fieldTypes.SHORT:ca=new Uint16Array(R);M=y.readUint16;break;case m.fieldTypes.SSHORT:ca=new Int16Array(R);M=y.readInt16;break;case m.fieldTypes.LONG:case m.fieldTypes.IFD:ca=new Uint32Array(R);M=y.readUint32;break;case m.fieldTypes.SLONG:ca=new Int32Array(R);M=
y.readInt32;break;case m.fieldTypes.LONG8:case m.fieldTypes.IFD8:ca=Array(R);M=y.readUint64;break;case m.fieldTypes.SLONG8:ca=Array(R);M=y.readInt64;break;case m.fieldTypes.RATIONAL:ca=new Uint32Array(2*R);M=y.readUint32;break;case m.fieldTypes.SRATIONAL:ca=new Int32Array(2*R);M=y.readInt32;break;case m.fieldTypes.FLOAT:ca=new Float32Array(R);M=y.readFloat32;break;case m.fieldTypes.DOUBLE:ca=new Float64Array(R);M=y.readFloat64;break;default:throw new RangeError(`Invalid field type: ${K}`);}if(K!==
m.fieldTypes.RATIONAL&&K!==m.fieldTypes.SRATIONAL)for(var Y=0;Y<R;++Y)ca[Y]=M.call(y,S+Y*aa);else for(Y=0;Y<R;Y+=2)ca[Y]=M.call(y,S+Y*aa),ca[Y+1]=M.call(y,S+(Y*aa+4));return K===m.fieldTypes.ASCII?(new TextDecoder("utf-8")).decode(ca):ca}var p=this&&this.__createBinding||(Object.create?function(y,K,R,S){void 0===S&&(S=R);Object.defineProperty(y,S,{enumerable:!0,get:function(){return K[R]}})}:function(y,K,R,S){void 0===S&&(S=R);y[S]=K[R]}),q=this&&this.__setModuleDefault||(Object.create?function(y,
K){Object.defineProperty(y,"default",{enumerable:!0,value:K})}:function(y,K){y["default"]=K});Ka=this&&this.__importStar||function(y){if(y&&y.__esModule)return y;var K={};if(null!=y)for(var R in y)"default"!==R&&Object.prototype.hasOwnProperty.call(y,R)&&p(K,y,R);q(K,y);return K};sb=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{"default":y}};Object.defineProperty(A,"__esModule",{value:!0});A.GeoTIFFImage=A.Pool=A.writeArrayBuffer=A.fromUrls=A.fromBlob=A.fromFile=A.fromArrayBuffer=
A.fromUrl=A.MultiGeoTIFF=A.GeoTIFF=A.setLogger=A.addDecoder=A.getDecoder=A.rgb=A.globals=void 0;const t=sb(L(236));A.GeoTIFFImage=t.default;const n=sb(L(237)),f=sb(L(238));sb=sb(L(241));A.Pool=sb.default;const b=L(254),c=L(255),e=L(256),g=L(257),m=L(221),h=L(258);sb=Ka(L(221));A.globals=sb;Ka=Ka(L(222));A.rgb=Ka;const x=L(234);Object.defineProperty(A,"getDecoder",{enumerable:!0,get:function(){return x.getDecoder}});Object.defineProperty(A,"addDecoder",{enumerable:!0,get:function(){return x.addDecoder}});
const O=L(259);Object.defineProperty(A,"setLogger",{enumerable:!0,get:function(){return O.setLogger}});class G{constructor(y,K,R){this.fileDirectory=y;this.geoKeyDirectory=K;this.nextIFDByteOffset=R}}class I extends Error{constructor(y){super(`No image at index ${y}`);this.index=y}}class F{readRasters(y={}){const K=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const {window:R,width:S,height:ca}=y;let {resX:M,resY:aa,bbox:Y}=y;const ea=yield K.getImage();var Ga=ea,X=yield K.getImageCount(),
D=ea.getBoundingBox();if(R&&Y)throw Error('Both "bbox" and "window" passed.');if(S||ca){if(R){const [Aa,qa]=ea.getOrigin(),[la,Ja]=ea.getResolution();Y=[Aa+R[0]*la,qa+R[1]*Ja,Aa+R[2]*la,qa+R[3]*Ja]}var B=Y||D;if(S){if(M)throw Error("Both width and resX passed");M=(B[2]-B[0])/S}if(ca){if(aa)throw Error("Both width and resY passed");aa=(B[3]-B[1])/ca}}if(M||aa){B=[];for(var N=0;N<X;++N){var Z=yield K.getImage(N);const {SubfileType:Aa,NewSubfileType:qa}=Z.fileDirectory;(0===N||2===Aa||qa&1)&&B.push(Z)}B.sort((Aa,
qa)=>Aa.getWidth()-qa.getWidth());for(X=0;X<B.length&&!(Ga=B[X],N=(D[2]-D[0])/Ga.getWidth(),Z=(D[3]-D[1])/Ga.getHeight(),M&&M>N||aa&&aa>Z);++X);}D=R;if(Y){const [Aa,qa]=ea.getOrigin(),[la,Ja]=Ga.getResolution(ea);D=[Math.round((Y[0]-Aa)/la),Math.round((Y[1]-qa)/Ja),Math.round((Y[2]-Aa)/la),Math.round((Y[3]-qa)/Ja)];D=[Math.min(D[0],D[2]),Math.min(D[1],D[3]),Math.max(D[0],D[2]),Math.max(D[1],D[3])]}return Ga.readRasters(Object.assign({},y,{window:D}))})}}class C extends F{constructor(y,K,R,S,ca={}){super();
this.source=y;this.littleEndian=K;this.bigTiff=R;this.firstIFDOffset=S;this.cache=ca.cache||!1;this.ifdRequests=[];this.ghostValues=null}getSlice(y,K){const R=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const S=R.bigTiff?4048:1024;return new f.default((yield R.source.fetch([{offset:y,length:"undefined"!==typeof K?K:S}]))[0],y,R.littleEndian,R.bigTiff)})}parseFileDirectoryAt(y){const K=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var R=K.bigTiff?20:
12;const S=K.bigTiff?8:2;let ca=yield K.getSlice(y);const M=K.bigTiff?ca.readUint64(y):ca.readUint16(y);var aa=M*R+(K.bigTiff?16:6);ca.covers(y,aa)||(ca=yield K.getSlice(y,aa));aa={};var Y=y+(K.bigTiff?8:2);for(var ea=0;ea<M;Y+=R,++ea){var Ga=ca.readUint16(Y),X=ca.readUint16(Y+2),D=K.bigTiff?ca.readUint64(Y+4):ca.readUint32(Y+4),B=void 0;B=w(X);var N=Y+(K.bigTiff?12:8);B*D<=(K.bigTiff?8:4)?B=k(ca,X,D,N):(B=ca.readOffset(N),N=w(X)*D,ca.covers(B,N)?B=k(ca,X,D,B):(N=yield K.getSlice(B,N),B=k(N,X,D,B)));
X=1===D&&-1===m.arrayFields.indexOf(Ga)&&X!==m.fieldTypes.RATIONAL&&X!==m.fieldTypes.SRATIONAL?B[0]:B;aa[m.fieldTagNames[Ga]]=X}if(ea=aa.GeoKeyDirectory)for(Y={},Ga=4;Ga<=4*ea[3];Ga+=4){X=m.geoKeyNames[ea[Ga]];N=ea[Ga+1]?m.fieldTagNames[ea[Ga+1]]:null;D=ea[Ga+2];B=ea[Ga+3];if(N){N=aa[N];if("undefined"===typeof N||null===N)throw Error(`Could not get value of geoKey '${X}'.`);"string"===typeof N?N=N.substring(B,B+D-1):N.subarray&&(N=N.subarray(B,B+D),1===D&&(N=N[0]))}else N=B;Y[X]=N}else Y=null;R=ca.readOffset(y+
S+R*M);return new G(aa,Y,R)})}requestIFD(y){const K=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(K.ifdRequests[y])return K.ifdRequests[y];if(0===y)return K.ifdRequests[y]=K.parseFileDirectoryAt(K.firstIFDOffset),K.ifdRequests[y];if(!K.ifdRequests[y-1])try{K.ifdRequests[y-1]=K.requestIFD(y-1)}catch(R){if(R instanceof I)throw new I(y);throw R;}K.ifdRequests[y]=(()=>$jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=yield K.ifdRequests[y-1];if(0===R.nextIFDByteOffset)throw new I(y);
return K.parseFileDirectoryAt(R.nextIFDByteOffset)}))();return K.ifdRequests[y]})}getImage(y=0){const K=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const R=yield K.requestIFD(y);return new t.default(R.fileDirectory,R.geoKeyDirectory,K.dataView,K.littleEndian,K.cache,K.source)})}getImageCount(){const y=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){let K=0,R=!0;for(;R;)try{yield y.requestIFD(K),++K}catch(S){if(S instanceof I)R=!1;else throw S;}return K})}getGhostValues(){const y=
this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var K=y.bigTiff?16:8;if(y.ghostValues)return y.ghostValues;let R=yield y.getSlice(K,130);if("GDAL_STRUCTURAL_METADATA_SIZE\x3d"===k(R,m.fieldTypes.ASCII,30,K)){var S=k(R,m.fieldTypes.ASCII,130,K).split("\n")[0];S=Number(S.split("\x3d")[1].split(" ")[0])+S.length;130<S&&(R=yield y.getSlice(K,S));K=k(R,m.fieldTypes.ASCII,S,K);y.ghostValues={};K.split("\n").filter(ca=>0<ca.length).map(ca=>ca.split("\x3d")).forEach(([ca,M])=>{y.ghostValues[ca]=
M})}return y.ghostValues})}static fromSource(y,K,R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){var S=(yield y.fetch([{offset:0,length:1024}],R))[0];S=new n.default(S);var ca=S.getUint16(0,0);if(18761===ca)ca=!0;else if(19789===ca)ca=!1;else throw new TypeError("Invalid byte order value.");var M=S.getUint16(2,ca);if(42===M)M=!1;else if(43===M){if(M=!0,8!==S.getUint16(4,ca))throw Error("Unsupported offset byte-size.");}else throw new TypeError("Invalid magic number.");S=M?S.getUint64(8,
ca):S.getUint32(4,ca);return new C(y,ca,M,S,K)})}close(){return"function"===typeof this.source.close?this.source.close():!1}}A.GeoTIFF=C;A.default=C;class r extends F{constructor(y,K){super();this.mainFile=y;this.overviewFiles=K;this.imageFiles=[y].concat(K);this.imageCount=this.fileDirectoriesPerFileParsing=this.fileDirectoriesPerFile=null}parseFileDirectoriesPerFile(){const y=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const K=[y.mainFile.parseFileDirectoryAt(y.mainFile.firstIFDOffset)].concat(y.overviewFiles.map(R=>
R.parseFileDirectoryAt(R.firstIFDOffset)));y.fileDirectoriesPerFile=yield Promise.all(K);return y.fileDirectoriesPerFile})}getImage(y=0){const K=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){yield K.getImageCount();yield K.parseFileDirectoriesPerFile();var R=0;let S=0;for(let ca=0;ca<K.imageFiles.length;ca++){const M=K.imageFiles[ca];for(let aa=0;aa<K.imageCounts[ca];aa++){if(y===R)return R=yield M.requestIFD(S),new t.default(R.fileDirectory,R.geoKeyDirectory,M.dataView,M.littleEndian,
M.cache,M.source);R++;S++}S=0}throw new RangeError("Invalid image index");})}getImageCount(){const y=this;return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){if(null!==y.imageCount)return y.imageCount;const K=[y.mainFile.getImageCount()].concat(y.overviewFiles.map(R=>R.getImageCount()));y.imageCounts=yield Promise.all(K);y.imageCount=y.imageCounts.reduce((R,S)=>R+S,0);return y.imageCount})}}A.MultiGeoTIFF=r;A.fromUrl=function(y,K={},R){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return C.fromSource((0,b.makeRemoteSource)(y,
K),R)})};A.fromArrayBuffer=function(y,K){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return C.fromSource((0,c.makeBufferSource)(y),K)})};A.fromFile=function(y,K){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return C.fromSource((0,g.makeFileSource)(y),K)})};A.fromBlob=function(y,K){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){return C.fromSource((0,e.makeFileReaderSource)(y),K)})};A.fromUrls=function(y,K=[],R={},S){return $jscomp.asyncExecutePromiseGeneratorFunction(function*(){const ca=
yield C.fromSource((0,b.makeRemoteSource)(y,R),S),M=yield Promise.all(K.map(aa=>C.fromSource((0,b.makeRemoteSource)(aa,R))));return new r(ca,M)})};A.writeArrayBuffer=function(y,K){return(0,h.writeGeotiff)(y,K)}};
shadow$provide[261]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}function k(F,C){if(!F)return!1;if(!0===F)return!0;if(3!==C.getSamplesPerPixel())return!1;F=C.fileDirectory.PhotometricInterpretation;C=g.globals.photometricInterpretations;return F===C.CMYK||F===C.YCbCr||F===C.CIELab||F===C.ICCLab}function p(F){try{return F.getBoundingBox()}catch(C){return F=F.fileDirectory,[0,0,F.ImageWidth,F.ImageLength]}}function q(F){try{return F.getOrigin().slice(0,2)}catch(C){return[0,
F.fileDirectory.ImageLength]}}function t(F,C){try{return F.getResolution(C)}catch(r){return[C.fileDirectory.ImageWidth/F.fileDirectory.ImageWidth,C.fileDirectory.ImageHeight/F.fileDirectory.ImageHeight]}}function n(F){F=F.geoKeys;if(!F)return null;if(F.ProjectedCSTypeGeoKey){var C="EPSG:"+F.ProjectedCSTypeGeoKey,r=(0,m.get)(C);r||(F=(0,O.fromCode)(F.ProjLinearUnitsGeoKey))&&(r=new m.Projection({code:C,units:F}));return r}return F.GeographicTypeGeoKey?(C="EPSG:"+F.GeographicTypeGeoKey,r=(0,m.get)(C),
r||(F=(0,O.fromCode)(F.GeogAngularUnitsGeoKey))&&(r=new m.Projection({code:C,units:F})),r):null}function f(F){return F.getImageCount().then(function(C){const r=Array(C);for(let y=0;y<C;++y)r[y]=F.getImage(y);return Promise.all(r)})}function b(F,C){return(F.blob?(0,g.fromBlob)(F.blob):F.overviews?(0,g.fromUrls)(F.url,F.overviews,C):(0,g.fromUrl)(F.url,C)).then(f)}function c(F,C,r,y,K){if(Array.isArray(F)){const R=F.length;if(!Array.isArray(C)||R!=C.length)throw F=Error(y),K(F),F;for(let S=0;S<R;++S)c(F[S],
C[S],r,y,K)}else if(Math.abs(F-C)>r*F)throw Error(y);}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(214));var e=w(L(196)),g=L(260),m=L(121),h=L(85),x=L(84),O=L(114);let G;class I extends Ka.default{constructor(F){super({state:"loading",tileGrid:null,projection:null,opaque:F.opaque,transition:F.transition,interpolate:!1!==F.interpolate,wrapX:F.wrapX});this.sourceInfo_=F.sources;const C=this.sourceInfo_.length;this.sourceOptions_=F.sourceOptions;this.sourceImagery_=Array(C);
this.sourceMasks_=Array(C);this.resolutionFactors_=Array(C);this.normalize_=!1!==F.normalize;this.addAlpha_=!1;this.error_=null;this.convertToRGB_=F.convertToRGB||!1;this.setKey(this.sourceInfo_.map(y=>y.url).join(","));const r=this;F=Array(C);for(let y=0;y<C;++y)F[y]=b(this.sourceInfo_[y],this.sourceOptions_);Promise.all(F).then(function(y){r.configure_(y)}).catch(function(y){console.error(y);r.error_=y;r.setState("error")})}getError(){return this.error_}configure_(F){let C;var r;let y,K,R;const S=
Array(F.length);var ca=Array(F.length),M=Array(F.length);let aa=0;const Y=F.length;for(var ea=0;ea<Y;++ea){const Z=[],Aa=[];F[ea].forEach(bb=>{4===((bb.fileDirectory.NewSubfileType||0)&4)?Aa.push(bb):Z.push(bb)});var Ga=Z.length;if(0<Aa.length&&Aa.length!==Ga)throw Error(`Expected one mask per image found ${Aa.length} masks and ${Ga} images`);var X=void 0;let qa;const la=Array(Ga),Ja=Array(Ga);var D=Array(Ga);ca[ea]=Array(Ga);M[ea]=Array(Ga);for(let bb=0;bb<Ga;++bb){var B=Z[bb],N=B.getGDALNoData();
M[ea][bb]=B.getGDALMetadata(0);ca[ea][bb]=N;N=this.sourceInfo_[ea].bands;S[ea]=N?N.length:B.getSamplesPerPixel();N=Ga-(bb+1);X||(X=p(B));qa||(qa=q(B));const ib=t(B,Z[0]);D[N]=ib[0];B=[B.getTileWidth(),B.getTileHeight()];la[N]=B;Ja[N]=[B[0],B[1]/(ib[0]/Math.abs(ib[1]))]}C?(0,x.getIntersection)(C,X,C):C=X;r?c(r,qa,0,`Origin mismatch for source ${ea}, got [${qa}] but expected [${r}]`,this.viewRejector):r=qa;if(R){R.length-aa>D.length&&(aa=R.length-D.length);const bb=R[R.length-1]/D[D.length-1];this.resolutionFactors_[ea]=
bb;Ga=D.map(ib=>ib*bb);D=`Resolution mismatch for source ${ea}, got [${Ga}] but expected [${R}]`;c(R.slice(aa,R.length),Ga,.02,D,this.viewRejector)}else R=D,this.resolutionFactors_[ea]=1;y?c(y.slice(aa,y.length),Ja,.01,`Tile size mismatch for source ${ea}`,this.viewRejector):y=Ja;K?c(K.slice(aa,K.length),la,0,`Tile size mismatch for source ${ea}`,this.viewRejector):K=la;this.sourceImagery_[ea]=Z.reverse();this.sourceMasks_[ea]=Aa.reverse()}for(let Z=0,Aa=this.sourceImagery_.length;Z<Aa;++Z)for(ea=
this.sourceImagery_[Z];ea.length<R.length;)ea.unshift(void 0);if(!this.getProjection())for(F=F[0],ea=F.length-1;0<=ea;--ea)if(X=n(F[ea])){this.projection=X;break}this.samplesPerPixel_=S;this.nodataValues_=ca;this.metadata_=M;a:for(M=0;M<Y;++M){if(void 0!==this.sourceInfo_[M].nodata){this.addAlpha_=!0;break}if(this.sourceMasks_[M].length){this.addAlpha_=!0;break}F=ca[M];if(ea=this.sourceInfo_[M].bands)for(X=0;X<ea.length;++X){if(null!==F[ea[X]-1]){this.addAlpha_=!0;break a}}else for(ea=0;ea<F.length;++ea)if(null!==
F[ea]){this.addAlpha_=!0;break a}}ca=this.addAlpha_?1:0;for(M=0;M<Y;++M)ca+=S[M];this.bandCount=ca;this.tileGrid=new e.default({extent:C,minZoom:aa,origin:r,resolutions:R,tileSizes:y});this.setTileSizes(K);this.setLoader(this.loadTile_.bind(this));this.setState("ready");r=0;1===R.length&&(R=[2*R[0],R[0]],r=1);this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:R,center:(0,m.toUserCoordinate)((0,x.getCenter)(C),this.projection),extent:(0,m.toUserExtent)(C,this.projection),zoom:r})}loadTile_(F,
C,r){const y=this.getTileSize(F),K=this.sourceImagery_.length,R=Array(2*K),S=this.nodataValues_,ca=this.sourceInfo_;G||(G=new g.Pool);var M=G;for(let Ga=0;Ga<K;++Ga){var aa=ca[Ga],Y=this.resolutionFactors_[Ga];Y=[Math.round(C*y[0]*Y),Math.round(r*y[1]*Y),Math.round((C+1)*y[0]*Y),Math.round((r+1)*y[1]*Y)];var ea=this.sourceImagery_[Ga][F];let X;aa.bands&&(X=aa.bands.map(function(D){return D-1}));aa="nodata"in aa&&null!==aa.nodata?aa.nodata:X?X.map(function(D){return S[Ga][D]}):S[Ga];aa={window:Y,width:y[0],
height:y[1],samples:X,fillValue:aa,pool:M,interleave:!1};k(this.convertToRGB_,ea)?R[Ga]=ea.readRGB(aa):R[Ga]=ea.readRasters(aa);ea=this.sourceMasks_[Ga][F];R[K+Ga]=ea?ea.readRasters({window:Y,width:y[0],height:y[1],samples:[0],pool:M,interleave:!1}):Promise.resolve(null)}return Promise.all(R).then(this.composeTile_.bind(this,y)).catch(function(Ga){console.error(Ga);throw Ga;})}composeTile_(F,C){const r=this.metadata_,y=this.sourceInfo_,K=this.sourceImagery_.length,R=this.samplesPerPixel_,S=this.nodataValues_,
ca=this.normalize_,M=this.addAlpha_;F=F[0]*F[1];var aa=F*this.bandCount;aa=ca?new Uint8Array(aa):new Float32Array(aa);let Y=0;for(let N=0;N<F;++N){let Z=M;for(let Aa=0;Aa<K;++Aa){var ea=y[Aa],Ga=ea.min,X=ea.max,D=void 0,B=void 0;ca&&(D=r[Aa][0],void 0===Ga&&(D&&"STATISTICS_MINIMUM"in D?B=parseFloat(D.STATISTICS_MINIMUM):(B=C[Aa][0],B=B instanceof Int8Array?-128:B instanceof Int16Array?-32768:B instanceof Int32Array?-2147483648:B instanceof Float32Array?1.2E-38:0),Ga=B),void 0===X&&(D&&"STATISTICS_MAXIMUM"in
D?D=parseFloat(D.STATISTICS_MAXIMUM):(D=C[Aa][0],D=D instanceof Int8Array?127:D instanceof Uint8Array||D instanceof Uint8ClampedArray?255:D instanceof Int16Array?32767:D instanceof Uint16Array?65535:D instanceof Int32Array?2147483647:D instanceof Uint32Array?4294967295:D instanceof Float32Array?3.4E38:255),X=D),D=255/(X-Ga),B=-Ga*D);for(Ga=0;Ga<R[Aa];++Ga){X=C[Aa][Ga][N];let qa;qa=ca?(0,h.clamp)(D*X+B,0,255):X;if(M){let la=ea.nodata;void 0===la&&(la=S[Aa][ea.bands?ea.bands[Ga]-1:Ga]);const Ja=isNaN(la);
if(!Ja&&X!==la||Ja&&!isNaN(X))Z=!1,aa[Y]=qa}else aa[Y]=qa;Y++}Z||(ea=C[K+Aa])&&!ea[0][N]&&(Z=!0)}M&&(Z||(aa[Y]=255),Y++)}return aa}}A.default=I};
shadow$provide[262]=function(Ka,L,sb,A){function w(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CustomTile=void 0;var k=L(113);Ka=w(L(186));var p=w(L(196));sb=w(L(201));var q=w(L(109)),t=L(81),n=L(97),f=L(199),b=L(84),c=L(167);class e extends Ka.default{constructor(m,h,x,O,G,I,F){super(h,x,O,G,I,F);this.zoomifyImage_=null;this.tileSize_=m}getImage(){if(this.zoomifyImage_)return this.zoomifyImage_;const m=super.getImage();if(this.state==q.default.LOADED){var h=
this.tileSize_;if(m.width==h[0]&&m.height==h[1])return this.zoomifyImage_=m;h=(0,n.createCanvasContext2D)(h[0],h[1]);h.drawImage(m,0,0);return this.zoomifyImage_=h.canvas}return m}}A.CustomTile=e;class g extends sb.default{constructor(m){var h=m.size,x=m.tilePixelRatio||1,O=h[0],G=h[1];const I=[],F=m.tileSize||k.DEFAULT_TILE_SIZE;h=F*x;switch(void 0!==m.tierSizeCalculation?m.tierSizeCalculation:"default"){case "default":for(;O>h||G>h;)I.push([Math.ceil(O/h),Math.ceil(G/h)]),h+=h;break;case "truncated":var C=
O;let K=G;for(;C>h||K>h;)I.push([Math.ceil(C/h),Math.ceil(K/h)]),C>>=1,K>>=1;break;default:(0,t.assert)(!1,53)}I.push([1,1]);I.reverse();h=[x];const r=[0];for(let K=1,R=I.length;K<R;K++)h.push(x<<K),r.push(I[K-1][0]*I[K-1][1]+r[K-1]);h.reverse();O=new p.default({tileSize:F,extent:m.extent||[0,-G,O,0],resolutions:h});G=m.url;!G||G.includes("{TileGroup}")||G.includes("{tileIndex}")||(G+="{TileGroup}/{z}-{x}-{y}.jpg");G=(0,f.expandUrl)(G);let y=F*x;G=(0,f.createFromTileUrlFunctions)(G.map(function(K){return function(R,
S,ca){if(R){S=R[0];ca=R[1];R=R[2];const M=ca+R*I[S][0],aa={z:S,x:ca,y:R,tileIndex:M,TileGroup:"TileGroup"+((M+r[S])/y|0)};return K.replace(/\{(\w+?)\}/g,function(Y,ea){return aa[ea]})}}}));C=e.bind(null,(0,c.toSize)(F*x));super({attributions:m.attributions,cacheSize:m.cacheSize,crossOrigin:m.crossOrigin,interpolate:m.interpolate,projection:m.projection,tilePixelRatio:x,reprojectionErrorThreshold:m.reprojectionErrorThreshold,tileClass:C,tileGrid:O,tileUrlFunction:G,transition:m.transition});this.zDirection=
m.zDirection;m=O.getTileCoordForCoordAndResolution((0,b.getCenter)(O.getExtent()),h[h.length-1]);m=G(m,1,null);x=new Image;x.addEventListener("error",function(){y=F;this.changed()}.bind(this));x.src=m}}A.default=g};
shadow$provide[263]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.Versions=void 0;var w=L(81);const k={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"};A.Versions=k;const p={};p[k.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg",
"png"],qualities:["native","color","grey","bitonal"]}};p[k.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByDistortedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default","bitonal"]}};p[k.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx",
"regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:"regionByPx regionSquare regionByPct sizeByW sizeByH sizeByPct sizeByConfinedWh sizeByWh".split(" "),formats:["jpg","png"],qualities:["default"]}};p.none={none:{supports:[],formats:[],qualities:[]}};const q=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,t=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,n=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/,
f={};f[k.VERSION1]=function(c){let e=c.getComplianceLevelSupportedFeatures();void 0===e&&(e=p[k.VERSION1].level0);return{url:void 0===c.imageInfo["@id"]?void 0:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:[...e.formats,void 0===c.imageInfo.formats?[]:c.imageInfo.formats],qualities:[...e.qualities,void 0===c.imageInfo.qualities?[]:c.imageInfo.qualities],resolutions:c.imageInfo.scale_factors,tileSize:void 0!==c.imageInfo.tile_width?void 0!==c.imageInfo.tile_height?
[c.imageInfo.tile_width,c.imageInfo.tile_height]:[c.imageInfo.tile_width,c.imageInfo.tile_width]:void 0!=c.imageInfo.tile_height?[c.imageInfo.tile_height,c.imageInfo.tile_height]:void 0}};f[k.VERSION2]=function(c){const e=c.getComplianceLevelSupportedFeatures();var g=Array.isArray(c.imageInfo.profile)&&1<c.imageInfo.profile.length;const m=g&&c.imageInfo.profile[1].supports?c.imageInfo.profile[1].supports:[],h=g&&c.imageInfo.profile[1].formats?c.imageInfo.profile[1].formats:[];g=g&&c.imageInfo.profile[1].qualities?
c.imageInfo.profile[1].qualities:[];return{url:c.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(x){return[x.width,x.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(x){return x.width})[0],c.imageInfo.tiles.map(function(x){return void 0===x.height?x.width:x.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(x){return x.scaleFactors})[0],supports:[...e.supports,
...m],formats:[...e.formats,...h],qualities:[...e.qualities,...g]}};f[k.VERSION3]=function(c){const e=c.getComplianceLevelSupportedFeatures(),g=void 0===c.imageInfo.extraFormats?e.formats:[...e.formats,...c.imageInfo.extraFormats],m=void 0!==c.imageInfo.preferredFormats&&Array.isArray(c.imageInfo.preferredFormats)&&0<c.imageInfo.preferredFormats.length?c.imageInfo.preferredFormats.filter(function(h){return["jpg","png","gif"].includes(h)}).reduce(function(h,x){return void 0===h&&g.includes(x)?x:h},
void 0):void 0;return{url:c.imageInfo.id,sizes:void 0===c.imageInfo.sizes?void 0:c.imageInfo.sizes.map(function(h){return[h.width,h.height]}),tileSize:void 0===c.imageInfo.tiles?void 0:[c.imageInfo.tiles.map(function(h){return h.width})[0],c.imageInfo.tiles.map(function(h){return h.height})[0]],resolutions:void 0===c.imageInfo.tiles?void 0:c.imageInfo.tiles.map(function(h){return h.scaleFactors})[0],supports:void 0===c.imageInfo.extraFeatures?e.supports:[...e.supports,...c.imageInfo.extraFeatures],
formats:g,qualities:void 0===c.imageInfo.extraQualities?e.qualities:[...e.qualities,...c.imageInfo.extraQualities],preferredFormat:m}};class b{constructor(c){this.setImageInfo(c)}setImageInfo(c){this.imageInfo="string"==typeof c?JSON.parse(c):c}getImageApiVersion(){if(void 0!==this.imageInfo){var c=this.imageInfo["@context"]||"ol-no-context";"string"==typeof c&&(c=[c]);for(let e=0;e<c.length;e++)switch(c[e]){case "http://library.stanford.edu/iiif/image-api/1.1/context.json":case "http://iiif.io/api/image/1/context.json":return k.VERSION1;
case "http://iiif.io/api/image/2/context.json":return k.VERSION2;case "http://iiif.io/api/image/3/context.json":return k.VERSION3;case "ol-no-context":if(this.getComplianceLevelEntryFromProfile(k.VERSION1)&&this.imageInfo.identifier)return k.VERSION1}(0,w.assert)(!1,61)}}getComplianceLevelEntryFromProfile(c){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===c&&(c=this.getImageApiVersion()),c){case k.VERSION1:if(q.test(this.imageInfo.profile))return this.imageInfo.profile;
break;case k.VERSION3:if(n.test(this.imageInfo.profile))return this.imageInfo.profile;break;case k.VERSION2:if("string"===typeof this.imageInfo.profile&&t.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&0<this.imageInfo.profile.length&&"string"===typeof this.imageInfo.profile[0]&&t.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0]}}getComplianceLevelFromProfile(c){c=this.getComplianceLevelEntryFromProfile(c);if(void 0!==c)return c=
c.match(/level[0-2](?:\.json)?$/g),Array.isArray(c)?c[0].replace(".json",""):void 0}getComplianceLevelSupportedFeatures(){if(void 0!==this.imageInfo){var c=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(c);return void 0===e?p.none.none:p[c][e]}}getTileSourceOptions(c){c=c||{};const e=this.getImageApiVersion();if(void 0!==e){var g=void 0===e?void 0:f[e](this);if(void 0!==g)return{url:g.url,version:e,size:[this.imageInfo.width,this.imageInfo.height],sizes:g.sizes,format:void 0!==c.format&&
g.formats.includes(c.format)?c.format:void 0!==g.preferredFormat?g.preferredFormat:"jpg",supports:g.supports,quality:c.quality&&g.qualities.includes(c.quality)?c.quality:g.qualities.includes("native")?"native":"default",resolutions:Array.isArray(g.resolutions)?g.resolutions.sort(function(m,h){return h-m}):void 0,tileSize:g.tileSize}}}}A.default=b};
shadow$provide[264]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}function k(g){return g.toLocaleString("en",{maximumFractionDigits:10})}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=w(L(196));Ka=w(L(201));var q=L(262),t=L(113),n=L(263),f=L(81),b=L(84),c=L(167);class e extends Ka.default{constructor(g){g=g||{};let m=g.url||"";m+=m.lastIndexOf("/")===m.length-1||""===m?"":"/";const h=g.version||n.Versions.VERSION2,x=g.sizes||[];var O=g.size;(0,f.assert)(void 0!=
O&&Array.isArray(O)&&2==O.length&&!isNaN(O[0])&&0<O[0]&&!isNaN(O[1])&&0<O[1],60);const G=O[0],I=O[1];O=g.tileSize;const F=g.tilePixelRatio||1,C=g.format||"jpg",r=g.quality||(g.version==n.Versions.VERSION1?"native":"default");let y=g.resolutions||[];const K=g.supports||[];var R=g.extent||[0,-I,G,0];const S=void 0!=x&&Array.isArray(x)&&0<x.length,ca=void 0!==O&&("number"===typeof O&&Number.isInteger(O)&&0<O||Array.isArray(O)&&0<O.length),M=void 0!=K&&Array.isArray(K)&&(K.includes("regionByPx")||K.includes("regionByPct"))&&
(K.includes("sizeByWh")||K.includes("sizeByH")||K.includes("sizeByW")||K.includes("sizeByPct"));let aa,Y,ea;y.sort(function(D,B){return B-D});if(ca||M){if(void 0!=O)if("number"===typeof O&&Number.isInteger(O)&&0<O)Y=aa=O;else if(Array.isArray(O)&&0<O.length){if(1==O.length||void 0==O[1]&&Number.isInteger(O[0]))aa=O[0],Y=O[0];2==O.length&&(Number.isInteger(O[0])&&Number.isInteger(O[1])?(aa=O[0],Y=O[1]):void 0==O[0]&&Number.isInteger(O[1])&&(aa=O[1],Y=O[1]))}if(void 0===aa||void 0===Y)Y=aa=t.DEFAULT_TILE_SIZE;
if(0==y.length){ea=Math.max(Math.ceil(Math.log(G/aa)/Math.LN2),Math.ceil(Math.log(I/Y)/Math.LN2));for(var Ga=ea;0<=Ga;Ga--)y.push(Math.pow(2,Ga))}else Ga=Math.max(...y),ea=Math.round(Math.log(Ga)/Math.LN2)}else if(aa=G,Y=I,y=[],S){x.sort(function(D,B){return D[0]-B[0]});ea=-1;Ga=[];for(var X=0;X<x.length;X++){const D=G/x[X][0];0<y.length&&y[y.length-1]==D?Ga.push(X):(y.push(D),ea++)}if(0<Ga.length)for(X=0;X<Ga.length;X++)x.splice(Ga[X]-X,1)}else y.push(1),x.push([G,I]),ea=0;R=new p.default({tileSize:[aa,
Y],extent:R,origin:(0,b.getTopLeft)(R),resolutions:y});O=q.CustomTile.bind(null,(0,c.toSize)(O||256).map(function(D){return D*F}));super({attributions:g.attributions,attributionsCollapsible:g.attributionsCollapsible,cacheSize:g.cacheSize,crossOrigin:g.crossOrigin,interpolate:g.interpolate,projection:g.projection,reprojectionErrorThreshold:g.reprojectionErrorThreshold,state:g.state,tileClass:O,tileGrid:R,tilePixelRatio:g.tilePixelRatio,tileUrlFunction:function(D,B,N){var Z;B=D[0];if(!(B>ea)){N=D[1];
var Aa=D[2];D=y[B];if(!(void 0===N||void 0===Aa||void 0===D||0>N||Math.ceil(G/D/aa)<=N||0>Aa||Math.ceil(I/D/Y)<=Aa)){if(M||ca){var qa=N*aa*D;const bb=Aa*Y*D;var la=aa*D;Aa=Y*D;B=aa;N=Y;qa+la>G&&(la=G-qa);bb+Aa>I&&(Aa=I-bb);qa+aa*D>G&&(B=Math.floor((G-qa+D-1)/D));bb+Y*D>I&&(N=Math.floor((I-bb+D-1)/D));if(0==qa&&la==G&&0==bb&&Aa==I)var Ja="full";else!M||K.includes("regionByPx")?Ja=qa+","+bb+","+la+","+Aa:K.includes("regionByPct")&&(Ja=k(qa/G*100),qa=k(bb/I*100),la=k(la/G*100),Aa=k(Aa/I*100),Ja="pct:"+
Ja+","+qa+","+la+","+Aa);h!=n.Versions.VERSION3||M&&!K.includes("sizeByWh")?!M||K.includes("sizeByW")?Z=B+",":K.includes("sizeByH")?Z=","+N:K.includes("sizeByWh")?Z=B+","+N:K.includes("sizeByPct")&&(Z="pct:"+k(100/D)):Z=B+","+N}else Ja="full",S?(Z=x[B][0],D=x[B][1],Z=h==n.Versions.VERSION3?Z==G&&D==I?"max":Z+","+D:Z==G?"full":Z+","):Z=h==n.Versions.VERSION3?"max":"full";return m+Ja+"/"+Z+"/0/"+r+"."+C}}},transition:g.transition});this.zDirection=g.zDirection}}A.default=e};
shadow$provide[265]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=L(187),p=w(L(72));Ka=w(L(183));var q=w(L(184)),t=w(L(188)),n=L(189),f=L(84),b=L(73);class c extends Ka.default{constructor(e,g,m,h,x,O,G){const I=e.getExtent();var F=g.getExtent(),C=F?(0,f.getIntersection)(m,F):m;F=(0,f.getCenter)(C);F=(0,n.calculateSourceResolution)(e,g,F,h);e=new t.default(e,g,C,I,F*k.ERROR_THRESHOLD,h);C=e.calculateSourceExtent();
O=(x=O(C,F,x))?q.default.IDLE:q.default.EMPTY;F=x?x.getPixelRatio():1;super(m,h,F,O);this.targetProj_=g;this.maxSourceExtent_=I;this.triangulation_=e;this.targetResolution_=h;this.targetExtent_=m;this.sourceImage_=x;this.sourcePixelRatio_=F;this.interpolate_=G;this.sourceListenerKey_=this.canvas_=null}disposeInternal(){this.state==q.default.LOADING&&this.unlistenSource_();super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();
if(e==q.default.LOADED){const g=(0,f.getWidth)(this.targetExtent_)/this.targetResolution_,m=(0,f.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,n.render)(g,m,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_)}this.state=e;this.changed()}load(){if(this.state==q.default.IDLE){this.state=
q.default.LOADING;this.changed();const e=this.sourceImage_.getState();e==q.default.LOADED||e==q.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,b.listen)(this.sourceImage_,p.default.CHANGE,function(g){g=this.sourceImage_.getState();if(g==q.default.LOADED||g==q.default.ERROR)this.unlistenSource_(),this.reproject_()},this),this.sourceImage_.load())}}unlistenSource_(){(0,b.unlistenByKey)(this.sourceListenerKey_);this.sourceListenerKey_=null}}A.default=c};
shadow$provide[266]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.defaultImageLoadFunction=function(g,m){g.getImage().src=m};A.default=A.ImageSourceEvent=A.ImageSourceEventType=void 0;Ka=w(L(65));var k=w(L(184)),p=w(L(265));sb=w(L(194));var q=L(75),t=L(84),n=L(121),f=L(68);const b={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};A.ImageSourceEventType=b;class c extends Ka.default{constructor(g,
m){super(g);this.image=m}}A.ImageSourceEvent=c;class e extends sb.default{constructor(g){super({attributions:g.attributions,projection:g.projection,state:g.state,interpolate:void 0!==g.interpolate?g.interpolate:!0});this.resolutions_=void 0!==g.resolutions?g.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0}getResolutions(){return this.resolutions_}findNearestResolution(g){this.resolutions_&&(g=(0,f.linearFindNearest)(this.resolutions_,g,0),g=this.resolutions_[g]);return g}getImage(g,
m,h,x){const O=this.getProjection();if(O&&x&&!(0,n.equivalent)(O,x)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,n.equivalent)(this.reprojectedImage_.getProjection(),x)&&this.reprojectedImage_.getResolution()==m&&(0,t.equals)(this.reprojectedImage_.getExtent(),g))return this.reprojectedImage_;this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new p.default(O,x,g,m,h,function(G,I,F){return this.getImageInternal(G,I,F,O)}.bind(this),
this.getInterpolate());this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}O&&(x=O);return this.getImageInternal(g,m,h,x)}getImageInternal(g,m,h,x){return(0,q.abstract)()}handleImageChange(g){g=g.target;let m;switch(g.getState()){case k.default.LOADING:this.loading=!0;m=b.IMAGELOADSTART;break;case k.default.LOADED:this.loading=!1;m=b.IMAGELOADEND;break;case k.default.ERROR:this.loading=!1;m=b.IMAGELOADERROR;break;default:return}this.hasListener(m)&&this.dispatchEvent(new c(m,
g))}}A.default=e};
shadow$provide[267]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.appendParams=function(w,k){const p=[];Object.keys(k).forEach(function(t){null!==k[t]&&void 0!==k[t]&&p.push(t+"\x3d"+encodeURIComponent(k[t]))});const q=p.join("\x26");w=w.replace(/[?&]$/,"");w+=w.includes("?")?"\x26":"?";return w+q}};
shadow$provide[268]=function(Ka,L,sb,A){function w(e){if("function"!==typeof WeakMap)return null;var g=new WeakMap,m=new WeakMap;return(w=function(h){return h?m:g})(e)}function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(e,g){if(!g&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};if((g=w(g))&&g.has(e))return g.get(e);var m={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor,
x;for(x in e)if("default"!==x&&Object.prototype.hasOwnProperty.call(e,x)){var O=h?Object.getOwnPropertyDescriptor(e,x):null;O&&(O.get||O.set)?Object.defineProperty(m,x,O):m[x]=e[x]}m.default=e;g&&g.set(e,m);return m}(L(266)),t=k(L(185)),n=L(267),f=L(81),b=L(84);class c extends q.default{constructor(e){e=e?e:{};super({attributions:e.attributions,interpolate:e.interpolate,projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;this.hidpi_=void 0!==
e.hidpi?e.hidpi:!0;this.url_=e.url;this.imageLoadFunction_=void 0!==e.imageLoadFunction?e.imageLoadFunction:q.defaultImageLoadFunction;this.params_=e.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=void 0!==e.ratio?e.ratio:1.5}getParams(){return this.params_}getImageInternal(e,g,m,h){if(void 0===this.url_)return null;g=this.findNearestResolution(g);m=this.hidpi_?m:1;var x=this.image_;if(x&&this.renderedRevision_==this.getRevision()&&x.getResolution()==g&&x.getPixelRatio()==
m&&(0,b.containsExtent)(x.getExtent(),e))return x;x={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(x,this.params_);e=e.slice();const O=(e[0]+e[2])/2,G=(e[1]+e[3])/2;if(1!=this.ratio_){var I=this.ratio_*(0,b.getWidth)(e)/2,F=this.ratio_*(0,b.getHeight)(e)/2;e[0]=O-I;e[1]=G-F;e[2]=O+I;e[3]=G+F}I=g/m;F=Math.ceil((0,b.getWidth)(e)/I);const C=Math.ceil((0,b.getHeight)(e)/I);e[0]=O-I*F/2;e[2]=O+I*F/2;e[1]=G-I*C/2;e[3]=G+I*C/2;this.imageSize_[0]=F;this.imageSize_[1]=C;h=this.getRequestUrl_(e,this.imageSize_,
m,h,x);this.image_=new t.default(e,g,m,h,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this));return this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(e,g,m,h,x){h=h.getCode().split(/:(?=\d+$)/).pop();x.SIZE=g[0]+","+g[1];x.BBOX=e.join(",");x.BBOXSR=h;x.IMAGESR=h;x.DPI=Math.round(90*m);e=this.url_;g=e.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,
"ImageServer/exportImage");g==e&&(0,f.assert)(!1,50);return(0,n.appendParams)(g,x)}getUrl(){return this.url_}setImageLoadFunction(e){this.image_=null;this.imageLoadFunction_=e;this.changed()}setUrl(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())}updateParams(e){Object.assign(this.params_,e);this.image_=null;this.changed()}}A.default=c};
shadow$provide[269]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(183));var k=w(L(184));class p extends Ka.default{constructor(q,t,n,f,b){super(q,t,n,void 0!==b?k.default.IDLE:k.default.LOADED);this.loader_=void 0!==b?b:null;this.canvas_=f;this.error_=null}getError(){return this.error_}handleLoad_(q){q?(this.error_=q,this.state=k.default.ERROR):this.state=k.default.LOADED;this.changed()}load(){this.state==
k.default.IDLE&&(this.state=k.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}A.default=p};
shadow$provide[270]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(269));Ka=w(L(266));var p=L(84);class q extends Ka.default{constructor(t){t=t?t:{};super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state});this.canvasFunction_=t.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=void 0!==t.ratio?t.ratio:1.5}getImageInternal(t,
n,f,b){n=this.findNearestResolution(n);let c=this.canvas_;if(c&&this.renderedRevision_==this.getRevision()&&c.getResolution()==n&&c.getPixelRatio()==f&&(0,p.containsExtent)(c.getExtent(),t))return c;t=t.slice();(0,p.scaleFromCenter)(t,this.ratio_);const e=(0,p.getWidth)(t)/n,g=(0,p.getHeight)(t)/n;(b=this.canvasFunction_.call(this,t,n,f,[e*f,g*f],b))&&(c=new k.default(t,n,f,b));this.canvas_=c;this.renderedRevision_=this.getRevision();return c}}A.default=q};
shadow$provide[271]=function(Ka,L,sb,A){function w(c){if("function"!==typeof WeakMap)return null;var e=new WeakMap,g=new WeakMap;return(w=function(m){return m?g:e})(c)}function k(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(c,e){if(!e&&c&&c.__esModule)return c;if(null===c||"object"!==typeof c&&"function"!==typeof c)return{default:c};if((e=w(e))&&e.has(c))return e.get(c);var g={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor,
h;for(h in c)if("default"!==h&&Object.prototype.hasOwnProperty.call(c,h)){var x=m?Object.getOwnPropertyDescriptor(c,h):null;x&&(x.get||x.set)?Object.defineProperty(g,h,x):g[h]=c[h]}g.default=c;e&&e.set(c,g);return g}(L(266)),t=k(L(185)),n=L(267),f=L(84);class b extends q.default{constructor(c){super({interpolate:c.interpolate,projection:c.projection,resolutions:c.resolutions});this.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;this.displayDpi_=void 0!==c.displayDpi?c.displayDpi:96;this.params_=
c.params||{};this.url_=c.url;this.imageLoadFunction_=void 0!==c.imageLoadFunction?c.imageLoadFunction:q.defaultImageLoadFunction;this.hidpi_=void 0!==c.hidpi?c.hidpi:!0;this.metersPerUnit_=void 0!==c.metersPerUnit?c.metersPerUnit:1;this.ratio_=void 0!==c.ratio?c.ratio:1;this.useOverlay_=void 0!==c.useOverlay?c.useOverlay:!1;this.image_=null;this.renderedRevision_=0}getParams(){return this.params_}getImageInternal(c,e,g,m){e=this.findNearestResolution(e);g=this.hidpi_?g:1;var h=this.image_;if(h&&this.renderedRevision_==
this.getRevision()&&h.getResolution()==e&&h.getPixelRatio()==g&&(0,f.containsExtent)(h.getExtent(),c))return h;1!=this.ratio_&&(c=c.slice(),(0,f.scaleFromCenter)(c,this.ratio_));h=(0,f.getWidth)(c)/e;const x=(0,f.getHeight)(c)/e;h=[h*g,x*g];void 0!==this.url_?(m=this.getUrl(this.url_,this.params_,c,h,m),h=new t.default(c,e,g,m,this.crossOrigin_,this.imageLoadFunction_),h.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this))):h=null;this.image_=h;this.renderedRevision_=this.getRevision();
return h}getImageLoadFunction(){return this.imageLoadFunction_}updateParams(c){Object.assign(this.params_,c);this.changed()}getUrl(c,e,g,m,h){{h=this.metersPerUnit_;var x=this.displayDpi_;const O=(0,f.getWidth)(g),G=(0,f.getHeight)(g),I=m[0],F=m[1];x=.0254/x;h=F*O>I*G?O*h/(I*x):G*h/(F*x)}g=(0,f.getCenter)(g);m={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(m[0]),
SETDISPLAYHEIGHT:Math.round(m[1]),SETVIEWSCALE:h,SETVIEWCENTERX:g[0],SETVIEWCENTERY:g[1]};Object.assign(m,e);return(0,n.appendParams)(c,m)}setImageLoadFunction(c){this.image_=null;this.imageLoadFunction_=c;this.changed()}}A.default=b};
shadow$provide[272]=function(Ka,L,sb,A){function w(g){if("function"!==typeof WeakMap)return null;var m=new WeakMap,h=new WeakMap;return(w=function(x){return x?h:m})(g)}function k(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(g,m){if(!m&&g&&g.__esModule)return g;if(null===g||"object"!==typeof g&&"function"!==typeof g)return{default:g};if((m=w(m))&&m.has(g))return m.get(g);var h={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor,
O;for(O in g)if("default"!==O&&Object.prototype.hasOwnProperty.call(g,O)){var G=x?Object.getOwnPropertyDescriptor(g,O):null;G&&(G.get||G.set)?Object.defineProperty(h,O,G):h[O]=g[O]}h.default=g;m&&m.set(g,h);return h}(L(266)),t=k(L(184)),n=k(L(185)),f=L(97),b=L(84),c=L(121);class e extends q.default{constructor(g){const m=void 0!==g.crossOrigin?g.crossOrigin:null,h=void 0!==g.imageLoadFunction?g.imageLoadFunction:q.defaultImageLoadFunction;super({attributions:g.attributions,interpolate:g.interpolate,
projection:(0,c.get)(g.projection)});this.url_=g.url;this.imageExtent_=g.imageExtent;this.image_=new n.default(this.imageExtent_,void 0,1,this.url_,m,h);this.imageSize_=g.imageSize?g.imageSize:null;this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this))}getImageExtent(){return this.imageExtent_}getImageInternal(g,m,h,x){return(0,b.intersects)(g,this.image_.getExtent())?this.image_:null}getUrl(){return this.url_}handleImageChange(g){if(this.image_.getState()==t.default.LOADED){var m=
this.image_.getExtent();const x=this.image_.getImage();let O,G;this.imageSize_?(O=this.imageSize_[0],G=this.imageSize_[1]):(O=x.width,G=x.height);var h=(0,b.getWidth)(m);m=(0,b.getHeight)(m);const I=h/O,F=m/G;let C=O,r=G;I>F?C=Math.round(h/F):r=Math.round(m/I);if(C!==O||r!==G)h=(0,f.createCanvasContext2D)(C,r),this.getInterpolate()||(h.imageSmoothingEnabled=!1),m=h.canvas,h.drawImage(x,0,0,O,G,0,0,m.width,m.height),this.image_.setImage(m)}super.handleImageChange(g)}}A.default=e};
shadow$provide[273]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.DEFAULT_VERSION="1.3.0"};
shadow$provide[274]=function(Ka,L,sb,A){function w(G){if("function"!==typeof WeakMap)return null;var I=new WeakMap,F=new WeakMap;return(w=function(C){return C?F:I})(G)}function k(G){return G&&G.__esModule?G:{default:G}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(72)),q=function(G,I){if(!I&&G&&G.__esModule)return G;if(null===G||"object"!==typeof G&&"function"!==typeof G)return{default:G};if((I=w(I))&&I.has(G))return I.get(G);var F={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor,
r;for(r in G)if("default"!==r&&Object.prototype.hasOwnProperty.call(G,r)){var y=C?Object.getOwnPropertyDescriptor(G,r):null;y&&(y.get||y.set)?Object.defineProperty(F,r,y):F[r]=G[r]}F.default=G;I&&I.set(G,F);return F}(L(266)),t=k(L(185)),n=L(273),f=L(267),b=L(81),c=L(189),e=L(85),g=L(92),m=L(84),h=L(121);const x=[101,101];class O extends q.default{constructor(G){G=G?G:{};super({attributions:G.attributions,interpolate:G.interpolate,projection:G.projection,resolutions:G.resolutions});this.crossOrigin_=
void 0!==G.crossOrigin?G.crossOrigin:null;this.url_=G.url;this.imageLoadFunction_=void 0!==G.imageLoadFunction?G.imageLoadFunction:q.defaultImageLoadFunction;this.params_=Object.assign({},G.params);this.v13_=!0;this.updateV13_();this.serverType_=G.serverType;this.hidpi_=void 0!==G.hidpi?G.hidpi:!0;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=void 0!==G.ratio?G.ratio:1.5}getFeatureInfoUrl(G,I,F,C){if(void 0!==this.url_){F=(0,h.get)(F);var r=this.getProjection();r&&r!==
F&&(I=(0,c.calculateSourceResolution)(r,F,G,I),G=(0,h.transform)(G,F,r));var y=(0,m.getForViewAndSize)(G,I,0,x),K={SERVICE:"WMS",VERSION:n.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(K,this.params_,C);C=(0,e.floor)((G[0]-y[0])/I,4);G=(0,e.floor)((y[3]-G[1])/I,4);K[this.v13_?"I":"X"]=C;K[this.v13_?"J":"Y"]=G;return this.getRequestUrl_(y,x,1,r||F,K)}}getLegendUrl(G,I){if(void 0!==this.url_){var F={SERVICE:"WMS",VERSION:n.DEFAULT_VERSION,
REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===I||void 0===I.LAYER){var C=this.params_.LAYERS;if(Array.isArray(C)&&1!==C.length)return;F.LAYER=C}void 0!==G&&(C=this.getProjection()?this.getProjection().getMetersPerUnit():1,F.SCALE=G*C/2.8E-4);Object.assign(F,I);return(0,f.appendParams)(this.url_,F)}}getParams(){return this.params_}getImageInternal(G,I,F,C){if(void 0===this.url_)return null;I=this.findNearestResolution(I);1==F||this.hidpi_&&void 0!==this.serverType_||(F=1);const r=I/F;
var y=(0,m.getCenter)(G),K=(0,e.ceil)((0,m.getWidth)(G)/r,4),R=(0,e.ceil)((0,m.getHeight)(G)/r,4);K=(0,m.getForViewAndSize)(y,r,0,[K,R]);R=(0,e.ceil)(this.ratio_*(0,m.getWidth)(G)/r,4);G=(0,e.ceil)(this.ratio_*(0,m.getHeight)(G)/r,4);y=(0,m.getForViewAndSize)(y,r,0,[R,G]);if((G=this.image_)&&this.renderedRevision_==this.getRevision()&&G.getResolution()==I&&G.getPixelRatio()==F&&(0,m.containsExtent)(G.getExtent(),K))return G;K={SERVICE:"WMS",VERSION:n.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",
TRANSPARENT:!0};Object.assign(K,this.params_);this.imageSize_[0]=(0,e.round)((0,m.getWidth)(y)/r,4);this.imageSize_[1]=(0,e.round)((0,m.getHeight)(y)/r,4);C=this.getRequestUrl_(y,this.imageSize_,F,C,K);this.image_=new t.default(y,I,F,C,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();this.image_.addEventListener(p.default.CHANGE,this.handleImageChange.bind(this));return this.image_}getImageLoadFunction(){return this.imageLoadFunction_}getRequestUrl_(G,I,F,C,r){(0,b.assert)(void 0!==
this.url_,9);r[this.v13_?"CRS":"SRS"]=C.getCode();"STYLES"in this.params_||(r.STYLES="");if(1!=F)switch(this.serverType_){case "geoserver":F=90*F+.5|0;r.FORMAT_OPTIONS="FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+(";dpi:"+F):"dpi:"+F;break;case "mapserver":r.MAP_RESOLUTION=90*F;break;case "carmentaserver":case "qgis":r.DPI=90*F;break;default:(0,b.assert)(!1,8)}r.WIDTH=I[0];r.HEIGHT=I[1];I=C.getAxisOrientation();G=this.v13_&&"ne"==I.substr(0,2)?[G[1],G[0],G[3],G[2]]:G;r.BBOX=G.join(",");return(0,f.appendParams)(this.url_,
r)}getUrl(){return this.url_}setImageLoadFunction(G){this.image_=null;this.imageLoadFunction_=G;this.changed()}setUrl(G){G!=this.url_&&(this.url_=G,this.image_=null,this.changed())}updateParams(G){Object.assign(this.params_,G);this.updateV13_();this.image_=null;this.changed()}updateV13_(){this.v13_=0<=(0,g.compareVersions)(this.params_.VERSION||n.DEFAULT_VERSION,"1.3")}}A.default=O};
shadow$provide[275]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=A.ATTRIBUTION=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(204));A.ATTRIBUTION='\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.';class w extends Ka.default{constructor(k){k=k||{};super({attributions:void 0!==k.attributions?k.attributions:['\x26#169; \x3ca href\x3d"https://www.openstreetmap.org/copyright" target\x3d"_blank"\x3eOpenStreetMap\x3c/a\x3e contributors.'],
attributionsCollapsible:!1,cacheSize:k.cacheSize,crossOrigin:void 0!==k.crossOrigin?k.crossOrigin:"anonymous",interpolate:k.interpolate,maxZoom:void 0!==k.maxZoom?k.maxZoom:19,opaque:void 0!==k.opaque?k.opaque:!0,reprojectionErrorThreshold:k.reprojectionErrorThreshold,tileLoadFunction:k.tileLoadFunction,transition:k.transition,url:void 0!==k.url?k.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:k.wrapX,zDirection:k.zDirection})}}A.default=w};
shadow$provide[276]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(91));class w extends Ka.default{constructor(k){k=k?k:{};super(k)}}A.default=w};
shadow$provide[277]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(184));Ka=w(L(74));var q=L(75);class t extends Ka.default{constructor(n){super();this.ready=!0;this.boundHandleImageChange_=this.handleImageChange_.bind(this);this.layer_=n;this.declutterExecutorGroup=null}getFeatures(n){return(0,q.abstract)()}getData(n){return null}prepareFrame(n){return(0,q.abstract)()}renderFrame(n,f){return(0,q.abstract)()}loadedTileCallback(n,
f,b){n[f]||(n[f]={});n[f][b.tileCoord.toString()]=b}createLoadedTileFinder(n,f,b){return function(c,e){const g=this.loadedTileCallback.bind(this,b,c);return n.forEachLoadedTile(f,c,e,g)}.bind(this)}forEachFeatureAtCoordinate(n,f,b,c,e){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(n){n.target.getState()===p.default.LOADED&&this.renderIfReadyAndVisible()}loadImage(n){let f=n.getState();f!=p.default.LOADED&&f!=p.default.ERROR&&n.addEventListener(k.default.CHANGE,this.boundHandleImageChange_);
f==p.default.IDLE&&(n.load(),f=n.getState());return f==p.default.LOADED}renderIfReadyAndVisible(){const n=this.getLayer();n&&n.getVisible()&&"ready"===n.getSourceState()&&n.changed()}disposeInternal(){delete this.layer_;super.disposeInternal()}}A.default=t};
shadow$provide[278]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.canvasPool=void 0;Ka=w(L(277));var k=w(L(95)),p=w(L(90)),q=L(82),t=L(86),n=L(97),f=L(68),b=L(84);A.canvasPool=[];let c=null;class e extends Ka.default{constructor(g){super(g);this.container=null;this.tempTransform=(0,q.create)();this.pixelTransform=(0,q.create)();this.inversePixelTransform=(0,q.create)();this.context=null;this.containerReused=!1;this.frameState=
this.pixelContext_=null}getImageData(g,m,h){if(!c){const O=document.createElement("canvas");O.width=1;O.height=1;c=O.getContext("2d")}c.clearRect(0,0,1,1);let x;try{c.drawImage(g,m,h,1,1,0,0,1,1),x=c.getImageData(0,0,1,1).data}catch(O){return c=null}return x}getBackground(g){let m=this.getLayer().getBackground();"function"===typeof m&&(m=m(g.viewState.resolution));return m||void 0}useContainer(g,m,h){var x=this.getLayer().getClassName();let O;if(g&&g.className===x&&(!h||g&&g.style.backgroundColor&&
(0,f.equals)((0,t.asArray)(g.style.backgroundColor),(0,t.asArray)(h)))){const G=g.firstElementChild;G instanceof HTMLCanvasElement&&(O=G.getContext("2d"))}O&&O.canvas.style.transform===m?(this.container=g,this.context=O,this.containerReused=!0):this.containerReused&&(this.context=this.container=null,this.containerReused=!1);this.container||(g=document.createElement("div"),g.className=x,x=g.style,x.position="absolute",x.width="100%",x.height="100%",O=(0,n.createCanvasContext2D)(),x=O.canvas,g.appendChild(x),
x=x.style,x.position="absolute",x.left="0",x.transformOrigin="top left",this.container=g,this.context=O);this.containerReused||!h||this.container.style.backgroundColor||(this.container.style.backgroundColor=h)}clipUnrotated(g,m,h){const x=(0,b.getTopLeft)(h),O=(0,b.getTopRight)(h),G=(0,b.getBottomRight)(h);h=(0,b.getBottomLeft)(h);(0,q.apply)(m.coordinateToPixelTransform,x);(0,q.apply)(m.coordinateToPixelTransform,O);(0,q.apply)(m.coordinateToPixelTransform,G);(0,q.apply)(m.coordinateToPixelTransform,
h);m=this.inversePixelTransform;(0,q.apply)(m,x);(0,q.apply)(m,O);(0,q.apply)(m,G);(0,q.apply)(m,h);g.save();g.beginPath();g.moveTo(Math.round(x[0]),Math.round(x[1]));g.lineTo(Math.round(O[0]),Math.round(O[1]));g.lineTo(Math.round(G[0]),Math.round(G[1]));g.lineTo(Math.round(h[0]),Math.round(h[1]));g.clip()}dispatchRenderEvent_(g,m,h){const x=this.getLayer();x.hasListener(g)&&(g=new k.default(g,this.inversePixelTransform,h,m),x.dispatchEvent(g))}preRender(g,m){this.frameState=m;this.dispatchRenderEvent_(p.default.PRERENDER,
g,m)}postRender(g,m){this.dispatchRenderEvent_(p.default.POSTRENDER,g,m)}getRenderTransform(g,m,h,x,O,G,I){m=x/m;return(0,q.compose)(this.tempTransform,O/2,G/2,m,-m,-h,-g[0]+I,-g[1])}disposeInternal(){delete this.frameState;super.disposeInternal()}}A.default=e};
shadow$provide[279]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(278));var k=w(L(184)),p=w(L(111)),q=L(82),t=L(84),n=L(121);class f extends Ka.default{constructor(b){super(b);this.image_=null}getImage(){return this.image_?this.image_.getImage():null}prepareFrame(b){var c=b.layerStatesArray[b.layerIndex];const e=b.pixelRatio,g=b.viewState,m=g.resolution,h=this.getLayer().getSource(),x=b.viewHints;b=b.extent;
void 0!==c.extent&&(b=(0,t.getIntersection)(b,(0,n.fromUserExtent)(c.extent,g.projection)));if(!x[p.default.ANIMATING]&&!x[p.default.INTERACTING]&&!(0,t.isEmpty)(b))if(h){if(c=h.getImage(b,m,e,g.projection))this.loadImage(c)?this.image_=c:c.getState()===k.default.EMPTY&&(this.image_=null)}else this.image_=null;return!!this.image_}getData(b){var c=this.frameState;if(!c)return null;var e=this.getLayer();b=(0,q.apply)(c.pixelToCoordinateTransform,b.slice());if((e=e.getExtent())&&!(0,t.containsCoordinate)(e,
b))return null;c=this.image_.getExtent();e=this.image_.getImage();var g=(0,t.getWidth)(c);g=Math.floor((b[0]-c[0])/g*e.width);if(0>g||g>=e.width)return null;const m=(0,t.getHeight)(c);b=Math.floor((c[3]-b[1])/m*e.height);return 0>b||b>=e.height?null:this.getImageData(e,g,b)}renderFrame(b,c){var e=this.image_,g=e.getExtent(),m=e.getResolution(),h=e.getPixelRatio(),x=b.layerStatesArray[b.layerIndex],O=b.pixelRatio,G=b.viewState;const I=G.center,F=O*m/(G.resolution*h);var C=b.extent,r=G.resolution,y=
G.rotation;const K=Math.round((0,t.getWidth)(C)/r*O),R=Math.round((0,t.getHeight)(C)/r*O);(0,q.compose)(this.pixelTransform,b.size[0]/2,b.size[1]/2,1/O,1/O,y,-K/2,-R/2);(0,q.makeInverse)(this.inversePixelTransform,this.pixelTransform);y=(0,q.toString)(this.pixelTransform);this.useContainer(c,y,this.getBackground(b));c=this.context;C=c.canvas;C.width!=K||C.height!=R?(C.width=K,C.height=R):this.containerReused||c.clearRect(0,0,K,R);r=!1;let S=!0;x.extent&&(G=(0,n.fromUserExtent)(x.extent,G.projection),
(r=(S=(0,t.intersects)(G,b.extent))&&!(0,t.containsExtent)(G,b.extent))&&this.clipUnrotated(c,b,G));e=e.getImage();g=(0,q.compose)(this.tempTransform,K/2,R/2,F,F,0,h*(g[0]-I[0])/m,h*(I[1]-g[3])/m);this.renderedResolution=m*O/h;m=e.width*g[0];h=e.height*g[3];this.getLayer().getSource().getInterpolate()||(c.imageSmoothingEnabled=!1);this.preRender(c,b);if(S&&.5<=m&&.5<=h){O=g[4];g=g[5];x=x.opacity;let ca;1!==x&&(ca=c.globalAlpha,c.globalAlpha=x);c.drawImage(e,0,0,+e.width,+e.height,O,g,m,h);1!==x&&
(c.globalAlpha=ca)}this.postRender(c,b);r&&c.restore();c.imageSmoothingEnabled=!0;y!==C.style.transform&&(C.style.transform=y);return this.container}}A.default=f};
shadow$provide[280]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(276));var k=w(L(279));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}getData(q){return super.getData(q)}}A.default=p};
shadow$provide[281]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"}};
shadow$provide[282]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(91));var k=w(L(281));class p extends Ka.default{constructor(q){q=q?q:{};const t=Object.assign({},q);delete t.preload;delete t.useInterimTilesOnError;super(t);this.setPreload(void 0!==q.preload?q.preload:0);this.setUseInterimTilesOnError(void 0!==q.useInterimTilesOnError?q.useInterimTilesOnError:!0)}getPreload(){return this.get(k.default.PRELOAD)}setPreload(q){this.set(k.default.PRELOAD,
q)}getUseInterimTilesOnError(){return this.get(k.default.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(q){this.set(k.default.USE_INTERIM_TILES_ON_ERROR,q)}getData(q){return super.getData(q)}}A.default=p};
shadow$provide[283]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(278));var k=w(L(186)),p=w(L(190)),q=w(L(195)),t=w(L(109)),n=L(82),f=L(84),b=L(121),c=L(75),e=L(68),g=L(167);class m extends Ka.default{constructor(h){super(h);this.extentChanged=!0;this.renderedProjection=this.renderedExtent_=null;this.renderedTiles=[];this.newTiles_=!1;this.tmpExtent=(0,f.createEmpty)();this.tmpTileRange_=new q.default(0,
0,0,0)}isDrawableTile(h){var x=this.getLayer();h=h.getState();x=x.getUseInterimTilesOnError();return h==t.default.LOADED||h==t.default.EMPTY||h==t.default.ERROR&&!x}getTile(h,x,O,G){const I=G.pixelRatio,F=G.viewState.projection;G=this.getLayer();h=G.getSource().getTile(h,x,O,I,F);h.getState()==t.default.ERROR&&G.getUseInterimTilesOnError()&&0<G.getPreload()&&(this.newTiles_=!0);this.isDrawableTile(h)||(h=h.getInterimTile());return h}getData(h){var x=this.frameState;if(!x)return null;var O=this.getLayer();
h=(0,n.apply)(x.pixelToCoordinateTransform,h.slice());var G=O.getExtent();if(G&&!(0,f.containsCoordinate)(G,h))return null;var I=x.pixelRatio,F=x.viewState.projection;G=x.viewState;O=O.getRenderSource();var C=O.getTileGridForProjection(G.projection);const r=O.getTilePixelRatio(x.pixelRatio);for(var y=C.getZForResolution(G.resolution);y>=C.getMinZoom();--y){const K=C.getTileCoordForCoordAndZ(h,y);x=O.getTile(y,K[1],K[2],I,F);if(!(x instanceof k.default||x instanceof p.default)||x instanceof p.default&&
x.getState()===t.default.EMPTY)break;if(x.getState()===t.default.LOADED)return I=C.getOrigin(y),F=(0,g.toSize)(C.getTileSize(y)),y=C.getResolution(y),C=Math.floor(r*((h[0]-I[0])/y-K[1]*F[0])),h=Math.floor(r*((I[1]-h[1])/y-K[2]*F[1])),G=Math.round(r*O.getGutterForProjection(G.projection)),this.getImageData(x.getImage(),C+G,h+G)}return null}loadedTileCallback(h,x,O){return this.isDrawableTile(O)?super.loadedTileCallback(h,x,O):!1}prepareFrame(h){return!!this.getLayer().getSource()}renderFrame(h,x){const O=
h.layerStatesArray[h.layerIndex];var G=h.viewState;const I=G.projection;var F=G.resolution,C=G.center,r=G.rotation;const y=h.pixelRatio,K=this.getLayer(),R=K.getSource(),S=R.getRevision(),ca=R.getTileGridForProjection(I),M=ca.getZForResolution(F,R.zDirection),aa=ca.getResolution(M);let Y=h.extent;var ea=h.viewState.resolution;const Ga=R.getTilePixelRatio(y);var X=Math.round((0,f.getWidth)(Y)/ea*y),D=Math.round((0,f.getHeight)(Y)/ea*y),B=O.extent&&(0,b.fromUserExtent)(O.extent,I);B&&(Y=(0,f.getIntersection)(Y,
(0,b.fromUserExtent)(O.extent,I)));var N=aa*X/2/Ga,Z=aa*D/2/Ga;C=[C[0]-N,C[1]-Z,C[0]+N,C[1]+Z];Z=ca.getTileRangeForExtentAndZ(Y,M);N={};N[M]={};var Aa=this.createLoadedTileFinder(R,I,N),qa=this.tmpExtent,la=this.tmpTileRange_;this.newTiles_=!1;G=r?(0,f.getRotatedViewport)(G.center,ea,r,h.size):void 0;for(ea=Z.minX;ea<=Z.maxX;++ea)for(var Ja=Z.minY;Ja<=Z.maxY;++Ja)if(!r||ca.tileCoordIntersectsViewport([M,ea,Ja],G)){var bb=this.getTile(M,ea,Ja,h);if(this.isDrawableTile(bb)){var ib=(0,c.getUid)(this);
if(bb.getState()==t.default.LOADED){N[M][bb.tileCoord.toString()]=bb;var Ma=bb.inTransition(ib);Ma&&1!==O.opacity&&(bb.endTransition(ib),Ma=!1);this.newTiles_||!Ma&&this.renderedTiles.includes(bb)||(this.newTiles_=!0)}if(1===bb.getAlpha(ib,h.time))continue}ib=ca.getTileCoordChildTileRange(bb.tileCoord,la,qa);Ma=!1;ib&&(Ma=Aa(M+1,ib));Ma||ca.forEachTileCoordParentTileRange(bb.tileCoord,Aa,la,qa)}F=aa/F*y/Ga;(0,n.compose)(this.pixelTransform,h.size[0]/2,h.size[1]/2,1/y,1/y,r,-X/2,-D/2);r=(0,n.toString)(this.pixelTransform);
this.useContainer(x,r,this.getBackground(h));x=this.context;Z=x.canvas;(0,n.makeInverse)(this.inversePixelTransform,this.pixelTransform);(0,n.compose)(this.tempTransform,X/2,D/2,F,F,0,-X/2,-D/2);Z.width!=X||Z.height!=D?(Z.width=X,Z.height=D):this.containerReused||x.clearRect(0,0,X,D);B&&this.clipUnrotated(x,h,B);R.getInterpolate()||(x.imageSmoothingEnabled=!1);this.preRender(x,h);this.renderedTiles.length=0;X=Object.keys(N).map(Number);X.sort(e.numberSafeCompareFunction);let ma,Fa;1!==O.opacity||
this.containerReused&&!R.getOpaque(h.viewState.projection)?(ma=[],Fa=[]):X=X.reverse();for(D=X.length-1;0<=D;--D){B=X[D];qa=R.getTilePixelSize(B,y,I);la=ca.getResolution(B)/aa;Aa=qa[0]*la*F;qa=qa[1]*la*F;la=ca.getTileCoordForCoordAndZ((0,f.getTopLeft)(C),B);G=ca.getTileCoordExtent(la);G=(0,n.apply)(this.tempTransform,[Ga*(G[0]-C[0])/aa,Ga*(C[3]-G[3])/aa]);ea=Ga*R.getGutterForProjection(I);Ja=N[B];for(const ya in Ja){bb=Ja[ya];ib=bb.tileCoord;var Ra=la[1]-ib[1];var ra=la[2]-ib[2];ib=Math.round(G[0]-
Ra*Aa);Ma=Math.round(G[1]-ra*qa);Ra=Math.round(G[0]-(Ra-1)*Aa)-ib;const oa=Math.round(G[1]-(ra-1)*qa)-Ma,xa=M===B,Ua=xa&&1!==bb.getAlpha((0,c.getUid)(this),h.time);let fb=!1;if(!Ua)if(ma){ra=[ib,Ma,ib+Ra,Ma,ib+Ra,Ma+oa,ib,Ma+oa];for(let sa=0,Oa=ma.length;sa<Oa;++sa)if(M!==B&&B<Fa[sa]){const ja=ma[sa];(0,f.intersects)([ib,Ma,ib+Ra,Ma+oa],[ja[0],ja[3],ja[4],ja[7]])&&(fb||(x.save(),fb=!0),x.beginPath(),x.moveTo(ra[0],ra[1]),x.lineTo(ra[2],ra[3]),x.lineTo(ra[4],ra[5]),x.lineTo(ra[6],ra[7]),x.moveTo(ja[6],
ja[7]),x.lineTo(ja[4],ja[5]),x.lineTo(ja[2],ja[3]),x.lineTo(ja[0],ja[1]),x.clip())}ma.push(ra);Fa.push(B)}else x.clearRect(ib,Ma,Ra,oa);this.drawTileImage(bb,h,ib,Ma,Ra,oa,ea,xa);ma&&!Ua?(fb&&x.restore(),this.renderedTiles.unshift(bb)):this.renderedTiles.push(bb);this.updateUsedTiles(h.usedTiles,R,bb)}}this.renderedRevision=S;this.renderedResolution=aa;this.extentChanged=!this.renderedExtent_||!(0,f.equals)(this.renderedExtent_,C);this.renderedExtent_=C;this.renderedPixelRatio=y;this.renderedProjection=
I;this.manageTilePyramid(h,R,ca,y,I,Y,M,K.getPreload());this.scheduleExpireCache(h,R);this.postRender(x,h);O.extent&&x.restore();x.imageSmoothingEnabled=!0;r!==Z.style.transform&&(Z.style.transform=r);return this.container}drawTileImage(h,x,O,G,I,F,C,r){const y=this.getTileImage(h);if(y){var K=(0,c.getUid)(this),R=x.layerStatesArray[x.layerIndex],S=R.opacity*(r?h.getAlpha(K,x.time):1),ca=S!==this.context.globalAlpha;ca&&(this.context.save(),this.context.globalAlpha=S);this.context.drawImage(y,C,C,
y.width-2*C,y.height-2*C,O,G,I,F);ca&&this.context.restore();S!==R.opacity?x.animate=!0:r&&h.endTransition(K)}}getImage(){const h=this.context;return h?h.canvas:null}getTileImage(h){return h.getImage()}scheduleExpireCache(h,x){x.canExpireCache()&&(x=function(O,G,I){G=(0,c.getUid)(O);G in I.usedTiles&&O.expireCache(I.viewState.projection,I.usedTiles[G])}.bind(null,x),h.postRenderFunctions.push(x))}updateUsedTiles(h,x,O){x=(0,c.getUid)(x);x in h||(h[x]={});h[x][O.getKey()]=!0}manageTilePyramid(h,x,
O,G,I,F,C,r,y){const K=(0,c.getUid)(x);K in h.wantedTiles||(h.wantedTiles[K]={});const R=h.wantedTiles[K],S=h.tileQueue;var ca=O.getMinZoom();const M=h.viewState.rotation;h=M?(0,f.getRotatedViewport)(h.viewState.center,h.viewState.resolution,M,h.size):void 0;let aa=0,Y,ea,Ga,X,D;for(D=ca;D<=C;++D)for(Y=O.getTileRangeForExtentAndZ(F,D,Y),ea=O.getResolution(D),Ga=Y.minX;Ga<=Y.maxX;++Ga)for(X=Y.minY;X<=Y.maxY;++X)if(!M||O.tileCoordIntersectsViewport([D,Ga,X],h))C-D<=r?(++aa,ca=x.getTile(D,Ga,X,G,I),
ca.getState()==t.default.IDLE&&(R[ca.getKey()]=!0,S.isKeyQueued(ca.getKey())||S.enqueue([ca,K,O.getTileCoordCenter(ca.tileCoord),ea])),void 0!==y&&y(ca)):x.useTile(D,Ga,X,I);x.updateCacheSize(aa,I)}}A.default=m};
shadow$provide[284]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(282));var k=w(L(283));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[285]=function(Ka,L,sb,A){function w(Y){return Y&&Y.__esModule?Y:{default:Y}}function k(Y,ea,Ga){if(K)return new ImageData(Y,ea,Ga);R||(R=document.createElement("canvas").getContext("2d"));ea=R.createImageData(ea,Ga);ea.data.set(Y);return ea}function p(Y){let ea=!0;try{new ImageData(10,10)}catch(Ga){ea=!1}return function(Ga){var X=Ga.buffers;const D=Ga.meta;var B=Ga.width,N=Ga.height;const Z=X.length;var Aa=X[0].byteLength;if(Ga.imageOps){Ga=Array(Z);for(var qa=0;qa<Z;++qa){Aa=qa;var la=
new Uint8ClampedArray(X[qa]);var Ja=B,bb=N;la=ea?new ImageData(la,Ja,bb):{data:la,width:Ja,height:bb};Ga[Aa]=la}return Y(Ga,D).data.buffer}B=new Uint8ClampedArray(Aa);N=Array(Z);Ga=Array(Z);for(qa=0;qa<Z;++qa)N[qa]=new Uint8ClampedArray(X[qa]),Ga[qa]=[0,0,0,0];for(X=0;X<Aa;X+=4){for(qa=0;qa<Z;++qa)la=N[qa],Ga[qa][0]=la[X],Ga[qa][1]=la[X+1],Ga[qa][2]=la[X+2],Ga[qa][3]=la[X+3];qa=Y(Ga,D);B[X]=qa[0];B[X+1]=qa[1];B[X+2]=qa[2];B[X+3]=qa[3]}return B.buffer}}function q(Y,ea){var Ga=Object.keys(Y.lib||{}).map(function(X){return"const "+
X+" \x3d "+Y.lib[X].toString()+";"}).concat(["const __minion__ \x3d ("+p.toString()+")(",Y.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer \x3d __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);Ga=new Worker("undefined"===typeof Blob?"data:text/javascript;base64,"+c.from(Ga.join("\n"),"binary").toString("base64"):URL.createObjectURL(new Blob(Ga,{type:"text/javascript"})));Ga.addEventListener("message",
ea);return Ga}function t(Y,ea){const Ga=p(Y.operation);let X=!1;return{postMessage:function(D){setTimeout(function(){X||ea({data:{buffer:Ga(D),meta:D.meta}})},0)},terminate:function(){X=!0}}}function n(Y,ea){const Ga=Y.getRenderer();if(!Ga)throw Error("Unsupported layer type: "+Y);if(!Ga.prepareFrame(ea))return null;Y=ea.size[0];const X=ea.size[1];if(0===Y||0===X)return null;ea=Ga.renderFrame(ea,null);let D;if(ea instanceof HTMLCanvasElement)D=ea;else{ea&&(D=ea.firstElementChild);if(!(D instanceof
HTMLCanvasElement))throw Error("Unsupported rendered element: "+D);if(D.width===Y&&D.height===X)return D.getContext("2d").getImageData(0,0,Y,X)}aa?(ea=aa.canvas,ea.width!==Y||ea.height!==X?aa=(0,F.createCanvasContext2D)(Y,X):aa.clearRect(0,0,Y,X)):aa=(0,F.createCanvasContext2D)(Y,X);aa.drawImage(D,0,0,Y,X);return aa.getImageData(0,0,Y,X)}function f(Y){return Y.map(function(ea){return ea.getLayerState()})}function b(Y){const ea=Y.length,Ga=Array(ea);for(let B=0;B<ea;++B){var X=B;let N=void 0;var D=
Y[B];D instanceof x.default?D instanceof I.default?N=new O.default({source:D}):D instanceof h.default&&(N=new m.default({source:D})):N=D;Ga[X]=N}return Ga}var c=L(21).Buffer;"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.newImageData=k;A.default=A.RasterSourceEvent=A.Processor=void 0;Ka=w(L(67));sb=w(L(65));var e=w(L(72)),g=w(L(269)),m=w(L(280)),h=w(L(266)),x=w(L(194)),O=w(L(284)),G=w(L(110)),I=w(L(198)),F=L(97),C=L(82),r=L(84),y=L(75);let K=!0;try{new ImageData(10,10)}catch(Y){K=
!1}let R;class S extends Ka.default{constructor(Y){super();this._imageOps=!!Y.imageOps;let ea;ea=0===Y.threads?0:this._imageOps?1:Y.threads||1;const Ga=Array(ea);if(ea)for(let X=0;X<ea;++X)Ga[X]=q(Y,this._onWorkerMessage.bind(this,X));else Ga[0]=t(Y,this._onWorkerMessage.bind(this,0));this._workers=Ga;this._queue=[];this._maxQueueLength=Y.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}process(Y,ea,Ga){this._enqueue({inputs:Y,meta:ea,callback:Ga});this._dispatch()}_enqueue(Y){for(this._queue.push(Y);this._queue.length>
this._maxQueueLength;)this._queue.shift().callback(null,null)}_dispatch(){if(!this._running&&0!==this._queue.length){var Y=this._queue.shift();this._job=Y;var ea=Y.inputs[0].width,Ga=Y.inputs[0].height,X=Y.inputs.map(function(N){return N.data.buffer}),D=this._workers.length;this._running=D;if(1===D)this._workers[0].postMessage({buffers:X,meta:Y.meta,imageOps:this._imageOps,width:ea,height:Ga},X);else{var B=4*Math.ceil(Y.inputs[0].data.length/4/D);for(let N=0;N<D;++N){const Z=N*B,Aa=[];for(let qa=
0,la=X.length;qa<la;++qa)Aa.push(X[qa].slice(Z,Z+B));this._workers[N].postMessage({buffers:Aa,meta:Y.meta,imageOps:this._imageOps,width:ea,height:Ga},Aa)}}}}_onWorkerMessage(Y,ea){this.disposed||(this._dataLookup[Y]=ea.data,--this._running,0===this._running&&this._resolveJob())}_resolveJob(){const Y=this._job,ea=this._workers.length;let Ga,X;if(1===ea)Ga=new Uint8ClampedArray(this._dataLookup[0].buffer),X=this._dataLookup[0].meta;else{var D=Y.inputs[0].data.length;Ga=new Uint8ClampedArray(D);X=Array(ea);
D=4*Math.ceil(D/4/ea);for(let B=0;B<ea;++B){const N=B*D;Ga.set(new Uint8ClampedArray(this._dataLookup[B].buffer),N);X[B]=this._dataLookup[B].meta}}this._job=null;this._dataLookup={};Y.callback(null,k(Ga,Y.inputs[0].width,Y.inputs[0].height),X);this._dispatch()}disposeInternal(){for(let Y=0;Y<this._workers.length;++Y)this._workers[Y].terminate();this._workers.length=0}}A.Processor=S;class ca extends sb.default{constructor(Y,ea,Ga){super(Y);this.extent=ea.extent;this.resolution=ea.viewState.resolution/
ea.pixelRatio;this.data=Ga}}A.RasterSourceEvent=ca;class M extends h.default{constructor(Y){super({projection:null});this.processor_=null;this.operationType_=void 0!==Y.operationType?Y.operationType:"pixel";this.threads_=void 0!==Y.threads?Y.threads:1;this.layers_=b(Y.sources);const ea=this.changed.bind(this);for(let Ga=0,X=this.layers_.length;Ga<X;++Ga)this.layers_[Ga].addEventListener(e.default.CHANGE,ea);this.tileQueue_=new G.default(function(){return 1},this.changed.bind(this));this.renderedImageCanvas_=
null;this.frameState_={animate:!1,coordinateToPixelTransform:(0,C.create)(),declutterTree:null,extent:null,index:0,layerIndex:0,layerStatesArray:f(this.layers_),pixelRatio:1,pixelToCoordinateTransform:(0,C.create)(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:(0,y.getUid)(this),renderTargets:{}};this.setAttributions(function(Ga){const X=[];for(let B=0,N=Y.sources.length;B<N;++B){var D=Y.sources[B];
D=(D instanceof x.default?D:D.getSource()).getAttributions();"function"===typeof D&&(D=D(Ga),X.push.apply(X,D))}return 0!==X.length?X:null});void 0!==Y.operation&&this.setOperation(Y.operation,Y.lib)}setOperation(Y,ea){this.processor_&&this.processor_.dispose();this.processor_=new S({operation:Y,imageOps:"image"===this.operationType_,queue:1,lib:ea,threads:this.threads_});this.changed()}updateFrameState_(Y,ea,Ga){const X=Object.assign({},this.frameState_);X.viewState=Object.assign({},X.viewState);
const D=(0,r.getCenter)(Y);X.extent=Y.slice();X.size[0]=Math.round((0,r.getWidth)(Y)/ea);X.size[1]=Math.round((0,r.getHeight)(Y)/ea);X.time=Date.now();Y=X.viewState;Y.center=D;Y.projection=Ga;Y.resolution=ea;return X}allSourcesReady_(){let Y=!0,ea;for(let Ga=0,X=this.layers_.length;Ga<X;++Ga)if(ea=this.layers_[Ga].getSource(),"ready"!==ea.getState()){Y=!1;break}return Y}getImage(Y,ea,Ga,X){if(!this.allSourcesReady_())return null;this.requestedFrameState_=Ga=this.updateFrameState_(Y,ea,X);if(this.renderedImageCanvas_){X=
this.renderedImageCanvas_.getResolution();const D=this.renderedImageCanvas_.getExtent();ea===X&&(0,r.equals)(Y,D)||(this.renderedImageCanvas_=null)}this.renderedImageCanvas_&&this.getRevision()===this.renderedRevision_||this.processSources_();Ga.tileQueue.loadMoreTiles(16,16);Ga.animate&&requestAnimationFrame(this.changed.bind(this));return this.renderedImageCanvas_}processSources_(){const Y=this.requestedFrameState_;var ea=this.layers_.length;const Ga=Array(ea);for(let X=0;X<ea;++X){Y.layerIndex=
X;const D=n(this.layers_[X],Y);if(D)Ga[X]=D;else return}ea={};this.dispatchEvent(new ca("beforeoperations",Y,ea));this.processor_.process(Ga,ea,this.onWorkerComplete_.bind(this,Y))}onWorkerComplete_(Y,ea,Ga,X){if(!ea&&Ga){ea=Y.extent;var D=Y.viewState.resolution;if(D===this.requestedFrameState_.viewState.resolution&&(0,r.equals)(ea,this.requestedFrameState_.extent)){if(this.renderedImageCanvas_)var B=this.renderedImageCanvas_.getImage().getContext("2d");else{B=Math.round((0,r.getWidth)(ea)/D);const N=
Math.round((0,r.getHeight)(ea)/D);B=(0,F.createCanvasContext2D)(B,N);this.renderedImageCanvas_=new g.default(ea,D,1,B.canvas)}B.putImageData(Ga,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ca("afteroperations",Y,X));Y.animate&&requestAnimationFrame(this.changed.bind(this))}}}disposeInternal(){this.processor_&&this.processor_.dispose();super.disposeInternal()}}let aa=null;A.default=M};
shadow$provide[286]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(204));const w=['Map tiles by \x3ca href\x3d"https://stamen.com/" target\x3d"_blank"\x3eStamen Design\x3c/a\x3e, under \x3ca href\x3d"https://creativecommons.org/licenses/by/3.0/" target\x3d"_blank"\x3eCC BY 3.0\x3c/a\x3e.',L(275).ATTRIBUTION],k={terrain:{extension:"jpg",opaque:!0},"terrain-background":{extension:"jpg",opaque:!0},"terrain-labels":{extension:"png",
opaque:!1},"terrain-lines":{extension:"png",opaque:!1},"toner-background":{extension:"png",opaque:!0},toner:{extension:"png",opaque:!0},"toner-hybrid":{extension:"png",opaque:!1},"toner-labels":{extension:"png",opaque:!1},"toner-lines":{extension:"png",opaque:!1},"toner-lite":{extension:"png",opaque:!0},watercolor:{extension:"jpg",opaque:!0}},p={terrain:{minZoom:0,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:0,maxZoom:18}};class q extends Ka.default{constructor(t){var n=t.layer.indexOf("-");
n=-1==n?t.layer:t.layer.slice(0,n);n=p[n];const f=k[t.layer];super({attributions:w,cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,maxZoom:void 0!=t.maxZoom?t.maxZoom:n.maxZoom,minZoom:void 0!=t.minZoom?t.minZoom:n.minZoom,opaque:f.opaque,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,transition:t.transition,url:void 0!==t.url?t.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+t.layer+"/{z}/{x}/{y}."+f.extension,wrapX:t.wrapX,
zDirection:t.zDirection})}}A.default=q};
shadow$provide[287]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(f){return f&&f.__esModule?f:{default:f}}(L(201));var w=L(267),k=L(84),p=L(85),q=L(167),t=L(191);class n extends Ka.default{constructor(f){f=f?f:{};super({attributions:f.attributions,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileGrid:f.tileGrid,tileLoadFunction:f.tileLoadFunction,
url:f.url,urls:f.urls,wrapX:void 0!==f.wrapX?f.wrapX:!0,transition:f.transition,zDirection:f.zDirection});this.params_=f.params||{};this.hidpi_=void 0!==f.hidpi?f.hidpi:!0;this.tmpExtent_=(0,k.createEmpty)();this.setKey(this.getKeyForParams_())}getKeyForParams_(){let f=0;const b=[];for(const c in this.params_)b[f++]=c+"-"+this.params_[c];return b.join("/")}getParams(){return this.params_}getRequestUrl_(f,b,c,e,g,m){var h=this.urls;if(h)return g=g.getCode().split(/:(?=\d+$)/).pop(),m.SIZE=b[0]+","+
b[1],m.BBOX=c.join(","),m.BBOXSR=g,m.IMAGESR=g,m.DPI=Math.round(m.DPI?m.DPI*e:90*e),1==h.length?h=h[0]:(f=(0,p.modulo)((0,t.hash)(f),h.length),h=h[f]),h=h.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),(0,w.appendParams)(h,m)}getTilePixelRatio(f){return this.hidpi_?f:1}updateParams(f){Object.assign(this.params_,f);this.setKey(this.getKeyForParams_())}tileUrlFunction(f,b,c){var e=this.getTileGrid();e||(e=this.getTileGridForProjection(c));if(!(e.getResolutions().length<=
f[0])){1==b||this.hidpi_||(b=1);var g=e.getTileCoordExtent(f,this.tmpExtent_);e=(0,q.toSize)(e.getTileSize(f[0]),this.tmpSize);1!=b&&(e=(0,q.scale)(e,b,this.tmpSize));var m={F:"image",FORMAT:"PNG32",TRANSPARENT:!0};Object.assign(m,this.params_);return this.getRequestUrl_(f,e,g,b,c,m)}}}A.default=n};
shadow$provide[288]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(204));var w=L(97),k=L(167);class p extends Ka.default{constructor(q){q=q||{};super({opaque:!1,projection:q.projection,tileGrid:q.tileGrid,wrapX:void 0!==q.wrapX?q.wrapX:!0,zDirection:q.zDirection,url:q.template||"z:{z} x:{x} y:{y}",tileLoadFunction:(t,n)=>{var f=t.getTileCoord()[0];f=(0,k.toSize)(this.tileGrid.getTileSize(f));const b=(0,w.createCanvasContext2D)(f[0],
f[1]);b.strokeStyle="grey";b.strokeRect(.5,.5,f[0]+.5,f[1]+.5);b.fillStyle="grey";b.strokeStyle="white";b.textAlign="center";b.textBaseline="middle";b.font="24px sans-serif";b.lineWidth=4;b.strokeText(n,f[0]/2,f[1]/2,f[0]);b.fillText(n,f[0]/2,f[1]/2,f[0]);t.setImage(b.canvas)}})}}A.default=p};
shadow$provide[289]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(b){return b&&b.__esModule?b:{default:b}}(L(201));var w=L(84),k=L(81),p=L(199),q=L(197),t=L(121),n=L(202);class f extends Ka.default{constructor(b){super({attributions:b.attributions,cacheSize:b.cacheSize,crossOrigin:b.crossOrigin,interpolate:b.interpolate,projection:(0,t.get)("EPSG:3857"),reprojectionErrorThreshold:b.reprojectionErrorThreshold,state:"loading",tileLoadFunction:b.tileLoadFunction,
wrapX:void 0!==b.wrapX?b.wrapX:!0,transition:b.transition,zDirection:b.zDirection});this.tileJSON_=null;this.tileSize_=b.tileSize;if(b.url)if(b.jsonp)(0,n.jsonp)(b.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const c=new XMLHttpRequest;c.addEventListener("load",this.onXHRLoad_.bind(this));c.addEventListener("error",this.onXHRError_.bind(this));c.open("GET",b.url);c.send()}else b.tileJSON?this.handleTileJSONResponse(b.tileJSON):(0,k.assert)(!1,51)}onXHRLoad_(b){b=
b.target;if(!b.status||200<=b.status&&300>b.status){let c;try{c=JSON.parse(b.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(c)}else this.handleTileJSONError()}onXHRError_(b){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(b){var c=(0,t.get)("EPSG:4326"),e=this.getProjection();if(void 0!==b.bounds){var g=(0,t.getTransformFromProjections)(c,e);g=(0,w.applyTransform)(b.bounds,g)}e=(0,q.extentFromProjection)(e);this.tileGrid=
c=(0,q.createXYZ)({extent:e,maxZoom:b.maxzoom||22,minZoom:b.minzoom||0,tileSize:this.tileSize_});this.tileUrlFunction=(0,p.createFromTemplates)(b.tiles,c);if(b.attribution&&!this.getAttributions()){const m=void 0!==g?g:e;this.setAttributions(function(h){return(0,w.intersects)(m,h.extent)?[b.attribution]:null})}this.tileJSON_=b;this.setState("ready")}handleTileJSONError(){this.setState("error")}}A.default=f};
shadow$provide[290]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(m){return m&&m.__esModule?m:{default:m}}(L(201));var w=L(273),k=L(267),p=L(81),q=L(84),t=L(167),n=L(189),f=L(92),b=L(121),c=L(85),e=L(191);class g extends Ka.default{constructor(m){m=m?m:{};const h=Object.assign({},m.params);super({attributions:m.attributions,attributionsCollapsible:m.attributionsCollapsible,cacheSize:m.cacheSize,crossOrigin:m.crossOrigin,interpolate:m.interpolate,
opaque:!("TRANSPARENT"in h?h.TRANSPARENT:1),projection:m.projection,reprojectionErrorThreshold:m.reprojectionErrorThreshold,tileClass:m.tileClass,tileGrid:m.tileGrid,tileLoadFunction:m.tileLoadFunction,url:m.url,urls:m.urls,wrapX:void 0!==m.wrapX?m.wrapX:!0,transition:m.transition,zDirection:m.zDirection});this.gutter_=void 0!==m.gutter?m.gutter:0;this.params_=h;this.v13_=!0;this.serverType_=m.serverType;this.hidpi_=void 0!==m.hidpi?m.hidpi:!0;this.tmpExtent_=(0,q.createEmpty)();this.updateV13_();
this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(m,h,x,O){x=(0,b.get)(x);const G=this.getProjection();var I=this.getTileGrid();I||(I=this.getTileGridForProjection(x));h=I.getZForResolution(h,this.zDirection);h=I.getTileCoordForCoordAndZ(m,h);if(!(I.getResolutions().length<=h[0])){var F=I.getResolution(h[0]),C=I.getTileCoordExtent(h,this.tmpExtent_);I=(0,t.toSize)(I.getTileSize(h[0]),this.tmpSize);var r=this.gutter_;0!==r&&(I=(0,t.buffer)(I,r,this.tmpSize),C=(0,q.buffer)(C,F*r,C));G&&G!==x&&
(F=(0,n.calculateSourceResolution)(G,x,m,F),C=(0,b.transformExtent)(C,x,G),m=(0,b.transform)(m,x,G));r={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};Object.assign(r,this.params_,O);O=Math.floor((C[3]-m[1])/F);r[this.v13_?"I":"X"]=Math.floor((m[0]-C[0])/F);r[this.v13_?"J":"Y"]=O;return this.getRequestUrl_(h,I,C,1,G||x,r)}}getLegendUrl(m,h){if(void 0!==this.urls[0]){var x={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,
REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===h||void 0===h.LAYER){var O=this.params_.LAYERS;if(Array.isArray(O)&&1!==O.length)return;x.LAYER=O}void 0!==m&&(O=this.getProjection()?this.getProjection().getMetersPerUnit():1,x.SCALE=m*O/2.8E-4);Object.assign(x,h);return(0,k.appendParams)(this.urls[0],x)}}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(m,h,x,O,G,I){var F=this.urls;if(F){I.WIDTH=h[0];I.HEIGHT=h[1];I[this.v13_?"CRS":"SRS"]=G.getCode();"STYLES"in
this.params_||(I.STYLES="");if(1!=O)switch(this.serverType_){case "geoserver":h=90*O+.5|0;I.FORMAT_OPTIONS="FORMAT_OPTIONS"in I?I.FORMAT_OPTIONS+(";dpi:"+h):"dpi:"+h;break;case "mapserver":I.MAP_RESOLUTION=90*O;break;case "carmentaserver":case "qgis":I.DPI=90*O;break;default:(0,p.assert)(!1,52)}G=G.getAxisOrientation();this.v13_&&"ne"==G.substr(0,2)&&(G=x[0],x[0]=x[1],x[1]=G,G=x[2],x[2]=x[3],x[3]=G);I.BBOX=x.join(",");1==F.length?F=F[0]:(m=(0,c.modulo)((0,e.hash)(m),F.length),F=F[m]);return(0,k.appendParams)(F,
I)}}getTilePixelRatio(m){return this.hidpi_&&void 0!==this.serverType_?m:1}getKeyForParams_(){let m=0;const h=[];for(const x in this.params_)h[m++]=x+"-"+this.params_[x];return h.join("/")}updateParams(m){Object.assign(this.params_,m);this.updateV13_();this.setKey(this.getKeyForParams_())}updateV13_(){this.v13_=0<=(0,f.compareVersions)(this.params_.VERSION||w.DEFAULT_VERSION,"1.3")}tileUrlFunction(m,h,x){var O=this.getTileGrid();O||(O=this.getTileGridForProjection(x));if(!(O.getResolutions().length<=
m[0])){1==h||this.hidpi_&&void 0!==this.serverType_||(h=1);var G=O.getResolution(m[0]),I=O.getTileCoordExtent(m,this.tmpExtent_);O=(0,t.toSize)(O.getTileSize(m[0]),this.tmpSize);var F=this.gutter_;0!==F&&(O=(0,t.buffer)(O,F,this.tmpSize),I=(0,q.buffer)(I,G*F,I));1!=h&&(O=(0,t.scale)(O,h,this.tmpSize));G={SERVICE:"WMS",VERSION:w.DEFAULT_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};Object.assign(G,this.params_);return this.getRequestUrl_(m,O,I,h,x,G)}}}A.default=g};
shadow$provide[291]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.CustomTile=void 0;var k=w(L(72));Ka=w(L(182));sb=w(L(198));var p=w(L(109)),q=L(84),t=L(81),n=L(199),f=L(197),b=L(191),c=L(121),e=L(73),g=L(202);class m extends Ka.default{constructor(x,O,G,I,F,C){super(x,O);this.src_=G;this.extent_=I;this.preemptive_=F;this.data_=this.keys_=this.grid_=null;this.jsonp_=C}getImage(){return null}getData(x){if(!this.grid_||
!this.keys_)return null;var O=this.grid_[Math.floor((1-(x[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]))*this.grid_.length)];if("string"!==typeof O)return null;x=O.charCodeAt(Math.floor((x[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0])*O.length));93<=x&&x--;35<=x&&x--;x-=32;O=null;x in this.keys_&&(x=this.keys_[x],O=this.data_&&x in this.data_?this.data_[x]:x);return O}forDataAtCoordinate(x,O,G){this.state==p.default.EMPTY&&!0===G?(this.state=p.default.IDLE,(0,e.listenOnce)(this,k.default.CHANGE,
function(I){O(this.getData(x))},this),this.loadInternal_()):!0===G?setTimeout(function(){O(this.getData(x))}.bind(this),0):O(this.getData(x))}getKey(){return this.src_}handleError_(){this.state=p.default.ERROR;this.changed()}handleLoad_(x){this.grid_=x.grid;this.keys_=x.keys;this.data_=x.data;this.state=p.default.LOADED;this.changed()}loadInternal_(){if(this.state==p.default.IDLE)if(this.state=p.default.LOADING,this.jsonp_)(0,g.jsonp)(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this));
else{const x=new XMLHttpRequest;x.addEventListener("load",this.onXHRLoad_.bind(this));x.addEventListener("error",this.onXHRError_.bind(this));x.open("GET",this.src_);x.send()}}onXHRLoad_(x){x=x.target;if(!x.status||200<=x.status&&300>x.status){let O;try{O=JSON.parse(x.responseText)}catch(G){this.handleError_();return}this.handleLoad_(O)}else this.handleError_()}onXHRError_(x){this.handleError_()}load(){this.preemptive_?this.loadInternal_():this.setState(p.default.EMPTY)}}A.CustomTile=m;class h extends sb.default{constructor(x){super({projection:(0,c.get)("EPSG:3857"),
state:"loading",zDirection:x.zDirection});this.preemptive_=void 0!==x.preemptive?x.preemptive:!0;this.tileUrlFunction_=n.nullTileUrlFunction;this.template_=void 0;this.jsonp_=x.jsonp||!1;if(x.url)if(this.jsonp_)(0,g.jsonp)(x.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const O=new XMLHttpRequest;O.addEventListener("load",this.onXHRLoad_.bind(this));O.addEventListener("error",this.onXHRError_.bind(this));O.open("GET",x.url);O.send()}else x.tileJSON?this.handleTileJSONResponse(x.tileJSON):
(0,t.assert)(!1,51)}onXHRLoad_(x){x=x.target;if(!x.status||200<=x.status&&300>x.status){let O;try{O=JSON.parse(x.responseText)}catch(G){this.handleTileJSONError();return}this.handleTileJSONResponse(O)}else this.handleTileJSONError()}onXHRError_(x){this.handleTileJSONError()}getTemplate(){return this.template_}forDataAtCoordinateAndResolution(x,O,G,I){this.tileGrid?(O=this.tileGrid.getZForResolution(O,this.zDirection),O=this.tileGrid.getTileCoordForCoordAndZ(x,O),this.getTile(O[0],O[1],O[2],1,this.getProjection()).forDataAtCoordinate(x,
G,I)):!0===I?setTimeout(function(){G(null)},0):G(null)}handleTileJSONError(){this.setState("error")}handleTileJSONResponse(x){var O=(0,c.get)("EPSG:4326"),G=this.getProjection();if(void 0!==x.bounds){var I=(0,c.getTransformFromProjections)(O,G);I=(0,q.applyTransform)(x.bounds,I)}G=(0,f.extentFromProjection)(G);this.tileGrid=O=(0,f.createXYZ)({extent:G,maxZoom:x.maxzoom||22,minZoom:x.minzoom||0});this.template_=x.template;const F=x.grids;if(F){this.tileUrlFunction_=(0,n.createFromTemplates)(F,O);if(void 0!==
x.attribution){const C=void 0!==I?I:G;this.setAttributions(function(r){return(0,q.intersects)(C,r.extent)?[x.attribution]:null})}this.setState("ready")}else this.setState("error")}getTile(x,O,G,I,F){const C=(0,b.getKeyZXY)(x,O,G);if(this.tileCache.containsKey(C))return this.tileCache.get(C);x=[x,O,G];O=this.getTileCoordForTileUrlFunction(x,F);I=this.tileUrlFunction_(O,I,F);I=new m(x,void 0!==I?p.default.IDLE:p.default.EMPTY,void 0!==I?I:"",this.tileGrid.getTileCoordExtent(x),this.preemptive_,this.jsonp_);
this.tileCache.set(C,I);return I}useTile(x,O,G){x=(0,b.getKeyZXY)(x,O,G);this.tileCache.containsKey(x)&&this.tileCache.get(x)}}A.default=h};
shadow$provide[292]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(182));var k=w(L(109));class p extends Ka.default{constructor(q,t,n,f,b,c){super(q,t,c);this.extent=null;this.format_=f;this.projection=this.features_=null;this.tileLoadFunction_=b;this.key=this.url_=n}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==k.default.IDLE&&(this.setState(k.default.LOADING),
this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(q,t){this.setFeatures(q)}onError(){this.setState(k.default.ERROR)}setFeatures(q){this.features_=q;this.setState(k.default.LOADED)}setLoader(q){this.loader_=q}}A.default=p};
shadow$provide[293]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(182));var w=L(97),k=L(75);const p=[];class q extends Ka.default{constructor(t,n,f,b){super(t,n,{transition:0});this.context_={};this.executorGroups={};this.declutterExecutorGroups={};this.loadingSourceTiles=0;this.hitDetectionImageData={};this.replayState_={};this.sourceTiles=[];this.errorTileKeys={};this.getSourceTiles=b.bind(void 0,this);
this.wrappedTileCoord=f}getContext(t){t=(0,k.getUid)(t);t in this.context_||(this.context_[t]=(0,w.createCanvasContext2D)(1,1,p));return this.context_[t]}hasContext(t){return(0,k.getUid)(t)in this.context_}getImage(t){return this.hasContext(t)?this.getContext(t).canvas:null}getReplayState(t){t=(0,k.getUid)(t);t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1});
return this.replayState_[t]}load(){this.getSourceTiles()}release(){for(const t in this.context_){const n=this.context_[t];(0,w.releaseCanvas)(n);p.push(n.canvas);delete this.context_[t]}super.release()}}A.default=q};
shadow$provide[294]=function(Ka,L,sb,A){function w(I){return I&&I.__esModule?I:{default:I}}function k(I,F){I.setLoader(function(C,r,y){(0,x.loadFeaturesXhr)(F,I.getFormat(),C,r,y,I.onLoad.bind(I),I.onError.bind(I))})}Object.defineProperty(A,"__esModule",{value:!0});A.defaultLoadFunction=k;A.default=void 0;var p=w(L(72)),q=w(L(292)),t=w(L(192)),n=w(L(196)),f=w(L(109));Ka=w(L(200));var b=w(L(293)),c=L(113),e=L(84),g=L(197),m=L(191),h=L(70),x=L(210),O=L(167);class G extends Ka.default{constructor(I){const F=
I.projection||"EPSG:3857";var C=I.extent||(0,g.extentFromProjection)(F);C=I.tileGrid||(0,g.createXYZ)({extent:C,maxResolution:I.maxResolution,maxZoom:void 0!==I.maxZoom?I.maxZoom:22,minZoom:I.minZoom,tileSize:I.tileSize||512});super({attributions:I.attributions,attributionsCollapsible:I.attributionsCollapsible,cacheSize:I.cacheSize,interpolate:!0,opaque:!1,projection:F,state:I.state,tileGrid:C,tileLoadFunction:I.tileLoadFunction?I.tileLoadFunction:k,tileUrlFunction:I.tileUrlFunction,url:I.url,urls:I.urls,
wrapX:void 0===I.wrapX?!0:I.wrapX,transition:I.transition,zDirection:void 0===I.zDirection?1:I.zDirection});this.format_=I.format?I.format:null;this.sourceTileCache=new t.default(this.tileCache.highWaterMark);this.overlaps_=void 0==I.overlaps?!0:I.overlaps;this.tileClass=I.tileClass?I.tileClass:q.default;this.tileGrids_={}}getFeaturesInExtent(I){const F=[],C=this.tileCache;if(0===C.getCount())return F;const r=(0,m.fromKey)(C.peekFirstKey())[0],y=this.tileGrid;C.forEach(function(K){if(K.tileCoord[0]===
r&&K.getState()===f.default.LOADED){K=K.getSourceTiles();for(let S=0,ca=K.length;S<ca;++S){var R=K[S];if((0,e.intersects)(I,y.getTileCoordExtent(R.tileCoord))&&(R=R.getFeatures()))for(let M=0,aa=R.length;M<aa;++M){const Y=R[M],ea=Y.getGeometry();(0,e.intersects)(I,ea.getExtent())&&F.push(Y)}}}});return F}getOverlaps(){return this.overlaps_}clear(){this.tileCache.clear();this.sourceTileCache.clear()}expireCache(I,F){const C=this.getTileCacheForProjection(I),r=Object.keys(F).reduce((y,K)=>{K=(0,m.getCacheKeyForTileKey)(K);
if(K=C.peek(K)){K=K.sourceTiles;for(let R=0,S=K.length;R<S;++R)y[K[R].getKey()]=!0}return y},{});super.expireCache(I,F);this.sourceTileCache.expireCache(r)}getSourceTiles(I,F,C){if(C.getState()===f.default.IDLE){C.setState(f.default.LOADING);var r=C.wrappedTileCoord,y=this.getTileGridForProjection(F);const K=y.getTileCoordExtent(r);r=y.getResolution(r[0]);(0,e.buffer)(K,-r,K);const R=this.tileGrid;(y=R.getExtent())&&(0,e.getIntersection)(K,y,K);r=R.getZForResolution(r,this.zDirection);R.forEachTileCoord(K,
r,S=>{const ca=this.tileUrlFunction(S,I,F),M=this.sourceTileCache.containsKey(ca)?this.sourceTileCache.get(ca):new this.tileClass(S,ca?f.default.IDLE:f.default.EMPTY,ca,this.format_,this.tileLoadFunction);C.sourceTiles.push(M);const aa=M.getState();if(aa<f.default.LOADED){const Y=ea=>{this.handleTileChange(ea);ea=M.getState();if(ea===f.default.LOADED||ea===f.default.ERROR){const Ga=M.getKey();Ga in C.errorTileKeys?M.getState()===f.default.LOADED&&delete C.errorTileKeys[Ga]:C.loadingSourceTiles--;
ea===f.default.ERROR?C.errorTileKeys[Ga]=!0:M.removeEventListener(p.default.CHANGE,Y);0===C.loadingSourceTiles&&C.setState((0,h.isEmpty)(C.errorTileKeys)?f.default.LOADED:f.default.ERROR)}};M.addEventListener(p.default.CHANGE,Y);C.loadingSourceTiles++}aa===f.default.IDLE&&(M.extent=R.getTileCoordExtent(S),M.projection=F,M.resolution=R.getResolution(S[0]),this.sourceTileCache.set(ca,M),M.load())});C.loadingSourceTiles||C.setState(C.sourceTiles.some(S=>S.getState()===f.default.ERROR)?f.default.ERROR:
f.default.LOADED)}return C.sourceTiles}getTile(I,F,C,r,y){const K=(0,m.getKeyZXY)(I,F,C),R=this.getKey();let S;if(this.tileCache.containsKey(K)&&(S=this.tileCache.get(K),S.key===R))return S;F=[I,F,C];C=this.getTileCoordForTileUrlFunction(F,y);var ca=this.getTileGrid().getExtent(),M=this.getTileGridForProjection(y);if(C&&ca){var aa=M.getTileCoordExtent(C);(0,e.buffer)(aa,-M.getResolution(I),aa);(0,e.intersects)(ca,aa)||(C=null)}let Y=!0;null!==C&&(ca=this.tileGrid,I=M.getResolution(I),aa=ca.getZForResolution(I,
1),M=M.getTileCoordExtent(C),(0,e.buffer)(M,-I,M),ca.forEachTileCoord(M,aa,function(ea){Y=Y&&!this.tileUrlFunction(ea,r,y)}.bind(this)));F=new b.default(F,Y?f.default.EMPTY:f.default.IDLE,C,this.getSourceTiles.bind(this,r,y));F.key=R;S?(F.interimTile=S,F.refreshInterimChain(),this.tileCache.replace(K,F)):this.tileCache.set(K,F);return F}getTileGridForProjection(I){I=I.getCode();var F=this.tileGrids_[I];if(!F){const C=this.tileGrid;F=C.getResolutions().slice();const r=F.map(function(R,S){return C.getOrigin(S)}),
y=F.map(function(R,S){return C.getTileSize(S)}),K=c.DEFAULT_MAX_ZOOM+1;for(let R=F.length;R<K;++R)F.push(F[R-1]/2),r.push(r[R-1]),y.push(y[R-1]);F=new n.default({extent:C.getExtent(),origins:r,resolutions:F,tileSizes:y});this.tileGrids_[I]=F}return F}getTilePixelRatio(I){return I}getTilePixelSize(I,F,C){C=this.getTileGridForProjection(C);I=(0,O.toSize)(C.getTileSize(I),this.tmpSize);return[Math.round(I[0]*F),Math.round(I[1]*F)]}updateCacheSize(I,F){super.updateCacheSize(2*I,F);this.sourceTileCache.highWaterMark=
this.getTileCacheForProjection(F).highWaterMark}}A.default=G};
shadow$provide[295]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createFromCapabilitiesMatrixSet=function(p,q,t){const n=[],f=[],b=[],c=[],e=[];t=void 0!==t?t:[];const g=(0,w.get)(p.SupportedCRS),m=g.getMetersPerUnit(),h="ne"==g.getAxisOrientation().substr(0,2);p.TileMatrix.sort(function(x,O){return O.ScaleDenominator-x.ScaleDenominator});p.TileMatrix.forEach(function(x){if(0<t.length?t.find(function(O){return x.Identifier==O.TileMatrix?!0:x.Identifier.includes(":")?!1:p.Identifier+
":"+x.Identifier===O.TileMatrix}):1){f.push(x.Identifier);const O=2.8E-4*x.ScaleDenominator/m,G=x.TileWidth,I=x.TileHeight;h?b.push([x.TopLeftCorner[1],x.TopLeftCorner[0]]):b.push(x.TopLeftCorner);n.push(O);c.push(G==I?G:[G,I]);e.push([x.MatrixWidth,x.MatrixHeight])}});return new k({extent:q,origins:b,resolutions:n,matrixIds:f,tileSizes:c,sizes:e})};A.default=void 0;Ka=function(p){return p&&p.__esModule?p:{default:p}}(L(196));var w=L(121);class k extends Ka.default{constructor(p){super({extent:p.extent,
origin:p.origin,origins:p.origins,resolutions:p.resolutions,tileSize:p.tileSize,tileSizes:p.tileSizes,sizes:p.sizes});this.matrixIds_=p.matrixIds}getMatrixId(p){return this.matrixIds_[p]}getMatrixIds(){return this.matrixIds_}}A.default=k};
shadow$provide[296]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.optionsFromCapabilities=function(f,b){const c=f.Contents.Layer.find(function(M){return M.Identifier==b.layer});if(!c)return null;const e=f.Contents.TileMatrixSet;var g=1<c.TileMatrixSetLink.length?"projection"in b?c.TileMatrixSetLink.findIndex(function(M){const aa=e.find(function(Ga){return Ga.Identifier==M.TileMatrixSet}).SupportedCRS,Y=(0,t.get)(aa),ea=(0,t.get)(b.projection);return Y&&ea?(0,t.equivalent)(Y,
ea):aa==b.projection}):c.TileMatrixSetLink.findIndex(function(M){return M.TileMatrixSet==b.matrixSet}):0;0>g&&(g=0);const m=c.TileMatrixSetLink[g].TileMatrixSet;var h=c.TileMatrixSetLink[g].TileMatrixSetLimits;let x=c.Format[0];"format"in b&&(x=b.format);g=c.Style.findIndex(function(M){return"style"in b?M.Title==b.style:M.isDefault});0>g&&(g=0);g=c.Style[g].Identifier;const O={};"Dimension"in c&&c.Dimension.forEach(function(M,aa,Y){aa=M.Identifier;Y=M.Default;void 0===Y&&(Y=M.Value[0]);O[aa]=Y});
const G=f.Contents.TileMatrixSet.find(function(M){return M.Identifier==m});let I;var F=G.SupportedCRS;F&&(I=(0,t.get)(F));"projection"in b&&(F=(0,t.get)(b.projection),!F||I&&!(0,t.equivalent)(F,I)||(I=F));F=!1;var C="ne"==I.getAxisOrientation().substr(0,2),r=G.TileMatrix[0];let y={MinTileCol:0,MinTileRow:0,MaxTileCol:r.MatrixWidth-1,MaxTileRow:r.MatrixHeight-1};if(h){y=h[h.length-1];var K=G.TileMatrix.find(M=>M.Identifier===y.TileMatrix||G.Identifier+":"+M.Identifier===y.TileMatrix);K&&(r=K)}var R=
2.8E-4*r.ScaleDenominator/I.getMetersPerUnit();K=C?[r.TopLeftCorner[1],r.TopLeftCorner[0]]:r.TopLeftCorner;const S=r.TileWidth*R;R*=r.TileHeight;(r=G.BoundingBox)&&C&&(r=[r[1],r[0],r[3],r[2]]);C=[K[0]+S*y.MinTileCol,K[1]-R*(1+y.MaxTileRow),K[0]+S*(1+y.MaxTileCol),K[1]-R*y.MinTileRow];void 0===r||(0,k.containsExtent)(r,C)||(K=c.WGS84BoundingBox,F=(0,t.get)("EPSG:4326").getExtent(),C=r,K?F=K[0]===F[0]&&K[2]===F[2]:(r=(0,t.transformExtent)(r,G.SupportedCRS,"EPSG:4326"),F=r[0]-1E-10<=F[0]&&r[2]+1E-10>=
F[2]));h=(0,p.createFromCapabilitiesMatrixSet)(G,C,h);const ca=[];C=b.requestEncoding;C=void 0!==C?C:"";if("OperationsMetadata"in f&&"GetTile"in f.OperationsMetadata){f=f.OperationsMetadata.GetTile.DCP.HTTP.Get;for(let M=0,aa=f.length;M<aa;++M)if(f[M].Constraint)if(r=f[M].Constraint.find(function(Y){return"GetEncoding"==Y.name}).AllowedValues.Value,""===C&&(C=r[0]),"KVP"===C)r.includes("KVP")&&ca.push(f[M].href);else break;else f[M].href&&(C="KVP",ca.push(f[M].href))}0===ca.length&&(C="REST",c.ResourceURL.forEach(function(M){"tile"===
M.resourceType&&(x=M.format,ca.push(M.template))}));return{urls:ca,layer:b.layer,matrixSet:m,format:x,projection:I,requestEncoding:C,tileGrid:h,style:g,dimensions:O,wrapX:F,crossOrigin:b.crossOrigin}};A.default=void 0;Ka=function(f){return f&&f.__esModule?f:{default:f}}(L(201));var w=L(267),k=L(84),p=L(295),q=L(199),t=L(121);class n extends Ka.default{constructor(f){const b=void 0!==f.requestEncoding?f.requestEncoding:"KVP",c=f.tileGrid;let e=f.urls;void 0===e&&void 0!==f.url&&(e=(0,q.expandUrl)(f.url));
super({attributions:f.attributions,attributionsCollapsible:f.attributionsCollapsible,cacheSize:f.cacheSize,crossOrigin:f.crossOrigin,interpolate:f.interpolate,projection:f.projection,reprojectionErrorThreshold:f.reprojectionErrorThreshold,tileClass:f.tileClass,tileGrid:c,tileLoadFunction:f.tileLoadFunction,tilePixelRatio:f.tilePixelRatio,urls:e,wrapX:void 0!==f.wrapX?f.wrapX:!1,transition:f.transition,zDirection:f.zDirection});this.version_=void 0!==f.version?f.version:"1.0.0";this.format_=void 0!==
f.format?f.format:"image/jpeg";this.dimensions_=void 0!==f.dimensions?f.dimensions:{};this.layer_=f.layer;this.matrixSet_=f.matrixSet;this.style_=f.style;this.requestEncoding_=b;this.setKey(this.getKeyForDimensions_());e&&0<e.length&&(this.tileUrlFunction=(0,q.createFromTileUrlFunctions)(e.map(this.createFromWMTSTemplate.bind(this))))}setUrls(f){this.urls=f;const b=f.join("\n");this.setTileUrlFunction((0,q.createFromTileUrlFunctions)(f.map(this.createFromWMTSTemplate.bind(this))),b)}getDimensions(){return this.dimensions_}getFormat(){return this.format_}getLayer(){return this.layer_}getMatrixSet(){return this.matrixSet_}getRequestEncoding(){return this.requestEncoding_}getStyle(){return this.style_}getVersion(){return this.version_}getKeyForDimensions_(){let f=
0;const b=[];for(const c in this.dimensions_)b[f++]=c+"-"+this.dimensions_[c];return b.join("/")}updateDimensions(f){Object.assign(this.dimensions_,f);this.setKey(this.getKeyForDimensions_())}createFromWMTSTemplate(f){const b=this.requestEncoding_,c={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};"KVP"==b&&Object.assign(c,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_});f="KVP"==b?(0,w.appendParams)(f,c):f.replace(/\{(\w+?)\}/g,function(m,h){return h.toLowerCase()in
c?c[h.toLowerCase()]:m});const e=this.tileGrid,g=this.dimensions_;return function(m,h,x){if(m){const O={TileMatrix:e.getMatrixId(m[0]),TileCol:m[1],TileRow:m[2]};Object.assign(O,g);m=f;return m="KVP"==b?(0,w.appendParams)(m,O):m.replace(/\{(\w+?)\}/g,function(G,I){return O[I]})}}}}A.default=n};
shadow$provide[297]=function(Ka,L,sb,A){function w(B){return B&&B.__esModule?B:{default:B}}Object.defineProperty(A,"__esModule",{value:!0});A.sourcesFromTileGrid=function(B,N){const Z=new k.default(32),Aa=B.getExtent();return function(qa,la){Z.expireCache();Aa&&(qa=(0,p.getIntersection)(Aa,qa));la=B.getZForResolution(la);const Ja=[];B.forEachTileCoord(qa,la,bb=>{const ib=bb.toString();Z.containsKey(ib)||(bb=N(bb),Z.set(ib,bb));Ja.push(Z.get(ib))});return Ja}};Object.defineProperty(A,"BingMaps",{enumerable:!0,
get:function(){return q.default}});Object.defineProperty(A,"CartoDB",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Cluster",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"DataTile",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"GeoTIFF",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"IIIF",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Image",{enumerable:!0,get:function(){return e.default}});
Object.defineProperty(A,"ImageArcGISRest",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,"ImageCanvas",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"ImageMapGuide",{enumerable:!0,get:function(){return h.default}});Object.defineProperty(A,"ImageStatic",{enumerable:!0,get:function(){return x.default}});Object.defineProperty(A,"ImageWMS",{enumerable:!0,get:function(){return O.default}});Object.defineProperty(A,"OSM",{enumerable:!0,get:function(){return G.default}});
Object.defineProperty(A,"Raster",{enumerable:!0,get:function(){return I.default}});Object.defineProperty(A,"Source",{enumerable:!0,get:function(){return F.default}});Object.defineProperty(A,"Stamen",{enumerable:!0,get:function(){return C.default}});Object.defineProperty(A,"Tile",{enumerable:!0,get:function(){return r.default}});Object.defineProperty(A,"TileArcGISRest",{enumerable:!0,get:function(){return y.default}});Object.defineProperty(A,"TileDebug",{enumerable:!0,get:function(){return K.default}});
Object.defineProperty(A,"TileImage",{enumerable:!0,get:function(){return R.default}});Object.defineProperty(A,"TileJSON",{enumerable:!0,get:function(){return S.default}});Object.defineProperty(A,"TileWMS",{enumerable:!0,get:function(){return ca.default}});Object.defineProperty(A,"UrlTile",{enumerable:!0,get:function(){return M.default}});Object.defineProperty(A,"UTFGrid",{enumerable:!0,get:function(){return aa.default}});Object.defineProperty(A,"Vector",{enumerable:!0,get:function(){return Y.default}});
Object.defineProperty(A,"VectorTile",{enumerable:!0,get:function(){return ea.default}});Object.defineProperty(A,"WMTS",{enumerable:!0,get:function(){return Ga.default}});Object.defineProperty(A,"XYZ",{enumerable:!0,get:function(){return X.default}});Object.defineProperty(A,"Zoomify",{enumerable:!0,get:function(){return D.default}});var k=w(L(181)),p=L(84),q=w(L(203)),t=w(L(205)),n=w(L(212)),f=w(L(214)),b=w(L(261)),c=w(L(264)),e=w(L(266)),g=w(L(268)),m=w(L(270)),h=w(L(271)),x=w(L(272)),O=w(L(274)),
G=w(L(275)),I=w(L(285)),F=w(L(194)),C=w(L(286)),r=w(L(198)),y=w(L(287)),K=w(L(288)),R=w(L(201)),S=w(L(289)),ca=w(L(290)),M=w(L(200)),aa=w(L(291)),Y=w(L(211)),ea=w(L(294)),Ga=w(L(296)),X=w(L(204)),D=w(L(262))};
shadow$provide[298]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k){k=k||{};this.color_=void 0!==k.color?k.color:null}clone(){const k=this.getColor();return new w({color:Array.isArray(k)?k.slice():k||void 0})}getColor(){return this.color_}setColor(k){this.color_=k}}A.default=w};
shadow$provide[299]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k){k=k||{};this.color_=void 0!==k.color?k.color:null;this.lineCap_=k.lineCap;this.lineDash_=void 0!==k.lineDash?k.lineDash:null;this.lineDashOffset_=k.lineDashOffset;this.lineJoin_=k.lineJoin;this.miterLimit_=k.miterLimit;this.width_=k.width}clone(){const k=this.getColor();return new w({color:Array.isArray(k)?k.slice():k||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?
this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(k){this.color_=k}setLineCap(k){this.lineCap_=k}setLineDash(k){this.lineDash_=k}setLineDashOffset(k){this.lineDashOffset_=
k}setLineJoin(k){this.lineJoin_=k}setMiterLimit(k){this.miterLimit_=k}setWidth(k){this.width_=k}}A.default=w};
shadow$provide[300]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(75),k=L(167);class p{constructor(q){this.opacity_=q.opacity;this.rotateWithView_=q.rotateWithView;this.rotation_=q.rotation;this.scale_=q.scale;this.scaleArray_=(0,k.toSize)(q.scale);this.displacement_=q.displacement;this.declutterMode_=q.declutterMode}clone(){const q=this.getScale();return new p({opacity:this.getOpacity(),scale:Array.isArray(q)?q.slice():q,rotation:this.getRotation(),
rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return(0,w.abstract)()}getImage(q){return(0,w.abstract)()}getHitDetectionImage(){return(0,w.abstract)()}getPixelRatio(q){return 1}getImageState(){return(0,w.abstract)()}getImageSize(){return(0,w.abstract)()}getOrigin(){return(0,w.abstract)()}getSize(){return(0,w.abstract)()}setDisplacement(q){this.displacement_=
q}setOpacity(q){this.opacity_=q}setRotateWithView(q){this.rotateWithView_=q}setRotation(q){this.rotation_=q}setScale(q){this.scale_=q;this.scaleArray_=(0,k.toSize)(q)}listenImageChange(q){(0,w.abstract)()}load(){(0,w.abstract)()}unlistenImageChange(q){(0,w.abstract)()}}A.default=p};
shadow$provide[301]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.asColorLike=function(k){return Array.isArray(k)?(0,w.toString)(k):k};var w=L(86)};
shadow$provide[302]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(184));Ka=w(L(300));var p=L(86),q=L(301),t=L(97),n=L(98);class f extends Ka.default{constructor(b){super({opacity:1,rotateWithView:void 0!==b.rotateWithView?b.rotateWithView:!1,rotation:void 0!==b.rotation?b.rotation:0,scale:void 0!==b.scale?b.scale:1,displacement:void 0!==b.displacement?b.displacement:[0,0],declutterMode:b.declutterMode});
this.canvas_=void 0;this.hitDetectionCanvas_=null;this.fill_=void 0!==b.fill?b.fill:null;this.origin_=[0,0];this.points_=b.points;this.radius_=void 0!==b.radius?b.radius:b.radius1;this.radius2_=b.radius2;this.angle_=void 0!==b.angle?b.angle:0;this.stroke_=void 0!==b.stroke?b.stroke:null;this.renderOptions_=this.size_=null;this.render()}clone(){var b=this.getScale();b=new f({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),
angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(b)?b.slice():b,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});b.setOpacity(this.getOpacity());return b}getAnchor(){const b=this.size_;if(!b)return null;const c=this.getDisplacement(),e=this.getScaleArray();return[b[0]/2-c[0]/e[0],b[1]/2+c[1]/e[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(b){this.fill_=
b;this.render()}getHitDetectionImage(){this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_);return this.hitDetectionCanvas_}getImage(b){var c=this.canvas_[b];if(!c){c=this.renderOptions_;const e=(0,t.createCanvasContext2D)(c.size*b,c.size*b);this.draw_(c,e,b);c=e.canvas;this.canvas_[b]=c}return c}getPixelRatio(b){return b}getImageSize(){return this.size_}getImageState(){return k.default.LOADED}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius_}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(b){this.stroke_=
b;this.render()}listenImageChange(b){}load(){}unlistenImageChange(b){}calculateLineJoinSize_(b,c,e){if(0===c||Infinity===this.points_||"bevel"!==b&&"miter"!==b)return c;let g=this.radius_,m=void 0===this.radius2_?g:this.radius2_;if(g<m){var h=g;g=m;m=h}h=2*Math.PI/(void 0===this.radius2_?this.points_:2*this.points_);var x=m*Math.sin(h),O=g-Math.sqrt(m*m-x*x);const G=Math.sqrt(x*x+O*O);x=G/x;if("miter"===b&&x<=e)return x*c;x=c/2/x;O=c/2*(O/G);O=Math.sqrt((g+x)*(g+x)+O*O)-g;if(void 0===this.radius2_||
"bevel"===b)return 2*O;b=g*Math.sin(h);h=m-Math.sqrt(g*g-b*b);b=Math.sqrt(b*b+h*h)/b;return b<=e?2*Math.max(O,b*c/2-m-g):2*O}createRenderOptions(){let b=n.defaultLineJoin,c=0,e=null,g=0,m,h=0;this.stroke_&&(m=this.stroke_.getColor(),null===m&&(m=n.defaultStrokeStyle),m=(0,q.asColorLike)(m),h=this.stroke_.getWidth(),void 0===h&&(h=n.defaultLineWidth),e=this.stroke_.getLineDash(),g=this.stroke_.getLineDashOffset(),b=this.stroke_.getLineJoin(),void 0===b&&(b=n.defaultLineJoin),c=this.stroke_.getMiterLimit(),
void 0===c&&(c=n.defaultMiterLimit));const x=this.calculateLineJoinSize_(b,h,c);return{strokeStyle:m,strokeWidth:h,size:Math.ceil(2*Math.max(this.radius_,this.radius2_||0)+x),lineDash:e,lineDashOffset:g,lineJoin:b,miterLimit:c}}render(){this.renderOptions_=this.createRenderOptions();const b=this.renderOptions_.size;this.canvas_={};this.size_=[b,b]}draw_(b,c,e){c.scale(e,e);c.translate(b.size/2,b.size/2);this.createPath_(c);this.fill_&&(e=this.fill_.getColor(),null===e&&(e=n.defaultFillStyle),c.fillStyle=
(0,q.asColorLike)(e),c.fill());this.stroke_&&(c.strokeStyle=b.strokeStyle,c.lineWidth=b.strokeWidth,b.lineDash&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.miterLimit=b.miterLimit,c.stroke())}createHitDetectionCanvas_(b){if(this.fill_){var c=this.fill_.getColor();let e=0;"string"===typeof c&&(c=(0,p.asArray)(c));null===c?e=1:Array.isArray(c)&&(e=4===c.length?c[3]:1);0===e&&(c=(0,t.createCanvasContext2D)(b.size,b.size),this.hitDetectionCanvas_=c.canvas,this.drawHitDetectionCanvas_(b,
c))}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))}createPath_(b){let c=this.points_;const e=this.radius_;if(Infinity===c)b.arc(0,0,e,0,2*Math.PI);else{const g=void 0===this.radius2_?e:this.radius2_;void 0!==this.radius2_&&(c*=2);const m=this.angle_-Math.PI/2,h=2*Math.PI/c;for(let x=0;x<c;x++){const O=m+x*h,G=0===x%2?e:g;b.lineTo(G*Math.cos(O),G*Math.sin(O))}b.closePath()}}drawHitDetectionCanvas_(b,c){c.translate(b.size/2,b.size/2);this.createPath_(c);c.fillStyle=n.defaultFillStyle;
c.fill();this.stroke_&&(c.strokeStyle=b.strokeStyle,c.lineWidth=b.strokeWidth,b.lineDash&&(c.setLineDash(b.lineDash),c.lineDashOffset=b.lineDashOffset),c.lineJoin=b.lineJoin,c.miterLimit=b.miterLimit,c.stroke())}}A.default=f};
shadow$provide[303]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(k){return k&&k.__esModule?k:{default:k}}(L(302));class w extends Ka.default{constructor(k){k=k?k:{radius:5};super({points:Infinity,fill:k.fill,radius:k.radius,stroke:k.stroke,scale:void 0!==k.scale?k.scale:1,rotation:void 0!==k.rotation?k.rotation:0,rotateWithView:void 0!==k.rotateWithView?k.rotateWithView:!1,displacement:void 0!==k.displacement?k.displacement:[0,0],declutterMode:k.declutterMode})}clone(){var k=
this.getScale();k=new w({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(k)?k.slice():k,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});k.setOpacity(this.getOpacity());return k}setRadius(k){this.radius_=k;this.render()}}A.default=w};
shadow$provide[304]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}function k(c){return c.getGeometry()}Object.defineProperty(A,"__esModule",{value:!0});A.toFunction=function(c){if("function"!==typeof c){let e;Array.isArray(c)?e=c:((0,n.assert)("function"===typeof c.getZIndex,41),e=[c]);c=function(){return e}}return c};A.createDefaultStyle=function(c,e){b||(c=new q.default({color:"rgba(255,255,255,0.4)"}),e=new t.default({color:"#3399CC",width:1.25}),b=[new f({image:new p.default({fill:c,
stroke:e,radius:5}),fill:c,stroke:e})]);return b};A.createEditingStyle=function(){const c={},e=[255,255,255,1],g=[0,153,255,1];c.Polygon=[new f({fill:new q.default({color:[255,255,255,.5]})})];c.MultiPolygon=c.Polygon;c.LineString=[new f({stroke:new t.default({color:e,width:5})}),new f({stroke:new t.default({color:g,width:3})})];c.MultiLineString=c.LineString;c.Circle=c.Polygon.concat(c.LineString);c.Point=[new f({image:new p.default({radius:6,fill:new q.default({color:g}),stroke:new t.default({color:e,
width:1.5})}),zIndex:Infinity})];c.MultiPoint=c.Point;c.GeometryCollection=c.Polygon.concat(c.LineString,c.Point);return c};A.default=void 0;var p=w(L(303)),q=w(L(298)),t=w(L(299)),n=L(81);class f{constructor(c){c=c||{};this.geometry_=null;this.geometryFunction_=k;void 0!==c.geometry&&this.setGeometry(c.geometry);this.fill_=void 0!==c.fill?c.fill:null;this.image_=void 0!==c.image?c.image:null;this.renderer_=void 0!==c.renderer?c.renderer:null;this.hitDetectionRenderer_=void 0!==c.hitDetectionRenderer?
c.hitDetectionRenderer:null;this.stroke_=void 0!==c.stroke?c.stroke:null;this.text_=void 0!==c.text?c.text:null;this.zIndex_=c.zIndex}clone(){let c=this.getGeometry();c&&"object"===typeof c&&(c=c.clone());return new f({geometry:c,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(c){this.renderer_=
c}setHitDetectionRenderer(c){this.hitDetectionRenderer_=c}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(c){this.fill_=c}getImage(){return this.image_}setImage(c){this.image_=c}getStroke(){return this.stroke_}setStroke(c){this.stroke_=c}getText(){return this.text_}setText(c){this.text_=c}getZIndex(){return this.zIndex_}setGeometry(c){"function"===typeof c?this.geometryFunction_=
c:"string"===typeof c?this.geometryFunction_=function(e){return e.get(c)}:c?void 0!==c&&(this.geometryFunction_=function(){return c}):this.geometryFunction_=k;this.geometry_=c}setZIndex(c){this.zIndex_=c}}let b=null;A.default=f};
shadow$provide[305]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=function(q){return q&&q.__esModule?q:{default:q}}(L(298)),k=L(167);class p{constructor(q){q=q||{};this.font_=q.font;this.rotation_=q.rotation;this.rotateWithView_=q.rotateWithView;this.scale_=q.scale;this.scaleArray_=(0,k.toSize)(void 0!==q.scale?q.scale:1);this.text_=q.text;this.textAlign_=q.textAlign;this.justify_=q.justify;this.textBaseline_=q.textBaseline;this.fill_=void 0!==q.fill?
q.fill:new w.default({color:"#333"});this.maxAngle_=void 0!==q.maxAngle?q.maxAngle:Math.PI/4;this.placement_=void 0!==q.placement?q.placement:"point";this.overflow_=!!q.overflow;this.stroke_=void 0!==q.stroke?q.stroke:null;this.offsetX_=void 0!==q.offsetX?q.offsetX:0;this.offsetY_=void 0!==q.offsetY?q.offsetY:0;this.backgroundFill_=q.backgroundFill?q.backgroundFill:null;this.backgroundStroke_=q.backgroundStroke?q.backgroundStroke:null;this.padding_=void 0===q.padding?null:q.padding}clone(){const q=
this.getScale();return new p({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(q)?q.slice():q,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),
backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}setOverflow(q){this.overflow_=
q}setFont(q){this.font_=q}setMaxAngle(q){this.maxAngle_=q}setOffsetX(q){this.offsetX_=q}setOffsetY(q){this.offsetY_=q}setPlacement(q){this.placement_=q}setRotateWithView(q){this.rotateWithView_=q}setFill(q){this.fill_=q}setRotation(q){this.rotation_=q}setScale(q){this.scale_=q;this.scaleArray_=(0,k.toSize)(void 0!==q?q:1)}setStroke(q){this.stroke_=q}setText(q){this.text_=q}setTextAlign(q){this.textAlign_=q}setJustify(q){this.justify_=q}setTextBaseline(q){this.textBaseline_=q}setBackgroundFill(q){this.backgroundFill_=
q}setBackgroundStroke(q){this.backgroundStroke_=q}setPadding(q){this.padding_=q}}A.default=p};
shadow$provide[306]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.get=function(e,g,m,h,x,O){let G=n.shared.get(g,h,O);G||(G=new c(e,g,m,h,x,O),n.shared.set(g,h,O,G));return G};A.default=void 0;Ka=w(L(71));var k=w(L(72)),p=w(L(184)),q=L(86),t=L(97),n=L(87),f=L(185);let b=null;class c extends Ka.default{constructor(e,g,m,h,x,O){super();this.hitDetectionImage_=null;this.image_=e;this.crossOrigin_=h;this.canvas_={};this.color_=
O;this.unlisten_=null;this.imageState_=x;this.size_=m;this.src_=g}initializeImage_(){this.image_=new Image;null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(void 0===this.tainted_&&this.imageState_===p.default.LOADED){b||(b=(0,t.createCanvasContext2D)(1,1));b.drawImage(this.image_,0,0);try{b.getImageData(0,0,1,1),this.tainted_=!1}catch(e){b=null,this.tainted_=!0}}return!0===this.tainted_}dispatchChangeEvent_(){this.dispatchEvent(k.default.CHANGE)}handleImageError_(){this.imageState_=
p.default.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=p.default.LOADED;this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.dispatchChangeEvent_()}getImage(e){this.image_||this.initializeImage_();this.replaceColor_(e);return this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){this.replaceColor_(e);return this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){this.image_||
this.initializeImage_();if(!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],g=this.size_[1],m=(0,t.createCanvasContext2D)(e,g);m.fillRect(0,0,e,g);this.hitDetectionImage_=m.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===p.default.IDLE){this.image_||this.initializeImage_();this.imageState_=p.default.LOADING;try{this.image_.src=this.src_}catch(e){this.handleImageError_()}this.unlisten_=
(0,f.listenImage)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}}replaceColor_(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===p.default.LOADED){var g=this.image_,m=document.createElement("canvas");m.width=Math.ceil(g.width*e);m.height=Math.ceil(g.height*e);var h=m.getContext("2d");h.scale(e,e);h.drawImage(g,0,0);h.globalCompositeOperation="multiply";h.fillStyle=(0,q.asString)(this.color_);h.fillRect(0,0,m.width/e,m.height/e);h.globalCompositeOperation="destination-in";
h.drawImage(g,0,0);this.canvas_[e]=m}}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}A.default=c};
shadow$provide[307]=function(Ka,L,sb,A){function w(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(72)),p=w(L(184));Ka=w(L(300));var q=L(86),t=L(81),n=L(306),f=L(75);class b extends Ka.default{constructor(c){c=c||{};super({opacity:void 0!==c.opacity?c.opacity:1,rotation:void 0!==c.rotation?c.rotation:0,scale:void 0!==c.scale?c.scale:1,displacement:void 0!==c.displacement?c.displacement:[0,0],rotateWithView:void 0!==c.rotateWithView?
c.rotateWithView:!1,declutterMode:c.declutterMode});this.anchor_=void 0!==c.anchor?c.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=void 0!==c.anchorOrigin?c.anchorOrigin:"top-left";this.anchorXUnits_=void 0!==c.anchorXUnits?c.anchorXUnits:"fraction";this.anchorYUnits_=void 0!==c.anchorYUnits?c.anchorYUnits:"fraction";this.crossOrigin_=void 0!==c.crossOrigin?c.crossOrigin:null;const e=void 0!==c.img?c.img:null;this.imgSize_=c.imgSize;let g=c.src;(0,t.assert)(!(void 0!==g&&e),4);(0,t.assert)(!e||
e&&this.imgSize_,5);void 0!==g&&0!==g.length||!e||(g=e.src||(0,f.getUid)(e));(0,t.assert)(void 0!==g&&0<g.length,6);const m=void 0!==c.src?p.default.IDLE:p.default.LOADED;this.color_=void 0!==c.color?(0,q.asArray)(c.color):null;this.iconImage_=(0,n.get)(e,g,void 0!==this.imgSize_?this.imgSize_:null,this.crossOrigin_,m,this.color_);this.offset_=void 0!==c.offset?c.offset:[0,0];this.offsetOrigin_=void 0!==c.offsetOrigin?c.offsetOrigin:"top-left";this.origin_=null;this.size_=void 0!==c.size?c.size:null}clone(){const c=
this.getScale();return new b({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,imgSize:this.imgSize_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:Array.isArray(c)?c.slice():c,size:null!==this.size_?this.size_.slice():
void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let c=this.normalizedAnchor_;if(!c){c=this.anchor_;var e=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!e)return null;c=this.anchor_.slice();"fraction"==this.anchorXUnits_&&(c[0]*=e[0]);"fraction"==this.anchorYUnits_&&(c[1]*=e[1])}if("top-left"!=this.anchorOrigin_){if(!e)return null;c===this.anchor_&&(c=this.anchor_.slice());if("top-right"==
this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)c[0]=-c[0]+e[0];if("bottom-left"==this.anchorOrigin_||"bottom-right"==this.anchorOrigin_)c[1]=-c[1]+e[1]}this.normalizedAnchor_=c}e=this.getDisplacement();const g=this.getScaleArray();return[c[0]-e[0]/g[0],c[1]+e[1]/g[1]]}setAnchor(c){this.anchor_=c;this.normalizedAnchor_=null}getColor(){return this.color_}getImage(c){return this.iconImage_.getImage(c)}getPixelRatio(c){return this.iconImage_.getPixelRatio(c)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;
let c=this.offset_;if("top-left"!=this.offsetOrigin_){const e=this.getSize(),g=this.iconImage_.getSize();if(!e||!g)return null;c=c.slice();if("top-right"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)c[0]=g[0]-e[0]-c[0];if("bottom-left"==this.offsetOrigin_||"bottom-right"==this.offsetOrigin_)c[1]=g[1]-e[1]-c[1]}return this.origin_=c}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}listenImageChange(c){this.iconImage_.addEventListener(k.default.CHANGE,
c)}load(){this.iconImage_.load()}unlistenImageChange(c){this.iconImage_.removeEventListener(k.default.CHANGE,c)}}A.default=b};
shadow$provide[308]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}function k(g,m){if(g=g[m+"fill-color"])return new t.default({color:g})}function p(g,m){const h=g[m+"stroke-width"],x=g[m+"stroke-color"];if(h||x)return new b.default({width:h,color:x,lineCap:g[m+"stroke-line-cap"],lineJoin:g[m+"stroke-line-join"],lineDash:g[m+"stroke-line-dash"],lineDashOffset:g[m+"stroke-line-dash-offset"],miterLimit:g[m+"stroke-miter-limit"]})}Object.defineProperty(A,"__esModule",{value:!0});
A.toStyle=function(g){var m=c.default,h=k(g,""),x=p(g,"");var O=(O=g["text-value"])?new e.default({text:O,font:g["text-font"],maxAngle:g["text-max-angle"],offsetX:g["text-offset-x"],offsetY:g["text-offset-y"],overflow:g["text-overflow"],placement:g["text-placement"],scale:g["text-scale"],rotateWithView:g["text-rotate-with-view"],rotation:g["text-rotation"],textAlign:g["text-align"],justify:g["text-justify"],textBaseline:g["text-baseline"],padding:g["text-padding"],fill:k(g,"text-"),backgroundFill:k(g,
"text-background-"),stroke:p(g,"text-"),backgroundStroke:p(g,"text-background-")}):void 0;{var G=g["icon-src"];const I=g["icon-img"];g=G||I?new n.default({src:G,img:I,imgSize:g["icon-img-size"],anchor:g["icon-anchor"],anchorOrigin:g["icon-anchor-origin"],anchorXUnits:g["icon-anchor-x-units"],anchorYUnits:g["icon-anchor-y-units"],color:g["icon-color"],crossOrigin:g["icon-cross-origin"],offset:g["icon-offset"],displacement:g["icon-displacement"],opacity:g["icon-opacity"],scale:g["icon-scale"],rotation:g["icon-rotation"],
rotateWithView:g["icon-rotate-with-view"],size:g["icon-size"],declutterMode:g["icon-declutter-mode"]}):(G=g["shape-points"])?new f.default({points:G,fill:k(g,"shape-"),stroke:p(g,"shape-"),radius:g["shape-radius"],radius1:g["shape-radius1"],radius2:g["shape-radius2"],angle:g["shape-angle"],displacement:g["shape-displacement"],rotation:g["shape-rotation"],rotateWithView:g["shape-rotate-with-view"],scale:g["shape-scale"],declutterMode:g["shape-declutter-mode"]}):(G=g["circle-radius"])?new q.default({radius:G,
fill:k(g,"circle-"),stroke:p(g,"circle-"),displacement:g["circle-displacement"],scale:g["circle-scale"],rotation:g["circle-rotation"],rotateWithView:g["circle-rotate-with-view"],declutterMode:g["circle-declutter-mode"]}):void 0}return new m({fill:h,stroke:x,text:O,image:g})};var q=w(L(303)),t=w(L(298)),n=w(L(307)),f=w(L(302)),b=w(L(299)),c=w(L(304)),e=w(L(305))};
shadow$provide[309]=function(Ka,L,sb,A){function w(f){if("function"!==typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(w=function(e){return e?c:b})(f)}function k(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=k(L(91));var p=k(L(206)),q=function(f,b){if(!b&&f&&f.__esModule)return f;if(null===f||"object"!==typeof f&&"function"!==typeof f)return{default:f};if((b=w(b))&&b.has(f))return b.get(f);var c={},e=Object.defineProperty&&
Object.getOwnPropertyDescriptor,g;for(g in f)if("default"!==g&&Object.prototype.hasOwnProperty.call(f,g)){var m=e?Object.getOwnPropertyDescriptor(f,g):null;m&&(m.get||m.set)?Object.defineProperty(c,g,m):c[g]=f[g]}c.default=f;b&&b.set(f,c);return c}(L(304)),t=L(308);class n extends Ka.default{constructor(f){f=f?f:{};const b=Object.assign({},f);delete b.style;delete b.renderBuffer;delete b.updateWhileAnimating;delete b.updateWhileInteracting;super(b);this.declutter_=void 0!==f.declutter?f.declutter:
!1;this.renderBuffer_=void 0!==f.renderBuffer?f.renderBuffer:100;this.style_=null;this.styleFunction_=void 0;this.setStyle(f.style);this.updateWhileAnimating_=void 0!==f.updateWhileAnimating?f.updateWhileAnimating:!1;this.updateWhileInteracting_=void 0!==f.updateWhileInteracting?f.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(f){return super.getFeatures(f)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get("renderOrder")}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(f){f.declutterTree||
(f.declutterTree=new p.default(9));this.getRenderer().renderDeclutter(f)}setRenderOrder(f){this.set("renderOrder",f)}setStyle(f){if(void 0===f)var b=q.createDefaultStyle;else if(null===f)b=null;else if("function"===typeof f)b=f;else if(f instanceof q.default)b=f;else if(Array.isArray(f)){b=f.length;const c=Array(b);for(let e=0;e<b;++e){const g=f[e];c[e]=g instanceof q.default?g:(0,t.toStyle)(g)}b=c}else b=(0,t.toStyle)(f);this.style_=b;this.styleFunction_=null===f?void 0:(0,q.toFunction)(this.style_);
this.changed()}}A.default=n};
shadow$provide[310]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};A.fillInstruction=[Ka.FILL];A.strokeInstruction=[Ka.STROKE];A.beginPathInstruction=[Ka.BEGIN_PATH];A.closePathInstruction=[Ka.CLOSE_PATH];A.default=Ka};
shadow$provide[311]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{drawCustom(k,p,q,t){}drawGeometry(k){}setStyle(k){}drawCircle(k,p){}drawFeature(k,p){}drawGeometryCollection(k,p){}drawLineString(k,p){}drawMultiLineString(k,p){}drawMultiPoint(k,p){}drawMultiPolygon(k,p){}drawPoint(k,p){}drawPolygon(k,p){}drawText(k,p){}setFillStrokeStyle(k,p){}setImageStyle(k,p){}setTextStyle(k,p){}}A.default=w};
shadow$provide[312]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(310)),p=w(L(83));Ka=w(L(311));var q=L(301),t=L(84),n=L(98),f=L(68),b=L(132);class c extends Ka.default{constructor(e,g,m,h){super();this.tolerance=e;this.maxExtent=g;this.pixelRatio=h;this.maxLineWidth=0;this.resolution=m;this.bufferedMaxExtent_=this.beginGeometryInstruction2_=this.beginGeometryInstruction1_=null;this.instructions=[];
this.coordinates=[];this.tmpCoordinate_=[];this.hitDetectionInstructions=[];this.state={}}applyPixelRatio(e){const g=this.pixelRatio;return 1==g?e:e.map(function(m){return m*g})}appendFlatPointCoordinates(e,g){const m=this.getBufferedMaxExtent(),h=this.tmpCoordinate_,x=this.coordinates;let O=x.length;for(let G=0,I=e.length;G<I;G+=g)h[0]=e[G],h[1]=e[G+1],(0,t.containsCoordinate)(m,h)&&(x[O++]=h[0],x[O++]=h[1]);return O}appendFlatLineCoordinates(e,g,m,h,x,O){const G=this.coordinates;let I=G.length;
const F=this.getBufferedMaxExtent();O&&(g+=h);O=e[g];let C=e[g+1];const r=this.tmpCoordinate_;let y=!0,K,R,S;for(K=g+h;K<m;K+=h)r[0]=e[K],r[1]=e[K+1],S=(0,t.coordinateRelationship)(F,r),S!==R?(y&&(G[I++]=O,G[I++]=C,y=!1),G[I++]=r[0],G[I++]=r[1]):S===p.default.INTERSECTING?(G[I++]=r[0],G[I++]=r[1],y=!1):y=!0,O=r[0],C=r[1],R=S;if(x&&y||K===g+h)G[I++]=O,G[I++]=C;return I}drawCustomCoordinates_(e,g,m,h,x){for(let O=0,G=m.length;O<G;++O){const I=m[O];g=this.appendFlatLineCoordinates(e,g,I,h,!1,!1);x.push(g);
g=I}return g}drawCustom(e,g,m,h){this.beginGeometry(e,g);var x=e.getType(),O=e.getStride();const G=this.coordinates.length;let I;switch(x){case "MultiPolygon":x=e.getOrientedFlatCoordinates();var F=[];const C=e.getEndss();I=0;for(let r=0,y=C.length;r<y;++r){const K=[];I=this.drawCustomCoordinates_(x,I,C[r],O,K);F.push(K)}this.instructions.push([k.default.CUSTOM,G,F,e,m,b.inflateMultiCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,G,F,e,h||m,b.inflateMultiCoordinatesArray]);
break;case "Polygon":case "MultiLineString":F=[];x="Polygon"==x?e.getOrientedFlatCoordinates():e.getFlatCoordinates();this.drawCustomCoordinates_(x,0,e.getEnds(),O,F);this.instructions.push([k.default.CUSTOM,G,F,e,m,b.inflateCoordinatesArray]);this.hitDetectionInstructions.push([k.default.CUSTOM,G,F,e,h||m,b.inflateCoordinatesArray]);break;case "LineString":case "Circle":x=e.getFlatCoordinates();O=this.appendFlatLineCoordinates(x,0,x.length,O,!1,!1);this.instructions.push([k.default.CUSTOM,G,O,e,
m,b.inflateCoordinates]);this.hitDetectionInstructions.push([k.default.CUSTOM,G,O,e,h||m,b.inflateCoordinates]);break;case "MultiPoint":x=e.getFlatCoordinates();O=this.appendFlatPointCoordinates(x,O);O>G&&(this.instructions.push([k.default.CUSTOM,G,O,e,m,b.inflateCoordinates]),this.hitDetectionInstructions.push([k.default.CUSTOM,G,O,e,h||m,b.inflateCoordinates]));break;case "Point":x=e.getFlatCoordinates(),this.coordinates.push(x[0],x[1]),O=this.coordinates.length,this.instructions.push([k.default.CUSTOM,
G,O,e,m]),this.hitDetectionInstructions.push([k.default.CUSTOM,G,O,e,h||m])}this.endGeometry(g)}beginGeometry(e,g){this.beginGeometryInstruction1_=[k.default.BEGIN_GEOMETRY,g,0,e];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[k.default.BEGIN_GEOMETRY,g,0,e];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=
this.hitDetectionInstructions;e.reverse();let g;const m=e.length;let h,x,O=-1;for(g=0;g<m;++g)h=e[g],x=h[0],x==k.default.END_GEOMETRY?O=g:x==k.default.BEGIN_GEOMETRY&&(h[2]=g,(0,f.reverseSubArray)(this.hitDetectionInstructions,O,g),O=-1)}setFillStrokeStyle(e,g){const m=this.state;e?(e=e.getColor(),m.fillStyle=(0,q.asColorLike)(e?e:n.defaultFillStyle)):m.fillStyle=void 0;g?(e=g.getColor(),m.strokeStyle=(0,q.asColorLike)(e?e:n.defaultStrokeStyle),e=g.getLineCap(),m.lineCap=void 0!==e?e:n.defaultLineCap,
e=g.getLineDash(),m.lineDash=e?e.slice():n.defaultLineDash,e=g.getLineDashOffset(),m.lineDashOffset=e?e:n.defaultLineDashOffset,e=g.getLineJoin(),m.lineJoin=void 0!==e?e:n.defaultLineJoin,e=g.getWidth(),m.lineWidth=void 0!==e?e:n.defaultLineWidth,g=g.getMiterLimit(),m.miterLimit=void 0!==g?g:n.defaultMiterLimit,m.lineWidth>this.maxLineWidth&&(this.maxLineWidth=m.lineWidth,this.bufferedMaxExtent_=null)):(m.strokeStyle=void 0,m.lineCap=void 0,m.lineDash=null,m.lineDashOffset=void 0,m.lineJoin=void 0,
m.lineWidth=void 0,m.miterLimit=void 0)}createFill(e){e=e.fillStyle;const g=[k.default.SET_FILL_STYLE,e];"string"!==typeof e&&g.push(!0);return g}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[k.default.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,g){const m=e.fillStyle;if("string"!==typeof m||e.currentFillStyle!=m)void 0!==m&&this.instructions.push(g.call(this,
e)),e.currentFillStyle=m}updateStrokeStyle(e,g){const m=e.strokeStyle,h=e.lineCap,x=e.lineDash,O=e.lineDashOffset,G=e.lineJoin,I=e.lineWidth,F=e.miterLimit;if(e.currentStrokeStyle!=m||e.currentLineCap!=h||x!=e.currentLineDash&&!(0,f.equals)(e.currentLineDash,x)||e.currentLineDashOffset!=O||e.currentLineJoin!=G||e.currentLineWidth!=I||e.currentMiterLimit!=F)void 0!==m&&g.call(this,e),e.currentStrokeStyle=m,e.currentLineCap=h,e.currentLineDash=x,e.currentLineDashOffset=O,e.currentLineJoin=G,e.currentLineWidth=
I,e.currentMiterLimit=F}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;e=[k.default.END_GEOMETRY,e];this.instructions.push(e);this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){this.bufferedMaxExtent_||(this.bufferedMaxExtent_=(0,t.clone)(this.maxExtent),0<this.maxLineWidth&&(0,t.buffer)(this.bufferedMaxExtent_,this.resolution*
(this.maxLineWidth+1)/2,this.bufferedMaxExtent_));return this.bufferedMaxExtent_}}A.default=c};
shadow$provide[313]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(312));var k=w(L(310));class p extends Ka.default{constructor(q,t,n,f){super(q,t,n,f);this.image_=this.hitDetectionImage_=null;this.declutterImageWithText_=this.declutterMode_=this.width_=this.scale_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.height_=this.anchorY_=this.anchorX_=this.imagePixelRatio_=
void 0}drawPoint(q,t){if(this.image_){this.beginGeometry(q,t);var n=q.getFlatCoordinates(),f=q.getStride();q=this.coordinates.length;n=this.appendFlatPointCoordinates(n,f);this.instructions.push([k.default.DRAW_IMAGE,q,n,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/
this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,q,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(t)}}drawMultiPoint(q,t){if(this.image_){this.beginGeometry(q,
t);var n=q.getFlatCoordinates(),f=q.getStride();q=this.coordinates.length;n=this.appendFlatPointCoordinates(n,f);this.instructions.push([k.default.DRAW_IMAGE,q,n,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],
Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]);this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,q,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]);this.endGeometry(t)}}finish(){this.reverseHitDetectionInstructions();this.anchorY_=this.anchorX_=void 0;this.image_=this.hitDetectionImage_=
null;this.width_=this.rotation_=this.rotateWithView_=this.originY_=this.originX_=this.opacity_=this.scale_=this.height_=this.imagePixelRatio_=void 0;return super.finish()}setImageStyle(q,t){const n=q.getAnchor(),f=q.getSize(),b=q.getOrigin();this.imagePixelRatio_=q.getPixelRatio(this.pixelRatio);this.anchorX_=n[0];this.anchorY_=n[1];this.hitDetectionImage_=q.getHitDetectionImage();this.image_=q.getImage(this.pixelRatio);this.height_=f[1];this.opacity_=q.getOpacity();this.originX_=b[0];this.originY_=
b[1];this.rotateWithView_=q.getRotateWithView();this.rotation_=q.getRotation();this.scale_=q.getScaleArray();this.width_=f[0];this.declutterMode_=q.getDeclutterMode();this.declutterImageWithText_=t}}A.default=p};
shadow$provide[314]=function(Ka,L,sb,A){function w(t){if("function"!==typeof WeakMap)return null;var n=new WeakMap,f=new WeakMap;return(w=function(b){return b?f:n})(t)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(312));var k=function(t,n){if(!n&&t&&t.__esModule)return t;if(null===t||"object"!==typeof t&&"function"!==typeof t)return{default:t};if((n=w(n))&&n.has(t))return n.get(t);var f={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor,
c;for(c in t)if("default"!==c&&Object.prototype.hasOwnProperty.call(t,c)){var e=b?Object.getOwnPropertyDescriptor(t,c):null;e&&(e.get||e.set)?Object.defineProperty(f,c,e):f[c]=t[c]}f.default=t;n&&n.set(t,f);return f}(L(310)),p=L(98);class q extends Ka.default{constructor(t,n,f,b){super(t,n,f,b)}drawFlatCoordinates_(t,n,f,b){var c=this.coordinates.length;t=this.appendFlatLineCoordinates(t,n,f,b,!1,!1);c=[k.default.MOVE_TO_LINE_TO,c,t];this.instructions.push(c);this.hitDetectionInstructions.push(c);
return f}drawLineString(t,n){var f=this.state;const b=f.lineWidth;void 0!==f.strokeStyle&&void 0!==b&&(this.updateStrokeStyle(f,this.applyStroke),this.beginGeometry(t,n),this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,p.defaultLineDash,p.defaultLineDashOffset],k.beginPathInstruction),f=t.getFlatCoordinates(),t=t.getStride(),this.drawFlatCoordinates_(f,0,f.length,t),this.hitDetectionInstructions.push(k.strokeInstruction),this.endGeometry(n))}drawMultiLineString(t,
n){var f=this.state,b=f.lineWidth;if(void 0!==f.strokeStyle&&void 0!==b){this.updateStrokeStyle(f,this.applyStroke);this.beginGeometry(t,n);this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,f.lineDashOffset],k.beginPathInstruction);f=t.getEnds();b=t.getFlatCoordinates();t=t.getStride();var c=0;for(let e=0,g=f.length;e<g;++e)c=this.drawFlatCoordinates_(b,c,f[e],t);this.hitDetectionInstructions.push(k.strokeInstruction);
this.endGeometry(n)}}finish(){const t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(k.strokeInstruction);this.reverseHitDetectionInstructions();this.state=null;return super.finish()}applyStroke(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(k.strokeInstruction),t.lastStroke=this.coordinates.length);t.lastStroke=0;super.applyStroke(t);this.instructions.push(k.beginPathInstruction)}}A.default=q};
shadow$provide[315]=function(Ka,L,sb,A){function w(n){if("function"!==typeof WeakMap)return null;var f=new WeakMap,b=new WeakMap;return(w=function(c){return c?b:f})(n)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(n){return n&&n.__esModule?n:{default:n}}(L(312));var k=function(n,f){if(!f&&n&&n.__esModule)return n;if(null===n||"object"!==typeof n&&"function"!==typeof n)return{default:n};if((f=w(f))&&f.has(n))return f.get(n);var b={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor,
e;for(e in n)if("default"!==e&&Object.prototype.hasOwnProperty.call(n,e)){var g=c?Object.getOwnPropertyDescriptor(n,e):null;g&&(g.get||g.set)?Object.defineProperty(b,e,g):b[e]=n[e]}b.default=n;f&&f.set(n,b);return b}(L(310)),p=L(98),q=L(131);class t extends Ka.default{constructor(n,f,b,c){super(n,f,b,c)}drawFlatCoordinatess_(n,f,b,c){var e=this.state;const g=void 0!==e.fillStyle;e=void 0!==e.strokeStyle;const m=b.length;this.instructions.push(k.beginPathInstruction);this.hitDetectionInstructions.push(k.beginPathInstruction);
for(let h=0;h<m;++h){const x=b[h],O=this.coordinates.length;f=this.appendFlatLineCoordinates(n,f,x,c,!0,!e);f=[k.default.MOVE_TO_LINE_TO,O,f];this.instructions.push(f);this.hitDetectionInstructions.push(f);e&&(this.instructions.push(k.closePathInstruction),this.hitDetectionInstructions.push(k.closePathInstruction));f=x}g&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));e&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));
return f}drawCircle(n,f){const b=this.state;var c=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==c){this.setFillStrokeStyles_();this.beginGeometry(n,f);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);c=n.getFlatCoordinates();n=n.getStride();var e=this.coordinates.length;
this.appendFlatLineCoordinates(c,0,c.length,n,!1,!1);c=[k.default.CIRCLE,e];this.instructions.push(k.beginPathInstruction,c);this.hitDetectionInstructions.push(k.beginPathInstruction,c);void 0!==b.fillStyle&&(this.instructions.push(k.fillInstruction),this.hitDetectionInstructions.push(k.fillInstruction));void 0!==b.strokeStyle&&(this.instructions.push(k.strokeInstruction),this.hitDetectionInstructions.push(k.strokeInstruction));this.endGeometry(f)}}drawPolygon(n,f){var b=this.state,c=b.strokeStyle;
if(void 0!==b.fillStyle||void 0!==c)this.setFillStrokeStyles_(),this.beginGeometry(n,f),void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]),void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]),b=n.getEnds(),c=n.getOrientedFlatCoordinates(),n=n.getStride(),this.drawFlatCoordinatess_(c,0,b,n),this.endGeometry(f)}drawMultiPolygon(n,
f){var b=this.state,c=b.strokeStyle;if(void 0!==b.fillStyle||void 0!==c){this.setFillStrokeStyles_();this.beginGeometry(n,f);void 0!==b.fillStyle&&this.hitDetectionInstructions.push([k.default.SET_FILL_STYLE,p.defaultFillStyle]);void 0!==b.strokeStyle&&this.hitDetectionInstructions.push([k.default.SET_STROKE_STYLE,b.strokeStyle,b.lineWidth,b.lineCap,b.lineJoin,b.miterLimit,b.lineDash,b.lineDashOffset]);b=n.getEndss();c=n.getOrientedFlatCoordinates();n=n.getStride();var e=0;for(let g=0,m=b.length;g<
m;++g)e=this.drawFlatCoordinatess_(c,e,b[g],n);this.endGeometry(f)}}finish(){this.reverseHitDetectionInstructions();this.state=null;const n=this.tolerance;if(0!==n){const f=this.coordinates;for(let b=0,c=f.length;b<c;++b)f[b]=(0,q.snap)(f[b],n)}return super.finish()}setFillStrokeStyles_(){const n=this.state;void 0!==n.fillStyle&&this.updateFillStyle(n,this.createFill);void 0!==n.strokeStyle&&this.updateStrokeStyle(n,this.applyStroke)}}A.default=t};
shadow$provide[316]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.matchingChunk=function(w,k,p,q,t){let n=p,f=p,b=0,c=0,e=p;let g;let m,h;for(;p<q;p+=t){const I=k[p],F=k[p+1];if(void 0!==x){var x=I-x;var O=F-O;g=Math.sqrt(x*x+O*O);if(void 0!==m){c+=G;var G=Math.acos((m*x+h*O)/(G*g));G>w&&(c>b&&(b=c,n=e,f=p),c=0,e=p-t)}G=g;m=x;h=O}x=I;O=F}return c+g>b?[e,p]:[n,f]}};
shadow$provide[317]=function(Ka,L,sb,A){function w(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(A,"__esModule",{value:!0});A.default=A.TEXT_ALIGN=void 0;Ka=w(L(312));var k=w(L(310)),p=L(301),q=L(98),t=L(75),n=L(84),f=L(316);const b={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};A.TEXT_ALIGN=b;class c extends Ka.default{constructor(e,g,m,h){super(e,g,m,h);this.labels_=null;this.text_="";this.textOffsetY_=this.textOffsetX_=
0;this.textRotateWithView_=void 0;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.strokeKey_=this.fillKey_=this.textKey_="";this.declutterImageWithText_=void 0}finish(){const e=super.finish();e.textStates=this.textStates;e.fillStates=this.fillStates;e.strokeStates=this.strokeStates;return e}drawText(e,g){var m=this.textFillState_,h=this.textStrokeState_;const x=this.textState_;if(""!==this.text_&&
x&&(m||h)){var O=this.coordinates;m=O.length;h=e.getType();var G=null,I=e.getStride();if("line"!==x.placement||"LineString"!=h&&"MultiLineString"!=h&&"Polygon"!=h&&"MultiPolygon"!=h){var F=x.overflow?null:[];switch(h){case "Point":case "MultiPoint":G=e.getFlatCoordinates();break;case "LineString":G=e.getFlatMidpoint();break;case "Circle":G=e.getCenter();break;case "MultiLineString":G=e.getFlatMidpoints();I=2;break;case "Polygon":G=e.getFlatInteriorPoint();x.overflow||F.push(G[2]/this.resolution);
I=3;break;case "MultiPolygon":h=e.getFlatInteriorPoints();G=[];for(let y=0,K=h.length;y<K;y+=3)x.overflow||F.push(h[y+2]/this.resolution),G.push(h[y],h[y+1]);if(0===G.length)return;I=2}h=this.appendFlatPointCoordinates(G,I);if(h===m)return;if(F&&(h-m)/2!==G.length/I){let y=m/2;F=F.filter((K,R)=>{(K=O[2*(y+R)]===G[R*I]&&O[2*(y+R)+1]===G[R*I+1])||--y;return K})}this.saveTextStates_();if(x.backgroundFill||x.backgroundStroke)this.setFillStrokeStyle(x.backgroundFill,x.backgroundStroke),x.backgroundFill&&
(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),x.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)));this.beginGeometry(e,g);e=x.padding;if(e!=q.defaultPadding&&(0>x.scale[0]||0>x.scale[1])){e=x.padding[0];var C=x.padding[1];let y=x.padding[2],K=x.padding[3];0>x.scale[0]&&(C=-C,K=-K);0>x.scale[1]&&(e=-e,y=-y);e=[e,C,y,K]}const r=this.pixelRatio;
this.instructions.push([k.default.DRAW_IMAGE,m,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,void 0,this.declutterImageWithText_,e==q.defaultPadding?q.defaultPadding:e.map(function(y){return y*r}),!!x.backgroundFill,!!x.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,F]);C=1/r;this.hitDetectionInstructions.push([k.default.DRAW_IMAGE,m,h,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,
C],NaN,void 0,this.declutterImageWithText_,e,!!x.backgroundFill,!!x.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,F])}else{if(!(0,n.intersects)(this.getBufferedMaxExtent(),e.getExtent()))return;G=e.getFlatCoordinates();if("LineString"==h)F=[G.length];else if("MultiLineString"==h)F=e.getEnds();else if("Polygon"==h)F=e.getEnds().slice(0,1);else if("MultiPolygon"==h){h=e.getEndss();F=[];for(let r=0,y=h.length;r<y;++r)F.push(h[r][0])}this.beginGeometry(e,
g);e=x.textAlign;h=0;for(let r=0,y=F.length;r<y;++r){void 0==e?(C=(0,f.matchingChunk)(x.maxAngle,G,h,F[r],I),h=C[0],C=C[1]):C=F[r];for(;h<C;h+=I)O.push(G[h],G[h+1]);C=O.length;h=F[r];this.drawChars_(m,C);m=C}}this.endGeometry(g)}}saveTextStates_(){var e=this.textStrokeState_,g=this.textState_;const m=this.textFillState_,h=this.strokeKey_;e&&(h in this.strokeStates||(this.strokeStates[h]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,
miterLimit:e.miterLimit,lineDash:e.lineDash}));e=this.textKey_;e in this.textStates||(this.textStates[e]={font:g.font,textAlign:g.textAlign||q.defaultTextAlign,justify:g.justify,textBaseline:g.textBaseline||q.defaultTextBaseline,scale:g.scale});g=this.fillKey_;m&&(g in this.fillStates||(this.fillStates[g]={fillStyle:m.fillStyle}))}drawChars_(e,g){var m=this.textStrokeState_;const h=this.textState_,x=this.strokeKey_,O=this.textKey_,G=this.fillKey_;this.saveTextStates_();const I=this.pixelRatio,F=b[h.textBaseline],
C=this.textOffsetY_*I,r=this.text_;m=m?m.lineWidth*Math.abs(h.scale[0])/2:0;this.instructions.push([k.default.DRAW_CHARS,e,g,F,h.overflow,G,h.maxAngle,I,C,x,m*I,r,O,1]);this.hitDetectionInstructions.push([k.default.DRAW_CHARS,e,g,F,h.overflow,G,h.maxAngle,1,C,x,m,r,O,1/I])}setTextStyle(e,g){var m;let h;var x;if(e){(x=e.getFill())?(h=this.textFillState_,h||(this.textFillState_=h={}),h.fillStyle=(0,p.asColorLike)(x.getColor()||q.defaultFillStyle)):this.textFillState_=h=null;if(m=e.getStroke()){x=this.textStrokeState_;
x||(this.textStrokeState_=x={});var O=m.getLineDash(),G=m.getLineDashOffset(),I=m.getWidth(),F=m.getMiterLimit();x.lineCap=m.getLineCap()||q.defaultLineCap;x.lineDash=O?O.slice():q.defaultLineDash;x.lineDashOffset=void 0===G?q.defaultLineDashOffset:G;x.lineJoin=m.getLineJoin()||q.defaultLineJoin;x.lineWidth=void 0===I?q.defaultLineWidth:I;x.miterLimit=void 0===F?q.defaultMiterLimit:F;x.strokeStyle=(0,p.asColorLike)(m.getColor()||q.defaultStrokeStyle)}else this.textStrokeState_=x=null;m=this.textState_;
O=e.getFont()||q.defaultFont;(0,q.registerFont)(O);G=e.getScaleArray();m.overflow=e.getOverflow();m.font=O;m.maxAngle=e.getMaxAngle();m.placement=e.getPlacement();m.textAlign=e.getTextAlign();m.justify=e.getJustify();m.textBaseline=e.getTextBaseline()||q.defaultTextBaseline;m.backgroundFill=e.getBackgroundFill();m.backgroundStroke=e.getBackgroundStroke();m.padding=e.getPadding()||q.defaultPadding;m.scale=void 0===G?[1,1]:G;O=e.getOffsetX();G=e.getOffsetY();I=e.getRotateWithView();F=e.getRotation();
this.text_=e.getText()||"";this.textOffsetX_=void 0===O?0:O;this.textOffsetY_=void 0===G?0:G;this.textRotateWithView_=void 0===I?!1:I;this.textRotation_=void 0===F?0:F;this.strokeKey_=x?("string"==typeof x.strokeStyle?x.strokeStyle:(0,t.getUid)(x.strokeStyle))+x.lineCap+x.lineDashOffset+"|"+x.lineWidth+x.lineJoin+x.miterLimit+"["+x.lineDash.join()+"]":"";this.textKey_=m.font+m.scale+(m.textAlign||"?")+(m.justify||"?")+(m.textBaseline||"?");this.fillKey_=h?"string"==typeof h.fillStyle?h.fillStyle:
"|"+(0,t.getUid)(h.fillStyle):""}else this.text_="";this.declutterImageWithText_=g}}A.default=c};
shadow$provide[318]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(312));sb=w(L(313));var k=w(L(314)),p=w(L(315));L=w(L(317));const q={Circle:p.default,Default:Ka.default,Image:sb.default,LineString:k.default,Polygon:p.default,Text:L.default};class t{constructor(n,f,b,c){this.tolerance_=n;this.maxExtent_=f;this.pixelRatio_=c;this.resolution_=b;this.buildersByZIndex_={}}finish(){const n={};for(const f in this.buildersByZIndex_){n[f]=
n[f]||{};const b=this.buildersByZIndex_[f];for(const c in b){const e=b[c].finish();n[f][c]=e}}return n}getBuilder(n,f){var b=void 0!==n?n.toString():"0";n=this.buildersByZIndex_[b];void 0===n&&(n={},this.buildersByZIndex_[b]=n);b=n[f];void 0===b&&(b=new q[f](this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[f]=b);return b}}A.default=t};
shadow$provide[319]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.drawTextOnPath=function(p,q,t,n,f,b,c,e,g,m,h,x){function O(){F=G;C=I;q+=n;G=p[q];I=p[q+1];y+=r;r=Math.sqrt((G-F)*(G-F)+(I-C)*(I-C))}let G=p[q],I=p[q+1],F=0,C=0,r=0,y=0;do O();while(q<t-n&&y+r<b);var K=0===r?0:(b-y)/r,R=(0,w.lerp)(F,G,K),S=(0,w.lerp)(C,I,K),ca=q-n,M=y;const aa=b+e*g(m,f,h);for(;q<t-n&&y+r<aa;)O();K=0===r?0:(aa-y)/r;const Y=(0,w.lerp)(F,G,K);K=(0,w.lerp)(C,I,K);if(x){var ea=[R,S,Y,K];(0,k.rotate)(ea,
0,4,2,x,ea,ea);x=ea[0]>ea[2]}else x=R>Y;ea=Math.PI;const Ga=[],X=ca+n===q;q=ca;r=0;y=M;G=p[q];I=p[q+1];if(X){O();var D=Math.atan2(I-C,G-F);x&&(D+=0<D?-ea:ea);Ga[0]=[(Y+R)/2,(K+S)/2,(aa-b)/2,D,f];return Ga}f=f.replace(/\n/g," ");for(let B=0,N=f.length;B<N;){O();R=Math.atan2(I-C,G-F);x&&(R+=0<R?-ea:ea);if(void 0!==D&&(D=R-D,D+=D>ea?-2*ea:D<-ea?2*ea:0,Math.abs(D)>c))return null;D=R;K=B;for(S=0;B<N;++B){ca=e*g(m,f[x?N-B-1:B],h);if(q+n<t&&y+r<b+S+ca/2)break;S+=ca}B!==K&&(ca=x?f.substring(N-K,N-B):f.substring(K,
B),K=0===r?0:(b+S/2-y)/r,M=(0,w.lerp)(F,G,K),K=(0,w.lerp)(C,I,K),Ga.push([M,K,S/2,R,ca]),b+=S)}return Ga};var w=L(85),k=L(126)};
shadow$provide[320]=function(Ka,L,sb,A){function w(r){return r[3].declutterBox}function k(r,y){"start"!==y&&"end"!==y||F.test(r)||(y="start"===y?"left":"right");return t.TEXT_ALIGN[y]}function p(r,y,K){0<K&&r.push("\n","");r.push(y,"");return r}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var q=function(r){return r&&r.__esModule?r:{default:r}}(L(310)),t=L(317),n=L(82),f=L(84),b=L(98),c=L(319),e=L(68),g=L(172),m=L(126);const h=(0,f.createEmpty)(),x=[],O=[],G=[],I=[],F=new RegExp("["+
String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");class C{constructor(r,y,K,R){this.overlaps=K;this.pixelRatio=y;this.resolution=r;this.instructions=R.instructions;this.coordinates=R.coordinates;this.coordinateCache_={};this.renderedTransform_=(0,n.create)();
this.hitDetectionInstructions=R.hitDetectionInstructions;this.pixelCoordinates_=null;this.viewRotation_=0;this.fillStates=R.fillStates||{};this.strokeStates=R.strokeStates||{};this.textStates=R.textStates||{};this.widths_={};this.labels_={}}createLabel(r,y,K,R){const S=r+y+K+R;if(this.labels_[S])return this.labels_[S];var ca=R?this.strokeStates[R]:null,M=K?this.fillStates[K]:null;y=this.textStates[y];var aa=this.pixelRatio,Y=[y.scale[0]*aa,y.scale[1]*aa],ea=Array.isArray(r);aa=y.justify?t.TEXT_ALIGN[y.justify]:
k(Array.isArray(r)?r[0]:r,y.textAlign||b.defaultTextAlign);const Ga=R&&ca.lineWidth?ca.lineWidth:0;r=ea?r:r.split("\n").reduce(p,[]);const {width:X,height:D,widths:B,heights:N,lineWidths:Z}=(0,b.getTextDimensions)(y,r);ea=X+Ga;const Aa=[];var qa=(ea+2)*Y[0],la=(D+Ga)*Y[1];qa={width:0>qa?Math.floor(qa):Math.ceil(qa),height:0>la?Math.floor(la):Math.ceil(la),contextInstructions:Aa};1==Y[0]&&1==Y[1]||Aa.push("scale",Y);R&&(Aa.push("strokeStyle",ca.strokeStyle),Aa.push("lineWidth",Ga),Aa.push("lineCap",
ca.lineCap),Aa.push("lineJoin",ca.lineJoin),Aa.push("miterLimit",ca.miterLimit),Aa.push("setLineDash",[ca.lineDash]),Aa.push("lineDashOffset",ca.lineDashOffset));K&&Aa.push("fillStyle",M.fillStyle);Aa.push("textBaseline","middle");Aa.push("textAlign","center");ca=.5-aa;M=aa*ea+ca*Ga;Y=[];la=[];let Ja=0,bb=0,ib=0,Ma=0,ma;for(let Ra=0,ra=r.length;Ra<ra;Ra+=2){var Fa=r[Ra];if("\n"===Fa){bb+=Ja;Ja=0;M=aa*ea+ca*Ga;++Ma;continue}const ya=r[Ra+1]||y.font;ya!==ma&&(R&&Y.push("font",ya),K&&la.push("font",
ya),ma=ya);Ja=Math.max(Ja,N[ib]);Fa=[Fa,M+ca*B[ib]+aa*(B[ib]-Z[Ma]),.5*(Ga+Ja)+bb];M+=B[ib];R&&Y.push("strokeText",Fa);K&&la.push("fillText",Fa);++ib}Array.prototype.push.apply(Aa,Y);Array.prototype.push.apply(Aa,la);return this.labels_[S]=qa}replayTextBackground_(r,y,K,R,S,ca,M){r.beginPath();r.moveTo.apply(r,y);r.lineTo.apply(r,K);r.lineTo.apply(r,R);r.lineTo.apply(r,S);r.lineTo.apply(r,y);ca&&(this.alignFill_=ca[2],this.fill_(r));M&&(this.setStrokeStyle_(r,M),r.stroke())}calculateImageOrLabelDimensions_(r,
y,K,R,S,ca,M,aa,Y,ea,Ga,X,D,B,N,Z){M*=X[0];aa*=X[1];M=K-M;aa=R-aa;r=S+Y>r?r-Y:S;y=ca+ea>y?y-ea:ca;ca=B[3]+r*X[0]+B[1];S=B[0]+y*X[1]+B[2];const Aa=M-B[3];B=aa-B[0];if(N||0!==Ga)x[0]=Aa,I[0]=Aa,x[1]=B,O[1]=B,O[0]=Aa+ca,G[0]=O[0],G[1]=B+S,I[1]=G[1];let qa;0!==Ga?(qa=(0,n.compose)((0,n.create)(),K,R,1,1,Ga,-K,-R),(0,n.apply)(qa,x),(0,n.apply)(qa,O),(0,n.apply)(qa,G),(0,n.apply)(qa,I),(0,f.createOrUpdate)(Math.min(x[0],O[0],G[0],I[0]),Math.min(x[1],O[1],G[1],I[1]),Math.max(x[0],O[0],G[0],I[0]),Math.max(x[1],
O[1],G[1],I[1]),h)):(0,f.createOrUpdate)(Math.min(Aa,Aa+ca),Math.min(B,B+S),Math.max(Aa,Aa+ca),Math.max(B,B+S),h);D&&(M=Math.round(M),aa=Math.round(aa));return{drawImageX:M,drawImageY:aa,drawImageW:r,drawImageH:y,originX:Y,originY:ea,declutterBox:{minX:h[0],minY:h[1],maxX:h[2],maxY:h[3],value:Z},canvasTransform:qa,scale:X}}replayImageOrLabel_(r,y,K,R,S,ca,M){const aa=R.declutterBox,Y=r.canvas,ea=M?M[2]*R.scale[0]/2:0;aa.minX-ea<=Y.width/y&&0<=aa.maxX+ea&&aa.minY-ea<=Y.height/y&&0<=aa.maxY+ea&&((ca||
M)&&this.replayTextBackground_(r,x,O,G,I,ca,M),(0,b.drawImageOrLabel)(r,R.canvasTransform,S,K,R.originX,R.originY,R.drawImageW,R.drawImageH,R.drawImageX,R.drawImageY,R.scale));return!0}fill_(r){if(this.alignFill_){const y=(0,n.apply)(this.renderedTransform_,[0,0]),K=512*this.pixelRatio;r.save();r.translate(y[0]%K,y[1]%K);r.rotate(this.viewRotation_)}r.fill();this.alignFill_&&r.restore()}setStrokeStyle_(r,y){r.strokeStyle=y[1];r.lineWidth=y[2];r.lineCap=y[3];r.lineJoin=y[4];r.miterLimit=y[5];r.lineDashOffset=
y[7];r.setLineDash(y[6])}drawLabelWithPointPlacement_(r,y,K,R){const S=this.textStates[y];y=this.createLabel(r,y,R,K);R=this.strokeStates[K];K=this.pixelRatio;r=k(Array.isArray(r)?r[0]:r,S.textAlign||b.defaultTextAlign);const ca=t.TEXT_ALIGN[S.textBaseline||b.defaultTextBaseline];R=R&&R.lineWidth?R.lineWidth:0;return{label:y,anchorX:r*(y.width/K-2*S.scale[0])+2*(.5-r)*R,anchorY:ca*y.height/K+2*(.5-ca)*R}}execute_(r,y,K,R,S,ca,M,aa){let Y;this.pixelCoordinates_&&(0,e.equals)(K,this.renderedTransform_)?
Y=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),Y=(0,m.transform2D)(this.coordinates,0,this.coordinates.length,2,K,this.pixelCoordinates_),(0,n.setFromArray)(this.renderedTransform_,K));let ea=0;const Ga=R.length;let X,D;let B=0,N=0,Z=null,Aa=null;const qa=this.coordinateCache_,la=this.viewRotation_;K=Math.round(1E12*Math.atan2(-K[1],K[0]))/1E12;const Ja={context:r,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:la},bb=this.instructions!=R||this.overlaps?
0:200;let ib,Ma;for(;ea<Ga;){var ma=R[ea];switch(ma[0]){case q.default.BEGIN_GEOMETRY:ib=ma[1];Ma=ma[3];ib.getGeometry()?void 0===M||(0,f.intersects)(M,Ma.getExtent())?++ea:ea=ma[2]+1:ea=ma[2];break;case q.default.BEGIN_PATH:B>bb&&(this.fill_(r),B=0);N>bb&&(r.stroke(),N=0);B||N||(r.beginPath(),D=X=NaN);++ea;break;case q.default.CIRCLE:var Fa=ma[1];var Ra=Y[Fa];var ra=Y[Fa+1];var ya=Y[Fa+2]-Ra;Fa=Y[Fa+3]-ra;ya=Math.sqrt(ya*ya+Fa*Fa);r.moveTo(Ra+ya,ra);r.arc(Ra,ra,ya,0,2*Math.PI,!0);++ea;break;case q.default.CLOSE_PATH:r.closePath();
++ea;break;case q.default.CUSTOM:Fa=ma[1];var oa=ma[2];Ra=ma[4];ra=6==ma.length?ma[5]:void 0;Ja.geometry=ma[3];Ja.feature=ib;ea in qa||(qa[ea]=[]);ya=qa[ea];ra?ra(Y,Fa,oa,2,ya):(ya[0]=Y[Fa],ya[1]=Y[Fa+1],ya.length=2);Ra(ya,Ja);++ea;break;case q.default.DRAW_IMAGE:Fa=ma[1];oa=ma[2];Ra=ma[3];var xa=ma[4];var Ua=ma[5];ra=ma[6];var fb=ma[7],sa=ma[8],Oa=ma[9],ja=ma[10],U=ma[11],ka=ma[12];ya=ma[13];var ua=ma[14],Ta=ma[15];!Ra&&20<=ma.length&&(xa=ma[19],Ra=ma[20],ya=ma[21],ra=ma[22],ra=this.drawLabelWithPointPlacement_(xa,
Ra,ya,ra),Ra=ra.label,ma[3]=Ra,xa=(ra.anchorX-ma[23])*this.pixelRatio,ma[4]=xa,Ua=(ra.anchorY-ma[24])*this.pixelRatio,ma[5]=Ua,ra=Ra.height,ma[6]=ra,ya=Ra.width,ma[13]=ya);let lb;25<ma.length&&(lb=ma[25]);var eb=void 0;let nb;17<ma.length?(eb=ma[16],nb=ma[17],ma=ma[18]):(eb=b.defaultPadding,ma=nb=!1);ja&&K?U+=la:ja||K||(U-=la);for(ja=0;Fa<oa;Fa+=2){if(lb&&lb[ja++]<ya/this.pixelRatio)continue;const Mb=this.calculateImageOrLabelDimensions_(Ra.width,Ra.height,Y[Fa],Y[Fa+1],ya,ra,xa,Ua,sa,Oa,U,ka,S,eb,
nb||ma,ib),$b=[r,y,Ra,Mb,fb,nb?Z:null,ma?Aa:null];if(aa)if("none"===ua)continue;else if("obstacle"===ua){aa.insert(Mb.declutterBox);continue}else{let Gc,zc;if(Ta){const Bc=oa-Fa;if(!Ta[Bc]){Ta[Bc]=$b;continue}Gc=Ta[Bc];delete Ta[Bc];zc=w(Gc);if(aa.collides(zc))continue}if(aa.collides(Mb.declutterBox))continue;Gc&&(aa.insert(zc),this.replayImageOrLabel_.apply(this,Gc));aa.insert(Mb.declutterBox)}this.replayImageOrLabel_.apply(this,$b)}++ea;break;case q.default.DRAW_CHARS:Ua=ma[1];Oa=ma[2];Fa=ma[3];
U=ma[4];ra=ma[5];ka=ma[6];sa=ma[7];oa=ma[8];ya=ma[9];fb=ma[10];xa=ma[11];Ra=ma[12];ma=[ma[13],ma[13]];Ta=this.textStates[Ra];ua=Ta.font;sa=[Ta.scale[0]*sa,Ta.scale[1]*sa];ua in this.widths_?Ta=this.widths_[ua]:(Ta={},this.widths_[ua]=Ta);ja=(0,g.lineStringLength)(Y,Ua,Oa,2);eb=Math.abs(sa[0])*(0,b.measureAndCacheTextWidth)(ua,xa,Ta);if(U||eb<=ja)a:if(Oa=(0,c.drawTextOnPath)(Y,Ua,Oa,2,xa,(ja-eb)*t.TEXT_ALIGN[this.textStates[Ra].textAlign],ka,Math.abs(sa[0]),b.measureAndCacheTextWidth,ua,Ta,K?0:this.viewRotation_),
Oa){U=[];if(ya)for(ka=0,ua=Oa.length;ka<ua;++ka){ja=Oa[ka];xa=ja[4];Ta=this.createLabel(xa,Ra,"",ya);xa=ja[2]+(0>sa[0]?-fb:fb);Ua=Fa*Ta.height+2*(.5-Fa)*fb*sa[1]/sa[0]-oa;xa=this.calculateImageOrLabelDimensions_(Ta.width,Ta.height,ja[0],ja[1],Ta.width,Ta.height,xa,Ua,0,0,ja[3],ma,!1,b.defaultPadding,!1,ib);if(aa&&aa.collides(xa.declutterBox))break a;U.push([r,y,Ta,xa,1,null,null])}if(ra)for(ka=0,ua=Oa.length;ka<ua;++ka){ja=Oa[ka];xa=ja[4];Ta=this.createLabel(xa,Ra,ra,"");xa=ja[2];Ua=Fa*Ta.height-
oa;ya=this.calculateImageOrLabelDimensions_(Ta.width,Ta.height,ja[0],ja[1],Ta.width,Ta.height,xa,Ua,0,0,ja[3],ma,!1,b.defaultPadding,!1,ib);if(aa&&aa.collides(ya.declutterBox))break a;U.push([r,y,Ta,ya,1,null,null])}aa&&aa.load(U.map(w));for(let Mb=0,$b=U.length;Mb<$b;++Mb)this.replayImageOrLabel_.apply(this,U[Mb])}++ea;break;case q.default.END_GEOMETRY:if(void 0!==ca&&(ib=ma[1],Ra=ca(ib,Ma)))return Ra;++ea;break;case q.default.FILL:bb?B++:this.fill_(r);++ea;break;case q.default.MOVE_TO_LINE_TO:Fa=
ma[1];oa=ma[2];ya=Y[Fa];xa=Y[Fa+1];Ra=ya+.5|0;ra=xa+.5|0;if(Ra!==X||ra!==D)r.moveTo(ya,xa),X=Ra,D=ra;for(Fa+=2;Fa<oa;Fa+=2)if(ya=Y[Fa],xa=Y[Fa+1],Ra=ya+.5|0,ra=xa+.5|0,Fa==oa-2||Ra!==X||ra!==D)r.lineTo(ya,xa),X=Ra,D=ra;++ea;break;case q.default.SET_FILL_STYLE:Z=ma;this.alignFill_=ma[2];B&&(this.fill_(r),B=0,N&&(r.stroke(),N=0));r.fillStyle=ma[1];++ea;break;case q.default.SET_STROKE_STYLE:Aa=ma;N&&(r.stroke(),N=0);this.setStrokeStyle_(r,ma);++ea;break;case q.default.STROKE:bb?N++:r.stroke();++ea;break;
default:++ea}}B&&this.fill_(r);N&&r.stroke()}execute(r,y,K,R,S,ca){this.viewRotation_=R;this.execute_(r,y,K,this.instructions,S,void 0,void 0,ca)}executeHitDetection(r,y,K,R,S){this.viewRotation_=K;return this.execute_(r,1,y,this.hitDetectionInstructions,!0,R,S)}}A.default=C};
shadow$provide[321]=function(Ka,L,sb,A){function w(m){if(void 0!==g[m])return g[m];var h=2*m+1;const x=m*m,O=Array(x+1);for(let G=0;G<=m;++G)for(let I=0;I<=m;++I){const F=G*G+I*I;if(F>x)break;let C=O[F];C||(C=[],O[F]=C);C.push(4*((m+G)*h+(m+I))+3);0<G&&C.push(4*((m-G)*h+(m+I))+3);0<I&&(C.push(4*((m+G)*h+(m-I))+3),0<G&&C.push(4*((m-G)*h+(m-I))+3))}h=[];for(let G=0,I=O.length;G<I;++G)O[G]&&h.push(...O[G]);return g[m]=h}Object.defineProperty(A,"__esModule",{value:!0});A.getPixelIndexArray=w;A.default=
void 0;var k=function(m){return m&&m.__esModule?m:{default:m}}(L(320)),p=L(84),q=L(82),t=L(97),n=L(70),f=L(68),b=L(126);const c="Polygon Circle LineString Image Text Default".split(" ");class e{constructor(m,h,x,O,G,I){this.maxExtent_=m;this.overlaps_=O;this.pixelRatio_=x;this.resolution_=h;this.renderBuffer_=I;this.executorsByZIndex_={};this.hitDetectionContext_=null;this.hitDetectionTransform_=(0,q.create)();this.createExecutors_(G)}clip(m,h){h=this.getClipCoords(h);m.beginPath();m.moveTo(h[0],
h[1]);m.lineTo(h[2],h[3]);m.lineTo(h[4],h[5]);m.lineTo(h[6],h[7]);m.clip()}createExecutors_(m){for(const h in m){let x=this.executorsByZIndex_[h];void 0===x&&(x={},this.executorsByZIndex_[h]=x);const O=m[h];for(const G in O)x[G]=new k.default(this.resolution_,this.pixelRatio_,this.overlaps_,O[G])}}hasExecutors(m){for(const h in this.executorsByZIndex_){const x=this.executorsByZIndex_[h];for(let O=0,G=m.length;O<G;++O)if(m[O]in x)return!0}return!1}forEachFeatureAtCoordinate(m,h,x,O,G,I){function F(Y,
ea){var Ga=K.getImageData(0,0,C,C).data;for(let D=0,B=S.length;D<B;D++)if(0<Ga[S[D]]){if(!I||"Image"!==ca&&"Text"!==ca||I.includes(Y)){var X=(S[D]-3)/4;Ga=O-X%C;X=O-(X/C|0);if(Y=G(Y,ea,Ga*Ga+X*X))return Y}K.clearRect(0,0,C,C);break}}O=Math.round(O);const C=2*O+1,r=(0,q.compose)(this.hitDetectionTransform_,O+.5,O+.5,1/h,-1/h,-x,-m[0],-m[1]);var y=!this.hitDetectionContext_;y&&(this.hitDetectionContext_=(0,t.createCanvasContext2D)(C,C));const K=this.hitDetectionContext_;K.canvas.width!==C||K.canvas.height!==
C?(K.canvas.width=C,K.canvas.height=C):y||K.clearRect(0,0,C,C);let R;void 0!==this.renderBuffer_&&(R=(0,p.createEmpty)(),(0,p.extendCoordinate)(R,m),(0,p.buffer)(R,h*(this.renderBuffer_+O),R));const S=w(O);let ca;m=Object.keys(this.executorsByZIndex_).map(Number);m.sort(f.numberSafeCompareFunction);let M;for(h=m.length-1;0<=h;--h)for(M=this.executorsByZIndex_[m[h].toString()],y=c.length-1;0<=y;--y){ca=c[y];var aa=M[ca];if(void 0!==aa&&(aa=aa.executeHitDetection(K,r,x,F,R)))return aa}}getClipCoords(m){var h=
this.maxExtent_;if(!h)return null;var x=h[0];const O=h[1],G=h[2];h=h[3];x=[x,O,x,h,G,h,G,O];(0,b.transform2D)(x,0,8,2,m,x);return x}isEmpty(){return(0,n.isEmpty)(this.executorsByZIndex_)}execute(m,h,x,O,G,I,F){const C=Object.keys(this.executorsByZIndex_).map(Number);C.sort(f.numberSafeCompareFunction);this.maxExtent_&&(m.save(),this.clip(m,x));I=I?I:c;let r,y,K,R,S,ca;F&&C.reverse();r=0;for(y=C.length;r<y;++r)for(S=this.executorsByZIndex_[C[r].toString()],K=0,R=I.length;K<R;++K)ca=S[I[K]],void 0!==
ca&&ca.execute(m,h,x,O,G,F);this.maxExtent_&&m.restore()}}const g={};A.default=e};
shadow$provide[322]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(c){return c&&c.__esModule?c:{default:c}}(L(311));var w=L(301),k=L(82),p=L(98),q=L(68),t=L(84),n=L(126),f=L(128);class b extends Ka.default{constructor(c,e,g,m,h,x,O){super();this.context_=c;this.pixelRatio_=e;this.extent_=g;this.transform_=m;this.viewRotation_=h;this.squaredTolerance_=x;this.userTransform_=O;this.image_=this.strokeState_=this.fillState_=this.contextTextState_=this.contextStrokeState_=
this.contextFillState_=null;this.imageOriginY_=this.imageOriginX_=this.imageOpacity_=this.imageHeight_=this.imageAnchorY_=this.imageAnchorX_=0;this.imageRotateWithView_=!1;this.imageRotation_=0;this.imageScale_=[0,0];this.imageWidth_=0;this.text_="";this.textOffsetY_=this.textOffsetX_=0;this.textRotateWithView_=!1;this.textRotation_=0;this.textScale_=[0,0];this.textState_=this.textStrokeState_=this.textFillState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=(0,k.create)()}drawImages_(c,
e,g,m){if(this.image_){c=(0,n.transform2D)(c,e,g,m,this.transform_,this.pixelCoordinates_);e=this.context_;g=this.tmpLocalTransform_;m=e.globalAlpha;1!=this.imageOpacity_&&(e.globalAlpha=m*this.imageOpacity_);var h=this.imageRotation_;this.imageRotateWithView_&&(h+=this.viewRotation_);for(let G=0,I=c.length;G<I;G+=2){var x=c[G]-this.imageAnchorX_,O=c[G+1]-this.imageAnchorY_;0!==h||1!=this.imageScale_[0]||1!=this.imageScale_[1]?(x+=this.imageAnchorX_,O+=this.imageAnchorY_,(0,k.compose)(g,x,O,1,1,h,
-x,-O),e.setTransform.apply(e,g),e.translate(x,O),e.scale(this.imageScale_[0],this.imageScale_[1]),e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),e.setTransform(1,0,0,1,0,0)):e.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,x,O,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(e.globalAlpha=m)}}drawText_(c,e,g,m){if(this.textState_&&
""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_);this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_);this.setContextTextState_(this.textState_);c=(0,n.transform2D)(c,e,g,m,this.transform_,this.pixelCoordinates_);var h=this.context_,x=this.textRotation_;for(this.textRotateWithView_&&(x+=this.viewRotation_);e<g;e+=m){const O=c[e]+this.textOffsetX_,G=c[e+1]+this.textOffsetY_;0!==x||1!=this.textScale_[0]||1!=this.textScale_[1]?(h.translate(O-this.textOffsetX_,
G-this.textOffsetY_),h.rotate(x),h.translate(this.textOffsetX_,this.textOffsetY_),h.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&h.strokeText(this.text_,0,0),this.textFillState_&&h.fillText(this.text_,0,0),h.setTransform(1,0,0,1,0,0)):(this.textStrokeState_&&h.strokeText(this.text_,O,G),this.textFillState_&&h.fillText(this.text_,O,G))}}}moveToLineTo_(c,e,g,m,h){const x=this.context_;c=(0,n.transform2D)(c,e,g,m,this.transform_,this.pixelCoordinates_);x.moveTo(c[0],c[1]);e=c.length;
h&&(e-=2);for(m=2;m<e;m+=2)x.lineTo(c[m],c[m+1]);h&&x.closePath();return g}drawRings_(c,e,g,m){for(let h=0,x=g.length;h<x;++h)e=this.moveToLineTo_(c,e,g[h],m,!0);return e}drawCircle(c){if((0,t.intersects)(this.extent_,c.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const m=(0,f.transformGeom2D)(c,this.transform_,this.pixelCoordinates_);var e=m[2]-m[0],g=m[3]-m[1];e=
Math.sqrt(e*e+g*g);g=this.context_;g.beginPath();g.arc(m[0],m[1],e,0,2*Math.PI);this.fillState_&&g.fill();this.strokeState_&&g.stroke()}""!==this.text_&&this.drawText_(c.getCenter(),0,2,2)}}setStyle(c){this.setFillStrokeStyle(c.getFill(),c.getStroke());this.setImageStyle(c.getImage());this.setTextStyle(c.getText())}setTransform(c){this.transform_=c}drawGeometry(c){switch(c.getType()){case "Point":this.drawPoint(c);break;case "LineString":this.drawLineString(c);break;case "Polygon":this.drawPolygon(c);
break;case "MultiPoint":this.drawMultiPoint(c);break;case "MultiLineString":this.drawMultiLineString(c);break;case "MultiPolygon":this.drawMultiPolygon(c);break;case "GeometryCollection":this.drawGeometryCollection(c);break;case "Circle":this.drawCircle(c)}}drawFeature(c,e){(c=e.getGeometryFunction()(c))&&(0,t.intersects)(this.extent_,c.getExtent())&&(this.setStyle(e),this.drawGeometry(c))}drawGeometryCollection(c){c=c.getGeometriesArray();for(let e=0,g=c.length;e<g;++e)this.drawGeometry(c[e])}drawPoint(c){this.squaredTolerance_&&
(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=c.getFlatCoordinates();c=c.getStride();this.image_&&this.drawImages_(e,0,e.length,c);""!==this.text_&&this.drawText_(e,0,e.length,c)}drawMultiPoint(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=c.getFlatCoordinates();c=c.getStride();this.image_&&this.drawImages_(e,0,e.length,c);""!==this.text_&&this.drawText_(e,0,e.length,c)}drawLineString(c){this.squaredTolerance_&&
(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,t.intersects)(this.extent_,c.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,g=c.getFlatCoordinates();e.beginPath();this.moveToLineTo_(g,0,g.length,c.getStride(),!1);e.stroke()}""!==this.text_&&(c=c.getFlatMidpoint(),this.drawText_(c,0,2,2))}}drawMultiLineString(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=c.getExtent();
if((0,t.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);e=this.context_;const g=c.getFlatCoordinates();let m=0;const h=c.getEnds(),x=c.getStride();e.beginPath();for(let O=0,G=h.length;O<G;++O)m=this.moveToLineTo_(g,m,h[O],x,!1);e.stroke()}""!==this.text_&&(c=c.getFlatMidpoints(),this.drawText_(c,0,c.length,2))}}drawPolygon(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,this.userTransform_));if((0,t.intersects)(this.extent_,
c.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath();this.drawRings_(c.getOrientedFlatCoordinates(),0,c.getEnds(),c.getStride());this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(c=c.getFlatInteriorPoint(),this.drawText_(c,0,2,2))}}drawMultiPolygon(c){this.squaredTolerance_&&(c=c.simplifyTransformed(this.squaredTolerance_,
this.userTransform_));if((0,t.intersects)(this.extent_,c.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_);this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,g=c.getOrientedFlatCoordinates();let m=0;const h=c.getEndss(),x=c.getStride();e.beginPath();for(let O=0,G=h.length;O<G;++O)m=this.drawRings_(g,m,h[O],x);this.fillState_&&e.fill();this.strokeState_&&e.stroke()}""!==this.text_&&(c=c.getFlatInteriorPoints(),
this.drawText_(c,0,c.length,2))}}setContextFillState_(c){const e=this.context_,g=this.contextFillState_;g?g.fillStyle!=c.fillStyle&&(g.fillStyle=c.fillStyle,e.fillStyle=c.fillStyle):(e.fillStyle=c.fillStyle,this.contextFillState_={fillStyle:c.fillStyle})}setContextStrokeState_(c){const e=this.context_,g=this.contextStrokeState_;g?(g.lineCap!=c.lineCap&&(g.lineCap=c.lineCap,e.lineCap=c.lineCap),(0,q.equals)(g.lineDash,c.lineDash)||e.setLineDash(g.lineDash=c.lineDash),g.lineDashOffset!=c.lineDashOffset&&
(g.lineDashOffset=c.lineDashOffset,e.lineDashOffset=c.lineDashOffset),g.lineJoin!=c.lineJoin&&(g.lineJoin=c.lineJoin,e.lineJoin=c.lineJoin),g.lineWidth!=c.lineWidth&&(g.lineWidth=c.lineWidth,e.lineWidth=c.lineWidth),g.miterLimit!=c.miterLimit&&(g.miterLimit=c.miterLimit,e.miterLimit=c.miterLimit),g.strokeStyle!=c.strokeStyle&&(g.strokeStyle=c.strokeStyle,e.strokeStyle=c.strokeStyle)):(e.lineCap=c.lineCap,e.setLineDash(c.lineDash),e.lineDashOffset=c.lineDashOffset,e.lineJoin=c.lineJoin,e.lineWidth=
c.lineWidth,e.miterLimit=c.miterLimit,e.strokeStyle=c.strokeStyle,this.contextStrokeState_={lineCap:c.lineCap,lineDash:c.lineDash,lineDashOffset:c.lineDashOffset,lineJoin:c.lineJoin,lineWidth:c.lineWidth,miterLimit:c.miterLimit,strokeStyle:c.strokeStyle})}setContextTextState_(c){const e=this.context_,g=this.contextTextState_,m=c.textAlign?c.textAlign:p.defaultTextAlign;g?(g.font!=c.font&&(g.font=c.font,e.font=c.font),g.textAlign!=m&&(g.textAlign=m,e.textAlign=m),g.textBaseline!=c.textBaseline&&(g.textBaseline=
c.textBaseline,e.textBaseline=c.textBaseline)):(e.font=c.font,e.textAlign=m,e.textBaseline=c.textBaseline,this.contextTextState_={font:c.font,textAlign:m,textBaseline:c.textBaseline})}setFillStrokeStyle(c,e){c?(c=c.getColor(),this.fillState_={fillStyle:(0,w.asColorLike)(c?c:p.defaultFillStyle)}):this.fillState_=null;if(e){c=e.getColor();const m=e.getLineCap();var g=e.getLineDash();const h=e.getLineDashOffset(),x=e.getLineJoin(),O=e.getWidth();e=e.getMiterLimit();g=g?g:p.defaultLineDash;this.strokeState_=
{lineCap:void 0!==m?m:p.defaultLineCap,lineDash:1===this.pixelRatio_?g:g.map(G=>G*this.pixelRatio_),lineDashOffset:(h?h:p.defaultLineDashOffset)*this.pixelRatio_,lineJoin:void 0!==x?x:p.defaultLineJoin,lineWidth:(void 0!==O?O:p.defaultLineWidth)*this.pixelRatio_,miterLimit:void 0!==e?e:p.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(c?c:p.defaultStrokeStyle)}}else this.strokeState_=null}setImageStyle(c){let e;if(c&&(e=c.getSize())){var g=c.getPixelRatio(this.pixelRatio_),m=c.getAnchor(),h=c.getOrigin();
this.image_=c.getImage(this.pixelRatio_);this.imageAnchorX_=m[0]*g;this.imageAnchorY_=m[1]*g;this.imageHeight_=e[1]*g;this.imageOpacity_=c.getOpacity();this.imageOriginX_=h[0];this.imageOriginY_=h[1];this.imageRotateWithView_=c.getRotateWithView();this.imageRotation_=c.getRotation();c=c.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/g,c[1]*this.pixelRatio_/g];this.imageWidth_=e[0]*g}else this.image_=null}setTextStyle(c){if(c){var e=c.getFill();e?(e=e.getColor(),this.textFillState_={fillStyle:(0,w.asColorLike)(e?
e:p.defaultFillStyle)}):this.textFillState_=null;var g=c.getStroke();if(g){e=g.getColor();var m=g.getLineCap(),h=g.getLineDash(),x=g.getLineDashOffset(),O=g.getLineJoin(),G=g.getWidth();g=g.getMiterLimit();this.textStrokeState_={lineCap:void 0!==m?m:p.defaultLineCap,lineDash:h?h:p.defaultLineDash,lineDashOffset:x?x:p.defaultLineDashOffset,lineJoin:void 0!==O?O:p.defaultLineJoin,lineWidth:void 0!==G?G:p.defaultLineWidth,miterLimit:void 0!==g?g:p.defaultMiterLimit,strokeStyle:(0,w.asColorLike)(e?e:
p.defaultStrokeStyle)}}else this.textStrokeState_=null;e=c.getFont();m=c.getOffsetX();h=c.getOffsetY();x=c.getRotateWithView();O=c.getRotation();G=c.getScaleArray();g=c.getText();const I=c.getTextAlign();c=c.getTextBaseline();this.textState_={font:void 0!==e?e:p.defaultFont,textAlign:void 0!==I?I:p.defaultTextAlign,textBaseline:void 0!==c?c:p.defaultTextBaseline};this.text_=void 0!==g?Array.isArray(g)?g.reduce((F,C,r)=>F+(r%2?" ":C),""):g:"";this.textOffsetX_=void 0!==m?this.pixelRatio_*m:0;this.textOffsetY_=
void 0!==h?this.pixelRatio_*h:0;this.textRotateWithView_=void 0!==x?x:!1;this.textRotation_=void 0!==O?O:0;this.textScale_=[this.pixelRatio_*G[0],this.pixelRatio_*G[1]]}else this.text_=""}}A.default=b};
shadow$provide[323]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Fill",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"Icon",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"IconImage",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Image",
{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"RegularShape",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"Stroke",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"Style",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Text",{enumerable:!0,get:function(){return e.default}});var k=w(L(303)),p=w(L(298)),q=w(L(307)),t=w(L(306)),n=w(L(300)),f=w(L(302)),b=w(L(299)),c=w(L(304)),e=w(L(305))};
shadow$provide[324]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.createHitDetectionImageData=function(f,b,c,e,g,m,h){f=(0,q.createCanvasContext2D)(.5*f[0],.5*f[1]);f.imageSmoothingEnabled=!1;const x=f.canvas;h=new w.default(f,.5,g,null,h);const O=c.length,G=Math.floor(16777215/O),I={};for(let y=1;y<=O;++y){const K=c[y-1];var F=K.getStyleFunction()||e;if(!e)continue;F=F(K,m);if(!F)continue;Array.isArray(F)||(F=[F]);const R="#"+("000000"+(y*G).toString(16)).slice(-6);for(let S=
0,ca=F.length;S<ca;++S){var C=F[S];const M=C.getGeometryFunction()(K);if(!M||!(0,t.intersects)(g,M.getExtent()))continue;const aa=C.clone();var r=aa.getFill();r&&r.setColor(R);if(r=aa.getStroke())r.setColor(R),r.setLineDash(null);aa.setText(void 0);if((C=C.getImage())&&0!==C.getOpacity()){r=C.getImageSize();if(!r)continue;const Y=(0,q.createCanvasContext2D)(r[0],r[1],void 0,{alpha:!1}),ea=Y.canvas;Y.fillStyle=R;Y.fillRect(0,0,ea.width,ea.height);aa.setImage(new k.Icon({img:ea,imgSize:r,anchor:C.getAnchor(),
anchorXUnits:"pixels",anchorYUnits:"pixels",offset:C.getOrigin(),opacity:1,size:C.getSize(),scale:C.getScale(),rotation:C.getRotation(),rotateWithView:C.getRotateWithView()}))}C=aa.getZIndex()||0;r=I[C];r||(r={},I[C]=r,r.Polygon=[],r.Circle=[],r.LineString=[],r.Point=[]);r[M.getType().replace("Multi","")].push(M,aa)}}c=Object.keys(I).map(Number).sort(n.numberSafeCompareFunction);for(let y=0,K=c.length;y<K;++y){e=I[c[y]];for(const R in e){g=e[R];for(let S=0,ca=g.length;S<ca;S+=2){h.setStyle(g[S+1]);
for(let M=0,aa=b.length;M<aa;++M)h.setTransform(b[M]),h.drawGeometry(g[S])}}}return f.getImageData(0,0,x.width,x.height)};A.hitDetect=function(f,b,c){const e=[];if(c){const g=Math.floor(.5*Math.round(f[1]));f=4*((0,p.clamp)(Math.floor(.5*Math.round(f[0])),0,c.width-1)+(0,p.clamp)(g,0,c.height-1)*c.width);c=c.data[f+2]+256*(c.data[f+1]+256*c.data[f]);f=Math.floor(16777215/b.length);c&&0===c%f&&e.push(b[c/f-1])}return e};A.HIT_DETECT_RESOLUTION=void 0;var w=function(f){return f&&f.__esModule?f:{default:f}}(L(322)),
k=L(323),p=L(85),q=L(97),t=L(84),n=L(68);A.HIT_DETECT_RESOLUTION=.5};
shadow$provide[325]=function(Ka,L,sb,A){function w(t,n,f,b){if("GeometryCollection"==n.getType()){n=n.getGeometries();for(let c=0,e=n.length;c<e;++c)w(t,n[c],f,b)}else t.getBuilder(f.getZIndex(),"Default").drawCustom(n,b,f.getRenderer(),f.getHitDetectionRenderer())}Object.defineProperty(A,"__esModule",{value:!0});A.defaultOrder=function(t,n){return parseInt((0,p.getUid)(t),10)-parseInt((0,p.getUid)(n),10)};A.getSquaredTolerance=function(t,n){t=.5*t/n;return t*t};A.getTolerance=function(t,n){return.5*
t/n};A.renderFeature=function(t,n,f,b,c,e,g){let m=!1;const h=f.getImage();if(h){const x=h.getImageState();x==k.default.LOADED||x==k.default.ERROR?h.unlistenImageChange(c):(x==k.default.IDLE&&h.load(),h.listenImageChange(c),m=!0)}if(c=f.getGeometryFunction()(n))if(b=c.simplifyTransformed(b,e),f.getRenderer())w(t,b,f,n);else(0,q[b.getType()])(t,b,f,n,g);return m};var k=function(t){return t&&t.__esModule?t:{default:t}}(L(184)),p=L(75);const q={Point:function(t,n,f,b,c){const e=f.getImage(),g=f.getText();
let m;if(e){if(e.getImageState()!=k.default.LOADED)return;var h=t;if(c){var x=e.getDeclutterMode();"none"!==x&&(h=c,"obstacle"===x?(x=t.getBuilder(f.getZIndex(),"Image"),x.setImageStyle(e,m),x.drawPoint(n,b)):g&&g.getText()&&(m={}))}h=h.getBuilder(f.getZIndex(),"Image");h.setImageStyle(e,m);h.drawPoint(n,b)}g&&g.getText()&&(c&&(t=c),f=t.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(g,m),f.drawText(n,b))},LineString:function(t,n,f,b,c){var e=f.getStroke();if(e){const g=t.getBuilder(f.getZIndex(),
"LineString");g.setFillStrokeStyle(null,e);g.drawLineString(n,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(n,b))},Polygon:function(t,n,f,b,c){var e=f.getFill();const g=f.getStroke();if(e||g){const m=t.getBuilder(f.getZIndex(),"Polygon");m.setFillStrokeStyle(e,g);m.drawPolygon(n,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(n,b))},MultiPoint:function(t,n,f,b,c){const e=f.getImage(),
g=f.getText();let m;if(e){if(e.getImageState()!=k.default.LOADED)return;var h=t;if(c){var x=e.getDeclutterMode();"none"!==x&&(h=c,"obstacle"===x?(x=t.getBuilder(f.getZIndex(),"Image"),x.setImageStyle(e,m),x.drawMultiPoint(n,b)):g&&g.getText()&&(m={}))}h=h.getBuilder(f.getZIndex(),"Image");h.setImageStyle(e,m);h.drawMultiPoint(n,b)}g&&g.getText()&&(c&&(t=c),f=t.getBuilder(f.getZIndex(),"Text"),f.setTextStyle(g,m),f.drawText(n,b))},MultiLineString:function(t,n,f,b,c){var e=f.getStroke();if(e){const g=
t.getBuilder(f.getZIndex(),"LineString");g.setFillStrokeStyle(null,e);g.drawMultiLineString(n,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(n,b))},MultiPolygon:function(t,n,f,b,c){var e=f.getFill();const g=f.getStroke();if(g||e){const m=t.getBuilder(f.getZIndex(),"Polygon");m.setFillStrokeStyle(e,g);m.drawMultiPolygon(n,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(n,b))},GeometryCollection:function(t,
n,f,b,c){n=n.getGeometriesArray();let e,g;e=0;for(g=n.length;e<g;++e)(0,q[n[e].getType()])(t,n[e],f,b,c)},Circle:function(t,n,f,b,c){var e=f.getFill();const g=f.getStroke();if(e||g){const m=t.getBuilder(f.getZIndex(),"Circle");m.setFillStrokeStyle(e,g);m.drawCircle(n,b)}(e=f.getText())&&e.getText()&&(t=(c||t).getBuilder(f.getZIndex(),"Text"),t.setTextStyle(e),t.drawText(n,b))}}};
shadow$provide[326]=function(Ka,L,sb,A){function w(I){if("function"!==typeof WeakMap)return null;var F=new WeakMap,C=new WeakMap;return(w=function(r){return r?C:F})(I)}function k(I){return I&&I.__esModule?I:{default:I}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var p=k(L(318)),q=function(I,F){if(!F&&I&&I.__esModule)return I;if(null===I||"object"!==typeof I&&"function"!==typeof I)return{default:I};if((F=w(F))&&F.has(I))return F.get(I);var C={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor,
y;for(y in I)if("default"!==y&&Object.prototype.hasOwnProperty.call(I,y)){var K=r?Object.getOwnPropertyDescriptor(I,y):null;K&&(K.get||K.set)?Object.defineProperty(C,y,K):C[y]=I[y]}C.default=I;F&&F.set(I,C);return C}(L(278)),t=k(L(321)),n=k(L(111)),f=L(324),b=L(82),c=L(84),e=L(97),g=L(325),m=L(68),h=L(121),x=L(75),O=L(93);class G extends q.default{constructor(I){super(I);this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.renderedFeatures_=this.hitDetectionImageData_=null;
this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=(0,c.createEmpty)();this.wrappedRenderedExtent_=(0,c.createEmpty)();this.replayGroup_=this.renderedRenderOrder_=this.renderedProjection_=this.renderedCenter_=null;this.replayGroupChanged=!0;this.declutterExecutorGroup=null;this.clipping=!0;this.compositionContext_=null;this.opacity_=1}renderWorlds(I,F,C){var r=F.extent,y=F.viewState;const K=y.center,R=y.resolution;var S=y.projection;y=y.rotation;var ca=S.getExtent(),M=this.getLayer().getSource();
const aa=F.pixelRatio;var Y=F.viewHints;Y=!(Y[n.default.ANIMATING]||Y[n.default.INTERACTING]);const ea=this.compositionContext_,Ga=Math.round(F.size[0]*aa);F=Math.round(F.size[1]*aa);const X=M.getWrapX()&&S.canWrapX();S=X?(0,c.getWidth)(ca):null;M=X?Math.ceil((r[2]-ca[2])/S)+1:1;r=X?Math.floor((r[0]-ca[0])/S):0;do ca=this.getRenderTransform(K,R,y,aa,Ga,F,r*S),I.execute(ea,1,ca,y,Y,void 0,C);while(++r<M)}setupCompositionContext_(){this.compositionContext_=1!==this.opacity_?(0,e.createCanvasContext2D)(this.context.canvas.width,
this.context.canvas.height,q.canvasPool):this.context}releaseCompositionContext_(){if(1!==this.opacity_){const I=this.context.globalAlpha;this.context.globalAlpha=this.opacity_;this.context.drawImage(this.compositionContext_.canvas,0,0);this.context.globalAlpha=I;(0,e.releaseCanvas)(this.compositionContext_);q.canvasPool.push(this.compositionContext_.canvas);this.compositionContext_=null}}renderDeclutter(I){this.declutterExecutorGroup&&(this.setupCompositionContext_(),this.renderWorlds(this.declutterExecutorGroup,
I,I.declutterTree),this.releaseCompositionContext_())}renderFrame(I,F){var C=I.pixelRatio,r=I.layerStatesArray[I.layerIndex];(0,b.makeScale)(this.pixelTransform,1/C,1/C);(0,b.makeInverse)(this.inversePixelTransform,this.pixelTransform);var y=(0,b.toString)(this.pixelTransform);this.useContainer(F,y,this.getBackground(I));F=this.context;var K=F.canvas;const R=this.replayGroup_;var S=this.declutterExecutorGroup;if(!(R&&!R.isEmpty()||S&&!S.isEmpty()))return null;S=Math.round(I.size[0]*C);C=Math.round(I.size[1]*
C);K.width!=S||K.height!=C?(K.width=S,K.height=C,K.style.transform!==y&&(K.style.transform=y)):this.containerReused||F.clearRect(0,0,S,C);this.preRender(F,I);y=I.viewState;S=y.projection;this.opacity_=r.opacity;this.setupCompositionContext_();C=!1;K=!0;r.extent&&this.clipping&&(r=(0,h.fromUserExtent)(r.extent,S),(C=(K=(0,c.intersects)(r,I.extent))&&!(0,c.containsExtent)(r,I.extent))&&this.clipUnrotated(this.compositionContext_,I,r));K&&this.renderWorlds(R,I);C&&this.compositionContext_.restore();
this.releaseCompositionContext_();this.postRender(F,I);this.renderedRotation_!==y.rotation&&(this.renderedRotation_=y.rotation,this.hitDetectionImageData_=null);return this.container}getFeatures(I){return new Promise(function(F){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const y=[this.context.canvas.width,this.context.canvas.height];(0,b.apply)(this.pixelTransform,y);const K=this.renderedCenter_,R=this.renderedResolution_,S=this.renderedRotation_;var C=this.renderedProjection_;
const ca=this.wrappedRenderedExtent_,M=this.getLayer(),aa=[],Y=y[0]*f.HIT_DETECT_RESOLUTION,ea=y[1]*f.HIT_DETECT_RESOLUTION;aa.push(this.getRenderTransform(K,R,S,f.HIT_DETECT_RESOLUTION,Y,ea,0).slice());var r=M.getSource();const Ga=C.getExtent();if(r.getWrapX()&&C.canWrapX()&&!(0,c.containsExtent)(Ga,ca)){C=ca[0];r=(0,c.getWidth)(Ga);let X=0,D;for(;C<Ga[0];)--X,D=r*X,aa.push(this.getRenderTransform(K,R,S,f.HIT_DETECT_RESOLUTION,Y,ea,D).slice()),C+=r;X=0;for(C=ca[2];C>Ga[2];)++X,D=r*X,aa.push(this.getRenderTransform(K,
R,S,f.HIT_DETECT_RESOLUTION,Y,ea,D).slice()),C-=r}this.hitDetectionImageData_=(0,f.createHitDetectionImageData)(y,aa,this.renderedFeatures_,M.getStyleFunction(),ca,R,S)}F((0,f.hitDetect)(I,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))}forEachFeatureAtCoordinate(I,F,C,r,y){if(this.replayGroup_){var K=F.viewState.resolution,R=F.viewState.rotation,S=this.getLayer(),ca={},M=function(ea,Ga,X){const D=(0,x.getUid)(ea),B=ca[D];if(!B){if(0===X)return ca[D]=!0,r(ea,S,Ga);y.push(ca[D]={feature:ea,
layer:S,geometry:Ga,distanceSq:X,callback:r})}else if(!0!==B&&X<B.distanceSq){if(0===X)return ca[D]=!0,y.splice(y.lastIndexOf(B),1),r(ea,S,Ga);B.geometry=Ga;B.distanceSq=X}},aa,Y=[this.replayGroup_];this.declutterExecutorGroup&&Y.push(this.declutterExecutorGroup);Y.some(ea=>aa=ea.forEachFeatureAtCoordinate(I,K,R,C,M,ea===this.declutterExecutorGroup&&F.declutterTree?F.declutterTree.all().map(Ga=>Ga.value):null));return aa}}handleFontsChanged(){const I=this.getLayer();I.getVisible()&&this.replayGroup_&&
I.changed()}handleStyleImageChange_(I){this.renderIfReadyAndVisible()}prepareFrame(I){const F=this.getLayer(),C=F.getSource();if(!C)return!1;var r=I.viewHints[n.default.ANIMATING],y=I.viewHints[n.default.INTERACTING],K=F.getUpdateWhileAnimating(),R=F.getUpdateWhileInteracting();if(this.ready&&!K&&r||!R&&y)return this.animatingOrInteracting_=!0;this.animatingOrInteracting_=!1;var S=I.extent,ca=I.viewState;r=ca.projection;const M=ca.resolution;y=I.pixelRatio;K=F.getRevision();var aa=F.getRenderBuffer();
R=F.getRenderOrder();void 0===R&&(R=g.defaultOrder);ca=ca.center.slice();S=(0,c.buffer)(S,aa*M);aa=S.slice();var Y=[S.slice()],ea=r.getExtent();if(C.getWrapX()&&r.canWrapX()&&!(0,c.containsExtent)(ea,I.extent)){I=(0,c.getWidth)(ea);var Ga=Math.max((0,c.getWidth)(S)/2,I);S[0]=ea[0]-Ga;S[2]=ea[2]+Ga;(0,O.wrapX)(ca,r);Ga=(0,c.wrapX)(Y[0],r);Ga[0]<ea[0]&&Ga[2]<ea[2]?Y.push([Ga[0]+I,Ga[1],Ga[2]+I,Ga[3]]):Ga[0]>ea[0]&&Ga[2]>ea[2]&&Y.push([Ga[0]-I,Ga[1],Ga[2]-I,Ga[3]])}if(this.ready&&this.renderedResolution_==
M&&this.renderedRevision_==K&&this.renderedRenderOrder_==R&&(0,c.containsExtent)(this.wrappedRenderedExtent_,S))return(0,m.equals)(this.renderedExtent_,aa)||(this.hitDetectionImageData_=null,this.renderedExtent_=aa),this.renderedCenter_=ca,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const X=new p.default((0,g.getTolerance)(M,y),S,M,y);let D;this.getLayer().getDeclutter()&&(D=new p.default((0,g.getTolerance)(M,y),S,M,y));I=(0,h.getUserProjection)();let B;if(I){for(let Aa=0,qa=Y.length;Aa<
qa;++Aa)ea=(0,h.toUserExtent)(Y[Aa],r),C.loadFeatures(ea,(0,h.toUserResolution)(M,r),I);B=(0,h.getTransformFromProjections)(I,r)}else for(let Aa=0,qa=Y.length;Aa<qa;++Aa)C.loadFeatures(Y[Aa],M,r);const N=(0,g.getSquaredTolerance)(M,y);let Z=!0;I=function(Aa){let qa;const la=Aa.getStyleFunction()||F.getStyleFunction();la&&(qa=la(Aa,M));qa&&(Aa=this.renderFeature(Aa,N,qa,X,B,D),Z=Z&&!Aa)}.bind(this);Y=(0,h.toUserExtent)(S,r);Y=C.getFeaturesInExtent(Y);R&&Y.sort(R);for(let Aa=0,qa=Y.length;Aa<qa;++Aa)I(Y[Aa]);
this.renderedFeatures_=Y;this.ready=Z;I=X.finish();I=new t.default(S,M,y,C.getOverlaps(),I,F.getRenderBuffer());D&&(this.declutterExecutorGroup=new t.default(S,M,y,C.getOverlaps(),D.finish(),F.getRenderBuffer()));this.renderedResolution_=M;this.renderedRevision_=K;this.renderedRenderOrder_=R;this.renderedExtent_=aa;this.wrappedRenderedExtent_=S;this.renderedCenter_=ca;this.renderedProjection_=r;this.replayGroup_=I;this.hitDetectionImageData_=null;return this.replayGroupChanged=!0}renderFeature(I,
F,C,r,y,K){if(!C)return!1;let R=!1;if(Array.isArray(C))for(let S=0,ca=C.length;S<ca;++S)R=(0,g.renderFeature)(r,I,C[S],F,this.boundHandleStyleImageChange_,y,K)||R;else R=(0,g.renderFeature)(r,I,C,F,this.boundHandleStyleImageChange_,y,K);return R}}A.default=G};
shadow$provide[327]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(326));class p extends Ka.default{constructor(q){super(q)}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[328]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.toContext=function(n,f){var b=n.canvas;f=f?f:{};const c=f.pixelRatio||k.DEVICE_PIXEL_RATIO;if(f=f.size)b.width=f[0]*c,b.height=f[1]*c,b.style.width=f[0]+"px",b.style.height=f[1]+"px";b=[0,0,b.width,b.height];f=(0,p.scale)((0,p.create)(),c,c);return new w.default(n,c,b,f,0)};A.getVectorContext=function(n){if(!(n.context instanceof CanvasRenderingContext2D))throw Error("Only works for render events from Canvas 2D layers");
const f=n.inversePixelTransform[0],b=n.frameState,c=(0,p.multiply)(n.inversePixelTransform.slice(),b.coordinateToPixelTransform),e=(0,q.getSquaredTolerance)(b.viewState.resolution,f);let g;const m=(0,t.getUserProjection)();m&&(g=(0,t.getTransformFromProjections)(m,b.viewState.projection));return new w.default(n.context,f,b.extent,c,b.viewState.rotation,e,g)};A.getRenderPixel=function(n,f){return(0,p.apply)(n.inversePixelTransform,f.slice(0))};var w=function(n){return n&&n.__esModule?n:{default:n}}(L(322)),
k=L(80),p=L(82),q=L(325),t=L(121)};
shadow$provide[329]=function(Ka,L,sb,A){function w(q,t,n){const f=[];let b=q(0);var c=q(1);let e=t(b),g=t(c);const m=[c,b],h=[g,e],x=[1,0],O={};let G=1E5,I,F,C,r,y;for(;0<--G&&0<x.length;)C=x.pop(),b=m.pop(),e=h.pop(),c=C.toString(),c in O||(f.push(e[0],e[1]),O[c]=!0),r=x.pop(),c=m.pop(),g=h.pop(),y=(C+r)/2,I=q(y),F=t(I),(0,p.squaredSegmentDistance)(F[0],F[1],e[0],e[1],g[0],g[1])<n?(f.push(g[0],g[1]),c=r.toString(),O[c]=!0):(x.push(r,y,y,C),h.push(g,F,F,e),m.push(c,I,I,b));return f}Object.defineProperty(A,
"__esModule",{value:!0});A.greatCircleArc=function(q,t,n,f,b,c){const e=(0,k.get)("EPSG:4326"),g=Math.cos((0,p.toRadians)(t)),m=Math.sin((0,p.toRadians)(t)),h=Math.cos((0,p.toRadians)(f)),x=Math.sin((0,p.toRadians)(f)),O=Math.cos((0,p.toRadians)(n-q)),G=Math.sin((0,p.toRadians)(n-q)),I=m*x+g*h*O;return w(function(F){if(1<=I)return[n,f];var C=F*Math.acos(I);F=Math.cos(C);const r=Math.sin(C),y=Math.atan2(G*h,g*x-m*h*O);C=Math.asin(m*F+g*r*Math.cos(y));F=(0,p.toRadians)(q)+Math.atan2(Math.sin(y)*r*g,
F-m*Math.sin(C));return[(0,p.toDegrees)(F),(0,p.toDegrees)(C)]},(0,k.getTransform)(e,b),c)};A.meridian=function(q,t,n,f,b){const c=(0,k.get)("EPSG:4326");return w(function(e){return[q,t+(n-t)*e]},(0,k.getTransform)(c,f),b)};A.parallel=function(q,t,n,f,b){const c=(0,k.get)("EPSG:4326");return w(function(e){return[t+(n-t)*e,q]},(0,k.getTransform)(c,f),b)};var k=L(121),p=L(85)};
shadow$provide[330]=function(Ka,L,sb,A){function w(y){return y&&y.__esModule?y:{default:y}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(79)),p=w(L(90)),q=w(L(169)),t=w(L(298)),n=w(L(173)),f=w(L(135)),b=w(L(299)),c=w(L(304)),e=w(L(305));Ka=w(L(327));var g=w(L(211)),m=L(84),h=L(85),x=L(93),O=L(121),G=L(328),I=L(329);const F=new b.default({color:"rgba(0,0,0,0.2)"}),C=[90,45,30,20,10,5,2,1,.5,20/60,10/60,5/60,2/60,1/60,30/3600,20/3600,10/3600,5/3600,2/3600,1/3600];class r extends Ka.default{constructor(y){y=
y?y:{};const K=Object.assign({updateWhileAnimating:!0,updateWhileInteracting:!0,renderBuffer:0},y);delete K.maxLines;delete K.strokeStyle;delete K.targetSize;delete K.showLabels;delete K.lonLabelFormatter;delete K.latLabelFormatter;delete K.lonLabelPosition;delete K.latLabelPosition;delete K.lonLabelStyle;delete K.latLabelStyle;delete K.intervals;super(K);this.projection_=null;this.maxLon_=this.maxLat_=Infinity;this.minLon_=this.minLat_=-Infinity;this.maxY_=this.maxX_=Infinity;this.minY_=this.minX_=
-Infinity;this.targetSize_=void 0!==y.targetSize?y.targetSize:100;this.maxLines_=void 0!==y.maxLines?y.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=void 0!==y.strokeStyle?y.strokeStyle:F;this.toLonLatTransform_=this.fromLonLatTransform_=void 0;this.parallelsLabels_=this.meridiansLabels_=this.topRight_=this.topLeft_=this.bottomRight_=this.bottomLeft_=this.projectionCenterLonLat_=null;y.showLabels&&(this.lonLabelFormatter_=void 0==y.lonLabelFormatter?x.degreesToStringHDMS.bind(this,
"EW"):y.lonLabelFormatter,this.latLabelFormatter_=void 0==y.latLabelFormatter?x.degreesToStringHDMS.bind(this,"NS"):y.latLabelFormatter,this.lonLabelPosition_=void 0==y.lonLabelPosition?0:y.lonLabelPosition,this.latLabelPosition_=void 0==y.latLabelPosition?1:y.latLabelPosition,this.lonLabelStyleBase_=new c.default({text:void 0!==y.lonLabelStyle?y.lonLabelStyle.clone():new e.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new t.default({color:"rgba(0,0,0,1)"}),stroke:new b.default({color:"rgba(255,255,255,1)",
width:3})})}),this.lonLabelStyle_=function(R){R=R.get("graticule_label");this.lonLabelStyleBase_.getText().setText(R);return this.lonLabelStyleBase_}.bind(this),this.latLabelStyleBase_=new c.default({text:void 0!==y.latLabelStyle?y.latLabelStyle.clone():new e.default({font:"12px Calibri,sans-serif",textAlign:"right",fill:new t.default({color:"rgba(0,0,0,1)"}),stroke:new b.default({color:"rgba(255,255,255,1)",width:3})})}),this.latLabelStyle_=function(R){R=R.get("graticule_label");this.latLabelStyleBase_.getText().setText(R);
return this.latLabelStyleBase_}.bind(this),this.meridiansLabels_=[],this.parallelsLabels_=[],this.addEventListener(p.default.POSTRENDER,this.drawLabels_.bind(this)));this.intervals_=void 0!==y.intervals?y.intervals:C;this.setSource(new g.default({loader:this.loaderFunction.bind(this),strategy:this.strategyFunction.bind(this),features:new k.default,overlaps:!1,useSpatialIndex:!1,wrapX:y.wrapX}));this.featurePool_=[];this.lineStyle_=new c.default({stroke:this.strokeStyle_});this.renderedResolution_=
this.renderedExtent_=this.loadedExtent_=null;this.setRenderOrder(null)}strategyFunction(y,K){y=y.slice();this.projection_&&this.getSource().getWrapX()&&(0,m.wrapX)(y,this.projection_);this.loadedExtent_&&((0,m.approximatelyEquals)(this.loadedExtent_,y,K)?y=this.loadedExtent_.slice():this.getSource().removeLoadedExtent(this.loadedExtent_));return[y]}loaderFunction(y,K,R){this.loadedExtent_=y;var S=this.getSource(),ca=this.getExtent()||[-Infinity,-Infinity,Infinity,Infinity];y=(0,m.getIntersection)(ca,
y);if(!this.renderedExtent_||!(0,m.equals)(this.renderedExtent_,y)||this.renderedResolution_!==K)if(this.renderedExtent_=y,this.renderedResolution_=K,!(0,m.isEmpty)(y)){ca=(0,m.getCenter)(y);var M=K*K/4;this.projection_&&(0,O.equivalent)(this.projection_,R)||this.updateProjectionInfo_(R);this.createGraticule_(y,ca,K,M);R=this.meridians_.length+this.parallels_.length;this.meridiansLabels_&&(R+=this.meridians_.length);for(this.parallelsLabels_&&(R+=this.parallels_.length);R>this.featurePool_.length;)K=
new q.default,this.featurePool_.push(K);S=S.getFeaturesCollection();S.clear();y=R=0;for(ca=this.meridians_.length;y<ca;++y)K=this.featurePool_[R++],K.setGeometry(this.meridians_[y]),K.setStyle(this.lineStyle_),S.push(K);y=0;for(ca=this.parallels_.length;y<ca;++y)K=this.featurePool_[R++],K.setGeometry(this.parallels_[y]),K.setStyle(this.lineStyle_),S.push(K)}}addMeridian_(y,K,R,S,ca,M){K=this.getMeridian_(y,K,R,S,M);(0,m.intersects)(K.getExtent(),ca)&&(this.meridiansLabels_&&(y=this.lonLabelFormatter_(y),
M in this.meridiansLabels_?this.meridiansLabels_[M].text=y:this.meridiansLabels_[M]={geom:new f.default([]),text:y}),this.meridians_[M++]=K);return M}addParallel_(y,K,R,S,ca,M){K=this.getParallel_(y,K,R,S,M);(0,m.intersects)(K.getExtent(),ca)&&(this.parallelsLabels_&&(y=this.latLabelFormatter_(y),M in this.parallelsLabels_?this.parallelsLabels_[M].text=y:this.parallelsLabels_[M]={geom:new f.default([]),text:y}),this.parallels_[M++]=K);return M}drawLabels_(y){const K=y.frameState.viewState.rotation;
var R=y.frameState.viewState.resolution,S=y.frameState.size;const ca=y.frameState.extent,M=(0,m.getCenter)(ca);var aa=ca;K&&(aa=S[0]*R,R*=S[1],aa=[M[0]-aa/2,M[1]-R/2,M[0]+aa/2,M[1]+R/2]);S=R=0;let Y=.5>this.latLabelPosition_;var ea=this.projection_.getExtent();const Ga=(0,m.getWidth)(ea);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,m.containsExtent)(ea,ca)&&(R=Math.floor((ca[0]-ea[0])/Ga),S=Math.ceil((ca[2]-ea[2])/Ga),Y=Y!==Math.abs(K)>Math.PI/2);y=(0,G.getVectorContext)(y);for(ea=
R;ea<=S;++ea){let D=this.meridians_.length+this.parallels_.length;var X=void 0;let B,N,Z;if(this.meridiansLabels_)for(B=0,N=this.meridiansLabels_.length;B<N;++B)X=this.meridians_[B],K||0!==ea?(X=X.clone(),X.translate(ea*Ga,0),X.rotate(-K,M),Z=this.getMeridianPoint_(X,aa,B),Z.rotate(K,M)):Z=this.getMeridianPoint_(X,ca,B),X=this.featurePool_[D++],X.setGeometry(Z),X.set("graticule_label",this.meridiansLabels_[B].text),y.drawFeature(X,this.lonLabelStyle_(X));if(this.parallelsLabels_&&(ea===R&&Y||ea===
S&&!Y))for(B=0,N=this.parallels_.length;B<N;++B)X=this.parallels_[B],K||0!==ea?(X=X.clone(),X.translate(ea*Ga,0),X.rotate(-K,M),Z=this.getParallelPoint_(X,aa,B),Z.rotate(K,M)):Z=this.getParallelPoint_(X,ca,B),X=this.featurePool_[D++],X.setGeometry(Z),X.set("graticule_label",this.parallelsLabels_[B].text),y.drawFeature(X,this.latLabelStyle_(X))}}createGraticule_(y,K,R,S){R=this.getInterval_(R);if(-1==R)this.meridians_.length=0,this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=
0),this.parallelsLabels_&&(this.parallelsLabels_.length=0);else{var ca=!1,M=this.projection_.getExtent(),aa=(0,m.getWidth)(M);this.getSource().getWrapX()&&this.projection_.canWrapX()&&!(0,m.containsExtent)(M,y)&&((0,m.getWidth)(y)>=aa?(y[0]=M[0],y[2]=M[2]):ca=!0);K=[(0,h.clamp)(K[0],this.minX_,this.maxX_),(0,h.clamp)(K[1],this.minY_,this.maxY_)];M=this.toLonLatTransform_(K);isNaN(M[1])&&(M[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);K=(0,h.clamp)(M[0],this.minLon_,
this.maxLon_);M=(0,h.clamp)(M[1],this.minLat_,this.maxLat_);aa=this.maxLines_;var Y=y;ca||(Y=[(0,h.clamp)(y[0],this.minX_,this.maxX_),(0,h.clamp)(y[1],this.minY_,this.maxY_),(0,h.clamp)(y[2],this.minX_,this.maxX_),(0,h.clamp)(y[3],this.minY_,this.maxY_)]);var ea=(0,m.applyTransform)(Y,this.toLonLatTransform_,void 0,8),Ga=ea[3],X=ea[2],D=ea[1];ea=ea[0];ca||((0,m.containsCoordinate)(Y,this.bottomLeft_)&&(ea=this.minLon_,D=this.minLat_),(0,m.containsCoordinate)(Y,this.bottomRight_)&&(X=this.maxLon_,
D=this.minLat_),(0,m.containsCoordinate)(Y,this.topLeft_)&&(ea=this.minLon_,Ga=this.maxLat_),(0,m.containsCoordinate)(Y,this.topRight_)&&(X=this.maxLon_,Ga=this.maxLat_),Ga=(0,h.clamp)(Ga,M,this.maxLat_),X=(0,h.clamp)(X,K,this.maxLon_),D=(0,h.clamp)(D,this.minLat_,M),ea=(0,h.clamp)(ea,this.minLon_,K));K=Math.floor(K/R)*R;var B=(0,h.clamp)(K,this.minLon_,this.maxLon_);var N=this.addMeridian_(B,D,Ga,S,y,0);Y=0;if(ca)for(;(B-=R)>=ea&&Y++<aa;)N=this.addMeridian_(B,D,Ga,S,y,N);else for(;B!=this.minLon_&&
Y++<aa;)B=Math.max(B-R,this.minLon_),N=this.addMeridian_(B,D,Ga,S,y,N);B=(0,h.clamp)(K,this.minLon_,this.maxLon_);Y=0;if(ca)for(;(B+=R)<=X&&Y++<aa;)N=this.addMeridian_(B,D,Ga,S,y,N);else for(;B!=this.maxLon_&&Y++<aa;)B=Math.min(B+R,this.maxLon_),N=this.addMeridian_(B,D,Ga,S,y,N);this.meridians_.length=N;this.meridiansLabels_&&(this.meridiansLabels_.length=N);M=Math.floor(M/R)*R;ca=(0,h.clamp)(M,this.minLat_,this.maxLat_);N=this.addParallel_(ca,ea,X,S,y,0);for(Y=0;ca!=this.minLat_&&Y++<aa;)ca=Math.max(ca-
R,this.minLat_),N=this.addParallel_(ca,ea,X,S,y,N);ca=(0,h.clamp)(M,this.minLat_,this.maxLat_);for(Y=0;ca!=this.maxLat_&&Y++<aa;)ca=Math.min(ca+R,this.maxLat_),N=this.addParallel_(ca,ea,X,S,y,N);this.parallels_.length=N;this.parallelsLabels_&&(this.parallelsLabels_.length=N)}}getInterval_(y){const K=this.projectionCenterLonLat_[0],R=this.projectionCenterLonLat_[1];let S=-1;y=Math.pow(this.targetSize_*y,2);const ca=[],M=[];for(let aa=0,Y=this.intervals_.length;aa<Y;++aa){const ea=(0,h.clamp)(this.intervals_[aa]/
2,0,90),Ga=(0,h.clamp)(R,-90+ea,90-ea);ca[0]=K-ea;ca[1]=Ga-ea;M[0]=K+ea;M[1]=Ga+ea;this.fromLonLatTransform_(ca,ca);this.fromLonLatTransform_(M,M);if(Math.pow(M[0]-ca[0],2)+Math.pow(M[1]-ca[1],2)<=y)break;S=this.intervals_[aa]}return S}getMeridian_(y,K,R,S,ca){y=(0,I.meridian)(y,K,R,this.projection_,S);(K=this.meridians_[ca])?(K.setFlatCoordinates("XY",y),K.changed()):(K=new n.default(y,"XY"),this.meridians_[ca]=K);return K}getMeridianPoint_(y,K,R){y=y.getFlatCoordinates();let S=1,ca=y.length-1;y[S]>
y[ca]&&(S=ca,ca=1);K=(0,h.clamp)(K[1]+Math.abs(K[1]-K[3])*this.lonLabelPosition_,Math.max(K[1],y[S]),Math.min(K[3],y[ca]));R=this.meridiansLabels_[R].geom;R.setCoordinates([y[S-1]+(y[ca-1]-y[S-1])*(K-y[S])/(y[ca]-y[S]),K]);return R}getMeridians(){return this.meridians_}getParallel_(y,K,R,S,ca){y=(0,I.parallel)(y,K,R,this.projection_,S);(ca=this.parallels_[ca])?(ca.setFlatCoordinates("XY",y),ca.changed()):ca=new n.default(y,"XY");return ca}getParallelPoint_(y,K,R){y=y.getFlatCoordinates();let S=0,
ca=y.length-2;y[S]>y[ca]&&(S=ca,ca=0);K=(0,h.clamp)(K[0]+Math.abs(K[0]-K[2])*this.latLabelPosition_,Math.max(K[0],y[S]),Math.min(K[2],y[ca]));R=this.parallelsLabels_[R].geom;R.setCoordinates([K,y[S+1]+(y[ca+1]-y[S+1])*(K-y[S])/(y[ca]-y[S])]);return R}getParallels(){return this.parallels_}updateProjectionInfo_(y){var K=(0,O.get)("EPSG:4326");const R=y.getWorldExtent();this.maxLat_=R[3];this.maxLon_=R[2];this.minLat_=R[1];this.minLon_=R[0];const S=(0,O.getTransform)(y,K);if(this.minLon_<this.maxLon_)this.toLonLatTransform_=
S;else{const ca=this.minLon_+this.maxLon_/2;this.maxLon_+=360;this.toLonLatTransform_=function(M,aa,Y){Y=Y||2;M=S(M,aa,Y);for(let ea=0,Ga=M.length;ea<Ga;ea+=Y)M[ea]<ca&&(M[ea]+=360);return M}}this.fromLonLatTransform_=(0,O.getTransform)(K,y);K=(0,m.applyTransform)([this.minLon_,this.minLat_,this.maxLon_,this.maxLat_],this.fromLonLatTransform_,void 0,8);this.minX_=K[0];this.maxX_=K[2];this.minY_=K[1];this.maxY_=K[3];this.bottomLeft_=this.fromLonLatTransform_([this.minLon_,this.minLat_]);this.bottomRight_=
this.fromLonLatTransform_([this.maxLon_,this.minLat_]);this.topLeft_=this.fromLonLatTransform_([this.minLon_,this.maxLat_]);this.topRight_=this.fromLonLatTransform_([this.maxLon_,this.maxLat_]);this.projectionCenterLonLat_=this.toLonLatTransform_((0,m.getCenter)(y.getExtent()));isNaN(this.projectionCenterLonLat_[1])&&(this.projectionCenterLonLat_[1]=Math.abs(this.maxLat_)>=Math.abs(this.minLat_)?this.maxLat_:this.minLat_);this.projection_=y}}A.default=r};
shadow$provide[331]=function(Ka,L,sb,A){function w(t,n){n=Object.assign({preserveDrawingBuffer:!0,antialias:k.SAFARI_BUG_237906?!1:!0},n);const f=p.length;for(let b=0;b<f;++b)try{const c=t.getContext(p[b],n);if(c)return c}catch(c){}return null}Object.defineProperty(A,"__esModule",{value:!0});A.getContext=w;A.getSupportedExtensions=function(){if(!q){var t=document.createElement("canvas");(t=w(t))&&(q=t.getSupportedExtensions())}return q};A.FLOAT=A.UNSIGNED_INT=A.UNSIGNED_SHORT=A.UNSIGNED_BYTE=A.DYNAMIC_DRAW=
A.STATIC_DRAW=A.STREAM_DRAW=A.ELEMENT_ARRAY_BUFFER=A.ARRAY_BUFFER=void 0;var k=L(80);A.ARRAY_BUFFER=34962;A.ELEMENT_ARRAY_BUFFER=34963;A.STREAM_DRAW=35040;A.STATIC_DRAW=35044;A.DYNAMIC_DRAW=35048;A.UNSIGNED_BYTE=5121;A.UNSIGNED_SHORT=5123;A.UNSIGNED_INT=5125;A.FLOAT=5126;const p=["experimental-webgl","webgl","webkit-3d","moz-webgl"];let q};
shadow$provide[332]=function(Ka,L,sb,A){function w(n){switch(n){case k.ARRAY_BUFFER:return Float32Array;case k.ELEMENT_ARRAY_BUFFER:return Uint32Array;default:return Float32Array}}Object.defineProperty(A,"__esModule",{value:!0});A.getArrayClassForType=w;A.default=A.BufferUsage=void 0;var k=L(331),p=L(81);const q={STATIC_DRAW:k.STATIC_DRAW,STREAM_DRAW:k.STREAM_DRAW,DYNAMIC_DRAW:k.DYNAMIC_DRAW};A.BufferUsage=q;class t{constructor(n,f){this.array=null;this.type=n;(0,p.assert)(n===k.ARRAY_BUFFER||n===
k.ELEMENT_ARRAY_BUFFER,62);this.usage=void 0!==f?f:q.STATIC_DRAW}ofSize(n){this.array=new (w(this.type))(n)}fromArray(n){this.array=w(this.type).from(n)}fromArrayBuffer(n){this.array=new (w(this.type))(n)}getType(){return this.type}getArray(){return this.array}getUsage(){return this.usage}getSize(){return this.array?this.array.length:0}}A.default=t};
shadow$provide[333]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;A.default={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"}};
shadow$provide[334]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(75);class k{constructor(p){const q=this.gl_=p.webGlContext;this.scaleRatio_=p.scaleRatio||1;this.renderTargetTexture_=q.createTexture();this.renderTargetTextureSize_=null;this.frameBuffer_=q.createFramebuffer();const t=q.createShader(q.VERTEX_SHADER);q.shaderSource(t,p.vertexShader||"\n  precision mediump float;\n  \n  attribute vec2 a_position;\n  varying vec2 v_texCoord;\n  varying vec2 v_screenCoord;\n  \n  uniform vec2 u_screenSize;\n   \n  void main() {\n    v_texCoord \x3d a_position * 0.5 + 0.5;\n    v_screenCoord \x3d v_texCoord * u_screenSize;\n    gl_Position \x3d vec4(a_position, 0.0, 1.0);\n  }\n");
q.compileShader(t);const n=q.createShader(q.FRAGMENT_SHADER);q.shaderSource(n,p.fragmentShader||"\n  precision mediump float;\n   \n  uniform sampler2D u_image;\n  uniform float u_opacity;\n   \n  varying vec2 v_texCoord;\n   \n  void main() {\n    gl_FragColor \x3d texture2D(u_image, v_texCoord) * u_opacity;\n  }\n");q.compileShader(n);this.renderTargetProgram_=q.createProgram();q.attachShader(this.renderTargetProgram_,t);q.attachShader(this.renderTargetProgram_,n);q.linkProgram(this.renderTargetProgram_);
this.renderTargetVerticesBuffer_=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,this.renderTargetVerticesBuffer_);q.bufferData(q.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,-1,1,1,-1,1]),q.STATIC_DRAW);this.renderTargetAttribLocation_=q.getAttribLocation(this.renderTargetProgram_,"a_position");this.renderTargetUniformLocation_=q.getUniformLocation(this.renderTargetProgram_,"u_screenSize");this.renderTargetOpacityLocation_=q.getUniformLocation(this.renderTargetProgram_,"u_opacity");this.renderTargetTextureLocation_=
q.getUniformLocation(this.renderTargetProgram_,"u_image");this.uniforms_=[];p.uniforms&&Object.keys(p.uniforms).forEach(function(f){this.uniforms_.push({value:p.uniforms[f],location:q.getUniformLocation(this.renderTargetProgram_,f)})}.bind(this))}getGL(){return this.gl_}init(p){p=this.getGL();const q=[p.drawingBufferWidth*this.scaleRatio_,p.drawingBufferHeight*this.scaleRatio_];p.bindFramebuffer(p.FRAMEBUFFER,this.getFrameBuffer());p.viewport(0,0,q[0],q[1]);if(!this.renderTargetTextureSize_||this.renderTargetTextureSize_[0]!==
q[0]||this.renderTargetTextureSize_[1]!==q[1]){this.renderTargetTextureSize_=q;const t=p.RGBA,n=p.RGBA,f=p.UNSIGNED_BYTE;p.bindTexture(p.TEXTURE_2D,this.renderTargetTexture_);p.texImage2D(p.TEXTURE_2D,0,t,q[0],q[1],0,n,f,null);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.LINEAR);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,this.renderTargetTexture_,
0)}}apply(p,q,t,n){const f=this.getGL(),b=p.size;f.bindFramebuffer(f.FRAMEBUFFER,q?q.getFrameBuffer():null);f.activeTexture(f.TEXTURE0);f.bindTexture(f.TEXTURE_2D,this.renderTargetTexture_);if(!q&&(q=(0,w.getUid)(f.canvas),!p.renderTargets[q])){const c=f.getContextAttributes();c&&c.preserveDrawingBuffer&&(f.clearColor(0,0,0,0),f.clear(f.COLOR_BUFFER_BIT));p.renderTargets[q]=!0}f.enable(f.BLEND);f.blendFunc(f.ONE,f.ONE_MINUS_SRC_ALPHA);f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight);f.bindBuffer(f.ARRAY_BUFFER,
this.renderTargetVerticesBuffer_);f.useProgram(this.renderTargetProgram_);f.enableVertexAttribArray(this.renderTargetAttribLocation_);f.vertexAttribPointer(this.renderTargetAttribLocation_,2,f.FLOAT,!1,0,0);f.uniform2f(this.renderTargetUniformLocation_,b[0],b[1]);f.uniform1i(this.renderTargetTextureLocation_,0);f.uniform1f(this.renderTargetOpacityLocation_,p.layerStatesArray[p.layerIndex].opacity);this.applyUniforms(p);t&&t(f,p);f.drawArrays(f.TRIANGLES,0,6);n&&n(f,p)}getFrameBuffer(){return this.frameBuffer_}applyUniforms(p){const q=
this.getGL();let t,n=1;this.uniforms_.forEach(function(f){t="function"===typeof f.value?f.value(p):f.value;if(t instanceof HTMLCanvasElement||t instanceof ImageData)f.texture||(f.texture=q.createTexture()),q.activeTexture(q[`TEXTURE${n}`]),q.bindTexture(q.TEXTURE_2D,f.texture),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE),t instanceof ImageData?q.texImage2D(q.TEXTURE_2D,
0,q.RGBA,q.RGBA,t.width,t.height,0,q.UNSIGNED_BYTE,new Uint8Array(t.data)):q.texImage2D(q.TEXTURE_2D,0,q.RGBA,q.RGBA,q.UNSIGNED_BYTE,t),q.uniform1i(f.location,n++);else if(Array.isArray(t))switch(t.length){case 2:q.uniform2f(f.location,t[0],t[1]);break;case 3:q.uniform3f(f.location,t[0],t[1],t[2]);break;case 4:q.uniform4f(f.location,t[0],t[1],t[2],t[3])}else"number"===typeof t&&q.uniform1f(f.location,t)})}}A.default=k};
shadow$provide[335]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};A.fromTransform=function(w,k){w[0]=k[0];w[1]=k[1];w[4]=k[2];w[5]=k[3];w[12]=k[4];w[13]=k[5];return w}};
shadow$provide[336]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}function k(){const F="unique/"+G;G+=1;return F}function p(F){var C=O[F];C||(C=document.createElement("canvas"),C.style.position="absolute",C.style.left="0",C={users:0,canvas:C},O[F]=C);C.users+=1;return C.canvas}function q(F){let C=0;for(let r=0;r<F.length;r++){const y=F[r];C+=y.size*t(y.type)}return C}function t(F){switch(F){case x.UNSIGNED_BYTE:return Uint8Array.BYTES_PER_ELEMENT;case x.UNSIGNED_SHORT:return Uint16Array.BYTES_PER_ELEMENT;
case x.UNSIGNED_INT:return Uint32Array.BYTES_PER_ELEMENT;default:return Float32Array.BYTES_PER_ELEMENT}}Object.defineProperty(A,"__esModule",{value:!0});A.computeAttributesStride=q;A.default=A.AttributeType=A.DefaultUniform=A.ShaderType=void 0;var n=w(L(333));Ka=w(L(67));var f=w(L(334)),b=L(331),c=L(70),e=L(82),g=L(335),m=L(75);A.ShaderType={FRAGMENT_SHADER:35632,VERTEX_SHADER:35633};const h={PROJECTION_MATRIX:"u_projectionMatrix",OFFSET_SCALE_MATRIX:"u_offsetScaleMatrix",OFFSET_ROTATION_MATRIX:"u_offsetRotateMatrix",
TIME:"u_time",ZOOM:"u_zoom",RESOLUTION:"u_resolution",SIZE_PX:"u_sizePx",PIXEL_RATIO:"u_pixelRatio"};A.DefaultUniform=h;const x={UNSIGNED_BYTE:b.UNSIGNED_BYTE,UNSIGNED_SHORT:b.UNSIGNED_SHORT,UNSIGNED_INT:b.UNSIGNED_INT,FLOAT:b.FLOAT};A.AttributeType=x;const O={};let G=0;class I extends Ka.default{constructor(F){super();F=F||{};this.boundHandleWebGLContextLost_=this.handleWebGLContextLost.bind(this);this.boundHandleWebGLContextRestored_=this.handleWebGLContextRestored.bind(this);this.canvasCacheKey_=
F.canvasCacheKey?"shared/"+F.canvasCacheKey:k();this.canvas_=p(this.canvasCacheKey_);this.gl_=(0,b.getContext)(this.canvas_);this.bufferCache_={};this.extensionCache_={};this.currentProgram_=null;this.canvas_.addEventListener(n.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.addEventListener(n.default.RESTORED,this.boundHandleWebGLContextRestored_);this.offsetRotateMatrix_=(0,e.create)();this.offsetScaleMatrix_=(0,e.create)();this.tmpMat4_=(0,g.create)();this.uniformLocations_={};this.attribLocations_=
{};this.uniforms_=[];F.uniforms&&this.setUniforms(F.uniforms);const C=this.getGL();this.postProcessPasses_=F.postProcesses?F.postProcesses.map(function(r){return new f.default({webGlContext:C,scaleRatio:r.scaleRatio,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,uniforms:r.uniforms})}):[new f.default({webGlContext:C})];this.shaderCompileErrors_=null;this.startTime_=Date.now()}setUniforms(F){this.uniforms_=[];for(const C in F)this.uniforms_.push({name:C,value:F[C]});this.uniformLocations_=
{}}canvasCacheKeyMatches(F){return this.canvasCacheKey_==="shared/"+F}getExtension(F){if(F in this.extensionCache_)return this.extensionCache_[F];const C=this.gl_.getExtension(F);return this.extensionCache_[F]=C}bindBuffer(F){const C=this.getGL(),r=(0,m.getUid)(F);var y=this.bufferCache_[r];y||(y=C.createBuffer(),y={buffer:F,webGlBuffer:y},this.bufferCache_[r]=y);C.bindBuffer(F.getType(),y.webGlBuffer)}flushBufferData(F){const C=this.getGL();this.bindBuffer(F);C.bufferData(F.getType(),F.getArray(),
F.getUsage())}deleteBuffer(F){const C=this.getGL();F=(0,m.getUid)(F);const r=this.bufferCache_[F];r&&!C.isContextLost()&&C.deleteBuffer(r.webGlBuffer);delete this.bufferCache_[F]}disposeInternal(){this.canvas_.removeEventListener(n.default.LOST,this.boundHandleWebGLContextLost_);this.canvas_.removeEventListener(n.default.RESTORED,this.boundHandleWebGLContextRestored_);var F=this.canvasCacheKey_,C=O[F];C&&(--C.users,0<C.users||((C=(0,b.getContext)(C.canvas).getExtension("WEBGL_lose_context"))&&C.loseContext(),
delete O[F]));delete this.gl_;delete this.canvas_}prepareDraw(F,C){const r=this.getGL();var y=this.getCanvas();const K=F.size,R=F.pixelRatio;y.width=K[0]*R;y.height=K[1]*R;y.style.width=K[0]+"px";y.style.height=K[1]+"px";for(y=this.postProcessPasses_.length-1;0<=y;y--)this.postProcessPasses_[y].init(F);r.bindTexture(r.TEXTURE_2D,null);r.clearColor(0,0,0,0);r.clear(r.COLOR_BUFFER_BIT);r.enable(r.BLEND);r.blendFunc(r.ONE,C?r.ZERO:r.ONE_MINUS_SRC_ALPHA)}prepareDrawToRenderTarget(F,C,r){F=this.getGL();
const y=C.getSize();F.bindFramebuffer(F.FRAMEBUFFER,C.getFramebuffer());F.viewport(0,0,y[0],y[1]);F.bindTexture(F.TEXTURE_2D,C.getTexture());F.clearColor(0,0,0,0);F.clear(F.COLOR_BUFFER_BIT);F.enable(F.BLEND);F.blendFunc(F.ONE,r?F.ZERO:F.ONE_MINUS_SRC_ALPHA)}drawElements(F,C){const r=this.getGL();this.getExtension("OES_element_index_uint");r.drawElements(r.TRIANGLES,C-F,r.UNSIGNED_INT,4*F)}finalizeDraw(F,C,r){for(let y=0,K=this.postProcessPasses_.length;y<K;y++)y===K-1?this.postProcessPasses_[y].apply(F,
null,C,r):this.postProcessPasses_[y].apply(F,this.postProcessPasses_[y+1])}getCanvas(){return this.canvas_}getGL(){return this.gl_}applyFrameState(F){const C=F.size,r=F.viewState.rotation,y=F.pixelRatio,K=(0,e.reset)(this.offsetScaleMatrix_);(0,e.scale)(K,2/C[0],2/C[1]);const R=(0,e.reset)(this.offsetRotateMatrix_);0!==r&&(0,e.rotate)(R,-r);this.setUniformMatrixValue(h.OFFSET_SCALE_MATRIX,(0,g.fromTransform)(this.tmpMat4_,K));this.setUniformMatrixValue(h.OFFSET_ROTATION_MATRIX,(0,g.fromTransform)(this.tmpMat4_,
R));this.setUniformFloatValue(h.TIME,.001*(Date.now()-this.startTime_));this.setUniformFloatValue(h.ZOOM,F.viewState.zoom);this.setUniformFloatValue(h.RESOLUTION,F.viewState.resolution);this.setUniformFloatValue(h.PIXEL_RATIO,y);this.setUniformFloatVec2(h.SIZE_PX,[C[0],C[1]])}applyUniforms(F){const C=this.getGL();let r,y=0;this.uniforms_.forEach(function(K){r="function"===typeof K.value?K.value(F):K.value;if(r instanceof HTMLCanvasElement||r instanceof HTMLImageElement||r instanceof ImageData)K.texture||
(K.prevValue=void 0,K.texture=C.createTexture()),C.activeTexture(C[`TEXTURE${y}`]),C.bindTexture(C.TEXTURE_2D,K.texture),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,C.LINEAR),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_S,C.CLAMP_TO_EDGE),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_WRAP_T,C.CLAMP_TO_EDGE),r instanceof HTMLImageElement&&!r.complete||K.prevValue===r||(K.prevValue=r,C.texImage2D(C.TEXTURE_2D,0,C.RGBA,C.RGBA,C.UNSIGNED_BYTE,r)),C.uniform1i(this.getUniformLocation(K.name),y++);else if(Array.isArray(r)&&
6===r.length)this.setUniformMatrixValue(K.name,(0,g.fromTransform)(this.tmpMat4_,r));else if(Array.isArray(r)&&4>=r.length)switch(r.length){case 2:C.uniform2f(this.getUniformLocation(K.name),r[0],r[1]);break;case 3:C.uniform3f(this.getUniformLocation(K.name),r[0],r[1],r[2]);break;case 4:C.uniform4f(this.getUniformLocation(K.name),r[0],r[1],r[2],r[3])}else"number"===typeof r&&C.uniform1f(this.getUniformLocation(K.name),r)}.bind(this))}useProgram(F,C){this.getGL().useProgram(F);this.currentProgram_=
F;this.uniformLocations_={};this.attribLocations_={};this.applyFrameState(C);this.applyUniforms(C)}compileShader(F,C){const r=this.getGL();C=r.createShader(C);r.shaderSource(C,F);r.compileShader(C);return C}getProgram(F,C){var r=this.getGL();F=this.compileShader(F,r.FRAGMENT_SHADER);C=this.compileShader(C,r.VERTEX_SHADER);const y=r.createProgram();r.attachShader(y,F);r.attachShader(y,C);r.linkProgram(y);if(!r.getShaderParameter(F,r.COMPILE_STATUS))throw r=`Fragment shader compliation failed: ${r.getShaderInfoLog(F)}`,
Error(r);r.deleteShader(F);if(!r.getShaderParameter(C,r.COMPILE_STATUS))throw r=`Vertex shader compilation failed: ${r.getShaderInfoLog(C)}`,Error(r);r.deleteShader(C);if(!r.getProgramParameter(y,r.LINK_STATUS))throw r=`GL program linking failed: ${r.getShaderInfoLog(C)}`,Error(r);return y}getUniformLocation(F){void 0===this.uniformLocations_[F]&&(this.uniformLocations_[F]=this.getGL().getUniformLocation(this.currentProgram_,F));return this.uniformLocations_[F]}getAttributeLocation(F){void 0===this.attribLocations_[F]&&
(this.attribLocations_[F]=this.getGL().getAttribLocation(this.currentProgram_,F));return this.attribLocations_[F]}makeProjectionTransform(F,C){const r=F.size,y=F.viewState.rotation,K=F.viewState.resolution;F=F.viewState.center;(0,e.reset)(C);(0,e.compose)(C,0,0,2/(K*r[0]),2/(K*r[1]),-y,-F[0],-F[1]);return C}setUniformFloatValue(F,C){this.getGL().uniform1f(this.getUniformLocation(F),C)}setUniformFloatVec2(F,C){this.getGL().uniform2fv(this.getUniformLocation(F),C)}setUniformFloatVec4(F,C){this.getGL().uniform4fv(this.getUniformLocation(F),
C)}setUniformMatrixValue(F,C){this.getGL().uniformMatrix4fv(this.getUniformLocation(F),!1,C)}enableAttributeArray_(F,C,r,y,K){F=this.getAttributeLocation(F);0>F||(this.getGL().enableVertexAttribArray(F),this.getGL().vertexAttribPointer(F,C,r,!1,y,K))}enableAttributes(F){const C=q(F);let r=0;for(let y=0;y<F.length;y++){const K=F[y];this.enableAttributeArray_(K.name,K.size,K.type||b.FLOAT,C,r);r+=K.size*t(K.type)}}handleWebGLContextLost(){(0,c.clear)(this.bufferCache_);this.currentProgram_=null}handleWebGLContextRestored(){}createTexture(F,
C,r){const y=this.getGL();r=r||y.createTexture();const K=y.RGBA,R=y.RGBA,S=y.UNSIGNED_BYTE;y.bindTexture(y.TEXTURE_2D,r);C?y.texImage2D(y.TEXTURE_2D,0,K,R,S,C):y.texImage2D(y.TEXTURE_2D,0,K,F[0],F[1],0,R,S,null);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,y.LINEAR);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE);y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE);return r}}A.default=I};
shadow$provide[337]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(88));Ka=w(L(277));var p=w(L(95)),q=w(L(90)),t=w(L(336)),n=L(82);class f extends Ka.default{constructor(b,c){super(b);c=c||{};this.inversePixelTransform_=(0,n.create)();this.pixelContext_=null;this.postProcesses_=c.postProcesses;this.uniforms_=c.uniforms;b.addChangeListener(k.default.MAP,this.removeHelper.bind(this));this.dispatchPreComposeEvent=
this.dispatchPreComposeEvent.bind(this);this.dispatchPostComposeEvent=this.dispatchPostComposeEvent.bind(this)}dispatchPreComposeEvent(b,c){const e=this.getLayer();e.hasListener(q.default.PRECOMPOSE)&&(b=new p.default(q.default.PRECOMPOSE,void 0,c,b),e.dispatchEvent(b))}dispatchPostComposeEvent(b,c){const e=this.getLayer();e.hasListener(q.default.POSTCOMPOSE)&&(b=new p.default(q.default.POSTCOMPOSE,void 0,c,b),e.dispatchEvent(b))}reset(b){this.uniforms_=b.uniforms;this.helper&&this.helper.setUniforms(this.uniforms_)}removeHelper(){this.helper&&
(this.helper.dispose(),delete this.helper)}prepareFrame(b){if(this.getLayer().getRenderSource()){var c=!0;let g=-1,m;for(let h=0,x=b.layerStatesArray.length;h<x;h++){var e=b.layerStatesArray[h].layer;const O=e.getRenderer();if(O instanceof f){e=e.getClassName();if(c||e!==m)g+=1,c=!1;m=e;if(O===this)break}else c=!0}c="map/"+b.mapId+"/group/"+g;this.helper&&this.helper.canvasCacheKeyMatches(c)||(this.removeHelper(),this.helper=new t.default({postProcesses:this.postProcesses_,uniforms:this.uniforms_,
canvasCacheKey:c}),m&&(this.helper.getCanvas().className=m),this.afterHelperCreated())}return this.prepareFrameInternal(b)}afterHelperCreated(){}prepareFrameInternal(b){return!0}disposeInternal(){this.removeHelper();super.disposeInternal()}dispatchRenderEvent_(b,c,e){const g=this.getLayer();g.hasListener(b)&&((0,n.compose)(this.inversePixelTransform_,0,0,e.pixelRatio,-e.pixelRatio,0,0,-e.size[1]),b=new p.default(b,this.inversePixelTransform_,e,c),g.dispatchEvent(b))}preRender(b,c){this.dispatchRenderEvent_(q.default.PRERENDER,
b,c)}postRender(b,c){this.dispatchRenderEvent_(q.default.POSTRENDER,b,c)}}A.default=f};
shadow$provide[338]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var w=L(68);const k=new Uint8Array(4);class p{constructor(q,t){this.helper_=q;q=q.getGL();this.texture_=q.createTexture();this.framebuffer_=q.createFramebuffer();this.size_=t||[1,1];this.data_=new Uint8Array(0);this.dataCacheDirty_=!0;this.updateSize_()}setSize(q){(0,w.equals)(q,this.size_)||(this.size_[0]=q[0],this.size_[1]=q[1],this.updateSize_())}getSize(){return this.size_}clearCachedData(){this.dataCacheDirty_=
!0}readAll(){if(this.dataCacheDirty_){const q=this.size_,t=this.helper_.getGL();t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_);t.readPixels(0,0,q[0],q[1],t.RGBA,t.UNSIGNED_BYTE,this.data_);this.dataCacheDirty_=!1}return this.data_}readPixel(q,t){if(0>q||0>t||q>this.size_[0]||t>=this.size_[1])return k[0]=0,k[1]=0,k[2]=0,k[3]=0,k;this.readAll();q=Math.floor(q)+(this.size_[1]-Math.floor(t)-1)*this.size_[0];k[0]=this.data_[4*q];k[1]=this.data_[4*q+1];k[2]=this.data_[4*q+2];k[3]=this.data_[4*q+3];
return k}getTexture(){return this.texture_}getFramebuffer(){return this.framebuffer_}updateSize_(){const q=this.size_,t=this.helper_.getGL();this.texture_=this.helper_.createTexture(q,null,this.texture_);t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer_);t.viewport(0,0,q[0],q[1]);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture_,0);this.data_=new Uint8Array(q[0]*q[1]*4)}}A.default=p};
shadow$provide[339]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.WebGLWorkerMessageType={GENERATE_POLYGON_BUFFERS:"GENERATE_POLYGON_BUFFERS",GENERATE_POINT_BUFFERS:"GENERATE_POINT_BUFFERS",GENERATE_LINE_STRING_BUFFERS:"GENERATE_LINE_STRING_BUFFERS"}};
shadow$provide[340]=function(Ka,L,sb,A){function w(r,y,K){K=K||2;var R=y&&y.length,S=R?y[0]*K:r.length,ca=k(r,0,S,K,!0),M=[];if(!ca||ca.next===ca.prev)return M;var aa;if(R){var Y=ca;var ea=K;ca=[];var Ga;R=0;for(Ga=y.length;R<Ga;R++){var X=y[R]*ea;var D=R<Ga-1?y[R+1]*ea:r.length;X=k(r,X,D,ea,!1);X===X.next&&(X.steiner=!0);D=ca;var B=D.push,N=X,Z=X;do{if(N.x<Z.x||N.x===Z.x&&N.y<Z.y)Z=N;N=N.next}while(N!==X);B.call(D,Z)}ca.sort(n);for(R=0;R<ca.length;R++){ea=void 0;y=ca[R];b:{Ga=Y;X=y.x;D=y.y;B=-Infinity;
do{if(D<=Ga.y&&D>=Ga.next.y&&Ga.next.y!==Ga.y&&(N=Ga.x+(D-Ga.y)*(Ga.next.x-Ga.x)/(Ga.next.y-Ga.y),N<=X&&N>B&&(B=N,ea=Ga.x<Ga.next.x?Ga:Ga.next,N===X)))break b;Ga=Ga.next}while(Ga!==Y);if(ea){Z=ea;var Aa=ea.x,qa=ea.y,la=Infinity;Ga=ea;do{if(X>=Ga.x&&Ga.x>=Aa&&X!==Ga.x&&b(D<qa?X:B,D,Aa,qa,D<qa?B:X,D,Ga.x,Ga.y)){N=Math.abs(D-Ga.y)/(X-Ga.x);var Ja;if((Ja=x(Ga,y))&&!(Ja=N<la)&&(Ja=N===la)&&!(Ja=Ga.x>ea.x)&&(Ja=Ga.x===ea.x)){Ja=ea;var bb=Ga;Ja=0>c(Ja.prev,Ja,bb.prev)&&0>c(bb.next,Ja,Ja.next)}Ja&&(ea=Ga,
la=N)}Ga=Ga.next}while(Ga!==Z)}else ea=null}ea&&(y=O(ea,y),p(y,y.next),Y=p(ea,ea.next))}ca=Y}if(r.length>80*K){var ib=aa=r[0];var Ma=R=r[1];for(Y=K;Y<S;Y+=K)y=r[Y],ea=r[Y+1],y<ib&&(ib=y),ea<Ma&&(Ma=ea),y>aa&&(aa=y),ea>R&&(R=ea);aa=Math.max(aa-ib,R-Ma);aa=0!==aa?32767/aa:0}q(ca,M,K,ib,Ma,aa,0);return M}function k(r,y,K,R,S){if(S===0<C(r,y,K,R))for(S=y;S<K;S+=R)var ca=G(S,r[S],r[S+1],ca);else for(S=K-R;S>=y;S-=R)ca=G(S,r[S],r[S+1],ca);ca&&e(ca,ca.next)&&(I(ca),ca=ca.next);return ca}function p(r,y){if(!r)return r;
y||(y=r);do{var K=!1;if(r.steiner||!e(r,r.next)&&0!==c(r.prev,r,r.next))r=r.next;else{I(r);r=y=r.prev;if(r===r.next)break;K=!0}}while(K||r!==y);return y}function q(r,y,K,R,S,ca,M){if(r){if(!M&&ca){var aa=r,Y=aa;do 0===Y.z&&(Y.z=f(Y.x,Y.y,R,S,ca)),Y.prevZ=Y.prev,Y=Y.nextZ=Y.next;while(Y!==aa);Y.prevZ.nextZ=null;Y.prevZ=null;aa=Y;var ea,Ga,X,D,B=1;do{Y=aa;var N=aa=null;for(Ga=0;Y;){Ga++;var Z=Y;for(ea=X=0;ea<B&&(X++,Z=Z.nextZ,Z);ea++);for(D=B;0<X||0<D&&Z;)0!==X&&(0===D||!Z||Y.z<=Z.z)?(ea=Y,Y=Y.nextZ,
X--):(ea=Z,Z=Z.nextZ,D--),N?N.nextZ=ea:aa=ea,ea.prevZ=N,N=ea;Y=Z}N.nextZ=null;B*=2}while(1<Ga)}for(aa=r;r.prev!==r.next;){Y=r.prev;Z=r.next;if(ca)N=t(r,R,S,ca);else a:{N=r.prev;var Aa=r;D=r.next;if(0<=c(N,Aa,D))N=!1;else{Ga=N.x;X=Aa.x;B=D.x;ea=N.y;Aa=Aa.y;var qa=D.y,la=Ga<X?Ga<B?Ga:B:X<B?X:B,Ja=ea<Aa?ea<qa?ea:qa:Aa<qa?Aa:qa,bb=Ga>X?Ga>B?Ga:B:X>B?X:B,ib=ea>Aa?ea>qa?ea:qa:Aa>qa?Aa:qa;for(D=D.next;D!==N;){if(D.x>=la&&D.x<=bb&&D.y>=Ja&&D.y<=ib&&b(Ga,ea,X,Aa,B,qa,D.x,D.y)&&0<=c(D.prev,D,D.next)){N=!1;
break a}D=D.next}N=!0}}if(N)y.push(Y.i/K|0),y.push(r.i/K|0),y.push(Z.i/K|0),I(r),aa=r=Z.next;else if(r=Z,r===aa){if(!M)q(p(r),y,K,R,S,ca,1);else if(1===M){r=p(r);M=y;aa=K;Y=r;do Z=Y.prev,N=Y.next.next,!e(Z,N)&&g(Z,Y,Y.next,N)&&x(Z,N)&&x(N,Z)&&(M.push(Z.i/aa|0),M.push(Y.i/aa|0),M.push(N.i/aa|0),I(Y),I(Y.next),Y=r=N),Y=Y.next;while(Y!==r);r=p(Y);q(r,y,K,R,S,ca,2)}else if(2===M)a:{M=r;do{for(aa=M.next.next;aa!==M.prev;){if(Y=M.i!==aa.i){Y=M;Z=aa;if(N=Y.next.i!==Z.i&&Y.prev.i!==Z.i){b:{N=Y;do{if(N.i!==
Y.i&&N.next.i!==Y.i&&N.i!==Z.i&&N.next.i!==Z.i&&g(N,N.next,Y,Z)){N=!0;break b}N=N.next}while(N!==Y);N=!1}N=!N}if(N){if(N=x(Y,Z)&&x(Z,Y)){N=Y;Ga=!1;X=(Y.x+Z.x)/2;B=(Y.y+Z.y)/2;do N.y>B!==N.next.y>B&&N.next.y!==N.y&&X<(N.next.x-N.x)*(B-N.y)/(N.next.y-N.y)+N.x&&(Ga=!Ga),N=N.next;while(N!==Y);N=Ga}N=N&&(c(Y.prev,Y,Z.prev)||c(Y,Z.prev,Z))||e(Y,Z)&&0<c(Y.prev,Y,Y.next)&&0<c(Z.prev,Z,Z.next)}Y=N}if(Y){r=O(M,aa);M=p(M,M.next);r=p(r,r.next);q(M,y,K,R,S,ca,0);q(r,y,K,R,S,ca,0);break a}aa=aa.next}M=M.next}while(M!==
r)}break}}}}function t(r,y,K,R){var S=r.prev,ca=r.next;if(0<=c(S,r,ca))return!1;var M=S.x,aa=r.x,Y=ca.x,ea=S.y,Ga=r.y,X=ca.y,D=M<aa?M<Y?M:Y:aa<Y?aa:Y,B=ea<Ga?ea<X?ea:X:Ga<X?Ga:X,N=M>aa?M>Y?M:Y:aa>Y?aa:Y,Z=ea>Ga?ea>X?ea:X:Ga>X?Ga:X,Aa=f(D,B,y,K,R);y=f(N,Z,y,K,R);K=r.prevZ;for(r=r.nextZ;K&&K.z>=Aa&&r&&r.z<=y;){if(K.x>=D&&K.x<=N&&K.y>=B&&K.y<=Z&&K!==S&&K!==ca&&b(M,ea,aa,Ga,Y,X,K.x,K.y)&&0<=c(K.prev,K,K.next))return!1;K=K.prevZ;if(r.x>=D&&r.x<=N&&r.y>=B&&r.y<=Z&&r!==S&&r!==ca&&b(M,ea,aa,Ga,Y,X,r.x,r.y)&&
0<=c(r.prev,r,r.next))return!1;r=r.nextZ}for(;K&&K.z>=Aa;){if(K.x>=D&&K.x<=N&&K.y>=B&&K.y<=Z&&K!==S&&K!==ca&&b(M,ea,aa,Ga,Y,X,K.x,K.y)&&0<=c(K.prev,K,K.next))return!1;K=K.prevZ}for(;r&&r.z<=y;){if(r.x>=D&&r.x<=N&&r.y>=B&&r.y<=Z&&r!==S&&r!==ca&&b(M,ea,aa,Ga,Y,X,r.x,r.y)&&0<=c(r.prev,r,r.next))return!1;r=r.nextZ}return!0}function n(r,y){return r.x-y.x}function f(r,y,K,R,S){r=(r-K)*S|0;y=(y-R)*S|0;r=(r|r<<8)&16711935;r=(r|r<<4)&252645135;r=(r|r<<2)&858993459;y=(y|y<<8)&16711935;y=(y|y<<4)&252645135;
y=(y|y<<2)&858993459;return(r|r<<1)&1431655765|((y|y<<1)&1431655765)<<1}function b(r,y,K,R,S,ca,M,aa){return(S-M)*(y-aa)>=(r-M)*(ca-aa)&&(r-M)*(R-aa)>=(K-M)*(y-aa)&&(K-M)*(ca-aa)>=(S-M)*(R-aa)}function c(r,y,K){return(y.y-r.y)*(K.x-y.x)-(y.x-r.x)*(K.y-y.y)}function e(r,y){return r.x===y.x&&r.y===y.y}function g(r,y,K,R){var S=h(c(r,y,K)),ca=h(c(r,y,R)),M=h(c(K,R,r)),aa=h(c(K,R,y));return S!==ca&&M!==aa||0===S&&m(r,K,y)||0===ca&&m(r,R,y)||0===M&&m(K,r,R)||0===aa&&m(K,y,R)?!0:!1}function m(r,y,K){return y.x<=
Math.max(r.x,K.x)&&y.x>=Math.min(r.x,K.x)&&y.y<=Math.max(r.y,K.y)&&y.y>=Math.min(r.y,K.y)}function h(r){return 0<r?1:0>r?-1:0}function x(r,y){return 0>c(r.prev,r,r.next)?0<=c(r,y,r.next)&&0<=c(r,r.prev,y):0>c(r,y,r.prev)||0>c(r,r.next,y)}function O(r,y){var K=new F(r.i,r.x,r.y),R=new F(y.i,y.x,y.y),S=r.next,ca=y.prev;r.next=y;y.prev=r;K.next=S;S.prev=K;R.next=K;K.prev=R;ca.next=R;R.prev=ca;return R}function G(r,y,K,R){r=new F(r,y,K);R?(r.next=R.next,r.prev=R,R.next.prev=r,R.next=r):(r.prev=r,r.next=
r);return r}function I(r){r.next.prev=r.prev;r.prev.next=r.next;r.prevZ&&(r.prevZ.nextZ=r.nextZ);r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function F(r,y,K){this.i=r;this.x=y;this.y=K;this.next=this.prev=null;this.z=0;this.nextZ=this.prevZ=null;this.steiner=!1}function C(r,y,K,R){for(var S=0,ca=K-R;y<K;y+=R)S+=(r[ca]-r[y])*(r[y+1]+r[ca+1]),ca=y;return S}sb.exports=w;sb.exports.default=w;w.deviation=function(r,y,K,R){var S=y&&y.length,ca=Math.abs(C(r,0,S?y[0]*K:r.length,K));if(S){S=0;for(var M=y.length;S<M;S++)ca-=
Math.abs(C(r,y[S]*K,S<M-1?y[S+1]*K:r.length,K))}for(S=y=0;S<R.length;S+=3){M=R[S]*K;var aa=R[S+1]*K,Y=R[S+2]*K;y+=Math.abs((r[M]-r[Y])*(r[aa+1]-r[M+1])-(r[M]-r[aa])*(r[Y+1]-r[M+1]))}return 0===ca&&0===y?0:Math.abs((y-ca)/ca)};w.flatten=function(r){for(var y=r[0][0].length,K={vertices:[],holes:[],dimensions:y},R=0,S=0;S<r.length;S++){for(var ca=0;ca<r[S].length;ca++)for(var M=0;M<y;M++)K.vertices.push(r[S][ca][M]);0<S&&(R+=r[S-1].length,K.holes.push(R))}return K}};
shadow$provide[341]=function(Ka,L,sb,A){function w(f,b,c,e,g){f[b+0]=c;f[b+1]=e;f[b+2]=g}Object.defineProperty(A,"__esModule",{value:!0});A.writePointFeatureToBuffers=function(f,b,c,e,g,m){const h=3+g,x=f[b+0],O=f[b+1],G=t;G.length=g;for(g=0;g<G.length;g++)G[g]=f[b+2+g];f=m?m.vertexPosition:0;m=m?m.indexPosition:0;b=f/h;w(c,f,x,O,0);G.length&&c.set(G,f+3);f+=h;w(c,f,x,O,1);G.length&&c.set(G,f+3);f+=h;w(c,f,x,O,2);G.length&&c.set(G,f+3);f+=h;w(c,f,x,O,3);G.length&&c.set(G,f+3);e[m++]=b;e[m++]=b+1;
e[m++]=b+3;e[m++]=b+1;e[m++]=b+2;e[m++]=b+3;n.vertexPosition=f+h;n.indexPosition=m;return n};A.writeLineSegmentToBuffers=function(f,b,c,e,g,m,h,x,O,G){function I(S,ca,M){return Math.round(1500*ca)+1E4*Math.round(1500*M)+1E8*S}function F(S,ca,M){var aa=Math.sqrt((ca[0]-S[0])*(ca[0]-S[0])+(ca[1]-S[1])*(ca[1]-S[1]));const Y=[(ca[0]-S[0])/aa,(ca[1]-S[1])/aa];ca=[-Y[1],Y[0]];const ea=Math.sqrt((M[0]-S[0])*(M[0]-S[0])+(M[1]-S[1])*(M[1]-S[1]));S=[(M[0]-S[0])/ea,(M[1]-S[1])/ea];aa=0===aa||0===ea?0:Math.acos((0,q.clamp)(S[0]*
Y[0]+S[1]*Y[1],-1,1));return 0<S[0]*ca[0]+S[1]*ca[1]?aa:2*Math.PI-aa}O=m.length/(5+x.length);b=[f[b+0],f[b+1]];c=[f[c],f[c+1]];const C=(0,p.apply)(G,[...b]),r=(0,p.apply)(G,[...c]),y=null!==g;let K=0,R=0;null!==e&&(e=(0,p.apply)(G,[f[e],f[e+1]]),K=F(C,r,e));y&&(f=(0,p.apply)(G,[f[g],f[g+1]]),R=F(r,C,f));m.push(b[0],b[1],c[0],c[1],I(0,K,R));m.push(...x);m.push(b[0],b[1],c[0],c[1],I(1,K,R));m.push(...x);m.push(b[0],b[1],c[0],c[1],I(2,K,R));m.push(...x);m.push(b[0],b[1],c[0],c[1],I(3,K,R));m.push(...x);
h.push(O,O+1,O+2,O+1,O+3,O+2)};A.writePolygonTrianglesToBuffers=function(f,b,c,e,g){const m=2+g,h=f.slice(b,b+g);b+=g;var x=f[b++];g=0;var O=Array(x-1);for(let G=0;G<x;G++)g+=f[b++],G<x-1&&(O[G]=g);f=f.slice(b,b+2*g);O=(0,k.default)(f,O,2);for(x=0;x<O.length;x++)e.push(O[x]+c.length/m);for(e=0;e<f.length;e+=2)c.push(f[e],f[e+1],...h);return b+2*g};A.getBlankImageData=function(){const f=document.createElement("canvas").getContext("2d").createImageData(1,1);f.data[0]=255;f.data[1]=255;f.data[2]=255;
f.data[3]=255;return f};A.colorEncodeId=function(f,b){b=b||[];b[0]=Math.floor(f/256/256/256)/255;b[1]=Math.floor(f/256/256)%256/255;b[2]=Math.floor(f/256)%256/255;b[3]=f%256/255;return b};A.colorDecodeId=function(f){let b;b=0+Math.round(4278190080*f[0]);b+=Math.round(16711680*f[1]);b+=Math.round(65280*f[2]);return b+=Math.round(255*f[3])};var k=function(f){return f&&f.__esModule?f:{default:f}}(L(340)),p=L(82),q=L(85);const t=[],n={vertexPosition:0,indexPosition:0}};
shadow$provide[342]=function(Ka,L,sb,A){var w=L(21).Buffer;"use strict";Object.defineProperty(A,"__esModule",{value:!0});A.create=function(){return new Worker("undefined"===typeof Blob?"data:application/javascript;base64,"+w.from('const e\x3d"GENERATE_POLYGON_BUFFERS",t\x3d"GENERATE_POINT_BUFFERS",n\x3d"GENERATE_LINE_STRING_BUFFERS",r\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";r.includes("firefox");r.includes("safari")\x26\x26!r.includes("chrom")\x26\x26(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")\x26\x26r.includes("edge"),r.includes("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const t\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}}();const o\x3d{1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:\'`renderMode` must be `"hybrid"` or `"vector"`\',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class i extends Error{constructor(e){const t\x3do[e];super(t),this.code\x3de,this.name\x3d"AssertionError",this.message\x3dt}}function s(e,t){const n\x3dt[0],r\x3dt[1];return t[0]\x3de[0]*n+e[2]*r+e[4],t[1]\x3de[1]*n+e[3]*r+e[5],t}function a(e,t){const n\x3d(r\x3dt)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new i(t)}(0!\x3d\x3dn,32);const o\x3dt[0],s\x3dt[1],a\x3dt[2],u\x3dt[3],x\x3dt[4],f\x3dt[5];return e[0]\x3du/n,e[1]\x3d-s/n,e[2]\x3d-a/n,e[3]\x3do/n,e[4]\x3d(a*f-u*x)/n,e[5]\x3d-(o*f-s*x)/n,e}new Array(6);var u\x3d{exports:{}};function x(e,t,n){n\x3dn||2;var r,o,i,s,a,u,x,y\x3dt\x26\x26t.length,d\x3dy?t[0]*n:e.length,h\x3df(e,0,d,n,!0),v\x3d[];if(!h||h.next\x3d\x3d\x3dh.prev)return v;if(y\x26\x26(h\x3dfunction(e,t,n,r){var o,i,s,a\x3d[];for(o\x3d0,i\x3dt.length;o\x3ci;o++)(s\x3df(e,t[o]*r,o\x3ci-1?t[o+1]*r:e.length,r,!1))\x3d\x3d\x3ds.next\x26\x26(s.steiner\x3d!0),a.push(w(s));for(a.sort(p),o\x3d0;o\x3ca.length;o++)n\x3dl(n\x3dg(a[o],n),n.next);return n}(e,t,h,n)),e.length\x3e80*n){r\x3di\x3de[0],o\x3ds\x3de[1];for(var b\x3dn;b\x3cd;b+\x3dn)(a\x3de[b])\x3cr\x26\x26(r\x3da),(u\x3de[b+1])\x3co\x26\x26(o\x3du),a\x3ei\x26\x26(i\x3da),u\x3es\x26\x26(s\x3du);x\x3d0!\x3d\x3d(x\x3dMath.max(i-r,s-o))?1/x:0}return c(h,v,n,r,o,x),v}function f(e,t,n,r,o){var i,s;if(o\x3d\x3d\x3dB(e,t,n,r)\x3e0)for(i\x3dt;i\x3cn;i+\x3dr)s\x3dU(i,e[i],e[i+1],s);else for(i\x3dn-r;i\x3e\x3dt;i-\x3dr)s\x3dU(i,e[i],e[i+1],s);return s\x26\x26M(s,s.next)\x26\x26(z(s),s\x3ds.next),s}function l(e,t){if(!e)return e;t||(t\x3de);var n,r\x3de;do{if(n\x3d!1,r.steiner||!M(r,r.next)\x26\x260!\x3d\x3dZ(r.prev,r,r.next))r\x3dr.next;else{if(z(r),(r\x3dt\x3dr.prev)\x3d\x3d\x3dr.next)break;n\x3d!0}}while(n||r!\x3d\x3dt);return t}function c(e,t,n,r,o,i,s){if(e){!s\x26\x26i\x26\x26function(e,t,n,r){var o\x3de;do{null\x3d\x3d\x3do.z\x26\x26(o.z\x3dm(o.x,o.y,t,n,r)),o.prevZ\x3do.prev,o.nextZ\x3do.next,o\x3do.next}while(o!\x3d\x3de);o.prevZ.nextZ\x3dnull,o.prevZ\x3dnull,function(e){var t,n,r,o,i,s,a,u,x\x3d1;do{for(n\x3de,e\x3dnull,i\x3dnull,s\x3d0;n;){for(s++,r\x3dn,a\x3d0,t\x3d0;t\x3cx\x26\x26(a++,r\x3dr.nextZ);t++);for(u\x3dx;a\x3e0||u\x3e0\x26\x26r;)0!\x3d\x3da\x26\x26(0\x3d\x3d\x3du||!r||n.z\x3c\x3dr.z)?(o\x3dn,n\x3dn.nextZ,a--):(o\x3dr,r\x3dr.nextZ,u--),i?i.nextZ\x3do:e\x3do,o.prevZ\x3di,i\x3do;n\x3dr}i.nextZ\x3dnull,x*\x3d2}while(s\x3e1)}(o)}(e,r,o,i);for(var a,u,x\x3de;e.prev!\x3d\x3de.next;)if(a\x3de.prev,u\x3de.next,i?d(e,r,o,i):y(e))t.push(a.i/n),t.push(e.i/n),t.push(u.i/n),z(e),e\x3du.next,x\x3du.next;else if((e\x3du)\x3d\x3d\x3dx){s?1\x3d\x3d\x3ds?c(e\x3dh(l(e),t,n),t,n,r,o,i,2):2\x3d\x3d\x3ds\x26\x26v(e,t,n,r,o,i):c(l(e),t,n,r,o,i,1);break}}}function y(e){var t\x3de.prev,n\x3de,r\x3de.next;if(Z(t,n,r)\x3e\x3d0)return!1;for(var o\x3de.next.next;o!\x3d\x3de.prev;){if(A(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)\x26\x26Z(o.prev,o,o.next)\x3e\x3d0)return!1;o\x3do.next}return!0}function d(e,t,n,r){var o\x3de.prev,i\x3de,s\x3de.next;if(Z(o,i,s)\x3e\x3d0)return!1;for(var a\x3do.x\x3ci.x?o.x\x3cs.x?o.x:s.x:i.x\x3cs.x?i.x:s.x,u\x3do.y\x3ci.y?o.y\x3cs.y?o.y:s.y:i.y\x3cs.y?i.y:s.y,x\x3do.x\x3ei.x?o.x\x3es.x?o.x:s.x:i.x\x3es.x?i.x:s.x,f\x3do.y\x3ei.y?o.y\x3es.y?o.y:s.y:i.y\x3es.y?i.y:s.y,l\x3dm(a,u,t,n,r),c\x3dm(x,f,t,n,r),y\x3de.prevZ,d\x3de.nextZ;y\x26\x26y.z\x3e\x3dl\x26\x26d\x26\x26d.z\x3c\x3dc;){if(y!\x3d\x3de.prev\x26\x26y!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)\x26\x26Z(y.prev,y,y.next)\x3e\x3d0)return!1;if(y\x3dy.prevZ,d!\x3d\x3de.prev\x26\x26d!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)\x26\x26Z(d.prev,d,d.next)\x3e\x3d0)return!1;d\x3dd.nextZ}for(;y\x26\x26y.z\x3e\x3dl;){if(y!\x3d\x3de.prev\x26\x26y!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)\x26\x26Z(y.prev,y,y.next)\x3e\x3d0)return!1;y\x3dy.prevZ}for(;d\x26\x26d.z\x3c\x3dc;){if(d!\x3d\x3de.prev\x26\x26d!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)\x26\x26Z(d.prev,d,d.next)\x3e\x3d0)return!1;d\x3dd.nextZ}return!0}function h(e,t,n){var r\x3de;do{var o\x3dr.prev,i\x3dr.next.next;!M(o,i)\x26\x26F(o,r,r.next,i)\x26\x26k(o,i)\x26\x26k(i,o)\x26\x26(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),z(r),z(r.next),r\x3de\x3di),r\x3dr.next}while(r!\x3d\x3de);return l(r)}function v(e,t,n,r,o,i){var s\x3de;do{for(var a\x3ds.next.next;a!\x3d\x3ds.prev;){if(s.i!\x3d\x3da.i\x26\x26E(s,a)){var u\x3dS(s,a);return s\x3dl(s,s.next),u\x3dl(u,u.next),c(s,t,n,r,o,i),void c(u,t,n,r,o,i)}a\x3da.next}s\x3ds.next}while(s!\x3d\x3de)}function p(e,t){return e.x-t.x}function g(e,t){var n\x3dfunction(e,t){var n,r\x3dt,o\x3de.x,i\x3de.y,s\x3d-1/0;do{if(i\x3c\x3dr.y\x26\x26i\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var a\x3dr.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a\x3c\x3do\x26\x26a\x3es){if(s\x3da,a\x3d\x3d\x3do){if(i\x3d\x3d\x3dr.y)return r;if(i\x3d\x3d\x3dr.next.y)return r.next}n\x3dr.x\x3cr.next.x?r:r.next}}r\x3dr.next}while(r!\x3d\x3dt);if(!n)return null;if(o\x3d\x3d\x3ds)return n;var u,x\x3dn,f\x3dn.x,l\x3dn.y,c\x3d1/0;r\x3dn;do{o\x3e\x3dr.x\x26\x26r.x\x3e\x3df\x26\x26o!\x3d\x3dr.x\x26\x26A(i\x3cl?o:s,i,f,l,i\x3cl?s:o,i,r.x,r.y)\x26\x26(u\x3dMath.abs(i-r.y)/(o-r.x),k(r,e)\x26\x26(u\x3cc||u\x3d\x3d\x3dc\x26\x26(r.x\x3en.x||r.x\x3d\x3d\x3dn.x\x26\x26b(n,r)))\x26\x26(n\x3dr,c\x3du)),r\x3dr.next}while(r!\x3d\x3dx);return n}(e,t);if(!n)return t;var r\x3dS(n,e),o\x3dl(n,n.next);return l(r,r.next),t\x3d\x3d\x3dn?o:t}function b(e,t){return Z(e.prev,e,t.prev)\x3c0\x26\x26Z(t.next,e,e.next)\x3c0}function m(e,t,n,r,o){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d32767*(e-n)*o)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(t\x3d1431655765\x26((t\x3d858993459\x26((t\x3d252645135\x26((t\x3d16711935\x26((t\x3d32767*(t-r)*o)|t\x3c\x3c8))|t\x3c\x3c4))|t\x3c\x3c2))|t\x3c\x3c1))\x3c\x3c1}function w(e){var t\x3de,n\x3de;do{(t.x\x3cn.x||t.x\x3d\x3d\x3dn.x\x26\x26t.y\x3cn.y)\x26\x26(n\x3dt),t\x3dt.next}while(t!\x3d\x3de);return n}function A(e,t,n,r,o,i,s,a){return(o-s)*(t-a)-(e-s)*(i-a)\x3e\x3d0\x26\x26(e-s)*(r-a)-(n-s)*(t-a)\x3e\x3d0\x26\x26(n-s)*(i-a)-(o-s)*(r-a)\x3e\x3d0}function E(e,t){return e.next.i!\x3d\x3dt.i\x26\x26e.prev.i!\x3d\x3dt.i\x26\x26!function(e,t){var n\x3de;do{if(n.i!\x3d\x3de.i\x26\x26n.next.i!\x3d\x3de.i\x26\x26n.i!\x3d\x3dt.i\x26\x26n.next.i!\x3d\x3dt.i\x26\x26F(n,n.next,e,t))return!0;n\x3dn.next}while(n!\x3d\x3de);return!1}(e,t)\x26\x26(k(e,t)\x26\x26k(t,e)\x26\x26function(e,t){var n\x3de,r\x3d!1,o\x3d(e.x+t.x)/2,i\x3d(e.y+t.y)/2;do{n.y\x3ei!\x3dn.next.y\x3ei\x26\x26n.next.y!\x3d\x3dn.y\x26\x26o\x3c(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x\x26\x26(r\x3d!r),n\x3dn.next}while(n!\x3d\x3de);return r}(e,t)\x26\x26(Z(e.prev,e,t.prev)||Z(e,t.prev,t))||M(e,t)\x26\x26Z(e.prev,e,e.next)\x3e0\x26\x26Z(t.prev,t,t.next)\x3e0)}function Z(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function M(e,t){return e.x\x3d\x3d\x3dt.x\x26\x26e.y\x3d\x3d\x3dt.y}function F(e,t,n,r){var o\x3dI(Z(e,t,n)),i\x3dI(Z(e,t,r)),s\x3dI(Z(n,r,e)),a\x3dI(Z(n,r,t));return o!\x3d\x3di\x26\x26s!\x3d\x3da||(!(0!\x3d\x3do||!T(e,n,t))||(!(0!\x3d\x3di||!T(e,r,t))||(!(0!\x3d\x3ds||!T(n,e,r))||!(0!\x3d\x3da||!T(n,t,r)))))}function T(e,t,n){return t.x\x3c\x3dMath.max(e.x,n.x)\x26\x26t.x\x3e\x3dMath.min(e.x,n.x)\x26\x26t.y\x3c\x3dMath.max(e.y,n.y)\x26\x26t.y\x3e\x3dMath.min(e.y,n.y)}function I(e){return e\x3e0?1:e\x3c0?-1:0}function k(e,t){return Z(e.prev,e,e.next)\x3c0?Z(e,t,e.next)\x3e\x3d0\x26\x26Z(e,e.prev,t)\x3e\x3d0:Z(e,t,e.prev)\x3c0||Z(e,e.next,t)\x3c0}function S(e,t){var n\x3dnew R(e.i,e.x,e.y),r\x3dnew R(t.i,t.x,t.y),o\x3de.next,i\x3dt.prev;return e.next\x3dt,t.prev\x3de,n.next\x3do,o.prev\x3dn,r.next\x3dn,n.prev\x3dr,i.next\x3dr,r.prev\x3di,r}function U(e,t,n,r){var o\x3dnew R(e,t,n);return r?(o.next\x3dr.next,o.prev\x3dr,r.next.prev\x3do,r.next\x3do):(o.prev\x3do,o.next\x3do),o}function z(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function R(e,t,n){this.i\x3de,this.x\x3dt,this.y\x3dn,this.prev\x3dnull,this.next\x3dnull,this.z\x3dnull,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function B(e,t,n,r){for(var o\x3d0,i\x3dt,s\x3dn-r;i\x3cn;i+\x3dr)o+\x3d(e[s]-e[i])*(e[i+1]+e[s+1]),s\x3di;return o}u.exports\x3dx,u.exports.default\x3dx,x.deviation\x3dfunction(e,t,n,r){var o\x3dt\x26\x26t.length,i\x3do?t[0]*n:e.length,s\x3dMath.abs(B(e,0,i,n));if(o)for(var a\x3d0,u\x3dt.length;a\x3cu;a++){var x\x3dt[a]*n,f\x3da\x3cu-1?t[a+1]*n:e.length;s-\x3dMath.abs(B(e,x,f,n))}var l\x3d0;for(a\x3d0;a\x3cr.length;a+\x3d3){var c\x3dr[a]*n,y\x3dr[a+1]*n,d\x3dr[a+2]*n;l+\x3dMath.abs((e[c]-e[d])*(e[y+1]-e[c+1])-(e[c]-e[y])*(e[d+1]-e[c+1]))}return 0\x3d\x3d\x3ds\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-s)/s)},x.flatten\x3dfunction(e){for(var t\x3de[0][0].length,n\x3d{vertices:[],holes:[],dimensions:t},r\x3d0,o\x3d0;o\x3ce.length;o++){for(var i\x3d0;i\x3ce[o].length;i++)for(var s\x3d0;s\x3ct;s++)n.vertices.push(e[o][i][s]);o\x3e0\x26\x26(r+\x3de[o-1].length,n.holes.push(r))}return n};const P\x3d[],C\x3d{vertexPosition:0,indexPosition:0};function N(e,t,n,r,o){e[t+0]\x3dn,e[t+1]\x3dr,e[t+2]\x3do}function _(e,t,n,r,o,i){const s\x3d3+o,a\x3de[t+0],u\x3de[t+1],x\x3dP;x.length\x3do;for(let n\x3d0;n\x3cx.length;n++)x[n]\x3de[t+2+n];let f\x3di?i.vertexPosition:0,l\x3di?i.indexPosition:0;const c\x3df/s;return N(n,f,a,u,0),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,1),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,2),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,3),x.length\x26\x26n.set(x,f+3),f+\x3ds,r[l++]\x3dc,r[l++]\x3dc+1,r[l++]\x3dc+3,r[l++]\x3dc+1,r[l++]\x3dc+2,r[l++]\x3dc+3,C.vertexPosition\x3df,C.indexPosition\x3dl,C}function L(e,t,n,r,o,i,a,u,x,f){const l\x3d5+u.length,c\x3di.length/l,y\x3d[e[t+0],e[t+1]],d\x3d[e[n],e[n+1]],h\x3ds(f,[...y]),v\x3ds(f,[...d]);function p(e,t,n){const r\x3d1e4;return Math.round(1500*t)+Math.round(1500*n)*r+e*r*r}function g(e,t,n){const r\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o\x3d[(t[0]-e[0])/r,(t[1]-e[1])/r],i\x3d[-o[1],o[0]],s\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),a\x3d[(n[0]-e[0])/s,(n[1]-e[1])/s],u\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3ds?0:Math.acos((x\x3da[0]*o[0]+a[1]*o[1],f\x3d-1,l\x3d1,Math.min(Math.max(x,f),l)));var x,f,l;return a[0]*i[0]+a[1]*i[1]\x3e0?u:2*Math.PI-u}const b\x3dnull!\x3d\x3do;let m\x3d0,w\x3d0;if(null!\x3d\x3dr){m\x3dg(h,v,s(f,[...[e[r],e[r+1]]]))}if(b){w\x3dg(v,h,s(f,[...[e[o],e[o+1]]]))}i.push(y[0],y[1],d[0],d[1],p(0,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(1,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(2,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(3,m,w)),i.push(...u),a.push(c,c+1,c+2,c+1,c+3,c+2)}function G(e,t,n,r,o){const i\x3d2+o;let s\x3dt;const a\x3de.slice(s,s+o);s+\x3do;const x\x3de[s++];let f\x3d0;const l\x3dnew Array(x-1);for(let t\x3d0;t\x3cx;t++)f+\x3de[s++],t\x3cx-1\x26\x26(l[t]\x3df);const c\x3de.slice(s,s+2*f),y\x3du.exports(c,l,2);for(let e\x3d0;e\x3cy.length;e++)r.push(y[e]+n.length/i);for(let e\x3d0;e\x3cc.length;e+\x3d2)n.push(c[e],c[e+1],...a);return s+2*f}const O\x3dself;O.onmessage\x3dr\x3d\x3e{const o\x3dr.data;switch(o.type){case t:{const e\x3d3,t\x3d2,n\x3do.customAttributesCount,r\x3dt+n,i\x3dnew Float32Array(o.renderInstructions),s\x3di.length/r,a\x3d4*s*(n+e),u\x3dnew Uint32Array(6*s),x\x3dnew Float32Array(a);let f;for(let e\x3d0;e\x3ci.length;e+\x3dr)f\x3d_(i,e,x,u,n,f);const l\x3dObject.assign({vertexBuffer:x.buffer,indexBuffer:u.buffer,renderInstructions:i.buffer},o);O.postMessage(l,[x.buffer,u.buffer,i.buffer]);break}case n:{const e\x3d[],t\x3d[],n\x3do.customAttributesCount,r\x3d2,i\x3dnew Float32Array(o.renderInstructions);let s\x3d0;const u\x3do.renderInstructionsTransform,x\x3d[1,0,0,1,0,0];let f,l;for(a(x,u);s\x3ci.length;){l\x3dArray.from(i.slice(s,s+n)),s+\x3dn,f\x3di[s++];for(let n\x3d0;n\x3cf-1;n++)L(i,s+n*r,s+(n+1)*r,n\x3e0?s+(n-1)*r:null,n\x3cf-2?s+(n+2)*r:null,e,t,l,0,x);s+\x3df*r}const c\x3dUint32Array.from(t),y\x3dFloat32Array.from(e),d\x3dObject.assign({vertexBuffer:y.buffer,indexBuffer:c.buffer,renderInstructions:i.buffer},o);O.postMessage(d,[y.buffer,c.buffer,i.buffer]);break}case e:{const e\x3d[],t\x3d[],n\x3do.customAttributesCount,r\x3dnew Float32Array(o.renderInstructions);let i\x3d0;for(;i\x3cr.length;)i\x3dG(r,i,e,t,n);const s\x3dUint32Array.from(t),a\x3dFloat32Array.from(e),u\x3dObject.assign({vertexBuffer:a.buffer,indexBuffer:s.buffer,renderInstructions:r.buffer},o);O.postMessage(u,[a.buffer,s.buffer,r.buffer]);break}}};',
"binary").toString("base64"):URL.createObjectURL(new Blob(['const e\x3d"GENERATE_POLYGON_BUFFERS",t\x3d"GENERATE_POINT_BUFFERS",n\x3d"GENERATE_LINE_STRING_BUFFERS",r\x3d"undefined"!\x3dtypeof navigator\x26\x26void 0!\x3d\x3dnavigator.userAgent?navigator.userAgent.toLowerCase():"";r.includes("firefox");r.includes("safari")\x26\x26!r.includes("chrom")\x26\x26(r.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(r)),r.includes("webkit")\x26\x26r.includes("edge"),r.includes("macintosh"),"undefined"!\x3dtypeof WorkerGlobalScope\x26\x26"undefined"!\x3dtypeof OffscreenCanvas\x26\x26(self,WorkerGlobalScope),function(){let e\x3d!1;try{const t\x3dObject.defineProperty({},"passive",{get:function(){e\x3d!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(e){}}();const o\x3d{1:"The view center is not defined",2:"The view resolution is not defined",3:"The view rotation is not defined",4:"`image` and `src` cannot be provided at the same time",5:"`imgSize` must be set when `image` is provided",7:"`format` must be set when `url` is set",8:"Unknown `serverType` configured",9:"`url` must be configured or set using `#setUrl()`",10:"The default `geometryFunction` can only handle `Point` geometries",11:"`options.featureTypes` must be an Array",12:"`options.geometryName` must also be provided when `options.bbox` is set",13:"Invalid corner",14:"Invalid color",15:"Tried to get a value for a key that does not exist in the cache",16:"Tried to set a value for a key that is used already",17:"`resolutions` must be sorted in descending order",18:"Either `origin` or `origins` must be configured, never both",19:"Number of `tileSizes` and `resolutions` must be equal",20:"Number of `origins` and `resolutions` must be equal",22:"Either `tileSize` or `tileSizes` must be configured, never both",24:"Invalid extent or geometry provided as `geometry`",25:"Cannot fit empty extent provided as `geometry`",26:"Features must have an id set",27:"Features must have an id set",28:\'`renderMode` must be `"hybrid"` or `"vector"`\',30:"The passed `feature` was already added to the source",31:"Tried to enqueue an `element` that was already added to the queue",32:"Transformation matrix cannot be inverted",33:"Invalid units",34:"Invalid geometry layout",36:"Unknown SRS type",37:"Unknown geometry type found",38:"`styleMapValue` has an unknown type",39:"Unknown geometry type",40:"Expected `feature` to have a geometry",41:"Expected an `ol/style/Style` or an array of `ol/style/Style.js`",42:"Question unknown, the answer is 42",43:"Expected `layers` to be an array or a `Collection`",47:"Expected `controls` to be an array or an `ol/Collection`",48:"Expected `interactions` to be an array or an `ol/Collection`",49:"Expected `overlays` to be an array or an `ol/Collection`",50:"`options.featureTypes` should be an Array",51:"Either `url` or `tileJSON` options must be provided",52:"Unknown `serverType` configured",53:"Unknown `tierSizeCalculation` configured",55:"The {-y} placeholder requires a tile grid with extent",56:"mapBrowserEvent must originate from a pointer event",57:"At least 2 conditions are required",59:"Invalid command found in the PBF",60:"Missing or invalid `size`",61:"Cannot determine IIIF Image API version from provided image information JSON",62:"A `WebGLArrayBuffer` must either be of type `ELEMENT_ARRAY_BUFFER` or `ARRAY_BUFFER`",64:"Layer opacity must be a number",66:"`forEachFeatureAtCoordinate` cannot be used on a WebGL layer if the hit detection logic has not been enabled. This is done by providing adequate shaders using the `hitVertexShader` and `hitFragmentShader` properties of `WebGLPointsLayerRenderer`",67:"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both",68:"A VectorTile source can only be rendered if it has a projection compatible with the view projection"};class i extends Error{constructor(e){const t\x3do[e];super(t),this.code\x3de,this.name\x3d"AssertionError",this.message\x3dt}}function s(e,t){const n\x3dt[0],r\x3dt[1];return t[0]\x3de[0]*n+e[2]*r+e[4],t[1]\x3de[1]*n+e[3]*r+e[5],t}function a(e,t){const n\x3d(r\x3dt)[0]*r[3]-r[1]*r[2];var r;!function(e,t){if(!e)throw new i(t)}(0!\x3d\x3dn,32);const o\x3dt[0],s\x3dt[1],a\x3dt[2],u\x3dt[3],x\x3dt[4],f\x3dt[5];return e[0]\x3du/n,e[1]\x3d-s/n,e[2]\x3d-a/n,e[3]\x3do/n,e[4]\x3d(a*f-u*x)/n,e[5]\x3d-(o*f-s*x)/n,e}new Array(6);var u\x3d{exports:{}};function x(e,t,n){n\x3dn||2;var r,o,i,s,a,u,x,y\x3dt\x26\x26t.length,d\x3dy?t[0]*n:e.length,h\x3df(e,0,d,n,!0),v\x3d[];if(!h||h.next\x3d\x3d\x3dh.prev)return v;if(y\x26\x26(h\x3dfunction(e,t,n,r){var o,i,s,a\x3d[];for(o\x3d0,i\x3dt.length;o\x3ci;o++)(s\x3df(e,t[o]*r,o\x3ci-1?t[o+1]*r:e.length,r,!1))\x3d\x3d\x3ds.next\x26\x26(s.steiner\x3d!0),a.push(w(s));for(a.sort(p),o\x3d0;o\x3ca.length;o++)n\x3dl(n\x3dg(a[o],n),n.next);return n}(e,t,h,n)),e.length\x3e80*n){r\x3di\x3de[0],o\x3ds\x3de[1];for(var b\x3dn;b\x3cd;b+\x3dn)(a\x3de[b])\x3cr\x26\x26(r\x3da),(u\x3de[b+1])\x3co\x26\x26(o\x3du),a\x3ei\x26\x26(i\x3da),u\x3es\x26\x26(s\x3du);x\x3d0!\x3d\x3d(x\x3dMath.max(i-r,s-o))?1/x:0}return c(h,v,n,r,o,x),v}function f(e,t,n,r,o){var i,s;if(o\x3d\x3d\x3dB(e,t,n,r)\x3e0)for(i\x3dt;i\x3cn;i+\x3dr)s\x3dU(i,e[i],e[i+1],s);else for(i\x3dn-r;i\x3e\x3dt;i-\x3dr)s\x3dU(i,e[i],e[i+1],s);return s\x26\x26M(s,s.next)\x26\x26(z(s),s\x3ds.next),s}function l(e,t){if(!e)return e;t||(t\x3de);var n,r\x3de;do{if(n\x3d!1,r.steiner||!M(r,r.next)\x26\x260!\x3d\x3dZ(r.prev,r,r.next))r\x3dr.next;else{if(z(r),(r\x3dt\x3dr.prev)\x3d\x3d\x3dr.next)break;n\x3d!0}}while(n||r!\x3d\x3dt);return t}function c(e,t,n,r,o,i,s){if(e){!s\x26\x26i\x26\x26function(e,t,n,r){var o\x3de;do{null\x3d\x3d\x3do.z\x26\x26(o.z\x3dm(o.x,o.y,t,n,r)),o.prevZ\x3do.prev,o.nextZ\x3do.next,o\x3do.next}while(o!\x3d\x3de);o.prevZ.nextZ\x3dnull,o.prevZ\x3dnull,function(e){var t,n,r,o,i,s,a,u,x\x3d1;do{for(n\x3de,e\x3dnull,i\x3dnull,s\x3d0;n;){for(s++,r\x3dn,a\x3d0,t\x3d0;t\x3cx\x26\x26(a++,r\x3dr.nextZ);t++);for(u\x3dx;a\x3e0||u\x3e0\x26\x26r;)0!\x3d\x3da\x26\x26(0\x3d\x3d\x3du||!r||n.z\x3c\x3dr.z)?(o\x3dn,n\x3dn.nextZ,a--):(o\x3dr,r\x3dr.nextZ,u--),i?i.nextZ\x3do:e\x3do,o.prevZ\x3di,i\x3do;n\x3dr}i.nextZ\x3dnull,x*\x3d2}while(s\x3e1)}(o)}(e,r,o,i);for(var a,u,x\x3de;e.prev!\x3d\x3de.next;)if(a\x3de.prev,u\x3de.next,i?d(e,r,o,i):y(e))t.push(a.i/n),t.push(e.i/n),t.push(u.i/n),z(e),e\x3du.next,x\x3du.next;else if((e\x3du)\x3d\x3d\x3dx){s?1\x3d\x3d\x3ds?c(e\x3dh(l(e),t,n),t,n,r,o,i,2):2\x3d\x3d\x3ds\x26\x26v(e,t,n,r,o,i):c(l(e),t,n,r,o,i,1);break}}}function y(e){var t\x3de.prev,n\x3de,r\x3de.next;if(Z(t,n,r)\x3e\x3d0)return!1;for(var o\x3de.next.next;o!\x3d\x3de.prev;){if(A(t.x,t.y,n.x,n.y,r.x,r.y,o.x,o.y)\x26\x26Z(o.prev,o,o.next)\x3e\x3d0)return!1;o\x3do.next}return!0}function d(e,t,n,r){var o\x3de.prev,i\x3de,s\x3de.next;if(Z(o,i,s)\x3e\x3d0)return!1;for(var a\x3do.x\x3ci.x?o.x\x3cs.x?o.x:s.x:i.x\x3cs.x?i.x:s.x,u\x3do.y\x3ci.y?o.y\x3cs.y?o.y:s.y:i.y\x3cs.y?i.y:s.y,x\x3do.x\x3ei.x?o.x\x3es.x?o.x:s.x:i.x\x3es.x?i.x:s.x,f\x3do.y\x3ei.y?o.y\x3es.y?o.y:s.y:i.y\x3es.y?i.y:s.y,l\x3dm(a,u,t,n,r),c\x3dm(x,f,t,n,r),y\x3de.prevZ,d\x3de.nextZ;y\x26\x26y.z\x3e\x3dl\x26\x26d\x26\x26d.z\x3c\x3dc;){if(y!\x3d\x3de.prev\x26\x26y!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)\x26\x26Z(y.prev,y,y.next)\x3e\x3d0)return!1;if(y\x3dy.prevZ,d!\x3d\x3de.prev\x26\x26d!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)\x26\x26Z(d.prev,d,d.next)\x3e\x3d0)return!1;d\x3dd.nextZ}for(;y\x26\x26y.z\x3e\x3dl;){if(y!\x3d\x3de.prev\x26\x26y!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,y.x,y.y)\x26\x26Z(y.prev,y,y.next)\x3e\x3d0)return!1;y\x3dy.prevZ}for(;d\x26\x26d.z\x3c\x3dc;){if(d!\x3d\x3de.prev\x26\x26d!\x3d\x3de.next\x26\x26A(o.x,o.y,i.x,i.y,s.x,s.y,d.x,d.y)\x26\x26Z(d.prev,d,d.next)\x3e\x3d0)return!1;d\x3dd.nextZ}return!0}function h(e,t,n){var r\x3de;do{var o\x3dr.prev,i\x3dr.next.next;!M(o,i)\x26\x26F(o,r,r.next,i)\x26\x26k(o,i)\x26\x26k(i,o)\x26\x26(t.push(o.i/n),t.push(r.i/n),t.push(i.i/n),z(r),z(r.next),r\x3de\x3di),r\x3dr.next}while(r!\x3d\x3de);return l(r)}function v(e,t,n,r,o,i){var s\x3de;do{for(var a\x3ds.next.next;a!\x3d\x3ds.prev;){if(s.i!\x3d\x3da.i\x26\x26E(s,a)){var u\x3dS(s,a);return s\x3dl(s,s.next),u\x3dl(u,u.next),c(s,t,n,r,o,i),void c(u,t,n,r,o,i)}a\x3da.next}s\x3ds.next}while(s!\x3d\x3de)}function p(e,t){return e.x-t.x}function g(e,t){var n\x3dfunction(e,t){var n,r\x3dt,o\x3de.x,i\x3de.y,s\x3d-1/0;do{if(i\x3c\x3dr.y\x26\x26i\x3e\x3dr.next.y\x26\x26r.next.y!\x3d\x3dr.y){var a\x3dr.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a\x3c\x3do\x26\x26a\x3es){if(s\x3da,a\x3d\x3d\x3do){if(i\x3d\x3d\x3dr.y)return r;if(i\x3d\x3d\x3dr.next.y)return r.next}n\x3dr.x\x3cr.next.x?r:r.next}}r\x3dr.next}while(r!\x3d\x3dt);if(!n)return null;if(o\x3d\x3d\x3ds)return n;var u,x\x3dn,f\x3dn.x,l\x3dn.y,c\x3d1/0;r\x3dn;do{o\x3e\x3dr.x\x26\x26r.x\x3e\x3df\x26\x26o!\x3d\x3dr.x\x26\x26A(i\x3cl?o:s,i,f,l,i\x3cl?s:o,i,r.x,r.y)\x26\x26(u\x3dMath.abs(i-r.y)/(o-r.x),k(r,e)\x26\x26(u\x3cc||u\x3d\x3d\x3dc\x26\x26(r.x\x3en.x||r.x\x3d\x3d\x3dn.x\x26\x26b(n,r)))\x26\x26(n\x3dr,c\x3du)),r\x3dr.next}while(r!\x3d\x3dx);return n}(e,t);if(!n)return t;var r\x3dS(n,e),o\x3dl(n,n.next);return l(r,r.next),t\x3d\x3d\x3dn?o:t}function b(e,t){return Z(e.prev,e,t.prev)\x3c0\x26\x26Z(t.next,e,e.next)\x3c0}function m(e,t,n,r,o){return(e\x3d1431655765\x26((e\x3d858993459\x26((e\x3d252645135\x26((e\x3d16711935\x26((e\x3d32767*(e-n)*o)|e\x3c\x3c8))|e\x3c\x3c4))|e\x3c\x3c2))|e\x3c\x3c1))|(t\x3d1431655765\x26((t\x3d858993459\x26((t\x3d252645135\x26((t\x3d16711935\x26((t\x3d32767*(t-r)*o)|t\x3c\x3c8))|t\x3c\x3c4))|t\x3c\x3c2))|t\x3c\x3c1))\x3c\x3c1}function w(e){var t\x3de,n\x3de;do{(t.x\x3cn.x||t.x\x3d\x3d\x3dn.x\x26\x26t.y\x3cn.y)\x26\x26(n\x3dt),t\x3dt.next}while(t!\x3d\x3de);return n}function A(e,t,n,r,o,i,s,a){return(o-s)*(t-a)-(e-s)*(i-a)\x3e\x3d0\x26\x26(e-s)*(r-a)-(n-s)*(t-a)\x3e\x3d0\x26\x26(n-s)*(i-a)-(o-s)*(r-a)\x3e\x3d0}function E(e,t){return e.next.i!\x3d\x3dt.i\x26\x26e.prev.i!\x3d\x3dt.i\x26\x26!function(e,t){var n\x3de;do{if(n.i!\x3d\x3de.i\x26\x26n.next.i!\x3d\x3de.i\x26\x26n.i!\x3d\x3dt.i\x26\x26n.next.i!\x3d\x3dt.i\x26\x26F(n,n.next,e,t))return!0;n\x3dn.next}while(n!\x3d\x3de);return!1}(e,t)\x26\x26(k(e,t)\x26\x26k(t,e)\x26\x26function(e,t){var n\x3de,r\x3d!1,o\x3d(e.x+t.x)/2,i\x3d(e.y+t.y)/2;do{n.y\x3ei!\x3dn.next.y\x3ei\x26\x26n.next.y!\x3d\x3dn.y\x26\x26o\x3c(n.next.x-n.x)*(i-n.y)/(n.next.y-n.y)+n.x\x26\x26(r\x3d!r),n\x3dn.next}while(n!\x3d\x3de);return r}(e,t)\x26\x26(Z(e.prev,e,t.prev)||Z(e,t.prev,t))||M(e,t)\x26\x26Z(e.prev,e,e.next)\x3e0\x26\x26Z(t.prev,t,t.next)\x3e0)}function Z(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function M(e,t){return e.x\x3d\x3d\x3dt.x\x26\x26e.y\x3d\x3d\x3dt.y}function F(e,t,n,r){var o\x3dI(Z(e,t,n)),i\x3dI(Z(e,t,r)),s\x3dI(Z(n,r,e)),a\x3dI(Z(n,r,t));return o!\x3d\x3di\x26\x26s!\x3d\x3da||(!(0!\x3d\x3do||!T(e,n,t))||(!(0!\x3d\x3di||!T(e,r,t))||(!(0!\x3d\x3ds||!T(n,e,r))||!(0!\x3d\x3da||!T(n,t,r)))))}function T(e,t,n){return t.x\x3c\x3dMath.max(e.x,n.x)\x26\x26t.x\x3e\x3dMath.min(e.x,n.x)\x26\x26t.y\x3c\x3dMath.max(e.y,n.y)\x26\x26t.y\x3e\x3dMath.min(e.y,n.y)}function I(e){return e\x3e0?1:e\x3c0?-1:0}function k(e,t){return Z(e.prev,e,e.next)\x3c0?Z(e,t,e.next)\x3e\x3d0\x26\x26Z(e,e.prev,t)\x3e\x3d0:Z(e,t,e.prev)\x3c0||Z(e,e.next,t)\x3c0}function S(e,t){var n\x3dnew R(e.i,e.x,e.y),r\x3dnew R(t.i,t.x,t.y),o\x3de.next,i\x3dt.prev;return e.next\x3dt,t.prev\x3de,n.next\x3do,o.prev\x3dn,r.next\x3dn,n.prev\x3dr,i.next\x3dr,r.prev\x3di,r}function U(e,t,n,r){var o\x3dnew R(e,t,n);return r?(o.next\x3dr.next,o.prev\x3dr,r.next.prev\x3do,r.next\x3do):(o.prev\x3do,o.next\x3do),o}function z(e){e.next.prev\x3de.prev,e.prev.next\x3de.next,e.prevZ\x26\x26(e.prevZ.nextZ\x3de.nextZ),e.nextZ\x26\x26(e.nextZ.prevZ\x3de.prevZ)}function R(e,t,n){this.i\x3de,this.x\x3dt,this.y\x3dn,this.prev\x3dnull,this.next\x3dnull,this.z\x3dnull,this.prevZ\x3dnull,this.nextZ\x3dnull,this.steiner\x3d!1}function B(e,t,n,r){for(var o\x3d0,i\x3dt,s\x3dn-r;i\x3cn;i+\x3dr)o+\x3d(e[s]-e[i])*(e[i+1]+e[s+1]),s\x3di;return o}u.exports\x3dx,u.exports.default\x3dx,x.deviation\x3dfunction(e,t,n,r){var o\x3dt\x26\x26t.length,i\x3do?t[0]*n:e.length,s\x3dMath.abs(B(e,0,i,n));if(o)for(var a\x3d0,u\x3dt.length;a\x3cu;a++){var x\x3dt[a]*n,f\x3da\x3cu-1?t[a+1]*n:e.length;s-\x3dMath.abs(B(e,x,f,n))}var l\x3d0;for(a\x3d0;a\x3cr.length;a+\x3d3){var c\x3dr[a]*n,y\x3dr[a+1]*n,d\x3dr[a+2]*n;l+\x3dMath.abs((e[c]-e[d])*(e[y+1]-e[c+1])-(e[c]-e[y])*(e[d+1]-e[c+1]))}return 0\x3d\x3d\x3ds\x26\x260\x3d\x3d\x3dl?0:Math.abs((l-s)/s)},x.flatten\x3dfunction(e){for(var t\x3de[0][0].length,n\x3d{vertices:[],holes:[],dimensions:t},r\x3d0,o\x3d0;o\x3ce.length;o++){for(var i\x3d0;i\x3ce[o].length;i++)for(var s\x3d0;s\x3ct;s++)n.vertices.push(e[o][i][s]);o\x3e0\x26\x26(r+\x3de[o-1].length,n.holes.push(r))}return n};const P\x3d[],C\x3d{vertexPosition:0,indexPosition:0};function N(e,t,n,r,o){e[t+0]\x3dn,e[t+1]\x3dr,e[t+2]\x3do}function _(e,t,n,r,o,i){const s\x3d3+o,a\x3de[t+0],u\x3de[t+1],x\x3dP;x.length\x3do;for(let n\x3d0;n\x3cx.length;n++)x[n]\x3de[t+2+n];let f\x3di?i.vertexPosition:0,l\x3di?i.indexPosition:0;const c\x3df/s;return N(n,f,a,u,0),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,1),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,2),x.length\x26\x26n.set(x,f+3),f+\x3ds,N(n,f,a,u,3),x.length\x26\x26n.set(x,f+3),f+\x3ds,r[l++]\x3dc,r[l++]\x3dc+1,r[l++]\x3dc+3,r[l++]\x3dc+1,r[l++]\x3dc+2,r[l++]\x3dc+3,C.vertexPosition\x3df,C.indexPosition\x3dl,C}function L(e,t,n,r,o,i,a,u,x,f){const l\x3d5+u.length,c\x3di.length/l,y\x3d[e[t+0],e[t+1]],d\x3d[e[n],e[n+1]],h\x3ds(f,[...y]),v\x3ds(f,[...d]);function p(e,t,n){const r\x3d1e4;return Math.round(1500*t)+Math.round(1500*n)*r+e*r*r}function g(e,t,n){const r\x3dMath.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),o\x3d[(t[0]-e[0])/r,(t[1]-e[1])/r],i\x3d[-o[1],o[0]],s\x3dMath.sqrt((n[0]-e[0])*(n[0]-e[0])+(n[1]-e[1])*(n[1]-e[1])),a\x3d[(n[0]-e[0])/s,(n[1]-e[1])/s],u\x3d0\x3d\x3d\x3dr||0\x3d\x3d\x3ds?0:Math.acos((x\x3da[0]*o[0]+a[1]*o[1],f\x3d-1,l\x3d1,Math.min(Math.max(x,f),l)));var x,f,l;return a[0]*i[0]+a[1]*i[1]\x3e0?u:2*Math.PI-u}const b\x3dnull!\x3d\x3do;let m\x3d0,w\x3d0;if(null!\x3d\x3dr){m\x3dg(h,v,s(f,[...[e[r],e[r+1]]]))}if(b){w\x3dg(v,h,s(f,[...[e[o],e[o+1]]]))}i.push(y[0],y[1],d[0],d[1],p(0,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(1,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(2,m,w)),i.push(...u),i.push(y[0],y[1],d[0],d[1],p(3,m,w)),i.push(...u),a.push(c,c+1,c+2,c+1,c+3,c+2)}function G(e,t,n,r,o){const i\x3d2+o;let s\x3dt;const a\x3de.slice(s,s+o);s+\x3do;const x\x3de[s++];let f\x3d0;const l\x3dnew Array(x-1);for(let t\x3d0;t\x3cx;t++)f+\x3de[s++],t\x3cx-1\x26\x26(l[t]\x3df);const c\x3de.slice(s,s+2*f),y\x3du.exports(c,l,2);for(let e\x3d0;e\x3cy.length;e++)r.push(y[e]+n.length/i);for(let e\x3d0;e\x3cc.length;e+\x3d2)n.push(c[e],c[e+1],...a);return s+2*f}const O\x3dself;O.onmessage\x3dr\x3d\x3e{const o\x3dr.data;switch(o.type){case t:{const e\x3d3,t\x3d2,n\x3do.customAttributesCount,r\x3dt+n,i\x3dnew Float32Array(o.renderInstructions),s\x3di.length/r,a\x3d4*s*(n+e),u\x3dnew Uint32Array(6*s),x\x3dnew Float32Array(a);let f;for(let e\x3d0;e\x3ci.length;e+\x3dr)f\x3d_(i,e,x,u,n,f);const l\x3dObject.assign({vertexBuffer:x.buffer,indexBuffer:u.buffer,renderInstructions:i.buffer},o);O.postMessage(l,[x.buffer,u.buffer,i.buffer]);break}case n:{const e\x3d[],t\x3d[],n\x3do.customAttributesCount,r\x3d2,i\x3dnew Float32Array(o.renderInstructions);let s\x3d0;const u\x3do.renderInstructionsTransform,x\x3d[1,0,0,1,0,0];let f,l;for(a(x,u);s\x3ci.length;){l\x3dArray.from(i.slice(s,s+n)),s+\x3dn,f\x3di[s++];for(let n\x3d0;n\x3cf-1;n++)L(i,s+n*r,s+(n+1)*r,n\x3e0?s+(n-1)*r:null,n\x3cf-2?s+(n+2)*r:null,e,t,l,0,x);s+\x3df*r}const c\x3dUint32Array.from(t),y\x3dFloat32Array.from(e),d\x3dObject.assign({vertexBuffer:y.buffer,indexBuffer:c.buffer,renderInstructions:i.buffer},o);O.postMessage(d,[y.buffer,c.buffer,i.buffer]);break}case e:{const e\x3d[],t\x3d[],n\x3do.customAttributesCount,r\x3dnew Float32Array(o.renderInstructions);let i\x3d0;for(;i\x3cr.length;)i\x3dG(r,i,e,t,n);const s\x3dUint32Array.from(t),a\x3dFloat32Array.from(e),u\x3dObject.assign({vertexBuffer:a.buffer,indexBuffer:s.buffer,renderInstructions:r.buffer},o);O.postMessage(u,[a.buffer,s.buffer,r.buffer]);break}}};'],
{type:"application/javascript"})))}};
shadow$provide[343]=function(Ka,L,sb,A){function w(F){return F&&F.__esModule?F:{default:F}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(309)),p=w(L(208)),q=w(L(111)),t=w(L(332));Ka=w(L(337));var n=w(L(338)),f=L(331),b=L(336),c=L(339),e=L(82),g=L(81),m=L(84),h=L(341),x=L(342),O=L(75),G=L(73);class I extends Ka.default{constructor(F,C){const r=C.uniforms||{},y=(0,e.create)();r[b.DefaultUniform.PROJECTION_MATRIX]=y;super(F,{uniforms:r,postProcesses:C.postProcesses});this.ready=
!1;this.sourceRevision_=-1;this.verticesBuffer_=new t.default(f.ARRAY_BUFFER,f.DYNAMIC_DRAW);this.hitVerticesBuffer_=new t.default(f.ARRAY_BUFFER,f.DYNAMIC_DRAW);this.indicesBuffer_=new t.default(f.ELEMENT_ARRAY_BUFFER,f.DYNAMIC_DRAW);this.vertexShader_=C.vertexShader;this.fragmentShader_=C.fragmentShader;this.hitDetectionEnabled_=C.hitFragmentShader&&C.hitVertexShader?!0:!1;this.hitVertexShader_=C.hitVertexShader;this.hitFragmentShader_=C.hitFragmentShader;F=C.attributes?C.attributes.map(function(K){return{name:"a_"+
K.name,size:1,type:b.AttributeType.FLOAT}}):[];this.attributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT}].concat(F);this.hitDetectionAttributes=[{name:"a_position",size:2,type:b.AttributeType.FLOAT},{name:"a_index",size:1,type:b.AttributeType.FLOAT},{name:"a_hitColor",size:4,type:b.AttributeType.FLOAT},{name:"a_featureUid",size:1,type:b.AttributeType.FLOAT}].concat(F);this.customAttributes=C.attributes?C.attributes:[];this.previousExtent_=
(0,m.createEmpty)();this.currentTransform_=y;this.renderTransform_=(0,e.create)();this.invertRenderTransform_=(0,e.create)();this.renderInstructions_=new Float32Array(0);this.hitRenderInstructions_=new Float32Array(0);this.generateBuffersRun_=0;this.worker_=(0,x.create)();this.worker_.addEventListener("message",function(K){const R=K.data;if(R.type===c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS){const S=R.projectionTransform;R.hitDetection?(this.hitVerticesBuffer_.fromArrayBuffer(R.vertexBuffer),
this.helper.flushBufferData(this.hitVerticesBuffer_)):(this.verticesBuffer_.fromArrayBuffer(R.vertexBuffer),this.helper.flushBufferData(this.verticesBuffer_));this.indicesBuffer_.fromArrayBuffer(R.indexBuffer);this.helper.flushBufferData(this.indicesBuffer_);this.renderTransform_=S;(0,e.makeInverse)(this.invertRenderTransform_,this.renderTransform_);R.hitDetection?this.hitRenderInstructions_=new Float32Array(K.data.renderInstructions):(this.renderInstructions_=new Float32Array(K.data.renderInstructions),
R.generateBuffersRun===this.generateBuffersRun_&&(this.ready=!0));this.getLayer().changed()}}.bind(this));this.featureCache_={};this.featureCount_=0;C=this.getLayer().getSource();this.sourceListenKeys_=[(0,G.listen)(C,p.default.ADDFEATURE,this.handleSourceFeatureAdded_,this),(0,G.listen)(C,p.default.CHANGEFEATURE,this.handleSourceFeatureChanged_,this),(0,G.listen)(C,p.default.REMOVEFEATURE,this.handleSourceFeatureDelete_,this),(0,G.listen)(C,p.default.CLEAR,this.handleSourceFeatureClear_,this)];C.forEachFeature(function(K){this.featureCache_[(0,O.getUid)(K)]=
{feature:K,properties:K.getProperties(),geometry:K.getGeometry()};this.featureCount_++}.bind(this))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.hitDetectionEnabled_&&(this.hitProgram_=this.helper.getProgram(this.hitFragmentShader_,this.hitVertexShader_),this.hitRenderTarget_=new n.default(this.helper))}handleSourceFeatureAdded_(F){F=F.feature;this.featureCache_[(0,O.getUid)(F)]={feature:F,properties:F.getProperties(),geometry:F.getGeometry()};
this.featureCount_++}handleSourceFeatureChanged_(F){F=F.feature;this.featureCache_[(0,O.getUid)(F)]={feature:F,properties:F.getProperties(),geometry:F.getGeometry()}}handleSourceFeatureDelete_(F){delete this.featureCache_[(0,O.getUid)(F.feature)];this.featureCount_--}handleSourceFeatureClear_(){this.featureCache_={};this.featureCount_=0}renderFrame(F){const C=this.helper.getGL();this.preRender(C,F);var r=F.viewState.projection,y=this.getLayer().getSource().getWrapX()&&r.canWrapX(),K=r.getExtent(),
R=F.extent;r=y?(0,m.getWidth)(K):null;const S=y?Math.ceil((R[2]-K[2])/r)+1:1;K=y=y?Math.floor((R[0]-K[0])/r):0;R=this.indicesBuffer_.getSize();do this.helper.makeProjectionTransform(F,this.currentTransform_),(0,e.translate)(this.currentTransform_,K*r,0),(0,e.multiply)(this.currentTransform_,this.invertRenderTransform_),this.helper.applyUniforms(F),this.helper.drawElements(0,R);while(++K<S);this.helper.finalizeDraw(F,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);K=this.helper.getCanvas();
this.hitDetectionEnabled_&&(this.renderHitDetection(F,y,S,r),this.hitRenderTarget_.clearCachedData());this.postRender(C,F);return K}prepareFrameInternal(F){var C=this.getLayer();const r=C.getSource();var y=F.viewState,K=!F.viewHints[q.default.ANIMATING]&&!F.viewHints[q.default.INTERACTING];const R=!(0,m.equals)(this.previousExtent_,F.extent),S=this.sourceRevision_<r.getRevision();S&&(this.sourceRevision_=r.getRevision());K&&(R||S)&&(K=y.projection,y=y.resolution,C=C instanceof k.default?C.getRenderBuffer():
0,C=(0,m.buffer)(F.extent,C*y),r.loadFeatures(C,y,K),this.rebuildBuffers_(F),this.previousExtent_=F.extent.slice());this.helper.useProgram(this.program_,F);this.helper.prepareDraw(F);this.helper.bindBuffer(this.verticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.attributes);return!0}rebuildBuffers_(F){const C=(0,e.create)();this.helper.makeProjectionTransform(F,C);F=(2+this.customAttributes.length)*this.featureCount_;this.renderInstructions_&&this.renderInstructions_.length===
F||(this.renderInstructions_=new Float32Array(F));this.hitDetectionEnabled_&&(F=(7+this.customAttributes.length)*this.featureCount_,this.hitRenderInstructions_&&this.hitRenderInstructions_.length===F||(this.hitRenderInstructions_=new Float32Array(F)));var r;const y=[],K=[];let R=0,S=0;for(var ca in this.featureCache_)if(F=this.featureCache_[ca],(r=F.geometry)&&"Point"===r.getType()){y[0]=r.getFlatCoordinates()[0];y[1]=r.getFlatCoordinates()[1];(0,e.apply)(C,y);r=(0,h.colorEncodeId)(S+6,K);this.renderInstructions_[R++]=
y[0];this.renderInstructions_[R++]=y[1];this.hitDetectionEnabled_&&(this.hitRenderInstructions_[S++]=y[0],this.hitRenderInstructions_[S++]=y[1],this.hitRenderInstructions_[S++]=r[0],this.hitRenderInstructions_[S++]=r[1],this.hitRenderInstructions_[S++]=r[2],this.hitRenderInstructions_[S++]=r[3],this.hitRenderInstructions_[S++]=Number(ca));for(let M=0;M<this.customAttributes.length;M++)r=this.customAttributes[M].callback(F.feature,F.properties),this.renderInstructions_[R++]=r,this.hitDetectionEnabled_&&
(this.hitRenderInstructions_[S++]=r)}ca={id:0,type:c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.renderInstructions_.buffer,customAttributesCount:this.customAttributes.length};ca.projectionTransform=C;ca.generateBuffersRun=++this.generateBuffersRun_;this.ready=!1;this.worker_.postMessage(ca,[this.renderInstructions_.buffer]);this.renderInstructions_=null;this.hitDetectionEnabled_&&(ca={id:0,type:c.WebGLWorkerMessageType.GENERATE_POINT_BUFFERS,renderInstructions:this.hitRenderInstructions_.buffer,
customAttributesCount:5+this.customAttributes.length},ca.projectionTransform=C,ca.hitDetection=!0,this.worker_.postMessage(ca,[this.hitRenderInstructions_.buffer]),this.hitRenderInstructions_=null)}forEachFeatureAtCoordinate(F,C,r,y,K){(0,g.assert)(this.hitDetectionEnabled_,66);if(this.hitRenderInstructions_&&(F=(0,e.apply)(C.coordinateToPixelTransform,F.slice()),F=this.hitRenderTarget_.readPixel(F[0]/2,F[1]/2),F=(0,h.colorDecodeId)([F[0]/255,F[1]/255,F[2]/255,F[3]/255]),F=Math.floor(this.hitRenderInstructions_[F]).toString(),
F=this.getLayer().getSource().getFeatureByUid(F)))return y(F,this.getLayer(),null)}renderHitDetection(F,C,r,y){if(this.hitVerticesBuffer_.getSize()){this.hitRenderTarget_.setSize([Math.floor(F.size[0]/2),Math.floor(F.size[1]/2)]);this.helper.useProgram(this.hitProgram_,F);this.helper.prepareDrawToRenderTarget(F,this.hitRenderTarget_,!0);this.helper.bindBuffer(this.hitVerticesBuffer_);this.helper.bindBuffer(this.indicesBuffer_);this.helper.enableAttributes(this.hitDetectionAttributes);do{this.helper.makeProjectionTransform(F,
this.currentTransform_);(0,e.translate)(this.currentTransform_,C*y,0);(0,e.multiply)(this.currentTransform_,this.invertRenderTransform_);this.helper.applyUniforms(F);const K=this.indicesBuffer_.getSize();this.helper.drawElements(0,K)}while(++C<r)}}disposeInternal(){this.worker_.terminate();this.layer_=null;this.sourceListenKeys_.forEach(function(F){(0,G.unlistenByKey)(F)});this.sourceListenKeys_=null;super.disposeInternal()}}A.default=I};
shadow$provide[344]=function(Ka,L,sb,A){function w(f){return f&&f.__esModule?f:{default:f}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(343)),p=L(85),q=L(97);const t=["#00f","#0ff","#0f0","#ff0","#f00"];class n extends Ka.default{constructor(f){f=f?f:{};const b=Object.assign({},f);delete b.gradient;delete b.radius;delete b.blur;delete b.weight;super(b);this.gradient_=null;this.addChangeListener("gradient",this.handleGradientChanged_);this.setGradient(f.gradient?
f.gradient:t);this.setBlur(void 0!==f.blur?f.blur:15);this.setRadius(void 0!==f.radius?f.radius:8);const c=f.weight?f.weight:"weight";this.weightFunction_="string"===typeof c?function(e){return e.get(c)}:c;this.setRenderOrder(null)}getBlur(){return this.get("blur")}getGradient(){return this.get("gradient")}getRadius(){return this.get("radius")}handleGradientChanged_(){var f=this.getGradient();const b=(0,q.createCanvasContext2D)(1,256),c=b.createLinearGradient(0,0,1,256),e=1/(f.length-1);for(let g=
0,m=f.length;g<m;++g)c.addColorStop(g*e,f[g]);b.fillStyle=c;b.fillRect(0,0,1,256);this.gradient_=b.canvas}setBlur(f){this.set("blur",f)}setGradient(f){this.set("gradient",f)}setRadius(f){this.set("radius",f)}createRenderer(){return new k.default(this,{className:this.getClassName(),attributes:[{name:"weight",callback:function(f){f=this.weightFunction_(f);return void 0!==f?(0,p.clamp)(f,0,1):1}.bind(this)}],vertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_weight \x3d a_weight;\n        }",
fragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          gl_FragColor \x3d vec4(alpha, alpha, alpha, alpha);\n        }",
hitVertexShader:"\n        precision mediump float;\n        uniform mat4 u_projectionMatrix;\n        uniform mat4 u_offsetScaleMatrix;\n        uniform float u_size;\n        attribute vec2 a_position;\n        attribute float a_index;\n        attribute float a_weight;\n        attribute vec4 a_hitColor;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          mat4 offsetMatrix \x3d u_offsetScaleMatrix;\n          float offsetX \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? -u_size / 2.0 : u_size / 2.0;\n          float offsetY \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? -u_size / 2.0 : u_size / 2.0;\n          vec4 offsets \x3d offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);\n          gl_Position \x3d u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n          float u \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 3.0 ? 0.0 : 1.0;\n          float v \x3d a_index \x3d\x3d 0.0 || a_index \x3d\x3d 1.0 ? 0.0 : 1.0;\n          v_texCoord \x3d vec2(u, v);\n          v_hitColor \x3d a_hitColor;\n          v_weight \x3d a_weight;\n        }",
hitFragmentShader:"\n        precision mediump float;\n        uniform float u_blurSlope;\n\n        varying vec2 v_texCoord;\n        varying float v_weight;\n        varying vec4 v_hitColor;\n\n        void main(void) {\n          vec2 texCoord \x3d v_texCoord * 2.0 - vec2(1.0, 1.0);\n          float sqRadius \x3d texCoord.x * texCoord.x + texCoord.y * texCoord.y;\n          float value \x3d (1.0 - sqrt(sqRadius)) * u_blurSlope;\n          float alpha \x3d smoothstep(0.0, 1.0, value) * v_weight;\n          if (alpha \x3c 0.05) {\n            discard;\n          }\n\n          gl_FragColor \x3d v_hitColor;\n        }",
uniforms:{u_size:function(){return 2*(this.get("radius")+this.get("blur"))}.bind(this),u_blurSlope:function(){return this.get("radius")/Math.max(1,this.get("blur"))}.bind(this)},postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color \x3d texture2D(u_image, v_texCoord);\n              gl_FragColor.a \x3d color.a * u_opacity;\n              gl_FragColor.rgb \x3d texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *\x3d gl_FragColor.a;\n            }",
uniforms:{u_gradientTexture:function(){return this.gradient_}.bind(this),u_opacity:function(){return this.getOpacity()}.bind(this)}}]})}renderDeclutter(){}}A.default=n};
shadow$provide[345]=function(Ka,L,sb,A){function w(y){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(y)?y:new Uint8Array(y||0);this.type=this.pos=0;this.length=this.buf.length}function k(y,K,R){var S=R.buf;var ca=S[R.pos++];var M=(ca&112)>>4;if(128>ca)return q(y,M,K);ca=S[R.pos++];M|=(ca&127)<<3;if(128>ca)return q(y,M,K);ca=S[R.pos++];M|=(ca&127)<<10;if(128>ca)return q(y,M,K);ca=S[R.pos++];M|=(ca&127)<<17;if(128>ca)return q(y,M,K);ca=S[R.pos++];M|=(ca&127)<<24;if(128>ca)return q(y,M,K);ca=S[R.pos++];
if(128>ca)return q(y,M|(ca&1)<<31,K);throw Error("Expected varint not more than 10 bytes");}function p(y){return y.type===w.Bytes?y.readVarint()+y.pos:y.pos+1}function q(y,K,R){return R?4294967296*K+(y>>>0):4294967296*(K>>>0)+(y>>>0)}function t(y,K,R){K=16383>=K?1:2097151>=K?2:268435455>=K?3:Math.floor(Math.log(K)/(7*Math.LN2));R.realloc(K);for(var S=R.pos-1;S>=y;S--)R.buf[S+K]=R.buf[S]}function n(y,K){for(var R=0;R<y.length;R++)K.writeVarint(y[R])}function f(y,K){for(var R=0;R<y.length;R++)K.writeSVarint(y[R])}
function b(y,K){for(var R=0;R<y.length;R++)K.writeFloat(y[R])}function c(y,K){for(var R=0;R<y.length;R++)K.writeDouble(y[R])}function e(y,K){for(var R=0;R<y.length;R++)K.writeBoolean(y[R])}function g(y,K){for(var R=0;R<y.length;R++)K.writeFixed32(y[R])}function m(y,K){for(var R=0;R<y.length;R++)K.writeSFixed32(y[R])}function h(y,K){for(var R=0;R<y.length;R++)K.writeFixed64(y[R])}function x(y,K){for(var R=0;R<y.length;R++)K.writeSFixed64(y[R])}function O(y,K){return(y[K]|y[K+1]<<8|y[K+2]<<16)+16777216*
y[K+3]}function G(y,K,R){y[R]=K;y[R+1]=K>>>8;y[R+2]=K>>>16;y[R+3]=K>>>24}function I(y,K){return(y[K]|y[K+1]<<8|y[K+2]<<16)+(y[K+3]<<24)}sb.exports=w;var F=L(19);w.Varint=0;w.Fixed64=1;w.Bytes=2;w.Fixed32=5;var C=1/4294967296,r="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");w.prototype={destroy:function(){this.buf=null},readFields:function(y,K,R){for(R=R||this.length;this.pos<R;){var S=this.readVarint(),ca=S>>3,M=this.pos;this.type=S&7;y(ca,K,this);this.pos===M&&this.skip(S)}return K},
readMessage:function(y,K){return this.readFields(y,K,this.readVarint()+this.pos)},readFixed32:function(){var y=O(this.buf,this.pos);this.pos+=4;return y},readSFixed32:function(){var y=I(this.buf,this.pos);this.pos+=4;return y},readFixed64:function(){var y=O(this.buf,this.pos)+4294967296*O(this.buf,this.pos+4);this.pos+=8;return y},readSFixed64:function(){var y=O(this.buf,this.pos)+4294967296*I(this.buf,this.pos+4);this.pos+=8;return y},readFloat:function(){var y=F.read(this.buf,this.pos,!0,23,4);
this.pos+=4;return y},readDouble:function(){var y=F.read(this.buf,this.pos,!0,52,8);this.pos+=8;return y},readVarint:function(y){var K=this.buf;var R=K[this.pos++];var S=R&127;if(128>R)return S;R=K[this.pos++];S|=(R&127)<<7;if(128>R)return S;R=K[this.pos++];S|=(R&127)<<14;if(128>R)return S;R=K[this.pos++];S|=(R&127)<<21;if(128>R)return S;R=K[this.pos];return k(S|(R&15)<<28,y,this)},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var y=this.readVarint();return 1===y%2?(y+
1)/-2:y/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var y=this.readVarint()+this.pos,K=this.pos;this.pos=y;if(12<=y-K&&r)return r.decode(this.buf.subarray(K,y));for(var R=this.buf,S="";K<y;){var ca=R[K],M=null,aa=239<ca?4:223<ca?3:191<ca?2:1;if(K+aa>y)break;if(1===aa)128>ca&&(M=ca);else if(2===aa){var Y=R[K+1];128===(Y&192)&&(M=(ca&31)<<6|Y&63,127>=M&&(M=null))}else if(3===aa){Y=R[K+1];var ea=R[K+2];128===(Y&192)&&128===(ea&192)&&(M=(ca&15)<<12|(Y&63)<<6|ea&63,2047>=
M||55296<=M&&57343>=M)&&(M=null)}else if(4===aa){Y=R[K+1];ea=R[K+2];var Ga=R[K+3];128===(Y&192)&&128===(ea&192)&&128===(Ga&192)&&(M=(ca&15)<<18|(Y&63)<<12|(ea&63)<<6|Ga&63,65535>=M||1114112<=M)&&(M=null)}null===M?(M=65533,aa=1):65535<M&&(M-=65536,S+=String.fromCharCode(M>>>10&1023|55296),M=56320|M&1023);S+=String.fromCharCode(M);K+=aa}return S},readBytes:function(){var y=this.readVarint()+this.pos,K=this.buf.subarray(this.pos,y);this.pos=y;return K},readPackedVarint:function(y,K){if(this.type!==w.Bytes)return y.push(this.readVarint(K));
var R=p(this);for(y=y||[];this.pos<R;)y.push(this.readVarint(K));return y},readPackedSVarint:function(y){if(this.type!==w.Bytes)return y.push(this.readSVarint());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readSVarint());return y},readPackedBoolean:function(y){if(this.type!==w.Bytes)return y.push(this.readBoolean());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readBoolean());return y},readPackedFloat:function(y){if(this.type!==w.Bytes)return y.push(this.readFloat());var K=p(this);for(y=
y||[];this.pos<K;)y.push(this.readFloat());return y},readPackedDouble:function(y){if(this.type!==w.Bytes)return y.push(this.readDouble());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readDouble());return y},readPackedFixed32:function(y){if(this.type!==w.Bytes)return y.push(this.readFixed32());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readFixed32());return y},readPackedSFixed32:function(y){if(this.type!==w.Bytes)return y.push(this.readSFixed32());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readSFixed32());
return y},readPackedFixed64:function(y){if(this.type!==w.Bytes)return y.push(this.readFixed64());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readFixed64());return y},readPackedSFixed64:function(y){if(this.type!==w.Bytes)return y.push(this.readSFixed64());var K=p(this);for(y=y||[];this.pos<K;)y.push(this.readSFixed64());return y},skip:function(y){y&=7;if(y===w.Varint)for(;127<this.buf[this.pos++];);else if(y===w.Bytes)this.pos=this.readVarint()+this.pos;else if(y===w.Fixed32)this.pos+=4;else if(y===
w.Fixed64)this.pos+=8;else throw Error("Unimplemented type: "+y);},writeTag:function(y,K){this.writeVarint(y<<3|K)},realloc:function(y){for(var K=this.length||16;K<this.pos+y;)K*=2;K!==this.length&&(y=new Uint8Array(K),y.set(this.buf),this.buf=y,this.length=K)},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(y){this.realloc(4);G(this.buf,y,this.pos);this.pos+=4},writeSFixed32:function(y){this.realloc(4);G(this.buf,y,this.pos);this.pos+=
4},writeFixed64:function(y){this.realloc(8);G(this.buf,y&-1,this.pos);G(this.buf,Math.floor(y*C),this.pos+4);this.pos+=8},writeSFixed64:function(y){this.realloc(8);G(this.buf,y&-1,this.pos);G(this.buf,Math.floor(y*C),this.pos+4);this.pos+=8},writeVarint:function(y){y=+y||0;if(268435455<y||0>y){if(0<=y){var K=y%4294967296|0;var R=y/4294967296|0}else K=~(-y%4294967296),R=~(-y/4294967296),K^4294967295?K=K+1|0:(K=0,R=R+1|0);if(1.8446744073709552E19<=y||-1.8446744073709552E19>y)throw Error("Given varint doesn't fit into 10 bytes");
this.realloc(10);y=K;this.buf[this.pos++]=y&127|128;y>>>=7;this.buf[this.pos++]=y&127|128;y>>>=7;this.buf[this.pos++]=y&127|128;y>>>=7;this.buf[this.pos++]=y&127|128;this.buf[this.pos]=y>>>7&127;this.buf[this.pos++]|=(R&7)<<4|((R>>>=3)?128:0);R&&(this.buf[this.pos++]=R&127|((R>>>=7)?128:0),R&&(this.buf[this.pos++]=R&127|((R>>>=7)?128:0),R&&(this.buf[this.pos++]=R&127|((R>>>=7)?128:0),R&&(this.buf[this.pos++]=R&127|((R>>>=7)?128:0),R&&(this.buf[this.pos++]=R&127)))))}else this.realloc(4),this.buf[this.pos++]=
y&127|(127<y?128:0),127>=y||(this.buf[this.pos++]=(y>>>=7)&127|(127<y?128:0),127>=y||(this.buf[this.pos++]=(y>>>=7)&127|(127<y?128:0),127>=y||(this.buf[this.pos++]=y>>>7&127)))},writeSVarint:function(y){this.writeVarint(0>y?2*-y-1:2*y)},writeBoolean:function(y){this.writeVarint(!!y)},writeString:function(y){y=String(y);this.realloc(4*y.length);this.pos++;for(var K=this.pos,R=this.buf,S=this.pos,ca=0,M,aa;ca<y.length;ca++){M=y.charCodeAt(ca);if(55295<M&&57344>M)if(aa)if(56320>M){R[S++]=239;R[S++]=
191;R[S++]=189;aa=M;continue}else M=aa-55296<<10|M-56320|65536,aa=null;else{56319<M||ca+1===y.length?(R[S++]=239,R[S++]=191,R[S++]=189):aa=M;continue}else aa&&(R[S++]=239,R[S++]=191,R[S++]=189,aa=null);128>M?R[S++]=M:(2048>M?R[S++]=M>>6|192:(65536>M?R[S++]=M>>12|224:(R[S++]=M>>18|240,R[S++]=M>>12&63|128),R[S++]=M>>6&63|128),R[S++]=M&63|128)}this.pos=S;R=this.pos-K;128<=R&&t(K,R,this);this.pos=K-1;this.writeVarint(R);this.pos+=R},writeFloat:function(y){this.realloc(4);F.write(this.buf,y,this.pos,!0,
23,4);this.pos+=4},writeDouble:function(y){this.realloc(8);F.write(this.buf,y,this.pos,!0,52,8);this.pos+=8},writeBytes:function(y){var K=y.length;this.writeVarint(K);this.realloc(K);for(var R=0;R<K;R++)this.buf[this.pos++]=y[R]},writeRawMessage:function(y,K){this.pos++;var R=this.pos;y(K,this);y=this.pos-R;128<=y&&t(R,y,this);this.pos=R-1;this.writeVarint(y);this.pos+=y},writeMessage:function(y,K,R){this.writeTag(y,w.Bytes);this.writeRawMessage(K,R)},writePackedVarint:function(y,K){K.length&&this.writeMessage(y,
n,K)},writePackedSVarint:function(y,K){K.length&&this.writeMessage(y,f,K)},writePackedBoolean:function(y,K){K.length&&this.writeMessage(y,e,K)},writePackedFloat:function(y,K){K.length&&this.writeMessage(y,b,K)},writePackedDouble:function(y,K){K.length&&this.writeMessage(y,c,K)},writePackedFixed32:function(y,K){K.length&&this.writeMessage(y,g,K)},writePackedSFixed32:function(y,K){K.length&&this.writeMessage(y,m,K)},writePackedFixed64:function(y,K){K.length&&this.writeMessage(y,h,K)},writePackedSFixed64:function(y,
K){K.length&&this.writeMessage(y,x,K)},writeBytesField:function(y,K){this.writeTag(y,w.Bytes);this.writeBytes(K)},writeFixed32Field:function(y,K){this.writeTag(y,w.Fixed32);this.writeFixed32(K)},writeSFixed32Field:function(y,K){this.writeTag(y,w.Fixed32);this.writeSFixed32(K)},writeFixed64Field:function(y,K){this.writeTag(y,w.Fixed64);this.writeFixed64(K)},writeSFixed64Field:function(y,K){this.writeTag(y,w.Fixed64);this.writeSFixed64(K)},writeVarintField:function(y,K){this.writeTag(y,w.Varint);this.writeVarint(K)},
writeSVarintField:function(y,K){this.writeTag(y,w.Varint);this.writeSVarint(K)},writeStringField:function(y,K){this.writeTag(y,w.Bytes);this.writeString(K)},writeFloatField:function(y,K){this.writeTag(y,w.Fixed32);this.writeFloat(K)},writeDoubleField:function(y,K){this.writeTag(y,w.Fixed64);this.writeDouble(K)},writeBooleanField:function(y,K){this.writeVarintField(y,!!K)}}};
shadow$provide[346]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(t){return t&&t.__esModule?t:{default:t}}(L(128));var w=L(84),k=L(130),p=L(126);class q extends Ka.default{constructor(t,n,f){super();void 0!==f&&void 0===n?this.setFlatCoordinates(f,t):this.setCenterAndRadius(t,n?n:0,f)}clone(){const t=new q(this.flatCoordinates.slice(),void 0,this.layout);t.applyProperties(this);return t}closestPointXY(t,n,f,b){const c=this.flatCoordinates;t-=c[0];
const e=n-c[1];n=t*t+e*e;if(n<b){if(0===n)for(b=0;b<this.stride;++b)f[b]=c[b];else for(b=this.getRadius()/Math.sqrt(n),f[0]=c[0]+b*t,f[1]=c[1]+b*e,b=2;b<this.stride;++b)f[b]=c[b];f.length=this.stride;return n}return b}containsXY(t,n){const f=this.flatCoordinates;t-=f[0];n-=f[1];return t*t+n*n<=this.getRadiusSquared_()}getCenter(){return this.flatCoordinates.slice(0,this.stride)}computeExtent(t){const n=this.flatCoordinates,f=n[this.stride]-n[0];return(0,w.createOrUpdate)(n[0]-f,n[1]-f,n[0]+f,n[1]+
f,t)}getRadius(){return Math.sqrt(this.getRadiusSquared_())}getRadiusSquared_(){const t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],n=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+n*n}getType(){return"Circle"}intersectsExtent(t){var n=this.getExtent();return(0,w.intersects)(t,n)?(n=this.getCenter(),t[0]<=n[0]&&t[2]>=n[0]||t[1]<=n[1]&&t[3]>=n[1]?!0:(0,w.forEachCorner)(t,this.intersectsCoordinate.bind(this))):!1}setCenter(t){const n=this.stride;var f=this.flatCoordinates[n]-
this.flatCoordinates[0];const b=t.slice();b[n]=b[0]+f;for(f=1;f<n;++f)b[n+f]=t[f];this.setFlatCoordinates(this.layout,b);this.changed()}setCenterAndRadius(t,n,f){this.setLayout(f,t,0);this.flatCoordinates||(this.flatCoordinates=[]);f=this.flatCoordinates;t=(0,k.deflateCoordinate)(f,0,t,this.stride);f[t++]=f[0]+n;for(let b=1,c=this.stride;b<c;++b)f[t++]=f[b];f.length=t;this.changed()}getCoordinates(){return null}setCoordinates(t,n){}setRadius(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+
t;this.changed()}rotate(t,n){const f=this.getCenter(),b=this.getStride();this.setCenter((0,p.rotate)(f,0,f.length,b,t,n,f));this.changed()}translate(t,n){const f=this.getCenter(),b=this.getStride();this.setCenter((0,p.translate)(f,0,f.length,b,t,n,f));this.changed()}}A.default=q};
shadow$provide[347]=function(Ka,L,sb,A){function w(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Circle",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Geometry",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"GeometryCollection",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"LinearRing",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,
"LineString",{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"MultiLineString",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"MultiPoint",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"MultiPolygon",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"Point",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(A,"Polygon",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,
"SimpleGeometry",{enumerable:!0,get:function(){return m.default}});var k=w(L(346)),p=w(L(127)),q=w(L(170)),t=w(L(134)),n=w(L(173)),f=w(L(174)),b=w(L(175)),c=w(L(177)),e=w(L(135)),g=w(L(142)),m=w(L(128))};
shadow$provide[348]=function(Ka,L,sb,A){function w(O){var G=O.getType();switch(G){case "Point":return new p.Point(O.getFlatCoordinates());case "MultiPoint":return new p.MultiPoint(O.getFlatCoordinates(),"XY");case "LineString":return new p.LineString(O.getFlatCoordinates(),"XY");case "MultiLineString":return new p.MultiLineString(O.getFlatCoordinates(),"XY",O.getEnds());case "Polygon":G=O.getFlatCoordinates();O=O.getEnds();const I=(0,c.inflateEnds)(G,O);return 1<I.length?new p.MultiPolygon(G,"XY",
I):new p.Polygon(G,"XY",O);default:throw Error("Invalid geometry type:"+G);}}Object.defineProperty(A,"__esModule",{value:!0});A.toGeometry=w;A.toFeature=function(O,G){const I=O.getId(),F=w(O);O=O.getProperties();const C=new k.default;void 0!==G&&C.setGeometryName(G);C.setGeometry(F);void 0!==I&&C.setId(I);C.setProperties(O,!0);return C};A.default=void 0;var k=function(O){return O&&O.__esModule?O:{default:O}}(L(169)),p=L(347),q=L(82),t=L(84),n=L(68),f=L(137),b=L(121),c=L(141),e=L(171),g=L(176),m=L(126);
const h=(0,q.create)();class x{constructor(O,G,I,F,C){this.id_=C;this.type_=O;this.flatCoordinates_=G;this.flatMidpoints_=this.flatInteriorPoints_=null;this.ends_=I;this.properties_=F}get(O){return this.properties_[O]}getExtent(){this.extent_||(this.extent_="Point"===this.type_?(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates_):(0,t.createOrUpdateFromFlatCoordinates)(this.flatCoordinates_,0,this.flatCoordinates_.length,2));return this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const O=
(0,t.getCenter)(this.getExtent());this.flatInteriorPoints_=(0,f.getInteriorPointOfArray)(this.flatCoordinates_,0,this.ends_,2,O,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const O=(0,g.linearRingss)(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=(0,f.getInteriorPointsOfMultiArray)(this.flatCoordinates_,0,this.ends_,2,O)}return this.flatInteriorPoints_}getFlatMidpoint(){this.flatMidpoints_||(this.flatMidpoints_=(0,e.interpolatePoint)(this.flatCoordinates_,
0,this.flatCoordinates_.length,2,.5));return this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const G=this.flatCoordinates_;var O=0;const I=this.ends_;for(let F=0,C=I.length;F<C;++F){const r=I[F];O=(0,e.interpolatePoint)(G,O,r,2,.5);(0,n.extend)(this.flatMidpoints_,O);O=r}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(O){return this}simplifyTransformed(O,
G){return this}getProperties(){return this.properties_}getStride(){return 2}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(O){O=(0,b.get)(O);var G=O.getExtent();O=O.getWorldExtent();G&&O&&(G=(0,t.getHeight)(O)/(0,t.getHeight)(G),(0,q.compose)(h,O[0],O[3],G,-G,0,0,0),(0,m.transform2D)(this.flatCoordinates_,0,this.flatCoordinates_.length,2,h,this.flatCoordinates_))}getEnds(){return this.ends_}}x.prototype.getEndss=x.prototype.getEnds;x.prototype.getFlatCoordinates=
x.prototype.getOrientedFlatCoordinates;A.default=x};
shadow$provide[349]=function(Ka,L,sb,A){function w(r){return r&&r.__esModule?r:{default:r}}function k(r){if("function"!==typeof WeakMap)return null;var y=new WeakMap,K=new WeakMap;return(k=function(R){return R?K:y})(r)}function p(r,y,K){if(3===r){r={keys:[],values:[],features:[]};const R=K.readVarint()+K.pos;K.readFields(q,r,R);r.length=r.features.length;r.length&&(y[r.name]=r)}}function q(r,y,K){if(15===r)y.version=K.readVarint();else if(1===r)y.name=K.readString();else if(5===r)y.extent=K.readVarint();
else if(2===r)y.features.push(K.pos);else if(3===r)y.keys.push(K.readString());else if(4===r){r=null;const R=K.readVarint()+K.pos;for(;K.pos<R;)r=K.readVarint()>>3,r=1===r?K.readString():2===r?K.readFloat():3===r?K.readDouble():4===r?K.readVarint64():5===r?K.readVarint():6===r?K.readSVarint():7===r?K.readBoolean():null;y.values.push(r)}}function t(r,y,K){if(1==r)y.id=K.readVarint();else if(2==r)for(r=K.readVarint()+K.pos;K.pos<r;){const R=y.layer.keys[K.readVarint()],S=y.layer.values[K.readVarint()];
y.properties[R]=S}else 3==r?y.type=K.readVarint():4==r&&(y.geometry=K.pos)}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var n=function(r,y){if(!y&&r&&r.__esModule)return r;if(null===r||"object"!==typeof r&&"function"!==typeof r)return{default:r};if((y=k(y))&&y.has(r))return y.get(r);var K={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor,S;for(S in r)if("default"!==S&&Object.prototype.hasOwnProperty.call(r,S)){var ca=R?Object.getOwnPropertyDescriptor(r,S):null;ca&&(ca.get||
ca.set)?Object.defineProperty(K,S,ca):K[S]=r[S]}K.default=r;y&&y.set(r,K);return K}(L(178)),f=w(L(173)),b=w(L(174)),c=w(L(175)),e=w(L(177)),g=w(L(345)),m=w(L(135)),h=w(L(142)),x=w(L(115)),O=w(L(348)),G=L(81),I=L(121),F=L(141);class C extends n.default{constructor(r){super();r=r?r:{};this.dataProjection=new x.default({code:"",units:"tile-pixels"});this.featureClass_=r.featureClass?r.featureClass:O.default;this.geometryName_=r.geometryName;this.layerName_=r.layerName?r.layerName:"layer";this.layers_=
r.layers?r.layers:null;this.idProperty_=r.idProperty;this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(r,y,K,R){r.pos=y.geometry;y=r.readVarint()+r.pos;let S=1;var ca=0;let M=0,aa=0,Y=0,ea=0;for(;r.pos<y;)ca||(ca=r.readVarint(),S=ca&7,ca>>=3),ca--,1===S||2===S?(M+=r.readSVarint(),aa+=r.readSVarint(),1===S&&Y>ea&&(R.push(Y),ea=Y),K.push(M,aa),Y+=2):7===S?Y>ea&&(K.push(K[ea],K[ea+1]),Y+=2):(0,G.assert)(!1,59);Y>ea&&R.push(Y)}createFeature_(r,y,
K){var R=y.type;if(0===R)return null;const S=y.properties;let ca;this.idProperty_?(ca=S[this.idProperty_],delete S[this.idProperty_]):ca=y.id;S[this.layerName_]=y.layer.name;var M=[];var aa=[];this.readRawGeometry_(r,y,M,aa);r=aa.length;let Y;1===R?Y=1===r?"Point":"MultiPoint":2===R?Y=1===r?"LineString":"MultiLineString":3===R&&(Y="Polygon");R=Y;this.featureClass_===O.default?(M=new this.featureClass_(R,M,aa,S,ca),M.transform(K.dataProjection)):("Polygon"==R?(R=(0,F.inflateEnds)(M,aa),aa=1<R.length?
new e.default(M,"XY",R):new h.default(M,"XY",aa)):aa="Point"===R?new m.default(M,"XY"):"LineString"===R?new f.default(M,"XY"):"MultiPoint"===R?new c.default(M,"XY"):"MultiLineString"===R?new b.default(M,"XY",aa):null,M=new this.featureClass_,this.geometryName_&&M.setGeometryName(this.geometryName_),K=(0,n.transformGeometryWithOptions)(aa,!1,K),M.setGeometry(K),void 0!==ca&&M.setId(ca),M.setProperties(S,!0));return M}getType(){return"arraybuffer"}readFeatures(r,y){const K=this.layers_;y=this.adaptOptions(y);
const R=(0,I.get)(y.dataProjection);R.setWorldExtent(y.extent);y.dataProjection=R;r=new g.default(r);const S=r.readFields(p,{}),ca=[];for(const Y in S){if(K&&!K.includes(Y))continue;const ea=S[Y];R.setExtent(ea?[0,0,ea.extent,ea.extent]:null);for(let Ga=0,X=ea.length;Ga<X;++Ga){var M=r,aa=ea;M.pos=aa.features[Ga];const D=M.readVarint()+M.pos;aa={layer:aa,type:0,properties:{}};M.readFields(t,aa,D);M=this.createFeature_(r,aa,y);null!==M&&ca.push(M)}}return ca}readProjection(r){return this.dataProjection}setLayers(r){this.layers_=
r}}A.default=C};
shadow$provide[350]=function(Ka,L,sb,A){function w(G){return G&&G.__esModule?G:{default:G}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var k=w(L(318)),p=w(L(321));Ka=w(L(283));var q=w(L(109)),t=w(L(111)),n=L(324),f=L(82),b=L(84),c=L(325),e=L(75),g=L(167),m=L(93);const h={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},x={hybrid:["Image","Text","Default"],vector:"Polygon Circle LineString Image Text Default".split(" ")};class O extends Ka.default{constructor(G){super(G);
this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this);this.renderedPixelToCoordinateTransform_=null;this.tmpTransform_=(0,f.create)()}prepareTile(G,I,F){let C;const r=G.getState();if(r===q.default.LOADED||r===q.default.ERROR)this.updateExecutorGroup_(G,I,F),this.tileImageNeedsRender_(G)&&(C=!0);return C}getTile(G,I,F,C){const r=C.pixelRatio;var y=C.viewState;const K=y.resolution;y=y.projection;const R=this.getLayer(),S=R.getSource().getTile(G,I,F,r,y);var ca=C.viewHints;if((ca=
!(ca[t.default.ANIMATING]||ca[t.default.INTERACTING]))||!S.wantedResolution)S.wantedResolution=K;this.prepareTile(S,r,y)&&(ca||8>Date.now()-C.time)&&"vector"!==R.getRenderMode()&&this.renderTileImage_(S,C);return super.getTile(G,I,F,C)}isDrawableTile(G){const I=this.getLayer();return super.isDrawableTile(G)&&("vector"===I.getRenderMode()?(0,e.getUid)(I)in G.executorGroups:G.hasContext(I))}getTileImage(G){return G.getImage(this.getLayer())}prepareFrame(G){const I=this.getLayer().getRevision();this.renderedLayerRevision_!==
I&&(this.renderedLayerRevision_=I,this.renderedTiles.length=0);return super.prepareFrame(G)}updateExecutorGroup_(G,I,F){const C=this.getLayer(),r=C.getRevision(),y=C.getRenderOrder()||null,K=G.wantedResolution,R=G.getReplayState(C);if(R.dirty||R.renderedResolution!==K||R.renderedRevision!=r||R.renderedRenderOrder!=y){var S=C.getSource(),ca=C.getDeclutter(),M=S.getTileGrid(),aa=S.getTileGridForProjection(F).getTileCoordExtent(G.wrappedTileCoord);F=S.getSourceTiles(I,F,G);var Y=(0,e.getUid)(C);delete G.hitDetectionImageData[Y];
G.executorGroups[Y]=[];ca&&(G.declutterExecutorGroups[Y]=[]);R.dirty=!1;for(let Z=0,Aa=F.length;Z<Aa;++Z){var ea=F[Z];if(ea.getState()!=q.default.LOADED)continue;var Ga=M.getTileCoordExtent(ea.tileCoord),X=(0,b.getIntersection)(aa,Ga),D=(0,b.buffer)(X,C.getRenderBuffer()*K,this.tmpExtent);Ga=(0,b.equals)(Ga,X)?null:D;const qa=new k.default(0,D,K,I);D=ca?new k.default(0,X,K,I):void 0;const la=(0,c.getSquaredTolerance)(K,I);ea=ea.getFeatures();y&&y!==R.renderedRenderOrder&&ea.sort(y);for(let Ja=0,bb=
ea.length;Ja<bb;++Ja){var B=ea[Ja];if(!Ga||(0,b.intersects)(Ga,B.getGeometry().getExtent())){var N=void 0;const ib=B.getStyleFunction()||C.getStyleFunction();ib&&(N=ib(B,K));N&&(N=this.renderFeature(B,la,N,qa,D),R.dirty=R.dirty||N)}}Ga=qa.finish();X="vector"!==C.getRenderMode()&&ca&&1===F.length?null:X;X=new p.default(X,K,I,S.getOverlaps(),Ga,C.getRenderBuffer());G.executorGroups[Y].push(X);D&&(X=new p.default(null,K,I,S.getOverlaps(),D.finish(),C.getRenderBuffer()),G.declutterExecutorGroups[Y].push(X))}R.renderedRevision=
r;R.renderedRenderOrder=y;R.renderedResolution=K}}forEachFeatureAtCoordinate(G,I,F,C,r){const y=I.viewState.resolution,K=I.viewState.rotation;F=void 0==F?0:F;const R=this.getLayer(),S=R.getSource().getTileGridForProjection(I.viewState.projection),ca=(0,b.boundingExtent)([G]);(0,b.buffer)(ca,y*F,ca);const M={},aa=function(X,D,B){let N=X.getId();void 0===N&&(N=(0,e.getUid)(X));const Z=M[N];if(!Z){if(0===B)return M[N]=!0,C(X,R,D);r.push(M[N]={feature:X,layer:R,geometry:D,distanceSq:B,callback:C})}else if(!0!==
Z&&B<Z.distanceSq){if(0===B)return M[N]=!0,r.splice(r.lastIndexOf(Z),1),C(X,R,D);Z.geometry=D;Z.distanceSq=B}},Y=this.renderedTiles;let ea;for(let X=0,D=Y.length;!ea&&X<D;++X){const B=Y[X];var Ga=S.getTileCoordExtent(B.wrappedTileCoord);if(!(0,b.intersects)(Ga,ca))continue;Ga=(0,e.getUid)(R);const N=[B.executorGroups[Ga]],Z=B.declutterExecutorGroups[Ga];Z&&N.push(Z);N.some(Aa=>{const qa=Aa===Z?I.declutterTree.all().map(la=>la.value):null;for(let la=0,Ja=Aa.length;la<Ja;++la)if(ea=Aa[la].forEachFeatureAtCoordinate(G,
y,K,F,aa,qa))return!0})}return ea}getFeatures(G){return new Promise(function(I,F){F=this.getLayer();const C=(0,e.getUid)(F);var r=F.getSource(),y=this.renderedProjection,K=y.getExtent(),R=this.renderedResolution;const S=r.getTileGridForProjection(y);var ca=(0,f.apply)(this.renderedPixelToCoordinateTransform_,G.slice()),M=S.getTileCoordForCoordAndResolution(ca,R);let aa;for(let Y=0,ea=this.renderedTiles.length;Y<ea;++Y)if(M.toString()===this.renderedTiles[Y].tileCoord.toString()){aa=this.renderedTiles[Y];
if(aa.getState()===q.default.LOADED){M=S.getTileCoordExtent(aa.tileCoord);r.getWrapX()&&y.canWrapX()&&!(0,b.containsExtent)(K,M)&&(0,m.wrapX)(ca,y);break}aa=void 0}!aa||0<aa.loadingSourceTiles?I([]):(y=S.getTileCoordExtent(aa.wrappedTileCoord),y=(0,b.getTopLeft)(y),ca=[(ca[0]-y[0])/R,(y[1]-ca[1])/R],y=aa.getSourceTiles().reduce(function(Y,ea){return Y.concat(ea.getFeatures())},[]),K=aa.hitDetectionImageData[C],K||this.animatingOrInteracting_||(r=(0,g.toSize)(S.getTileSize(S.getZForResolution(R,r.zDirection))),
K=this.renderedRotation_,R=[this.getRenderTransform(S.getTileCoordCenter(aa.wrappedTileCoord),R,0,n.HIT_DETECT_RESOLUTION,r[0]*n.HIT_DETECT_RESOLUTION,r[1]*n.HIT_DETECT_RESOLUTION,0)],K=(0,n.createHitDetectionImageData)(r,R,y,F.getStyleFunction(),S.getTileCoordExtent(aa.wrappedTileCoord),aa.getReplayState(F).renderedResolution,K),aa.hitDetectionImageData[C]=K),I((0,n.hitDetect)(ca,y,K)))}.bind(this))}handleFontsChanged(){const G=this.getLayer();G.getVisible()&&void 0!==this.renderedLayerRevision_&&
G.changed()}handleStyleImageChange_(G){this.renderIfReadyAndVisible()}renderDeclutter(G){const I=this.context,F=I.globalAlpha;I.globalAlpha=this.getLayer().getOpacity();var C=G.viewHints;C=!(C[t.default.ANIMATING]||C[t.default.INTERACTING]);const r=this.renderedTiles;for(let y=0,K=r.length;y<K;++y){const R=r[y],S=R.declutterExecutorGroups[(0,e.getUid)(this.getLayer())];if(S)for(let ca=S.length-1;0<=ca;--ca)S[ca].execute(this.context,1,this.getTileRenderTransform(R,G),G.viewState.rotation,C,void 0,
G.declutterTree)}I.globalAlpha=F}getTileRenderTransform(G,I){const F=I.pixelRatio;var C=I.viewState;const r=C.center,y=C.resolution;C=C.rotation;var K=I.size;const R=Math.round(K[0]*F);K=Math.round(K[1]*F);I=this.getLayer().getSource().getTileGridForProjection(I.viewState.projection);const S=G.tileCoord;G=I.getTileCoordExtent(G.wrappedTileCoord);G=I.getTileCoordExtent(S,this.tmpExtent)[0]-G[0];return(0,f.multiply)((0,f.scale)(this.inversePixelTransform.slice(),1/F,1/F),this.getRenderTransform(r,y,
C,F,R,K,G))}postRender(G,I){var F=I.viewHints;F=!(F[t.default.ANIMATING]||F[t.default.INTERACTING]);this.renderedPixelToCoordinateTransform_=I.pixelToCoordinateTransform.slice();this.renderedRotation_=I.viewState.rotation;const C=this.getLayer();var r=C.getRenderMode();const y=G.globalAlpha;G.globalAlpha=C.getOpacity();const K=x[r];var R=I.viewState;r=R.rotation;var S=C.getSource();R=S.getTileGridForProjection(R.projection).getZForResolution(R.resolution,S.zDirection);S=this.renderedTiles;const ca=
[],M=[];let aa=!0;for(let ea=S.length-1;0<=ea;--ea){var Y=S[ea];aa=aa&&!Y.getReplayState(C).dirty;const Ga=Y.executorGroups[(0,e.getUid)(C)].filter(N=>N.hasExecutors(K));if(0===Ga.length)continue;const X=this.getTileRenderTransform(Y,I);Y=Y.tileCoord[0];let D=!1;const B=Ga[0].getClipCoords(X);if(B){for(let N=0,Z=ca.length;N<Z;++N)if(R!==Y&&Y<M[N]){const Aa=ca[N];(0,b.intersects)([B[0],B[3],B[4],B[7]],[Aa[0],Aa[3],Aa[4],Aa[7]])&&(D||(G.save(),D=!0),G.beginPath(),G.moveTo(B[0],B[1]),G.lineTo(B[2],B[3]),
G.lineTo(B[4],B[5]),G.lineTo(B[6],B[7]),G.moveTo(Aa[6],Aa[7]),G.lineTo(Aa[4],Aa[5]),G.lineTo(Aa[2],Aa[3]),G.lineTo(Aa[0],Aa[1]),G.clip())}ca.push(B);M.push(Y)}for(let N=0,Z=Ga.length;N<Z;++N)Ga[N].execute(G,1,X,r,F,K);D&&G.restore()}G.globalAlpha=y;this.ready=aa;super.postRender(G,I)}renderFeature(G,I,F,C,r){if(!F)return!1;let y=!1;if(Array.isArray(F))for(let K=0,R=F.length;K<R;++K)y=(0,c.renderFeature)(C,G,F[K],I,this.boundHandleStyleImageChange_,void 0,r)||y;else y=(0,c.renderFeature)(C,G,F,I,this.boundHandleStyleImageChange_,
void 0,r);return y}tileImageNeedsRender_(G){var I=this.getLayer();if("vector"===I.getRenderMode())return!1;const F=G.getReplayState(I);I=I.getRevision();return F.renderedTileResolution!==G.wantedResolution||F.renderedTileRevision!==I}renderTileImage_(G,I){const F=this.getLayer(),C=G.getReplayState(F);var r=F.getRevision();const y=G.executorGroups[(0,e.getUid)(F)];C.renderedTileRevision=r;r=G.wrappedTileCoord;var K=r[0];const R=F.getSource();var S=I.pixelRatio;const ca=I.viewState.projection;var M=
R.getTileGridForProjection(ca),aa=M.getResolution(G.tileCoord[0]);aa*=I.pixelRatio/G.wantedResolution;const Y=M.getResolution(K);I=G.getContext(F);S=Math.round(Math.max(S,aa/S));K=R.getTilePixelSize(K,S,ca);I.canvas.width=K[0];I.canvas.height=K[1];S/=aa;1!==S&&(K=(0,f.reset)(this.tmpTransform_),(0,f.scale)(K,S,S),I.setTransform.apply(I,K));r=M.getTileCoordExtent(r,this.tmpExtent);M=aa/Y;aa=(0,f.reset)(this.tmpTransform_);(0,f.scale)(aa,M,-M);(0,f.translate)(aa,-r[0],-r[3]);for(let ea=0,Ga=y.length;ea<
Ga;++ea)y[ea].execute(I,S,aa,0,!0,h[F.getRenderMode()]);C.renderedTileResolution=G.wantedResolution}}A.default=O};
shadow$provide[351]=function(Ka,L,sb,A){function w(n){return n&&n.__esModule?n:{default:n}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(350)),p=w(L(281)),q=L(81);class t extends Ka.default{constructor(n){n=n?n:{};var f=Object.assign({},n);delete f.preload;delete f.useInterimTilesOnError;super(f);f=n.renderMode||"hybrid";(0,q.assert)("hybrid"==f||"vector"==f,28);this.renderMode_=f;this.setPreload(n.preload?n.preload:0);this.setUseInterimTilesOnError(void 0!==
n.useInterimTilesOnError?n.useInterimTilesOnError:!0);this.setBackground}createRenderer(){return new k.default(this)}getFeatures(n){return super.getFeatures(n)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(p.default.PRELOAD)}getUseInterimTilesOnError(){return this.get(p.default.USE_INTERIM_TILES_ON_ERROR)}setPreload(n){this.set(p.default.PRELOAD,n)}setUseInterimTilesOnError(n){this.set(p.default.USE_INTERIM_TILES_ON_ERROR,n)}}A.default=t};
shadow$provide[352]=function(Ka,L,sb,A){function w(q){return"string"===typeof q?(q=JSON.parse(q))?q:null:null!==q?q:null}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=function(q){return q&&q.__esModule?q:{default:q}}(L(178));var k=L(75);class p extends Ka.default{constructor(){super()}getType(){return"json"}readFeature(q,t){return this.readFeatureFromObject(w(q),this.getReadOptions(q,t))}readFeatures(q,t){return this.readFeaturesFromObject(w(q),this.getReadOptions(q,t))}readFeatureFromObject(q,
t){return(0,k.abstract)()}readFeaturesFromObject(q,t){return(0,k.abstract)()}readGeometry(q,t){return this.readGeometryFromObject(w(q),this.getReadOptions(q,t))}readGeometryFromObject(q,t){return(0,k.abstract)()}readProjection(q){return this.readProjectionFromObject(w(q))}readProjectionFromObject(q){return(0,k.abstract)()}writeFeature(q,t){return JSON.stringify(this.writeFeatureObject(q,t))}writeFeatureObject(q,t){return(0,k.abstract)()}writeFeatures(q,t){return JSON.stringify(this.writeFeaturesObject(q,
t))}writeFeaturesObject(q,t){return(0,k.abstract)()}writeGeometry(q,t){return JSON.stringify(this.writeGeometryObject(q,t))}writeGeometryObject(q,t){return(0,k.abstract)()}}A.default=p};
shadow$provide[353]=function(Ka,L,sb,A){function w(C){return C&&C.__esModule?C:{default:C}}function k(C,r){if(!C)return null;switch(C.type){case "Point":C=new m.default(C.coordinates);break;case "LineString":C=new b.default(C.coordinates);break;case "Polygon":C=new h.default(C.coordinates);break;case "MultiPoint":C=new e.default(C.coordinates);break;case "MultiLineString":C=new c.default(C.coordinates);break;case "MultiPolygon":C=new g.default(C.coordinates);break;case "GeometryCollection":C=p(C);
break;default:throw Error("Unsupported GeoJSON type: "+C.type);}return(0,I.transformGeometryWithOptions)(C,!1,r)}function p(C,r){C=C.geometries.map(function(y){return k(y,r)});return new f.default(C)}function q(C,r){C=(0,I.transformGeometryWithOptions)(C,!0,r);const y=C.getType();switch(y){case "Point":C={type:"Point",coordinates:C.getCoordinates()};break;case "LineString":C={type:"LineString",coordinates:C.getCoordinates()};break;case "Polygon":let K;r&&(K=r.rightHanded);C={type:"Polygon",coordinates:C.getCoordinates(K)};
break;case "MultiPoint":C={type:"MultiPoint",coordinates:C.getCoordinates()};break;case "MultiLineString":C={type:"MultiLineString",coordinates:C.getCoordinates()};break;case "MultiPolygon":let R;r&&(R=r.rightHanded);C={type:"MultiPolygon",coordinates:C.getCoordinates(R)};break;case "GeometryCollection":C=t(C,r);break;case "Circle":C={type:"GeometryCollection",geometries:[]};break;default:throw Error("Unsupported geometry type: "+y);}return C}function t(C,r){r=Object.assign({},r);delete r.featureProjection;
return{type:"GeometryCollection",geometries:C.getGeometriesArray().map(function(y){return q(y,r)})}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;var n=w(L(169)),f=w(L(170));Ka=w(L(352));var b=w(L(173)),c=w(L(174)),e=w(L(175)),g=w(L(177)),m=w(L(135)),h=w(L(142)),x=L(81),O=L(121),G=L(70),I=L(178);class F extends Ka.default{constructor(C){C=C?C:{};super();this.dataProjection=(0,O.get)(C.dataProjection?C.dataProjection:"EPSG:4326");C.featureProjection&&(this.defaultFeatureProjection=
(0,O.get)(C.featureProjection));this.geometryName_=C.geometryName;this.extractGeometryName_=C.extractGeometryName;this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(C,r){C="Feature"===C.type?C:{type:"Feature",geometry:C,properties:null};r=k(C.geometry,r);const y=new n.default;this.geometryName_?y.setGeometryName(this.geometryName_):this.extractGeometryName_&&y.setGeometryName(C.geometry_name);y.setGeometry(r);"id"in C&&y.setId(C.id);C.properties&&y.setProperties(C.properties,
!0);return y}readFeaturesFromObject(C,r){let y;if("FeatureCollection"===C.type){y=[];C=C.features;for(let K=0,R=C.length;K<R;++K)y.push(this.readFeatureFromObject(C[K],r))}else y=[this.readFeatureFromObject(C,r)];return y}readGeometryFromObject(C,r){return k(C,r)}readProjectionFromObject(C){C=C.crs;let r;C?"name"==C.type?r=(0,O.get)(C.properties.name):"EPSG"===C.type?r=(0,O.get)("EPSG:"+C.properties.code):(0,x.assert)(!1,36):r=this.dataProjection;return r}writeFeatureObject(C,r){r=this.adaptOptions(r);
const y={type:"Feature",geometry:null,properties:null};var K=C.getId();void 0!==K&&(y.id=K);if(!C.hasProperties())return y;K=C.getProperties();const R=C.getGeometry();R&&(y.geometry=q(R,r),delete K[C.getGeometryName()]);(0,G.isEmpty)(K)||(y.properties=K);return y}writeFeaturesObject(C,r){r=this.adaptOptions(r);const y=[];for(let K=0,R=C.length;K<R;++K)y.push(this.writeFeatureObject(C[K],r));return{type:"FeatureCollection",features:y}}writeGeometryObject(C,r){return q(C,this.adaptOptions(r))}}A.default=
F};
shadow$provide[354]=function(Ka,L,sb,A){function w(J){if("function"!==typeof WeakMap)return null;var da=new WeakMap,La=new WeakMap;return(w=function(db){return db?La:da})(J)}function k(J){return J&&J.__esModule?J:{default:J}}function p(J){J=Math.round(J);return 0>J?0:255<J?255:J}function q(J){return 0>J?0:1<J?1:J}function t(J){return"%"===J[J.length-1]?p(parseFloat(J)/100*255):p(parseInt(J))}function n(J){return"%"===J[J.length-1]?q(parseFloat(J)/100):q(parseFloat(J))}function f(J,da,La){0>La?La+=
1:1<La&&--La;return 1>6*La?J+(da-J)*La*6:1>2*La?da:2>3*La?J+(da-J)*(2/3-La)*6:J}function b(J){J=J.replace(/ /g,"").toLowerCase();if(J in Rd)return Rd[J].slice();if("#"===J[0])return 4===J.length?(J=parseInt(J.substr(1),16),0<=J&&4095>=J?[(J&3840)>>4|(J&3840)>>8,J&240|(J&240)>>4,J&15|(J&15)<<4,1]:null):7===J.length?(J=parseInt(J.substr(1),16),0<=J&&16777215>=J?[(J&16711680)>>16,(J&65280)>>8,J&255,1]:null):null;var da=J.indexOf("("),La=J.indexOf(")");if(-1!==da&&La+1===J.length){var db=J.substr(0,da);
da=J.substr(da+1,La-(da+1)).split(",");J=1;switch(db){case "rgba":if(4!==da.length)break;J=n(da.pop());case "rgb":if(3!==da.length)break;return[t(da[0]),t(da[1]),t(da[2]),J];case "hsla":if(4!==da.length)break;J=n(da.pop());case "hsl":if(3===da.length)return db=(parseFloat(da[0])%360+360)%360/360,La=n(da[1]),da=n(da[2]),La=.5>=da?da*(La+1):da+La-da*La,da=2*da-La,[p(255*f(da,La,db+1/3)),p(255*f(da,La,db)),p(255*f(da,La,db-1/3)),J]}}return null}function c(J){return"object"===typeof J?["literal",J]:J}
function e(J,da){var La=J.stops;if(!La)return g(J,da);var db=La&&"object"===typeof La[0][0],Db=db||void 0!==J.property,Sb=db||!Db;La=La.map(function(Cc){if(!Db&&da.tokens&&"string"===typeof Cc[1]){var Zc=Cc[0];a:{Cc=Cc[1];for(var Xc=["concat"],td=/{([^{}]+)}/g,ae=0,we=td.exec(Cc);null!==we;we=td.exec(Cc)){var bf=Cc.slice(ae,td.lastIndex-we[0].length);ae=td.lastIndex;0<bf.length&&Xc.push(bf);Xc.push(["get",we[1]])}if(1!==Xc.length){if(ae<Cc.length)Xc.push(Cc.slice(ae));else if(2===Xc.length){Cc=["to-string",
Xc[1]];break a}Cc=Xc}}return[Zc,Cc]}return[Cc[0],c(Cc[1])]});return db?h(J,da,La):Sb?G(J,da,La):O(J,da,La)}function g(J,da){var La=["get",J.property];if(void 0===J.default)return"string"===da.type?["string",La]:La;if("enum"===da.type)return["match",La,Object.keys(da.values),La,J.default];J=["color"===da.type?"to-color":da.type,La,c(J.default)];"array"===da.type&&J.splice(1,0,da.value,da.length||null);return J}function m(J){switch(J.colorSpace){case "hcl":return"interpolate-hcl";case "lab":return"interpolate-lab";
default:return"interpolate"}}function h(J,da,La){for(var db={},Db={},Sb=[],Cc=0;Cc<La.length;Cc++){var Zc=La[Cc],Xc=Zc[0].zoom;void 0===db[Xc]&&(db[Xc]={zoom:Xc,type:J.type,property:J.property,default:J.default},Db[Xc]=[],Sb.push(Xc));Db[Xc].push([Zc[0].value,Zc[1]])}if("exponential"===C({},da)){J=[m(J),["linear"],["zoom"]];for(La=0;La<Sb.length;La+=1)Cc=Sb[La],Zc=O(db[Cc],da,Db[Cc]),F(J,Cc,Zc,!1);return J}J=["step",["zoom"]];for(La=0;La<Sb.length;La+=1)Cc=Sb[La],Zc=O(db[Cc],da,Db[Cc]),F(J,Cc,Zc,
!0);I(J);return J}function x(J,da){J=J.default;var La=da.default;J=c(void 0!==J?J:void 0!==La?La:void 0);return void 0===J&&"resolvedImage"===da.type?"":J}function O(J,da,La){var db=C(J,da),Db=["get",J.property];if("categorical"===db&&"boolean"===typeof La[0][0]){db=["case"];for(var Sb=0;Sb<La.length;Sb+=1){var Cc=La[Sb];db.push(["\x3d\x3d",Db,Cc[0]],Cc[1])}db.push(x(J,da));return db}if("categorical"===db){Db=["match",Db];for(db=0;db<La.length;db+=1)Sb=La[db],F(Db,Sb[0],Sb[1],!1);Db.push(x(J,da));
return Db}if("interval"===db){da=["step",["number",Db]];for(db=0;db<La.length;db+=1)Sb=La[db],F(da,Sb[0],Sb[1],!0);I(da);return void 0===J.default?da:["case",["\x3d\x3d",["typeof",Db],"number"],da,c(J.default)]}if("exponential"===db){da=void 0!==J.base?J.base:1;da=[m(J),1===da?["linear"]:["exponential",da],["number",Db]];for(db=0;db<La.length;db+=1)Sb=La[db],F(da,Sb[0],Sb[1],!1);return void 0===J.default?da:["case",["\x3d\x3d",["typeof",Db],"number"],da,c(J.default)]}throw Error("Unknown property function type "+
db);}function G(J,da,La,db){void 0===db&&(db=["zoom"]);var Db=C(J,da);da=!1;if("interval"===Db)J=["step",db],da=!0;else if("exponential"===Db)Db=void 0!==J.base?J.base:1,J=[m(J),1===Db?["linear"]:["exponential",Db],db];else throw Error('Unknown zoom function type "'+Db+'"');for(db=0;db<La.length;db+=1)Db=La[db],F(J,Db[0],Db[1],da);I(J);return J}function I(J){"step"===J[0]&&3===J.length&&(J.push(0),J.push(J[3]))}function F(J,da,La,db){3<J.length&&da===J[J.length-2]||(db&&2===J.length||J.push(da),J.push(La))}
function C(J,da){return J.type?J.type:da.expression.interpolated?"exponential":"interval"}function r(J,da){return{kind:"array",itemType:J,N:da}}function y(J){if("array"===J.kind){var da=y(J.itemType);return"number"===typeof J.N?"array\x3c"+da+", "+J.N+"\x3e":"value"===J.itemType.kind?"array":"array\x3c"+da+"\x3e"}return J.kind}function K(J,da){if("error"===da.kind)return null;if("array"===J.kind){if("array"===da.kind&&(0===da.N&&"value"===da.itemType.kind||!K(J.itemType,da.itemType))&&("number"!==
typeof J.N||J.N===da.N))return null}else{if(J.kind===da.kind)return null;if("value"===J.kind)for(var La=0,db=qd;La<db.length;La+=1)if(!K(db[La],da))return null}return"Expected "+y(J)+" but found "+y(da)+" instead."}function R(J,da){return da.some(function(La){return La.kind===J.kind})}function S(J,da){return da.some(function(La){return"null"===La?null===J:"array"===La?Array.isArray(J):"object"===La?J&&!Array.isArray(J)&&"object"===typeof J:La===typeof J})}function ca(J,da,La,db){return"number"===
typeof J&&0<=J&&255>=J&&"number"===typeof da&&0<=da&&255>=da&&"number"===typeof La&&0<=La&&255>=La?"undefined"===typeof db||"number"===typeof db&&0<=db&&1>=db?null:"Invalid rgba value ["+[J,da,La,db].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+("number"===typeof db?[J,da,La,db]:[J,da,La]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function M(J){if(null===J||"string"===typeof J||"boolean"===typeof J||"number"===typeof J||J instanceof Gd||J instanceof Yd||J instanceof
Jd||J instanceof ed)return!0;if(Array.isArray(J)){for(var da=0;da<J.length;da+=1)if(!M(J[da]))return!1;return!0}if("object"===typeof J){for(da in J)if(!M(J[da]))return!1;return!0}return!1}function aa(J){if(null===J)return Se;if("string"===typeof J)return ob;if("boolean"===typeof J)return Ea;if("number"===typeof J)return ha;if(J instanceof Gd)return Ib;if(J instanceof Yd)return Nc;if(J instanceof Jd)return Jc;if(J instanceof ed)return pd;if(Array.isArray(J)){for(var da=J.length,La,db=0;db<J.length;db+=
1){var Db=aa(J[db]);if(La){if(La!==Db){La=kc;break}}else La=Db}return r(La||kc,da)}return Yb}function Y(J){var da=typeof J;return null===J?"":"string"===da||"number"===da||"boolean"===da?String(J):J instanceof Gd||J instanceof Jd||J instanceof ed?J.toString():JSON.stringify(J)}function ea(J,da){J[0]=Math.min(J[0],da[0]);J[1]=Math.min(J[1],da[1]);J[2]=Math.max(J[2],da[0]);J[3]=Math.max(J[3],da[1])}function Ga(J,da){return J[0]<=da[0]||J[2]>=da[2]||J[1]<=da[1]||J[3]>=da[3]?!1:!0}function X(J,da){for(var La=
!1,db=0,Db=da.length;db<Db;db++)for(var Sb=da[db],Cc=0,Zc=Sb.length;Cc<Zc-1;Cc++){var Xc=Sb[Cc],td=Sb[Cc+1],ae=J[0]-Xc[0];Xc=J[1]-Xc[1];var we=J[0]-td[0];td=J[1]-td[1];if(0===ae*td-we*Xc&&0>=ae*we&&0>=Xc*td)return!1;ae=Sb[Cc];td=Sb[Cc+1];ae[1]>J[1]!==td[1]>J[1]&&J[0]<(td[0]-ae[0])*(J[1]-ae[1])/(td[1]-ae[1])+ae[0]&&(La=!La)}return La}function D(J,da,La,db){var Db=db[0]-La[0];db=db[1]-La[1];J=(J[0]-La[0])*db-Db*(J[1]-La[1]);da=(da[0]-La[0])*db-Db*(da[1]-La[1]);return 0<J&&0>da||0>J&&0<da?!0:!1}function B(J,
da){for(var La=0;La<J.length;++La)if(!X(J[La],da))return!1;for(La=0;La<J.length-1;++La){a:{var db=J[La];for(var Db=J[La+1],Sb=0,Cc=da;Sb<Cc.length;Sb+=1)for(var Zc=Cc[Sb],Xc=0;Xc<Zc.length-1;++Xc){var td=db,ae=Db,we=Zc[Xc],bf=Zc[Xc+1],zf=[bf[0]-we[0],bf[1]-we[1]],Mf=[ae[0]-td[0],ae[1]-td[1]];if(0===zf[0]*Mf[1]-zf[1]*Mf[0]?0:D(td,ae,we,bf)&&D(we,bf,td,ae)){db=!0;break a}}db=!1}if(db)return!1}return!0}function N(J,da,La){for(var db=[],Db=0;Db<J.length;Db++){for(var Sb=[],Cc=0;Cc<J[Db].length;Cc++){var Zc=
J[Db][Cc];var Xc=Math.pow(2,La.z);Zc=[Math.round((180+Zc[0])/360*Xc*8192),Math.round((180-180/Math.PI*Math.log(Math.tan(Math.PI/4+Zc[1]*Math.PI/360)))/360*Xc*8192)];ea(da,Zc);Sb.push(Zc)}db.push(Sb)}return db}function Z(J,da,La){for(var db=[],Db=0;Db<J.length;Db++){var Sb=N(J[Db],da,La);db.push(Sb)}return db}function Aa(J,da,La,db){if(J[0]<La[0]||J[0]>La[2]){var Db=.5*db,Sb=J[0]-La[0]>Db?-db:La[0]-J[0]>Db?db:0;0===Sb&&(Sb=J[0]-La[2]>Db?-db:La[2]-J[0]>Db?db:0);J[0]+=Sb}ea(da,J)}function qa(J,da,La,
db){var Db=8192*Math.pow(2,db.z);db=[8192*db.x,8192*db.y];var Sb=[];if(!J)return Sb;for(var Cc=0;Cc<J.length;Cc+=1)for(var Zc=0,Xc=J[Cc];Zc<Xc.length;Zc+=1){var td=Xc[Zc];td=[td.x+db[0],td.y+db[1]];Aa(td,da,La,Db);Sb.push(td)}return Sb}function la(J,da,La,db){var Db=8192*Math.pow(2,db.z),Sb=[8192*db.x,8192*db.y];db=[];if(!J)return db;for(var Cc=0;Cc<J.length;Cc+=1){for(var Zc=[],Xc=0,td=J[Cc];Xc<td.length;Xc+=1){var ae=td[Xc];ae=[ae.x+Sb[0],ae.y+Sb[1]];ea(da,ae);Zc.push(ae)}db.push(Zc)}if(da[2]-da[0]<=
Db/2)for(da[0]=da[1]=Infinity,da[2]=da[3]=-Infinity,J=0;J<db.length;J+=1)for(Sb=0,Cc=db[J];Sb<Cc.length;Sb+=1)Aa(Cc[Sb],da,La,Db);return db}function Ja(J,da){var La=[Infinity,Infinity,-Infinity,-Infinity],db=[Infinity,Infinity,-Infinity,-Infinity],Db=J.canonicalID();if(!Db)return!1;if("Polygon"===da.type){var Sb=N(da.coordinates,db,Db),Cc=qa(J.geometry(),La,db,Db);if(!Ga(La,db))return!1;for(var Zc=0;Zc<Cc.length;Zc+=1)if(!X(Cc[Zc],Sb))return!1}if("MultiPolygon"===da.type){da=Z(da.coordinates,db,Db);
J=qa(J.geometry(),La,db,Db);if(!Ga(La,db))return!1;for(La=0;La<J.length;La+=1){a:{db=J[La];Db=da;for(Sb=0;Sb<Db.length;Sb++)if(X(db,Db[Sb])){db=!0;break a}db=!1}if(!db)return!1}}return!0}function bb(J,da){var La=[Infinity,Infinity,-Infinity,-Infinity],db=[Infinity,Infinity,-Infinity,-Infinity],Db=J.canonicalID();if(!Db)return!1;if("Polygon"===da.type){var Sb=N(da.coordinates,db,Db),Cc=la(J.geometry(),La,db,Db);if(!Ga(La,db))return!1;for(var Zc=0;Zc<Cc.length;Zc+=1)if(!B(Cc[Zc],Sb))return!1}if("MultiPolygon"===
da.type){da=Z(da.coordinates,db,Db);J=la(J.geometry(),La,db,Db);if(!Ga(La,db))return!1;for(La=0;La<J.length;La+=1){a:{db=J[La];Db=da;for(Sb=0;Sb<Db.length;Sb++)if(B(db,Db[Sb])){db=!0;break a}db=!1}if(!db)return!1}}return!0}function ib(J){if(J instanceof Ia&&("get"===J.name&&1===J.args.length||"feature-state"===J.name||"has"===J.name&&1===J.args.length||"properties"===J.name||"geometry-type"===J.name||"id"===J.name||/^filter-/.test(J.name))||J instanceof Fb)return!1;var da=!0;J.eachChild(function(La){da&&
!ib(La)&&(da=!1)});return da}function Ma(J){if(J instanceof Ia&&"feature-state"===J.name)return!1;var da=!0;J.eachChild(function(La){da&&!Ma(La)&&(da=!1)});return da}function ma(J,da){if(J instanceof Ia&&0<=da.indexOf(J.name))return!1;var La=!0;J.eachChild(function(db){La&&!ma(db,da)&&(La=!1)});return La}function Fa(J){if(J instanceof Kb)return Fa(J.boundExpression);if(J instanceof Ia&&"error"===J.name||J instanceof gb||J instanceof Fb)return!1;var da=J instanceof Pb||J instanceof Lc,La=!0;J.eachChild(function(db){La=
da?La&&Fa(db):La&&db instanceof sd});return La?ib(J)&&ma(J,"zoom heatmap-density line-progress sky-radial-progress accumulated is-supported-script pitch distance-from-center".split(" ")):!1}function Ra(J,da){for(var La=J.length-1,db=0,Db=La,Sb,Cc,Zc;db<=Db;)if(Sb=Math.floor((db+Db)/2),Cc=J[Sb],Zc=J[Sb+1],Cc<=da){if(Sb===La||da<Zc)return Sb;db=Sb+1}else if(Cc>da)Db=Sb-1;else throw new wc("Input is not a number.");return 0}function ra(J,da,La,db){this.cx=3*J;this.bx=3*(La-J)-this.cx;this.ax=1-this.cx-
this.bx;this.cy=3*da;this.by=3*(db-da)-this.cy;this.ay=1-this.cy-this.by;this.p1x=J;this.p1y=db;this.p2x=La;this.p2y=db}function ya(J,da,La){return J*(1-La)+da*La}function oa(J){return J>Fd?Math.pow(J,1/3):J/Ec+yc}function xa(J){return J>fd?J*J*J:Ec*(J-yc)}function Ua(J){return 255*(.0031308>=J?12.92*J:1.055*Math.pow(J,1/2.4)-.055)}function fb(J){J/=255;return.04045>=J?J/12.92:Math.pow((J+.055)/1.055,2.4)}function sa(J){var da=fb(J.r),La=fb(J.g),db=fb(J.b),Db=oa((.4124564*da+.3575761*La+.1804375*
db)/.95047),Sb=oa(.2126729*da+.7151522*La+.072175*db);da=oa((.0193339*da+.119192*La+.9503041*db)/1.08883);return{l:116*Sb-16,a:500*(Db-Sb),b:200*(Sb-da),alpha:J.a}}function Oa(J){var da=(J.l+16)/116,La=isNaN(J.a)?da:da+J.a/500,db=isNaN(J.b)?da:da-J.b/200;da=1*xa(da);La=.95047*xa(La);db=1.08883*xa(db);return new Gd(Ua(3.2404542*La-1.5371385*da-.4985314*db),Ua(-.969266*La+1.8760108*da+.041556*db),Ua(.0556434*La-.2040259*da+1.0572252*db),J.alpha)}function ja(J,da,La,db){db-=La;J-=La;return 0===db?0:
1===da?J/db:(Math.pow(da,J)-1)/(Math.pow(da,db)-1)}function U(J,da){return"\x3d\x3d"===J||"!\x3d"===J?"boolean"===da.kind||"string"===da.kind||"number"===da.kind||"null"===da.kind||"value"===da.kind:"string"===da.kind||"number"===da.kind||"value"===da.kind}function ka(J,da,La,db){return 0===db.compare(da,La)}function ua(J,da,La){var db="\x3d\x3d"!==J&&"!\x3d"!==J;return function(){function Db(Sb,Cc,Zc){this.type=Ea;this.lhs=Sb;this.rhs=Cc;this.collator=Zc;this.hasUntypedArgument="value"===Sb.type.kind||
"value"===Cc.type.kind}Db.parse=function(Sb,Cc){if(3!==Sb.length&&4!==Sb.length)return Cc.error("Expected two or three arguments.");var Zc=Sb[0],Xc=Cc.parse(Sb[1],1,kc);if(!Xc)return null;if(!U(Zc,Xc.type))return Cc.concat(1).error('"'+Zc+"\" comparisons are not supported for type '"+y(Xc.type)+"'.");var td=Cc.parse(Sb[2],2,kc);if(!td)return null;if(!U(Zc,td.type))return Cc.concat(2).error('"'+Zc+"\" comparisons are not supported for type '"+y(td.type)+"'.");if(Xc.type.kind!==td.type.kind&&"value"!==
Xc.type.kind&&"value"!==td.type.kind)return Cc.error("Cannot compare types '"+y(Xc.type)+"' and '"+y(td.type)+"'.");db&&("value"===Xc.type.kind&&"value"!==td.type.kind?Xc=new Lc(td.type,[Xc]):"value"!==Xc.type.kind&&"value"===td.type.kind&&(td=new Lc(Xc.type,[td])));Zc=null;if(4===Sb.length){if("string"!==Xc.type.kind&&"string"!==td.type.kind&&"value"!==Xc.type.kind&&"value"!==td.type.kind)return Cc.error("Cannot use collator to compare non-string types.");Zc=Cc.parse(Sb[3],3,Nc);if(!Zc)return null}return new Db(Xc,
td,Zc)};Db.prototype.evaluate=function(Sb){var Cc=this.lhs.evaluate(Sb),Zc=this.rhs.evaluate(Sb);if(db&&this.hasUntypedArgument){var Xc=aa(Cc),td=aa(Zc);if(Xc.kind!==td.kind||"string"!==Xc.kind&&"number"!==Xc.kind)throw new wc('Expected arguments for "'+J+'" to be (string, string) or (number, number), but found ('+Xc.kind+", "+td.kind+") instead.");}return this.collator&&!db&&this.hasUntypedArgument&&(Xc=aa(Cc),td=aa(Zc),"string"!==Xc.kind||"string"!==td.kind)?da(Sb,Cc,Zc):this.collator?La(Sb,Cc,
Zc,this.collator.evaluate(Sb)):da(Sb,Cc,Zc)};Db.prototype.eachChild=function(Sb){Sb(this.lhs);Sb(this.rhs);this.collator&&Sb(this.collator)};Db.prototype.outputDefined=function(){return!0};Db.prototype.serialize=function(){var Sb=[J];this.eachChild(function(Cc){Sb.push(Cc.serialize())});return Sb};return Db}()}function Ta(J,da){var La=da[0],db=da[1],Db=da[2];da=da[3];La=La.evaluate(J);db=db.evaluate(J);Db=Db.evaluate(J);J=da?da.evaluate(J):1;if(da=ca(La,db,Db,J))throw new wc(da);return new Gd(La/
255*J,db/255*J,Db/255*J,J)}function eb(J,da){J=da[J];return"undefined"===typeof J?null:J}function lb(J){return{result:"success",value:J}}function nb(J){return{result:"error",value:J}}function Mb(J){return"object"===typeof J&&null!==J&&!Array.isArray(J)}function $b(J){return Array.isArray(J)&&0<J.length&&"string"===typeof J[0]&&J[0]in ug}function Gc(J,da){var La=Ob,db=ug;if(da){var Db={color:Ib,string:ob,number:ha,enum:ob,boolean:Ea,formatted:Jc,resolvedImage:pd};Db="array"===da.type?r(Db[da.value]||
kc,da.length):Db[da.type]}else Db=void 0;La=new La(db,[],Db);return(J=La.parse(J,void 0,void 0,void 0,da&&"string"===da.type?{typeAnnotation:"coerce"}:void 0))?lb(new Sg(J,da)):nb(La.errors)}function zc(J,da){J=Gc(J,da);if("error"===J.result)return J;var La=J.value.expression,db=ib(La);if(!db&&"data-driven"!==da["property-type"]&&"cross-faded-data-driven"!==da["property-type"])return nb([new Pd("","data expressions not supported")]);var Db=ma(La,["zoom","pitch","distance-from-center"]);if(!(Db||da.expression&&
-1<da.expression.parameters.indexOf("zoom")))return nb([new Pd("","zoom expressions not supported")]);if((La=Bc(La))||Db){if(La instanceof Pd)return nb([La]);if(La instanceof vd&&(!da.expression||!da.expression.interpolated))return nb([new Pd("",'"interpolate" expressions cannot be used with this property')])}else return nb([new Pd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(!La)return lb(db?new ig("constant",J.value):new ig("source",J.value));
da=La instanceof vd?La.interpolation:void 0;return lb(db?new Cf("camera",J.value,La.labels,da):new Cf("composite",J.value,La.labels,da))}function Bc(J){var da=null;if(J instanceof ee)da=Bc(J.result);else if(J instanceof Kd)for(var La=0,db=J.args;La<db.length&&!(da=Bc(db[La]));La+=1);else(J instanceof oc||J instanceof vd)&&J.input instanceof Ia&&"zoom"===J.input.name&&(da=J);if(da instanceof Pd)return da;J.eachChild(function(Db){Db=Bc(Db);Db instanceof Pd?da=Db:!da&&Db?da=new Pd("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):
da&&Db&&da!==Db&&(da=new Pd("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))});return da}function uc(J){if(Array.isArray(J))return J.map(uc);if(J instanceof Object&&!(J instanceof Number||J instanceof String||J instanceof Boolean)){var da={},La;for(La in J)da[La]=uc(J[La]);return da}J=J instanceof Number||J instanceof String||J instanceof Boolean?J.valueOf():J;return J}function id(J){if(!0===J||!1===J)return!0;if(!Array.isArray(J)||0===J.length)return!1;
switch(J[0]){case "has":return 2<=J.length&&"$id"!==J[1]&&"$type"!==J[1];case "in":return 3<=J.length&&("string"!==typeof J[1]||Array.isArray(J[2]));case "!in":case "!has":case "none":return!1;case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3e\x3d":case "\x3c":case "\x3c\x3d":return 3!==J.length||Array.isArray(J[1])||Array.isArray(J[2]);case "any":case "all":var da=0;for(J=J.slice(1);da<J.length;da+=1){var La=J[da];if(!id(La)&&"boolean"!==typeof La)return!1}return!0;default:return!0}}function Hb(J,
da){void 0===da&&(da="fill");if(null===J||void 0===J)return{filter:function(){return!0},needGeometry:!1,needFeature:!1};id(J)||(J=jd(J));var La=!0;try{La=Ab(J)}catch(Xc){console.warn("Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.\nThis is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees\x3d\x26labels\x3d\x26template\x3dBug_report.md\nand paste the contents of this message in the report.\nThank you!\nFilter Expression:\n"+
JSON.stringify(J,null,2)+"\n        ")}var db=vg["filter_"+da],Db=Gc(La,db);da=null;if("error"===Db.result)throw Error(Db.value.map(function(Xc){return Xc.key+": "+Xc.message}).join(", "));da=function(Xc,td,ae){return Db.value.evaluate(Xc,td,{},ae)};var Sb=null,Cc=null;if(La!==J){var Zc=Gc(J,db);if("error"===Zc.result)throw Error(Zc.value.map(function(Xc){return Xc.key+": "+Xc.message}).join(", "));Sb=function(Xc,td,ae,we,bf){return Zc.value.evaluate(Xc,td,{},ae,void 0,void 0,we,bf)};Cc=!ib(Zc.value.expression)}J=
Sc(La);return{filter:da,dynamicFilter:Sb?Sb:void 0,needGeometry:J,needFeature:!!Cc}}function Ab(J){if(!mc(J))return J;J=uc(J);Wb(J);return J=dc(J)}function dc(J){if(!Array.isArray(J))return J;J=Kc(J);return!0===J?J:J.map(function(da){return dc(da)})}function Wb(J){var da=!1,La=[];if("case"===J[0]){for(var db=1;db<J.length-1;db+=2)da=da||mc(J[db]),La.push(J[db+1]);La.push(J[J.length-1])}else if("match"===J[0]){da=da||mc(J[1]);for(db=2;db<J.length-1;db+=2)La.push(J[db+1]);La.push(J[J.length-1])}else if("step"===
J[0])for(da=da||mc(J[1]),db=1;db<J.length-1;db+=2)La.push(J[db+1]);da&&(J.length=0,J.push.apply(J,["any"].concat(La)));for(da=1;da<J.length;da++)Wb(J[da])}function mc(J){if(!Array.isArray(J))return!1;var da=J[0];if("pitch"===da||"distance-from-center"===da)return!0;for(da=1;da<J.length;da++)if(mc(J[da]))return!0;return!1}function Kc(J){if(og.has(J[0]))for(var da=1;da<J.length;da++)if(mc(J[da]))return!0;return J}function Fc(J,da){return J<da?-1:J>da?1:0}function Sc(J){if(!Array.isArray(J))return!1;
if("within"===J[0])return!0;for(var da=1;da<J.length;da++)if(Sc(J[da]))return!0;return!1}function jd(J){if(!J)return!0;var da=J[0];return 1>=J.length?"any"!==da:"\x3d\x3d"===da?$d(J[1],J[2],"\x3d\x3d"):"!\x3d"===da?Ca($d(J[1],J[2],"\x3d\x3d")):"\x3c"===da||"\x3e"===da||"\x3c\x3d"===da||"\x3e\x3d"===da?$d(J[1],J[2],da):"any"===da?["any"].concat(J.slice(1).map(jd)):"all"===da?["all"].concat(J.slice(1).map(jd)):"none"===da?["all"].concat(J.slice(1).map(jd).map(Ca)):"in"===da?Ba(J[1],J.slice(2)):"!in"===
da?Ca(Ba(J[1],J.slice(2))):"has"===da?va(J[1]):"!has"===da?Ca(va(J[1])):"within"===da?J:!0}function $d(J,da,La){switch(J){case "$type":return["filter-type-"+La,da];case "$id":return["filter-id-"+La,da];default:return["filter-"+La,J,da]}}function Ba(J,da){if(0===da.length)return!1;switch(J){case "$type":return["filter-type-in",["literal",da]];case "$id":return["filter-id-in",["literal",da]];default:return 200<da.length&&!da.some(function(La){return typeof La!==typeof da[0]})?["filter-in-large",J,["literal",
da.sort(Fc)]]:["filter-in-small",J,["literal",da]]}}function va(J){switch(J){case "$type":return!0;case "$id":return["filter-has-id"];default:return["filter-has",J]}}function Ca(J){return["!",J]}function $a(J,da){var La={},db;for(db in J)"ref"!==db&&(La[db]=J[db]);Uf.forEach(function(Db){Db in da&&(La[Db]=da[Db])});return La}function jb(J){J=J.slice();for(var da=Object.create(null),La=0;La<J.length;La++)da[J[La].id]=J[La];for(La=0;La<J.length;La++)"ref"in J[La]&&(J[La]=$a(J[La],da[J[La].ref]));return J}
function yb(J){return 0!==J.indexOf("mapbox://")?"":J.slice(9)}function Ub(J,da,La){var db=yb(J);if(!db)return decodeURI((new URL(J,La)).href);if(0!==db.indexOf("sprites/"))throw Error("unexpected sprites url: "+J);J=db.slice(8);return Ig+"/styles/v1/"+J+"/sprite?access_token\x3d"+da}function Tb(J,da){var La=yb(J);if(!La)return decodeURI((new URL(J,location.href)).href);if(0!==La.indexOf("styles/"))throw Error("unexpected style url: "+J);J=La.slice(7);return Ig+"/styles/v1/"+J+"?\x26access_token\x3d"+
da}function Vb(J,da,La,db){db=new URL(J,db);J=yb(J);if(!J){if(!da)return decodeURI(db.href);db.searchParams.set(La,da);return decodeURI(db.href)}return"https://{a-d}.tiles.mapbox.com/v4/"+J+"/{z}/{x}/{y}.vector.pbf?access_token\x3d"+da}function Ic(J,da){if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas)return new OffscreenCanvas(J,da);var La=document.createElement("canvas");La.width=J;La.height=da;return La}function $c(J,da){for(var La=
0,db=da.length;La<db;++La)if(da[La]<J&&La+1<db)return La+Math.log(da[La]/J)/Math.log(da[La]/da[La+1]);return db-1}function dd(J,da,La){void 0===La&&(La={});if(da in Wa)return Wa[da];J=La.transformRequest?La.transformRequest(da,J)||new Request(da):new Request(da);J.headers.get("Accept")||J.headers.set("Accept","application/json");J=fetch(J).then(function(db){delete Wa[da];return db.ok?db.json():Promise.reject(Error("Error fetching source "+da))}).catch(function(db){delete Wa[da];return Promise.reject(Error("Error fetching source "+
da))});return Wa[da]=J}function nd(J,da){if("string"===typeof J)if(J.trim().startsWith("{"))try{var La=JSON.parse(J);return Promise.resolve(La)}catch(db){return Promise.reject(db)}else return J=Tb(J,da.accessToken),dd("Style",J,da);else return Promise.resolve(J)}function xd(J,da,La){void 0===La&&(La={});var db=[da,JSON.stringify(J)].toString(),Db=Cb[db];if(!Db||La.transformRequest){if((Db=J.url)&&!J.tiles){var Sb=Vb(Db,La.accessToken,La.accessTokenParam||"access_token",da||location.href);Db=Db.startsWith("mapbox://")?
Promise.resolve(Object.assign({},J,{url:void 0,tiles:Sb})):dd("Source",Sb,La).then(function(Cc){for(var Zc=0,Xc=Cc.tiles.length;Zc<Xc;++Zc){var td=Cc.tiles[Zc];if(La.transformRequest){var ae=La.transformRequest(Sb,"Source");ae&&(Sb=ae.url)}td=Vb(td,La.accessToken,La.accessTokenParam||"access_token",Sb);La.transformRequest&&(ae=La.transformRequest(td,"Tiles"),ae instanceof Request&&(td=decodeURI(ae.url)));Cc.tiles[Zc]=td}return Promise.resolve(Cc)})}else J=Object.assign({},J,{tiles:J.tiles.map(function(Cc){return Vb(Cc,
La.accessToken,La.accessTokenParam||"access_token",da||location.href)})}),Db=Promise.resolve(Object.assign({},J));Cb[db]=Db}return Db}function Nd(J,da){if(.05<=da){var La="";J=J.split("\n");da=hc.slice(0,Math.round(da/.1));for(var db=0,Db=J.length;db<Db;++db)0<db&&(La+="\n"),La+=J[db].split("").join(da);return La}return J}function Xd(){yd||(yd=Ic(1,1).getContext("2d"));return yd}function ge(J,da){return Xd().measureText(J).width+(J.length-1)*da}function le(J,da,La,db){if(-1!==J.indexOf("\n")){var Db=
J.split("\n"),Sb=[];J=0;for(var Cc=Db.length;J<Cc;++J)Sb.push(le(Db[J],da,La,db));return Sb.join("\n")}Db=La+","+da+","+J+","+db;Sb=Dd[Db];if(!Sb){Sb=J.split(" ");if(1<Sb.length){J=Xd();J.font=da;da=J.measureText("M").width*La;J="";La=[];Cc=0;for(var Zc=Sb.length;Cc<Zc;++Cc){var Xc=Sb[Cc],td=J+(J?" ":"")+Xc;ge(td,db)<=da?J=td:(J&&La.push(J),J=Xc)}J&&La.push(J);Sb=0;for(J=La.length;Sb<J&&1<J;++Sb)Cc=La[Sb],ge(Cc,db)<.35*da&&(Zc=0<Sb?ge(La[Sb-1],db):Infinity,Xc=Sb<J-1?ge(La[Sb+1],db):Infinity,La.splice(Sb,
1),--J,Zc<Xc?(La[Sb-1]+=" "+Cc,--Sb):La[Sb]=Cc+" "+La[Sb]);Sb=0;for(J=La.length-1;Sb<J;++Sb)Zc=La[Sb],Cc=La[Sb+1],ge(Zc,db)>.7*da&&ge(Cc,db)<.6*da&&(Zc=Zc.split(" "),Xc=Zc.pop(),ge(Xc,db)<.2*da&&(La[Sb]=Zc.join(" "),La[Sb+1]=Xc+" "+Cc),--J);Sb=La.join("\n")}else Sb=J;Sb=Nd(Sb,db);Dd[Db]=Sb}return Sb}function qe(J){var da=J.toString();if(da in Wg)return Wg[da];for(var La=[],db=0,Db=J.length;db<Db;++db){J[db]=J[db].replace("Arial Unicode MS","Arial");var Sb=Ng(J[db],1);(0,rc.registerFont)(Sb);Sb=Sb.split(" ");
La.push([Sb.slice(3).join(" ").replace(/"/g,""),Sb[1],Sb[0]])}db=0;for(Db=La.length;db<Db;++db){Sb=La[db];var Cc=Sb[0],Zc=Cc;if(!uf){uf={};for(var Xc=document.styleSheets,td=0,ae=Xc.length;td<ae;++td){var we=Xc[td];try{var bf=we.rules||we.cssRules;if(bf){we=0;for(var zf=bf.length;we<zf;++we){var Mf=bf[we];if(5==Mf.type){var Oe=Mf.cssText.match(ne);uf[Oe[1].replace(of,"")]=!0}}}}catch(Qf){}}}Zc in uf||100===rc.checkedFonts.get(Sb[2]+"\n"+Sb[1]+" \n"+Cc)||(Sb="https://fonts.googleapis.com/css?family\x3d"+
Cc.replace(/ /g,"+")+":"+Sb[1]+Sb[2],document.querySelector('link[href\x3d"'+Sb+'"]')||(Cc=document.createElement("link"),Cc.href=Sb,Cc.rel="stylesheet",document.head.appendChild(Cc)))}return Wg[da]=J}function wd(J,da,La,db,Db,Sb,Cc){var Zc=J.id;Sb||(Sb={},console.warn("No functionCache provided to getValue()"));Sb[Zc]||(Sb[Zc]={});Sb=Sb[Zc];if(!Sb[La]){var Xc=(J[da]||qh)[La];J=vg[da+"_"+J.type][La];void 0===Xc&&(Xc=J.default);da=$b(Xc);!da&&Mb(Xc)&&(Xc=e(Xc,J),da=!0);da?(J=Fh(Xc,J),Sb[La]=J.evaluate.bind(J)):
("color"==J.type&&(Xc=Gd.parse(Xc)),Sb[La]=function(){return Xc})}wg.zoom=db;return Sb[La](wg,Db,Cc)}function qf(J,da,La,db){return wd(J,"layout","icon-allow-overlap",da,La,db)?wd(J,"layout","icon-ignore-placement",da,La,db)?"none":"obstacle":"declutter"}function gf(J,da,La,db,Db){Db||console.warn("No filterCache provided to evaluateFilter()");J in Db||(Db[J]=Hb(da).filter);wg.zoom=db;return Db[J](wg,La)}function te(J,da){if(J){if(!rh&&(0===J.a||0===da))return;var La=J.a;return 0===La?"transparent":
"rgba("+Math.round(255*J.r/La)+","+Math.round(255*J.g/La)+","+Math.round(255*J.b/La)+","+La*(void 0===da?1:da)+")"}return J}function We(J,da){return J.replace(Lh,function(La){return da[La.slice(1,-1)]||""})}function za(J,da,La,db,Db,Sb,Cc){void 0===db&&(db=Jg);void 0===Db&&(Db=void 0);void 0===Sb&&(Sb=void 0);void 0===Cc&&(Cc=void 0);"string"==typeof da&&(da=JSON.parse(da));if(8!=da.version)throw Error("glStyle version 8 required.");var Zc,Xc;if(Sb)if("undefined"!==typeof Image){var td=new Image;
td.crossOrigin="anonymous";td.onload=function(){Zc=td;Xc=[td.width,td.height];J.changed();td.onload=null};td.src=Sb}else if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var ae=self;ae.postMessage({action:"loadImage",src:Sb});ae.addEventListener("message",function(zh){"imageLoaded"===zh.data.action&&zh.data.src===Sb&&(Zc=zh.data.image,Xc=[Zc.width,Zc.height])})}var we=jb(da.layers),bf={};ae=[];for(var zf={},Mf={},Oe={},Qf={},qg,jh=0,ch=we.length;jh<ch;++jh){var dg=we[jh],
Bf=dg.id;if("string"==typeof La&&dg.source==La||-1!==La.indexOf(Bf)){var jg=dg["source-layer"];if(!qg){qg=dg.source;var bg=da.sources[qg];if(!bg)throw Error('Source "'+qg+'" is not defined');bg=bg.type;if("vector"!==bg&&"geojson"!==bg)throw Error('Source "'+qg+'" is not of type "vector" or "geojson", but "'+bg+'"');}else if(dg.source!==qg)throw Error('Layer "'+Bf+'" does not use source "'+qg);bg=bf[jg];bg||(bg=[],bf[jg]=bg);bg.push({layer:dg,index:jh});ae.push(Bf)}}var rg=new Re.default,wh=new re.default,
Og=[];da=function(zh,ri){var Zh=zh.getProperties(),$h=bf[Zh.layer];if($h){var ef=db.indexOf(ri);-1==ef&&(ef=$c(ri,db));for(var Ch=Vf[zh.getGeometry().getType()],hf={properties:Zh,type:Ch},jf=J.get("mapbox-featurestate")[zh.getId()],Pg=-1,Nh,Yh=0,ai=$h.length;Yh<ai;++Yh){var dh=$h[Yh],ue=dh.layer,Je=ue.id,Df=ue.layout||qh,Pe=ue.paint||qh;if(!("none"===Df.visibility||"minzoom"in ue&&ef<ue.minzoom||"maxzoom"in ue&&ef>=ue.maxzoom)){var eg=ue.filter;if(!eg||gf(Je,eg,hf,ef,Qf)){Nh=ue;var fg=void 0,ff=eg=
void 0,Da=ff=void 0;Je=void 0;dh=dh.index;if(3==Ch&&("fill"==ue.type||"fill-extrusion"==ue.type))if(eg=wd(ue,"paint",ue.type+"-opacity",ef,hf,Oe,jf),ue.type+"-pattern"in Pe){if(ff=wd(ue,"paint",ue.type+"-pattern",ef,hf,Oe,jf))if(Da="string"===typeof ff?We(ff,Zh):ff.toString(),Zc&&Db&&Db[Da]){++Pg;Je=Og[Pg];if(!Je||!Je.getFill()||Je.getStroke()||Je.getText())Je=new af.default({fill:new re.default}),Og[Pg]=Je;ff=Je.getFill();Je.setZIndex(dh);fg=Da+"."+eg;var ab=Mf[fg];if(!ab){Da=Db[Da];ab=Ic(Da.width,
Da.height);var xb=ab.getContext("2d");xb.globalAlpha=eg;xb.drawImage(Zc,Da.x,Da.y,Da.width,Da.height,0,0,Da.width,Da.height);ab=xb.createPattern(ab,"repeat");Mf[fg]=ab}ff.setColor(ab)}}else if(fg=te(wd(ue,"paint",ue.type+"-color",ef,hf,Oe,jf),eg),ue.type+"-outline-color"in Pe&&(Da=te(wd(ue,"paint",ue.type+"-outline-color",ef,hf,Oe,jf),eg)),Da||(Da=fg),fg||Da){++Pg;Je=Og[Pg];if(!Je||fg&&!Je.getFill()||!fg&&Je.getFill()||Da&&!Je.getStroke()||!Da&&Je.getStroke()||Je.getText())Je=new af.default({fill:fg?
new re.default:void 0,stroke:Da?new Re.default:void 0}),Og[Pg]=Je;fg&&(ff=Je.getFill(),ff.setColor(fg));Da&&(ff=Je.getStroke(),ff.setColor(Da),ff.setWidth(.5));Je.setZIndex(dh)}if(1!=Ch&&"line"==ue.type){fg=!("line-pattern"in Pe)&&"line-color"in Pe?te(wd(ue,"paint","line-color",ef,hf,Oe,jf),wd(ue,"paint","line-opacity",ef,hf,Oe,jf)):void 0;var Lb=wd(ue,"paint","line-width",ef,hf,Oe,jf);if(fg&&0<Lb){++Pg;Je=Og[Pg];if(!Je||!Je.getStroke()||Je.getFill()||Je.getText())Je=new af.default({stroke:new Re.default}),
Og[Pg]=Je;ff=Je.getStroke();ff.setLineCap(wd(ue,"layout","line-cap",ef,hf,Oe,jf));ff.setLineJoin(wd(ue,"layout","line-join",ef,hf,Oe,jf));ff.setMiterLimit(wd(ue,"layout","line-miter-limit",ef,hf,Oe,jf));ff.setColor(fg);ff.setWidth(Lb);ff.setLineDash(Pe["line-dasharray"]?wd(ue,"paint","line-dasharray",ef,hf,Oe,jf).map(function(He){return He*Lb}):null);Je.setZIndex(dh)}}Da=!1;ff=null;xb=0;var pc=void 0;fg=ab=void 0;if((1==Ch||2==Ch)&&"icon-image"in Df){var sc=wd(ue,"layout","icon-image",ef,hf,Oe,jf);
if(sc&&(pc="string"===typeof sc?We(sc,Zh):sc.toString(),sc=void 0,Zc&&Db&&Db[pc])){var Vc=wd(ue,"layout","icon-rotation-alignment",ef,hf,Oe,jf);if(2==Ch){var pa=zh.getGeometry();if(pa.getFlatMidpoint||pa.getFlatMidpoints){var Qa=pa.getExtent();if(150<Math.sqrt(Math.max(Math.pow((Qa[2]-Qa[0])/ri,2),Math.pow((Qa[3]-Qa[1])/ri,2)))&&(Qa="MultiLineString"===pa.getType()?pa.getFlatMidpoints():pa.getFlatMidpoint(),oh||(Ug=[NaN,NaN],oh=new Ge.default("Point",Ug,[],{},null)),sc=oh,Ug[0]=Qa[0],Ug[1]=Qa[1],
"line"===wd(ue,"layout","symbol-placement",ef,hf,Oe,jf)&&"map"===Vc)){var mb=pa.getStride();pa=pa.getFlatCoordinates();for(var pb=0,gc=pa.length-mb;pb<gc;pb+=mb){var Qc=pa[pb],Yc=pa[pb+1],Bd=pa[pb+mb],Tc=pa[pb+mb+1],Sd=Math.min(Yc,Tc),Td=Math.max(Qc,Bd),De=Math.max(Yc,Tc);if(Qa[0]>=Math.min(Qc,Bd)&&Qa[0]<=Td&&Qa[1]>=Sd&&Qa[1]<=De){xb=Math.atan2(Yc-Tc,Bd-Qc);break}}}}}if(2!==Ch||sc){if(Qa=wd(ue,"layout","icon-size",ef,hf,Oe,jf),mb=void 0!==Pe["icon-color"]?wd(ue,"paint","icon-color",ef,hf,Oe,jf):null,
mb&&0===mb.a||(pa=pc+"."+Qa,null!==mb&&(pa+="."+mb),ab=zf[pa],ab||(ab=Db[pc],pc=qf(ue,ef,hf,Oe),pb=void 0,"icon-offset"in Df&&(pb=wd(ue,"layout","icon-offset",ef,hf,Oe,jf),pb[1]*=-1),ab=new vf.default({color:mb?[255*mb.r,255*mb.g,255*mb.b,mb.a]:void 0,img:Zc,imgSize:Xc,size:[ab.width,ab.height],offset:[ab.x,ab.y],rotateWithView:"map"===Vc,scale:Qa/ab.pixelRatio,displacement:pb,declutterMode:pc}),zf[pa]=ab)),ab){++Pg;Je=Og[Pg];if(!Je||!Je.getImage()||Je.getFill()||Je.getStroke())Je=new af.default,
Og[Pg]=Je;Je.setGeometry(sc);ab.setRotation(xb+wd(ue,"layout","icon-rotate",ef,hf,Oe,jf)*Math.PI/180);ab.setOpacity(wd(ue,"paint","icon-opacity",ef,hf,Oe,jf));ab.setAnchor(Xg[wd(ue,"layout","icon-anchor",ef,hf,Oe,jf)]);Je.setImage(ab);ff=Je.getText();Je.setText(void 0);Je.setZIndex(dh);Da=!0;fg=!1}}else fg=!0}}if(1==Ch&&"circle"===ue.type){++Pg;Je=Og[Pg];if(!Je||!Je.getImage()||Je.getFill()||Je.getStroke())Je=new af.default,Og[Pg]=Je;ff="circle-radius"in Pe?wd(ue,"paint","circle-radius",ef,hf,Oe,
jf):5;Pe=te(wd(ue,"paint","circle-stroke-color",ef,hf,Oe,jf),wd(ue,"paint","circle-stroke-opacity",ef,hf,Oe,jf));Da=te(wd(ue,"paint","circle-color",ef,hf,Oe,jf),wd(ue,"paint","circle-opacity",ef,hf,Oe,jf));xb=wd(ue,"paint","circle-stroke-width",ef,hf,Oe,jf);sc=ff+"."+Pe+"."+Da+"."+xb;ab=zf[sc];ab||(ab=new Ce.default({radius:ff,stroke:Pe&&0<xb?new Re.default({width:xb,color:Pe}):void 0,fill:Da?new re.default({color:Da}):void 0,declutterMode:"none"}),zf[sc]=ab);Je.setImage(ab);ff=Je.getText();Je.setText(void 0);
Je.setGeometry(void 0);Je.setZIndex(dh);Da=!0}var tf=ab=Pe=void 0,Ze=void 0,df=void 0,Bg=void 0;if("text-field"in Df){Ze=Math.round(wd(ue,"layout","text-size",ef,hf,Oe,jf));var gg=wd(ue,"layout","text-font",ef,hf,Oe,jf);tf=wd(ue,"layout","text-line-height",ef,hf,Oe,jf);ab=Ng(Cc?Cc(gg):gg,Ze,tf);ab.includes("sans-serif")||(ab+=",sans-serif");df=wd(ue,"layout","text-letter-spacing",ef,hf,Oe,jf);Bg=wd(ue,"layout","text-max-width",ef,hf,Oe,jf);eg=wd(ue,"layout","text-field",ef,hf,Oe,jf);Pe="object"===
typeof eg&&eg.sections?1===eg.sections.length?eg.toString():eg.sections.reduce(function(He,pf,Hf){Hf=pf.fontStack?pf.fontStack.split(","):gg;Hf=Ng(Cc?Cc(Hf):Hf,Ze*(pf.scale||1),tf);pf=pf.text;if("\n"===pf)return He.push("\n",""),He;if(2==Ch)He.push(Nd(pf,df),Hf);else{pf=le(pf,Hf,Bg,df).split("\n");for(var mg=0,ci=pf.length;mg<ci;++mg)0<mg&&He.push("\n",""),He.push(pf[mg],Hf);return He}},[]):We(eg,Zh).trim();eg=wd(ue,"paint","text-opacity",ef,hf,Oe,jf)}if(Pe&&eg&&!fg){if(!Da){++Pg;Je=Og[Pg];if(!Je||
!Je.getText()||Je.getFill()||Je.getStroke())Je=new af.default,Og[Pg]=Je;Je.setImage(void 0);Je.setGeometry(void 0)}Je.getText()||Je.setText(ff||new Qb.default({padding:[2,2,2,2]}));ff=Je.getText();Df=Df["text-transform"];"uppercase"==Df?Pe=Array.isArray(Pe)?Pe.map(function(He,pf){return pf%2?He:He.toUpperCase()}):Pe.toUpperCase():"lowercase"==Df&&(Pe=Array.isArray(Pe)?Pe.map(function(He,pf){return pf%2?He:He.toLowerCase()}):Pe.toLowerCase());Vc=Array.isArray(Pe)?Pe:2==Ch?Nd(Pe,df):le(Pe,ab,Bg,df);
ff.setText(Vc);ff.setFont(ab);ff.setRotation(wd(ue,"layout","text-rotate",ef,hf,Oe,jf)*Math.PI/180);fg=wd(ue,"layout","text-anchor",ef,hf,Oe,jf);pc=Da||1==Ch?"point":wd(ue,"layout","symbol-placement",ef,hf,Oe,jf);ff.setPlacement(pc);ff.setOverflow("point"===pc);Df=wd(ue,"paint","text-halo-width",ef,hf,Oe,jf);Da=wd(ue,"layout","text-offset",ef,hf,Oe,jf);ab=wd(ue,"paint","text-translate",ef,hf,Oe,jf);sc=xb=0;"point"==pc?(Pe="center",-1!==fg.indexOf("left")?(Pe="left",sc=Df):-1!==fg.indexOf("right")&&
(Pe="right",sc=-Df),ff.setTextAlign(Pe),Pe=wd(ue,"layout","text-rotation-alignment",ef,hf,Oe,jf),ff.setRotateWithView("map"==Pe)):(ff.setMaxAngle(wd(ue,"layout","text-max-angle",ef,hf,Oe,jf)*Math.PI/180*Pe.length/Vc.length),ff.setTextAlign(),ff.setRotateWithView(!1));Pe="middle";0==fg.indexOf("bottom")?(Pe="bottom",xb=-Df-.5*(tf-1)*Ze):0==fg.indexOf("top")&&(Pe="top",xb=Df+.5*(tf-1)*Ze);ff.setTextBaseline(Pe);Pe=wd(ue,"layout","text-justify",ef,hf,Oe,jf);ff.setJustify("auto"===Pe?void 0:Pe);ff.setOffsetX(Da[0]*
Ze+sc+ab[0]);ff.setOffsetY(Da[1]*Ze+xb+ab[1]);wh.setColor(te(wd(ue,"paint","text-color",ef,hf,Oe,jf),eg));ff.setFill(wh);(eg=te(wd(ue,"paint","text-halo-color",ef,hf,Oe,jf),eg))?(rg.setColor(eg),Df*=2,eg=.5*Ze,rg.setWidth(Df<=eg?Df:eg),ff.setStroke(rg)):ff.setStroke(void 0);ue=wd(ue,"layout","text-padding",ef,hf,Oe,jf);eg=ff.getPadding();ue!==eg[0]&&(eg[0]=ue,eg[1]=ue,eg[2]=ue,eg[3]=ue);Je.setZIndex(dh)}}}}if(-1<Pg)return Og.length=Pg+1,vh&&("function"===typeof zh.set?zh.set("mapbox-layer",Nh):zh.getProperties()["mapbox-layer"]=
Nh),Og}};J.setStyle(da);J.set("mapbox-source",qg);J.set("mapbox-layers",ae);J.set("mapbox-featurestate",{});return da}function Za(J,da){da.accessToken||(da=Object.assign({},da),(new URL(J)).searchParams.forEach(function(La,db){da.accessToken=La;da.accessTokenParam=db}));return da}function tb(J,da,La,db,Db){void 0===La&&(La="");void 0===db&&(db={});void 0===Db&&(Db=void 0);var Sb;if("string"===typeof db){var Cc=db;var Zc={}}else Cc=db.styleUrl,Zc=db;Db||(Db=Zc.resolutions);Cc||"string"!==typeof da||
da.trim().startsWith("{")||(Cc=da);Cc&&(Cc=Cc.startsWith("data:")?location.href:Tb(Cc,Zc.accessToken),Zc=Za(Cc,Zc));return new Promise(function(Xc,td){nd(da,Zc).then(function(ae){function we(){if(J instanceof qc.default)return Dc(ae.sources[Sb],Cc,Zc).then(function(bg){var rg=J.getSource();rg?bg!==rg&&(rg.setTileUrlFunction(bg.getTileUrlFunction()),rg.format_||(rg.format_=bg.format_),rg.getAttributions()||rg.setAttributions(bg.getAttributions()),rg.getTileLoadFunction()===rb.defaultLoadFunction&&
rg.setTileLoadFunction(bg.getTileLoadFunction()),(0,Uc.equivalent)(rg.getProjection(),bg.getProjection())&&(rg.tileGrid=bg.getTileGrid())):J.setSource(bg);isFinite(J.getMaxResolution())||isFinite(J.getMinZoom())||(bg=J.getSource().getTileGrid(),J.setMaxResolution(bg.getResolution(bg.getMinZoom())))});var Bf=ae.sources[Sb],jg=J.getSource();jg&&jg.get("mapbox-source")===Bf||(jg=rd(Bf,Cc,Zc));Bf=J.getSource();Bf?jg!==Bf&&(Bf.getAttributions()||Bf.setAttributions(jg.getAttributions()),Bf.format_||(Bf.format_=
jg.getFormat()),Bf.url_=jg.getUrl()):J.setSource(jg);return Promise.resolve()}function bf(){Qf||ae.sprite&&!Mf?Qf?(J.setStyle(Qf),we().then(Xc).catch(td)):td(Error("Something went wrong trying to apply style.")):(Qf=za(J,ae,La,Db,Mf,Oe,qe),J.getStyle()?we().then(Xc).catch(td):td(Error("Nothing to show for source ["+Sb+"]")))}if(8!=ae.version)return td(Error("glStyle version 8 required."));if(!(J instanceof tc.default||J instanceof qc.default))return td(Error("Can only apply to VectorLayer or VectorTileLayer"));
var zf=J instanceof qc.default?"vector":"geojson";La?Sb=Array.isArray(La)?ae.layers.find(function(Bf){return Bf.id===La[0]}).source:La:La=Sb=Object.keys(ae.sources).find(function(Bf){return ae.sources[Bf].type===zf});if(!Sb)return td(Error("No "+zf+" source found in the glStyle."));var Mf,Oe,Qf;if(ae.sprite){var qg=new URL(Ub(ae.sprite,Zc.accessToken,Cc||location.href));var jh=1.5<=window.devicePixelRatio?.5:1;var ch=.5==jh?"@2x":"",dg=qg.origin+qg.pathname+ch+".json"+qg.search;(new Promise(function(Bf,
jg){dd("Sprite",dg,Zc).then(Bf).catch(function(bg){dg=qg.origin+qg.pathname+".json"+qg.search;dd("Sprite",dg,Zc).then(Bf).catch(jg)})})).then(function(Bf){void 0===Bf&&td(Error("No sprites found."));Mf=Bf;Oe=qg.origin+qg.pathname+ch+".png"+qg.search;Zc.transformRequest&&(Bf=Zc.transformRequest(Oe,"SpriteImage"),Bf instanceof Request&&(Oe=encodeURI(Bf.url)));bf()}).catch(function(Bf){td(Error("Sprites cannot be loaded: "+dg+": "+Bf.message))})}else bf()}).catch(td)})}function Jb(J,da,La){function db(Xc){Xc.frameState.time!==
Cc&&(Cc=Xc.frameState.time,Zc=!1);if(!Zc){if(!(Xc.context instanceof CanvasRenderingContext2D))throw Error("Cannot apply background to WebGL context");var td=Xc.frameState.viewState.resolution;var ae=da.layout||{};var we=da.paint||{};Db.paint=we;td=$c(td,La.resolutions||Jg);var bf,zf;void 0!==we["background-color"]&&(bf=wd(Db,"paint","background-color",td,Eh,Sb));void 0!==we["background-opacity"]&&(zf=wd(Db,"paint","background-opacity",td,Eh,Sb));if(ae="none"==ae.visibility?void 0:te(bf,zf))we=Xc.context,
bf=we.globalAlpha,we.globalAlpha=1,we.fillStyle=ae,we.fillRect(0,0,Xc.context.canvas.width,Xc.context.canvas.height),we.globalAlpha=bf;Zc=!0}}var Db={id:da.id,type:da.type},Sb={},Cc=0,Zc=!1;if("function"===typeof J.getLayers)J=J.getLayers(),J.forEach(function(Xc){Xc.on("prerender",db)}),J.on("add",function(Xc){Xc.element.on("prerender",db)}),J.on("remove",function(Xc){Xc.element.un("prerender",db)});else J.on("prerender",db)}function fc(J,da,La){da.layers.some(function(db){if("background"===db.type)return Jb(J,
db,La),!0})}function nc(J,da){var La;J.some(function(db){if(db.id==da)return La=db.source,!0});return La}function Hc(J){var da=J.bounds;if(da)return J=(0,Uc.fromLonLat)([da[0],da[1]]),da=(0,Uc.fromLonLat)([da[2],da[3]]),[J[0],J[1],da[0],da[1]]}function Dc(J,da,La){return new Promise(function(db,Db){xd(J,da,La).then(function(Sb){var Cc=new zb.default({tileJSON:Sb}),Zc=Cc.getTileJSON(),Xc=Cc.getTileGrid(),td=Hc(Zc),ae=Zc.minzoom||0,we=Zc.maxzoom||22;Cc={attributions:Cc.getAttributions(),format:new Ad.default,
tileGrid:new Xa.default({origin:Xc.getOrigin(0),extent:td||Xc.getExtent(),minZoom:ae,resolutions:Jg.slice(0,we+1),tileSize:512})};Array.isArray(Zc.tiles)?Cc.urls=Zc.tiles:Cc.url=Zc.tiles;Sb.olSourceOptions&&Object.assign(Cc,Sb.olSourceOptions);db(new rb.default(Cc))}).catch(Db)})}function lc(J,da,La){var db=new qc.default({declutter:!0,visible:!1});Dc(J,da,La).then(function(Db){Db.set("mapbox-source",J);db.setSource(Db)}).catch(function(Db){db.setSource(void 0)});return db}function ld(J,da,La){var db=
new Xb.default;xd(J,da,La).then(function(Db){var Sb=new zb.default({transition:0,crossOrigin:"anonymous",tileJSON:Db}),Cc=Hc(Db),Zc=Sb.getTileGrid(),Xc=J.tileSize||Db.tileSize||512,td=Db.minzoom||0;Db=Db.maxzoom||22;Sb.tileGrid=new Xa.default({origin:Zc.getOrigin(0),extent:Cc||Zc.getExtent(),minZoom:td,resolutions:(0,ic.createXYZ)({maxZoom:Db,tileSize:Xc}).getResolutions(),tileSize:Xc});var ae=Sb.getTileUrlFunction();Sb.setTileUrlFunction(function(we,bf,zf){bf=ae(we,bf,zf);-1!=bf.indexOf("{bbox-epsg-3857}")&&
(we=Sb.getTileGrid().getTileCoordExtent(we),bf=bf.replace("{bbox-epsg-3857}",we.toString()));return bf});Sb.set("mapbox-source",J);db.setSource(Sb)}).catch(function(Db){db.setSource(void 0)});return db}function rd(J,da,La){var db=J.data,Db={};"string"==typeof db?(da=Vb(db,La.accessToken,La.accessTokenParam||"access_token",da||location.href),La.transformRequest&&(La=La.transformRequest(da,"GeoJSON"),La instanceof Request&&(da=encodeURI(La.url))),Db.url=da):Db.features=Kg.readFeatures(db,{featureProjection:(0,Uc.getUserProjection)()||
"EPSG:3857"});Db=new gd.default(Object.assign({attributions:J.attribution,format:Kg},Db));Db.set("mapbox-source",J);return Db}function Hd(J,da,La){var db=null;return function(Db){Db.frameState.viewState.zoom!==db&&(db=Db.frameState.viewState.zoom,Db=wd(J,"paint","raster-opacity",db,Eh,La),da.setOpacity(Db))}}function Vd(J,da,La,db){var Db=[];if(da instanceof wa.default){var Sb=da.getView();Sb.isDef()||Sb.getRotation()||Sb.getResolutions()||(Sb=new Bb.default(Object.assign(Sb.getProperties(),{maxResolution:Jg[0]})),
da.setView(Sb));"center"in J&&!Sb.getCenter()&&Sb.setCenter((0,Uc.fromLonLat)(J.center));"zoom"in J&&void 0===Sb.getZoom()&&Sb.setResolution(Jg[0]/Math.pow(2,J.zoom));Sb.getCenter()&&void 0!==Sb.getZoom()||Sb.fit(Sb.getProjection().getExtent(),{nearest:!0,size:da.getSize()})}Sb=J.layers;for(var Cc=[],Zc,Xc,td,ae,we=0,bf=Sb.length;we<bf;++we){Zc=Sb[we];td=Zc.type;if("heatmap"==td||"hillshade"==td)throw Error(td+" layers are not supported");"background"==td?Jb(da,Zc,db):(td=Zc.source||nc(Sb,Zc.ref),
td!=Xc&&(Cc.length&&(Db.push(ce(ae,Cc,J,La,da,db)),Cc=[]),Xc=J.sources[td],"vector"==Xc.type?ae=lc(Xc,La,db):"raster"==Xc.type?(ae=ld(Xc,La,db),ae.setVisible(Zc.layout?"none"!==Zc.layout.visibility:!0),ae.on("prerender",Hd(Zc,ae,{}))):"geojson"==Xc.type&&(ae=new tc.default({declutter:!0,source:rd(Xc,La,db),visible:!1})),Xc=td,ae&&ae.set("mapbox-source",Xc)),Cc.push(Zc.id))}Db.push(ce(ae,Cc,J,La,da,db));da.set("mapbox-style",J);return Promise.all(Db)}function ce(J,da,La,db,Db,Sb){void 0===Sb&&(Sb=
{});for(var Cc=24,Zc=0,Xc=La.layers,td=0,ae=Xc.length;td<ae;++td){var we=Xc[td];-1!==da.indexOf(we.id)&&(Cc=Math.min("minzoom"in we?we.minzoom:0,Cc),Zc=Math.max("maxzoom"in we?we.maxzoom:24,Zc))}return new Promise(function(bf,zf){var Mf=function(){var Qf=J.getSource();if(Qf&&"error"!==Qf.getState()){if("getTileGrid"in Qf){var qg=Qf.getTileGrid();if(qg){var jh=qg.getMinZoom();(0<Cc||0<jh)&&J.setMaxResolution(Math.min(Jg[Cc],qg.getResolution(jh))+1E-9);24>Zc&&J.setMinResolution(Jg[Zc]+1E-9)}}Qf instanceof
gd.default||Qf instanceof rb.default?tb(J,La,da,Object.assign({styleUrl:db},Sb)).then(function(){J.setVisible(!0);bf()}).catch(zf):bf()}else zf(Error("Error accessing data for source "+J.get("mapbox-source")))};J.set("mapbox-layers",da);var Oe=Db.getLayers();-1===Oe.getArray().indexOf(J)&&Oe.push(J);if(J.getSource())Mf();else J.once("change:source",Mf)})}function he(J,da){var La=[];J=J.getAllLayers();for(var db=0,Db=J.length;db<Db;++db)J[db].get("mapbox-source")===da&&La.push(J[db]);return La}Object.defineProperty(A,
"__esModule",{value:!0});A.default=A.apply=function(J,da,La){void 0===La&&(La={});if("string"===typeof J||J instanceof HTMLElement)J=new wa.default({target:J});if("string"===typeof da){var db=da.startsWith("data:")?location.href:Tb(da,La.accessToken);La=Za(db,La);var Db=new Promise(function(Sb,Cc){nd(da,La).then(function(Zc){Vd(Zc,J,db,La).then(function(){Sb(J)}).catch(Cc)}).catch(function(Zc){Cc(Error("Could not load "+da+": "+Zc.message))})})}else Db=new Promise(function(Sb,Cc){Vd(da,J,!La.styleUrl||
La.styleUrl.startsWith("data:")?location.href:Tb(La.styleUrl,La.accessToken),La).then(function(){Sb(J)}).catch(Cc)});return Db};A.applyBackground=function(J,da,La){void 0===La&&(La={});return"object"===typeof da?(fc(J,da,La),Promise.resolve()):nd(da,La).then(function(db){fc(J,db,La)})};A.applyStyle=tb;A.getFeatureState=function(J,da){J="getLayers"in J?he(J,da.source):[J];for(var La=0,db=J.length;La<db;++La){var Db=J[La].get("mapbox-featurestate");if(Db&&Db[da.id])return Db[da.id]}return null};A.getLayer=
function(J,da){J=J.getLayers().getArray();for(var La=0,db=J.length;La<db;++La){var Db=J[La].get("mapbox-layers");if(Db&&-1!==Db.indexOf(da))return J[La]}};A.getLayers=he;A.getSource=function(J,da){J=J.getLayers().getArray();for(var La=0,db=J.length;La<db;++La){var Db=J[La].getSource();if(J[La].get("mapbox-source")===da)return Db}};A.recordStyleLayer=function(J){void 0===J&&(J=!1);vh=J};A.renderTransparent=function(J){rh=J};A.setFeatureState=function(J,da,La){J="getLayers"in J?he(J,da.source):[J];
for(var db=0,Db=J.length;db<Db;++db){var Sb=J[db].get("mapbox-featurestate");if(Sb)La?Sb[da.id]=La:delete Sb[da.id],J[db].changed();else throw Error('Map or layer for source "'+da.source+'" not found.');}};A.stylefunction=za;var Ce=k(L(303)),re=k(L(298)),vf=k(L(307)),Ge=k(L(348)),Re=k(L(299)),af=k(L(304)),Qb=k(L(305)),rc=L(98),bd=k(L(353)),Ad=k(L(349)),wa=k(L(168)),Xa=k(L(196)),zb=k(L(289)),Xb=k(L(284)),tc=k(L(327)),gd=k(L(211)),qc=k(L(351)),rb=function(J,da){if(!da&&J&&J.__esModule)return J;if(null===
J||"object"!==typeof J&&"function"!==typeof J)return{default:J};if((da=w(da))&&da.has(J))return da.get(J);var La={},db=Object.defineProperty&&Object.getOwnPropertyDescriptor,Db;for(Db in J)if("default"!==Db&&Object.prototype.hasOwnProperty.call(J,Db)){var Sb=db?Object.getOwnPropertyDescriptor(J,Db):null;Sb&&(Sb.get||Sb.set)?Object.defineProperty(La,Db,Sb):La[Db]=J[Db]}La.default=J;da&&da.set(J,La);return La}(L(294)),Bb=k(L(143)),ic=L(197),Uc=L(121),Rd={transparent:[0,0,0,0],aliceblue:[240,248,255,
1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,
139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,
1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,
230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,
255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,
222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,
143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,
238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{var Md=b}catch(J){}var Gd=function(J,da,La,db){void 0===db&&(db=1);this.r=J;this.g=da;this.b=La;this.a=db};Gd.parse=function(J){if(J){if(J instanceof Gd)return J;if("string"===typeof J&&(J=Md(J)))return new Gd(J[0]/255*J[3],J[1]/255*J[3],J[2]/255*J[3],J[3])}};Gd.prototype.toString=function(){var J=this.toArray();return"rgba("+Math.round(J[0])+","+Math.round(J[1])+","+
Math.round(J[2])+","+J[3]+")"};Gd.prototype.toArray=function(){var J=this.r,da=this.g,La=this.b,db=this.a;return 0===db?[0,0,0,0]:[255*J/db,255*da/db,255*La/db,db]};Gd.prototype.toArray01=function(){var J=this.r,da=this.g,La=this.b,db=this.a;return 0===db?[0,0,0,0]:[J/db,da/db,La/db,db]};Gd.prototype.toArray01PremultipliedAlpha=function(){return[this.r,this.g,this.b,this.a]};Gd.black=new Gd(0,0,0,1);Gd.white=new Gd(1,1,1,1);Gd.transparent=new Gd(0,0,0,0);Gd.red=new Gd(1,0,0,1);Gd.blue=new Gd(0,0,
1,1);var Pd=function(J){function da(La,db){J.call(this,db);this.message=db;this.key=La}J&&(da.__proto__=J);da.prototype=Object.create(J&&J.prototype);return da.prototype.constructor=da}(Error),Le=function(J,da){void 0===da&&(da=[]);this.parent=J;this.bindings={};for(J=0;J<da.length;J+=1){var La=da[J];this.bindings[La[0]]=La[1]}};Le.prototype.concat=function(J){return new Le(this,J)};Le.prototype.get=function(J){if(this.bindings[J])return this.bindings[J];if(this.parent)return this.parent.get(J);throw Error(J+
" not found in scope.");};Le.prototype.has=function(J){return this.bindings[J]?!0:this.parent?this.parent.has(J):!1};var Se={kind:"null"},ha={kind:"number"},ob={kind:"string"},Ea={kind:"boolean"},Ib={kind:"color"},Yb={kind:"object"},kc={kind:"value"},Nc={kind:"collator"},Jc={kind:"formatted"},pd={kind:"resolvedImage"},qd=[Se,ha,ob,Ea,Ib,Jc,Yb,r(kc),pd],Yd=function(J,da,La){this.sensitivity=J?da?"variant":"case":da?"accent":"base";this.locale=La;this.collator=new Intl.Collator(this.locale?this.locale:
[],{sensitivity:this.sensitivity,usage:"search"})};Yd.prototype.compare=function(J,da){return this.collator.compare(J,da)};Yd.prototype.resolvedLocale=function(){return(new Intl.Collator(this.locale?this.locale:[])).resolvedOptions().locale};var Od=function(J,da,La,db,Db){this.text=J.normalize?J.normalize():J;this.image=da;this.scale=La;this.fontStack=db;this.textColor=Db},Jd=function(J){this.sections=J};Jd.fromString=function(J){return new Jd([new Od(J,null,null,null,null)])};Jd.prototype.isEmpty=
function(){return 0===this.sections.length?!0:!this.sections.some(function(J){return 0!==J.text.length||J.image&&0!==J.image.name.length})};Jd.factory=function(J){return J instanceof Jd?J:Jd.fromString(J)};Jd.prototype.toString=function(){return 0===this.sections.length?"":this.sections.map(function(J){return J.text}).join("")};Jd.prototype.serialize=function(){for(var J=["format"],da=0,La=this.sections;da<La.length;da+=1){var db=La[da];if(db.image)J.push(["image",db.image.name]);else{J.push(db.text);
var Db={};db.fontStack&&(Db["text-font"]=["literal",db.fontStack.split(",")]);db.scale&&(Db["font-scale"]=db.scale);db.textColor&&(Db["text-color"]=["rgba"].concat(db.textColor.toArray()));J.push(Db)}}return J};var ed=function(J){this.name=J.name;this.available=J.available};ed.prototype.toString=function(){return this.name};ed.fromString=function(J){return J?new ed({name:J,available:!1}):null};ed.prototype.serialize=function(){return["image",this.name]};var sd=function(J,da){this.type=J;this.value=
da};sd.parse=function(J,da){if(2!==J.length)return da.error("'literal' expression requires exactly one argument, but found "+(J.length-1)+" instead.");if(!M(J[1]))return da.error("invalid value");J=J[1];var La=aa(J);da=da.expectedType;"array"!==La.kind||0!==La.N||!da||"array"!==da.kind||"number"===typeof da.N&&0!==da.N||(La=da);return new sd(La,J)};sd.prototype.evaluate=function(){return this.value};sd.prototype.eachChild=function(){};sd.prototype.outputDefined=function(){return!0};sd.prototype.serialize=
function(){return"array"===this.type.kind||"object"===this.type.kind?["literal",this.value]:this.value instanceof Gd?["rgba"].concat(this.value.toArray()):this.value instanceof Jd?this.value.serialize():this.value};var wc=function(J){this.name="ExpressionEvaluationError";this.message=J};wc.prototype.toJSON=function(){return this.message};var Rc={string:ob,number:ha,boolean:Ea,object:Yb},Lc=function(J,da){this.type=J;this.args=da};Lc.parse=function(J,da){if(2>J.length)return da.error("Expected at least one argument.");
var La=1,db=J[0];if("array"===db){if(2<J.length){db=J[1];if("string"!==typeof db||!(db in Rc)||"object"===db)return da.error('The item type argument of "array" must be one of string, number, boolean',1);db=Rc[db];La++}else db=kc;if(3<J.length){if(null!==J[2]&&("number"!==typeof J[2]||0>J[2]||J[2]!==Math.floor(J[2])))return da.error('The length argument to "array" must be a positive integer literal',2);var Db=J[2];La++}Db=r(db,Db)}else Db=Rc[db];for(db=[];La<J.length;La++){var Sb=da.parse(J[La],La,
kc);if(!Sb)return null;db.push(Sb)}return new Lc(Db,db)};Lc.prototype.evaluate=function(J){for(var da=0;da<this.args.length;da++){var La=this.args[da].evaluate(J);if(!K(this.type,aa(La)))return La;if(da===this.args.length-1)throw new wc("Expected value to be of type "+y(this.type)+", but found "+y(aa(La))+" instead.");}return null};Lc.prototype.eachChild=function(J){this.args.forEach(J)};Lc.prototype.outputDefined=function(){return this.args.every(function(J){return J.outputDefined()})};Lc.prototype.serialize=
function(){var J=this.type,da=[J.kind];if("array"===J.kind){var La=J.itemType;if("string"===La.kind||"number"===La.kind||"boolean"===La.kind)da.push(La.kind),J=J.N,("number"===typeof J||1<this.args.length)&&da.push(J)}return da.concat(this.args.map(function(db){return db.serialize()}))};var ud=function(J){this.type=Jc;this.sections=J};ud.parse=function(J,da){if(2>J.length)return da.error("Expected at least one argument.");var La=J[1];if(!Array.isArray(La)&&"object"===typeof La)return da.error("First argument must be an image or text section.");
La=[];for(var db=!1,Db=1;Db<=J.length-1;++Db){var Sb=J[Db];if(db&&"object"===typeof Sb&&!Array.isArray(Sb)){db=!1;var Cc=null;if(Sb["font-scale"]&&(Cc=da.parse(Sb["font-scale"],1,ha),!Cc))return null;var Zc=null;if(Sb["text-font"]&&(Zc=da.parse(Sb["text-font"],1,r(ob)),!Zc))return null;var Xc=null;if(Sb["text-color"]&&(Xc=da.parse(Sb["text-color"],1,Ib),!Xc))return null;Sb=La[La.length-1];Sb.scale=Cc;Sb.font=Zc;Sb.textColor=Xc}else{Cc=da.parse(J[Db],1,kc);if(!Cc)return null;db=Cc.type.kind;if("string"!==
db&&"value"!==db&&"null"!==db&&"resolvedImage"!==db)return da.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");db=!0;La.push({content:Cc,scale:null,font:null,textColor:null})}}return new ud(La)};ud.prototype.evaluate=function(J){return new Jd(this.sections.map(function(da){var La=da.content.evaluate(J);return aa(La)===pd?new Od("",La,null,null,null):new Od(Y(La),null,da.scale?da.scale.evaluate(J):null,da.font?da.font.evaluate(J).join(","):null,da.textColor?da.textColor.evaluate(J):
null)}))};ud.prototype.eachChild=function(J){for(var da=0,La=this.sections;da<La.length;da+=1){var db=La[da];J(db.content);db.scale&&J(db.scale);db.font&&J(db.font);db.textColor&&J(db.textColor)}};ud.prototype.outputDefined=function(){return!1};ud.prototype.serialize=function(){for(var J=["format"],da=0,La=this.sections;da<La.length;da+=1){var db=La[da];J.push(db.content.serialize());var Db={};db.scale&&(Db["font-scale"]=db.scale.serialize());db.font&&(Db["text-font"]=db.font.serialize());db.textColor&&
(Db["text-color"]=db.textColor.serialize());J.push(Db)}return J};var kb=function(J){this.type=pd;this.input=J};kb.parse=function(J,da){return 2!==J.length?da.error("Expected two arguments."):(J=da.parse(J[1],1,ob))?new kb(J):da.error("No image name provided.")};kb.prototype.evaluate=function(J){var da=this.input.evaluate(J),La=ed.fromString(da);La&&J.availableImages&&(La.available=-1<J.availableImages.indexOf(da));return La};kb.prototype.eachChild=function(J){J(this.input)};kb.prototype.outputDefined=
function(){return!1};kb.prototype.serialize=function(){return["image",this.input.serialize()]};var Gb={"to-boolean":Ea,"to-color":Ib,"to-number":ha,"to-string":ob},Pb=function(J,da){this.type=J;this.args=da};Pb.parse=function(J,da){if(2>J.length)return da.error("Expected at least one argument.");var La=J[0];if(("to-boolean"===La||"to-string"===La)&&2!==J.length)return da.error("Expected one argument.");La=Gb[La];for(var db=[],Db=1;Db<J.length;Db++){var Sb=da.parse(J[Db],Db,kc);if(!Sb)return null;
db.push(Sb)}return new Pb(La,db)};Pb.prototype.evaluate=function(J){if("boolean"===this.type.kind)return!!this.args[0].evaluate(J);if("color"===this.type.kind){for(var da,La,db=0,Db=this.args;db<Db.length;db+=1){da=Db[db].evaluate(J);La=null;if(da instanceof Gd)return da;if("string"===typeof da){var Sb=J.parseColor(da);if(Sb)return Sb}else if(Array.isArray(da)&&(La=3>da.length||4<da.length?"Invalid rbga value "+JSON.stringify(da)+": expected an array containing either three or four numeric values.":
ca(da[0],da[1],da[2],da[3]),!La))return new Gd(da[0]/255,da[1]/255,da[2]/255,da[3])}throw new wc(La||"Could not parse color from value '"+("string"===typeof da?da:String(JSON.stringify(da)))+"'");}if("number"===this.type.kind){da=null;La=0;for(db=this.args;La<db.length;La+=1){da=db[La].evaluate(J);if(null===da)return 0;Db=Number(da);if(!isNaN(Db))return Db}throw new wc("Could not convert "+JSON.stringify(da)+" to number.");}return"formatted"===this.type.kind?Jd.fromString(Y(this.args[0].evaluate(J))):
"resolvedImage"===this.type.kind?ed.fromString(Y(this.args[0].evaluate(J))):Y(this.args[0].evaluate(J))};Pb.prototype.eachChild=function(J){this.args.forEach(J)};Pb.prototype.outputDefined=function(){return this.args.every(function(J){return J.outputDefined()})};Pb.prototype.serialize=function(){if("formatted"===this.type.kind)return(new ud([{content:this.args[0],scale:null,font:null,textColor:null}])).serialize();if("resolvedImage"===this.type.kind)return(new kb(this.args[0])).serialize();var J=
["to-"+this.type.kind];this.eachChild(function(da){J.push(da.serialize())});return J};var bc=["Unknown","Point","LineString","Polygon"],fa=function(){this.formattedSection=this.featureState=this.feature=this.globals=null;this._parseColorCache={};this.featureDistanceData=this.featureTileCoord=this.canonical=this.availableImages=null};fa.prototype.id=function(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null};fa.prototype.geometryType=function(){return this.feature?"number"===
typeof this.feature.type?bc[this.feature.type]:this.feature.type:null};fa.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null};fa.prototype.canonicalID=function(){return this.canonical};fa.prototype.properties=function(){return this.feature&&this.feature.properties||{}};fa.prototype.distanceFromCenter=function(){if(this.featureTileCoord&&this.featureDistanceData){var J=this.featureDistanceData.center,da=this.featureDistanceData.scale,La=this.featureTileCoord;
return this.featureDistanceData.bearing[0]*(La.x*da-J[0])+this.featureDistanceData.bearing[1]*(La.y*da-J[1])}return 0};fa.prototype.parseColor=function(J){var da=this._parseColorCache[J];da||(da=this._parseColorCache[J]=Gd.parse(J));return da};var Ia=function(J,da,La,db){this.name=J;this.type=da;this._evaluate=La;this.args=db};Ia.prototype.evaluate=function(J){return this._evaluate(J,this.args)};Ia.prototype.eachChild=function(J){this.args.forEach(J)};Ia.prototype.outputDefined=function(){return!1};
Ia.prototype.serialize=function(){return[this.name].concat(this.args.map(function(J){return J.serialize()}))};Ia.parse=function(J,da){var La,db=J[0],Db=Ia.definitions[db];if(!Db)return da.error('Unknown expression "'+db+'". If you wanted a literal array, use ["literal", [...]].',0);var Sb=Array.isArray(Db)?Db[0]:Db.type;Db=Array.isArray(Db)?[[Db[1],Db[2]]]:Db.overloads;for(var Cc=Db.filter(function(Qf){Qf=Qf[0];return!Array.isArray(Qf)||Qf.length===J.length-1}),Zc=null,Xc=0;Xc<Cc.length;Xc+=1){Zc=
Cc[Xc];var td=Zc[0],ae=Zc[1];Zc=new Ob(da.registry,da.path,null,da.scope);for(var we=[],bf=!1,zf=1;zf<J.length;zf++){var Mf=J[zf],Oe=Array.isArray(td)?td[zf-1]:td.type;Mf=Zc.parse(Mf,1+we.length,Oe);if(!Mf){bf=!0;break}we.push(Mf)}if(!bf)if(Array.isArray(td)&&td.length!==we.length)Zc.error("Expected "+td.length+" arguments, but found "+we.length+" instead.");else{for(bf=0;bf<we.length;bf++)zf=Array.isArray(td)?td[bf]:td.type,Mf=we[bf],Zc.concat(bf+1).checkSubtype(zf,Mf.type);if(0===Zc.errors.length)return new Ia(db,
Sb,ae,we)}}if(1===Cc.length)(La=da.errors).push.apply(La,Zc.errors);else{La=(Cc.length?Cc:Db).map(function(Qf){Qf=Qf[0];Qf=Array.isArray(Qf)?"("+Qf.map(y).join(", ")+")":"("+y(Qf.type)+"...)";return Qf}).join(" | ");db=[];for(Sb=1;Sb<J.length;Sb++){Db=da.parse(J[Sb],1+db.length);if(!Db)return null;db.push(y(Db.type))}da.error("Expected arguments of type "+La+", but found ("+db.join(", ")+") instead.")}return null};Ia.register=function(J,da){Ia.definitions=da;for(var La in da)J[La]=Ia};var gb=function(J,
da,La){this.type=Nc;this.locale=La;this.caseSensitive=J;this.diacriticSensitive=da};gb.parse=function(J,da){if(2!==J.length)return da.error("Expected one argument.");J=J[1];if("object"!==typeof J||Array.isArray(J))return da.error("Collator options argument must be an object.");var La=da.parse(void 0===J["case-sensitive"]?!1:J["case-sensitive"],1,Ea);if(!La)return null;var db=da.parse(void 0===J["diacritic-sensitive"]?!1:J["diacritic-sensitive"],1,Ea);if(!db)return null;var Db=null;return J.locale&&
(Db=da.parse(J.locale,1,ob),!Db)?null:new gb(La,db,Db)};gb.prototype.evaluate=function(J){return new Yd(this.caseSensitive.evaluate(J),this.diacriticSensitive.evaluate(J),this.locale?this.locale.evaluate(J):null)};gb.prototype.eachChild=function(J){J(this.caseSensitive);J(this.diacriticSensitive);this.locale&&J(this.locale)};gb.prototype.outputDefined=function(){return!1};gb.prototype.serialize=function(){var J={};J["case-sensitive"]=this.caseSensitive.serialize();J["diacritic-sensitive"]=this.diacriticSensitive.serialize();
this.locale&&(J.locale=this.locale.serialize());return["collator",J]};var Fb=function(J,da){this.type=Ea;this.geojson=J;this.geometries=da};Fb.parse=function(J,da){if(2!==J.length)return da.error("'within' expression requires exactly one argument, but found "+(J.length-1)+" instead.");if(M(J[1]))if(J=J[1],"FeatureCollection"===J.type)for(var La=0;La<J.features.length;++La){var db=J.features[La].geometry.type;if("Polygon"===db||"MultiPolygon"===db)return new Fb(J,J.features[La].geometry)}else if("Feature"===
J.type){if(La=J.geometry.type,"Polygon"===La||"MultiPolygon"===La)return new Fb(J,J.geometry)}else if("Polygon"===J.type||"MultiPolygon"===J.type)return new Fb(J,J);return da.error("'within' expression requires valid geojson object that contains polygon geometry type.")};Fb.prototype.evaluate=function(J){if(null!=J.geometry()&&null!=J.canonicalID()){if("Point"===J.geometryType())return Ja(J,this.geometries);if("LineString"===J.geometryType())return bb(J,this.geometries)}return!1};Fb.prototype.eachChild=
function(){};Fb.prototype.outputDefined=function(){return!0};Fb.prototype.serialize=function(){return["within",this.geojson]};var Kb=function(J,da){this.type=da.type;this.name=J;this.boundExpression=da};Kb.parse=function(J,da){if(2!==J.length||"string"!==typeof J[1])return da.error("'var' expression requires exactly one string literal argument.");J=J[1];return da.scope.has(J)?new Kb(J,da.scope.get(J)):da.error('Unknown variable "'+J+'". Make sure "'+J+'" has been bound in an enclosing "let" expression before using it.',
1)};Kb.prototype.evaluate=function(J){return this.boundExpression.evaluate(J)};Kb.prototype.eachChild=function(){};Kb.prototype.outputDefined=function(){return!1};Kb.prototype.serialize=function(){return["var",this.name]};var Ob=function(J,da,La,db,Db){void 0===da&&(da=[]);void 0===db&&(db=new Le);void 0===Db&&(Db=[]);this.registry=J;this.path=da;this.key=da.map(function(Sb){return"["+Sb+"]"}).join("");this.scope=db;this.errors=Db;this.expectedType=La};Ob.prototype.parse=function(J,da,La,db,Db){void 0===
Db&&(Db={});return da?this.concat(da,La,db)._parse(J,Db):this._parse(J,Db)};Ob.prototype._parse=function(J,da){function La(Sb,Cc,Zc){return"assert"===Zc?new Lc(Cc,[Sb]):"coerce"===Zc?new Pb(Cc,[Sb]):Sb}if(null===J||"string"===typeof J||"boolean"===typeof J||"number"===typeof J)J=["literal",J];if(Array.isArray(J)){if(0===J.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var db=J[0];if("string"!==typeof db)return this.error("Expression name must be a string, but found "+
typeof db+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Db=this.registry[db];if(Db){J=Db.parse(J,this);if(!J)return null;if(this.expectedType)if(db=this.expectedType,Db=J.type,("string"===db.kind||"number"===db.kind||"boolean"===db.kind||"object"===db.kind||"array"===db.kind)&&"value"===Db.kind)J=La(J,db,da.typeAnnotation||"assert");else if(!("color"!==db.kind&&"formatted"!==db.kind&&"resolvedImage"!==db.kind||"value"!==Db.kind&&"string"!==Db.kind))J=La(J,db,da.typeAnnotation||
"coerce");else if(this.checkSubtype(db,Db))return null;if(!(J instanceof sd)&&"resolvedImage"!==J.type.kind&&Fa(J)){da=new fa;try{J=new sd(J.type,J.evaluate(da))}catch(Sb){return this.error(Sb.message),null}}return J}return this.error('Unknown expression "'+db+'". If you wanted a literal array, use ["literal", [...]].',0)}return"undefined"===typeof J?this.error("'undefined' value invalid. Use null instead."):"object"===typeof J?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+
typeof J+" instead.")};Ob.prototype.concat=function(J,da,La){J="number"===typeof J?this.path.concat(J):this.path;La=La?this.scope.concat(La):this.scope;return new Ob(this.registry,J,da||null,La,this.errors)};Ob.prototype.error=function(J){for(var da=[],La=arguments.length-1;0<La--;)da[La]=arguments[La+1];da=""+this.key+da.map(function(db){return"["+db+"]"}).join("");this.errors.push(new Pd(da,J))};Ob.prototype.checkSubtype=function(J,da){(J=K(J,da))&&this.error(J);return J};var oc=function(J,da,La){this.type=
J;this.input=da;this.labels=[];this.outputs=[];for(J=0;J<La.length;J+=1){da=La[J];var db=da[1];this.labels.push(da[0]);this.outputs.push(db)}};oc.parse=function(J,da){if(4>J.length-1)return da.error("Expected at least 4 arguments, but found only "+(J.length-1)+".");if(0!==(J.length-1)%2)return da.error("Expected an even number of arguments.");var La=da.parse(J[1],1,ha);if(!La)return null;var db=[],Db=null;da.expectedType&&"value"!==da.expectedType.kind&&(Db=da.expectedType);for(var Sb=1;Sb<J.length;Sb+=
2){var Cc=1===Sb?-Infinity:J[Sb],Zc=J[Sb+1],Xc=Sb,td=Sb+1;if("number"!==typeof Cc)return da.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Xc);if(db.length&&db[db.length-1][0]>=Cc)return da.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Xc);Zc=da.parse(Zc,td,Db);if(!Zc)return null;Db=Db||Zc.type;db.push([Cc,Zc])}return new oc(Db,La,db)};
oc.prototype.evaluate=function(J){var da=this.labels,La=this.outputs;if(1===da.length)return La[0].evaluate(J);var db=this.input.evaluate(J);if(db<=da[0])return La[0].evaluate(J);var Db=da.length;if(db>=da[Db-1])return La[Db-1].evaluate(J);da=Ra(da,db);return La[da].evaluate(J)};oc.prototype.eachChild=function(J){J(this.input);for(var da=0,La=this.outputs;da<La.length;da+=1)J(La[da])};oc.prototype.outputDefined=function(){return this.outputs.every(function(J){return J.outputDefined()})};oc.prototype.serialize=
function(){for(var J=["step",this.input.serialize()],da=0;da<this.labels.length;da++)0<da&&J.push(this.labels[da]),J.push(this.outputs[da].serialize());return J};ra.prototype.sampleCurveX=function(J){return((this.ax*J+this.bx)*J+this.cx)*J};ra.prototype.sampleCurveY=function(J){return((this.ay*J+this.by)*J+this.cy)*J};ra.prototype.sampleCurveDerivativeX=function(J){return(3*this.ax*J+2*this.bx)*J+this.cx};ra.prototype.solveCurveX=function(J,da){"undefined"===typeof da&&(da=1E-6);var La;var db=J;for(La=
0;8>La;La++){var Db=this.sampleCurveX(db)-J;if(Math.abs(Db)<da)return db;var Sb=this.sampleCurveDerivativeX(db);if(1E-6>Math.abs(Sb))break;db-=Db/Sb}La=0;Sb=1;db=J;if(db<La)return La;if(db>Sb)return Sb;for(;La<Sb;){Db=this.sampleCurveX(db);if(Math.abs(Db-J)<da)break;J>Db?La=db:Sb=db;db=.5*(Sb-La)+La}return db};ra.prototype.solve=function(J,da){return this.sampleCurveY(this.solveCurveX(J,da))};var Oc=Object.freeze({__proto__:null,number:ya,color:function(J,da,La){return new Gd(ya(J.r,da.r,La),ya(J.g,
da.g,La),ya(J.b,da.b,La),ya(J.a,da.a,La))},array:function(J,da,La){return J.map(function(db,Db){return ya(db,da[Db],La)})}}),yc=4/29,fd=6/29,Ec=3*fd*fd,Fd=fd*fd*fd,Be=Math.PI/180,fe=180/Math.PI,Ae={forward:sa,reverse:Oa,interpolate:function(J,da,La){return{l:ya(J.l,da.l,La),a:ya(J.a,da.a,La),b:ya(J.b,da.b,La),alpha:ya(J.alpha,da.alpha,La)}}},Zd={forward:function(J){var da=sa(J),La=da.a,db=da.b,Db=Math.atan2(db,La)*fe;return{h:0>Db?Db+360:Db,c:Math.sqrt(La*La+db*db),l:da.l,alpha:J.a}},reverse:function(J){var da=
J.h*Be,La=J.c;return Oa({l:J.l,a:Math.cos(da)*La,b:Math.sin(da)*La,alpha:J.alpha})},interpolate:function(J,da,La){var db=J.h,Db=da.h-db;return{h:db+La*(180<Db||-180>Db?Db-360*Math.round(Db/360):Db),c:ya(J.c,da.c,La),l:ya(J.l,da.l,La),alpha:ya(J.alpha,da.alpha,La)}}},vd=function(J,da,La,db,Db){this.type=J;this.operator=da;this.interpolation=La;this.input=db;this.labels=[];this.outputs=[];for(J=0;J<Db.length;J+=1)da=Db[J],La=da[1],this.labels.push(da[0]),this.outputs.push(La)};vd.interpolationFactor=
function(J,da,La,db){var Db=0;"exponential"===J.name?Db=ja(da,J.base,La,db):"linear"===J.name?Db=ja(da,1,La,db):"cubic-bezier"===J.name&&(J=J.controlPoints,Db=(new ra(J[0],J[1],J[2],J[3])).solve(ja(da,1,La,db)));return Db};vd.parse=function(J,da){var La=J[0],db=J[1],Db=J[2],Sb=J.slice(3);if(!Array.isArray(db)||0===db.length)return da.error("Expected an interpolation type expression.",1);if("linear"===db[0])db={name:"linear"};else if("exponential"===db[0]){db=db[1];if("number"!==typeof db)return da.error("Exponential interpolation requires a numeric base.",
1,1);db={name:"exponential",base:db}}else if("cubic-bezier"===db[0]){db=db.slice(1);if(4!==db.length||db.some(function(bf){return"number"!==typeof bf||0>bf||1<bf}))return da.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);db={name:"cubic-bezier",controlPoints:db}}else return da.error("Unknown interpolation type "+String(db[0]),1,0);if(4>J.length-1)return da.error("Expected at least 4 arguments, but found only "+(J.length-1)+".");if(0!==(J.length-
1)%2)return da.error("Expected an even number of arguments.");Db=da.parse(Db,2,ha);if(!Db)return null;J=[];var Cc=null;"interpolate-hcl"===La||"interpolate-lab"===La?Cc=Ib:da.expectedType&&"value"!==da.expectedType.kind&&(Cc=da.expectedType);for(var Zc=0;Zc<Sb.length;Zc+=2){var Xc=Sb[Zc],td=Sb[Zc+1],ae=Zc+3,we=Zc+4;if("number"!==typeof Xc)return da.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',
ae);if(J.length&&J[J.length-1][0]>=Xc)return da.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ae);td=da.parse(td,we,Cc);if(!td)return null;Cc=Cc||td.type;J.push([Xc,td])}return"number"===Cc.kind||"color"===Cc.kind||"array"===Cc.kind&&"number"===Cc.itemType.kind&&"number"===typeof Cc.N?new vd(Cc,La,db,Db,J):da.error("Type "+y(Cc)+" is not interpolatable.")};vd.prototype.evaluate=function(J){var da=this.labels,La=this.outputs;
if(1===da.length)return La[0].evaluate(J);var db=this.input.evaluate(J);if(db<=da[0])return La[0].evaluate(J);var Db=da.length;if(db>=da[Db-1])return La[Db-1].evaluate(J);Db=Ra(da,db);da=vd.interpolationFactor(this.interpolation,db,da[Db],da[Db+1]);db=La[Db].evaluate(J);J=La[Db+1].evaluate(J);return"interpolate"===this.operator?Oc[this.type.kind.toLowerCase()](db,J,da):"interpolate-hcl"===this.operator?Zd.reverse(Zd.interpolate(Zd.forward(db),Zd.forward(J),da)):Ae.reverse(Ae.interpolate(Ae.forward(db),
Ae.forward(J),da))};vd.prototype.eachChild=function(J){J(this.input);for(var da=0,La=this.outputs;da<La.length;da+=1)J(La[da])};vd.prototype.outputDefined=function(){return this.outputs.every(function(J){return J.outputDefined()})};vd.prototype.serialize=function(){var J="linear"===this.interpolation.name?["linear"]:"exponential"===this.interpolation.name?1===this.interpolation.base?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);J=[this.operator,
J,this.input.serialize()];for(var da=0;da<this.labels.length;da++)J.push(this.labels[da],this.outputs[da].serialize());return J};var Kd=function(J,da){this.type=J;this.args=da};Kd.parse=function(J,da){if(2>J.length)return da.error("Expectected at least one argument.");var La=null,db=da.expectedType;db&&"value"!==db.kind&&(La=db);var Db=[],Sb=0;for(J=J.slice(1);Sb<J.length;Sb+=1){var Cc=da.parse(J[Sb],1+Db.length,La,void 0,{typeAnnotation:"omit"});if(!Cc)return null;La=La||Cc.type;Db.push(Cc)}return db&&
Db.some(function(Zc){return K(db,Zc.type)})?new Kd(kc,Db):new Kd(La,Db)};Kd.prototype.evaluate=function(J){for(var da=null,La=0,db,Db=0,Sb=this.args;Db<Sb.length;Db+=1){da=Sb[Db];La++;if((da=da.evaluate(J))&&da instanceof ed&&!da.available&&(db||(db=da),da=null,La===this.args.length))return db;if(null!==da)break}return da};Kd.prototype.eachChild=function(J){this.args.forEach(J)};Kd.prototype.outputDefined=function(){return this.args.every(function(J){return J.outputDefined()})};Kd.prototype.serialize=
function(){var J=["coalesce"];this.eachChild(function(da){J.push(da.serialize())});return J};var ee=function(J,da){this.type=da.type;this.bindings=[].concat(J);this.result=da};ee.prototype.evaluate=function(J){return this.result.evaluate(J)};ee.prototype.eachChild=function(J){for(var da=0,La=this.bindings;da<La.length;da+=1)J(La[da][1]);J(this.result)};ee.parse=function(J,da){if(4>J.length)return da.error("Expected at least 3 arguments, but found "+(J.length-1)+" instead.");for(var La=[],db=1;db<
J.length-1;db+=2){var Db=J[db];if("string"!==typeof Db)return da.error("Expected string, but found "+typeof Db+" instead.",db);if(/[^a-zA-Z0-9_]/.test(Db))return da.error("Variable names must contain only alphanumeric characters or '_'.",db);var Sb=da.parse(J[db+1],db+1);if(!Sb)return null;La.push([Db,Sb])}return(J=da.parse(J[J.length-1],J.length-1,da.expectedType,La))?new ee(La,J):null};ee.prototype.outputDefined=function(){return this.result.outputDefined()};ee.prototype.serialize=function(){for(var J=
["let"],da=0,La=this.bindings;da<La.length;da+=1){var db=La[da];J.push(db[0],db[1].serialize())}J.push(this.result.serialize());return J};var xe=function(J,da,La){this.type=J;this.index=da;this.input=La};xe.parse=function(J,da){if(3!==J.length)return da.error("Expected 2 arguments, but found "+(J.length-1)+" instead.");var La=da.parse(J[1],1,ha);J=da.parse(J[2],2,r(da.expectedType||kc));return La&&J?new xe(J.type.itemType,La,J):null};xe.prototype.evaluate=function(J){var da=this.index.evaluate(J);
J=this.input.evaluate(J);if(0>da)throw new wc("Array index out of bounds: "+da+" \x3c 0.");if(da>=J.length)throw new wc("Array index out of bounds: "+da+" \x3e "+(J.length-1)+".");if(da!==Math.floor(da))throw new wc("Array index must be an integer, but found "+da+" instead.");return J[da]};xe.prototype.eachChild=function(J){J(this.index);J(this.input)};xe.prototype.outputDefined=function(){return!1};xe.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var ze=
function(J,da){this.type=Ea;this.needle=J;this.haystack=da};ze.parse=function(J,da){if(3!==J.length)return da.error("Expected 2 arguments, but found "+(J.length-1)+" instead.");var La=da.parse(J[1],1,kc);J=da.parse(J[2],2,kc);return La&&J?R(La.type,[Ea,ob,ha,Se,kc])?new ze(La,J):da.error("Expected first argument to be of type boolean, string, number or null, but found "+y(La.type)+" instead"):null};ze.prototype.evaluate=function(J){var da=this.needle.evaluate(J);J=this.haystack.evaluate(J);if(null==
J)return!1;if(!S(da,["boolean","string","number","null"]))throw new wc("Expected first argument to be of type boolean, string, number or null, but found "+y(aa(da))+" instead.");if(!S(J,["string","array"]))throw new wc("Expected second argument to be of type array or string, but found "+y(aa(J))+" instead.");return 0<=J.indexOf(da)};ze.prototype.eachChild=function(J){J(this.needle);J(this.haystack)};ze.prototype.outputDefined=function(){return!0};ze.prototype.serialize=function(){return["in",this.needle.serialize(),
this.haystack.serialize()]};var Te=function(J,da,La){this.type=ha;this.needle=J;this.haystack=da;this.fromIndex=La};Te.parse=function(J,da){if(2>=J.length||5<=J.length)return da.error("Expected 3 or 4 arguments, but found "+(J.length-1)+" instead.");var La=da.parse(J[1],1,kc),db=da.parse(J[2],2,kc);return La&&db?R(La.type,[Ea,ob,ha,Se,kc])?4===J.length?(J=da.parse(J[3],3,ha))?new Te(La,db,J):null:new Te(La,db):da.error("Expected first argument to be of type boolean, string, number or null, but found "+
y(La.type)+" instead"):null};Te.prototype.evaluate=function(J){var da=this.needle.evaluate(J),La=this.haystack.evaluate(J);if(!S(da,["boolean","string","number","null"]))throw new wc("Expected first argument to be of type boolean, string, number or null, but found "+y(aa(da))+" instead.");if(!S(La,["string","array"]))throw new wc("Expected second argument to be of type array or string, but found "+y(aa(La))+" instead.");return this.fromIndex?(J=this.fromIndex.evaluate(J),La.indexOf(da,J)):La.indexOf(da)};
Te.prototype.eachChild=function(J){J(this.needle);J(this.haystack);this.fromIndex&&J(this.fromIndex)};Te.prototype.outputDefined=function(){return!1};Te.prototype.serialize=function(){if(null!=this.fromIndex&&void 0!==this.fromIndex){var J=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),J]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Id=function(J,da,La,db,Db,Sb){this.inputType=J;this.type=da;this.input=La;this.cases=db;this.outputs=
Db;this.otherwise=Sb};Id.parse=function(J,da){if(5>J.length)return da.error("Expected at least 4 arguments, but found only "+(J.length-1)+".");if(1!==J.length%2)return da.error("Expected an even number of arguments.");if(da.expectedType&&"value"!==da.expectedType.kind)var La=da.expectedType;for(var db={},Db=[],Sb=2;Sb<J.length-1;Sb+=2){var Cc=J[Sb],Zc=J[Sb+1];Array.isArray(Cc)||(Cc=[Cc]);var Xc=da.concat(Sb);if(0===Cc.length)return Xc.error("Expected at least one branch label.");for(var td=0;td<Cc.length;td+=
1){var ae=Cc[td];if("number"!==typeof ae&&"string"!==typeof ae)return Xc.error("Branch labels must be numbers or strings.");if("number"===typeof ae&&Math.abs(ae)>Number.MAX_SAFE_INTEGER)return Xc.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if("number"===typeof ae&&Math.floor(ae)!==ae)return Xc.error("Numeric branch labels must be integer values.");if(!we)var we=aa(ae);else if(Xc.checkSubtype(we,aa(ae)))return null;if("undefined"!==typeof db[String(ae)])return Xc.error("Branch labels must be unique.");
db[String(ae)]=Db.length}Zc=da.parse(Zc,Sb,La);if(!Zc)return null;La=La||Zc.type;Db.push(Zc)}Sb=da.parse(J[1],1,kc);if(!Sb)return null;J=da.parse(J[J.length-1],J.length-1,La);return!J||"value"!==Sb.type.kind&&da.concat(1).checkSubtype(we,Sb.type)?null:new Id(we,La,Sb,db,Db,J)};Id.prototype.evaluate=function(J){var da=this.input.evaluate(J);return(aa(da)===this.inputType&&this.outputs[this.cases[da]]||this.otherwise).evaluate(J)};Id.prototype.eachChild=function(J){J(this.input);this.outputs.forEach(J);
J(this.otherwise)};Id.prototype.outputDefined=function(){return this.outputs.every(function(J){return J.outputDefined()})&&this.otherwise.outputDefined()};Id.prototype.serialize=function(){for(var J=this,da=["match",this.input.serialize()],La=[],db={},Db=0,Sb=Object.keys(this.cases).sort();Db<Sb.length;Db+=1){var Cc=Sb[Db],Zc=db[this.cases[Cc]];void 0===Zc?(db[this.cases[Cc]]=La.length,La.push([this.cases[Cc],[Cc]])):La[Zc][1].push(Cc)}db=function(Xc){return"number"===J.inputType.kind?Number(Xc):
Xc};for(Db=0;Db<La.length;Db+=1)Sb=La[Db],Zc=Sb[0],Zc=Sb[1],1===Zc.length?da.push(db(Zc[0])):da.push(Zc.map(db)),da.push(this.outputs[outputIndex$1].serialize());da.push(this.otherwise.serialize());return da};var sf=function(J,da,La){this.type=J;this.branches=da;this.otherwise=La};sf.parse=function(J,da){if(4>J.length)return da.error("Expected at least 3 arguments, but found only "+(J.length-1)+".");if(0!==J.length%2)return da.error("Expected an odd number of arguments.");if(da.expectedType&&"value"!==
da.expectedType.kind)var La=da.expectedType;for(var db=[],Db=1;Db<J.length-1;Db+=2){var Sb=da.parse(J[Db],Db,Ea);if(!Sb)return null;var Cc=da.parse(J[Db+1],Db+1,La);if(!Cc)return null;db.push([Sb,Cc]);La=La||Cc.type}return(J=da.parse(J[J.length-1],J.length-1,La))?new sf(La,db,J):null};sf.prototype.evaluate=function(J){for(var da=0,La=this.branches;da<La.length;da+=1){var db=La[da],Db=db[1];if(db[0].evaluate(J))return Db.evaluate(J)}return this.otherwise.evaluate(J)};sf.prototype.eachChild=function(J){for(var da=
0,La=this.branches;da<La.length;da+=1){var db=La[da],Db=db[1];J(db[0]);J(Db)}J(this.otherwise)};sf.prototype.outputDefined=function(){return this.branches.every(function(J){J[0];return J[1].outputDefined()})&&this.otherwise.outputDefined()};sf.prototype.serialize=function(){var J=["case"];this.eachChild(function(da){J.push(da.serialize())});return J};var Af=function(J,da,La,db){this.type=J;this.input=da;this.beginIndex=La;this.endIndex=db};Af.parse=function(J,da){if(2>=J.length||5<=J.length)return da.error("Expected 3 or 4 arguments, but found "+
(J.length-1)+" instead.");var La=da.parse(J[1],1,kc),db=da.parse(J[2],2,ha);return La&&db?R(La.type,[r(kc),ob,kc])?4===J.length?(J=da.parse(J[3],3,ha))?new Af(La.type,La,db,J):null:new Af(La.type,La,db):da.error("Expected first argument to be of type array or string, but found "+y(La.type)+" instead"):null};Af.prototype.evaluate=function(J){var da=this.input.evaluate(J),La=this.beginIndex.evaluate(J);if(!S(da,["string","array"]))throw new wc("Expected first argument to be of type array or string, but found "+
y(aa(da))+" instead.");return this.endIndex?(J=this.endIndex.evaluate(J),da.slice(La,J)):da.slice(La)};Af.prototype.eachChild=function(J){J(this.input);J(this.beginIndex);this.endIndex&&J(this.endIndex)};Af.prototype.outputDefined=function(){return!1};Af.prototype.serialize=function(){if(null!=this.endIndex&&void 0!==this.endIndex){var J=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),J]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};
var Ff=ua("\x3d\x3d",function(J,da,La){return da===La},ka),$g=ua("!\x3d",function(J,da,La){return da!==La},function(J,da,La,db){return!ka(J,da,La,db)}),ie=ua("\x3c",function(J,da,La){return da<La},function(J,da,La,db){return 0>db.compare(da,La)}),mf=ua("\x3e",function(J,da,La){return da>La},function(J,da,La,db){return 0<db.compare(da,La)}),Tf=ua("\x3c\x3d",function(J,da,La){return da<=La},function(J,da,La,db){return 0>=db.compare(da,La)}),Gf=ua("\x3e\x3d",function(J,da,La){return da>=La},function(J,
da,La,db){return 0<=db.compare(da,La)}),Ag=function(J,da,La,db,Db){this.type=ob;this.number=J;this.locale=da;this.currency=La;this.minFractionDigits=db;this.maxFractionDigits=Db};Ag.parse=function(J,da){if(3!==J.length)return da.error("Expected two arguments.");var La=da.parse(J[1],1,ha);if(!La)return null;J=J[2];if("object"!==typeof J||Array.isArray(J))return da.error("NumberFormat options argument must be an object.");var db=null;if(J.locale&&(db=da.parse(J.locale,1,ob),!db))return null;var Db=
null;if(J.currency&&(Db=da.parse(J.currency,1,ob),!Db))return null;var Sb=null;if(J["min-fraction-digits"]&&(Sb=da.parse(J["min-fraction-digits"],1,ha),!Sb))return null;var Cc=null;return J["max-fraction-digits"]&&(Cc=da.parse(J["max-fraction-digits"],1,ha),!Cc)?null:new Ag(La,db,Db,Sb,Cc)};Ag.prototype.evaluate=function(J){return(new Intl.NumberFormat(this.locale?this.locale.evaluate(J):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(J):void 0,minimumFractionDigits:this.minFractionDigits?
this.minFractionDigits.evaluate(J):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(J):void 0})).format(this.number.evaluate(J))};Ag.prototype.eachChild=function(J){J(this.number);this.locale&&J(this.locale);this.currency&&J(this.currency);this.minFractionDigits&&J(this.minFractionDigits);this.maxFractionDigits&&J(this.maxFractionDigits)};Ag.prototype.outputDefined=function(){return!1};Ag.prototype.serialize=function(){var J={};this.locale&&(J.locale=this.locale.serialize());
this.currency&&(J.currency=this.currency.serialize());this.minFractionDigits&&(J["min-fraction-digits"]=this.minFractionDigits.serialize());this.maxFractionDigits&&(J["max-fraction-digits"]=this.maxFractionDigits.serialize());return["number-format",this.number.serialize(),J]};var ng=function(J){this.type=ha;this.input=J};ng.parse=function(J,da){return 2!==J.length?da.error("Expected 1 argument, but found "+(J.length-1)+" instead."):(J=da.parse(J[1],1))?"array"!==J.type.kind&&"string"!==J.type.kind&&
"value"!==J.type.kind?da.error("Expected argument of type string or array, but found "+y(J.type)+" instead."):new ng(J):null};ng.prototype.evaluate=function(J){J=this.input.evaluate(J);if("string"===typeof J||Array.isArray(J))return J.length;throw new wc("Expected value to be of type string or array, but found "+y(aa(J))+" instead.");};ng.prototype.eachChild=function(J){J(this.input)};ng.prototype.outputDefined=function(){return!1};ng.prototype.serialize=function(){var J=["length"];this.eachChild(function(da){J.push(da.serialize())});
return J};var ug={"\x3d\x3d":Ff,"!\x3d":$g,"\x3e":mf,"\x3c":ie,"\x3e\x3d":Gf,"\x3c\x3d":Tf,array:Lc,at:xe,"boolean":Lc,"case":sf,coalesce:Kd,collator:gb,format:ud,image:kb,"in":ze,"index-of":Te,interpolate:vd,"interpolate-hcl":vd,"interpolate-lab":vd,length:ng,let:ee,literal:sd,match:Id,number:Lc,"number-format":Ag,object:Lc,slice:Af,step:oc,string:Lc,"to-boolean":Pb,"to-color":Pb,"to-number":Pb,"to-string":Pb,"var":Kb,within:Fb};Ia.register(ug,{error:[{kind:"error"},[ob],function(J,da){throw new wc(da[0].evaluate(J));
}],"typeof":[ob,[kc],function(J,da){return y(aa(da[0].evaluate(J)))}],"to-rgba":[r(ha,4),[Ib],function(J,da){return da[0].evaluate(J).toArray()}],rgb:[Ib,[ha,ha,ha],Ta],rgba:[Ib,[ha,ha,ha,ha],Ta],has:{type:Ea,overloads:[[[ob],function(J,da){da=da[0].evaluate(J);J=J.properties();return da in J}],[[ob,Yb],function(J,da){var La=da[1];da=da[0].evaluate(J);J=La.evaluate(J);return da in J}]]},get:{type:kc,overloads:[[[ob],function(J,da){return eb(da[0].evaluate(J),J.properties())}],[[ob,Yb],function(J,
da){var La=da[1];return eb(da[0].evaluate(J),La.evaluate(J))}]]},"feature-state":[kc,[ob],function(J,da){return eb(da[0].evaluate(J),J.featureState||{})}],properties:[Yb,[],function(J){return J.properties()}],"geometry-type":[ob,[],function(J){return J.geometryType()}],id:[kc,[],function(J){return J.id()}],zoom:[ha,[],function(J){return J.globals.zoom}],pitch:[ha,[],function(J){return J.globals.pitch||0}],"distance-from-center":[ha,[],function(J){return J.distanceFromCenter()}],"heatmap-density":[ha,
[],function(J){return J.globals.heatmapDensity||0}],"line-progress":[ha,[],function(J){return J.globals.lineProgress||0}],"sky-radial-progress":[ha,[],function(J){return J.globals.skyRadialProgress||0}],accumulated:[kc,[],function(J){return void 0===J.globals.accumulated?null:J.globals.accumulated}],"+":[ha,{type:ha},function(J,da){for(var La=0,db=0;db<da.length;db+=1)La+=da[db].evaluate(J);return La}],"*":[ha,{type:ha},function(J,da){for(var La=1,db=0;db<da.length;db+=1)La*=da[db].evaluate(J);return La}],
"-":{type:ha,overloads:[[[ha,ha],function(J,da){var La=da[1];return da[0].evaluate(J)-La.evaluate(J)}],[[ha],function(J,da){return-da[0].evaluate(J)}]]},"/":[ha,[ha,ha],function(J,da){var La=da[1];return da[0].evaluate(J)/La.evaluate(J)}],"%":[ha,[ha,ha],function(J,da){var La=da[1];return da[0].evaluate(J)%La.evaluate(J)}],ln2:[ha,[],function(){return Math.LN2}],pi:[ha,[],function(){return Math.PI}],e:[ha,[],function(){return Math.E}],"^":[ha,[ha,ha],function(J,da){var La=da[1];return Math.pow(da[0].evaluate(J),
La.evaluate(J))}],sqrt:[ha,[ha],function(J,da){return Math.sqrt(da[0].evaluate(J))}],log10:[ha,[ha],function(J,da){return Math.log(da[0].evaluate(J))/Math.LN10}],ln:[ha,[ha],function(J,da){return Math.log(da[0].evaluate(J))}],log2:[ha,[ha],function(J,da){return Math.log(da[0].evaluate(J))/Math.LN2}],sin:[ha,[ha],function(J,da){return Math.sin(da[0].evaluate(J))}],cos:[ha,[ha],function(J,da){return Math.cos(da[0].evaluate(J))}],tan:[ha,[ha],function(J,da){return Math.tan(da[0].evaluate(J))}],asin:[ha,
[ha],function(J,da){return Math.asin(da[0].evaluate(J))}],acos:[ha,[ha],function(J,da){return Math.acos(da[0].evaluate(J))}],atan:[ha,[ha],function(J,da){return Math.atan(da[0].evaluate(J))}],min:[ha,{type:ha},function(J,da){return Math.min.apply(Math,da.map(function(La){return La.evaluate(J)}))}],max:[ha,{type:ha},function(J,da){return Math.max.apply(Math,da.map(function(La){return La.evaluate(J)}))}],abs:[ha,[ha],function(J,da){return Math.abs(da[0].evaluate(J))}],round:[ha,[ha],function(J,da){J=
da[0].evaluate(J);return 0>J?-Math.round(-J):Math.round(J)}],floor:[ha,[ha],function(J,da){return Math.floor(da[0].evaluate(J))}],ceil:[ha,[ha],function(J,da){return Math.ceil(da[0].evaluate(J))}],"filter-\x3d\x3d":[Ea,[ob,kc],function(J,da){var La=da[0];da=da[1];return J.properties()[La.value]===da.value}],"filter-id-\x3d\x3d":[Ea,[kc],function(J,da){da=da[0];return J.id()===da.value}],"filter-type-\x3d\x3d":[Ea,[ob],function(J,da){da=da[0];return J.geometryType()===da.value}],"filter-\x3c":[Ea,
[ob,kc],function(J,da){var La=da[0];da=da[1];J=J.properties()[La.value];La=da.value;return typeof J===typeof La&&J<La}],"filter-id-\x3c":[Ea,[kc],function(J,da){da=da[0];J=J.id();da=da.value;return typeof J===typeof da&&J<da}],"filter-\x3e":[Ea,[ob,kc],function(J,da){var La=da[0];da=da[1];J=J.properties()[La.value];La=da.value;return typeof J===typeof La&&J>La}],"filter-id-\x3e":[Ea,[kc],function(J,da){da=da[0];J=J.id();da=da.value;return typeof J===typeof da&&J>da}],"filter-\x3c\x3d":[Ea,[ob,kc],
function(J,da){var La=da[0];da=da[1];J=J.properties()[La.value];La=da.value;return typeof J===typeof La&&J<=La}],"filter-id-\x3c\x3d":[Ea,[kc],function(J,da){da=da[0];J=J.id();da=da.value;return typeof J===typeof da&&J<=da}],"filter-\x3e\x3d":[Ea,[ob,kc],function(J,da){var La=da[0];da=da[1];J=J.properties()[La.value];La=da.value;return typeof J===typeof La&&J>=La}],"filter-id-\x3e\x3d":[Ea,[kc],function(J,da){da=da[0];J=J.id();da=da.value;return typeof J===typeof da&&J>=da}],"filter-has":[Ea,[kc],
function(J,da){return da[0].value in J.properties()}],"filter-has-id":[Ea,[],function(J){return null!==J.id()&&void 0!==J.id()}],"filter-type-in":[Ea,[r(ob)],function(J,da){return 0<=da[0].value.indexOf(J.geometryType())}],"filter-id-in":[Ea,[r(kc)],function(J,da){return 0<=da[0].value.indexOf(J.id())}],"filter-in-small":[Ea,[ob,r(kc)],function(J,da){var La=da[0];return 0<=da[1].value.indexOf(J.properties()[La.value])}],"filter-in-large":[Ea,[ob,r(kc)],function(J,da){var La=da[0];da=da[1];a:{J=J.properties()[La.value];
La=da.value;var db=0;for(da=da.value.length-1;db<=da;){var Db=db+da>>1;if(La[Db]===J){da=!0;break a}La[Db]>J?da=Db-1:db=Db+1}da=!1}return da}],all:{type:Ea,overloads:[[[Ea,Ea],function(J,da){var La=da[1];return da[0].evaluate(J)&&La.evaluate(J)}],[{type:Ea},function(J,da){for(var La=0;La<da.length;La+=1)if(!da[La].evaluate(J))return!1;return!0}]]},any:{type:Ea,overloads:[[[Ea,Ea],function(J,da){var La=da[1];return da[0].evaluate(J)||La.evaluate(J)}],[{type:Ea},function(J,da){for(var La=0;La<da.length;La+=
1)if(da[La].evaluate(J))return!0;return!1}]]},"!":[Ea,[Ea],function(J,da){return!da[0].evaluate(J)}],"is-supported-script":[Ea,[ob],function(J,da){da=da[0];var La=J.globals&&J.globals.isSupportedScript;return La?La(da.evaluate(J)):!0}],upcase:[ob,[ob],function(J,da){return da[0].evaluate(J).toUpperCase()}],downcase:[ob,[ob],function(J,da){return da[0].evaluate(J).toLowerCase()}],concat:[ob,{type:kc},function(J,da){return da.map(function(La){return Y(La.evaluate(J))}).join("")}],"resolved-locale":[ob,
[Nc],function(J,da){return da[0].evaluate(J).resolvedLocale()}]});var Sg=function(J,da){this.expression=J;this._warningHistory={};this._evaluator=new fa;this._defaultValue=da?"color"===da.type&&(Mb(da.default)||Array.isArray(da.default))?new Gd(0,0,0,0):"color"===da.type?Gd.parse(da.default)||null:void 0===da.default?null:da.default:null;this._enumValues=da&&"enum"===da.type?da.values:null};Sg.prototype.evaluateWithoutErrorHandling=function(J,da,La,db,Db,Sb,Cc,Zc){this._evaluator.globals=J;this._evaluator.feature=
da;this._evaluator.featureState=La;this._evaluator.canonical=db||null;this._evaluator.availableImages=Db||null;this._evaluator.formattedSection=Sb;this._evaluator.featureTileCoord=Cc||null;this._evaluator.featureDistanceData=Zc||null;return this.expression.evaluate(this._evaluator)};Sg.prototype.evaluate=function(J,da,La,db,Db,Sb,Cc,Zc){this._evaluator.globals=J;this._evaluator.feature=da||null;this._evaluator.featureState=La||null;this._evaluator.canonical=db||null;this._evaluator.availableImages=
Db||null;this._evaluator.formattedSection=Sb||null;this._evaluator.featureTileCoord=Cc||null;this._evaluator.featureDistanceData=Zc||null;try{var Xc=this.expression.evaluate(this._evaluator);if(null===Xc||void 0===Xc||"number"===typeof Xc&&Xc!==Xc)return this._defaultValue;if(this._enumValues&&!(Xc in this._enumValues))throw new wc("Expected value to be one of "+Object.keys(this._enumValues).map(function(td){return JSON.stringify(td)}).join(", ")+", but found "+JSON.stringify(Xc)+" instead.");return Xc}catch(td){return this._warningHistory[td.message]||
(this._warningHistory[td.message]=!0,"undefined"!==typeof console&&console.warn(td.message)),this._defaultValue}};var ig=function(J,da){this.kind=J;this._styleExpression=da;this.isStateDependent="constant"!==J&&!Ma(da.expression)};ig.prototype.evaluateWithoutErrorHandling=function(J,da,La,db,Db,Sb){return this._styleExpression.evaluateWithoutErrorHandling(J,da,La,db,Db,Sb)};ig.prototype.evaluate=function(J,da,La,db,Db,Sb){return this._styleExpression.evaluate(J,da,La,db,Db,Sb)};var Cf=function(J,
da,La,db){this.kind=J;this.zoomStops=La;this._styleExpression=da;this.isStateDependent="camera"!==J&&!Ma(da.expression);this.interpolationType=db};Cf.prototype.evaluateWithoutErrorHandling=function(J,da,La,db,Db,Sb){return this._styleExpression.evaluateWithoutErrorHandling(J,da,La,db,Db,Sb)};Cf.prototype.evaluate=function(J,da,La,db,Db,Sb){return this._styleExpression.evaluate(J,da,La,db,Db,Sb)};Cf.prototype.interpolationFactor=function(J,da,La){return this.interpolationType?vd.interpolationFactor(this.interpolationType,
J,da,La):0};var vg={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number","default":0,period:360,units:"degrees"},pitch:{type:"number","default":0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},projection:{type:"projection"},
layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:"source_vector source_raster source_raster_dem source_geojson source_video source_image".split(" "),source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},"default":"xyz"},minzoom:{type:"number","default":0},maxzoom:{type:"number",
"default":22},attribution:{type:"string"},promoteId:{type:"promoteId"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},
"default":"xyz"},attribution:{type:"string"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,"default":[-180,-85.051129,180,85.051129]},minzoom:{type:"number","default":0},maxzoom:{type:"number","default":22},tileSize:{type:"number","default":512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},
mapbox:{}},"default":"mapbox"},"volatile":{type:"boolean","default":!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number","default":18},attribution:{type:"string"},buffer:{type:"number","default":128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number","default":.375},cluster:{type:"boolean","default":!1},clusterRadius:{type:"number","default":50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},
clusterProperties:{type:"*"},lineMetrics:{type:"boolean","default":!1},generateId:{type:"boolean","default":!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",
length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:"layout_fill layout_line layout_circle layout_heatmap layout_fill-extrusion layout_symbol layout_raster layout_hillshade layout_background layout_sky".split(" "),
layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",
expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},
"default":"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},"default":"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number","default":2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number","default":1.05,requires:[{"line-join":"round"}],
expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},"default":"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",
"default":250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean","default":!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},"default":"auto",
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean","default":!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean","default":!1,requires:["icon-image","text-field"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number","default":1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},
width:{},height:{},both:{}},"default":"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,"default":[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom",
"feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean","default":!1,requires:["icon-image",{"icon-rotation-alignment":"map"},
{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,"default":[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["icon-image"],expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},
viewport:{},auto:{}},"default":"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted","default":"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string","default":["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},
"text-size":{type:"number","default":16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number","default":10,minimum:0,units:"ems",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number","default":1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number","default":0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},"default":"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems","default":0,
requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},
"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number","default":45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},
requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number","default":0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number","default":2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean","default":!0,
requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},"default":"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,"default":[0,0],requires:["text-field",{"!":"text-radial-offset"}],
expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean","default":!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean","default":!1,requires:["text-field","icon-image"],expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},"default":"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_symbol:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",
expression:{interpolated:!1,parameters:["zoom","feature","pitch","distance-from-center"]}},filter_fill:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_line:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_circle:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom",
"feature"]}},"filter_fill-extrusion":{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_heatmap:{type:"boolean","default":!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}},filter_operator:{type:"enum",values:{"\x3d\x3d":{},"!\x3d":{},"\x3e":{},"\x3e\x3d":{},"\x3c":{},"\x3c\x3d":{},"in":{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",
values:{Point:{},LineString:{},Polygon:{}}},"function":{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number","default":1,minimum:0},property:{type:"string","default":"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},"default":"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},"default":"rgb"},"default":{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],
length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},"var":{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},"in":{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},"case":{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},
"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},"typeof":{group:"Types"},string:{group:"Types"},number:{group:"Types"},"boolean":{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},
get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Camera"},pitch:{group:"Camera"},"distance-from-center":{group:"Camera"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},"sky-radial-progress":{group:"sky"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},
"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"\x3d\x3d":{group:"Decision"},"!\x3d":{group:"Decision"},"\x3e":{group:"Decision"},"\x3c":{group:"Decision"},"\x3e\x3d":{group:"Decision"},
"\x3c\x3d":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},fog:{range:{type:"array","default":[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",
"default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"high-color":{type:"color","property-type":"data-constant","default":"#245cdf",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"space-color":{type:"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant","default":["interpolate",
["linear"],["zoom"],4,.2,7,.1],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"star-intensity":{type:"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,.35,6,0],minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum","default":"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",
"default":[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant","default":"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant","default":.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},projection:{name:{type:"enum",values:{albers:{},equalEarth:{},equirectangular:{},
lambertConformalConic:{},mercator:{},naturalEarth:{},winkelTripel:{},globe:{}},"default":"mercator",required:!0},center:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-180,-90],maximum:[180,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]},parallels:{type:"array",length:2,value:"number","property-type":"data-constant",minimum:[-90,-90],maximum:[90,90],transition:!1,requires:[{name:["albers","lambertConformalConic"]}]}},terrain:{source:{type:"string",
required:!0},exaggeration:{type:"number","property-type":"data-constant","default":1,minimum:0,maximum:1E3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0,requires:["source"]}},paint:"paint_fill paint_line paint_circle paint_heatmap paint_fill-extrusion paint_symbol paint_raster paint_hillshade paint_background paint_sky".split(" "),paint_fill:{"fill-antialias":{type:"boolean","default":!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,
parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},
"fill-extrusion-height":{type:"number","default":0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number","default":0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean","default":!0,transition:!1,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",
value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number","default":1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"line-gap-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number","default":0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},
"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-pattern"},{source:"geojson",
has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{type:"array",value:"number",length:2,"default":[0,0],minimum:[0,0],maximum:[1,1],transition:!1,requires:[{source:"geojson",has:{lineMetrics:!0}}],"property-type":"constant"}},paint_circle:{"circle-radius":{type:"number","default":5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number","default":0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},
"circle-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},"default":"map",expression:{interpolated:!1,parameters:["zoom"]},
"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom",
"feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number","default":30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number","default":1,minimum:0,
transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number","default":1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},
"property-type":"color-ramp"},"heatmap-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color","default":"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color","default":"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",
"default":0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["icon-image","icon-translate"],
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color","default":"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",
"default":"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number","default":0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,
parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,"default":[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},"default":"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number","default":0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number","default":0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",
"default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number","default":0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},
nearest:{}},"default":"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number","default":300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number","default":335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",
values:{map:{},viewport:{}},"default":"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number","default":.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color","default":"#FFFFFF",
transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color","default":"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color","default":"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,
expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},"default":"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,
0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],"default":10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number","default":[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,
parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],"default":90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color","default":["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},
"sky-atmosphere-halo-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color","default":"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number","default":1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number","default":300,minimum:0,
units:"milliseconds"},delay:{type:"number","default":0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},og=new Set("in \x3d\x3d !\x3d \x3e \x3e\x3d \x3c \x3c\x3d to-boolean".split(" ")),Uf="type source source-layer minzoom maxzoom filter layout".split(" "),
Xf={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Tg=/(italic|oblique)$/i,bh={},Ng=function(J,da,La){var db=bh[J];if(!db){Array.isArray(J)||(J=[J]);db=400;for(var Db="normal",Sb=[],Cc=0,Zc=J.length;Cc<Zc;++Cc){var Xc=J[Cc].split(" "),
td=Xc[Xc.length-1].toLowerCase();"normal"==td||"italic"==td||"oblique"==td?(Db=td,Xc.pop(),td=Xc[Xc.length-1].toLowerCase()):Tg.test(td)&&(td=td.replace(Tg,""),Db=Xc[Xc.length-1].replace(td,""));for(var ae in Xf){var we=1<Xc.length?Xc[Xc.length-2].toLowerCase():"";if(td==ae||td==ae.replace("-","")||we+"-"+td==ae){db=Xf[ae];Xc.pop();we&&ae.startsWith(we)&&Xc.pop();break}}"number"==typeof td&&(db=td);Xc=Xc.join(" ").replace("Klokantech Noto Sans","Noto Sans");-1!==Xc.indexOf(" ")&&(Xc='"'+Xc+'"');Sb.push(Xc)}db=
bh[J]=[Db,db,Sb]}return db[0]+" "+db[1]+" "+da+"px"+(La?"/"+La:"")+" "+db[2]},Ig="https://api.mapbox.com",Jg=function(){for(var J=[],da=78271.51696402048;24>=J.length;da/=2)J.push(da);return J}(),Wa={},Cb={},hc=Array(256).join(" "),yd,Dd={},ne=/font-family: ?([^;]*);/,of=/("|')/g,uf,Wg={},Vf={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},Xg={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,
1]},Fh=function(J,da){J=zc(J,da);if("error"===J.result)throw Error(J.value.map(function(La){return La.key+": "+La.message}).join(", "));return J.value},qh={},wg={zoom:0},Ug,oh,rh=!1,Lh=/\{[^{}}]*\}/g,vh=!1,Eh={},Kg=new bd.default};
shadow$provide[355]=function(Ka,L,sb,A){function w(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(65));var k=w(L(72)),p=w(L(349));sb=w(L(351));var q=w(L(294)),t=L(354);class n extends Ka.default{constructor(b){super(k.default.ERROR);this.error=b}}class f extends sb.default{constructor(b){const c="declutter"in b?b.declutter:!0,e=new q.default({state:"loading",format:new p.default});super({source:e,background:b.background,declutter:c,
className:b.className,opacity:b.opacity,visible:b.visible,zIndex:b.zIndex,minResolution:b.minResolution,maxResolution:b.maxResolution,minZoom:b.minZoom,maxZoom:b.maxZoom,renderOrder:b.renderOrder,renderBuffer:b.renderBuffer,renderMode:b.renderMode,map:b.map,updateWhileAnimating:b.updateWhileAnimating,updateWhileInteracting:b.updateWhileInteracting,preload:b.preload,useInterimTilesOnError:b.useInterimTilesOnError,properties:b.properties});b.accessToken&&(this.accessToken=b.accessToken);(0,t.applyStyle)(this,
b.styleUrl,b.layers||b.source,{accessToken:this.accessToken}).then(()=>{e.setState("ready")}).catch(g=>{this.dispatchEvent(new n(g));this.getSource().setState("error")});void 0===this.getBackground()&&(0,t.applyBackground)(this,b.styleUrl,{accessToken:this.accessToken})}}A.default=f};
shadow$provide[356]=function(Ka,L,sb,A){function w(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(279));var k=w(L(326)),p=w(L(72)),q=w(L(269)),t=w(L(184)),n=w(L(206)),f=w(L(111)),b=L(82),c=L(84);class e extends Ka.default{constructor(g){super(g);this.vectorRenderer_=new k.default(g);this.layerImageRatio_=g.getImageRatio();this.coordinateToVectorPixelTransform_=(0,b.create)();this.renderedPixelToCoordinateTransform_=null}disposeInternal(){this.vectorRenderer_.dispose();
super.disposeInternal()}getFeatures(g){if(!this.vectorRenderer_)return new Promise(m=>m([]));g=(0,b.apply)(this.coordinateToVectorPixelTransform_,(0,b.apply)(this.renderedPixelToCoordinateTransform_,g.slice()));return this.vectorRenderer_.getFeatures(g)}handleFontsChanged(){this.vectorRenderer_.handleFontsChanged()}prepareFrame(g){const m=g.pixelRatio,h=g.viewState,x=h.resolution;var O=g.viewHints;const G=this.vectorRenderer_;let I=g.extent;1!==this.layerImageRatio_&&(I=I.slice(0),(0,c.scaleFromCenter)(I,
this.layerImageRatio_));const F=(0,c.getWidth)(I)/x,C=(0,c.getHeight)(I)/x;if(!O[f.default.ANIMATING]&&!O[f.default.INTERACTING]&&!(0,c.isEmpty)(I)){G.useContainer(null,null);O=G.context;var r=g.layerStatesArray[g.layerIndex];O.globalAlpha=r.opacity;r=Object.assign({},r,{opacity:1});const y=Object.assign({},g,{declutterTree:new n.default(9),extent:I,size:[F,C],viewState:Object.assign({},g.viewState,{rotation:0}),layerStatesArray:[r],layerIndex:0});let K=!0;const R=new q.default(I,x,m,O.canvas,function(S){G.prepareFrame(y)&&
G.replayGroupChanged&&(G.clipping=!1,G.renderFrame(y,null)&&(G.renderDeclutter(y),K=!1),S())});R.addEventListener(p.default.CHANGE,function(){if(R.getState()===t.default.LOADED){this.image_=K?null:R;var S=R.getResolution(),ca=R.getPixelRatio();this.renderedResolution=S=S*m/ca;this.coordinateToVectorPixelTransform_=(0,b.compose)(this.coordinateToVectorPixelTransform_,F/2,C/2,1/S,-1/S,0,-h.center[0],-h.center[1])}}.bind(this));R.load()}this.image_&&(this.renderedPixelToCoordinateTransform_=g.pixelToCoordinateTransform.slice());
return!!this.image_}preRender(){}postRender(){}renderDeclutter(){}forEachFeatureAtCoordinate(g,m,h,x,O){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(g,m,h,x,O):super.forEachFeatureAtCoordinate(g,m,h,x,O)}}A.default=e};
shadow$provide[357]=function(Ka,L,sb,A){function w(q){return q&&q.__esModule?q:{default:q}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(309));var k=w(L(356));class p extends Ka.default{constructor(q){q=q?q:{};const t=Object.assign({},q);delete t.imageRatio;super(t);this.imageRatio_=void 0!==q.imageRatio?q.imageRatio:1}getImageRatio(){return this.imageRatio_}createRenderer(){return new k.default(this)}}A.default=p};
shadow$provide[358]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;class w{constructor(k,p){this.name=k;this.data=p;this.texture_=null}getTexture(k){if(!this.texture_){const p=k.createTexture();k.bindTexture(k.TEXTURE_2D,p);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST);
k.texImage2D(k.TEXTURE_2D,0,k.RGBA,this.data.length/4,1,0,k.RGBA,k.UNSIGNED_BYTE,this.data);this.texture_=p}return this.texture_}}A.default=w};
shadow$provide[359]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}function k(x,O,G){G=G?x.LINEAR:x.NEAREST;x.bindTexture(x.TEXTURE_2D,O);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,G);x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,G)}function p(x,O,G,I,F,C){const r=x.getGL();let y;G instanceof Float32Array?(y=r.FLOAT,x.getExtension("OES_texture_float"),
x=null!==x.getExtension("OES_texture_float_linear")):(y=r.UNSIGNED_BYTE,x=!0);k(r,O,C&&x);C=G.byteLength/I[1];O=1;0===C%8?O=8:0===C%4?O=4:0===C%2&&(O=2);switch(F){case 1:F=r.LUMINANCE;break;case 2:F=r.LUMINANCE_ALPHA;break;case 3:F=r.RGB;break;case 4:F=r.RGBA;break;default:throw Error(`Unsupported number of bands: ${F}`);}C=r.getParameter(r.UNPACK_ALIGNMENT);r.pixelStorei(r.UNPACK_ALIGNMENT,O);r.texImage2D(r.TEXTURE_2D,0,F,I[0],I[1],0,F,y,G);r.pixelStorei(r.UNPACK_ALIGNMENT,C)}Object.defineProperty(A,
"__esModule",{value:!0});A.default=void 0;var q=w(L(213));Ka=w(L(71));var t=w(L(72)),n=w(L(186)),f=w(L(190)),b=w(L(109)),c=w(L(332)),e=L(331),g=L(167);let m=null;class h extends Ka.default{constructor(x){super();this.textures=[];this.handleTileChange_=this.handleTileChange_.bind(this);this.renderSize_=(0,g.toSize)(x.grid.getTileSize(x.tile.tileCoord[0]));this.gutter_=x.gutter||0;this.bandCount=NaN;this.helper_=x.helper;const O=new c.default(e.ARRAY_BUFFER,e.STATIC_DRAW);O.fromArray([0,1,1,1,1,0,0,
0]);this.helper_.flushBufferData(O);this.coords=O;this.setTile(x.tile)}setTile(x){if(x!==this.tile)if(this.tile&&this.tile.removeEventListener(t.default.CHANGE,this.handleTileChange_),this.tile=x,this.textures.length=0,this.loaded=x.getState()===b.default.LOADED)this.uploadTile_();else{if(x instanceof n.default){const O=x.getImage();O instanceof Image&&!O.crossOrigin&&(O.crossOrigin="anonymous")}x.addEventListener(t.default.CHANGE,this.handleTileChange_)}}uploadTile_(){var x=this.helper_,O=x.getGL();
const G=this.tile;if(G instanceof n.default||G instanceof f.default){var I=O.createTexture();this.textures.push(I);this.bandCount=4;x=G.getImage();k(O,I,G.interpolate);O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,x)}else{I=G.getSize();I=[I[0]+2*this.gutter_,I[1]+2*this.gutter_];var F=G.getData(),C=I[0]*I[1],r=F instanceof Float32Array?Float32Array:Uint8Array,y=r.BYTES_PER_ELEMENT,K=F.byteLength/I[1];this.bandCount=Math.floor(K/y/I[0]);var R=Math.ceil(this.bandCount/4);if(1===R)C=O.createTexture(),
this.textures.push(C),p(x,C,F,I,this.bandCount,G.interpolate);else{var S=Array(R);for(var ca=0;ca<R;++ca){var M=O.createTexture();this.textures.push(M);S[ca]=new r(C*(ca<R-1?4:(this.bandCount-1)%4+1))}r=O=0;ca=I[0]*this.bandCount;for(M=0;M<I[1];++M){for(let aa=0;aa<ca;++aa){const Y=aa%this.bandCount,ea=S[Math.floor(Y/4)];ea[ea.length/C*Math.floor(O/this.bandCount)+Y%4]=F[r+aa];++O}r+=K/y}for(F=0;F<R;++F)y=S[F],p(x,this.textures[F],y,I,y.length/C,G.interpolate)}}}handleTileChange_(){this.tile.getState()===
b.default.LOADED&&(this.loaded=!0,this.uploadTile_(),this.dispatchEvent(t.default.CHANGE))}disposeInternal(){const x=this.helper_.getGL();this.helper_.deleteBuffer(this.coords);for(let O=0;O<this.textures.length;++O)x.deleteTexture(this.textures[O]);this.tile.removeEventListener(t.default.CHANGE,this.handleTileChange_)}getPixelData(x,O){if(!this.loaded)return null;const G=this.renderSize_[0];var I=this.renderSize_[1],F=this.gutter_;if(this.tile instanceof q.default){var C=this.tile.getSize();const y=
C[0],K=C[1];C=y+2*F;var r=K+2*F;x=F+Math.floor(x/G*y);I=F+Math.floor(O/I*K);O=this.tile.getData();if(O instanceof DataView)return F=O.byteLength/(C*r),I=F*(I*C+x),O=O.buffer.slice(I,I+F),new DataView(O);I=this.bandCount*(I*C+x);return O.slice(I,I+this.bandCount)}m||(r=document.createElement("canvas"),r.width=1,r.height=1,m=r.getContext("2d"));m.clearRect(0,0,1,1);r=this.tile.getImage();x=F+Math.floor(x/G*(r.width-2*F));O=F+Math.floor(O/I*(r.height-2*F));try{m.drawImage(r,x,O,1,1,0,0,1,1),C=m.getImageData(0,
0,1,1).data}catch(y){return m=null}return C}}A.default=h};
shadow$provide[360]=function(Ka,L,sb,A){function w(R){return R&&R.__esModule?R:{default:R}}function k(R,S){var ca=R.layerStatesArray[R.layerIndex];ca.extent&&(S=(0,m.getIntersection)(S,(0,O.fromUserExtent)(ca.extent,R.viewState.projection)));ca=ca.layer.getRenderSource();ca.getWrapX()||(R=ca.getTileGridForProjection(R.viewState.projection).getExtent())&&(S=(0,m.getIntersection)(S,R));return S}function p(R,S){return`${R.getKey()},${(0,x.getKey)(S)}`}Object.defineProperty(A,"__esModule",{value:!0});
A.default=A.Attributes=A.Uniforms=void 0;var q=w(L(181)),t=w(L(190)),n=w(L(195)),f=w(L(109)),b=w(L(359)),c=w(L(332));Ka=w(L(337));sb=L(336);var e=L(331),g=L(82),m=L(84),h=L(335),x=L(191),O=L(121),G=L(75),I=L(68),F=L(167);const C={TILE_TEXTURE_ARRAY:"u_tileTextures",TILE_TRANSFORM:"u_tileTransform",TRANSITION_ALPHA:"u_transitionAlpha",DEPTH:"u_depth",TEXTURE_PIXEL_WIDTH:"u_texturePixelWidth",TEXTURE_PIXEL_HEIGHT:"u_texturePixelHeight",TEXTURE_RESOLUTION:"u_textureResolution",TEXTURE_ORIGIN_X:"u_textureOriginX",
TEXTURE_ORIGIN_Y:"u_textureOriginY",RENDER_EXTENT:"u_renderExtent",RESOLUTION:"u_resolution",ZOOM:"u_zoom"};A.Uniforms=C;L={TEXTURE_COORD:"a_textureCoord"};A.Attributes=L;const r=[{name:L.TEXTURE_COORD,size:2,type:sb.AttributeType.FLOAT}],y={};class K extends Ka.default{constructor(R,S){super(R,{uniforms:S.uniforms});this.renderComplete=!1;this.tileTransform_=(0,g.create)();this.tempMat4_=(0,h.create)();this.tempTileRange_=new n.default(0,0,0,0);this.tempTileCoord_=(0,x.createOrUpdate)(0,0,0);this.tempSize_=
[0,0];this.vertexShader_=S.vertexShader;this.fragmentShader_=S.fragmentShader;this.indices_=new c.default(e.ELEMENT_ARRAY_BUFFER,e.STATIC_DRAW);this.indices_.fromArray([0,1,3,1,2,3]);this.tileTextureCache_=new q.default(void 0!==S.cacheSize?S.cacheSize:512);this.paletteTextures_=S.paletteTextures||[];this.frameState_=null;this.projection_=void 0}reset(R){super.reset({uniforms:R.uniforms});this.vertexShader_=R.vertexShader;this.fragmentShader_=R.fragmentShader;this.paletteTextures_=R.paletteTextures||
[];this.helper&&(this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_))}afterHelperCreated(){this.program_=this.helper.getProgram(this.fragmentShader_,this.vertexShader_);this.helper.flushBufferData(this.indices_)}isDrawableTile_(R){var S=this.getLayer();R=R.getState();S=S.getUseInterimTilesOnError();return R==f.default.LOADED||R==f.default.EMPTY||R==f.default.ERROR&&!S}prepareFrameInternal(R){this.projection_?R.viewState.projection!==this.projection_&&(this.clearCache(),this.projection_=
R.viewState.projection):this.projection_=R.viewState.projection;const S=this.getLayer().getRenderSource();return!S||(0,m.isEmpty)(k(R,R.extent))?!1:"ready"===S.getState()}enqueueTiles(R,S,ca,M,aa){const Y=R.viewState;var ea=this.getLayer();const Ga=ea.getRenderSource(),X=Ga.getTileGridForProjection(Y.projection),D=Ga.getGutterForProjection(Y.projection),B=(0,G.getUid)(Ga);B in R.wantedTiles||(R.wantedTiles[B]={});const N=R.wantedTiles[B],Z=this.tileTextureCache_;var Aa=ea.getMapInternal();for(aa=
Math.max(ca-aa,X.getMinZoom(),X.getZForResolution(Math.min(ea.getMaxResolution(),Aa?Aa.getView().getResolutionForZoom(Math.max(ea.getMinZoom(),0)):X.getResolution(0)),Ga.zDirection));ca>=aa;--ca){ea=X.getTileRangeForExtentAndZ(S,ca,this.tempTileRange_);Aa=X.getResolution(ca);for(let bb=ea.minX;bb<=ea.maxX;++bb)for(let ib=ea.minY;ib<=ea.maxY;++ib){const Ma=(0,x.createOrUpdate)(ca,bb,ib,this.tempTileCoord_);var qa=p(Ga,Ma);let ma,Fa;Z.containsKey(qa)&&(ma=Z.get(qa),Fa=ma.tile);ma&&ma.tile.key===Ga.getKey()||
(Fa=Ga.getTile(ca,bb,ib,R.pixelRatio,Y.projection),ma?this.isDrawableTile_(Fa)?ma.setTile(Fa):(qa=Fa.getInterimTile(),ma.setTile(qa)):(ma=new b.default({tile:Fa,grid:X,helper:this.helper,gutter:D}),Z.set(qa,ma)));qa=M;var la=ma,Ja=ca;Ja in qa||(qa[Ja]=[]);qa[Ja].push(la);qa=Fa.getKey();N[qa]=!0;Fa.getState()===f.default.IDLE&&(R.tileQueue.isKeyQueued(qa)||R.tileQueue.enqueue([Fa,B,X.getTileCoordCenter(Ma),Aa]))}}}renderFrame(R){this.frameState_=R;this.renderComplete=!0;const S=this.helper.getGL();
this.preRender(S,R);var ca=R.viewState,M=this.getLayer();const aa=M.getRenderSource();var Y=aa.getTileGridForProjection(ca.projection);const ea=aa.getGutterForProjection(ca.projection),Ga=k(R,R.extent),X=Y.getZForResolution(ca.resolution,aa.zDirection),D={},B=M.getPreload();if(R.nextExtent){M=Y.getZForResolution(ca.nextResolution,aa.zDirection);var N=k(R,R.nextExtent);this.enqueueTiles(R,N,M,D,B)}this.enqueueTiles(R,Ga,X,D,0);0<B&&setTimeout(()=>{this.enqueueTiles(R,Ga,X-1,D,B-1)},0);M={};N=(0,G.getUid)(this);
var Z=R.time,Aa=!1,qa=D[X];for(let ra=0,ya=qa.length;ra<ya;++ra){var la=qa[ra],Ja=la.tile;if(!(Ja instanceof t.default&&Ja.getState()===f.default.EMPTY)){var bb=Ja.tileCoord;if(la.loaded){la=Ja.getAlpha(N,Z);if(1===la){Ja.endTransition(N);continue}Aa=!0;Ja=(0,x.getKey)(bb);M[Ja]=la}this.renderComplete=!1;if(!this.findAltTiles_(Y,bb,X+1,D))for(Ja=Y.getMinZoom(),la=X-1;la>=Ja&&!this.findAltTiles_(Y,bb,la,D);--la);}}this.helper.useProgram(this.program_,R);this.helper.prepareDraw(R,!Aa);N=Object.keys(D).map(Number).sort(I.numberSafeCompareFunction);
Z=ca.center[0];Aa=ca.center[1];for(let ra=0,ya=N.length;ra<ya;++ra){var ib=N[ra];qa=Y.getResolution(ib);bb=(0,F.toSize)(Y.getTileSize(ib),this.tempSize_);Ja=Y.getOrigin(ib);la=bb[0]+2*ea;const oa=bb[1]+2*ea,xa=la/oa,Ua=(Z-Ja[0])/(bb[0]*qa),fb=(Ja[1]-Aa)/(bb[1]*qa),sa=ca.resolution/qa,Oa=2*(1-1/(ib+1))-1;ib=D[ib];for(let ja=0,U=ib.length;ja<U;++ja){var Ma=ib[ja];if(!Ma.loaded)continue;const ka=Ma.tile.tileCoord;var ma=(0,x.getKey)(ka),Fa=ka[1];const ua=ka[2];(0,g.reset)(this.tileTransform_);(0,g.scale)(this.tileTransform_,
2/(R.size[0]*sa/la),-2/(R.size[1]*sa/la));(0,g.rotate)(this.tileTransform_,ca.rotation);(0,g.scale)(this.tileTransform_,1,1/xa);(0,g.translate)(this.tileTransform_,(bb[0]*(Fa-Ua)-ea)/la,(bb[1]*(ua-fb)-ea)/oa);this.helper.setUniformMatrixValue(C.TILE_TRANSFORM,(0,h.fromTransform)(this.tempMat4_,this.tileTransform_));this.helper.bindBuffer(Ma.coords);this.helper.bindBuffer(this.indices_);this.helper.enableAttributes(r);let Ta=0;for(;Ta<Ma.textures.length;){var Ra=`${C.TILE_TEXTURE_ARRAY}[${Ta}]`;S.activeTexture(S["TEXTURE"+
Ta]);S.bindTexture(S.TEXTURE_2D,Ma.textures[Ta]);S.uniform1i(this.helper.getUniformLocation(Ra),Ta);++Ta}for(Ma=0;Ma<this.paletteTextures_.length;++Ma){Ra=this.paletteTextures_[Ma];S.activeTexture(S["TEXTURE"+Ta]);const eb=Ra.getTexture(S);S.bindTexture(S.TEXTURE_2D,eb);S.uniform1i(this.helper.getUniformLocation(Ra.name),Ta);++Ta}ma=ma in M?M[ma]:1;1>ma&&(R.animate=!0);this.helper.setUniformFloatValue(C.TRANSITION_ALPHA,ma);this.helper.setUniformFloatValue(C.DEPTH,Oa);this.helper.setUniformFloatValue(C.TEXTURE_PIXEL_WIDTH,
la);this.helper.setUniformFloatValue(C.TEXTURE_PIXEL_HEIGHT,oa);this.helper.setUniformFloatValue(C.TEXTURE_RESOLUTION,qa);this.helper.setUniformFloatValue(C.TEXTURE_ORIGIN_X,Ja[0]+Fa*bb[0]*qa-ea*qa);this.helper.setUniformFloatValue(C.TEXTURE_ORIGIN_Y,Ja[1]-ua*bb[1]*qa+ea*qa);Fa=Ga;0<ea&&(Fa=Y.getTileCoordExtent(ka),(0,m.getIntersection)(Fa,Ga,Fa));this.helper.setUniformFloatVec4(C.RENDER_EXTENT,Fa);this.helper.setUniformFloatValue(C.RESOLUTION,ca.resolution);this.helper.setUniformFloatValue(C.ZOOM,
ca.zoom);this.helper.drawElements(0,this.indices_.getSize())}}this.helper.finalizeDraw(R,this.dispatchPreComposeEvent,this.dispatchPostComposeEvent);ca=this.helper.getCanvas();for(Y=this.tileTextureCache_;Y.canExpireCache();)Y.pop().dispose();R.postRenderFunctions.push(function(ra,ya){aa.updateCacheSize(.1,ya.viewState.projection);aa.expireCache(ya.viewState.projection,y)});this.postRender(S,R);return ca}getData(R){if(!this.helper.getGL())return null;var S=this.frameState_;if(!S)return null;var ca=
this.getLayer();R=(0,g.apply)(S.pixelToCoordinateTransform,R.slice());S=S.viewState;var M=ca.getExtent();if(M&&!(0,m.containsCoordinate)((0,O.fromUserExtent)(M,S.projection),R))return null;ca=ca.getSources((0,m.boundingExtent)([R]),S.resolution);for(M=ca.length-1;0<=M;--M){var aa=ca[M];if("ready"===aa.getState()){var Y=aa.getTileGridForProjection(S.projection);if(aa.getWrapX())break;var ea=Y.getExtent();if(!ea||(0,m.containsCoordinate)(ea,R))break}}if(0>M)return null;ea=this.tileTextureCache_;for(ca=
Y.getZForResolution(S.resolution);ca>=Y.getMinZoom();--ca){S=Y.getTileCoordForCoordAndZ(R,ca);M=p(aa,S);if(!ea.containsKey(M))continue;M=ea.get(M);const Ga=M.tile;if(Ga instanceof t.default&&Ga.getState()===f.default.EMPTY)break;if(M.loaded)return aa=Y.getOrigin(ca),ea=(0,F.toSize)(Y.getTileSize(ca)),Y=Y.getResolution(ca),M.getPixelData((R[0]-aa[0])/Y-S[1]*ea[0],(aa[1]-R[1])/Y-S[2]*ea[1])}return null}findAltTiles_(R,S,ca,M){R=R.getTileRangeForTileCoordAndZ(S,ca,this.tempTileRange_);if(!R)return!1;
S=!0;const aa=this.tileTextureCache_,Y=this.getLayer().getRenderSource();for(let D=R.minX;D<=R.maxX;++D)for(let B=R.minY;B<=R.maxY;++B){var ea=p(Y,[ca,D,B]),Ga=!1;if(aa.containsKey(ea)&&(ea=aa.get(ea),ea.loaded)){Ga=M;var X=ca;X in Ga||(Ga[X]=[]);Ga[X].push(ea);Ga=!0}Ga||(S=!1)}return S}clearCache(){const R=this.tileTextureCache_;R.forEach(S=>S.dispose());R.clear()}removeHelper(){this.helper&&this.clearCache();super.removeHelper()}disposeInternal(){const R=this.helper;R&&(R.getGL().deleteProgram(this.program_),
delete this.program_,R.deleteBuffer(this.indices_));super.disposeInternal();delete this.indices_;delete this.tileTextureCache_;delete this.frameState_}}A.default=K};
shadow$provide[361]=function(Ka,L,sb,A){function w(M){if("number"===typeof M)return S.NUMBER;if("boolean"===typeof M)return S.BOOLEAN;if("string"===typeof M)return(0,R.isStringColor)(M)?S.COLOR|S.STRING:S.STRING;if(!Array.isArray(M))throw Error(`Unhandled value type: ${JSON.stringify(M)}`);if(M.every(function(Y){return"number"===typeof Y}))return 3===M.length||4===M.length?S.COLOR|S.NUMBER_ARRAY:S.NUMBER_ARRAY;if("string"!==typeof M[0])throw Error(`Expected an expression operator but received: ${JSON.stringify(M)}`);
const aa=ca[M[0]];if(void 0===aa)throw Error(`Unrecognized expression operator: ${JSON.stringify(M)}`);return aa.getReturnType(M.slice(1))}function k(M){return 0===Math.log2(M)%1}function p(M){M=M.toString();return M.includes(".")?M:M+".0"}function q(M){if(2>M.length||4<M.length)throw Error("`formatArray` can only output `vec2`, `vec3` or `vec4` arrays.");return`vec${M.length}(${M.map(p).join(", ")})`}function t(M){M=(0,R.asArray)(M).slice();4>M.length&&M.push(1);return q(M.map(function(aa,Y){return 3>
Y?aa/255:aa}))}function n(M,aa){void 0===M.stringLiteralsMap[aa]&&(M.stringLiteralsMap[aa]=Object.keys(M.stringLiteralsMap).length);return M.stringLiteralsMap[aa]}function f(M,aa){return p(n(M,aa))}function b(M,aa,Y){if(Array.isArray(aa)&&"string"===typeof aa[0]){var ea=ca[aa[0]];if(void 0===ea)throw Error(`Unrecognized expression operator: ${JSON.stringify(aa)}`);return ea.toGlsl(M,aa.slice(1),Y)}ea=w(aa);if(0<(ea&S.NUMBER))return p(aa);if(0<(ea&S.BOOLEAN))return aa.toString();if(0<(ea&S.STRING)&&
(void 0===Y||Y==S.STRING))return f(M,aa.toString());if(0<(ea&S.COLOR)&&(void 0===Y||Y==S.COLOR))return t(aa);if(0<(ea&S.NUMBER_ARRAY))return q(aa);throw Error(`Unexpected expression ${aa} (expected type ${Y})`);}function c(M){if(!(w(M)&S.NUMBER))throw Error(`A numeric value was expected, got ${JSON.stringify(M)} instead`);}function e(M){for(let aa=0;aa<M.length;aa++)c(M[aa])}function g(M){if(!(w(M)&S.STRING))throw Error(`A string value was expected, got ${JSON.stringify(M)} instead`);}function m(M){if(!(w(M)&
S.BOOLEAN))throw Error(`A boolean value was expected, got ${JSON.stringify(M)} instead`);}function h(M,aa){if(M.length!==aa)throw Error(`Exactly ${aa} arguments were expected, got ${M.length} instead`);}function x(M,aa){if(M.length<aa)throw Error(`At least ${aa} arguments were expected, got ${M.length} instead`);}function O(M,aa){if(M.length>aa)throw Error(`At most ${aa} arguments were expected, got ${M.length} instead`);}function G(M){if(0!==M.length%2)throw Error(`An even amount of arguments was expected, got ${M} instead`);
}function I(M,aa){if(!k(aa))throw Error(`Could not infer only one type from the following expression: ${JSON.stringify(M)}`);}function F(M){return"u_var_"+M}function C(M){return{getReturnType:function(aa){return S.BOOLEAN},toGlsl:function(aa,Y){h(Y,2);let ea=S.ANY;for(let Ga=0;Ga<Y.length;Ga++)ea&=w(Y[Ga]);if(ea===S.NONE)throw Error(`All arguments should be of compatible type, got ${JSON.stringify(Y)} instead`);ea&=~S.COLOR;return`(${b(aa,Y[0],ea)} ${M} ${b(aa,Y[1],ea)})`}}}function r(M){return{getReturnType:function(aa){return S.BOOLEAN},
toGlsl:function(aa,Y){x(Y,2);for(var ea=0;ea<Y.length;ea++)m(Y[ea]);ea="";ea=Y.map(Ga=>b(aa,Ga)).join(` ${M} `);return`(${ea})`}}}Object.defineProperty(A,"__esModule",{value:!0});A.getValueType=w;A.isTypeUnique=k;A.numberToGlsl=p;A.arrayToGlsl=q;A.colorToGlsl=t;A.getStringNumberEquivalent=n;A.stringToGlsl=f;A.expressionToGlsl=b;A.uniformNameForVariable=F;A.PALETTE_TEXTURE_ARRAY=A.Operators=A.ValueTypes=void 0;var y=function(M){return M&&M.__esModule?M:{default:M}}(L(358)),K=L(360),R=L(86);const S=
{NUMBER:1,STRING:2,COLOR:4,BOOLEAN:8,NUMBER_ARRAY:16,ANY:31,NONE:0};A.ValueTypes=S;const ca={};A.Operators=ca;ca.get={getReturnType:function(M){return S.ANY},toGlsl:function(M,aa){h(aa,1);g(aa[0]);aa=aa[0].toString();M.attributes.includes(aa)||M.attributes.push(aa);return(M.inFragmentShader?"v_":"a_")+aa}};ca["var"]={getReturnType:function(M){return S.ANY},toGlsl:function(M,aa){h(aa,1);g(aa[0]);aa=aa[0].toString();M.variables.includes(aa)||M.variables.push(aa);return F(aa)}};A.PALETTE_TEXTURE_ARRAY=
"u_paletteTextures";ca.palette={getReturnType:function(M){return S.COLOR},toGlsl:function(M,aa){h(aa,2);c(aa[0]);const Y=b(M,aa[0]);var ea=aa[1];if(!Array.isArray(ea))throw Error("The second argument of palette must be an array");aa=ea.length;var Ga=new Uint8Array(4*aa);for(let B=0;B<aa;B++){var X=ea[B];if("string"===typeof X)X=(0,R.fromString)(X);else{if(!Array.isArray(X))throw Error("The second argument of palette must be an array of strings or colors");var D=X.length;if(4!==D){if(3!==D)throw Error(`Expected palette color to have 3 or 4 values, got ${D}`);
X=[X[0],X[1],X[2],1]}}D=4*B;Ga[D]=X[0];Ga[D+1]=X[1];Ga[D+2]=X[2];Ga[D+3]=255*X[3]}M.paletteTextures||(M.paletteTextures=[]);ea=`${"u_paletteTextures"}[${M.paletteTextures.length}]`;Ga=new y.default(ea,Ga);M.paletteTextures.push(Ga);return`texture2D(${ea}, vec2((${Y} + 0.5) / ${aa}.0, 0.5))`}};ca.band={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){x(aa,1);O(aa,3);var Y=aa[0];if(!("getBandValue"in M.functions)){var ea="";const Ga=M.bandCount||1;for(let X=0;X<Ga;X++){const D=Math.floor(X/
4);let B=X%4;X===Ga-1&&1===B&&(B=3);ea+=`
          if (band == ${X+1}.0) {
            return texture2D(${`${K.Uniforms.TILE_TEXTURE_ARRAY}[${D}]`}, v_textureCoord + vec2(dx, dy))[${B}];
          }
        `}M.functions.getBandValue=`
        float getBandValue(float band, float xOffset, float yOffset) {
          float dx = xOffset / ${K.Uniforms.TEXTURE_PIXEL_WIDTH};
          float dy = yOffset / ${K.Uniforms.TEXTURE_PIXEL_HEIGHT};
          ${ea}
        }
      `}Y=b(M,Y);ea=b(M,aa[1]||0);M=b(M,aa[2]||0);return`${"getBandValue"}(${Y}, ${ea}, ${M})`}};ca.time={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,0);return"u_time"}};ca.zoom={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,0);return"u_zoom"}};ca.resolution={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,0);return"u_resolution"}};ca["*"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,
aa[0])} * ${b(M,aa[1])})`}};ca["/"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} / ${b(M,aa[1])})`}};ca["+"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} + ${b(M,aa[1])})`}};ca["-"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} - ${b(M,aa[1])})`}};ca.clamp={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,3);
e(aa);const Y=b(M,aa[1]),ea=b(M,aa[2]);return`clamp(${b(M,aa[0])}, ${Y}, ${ea})`}};ca["%"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`mod(${b(M,aa[0])}, ${b(M,aa[1])})`}};ca["^"]={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,2);e(aa);return`pow(${b(M,aa[0])}, ${b(M,aa[1])})`}};ca.abs={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,1);e(aa);return`abs(${b(M,aa[0])})`}};ca.floor={getReturnType:function(M){return S.NUMBER},
toGlsl:function(M,aa){h(aa,1);e(aa);return`floor(${b(M,aa[0])})`}};ca.round={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,1);e(aa);return`floor(${b(M,aa[0])} + 0.5)`}};ca.ceil={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,1);e(aa);return`ceil(${b(M,aa[0])})`}};ca.sin={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,1);e(aa);return`sin(${b(M,aa[0])})`}};ca.cos={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){h(aa,
1);e(aa);return`cos(${b(M,aa[0])})`}};ca.atan={getReturnType:function(M){return S.NUMBER},toGlsl:function(M,aa){x(aa,1);O(aa,2);e(aa);return 2===aa.length?`atan(${b(M,aa[0])}, ${b(M,aa[1])})`:`atan(${b(M,aa[0])})`}};ca["\x3e"]={getReturnType:function(M){return S.BOOLEAN},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} > ${b(M,aa[1])})`}};ca["\x3e\x3d"]={getReturnType:function(M){return S.BOOLEAN},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} >= ${b(M,aa[1])})`}};ca["\x3c"]={getReturnType:function(M){return S.BOOLEAN},
toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} < ${b(M,aa[1])})`}};ca["\x3c\x3d"]={getReturnType:function(M){return S.BOOLEAN},toGlsl:function(M,aa){h(aa,2);e(aa);return`(${b(M,aa[0])} <= ${b(M,aa[1])})`}};ca["\x3d\x3d"]=C("\x3d\x3d");ca["!\x3d"]=C("!\x3d");ca["!"]={getReturnType:function(M){return S.BOOLEAN},toGlsl:function(M,aa){h(aa,1);m(aa[0]);return`(!${b(M,aa[0])})`}};ca.all=r("\x26\x26");ca.any=r("||");ca.between={getReturnType:function(M){return S.BOOLEAN},toGlsl:function(M,aa){h(aa,
3);e(aa);const Y=b(M,aa[1]),ea=b(M,aa[2]);M=b(M,aa[0]);return`(${M} >= ${Y} && ${M} <= ${ea})`}};ca.array={getReturnType:function(M){return S.NUMBER_ARRAY},toGlsl:function(M,aa){x(aa,2);O(aa,4);e(aa);const Y=aa.map(function(ea){return b(M,ea,S.NUMBER)});return`vec${aa.length}(${Y.join(", ")})`}};ca.color={getReturnType:function(M){return S.COLOR},toGlsl:function(M,aa){x(aa,3);O(aa,4);e(aa);3===aa.length&&aa.push(1);const Y=aa.map(function(ea,Ga){return b(M,ea,S.NUMBER)+(3>Ga?" / 255.0":"")});return`vec${aa.length}(${Y.join(", ")})`}};
ca.interpolate={getReturnType:function(M){let aa=S.COLOR|S.NUMBER;for(let Y=3;Y<M.length;Y+=2)aa&=w(M[Y]);return aa},toGlsl:function(M,aa,Y){G(aa);x(aa,6);var ea=aa[0];switch(ea[0]){case "linear":var Ga=1;break;case "exponential":Ga=ea[1];break;default:Ga=null}if(!Ga)throw Error(`Invalid interpolation type for "interpolate" operator, received: ${JSON.stringify(ea)}`);Y=void 0!==Y?Y:S.ANY;Y&=ca.interpolate.getReturnType(aa);I(aa,Y);ea=b(M,aa[1]);Ga=p(Ga);var X="";for(let D=2;D<aa.length-2;D+=2){const B=
b(M,aa[D]);X=X||b(M,aa[D+1],Y);const N=b(M,aa[D+2]),Z=b(M,aa[D+3],Y);X=`mix(${X}, ${Z}, pow(clamp((${ea} - ${B}) / (${N} - ${B}), 0.0, 1.0), ${Ga}))`}return X}};ca.match={getReturnType:function(M){let aa=S.ANY;for(let Y=2;Y<M.length;Y+=2)aa&=w(M[Y]);return aa&=w(M[M.length-1])},toGlsl:function(M,aa,Y){G(aa);x(aa,4);Y=void 0!==Y?Y:S.ANY;Y&=ca.match.getReturnType(aa);I(aa,Y);const ea=b(M,aa[0]),Ga=b(M,aa[aa.length-1],Y);let X=null;for(let D=aa.length-3;1<=D;D-=2){const B=b(M,aa[D]),N=b(M,aa[D+1],Y);
X=`(${ea} == ${B} ? ${N} : ${X||Ga})`}return X}};ca["case"]={getReturnType:function(M){let aa=S.ANY;for(let Y=1;Y<M.length;Y+=2)aa&=w(M[Y]);return aa&=w(M[M.length-1])},toGlsl:function(M,aa,Y){if(0===aa.length%2)throw Error(`An odd amount of arguments was expected, got ${aa} instead`);x(aa,3);Y=void 0!==Y?Y:S.ANY;Y&=ca["case"].getReturnType(aa);I(aa,Y);for(var ea=0;ea<aa.length-1;ea+=2)m(aa[ea]);ea=b(M,aa[aa.length-1],Y);let Ga=null;for(let X=aa.length-3;0<=X;X-=2){const D=b(M,aa[X]),B=b(M,aa[X+1],
Y);Ga=`(${D} ? ${B} : ${Ga||ea})`}return Ga}}};
shadow$provide[362]=function(Ka,L,sb,A){Object.defineProperty(A,"__esModule",{value:!0});A.parseLiteralStyle=function(p){const q=p.symbol;var t=void 0!==q.size?q.size:1,n=q.color||"white",f=q.textureCoord||[0,0,1,1],b=q.offset||[0,0],c=void 0!==q.opacity?q.opacity:1,e=void 0!==q.rotation?q.rotation:0;const g={inFragmentShader:!1,variables:[],attributes:[],stringLiteralsMap:{},functions:{}};var m=(0,w.expressionToGlsl)(g,t,w.ValueTypes.NUMBER_ARRAY|w.ValueTypes.NUMBER);b=(0,w.expressionToGlsl)(g,b,
w.ValueTypes.NUMBER_ARRAY);f=(0,w.expressionToGlsl)(g,f,w.ValueTypes.NUMBER_ARRAY);const h=(0,w.expressionToGlsl)(g,e,w.ValueTypes.NUMBER);e={inFragmentShader:!0,variables:g.variables,attributes:[],stringLiteralsMap:g.stringLiteralsMap,functions:{}};n=(0,w.expressionToGlsl)(e,n,w.ValueTypes.COLOR);c=(0,w.expressionToGlsl)(e,c,w.ValueTypes.NUMBER);let x="1.0";t=`vec2(${(0,w.expressionToGlsl)(e,t,w.ValueTypes.NUMBER_ARRAY|w.ValueTypes.NUMBER)}).x`;switch(q.symbolType){case "square":break;case "image":break;
case "circle":x=`(1.0-smoothstep(1.-4./${t},1.,dot(v_quadCoord-.5,v_quadCoord-.5)*4.))`;break;case "triangle":x=`(1.0-smoothstep(.5-3./${t},.5,cos(floor(.5+${"(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))"}/2.094395102)*2.094395102-${"(atan((v_quadCoord*2.-1.).x,(v_quadCoord*2.-1.).y))"})*length(${"(v_quadCoord*2.-1.)"})))`;break;default:throw Error("Unexpected symbol type: "+q.symbolType);}const O=(new k).setSizeExpression(`vec2(${m})`).setRotationExpression(h).setSymbolOffsetExpression(b).setTextureCoordinateExpression(f).setSymbolRotateWithView(!!q.rotateWithView).setColorExpression(`vec4(${n}.rgb, ${n}.a * ${c} * ${x})`);
p.filter&&(m=(0,w.expressionToGlsl)(e,p.filter,w.ValueTypes.BOOLEAN),O.setFragmentDiscardExpression(`!${m}`));const G={};e.variables.forEach(function(I){const F=(0,w.uniformNameForVariable)(I);O.addUniform(`float ${F}`);G[F]=function(){if(!p.variables||void 0===p.variables[I])throw Error(`The following variable is missing from the style: ${I}`);let C=p.variables[I];"string"===typeof C&&(C=(0,w.getStringNumberEquivalent)(g,C));return void 0!==C?C:-9999999}});"image"===q.symbolType&&q.src&&(m=new Image,
m.crossOrigin=void 0===q.crossOrigin?"anonymous":q.crossOrigin,m.src=q.src,O.addUniform("sampler2D u_texture").setColorExpression(O.getColorExpression()+" * texture2D(u_texture, v_texCoord)"),G.u_texture=m);e.attributes.forEach(function(I){g.attributes.includes(I)||g.attributes.push(I);O.addVarying(`v_${I}`,"float",`a_${I}`)});g.attributes.forEach(function(I){O.addAttribute(`float a_${I}`)});return{builder:O,attributes:g.attributes.map(function(I){return{name:I,callback:function(F,C){F=C[I];"string"===
typeof F&&(F=(0,w.getStringNumberEquivalent)(g,F));return void 0!==F?F:-9999999}}}),uniforms:G}};A.ShaderBuilder=void 0;var w=L(361);class k{constructor(){this.uniforms=[];this.attributes=[];this.varyings=[];this.sizeExpression="vec2(1.0)";this.rotationExpression="0.0";this.offsetExpression="vec2(0.0)";this.colorExpression="vec4(1.0)";this.texCoordExpression="vec4(0.0, 0.0, 1.0, 1.0)";this.discardExpression="false";this.rotateWithView=!1}addUniform(p){this.uniforms.push(p);return this}addAttribute(p){this.attributes.push(p);
return this}addVarying(p,q,t){this.varyings.push({name:p,type:q,expression:t});return this}setSizeExpression(p){this.sizeExpression=p;return this}setRotationExpression(p){this.rotationExpression=p;return this}setSymbolOffsetExpression(p){this.offsetExpression=p;return this}setColorExpression(p){this.colorExpression=p;return this}setTextureCoordinateExpression(p){this.texCoordExpression=p;return this}setFragmentDiscardExpression(p){this.discardExpression=p;return this}setSymbolRotateWithView(p){this.rotateWithView=
p;return this}getSizeExpression(){return this.sizeExpression}getOffsetExpression(){return this.offsetExpression}getColorExpression(){return this.colorExpression}getTextureCoordinateExpression(){return this.texCoordExpression}getFragmentDiscardExpression(){return this.discardExpression}getSymbolVertexShader(p){const q=this.rotateWithView?"u_offsetScaleMatrix * u_offsetRotateMatrix":"u_offsetScaleMatrix";let t=this.attributes,n=this.varyings;p&&(t=t.concat("vec4 a_hitColor"),n=n.concat({name:"v_hitColor",
type:"vec4",expression:"a_hitColor"}));return`precision mediump float;
uniform mat4 u_projectionMatrix;
uniform mat4 u_offsetScaleMatrix;
uniform mat4 u_offsetRotateMatrix;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
${this.uniforms.map(function(f){return"uniform "+f+";"}).join("\n")}
attribute vec2 a_position;
attribute float a_index;
${t.map(function(f){return"attribute "+f+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
${n.map(function(f){return"varying "+f.type+" "+f.name+";"}).join("\n")}
void main(void) {
  mat4 offsetMatrix = ${q};
  vec2 halfSize = ${this.sizeExpression} * 0.5;
  vec2 offset = ${this.offsetExpression};
  float angle = ${this.rotationExpression};
  float offsetX;
  float offsetY;
  if (a_index == 0.0) {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  } else if (a_index == 1.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y - halfSize.y) * sin(angle);
    offsetY = (offset.y - halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else if (a_index == 2.0) {
    offsetX = (offset.x + halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x + halfSize.x) * sin(angle);
  } else {
    offsetX = (offset.x - halfSize.x) * cos(angle) + (offset.y + halfSize.y) * sin(angle);
    offsetY = (offset.y + halfSize.y) * cos(angle) - (offset.x - halfSize.x) * sin(angle);
  }
  vec4 offsets = offsetMatrix * vec4(offsetX, offsetY, 0.0, 0.0);
  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;
  vec4 texCoord = ${this.texCoordExpression};
  float u = a_index == 0.0 || a_index == 3.0 ? texCoord.s : texCoord.p;
  float v = a_index == 2.0 || a_index == 3.0 ? texCoord.t : texCoord.q;
  v_texCoord = vec2(u, v);
  u = a_index == 0.0 || a_index == 3.0 ? 0.0 : 1.0;
  v = a_index == 2.0 || a_index == 3.0 ? 0.0 : 1.0;
  v_quadCoord = vec2(u, v);
${n.map(function(f){return"  "+f.name+" \x3d "+f.expression+";"}).join("\n")}
}`}getSymbolFragmentShader(p){const q=p?"  if (gl_FragColor.a \x3c 0.1) { discard; } gl_FragColor \x3d v_hitColor;":"";let t=this.varyings;p&&(t=t.concat({name:"v_hitColor",type:"vec4",expression:"a_hitColor"}));return`precision mediump float;
uniform float u_time;
uniform float u_zoom;
uniform float u_resolution;
${this.uniforms.map(function(n){return"uniform "+n+";"}).join("\n")}
varying vec2 v_texCoord;
varying vec2 v_quadCoord;
${t.map(function(n){return"varying "+n.type+" "+n.name+";"}).join("\n")}
void main(void) {
  if (${this.discardExpression}) { discard; }
  gl_FragColor = ${this.colorExpression};
  gl_FragColor.rgb *= gl_FragColor.a;
${q}
}`}}A.ShaderBuilder=k};
shadow$provide[363]=function(Ka,L,sb,A){function w(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=w(L(91));var k=w(L(343)),p=L(362);class q extends Ka.default{constructor(t){super(Object.assign({},t));this.parseResult_=(0,p.parseLiteralStyle)(t.style);this.styleVariables_=t.style.variables||{};this.hitDetectionDisabled_=!!t.disableHitDetection}createRenderer(){return new k.default(this,{vertexShader:this.parseResult_.builder.getSymbolVertexShader(),
fragmentShader:this.parseResult_.builder.getSymbolFragmentShader(),hitVertexShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolVertexShader(!0),hitFragmentShader:!this.hitDetectionDisabled_&&this.parseResult_.builder.getSymbolFragmentShader(!0),uniforms:this.parseResult_.uniforms,attributes:this.parseResult_.attributes})}updateStyleVariables(t){Object.assign(this.styleVariables_,t);this.changed()}}A.default=q};
shadow$provide[364]=function(Ka,L,sb,A){function w(b){if("function"!==typeof WeakMap)return null;var c=new WeakMap,e=new WeakMap;return(w=function(g){return g?e:c})(b)}function k(b){return b&&b.__esModule?b:{default:b}}function p(b,c){const e=`
    attribute vec2 ${t.Attributes.TEXTURE_COORD};
    uniform mat4 ${t.Uniforms.TILE_TRANSFORM};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${t.Uniforms.TEXTURE_RESOLUTION};
    uniform float ${t.Uniforms.TEXTURE_ORIGIN_X};
    uniform float ${t.Uniforms.TEXTURE_ORIGIN_Y};
    uniform float ${t.Uniforms.DEPTH};

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;

    void main() {
      v_textureCoord = ${t.Attributes.TEXTURE_COORD};
      v_mapCoord = vec2(
        ${t.Uniforms.TEXTURE_ORIGIN_X} + ${t.Uniforms.TEXTURE_RESOLUTION} * ${t.Uniforms.TEXTURE_PIXEL_WIDTH} * v_textureCoord[0],
        ${t.Uniforms.TEXTURE_ORIGIN_Y} - ${t.Uniforms.TEXTURE_RESOLUTION} * ${t.Uniforms.TEXTURE_PIXEL_HEIGHT} * v_textureCoord[1]
      );
      gl_Position = ${t.Uniforms.TILE_TRANSFORM} * vec4(${t.Attributes.TEXTURE_COORD}, ${t.Uniforms.DEPTH}, 1.0);
    }
  `,g={inFragmentShader:!0,variables:[],attributes:[],stringLiteralsMap:{},functions:{},bandCount:c};var m=[];if(void 0!==b.color){var h=(0,n.expressionToGlsl)(g,b.color,n.ValueTypes.COLOR);m.push(`color = ${h};`)}void 0!==b.contrast&&(h=(0,n.expressionToGlsl)(g,b.contrast,n.ValueTypes.NUMBER),m.push(`color.rgb = clamp((${h} + 1.0) * color.rgb - (${h} / 2.0), vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));void 0!==b.exposure&&(h=(0,n.expressionToGlsl)(g,b.exposure,n.ValueTypes.NUMBER),m.push(`color.rgb = clamp((${h} + 1.0) * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));
void 0!==b.saturation&&(h=(0,n.expressionToGlsl)(g,b.saturation,n.ValueTypes.NUMBER),m.push(`
      float saturation = ${h} + 1.0;
      float sr = (1.0 - saturation) * 0.2126;
      float sg = (1.0 - saturation) * 0.7152;
      float sb = (1.0 - saturation) * 0.0722;
      mat3 saturationMatrix = mat3(
        sr + saturation, sr, sr,
        sg, sg + saturation, sg,
        sb, sb, sb + saturation
      );
      color.rgb = clamp(saturationMatrix * color.rgb, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));
    `));void 0!==b.gamma&&(h=(0,n.expressionToGlsl)(g,b.gamma,n.ValueTypes.NUMBER),m.push(`color.rgb = pow(color.rgb, vec3(1.0 / ${h}));`));void 0!==b.brightness&&(h=(0,n.expressionToGlsl)(g,b.brightness,n.ValueTypes.NUMBER),m.push(`color.rgb = clamp(color.rgb + ${h}, vec3(0.0, 0.0, 0.0), vec3(1.0, 1.0, 1.0));`));h={};var x=g.variables.length;if(1<x&&!b.variables)throw Error(`Missing variables in style (expected ${g.variables})`);for(let O=0;O<x;++O){const G=g.variables[O];if(!(G in b.variables))throw Error(`Missing '${G}' in style variables`);
const I=(0,n.uniformNameForVariable)(G);h[I]=function(){let F=b.variables[G];"string"===typeof F&&(F=(0,n.getStringNumberEquivalent)(g,F));return void 0!==F?F:-9999999}}x=Object.keys(h).map(function(O){return`uniform float ${O};`});x.push(`uniform sampler2D ${t.Uniforms.TILE_TEXTURE_ARRAY}[${Math.ceil(c/4)}];`);g.paletteTextures&&x.push(`uniform sampler2D ${n.PALETTE_TEXTURE_ARRAY}[${g.paletteTextures.length}];`);c=Object.keys(g.functions).map(function(O){return g.functions[O]});m=`
    #ifdef GL_FRAGMENT_PRECISION_HIGH
    precision highp float;
    #else
    precision mediump float;
    #endif

    varying vec2 v_textureCoord;
    varying vec2 v_mapCoord;
    uniform vec4 ${t.Uniforms.RENDER_EXTENT};
    uniform float ${t.Uniforms.TRANSITION_ALPHA};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_WIDTH};
    uniform float ${t.Uniforms.TEXTURE_PIXEL_HEIGHT};
    uniform float ${t.Uniforms.RESOLUTION};
    uniform float ${t.Uniforms.ZOOM};

    ${x.join("\n")}

    ${c.join("\n")}

    void main() {
      if (
        v_mapCoord[0] < ${t.Uniforms.RENDER_EXTENT}[0] ||
        v_mapCoord[1] < ${t.Uniforms.RENDER_EXTENT}[1] ||
        v_mapCoord[0] > ${t.Uniforms.RENDER_EXTENT}[2] ||
        v_mapCoord[1] > ${t.Uniforms.RENDER_EXTENT}[3]
      ) {
        discard;
      }

      vec4 color = texture2D(${t.Uniforms.TILE_TEXTURE_ARRAY}[0],  v_textureCoord);

      ${m.join("\n")}

      if (color.a == 0.0) {
        discard;
      }

      gl_FragColor = color;
      gl_FragColor.rgb *= gl_FragColor.a;
      gl_FragColor *= ${t.Uniforms.TRANSITION_ALPHA};
    }`;return{vertexShader:e,fragmentShader:m,uniforms:h,paletteTextures:g.paletteTextures}}Object.defineProperty(A,"__esModule",{value:!0});A.default=void 0;Ka=k(L(282));var q=k(L(88)),t=function(b,c){if(!c&&b&&b.__esModule)return b;if(null===b||"object"!==typeof b&&"function"!==typeof b)return{default:b};if((c=w(c))&&c.has(b))return c.get(b);var e={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor,m;for(m in b)if("default"!==m&&Object.prototype.hasOwnProperty.call(b,m)){var h=g?Object.getOwnPropertyDescriptor(b,
m):null;h&&(h.get||h.set)?Object.defineProperty(e,m,h):e[m]=b[m]}e.default=b;c&&c.set(b,e);return e}(L(360)),n=L(361);class f extends Ka.default{constructor(b){b=b?Object.assign({},b):{};const c=b.style||{};delete b.style;const e=b.cacheSize;delete b.cacheSize;super(b);this.sources_=b.sources;this.renderedSource_=null;this.renderedResolution_=NaN;this.style_=c;this.cacheSize_=e;this.styleVariables_=this.style_.variables||{};this.addChangeListener(q.default.SOURCE,this.handleSourceUpdate_)}getSources(b,
c){const e=this.getSource();return this.sources_?"function"===typeof this.sources_?this.sources_(b,c):this.sources_:e?[e]:[]}getRenderSource(){return this.renderedSource_||this.getSource()}getSourceState(){const b=this.getRenderSource();return b?b.getState():"undefined"}handleSourceUpdate_(){this.hasRenderer()&&this.getRenderer().clearCache();this.getSource()&&this.setStyle(this.style_)}getSourceBandCount_(){var b=Number.MAX_SAFE_INTEGER;return(b=this.getSources([-b,-b,b,b],b))&&b.length&&"bandCount"in
b[0]?b[0].bandCount:4}createRenderer(){const b=p(this.style_,this.getSourceBandCount_());return new t.default(this,{vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,uniforms:b.uniforms,cacheSize:this.cacheSize_,paletteTextures:b.paletteTextures})}renderSources(b,c){const e=this.getRenderer();let g;for(let m=0,h=c.length;m<h;++m)this.renderedSource_=c[m],e.prepareFrame(b)&&(g=e.renderFrame(b));return g}render(b,c){this.rendered=!0;c=b.viewState;const e=this.getSources(b.extent,c.resolution);
let g=!0;for(let h=0,x=e.length;h<x;++h){const O=e[h];var m=O.getState();if("loading"==m){const G=()=>{"ready"==O.getState()&&(O.removeEventListener("change",G),this.changed())};O.addEventListener("change",G)}g=g&&"ready"==m}m=this.renderSources(b,e);return this.getRenderer().renderComplete&&g?(this.renderedResolution_=c.resolution,m):this.renderedResolution_>.5*c.resolution&&(c=this.getSources(b.extent,this.renderedResolution_).filter(h=>!e.includes(h)),0<c.length)?this.renderSources(b,c):m}setStyle(b){this.styleVariables_=
b.variables||{};this.style_=b;b=p(this.style_,this.getSourceBandCount_());this.getRenderer().reset({vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,uniforms:b.uniforms,paletteTextures:b.paletteTextures});this.changed()}updateStyleVariables(b){Object.assign(this.styleVariables_,b);this.changed()}}A.default=f};
shadow$provide[365]=function(Ka,L,sb,A){function w(x){return x&&x.__esModule?x:{default:x}}Object.defineProperty(A,"__esModule",{value:!0});Object.defineProperty(A,"Graticule",{enumerable:!0,get:function(){return k.default}});Object.defineProperty(A,"Group",{enumerable:!0,get:function(){return p.default}});Object.defineProperty(A,"Heatmap",{enumerable:!0,get:function(){return q.default}});Object.defineProperty(A,"Image",{enumerable:!0,get:function(){return t.default}});Object.defineProperty(A,"Layer",
{enumerable:!0,get:function(){return n.default}});Object.defineProperty(A,"MapboxVector",{enumerable:!0,get:function(){return f.default}});Object.defineProperty(A,"Tile",{enumerable:!0,get:function(){return b.default}});Object.defineProperty(A,"Vector",{enumerable:!0,get:function(){return c.default}});Object.defineProperty(A,"VectorImage",{enumerable:!0,get:function(){return e.default}});Object.defineProperty(A,"VectorTile",{enumerable:!0,get:function(){return g.default}});Object.defineProperty(A,
"WebGLPoints",{enumerable:!0,get:function(){return m.default}});Object.defineProperty(A,"WebGLTile",{enumerable:!0,get:function(){return h.default}});var k=w(L(330)),p=w(L(100)),q=w(L(344)),t=w(L(280)),n=w(L(91)),f=w(L(355)),b=w(L(284)),c=w(L(327)),e=w(L(357)),g=w(L(351)),m=w(L(363)),h=w(L(364))};
shadow$provide[366]=function(Ka,L,sb,A){(function(w,k){"function"==typeof define&&define.amd?define([],k):"undefined"!=typeof A?k():(k(),w.FileSaver={})})(this,function(){function w(b,c){return"undefined"==typeof c?c={autoBom:!1}:"object"!=typeof c&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob(["﻿",b],{type:b.type}):b}function k(b,c,e){var g=new XMLHttpRequest;
g.open("GET",b);g.responseType="blob";g.onload=function(){f(g.response,c,e)};g.onerror=function(){console.error("could not download file")};g.send()}function p(b){var c=new XMLHttpRequest;c.open("HEAD",b,!1);try{c.send()}catch(e){}return 200<=c.status&&299>=c.status}function q(b){try{b.dispatchEvent(new MouseEvent("click"))}catch(e){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null);b.dispatchEvent(c)}}var t="object"==typeof window&&window.window===
window?window:"object"==typeof self&&self.self===self?self:"object"==typeof Ka&&Ka.global===Ka?Ka:void 0,n=t.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),f=t.saveAs||("object"!=typeof window||window!==t?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(b,c,e){var g=t.URL||t.webkitURL,m=document.createElement("a");c=c||b.name||"download";m.download=c;m.rel="noopener";"string"==typeof b?(m.href=b,m.origin===
location.origin?q(m):p(m.href)?k(b,c,e):q(m,m.target="_blank")):(m.href=g.createObjectURL(b),setTimeout(function(){g.revokeObjectURL(m.href)},4E4),setTimeout(function(){q(m)},0))}:"msSaveOrOpenBlob"in navigator?function(b,c,e){if(c=c||b.name||"download","string"!=typeof b)navigator.msSaveOrOpenBlob(w(b,e),c);else if(p(b))k(b,c,e);else{var g=document.createElement("a");g.href=b;g.target="_blank";setTimeout(function(){q(g)})}}:function(b,c,e,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText=
"downloading..."),"string"==typeof b)return k(b,c,e);c="application/octet-stream"===b.type;e=/constructor/i.test(t.HTMLElement)||t.safari;var m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||c&&e||n)&&"undefined"!=typeof FileReader){var h=new FileReader;h.onloadend=function(){var G=h.result;G=m?G:G.replace(/^data:[^;]*;/,"data:attachment/file;");g?g.location.href=G:location=G;g=null};h.readAsDataURL(b)}else{var x=t.URL||t.webkitURL,O=x.createObjectURL(b);g?g.location=O:location.href=O;g=null;setTimeout(function(){x.revokeObjectURL(O)},
4E4)}});t.saveAs=f.saveAs=f;"undefined"!=typeof sb&&(sb.exports=f)})};
shadow$provide[367]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"undefined"!==typeof sb?sb.exports=k():"function"===typeof define&&define.amd?define(k):w.Popper=k()})(this,function(){function w(U){var ka=!1;return function(){ka||(ka=!0,window.Promise.resolve().then(function(){ka=!1;U()}))}}function k(U){var ka=!1;return function(){ka||(ka=!0,setTimeout(function(){ka=!1;U()},Fa))}}function p(U){var ka={};return U&&"[object Function]"===ka.toString.call(U)}function q(U,ka){if(1!==U.nodeType)return[];
U=U.ownerDocument.defaultView.getComputedStyle(U,null);return ka?U[ka]:U}function t(U){return"HTML"===U.nodeName?U:U.parentNode||U.host}function n(U){if(!U)return document.body;switch(U.nodeName){case "HTML":case "BODY":return U.ownerDocument.body;case "#document":return U.body}var ka=q(U);return/(auto|scroll|overlay)/.test(ka.overflow+ka.overflowY+ka.overflowX)?U:n(t(U))}function f(U){return 11===U?ra:10===U?ya:ra||ya}function b(U){if(!U)return document.documentElement;for(var ka=f(10)?document.body:
null,ua=U.offsetParent||null;ua===ka&&U.nextElementSibling;)ua=(U=U.nextElementSibling).offsetParent;return(ka=ua&&ua.nodeName)&&"BODY"!==ka&&"HTML"!==ka?-1!==["TH","TD","TABLE"].indexOf(ua.nodeName)&&"static"===q(ua,"position")?b(ua):ua:U?U.ownerDocument.documentElement:document.documentElement}function c(U){return null!==U.parentNode?c(U.parentNode):U}function e(U,ka){if(!(U&&U.nodeType&&ka&&ka.nodeType))return document.documentElement;var ua=U.compareDocumentPosition(ka)&Node.DOCUMENT_POSITION_FOLLOWING,
Ta=ua?U:ka,eb=ua?ka:U;ua=document.createRange();ua.setStart(Ta,0);ua.setEnd(eb,0);ua=ua.commonAncestorContainer;if(U!==ua&&ka!==ua||Ta.contains(eb))return U=ua.nodeName,U="BODY"===U?!1:"HTML"===U||b(ua.firstElementChild)===ua,U?ua:b(ua);Ta=c(U);return Ta.host?e(Ta.host,ka):e(U,c(ka).host)}function g(U){var ka="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",ua=U.nodeName;return"BODY"===ua||"HTML"===ua?(ua=U.ownerDocument.documentElement,(U.ownerDocument.scrollingElement||
ua)[ka]):U[ka]}function m(U,ka){var ua=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Ta=g(ka,"top"),eb=g(ka,"left");ua=ua?-1:1;U.top+=Ta*ua;U.bottom+=Ta*ua;U.left+=eb*ua;U.right+=eb*ua;return U}function h(U,ka){ka="x"===ka?"Left":"Top";var ua="Left"===ka?"Right":"Bottom";return parseFloat(U["border"+ka+"Width"])+parseFloat(U["border"+ua+"Width"])}function x(U,ka,ua,Ta){return Math.max(ka["offset"+U],ka["scroll"+U],ua["client"+U],ua["offset"+U],ua["scroll"+U],f(10)?parseInt(ua["offset"+
U])+parseInt(Ta["margin"+("Height"===U?"Top":"Left")])+parseInt(Ta["margin"+("Height"===U?"Bottom":"Right")]):0)}function O(U){var ka=U.body;U=U.documentElement;var ua=f(10)&&getComputedStyle(U);return{height:x("Height",ka,U,ua),width:x("Width",ka,U,ua)}}function G(U){return Ua({},U,{right:U.left+U.width,bottom:U.top+U.height})}function I(U){var ka={};try{if(f(10)){ka=U.getBoundingClientRect();var ua=g(U,"top"),Ta=g(U,"left");ka.top+=ua;ka.left+=Ta;ka.bottom+=ua;ka.right+=Ta}else ka=U.getBoundingClientRect()}catch(eb){}ka=
{left:ka.left,top:ka.top,width:ka.right-ka.left,height:ka.bottom-ka.top};Ta="HTML"===U.nodeName?O(U.ownerDocument):{};ua=U.offsetWidth-(Ta.width||U.clientWidth||ka.width);Ta=U.offsetHeight-(Ta.height||U.clientHeight||ka.height);if(ua||Ta)U=q(U),ua-=h(U,"x"),Ta-=h(U,"y"),ka.width-=ua,ka.height-=Ta;return G(ka)}function F(U,ka){var ua=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,Ta=f(10),eb="HTML"===ka.nodeName,lb=I(U),nb=I(ka),Mb=n(U),$b=q(ka),Gc=parseFloat($b.borderTopWidth),zc=parseFloat($b.borderLeftWidth);
ua&&eb&&(nb.top=Math.max(nb.top,0),nb.left=Math.max(nb.left,0));lb=G({top:lb.top-nb.top-Gc,left:lb.left-nb.left-zc,width:lb.width,height:lb.height});lb.marginTop=0;lb.marginLeft=0;!Ta&&eb&&(eb=parseFloat($b.marginTop),$b=parseFloat($b.marginLeft),lb.top-=Gc-eb,lb.bottom-=Gc-eb,lb.left-=zc-$b,lb.right-=zc-$b,lb.marginTop=eb,lb.marginLeft=$b);if(Ta&&!ua?ka.contains(Mb):ka===Mb&&"BODY"!==Mb.nodeName)lb=m(lb,ka);return lb}function C(U){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,
ua=U.ownerDocument.documentElement,Ta=F(U,ua),eb=Math.max(ua.clientWidth,window.innerWidth||0),lb=Math.max(ua.clientHeight,window.innerHeight||0),nb=ka?0:g(ua);ka=ka?0:g(ua,"left");return G({top:nb-Ta.top+Ta.marginTop,left:ka-Ta.left+Ta.marginLeft,width:eb,height:lb})}function r(U){var ka=U.nodeName;return"BODY"===ka||"HTML"===ka?!1:"fixed"===q(U,"position")?!0:(U=t(U))?r(U):!1}function y(U){if(!U||!U.parentElement||f())return document.documentElement;for(U=U.parentElement;U&&"none"===q(U,"transform");)U=
U.parentElement;return U||document.documentElement}function K(U,ka,ua,Ta){var eb=4<arguments.length&&void 0!==arguments[4]?arguments[4]:!1,lb={top:0,left:0},nb=eb?y(U):e(U,ka&&ka.referenceNode?ka.referenceNode:ka);if("viewport"===Ta)lb=C(nb,eb);else{if("scrollParent"===Ta){var Mb=n(t(ka));"BODY"===Mb.nodeName&&(Mb=U.ownerDocument.documentElement)}else Mb="window"===Ta?U.ownerDocument.documentElement:Ta;eb=F(Mb,nb,eb);"HTML"!==Mb.nodeName||r(nb)?lb=eb:(Mb=O(U.ownerDocument),nb=Mb.height,Mb=Mb.width,
lb.top+=eb.top-eb.marginTop,lb.bottom=nb+eb.top,lb.left+=eb.left-eb.marginLeft,lb.right=Mb+eb.left)}ua=ua||0;eb="number"===typeof ua;lb.left+=eb?ua:ua.left||0;lb.top+=eb?ua:ua.top||0;lb.right-=eb?ua:ua.right||0;lb.bottom-=eb?ua:ua.bottom||0;return lb}function R(U,ka,ua,Ta,eb){var lb=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===U.indexOf("auto"))return U;lb=K(ua,Ta,lb,eb);var nb={top:{width:lb.width,height:ka.top-lb.top},right:{width:lb.right-ka.right,height:lb.height},bottom:{width:lb.width,
height:lb.bottom-ka.bottom},left:{width:ka.left-lb.left,height:lb.height}};lb=Object.keys(nb).map(function($b){var Gc=nb[$b];return Ua({key:$b},nb[$b],{area:Gc.width*Gc.height})}).sort(function($b,Gc){return Gc.area-$b.area});var Mb=lb.filter(function($b){var Gc=$b.height;return $b.width>=ua.clientWidth&&Gc>=ua.clientHeight});lb=0<Mb.length?Mb[0].key:lb[0].key;Mb=U.split("-")[1];return lb+(Mb?"-"+Mb:"")}function S(U,ka,ua){var Ta=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,eb=Ta?y(ka):
e(ka,ua&&ua.referenceNode?ua.referenceNode:ua);return F(ua,eb,Ta)}function ca(U){var ka=U.ownerDocument.defaultView.getComputedStyle(U),ua=parseFloat(ka.marginTop||0)+parseFloat(ka.marginBottom||0);ka=parseFloat(ka.marginLeft||0)+parseFloat(ka.marginRight||0);return{width:U.offsetWidth+ka,height:U.offsetHeight+ua}}function M(U){var ka={left:"right",right:"left",bottom:"top",top:"bottom"};return U.replace(/left|right|bottom|top/g,function(ua){return ka[ua]})}function aa(U,ka,ua){ua=ua.split("-")[0];
U=ca(U);var Ta={width:U.width,height:U.height},eb=-1!==["right","left"].indexOf(ua),lb=eb?"top":"left",nb=eb?"left":"top",Mb=eb?"height":"width";Ta[lb]=ka[lb]+ka[Mb]/2-U[Mb]/2;Ta[nb]=ua===nb?ka[nb]-U[eb?"width":"height"]:ka[M(nb)];return Ta}function Y(U,ka){return Array.prototype.find?U.find(ka):U.filter(ka)[0]}function ea(U,ka,ua){if(Array.prototype.findIndex)return U.findIndex(function(eb){return eb[ka]===ua});var Ta=Y(U,function(eb){return eb[ka]===ua});return U.indexOf(Ta)}function Ga(U,ka,ua){(void 0===
ua?U:U.slice(0,ea(U,"name",ua))).forEach(function(Ta){Ta["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var eb=Ta["function"]||Ta.fn;Ta.enabled&&p(eb)&&(ka.offsets.popper=G(ka.offsets.popper),ka.offsets.reference=G(ka.offsets.reference),ka=eb(ka,Ta))});return ka}function X(U,ka){return U.some(function(ua){var Ta=ua.name;return ua.enabled&&Ta===ka})}function D(U){for(var ka=[!1,"ms","Webkit","Moz","O"],ua=U.charAt(0).toUpperCase()+U.slice(1),Ta=0;Ta<ka.length;Ta++){var eb=
ka[Ta];eb=eb?""+eb+ua:U;if("undefined"!==typeof document.body.style[eb])return eb}return null}function B(U){return(U=U.ownerDocument)?U.defaultView:window}function N(U,ka,ua,Ta){var eb="BODY"===U.nodeName;U=eb?U.ownerDocument.defaultView:U;U.addEventListener(ka,ua,{passive:!0});eb||N(n(U.parentNode),ka,ua,Ta);Ta.push(U)}function Z(U,ka){B(U).removeEventListener("resize",ka.updateBound);ka.scrollParents.forEach(function(ua){ua.removeEventListener("scroll",ka.updateBound)});ka.updateBound=null;ka.scrollParents=
[];ka.scrollElement=null;ka.eventsEnabled=!1;return ka}function Aa(U){return""!==U&&!isNaN(parseFloat(U))&&isFinite(U)}function qa(U,ka){Object.keys(ka).forEach(function(ua){var Ta="";-1!=="width height top right bottom left".split(" ").indexOf(ua)&&Aa(ka[ua])&&(Ta="px");U.style[ua]=ka[ua]+Ta})}function la(U,ka){Object.keys(ka).forEach(function(ua){!1!==ka[ua]?U.setAttribute(ua,ka[ua]):U.removeAttribute(ua)})}function Ja(U,ka){var ua=U.offsets,Ta=ua.popper,eb=Math.round,lb=Math.floor,nb=function(Gc){return Gc};
ua=eb(ua.reference.width);var Mb=eb(Ta.width),$b=-1!==["left","right"].indexOf(U.placement);U=-1!==U.placement.indexOf("-");lb=ka?$b||U||ua%2===Mb%2?eb:lb:nb;eb=ka?eb:nb;return{left:lb(1===ua%2&&1===Mb%2&&!U&&ka?Ta.left-1:Ta.left),top:eb(Ta.top),bottom:eb(Ta.bottom),right:lb(Ta.right)}}function bb(U,ka,ua){var Ta=Y(U,function(lb){return lb.name===ka});U=!!Ta&&U.some(function(lb){return lb.name===ua&&lb.enabled&&lb.order<Ta.order});if(!U){var eb="`"+ka+"`";console.warn("`"+ua+"` modifier is required by "+
eb+" modifier in order to work, be sure to include it before "+eb+"!")}return U}function ib(U){var ka=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,ua=Oa.indexOf(U);ua=Oa.slice(ua+1).concat(Oa.slice(0,ua));return ka?ua.reverse():ua}function Ma(U,ka,ua,Ta){var eb=[0,0],lb=-1!==["right","left"].indexOf(Ta);U=U.split(/(\+|\-)/).map(function(Mb){return Mb.trim()});Ta=U.indexOf(Y(U,function(Mb){return-1!==Mb.search(/,|\s/)}));U[Ta]&&-1===U[Ta].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");
var nb=/\s*,\s*|\s+/;U=-1!==Ta?[U.slice(0,Ta).concat([U[Ta].split(nb)[0]]),[U[Ta].split(nb)[1]].concat(U.slice(Ta+1))]:[U];U=U.map(function(Mb,$b){var Gc=(1===$b?!lb:lb)?"height":"width",zc=!1;return Mb.reduce(function(Bc,uc){return""===Bc[Bc.length-1]&&-1!==["+","-"].indexOf(uc)?(Bc[Bc.length-1]=uc,zc=!0,Bc):zc?(Bc[Bc.length-1]+=uc,zc=!1,Bc):Bc.concat(uc)},[]).map(function(Bc){var uc=Bc.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);var id=+uc[1];uc=uc[2];if(id)if(0===uc.indexOf("%")){switch(uc){case "%p":Bc=
ka;break;default:Bc=ua}id*=G(Bc)[Gc]/100}else id="vh"===uc||"vw"===uc?("vh"===uc?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*id:id;else id=Bc;return id})});U.forEach(function(Mb,$b){Mb.forEach(function(Gc,zc){Aa(Gc)&&(eb[$b]+=Gc*("-"===Mb[zc-1]?-1:1))})});return eb}var ma="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,Fa=function(){for(var U=["Edge","Trident",
"Firefox"],ka=0;ka<U.length;ka+=1)if(ma&&0<=navigator.userAgent.indexOf(U[ka]))return 1;return 0}(),Ra=ma&&window.Promise?w:k,ra=ma&&!(!window.MSInputMethodContext||!document.documentMode),ya=ma&&/MSIE 10/.test(navigator.userAgent),oa=function(){function U(ka,ua){for(var Ta=0;Ta<ua.length;Ta++){var eb=ua[Ta];eb.enumerable=eb.enumerable||!1;eb.configurable=!0;"value"in eb&&(eb.writable=!0);Object.defineProperty(ka,eb.key,eb)}}return function(ka,ua,Ta){ua&&U(ka.prototype,ua);Ta&&U(ka,Ta);return ka}}(),
xa=function(U,ka,ua){ka in U?Object.defineProperty(U,ka,{value:ua,enumerable:!0,configurable:!0,writable:!0}):U[ka]=ua;return U},Ua=Object.assign||function(U){for(var ka=1;ka<arguments.length;ka++){var ua=arguments[ka],Ta;for(Ta in ua)Object.prototype.hasOwnProperty.call(ua,Ta)&&(U[Ta]=ua[Ta])}return U},fb=ma&&/Firefox/i.test(navigator.userAgent),sa="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),Oa=sa.slice(3),
ja=function(){function U(ka,ua){var Ta=this,eb=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");this.scheduleUpdate=function(){return requestAnimationFrame(Ta.update)};this.update=Ra(this.update.bind(this));this.options=Ua({},U.Defaults,eb);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=ka&&ka.jquery?ka[0]:ka;this.popper=ua&&ua.jquery?ua[0]:ua;this.options.modifiers={};Object.keys(Ua({},
U.Defaults.modifiers,eb.modifiers)).forEach(function(nb){Ta.options.modifiers[nb]=Ua({},U.Defaults.modifiers[nb]||{},eb.modifiers?eb.modifiers[nb]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(nb){return Ua({name:nb},Ta.options.modifiers[nb])}).sort(function(nb,Mb){return nb.order-Mb.order});this.modifiers.forEach(function(nb){if(nb.enabled&&p(nb.onLoad))nb.onLoad(Ta.reference,Ta.popper,Ta.options,nb,Ta.state)});this.update();var lb=this.options.eventsEnabled;lb&&this.enableEventListeners();
this.state.eventsEnabled=lb}oa(U,[{key:"update",value:function(){if(!this.state.isDestroyed){var ka={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};ka.offsets.reference=S(this.state,this.popper,this.reference,this.options.positionFixed);ka.placement=R(this.options.placement,ka.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);ka.originalPlacement=ka.placement;ka.positionFixed=this.options.positionFixed;
ka.offsets.popper=aa(this.popper,ka.offsets.reference,ka.placement);ka.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";ka=Ga(this.modifiers,ka);if(this.state.isCreated)this.options.onUpdate(ka);else this.state.isCreated=!0,this.options.onCreate(ka)}}},{key:"destroy",value:function(){this.state.isDestroyed=!0;X(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right=
"",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[D("transform")]="");this.disableEventListeners();this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper);return this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var ka=this.reference,ua=this.state;ua.updateBound=this.scheduleUpdate;B(ka).addEventListener("resize",ua.updateBound,{passive:!0});ka=n(ka);N(ka,"scroll",ua.updateBound,ua.scrollParents);ua.scrollElement=
ka;ua.eventsEnabled=!0;this.state=ua}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Z(this.reference,this.state))}}]);return U}();ja.Utils=("undefined"!==typeof window?window:Ka).PopperUtils;ja.placements=sa;ja.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(U){var ka=U.placement,ua=ka.split("-")[0];
if(ka=ka.split("-")[1]){var Ta=U.offsets,eb=Ta.reference;Ta=Ta.popper;var lb=-1!==["bottom","top"].indexOf(ua);ua=lb?"left":"top";lb=lb?"width":"height";eb={start:xa({},ua,eb[ua]),end:xa({},ua,eb[ua]+eb[lb]-Ta[lb])};U.offsets.popper=Ua({},Ta,eb[ka])}return U}},offset:{order:200,enabled:!0,fn:function(U,ka){var ua=ka.offset,Ta=U.offsets;ka=Ta.popper;var eb=Ta.reference;Ta=U.placement.split("-")[0];ua=Aa(+ua)?[+ua,0]:Ma(ua,ka,eb,Ta);"left"===Ta?(ka.top+=ua[0],ka.left-=ua[1]):"right"===Ta?(ka.top+=ua[0],
ka.left+=ua[1]):"top"===Ta?(ka.left+=ua[0],ka.top-=ua[1]):"bottom"===Ta&&(ka.left+=ua[0],ka.top+=ua[1]);U.popper=ka;return U},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(U,ka){var ua=ka.boundariesElement||b(U.instance.popper);U.instance.reference===ua&&(ua=b(ua));var Ta=D("transform"),eb=U.instance.popper.style,lb=eb.top,nb=eb.left,Mb=eb[Ta];eb.top="";eb.left="";eb[Ta]="";var $b=K(U.instance.popper,U.instance.reference,ka.padding,ua,U.positionFixed);eb.top=lb;eb.left=nb;eb[Ta]=Mb;
ka.boundaries=$b;var Gc=U.offsets.popper,zc={primary:function(Bc){var uc=Gc[Bc];Gc[Bc]<$b[Bc]&&!ka.escapeWithReference&&(uc=Math.max(Gc[Bc],$b[Bc]));return xa({},Bc,uc)},secondary:function(Bc){var uc="right"===Bc?"left":"top",id=Gc[uc];Gc[Bc]>$b[Bc]&&!ka.escapeWithReference&&(id=Math.min(Gc[uc],$b[Bc]-("right"===Bc?Gc.width:Gc.height)));return xa({},uc,id)}};ka.priority.forEach(function(Bc){var uc=-1!==["left","top"].indexOf(Bc)?"primary":"secondary";Gc=Ua({},Gc,zc[uc](Bc))});U.offsets.popper=Gc;
return U},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(U){var ka=U.offsets,ua=ka.popper;ka=ka.reference;var Ta=U.placement.split("-")[0],eb=Math.floor,lb=-1!==["top","bottom"].indexOf(Ta);Ta=lb?"right":"bottom";var nb=lb?"left":"top";lb=lb?"width":"height";ua[Ta]<eb(ka[nb])&&(U.offsets.popper[nb]=eb(ka[nb])-ua[lb]);ua[nb]>eb(ka[Ta])&&(U.offsets.popper[nb]=eb(ka[Ta]));return U}},arrow:{order:500,enabled:!0,fn:function(U,
ka){var ua;if(!bb(U.instance.modifiers,"arrow","keepTogether"))return U;ka=ka.element;if("string"===typeof ka){if(ka=U.instance.popper.querySelector(ka),!ka)return U}else if(!U.instance.popper.contains(ka))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),U;var Ta=U.placement.split("-")[0],eb=U.offsets,lb=eb.popper,nb=eb.reference,Mb=-1!==["left","right"].indexOf(Ta);Ta=Mb?"height":"width";var $b=Mb?"Top":"Left";eb=$b.toLowerCase();var Gc=Mb?"left":"top",zc=Mb?"bottom":
"right";Mb=ca(ka)[Ta];nb[zc]-Mb<lb[eb]&&(U.offsets.popper[eb]-=lb[eb]-(nb[zc]-Mb));nb[eb]+Mb>lb[zc]&&(U.offsets.popper[eb]+=nb[eb]+Mb-lb[zc]);U.offsets.popper=G(U.offsets.popper);nb=nb[eb]+nb[Ta]/2-Mb/2;var Bc=q(U.instance.popper);zc=parseFloat(Bc["margin"+$b]);$b=parseFloat(Bc["border"+$b+"Width"]);$b=nb-U.offsets.popper[eb]-zc-$b;$b=Math.max(Math.min(lb[Ta]-Mb,$b),0);U.arrowElement=ka;U.offsets.arrow=(ua={},xa(ua,eb,Math.round($b)),xa(ua,Gc,""),ua);return U},element:"[x-arrow]"},flip:{order:600,
enabled:!0,fn:function(U,ka){if(X(U.instance.modifiers,"inner")||U.flipped&&U.placement===U.originalPlacement)return U;var ua=K(U.instance.popper,U.instance.reference,ka.padding,ka.boundariesElement,U.positionFixed),Ta=U.placement.split("-")[0],eb=M(Ta),lb=U.placement.split("-")[1]||"",nb=[];switch(ka.behavior){case "flip":nb=[Ta,eb];break;case "clockwise":nb=ib(Ta);break;case "counterclockwise":nb=ib(Ta,!0);break;default:nb=ka.behavior}nb.forEach(function(Mb,$b){if(Ta!==Mb||nb.length===$b+1)return U;
Ta=U.placement.split("-")[0];eb=M(Ta);var Gc=U.offsets.popper;Mb=U.offsets.reference;var zc=Math.floor;Mb="left"===Ta&&zc(Gc.right)>zc(Mb.left)||"right"===Ta&&zc(Gc.left)<zc(Mb.right)||"top"===Ta&&zc(Gc.bottom)>zc(Mb.top)||"bottom"===Ta&&zc(Gc.top)<zc(Mb.bottom);var Bc=zc(Gc.left)<zc(ua.left),uc=zc(Gc.right)>zc(ua.right),id=zc(Gc.top)<zc(ua.top);zc=zc(Gc.bottom)>zc(ua.bottom);Gc="left"===Ta&&Bc||"right"===Ta&&uc||"top"===Ta&&id||"bottom"===Ta&&zc;var Hb=-1!==["top","bottom"].indexOf(Ta),Ab=!!ka.flipVariationsByContent&&
(Hb&&"start"===lb&&uc||Hb&&"end"===lb&&Bc||!Hb&&"start"===lb&&zc||!Hb&&"end"===lb&&id);Bc=!!ka.flipVariations&&(Hb&&"start"===lb&&Bc||Hb&&"end"===lb&&uc||!Hb&&"start"===lb&&id||!Hb&&"end"===lb&&zc)||Ab;if(Mb||Gc||Bc){U.flipped=!0;if(Mb||Gc)Ta=nb[$b+1];Bc&&("end"===lb?lb="start":"start"===lb&&(lb="end"));U.placement=Ta+(lb?"-"+lb:"");U.offsets.popper=Ua({},U.offsets.popper,aa(U.instance.popper,U.offsets.reference,U.placement));U=Ga(U.instance.modifiers,U,"flip")}});return U},behavior:"flip",padding:5,
boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(U){var ka=U.placement,ua=ka.split("-")[0],Ta=U.offsets,eb=Ta.popper;Ta=Ta.reference;var lb=-1!==["left","right"].indexOf(ua),nb=-1===["top","left"].indexOf(ua);eb[lb?"left":"top"]=Ta[ua]-(nb?eb[lb?"width":"height"]:0);U.placement=M(ka);U.offsets.popper=G(eb);return U}},hide:{order:800,enabled:!0,fn:function(U){if(!bb(U.instance.modifiers,"hide","preventOverflow"))return U;var ka=U.offsets.reference,
ua=Y(U.instance.modifiers,function(Ta){return"preventOverflow"===Ta.name}).boundaries;if(ka.bottom<ua.top||ka.left>ua.right||ka.top>ua.bottom||ka.right<ua.left){if(!0===U.hide)return U;U.hide=!0;U.attributes["x-out-of-boundaries"]=""}else{if(!1===U.hide)return U;U.hide=!1;U.attributes["x-out-of-boundaries"]=!1}return U}},computeStyle:{order:850,enabled:!0,fn:function(U,ka){var ua=ka.x,Ta=ka.y,eb=U.offsets.popper,lb=Y(U.instance.modifiers,function(Bc){return"applyStyle"===Bc.name}).gpuAcceleration;
void 0!==lb&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");ka=void 0!==lb?lb:ka.gpuAcceleration;lb=b(U.instance.popper);var nb=I(lb);eb={position:eb.position};var Mb=Ja(U,2>window.devicePixelRatio||!fb);ua="bottom"===ua?"top":"bottom";Ta="right"===Ta?"left":"right";var $b=D("transform"),Gc=void 0,zc=void 0;zc="bottom"===ua?"HTML"===lb.nodeName?-lb.clientHeight+Mb.bottom:-nb.height+Mb.bottom:Mb.top;Gc="right"===
Ta?"HTML"===lb.nodeName?-lb.clientWidth+Mb.right:-nb.width+Mb.right:Mb.left;ka&&$b?(eb[$b]="translate3d("+Gc+"px, "+zc+"px, 0)",eb[ua]=0,eb[Ta]=0,eb.willChange="transform"):(eb[ua]=zc*("bottom"===ua?-1:1),eb[Ta]=Gc*("right"===Ta?-1:1),eb.willChange=ua+", "+Ta);U.attributes=Ua({},{"x-placement":U.placement},U.attributes);U.styles=Ua({},eb,U.styles);U.arrowStyles=Ua({},U.offsets.arrow,U.arrowStyles);return U},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(U){qa(U.instance.popper,
U.styles);la(U.instance.popper,U.attributes);U.arrowElement&&Object.keys(U.arrowStyles).length&&qa(U.arrowElement,U.arrowStyles);return U},onLoad:function(U,ka,ua,Ta,eb){Ta=S(eb,ka,U,ua.positionFixed);U=R(ua.placement,Ta,ka,U,ua.modifiers.flip.boundariesElement,ua.modifiers.flip.padding);ka.setAttribute("x-placement",U);qa(ka,{position:ua.positionFixed?"fixed":"absolute"});return ua},gpuAcceleration:void 0}}};return ja})};
shadow$provide[368]=function(Ka,L,sb,A){(function(w,k){"object"===typeof A&&"object"===typeof sb?sb.exports=k(L(3),L(367),L(12)):"function"===typeof define&&define.amd?define("reactTippy",["react","popper.js","react-dom"],k):"object"===typeof A?A.reactTippy=k(L(3),L(367),L(12)):w.reactTippy=k(w.React,w.Popper,w.ReactDOM)})(this,function(w,k,p){return function(q){function t(f){if(n[f])return n[f].exports;var b=n[f]={i:f,l:!1,exports:{}};q[f].call(b.exports,b,b.exports,t);b.l=!0;return b.exports}var n=
{};t.m=q;t.c=n;t.i=function(f){return f};t.d=function(f,b,c){t.o(f,b)||Object.defineProperty(f,b,{configurable:!1,enumerable:!0,get:c})};t.n=function(f){var b=f&&f.__esModule?function(){return f["default"]}:function(){return f};t.d(b,"a",b);return b};t.o=function(f,b){return Object.prototype.hasOwnProperty.call(f,b)};t.p="";return t(t.s=15)}([function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});q=t.Browser={};"undefined"!==typeof window&&(q.SUPPORTED="requestAnimationFrame"in window,q.SUPPORTS_TOUCH=
"ontouchstart"in window,q.touch=!1,q.dynamicInputDetection=!0,q.iOS=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)&&!window.MSStream});t.Store=[];t.Selectors={POPPER:".tippy-popper",TOOLTIP:".tippy-tooltip",CONTENT:".tippy-tooltip-content",CIRCLE:"[x-circle]",ARROW:"[x-arrow]",TOOLTIPPED_EL:"[data-tooltipped]",CONTROLLER:"[data-tippy-controller]"};n=t.Defaults={html:!1,position:"top",animation:"shift",animateFill:!0,arrow:!1,arrowSize:"regular",delay:0,trigger:"mouseenter focus",duration:350,
interactive:!1,interactiveBorder:2,theme:"dark",size:"regular",distance:10,offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,flipDuration:350,sticky:!1,stickyDuration:200,appendTo:function(){return document.body},zIndex:9999,touchHold:!1,performance:!1,dynamicTitle:!1,useContext:!1,reactInstance:void 0,popperOptions:{},open:void 0,onRequestClose:function(){}};t.DefaultsKeys=q.SUPPORTED&&Object.keys(n)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){for(var b=
[!1,"webkit"],c=f.charAt(0).toUpperCase()+f.slice(1),e=0;e<b.length;e++){var g=b[e];g=g?""+g+c:f;if("undefined"!==typeof window.document.body.style[g])return g}return null}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f,b){return Array.prototype.find?f.find(b):f.filter(b)[0]}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return f.replace(/-.+/,"")}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=
function(b,c){return(Element.prototype.closest||function(e){for(var g=this;g;){if(f.matches.call(g,e))return g;g=g.parentElement}}).call(b,c)};var f=n(8)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){window.requestAnimationFrame(function(){setTimeout(f,0)})}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){return{tooltip:b.querySelector(f.Selectors.TOOLTIP),circle:b.querySelector(f.Selectors.CIRCLE),content:b.querySelector(f.Selectors.CONTENT)}};
var f=n(0)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return"visible"===f.style.visibility}},function(q,t,n){function f(b){b=(this.document||this.ownerDocument).querySelectorAll(b);for(var c=b.length;0<=--c&&b.item(c)!==this;);return-1<c}Object.defineProperty(t,"__esModule",{value:!0});t.matches="undefined"===typeof window?f:Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||
Element.prototype.msMatchesSelector||f},function(q,t,n){function f(I,F){if("function"!==typeof F&&null!==F)throw new TypeError("Super expression must either be null or a function, not "+typeof F);I.prototype=Object.create(F&&F.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}});F&&(Object.setPrototypeOf?Object.setPrototypeOf(I,F):I.__proto__=F)}Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(I){for(var F=1;F<arguments.length;F++){var C=arguments[F],
r;for(r in C)Object.prototype.hasOwnProperty.call(C,r)&&(I[r]=C[r])}return I},c=function(){function I(F,C){for(var r=0;r<C.length;r++){var y=C[r];y.enumerable=y.enumerable||!1;y.configurable=!0;"value"in y&&(y.writable=!0);Object.defineProperty(F,y.key,y)}}return function(F,C,r){C&&I(F.prototype,C);r&&I(F,r);return F}}(),e=(q=n(13))&&q.__esModule?q:{default:q},g=n(30),m=g&&g.__esModule?g:{default:g},h=n(0),x=function(I){return I.stopPropagation()};n={html:null,position:"top",animation:"shift",animateFill:!0,
arrow:!1,delay:0,hideDelay:0,trigger:"mouseenter focus",duration:375,hideDuration:375,interactive:!1,interactiveBorder:2,theme:"dark",offset:0,hideOnClick:!0,multiple:!1,followCursor:!1,inertia:!1,popperOptions:{},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},disabled:!1,arrowSize:"regular",size:"regular",className:"",style:{},distance:10,onRequestClose:function(){},sticky:!1,stickyDuration:200,tag:"div",touchHold:!1,unmountHTMLWhenHide:!1,zIndex:9999};var O=Object.keys(n),
G=function(I,F){var C=[];O.forEach(function(r){I[r]!==F[r]&&C.push(r)});return C};q=function(I){function F(C){if(!(this instanceof F))throw new TypeError("Cannot call a class as a function");C=(F.__proto__||Object.getPrototypeOf(F)).call(this,C);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");C=!C||"object"!==typeof C&&"function"!==typeof C?this:C;C.initTippy=C._initTippy.bind(C);C.destroyTippy=C._destroyTippy.bind(C);C.updateTippy=C._updateTippy.bind(C);
C.updateReactDom=C._updateReactDom.bind(C);C.showTooltip=C._showTooltip.bind(C);C.hideTooltip=C._hideTooltip.bind(C);C.updateSettings=C._updateSettings.bind(C);C.state={reactDOMValue:null};return C}f(F,I);c(F,[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.initTippy()}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&"undefined"!==typeof document&&this.destroyTippy()}},{key:"componentDidUpdate",value:function(C){var r=
this;"undefined"!==typeof window&&"undefined"!==typeof document&&(!1===this.props.disabled&&!0===C.disabled?(this.updateSettings("disabled",!1),this.destroyTippy(),this.initTippy()):!0===this.props.disabled&&!1===C.disabled?(this.updateSettings("disabled",!0),this.destroyTippy()):(!0!==this.props.open||C.open||(this.updateSettings("open",!0),setTimeout(function(){r.showTooltip()},0)),!1===this.props.open&&!0===C.open&&(this.updateSettings("open",!1),this.hideTooltip()),this.props.html!==C.html&&this.updateReactDom(),
this.props.title!==C.title&&this.updateTippy(),G(this.props,C).forEach(function(y){r.updateSettings(y,r.props[y])})))}},{key:"_showTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var C=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.show(C,this.props.duration)}}},{key:"_hideTooltip",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var C=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.hide(C,
this.props.hideDuration)}}},{key:"_updateSettings",value:function(C,r){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var y=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.updateSettings(y,C,r)}}},{key:"_updateReactDom",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){this.updateSettings("reactDOM",this.props.html);var C=this.tippy.getPopperElement(this.tooltipDOM);("visible"===C.style.visibility||this.props.open)&&this.tippy.updateForReact(C,
this.props.html)}}},{key:"_updateTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var C=this.tippy.getPopperElement(this.tooltipDOM);this.tippy.update(C)}}},{key:"_initTippy",value:function(){var C=this;"undefined"!==typeof window&&"undefined"!==typeof document&&h.Browser.SUPPORTED&&(this.props.disabled?this.tippy=null:(this.props.title&&this.tooltipDOM.setAttribute("title",this.props.title),this.tippy=(0,m.default)(this.tooltipDOM,{disabled:this.props.disabled,
position:this.props.position,animation:this.props.animation,animateFill:this.props.animateFill,arrow:this.props.arrow,arrowSize:this.props.arrowSize,delay:this.props.delay,hideDelay:this.props.hideDelay,trigger:this.props.trigger,duration:this.props.duration,hideDuration:this.props.hideDuration,interactive:this.props.interactive,interactiveBorder:this.props.interactiveBorder,theme:this.props.theme,offset:this.props.offset,hideOnClick:this.props.hideOnClick,multiple:this.props.multiple,size:this.props.size,
followCursor:this.props.followCursor,inertia:this.props.inertia,popperOptions:this.props.popperOptions,onShow:this.props.onShow,onShown:this.props.onShown,onHide:this.props.onHide,onHidden:this.props.onHidden,distance:this.props.distance,reactDOM:this.props.html,setReactDOMValue:function(r){return C.setState({reactDOMValue:r})},unmountHTMLWhenHide:this.props.unmountHTMLWhenHide,open:this.props.open,sticky:this.props.sticky,stickyDuration:this.props.stickyDuration,tag:this.props.tag,touchHold:this.props.touchHold,
onRequestClose:this.props.onRequestClose,useContext:this.props.useContext,reactInstance:this.props.useContext?this:void 0,performance:!0,html:this.props.rawTemplate?this.props.rawTemplate:void 0,zIndex:this.props.zIndex}),this.props.open&&this.showTooltip()))}},{key:"_destroyTippy",value:function(){if("undefined"!==typeof window&&"undefined"!==typeof document&&this.tippy){var C=this.tippy.getPopperElement(this.tooltipDOM);this.updateSettings("open",!1);this.tippy.hide(C,0);this.tippy.destroy(C);this.tippy=
null}}},{key:"render",value:function(){var C=this;return e.default.createElement(e.default.Fragment,null,e.default.createElement(this.props.tag,{ref:function(r){C.tooltipDOM=r},title:this.props.title,className:this.props.className,tabIndex:this.props.tabIndex,style:b({display:"inline"},this.props.style)},this.props.children),this.state.reactDOMValue&&e.default.createElement("div",{onClick:x,onContextMenu:x,onDoubleClick:x,onDrag:x,onDragEnd:x,onDragEnter:x,onDragExit:x,onDragLeave:x,onDragOver:x,
onDragStart:x,onDrop:x,onMouseDown:x,onMouseEnter:x,onMouseLeave:x,onMouseMove:x,onMouseOver:x,onMouseOut:x,onMouseUp:x,onKeyDown:x,onKeyPress:x,onKeyUp:x,onFocus:x,onBlur:x,onChange:x,onInput:x,onInvalid:x,onSubmit:x},this.state.reactDOMValue))}}]);return F}(q.Component);q.defaultProps=n;t.default=q},function(q,t,n){function f(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(m){var h=this,x=(0,e.default)(b.Store,function(R){return R.el===
h});if(x){var O=x.popper,G=x.settings.offset;x=(0,c.default)(O.getAttribute("x-placement"));var I=Math.round(O.offsetWidth/2),F=Math.round(O.offsetHeight/2),C=document.documentElement.offsetWidth||document.body.offsetWidth,r=m.pageX,y=m.pageY,K=m=void 0;switch(x){case "top":m=r-I+G;K=y-2.25*F;break;case "left":m=r-2*I-10;K=y-F+G;break;case "right":m=r+F;K=y-F+G;break;case "bottom":m=r-I+G,K=y+F/1.5}F=r+5+I+G>C;G=0>r-5-I+G;if("top"===x||"bottom"===x)F&&(m=C-5-2*I),G&&(m=5);O.style[(0,g.default)("transform")]=
"translate3d("+m+"px, "+K+"px, 0)"}};var b=n(0);q=n(3);var c=f(q);q=n(2);var e=f(q);q=n(1);var g=f(q);n=n(4);f(n)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){return-(b-f.Defaults.distance)+"px"};var f=n(0)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){var b=f.getAttribute("title");b&&f.setAttribute("data-original-title",b);f.removeAttribute("title")}},function(q,t){q.exports=w},function(q,t,n){Object.defineProperty(t,
"__esModule",{value:!0});var f=(q=n(13))&&q.__esModule?q:{default:q},b=(n=n(9))&&n.__esModule?n:{default:n};t.default=function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(g){var m=[],h={},x;for(x in g)0<=m.indexOf(x)||Object.prototype.hasOwnProperty.call(g,x)&&(h[x]=g[x]);return f.default.createElement(b.default,e,f.default.createElement(c,h))}}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.withTooltip=t.Tooltip=void 0;q=(q=n(9))&&q.__esModule?
q:{default:q};n=(n=n(14))&&n.__esModule?n:{default:n};t.Tooltip=q.default;t.withTooltip=n.default},function(q,t,n){function f(h){return h&&h.__esModule?h:{default:h}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var h=function(){b.Browser.touch=!0;b.Browser.iOS()&&document.body.classList.add("tippy-touch");b.Browser.dynamicInputDetection&&window.performance&&document.addEventListener("mousemove",x)},x=function(){var O=void 0;return function(){var G=performance.now();20>G-O&&
(b.Browser.touch=!1,document.removeEventListener("mousemove",x),b.Browser.iOS()||document.body.classList.remove("tippy-touch"));O=G}}();document.addEventListener("click",function(O){if(!(O.target instanceof Element))return(0,c.default)();var G=(0,e.default)(O.target,b.Selectors.TOOLTIPPED_EL),I=(0,e.default)(O.target,b.Selectors.POPPER);if(I){var F=(0,g.default)(b.Store,function(K){return K.popper===I});if(!F||F.settings.interactive)return}if(G){F=(0,g.default)(b.Store,function(K){return K.el===G});
if(!F)return;var C=F.settings,r=C.hideOnClick,y=C.multiple;C=C.trigger;if(!y&&b.Browser.touch||!y&&-1!==C.indexOf("click"))return(0,c.default)(F);if(!0!==r||-1!==C.indexOf("click"))return}!(0,e.default)(O.target,b.Selectors.CONTROLLER)&&document.querySelector(b.Selectors.POPPER)&&(0,c.default)()});document.addEventListener("touchstart",h);window.addEventListener("blur",function(O){(O=document.activeElement)&&O.blur&&m.matches.call(O,b.Selectors.TOOLTIPPED_EL)&&O.blur()});!b.Browser.SUPPORTS_TOUCH&&
(0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints)&&document.addEventListener("pointerdown",h)};var b=n(0);q=n(25);var c=f(q);q=n(4);var e=f(q);q=n(2);var g=f(q),m=n(8)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(c,e,g){var m=g.position,h=g.distance,x=g.arrow,O=g.animateFill,G=g.inertia,I=g.animation,F=g.arrowSize,C=g.size,r=g.theme,y=g.html,K=g.zIndex;g=g.interactive;var R=document.createElement("div");R.setAttribute("class","tippy-popper");R.setAttribute("role",
"tooltip");R.setAttribute("aria-hidden","true");R.setAttribute("id","tippy-tooltip-"+c);R.style.zIndex=K;var S=document.createElement("div");S.setAttribute("class","tippy-tooltip tippy-tooltip--"+C+" leave");S.setAttribute("data-animation",I);r.split(" ").forEach(function(ca){S.classList.add(ca+"-theme")});x&&(c=document.createElement("div"),c.setAttribute("class","arrow-"+F),c.setAttribute("x-arrow",""),S.appendChild(c));O&&(S.setAttribute("data-animatefill",""),O=document.createElement("div"),O.setAttribute("class",
"leave"),O.setAttribute("x-circle",""),S.appendChild(O));G&&S.setAttribute("data-inertia","");g&&S.setAttribute("data-interactive","");G=document.createElement("div");G.setAttribute("class","tippy-tooltip-content");y?(e=void 0,y instanceof Element?(G.appendChild(y),e="#"+y.id||"tippy-html-template"):(G.innerHTML=document.getElementById(y.replace("#","")).innerHTML,e=y),R.classList.add("html-template"),g&&R.setAttribute("tabindex","-1"),S.setAttribute("data-template-id",e)):G.innerHTML=e;S.style[(0,f.default)(m)]=
(0,b.default)(h);S.appendChild(G);R.appendChild(S);return R};var f=(q=n(3))&&q.__esModule?q:{default:q},b=(n=n(11))&&n.__esModule?n:{default:n}},function(q,t,n){function f(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(t,"__esModule",{value:!0});var b=Object.assign||function(O){for(var G=1;G<arguments.length;G++){var I=arguments[G],F;for(F in I)Object.prototype.hasOwnProperty.call(I,F)&&(O[F]=I[F])}return O};t.default=function(O){var G=O.el,I=O.popper,F=O.settings,C=F.position,r=F.popperOptions,
y=F.offset,K=F.distance,R=F.flipDuration,S=(0,h.default)(I).tooltip;F=b({placement:C},r||{},{modifiers:b({},r?r.modifiers:{},{flip:b({padding:K+5},r&&r.modifiers?r.modifiers.flip:{}),offset:b({offset:y},r&&r.modifiers?r.modifiers.offset:{})}),onUpdate:function(){var M=S.style;M.top="";M.bottom="";M.left="";M.right="";M[(0,m.default)(I.getAttribute("x-placement"))]=(0,x.default)(K)}});if(window.MutationObserver){var ca=I.style;C=new MutationObserver(function(){ca[(0,g.default)("transitionDuration")]=
"0ms";O.popperInstance.update();(0,e.default)(function(){ca[(0,g.default)("transitionDuration")]=R+"ms"})});C.observe(I,{childList:!0,subtree:!0,characterData:!0});O._mutationObserver=C}return new c.default(G,I,F)};q=n(38);var c=f(q);q=n(5);var e=f(q);q=n(1);var g=f(q);q=n(3);var m=f(q);q=n(6);var h=f(q);n=n(11);var x=f(n)},function(q,t,n){function f(O){return O&&O.__esModule?O:{default:O}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(O){var G=this;return O.reduce(function(I,
F){var C=x,r=(0,m.default)(G.settings.performance?G.settings:(0,b.default)(F,G.settings)),y=r.html,K=r.reactDOM,R=r.trigger,S=r.touchHold,ca=F.getAttribute("title");if(!ca&&!y&&!K)return I;F.setAttribute("data-tooltipped","");F.setAttribute("aria-describedby","tippy-tooltip-"+C);(0,h.default)(F);y=(0,c.default)(C,ca,r);var M=g.default.call(G,F,y,r),aa=[];R.trim().split(" ").forEach(function(Y){return aa=aa.concat((0,e.default)(Y,F,M,S))});I.push({id:C,el:F,popper:y,settings:r,listeners:aa,tippyInstance:G});
x++;return I},[])};q=n(24);var b=f(q);q=n(17);var c=f(q);q=n(20);var e=f(q);q=n(23);var g=f(q);q=n(21);var m=f(q);q=n(12);var h=f(q);n(0);var x=1},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e,g){var m=[];if("manual"===b)return m;c.addEventListener(b,e.handleTrigger);m.push({event:b,handler:e.handleTrigger});"mouseenter"===b&&(f.Browser.SUPPORTS_TOUCH&&g&&(c.addEventListener("touchstart",e.handleTrigger),m.push({event:"touchstart",handler:e.handleTrigger}),
c.addEventListener("touchend",e.handleMouseleave),m.push({event:"touchend",handler:e.handleMouseleave})),c.addEventListener("mouseleave",e.handleMouseleave),m.push({event:"mouseleave",handler:e.handleMouseleave}));"focus"===b&&(c.addEventListener("blur",e.handleBlur),m.push({event:"blur",handler:e.handleBlur}));return m};var f=n(0)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){f.arrow&&(f.animateFill=!1);f.appendTo&&"function"===typeof f.appendTo&&(f.appendTo=
f.appendTo());return f}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){return f instanceof Element?[f]:Array.isArray(f)?f:[].slice.call(document.querySelectorAll(f))}},function(q,t,n){function f(m){return m&&m.__esModule?m:{default:m}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(m,h,x){var O=this,G=x.delay,I=x.interactive,F=x.hideOnClick,C=x.trigger,r=x.touchHold,y=void 0,K=void 0,R=function(){clearTimeout(y);clearTimeout(K);if(!(0,c.default)(h)){var ca=
Array.isArray(G)?G[0]:G;G?y=setTimeout(function(){return O.show(h)},ca):O.show(h)}},S=function(){clearTimeout(y);clearTimeout(K);var ca=Array.isArray(G)?G[1]:G;G?K=setTimeout(function(){return O.hide(h)},ca):O.hide(h)};return{handleTrigger:function(ca){var M="mouseenter"===ca.type&&b.Browser.SUPPORTS_TOUCH&&b.Browser.touch;if(!M||!r){var aa="persistent"!==F;"click"===ca.type&&(0,c.default)(h)&&aa?S():O.callbacks.wait?O.callbacks.wait.call(h,R,ca):R();M&&b.Browser.iOS()&&m.click&&m.click()}},handleMouseleave:function(ca){"mouseleave"===
ca.type&&b.Browser.SUPPORTS_TOUCH&&b.Browser.touch&&r||(I?(document.body.addEventListener("mouseleave",S),document.addEventListener("mousemove",function Y(aa){var ea=function(){document.body.removeEventListener("mouseleave",S);document.removeEventListener("mousemove",Y);S()},Ga=(0,e.default)(aa.target,b.Selectors.TOOLTIPPED_EL),X=(0,e.default)(aa.target,b.Selectors.POPPER)===h,D=Ga===m,B=-1!==C.indexOf("click");if(Ga&&Ga!==m)return ea();X||D||B||(0,g.default)(aa,h,x)&&ea()})):S())},handleBlur:function(ca){ca.relatedTarget&&
!b.Browser.touch&&((0,e.default)(ca.relatedTarget,b.Selectors.POPPER)||S())}}};var b=n(0);q=n(7);var c=f(q);q=n(4);var e=f(q);n=n(32);var g=f(n)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){var e=f.DefaultsKeys.reduce(function(g,m){var h=b.getAttribute("data-"+m.toLowerCase())||c[m];"false"===h&&(h=!1);"true"===h&&(h=!0);isFinite(h)&&!isNaN(parseFloat(h))&&(h=parseFloat(h));"string"===typeof h&&"["===h.trim().charAt(0)&&(h=JSON.parse(h));g[m]=h;return g},
{});return Object.assign({},c,e)};var f=n(0)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b){f.Store.forEach(function(c){var e=c.popper,g=c.tippyInstance,m=c.settings,h=m.hideOnClick,x=m.trigger;m.appendTo.contains(e)&&(m=!0===h||-1!==x.indexOf("focus"),h=!b||e!==b.popper,m&&h&&(c.settings.onRequestClose(),g.hide(e)))})};var f=n(0)},function(q,t,n){function f(){if(f.done)return!1;f.done=!0;(0,b.default)();return!0}Object.defineProperty(t,"__esModule",{value:!0});
t.default=f;var b=(q=n(16))&&q.__esModule?q:{default:q}},function(q,t,n){function f(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(g){var m=g.popper,h=g.popperInstance,x=g.settings.stickyDuration;(0,b.default)(function G(){h&&h.scheduleUpdate();m.style[(0,c.default)("transitionDuration")]=x+"ms";(0,e.default)(m)?window.requestAnimationFrame(G):m.style[(0,c.default)("transitionDuration")]=""})};q=n(5);var b=f(q);q=n(1);var c=f(q);n=n(7);
var e=f(n)},function(q,t,n){function f(g){return g&&g.__esModule?g:{default:g}}Object.defineProperty(t,"__esModule",{value:!0});t.default=function(g){var m=g.el,h=g.popper,x=g.settings,O=x.appendTo;x=x.followCursor;O.contains(h)||(O.appendChild(h),g.popperInstance?(g.popperInstance.update(),x&&!b.Browser.touch||g.popperInstance.enableEventListeners()):g.popperInstance=(0,e.default)(g),x&&!b.Browser.touch&&(m.addEventListener("mousemove",c.default),g.popperInstance.disableEventListeners()))};var b=
n(0);q=n(10);var c=f(q);q=n(18);var e=f(q);n=n(1);f(n)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e){if(!c)return e();var g=(0,f.default)(b.popper).tooltip,m=!1,h=function(x){x.target!==g||m||(m=!0,e())};g.addEventListener("webkitTransitionEnd",h);g.addEventListener("transitionend",h);clearTimeout(b._transitionendTimeout);b._transitionendTimeout=setTimeout(function(){m||e()},c)};n(0);var f=(q=n(6))&&q.__esModule?q:{default:q}},function(q,t,n){function f(B){return B&&
B.__esModule?B:{default:B}}function b(B,N,Z){N in B?Object.defineProperty(B,N,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[N]=Z;return B}function c(B,N){return new D(B,N)}Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(B){for(var N=1;N<arguments.length;N++){var Z=arguments[N],Aa;for(Aa in Z)Object.prototype.hasOwnProperty.call(Z,Aa)&&(B[Aa]=Z[Aa])}return B},g=function(){function B(N,Z){for(var Aa=0;Aa<Z.length;Aa++){var qa=Z[Aa];qa.enumerable=qa.enumerable||
!1;qa.configurable=!0;"value"in qa&&(qa.writable=!0);Object.defineProperty(N,qa.key,qa)}}return function(N,Z,Aa){Z&&B(N.prototype,Z);Aa&&B(N,Aa);return N}}(),m=n(0);q=n(39);var h=f(q);q=n(26);var x=f(q);q=n(5);var O=f(q);q=n(1);f(q);q=n(2);var G=f(q);q=n(34);var I=f(q);q=n(12);var F=f(q);q=n(33);var C=f(q);q=n(37);var r=f(q);q=n(35);var y=f(q);q=n(6);var K=f(q);q=n(31);var R=f(q);q=n(7);var S=f(q);q=n(36);var ca=f(q);q=n(10);var M=f(q);q=n(22);var aa=f(q);q=n(29);var Y=f(q);q=n(28);var ea=f(q);q=
n(27);var Ga=f(q);n=n(19);var X=f(n),D=function(){function B(N){var Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");m.Browser.SUPPORTED&&((0,x.default)(),this.state={destroyed:!1},this.selector=N,this.settings=e({},m.Defaults,Z),(Z.show||Z.shown||Z.hide||Z.hidden)&&console.warn("Callbacks without the `on` prefix are deprecated (with the exception of `wait`). Use onShow, onShown, onHide, and onHidden instead."),
this.callbacks={wait:Z.wait,show:Z.onShow||Z.show||ca.default,shown:Z.onShown||Z.shown||ca.default,hide:Z.onHide||Z.hide||ca.default,hidden:Z.onHidden||Z.hidden||ca.default},this.store=X.default.call(this,(0,aa.default)(N)),m.Store.push.apply(m.Store,this.store))}g(B,[{key:"getPopperElement",value:function(N){try{return(0,G.default)(this.store,function(Z){return Z.el===N}).popper}catch(Z){console.error("[getPopperElement]: Element passed as the argument does not exist in the instance")}}},{key:"getReferenceElement",
value:function(N){try{return(0,G.default)(this.store,function(Z){return Z.popper===N}).el}catch(Z){console.error("[getReferenceElement]: Popper passed as the argument does not exist in the instance")}}},{key:"getReferenceData",value:function(N){return(0,G.default)(this.store,function(Z){return Z.el===N||Z.popper===N})}},{key:"updateSettings",value:function(N,Z,Aa){var qa=(0,G.default)(this.store,function(la){return la.popper===N});qa&&(Z=e({},qa.settings,b({},Z,Aa)),qa.settings=Z)}},{key:"updateForReact",
value:function(N,Z){var Aa=N.querySelector(m.Selectors.CONTENT),qa=(0,G.default)(this.store,function(Ja){return Ja.popper===N});if(qa){qa=qa.settings;var la=qa.setReactDOMValue;qa.useContext?la(h.default.createPortal(Z,Aa)):h.default.render(Z,Aa)}}},{key:"show",value:function(N,Z){var Aa=this;if(!this.state.destroyed){var qa=(0,G.default)(this.store,function(xa){return xa.popper===N});if(qa){var la=(0,K.default)(N),Ja=la.tooltip,bb=la.circle,ib=la.content;if(document.body.contains(qa.el)){if(this.callbacks.show.call(N),
!qa.settings||!1!==qa.settings.open){qa.settings.reactDOM&&this.updateForReact(N,qa.settings.reactDOM);var Ma=qa.el,ma=qa.settings,Fa=ma.sticky,Ra=ma.interactive,ra=ma.followCursor,ya=ma.flipDuration;la=ma.duration;ma.dynamicTitle&&(ma=Ma.getAttribute("title"))&&(ib.innerHTML=ma,(0,F.default)(Ma));var oa=void 0!==Z?Z:Array.isArray(la)?la[0]:la;(0,R.default)([N,Ja,bb],0);(0,ea.default)(qa);N.style.visibility="visible";N.setAttribute("aria-hidden","false");(0,O.default)(function(){if(!ra||m.Browser.touch)qa.popperInstance.update(),
(0,R.default)([N],ya);(0,R.default)([Ja,bb],oa);bb&&(ib.style.opacity=1);Ra&&Ma.classList.add("active");Fa&&(0,Ga.default)(qa);(0,r.default)(Ja,bb);(0,y.default)([Ja,bb],function(xa){xa.contains("tippy-notransition")&&xa.remove("tippy-notransition");xa.remove("leave");xa.add("enter")});(0,Y.default)(qa,oa,function(){(0,S.default)(N)&&!qa._onShownFired&&(Ra&&N.focus(),Ja.classList.add("tippy-notransition"),qa._onShownFired=!0,Aa.callbacks.shown.call(N))})})}}else this.destroy(N)}}}},{key:"hide",value:function(N,
Z){var Aa=this;if(!this.state.destroyed){this.callbacks.hide.call(N);var qa=(0,G.default)(this.store,function(oa){return oa.popper===N});if(qa){var la=(0,K.default)(N),Ja=la.tooltip,bb=la.circle,ib=la.content;if(!1!==qa.settings.disabled||!qa||!qa.settings.open){var Ma=qa&&qa.settings&&qa.settings.unmountHTMLWhenHide&&qa.settings.reactDOM,ma=qa.el,Fa=qa.settings,Ra=Fa.appendTo;la=Fa.interactive;var ra=Fa.html,ya=Fa.trigger;Fa=Fa.duration;Z=void 0!==Z?Z:Array.isArray(Fa)?Fa[1]:Fa;qa._onShownFired=
!1;la&&ma.classList.remove("active");N.style.visibility="hidden";N.setAttribute("aria-hidden","true");(0,R.default)([Ja,bb,bb?ib:null],Z);bb&&(ib.style.opacity=0);(0,y.default)([Ja,bb],function(oa){oa.contains("tippy-tooltip")&&oa.remove("tippy-notransition");oa.remove("enter");oa.add("leave")});ra&&-1!==ya.indexOf("click")&&(0,C.default)(ma)&&ma.focus();(0,Y.default)(qa,Z,function(){!(0,S.default)(N)&&Ra.contains(N)&&"1"!==getComputedStyle(Ja).opacity&&(ma.removeEventListener("mousemove",M.default),
qa.popperInstance.disableEventListeners(),Ra.removeChild(N),Aa.callbacks.hidden.call(N),Ma&&h.default.unmountComponentAtNode(ib))})}}}}},{key:"update",value:function(N){if(!this.state.destroyed){var Z=(0,G.default)(this.store,function(la){return la.popper===N});if(Z){var Aa=(0,K.default)(N).content,qa=Z.el;Z=Z.settings.html;Z instanceof Element?console.warn("Aborted: update() should not be used if `html` is a DOM element"):(Aa.innerHTML=Z?document.getElementById(Z.replace("#","")).innerHTML:qa.getAttribute("title")||
qa.getAttribute("data-original-title"),Z||(0,F.default)(qa))}}}},{key:"destroy",value:function(N,Z){var Aa=this;if(!this.state.destroyed){var qa=(0,G.default)(this.store,function(ib){return ib.popper===N});if(qa){var la=qa.el,Ja=qa.popperInstance,bb=qa.listeners;qa=qa._mutationObserver;(0,S.default)(N)&&this.hide(N,0);bb.forEach(function(ib){return la.removeEventListener(ib.event,ib.handler)});la.setAttribute("title",la.getAttribute("data-original-title"));la.removeAttribute("data-original-title");
la.removeAttribute("data-tooltipped");la.removeAttribute("aria-describedby");Ja&&Ja.destroy();qa&&qa.disconnect();m.Store.splice((0,I.default)(m.Store,function(ib){return ib.popper===N}),1);if(void 0===Z||Z)this.store=m.Store.filter(function(ib){return ib.tippyInstance===Aa})}}}},{key:"destroyAll",value:function(){var N=this;if(!this.state.destroyed){var Z=this.store.length;this.store.forEach(function(Aa,qa){N.destroy(Aa.popper,qa===Z-1)});this.store=null;this.state.destroyed=!0}}}]);return B}();
c.Browser=m.Browser;c.Defaults=m.Defaults;c.disableDynamicInputDetection=function(){return m.Browser.dynamicInputDetection=!1};c.enableDynamicInputDetection=function(){return m.Browser.dynamicInputDetection=!0};t.default=c},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,g){e.forEach(function(m){if(m){var h=c.matches.call(m,f.Selectors.CONTENT)?Math.round(g/1.3):g;m.style[(0,b.default)("transitionDuration")]=h+"ms"}})};var f=n(0),b=(q=n(1))&&q.__esModule?q:{default:q},
c=n(8)},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c,e){if(!c.getAttribute("x-placement"))return!0;var g=b.clientX;b=b.clientY;var m=e.interactiveBorder,h=e.distance;e=c.getBoundingClientRect();c=(0,f.default)(c.getAttribute("x-placement"));h=m+h;var x=e.top-b>m,O=b-e.bottom>m,G=e.left-g>m;m=g-e.right>m;switch(c){case "top":x=e.top-b>h;break;case "bottom":O=b-e.bottom>h;break;case "left":G=e.left-g>h;break;case "right":m=g-e.right>h}return x||O||G||m};var f=
(q=n(3))&&q.__esModule?q:{default:q}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f){f=f.getBoundingClientRect();return 0<=f.top&&0<=f.left&&f.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&f.right<=(window.innerWidth||document.documentElement.clientWidth)}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){return Array.prototype.findIndex?b.findIndex(c):b.indexOf((0,f.default)(b,c))};var f=(q=n(2))&&
q.__esModule?q:{default:q}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(f,b){f.forEach(function(c){c&&b(c.classList)})}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){}},function(q,t,n){Object.defineProperty(t,"__esModule",{value:!0});t.default=function(b,c){c?window.getComputedStyle(c)[(0,f.default)("transform")]:window.getComputedStyle(b).opacity};var f=(q=n(1))&&q.__esModule?q:{default:q}},function(q,t){q.exports=k},
function(q,t){q.exports=p}])})};
/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var g,ca=this||self;function da(a,b){a=a.split(".");var c=ca;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b}function fa(){}function ha(a){var b=typeof a;return"object"!=b?b:a?Array.isArray(a)?"array":b:"null"}function ia(a){var b=ha(a);return"array"==b||"object"==b&&"number"==typeof a.length}
function ja(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ka(a){return Object.prototype.hasOwnProperty.call(a,ma)&&a[ma]||(a[ma]=++na)}var ma="closure_uid_"+(1E9*Math.random()>>>0),na=0;function ra(a,b){function c(){}c.prototype=b.prototype;a.$d=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.base=function(d,e,f){for(var h=Array(arguments.length-2),k=2;k<arguments.length;k++)h[k-2]=arguments[k];return b.prototype[e].apply(d,h)}};function ta(a){ta[" "](a);return a}ta[" "]=fa;function za(a,b){return new Aa(a,b)}function Ba(a){return 0<a?0x7fffffffffffffff<=a?Ca:new Aa(a,a/4294967296):0>a?-0x7fffffffffffffff>=a?Ea:Fa(new Aa(-a,-a/4294967296)):Ga}
function Ha(a,b){if("-"==a.charAt(0))return Fa(Ha(a.substring(1),b));var c=parseInt(a,b||10);if(9007199254740991>=c)return new Aa(c%4294967296|0,c/4294967296|0);if(0==a.length)throw Error("number format error: empty string");if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);c=Ba(Math.pow(b,8));for(var d=Ga,e=0;e<a.length;e+=8){var f=Math.min(8,a.length-e),h=parseInt(a.substring(e,e+f),b);8>f?(f=Ba(Math.pow(b,
f)),d=d.multiply(f).add(Ba(h))):(d=d.multiply(c),d=d.add(Ba(h)))}return d}function Fa(a){var b=~a.fb+1|0;return za(b,~a.Qa+!b|0)}function Ia(a,b){return a.add(Fa(b))}function Ja(a){return 0==a.fb&&0==a.Qa}function La(a,b){b&=63;if(0==b)return a;var c=a.Qa;return 32>b?za(a.fb>>>b|c<<32-b,c>>>b):32==b?za(c,0):za(c>>>b-32,0)}
class Aa{constructor(a,b){this.fb=a|0;this.Qa=b|0}toNumber(){return 4294967296*this.Qa+(this.fb>>>0)}isSafeInteger(){var a=this.Qa>>21;return 0==a||-1==a&&!(0==this.fb&&-2097152==this.Qa)}toString(a){a=a||10;if(2>a||36<a)throw Error("radix out of range: "+a);if(this.isSafeInteger()){var b=this.toNumber();return 10==a?""+b:b.toString(a)}b=14-(a>>2);var c=Math.pow(a,b),d=za(c,c/4294967296);c=this.div(d);d=Math.abs(Ia(this,c.multiply(d)).toNumber());var e=10==a?""+d:d.toString(a);e.length<b&&(e="0000000000000".substr(e.length-
b)+e);d=c.toNumber();return(10==a?d:d.toString(a))+e}eb(){return this.fb^this.Qa}equals(a){return this.fb==a.fb&&this.Qa==a.Qa}compare(a){return this.Qa==a.Qa?this.fb==a.fb?0:this.fb>>>0>a.fb>>>0?1:-1:this.Qa>a.Qa?1:-1}add(a){var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=a.Qa>>>16,f=a.Qa&65535,h=a.fb>>>16;a=(this.fb&65535)+(a.fb&65535);h=(a>>>16)+(d+h);d=h>>>16;d+=c+f;b=(d>>>16)+(b+e)&65535;return za((h&65535)<<16|a&65535,b<<16|d&65535)}multiply(a){if(Ja(this))return this;if(Ja(a))return a;
var b=this.Qa>>>16,c=this.Qa&65535,d=this.fb>>>16,e=this.fb&65535,f=a.Qa>>>16,h=a.Qa&65535,k=a.fb>>>16;a=a.fb&65535;var m=e*a;var n=(m>>>16)+d*a;var p=n>>>16;n=(n&65535)+e*k;p+=n>>>16;p+=c*a;var u=p>>>16;p=(p&65535)+d*k;u+=p>>>16;p=(p&65535)+e*h;u=u+(p>>>16)+(b*a+c*k+d*h+e*f)&65535;return za((n&65535)<<16|m&65535,u<<16|p&65535)}div(a){if(Ja(a))throw Error("division by zero");if(0>this.Qa){if(this.equals(Ea)){if(a.equals(Na)||a.equals(Oa))return Ea;if(a.equals(Ea))return Na;var b=1;if(0==b)b=this;
else{var c=this.Qa;b=32>b?za(this.fb>>>b|c<<32-b,c>>b):za(c>>b-32,0<=c?0:-1)}b=b.div(a).shiftLeft(1);if(b.equals(Ga))return 0>a.Qa?Na:Oa;c=Ia(this,a.multiply(b));return b.add(c.div(a))}return 0>a.Qa?Fa(this).div(Fa(a)):Fa(Fa(this).div(a))}if(Ja(this))return Ga;if(0>a.Qa)return a.equals(Ea)?Ga:Fa(this.div(Fa(a)));var d=Ga;for(c=this;0<=c.compare(a);){b=Math.max(1,Math.floor(c.toNumber()/a.toNumber()));var e=Math.ceil(Math.log(b)/Math.LN2);e=48>=e?1:Math.pow(2,e-48);for(var f=Ba(b),h=f.multiply(a);0>
h.Qa||0<h.compare(c);)b-=e,f=Ba(b),h=f.multiply(a);Ja(f)&&(f=Na);d=d.add(f);c=Ia(c,h)}return d}modulo(a){return Ia(this,this.div(a).multiply(a))}not(){return za(~this.fb,~this.Qa)}and(a){return za(this.fb&a.fb,this.Qa&a.Qa)}or(a){return za(this.fb|a.fb,this.Qa|a.Qa)}xor(a){return za(this.fb^a.fb,this.Qa^a.Qa)}shiftLeft(a){a&=63;if(0==a)return this;var b=this.fb;return 32>a?za(b<<a,this.Qa<<a|b>>>32-a):za(0,b<<a-32)}}const Ga=za(0,0),Na=za(1,0),Oa=za(-1,-1),Ca=za(4294967295,2147483647),Ea=za(0,2147483648);function Pa(a,b){const c=a.length-b.length;return 0<=c&&a.indexOf(b,c)==c}function Qa(a){return/^[\s\xa0]*$/.test(a)};function Va(a){const b=[];let c=0;for(const d in a)b[c++]=d;return b}function Wa(a,b,c){return null!==a&&b in a?a[b]:c}const Xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ya(a,b){let c,d;for(let e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(let f=0;f<Xa.length;f++)c=Xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};const Za=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};function db(a){const b=a.length;if(0<b){const c=Array(b);for(let d=0;d<b;d++)c[d]=a[d];return c}return[]}function eb(a,b){a.sort(b||gb)}
function hb(a,b){const c=Array(a.length);for(let e=0;e<a.length;e++)c[e]={index:e,value:a[e]};const d=b||gb;eb(c,function(e,f){return d(e.value,f.value)||e.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function gb(a,b){return a>b?1:a<b?-1:0};var ba;a:{const a=ca.navigator;if(a){const b=a.userAgent;if(b){ba=b;break a}}ba=""}let kb=ba;function lb(a){return-1!=kb.indexOf(a)};function mb(a){return 1==a.length&&" "<=a&&"~">=a||""<=a&&"�">=a}var nb=String.prototype.repeat?function(a,b){return a.repeat(b)}:function(a,b){return Array(b+1).join(a)};function qb(a){if(a.Ia&&"function"==typeof a.Ia)return a.Ia();if("undefined"!==typeof Map&&a instanceof Map||"undefined"!==typeof Set&&a instanceof Set)return Array.from(a.values());if("string"===typeof a)return a.split("");if(ia(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}b=[];c=0;for(d in a)b[c++]=a[d];return b}
function rb(a){if(a.Ha&&"function"==typeof a.Ha)return a.Ha();if(!a.Ia||"function"!=typeof a.Ia){if("undefined"!==typeof Map&&a instanceof Map)return Array.from(a.keys());if(!("undefined"!==typeof Set&&a instanceof Set)){if(ia(a)||"string"===typeof a){var b=[];a=a.length;for(var c=0;c<a;c++)b.push(c);return b}return Va(a)}}}
function sb(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(ia(a)||"string"===typeof a)Array.prototype.forEach.call(a,b,c);else for(var d=rb(a),e=qb(a),f=e.length,h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)};var ub=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?\x3d[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vb(a,b){if(a){a=a.split("\x26");for(var c=0;c<a.length;c++){var d=a[c].indexOf("\x3d"),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};function wb(a){this.qd=this.Se=this.ne="";this.ef=null;this.le=this.dd="";this.td=this.Ui=!1;if(a instanceof wb){this.td=a.td;xb(this,a.ne);var b=a.Se;yb(this);this.Se=b;b=a.qd;yb(this);this.qd=b;zb(this,a.ef);b=a.dd;yb(this);this.dd=b;Ab(this,a.ed.clone());a=a.le;yb(this);this.le=a}else a&&(b=String(a).match(ub))?(this.td=!1,xb(this,b[1]||"",!0),a=b[2]||"",yb(this),this.Se=Bb(a),a=b[3]||"",yb(this),this.qd=Bb(a,!0),zb(this,b[4]),a=b[5]||"",yb(this),this.dd=Bb(a,!0),Ab(this,b[6]||"",!0),a=b[7]||"",
yb(this),this.le=Bb(a)):(this.td=!1,this.ed=new Cb(null,this.td))}g=wb.prototype;
g.toString=function(){var a=[],b=this.ne;b&&a.push(Eb(b,Fb,!0),":");var c=this.qd;if(c||"file"==b)a.push("//"),(b=this.Se)&&a.push(Eb(b,Fb,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.ef,null!=c&&a.push(":",String(c));if(c=this.dd)this.qd&&"/"!=c.charAt(0)&&a.push("/"),a.push(Eb(c,"/"==c.charAt(0)?Gb:Hb,!0));(c=this.ed.toString())&&a.push("?",c);(c=this.le)&&a.push("#",Eb(c,Ib));return a.join("")};
g.resolve=function(a){var b=this.clone(),c=!!a.ne;c?xb(b,a.ne):c=!!a.Se;if(c){var d=a.Se;yb(b);b.Se=d}else c=!!a.qd;c?(d=a.qd,yb(b),b.qd=d):c=null!=a.ef;d=a.dd;if(c)zb(b,a.ef);else if(c=!!a.dd){if("/"!=d.charAt(0))if(this.qd&&!this.dd)d="/"+d;else{var e=b.dd.lastIndexOf("/");-1!=e&&(d=b.dd.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],h=0;h<e.length;){var k=e[h++];"."==k?d&&h==e.length&&f.push(""):
".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&h==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(yb(b),b.dd=d):c=""!==a.ed.toString();c?Ab(b,a.ed.clone()):c=!!a.le;c&&(a=a.le,yb(b),b.le=a);return b};g.clone=function(){return new wb(this)};function xb(a,b,c){yb(a);a.ne=c?Bb(b,!0):b;a.ne&&(a.ne=a.ne.replace(/:$/,""))}function zb(a,b){yb(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.ef=b}else a.ef=null}
function Ab(a,b,c){yb(a);b instanceof Cb?(a.ed=b,a.ed.Vh(a.td)):(c||(b=Eb(b,Jb)),a.ed=new Cb(b,a.td))}g.getQuery=function(){return this.ed.toString()};g.removeParameter=function(a){yb(this);this.ed.remove(a);return this};g.isReadOnly=function(){return this.Ui};function yb(a){if(a.Ui)throw Error("Tried to modify a read-only Uri");}g.Vh=function(a){this.td=a;this.ed&&this.ed.Vh(a)};function Kb(a){return a instanceof wb?a.clone():new wb(a)}
function Bb(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Eb(a,b,c){return"string"===typeof a?(a=encodeURI(a).replace(b,Lb),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Lb(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Fb=/[#\/\?@]/g,Hb=/[#\?:]/g,Gb=/[#\?]/g,Jb=/[#\?@]/g,Ib=/#/g;function Cb(a,b){this.count_=this.Eb=null;this.ad=a||null;this.td=!!b}
function Mb(a){a.Eb||(a.Eb=new Map,a.count_=0,a.ad&&vb(a.ad,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}g=Cb.prototype;g.add=function(a,b){Mb(this);this.ad=null;a=Nb(this,a);var c=this.Eb.get(a);c||this.Eb.set(a,c=[]);c.push(b);this.count_+=1;return this};g.remove=function(a){Mb(this);a=Nb(this,a);return this.Eb.has(a)?(this.ad=null,this.count_-=this.Eb.get(a).length,this.Eb.delete(a)):!1};g.clear=function(){this.Eb=this.ad=null;this.count_=0};
g.isEmpty=function(){Mb(this);return 0==this.count_};function oa(a,b){Mb(a);b=Nb(a,b);return a.Eb.has(b)}g.forEach=function(a,b){Mb(this);this.Eb.forEach(function(c,d){c.forEach(function(e){a.call(b,e,d,this)},this)},this)};g.Ha=function(){Mb(this);const a=Array.from(this.Eb.values()),b=Array.from(this.Eb.keys()),c=[];for(let d=0;d<b.length;d++){const e=a[d];for(let f=0;f<e.length;f++)c.push(b[d])}return c};
g.Ia=function(a){Mb(this);let b=[];if("string"===typeof a)oa(this,a)&&(b=b.concat(this.Eb.get(Nb(this,a))));else{a=Array.from(this.Eb.values());for(let c=0;c<a.length;c++)b=b.concat(a[c])}return b};g.set=function(a,b){Mb(this);this.ad=null;a=Nb(this,a);oa(this,a)&&(this.count_-=this.Eb.get(a).length);this.Eb.set(a,[b]);this.count_+=1;return this};g.get=function(a,b){if(!a)return b;a=this.Ia(a);return 0<a.length?String(a[0]):b};
g.toString=function(){if(this.ad)return this.ad;if(!this.Eb)return"";const a=[],b=Array.from(this.Eb.keys());for(var c=0;c<b.length;c++){var d=b[c];const f=encodeURIComponent(String(d)),h=this.Ia(d);for(d=0;d<h.length;d++){var e=f;""!==h[d]&&(e+="\x3d"+encodeURIComponent(String(h[d])));a.push(e)}}return this.ad=a.join("\x26")};g.clone=function(){var a=new Cb;a.ad=this.ad;this.Eb&&(a.Eb=new Map(this.Eb),a.count_=this.count_);return a};
function Nb(a,b){b=String(b);a.td&&(b=b.toLowerCase());return b}g.Vh=function(a){a&&!this.td&&(Mb(this),this.ad=null,this.Eb.forEach(function(b,c){var d=c.toLowerCase();c!=d&&(this.remove(c),this.remove(d),0<b.length&&(this.ad=null,this.Eb.set(Nb(this,d),db(b)),this.count_+=b.length))},this));this.td=a};g.extend=function(a){for(var b=0;b<arguments.length;b++)sb(arguments[b],function(c,d){this.add(d,c)},this)};function Pb(a,b){null!=a&&this.append.apply(this,arguments)}g=Pb.prototype;g.te="";g.set=function(a){this.te=""+a};g.append=function(a,b,c){this.te+=String(a);if(null!=b)for(let d=1;d<arguments.length;d++)this.te+=arguments[d];return this};g.clear=function(){this.te=""};g.getLength=function(){return this.te.length};g.toString=function(){return this.te};var Qb={},Rb={},pa,l={},Tb=null,Ub=null,Vb=!0,Wb=!0,Xb=null,Yb=null;function Zb(){return new q(null,5,[$b,!0,ac,Wb,bc,!1,cc,!1,dc,Xb],null)}function ec(){Vb=!1;Ub=function(){var a=arguments;return console.log.apply(console,db(a))}}function r(a){return null!=a&&!1!==a}function fc(a){return null==a}function gc(a){return a instanceof Array}function hc(a){return"number"===typeof a}function ic(a){return null==a?!0:!1===a?!0:!1}function lc(a){return null!=a}function mc(a){return"string"===ha(a)}
function nc(a,b){return a[ha(null==b?null:b)]?!0:a._?!0:!1}function oc(a){return null==a?null:a.constructor}function pc(a,b){var c=oc(b);c=r(r(c)?c.Wa:c)?c.Sa:ha(b);return Error(["No protocol method ",a," defined for type ",c,": ",b].join(""))}function qc(a){var b=a.Sa;return r(b)?b:t.C(a)}
var rc="undefined"!==typeof Symbol&&"function"===ha(Symbol)?Symbol.iterator:"@@iterator",sc={_RBRACE_:"}",_COLON_:":",_BANG_:"!",_QMARK_:"?",_BSLASH_:"\\\\",_SLASH_:"/",_PERCENT_:"%",_PLUS_:"+",_SHARP_:"#",_LBRACE_:"{",_BAR_:"|",_LBRACK_:"[",_EQ_:"\x3d",_:"-",_TILDE_:"~",_RBRACK_:"]",_GT_:"\x3e",_SINGLEQUOTE_:"'",_CIRCA_:"@",_AMPERSAND_:"\x26",_DOUBLEQUOTE_:'\\"',_CARET_:"^",_LT_:"\x3c",_STAR_:"*"},tc=null;
function uc(a){for(var b=a.length,c=Array(b),d=0;;)if(d<b)c[d]=a[d],d+=1;else break;return c}function vc(a){for(var b=Array(arguments.length),c=0;;)if(c<b.length)b[c]=arguments[c],c+=1;else return b}function wc(a){function b(d,e){d.push(e);return d}var c=[];return w.D?w.D(b,c,a):w.call(null,b,c,a)}function xc(a){return"symbol"===ha(a)||"undefined"!==typeof Symbol&&a instanceof Symbol}function yc(){}function Ac(){}
function Bc(a){if(null!=a&&null!=a.pa)a=a.pa(a);else{var b=Bc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Bc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ICloneable.-clone",a);}return a}function Cc(){}function Dc(a){if(null!=a&&null!=a.la)a=a.la(a);else{var b=Dc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Dc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ICounted.-count",a);}return a}function Ec(){}
function Fc(a){if(null!=a&&null!=a.Pa)a=a.Pa(a);else{var b=Fc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Fc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEmptyableCollection.-empty",a);}return a}function Gc(){}function Hc(a,b){if(null!=a&&null!=a.na)a=a.na(a,b);else{var c=Hc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Hc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ICollection.-conj",a);}return a}function Ic(){}
var qa=function(){function a(d,e,f){var h=x[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=x._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("IIndexed.-nth",d);}function b(d,e){var f=x[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=x._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("IIndexed.-nth",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,f)}throw Error("Invalid arity: "+
arguments.length);};c.B=b;c.D=a;return c}(),x=function x(a){switch(arguments.length){case 2:return x.B(arguments[0],arguments[1]);case 3:return x.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};x.B=function(a,b){return null!=a&&null!=a.Da?a.Da(a,b):qa(a,b)};x.D=function(a,b,c){return null!=a&&null!=a.qb?a.qb(a,b,c):qa(a,b,c)};x.aa=3;function Kc(){}
function Lc(a){if(null!=a&&null!=a.nb)a=a.nb(a);else{var b=Lc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Lc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeq.-first",a);}return a}function Mc(a){if(null!=a&&null!=a.xb)a=a.xb(a);else{var b=Mc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Mc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeq.-rest",a);}return a}function Nc(){}
function Oc(a){if(null!=a&&null!=a.Va)a=a.Va(a);else{var b=Oc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Oc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INext.-next",a);}return a}function Pc(){}
var wa=function(){function a(d,e,f){var h=Qc[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=Qc._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("ILookup.-lookup",d);}function b(d,e){var f=Qc[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=Qc._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("ILookup.-lookup",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),Qc=function Qc(a){switch(arguments.length){case 2:return Qc.B(arguments[0],arguments[1]);case 3:return Qc.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Qc.B=function(a,b){return null!=a&&null!=a.oa?a.oa(a,b):wa(a,b)};Qc.D=function(a,b,c){return null!=a&&null!=a.Y?a.Y(a,b,c):wa(a,b,c)};Qc.aa=3;function Sc(){}
function Tc(a,b){if(null!=a&&null!=a.ra)a=a.ra(a,b);else{var c=Tc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Tc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IAssociative.-contains-key?",a);}return a}function Uc(a,b,c){if(null!=a&&null!=a.ea)a=a.ea(a,b,c);else{var d=Uc[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Uc._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IAssociative.-assoc",a);}return a}
function Vc(a,b){if(null!=a&&null!=a.de)a=a.de(a,b);else{var c=Vc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Vc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFind.-find",a);}return a}function Wc(){}function Xc(a,b){if(null!=a&&null!=a.za)a=a.za(a,b);else{var c=Xc[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Xc._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IMap.-dissoc",a);}return a}
function Yc(a){if(null!=a&&null!=a.bh)a=a.key;else{var b=Yc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMapEntry.-key",a);}return a}function Zc(a){if(null!=a&&null!=a.dh)a=a.val;else{var b=Zc[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Zc._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMapEntry.-val",a);}return a}function $c(){}
function ad(a,b){if(null!=a&&null!=a.lg)a=a.lg(a,b);else{var c=ad[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=ad._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ISet.-disjoin",a);}return a}function bd(a){if(null!=a&&null!=a.ee)a=a.ee(a);else{var b=bd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=bd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IStack.-peek",a);}return a}
function cd(a){if(null!=a&&null!=a.fe)a=a.fe(a);else{var b=cd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=cd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IStack.-pop",a);}return a}function dd(){}function ed(a,b,c){if(null!=a&&null!=a.Cd)a=a.Cd(a,b,c);else{var d=ed[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=ed._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IVector.-assoc-n",a);}return a}function fd(){}
function y(a){if(null!=a&&null!=a.Ub)a=a.Ub(a);else{var b=y[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDeref.-deref",a);}return a}function gd(){}function hd(a){if(null!=a&&null!=a.ga)a=a.ga(a);else{var b=hd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=hd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IMeta.-meta",a);}return a}function id(){}
function jd(a,b){if(null!=a&&null!=a.ha)a=a.ha(a,b);else{var c=jd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=jd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWithMeta.-with-meta",a);}return a}function kd(){}
var xa=function(){function a(d,e,f){var h=ld[ha(null==d?null:d)];if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);h=ld._;if(null!=h)return h.D?h.D(d,e,f):h.call(null,d,e,f);throw pc("IReduce.-reduce",d);}function b(d,e){var f=ld[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=ld._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("IReduce.-reduce",d);}var c=null;c=function(d,e,f){switch(arguments.length){case 2:return b.call(this,d,e);case 3:return a.call(this,d,e,
f)}throw Error("Invalid arity: "+arguments.length);};c.B=b;c.D=a;return c}(),ld=function ld(a){switch(arguments.length){case 2:return ld.B(arguments[0],arguments[1]);case 3:return ld.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ld.B=function(a,b){return null!=a&&null!=a.jb?a.jb(a,b):xa(a,b)};ld.D=function(a,b,c){return null!=a&&null!=a.kb?a.kb(a,b,c):xa(a,b,c)};ld.aa=3;function nd(){}
function od(a,b,c){if(null!=a&&null!=a.xa)a=a.xa(a,b,c);else{var d=od[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=od._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IKVReduce.-kv-reduce",a);}return a}function pd(a,b){if(null!=a&&null!=a.da)a=a.da(a,b);else{var c=pd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=pd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IEquiv.-equiv",a);}return a}
function qd(a){if(null!=a&&null!=a.ja)a=a.ja(a);else{var b=qd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=qd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IHash.-hash",a);}return a}function rd(){}function sd(a){if(null!=a&&null!=a.ka)a=a.ka(a);else{var b=sd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=sd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ISeqable.-seq",a);}return a}function td(){}function ud(){}function vd(){}
function wd(){}function xd(a){if(null!=a&&null!=a.Xc)a=a.Xc(a);else{var b=xd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=xd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IReversible.-rseq",a);}return a}function yd(a,b){if(null!=a&&null!=a.we)a=a.we(a,b);else{var c=yd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=yd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWriter.-write",a);}return a}
function zd(a){if(null!=a&&null!=a.Td)a=a.Td(a);else{var b=zd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=zd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IWriter.-flush",a);}return a}function Ad(){}function Bd(a,b,c){if(null!=a&&null!=a.ia)a=a.ia(a,b,c);else{var d=Bd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Bd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IPrintWithWriter.-pr-writer",a);}return a}function Cd(){}
function Dd(a){if(null!=a&&null!=a.kg)a=a.kg(a);else{var b=Dd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Dd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IPending.-realized?",a);}return a}function Ed(a,b){var c=YZ;if(null!=a&&null!=a.mg)a.mg(a,b,c);else{var d=Ed[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Ed._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IWatchable.-add-watch",a);}}
function Gd(a,b){if(null!=a&&null!=a.ng)a.ng(a,b);else{var c=Gd[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=Gd._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw pc("IWatchable.-remove-watch",a);}}function Hd(a){if(null!=a&&null!=a.ue)a=a.ue(a);else{var b=Hd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Hd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEditableCollection.-as-transient",a);}return a}
function Id(a,b){if(null!=a&&null!=a.ve)a=a.ve(a,b);else{var c=Id[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Id._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ITransientCollection.-conj!",a);}return a}function Jd(a){if(null!=a&&null!=a.Fe)a=a.Fe(a);else{var b=Jd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Jd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("ITransientCollection.-persistent!",a);}return a}
function Kd(a,b,c){if(null!=a&&null!=a.Ye)a=a.Ye(a,b,c);else{var d=Kd[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=Kd._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ITransientAssociative.-assoc!",a);}return a}function Md(){}
function Nd(a,b){if(null!=a&&null!=a.od)a=a.od(a,b);else{var c=Nd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Nd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IComparable.-compare",a);}return a}function Od(a){if(null!=a&&null!=a.rf)a=a.rf(a);else{var b=Od[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Od._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunk.-drop-first",a);}return a}
function Pd(a){if(null!=a&&null!=a.We)a=a.We(a);else{var b=Pd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Pd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunkedSeq.-chunked-first",a);}return a}function Qd(a){if(null!=a&&null!=a.ce)a=a.ce(a);else{var b=Qd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Qd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IChunkedSeq.-chunked-rest",a);}return a}
function Rd(a){if(null!=a&&null!=a.uf)a=a.uf(a);else{var b=Rd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Rd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INamed.-name",a);}return a}function Sd(a){if(null!=a&&null!=a.vf)a=a.vf(a);else{var b=Sd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Sd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INamed.-namespace",a);}return a}
function Td(a,b){if(null!=a&&null!=a.Bd)a=a.Bd(a,b);else{var c=Td[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Td._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IReset.-reset!",a);}return a}
var Ra=function(){function a(f,h,k,m,n){var p=Ud[ha(null==f?null:f)];if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);p=Ud._;if(null!=p)return p.ma?p.ma(f,h,k,m,n):p.call(null,f,h,k,m,n);throw pc("ISwap.-swap!",f);}function b(f,h,k,m){var n=Ud[ha(null==f?null:f)];if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);n=Ud._;if(null!=n)return n.R?n.R(f,h,k,m):n.call(null,f,h,k,m);throw pc("ISwap.-swap!",f);}function c(f,h,k){var m=Ud[ha(null==f?null:f)];if(null!=m)return m.D?m.D(f,h,
k):m.call(null,f,h,k);m=Ud._;if(null!=m)return m.D?m.D(f,h,k):m.call(null,f,h,k);throw pc("ISwap.-swap!",f);}function d(f,h){var k=Ud[ha(null==f?null:f)];if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);k=Ud._;if(null!=k)return k.B?k.B(f,h):k.call(null,f,h);throw pc("ISwap.-swap!",f);}var e=null;e=function(f,h,k,m,n){switch(arguments.length){case 2:return d.call(this,f,h);case 3:return c.call(this,f,h,k);case 4:return b.call(this,f,h,k,m);case 5:return a.call(this,f,h,k,m,n)}throw Error("Invalid arity: "+
arguments.length);};e.B=d;e.D=c;e.R=b;e.ma=a;return e}(),Ud=function Ud(a){switch(arguments.length){case 2:return Ud.B(arguments[0],arguments[1]);case 3:return Ud.D(arguments[0],arguments[1],arguments[2]);case 4:return Ud.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Ud.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Ud.B=function(a,b){return null!=a&&null!=a.fh?a.fh(a,b):Ra(a,b)};
Ud.D=function(a,b,c){return null!=a&&null!=a.gh?a.gh(a,b,c):Ra(a,b,c)};Ud.R=function(a,b,c,d){return null!=a&&null!=a.hh?a.hh(a,b,c,d):Ra(a,b,c,d)};Ud.ma=function(a,b,c,d,e){return null!=a&&null!=a.ih?a.ih(a,b,c,d,e):Ra(a,b,c,d,e)};Ud.aa=5;function Wd(a,b){if(null!=a&&null!=a.Ze)a=a.Ze(a,b);else{var c=Wd[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Wd._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IVolatile.-vreset!",a);}return a}function Xd(){}
function Yd(a){if(null!=a&&null!=a.qa)a=a.qa(a);else{var b=Yd[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Yd._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IIterable.-iterator",a);}return a}function Zd(a){this.Ql=a;this.O=1073741824;this.T=0}Zd.prototype.we=function(a,b){return this.Ql.append(b)};Zd.prototype.Td=function(){return null};function $d(a){var b=new Pb,c=new Zd(b);a.ia(null,c,Zb());c.Td(null);return t.C(b)}
var ae="undefined"!==typeof Math&&"undefined"!==typeof Math.imul?function(a,b){return Math.imul(a,b)}:function(a,b){var c=a&65535,d=b&65535;return c*d+((a>>>16&65535)*d+c*(b>>>16&65535)<<16>>>0)|0};function be(a){a=ae(a|0,-862048943);return ae(a<<15|a>>>-15,461845907)}function ce(a,b){a=(a|0)^(b|0);return ae(a<<13|a>>>-13,5)+-430675100|0}function de(a,b){a=(a|0)^b;a=ae(a^a>>>16,-2048144789);a=ae(a^a>>>13,-1028477387);return a^a>>>16}var ee={},fe=0;
function je(a){255<fe&&(ee={},fe=0);if(null==a)return 0;var b=ee[a];if("number"===typeof b)a=b;else{a:if(null!=a)if(b=a.length,0<b)for(var c=0,d=0;;)if(c<b)d=ae(31,d)+a.charCodeAt(c),c+=1;else{b=d;break a}else b=0;else b=0;ee[a]=b;fe+=1;a=b}return a}
function ke(a){if(null!=a&&(a.O&4194304||l===a.jg))return a.ja(null)^0;if("number"===typeof a){if(isFinite(a))return Math.floor(a)%2147483647;switch(a){case Infinity:return 2146435072;case -Infinity:return-1048576;default:return 2146959360}}else return!0===a?a=1231:!1===a?a=1237:"string"===typeof a?(a=je(a),a=0===a?a:de(ce(0,be(a)),4)):a=a instanceof Date?a.valueOf()^0:null==a?0:qd(a)^0,a}function le(a){return a instanceof A}
function me(a){var b=a.name;a:{var c=1;for(var d=0;;)if(c<b.length)d=ce(d,be(b.charCodeAt(c-1)|b.charCodeAt(c)<<16)),c+=2;else{c=d;break a}}b=de(1===(b.length&1)?c^be(b.charCodeAt(b.length-1)):c,ae(2,b.length));a=je(a.zc);return b^a+2654435769+(b<<6)+(b>>2)}function ne(a,b){if(a.Ac===b.Ac)return 0;var c=ic(a.zc);if(r(c?b.zc:c))return-1;if(r(a.zc)){if(ic(b.zc))return 1;c=gb(a.zc,b.zc);return 0===c?gb(a.name,b.name):c}return gb(a.name,b.name)}
function A(a,b,c,d,e){this.zc=a;this.name=b;this.Ac=c;this._hash=d;this.md=e;this.O=2154168321;this.T=4096}g=A.prototype;g.toString=function(){return this.Ac};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof A?this.Ac===b.Ac:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return B.B?B.B(a,this):B.call(null,a,this)};g.B=function(a,b){return B.D?B.D(a,this,b):B.call(null,a,this,b)};g.ga=function(){return this.md};g.ha=function(a,b){return new A(this.zc,this.name,this.Ac,this._hash,b)};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=me(this)};g.uf=function(){return this.name};g.vf=function(){return this.zc};g.ia=function(a,b){return yd(b,this.Ac)};
var oe=function oe(a){switch(arguments.length){case 1:return oe.C(arguments[0]);case 2:return oe.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};oe.C=function(a){for(;;){if(a instanceof A)return a;if("string"===typeof a){var b=a.indexOf("/");return 1>b?oe.B(null,a):oe.B(a.substring(0,b),a.substring(b+1,a.length))}if(a instanceof pe)return a.Pe;if(a instanceof D)a=a.ba;else throw Error("no conversion to symbol");}};
oe.B=function(a,b){var c=null!=a?[t.C(a),"/",t.C(b)].join(""):b;return new A(a,b,c,null,null)};oe.aa=2;function pe(a,b,c){this.val=a;this.Pe=b;this.md=c;this.O=6717441;this.T=0}g=pe.prototype;g.toString=function(){return["#'",t.C(this.Pe)].join("")};g.Ub=function(){return this.val.P?this.val.P():this.val.call(null)};g.ga=function(){return this.md};g.ha=function(a,b){return new pe(this.val,this.Pe,b)};g.da=function(a,b){return b instanceof pe?(a=this.Pe,b=b.Pe,F.B?F.B(a,b):F.call(null,a,b)):!1};
g.ja=function(){return me(this.Pe)};g.wi=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.vc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.qc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.rc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.sc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.tc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.uc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.sf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){var a=this.val.P?this.val.P():this.val.call(null);return a.P?a.P():a.call(null)};g.C=function(a){var b=this.val.P?this.val.P():this.val.call(null);return b.C?b.C(a):b.call(null,a)};
g.B=function(a,b){var c=this.val.P?this.val.P():this.val.call(null);return c.B?c.B(a,b):c.call(null,a,b)};g.D=function(a,b,c){var d=this.val.P?this.val.P():this.val.call(null);return d.D?d.D(a,b,c):d.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.val.P?this.val.P():this.val.call(null);return e.R?e.R(a,b,c,d):e.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){var f=this.val.P?this.val.P():this.val.call(null);return f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e)};
g.Ra=function(a,b,c,d,e,f){var h=this.val.P?this.val.P():this.val.call(null);return h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f)};g.Vb=function(a,b,c,d,e,f,h){var k=this.val.P?this.val.P():this.val.call(null);return k.Vb?k.Vb(a,b,c,d,e,f,h):k.call(null,a,b,c,d,e,f,h)};g.Wb=function(a,b,c,d,e,f,h,k){var m=this.val.P?this.val.P():this.val.call(null);return m.Wb?m.Wb(a,b,c,d,e,f,h,k):m.call(null,a,b,c,d,e,f,h,k)};
g.vc=function(a,b,c,d,e,f,h,k,m){var n=this.val.P?this.val.P():this.val.call(null);return n.vc?n.vc(a,b,c,d,e,f,h,k,m):n.call(null,a,b,c,d,e,f,h,k,m)};g.kc=function(a,b,c,d,e,f,h,k,m,n){var p=this.val.P?this.val.P():this.val.call(null);return p.kc?p.kc(a,b,c,d,e,f,h,k,m,n):p.call(null,a,b,c,d,e,f,h,k,m,n)};g.lc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.val.P?this.val.P():this.val.call(null);return u.lc?u.lc(a,b,c,d,e,f,h,k,m,n,p):u.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.val.P?this.val.P():this.val.call(null);return v.mc?v.mc(a,b,c,d,e,f,h,k,m,n,p,u):v.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.val.P?this.val.P():this.val.call(null);return z.nc?z.nc(a,b,c,d,e,f,h,k,m,n,p,u,v):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.val.P?this.val.P():this.val.call(null);return C.oc?C.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var E=this.val.P?this.val.P():this.val.call(null);return E.pc?E.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){var I=this.val.P?this.val.P():this.val.call(null);return I.qc?I.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){var O=this.val.P?this.val.P():this.val.call(null);return O.rc?O.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){var P=this.val.P?this.val.P():this.val.call(null);return P.sc?P.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){var T=this.val.P?this.val.P():this.val.call(null);return T.tc?T.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){var aa=this.val.P?this.val.P():this.val.call(null);return aa.uc?aa.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};g.sf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){var ea=this.val.P?this.val.P():this.val.call(null);return qe.ah?qe.ah(ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):qe.call(null,ea,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa)};
function re(a){return null!=a?a.T&131072||l===a.im?!0:a.T?!1:nc(Xd,a):nc(Xd,a)}function G(a){if(null==a)return null;if(null!=a&&(a.O&8388608||l===a.Ci))return a.ka(null);if(gc(a)||"string"===typeof a)return 0===a.length?null:new se(a,0,null);if(null!=a&&null!=a[rc])return a=Wa(a,rc).call(a),te.C?te.C(a):te.call(null,a);if(nc(rd,a))return sd(a);throw Error([t.C(a)," is not ISeqable"].join(""));}
function H(a){if(null==a)return null;if(null!=a&&(a.O&64||l===a.Xe))return a.nb(null);a=G(a);return null==a?null:Lc(a)}function ue(a){return null!=a?null!=a&&(a.O&64||l===a.Xe)?a.xb(null):(a=G(a))?a.xb(null):ve:ve}function J(a){return null==a?null:null!=a&&(a.O&128||l===a.wf)?a.Va(null):G(ue(a))}
var F=function F(a){switch(arguments.length){case 1:return F.C(arguments[0]);case 2:return F.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return F.I(arguments[0],arguments[1],c)}};F.C=function(){return!0};F.B=function(a,b){return null==a?null==b:a===b||pd(a,b)};F.I=function(a,b,c){for(;;)if(F.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return F.B(b,H(c));else return!1};
F.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};F.aa=2;function we(a){this.s=a}we.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:a,done:!1}}return{value:null,done:!0}};function ye(a){return new we(G(a))}function ze(a,b){this.value=a;this.iter=b;this.Vg=null;this.O=8388672;this.T=0}ze.prototype.ka=function(){return this};ze.prototype.nb=function(){return this.value};
ze.prototype.xb=function(){null==this.Vg&&(this.Vg=te.C?te.C(this.iter):te.call(null,this.iter));return this.Vg};function te(a){var b=a.next();return r(b.done)?null:new ze(b.value,a)}function Ae(a){var b=0,c=1;for(a=G(a);;)if(null!=a)b+=1,c=ae(31,c)+ke(H(a))|0,a=J(a);else return de(ce(0,be(c)),b)}var Be=de(ce(0,be(1)),0);function Ce(a){var b=0,c=0;for(a=G(a);;)if(null!=a)b+=1,c=c+ke(H(a))|0,a=J(a);else return de(ce(0,be(c)),b)}var De=de(ce(0,be(0)),0);Cc["null"]=!0;Dc["null"]=function(){return 0};
Date.prototype.da=function(a,b){return b instanceof Date&&this.valueOf()===b.valueOf()};Date.prototype.Ad=l;Date.prototype.od=function(a,b){if(b instanceof Date)return gb(this.valueOf(),b.valueOf());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};pd.number=function(a,b){return a===b};yc["function"]=!0;gd["function"]=!0;hd["function"]=function(){return null};qd._=function(a){return ka(a)};function Ee(a){return a+1}function Fe(a){this.val=a;this.O=32768;this.T=0}
Fe.prototype.Ub=function(){return this.val};function Ge(a){return new Fe(a)}function He(a){return a instanceof Fe}function Ie(a){return He(a)?Je.C?Je.C(a):Je.call(null,a):a}function Je(a){return y(a)}function Ke(a,b){var c=a.la(null);if(0===c)return b.P?b.P():b.call(null);for(var d=a.Da(null,0),e=1;;)if(e<c){var f=a.Da(null,e);d=b.B?b.B(d,f):b.call(null,d,f);if(He(d))return y(d);e+=1}else return d}
function Me(a,b,c){var d=a.la(null),e=c;for(c=0;;)if(c<d){var f=a.Da(null,c);e=b.B?b.B(e,f):b.call(null,e,f);if(He(e))return y(e);c+=1}else return e}function Ne(a,b){var c=a.length;if(0===a.length)return b.P?b.P():b.call(null);for(var d=a[0],e=1;;)if(e<c){var f=a[e];d=b.B?b.B(d,f):b.call(null,d,f);if(He(d))return y(d);e+=1}else return d}function Oe(a,b,c){var d=a.length,e=c;for(c=0;;)if(c<d){var f=a[c];e=b.B?b.B(e,f):b.call(null,e,f);if(He(e))return y(e);c+=1}else return e}
function Pe(a,b,c,d){for(var e=a.length;;)if(d<e){var f=a[d];c=b.B?b.B(c,f):b.call(null,c,f);if(He(c))return y(c);d+=1}else return c}function Qe(a){return null!=a?a.O&2||l===a.xi?!0:a.O?!1:nc(Cc,a):nc(Cc,a)}function Re(a){return null!=a?a.O&16||l===a.Bi?!0:a.O?!1:nc(Ic,a):nc(Ic,a)}function Se(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(c>=d)return-1;!(0<c)&&0>c&&(c+=d,c=0>c?0:c);for(;;)if(c<d){if(F.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;c+=1}else return-1}
function Ve(a,b,c){var d=K.C?K.C(a):K.call(null,a);if(0===d)return-1;0<c?(--d,c=d<c?d:c):c=0>c?d+c:c;for(;;)if(0<=c){if(F.B(Te?Te(a,c):Ue.call(null,a,c),b))return c;--c}else return-1}function We(a,b){this.K=a;this.i=b}We.prototype.Ua=function(){return this.i<this.K.length};We.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};function se(a,b,c){this.K=a;this.i=b;this.meta=c;this.O=166592766;this.T=139264}g=se.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.Da=function(a,b){a=b+this.i;if(0<=a&&a<this.K.length)return this.K[a];throw Error("Index out of bounds");};g.qb=function(a,b,c){a=b+this.i;return 0<=a&&a<this.K.length?this.K[a]:c};
g.qa=function(){return new We(this.K,this.i)};g.ga=function(){return this.meta};g.pa=function(){return new se(this.K,this.i,this.meta)};g.Va=function(){return this.i+1<this.K.length?new se(this.K,this.i+1,null):null};g.la=function(){var a=this.K.length-this.i;return 0>a?0:a};g.Xc=function(){var a=this.la(null);return 0<a?new Xe(this,a-1,null):null};g.ja=function(){return Ae(this)};g.da=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};g.Pa=function(){return ve};
g.jb=function(a,b){return Pe(this.K,b,this.K[this.i],this.i+1)};g.kb=function(a,b,c){return Pe(this.K,b,c,this.i)};g.nb=function(){return this.K[this.i]};g.xb=function(){return this.i+1<this.K.length?new se(this.K,this.i+1,null):ve};g.ka=function(){return this.i<this.K.length?this:null};g.ha=function(a,b){return b===this.meta?this:new se(this.K,this.i,b)};g.na=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};se.prototype[rc]=function(){return ye(this)};
function M(a){return 0<a.length?new se(a,0,null):null}function Xe(a,b,c){this.ci=a;this.i=b;this.meta=c;this.O=32374990;this.T=8192}g=Xe.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K.C?K.C(this):K.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new Xe(this.ci,this.i,this.meta)};g.Va=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):null};g.la=function(){return this.i+1};
g.ja=function(){return Ae(this)};g.da=function(a,b){return Ye.B?Ye.B(this,b):Ye.call(null,this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e?$e(b,this):af.call(null,b,this)};g.kb=function(a,b,c){return bf?bf(b,c,this):af.call(null,b,c,this)};g.nb=function(){return x(this.ci,this.i)};g.xb=function(){return 0<this.i?new Xe(this.ci,this.i-1,null):ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Xe(this.ci,this.i,b)};
g.na=function(a,b){return Ze.B?Ze.B(b,this):Ze.call(null,b,this)};Xe.prototype[rc]=function(){return ye(this)};function cf(a){return H(J(a))}function ff(a){return H(H(a))}function gf(a){for(;;){var b=J(a);if(null!=b)a=b;else return H(a)}}pd._=function(a,b){return a===b};
var hf=function hf(a){switch(arguments.length){case 0:return hf.P();case 1:return hf.C(arguments[0]);case 2:return hf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return hf.I(arguments[0],arguments[1],c)}};hf.P=function(){return jf};hf.C=function(a){return a};hf.B=function(a,b){return null!=a?Hc(a,b):new kf(null,b,null,1,null)};
hf.I=function(a,b,c){for(;;)if(r(c))a=hf.B(a,b),b=H(c),c=J(c);else return hf.B(a,b)};hf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};hf.aa=2;function lf(a){return null==a?null:null!=a&&(a.O&4||l===a.Ai)?a.Pa(null):(null!=a?a.O&4||l===a.Ai||(a.O?0:nc(Ec,a)):nc(Ec,a))?Fc(a):null}
function K(a){if(null!=a)if(null!=a&&(a.O&2||l===a.xi))a=a.la(null);else if(gc(a))a=a.length;else if("string"===typeof a)a=a.length;else if(null!=a&&(a.O&8388608||l===a.Ci))a:{a=G(a);for(var b=0;;){if(Qe(a)){a=b+Dc(a);break a}a=J(a);b+=1}}else a=Dc(a);else a=0;return a}function mf(a,b,c){for(;;){if(null==a)return c;if(0===b)return G(a)?H(a):c;if(Re(a))return x(a,b,c);if(G(a))a=J(a),--b;else return c}}
function Ue(a){switch(arguments.length){case 2:return Te(arguments[0],arguments[1]);case 3:return N(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Te(a,b){if("number"!==typeof b)throw Error("Index argument to nth must be a number");if(null==a)return a;if(null!=a&&(a.O&16||l===a.Bi))return a.Da(null,b);if(gc(a)){if(-1<b&&b<a.length)return a[b|0];throw Error("Index out of bounds");}if("string"===typeof a){if(-1<b&&b<a.length)return a.charAt(b|0);throw Error("Index out of bounds");}if(null!=a&&(a.O&64||l===a.Xe)||null!=a&&(a.O&16777216||l===a.Di)){if(0>b)throw Error("Index out of bounds");a:for(;;){if(null==a)throw Error("Index out of bounds");
if(0===b){if(G(a)){a=H(a);break a}throw Error("Index out of bounds");}if(Re(a)){a=x(a,b);break a}if(G(a))a=J(a),--b;else throw Error("Index out of bounds");}return a}if(nc(Ic,a))return x(a,b);throw Error(["nth not supported on this type ",t.C(qc(oc(a)))].join(""));}
function N(a,b,c){if("number"!==typeof b)throw Error("Index argument to nth must be a number.");if(null==a)return c;if(null!=a&&(a.O&16||l===a.Bi))return a.qb(null,b,c);if(gc(a))return-1<b&&b<a.length?a[b|0]:c;if("string"===typeof a)return-1<b&&b<a.length?a.charAt(b|0):c;if(null!=a&&(a.O&64||l===a.Xe)||null!=a&&(a.O&16777216||l===a.Di))return 0>b?c:mf(a,b,c);if(nc(Ic,a))return x(a,b,c);throw Error(["nth not supported on this type ",t.C(qc(oc(a)))].join(""));}
var B=function B(a){switch(arguments.length){case 2:return B.B(arguments[0],arguments[1]);case 3:return B.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};B.B=function(a,b){return null==a?null:null!=a&&(a.O&256||l===a.ck)?a.oa(null,b):gc(a)?null!=b&&b<a.length?a[b|0]:null:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):null:nc(Pc,a)?Qc(a,b):null};
B.D=function(a,b,c){return null!=a?null!=a&&(a.O&256||l===a.ck)?a.Y(null,b,c):gc(a)?null!=b&&-1<b&&b<a.length?a[b|0]:c:"string"===typeof a?null!=b&&-1<b&&b<a.length?a.charAt(b|0):c:nc(Pc,a)?Qc(a,b,c):c:c};B.aa=3;var Q=function Q(a){switch(arguments.length){case 3:return Q.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return Q.I(arguments[0],arguments[1],arguments[2],c)}};
Q.D=function(a,b,c){return null!=a&&(a.O&512||l===a.Zj)?a.ea(null,b,c):null!=a?Uc(a,b,c):nf([b,c])};Q.I=function(a,b,c,d){for(;;)if(a=Q.D(a,b,c),r(d))b=H(d),c=cf(d),d=J(J(d));else return a};Q.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Q.aa=3;
var R=function R(a){switch(arguments.length){case 1:return R.C(arguments[0]);case 2:return R.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return R.I(arguments[0],arguments[1],c)}};R.C=function(a){return a};R.B=function(a,b){return null==a?null:Xc(a,b)};R.I=function(a,b,c){for(;;){if(null==a)return null;a=R.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};
R.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};R.aa=2;function of(a){var b="function"===typeof a;return b?b:null!=a?l===a.wi?!0:a.xe?!1:nc(yc,a):nc(yc,a)}function pf(a,b){this.ya=a;this.meta=b;this.O=393217;this.T=0}g=pf.prototype;g.ga=function(){return this.meta};g.ha=function(a,b){return new pf(this.ya,b)};g.wi=l;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.vc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.qc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.rc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.sc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.tc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.uc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.sf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){return this.ya.P?this.ya.P():this.ya.call(null)};g.C=function(a){return this.ya.C?this.ya.C(a):this.ya.call(null,a)};g.B=function(a,b){return this.ya.B?this.ya.B(a,b):this.ya.call(null,a,b)};g.D=function(a,b,c){return this.ya.D?this.ya.D(a,b,c):this.ya.call(null,a,b,c)};
g.R=function(a,b,c,d){return this.ya.R?this.ya.R(a,b,c,d):this.ya.call(null,a,b,c,d)};g.ma=function(a,b,c,d,e){return this.ya.ma?this.ya.ma(a,b,c,d,e):this.ya.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){return this.ya.Ra?this.ya.Ra(a,b,c,d,e,f):this.ya.call(null,a,b,c,d,e,f)};g.Vb=function(a,b,c,d,e,f,h){return this.ya.Vb?this.ya.Vb(a,b,c,d,e,f,h):this.ya.call(null,a,b,c,d,e,f,h)};g.Wb=function(a,b,c,d,e,f,h,k){return this.ya.Wb?this.ya.Wb(a,b,c,d,e,f,h,k):this.ya.call(null,a,b,c,d,e,f,h,k)};
g.vc=function(a,b,c,d,e,f,h,k,m){return this.ya.vc?this.ya.vc(a,b,c,d,e,f,h,k,m):this.ya.call(null,a,b,c,d,e,f,h,k,m)};g.kc=function(a,b,c,d,e,f,h,k,m,n){return this.ya.kc?this.ya.kc(a,b,c,d,e,f,h,k,m,n):this.ya.call(null,a,b,c,d,e,f,h,k,m,n)};g.lc=function(a,b,c,d,e,f,h,k,m,n,p){return this.ya.lc?this.ya.lc(a,b,c,d,e,f,h,k,m,n,p):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p)};
g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u){return this.ya.mc?this.ya.mc(a,b,c,d,e,f,h,k,m,n,p,u):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){return this.ya.nc?this.ya.nc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){return this.ya.oc?this.ya.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){return this.ya.pc?this.ya.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){return this.ya.qc?this.ya.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){return this.ya.rc?this.ya.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){return this.ya.sc?this.ya.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){return this.ya.tc?this.ya.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){return this.ya.uc?this.ya.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):this.ya.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};g.sf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){return qe.ah?qe.ah(this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):qe.call(null,this.ya,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa)};function qf(a,b){return"function"===typeof a?new pf(a,b):null==a?null:jd(a,b)}
function rf(a){var b=null!=a;return(b?null!=a?a.O&131072||l===a.tf||(a.O?0:nc(gd,a)):nc(gd,a):b)?hd(a):null}var sf=function sf(a){switch(arguments.length){case 1:return sf.C(arguments[0]);case 2:return sf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return sf.I(arguments[0],arguments[1],c)}};sf.C=function(a){return a};sf.B=function(a,b){return null==a?null:ad(a,b)};
sf.I=function(a,b,c){for(;;){if(null==a)return null;a=sf.B(a,b);if(r(c))b=H(c),c=J(c);else return a}};sf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};sf.aa=2;function tf(a){return null==a||ic(G(a))}function uf(a){return null==a?!1:null!=a?a.O&8||l===a.fm?!0:a.O?!1:nc(Gc,a):nc(Gc,a)}function vf(a){return null==a?!1:null!=a?a.O&4096||l===a.pm?!0:a.O?!1:nc($c,a):nc($c,a)}function wf(a){return null!=a?a.O&16777216||l===a.Di?!0:a.O?!1:nc(td,a):nc(td,a)}
function xf(a){return null==a?!1:null!=a?a.O&1024||l===a.lm?!0:a.O?!1:nc(Wc,a):nc(Wc,a)}function yf(a){return null!=a?a.O&67108864||l===a.om?!0:a.O?!1:nc(vd,a):nc(vd,a)}function zf(a){return null!=a?a.O&16384||l===a.qm?!0:a.O?!1:nc(dd,a):nc(dd,a)}function Af(a){return null!=a?a.T&512||l===a.dm?!0:!1:!1}function Bf(a,b,c,d,e){for(;;){if(0===e)return c;c[d]=a[b];d+=1;--e;b+=1}}var Cf={};function Df(a){return null==a?!1:null!=a?a.O&64||l===a.Xe?!0:a.O?!1:nc(Kc,a):nc(Kc,a)}
function Ef(a){var b=null==a;return b?b:(b=null!=a?a.O&8388608||l===a.Ci?!0:a.O?!1:nc(rd,a):nc(rd,a))?b:gc(a)||"string"===typeof a}function Ff(a){return null==a?!1:!1===a?!1:!0}function Gf(a){var b=of(a);return b?b:null!=a?a.O&1||l===a.hm?!0:a.O?!1:nc(Ac,a):nc(Ac,a)}function Hf(a){return"number"===typeof a&&!isNaN(a)&&Infinity!==a&&parseFloat(a)===parseInt(a,10)}function S(a,b){return null!=a&&(a.O&512||l===a.Zj)?a.ra(null,b):nc(Sc,a)?Tc(a,b):B.D(a,b,Cf)===Cf?!1:!0}
var If=function If(a){switch(arguments.length){case 1:return If.C(arguments[0]);case 2:return If.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return If.I(arguments[0],arguments[1],c)}};If.C=function(){return!0};If.B=function(a,b){return!F.B(a,b)};If.I=function(a,b,c){if(F.B(a,b))return!1;a=Jf([a,b]);for(b=c;;){var d=H(b);c=J(b);if(r(b)){if(S(a,d))return!1;a=hf.B(a,d);b=c}else return!0}};
If.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};If.aa=2;function Kf(a,b){if(a===b)return 0;if(null==a)return-1;if(null==b)return 1;if("number"===typeof a){if("number"===typeof b)return gb(a,b);throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));}if(null!=a?a.T&2048||l===a.Ad||(a.T?0:nc(Md,a)):nc(Md,a))return Nd(a,b);if("string"!==typeof a&&!gc(a)&&!0!==a&&!1!==a||oc(a)!==oc(b))throw Error(["Cannot compare ",t.C(a)," to ",t.C(b)].join(""));return gb(a,b)}
function Lf(a,b){var c=K(a),d=K(b);if(c<d)a=-1;else if(c>d)a=1;else if(0===c)a=0;else a:for(d=0;;){var e=Kf(Te(a,d),Te(b,d));if(0===e&&d+1<c)d+=1;else{a=e;break a}}return a}function Mf(a){return F.B(a,Kf)?Kf:function(b,c){var d=a.B?a.B(b,c):a.call(null,b,c);return"number"===typeof d?d:r(d)?-1:r(a.B?a.B(c,b):a.call(null,c,b))?1:0}}function Nf(a,b){if(G(b)){var c=Of.C?Of.C(b):Of.call(null,b);hb(c,Mf(a));return qf(G(c),rf(b))}return ve}
function Pf(a,b){return Nf(function(c,d){c=a.C?a.C(c):a.call(null,c);d=a.C?a.C(d):a.call(null,d);var e=Mf(Kf);return e.B?e.B(c,d):e.call(null,c,d)},b)}function af(a){switch(arguments.length){case 2:return $e(arguments[0],arguments[1]);case 3:return bf(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function $e(a,b){var c=G(b);return c?(b=H(c),c=J(c),w.D?w.D(a,b,c):w.call(null,a,b,c)):a.P?a.P():a.call(null)}
function bf(a,b,c){for(c=G(c);;)if(c){var d=H(c);b=a.B?a.B(b,d):a.call(null,b,d);if(He(b))return y(b);c=J(c)}else return b}function Qf(a,b){a=Yd(a);if(r(a.Ua()))for(var c=a.next();;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(He(c))return y(c)}else return c;else return b.P?b.P():b.call(null)}function Rf(a,b,c){for(a=Yd(a);;)if(a.Ua()){var d=a.next();c=b.B?b.B(c,d):b.call(null,c,d);if(He(c))return y(c)}else return c}
var w=function w(a){switch(arguments.length){case 2:return w.B(arguments[0],arguments[1]);case 3:return w.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};w.B=function(a,b){return null!=b&&(b.O&524288||l===b.dk)?b.jb(null,a):gc(b)?Ne(b,a):"string"===typeof b?Ne(b,a):nc(kd,b)?ld(b,a):re(b)?Qf(b,a):$e(a,b)};
w.D=function(a,b,c){return null!=c&&(c.O&524288||l===c.dk)?c.kb(null,a,b):gc(c)?Oe(c,a,b):"string"===typeof c?Oe(c,a,b):nc(kd,c)?ld(c,a,b):re(c)?Rf(c,a,b):bf(a,b,c)};w.aa=3;function Sf(a,b,c){return null!=c?od(c,a,b):b}function Tf(a){return a}
function Uf(a){return function(){function b(f,h){return a.B?a.B(f,h):a.call(null,f,h)}function c(f){return Tf.C?Tf.C(f):Tf.call(null,f)}function d(){return a.P?a.P():a.call(null)}var e=null;e=function(f,h){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,f);case 2:return b.call(this,f,h)}throw Error("Invalid arity: "+arguments.length);};e.P=d;e.C=c;e.B=b;return e}()}function Wf(a,b,c,d){a=a.C?a.C(b):a.call(null,b);c=w.D(a,c,d);return a.C?a.C(c):a.call(null,c)}
var Xf=function Xf(a){switch(arguments.length){case 0:return Xf.P();case 1:return Xf.C(arguments[0]);case 2:return Xf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Xf.I(arguments[0],arguments[1],c)}};Xf.P=function(){return 0};Xf.C=function(a){return a};Xf.B=function(a,b){return a+b};Xf.I=function(a,b,c){return w.D(Xf,a+b,c)};
Xf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Xf.aa=2;var Yf=function Yf(a){switch(arguments.length){case 1:return Yf.C(arguments[0]);case 2:return Yf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Yf.I(arguments[0],arguments[1],c)}};Yf.C=function(a){return-a};Yf.B=function(a,b){return a-b};Yf.I=function(a,b,c){return w.D(Yf,a-b,c)};
Yf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Yf.aa=2;var Zf=function Zf(a){switch(arguments.length){case 0:return Zf.P();case 1:return Zf.C(arguments[0]);case 2:return Zf.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Zf.I(arguments[0],arguments[1],c)}};Zf.P=function(){return 1};Zf.C=function(a){return a};Zf.B=function(a,b){return a*b};
Zf.I=function(a,b,c){return w.D(Zf,a*b,c)};Zf.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Zf.aa=2;var $f=function $f(a){switch(arguments.length){case 1:return $f.C(arguments[0]);case 2:return $f.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return $f.I(arguments[0],arguments[1],c)}};$f.C=function(a){return 1/a};$f.B=function(a,b){return a/b};
$f.I=function(a,b,c){return w.D($f,a/b,c)};$f.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};$f.aa=2;function ag(a){return a-1}var bg=function bg(a){switch(arguments.length){case 1:return bg.C(arguments[0]);case 2:return bg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return bg.I(arguments[0],arguments[1],c)}};bg.C=function(a){return a};bg.B=function(a,b){return a>b?a:b};
bg.I=function(a,b,c){return w.D(bg,a>b?a:b,c)};bg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};bg.aa=2;var cg=function cg(a){switch(arguments.length){case 1:return cg.C(arguments[0]);case 2:return cg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return cg.I(arguments[0],arguments[1],c)}};cg.C=function(a){return a};cg.B=function(a,b){return a<b?a:b};
cg.I=function(a,b,c){return w.D(cg,a<b?a:b,c)};cg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};cg.aa=2;function dg(a){if("number"===typeof a)return String.fromCharCode(a);if("string"===typeof a&&1===a.length)return a;throw Error("Argument to char must be a character or number");}function eg(a){return 0<=a?Math.floor(a):Math.ceil(a)}function fg(a,b){return(a%b+b)%b}function gg(a,b){return eg((a-a%b)/b)}function hg(a,b){return a-b*gg(a,b)}
function ig(a){a-=a>>1&1431655765;a=(a&858993459)+(a>>2&858993459);return 16843009*(a+(a>>4)&252645135)>>24}var jg=function jg(a){switch(arguments.length){case 1:return jg.C(arguments[0]);case 2:return jg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return jg.I(arguments[0],arguments[1],c)}};jg.C=function(){return!0};jg.B=function(a,b){return pd(a,b)};
jg.I=function(a,b,c){for(;;)if(a===b)if(J(c))a=b,b=H(c),c=J(c);else return b===H(c);else return!1};jg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};jg.aa=2;function kg(a){return 0<a}var t=function t(a){switch(arguments.length){case 0:return t.P();case 1:return t.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(1),0,null);return t.I(arguments[0],c)}};t.P=function(){return""};
t.C=function(a){return null==a?"":[a].join("")};t.I=function(a,b){for(a=new Pb(t.C(a));;)if(r(b))a=a.append(t.C(H(b))),b=J(b);else return a.toString()};t.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};t.aa=1;var lg=function lg(a){switch(arguments.length){case 2:return lg.B(arguments[0],arguments[1]);case 3:return lg.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};lg.B=function(a,b){return a.substring(b)};
lg.D=function(a,b,c){return a.substring(b,c)};lg.aa=3;function Ye(a,b){if(wf(b))if(Qe(a)&&Qe(b)&&K(a)!==K(b))a=!1;else a:for(a=G(a),b=G(b);;){if(null==a){a=null==b;break a}if(null!=b&&F.B(H(a),H(b)))a=J(a),b=J(b);else{a=!1;break a}}else a=null;return Ff(a)}function kf(a,b,c,d,e){this.meta=a;this.first=b;this.rest=c;this.count=d;this.J=e;this.O=65937646;this.T=8192}g=kf.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new kf(this.meta,this.first,this.rest,this.count,this.J)};g.Va=function(){return 1===this.count?null:this.rest};g.la=function(){return this.count};g.ee=function(){return this.first};
g.fe=function(){return this.xb(null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd(ve,this.meta)};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return this.first};g.xb=function(){return 1===this.count?ve:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new kf(b,this.first,this.rest,this.count,this.J)};
g.na=function(a,b){return new kf(this.meta,b,this,this.count+1,null)};function mg(a){return null!=a?a.O&33554432||l===a.km?!0:a.O?!1:nc(ud,a):nc(ud,a)}kf.prototype[rc]=function(){return ye(this)};function ng(a){this.meta=a;this.O=65937614;this.T=8192}g=ng.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new ng(this.meta)};g.Va=function(){return null};g.la=function(){return 0};g.ee=function(){return null};g.fe=function(){throw Error("Can't pop empty list");};g.ja=function(){return Be};
g.da=function(a,b){return mg(b)||wf(b)?null==G(b):!1};g.Pa=function(){return this};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return null};g.xb=function(){return ve};g.ka=function(){return null};g.ha=function(a,b){return b===this.meta?this:new ng(b)};g.na=function(a,b){return new kf(this.meta,b,null,1,null)};var ve=new ng(null);ng.prototype[rc]=function(){return ye(this)};
function og(a){return(null!=a?a.O&134217728||l===a.ek||(a.O?0:nc(wd,a)):nc(wd,a))?(a=xd(a))?a:ve:w.D(hf,ve,a)}var pg=function pg(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return pg.I(c)};pg.I=function(a){if(a instanceof se&&0===a.i)var b=a.K;else a:for(b=[];;)if(null!=a)b.push(Lc(a)),a=Oc(a);else break a;a=b.length;for(var c=ve;;)if(0<a){var d=a-1;c=Hc(c,b[a-1]);a=d}else return c};pg.aa=0;pg.fa=function(a){return this.I(G(a))};
function qg(a,b,c,d){this.meta=a;this.first=b;this.rest=c;this.J=d;this.O=65929452;this.T=8192}g=qg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.pa=function(){return new qg(this.meta,this.first,this.rest,this.J)};g.Va=function(){return null==this.rest?null:G(this.rest)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return this.first};g.xb=function(){return null==this.rest?ve:this.rest};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new qg(b,this.first,this.rest,this.J)};g.na=function(a,b){return new qg(null,b,this,null)};qg.prototype[rc]=function(){return ye(this)};
function Ze(a,b){return null==b?new kf(null,a,null,1,null):null!=b&&(b.O&64||l===b.Xe)?new qg(null,a,b,null):new qg(null,a,G(b),null)}function rg(a,b){if(a.ba===b.ba)return 0;var c=ic(a.zc);if(r(c?b.zc:c))return-1;if(r(a.zc)){if(ic(b.zc))return 1;c=gb(a.zc,b.zc);return 0===c?gb(a.name,b.name):c}return gb(a.name,b.name)}function D(a,b,c,d){this.zc=a;this.name=b;this.ba=c;this._hash=d;this.O=2153775105;this.T=4096}g=D.prototype;g.toString=function(){return[":",t.C(this.ba)].join("")};
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return b instanceof D?this.ba===b.ba:!1};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return B.B(a,this)};g.B=function(a,b){return B.D(a,this,b)};
g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=me(this)+2654435769|0};g.uf=function(){return this.name};g.vf=function(){return this.zc};g.ia=function(a,b){return yd(b,[":",t.C(this.ba)].join(""))};function U(a,b){return a===b?!0:a instanceof D&&b instanceof D?a.ba===b.ba:!1}function sg(a){if(null!=a&&(a.T&4096||l===a.eh))return a.vf(null);throw Error(["Doesn't support namespace: ",t.C(a)].join(""));}function tg(a){return a instanceof D||a instanceof A}
var ug=function ug(a){switch(arguments.length){case 1:return ug.C(arguments[0]);case 2:return ug.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};ug.C=function(a){if(a instanceof D)return a;if(a instanceof A)return new D(sg(a),vg.C?vg.C(a):vg.call(null,a),a.Ac,null);if(F.B("/",a))return new D(null,a,a,null);if("string"===typeof a){var b=a.split("/");return 2===b.length?new D(b[0],b[1],a,null):new D(null,b[0],a,null)}return null};
ug.B=function(a,b){a=a instanceof D?vg.C?vg.C(a):vg.call(null,a):a instanceof A?vg.C?vg.C(a):vg.call(null,a):a;b=b instanceof D?vg.C?vg.C(b):vg.call(null,b):b instanceof A?vg.C?vg.C(b):vg.call(null,b):b;return new D(a,b,[r(a)?[t.C(a),"/"].join(""):null,t.C(b)].join(""),null)};ug.aa=2;function wg(a,b,c,d){this.meta=a;this.fn=b;this.s=c;this.J=d;this.O=32374988;this.T=1}g=wg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
function xg(a){null!=a.fn&&(a.s=a.fn.P?a.fn.P():a.fn.call(null),a.fn=null);return a.s}g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){this.ka(null);return null==this.s?null:J(this.s)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};
g.Pa=function(){return jd(ve,this.meta)};g.kg=function(){return ic(this.fn)};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){this.ka(null);return null==this.s?null:H(this.s)};g.xb=function(){this.ka(null);return null!=this.s?ue(this.s):ve};g.ka=function(){xg(this);if(null==this.s)return null;for(var a=this.s;;)if(a instanceof wg)a=xg(a);else return this.s=a,G(this.s)};
g.ha=function(a,b){var c=this;return b===this.meta?c:new wg(b,function(){return c.ka(null)},null,this.J)};g.na=function(a,b){return Ze(b,this)};wg.prototype[rc]=function(){return ye(this)};function yg(a){this.buf=a;this.end=0;this.O=2;this.T=0}yg.prototype.add=function(a){this.buf[this.end]=a;return this.end+=1};yg.prototype.chunk=function(){var a=new zg(this.buf,0,this.end);this.buf=null;return a};yg.prototype.la=function(){return this.end};function Ag(a){return new yg(Array(a))}
function zg(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=zg.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.qb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.rf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new zg(this.K,this.off+1,this.end)};g.jb=function(a,b){return Pe(this.K,b,this.K[this.off],this.off+1)};g.kb=function(a,b,c){return Pe(this.K,b,c,this.off)};
function Bg(a,b,c,d){this.chunk=a;this.Id=b;this.meta=c;this.J=d;this.O=31850732;this.T=1536}g=Bg.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return 1<Dc(this.chunk)?new Bg(Od(this.chunk),this.Id,null,null):null==this.Id?null:sd(this.Id)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.nb=function(){return x(this.chunk,0)};g.xb=function(){return 1<Dc(this.chunk)?new Bg(Od(this.chunk),this.Id,null,null):null==this.Id?ve:this.Id};g.ka=function(){return this};g.We=function(){return this.chunk};g.ce=function(){return null==this.Id?ve:this.Id};g.ha=function(a,b){return b===this.meta?this:new Bg(this.chunk,this.Id,b,this.J)};g.na=function(a,b){return Ze(b,this)};g.Ve=function(){return null==this.Id?null:this.Id};
Bg.prototype[rc]=function(){return ye(this)};function Cg(a,b){return 0===Dc(a)?b:new Bg(a,b,null,null)}function Dg(a,b){a.add(b)}function Gg(a){return a.chunk()}function Of(a){var b=[];for(a=G(a);;)if(null!=a)b.push(H(a)),a=J(a);else return b}function Hg(a,b){if(Qe(b))return K(b);var c=0;for(b=G(b);;)if(null!=b&&c<a)c+=1,b=J(b);else return c}
var Ig=function Ig(a){if(null==a)return null;var c=J(a);return null==c?G(H(a)):Ze(H(a),Ig.C?Ig.C(c):Ig.call(null,c))},V=function V(a){switch(arguments.length){case 0:return V.P();case 1:return V.C(arguments[0]);case 2:return V.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return V.I(arguments[0],arguments[1],c)}};V.P=function(){return new wg(null,function(){return null},null,null)};
V.C=function(a){return new wg(null,function(){return a},null,null)};V.B=function(a,b){return new wg(null,function(){var c=G(a);return c?Af(c)?Cg(Pd(c),V.B(Qd(c),b)):Ze(H(c),V.B(ue(c),b)):b},null,null)};V.I=function(a,b,c){return function h(e,f){return new wg(null,function(){var k=G(e);return k?Af(k)?Cg(Pd(k),h(Qd(k),f)):Ze(H(k),h(ue(k),f)):r(f)?h(H(f),J(f)):null},null,null)}(V.B(a,b),c)};V.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};V.aa=2;
function Jg(a,b,c){return Ze(a,Ze(b,c))}function Kg(a){return Hd(a)}function Lg(a){return Jd(a)}var Mg=function Mg(a){switch(arguments.length){case 0:return Mg.P();case 1:return Mg.C(arguments[0]);case 2:return Mg.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return Mg.I(arguments[0],arguments[1],c)}};Mg.P=function(){return Hd(jf)};Mg.C=function(a){return a};Mg.B=function(a,b){return Id(a,b)};
Mg.I=function(a,b,c){for(;;)if(a=Id(a,b),r(c))b=H(c),c=J(c);else return a};Mg.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};Mg.aa=2;function Ng(a,b,c){return Kd(a,b,c)}
function Og(a,b,c){var d=G(c);if(0===b)return a.P?a.P():a.call(null);c=Lc(d);var e=Mc(d);if(1===b)return a.C?a.C(c):a.call(null,c);d=Lc(e);var f=Mc(e);if(2===b)return a.B?a.B(c,d):a.call(null,c,d);e=Lc(f);var h=Mc(f);if(3===b)return a.D?a.D(c,d,e):a.call(null,c,d,e);f=Lc(h);var k=Mc(h);if(4===b)return a.R?a.R(c,d,e,f):a.call(null,c,d,e,f);h=Lc(k);var m=Mc(k);if(5===b)return a.ma?a.ma(c,d,e,f,h):a.call(null,c,d,e,f,h);k=Lc(m);var n=Mc(m);if(6===b)return a.Ra?a.Ra(c,d,e,f,h,k):a.call(null,c,d,e,f,h,
k);m=Lc(n);var p=Mc(n);if(7===b)return a.Vb?a.Vb(c,d,e,f,h,k,m):a.call(null,c,d,e,f,h,k,m);n=Lc(p);var u=Mc(p);if(8===b)return a.Wb?a.Wb(c,d,e,f,h,k,m,n):a.call(null,c,d,e,f,h,k,m,n);p=Lc(u);var v=Mc(u);if(9===b)return a.vc?a.vc(c,d,e,f,h,k,m,n,p):a.call(null,c,d,e,f,h,k,m,n,p);u=Lc(v);var z=Mc(v);if(10===b)return a.kc?a.kc(c,d,e,f,h,k,m,n,p,u):a.call(null,c,d,e,f,h,k,m,n,p,u);v=Lc(z);var C=Mc(z);if(11===b)return a.lc?a.lc(c,d,e,f,h,k,m,n,p,u,v):a.call(null,c,d,e,f,h,k,m,n,p,u,v);z=Lc(C);var E=Mc(C);
if(12===b)return a.mc?a.mc(c,d,e,f,h,k,m,n,p,u,v,z):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z);C=Lc(E);var I=Mc(E);if(13===b)return a.nc?a.nc(c,d,e,f,h,k,m,n,p,u,v,z,C):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C);E=Lc(I);var O=Mc(I);if(14===b)return a.oc?a.oc(c,d,e,f,h,k,m,n,p,u,v,z,C,E):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E);I=Lc(O);var P=Mc(O);if(15===b)return a.pc?a.pc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I);O=Lc(P);var T=Mc(P);if(16===b)return a.qc?a.qc(c,d,e,f,h,k,m,
n,p,u,v,z,C,E,I,O):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O);P=Lc(T);var aa=Mc(T);if(17===b)return a.rc?a.rc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P);T=Lc(aa);var ea=Mc(aa);if(18===b)return a.sc?a.sc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T);aa=Lc(ea);ea=Mc(ea);if(19===b)return a.tc?a.tc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa);var va=Lc(ea);Mc(ea);if(20===b)return a.uc?
a.uc(c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa,va):a.call(null,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa,va);throw Error("Only up to 20 arguments supported on functions");}function Pg(a){return null!=a&&(a.O&128||l===a.wf)?a.Va(null):G(ue(a))}function Qg(a,b,c){return null==c?a.C?a.C(b):a.call(a,b):Rg(a,b,Lc(c),Pg(c))}function Rg(a,b,c,d){return null==d?a.B?a.B(b,c):a.call(a,b,c):Sg(a,b,c,Lc(d),Pg(d))}function Sg(a,b,c,d,e){return null==e?a.D?a.D(b,c,d):a.call(a,b,c,d):Tg(a,b,c,d,Lc(e),Pg(e))}
function Tg(a,b,c,d,e,f){if(null==f)return a.R?a.R(b,c,d,e):a.call(a,b,c,d,e);var h=Lc(f),k=J(f);if(null==k)return a.ma?a.ma(b,c,d,e,h):a.call(a,b,c,d,e,h);f=Lc(k);var m=J(k);if(null==m)return a.Ra?a.Ra(b,c,d,e,h,f):a.call(a,b,c,d,e,h,f);k=Lc(m);var n=J(m);if(null==n)return a.Vb?a.Vb(b,c,d,e,h,f,k):a.call(a,b,c,d,e,h,f,k);m=Lc(n);var p=J(n);if(null==p)return a.Wb?a.Wb(b,c,d,e,h,f,k,m):a.call(a,b,c,d,e,h,f,k,m);n=Lc(p);var u=J(p);if(null==u)return a.vc?a.vc(b,c,d,e,h,f,k,m,n):a.call(a,b,c,d,e,h,f,
k,m,n);p=Lc(u);var v=J(u);if(null==v)return a.kc?a.kc(b,c,d,e,h,f,k,m,n,p):a.call(a,b,c,d,e,h,f,k,m,n,p);u=Lc(v);var z=J(v);if(null==z)return a.lc?a.lc(b,c,d,e,h,f,k,m,n,p,u):a.call(a,b,c,d,e,h,f,k,m,n,p,u);v=Lc(z);var C=J(z);if(null==C)return a.mc?a.mc(b,c,d,e,h,f,k,m,n,p,u,v):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v);z=Lc(C);var E=J(C);if(null==E)return a.nc?a.nc(b,c,d,e,h,f,k,m,n,p,u,v,z):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z);C=Lc(E);var I=J(E);if(null==I)return a.oc?a.oc(b,c,d,e,h,f,k,m,n,p,u,v,z,C):a.call(a,
b,c,d,e,h,f,k,m,n,p,u,v,z,C);E=Lc(I);var O=J(I);if(null==O)return a.pc?a.pc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E);I=Lc(O);var P=J(O);if(null==P)return a.qc?a.qc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I);O=Lc(P);var T=J(P);if(null==T)return a.rc?a.rc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O);P=Lc(T);var aa=J(T);if(null==aa)return a.sc?a.sc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P):a.call(a,b,c,d,e,h,f,
k,m,n,p,u,v,z,C,E,I,O,P);T=Lc(aa);var ea=J(aa);if(null==ea)return a.tc?a.tc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T);aa=Lc(ea);ea=J(ea);if(null==ea)return a.uc?a.uc(b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa):a.call(a,b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa);b=[b,c,d,e,h,f,k,m,n,p,u,v,z,C,E,I,O,P,T,aa];for(c=ea;;)if(c)b.push(Lc(c)),c=J(c);else break;return a.apply(a,b)}
function qe(a){switch(arguments.length){case 2:return Ug(arguments[0],arguments[1]);case 3:return Vg(arguments[0],arguments[1],arguments[2]);case 4:return Wg(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Xg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=new se(b.slice(5),0,null);return Yg(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],b)}}
function Ug(a,b){if(a.fa){var c=a.aa,d=Hg(c+1,b);return d<=c?Og(a,d,b):a.fa(b)}b=G(b);return null==b?a.P?a.P():a.call(a):Qg(a,Lc(b),Pg(b))}function Vg(a,b,c){if(a.fa){b=Ze(b,c);var d=a.aa;c=Hg(d,c)+1;return c<=d?Og(a,c,b):a.fa(b)}return Qg(a,b,G(c))}function Wg(a,b,c,d){return a.fa?(b=Jg(b,c,d),c=a.aa,d=2+Hg(c-1,d),d<=c?Og(a,d,b):a.fa(b)):Rg(a,b,c,G(d))}function Xg(a,b,c,d,e){return a.fa?(b=Ze(b,Ze(c,Ze(d,e))),c=a.aa,e=3+Hg(c-2,e),e<=c?Og(a,e,b):a.fa(b)):Sg(a,b,c,d,G(e))}
function Yg(a,b,c,d,e,f){return a.fa?(f=Ig(f),b=Ze(b,Ze(c,Ze(d,Ze(e,f)))),c=a.aa,f=4+Hg(c-3,f),f<=c?Og(a,f,b):a.fa(b)):Tg(a,b,c,d,e,Ig(f))}function Zg(a){return null!=a&&(a.O&64||l===a.Xe)?J(a)?nf(Of(a)):G(a)?H(a):W:a}var $g=function $g(a){switch(arguments.length){case 1:return $g.C(arguments[0]);case 2:return $g.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return $g.I(arguments[0],arguments[1],c)}};
$g.C=function(){return!1};$g.B=function(a,b){return!F.B(a,b)};$g.I=function(a,b,c){return ic(Wg(F,a,b,c))};$g.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};$g.aa=2;function ah(a){return G(a)?a:null}
function bh(){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof pa)pa=function(a){this.lb=a;this.O=393216;this.T=0},pa.prototype.ha=function(a,b){return new pa(b)},pa.prototype.ga=function(){return this.lb},pa.prototype.Ua=function(){return!1},pa.prototype.next=function(){return Error("No such element")},pa.prototype.remove=function(){return Error("Unsupported operation")},pa.Wa=!0,pa.Sa="cljs.core/t_cljs$core20078",pa.Za=function(a){return yd(a,"cljs.core/t_cljs$core20078")};
return new pa(W)}function ch(a){this.s=a;this.i=0}ch.prototype.Ua=function(){return this.i<this.s.length};ch.prototype.next=function(){var a=this.s.charAt(this.i);this.i+=1;return a};ch.prototype.remove=function(){return Error("Unsupported operation")};function dh(a){this.K=a;this.i=0}dh.prototype.Ua=function(){return this.i<this.K.length};dh.prototype.next=function(){var a=this.K[this.i];this.i+=1;return a};dh.prototype.remove=function(){return Error("Unsupported operation")};var eh={},fh={};
function gh(a){this.nf=eh;this._next=a}gh.prototype.Ua=function(){this.nf===eh?(this.nf=fh,this._next=G(this._next)):this.nf===this._next&&(this._next=J(this.nf));return null!=this._next};gh.prototype.next=function(){if(this.Ua())return this.nf=this._next,H(this._next);throw Error("No such element");};gh.prototype.remove=function(){return Error("Unsupported operation")};
function hh(a){if(re(a))return Yd(a);if(null==a)return bh();if("string"===typeof a)return new ch(a);if(gc(a))return new dh(a);if(Ef(a))return new gh(a);throw Error(["Cannot create iterator from ",t.C(a)].join(""));}function ih(a){this.vals=a}ih.prototype.add=function(a){this.vals.push(a);return this};ih.prototype.remove=function(){return this.vals.shift()};ih.prototype.isEmpty=function(){return 0===this.vals.length};ih.prototype.toString=function(){return["Many: ",t.C(this.vals)].join("")};
var jh={};function kh(a){this.val=a}kh.prototype.add=function(a){return this.val===jh?(this.val=a,this):new ih([this.val,a])};kh.prototype.remove=function(){if(this.val===jh)throw Error("Removing object from empty buffer");var a=this.val;this.val=jh;return a};kh.prototype.isEmpty=function(){return this.val===jh};kh.prototype.toString=function(){return["Single: ",t.C(this.val)].join("")};function lh(){}lh.prototype.add=function(a){return new kh(a)};
lh.prototype.remove=function(){throw Error("Removing object from empty buffer");};lh.prototype.isEmpty=function(){return!0};lh.prototype.toString=function(){return"Empty"};var mh=new lh,nh=function nh(a){return new wg(null,function(){if(a.Ua())for(var c=[],d=0;;){var e=a.Ua();if(r(r(e)?32>d:e))c[d]=a.next(),d+=1;else return Cg(new zg(c,0,d),nh.C?nh.C(a):nh.call(null,a))}else return null},null,null)};function oh(a){this.buffer=mh;this._next=jh;this.rh=!1;this.Qd=null;this.Wh=a;this.rl=!1}
oh.prototype.step=function(){if(this._next!==jh)return!0;for(;;)if(this._next===jh)if(this.buffer.isEmpty()){if(this.rh)return!1;if(this.Wh.Ua()){if(this.rl)var a=Ug(this.Qd,Ze(null,this.Wh.next()));else a=this.Wh.next(),a=this.Qd.B?this.Qd.B(null,a):this.Qd.call(null,null,a);He(a)&&(this.Qd.C?this.Qd.C(null):this.Qd.call(null,null),this.rh=!0)}else this.Qd.C?this.Qd.C(null):this.Qd.call(null,null),this.rh=!0}else this._next=this.buffer.remove();else return!0};oh.prototype.Ua=function(){return this.step()};
oh.prototype.next=function(){if(this.Ua()){var a=this._next;this._next=jh;return a}throw Error("No such element");};oh.prototype.remove=function(){return Error("Unsupported operation")};oh.prototype[rc]=function(){return ye(this)};
function ph(a,b){var c=new oh(b);c.Qd=function(){var d=function(){function e(h,k){c.buffer=c.buffer.add(k);return h}var f=null;f=function(h,k){switch(arguments.length){case 0:return null;case 1:return h;case 2:return e.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=function(){return null};f.C=function(h){return h};f.B=e;return f}();return a.C?a.C(d):a.call(null,d)}();return c}
function qh(a,b){for(;;){if(null==G(b))return!0;var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))b=J(b);else return!1}}function rh(a,b){for(;;)if(b=G(b)){var c=H(b);c=a.C?a.C(c):a.call(null,c);if(r(c))return c;b=J(b)}else return null}function sh(a){if(Hf(a))return 0===(a&1);throw Error(["Argument must be an integer: ",t.C(a)].join(""));}
function th(a){return function(){function b(h,k){return ic(a.B?a.B(h,k):a.call(null,h,k))}function c(h){return ic(a.C?a.C(h):a.call(null,h))}function d(){return ic(a.P?a.P():a.call(null))}var e=null,f=function(){function h(m,n,p){var u=null;if(2<arguments.length){u=0;for(var v=Array(arguments.length-2);u<v.length;)v[u]=arguments[u+2],++u;u=new se(v,0,null)}return k.call(this,m,n,u)}function k(m,n,p){return ic(Wg(a,m,n,p))}h.aa=2;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=ue(m);return k(n,p,m)};
h.I=k;return h}();e=function(h,k,m){switch(arguments.length){case 0:return d.call(this);case 1:return c.call(this,h);case 2:return b.call(this,h,k);default:var n=null;if(2<arguments.length){n=0;for(var p=Array(arguments.length-2);n<p.length;)p[n]=arguments[n+2],++n;n=new se(p,0,null)}return f.I(h,k,n)}throw Error("Invalid arity: "+arguments.length);};e.aa=2;e.fa=f.fa;e.P=d;e.C=c;e.B=b;e.I=f.I;return e}()}
var vh=function vh(a){switch(arguments.length){case 0:return vh.P();case 1:return vh.C(arguments[0]);case 2:return vh.B(arguments[0],arguments[1]);case 3:return vh.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return vh.I(arguments[0],arguments[1],arguments[2],c)}};vh.P=function(){return Tf};vh.C=function(a){return a};
vh.B=function(a,b){return function(){function c(m,n,p){m=b.D?b.D(m,n,p):b.call(null,m,n,p);return a.C?a.C(m):a.call(null,m)}function d(m,n){m=b.B?b.B(m,n):b.call(null,m,n);return a.C?a.C(m):a.call(null,m)}function e(m){m=b.C?b.C(m):b.call(null,m);return a.C?a.C(m):a.call(null,m)}function f(){var m=b.P?b.P():b.call(null);return a.C?a.C(m):a.call(null,m)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+
3],++C;C=new se(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){p=Xg(b,p,u,v,z);return a.C?a.C(p):a.call(null,p)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ue(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=
arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
vh.D=function(a,b,c){return function(){function d(n,p,u){n=c.D?c.D(n,p,u):c.call(null,n,p,u);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function e(n,p){n=c.B?c.B(n,p):c.call(null,n,p);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function f(n){n=c.C?c.C(n):c.call(null,n);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}function h(){var n=c.P?c.P():c.call(null);n=b.C?b.C(n):b.call(null,n);return a.C?a.C(n):a.call(null,n)}var k=null,m=function(){function n(u,
v,z,C){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new se(I,0,null)}return p.call(this,u,v,z,E)}function p(u,v,z,C){u=Xg(c,u,v,z,C);u=b.C?b.C(u):b.call(null,u);return a.C?a.C(u):a.call(null,u)}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=ue(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,
n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
vh.I=function(a,b,c,d){var e=og(Ze(a,Ze(b,Ze(c,d))));return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=Ug(H(e),k);for(var m=J(e);;)if(m){var n=H(m);k=n.C?n.C(k):n.call(null,k);m=J(m)}else return k}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};vh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};
vh.aa=3;var wh=function wh(a){switch(arguments.length){case 1:return wh.C(arguments[0]);case 2:return wh.B(arguments[0],arguments[1]);case 3:return wh.D(arguments[0],arguments[1],arguments[2]);case 4:return wh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return wh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};wh.C=function(a){return a};
wh.B=function(a,b){return function(){function c(m,n,p){return a.R?a.R(b,m,n,p):a.call(null,b,m,n,p)}function d(m,n){return a.D?a.D(b,m,n):a.call(null,b,m,n)}function e(m){return a.B?a.B(b,m):a.call(null,b,m)}function f(){return a.C?a.C(b):a.call(null,b)}var h=null,k=function(){function m(p,u,v,z){var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new se(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return Yg(a,b,p,u,v,M([z]))}
m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ue(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;
h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()};
wh.D=function(a,b,c){return function(){function d(n,p,u){return a.ma?a.ma(b,c,n,p,u):a.call(null,b,c,n,p,u)}function e(n,p){return a.R?a.R(b,c,n,p):a.call(null,b,c,n,p)}function f(n){return a.D?a.D(b,c,n):a.call(null,b,c,n)}function h(){return a.B?a.B(b,c):a.call(null,b,c)}var k=null,m=function(){function n(u,v,z,C){var E=null;if(3<arguments.length){E=0;for(var I=Array(arguments.length-3);E<I.length;)I[E]=arguments[E+3],++E;E=new se(I,0,null)}return p.call(this,u,v,z,E)}function p(u,v,z,C){return Yg(a,
b,c,u,v,M([z,C]))}n.aa=3;n.fa=function(u){var v=H(u);u=J(u);var z=H(u);u=J(u);var C=H(u);u=ue(u);return p(v,z,C,u)};n.I=p;return n}();k=function(n,p,u,v){switch(arguments.length){case 0:return h.call(this);case 1:return f.call(this,n);case 2:return e.call(this,n,p);case 3:return d.call(this,n,p,u);default:var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.I(n,p,u,z)}throw Error("Invalid arity: "+arguments.length);
};k.aa=3;k.fa=m.fa;k.P=h;k.C=f;k.B=e;k.D=d;k.I=m.I;return k}()};
wh.R=function(a,b,c,d){return function(){function e(p,u,v){return a.Ra?a.Ra(b,c,d,p,u,v):a.call(null,b,c,d,p,u,v)}function f(p,u){return a.ma?a.ma(b,c,d,p,u):a.call(null,b,c,d,p,u)}function h(p){return a.R?a.R(b,c,d,p):a.call(null,b,c,d,p)}function k(){return a.D?a.D(b,c,d):a.call(null,b,c,d)}var m=null,n=function(){function p(v,z,C,E){var I=null;if(3<arguments.length){I=0;for(var O=Array(arguments.length-3);I<O.length;)O[I]=arguments[I+3],++I;I=new se(O,0,null)}return u.call(this,v,z,C,I)}function u(v,
z,C,E){return Yg(a,b,c,d,v,M([z,C,E]))}p.aa=3;p.fa=function(v){var z=H(v);v=J(v);var C=H(v);v=J(v);var E=H(v);v=ue(v);return u(z,C,E,v)};p.I=u;return p}();m=function(p,u,v,z){switch(arguments.length){case 0:return k.call(this);case 1:return h.call(this,p);case 2:return f.call(this,p,u);case 3:return e.call(this,p,u,v);default:var C=null;if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new se(E,0,null)}return n.I(p,u,v,C)}throw Error("Invalid arity: "+
arguments.length);};m.aa=3;m.fa=n.fa;m.P=k;m.C=h;m.B=f;m.D=e;m.I=n.I;return m}()};wh.I=function(a,b,c,d,e){return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){return Xg(a,b,c,d,V.B(e,k))}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()};
wh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};wh.aa=4;
function xh(a){return function(){function b(h,k,m){h=null==h?a:h;return hf.D?hf.D(h,k,m):hf.call(null,h,k,m)}function c(h,k){h=null==h?a:h;return hf.B?hf.B(h,k):hf.call(null,h,k)}function d(h){h=null==h?a:h;return hf.C?hf.C(h):hf.call(null,h)}var e=null,f=function(){function h(m,n,p,u){var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.call(this,m,n,p,v)}function k(m,n,p,u){return Xg(hf,null==m?a:m,n,p,u)}h.aa=
3;h.fa=function(m){var n=H(m);m=J(m);var p=H(m);m=J(m);var u=H(m);m=ue(m);return k(n,p,u,m)};h.I=k;return h}();e=function(h,k,m,n){switch(arguments.length){case 1:return d.call(this,h);case 2:return c.call(this,h,k);case 3:return b.call(this,h,k,m);default:var p=null;if(3<arguments.length){p=0;for(var u=Array(arguments.length-3);p<u.length;)u[p]=arguments[p+3],++p;p=new se(u,0,null)}return f.I(h,k,m,p)}throw Error("Invalid arity: "+arguments.length);};e.aa=3;e.fa=f.fa;e.C=d;e.B=c;e.D=b;e.I=f.I;return e}()}
function yh(a){return function(b){var c=zh.C?zh.C(-1):zh.call(null,-1);return function(){function d(k,m){var n=Wd(c,y(c)+1);m=a.B?a.B(n,m):a.call(null,n,m);return b.B?b.B(k,m):b.call(null,k,m)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}}
function Ah(a){return function(b){return function(){function c(h,k){k=a.C?a.C(k):a.call(null,k);return null==k?h:b.B?b.B(h,k):b.call(null,h,k)}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function Bh(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Ag(e),h=0;;)if(h<e){var k=function(){var m=x(d,h);return a.C?a.C(m):a.call(null,m)}();null!=k&&f.add(k);h+=1}else break;return Cg(Gg(f),Bh(a,Qd(c)))}e=function(){var m=H(c);return a.C?a.C(m):a.call(null,m)}();return null==e?Bh(a,ue(c)):Ze(e,Bh(a,ue(c)))}return null},null,null)}function Ch(a,b,c){this.state=a;this.meta=b;this.validator=c;this.ac=null;this.T=16386;this.O=6455296}g=Ch.prototype;
g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return this===b};g.Ub=function(){return this.state};g.ga=function(){return this.meta};g.kh=function(a,b){for(var c=G(this.ac),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f),k=N(h,0,null);h=N(h,1,null);h.R?h.R(k,this,a,b):h.call(null,k,this,a,b);f+=1}else if(c=G(c))Af(c)?(d=Pd(c),c=Qd(c),k=d,e=K(d),d=k):(d=H(c),k=N(d,0,null),h=N(d,1,null),h.R?h.R(k,this,a,b):h.call(null,k,this,a,b),c=J(c),d=null,e=0),f=0;else break};
g.mg=function(a,b,c){this.ac=Q.D(this.ac,b,c);return this};g.ng=function(a,b){return this.ac=R.B(this.ac,b)};g.ja=function(){return ka(this)};function Eh(a){return new Ch(a,null,null)}function Fh(a,b){if(a instanceof Ch){var c=a.validator;if(null!=c&&!r(c.C?c.C(b):c.call(null,b)))throw Error("Validator rejected reference state");c=a.state;a.state=b;null!=a.ac&&a.kh(c,b);return b}return Td(a,b)}
var Gh=function Gh(a){switch(arguments.length){case 2:return Gh.B(arguments[0],arguments[1]);case 3:return Gh.D(arguments[0],arguments[1],arguments[2]);case 4:return Gh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return Gh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Gh.B=function(a,b){if(a instanceof Ch){var c=a.state;b=b.C?b.C(c):b.call(null,c);a=Fh(a,b)}else a=Ud(a,b);return a};Gh.D=function(a,b,c){if(a instanceof Ch){var d=a.state;b=b.B?b.B(d,c):b.call(null,d,c);a=Fh(a,b)}else a=Ud(a,b,c);return a};Gh.R=function(a,b,c,d){if(a instanceof Ch){var e=a.state;b=b.D?b.D(e,c,d):b.call(null,e,c,d);a=Fh(a,b)}else a=Ud(a,b,c,d);return a};Gh.I=function(a,b,c,d,e){return a instanceof Ch?Fh(a,Xg(b,a.state,c,d,e)):Ud(a,b,c,d,e)};
Gh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Gh.aa=4;function Ih(a){this.state=a;this.O=32768;this.T=0}Ih.prototype.Ze=function(a,b){return this.state=b};Ih.prototype.Ub=function(){return this.state};function zh(a){return new Ih(a)}
function Jh(){var a=Kh,b=Lh;return function(){function c(k,m,n){var p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=
a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+3],++z;z=new se(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:rh(function(z){var C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=ue(n);return m(p,u,v,n)};
k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new se(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
function Nh(){var a=Oh,b=Ph;return function(){function c(k,m,n){var p=fc.C?fc.C(k):fc.call(null,k);if(r(p))return p;p=fc.C?fc.C(m):fc.call(null,m);if(r(p))return p;p=fc.C?fc.C(n):fc.call(null,n);if(r(p))return p;p=a.C?a.C(k):a.call(null,k);if(r(p))return p;p=a.C?a.C(m):a.call(null,m);if(r(p))return p;p=a.C?a.C(n):a.call(null,n);if(r(p))return p;k=b.C?b.C(k):b.call(null,k);if(r(k))return k;m=b.C?b.C(m):b.call(null,m);return r(m)?m:b.C?b.C(n):b.call(null,n)}function d(k,m){var n=fc.C?fc.C(k):fc.call(null,
k);if(r(n))return n;n=fc.C?fc.C(m):fc.call(null,m);if(r(n))return n;n=a.C?a.C(k):a.call(null,k);if(r(n))return n;n=a.C?a.C(m):a.call(null,m);if(r(n))return n;k=b.C?b.C(k):b.call(null,k);return r(k)?k:b.C?b.C(m):b.call(null,m)}function e(k){var m=fc.C?fc.C(k):fc.call(null,k);if(r(m))return m;m=a.C?a.C(k):a.call(null,k);return r(m)?m:b.C?b.C(k):b.call(null,k)}var f=null,h=function(){function k(n,p,u,v){var z=null;if(3<arguments.length){z=0;for(var C=Array(arguments.length-3);z<C.length;)C[z]=arguments[z+
3],++z;z=new se(C,0,null)}return m.call(this,n,p,u,z)}function m(n,p,u,v){n=f.D(n,p,u);return r(n)?n:rh(function(z){var C=fc.C?fc.C(z):fc.call(null,z);if(r(C))return C;C=a.C?a.C(z):a.call(null,z);return r(C)?C:b.C?b.C(z):b.call(null,z)},v)}k.aa=3;k.fa=function(n){var p=H(n);n=J(n);var u=H(n);n=J(n);var v=H(n);n=ue(n);return m(p,u,v,n)};k.I=m;return k}();f=function(k,m,n,p){switch(arguments.length){case 0:return null;case 1:return e.call(this,k);case 2:return d.call(this,k,m);case 3:return c.call(this,
k,m,n);default:var u=null;if(3<arguments.length){u=0;for(var v=Array(arguments.length-3);u<v.length;)v[u]=arguments[u+3],++u;u=new se(v,0,null)}return h.I(k,m,n,u)}throw Error("Invalid arity: "+arguments.length);};f.aa=3;f.fa=h.fa;f.P=function(){return null};f.C=e;f.B=d;f.D=c;f.I=h.I;return f}()}
var Qh=function Qh(a){switch(arguments.length){case 1:return Qh.C(arguments[0]);case 2:return Qh.B(arguments[0],arguments[1]);case 3:return Qh.D(arguments[0],arguments[1],arguments[2]);case 4:return Qh.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return Qh.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
Qh.C=function(a){return function(b){return function(){function c(k,m){m=a.C?a.C(m):a.call(null,m);return b.B?b.B(k,m):b.call(null,k,m)}function d(k){return b.C?b.C(k):b.call(null,k)}function e(){return b.P?b.P():b.call(null)}var f=null,h=function(){function k(n,p,u){var v=null;if(2<arguments.length){v=0;for(var z=Array(arguments.length-2);v<z.length;)z[v]=arguments[v+2],++v;v=new se(z,0,null)}return m.call(this,n,p,v)}function m(n,p,u){p=Vg(a,p,u);return b.B?b.B(n,p):b.call(null,n,p)}k.aa=2;k.fa=
function(n){var p=H(n);n=J(n);var u=H(n);n=ue(n);return m(p,u,n)};k.I=m;return k}();f=function(k,m,n){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,k);case 2:return c.call(this,k,m);default:var p=null;if(2<arguments.length){p=0;for(var u=Array(arguments.length-2);p<u.length;)u[p]=arguments[p+2],++p;p=new se(u,0,null)}return h.I(k,m,p)}throw Error("Invalid arity: "+arguments.length);};f.aa=2;f.fa=h.fa;f.P=e;f.C=d;f.B=c;f.I=h.I;return f}()}};
Qh.B=function(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Ag(e),h=0;;)if(h<e)Dg(f,function(){var k=x(d,h);return a.C?a.C(k):a.call(null,k)}()),h+=1;else break;return Cg(Gg(f),Qh.B(a,Qd(c)))}return Ze(function(){var k=H(c);return a.C?a.C(k):a.call(null,k)}(),Qh.B(a,ue(c)))}return null},null,null)};
Qh.D=function(a,b,c){return new wg(null,function(){var d=G(b),e=G(c);if(d&&e){var f=H(d);var h=H(e);f=a.B?a.B(f,h):a.call(null,f,h);d=Ze(f,Qh.D(a,ue(d),ue(e)))}else d=null;return d},null,null)};Qh.R=function(a,b,c,d){return new wg(null,function(){var e=G(b),f=G(c),h=G(d);if(e&&f&&h){var k=H(e);var m=H(f),n=H(h);k=a.D?a.D(k,m,n):a.call(null,k,m,n);e=Ze(k,Qh.R(a,ue(e),ue(f),ue(h)))}else e=null;return e},null,null)};
Qh.I=function(a,b,c,d,e){return Qh.B(function(f){return Ug(a,f)},function k(h){return new wg(null,function(){var m=Qh.B(G,h);return qh(Tf,m)?Ze(Qh.B(H,m),k(Qh.B(ue,m))):null},null,null)}(hf.I(e,d,M([c,b]))))};Qh.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};Qh.aa=4;
var Rh=function Rh(a){switch(arguments.length){case 1:return Rh.C(arguments[0]);case 2:return Rh.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
Rh.C=function(a){return function(b){var c=zh(a);return function(){function d(k,m){var n=y(c),p=c.Ze(null,c.Ub(null)-1);k=0<n?b.B?b.B(k,m):b.call(null,k,m):k;return 0<p?k:He(k)?k:Ge(k)}function e(k){return b.C?b.C(k):b.call(null,k)}function f(){return b.P?b.P():b.call(null)}var h=null;h=function(k,m){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,k);case 2:return d.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.P=f;h.C=e;h.B=d;return h}()}};
Rh.B=function(a,b){return new wg(null,function(){if(0<a){var c=G(b);return c?Ze(H(c),Rh.B(a-1,ue(c))):null}return null},null,null)};Rh.aa=2;function Sh(a,b){return new wg(null,function(){a:for(var c=a,d=b;;)if(d=G(d),0<c&&d)--c,d=ue(d);else break a;return d},null,null)}function Th(a,b){return Qh.D(function(c){return c},b,Sh(a,b))}
function Uh(a,b){return new wg(null,function(){a:for(var c=a,d=b;;){d=G(d);var e;if(e=d)e=H(d),e=c.C?c.C(e):c.call(null,e);if(r(e))d=ue(d);else break a}return d},null,null)}function Vh(a,b,c,d,e){this.meta=a;this.count=b;this.val=c;this.next=d;this.J=e;this.O=32374988;this.T=1}g=Vh.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){return null==this.next?1<this.count?this.next=new Vh(null,this.count-1,this.val,null,null):-1===this.count?this:null:this.next};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.kg=function(){return!1};g.jb=function(a,b){if(-1===this.count)for(var c=b.B?b.B(this.val,this.val):b.call(null,this.val,this.val);;){if(He(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=1,c=this.val;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(He(c))return y(c);a+=1}else return c};
g.kb=function(a,b,c){if(-1===this.count)for(c=b.B?b.B(c,this.val):b.call(null,c,this.val);;){if(He(c))return y(c);c=b.B?b.B(c,this.val):b.call(null,c,this.val)}else for(a=0;;)if(a<this.count){c=b.B?b.B(c,this.val):b.call(null,c,this.val);if(He(c))return y(c);a+=1}else return c};g.nb=function(){return this.val};g.xb=function(){return null==this.next?1<this.count?this.next=new Vh(null,this.count-1,this.val,null,null):-1===this.count?this:ve:this.next};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Vh(b,this.count,this.val,this.next,null)};g.na=function(a,b){return Ze(b,this)};function Wh(a){return new Vh(null,-1,a,null,null)}function Xh(a,b){return 0<a?new Vh(null,a,b,null,null):ve}function Yh(a){return new wg(null,function(){return Ze(a.P?a.P():a.call(null),Yh(a))},null,null)}function Zh(a,b){return Rh.B(a,Yh(b))}
var $h=function $h(a){switch(arguments.length){case 0:return $h.P();case 1:return $h.C(arguments[0]);case 2:return $h.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return $h.I(arguments[0],arguments[1],c)}};$h.P=function(){return ve};$h.C=function(a){return new wg(null,function(){return a},null,null)};
$h.B=function(a,b){return new wg(null,function(){var c=G(a),d=G(b);return c&&d?Ze(H(c),Ze(H(d),$h.B(ue(c),ue(d)))):null},null,null)};$h.I=function(a,b,c){return new wg(null,function(){var d=Qh.B(G,hf.I(c,b,M([a])));return qh(Tf,d)?V.B(Qh.B(H,d),Ug($h,Qh.B(ue,d))):null},null,null)};$h.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};$h.aa=2;function bi(a,b){return Ug(V,Vg(Qh,a,b))}
function ci(a){return function(b){return function(){function c(h,k){return r(a.C?a.C(k):a.call(null,k))?b.B?b.B(h,k):b.call(null,h,k):h}function d(h){return b.C?b.C(h):b.call(null,h)}function e(){return b.P?b.P():b.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}}
function di(a,b){return new wg(null,function(){var c=G(b);if(c){if(Af(c)){for(var d=Pd(c),e=K(d),f=Ag(e),h=0;;)if(h<e){var k=x(d,h);k=a.C?a.C(k):a.call(null,k);r(k)&&(k=x(d,h),f.add(k));h+=1}else break;return Cg(Gg(f),di(a,Qd(c)))}d=H(c);c=ue(c);return r(a.C?a.C(d):a.call(null,d))?Ze(d,di(a,c)):di(a,c)}return null},null,null)}function ei(a,b){return di(th(a),b)}
var fi=function fi(a){switch(arguments.length){case 0:return fi.P();case 1:return fi.C(arguments[0]);case 2:return fi.B(arguments[0],arguments[1]);case 3:return fi.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};fi.P=function(){return jf};fi.C=function(a){return a};fi.B=function(a,b){return null!=a?null!=a&&(a.T&4||l===a.zi)?jd(Jd(w.D(Id,Hd(a),b)),rf(a)):w.D(Hc,a,b):w.D(hf,a,b)};
fi.D=function(a,b,c){if(null!=a&&(a.T&4||l===a.zi)){var d=rf(a);return Wf(b,function(){function e(k,m){return Mg.B(k,m)}function f(k){return jd(Jd(k),d)}var h=null;h=function(k,m){switch(arguments.length){case 1:return f.call(this,k);case 2:return e.call(this,k,m)}throw Error("Invalid arity: "+arguments.length);};h.C=f;h.B=e;return h}(),Hd(a),c)}return Wf(b,hf,a,c)};fi.aa=3;
var gi=function gi(a){switch(arguments.length){case 2:return gi.B(arguments[0],arguments[1]);case 3:return gi.D(arguments[0],arguments[1],arguments[2]);case 4:return gi.R(arguments[0],arguments[1],arguments[2],arguments[3]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(4),0,null);return gi.I(arguments[0],arguments[1],arguments[2],arguments[3],c)}};
gi.B=function(a,b){return Jd(w.D(function(c,d){return Mg.B(c,a.C?a.C(d):a.call(null,d))},Hd(jf),b))};gi.D=function(a,b,c){return fi.B(jf,Qh.D(a,b,c))};gi.R=function(a,b,c,d){return fi.B(jf,Qh.R(a,b,c,d))};gi.I=function(a,b,c,d,e){return fi.B(jf,Yg(Qh,a,b,c,d,M([e])))};gi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);e=J(e);return this.I(b,a,c,d,e)};gi.aa=4;function hi(a,b){return Jd(w.D(function(c,d){return r(a.C?a.C(d):a.call(null,d))?Mg.B(c,d):c},Hd(jf),b))}
function ii(a,b,c){return new wg(null,function(){var d=G(c);if(d){var e=Rh.B(a,d);return a===K(e)?Ze(e,ii(a,b,Sh(b,d))):null}return null},null,null)}function ji(a,b){return w.D(B,a,b)}
var li=function li(a,b,c){var e=G(b);b=H(e);var f=J(e);if(f){e=Q.D;var h=B.B(a,b);c=li.D?li.D(h,f,c):li.call(null,h,f,c);a=e.call(Q,a,b,c)}else a=Q.D(a,b,c);return a},mi=function mi(a){switch(arguments.length){case 3:return mi.D(arguments[0],arguments[1],arguments[2]);case 4:return mi.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return mi.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return mi.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],
arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(6),0,null);return mi.I(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};mi.D=function(a,b,c){var d=G(b);b=H(d);if(d=J(d))a=Q.D(a,b,mi.D(B.B(a,b),d,c));else{d=Q.D;var e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);a=d.call(Q,a,b,c)}return a};
mi.R=function(a,b,c,d){var e=G(b);b=H(e);if(e=J(e))a=Q.D(a,b,mi.R(B.B(a,b),e,c,d));else{e=Q.D;var f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);a=e.call(Q,a,b,c)}return a};mi.ma=function(a,b,c,d,e){var f=G(b);b=H(f);if(f=J(f))a=Q.D(a,b,mi.ma(B.B(a,b),f,c,d,e));else{f=Q.D;var h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);a=f.call(Q,a,b,c)}return a};
mi.Ra=function(a,b,c,d,e,f){var h=G(b);b=H(h);if(h=J(h))a=Q.D(a,b,mi.Ra(B.B(a,b),h,c,d,e,f));else{h=Q.D;var k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);a=h.call(Q,a,b,c)}return a};mi.I=function(a,b,c,d,e,f,h){var k=G(b);b=H(k);return(k=J(k))?Q.D(a,b,Yg(mi,B.B(a,b),k,c,d,M([e,f,h]))):Q.D(a,b,Yg(c,B.B(a,b),d,e,f,M([h])))};mi.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};mi.aa=6;
var ni=function ni(a){switch(arguments.length){case 3:return ni.D(arguments[0],arguments[1],arguments[2]);case 4:return ni.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return ni.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);case 6:return ni.Ra(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(6),0,null);return ni.I(arguments[0],
arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],c)}};ni.D=function(a,b,c){var d=Q.D,e=B.B(a,b);c=c.C?c.C(e):c.call(null,e);return d.call(Q,a,b,c)};ni.R=function(a,b,c,d){var e=Q.D,f=B.B(a,b);c=c.B?c.B(f,d):c.call(null,f,d);return e.call(Q,a,b,c)};ni.ma=function(a,b,c,d,e){var f=Q.D,h=B.B(a,b);c=c.D?c.D(h,d,e):c.call(null,h,d,e);return f.call(Q,a,b,c)};ni.Ra=function(a,b,c,d,e,f){var h=Q.D,k=B.B(a,b);c=c.R?c.R(k,d,e,f):c.call(null,k,d,e,f);return h.call(Q,a,b,c)};
ni.I=function(a,b,c,d,e,f,h){return Q.D(a,b,Yg(c,B.B(a,b),d,e,f,M([h])))};ni.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);var e=J(d);d=H(e);var f=J(e);e=H(f);var h=J(f);f=H(h);h=J(h);return this.I(b,a,c,d,e,f,h)};ni.aa=6;function oi(a,b){this.Xa=a;this.K=b}function pi(a){return new oi(a,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null])}
function qi(a){return new oi(a.Xa,uc(a.K))}function ri(a){a=a.ca;return 32>a?0:a-1>>>5<<5}function si(a,b,c){for(;;){if(0===b)return c;var d=pi(a);d.K[0]=c;c=d;b-=5}}var ti=function ti(a,b,c,d){var f=qi(c),h=a.ca-1>>>b&31;5===b?f.K[h]=d:(c=c.K[h],null!=c?(b-=5,a=ti.R?ti.R(a,b,c,d):ti.call(null,a,b,c,d)):a=si(null,b-5,d),f.K[h]=a);return f};function ui(a,b){throw Error(["No item ",t.C(a)," in vector of length ",t.C(b)].join(""));}
function vi(a,b){if(b>=ri(a))return a.tail;var c=a.root;for(a=a.shift;;)if(0<a){var d=a-5;c=c.K[b>>>a&31];a=d}else return c.K}function wi(a,b){return 0<=b&&b<a.ca?vi(a,b):ui(b,a.ca)}
var xi=function xi(a,b,c,d,e){var h=qi(c);if(0===b)h.K[d&31]=e;else{var k=d>>>b&31;b-=5;c=c.K[k];a=xi.ma?xi.ma(a,b,c,d,e):xi.call(null,a,b,c,d,e);h.K[k]=a}return h},yi=function yi(a,b,c){var e=a.ca-2>>>b&31;if(5<b){b-=5;var f=c.K[e];a=yi.D?yi.D(a,b,f):yi.call(null,a,b,f);if(null==a&&0===e)return null;c=qi(c);c.K[e]=a;return c}if(0===e)return null;c=qi(c);c.K[e]=null;return c};function zi(a,b,c,d,e,f){this.i=a;this.base=b;this.K=c;this.v=d;this.start=e;this.end=f}
zi.prototype.Ua=function(){return this.i<this.end};zi.prototype.next=function(){32===this.i-this.base&&(this.K=vi(this.v,this.i),this.base+=32);var a=this.K[this.i&31];this.i+=1;return a};function Ai(a,b,c){return new zi(b,b-b%32,b<K(a)?vi(a,b):null,a,b,c)}function Bi(a,b,c,d){return c<d?Ci(a,b,Te(a,c),c+1,d):b.P?b.P():b.call(null)}
function Ci(a,b,c,d,e){var f=c;c=d;for(d=vi(a,d);;)if(c<e){var h=c&31;d=0===h?vi(a,c):d;h=d[h];f=b.B?b.B(f,h):b.call(null,f,h);if(He(f))return y(f);c+=1}else return f}function X(a,b,c,d,e,f){this.meta=a;this.ca=b;this.shift=c;this.root=d;this.tail=e;this.J=f;this.O=167666463;this.T=139268}g=X.prototype;g.de=function(a,b){return 0<=b&&b<this.ca?new Y(b,vi(this,b)[b&31],null):null};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.qb(null,b,c):c};
g.xa=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=vi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=f+a,k=e[f];d=b.D?b.D(d,h,k):b.call(null,d,h,k);if(He(d)){e=d;break a}f+=1}else{e=d;break a}if(He(e))return y(e);a+=c;d=e}else return d};g.$g=l;g.Da=function(a,b){return wi(this,b)[b&31]};g.qb=function(a,b,c){return 0<=b&&b<this.ca?vi(this,b)[b&31]:c};
g.Cd=function(a,b,c){if(0<=b&&b<this.ca)return ri(this)<=b?(a=uc(this.tail),a[b&31]=c,new X(this.meta,this.ca,this.shift,this.root,a,null)):new X(this.meta,this.ca,this.shift,xi(this,this.shift,this.root,b,c),this.tail,null);if(b===this.ca)return this.na(null,c);throw Error(["Index ",t.C(b)," out of bounds  [0,",t.C(this.ca),"]"].join(""));};g.qa=function(){return Ai(this,0,this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new X(this.meta,this.ca,this.shift,this.root,this.tail,this.J)};
g.la=function(){return this.ca};g.ee=function(){return 0<this.ca?this.Da(null,this.ca-1):null};
g.fe=function(){if(0===this.ca)throw Error("Can't pop empty vector");if(1===this.ca)return jd(jf,this.meta);if(1<this.ca-ri(this))return new X(this.meta,this.ca-1,this.shift,this.root,this.tail.slice(0,-1),null);var a=vi(this,this.ca-2),b=yi(this,this.shift,this.root);b=null==b?Z:b;var c=this.ca-1;return 5<this.shift&&null==b.K[1]?new X(this.meta,c,this.shift-5,b.K[0],a,null):new X(this.meta,c,this.shift,b,a,null)};g.Xc=function(){return 0<this.ca?new Xe(this,this.ca-1,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){if(b instanceof X)if(this.ca===K(b))for(a=this.qa(null),b=b.qa(null);;)if(a.Ua()){var c=a.next(),d=b.next();if(!F.B(c,d))return!1}else return!0;else return!1;else return Ye(this,b)};g.ue=function(){return new Di(this.ca,this.shift,Ei.C?Ei.C(this.root):Ei.call(null,this.root),Fi.C?Fi.C(this.tail):Fi.call(null,this.tail))};g.Pa=function(){return jd(jf,this.meta)};g.jb=function(a,b){return Bi(this,b,0,this.ca)};
g.kb=function(a,b,c){a=0;for(var d=c;;)if(a<this.ca){var e=vi(this,a);c=e.length;a:for(var f=0;;)if(f<c){var h=e[f];d=b.B?b.B(d,h):b.call(null,d,h);if(He(d)){e=d;break a}f+=1}else{e=d;break a}if(He(e))return y(e);a+=c;d=e}else return d};g.ea=function(a,b,c){if("number"===typeof b)return this.Cd(null,b,c);throw Error("Vector's key for assoc must be a number.");};g.ra=function(a,b){return Hf(b)?0<=b&&b<this.ca:!1};
g.ka=function(){if(0===this.ca)return null;if(32>=this.ca)return new se(this.tail,0,null);a:{var a=this.root;for(var b=this.shift;;)if(0<b)b-=5,a=a.K[0];else{a=a.K;break a}}return Gi?Gi(this,a,0,0):Hi.call(null,this,a,0,0)};g.ha=function(a,b){return b===this.meta?this:new X(b,this.ca,this.shift,this.root,this.tail,this.J)};
g.na=function(a,b){if(32>this.ca-ri(this)){a=this.tail.length;for(var c=Array(a+1),d=0;;)if(d<a)c[d]=this.tail[d],d+=1;else break;c[a]=b;return new X(this.meta,this.ca+1,this.shift,this.root,c,null)}a=(c=this.ca>>>5>1<<this.shift)?this.shift+5:this.shift;c?(c=pi(null),c.K[0]=this.root,d=si(null,this.shift,new oi(null,this.tail)),c.K[1]=d):c=ti(this,this.shift,this.root,new oi(null,this.tail));return new X(this.meta,this.ca+1,a,c,[b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){if("number"===typeof a)return this.Da(null,a);throw Error("Key must be integer");};
var Z=new oi(null,[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]),jf=new X(null,0,5,Z,[],Be);function Ii(a,b){var c=a.length;a=b?a:uc(a);if(32>c)return new X(null,c,5,Z,a,null);var d=a.slice(0,32);b=32;for(var e=(new X(null,32,5,Z,d,null)).ue(null);;)if(b<c)d=b+1,e=Mg.B(e,a[b]),b=d;else return Jd(e)}X.prototype[rc]=function(){return ye(this)};
function Ji(a){return r(Ki.C?Ki.C(a):Ki.call(null,a))?new X(null,2,5,Z,[Li.C?Li.C(a):Li.call(null,a),Mi.C?Mi.C(a):Mi.call(null,a)],null):zf(a)?qf(a,null):gc(a)?Ii(a,!0):Jd(w.D(Id,Hd(jf),a))}var Ni=function Ni(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return Ni.I(c)};Ni.I=function(a){return a instanceof se&&0===a.i?Ii(a.K,!gc(a.K)):Ji(a)};Ni.aa=0;Ni.fa=function(a){return this.I(G(a))};
function Pi(a,b,c,d,e,f){this.Tc=a;this.node=b;this.i=c;this.off=d;this.meta=e;this.J=f;this.O=32375020;this.T=1536}g=Pi.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(this.off+1<this.node.length){var a=this.Tc;var b=this.node,c=this.i,d=this.off+1;a=Gi?Gi(a,b,c,d):Hi.call(null,a,b,c,d);return null==a?null:a}return this.Ve()};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return Bi(this.Tc,b,this.i+this.off,K(this.Tc))};g.kb=function(a,b,c){return Ci(this.Tc,b,c,this.i+this.off,K(this.Tc))};g.nb=function(){return this.node[this.off]};g.xb=function(){if(this.off+1<this.node.length){var a=this.Tc;var b=this.node,c=this.i,d=this.off+1;a=Gi?Gi(a,b,c,d):Hi.call(null,a,b,c,d);return null==a?ve:a}return this.ce(null)};g.ka=function(){return this};
g.We=function(){var a=this.node;return new zg(a,this.off,a.length)};g.ce=function(){var a=this.i+this.node.length;if(a<Dc(this.Tc)){var b=this.Tc,c=vi(this.Tc,a);return Gi?Gi(b,c,a,0):Hi.call(null,b,c,a,0)}return ve};g.ha=function(a,b){return b===this.meta?this:Qi?Qi(this.Tc,this.node,this.i,this.off,b):Hi.call(null,this.Tc,this.node,this.i,this.off,b)};g.na=function(a,b){return Ze(b,this)};
g.Ve=function(){var a=this.i+this.node.length;if(a<Dc(this.Tc)){var b=this.Tc,c=vi(this.Tc,a);return Gi?Gi(b,c,a,0):Hi.call(null,b,c,a,0)}return null};Pi.prototype[rc]=function(){return ye(this)};
function Hi(a){switch(arguments.length){case 3:var b=arguments[0],c=arguments[1],d=arguments[2];return new Pi(b,wi(b,c),c,d,null,null);case 4:return Gi(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return Qi(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Gi(a,b,c,d){return new Pi(a,b,c,d,null,null)}function Qi(a,b,c,d,e){return new Pi(a,b,c,d,e,null)}
function Ri(a,b,c,d,e){this.meta=a;this.v=b;this.start=c;this.end=d;this.J=e;this.O=167666463;this.T=139264}g=Ri.prototype;g.de=function(a,b){if(0>b)return null;a=this.start+b;return a<this.end?new Y(b,Qc(this.v,a),null):null};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return"number"===typeof b?this.qb(null,b,c):c};
g.xa=function(a,b,c){a=this.start;for(var d=0;;)if(a<this.end){var e=d,f=x(this.v,a);c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(He(c))return y(c);d+=1;a+=1}else return c};g.Da=function(a,b){return 0>b||this.end<=this.start+b?ui(b,this.end-this.start):x(this.v,this.start+b)};g.qb=function(a,b,c){return 0>b||this.end<=this.start+b?c:x(this.v,this.start+b,c)};
g.Cd=function(a,b,c){a=this.start+b;if(0>b||this.end+1<=a)throw Error(["Index ",t.C(b)," out of bounds [0,",t.C(this.la(null)),"]"].join(""));b=this.meta;c=Q.D(this.v,a,c);var d=this.start,e=this.end;a+=1;a=e>a?e:a;return Si.ma?Si.ma(b,c,d,a,null):Si.call(null,b,c,d,a,null)};g.qa=function(){return null!=this.v&&l===this.v.$g?Ai(this.v,this.start,this.end):new gh(this)};g.ga=function(){return this.meta};g.pa=function(){return new Ri(this.meta,this.v,this.start,this.end,this.J)};
g.la=function(){return this.end-this.start};g.ee=function(){return this.start===this.end?null:x(this.v,this.end-1)};g.fe=function(){if(this.start===this.end)throw Error("Can't pop empty vector");var a=this.meta,b=this.v,c=this.start,d=this.end-1;return Si.ma?Si.ma(a,b,c,d,null):Si.call(null,a,b,c,d,null)};g.Xc=function(){return this.start!==this.end?new Xe(this,this.end-this.start-1,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};
g.Pa=function(){return jd(jf,this.meta)};g.jb=function(a,b){return null!=this.v&&l===this.v.$g?Bi(this.v,b,this.start,this.end):Ke(this,b)};g.kb=function(a,b,c){return null!=this.v&&l===this.v.$g?Ci(this.v,b,c,this.start,this.end):Me(this,b,c)};g.ea=function(a,b,c){if("number"===typeof b)return this.Cd(null,b,c);throw Error("Subvec's key for assoc must be a number.");};g.ra=function(a,b){return Hf(b)?0<=b&&b<this.end-this.start:!1};
g.ka=function(){var a=this;return function d(c){return c===a.end?null:Ze(x(a.v,c),new wg(null,function(){return d(c+1)},null,null))}(a.start)};g.ha=function(a,b){return b===this.meta?this:Si.ma?Si.ma(b,this.v,this.start,this.end,this.J):Si.call(null,b,this.v,this.start,this.end,this.J)};g.na=function(a,b){a=this.meta;b=ed(this.v,this.end,b);var c=this.start,d=this.end+1;return Si.ma?Si.ma(a,b,c,d,null):Si.call(null,a,b,c,d,null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};Ri.prototype[rc]=function(){return ye(this)};
function Si(a,b,c,d,e){for(;;)if(b instanceof Ri)c=b.start+c,d=b.start+d,b=b.v;else{if(!zf(b))throw Error("v must satisfy IVector");if(0>c||d<c||d>K(b))throw Error("Index out of bounds");return new Ri(a,b,c,d,e)}}function Ti(a,b,c){return Si(null,a,b|0,c|0,null)}function Ui(a,b){return a===b.Xa?b:new oi(a,uc(b.K))}function Ei(a){return new oi({},uc(a.K))}
function Fi(a){var b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];Bf(a,0,b,0,a.length);return b}var Vi=function Vi(a,b,c,d){c=Ui(a.root.Xa,c);var f=a.ca-1>>>b&31;if(5===b)a=d;else{var h=c.K[f];null!=h?(b-=5,a=Vi.R?Vi.R(a,b,h,d):Vi.call(null,a,b,h,d)):a=si(a.root.Xa,b-5,d)}c.K[f]=a;return c};function Di(a,b,c,d){this.ca=a;this.shift=b;this.root=c;this.tail=d;this.T=88;this.O=275}g=Di.prototype;
g.ve=function(a,b){if(this.root.Xa){if(32>this.ca-ri(this))this.tail[this.ca&31]=b;else{a=new oi(this.root.Xa,this.tail);var c=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];c[0]=b;this.tail=c;this.ca>>>5>1<<this.shift?(b=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],c=
this.shift+5,b[0]=this.root,b[1]=si(this.root.Xa,this.shift,a),this.root=new oi(this.root.Xa,b),this.shift=c):this.root=Vi(this,this.shift,this.root,a)}this.ca+=1;return this}throw Error("conj! after persistent!");};g.Fe=function(){if(this.root.Xa){this.root.Xa=null;var a=this.ca-ri(this),b=Array(a);Bf(this.tail,0,b,0,a);return new X(null,this.ca,this.shift,this.root,b,null)}throw Error("persistent! called twice");};
g.Ye=function(a,b,c){if("number"===typeof b)return Wi(this,b,c);throw Error("TransientVector's key for assoc! must be a number.");};
function Wi(a,b,c){if(a.root.Xa){if(0<=b&&b<a.ca){if(ri(a)<=b)a.tail[b&31]=c;else{var d=function k(f,h){h=Ui(a.root.Xa,h);if(0===f)h.K[b&31]=c;else{var m=b>>>f&31;f=k(f-5,h.K[m]);h.K[m]=f}return h}(a.shift,a.root);a.root=d}return a}if(b===a.ca)return a.ve(null,c);throw Error(["Index ",t.C(b)," out of bounds for TransientVector of length",t.C(a.ca)].join(""));}throw Error("assoc! after persistent!");}g.la=function(){if(this.root.Xa)return this.ca;throw Error("count after persistent!");};
g.Da=function(a,b){if(this.root.Xa)return wi(this,b)[b&31];throw Error("nth after persistent!");};g.qb=function(a,b,c){return 0<=b&&b<this.ca?this.Da(null,b):c};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.root.Xa)return"number"===typeof b?this.qb(null,b,c):c;throw Error("lookup after persistent!");};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Xi(a,b){this.bf=a;this.Wf=b}Xi.prototype.Ua=function(){var a=null!=this.bf&&G(this.bf);return a?a:(a=null!=this.Wf)?this.Wf.Ua():a};
Xi.prototype.next=function(){if(null!=this.bf){var a=H(this.bf);this.bf=J(this.bf);return a}if(null!=this.Wf&&this.Wf.Ua())return this.Wf.next();throw Error("No such element");};Xi.prototype.remove=function(){return Error("Unsupported operation")};function Yi(a,b,c,d){this.meta=a;this.xc=b;this.Jc=c;this.J=d;this.O=31850700;this.T=0}g=Yi.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=J(this.xc);return a?new Yi(this.meta,a,this.Jc,null):null!=this.Jc?new Yi(this.meta,this.Jc,null,null):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd(ve,this.meta)};g.nb=function(){return H(this.xc)};g.xb=function(){var a=J(this.xc);return a?new Yi(this.meta,a,this.Jc,null):null==this.Jc?this.Pa(null):new Yi(this.meta,this.Jc,null,null)};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Yi(b,this.xc,this.Jc,this.J)};g.na=function(a,b){return Ze(b,this)};Yi.prototype[rc]=function(){return ye(this)};
function Zi(a,b,c,d,e){this.meta=a;this.count=b;this.xc=c;this.Jc=d;this.J=e;this.T=139264;this.O=31858766}g=Zi.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,this.count.C?this.count.C(this):this.count.call(null,this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.qa=function(){return new Xi(this.xc,Yd(this.Jc))};g.ga=function(){return this.meta};g.pa=function(){return new Zi(this.meta,this.count,this.xc,this.Jc,this.J)};g.la=function(){return this.count};
g.ee=function(){return H(this.xc)};g.fe=function(){if(r(this.xc)){var a=J(this.xc);return a?new Zi(this.meta,this.count-1,a,this.Jc,null):new Zi(this.meta,this.count-1,G(this.Jc),jf,null)}return this};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return jd($i,this.meta)};g.nb=function(){return H(this.xc)};g.xb=function(){return ue(G(this))};
g.ka=function(){var a=G(this.Jc),b=this.xc;return r(r(b)?b:a)?new Yi(null,this.xc,G(a),null):null};g.ha=function(a,b){return b===this.meta?this:new Zi(b,this.count,this.xc,this.Jc,this.J)};g.na=function(a,b){r(this.xc)?(a=this.Jc,b=new Zi(this.meta,this.count+1,this.xc,hf.B(r(a)?a:jf,b),null)):b=new Zi(this.meta,this.count+1,hf.B(this.xc,b),jf,null);return b};var $i=new Zi(null,0,null,jf,Be);Zi.prototype[rc]=function(){return ye(this)};function aj(){this.O=2097152;this.T=0}
aj.prototype.equiv=function(a){return this.da(null,a)};aj.prototype.da=function(){return!1};var bj=new aj;function cj(a,b){return Ff(xf(b)&&!yf(b)?K(a)===K(b)?(null!=a?a.O&1048576||l===a.jm||(a.O?0:nc(nd,a)):nc(nd,a))?Sf(function(c,d,e){return F.B(B.D(b,d,bj),e)?!0:Ge(!1)},!0,a):qh(function(c){return F.B(B.D(b,H(c),bj),cf(c))},a):null:null)}function dj(a,b,c,d){this.i=0;this.Jl=a;this.si=b;this.fields=c;this.Qi=d}dj.prototype.Ua=function(){var a=this.i<this.si;return a?a:this.Qi.Ua()};
dj.prototype.next=function(){if(this.i<this.si){var a=Te(this.fields,this.i);this.i+=1;return new Y(a,Qc(this.Jl,a),null)}return this.Qi.next()};dj.prototype.remove=function(){return Error("Unsupported operation")};function ej(a){this.s=a}ej.prototype.next=function(){if(null!=this.s){var a=H(this.s),b=N(a,0,null);a=N(a,1,null);this.s=J(this.s);return{value:[b,a],done:!1}}return{value:null,done:!0}};function fj(a){this.s=a}
fj.prototype.next=function(){if(null!=this.s){var a=H(this.s);this.s=J(this.s);return{value:[a,a],done:!1}}return{value:null,done:!0}};
function gj(a,b){if(b instanceof D)a:{var c=a.length;b=b.ba;for(var d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof D&&b===a[d].ba){a=d;break a}d+=2}}else if("string"===typeof b||"number"===typeof b)a:for(c=a.length,d=0;;){if(c<=d){a=-1;break a}if(b===a[d]){a=d;break a}d+=2}else if(b instanceof A)a:for(c=a.length,b=b.Ac,d=0;;){if(c<=d){a=-1;break a}if(a[d]instanceof A&&b===a[d].Ac){a=d;break a}d+=2}else if(null==b)a:for(b=a.length,c=0;;){if(b<=c){a=-1;break a}if(null==a[c]){a=c;break a}c+=2}else a:for(c=
a.length,d=0;;){if(c<=d){a=-1;break a}if(F.B(b,a[d])){a=d;break a}d+=2}return a}function Y(a,b,c){this.key=a;this.val=b;this.J=c;this.O=166619935;this.T=0}g=Y.prototype;g.de=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};
g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Cd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.bh=function(){return this.key};g.dh=function(){return this.val};g.ee=function(){return this.val};g.fe=function(){return new X(null,1,5,Z,[this.key],null)};g.Xc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Ke(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};g.ha=function(a,b){return qf(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};function Ki(a){return null!=a?a.O&2048||l===a.mm?!0:!1:!1}function hj(a,b,c){this.K=a;this.i=b;this.md=c;this.O=32374990;this.T=0}g=hj.prototype;
g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.md};g.Va=function(){return this.i<this.K.length-2?new hj(this.K,this.i+2,null):null};g.la=function(){return(this.K.length-this.i)/2};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return new Y(this.K[this.i],this.K[this.i+1],null)};g.xb=function(){return this.i<this.K.length-2?new hj(this.K,this.i+2,null):ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.md?this:new hj(this.K,this.i,b)};g.na=function(a,b){return Ze(b,this)};hj.prototype[rc]=function(){return ye(this)};
function ij(a,b){this.K=a;this.i=0;this.ca=b}ij.prototype.Ua=function(){return this.i<this.ca};ij.prototype.next=function(){var a=new Y(this.K[this.i],this.K[this.i+1],null);this.i+=2;return a};function q(a,b,c,d){this.meta=a;this.ca=b;this.K=c;this.J=d;this.O=16647951;this.T=139268}g=q.prototype;g.de=function(a,b){a=gj(this.K,b);return-1===a?null:new Y(this.K[a],this.K[a+1],null)};g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.keys=function(){return ye(jj.C?jj.C(this):jj.call(null,this))};g.entries=function(){return new ej(G(G(this)))};g.values=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=gj(this.K,b);return-1===a?c:this.K[a+1]};
g.xa=function(a,b,c){a=this.K.length;for(var d=0;;)if(d<a){var e=this.K[d],f=this.K[d+1];c=b.D?b.D(c,e,f):b.call(null,c,e,f);if(He(c))return y(c);d+=2}else return c};g.qa=function(){return new ij(this.K,2*this.ca)};g.ga=function(){return this.meta};g.pa=function(){return new q(this.meta,this.ca,this.K,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(xf(b)&&!yf(b))if(a=this.K.length,this.ca===b.la(null))for(var c=0;;)if(c<a){var d=b.Y(null,this.K[c],Cf);if(d!==Cf)if(F.B(this.K[c+1],d))c+=2;else return!1;else return!1}else return!0;else return!1;else return!1};g.ue=function(){return new lj(this.K.length,uc(this.K))};g.Pa=function(){return jd(W,this.meta)};g.jb=function(a,b){return Qf(this,b)};g.kb=function(a,b,c){return Rf(this,b,c)};
g.za=function(a,b){if(0<=gj(this.K,b)){a=this.K.length;var c=a-2;if(0===c)return this.Pa(null);c=Array(c);for(var d=0,e=0;;){if(d>=a)return new q(this.meta,this.ca-1,c,null);F.B(b,this.K[d])?d+=2:(c[e]=this.K[d],c[e+1]=this.K[d+1],e+=2,d+=2)}}else return this};
g.ea=function(a,b,c){a=gj(this.K,b);if(-1===a){if(this.ca<mj){a=this.K;for(var d=a.length,e=Array(d+2),f=0;;)if(f<d)e[f]=a[f],f+=1;else break;e[d]=b;e[d+1]=c;return new q(this.meta,this.ca+1,e,null)}return jd(Uc(fi.B(nj,this),b,c),this.meta)}if(c===this.K[a+1])return this;b=uc(this.K);b[a+1]=c;return new q(this.meta,this.ca,b,null)};g.ra=function(a,b){return-1!==gj(this.K,b)};g.ka=function(){var a=this.K;return 0<=a.length-2?new hj(a,0,null):null};
g.ha=function(a,b){return b===this.meta?this:new q(b,this.ca,this.K,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var W=new q(null,0,[],De),mj=8;
function oj(a,b,c){a=b?a:uc(a);if(!c){c=[];for(b=0;;)if(b<a.length){var d=a[b],e=a[b+1];-1===gj(c,d)&&(c.push(d),c.push(e));b+=2}else break;a=c}return new q(null,a.length/2,a,null)}function pj(a,b){return a===b?!0:U(a,b)?!0:F.B(a,b)}function qj(a){for(var b=0,c=0;;)if(b<a.length){var d;a:for(d=0;;)if(d<b){var e=pj(a[b],a[d]);if(e){d=e;break a}d=2+d}else{d=!1;break a}c=d?c:c+2;b=2+b}else return c}
function rj(a,b){var c=a.length-1,d=G(b);b=Array(c+2*K(d));a=Bf(a,0,b,0,c);for(b=c;;)if(d){var e=H(d);a[b]=Yc(e);a[b+1]=Zc(e);b=2+c;d=J(d)}else return a}function nf(a){var b=a.length,c=1===(b&1),d;if(!(d=c))a:for(d=0;;)if(d<a.length){var e;b:for(e=0;;)if(e<d){var f=pj(a[d],a[e]);if(f){e=f;break b}e=2+e}else{e=!1;break b}if(e){d=e;break a}d=2+d}else{d=!1;break a}return d?sj(a,c):new q(null,b/2,a,null)}
function sj(a,b){var c=b?rj(a,fi.B(W,a[a.length-1])):a;a=qj(c);var d=c.length;if(a<d){a=Array(a);for(var e=0,f=0;;)if(e<d)(function(){for(var h=0;;)if(h<f){var k=pj(c[e],c[h]);if(k)return k;h=2+h}else return!1})()?(b=f,e=2+e,f=b):(b=function(){for(var h=d-2;;)if(h>=e){if(pj(c[e],c[h]))return h;h-=2}else return h}(),a[f]=c[e],a[f+1]=c[b+1],b=2+f,e=2+e,f=b);else break;return new q(null,a.length/2,a,null)}return new q(null,c.length/2,c,null)}q.prototype[rc]=function(){return ye(this)};
function lj(a,b){this.He={};this.Hd=a;this.K=b;this.O=259;this.T=56}g=lj.prototype;g.la=function(){if(this.He)return gg(this.Hd,2);throw Error("count after persistent!");};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){if(this.He)return a=gj(this.K,b),-1===a?c:this.K[a+1];throw Error("lookup after persistent!");};
g.ve=function(a,b){if(this.He){if(Ki(b))return this.Ye(null,Li.C?Li.C(b):Li.call(null,b),Mi.C?Mi.C(b):Mi.call(null,b));if(zf(b))return this.Ye(null,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));a=G(b);for(b=this;;){var c=H(a);if(r(c))a=J(a),b=Kd(b,Li.C?Li.C(c):Li.call(null,c),Mi.C?Mi.C(c):Mi.call(null,c));else return b}}else throw Error("conj! after persistent!");};g.Fe=function(){if(this.He)return this.He=!1,new q(null,gg(this.Hd,2),this.K,null);throw Error("persistent! called twice");};
g.Ye=function(a,b,c){if(this.He){a=gj(this.K,b);if(-1===a)return this.Hd+2<=2*mj?(this.Hd+=2,this.K.push(b),this.K.push(c),this):Ng(tj.B?tj.B(this.Hd,this.K):tj.call(null,this.Hd,this.K),b,c);c!==this.K[a+1]&&(this.K[a+1]=c);return this}throw Error("assoc! after persistent!");};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};
g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Y(null,a,null)};g.B=function(a,b){return this.Y(null,a,b)};function tj(a,b){for(var c=Hd(nj),d=0;;)if(d<a)c=Kd(c,b[d],b[d+1]),d+=2;else return c}function uj(){this.val=!1}function vj(a,b,c){a=uc(a);a[b]=c;return a}function wj(a,b){var c=Array(a.length-2);Bf(a,0,c,0,2*b);Bf(a,2*(b+1),c,2*b,c.length-2*b);return c}function xj(a,b,c,d){a=a.ke(b);a.K[c]=d;return a}
function yj(a,b,c){for(var d=a.length,e=0,f=c;;)if(e<d){c=a[e];if(null!=c){var h=a[e+1];c=b.D?b.D(f,c,h):b.call(null,f,c,h)}else c=a[e+1],c=null!=c?c.Ne(b,f):f;if(He(c))return c;e+=2;f=c}else return f}function zj(a){this.K=a;this.i=0;this.Jd=this.Qf=null}zj.prototype.advance=function(){for(var a=this.K.length;;)if(this.i<a){var b=this.K[this.i],c=this.K[this.i+1];null!=b?b=this.Qf=new Y(b,c,null):null!=c?(b=Yd(c),b=b.Ua()?this.Jd=b:!1):b=!1;this.i+=2;if(b)return!0}else return!1};
zj.prototype.Ua=function(){var a=null!=this.Qf;return a?a:(a=null!=this.Jd)?a:this.advance()};zj.prototype.next=function(){if(null!=this.Qf){var a=this.Qf;this.Qf=null;return a}if(null!=this.Jd)return a=this.Jd.next(),this.Jd.Ua()||(this.Jd=null),a;if(this.advance())return this.next();throw Error("No such element");};zj.prototype.remove=function(){return Error("Unsupported operation")};function Aj(a,b,c){this.Xa=a;this.bitmap=b;this.K=c;this.T=131072;this.O=0}g=Aj.prototype;
g.ke=function(a){if(a===this.Xa)return this;var b=ig(this.bitmap),c=Array(0>b?4:2*(b+1));Bf(this.K,0,c,0,2*b);return new Aj(a,this.bitmap,c)};g.Lf=function(){return Cj?Cj(this.K):Dj.call(null,this.K)};g.Ne=function(a,b){return yj(this.K,a,b)};g.Be=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ig(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Be(a+5,b,c,d):pj(c,e)?f:d};
g.Gd=function(a,b,c,d,e,f){var h=1<<(c>>>b&31),k=ig(this.bitmap&h-1);if(0===(this.bitmap&h)){var m=ig(this.bitmap);if(2*m<this.K.length){a=this.ke(a);b=a.K;f.val=!0;c=2*(m-k);f=2*k+(c-1);for(m=2*(k+1)+(c-1);0!==c;)b[m]=b[f],--m,--c,--f;b[2*k]=d;b[2*k+1]=e;a.bitmap|=h;return a}if(16<=m){k=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];k[c>>>b&31]=Ej.Gd(a,b+5,c,d,e,f);for(e=d=0;;)if(32>
d)0===(this.bitmap>>>d&1)?d+=1:(k[d]=null!=this.K[e]?Ej.Gd(a,b+5,ke(this.K[e]),this.K[e],this.K[e+1],f):this.K[e+1],e+=2,d+=1);else break;return new Fj(a,m+1,k)}b=Array(2*(m+4));Bf(this.K,0,b,0,2*k);b[2*k]=d;b[2*k+1]=e;Bf(this.K,2*k,b,2*(k+1),2*(m-k));f.val=!0;a=this.ke(a);a.K=b;a.bitmap|=h;return a}m=this.K[2*k];h=this.K[2*k+1];if(null==m)return m=h.Gd(a,b+5,c,d,e,f),m===h?this:xj(this,a,2*k+1,m);if(pj(d,m))return e===h?this:xj(this,a,2*k+1,e);f.val=!0;f=b+5;d=Gj?Gj(a,f,m,h,c,d,e):Hj.call(null,a,
f,m,h,c,d,e);e=2*k;k=2*k+1;a=this.ke(a);a.K[e]=null;a.K[k]=d;return a};
g.Fd=function(a,b,c,d,e){var f=1<<(b>>>a&31),h=ig(this.bitmap&f-1);if(0===(this.bitmap&f)){var k=ig(this.bitmap);if(16<=k){h=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];h[b>>>a&31]=Ej.Fd(a+5,b,c,d,e);for(d=c=0;;)if(32>c)0===(this.bitmap>>>c&1)?c+=1:(h[c]=null!=this.K[d]?Ej.Fd(a+5,ke(this.K[d]),this.K[d],this.K[d+1],e):this.K[d+1],d+=2,c+=1);else break;return new Fj(null,k+1,h)}a=Array(2*
(k+1));Bf(this.K,0,a,0,2*h);a[2*h]=c;a[2*h+1]=d;Bf(this.K,2*h,a,2*(h+1),2*(k-h));e.val=!0;return new Aj(null,this.bitmap|f,a)}var m=this.K[2*h];f=this.K[2*h+1];if(null==m)return k=f.Fd(a+5,b,c,d,e),k===f?this:new Aj(null,this.bitmap,vj(this.K,2*h+1,k));if(pj(c,m))return d===f?this:new Aj(null,this.bitmap,vj(this.K,2*h+1,d));e.val=!0;e=this.bitmap;k=this.K;a+=5;a=Ij?Ij(a,m,f,b,c,d):Hj.call(null,a,m,f,b,c,d);c=2*h;h=2*h+1;d=uc(k);d[c]=null;d[h]=a;return new Aj(null,e,d)};
g.Kf=function(a,b,c,d){var e=1<<(b>>>a&31);if(0===(this.bitmap&e))return d;var f=ig(this.bitmap&e-1);e=this.K[2*f];f=this.K[2*f+1];return null==e?f.Kf(a+5,b,c,d):pj(c,e)?new Y(e,f,null):d};
g.Mf=function(a,b,c){var d=1<<(b>>>a&31);if(0===(this.bitmap&d))return this;var e=ig(this.bitmap&d-1),f=this.K[2*e],h=this.K[2*e+1];return null==f?(a=h.Mf(a+5,b,c),a===h?this:null!=a?new Aj(null,this.bitmap,vj(this.K,2*e+1,a)):this.bitmap===d?null:new Aj(null,this.bitmap^d,wj(this.K,e))):pj(c,f)?this.bitmap===d?null:new Aj(null,this.bitmap^d,wj(this.K,e)):this};g.qa=function(){return new zj(this.K)};var Ej=new Aj(null,0,[]);function Kj(a){this.K=a;this.i=0;this.Jd=null}
Kj.prototype.Ua=function(){for(var a=this.K.length;;){if(null!=this.Jd&&this.Jd.Ua())return!0;if(this.i<a){var b=this.K[this.i];this.i+=1;null!=b&&(this.Jd=Yd(b))}else return!1}};Kj.prototype.next=function(){if(this.Ua())return this.Jd.next();throw Error("No such element");};Kj.prototype.remove=function(){return Error("Unsupported operation")};function Fj(a,b,c){this.Xa=a;this.ca=b;this.K=c;this.T=131072;this.O=0}g=Fj.prototype;g.ke=function(a){return a===this.Xa?this:new Fj(a,this.ca,uc(this.K))};
g.Lf=function(){return Lj?Lj(this.K):Mj.call(null,this.K)};g.Ne=function(a,b){for(var c=this.K.length,d=0;;)if(d<c){var e=this.K[d];if(null!=e){b=e.Ne(a,b);if(He(b))return b;d+=1}else d+=1}else return b};g.Be=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Be(a+5,b,c,d):d};g.Gd=function(a,b,c,d,e,f){var h=c>>>b&31,k=this.K[h];if(null==k)return a=xj(this,a,h,Ej.Gd(a,b+5,c,d,e,f)),a.ca+=1,a;b=k.Gd(a,b+5,c,d,e,f);return b===k?this:xj(this,a,h,b)};
g.Fd=function(a,b,c,d,e){var f=b>>>a&31,h=this.K[f];if(null==h)return new Fj(null,this.ca+1,vj(this.K,f,Ej.Fd(a+5,b,c,d,e)));a=h.Fd(a+5,b,c,d,e);return a===h?this:new Fj(null,this.ca,vj(this.K,f,a))};g.Kf=function(a,b,c,d){var e=this.K[b>>>a&31];return null!=e?e.Kf(a+5,b,c,d):d};
g.Mf=function(a,b,c){var d=b>>>a&31,e=this.K[d];if(null!=e){a=e.Mf(a+5,b,c);if(a===e)d=this;else if(null==a)if(8>=this.ca)a:{e=this.K;a=e.length;b=Array(2*(this.ca-1));c=0;for(var f=1,h=0;;)if(c<a)c!==d&&null!=e[c]?(b[f]=e[c],f+=2,h|=1<<c,c+=1):c+=1;else{d=new Aj(null,h,b);break a}}else d=new Fj(null,this.ca-1,vj(this.K,d,a));else d=new Fj(null,this.ca,vj(this.K,d,a));return d}return this};g.qa=function(){return new Kj(this.K)};
function Nj(a,b,c){b*=2;for(var d=0;;)if(d<b){if(pj(c,a[d]))return d;d+=2}else return-1}function Oj(a,b,c,d){this.Xa=a;this.ie=b;this.ca=c;this.K=d;this.T=131072;this.O=0}g=Oj.prototype;g.ke=function(a){if(a===this.Xa)return this;var b=Array(2*(this.ca+1));Bf(this.K,0,b,0,2*this.ca);return new Oj(a,this.ie,this.ca,b)};g.Lf=function(){return Cj?Cj(this.K):Dj.call(null,this.K)};g.Ne=function(a,b){return yj(this.K,a,b)};
g.Be=function(a,b,c,d){a=Nj(this.K,this.ca,c);return 0>a?d:pj(c,this.K[a])?this.K[a+1]:d};
g.Gd=function(a,b,c,d,e,f){if(c===this.ie){b=Nj(this.K,this.ca,d);if(-1===b){if(this.K.length>2*this.ca)return b=2*this.ca,c=2*this.ca+1,a=this.ke(a),a.K[b]=d,a.K[c]=e,f.val=!0,a.ca+=1,a;c=this.K.length;b=Array(c+2);Bf(this.K,0,b,0,c);b[c]=d;b[c+1]=e;f.val=!0;d=this.ca+1;a===this.Xa?(this.K=b,this.ca=d,a=this):a=new Oj(this.Xa,this.ie,d,b);return a}return this.K[b+1]===e?this:xj(this,a,b+1,e)}return(new Aj(a,1<<(this.ie>>>b&31),[null,this,null,null])).Gd(a,b,c,d,e,f)};
g.Fd=function(a,b,c,d,e){return b===this.ie?(a=Nj(this.K,this.ca,c),-1===a?(a=2*this.ca,b=Array(a+2),Bf(this.K,0,b,0,a),b[a]=c,b[a+1]=d,e.val=!0,new Oj(null,this.ie,this.ca+1,b)):F.B(this.K[a+1],d)?this:new Oj(null,this.ie,this.ca,vj(this.K,a+1,d))):(new Aj(null,1<<(this.ie>>>a&31),[null,this])).Fd(a,b,c,d,e)};g.Kf=function(a,b,c,d){a=Nj(this.K,this.ca,c);return 0>a?d:pj(c,this.K[a])?new Y(this.K[a],this.K[a+1],null):d};
g.Mf=function(a,b,c){a=Nj(this.K,this.ca,c);return-1===a?this:1===this.ca?null:new Oj(null,this.ie,this.ca-1,wj(this.K,gg(a,2)))};g.qa=function(){return new zj(this.K)};function Hj(a){switch(arguments.length){case 6:return Ij(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 7:return Gj(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function Ij(a,b,c,d,e,f){var h=ke(b);if(h===d)return new Oj(null,h,2,[b,c,e,f]);var k=new uj;return Ej.Fd(a,h,b,c,k).Fd(a,d,e,f,k)}function Gj(a,b,c,d,e,f,h){var k=ke(c);if(k===e)return new Oj(null,k,2,[c,d,f,h]);var m=new uj;return Ej.Gd(a,b,k,c,d,m).Gd(a,b,e,f,h,m)}function Pj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Pj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){if(null==this.s){var a=this.nodes,b=this.i+2;return Qj?Qj(a,b,null):Dj.call(null,a,b,null)}a=this.nodes;b=this.i;var c=J(this.s);return Qj?Qj(a,b,c):Dj.call(null,a,b,c)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return null==this.s?new Y(this.nodes[this.i],this.nodes[this.i+1],null):H(this.s)};
g.xb=function(){var a=this,b=null==a.s?function(){var c=a.nodes,d=a.i+2;return Qj?Qj(c,d,null):Dj.call(null,c,d,null)}():function(){var c=a.nodes,d=a.i,e=J(a.s);return Qj?Qj(c,d,e):Dj.call(null,c,d,e)}();return null!=b?b:ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Pj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ze(b,this)};Pj.prototype[rc]=function(){return ye(this)};
function Dj(a){switch(arguments.length){case 1:return Cj(arguments[0]);case 3:return Qj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Cj(a){return Qj(a,0,null)}function Qj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){if(null!=a[b])return new Pj(null,a,b,null,null);var d=a[b+1];if(r(d)&&(d=d.Lf(),r(d)))return new Pj(null,a,b+2,d,null);b+=2}else return null;else return new Pj(null,a,b,c,null)}
function Rj(a,b,c,d,e){this.meta=a;this.nodes=b;this.i=c;this.s=d;this.J=e;this.O=32374988;this.T=0}g=Rj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=this.nodes,b=this.i,c=J(this.s);return Sj?Sj(a,b,c):Mj.call(null,a,b,c)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return H(this.s)};g.xb=function(){var a=this.nodes;var b=this.i,c=J(this.s);a=Sj?Sj(a,b,c):Mj.call(null,a,b,c);return null!=a?a:ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.meta?this:new Rj(b,this.nodes,this.i,this.s,this.J)};g.na=function(a,b){return Ze(b,this)};Rj.prototype[rc]=function(){return ye(this)};
function Mj(a){switch(arguments.length){case 1:return Lj(arguments[0]);case 3:return Sj(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function Lj(a){return Sj(a,0,null)}function Sj(a,b,c){if(null==c)for(c=a.length;;)if(b<c){var d=a[b];if(r(d)&&(d=d.Lf(),r(d)))return new Rj(null,a,b+1,d,null);b+=1}else return null;else return new Rj(null,a,b,c,null)}function Tj(a,b){this.Pb=a;this.rj=b;this.seen=!1}
Tj.prototype.Ua=function(){return!this.seen||this.rj.Ua()};Tj.prototype.next=function(){if(this.seen)return this.rj.next();this.seen=!0;return new Y(null,this.Pb,null)};Tj.prototype.remove=function(){return Error("Unsupported operation")};function Uj(a,b,c,d,e,f){this.meta=a;this.ca=b;this.root=c;this.Hb=d;this.Pb=e;this.J=f;this.O=16123663;this.T=139268}g=Uj.prototype;g.de=function(a,b){return null==b?this.Hb?new Y(null,this.Pb,null):null:null==this.root?null:this.root.Kf(0,ke(b),b,null)};
g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(jj.C?jj.C(this):jj.call(null,this))};g.entries=function(){return new ej(G(G(this)))};g.values=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};g.has=function(a){return S(this,a)};g.get=function(a,b){return this.Y(null,a,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return null==b?this.Hb?this.Pb:c:null==this.root?c:this.root.Be(0,ke(b),b,c)};
g.xa=function(a,b,c){a=this.Hb?b.D?b.D(c,null,this.Pb):b.call(null,c,null,this.Pb):c;return He(a)?y(a):null!=this.root?Ie(this.root.Ne(b,a)):a};g.qa=function(){var a=this.root?Yd(this.root):bh();return this.Hb?new Tj(this.Pb,a):a};g.ga=function(){return this.meta};g.pa=function(){return new Uj(this.meta,this.ca,this.root,this.Hb,this.Pb,this.J)};g.la=function(){return this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};g.da=function(a,b){return cj(this,b)};
g.ue=function(){return new Vj(this.root,this.ca,this.Hb,this.Pb)};g.Pa=function(){return jd(nj,this.meta)};g.za=function(a,b){if(null==b)return this.Hb?new Uj(this.meta,this.ca-1,this.root,!1,null,null):this;if(null==this.root)return this;a=this.root.Mf(0,ke(b),b);return a===this.root?this:new Uj(this.meta,this.ca-1,a,this.Hb,this.Pb,null)};
g.ea=function(a,b,c){if(null==b)return this.Hb&&c===this.Pb?this:new Uj(this.meta,this.Hb?this.ca:this.ca+1,this.root,!0,c,null);a=new uj;b=(null==this.root?Ej:this.root).Fd(0,ke(b),b,c,a);return b===this.root?this:new Uj(this.meta,a.val?this.ca+1:this.ca,b,this.Hb,this.Pb,null)};g.ra=function(a,b){return null==b?this.Hb:null==this.root?!1:this.root.Be(0,ke(b),b,Cf)!==Cf};g.ka=function(){if(0<this.ca){var a=null!=this.root?this.root.Lf():null;return this.Hb?Ze(new Y(null,this.Pb,null),a):a}return null};
g.ha=function(a,b){return b===this.meta?this:new Uj(b,this.ca,this.root,this.Hb,this.Pb,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var nj=new Uj(null,0,null,!1,null,De);
function Wj(a,b){for(var c=a.length,d=0,e=Hd(nj);;)if(d<c){if(b.length<=d)throw Error(["No value supplied for key: ",t.C(a[d])].join(""));var f=d+1;e=Kd(e,a[d],b[d]);d=f}else return Jd(e)}Uj.prototype[rc]=function(){return ye(this)};function Vj(a,b,c,d){this.Xa={};this.root=a;this.count=b;this.Hb=c;this.Pb=d;this.O=259;this.T=56}
function Xj(a,b,c){if(a.Xa){if(null==b)a.Pb!==c&&(a.Pb=c),a.Hb||(a.count+=1,a.Hb=!0);else{var d=new uj;b=(null==a.root?Ej:a.root).Gd(a.Xa,0,ke(b),b,c,d);b!==a.root&&(a.root=b);d.val&&(a.count+=1)}return a}throw Error("assoc! after persistent!");}g=Vj.prototype;g.la=function(){if(this.Xa)return this.count;throw Error("count after persistent!");};g.oa=function(a,b){return null==b?this.Hb?this.Pb:null:null==this.root?null:this.root.Be(0,ke(b),b)};
g.Y=function(a,b,c){return null==b?this.Hb?this.Pb:c:null==this.root?c:this.root.Be(0,ke(b),b,c)};g.ve=function(a,b){a:if(this.Xa)if(Ki(b))a=Xj(this,Li.C?Li.C(b):Li.call(null,b),Mi.C?Mi.C(b):Mi.call(null,b));else if(zf(b))a=Xj(this,b.C?b.C(0):b.call(null,0),b.C?b.C(1):b.call(null,1));else for(a=G(b),b=this;;){var c=H(a);if(r(c))a=J(a),b=Xj(b,Li.C?Li.C(c):Li.call(null,c),Mi.C?Mi.C(c):Mi.call(null,c));else{a=b;break a}}else throw Error("conj! after persistent");return a};
g.Fe=function(){if(this.Xa){this.Xa=null;var a=new Uj(null,this.count,this.root,this.Hb,this.Pb,null)}else throw Error("persistent! called twice");return a};g.Ye=function(a,b,c){return Xj(this,b,c)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};
g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};function Yj(a,b,c){for(var d=b;;)if(null!=a)b=c?a.left:a.right,d=hf.B(d,a),a=b;else return d}function Zj(a,b,c,d,e){this.meta=a;this.stack=b;this.De=c;this.ca=d;this.J=e;this.O=32374990;this.T=0}g=Zj.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.meta};g.Va=function(){var a=H(this.stack);a=Yj(this.De?a.right:a.left,J(this.stack),this.De);return null==a?null:new Zj(null,a,this.De,this.ca-1,null)};
g.la=function(){return 0>this.ca?K(J(this))+1:this.ca};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){var a=this.stack;return null==a?null:bd(a)};g.xb=function(){var a=H(this.stack);a=Yj(this.De?a.right:a.left,J(this.stack),this.De);return null!=a?new Zj(null,a,this.De,this.ca-1,null):ve};g.ka=function(){return this};
g.ha=function(a,b){return b===this.meta?this:new Zj(b,this.stack,this.De,this.ca,this.J)};g.na=function(a,b){return Ze(b,this)};Zj.prototype[rc]=function(){return ye(this)};function ak(a,b,c){return new Zj(null,Yj(a,null,b),b,c,null)}
function bk(a,b,c,d){return c instanceof ck?c.left instanceof ck?new ck(c.key,c.val,c.left.be(),new ek(a,b,c.right,d,null),null):c.right instanceof ck?new ck(c.right.key,c.right.val,new ek(c.key,c.val,c.left,c.right.left,null),new ek(a,b,c.right.right,d,null),null):new ek(a,b,c,d,null):new ek(a,b,c,d,null)}
function fk(a,b,c,d){return d instanceof ck?d.right instanceof ck?new ck(d.key,d.val,new ek(a,b,c,d.left,null),d.right.be(),null):d.left instanceof ck?new ck(d.left.key,d.left.val,new ek(a,b,c,d.left.left,null),new ek(d.key,d.val,d.left.right,d.right,null),null):new ek(a,b,c,d,null):new ek(a,b,c,d,null)}
function gk(a,b,c,d){if(c instanceof ck)return new ck(a,b,c.be(),d,null);if(d instanceof ek)return fk(a,b,c,d.Uf());if(d instanceof ck&&d.left instanceof ek)return new ck(d.left.key,d.left.val,new ek(a,b,c,d.left.left,null),fk(d.key,d.val,d.left.right,d.right.Uf()),null);throw Error("red-black tree invariant violation");}
function hk(a,b,c,d){if(d instanceof ck)return new ck(a,b,c,d.be(),null);if(c instanceof ek)return bk(a,b,c.Uf(),d);if(c instanceof ck&&c.right instanceof ek)return new ck(c.right.key,c.right.val,bk(c.key,c.val,c.left.Uf(),c.right.left),new ek(a,b,c.right.right,d,null),null);throw Error("red-black tree invariant violation");}
var ik=function ik(a,b,c){var e=null!=a.left?function(){var k=a.left;return ik.D?ik.D(k,b,c):ik.call(null,k,b,c)}():c;if(He(e))return e;var f=function(){var k=a.key,m=a.val;return b.D?b.D(e,k,m):b.call(null,e,k,m)}();if(He(f))return f;if(null!=a.right){var h=a.right;return ik.D?ik.D(h,b,f):ik.call(null,h,b,f)}return f};function ek(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.O=166619935;this.T=0}g=ek.prototype;
g.de=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();g.ni=function(a){return a.ri(this)};g.Uf=function(){return new ck(this.key,this.val,this.left,this.right,null)};g.be=function(){return this};g.mi=function(a){return a.pi(this)};g.replace=function(a,b,c,d){return new ek(a,b,c,d,null)};
g.pi=function(a){return new ek(a.key,a.val,this,a.right,null)};g.ri=function(a){return new ek(a.key,a.val,a.left,this,null)};g.Ne=function(a,b){return ik(this,a,b)};g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};
g.Cd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.bh=function(){return this.key};g.dh=function(){return this.val};g.ee=function(){return this.val};g.fe=function(){return new X(null,1,5,Z,[this.key],null)};g.Xc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};
g.jb=function(a,b){return Ke(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};g.ha=function(a,b){return jd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};g.B=function(a,b){return this.qb(null,a,b)};ek.prototype[rc]=function(){return ye(this)};
function ck(a,b,c,d,e){this.key=a;this.val=b;this.left=c;this.right=d;this.J=e;this.O=166619935;this.T=0}g=ck.prototype;g.de=function(a,b){switch(b){case 0:return new Y(0,this.key,null);case 1:return new Y(1,this.val,null);default:return null}};
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();g.ni=function(a){return new ck(this.key,this.val,this.left,a,null)};g.Uf=function(){throw Error("red-black tree invariant violation");};g.be=function(){return new ek(this.key,this.val,this.left,this.right,null)};
g.mi=function(a){return new ck(this.key,this.val,a,this.right,null)};g.replace=function(a,b,c,d){return new ck(a,b,c,d,null)};g.pi=function(a){return this.left instanceof ck?new ck(this.key,this.val,this.left.be(),new ek(a.key,a.val,this.right,a.right,null),null):this.right instanceof ck?new ck(this.right.key,this.right.val,new ek(this.key,this.val,this.left,this.right.left,null),new ek(a.key,a.val,this.right.right,a.right,null),null):new ek(a.key,a.val,this,a.right,null)};
g.ri=function(a){return this.right instanceof ck?new ck(this.key,this.val,new ek(a.key,a.val,a.left,this.left,null),this.right.be(),null):this.left instanceof ck?new ck(this.left.key,this.left.val,new ek(a.key,a.val,a.left,this.left.left,null),new ek(this.key,this.val,this.left.right,this.right,null),null):new ek(a.key,a.val,a.left,this,null)};g.Ne=function(a,b){return ik(this,a,b)};g.oa=function(a,b){return this.qb(null,b,null)};g.Y=function(a,b,c){return this.qb(null,b,c)};
g.Da=function(a,b){if(0===b)return this.key;if(1===b)return this.val;throw Error("Index out of bounds");};g.qb=function(a,b,c){return 0===b?this.key:1===b?this.val:c};g.Cd=function(a,b,c){return(new X(null,2,5,Z,[this.key,this.val],null)).Cd(null,b,c)};g.ga=function(){return null};g.la=function(){return 2};g.bh=function(){return this.key};g.dh=function(){return this.val};g.ee=function(){return this.val};g.fe=function(){return new X(null,1,5,Z,[this.key],null)};
g.Xc=function(){return new se([this.val,this.key],0,null)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return null};g.jb=function(a,b){return Ke(this,b)};g.kb=function(a,b,c){return Me(this,b,c)};g.ea=function(a,b,c){return Q.D(new X(null,2,5,Z,[this.key,this.val],null),b,c)};g.ra=function(a,b){return 0===b||1===b};g.ka=function(){return new se([this.key,this.val],0,null)};
g.ha=function(a,b){return jd(new X(null,2,5,Z,[this.key,this.val],null),b)};g.na=function(a,b){return new X(null,3,5,Z,[this.key,this.val,b],null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.Da(null,a)};
g.B=function(a,b){return this.qb(null,a,b)};ck.prototype[rc]=function(){return ye(this)};
var jk=function jk(a,b,c,d,e){if(null==b)return new ck(c,d,null,null,null);var h=function(){var k=b.key;return a.B?a.B(c,k):a.call(null,c,k)}();if(0===h)return e[0]=b,null;if(0>h)return h=function(){var k=b.left;return jk.ma?jk.ma(a,k,c,d,e):jk.call(null,a,k,c,d,e)}(),null!=h?b.mi(h):null;h=function(){var k=b.right;return jk.ma?jk.ma(a,k,c,d,e):jk.call(null,a,k,c,d,e)}();return null!=h?b.ni(h):null},kk=function kk(a,b){if(null==a)return b;if(null==b)return a;if(a instanceof ck){if(b instanceof ck){var d=
function(){var e=a.right,f=b.left;return kk.B?kk.B(e,f):kk.call(null,e,f)}();return d instanceof ck?new ck(d.key,d.val,new ck(a.key,a.val,a.left,d.left,null),new ck(b.key,b.val,d.right,b.right,null),null):new ck(a.key,a.val,a.left,new ck(b.key,b.val,d,b.right,null),null)}return new ck(a.key,a.val,a.left,function(){var e=a.right;return kk.B?kk.B(e,b):kk.call(null,e,b)}(),null)}if(b instanceof ck)return new ck(b.key,b.val,function(){var e=b.left;return kk.B?kk.B(a,e):kk.call(null,a,e)}(),b.right,null);
d=function(){var e=a.right,f=b.left;return kk.B?kk.B(e,f):kk.call(null,e,f)}();return d instanceof ck?new ck(d.key,d.val,new ek(a.key,a.val,a.left,d.left,null),new ek(b.key,b.val,d.right,b.right,null),null):gk(a.key,a.val,a.left,new ek(b.key,b.val,d,b.right,null))},lk=function lk(a,b,c,d){if(null!=b){var f=function(){var h=b.key;return a.B?a.B(c,h):a.call(null,c,h)}();if(0===f)return d[0]=b,kk(b.left,b.right);if(0>f)return f=function(){var h=b.left;return lk.R?lk.R(a,h,c,d):lk.call(null,a,h,c,d)}(),
null!=f||null!=d[0]?b.left instanceof ek?gk(b.key,b.val,f,b.right):new ck(b.key,b.val,f,b.right,null):null;f=function(){var h=b.right;return lk.R?lk.R(a,h,c,d):lk.call(null,a,h,c,d)}();return null!=f||null!=d[0]?b.right instanceof ek?hk(b.key,b.val,b.left,f):new ck(b.key,b.val,b.left,f,null):null}return null},mk=function mk(a,b,c,d){var f=b.key,h=a.B?a.B(c,f):a.call(null,c,f);return 0===h?b.replace(f,d,b.left,b.right):0>h?b.replace(f,b.val,function(){var k=b.left;return mk.R?mk.R(a,k,c,d):mk.call(null,
a,k,c,d)}(),b.right):b.replace(f,b.val,b.left,function(){var k=b.right;return mk.R?mk.R(a,k,c,d):mk.call(null,a,k,c,d)}())};function nk(a,b,c,d,e){this.Yc=a;this.tree=b;this.ca=c;this.meta=d;this.J=e;this.O=418776847;this.T=8192}g=nk.prototype;g.de=function(a,b){return ok(this,b)};
g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};g.get=function(a,b){return this.Y(null,a,b)};g.entries=function(){return new ej(G(G(this)))};g.toString=function(){return $d(this)};g.keys=function(){return ye(jj.C?jj.C(this):jj.call(null,this))};
g.values=function(){return ye(kj.C?kj.C(this):kj.call(null,this))};g.equiv=function(a){return this.da(null,a)};function ok(a,b){for(var c=a.tree;;)if(null!=c){var d=c.key;d=a.Yc.B?a.Yc.B(b,d):a.Yc.call(null,b,d);if(0===d)return c;c=0>d?c.left:c.right}else return null}g.has=function(a){return S(this,a)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=ok(this,b);return null!=a?a.val:c};g.xa=function(a,b,c){return null!=this.tree?Ie(ik(this.tree,b,c)):c};g.ga=function(){return this.meta};
g.pa=function(){return new nk(this.Yc,this.tree,this.ca,this.meta,this.J)};g.la=function(){return this.ca};g.Xc=function(){return 0<this.ca?ak(this.tree,!1,this.ca):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};g.da=function(a,b){return cj(this,b)};g.Pa=function(){return new nk(this.Yc,null,0,this.meta,0)};
g.za=function(a,b){a=[null];b=lk(this.Yc,this.tree,b,a);return null==b?null==Te(a,0)?this:new nk(this.Yc,null,0,this.meta,null):new nk(this.Yc,b.be(),this.ca-1,this.meta,null)};g.ea=function(a,b,c){a=[null];var d=jk(this.Yc,this.tree,b,c,a);return null==d?(a=Te(a,0),F.B(c,a.val)?this:new nk(this.Yc,mk(this.Yc,this.tree,b,c),this.ca,this.meta,null)):new nk(this.Yc,d.be(),this.ca+1,this.meta,null)};g.ra=function(a,b){return null!=ok(this,b)};
g.ka=function(){return 0<this.ca?ak(this.tree,!0,this.ca):null};g.ha=function(a,b){return b===this.meta?this:new nk(this.Yc,this.tree,this.ca,b,this.J)};g.na=function(a,b){if(zf(b))return this.ea(null,x(b,0),x(b,1));a=this;for(b=G(b);;){if(null==b)return a;var c=H(b);if(zf(c))a=Uc(a,x(c,0),x(c,1)),b=J(b);else throw Error("conj on a map takes map entries or seqables of map entries");}};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var pk=new nk(Kf,null,0,null,De);nk.prototype[rc]=function(){return ye(this)};
var qk=function qk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return qk.I(c)};qk.I=function(a){a=G(a);for(var b=Hd(nj);;)if(a){var c=J(a);if(null==c)throw Error(["No value supplied for key: ",t.C(H(a))].join(""));var d=J(c);b=Ng(b,H(a),H(c));a=d}else return Jd(b)};qk.aa=0;qk.fa=function(a){return this.I(G(a))};
var rk=function rk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return rk.I(c)};rk.I=function(a){a=a instanceof se&&0===a.i?a.K:wc(a);if(!sh(a.length))throw Error(["No value supplied for key: ",t.C(gf(a))].join(""));return nf(a)};rk.aa=0;rk.fa=function(a){return this.I(G(a))};
function sk(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;a:for(b=G(b),d=pk;;)if(b)c=J(J(b)),d=Q.D(d,H(b),cf(b)),b=c;else break a;return d}function tk(a,b){this.Oa=a;this.md=b;this.O=32374988;this.T=0}g=tk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.md};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.wf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new tk(a,null)};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return this.Oa.nb(null).key};g.xb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.wf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new tk(a,null):ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.md?this:new tk(this.Oa,b)};g.na=function(a,b){return Ze(b,this)};
tk.prototype[rc]=function(){return ye(this)};function jj(a){return(a=G(a))?new tk(a,null):null}function Li(a){return Yc(a)}function uk(a,b){this.Oa=a;this.md=b;this.O=32374988;this.T=0}g=uk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.ga=function(){return this.md};g.Va=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.wf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null==a?null:new uk(a,null)};g.ja=function(){return Ae(this)};
g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){return bf(b,c,this)};g.nb=function(){return this.Oa.nb(null).val};g.xb=function(){var a=(null!=this.Oa?this.Oa.O&128||l===this.Oa.wf||(this.Oa.O?0:nc(Nc,this.Oa)):nc(Nc,this.Oa))?this.Oa.Va(null):J(this.Oa);return null!=a?new uk(a,null):ve};g.ka=function(){return this};g.ha=function(a,b){return b===this.md?this:new uk(this.Oa,b)};g.na=function(a,b){return Ze(b,this)};
uk.prototype[rc]=function(){return ye(this)};function kj(a){return(a=G(a))?new uk(a,null):null}function Mi(a){return Zc(a)}var vk=function vk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return vk.I(c)};vk.I=function(a){return r(rh(Tf,a))?w.B(function(b,c){return hf.B(r(b)?b:W,c)},a):null};vk.aa=0;vk.fa=function(a){return this.I(G(a))};
var wk=function wk(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return wk.I(arguments[0],c)};wk.I=function(a,b){if(r(rh(Tf,b))){var c=function(d,e){var f=Yc(e),h=Zc(e);if(S(d,f)){e=Q.D;var k=B.B(d,f);h=a.B?a.B(k,h):a.call(null,k,h);d=e.call(Q,d,f,h)}else d=Q.D(d,f,h);return d};return w.B(function(d,e){return w.D(c,r(d)?d:W,G(e))},b)}return null};wk.aa=1;wk.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function xk(a,b){var c=W;for(b=G(b);;)if(b){var d=H(b),e=B.D(a,d,yk);c=$g.B(e,yk)?Q.D(c,d,e):c;b=J(b)}else return jd(c,rf(a))}function zk(a){this.iter=a}zk.prototype.Ua=function(){return this.iter.Ua()};zk.prototype.next=function(){if(this.iter.Ua())return this.iter.next().key;throw Error("No such element");};zk.prototype.remove=function(){return Error("Unsupported operation")};function Ak(a,b,c){this.meta=a;this.Xd=b;this.J=c;this.O=15077647;this.T=139268}g=Ak.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(G(this))};g.entries=function(){return new fj(G(G(this)))};g.values=function(){return ye(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=Vc(this.Xd,b);return r(a)?Yc(a):c};g.qa=function(){return new zk(Yd(this.Xd))};g.ga=function(){return this.meta};g.pa=function(){return new Ak(this.meta,this.Xd,this.J)};g.la=function(){return Dc(this.Xd)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(a=vf(b))if(a=K(this)===K(b))try{return Sf(function(c,d){return(c=S(b,d))?c:Ge(!1)},!0,this.Xd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.ue=function(){return new Bk(Hd(this.Xd))};g.Pa=function(){return jd(Ck,this.meta)};g.lg=function(a,b){return new Ak(this.meta,Xc(this.Xd,b),null)};g.ka=function(){return jj(this.Xd)};g.ha=function(a,b){return b===this.meta?this:new Ak(b,this.Xd,this.J)};
g.na=function(a,b){return new Ak(this.meta,Q.D(this.Xd,b,null),null)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};var Ck=new Ak(null,W,De);
function Jf(a){for(var b=a.length,c=Hd(Ck),d=0;;)if(d<b)Id(c,a[d]),d+=1;else break;return Jd(c)}Ak.prototype[rc]=function(){return ye(this)};function Bk(a){this.Qe=a;this.T=136;this.O=259}g=Bk.prototype;g.ve=function(a,b){this.Qe=Kd(this.Qe,b,null);return this};g.Fe=function(){return new Ak(null,Jd(this.Qe),null)};g.la=function(){return K(this.Qe)};g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return Qc(this.Qe,b,Cf)===Cf?c:b};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return Qc(this.Qe,a,Cf)===Cf?null:a};g.B=function(a,b){return Qc(this.Qe,a,Cf)===Cf?b:a};function Dk(a,b,c){this.meta=a;this.Nd=b;this.J=c;this.O=417730831;this.T=8192}g=Dk.prototype;g.toString=function(){return $d(this)};
g.equiv=function(a){return this.da(null,a)};g.keys=function(){return ye(G(this))};g.entries=function(){return new fj(G(G(this)))};g.values=function(){return ye(G(this))};g.has=function(a){return S(this,a)};g.forEach=function(a){for(var b=G(this),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null);f=N(f,1,null);a.B?a.B(f,h):a.call(null,f,h);e+=1}else if(b=G(b))Af(b)?(c=Pd(b),b=Qd(b),h=c,d=K(c),c=h):(c=H(b),h=N(c,0,null),f=N(c,1,null),a.B?a.B(f,h):a.call(null,f,h),b=J(b),c=null,d=0),e=0;else return null};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){a=ok(this.Nd,b);return null!=a?a.key:c};g.ga=function(){return this.meta};g.pa=function(){return new Dk(this.meta,this.Nd,this.J)};g.la=function(){return K(this.Nd)};g.Xc=function(){return 0<K(this.Nd)?Qh.B(Li,xd(this.Nd)):null};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ce(this)};
g.da=function(a,b){if(a=vf(b))if(a=K(this)===K(b))try{return Sf(function(c,d){return(c=S(b,d))?c:Ge(!1)},!0,this.Nd)}catch(c){if(c instanceof Error)return!1;throw c;}else return a;else return a};g.Pa=function(){return new Dk(this.meta,Fc(this.Nd),0)};g.lg=function(a,b){return new Dk(this.meta,R.B(this.Nd,b),null)};g.ka=function(){return jj(this.Nd)};g.ha=function(a,b){return b===this.meta?this:new Dk(b,this.Nd,this.J)};g.na=function(a,b){return new Dk(this.meta,Q.D(this.Nd,b,null),null)};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};g.B=function(a,b){return this.Y(null,a,b)};Dk.prototype[rc]=function(){return ye(this)};
function Ek(a){if(vf(a))return qf(a,null);a=G(a);if(null==a)return Ck;if(a instanceof se&&0===a.i)return Jf(a.K);for(var b=Hd(Ck);;)if(null!=a){var c=J(a);b=Id(b,Lc(a));a=c}else return Jd(b)}function Fk(a){return function e(c,d){return new wg(null,function(){var f;a:{var h=c;for(f=d;;){var k=h;h=N(k,0,null);if(k=G(k))if(S(f,h))h=ue(k);else{f=Ze(h,e(ue(k),hf.B(f,h)));break a}else{f=null;break a}}}return f},null,null)}(a,Ck)}
function Gk(a){for(var b=jf;;)if(J(a))b=hf.B(b,H(a)),a=J(a);else return G(b)}function vg(a){if(null!=a&&(a.T&4096||l===a.eh))return a.uf(null);if("string"===typeof a)return a;throw Error(["Doesn't support name: ",t.C(a)].join(""));}function Hk(a,b){var c=Hd(W);a=G(a);for(b=G(b);;)if(a&&b)c=Ng(c,H(a),H(b)),a=J(a),b=J(b);else return Jd(c)}
var Ik=function Ik(a){switch(arguments.length){case 2:return Ik.B(arguments[0],arguments[1]);case 3:return Ik.D(arguments[0],arguments[1],arguments[2]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(3),0,null);return Ik.I(arguments[0],arguments[1],arguments[2],c)}};Ik.B=function(a,b){return b};Ik.D=function(a,b,c){return(a.C?a.C(b):a.call(null,b))>(a.C?a.C(c):a.call(null,c))?b:c};
Ik.I=function(a,b,c,d){return w.D(function(e,f){return Ik.D(a,e,f)},Ik.D(a,b,c),d)};Ik.fa=function(a){var b=H(a),c=J(a);a=H(c);var d=J(c);c=H(d);d=J(d);return this.I(b,a,c,d)};Ik.aa=3;function Lk(a,b){return new wg(null,function(){var c=G(b);if(c){var d=H(c);d=a.C?a.C(d):a.call(null,d);c=r(d)?Ze(H(c),Lk(a,ue(c))):null}else c=null;return c},null,null)}function Mk(a,b,c){this.start=a;this.step=b;this.count=c;this.O=82;this.T=0}g=Mk.prototype;g.la=function(){return this.count};g.nb=function(){return this.start};
g.Da=function(a,b){return this.start+b*this.step};g.qb=function(a,b,c){return 0<=b&&b<this.count?this.start+b*this.step:c};g.rf=function(){if(1>=this.count)throw Error("-drop-first of empty chunk");return new Mk(this.start+this.step,this.step,this.count-1)};function Nk(a,b,c){this.i=a;this.end=b;this.step=c}Nk.prototype.Ua=function(){return 0<this.step?this.i<this.end:this.i>this.end};Nk.prototype.next=function(){var a=this.i;this.i+=this.step;return a};
function Ok(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.zd=f;this.J=h;this.O=32375006;this.T=140800}g=Ok.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.If=function(){if(null==this.chunk){var a=this.la(null);32<a?(this.zd=new Ok(null,this.start+32*this.step,this.end,this.step,null,null,null),this.chunk=new Mk(this.start,this.step,32)):this.chunk=new Mk(this.start,this.step,a)}};g.Da=function(a,b){if(0<=b&&b<this.la(null))return this.start+b*this.step;if(0<=b&&this.start>this.end&&0===this.step)return this.start;throw Error("Index out of bounds");};
g.qb=function(a,b,c){return 0<=b&&b<this.la(null)?this.start+b*this.step:0<=b&&this.start>this.end&&0===this.step?this.start:c};g.qa=function(){return new Nk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Ok(this.meta,this.start,this.end,this.step,this.chunk,this.zd,this.J)};
g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Ok(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Ok(null,this.start+this.step,this.end,this.step,null,null,null):null};g.la=function(){return Math.ceil((this.end-this.start)/this.step)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return Ke(this,b)};
g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(He(c))return y(c);a+=this.step}else return c};g.nb=function(){return this.start};g.xb=function(){var a=this.Va(null);return null==a?ve:a};g.ka=function(){return this};g.We=function(){this.If();return this.chunk};g.ce=function(){this.If();return null==this.zd?ve:this.zd};g.ha=function(a,b){return b===this.meta?this:new Ok(b,this.start,this.end,this.step,this.chunk,this.zd,this.J)};
g.na=function(a,b){return Ze(b,this)};g.Ve=function(){return G(this.ce(null))};Ok.prototype[rc]=function(){return ye(this)};function Pk(a,b,c,d,e,f,h){this.meta=a;this.start=b;this.end=c;this.step=d;this.chunk=e;this.zd=f;this.J=h;this.T=140800;this.O=32374988}g=Pk.prototype;g.toString=function(){return $d(this)};g.equiv=function(a){return this.da(null,a)};
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();
g.If=function(){if(null==this.chunk){var a=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null];a:{var b=0;for(var c=this.start;;)if(32>b){if(a[b]=c,b+=1,c+=this.step,!(0<this.step?c<this.end:c>this.end)){b=this.chunk=new zg(a,0,b);break a}}else{b=c;break a}}null==this.chunk&&(this.chunk=new zg(a,0,32),(0<this.step?b<this.end:b>this.end)&&(this.zd=new Pk(null,b,this.end,this.step,null,null,
null)))}};g.qa=function(){return new Nk(this.start,this.end,this.step)};g.ga=function(){return this.meta};g.pa=function(){return new Pk(this.meta,this.start,this.end,this.step,this.chunk,this.zd,this.J)};g.Va=function(){return 0<this.step?this.start+this.step<this.end?new Pk(null,this.start+this.step,this.end,this.step,null,null,null):null:this.start+this.step>this.end?new Pk(null,this.start+this.step,this.end,this.step,null,null,null):null};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=Ae(this)};g.da=function(a,b){return Ye(this,b)};g.Pa=function(){return ve};g.jb=function(a,b){return $e(b,this)};g.kb=function(a,b,c){for(a=this.start;;)if(0<this.step?a<this.end:a>this.end){c=b.B?b.B(c,a):b.call(null,c,a);if(He(c))return y(c);a+=this.step}else return c};g.nb=function(){return this.start};g.xb=function(){var a=this.Va(null);return null==a?ve:a};g.ka=function(){return this};g.We=function(){this.If();return this.chunk};
g.ce=function(){this.If();return null==this.zd?ve:this.zd};g.ha=function(a,b){return b===this.meta?this:new Pk(b,this.start,this.end,this.step,this.chunk,this.zd,this.J)};g.na=function(a,b){return Ze(b,this)};g.Ve=function(){return G(this.ce(null))};Pk.prototype[rc]=function(){return ye(this)};
var Qk=function Qk(a){switch(arguments.length){case 0:return Qk.P();case 1:return Qk.C(arguments[0]);case 2:return Qk.B(arguments[0],arguments[1]);case 3:return Qk.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Qk.P=function(){return Qk.D(0,Number.MAX_VALUE,1)};Qk.C=function(a){return Qk.D(0,a,1)};Qk.B=function(a,b){return Qk.D(a,b,1)};
Qk.D=function(a,b,c){return 0<c?b<=a?ve:Hf(a)&&Hf(b)&&Hf(c)?new Ok(null,a,b,c,null,null,null):new Pk(null,a,b,c,null,null,null):0>c?b>=a?ve:Hf(a)&&Hf(b)&&Hf(c)?new Ok(null,a,b,c,null,null,null):new Pk(null,a,b,c,null,null,null):b===a?ve:Wh(a)};Qk.aa=3;function Rk(a,b){return new wg(null,function(){var c=G(b);return c?Ze(H(c),Rk(a,Sh(a,c))):null},null,null)}function Sk(a,b){return new X(null,2,5,Z,[Lk(a,b),Uh(a,b)],null)}
function Tk(a,b){return new wg(null,function(){var c=G(b);if(c){var d=H(c),e=a.C?a.C(d):a.call(null,d),f=Ze(d,Lk(function(h){return F.B(e,a.C?a.C(h):a.call(null,h))},J(c)));return Ze(f,Tk(a,new wg(null,function(){return Sh(K(f),c)},null,null)))}return null},null,null)}function Uk(a){return Jd(w.D(function(b,c){return Ng(b,c,B.D(b,c,0)+1)},Hd(W),a))}
function Vk(a,b){return function(){function c(m,n,p){return new X(null,2,5,Z,[a.D?a.D(m,n,p):a.call(null,m,n,p),b.D?b.D(m,n,p):b.call(null,m,n,p)],null)}function d(m,n){return new X(null,2,5,Z,[a.B?a.B(m,n):a.call(null,m,n),b.B?b.B(m,n):b.call(null,m,n)],null)}function e(m){return new X(null,2,5,Z,[a.C?a.C(m):a.call(null,m),b.C?b.C(m):b.call(null,m)],null)}function f(){return new X(null,2,5,Z,[a.P?a.P():a.call(null),b.P?b.P():b.call(null)],null)}var h=null,k=function(){function m(p,u,v,z){var C=null;
if(3<arguments.length){C=0;for(var E=Array(arguments.length-3);C<E.length;)E[C]=arguments[C+3],++C;C=new se(E,0,null)}return n.call(this,p,u,v,C)}function n(p,u,v,z){return new X(null,2,5,Z,[Xg(a,p,u,v,z),Xg(b,p,u,v,z)],null)}m.aa=3;m.fa=function(p){var u=H(p);p=J(p);var v=H(p);p=J(p);var z=H(p);p=ue(p);return n(u,v,z,p)};m.I=n;return m}();h=function(m,n,p,u){switch(arguments.length){case 0:return f.call(this);case 1:return e.call(this,m);case 2:return d.call(this,m,n);case 3:return c.call(this,m,
n,p);default:var v=null;if(3<arguments.length){v=0;for(var z=Array(arguments.length-3);v<z.length;)z[v]=arguments[v+3],++v;v=new se(z,0,null)}return k.I(m,n,p,v)}throw Error("Invalid arity: "+arguments.length);};h.aa=3;h.fa=k.fa;h.P=f;h.C=e;h.B=d;h.D=c;h.I=k.I;return h}()}function Wk(a){a:for(var b=a;;)if(b=G(b))b=J(b);else break a;return a}
function Xk(a,b){if("string"===typeof b)return a=a.exec(b),null!=a&&F.B(a[0],b)?1===a.length?a[0]:Ji(a):null;throw new TypeError("re-matches must match against a string.");}function Yk(a,b){if("string"===typeof b)return a=a.exec(b),null==a?null:1===a.length?a[0]:Ji(a);throw new TypeError("re-find must match against a string.");}
var Zk=function Zk(a,b){var d=a.exec(b);if(null==d)return null;var e=d[0],f=1===d.length?e:Ji(d);return Ze(f,new wg(null,function(){var h=e.length;h=d.index+(1>h?1:h);return h<=b.length?(h=lg.B(b,h),Zk.B?Zk.B(a,h):Zk.call(null,a,h)):null},null,null))};function $k(a,b){if("string"===typeof b)return Zk(a,b);throw new TypeError("re-seq must match against a string.");}
function bl(a,b,c,d,e,f,h){var k=Yb;Yb=null==Yb?null:Yb-1;try{if(null!=Yb&&0>Yb)return yd(a,"#");yd(a,c);if(0===dc.C(f))G(h)&&yd(a,function(){var z=cl.C(f);return r(z)?z:"..."}());else{if(G(h)){var m=H(h);b.D?b.D(m,a,f):b.call(null,m,a,f)}for(var n=J(h),p=dc.C(f)-1;;)if(!n||null!=p&&0===p){G(n)&&0===p&&(yd(a,d),yd(a,function(){var z=cl.C(f);return r(z)?z:"..."}()));break}else{yd(a,d);var u=H(n);c=a;h=f;b.D?b.D(u,c,h):b.call(null,u,c,h);var v=J(n);c=p-1;n=v;p=c}}return yd(a,e)}finally{Yb=k}}
function dl(a,b){b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);yd(a,f);e+=1}else if(b=G(b))c=b,Af(c)?(b=Pd(c),d=Qd(c),c=b,f=K(b),b=d,d=f):(f=H(c),yd(a,f),b=J(c),c=null,d=0),e=0;else return null}function el(a){if(null==Ub)throw Error("No *print-fn* fn set for evaluation environment");Ub.call(null,a);return null}var fl={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};
function gl(a){return['"',t.C(a.replace(RegExp('[\\\\"\b\f\n\r\t]',"g"),function(b){return fl[b]})),'"'].join("")}function hl(a,b){return(a=Ff(B.B(a,bc)))?(a=null!=b?b.O&131072||l===b.tf?!0:!1:!1)?null!=rf(b):a:a}
function il(a,b,c){if(null==a)return yd(b,"nil");if(hl(c,a)){yd(b,"^");var d=rf(a);jl.D?jl.D(d,b,c):jl.call(null,d,b,c);yd(b," ")}if(a.Wa)return a.Za(b);if(null!=a?a.O&2147483648||l===a.Na||(a.O?0:nc(Ad,a)):nc(Ad,a))return Bd(a,b,c);if(!0===a||!1===a)return yd(b,t.C(a));if("number"===typeof a)return yd(b,isNaN(a)?"##NaN":a===Number.POSITIVE_INFINITY?"##Inf":a===Number.NEGATIVE_INFINITY?"##-Inf":t.C(a));if(null!=a&&a.constructor===Object)return yd(b,"#js "),d=Qh.B(function(f){return new Y(null!=Xk(/[A-Za-z_\*\+\?!\-'][\w\*\+\?!\-']*/,
f)?ug.C(f):f,a[f],null)},Va(a)),kl.R?kl.R(d,jl,b,c):kl.call(null,d,jl,b,c);if(gc(a))return bl(b,jl,"#js ["," ","]",c,a);if("string"===typeof a)return r(ac.C(c))?yd(b,gl(a)):yd(b,a);if("function"===typeof a){var e=a.name;c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Function":e;return dl(b,M(["#object[",c,r(!1)?[' "',t.C(a),'"'].join(""):"","]"]))}if(a instanceof Date)return c=function(f,h){for(f=t.C(f);;)if(f.length<h)f=["0",f].join("");else return f},dl(b,M(['#inst "',c(a.getUTCFullYear(),4),
"-",c(a.getUTCMonth()+1,2),"-",c(a.getUTCDate(),2),"T",c(a.getUTCHours(),2),":",c(a.getUTCMinutes(),2),":",c(a.getUTCSeconds(),2),".",c(a.getUTCMilliseconds(),3),"-",'00:00"']));if(a instanceof RegExp)return dl(b,M(['#"',a.source,'"']));if(xc(a))return dl(b,M(["#object[",a.toString(),"]"]));if(r(function(){var f=null==a?null:a.constructor;return null==f?null:f.Sa}()))return dl(b,M(["#object[",a.constructor.Sa.replace(RegExp("/","g"),"."),"]"]));e=function(){var f=null==a?null:a.constructor;return null==
f?null:f.name}();c=r(function(){var f=null==e;return f?f:Qa(e)}())?"Object":e;return null==a.constructor?dl(b,M(["#object[",c,"]"])):dl(b,M(["#object[",c," ",t.C(a),"]"]))}function jl(a,b,c){var d=ll.C(c);return r(d)?(c=Q.D(c,ml,il),d.D?d.D(a,b,c):d.call(null,a,b,c)):il(a,b,c)}
function nl(a,b){var c=new Pb,d=new Zd(c);a:{jl(H(a),d,b);a=G(J(a));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);yd(d," ");jl(k,d,b);h+=1}else if(a=G(a))e=a,Af(e)?(a=Pd(e),f=Qd(e),e=a,k=K(a),a=f,f=k):(k=H(e),yd(d," "),jl(k,d,b),a=J(e),e=null,f=0),h=0;else break a}d.Td(null);return c}function ol(a,b){return tf(a)?"":t.C(nl(a,b))}function pl(a,b){if(tf(a))return"\n";a=nl(a,b);a.append("\n");return t.C(a)}function ql(){var a=Zb();el("\n");return B.B(a,$b),null}
var rl=function rl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return rl.I(c)};rl.I=function(a){return ol(a,Zb())};rl.aa=0;rl.fa=function(a){return this.I(G(a))};var sl=function sl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return sl.I(c)};sl.I=function(a){return pl(a,Zb())};sl.aa=0;sl.fa=function(a){return this.I(G(a))};
var tl=function tl(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return tl.I(c)};tl.I=function(a){return ol(a,Q.D(Zb(),ac,!1))};tl.aa=0;tl.fa=function(a){return this.I(G(a))};var ul=function ul(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return ul.I(c)};ul.I=function(a){return pl(a,Q.D(Zb(),ac,!1))};ul.aa=0;ul.fa=function(a){return this.I(G(a))};
function vl(a){return a instanceof A?oe.B(null,vg(a)):ug.B(null,vg(a))}function wl(a){if(r(!1)){var b=G(a),c=G(b),d=H(c);J(c);N(d,0,null);N(d,1,null);c=lf(a);for(a=null;;){d=a;b=G(b);a=H(b);var e=J(b),f=a;a=N(f,0,null);b=N(f,1,null);if(r(f))if(a instanceof D||a instanceof A)if(r(d))if(F.B(d,sg(a)))c=Q.D(c,vl(a),b),a=d,b=e;else return null;else if(d=sg(a),r(d))c=Q.D(c,vl(a),b),a=d,b=e;else return null;else return null;else return new X(null,2,5,Z,[d,c],null)}}else return null}
function xl(a,b,c,d,e){return bl(d,function(f,h,k){var m=Yc(f);c.D?c.D(m,h,k):c.call(null,m,h,k);yd(h," ");f=Zc(f);return c.D?c.D(f,h,k):c.call(null,f,h,k)},[t.C(a),"{"].join(""),", ","}",e,G(b))}function kl(a,b,c,d){var e=xf(a)?wl(a):null,f=N(e,0,null);e=N(e,1,null);return r(f)?xl(["#:",t.C(f)].join(""),e,b,c,d):xl(null,a,b,c,d)}Ih.prototype.Na=l;Ih.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Volatile ");jl(new q(null,1,[yl,this.state],null),b,c);return yd(b,"]")};pe.prototype.Na=l;
pe.prototype.ia=function(a,b,c){yd(b,"#'");return jl(this.Pe,b,c)};se.prototype.Na=l;se.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};wg.prototype.Na=l;wg.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Y.prototype.Na=l;Y.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};Zj.prototype.Na=l;Zj.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Pj.prototype.Na=l;Pj.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};
ek.prototype.Na=l;ek.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};hj.prototype.Na=l;hj.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};ze.prototype.Na=l;ze.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Dk.prototype.Na=l;Dk.prototype.ia=function(a,b,c){return bl(b,jl,"#{"," ","}",c,this)};Pi.prototype.Na=l;Pi.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};qg.prototype.Na=l;
qg.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Xe.prototype.Na=l;Xe.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Ok.prototype.Na=l;Ok.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Uj.prototype.Na=l;Uj.prototype.ia=function(a,b,c){return kl(this,jl,b,c)};Rj.prototype.Na=l;Rj.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Ri.prototype.Na=l;Ri.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};
nk.prototype.Na=l;nk.prototype.ia=function(a,b,c){return kl(this,jl,b,c)};Ak.prototype.Na=l;Ak.prototype.ia=function(a,b,c){return bl(b,jl,"#{"," ","}",c,this)};Bg.prototype.Na=l;Bg.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Ch.prototype.Na=l;Ch.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Atom ");jl(new q(null,1,[yl,this.state],null),b,c);return yd(b,"]")};uk.prototype.Na=l;uk.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};ck.prototype.Na=l;
ck.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};Vh.prototype.Na=l;Vh.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};X.prototype.Na=l;X.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};Yi.prototype.Na=l;Yi.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};ng.prototype.Na=l;ng.prototype.ia=function(a,b){return yd(b,"()")};Zi.prototype.Na=l;Zi.prototype.ia=function(a,b,c){return bl(b,jl,"#queue ["," ","]",c,G(this))};
q.prototype.Na=l;q.prototype.ia=function(a,b,c){return kl(this,jl,b,c)};Pk.prototype.Na=l;Pk.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};oh.prototype.Na=l;oh.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};tk.prototype.Na=l;tk.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};kf.prototype.Na=l;kf.prototype.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};A.prototype.Ad=l;
A.prototype.od=function(a,b){if(b instanceof A)return ne(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};D.prototype.Ad=l;D.prototype.od=function(a,b){if(b instanceof D)return rg(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Ri.prototype.Ad=l;Ri.prototype.od=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};X.prototype.Ad=l;
X.prototype.od=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};Y.prototype.Ad=l;Y.prototype.od=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};ek.prototype.Ad=l;ek.prototype.od=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};ck.prototype.Ad=l;
ck.prototype.od=function(a,b){if(zf(b))return Lf(this,b);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};var Bl=null;function Cl(a){null==Bl&&(Bl=Eh(0));return oe.C([t.C(a),t.C(Gh.B(Bl,Ee))].join(""))}function Dl(a){this.f=a;this.value=null;this.O=2147516416;this.T=1}Dl.prototype.Ub=function(){r(this.f)&&(this.value=this.f.P?this.f.P():this.f.call(null),this.f=null);return this.value};Dl.prototype.kg=function(){return ic(this.f)};
Dl.prototype.ia=function(a,b,c){yd(b,"#object[cljs.core.Delay ");jl(new q(null,2,[El,null==this.f?Fl:Gl,yl,this.value],null),b,c);return yd(b,"]")};function Hl(a){return a instanceof Dl?y(a):a}function Il(a){return function(b,c){b=a.B?a.B(b,c):a.call(null,b,c);return He(b)?Ge(b):b}}
function Jl(a){var b=Il(a);return function(){function c(h,k){return w.D(b,h,k)}function d(h){return a.C?a.C(h):a.call(null,h)}function e(){return a.P?a.P():a.call(null)}var f=null;f=function(h,k){switch(arguments.length){case 0:return e.call(this);case 1:return d.call(this,h);case 2:return c.call(this,h,k)}throw Error("Invalid arity: "+arguments.length);};f.P=e;f.C=d;f.B=c;return f}()}function Kl(a,b){this.hb=a;this.sg=b;this.O=2173173760;this.T=131072}g=Kl.prototype;
g.indexOf=function(){var a=null;a=function(b,c){switch(arguments.length){case 1:return Se(this,b,0);case 2:return Se(this,b,c)}throw Error("Invalid arity: "+arguments.length);};a.C=function(b){return Se(this,b,0)};a.B=function(b,c){return Se(this,b,c)};return a}();
g.lastIndexOf=function(){function a(c){return Ve(this,c,K(this))}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return Ve(this,c,d)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return Ve(this,c,d)};return b}();g.qa=function(){var a=hh(this.sg);return ph(this.hb,a)};g.ka=function(){var a=hh(this.sg);a=ph(this.hb,a);a=nh(a);return G(r(a)?a:ve)};g.jb=function(a,b){a=Uf(b);b=this.sg;return Wf(this.hb,a,a.P?a.P():a.call(null),b)};
g.kb=function(a,b,c){return Wf(this.hb,Uf(b),c,this.sg)};g.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,this)};Kl.prototype[rc]=function(){return ye(this)};function Ll(){}function Ml(a){if(null!=a&&null!=a.bk)a=a.bk(a);else{var b=Ml[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=Ml._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IEncodeJS.-clj-\x3ejs",a);}return a}
function Nl(a,b){return(null!=a?l===a.ak||(a.xe?0:nc(Ll,a)):nc(Ll,a))?Ml(a):"string"===typeof a||"number"===typeof a||a instanceof D||a instanceof A?b.C?b.C(a):b.call(null,a):rl.I(M([a]))}var Ol=function Ol(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return Ol.I(arguments[0],c)};
Ol.I=function(a,b){b=Zg(b);var c=B.D(b,Pl,vg),d=function h(f){if(null==f)return null;if(null!=f?l===f.ak||(f.xe?0:nc(Ll,f)):nc(Ll,f))return Ml(f);if(f instanceof D)return c.C?c.C(f):c.call(null,f);if(f instanceof A)return t.C(f);if(xf(f)){var k={};f=G(f);for(var m=null,n=0,p=0;;)if(p<n){var u=m.Da(null,p),v=N(u,0,null);u=N(u,1,null);v=Nl(v,d);u=h(u);k[v]=u;p+=1}else if(f=G(f))Af(f)?(n=Pd(f),f=Qd(f),m=n,n=K(n)):(n=H(f),m=N(n,0,null),n=N(n,1,null),m=Nl(m,d),n=h(n),k[m]=n,f=J(f),m=null,n=0),p=0;else break;
return k}if(uf(f)){k=[];f=G(Qh.B(h,f));m=null;for(p=n=0;;)if(p<n)v=m.Da(null,p),k.push(v),p+=1;else if(f=G(f))m=f,Af(m)?(f=Pd(m),p=Qd(m),m=f,n=K(f),f=p):(f=H(m),k.push(f),f=J(m),m=null,n=0),p=0;else break;return k}return f};return d(a)};Ol.aa=1;Ol.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};function Ql(){}
function Rl(a,b){if(null!=a&&null!=a.$j)a=a.$j(a,b);else{var c=Rl[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=Rl._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IEncodeClojure.-js-\x3eclj",a);}return a}
function Sl(a){var b=M([Tl,!1]),c=Zg(b);c=B.B(c,Tl);var d=r(c)?ug:t;return function h(f){return(null!=f?l===f.gm||(f.xe?0:nc(Ql,f)):nc(Ql,f))?Rl(f,Ug(rk,b)):Df(f)?Wk(Qh.B(h,f)):Ki(f)?new Y(h(Yc(f)),h(Zc(f)),null):uf(f)?fi.D(lf(f),Qh.C(h),f):gc(f)?Jd(w.D(function(k,m){return Mg.B(k,h(m))},Hd(jf),f)):oc(f)===Object?Jd(w.D(function(k,m){return Ng(k,d.C?d.C(m):d.call(null,m),h(Wa(f,m)))},Hd(W),Va(f))):f}(a)}
var Yl=function Yl(a){switch(arguments.length){case 0:return Yl.P();case 1:return Yl.C(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};Yl.P=function(){return Yl.C(1)};Yl.C=function(a){return Math.random()*a};Yl.aa=1;function Zl(a){return Math.floor(Math.random()*a)}function $l(a,b){return Jd(w.D(function(c,d){var e=a.C?a.C(d):a.call(null,d);return Ng(c,e,hf.B(B.D(c,e,jf),d))},Hd(W),b))}var am=null;
function bm(){null==am&&(am=Eh(new q(null,3,[cm,W,dm,W,em,W],null)));return am}function fm(a,b,c){var d=F.B(b,c);if(d)return d;d=em.C(a);d=d.C?d.C(b):d.call(null,b);if(!(d=S(d,c))&&(d=zf(c)))if(d=zf(b))if(d=K(c)===K(b)){d=!0;for(var e=0;;)if(d&&e!==K(c))d=fm(a,b.C?b.C(e):b.call(null,e),c.C?c.C(e):c.call(null,e)),e+=1;else return d}else return d;else return d;else return d}function gm(a){var b=y(bm());return ah(B.B(cm.C(b),a))}
function hm(a,b,c,d){Gh.B(a,function(){return y(b)});Gh.B(c,function(){return y(d)})}
var im=function im(a,b,c){var e=function(){var f=y(c);return f.C?f.C(a):f.call(null,a)}();e=r(r(e)?e.C?e.C(b):e.call(null,b):e)?!0:null;if(r(e))return e;e=function(){for(var f=gm(b);;)if(0<K(f)){var h=H(f);im.D?im.D(a,h,c):im.call(null,a,h,c);f=ue(f)}else return null}();if(r(e))return e;e=function(){for(var f=gm(a);;)if(0<K(f)){var h=H(f);im.D?im.D(h,b,c):im.call(null,h,b,c);f=ue(f)}else return null}();return r(e)?e:!1};function jm(a,b,c,d){c=im(a,b,c);return r(c)?c:fm(d,a,b)}
var km=function km(a,b,c,d,e,f,h,k){var n=w.D(function(u,v){var z=N(v,0,null);N(v,1,null);if(fm(y(c),b,z)){u=null==u||jm(z,H(u),e,y(c))?v:u;if(!jm(H(u),z,e,y(c)))throw Error(["Multiple methods in multimethod '",t.C(a),"' match dispatch value: ",t.C(b)," -\x3e ",t.C(z)," and ",t.C(H(u)),", and neither is preferred"].join(""));return u}return u},null,y(d)),p=function(){var u;if(u=null==n)u=y(d),u=u.C?u.C(k):u.call(null,k);return r(u)?new X(null,2,5,Z,[k,u],null):n}();if(r(p)){if(F.B(y(h),y(c)))return Gh.R(f,
Q,b,cf(p)),cf(p);hm(f,d,h,c);return km.Wb?km.Wb(a,b,c,d,e,f,h,k):km.call(null,a,b,c,d,e,f,h,k)}return null};function lm(a,b,c){if(null!=a&&null!=a.mb)a.mb(a,b,c);else{var d=lm[ha(null==a?null:a)];if(null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=lm._,null!=d)d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IMultiFn.-add-method",a);}}function mm(a,b){throw Error(["No method in multimethod '",t.C(a),"' for dispatch value: ",t.C(b)].join(""));}
function nm(a,b,c,d,e,f,h){var k=om;this.name=a;this.Aa=b;this.vk=k;this.Ag=c;this.Hg=d;this.Gl=e;this.Gg=f;this.gg=h;this.O=4194305;this.T=4352}g=nm.prototype;
g.call=function(a){switch(arguments.length-1){case 0:return this.P();case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);case 3:return this.D(arguments[1],arguments[2],arguments[3]);case 4:return this.R(arguments[1],arguments[2],arguments[3],arguments[4]);case 5:return this.ma(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]);case 6:return this.Ra(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]);case 7:return this.Vb(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 8:return this.Wb(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 9:return this.vc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);case 10:return this.kc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10]);
case 11:return this.lc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);case 12:return this.mc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12]);case 13:return this.nc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],
arguments[11],arguments[12],arguments[13]);case 14:return this.oc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14]);case 15:return this.pc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15]);case 16:return this.qc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16]);case 17:return this.rc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17]);case 18:return this.sc(arguments[1],arguments[2],
arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18]);case 19:return this.tc(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19]);case 20:return this.uc(arguments[1],
arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],arguments[18],arguments[19],arguments[20]);case 21:return this.sf(arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15],arguments[16],arguments[17],
arguments[18],arguments[19],arguments[20],arguments[21]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.P=function(){var a=this.Aa.P?this.Aa.P():this.Aa.call(null),b=pm(this,a);r(b)||mm(this.name,a);return b.P?b.P():b.call(null)};g.C=function(a){var b=this.Aa.C?this.Aa.C(a):this.Aa.call(null,a),c=pm(this,b);r(c)||mm(this.name,b);return c.C?c.C(a):c.call(null,a)};
g.B=function(a,b){var c=this.Aa.B?this.Aa.B(a,b):this.Aa.call(null,a,b),d=pm(this,c);r(d)||mm(this.name,c);return d.B?d.B(a,b):d.call(null,a,b)};g.D=function(a,b,c){var d=this.Aa.D?this.Aa.D(a,b,c):this.Aa.call(null,a,b,c),e=pm(this,d);r(e)||mm(this.name,d);return e.D?e.D(a,b,c):e.call(null,a,b,c)};g.R=function(a,b,c,d){var e=this.Aa.R?this.Aa.R(a,b,c,d):this.Aa.call(null,a,b,c,d),f=pm(this,e);r(f)||mm(this.name,e);return f.R?f.R(a,b,c,d):f.call(null,a,b,c,d)};
g.ma=function(a,b,c,d,e){var f=this.Aa.ma?this.Aa.ma(a,b,c,d,e):this.Aa.call(null,a,b,c,d,e),h=pm(this,f);r(h)||mm(this.name,f);return h.ma?h.ma(a,b,c,d,e):h.call(null,a,b,c,d,e)};g.Ra=function(a,b,c,d,e,f){var h=this.Aa.Ra?this.Aa.Ra(a,b,c,d,e,f):this.Aa.call(null,a,b,c,d,e,f),k=pm(this,h);r(k)||mm(this.name,h);return k.Ra?k.Ra(a,b,c,d,e,f):k.call(null,a,b,c,d,e,f)};
g.Vb=function(a,b,c,d,e,f,h){var k=this.Aa.Vb?this.Aa.Vb(a,b,c,d,e,f,h):this.Aa.call(null,a,b,c,d,e,f,h),m=pm(this,k);r(m)||mm(this.name,k);return m.Vb?m.Vb(a,b,c,d,e,f,h):m.call(null,a,b,c,d,e,f,h)};g.Wb=function(a,b,c,d,e,f,h,k){var m=this.Aa.Wb?this.Aa.Wb(a,b,c,d,e,f,h,k):this.Aa.call(null,a,b,c,d,e,f,h,k),n=pm(this,m);r(n)||mm(this.name,m);return n.Wb?n.Wb(a,b,c,d,e,f,h,k):n.call(null,a,b,c,d,e,f,h,k)};
g.vc=function(a,b,c,d,e,f,h,k,m){var n=this.Aa.vc?this.Aa.vc(a,b,c,d,e,f,h,k,m):this.Aa.call(null,a,b,c,d,e,f,h,k,m),p=pm(this,n);r(p)||mm(this.name,n);return p.vc?p.vc(a,b,c,d,e,f,h,k,m):p.call(null,a,b,c,d,e,f,h,k,m)};g.kc=function(a,b,c,d,e,f,h,k,m,n){var p=this.Aa.kc?this.Aa.kc(a,b,c,d,e,f,h,k,m,n):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n),u=pm(this,p);r(u)||mm(this.name,p);return u.kc?u.kc(a,b,c,d,e,f,h,k,m,n):u.call(null,a,b,c,d,e,f,h,k,m,n)};
g.lc=function(a,b,c,d,e,f,h,k,m,n,p){var u=this.Aa.lc?this.Aa.lc(a,b,c,d,e,f,h,k,m,n,p):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p),v=pm(this,u);r(v)||mm(this.name,u);return v.lc?v.lc(a,b,c,d,e,f,h,k,m,n,p):v.call(null,a,b,c,d,e,f,h,k,m,n,p)};g.mc=function(a,b,c,d,e,f,h,k,m,n,p,u){var v=this.Aa.mc?this.Aa.mc(a,b,c,d,e,f,h,k,m,n,p,u):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u),z=pm(this,v);r(z)||mm(this.name,v);return z.mc?z.mc(a,b,c,d,e,f,h,k,m,n,p,u):z.call(null,a,b,c,d,e,f,h,k,m,n,p,u)};
g.nc=function(a,b,c,d,e,f,h,k,m,n,p,u,v){var z=this.Aa.nc?this.Aa.nc(a,b,c,d,e,f,h,k,m,n,p,u,v):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v),C=pm(this,z);r(C)||mm(this.name,z);return C.nc?C.nc(a,b,c,d,e,f,h,k,m,n,p,u,v):C.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v)};
g.oc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z){var C=this.Aa.oc?this.Aa.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z),E=pm(this,C);r(E)||mm(this.name,C);return E.oc?E.oc(a,b,c,d,e,f,h,k,m,n,p,u,v,z):E.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z)};
g.pc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){var E=this.Aa.pc?this.Aa.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C),I=pm(this,E);r(I)||mm(this.name,E);return I.pc?I.pc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C):I.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C)};
g.qc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E){var I=this.Aa.qc?this.Aa.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E),O=pm(this,I);r(O)||mm(this.name,I);return O.qc?O.qc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E):O.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E)};
g.rc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I){var O=this.Aa.rc?this.Aa.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I),P=pm(this,O);r(P)||mm(this.name,O);return P.rc?P.rc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I):P.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I)};
g.sc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O){var P=this.Aa.sc?this.Aa.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O),T=pm(this,P);r(T)||mm(this.name,P);return T.sc?T.sc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O):T.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O)};
g.tc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P){var T=this.Aa.tc?this.Aa.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P),aa=pm(this,T);r(aa)||mm(this.name,T);return aa.tc?aa.tc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P):aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P)};
g.uc=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T){var aa=this.Aa.uc?this.Aa.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):this.Aa.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T),ea=pm(this,aa);r(ea)||mm(this.name,aa);return ea.uc?ea.uc(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T):ea.call(null,a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T)};
g.sf=function(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa){var ea=Yg(this.Aa,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa])),va=pm(this,ea);r(va)||mm(this.name,ea);return Yg(va,a,b,c,d,M([e,f,h,k,m,n,p,u,v,z,C,E,I,O,P,T,aa]))};g.mb=function(a,b,c){Gh.R(this.Hg,Q,b,c);hm(this.Gg,this.Hg,this.gg,this.Ag);return this};function pm(a,b){F.B(y(a.gg),y(a.Ag))||hm(a.Gg,a.Hg,a.gg,a.Ag);var c=y(a.Gg);c=c.C?c.C(b):c.call(null,b);return r(c)?c:km(a.name,b,a.Ag,a.Hg,a.Gl,a.Gg,a.gg,a.vk)}g.uf=function(){return Rd(this.name)};
g.vf=function(){return Sd(this.name)};g.ja=function(){return ka(this)};function qm(a,b){this.Od=a;this.J=b;this.O=2153775104;this.T=2048}g=qm.prototype;g.Ei=l;g.toString=function(){return this.Od};g.equiv=function(a){return this.da(null,a)};g.da=function(a,b){return(a=null!=b?l===b.Ei?!0:!1:!1)?this.Od===b.Od:a};g.ia=function(a,b){return yd(b,['#uuid "',t.C(this.Od),'"'].join(""))};g.ja=function(){null==this.J&&(this.J=ke(this.Od));return this.J};
g.od=function(a,b){if(b instanceof qm)return gb(this.Od,b.Od);throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
function rm(){function a(){return Zl(16).toString(16)}var b=(8|3&Zl(16)).toString(16);return new qm([t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),"-4",t.C(a()),t.C(a()),t.C(a()),"-",t.C(b),t.C(a()),t.C(a()),t.C(a()),"-",t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a()),t.C(a())].join("").toLowerCase(),null)}
function sm(a,b,c){var d=Error(a);this.message=a;this.data=b;this.cause=c;this.name=d.name;this.description=d.description;this.number=d.number;this.fileName=d.fileName;this.lineNumber=d.lineNumber;this.columnNumber=d.columnNumber;this.stack=d.stack;return this}sm.prototype.__proto__=Error.prototype;sm.prototype.Na=l;
sm.prototype.ia=function(a,b,c){yd(b,"#error {:message ");jl(this.message,b,c);r(this.data)&&(yd(b,", :data "),jl(this.data,b,c));r(this.cause)&&(yd(b,", :cause "),jl(this.cause,b,c));return yd(b,"}")};sm.prototype.toString=function(){return $d(this)};function tm(a,b){return new sm(a,b,null)}
function um(){r(tc)||(tc=function(){for(var a=Nf(function(e,f){return f.length-e.length},Va(sc)),b="";;)if(G(a)){var c=J(a),d=[function(){var e=b;return""!==b?[e,"|"].join(""):e}(),t.C(H(a))].join("");a=c;b=d}else return[b,"|\\$"].join("")}());return tc}
function vm(a){var b=t.C(a);if("_DOT__DOT_"===b)var c="..";else a:{c=new RegExp(um(),"g");b=r(Pa(b,"$"))?b.substring(0,b.length-1):b;for(var d="",e=0;;){var f=c.exec(b);if(r(f))f=N(f,0,null),d=[d,t.C(b.substring(e,c.lastIndex-f.length)),t.C("$"===f?"/":Wa(sc,f))].join(""),e=c.lastIndex;else{c=[d,t.C(b.substring(e,b.length))].join("");break a}}}a=a instanceof A?oe:t;return a.C?a.C(c):a.call(null,c)}"undefined"!==typeof console&&ec();ec();var wm=new D(null,"components","components",-1073188942),zm=new D(null,"level","level",1290497552),Am=new D("db","current-tx","db/current-tx",1600722132),Cm=new D(null,"on-change","on-change",-732046149),Dm=new A(null,"datascript.db","datascript.db",-444456104,null),Em=new D(null,"size","size",1098693007),Fm=new D(null,"button.cursor-default","button.cursor-default",746942819),Gm=new D(null,"line","line",212345235),Hm=new D("db","unique","db/unique",329396388),Im=new D("db","isComponent","db/isComponent",
423352398),Jm=new D("datascript.db","flush-tuples","datascript.db/flush-tuples",-797350002),Km=new A(null,"ns*","ns*",1840949383,null),Lm=new D(null,"left","left",-399115937),Nm=new D(null,"start-block-t","start-block-t",-373430594),Om=new D(null,"limit","limit",-1355822363),Pm=new D(null,"per-line-prefix","per-line-prefix",846941813),Rm=new D("datascript.db","value-tempids","datascript.db/value-tempids",244806162),Sm=new D(null,"string","string",-1989541586),Tm=new D(null,"avet","avet",1383857032),
Um=new D(null,"data","data",-232669377),Wm=new A(null,"identity","identity",-1007039734,null),Xm=new A(null,"max","max",1701898075,null),Ym=new D("cljs.spec.alpha","amp","cljs.spec.alpha/amp",831147508),Zm=new D(null,"mapBuilder","mapBuilder",-278083754),$m=new D(null,"done-nl","done-nl",-381024340),an=new D(null,"handlers","handlers",79528781),bn=new D(null,"private","private",-558947994),dn=new D("cljs.spec.alpha","alt","cljs.spec.alpha/alt",523685437),El=new D(null,"status","status",-1997798413),
en=new D(null,"version","version",425292698),fn=new D(null,"days","days",-1394072564),gn=new A(null,"identical?","identical?",-745864205,null),hn=new A("cljs.core","deref","cljs.core/deref",1901963335,null),jn=new D("transact","cas","transact/cas",816687170),kn=new D("cljs.spec.alpha","nil","cljs.spec.alpha/nil",1733813950),ln=new D("db.fn","cas","db.fn/cas",-379352172),mn=new D("cljs.spec.alpha","kind-form","cljs.spec.alpha/kind-form",-1047104697),pn=new D(null,"mandatory","mandatory",542802336),
rn=new D(null,"end-column","end-column",1425389514),sn=new D(null,"getInitialState","getInitialState",1541760916),tn=new A(null,"list","list",-1889078086,null),un=new D(null,"base-args","base-args",-1268706822),vn=new D(null,"return-map","return-map",1620104901),yk=new D("cljs.core","not-found","cljs.core/not-found",-1572889185),xn=new A(null,"compare","compare",1109853757,null),zn=new D(null,"def","def",-1043430536),An=new D(null,"prefer-buffers","prefer-buffers",377042081),Bn=new D(null,"visitor",
"visitor",-1026865865),Cn=new A(null,"stddev","stddev",775056588,null),Dn=new A("cljs.core","string?","cljs.core/string?",-2072921719,null),Sa=new A(null,"p1__44267#","p1__44267#",-1267765929,null),En=new D("db","tupleAttrs","db/tupleAttrs",250080092),Gn=new D(null,"tx-meta","tx-meta",1159283194),In=new D("schema","validation","schema/validation",1178447161),Jn=new D(null,"right-margin","right-margin",-810413306),Kn=new D(null,"div.flex.border.border-transparent.hover:border-gray-100","div.flex.border.border-transparent.hover:border-gray-100",
-328254749),Mn=new D(null,"exponentchar","exponentchar",1986664222),Nn=new A("clojure.string","includes?","clojure.string/includes?",-1842146260,null),Qn=new D(null,"directive","directive",793559132),Rn=new D(null,"multival?","multival?",1072388383),Tn=new D(null,"where","where",-2044795965),Un=new D("reitit.core","path-conflicting","reitit.core/path-conflicting",617644429),Vn=new D("cljs.spec.alpha","name","cljs.spec.alpha/name",205233570),Wn=new A(null,"min","min",2085523049,null),Yn=new D("widget.table",
"width","widget.table/width",-305247953),$n=new D(null,"trailing-white-space","trailing-white-space",1496006996),ao=new D(null,"div","div",1057191632),co=new A(null,"$","$",-1580747756,null),eo=new D("query","binding","query/binding",698240489),fo=new D(null,"right-params","right-params",-1790676237),go=new A(null,"let*","let*",1920721458,null),ho=new D(null,"width","width",-384071477),io=new A(null,"limit","limit",284709164,null),jo=new D("widget","children","widget/children",485181574),ko=new D("db.fn",
"retractEntity","db.fn/retractEntity",-1423535441),lo=new D(null,"component-will-unmount","component-will-unmount",-2058314698),mo=new A(null,"when-first","when-first",821699168,null),oo=new D(null,"format","format",-1306924766),so=new D("reitit.core","router","reitit.core/router",1293076450),to=new A(null,"variance","variance",-1522424942,null),uo=new D(null,"type","type",1174270348),wo=new A(null,"_","_",-1201019570,null),xo=new D(null,"style","style",-496642736),yo=new D(null,"reader-error","reader-error",
1610253121),zo=new A(null,"v","v",1661996586,null),Ao=new A(null,"m","m",-1021758608,null),Bo=new A(null,"k","k",-505765866,null),Co=new D(null,"component?","component?",407783990),Do=new D(null,"code","code",1586293142),Eo=new D(null,"keys","keys",1068423698),Go=new D("literate","widget","literate/widget",-1743430817),Ho=new A(null,"println-str","println-str",-2049216703,null),Io=new A("cljs.spec.alpha","coll-of","cljs.spec.alpha/coll-of",1019430407,null),Jo=new D(null,"wilds","wilds",132271223),
Ko=new A(null,"quot","quot",-1125214196,null),Lo=new D(null,"div.flex.flex-col.text-sm","div.flex.flex-col.text-sm",1494228164),Mo=new D(null,"colinc","colinc",-584873385),Oo=new D(null,"logical-block","logical-block",-581022564),Po=new D(null,"your-version","your-version",-351781765),Qo=new D(null,"col","col",-1959363084),Ro=new A(null,"or","or",1876275696,null),To=new D("db","fn","db/fn",-1175261470),Uo=new D("entity-id","syntax","entity-id/syntax",1921317045),Vo=new D(null,"current","current",
-1088038603),Wo=new D(null,"writing","writing",-1486865108),$o=new D(null,"suppress-namespaces","suppress-namespaces",2130686956),bp=new D("reitit.impl","merge-data","reitit.impl/merge-data",-588218417),cp=new D(null,"parent","parent",-878878779),ep=new D("query","where","query/where",-1935159429),fp=new A(null,"missing?","missing?",-1710383910,null),gp=new D(null,"seen","seen",-518999789),hp=new A("cljs.core","map?","cljs.core/map?",-1390345523,null),ip=new A(null,"\x26","\x26",-2144855648,null),
kp=new D(null,"reagentRender","reagentRender",-358306383),lp=new D(null,"right-bracket","right-bracket",951856080),np=new D("geoplot.feature","wkt","geoplot.feature/wkt",-1055973148),qp=new D("db","id","db/id",-1388397098),rp=new D(null,"vars","vars",-2046957217),sp=new D(null,"operation","operation",-1267664310),om=new D(null,"default","default",-1987822328),tp=new D(null,"div.flex.flex-col.p-1","div.flex.flex-col.p-1",74784419),up=new D(null,"secs","secs",1532330091),vp=new A("clojure.core","deref",
"clojure.core/deref",188719157,null),wp=new D(null,"coercion","coercion",904067157),xp=new D(null,"first-attr","first-attr",-1993039831),yp=new D(null,"array-builder","array-builder",1275998041),zp=new D(null,"*","*",-1294732318),Ap=new D(null,"json","json",1279968570),Bp=new D("db","retractEntity","db/retractEntity",-1452737935),Dp=new A(null,"zero?","zero?",325758897,null),Ep=new D(null,"reader-exception","reader-exception",-1938323098),Fp=new A(null,"-","-",-471816912,null),Gp=new D(null,"req-un",
"req-un",1074571008),Hp=new D(null,"forms","forms",2045992350),Ip=new D(null,"cur","cur",1153190599),Jp=new D(null,"branches","branches",-1240337268),Kp=new A(null,"def","def",597100991,null),Lp=new A(null,"dec","dec",-766002333,null),Mp=new D(null,"div.h-screen.flex.flex-col","div.h-screen.flex.flex-col",-892501672),Tl=new D(null,"keywordize-keys","keywordize-keys",1310784252),Np=new D("widget","type","widget/type",-1894308144),Op=new D(null,"pos","pos",-864607220),Pp=new D("cljs.spec.alpha","v",
"cljs.spec.alpha/v",552625740),Qp=new D("transact","upsert","transact/upsert",412688078),Rp=new D("cljs.spec.alpha","k","cljs.spec.alpha/k",-1602615178),Sp=new D(null,"output-fn","output-fn",1600951539),Tp=new D(null,"elements","elements",657646735),Wp=new D(null,"form","form",-1624062471),Xp=new A(null,"%","%",-950237169,null),Yp=new D(null,"pretty-writer","pretty-writer",-1222834267),Zp=new A(null,"..","..",-300507420,null),aq=new A(null,"not\x3d","not\x3d",1466536204,null),bq=new D(null,"validator",
"validator",-1966190681),cq=new D(null,"pretty","pretty",-1916372486),eq=new A(null,"range","range",-1014743483,null),fq=new D("widget.geoplot","features","widget.geoplot/features",-1949420440),gq=new A("clojure.string","blank?","clojure.string/blank?",1772874244,null),hq=new D(null,"fragment","fragment",826775688),iq=new D("cljs.spec.alpha","invalid","cljs.spec.alpha/invalid",-1220295119),jq=new D("cljs.spec.alpha","pcat","cljs.spec.alpha/pcat",26406623),kq=new D("widget.geoplot","center-wsg84?",
"widget.geoplot/center-wsg84?",-752220489),oq=new D("parser","with","parser/with",-386255821),qq=new A(null,"uuid","uuid",-504564192,null),sq=new D(null,"entity-id","entity-id",1485898093),tq=new A(null,"queue","queue",-1198599890,null),uq=new D(null,"else","else",-1508377146),vq=new A(null,"case*","case*",-1938255072,null),wq=new D(null,"params","params",710516235),xq=new D(null,"tuples","tuples",-676032639),yq=new D("db","cardinality","db/cardinality",-104975659),zq=new A(null,"struct-map","struct-map",
-1387540878,null),Ta=new A(null,"p1__44268#","p1__44268#",-1976387603,null),Aq=new D(null,"rest","rest",-1241696419),Bq=new D(null,"var","var",-769682797),Cq=new D(null,"commachar","commachar",652859327),Gq=new A(null,"re-find","re-find",1143444147,null),yl=new D(null,"val","val",128701612),Hq=new A("cljs.core","zipmap","cljs.core/zipmap",-1902130674,null),Iq=new D(null,"button","button",1456579943),Jq=new D(null,"path-params","path-params",-48130597),Kq=new D(null,"thaw-kw","thaw-kw",1076733097),
Mq=new A(null,"catch","catch",-1616370245,null),Nq=new D("cljs.spec.alpha","kvs-\x3emap","cljs.spec.alpha/kvs-\x3emap",579713455),Oq=new D(null,"kind","kind",-717265803),Pq=new D(null,"validate","validate",-201300827),Sq=new D("db.fn","call","db.fn/call",-151594418),Tq=new D(null,"stroke-width","stroke-width",716836435),Uq=new D(null,"years","years",-1298579689),Vq=new D(null,"prefer-strings","prefer-strings",1254507185),Wq=new D(null,"constructor","constructor",-1953928811),Xq=new D("cljs.spec.alpha",
"accept","cljs.spec.alpha/accept",370988198),Yq=new D("widget.table","height","widget.table/height",802045018),$q=new D(null,"path-conflicts","path-conflicts",-1238675313),ar=new D(null,"preferBuffers","preferBuffers",1843176451),br=new D("widget.type","column","widget.type/column",-1297718293),dr=new D("db","cas","db/cas",-451542322),er=new A(null,"\x3e","\x3e",1085014381,null),gr=new D(null,"sections","sections",-886710106),hr=new D(null,"lines","lines",-700165781),ir=new A(null,"do","do",1686842252,
null),jr=new D(null,"colon","colon",-965200945),kr=new D("literate","widgets","literate/widgets",1235755088),lr=new D(null,"color","color",1011675173),qr=new D(null,"keys-pred","keys-pred",858984739),rr=new D(null,"minpad","minpad",323570901),sr=new D(null,"p.text-2xl","p.text-2xl",1387268759),tr=new D(null,"svg.w-6.h-6","svg.w-6.h-6",-1347042122),ur=new A("cljs.spec.alpha","keys","cljs.spec.alpha/keys",1109346032,null),vr=new A(null,"db","db",-1661185010,null),xr=new A(null,"aggregate","aggregate",
-1142967327,null),yr=new A(null,"try","try",-1273693247,null),Ar=new D(null,"div.flex.flex-col.flex-1.space-y-2","div.flex.flex-col.flex-1.space-y-2",1209242693),Br=new A(null,"array-map","array-map",1555038968,null),Cr=new D(null,"on-coercion-error","on-coercion-error",-970787),Dr=new A(null,"let","let",358118826,null),$b=new D(null,"flush-on-newline","flush-on-newline",-151457939),Er=new D("widget.codemirror","value","widget.codemirror/value",1562181971),Fr=new A(null,"meta","meta",-1154898805,
null),Gr=new D(null,"rels","rels",1770187185),Hr=new D("widget.type","table","widget.type/table",-1467162840),Jr=new D(null,"pred-exprs","pred-exprs",1792271395),Kr=new A(null,"if","if",1181717262,null),Lr=new A(null,"get-some","get-some",409442058,null),Mr=new D(null,"binding","binding",539932593),Nr=new D(null,"xform","xform",-1725711008),Or=new A(null,"hash-map","hash-map",-439030950,null),Pr=new D(null,"min-count","min-count",1594709013),Qr=new A(null,"quote","quote",1377916282,null),Rr=new D(null,
"hierarchy","hierarchy",-1053470341),Sr=new D(null,"catch-all","catch-all",1184112570),Vr=new A("clojure.string","starts-with?","clojure.string/starts-with?",656256322,null),Wr=new A(null,"fn","fn",465265323,null),Xr=new D(null,"hashchange-listener","hashchange-listener",-1234988801),Yr=new D(null,"strable","strable",1877668047),Zr=new D(null,"contextType","contextType",1033066077),$r=new D(null,"symbol","symbol",-1038572696),as=new D("db.pull","wildcard","db.pull/wildcard",116316031),bs=new A(null,
"lift-ns","lift-ns",602311926,null),cs=new D(null,"acc","acc",838566312),ds=new D(null,"reverse-attrs","reverse-attrs",630097702),fs=new D(null,"getDerivedStateFromProps","getDerivedStateFromProps",-991834739),gs=new D(null,"value","value",305978217),is=new D(null,"sources","sources",-321166424),js=new D(null,"display-name","display-name",694513143),ks=new D(null,"enabled?","enabled?",-1376075057),ls=new A(null,"ns","ns",2082130287,null),ms=new D(null,"req","req",-326448303),ns=new D(null,"ret","ret",
-468222814),os=new D(null,"both","both",-393648840),ps=new D(null,"result","result",1415092211),rs=new D(null,"vector","vector",1902966158),ss=new D(null,"end","end",-268185958),ts=new D(null,"className","className",-1983287057),us=new D(null,"buffer-blob","buffer-blob",-1830112173),vs=new D(null,"dangerouslySetInnerHTML","dangerouslySetInnerHTML",-554971138),ws=new A("clojure.core","unquote","clojure.core/unquote",843087510,null),xs=new D(null,"pull-patterns","pull-patterns",-343695048),ys=new D(null,
"flags","flags",1775418075),zs=new D(null,"parse-tag","parse-tag",1427313738),As=new D(null,"eof","eof",-489063237),Cs=new A(null,"-differ?","-differ?",1465687357,null),Ds=new A(null,"js","js",-886355190,null),Es=new D(null,"relative-to","relative-to",-470100051),Fs=new A(null,"doseq","doseq",221164135,null),Gs=new D("widget","parent","widget/parent",-1665940103),Hs=new A("cljs.core","list?","cljs.core/list?",-684796618,null),Is=new D(null,"max-eid","max-eid",2134868075),Js=new D(null,"stroke","stroke",
1741823555),Ls=new D(null,"used-args","used-args",23596256),Ms=new D(null,"symbols","symbols",1211743),Ns=new D(null,"attr","attr",-604132353),Os=new D(null,"doc","doc",1913296891),Ss=new D("db.cardinality","one","db.cardinality/one",1428352190),Ts=new D("widget.table","rows","widget.table/rows",696089204),Us=new D("parser","query","parser/query",1877320671),Ws=new D(null,"added","added",2057651688),Xs=new D("widget.codemirror","lineNumbers","widget.codemirror/lineNumbers",399725207),Ys=new D(null,
"qin","qin",1372651151),Zs=new A(null,"\x3c","\x3c",993667236,null),$s=new D(null,"map","map",1371690461),at=new D(null,"open?","open?",1238443125),bt=new D(null,"body","body",-2049205669),ct=new D("parser","pull","parser/pull",-2147427204),dt=new D(null,"mode","mode",654403691),et=new D(null,"replace","replace",-786587770),ft=new D(null,"max","max",61366548),gt=new D(null,"pending-guards","pending-guards",-1255527308),it=new A(null,"get","get",-971253014,null),jt=new D(null,"qwhere","qwhere",-1645067378),
kt=new D(null,"count","count",2139924085),lt=new D(null,"clauses","clauses",1454841241),mt=new D(null,"conflicts","conflicts",-1219561816),nt=new A(null,"empty?","empty?",76408555,null),ot=new A(null,"re-matches","re-matches",-1865705768,null),qt=new D(null,"miser-width","miser-width",-1310049437),rt=new D(null,"expand","expand",595248157),st=new A(null,"binding","binding",-2114503176,null),tt=new A(null,"ground","ground",-1460862835,null),ut=new D(null,"use-fragment","use-fragment",-1617737154),
wt=new D("db.unique","identity","db.unique/identity",1675950722),xt=new D("transact","unique","transact/unique",-940992320),yt=new D(null,"splice","splice",449588165),zt=new D(null,"dispatch","dispatch",1319337009),Bt=new A(null,"inst","inst",-2008473268,null),Ct=new D("widget.vega-embed","spec","widget.vega-embed/spec",-1913225774),Dt=new A(null,"sample","sample",1719555128,null),Et=new D(null,"max-tx","max-tx",1119558339),Ft=new D("lookup-ref","syntax","lookup-ref/syntax",-317304012),Gt=new D(null,
"?meta","?meta",-793560773),Ht=new D(null,"name","name",1843675177),It=new D(null,"syms","syms",-1575891762),Jt=new D("db.type","ref","db.type/ref",-1728373079),Kt=new A(null,"schema","schema",58529736,null),Lt=new A(null,"loop","loop",1244978678,null),Nt=new D(null,"nav.h-14.flex.justify-end.items-center.px-10.py-2","nav.h-14.flex.justify-end.items-center.px-10.py-2",1067080416),Ot=new D(null,"parameter-from-args","parameter-from-args",-758446196),Pt=new D(null,"stroke-linejoin","stroke-linejoin",
-1810816406),Qt=new D(null,"on-mouse-over","on-mouse-over",-858472552),Tt=new D(null,"section","section",-300141526),Ut=new D(null,"bracket-info","bracket-info",-1600092774),Vt=new A(null,"Inf","Inf",647172781,null),Ua=new D(null,"with-let44521","with-let44521",1511834568),Wt=new A("cljs.core","map","cljs.core/map",-338988913,null),cc=new D(null,"dup","dup",556298533),Xt=new D(null,"prefix-context","prefix-context",-1269613591),Yt=new D(null,"init-db","init-db",1595181278),au=new D("cljs.spec.alpha",
"rep","cljs.spec.alpha/rep",1483217317),bu=new D(null,"suffix","suffix",367373057),cu=new D("reitit.trie","trie-compiler","reitit.trie/trie-compiler",2125029755),du=new D(null,"qwith","qwith",-45809392),eu=new A(null,"defn-","defn-",1097765044,null),fu=new D(null,"div.flex.hover:bg-teal-50","div.flex.hover:bg-teal-50",84339423),gu=new D(null,"div.p-2","div.p-2",-325121057),hu=new D(null,"required","required",1807647006),ju=new D(null,"buffer","buffer",617295198),ku=new D(null,"inherit","inherit",
-1840815422),su=new D(null,"msg_","msg_",-1925147E3),uu=new D("db.pull","attr","db.pull/attr",-533298746),vu=new D(null,"opt-keys","opt-keys",1262688261),wu=new A(null,"when-not","when-not",-1223136340,null),xu=new D(null,"component-did-mount","component-did-mount",-1126910518),yu=new D(null,"top-displace","top-displace",-2094589019),zu=new D(null,"path-parts","path-parts",945822894),Du=new D("db","valueType","db/valueType",1827971944),Eu=new D("db","ident","db/ident",-737096),Hu=new A(null,"re-pattern",
"re-pattern",1047705161,null),Iu=new D(null,"conflicting","conflicting",2003828416),Ju=new D(null,"column","column",2078222095),Ku=new D(null,"thaw-fn","thaw-fn",-240544261),Lu=new D(null,"div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3","div.flex.flex-col.items-start.container.mx-auto.py-2.space-y-3",-415679671),Mu=new D(null,"recursion-limit","recursion-limit",52345639),Nu=new D(null,"up-arrow","up-arrow",1705310333),Ou=new A(null,"contains?","contains?",-1676812576,null),Qu=new A(null,
"true?","true?",-1600332395,null),Ru=new D(null,"bracket","bracket",-600276523),Su=new D(null,"logical-block-callback","logical-block-callback",1612691194),Uu=new D("db.cardinality","many","db.cardinality/many",772806234),Vu=new D(null,"form-params","form-params",1884296467),Wu=new D(null,"weeks","weeks",1844596125),Zu=new D(null,"mincol","mincol",1230695445),cv=new D(null,"listen-key","listen-key",51973686),dv=new D(null,"itemSize","itemSize",197086731),ev=new D("reitit.exception","cause","reitit.exception/cause",
2130128734),fv=new D(null,"deref","deref",-145586795),gv=new D("cljs.spec.alpha","unknown","cljs.spec.alpha/unknown",651034818),hv=new D(null,"max-iterations","max-iterations",2021275563),iv=new D(null,"output_","output_",-36797880),lv=new D("widget","uuid","widget/uuid",-585315811),mv=new A(null,"deftype*","deftype*",962659890,null),nv=new D(null,"rep+","rep+",-281382396),ov=new A(null,"NaN","NaN",666918153,null),pv=new D(null,"msecs","msecs",1711980553),rv=new A(null,"defmacro","defmacro",2054157304,
null),tv=new A(null,"vector","vector",-751469611,null),uv=new D("cljs.spec.alpha","conform-all","cljs.spec.alpha/conform-all",45201917),xv=new D(null,"loading","loading",-737050189),yv=new D(null,"ns","ns",441598760),zv=new D(null,"expected","expected",1583670997),Av=new D(null,"div.flex-1","div.flex-1",2004402050),Bv=new D("geoplot.feature","feature-projection","geoplot.feature/feature-projection",-1990940774),Dv=new D(null,"preferStrings","preferStrings",-1532249482),Ev=new A(null,"cljs.core","cljs.core",
770546058,null),Fv=new D(null,"xmlns","xmlns",-1862095571),Gv=new D(null,"p2","p2",905500641),Hv=new A(null,"defrecord*","defrecord*",-1936366207,null),Iv=new D(null,"p1","p1",-936759954),Jv=new D(null,"type-tag","type-tag",-1873863267),Kv=new D(null,"ms","ms",-1152709733),Mv=new D(null,"readers","readers",-2118263030),Nv=new A(null,"!\x3d","!\x3d",-201205829,null),Ov=new D("widget.geoplot","zoom","widget.geoplot/zoom",1712183482),Pv=new D(null,"on-dispose","on-dispose",2105306360),Qv=new D("db.type",
"tuple","db.type/tuple",938234914),Rv=new D("lookup-ref","unique","lookup-ref/unique",-960647710),Sv=new A("clojure.string","ends-with?","clojure.string/ends-with?",-745964149,null),Tv=new D(null,"headers","headers",-835030129),Uv=new D(null,"processing","processing",-1576405467),Vv=new D("widget.type","codemirror","widget.type/codemirror",2093288987),Wv=new D(null,"arrayBuilder","arrayBuilder",1446317421),Xv=new D(null,"end-line","end-line",1837326455),Yv=new A(null,"fn*","fn*",-752876845,null),
Zv=new D(null,"ks","ks",1900203942),$v=new D("transact","syntax","transact/syntax",-299207078),cw=new D(null,"source","source",-433931539),dw=new D(null,"bindings","bindings",1271397192),ew=new A("cljs.core","fn","cljs.core/fn",-1065745098,null),fw=new A(null,"median","median",-2084869638,null),gw=new D(null,"circle","circle",1903212362),dm=new D(null,"descendants","descendants",1824886031),iw=new A(null,"validate-schema","validate-schema",758884380,null),jw=new D(null,"strs","strs",1175537277),kw=
new D(null,"start","start",-355208981),mw=new A(null,"complement","complement",-913606051,null),nw=new D(null,"on-click","on-click",1632826543),uw=new A(null,"resolve-datom","resolve-datom",-294110827,null),vw=new D(null,"length","length",588987862),xw=new A(null,"with-open","with-open",172119667,null),zw=new D(null,"ps","ps",292358046),Bw=new D(null,"not-delivered","not-delivered",1599158697),Cw=new A(null,"if-not","if-not",-265415609,null),Fw=new D(null,"db-before","db-before",-553691536),Gw=new A(null,
"\x3d\x3d","\x3d\x3d",-234118149,null),Hw=new A("cljs.core","unquote","cljs.core/unquote",1013085760,null),Iw=new D(null,"div.flex.border-b.border-teal-500.pb-1.mb-1","div.flex.border-b.border-teal-500.pb-1.mb-1",271713629),Jw=new D(null,"no-cache","no-cache",1588056370),Kw=new D(null,"serialize","serialize",-69216574),Lw=new A(null,"dotimes","dotimes",-818708397,null),Mw=new D(null,"raw-console?","raw-console?",-2061489061),Nw=new D(null,"exception","exception",-335277064),Ow=new D(null,"conform-keys",
"conform-keys",-1800041814),Pw=new D(null,"op","op",-1882987955),Qw=new A(null,"finally","finally",-1065347064,null),Rw=new A(null,"str","str",-1564826950,null),Sw=new A(null,"/","/",-1371932971,null),Tw=new D(null,"router","router",1091916230),Uw=new D(null,"routes","routes",457900162),Vw=new D(null,"buffering","buffering",-876713613),Xw=new D(null,"prefix-clauses","prefix-clauses",1294180028),Yw=new D(null,"illegal-argument","illegal-argument",-1845493170),$w=new D(null,"opt-un","opt-un",883442496),
bx=new D(null,"rule","rule",729973257),cx=new D("widget.codemirror","width","widget.codemirror/width",851267293),dx=new D(null,"template","template",-702405684),ex=new D(null,"wildcard?","wildcard?",-686044101),fx=new A(null,"pos?","pos?",-244377722,null),gx=new D("query","inputs","query/inputs",1042810394),hx=new D(null,"attribute","attribute",-2074029119),ix=new A(null,"default","default",-347290801,null),jx=new D(null,"tx","tx",466630418),kx=new A(null,"locking","locking",1542862874,null),lx=new D(null,
"function-components","function-components",1492814963),mx=new A(null,"subs","subs",1453849536,null),nx=new D(null,"parameters","parameters",-1229919748),ox=new D(null,"seq","seq",-1817803783),px=new A(null,"pr-str","pr-str",-2066912145,null),qx=new D(null,"set","set",304602554),tx=new A(null,"or-join","or-join",591375469,null),ux=new A(null,"sum","sum",1777518341,null),vx=new D("reitit.coercion","extract-request-format","reitit.coercion/extract-request-format",-1687953607),wx=new A(null,"some?",
"some?",234752293,null),yx=new D(null,"error","error",-978969032),Ax=new D(null,"base","base",185279322),Ex=new A(null,"letfn*","letfn*",-110097810,null),Fx=new D(null,"prefix","prefix",-265908465),Gx=new D("geoplot.style","fill","geoplot.style/fill",-660763808),Hx=new D(null,"name-conflicts","name-conflicts",-2016386444),Ix=new D("parser","binding","parser/binding",-346395752),Jx=new D(null,"start-pos","start-pos",668789086),Pl=new D(null,"keyword-fn","keyword-fn",-64566675),Kx=new D(null,"first",
"first",-644103046),Mx=new A(null,"re-seq","re-seq",-2105554076,null),Nx=new D(null,"?err","?err",549653299),Ox=new D(null,"body-params","body-params",-369749490),Px=new A(null,"recur","recur",1202958259,null),Qx=new D("widget.type","markdown","widget.type/markdown",177221797),Sx=new D("parser","rule-var","parser/rule-var",-1584354459),Tx=new D(null,"callback","callback",-705136228),Ux=new D("cljs.spec.alpha","op","cljs.spec.alpha/op",-1269055252),Wx=new D(null,"span","span",1394872991),Xx=new D(null,
"terminators","terminators",-1448255712),Yx=new D(null,"async?","async?",1523057758),Zx=new D(null,"viewBox","viewBox",-469489477),$x=new D(null,"itemCount","itemCount",1702035352),ay=new D("entity-id","missing","entity-id/missing",1234588374),by=new A(null,"count","count",-514511684,null),dy=new D(null,"displace","displace",-1153355602),ey=new D("reitit.trie","parameters","reitit.trie/parameters",-1304786787),fy=new D(null,"qfind","qfind",1529332972),gy=new D(null,"handler","handler",-195596612),
hy=new D(null,"intra-block-nl","intra-block-nl",1808826875),iy=new D("parser","rule-vars","parser/rule-vars",-1493174969),jy=new D(null,"gen-max","gen-max",-793680445),bc=new D(null,"meta","meta",1499536964),ky=new A(null,"not-join","not-join",-645515756,null),ly=new D("widget.type","html","widget.type/html",-2034153477),my=new D(null,"datoms","datoms",-290874434),oy=new D("geoplot.feature","style","geoplot.feature/style",-895485302),py=new D(null,"right","right",-452581833),qy=new D(null,"compile",
"compile",608186429),ty=new A(null,"when","when",1064114221,null),uy=new A("cljs.core","set?","cljs.core/set?",-1176684971,null),vy=new D(null,"logical-blocks","logical-blocks",-1466339776),xy=new A(null,"\x3e\x3d","\x3e\x3d",1016916022,null),yy=new D(null,"find","find",496279456),Ay=new D(null,"rate-limit","rate-limit",1748082022),Cy=new A(null,"nil?","nil?",1612038930,null),Dy=new D("widget.geoplot","height","widget.geoplot/height",774138358),Fy=new D(null,"ref?","ref?",1932693720),Gy=new D(null,
"start-col","start-col",668080143),Hy=new D(null,"transact","transact",-267998670),Iy=new D("widget.geoplot","width","widget.geoplot/width",-600671533),Jy=new D(null,"into","into",-150836029),My=new A(null,"set!","set!",250714521,null),Oy=new D(null,"title","title",636505583),Py=new D("widget.geoplot","style","widget.geoplot/style",1499653960),Qy=new D(null,"new","new",-2085437848),Ry=new D("db","retract","db/retract",-1549825231),Sy=new D(null,"free","free",801364328),Ty=new D(null,"cljsLegacyRender",
"cljsLegacyRender",-1527295613),Vy=new A(null,"\x3c\x3d","\x3c\x3d",1244895369,null),Wy=new D(null,"ex-kind","ex-kind",1581199296),Yy=new D(null,"schema","schema",-1582001791),Zy=new D(null,"tx-data","tx-data",934159761),$y=new D(null,"amp","amp",271690571),az=new D("db.unique","value","db.unique/value",276903088),cz=new D("cljs.spec.alpha","cpred","cljs.spec.alpha/cpred",-693471218),dz=new D("reitit.coercion","parameter-coercion","reitit.coercion/parameter-coercion",-1825124100),ez=new A(null,"-Inf",
"-Inf",-2123243689,null),hz=new A(null,"name","name",-810760592,null),iz=new D(null,"padchar","padchar",2018584530),lz=new D(null,"children","children",-940561982),dc=new D(null,"print-length","print-length",1931866356),nz=new D(null,"nil","nil",99600501),oz=new A(null,"odd?","odd?",-1458588199,null),pz=new D("widget.type","vega-embed","widget.type/vega-embed",-887166019),rz=new D(null,"popstate-listener","popstate-listener",806944472),sz=new D(null,"buffer-block","buffer-block",-10937307),tz=new D("db.pull",
"reverse","db.pull/reverse",1999788297),uz=new D(null,"remaining-arg-count","remaining-arg-count",-1216589335),vz=new A(null,"keyword","keyword",-1843046022,null),wz=new D(null,"div.prose.prose-sm","div.prose.prose-sm",430504998),xz=new D("db","attrTuples","db/attrTuples",860541631),yz=new D(null,"stroke-linecap","stroke-linecap",-1201103248),zz=new D("datascript.db","internal","datascript.db/internal",-249301114),Az=new A(null,"rand","rand",-1745930995,null),Bz=new D(null,"prepend","prepend",342616040),
Cz=new D(null,"pull-attrs","pull-attrs",-974863177),Dz=new D(null,"on-write","on-write",31519475),Ez=new A(null,"set","set",1945134081,null),Fz=new D(null,"commainterval","commainterval",-1980061083),Gz=new D(null,"query-params","query-params",900640534),Hz=new D("db.fn","retractAttribute","db.fn/retractAttribute",937402164),Iz=new D(null,"keywordize?","keywordize?",-234306912),Kz=new D(null,"on-mouse-leave","on-mouse-leave",-1864319528),Lz=new D(null,"separator","separator",-1628749125),Mz=new A("datascript",
"Datom","datascript/Datom",-901340080,null),Nz=new A(null,"defonce","defonce",-1681484013,null),Oz=new D("datascript.db","tx-redundant","datascript.db/tx-redundant",-1117921977),Pz=new D(null,"buffer-level","buffer-level",928864731),Qz=new D("reitit.trie","unclosed-brackets","reitit.trie/unclosed-brackets",1599327560),Gl=new D(null,"pending","pending",-220036727),ac=new D(null,"readably","readably",1129599760),Tz=new D(null,"contextTypes","contextTypes",-2023853910),Vz=new D("datascript.impl.entity",
"nf","datascript.impl.entity/nf",-953741353),Wz=new D(null,"file","file",-1269645878),Xz=new D(null,"rschema","rschema",-1196134054),Yz=new D(null,"fill","fill",883462889),Zz=new D("widget.table","columns","widget.table/columns",2077293308),aA=new D(null,"attrs","attrs",-2090668713),bA=new D(null,"months","months",-45571637),cA=new D(null,"radix","radix",857016463),fA=new D(null,"distinct","distinct",-1788879121),gA=new D(null,"block","block",664686210),hA=new D(null,"div.flex.space-x-2","div.flex.space-x-2",
191162917),iA=new D(null,"variable","variable",-281346492),em=new D(null,"ancestors","ancestors",-776045424),jA=new D(null,"listeners","listeners",394544445),mA=new D(null,"min-remaining","min-remaining",962687677),oA=new D(null,"offset","offset",296498311),pA=new A(null,"-\x3e","-\x3e",-2139605430,null),qA=new D(null,"db-after","db-after",-571884666),rA=new D(null,"render","render",-1408033454),sA=new D(null,"entity","entity",-450970276),uA=new D(null,"arglists","arglists",1661989754),vA=new A(null,
"js*","js*",-1134233646,null),wA=new D(null,"end-pos","end-pos",-1643883926),xA=new D(null,"auto-run","auto-run",1958400437),yA=new D(null,"min-version","min-version",-1697197126),zA=new D(null,"pred-forms","pred-forms",172611832),AA=new D(null,"hours","hours",58380855),BA=new A(null,"tuple","tuple",1167864243,null),CA=new A(null,"count-distinct","count-distinct",-1566572514,null),EA=new A(null,"defn","defn",-126010802,null),FA=new A(null,"struct","struct",325972931,null),GA=new D(null,"recursion-limits",
"recursion-limits",1762857814),HA=new D("reitit.trie","multiple-terminators","reitit.trie/multiple-terminators",-116295163),IA=new D(null,"gfn","gfn",791517474),JA=new D(null,"namespaced-map","namespaced-map",1235665380),KA=new A(null,"prn-str","prn-str",-145225943,null),LA=new A(null,"...","...",-1926939749,null),MA=new D("widget.table","row-height","widget.table/row-height",570139217),NA=new D(null,"childContextTypes","childContextTypes",578717991),OA=new D(null,"input","input",556931961),RA=new D(null,
"\x3e","\x3e",-555517146),SA=new D(null,"eavt","eavt",-666437073),TA=new D(null,"mins","mins",467369676),UA=new D(null,"tag","tag",-1290361223),VA=new D(null,"linear","linear",872268697),WA=new A(null,"new","new",-444906321,null),XA=new D(null,"syntax","syntax",-1637761676),ZA=new D(null,"test","test",577538877),$A=new A(null,"\x3d","\x3d",-1501502141,null),aB=new D(null,"coerce","coerce",1917884504),bB=new A("datascript","DB","datascript/DB",-487332776,null),ll=new D(null,"alt-impl","alt-impl",670969595),
cB=new A(null,"not-empty","not-empty",2029453590,null),dB=new D(null,"conflict","conflict",1978796605),eB=new D(null,"datom","datom",-371556090),gB=new D(null,"path","path",-188191168),hB=new A(null,"with-local-vars","with-local-vars",837642072,null),jB=new A(null,"and","and",668631710,null),lB=new A(null,"throw","throw",595905694,null),nB=new A(null,"print-str","print-str",-699700354,null),oB=new D(null,"opt-specs","opt-specs",-384905450),qB=new D(null,"import","import",-1399500709),rB=new D(null,
"rules","rules",1198912366),sB=new D(null,"character","character",380652989),tB=new D("cljs.spec.alpha","kfn","cljs.spec.alpha/kfn",672643897),vB=new D(null,"reagent-render","reagent-render",-985383853),wB=new A(null,"loop*","loop*",615029416,null),xB=new D(null,"last","last",1105735132),yB=new A("cljs.core","vector?","cljs.core/vector?",-1550392028,null),zB=new A("cljs.core","lift-ns","cljs.core/lift-ns",463499081,null),AB=new D(null,"k","k",-2146297393),BB=new D(null,"div.flex.flex-1.space-x-2",
"div.flex.flex-1.space-x-2",-1554471704),CB=new D(null,"qreturn-map","qreturn-map",1841215994),DB=new D(null,"e","e",1381269198),FB=new D(null,"d","d",1972142424),GB=new D(null,"a","a",-2123407586),HB=new A(null,"pull","pull",779986722,null),JB=new D(null,"w","w",354169001),KB=new D(null,"v","v",21465059),LB=new D("geoplot.style","stroke","geoplot.style/stroke",-1145366218),NB=new D(null,"p","p",151049309),OB=new D(null,"componentWillUnmount","componentWillUnmount",1573788814),PB=new D(null,"n","n",
562130025),QB=new D(null,"func","func",-238706040),RB=new D(null,"got","got",-1674745710),SB=new A("cljs.core","contains?","cljs.core/contains?",-976526835,null),TB=new D(null,"indent-t","indent-t",528318969),UB=new D("widget.codemirror","mode","widget.codemirror/mode",-517946799),ml=new D(null,"fallback-impl","fallback-impl",-1501286995),VB=new D(null,"lookup","lookup",1225356838),WB=new D(null,"height","height",1025178622),XB=new D("parser","rule","parser/rule",-464044566),$B=new D("widget.codemirror",
"height","widget.codemirror/height",-960842196),bC=new D(null,"last-fragment","last-fragment",-919830173),fC=new D(null,"req-specs","req-specs",553962313),gC=new A(null,"distinct","distinct",-148347594,null),hC=new A(null,"get-else","get-else",1312024065,null),iC=new D(null,"allows-separator","allows-separator",-818967742),kC=new D(null,"colon-up-arrow","colon-up-arrow",244853007),lC=new A(null,"*","*",345799209,null),nC=new A(null,"avg","avg",1837937727,null),oC=new A(null,"not","not",1044554643,
null),pC=new A("cljs.spec.alpha","conformer","cljs.spec.alpha/conformer",2140085535,null),qC=new D("geoplot","color","geoplot/color",831577171),cl=new D(null,"more-marker","more-marker",-14717935),sC=new D(null,"index-access","index-access",-1548960265),tC=new D("parser","where","parser/where",-966053850),uC=new D(null,"aevt","aevt",-585148059),vC=new D(null,"nl-t","nl-t",-1608382114),wC=new A(null,"var","var",870848730,null),xC=new D(null,"qualifier","qualifier",125841738),Fl=new D(null,"ready",
"ready",1086465795),yC=new A(null,"neg?","neg?",-1902175577,null),AC=new A(null,"untuple","untuple",-606149900,null),BC=new D(null,"displayName","displayName",-809144601),CC=new D("cljs.spec.alpha","gfn","cljs.spec.alpha/gfn",-593120375),DC=new A(null,"mod","mod",1510044207,null),EC=new A(null,"cond","cond",1606708055,null),FC=new D(null,"element","element",1974019749),GC=new D(null,"char-format","char-format",-1016499218),HC=new A(null,"type","type",-1480165421,null),JC=new D(null,"getDerivedStateFromError",
"getDerivedStateFromError",166658477),KC=new D(null,"max-columns","max-columns",1742323262),LC=new D(null,"recursive?","recursive?",1340075244),NC=new A(null,"when-let","when-let",-1383043480,null),OC=new D("db","index","db/index",-1531680669),PC=new D(null,"header","header",119441134),RC=new D(null,"index","index",-1531685915),SC=new D("widget.html","src","widget.html/src",1397441752),TC=new D(null,"class","class",-2030961996),VC=new D("datascript.db","queued-tuples","datascript.db/queued-tuples",
-762852029),WC=new A(null,".",".",1975675962,null),XC=new D(null,"at","at",1476951349),YC=new D(null,"span.font-bold","span.font-bold",-460884588),ZC=new D(null,"ignore-anchor-click?","ignore-anchor-click?",-186007337),$C=new D(null,"reverse?","reverse?",-1672868474),aD=new D("cljs.spec.alpha","describe","cljs.spec.alpha/describe",1883026911),bD=new D("widget","markdown","widget/markdown",-145862203),cD=new D(null,"map-builder","map-builder",-1843343288),dD=new D(null,"__html","__html",674048345),
eD=new D("widget.geoplot","center","widget.geoplot/center",-530369016),fD=new D(null,"as","as",1148689641),gD=new D(null,"vargs","vargs",-966597273),iD=new D(null,"click-listen-key","click-listen-key",642240955),jD=new D(null,"queue","queue",1455835879),mD=new D("parser","find","parser/find",-801023103),nD=new D(null,"selector","selector",762528866),oD=new A("datascript.db","rschema","datascript.db/rschema",1982085018,null),pD=new D(null,"miser","miser",-556060186),rD=new D(null,"on-set","on-set",
-140953470),sD=new A(null,"inc","inc",324505433,null),tD=new D(null,"rule-vars","rule-vars",1665972520),vD=new D(null,"context","context",-830191113),wD=new D(null,"colnum","colnum",2023796854),xD=new A(null,"even?","even?",-1827825394,null),zD=new D(null,"query","query",-1288509510),AD=new D(null,"fn","fn",-1175266204),BD=new D(null,"args","args",1315556576),CD=new D(null,"freeze-kw","freeze-kw",391758233),DD=new D(null,"old","old",-1825222690),ED=new D(null,"pattern","pattern",242135423),FD=new D(null,
"component-did-update","component-did-update",-1468549173),HD=new D("muuntaja","request","muuntaja/request",-1616403792),JD=new D("parser","in","parser/in",1617442048),KD=new A("datascript.db","validate-schema","datascript.db/validate-schema",-783030261,null),LD=new D(null,"on-navigate","on-navigate",-297227908),MD=new D(null,"hash","hash",-13781596),ND=new A(null,"namespace","namespace",1263021155,null),OD=new D(null,"div.flex.flex-col.flex-1.items-center.justify-center","div.flex.flex-col.flex-1.items-center.justify-center",
-1334433298),PD=new D(null,"arg3","arg3",-1486822496),QD=new D(null,"min-level","min-level",1634684919),RD=new D(null,"arg1","arg1",951899358),SD=new D(null,"arg2","arg2",1729550917),TD=new D(null,"list","list",765357683),VD=new D("geoplot.feature","data-projection","geoplot.feature/data-projection",-1161515945),WD=new A(null,"rschema","rschema",444397473,null),XD=new D(null,"key","key",-1516042587),YD=new D(null,"db","db",993250759),ZD=new A(null,"rand-int","rand-int",-495012157,null),aE=new D(null,
"svg","svg",856789142),bE=new A(null,"+","+",-740910886,null),cE=new D(null,"generator-fn","generator-fn",811851656),dE=new D(null,"req-keys","req-keys",514319221),fE=new D(null,"overflowchar","overflowchar",-1620088106),hE=new D(null,"with","with",-1536296876),cm=new D(null,"parents","parents",-2027538891),kE=new D("widget.type","row","widget.type/row",330405211),lE=new A(null,"if-let","if-let",1803593690,null),nE=new A(null,"condp","condp",1054325175,null),oE=new A(null,"rem","rem",664046770,null),
pE=new D(null,"in","in",-1531184865),qE=new D(null,"opt","opt",-794706369),sE=new D(null,"freeze-fn","freeze-fn",-575885995),tE=new D(null,"shouldComponentUpdate","shouldComponentUpdate",1795750960),uE=new D(null,"assertion","assertion",-1645134882),wE=new D(null,"id","id",-1388402092),xE=new A(null,"?e","?e",-1194391683,null),yE=new D(null,"stream","stream",1534941648),zE=new D(null,"last-attr","last-attr",-526000708),AE=new A(null,"false?","false?",-1522377573,null),CE=new D(null,"indent","indent",
-148200125),EE=new D("db","add","db/add",235286841),FE=new D("widget.type","geoplot","widget.type/geoplot",298472257),GE=new D("reitit.trie","following-parameters","reitit.trie/following-parameters",-1072685800),HE=new D(null,"else-params","else-params",-832171646),IE=new D(null,"keyword","keyword",811389747),JE=new D(null,"end-block-t","end-block-t",1544648735),KE=new D(null,"tempids","tempids",1767509089),LE=new D(null,"max-count","max-count",1539185305);function ME(a,b,c){var d=RegExp,e=b.source,f=r(b.ignoreCase)?"gi":"g";f=r(b.multiline)?[f,"m"].join(""):f;b=r(b.unicode)?[f,"u"].join(""):f;return a.replace(new d(e,b),c)}
function NE(a){return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=Th(2,d);if(F.B(K(d),1))return d=H(d),a.C?a.C(d):a.call(null,d);d=Ji(d);return a.C?a.C(d):a.call(null,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}
function OE(a,b,c){if("string"===typeof b)return a.replace(new RegExp(String(b).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),c);if(b instanceof RegExp)return"string"===typeof c?ME(a,b,c):ME(a,b,NE(c));throw["Invalid match arg: ",t.C(b)].join("");}function PE(a,b){var c=new Pb;for(b=G(b);;)if(null!=b)c.append(t.C(H(b))),b=J(b),null!=b&&c.append(a);else return c.toString()}
function QE(a,b){if(0>=b||b>=2+K(a))return hf.B(Ji(Ze("",Qh.B(t,G(a)))),"");if(r(jg.B?jg.B(1,b):jg.call(null,1,b)))return new X(null,1,5,Z,[a],null);if(r(jg.B?jg.B(2,b):jg.call(null,2,b)))return new X(null,2,5,Z,["",a],null);b-=2;return hf.B(Ji(Ze("",Ti(Ji(Qh.B(t,G(a))),0,b))),lg.B(a,b))}
function SE(a,b,c){if("/(?:)/"===t.C(b))b=QE(a,c);else if(1>c)b=Ji(t.C(a).split(b));else a:for(var d=c,e=jf;;){if(1===d){b=hf.B(e,a);break a}var f=Yk(b,a);if(null!=f){var h=a.indexOf(f);f=a.substring(h+K(f));--d;e=hf.B(e,a.substring(0,h));a=f}else{b=hf.B(e,a);break a}}if(0===c&&1<K(b))a:for(c=b;;)if(""===(null==c?null:bd(c)))c=null==c?null:cd(c);else break a;else c=b;return c}function XE(a){return Qa(null==a?"":String(a))}function YE(a){a=a.indexOf("/");return 0>a?null:a}
function ZE(a,b,c){a=a.indexOf(b,c);return 0>a?null:a};var $E={},$a,ab,bb,cb,ib,jb,gF=function gF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return gF.I(c)};gF.I=function(a){return yd(Tb,Ug(tl,a))};gF.aa=0;gF.fa=function(a){return this.I(G(a))};var hF=function hF(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return hF.I(c)};hF.I=function(a){return yd(Tb,Ug(rl,a))};hF.aa=0;hF.fa=function(a){return this.I(G(a))};
function iF(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;Ug(hF,b);yd(Tb,"\n")}function jF(a){if("number"===typeof a)return a;if("string"===typeof a&&1===a.length)return a.charCodeAt(0);throw Error("Argument to char must be a character or number");}
function kF(a,b,c){var d=c;for(c=jf;;){if(tf(d))return new X(null,2,5,Z,[c,b],null);var e=H(d);d=J(d);e=Ug(a,new X(null,2,5,Z,[e,b],null));b=N(e,0,null);e=N(e,1,null);c=hf.B(c,b);b=e}}function lF(a,b){var c=b;for(b=jf;;){var d=Ug(a,new X(null,1,5,Z,[c],null));c=N(d,0,null);d=N(d,1,null);if(ic(c))return new X(null,2,5,Z,[b,d],null);b=hf.B(b,c);c=d}}
function mF(a){return new X(null,2,5,Z,[fi.B(W,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);var u=N(n,0,null);N(n,1,null);k.add(new X(null,2,5,Z,[p,u],null));m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);h=N(f,0,null);N(f,1,null);return Ze(new X(null,2,5,Z,[k,h],null),d(ue(e)))}return null}},null,null)}(a)}()),
fi.B(W,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);N(n,0,null);n=N(n,1,null);k.add(new X(null,2,5,Z,[p,n],null));m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);N(f,0,null);f=N(f,1,null);return Ze(new X(null,2,5,Z,[k,f],null),d(ue(e)))}return null}},null,null)}(a)}())],null)}
function nF(a,b){return fi.B(W,function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Ag(k);a:for(var n=0;;)if(n<k){var p=x(h,n),u=N(p,0,null);p=N(p,1,null);m.add(new X(null,2,5,Z,[u,new X(null,2,5,Z,[p,b],null)],null));n+=1}else{h=!0;break a}return h?Cg(Gg(m),e(Qd(f))):Cg(Gg(m),null)}h=H(f);m=N(h,0,null);h=N(h,1,null);return Ze(new X(null,2,5,Z,[m,new X(null,2,5,Z,[h,b],null)],null),e(ue(f)))}return null}},null,null)}(a)}())}
function oF(){var a=Tb;if(null!=a&&null!=a.nh)a.nh(a);else{var b=oF[ha(null==a?null:a)];if(null!=b)b.C?b.C(a):b.call(null,a);else if(b=oF._,null!=b)b.C?b.C(a):b.call(null,a);else throw pc("IPrettyFlush.-ppflush",a);}}function pF(a,b){a=y(y(a));return b.C?b.C(a):b.call(null,a)}function qF(a,b,c){Gh.R(y(a),Q,b,c)}function rF(a,b){F.B(b,"\n")?(qF(a,Ip,0),qF(a,Gm,pF(a,Gm)+1)):qF(a,Ip,pF(a,Ip)+1);return yd(pF(a,Ax),b)}
function sF(a,b){var c=Eh(new q(null,4,[ft,b,Ip,0,Gm,0,Ax,a],null));if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof $a)$a=function(d,e,f,h){this.wb=d;this.Eh=e;this.fields=f;this.ob=h;this.O=1074167808;this.T=0},$a.prototype.ha=function(d,e){return new $a(this.wb,this.Eh,this.fields,e)},$a.prototype.ga=function(){return this.ob},$a.prototype.Ub=function(){return this.fields},$a.prototype.Td=function(){return zd(this.wb)},$a.prototype.we=function(d,e){d=oc(e);if(r(F.B?F.B(String,
d):F.call(null,String,d)))return d=e.lastIndexOf("\n"),0>d?qF(this,Ip,pF(this,Ip)+K(e)):(qF(this,Ip,K(e)-d-1),qF(this,Gm,pF(this,Gm)+K(di(function(f){return F.B(f,"\n")},e)))),yd(pF(this,Ax),e);if(r(F.B?F.B(Number,d):F.call(null,Number,d)))return rF(this,e);throw Error(["No matching clause: ",t.C(d)].join(""));},$a.Wa=!0,$a.Sa="cljs.pprint/t_cljs$pprint21611",$a.Za=function(d){return yd(d,"cljs.pprint/t_cljs$pprint21611")};return new $a(a,b,c,W)}
function tF(a,b,c,d,e,f,h,k,m,n,p,u,v){this.parent=a;this.jc=b;this.$b=c;this.indent=d;this.cc=e;this.dc=f;this.prefix=h;this.ic=k;this.suffix=m;this.ec=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=tF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "parent":return this.parent;case "section":return this.jc;case "start-col":return this.$b;case "indent":return this.indent;case "done-nl":return this.cc;case "intra-block-nl":return this.dc;case "prefix":return this.prefix;case "per-line-prefix":return this.ic;case "suffix":return this.suffix;case "logical-block-callback":return this.ec;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.logical-block{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[cp,this.parent],null),new X(null,2,5,Z,[Tt,this.jc],null),new X(null,2,5,Z,[Gy,this.$b],null),new X(null,2,5,Z,[CE,this.indent],null),new X(null,2,5,Z,[$m,this.cc],null),new X(null,2,5,Z,[hy,this.dc],null),new X(null,2,5,Z,[Fx,this.prefix],null),new X(null,2,5,Z,[Pm,this.ic],null),new X(null,2,5,Z,[bu,this.suffix],null),new X(null,2,5,Z,[Su,
this.ec],null)],null),this.F))};g.qa=function(){return new dj(this,10,new X(null,10,5,Z,[cp,Tt,Gy,CE,$m,hy,Fx,Pm,bu,Su],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1977012399^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.parent,b.parent)&&F.B(this.jc,b.jc)&&F.B(this.$b,b.$b)&&F.B(this.indent,b.indent)&&F.B(this.cc,b.cc)&&F.B(this.dc,b.dc)&&F.B(this.prefix,b.prefix)&&F.B(this.ic,b.ic)&&F.B(this.suffix,b.suffix)&&F.B(this.ec,b.ec)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,10,[bu,null,CE,null,cp,null,Tt,null,$m,null,Gy,null,Fx,null,Pm,null,Su,null,hy,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "parent":case "section":case "start-col":case "indent":case "done-nl":case "intra-block-nl":case "prefix":case "per-line-prefix":case "suffix":case "logical-block-callback":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(cp,b):U.call(null,cp,b))?new tF(c,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(Tt,b):U.call(null,Tt,b))?new tF(this.parent,c,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(Gy,b):U.call(null,Gy,b))?new tF(this.parent,this.jc,c,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(CE,b):U.call(null,
CE,b))?new tF(this.parent,this.jc,this.$b,c,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B($m,b):U.call(null,$m,b))?new tF(this.parent,this.jc,this.$b,this.indent,c,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(hy,b):U.call(null,hy,b))?new tF(this.parent,this.jc,this.$b,this.indent,this.cc,c,this.prefix,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(Fx,b):U.call(null,Fx,b))?new tF(this.parent,this.jc,this.$b,this.indent,
this.cc,this.dc,c,this.ic,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(Pm,b):U.call(null,Pm,b))?new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,c,this.suffix,this.ec,this.G,this.F,null):r(U.B?U.B(bu,b):U.call(null,bu,b))?new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,c,this.ec,this.G,this.F,null):r(U.B?U.B(Su,b):U.call(null,Su,b))?new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,c,this.G,
this.F,null):new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(cp,this.parent,null),new Y(Tt,this.jc,null),new Y(Gy,this.$b,null),new Y(CE,this.indent,null),new Y($m,this.cc,null),new Y(hy,this.dc,null),new Y(Fx,this.prefix,null),new Y(Pm,this.ic,null),new Y(bu,this.suffix,null),new Y(Su,this.ec,null)],null),this.F))};
g.ha=function(a,b){return new tF(this.parent,this.jc,this.$b,this.indent,this.cc,this.dc,this.prefix,this.ic,this.suffix,this.ec,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function uF(a,b){for(b=cp.C(b);;){if(null==b)return!1;if(a===b)return!0;b=cp.C(b)}}function vF(a,b,c,d,e,f,h,k){this.va=a;this.data=b;this.gd=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=vF.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "data":return this.data;case "trailing-white-space":return this.gd;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.buffer-blob{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Jv,this.va],null),new X(null,2,5,Z,[Um,this.data],null),new X(null,2,5,Z,[$n,this.gd],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[Jv,Um,$n,Jx,wA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new vF(this.va,this.data,this.gd,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1809113693^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.data,b.data)&&F.B(this.gd,b.gd)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[wA,null,$n,null,Jv,null,Jx,null,Um,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new vF(this.va,this.data,this.gd,this.ua,this.ta,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "data":case "trailing-white-space":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Jv,b):U.call(null,Jv,b))?new vF(c,this.data,this.gd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Um,b):U.call(null,Um,b))?new vF(this.va,c,this.gd,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B($n,b):U.call(null,$n,b))?new vF(this.va,this.data,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new vF(this.va,this.data,this.gd,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new vF(this.va,this.data,this.gd,this.ua,c,this.G,
this.F,null):new vF(this.va,this.data,this.gd,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Jv,this.va,null),new Y(Um,this.data,null),new Y($n,this.gd,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new vF(this.va,this.data,this.gd,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function wF(a,b,c,d,e,f,h,k){this.va=a;this.type=b;this.Ea=c;this.ua=d;this.ta=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=wF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "type":return this.type;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.nl-t{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Jv,this.va],null),new X(null,2,5,Z,[uo,this.type],null),new X(null,2,5,Z,[Oo,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};
g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[Jv,uo,Oo,Jx,wA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new wF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1640656800^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.type,b.type)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,5,[wA,null,uo,null,Oo,null,Jv,null,Jx,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new wF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "type":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Jv,b):U.call(null,Jv,b))?new wF(c,this.type,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(uo,b):U.call(null,uo,b))?new wF(this.va,c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Oo,b):U.call(null,Oo,b))?new wF(this.va,this.type,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new wF(this.va,this.type,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new wF(this.va,this.type,this.Ea,this.ua,c,this.G,
this.F,null):new wF(this.va,this.type,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Jv,this.va,null),new Y(uo,this.type,null),new Y(Oo,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new wF(this.va,this.type,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function xF(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=xF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.start-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Jv,this.va],null),new X(null,2,5,Z,[Oo,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};
g.qa=function(){return new dj(this,4,new X(null,4,5,Z,[Jv,Oo,Jx,wA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new xF(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-414877272^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,4,[wA,null,Oo,null,Jv,null,Jx,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new xF(this.va,this.Ea,this.ua,this.ta,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Jv,b):U.call(null,Jv,b))?new xF(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Oo,b):U.call(null,Oo,b))?new xF(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new xF(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new xF(this.va,this.Ea,this.ua,c,this.G,this.F,null):new xF(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(Jv,this.va,null),new Y(Oo,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new xF(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function yF(a,b,c,d,e,f,h){this.va=a;this.Ea=b;this.ua=c;this.ta=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=yF.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.end-block-t{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[Jv,this.va],null),new X(null,2,5,Z,[Oo,this.Ea],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new dj(this,4,new X(null,4,5,Z,[Jv,Oo,Jx,wA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new yF(this.va,this.Ea,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1365867980^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,4,[wA,null,Oo,null,Jv,null,Jx,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new yF(this.va,this.Ea,this.ua,this.ta,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Jv,b):U.call(null,Jv,b))?new yF(c,this.Ea,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Oo,b):U.call(null,Oo,b))?new yF(this.va,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new yF(this.va,this.Ea,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new yF(this.va,this.Ea,this.ua,c,this.G,this.F,null):new yF(this.va,this.Ea,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(Jv,this.va,null),new Y(Oo,this.Ea,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};g.ha=function(a,b){return new yF(this.va,this.Ea,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function zF(a,b,c,d,e,f,h,k,m){this.va=a;this.Ea=b;this.Rc=c;this.offset=d;this.ua=e;this.ta=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=zF.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type-tag":return this.va;case "logical-block":return this.Ea;case "relative-to":return this.Rc;case "offset":return this.offset;case "start-pos":return this.ua;case "end-pos":return this.ta;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.indent-t{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[Jv,this.va],null),new X(null,2,5,Z,[Oo,this.Ea],null),new X(null,2,5,Z,[Es,this.Rc],null),new X(null,2,5,Z,[oA,this.offset],null),new X(null,2,5,Z,[Jx,this.ua],null),new X(null,2,5,Z,[wA,this.ta],null)],null),this.F))};g.qa=function(){return new dj(this,6,new X(null,6,5,Z,[Jv,Oo,Es,oA,Jx,wA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new zF(this.va,this.Ea,this.Rc,this.offset,this.ua,this.ta,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1602780238^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.va,b.va)&&F.B(this.Ea,b.Ea)&&F.B(this.Rc,b.Rc)&&F.B(this.offset,b.offset)&&F.B(this.ua,b.ua)&&F.B(this.ta,b.ta)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,6,[oA,null,wA,null,Es,null,Oo,null,Jv,null,Jx,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new zF(this.va,this.Ea,this.Rc,this.offset,this.ua,this.ta,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type-tag":case "logical-block":case "relative-to":case "offset":case "start-pos":case "end-pos":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Jv,b):U.call(null,Jv,b))?new zF(c,this.Ea,this.Rc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Oo,b):U.call(null,Oo,b))?new zF(this.va,c,this.Rc,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Es,b):U.call(null,Es,b))?new zF(this.va,this.Ea,c,this.offset,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(oA,b):U.call(null,oA,b))?new zF(this.va,this.Ea,this.Rc,c,this.ua,this.ta,this.G,this.F,null):r(U.B?U.B(Jx,b):U.call(null,Jx,b))?new zF(this.va,
this.Ea,this.Rc,this.offset,c,this.ta,this.G,this.F,null):r(U.B?U.B(wA,b):U.call(null,wA,b))?new zF(this.va,this.Ea,this.Rc,this.offset,this.ua,c,this.G,this.F,null):new zF(this.va,this.Ea,this.Rc,this.offset,this.ua,this.ta,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(Jv,this.va,null),new Y(Oo,this.Ea,null),new Y(Es,this.Rc,null),new Y(oA,this.offset,null),new Y(Jx,this.ua,null),new Y(wA,this.ta,null)],null),this.F))};
g.ha=function(a,b){return new zF(this.va,this.Ea,this.Rc,this.offset,this.ua,this.ta,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};var AF=function(){var a=Eh(W),b=Eh(W),c=Eh(W),d=Eh(W),e=B.D(W,Rr,bm.P?bm.P():bm.call(null));return new nm(oe.B("cljs.pprint","write-token"),function(f,h){return Jv.C(h)},e,a,b,c,d)}();
AF.mb(null,Nm,function(a,b){var c=Su.C(y(y(a)));r(c)&&(c.C?c.C(kw):c.call(null,kw));b=Oo.C(b);c=Fx.C(b);r(c)&&yd(Ax.C(y(y(a))),c);a=pF(Ax.C(y(y(a))),Ip);Fh(Gy.C(b),a);return Fh(CE.C(b),a)});AF.mb(null,JE,function(a,b){var c=Su.C(y(y(a)));r(c)&&(c.C?c.C(ss):c.call(null,ss));b=bu.C(Oo.C(b));return r(b)?yd(Ax.C(y(y(a))),b):null});
AF.mb(null,TB,function(a,b){var c=Oo.C(b),d=CE.C(c),e=oA.C(b);b=Es.C(b);if(r(F.B?F.B(gA,b):F.call(null,gA,b)))a=y(Gy.C(c));else if(r(F.B?F.B(Vo,b):F.call(null,Vo,b)))a=pF(Ax.C(y(y(a))),Ip);else throw Error(["No matching clause: ",t.C(b)].join(""));return Fh(d,e+a)});AF.mb(null,us,function(a,b){return yd(Ax.C(y(y(a))),Um.C(b))});
AF.mb(null,vC,function(a,b){var c=F.B(uo.C(b),pn);c||(c=(c=!F.B(uo.C(b),Yz))?y($m.C(Oo.C(b))):c);r(c)?BF.B?BF.B(a,b):BF.call(null,a,b):(b=$n.C(y(y(a))),r(b)&&yd(Ax.C(y(y(a))),b));return Gh.R(y(a),Q,$n,null)});
function CF(a,b,c){b=G(b);for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);if(!F.B(Jv.C(h),vC)){var k=$n.C(y(y(a)));r(k)&&yd(Ax.C(y(y(a))),k)}AF.B(a,h);Gh.R(y(a),Q,$n,$n.C(h));h=$n.C(y(y(a)));r(r(c)?h:c)&&(yd(Ax.C(y(y(a))),h),Gh.R(y(a),Q,$n,null));f+=1}else if(b=G(b))Af(b)?(d=Pd(b),b=Qd(b),h=d,e=K(d),d=h):(h=H(b),F.B(Jv.C(h),vC)||(d=$n.C(y(y(a))),r(d)&&yd(Ax.C(y(y(a))),d)),AF.B(a,h),Gh.R(y(a),Q,$n,$n.C(h)),h=$n.C(y(y(a))),r(r(c)?h:c)&&(yd(Ax.C(y(y(a))),h),Gh.R(y(a),Q,$n,null)),b=J(b),d=null,e=
0),f=0;else break}function DF(a,b){var c=pF(Ax.C(y(y(a))),ft),d;(d=null==c)||(a=pF(Ax.C(y(y(a))),Ip),b=(b=G(b))?wA.C(gf(b))-Jx.C(H(b)):0,d=a+b<c);return d}function EF(a,b,c){b=y($m.C(b));return r(b)?b:!DF(a,c)}function FF(a,b,c){var d=qt.C(y(y(a))),e=pF(Ax.C(y(y(a))),ft);return r(d)?r(e)?(d=y(Gy.C(b))>=e-d)?EF(a,b,c):d:e:d}var GF=function(){var a=Eh(W),b=Eh(W),c=Eh(W),d=Eh(W),e=B.D(W,Rr,bm.P?bm.P():bm.call(null));return new nm(oe.B("cljs.pprint","emit-nl?"),function(f){return uo.C(f)},e,a,b,c,d)}();
GF.mb(null,VA,function(a,b,c){a=Oo.C(a);return EF(b,a,c)});GF.mb(null,pD,function(a,b,c){a=Oo.C(a);return FF(b,a,c)});GF.mb(null,Yz,function(a,b,c,d){a=Oo.C(a);var e=y(hy.C(a));return r(e)?e:(d=!DF(b,d))?d:FF(b,a,c)});GF.mb(null,pn,function(){return!0});function HF(a){var b=H(a),c=Oo.C(b);b=G(Lk(function(d){return!(F.B(Jv.C(d),vC)&&uF(Oo.C(d),c))},J(a)));return new X(null,2,5,Z,[b,G(Sh(K(b)+1,a))],null)}
function IF(a){var b=H(a),c=Oo.C(b);return G(Lk(function(d){var e=Oo.C(d);return!(F.B(Jv.C(d),vC)&&(F.B(e,c)||uF(e,c)))},J(a)))}function BF(a,b){yd(Ax.C(y(y(a))),"\n");Gh.R(y(a),Q,$n,null);b=Oo.C(b);var c=Pm.C(b);r(c)&&yd(Ax.C(y(y(a))),c);c=Ug(t,Xh(y(CE.C(b))-K(c)," "));yd(Ax.C(y(y(a))),c);a:for(Fh(hy.C(b),!0),Fh($m.C(b),!0),a=cp.C(b);;)if(r(a))Fh($m.C(a),!0),Fh(hy.C(a),!0),a=cp.C(a);else break a;return null}
function JF(a){var b=G(Lk(function(c){return!F.B(Jv.C(c),vC)},a));return new X(null,2,5,Z,[b,G(Sh(K(b),a))],null)}var KF=function KF(a,b){var d=JF(b);b=N(d,0,null);var e=N(d,1,null);r(b)&&CF(a,b,!1);if(r(e)){d=HF(e);b=N(d,0,null);d=N(d,1,null);var f=H(e),h=GF.R(f,a,b,IF(e));r(h)&&(BF(a,f),e=J(e));DF(a,e)?a=e:(e=KF.B?KF.B(a,b):KF.call(null,a,b),F.B(e,b)?(CF(a,b,!1),a=d):a=fi.B(jf,V.B(e,d)));return a}return null};
function LF(a){for(var b=ju.C(y(y(a)));;){Gh.R(y(a),Q,ju,fi.B(jf,b));if(DF(a,b))return null;var c=KF(a,b);if(b!==c)b=c;else return null}}function MF(a,b){Gh.R(y(a),Q,ju,hf.B(ju.C(y(y(a))),b));return DF(a,ju.C(y(y(a))))?null:LF(a)}function NF(a){var b=$n.C(y(y(a)));return r(b)?(yd(Ax.C(y(y(a))),b),Gh.R(y(a),Q,$n,null)):null}
function OF(a,b){var c=SE(b,"\n",-1);if(F.B(K(c),1))return b;b=Pm.C(H(vy.C(y(y(a)))));var d=H(c);if(F.B(Vw,dt.C(y(y(a))))){var e=Op.C(y(y(a))),f=e+K(d);Gh.R(y(a),Q,Op,f);MF(a,new vF(us,d,null,e,f,null,null,null));LF(a);d=ju.C(y(y(a)));r(d)&&(CF(a,d,!0),Gh.R(y(a),Q,ju,jf))}else NF(a),yd(Ax.C(y(y(a))),d);yd(Ax.C(y(y(a))),"\n");d=G(J(Gk(c)));e=null;for(var h=f=0;;)if(h<f){var k=e.Da(null,h);yd(Ax.C(y(y(a))),k);yd(Ax.C(y(y(a))),"\n");r(b)&&yd(Ax.C(y(y(a))),b);h+=1}else if(d=G(d))e=d,Af(e)?(d=Pd(e),h=
Qd(e),e=d,f=K(d),d=h):(d=H(e),yd(Ax.C(y(y(a))),d),yd(Ax.C(y(y(a))),"\n"),r(b)&&yd(Ax.C(y(y(a))),b),d=J(e),e=null,f=0),h=0;else break;Gh.R(y(a),Q,Vw,Wo);return gf(c)}
function PF(a){var b=QF,c=RF,d=new tF(null,null,Eh(0),Eh(0),Eh(!1),Eh(!1),null,null,null,null,null,null,null),e=Eh(Wj([vy,qt,sz,Yp,gr,dt,Op,$n,Ax,Pz,ju],[d,c,d,!0,null,Wo,0,null,sF(a,b),1,jf]));if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof ab)ab=function(f,h,k,m,n,p){this.wb=f;this.Eh=h;this.ql=k;this.Ek=m;this.fields=n;this.pb=p;this.O=1074167808;this.T=0},ab.prototype.ha=function(f,h){return new ab(this.wb,this.Eh,this.ql,this.Ek,this.fields,h)},ab.prototype.ga=function(){return this.pb},
ab.prototype.Ub=function(){return this.fields},ab.prototype.we=function(f,h){f=oc(h);if(r(F.B?F.B(String,f):F.call(null,String,f))){var k=OF(this,h);h=k.replace(/\s+$/,"");f=lg.B(k,h.length);var m=dt.C(y(y(this)));if(F.B(m,Wo))return NF(this),yd(Ax.C(y(y(this))),h),Gh.R(y(this),Q,$n,f);m=Op.C(y(y(this)));k=m+K(k);Gh.R(y(this),Q,Op,k);return MF(this,new vF(us,h,f,m,k,null,null,null))}if(r(F.B?F.B(Number,f):F.call(null,Number,f)))return F.B(dt.C(y(y(this))),Wo)?(NF(this),h=yd(Ax.C(y(y(this))),h)):F.B(h,
"\n")?h=OF(this,"\n"):(f=Op.C(y(y(this))),k=f+1,Gh.R(y(this),Q,Op,k),h=dg(h),h=MF(this,new vF(us,h,null,f,k,null,null,null))),h;throw Error(["No matching clause: ",t.C(f)].join(""));},ab.prototype.Td=function(){this.nh(null);return zd(Ax.C(y(y(this))))},ab.prototype.nh=function(){return F.B(dt.C(y(y(this))),Vw)?(CF(this,ju.C(y(y(this))),!0),Gh.R(y(this),Q,ju,jf)):NF(this)},ab.Wa=!0,ab.Sa="cljs.pprint/t_cljs$pprint22745",ab.Za=function(f){return yd(f,"cljs.pprint/t_cljs$pprint22745")};return new ab(a,
b,c,d,e,W)}function SF(a,b){var c=Tb;b=new tF(vy.C(y(y(c))),null,Eh(0),Eh(0),Eh(!1),Eh(!1),a,null,b,null,null,null,null);Gh.R(y(c),Q,vy,b);if(F.B(dt.C(y(y(c))),Wo)){NF(c);var d=Su.C(y(y(c)));r(d)&&(d.C?d.C(kw):d.call(null,kw));r(a)&&yd(Ax.C(y(y(c))),a);c=pF(Ax.C(y(y(c))),Ip);Fh(b.$b,c);Fh(b.indent,c)}else d=Op.C(y(y(c))),a=d+(r(a)?K(a):0),Gh.R(y(c),Q,Op,a),MF(c,new xF(Nm,b,d,a,null,null,null))}
function TF(){var a=Tb,b=vy.C(y(y(a))),c=bu.C(b);if(F.B(dt.C(y(y(a))),Wo)){NF(a);r(c)&&yd(Ax.C(y(y(a))),c);var d=Su.C(y(y(a)));r(d)&&(d.C?d.C(ss):d.call(null,ss))}else d=Op.C(y(y(a))),c=d+(r(c)?K(c):0),Gh.R(y(a),Q,Op,c),MF(a,new yF(JE,b,d,c,null,null,null));Gh.R(y(a),Q,vy,cp.C(b))}var UF=!0,VF=null,QF=72,RF=40,WF=null,XF=null,YF=null,ZF=null,$F=10,aG=0,bG=null;function cG(a){var b=null!=a?a.O&32768||l===a.yi?!0:a.O?!1:nc(fd,a):nc(fd,a);return b?Yp.C(y(y(a))):b}
function dG(a){var b=bG;r(b)&&(b=Xb,b=r(b)?bG>=Xb:b);ic(UF)?hF.call(null,a):r(b)?yd(Tb,"..."):(r(bG)&&(bG+=1),VF.call(null,a));return b}var eG=function eG(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return eG.I(arguments[0],c)};
eG.I=function(a,b){var c=vk.I(M([new q(null,1,[yE,!0],null),Ug(qk,b)]));b=$F;var d=XF,e=Xb,f=Yb,h=WF,k=RF,m=VF,n=UF,p=ZF,u=Wb,v=QF,z=YF,C=Ax.B(c,$F),E=gw.B(c,XF),I=vw.B(c,Xb),O=zm.B(c,Yb),P=hr.B(c,WF),T=qt.B(c,RF),aa=zt.B(c,VF),ea=cq.B(c,UF),va=cA.B(c,ZF),ua=ac.B(c,Wb),Ma=Jn.B(c,QF),Ka=$o.B(c,YF);$F=C;XF=E;Xb=I;Yb=O;WF=P;RF=T;VF=aa;UF=ea;ZF=va;Wb=ua;QF=Ma;YF=Ka;try{var la=new Pb,ya=S(c,yE)?yE.C(c):!0,sa=!0===ya||null==ya?new Zd(la):ya;if(r(UF)){var Da=ic(cG(sa));c=Tb;Tb=Da?PF(sa):sa;try{dG(a),oF()}finally{Tb=
c}}else{Da=Tb;Tb=sa;try{hF.call(null,a)}finally{Tb=Da}}!0===ya&&el(t.C(la));return null==ya?t.C(la):null}finally{YF=z,QF=v,Wb=u,ZF=p,UF=n,VF=m,RF=k,WF=h,Yb=f,Xb=e,XF=d,$F=b}};eG.aa=1;eG.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function fG(){var a=new X(null,6,5,Z,[yy,new X(null,2,5,Z,[pg(HB,xE,new X(null,1,5,Z,[zp],null)),LA],null),pE,co,Tn,new X(null,2,5,Z,[xE,lv],null)],null);var b=y(gG);a=hG.B?hG.B(a,b):hG.call(null,a,b);b=new Pb;var c=Tb;Tb=new Zd(b);try{var d=Tb,e=ic(cG(d)),f=Tb;Tb=e?PF(d):d;try{e=UF;UF=!0;try{dG(a)}finally{UF=e}F.B(0,pF(Tb,Ip))||yd(Tb,"\n");oF()}finally{Tb=f}el(t.C(b))}finally{Tb=c}}
function iG(a,b){if(ic(b.C?b.C(a):b.call(null,a)))throw Error(["Bad argument: ",t.C(a),". It must be one of ",t.C(b)].join(""));}function jG(){var a=Yb;return r(a)?aG>=Yb:a}function kG(a){iG(a,new Ak(null,new q(null,4,[pn,null,pD,null,Yz,null,VA,null],null),null));var b=Tb;Gh.R(y(b),Q,dt,Vw);var c=Op.C(y(y(b))),d=vy.C(y(y(b)));MF(b,new wF(vC,a,d,c,c,null,null,null))}
function lG(a,b){iG(a,new Ak(null,new q(null,2,[gA,null,Vo,null],null),null));var c=Tb,d=vy.C(y(y(c)));if(F.B(dt.C(y(y(c))),Wo)){NF(c);var e=CE.C(d);if(r(F.B?F.B(gA,a):F.call(null,gA,a)))a=y(Gy.C(d));else if(r(F.B?F.B(Vo,a):F.call(null,Vo,a)))a=pF(Ax.C(y(y(c))),Ip);else throw Error(["No matching clause: ",t.C(a)].join(""));Fh(e,b+a)}else e=Op.C(y(y(c))),MF(c,new zF(TB,d,a,b,e,e,null,null,null))}
function mG(a,b,c){b="string"===typeof b?nG(b):b;c=oG(c);a:{var d=new Pb,e=ic(a)||!0===a?new Zd(d):a,f=pG(b)&&ic(cG(e))?r(cG(e))?e:PF(e):e,h=Tb;Tb=f;try{try{qG(b,c)}finally{e!==f&&zd(f)}var k=ic(a)?t.C(d):!0===a?el(t.C(d)):null;break a}finally{Tb=h}k=void 0}return k}var rG=null;function sG(a,b){a=[t.C(a),"\n",t.C(rG),"\n",t.C(Ug(t,Xh(b," "))),"^\n"].join("");throw Error(a);}function tG(a,b,c,d,e,f){this.Md=a;this.rest=b;this.pos=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=tG.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seq":return this.Md;case "rest":return this.rest;case "pos":return this.pos;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.arg-navigator{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[ox,this.Md],null),new X(null,2,5,Z,[Aq,this.rest],null),new X(null,2,5,Z,[Op,this.pos],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[ox,Aq,Op],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new tG(this.Md,this.rest,this.pos,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-402038447^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Md,b.Md)&&F.B(this.rest,b.rest)&&F.B(this.pos,b.pos)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[Op,null,ox,null,Aq,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new tG(this.Md,this.rest,this.pos,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seq":case "rest":case "pos":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(ox,b):U.call(null,ox,b))?new tG(c,this.rest,this.pos,this.G,this.F,null):r(U.B?U.B(Aq,b):U.call(null,Aq,b))?new tG(this.Md,c,this.pos,this.G,this.F,null):r(U.B?U.B(Op,b):U.call(null,Op,b))?new tG(this.Md,this.rest,c,this.G,this.F,null):new tG(this.Md,this.rest,this.pos,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(ox,this.Md,null),new Y(Aq,this.rest,null),new Y(Op,this.pos,null)],null),this.F))};g.ha=function(a,b){return new tG(this.Md,this.rest,this.pos,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function oG(a){a=G(a);return new tG(a,a,0,null,null,null)}
function uG(a){var b=Aq.C(a);if(r(b))return new X(null,2,5,Z,[H(b),new tG(ox.C(a),J(b),Op.C(a)+1,null,null,null)],null);throw Error("Not enough arguments for format definition");}function vG(a){var b=uG(a);a=N(b,0,null);b=N(b,1,null);a="string"===typeof a?nG(a):a;return new X(null,2,5,Z,[a,b],null)}function wG(a,b){return b>=Op.C(a)?(b=Op.C(a)-b,xG.B?xG.B(a,b):xG.call(null,a,b)):new tG(ox.C(a),Sh(b,ox.C(a)),b,null,null,null)}
function xG(a,b){var c=Op.C(a)+b;return 0>b?wG(a,c):new tG(ox.C(a),Sh(b,Aq.C(a)),c,null,null,null)}function yG(a,b,c,d,e,f,h){this.func=a;this.def=b;this.params=c;this.offset=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=yG.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "func":return this.func;case "def":return this.def;case "params":return this.params;case "offset":return this.offset;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#cljs.pprint.compiled-directive{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[QB,this.func],null),new X(null,2,5,Z,[zn,this.def],null),new X(null,2,5,Z,[wq,this.params],null),new X(null,2,5,Z,[oA,this.offset],null)],null),this.F))};g.qa=function(){return new dj(this,4,new X(null,4,5,Z,[QB,zn,wq,oA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new yG(this.func,this.def,this.params,this.offset,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-829256337^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.func,b.func)&&F.B(this.def,b.def)&&F.B(this.params,b.params)&&F.B(this.offset,b.offset)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,4,[oA,null,QB,null,wq,null,zn,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new yG(this.func,this.def,this.params,this.offset,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "func":case "def":case "params":case "offset":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(QB,b):U.call(null,QB,b))?new yG(c,this.def,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(zn,b):U.call(null,zn,b))?new yG(this.func,c,this.params,this.offset,this.G,this.F,null):r(U.B?U.B(wq,b):U.call(null,wq,b))?new yG(this.func,this.def,c,this.offset,this.G,this.F,null):r(U.B?U.B(oA,b):U.call(null,oA,b))?new yG(this.func,this.def,this.params,c,this.G,this.F,null):new yG(this.func,this.def,this.params,this.offset,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(QB,this.func,null),new Y(zn,this.def,null),new Y(wq,this.params,null),new Y(oA,this.offset,null)],null),this.F))};g.ha=function(a,b){return new yG(this.func,this.def,this.params,this.offset,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function zG(a,b){var c=N(a,0,null);a=N(a,1,null);var d=N(a,0,null);a=N(a,1,null);d=S(new Ak(null,new q(null,2,[jr,null,XC,null],null),null),c)?new X(null,2,5,Z,[d,b],null):F.B(d,Ot)?uG(b):F.B(d,uz)?new X(null,2,5,Z,[K(Aq.C(b)),b],null):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);return new X(null,2,5,Z,[new X(null,2,5,Z,[c,new X(null,2,5,Z,[b,a],null)],null),d],null)}function AG(a,b){b=kF(zG,b,a);a=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[fi.B(W,a),b],null)}
var BG=new q(null,3,[2,"#b",8,"#o",16,"#x"],null);
function CG(a,b,c){c=uG(c);var d=N(c,0,null);c=N(c,1,null);if(Hf(d))if(F.B($F,10))var e=[t.C(d),r(ZF)?".":null].join("");else{e=t;var f=e.C;if(r(ZF)){var h=B.B(BG,$F);h=r(h)?h:["#",t.C($F),"r"].join("")}else h=null;e=[f.call(e,h),t.C(DG($F,d))].join("")}else e=null;a=r(e)?e:a.C?a.C(d):a.call(null,d);d=a.length;e=d+rr.C(b);e=e>=Zu.C(b)?e:e+(gg(Zu.C(b)-e-1,Mo.C(b))+1)*Mo.C(b);d=Ug(t,Xh(e-d,iz.C(b)));r(XC.C(b))?gF.I(M([[t.C(d),t.C(a)].join("")])):gF.I(M([[t.C(a),t.C(d)].join("")]));return c}
function EG(a,b){return og(H(lF(function(c){return 0<c?new X(null,2,5,Z,[hg(c,a),gg(c,a)],null):new X(null,2,5,Z,[null,null],null)},b)))}function DG(a,b){return 0===b?"0":Ug(t,Qh.B(function(c){return 10>c?dg(jF("0")+c):dg(jF("a")+(c-10))},EG(a,b)))}function FG(a,b){return og(H(lF(function(c){return new X(null,2,5,Z,[G(og(Rh.B(a,c))),G(Sh(a,c))],null)},og(b))))}
function GG(a,b,c){c=uG(c);var d=N(c,0,null);c=N(c,1,null);if(Hf(d)||"number"===typeof d&&!isNaN(d)&&Infinity!==d&&parseFloat(d)!==parseInt(d,10)&&F.B(d,Math.floor(d))){var e=0>d,f=DG(a,e?-d:d);a=r(jr.C(b))?function(){var h=Qh.B(function(m){return Ug(t,m)},FG(Fz.C(b),f)),k=Xh(K(h),Cq.C(b));return Ug(t,J($h.B(k,h)))}():f;a=e?["-",t.C(a)].join(""):r(XC.C(b))?["+",t.C(a)].join(""):a;a=a.length<Zu.C(b)?[t.C(Ug(t,Xh(Zu.C(b)-a.length,iz.C(b)))),t.C(a)].join(""):a;gF.I(M([a]))}else CG(tl,new q(null,5,[Zu,
Zu.C(b),Mo,1,rr,0,iz,iz.C(b),XC,!0],null),oG(new X(null,1,5,Z,[d],null)));return c}
var HG=new X(null,20,5,Z,"zero one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen seventeen eighteen nineteen".split(" "),null),IG=new X(null,20,5,Z,"zeroth first second third fourth fifth sixth seventh eighth ninth tenth eleventh twelfth thirteenth fourteenth fifteenth sixteenth seventeenth eighteenth nineteenth".split(" "),null),JG=new X(null,10,5,Z,"  twenty thirty forty fifty sixty seventy eighty ninety".split(" "),null),KG=new X(null,10,5,Z,"  twentieth thirtieth fortieth fiftieth sixtieth seventieth eightieth ninetieth".split(" "),
null),LG=new X(null,22,5,Z," thousand million billion trillion quadrillion quintillion sextillion septillion octillion nonillion decillion undecillion duodecillion tredecillion quattuordecillion quindecillion sexdecillion septendecillion octodecillion novemdecillion vigintillion".split(" "),null);
function MG(a){var b=gg(a,100);a=hg(a,100);var c=0<b?[t.C(Te(HG,b))," hundred"].join(""):null,d=t,e=d.C;if(0<a)if(20>a)var f=Te(HG,a);else{f=gg(a,10);var h=hg(a,10);f=[t.C(0<f?Te(JG,f):null),0<f&&0<h?"-":null,t.C(0<h?Te(HG,h):null)].join("")}else f=null;return[c,0<b&&0<a?" ":null,e.call(d,f)].join("")}
function NG(a,b){var c=K(a),d=jf;--c;var e=H(a);for(a=J(a);;){if(null==a)return[t.C(Ug(t,Sh(1,$h.B(Wh(", "),d)))),tf(e)||tf(d)?null:", ",t.C(e),!tf(e)&&0<c+b?[" ",t.C(Te(LG,c+b))].join(""):null].join("");d=tf(e)?d:hf.B(d,[t.C(e)," ",t.C(Te(LG,c+b))].join(""));--c;e=H(a);a=J(a)}}
var OG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IIII V VI VII VIII VIIII".split(" "),null),new X(null,9,5,Z,"X XX XXX XXXX L LX LXX LXXX LXXXX".split(" "),null),new X(null,9,5,Z,"C CC CCC CCCC D DC DCC DCCC DCCCC".split(" "),null),new X(null,3,5,Z,["M","MM","MMM"],null)],null),PG=new X(null,4,5,Z,[new X(null,9,5,Z,"I II III IV V VI VII VIII IX".split(" "),null),new X(null,9,5,Z,"X XX XXX XL L LX LXX LXXX XC".split(" "),null),new X(null,9,5,Z,"C CC CCC CD D DC DCC DCCC CM".split(" "),null),new X(null,
3,5,Z,["M","MM","MMM"],null)],null);function QG(a,b){b=uG(b);var c=N(b,0,null);b=N(b,1,null);if("number"===typeof c&&0<c&&4E3>c){var d=EG(10,c);c=jf;for(var e=K(d)-1;;)if(tf(d)){gF.I(M([Ug(t,c)]));break}else{var f=H(d);c=F.B(0,f)?c:hf.B(c,Te(Te(a,e),f-1));--e;d=J(d)}}else GG(10,new q(null,5,[Zu,0,iz," ",Cq,",",Fz,3,jr,!0],null),oG(new X(null,1,5,Z,[c],null)));return b}var RG=new q(null,5,[8,"Backspace",9,"Tab",10,"Newline",13,"Return",32,"Space"],null);
function SG(a,b){a=uG(b);b=N(a,0,null);a=N(a,1,null);var c=jF(b);b=c&127;c&=128;var d=B.B(RG,b);0<c&&gF.I(M(["Meta-"]));gF.I(M([r(d)?d:32>b?["Control-",t.C(dg(b+64))].join(""):F.B(b,127)?"Control-?":dg(b)]));return a}
function TG(a,b){var c=uG(b);b=N(c,0,null);c=N(c,1,null);a=GC.C(a);if(r(F.B?F.B("o",a):F.call(null,"o",a)))mG(!0,"\\o~3,'0o",M([jF(b)]));else if(r(F.B?F.B("u",a):F.call(null,"u",a)))mG(!0,"\\u~4,'0x",M([jF(b)]));else if(r(F.B?F.B(null,a):F.call(null,null,a)))yd(Tb,r(F.B?F.B("\b",b):F.call(null,"\b",b))?"\\backspace":r(F.B?F.B(" ",b):F.call(null," ",b))?"\\space":r(F.B?F.B("\t",b):F.call(null,"\t",b))?"\\tab":r(F.B?F.B("\n",b):F.call(null,"\n",b))?"\\newline":r(F.B?F.B("\f",b):F.call(null,"\f",b))?
"\\formfeed":r(F.B?F.B("\r",b):F.call(null,"\r",b))?"\\return":r(F.B?F.B('"',b):F.call(null,'"',b))?'\\"':r(F.B?F.B("\\",b):F.call(null,"\\",b))?"\\\\":["\\",t.C(b)].join(""));else throw Error(["No matching clause: ",t.C(a)].join(""));return c}function UG(a,b){b=uG(b);a=N(b,0,null);b=N(b,1,null);gF.I(M([a]));return b}function VG(a){a=H(a);return F.B(Nu,a)||F.B(kC,a)}
function WG(a,b,c){return cf(kF(function(d,e){if(VG(e))return new X(null,2,5,Z,[null,e],null);e=AG(wq.C(d),e);var f=N(e,0,null);e=N(e,1,null);var h=mF(f);f=N(h,0,null);h=N(h,1,null);f=Q.D(f,un,c);return new X(null,2,5,Z,[null,Ug(QB.C(d),new X(null,3,5,Z,[f,e,h],null))],null)},b,a))}
function XG(a){a=t.C(a).toLowerCase();var b=a.indexOf("e"),c=a.indexOf(".");a=0>b?0>c?new X(null,2,5,Z,[a,t.C(a.length-1)],null):new X(null,2,5,Z,[[lg.D(a,0,c),lg.B(a,c+1)].join(""),t.C(c-1)],null):0>c?new X(null,2,5,Z,[lg.D(a,0,b),lg.B(a,b+1)],null):new X(null,2,5,Z,[[lg.D(a,0,1),lg.D(a,2,b)].join(""),lg.B(a,b+1)],null);b=N(a,0,null);a=N(a,1,null);a:if(c=K(b),0<c&&F.B(Te(b,K(b)-1),"0"))for(--c;;){if(0>c){b="";break a}if(F.B(Te(b,c),"0"))--c;else{b=lg.D(b,0,c+1);break a}}a:{c=b;var d=K(c);if(0<d&&
F.B(Te(c,0),"0"))for(var e=0;;){if(F.B(e,d)||!F.B(Te(c,e),"0")){c=lg.B(c,e);break a}e+=1}}b=K(b)-K(c);a=0<K(a)&&F.B(Te(a,0),"+")?lg.B(a,1):a;return tf(c)?new X(null,2,5,Z,["0",0],null):new X(null,2,5,Z,[c,parseInt(a,10)-b],null)}
function YG(a,b,c,d){if(r(r(c)?c:d)){var e=K(a);d=r(d)?2>d?2:d:0;r(c)?c=b+c+1:0<=b?(c=b+1,--d,c=c>d?c:d):c=d+b;var f=F.B(c,0)?new X(null,4,5,Z,[["0",t.C(a)].join(""),b+1,1,e+1],null):new X(null,4,5,Z,[a,b,c,e],null);c=N(f,0,null);e=N(f,1,null);d=N(f,2,null);f=N(f,3,null);if(r(d)){if(0>d)return new X(null,3,5,Z,["0",0,!1],null);if(f>d){b=Te(c,d);a=lg.D(c,0,d);if(jF(b)>=jF("5")){a:for(b=K(a)-1,c=b|0;;){if(0>c){b=Vg(t,"1",Xh(b+1,"0"));break a}if(F.B("9",a.charAt(c)))--c;else{b=Wg(t,lg.D(a,0,c),dg(jF(a.charAt(c))+
1),Xh(b-c,"0"));break a}}a=K(b)>a.length;return new X(null,3,5,Z,[a?lg.D(b,0,K(b)-1):b,e,a],null)}return new X(null,3,5,Z,[a,e,!1],null)}}}return new X(null,3,5,Z,[a,b,!1],null)}function ZG(a,b,c){var d=0>b?new X(null,2,5,Z,[[t.C(Ug(t,Xh(-b-1,"0"))),t.C(a)].join(""),-1],null):new X(null,2,5,Z,[a,b],null);a=N(d,0,null);var e=N(d,1,null);d=K(a);c=r(c)?e+c+1:e+1;c=d<c?[t.C(a),t.C(Ug(t,Xh(c-d,"0")))].join(""):a;0>b?b=[".",t.C(c)].join(""):(b+=1,b=[lg.D(c,0,b),".",lg.B(c,b)].join(""));return b}
function $G(a,b){return 0>b?[".",t.C(a)].join(""):[lg.D(a,0,b),".",lg.B(a,b)].join("")}
function aH(a,b){var c=JB.C(a),d=FB.C(a);b=uG(b);var e=N(b,0,null);b=N(b,1,null);var f=0>e?new X(null,2,5,Z,["-",-e],null):new X(null,2,5,Z,["+",e],null),h=N(f,0,null);f=N(f,1,null);f=XG(f);var k=N(f,0,null),m=N(f,1,null)+AB.C(a);f=function(){var v=XC.C(a);return r(v)?v:0>e}();var n=ic(d)&&K(k)-1<=m,p=YG(k,m,d,r(c)?c-(r(f)?1:0):null);k=N(p,0,null);m=N(p,1,null);p=N(p,2,null);k=ZG(k,r(p)?m+1:m,d);d=r(r(c)?r(d)?1<=d&&F.B(k.charAt(0),"0")&&F.B(k.charAt(1),".")&&k.length>c-(r(f)?1:0):d:c)?lg.B(k,1):k;
m=F.B(H(d),".");if(r(c)){k=d.length;k=r(f)?k+1:k;m=m&&!(k>=c);n=n&&!(k>=c);var u=m||n?k+1:k;r(function(){var v=u>c;return v?fE.C(a):v}())?gF.I(M([Ug(t,Xh(c,fE.C(a)))])):gF.I(M([[t.C(Ug(t,Xh(c-u,iz.C(a)))),t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]))}else gF.I(M([[t.C(r(f)?h:null),m?"0":null,d,n?"0":null].join("")]));return b}
function bH(a,b){b=uG(b);var c=N(b,0,null);b=N(b,1,null);var d=XG(0>c?-c:c);N(d,0,null);for(N(d,1,null);;){var e=N(d,0,null),f=N(d,1,null),h=JB.C(a),k=FB.C(a),m=DB.C(a),n=AB.C(a),p=function(){var I=Mn.C(a);return r(I)?I:"E"}();d=function(){var I=XC.C(a);return r(I)?I:0>c}();var u=0>=n,v=f-(n-1),z=t.C(Math.abs(v));p=[t.C(p),0>v?"-":"+",t.C(r(m)?Ug(t,Xh(m-z.length,"0")):null),z].join("");var C=p.length;v=K(e);e=[t.C(Ug(t,Xh(-n,"0"))),t.C(e),t.C(r(k)?Ug(t,Xh(k-(v-1)-(0>n?-n:0),"0")):null)].join("");
v=r(h)?h-C:null;e=YG(e,0,F.B(n,0)?k-1:0<n?k:0>n?k-1:null,r(v)?v-(r(d)?1:0):null);v=N(e,0,null);N(e,1,null);z=N(e,2,null);e=$G(v,n);k=F.B(n,K(v))&&null==k;if(ic(z)){if(r(h)){f=e.length+C;f=r(d)?f+1:f;var E=(u=u&&!F.B(f,h))?f+1:f;f=k&&E<h;r(function(){var I=E>h;I||(I=m,I=r(I)?C-2>m:I);return r(I)?fE.C(a):I}())?gF.I(M([Ug(t,Xh(h,fE.C(a)))])):gF.I(M([[t.C(Ug(t,Xh(h-E-(f?1:0),iz.C(a)))),r(d)?0>c?"-":"+":null,u?"0":null,e,f?"0":null,p].join("")]))}else gF.I(M([[r(d)?0>c?"-":"+":null,u?"0":null,e,k?"0":
null,p].join("")]));break}else d=new X(null,2,5,Z,[v,f+1],null)}return b}function cH(a,b,c){var d=uG(b),e=N(d,0,null);N(d,1,null);d=XG(0>e?-e:e);var f=N(d,0,null);d=N(d,1,null);var h=JB.C(a),k=FB.C(a),m=DB.C(a);d=F.B(e,0)?0:d+1;e=r(m)?m+2:4;h=r(h)?h-e:null;r(k)?f=k:(f=K(f),k=7>d?d:7,f=f>k?f:k);d=f-d;return 0<=d&&d<=f?(a=aH(new q(null,6,[JB,h,FB,d,AB,0,fE,fE.C(a),iz,iz.C(a),XC,XC.C(a)],null),b,c),gF.I(M([Ug(t,Xh(e," "))])),a):bH(a,b,c)}
function dH(a,b){b=uG(b);var c=N(b,0,null);b=N(b,1,null);var d=XG(Math.abs(c)),e=N(d,0,null),f=N(d,1,null),h=FB.C(a),k=PB.C(a);d=JB.C(a);var m=function(){var p=XC.C(a);return r(p)?p:0>c}(),n=YG(e,f,h,null);e=N(n,0,null);f=N(n,1,null);n=N(n,2,null);h=ZG(e,r(n)?f+1:f,h);k=[t.C(Ug(t,Xh(k-h.indexOf("."),"0"))),h].join("");h=k.length+(r(m)?1:0);gF.I(M([[r(function(){var p=jr.C(a);return r(p)?m:p}())?0>c?"-":"+":null,t.C(Ug(t,Xh(d-h,iz.C(a)))),r(function(){var p=ic(jr.C(a));return p?m:p}())?0>c?"-":"+":
null,k].join("")]));return b}function eH(a,b){var c=nD.C(a);c=r(c)?new X(null,2,5,Z,[c,b],null):uG(b);b=N(c,0,null);c=N(c,1,null);var d=lt.C(a);b=0>b||b>=K(d)?H(uq.C(a)):Te(d,b);return r(b)?WG(b,c,un.C(a)):c}function fH(a,b){var c=uG(b);b=N(c,0,null);c=N(c,1,null);var d=lt.C(a);b=r(b)?cf(d):H(d);return r(b)?WG(b,c,un.C(a)):c}function gH(a,b){var c=uG(b),d=N(c,0,null);c=N(c,1,null);var e=lt.C(a);e=r(d)?H(e):null;return r(d)?r(e)?WG(e,b,un.C(a)):b:c}
function hH(a,b){var c=hv.C(a),d=H(lt.C(a));d=tf(d)?vG(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=uG(d);var e=N(d,0,null);d=N(d,1,null);var f=0;e=oG(e);for(var h=-1;;){if(ic(c)&&F.B(Op.C(e),h)&&1<f)throw Error("%{ construct not consuming any arguments: Infinite loop!");h=tf(Aq.C(e))&&(ic(jr.C(fo.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=WG(b,e,un.C(a));if(F.B(Nu,H(h)))return d;f+=1;var k=Op.C(e);e=h;h=k}}
function iH(a,b){var c=hv.C(a),d=H(lt.C(a));d=tf(d)?vG(b):new X(null,2,5,Z,[d,b],null);b=N(d,0,null);d=N(d,1,null);d=uG(d);var e=N(d,0,null);d=N(d,1,null);for(var f=0;;){var h=tf(e)&&(ic(jr.C(fo.C(a)))||0<f);if(r(h?h:r(c)?f>=c:c))return d;h=WG(b,oG(H(e)),oG(J(e)));if(F.B(kC,H(h)))return d;f+=1;e=J(e)}}
function jH(a,b){var c=hv.C(a),d=H(lt.C(a)),e=tf(d)?vG(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;e=N(e,1,null);for(var f=-1;;){if(ic(c)&&F.B(Op.C(e),f)&&1<d)throw Error("%@{ construct not consuming any arguments: Infinite loop!");f=tf(Aq.C(e))&&(ic(jr.C(fo.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=WG(b,e,un.C(a));if(F.B(Nu,H(f)))return cf(f);d+=1;var h=Op.C(e);e=f;f=h}}
function kH(a,b){var c=hv.C(a),d=H(lt.C(a)),e=tf(d)?vG(b):new X(null,2,5,Z,[d,b],null);b=N(e,0,null);d=0;for(e=N(e,1,null);;){var f=tf(Aq.C(e))&&(ic(jr.C(fo.C(a)))||0<d);if(r(f?f:r(c)?d>=c:c))return e;f=Aq.C(e);f=r(f)?new X(null,2,5,Z,[H(f),new tG(ox.C(e),J(f),Op.C(e)+1,null,null,null)],null):new X(null,2,5,Z,[null,e],null);e=N(f,0,null);f=N(f,1,null);e=WG(b,oG(e),f);if(F.B(kC,H(e)))return f;e=f;d+=1}}
function lH(a,b){if(r(jr.C(fo.C(a)))){var c=lt.C(a),d=K(c),e=1<d?Sm.C(wq.C(H(H(c)))):r(jr.C(a))?"(":null,f=Te(c,1<d?1:0);c=2<d?Sm.C(wq.C(H(Te(c,2)))):r(jr.C(a))?")":null;d=uG(b);b=N(d,0,null);d=N(d,1,null);if(r(jG()))yd(Tb,"#");else{var h=aG,k=bG;aG+=1;bG=0;try{SF(e,c),WG(f,oG(b),un.C(a)),TF()}finally{bG=k,aG=h}}a=d}else a=mH(a,b);return a}
function nH(a,b,c){for(var d=jf;;){if(tf(a))return new X(null,2,5,Z,[d,b],null);var e=H(a);a:{var f=new Pb,h=Tb;Tb=new Zd(f);try{var k=new X(null,2,5,Z,[WG(e,b,c),t.C(f)],null);break a}finally{Tb=h}k=void 0}b=N(k,0,null);e=N(k,1,null);if(F.B(Nu,H(b)))return new X(null,2,5,Z,[d,cf(b)],null);a=J(a);d=hf.B(d,e)}}
function mH(a,b){var c=function(){var P=uq.C(a);return r(P)?nH(P,b,un.C(a)):null}(),d=N(c,0,null);d=N(d,0,null);c=N(c,1,null);var e=r(c)?c:b;c=function(){var P=HE.C(a);return r(P)?AG(P,e):null}();var f=N(c,0,null);c=N(c,1,null);var h=r(c)?c:e;c=function(){var P=H(mA.C(f));return r(P)?P:0}();var k=function(){var P=H(KC.C(f));return r(P)?P:pF(Tb,ft)}(),m=lt.C(a);h=nH(m,h,un.C(a));var n=N(h,0,null);h=N(h,1,null);var p=function(){var P=K(n)-1+(r(jr.C(a))?1:0)+(r(XC.C(a))?1:0);return 1>P?1:P}();m=w.B(Xf,
Qh.B(K,n));var u=Zu.C(a),v=rr.C(a),z=Mo.C(a),C=m+p*v;u=C<=u?u:u+z*(1+gg(C-u-1,z));var E=u-m;m=function(){var P=gg(E,p);return v>P?v:P}();z=E-m*p;m=Ug(t,Xh(m,iz.C(a)));r(r(d)?pF(Ax.C(y(y(Tb))),Ip)+c+u>k:d)&&gF.I(M([d]));c=z;for(var I=n,O=function(){var P=jr.C(a);return r(P)?P:F.B(K(I),1)&&ic(XC.C(a))}();;)if(G(I))gF.I(M([[t.C(ic(O)?H(I):null),t.C(r(function(){var P=O;return r(P)?P:(P=J(I))?P:XC.C(a)}())?m:null),t.C(0<c?iz.C(a):null)].join("")])),--c,I=d=r(O)?I:J(I),O=!1;else break;return h}
function oH(a){if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof bb)bb=function(b,c){this.wb=b;this.yb=c;this.O=1074135040;this.T=0},bb.prototype.ha=function(b,c){return new bb(this.wb,c)},bb.prototype.ga=function(){return this.yb},bb.prototype.Td=function(){return zd(this.wb)},bb.prototype.we=function(b,c){b=oc(c);if(r(F.B?F.B(String,b):F.call(null,String,b)))return yd(this.wb,c.toLowerCase());if(r(F.B?F.B(Number,b):F.call(null,Number,b)))return yd(this.wb,dg(c).toLowerCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},bb.Wa=!0,bb.Sa="cljs.pprint/t_cljs$pprint25307",bb.Za=function(b){return yd(b,"cljs.pprint/t_cljs$pprint25307")};return new bb(a,W)}
function pH(a){if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof cb)cb=function(b,c){this.wb=b;this.Ab=c;this.O=1074135040;this.T=0},cb.prototype.ha=function(b,c){return new cb(this.wb,c)},cb.prototype.ga=function(){return this.Ab},cb.prototype.Td=function(){return zd(this.wb)},cb.prototype.we=function(b,c){b=oc(c);if(r(F.B?F.B(String,b):F.call(null,String,b)))return yd(this.wb,c.toUpperCase());if(r(F.B?F.B(Number,b):F.call(null,Number,b)))return yd(this.wb,dg(c).toUpperCase());
throw Error(["No matching clause: ",t.C(b)].join(""));},cb.Wa=!0,cb.Sa="cljs.pprint/t_cljs$pprint25341",cb.Za=function(b){return yd(b,"cljs.pprint/t_cljs$pprint25341")};return new cb(a,W)}
function qH(a,b){var c=H(a);a=r(r(b)?r(c)?mb(c):c:b)?[c.toUpperCase(),lg.B(a,1)].join(""):a;return Ug(t,H(lF(function(d){if(tf(d))return new X(null,2,5,Z,[null,null],null);var e=RegExp("\\W\\w","g").exec(d);e=r(e)?e.index+1:e;return r(e)?new X(null,2,5,Z,[[lg.D(d,0,e),Te(d,e).toUpperCase()].join(""),lg.B(d,e+1)],null):new X(null,2,5,Z,[d,null],null)},a)))}
function rH(a){var b=Eh(!0);if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof ib)ib=function(c,d,e){this.wb=c;this.Pf=d;this.Bb=e;this.O=1074135040;this.T=0},ib.prototype.ha=function(c,d){return new ib(this.wb,this.Pf,d)},ib.prototype.ga=function(){return this.Bb},ib.prototype.Td=function(){return zd(this.wb)},ib.prototype.we=function(c,d){c=oc(d);if(r(F.B?F.B(String,c):F.call(null,String,c)))return yd(this.wb,qH(d.toLowerCase(),y(this.Pf))),0<d.length?Fh(this.Pf,Qa(Te(d,K(d)-
1))):null;if(r(F.B?F.B(Number,c):F.call(null,Number,c)))return d=dg(d),c=r(y(this.Pf))?d.toUpperCase():d,yd(this.wb,c),Fh(this.Pf,Qa(d));throw Error(["No matching clause: ",t.C(c)].join(""));},ib.Wa=!0,ib.Sa="cljs.pprint/t_cljs$pprint25377",ib.Za=function(c){return yd(c,"cljs.pprint/t_cljs$pprint25377")};return new ib(a,b,W)}
function sH(a){var b=Eh(!1);if("undefined"===typeof Qb||"undefined"===typeof $E||"undefined"===typeof jb)jb=function(c,d,e){this.wb=c;this.pf=d;this.Cb=e;this.O=1074135040;this.T=0},jb.prototype.ha=function(c,d){return new jb(this.wb,this.pf,d)},jb.prototype.ga=function(){return this.Cb},jb.prototype.Td=function(){return zd(this.wb)},jb.prototype.we=function(c,d){c=oc(d);if(r(F.B?F.B(String,c):F.call(null,String,c)))return d=d.toLowerCase(),ic(y(this.pf))?(c=RegExp("\\S","g").exec(d),c=r(c)?c.index:
c,r(c)?(yd(this.wb,[lg.D(d,0,c),Te(d,c).toUpperCase(),lg.B(d,c+1).toLowerCase()].join("")),Fh(this.pf,!0)):yd(this.wb,d)):yd(this.wb,d.toLowerCase());if(r(F.B?F.B(Number,c):F.call(null,Number,c)))return d=dg(d),c=ic(y(this.pf)),r(c?mb(d):c)?(Fh(this.pf,!0),yd(this.wb,d.toUpperCase())):yd(this.wb,d.toLowerCase());throw Error(["No matching clause: ",t.C(c)].join(""));},jb.Wa=!0,jb.Sa="cljs.pprint/t_cljs$pprint25413",jb.Za=function(c){return yd(c,"cljs.pprint/t_cljs$pprint25413")};return new jb(a,b,
W)}function tH(a,b){var c=r(jr.C(a))?Vo:gA;lG(c,PB.C(a));return b}function uH(a,b){a=r(jr.C(a))?r(XC.C(a))?pn:Yz:r(XC.C(a))?pD:VA;kG(a);return b}
var vH=Wj("ASDBOXRPCFEG$%\x26|~\nT*?()[;]{}\x3c\x3e^W_I".split(""),[new q(null,5,[Qn,"A",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),Mo,new X(null,2,5,Z,[1,Number],null),rr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){return CG(tl,a,b)}}],null),new q(null,5,[Qn,"S",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),Mo,new X(null,2,5,Z,[1,Number],
null),rr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){return CG(rl,a,b)}}],null),new q(null,5,[Qn,"D",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Cq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,
b){return GG(10,a,b)}}],null),new q(null,5,[Qn,"B",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Cq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){return GG(2,a,b)}}],null),new q(null,5,[Qn,"O",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Cq,new X(null,2,5,Z,[",",String],
null),Fz,new X(null,2,5,Z,[3,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){return GG(8,a,b)}}],null),new q(null,5,[Qn,"X",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Cq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){return GG(16,a,b)}}],
null),new q(null,5,[Qn,"R",wq,new q(null,5,[Ax,new X(null,2,5,Z,[null,Number],null),Zu,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null),Cq,new X(null,2,5,Z,[",",String],null),Fz,new X(null,2,5,Z,[3,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(a){return r(H(Ax.C(a)))?function(b,c){return GG(Ax.C(b),b,c)}:r(function(){var b=XC.C(a);return r(b)?jr.C(a):b}())?function(b,c){return QG(OG,c)}:r(XC.C(a))?function(b,c){return QG(PG,
c)}:r(jr.C(a))?function(b,c){b=uG(c);c=N(b,0,null);b=N(b,1,null);if(F.B(0,c))gF.I(M(["zeroth"]));else{var d=EG(1E3,0>c?-c:c);if(K(d)<=K(LG)){var e=Qh.B(MG,Th(1,d));e=NG(e,1);var f=gf(d);d=gg(f,100);f=hg(f,100);var h=0<d?[t.C(Te(HG,d))," hundred"].join(""):null,k=t,m=k.C;if(0<f)if(20>f)var n=Te(IG,f);else{n=gg(f,10);var p=hg(f,10);n=0<n&&!(0<p)?Te(KG,n):[t.C(0<n?Te(JG,n):null),0<n&&0<p?"-":null,t.C(0<p?Te(IG,p):null)].join("")}else n=0<d?"th":null;d=[h,0<d&&0<f?" ":null,m.call(k,n)].join("");gF.I(M([[0>
c?"minus ":null,tf(e)||tf(d)?tf(e)?d:[e,"th"].join(""):[e,", ",d].join("")].join("")]))}else GG(10,new q(null,5,[Zu,0,iz," ",Cq,",",Fz,3,jr,!0],null),oG(new X(null,1,5,Z,[c],null))),e=hg(c,100),c=11<e||19>e,e=hg(e,10),gF.I(M([1===e&&c?"st":2===e&&c?"nd":3===e&&c?"rd":"th"]))}return b}:function(b,c){c=uG(c);b=N(c,0,null);c=N(c,1,null);if(F.B(0,b))gF.I(M(["zero"]));else{var d=EG(1E3,0>b?-b:b);K(d)<=K(LG)?(d=Qh.B(MG,d),d=NG(d,0),gF.I(M([[0>b?"minus ":null,d].join("")]))):GG(10,new q(null,5,[Zu,0,iz,
" ",Cq,",",Fz,3,jr,!0],null),oG(new X(null,1,5,Z,[b],null)))}return c}}],null),new q(null,5,[Qn,"P",wq,W,ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return function(a,b){b=r(jr.C(a))?xG(b,-1):b;a=r(XC.C(a))?new X(null,2,5,Z,["y","ies"],null):new X(null,2,5,Z,["","s"],null);var c=uG(b);b=N(c,0,null);c=N(c,1,null);gF.I(M([F.B(b,1)?H(a):cf(a)]));return c}}],null),new q(null,5,[Qn,"C",wq,new q(null,1,[GC,new X(null,2,5,Z,[null,String],null)],null),ys,new Ak(null,
new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(a){return r(jr.C(a))?SG:r(XC.C(a))?TG:UG}],null),new q(null,5,[Qn,"F",wq,new q(null,5,[JB,new X(null,2,5,Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),AB,new X(null,2,5,Z,[0,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null)],null),ys,new Ak(null,new q(null,1,[XC,null],null),null),Ut,W,cE,function(){return aH}],null),new q(null,5,[Qn,"E",wq,new q(null,7,[JB,new X(null,2,5,
Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),DB,new X(null,2,5,Z,[null,Number],null),AB,new X(null,2,5,Z,[1,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null),Mn,new X(null,2,5,Z,[null,String],null)],null),ys,new Ak(null,new q(null,1,[XC,null],null),null),Ut,W,cE,function(){return bH}],null),new q(null,5,[Qn,"G",wq,new q(null,7,[JB,new X(null,2,5,Z,[null,Number],null),FB,new X(null,2,5,Z,[null,Number],null),DB,new X(null,2,5,Z,[null,Number],
null),AB,new X(null,2,5,Z,[1,Number],null),fE,new X(null,2,5,Z,[null,String],null),iz,new X(null,2,5,Z,[" ",String],null),Mn,new X(null,2,5,Z,[null,String],null)],null),ys,new Ak(null,new q(null,1,[XC,null],null),null),Ut,W,cE,function(){return cH}],null),new q(null,5,[Qn,"$",wq,new q(null,4,[FB,new X(null,2,5,Z,[2,Number],null),PB,new X(null,2,5,Z,[1,Number],null),JB,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],
null),null),Ut,W,cE,function(){return dH}],null),new q(null,5,[Qn,"%",wq,new q(null,1,[kt,new X(null,2,5,Z,[1,Number],null)],null),ys,Ck,Ut,W,cE,function(){return function(a,b){a=kt.C(a);for(var c=0;;)if(c<a)iF(),c+=1;else break;return b}}],null),new q(null,5,[Qn,"\x26",wq,new q(null,1,[kt,new X(null,2,5,Z,[1,Number],null)],null),ys,new Ak(null,new q(null,1,[cq,null],null),null),Ut,W,cE,function(){return function(a,b){a=kt.C(a);0<a&&((null!=Tb?Tb.O&32768||l===Tb.yi||(Tb.O?0:nc(fd,Tb)):nc(fd,Tb))?
F.B(0,pF(Ax.C(y(y(Tb))),Ip))||iF():iF());--a;for(var c=0;;)if(c<a)iF(),c+=1;else break;return b}}],null),new q(null,5,[Qn,"|",wq,new q(null,1,[kt,new X(null,2,5,Z,[1,Number],null)],null),ys,Ck,Ut,W,cE,function(){return function(a,b){a=kt.C(a);for(var c=0;;)if(c<a)gF.I(M(["\f"])),c+=1;else break;return b}}],null),new q(null,5,[Qn,"~",wq,new q(null,1,[PB,new X(null,2,5,Z,[1,Number],null)],null),ys,Ck,Ut,W,cE,function(){return function(a,b){a=PB.C(a);gF.I(M([Ug(t,Xh(a,"~"))]));return b}}],null),new q(null,
5,[Qn,"\n",wq,W,ys,new Ak(null,new q(null,2,[jr,null,XC,null],null),null),Ut,W,cE,function(){return function(a,b){r(XC.C(a))&&iF();return b}}],null),new q(null,5,[Qn,"T",wq,new q(null,2,[wD,new X(null,2,5,Z,[1,Number],null),Mo,new X(null,2,5,Z,[1,Number],null)],null),ys,new Ak(null,new q(null,2,[XC,null,cq,null],null),null),Ut,W,cE,function(a){return r(XC.C(a))?function(b,c){var d=wD.C(b);b=Mo.C(b);var e=d+pF(Ax.C(y(y(Tb))),Ip);e=0<b?hg(e,b):0;d+=F.B(0,e)?0:b-e;gF.I(M([Ug(t,Xh(d," "))]));return c}:
function(b,c){var d=wD.C(b);b=Mo.C(b);var e=pF(Ax.C(y(y(Tb))),Ip);d=e<d?d-e:F.B(b,0)?0:b-hg(e-d,b);gF.I(M([Ug(t,Xh(d," "))]));return c}}],null),new q(null,5,[Qn,"*",wq,new q(null,1,[PB,new X(null,2,5,Z,[1,Number],null)],null),ys,new Ak(null,new q(null,2,[jr,null,XC,null],null),null),Ut,W,cE,function(){return function(a,b){var c=PB.C(a);return r(XC.C(a))?wG(b,c):xG(b,r(jr.C(a))?-c:c)}}],null),new q(null,5,[Qn,"?",wq,W,ys,new Ak(null,new q(null,1,[XC,null],null),null),Ut,W,cE,function(a){return r(XC.C(a))?
function(b,c){var d=vG(c);c=N(d,0,null);d=N(d,1,null);return WG(c,d,un.C(b))}:function(b,c){var d=vG(c);c=N(d,0,null);d=N(d,1,null);var e=uG(d);d=N(e,0,null);e=N(e,1,null);d=oG(d);WG(c,d,un.C(b));return e}}],null),new q(null,5,[Qn,"(",wq,W,ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,new q(null,3,[py,")",iC,null,uq,null],null),cE,function(a){var b=r(function(){var c=XC.C(a);return r(c)?jr.C(a):c}())?pH:r(jr.C(a))?rH:r(XC.C(a))?sH:oH;return function(c,d){a:{var e=H(lt.C(c)),
f=Tb;Tb=b.C?b.C(Tb):b.call(null,Tb);try{var h=WG(e,d,un.C(c));break a}finally{Tb=f}h=void 0}return h}}],null),new q(null,5,[Qn,")",wq,W,ys,Ck,Ut,W,cE,function(){return null}],null),new q(null,5,[Qn,"[",wq,new q(null,1,[nD,new X(null,2,5,Z,[null,Number],null)],null),ys,new Ak(null,new q(null,2,[jr,null,XC,null],null),null),Ut,new q(null,3,[py,"]",iC,!0,uq,xB],null),cE,function(a){return r(jr.C(a))?fH:r(XC.C(a))?gH:eH}],null),new q(null,5,[Qn,";",wq,new q(null,2,[mA,new X(null,2,5,Z,[null,Number],null),
KC,new X(null,2,5,Z,[null,Number],null)],null),ys,new Ak(null,new q(null,1,[jr,null],null),null),Ut,new q(null,1,[Lz,!0],null),cE,function(){return null}],null),new q(null,5,[Qn,"]",wq,W,ys,Ck,Ut,W,cE,function(){return null}],null),new q(null,5,[Qn,"{",wq,new q(null,1,[hv,new X(null,2,5,Z,[null,Number],null)],null),ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,new q(null,2,[py,"}",iC,!1],null),cE,function(a){var b=XC.C(a);b=r(b)?jr.C(a):b;return r(b)?kH:r(jr.C(a))?iH:r(XC.C(a))?
jH:hH}],null),new q(null,5,[Qn,"}",wq,W,ys,new Ak(null,new q(null,1,[jr,null],null),null),Ut,W,cE,function(){return null}],null),new q(null,5,[Qn,"\x3c",wq,new q(null,4,[Zu,new X(null,2,5,Z,[0,Number],null),Mo,new X(null,2,5,Z,[1,Number],null),rr,new X(null,2,5,Z,[0,Number],null),iz,new X(null,2,5,Z,[" ",String],null)],null),ys,new Ak(null,new q(null,4,[jr,null,XC,null,os,null,cq,null],null),null),Ut,new q(null,3,[py,"\x3e",iC,!0,uq,Kx],null),cE,function(){return lH}],null),new q(null,5,[Qn,"\x3e",
wq,W,ys,new Ak(null,new q(null,1,[jr,null],null),null),Ut,W,cE,function(){return null}],null),new q(null,5,[Qn,"^",wq,new q(null,3,[RD,new X(null,2,5,Z,[null,Number],null),SD,new X(null,2,5,Z,[null,Number],null),PD,new X(null,2,5,Z,[null,Number],null)],null),ys,new Ak(null,new q(null,1,[jr,null],null),null),Ut,W,cE,function(){return function(a,b){var c=RD.C(a),d=SD.C(a),e=PD.C(a),f=r(jr.C(a))?kC:Nu;return r(r(c)?r(d)?e:d:c)?c<=d&&d<=e?new X(null,2,5,Z,[f,b],null):b:r(r(c)?d:c)?F.B(c,d)?new X(null,
2,5,Z,[f,b],null):b:r(c)?F.B(c,0)?new X(null,2,5,Z,[f,b],null):b:(r(jr.C(a))?tf(Aq.C(un.C(a))):tf(Aq.C(b)))?new X(null,2,5,Z,[f,b],null):b}}],null),new q(null,5,[Qn,"W",wq,W,ys,new Ak(null,new q(null,4,[jr,null,XC,null,os,null,cq,null],null),null),Ut,W,cE,function(a){if(r(function(){var c=XC.C(a);return r(c)?c:jr.C(a)}())){var b=V.B(r(XC.C(a))?new X(null,4,5,Z,[zm,null,vw,null],null):jf,r(jr.C(a))?new X(null,2,5,Z,[cq,!0],null):jf);return function(c,d){d=uG(d);c=N(d,0,null);d=N(d,1,null);return r(Vg(eG,
c,b))?new X(null,2,5,Z,[Nu,d],null):d}}return function(c,d){d=uG(d);c=N(d,0,null);d=N(d,1,null);return r(dG(c))?new X(null,2,5,Z,[Nu,d],null):d}}],null),new q(null,5,[Qn,"_",wq,W,ys,new Ak(null,new q(null,3,[jr,null,XC,null,os,null],null),null),Ut,W,cE,function(){return uH}],null),new q(null,5,[Qn,"I",wq,new q(null,1,[PB,new X(null,2,5,Z,[0,Number],null)],null),ys,new Ak(null,new q(null,1,[jr,null],null),null),Ut,W,cE,function(){return tH}],null)]),wH=/^([vV]|#|('.)|([+-]?\d+)|(?=,))/,xH=new Ak(null,
new q(null,2,[uz,null,Ot,null],null),null);
function yH(a){var b=N(a,0,null),c=N(a,1,null),d=N(a,2,null);a=new RegExp(wH.source,"g");var e=a.exec(b);return r(e)?(d=H(e),b=lg.B(b,a.lastIndex),a=c+a.lastIndex,F.B(",",Te(b,0))?new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[lg.B(b,1),a+1,!0],null)],null):new X(null,2,5,Z,[new X(null,2,5,Z,[d,c],null),new X(null,3,5,Z,[b,a,!1],null)],null)):r(d)?sG("Badly formed parameters in format directive",c):new X(null,2,5,Z,[null,new X(null,2,5,Z,[b,c],null)],null)}
function zH(a){var b=N(a,0,null);a=N(a,1,null);return new X(null,2,5,Z,[F.B(b.length,0)?null:F.B(b.length,1)&&S(new Ak(null,new q(null,2,["V",null,"v",null],null),null),Te(b,0))?Ot:F.B(b.length,1)&&F.B("#",Te(b,0))?uz:F.B(b.length,2)&&F.B("'",Te(b,0))?Te(b,1):parseInt(b,10),a],null)}var AH=new q(null,2,[":",jr,"@",XC],null);
function BH(a,b){return lF(function(c){var d=N(c,0,null),e=N(c,1,null);c=N(c,2,null);if(tf(d))return new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null);var f=B.B(AH,H(d));return r(f)?S(c,f)?sG(['Flag "',t.C(H(d)),'" appears more than once in a directive'].join(""),e):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[lg.B(d,1),e+1,Q.D(c,f,new X(null,2,5,Z,[!0,e],null))],null)],null):new X(null,2,5,Z,[null,new X(null,3,5,Z,[d,e,c],null)],null)},new X(null,3,5,Z,[a,b,W],null))}
function CH(a,b){var c=ys.C(a);r(function(){var d=ic(XC.C(c));return d?XC.C(b):d}())&&sG(['"@" is an illegal flag for format directive "',t.C(Qn.C(a)),'"'].join(""),Te(XC.C(b),1));r(function(){var d=ic(jr.C(c));return d?jr.C(b):d}())&&sG(['":" is an illegal flag for format directive "',t.C(Qn.C(a)),'"'].join(""),Te(jr.C(b),1));r(function(){var d=ic(os.C(c));return d?(d=XC.C(b),r(d)?jr.C(b):d):d}())&&sG(['Cannot combine "@" and ":" flags for format directive "',t.C(Qn.C(a)),'"'].join(""),function(){var d=
Te(jr.C(b),1),e=Te(XC.C(b),1);return d<e?d:e}())}
function DH(a,b,c,d){CH(a,c);K(b)>K(wq.C(a))&&sG(mG(null,'Too many parameters for directive "~C": ~D~:* ~[were~;was~:;were~] specified but only ~D~:* ~[are~;is~:;are~] allowed',M([Qn.C(a),K(b),K(wq.C(a))])),cf(H(b)));Wk(Qh.D(function(e,f){var h=H(e);return null==h||S(xH,h)||F.B(cf(cf(f)),oc(h))?null:sG(["Parameter ",vg(H(f)),' has bad type in directive "',t.C(Qn.C(a)),'": ',t.C(oc(h))].join(""),cf(e))},b,wq.C(a)));return vk.I(M([fi.B(W,og(function(){return function h(f){return new wg(null,function(){for(;;){var k=
G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Ag(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);v=N(v,0,null);p.add(new X(null,2,5,Z,[z,new X(null,2,5,Z,[v,d],null)],null));u+=1}else{m=!0;break a}return m?Cg(Gg(p),h(Qd(k))):Cg(Gg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);m=N(m,0,null);return Ze(new X(null,2,5,Z,[p,new X(null,2,5,Z,[m,d],null)],null),h(ue(k)))}return null}},null,null)}(wq.C(a))}())),w.D(function(e,f){return Vg(Q,e,f)},W,di(function(e){return H(Te(e,1))},Hk(jj(wq.C(a)),
b))),c]))}
function EH(a,b){b=lF(yH,new X(null,3,5,Z,[a,b,!1],null));a=N(b,0,null);var c=N(b,1,null);b=N(c,0,null);c=N(c,1,null);b=BH(b,c);N(b,0,null);b=N(b,1,null);var d=N(b,0,null),e=N(b,1,null);b=N(b,2,null);c=H(d);var f=B.B(vH,c.toUpperCase()),h=r(f)?DH(f,Qh.B(zH,a),b,e):null;ic(c)&&sG("Format string ended in the middle of a directive",e);ic(f)&&sG(['Directive "',t.C(c),'" is undefined'].join(""),e);return new X(null,2,5,Z,[new yG(function(){var k=cE.C(f);return k.B?k.B(h,e):k.call(null,h,e)}(),f,h,e,null,
null,null),function(){var k=lg.B(d,1),m=e+1;if(F.B("\n",Qn.C(f))&&ic(jr.C(h)))a:{var n=new X(null,2,5,Z,[" ","\t"],null);n=uf(n)?Ek(n):Jf([n]);for(var p=0;;){var u;(u=F.B(p,K(k)))||(u=Te(k,p),u=n.C?n.C(u):n.call(null,u),u=ic(u));if(u){n=p;break a}p+=1}}else n=0;k=lg.B(k,n);return new X(null,2,5,Z,[k,m+n],null)}()],null)}function FH(a,b){return new yG(function(c,d){gF.I(M([a]));return d},null,new q(null,1,[Sm,a],null),b,null,null,null)}
function GH(a,b){var c=HH(Ut.C(zn.C(a)),oA.C(a),b);b=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[new yG(QB.C(a),zn.C(a),vk.I(M([wq.C(a),nF(b,oA.C(a))])),oA.C(a),null,null,null),c],null)}
function IH(a,b,c){return lF(function(d){if(tf(d))return sG("No closing bracket found.",b);var e=H(d);d=J(d);if(r(py.C(Ut.C(zn.C(e)))))e=GH(e,d);else if(F.B(py.C(a),Qn.C(zn.C(e))))e=new X(null,2,5,Z,[null,new X(null,4,5,Z,[lp,wq.C(e),null,d],null)],null);else{var f=Lz.C(Ut.C(zn.C(e)));f=r(f)?jr.C(wq.C(e)):f;e=r(f)?new X(null,2,5,Z,[null,new X(null,4,5,Z,[uq,null,wq.C(e),d],null)],null):r(Lz.C(Ut.C(zn.C(e))))?new X(null,2,5,Z,[null,new X(null,4,5,Z,[Lz,null,null,d],null)],null):new X(null,2,5,Z,[e,
d],null)}return e},c)}
function HH(a,b,c){return cf(lF(function(d){var e=N(d,0,null),f=N(d,1,null);d=N(d,2,null);var h=IH(a,b,d);d=N(h,0,null);var k=N(h,1,null);h=N(k,0,null);var m=N(k,1,null),n=N(k,2,null);k=N(k,3,null);return F.B(h,lp)?new X(null,2,5,Z,[null,new X(null,2,5,Z,[wk.I(V,M([e,nf([r(f)?uq:lt,new X(null,1,5,Z,[d],null),fo,m])])),k],null)],null):F.B(h,uq)?r(uq.C(e))?sG('Two else clauses ("~:;") inside bracket construction.',b):ic(uq.C(a))?sG('An else clause ("~:;") is in a bracket type that doesn\'t support it.',b):
F.B(Kx,uq.C(a))&&G(lt.C(e))?sG('The else clause ("~:;") is only allowed in the first position for this directive.',b):F.B(Kx,uq.C(a))?new X(null,2,5,Z,[!0,new X(null,3,5,Z,[wk.I(V,M([e,new q(null,2,[uq,new X(null,1,5,Z,[d],null),HE,n],null)])),!1,k],null)],null):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[wk.I(V,M([e,new q(null,1,[lt,new X(null,1,5,Z,[d],null)],null)])),!0,k],null)],null):F.B(h,Lz)?r(f)?sG('A plain clause (with "~;") follows an else clause ("~:;") inside bracket construction.',b):ic(iC.C(a))?
sG('A separator ("~;") is in a bracket type that doesn\'t support it.',b):new X(null,2,5,Z,[!0,new X(null,3,5,Z,[wk.I(V,M([e,new q(null,1,[lt,new X(null,1,5,Z,[d],null)],null)])),!1,k],null)],null):null},new X(null,3,5,Z,[new q(null,1,[lt,jf],null),!1,c],null)))}function JH(a){return H(lF(function(b){var c=H(b);b=J(b);var d=Ut.C(zn.C(c));return r(py.C(d))?GH(c,b):new X(null,2,5,Z,[c,b],null)},a))}
function nG(a){var b=rG;rG=a;try{return JH(H(lF(function(c){var d=N(c,0,null);c=N(c,1,null);if(tf(d))return new X(null,2,5,Z,[null,d],null);var e=d.indexOf("~");return 0>e?new X(null,2,5,Z,[FH(d,c),new X(null,2,5,Z,["",c+d.length],null)],null):0===e?EH(lg.B(d,1),c+1):new X(null,2,5,Z,[FH(lg.D(d,0,e),c),new X(null,2,5,Z,[lg.B(d,e),e+c],null)],null)},new X(null,2,5,Z,[a,0],null))))}finally{rG=b}}
var pG=function pG(a){for(;;){if(tf(a))return!1;var c=cq.C(ys.C(zn.C(H(a))));r(c)||(c=rh(pG,H(lt.C(wq.C(H(a))))),c=r(c)?c:rh(pG,H(uq.C(wq.C(H(a))))));if(r(c))return!0;a=J(a)}};function qG(a,b){kF(function(c,d){if(VG(d))return new X(null,2,5,Z,[null,d],null);d=AG(wq.C(c),d);var e=N(d,0,null);d=N(d,1,null);var f=mF(e);e=N(f,0,null);f=N(f,1,null);e=Q.D(e,un,d);return new X(null,2,5,Z,[null,Ug(QB.C(c),new X(null,3,5,Z,[e,d,f],null))],null)},b,a);return null}
var KH=function(a){var b=Eh(W);return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new se(h,0,null)}return d.call(this,f)}function d(e){var f=B.D(y(b),e,Cf);return f===Cf?(f=Ug(a,e),Gh.R(b,Q,e,f),f):f}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}(nG),LH=new q(null,6,[Qr,"'",wC,"#'",vp,"@",ws,"~",hn,"@",Hw,"~"],null);
function MH(a){var b=H(a);b=LH.C?LH.C(b):LH.call(null,b);return r(r(b)?F.B(2,K(a)):b)?(yd(Tb,b),dG(cf(a)),!0):null}function NH(a){if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("[","]");for(var d=0,e=G(a);;){if(ic(Xb)||d<Xb){if(e&&(dG(H(e)),J(e))){yd(Tb," ");kG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}TF()}finally{bG=c,aG=b}}return null}
(function(){var a=KH("~\x3c[~;~@{~w~^, ~:_~}~;]~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=oG(d);return qG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()})();
function OH(a){var b=yf(a)?null:function(){var m=new pe(function(){return wl},zB,Wj([bn,yv,Ht,Wz,rn,Ju,Gm,Xv,uA,Os,ZA],[!0,Ev,bs,"cljs/core.cljs",15,1,10543,10543,pg(new X(null,1,5,Z,[Ao],null)),"Returns [lifted-ns lifted-map] or nil if m can't be lifted.",r(wl)?wl.Fi:null]));return m.C?m.C(a):m.call(null,a)}(),c=N(b,0,null);b=N(b,1,null);var d=r(b)?b:a,e=r(c)?["#:",t.C(c),"{"].join(""):"{";if(r(jG()))yd(Tb,"#");else{c=aG;b=bG;aG+=1;bG=0;try{SF(e,"}");e=0;for(var f=G(d);;){if(ic(Xb)||e<Xb){if(f){if(r(jG()))yd(Tb,
"#");else{d=aG;var h=bG;aG+=1;bG=0;try{SF(null,null),dG(ff(f)),yd(Tb," "),kG(VA),bG=0,dG(H(J(H(f)))),TF()}finally{bG=h,aG=d}}if(J(f)){yd(Tb,", ");kG(VA);d=e+1;var k=J(f);e=d;f=k;continue}}}else yd(Tb,"...");break}TF()}finally{bG=b,aG=c}}return null}function PH(a){return yd(Tb,rl.I(M([a])))}
var QH=function(){var a=KH("~\x3c#{~;~@{~w~^ ~:_~}~;}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=oG(d);return qG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),RH=new q(null,2,["core$future_call","Future","core$promise","Promise"],null),SH=function(){var a=KH("~\x3c\x3c-(~;~@{~w~^ ~_~}~;)-\x3c~:\x3e");return function(){function b(d){var e=
null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=oG(d);return qG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();function TH(a){return a instanceof Zi?jD:(null!=a?a.O&32768||l===a.yi||(a.O?0:nc(fd,a)):nc(fd,a))?fv:a instanceof A?$r:Df(a)?TD:xf(a)?$s:zf(a)?rs:vf(a)?qx:null==a?null:om}var UH,ob=Eh(W),pb=Eh(W),tb=Eh(W),Ob=Eh(W),Sb=B.D(W,Rr,bm.P?bm.P():bm.call(null));
UH=new nm(oe.B("cljs.pprint","simple-dispatch"),TH,Sb,ob,pb,tb,Ob);lm(UH,TD,function(a){if(ic(MH(a)))if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("(",")");for(var d=0,e=G(a);;){if(ic(Xb)||d<Xb){if(e&&(dG(H(e)),J(e))){yd(Tb," ");kG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}TF()}finally{bG=c,aG=b}}return null});lm(UH,rs,NH);lm(UH,$s,OH);lm(UH,qx,QH);lm(UH,null,function(){return yd(Tb,rl.I(M([null])))});lm(UH,om,PH);VF=UH;
function $H(a){return zf(a)?new X(null,2,5,Z,["[","]"],null):new X(null,2,5,Z,["(",")"],null)}
function aI(a){if(wf(a)){var b=$H(a),c=N(b,0,null),d=N(b,1,null),e=G(a),f=H(e),h=J(e);if(r(jG()))yd(Tb,"#");else{var k=aG,m=bG,n=aG+1;aG=n;bG=0;try{SF(c,d);(function(){var va=KH("~w~:i");return function(){function ua(Ka){var la=null;if(0<arguments.length){la=0;for(var ya=Array(arguments.length-0);la<ya.length;)ya[la]=arguments[la+0],++la;la=new se(ya,0,null)}return Ma.call(this,la)}function Ma(Ka){Ka=oG(Ka);return qG(va,Ka)}ua.aa=0;ua.fa=function(Ka){Ka=G(Ka);return Ma(Ka)};ua.I=Ma;return ua}()})()(f);
for(var p=h;;)if(G(p)){(function(){var va=KH(" ");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new se(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=oG(sa);return qG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p," ",va,k,m,n,0,b,c,d,a,e,f,h,f,h)})()();var u=H(p);if(wf(u)){var v=$H(u),z=N(v,0,null),C=N(v,1,null);if(r(jG()))yd(Tb,
"#");else{var E=aG,I=bG,O=aG+1;aG=O;bG=0;try{SF(z,C);if(F.B(K(u),3)&&cf(u)instanceof D){var P=u,T=N(P,0,null),aa=N(P,1,null),ea=N(P,2,null);(function(){var va=KH("~w ~w ");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new se(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=oG(sa);return qG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,
"~w ~w ",va,P,T,aa,ea,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)})()(T,aa);wf(ea)?function(){var va=zf(ea)?"~\x3c[~;~@{~w~^ ~:_~}~;]~:\x3e":"~\x3c(~;~@{~w~^ ~:_~}~;)~:\x3e",ua="string"===typeof va?KH(va):va;return function(Ma,Ka,la){return function(){function ya(Da){var fb=null;if(0<arguments.length){fb=0;for(var zc=Array(arguments.length-0);fb<zc.length;)zc[fb]=arguments[fb+0],++fb;fb=new se(zc,0,null)}return sa.call(this,fb)}function sa(Da){Da=oG(Da);return qG(la,Da)}ya.aa=0;ya.fa=function(Da){Da=
G(Da);return sa(Da)};ya.I=sa;return ya}()}(p,va,ua,P,T,aa,ea,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()(ea):dG(ea)}else Ug(function(){var va=KH("~w ~:i~@{~w~^ ~:_~}");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new se(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=oG(sa);return qG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,
"~w ~:i~@{~w~^ ~:_~}",va,E,I,O,0,v,z,C,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}(),u);TF()}finally{bG=I,aG=E}}J(p)&&function(){var va=KH("~_");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new se(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=oG(sa);return qG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,"~_",va,v,z,C,u,k,m,n,0,b,c,
d,a,e,f,h,f,h)}()()}else dG(u),J(p)&&function(){var va=KH("~:_");return function(ua,Ma,Ka){return function(){function la(sa){var Da=null;if(0<arguments.length){Da=0;for(var fb=Array(arguments.length-0);Da<fb.length;)fb[Da]=arguments[Da+0],++Da;Da=new se(fb,0,null)}return ya.call(this,Da)}function ya(sa){sa=oG(sa);return qG(Ka,sa)}la.aa=0;la.fa=function(sa){sa=G(sa);return ya(sa)};la.I=ya;return la}()}(p,"~:_",va,u,k,m,n,0,b,c,d,a,e,f,h,f,h)}()();p=J(p)}else break;TF()}finally{bG=m,aG=k}}}else dG(a)}
var bI=function(){var a=KH("~:\x3c~w~^ ~@_~w~^ ~_~@{~w~^ ~_~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=oG(d);return qG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}();
function cI(a,b){G(a)&&(r(b)?function(){var c=KH(" ~_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=oG(f);return qG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()():function(){var c=KH(" ~@_");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+
0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=oG(f);return qG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(),function(){var c=KH("~{~w~^ ~_~}");return function(){function d(f){var h=null;if(0<arguments.length){h=0;for(var k=Array(arguments.length-0);h<k.length;)k[h]=arguments[h+0],++h;h=new se(k,0,null)}return e.call(this,h)}function e(f){f=oG(f);return qG(c,f)}d.aa=0;d.fa=function(f){f=G(f);return e(f)};d.I=e;return d}()}()(a))}
function dI(a){G(a)&&function(){var b=KH(" ~_~{~w~^ ~_~}");return function(){function c(e){var f=null;if(0<arguments.length){f=0;for(var h=Array(arguments.length-0);f<h.length;)h[f]=arguments[f+0],++f;f=new se(h,0,null)}return d.call(this,f)}function d(e){e=oG(e);return qG(b,e)}c.aa=0;c.fa=function(e){e=G(e);return d(e)};c.I=d;return c}()}()(a)}
function eI(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);var e=xf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);d=N(e,0,null);e=N(e,1,null);if(r(jG()))yd(Tb,"#");else{var f=aG,h=bG;aG+=1;bG=0;try{SF("(",")"),function(){var k=KH("~w ~1I~@_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-
0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=oG(p);return qG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(a,b),r(c)&&function(){var k=KH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=oG(p);return qG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(c),
r(d)&&function(){var k=KH(" ~_~w");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=oG(p);return qG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};m.I=n;return m}()}()(d),zf(H(e))?cI(e,r(c)?c:d):dI(e),TF()}finally{bG=h,aG=f}}return null}return fI(a)}
function gI(a){if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("[","]");for(var d=0;;){if(ic(Xb)||d<Xb){if(G(a)){if(r(jG()))yd(Tb,"#");else{var e=aG,f=bG;aG+=1;bG=0;try{SF(null,null),dG(H(a)),J(a)&&(yd(Tb," "),kG(pD),dG(cf(a))),TF()}finally{bG=f,aG=e}}if(J(ue(a))){yd(Tb," ");kG(VA);e=d+1;var h=J(ue(a));d=e;a=h;continue}}}else yd(Tb,"...");break}TF()}finally{bG=c,aG=b}}}
function hI(a){var b=H(a);if(r(jG()))yd(Tb,"#");else{var c=aG,d=bG;aG+=1;bG=0;try{SF("(",")"),J(a)&&zf(cf(a))?(function(){var e=KH("~w ~1I~@_");return function(){function f(k){var m=null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=oG(k);return qG(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(b),gI(cf(a)),function(){var e=KH(" ~_~{~w~^ ~_~}");return function(){function f(k){var m=
null;if(0<arguments.length){m=0;for(var n=Array(arguments.length-0);m<n.length;)n[m]=arguments[m+0],++m;m=new se(n,0,null)}return h.call(this,m)}function h(k){k=oG(k);return qG(e,k)}f.aa=0;f.fa=function(k){k=G(k);return h(k)};f.I=h;return f}()}()(J(ue(a)))):fI(a),TF()}finally{bG=d,aG=c}}return null}
var iI=function(){var a=KH("~:\x3c~1I~w~^ ~@_~w~@{ ~_~w~}~:\x3e");return function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){d=oG(d);return qG(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}()}(),jI=W;
function fI(a){if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("(",")");lG(gA,1);for(var d=0,e=G(a);;){if(ic(Xb)||d<Xb){if(e&&(dG(H(e)),J(e))){yd(Tb," ");kG(VA);a=d+1;var f=J(e);d=a;e=f;continue}}else yd(Tb,"...");break}TF()}finally{bG=c,aG=b}}return null}
var kI=function(a){return fi.B(W,bi(Tf,M([function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,2,5,Z,[n,new X(null,2,5,Z,[oe.C(vg(H(n))),cf(n)],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}k=H(e);return Ze(new X(null,2,5,Z,[k,new X(null,2,5,Z,[oe.C(vg(H(k))),cf(k)],null)],null),d(ue(e)))}return null}},null,null)}(a)}()])))}(function(a){return fi.B(W,
Qh.B(function(b){var c=N(b,0,null),d=N(b,1,null);var e=sg(c);e=r(e)?e:S(new Ak(null,new q(null,24,[ip,"null",vq,"null",Hv,"null",yr,"null",Km,"null",Qw,"null",wB,"null",ir,"null",Ex,"null",Kr,"null",WA,"null",ls,"null",mv,"null",go,"null",vA,"null",Yv,"null",Px,"null",My,"null",WC,"null",wC,"null",Qr,"null",Mq,"null",lB,"null",Kp,"null"],null),null),c);return ic(e)?new X(null,2,5,Z,[oe.B("clojure.core",vg(c)),d],null):b},a))}(Wj([WC,Yv,mo,Kr,nE,Zp,rv,EA,Lt,FA,Fs,Cw,wu,Kp,ty,xw,hB,Nz,NC,ls,Lw,EC,Dr,
Wr,eu,kx,pA,lE,st,zq],[bI,function(a){var b=cf(a),c=H(ue(ue(a)));if(zf(b)){a=jI;jI=F.B(1,K(b))?nf([H(b),"%"]):fi.B(W,Qh.D(function(d,e){return new X(null,2,5,Z,[d,["%",t.C(e)].join("")],null)},b,Qk.B(1,K(b)+1)));try{return function(){var d=KH("~\x3c#(~;~@{~w~^ ~_~}~;)~:\x3e");return function(){function e(h){var k=null;if(0<arguments.length){k=0;for(var m=Array(arguments.length-0);k<m.length;)m[k]=arguments[k+0],++k;k=new se(m,0,null)}return f.call(this,k)}function f(h){h=oG(h);return qG(d,h)}e.aa=
0;e.fa=function(h){h=G(h);return f(h)};e.I=f;return e}()}()(c)}finally{jI=a}}else return fI(a)},hI,iI,function(a){if(3<K(a)){if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("(",")");lG(gA,1);Ug(function(){var k=KH("~w ~@_~w ~@_~w ~_");return function(){function m(p){var u=null;if(0<arguments.length){u=0;for(var v=Array(arguments.length-0);u<v.length;)v[u]=arguments[u+0],++u;u=new se(v,0,null)}return n.call(this,u)}function n(p){p=oG(p);return qG(k,p)}m.aa=0;m.fa=function(p){p=G(p);return n(p)};
m.I=n;return m}()}(),a);for(var d=0,e=G(Sh(3,a));;){if(ic(Xb)||d<Xb){if(e){if(r(jG()))yd(Tb,"#");else{a=aG;var f=bG;aG+=1;bG=0;try{SF(null,null),dG(H(e)),J(e)&&(yd(Tb," "),kG(pD),dG(cf(e))),TF()}finally{bG=f,aG=a}}if(J(ue(e))){yd(Tb," ");kG(VA);a=d+1;var h=J(ue(e));d=a;e=h;continue}}}else yd(Tb,"...");break}TF()}finally{bG=c,aG=b}}return null}return fI(a)},bI,eI,eI,hI,bI,hI,iI,iI,bI,iI,hI,hI,bI,hI,function(a){if(J(a)){var b=G(a);a=H(b);var c=J(b);b=H(c);c=J(c);var d="string"===typeof H(c)?new X(null,
2,5,Z,[H(c),J(c)],null):new X(null,2,5,Z,[null,c],null);c=N(d,0,null);d=N(d,1,null);d=xf(H(d))?new X(null,2,5,Z,[H(d),J(d)],null):new X(null,2,5,Z,[null,d],null);var e=N(d,0,null),f=N(d,1,null);if(r(jG()))yd(Tb,"#");else{d=aG;var h=bG;aG+=1;bG=0;try{SF("(",")");(function(){var m=KH("~w ~1I~@_~w");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=oG(u);
return qG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()})()(a,b);r(r(c)?c:r(e)?e:G(f))&&function(){var m=KH("~@:_");return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=oG(u);return qG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()();r(c)&&mG(!0,'"~a"~:[~;~:@_~]',M([c,r(e)?e:G(f)]));r(e)&&function(){var m=KH("~w~:[~;~:@_~]");
return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){u=oG(u);return qG(m,u)}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}()(e,G(f));for(a=f;;){aI(H(a));var k=J(a);if(k)b=k,kG(VA),a=b;else break}TF()}finally{bG=h,aG=d}}return null}return dG(a)},hI,function(a){if(r(jG()))yd(Tb,"#");else{var b=aG,c=bG;aG+=1;bG=0;try{SF("(",")");lG(gA,1);dG(H(a));
if(J(a)){yd(Tb," ");kG(VA);for(var d=0,e=J(a);;){if(ic(Xb)||d<Xb){if(e){if(r(jG()))yd(Tb,"#");else{a=aG;var f=bG;aG+=1;bG=0;try{SF(null,null),dG(H(e)),J(e)&&(yd(Tb," "),kG(pD),dG(cf(e))),TF()}finally{bG=f,aG=a}}if(J(ue(e))){yd(Tb," ");kG(VA);a=d+1;var h=J(ue(e));d=a;e=h;continue}}}else yd(Tb,"...");break}}TF()}finally{bG=c,aG=b}}return null},hI,eI,eI,bI,bI,hI,hI,bI]))),lI,Jc=Eh(W),Rc=Eh(W),md=Eh(W),Ld=Eh(W),Vd=B.D(W,Rr,bm.P?bm.P():bm.call(null));
lI=new nm(oe.B("cljs.pprint","code-dispatch"),TH,Vd,Jc,Rc,md,Ld);lm(lI,TD,function(a){if(ic(MH(a))){var b=kI.call(null,H(a));return r(b)?b.C?b.C(a):b.call(null,a):fI(a)}return null});lm(lI,$r,function(a){var b=a.C?a.C(jI):a.call(null,jI);return r(b)?gF.I(M([b])):r(YF)?gF.I(M([vg(a)])):hF.call(null,a)});lm(lI,rs,NH);lm(lI,$s,OH);lm(lI,qx,QH);lm(lI,jD,SH);
lm(lI,fv,function(a){var b=t,c=b.C,d=oc(a).name;var e=Yk(/^[^$]+\$[^$]+/,d);e=r(e)?RH.C?RH.C(e):RH.call(null,e):null;b=["#\x3c",c.call(b,r(e)?e:d),"@",t.C(ka(a)),": "].join("");if(r(jG()))yd(Tb,"#");else{c=aG;d=bG;aG+=1;bG=0;try{SF(b,"\x3e");lG(gA,-(b.length-2));kG(VA);var f=null!=a?a.T&1||l===a.nm?!0:a.T?!1:nc(Cd,a):nc(Cd,a);var h=f?!Dd(a):f;dG(h?Bw:y(a));TF()}finally{bG=d,aG=c}}return null});lm(lI,null,hF);lm(lI,om,PH);VF=UH;function rI(a,b){var c=Vg(Ik,a,b);return Ze(c,ei(function(d){return c===d},b))}function sI(a,b){return K(a)<K(b)?w.D(hf,b,a):w.D(hf,a,b)}var tI=function tI(a){switch(arguments.length){case 1:return tI.C(arguments[0]);case 2:return tI.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return tI.I(arguments[0],arguments[1],c)}};tI.C=function(a){return a};
tI.B=function(a,b){for(;;)if(K(b)<K(a)){var c=a;a=b;b=c}else return w.D(function(d,e){return function(f,h){return S(e,h)?f:sf.B(f,h)}}(a,b),a,a)};tI.I=function(a,b,c){a=rI(function(d){return-K(d)},hf.I(c,b,M([a])));return w.D(tI,H(a),ue(a))};tI.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};tI.aa=2;
var uI=function uI(a){switch(arguments.length){case 1:return uI.C(arguments[0]);case 2:return uI.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return uI.I(arguments[0],arguments[1],c)}};uI.C=function(a){return a};uI.B=function(a,b){return K(a)<K(b)?w.D(function(c,d){return S(b,d)?sf.B(c,d):c},a,a):w.D(sf,a,b)};uI.I=function(a,b,c){return w.D(uI,a,hf.B(c,b))};
uI.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};uI.aa=2;function vI(){var a=R.B(null,an),b=new q(null,4,[yp,Wv,cD,Zm,Vq,Dv,An,ar],null);return w.D(function(c,d){var e=N(d,0,null);d=N(d,1,null);return S(a,e)?Q.D(c,d,B.B(a,e)):c},Vg(R,a,jj(b)),b)}function wI(a,b){return K(a)<=K(b)&&qh(function(c){return S(b,c)},a)};var yI="undefined"!=typeof Object.keys?function(a){return Object.keys(a)}:function(a){return Va(a)},zI="undefined"!=typeof Array.isArray?function(a){return Array.isArray(a)}:function(a){return"array"===ha(a)};function AI(){return Math.round(15*Math.random()).toString(16)};function BI(a,b){if(3<a.length){if(b)return!0;b=a.charAt(1);return"~"===a.charAt(0)?":"===b||"$"===b||"#"===b:!1}return!1}function CI(a){var b=Math.floor(a/44);a=String.fromCharCode(a%44+48);return 0===b?"^"+a:"^"+String.fromCharCode(b+48)+a}function DI(){this.cacheSize=this.ze=this.idx=0;this.cache={}}
DI.prototype.write=function(a,b){return BI(a,b)?(4096===this.cacheSize?(this.clear(),this.ze=0,this.cache={}):1936===this.idx&&this.clear(),b=this.cache[a],null==b?(this.cache[a]=[CI(this.idx),this.ze],this.idx++,a):b[1]!=this.ze?(b[1]=this.ze,b[0]=CI(this.idx),this.idx++,a):b[0]):a};DI.prototype.clear=function(){this.idx=0;this.ze++};function EI(){this.idx=0;this.cache=[]}EI.prototype.write=function(a){1936==this.idx&&(this.idx=0);this.cache[this.idx]=a;this.idx++;return a};
EI.prototype.read=function(a){return this.cache[2===a.length?a.charCodeAt(1)-48:44*(a.charCodeAt(1)-48)+(a.charCodeAt(2)-48)]};EI.prototype.clear=function(){this.idx=0};var FI=1;function GI(a,b){if(null==a)return null==b;if(a===b)return!0;if("object"===typeof a){if(zI(a)){if(zI(b)&&a.length===b.length){for(var c=0;c<a.length;c++)if(!GI(a[c],b[c]))return!1;return!0}return!1}if(a.pd)return a.pd(b);if(null!=b&&"object"===typeof b){if(b.pd)return b.pd(a);c=0;var d=yI(b).length,e;for(e in a)if(a.hasOwnProperty(e)&&(c++,!b.hasOwnProperty(e)||!GI(a[e],b[e])))return!1;return c===d}}return!1}function HI(a,b){return a^b+2654435769+(a<<6)+(a>>2)}var II={},JI=0;
function KI(a){var b=0;if(null!=a.forEach)a.forEach(function(h,k){b=(b+(LI(k)^LI(h)))%4503599627370496});else for(var c=yI(a),d=0;d<c.length;d++){var e=c[d],f=a[e];b=(b+(LI(e)^LI(f)))%4503599627370496}return b}function MI(a){var b=0;if(zI(a))for(var c=0;c<a.length;c++)b=HI(b,LI(a[c]));else a.forEach&&a.forEach(function(d){b=HI(b,LI(d))});return b}
function LI(a){if(null==a)return 0;switch(typeof a){case "number":return a;case "boolean":return!0===a?1:0;case "string":var b=II[a];if(null!=b)a=b;else{for(var c=b=0;c<a.length;++c)b=31*b+a.charCodeAt(c),b%=4294967296;JI++;256<=JI&&(II={},JI=1);a=II[a]=b}return a;case "function":return b=a.transit$hashCode$,b||(b=FI,"undefined"!=typeof Object.defineProperty?Object.defineProperty(a,"transit$hashCode$",{value:b,enumerable:!1}):a.transit$hashCode$=b,FI++),b;default:return a instanceof Date?a.valueOf():
zI(a)?MI(a):a.Dd?a.Dd():KI(a)}};var NI="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function OI(a,b){this.tag=a;this.rep=b;this.eb=-1}OI.prototype.toString=function(){return"[TaggedValue: "+this.tag+", "+this.rep+"]"};OI.prototype.equiv=function(a){return GI(this,a)};OI.prototype.equiv=OI.prototype.equiv;OI.prototype.pd=function(a){return a instanceof OI?this.tag===a.tag&&GI(this.rep,a.rep):!1};OI.prototype.Dd=function(){-1===this.eb&&(this.eb=HI(LI(this.tag),LI(this.rep)));return this.eb};
function PI(a,b){return new OI(a,b)}var QI=Ha("9007199254740991"),RI=Ha("-9007199254740991");Aa.prototype.equiv=function(a){return GI(this,a)};Aa.prototype.equiv=Aa.prototype.equiv;Aa.prototype.pd=function(a){return a instanceof Aa&&this.equals(a)};Aa.prototype.Dd=function(){return this.fb};function SI(a){this._name=a;this.eb=-1}SI.prototype.toString=function(){return":"+this._name};SI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};
SI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};SI.prototype.equiv=function(a){return GI(this,a)};SI.prototype.equiv=SI.prototype.equiv;SI.prototype.pd=function(a){return a instanceof SI&&this._name==a._name};SI.prototype.Dd=function(){-1===this.eb&&(this.eb=LI(this._name));return this.eb};function TI(a){this._name=a;this.eb=-1}
TI.prototype.namespace=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(0,a):null};TI.prototype.name=function(){var a=this._name.indexOf("/");return-1!=a?this._name.substring(a+1,this._name.length):this._name};TI.prototype.toString=function(){return this._name};TI.prototype.equiv=function(a){return GI(this,a)};TI.prototype.equiv=TI.prototype.equiv;TI.prototype.pd=function(a){return a instanceof TI&&this._name==a._name};
TI.prototype.Dd=function(){-1===this.eb&&(this.eb=LI(this._name));return this.eb};function UI(a,b,c){var d="";c=c||b+1;for(var e=8*(7-b),f=(new Aa(255,0)).shiftLeft(e);b<c;b++,e-=8,f=La(f,8)){var h=La(a.and(f),e).toString(16);1==h.length&&(h="0"+h);d+=h}return d}function VI(a,b){this.high=a;this.low=b;this.eb=-1}VI.prototype.toString=function(){var a=this.high,b=this.low;var c=UI(a,0,4)+"-";c+=UI(a,4,6)+"-";c+=UI(a,6,8)+"-";c+=UI(b,0,2)+"-";return c+=UI(b,2,8)};
VI.prototype.equiv=function(a){return GI(this,a)};VI.prototype.equiv=VI.prototype.equiv;VI.prototype.pd=function(a){return a instanceof VI&&this.high.equals(a.high)&&this.low.equals(a.low)};VI.prototype.Dd=function(){-1===this.eb&&(this.eb=LI(this.toString()));return this.eb};Date.prototype.pd=function(a){return a instanceof Date?this.valueOf()===a.valueOf():!1};Date.prototype.Dd=function(){return this.valueOf()};function WI(a,b){this.entries=a;this.type=b||0;this.idx=0}
WI.prototype.next=function(){if(this.idx<this.entries.length){var a={value:0===this.type?this.entries[this.idx]:1===this.type?this.entries[this.idx+1]:[this.entries[this.idx],this.entries[this.idx+1]],done:!1};this.idx+=2;return a}return{value:null,done:!0}};WI.prototype.next=WI.prototype.next;WI.prototype[NI]=function(){return this};function XI(a,b){this.map=a;this.type=b||0;this.keys=this.map.Ha();this.idx=0;this.Ee=null;this.se=0}
XI.prototype.next=function(){if(this.idx<this.map.size){null!=this.Ee&&this.se<this.Ee.length||(this.Ee=this.map.map[this.keys[this.idx]],this.se=0);var a={value:0===this.type?this.Ee[this.se]:1===this.type?this.Ee[this.se+1]:[this.Ee[this.se],this.Ee[this.se+1]],done:!1};this.idx++;this.se+=2;return a}return{value:null,done:!0}};XI.prototype.next=XI.prototype.next;XI.prototype[NI]=function(){return this};
function YI(a,b){if(a instanceof ZI&&(b instanceof $I||b instanceof ZI)){if(a.size!==b.size)return!1;for(var c in a.map)for(var d=a.map[c],e=0;e<d.length;e+=2)if(!GI(d[e+1],b.get(d[e])))return!1;return!0}if(a instanceof $I&&(b instanceof $I||b instanceof ZI)){if(a.size!==b.size)return!1;a=a.ib;for(e=0;e<a.length;e+=2)if(!GI(a[e+1],b.get(a[e])))return!1;return!0}if(null!=b&&"object"===typeof b&&(e=yI(b),c=e.length,a.size===c)){for(d=0;d<c;d++){var f=e[d];if(!a.has(f)||!GI(b[f],a.get(f)))return!1}return!0}return!1}
function aJ(a){return null==a?"null":"array"===ha(a)?"["+a.toString()+"]":"string"===ha(a)?'"'+a+'"':a.toString()}function bJ(a){var b=0,c="TransitMap {";a.forEach(function(d,e){c+=aJ(e)+" \x3d\x3e "+aJ(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function cJ(a){var b=0,c="TransitSet {";a.forEach(function(d){c+=aJ(d);b<a.size-1&&(c+=", ");b++});return c+"}"}function $I(a){this.ib=a;this.$a=null;this.eb=-1;this.size=a.length/2;this.li=0}$I.prototype.toString=function(){return bJ(this)};
$I.prototype.inspect=function(){return this.toString()};function dJ(a){if(a.$a)throw Error("Invalid operation, already converted");if(8>a.size)return!1;a.li++;return 32<a.li?(a.$a=eJ(a.ib,!1,!0),a.ib=[],!0):!1}$I.prototype.clear=function(){this.eb=-1;this.$a?this.$a.clear():this.ib=[];this.size=0};$I.prototype.clear=$I.prototype.clear;$I.prototype.keys=function(){return this.$a?this.$a.keys():new WI(this.ib,0)};$I.prototype.keys=$I.prototype.keys;
$I.prototype.Le=function(){if(this.$a)return this.$a.Le();for(var a=[],b=0,c=0;c<this.ib.length;b++,c+=2)a[b]=this.ib[c];return a};$I.prototype.keySet=$I.prototype.Le;$I.prototype.entries=function(){return this.$a?this.$a.entries():new WI(this.ib,2)};$I.prototype.entries=$I.prototype.entries;$I.prototype.values=function(){return this.$a?this.$a.values():new WI(this.ib,1)};$I.prototype.values=$I.prototype.values;
$I.prototype.forEach=function(a){if(this.$a)this.$a.forEach(a);else for(var b=0;b<this.ib.length;b+=2)a(this.ib[b+1],this.ib[b])};$I.prototype.forEach=$I.prototype.forEach;$I.prototype.get=function(a,b){if(this.$a)return this.$a.get(a);if(dJ(this))return this.get(a);for(var c=0;c<this.ib.length;c+=2)if(GI(this.ib[c],a))return this.ib[c+1];return b};$I.prototype.get=$I.prototype.get;
$I.prototype.has=function(a){if(this.$a)return this.$a.has(a);if(dJ(this))return this.has(a);for(var b=0;b<this.ib.length;b+=2)if(GI(this.ib[b],a))return!0;return!1};$I.prototype.has=$I.prototype.has;$I.prototype.set=function(a,b){this.eb=-1;if(this.$a)this.$a.set(a,b),this.size=this.$a.size;else{for(var c=0;c<this.ib.length;c+=2)if(GI(this.ib[c],a)){this.ib[c+1]=b;return}this.ib.push(a);this.ib.push(b);this.size++;32<this.size&&(this.$a=eJ(this.ib,!1,!0),this.ib=null)}};$I.prototype.set=$I.prototype.set;
$I.prototype["delete"]=function(a){this.eb=-1;if(this.$a)return a=this.$a.delete(a),this.size=this.$a.size,a;for(var b=0;b<this.ib.length;b+=2)if(GI(this.ib[b],a))return a=this.ib[b+1],this.ib.splice(b,2),this.size--,a};$I.prototype.clone=function(){var a=eJ();this.forEach(function(b,c){a.set(c,b)});return a};$I.prototype.clone=$I.prototype.clone;$I.prototype[NI]=function(){return this.entries()};$I.prototype.Dd=function(){if(this.$a)return this.$a.Dd();-1===this.eb&&(this.eb=KI(this));return this.eb};
$I.prototype.pd=function(a){return this.$a?YI(this.$a,a):YI(this,a)};function ZI(a,b,c){this.map=b||{};this._keys=a||[];this.size=c||0;this.eb=-1}ZI.prototype.toString=function(){return bJ(this)};ZI.prototype.inspect=function(){return this.toString()};ZI.prototype.clear=function(){this.eb=-1;this.map={};this._keys=[];this.size=0};ZI.prototype.clear=ZI.prototype.clear;ZI.prototype.Ha=function(){return null!=this._keys?this._keys:yI(this.map)};
ZI.prototype["delete"]=function(a){this.eb=-1;this._keys=null;for(var b=LI(a),c=this.map[b],d=0;d<c.length;d+=2)if(GI(a,c[d]))return a=c[d+1],c.splice(d,2),0===c.length&&delete this.map[b],this.size--,a};ZI.prototype.entries=function(){return new XI(this,2)};ZI.prototype.entries=ZI.prototype.entries;ZI.prototype.forEach=function(a){for(var b=this.Ha(),c=0;c<b.length;c++)for(var d=this.map[b[c]],e=0;e<d.length;e+=2)a(d[e+1],d[e],this)};ZI.prototype.forEach=ZI.prototype.forEach;
ZI.prototype.get=function(a,b){var c=LI(a);c=this.map[c];if(null!=c)for(b=0;b<c.length;b+=2){if(GI(a,c[b]))return c[b+1]}else return b};ZI.prototype.get=ZI.prototype.get;ZI.prototype.has=function(a){var b=LI(a);b=this.map[b];if(null!=b)for(var c=0;c<b.length;c+=2)if(GI(a,b[c]))return!0;return!1};ZI.prototype.has=ZI.prototype.has;ZI.prototype.keys=function(){return new XI(this,0)};ZI.prototype.keys=ZI.prototype.keys;
ZI.prototype.Le=function(){for(var a=this.Ha(),b=[],c=0;c<a.length;c++)for(var d=this.map[a[c]],e=0;e<d.length;e+=2)b.push(d[e]);return b};ZI.prototype.keySet=ZI.prototype.Le;ZI.prototype.set=function(a,b){this.eb=-1;var c=LI(a),d=this.map[c];if(null==d)this._keys&&this._keys.push(c),this.map[c]=[a,b],this.size++;else{c=!0;for(var e=0;e<d.length;e+=2)if(GI(b,d[e])){c=!1;d[e]=b;break}c&&(d.push(a),d.push(b),this.size++)}};ZI.prototype.set=ZI.prototype.set;
ZI.prototype.values=function(){return new XI(this,1)};ZI.prototype.values=ZI.prototype.values;ZI.prototype.clone=function(){var a=eJ();this.forEach(function(b,c){a.set(c,b)});return a};ZI.prototype.clone=ZI.prototype.clone;ZI.prototype[NI]=function(){return this.entries()};ZI.prototype.Dd=function(){-1===this.eb&&(this.eb=KI(this));return this.eb};ZI.prototype.pd=function(a){return YI(this,a)};
function eJ(a,b,c){a=a||[];b=!1===b?b:!0;if((!0!==c||!c)&&64>=a.length){if(b){var d=a;a=[];for(b=0;b<d.length;b+=2){var e=!1;for(c=0;c<a.length;c+=2)if(GI(a[c],d[b])){a[c+1]=d[b+1];e=!0;break}e||(a.push(d[b]),a.push(d[b+1]))}}return new $I(a)}d={};e=[];var f=0;for(b=0;b<a.length;b+=2){c=LI(a[b]);var h=d[c];if(null==h)e.push(c),d[c]=[a[b],a[b+1]],f++;else{var k=!0;for(c=0;c<h.length;c+=2)if(GI(h[c],a[b])){h[c+1]=a[b+1];k=!1;break}k&&(h.push(a[b]),h.push(a[b+1]),f++)}}return new ZI(e,d,f)}
function fJ(a){this.map=a;this.size=a.size}fJ.prototype.toString=function(){return cJ(this)};fJ.prototype.inspect=function(){return this.toString()};fJ.prototype.add=function(a){this.map.set(a,a);this.size=this.map.size};fJ.prototype.add=fJ.prototype.add;fJ.prototype.clear=function(){this.map=new ZI;this.size=0};fJ.prototype.clear=fJ.prototype.clear;fJ.prototype["delete"]=function(a){a=this.map.delete(a);this.size=this.map.size;return a};fJ.prototype.entries=function(){return this.map.entries()};
fJ.prototype.entries=fJ.prototype.entries;fJ.prototype.forEach=function(a){var b=this;this.map.forEach(function(c,d){a(d,b)})};fJ.prototype.forEach=fJ.prototype.forEach;fJ.prototype.has=function(a){return this.map.has(a)};fJ.prototype.has=fJ.prototype.has;fJ.prototype.keys=function(){return this.map.keys()};fJ.prototype.keys=fJ.prototype.keys;fJ.prototype.Le=function(){return this.map.Le()};fJ.prototype.keySet=fJ.prototype.Le;fJ.prototype.values=function(){return this.map.values()};
fJ.prototype.values=fJ.prototype.values;fJ.prototype.clone=function(){var a=gJ();this.forEach(function(b){a.add(b)});return a};fJ.prototype.clone=fJ.prototype.clone;fJ.prototype[NI]=function(){return this.values()};fJ.prototype.pd=function(a){if(a instanceof fJ){if(this.size===a.size)return GI(this.map,a.map)}else return!1};fJ.prototype.Dd=function(){return LI(this.map)};
function gJ(a){a=a||[];for(var b={},c=[],d=0,e=0;e<a.length;e++){var f=LI(a[e]),h=b[f];if(null==h)c.push(f),b[f]=[a[e],a[e]],d++;else{f=!0;for(var k=0;k<h.length;k+=2)if(GI(h[k],a[e])){f=!1;break}f&&(h.push(a[e]),h.push(a[e]),d++)}}return new fJ(new ZI(c,b,d))};function hJ(a){this.Ac=a}
function iJ(a){this.options=a||{};this.Ob={};for(var b in this.defaults.Ob)this.Ob[b]=this.defaults.Ob[b];for(b in this.options.handlers){a:{switch(b){case "_":case "s":case "?":case "i":case "d":case "b":case "'":case "array":case "map":a=!0;break a}a=!1}if(a)throw Error('Cannot override handler for ground type "'+b+'"');this.Ob[b]=this.options.handlers[b]}this.Lg=null!=this.options.preferStrings?this.options.preferStrings:this.defaults.Lg;this.Ph=null!=this.options.preferBuffers?this.options.preferBuffers:
this.defaults.Ph;this.uh=this.options.defaultHandler||this.defaults.uh;this.vd=this.options.mapBuilder;this.Ue=this.options.arrayBuilder}
iJ.prototype.defaults={Ob:{_:function(){return null},"?":function(a){return"t"===a},b:function(a,b){if(b&&!1===b.Ph||"undefined"==typeof ca.Buffer)if("undefined"!=typeof Uint8Array){if("undefined"!=typeof atob)var c=atob(a);else{a=String(a).replace(/=+$/,"");if(1==a.length%4)throw Error("'atob' failed: The string to be decoded is not correctly encoded.");b=0;for(var d,e=0,f="";d=a.charAt(e++);~d&&(c=b%4?64*c+d:d,b++%4)?f+=String.fromCharCode(255&c>>(-2*b&6)):0)d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(d);
c=f}a=c.length;b=new Uint8Array(a);for(d=0;d<a;d++)b[d]=c.charCodeAt(d);c=b}else c=PI("b",a);else c=new ca.Buffer(a,"base64");return c},i:function(a){"number"===typeof a||a instanceof Aa||(a=Ha(a,10),a=0<a.compare(QI)||0>a.compare(RI)?a:a.toNumber());return a},n:function(a){return PI("n",a)},d:function(a){return parseFloat(a)},f:function(a){return PI("f",a)},c:function(a){return a},":":function(a){return new SI(a)},$:function(a){return new TI(a)},r:function(a){return PI("r",a)},z:function(a){a:switch(a){case "-INF":a=
-Infinity;break a;case "INF":a=Infinity;break a;case "NaN":a=NaN;break a;default:throw Error("Invalid special double value "+a);}return a},"'":function(a){return a},m:function(a){a="number"===typeof a?a:parseInt(a,10);return new Date(a)},t:function(a){return new Date(a)},u:function(a){a=a.replace(/-/g,"");var b,c;var d=b=0;for(c=24;8>d;d+=2,c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;var e=0;d=8;for(c=24;16>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;var f=za(e,b);b=0;d=16;for(c=24;24>d;d+=2,
c-=8)b|=parseInt(a.substring(d,d+2),16)<<c;e=0;for(c=d=24;32>d;d+=2,c-=8)e|=parseInt(a.substring(d,d+2),16)<<c;return new VI(f,za(e,b))},set:function(a){return gJ(a)},list:function(a){return PI("list",a)},link:function(a){return PI("link",a)},cmap:function(a){return eJ(a,!1)}},uh:function(a,b){return PI(a,b)},Lg:!0,Ph:!0};
iJ.prototype.decode=function(a,b,c,d){if(null==a)return null;switch(typeof a){case "string":return BI(a,c)?(a=jJ(this,a),b&&b.write(a,c),b=a):b="^"===a.charAt(0)&&" "!==a.charAt(1)?b.read(a,c):jJ(this,a),b;case "object":if(zI(a))if("^ "===a[0])if(this.vd)if(17>a.length&&this.vd.fromArray){d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=this.vd.fromArray(d,a)}else{d=this.vd.init(a);for(c=1;c<a.length;c+=2)d=this.vd.add(d,this.decode(a[c],b,!0,!1),
this.decode(a[c+1],b,!1,!1),a);b=this.vd.finalize(d,a)}else{d=[];for(c=1;c<a.length;c+=2)d.push(this.decode(a[c],b,!0,!1)),d.push(this.decode(a[c+1],b,!1,!1));b=eJ(d,!1)}else b=kJ(this,a,b,c,d);else{c=yI(a);var e=c[0];if((d=1==c.length?this.decode(e,b,!1,!1):null)&&d instanceof hJ)a=a[e],c=this.Ob[d.Ac],b=null!=c?c(this.decode(a,b,!1,!0),this):PI(d.Ac,this.decode(a,b,!1,!1));else if(this.vd)if(16>c.length&&this.vd.fromArray){var f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],
b,!1,!1));b=this.vd.fromArray(f,a)}else{f=this.vd.init(a);for(d=0;d<c.length;d++)e=c[d],f=this.vd.add(f,this.decode(e,b,!0,!1),this.decode(a[e],b,!1,!1),a);b=this.vd.finalize(f,a)}else{f=[];for(d=0;d<c.length;d++)e=c[d],f.push(this.decode(e,b,!0,!1)),f.push(this.decode(a[e],b,!1,!1));b=eJ(f,!1)}}return b}return a};iJ.prototype.decode=iJ.prototype.decode;
function kJ(a,b,c,d,e){if(e){var f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}f=c&&c.idx;if(2===b.length&&"string"===typeof b[0]&&(e=a.decode(b[0],c,!1,!1))&&e instanceof hJ)return b=b[1],f=a.Ob[e.Ac],null!=f?f=f(a.decode(b,c,d,!0),a):PI(e.Ac,a.decode(b,c,d,!1));c&&f!=c.idx&&(c.idx=f);if(a.Ue){if(32>=b.length&&a.Ue.fromArray){f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return a.Ue.fromArray(f,b)}f=a.Ue.init(b);for(e=0;e<b.length;e++)f=a.Ue.add(f,a.decode(b[e],c,
d,!1),b);return a.Ue.finalize(f,b)}f=[];for(e=0;e<b.length;e++)f.push(a.decode(b[e],c,d,!1));return f}function jJ(a,b){if("~"===b.charAt(0)){var c=b.charAt(1);if("~"===c||"^"===c||"`"===c)return b.substring(1);if("#"===c)return new hJ(b.substring(2));var d=a.Ob[c];return null==d?a.uh(c,b.substring(2)):d(b.substring(2),a)}return b};function lJ(a){this.uk=new iJ(a)}function mJ(a,b){this.Rl=a;this.options=b||{};this.cache=this.options.cache?this.options.cache:new EI}mJ.prototype.read=function(a){var b=this.cache;a=this.Rl.uk.decode(JSON.parse(a),b);this.cache.clear();return a};mJ.prototype.read=mJ.prototype.read;var nJ=0,Vf=(8|3&Math.round(14*Math.random())).toString(16),pJ="transit$guid$"+(AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI()+"-"+AI()+AI()+AI()+AI()+"-4"+AI()+AI()+AI()+"-"+Vf+AI()+AI()+AI()+"-"+AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI()+AI());
function qJ(a){if(null==a)return"null";if(a===String)return"string";if(a===Boolean)return"boolean";if(a===Number)return"number";if(a===Array)return"array";if(a===Object)return"map";var b=a[pJ];null==b&&("undefined"!=typeof Object.defineProperty?(b=++nJ,Object.defineProperty(a,pJ,{value:b,enumerable:!1})):a[pJ]=b=++nJ);return b}function rJ(a,b){a=a.toString();for(var c=a.length;c<b;c++)a="0"+a;return a}function sJ(){}sJ.prototype.tag=function(){return"_"};sJ.prototype.rep=function(){return null};
sJ.prototype.stringRep=function(){return"null"};function tJ(){}tJ.prototype.tag=function(){return"s"};tJ.prototype.rep=function(a){return a};tJ.prototype.stringRep=function(a){return a};function uJ(){}uJ.prototype.tag=function(){return"i"};uJ.prototype.rep=function(a){return a};uJ.prototype.stringRep=function(a){return a.toString()};function vJ(){}vJ.prototype.tag=function(){return"i"};vJ.prototype.rep=function(a){return a.toString()};vJ.prototype.stringRep=function(a){return a.toString()};
function wJ(){}wJ.prototype.tag=function(){return"?"};wJ.prototype.rep=function(a){return a};wJ.prototype.stringRep=function(a){return a.toString()};function xJ(){}xJ.prototype.tag=function(){return"array"};xJ.prototype.rep=function(a){return a};xJ.prototype.stringRep=function(){return null};function yJ(){}yJ.prototype.tag=function(){return"map"};yJ.prototype.rep=function(a){return a};yJ.prototype.stringRep=function(){return null};function zJ(){}zJ.prototype.tag=function(){return"t"};
zJ.prototype.rep=function(a){return a.getUTCFullYear()+"-"+rJ(a.getUTCMonth()+1,2)+"-"+rJ(a.getUTCDate(),2)+"T"+rJ(a.getUTCHours(),2)+":"+rJ(a.getUTCMinutes(),2)+":"+rJ(a.getUTCSeconds(),2)+"."+rJ(a.getUTCMilliseconds(),3)+"Z"};zJ.prototype.stringRep=function(a,b){return b.rep(a)};function AJ(){}AJ.prototype.tag=function(){return"m"};AJ.prototype.rep=function(a){return a.valueOf()};AJ.prototype.stringRep=function(a){return a.valueOf().toString()};AJ.prototype.getVerboseHandler=function(){return new zJ};
function BJ(){}BJ.prototype.tag=function(){return"u"};BJ.prototype.rep=function(a){return a.toString()};BJ.prototype.stringRep=function(a){return a.toString()};function CJ(){}CJ.prototype.tag=function(){return":"};CJ.prototype.rep=function(a){return a._name};CJ.prototype.stringRep=function(a,b){return b.rep(a)};function DJ(){}DJ.prototype.tag=function(){return"$"};DJ.prototype.rep=function(a){return a._name};DJ.prototype.stringRep=function(a,b){return b.rep(a)};function EJ(){}EJ.prototype.tag=function(a){return a.tag};
EJ.prototype.rep=function(a){return a.rep};EJ.prototype.stringRep=function(){return null};function FJ(){}FJ.prototype.tag=function(){return"set"};FJ.prototype.rep=function(a){var b=[];a.forEach(function(c){b.push(c)});return PI("array",b)};FJ.prototype.stringRep=function(){return null};function GJ(){}GJ.prototype.tag=function(){return"map"};GJ.prototype.rep=function(a){return a};GJ.prototype.stringRep=function(){return null};function HJ(){}HJ.prototype.tag=function(){return"map"};
HJ.prototype.rep=function(a){return a};HJ.prototype.stringRep=function(){return null};function IJ(){}IJ.prototype.tag=function(){return"b"};IJ.prototype.rep=function(a){return a.toString("base64")};IJ.prototype.stringRep=function(){return null};function JJ(){}JJ.prototype.tag=function(){return"b"};
JJ.prototype.rep=function(a){for(var b,c=0,d=a.length,e="",f;c<d;)f=a.subarray(c,Math.min(c+32768,d)),e+=String.fromCharCode.apply(null,f),c+=32768;if("undefined"!=typeof btoa)b=btoa(e);else{a=String(e);d=0;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d";for(f="";a.charAt(d|0)||(e="\x3d",d%1);f+=e.charAt(63&b>>8-d%1*8)){c=a.charCodeAt(d+=.75);if(255<c)throw Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");b=b<<8|c}b=f}return b};
JJ.prototype.stringRep=function(){return null};
function KJ(){this.Ob={};this.set(null,new sJ);this.set(String,new tJ);this.set(Number,new uJ);this.set(Aa,new vJ);this.set(Boolean,new wJ);this.set(Array,new xJ);this.set(Object,new yJ);this.set(Date,new AJ);this.set(VI,new BJ);this.set(SI,new CJ);this.set(TI,new DJ);this.set(OI,new EJ);this.set(fJ,new FJ);this.set($I,new GJ);this.set(ZI,new HJ);"undefined"!=typeof ca.Buffer&&this.set(ca.Buffer,new IJ);"undefined"!=typeof Uint8Array&&this.set(Uint8Array,new JJ)}
KJ.prototype.get=function(a){a="string"===typeof a?this.Ob[a]:this.Ob[qJ(a)];return null!=a?a:this.Ob["default"]};KJ.prototype.get=KJ.prototype.get;KJ.prototype.set=function(a,b){var c;if(c="string"===typeof a)a:{switch(a){case "null":case "string":case "boolean":case "number":case "array":case "map":c=!1;break a}c=!0}c?this.Ob[a]=b:this.Ob[qJ(a)]=b};function LJ(a){this.zb=a||{};this.Lg=null!=this.zb.preferStrings?this.zb.preferStrings:!0;this.aj=this.zb.objectBuilder||null;this.transform=this.zb.transform||null;this.Ob=new KJ;if(a=this.zb.handlers){if(zI(a)||!a.forEach)throw Error('transit writer "handlers" option must be a map');var b=this;a.forEach(function(c,d){if(void 0!==d)b.Ob.set(d,c);else throw Error("Cannot create handler for JavaScript undefined");})}this.Jf=this.zb.handlerForForeign;this.Sg=this.zb.unpack||function(c){return c instanceof
$I&&null===c.$a?c.ib:!1};this.$f=this.zb&&this.zb.verbose||!1}LJ.prototype.handler=function(a){var b=this.Ob.get(null==a?null:a.constructor);return null!=b?b:(a=a&&a.transitTag)?this.Ob.get(a):null};function MJ(a,b,c,d,e){a=a+b+c;return e?e.write(a,d):a}function NJ(a,b,c){var d=[];if(zI(b))for(var e=0;e<b.length;e++)d.push(OJ(a,b[e],!1,c));else b.forEach(function(f){d.push(OJ(a,f,!1,c))});return d}function PJ(a,b){return"string"!==typeof b?(a=a.handler(b))&&1===a.tag(b).length:!0}
function QJ(a,b){var c=a.Sg(b),d=!0;if(c){for(b=0;b<c.length&&(d=PJ(a,c[b]),d);b+=2);return d}if(b.keys){c=b.keys();var e=null;if(c.next){for(e=c.next();!e.done;){d=PJ(a,e.value);if(!d)break;e=c.next()}return d}}if(b.forEach)return b.forEach(function(f,h){d=d&&PJ(a,h)}),d;throw Error("Cannot walk keys of object type "+(null==b?null:b.constructor).name);}
function RJ(a){if(a.constructor.transit$isObject)return!0;var b=a.constructor.toString();b=b.substr(9);b=b.substr(0,b.indexOf("("));b="Object"==b;"undefined"!=typeof Object.defineProperty?Object.defineProperty(a.constructor,"transit$isObject",{value:b,enumerable:!1}):a.constructor.transit$isObject=b;return b}
function SJ(a,b,c){var d=null,e=null,f=null;d=null;var h=0;if(b.constructor===Object||null!=b.forEach||a.Jf&&RJ(b)){if(a.$f){if(null!=b.forEach)if(QJ(a,b)){var k={};b.forEach(function(m,n){k[OJ(a,n,!0,!1)]=OJ(a,m,!1,c)})}else{d=a.Sg(b);e=[];f=MJ("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(OJ(a,d[h],!1,!1)),e.push(OJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(OJ(a,n,!1,!1));e.push(OJ(a,m,!1,c))});k={};k[f]=e}else for(d=yI(b),k={};h<d.length;h++)k[OJ(a,d[h],!0,!1)]=OJ(a,b[d[h]],!1,
c);return k}if(null!=b.forEach){if(QJ(a,b)){d=a.Sg(b);k=["^ "];if(d)for(;h<d.length;h+=2)k.push(OJ(a,d[h],!0,c)),k.push(OJ(a,d[h+1],!1,c));else b.forEach(function(m,n){k.push(OJ(a,n,!0,c));k.push(OJ(a,m,!1,c))});return k}d=a.Sg(b);e=[];f=MJ("~#","cmap","",!0,c);if(d)for(;h<d.length;h+=2)e.push(OJ(a,d[h],!1,c)),e.push(OJ(a,d[h+1],!1,c));else b.forEach(function(m,n){e.push(OJ(a,n,!1,c));e.push(OJ(a,m,!1,c))});return[f,e]}k=["^ "];for(d=yI(b);h<d.length;h++)k.push(OJ(a,d[h],!0,c)),k.push(OJ(a,b[d[h]],
!1,c));return k}if(null!=a.aj)return a.aj(b,function(m){return OJ(a,m,!0,c)},function(m){return OJ(a,m,!1,c)});h=(null==b?null:b.constructor).name;d=Error("Cannot write "+h);d.data={obj:b,type:h};throw d;}
function OJ(a,b,c,d){null!==a.transform&&(b=a.transform(b));var e=a.handler(b)||(a.Jf?a.Jf(b,a.Ob):null),f=e?e.tag(b):null,h=e?e.rep(b):null;if(null!=e&&null!=f)switch(f){case "_":return c?MJ("~","_","",c,d):null;case "s":return 0<h.length?(a=h.charAt(0),a="~"===a||"^"===a||"`"===a?"~"+h:h):a=h,MJ("","",a,c,d);case "?":return c?MJ("~","?",h.toString()[0],c,d):h;case "i":return Infinity===h?MJ("~","z","INF",c,d):-Infinity===h?MJ("~","z","-INF",c,d):isNaN(h)?MJ("~","z","NaN",c,d):c||"string"===typeof h||
h instanceof Aa?MJ("~","i",h.toString(),c,d):h;case "d":return c?MJ(h.Zl,"d",h,c,d):h;case "b":return MJ("~","b",h,c,d);case "'":return a.$f?(c={},b=MJ("~#","'","",!0,d),c[b]=OJ(a,h,!1,d),d=c):d=[MJ("~#","'","",!0,d),OJ(a,h,!1,d)],d;case "array":return NJ(a,h,d);case "map":return SJ(a,h,d);default:a:{if(1===f.length){if("string"===typeof h){d=MJ("~",f,h,c,d);break a}if(c||a.Lg){(a=a.$f&&e.getVerboseHandler())?(f=a.tag(b),h=a.stringRep(b,a)):h=e.stringRep(b,e);if(null!==h){d=MJ("~",f,h,c,d);break a}d=
Error('Tag "'+f+'" cannot be encoded as string');d.data={tag:f,rep:h,obj:b};throw d;}}c=f;b=h;a.$f?(e={},e[MJ("~#",c,"",!0,d)]=OJ(a,b,!1,d),d=e):d=[MJ("~#",c,"",!0,d),OJ(a,b,!1,d)]}return d}else throw d=(null==b?null:b.constructor).name,a=Error("Cannot write "+d),a.data={obj:b,type:d},a;}function TJ(a,b){this.mf=a;this.options=b||{};this.cache=!1===this.options.cache?null:this.options.cache?this.options.cache:new DI}TJ.prototype.Kk=function(){return this.mf};TJ.prototype.marshaller=TJ.prototype.Kk;
TJ.prototype.write=function(a,b){var c=b||{};b=c.asMapKey||!1;var d=this.mf.$f?!1:this.cache;if(!1===c.marshalTop)a=OJ(this.mf,a,b,d);else{c=this.mf;var e=JSON,f=e.stringify,h=OJ;var k=c.handler(a)||(c.Jf?c.Jf(a,c.Ob):null);if(null!=k)a=1===k.tag(a).length?PI("'",a):a;else throw b=(null==a?null:a.constructor).name,d=Error("Cannot write "+b),d.data={obj:a,type:b},d;a=f.call(e,h(c,a,b,d))}null!=this.cache&&this.cache.clear();return a};TJ.prototype.write=TJ.prototype.write;
TJ.prototype.register=function(a,b){this.mf.Ob.set(a,b)};TJ.prototype.register=TJ.prototype.register;function UJ(a,b){if("json"===a||"json-verbose"===a||null==a)return a=new lJ(b),new mJ(a,b);throw Error("Cannot create reader of type "+a);}function VJ(a,b){if("json"===a||"json-verbose"===a||null==a)return"json-verbose"===a&&(null==b&&(b={}),b.verbose=!0),a=new LJ(b),new TJ(a,b);b=Error('Type must be "json"');b.data={type:a};throw b;};qm.prototype.da=function(a,b){return b instanceof qm?this.Od===b.Od:b instanceof VI?this.Od===b.toString():!1};qm.prototype.Ad=l;qm.prototype.od=function(a,b){if(b instanceof qm||b instanceof VI)return Kf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};VI.prototype.Ad=l;VI.prototype.od=function(a,b){if(b instanceof qm||b instanceof VI)return Kf(this.toString(),b.toString());throw Error(["Cannot compare ",t.C(this)," to ",t.C(b)].join(""));};
Aa.prototype.da=function(a,b){return this.equiv(b)};VI.prototype.da=function(a,b){return b instanceof qm?b.da(null,this):this.equiv(b)};OI.prototype.da=function(a,b){return this.equiv(b)};Aa.prototype.jg=l;Aa.prototype.ja=function(){return LI(this)};VI.prototype.jg=l;VI.prototype.ja=function(){return ke(this.toString())};OI.prototype.jg=l;OI.prototype.ja=function(){return LI(this)};VI.prototype.Ei=l;VI.prototype.Na=l;VI.prototype.ia=function(a,b){return yd(b,['#uuid "',t.C(this.toString()),'"'].join(""))};
function WJ(a,b){for(var c=G(Va(b)),d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);a[h]=Wa(b,h);f+=1}else if(c=G(c))d=c,Af(d)?(c=Pd(d),f=Qd(d),d=c,e=K(c),c=f):(c=H(d),a[c]=Wa(b,c),c=J(d),d=null,e=0),f=0;else break;return a}function XJ(){}XJ.prototype.init=function(){return Hd(W)};XJ.prototype.add=function(a,b,c){return Kd(a,b,c)};XJ.prototype.finalize=function(a){return Jd(a)};XJ.prototype.fromArray=function(a){return oj.D?oj.D(a,!0,!0):oj.call(null,a,!0,!0)};function YJ(){}YJ.prototype.init=function(){return Hd(jf)};
YJ.prototype.add=function(a,b){return Mg.B(a,b)};YJ.prototype.finalize=function(a){return Jd(a)};YJ.prototype.fromArray=function(a){return Ii.B?Ii.B(a,!0):Ii.call(null,a,!0)};function ZJ(){}ZJ.prototype.tag=function(){return":"};ZJ.prototype.rep=function(a){return a.ba};ZJ.prototype.stringRep=function(a){return a.ba};function $J(){}$J.prototype.tag=function(){return"$"};$J.prototype.rep=function(a){return a.Ac};$J.prototype.stringRep=function(a){return a.Ac};function aK(){}aK.prototype.tag=function(){return"list"};
aK.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return PI("array",b)};aK.prototype.stringRep=function(){return null};function bK(){}bK.prototype.tag=function(){return"map"};bK.prototype.rep=function(a){return a};bK.prototype.stringRep=function(){return null};function cK(){}cK.prototype.tag=function(){return"set"};
cK.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return PI("array",b)};cK.prototype.stringRep=function(){return null};function dK(){}dK.prototype.tag=function(){return"array"};
dK.prototype.rep=function(a){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b};dK.prototype.stringRep=function(){return null};function eK(){}eK.prototype.tag=function(){return"u"};eK.prototype.rep=function(a){return a.Od};eK.prototype.stringRep=function(a){return this.rep(a)};function fK(a,b){this.value=a;this.meta=b}function gK(){}
gK.prototype.tag=function(){return"with-meta"};gK.prototype.rep=function(a){return PI("array",[a.value,a.meta])};gK.prototype.stringRep=function(){return null};var hK={},uh;function zK(){return lb("iPhone")&&!lb("iPod")&&!lb("iPad")};lb("Opera");lb("Trident")||lb("MSIE");lb("Edge");var DK=lb("Gecko")&&!(-1!=kb.toLowerCase().indexOf("webkit")&&!lb("Edge"))&&!(lb("Trident")||lb("MSIE"))&&!lb("Edge"),EK=-1!=kb.toLowerCase().indexOf("webkit")&&!lb("Edge");EK&&lb("Mobile");lb("Macintosh");lb("Windows");lb("Linux")||lb("CrOS");var Hh=ca.navigator||null;Hh&&(Hh.appVersion||"").indexOf("X11");lb("Android");zK();lb("iPad");lb("iPod");zK()||lb("iPad")||lb("iPod");kb.toLowerCase().indexOf("kaios");try{(new self.OffscreenCanvas(0,0)).getContext("2d")}catch(a){};function fL(a,b,c){this.key=a;this.val=b;this.forward=c;this.O=2155872256;this.T=0}fL.prototype.ka=function(){return new kf(null,this.key,new kf(null,this.val,null,1,null),2,null)};fL.prototype.ia=function(a,b,c){return bl(b,jl,"["," ","]",c,this)};function gL(a,b,c){c=Array(c+1);for(var d=0;;)if(d<c.length)c[d]=null,d+=1;else break;return new fL(a,b,c)}
function hL(a,b,c,d){for(;;){if(0>c)return a;a:for(;;){var e=c<a.forward.length?a.forward[c]:null;if(r(e))if(e.key<b)a=e;else break a;else break a}null!=d&&(d[c]=a);--c}}function iL(){this.header=gL(null,null,0);this.level=0;this.O=2155872256;this.T=0}g=iL.prototype;
g.put=function(a,b){var c=Array(15),d=hL(this.header,a,this.level,c).forward[0];if(null!=d&&d.key===a)return d.val=b;a:for(d=0;;)if(.5>Math.random()&&15>d)d+=1;else break a;if(d>this.level){for(var e=this.level+1;;)if(e<=d+1)c[e]=this.header,e+=1;else break;this.level=d}a=gL(a,b,Array(d));for(b=0;;)if(b<=this.level)d=c[b].forward,b<a.forward.length?a.forward[b]=d[b]:a.forward.push(b<d.length?d[b]:null),b<d.length?d[b]=a:d.push(a),b+=1;else return null};
g.remove=function(a){var b=Array(15),c=hL(this.header,a,this.level,b);c=0===c.forward.length?null:c.forward[0];if(null!=c&&c.key===a){for(a=0;;)if(a<=this.level){var d=b[a].forward;c===(a<d.length?d[a]:null)&&(d[a]=c.forward[a]);a+=1}else break;for(;;)if(0<this.level&&this.level<this.header.forward.length&&null==this.header.forward[this.level])--this.level;else return null}else return null};
g.ceilingEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return F.B(b.key,a)?b:b.forward[0];var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};g.floorEntry=function(a){for(var b=this.header,c=this.level;;){if(0>c)return b===this.header?null:b;var d;a:for(d=b;;){var e=c<d.forward.length?d.forward[c]:null;if(null!=e){if(e.key>a)break a;d=e}else{d=0===c?d:null;break a}}r(d)?(--c,b=d):--c}};
g.ka=function(){return function c(b){return new wg(null,function(){return null==b?null:Ze(new X(null,2,5,Z,[b.key,b.val],null),c(b.forward[0]))},null,null)}(this.header.forward[0])};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"{",", ","}",c,this)};new iL;(function(a){if("undefined"===typeof Qb||"undefined"===typeof Rb||"undefined"===typeof hK||"undefined"===typeof uh)uh=function(b,c,d){this.f=b;this.ti=c;this.sb=d;this.O=393216;this.T=0},uh.prototype.ha=function(b,c){return new uh(this.f,this.ti,c)},uh.prototype.ga=function(){return this.sb},uh.Wa=!0,uh.Sa="cljs.core.async/t_cljs$core$async23964",uh.Za=function(b){return yd(b,"cljs.core.async/t_cljs$core$async23964")};return new uh(a,!0,W)})(function(){return null});var EL=/[\s]/;function FL(a){return null==a?null:","===a?!0:EL.test(a)}function GL(a){return null==a?null:!/[^0-9]/.test(a)}
function HL(a,b){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Ag(k);return function(){for(var p=0;;)if(p<k){var u=x(h,p),v=m;if(u instanceof A||u instanceof D){var z=Vk(sg,vg)(u),C=N(z,0,null);z=N(z,1,null);var E=u instanceof A?oe:ug;u=null==C?E.B?E.B(a,z):E.call(null,a,z):F.B("_",C)?E.C?E.C(z):E.call(null,z):u}v.add(u);p+=1}else return!0}()?Cg(Gg(m),e(Qd(f))):Cg(Gg(m),null)}var n=H(f);return Ze(n instanceof A||n instanceof D?function(){var p=
Vk(sg,vg)(n),u=N(p,0,null);p=N(p,1,null);var v=n instanceof A?oe:ug;return null==u?v.B?v.B(a,p):v.call(null,a,p):F.B("_",u)?v.C?v.C(p):v.call(null,p):n}():n,e(ue(f)))}return null}},null,null)}(b)}function IL(a,b){a=parseInt(a,b);return r(isNaN(a))?-1:a};function JL(a){if(null!=a&&null!=a.Ge)a=a.Ge(a);else{var b=JL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=JL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Reader.read-char",a);}return a}function KL(a){if(null!=a&&null!=a.Bf)a=a.Bf(a);else{var b=KL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=KL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Reader.peek-char",a);}return a}
function LL(a,b){if(null!=a&&null!=a.Gi)a.Gi(a,b);else{var c=LL[ha(null==a?null:a)];if(null!=c)c.B?c.B(a,b):c.call(null,a,b);else if(c=LL._,null!=c)c.B?c.B(a,b):c.call(null,a,b);else throw pc("IPushbackReader.unread",a);}}function ML(a){if(null!=a&&null!=a.hk)a=a.hk(a);else{var b=ML[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=ML._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-line-number",a);}return a}
function NL(a){if(null!=a&&null!=a.fk)a=a.fk(a);else{var b=NL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=NL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-column-number",a);}return a}function OL(a){if(null!=a&&null!=a.gk)a=a.gk(a);else{var b=OL[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=OL._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IndexingReader.get-file-name",a);}return a}
function PL(a,b){this.s=a;this.sj=b;this.jf=0}PL.prototype.Ge=function(){if(this.sj>this.jf){var a=this.s.charAt(this.jf);this.jf+=1;return a}return null};PL.prototype.Bf=function(){return this.sj>this.jf?this.s.charAt(this.jf):null};function QL(a,b){this.fj=a;this.buf=b;this.yd=this.Xg=1}QL.prototype.Ge=function(){var a=this.yd<this.Xg?this.buf[this.yd]:this.fj.Ge(null);this.yd<this.Xg&&(this.yd+=1);return null==a?null:dg(a)};
QL.prototype.Bf=function(){var a=this.yd<this.Xg?this.buf[this.yd]:this.fj.Bf(null);return null==a?null:dg(a)};QL.prototype.Gi=function(a,b){if(r(b)){if(0===this.yd)throw Error("Pushback buffer is full");--this.yd;return this.buf[this.yd]=b}return null};function RL(a){return null!=a?l===a.sm?!0:!1:!1};function SL(a,b,c,d){var e=K(b);a=r(a)?0:10<e?10:e;b=Qh.B(wh.B(TL,!0),Rh.B(a,b));b=Ug(t,Sh(1,$h.B(Wh(" "),b)));e=a<e?"...":null;return[t.C(c),t.C(b),e,t.C(d)].join("")}var TL,ai=Eh(W),ki=Eh(W),Bj=Eh(W),Jj=Eh(W),Jk=B.D(W,Rr,bm.P?bm.P():bm.call(null));
TL=new nm(oe.B("cljs.tools.reader.impl.inspect","inspect*"),function(a,b){return null==b?nz:"string"===typeof b?Sm:b instanceof D?Yr:"number"===typeof b?Yr:b instanceof A?Yr:zf(b)?rs:mg(b)?TD:xf(b)?$s:vf(b)?qx:F.B(b,!0)?Yr:F.B(b,!1)?Yr:oc(b)},Jk,ai,ki,Bj,Jj);TL.mb(null,Sm,function(a,b){a=r(a)?5:20;var c=b.length>a?'..."':'"',d=b.length;return['"',t.C(b.substring(0,a<d?a:d)),c].join("")});TL.mb(null,Yr,function(a,b){return t.C(b)});TL.mb(null,se,function(){return"\x3cindexed seq\x3e"});
TL.mb(null,hj,function(){return"\x3cmap seq\x3e"});TL.mb(null,Pj,function(){return"\x3cmap seq\x3e"});TL.mb(null,qg,function(){return"\x3ccons\x3e"});TL.mb(null,wg,function(){return"\x3clazy seq\x3e"});TL.mb(null,nz,function(){return"nil"});TL.mb(null,TD,function(a,b){return SL(a,b,"(",")")});TL.mb(null,$s,function(a,b){var c=K(b),d=r(a)?0:c;b=Ug(V,Rh.B(d,b));return SL(a,b,"{",c>d?"...}":"}")});TL.mb(null,qx,function(a,b){return SL(a,b,"#{","}")});TL.mb(null,rs,function(a,b){return SL(a,b,"[","]")});
TL.mb(null,om,function(a,b){return rl.I(M([oc(b)]))});function ZL(a,b,c){b=new q(null,2,[uo,Ep,Wy,b],null);a=RL(a)?Q.I(b,Wz,OL(a),M([Gm,ML(a),Qo,NL(a)])):b;var d=Wz.C(a);b=Gm.C(a);var e=Qo.C(a);d=r(d)?[t.C(d)," "].join(""):null;b=r(b)?["[line ",t.C(b),", col ",t.C(e),"]"].join(""):null;c=Xg(t,d,b,r(r(d)?d:b)?" ":null,c);throw tm(c,a);}function $L(a,b){return ZL(a,yo,M([Ug(t,b)]))}function aM(a,b){return ZL(a,Yw,M([Ug(t,b)]))}function bM(a,b){return ZL(a,As,M([Ug(t,b)]))}
function cM(a,b,c,d){$L(a,M(["The map literal starting with ",TL.B(!1,H(d)),r(b)?[" on line ",t.C(b)," column ",t.C(c)].join(""):null," contains ",K(d)," form(s). Map literals must contain an even number of forms."]))}function dM(a,b,c){return $L(a,M(["Invalid ",vg(b),": ",c,"."]))}function eM(a,b,c){return $L(a,M(["Invalid character: ",c," found while reading ",vg(b),"."]))}
function fM(a,b){a:{var c=Sm instanceof D?Sm.ba:null;switch(c){case "regex":c='#"';break a;case "string":c='"';break a;default:throw Error(["No matching clause: ",t.C(c)].join(""));}}return bM(a,M(["Unexpected EOF reading ",vg(Sm)," starting ",Vg(t,c,b),"."]))}function gM(a,b){return aM(a,M(["Invalid digit ",b," in unicode character."]))}function hM(a){return $L(a,M(["Octal escape sequence must be in range [0, 377]."]))}
function iM(a,b){b=function(c){return function f(e){return new wg(null,function(){for(var h=e;;)if(h=G(h)){if(Af(h)){var k=Pd(h),m=K(k),n=Ag(m);a:for(var p=0;;)if(p<m){var u=x(k,p),v=N(u,0,null);1<N(u,1,null)&&n.add(v);p+=1}else{k=!0;break a}return k?Cg(Gg(n),f(Qd(h))):Cg(Gg(n),null)}n=H(h);k=N(n,0,null);if(1<N(n,1,null))return Ze(k,f(ue(h)));h=ue(h)}else return null},null,null)}(Uk(c))}(b);return Xg(t,a,1<K(b)?"s":null,": ",Sh(1,$h.B(Wh(", "),b)))}
function jM(a,b,c){b=vg(b);$L(a,M([iM([String(b.charAt(0)).toUpperCase()+String(b.substr(1)).toLowerCase()," literal contains duplicate key"].join(""),c)]))};function kM(a){for(var b=a.Ge(null);;)if(FL.C?FL.C(b):FL.call(null,b))b=a.Ge(null);else return b}var lM=/^([-+]?)(?:(0)|([1-9][0-9]*)|0[xX]([0-9A-Fa-f]+)|0([0-7]+)|([1-9][0-9]?)[rR]([0-9A-Za-z]+)|0[0-9]+)(N)?$/,mM=/([-+]?[0-9]+)\/([0-9]+)/,nM=/([-+]?[0-9]+(\.[0-9]*)?([eE][-+]?[0-9]+)?)(M)?/;function oM(a,b){a=Yk(a,b);return N(a,0,null)===b}
function pM(a){if(oM(lM,a)){var b=Ji(Yk(lM,a));if(null!=(b.C?b.C(2):b.call(null,2)))a=0;else{a="-"===(b.C?b.C(1):b.call(null,1));b=null!=(b.C?b.C(3):b.call(null,3))?new X(null,2,5,Z,[b.C?b.C(3):b.call(null,3),10],null):null!=(b.C?b.C(4):b.call(null,4))?new X(null,2,5,Z,[b.C?b.C(4):b.call(null,4),16],null):null!=(b.C?b.C(5):b.call(null,5))?new X(null,2,5,Z,[b.C?b.C(5):b.call(null,5),8],null):null!=(b.C?b.C(7):b.call(null,7))?new X(null,2,5,Z,[b.C?b.C(7):b.call(null,7),parseInt(b.C?b.C(6):b.call(null,
6))],null):new X(null,2,5,Z,[null,null],null);var c=b.C?b.C(0):b.call(null,0);null==c?a=null:(b=parseInt(c,b.C?b.C(1):b.call(null,1)),a=a?-1*b:b,a=r(isNaN(a))?null:a)}}else oM(nM,a)?(b=Ji(Yk(nM,a)),a=null!=(b.C?b.C(4):b.call(null,4))?parseFloat(b.C?b.C(1):b.call(null,1)):parseFloat(a)):oM(mM,a)?(b=Ji(Yk(mM,a)),a=b.C?b.C(1):b.call(null,1),b=b.C?b.C(2):b.call(null,2),a=r(Yk(/^\+/,a))?lg.B(a,1):a,a=parseInt(a)/parseInt(b)):a=null;return a}
function qM(a){if(""===a||!0===/:$/.test(a)||!0===/^::/.test(a))return null;var b=a.indexOf("/"),c=0<b?lg.D(a,0,b):null;if(null!=c){b+=1;if(b===K(a))return null;a=lg.B(a,b);return GL(Te(a,0))||""===a||!1!==/:$/.test(c)||"/"!==a&&-1!==a.indexOf("/")?null:new X(null,2,5,Z,[c,a],null)}return"/"===a||-1===a.indexOf("/")?new X(null,2,5,Z,[null,a],null):null}
var rM=function rM(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=1<c.length?new se(c.slice(1),0,null):null;return rM.I(arguments[0],c)};rM.I=function(a){for(;;){var b=a.Ge(null);if("\n"===b||"\n"===b||null==b)break}return a};rM.aa=1;rM.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};
function sM(){return function(){function a(c,d){var e=null;if(1<arguments.length){e=0;for(var f=Array(arguments.length-1);e<f.length;)f[e]=arguments[e+1],++e;e=new se(f,0,null)}return b.call(this,c,e)}function b(c){return $L(c,M(["Unreadable form"]))}a.aa=1;a.fa=function(c){var d=H(c);c=ue(c);return b(d,c)};a.I=b;return a}()};new Pb;function tM(a){var b="#"!==a;return b?(b="'"!==a)?(b=":"!==a)?uM.C?uM.C(a):uM.call(null,a):b:b:b}function vM(a){return"@"===a||"`"===a||"~"===a}function wM(a,b,c,d){if(ic(c))return bM(a,M(["Unexpected EOF while reading start of ",vg(b),"."]));if(r(r(d)?vM(c):d))return eM(a,b,c);d=new Pb;for(LL(a,c);;){if(FL(c)||tM(c)||null==c)return t.C(d);if(vM(c))return eM(a,b,c);d.append(JL(a));c=KL(a)}}
function xM(a,b,c){b=JL(a);if(r(b)){var d=yM.C?yM.C(b):yM.call(null,b);if(r(d))return d.D?d.D(a,b,c):d.call(null,a,b,c);LL(a,b);return zM.D?zM.D(a,b,c):zM.call(null,a,b,c)}return bM(a,M(["Unexpected EOF while reading dispatch character."]))}function AM(a,b){return $L(a,M(["Unmatched delimiter ",b,"."]))}
function BM(a,b,c){b=1+b;if(K(a)!==b)throw aM(null,M(["Invalid unicode literal: \\",a,"."]));for(var d=1,e=0;;){if(d===b)return String.fromCharCode(e);var f=IL(Te(a,d),c);if(-1===f)return c=Te(a,d),aM(null,M(["Invalid digit ",c," in unicode character \\",a,"."]));e=f+e*c;d+=1}}
function CM(a,b,c,d,e){for(var f=1,h=IL(b,c);;){if(-1===h)return gM(a,b);if(f!==d){var k=KL(a);var m=FL(k);m||(m=uM.C?uM.C(k):uM.call(null,k),m=r(m)?m:null==k);if(r(m))return r(e)?aM(a,M(["Invalid unicode literal. Unicode literals should be ",d,"characters long. ","Value supplied is ",f," characters long."])):String.fromCharCode(h);m=IL(k,c);JL(a);if(-1===m)return gM(a,k);h=m+h*c;f+=1}else return String.fromCharCode(h)}}
function DM(a){var b=JL(a);if(null!=b){b=tM(b)||vM(b)||FL(b)?t.C(b):wM(a,sB,b,!1);var c=b.length;if(1===c)return Te(b,0);if("newline"===b)return"\n";if("space"===b)return" ";if("tab"===b)return"\t";if("backspace"===b)return"\b";if("formfeed"===b)return"\f";if("return"===b)return"\r";if(r(0==b.lastIndexOf("u",0)))return b=BM(b,4,16),c=b.charCodeAt(),55295<c&&57344>c?(b=c.toString(16),a=$L(a,M(["Invalid character literal \\u",b,"."]))):a=b,a;if(r(0==b.lastIndexOf("o",0))){--c;if(3<c)return $L(a,M(["Invalid octal escape sequence in a character literal: ",
b,". Octal escape sequences must be 3 or fewer digits."]));b=BM(b,c,8);return 255<(b|0)?hM(a):b}return $L(a,M(["Unsupported character: ",b,"."]))}return bM(a,M(["Unexpected EOF while reading character."]))}function EM(a){return RL(a)?new X(null,2,5,Z,[ML(a),(NL(a)|0)-1|0],null):null}
function FM(a,b,c,d){var e=EM(c),f=N(e,0,null);e=N(e,1,null);b=null==b?null:dg(b);for(var h=Hd(jf);;){var k=kM(c);if(!r(k)){var m=a,n=f,p=e,u=K(h);bM(c,M(["Unexpected EOF while reading ",r(u)?["item ",t.C(u)," of "].join(""):null,vg(m),r(n)?[", starting at line ",t.C(n)," and column ",t.C(p)].join(""):null,"."]))}if(F.B(b,null==k?null:dg(k)))return Jd(h);m=uM.C?uM.C(k):uM.call(null,k);r(m)?(k=m.D?m.D(c,k,d):m.call(null,c,k,d),h=k!==c?Mg.B(h,k):h):(LL(c,k),k=GM?GM(c,!0,null,d):HM.call(null,c,!0,null,
d),h=k!==c?Mg.B(h,k):h)}}function IM(a,b,c){a=FM(TD,")",a,c);return tf(a)?ve:Ug(pg,a)}function JM(a,b,c){return FM(rs,"]",a,c)}function KM(a,b,c){var d=EM(a);b=N(d,0,null);d=N(d,1,null);c=FM($s,"}",a,c);var e=K(c),f=Rk(2,c),h=Ek(f);!sh(e)&&cM(a,b,d,c);F.B(K(h),K(f))||jM(a,$s,f);if(e<=2*mj)a=oj(Of(c),!0,!0);else a:for(a=Of(c),b=a.length,d=0,e=Hd(nj);;)if(d<b)c=d+2,e=Kd(e,a[d],a[d+1]),d=c;else{a=Jd(e);break a}return a}
function LM(a,b){for(var c=function(){var h=new Pb;h.append(b);return h}(),d=JL(a);;){if(r(function(){var h=FL(d);if(h)return h;h=uM.C?uM.C(d):uM.call(null,d);return r(h)?h:null==d}())){var e=t.C(c);LL(a,d);var f=pM(e);return r(f)?f:$L(a,M(["Invalid number: ",e,"."]))}e=function(){var h=c;h.append(d);return h}();f=JL(a);c=e;d=f}}
function MM(a){var b=JL(a);switch(b){case "t":return"\t";case "r":return"\r";case "n":return"\n";case "\\":return"\\";case '"':return'"';case "b":return"\b";case "f":return"\f";case "u":return b=JL(a),-1===parseInt(b|0,16)?$L(a,M(["Invalid unicode escape: \\u",b,"."])):CM(a,b,16,4,!0);default:return GL(b)?(b=CM(a,b,8,3,!1),255<(b|0)?hM(a):b):$L(a,M(["Unsupported escape character: \\",b,"."]))}}
function NM(a){for(var b=new Pb,c=JL(a);;){var d=c;if(F.B(null,d))return fM(a,M(['"',b]));if(F.B("\\",d)){d=function(){var f=b;f.append(MM(a));return f}();var e=JL(a);b=d;c=e}else{if(F.B('"',d))return t.C(b);d=function(){var f=b;f.append(c);return f}();e=JL(a);b=d;c=e}}}
function OM(a,b){b=wM(a,$r,b,!0);if(r(b))switch(b){case "nil":return null;case "true":return!0;case "false":return!1;case "/":return Sw;default:var c=qM(b);c=r(c)?oe.B(c.C?c.C(0):c.call(null,0),c.C?c.C(1):c.call(null,1)):null;return r(c)?c:dM(a,$r,b)}else return null}
function PM(a){var b=JL(a);if(FL(b))return $L(a,M(["A single colon is not a valid keyword."]));b=wM(a,IE,b,!0);var c=qM(b);if(r(r(c)?-1===b.indexOf("::"):c)){var d=c.C?c.C(0):c.call(null,0);c=c.C?c.C(1):c.call(null,1);return":"===Te(b,0)?dM(a,IE,[":",t.C(b)].join("")):ug.B(d,c)}return dM(a,IE,[":",t.C(b)].join(""))}
function QM(a,b,c){b=GM?GM(a,!0,null,c):HM.call(null,a,!0,null,c);b=b instanceof D?nf([b,!0]):b instanceof A?new q(null,1,[UA,b],null):"string"===typeof b?new q(null,1,[UA,b],null):b;xf(b)||$L(a,M(["Metadata cannot be ",TL.B(!1,b),". Metadata must be a Symbol, Keyword, String or Map."]));c=GM?GM(a,!0,null,c):HM.call(null,a,!0,null,c);return null!=c&&(c.O&131072||l===c.tf)?qf(c,vk.I(M([rf(c),b]))):$L(a,M(["Metadata can not be applied to ",TL.B(!1,c),". ","Metadata can only be applied to IMetas."]))}
function RM(a,b,c){b=FM(qx,"}",a,c);c=Ek(b);F.B(K(b),K(c))||jM(a,qx,b);return c}function SM(a){GM?GM(a,!0,null,!0):HM.call(null,a,!0,null,!0);return a}
function TM(a,b,c){b=JL(a);b=wM(a,JA,b,!0);var d=null==b?null:qM(b);if(null==d)var e=null;else e=N(d,0,null),d=N(d,1,null),e=r(e)?null:d;return r(e)?"{"===kM(a)?(c=FM(JA,"}",a,c),!sh(K(c))&&cM(a,null,null,c),b=HL(t.C(e),Rk(2,c)),c=Rk(2,ue(c)),F.B(K(Ek(b)),K(b))||jM(a,JA,b),Hk(b,c)):$L(a,M(["Namespaced map with namespace ",b," does not specify a map."])):$L(a,M(["Invalid value used as namespace in namespaced map: ",b,"."]))}
function UM(a,b,c){b=GM?GM(a,!0,null,c):HM.call(null,a,!0,null,c);return F.B(ov,b)?Number.NaN:F.B(ez,b)?Number.NEGATIVE_INFINITY:F.B(Vt,b)?Number.POSITIVE_INFINITY:$L(a,M([["Invalid token: ##",t.C(b)].join("")]))}function uM(a){switch(a){case '"':return NM;case ":":return PM;case ";":return rM;case "^":return QM;case "(":return IM;case ")":return AM;case "[":return JM;case "]":return AM;case "{":return KM;case "}":return AM;case "\\":return DM;case "#":return xM;default:return null}}
function yM(a){switch(a){case "^":return QM;case "{":return RM;case "\x3c":return sM();case "!":return rM;case "_":return SM;case ":":return TM;case "#":return UM;default:return null}}
function zM(a,b,c){b=GM?GM(a,!0,null,c):HM.call(null,a,!0,null,c);var d=GM?GM(a,!0,null,c):HM.call(null,a,!0,null,c);b instanceof A||$L(a,M(["Invalid reader tag: ",TL.B(!1,"Reader tag must be a symbol"),". Reader tags must be symbols."]));var e=B.B(Mv.C(c),b);e=r(e)?e:W.C?W.C(b):W.call(null,b);if(r(e))return e.C?e.C(d):e.call(null,d);c=om.C(c);return r(c)?c.B?c.B(b,d):c.call(null,b,d):$L(a,M(["No reader function for tag ",TL.B(!1,b),"."]))}
function HM(a){switch(arguments.length){case 1:return VM(W,arguments[0]);case 2:return VM(arguments[0],arguments[1]);case 4:return GM(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function VM(a,b){a=Zg(a);var c=B.B(a,As),d=!S(a,As);return GM(b,d,c,a)}
function GM(a,b,c,d){try{for(;;){var e=JL(a);if(!FL(e)){if(null==e){if(r(b)){b=a;var f=r(null)?bM(b,M(["EOF while reading, starting at line ",null,"."])):bM(b,M(["EOF while reading."]))}else f=c;return f}if(GL(e)||("+"===e||"-"===e)&&GL(a.Bf(null)))return LM(a,e);var h=uM(e);if(r(h)){var k=h.D?h.D(a,e,d):h.call(null,a,e,d);if(k!==a)return k}else return OM(a,e)}}}catch(m){if(m instanceof Error){f=m;if(f instanceof sm){b=f instanceof sm?f.data:null;if(F.B(Ep,uo.C(b)))throw f;a=vk.I(M([new q(null,1,
[uo,Ep],null),b,RL(a)?new q(null,3,[Gm,ML(a),Ju,NL(a),Wz,OL(a)],null):null]));throw new sm(f.message,a,f);}a=vk.I(M([new q(null,1,[uo,Ep],null),RL(a)?new q(null,3,[Gm,ML(a),Ju,NL(a),Wz,OL(a)],null):null]));throw new sm(f.message,a,f);}throw m;}}function WM(a,b){if(r(r(b)?$g.B(b,""):b)){b=new PL(b,K(b));a:{var c=Array(1);if(Df(null))for(var d=0,e=G(null);;)if(e&&1>d)c[d]=H(e),d+=1,e=J(e);else break a;else for(d=0;;)if(1>d)c[d]=null,d+=1;else break}a=VM(a,new QL(b,c))}else a=null;return a};var XM=function(){var a=new X(null,13,5,Z,[null,31,28,31,30,31,30,31,31,30,31,30,31],null),b=new X(null,13,5,Z,[null,31,29,31,30,31,30,31,31,30,31,30,31],null);return function(c,d){return B.B(r(d)?b:a,c)}}(),YM=/(\d\d\d\d)(?:-(\d\d)(?:-(\d\d)(?:[T](\d\d)(?::(\d\d)(?::(\d\d)(?:[.](\d+))?)?)?)?)?)?(?:[Z]|([-+])(\d\d):(\d\d))?/;function ZM(a){a=parseInt(a,10);return ic(isNaN(a))?a:null}
function $M(a,b,c,d){if(!(a<=b&&b<=c))throw Error([t.C(d)," Failed:  ",t.C(a),"\x3c\x3d",t.C(b),"\x3c\x3d",t.C(c)].join(""));return b}
function aN(a){var b=Xk(YM,a);N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null),m=N(b,7,null),n=N(b,8,null),p=N(b,9,null),u=N(b,10,null);if(ic(b))throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));a=ZM(c);b=function(){var I=ZM(d);return r(I)?I:1}();c=function(){var I=ZM(e);return r(I)?I:1}();var v=function(){var I=ZM(f);return r(I)?I:0}(),z=function(){var I=ZM(h);return r(I)?I:0}(),C=function(){var I=ZM(k);return r(I)?I:0}(),E=function(){a:if(F.B(3,
K(m)))var I=m;else if(3<K(m))I=lg.D(m,0,3);else for(I=new Pb(m);;)if(3>I.getLength())I=I.append("0");else{I=I.toString();break a}I=ZM(I);return r(I)?I:0}();n=(F.B(n,"-")?-1:1)*(60*function(){var I=ZM(p);return r(I)?I:0}()+function(){var I=ZM(u);return r(I)?I:0}());return new X(null,8,5,Z,[a,$M(1,b,12,"timestamp month field must be in range 1..12"),$M(1,c,XM(b,0===fg(a,4)&&(0!==fg(a,100)||0===fg(a,400))),"timestamp day field must be in range 1..last day in month"),$M(0,v,23,"timestamp hour field must be in range 0..23"),
$M(0,z,59,"timestamp minute field must be in range 0..59"),$M(0,C,F.B(z,59)?60:59,"timestamp second field must be in range 0..60"),$M(0,E,999,"timestamp millisecond field must be in range 0..999"),n],null)}
var bN=Eh(null),cN=Eh(vk.I(M([new q(null,4,[Bt,function(a){if("string"===typeof a){var b=aN(a);if(r(b)){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null),h=N(b,5,null),k=N(b,6,null);b=N(b,7,null);b=new Date(Date.UTC(a,c-1,d,e,f,h,k)-6E4*b)}else throw Error(["Unrecognized date/time syntax: ",t.C(a)].join(""));return b}throw Error("Instance literal expects a string for its timestamp.");},qq,function(a){if("string"===typeof a)return new qm(a.toLowerCase(),null);throw Error("UUID literal expects a string as its representation.");
},tq,function(a){if(zf(a))return fi.B($i,a);throw Error("Queue literal expects a vector for its elements.");},Ds,function(a){if(zf(a)){var b=[];a=G(a);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);b.push(f);e+=1}else if(a=G(a))c=a,Af(c)?(a=Pd(c),e=Qd(c),c=a,d=K(a),a=e):(a=H(c),b.push(a),a=J(c),c=null,d=0),e=0;else break;return b}if(xf(a)){b={};a=G(a);c=null;for(e=d=0;;)if(e<d){var h=c.Da(null,e);f=N(h,0,null);h=N(h,1,null);f=vg(f);b[f]=h;e+=1}else if(a=G(a))Af(a)?(d=Pd(a),a=Qd(a),c=d,d=K(d)):
(d=H(a),c=N(d,0,null),d=N(d,1,null),c=vg(c),b[c]=d,a=J(a),c=null,d=0),e=0;else break;return b}throw Error("JS literal expects a vector or map containing only string or unqualified keyword keys");}],null),W])));function dN(a){return WM(new q(null,3,[Mv,y(cN),om,y(bN),As,null],null),a)}function eN(a,b){return WM(ni.D(vk.I(M([new q(null,1,[om,y(bN)],null),a])),Mv,function(c){return vk.I(M([y(cN),c]))}),b)};function fN(a,b){const c=Array.prototype.slice.call(arguments),d=c.shift();if("undefined"==typeof d)throw Error("[goog.string.format] Template required");return d.replace(/%([0\- \+]*)(\d+)?(\.(\d+))?([%sfdiu])/g,function(e,f,h,k,m,n,p,u){if("%"==n)return"%";const v=c.shift();if("undefined"==typeof v)throw Error("[goog.string.format] Not enough arguments");arguments[0]=v;return fN.je[n].apply(null,arguments)})}fN.je={};
fN.je.s=function(a,b,c){return isNaN(c)||""==c||a.length>=Number(c)?a:a=-1<b.indexOf("-",0)?a+nb(" ",Number(c)-a.length):nb(" ",Number(c)-a.length)+a};
fN.je.f=function(a,b,c,d,e){d=a.toString();isNaN(e)||""==e||(d=parseFloat(a).toFixed(e));let f;f=0>Number(a)?"-":0<=b.indexOf("+")?"+":0<=b.indexOf(" ")?" ":"";0<=Number(a)&&(d=f+d);if(isNaN(c)||d.length>=Number(c))return d;d=isNaN(e)?Math.abs(Number(a)).toString():Math.abs(Number(a)).toFixed(e);a=Number(c)-d.length-f.length;0<=b.indexOf("-",0)?d=f+d+nb(" ",a):(b=0<=b.indexOf("0",0)?"0":" ",d=f+nb(b,a)+d);return d};fN.je.d=function(a,b,c,d,e,f,h,k){return fN.je.f(parseInt(a,10),b,c,d,0,f,h,k)};
fN.je.i=fN.je.d;fN.je.u=fN.je.d;function jN(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=!1}jN.prototype.stopPropagation=function(){};jN.prototype.preventDefault=function(){this.defaultPrevented=!0};var kN=function(){if(!ca.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{ca.addEventListener("test",fa,b),ca.removeEventListener("test",fa,b)}catch(c){}return a}();function lN(a,b){jN.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.af=null;a&&this.init(a,b)}ra(lN,jN);var mN={2:"touch",3:"pen",4:"mouse"};
lN.prototype.init=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(DK){a:{try{ta(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=EK||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=EK||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:mN[a.pointerType]||"";this.state=a.state;this.af=a;a.defaultPrevented&&lN.$d.preventDefault.call(this)};lN.prototype.stopPropagation=function(){lN.$d.stopPropagation.call(this);this.af.stopPropagation?this.af.stopPropagation():this.af.cancelBubble=!0};lN.prototype.preventDefault=function(){lN.$d.preventDefault.call(this);var a=this.af;a.preventDefault?a.preventDefault():a.returnValue=!1};var nN=0;var oN="closure_listenable_"+(1E6*Math.random()|0);function pN(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.handler=e;this.key=++nN;this.removed=this.hg=!1}function qN(a){a.removed=!0;a.listener=null;a.proxy=null;a.src=null;a.handler=null};function rN(a){this.src=a;this.listeners={};this.Zf=0}rN.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.listeners[f];a||(a=this.listeners[f]=[],this.Zf++);var h=sN(a,b,d,e);-1<h?(b=a[h],c||(b.hg=!1)):(b=new pN(b,this.src,f,!!d,e),b.hg=c,a.push(b));return b};
rN.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.listeners))return!1;var e=this.listeners[a];b=sN(e,b,c,d);return-1<b?(qN(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.listeners[a],this.Zf--),!0):!1};rN.prototype.removeAll=function(a){a=a&&a.toString();var b=0,c;for(c in this.listeners)if(!a||c==a){for(var d=this.listeners[c],e=0;e<d.length;e++)++b,qN(d[e]);delete this.listeners[c];this.Zf--}return b};
function sN(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.removed&&f.listener==b&&f.capture==!!c&&f.handler==d)return e}return-1};var uN="closure_lm_"+(1E6*Math.random()|0),vN={},wN=0;function xN(a,b,c,d,e){if(d&&d.once)return yN(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)xN(a,b[f],c,d,e);return null}c=zN(c);return a&&a[oN]?a.listen(b,c,ja(d)?!!d.capture:!!d,e):AN(a,b,c,!1,d,e)}
function AN(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var h=ja(e)?!!e.capture:!!e,k=BN(a);k||(a[uN]=k=new rN(a));c=k.add(b,c,d,h,f);if(c.proxy)return c;d=CN();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)kN||(e=h),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(DN(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");wN++;return c}
function CN(){function a(c){return b.call(a.src,a.listener,c)}const b=EN;return a}function yN(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)yN(a,b[f],c,d,e);return null}c=zN(c);return a&&a[oN]?a.listenOnce(b,c,ja(d)?!!d.capture:!!d,e):AN(a,b,c,!0,d,e)}
function GN(a){if("number"!==typeof a&&a&&!a.removed){var b=a.src;if(b&&b[oN])b.unlistenByKey(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(DN(c),d):b.addListener&&b.removeListener&&b.removeListener(d);wN--;if(c=BN(b)){d=a.type;if(d in c.listeners){var e=c.listeners[d],f=Za(e,a),h;(h=0<=f)&&Array.prototype.splice.call(e,f,1);h&&(qN(a),0==c.listeners[d].length&&(delete c.listeners[d],c.Zf--))}0==c.Zf&&(c.src=null,b[uN]=null)}else qN(a)}}}
function DN(a){return a in vN?vN[a]:vN[a]="on"+a}function EN(a,b){if(a.removed)a=!0;else{b=new lN(b,this);var c=a.listener,d=a.handler||a.src;a.hg&&GN(a);a=c.call(d,b)}return a}function BN(a){a=a[uN];return a instanceof rN?a:null}var HN="__closure_events_fn_"+(1E9*Math.random()>>>0);function zN(a){if("function"===typeof a)return a;a[HN]||(a[HN]=function(b){return a.handleEvent(b)});return a[HN]};var PO=new X(null,3,5,Z,[3,23,0],null);function WO(a){return"string"===typeof a?F.B(a,"")?null:a:null}function XO(a){return"number"===typeof a?eg(a):"string"===typeof a?(a=parseInt(a,10),r(isNaN(a))?null:a):null}F.B("default","nodejs");var cP="undefined"!==typeof window?window:null;function dP(a){a=SE(t.C(a),/-/,2);var b=N(a,0,null);a=N(a,1,null);b=$k(/\d+/,b);b=r(b)?gi.B(XO,b):null;return new q(null,2,[en,b,xC,r(a)?a.toLowerCase():null],null)}
function eP(a){var b=N(PO,0,null),c=N(PO,1,null),d=N(PO,2,null),e=zf(a)?a:en.C(dP(a));a=N(e,0,null);var f=N(e,1,null);e=N(e,2,null);e=gi.B(function(h){return r(h)?h:0},new X(null,3,5,Z,[a,f,e],null));a=N(e,0,null);f=N(e,1,null);e=N(e,2,null);if(!(b>a||F.B(b,a)&&(c>f||F.B(c,f)&&d>=e)))throw tm("Insufficient `com.taoensso/encore` version, you may have a dependency conflict: see http://goo.gl/qBbLvC for solutions.",new q(null,2,[yA,PE(".",new X(null,3,5,Z,[a,f,e],null)),Po,PE(".",new X(null,3,5,Z,[b,
c,d],null))],null));}var iP=function iP(a){switch(arguments.length){case 2:return iP.B(arguments[0],arguments[1]);case 3:return iP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};iP.B=function(a,b){b=0>b?0:b;var c=K(a);return b>=c?jf:Ti(a,b,c)};iP.D=function(a,b,c){b=0>b?0:b;var d=eg(K(a));c=c>d?d:c;return b>=c?jf:Ti(a,b,c)};iP.aa=3;
var jP=function jP(a){switch(arguments.length){case 2:return jP.B(arguments[0],arguments[1]);case 3:return jP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};jP.B=function(a,b){var c=K(a);return 0>b?(b+=c,Ti(a,0>b?0:b,c)):b>=c?jf:Ti(a,b,c)};jP.D=function(a,b,c){if(0>=c)return jf;var d=eg(K(a));if(0>b)return b+=d,b=0>b?0:b,c=b+c,Ti(a,b,c>d?d:c);c=b+c;d=c>d?d:c;return b>=d?jf:Ti(a,b,d)};jP.aa=3;wh.B(w,V);
(function(){var a=Wa(cP,vg("performance"),null);if(r(a)){var b=function(){var c=Wa(a,vg("now"),null);if(r(c))return c;c=Wa(a,vg("mozNow"),null);if(r(c))return c;c=Wa(a,vg("msNow"),null);if(r(c))return c;c=Wa(a,vg("oNow"),null);return r(c)?c:Wa(a,vg("webkitNow"),null)}();return r(b)?function(){return 1E6*eg(b.call(a))}:function(){return 1E6*(new Date).getTime()}}return function(){return 1E6*(new Date).getTime()}})();
var PP=function PP(a){switch(arguments.length){case 2:return PP.B(arguments[0],arguments[1]);case 3:return PP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};PP.B=function(a,b){return a.substring(b)};PP.D=function(a,b,c){return b>=c?"":a.substring(b,c)};PP.aa=3;
var QP=function QP(a){switch(arguments.length){case 2:return QP.B(arguments[0],arguments[1]);case 3:return QP.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};QP.B=function(a,b){return WO(a.substr(b))};QP.D=function(a,b,c){return WO(a.substr(b,c))};QP.aa=3;gi.B(t,"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_");
var UP=function UP(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return UP.I(c)};UP.I=function(a){var b=Zg(a);a=B.B(b,Kv);var c=B.B(b,Wu),d=B.B(b,pv),e=B.B(b,bA),f=B.B(b,up),h=B.B(b,TA),k=B.B(b,fn),m=B.B(b,AA);b=B.B(b,Uq);return Math.round((r(b)?31536E6*b:0)+(r(e)?2551392E3*e:0)+(r(c)?6048E5*c:0)+(r(k)?864E5*k:0)+(r(m)?36E5*m:0)+(r(h)?6E4*h:0)+(r(f)?1E3*f:0)+(r(d)?d:0)+(r(a)?a:0))};UP.aa=0;UP.fa=function(a){return this.I(G(a))};
vh.B(function(a){return gg(eg(a),1E3)},UP);vh.B(ah,iP);vh.B(ah,jP);vh.B(WO,PP);vh.B(WO,QP);function BQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;return CQ(b)}function CQ(a){N(a,0,null);return new q(null,6,[ks,!0,Yx,!1,QD,null,Ay,null,Sp,ku,AD,function(b){b=Zg(b);b=B.B(b,iv);b=M([Hl(b)]);var c=Q.D(Zb(),ac,!1);el(ol(b,c));return r(Vb)?ql():null}],null)}
function DQ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=0<b.length?new se(b.slice(0),0,null):null;return EQ(b)}
function EQ(a){N(a,0,null);return new q(null,6,[ks,!0,Yx,!1,QD,null,Ay,null,Sp,ku,AD,"undefined"===typeof console?function(){return null}:function(){function b(c){var d=function(){var e=c instanceof D?c.ba:null;switch(e){case "trace":return console.trace;case "debug":return console.debug;case "info":return console.info;case "warn":return console.warn;case "error":return console.error;case "fatal":return console.error;case "report":return console.info;default:throw Error(["No matching clause: ",t.C(e)].join(""));
}}();return r(d)?d:console.log}return function(c){var d=b(zm.C(c));if(r(d)){if(r(function(){var h=B.B(c,Mw);return r(h)?h:ji(c,new X(null,2,5,Z,[Gt,Mw],null))}())){var e=function(){var h=Q.I(c,su,"",M([Nx,null])),k=Sp.C(c);return k.C?k.C(h):k.call(null,h)}(),f=function(){var h=gD.C(c),k=Nx.C(c);return r(k)?Ze(e,Ze(k,h)):Ze(e,h)}();return d.apply(console,wc(f))}return d.call(console,Hl(iv.C(c)))}return null}}()],null)};zf(PO)?eP(new X(null,3,5,Z,[2,126,2],null)):eP(2.126);"undefined"!==typeof window?DQ.C?DQ.C(W):DQ.call(null,W):BQ.C?BQ.C(W):BQ.call(null,W);zf(PO)?eP(new X(null,3,5,Z,[2,105,0],null)):eP(2.105);F.B("default","nodejs");UP.I(M([up,60]));function KR(a,b,c){if(mg(c)){var d=Ug(pg,Qh.B(a,c));return b.C?b.C(d):b.call(null,d)}return Ki(c)?(d=new Y(function(){var e=Yc(c);return a.C?a.C(e):a.call(null,e)}(),function(){var e=Zc(c);return a.C?a.C(e):a.call(null,e)}(),null),b.C?b.C(d):b.call(null,d)):Df(c)?(d=Wk(Qh.B(a,c)),b.C?b.C(d):b.call(null,d)):yf(c)?(d=w.D(function(e,f){return hf.B(e,a.C?a.C(f):a.call(null,f))},c,c),b.C?b.C(d):b.call(null,d)):uf(c)?(d=fi.B(lf(c),Qh.B(a,c)),b.C?b.C(d):b.call(null,d)):b.C?b.C(c):b.call(null,c)}
var LR=function LR(a,b){return KR(wh.B(LR,a),a,b)};function MR(a){function b(c){var d=N(c,0,null);c=N(c,1,null);return"string"===typeof d?new X(null,2,5,Z,[ug.C(d),c],null):new X(null,2,5,Z,[d,c],null)}return LR(function(c){return xf(c)?fi.B(W,Qh.B(b,c)):c},a)};var NR={},OR={},Kk;function QR(a,b,c,d,e){this.Me=a;this.Si=b;this.Vi=c;this.ze=d;this.limit=e;this.O=2147484416;this.T=0}g=QR.prototype;g.ea=function(a,b,c){return RR.D?RR.D(this,b,c):RR.call(null,this,b,c)};g.ra=function(a,b){return Tc(this.Me,b)};g.oa=function(a,b){return Qc(this.Me,b,null)};g.Y=function(a,b,c){return Qc(this.Me,b,c)};g.ia=function(a,b,c){return Bd(this.Me,b,c)};
function RR(a,b,c){var d=a.Me,e=a.Si,f=a.Vi,h=a.ze;a=a.limit;var k=f.B?f.B(b,null):f.call(null,b,null);if(r(k))return new QR(d,Q.D(R.B(e,k),h,b),Q.D(f,b,h),h+1,a);b=new QR(Q.D(d,b,c),Q.D(e,h,b),Q.D(f,b,h),h+1,a);return SR.C?SR.C(b):SR.call(null,b)}function SR(a){if(K(a.Me)>a.limit){var b=a.Me,c=a.Si,d=a.Vi,e=a.ze;a=a.limit;var f=H(c),h=N(f,0,null);f=N(f,1,null);return new QR(R.B(b,f),R.B(c,h),R.B(d,f),e,a)}return a}
function TR(a,b,c){if(null!=a&&null!=a.Oi)a=a.Oi(a,b,c);else{var d=TR[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=TR._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ICache.-get",a);}return a}
function UR(){var a=zh(new QR(W,sk(),W,0,100));if("undefined"===typeof NR||"undefined"===typeof OR||"undefined"===typeof Kk)Kk=function(b,c,d){this.limit=b;this.cg=c;this.Nb=d;this.O=393216;this.T=0},Kk.prototype.ha=function(b,c){return new Kk(this.limit,this.cg,c)},Kk.prototype.ga=function(){return this.Nb},Kk.prototype.Oi=function(b,c,d){b=B.D(y(this.cg),c,null);return null==b?(d=d.P?d.P():d.call(null),Wd(this.cg,Q.D(y(this.cg),c,d)),d):b},Kk.Wa=!0,Kk.Sa="datascript.lru/t_datascript$lru30203",Kk.Za=
function(b){return yd(b,"datascript.lru/t_datascript$lru30203")};return new Kk(100,a,W)};function VR(a){return w.D(function(b,c){b.push(c);return b},[],a)}function WR(a){return a instanceof Array};var YR=H(di(function(a){return 0!=(32&1<<a)},Qk.D(31,-1,-1)))+1,ZR=(1<<YR)-1;function $R(a,b,c,d){for(var e=0,f=eg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0>(a.B?a.B(h,d):a.call(null,h,d))?e=c+1:f=c-1}else return e}function aS(a,b,c,d){for(var e=0,f=eg(c);;)if(e<=f){c=e+f>>>1;var h=b[c];0<(a.B?a.B(h,d):a.call(null,h,d))?f=c-1:e=c+1}else return e}function bS(a,b,c){var d=b.length,e=$R(a,b,d-1,c);if(d=e<d)b=b[e],d=0===(a.B?a.B(b,c):a.call(null,b,c));return d?e:-1}
function cS(a,b,c){var d=b.length;a=$R(a,b,d-1,c);return a===d?-1:a}function dS(a,b,c,d,e,f){var h=f.length,k=d-b,m=k+h,n=Array(k+h+(c-e));d-=b;for(var p=0;;)if(p<d)n[p+0]=a[p+b],p+=1;else break;b=h-0;for(h=0;;)if(h<b)n[h+k]=f[h+0],h+=1;else break;c-=e;for(f=0;;)if(f<c)n[f+m]=a[f+e],f+=1;else break;return n}function eS(a,b,c,d){return dS(a,0,a.length,b,c,d)}
function fS(a,b){var c=a.length,d=b.length,e=c+d,f=e>>>1,h=Array(f);e=Array(e-f);if(c<=f){for(var k=c-0,m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;a=f-c;for(k=0;;)if(k<a)h[k+c]=b[k+0],k+=1;else break;d-=f-c;for(a=0;;)if(a<d)e[a+0]=b[a+(f-c)],a+=1;else break}else{k=f-0;for(m=0;;)if(m<k)h[m+0]=a[m+0],m+=1;else break;k=c-f;for(m=0;;)if(m<k)e[m+0]=a[m+f],m+=1;else break;d-=0;for(a=0;;)if(a<d)e[a+(c-f)]=b[a+0],a+=1;else break}return[h,e]}
function gS(a,b,c,d,e,f){d-=c;if(f=d===f-0)for(f=0;;){if(f===d)return!0;var h=b[f+c],k=e[f+0];if(0!==(a.B?a.B(h,k):a.call(null,h,k)))return!1;f+=1}else return f}function hS(a,b){return r(a)?r(b)?[a,b]:[a]:[b]}function iS(a,b,c){return r(a)?r(b)?r(c)?[a,b,c]:[a,b]:r(c)?[a,c]:[a]:r(b)?r(c)?[b,c]:[b]:[c]}
function jS(a){if(null!=a&&null!=a.Hh)a=a.Hh(a);else{var b=jS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=jS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INode.node-lim-key",a);}return a}function kS(a){if(null!=a&&null!=a.Xi)a=a.keys.length;else{var b=kS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=kS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("INode.node-len",a);}return a}
function lS(a,b){if(null!=a&&null!=a.Jh)a=a.Jh(a,b);else{var c=lS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=lS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("INode.node-merge",a);}return a}function mS(a,b){if(null!=a&&null!=a.Kh)a=a.Kh(a,b);else{var c=mS[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=mS._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("INode.node-merge-n-split",a);}return a}
function nS(a,b,c){if(null!=a&&null!=a.Ih)a=a.Ih(a,b,c);else{var d=nS[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=nS._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("INode.node-lookup",a);}return a}function oS(a,b,c){if(null!=a&&null!=a.Fh)a=a.Fh(a,b,c);else{var d=oS[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=oS._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("INode.node-conj",a);}return a}
function pS(a,b,c,d,e,f){if(null!=a&&null!=a.Gh)a=a.Gh(a,b,c,d,e,f);else{var h=pS[ha(null==a?null:a)];if(null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else if(h=pS._,null!=h)a=h.Ra?h.Ra(a,b,c,d,e,f):h.call(null,a,b,c,d,e,f);else throw pc("INode.node-disj",a);}return a}
function qS(a,b,c,d){if(r(b))return[a];if(16<kS(a))return iS(c,a,d);if(r(r(c)?16>=kS(c):c))return hS(lS(c,a),d);if(r(r(d)?16>=kS(d):d))return hS(c,lS(a,d));if(r(r(c)?null==d||kS(c)<kS(d):c))return a=mS(c,a),iS(a[0],a[1],d);a=mS(a,d);return iS(c,a[0],a[1])}function rS(a,b){this.keys=a;this.Fb=b}g=rS.prototype;g.Hh=function(){var a=this.keys;return a[a.length-1]};g.Xi=function(){return this.keys.length};g.Jh=function(a,b){return new rS(this.keys.concat(b.keys),this.Fb.concat(b.Fb))};
g.Kh=function(a,b){a=fS(this.keys,b.keys);b=fS(this.Fb,b.Fb);return hS(new rS(a[0],b[0]),new rS(a[1],b[1]))};g.Ih=function(a,b,c){a=cS(b,this.keys,c);return-1===a?null:nS(this.Fb[a],b,c)};g.Fh=function(a,b,c){a=$R(b,this.keys,this.keys.length-2,c);c=oS(this.Fb[a],b,c);if(r(c)){var d=this.keys,e=a+1,f=c.map(jS);b=gS(b,d,a,e,f,f.length)?d:eS(d,a,e,f);a=eS(this.Fb,a,a+1,c);if(32>=a.length)return[new rS(b,a)];c=a.length>>>1;return[new rS(b.slice(0,c),a.slice(0,c)),new rS(b.slice(c),a.slice(c))]}return null};
g.Gh=function(a,b,c,d,e,f){var h=cS(b,this.keys,c);if(-1===h)return null;a=0<=h-1?this.Fb[h-1]:null;var k=h+1<this.Fb.length?this.Fb[h+1]:null;c=pS(this.Fb[h],b,c,!1,a,k);if(r(c)){a=r(a)?h-1:h;h=r(k)?2+h:1+h;k=this.keys;var m=c.map(jS);b=gS(b,k,a,h,m,m.length)?k:eS(k,a,h,m);c=eS(this.Fb,a,h,c);return qS(new rS(b,c),d,e,f)}return null};function sS(a){this.keys=a}g=sS.prototype;g.Hh=function(){var a=this.keys;return a[a.length-1]};g.Xi=function(){return this.keys.length};g.Jh=function(a,b){return new sS(this.keys.concat(b.keys))};
g.Kh=function(a,b){a=fS(this.keys,b.keys);return hS(new sS(a[0]),new sS(a[1]))};g.Ih=function(a,b,c){a=bS(b,this.keys,c);return-1===a?null:this.keys[a]};g.Fh=function(a,b,c){a=$R(b,this.keys,this.keys.length-1,c);var d=this.keys.length,e;if(e=a<d)e=this.keys[a],e=0===(b.B?b.B(c,e):b.call(null,c,e));return e?null:32===d?(b=d+1>>>1,a>b?[new sS(this.keys.slice(0,b)),new sS(dS(this.keys,b,d,a,a,[c]))]:[new sS(dS(this.keys,0,b,a,a,[c])),new sS(this.keys.slice(b,d))]):[new sS(eS(this.keys,a,a,[c]))]};
g.Gh=function(a,b,c,d,e,f){a=bS(b,this.keys,c);if(-1===a)return null;a=eS(this.keys,a,a+1,[]);return qS(new sS(a),d,e,f)};function tS(a,b,c,d,e,f){this.root=a;this.shift=b;this.ca=c;this.Lc=d;this.meta=e;this._hash=f;this.O=2297303311;this.T=8332}g=tS.prototype;g.toString=function(){return $d(this)};g.oa=function(a,b){return nS(this.root,this.Lc,b)};g.Y=function(a,b,c){a=nS(this.root,this.Lc,b);return r(a)?a:c};g.ia=function(a,b,c){return bl(b,jl,"#{"," ","}",c,G(this))};g.ga=function(){return this.meta};
g.pa=function(){return new tS(this.root,this.shift,this.ca,this.Lc,this.meta,this._hash)};g.la=function(){return this.ca};g.Xc=function(){return xd(uS.C?uS.C(this):uS.call(null,this))};g.ja=function(){var a=this._hash;return null!=a?a:this._hash=a=Ce(this)};g.da=function(a,b){var c=this;return vf(b)&&this.ca===K(b)&&qh(function(d){return S(c,d)},b)};g.ue=function(){return this};g.Pa=function(){return new tS(new sS([]),0,0,this.Lc,this.meta,null)};
g.lg=function(a,b){return vS.D?vS.D(this,b,this.Lc):vS.call(null,this,b,this.Lc)};g.jb=function(a,b){a=uS.C?uS.C(this):uS.call(null,this);return r(a)?ld(a,b):b.P?b.P():b.call(null)};g.kb=function(a,b,c){a=uS.C?uS.C(this):uS.call(null,this);return r(a)?ld(a,b,c):c};g.ve=function(a,b){return wS.D?wS.D(this,b,this.Lc):wS.call(null,this,b,this.Lc)};g.Fe=function(){return this};g.ka=function(){return uS.C?uS.C(this):uS.call(null,this)};
g.ha=function(a,b){return new tS(this.root,this.shift,this.ca,this.Lc,b,this._hash)};g.na=function(a,b){return wS.D?wS.D(this,b,this.Lc):wS.call(null,this,b,this.Lc)};g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return this.oa(null,a)};
g.B=function(a,b){return this.Y(null,a,b)};function xS(a,b){var c=a.shift;for(a=a.root;;)if(0<c)a=a.Fb[ZR&b>>>c],c-=YR;else return a.keys}function yS(a,b,c,d){return new tS(b,c,d,a.Lc,a.meta,null)}var zS=function zS(a,b,c){var e=ZR&b>>>c;if(0<c){var f=a.Fb[e],h=c-YR;b=zS.D?zS.D(f,b,h):zS.call(null,f,b,h);return-1===b?e+1<a.Fb.length?0|e+1<<c:-1:b|e<<c}return e+1<a.keys.length?0|e+1<<0:-1};function AS(a,b){return zS(a.root,b,a.shift)}
function BS(a,b){for(var c=0;;)if(0<b)c|=a.Fb.length-1<<b,b-=YR,a=a.Fb,a=a[a.length-1];else return c|a.keys.length-1<<0}var CS=function CS(a,b,c){var e=ZR&b>>>c;if(0<c){var f=c-YR,h=a.Fb[e];b=CS.D?CS.D(h,b,f):CS.call(null,h,b,f);return-1===b?0<=e-1?(--e,BS(a.Fb[e],f)|e<<c):-1:b|e<<c}return 0<=e-1?0|e-1<<0:-1};function DS(a,b){return CS(a.root,b,a.shift)}function uS(a){if(0<kS(a.root)){var b=BS(a.root,a.shift)+1;return ES.D?ES.D(a,0,b):ES.call(null,a,0,b)}return null}
function FS(a,b,c){this.K=a;this.off=b;this.end=c;this.O=524306;this.T=0}g=FS.prototype;g.la=function(){return this.end-this.off};g.Da=function(a,b){return this.K[this.off+b]};g.qb=function(a,b,c){return 0<=b&&b<this.end-this.off?this.K[this.off+b]:c};g.rf=function(){if(this.off===this.end)throw Error("-drop-first of empty chunk");return new zg(this.K,this.off+1,this.end)};g.jb=function(a,b){return this.off===this.end?b.P?b.P():b.call(null):ld(this.rf(null),b,this.K[this.off])};
g.kb=function(a,b,c){for(a=this.off;;)if(a<this.end){var d=this.K[a];c=b.B?b.B(c,d):b.call(null,c,d);if(He(c))return y(c);a+=1}else return c};function GS(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2309488832;this.T=1536}g=GS.prototype;g.toString=function(){return $d(this)};g.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(this.idx+1<this.keys.length)return this.left+1<this.right?new GS(this.set,this.left+1,this.right,this.keys,this.idx+1):null;var a=AS(this.set,this.left);return $g.B(-1,a)&&a<this.right?this.Fg(a,this.right):null}return null};g.Xc=function(){if(r(this.keys)){var a=this.set,b=DS(this.set,this.left),c=DS(this.set,this.right);return HS.D?HS.D(a,b,c):HS.call(null,a,b,c)}return null};g.da=function(a,b){return Ye(this,b)};
g.jb=function(a,b){if(null==this.keys)return b.P?b.P():b.call(null);a=this.nb(null);var c=this.Va(null);return null==c?a:ld(c,b,a)};g.kb=function(a,b,c){a=this.left;for(var d=this.keys,e=this.idx;;){if(null==d)return c;var f=d[e];c=b.B?b.B(c,f):b.call(null,c,f);if(He(c))return y(c);if(e+1<d.length)if(a+1<this.right)e+=1,a+=1;else return c;else if(a=AS(this.set,a),-1!==a&&a<this.right)d=xS(this.set,a),e=ZR&a>>>0;else return c}};g.nb=function(){return r(this.keys)?this.keys[this.idx]:null};
g.xb=function(){var a=this.Va(null);return r(a)?a:ve};g.ka=function(){return r(this.keys)?this:null};g.We=function(){var a=F.B(this.left|ZR,this.right|ZR)?this.right&ZR:this.keys.length;return new FS(this.keys,this.idx,a)};g.ce=function(){var a=this.Ve();return r(a)?a:ve};g.Fg=function(a,b){return new GS(this.set,a,b,xS(this.set,a),ZR&a>>>0)};g.Ve=function(){var a=AS(this.set,this.left+(this.keys.length-this.idx-1));return $g.B(-1,a)&&a<this.right?this.Fg(a,this.right):null};
function ES(a,b,c){return new GS(a,b,c,xS(a,b),ZR&b>>>0)}function IS(a,b,c,d,e){this.set=a;this.left=b;this.right=c;this.keys=d;this.idx=e;this.O=2308964544;this.T=0}g=IS.prototype;g.toString=function(){return $d(this)};g.ia=function(a,b,c){return bl(b,jl,"("," ",")",c,G(this))};
g.Va=function(){if(r(this.keys)){if(0<=this.idx-1)return this.right-1>this.left?new IS(this.set,this.left,this.right-1,this.keys,this.idx-1):null;var a=DS(this.set,this.right);return $g.B(-1,a)&&a>this.left?this.Fg(this.left,a):null}return null};g.Xc=function(){if(r(this.keys)){var a=-1===this.left?0:AS(this.set,this.left),b=AS(this.set,this.right);return ES(this.set,a,-1===b?this.right+1:b)}return null};g.da=function(a,b){return Ye(this,b)};
g.nb=function(){return r(this.keys)?this.keys[this.idx]:null};g.xb=function(){var a=this.Va(null);return r(a)?a:ve};g.ka=function(){return r(this.keys)?this:null};g.Fg=function(a,b){return new IS(this.set,a,b,xS(this.set,b),ZR&b>>>0)};function HS(a,b,c){return new IS(a,b,c,xS(a,c),ZR&c>>>0)}
function JS(a,b,c,d){a:if(null==b)b=0;else for(var e=a.root,f=0,h=a.shift;;){var k=kS(e);if(0===h){var m=e.keys;m=$R(d,m,k-1,b);b=k===m?-1:f|m<<0;break a}m=e.keys;m=$R(d,m,k-2,b);f|=m<<h;h-=YR;e=e.Fb[m]}if(0>b)return null;a:if(null==c)c=BS(a.root,a.shift)+1;else for(e=a.root,f=0,h=a.shift;;){m=kS(e);if(0===h){k=e.keys;m=aS(d,k,m-1,c);c=f|m<<0;break a}k=e.keys;m=aS(d,k,m-2,c);f|=m<<h;h-=YR;e=e.Fb[m]}return c>b?new GS(a,b,c,xS(a,b),ZR&b>>>0):null}
function KS(a,b){for(var c=b.length,d=0;;)if(d<c){var e=d;var f=b[d];f=a.C?a.C(f):a.call(null,f);b[e]=f;d+=1}else break;return b}function LS(a){var b=a.length,c=Hd(jf);if(0<b)for(var d=0;;){var e=b-d;if(32>=e){Mg.B(c,a.slice(d));break}else 40<=e?(Mg.B(c,a.slice(d,d+24)),d+=24):(e>>>=1,Mg.B(c,a.slice(d,d+e)),d+=e)}return Of(Jd(c))}function wS(a,b,c){b=oS(a.root,c,b);return null==b?a:1===b.length?yS(a,b[0],a.shift,a.ca+1):yS(a,new rS(b.map(jS),b),a.shift+YR,a.ca+1)}
function vS(a,b,c){b=pS(a.root,c,b,!0,null,null);if(null==b)return a;b=b[0];return b instanceof rS&&1===b.Fb.length?yS(a,b.Fb[0],a.shift-YR,a.ca-1):yS(a,b,a.shift,a.ca-1)}function MS(a,b,c){return JS(a,b,c,a.Lc)}
function NS(a,b){for(var c=KS(function(h){return new sS(h)},LS(b)),d=c,e=0;;){var f=K(d);switch(f){case 0:return new tS(new sS([]),0,0,a,null,null);case 1:return new tS(H(d),e,b.length,a,null,null);default:d=KS(function(){return function(h){return new rS(h.map(jS),h)}}(d,e,f,c),LS(d)),e+=YR}}}function OS(a){return new tS(new sS([]),0,0,a,null,null)};var PS=Error;function QS(a){return"string"!==typeof a&&(Ef(a)||WR(a))}var RS=xh(jf),SS=xh(Ck);function TS(a,b,c){return H(w.D(function(d,e){var f=N(d,0,null);d=N(d,1,null);e=a.D?a.D(f,e,d):a.call(null,f,e,d);return He(e)?Ge(new X(null,2,5,Z,[e,d],null)):new X(null,2,5,Z,[e,d+1],null)},new X(null,2,5,Z,[b,0],null),c))}function US(a,b){return a^b+2654435769+(a<<6)+(a>>2)}
function VS(a){if(null!=a&&null!=a.Ta)a=a.Ta(a);else{var b=VS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=VS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDatom.datom-tx",a);}return a}function WS(a){if(null!=a&&null!=a.Mc)a=a.Mc(a);else{var b=WS[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=WS._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDatom.datom-added",a);}return a}
function XS(a,b,c,d,e,f){this.e=a;this.a=b;this.v=c;this.Yf=d;this.idx=e;this._hash=f;this.O=2162164496;this.T=0}g=XS.prototype;g.Ta=function(){return 0<this.Yf?this.Yf:-this.Yf};g.Mc=function(){return 0<this.Yf};g.ja=function(){return 0===this._hash?this._hash=YS.C?YS.C(this):YS.call(null,this):this._hash};g.da=function(a,b){return(a=b instanceof XS)?ZS.B?ZS.B(this,b):ZS.call(null,this,b):a};g.ka=function(){return $S.C?$S.C(this):$S.call(null,this)};
g.oa=function(a,b){return aT.D?aT.D(this,b,null):aT.call(null,this,b,null)};g.Y=function(a,b,c){return aT.D?aT.D(this,b,c):aT.call(null,this,b,c)};g.Da=function(a,b){return bT?bT(this,b):cT.call(null,this,b)};g.qb=function(a,b,c){return dT?dT(this,b,c):cT.call(null,this,b,c)};g.ea=function(a,b,c){return eT.D?eT.D(this,b,c):eT.call(null,this,b,c)};g.ia=function(a,b,c){return bl(b,jl,"#datascript/Datom ["," ","]",c,new X(null,5,5,Z,[this.e,this.a,this.v,this.Ta(null),this.Mc(null)],null))};
da("datascript.db.Datom",XS);var fT=function fT(a){switch(arguments.length){case 3:return fT.D(arguments[0],arguments[1],arguments[2]);case 4:return fT.R(arguments[0],arguments[1],arguments[2],arguments[3]);case 5:return fT.ma(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};fT.D=function(a,b,c){return new XS(a,b,c,536870912,0,0)};fT.R=function(a,b,c,d){return new XS(a,b,c,d,0,0)};
fT.ma=function(a,b,c,d,e){return new XS(a,b,c,r(e)?d:-d,0,0)};fT.aa=5;function gT(a){return a instanceof XS}function YS(a){return US(US(ke(a.e),ke(a.a)),ke(a.v))}function ZS(a,b){return a.e===b.e&&F.B(a.a,b.a)&&F.B(a.v,b.v)}function $S(a){return new kf(null,a.e,new kf(null,a.a,new kf(null,a.v,new kf(null,a.Ta(null),new kf(null,a.Mc(null),null,1,null),2,null),3,null),4,null),5,null)}
function aT(a,b,c){return F.B(KB,b)?a.v:F.B("e",b)?a.e:F.B(Ws,b)?a.Mc(null):F.B("v",b)?a.v:F.B(DB,b)?a.e:F.B("a",b)?a.a:F.B(jx,b)?a.Ta(null):F.B("added",b)?a.Mc(null):F.B("tx",b)?a.Ta(null):F.B(GB,b)?a.a:c}function cT(a){switch(arguments.length){case 2:return bT(arguments[0],arguments[1]);case 3:return dT(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}
function bT(a,b){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Mc(null);default:throw Error(["Datom/-nth: Index out of bounds: ",t.C(b)].join(""));}}function dT(a,b,c){switch(b){case 0:return a.e;case 1:return a.a;case 2:return a.v;case 3:return a.Ta(null);case 4:return a.Mc(null);default:return c}}
function eT(a,b,c){switch(b instanceof D?b.ba:null){case "e":return fT.ma(c,a.a,a.v,a.Ta(null),a.Mc(null));case "a":return fT.ma(a.e,c,a.v,a.Ta(null),a.Mc(null));case "v":return fT.ma(a.e,a.a,c,a.Ta(null),a.Mc(null));case "tx":return fT.ma(a.e,a.a,a.v,c,a.Mc(null));case "added":return fT.ma(a.e,a.a,a.v,a.Ta(null),c);default:throw new PS(["invalid key for #datascript/Datom: ",t.C(b)].join(""));}}function hT(a,b){return null==a?0:null==b?0:Kf(a,b)}function iT(a,b){return gb(qc(oc(a)),qc(oc(b)))}
function jT(a,b){try{return F.B(a,b)?0:(null!=a?a.T&2048||l===a.Ad||(a.T?0:nc(Md,a)):nc(Md,a))?Nd(a,b):oc(a)===oc(b)?"number"===typeof a||"string"===typeof a||gc(a)||!0===a||!1===a?gb(a,b):ke(a)-ke(b):iT(a,b)}catch(d){if(d instanceof Error){var c=d;if(oc(a)===oc(b))throw c;return iT(a,b)}throw d;}}function kT(a,b){return null==a?0:null==b?0:jT(a,b)}function lT(a,b){var c=a.e-b.e;return 0===c?(c=hT(a.a,b.a),0===c?(c=kT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function mT(a,b){var c=hT(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=kT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function nT(a,b){var c=hT(a.a,b.a);return 0===c?(c=kT(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function oT(a,b){return a instanceof D?Nd(a,b):gb(a,b)}function pT(a,b){var c=a.e-b.e;return 0===c?(c=oT(a.a,b.a),0===c?(c=jT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}
function qT(a,b){var c=oT(a.a,b.a);return 0===c?(c=a.e-b.e,0===c?(c=jT(a.v,b.v),0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function rT(a,b){var c=oT(a.a,b.a);return 0===c?(c=jT(a.v,b.v),0===c?(c=a.e-b.e,0===c?(a=a.Ta(null)-b.Ta(null),0===a?0:a):c):c):c}function sT(){}
function tT(a,b){if(null!=a&&null!=a.Ni)a=a.Ni(a,b);else{var c=tT[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=tT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ISearch.-search",a);}return a}function uT(a,b){return H(tT(a,b))}
function vT(a,b,c){if(null!=a&&null!=a.Li)a=a.Li(a,b,c);else{var d=vT[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=vT._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IIndexAccess.-datoms",a);}return a}function wT(a,b){if(null!=a&&null!=a.Mi)a=a.Mi(a,SA,b);else{var c=wT[ha(null==a?null:a)];if(null!=c)a=c.D?c.D(a,SA,b):c.call(null,a,SA,b);else if(c=wT._,null!=c)a=c.D?c.D(a,SA,b):c.call(null,a,SA,b);else throw pc("IIndexAccess.-seek-datoms",a);}return a}
function xT(a,b,c){if(F.B(b,Tm)&&(b=H(c),null!=b&&!r(yT.B?yT.B(a,b):yT.call(null,a,b))))throw tm(["Attribute ",rl.I(M([b]))," should be marked as :db/index true"].join(""),new q(null,3,[yx,sC,RC,Tm,wm,c],null));}function zT(){}function AT(a){if(null!=a&&null!=a.sk)a=a.Mb;else{var b=AT[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=AT._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDB.-schema",a);}return a}
function BT(a,b){if(null!=a&&null!=a.Ki)a=a.Ki(a,b);else{var c=BT[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=BT._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IDB.-attrs-by",a);}return a}function CT(a,b,c,d,e,f,h,k,m,n,p,u,v){this.Mb=a;this.Db=b;this.Tb=c;this.Rb=d;this.fc=e;this.hc=f;this.Zb=h;this.Yb=k;this.Xb=m;this.hash=n;this.G=p;this.F=u;this.J=v;this.O=2230716170;this.T=139264}g=CT.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "schema":return this.Mb;case "eavt":return this.Db;case "aevt":return this.Tb;case "avet":return this.Rb;case "max-eid":return this.fc;case "max-tx":return this.hc;case "rschema":return this.Zb;case "pull-patterns":return this.Yb;case "pull-attrs":return this.Xb;case "hash":return this.hash;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.db.DB{",", ","}",c,V.B(new X(null,10,5,Z,[new X(null,2,5,Z,[Yy,this.Mb],null),new X(null,2,5,Z,[SA,this.Db],null),new X(null,2,5,Z,[uC,this.Tb],null),new X(null,2,5,Z,[Tm,this.Rb],null),new X(null,2,5,Z,[Is,this.fc],null),new X(null,2,5,Z,[Et,this.hc],null),new X(null,2,5,Z,[Xz,this.Zb],null),new X(null,2,5,Z,[xs,this.Yb],null),new X(null,2,5,Z,[Cz,this.Xb],null),new X(null,2,5,Z,[MD,this.hash],null)],null),this.F))};
g.qa=function(){return new dj(this,10,new X(null,10,5,Z,[Yy,SA,uC,Tm,Is,Et,Xz,xs,Cz,MD],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,this.J)};g.la=function(){return 10+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1515640948^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Mb,b.Mb)&&F.B(this.Db,b.Db)&&F.B(this.Tb,b.Tb)&&F.B(this.Rb,b.Rb)&&F.B(this.fc,b.fc)&&F.B(this.hc,b.hc)&&F.B(this.Zb,b.Zb)&&F.B(this.Yb,b.Yb)&&F.B(this.Xb,b.Xb)&&F.B(this.hash,b.hash)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,10,[Yy,null,Et,null,MD,null,uC,null,Tm,null,Is,null,SA,null,Cz,null,xs,null,Xz,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "schema":case "eavt":case "aevt":case "avet":case "max-eid":case "max-tx":case "rschema":case "pull-patterns":case "pull-attrs":case "hash":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Yy,b):U.call(null,Yy,b))?new CT(c,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(SA,b):U.call(null,SA,b))?new CT(this.Mb,c,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(uC,b):U.call(null,uC,b))?new CT(this.Mb,this.Db,c,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(Tm,b):U.call(null,Tm,b))?new CT(this.Mb,this.Db,this.Tb,
c,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(Is,b):U.call(null,Is,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,c,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(Et,b):U.call(null,Et,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,c,this.Zb,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(Xz,b):U.call(null,Xz,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,c,this.Yb,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(xs,b):
U.call(null,xs,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,c,this.Xb,this.hash,this.G,this.F,null):r(U.B?U.B(Cz,b):U.call(null,Cz,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,c,this.hash,this.G,this.F,null):r(U.B?U.B(MD,b):U.call(null,MD,b))?new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,c,this.G,this.F,null):new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,this.G,Q.D(this.F,
b,c),null)};g.ka=function(){return G(V.B(new X(null,10,5,Z,[new Y(Yy,this.Mb,null),new Y(SA,this.Db,null),new Y(uC,this.Tb,null),new Y(Tm,this.Rb,null),new Y(Is,this.fc,null),new Y(Et,this.hc,null),new Y(Xz,this.Zb,null),new Y(xs,this.Yb,null),new Y(Cz,this.Xb,null),new Y(MD,this.hash,null)],null),this.F))};g.ha=function(a,b){return new CT(this.Mb,this.Db,this.Tb,this.Rb,this.fc,this.hc,this.Zb,this.Yb,this.Xb,this.hash,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function DT(a){var b=R.I(a,Yy,M([SA,uC,Tm,Is,Et,Xz,xs,Cz,MD]));b=yf(a)?fi.B(W,b):b;return new CT(Yy.C(a),SA.C(a),uC.C(a),Tm.C(a),Is.C(a),Et.C(a),Xz.C(a),xs.C(a),Cz.C(a),MD.C(a),null,ah(b),null)}g.Na=l;g.ia=function(a,b,c){return ET.D?ET.D(this,b,c):ET.call(null,this,b,c)};g.xi=l;g.la=function(){return K(this.Db)};g.ek=l;g.Xc=function(){return xd(this.Db)};g.jg=l;g.ja=function(){return FT.C?FT.C(this):FT.call(null,this)};
g.da=function(a,b){return GT.B?GT.B(this,b):GT.call(null,this,b)};g.zi=l;g.ue=function(){return ni.D(ni.D(ni.D(this,SA,Kg),uC,Kg),Tm,Kg)};g.Ai=l;g.Pa=function(){var a=this.Mb;a=HT?HT(a):IT.call(null,a);return qf(a,rf(this))};g.ve=function(){throw tm("datascript.DB/conj! is not supported",W);};g.Fe=function(){return ni.D(ni.D(ni.D(this,SA,Lg),uC,Lg),Tm,Lg)};
g.Li=function(a,b,c){xT(this,b,c);return MS(B.B(this,b),JT.ma?JT.ma(this,b,c,0,536870912):JT.call(null,this,b,c,0,536870912),JT.ma?JT.ma(this,b,c,2147483647,2147483647):JT.call(null,this,b,c,2147483647,2147483647))};g.Mi=function(a,b,c){xT(this,b,c);return MS(B.B(this,b),JT.ma?JT.ma(this,b,c,0,536870912):JT.call(null,this,b,c,0,536870912),fT.R(2147483647,null,null,2147483647))};g.Ji=l;g.sk=function(){return this.Mb};g.Ki=function(a,b){a=this.Zb;return a.C?a.C(b):a.call(null,b)};g.tk=l;
g.Ni=function(a,b){a=N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null);b=this.Db;var f=this.Tb,h=this.Rb;S(BT(this,Uu),c);return r(a)?r(c)?null!=d?r(e)?MS(b,fT.R(a,c,d,e),fT.R(a,c,d,e)):MS(b,fT.R(a,c,d,536870912),fT.R(a,c,d,2147483647)):r(e)?di(function(k){return F.B(e,k.Ta(null))},MS(b,fT.R(a,c,null,536870912),fT.R(a,c,null,2147483647))):MS(b,fT.R(a,c,null,536870912),fT.R(a,c,null,2147483647)):null!=d?r(e)?di(function(k){return F.B(d,k.v)&&F.B(e,k.Ta(null))},MS(b,fT.R(a,null,null,536870912),
fT.R(a,null,null,2147483647))):di(function(k){return F.B(d,k.v)},MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647))):r(e)?di(function(k){return F.B(e,k.Ta(null))},MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647))):MS(b,fT.R(a,null,null,536870912),fT.R(a,null,null,2147483647)):r(c)?null!=d?r(e)?r(yT.B?yT.B(this,c):yT.call(null,this,c))?di(function(k){return F.B(e,k.Ta(null))},MS(h,fT.R(0,c,d,536870912),fT.R(2147483647,c,d,2147483647))):di(function(k){return F.B(d,k.v)&&F.B(e,
k.Ta(null))},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):r(yT.B?yT.B(this,c):yT.call(null,this,c))?MS(h,fT.R(0,c,d,536870912),fT.R(2147483647,c,d,2147483647)):di(function(k){return F.B(d,k.v)},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):r(e)?di(function(k){return F.B(e,k.Ta(null))},MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647))):MS(f,fT.R(0,c,null,536870912),fT.R(2147483647,c,null,2147483647)):null!=d?r(e)?di(function(k){return F.B(d,
k.v)&&F.B(e,k.Ta(null))},b):di(function(k){return F.B(d,k.v)},b):r(e)?di(function(k){return F.B(e,k.Ta(null))},b):b};
function KT(a,b){switch(b instanceof D?b.ba:null){case "db.unique/identity":return new X(null,3,5,Z,[Hm,wt,OC],null);case "db.unique/value":return new X(null,3,5,Z,[Hm,az,OC],null);case "db.cardinality/many":return new X(null,1,5,Z,[Uu],null);case "db.type/ref":return new X(null,2,5,Z,[Jt,OC],null);default:return F.B(Im,a)&&!0===b?new X(null,1,5,Z,[Im],null):F.B(OC,a)&&!0===b?new X(null,1,5,Z,[OC],null):F.B(En,a)?new X(null,2,5,Z,[Qv,OC],null):jf}}
function LT(a,b){return w.D(function(c,d){return TS(function(e,f,h){return ni.ma(e,f,Q,d,h)},c,En.C(B.B(a,d)))},W,Qv.C(b))}function MT(a){var b=Sf(function(c,d,e){return Sf(function(f,h,k){return w.D(function(m,n){return ni.R(m,n,SS,d)},f,KT(h,k))},c,e)},W,a);return Q.D(b,xz,LT(a,b))}function NT(a,b,c,d){if(null!=c&&!S(d,c))throw tm(["Bad attribute specification for ",rl.I(M([nf([a,nf([b,c])])])),", expected one of ",t.C(d)].join(""),new q(null,4,[yx,In,hx,a,XD,b,gs,c],null));}
function OT(a){for(var b=G(a),c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e),h=N(f,0,null),k=N(f,1,null),m=Im.B(k,!1);NT(h,Im,Im.C(k),new Ak(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=m;return r(I)?$g.B(Du.C(k),Jt):I}()))throw tm(["Bad attribute specification for ",rl.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[yx,In,hx,h,XD,Im],null));NT(h,Hm,Hm.C(k),new Ak(null,new q(null,2,[wt,null,az,null],null),null));NT(h,
Du,Du.C(k),new Ak(null,new q(null,2,[Qv,null,Jt,null],null),null));NT(h,yq,yq.C(k),new Ak(null,new q(null,2,[Uu,null,Ss,null],null),null));if(F.B(Qv,Du.C(k))&&!S(k,En))throw tm(["Bad attribute specification for ",rl.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[yx,In,hx,h,XD,Du],null));if(S(k,En)){f=new q(null,3,[yx,In,hx,h,XD,En],null);if(F.B(Uu,yq.C(k)))throw tm([rl.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),f);var n=
En.C(k);if(!wf(n))throw tm([rl.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",rl.I(M([n]))].join(""),f);if(tf(n))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t be empty"].join(""),f);n=G(n);for(var p=null,u=0,v=0;;)if(v<u){var z=p.Da(null,v),C=Q.D(f,gs,z);if(S(B.B(a,z),En))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",rl.I(M([z]))].join(""),C);if(F.B(Uu,yq.C(B.B(a,z))))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",
rl.I(M([z]))].join(""),C);v+=1}else if(n=G(n)){if(Af(n))u=Pd(n),n=Qd(n),p=u,u=K(u);else{p=H(n);u=Q.D(f,gs,p);if(S(B.B(a,p),En))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",rl.I(M([p]))].join(""),u);if(F.B(Uu,yq.C(B.B(a,p))))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",rl.I(M([p]))].join(""),u);n=J(n);p=null;u=0}v=0}else break}e+=1}else if(h=G(b)){b=h;if(Af(b))c=Pd(b),b=Qd(b),h=c,d=K(c),c=h;else{c=H(b);h=N(c,0,null);
k=N(c,1,null);var E=Im.B(k,!1);NT(h,Im,Im.C(k),new Ak(null,new q(null,2,[!0,null,!1,null],null),null));if(r(function(){var I=E;return r(I)?$g.B(Du.C(k),Jt):I}()))throw tm(["Bad attribute specification for ",rl.I(M([h])),": {:db/isComponent true} should also have {:db/valueType :db.type/ref}"].join(""),new q(null,3,[yx,In,hx,h,XD,Im],null));NT(h,Hm,Hm.C(k),new Ak(null,new q(null,2,[wt,null,az,null],null),null));NT(h,Du,Du.C(k),new Ak(null,new q(null,2,[Qv,null,Jt,null],null),null));NT(h,yq,yq.C(k),
new Ak(null,new q(null,2,[Uu,null,Ss,null],null),null));if(F.B(Qv,Du.C(k))&&!S(k,En))throw tm(["Bad attribute specification for ",rl.I(M([h])),": {:db/valueType :db.type/tuple} should also have :db/tupleAttrs"].join(""),new q(null,3,[yx,In,hx,h,XD,Du],null));if(S(k,En)){c=new q(null,3,[yx,In,hx,h,XD,En],null);if(F.B(Uu,yq.C(k)))throw tm([rl.I(M([h]))," has :db/tupleAttrs, must be :db.cardinality/one"].join(""),c);d=En.C(k);if(!wf(d))throw tm([rl.I(M([h]))," :db/tupleAttrs must be a sequential collection, got: ",
rl.I(M([d]))].join(""),c);if(tf(d))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t be empty"].join(""),c);d=G(d);e=null;for(n=f=0;;)if(n<f){p=e.Da(null,n);u=Q.D(c,gs,p);if(S(B.B(a,p),En))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",rl.I(M([p]))].join(""),u);if(F.B(Uu,yq.C(B.B(a,p))))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",rl.I(M([p]))].join(""),u);n+=1}else if(d=G(d)){if(Af(d))f=Pd(d),d=Qd(d),e=f,f=K(f);else{e=H(d);
f=Q.D(c,gs,e);if(S(B.B(a,e),En))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on another tuple attribute: ",rl.I(M([e]))].join(""),f);if(F.B(Uu,yq.C(B.B(a,e))))throw tm([rl.I(M([h]))," :db/tupleAttrs can’t depend on :db.cardinality/many attribute: ",rl.I(M([e]))].join(""),f);d=J(d);e=null;f=0}n=0}else break}b=J(b);c=null;d=0}e=0}else return null}
function IT(a){switch(arguments.length){case 0:return HT(null);case 1:return HT(arguments[0]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function HT(a){OT(a);return DT(Wj([Yy,Et,MD,uC,Tm,Is,SA,Cz,xs,Xz],[a,536870912,Eh(0),OS(mT),OS(nT),0,OS(lT),UR(),UR(),MT(vk.I(M([new q(null,1,[Eu,new q(null,1,[Hm,wt],null)],null),a])))]))}
function PT(a){var b=DB.C,c=fT.R(536870911,null,null,2147483647),d=fT.R(0,null,null,536870912);a=JS(a,d,c,a.Lc);a=null==a?null:xd(a);b=b.call(DB,H(a));return r(b)?b:0}
function QT(a,b){var c=H(Uh(gT,a));if(null!=c)throw tm(["init-db expects list of Datoms, got ",rl.I(M([oc(c)]))].join(""),new q(null,1,[yx,Yt],null));OT(b);c=MT(vk.I(M([new q(null,1,[Eu,new q(null,1,[Hm,wt],null)],null),b])));var d=OC.C(c),e=WR(a)?a:VR(a);e.sort(pT);var f=NS(lT,e);e.sort(qT);e=NS(mT,e);a=Of(di(function(m){return S(d,m.a)},a));a.sort(rT);a=NS(nT,a);var h=PT(f),k=Wf(Qh.C(function(m){return m.Ta(null)}),bg,536870912,f);return DT(Wj([Yy,Et,MD,uC,Tm,Is,SA,Cz,xs,Xz],[b,k,Eh(0),e,a,h,f,
UR(),UR(),c]))}function FT(a){var b=y(a.hash);return 0===b?Fh(a.hash,US(ke(a.Mb),ke(a.Db))):b}function GT(a,b){var c;if(c=b instanceof CT||!1)if(c=F.B(AT(a),AT(b)))a:for(a=vT(a,SA,jf),c=vT(b,SA,jf),b=G(a),a=G(c);;){if(null==b){c=null==a;break a}if(F.B(H(b),H(a)))b=J(b),a=J(a);else{c=!1;break a}}return c}
function ET(a,b,c){yd(b,"#datascript/DB {");yd(b,":schema ");jl(AT(a),b,c);yd(b,", :datoms ");bl(b,function(d,e,f){return bl(e,jl,"["," ","]",f,new X(null,4,5,Z,[d.e,d.a,d.v,VS(d)],null))},"["," ","]",c,vT(a,SA,jf));return yd(b,"}")}
function RT(a,b,c,d,e,f,h){if(r(c)){var k=new kf(null,uw,new kf(null,vr,new kf(null,b,new kf(null,c,new kf(null,d,new kf(null,e,null,1,null),2,null),3,null),4,null),5,null),6,null);ST.B?ST.B(c,k):ST.call(null,c,k)}return fT.R(function(){var m=TT.B?TT.B(a,b):TT.call(null,a,b);return r(m)?m:f}(),c,r(function(){var m=null!=d;return m?UT.B?UT.B(a,c):UT.call(null,a,c):m}())?VT.B?VT.B(a,d):VT.call(null,a,d):d,function(){var m=TT.B?TT.B(a,e):TT.call(null,a,e);return r(m)?m:h}())}
function JT(a,b,c,d,e){var f=N(c,0,null),h=N(c,1,null),k=N(c,2,null);c=N(c,3,null);b=b instanceof D?b.ba:null;switch(b){case "eavt":return RT(a,f,h,k,c,d,e);case "aevt":return RT(a,h,f,k,c,d,e);case "avet":return RT(a,k,f,h,c,d,e);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}function WT(a,b,c,d,e,f,h,k){this.$c=a;this.Zc=b;this.hd=c;this.fd=d;this.jd=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=WT.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db-before":return this.$c;case "db-after":return this.Zc;case "tx-data":return this.hd;case "tempids":return this.fd;case "tx-meta":return this.jd;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.db.TxReport{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[Fw,this.$c],null),new X(null,2,5,Z,[qA,this.Zc],null),new X(null,2,5,Z,[Zy,this.hd],null),new X(null,2,5,Z,[KE,this.fd],null),new X(null,2,5,Z,[Gn,this.jd],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[Fw,qA,Zy,KE,Gn],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new WT(this.$c,this.Zc,this.hd,this.fd,this.jd,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2022644885^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.$c,b.$c)&&F.B(this.Zc,b.Zc)&&F.B(this.hd,b.hd)&&F.B(this.fd,b.fd)&&F.B(this.jd,b.jd)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[KE,null,qA,null,Fw,null,Zy,null,Gn,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new WT(this.$c,this.Zc,this.hd,this.fd,this.jd,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db-before":case "db-after":case "tx-data":case "tempids":case "tx-meta":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Fw,b):U.call(null,Fw,b))?new WT(c,this.Zc,this.hd,this.fd,this.jd,this.G,this.F,null):r(U.B?U.B(qA,b):U.call(null,qA,b))?new WT(this.$c,c,this.hd,this.fd,this.jd,this.G,this.F,null):r(U.B?U.B(Zy,b):U.call(null,Zy,b))?new WT(this.$c,this.Zc,c,this.fd,this.jd,this.G,this.F,null):r(U.B?U.B(KE,b):U.call(null,KE,b))?new WT(this.$c,this.Zc,this.hd,c,this.jd,this.G,this.F,null):r(U.B?U.B(Gn,b):U.call(null,Gn,b))?new WT(this.$c,this.Zc,this.hd,this.fd,c,this.G,this.F,
null):new WT(this.$c,this.Zc,this.hd,this.fd,this.jd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(Fw,this.$c,null),new Y(qA,this.Zc,null),new Y(Zy,this.hd,null),new Y(KE,this.fd,null),new Y(Gn,this.jd,null)],null),this.F))};g.ha=function(a,b){return new WT(this.$c,this.Zc,this.hd,this.fd,this.jd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function XT(a){var b=R.I(a,Fw,M([qA,Zy,KE,Gn]));b=yf(a)?fi.B(W,b):b;return new WT(Fw.C(a),qA.C(a),Zy.C(a),KE.C(a),Gn.C(a),null,ah(b),null)}function YT(a,b,c){return S(BT(a,c),b)}function ZT(a,b){return YT(a,b,Uu)}function UT(a,b){return YT(a,b,Jt)}function yT(a,b){return YT(a,b,OC)}
function $T(a,b){for(;;){if("number"===typeof b&&0<b){if(2147483647<b)throw tm(["Highest supported entity id is ",rl.I(M([2147483647])),", got ",rl.I(M([b]))].join(""),new q(null,2,[yx,sq,gs,b],null));return b}if(wf(b)){var c=b,d=N(c,0,null);c=N(c,1,null);if($g.B(K(b),2))throw tm(["Lookup ref should contain 2 elements: ",rl.I(M([b]))].join(""),new q(null,2,[yx,Ft,sq,b],null));if(YT(a,d,Hm))return null==c?null:DB.C(H(vT(a,Tm,b)));throw tm(["Lookup ref attribute should be marked as :db/unique: ",rl.I(M([b]))].join(""),
new q(null,2,[yx,Rv,sq,b],null));}if(gc(b))b=M(b);else{if(b instanceof D)return DB.C(H(vT(a,Tm,new X(null,2,5,Z,[Eu,b],null))));throw tm(["Expected number or lookup ref for entity id, got ",rl.I(M([b]))].join(""),new q(null,2,[yx,Uo,sq,b],null));}}}function VT(a,b){a=$T(a,b);if(r(a))return a;throw tm(["Nothing found for entity id ",rl.I(M([b]))].join(""),new q(null,2,[yx,ay,sq,b],null));}function TT(a,b){return r(b)?VT(a,b):null}
function ST(a,b){if(a instanceof D||"string"===typeof a)return null;throw tm(["Bad entity attribute ",rl.I(M([a]))," at ",rl.I(M([b])),", expected keyword or string"].join(""),new q(null,3,[yx,$v,hx,a,vD,b],null));}function aU(a,b){if(null==a)throw tm(["Cannot store nil as a value at ",rl.I(M([b]))].join(""),new q(null,3,[yx,$v,gs,a,vD,b],null));return null}function bU(a){return ji(a,new X(null,2,5,Z,[Fw,Et],null))+1}
function cU(a){return F.B(a,Am)||F.B(a,":db/current-tx")||F.B(a,"datomic.tx")||F.B(a,"datascript.tx")}function dU(a){return"number"===typeof a&&0>a||"string"===typeof a}function eU(a,b){return b>Is.C(a)&&536870912>b?Q.D(a,Is,b):a}function fU(a,b,c){var d=cU(b)?ni.ma(a,KE,Q,b,c):a;d=dU(b)?ni.ma(d,KE,Q,b,c):d;if(b=!dU(b))a=qA.C(a),b=c>Is.C(a)&&536870912>c;a=b?ni.ma(d,KE,Q,c,c):d;return ni.R(a,qA,eU,c)}
function gU(a,b,c,d,e){return Sf(function(f,h,k){var m=B.B(f,h);r(m)||(m=KB.C(H(vT(c,SA,new X(null,2,5,Z,[d,h],null)))),m=r(m)?m:Ji(Xh(K(En.C(B.B(AT(c),h))),null)));k=Q.D(m,k,e);return Q.D(f,h,k)},a,b)}
function hU(a,b){var c=qA.C(a),d=GB.C(b),e=ni.R,f=Q.D;var h=b.Mc(null);h=r(h)?YT(c,b.a,Hm):h;if(r(h)&&(h=ah(vT(c,Tm,new X(null,2,5,Z,[b.a,b.v],null))),null!=h))throw tm(["Cannot add ",rl.I(M([b]))," because of unique constraint: ",rl.I(M([h]))].join(""),new q(null,3,[yx,xt,hx,b.a,eB,b],null));h=yT(c,b.a);if(r(b.Mc(null))){var k=ni.ma(c,SA,wS,b,pT);k=ni.ma(k,uC,wS,b,qT);h=h?ni.ma(k,Tm,wS,b,rT):k;h=eU(h,b.e);h=Q.D(h,MD,Eh(0))}else if(k=uT(c,new X(null,3,5,Z,[b.e,b.a,b.v],null)),null==k)h=c;else{var m=
ni.ma(c,SA,vS,k,pT);m=ni.ma(m,uC,vS,k,qT);h=h?ni.ma(m,Tm,vS,k,rT):m;h=Q.D(h,MD,Eh(0))}a=e.call(ni,f.call(Q,a,qA,h),Zy,hf,b);return YT(c,d,xz)?(e=DB.C(b),b=r(WS(b))?KB.C(b):null,f=B.B(VC.C(a),e),f=r(f)?f:W,d=B.B(BT(c,xz),d),c=gU(f,d,c,e,b),ni.ma(a,VC,Q,e,c)):a}
function iU(a){if(a instanceof D)return F.B("_",Te(vg(a),0));if("string"===typeof a)return Ff(Xk(/(?:([^\/]+)\/)?_([^\/]+)/,a));throw tm(["Bad attribute type: ",rl.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[yx,$v,hx,a],null));}
function jU(a){if(a instanceof D)return iU(a)?ug.B(sg(a),lg.B(vg(a),1)):ug.B(sg(a),["_",vg(a)].join(""));if("string"===typeof a){var b=Xk(/(?:([^\/]+)\/)?([^\/]+)/,a);N(b,0,null);a=N(b,1,null);b=N(b,2,null);return F.B("_",Te(b,0))?r(a)?[t.C(a),"/",lg.B(b,1)].join(""):lg.B(b,1):r(a)?[t.C(a),"/_",t.C(b)].join(""):["_",t.C(b)].join("")}throw tm(["Bad attribute type: ",rl.I(M([a])),", expected keyword or string"].join(""),new q(null,2,[yx,$v,hx,a],null));}
function kU(a,b){function c(f,h){return w.D(function(k,m){var n=d(f,m);return null==n?ni.R(k,0,hf,m):ni.ma(k,1,Q,m,n)},new X(null,2,5,Z,[jf,W],null),h)}function d(f,h){return DB.C(H(vT(a,Tm,new X(null,2,5,Z,[f,h],null))))}var e=ah(BT(a,wt));return null==e?new X(null,2,5,Z,[b,null],null):Sf(function(f,h,k){var m=N(f,0,null);f=N(f,1,null);ST(h,b);aU(k,b);if(S(e,h)){if(ZT(a,h)&&(WR(k)||uf(k)&&!xf(k))){var n=c(h,k);k=N(n,0,null);n=N(n,1,null);return new X(null,2,5,Z,[tf(k)?m:Q.D(m,h,k),tf(n)?f:Q.D(f,
h,n)],null)}n=d(h,k);return null==n?new X(null,2,5,Z,[Q.D(m,h,k),f],null):new X(null,2,5,Z,[m,Q.D(f,h,nf([k,n]))],null)}return new X(null,2,5,Z,[Q.D(m,h,k),f],null)},new X(null,2,5,Z,[W,W],null),b)}
function lU(a,b){var c=Sf(function(h,k,m){return Sf(function(n,p,u){return Q.D(n,u,new X(null,2,5,Z,[k,p],null))},h,m)},W,b);if(2<=K(c)){b=H(c);a=N(b,0,null);var d=N(b,1,null);b=N(d,0,null);d=N(d,1,null);var e=cf(c);c=N(e,0,null);var f=N(e,1,null);e=N(f,0,null);f=N(f,1,null);throw tm(["Conflicting upserts: ",rl.I(M([new X(null,2,5,Z,[b,d],null)]))," resolves to ",rl.I(M([a])),", but ",rl.I(M([new X(null,2,5,Z,[e,f],null)]))," resolves to ",rl.I(M([c]))].join(""),new q(null,3,[yx,Qp,uE,new X(null,
3,5,Z,[a,b,d],null),dB,new X(null,3,5,Z,[c,e,f],null)],null));}d=H(c);b=N(d,0,null);c=N(d,1,null);d=N(c,0,null);c=N(c,1,null);a=qp.C(a);if(null!=b&&null!=a&&!dU(a)&&$g.B(b,a))throw tm(["Conflicting upsert: ",rl.I(M([new X(null,2,5,Z,[d,c],null)]))," resolves to ",rl.I(M([b])),", but entity already has :db/id ",rl.I(M([a]))].join(""),new q(null,3,[yx,Qp,uE,new X(null,3,5,Z,[b,d,c],null),dB,new q(null,1,[qp,a],null)],null));return b}
function mU(a,b,c){return iU(b)||ZT(a,b)?WR(c)||uf(c)&&!xf(c)?F.B(K(c),2)&&YT(a,H(c),wt)?new X(null,1,5,Z,[c],null):c:new X(null,1,5,Z,[c],null):new X(null,1,5,Z,[c],null)}
function nU(a,b){var c=qp.C(b),d=Ug(V,w.D(function(e,f){var h=N(f,0,null);f=N(f,1,null);return ni.R(e,YT(a,h,Qv)?1:0,hf,new X(null,2,5,Z,[h,f],null))},new X(null,2,5,Z,[jf,jf],null),b));return function h(f){return new wg(null,function(){for(var k=f;;){var m=G(k);if(m){var n=m,p=H(n),u=N(p,0,null),v=N(p,1,null);if($g.B(u,qp)){var z=ST(u,nf([qp,c,u,v])),C=iU(u),E=C?jU(u):u;if(C&&!UT(a,E))throw tm(["Bad attribute ",rl.I(M([u])),": reverse attribute name requires {:db/valueType :db.type/ref} in schema"].join(""),
new q(null,3,[yx,$v,hx,u,vD,nf([qp,c,u,v])],null));if(m=G(function(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya){return function fb(Da){return new wg(null,function(zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe){return function(){for(;;){var ef=G(Da);if(ef){if(Af(ef)){var ge=Pd(ef),he=K(ge),ie=Ag(he);a:for(var dk=0;;)if(dk<he){var Oi=x(ge,dk);Oi=UT(a,Db)&&xf(Oi)?Q.D(Oi,jU(df),xe):kc?new X(null,4,5,Z,[EE,Oi,Db,xe],null):new X(null,4,5,Z,[EE,xe,Db,Oi],null);ie.add(Oi);dk+=1}else{ge=!0;break a}return ge?Cg(Gg(ie),fb(Qd(ef))):
Cg(Gg(ie),null)}ie=H(ef);return Ze(UT(a,Db)&&xf(ie)?Q.D(ie,jU(df),xe):kc?new X(null,4,5,Z,[EE,ie,Db,xe],null):new X(null,4,5,Z,[EE,xe,Db,ie],null),fb(ue(ef)))}return null}}}(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya),null,null)}}(k,z,C,E,null,p,u,v,n,m,c,d)(mU(a,u,v))))return V.B(m,h(ue(k)))}k=ue(k)}else return null}},null,null)}(d)}
function oU(a,b){N(b,0,null);var c=N(b,1,null),d=N(b,2,null),e=N(b,3,null),f=N(b,4,null);ST(d,b);aU(e,b);b=r(f)?f:bU(a);f=qA.C(a);c=VT(f,c);e=UT(f,d)?VT(f,e):e;var h=fT.R(c,d,e,b);f=ZT(f,d)?uT(f,new X(null,3,5,Z,[c,d,e],null)):uT(f,new X(null,2,5,Z,[c,d],null));return null==f?hU(a,h):F.B(f.v,e)?ni.R(a,Oz,RS,h):hU(hU(a,fT.ma(c,d,f.v,b,!1)),h)}function pU(a,b){var c=bU(a);return hU(a,fT.ma(b.e,b.a,b.v,c,!1))}
function qU(a,b){return fi.D(Ck,vh.B(ci(function(c){return YT(a,c.a,Im)}),Qh.C(function(c){return new X(null,2,5,Z,[ko,c.v],null)})),b)}function rU(a,b,c,d,e){if(S(KE.C(a),d))throw tm(["Conflicting upsert: ",rl.I(M([d]))," resolves both to ",rl.I(M([e]))," and ",rl.I(M([ji(a,new X(null,2,5,Z,[KE,d],null))]))].join(""),new q(null,1,[yx,Qp],null));b=Q.D(KE.C(b),d,e);a=Q.D(a,KE,b);return sU.B?sU.B(a,c):sU.call(null,a,c)}
var tU=new Ak(null,new q(null,8,[Sq,null,dr,null,ko,null,Bp,null,Ry,null,Hz,null,ln,null,EE,null],null),null);function uU(a){var b=qA.C(a);AT(b);BT(b,xz);return Sf(function(c,d,e){return Sf(function(f,h,k){k=qh(fc,k)?null:k;var m=KB.C(H(vT(b,SA,new X(null,2,5,Z,[d,h],null))));return F.B(k,m)?f:null==k?hf.B(f,qf(new X(null,4,5,Z,[Ry,d,h,m],null),new q(null,1,[zz,!0],null))):hf.B(f,qf(new X(null,4,5,Z,[EE,d,h,k],null),new q(null,1,[zz,!0],null)))},c,e)},jf,VC.C(a))}
function vU(a){var b=Rm.C(a);b=w.D(function(c,d){return r(WS(d))?R.B(c,DB.C(d)):c},b,V.B(Zy.C(a),Oz.C(a)));if(tf(b))return R.I(a,Rm,M([Oz]));throw tm(["Tempids used only as value in transaction: ",rl.I(M([Nf(Kf,kj(b))]))].join(""),new q(null,2,[yx,$v,KE,b],null));}
function sU(a,b){if(null!=b&&!wf(b))throw tm(["Bad transaction data ",rl.I(M([b])),", expected sequential collection"].join(""),new q(null,2,[yx,$v,Zy,b],null));for(var c=!tf(BT(qA.C(a),Qv)),d=c?$h.B(b,Wh(Jm)):b,e=a,f=d;;){if(tf(f))return ni.ma(ni.ma(vU(e),KE,Q,Am,bU(e)),qA,ni,Et,Ee);var h=f,k=G(h),m=H(k),n=J(k),p=m,u=n;if(null==p)f=u;else if(F.B(Jm,p))if(S(e,VC)){var v=R.B(e,VC);u=V.B(uU(e),u);e=v;f=u}else f=u;else{var z=qA.C(e),C=KE.C(e);if(xf(p)){var E=qp.C(p);if(cU(E))v=bU(e),e=fU(e,E,v),f=u=
Ze(Q.D(p,qp,v),u);else if(wf(E))v=VT(z,E),f=u=Ze(Q.D(p,qp,v),u);else{var I=kU(z,p);v=N(I,0,null);I=N(I,1,null);var O=lU(v,I);if(null!=O){if(dU(E)&&S(C,E)&&$g.B(O,B.B(C,E)))return rU(a,e,b,E,O);e=ni.R(fU(e,E,O),Oz,RS,fT.R(O,null,null,536870912));f=u=V.B(nU(z,Q.D(v,qp,O)),u)}else if("number"===typeof E||null==E||"string"===typeof E)v=null==E?Is.C(z)+1:dU(E)?function(){var Db=B.B(C,E);return r(Db)?Db:Is.C(z)+1}():E,p=Q.D(p,qp,v),e=fU(e,E,v),f=u=V.B(nU(z,p),u);else throw tm(["Expected number, string or lookup ref for :db/id, got ",
rl.I(M([E]))].join(""),new q(null,2,[yx,Uo,sA,p],null));}}else if(wf(p)){var P=p;I=N(P,0,null);var T=N(P,1,null);v=N(P,2,null);var aa=N(P,3,null);if(F.B(I,Sq)){v=G(p);p=H(v);v=J(v);var ea=p;p=H(v);v=J(v);f=u=V.B(Vg(p,z,v),u)}else if(I instanceof D&&ic(tU.C?tU.C(I):tU.call(null,I))){ea=$T(z,I);if(null==ea)throw tm(["Can’t find entity for transaction fn ",rl.I(M([I]))].join(""),new q(null,3,[yx,$v,sp,Sq,Zy,p],null));T=KB.C(uT(z,new X(null,2,5,Z,[ea,To],null)));v=J(p);if(of(T))f=u=V.B(Vg(T,z,v),u);else throw tm(["Entity ",
rl.I(M([I]))," expected to have :db/fn attribute with fn? value"].join(""),new q(null,3,[yx,$v,sp,Sq,Zy,p],null));}else{if(dU(T)&&$g.B(I,EE))throw tm(["Can't use tempid in '",rl.I(M([p])),"'. Tempids are allowed in :db/add only"].join(""),new q(null,2,[yx,$v,Pw,p],null));if(F.B(I,ln)||F.B(I,dr)){var va=p;ea=N(va,0,null);var ua=N(va,1,null),Ma=N(va,2,null),Ka=N(va,3,null),la=N(va,4,null),ya=VT(z,ua),sa=ST(Ma,p),Da=UT(z,Ma)?VT(z,Ka):Ka,fb=UT(z,Ma)?VT(z,la):la,zc=aU(fb,p),jc=Ji(tT(z,new X(null,2,5,Z,
[ya,Ma],null)));if(ZT(z,Ma))if(r(rh(function(Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he){return function(ie){return F.B(ie.v,he)}}(e,f,va,ea,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),jc)))e=oU(e,new X(null,4,5,Z,[EE,ya,Ma,fb],null)),f=u;else throw tm([":db.fn/cas failed on datom [",rl.I(M([ya]))," ",rl.I(M([Ma]))," ",rl.I(M([Qh.B(KB,jc)])),"], expected ",rl.I(M([Da]))].join(""),new q(null,4,[yx,jn,DD,jc,zv,Da,Qy,fb],null));else if(I=KB.C(H(jc)),F.B(I,Da))e=oU(e,new X(null,4,5,Z,[EE,ya,
Ma,fb],null)),f=u;else throw tm([":db.fn/cas failed on datom [",rl.I(M([ya]))," ",rl.I(M([Ma]))," ",rl.I(M([I])),"], expected ",rl.I(M([Da]))].join(""),new q(null,4,[yx,jn,DD,H(jc),zv,Da,Qy,fb],null));}else if(cU(T))p=fU(e,T,bU(e)),u=Ze(new X(null,4,5,Z,[I,bU(e),v,aa],null),u),e=p,f=u;else if(UT(z,v)&&cU(aa))p=fU(e,aa,bU(e)),u=Ze(new X(null,4,5,Z,[I,T,v,bU(e)],null),u),e=p,f=u;else if(UT(z,v)&&dU(aa))ea=B.B(C,aa),null==ea?(p=Is.C(z)+1,e=ni.ma(fU(e,aa,p),Rm,Q,p,aa),f=u=f):(p=ea,e=ni.ma(e,Rm,Q,p,aa),
f=u=Ze(new X(null,4,5,Z,[I,T,v,p],null),u));else if(dU(T)){O=YT(z,v,wt)?DB.C(H(vT(z,Tm,new X(null,2,5,Z,[v,aa],null)))):null;var kc=B.B(C,T);if(r(function(){var Db=O;return r(Db)?(Db=kc,r(Db)?$g.B(O,kc):Db):Db}()))return rU(a,e,b,T,O);p=function(){var Db=O;if(r(Db))return Db;Db=kc;return r(Db)?Db:Is.C(z)+1}();e=fU(e,T,p);f=u=Ze(new X(null,4,5,Z,[I,p,v,aa],null),u)}else if(ic(zz.C(rf(p)))&&YT(z,v,Qv))if(ua=ji(z,new X(null,3,5,Z,[Yy,v,En],null)),F.B(K(ua),K(aa))&&qh(lc,aa)&&qh(function(Db,Fd,Eg,df,
Dh,Le,Fg,xe,ef){return function(ge){var he=N(ge,0,null);ge=N(ge,1,null);he=KB.C(H(vT(ef,SA,new X(null,2,5,Z,[Le,he],null))));return F.B(ge,he)}}(e,f,ua,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),Qh.D(Ni,ua,aa)))f=u;else throw tm(["Can’t modify tuple attrs directly: ",rl.I(M([p]))].join(""),new q(null,2,[yx,$v,Zy,p],null));else if(F.B(I,EE))e=oU(e,p),f=u;else if(F.B(I,Ry)&&null!=aa)ea=$T(z,T),null==ea?f=u:(ua=ea,I=UT(z,v)?VT(z,aa):aa,ST(v,p),aU(I,p),v=uT(z,new X(null,3,5,Z,[ua,v,I],null)),null==v?f=u:(e=pU(e,
v),f=u));else if(F.B(I,Hz)||F.B(I,Ry))ea=$T(z,T),null==ea?f=u:(ua=ea,ea=ST(v,p),jc=Ji(tT(z,new X(null,2,5,Z,[ua,v],null))),e=w.D(pU,e,jc),f=u=V.B(qU(z,jc),u));else if(F.B(I,ko)||F.B(I,Bp))ea=$T(z,T),null==ea?f=u:(ua=ea,jc=Ji(tT(z,new X(null,1,5,Z,[ua],null))),v=Ji(bi(function(Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he){return function(ie){return tT(he,new X(null,3,5,Z,[null,ie,df],null))}}(e,f,jc,ua,ea,P,I,T,v,aa,z,C,h,k,m,n,p,u,a,c,d),M([BT(z,Jt)]))),e=w.D(pU,e,V.B(jc,v)),f=u=V.B(qU(z,jc),u));else throw tm(["Unknown operation at ",
rl.I(M([p])),", expected :db/add, :db/retract, :db.fn/call, :db.fn/retractAttribute, :db.fn/retractEntity or an ident corresponding to an installed transaction function (e.g. {:db/ident \x3ckeyword\x3e :db/fn \x3cIfn\x3e}, usage of :db/ident requires {:db/unique :db.unique/identity} in schema)"].join(""),new q(null,3,[yx,$v,sp,I,Zy,p],null));}}else if(gT(p))I=p,T=N(I,0,null),v=N(I,1,null),aa=N(I,2,null),p=N(I,3,null),I=N(I,4,null),r(I)?(e=oU(e,new X(null,5,5,Z,[EE,T,v,aa,p],null)),f=u):f=u=Ze(new X(null,
4,5,Z,[Ry,T,v,aa],null),u);else throw tm(["Bad entity type at ",rl.I(M([p])),", expected map or vector"].join(""),new q(null,2,[yx,$v,Zy,p],null));}}};function wU(a,b){b="number"===typeof b||wf(b)||b instanceof D?$T(a,b):null;if(r(b)){var c=zh(!1),d=zh(W);return xU.R?xU.R(a,b,c,d):xU.call(null,a,b,c,d)}return null}function yU(a,b,c){return ZT(a,b)?UT(a,b)?w.D(function(d,e){return hf.B(d,wU(a,KB.C(e)))},Ck,c):w.D(function(d,e){return hf.B(d,KB.C(e))},Ck,c):UT(a,b)?wU(a,KB.C(H(c))):KB.C(H(c))}
function zU(a,b,c,d){b=ah(tT(a,new X(null,3,5,Z,[null,c,b],null)));return r(b)?YT(a,c,Im)?wU(a,DB.C(H(b))):w.D(function(e,f){return hf.B(e,wU(a,DB.C(f)))},Ck,b):d}function AU(a){return r(a)?Of(a):null}
function BU(a){CU.C?CU.C(a):CU.call(null,a);return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=ZT(a.db,p)?new X(null,2,5,Z,[p,AU(n)],null):new X(null,2,5,Z,[p,n],null);k.add(p);m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ze(ZT(a.db,k)?new X(null,2,5,Z,[k,AU(f)],null):new X(null,2,5,Z,[k,f],null),d(ue(e)))}return null}},
null,null)}(y(a.cache))}function DU(a,b,c,d){this.db=a;this.Ud=b;this.Zh=c;this.cache=d;this.O=2162164483;this.T=0}g=DU.prototype;g.entry_set=function(){return Of(Qh.B(Of,BU(this)))};
g.forEach=function(){function a(d,e){for(var f=G(BU(this)),h=null,k=0,m=0;;)if(m<k){var n=h.Da(null,m),p=N(n,0,null);n=N(n,1,null);d.call(e,n,p,this);m+=1}else if(f=G(f))Af(f)?(h=Pd(f),f=Qd(f),p=h,k=K(h),h=p):(h=H(f),p=N(h,0,null),n=N(h,1,null),d.call(e,n,p,this),f=J(f),h=null,k=0),m=0;else return null}function b(d){for(var e=G(BU(this)),f=null,h=0,k=0;;)if(k<h){var m=f.Da(null,k),n=N(m,0,null);m=N(m,1,null);d.D?d.D(m,n,this):d.call(null,m,n,this);k+=1}else if(e=G(e))Af(e)?(f=Pd(e),e=Qd(e),n=f,h=
K(f),f=n):(f=H(e),n=N(f,0,null),m=N(f,1,null),d.D?d.D(m,n,this):d.call(null,m,n,this),e=J(e),f=null,h=0),k=0;else return null}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+arguments.length);};c.C=b;c.B=a;return c}();g.get=function(a){if(F.B(a,":db/id"))return this.Ud;if(iU(a))return AU(zU(this.db,this.Ud,jU(a),null));var b=EU?EU(this,a):FU.call(null,this,a);return ZT(this.db,a)?AU(b):b};g.key_set=function(){return Of(jj(this))};
g.entries=function(){return new ej(G(BU(this)))};g.value_set=function(){return Of(Qh.B(cf,BU(this)))};g.toString=function(){return $d(this)};g.keys=function(){return ye(jj(this))};g.values=function(){return ye(Qh.B(cf,BU(this)))};g.equiv=function(a){return GU.B?GU.B(this,a):GU.call(null,this,a)};g.has=function(a){return null!=this.get(a)};g.oa=function(a,b){return HU?HU(this,b,null):FU.call(null,this,b,null)};g.Y=function(a,b,c){return HU?HU(this,b,c):FU.call(null,this,b,c)};
g.ia=function(a,b,c){return Bd(Q.D(y(this.cache),qp,this.Ud),b,c)};g.la=function(){CU.C?CU.C(this):CU.call(null,this);return K(y(this.cache))};g.ja=function(){return ke(this.Ud)};g.da=function(a,b){return GU.B?GU.B(this,b):GU.call(null,this,b)};g.ra=function(a,b){return $g.B(Vz,HU?HU(this,b,Vz):FU.call(null,this,b,Vz))};g.ka=function(){CU.C?CU.C(this):CU.call(null,this);return G(y(this.cache))};
g.call=function(a){switch(arguments.length-1){case 1:return this.C(arguments[1]);case 2:return this.B(arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length-1)].join(""));}};g.apply=function(a,b){return this.call.apply(this,[this].concat(uc(b)))};g.C=function(a){return EU?EU(this,a):FU.call(null,this,a)};g.B=function(a,b){return HU?HU(this,a,b):FU.call(null,this,a,b)};function xU(a,b,c,d){return new DU(a,b,c,d)}
function GU(a,b){return b instanceof DU&&F.B(a.Ud,b.Ud)}function FU(a){switch(arguments.length){case 2:return EU(arguments[0],arguments[1]);case 3:return HU(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function EU(a,b){return HU(a,b,null)}
function HU(a,b,c){if(F.B(b,qp))return a.Ud;if(iU(b))return zU(a.db,a.Ud,jU(b),c);var d=y(a.cache);d=d.C?d.C(b):d.call(null,b);if(null==d){if(r(y(a.Zh)))return c;d=ah(tT(a.db,new X(null,2,5,Z,[a.Ud,b],null)));if(null==d)return c;c=yU(a.db,b,d);b=Q.D(y(a.cache),b,c);Wd(a.cache,b);return c}return d}function IU(a,b){return Sf(function(c,d,e){return Q.D(c,d,YT(a,d,Im)?ZT(a,d)?Ek(Qh.B(CU,e)):CU.C?CU.C(e):CU.call(null,e):e)},W,b)}
function JU(a,b){return w.D(function(c,d){var e=GB.C(H(d));return Q.D(c,e,yU(a,e,d))},W,Tk(GB,b))}function CU(a){if(!r(y(a.Zh))){var b=ah(tT(a.db,new X(null,1,5,Z,[a.Ud],null)));r(b)&&(b=IU(a.db,JU(a.db,b)),Wd(a.cache,b),Wd(a.Zh,!0))}return a}da("datascript.impl.entity.Entity",DU);var KU=function KU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return KU.I(c)};KU.I=function(a){var b=K(a);return $g.B(Rh.B(b/2,a),Sh(b/2,a))};KU.aa=0;KU.fa=function(a){return this.I(G(a))};var LU=function LU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=2<c.length?new se(c.slice(2),0,null):null;return LU.I(arguments[0],arguments[1],c)};
LU.I=function(a,b,c){return w.D(function(d,e){d=H(tT(a,new X(null,2,5,Z,[b,e],null)));return null==d?null:Ge(new X(null,2,5,Z,[GB.C(d),KB.C(d)],null))},null,c)};LU.aa=2;LU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};var MU=function MU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return MU.I(c)};MU.I=function(a){return w.D(function(b,c){return r(c)?c:Ge(c)},!0,a)};MU.aa=0;MU.fa=function(a){return this.I(G(a))};
var NU=function NU(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return NU.I(c)};NU.I=function(a){return w.D(function(b,c){return r(c)?Ge(c):c},null,a)};NU.aa=0;NU.fa=function(a){return this.I(G(a))};
var OU=function OU(a){switch(arguments.length){case 1:return OU.C(arguments[0]);case 2:return OU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return OU.I(arguments[0],arguments[1],c)}};OU.C=function(){return!0};OU.B=function(a,b){return 0>jT(a,b)};OU.I=function(a,b,c){for(;;)if(OU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return OU.B(b,H(c));else return!1};
OU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};OU.aa=2;var PU=function PU(a){switch(arguments.length){case 1:return PU.C(arguments[0]);case 2:return PU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return PU.I(arguments[0],arguments[1],c)}};PU.C=function(){return!0};PU.B=function(a,b){return 0<jT(a,b)};
PU.I=function(a,b,c){for(;;)if(PU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return PU.B(b,H(c));else return!1};PU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};PU.aa=2;var QU=function QU(a){switch(arguments.length){case 1:return QU.C(arguments[0]);case 2:return QU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return QU.I(arguments[0],arguments[1],c)}};QU.C=function(){return!0};
QU.B=function(a,b){return!(0<jT(a,b))};QU.I=function(a,b,c){for(;;)if(QU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return QU.B(b,H(c));else return!1};QU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};QU.aa=2;
var RU=function RU(a){switch(arguments.length){case 1:return RU.C(arguments[0]);case 2:return RU.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return RU.I(arguments[0],arguments[1],c)}};RU.C=function(){return!0};RU.B=function(a,b){return!(0>jT(a,b))};RU.I=function(a,b,c){for(;;)if(RU.B(a,b))if(J(c))a=b,b=H(c),c=J(c);else return RU.B(b,H(c));else return!1};
RU.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};RU.aa=2;
var SU=Wj([Qu,jB,oz,hC,xy,nB,er,by,Lr,Cy,AC,sD,Sw,Ko,AE,oC,Wm,Cs,BA,Mx,Vy,Vr,$A,Wn,bE,hz,fp,tt,ZD,mw,Gw,Or,xn,eq,Xm,nt,lC,px,Ho,Fr,Dp,Nv,KA,Lp,Hu,tv,aq,it,Rw,Zs,ND,vz,Fp,wx,fx,Az,ot,tn,Ou,Sv,mx,DC,Nn,Br,oE,xD,HC,yC,gq,cB,Ro,gn,Ez,Gq],[function(a){return!0===a},MU,function(a){return!sh(a)},function(a,b,c,d){if(null==d)throw tm("get-else: nil default value is not supported",new q(null,1,[yx,ep],null));a=H(tT(a,new X(null,2,5,Z,[b,c],null)));return null==a?d:KB.C(a)},RU,tl,PU,K,LU,fc,Tf,Ee,$f,gg,function(a){return!1===
a},ic,Tf,KU,Ni,$k,QU,function(a,b){return 0==a.lastIndexOf(b,0)},F,cg,Xf,vg,function(a,b,c){return null==B.B(wU(a,b),c)},Tf,Zl,th,jg,qk,Kf,Qk,bg,tf,Zf,rl,ul,rf,function(a){return 0===a},$g,sl,ag,function(a){if(a instanceof RegExp)return a;var b=Yk(/^\(\?([idmsux]*)\)/,a),c=N(b,0,null);b=N(b,1,null);a=lg.B(a,null==c?0:c.length);return new RegExp(a,r(b)?b:"")},Ni,$g,B,t,OU,sg,ug,Yf,lc,kg,Yl,Xk,pg,S,function(a,b){return Pa(a,b)},lg,fg,function(a,b){return-1!=a.indexOf(b)},rk,hg,sh,oc,function(a){return 0>
a},XE,ah,NU,function(a,b){return a===b},Ek,Yk]);function TU(a){return w.D(Xf,0,a)}function UU(a){return TU(a)/K(a)}function VU(a){var b=UU(a);return TU(function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Ag(k);a:for(var n=0;;)if(n<k){var p=x(h,n)-b;m.add(p*p);n+=1}else{h=!0;break a}return h?Cg(Gg(m),e(Qd(f))):Cg(Gg(m),null)}m=H(f)-b;return Ze(m*m,e(ue(f)))}return null}},null,null)}(a)}())/K(a)}
var WU=function WU(a){switch(arguments.length){case 1:return WU.C(arguments[0]);case 2:return WU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};WU.C=function(a){return w.D(function(b,c){return 0>Kf(c,b)?c:b},H(a),J(a))};WU.B=function(a,b){return Ji(w.D(function(c,d){return K(c)<a?Nf(Kf,hf.B(c,d)):0>Kf(d,gf(c))?Nf(Kf,hf.B(Gk(c),d)):c},jf,b))};WU.aa=2;
var XU=function XU(a){switch(arguments.length){case 1:return XU.C(arguments[0]);case 2:return XU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};XU.C=function(a){return w.D(function(b,c){return 0<Kf(c,b)?c:b},H(a),J(a))};XU.B=function(a,b){return Ji(w.D(function(c,d){return K(c)<a?Nf(Kf,hf.B(c,d)):0<Kf(d,H(c))?Nf(Kf,hf.B(J(c),d)):c},jf,b))};XU.aa=2;
var YU=function YU(a){switch(arguments.length){case 1:return YU.C(arguments[0]);case 2:return YU.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};YU.C=function(a){return Te(a,Zl(K(a)))};YU.B=function(a,b){return Ji(Zh(a,function(){return Te(b,Zl(K(b)))}))};YU.aa=2;
var ZU=Wj([to,by,fw,ux,Wn,Xm,CA,gC,nC,Cn,Az,Dt],[VU,K,function(a){var b=Nf(Kf,a);a=K(a);var c=a>>1,d=Te(b,c);return sh(a)?(d+Te(b,c-1))/2:d},TU,WU,XU,function(a){return K(Fk(a))},Ek,UU,function(a){return Math.sqrt(VU(a))},YU,function(a,b){var c=Rh.B;b=Of.C?Of.C(b):Of.call(null,b);const d=Math.random;for(let e=b.length-1;0<e;e--){const f=Math.floor(d()*(e+1)),h=b[e];b[e]=b[f];b[f]=h}b=Ji.C?Ji.C(b):Ji.call(null,b);return Ji(c.call(Rh,a,b))}]);function $U(a,b,c,d,e,f,h,k,m,n,p,u,v,z,C){this.as=a;this.bc=b;this.limit=c;this.name=d;this.pattern=e;this.Jb=f;this.Kb=h;this.Qb=k;this.hb=m;this.Ib=n;this.Lb=p;this.Gb=u;this.G=v;this.F=z;this.J=C;this.O=2230716170;this.T=139264}g=$U.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "as":return this.as;case "default":return this.bc;case "limit":return this.limit;case "name":return this.name;case "pattern":return this.pattern;case "recursion-limit":return this.Jb;case "recursive?":return this.Kb;case "reverse?":return this.Qb;case "xform":return this.hb;case "multival?":return this.Ib;case "ref?":return this.Lb;case "component?":return this.Gb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullAttr{",", ","}",c,V.B(new X(null,12,5,Z,[new X(null,2,5,Z,[fD,this.as],null),new X(null,2,5,Z,[om,this.bc],null),new X(null,2,5,Z,[Om,this.limit],null),new X(null,2,5,Z,[Ht,this.name],null),new X(null,2,5,Z,[ED,this.pattern],null),new X(null,2,5,Z,[Mu,this.Jb],null),new X(null,2,5,Z,[LC,this.Kb],null),new X(null,2,5,Z,[$C,this.Qb],null),new X(null,2,5,Z,[Nr,this.hb],null),new X(null,2,5,Z,[Rn,
this.Ib],null),new X(null,2,5,Z,[Fy,this.Lb],null),new X(null,2,5,Z,[Co,this.Gb],null)],null),this.F))};g.qa=function(){return new dj(this,12,new X(null,12,5,Z,[fD,om,Om,Ht,ED,Mu,LC,$C,Nr,Rn,Fy,Co],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,this.J)};g.la=function(){return 12+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1743810262^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.as,b.as)&&F.B(this.default,b.default)&&F.B(this.limit,b.limit)&&F.B(this.name,b.name)&&F.B(this.pattern,b.pattern)&&F.B(this.Jb,b.Jb)&&F.B(this.Kb,b.Kb)&&F.B(this.Qb,b.Qb)&&F.B(this.hb,b.hb)&&F.B(this.Ib,b.Ib)&&F.B(this.Lb,b.Lb)&&F.B(this.Gb,b.Gb)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,12,[Nr,null,Om,null,$C,null,Mu,null,om,null,Ht,null,fD,null,LC,null,Co,null,Fy,null,Rn,null,ED,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "as":case "default":case "limit":case "name":case "pattern":case "recursion-limit":case "recursive?":case "reverse?":case "xform":case "multival?":case "ref?":case "component?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fD,b):U.call(null,fD,b))?new $U(c,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(om,b):U.call(null,om,b))?new $U(this.as,c,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(Om,b):U.call(null,Om,b))?new $U(this.as,this.bc,c,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,
null):r(U.B?U.B(Ht,b):U.call(null,Ht,b))?new $U(this.as,this.bc,this.limit,c,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new $U(this.as,this.bc,this.limit,this.name,c,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(Mu,b):U.call(null,Mu,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,c,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(LC,b):
U.call(null,LC,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,c,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B($C,b):U.call(null,$C,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,c,this.hb,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(Nr,b):U.call(null,Nr,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,c,this.Ib,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(Rn,b):U.call(null,Rn,
b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,c,this.Lb,this.Gb,this.G,this.F,null):r(U.B?U.B(Fy,b):U.call(null,Fy,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,c,this.Gb,this.G,this.F,null):r(U.B?U.B(Co,b):U.call(null,Co,b))?new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,c,this.G,this.F,null):new $U(this.as,this.bc,this.limit,this.name,this.pattern,
this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,12,5,Z,[new Y(fD,this.as,null),new Y(om,this.bc,null),new Y(Om,this.limit,null),new Y(Ht,this.name,null),new Y(ED,this.pattern,null),new Y(Mu,this.Jb,null),new Y(LC,this.Kb,null),new Y($C,this.Qb,null),new Y(Nr,this.hb,null),new Y(Rn,this.Ib,null),new Y(Fy,this.Lb,null),new Y(Co,this.Gb,null)],null),this.F))};
g.ha=function(a,b){return new $U(this.as,this.bc,this.limit,this.name,this.pattern,this.Jb,this.Kb,this.Qb,this.hb,this.Ib,this.Lb,this.Gb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function aV(a){var b=R.I(a,fD,M([om,Om,Ht,ED,Mu,LC,$C,Nr,Rn,Fy,Co]));b=yf(a)?fi.B(W,b):b;return new $U(fD.C(a),om.C(a),Om.C(a),Ht.C(a),ED.C(a),Mu.C(a),LC.C(a),$C.C(a),Nr.C(a),Rn.C(a),Fy.C(a),Co.C(a),null,ah(b),null)}
function bV(a,b,c,d,e,f,h,k){this.wa=a;this.Dc=b;this.Oc=c;this.Cc=d;this.Sb=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=bV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "first-attr":return this.Dc;case "last-attr":return this.Oc;case "reverse-attrs":return this.Cc;case "wildcard?":return this.Sb;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-parser.PullPattern{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[xp,this.Dc],null),new X(null,2,5,Z,[zE,this.Oc],null),new X(null,2,5,Z,[ds,this.Cc],null),new X(null,2,5,Z,[ex,this.Sb],null)],null),this.F))};
g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[aA,xp,zE,ds,ex],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new bV(this.wa,this.Dc,this.Oc,this.Cc,this.Sb,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-795554044^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.wa,b.wa)&&F.B(this.Dc,b.Dc)&&F.B(this.Oc,b.Oc)&&F.B(this.Cc,b.Cc)&&F.B(this.Sb,b.Sb)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,5,[ds,null,xp,null,aA,null,ex,null,zE,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new bV(this.wa,this.Dc,this.Oc,this.Cc,this.Sb,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "first-attr":case "last-attr":case "reverse-attrs":case "wildcard?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(aA,b):U.call(null,aA,b))?new bV(c,this.Dc,this.Oc,this.Cc,this.Sb,this.G,this.F,null):r(U.B?U.B(xp,b):U.call(null,xp,b))?new bV(this.wa,c,this.Oc,this.Cc,this.Sb,this.G,this.F,null):r(U.B?U.B(zE,b):U.call(null,zE,b))?new bV(this.wa,this.Dc,c,this.Cc,this.Sb,this.G,this.F,null):r(U.B?U.B(ds,b):U.call(null,ds,b))?new bV(this.wa,this.Dc,this.Oc,c,this.Sb,this.G,this.F,null):r(U.B?U.B(ex,b):U.call(null,ex,b))?new bV(this.wa,this.Dc,this.Oc,this.Cc,c,this.G,this.F,
null):new bV(this.wa,this.Dc,this.Oc,this.Cc,this.Sb,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(aA,this.wa,null),new Y(xp,this.Dc,null),new Y(zE,this.Oc,null),new Y(ds,this.Cc,null),new Y(ex,this.Sb,null)],null),this.F))};g.ha=function(a,b){return new bV(this.wa,this.Dc,this.Oc,this.Cc,this.Sb,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function cV(a){var b=R.I(a,aA,M([xp,zE,ds,ex]));b=yf(a)?fi.B(W,b):b;return new bV(aA.C(a),xp.C(a),zE.C(a),ds.C(a),ex.C(a),null,ah(b),null)}var dV=aV(new q(null,3,[Ht,qp,fD,qp,Nr,Tf],null)),eV=cV(new q(null,1,[aA,new kf(null,dV,null,1,null)],null)),fV=Q.D(eV,ex,!0);function gV(a,b,c){if(r(a))return null;throw tm(["Expected ",t.C(b),", got: ",rl.I(M([c]))].join(""),new q(null,2,[yx,ct,hq,c],null));}
function hV(a,b){var c=iU(b),d=c?jU(b):b,e=UT(a,d),f=YT(a,d,Im);a=ZT(a,d);if(c){gV(e,"reverse attribute having :db.type/ref",b);var h=!0}else h=null;return aV(Wj([Nr,Om,$C,Ht,fD,Co,Fy,Rn,ED],[Tf,a?1E3:null,h,d,b,f?!0:null,e?!0:null,a?!0:null,e?c?eV:f?fV:eV:null]))}function iV(a,b,c){gV("number"===typeof c&&0<c||null==c,"(positive-number | nil)",c);gV(ZT(a,Ht.C(b)),"limit attribute having :db.cardinality/many",Ht.C(b))}
function jV(a,b){var c=function(){var d=H(b);return kV.B?kV.B(a,d):kV.call(null,a,d)}();if(null==c)return null;gV(sh(K(J(b))),"even number of opts",b);return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);switch(f instanceof D?f.ba:null){case "as":return Q.D(d,fD,e);case "limit":return iV(a,d,e),Q.D(d,Om,e);case "default":return Q.D(d,om,e);case "xform":f=Q.D;var h=of(e)?e:null;if(r(h))e=h;else if(h=B.B(SU,e),r(h))e=h;else throw tm(["Can't resolve symbol ",rl.I(M([e]))].join(""),new q(null,2,[yx,
ct,hq,e],null));return f.call(Q,d,Nr,e);default:return gV(!1,"one of :as, :limit, :default, :xform",b)}},c,ii(2,2,J(b)))}
function kV(a,b){var c;!(c=b instanceof D)&&(c="string"===typeof b)&&(c=new Ak(null,new q(null,2,["limit",null,"default",null],null),null),c=c.C?c.C(b):c.call(null,b),c=ic(c));if(c)return hV(a,b);if(wf(b)){c=jV(a,b);if(r(c))return c;c=H(b);var d=new Ak(null,new q(null,2,[io,null,"limit",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(gV(F.B(K(b),3),"['limit attr-name (positive-number | nil)]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),d=kV.B?kV.B(a,d):kV.call(null,a,d),iV(a,d,c),c=Q.D(d,Om,c)):
c=null;if(r(c))return c;c=H(b);d=new Ak(null,new q(null,2,[ix,null,"default",null],null),null);c=d.C?d.C(c):d.call(null,c);r(c)?(gV(F.B(K(b),3),"['default attr-name any-value]",b),N(b,0,null),d=N(b,1,null),c=N(b,2,null),a=kV.B?kV.B(a,d):kV.call(null,a,d),a=Q.D(a,om,c)):a=null;return r(a)?a:gV(!1,"[attr-name attr-option+] | ['limit attr-name (positive-num | nil)] | ['default attr-name any-val]",b)}return null}
function lV(a,b){return rh(function(c){var d=N(c,0,null);c=N(c,1,null);return r(a.C?a.C(d):a.call(null,d))?c:null},Qh.D(Ni,b,Qk.P()))}function mV(a,b){var c=r($C.C(b))?ds:aA,d=lV(function(e){return F.B(fD.C(e),fD.C(b))},B.B(a,c));return null==d?ni.R(a,c,hf,b):ni.ma(a,c,Q,d,b)}
function nV(a,b){gV(wf(b),"pattern to be sequential?",b);for(var c=cV(new q(null,3,[aA,jf,ds,jf,ex,null],null));;){if(tf(b)){var d=c.wa,e=function(){return function(k){k=k.name;var m=new Ak(null,new q(null,2,[qp,null,":db/id",null],null),null);return m.C?m.C(k):m.call(null,k)}}(b,c,d);b=function(){return function(k){k=Ht.C(k);return k instanceof D?k:F.B(":",lg.D(k,0,1))?ug.C(lg.B(k,1)):ug.C(k)}}(b,c,d,e);d=r(function(){var k=c.Sb;return r(k)?ic(rh(e,c.wa)):k}())?hf.B(d,dV):d;d=G(Pf(b,d));var f=ei(e,
d),h=H(f);f=gf(f);return cV(new q(null,5,[aA,d,xp,h,zE,f,ds,G(Pf(b,c.Cc)),ex,c.Sb],null))}h=H(b);if(F.B(lC,h)||F.B("*",h)||F.B(zp,h))b=J(b),c=d=Q.D(c,ex,!0);else if(xf(h))d=Sf(function(){return function(k,m,n){var p=kV(a,m);gV(null!=p,"attr-name | attr-expr",m);gV(UT(a,Ht.C(p)),"attribute having :db.type/ref",m);F.B(LA,n)||F.B("...",n)?m=Q.I(p,ED,null,M([LC,!0,Mu,null])):"number"===typeof n?(gV(0<n,"(positive-num | ...)",nf([m,n])),m=Q.I(p,ED,null,M([LC,!0,Mu,n]))):m=Q.D(p,ED,nV.B?nV.B(a,n):nV.call(null,
a,n));return mV(k,m)}}(b,c,h),c,h),b=J(b),c=d;else{d=kV(a,h);if(null==d)return gV(!1,"attr-name | attr-expr | map-spec | *",h);b=J(b);c=d=mV(c,d)}}};function oV(a){return null==a?null:Lc(a)}function pV(a){return null==a?null:Oc(a)}function qV(a,b){return null==a?new kf(null,b,null,1,null):Hc(a,b)}function rV(a,b,c,d,e){this.db=a;this.Pd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=rV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "db":return this.db;case "visitor":return this.Pd;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.Context{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[YD,this.db],null),new X(null,2,5,Z,[Bn,this.Pd],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[YD,Bn],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new rV(this.db,this.Pd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1727735959^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.db,b.db)&&F.B(this.Pd,b.Pd)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[YD,null,Bn,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new rV(this.db,this.Pd,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "db":case "visitor":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(YD,b):U.call(null,YD,b))?new rV(c,this.Pd,this.G,this.F,null):r(U.B?U.B(Bn,b):U.call(null,Bn,b))?new rV(this.db,c,this.G,this.F,null):new rV(this.db,this.Pd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(YD,this.db,null),new Y(Bn,this.Pd,null)],null),this.F))};
g.ha=function(a,b){return new rV(this.db,this.Pd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function sV(a,b,c,d,e){a=a.Pd;null==a||(a.R?a.R(b,c,d,e):a.call(null,b,c,d,e))}function tV(a,b){if(null!=a&&null!=a.wg)a=a.wg(a,b);else{var c=tV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=tV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFrame.-merge",a);}return a}
function uV(a,b){if(null!=a&&null!=a.Ef)a=a.Ef(a,b);else{var c=uV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=uV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IFrame.-run",a);}return a}function vV(a,b,c,d,e){this.value=a;this.Ba=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=vV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.ResultFrame{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[gs,this.value],null),new X(null,2,5,Z,[my,this.Ba],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[gs,my],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new vV(this.value,this.Ba,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=836381841^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[gs,null,my,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new vV(this.value,this.Ba,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gs,b):U.call(null,gs,b))?new vV(c,this.Ba,this.G,this.F,null):r(U.B?U.B(my,b):U.call(null,my,b))?new vV(this.value,c,this.G,this.F,null):new vV(this.value,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(gs,this.value,null),new Y(my,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new vV(this.value,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function wV(a,b,c,d,e,f){this.sa=a;this.attr=b;this.Ba=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=wV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "acc":return this.sa;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.MultivalAttrFrame{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[cs,this.sa],null),new X(null,2,5,Z,[Ns,this.attr],null),new X(null,2,5,Z,[my,this.Ba],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[cs,Ns,my],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new wV(this.sa,this.attr,this.Ba,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1829867699^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.sa,b.sa)&&F.B(this.attr,b.attr)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[cs,null,my,null,Ns,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new wV(this.sa,this.attr,this.Ba,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "acc":case "attr":case "datoms":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cs,b):U.call(null,cs,b))?new wV(c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Ns,b):U.call(null,Ns,b))?new wV(this.sa,c,this.Ba,this.G,this.F,null):r(U.B?U.B(my,b):U.call(null,my,b))?new wV(this.sa,this.attr,c,this.G,this.F,null):new wV(this.sa,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(cs,this.sa,null),new Y(Ns,this.attr,null),new Y(my,this.Ba,null)],null),this.F))};g.ha=function(a,b){return new wV(this.sa,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
g.Ef=function(){for(var a=this,b=a.sa,c=a.Ba;;){var d=oV(c);if(null==d||$g.B(d.a,a.attr.name))return new X(null,1,5,Z,[new vV(function(){var h=ah(Jd(b)),k=a.attr.hb;return k.C?k.C(h):k.call(null,h)}(),function(){var h=c;return r(h)?h:ve}(),null,null,null)],null);if(r(function(){var h=a.attr.limit;return r(h)?K(b)>=a.attr.limit:h}()))for(var e=c;;){d=oV(e);if(null==d||$g.B(d.a,a.attr.name))return new X(null,1,5,Z,[new vV(Jd(b),function(){var h=e;return r(h)?h:ve}(),null,null,null)],null);e=pV(e)}else{d=
Mg.B(b,d.v);var f=pV(c);b=d;c=f}}};function xV(a,b,c,d,e,f,h,k,m){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.Ba=f;this.G=h;this.F=k;this.J=m;this.O=2230716170;this.T=139264}g=xV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "datoms":return this.Ba;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.MultivalRefAttrFrame{",", ","}",c,V.B(new X(null,6,5,Z,[new X(null,2,5,Z,[gp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[cs,this.sa],null),new X(null,2,5,Z,[ED,this.pattern],null),new X(null,2,5,Z,[Ns,this.attr],null),new X(null,2,5,Z,[my,this.Ba],null)],null),this.F))};g.qa=function(){return new dj(this,6,new X(null,6,5,Z,[gp,GA,cs,ED,Ns,my],null),r(this.F)?Yd(this.F):bh())};
g.ga=function(){return this.G};g.pa=function(){return new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,this.J)};g.la=function(){return 6+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1769511936^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.Ba,b.Ba)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,6,[cs,null,gp,null,GA,null,my,null,ED,null,Ns,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "datoms":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gp,b):U.call(null,gp,b))?new xV(c,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new xV(this.seen,c,this.sa,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(cs,b):U.call(null,cs,b))?new xV(this.seen,this.Ca,c,this.pattern,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new xV(this.seen,this.Ca,this.sa,c,this.attr,this.Ba,this.G,this.F,null):r(U.B?U.B(Ns,b):U.call(null,
Ns,b))?new xV(this.seen,this.Ca,this.sa,this.pattern,c,this.Ba,this.G,this.F,null):r(U.B?U.B(my,b):U.call(null,my,b))?new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.G,this.F,null):new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,6,5,Z,[new Y(gp,this.seen,null),new Y(GA,this.Ca,null),new Y(cs,this.sa,null),new Y(ED,this.pattern,null),new Y(Ns,this.attr,null),new Y(my,this.Ba,null)],null),this.F))};
g.ha=function(a,b){return new xV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.Ba,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.wg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Mg.B(d,b);return new xV(a,c,b,this.pattern,this.attr,pV(this.Ba),null,null,null)};
g.Ef=function(a,b){var c=this;a=oV(c.Ba);if(null==a||$g.B(a.a,c.attr.name))return new X(null,1,5,Z,[new vV(function(){var e=ah(Jd(c.sa)),f=c.attr.hb;return f.C?f.C(e):f.call(null,e)}(),function(){var e=c.Ba;return r(e)?e:ve}(),null,null,null)],null);if(r(function(){var e=c.attr.limit;return r(e)?K(c.sa)>=c.attr.limit:e}()))for(var d=c.Ba;;){b=oV(d);if(null==b||$g.B(b.a,c.attr.name))return new X(null,1,5,Z,[new vV(Jd(c.sa),function(){var e=d;return r(e)?e:ve}(),null,null,null)],null);d=pV(d)}else return a=
r(c.attr.Qb)?a.e:a.v,new X(null,2,5,Z,[this,yV.Ra?yV.Ra(b,c.seen,c.Ca,c.pattern,c.attr,a):yV.call(null,b,c.seen,c.Ca,c.pattern,c.attr,a)],null)};function zV(a,b,c,d,e,f,h,k,m,n,p){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.Ba=h;this.id=k;this.G=m;this.F=n;this.J=p;this.O=2230716170;this.T=139264}g=zV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "datoms":return this.Ba;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.AttrsFrame{",", ","}",c,V.B(new X(null,8,5,Z,[new X(null,2,5,Z,[gp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[cs,this.sa],null),new X(null,2,5,Z,[ED,this.pattern],null),new X(null,2,5,Z,[Ns,this.attr],null),new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[my,this.Ba],null),new X(null,2,5,Z,[wE,this.id],null)],null),this.F))};
g.qa=function(){return new dj(this,8,new X(null,8,5,Z,[gp,GA,cs,ED,Ns,aA,my,wE],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,this.J)};g.la=function(){return 8+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1127179791^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.wa,b.wa)&&F.B(this.Ba,b.Ba)&&F.B(this.id,b.id)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,8,[cs,null,gp,null,wE,null,GA,null,aA,null,my,null,ED,null,Ns,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "datoms":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gp,b):U.call(null,gp,b))?new zV(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new zV(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(cs,b):U.call(null,cs,b))?new zV(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new zV(this.seen,this.Ca,this.sa,c,this.attr,this.wa,
this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(Ns,b):U.call(null,Ns,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(aA,b):U.call(null,aA,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.Ba,this.id,this.G,this.F,null):r(U.B?U.B(my,b):U.call(null,my,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.id,this.G,this.F,null):r(U.B?U.B(wE,b):U.call(null,wE,b))?new zV(this.seen,this.Ca,this.sa,this.pattern,
this.attr,this.wa,this.Ba,c,this.G,this.F,null):new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,8,5,Z,[new Y(gp,this.seen,null),new Y(GA,this.Ca,null),new Y(cs,this.sa,null),new Y(ED,this.pattern,null),new Y(Ns,this.attr,null),new Y(aA,this.wa,null),new Y(my,this.Ba,null),new Y(wE,this.id,null)],null),this.F))};
g.ha=function(a,b){return new zV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.Ba,this.id,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.wg=function(a,b){a=this.seen;var c=this.Ca;var d=this.sa;var e=b.value;d=null==e?d:Kd(d,this.attr.as,e);e=this.pattern;var f=oV(this.wa),h=pV(this.wa);b=b.Ba;b=r(b)?b:pV(this.Ba);return new zV(a,c,d,e,f,h,ah(b),this.id,null,null,null)};
g.Ef=function(a,b){var c=this,d=c.sa,e=c.attr;a=c.wa;for(var f=c.Ba;;){if(null==f&&null==e)return new X(null,1,5,Z,[function(){var v=c.seen,z=c.Ca,C=d,E=c.pattern,I=oV(c.pattern.Cc),O=pV(c.pattern.Cc),P=c.id;return AV.Vb?AV.Vb(v,z,C,E,I,O,P):AV.call(null,v,z,C,E,I,O,P)}()],null);if(null!=e&&F.B(qp,e.name)){var h=Ng(d,e.as,function(){var v=e.hb;return v.C?v.C(c.id):v.call(null,c.id)}()),k=oV(a);a=pV(a);d=h;e=k}else{var m=oV(f),n=r(function(){var v=m;return r(v)?e:v}())?Kf(e.name,m.a):null,p=function(){var v=
null==e;if(v)return v;v=n;return r(v)?0<n:v}(),u=function(){var v=null==m;if(v)return v;v=n;return r(v)?0>n:v}();if(r(function(){var v=c.pattern.Sb;return r(v)?(v=null!=m)?p:v:v}()))k=TR(b.db.Xb,m.a,function(v,z,C,E,I){return function(){return hV(b.db,I.a)}}(d,e,a,f,m,n,p,u,this)),h=d,a=r(e)?qV(a,e):null,d=h,e=k;else if(r(p))h=d,k=e,f=pV(f),d=h,e=k;else if(sV(b,uu,c.id,e.name,null),r(function(){var v=u;return r(v)?null==e:v}()))h=d,k=oV(a),a=pV(a),d=h,e=k;else if(r(function(){var v=u;return r(v)?
null!=om.C(e):v}()))h=Ng(d,e.as,om.C(e)),k=oV(a),a=pV(a),d=h,e=k;else if(r(u))h=function(){var v=e.hb;return v.C?v.C(null):v.call(null,null)}(),null==h?(h=d,k=oV(a),a=pV(a),d=h,e=k):(h=Kd(d,e.as,h),k=oV(a),a=pV(a),d=h,e=k);else{if(r(function(){var v=e.Ib;return r(v)?e.Lb:v}()))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),new xV(c.seen,c.Ca,Hd(jf),c.pattern,e,f,null,null,null)],null);if(r(e.Ib))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,
null,null,null),new wV(Hd(jf),e,f,null,null,null)],null);if(r(e.Lb))return new X(null,2,5,Z,[new zV(c.seen,c.Ca,d,c.pattern,e,a,f,c.id,null,null,null),function(){var v=c.seen,z=c.Ca,C=c.pattern,E=e,I=m.v;return yV.Ra?yV.Ra(b,v,z,C,E,I):yV.call(null,b,v,z,C,E,I)}()],null);h=Ng(d,e.as,function(){var v=m.v,z=e.hb;return z.C?z.C(v):z.call(null,v)}());k=oV(a);a=pV(a);f=pV(f);d=h;e=k}}}};
function BV(a,b,c,d,e,f,h,k,m,n){this.seen=a;this.Ca=b;this.sa=c;this.pattern=d;this.attr=e;this.wa=f;this.id=h;this.G=k;this.F=m;this.J=n;this.O=2230716170;this.T=139264}g=BV.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "seen":return this.seen;case "recursion-limits":return this.Ca;case "acc":return this.sa;case "pattern":return this.pattern;case "attr":return this.attr;case "attrs":return this.wa;case "id":return this.id;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.pull-api.ReverseAttrsFrame{",", ","}",c,V.B(new X(null,7,5,Z,[new X(null,2,5,Z,[gp,this.seen],null),new X(null,2,5,Z,[GA,this.Ca],null),new X(null,2,5,Z,[cs,this.sa],null),new X(null,2,5,Z,[ED,this.pattern],null),new X(null,2,5,Z,[Ns,this.attr],null),new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[wE,this.id],null)],null),this.F))};
g.qa=function(){return new dj(this,7,new X(null,7,5,Z,[gp,GA,cs,ED,Ns,aA,wE],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,this.J)};g.la=function(){return 7+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=470210558^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.seen,b.seen)&&F.B(this.Ca,b.Ca)&&F.B(this.sa,b.sa)&&F.B(this.pattern,b.pattern)&&F.B(this.attr,b.attr)&&F.B(this.wa,b.wa)&&F.B(this.id,b.id)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,7,[cs,null,gp,null,wE,null,GA,null,aA,null,ED,null,Ns,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "seen":case "recursion-limits":case "acc":case "pattern":case "attr":case "attrs":case "id":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gp,b):U.call(null,gp,b))?new BV(c,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(GA,b):U.call(null,GA,b))?new BV(this.seen,c,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(cs,b):U.call(null,cs,b))?new BV(this.seen,this.Ca,c,this.pattern,this.attr,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new BV(this.seen,this.Ca,this.sa,c,this.attr,this.wa,this.id,this.G,this.F,null):
r(U.B?U.B(Ns,b):U.call(null,Ns,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,c,this.wa,this.id,this.G,this.F,null):r(U.B?U.B(aA,b):U.call(null,aA,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,c,this.id,this.G,this.F,null):r(U.B?U.B(wE,b):U.call(null,wE,b))?new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,c,this.G,this.F,null):new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,7,5,Z,[new Y(gp,this.seen,null),new Y(GA,this.Ca,null),new Y(cs,this.sa,null),new Y(ED,this.pattern,null),new Y(Ns,this.attr,null),new Y(aA,this.wa,null),new Y(wE,this.id,null)],null),this.F))};g.ha=function(a,b){return new BV(this.seen,this.Ca,this.sa,this.pattern,this.attr,this.wa,this.id,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
g.wg=function(a,b){a=this.seen;var c=this.Ca,d=this.sa;b=b.value;b=null==b?d:Kd(d,this.attr.as,b);return new BV(a,c,b,this.pattern,oV(this.wa),pV(this.wa),this.id,null,null,null)};
g.Ef=function(a,b){var c=this.sa;a=this.attr;for(var d=this.wa;;){if(null==a)return new X(null,1,5,Z,[new vV(ah(Jd(c)),null,null,null,null)],null);var e=a.name,f=b.db;f=f instanceof CT?MS(f.Rb,fT.R(0,e,this.id,536870912),fT.R(2147483647,e,this.id,2147483647)):tT(f,new X(null,3,5,Z,[null,e,this.id],null));sV(b,tz,null,e,this.id);if(tf(f)&&null!=om.C(a))c=Ng(c,a.as,om.C(a)),a=oV(d),d=e=pV(d);else if(tf(f))a=oV(d),d=e=pV(d);else{if(r(a.Gb)){e=Z;c=new BV(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,
null,null);d=this.seen;var h=this.Ca,k=this.pattern;f=oV(f).e;b=yV.Ra?yV.Ra(b,d,h,k,a,f):yV.call(null,b,d,h,k,a,f);b=new X(null,2,5,e,[c,b],null)}else b=new X(null,2,5,Z,[new BV(this.seen,this.Ca,c,this.pattern,a,d,this.id,null,null,null),new xV(this.seen,this.Ca,Hd(jf),this.pattern,a,f,null,null,null)],null);return b}}};function AV(a,b,c,d,e,f,h){return new BV(a,b,c,d,e,f,h,null,null,null)}
function yV(a,b,c,d,e,f){var h=e.Kb;r(h)||(h=e.Gb,h=r(h)?e.pattern.Sb:h);if(ic(h))return d=e.pattern,CV.ma?CV.ma(a,b,c,d,f):CV.call(null,a,b,c,d,f);if(r(b.C?b.C(f):b.call(null,f)))return new vV(new q(null,1,[qp,f],null),null,null,null,null);h=c.C?c.C(e):c.call(null,e);if(r(r(h)?0>=h:h))return new vV(null,null,null,null,null);b=hf.B(b,f);c=r(h)?ni.D(c,e,ag):r(e.Jb)?Q.D(c,e,e.Jb-1):c;d=r(e.Kb)?d:e.pattern;return CV.ma?CV.ma(a,b,c,d,f):CV.call(null,a,b,c,d,f)}
function CV(a,b,c,d,e){var f=a.db,h=r(function(){var k=d.Sb;return r(k)?f instanceof CT:k}())?MS(f.Db,fT.R(e,null,null,536870912),fT.R(e,null,null,2147483647)):r(d.Sb)?tT(f,new X(null,1,5,Z,[e],null)):null==d.Dc?null:function(){var k=d.Dc.name,m=d.Oc.name;return f instanceof CT?MS(f.Db,fT.R(e,k,null,536870912),fT.R(e,m,null,2147483647)):wT(f,new X(null,1,5,Z,[e],null))}();r(d.Sb)&&sV(a,as,e,null,null);return new zV(b,c,Hd(W),d,oV(d.wa),pV(d.wa),h,e,null,null,null)}
function DV(a,b){var c=Zg(a);a=B.B(c,vD);c=B.B(c,ED);b=$T(a.db,b);if(null==b)return null;for(c=new kf(null,CV(a,Ck,W,c,b),null,1,null);;){b=oV(c);var d=pV(c);if(b instanceof vV){if(null==d)return b.value;c=oV(d);d=pV(d);c=qV(d,tV(c,b))}else c=w.D(qV,d,uV(b,a))}}function EV(a,b){var c=Zg(null);c=B.B(c,Bn);return new q(null,2,[ED,TR(a.Yb,b,function(){return nV(a,b)}),vD,new rV(a,c,null,null,null)],null)};var FV=function FV(a){switch(arguments.length){case 1:return FV.C(arguments[0]);case 2:return FV.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};FV.C=function(a){return dN(a)};FV.B=function(a,b){return eN(a,b)};FV.aa=2;function GV(a,b){return gc(a)?a[b]:Te(a,b)}function HV(a,b){return xf(a)?a.C?a.C(b):a.call(null,b):a[b]}function IV(a){return gc(a)||zf(a)}function JV(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.C?a.C(e):a.call(null,e);return d+1},0,b);return c}function KV(a,b){var c=Array(K(b));w.D(function(d,e){c[d]=a.B?a.B(d,e):a.call(null,d,e);return d+1},0,b);return c}function LV(a,b){return null==b.a?-1:0>=Kf(a.a,b.a)?-1:1}
function MV(a){if(tf(uC.C(a)))return jf;for(var b=Hd(new X(null,1,5,Z,[GB.C(H(uC.C(a)))],null));;){var c=Te(b,K(b)-1),d=fT.D(0,c,null),e=fT.D(2147483647,null,null);c=GB;var f=c.C,h=uC.C(a);d=JS(h,d,e,LV);c=f.call(c,H(d));if(null!=c)b=Mg.B(b,c);else return Jd(b)}}function NV(a){return 0==a.lastIndexOf(":",0)?ug.C(lg.B(a,1)):a}
function OV(a,b){b=Zg(b);var c=B.D(b,sE,rl),d=B.D(b,CD,t),e=MV(a),f=fi.B(W,Qh.D(Ni,e,Qk.P())),h=zh(Hd(jf)),k=zh(Hd(W));b=KV(function(u,v){v.idx=u|0;u=v.e;var z=v.a;z=f.C?f.C(z):f.call(null,z);var C=v.v;if("string"!==typeof C)if("number"===typeof C)C=Infinity===C?[2]:-Infinity===C?[3]:r(isNaN(C))?[4]:C;else if(!0!==C&&!1!==C)if(C instanceof D){var E=B.B(y(k),C);r(E)?C=E:(E=h.Ze(null,Mg.B(h.Ub(null),C)),E=K(E)-1,k.Ze(null,Ng(k.Ub(null),C,E)),C=E);C=[0,C]}else C=[1,c.C?c.C(C):c.call(null,C)];return[u,
z,C,v.Yf-536870912]},SA.C(a));var m=KV(function(u,v){return v.idx},uC.C(a)),n=KV(function(u,v){return v.idx},Tm.C(a)),p=function(){var u=Yy.C(a);return c.C?c.C(u):c.call(null,u)}();e=JV(d,e);d=JV(d,Jd(y(h)));return{count:K(SA.C(a)),tx0:536870912,"max-eid":Is.C(a),"max-tx":Et.C(a),schema:p,attrs:e,keywords:d,eavt:b,aevt:m,avet:n}}
function PV(a){switch(arguments.length){case 1:return QV(arguments[0]);case 2:return OV(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function QV(a){return OV(a,W)}function RV(a){switch(arguments.length){case 1:return SV(arguments[0]);case 2:return TV(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function SV(a){return TV(a,W)}
function TV(a,b){b=Zg(b);var c=B.D(b,Ku,FV);b=B.D(b,Kq,NV);var d=HV(a,"tx0"),e=function(){var n=HV(a,"schema");return c.C?c.C(n):c.call(null,n)}();(function(){var n=new pe(function(){return OT},KD,Wj([bn,yv,Ht,Wz,rn,Ju,Gm,Xv,uA,Os,ZA],[!0,Dm,iw,"datascript/db.cljc",23,1,726,726,pg(new X(null,1,5,Z,[Kt],null)),null,r(OT)?OT.Fi:null]));return n.C?n.C(e):n.call(null,e)})();var f=gi.B(b,HV(a,"attrs")),h=gi.B(b,HV(a,"keywords")),k=JV(function(n){var p=GV(n,0),u=Te(f,GV(n,1)),v=GV(n,2);if("number"===typeof v)var z=
v;else if("string"===typeof v)z=v;else if(!0===v||!1===v)z=v;else if(IV(v))z=function(){var C=GV(v,0);if(r(jg.B?jg.B(0,C):jg.call(null,0,C)))return Te(h,GV(v,1));if(r(jg.B?jg.B(1,C):jg.call(null,1,C)))return C=GV(v,1),c.C?c.C(C):c.call(null,C);if(r(jg.B?jg.B(2,C):jg.call(null,2,C)))return Infinity;if(r(jg.B?jg.B(3,C):jg.call(null,3,C)))return-Infinity;if(r(jg.B?jg.B(4,C):jg.call(null,4,C)))return NaN;throw tm(["Unexpected value marker ",rl.I(M([C]))," in ",rl.I(M([rl.I(M([v]))]))].join(""),new q(null,
2,[yx,Kw,gs,v],null));}();else throw tm(["Unexpected value type ",rl.I(M([oc(v)]))," (",rl.I(M([rl.I(M([v]))])),")"].join(""),new q(null,2,[yx,Kw,gs,v],null));n=d+GV(n,3);return fT.R(p,u,z,n)},HV(a,"eavt"));b=function(){var n=HV(a,"aevt");return null==n?null:JV(function(p){return k[p]},n)}();var m=function(){var n=HV(a,"avet");return null==n?null:JV(function(p){return k[p]},n)}();return DT(Wj([Yy,Et,MD,uC,Tm,Is,SA,Cz,xs,Xz],[e,HV(a,"max-tx"),Eh(0),NS(mT,b),NS(nT,m),HV(a,"max-eid"),NS(lT,k),UR(),UR(),
function(){var n=vk.I(M([new q(null,1,[Eu,new q(null,1,[Hm,wt],null)],null),e])),p=new pe(function(){return MT},oD,Wj([bn,yv,Ht,Wz,rn,Ju,Gm,Xv,uA,Os,ZA],[!0,Dm,WD,"datascript/db.cljc",15,1,694,694,pg(new X(null,1,5,Z,[Kt],null)),":db/unique           \x3d\x3e #{attr ...}\n   :db.unique/identity  \x3d\x3e #{attr ...}\n   :db.unique/value     \x3d\x3e #{attr ...}\n   :db/index            \x3d\x3e #{attr ...}\n   :db.cardinality/many \x3d\x3e #{attr ...}\n   :db.type/ref         \x3d\x3e #{attr ...}\n   :db/isComponent      \x3d\x3e #{attr ...}\n   :db.type/tuple       \x3d\x3e #{attr ...}\n   :db/attrTuples       \x3d\x3e {attr \x3d\x3e {tuple-attr \x3d\x3e idx}}",
r(MT)?MT.Fi:null]));return p.C?p.C(n):p.call(null,n)}()]))};function UV(){}function VV(a,b,c){if(null!=a&&null!=a.bb)a=a.bb(a,b,c);else{var d=VV[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=VV._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("ITraversable.-collect",a);}return a}
function WV(a,b){if(null!=a&&null!=a.cb)a=a.cb(a,b);else{var c=WV[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=WV._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("ITraversable.-collect-vars",a);}return a}function XV(a,b){return wf(a)&&F.B(K(a),b)}function YV(a,b){return wf(b)?w.D(function(c,d){d=a.C?a.C(d):a.call(null,d);return r(d)?hf.B(c,d):Ge(null)},jf,b):null}function ZV(a,b){return $V(a,b,jf)}
function $V(a,b,c){return r(a.C?a.C(b):a.call(null,b))?hf.B(c,b):(null!=b?l===b.ab||(b.xe?0:nc(UV,b)):nc(UV,b))?VV(b,a,c):QS(b)?w.D(function(d,e){return $V(a,e,d)},c,b):c}function aW(a){var b=tf(a);return b?b:Ug(If,a)}function bW(a,b){return qf(a,new q(null,1,[cw,b],null))}function cW(a){var b=cw.C(rf(a));return r(b)?b:a}function dW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=dW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Placeholder{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new dj(this,0,jf,r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new dW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-528488587^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Ck,b)?R.B(jd(fi.B(W,this),this.G),b):new dW(this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new dW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new dW(b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function eW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=eW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Variable{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[$r,this.symbol],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[$r],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new eW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=736891289^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[$r,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new eW(this.symbol,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B($r,b):U.call(null,$r,b))?new eW(c,this.G,this.F,null):new eW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y($r,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new eW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function gW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=gW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.SrcVar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[$r,this.symbol],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[$r],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new gW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1648766309^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[$r,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new gW(this.symbol,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B($r,b):U.call(null,$r,b))?new gW(c,this.G,this.F,null):new gW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y($r,this.symbol,null)],null),this.F))};g.ha=function(a,b){return new gW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function hW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=hW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.DefaultSrc{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new dj(this,0,jf,r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new hW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-350962559^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};
g.za=function(a,b){return S(Ck,b)?R.B(jd(fi.B(W,this),this.G),b):new hW(this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new hW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new hW(b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};
function iW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=iW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.RulesVar{",", ","}",c,V.B(jf,this.F))};
g.qa=function(){return new dj(this,0,jf,r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new iW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1504050517^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Ck,b)?R.B(jd(fi.B(W,this),this.G),b):new iW(this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};
g.ea=function(a,b,c){return new iW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new iW(b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function jW(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=jW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Constant{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[gs,this.value],null)],null),this.F))};
g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[gs],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new jW(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-812884714^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,1,[gs,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new jW(this.value,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(gs,b):U.call(null,gs,b))?new jW(c,this.G,this.F,null):new jW(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(gs,this.value,null)],null),this.F))};
g.ha=function(a,b){return new jW(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.value,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.value):fW.call(null,b,this.value)};function kW(a,b,c,d){this.symbol=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=kW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "symbol":return this.symbol;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.PlainSymbol{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[$r,this.symbol],null)],null),this.F))};
g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[$r],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new kW(this.symbol,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1509921913^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.symbol,b.symbol)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,1,[$r,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new kW(this.symbol,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "symbol":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B($r,b):U.call(null,$r,b))?new kW(c,this.G,this.F,null):new kW(this.symbol,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y($r,this.symbol,null)],null),this.F))};
g.ha=function(a,b){return new kW(this.symbol,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.symbol,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.symbol):fW.call(null,b,this.symbol)};function lW(a){return a instanceof A&&F.B(H(vg(a)),"?")?new eW(a,null,null,null):null}
function mW(a){var b=lW(a);if(r(b))return b;throw tm(["Cannot parse var, expected symbol starting with ?, got: ",rl.I(M([a]))].join(""),new q(null,2,[yx,Sx,Wp,a],null));}function nW(a){return a instanceof A&&F.B(H(vg(a)),"$")?new gW(a,null,null,null):null}function oW(a){return a instanceof A&&F.B(H(vg(a)),"?")?null:new jW(a,null,null,null)}
function pW(a){return a instanceof A&&ic(lW(a))&&ic(nW(a))&&ic(F.B(Xp,a)?new iW(null,null,null):null)&&ic(F.B(wo,a)?new dW(null,null,null):null)?new kW(a,null,null,null):null}function qW(a){return r(pW(a))?new eW(a,null,null,null):null}function rW(a){var b=lW(a);if(r(b))return b;b=nW(a);return r(b)?b:oW(a)}function sW(a,b,c,d,e){this.required=a;this.rd=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=sW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "required":return this.required;case "free":return this.rd;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.RuleVars{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[hu,this.required],null),new X(null,2,5,Z,[Sy,this.rd],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[hu,Sy],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new sW(this.required,this.rd,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=892963297^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.required,b.required)&&F.B(this.rd,b.rd)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[Sy,null,hu,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new sW(this.required,this.rd,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "required":case "free":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(hu,b):U.call(null,hu,b))?new sW(c,this.rd,this.G,this.F,null):r(U.B?U.B(Sy,b):U.call(null,Sy,b))?new sW(this.required,c,this.G,this.F,null):new sW(this.required,this.rd,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(hu,this.required,null),new Y(Sy,this.rd,null)],null),this.F))};
g.ha=function(a,b){return new sW(this.required,this.rd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.rd,$V(b,this.required,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.required):fW.call(null,b,this.required);b=this.rd;return fW.B?fW.B(a,b):fW.call(null,a,b)};
function tW(a){if(wf(a)){var b=wf(H(a))?new X(null,2,5,Z,[H(a),J(a)],null):new X(null,2,5,Z,[null,a],null),c=N(b,0,null);b=N(b,1,null);c=YV(mW,c);b=YV(mW,b);if(tf(c)&&tf(b))throw tm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",new q(null,2,[yx,iy,Wp,a],null));if(!r(aW(V.B(c,b))))throw tm("Rule variables should be distinct",new q(null,2,[yx,iy,Wp,a],null));return new sW(c,b,null,null,null)}throw tm("Cannot parse rule-vars, expected [ variable+ | ([ variable+ ] variable*) ]",
new q(null,2,[yx,iy,Wp,a],null));}function uW(a){return V.B(r(hu.C(a))?new X(null,1,5,Z,[gi.B($r,hu.C(a))],null):null,gi.B($r,Sy.C(a)))}function vW(a){return new X(null,2,5,Z,[K(hu.C(a)),K(Sy.C(a))],null)}function wW(a,b,c){this.G=a;this.F=b;this.J=c;this.O=2230716170;this.T=139264}g=wW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){return B.D(this.F,b,c)};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.BindIgnore{",", ","}",c,V.B(jf,this.F))};g.qa=function(){return new dj(this,0,jf,r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new wW(this.G,this.F,this.J)};g.la=function(){return 0+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-890522983^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.F,b.F)};g.za=function(a,b){return S(Ck,b)?R.B(jd(fi.B(W,this),this.G),b):new wW(this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){return S(this.F,b)};g.ea=function(a,b,c){return new wW(this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(jf,this.F))};g.ha=function(a,b){return new wW(b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return c};g.cb=function(a,b){return b};function xW(a,b,c,d){this.ub=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=xW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "variable":return this.ub;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.BindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[iA,this.ub],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[iA],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new xW(this.ub,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1522792445^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.ub,b.ub)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[iA,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new xW(this.ub,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "variable":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(iA,b):U.call(null,iA,b))?new xW(c,this.G,this.F,null):new xW(this.ub,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(iA,this.ub,null)],null),this.F))};g.ha=function(a,b){return new xW(this.ub,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.ub,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.ub):fW.call(null,b,this.ub)};
function yW(a,b,c,d){this.bindings=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=yW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "bindings":return this.bindings;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.BindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[dw,this.bindings],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[dw],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new yW(this.bindings,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1637239347^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.bindings,b.bindings)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[dw,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new yW(this.bindings,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "bindings":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dw,b):U.call(null,dw,b))?new yW(c,this.G,this.F,null):new yW(this.bindings,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(dw,this.bindings,null)],null),this.F))};g.ha=function(a,b){return new yW(this.bindings,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.bindings,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.bindings):fW.call(null,b,this.bindings)};function zW(a,b,c,d){this.binding=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=zW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.BindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Mr,this.binding],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[Mr],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new zW(this.binding,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1930368089^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.binding,b.binding)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[Mr,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new zW(this.binding,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "binding":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Mr,b):U.call(null,Mr,b))?new zW(c,this.G,this.F,null):new zW(this.binding,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Mr,this.binding,null)],null),this.F))};g.ha=function(a,b){return new zW(this.binding,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.binding,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.binding):fW.call(null,b,this.binding)};
function AW(a){return F.B(wo,a)?bW(new wW(null,null,null),a):null}function BW(a){var b=AW(a);return r(b)?b:CW.C?CW.C(a):CW.call(null,a)}function DW(a){var b=YV(BW,a);if(r(b)){if(tf(b))throw tm("Tuple binding cannot be empty",new q(null,2,[yx,Ix,Wp,a],null));return bW(new yW(b,null,null,null),a)}return null}
function CW(a){a:{if(XV(a,2)&&F.B(cf(a),LA)){var b=H(a);b=CW.C?CW.C(b):CW.call(null,b);if(r(b)){b=bW(new zW(b,null,null,null),a);break a}throw tm("Cannot parse collection binding",new q(null,2,[yx,Ix,Wp,a],null));}b=null}if(r(b))return b;b=XV(a,1)&&wf(H(a))?bW(new zW(DW(H(a)),null,null,null),a):null;if(r(b))return b;b=DW(a);if(r(b))return b;b=AW(a);if(r(b))return b;b=lW(a);b=r(b)?bW(new xW(b,null,null,null),a):null;if(r(b))return b;throw tm("Cannot parse binding, expected (bind-scalar | bind-tuple | bind-coll | bind-rel)",
new q(null,2,[yx,Ix,Wp,a],null));}function EW(a){if(null!=a&&null!=a.vg)a=a.vg(a);else{var b=EW[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=EW._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IFindVars.-find-vars",a);}return a}eW.prototype.vg=function(){return new X(null,1,5,Z,[this.symbol],null)};function FW(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=FW.prototype;g.vg=function(){return EW(gf(this.args))};
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Aggregate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[AD,this.fn],null),new X(null,2,5,Z,[BD,this.args],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[AD,BD],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new FW(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-91097383^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[BD,null,AD,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new FW(this.fn,this.args,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(AD,b):U.call(null,AD,b))?new FW(c,this.args,this.G,this.F,null):r(U.B?U.B(BD,b):U.call(null,BD,b))?new FW(this.fn,c,this.G,this.F,null):new FW(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(AD,this.fn,null),new Y(BD,this.args,null)],null),this.F))};g.ha=function(a,b){return new FW(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.fn,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function GW(a,b,c,d,e,f){this.source=a;this.ub=b;this.pattern=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=GW.prototype;g.vg=function(){return EW(this.ub)};g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "variable":return this.ub;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Pull{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[cw,this.source],null),new X(null,2,5,Z,[iA,this.ub],null),new X(null,2,5,Z,[ED,this.pattern],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[cw,iA,ED],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new GW(this.source,this.ub,this.pattern,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2108867663^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.ub,b.ub)&&F.B(this.pattern,b.pattern)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[iA,null,cw,null,ED,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new GW(this.source,this.ub,this.pattern,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "variable":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cw,b):U.call(null,cw,b))?new GW(c,this.ub,this.pattern,this.G,this.F,null):r(U.B?U.B(iA,b):U.call(null,iA,b))?new GW(this.source,c,this.pattern,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new GW(this.source,this.ub,c,this.G,this.F,null):new GW(this.source,this.ub,this.pattern,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(cw,this.source,null),new Y(iA,this.ub,null),new Y(ED,this.pattern,null)],null),this.F))};g.ha=function(a,b){return new GW(this.source,this.ub,this.pattern,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.pattern,$V(b,this.ub,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.ub;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.pattern;return fW.B?fW.B(a,b):fW.call(null,a,b)};function HW(a){if(null!=a&&null!=a.Df)a=a.Df(a);else{var b=HW[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=HW._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IFindElements.find-elements",a);}return a}function IW(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}
g=IW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.FindRel{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Tp,this.elements],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[Tp],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new IW(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=744809563^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.elements,b.elements)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[Tp,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new IW(this.elements,this.G,ah(R.B(this.F,b)),null)};g.Df=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Tp,b):U.call(null,Tp,b))?new IW(c,this.G,this.F,null):new IW(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Tp,this.elements,null)],null),this.F))};g.ha=function(a,b){return new IW(this.elements,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.elements,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.elements):fW.call(null,b,this.elements)};function JW(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=JW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.FindColl{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[FC,this.element],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[FC],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new JW(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=124241361^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.element,b.element)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[FC,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new JW(this.element,this.G,ah(R.B(this.F,b)),null)};g.Df=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(FC,b):U.call(null,FC,b))?new JW(c,this.G,this.F,null):new JW(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(FC,this.element,null)],null),this.F))};g.ha=function(a,b){return new JW(this.element,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.element,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.element):fW.call(null,b,this.element)};
function KW(a,b,c,d){this.element=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=KW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "element":return this.element;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.FindScalar{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[FC,this.element],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[FC],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new KW(this.element,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-661542332^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.element,b.element)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[FC,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new KW(this.element,this.G,ah(R.B(this.F,b)),null)};g.Df=function(){return new X(null,1,5,Z,[this.element],null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "element":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(FC,b):U.call(null,FC,b))?new KW(c,this.G,this.F,null):new KW(this.element,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(FC,this.element,null)],null),this.F))};g.ha=function(a,b){return new KW(this.element,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.element,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.element):fW.call(null,b,this.element)};
function LW(a,b,c,d){this.elements=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=LW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "elements":return this.elements;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.FindTuple{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[Tp,this.elements],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[Tp],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new LW(this.elements,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=681530371^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.elements,b.elements)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[Tp,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new LW(this.elements,this.G,ah(R.B(this.F,b)),null)};g.Df=function(){return this.elements};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "elements":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(Tp,b):U.call(null,Tp,b))?new LW(c,this.G,this.F,null):new LW(this.elements,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(Tp,this.elements,null)],null),this.F))};g.ha=function(a,b){return new LW(this.elements,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.elements,c)};
g.cb=function(a,b){return fW.B?fW.B(b,this.elements):fW.call(null,b,this.elements)};function MW(a){return a instanceof FW}function NW(a){return a instanceof GW}
function OW(a){var b=lW(a);if(r(b))return b;a:{if(wf(a)&&F.B(H(a),HB)){if(3<=K(a)&&4>=K(a)){var c=(b=F.B(K(a),4))?Te(a,1):co;b=b?J(J(a)):J(a);var d=N(b,0,null);b=N(b,1,null);c=nW(c);d=lW(d);var e=lW(b);r(e)?b=e:(e=qW(b),b=r(e)?e:oW(b));if(r(r(c)?r(d)?b:d:c)){b=new GW(c,d,b,null,null,null);break a}}throw tm("Cannot parse pull expression, expect ['pull' src-var? variable (constant | variable | plain-symbol)]",new q(null,2,[yx,mD,hq,a],null));}b=null}if(r(b))return b;a:{if(wf(a)&&F.B(H(a),xr)){if(3<=
K(a)&&(b=G(a),H(b),c=J(b),b=H(c),c=J(c),b=lW(b),c=YV(rW,c),r(r(b)?c:b))){b=new FW(b,c,null,null,null);break a}throw tm("Cannot parse custom aggregate call, expect ['aggregate' variable fn-arg+]",new q(null,2,[yx,mD,hq,a],null));}b=null}r(b)?a=b:wf(a)&&2<=K(a)?(b=G(a),a=H(b),b=J(b),a=pW(a),b=YV(rW,b),a=r(r(a)?b:a)?new FW(a,b,null,null,null):null):a=null;return a}
function PW(a){var b=YV(OW,a);b=null==b?null:new IW(b,null,null,null);if(r(b))return b;a:{if(wf(a)&&F.B(K(a),1)&&(b=H(a),wf(b)&&F.B(K(b),2)&&F.B(cf(b),LA))){b=OW(H(b));b=null==b?null:new JW(b,null,null,null);break a}b=null}if(r(b))return b;wf(a)&&F.B(K(a),2)&&F.B(cf(a),WC)?(b=OW(H(a)),b=null==b?null:new KW(b,null,null,null)):b=null;if(r(b))return b;wf(a)&&F.B(K(a),1)?(b=H(a),b=YV(OW,b),b=null==b?null:new LW(b,null,null,null)):b=null;if(r(b))return b;throw tm("Cannot parse :find, expected: (find-rel | find-coll | find-tuple | find-scalar)",
new q(null,2,[yx,mD,hq,a],null));}function QW(a,b,c,d,e){this.type=a;this.symbols=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=QW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "type":return this.type;case "symbols":return this.symbols;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.ReturnMap{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[uo,this.type],null),new X(null,2,5,Z,[Ms,this.symbols],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[uo,Ms],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new QW(this.type,this.symbols,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-2025547471^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.type,b.type)&&F.B(this.symbols,b.symbols)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[uo,null,Ms,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new QW(this.type,this.symbols,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "type":case "symbols":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(uo,b):U.call(null,uo,b))?new QW(c,this.symbols,this.G,this.F,null):r(U.B?U.B(Ms,b):U.call(null,Ms,b))?new QW(this.type,c,this.G,this.F,null):new QW(this.type,this.symbols,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(uo,this.type,null),new Y(Ms,this.symbols,null)],null),this.F))};
g.ha=function(a,b){return new QW(this.type,this.symbols,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.symbols,$V(b,this.type,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.type):fW.call(null,b,this.type);b=this.symbols;return fW.B?fW.B(a,b):fW.call(null,a,b)};
function RW(a,b){if(!tf(b)&&qh(le,b))switch(a instanceof D?a.ba:null){case "keys":return new QW(a,gi.B(ug,b),null,null,null);case "syms":return new QW(a,Ji(b),null,null,null);case "strs":return new QW(a,gi.B(t,b),null,null,null);default:return null}else return null}function SW(a){var b=nW(a);r(b)||(b=F.B(Xp,a)?new iW(null,null,null):null,b=r(b)?b:qW(a));return r(b)?bW(new xW(b,null,null,null),a):CW(a)}
function TW(a){var b=YV(SW,a);if(r(b))return b;throw tm("Cannot parse :in clause, expected (src-var | % | plain-symbol | bind-scalar | bind-tuple | bind-coll | bind-rel)",new q(null,2,[yx,JD,Wp,a],null));}function UW(a,b,c,d,e){this.source=a;this.pattern=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=UW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "pattern":return this.pattern;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Pattern{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[cw,this.source],null),new X(null,2,5,Z,[ED,this.pattern],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[cw,ED],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new UW(this.source,this.pattern,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=575220587^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.pattern,b.pattern)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[cw,null,ED,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new UW(this.source,this.pattern,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "pattern":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cw,b):U.call(null,cw,b))?new UW(c,this.pattern,this.G,this.F,null):r(U.B?U.B(ED,b):U.call(null,ED,b))?new UW(this.source,c,this.G,this.F,null):new UW(this.source,this.pattern,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(cw,this.source,null),new Y(ED,this.pattern,null)],null),this.F))};
g.ha=function(a,b){return new UW(this.source,this.pattern,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.pattern,$V(b,this.source,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.pattern;return fW.B?fW.B(a,b):fW.call(null,a,b)};function VW(a,b,c,d,e){this.fn=a;this.args=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=VW.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Predicate{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[AD,this.fn],null),new X(null,2,5,Z,[BD,this.args],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[AD,BD],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new VW(this.fn,this.args,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1523376880^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[BD,null,AD,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new VW(this.fn,this.args,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(AD,b):U.call(null,AD,b))?new VW(c,this.args,this.G,this.F,null):r(U.B?U.B(BD,b):U.call(null,BD,b))?new VW(this.fn,c,this.G,this.F,null):new VW(this.fn,this.args,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(AD,this.fn,null),new Y(BD,this.args,null)],null),this.F))};g.ha=function(a,b){return new VW(this.fn,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.fn,c))};g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function WW(a,b,c,d,e,f){this.fn=a;this.args=b;this.binding=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=WW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "fn":return this.fn;case "args":return this.args;case "binding":return this.binding;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Function{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[AD,this.fn],null),new X(null,2,5,Z,[BD,this.args],null),new X(null,2,5,Z,[Mr,this.binding],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[AD,BD,Mr],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new WW(this.fn,this.args,this.binding,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=589494199^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.fn,b.fn)&&F.B(this.args,b.args)&&F.B(this.binding,b.binding)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[BD,null,AD,null,Mr,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new WW(this.fn,this.args,this.binding,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "fn":case "args":case "binding":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(AD,b):U.call(null,AD,b))?new WW(c,this.args,this.binding,this.G,this.F,null):r(U.B?U.B(BD,b):U.call(null,BD,b))?new WW(this.fn,c,this.binding,this.G,this.F,null):r(U.B?U.B(Mr,b):U.call(null,Mr,b))?new WW(this.fn,this.args,c,this.G,this.F,null):new WW(this.fn,this.args,this.binding,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(AD,this.fn,null),new Y(BD,this.args,null),new Y(Mr,this.binding,null)],null),this.F))};g.ha=function(a,b){return new WW(this.fn,this.args,this.binding,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.binding,$V(b,this.args,$V(b,this.fn,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.fn):fW.call(null,b,this.fn);b=this.args;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.binding;return fW.B?fW.B(a,b):fW.call(null,a,b)};function XW(a,b,c,d,e,f){this.source=a;this.name=b;this.args=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=XW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "name":return this.name;case "args":return this.args;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.RuleExpr{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[cw,this.source],null),new X(null,2,5,Z,[Ht,this.name],null),new X(null,2,5,Z,[BD,this.args],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[cw,Ht,BD],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new XW(this.source,this.name,this.args,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-444662011^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.name,b.name)&&F.B(this.args,b.args)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[BD,null,Ht,null,cw,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new XW(this.source,this.name,this.args,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "name":case "args":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cw,b):U.call(null,cw,b))?new XW(c,this.name,this.args,this.G,this.F,null):r(U.B?U.B(Ht,b):U.call(null,Ht,b))?new XW(this.source,c,this.args,this.G,this.F,null):r(U.B?U.B(BD,b):U.call(null,BD,b))?new XW(this.source,this.name,c,this.G,this.F,null):new XW(this.source,this.name,this.args,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(cw,this.source,null),new Y(Ht,this.name,null),new Y(BD,this.args,null)],null),this.F))};g.ha=function(a,b){return new XW(this.source,this.name,this.args,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.args,$V(b,this.name,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.name;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.args;return fW.B?fW.B(a,b):fW.call(null,a,b)};function YW(a,b,c,d,e,f){this.source=a;this.vb=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=YW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "vars":return this.vb;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Not{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[cw,this.source],null),new X(null,2,5,Z,[rp,this.vb],null),new X(null,2,5,Z,[lt,this.Fa],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[cw,rp,lt],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new YW(this.source,this.vb,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1394671061^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.vb,b.vb)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[cw,null,lt,null,rp,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new YW(this.source,this.vb,this.Fa,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cw,b):U.call(null,cw,b))?new YW(c,this.vb,this.Fa,this.G,this.F,null):r(U.B?U.B(rp,b):U.call(null,rp,b))?new YW(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B(lt,b):U.call(null,lt,b))?new YW(this.source,this.vb,c,this.G,this.F,null):new YW(this.source,this.vb,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(cw,this.source,null),new Y(rp,this.vb,null),new Y(lt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new YW(this.source,this.vb,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.vb,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.vb;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.Fa;return fW.B?fW.B(a,b):fW.call(null,a,b)};function ZW(a,b,c,d,e,f){this.source=a;this.Sc=b;this.Fa=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=ZW.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "source":return this.source;case "rule-vars":return this.Sc;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Or{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[cw,this.source],null),new X(null,2,5,Z,[tD,this.Sc],null),new X(null,2,5,Z,[lt,this.Fa],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[cw,tD,lt],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new ZW(this.source,this.Sc,this.Fa,this.G,this.F,this.J)};g.la=function(){return 3+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1461934571^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.source,b.source)&&F.B(this.Sc,b.Sc)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[tD,null,cw,null,lt,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new ZW(this.source,this.Sc,this.Fa,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "source":case "rule-vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(cw,b):U.call(null,cw,b))?new ZW(c,this.Sc,this.Fa,this.G,this.F,null):r(U.B?U.B(tD,b):U.call(null,tD,b))?new ZW(this.source,c,this.Fa,this.G,this.F,null):r(U.B?U.B(lt,b):U.call(null,lt,b))?new ZW(this.source,this.Sc,c,this.G,this.F,null):new ZW(this.source,this.Sc,this.Fa,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(cw,this.source,null),new Y(tD,this.Sc,null),new Y(lt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new ZW(this.source,this.Sc,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.Sc,$V(b,this.source,c)))};
g.cb=function(a,b){a=fW.B?fW.B(b,this.source):fW.call(null,b,this.source);b=this.Sc;a=fW.B?fW.B(a,b):fW.call(null,a,b);b=this.Fa;return fW.B?fW.B(a,b):fW.call(null,a,b)};function $W(a,b,c,d){this.Fa=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=$W.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.And{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[lt,this.Fa],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[lt],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new $W(this.Fa,this.G,this.F,this.J)};
g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-131856804^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[lt,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new $W(this.Fa,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "clauses":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(lt,b):U.call(null,lt,b))?new $W(c,this.G,this.F,null):new $W(this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(lt,this.Fa,null)],null),this.F))};g.ha=function(a,b){return new $W(this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,c)};g.cb=function(a,b){return fW.B?fW.B(b,this.Fa):fW.call(null,b,this.Fa)};
function aX(a){var b=F.B(wo,a)?new dW(null,null,null):null;if(r(b))return b;b=lW(a);return r(b)?b:oW(a)}function bX(a){if(wf(a)){var b=nW(H(a));return r(b)?new X(null,2,5,Z,[b,J(a)],null):new X(null,2,5,Z,[new hW(null,null,null),a],null)}return null}function cX(a){if(wf(a)){var b=G(a);a=H(b);b=J(b);b=null==b?jf:b;var c=pW(a);a=r(c)?c:lW(a);b=YV(rW,b);return r(r(a)?b:a)?new X(null,2,5,Z,[a,b],null):null}return null}
var fW=function fW(a,b){return b instanceof eW?hf.B(a,b):b instanceof YW?fi.B(a,b.vb):b instanceof ZW?(b=b.Sc,fW.B?fW.B(a,b):fW.call(null,a,b)):(null!=b?l===b.ab||(b.xe?0:nc(UV,b)):nc(UV,b))?WV(b,a):wf(b)?w.D(fW,a,b):a};function dX(a,b,c){if(tf(a)&&tf(b))throw tm("Join variables should not be empty",new q(null,2,[yx,tC,Wp,c],null));}function eX(a,b){dX(null,rp.C(a),b);return a}function fX(a,b){var c=Zg(a);c=B.B(c,tD);var d=Zg(c);c=B.B(d,hu);d=B.B(d,Sy);dX(c,d,b);return a}
function Kh(a){if(wf(a)&&F.B(jB,H(a))){var b=J(a);b=gX.C?gX.C(b):gX.call(null,b);if(r(ah(b)))return new $W(b,null,null,null);throw tm("Cannot parse 'and' clause, expected [ 'and' clause+ ]",new q(null,2,[yx,tC,Wp,a],null));}return null}
function Lh(a){a:{var b=bX(a);if(r(b)){var c=N(b,0,null);b=N(b,1,null);var d=G(b);b=H(d);d=J(d);if(F.B(oC,b)){b=gX.C?gX.C(d):gX.call(null,d);if(r(b)){c=eX(bW(new YW(c,Ji(Fk(fW(jf,b))),b,null,null,null),a),a);break a}throw tm("Cannot parse 'not' clause, expected [ src-var? 'not' clause+ ]",new q(null,2,[yx,tC,Wp,a],null));}}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)){c=N(b,0,null);b=N(b,1,null);d=G(b);b=H(d);var e=J(d);d=H(e);e=J(e);if(F.B(ky,b)){b=YV(lW,d);d=gX.C?gX.C(e):gX.call(null,e);if(r(r(b)?
d:b)){c=eX(bW(new YW(c,b,d,null,null,null),a),a);break a}throw tm("Cannot parse 'not-join' clause, expected [ src-var? 'not-join' [variable+] clause+ ]",new q(null,2,[yx,tC,Wp,a],null));}}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),d=J(d),F.B(Ro,b))){b=YV(Jh(),d);if(r(b)){c=fX(bW(new ZW(c,new sW(null,Ji(Fk(fW(jf,b))),null,null,null),b,null,null,null),a),a);break a}throw tm("Cannot parse 'or' clause, expected [ src-var? 'or' clause+ ]",new q(null,2,[yx,tC,
Wp,a],null));}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),d=G(b),b=H(d),e=J(d),d=H(e),e=J(e),F.B(tx,b))){b=tW(d);d=YV(Jh(),e);if(r(r(b)?d:b)){c=fX(bW(new ZW(c,b,d,null,null,null),a),a);break a}throw tm("Cannot parse 'or-join' clause, expected [ src-var? 'or-join' [variable+] clause+ ]",new q(null,2,[yx,tC,Wp,a],null));}c=null}if(r(c))return c;a:{if(XV(a,1)&&(b=cX(H(a)),r(b))){c=N(b,0,null);b=N(b,1,null);c=bW(new VW(c,b,null,null,null),a);break a}c=null}if(r(c))return c;
a:{if(XV(a,2)&&(b=N(a,0,null),c=N(a,1,null),d=cX(b),r(d))){b=N(d,0,null);d=N(d,1,null);c=CW(c);c=r(c)?bW(new WW(b,d,c,null,null,null),a):null;break a}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=G(b),d=H(b),b=J(b),d=pW(d),e=YV(aX,b),r(d))){if(tf(b))throw tm("rule-expr requires at least one argument",new q(null,2,[yx,tC,Wp,a],null));if(null==e)throw tm("Cannot parse rule-expr arguments, expected [ (variable | constant | '_')+ ]",new q(null,2,[yx,tC,Wp,a],null));c=new XW(c,
d,e,null,null,null);break a}c=null}if(r(c))return c;a:{b=bX(a);if(r(b)&&(c=N(b,0,null),b=N(b,1,null),b=YV(aX,b),r(b))){if(tf(b))throw tm("Pattern could not be empty",new q(null,2,[yx,tC,Wp,a],null));c=bW(new UW(c,b,null,null,null),a);break a}c=null}if(r(c))return c;throw tm("Cannot parse clause, expected (data-pattern | pred-expr | fn-expr | rule-expr | not-clause | not-join-clause | or-clause | or-join-clause)",new q(null,2,[yx,tC,Wp,a],null));}function gX(a){return YV(Lh,a)}
function hX(a){var b=gX(a);if(r(b))return b;throw tm("Cannot parse :where clause, expected [clause+]",new q(null,2,[yx,tC,Wp,a],null));}function iX(a,b,c,d,e){this.vb=a;this.Fa=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=iX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "vars":return this.vb;case "clauses":return this.Fa;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.RuleBranch{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[rp,this.vb],null),new X(null,2,5,Z,[lt,this.Fa],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[rp,lt],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new iX(this.vb,this.Fa,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1024755006^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.vb,b.vb)&&F.B(this.Fa,b.Fa)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[lt,null,rp,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new iX(this.vb,this.Fa,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "vars":case "clauses":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(rp,b):U.call(null,rp,b))?new iX(c,this.Fa,this.G,this.F,null):r(U.B?U.B(lt,b):U.call(null,lt,b))?new iX(this.vb,c,this.G,this.F,null):new iX(this.vb,this.Fa,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(rp,this.vb,null),new Y(lt,this.Fa,null)],null),this.F))};
g.ha=function(a,b){return new iX(this.vb,this.Fa,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.Fa,$V(b,this.vb,c))};g.cb=function(a,b){return fW(fW(b,this.vb),this.Fa)};function jX(a,b,c,d,e){this.name=a;this.branches=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=jX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "name":return this.name;case "branches":return this.branches;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Rule{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[Ht,this.name],null),new X(null,2,5,Z,[Jp,this.branches],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[Ht,Jp],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new jX(this.name,this.branches,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};
g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-900273052^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.name,b.name)&&F.B(this.branches,b.branches)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[Ht,null,Jp,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new jX(this.name,this.branches,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "name":case "branches":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Ht,b):U.call(null,Ht,b))?new jX(c,this.branches,this.G,this.F,null):r(U.B?U.B(Jp,b):U.call(null,Jp,b))?new jX(this.name,c,this.G,this.F,null):new jX(this.name,this.branches,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(Ht,this.name,null),new Y(Jp,this.branches,null)],null),this.F))};
g.ha=function(a,b){return new jX(this.name,this.branches,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;g.bb=function(a,b,c){return $V(b,this.branches,$V(b,this.name,c))};g.cb=function(a,b){return fW(fW(b,this.name),this.branches)};
function kX(a){if(wf(a)){var b=G(a),c=H(b),d=J(b);if(wf(c)){b=G(c);var e=H(b);c=J(b);b=function(){var h=pW(e);if(r(h))return h;throw tm("Cannot parse rule name, expected plain-symbol",new q(null,2,[yx,XB,Wp,a],null));}();c=tW(c);var f=function(){var h=ah(gX(d));if(r(h))return h;throw tm("Rule branch should have clauses",new q(null,2,[yx,XB,Wp,a],null));}();return new q(null,3,[Ht,b,rp,c,lt,f],null)}throw tm(["Cannot parse rule head, expected [rule-name rule-vars], got: ",rl.I(M([c]))].join(""),new q(null,
2,[yx,XB,Wp,a],null));}throw tm("Cannot parse rule, expected [rule-head clause+]",new q(null,2,[yx,XB,Wp,a],null));}
function lX(a,b){var c=rp.C(H(b)),d=vW(c);b=G(J(b));for(var e=null,f=0,h=0;;)if(h<f){var k=e.Da(null,h);k=rp.C(k);if($g.B(d,vW(k)))throw tm(["Arity mismatch for rule '",rl.I(M([$r.C(a)])),"': ",rl.I(M([uW(c)]))," vs. ",rl.I(M([uW(k)]))].join(""),new q(null,2,[yx,XB,bx,a],null));h+=1}else if(b=G(b)){if(Af(b))f=Pd(b),b=Qd(b),e=f,f=K(f);else{k=H(b);e=rp.C(k);if($g.B(d,vW(e)))throw tm(["Arity mismatch for rule '",rl.I(M([$r.C(a)])),"': ",rl.I(M([uW(c)]))," vs. ",rl.I(M([uW(e)]))].join(""),new q(null,
2,[yx,XB,bx,a],null));b=J(b);e=null;f=0}h=0}else break}
function mX(a){Ji(function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){var f=e;if(Af(f)){var h=Pd(f),k=K(h),m=Ag(k);return function(){for(var v=0;;)if(v<k){var z=x(h,v),C=N(z,0,null),E=N(z,1,null);z=gi.B(function(){return function(I){return new iX(rp.C(I),lt.C(I),null,null,null)}}(v,z,C,E,h,k,m,f,e),E);E=m;lX(C,z);E.add(new jX(C,z,null,null,null));v+=1}else return!0}()?Cg(Gg(m),d(Qd(f))):Cg(Gg(m),null)}var n=H(f),p=N(n,0,null),u=N(n,1,null);n=gi.B(function(){return function(v){return new iX(rp.C(v),
lt.C(v),null,null,null)}}(n,p,u,f,e),u);lX(p,n);return Ze(new jX(p,n,null,null,null),d(ue(f)))}return null}},null,null)}($l(Ht,YV(kX,a)))}())}function nX(a,b,c,d,e,f,h,k){this.Ec=a;this.Ic=b;this.Gc=c;this.Fc=d;this.Hc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=nX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "qfind":return this.Ec;case "qwith":return this.Ic;case "qreturn-map":return this.Gc;case "qin":return this.Fc;case "qwhere":return this.Hc;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.parser.Query{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[fy,this.Ec],null),new X(null,2,5,Z,[du,this.Ic],null),new X(null,2,5,Z,[CB,this.Gc],null),new X(null,2,5,Z,[Ys,this.Fc],null),new X(null,2,5,Z,[jt,this.Hc],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[fy,du,CB,Ys,jt],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new nX(this.Ec,this.Ic,this.Gc,this.Fc,this.Hc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=181307977^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ec,b.Ec)&&F.B(this.Ic,b.Ic)&&F.B(this.Gc,b.Gc)&&F.B(this.Fc,b.Fc)&&F.B(this.Hc,b.Hc)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[fy,null,jt,null,Ys,null,du,null,CB,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new nX(this.Ec,this.Ic,this.Gc,this.Fc,this.Hc,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "qfind":case "qwith":case "qreturn-map":case "qin":case "qwhere":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(fy,b):U.call(null,fy,b))?new nX(c,this.Ic,this.Gc,this.Fc,this.Hc,this.G,this.F,null):r(U.B?U.B(du,b):U.call(null,du,b))?new nX(this.Ec,c,this.Gc,this.Fc,this.Hc,this.G,this.F,null):r(U.B?U.B(CB,b):U.call(null,CB,b))?new nX(this.Ec,this.Ic,c,this.Fc,this.Hc,this.G,this.F,null):r(U.B?U.B(Ys,b):U.call(null,Ys,b))?new nX(this.Ec,this.Ic,this.Gc,c,this.Hc,this.G,this.F,null):r(U.B?U.B(jt,b):U.call(null,jt,b))?new nX(this.Ec,this.Ic,this.Gc,this.Fc,c,this.G,this.F,
null):new nX(this.Ec,this.Ic,this.Gc,this.Fc,this.Hc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(fy,this.Ec,null),new Y(du,this.Ic,null),new Y(CB,this.Gc,null),new Y(Ys,this.Fc,null),new Y(jt,this.Hc,null)],null),this.F))};g.ha=function(a,b){return new nX(this.Ec,this.Ic,this.Gc,this.Fc,this.Hc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};g.ab=l;
g.bb=function(a,b,c){return $V(b,this.Hc,$V(b,this.Fc,$V(b,this.Gc,$V(b,this.Ic,$V(b,this.Ec,c)))))};g.cb=function(a,b){return fW(fW(fW(fW(fW(b,this.Ec),this.Ic),this.Gc),this.Fc),this.Hc)};function oX(a){var b=R.I(a,fy,M([du,CB,Ys,jt]));b=yf(a)?fi.B(W,b):b;return new nX(fy.C(a),du.C(a),CB.C(a),Ys.C(a),jt.C(a),null,ah(b),null)}function pX(a){for(var b=W,c=null;;){var d=H(a);if(r(d))d instanceof D?(c=d,a=J(a)):(b=mi.R(b,new X(null,1,5,Z,[c],null),xh(jf),d),a=J(a));else return b}}
function qX(a){var b=cw.C(a);return a instanceof UW?b:null!=b?b instanceof hW?null:b:null}
function rX(a,b,c){var d=Ek(fW(jf,fy.C(a))),e=Ek(du.C(a)),f=Ek(fW(jf,Ys.C(a))),h=Ek(fW(jf,jt.C(a)));f=uI.B(sI(d,e),sI(h,f));d=tI.B(d,e);if(!tf(f))throw tm(["Query for unknown vars: ",rl.I(M([gi.B($r,f)]))].join(""),new q(null,3,[yx,Us,rp,f,Wp,b],null));if(!tf(d))throw tm([":find and :with should not use same variables: ",rl.I(M([gi.B($r,d)]))].join(""),new q(null,3,[yx,Us,rp,d,Wp,b],null));d=CB.C(a);if(null!=d){if(fy.C(a)instanceof KW)throw tm([rl.I(M([uo.C(d)]))," does not work with single-scalar :find"].join(""),
new q(null,2,[yx,Us,Wp,b],null));if(fy.C(a)instanceof JW)throw tm([rl.I(M([uo.C(d)]))," does not work with collection :find"].join(""),new q(null,2,[yx,Us,Wp,b],null));}d=Ms.C(CB.C(a));if(null!=d&&(e=HW(fy.C(a)),!F.B(K(d),K(e))))throw tm(["Count of ",rl.I(M([uo.C(CB.C(a))]))," must match count of :find"].join(""),new q(null,4,[yx,Us,vn,Ze(uo.C(CB.C(a)),d),yy,e,Wp,b],null));if(1<K(di(lc,new X(null,3,5,Z,[Eo.C(c),It.C(c),jw.C(c)],null))))throw tm("Only one of :keys/:syms/:strs must be present",new q(null,
2,[yx,Us,Wp,b],null));var k=fW(jf,Ys.C(a)),m=ZV(function(p){return p instanceof gW},Ys.C(a)),n=ZV(function(p){return p instanceof iW},Ys.C(a));if(!r(function(){var p=aW(k);return r(p)?(p=aW(m),r(p)?aW(n):p):p}()))throw tm("Vars used in :in should be distinct",new q(null,2,[yx,Us,Wp,b],null));c=fW(jf,du.C(a));if(!r(aW(c)))throw tm("Vars used in :with should be distinct",new q(null,2,[yx,Us,Wp,b],null));c=$V(function(p){return p instanceof gW},Ys.C(a),Ck);d=$V(function(p){return p instanceof gW},jt.C(a),
Ck);c=uI.B(d,c);if(!tf(c))throw tm(["Where uses unknown source vars: ",rl.I(M([gi.B($r,c)]))].join(""),new q(null,3,[yx,Us,rp,c,Wp,b],null));c=ZV(function(p){return p instanceof XW},jt.C(a));a=ZV(function(p){return p instanceof iW},Ys.C(a));if(!tf(c)&&tf(a))throw tm("Missing rules var '%' in :in",new q(null,2,[yx,Us,Wp,b],null));}
function sX(a){if(xf(a))var b=a;else if(wf(a))b=pX(a);else throw tm("Query should be a vector or a map",new q(null,2,[yx,Us,Wp,a],null));var c=b,d=hX(Tn.B(c,jf));b=oX(new q(null,5,[fy,PW(yy.C(c)),du,function(){var e=hE.C(c);if(r(e)){var f=YV(lW,e);if(r(f))e=f;else throw tm("Cannot parse :with clause, expected [ variable+ ]",new q(null,2,[yx,oq,Wp,e],null));}else e=null;return e}(),CB,function(){var e=RW(Eo,Eo.C(c));if(r(e))return e;e=RW(It,It.C(c));return r(e)?e:RW(jw,jw.C(c))}(),Ys,TW(function(){var e=
pE.C(c);return r(e)?e:tf(ZV(qX,d))?jf:new X(null,1,5,Z,[co],null)}()),jt,d],null));rX(b,a,c);return b};var tX=UR();function uX(a,b,c,d,e,f){this.Kd=a;this.sources=b;this.rules=c;this.G=d;this.F=e;this.J=f;this.O=2230716170;this.T=139264}g=uX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "rels":return this.Kd;case "sources":return this.sources;case "rules":return this.rules;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.query.Context{",", ","}",c,V.B(new X(null,3,5,Z,[new X(null,2,5,Z,[Gr,this.Kd],null),new X(null,2,5,Z,[is,this.sources],null),new X(null,2,5,Z,[rB,this.rules],null)],null),this.F))};g.qa=function(){return new dj(this,3,new X(null,3,5,Z,[Gr,is,rB],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new uX(this.Kd,this.sources,this.rules,this.G,this.F,this.J)};
g.la=function(){return 3+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1014232958^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Kd,b.Kd)&&F.B(this.sources,b.sources)&&F.B(this.rules,b.rules)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,3,[is,null,rB,null,Gr,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new uX(this.Kd,this.sources,this.rules,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "rels":case "sources":case "rules":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(Gr,b):U.call(null,Gr,b))?new uX(c,this.sources,this.rules,this.G,this.F,null):r(U.B?U.B(is,b):U.call(null,is,b))?new uX(this.Kd,c,this.rules,this.G,this.F,null):r(U.B?U.B(rB,b):U.call(null,rB,b))?new uX(this.Kd,this.sources,c,this.G,this.F,null):new uX(this.Kd,this.sources,this.rules,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,3,5,Z,[new Y(Gr,this.Kd,null),new Y(is,this.sources,null),new Y(rB,this.rules,null)],null),this.F))};g.ha=function(a,b){return new uX(this.Kd,this.sources,this.rules,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function vX(a,b,c,d,e){this.wa=a;this.ae=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=vX.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "attrs":return this.wa;case "tuples":return this.ae;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#datascript.query.Relation{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[aA,this.wa],null),new X(null,2,5,Z,[xq,this.ae],null)],null),this.F))};
g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[aA,xq],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new vX(this.wa,this.ae,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=1107093117^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.wa,b.wa)&&F.B(this.ae,b.ae)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,2,[xq,null,aA,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new vX(this.wa,this.ae,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "attrs":case "tuples":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(aA,b):U.call(null,aA,b))?new vX(c,this.ae,this.G,this.F,null):r(U.B?U.B(xq,b):U.call(null,xq,b))?new vX(this.wa,c,this.G,this.F,null):new vX(this.wa,this.ae,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(aA,this.wa,null),new Y(xq,this.ae,null)],null),this.F))};g.ha=function(a,b){return new vX(this.wa,this.ae,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function wX(a,b){return tI.B(Ek(jj(a)),Ek(jj(b)))}function xX(a,b){return F.B(K(a),K(b))&&qh(function(c){return S(b,c)},jj(a))&&qh(function(c){return S(b,c)},jj(a))}
var yX=function yX(a,b){return F.B(wo,a)?!0:F.B(new X(null,1,5,Z,[lC],null),a)?wf(b):a instanceof A?F.B(b,a):wf(a)?F.B(gf(a),lC)?wf(b)&&qh(function(d){var e=N(d,0,null);d=N(d,1,null);return yX.B?yX.B(e,d):yX.call(null,e,d)},Qh.D(Ni,Gk(a),b)):wf(b)&&F.B(K(b),K(a))&&qh(function(d){var e=N(d,0,null);d=N(d,1,null);return yX.B?yX.B(e,d):yX.call(null,e,d)},Qh.D(Ni,a,b)):a.C?a.C(b):a.call(null,b)};function zX(a){return a instanceof A&&F.B("$",H(vg(a)))}
function AX(a){return a instanceof A&&F.B("?",H(vg(a)))}function BX(a){return a instanceof D||"string"===typeof a}function CX(a){return yX(new X(null,2,5,Z,[BX,wo],null),a)}function DX(a,b,c,d){for(var e=b.length,f=d.length,h=Array(e+f),k=0;;)if(k<e)h[k]=a[b[k]],k+=1;else break;for(a=0;;)if(a<f)h[e+a]=c[d[a]],a+=1;else break;return h}
var EX=function EX(a,b){var d=Zg(a),e=B.B(d,aA);d=B.B(d,xq);var f=Zg(b),h=B.B(f,aA);f=B.B(f,xq);if(F.B(e,h))return new vX(e,fi.B(Ji(d),f),null,null,null);if(xX(e,h)){if(qh(hc,kj(e))){var k=Ji(function(){return function v(u){return new wg(null,function(){for(;;){var z=G(u);if(z){if(Af(z)){var C=Pd(z),E=K(C),I=Ag(E);a:for(var O=0;;)if(O<E){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=new X(null,2,5,Z,[P,e.C?e.C(T):e.call(null,T)],null);I.add(T);O+=1}else{C=!0;break a}return C?Cg(Gg(I),v(Qd(z))):Cg(Gg(I),
null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ze(new X(null,2,5,Z,[C,e.C?e.C(I):e.call(null,I)],null),v(ue(z)))}return null}},null,null)}(h)}()),m=w.B(bg,kj(e))+1;b=Jd(w.D(function(p,u){for(var v=Array(m),z=G(k),C=null,E=0,I=0;;)if(I<E){var O=C.Da(null,I),P=N(O,0,null);O=N(O,1,null);v[O]=u[P];I+=1}else if(z=G(z))Af(z)?(E=Pd(z),z=Qd(z),C=E,E=K(E)):(E=H(z),C=N(E,0,null),E=N(E,1,null),v[E]=u[C],z=J(z),C=null,E=0),I=0;else break;return Mg.B(p,v)},Hd(Ji(d)),f));return new vX(e,b,null,null,null)}var n=
Hk(jj(vk.I(M([e,h]))),Qk.P());d=function(){var p=new vX(n,jf,null,null,null);return EX.B?EX.B(p,a):EX.call(null,p,a)}();return EX.B?EX.B(d,b):EX.call(null,d,b)}throw tm(["Can’t sum relations with different attrs: ",rl.I(M([e]))," and ",rl.I(M([h]))].join(""),new q(null,1,[yx,ep],null));},FX=function FX(a){switch(arguments.length){case 0:return FX.P();case 2:return FX.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
FX.P=function(){return new vX(W,new X(null,1,5,Z,[[]],null),null,null,null)};FX.B=function(a,b){var c=jj(aA.C(a)),d=jj(aA.C(b)),e=Of(Qh.B(aA.C(a),c)),f=Of(Qh.B(aA.C(b),d));return new vX(Hk(V.B(c,d),Qk.P()),Jd(w.D(function(h,k){return w.D(function(m,n){return Mg.B(m,DX(k,e,n,f))},h,xq.C(b))},Hd(jf),xq.C(a))),null,null,null)};FX.aa=2;function GX(a){a=Qh.B($r,Ji(Fk(fW(jf,a))));return new vX(Hk(a,Qk.P()),jf,null,null,null)}
function HX(a,b){if(null!=a&&null!=a.Ff)a=a.Ff(a,b);else{var c=HX[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=HX._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IBinding.in-\x3erel",a);}return a}wW.prototype.Ff=function(){return FX.P()};xW.prototype.Ff=function(a,b){return new vX(nf([ji(this,new X(null,2,5,Z,[iA,$r],null)),0]),new X(null,1,5,Z,[wc(new X(null,1,5,Z,[b],null))],null),null,null,null)};
zW.prototype.Ff=function(a,b){var c=this;if(QS(b))return tf(b)?GX(c):w.B(EX,Qh.B(function(d){return HX(c.binding,d)},b));throw tm(["Cannot bind value ",rl.I(M([b]))," to collection ",rl.I(M([cW(c)]))].join(""),new q(null,3,[yx,eo,gs,b,Mr,cW(c)],null));};
yW.prototype.Ff=function(a,b){if(QS(b)){if(K(b)<K(this.bindings))throw tm(["Not enough elements in a collection ",rl.I(M([b]))," to bind tuple ",rl.I(M([cW(this)]))].join(""),new q(null,3,[yx,eo,gs,b,Mr,cW(this)],null));return w.B(FX,Qh.D(function(c,d){return HX(c,d)},this.bindings,b))}throw tm(["Cannot bind value ",rl.I(M([b]))," to tuple ",rl.I(M([cW(this)]))].join(""),new q(null,3,[yx,eo,gs,b,Mr,cW(this)],null));};
function IX(a,b){var c=N(b,0,null);b=N(b,1,null);c instanceof xW&&iA.C(c)instanceof gW?a=ni.ma(a,is,Q,ji(c,new X(null,2,5,Z,[iA,$r],null)),b):c instanceof xW&&iA.C(c)instanceof iW?(c=Q.D,b="string"===typeof b?dN(b):b,mX(b),b=$l(ff,b),a=c.call(Q,a,rB,b)):a=ni.R(a,Gr,hf,HX(c,b));return a}
function JX(a,b,c){var d=K(b),e=K(c);if(d<e)throw tm(["Extra inputs passed, expected: ",rl.I(M([gi.B(function(f){return cw.C(rf(f))},b)])),", got: ",rl.I(M([e]))].join(""),new q(null,3,[yx,gx,zv,b,RB,c],null));if(d>e)throw tm(["Too few inputs passed, expected: ",rl.I(M([gi.B(function(f){return cw.C(rf(f))},b)])),", got: ",rl.I(M([e]))].join(""),new q(null,3,[yx,gx,zv,b,RB,c],null));return w.D(IX,a,Hk(b,c))}var KX=null,LX=null;
function MX(a,b){var c=a.C?a.C(b):a.call(null,b);return S(KX,b)?function(d){d=d[c];return"number"===typeof d?d:wf(d)?$T(LX,d):WR(d)?$T(LX,d):d}:function(d){return d[c]}}function NX(a){if(1===K(a))return H(a);var b=Of(a);return function(c){return G(b.map(function(d){return d.C?d.C(c):d.call(null,c)}))}}function OX(a,b){for(var c=Hd(W);;){var d=H(b);if(null==d)return Jd(c);var e=a.C?a.C(d):a.call(null,d);b=J(b);c=Ng(c,e,hf.B(B.D(c,e,ve),d))}}
function PX(a,b){var c=xq.C(a),d=xq.C(b),e=aA.C(a),f=aA.C(b);a=Ji(wX(aA.C(a),aA.C(b)));var h=Qh.B(function(v){return MX(e,v)},a),k=Qh.B(function(v){return MX(f,v)},a);a=jj(e);b=Ji(uI.B(Ek(jj(f)),Ek(jj(e))));var m=Of(Qh.B(e,a)),n=Of(Qh.B(f,b));h=NX(h);var p=OX(h,c),u=NX(k);c=Jd(w.D(function(v,z){var C=u.C?u.C(z):u.call(null,z);C=B.B(p,C);return null==C?v:w.D(function(E,I){return Mg.B(E,DX(I,m,z,n))},v,C)},Hd(jf),d));return new vX(Hk(V.B(a,b),Qk.P()),c,null,null,null)}
function QX(a,b){var c=Zg(a),d=B.B(c,aA);c=B.B(c,xq);b=Zg(b);var e=B.B(b,aA);b=B.B(b,xq);var f=wX(d,e),h=Qh.B(function(n){return MX(e,n)},f);h=NX(h);var k=OX(h,b);b=Qh.B(function(n){return MX(d,n)},f);var m=NX(b);return Q.D(a,xq,hi(function(n){n=m.C?m.C(n):m.call(null,n);return null==(k.C?k.C(n):k.call(null,n))},c))}
function RX(a,b){var c=gi.B(function(d){return F.B(d,wo)||AX(d)?null:d},b);a=tT(a,c);b=fi.B(W,di(function(d){var e=N(d,0,null);N(d,1,null);return AX(e)},Qh.D(Ni,b,new X(null,4,5,Z,["e","a","v","tx"],null))));return new vX(b,a,null,null,null)}
function SX(a,b){a=di(function(d){a:for(var e=b;;){var f=d;if(r(r(f)?e:f)){f=H(d);var h=H(e);if(F.B(h,wo)||AX(h)||F.B(f,h))d=J(d),e=J(e);else{d=!1;break a}}else{d=!0;break a}}return d},a);var c=fi.B(W,di(function(d){var e=N(d,0,null);N(d,1,null);return AX(e)},Qh.D(Ni,b,Qk.P())));return new vX(c,gi.B(Of,a),null,null,null)}function TX(a,b){return(null!=a?l===a.tk||(a.xe?0:nc(sT,a)):nc(sT,a))?RX(a,b):SX(a,b)}
function UX(a,b){for(var c=jf;;){var d=H(a);if(null==d)return hf.B(c,b);r(ah(wX(aA.C(b),aA.C(d))))?(a=J(a),b=PX(d,b)):(a=J(a),c=hf.B(c,d))}}function VX(a,b){return rh(function(c){return S(aA.C(c),b)?c:null},Gr.C(a))}function WX(a,b){var c=VX(a,b);if(null==c)return null;a=H(xq.C(c));null==a?b=null:(c=aA.C(c),b=c.C?c.C(b):c.call(null,b),b=a[b]);return b}function XX(a,b){return rh(function(c){return S(aA.C(a),c)},b)}
function YX(a,b){var c=di(function(e){return XX(e,b)},Gr.C(a)),d=w.B(FX,c);return new X(null,2,5,Z,[ni.D(a,Gr,function(e){return ei(Ek(c),e)}),d],null)}
function ZX(a,b,c,d){a=is.C(a);b=aA.C(b);for(var e=K(d),f=Array(e),h=Array(e),k=0;;)if(k<e){var m=Te(d,k);if(m instanceof A){var n=B.B(a,m);null==n?h[k]=B.B(b,m):f[k]=n}else f[k]=m;k+=1}else break;return c===Ni?function(p){for(var u=f.slice(0),v=0;;)if(v<e){var z=h[v];null!=z&&(u[v]=p[z]);v+=1}else break;return Ug(c,u)}:function(p){for(var u=0;;)if(u<e){var v=h[u];null!=v&&(f[u]=p[v]);u+=1}else break;return Ug(c,f)}}
function $X(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c),f=function(){var m=B.B(SU,d);if(r(m))return m;m=WX(a,d);if(r(m))return m;if(r(null))return null;if(null==VX(a,d))throw tm(["Unknown predicate '",rl.I(M([d]))," in ",rl.I(M([b]))].join(""),new q(null,3,[yx,ep,Wp,b,Bq,d],null));return null}();c=YX(a,di(le,e));var h=N(c,0,null),k=N(c,1,null);c=r(f)?function(){var m=ZX(h,k,f,e);return ni.D(k,xq,function(n){return di(m,n)})}():Q.D(k,xq,jf);return ni.R(h,Gr,hf,c)}
function aY(a,b){var c=N(b,0,null);c=G(c);var d=H(c),e=J(c);c=N(b,1,null);var f=CW(c),h=function(){var n=B.B(SU,d);if(r(n))return n;n=WX(a,d);if(r(n))return n;if(r(null))return null;if(null==VX(a,d))throw tm(["Unknown function '",rl.I(M([d]))," in ",rl.I(M([b]))].join(""),new q(null,3,[yx,ep,Wp,b,Bq,d],null));return null}();c=YX(a,di(le,e));var k=N(c,0,null),m=N(c,1,null);c=r(h)?function(){var n=ZX(k,m,h,e),p=function(){return function z(v){return new wg(null,function(){for(var C=v;;)if(C=G(C)){if(Af(C)){var E=
Pd(C),I=K(E),O=Ag(I);a:for(var P=0;;)if(P<I){var T=x(E,P),aa=n(T);null!=aa&&(T=FX.B(new vX(aA.C(m),new X(null,1,5,Z,[T],null),null,null,null),HX(f,aa)),O.add(T));P+=1}else{E=!0;break a}return E?Cg(Gg(O),z(Qd(C))):Cg(Gg(O),null)}O=H(C);E=n(O);if(null!=E)return Ze(FX.B(new vX(aA.C(m),new X(null,1,5,Z,[O],null),null,null,null),HX(f,E)),z(ue(C)));C=ue(C)}else return null},null,null)}(xq.C(m))}();return tf(p)?FX.B(m,GX(f)):w.B(EX,p)}():FX.B(Q.D(m,xq,jf),GX(f));return ni.R(k,Gr,UX,c)}
function bY(a,b){if(wf(b)){var c=zX(H(b))?cf(b):H(b);if(c instanceof A){if(AX(c)||S(new Ak(null,new q(null,6,[jB,null,oC,null,ky,null,tx,null,Ro,null,wo,null],null),null),c))return!1;if(S(rB.C(a),c))return!0;throw tm(["Unknown rule '",rl.I(M([c]))," in ",rl.I(M([b]))].join(""),new q(null,2,[yx,ep,Wp,b],null));}}return!1}var cY=Eh(0);
function dY(a,b){var c=G(a),d=H(c),e=J(c),f=Gh.B(cY,Ee),h=B.B(rB.C(b),d);return function n(m){return new wg(null,function(){for(;;){var p=G(m);if(p){var u=p;if(Af(u)){var v=Pd(u),z=K(v),C=Ag(z);return function(){for(var sa=0;;)if(sa<z){var Da=x(v,sa),fb=Da,zc=G(fb),jc=H(zc),kc=J(zc),Db=jc,Fd=G(Db),Eg=H(Fd),df=J(Fd),Dh=Eg,Le=df,Fg=kc,xe=Hk(Le,e);Dg(C,LR(function(ef,ge,he,ie,dk,Oi,Ky,Yo,Ul,nr,lu,mu,Mh,nu,ou,or,Ly,Vl,Wl,Zo,pu,qu,ru,TE,G1,cO){return function(nn){if(AX(nn)){var UE=Mh.C?Mh.C(nn):Mh.call(null,
nn);return null==UE?oe.C([vg(nn),"__auto__",t.C(cO)].join("")):UE}return nn}}(sa,fb,zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,Da,v,z,C,u,p,a,c,d,e,d,e,f,h),Fg));sa+=1}else return!0}()?Cg(Gg(C),n(Qd(u))):Cg(Gg(C),null)}var E=H(u),I=E,O=G(I),P=H(O),T=J(O),aa=P,ea=G(aa),va=H(ea),ua=J(ea),Ma=va,Ka=ua,la=T,ya=Hk(Ka,e);return Ze(LR(function(sa,Da,fb,zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Yo){return function(Ul){if(AX(Ul)){var nr=Le.C?Le.C(Ul):Le.call(null,Ul);return null==nr?oe.C([vg(Ul),"__auto__",
t.C(Yo)].join("")):nr}return Ul}}(I,O,P,T,aa,ea,va,ua,Ma,Ka,la,ya,E,u,p,a,c,d,e,d,e,f,h),la),n(ue(u)))}return null}},null,null)}(h)}function eY(a,b){a=ei(function(c){var d=N(c,0,null);c=N(c,1,null);return F.B(d,c)},Qh.D(Ni,a,b));return new X(null,2,5,Z,[Qh.B(H,a),Qh.B(cf,a)],null)}
function fY(a,b){a=G(a);var c=H(a),d=J(a);return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Ag(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=eY(d,v);v=N(z,0,null);z=N(z,1,null);v=new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Cs],null),v,M([z]))],null);p.add(v);u+=1}else{m=!0;break a}return m?Cg(Gg(p),h(Qd(k))):Cg(Gg(p),null)}p=H(k);m=eY(d,p);p=N(m,0,null);m=N(m,1,null);return Ze(new X(null,1,5,Z,[V.I(new X(null,1,5,Z,[Cs],null),p,M([m]))],null),h(ue(k)))}return null}},
null,null)}(B.B(b,c))}function gY(a){var b=Eh(jf);LR(function(c){r(AX.C?AX.C(c):AX.call(null,c))&&Gh.D(b,hf,c);return c},a);return y(b)}function hY(a,b){function c(e){e=N(e,0,null);e=G(e);H(e);e=J(e);return qh(d,e)}var d=Ek(gY(a));return new X(null,2,5,Z,[di(c,b),ei(c,b)],null)}
function iY(a,b){function c(kc){return rh(function(Db){return tf(xq.C(Db))},Gr.C(kc))}function d(kc,Db){return w.D(jY,kc,Db)}for(var e=di(AX,b),f=Hk(e,Qk.P()),h=new kf(null,new q(null,5,[Xw,jf,Xt,a,lt,new X(null,1,5,Z,[b],null),Ls,W,gt,W],null),null,1,null),k=new vX(f,jf,null,null,null);;){var m=H(h);if(null==m)return k;var n=m,p=Sk(function(){return function(kc){return!bY(a,kc)}}(h,k,n,m,e,f,d,c),lt.C(n)),u=N(p,0,null),v=N(p,1,null),z=G(v),C=H(z),E=J(z),I=C,O=E;if(null==I){b=d(Xt.C(n),u);b=kY?kY(b,
e):lY.call(null,b,e);var P=new vX(f,b,null,null,null);b=J(h);P=EX(k,P);h=b;k=P}else{var T=I,aa=G(T),ea=H(aa),va=J(aa),ua=ea,Ma=va,Ka=fY(I,Ls.C(n)),la=hY(V.B(Xw.C(n),u),V.B(Ka,gt.C(n))),ya=N(la,0,null),sa=N(la,1,null);if(r(rh(function(){return function(kc){return F.B(kc,new X(null,1,5,Z,[pg(Cs)],null))}}(h,k,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,p,u,v,z,C,E,I,O,n,m,e,f,d,c),ya)))b=J(h),P=k,h=b,k=P;else{var Da=V.B(u,ya),fb=d(Xt.C(n),Da);if(r(c(fb)))b=J(h),P=k,h=b,k=P;else{var zc=Q.D(Ls.C(n),ua,hf.B(B.D(Ls.C(n),
ua,jf),Ma)),jc=dY(I,a);b=V.B(function(){return function(kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Yo,Ul,nr,lu,mu,Mh,nu,ou,or,Ly,Vl,Wl,Zo,pu){return function TE(ru){return new wg(null,function(G1,cO,nn,UE,eO,fO,b4,c4,d4,e4,f4,g4,h4,i4,j4,gO,k4,l4,m4,n4,o4,p4,q4,hO){return function(){for(;;){var pr=G(ru);if(pr){if(Af(pr)){var Ny=Pd(pr),iO=K(Ny),tu=Ag(iO);a:for(var VE=0;;)if(VE<iO){var WE=x(Ny,VE);WE=new q(null,5,[Xw,eO,Xt,fO,lt,fi.D(jf,Jl,M([WE,hO])),Ls,nn,gt,gO],null);tu.add(WE);VE+=1}else{Ny=
!0;break a}return Ny?Cg(Gg(tu),TE(Qd(pr))):Cg(Gg(tu),null)}tu=H(pr);return Ze(new q(null,5,[Xw,eO,Xt,fO,lt,fi.D(jf,Jl,M([tu,hO])),Ls,nn,gt,gO],null),TE(ue(pr)))}return null}}}(kc,Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk,Oi,Ky,Yo,Ul,nr,lu,mu,Mh,nu,ou,or,Ly,Vl,Wl,Zo,pu),null,null)}}(h,k,zc,jc,Da,fb,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,p,u,v,z,C,E,I,O,n,m,e,f,d,c)(jc)}(),J(h));P=k;h=b;k=P}}}}}
function mY(a,b){if(null!=a?l===a.Ji||(a.xe?0:nc(zT,a)):nc(zT,a)){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null),f=N(b,3,null);return Ti(new X(null,4,5,Z,[r(function(){var h=CX(c);return r(h)?h:BX(c)}())?VT(a,c):c,d,r(function(){if(r(e)){var h=BX(d);return h?(h=UT(a,d))?(h=CX(e),r(h)?h:BX(e)):h:h}return e}())?VT(a,e):e,r(CX(f))?VT(a,f):f],null),0,K(b))}return b}
function nY(a,b){var c=N(b,0,null),d=N(b,1,null),e=N(b,2,null);b=N(b,3,null);c=AX(c)?hf.B(Ck,c):Ck;c=AX(b)?hf.B(c,b):c;return AX(e)&&!AX(d)&&UT(a,d)?hf.B(c,e):c}function oY(a,b){return Q.D(a,Gr,Bh(function(c){var d=ah(xk(aA.C(c),b));return null==d?null:Q.D(c,aA,d)},Gr.C(a)))}function pY(a){return fi.B(Ck,bi(function(b){return jj(aA.C(b))},M([Gr.C(a)])))}
function qY(a,b,c){if(wI(b,a))return null;a=uI.B(Ek(b),a);throw tm(["Insufficient bindings: ",rl.I(M([a]))," not bound in ",rl.I(M([c]))].join(""),new q(null,3,[yx,ep,Wp,c,rp,a],null));}function rY(a,b,c){b=gi.B(function(d){return uI.B(Ek(gY(d)),a)},b);if(r(Ug(F,b)))return null;throw tm(["All clauses in 'or' must use same set of free vars, had ",rl.I(M([b]))," in ",rl.I(M([c]))].join(""),new q(null,3,[yx,ep,Wp,c,rp,b],null));}
function sY(a,b,c){for(var d=Ek(ei(a,b)),e=G(c),f=null,h=0,k=0;;)if(k<h){c=f.Da(null,k);var m=ah(uI.B(d,Ek(gY(c))));if(null!=m)throw e=m,el(ol(M([c,a,b,d]),Zb())),r(Vb)&&ql(),tm(["All clauses in 'or' must use same set of free vars, had ",rl.I(M([e]))," not bound in ",rl.I(M([c]))].join(""),new q(null,3,[yx,ep,Wp,c,rp,e],null));k+=1}else if(c=G(e)){e=c;if(Af(e))f=Pd(e),e=Qd(e),c=f,h=K(f),f=c;else{c=H(e);f=ah(uI.B(d,Ek(gY(c))));if(null!=f)throw e=f,el(ol(M([c,a,b,d]),Zb())),r(Vb)&&ql(),tm(["All clauses in 'or' must use same set of free vars, had ",
rl.I(M([e]))," not bound in ",rl.I(M([c]))].join(""),new q(null,3,[yx,ep,Wp,c,rp,e],null));e=J(e);f=null;h=0}k=0}else return null}var jY=function jY(a){switch(arguments.length){case 2:return jY.B(arguments[0],arguments[1]);case 3:return jY.D(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};jY.B=function(a,b){return jY.D(a,b,b)};
jY.D=function(a,b,c){for(;;){var d=yX,e=b;if(r(function(){var P=new X(null,1,5,Z,[new X(null,2,5,Z,[le,lC],null)],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return qY(pY(a),di(AX,J(H(b))),b),$X(a,b);if(r(function(){var P=new X(null,2,5,Z,[new X(null,2,5,Z,[le,lC],null),wo],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return qY(pY(a),di(AX,J(H(b))),b),aY(a,b);if(r(function(){var P=new X(null,2,5,Z,[zX,lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var f=G(b);c=H(f);f=J(f);var h=
LX;LX=B.B(is.C(a),c);try{return jY.D(a,f,b)}finally{LX=h}}else{if(r(function(){var P=new X(null,2,5,Z,[Ro,lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){var k=b,m=G(k),n=H(m),p=J(m);f=n;h=p;var u=rY(pY(a),h,b),v=Qh.B(function(P){return function(T){return tY.B?tY.B(P,T):tY.call(null,P,T)}}(a,b,c,k,m,n,p,f,h,u,d,e),h);b=Qh.B(function(){return function(P){return w.B(PX,Gr.C(P))}}(a,b,c,k,m,n,p,f,h,u,v,d,e),v);return Q.D(H(v),Gr,new X(null,1,5,Z,[w.B(EX,b)],null))}if(r(function(){var P=new X(null,
3,5,Z,[tx,new X(null,2,5,Z,[new X(null,1,5,Z,[lC],null),lC],null),lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){h=G(b);f=H(h);h=J(h);k=H(h);f=J(h);k=G(k);h=H(k);k=J(k);u=h;h=f;f=pY(a);qY(f,u,c);sY(f,k,h);c=Jg(tx,V.B(u,k),h);f=b;b=c;c=f;continue}else{if(r(function(){var P=new X(null,3,5,Z,[tx,new X(null,1,5,Z,[lC],null),lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){n=b;p=G(n);var z=H(p),C=J(p);f=z;var E=H(C),I=J(C);k=E;h=I;var O=Ek(k);u=sY(pY(a),O,h);m=oY(a,O);v=Qh.B(function(P,
T,aa,ea,va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc){return function(kc){return oY(tY.B?tY.B(jc,kc):tY.call(null,jc,kc),fb)}}(a,b,c,n,p,z,C,f,E,I,k,h,O,u,m,d,e),h);b=Qh.B(function(){return function(P){return w.B(PX,Gr.C(P))}}(a,b,c,n,p,z,C,f,E,I,k,h,O,u,m,v,d,e),v);b=w.B(EX,b);return ni.R(a,Gr,UX,b)}if(r(function(){var P=new X(null,2,5,Z,[jB,lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return c=G(b),b=H(c),c=J(c),f=b,b=c,w.D(tY,a,b);if(r(function(){var P=new X(null,2,5,Z,[oC,lC],null),T=e;return d.B?
d.B(P,T):d.call(null,P,T)}())){f=G(b);b=H(f);h=J(f);f=b;b=h;f=pY(a);h=Ek(gY(b));if(tf(tI.B(f,h)))throw tm(["Insufficient bindings: none of ",rl.I(M([h]))," is bound in ",rl.I(M([c]))].join(""),new q(null,2,[yx,ep,Wp,c],null));u=null;a=Q.D(a,Gr,new X(null,1,5,Z,[w.B(PX,Gr.C(a))],null));b=w.D(tY,a,b);b=QX(H(Gr.C(a)),w.B(PX,Gr.C(b)));return Q.D(a,Gr,new X(null,1,5,Z,[b],null))}if(r(function(){var P=new X(null,3,5,Z,[ky,new X(null,1,5,Z,[lC],null),lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}()))return b=
G(b),f=H(b),b=J(b),f=H(b),b=J(b),k=f,f=pY(a),u=qY(f,k,c),a=Q.D(a,Gr,new X(null,1,5,Z,[w.B(PX,Gr.C(a))],null)),m=oY(a,k),b=oY(w.D(tY,m,b),k),b=QX(H(Gr.C(a)),w.B(PX,Gr.C(b))),Q.D(a,Gr,new X(null,1,5,Z,[b],null));if(r(function(){var P=new X(null,1,5,Z,[lC],null),T=e;return d.B?d.B(P,T):d.call(null,P,T)}())){c=LX;b=mY(c,b);f=TX(c,b);h=KX;KX=(null!=c?l===c.Ji||(c.xe?0:nc(zT,c)):nc(zT,c))?nY(c,b):KX;try{return ni.R(a,Gr,UX,f)}finally{KX=h}}else throw Error(["No matching clause: ",t.C(e)].join(""));}}break}};
jY.aa=3;var tY=function tY(a,b){if(bY(a,b))if(zX(H(b))){var d=LX;LX=B.B(is.C(a),H(b));try{var e=J(b);return tY.B?tY.B(a,e):tY.call(null,a,e)}finally{LX=d}}else return ni.R(a,Gr,UX,iY(a,b));else return jY.B(a,b)};function uY(a,b){var c=LX;LX=B.B(is.C(a),co);try{return w.D(tY,a,b)}finally{LX=c}}
function lY(a){switch(arguments.length){case 2:return kY(arguments[0],arguments[1]);case 3:return vY(arguments[0],arguments[1],arguments[2]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}}function kY(a,b){a=Gr.C(a);return vY(new X(null,1,5,Z,[Array(K(b))],null),a,b)}
function vY(a,b,c){for(;;){var d=H(b);if(null==d)return a;if(tf(xq.C(d)))return jf;var e=xk(aA.C(d),c);if(tf(e)){var f=a,h=J(b),k=c;a=f;b=h;c=k}else{var m=Of(Qh.B(function(p,u,v,z){return function(C){return B.B(z,C)}}(a,b,c,e,d),c)),n=K(c);f=function(){return function(p,u,v,z,C,E,I){return function T(P){return new wg(null,function(aa,ea,va,ua,Ma,Ka,la){return function(){for(var ya=P;;){var sa=G(ya);if(sa){var Da=sa,fb=H(Da);if(sa=G(function(zc,jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe){return function he(ge){return new wg(null,
function(ie,dk,Oi,Ky,Yo,Ul,nr,lu,mu){return function(){for(;;){var Mh=G(ge);if(Mh){if(Af(Mh)){var nu=Pd(Mh),ou=K(nu),or=Ag(ou);return function(){for(var Vl=0;;)if(Vl<ou){for(var Wl=x(nu,Vl),Zo=or,pu=uc(Yo),qu=0;;)if(qu<mu){var ru=lu[qu];null!=ru&&(pu[qu]=Wl[ru]);qu+=1}else break;Zo.add(pu);Vl+=1}else return!0}()?Cg(Gg(or),he(Qd(Mh))):Cg(Gg(or),null)}var Ly=H(Mh);return Ze(function(){for(var Vl=uc(Yo),Wl=0;;)if(Wl<mu){var Zo=lu[Wl];null!=Zo&&(Vl[Wl]=Ly[Zo]);Wl+=1}else break;return Vl}(),he(ue(Mh)))}return null}}}(zc,
jc,kc,Db,Fd,Eg,df,Dh,Le,Fg,xe),null,null)}}(ya,aa,ea,va,fb,Da,sa,ua,Ma,Ka,la)(xq.C(la))))return V.B(sa,T(ue(ya)));ya=ue(ya)}else return null}}}(p,u,v,z,C,E,I),null,null)}}(a,b,c,m,n,e,d)(a)}();h=J(b);k=c;a=f;b=h;c=k}}}function wY(a,b){return Ek(Qh.B(Ji,kY(a,b)))}
function xY(a,b){if(null!=a&&null!=a.Gf)a=a.Gf(a,b);else{var c=xY[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=xY._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("IContextResolve.-context-resolve",a);}return a}eW.prototype.Gf=function(a,b){return WX(b,this.symbol)};gW.prototype.Gf=function(a,b){return ji(b,new X(null,2,5,Z,[is,this.symbol],null))};kW.prototype.Gf=function(){var a=B.B(ZU,this.symbol);return r(a)?a:null};jW.prototype.Gf=function(){return this.value};
function yY(a,b,c){return gi.R(function(d,e,f){if(MW(d)){e=xY(AD.C(d),b);d=Qh.B(function(k){return xY(k,b)},Gk(BD.C(d)));var h=Qh.B(function(k){return Te(k,f)},c);return Ug(e,V.B(d,new X(null,1,5,Z,[h],null)))}return e},a,H(c),Qk.P())}function zY(a){var b=th(MW);return ei(fc,Qh.D(function(c,d){return r(b.C?b.C(c):b.call(null,c))?d:null},a,Qk.P()))}
function AY(a,b,c){var d=zY(a);return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Ag(n);a:for(var u=0;;)if(u<n){var v=x(m,u);N(v,0,null);v=N(v,1,null);v=yY(a,b,v);p.add(v);u+=1}else{m=!0;break a}return m?Cg(Gg(p),h(Qd(k))):Cg(Gg(p),null)}p=H(k);N(p,0,null);p=N(p,1,null);return Ze(yY(a,b,p),h(ue(k)))}return null}},null,null)}($l(function(f){return Qh.B(function(h){return Te(f,h)},d)},c))}
function BY(a,b){return w.D(function(c,d){return hf.B(c,a.C?a.C(d):a.call(null,d))},lf(b),b)}function CY(a,b){var c=Ms.C(a),d=Qk.B(0,K(c));return BY(function(e){return w.D(function(f,h){return Q.D(f,Te(c,h),Te(e,h))},W,d)},b)}function DY(a,b,c){if(null!=a&&null!=a.Hf)a=a.Hf(a,b,c);else{var d=DY[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=DY._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("IPostProcess.-post-process",a);}return a}
IW.prototype.Hf=function(a,b,c){return null==b?c:CY(b,c)};JW.prototype.Hf=function(a,b,c){return fi.D(jf,Qh.C(H),c)};KW.prototype.Hf=function(a,b,c){return ff(c)};LW.prototype.Hf=function(a,b,c){return null!=b?H(CY(b,new X(null,1,5,Z,[H(c)],null))):H(c)};
function EY(a,b,c){var d=function(){return function h(f){return new wg(null,function(){for(;;){var k=G(f);if(k){if(Af(k)){var m=Pd(k),n=K(m),p=Ag(n);return function(){for(var v=0;;)if(v<n){var z=x(m,v),C=p;if(NW(z)){var E=xY(cw.C(z),b);z=xY(ED.C(z),b);E=EV(E,z)}else E=null;C.add(E);v+=1}else return!0}()?Cg(Gg(p),h(Qd(k))):Cg(Gg(p),null)}var u=H(k);return Ze(NW(u)?function(){var v=xY(cw.C(u),b),z=xY(ED.C(u),b);return EV(v,z)}():null,h(ue(k)))}return null}},null,null)}(a)}();return function h(f){return new wg(null,
function(){for(;;){var k=G(f);if(k){var m=k;if(Af(m)){var n=Pd(m),p=K(n),u=Ag(p);return function(){for(var z=0;;)if(z<p){var C=x(n,z);Dg(u,gi.D(function(){return function(E,I){return r(E)?DV(E,I):I}}(z,C,n,p,u,m,k,d),d,C));z+=1}else return!0}()?Cg(Gg(u),h(Qd(m))):Cg(Gg(u),null)}var v=H(m);return Ze(gi.D(function(){return function(z,C){return r(z)?DV(z,C):C}}(v,m,k,d),d,v),h(ue(m)))}return null}},null,null)}(c)}
function hG(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;b=1<b.length?new se(b.slice(1),0,null):null;return FY(arguments[0],b)}
function FY(a,b){var c=TR(tX,a,function(){return sX(a)}),d=fy.C(c),e=HW(d),f=bi(EW,M([HW(d)])),h=K(e),k=du.C(c);k=V.B(f,Qh.B($r,k));f=wf(a)?pX(a):a;var m=Tn.C(f);b=JX(new uX(jf,W,W,null,null,null),Ys.C(c),b);k=wY(uY(b,m),k);f=r(hE.C(f))?gi.B(function(n){return Ji(Ti(n,0,h))},k):k;f=r(rh(MW,e))?AY(e,b,f):f;e=r(rh(NW,e))?EY(e,b,f):f;return DY(d,CB.C(c),e)};function GY(a,b){var c=Eh(null);Gh.B(a,function(d){d=sU(XT(new q(null,5,[Fw,d,qA,d,Zy,jf,KE,W,Gn,null],null)),b);Fh(c,d);return qA.C(d)});return y(c)}function HY(a){var b=gG;a=GY(b,a);b=jA.C(rf(b));b=null==b?null:y(b);b=G(b);for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);N(f,0,null);f=N(f,1,null);f.C?f.C(a):f.call(null,a);e+=1}else if(b=G(b))Af(b)?(d=Pd(b),b=Qd(b),c=d,d=K(d)):(c=H(b),N(c,0,null),c=N(c,1,null),c.C?c.C(a):c.call(null,a),b=J(b),c=null,d=0),e=0;else break;return a}
function IY(a){var b=gG,c=XT(new q(null,4,[Fw,y(b),qA,a,Zy,V.B(Qh.B(function(k){return Q.D(k,Ws,!1)},vT(y(b),SA,jf)),vT(a,SA,jf)),Gn,null],null));Fh(b,a);a=G(function(){var k=jA.C(rf(b));return null==k?null:y(k)}());for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);N(h,0,null);h=N(h,1,null);h.C?h.C(c):h.call(null,c);f+=1}else if(a=G(a))Af(a)?(e=Pd(a),a=Qd(a),d=e,e=K(e)):(d=H(a),N(d,0,null),d=N(d,1,null),d.C?d.C(c):d.call(null,c),a=J(a),d=null,e=0),f=0;else break}
function JY(a){var b=gG,c=Yl.P();Gh.R(jA.C(rf(b)),Q,c,a)}
for(var al=G(new q(null,2,[Mz,function(a){return Ug(fT,a)},bB,function(a){var b=Zg(a);a=B.B(b,Yy);b=B.B(b,my);return QT(Qh.B(function(c){var d=N(c,0,null),e=N(c,1,null),f=N(c,2,null);c=N(c,3,null);return fT.R(d,e,f,c)},b),a)}],null)),zl=null,Al=0,Xl=0;;)if(Xl<Al){var xm=zl.Da(null,Xl),ym=N(xm,0,null),Bm=N(xm,1,null),Mm=ym,Qm=Bm;B.B(y(cN),Mm);Gh.R(cN,Q,Mm,Qm);Xl+=1}else{var Vm=G(al);if(Vm){var cn=Vm;if(Af(cn)){var on=Pd(cn),qn=Qd(cn),wn=on,yn=K(on);al=qn;zl=wn;Al=yn}else{var Fn=H(cn),Hn=N(Fn,0,null),
Ln=N(Fn,1,null),On=Hn,Pn=Ln;B.B(y(cN),On);Gh.R(cN,Q,On,Pn);al=J(cn);zl=null;Al=0}Xl=0}else break};var dZ={},eZ={},fZ=[];function gZ(a,b){var c=eZ[a];if(void 0!==c)return c;try{fZ.push(a);var d=dZ[a],e=shadow$provide[a];if(void 0===d){if(void 0===e)throw"Module not provided: "+a;d={exports:{}};dZ[a]=d}if(e){delete shadow$provide[a];try{e.call(d,ca,gZ,d,d.exports)}catch(h){throw console.warn("shadow-cljs - failed to load",a),h;}if(b){var f=b.globals;if(f)for(a=0;a<f.length;a++)window[f[a]]=d.exports}}}finally{fZ.pop()}return d.exports}gZ.cache={};gZ.resolve=function(a){return a};
function hZ(a){return gZ(a,{})};var iZ=hZ(3);var jZ={};var kZ={},lZ="undefined"!==typeof window&&null!=window.document,mZ=new Ak(null,new q(null,2,["aria",null,"data",null],null),null);function nZ(a){return 2>K(a)?a.toUpperCase():[lg.D(a,0,1).toUpperCase(),lg.B(a,1)].join("")}function oZ(a){if("string"===typeof a)return a;a=vg(a);var b=SE(a,/-/,0);var c=G(b);b=H(c);c=J(c);return r(mZ.C?mZ.C(b):mZ.call(null,b))?a:Vg(t,b,Qh.B(nZ,c))}
function pZ(a){var b=function(){var c=function(){var d=of(a);if(d){d=a.displayName;if(r(d))return d;d=a.name;return"string"===typeof d&&G(d)?d:null}return d}();if(r(c))return c;c=function(){var d=null!=a?a.T&4096||l===a.eh?!0:!1:!1;return d?vg(a):d}();if(r(c))return c;c=rf(a);return xf(c)?Ht.C(c):null}();return r(b)?OE(t.C(b),"$","."):null}function qZ(a){return a instanceof D||a instanceof A}
var rZ=function rZ(a){switch(arguments.length){case 0:return rZ.P();case 1:return rZ.C(arguments[0]);case 2:return rZ.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return rZ.I(arguments[0],arguments[1],c)}};rZ.P=function(){return null};rZ.C=function(a){return uf(a)?(a=Bh(function(b){return r(b)?qZ(b)?vg(b):b:null},a),G(a)?PE(" ",a):null):qZ(a)?vg(a):a};
rZ.B=function(a,b){return r(a)?r(b)?[t.C(rZ.C(a))," ",t.C(rZ.C(b))].join(""):rZ.C(a):rZ.C(b)};rZ.I=function(a,b,c){return w.D(rZ,rZ.B(a,b),c)};rZ.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};rZ.aa=2;var sZ=!1;function tZ(a){if(xf(a))try{var b=B.B(a,XD)}catch(c){b=null}else b=null;return b}
function uZ(a){var b=XD.C(rf(a));if(r(b))return b;b=tZ(N(a,1,null));if(r(b))return b;b=N(a,0,null);switch(b instanceof D?b.ba:null){case "\x3e":case "f\x3e":return tZ(N(a,2,null));case "r\x3e":return a=N(a,2,null),null==a?null:a.key;default:return null}};var vZ=0;function wZ(a){return setTimeout(a,16)}var xZ=lZ?function(){var a=window;return function(){var b=a.requestAnimationFrame;if(r(b))return b;b=a.webkitRequestAnimationFrame;if(r(b))return b;b=a.mozRequestAnimationFrame;if(r(b))return b;b=a.msRequestAnimationFrame;return r(b)?b:wZ}().bind(a)}():wZ;function yZ(a,b){return a.ph-b.ph}function zZ(){return null}function AZ(a){for(var b=a.length,c=0;;)if(c<b){var d=a[c];d.P?d.P():d.call(null);c+=1}else return null}
function BZ(a,b,c){b.push(c);return a.schedule()}function CZ(){this.Og=!1}g=CZ.prototype;g.flush_after_render=function(){var a=this.eg;if(null==a)return null;this.eg=null;return AZ(a)};g.queue_render=function(a){null==this.tg&&(this.tg=[]);return BZ(this,this.tg,a)};g.schedule=function(){function a(){return b.run_queues()}var b=this;if(this.Og)return null;this.Og=!0;return xZ.C?xZ.C(a):xZ.call(null,a)};g.flush_before_flush=function(){var a=this.fg;if(null==a)return null;this.fg=null;return AZ(a)};
g.flush_queues=function(){this.flush_before_flush();zZ();this.flush_render();return this.flush_after_render()};g.run_queues=function(){this.Og=!1;return this.flush_queues()};g.add_before_flush=function(a){null==this.fg&&(this.fg=[]);return BZ(this,this.fg,a)};g.add_after_render=function(a){null==this.eg&&(this.eg=[]);return BZ(this,this.eg,a)};
g.flush_render=function(){var a=this.tg;if(null==a)return null;this.tg=null;a:{a.sort(yZ);for(var b=a.length,c=0;;)if(c<b){var d=a[c];!0===d.cljsIsDirty&&d.forceUpdate();c+=1}else break a}return null};var DZ=new CZ;function EZ(a){if(r(a.cljsIsDirty))return null;a.cljsIsDirty=!0;return DZ.queue_render(a)};function FZ(a){if(null!=a&&null!=a.Hl)a=a.id;else{var b=FZ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=FZ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Compiler.get-id",a);}return a}function GZ(a,b,c){if(null!=a&&null!=a.ij)a=a.ij(a,b,c);else{var d=GZ[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=GZ._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("Compiler.parse-tag",a);}return a}
function HZ(a,b){if(null!=a&&null!=a.gj)a=a.gj(a,b);else{var c=HZ[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=HZ._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Compiler.as-element",a);}return a}
function IZ(a,b,c,d,e){if(null!=a&&null!=a.hj)a=a.hj(a,b,c,d,e);else{var f=IZ[ha(null==a?null:a)];if(null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else if(f=IZ._,null!=f)a=f.ma?f.ma(a,b,c,d,e):f.call(null,a,b,c,d,e);else throw pc("Compiler.make-element",a);}return a};var JZ;function KZ(a,b){b.Yg=null;a:{var c=JZ;JZ=b;try{var d=a.P?a.P():a.call(null);break a}finally{JZ=c}d=void 0}a=b.Yg;b.ye=!1;a:{c=b.Te;var e=null==a?0:a.length,f=e===(null==c?0:c.length);if(f)for(f=0;;){var h=f===e;if(h){c=h;break a}if(a[f]===c[f])f+=1;else{c=!1;break a}}else c=f}c||b._update_watching(a);return d}function LZ(a){var b=JZ;if(null!=b){var c=b.Yg;null==c?b.Yg=[a]:c.push(a)}}function MZ(a,b,c){a.ac=Q.D(a.ac,b,c);return a.ei=null}function NZ(a,b){a.ac=R.B(a.ac,b);return a.ei=null}
function OZ(a,b,c){var d=a.ei;d=null==d?a.ei=Sf(function(m,n,p){m.push(n);m.push(p);return m},[],a.ac):d;for(var e=d.length,f=0;;)if(f<e){var h=d[f],k=d[f+1];k.R?k.R(h,a,b,c):k.call(null,h,a,b,c);f=2+f}else break}function PZ(a,b,c,d){yd(a,["#object[reagent.ratom.",t.C(c)," "].join(""));a:{c=JZ;JZ=null;try{var e=d;break a}finally{JZ=c}e=void 0}jl(e,a,b);return yd(a,"]")}var QZ=null;function RZ(a,b,c,d){this.state=a;this.meta=b;this.validator=c;this.ac=d;this.O=2154201088;this.T=114690}g=RZ.prototype;
g.ia=function(a,b,c){return PZ(b,c,"RAtom",new q(null,1,[yl,this.Ub(null)],null))};g.ga=function(){return this.meta};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};g.Bd=function(a,b){a=this.state;this.state=b;null!=this.ac&&OZ(this,a,b);return b};g.fh=function(a,b){return this.Bd(null,b.C?b.C(this.state):b.call(null,this.state))};g.gh=function(a,b,c){return this.Bd(null,b.B?b.B(this.state,c):b.call(null,this.state,c))};
g.hh=function(a,b,c,d){return this.Bd(null,b.D?b.D(this.state,c,d):b.call(null,this.state,c,d))};g.ih=function(a,b,c,d,e){return this.Bd(null,Xg(b,this.state,c,d,e))};g.kh=function(a,b){OZ(this,a,b)};g.mg=function(a,b,c){return MZ(this,b,c)};g.ng=function(a,b){return NZ(this,b)};g.ha=function(a,b){return new RZ(this.state,b,this.validator,this.ac)};g.Ub=function(){LZ(this);return this.state};
var SZ=function SZ(a){switch(arguments.length){case 1:return SZ.C(arguments[0]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(1),0,null);return SZ.I(arguments[0],c)}};SZ.C=function(a){return new RZ(a,null,null,null)};SZ.I=function(a,b){var c=Zg(b);b=B.B(c,bc);c=B.B(c,bq);return new RZ(a,b,c,null)};SZ.fa=function(a){var b=H(a);a=J(a);return this.I(b,a)};SZ.aa=1;
function TZ(a){var b=UZ,c=a.Qh;c=null==c?W:c;var d=c.B?c.B(Ua,null):c.call(null,Ua,null);if(null!=d)return y(d);if(null==JZ)return vc.P?vc.P():vc.call(null);d=function(){function f(h){var k=R.B(a.Qh,Ua);a.Qh=k;return null!=b?b.C?b.C(h):b.call(null,h):null}return VZ.D?VZ.D(vc,Pv,f):VZ.call(null,vc,Pv,f)}();var e=y(d);a.Qh=Q.D(c,Ua,d);return e}function UZ(a){a=a.destroy;return null==a?null:a.P?a.P():a.call(null)}function WZ(){var a=JZ;return null==a?[]:TZ(a)}
function XZ(a){if(null!=a&&null!=a.Rh)a=a.Rh(a);else{var b=XZ[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=XZ._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("IDisposable.dispose!",a);}return a}function YZ(a,b,c,d){return a._handle_change(b,c,d)}function ZZ(a){this.f=a;this.state=null;this.ye=!0;this.$i=!1;this.Zg=this.Rd=this.ac=this.Te=null;this.O=2153807872;this.T=114690}g=ZZ.prototype;g._peek_at=function(){var a=JZ;JZ=null;try{return this.Ub(null)}finally{JZ=a}};
g._handle_change=function(a,b,c){return b===c||this.ye?null:null==this.Rd?(this.ye=!0,null==QZ&&(QZ=[],!1===DZ.Og&&DZ.schedule()),QZ.push(this)):!0===this.Rd?this._run(!1):this.Rd.C?this.Rd.C(this):this.Rd.call(null,this)};
g._update_watching=function(a){var b=Ek(a),c=Ek(this.Te);this.Te=a;a=G(uI.B(b,c));for(var d=null,e=0,f=0;;)if(f<e){var h=d.Da(null,f);Ed(h,this);f+=1}else if(a=G(a))d=a,Af(d)?(a=Pd(d),f=Qd(d),d=a,e=K(a),a=f):(a=H(d),Ed(a,this),a=J(d),d=null,e=0),f=0;else break;b=G(uI.B(c,b));c=null;for(e=d=0;;)if(e<d)a=c.Da(null,e),Gd(a,this),e+=1;else if(b=G(b))c=b,Af(c)?(b=Pd(c),d=Qd(c),c=b,a=K(b),b=d,d=a):(a=H(c),Gd(a,this),b=J(c),c=null,d=0),e=0;else return null};
g._queued_run=function(){return this.ye&&null!=this.Te?this._run(!0):null};g._try_capture=function(a){try{return this.Zg=null,KZ(a,this)}catch(b){return this.Zg=this.state=a=b,this.ye=!1}};g._run=function(a){var b=this.state;a=r(a)?this._try_capture(this.f):KZ(this.f,this);this.$i||(this.state=a,null==this.ac||F.B(b,a)||OZ(this,b,a));return a};
g._set_opts=function(a){var b=Zg(a);a=B.B(b,xA);var c=B.B(b,rD),d=B.B(b,Pv);b=B.B(b,Jw);null!=a&&(this.Rd=a);null!=c&&(this.wl=c);null!=d&&(this.dj=d);return null!=b?this.$i=b:null};g.ia=function(a,b,c){return PZ(b,c,"Reaction",new q(null,1,[yl,this.Ub(null)],null))};g.ja=function(){return ka(this)};g.da=function(a,b){return this===b};
g.Rh=function(){var a=this.state,b=this.Te;this.Rd=this.state=this.Te=null;this.ye=!0;b=G(Ek(b));for(var c=null,d=0,e=0;;)if(e<d){var f=c.Da(null,e);Gd(f,this);e+=1}else if(b=G(b))c=b,Af(c)?(b=Pd(c),e=Qd(c),c=b,d=K(b),b=e):(b=H(c),Gd(b,this),b=J(c),c=null,d=0),e=0;else break;null!=this.dj&&this.dj(a);a=this.tm;if(null==a)return null;b=a.length;for(c=0;;)if(c<b)d=a[c],d.C?d.C(this):d.call(null,this),c+=1;else return null};g.Bd=function(a,b){a=this.state;this.state=b;this.wl(a,b);OZ(this,a,b);return b};
g.fh=function(a,b){a=this.Bd;var c=this._peek_at();b=b.C?b.C(c):b.call(null,c);return a.call(this,null,b)};g.gh=function(a,b,c){a=this.Bd;var d=this._peek_at();b=b.B?b.B(d,c):b.call(null,d,c);return a.call(this,null,b)};g.hh=function(a,b,c,d){a=this.Bd;var e=this._peek_at();b=b.D?b.D(e,c,d):b.call(null,e,c,d);return a.call(this,null,b)};g.ih=function(a,b,c,d,e){return this.Bd(null,Xg(b,this._peek_at(),c,d,e))};g.kh=function(a,b){OZ(this,a,b)};g.mg=function(a,b,c){return MZ(this,b,c)};
g.ng=function(a,b){a=tf(this.ac);NZ(this,b);return!a&&tf(this.ac)&&null==this.Rd?this.Rh(null):null};g.Ub=function(){var a=this.Zg;if(null!=a)throw a;(a=null==JZ)&&($Z.P?$Z.P():$Z.call(null));a&&null==this.Rd?this.ye&&(a=this.state,this.state=this.f.P?this.f.P():this.f.call(null),null==this.ac||F.B(a,this.state)||OZ(this,a,this.state)):(LZ(this),this.ye&&this._run(!1));return this.state};
function $Z(){for(;;){var a=QZ;if(null==a)return null;QZ=null;for(var b=a.length,c=0;;)if(c<b)a[c]._queued_run(),c+=1;else break}}zZ=$Z;function VZ(a){for(var b=[],c=arguments.length,d=0;;)if(d<c)b.push(arguments[d]),d+=1;else break;c=1<b.length?new se(b.slice(1),0,null):null;b=arguments[0];var e=Zg(c);c=B.B(e,xA);d=B.B(e,rD);e=B.B(e,Pv);b=new ZZ(b);b._set_opts(new q(null,3,[xA,c,rD,d,Pv,e],null));return b}var a_=VZ(null);
function b_(a,b){var c=c_,d=a_,e=KZ(a,d);null!=d.Te&&(a_=VZ(null),d._set_opts(c),d.f=a,d.Rd=function(){return EZ.C?EZ.C(b):EZ.call(null,b)},b.cljsRatom=d);return e};var d_;function e_(a,b){var c=b.argv;if(null==c){c=Z;a=a.constructor;a:for(var d=Va(b),e=d.length,f=W,h=0;;)if(h<e){var k=d[h];f=Q.D(f,ug.C(k),Wa(b,k));h+=1}else break a;b=new X(null,2,5,c,[a,f],null)}else b=c;return b}function f_(a){var b;if(b=of(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.Ce);return b}function g_(a){var b;if(b=of(a))a=null==a?null:a.prototype,b=null!=(null==a?null:a.render);return b}
function h_(a,b){for(;;){var c=a.Ce,d=!0===a.ik?c.call(a,a):function(){var e=e_(a,a.props);switch(K(e)){case 1:return c.call(a);case 2:return c.call(a,Te(e,1));case 3:return c.call(a,Te(e,1),Te(e,2));case 4:return c.call(a,Te(e,1),Te(e,2),Te(e,3));case 5:return c.call(a,Te(e,1),Te(e,2),Te(e,3),Te(e,4));default:return c.apply(a,wc(e).slice(1))}}();if(zf(d))return HZ(b,d);if(Gf(d))d=f_(d)?function(e,f,h,k,m){return function(){function n(u){var v=null;if(0<arguments.length){v=0;for(var z=Array(arguments.length-
0);v<z.length;)z[v]=arguments[v+0],++v;v=new se(z,0,null)}return p.call(this,v)}function p(u){return HZ(f,Vg(Ni,m,u))}n.aa=0;n.fa=function(u){u=G(u);return p(u)};n.I=p;return n}()}(a,b,c,null,d):d,a.Ce=d;else return d}}var c_=new q(null,1,[Jw,!0],null);
function i_(a,b){switch(a instanceof D?a.ba:null){case "getDefaultProps":throw Error("getDefaultProps not supported");case "getDerivedStateFromProps":return function(c,d){var e=b.call,f=c.argv;null!=f&&(c=N(f,1,null),c=xf(c)?c:null);return e.call(b,null,c,d)};case "getInitialState":return function(c){var d=c.kk;d=null!=d?d:c.kk=SZ.C(null);return Fh(d,b.call(c,c))};case "getSnapshotBeforeUpdate":return function(c,d){return b.call(this,this,e_(this,c),d)};case "componentWillReceiveProps":return function(c){return b.call(this,
this,e_(this,c))};case "UNSAFE_componentWillReceiveProps":return function(c){return b.call(this,this,e_(this,c))};case "shouldComponentUpdate":return function(c){var d=sZ;if(r(d))return d;d=this.props.argv;var e=c.argv,f=null==d||null==e;if(null==b){if(f)return f;try{return $g.B(d,e)}catch(h){return!1}}else return f?b.call(this,this,e_(this,this.props),e_(this,c)):b.call(this,this,d,e)};case "componentWillUpdate":return function(c,d){return b.call(this,this,e_(this,c),d)};case "UNSAFE_componentWillUpdate":return function(c,
d){return b.call(this,this,e_(this,c),d)};case "componentDidUpdate":return function(c,d,e){return b.call(this,this,e_(this,c),d,e)};case "componentWillMount":return function(){return b.call(this,this)};case "UNSAFE_componentWillMount":return function(){return b.call(this,this)};case "componentDidMount":return function(){return b.call(this,this)};case "componentWillUnmount":return function(){var c=Wa(this,"cljsRatom");null!=c&&XZ(c);this.cljsIsDirty=!1;return null==b?null:b.call(this,this)};case "componentDidCatch":return function(c,
d){return b.call(this,this,c,d)};default:return null}}var j_=new q(null,2,[tE,null,OB,null],null),k_=function(a){var b=Eh(W);return function(c){var d=B.B(y(b),c);if(null!=d)return d;d=a.C?a.C(c):a.call(null,c);Gh.R(b,Q,c,d);return d}}(function(a){if("string"===typeof a)return a;a=vg(a);a=OE(a,/(unsafe|UNSAFE)[-_]/,"UNSAFE_");a=SE(a,/-/,0);var b=G(a);a=H(b);b=J(b);return Vg(t,a,Qh.B(nZ,b))});function l_(a){return Sf(function(b,c,d){return Q.D(b,ug.C(k_(c)),d)},W,a)}
function m_(a,b){var c=function(){var h=kp.C(a);return r(h)?h:rA.C(a)}(),d=null==kp.C(a),e=function(){var h=BC.C(a);if(r(h))return h;h=pZ(c);return r(h)?h:t.C(Cl("reagent"))}(),f=Sf(function(h,k,m){var n=Q.D,p=i_(k,m);return n.call(Q,h,k,r(p)?p:m)},W,a);return Q.I(f,BC,e,M([Ty,d,kp,c,rA,function(){var h=this,k=Wa(h,"cljsRatom");h.cljsIsDirty=!1;return null==k?b_(function(){a:{var m=d_;d_=h;try{var n=h_(h,b);break a}finally{d_=m}n=void 0}return n},h):k._run(!1)}]))}
function n_(a){return Sf(function(b,c,d){c=vg(c);b[c]=d;return b},{},a)}function o_(a,b){return m_(vk.I(M([j_,l_(a)])),b)}var p_=new X(null,5,5,Z,[NA,Tz,Zr,fs,JC],null);
function q_(a,b){function c(k,m,n){iZ.Component.call(this,k,m,n);r(h)&&(h.B?h.B(this,k):h.call(null,this,k));r(f)&&(this.state=f.C?f.C(this):f.call(null,this));this.ph=vZ+=1;return this}a=o_(a,b);b=n_(Yg(R,a,BC,sn,Wq,M([rA,kp,p_])));var d=n_(xk(a,p_)),e=BC.C(a),f=sn.C(a),h=Wq.C(a);Ya(c.prototype,iZ.Component.prototype,b);r(rA.C(a))&&(c.prototype.render=rA.C(a));r(kp.C(a))&&(c.prototype.Ce=kp.C(a));r(Ty.C(a))&&(c.prototype.ik=Ty.C(a));Ya(c,iZ.Component,d);r(e)&&(c.displayName=e,c.Sa=e,c.Za=function(k){return yd(k,
e)},Object.defineProperty(c,"name",{value:e,writable:!1}));c.Wa=!0;return c.prototype.constructor=c}function r_(a,b,c){a=FZ(a);return b[a]=c}function s_(a,b){var c=Wa(a,FZ(b));null==c?f_(a)?a=r_(b,a,a):(c=rf(a),c=Q.D(c,vB,a),c=q_(c,b),a=r_(b,a,c)):a=c;return a}
function t_(a,b){for(;;){var c=b.Ce,d=b.argv,e=Ug(c,d);if(zf(e))return HZ(a,e);if(Gf(e))c=f_(e)?function(f,h,k,m,n,p){return function(){function u(z){var C=null;if(0<arguments.length){C=0;for(var E=Array(arguments.length-0);C<E.length;)E[C]=arguments[C+0],++C;C=new se(E,0,null)}return v.call(this,C)}function v(z){return HZ(f,Vg(Ni,p,z))}u.aa=0;u.fa=function(z){z=G(z);return v(z)};u.I=v;return u}()}(a,b,c,null,d,e):e,b.Ce=c;else return e}}
function u_(a,b){var c=b.argv,d=b.Ce;b=iZ.useState(0);N(b,0,null);var e=N(b,1,null),f=iZ.useRef();r(f.current)||function(){var k={forceUpdate:function(){return e.C?e.C(Ee):e.call(null,Ee)}};k.ph=vZ+=1;k.constructor=d;k.Ce=d;return f.current=k}();var h=f.current;b=Wa(h,"cljsRatom");iZ.useEffect(function(){return function(){var k=Wa(h,"cljsRatom");return null==k?null:XZ(k)}},[]);h.argv=c;h.cljsIsDirty=!1;return null==b?b_(function(){a:{var k=d_;d_=h;try{var m=t_(a,h);break a}finally{d_=k}m=void 0}return m},
h):b._run(!1)}function v_(a,b){a=a.argv;b=b.argv;var c=!1===sZ;if(c)try{return F.B(a,b)}catch(d){return!1}else return c}function w_(a,b){function c(e){return u_(a,e)}var d=Wa(b,FZ(a));if(r(d))return d;d=pZ(b);c.displayName=d;Object.defineProperty(c,"name",{value:d,writable:!1});d=iZ.memo(c,v_);r_(a,b,d);return d};var x_=new Ak(null,new q(null,6,["url",null,"tel",null,"text",null,"textarea",null,"password",null,"search",null],null),null);
function y_(a,b,c,d){var e=Zg(W);e=B.B(e,Dz);if(a===document.activeElement&&S(x_,a.type)&&"string"===typeof b&&"string"===typeof c){var f=a.value;if($g.B(f,c))return DZ.add_after_render(function(){return z_.C?z_.C(d):z_.call(null,d)});c=K(f)-a.selectionStart;c=K(b)-c;d.rg=b;a.value=b;of(e)&&(e.C?e.C(b):e.call(null,b));a.selectionStart=c;return a.selectionEnd=c}d.rg=b;a.value=b;return of(e)?e.C?e.C(b):e.call(null,b):null}
function z_(a){if(r(a.oh)){a.Hi=!1;var b=a.jk,c=a.rg,d=a.Ah;return $g.B(b,c)?y_(d,b,c,a):null}return null}function A_(a,b,c){a.rg=c.target.value;r(a.Hi)||(a.Hi=!0,DZ.add_after_render(function(){return z_(a)}));return b.C?b.C(c):b.call(null,c)}
function B_(a){var b=d_;if(r(function(){var f=null!=a;return f?(f=a.hasOwnProperty("onChange"),r(f)?a.hasOwnProperty("value"):f):f}())){var c=a.value;c=null==c?"":c;var d=a.onChange,e=a.ref;r(b.oh)||(b.oh=!0,b.rg=c);r(b.jj)||(b.jj=of(e)?function(f){b.Ah=f;return e.C?e.C(f):e.call(null,f)}:r(r(e)?e.hasOwnProperty("current"):e)?function(f){b.Ah=f;return e.current=f}:function(f){return b.Ah=f});b.jk=c;delete a.value;a.defaultValue=c;a.onChange=function(f){return A_(b,d,f)};a.ref=b.jj}}
var C_=new q(null,4,[js,"ReagentInput",FD,z_,lo,function(a){return a.oh=null},vB,function(a,b,c,d,e){B_(c);return IZ(e,a,b,c,d)}],null);var D_={},Sn,F_=/([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?/,G_={"class":"className","for":"htmlFor",charset:"charSet"};function H_(a,b){return a.hasOwnProperty(b)?Wa(a,b):null}function I_(a,b,c){if(qZ(b)){var d=H_(G_,vg(b));null==d?(d=oZ(b),b=vg(b),b=G_[b]=d):b=d}c=J_.C?J_.C(c):J_.call(null,c);a[b]=c;return a}
function J_(a){return"object"!==ha(a)?a:qZ(a)?vg(a):xf(a)?Sf(I_,{},a):uf(a)?Ol(a):Gf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){return Ug(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Ol(a)}var K_={};function L_(a,b,c){if(qZ(b)){var d=H_(K_,vg(b));null==d?(d=oZ(b),b=vg(b),b=K_[b]=d):b=d}c=J_(c);a[b]=c;return a}
function M_(a){return"object"!==ha(a)?a:qZ(a)?vg(a):xf(a)?Sf(L_,{},a):uf(a)?Ol(a):Gf(a)?function(){function b(d){var e=null;if(0<arguments.length){e=0;for(var f=Array(arguments.length-0);e<f.length;)f[e]=arguments[e+0],++e;e=new se(f,0,null)}return c.call(this,e)}function c(d){return Ug(a,d)}b.aa=0;b.fa=function(d){d=G(d);return c(d)};b.I=c;return b}():Ol(a)}
function N_(a,b,c,d,e){switch(K(b)-e){case 0:return iZ.createElement(c,d);case 1:return iZ.createElement(c,d,HZ(a,N(b,e,null)));default:return iZ.createElement.apply(null,Sf(function(f,h,k){h>=e&&f.push(HZ(a,k));return f},[c,d],b))}}function O_(a,b,c,d){this.tag=a;this.id=b;this.className=c;this.rk=d}function P_(a,b,c){a=s_(a,c);c={};c.argv=b;b=uZ(b);null!=b&&(c.key=b);return iZ.createElement(a,c)}
function Q_(a,b,c,d){var e={};e.Ce=a;e.argv=Ti(b,c,K(b));b=uZ(b);null!=b&&(e.key=b);return iZ.createElement(w_(d,a),e)}function R_(a,b,c){return g_(a)?P_(a,b,c):Q_(a,b,1,c)}var S_={};function T_(a,b){a=H_(S_,b);if(null==a){var c=J(Xk(F_,vg(b)));a=N(c,0,null);var d=N(c,1,null);c=N(c,2,null);c=null==c?null:OE(c,/\./," ");var e=$g.B(-1,a.indexOf("-"));a=new O_(a,d,c,e);return S_[b]=a}return a}
function U_(a,b,c,d){var e=a.tag,f=N(b,c,null),h=null==f||xf(f),k=function(){var p=h?f:null;var u=TC.C(p);u=r(u)?Q.D(p,TC,rZ.C(u)):p;var v=a.id;p=a.className;v=null!=v&&null==wE.C(u)?Q.D(u,wE,v):u;if(r(p)){var z=Q.D,C=rZ.B,E=TC.C(u);u=r(E)?E:ts.C(u);p=z.call(Q,v,TC,C.call(rZ,p,u))}else p=v;p=r(a.rk)?M_(p):J_(p);return r(p)?p:{}}();c+=h?1:0;a:switch(e){case "input":case "textarea":var m=!0;break a;default:m=!1}if(m){m=tZ(f);var n=function(){var p=d.Il;if(r(p))return p;p=q_(C_,d);return d.Il=p}();return HZ(d,
qf(new X(null,6,5,Z,[n,b,e,k,c,d],null),vk.I(M([r(m)?new q(null,1,[XD,m],null):null,rf(b)]))))}m=tZ(rf(b));null!=m&&(k.key=m);return IZ(d,b,e,k,c)}function V_(a,b){return wc(Qh.B(function(c){return HZ(b,c)},a))}
function W_(a,b,c){null==b&&console.error("vec-to-elem",rl.I(M([a])));var d=N(a,0,null);switch(d instanceof D?d.ba:null){case "\x3e":return c=N(a,1,null),U_(new O_(c,null,null,null),a,2,b);case "r\x3e":c=N(a,1,null);d=N(a,2,null);d=r(d)?d:{};var e=tZ(rf(a));null!=e&&(d.key=e);return IZ(b,a,c,d,3);case "f\x3e":return Q_(N(a,1,null),a,2,b);case "\x3c\x3e":return d=N(a,1,null),c=null==d||xf(d),d=J_(c?d:null),d=r(d)?d:{},c=1+(c?1:0),e=uZ(a),null!=e&&(d.key=e),IZ(b,a,iZ.Fragment,d,c);default:if(qZ(d)||
"string"===typeof d)a:for(;;)switch(c=N(a,0,null),d=vg(c),e=d.indexOf("\x3e"),e){case -1:b=U_(GZ(b,d,c),a,1,b);break a;case 0:b=null;break a;default:a=qf(new X(null,2,5,Z,[lg.D(d,0,e),Q.D(qf(a,null),0,lg.B(d,e+1))],null),rf(a))}else b=c.D?c.D(d,a,b):c.call(null,d,a,b);return b}}
var X_=function(a){var b=Cl("reagent-compiler"),c=r(lx.C(a))?R_:P_,d=B.D(a,zs,T_);if("undefined"===typeof jZ||"undefined"===typeof kZ||"undefined"===typeof D_||"undefined"===typeof Sn)Sn=function(e,f,h,k,m){this.zb=e;this.id=f;this.Ri=h;this.Jg=k;this.wc=m;this.O=393216;this.T=0},Sn.prototype.ha=function(e,f){return new Sn(this.zb,this.id,this.Ri,this.Jg,f)},Sn.prototype.ga=function(){return this.wc},Sn.prototype.Hl=function(){return this.id},Sn.prototype.ij=function(e,f,h){return this.Jg.D?this.Jg.D(this,
f,h):this.Jg.call(null,this,f,h)},Sn.prototype.gj=function(e,f){e=this.Ri;return"object"!==ha(f)?f:zf(f)?W_(f,this,e):Df(f)?V_(f,this):qZ(f)?vg(f):(null!=f?f.O&2147483648||l===f.Na||(f.O?0:nc(Ad,f)):nc(Ad,f))?rl.I(M([f])):f},Sn.prototype.hj=function(e,f,h,k,m){return N_(this,f,h,k,m)},Sn.Wa=!0,Sn.Sa="reagent.impl.template/t_reagent$impl$template41441",Sn.Za=function(e){return yd(e,"reagent.impl.template/t_reagent$impl$template41441")};return new Sn(a,b,c,d,W)}(W);function Y_(a){return g_(a)?a:s_(a,X_)};var Z_=hZ(12);var $_=Eh(W);function a0(a,b,c){var d=sZ;sZ=!0;try{return Z_.render(a.P?a.P():a.call(null),b,function(){var e=sZ;sZ=!1;try{return Gh.R($_,Q,b,a),DZ.flush_after_render(),null!=c?c.P?c.P():c.call(null):null}finally{sZ=e}})}finally{sZ=d}}function b0(a,b){$Z();var c=of(X_)?new X(null,2,5,Z,[X_,X_],null):new X(null,2,5,Z,[X_,Tx.C(X_)],null),d=N(c,0,null);c=N(c,1,null);return a0(function(){return HZ(d,of(a)?a.P?a.P():a.call(null):a)},b,c)};function c0(a){return(null!=a?a.O&131072||l===a.tf||(a.O?0:nc(gd,a)):nc(gd,a))?rf(a):null}function d0(a,b){return(null!=a?a.O&262144||l===a.rm||(a.O?0:nc(id,a)):nc(id,a))?qf(a,b):a}function Oh(a){return dy.C(c0(a))}function Ph(a){return et.C(c0(a))}function e0(a){if(!ic(yu.C(c0(a)))){var b=rf(a);b=R.B?R.B(b,yu):R.call(null,b,yu);a=qf(a,b)}return a}
function f0(a,b){return null==a?b:null==b?e0(a):r(yu.C(c0(a)))?b:r(function(){var c=Oh(a);return r(c)?Oh(b):c}())?d0(b,vk.I(M([c0(a),c0(b)]))):r(function(){var c=Ph(a);return r(c)?Ph(b):c}())?d0(b,vk.I(M([c0(a),c0(b)]))):r(function(){var c=Oh(a);return r(c)?c:Ph(b)}())?d0(b,vk.I(M([R.B(c0(a),dy),R.B(c0(b),et)]))):r(function(){var c=Ph(a);return r(c)?c:Oh(b)}())?d0(a,vk.I(M([R.B(c0(b),dy),R.B(c0(a),et)]))):null}
var g0=function g0(a){switch(arguments.length){case 0:return g0.P();case 1:return g0.C(arguments[0]);case 2:return g0.B(arguments[0],arguments[1]);default:for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=new se(c.slice(2),0,null);return g0.I(arguments[0],arguments[1],c)}};g0.P=function(){return W};g0.C=function(a){return a};
g0.B=function(a,b){var c=rh(Nh(),new X(null,2,5,Z,[a,b],null));c=r(c)?c:yu.C(c0(a));Ff(c)?a=f0(a,b):xf(a)&&xf(b)?a=wk.I(g0,M([a,b])):vf(a)&&vf(b)?a=sI(b,a):uf(a)&&uf(b)?(c=Bz.C(rf(a)),c=r(c)?c:Bz.C(rf(b)),a=r(c)?qf(fi.B(lf(a),V.B(b,a)),vk.I(M([rf(a),xk(rf(b),new X(null,1,5,Z,[dy],null))]))):fi.B(lf(a),V.B(a,b))):a=b;return a};g0.I=function(a,b,c){return w.D(g0,a,Ze(b,c))};g0.fa=function(a){var b=H(a),c=J(a);a=H(c);c=J(c);return this.I(b,a,c)};g0.aa=2;var h0={};function i0(a,b){throw tm(t.C(a),new q(null,2,[uo,a,Um,b],null));}var j0=function(){var a=Eh(W),b=Eh(W),c=Eh(W),d=Eh(W),e=B.D(W,Rr,bm.P?bm.P():bm.call(null));return new nm(oe.B("reitit.exception","format-exception"),function(f){return f},e,a,b,c,d)}();function k0(a){var b=a instanceof sm?a.data:null,c=j0.D(uo.C(b),a instanceof Error?a.message:null,Um.C(b));return tm(c,Q.D(r(b)?b:W,ev,a))}j0.mb(null,om,function(a,b,c){return[t.C(b),r(c)?["\n\n",rl.I(M([c]))].join(""):null].join("")});
j0.mb(null,$q,function(a,b,c){function d(e,f){return[r(Iu.C(f))?"   ":"-\x3e ",t.C(e)," ",t.C(ah(xk(f,new X(null,1,5,Z,[Iu],null))))].join("")}return Vg(t,"Router contains conflicting route paths:\n\n",gi.B(function(e){var f=N(e,0,null),h=N(f,0,null);f=N(f,1,null);e=N(e,1,null);return[t.C(d(h,f)),"\n",PE("\n",gi.B(function(k){var m=N(k,0,null);k=N(k,1,null);return d(m,k)},e)),"\n\n"].join("")},c))});
j0.mb(null,Hx,function(a,b,c){return Vg(t,"Router contains conflicting route names:\n\n",gi.B(function(d){var e=N(d,0,null);d=N(d,1,null);return[t.C(e),"\n-\x3e ",PE("\n-\x3e ",gi.B(H,d)),"\n"].join("")},c))});j0.mb(null,bp,function(a,b,c){return["Error merging route-data\n\n",rl.I(M([c]))].join("")});var l0={},Xn,Zn,bo,no,po,qo;function s0(a){return vf(a)||wf(a)?Ek(a):null==a?Ck:hf.B(Ck,a)}function t0(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=t0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.trie.Wild{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[gs,this.value],null)],null),this.F))};g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[gs],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new t0(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1970880185^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,1,[gs,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new t0(this.value,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(gs,b):U.call(null,gs,b))?new t0(c,this.G,this.F,null):new t0(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(gs,this.value,null)],null),this.F))};g.ha=function(a,b){return new t0(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function u0(a,b,c,d){this.value=a;this.G=b;this.F=c;this.J=d;this.O=2230716170;this.T=139264}g=u0.prototype;
g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "value":return this.value;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.trie.CatchAll{",", ","}",c,V.B(new X(null,1,5,Z,[new X(null,2,5,Z,[gs,this.value],null)],null),this.F))};
g.qa=function(){return new dj(this,1,new X(null,1,5,Z,[gs],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new u0(this.value,this.G,this.F,this.J)};g.la=function(){return 1+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-987265038^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.value,b.value)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,1,[gs,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new u0(this.value,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "value":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(gs,b):U.call(null,gs,b))?new u0(c,this.G,this.F,null):new u0(this.value,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,1,5,Z,[new Y(gs,this.value,null)],null),this.F))};
g.ha=function(a,b){return new u0(this.value,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function v0(a,b,c,d,e){this.params=a;this.data=b;this.G=c;this.F=d;this.J=e;this.O=2230716170;this.T=139264}g=v0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.trie.Match{",", ","}",c,V.B(new X(null,2,5,Z,[new X(null,2,5,Z,[wq,this.params],null),new X(null,2,5,Z,[Um,this.data],null)],null),this.F))};g.qa=function(){return new dj(this,2,new X(null,2,5,Z,[wq,Um],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new v0(this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 2+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1117628764^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.params,b.params)&&F.B(this.data,b.data)&&F.B(this.F,b.F)};g.za=function(a,b){return S(new Ak(null,new q(null,2,[wq,null,Um,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new v0(this.params,this.data,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "params":case "data":return!0;default:return S(this.F,b)}};g.ea=function(a,b,c){return r(U.B?U.B(wq,b):U.call(null,wq,b))?new v0(c,this.data,this.G,this.F,null):r(U.B?U.B(Um,b):U.call(null,Um,b))?new v0(this.params,c,this.G,this.F,null):new v0(this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,2,5,Z,[new Y(wq,this.params,null),new Y(Um,this.data,null)],null),this.F))};
g.ha=function(a,b){return new v0(this.params,this.data,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function w0(a,b,c,d,e,f,h,k){this.children=a;this.kd=b;this.Vc=c;this.params=d;this.data=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=w0.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "children":return this.children;case "wilds":return this.kd;case "catch-all":return this.Vc;case "params":return this.params;case "data":return this.data;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.trie.Node{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[lz,this.children],null),new X(null,2,5,Z,[Jo,this.kd],null),new X(null,2,5,Z,[Sr,this.Vc],null),new X(null,2,5,Z,[wq,this.params],null),new X(null,2,5,Z,[Um,this.data],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[lz,Jo,Sr,wq,Um],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new w0(this.children,this.kd,this.Vc,this.params,this.data,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=33004208^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.children,b.children)&&F.B(this.kd,b.kd)&&F.B(this.Vc,b.Vc)&&F.B(this.params,b.params)&&F.B(this.data,b.data)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[lz,null,wq,null,Jo,null,Sr,null,Um,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new w0(this.children,this.kd,this.Vc,this.params,this.data,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "children":case "wilds":case "catch-all":case "params":case "data":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(lz,b):U.call(null,lz,b))?new w0(c,this.kd,this.Vc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Jo,b):U.call(null,Jo,b))?new w0(this.children,c,this.Vc,this.params,this.data,this.G,this.F,null):r(U.B?U.B(Sr,b):U.call(null,Sr,b))?new w0(this.children,this.kd,c,this.params,this.data,this.G,this.F,null):r(U.B?U.B(wq,b):U.call(null,wq,b))?new w0(this.children,this.kd,this.Vc,c,this.data,this.G,this.F,null):r(U.B?U.B(Um,b):U.call(null,Um,b))?new w0(this.children,
this.kd,this.Vc,this.params,c,this.G,this.F,null):new w0(this.children,this.kd,this.Vc,this.params,this.data,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(lz,this.children,null),new Y(Jo,this.kd,null),new Y(Sr,this.Vc,null),new Y(wq,this.params,null),new Y(Um,this.data,null)],null),this.F))};g.ha=function(a,b){return new w0(this.children,this.kd,this.Vc,this.params,this.data,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};function x0(a,b,c,d){if(null!=a&&null!=a.hf)a=a.hf(a,b,c,d);else{var e=x0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=x0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("Matcher.match",a);}return a}
function y0(a){if(null!=a&&null!=a.ff)a=a.ff(a);else{var b=y0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=y0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Matcher.depth",a);}return a}function z0(a){if(null!=a&&null!=a.gf)a=a.gf(a);else{var b=z0[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=z0._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("Matcher.length",a);}return a}
function A0(a,b,c){if(null!=a&&null!=a.mj)a=a.mj(a,b,c);else{var d=A0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=A0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.data-matcher",a);}return a}
function B0(a,b,c){if(null!=a&&null!=a.oj)a=a.oj(a,b,c);else{var d=B0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=B0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.static-matcher",a);}return a}
function C0(a,b,c,d){if(null!=a&&null!=a.pj)a=a.pj(a,b,c,d);else{var e=C0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=C0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("TrieCompiler.wild-matcher",a);}return a}
function D0(a,b,c,d){if(null!=a&&null!=a.lj)a=a.lj(a,b,c,d);else{var e=D0[ha(null==a?null:a)];if(null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else if(e=D0._,null!=e)a=e.R?e.R(a,b,c,d):e.call(null,a,b,c,d);else throw pc("TrieCompiler.catch-all-matcher",a);}return a}
function E0(a,b,c){if(null!=a&&null!=a.nj)a=a.nj(a,b,c);else{var d=E0[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=E0._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("TrieCompiler.linear-matcher",a);}return a}function F0(a,b){if(null!=a&&null!=a.kj)a=a.kj(a,b);else{var c=F0[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=F0._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("TrieCompiler.-path-matcher",a);}return a}
function G0(a,b,c){var d=wq.C(a);return Q.D(a,wq,Q.D(d,b,c))}function H0(a,b){var c=K(a);var d=K(b);c=c<d?c:d;for(d=0;;){if(d>c)return lg.D(a,0,c);if($g.B(B.B(a,d),B.B(b,d)))return 0!==d?lg.D(a,0,d):null;d+=1}}
function I0(a,b){function c(p,u){return new X(null,1,5,Z,[new u0(ug.C(lg.D(a,p+1,u)),null,null,null)],null)}function d(p,u){var v=Z;p=lg.D(a,p+1,u);u=YE(p);p=r(u)?ug.B(lg.D(p,0,u),lg.B(p,u+1)):ug.C(p);return new X(null,1,5,v,[new t0(p,null,null,null)],null)}function e(p,u){return F.B(p,u)?null:new X(null,1,5,Z,[lg.D(a,p,u)],null)}b=Zg(b);var f=B.D(b,XA,new Ak(null,new q(null,2,[jr,null,Ru,null],null),null));b=Ru.C(s0(f));f=jr.C(s0(f));for(var h=null,k=0,m=0;;){if(F.B(m,K(a)))return V.B(h,e(k,m));
var n=B.B(a,m);r(r(b)?F.B("{",n):b)?(n=function(){var p=ZE(a,"}",m);return r(p)?p:i0(Qz,new q(null,1,[gB,a],null))}(),F.B("*",B.B(a,m+1))?(h=V.I(h,e(k,m),M([c(m+1,n)])),k=eg(n+1),m=n=eg(n+1)):(h=V.I(h,e(k,m),M([d(m,n)])),k=eg(n+1),m=n=eg(n+1))):r(r(f)?F.B(":",n):f)?(n=function(){var p=ZE(a,"/",m);return r(p)?p:K(a)}(),F.B(1,n-m)?m+=1:(h=V.I(h,e(k,m),M([d(m,n)])),k=eg(n),m=n=eg(n))):r(r(f)?F.B("*",n):f)?(n=K(a),h=V.I(h,e(k,m),M([c(m,n)])),k=eg(n),m=n=eg(n)):m+=1}}
function J0(a){return w.D(function(b,c){return[t.C(b),"string"===typeof c?c:c instanceof t0?["{",lg.B(t.C(c.value),1),"}"].join(""):c instanceof u0?["{*",lg.B(t.C(c.value),1),"}"].join(""):null].join("")},"",a)}
function K0(a,b){function c(k,m){var n=N(m,0,null),p=V.B;"string"!==typeof k?n=new X(null,1,5,Z,[k],null):"string"===typeof k&&$g.B(K(k),K(n))?n=new X(null,1,5,Z,[lg.B(n,K(k))],null):"string"===typeof n&&ic(k)?(k=r(n)?YE(n):n,n=r(k)?new X(null,2,5,Z,[lg.D(n,0,k),lg.B(n,k)],null):new X(null,1,5,Z,[n],null)):n=null;return p.call(V,n,ue(m))}function d(k){var m=N(k,0,null),n=r(m)?YE(m):m;return r(r(n)?0<n:n)?V.B(new X(null,2,5,Z,[lg.D(m,0,n),lg.B(m,n)],null),ue(k)):k}var e=N(a,0,null),f=N(b,0,null);if(null==
e||null==f)return new X(null,2,5,Z,[d(a),d(b)],null);var h=function(){var k="string"===typeof e;return k?(k="string"===typeof f)?H0(e,f):k:k}();return r(h)?new X(null,2,5,Z,[c(h,a),c(h,b)],null):new X(null,2,5,Z,[a,b],null)}function L0(a,b){var c="string"===typeof a?YE(a):null;return"number"===typeof c&&0<c?V.B(new X(null,1,5,Z,[lg.B(a,c)],null),b):b}
function M0(a,b){for(;;){var c=K0(a,b);a=N(c,0,null);b=G(a);a=H(b);b=J(b);c=N(c,1,null);var d=G(c);c=H(d);d=J(d);if(F.I(a,c,M([null])))return!0;if(null==a||null==c)return!1;if(a instanceof u0||c instanceof u0)return!0;if(a instanceof t0||c instanceof t0)a=L0(a,b),b=L0(c,d);else{if($g.B(a,c))return!1;c=d;a=b;b=c}}}
function N0(a){a=vk.I(M([new q(null,4,[lz,W,Jo,W,Sr,W,wq,W],null),a]));var b=R.I(a,lz,M([Jo,Sr,wq,Um]));b=yf(a)?fi.B(W,b):b;return new w0(lz.C(a),Jo.C(a),Sr.C(a),wq.C(a),Um.C(a),null,ah(b),null)}
var O0=function O0(a,b,c,d,e){b=G(b);var h=H(b),k=J(b);b=null==h?Q.I(a,Um,e,M([wq,d])):h instanceof t0?function(){var n=H(k);return n instanceof t0||n instanceof u0?i0(GE,new q(null,2,[gB,c,nx,Qh.B(gs,new X(null,2,5,Z,[h,n],null))],null)):mi.D(a,new X(null,2,5,Z,[Jo,h],null),function(p){p=r(p)?p:N0(W);return O0.ma?O0.ma(p,k,c,d,e):O0.call(null,p,k,c,d,e)})}():h instanceof u0?li(a,new X(null,2,5,Z,[Sr,h],null),N0(new q(null,2,[wq,d,Um,e],null))):tf(h)?O0.ma?O0.ma(a,k,c,d,e):O0.call(null,a,k,c,d,e):
function(){var n=w.D(function(p,u){var v=N(u,0,null),z=N(u,1,null),C=H0(v,h);if(r(C)){if(F.B(C,v)){var E=function(){var T=hf.B(k,lg.B(h,K(v)));return O0.ma?O0.ma(z,T,c,d,e):O0.call(null,z,T,c,d,e)}();return Ge(li(a,new X(null,2,5,Z,[lz,v],null),E))}var I=lg.B(v,C.length),O=lg.B(h,C.length);E=function(){var T=N0(W);return O0.ma?O0.ma(T,k,c,d,e):O0.call(null,T,k,c,d,e)}();var P=function(){var T=N0(new q(null,1,[lz,nf([I,z,O,E])],null));return O0.ma?O0.ma(T,null,null,null,null):O0.call(null,T,null,null,
null,null)}();return Ge(ni.D(a,lz,function(T){return Q.D(R.B(T,v),C,P)}))}return null},null,lz.C(a));return r(n)?n:li(a,new X(null,2,5,Z,[lz,h],null),function(){var p=N0(W);return O0.ma?O0.ma(p,k,c,d,e):O0.call(null,p,k,c,d,e)}())}();var m=ji(b,new X(null,2,5,Z,[lz,""],null));return r(m)?ni.R(wk.I(vk,M([R.B(b,Um),m])),lz,R,""):b};function P0(a,b,c,d){a=lg.D(a,b,c);return r(d)?decodeURIComponent(a):a}
function Q0(){if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof Xn)Xn=function(a){this.Ga=a;this.O=393216;this.T=0},Xn.prototype.ha=function(a,b){return new Xn(b)},Xn.prototype.ga=function(){return this.Ga},Xn.prototype.mj=function(a,b,c){a=new v0(b,c,null,null,null);if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof Zn)Zn=function(d,e,f,h,k,m){this.Ga=d;this._=e;this.params=f;this.data=h;this.match=k;this.yc=m;this.O=393216;this.T=0},Zn.prototype.ha=
function(d,e){return new Zn(this.Ga,this._,this.params,this.data,this.match,e)},Zn.prototype.ga=function(){return this.yc},Zn.prototype.hf=function(d,e,f){return F.B(e,f)?this.match:null},Zn.prototype.ff=function(){return 1},Zn.prototype.gf=function(){return null},Zn.Wa=!0,Zn.Sa="reitit.trie/t_reitit$trie41972",Zn.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie41972")};return new Zn(this.Ga,this,b,c,a,W)},Xn.prototype.oj=function(a,b,c){a=K(b);if("undefined"===typeof h0||"undefined"===typeof l0||
"undefined"===typeof bo)bo=function(d,e,f,h,k,m){this.Ga=d;this._=e;this.path=f;this.wd=h;this.size=k;this.Bc=m;this.O=393216;this.T=0},bo.prototype.ha=function(d,e){return new bo(this.Ga,this._,this.path,this.wd,this.size,e)},bo.prototype.ga=function(){return this.Bc},bo.prototype.hf=function(d,e,f,h){if(f<e+this.size)return null;for(d=0;;){if(F.B(d,this.size))return x0(this.wd,e+this.size,f,h);if(F.B(B.B(h,e+d),B.B(this.path,d)))d+=1;else return null}},bo.prototype.ff=function(){return y0(this.wd)+
1},bo.prototype.gf=function(){return K(this.path)},bo.Wa=!0,bo.Sa="reitit.trie/t_reitit$trie41981",bo.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie41981")};return new bo(this.Ga,this,b,c,a,W)},Xn.prototype.pj=function(a,b,c,d){if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof no)no=function(e,f,h,k,m,n){this.Ga=e;this._=f;this.key=h;this.end=k;this.wd=m;this.Kc=n;this.O=393216;this.T=0},no.prototype.ha=function(e,f){return new no(this.Ga,this._,this.key,this.end,this.wd,
f)},no.prototype.ga=function(){return this.Kc},no.prototype.hf=function(e,f,h,k){if(f<h&&$g.B(B.B(k,f),this.end)){e=!1;for(var m=f;;){if(F.B(h,m)){var n=x0(this.wd,h,h,k);return r(n)?G0(n,this.key,P0(k,f,h,e)):null}var p=B.B(k,m);n=F;if(r(n.B?n.B(this.end,p):n.call(null,this.end,p)))return n=x0(this.wd,m,h,k),r(n)?G0(n,this.key,P0(k,f,m,e)):null;n=n.B?n.B("%",p):n.call(null,"%",p);r(n)?(m+=1,e=!0):m+=1}}else return null},no.prototype.ff=function(){return y0(this.wd)+1},no.prototype.gf=function(){return null},
no.Wa=!0,no.Sa="reitit.trie/t_reitit$trie41992",no.Za=function(e){return yd(e,"reitit.trie/t_reitit$trie41992")};return new no(this.Ga,this,b,c,d,W)},Xn.prototype.lj=function(a,b,c,d){a=new v0(c,d,null,null,null);if("undefined"===typeof h0||"undefined"===typeof l0||"undefined"===typeof po)po=function(e,f,h,k,m,n,p){this.Ga=e;this._=f;this.key=h;this.params=k;this.data=m;this.match=n;this.Uc=p;this.O=393216;this.T=0},po.prototype.ha=function(e,f){return new po(this.Ga,this._,this.key,this.params,this.data,
this.match,f)},po.prototype.ga=function(){return this.Uc},po.prototype.hf=function(e,f,h,k){return f<=h?G0(this.match,this.key,P0(k,f,h,!0)):null},po.prototype.ff=function(){return 1},po.prototype.gf=function(){return null},po.Wa=!0,po.Sa="reitit.trie/t_reitit$trie42030",po.Za=function(e){return yd(e,"reitit.trie/t_reitit$trie42030")};return new po(this.Ga,this,b,c,d,a,W)},Xn.prototype.nj=function(a,b,c){a=Ji(r(c)?b:og(Pf(Vk(y0,z0),b)));b=K(a);if("undefined"===typeof h0||"undefined"===typeof l0||
"undefined"===typeof qo)qo=function(d,e,f,h,k,m){this.Ga=d;this._=e;this.Dh=f;this.Bl=h;this.size=k;this.cd=m;this.O=393216;this.T=0},qo.prototype.ha=function(d,e){return new qo(this.Ga,this._,this.Dh,this.Bl,this.size,e)},qo.prototype.ga=function(){return this.cd},qo.prototype.hf=function(d,e,f,h){for(d=0;;)if(d<this.size){var k=x0(B.B(this.Dh,d),e,f,h);if(r(k))return k;d+=1}else return null},qo.prototype.ff=function(){return Vg(bg,0,Qh.B(y0,this.Dh))+1},qo.prototype.gf=function(){return null},qo.Wa=
!0,qo.Sa="reitit.trie/t_reitit$trie42047",qo.Za=function(d){return yd(d,"reitit.trie/t_reitit$trie42047")};return new qo(this.Ga,this,a,c,b,W)},Xn.prototype.kj=function(a,b){return function(c){var d=x0(b,0,K(c),c);r(d)?(c=wq.C(d),d=Um.C(d),c=new v0(c,d,null,null,null)):c=null;return c}},Xn.Wa=!0,Xn.Sa="reitit.trie/t_reitit$trie41965",Xn.Za=function(a){return yd(a,"reitit.trie/t_reitit$trie41965")};return new Xn(W)}function R0(a){return Hk(a,Wh(null))}
function S0(a,b,c,d){d=Zg(d);var e=B.D(d,ey,R0),f=I0(b,d);f=Qh.B(gs,ei(mc,f));e=e.C?e.C(f):e.call(null,f);return O0(r(a)?a:N0(W),I0(b,d),b,e,c)}function T0(a,b){return U0(a,b,jf)}
function U0(a,b,c){function d(n){n=Zg(n);n=B.B(n,lz);n=jj(n);return r(n)?n:new X(null,1,5,Z,["/"],null)}a=Zg(a);var e=B.B(a,Um),f=B.D(a,wq,W),h=B.B(a,lz),k=B.B(a,Jo),m=B.B(a,Sr);a=fi.B(fi.B(fi.B(r(e)?hf.B(jf,A0(b,f,e)):jf,function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),E=Ag(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=B0(b,P,U0(O,b,hf.B(c,P)));E.add(P);I+=1}else{z=!0;break a}return z?Cg(Gg(E),u(Qd(v))):Cg(Gg(E),
null)}z=H(v);E=N(z,0,null);z=N(z,1,null);return Ze(B0(b,E,U0(z,b,hf.B(c,E))),u(ue(v)))}return null}},null,null)}(h)}()),function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),E=Ag(C);return function(){for(var T=0;;)if(T<C){var aa=x(z,T),ea=N(aa,0,null),va=N(aa,1,null);aa=E;var ua=gs.C(ea),Ma=d(va);ea=J(Ma)?i0(HA,new q(null,2,[Xx,Ma,gB,J0(hf.B(c,ea))],null)):C0(b,ua,ff(Ma),U0(va,b,hf.B(c,ua)));aa.add(ea);T+=1}else return!0}()?Cg(Gg(E),u(Qd(v))):
Cg(Gg(E),null)}var I=H(v),O=N(I,0,null),P=N(I,1,null);return Ze(function(){var T=gs.C(O),aa=d(P);return J(aa)?i0(HA,new q(null,2,[Xx,aa,gB,J0(hf.B(c,O))],null)):C0(b,T,ff(aa),U0(P,b,hf.B(c,T)))}(),u(ue(v)))}return null}},null,null)}(k)}()),function(){return function u(p){return new wg(null,function(){for(;;){var v=G(p);if(v){if(Af(v)){var z=Pd(v),C=K(z),E=Ag(C);a:for(var I=0;;)if(I<C){var O=x(z,I),P=N(O,0,null);O=N(O,1,null);P=D0(b,gs.C(P),f,Um.C(O));E.add(P);I+=1}else{z=!0;break a}return z?Cg(Gg(E),
u(Qd(v))):Cg(Gg(E),null)}z=H(v);E=N(z,0,null);z=N(z,1,null);return Ze(D0(b,gs.C(E),f,Um.C(z)),u(ue(v)))}return null}},null,null)}(m)}());return 1<K(a)?E0(b,a,!1):F.B(K(a),1)?H(a):null};function V0(a,b){a=J0(I0(a,b));b=I0(a,b);var c=Ek(Qh.B(gs,ei(mc,b)));return new q(null,3,[Jq,c,zu,b,gB,a],null)}function W0(a){return function(b){b=N(b,0,null);return Ff(G(Jq.C(V0(b,a))))}}function X0(a){var b=Y0;return Sf(function(c,d,e){e=b.C?b.C(e):b.call(null,e);return null==e?c:Q.D(c,d,e)},a,a)}
function Z0(a,b){function c(k,m,n){if(zf(H(n)))return d(k,m,n);if("string"===typeof H(n)){var p=G(n);n=H(p);p=J(p);var u=N(p,0,null);p=zf(u)||wf(u)&&wf(H(u))||null==u?new X(null,2,5,Z,[W,p],null):new X(null,2,5,Z,[u,ue(p)],null);u=N(p,0,null);p=N(p,1,null);m=fi.B(m,h.B?h.B(u,e):h.call(null,u,e));u=d([t.C(k),t.C(n)].join(""),m,Bh(Tf,p));return G(p)?G(u):new X(null,1,5,Z,[new X(null,2,5,Z,[[t.C(k),t.C(n)].join(""),m],null)],null)}return null}function d(k,m,n){return w.D(function(p,u){return fi.B(p,
c(k,m,u))},jf,n)}var e=Zg(b);b=B.B(e,gB);var f=B.D(e,Um,jf);B.D(e,Uw,jf);var h=B.B(e,rt);return c(b,gi.B(Tf,f),a)}function $0(a,b){return gi.B(function(c){var d=N(c,0,null);c=N(c,1,null);return new X(null,2,5,Z,[d,a.B?a.B(d,c):a.call(null,d,c)],null)},b)}function a1(a,b){return w.D(function(c,d){var e=N(d,0,null);d=N(d,1,null);try{return g0.B(c,nf([e,d]))}catch(h){if(h instanceof Error){var f=h;return i0(bp,new q(null,4,[gB,a,Lm,c,py,nf([e,d]),Nw,f],null))}throw h;}},W,b)}
function b1(){var a=ro,b=Zg(vo),c=B.B(b,aB);a=$0(a1,Z0(a,b));return r(c)?fi.D(jf,Ah(function(d){return c.B?c.B(d,b):c.call(null,d,b)}),a):a}function e1(a,b){var c=gi.B(function(d){var e=N(d,0,null);return new X(null,2,5,Z,[I0(e,b),d],null)},a);return ah(fi.D(W,vh.B(yh(function(d,e){var f=N(e,0,null);e=N(e,1,null);return new X(null,2,5,Z,[e,w.D(function(h,k){var m=N(k,0,null);k=N(k,1,null);return M0(f,m)?hf.B(h,k):h},Ck,Ti(c,d+1,K(c)))],null)}),ci(vh.B(G,cf))),c))}
function f1(){return ah(fi.D(W,ci(th(function(a){var b=N(a,0,null);N(b,0,null);b=N(b,1,null);a=N(a,1,null);b=Iu.C(b);return r(b)?qh(vh.B(Iu,cf),a):b})),Fo))}
function h1(a){return Ek(Ug(V,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m),p=N(n,0,null);n=N(n,1,null);p=hf.B(Qh.B(H,n),H(p));k.add(p);m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}f=H(e);k=N(f,0,null);f=N(f,1,null);return Ze(hf.B(Qh.B(H,f),H(k)),d(ue(e)))}return null}},null,null)}(a)}()))}
function i1(){var a=No;a=null==a?null:$l(vh.B(Ht,cf),a);a=null==a?null:ei(vh.B(fc,H),a);a=null==a?null:di(vh.I(kg,K,Gk,M([cf])),a);a=null==a?null:G(a);a=null==a?null:Qh.B(function(b){var c=N(b,0,null);b=N(b,1,null);return new X(null,2,5,Z,[c,Ek(b)],null)},a);return null==a?null:fi.B(W,a)}function k1(a){return fi.D(jf,Ah(function(b){return Ht.C(cf(b))}),a)}
function l1(){var a=vo;return fi.B(jf,Bh(function(b){var c=N(b,0,null),d=N(b,1,null),e=Zg(a),f=B.B(e,qy);return new X(null,3,5,Z,[c,d,r(f)?f.B?f.B(b,e):f.call(null,b,e):null],null)},No))}function m1(a){return gi.B(vh.B(Ji,wh.B(Rh,2)),a)}function n1(a,b){return r(Jq.C(a))?(a=w.D(function(c,d){if("string"===typeof d)return hf.B(c,d);d=B.B(b,gs.C(d));return r(d)?hf.B(c,d):Ge(null)},jf,zu.C(a)),r(a)?Ug(t,a):null):gB.C(a)}function Y0(a){return r(a)?decodeURIComponent(a):null};function o1(a,b){if(null!=a&&null!=a.Kl)a=a.Kl(a,b);else{var c=o1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=o1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Coercion.-open-model",a);}return a}function p1(a,b,c){if(null!=a&&null!=a.Ll)a=a.Ll(a,b,c);else{var d=p1[ha(null==a?null:a)];if(null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else if(d=p1._,null!=d)a=d.D?d.D(a,b,c):d.call(null,a,b,c);else throw pc("Coercion.-request-coercer",a);}return a}
function q1(a,b,c,d,e,f,h){this.Yd=a;this.style=b;this.ud=c;this.xd=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=q1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "in":return this.Yd;case "style":return this.style;case "keywordize?":return this.ud;case "open?":return this.xd;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.coercion.ParameterCoercion{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[pE,this.Yd],null),new X(null,2,5,Z,[xo,this.style],null),new X(null,2,5,Z,[Iz,this.ud],null),new X(null,2,5,Z,[at,this.xd],null)],null),this.F))};
g.qa=function(){return new dj(this,4,new X(null,4,5,Z,[pE,xo,Iz,at],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new q1(this.Yd,this.style,this.ud,this.xd,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1253949273^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ak,b.Ak)&&F.B(this.style,b.style)&&F.B(this.ud,b.ud)&&F.B(this.xd,b.xd)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,4,[Iz,null,xo,null,at,null,pE,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new q1(this.Yd,this.style,this.ud,this.xd,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "in":case "style":case "keywordize?":case "open?":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(pE,b):U.call(null,pE,b))?new q1(c,this.style,this.ud,this.xd,this.G,this.F,null):r(U.B?U.B(xo,b):U.call(null,xo,b))?new q1(this.Yd,c,this.ud,this.xd,this.G,this.F,null):r(U.B?U.B(Iz,b):U.call(null,Iz,b))?new q1(this.Yd,this.style,c,this.xd,this.G,this.F,null):r(U.B?U.B(at,b):U.call(null,at,b))?new q1(this.Yd,this.style,this.ud,c,this.G,this.F,null):new q1(this.Yd,this.style,this.ud,this.xd,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(pE,this.Yd,null),new Y(xo,this.style,null),new Y(Iz,this.ud,null),new Y(at,this.xd,null)],null),this.F))};g.ha=function(a,b){return new q1(this.Yd,this.style,this.ud,this.xd,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
var r1=new q(null,5,[zD,new q1(Gz,Sm,!0,!0,null,null,null),bt,new q1(Ox,bt,!1,!1,null,null,null),Wp,new q1(Vu,Sm,!0,!0,null,null,null),PC,new q1(Tv,Sm,!0,!0,null,null,null),gB,new q1(Jq,Sm,!0,!0,null,null,null)],null);function s1(a){return oo.C(HD.C(a))}
function t1(a,b,c,d){d=Zg(d);var e=B.D(d,vx,s1);d=B.D(d,dz,r1);if(r(a)&&(b=d.C?d.C(b):d.call(null,b),r(b))){var f=Zg(b);b=B.B(f,Iz);d=B.B(f,at);var h=B.B(f,pE);f=B.B(f,xo);var k=vh.B(r(b)?MR:Tf,h);c=r(d)?o1(a,c):c;var m=p1(a,f,c);return r(m)?function(n){var p=k(n);n=e.C?e.C(n):e.call(null,n);return m.B?m.B(p,n):m.call(null,p,n)}:null}return null}function u1(a,b){return Sf(function(c,d,e){e=e.C?e.C(b):e.call(null,b);return Q.D(c,d,e)},W,a)}
function v1(a,b,c){var d=function(){return function h(f){return new wg(null,function(){for(var k=f;;)if(k=G(k)){if(Af(k)){var m=Pd(k),n=K(m),p=Ag(n);a:for(var u=0;;)if(u<n){var v=x(m,u),z=N(v,0,null);v=N(v,1,null);r(v)&&(z=new X(null,2,5,Z,[z,t1(a,z,v,c)],null),p.add(z));u+=1}else{m=!0;break a}return m?Cg(Gg(p),h(Qd(k))):Cg(Gg(p),null)}m=H(k);p=N(m,0,null);m=N(m,1,null);if(r(m))return Ze(new X(null,2,5,Z,[p,t1(a,p,m,c)],null),h(ue(k)));k=ue(k)}else return null},null,null)}(b)}();d=null==d?null:di(cf,
d);d=null==d?null:G(d);return null==d?null:fi.B(W,d)}function w1(a){var b=ps.C(a);return r(b)?u1(b,a):null};var x1={},So,Xo,ap,dp,jp,mp;function E1(a,b){if(null!=a&&null!=a.Mg)a=a.Mg(a,b);else{var c=E1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=E1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Expand.expand",a);}return a}D.prototype.Mg=function(){return new q(null,1,[Ht,this],null)};q.prototype.Mg=function(){return this};Uj.prototype.Mg=function(){return this};E1["function"]=function(a){return new q(null,1,[gy,a],null)};E1["null"]=function(){return null};
function F1(a,b){if(null!=a&&null!=a.Oe)a=a.Oe(a,b);else{var c=F1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=F1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Router.match-by-path",a);}return a}function H1(a,b,c,d,e,f,h,k){this.tb=a;this.data=b;this.result=c;this.rb=d;this.path=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=H1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.tb;case "data":return this.data;case "result":return this.result;case "path-params":return this.rb;case "path":return this.path;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.core.Match{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[dx,this.tb],null),new X(null,2,5,Z,[Um,this.data],null),new X(null,2,5,Z,[ps,this.result],null),new X(null,2,5,Z,[Jq,this.rb],null),new X(null,2,5,Z,[gB,this.path],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[dx,Um,ps,Jq,gB],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=687105853^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.tb,b.tb)&&F.B(this.data,b.data)&&F.B(this.result,b.result)&&F.B(this.rb,b.rb)&&F.B(this.path,b.path)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[gB,null,dx,null,ps,null,Jq,null,Um,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "path":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dx,b):U.call(null,dx,b))?new H1(c,this.data,this.result,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(Um,b):U.call(null,Um,b))?new H1(this.tb,c,this.result,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(ps,b):U.call(null,ps,b))?new H1(this.tb,this.data,c,this.rb,this.path,this.G,this.F,null):r(U.B?U.B(Jq,b):U.call(null,Jq,b))?new H1(this.tb,this.data,this.result,c,this.path,this.G,this.F,null):r(U.B?U.B(gB,b):U.call(null,gB,b))?new H1(this.tb,this.data,this.result,
this.rb,c,this.G,this.F,null):new H1(this.tb,this.data,this.result,this.rb,this.path,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(dx,this.tb,null),new Y(Um,this.data,null),new Y(ps,this.result,null),new Y(Jq,this.rb,null),new Y(gB,this.path,null)],null),this.F))};g.ha=function(a,b){return new H1(this.tb,this.data,this.result,this.rb,this.path,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function I1(a,b,c,d,e){return new H1(a,b,c,d,e,null,null,null)}function J1(a,b,c,d,e,f,h,k){this.tb=a;this.data=b;this.result=c;this.rb=d;this.required=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=J1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};
g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "template":return this.tb;case "data":return this.data;case "result":return this.result;case "path-params":return this.rb;case "required":return this.required;default:return B.D(this.F,b,c)}};g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};
g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.core.PartialMatch{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[dx,this.tb],null),new X(null,2,5,Z,[Um,this.data],null),new X(null,2,5,Z,[ps,this.result],null),new X(null,2,5,Z,[Jq,this.rb],null),new X(null,2,5,Z,[hu,this.required],null)],null),this.F))};g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[dx,Um,ps,Jq,hu],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};
g.pa=function(){return new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=492095938^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.tb,b.tb)&&F.B(this.data,b.data)&&F.B(this.result,b.result)&&F.B(this.rb,b.rb)&&F.B(this.required,b.required)&&F.B(this.F,b.F)};
g.za=function(a,b){return S(new Ak(null,new q(null,5,[dx,null,ps,null,Jq,null,hu,null,Um,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "template":case "data":case "result":case "path-params":case "required":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(dx,b):U.call(null,dx,b))?new J1(c,this.data,this.result,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(Um,b):U.call(null,Um,b))?new J1(this.tb,c,this.result,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(ps,b):U.call(null,ps,b))?new J1(this.tb,this.data,c,this.rb,this.required,this.G,this.F,null):r(U.B?U.B(Jq,b):U.call(null,Jq,b))?new J1(this.tb,this.data,this.result,c,this.required,this.G,this.F,null):r(U.B?U.B(hu,b):U.call(null,hu,b))?new J1(this.tb,
this.data,this.result,this.rb,c,this.G,this.F,null):new J1(this.tb,this.data,this.result,this.rb,this.required,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(dx,this.tb,null),new Y(Um,this.data,null),new Y(ps,this.result,null),new Y(Jq,this.rb,null),new Y(hu,this.required,null)],null),this.F))};g.ha=function(a,b){return new J1(this.tb,this.data,this.result,this.rb,this.required,b,this.F,this.J)};
g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function K1(a,b){var c=cu.B(b,Q0()),d=k1(a),e=w.D(function(p,u){function v(aa){var ea=n1(P,aa);r(ea)?aa=I1(C,I,O,X0(aa),ea):(aa=X0(aa),aa=new J1(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),E=N(u,1,null),I=Zg(E);E=B.B(I,Ht);var O=N(u,2,null);u=V0(C,b);var P=Zg(u),T=B.B(P,Jq);return new X(null,2,5,Z,[hf.B(z,T0(S0(null,C,I1(C,I,O,null,null),b),Q0())),r(E)?Q.D(p,E,v):p],null)},new X(null,2,5,Z,[jf,W],null),a),f=N(e,0,null),h=N(e,1,null),k=E0(c,f,!0),m=F0(c,
k),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof So)So=function(p,u,v,z,C,E,I,O,P,T,aa,ea){this.Ke=p;this.wd=u;this.names=v;this.Ed=z;this.Ld=C;this.lookup=E;this.Sf=I;this.Rf=O;this.Zd=P;this.qh=T;this.zb=aa;this.ld=ea;this.O=393216;this.T=0},So.prototype.ha=function(p,u){return new So(this.Ke,this.wd,this.names,this.Ed,this.Ld,this.lookup,this.Sf,this.Rf,this.Zd,this.qh,this.zb,u)},So.prototype.ga=function(){return this.ld},So.prototype.Oe=function(p,u){p=this.Zd.C?
this.Zd.C(u):this.Zd.call(null,u);return r(p)?Q.D(Q.D(Um.C(p),Jq,wq.C(p)),gB,u):null},So.Wa=!0,So.Sa="reitit.core/t_reitit$core43388",So.Za=function(p){return yd(p,"reitit.core/t_reitit$core43388")};return new So(e,k,d,a,n,h,f,h,m,c,b,new q(null,1,[uo,so],null))}var L1=function L1(a){switch(arguments.length){case 1:return L1.C(arguments[0]);case 2:return L1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};L1.C=function(a){return L1.B(a,W)};
L1.B=function(a,b){var c=G(di(W0(b),a));c&&i0(["can't create :lookup-router with wildcard routes: ",t.C(c)].join(""),new q(null,2,[Jo,c,Uw,a],null));c=k1(a);var d=w.D(function(k,m){var n=N(k,0,null);k=N(k,1,null);var p=N(m,0,null),u=N(m,1,null),v=Zg(u);u=B.B(v,Ht);var z=N(m,2,null);return new X(null,2,5,Z,[Q.D(n,p,I1(p,v,z,W,p)),r(u)?Q.D(k,u,function(C){return I1(p,v,z,C,p)}):k],null)},new X(null,2,5,Z,[W,W],null),a),e=N(d,0,null),f=N(d,1,null),h=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||
"undefined"===typeof Xo)Xo=function(k,m,n,p,u,v,z,C,E,I){this.names=k;this.data=m;this.Ed=n;this.Ld=p;this.Re=u;this.lookup=v;this.Sf=z;this.Rf=C;this.zb=E;this.nd=I;this.O=393216;this.T=0},Xo.prototype.ha=function(k,m){return new Xo(this.names,this.data,this.Ed,this.Ld,this.Re,this.lookup,this.Sf,this.Rf,this.zb,m)},Xo.prototype.ga=function(){return this.nd},Xo.prototype.Oe=function(k,m){k=this.data;return k.C?k.C(m):k.call(null,m)},Xo.Wa=!0,Xo.Sa="reitit.core/t_reitit$core43455",Xo.Za=function(k){return yd(k,
"reitit.core/t_reitit$core43455")};return new Xo(c,e,a,h,d,f,e,f,b,new q(null,1,[uo,so],null))};L1.aa=2;var M1=function M1(a){switch(arguments.length){case 1:return M1.C(arguments[0]);case 2:return M1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};M1.C=function(a){return M1.B(a,W)};
M1.B=function(a,b){var c=cu.B(b,Q0()),d=k1(a),e=w.D(function(p,u){function v(aa){var ea=n1(P,aa);r(ea)?aa=I1(C,I,O,X0(aa),ea):(aa=X0(aa),aa=new J1(C,I,O,aa,T,null,null,null));return aa}var z=N(p,0,null);p=N(p,1,null);var C=N(u,0,null),E=N(u,1,null),I=Zg(E);E=B.B(I,Ht);var O=N(u,2,null);u=V0(C,b);var P=Zg(u),T=B.B(P,Jq);return new X(null,2,5,Z,[S0(z,C,I1(C,I,O,null,null),b),r(E)?Q.D(p,E,v):p],null)},new X(null,2,5,Z,[null,W],null),a),f=N(e,0,null),h=N(e,1,null),k=T0(f,c),m=r(k)?F0(c,k):null,n=m1(a);
if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof ap)ap=function(p,u,v,z,C,E,I,O,P,T,aa,ea){this.wd=p;this.names=u;this.Ed=v;this.$e=z;this.Ld=C;this.lookup=E;this.Sf=I;this.Rf=O;this.Zd=P;this.qh=T;this.zb=aa;this.sd=ea;this.O=393216;this.T=0},ap.prototype.ha=function(p,u){return new ap(this.wd,this.names,this.Ed,this.$e,this.Ld,this.lookup,this.Sf,this.Rf,this.Zd,this.qh,this.zb,u)},ap.prototype.ga=function(){return this.sd},ap.prototype.Oe=function(p,u){p=this.Zd;p=r(p)?
this.Zd.C?this.Zd.C(u):this.Zd.call(null,u):p;return r(p)?Q.D(Q.D(Um.C(p),Jq,wq.C(p)),gB,u):null},ap.Wa=!0,ap.Sa="reitit.core/t_reitit$core43518",ap.Za=function(p){return yd(p,"reitit.core/t_reitit$core43518")};return new ap(k,d,a,e,n,h,f,h,m,c,b,new q(null,1,[uo,so],null))};M1.aa=2;var N1=function N1(a){switch(arguments.length){case 1:return N1.C(arguments[0]);case 2:return N1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
N1.C=function(a){return N1.B(a,W)};
N1.B=function(a,b){r(function(){var p=$g.B(K(a),1);return p?p:rh(W0(b),a)}())&&i0([":single-static-path-router requires exactly 1 static route: ",t.C(a)].join(""),new q(null,1,[Uw,a],null));var c=k1(a),d=N(c,0,null),e=N(a,0,null),f=N(e,0,null),h=N(e,1,null),k=N(e,2,null),m=I1(f,h,k,W,f),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof dp)dp=function(p,u,v,z,C,E,I,O,P,T,aa,ea,va){this.cf=p;this.p=u;this.names=v;this.match=z;this.data=C;this.Ed=E;this.Ld=I;this.n=O;
this.result=P;this.zb=T;this.kf=aa;this.df=ea;this.Sd=va;this.O=393216;this.T=0},dp.prototype.ha=function(p,u){return new dp(this.cf,this.p,this.names,this.match,this.data,this.Ed,this.Ld,this.n,this.result,this.zb,this.kf,this.df,u)},dp.prototype.ga=function(){return this.Sd},dp.prototype.Oe=function(p,u){return F.B(this.p,u)?this.match:null},dp.Wa=!0,dp.Sa="reitit.core/t_reitit$core43569",dp.Za=function(p){return yd(p,"reitit.core/t_reitit$core43569")};return new dp(c,f,c,m,h,a,n,d,k,b,e,a,new q(null,
1,[uo,so],null))};N1.aa=2;var O1=function O1(a){switch(arguments.length){case 1:return O1.C(arguments[0]);case 2:return O1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};O1.C=function(a){return O1.B(a,W)};
O1.B=function(a,b){var c=$l(W0(b),a);c=Zg(c);var d=B.B(c,!0),e=B.B(c,!1),f=F.B(1,K(e))?N1:L1,h=M1.B(d,b),k=f.B?f.B(e,b):f.call(null,e,b),m=k1(a),n=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof jp)jp=function(p,u,v,z,C,E,I,O,P,T,aa){this.names=p;this.Ed=u;this.Ja=v;this.Ld=z;this.Tj=C;this.lookup=E;this.Yl=I;this.uj=O;this.zb=P;this.yj=T;this.Vd=aa;this.O=393216;this.T=0},jp.prototype.ha=function(p,u){return new jp(this.names,this.Ed,this.Ja,this.Ld,this.Tj,this.lookup,
this.Yl,this.uj,this.zb,this.yj,u)},jp.prototype.ga=function(){return this.Vd},jp.prototype.Oe=function(p,u){p=F1(this.uj,u);return r(p)?p:F1(this.yj,u)},jp.Wa=!0,jp.Sa="reitit.core/t_reitit$core43620",jp.Za=function(p){return yd(p,"reitit.core/t_reitit$core43620")};return new jp(m,a,c,n,f,e,d,k,b,h,new q(null,1,[uo,so],null))};O1.aa=2;
var P1=function P1(a){switch(arguments.length){case 1:return P1.C(arguments[0]);case 2:return P1.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};P1.C=function(a){return P1.B(a,W)};
P1.B=function(a,b){function c(u){return S(d,H(u))}var d=h1(function(){var u=Un.C(b);return r(u)?u:e1(a,b)}()),e=$l(c,a);e=Zg(e);var f=B.B(e,!0),h=B.B(e,!1),k=K1(f,b),m=O1.B(h,b),n=k1(a),p=m1(a);if("undefined"===typeof h0||"undefined"===typeof x1||"undefined"===typeof mp)mp=function(u,v,z,C,E,I,O,P,T,aa,ea,va){this.tl=u;this.names=v;this.nk=z;this.Ed=C;this.lk=E;this.Ld=I;this.mk=O;this.Zi=P;this.Wi=T;this.Ka=aa;this.zb=ea;this.Wd=va;this.O=393216;this.T=0},mp.prototype.ha=function(u,v){return new mp(this.tl,
this.names,this.nk,this.Ed,this.lk,this.Ld,this.mk,this.Zi,this.Wi,this.Ka,this.zb,v)},mp.prototype.ga=function(){return this.Wd},mp.prototype.Oe=function(u,v){u=F1(this.Zi,v);return r(u)?u:F1(this.Wi,v)},mp.Wa=!0,mp.Sa="reitit.core/t_reitit$core43668",mp.Za=function(u){return yd(u,"reitit.core/t_reitit$core43668")};return new mp(h,n,d,a,f,p,c,m,k,e,b,new q(null,1,[uo,so],null))};P1.aa=2;function Q1(a){var b=a.ed;return fi.B(W,Qh.B(Vk(ug,function(c){c=b.Ia(c);return 2>c.length?c[0]:Ji(c)}),b.Ha()))}function R1(a,b,c){c=Zg(c);var d=B.B(c,Cr);b=Kb(b);var e=r(d)?function(k){try{return w1(k)}catch(n){if(n instanceof Error){var m=n;d.B?d.B(k,m):d.call(null,k,m);throw m;}throw n;}}:w1;a=F1(a,b.dd);if(r(a)){var f=Q1(b),h=Q.D(a,Gz,f);a=function(){var k=e.C?e.C(h):e.call(null,h);return r(k)?k:new q(null,2,[gB,Jq.C(h),zD,f],null)}();return Q.D(h,nx,a)}return null};function S1(a){if(null!=a&&null!=a.Sh)a=a.Sh(a);else{var b=S1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=S1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-init",a);}return a}function T1(a){if(null!=a&&null!=a.Th)a=a.Th(a);else{var b=T1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=T1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-stop",a);}return a}
function U1(a,b){if(null!=a&&null!=a.Vf)a=a.Vf(a,b);else{var c=U1[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=U1._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("History.-on-navigate",a);}return a}function V1(a){if(null!=a&&null!=a.Ng)a=a.Ng(a);else{var b=V1[ha(null==a?null:a)];if(null!=b)a=b.C?b.C(a):b.call(null,a);else if(b=V1._,null!=b)a=b.C?b.C(a):b.call(null,a);else throw pc("History.-get-path",a);}return a}
function W1(a,b,c,d,e,f,h,k){this.Ya=a;this.gb=b;this.Qc=c;this.Nc=d;this.Pc=e;this.G=f;this.F=h;this.J=k;this.O=2230716170;this.T=139264}g=W1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "popstate-listener":return this.Qc;case "hashchange-listener":return this.Nc;case "last-fragment":return this.Pc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.frontend.history.FragmentHistory{",", ","}",c,V.B(new X(null,5,5,Z,[new X(null,2,5,Z,[LD,this.Ya],null),new X(null,2,5,Z,[Tw,this.gb],null),new X(null,2,5,Z,[rz,this.Qc],null),new X(null,2,5,Z,[Xr,this.Nc],null),new X(null,2,5,Z,[bC,this.Pc],null)],null),this.F))};
g.qa=function(){return new dj(this,5,new X(null,5,5,Z,[LD,Tw,rz,Xr,bC],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new W1(this.Ya,this.gb,this.Qc,this.Nc,this.Pc,this.G,this.F,this.J)};g.la=function(){return 5+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=354327177^Ce(this)};
g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ya,b.Ya)&&F.B(this.gb,b.gb)&&F.B(this.Qc,b.Qc)&&F.B(this.Nc,b.Nc)&&F.B(this.Pc,b.Pc)&&F.B(this.F,b.F)};g.Sh=function(){function a(e){var f=V1(c);return F.B("popstate",e.type)||$g.B(y(b),f)?U1(c,f):null}var b=Eh(null),c=Q.D(this,bC,b),d=Q.I(c,rz,xN(window,"popstate",a,!1),M([Xr,xN(window,"hashchange",a,!1)]));U1(d,V1(d));return d};g.Th=function(){GN(this.Qc);GN(this.Nc);return null};
g.Vf=function(a,b){Fh(this.Pc,b);a=R1(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.Ng=function(){var a=lg.B(window.location.hash,1);return F.B("",a)?"/":a};g.za=function(a,b){return S(new Ak(null,new q(null,5,[bC,null,Tw,null,rz,null,LD,null,Xr,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new W1(this.Ya,this.gb,this.Qc,this.Nc,this.Pc,this.G,ah(R.B(this.F,b)),null)};
g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "popstate-listener":case "hashchange-listener":case "last-fragment":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(LD,b):U.call(null,LD,b))?new W1(c,this.gb,this.Qc,this.Nc,this.Pc,this.G,this.F,null):r(U.B?U.B(Tw,b):U.call(null,Tw,b))?new W1(this.Ya,c,this.Qc,this.Nc,this.Pc,this.G,this.F,null):r(U.B?U.B(rz,b):U.call(null,rz,b))?new W1(this.Ya,this.gb,c,this.Nc,this.Pc,this.G,this.F,null):r(U.B?U.B(Xr,b):U.call(null,Xr,b))?new W1(this.Ya,this.gb,this.Qc,c,this.Pc,this.G,this.F,null):r(U.B?U.B(bC,b):U.call(null,bC,b))?new W1(this.Ya,this.gb,this.Qc,this.Nc,c,this.G,this.F,
null):new W1(this.Ya,this.gb,this.Qc,this.Nc,this.Pc,this.G,Q.D(this.F,b,c),null)};g.ka=function(){return G(V.B(new X(null,5,5,Z,[new Y(LD,this.Ya,null),new Y(Tw,this.gb,null),new Y(rz,this.Qc,null),new Y(Xr,this.Nc,null),new Y(bC,this.Pc,null)],null),this.F))};g.ha=function(a,b){return new W1(this.Ya,this.gb,this.Qc,this.Nc,this.Pc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function X1(a,b,c,d){var e="undefined"!==typeof location?Kb(location).qd:null;return(e=ic(!!d.ne)&&ic(!!d.qd)||F.B(e,d.qd))?(e=ic(b.altKey))?(e=ic(b.ctrlKey))?(e=ic(b.metaKey))?(e=ic(b.shiftKey))?(e=ic(c.hasAttribute("target"))||S(new Ak(null,new q(null,2,["",null,"_self",null],null),null),c.getAttribute("target")))?(b=F.B(0,b.button))?(c=ic(c.isContentEditable))?F1(a,d.dd):c:b:e:e:e:e:e:e}
function Y1(a,b,c,d,e,f,h){this.Ya=a;this.gb=b;this.bd=c;this.Wc=d;this.G=e;this.F=f;this.J=h;this.O=2230716170;this.T=139264}g=Y1.prototype;g.oa=function(a,b){return this.Y(null,b,null)};g.Y=function(a,b,c){switch(b instanceof D?b.ba:null){case "on-navigate":return this.Ya;case "router":return this.gb;case "listen-key":return this.bd;case "click-listen-key":return this.Wc;default:return B.D(this.F,b,c)}};
g.xa=function(a,b,c){return w.D(function(d,e){var f=N(e,0,null);e=N(e,1,null);return b.D?b.D(d,f,e):b.call(null,d,f,e)},c,this)};g.ia=function(a,b,c){return bl(b,function(d){return bl(b,jl,""," ","",c,d)},"#reitit.frontend.history.Html5History{",", ","}",c,V.B(new X(null,4,5,Z,[new X(null,2,5,Z,[LD,this.Ya],null),new X(null,2,5,Z,[Tw,this.gb],null),new X(null,2,5,Z,[cv,this.bd],null),new X(null,2,5,Z,[iD,this.Wc],null)],null),this.F))};
g.qa=function(){return new dj(this,4,new X(null,4,5,Z,[LD,Tw,cv,iD],null),r(this.F)?Yd(this.F):bh())};g.ga=function(){return this.G};g.pa=function(){return new Y1(this.Ya,this.gb,this.bd,this.Wc,this.G,this.F,this.J)};g.la=function(){return 4+K(this.F)};g.ja=function(){var a=this.J;return null!=a?a:this.J=a=-1654764186^Ce(this)};g.da=function(a,b){return null!=b&&this.constructor===b.constructor&&F.B(this.Ya,b.Ya)&&F.B(this.gb,b.gb)&&F.B(this.bd,b.bd)&&F.B(this.Wc,b.Wc)&&F.B(this.F,b.F)};
g.Sh=function(){var a=this,b=this,c=function(){var e=ZC.C(b);return r(e)?e:X1}(),d=Q.I(b,cv,xN(window,"popstate",function(){return b.Vf(null,b.Ng(null))},!1),M([iD,xN(document,"click",function(e){var f=e.af;a:for(f=null!=f.composedPath?f.composedPath()[0]:e.target;;)if(r(f)){if(F.B("A",f.nodeName))break a;f=f.parentNode}else{f=null;break a}if(r(f)){var h=Kb(f.href);if(r(c.R?c.R(a.gb,e,f,h):c.call(null,a.gb,e,f,h)))return e.preventDefault(),e=[t.C(h.dd),r(""!==h.ed.toString())?["?",t.C(h.getQuery())].join(""):
null,r(!!h.le)?["#",t.C(h.le)].join(""):null].join(""),window.history.pushState(null,"",e),b.Vf(null,e)}return null})]));U1(d,V1(d));return d};g.Vf=function(a,b){a=R1(this.gb,b,this);return this.Ya.B?this.Ya.B(a,this):this.Ya.call(null,a,this)};g.Th=function(){GN(this.bd);GN(this.Wc);return null};g.Ng=function(){return[t.C(window.location.pathname),t.C(window.location.search)].join("")};
g.za=function(a,b){return S(new Ak(null,new q(null,4,[Tw,null,cv,null,iD,null,LD,null],null),null),b)?R.B(jd(fi.B(W,this),this.G),b):new Y1(this.Ya,this.gb,this.bd,this.Wc,this.G,ah(R.B(this.F,b)),null)};g.ra=function(a,b){switch(b instanceof D?b.ba:null){case "on-navigate":case "router":case "listen-key":case "click-listen-key":return!0;default:return S(this.F,b)}};
g.ea=function(a,b,c){return r(U.B?U.B(LD,b):U.call(null,LD,b))?new Y1(c,this.gb,this.bd,this.Wc,this.G,this.F,null):r(U.B?U.B(Tw,b):U.call(null,Tw,b))?new Y1(this.Ya,c,this.bd,this.Wc,this.G,this.F,null):r(U.B?U.B(cv,b):U.call(null,cv,b))?new Y1(this.Ya,this.gb,c,this.Wc,this.G,this.F,null):r(U.B?U.B(iD,b):U.call(null,iD,b))?new Y1(this.Ya,this.gb,this.bd,c,this.G,this.F,null):new Y1(this.Ya,this.gb,this.bd,this.Wc,this.G,Q.D(this.F,b,c),null)};
g.ka=function(){return G(V.B(new X(null,4,5,Z,[new Y(LD,this.Ya,null),new Y(Tw,this.gb,null),new Y(cv,this.bd,null),new Y(iD,this.Wc,null)],null),this.F))};g.ha=function(a,b){return new Y1(this.Ya,this.gb,this.bd,this.Wc,b,this.F,this.J)};g.na=function(a,b){return zf(b)?this.ea(null,x(b,0),x(b,1)):w.D(Hc,this,b)};
function Z1(a,b,c){var d=Zg(c);c=B.D(d,ut,!0);b=Q.I(R.B(d,ut),Tw,a,M([LD,b]));a=S1;r(c)?(c=R.I(b,LD,M([Tw,rz,Xr,bC])),c=yf(b)?fi.B(W,c):c,b=new W1(LD.C(b),Tw.C(b),rz.C(b),Xr.C(b),bC.C(b),null,ah(c),null)):(c=R.I(b,LD,M([Tw,cv,iD])),c=yf(b)?fi.B(W,c):c,b=new Y1(LD.C(b),Tw.C(b),cv.C(b),iD.C(b),null,ah(c),null));a(b)}function $1(a){return r(a)?T1(a):null};var a2=Eh(null);function b2(a){var b=c2,c=new q(null,1,[ut,!1],null);Gh.B(a2,$1);Z1(b,function(d,e){null==y(a2)&&Fh(a2,e);return a.B?a.B(d,e):a.call(null,d,e)},c)};var gG,op=new q(null,3,[lv,new q(null,1,[Hm,wt],null),Gs,new q(null,2,[Du,Jt,yq,Ss],null),jo,new q(null,2,[Du,Jt,yq,Uu],null)],null),pp=HT?HT(op):IT.call(null,op),Cp=Zg(M([bc,new q(null,1,[jA,Eh(W)],null)])),Up=B.B(Cp,bc),Vp=B.B(Cp,bq);gG=new Ch(pp,Up,Vp);var i2={};var j2={},$p,dq,lq,mq;function o2(a,b){if(null!=a&&null!=a.zf)a=a.zf(a,b);else{var c=o2[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=o2._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Spec.conform*",a);}return a}function p2(a,b){if(null!=a&&null!=a.Af)a=a.Af(a,b);else{var c=p2[ha(null==a?null:a)];if(null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else if(c=p2._,null!=c)a=c.B?c.B(a,b):c.call(null,a,b);else throw pc("Spec.with-gen*",a);}return a}var q2=Eh(W);
function r2(a){if(tg(a)){var b=y(q2);a=B.B(b,a);if(tg(a))a:for(;;)if(tg(a))a=B.B(b,a);else{b=a;break a}else b=a;return b}return a}function s2(a){if(tg(a)){var b=r2(a);if(r(b))return b;throw Error(["Unable to resolve spec: ",t.C(a)].join(""));}return a}function t2(a){return null!=a&&l===a.qg?a:null}function u2(a){var b=Ux.C(a);return r(b)?a:b}function v2(a,b){return tg(a)?a:r(u2(a))?Q.D(a,Vn,b):null!=a&&(a.O&131072||l===a.tf)?qf(a,Q.D(rf(a),Vn,b)):null}
function w2(a){return tg(a)?a:r(u2(a))?Vn.C(a):null!=a&&(a.O&131072||l===a.tf)?Vn.C(rf(a)):null}function x2(a){var b=function(){var c=(c=tg(a))?r2(a):c;if(r(c))return c;c=t2(a);if(r(c))return c;c=u2(a);return r(c)?c:null}();return r(u2(b))?v2(y2(b,null),w2(b)):b}function z2(a){var b=x2(a);if(r(b))return b;if(tg(a))throw Error(["Unable to resolve spec: ",t.C(a)].join(""));return null}
function A2(a){if(XE(a))return null;a=Qh.B(vm,SE(a,"$",0));if(2<=K(a)&&qh(function(c){return!XE(c)},a)){var b=Vk(Gk,gf)(a);a=N(b,0,null);b=N(b,1,null);return oe.C([PE(".",a),"/",t.C(b)].join(""))}return null}
var nq=function(){function a(d,e){var f=B2[ha(null==d?null:d)];if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);f=B2._;if(null!=f)return f.B?f.B(d,e):f.call(null,d,e);throw pc("Specize.specize*",d);}function b(d){var e=B2[ha(null==d?null:d)];if(null!=e)return e.C?e.C(d):e.call(null,d);e=B2._;if(null!=e)return e.C?e.C(d):e.call(null,d);throw pc("Specize.specize*",d);}var c=null;c=function(d,e){switch(arguments.length){case 1:return b.call(this,d);case 2:return a.call(this,d,e)}throw Error("Invalid arity: "+
arguments.length);};c.C=b;c.B=a;return c}(),B2=function B2(a){switch(arguments.length){case 1:return B2.C(arguments[0]);case 2:return B2.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};B2.C=function(a){return null!=a&&null!=a.ge?a.ge(a):nq(a)};B2.B=function(a,b){return null!=a&&null!=a.he?a.he(a,b):nq(a,b)};B2.aa=2;D.prototype.ge=function(){return B2(s2(this))};D.prototype.he=function(){return B2(s2(this))};A.prototype.ge=function(){return B2(s2(this))};
A.prototype.he=function(){return B2(s2(this))};Ak.prototype.ge=function(){return D2(this,this)};Ak.prototype.he=function(a,b){return D2(b,this)};Dk.prototype.ge=function(){return D2(this,this)};Dk.prototype.he=function(a,b){return D2(b,this)};
B2._=function(){function a(c){var d=(d=of(c))?A2(c.name):d;return r(d)?D2(d,c):D2(gv,c)}var b=null;b=function(c,d){switch(arguments.length){case 1:return a.call(this,c);case 2:return D2(d,c)}throw Error("Invalid arity: "+arguments.length);};b.C=a;b.B=function(c,d){return D2(d,c)};return b}();var E2=function E2(a){switch(arguments.length){case 1:return E2.C(arguments[0]);case 2:return E2.B(arguments[0],arguments[1]);default:throw Error(["Invalid arity: ",t.C(arguments.length)].join(""));}};
E2.C=function(a){var b=t2(a);return r(b)?b:B2(a)};E2.B=function(a,b){var c=t2(a);return r(c)?c:B2(a,b)};E2.aa=2;function F2(a,b){a=r2(a);return r(u2(a))?Q.D(a,CC,b):p2(E2.C(a),b)}function G2(a,b,c){if(null==c)Gh.D(q2,R,a);else{var d=t2(c);r(d)||(d=u2(c),d=r(d)?d:B.B(y(q2),c));b=r(d)?c:D2(b,c);Gh.R(q2,Q,a,v2(b,a))}}
function H2(a,b,c){if(r(a)){var d=z2(a);if(r(d))return o2(E2.C(d),b);if(Gf(a))return r(null)?a.C?a.C(b):a.call(null,b):r(a.C?a.C(b):a.call(null,b))?b:iq;throw Error([rl.I(M([c]))," is not a fn, expected predicate fn"].join(""));}return b}function I2(a,b){a=E2.C(a);return!U(iq,o2(a,b))}function D2(a,b){return J2(a,b,null,null,null)}
function J2(a,b,c,d,e){if(r(t2(b)))return r(c)?F2(b,c):b;if(r(u2(b)))return y2(b,c);if(tg(b))return a=z2(b),r(c)?F2(a,c):a;if("undefined"===typeof Qb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof dq)dq=function(f,h,k,m,n,p){this.form=f;this.pred=h;this.Je=k;this.sh=m;this.xj=n;this.oe=p;this.O=393216;this.T=0},dq.prototype.ha=function(f,h){return new dq(this.form,this.pred,this.Je,this.sh,this.xj,h)},dq.prototype.ga=function(){return this.oe},dq.prototype.ge=function(){return this},
dq.prototype.he=function(){return this},dq.prototype.qg=l,dq.prototype.zf=function(f,h){f=this.pred.C?this.pred.C(h):this.pred.call(null,h);return r(this.sh)?f:r(f)?h:iq},dq.prototype.Af=function(f,h){return J2(this.form,this.pred,h,this.sh,this.xj)},dq.Wa=!0,dq.Sa="cljs.spec.alpha/t_cljs$spec$alpha43908",dq.Za=function(f){return yd(f,"cljs.spec.alpha/t_cljs$spec$alpha43908")};return new dq(a,b,c,d,e,W)}
function K2(a,b,c){var d=G(b);H(d);J(d);d=G(c);H(d);J(d);for(d=c;;){c=a;b=G(b);a=H(b);b=J(b);var e=G(d);d=H(e);e=J(e);var f=d;d=e;if(r(a)){c=H2(a,c,f);if(U(iq,c))return iq;a=c}else return c}}var L2=new q(null,4,[yB,jf,uy,Ck,Hs,ve,hp,W],null);
function M2(a,b,c,d){function e(va,ua,Ma,Ka){return hf.B(va,Ka)}var f=Zg(c),h=B.B(f,LE),k=B.B(f,mn),m=B.D(f,jy,20),n=B.B(f,cz),p=B.B(f,Ow),u=B.B(f,aD),v=B.B(f,fA),z=B.B(f,tB),C=B.B(f,kt),E=B.B(f,Pr),I=B.B(f,Oq),O=B.B(f,uv),P=B.B(f,Jy),T=r(P)?lf(P):B.B(L2,k),aa=new Dl(function(){return E2.C(b)}),ea=function(){return r(z)?z:function(va){return va}}();if("undefined"===typeof Qb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof lq)lq=function(va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,kc,
Db,Fd,Eg,df,Dh,Le,Fg,xe,ef,ge,he,ie,dk){this.form=va;this.Lk=ua;this.Xj=Ma;this.Je=Ka;this.yk=la;this.pred=ya;this.ug=sa;this.qk=Da;this.Dk=fb;this.Vj=zc;this.ig=jc;this.wk=kc;this.Ie=Db;this.distinct=Fd;this.Ma=Eg;this.spec=df;this.Ck=Dh;this.xk=Le;this.count=Fg;this.pl=xe;this.zb=ef;this.kind=ge;this.Ii=he;this.pk=ie;this.pe=dk;this.O=393216;this.T=0},lq.prototype.ha=function(va,ua){return new lq(this.form,this.Lk,this.Xj,this.Je,this.yk,this.pred,this.ug,this.qk,this.Dk,this.Vj,this.ig,this.wk,
this.Ie,this.distinct,this.Ma,this.spec,this.Ck,this.xk,this.count,this.pl,this.zb,this.kind,this.Ii,this.pk,ua)},lq.prototype.ga=function(){return this.pe},lq.prototype.ge=function(){return this},lq.prototype.he=function(){return this},lq.prototype.qg=l,lq.prototype.zf=function(va,ua){va=y(this.spec);if(ic(this.ug.C?this.ug.C(ua):this.ug.call(null,ua)))return iq;if(r(this.Ii)){var Ma=this.ig.C?this.ig.C(ua):this.ig.call(null,ua),Ka=N(Ma,0,null),la=N(Ma,1,null);Ma=N(Ma,2,null);var ya=Ka.C?Ka.C(ua):
Ka.call(null,ua);Ka=0;var sa=G(ua);ua=G(sa);H(ua);J(ua);for(ua=ya;;){var Da=sa;ya=G(Da);sa=H(ya);ya=J(ya);if(Da){Da=o2(va,sa);if(U(iq,Da))return iq;ua=la.R?la.R(ua,Ka,sa,Da):la.call(null,ua,Ka,sa,Da);Ka+=1;sa=ya}else return Ma.C?Ma.C(ua):Ma.call(null,ua)}}else if(Re(ua))for(la=eg(K(ua)/101),la=1>la?1:la,Ka=0;;){if(Ka>=K(ua))return ua;if(I2(va,Te(ua,Ka)))Ka+=la;else return iq}else for(Ka=0,la=G(ua),Ma=G(la),H(Ma),J(Ma);;){sa=G(la);Ma=H(sa);ya=J(sa);sa=Ma;Da=la;if(null==Da||F.B(Ka,101))return ua;if(I2(va,
sa))la=ya,Ka+=1;else return iq}},lq.prototype.Af=function(va,ua){return M2(this.form,this.pred,this.zb,ua)},lq.Wa=!0,lq.Sa="cljs.spec.alpha/t_cljs$spec$alpha44060",lq.Za=function(va){return yd(va,"cljs.spec.alpha/t_cljs$spec$alpha44060")};return new lq(a,h,function(va){return I2(y(aa),va)},d,m,b,n,p,k,e,function(va){return zf(va)&&(ic(P)||zf(P))?new X(null,3,5,Z,[Tf,function(ua,Ma,Ka,la){return Ka===la?ua:Q.D(ua,Ma,la)},Tf],null):r(function(){var ua=xf(va);return ua?(ua=r(I)?ic(P):I,r(ua)?ua:xf(P)):
ua}())?new X(null,3,5,Z,[r(p)?lf:Tf,function(ua,Ma,Ka,la){return Ka===la&&ic(p)?ua:Q.D(ua,Te(r(p)?la:Ka,0),Te(la,1))},Tf],null):mg(P)||Df(P)||ic(P)&&(mg(va)||Df(va))?new X(null,3,5,Z,[lf,e,og],null):new X(null,3,5,Z,[function(ua){return lf(r(P)?P:ua)},e,Tf],null)},u,c,v,f,aa,ea,T,C,E,f,I,O,P,W)}function N2(a){return new q(null,2,[Ux,Xq,ns,a],null)}function O2(a){a=Zg(a);a=B.B(a,Ux);return F.B(Xq,a)}
var P2=function P2(a){var c=Zg(a),d=B.B(c,zw);a=G(d);var e=H(a);a=J(a);var f=B.B(c,Zv),h=G(f),k=H(h);h=J(h);var m=B.B(c,Hp),n=G(m);H(n);n=J(n);var p=B.B(c,ns);c=B.B(c,nv);return qh(Tf,d)?O2(e)?(d=ns.C(e),d=hf.B(p,r(f)?nf([k,d]):d),a?(a=new q(null,4,[zw,a,Zv,h,Hp,n,ns,d],null),P2.C?P2.C(a):P2.call(null,a)):N2(d)):new q(null,6,[Ux,jq,zw,d,ns,p,Zv,f,Hp,m,nv,c],null):null};
function Q2(a,b,c,d,e){return r(a)?(d=new q(null,5,[Ux,au,Gv,b,yt,d,Hp,e,wE,rm()],null),O2(a)?Q.I(d,Iv,b,M([ns,hf.B(c,ns.C(a))])):Q.I(d,Iv,a,M([ns,c]))):null}
function R2(a,b,c,d){return r(r(b)?b:c)?(a=di(function(e){e=H(e);return d.C?d.C(e):d.call(null,e)},Qh.R(Ni,a,function(){var e=G(b);return e?e:Wh(null)}(),function(){var e=G(c);return e?e:Wh(null)}())),new X(null,3,5,Z,[G(Qh.B(H,a)),r(b)?G(Qh.B(cf,a)):null,r(c)?G(Qh.B(function(e){return Te(e,2)},a)):null],null)):new X(null,3,5,Z,[G(di(d,a)),b,c],null)}
function S2(a,b,c){var d=R2(a,b,c,Tf);c=N(d,0,null);b=G(c);a=H(b);var e=J(b),f=N(d,1,null);b=N(f,0,null);d=N(d,2,null);return r(c)?(c=new q(null,4,[Ux,dn,zw,c,Zv,f,Hp,d],null),null==e?r(b)&&(O2(a)?(a=ns.C(a),a=N2(new Y(b,a,null))):a=c):a=c,a):null}function T2(a,b){return r(r(a)?b:a)?S2(M([a,b]),null,null):r(a)?a:b}
var U2=function U2(a){a=s2(a);var c=Zg(a),d=B.B(c,Ux),e=B.B(c,zw);a=B.B(c,Iv);var f=B.B(c,Gv);c=B.B(c,Hp);if(F.B(Xq,d))return!0;if(F.B(null,d))return null;if(F.B(Ym,d))return d=U2.C?U2.C(a):U2.call(null,a),r(d)?(a=K2(V2(a),e,J(c)),!U(iq,a)):d;if(F.B(au,d))return(e=a===f)?e:U2.C?U2.C(a):U2.call(null,a);if(F.B(jq,d))return qh(U2,e);if(F.B(dn,d))return rh(U2,e);throw Error(["No matching clause: ",t.C(d)].join(""));},V2=function V2(a){a=s2(a);var c=Zg(a);a=B.B(c,zw);var d=G(a),e=H(d);J(d);var f=B.B(c,
Zv),h=N(f,0,null),k=B.B(c,Ux);d=B.B(c,Iv);var m=B.B(c,ns);c=B.B(c,Hp);if(F.B(Xq,k))return m;if(F.B(null,k))return null;if(F.B(Ym,k))return e=V2.C?V2.C(d):V2.call(null,d),(f=F.B(e,kn))?d=f:(d=Ux.C(s2(d)),f=new Ak(null,new q(null,2,[au,null,jq,null],null),null),d=f.C?f.C(d):f.call(null,d),d=r(d)?tf(e):d,d=r(d)?d:null),r(d)?kn:K2(e,a,c);if(F.B(au,k))return W2(d,m,h);if(F.B(jq,k))return W2(e,m,h);if(F.B(dn,k))return c=R2(a,f,c,U2),a=N(c,0,null),a=N(a,0,null),c=N(c,1,null),c=N(c,0,null),a=null==a?kn:V2.C?
V2.C(a):V2.call(null,a),r(c)?new Y(c,a,null):a;throw Error(["No matching clause: ",t.C(k)].join(""));};function W2(a,b,c){a=s2(a);var d=Zg(a),e=B.B(d,Ux);B.B(d,zw);a=B.B(d,yt);if(F.B(null,e))return b;if(F.B(dn,e)||F.B(Xq,e)||F.B(Ym,e))return a=V2(d),F.B(a,kn)?b:hf.B(b,r(c)?nf([c,a]):a);if(F.B(au,e)||F.B(jq,e))return d=V2(d),tf(d)||(c=r(c)?nf([c,d]):d,a=r(a)?fi:hf,b=a.B?a.B(b,c):a.call(null,b,c)),b;throw Error(["No matching clause: ",t.C(e)].join(""));}
var X2=function X2(a,b){a=s2(a);var d=Zg(a),e=B.B(d,Hp),f=B.B(d,Gv);a=B.B(d,zw);var h=G(a),k=H(h),m=J(h),n=B.B(d,ns);h=B.B(d,Ux);var p=B.B(d,yt),u=B.B(d,Zv),v=G(u),z=H(v),C=J(v);v=B.B(d,$y);var E=B.B(d,Iv);if(r(d)){if(F.B(Xq,h))return null;if(F.B(null,h))return a=H2(d,b,d),U(iq,a)?null:N2(a);if(F.B(Ym,h))return d=X2.B?X2.B(E,b):X2.call(null,E,b),r(d)?F.B(Xq,Ux.C(d))?(a=K2(V2(d),a,J(e)),U(iq,a)?null:N2(a)):new q(null,5,[Ux,Ym,Iv,d,$y,v,zw,a,Hp,e],null):null;if(F.B(jq,h))return T2(P2(new q(null,4,[zw,
Ze(X2.B?X2.B(k,b):X2.call(null,k,b),m),Zv,u,Hp,e,ns,n],null)),r(U2(k))?function(){var I=P2(new q(null,4,[zw,m,Zv,C,Hp,J(e),ns,W2(k,n,z)],null));return X2.B?X2.B(I,b):X2.call(null,I,b)}():null);if(F.B(dn,h))return S2(Qh.B(function(I){return X2.B?X2.B(I,b):X2.call(null,I,b)},a),u,e);if(F.B(au,h))return T2(Q2(X2.B?X2.B(E,b):X2.call(null,E,b),f,n,p,e),r(U2(E))?function(){var I=Q2(f,f,W2(E,n,null),p,e);return X2.B?X2.B(I,b):X2.call(null,I,b)}():null);throw Error(["No matching clause: ",t.C(h)].join(""));
}return null};function Y2(a,b){for(;;){var c=G(b),d=H(c);c=J(c);if(tf(b))return r(U2(a))?(a=V2(a),F.B(a,kn)?null:a):iq;a=X2(a,d);if(r(a))b=c;else return iq}}
var y2=function y2(a,b){if("undefined"===typeof Qb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof mq)mq=function(d,e,f){this.re=d;this.Je=e;this.qe=f;this.O=393216;this.T=0},mq.prototype.ha=function(d,e){return new mq(this.re,this.Je,e)},mq.prototype.ga=function(){return this.qe},mq.prototype.ge=function(){return this},mq.prototype.he=function(){return this},mq.prototype.qg=l,mq.prototype.zf=function(d,e){return null==e||wf(e)?Y2(this.re,G(e)):iq},mq.prototype.Af=function(d,
e){return y2.B?y2.B(this.re,e):y2.call(null,this.re,e)},mq.Wa=!0,mq.Sa="cljs.spec.alpha/t_cljs$spec$alpha44256",mq.Za=function(d){return yd(d,"cljs.spec.alpha/t_cljs$spec$alpha44256")};return new mq(a,b,W)};
G2(Nq,pg(pC,pg(Yv,new X(null,1,5,Z,[Sa],null),pg(Hq,pg(Wt,Rp,Sa),pg(Wt,Pp,Sa))),pg(Yv,new X(null,1,5,Z,[Ta],null),pg(Wt,pg(ew,new X(null,1,5,Z,[new X(null,2,5,Z,[Bo,zo],null)],null),new q(null,2,[Rp,Bo,Pp,zo],null)),Ta))),J2(pg(pC,pg(ew,new X(null,1,5,Z,[Xp],null),pg(Hq,pg(Wt,Rp,Xp),pg(Wt,Pp,Xp))),pg(ew,new X(null,1,5,Z,[Xp],null),pg(Wt,pg(ew,new X(null,1,5,Z,[new X(null,2,5,Z,[Bo,zo],null)],null),new q(null,2,[Rp,Bo,Pp,zo],null)),Xp))),function(a){return Hk(Qh.B(Rp,a),Qh.B(Pp,a))},null,!0,function(a){return Qh.B(function(b){var c=
N(b,0,null);b=N(b,1,null);return new q(null,2,[Rp,c,Pp,b],null)},a)}));G2(lv,Dn,mc);G2(Np,new Ak(null,new q(null,8,[FE,"null",Qx,"null",Hr,"null",br,"null",kE,"null",Vv,"null",ly,"null",pz,"null"],null),null),new Ak(null,new q(null,8,[FE,null,Qx,null,Hr,null,br,null,kE,null,Vv,null,ly,null,pz,null],null),null));
G2(Go,pg(ur,ms,new X(null,2,5,Z,[lv,Np],null)),function Z2(a){var c=Zg(a),d=B.B(c,qE),e=B.B(c,Gp),f=B.B(c,$w),h=B.B(c,IA),k=B.B(c,Jr),m=B.B(c,qr),n=B.B(c,vu),p=B.B(c,fC),u=B.B(c,ms),v=B.B(c,dE),z=B.B(c,oB),C=B.B(c,zA),E=Hk(V.B(v,n),V.B(p,z)),I=rm();if("undefined"===typeof Qb||"undefined"===typeof i2||"undefined"===typeof j2||"undefined"===typeof $p)$p=function(O,P,T,aa,ea,va,ua,Ma,Ka,la,ya,sa,Da,fb,zc,jc,kc,Db,Fd){this.La=O;this.Cg=P;this.xl=T;this.Ol=aa;this.Al=ea;this.Je=va;this.El=ua;this.Dg=Ma;
this.oi=Ka;this.yl=la;this.Ae=ya;this.Nl=sa;this.req=Da;this.id=fb;this.Ml=zc;this.zl=jc;this.Bk=kc;this.Fl=Db;this.me=Fd;this.O=393216;this.T=0},$p.prototype.ha=function(O,P){return new $p(this.La,this.Cg,this.xl,this.Ol,this.Al,this.Je,this.El,this.Dg,this.oi,this.yl,this.Ae,this.Nl,this.req,this.id,this.Ml,this.zl,this.Bk,this.Fl,P)},$p.prototype.ga=function(){return this.me},$p.prototype.ge=function(){return this},$p.prototype.he=function(){return this},$p.prototype.qg=l,$p.prototype.zf=function(O,
P){if(r(this.Dg.C?this.Dg.C(P):this.Dg.call(null,P))){O=y(q2);var T=G(P),aa=H(T);J(T);N(aa,0,null);N(aa,1,null);for(aa=T=P;;){P=T;var ea=aa;aa=G(ea);T=H(aa);var va=J(aa);aa=T;T=N(aa,0,null);aa=N(aa,1,null);if(r(ea))if(ea=this.Cg.C?this.Cg.C(T):this.Cg.call(null,T),ea=B.B(O,ea),r(ea)){var ua=aa;ea=o2(E2.C(ea),ua);if(U(iq,ea))return iq;P=ea===aa?P:Q.D(P,T,ea);aa=va;T=P}else aa=va,T=P;else return P}}else return iq},$p.prototype.Af=function(O,P){O=Q.D(this.oi,IA,P);return Z2.C?Z2.C(O):Z2.call(null,O)},
$p.Wa=!0,$p.Sa="cljs.spec.alpha/t_cljs$spec$alpha43833",$p.Za=function(O){return yd(O,"cljs.spec.alpha/t_cljs$spec$alpha43833")};return new $p(c,function(O){var P=E.C?E.C(O):E.call(null,O);return r(P)?P:O},d,e,f,h,k,m,c,n,a,p,u,I,v,z,E,C,W)}(Wj([Gp,$w,IA,Jr,qr,vu,fC,ms,dE,oB,zA,qE],[null,null,null,new X(null,3,5,Z,[function(a){return xf(a)},function(a){return S(a,lv)},function(a){return S(a,Np)}],null),function(a){return xf(a)&&S(a,lv)&&S(a,Np)},jf,new X(null,2,5,Z,[lv,Np],null),new X(null,2,5,Z,
[lv,Np],null),new X(null,2,5,Z,[lv,Np],null),jf,new X(null,3,5,Z,[pg(ew,new X(null,1,5,Z,[Xp],null),pg(hp,Xp)),pg(ew,new X(null,1,5,Z,[Xp],null),pg(SB,Xp,lv)),pg(ew,new X(null,1,5,Z,[Xp],null),pg(SB,Xp,Np))],null),null])));G2(kr,pg(Io,Go),M2(Go,Go,new q(null,4,[uv,!0,mn,null,aD,pg(Io,Go),cz,function(a){return uf(a)}],null),null));var $2=hZ(13);var a3=hZ(50);var b3=hZ(51);hZ(52);hZ(57);var c3=hZ(64);var d3=hZ(86);var e3=hZ(121);var f3=hZ(143);var h3=hZ(168);var i3=hZ(180);var j3=hZ(297);var g3=hZ(323);var k3=hZ(365);function l3(a){a=Zg(a);var b=B.B(a,Yq),c=B.B(a,Yn),d=B.B(a,MA),e=B.B(a,Zz),f=B.B(a,Ts),h=Qh.B(function(k){return zf(k)?k:new X(null,2,5,Z,[k,t.C(k)],null)},e);return new X(null,3,5,Z,[Lo,new X(null,2,5,Z,[Iw,function(){return function n(m){return new wg(null,function(){for(;;){var p=G(m);if(p){if(Af(p)){var u=Pd(p),v=K(u),z=Ag(v);a:for(var C=0;;)if(C<v){var E=x(u,C);N(E,0,null);E=N(E,1,null);E=qf(new X(null,2,5,Z,[Av,new X(null,2,5,Z,[YC,E],null)],null),new q(null,1,[XD,E],null));z.add(E);C+=1}else{u=
!0;break a}return u?Cg(Gg(z),n(Qd(p))):Cg(Gg(z),null)}z=H(p);N(z,0,null);z=N(z,1,null);return Ze(qf(new X(null,2,5,Z,[Av,new X(null,2,5,Z,[YC,z],null)],null),new q(null,1,[XD,z],null)),n(ue(p)))}return null}},null,null)}(h)}()],null),new X(null,4,5,Z,[RA,c3.FixedSizeList,new q(null,4,[WB,b,ho,c,dv,d,$x,K(f)],null),Y_(function(k){k=Zg(k);var m=B.B(k,RC);k=B.B(k,xo);return new X(null,3,5,Z,[fu,new q(null,1,[xo,Sl(k)],null),function(){var n=N(f,m,null);return function v(u){return new wg(null,function(){for(;;){var z=
G(u);if(z){if(Af(z)){var C=Pd(z),E=K(C),I=Ag(E);a:for(var O=0;;)if(O<E){var P=x(C,O),T=N(P,0,null);P=N(P,1,null);T=qf(new X(null,2,5,Z,[Av,new X(null,2,5,Z,[Wx,zf(T)?ji(n,T):B.B(n,T)],null)],null),new q(null,1,[XD,P],null));I.add(T);O+=1}else{C=!0;break a}return C?Cg(Gg(I),v(Qd(z))):Cg(Gg(I),null)}C=H(z);I=N(C,0,null);C=N(C,1,null);return Ze(qf(new X(null,2,5,Z,[Av,new X(null,2,5,Z,[Wx,zf(I)?ji(n,I):B.B(n,I)],null)],null),new q(null,1,[XD,C],null)),v(ue(z)))}return null}},null,null)}(h)}()],null)})],
null)],null)}function m3(a){a=Zg(a);var b=B.B(a,$B),c=B.B(a,cx),d=B.B(a,Er),e=B.B(a,UB),f=B.B(a,Xs);return q_(new q(null,2,[vB,function(){return new X(null,1,5,Z,[ao],null)},xu,function(h){h=b3(Z_.findDOMNode(h),{value:d,mode:e,lineNumbers:f});h.setSize(c,b);return h}],null),X_)}function n3(a){a=Zg(a);var b=B.B(a,Ct);return q_(new q(null,2,[vB,function(){return new X(null,1,5,Z,[ao],null)},xu,function(c){return a3(Z_.findDOMNode(c),Ol(b))}],null),X_)}
function o3(a){return new X(null,2,5,Z,[wz,new q(null,1,[vs,new q(null,1,[dD,$2(bD.C(a))],null)],null)],null)}function p3(a){return new X(null,2,5,Z,[ao,new q(null,1,[vs,new q(null,1,[dD,SC.C(a)],null)],null)],null)}
function q3(a){var b=Zg(a);a=B.B(b,np);var c=B.B(b,VD),d=B.B(b,Bv),e=B.B(b,oy);return r(a)?(b=vk.I(M([W,r(c)?new q(null,1,["dataProjection",c],null):null,r(d)?new q(null,1,["featureProjection",d],null):null])),a=(new i3.default).readFeature(a,Ol(b)),r(e)&&a.setStyle(new g3.Style(Ol(vk.I(M([W,function(){var f=ji(e,new X(null,2,5,Z,[Gx,qC],null));return r(f)?new q(null,1,[Yz,new g3.Fill({color:d3.asString(f)})],null):null}(),function(){var f=ji(e,new X(null,2,5,Z,[LB,qC],null));return r(f)?new q(null,
1,[Js,new g3.Stroke({color:d3.asString(f)})],null):null}()]))))),a):null}
function r3(a){a=Zg(a);var b=B.B(a,Dy),c=B.B(a,Iy),d=B.B(a,Py),e=B.B(a,eD),f=B.B(a,kq),h=B.B(a,Ov),k=B.B(a,fq);return q_(new q(null,2,[vB,function(){return new X(null,2,5,Z,[ao,new q(null,1,[xo,new q(null,2,[WB,r(b)?b:"500px",ho,r(c)?c:"1200px"],null)],null)],null)},xu,function(m){var n=null==e?null:Ol(e),p=r(f)?function(){var z=null==n?null:e3.fromLonLat(n);console.log(["Center projection: ",PE(" ",e)," (WGS84) to ",t.C(z)," (EPSG:3857)"].join(""));return z}():n;p=r(p)?p:[0,0];var u=r(d)?new g3.Style(Ol(vk.I(M([W,
function(){var z=ji(d,new X(null,2,5,Z,[Yz,lr],null));return r(z)?new q(null,1,[Yz,new g3.Fill({color:d3.asString(z)})],null):null}(),function(){var z=ji(d,new X(null,2,5,Z,[Js,lr],null));return r(z)?new q(null,1,[Js,new g3.Stroke({color:d3.asString(z)})],null):null}()])))):null,v=new j3.Vector(Ol(new q(null,1,["features",gi.B(q3,k)],null)));u=new k3.Vector(Ol(vk.I(M([new q(null,1,[cw,v],null),r(u)?new q(null,1,[xo,u],null):null]))));v=new j3.XYZ({url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
attributions:"Tiles \x26copy; Esri \x26mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"});return new h3.default({target:Z_.findDOMNode(m),layers:[new k3.Tile({source:v}),u],view:new f3.default({center:p,zoom:r(h)?h:4})})}],null),X_)}
function s3(a){return new X(null,2,5,Z,[BB,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[Av,new q(null,1,[XD,lv.C(n)],null),new X(null,2,5,Z,[t3,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}k=H(e);return Ze(new X(null,3,5,Z,[Av,new q(null,1,[XD,lv.C(k)],null),new X(null,2,5,Z,[t3,k],null)],null),d(ue(e)))}return null}},
null,null)}(jo.C(a))}()],null)}
function u3(a){return new X(null,2,5,Z,[Ar,function(){return function d(c){return new wg(null,function(){for(;;){var e=G(c);if(e){if(Af(e)){var f=Pd(e),h=K(f),k=Ag(h);a:for(var m=0;;)if(m<h){var n=x(f,m);n=new X(null,3,5,Z,[Av,new q(null,1,[XD,lv.C(n)],null),new X(null,2,5,Z,[t3,n],null)],null);k.add(n);m+=1}else{f=!0;break a}return f?Cg(Gg(k),d(Qd(e))):Cg(Gg(k),null)}k=H(e);return Ze(new X(null,3,5,Z,[Av,new q(null,1,[XD,lv.C(k)],null),new X(null,2,5,Z,[t3,k],null)],null),d(ue(e)))}return null}},
null,null)}(jo.C(a))}()],null)}
function t3(a){var b=Zg(a),c=B.B(b,lv),d=B.B(b,Np);b=function(){switch(d instanceof D?d.ba:null){case "widget.type/html":return p3;case "widget.type/row":return s3;case "widget.type/column":return u3;case "widget.type/table":return l3;case "widget.type/vega-embed":return n3;case "widget.type/codemirror":return m3;case "widget.type/markdown":return o3;case "widget.type/geoplot":return r3;default:return new X(null,2,5,Z,[gu,new X(null,3,5,Z,[Wx,"Unknown Widget type ",new X(null,2,5,Z,[Do,t.C(d)],null)],
null)],null)}}();return qf(new X(null,2,5,Z,[b,a],null),new q(null,1,[XD,c],null))};var v3=hZ(366);var w3=hZ(368);var x3=function(a){return UJ(vg(a),WJ({handlers:Ol(vk.I(M([new q(null,6,["$",function(b){return oe.C(b)},":",function(b){return ug.C(b)},"set",function(b){return fi.B(Ck,b)},"list",function(b){return fi.B(ve,b.reverse())},"cmap",function(b){for(var c=0,d=Hd(W);;)if(c<b.length){var e=c+2;d=Kd(d,b[c],b[c+1]);c=e}else return Jd(d)},"with-meta",function(b){return qf(b[0],b[1])}],null),R.B(an.C(null),om)]))),defaultHandler:om.C(an.C(null)),mapBuilder:new XJ,arrayBuilder:new YJ,preferStrings:!1,preferBuffers:!1},
Ol(vI())))}(Ap),y3=function(a){var b=new aK,c=new bK,d=new cK,e=new dK,f=vk.I(M([Wj([Uj,qg,q,Pj,Zi,se,D,ek,ng,wg,Ri,Yi,Rj,uk,fK,hj,X,kf,Xe,Ak,nk,tk,Pi,Dk,Bg,A,qm,Pk,Zj,ck],[c,b,c,b,b,b,new ZJ,e,b,b,e,b,b,b,new gK,b,e,b,b,d,c,b,b,d,b,new $J,new eK,b,b,e]),"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Kl?nf([Kl,b]):null,"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Vh?nf([Vh,b]):null,"undefined"!==typeof Qb&&"undefined"!==typeof Rb&&"undefined"!==typeof Y?
nf([Y,e]):null,an.C(null)]));return VJ(vg(a),WJ({objectBuilder:function(h,k,m){return Sf(function(n,p,u){n.push(k.C?k.C(p):k.call(null,p),m.C?m.C(u):m.call(null,u));return n},["^ "],h)},handlers:function(){var h=Bc(f);h.forEach=function(k){for(var m=G(this),n=null,p=0,u=0;;)if(u<p){var v=n.Da(null,u),z=N(v,0,null);v=N(v,1,null);F.B(om,z)?k.B?k.B(v,"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z);u+=1}else if(m=G(m))Af(m)?(n=Pd(m),m=Qd(m),z=n,p=K(n),n=z):(n=H(m),z=N(n,0,null),v=N(n,
1,null),F.B(om,z)?k.B?k.B(v,"default"):k.call(null,v,"default"):k.B?k.B(v,z):k.call(null,v,z),m=J(m),n=null,p=0),u=0;else return null};return h}(),unpack:function(h){return h instanceof q?h.K:!1}},Ol(R.B(null,an))))}(Ap),z3=SZ.C(W);function E3(a){a=SV?SV(a):RV.call(null,a);IY(a)}var F3=function F3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return F3.I(c)};
F3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[aE,vk.I(M([new q(null,4,[Yz,"none",Js,"currentColor",Zx,"0 0 24 24",Fv,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Pt,"round",Tq,"2",FB,"M6 18L18 6M6 6l12 12"],null)],null)],null)};F3.aa=0;F3.fa=function(a){return this.I(G(a))};var G3=function G3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return G3.I(c)};
G3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[tr,vk.I(M([new q(null,4,[Yz,"none",Js,"currentColor",Zx,"0 0 24 24",Fv,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Pt,"round",Tq,"2",FB,"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],null)],null)],null)};G3.aa=0;G3.fa=function(a){return this.I(G(a))};
var H3=function H3(a){for(var c=[],d=arguments.length,e=0;;)if(e<d)c.push(arguments[e]),e+=1;else break;c=0<c.length?new se(c.slice(0),0,null):null;return H3.I(c)};
H3.I=function(a){a=N(a,0,null);return new X(null,3,5,Z,[tr,vk.I(M([new q(null,4,[Yz,"none",Js,"currentColor",Zx,"0 0 24 24",Fv,"http://www.w3.org/2000/svg"],null),a])),new X(null,2,5,Z,[gB,new q(null,4,[yz,"round",Pt,"round",Tq,"2",FB,"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"],null)],null)],null)};H3.aa=0;H3.fa=function(a){return this.I(G(a))};
function I3(){return new X(null,3,5,Z,[ao,new q(null,1,[TC,"flex justify-center items-center w-1/2 h-1/3 border-4 border-dashed rounded"],null),new X(null,2,5,Z,[OA,new q(null,2,[uo,"file",Cm,function(a){a=H(a.target.files);if(null==a)return null;var b=new FileReader;console.log("Processing...",a);Gh.D(z3,vk,new q(null,1,[El,Uv],null));b.onload=function(c){try{return E3(x3.read(c.target.result)),Gh.D(z3,vk,new q(null,1,[El,Fl],null))}catch(d){if(d instanceof Error)return console.error("Can't import file\n",
d),Gh.D(z3,vk,new q(null,1,[El,yx],null));throw d;}};b.onerror=function(c){console.log(c.target.error);return Gh.D(z3,vk,new q(null,1,[El,yx],null))};return b.readAsText(a)}],null)],null)],null)}
function J3(a){var b=WZ(),c=0===b.length||ic(b.hasOwnProperty(0))?b[0]=SZ.C(!1):b[0];return new X(null,4,5,Z,[Kn,new q(null,2,[Qt,function(){return Fh(c,!0)},Kz,function(){return Fh(c,!1)}],null),new X(null,2,5,Z,[t3,a],null),new X(null,3,5,Z,[tp,new q(null,1,[TC,r(y(c))?"bg-gray-50":null],null),new X(null,3,5,Z,[Iq,new q(null,2,[TC,new X(null,9,5,Z,["h-6 w-6","inline-flex items-center justify-center","bg-gray-200 hover:bg-gray-300","text-gray-600","focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-teal-500",
"transition duration-200 ease-in-out","rounded","cursor-default",r(y(c))?null:"invisible"],null),nw,function(){return HY(new X(null,1,5,Z,[new X(null,2,5,Z,[ko,qp.C(a)],null)],null))}],null),new X(null,2,5,Z,[F3,new q(null,1,[TC,"w-5 h-5"],null)],null)],null)],null)],null)}
function K3(a){return new X(null,3,5,Z,[Mp,new X(null,2,5,Z,[Nt,new X(null,3,5,Z,[hA,new X(null,4,5,Z,[RA,w3.Tooltip,new q(null,2,[Oy,"View database",Em,"small"],null),new X(null,3,5,Z,[Fm,new q(null,3,[XD,"database",TC,"inline-flex items-center px-3 py-2 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",nw,function(){return HY(new X(null,
1,5,Z,[new q(null,5,[lv,t.C(rm()),Np,Vv,UB,"clojure",Xs,!0,Er,function(){var b=new Pb,c=Vb,d=Ub;Vb=!0;Ub=function(e){return b.append(e)};try{fG()}finally{Ub=d,Vb=c}return t.C(b)}()],null)],null))}],null),new X(null,1,5,Z,[H3],null)],null)],null),new X(null,4,5,Z,[RA,w3.Tooltip,new q(null,2,[Oy,"Download document",Em,"small"],null),new X(null,3,5,Z,[Fm,new q(null,3,[XD,"download",TC,new X(null,2,5,Z,[tf(a)?"text-gray-300 pointer-events-none":"text-gray-600","inline-flex items-center px-3 py-2 border hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out"],
null),nw,function(){var b=y(gG);b=QV?QV(b):PV.call(null,b);b=y3.write(b);return v3.saveAs(new Blob([b],{type:"application/transit+json"}),"widgets.json")}],null),new X(null,1,5,Z,[G3],null)],null)],null)],null)],null),function(){var b=y(z3);b=Zg(b);b=B.B(b,El);b=b instanceof D?b.ba:null;switch(b){case "loading":return new X(null,2,5,Z,[OD,new X(null,2,5,Z,[Wx,"Loading..."],null)],null);case "processing":return new X(null,2,5,Z,[OD,new X(null,2,5,Z,[Wx,"Processing..."],null)],null);case "error":return new X(null,
4,5,Z,[OD,new X(null,2,5,Z,[sr,"Oops..."],null),new X(null,2,5,Z,[NB,"Something went wrong"],null),new X(null,3,5,Z,[Fm,new q(null,2,[TC,"inline-flex items-center mt-5 px-3 py-1 border text-gray-600 hover:text-gray-800 rounded-md hover:shadow-md hover:bg-gray-100 hover:border-transparent focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition duration-200 ease-in-out",nw,function(){return window.location.reload(!0)}],null),"Reload"],null)],null);case "ready":return G(a)?
new X(null,2,5,Z,[Lu,function(){return function e(d){return new wg(null,function(){for(;;){var f=G(d);if(f){if(Af(f)){var h=Pd(f),k=K(h),m=Ag(k);a:for(var n=0;;)if(n<k){var p=x(h,n);p=qf(new X(null,2,5,Z,[J3,p],null),new q(null,1,[XD,qp.C(p)],null));m.add(p);n+=1}else{h=!0;break a}return h?Cg(Gg(m),e(Qd(f))):Cg(Gg(m),null)}m=H(f);return Ze(qf(new X(null,2,5,Z,[J3,m],null),new q(null,1,[XD,qp.C(m)],null)),e(ue(f)))}return null}},null,null)}(a)}()],null):new X(null,2,5,Z,[OD,new X(null,1,5,Z,[I3],null)],
null);default:throw Error(["No matching clause: ",t.C(b)].join(""));}}()],null)}function M3(){var a=new X(null,7,5,Z,[yy,new X(null,2,5,Z,[pg(HB,xE,new X(null,2,5,Z,[zp,new q(null,1,[jo,new X(null,1,5,Z,[lC],null)],null)],null)),LA],null),pE,co,Tn,new X(null,2,5,Z,[xE,lv],null),new X(null,1,5,Z,[pg(fp,co,xE,Gs)],null)],null);var b=y(gG);a=hG.B?hG.B(a,b):hG.call(null,a,b);a=Pf(qp,a);a=new X(null,2,5,Z,[K3,a],null);b=document.getElementById("app");return b0(a,b)}var c2;
var ro=new X(null,1,5,Z,["/"],null),pq=vk.I(M([new q(null,1,[qy,function(a,b){N(a,0,null);a=N(a,1,null);var c=Zg(a);a=B.B(c,nx);c=B.B(c,wp);return r(r(a)?c:a)?v1(c,a,b):null}],null),W])),rq=vk.I(M([function(){return new q(null,6,[VB,function(a){N(a,0,null);a=N(a,1,null);a=Zg(a);a=B.B(a,Ht);return r(a)?Jf([a]):null},rt,E1,aB,function(a){return a},qy,function(a){N(a,0,null);a=N(a,1,null);a=Zg(a);return B.B(a,gy)},Nw,k0,mt,function(a){return i0($q,a)}],null)}(),pq])),vo=Zg(rq),Dq=B.B(vo,Tw),Eq=B.B(vo,
mt);try{var No=b1(),Fo=ic(r(Dq)?ic(Eq):Dq)?e1(No,vo):null,Fq=i1(),Lq=l1(),Qq=Ff(rh(W0(vo),Lq)),Rq=qh(W0(vo),Lq),Zq=r(Dq)?Dq:F.B(1,K(Lq))&&!Qq?N1:r(Fo)?P1:Qq?Rq?M1:O1:L1,cr=r(Eq)?f1():Eq;r(cr)&&(Eq.C?Eq.C(cr):Eq.call(null,cr));r(Fq)&&i0(Hx,Fq);var fr=Pq.C(vo);r(fr)&&(fr.B?fr.B(Lq,vo):fr.call(null,Lq,vo));var mr=Q.D(vo,Un,Fo);c2=Zq.B?Zq.B(Lq,mr):Zq.call(null,Lq,mr)}catch(a){if(a instanceof Error){var wr=a,zr=B.D(vo,Nw,Tf);throw zr.C?zr.C(wr):zr.call(null,wr);}throw a;}
function a4(){console.log("Welcome to Literate",r(!1)?"(dev build)":"(release build)");b2(function(a){var b=function(){var c=ji(a,new X(null,2,5,Z,[Gz,qB],null));return r(c)?c:ji(a,new X(null,2,5,Z,[Gz,Hy],null))}();return r(b)?(console.log("Loading...",b),Gh.D(z3,vk,new q(null,1,[El,xv],null)),fetch(b).then(function(c){return r(c.ok)?(console.log("Processing ⌛️"),Gh.D(z3,vk,new q(null,1,[El,Uv],null)),c.text().then(function(d){try{var e=x3.read(d);r(ji(a,new X(null,2,5,Z,[Gz,qB],null)))?E3(e):r(ji(a,
new X(null,2,5,Z,[Gz,Hy],null)))&&HY(e);Gh.D(z3,vk,new q(null,1,[El,Fl],null));return console.log("Done ✅")}catch(f){if(f instanceof Error)return console.error(f),Gh.D(z3,vk,new q(null,1,[El,yx],null));throw f;}})):Gh.D(z3,vk,new q(null,1,[El,yx],null))})):Gh.D(z3,vk,new q(null,1,[El,Fl],null))});JY(function(){return M3()});return M3()}da("literate.app.init",a4);a4();
}).call(this);